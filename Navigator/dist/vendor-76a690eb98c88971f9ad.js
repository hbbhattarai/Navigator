(window.webpackJsonp=window.webpackJsonp||[]).push([["vendor"],[function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";e.exports=n(69)},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(125)()},function(e,t,n){var i=n(74);e.exports=function(e,t){if(null==e)return{};var n,r,o=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(42);e.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=function(){};e.exports=i},function(e,t,n){"use strict";n.r(t);var i=n(45),r=n.n(i);n.d(t,"componentPropType",(function(){return r.a}));var o=n(47),a=n.n(o);n.d(t,"chainPropTypes",(function(){return a.a}));var s=n(48),l=n.n(s);n.d(t,"exactProp",(function(){return l.a}));var c=n(49),u=n.n(c);n.d(t,"getDisplayName",(function(){return u.a}));var h=n(50),d=n.n(h);n.d(t,"ponyfillGlobal",(function(){return d.a}))},function(e,t,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)){if(i.length){var a=r.apply(null,i);a&&e.push(a)}}else if("object"===o){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){e.push(i.toString());continue}for(var s in i)n.call(i,s)&&i[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.sheetsManager=void 0;var r=i(n(5)),o=i(n(2)),a=i(n(10)),s=i(n(11)),l=i(n(12)),c=i(n(13)),u=i(n(14)),h=i(n(4)),d=i(n(1)),p=i(n(3)),f=(i(n(6)),i(n(35))),m=n(7),g=n(52),y=i(n(129)),_=i(n(51)),v=i(n(130)),x=i(n(131)),b=i(n(29)),w=i(n(34)),T=i(n(41)),E=i(n(132)),S=i(n(133)),M=(0,g.create)((0,_.default)()),I=(0,T.default)(),C=-1e11,k=new Map;t.sheetsManager=k;var A={},P=(0,b.default)({typography:{suppressWarning:!0}});m.ponyfillGlobal.__MUI_STYLES__||(m.ponyfillGlobal.__MUI_STYLES__={}),m.ponyfillGlobal.__MUI_STYLES__.withStyles||(m.ponyfillGlobal.__MUI_STYLES__.withStyles=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var i,m=t.withTheme,g=void 0!==m&&m,_=t.flip,b=void 0===_?null:_,T=t.name,z=(0,h.default)(t,["withTheme","flip","name"]),D=(0,E.default)(e),L=D.themingEnabled||"string"==typeof T||g;C+=1,D.options.index=C;var O=function(e){function t(e,n){var i;(0,a.default)(this,t),(i=(0,l.default)(this,(0,c.default)(t).call(this,e,n))).jss=n[y.default.jss]||M,i.sheetsManager=k,i.unsubscribeId=null;var r=n.muiThemeProviderOptions;return r&&(r.sheetsManager&&(i.sheetsManager=r.sheetsManager),i.sheetsCache=r.sheetsCache,i.disableStylesGeneration=r.disableStylesGeneration),i.stylesCreatorSaved=D,i.sheetOptions=(0,o.default)({generateClassName:I},n[y.default.sheetOptions]),i.theme=L?w.default.initial(n)||P:A,i.attach(i.theme),i.cacheClasses={value:null,lastProp:null,lastJSS:{}},i}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;L&&(this.unsubscribeId=w.default.subscribe(this.context,(function(t){var n=e.theme;e.theme=t,e.attach(e.theme),e.setState({},(function(){e.detach(n)}))})))}},{key:"componentDidUpdate",value:function(){this.stylesCreatorSaved}},{key:"componentWillUnmount",value:function(){this.detach(this.theme),null!==this.unsubscribeId&&w.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"getClasses",value:function(){if(this.disableStylesGeneration)return this.props.classes||{};var e=!1,t=x.default.get(this.sheetsManager,this.stylesCreatorSaved,this.theme);return t.sheet.classes!==this.cacheClasses.lastJSS&&(this.cacheClasses.lastJSS=t.sheet.classes,e=!0),this.props.classes!==this.cacheClasses.lastProp&&(this.cacheClasses.lastProp=this.props.classes,e=!0),e&&(this.cacheClasses.value=(0,v.default)({baseClasses:this.cacheClasses.lastJSS,newClasses:this.props.classes,Component:n})),this.cacheClasses.value}},{key:"attach",value:function(e){if(!this.disableStylesGeneration){var t=this.stylesCreatorSaved,n=x.default.get(this.sheetsManager,t,e);if(n||(n={refs:0,sheet:null},x.default.set(this.sheetsManager,t,e,n)),0===n.refs){var i;this.sheetsCache&&(i=x.default.get(this.sheetsCache,t,e)),i||((i=this.createSheet(e)).attach(),this.sheetsCache&&x.default.set(this.sheetsCache,t,e,i)),n.sheet=i;var r=this.context[y.default.sheetsRegistry];r&&r.add(i)}n.refs+=1}}},{key:"createSheet",value:function(e){var t=this.stylesCreatorSaved.create(e,T),i=T;return this.jss.createStyleSheet(t,(0,o.default)({meta:i,classNamePrefix:i,flip:"boolean"==typeof b?b:"rtl"===e.direction,link:!1},this.sheetOptions,this.stylesCreatorSaved.options,{name:T||n.displayName},z))}},{key:"detach",value:function(e){if(!this.disableStylesGeneration){var t=x.default.get(this.sheetsManager,this.stylesCreatorSaved,e);if(t.refs-=1,0===t.refs){x.default.delete(this.sheetsManager,this.stylesCreatorSaved,e),this.jss.removeStyleSheet(t.sheet);var n=this.context[y.default.sheetsRegistry];n&&n.remove(t.sheet)}}}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.innerRef),i=(0,h.default)(e,["classes","innerRef"]),r=(0,S.default)({theme:this.theme,name:T,props:i});return g&&!r.theme&&(r.theme=this.theme),d.default.createElement(n,(0,o.default)({},r,{classes:this.getClasses(),ref:t}))}}]),t}(d.default.Component);return O.contextTypes=(0,o.default)((i={muiThemeProviderOptions:p.default.object},(0,r.default)(i,y.default.jss,p.default.object),(0,r.default)(i,y.default.sheetOptions,p.default.object),(0,r.default)(i,y.default.sheetsRegistry,p.default.object),i),L?w.default.contextTypes:{}),(0,f.default)(O,n),O}});t.default=function(e,t){return m.ponyfillGlobal.__MUI_STYLES__.withStyles(e,(0,o.default)({defaultTheme:P},t))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(42);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(15).default,r=n(33);e.exports=function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(58);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.capitalize=function(e){0;return e.charAt(0).toUpperCase()+e.slice(1)},t.contains=o,t.findIndex=a,t.find=function(e,t){var n=a(e,t);return n>-1?e[n]:void 0},t.createChainedFunction=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}}),(function(){}))};var r=i(n(15));i(n(6));function o(e,t){return Object.keys(t).every((function(n){return e.hasOwnProperty(n)&&e[n]===t[n]}))}function a(e,t){for(var n=(0,r.default)(t),i=0;i<e.length;i+=1){if("function"===n&&!0==!!t(e[i],i,e))return i;if("object"===n&&o(e[i],t))return i;if(-1!==["string","number","boolean"].indexOf(n))return e.indexOf(t)}return-1}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=c(n(17)),s=c(n(30)),l=c(n(23));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="style",this.isProcessed=!1;var r=i.sheet,o=i.Renderer,a=i.selector;this.key=t,this.options=i,this.style=n,a&&(this.selectorText=a),this.renderer=r?r.renderer:new o}return o(e,[{key:"prop",value:function(e,t){if(void 0===t)return this.style[e];if(this.style[e]===t)return this;var n=null==(t=this.options.jss.plugins.onChangeValue(t,e,this))||!1===t,i=e in this.style;if(n&&!i)return this;var r=n&&i;if(r?delete this.style[e]:this.style[e]=t,this.renderable)return r?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,t),this;var o=this.options.sheet;return o&&o.attached&&(0,a.default)(!1,'Rule is not linked. Missing sheet option "link: true".'),this}},{key:"applyTo",value:function(e){var t=this.toJSON();for(var n in t)this.renderer.setProperty(e,n,t[n]);return this}},{key:"toJSON",value:function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==(void 0===n?"undefined":r(n))?e[t]=n:Array.isArray(n)&&(e[t]=(0,l.default)(n))}return e}},{key:"toString",value:function(e){var t=this.options.sheet,n=!!t&&t.options.link?i({},e,{allowEmpty:!0}):e;return(0,s.default)(this.selector,this.style,n)}},{key:"selector",set:function(e){if(e!==this.selectorText&&(this.selectorText=e,this.renderable&&!this.renderer.setSelector(this.renderable,e)&&this.renderable)){var t=this.renderer.replaceRule(this.renderable,this);t&&(this.renderable=t)}},get:function(){return this.selectorText}}]),e}();t.default=u},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(70)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n(24)),a=c(n(55)),s=c(n(18)),l=c(n(97));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map={},this.raw={},this.index=[],this.update=function(e,t){var i=n.options,r=i.jss.plugins,o=i.sheet;if("string"==typeof e)r.onUpdate(t,n.get(e),o);else for(var a=0;a<n.index.length;a++)r.onUpdate(e,n.index[a],o)},this.options=t,this.classes=t.classes}return r(e,[{key:"add",value:function(e,t,n){var r=this.options,a=r.parent,c=r.sheet,u=r.jss,h=r.Renderer,d=r.generateClassName;!(n=i({classes:this.classes,parent:a,sheet:c,jss:u,Renderer:h,generateClassName:d},n)).selector&&this.classes[e]&&(n.selector="."+(0,l.default)(this.classes[e])),this.raw[e]=t;var p=(0,o.default)(e,t,n),f=void 0;!n.selector&&p instanceof s.default&&(f=d(p,c),p.selector="."+(0,l.default)(f)),this.register(p,f);var m=void 0===n.index?this.index.length:n.index;return this.index.splice(m,0,p),p}},{key:"get",value:function(e){return this.map[e]}},{key:"remove",value:function(e){this.unregister(e),this.index.splice(this.indexOf(e),1)}},{key:"indexOf",value:function(e){return this.index.indexOf(e)}},{key:"process",value:function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)}},{key:"register",value:function(e,t){this.map[e.key]=e,e instanceof s.default&&(this.map[e.selector]=e,t&&(this.classes[e.key]=t))}},{key:"unregister",value:function(e){delete this.map[e.key],e instanceof s.default&&(delete this.map[e.selector],delete this.classes[e.key])}},{key:"link",value:function(e){for(var t=this.options.sheet.renderer.getUnescapedKeysMap(this.index),n=0;n<e.length;n++){var i=e[n],r=this.options.sheet.renderer.getKey(i);t[r]&&(r=t[r]);var o=this.map[r];o&&(0,a.default)(o,i)}}},{key:"toString",value:function(e){for(var t="",n=this.options.sheet,i=!!n&&n.options.link,r=0;r<this.index.length;r++){var o=this.index[r].toString(e);(o||i)&&(t&&(t+="\n"),t+=o)}return t}}]),e}();t.default=u},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createGenerateClassName",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"createMuiTheme",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"jssPreset",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"MuiThemeProvider",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"createStyles",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"withStyles",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"withTheme",{enumerable:!0,get:function(){return u.default}});var r=i(n(41)),o=i(n(29)),a=i(n(51)),s=i(n(123)),l=i(n(128)),c=i(n(9)),u=i(n(134))},function(e,t,n){!function(t,n){e.exports=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)};var t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function i(e,t,i){return e.concat(t).map((function(e){return n(e,i)}))}function r(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function o(e,t,i){var o={};return i.isMergeableObject(e)&&r(e).forEach((function(t){o[t]=n(e[t],i)})),r(t).forEach((function(r){i.isMergeableObject(t[r])&&e[r]?o[r]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(r,i)(e[r],t[r],i):o[r]=n(t[r],i)})),o}function a(t,r,a){(a=a||{}).arrayMerge=a.arrayMerge||i,a.isMergeableObject=a.isMergeableObject||e;var s=Array.isArray(r);return s===Array.isArray(t)?s?a.arrayMerge(t,r,a):o(t,r,a):n(r,a)}return a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})},a}()}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=i(e[r]," ");else n=i(e,", ");t||"!important"!==e[e.length-1]||(n+=" !important");return n};var i=function(e,t){for(var n="",i=0;i<e.length&&"!important"!==e[i];i++)n&&(n+=t),n+=e[i];return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unnamed",t=arguments[1],n=arguments[2],a=n.jss,s=(0,o.default)(t),l=a.plugins.onCreateRule(e,s,n);if(l)return l;"@"===e[0]&&(0,i.default)(!1,"[JSS] Unknown at-rule %s",e);return new r.default(e,s,n)};var i=a(n(17)),r=a(n(18)),o=a(n(94));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"isBrowser",(function(){return r}));var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document))&&9===document.nodeType;t.default=r},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(137))},,function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n(5));var r=i(n(2)),o=i(n(4)),a=i(n(22)),s=i(n(75)),l=(i(n(6)),i(n(77))),c=i(n(78)),u=i(n(79)),h=i(n(84)),d=i(n(86)),p=i(n(87)),f=i(n(88)),m=i(n(89)),g=i(n(90));var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,i=e.mixins,y=void 0===i?{}:i,_=e.palette,v=void 0===_?{}:_,x=e.shadows,b=e.spacing,w=void 0===b?{}:b,T=e.typography,E=void 0===T?{}:T,S=(0,o.default)(e,["breakpoints","mixins","palette","shadows","spacing","typography"]),M=(0,u.default)(v),I=(0,l.default)(n),C=(0,r.default)({},f.default,w),k=(0,r.default)({breakpoints:I,direction:"ltr",mixins:(0,c.default)(I,C,y),overrides:{},palette:M,props:{},shadows:x||d.default,typography:(0,h.default)(M,E)},(0,a.default)({shape:p.default,spacing:C,transitions:m.default,zIndex:g.default},S,{isMergeableObject:s.default}));return k};t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="";if(!t)return o;var a=n.indent,s=void 0===a?0:a,l=t.fallbacks;if(s++,l)if(Array.isArray(l))for(var c=0;c<l.length;c++){var u=l[c];for(var h in u){var d=u[h];null!=d&&(o+="\n"+r(h+": "+(0,i.default)(d)+";",s))}}else for(var p in l){var f=l[p];null!=f&&(o+="\n"+r(p+": "+(0,i.default)(f)+";",s))}for(var m in t){var g=t[m];null!=g&&"fallbacks"!==m&&(o+="\n"+r(m+": "+(0,i.default)(g)+";",s))}return o||n.allowEmpty?(s--,o=r(e+" {"+o+"\n",s)+r("}",s)):o};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(23));function r(e,t){for(var n="",i=0;i<t;i++)n+="  ";return n+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(53));t.default=new i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="",r="";if(function(e){return e&&e.__esModule?e:{default:e}}(n(26)).default){var o={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},a=document.createElement("p").style;for(var s in o)if(s+"Transform"in a){i=s,r=o[s];break}}t.default={js:i,css:r}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CHANNEL=void 0;var r=i(n(5)),o="__THEMING__";t.CHANNEL=o;var a={contextTypes:(0,r.default)({},o,(function(){})),initial:function(e){return e[o]?e[o].getState():null},subscribe:function(e,t){return e[o]?e[o].subscribe(t):null},unsubscribe:function(e,t){e[o]&&e[o].unsubscribe(t)}};t.default=a},function(e,t,n){"use strict";var i=n(46),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(f){var r=p(n);r&&r!==f&&e(t,r,i)}var a=u(n);h&&(a=a.concat(h(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!(o[y]||i&&i[y]||m&&m[y]||s&&s[y])){var _=d(n,y);try{c(t,y,_)}catch(e){}}}}return t}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(145))},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(i),o=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[n].concat(o).concat([r]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var i={},r=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),o=function(e,t){return t?t.querySelector(e):document.querySelector(e)},a=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var i=o.call(this,e,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),s=null,l=0,c=[],u=n(150);function h(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(y(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function p(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(e.insertAt.before,n);n.insertBefore(t,r)}}function f(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return n.nc}();i&&(e.attrs.nonce=i)}return g(t,e.attrs),p(e,t),t}function g(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var a=l++;n=s||(s=m(t)),i=v.bind(null,n,a,!1),r=v.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),p(e,t),t}(t),i=b.bind(null,n,t),r=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),i=x.bind(null,n),r=function(){f(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return h(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}e&&h(d(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function v(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function x(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function b(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=u(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){return o.default.createElement(s.default.Consumer,null,(function(n){return o.default.createElement(e,(0,r.default)({muiFormControl:n},t))}))};0;return(0,a.default)(t,e),t};var r=i(n(2)),o=i(n(1)),a=i(n(35)),s=i(n(59));n(7)},function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))r.call(n,u)&&(l[u]=n[u]);if(i){s=i(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dangerouslyUseGlobalCSS,n=void 0!==t&&t,i=e.productionPrefix,r=void 0===i?"jss":i,a=e.seed,s=void 0===a?"":a,l=0;return function(e,t){return l+=1,n&&t&&t.options.name?"".concat(o(t.options.name),"-").concat(e.key):"".concat(r).concat(s).concat(l)}};i(n(6));var r=/([[\].#*$><+~=|^:(),"'`\s])/g;function o(e){return String(e).replace(r,"-")}},function(e,t,n){var i=n(15).default,r=n(73);e.exports=function(e){var t=r(e,"string");return"symbol"===i(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.convertHexToRGB=o,t.rgbToHex=function(e){if(0===e.indexOf("#"))return e;var t=a(e).values;return t=t.map((function(e){return function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t}(e)})),"#".concat(t.join(""))},t.decomposeColor=a,t.recomposeColor=s,t.getContrastRatio=function(e,t){var n=l(e),i=l(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},t.getLuminance=l,t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?c(e,t):u(e,t)},t.fade=function(e,t){if(!e)return e;e=a(e),t=r(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a");return e.values[3]=t,s(e)},t.darken=c,t.lighten=u;i(n(6));function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<t?t:e>n?n:e}function o(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb(".concat(n.map((function(e){return parseInt(e,16)})).join(", "),")"):""}function a(e){if("#"===e.charAt(0))return a(o(e));var t=e.indexOf("("),n=e.substring(0,t),i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function s(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")&&(n=n.map((function(e,t){return t<3?parseInt(e,10):e}))),-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e.type,"(").concat(n.join(", "),")")}function l(e){var t=a(e);if(-1!==t.type.indexOf("rgb")){var n=t.values.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}return t.values[2]/100}function c(e,t){if(!e)return e;if(e=a(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return s(e)}function u(e,t){if(!e)return e;if(e=a(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return s(e)}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n(15)),n(46);function r(e){return function(){return null}}var o=r();o.isRequired=r();var a=o;t.default=a},function(e,t,n){"use strict";e.exports=n(85)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){return function(){return null}};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.specialProperty=void 0;i(n(5)),i(n(2));t.specialProperty="exact-prop: â€‹";var r=function(e){return e};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=r,t.default=void 0;var i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function r(e){var t="".concat(e).match(i);return t&&t[1]||""}var o=function(e){return"string"==typeof e?e:e?e.displayName||e.name||r(e)||"Component":void 0};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(91)),o=i(n(111)),a=i(n(113)),s=i(n(115)),l=i(n(117)),c=i(n(122));var u=function(){return{plugins:[(0,r.default)(),(0,o.default)(),(0,a.default)(),(0,s.default)(),"undefined"==typeof window?null:(0,l.default)(),(0,c.default)()]}};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.createGenerateClassName=t.sheets=t.RuleList=t.SheetsManager=t.SheetsRegistry=t.toCssValue=t.getDynamicStyles=void 0;var i=n(92);Object.defineProperty(t,"getDynamicStyles",{enumerable:!0,get:function(){return h(i).default}});var r=n(23);Object.defineProperty(t,"toCssValue",{enumerable:!0,get:function(){return h(r).default}});var o=n(53);Object.defineProperty(t,"SheetsRegistry",{enumerable:!0,get:function(){return h(o).default}});var a=n(93);Object.defineProperty(t,"SheetsManager",{enumerable:!0,get:function(){return h(a).default}});var s=n(20);Object.defineProperty(t,"RuleList",{enumerable:!0,get:function(){return h(s).default}});var l=n(31);Object.defineProperty(t,"sheets",{enumerable:!0,get:function(){return h(l).default}});var c=n(56);Object.defineProperty(t,"createGenerateClassName",{enumerable:!0,get:function(){return h(c).default}});var u=h(n(99));function h(e){return e&&e.__esModule?e:{default:e}}var d=t.create=function(e){return new u.default(e)};t.default=d()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.registry=[]}return i(e,[{key:"add",value:function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var i=0;i<t.length;i++)if(t[i].options.index>n)return void t.splice(i,0,e)}},{key:"reset",value:function(){this.registry=[]}},{key:"remove",value:function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)}},{key:"toString",value:function(e){return this.registry.filter((function(e){return e.attached})).map((function(t){return t.toString(e)})).join("\n")}},{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(95));t.default=function(e){return e&&e[i.default]&&e===e[i.default]()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.renderable=t,e.rules&&t.cssRules&&e.rules.link(t.cssRules)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(17)),r=(o(n(57)),o(n(98)));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=0;return function(t,n){(e+=1)>1e10&&(0,i.default)(!1,"[JSS] You might have a memory leak. Rule counter is at %s.",e);var o="c",a="";return n&&(o=n.options.classNamePrefix||"c",null!=n.options.jss.id&&(a+=n.options.jss.id)),""+o+r.default+a+e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n(55)),a=s(n(20));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n){var r=this;for(var o in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update=function(e,t){return"string"==typeof e?r.rules.update(e,t):r.rules.update(e),r},this.attached=!1,this.deployed=!1,this.linked=!1,this.classes={},this.options=i({},n,{sheet:this,parent:this,classes:this.classes}),this.renderer=new n.Renderer(this),this.rules=new a.default(this.options),t)this.rules.add(o,t[o]);this.rules.process()}return r(e,[{key:"attach",value:function(){return this.attached||(this.deployed||this.deploy(),this.renderer.attach(),!this.linked&&this.options.link&&this.link(),this.attached=!0),this}},{key:"detach",value:function(){return this.attached?(this.renderer.detach(),this.attached=!1,this):this}},{key:"addRule",value:function(e,t,n){var i=this.queue;this.attached&&!i&&(this.queue=[]);var r=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(i?i.push(r):(this.insertRule(r),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),r):r:(this.deployed=!1,r)}},{key:"insertRule",value:function(e){var t=this.renderer.insertRule(e);t&&this.options.link&&(0,o.default)(e,t)}},{key:"addRules",value:function(e,t){var n=[];for(var i in e)n.push(this.addRule(i,e[i],t));return n}},{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"deleteRule",value:function(e){var t=this.rules.get(e);return!!t&&(this.rules.remove(t),!this.attached||!t.renderable||this.renderer.deleteRule(t.renderable))}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"deploy",value:function(){return this.renderer.deploy(),this.deployed=!0,this}},{key:"link",value:function(){var e=this.renderer.getRules();return e&&this.rules.link(e),this.linked=!0,this}},{key:"toString",value:function(e){return this.rules.toString(e)}}]),e}();t.default=l},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,i)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)).default.createContext();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){return e&&e.ownerDocument||document};t.default=i},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function i(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function r(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=i,t.componentWillReceiveProps=r),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,i)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),i.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(176)),o=i(n(180)),a=(i(n(64)),i(n(65)),function(e){return(0,r.default)((function(e,t){return!(0,o.default)(e,t)}))(e)});t.default=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(178)),o=function(e){return(0,r.default)("displayName",e)};t.default=o},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(179)),o=function(e,t){return t+"("+(0,r.default)(e)+")"};t.default=o},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(182))},function(e,t,n){"use strict";function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return i}))},,function(e,t,n){"use strict";var i=n(40),r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||_}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||_}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var T=w.prototype=new b;T.constructor=w,i(T,x.prototype),T.isPureReactComponent=!0;var E={current:null},S=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var i,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!M.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:E.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g,A=[];function P(e,t,n,i){if(A.length){var r=A.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function z(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function D(e,t,n){return null==e?0:function e(t,n,i,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return i(r,t,""===n?"."+L(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+L(s=t[c],c);l+=e(s,u,i,r)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+L(s,c++),i,r);else if("object"===s)throw i=""+t,Error(y(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return l}(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function O(e,t){e.func.call(e.context,t,e.count++)}function R(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,i,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+n)),i.push(e))}function B(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(k,"$&/")+"/"),D(e,R,t=P(t,o,i,r)),z(t)}var j={current:null};function F(){var e=j.current;if(null===e)throw Error(y(321));return e}var N={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:function(e,t,n){if(null==e)return e;var i=[];return B(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;D(e,O,t=P(null,null,t,n)),z(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(y(143));return e}},t.Component=x,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null==e)throw Error(y(267,e));var r=i({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)S.call(t,u)&&!M.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return F().useCallback(e,t)},t.useContext=function(e,t){return F().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return F().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return F().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return F().useLayoutEffect(e,t)},t.useMemo=function(e,t){return F().useMemo(e,t)},t.useReducer=function(e,t,n){return F().useReducer(e,t,n)},t.useRef=function(e){return F().useRef(e)},t.useState=function(e){return F().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";var i=n(1),r=n(40),o=n(71);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));function s(e,t,n,i,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var l=!1,c=null,u=!1,h=null,d={onError:function(e){l=!0,c=e}};function p(e,t,n,i,r,o,a,u,h){l=!1,c=null,s.apply(d,arguments)}var f=null,m=null,g=null;function y(e,t,n){var i=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,i,r,o,s,d,f){if(p.apply(this,arguments),l){if(!l)throw Error(a(198));var m=c;l=!1,c=null,u||(u=!0,h=m)}}(i,t,void 0,e),e.currentTarget=null}var _=null,v={};function x(){if(_)for(var e in v){var t=v[e],n=_.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!w[n]){if(!t.extractEvents)throw Error(a(97,e));for(var i in w[n]=t,n=t.eventTypes){var r=void 0,o=n[i],s=t,l=i;if(T.hasOwnProperty(l))throw Error(a(99,l));T[l]=o;var c=o.phasedRegistrationNames;if(c){for(r in c)c.hasOwnProperty(r)&&b(c[r],s,l);r=!0}else o.registrationName?(b(o.registrationName,s,l),r=!0):r=!1;if(!r)throw Error(a(98,i,e))}}}}function b(e,t,n){if(E[e])throw Error(a(100,e));E[e]=t,S[e]=t.eventTypes[n].dependencies}var w=[],T={},E={},S={};function M(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!v.hasOwnProperty(t)||v[t]!==i){if(v[t])throw Error(a(102,t));v[t]=i,n=!0}}n&&x()}var I=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),C=null,k=null,A=null;function P(e){if(e=m(e)){if("function"!=typeof C)throw Error(a(280));var t=e.stateNode;t&&(t=f(t),C(e.stateNode,e.type,t))}}function z(e){k?A?A.push(e):A=[e]:k=e}function D(){if(k){var e=k,t=A;if(A=k=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function L(e,t){return e(t)}function O(e,t,n,i,r){return e(t,n,i,r)}function R(){}var B=L,j=!1,F=!1;function N(){null===k&&null===A||(R(),D())}function U(e,t,n){if(F)return e(t,n);F=!0;try{return B(e,t,n)}finally{F=!1,N()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,Z={},W={};function q(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){$[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];$[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){$[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){$[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){$[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){$[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){$[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){$[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){$[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var H=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(H,X);$[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(H,X);$[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(H,X);$[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){$[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),$.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){$[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var Y=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(e,t,n,i){var r=$.hasOwnProperty(t)?$[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!G.call(W,e)||!G.call(Z,e)&&(V.test(e)?W[e]=!0:(Z[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,K="function"==typeof Symbol&&Symbol.for,ee=K?Symbol.for("react.element"):60103,te=K?Symbol.for("react.portal"):60106,ne=K?Symbol.for("react.fragment"):60107,ie=K?Symbol.for("react.strict_mode"):60108,re=K?Symbol.for("react.profiler"):60114,oe=K?Symbol.for("react.provider"):60109,ae=K?Symbol.for("react.context"):60110,se=K?Symbol.for("react.concurrent_mode"):60111,le=K?Symbol.for("react.forward_ref"):60112,ce=K?Symbol.for("react.suspense"):60113,ue=K?Symbol.for("react.suspense_list"):60120,he=K?Symbol.for("react.memo"):60115,de=K?Symbol.for("react.lazy"):60116,pe=K?Symbol.for("react.block"):60121,fe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case re:return"Profiler";case ie:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return ge(e.type);case pe:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=ge(e.type);n=null,i&&(n=ge(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(Q,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}function _e(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xe(e){e._valueTracker||(e._valueTracker=function(e){var t=ve(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function be(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ve(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Te(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=_e(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ee(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function Se(e,t){Ee(e,t);var n=_e(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ie(e,t.type,_e(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Me(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ie(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ke(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+_e(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:_e(n)}}function ze(e,t){var n=_e(t.value),i=_e(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Le="http://www.w3.org/1999/xhtml",Oe="http://www.w3.org/2000/svg";function Re(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Be(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Re(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var je,Fe=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Oe||"innerHTML"in e)e.innerHTML=t;else{for((je=je||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=je.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ne(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},Ge={},Ze={};function We(e){if(Ge[e])return Ge[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ze)return Ge[e]=n[t];return e}I&&(Ze=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var qe=We("animationend"),$e=We("animationiteration"),He=We("animationstart"),Xe=We("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"==typeof WeakMap?WeakMap:Map);function Qe(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ke(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return tt(r),e;if(o===i)return tt(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function rt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)y(e,t[i],n[i]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(rt(e,at),ot)throw Error(a(95));if(u)throw e=h,u=!1,h=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!I)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ut=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function dt(e,t,n,i){if(ut.length){var r=ut.pop();return r.topLevelType=e,r.eventSystemFlags=i,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,eventSystemFlags:i,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=In(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=lt(e.nativeEvent);i=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<w.length;l++){var c=w[l];c&&(c=c.extractEvents(i,t,o,r,a))&&(s=it(s,c))}st(s)}}function ft(e,t,n){if(!n.has(e)){switch(e){case"scroll":Ht(t,"scroll",!0);break;case"focus":case"blur":Ht(t,"focus",!0),Ht(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Ht(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&$t(e,t)}n.set(e,null)}}var mt,gt,yt,_t=!1,vt=[],xt=null,bt=null,wt=null,Tt=new Map,Et=new Map,St=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),It="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ct(e,t,n,i,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r,container:i}}function kt(e,t){switch(e){case"focus":case"blur":xt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function At(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e=Ct(t,n,i,r,o),null!==t&&(null!==(t=Cn(t))&&gt(t)),e):(e.eventSystemFlags|=i,e)}function Pt(e){var t=In(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Cn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){zt(e)&&n.delete(t)}function Lt(){for(_t=!1;0<vt.length;){var e=vt[0];if(null!==e.blockedOn){null!==(e=Cn(e.blockedOn))&&mt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:vt.shift()}null!==xt&&zt(xt)&&(xt=null),null!==bt&&zt(bt)&&(bt=null),null!==wt&&zt(wt)&&(wt=null),Tt.forEach(Dt),Et.forEach(Dt)}function Ot(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Lt)))}function Rt(e){function t(t){return Ot(t,e)}if(0<vt.length){Ot(vt[0],e);for(var n=1;n<vt.length;n++){var i=vt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==xt&&Ot(xt,e),null!==bt&&Ot(bt,e),null!==wt&&Ot(wt,e),Tt.forEach(t),Et.forEach(t),n=0;n<St.length;n++)(i=St[n]).blockedOn===e&&(i.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)Pt(n),null===n.blockedOn&&St.shift()}var Bt={},jt=new Map,Ft=new Map,Nt=["abort","abort",qe,"animationEnd",$e,"animationIteration",He,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[i],eventPriority:t},Ft.set(i,t),jt.set(i,o),Bt[r]=o}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(Nt,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Gt=0;Gt<Vt.length;Gt++)Ft.set(Vt[Gt],0);var Zt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,qt=!0;function $t(e,t){Ht(t,e,!1)}function Ht(e,t,n){var i=Ft.get(t);switch(void 0===i?2:i){case 0:i=Xt.bind(null,t,1,e);break;case 1:i=Yt.bind(null,t,1,e);break;default:i=Jt.bind(null,t,1,e)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function Xt(e,t,n,i){j||R();var r=Jt,o=j;j=!0;try{O(r,e,t,n,i)}finally{(j=o)||N()}}function Yt(e,t,n,i){Wt(Zt,Jt.bind(null,e,t,n,i))}function Jt(e,t,n,i){if(qt)if(0<vt.length&&-1<Mt.indexOf(e))e=Ct(null,e,t,n,i),vt.push(e);else{var r=Qt(e,t,n,i);if(null===r)kt(e,i);else if(-1<Mt.indexOf(e))e=Ct(r,e,t,n,i),vt.push(e);else if(!function(e,t,n,i,r){switch(t){case"focus":return xt=At(xt,e,t,n,i,r),!0;case"dragenter":return bt=At(bt,e,t,n,i,r),!0;case"mouseover":return wt=At(wt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Tt.set(o,At(Tt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Et.set(o,At(Et.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i)){kt(e,i),e=dt(e,i,null,t);try{U(pt,e)}finally{ht(e)}}}}function Qt(e,t,n,i){if(null!==(n=In(n=lt(i)))){var r=Ke(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=et(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}e=dt(e,i,n,t);try{U(pt,e)}finally{ht(e)}return null}var Kt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Kt.hasOwnProperty(e)&&Kt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=tn(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(Kt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kt[t]=Kt[e]}))}));var rn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Le;function ln(e,t){var n=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var i=0;i<t.length;i++)ft(t[i],e,n)}function cn(){}function un(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,i=hn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=hn(i)}}function pn(){for(var e=window,t=un();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=un((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,gn=null;function yn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _n(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vn="function"==typeof setTimeout?setTimeout:void 0,xn="function"==typeof clearTimeout?clearTimeout:void 0;function bn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function wn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),En="__reactInternalInstance$"+Tn,Sn="__reactEventHandlers$"+Tn,Mn="__reactContainere$"+Tn;function In(e){var t=e[En];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mn]||n[En]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wn(e);null!==e;){if(n=e[En])return n;e=wn(e)}return t}n=(e=n).parentNode}return null}function Cn(e){return!(e=e[En]||e[Mn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function kn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function An(e){return e[Sn]||null}function Pn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function zn(e,t){var n=e.stateNode;if(!n)return null;var i=f(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Dn(e,t,n){(t=zn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Ln(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Pn(t);for(t=n.length;0<t--;)Dn(n[t],"captured",e);for(t=0;t<n.length;t++)Dn(n[t],"bubbled",e)}}function On(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=zn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Rn(e){e&&e.dispatchConfig.registrationName&&On(e._targetInst,null,e)}function Bn(e){rt(e,Ln)}var jn=null,Fn=null,Nn=null;function Un(){if(Nn)return Nn;var e,t,n=Fn,i=n.length,r="value"in jn?jn.value:jn.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return Nn=r.slice(e,1<t?1-t:void 0)}function Vn(){return!0}function Gn(){return!1}function Zn(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vn:Gn,this.isPropagationStopped=Gn,this}function Wn(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function qn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Wn,e.release=qn}r(Zn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){this.isPersistent=Vn},isPersistent:Gn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Gn,this._dispatchInstances=this._dispatchListeners=null}}),Zn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Zn.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,$n(n),n},$n(Zn);var Hn=Zn.extend({data:null}),Xn=Zn.extend({data:null}),Yn=[9,13,27,32],Jn=I&&"CompositionEvent"in window,Qn=null;I&&"documentMode"in document&&(Qn=document.documentMode);var Kn=I&&"TextEvent"in window&&!Qn,ei=I&&(!Jn||Qn&&8<Qn&&11>=Qn),ti=String.fromCharCode(32),ni={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ii=!1;function ri(e,t){switch(e){case"keyup":return-1!==Yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function oi(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ai=!1;var si={eventTypes:ni,extractEvents:function(e,t,n,i){var r;if(Jn)e:{switch(e){case"compositionstart":var o=ni.compositionStart;break e;case"compositionend":o=ni.compositionEnd;break e;case"compositionupdate":o=ni.compositionUpdate;break e}o=void 0}else ai?ri(e,n)&&(o=ni.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ni.compositionStart);return o?(ei&&"ko"!==n.locale&&(ai||o!==ni.compositionStart?o===ni.compositionEnd&&ai&&(r=Un()):(Fn="value"in(jn=i)?jn.value:jn.textContent,ai=!0)),o=Hn.getPooled(o,t,n,i),r?o.data=r:null!==(r=oi(n))&&(o.data=r),Bn(o),r=o):r=null,(e=Kn?function(e,t){switch(e){case"compositionend":return oi(t);case"keypress":return 32!==t.which?null:(ii=!0,ti);case"textInput":return(e=t.data)===ti&&ii?null:e;default:return null}}(e,n):function(e,t){if(ai)return"compositionend"===e||!Jn&&ri(e,t)?(e=Un(),Nn=Fn=jn=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ei&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Xn.getPooled(ni.beforeInput,t,n,i)).data=e,Bn(t)):t=null,null===r?t:null===t?r:[r,t]}},li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ci(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!li[e.type]:"textarea"===t}var ui={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hi(e,t,n){return(e=Zn.getPooled(ui.change,e,t,n)).type="change",z(n),Bn(e),e}var di=null,pi=null;function fi(e){st(e)}function mi(e){if(be(kn(e)))return e}function gi(e,t){if("change"===e)return t}var yi=!1;function _i(){di&&(di.detachEvent("onpropertychange",vi),pi=di=null)}function vi(e){if("value"===e.propertyName&&mi(pi))if(e=hi(pi,e,lt(e)),j)st(e);else{j=!0;try{L(fi,e)}finally{j=!1,N()}}}function xi(e,t,n){"focus"===e?(_i(),pi=n,(di=t).attachEvent("onpropertychange",vi)):"blur"===e&&_i()}function bi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mi(pi)}function wi(e,t){if("click"===e)return mi(t)}function Ti(e,t){if("input"===e||"change"===e)return mi(t)}I&&(yi=ct("input")&&(!document.documentMode||9<document.documentMode));var Ei={eventTypes:ui,_isInputEventSupported:yi,extractEvents:function(e,t,n,i){var r=t?kn(t):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var a=gi;else if(ci(r))if(yi)a=Ti;else{a=bi;var s=xi}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(a=wi);if(a&&(a=a(e,t)))return hi(a,n,i);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Ie(r,"number",r.value)}},Si=Zn.extend({view:null,detail:null}),Mi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ii(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mi[e])&&!!t[e]}function Ci(){return Ii}var ki=0,Ai=0,Pi=!1,zi=!1,Di=Si.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ci,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=ki;return ki=e.screenX,Pi?"mousemove"===e.type?e.screenX-t:0:(Pi=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ai;return Ai=e.screenY,zi?"mousemove"===e.type?e.screenY-t:0:(zi=!0,0)}}),Li=Di.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Oi={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ri={eventTypes:Oi,extractEvents:function(e,t,n,i,r){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&r)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?In(t):null)&&(t!==Ke(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Di,l=Oi.mouseLeave,c=Oi.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Li,l=Oi.pointerLeave,c=Oi.pointerEnter,u="pointer");if(e=null==a?o:kn(a),o=null==t?o:kn(t),(l=s.getPooled(l,a,n,i)).type=u+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(c,t,n,i)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(i=a)&&u)e:{for(c=u,a=0,e=s=i;e;e=Pn(e))a++;for(e=0,t=c;t;t=Pn(t))e++;for(;0<a-e;)s=Pn(s),a--;for(;0<e-a;)c=Pn(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Pn(s),c=Pn(c)}s=null}else s=null;for(c=s,s=[];i&&i!==c&&(null===(a=i.alternate)||a!==c);)s.push(i),i=Pn(i);for(i=[];u&&u!==c&&(null===(a=u.alternate)||a!==c);)i.push(u),u=Pn(u);for(u=0;u<s.length;u++)On(s[u],"bubbled",l);for(u=i.length;0<u--;)On(i[u],"captured",n);return 0==(64&r)?[l]:[l,n]}};var Bi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ji=Object.prototype.hasOwnProperty;function Fi(e,t){if(Bi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!ji.call(t,n[i])||!Bi(e[n[i]],t[n[i]]))return!1;return!0}var Ni=I&&"documentMode"in document&&11>=document.documentMode,Ui={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vi=null,Gi=null,Zi=null,Wi=!1;function qi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wi||null==Vi||Vi!==un(n)?null:("selectionStart"in(n=Vi)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Zi&&Fi(Zi,n)?null:(Zi=n,(e=Zn.getPooled(Ui.select,Gi,e,t)).type="select",e.target=Vi,Bn(e),e))}var $i={eventTypes:Ui,extractEvents:function(e,t,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){e:{r=Qe(r),o=S.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=t?kn(t):window,e){case"focus":(ci(r)||"true"===r.contentEditable)&&(Vi=r,Gi=t,Zi=null);break;case"blur":Zi=Gi=Vi=null;break;case"mousedown":Wi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wi=!1,qi(n,i);case"selectionchange":if(Ni)break;case"keydown":case"keyup":return qi(n,i)}return null}},Hi=Zn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xi=Zn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yi=Si.extend({relatedTarget:null});function Ji(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ki={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er=Si.extend({key:function(e){if(e.key){var t=Qi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ji(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ki[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ci,charCode:function(e){return"keypress"===e.type?Ji(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ji(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),tr=Di.extend({dataTransfer:null}),nr=Si.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ci}),ir=Zn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=Di.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),or={eventTypes:Bt,extractEvents:function(e,t,n,i){var r=jt.get(e);if(!r)return null;switch(e){case"keypress":if(0===Ji(n))return null;case"keydown":case"keyup":e=er;break;case"blur":case"focus":e=Yi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=nr;break;case qe:case $e:case He:e=Hi;break;case Xe:e=ir;break;case"scroll":e=Si;break;case"wheel":e=rr;break;case"copy":case"cut":case"paste":e=Xi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Li;break;default:e=Zn}return Bn(t=e.getPooled(r,t,n,i)),t}};if(_)throw Error(a(101));_=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),f=An,m=Cn,g=kn,M({SimpleEventPlugin:or,EnterLeaveEventPlugin:Ri,ChangeEventPlugin:Ei,SelectEventPlugin:$i,BeforeInputEventPlugin:si});var ar=[],sr=-1;function lr(e){0>sr||(e.current=ar[sr],ar[sr]=null,sr--)}function cr(e,t){sr++,ar[sr]=e.current,e.current=t}var ur={},hr={current:ur},dr={current:!1},pr=ur;function fr(e,t){var n=e.type.contextTypes;if(!n)return ur;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mr(e){return null!=(e=e.childContextTypes)}function gr(){lr(dr),lr(hr)}function yr(e,t,n){if(hr.current!==ur)throw Error(a(168));cr(hr,t),cr(dr,n)}function _r(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return r({},n,{},i)}function vr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,pr=hr.current,cr(hr,e),cr(dr,dr.current),!0}function xr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=_r(e,t,pr),i.__reactInternalMemoizedMergedChildContext=e,lr(dr),lr(hr),cr(hr,e)):lr(dr),cr(dr,n)}var br=o.unstable_runWithPriority,wr=o.unstable_scheduleCallback,Tr=o.unstable_cancelCallback,Er=o.unstable_requestPaint,Sr=o.unstable_now,Mr=o.unstable_getCurrentPriorityLevel,Ir=o.unstable_ImmediatePriority,Cr=o.unstable_UserBlockingPriority,kr=o.unstable_NormalPriority,Ar=o.unstable_LowPriority,Pr=o.unstable_IdlePriority,zr={},Dr=o.unstable_shouldYield,Lr=void 0!==Er?Er:function(){},Or=null,Rr=null,Br=!1,jr=Sr(),Fr=1e4>jr?Sr:function(){return Sr()-jr};function Nr(){switch(Mr()){case Ir:return 99;case Cr:return 98;case kr:return 97;case Ar:return 96;case Pr:return 95;default:throw Error(a(332))}}function Ur(e){switch(e){case 99:return Ir;case 98:return Cr;case 97:return kr;case 96:return Ar;case 95:return Pr;default:throw Error(a(332))}}function Vr(e,t){return e=Ur(e),br(e,t)}function Gr(e,t,n){return e=Ur(e),wr(e,t,n)}function Zr(e){return null===Or?(Or=[e],Rr=wr(Ir,qr)):Or.push(e),zr}function Wr(){if(null!==Rr){var e=Rr;Rr=null,Tr(e)}qr()}function qr(){if(!Br&&null!==Or){Br=!0;var e=0;try{var t=Or;Vr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Or=null}catch(t){throw null!==Or&&(Or=Or.slice(e+1)),wr(Ir,Wr),t}finally{Br=!1}}}function $r(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Hr(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Xr={current:null},Yr=null,Jr=null,Qr=null;function Kr(){Qr=Jr=Yr=null}function eo(e){var t=Xr.current;lr(Xr),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Yr=e,Qr=Jr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Aa=!0),e.firstContext=null)}function io(e,t){if(Qr!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Qr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jr){if(null===Yr)throw Error(a(308));Jr=t,Yr.dependencies={expirationTime:0,firstContext:t,responders:null}}else Jr=Jr.next=t;return e._currentValue}var ro=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function co(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function uo(e,t,n,i){var o=e.updateQueue;ro=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var c=o.baseState,u=0,h=null,d=null,p=null;if(null!==l)for(var f=l;;){if((s=f.expirationTime)<i){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===p?(d=p=m,h=c):p=p.next=m,s>u&&(u=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),ol(s,f.suspenseConfig);e:{var g=e,y=f;switch(s=t,m=n,y.tag){case 1:if("function"==typeof(g=y.payload)){c=g.call(m,c,s);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(s="function"==typeof(g=y.payload)?g.call(m,c,s):g))break e;c=r({},c,s);break e;case 2:ro=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[f]:s.push(f))}if(null===(f=f.next)||f===l){if(null===(s=o.shared.pending))break;f=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===p?h=c:p.next=d,o.baseState=h,o.baseQueue=p,al(u),e.expirationTime=u,e.memoizedState=c}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var po=Y.ReactCurrentBatchConfig,fo=(new i.Component).refs;function mo(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=qs(),r=po.suspense;(r=so(i=$s(i,e,r),r)).payload=t,null!=n&&(r.callback=n),lo(e,r),Hs(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=qs(),r=po.suspense;(r=so(i=$s(i,e,r),r)).tag=1,r.payload=t,null!=n&&(r.callback=n),lo(e,r),Hs(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=qs(),i=po.suspense;(i=so(n=$s(n,e,i),i)).tag=2,null!=t&&(i.callback=t),lo(e,i),Hs(e,n)}};function yo(e,t,n,i,r,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Fi(n,i)||!Fi(r,o))}function _o(e,t,n){var i=!1,r=ur,o=t.contextType;return"object"==typeof o&&null!==o?o=io(o):(r=mr(t)?pr:hr.current,o=(i=null!=(i=t.contextTypes))?fr(e,r):ur),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function vo(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function xo(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=fo,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?r.context=io(o):(o=mr(t)?pr:hr.current,r.context=fr(e,o)),uo(e,n,r,i),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&go.enqueueReplaceState(r,r.state,null),uo(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===fo&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Eo(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=kl(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=wo(e,t,n),i.return=e,i):((i=Il(n.type,n.key,n.props,null,e.mode,i)).ref=wo(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Al(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=Cl(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=kl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Il(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case te:return(t=Al(t,e.mode,n)).return=e,t}if(bo(t)||me(t))return(t=Cl(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===r?n.type===ne?h(e,t,n.props.children,i,r):c(e,t,n,i):null;case te:return n.key===r?u(e,t,n,i):null}if(bo(n)||me(n))return null!==r?null:h(e,t,n,i,null);To(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case ee:return e=e.get(null===i.key?n:i.key)||null,i.type===ne?h(t,e,i.props.children,r,i.key):c(t,e,i,r);case te:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(bo(i)||me(i))return h(t,e=e.get(n)||null,i,r,null);To(t,i)}return null}function m(r,a,s,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=p(r,h,s[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(r,h),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===s.length)return n(r,h),c;if(null===h){for(;m<s.length;m++)null!==(h=d(r,s[m],l))&&(a=o(h,a,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=i(r,h);m<s.length;m++)null!==(g=f(h,r,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(r,e)})),c}function g(r,s,l,c){var u=me(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,m=s,g=s=0,y=null,_=l.next();null!==m&&!_.done;g++,_=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=p(r,m,_.value,c);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(r,m),s=o(v,s,g),null===h?u=v:h.sibling=v,h=v,m=y}if(_.done)return n(r,m),u;if(null===m){for(;!_.done;g++,_=l.next())null!==(_=d(r,_.value,c))&&(s=o(_,s,g),null===h?u=_:h.sibling=_,h=_);return u}for(m=i(r,m);!_.done;g++,_=l.next())null!==(_=f(m,r,g,_.value,c))&&(e&&null!==_.alternate&&m.delete(null===_.key?g:_.key),s=o(_,s,g),null===h?u=_:h.sibling=_,h=_);return e&&m.forEach((function(e){return t(r,e)})),u}return function(e,i,o,l){var c="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,c=i;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===ne){n(e,c.sibling),(i=r(c,o.props.children)).return=e,e=i;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(i=r(c,o.props)).ref=wo(e,c,o),i.return=e,e=i;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((i=Cl(o.props.children,e.mode,l,o.key)).return=e,e=i):((l=Il(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,i,o),l.return=e,e=l)}return s(e);case te:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Al(o,e.mode,l)).return=e,e=i}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=kl(o,e.mode,l)).return=e,e=i),s(e);if(bo(o))return m(e,i,o,l);if(me(o))return g(e,i,o,l);if(u&&To(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,i)}}var So=Eo(!0),Mo=Eo(!1),Io={},Co={current:Io},ko={current:Io},Ao={current:Io};function Po(e){if(e===Io)throw Error(a(174));return e}function zo(e,t){switch(cr(Ao,t),cr(ko,e),cr(Co,Io),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Be(null,"");break;default:t=Be(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}lr(Co),cr(Co,t)}function Do(){lr(Co),lr(ko),lr(Ao)}function Lo(e){Po(Ao.current);var t=Po(Co.current),n=Be(t,e.type);t!==n&&(cr(ko,e),cr(Co,n))}function Oo(e){ko.current===e&&(lr(Co),lr(ko))}var Ro={current:0};function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function jo(e,t){return{responder:e,props:t}}var Fo=Y.ReactCurrentDispatcher,No=Y.ReactCurrentBatchConfig,Uo=0,Vo=null,Go=null,Zo=null,Wo=!1;function qo(){throw Error(a(321))}function $o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bi(e[n],t[n]))return!1;return!0}function Ho(e,t,n,i,r,o){if(Uo=o,Vo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Fo.current=null===e||null===e.memoizedState?ya:_a,e=n(i,r),t.expirationTime===Uo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Zo=Go=null,t.updateQueue=null,Fo.current=va,e=n(i,r)}while(t.expirationTime===Uo)}if(Fo.current=ga,t=null!==Go&&null!==Go.next,Uo=0,Zo=Go=Vo=null,Wo=!1,t)throw Error(a(300));return e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zo?Vo.memoizedState=Zo=e:Zo=Zo.next=e,Zo}function Yo(){if(null===Go){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=Go.next;var t=null===Zo?Vo.memoizedState:Zo.next;if(null!==t)Zo=t,Go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Go=e).memoizedState,baseState:Go.baseState,baseQueue:Go.baseQueue,queue:Go.queue,next:null},null===Zo?Vo.memoizedState=Zo=e:Zo=Zo.next=e}return Zo}function Jo(e,t){return"function"==typeof t?t(e):t}function Qo(e){var t=Yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=Go,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=s=o=null,c=r;do{var u=c.expirationTime;if(u<Uo){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=h,o=i):l=l.next=h,u>Vo.expirationTime&&(Vo.expirationTime=u,al(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ol(u,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action);c=c.next}while(null!==c&&c!==r);null===l?o=i:l.next=s,Bi(i,t.memoizedState)||(Aa=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Ko(e){var t=Yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);Bi(o,t.memoizedState)||(Aa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ea(e){var t=Xo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:e}).dispatch=ma.bind(null,Vo,e),[t.memoizedState,e]}function ta(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Vo.updateQueue)?(t={lastEffect:null},Vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function na(){return Yo().memoizedState}function ia(e,t,n,i){var r=Xo();Vo.effectTag|=e,r.memoizedState=ta(1|t,n,void 0,void 0===i?null:i)}function ra(e,t,n,i){var r=Yo();i=void 0===i?null:i;var o=void 0;if(null!==Go){var a=Go.memoizedState;if(o=a.destroy,null!==i&&$o(i,a.deps))return void ta(t,n,o,i)}Vo.effectTag|=e,r.memoizedState=ta(1|t,n,o,i)}function oa(e,t){return ia(516,4,e,t)}function aa(e,t){return ra(516,4,e,t)}function sa(e,t){return ra(4,2,e,t)}function la(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ca(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)}function ua(){}function ha(e,t){return Xo().memoizedState=[e,void 0===t?null:t],e}function da(e,t){var n=Yo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&$o(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function pa(e,t){var n=Yo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&$o(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function fa(e,t,n){var i=Nr();Vr(98>i?98:i,(function(){e(!0)})),Vr(97<i?97:i,(function(){var i=No.suspense;No.suspense=void 0===t?null:t;try{e(!1),n()}finally{No.suspense=i}}))}function ma(e,t,n){var i=qs(),r=po.suspense;r={expirationTime:i=$s(i,e,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),t.pending=r,o=e.alternate,e===Vo||null!==o&&o===Vo)Wo=!0,r.expirationTime=Uo,Vo.expirationTime=Uo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.eagerReducer=o,r.eagerState=s,Bi(s,a))return}catch(e){}Hs(e,i)}}var ga={readContext:io,useCallback:qo,useContext:qo,useEffect:qo,useImperativeHandle:qo,useLayoutEffect:qo,useMemo:qo,useReducer:qo,useRef:qo,useState:qo,useDebugValue:qo,useResponder:qo,useDeferredValue:qo,useTransition:qo},ya={readContext:io,useCallback:ha,useContext:io,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ia(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ia(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Xo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,Vo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Xo().memoizedState=e},useState:ea,useDebugValue:ua,useResponder:jo,useDeferredValue:function(e,t){var n=ea(e),i=n[0],r=n[1];return oa((function(){var n=No.suspense;No.suspense=void 0===t?null:t;try{r(e)}finally{No.suspense=n}}),[e,t]),i},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[ha(fa.bind(null,t,e),[t,e]),n]}},_a={readContext:io,useCallback:da,useContext:io,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Qo,useRef:na,useState:function(){return Qo(Jo)},useDebugValue:ua,useResponder:jo,useDeferredValue:function(e,t){var n=Qo(Jo),i=n[0],r=n[1];return aa((function(){var n=No.suspense;No.suspense=void 0===t?null:t;try{r(e)}finally{No.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Qo(Jo),n=t[0];return t=t[1],[da(fa.bind(null,t,e),[t,e]),n]}},va={readContext:io,useCallback:da,useContext:io,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Ko,useRef:na,useState:function(){return Ko(Jo)},useDebugValue:ua,useResponder:jo,useDeferredValue:function(e,t){var n=Ko(Jo),i=n[0],r=n[1];return aa((function(){var n=No.suspense;No.suspense=void 0===t?null:t;try{r(e)}finally{No.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Ko(Jo),n=t[0];return t=t[1],[da(fa.bind(null,t,e),[t,e]),n]}},xa=null,ba=null,wa=!1;function Ta(e,t){var n=El(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ea(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Sa(e){if(wa){var t=ba;if(t){var n=t;if(!Ea(e,t)){if(!(t=bn(n.nextSibling))||!Ea(e,t))return e.effectTag=-1025&e.effectTag|2,wa=!1,void(xa=e);Ta(xa,n)}xa=e,ba=bn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,wa=!1,xa=e}}function Ma(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xa=e}function Ia(e){if(e!==xa)return!1;if(!wa)return Ma(e),wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_n(t,e.memoizedProps))for(t=ba;t;)Ta(e,t),t=bn(t.nextSibling);if(Ma(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ba=bn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ba=null}}else ba=xa?bn(e.stateNode.nextSibling):null;return!0}function Ca(){ba=xa=null,wa=!1}var ka=Y.ReactCurrentOwner,Aa=!1;function Pa(e,t,n,i){t.child=null===e?Mo(t,null,n,i):So(t,e.child,n,i)}function za(e,t,n,i,r){n=n.render;var o=t.ref;return no(t,r),i=Ho(e,t,n,i,o,r),null===e||Aa?(t.effectTag|=1,Pa(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ha(e,t,r))}function Da(e,t,n,i,r,o){if(null===e){var a=n.type;return"function"!=typeof a||Sl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Il(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,La(e,t,a,i,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:Fi)(r,i)&&e.ref===t.ref)?Ha(e,t,o):(t.effectTag|=1,(e=Ml(a,i)).ref=t.ref,e.return=t,t.child=e)}function La(e,t,n,i,r,o){return null!==e&&Fi(e.memoizedProps,i)&&e.ref===t.ref&&(Aa=!1,r<o)?(t.expirationTime=e.expirationTime,Ha(e,t,o)):Ra(e,t,n,i,o)}function Oa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ra(e,t,n,i,r){var o=mr(n)?pr:hr.current;return o=fr(t,o),no(t,r),n=Ho(e,t,n,i,o,r),null===e||Aa?(t.effectTag|=1,Pa(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ha(e,t,r))}function Ba(e,t,n,i,r){if(mr(n)){var o=!0;vr(t)}else o=!1;if(no(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),_o(t,n,i),xo(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=io(c):c=fr(t,c=mr(n)?pr:hr.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||l!==c)&&vo(t,a,i,c),ro=!1;var d=t.memoizedState;a.state=d,uo(t,i,a,r),l=t.memoizedState,s!==i||d!==l||dr.current||ro?("function"==typeof u&&(mo(t,n,u,i),l=t.memoizedState),(s=ro||yo(t,n,s,i,d,l,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Hr(t.type,s),l=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=io(c):c=fr(t,c=mr(n)?pr:hr.current),(h="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||l!==c)&&vo(t,a,i,c),ro=!1,l=t.memoizedState,a.state=l,uo(t,i,a,r),d=t.memoizedState,s!==i||l!==d||dr.current||ro?("function"==typeof u&&(mo(t,n,u,i),d=t.memoizedState),(u=ro||yo(t,n,s,i,l,d,c))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,d,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,d,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=d),a.props=i,a.state=d,a.context=c,i=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return ja(e,t,n,i,o,r)}function ja(e,t,n,i,r,o){Oa(e,t);var a=0!=(64&t.effectTag);if(!i&&!a)return r&&xr(t,n,!1),Ha(e,t,o);i=t.stateNode,ka.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Pa(e,t,s,o),t.memoizedState=i.state,r&&xr(t,n,!0),t.child}function Fa(e){var t=e.stateNode;t.pendingContext?yr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yr(0,t.context,!1),zo(e,t.containerInfo)}var Na,Ua,Va,Ga={dehydrated:null,retryTime:0};function Za(e,t,n){var i,r=t.mode,o=t.pendingProps,a=Ro.current,s=!1;if((i=0!=(64&t.effectTag))||(i=0!=(2&a)&&(null===e||null!==e.memoizedState)),i?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),cr(Ro,1&a),null===e){if(void 0!==o.fallback&&Sa(t),s){if(s=o.fallback,(o=Cl(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cl(s,r,n,null)).return=t,o.sibling=n,t.memoizedState=Ga,t.child=o,n}return r=o.children,t.memoizedState=null,t.child=Mo(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,s){if(o=o.fallback,(n=Ml(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(r=Ml(r,o)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Ga,t.child=n,r}return n=So(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Cl(null,r,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cl(s,r,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ga,t.child=o,n}return t.memoizedState=null,t.child=So(t,e,o.children,n)}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function qa(e,t,n,i,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function $a(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Pa(e,t,i.children,n),0!=(2&(i=Ro.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n);else if(19===e.tag)Wa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(cr(Ro,i),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Bo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),qa(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Bo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}qa(t,!0,n,null,o,t.lastEffect);break;case"together":qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ha(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&al(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ya(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mr(t.type)&&gr(),null;case 3:return Do(),lr(dr),lr(hr),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ia(t)||(t.effectTag|=4),null;case 5:Oo(t),n=Po(Ao.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ua(e,t,o,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(Co.current),Ia(t)){i=t.stateNode,o=t.type;var s=t.memoizedProps;switch(i[En]=t,i[Sn]=s,o){case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(e=0;e<Ye.length;e++)$t(Ye[e],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"form":$t("reset",i),$t("submit",i);break;case"details":$t("toggle",i);break;case"input":Te(i,s),$t("invalid",i),ln(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!s.multiple},$t("invalid",i),ln(n,"onChange");break;case"textarea":Pe(i,s),$t("invalid",i),ln(n,"onChange")}for(var l in on(o,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?i.textContent!==c&&(e=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(e=["children",""+c]):E.hasOwnProperty(l)&&null!=c&&ln(n,l)}switch(o){case"input":xe(i),Me(i,s,!0);break;case"textarea":xe(i),De(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Re(o)),e===sn?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(o,{is:i.is}):(e=l.createElement(o),"select"===o&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,o),e[En]=t,e[Sn]=i,Na(e,t),t.stateNode=e,l=an(o,i),o){case"iframe":case"object":case"embed":$t("load",e),c=i;break;case"video":case"audio":for(c=0;c<Ye.length;c++)$t(Ye[c],e);c=i;break;case"source":$t("error",e),c=i;break;case"img":case"image":case"link":$t("error",e),$t("load",e),c=i;break;case"form":$t("reset",e),$t("submit",e),c=i;break;case"details":$t("toggle",e),c=i;break;case"input":Te(e,i),c=we(e,i),$t("invalid",e),ln(n,"onChange");break;case"option":c=Ce(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=r({},i,{value:void 0}),$t("invalid",e),ln(n,"onChange");break;case"textarea":Pe(e,i),c=Ae(e,i),$t("invalid",e),ln(n,"onChange");break;default:c=i}on(o,c);var u=c;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];"style"===s?nn(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&Fe(e,h):"children"===s?"string"==typeof h?("textarea"!==o||""!==h)&&Ne(e,h):"number"==typeof h&&Ne(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?null!=h&&ln(n,s):null!=h&&J(e,s,h,l))}switch(o){case"input":xe(e),Me(e,i,!1);break;case"textarea":xe(e),De(e);break;case"option":null!=i.value&&e.setAttribute("value",""+_e(i.value));break;case"select":e.multiple=!!i.multiple,null!=(n=i.value)?ke(e,!!i.multiple,n,!1):null!=i.defaultValue&&ke(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=cn)}yn(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Va(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(a(166));n=Po(Ao.current),Po(Co.current),Ia(t)?(n=t.stateNode,i=t.memoizedProps,n[En]=t,n.nodeValue!==i&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[En]=t,t.stateNode=n)}return null;case 13:return lr(Ro),i=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Ia(t):(i=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ro.current)?Is===xs&&(Is=bs):(Is!==xs&&Is!==bs||(Is=ws),0!==zs&&null!==Es&&(Dl(Es,Ms),Ll(Es,zs)))),(n||i)&&(t.effectTag|=4),null);case 4:return Do(),null;case 10:return eo(t),null;case 17:return mr(t.type)&&gr(),null;case 19:if(lr(Ro),null===(i=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=i.rendering)){if(o)Xa(i,!1);else if(Is!==xs||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Bo(s))){for(t.effectTag|=64,Xa(i,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)s=n,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return cr(Ro,1&Ro.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Bo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Xa(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Fr()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Xa(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Fr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Fr(),n.sibling=null,t=Ro.current,cr(Ro,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Ja(e){switch(e.tag){case 1:mr(e.type)&&gr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Do(),lr(dr),lr(hr),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Oo(e),null;case 13:return lr(Ro),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return lr(Ro),null;case 4:return Do(),null;case 10:return eo(e),null;default:return null}}function Qa(e,t){return{value:e,source:t,stack:ye(t)}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(e,t,n,i,o){var a=e.memoizedProps;if(a!==i){var s,l,c=t.stateNode;switch(Po(Co.current),e=null,n){case"input":a=we(c,a),i=we(c,i),e=[];break;case"option":a=Ce(c,a),i=Ce(c,i),e=[];break;case"select":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":a=Ae(c,a),i=Ae(c,i),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof i.onClick&&(c.onclick=cn)}for(s in on(n,i),n=null,a)if(!i.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in i){var u=i[s];if(c=null!=a?a[s]:void 0,i.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,u)):"children"===s?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(E.hasOwnProperty(s)?(null!=u&&ln(o,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Va=function(e,t,n,i){n!==i&&(t.effectTag|=4)};var Ka="function"==typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ye(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){_l(e,t)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Hr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==t)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void rs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:Hr(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Rt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"==typeof wl&&wl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Vr(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(e){_l(r,e)}}e=e.next}while(e!==i)}))}break;case 1:ts(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){_l(e,t)}}(t,n);break;case 5:ts(t);break;case 4:us(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ne(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=cn));else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t):function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t)}function us(e,t,n){for(var i,r,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,u=n,h=c;;)if(as(l,h,u),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break e;for(;null===h.sibling;){if(null===h.return||h.return===c)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r?(l=i,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function hs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void is(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Sn]=i,"input"===e&&"radio"===i.type&&null!=i.name&&Ee(n,i),an(e,r),t=an(e,i),r=0;r<o.length;r+=2){var s=o[r],l=o[r+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?Fe(n,l):"children"===s?Ne(n,l):J(n,s,l,t)}switch(e){case"input":Se(n,i);break;case"textarea":ze(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?ke(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?ke(n,!!i.multiple,i.defaultValue,!0):ke(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Rt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,Ls=Fr()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=null!=(r=e.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,o.style.display=tn("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ds(t);case 19:return void ds(t);case 17:return}throw Error(a(163))}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ka),t.forEach((function(t){var i=xl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Rs||(Rs=!0,Bs=i),es(e,t)},n}function ms(e,t,n){(n=so(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return es(e,t),i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===js?js=new Set([this]):js.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var gs,ys=Math.ceil,_s=Y.ReactCurrentDispatcher,vs=Y.ReactCurrentOwner,xs=0,bs=3,ws=4,Ts=0,Es=null,Ss=null,Ms=0,Is=xs,Cs=null,ks=1073741823,As=1073741823,Ps=null,zs=0,Ds=!1,Ls=0,Os=null,Rs=!1,Bs=null,js=null,Fs=!1,Ns=null,Us=90,Vs=null,Gs=0,Zs=null,Ws=0;function qs(){return 0!=(48&Ts)?1073741821-(Fr()/10|0):0!==Ws?Ws:Ws=1073741821-(Fr()/10|0)}function $s(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=Nr();if(0==(4&t))return 99===i?1073741823:1073741822;if(0!=(16&Ts))return Ms;if(null!==n)e=$r(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=$r(e,150,100);break;case 97:case 96:e=$r(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Es&&e===Ms&&--e,e}function Hs(e,t){if(50<Gs)throw Gs=0,Zs=null,Error(a(185));if(null!==(e=Xs(e,t))){var n=Nr();1073741823===t?0!=(8&Ts)&&0==(48&Ts)?Ks(e):(Js(e),0===Ts&&Wr()):Js(e),0==(4&Ts)||98!==n&&99!==n||(null===Vs?Vs=new Map([[e,t]]):(void 0===(n=Vs.get(e))||n>t)&&Vs.set(e,t))}}function Xs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Es===r&&(al(t),Is===ws&&Dl(r,Ms)),Ll(r,t)),r}function Ys(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!zl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Js(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Zr(Ks.bind(null,e));else{var t=Ys(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=qs();if(1073741823===t?i=99:1===t||2===t?i=95:i=0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=i)return;n!==zr&&Tr(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?Zr(Ks.bind(null,e)):Gr(i,Qs.bind(null,e),{timeout:10*(1073741821-t)-Fr()}),e.callbackNode=t}}}function Qs(e,t){if(Ws=0,t)return Ol(e,t=qs()),Js(e),null;var n=Ys(e);if(0!==n){if(t=e.callbackNode,0!=(48&Ts))throw Error(a(327));if(ml(),e===Es&&n===Ms||nl(e,n),null!==Ss){var i=Ts;Ts|=16;for(var r=rl();;)try{ll();break}catch(t){il(e,t)}if(Kr(),Ts=i,_s.current=r,1===Is)throw t=Cs,nl(e,n),Dl(e,n),Js(e),t;if(null===Ss)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=Is,Es=null,i){case xs:case 1:throw Error(a(345));case 2:Ol(e,2<n?2:n);break;case bs:if(Dl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(r)),1073741823===ks&&10<(r=Ls+500-Fr())){if(Ds){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=Ys(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=vn(dl.bind(null,e),r);break}dl(e);break;case ws:if(Dl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(r)),Ds&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(r=Ys(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==As?i=10*(1073741821-As)-Fr():1073741823===ks?i=0:(i=10*(1073741821-ks)-5e3,0>(i=(r=Fr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ys(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=vn(dl.bind(null,e),i);break}dl(e);break;case 5:if(1073741823!==ks&&null!==Ps){o=ks;var s=Ps;if(0>=(i=0|s.busyMinDurationMs)?i=0:(r=0|s.busyDelayMs,i=(o=Fr()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=r?0:r+i-o),10<i){Dl(e,n),e.timeoutHandle=vn(dl.bind(null,e),i);break}}dl(e);break;default:throw Error(a(329))}if(Js(e),e.callbackNode===t)return Qs.bind(null,e)}}return null}function Ks(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ts))throw Error(a(327));if(ml(),e===Es&&t===Ms||nl(e,t),null!==Ss){var n=Ts;Ts|=16;for(var i=rl();;)try{sl();break}catch(t){il(e,t)}if(Kr(),Ts=n,_s.current=i,1===Is)throw n=Cs,nl(e,t),Dl(e,t),Js(e),n;if(null!==Ss)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Es=null,dl(e),Js(e)}return null}function el(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&Wr()}}function tl(e,t){var n=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=n)&&Wr()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,xn(n)),null!==Ss)for(n=Ss.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&gr();break;case 3:Do(),lr(dr),lr(hr);break;case 5:Oo(i);break;case 4:Do();break;case 13:case 19:lr(Ro);break;case 10:eo(i)}n=n.return}Es=e,Ss=Ml(e.current,null),Ms=t,Is=xs,Cs=null,As=ks=1073741823,Ps=null,zs=0,Ds=!1}function il(e,t){for(;;){try{if(Kr(),Fo.current=ga,Wo)for(var n=Vo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Uo=0,Zo=Go=Vo=null,Wo=!1,null===Ss||null===Ss.return)return Is=1,Cs=t,Ss=null;e:{var r=e,o=Ss.return,a=Ss,s=t;if(t=Ms,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!=(1&Ro.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var f=h.memoizedProps;d=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!u)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(l),h.updateQueue=g}else m.add(l);if(0==(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=so(1073741823,null);y.tag=2,lo(a,y)}a.expirationTime=1073741823;break e}s=void 0,a=t;var _=r.pingCache;if(null===_?(_=r.pingCache=new ps,s=new Set,_.set(l,s)):void 0===(s=_.get(l))&&(s=new Set,_.set(l,s)),!s.has(a)){s.add(a);var v=vl.bind(null,r,l,a);l.then(v,v)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(a))}5!==Is&&(Is=2),s=Qa(s,a),h=o;do{switch(h.tag){case 3:l=s,h.effectTag|=4096,h.expirationTime=t,co(h,fs(h,l,t));break e;case 1:l=s;var x=h.type,b=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof x.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===js||!js.has(b)))){h.effectTag|=4096,h.expirationTime=t,co(h,ms(h,l,t));break e}}h=h.return}while(null!==h)}Ss=ul(Ss)}catch(e){t=e;continue}break}}function rl(){var e=_s.current;return _s.current=ga,null===e?ga:e}function ol(e,t){e<ks&&2<e&&(ks=e),null!==t&&e<As&&2<e&&(As=e,Ps=t)}function al(e){e>zs&&(zs=e)}function sl(){for(;null!==Ss;)Ss=cl(Ss)}function ll(){for(;null!==Ss&&!Dr();)Ss=cl(Ss)}function cl(e){var t=gs(e.alternate,e,Ms);return e.memoizedProps=e.pendingProps,null===t&&(t=ul(e)),vs.current=null,t}function ul(e){Ss=e;do{var t=Ss.alternate;if(e=Ss.return,0==(2048&Ss.effectTag)){if(t=Ya(t,Ss,Ms),1===Ms||1!==Ss.childExpirationTime){for(var n=0,i=Ss.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;r>n&&(n=r),o>n&&(n=o),i=i.sibling}Ss.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ss.firstEffect),e.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ss:e.firstEffect=Ss,e.lastEffect=Ss))}else{if(null!==(t=Ja(Ss)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ss.sibling))return t;Ss=e}while(null!==Ss);return Is===xs&&(Is=5),null}function hl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function dl(e){var t=Nr();return Vr(99,pl.bind(null,e,t)),null}function pl(e,t){do{ml()}while(null!==Ns);if(0!=(48&Ts))throw Error(a(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=hl(n);if(e.firstPendingTime=r,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Es&&(Ss=Es=null,Ms=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=Ts;Ts|=32,vs.current=null,mn=qt;var s=pn();if(fn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{l.nodeType,h.nodeType}catch(e){l=null;break e}var d=0,p=-1,f=-1,m=0,g=0,y=s,_=null;t:for(;;){for(var v;y!==l||0!==u&&3!==y.nodeType||(p=d+u),y!==h||0!==c&&3!==y.nodeType||(f=d+c),3===y.nodeType&&(d+=y.nodeValue.length),null!==(v=y.firstChild);)_=y,y=v;for(;;){if(y===s)break t;if(_===l&&++m===u&&(p=d),_===h&&++g===c&&(f=d),null!==(v=y.nextSibling))break;_=(y=_).parentNode}y=v}l=-1===p||-1===f?null:{start:p,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;gn={activeElementDetached:null,focusedElem:s,selectionRange:l},qt=!1,Os=r;do{try{fl()}catch(e){if(null===Os)throw Error(a(330));_l(Os,e),Os=Os.nextEffect}}while(null!==Os);Os=r;do{try{for(s=e,l=t;null!==Os;){var x=Os.effectTag;if(16&x&&Ne(Os.stateNode,""),128&x){var b=Os.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&x){case 2:cs(Os),Os.effectTag&=-3;break;case 6:cs(Os),Os.effectTag&=-3,hs(Os.alternate,Os);break;case 1024:Os.effectTag&=-1025;break;case 1028:Os.effectTag&=-1025,hs(Os.alternate,Os);break;case 4:hs(Os.alternate,Os);break;case 8:us(s,u=Os,l),ss(u)}Os=Os.nextEffect}}catch(e){if(null===Os)throw Error(a(330));_l(Os,e),Os=Os.nextEffect}}while(null!==Os);if(w=gn,b=pn(),x=w.focusedElem,l=w.selectionRange,b!==x&&x&&x.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(x.ownerDocument.documentElement,x)){null!==l&&fn(x)&&(b=l.start,void 0===(w=l.end)&&(w=b),"selectionStart"in x?(x.selectionStart=b,x.selectionEnd=Math.min(w,x.value.length)):(w=(b=x.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=x.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!w.extend&&s>l&&(u=l,l=s,s=u),u=dn(x,s),h=dn(x,l),u&&h&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==h.node||w.focusOffset!==h.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),s>l?(w.addRange(b),w.extend(h.node,h.offset)):(b.setEnd(h.node,h.offset),w.addRange(b))))),b=[];for(w=x;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof x.focus&&x.focus(),x=0;x<b.length;x++)(w=b[x]).element.scrollLeft=w.left,w.element.scrollTop=w.top}qt=!!mn,gn=mn=null,e.current=n,Os=r;do{try{for(x=e;null!==Os;){var T=Os.effectTag;if(36&T&&os(x,Os.alternate,Os),128&T){b=void 0;var E=Os.ref;if(null!==E){var S=Os.stateNode;switch(Os.tag){case 5:b=S;break;default:b=S}"function"==typeof E?E(b):E.current=b}}Os=Os.nextEffect}}catch(e){if(null===Os)throw Error(a(330));_l(Os,e),Os=Os.nextEffect}}while(null!==Os);Os=null,Lr(),Ts=o}else e.current=n;if(Fs)Fs=!1,Ns=e,Us=t;else for(Os=r;null!==Os;)t=Os.nextEffect,Os.nextEffect=null,Os=t;if(0===(t=e.firstPendingTime)&&(js=null),1073741823===t?e===Zs?Gs++:(Gs=0,Zs=e):Gs=0,"function"==typeof bl&&bl(n.stateNode,i),Js(e),Rs)throw Rs=!1,e=Bs,Bs=null,e;return 0!=(8&Ts)||Wr(),null}function fl(){for(;null!==Os;){var e=Os.effectTag;0!=(256&e)&&ns(Os.alternate,Os),0==(512&e)||Fs||(Fs=!0,Gr(97,(function(){return ml(),null}))),Os=Os.nextEffect}}function ml(){if(90!==Us){var e=97<Us?97:Us;return Us=90,Vr(e,gl)}}function gl(){if(null===Ns)return!1;var e=Ns;if(Ns=null,0!=(48&Ts))throw Error(a(331));var t=Ts;for(Ts|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:is(5,n),rs(5,n)}}catch(t){if(null===e)throw Error(a(330));_l(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ts=t,Wr(),!0}function yl(e,t,n){lo(e,t=fs(e,t=Qa(n,t),1073741823)),null!==(e=Xs(e,1073741823))&&Js(e)}function _l(e,t){if(3===e.tag)yl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){yl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===js||!js.has(i))){lo(n,e=ms(n,e=Qa(t,e),1073741823)),null!==(n=Xs(n,1073741823))&&Js(n);break}}n=n.return}}function vl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),Es===e&&Ms===n?Is===ws||Is===bs&&1073741823===ks&&Fr()-Ls<500?nl(e,Ms):Ds=!0:zl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Js(e)))}function xl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=$s(t=qs(),e,null)),null!==(e=Xs(e,t))&&Js(e)}gs=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||dr.current)Aa=!0;else{if(i<n){switch(Aa=!1,t.tag){case 3:Fa(t),Ca();break;case 5:if(Lo(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mr(t.type)&&vr(t);break;case 4:zo(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,r=t.type._context,cr(Xr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?Za(e,t,n):(cr(Ro,1&Ro.current),null!==(t=Ha(e,t,n))?t.sibling:null);cr(Ro,1&Ro.current);break;case 19:if(i=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return $a(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),cr(Ro,Ro.current),!i)return null}return Ha(e,t,n)}Aa=!1}}else Aa=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=fr(t,hr.current),no(t,n),r=Ho(null,t,i,e,r,n),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mr(i)){var o=!0;vr(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,oo(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&mo(t,i,s,e),r.updater=go,t.stateNode=r,r._reactInternalFiber=t,xo(t,i,e,n),t=ja(null,t,i,!0,o,n)}else t.tag=0,Pa(null,t,r,n),t=t.child;return t;case 16:e:{if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,o=t.tag=function(e){if("function"==typeof e)return Sl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===he)return 14}return 2}(r),e=Hr(r,e),o){case 0:t=Ra(null,t,r,e,n);break e;case 1:t=Ba(null,t,r,e,n);break e;case 11:t=za(null,t,r,e,n);break e;case 14:t=Da(null,t,r,Hr(r.type,e),i,n);break e}throw Error(a(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ra(e,t,i,r=t.elementType===i?r:Hr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ba(e,t,i,r=t.elementType===i?r:Hr(i,r),n);case 3:if(Fa(t),i=t.updateQueue,null===e||null===i)throw Error(a(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ao(e,t),uo(t,i,null,n),(i=t.memoizedState.element)===r)Ca(),t=Ha(e,t,n);else{if((r=t.stateNode.hydrate)&&(ba=bn(t.stateNode.containerInfo.firstChild),xa=t,r=wa=!0),r)for(n=Mo(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Pa(e,t,i,n),Ca();t=t.child}return t;case 5:return Lo(t),null===e&&Sa(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,_n(i,r)?s=null:null!==o&&_n(i,o)&&(t.effectTag|=16),Oa(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Pa(e,t,s,n),t=t.child),t;case 6:return null===e&&Sa(t),null;case 13:return Za(e,t,n);case 4:return zo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=So(t,null,i,n):Pa(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,za(e,t,i,r=t.elementType===i?r:Hr(i,r),n);case 7:return Pa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pa(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value;var l=t.type._context;if(cr(Xr,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Bi(l,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(s.children===r.children&&!dr.current){t=Ha(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&o)){1===l.tag&&((u=so(n,null)).tag=2,lo(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),to(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Pa(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,no(t,n),i=i(r=io(r,o.unstable_observedBits)),t.effectTag|=1,Pa(e,t,i,n),t.child;case 14:return o=Hr(r=t.type,t.pendingProps),Da(e,t,r,o=Hr(r.type,o),i,n);case 15:return La(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Hr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mr(i)?(e=!0,vr(t)):e=!1,no(t,n),_o(t,i,r),xo(t,i,r,n),ja(null,t,i,!0,e,n);case 19:return $a(e,t,n)}throw Error(a(156,t.tag))};var bl=null,wl=null;function Tl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function El(e,t,n,i){return new Tl(e,t,n,i)}function Sl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=El(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Il(e,t,n,i,r,o){var s=2;if(i=e,"function"==typeof e)Sl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return Cl(n.children,r,o,t);case se:s=8,r|=7;break;case ie:s=8,r|=1;break;case re:return(e=El(12,n,t,8|r)).elementType=re,e.type=re,e.expirationTime=o,e;case ce:return(e=El(13,n,t,r)).type=ce,e.elementType=ce,e.expirationTime=o,e;case ue:return(e=El(19,n,t,r)).elementType=ue,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case he:s=14;break e;case de:s=16,i=null;break e;case pe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=El(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function Cl(e,t,n,i){return(e=El(7,e,i,t)).expirationTime=n,e}function kl(e,t,n){return(e=El(6,e,null,t)).expirationTime=n,e}function Al(e,t,n){return(t=El(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function zl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Dl(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ll(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ol(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Rl(e,t,n,i){var r=t.current,o=qs(),s=po.suspense;o=$s(o,r,s);e:if(n){t:{if(Ke(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mr(c)){n=_r(n,c,l);break e}}n=l}else n=ur;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),lo(r,t),Hs(r,o),o}function Bl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function jl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Fl(e,t){jl(e,t),(e=e.alternate)&&jl(e,t)}function Nl(e,t,n){var i=new Pl(e,t,n=null!=n&&!0===n.hydrate),r=El(3,null,null,2===t?7:1===t?3:0);i.current=r,r.stateNode=i,oo(r),e[Mn]=i.current,n&&0!==t&&function(e,t){var n=Qe(t);Mt.forEach((function(e){ft(e,t,n)})),It.forEach((function(e){ft(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=i}function Ul(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vl(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof r){var s=r;r=function(){var e=Bl(a);s.call(e)}}Rl(t,a,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Nl(e,0,t?{hydrate:!0}:void 0)}(n,i),a=o._internalRoot,"function"==typeof r){var l=r;r=function(){var e=Bl(a);l.call(e)}}tl((function(){Rl(t,a,e,r)}))}return Bl(a)}function Gl(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Zl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ul(t))throw Error(a(200));return Gl(e,t,null,n)}Nl.prototype.render=function(e){Rl(e,this._internalRoot,null,null)},Nl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Rl(null,e,null,(function(){t[Mn]=null}))},mt=function(e){if(13===e.tag){var t=$r(qs(),150,100);Hs(e,t),Fl(e,t)}},gt=function(e){13===e.tag&&(Hs(e,3),Fl(e,3))},yt=function(e){if(13===e.tag){var t=qs();Hs(e,t=$s(t,e,null)),Fl(e,t)}},C=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=An(i);if(!r)throw Error(a(90));be(i),Se(i,r)}}}break;case"textarea":ze(e,n);break;case"select":null!=(t=n.value)&&ke(e,!!n.multiple,t,!1)}},L=el,O=function(e,t,n,i,r){var o=Ts;Ts|=4;try{return Vr(98,e.bind(null,t,n,i,r))}finally{0===(Ts=o)&&Wr()}},R=function(){0==(49&Ts)&&(function(){if(null!==Vs){var e=Vs;Vs=null,e.forEach((function(e,t){Ol(t,e),Js(t)})),Wr()}}(),ml())},B=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&Wr()}};var Wl={Events:[Cn,kn,An,M,T,Bn,function(e){rt(e,Rn)},z,D,Jt,st,ml,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);bl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},wl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}})(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:In,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wl,t.createPortal=Zl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Ts))throw Error(a(187));var n=Ts;Ts|=1;try{return Vr(99,e.bind(null,t))}finally{Ts=n,Wr()}},t.hydrate=function(e,t,n){if(!Ul(t))throw Error(a(200));return Vl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ul(t))throw Error(a(200));return Vl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Vl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Mn]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Zl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ul(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Vl(e,t,n,!1,i)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(72)},function(e,t,n){"use strict";var i,r,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(u,0),e}},h=Date.now();t.unstable_now=function(){return Date.now()-h},i=function(e){null!==l?setTimeout(i,0,e):(l=e,setTimeout(u,0))},r=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var y=p.now();t.unstable_now=function(){return p.now()-y}}var _=!1,v=null,x=-1,b=5,w=0;a=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var T=new MessageChannel,E=T.port2;T.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();w=e+b;try{v(!0,e)?E.postMessage(null):(_=!1,v=null)}catch(e){throw E.postMessage(null),e}}else _=!1},i=function(e){v=e,_||(_=!0,E.postMessage(null))},r=function(e,n){x=f((function(){e(t.unstable_now())}),n)},o=function(){m(x),x=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<C(r,t)))break e;e[i]=t,e[n]=r,n=i}}function M(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>C(a,n))void 0!==l&&0>C(l,a)?(e[i]=l,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==l&&0>C(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],A=[],P=1,z=null,D=3,L=!1,O=!1,R=!1;function B(e){for(var t=M(A);null!==t;){if(null===t.callback)I(A);else{if(!(t.startTime<=e))break;I(A),t.sortIndex=t.expirationTime,S(k,t)}t=M(A)}}function j(e){if(R=!1,B(e),!O)if(null!==M(k))O=!0,i(F);else{var t=M(A);null!==t&&r(j,t.startTime-e)}}function F(e,n){O=!1,R&&(R=!1,o()),L=!0;var i=D;try{for(B(n),z=M(k);null!==z&&(!(z.expirationTime>n)||e&&!a());){var s=z.callback;if(null!==s){z.callback=null,D=z.priorityLevel;var l=s(z.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?z.callback=l:z===M(k)&&I(k),B(n)}else I(k);z=M(k)}if(null!==z)var c=!0;else{var u=M(A);null!==u&&r(j,u.startTime-n),c=!1}return c}finally{z=null,D=i,L=!1}}function N(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||L||(O=!0,i(F))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return M(k)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:N(e)}else a=N(e),l=s;return e={id:P++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,S(A,e),null===M(k)&&e===M(A)&&(R?o():R=!0,r(j,l-s))):(e.sortIndex=a,S(k,e),O||L||(O=!0,i(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();B(e);var n=M(k);return n!==z&&null!==z&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<z.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},function(e,t,n){var i=n(15).default;e.exports=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(76);function r(e){return!0===i(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==r(e)&&("function"==typeof(t=e.constructor)&&(!1!==r(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(e,t,n){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,i=e.unit,s=void 0===i?"px":i,l=e.step,c=void 0===l?5:l,u=(0,o.default)(e,["values","unit","step"]);function h(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function d(e,t){var i=a.indexOf(t)+1;return i===a.length?h(e):"@media (min-width:".concat(n[e]).concat(s,") and ")+"(max-width:".concat(n[a[i]]-c/100).concat(s,")")}return(0,r.default)({keys:a,values:n,up:h,down:function(e){var t=a.indexOf(e)+1,i=n[a[t]];return t===a.length?h("xs"):"@media (max-width:".concat(("number"==typeof i&&t>0?i:e)-c/100).concat(s,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},u)},t.keys=void 0;var r=i(n(2)),o=i(n(4)),a=["xs","sm","md","lg","xl"];t.keys=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i;return(0,o.default)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({paddingLeft:2*t.unit,paddingRight:2*t.unit},n,(0,r.default)({},e.up("sm"),(0,o.default)({paddingLeft:3*t.unit,paddingRight:3*t.unit},n[e.up("sm")])))},toolbar:(i={minHeight:56},(0,r.default)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,r.default)(i,e.up("sm"),{minHeight:64}),i)},n)};var r=i(n(5)),o=i(n(2))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.primary,n=void 0===t?{light:s.default[300],main:s.default[500],dark:s.default[700]}:t,i=e.secondary,g=void 0===i?{light:l.default.A200,main:l.default.A400,dark:l.default.A700}:i,y=e.error,_=void 0===y?{light:u.default[300],main:u.default[500],dark:u.default[700]}:y,v=e.type,x=void 0===v?"light":v,b=e.contrastThreshold,w=void 0===b?3:b,T=e.tonalOffset,E=void 0===T?.2:T,S=(0,o.default)(e,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function M(e){return(0,d.getContrastRatio)(e,f.text.primary)>=w?f.text.primary:p.text.primary}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!e.main&&e[t]&&(e.main=e[t]),m(e,"light",n,E),m(e,"dark",i,E),e.contrastText||(e.contrastText=M(e.main)),e}I(n),I(g,"A400","A200","A700"),I(_);var C={dark:f,light:p};return(0,a.default)((0,r.default)({common:h.default,type:x,primary:n,secondary:g,error:_,grey:c.default,contrastThreshold:w,getContrastText:M,augmentColor:I,tonalOffset:E},C[x]),S,{clone:!1})},t.dark=t.light=void 0;var r=i(n(2)),o=i(n(4)),a=(i(n(6)),i(n(22))),s=i(n(43)),l=i(n(80)),c=i(n(81)),u=i(n(82)),h=i(n(83)),d=n(44),p={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:h.default.white,default:c.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}};t.light=p;var f={text:{primary:h.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:c.default[800],default:"#303030"},action:{active:h.default.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function m(e,t,n,i){e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,d.lighten)(e.main,i):"dark"===t&&(e.dark=(0,d.darken)(e.main,1.5*i)))}t.dark=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={black:"#000",white:"#fff"};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="function"==typeof t?t(e):t,i=n.fontFamily,u=void 0===i?'"Roboto", "Helvetica", "Arial", sans-serif':i,h=n.fontSize,d=void 0===h?14:h,p=n.fontWeightLight,f=void 0===p?300:p,m=n.fontWeightRegular,g=void 0===m?400:m,y=n.fontWeightMedium,_=void 0===y?500:y,v=n.htmlFontSize,x=void 0===v?16:v,b=n.useNextVariants,w=void 0===b?Boolean(s.ponyfillGlobal.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__):b,T=(n.suppressWarning,n.allVariants),E=(0,o.default)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","htmlFontSize","useNextVariants","suppressWarning","allVariants"]);var S=d/14,M=function(e){return"".concat(e/x*S,"rem")},I=function(t,n,i,o,a){return(0,r.default)({color:e.text.primary,fontFamily:u,fontWeight:t,fontSize:M(n),lineHeight:i},'"Roboto", "Helvetica", "Arial", sans-serif'===u?{letterSpacing:"".concat(l(o/n),"em")}:{},a,T)},C={h1:I(f,96,1,-1.5),h2:I(f,60,1,-.5),h3:I(g,48,1.04,0),h4:I(g,34,1.17,.25),h5:I(g,24,1.33,0),h6:I(_,20,1.6,.15),subtitle1:I(g,16,1.75,.15),subtitle2:I(_,14,1.57,.1),body1Next:I(g,16,1.5,.15),body2Next:I(g,14,1.5,.15),buttonNext:I(_,14,1.75,.4,c),captionNext:I(g,12,1.66,.4),overline:I(g,12,2.66,1,c)},k={display4:(0,r.default)({fontSize:M(112),fontWeight:f,fontFamily:u,letterSpacing:"-.04em",lineHeight:"".concat(l(128/112),"em"),marginLeft:"-.04em",color:e.text.secondary},T),display3:(0,r.default)({fontSize:M(56),fontWeight:g,fontFamily:u,letterSpacing:"-.02em",lineHeight:"".concat(l(73/56),"em"),marginLeft:"-.02em",color:e.text.secondary},T),display2:(0,r.default)({fontSize:M(45),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(51/45),"em"),marginLeft:"-.02em",color:e.text.secondary},T),display1:(0,r.default)({fontSize:M(34),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(41/34),"em"),color:e.text.secondary},T),headline:(0,r.default)({fontSize:M(24),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(32.5/24),"em"),color:e.text.primary},T),title:(0,r.default)({fontSize:M(21),fontWeight:_,fontFamily:u,lineHeight:"".concat(l(24.5/21),"em"),color:e.text.primary},T),subheading:(0,r.default)({fontSize:M(16),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(1.5),"em"),color:e.text.primary},T),body2:(0,r.default)({fontSize:M(14),fontWeight:_,fontFamily:u,lineHeight:"".concat(l(24/14),"em"),color:e.text.primary},T),body1:(0,r.default)({fontSize:M(14),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(20.5/14),"em"),color:e.text.primary},T),caption:(0,r.default)({fontSize:M(12),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(1.375),"em"),color:e.text.secondary},T),button:(0,r.default)({fontSize:M(14),textTransform:"uppercase",fontWeight:_,fontFamily:u,color:e.text.primary},T)};return(0,a.default)((0,r.default)({pxToRem:M,round:l,fontFamily:u,fontSize:d,fontWeightLight:f,fontWeightRegular:g,fontWeightMedium:_},k,C,w?{body1:C.body1Next,body2:C.body2Next,button:C.buttonNext,caption:C.captionNext}:{},{useNextVariants:w}),E,{clone:!1})};var r=i(n(2)),o=i(n(4)),a=i(n(22)),s=(i(n(6)),n(7));function l(e){return Math.round(1e5*e)/1e5}var c={textTransform:"uppercase"}},function(e,t,n){"use strict";var i="function"==typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,u=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,_=i?Symbol.for("react.block"):60121,v=i?Symbol.for("react.fundamental"):60117,x=i?Symbol.for("react.responder"):60118,b=i?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case h:case d:case a:case l:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case y:case g:case c:return e;default:return t}}case o:return t}}}function T(e){return w(e)===d}t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=a,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return T(e)||w(e)===h},t.isConcurrentMode=T,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===x||e.$$typeof===b||e.$$typeof===_)},t.typeOf=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function i(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var r=["none",i(0,1,3,0,0,1,1,0,0,2,1,-1),i(0,1,5,0,0,2,2,0,0,3,1,-2),i(0,1,8,0,0,3,4,0,0,3,3,-2),i(0,2,4,-1,0,4,5,0,0,1,10,0),i(0,3,5,-1,0,5,8,0,0,1,14,0),i(0,3,5,-1,0,6,10,0,0,1,18,0),i(0,4,5,-2,0,7,10,1,0,2,16,1),i(0,5,5,-3,0,8,10,1,0,3,14,2),i(0,5,6,-3,0,9,12,1,0,3,16,2),i(0,6,6,-3,0,10,14,1,0,4,18,3),i(0,6,7,-4,0,11,15,1,0,4,20,3),i(0,7,8,-4,0,12,17,2,0,5,22,4),i(0,7,8,-4,0,13,19,2,0,5,24,4),i(0,7,9,-4,0,14,21,2,0,5,26,4),i(0,8,9,-5,0,15,22,2,0,6,28,5),i(0,8,10,-5,0,16,24,2,0,6,30,5),i(0,8,11,-5,0,17,26,2,0,6,32,5),i(0,9,11,-5,0,18,28,2,0,7,34,6),i(0,9,12,-6,0,19,29,2,0,7,36,6),i(0,10,13,-6,0,20,31,3,0,8,38,7),i(0,10,13,-6,0,21,33,3,0,8,40,7),i(0,10,14,-6,0,22,35,3,0,8,42,7),i(0,11,14,-7,0,23,36,3,0,9,44,8),i(0,11,15,-7,0,24,38,3,0,9,46,8)];t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={borderRadius:4};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={unit:8};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isNumber=t.isString=t.formatMs=t.duration=t.easing=void 0;var r=i(n(4)),o=(i(n(6)),{easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"});t.easing=o;var a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};t.duration=a;var s=function(e){return"".concat(Math.round(e),"ms")};t.formatMs=s;t.isString=function(e){return"string"==typeof e};t.isNumber=function(e){return!isNaN(parseFloat(e))};var l={easing:o,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,i=void 0===n?a.standard:n,l=t.easing,c=void 0===l?o.easeInOut:l,u=t.delay,h=void 0===u?0:u;(0,r.default)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof i?i:s(i)," ").concat(c," ").concat("string"==typeof h?h:s(h))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={mobileStepper:1e3,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(){return{onCreateRule:function(e,t,n){if("@global"===e)return new s(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new l(e,t,n);var i=n.parent;return i&&("global"!==i.type&&"global"!==i.options.parent.type||(n.global=!0)),n.global&&(n.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,n=e.style,r=n["@global"];if(!r)return;for(var o in r)t.sheet.addRule(o,r[o],i({},t,{selector:u(o,e.selector)}));delete n["@global"]}(e),function(e){var t=e.options,n=e.style;for(var r in n)if("@global"===r.substr(0,"@global".length)){var o=u(r.substr("@global".length),e.selector);t.sheet.addRule(o,n[r],i({},t,{selector:o})),delete n[r]}}(e))}}};var o=n(52);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t,n,r){for(var s in a(this,e),this.type="global",this.key=t,this.options=r,this.rules=new o.RuleList(i({},r,{parent:this})),n)this.rules.add(s,n[s],{selector:s});this.rules.process()}return r(e,[{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"addRule",value:function(e,t,n){var i=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(i),i}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"toString",value:function(){return this.rules.toString()}}]),e}(),l=function(){function e(t,n,r){a(this,e),this.name=t,this.options=r;var o=t.substr("@global ".length);this.rule=r.jss.createRule(o,n,i({},r,{parent:this,selector:o}))}return r(e,[{key:"toString",value:function(e){return this.rule.toString(e)}}]),e}(),c=/\s*,\s*/g;function u(e,t){for(var n=e.split(c),i="",r=0;r<n.length;r++)i+=t+" "+n[r].trim(),n[r+1]&&(i+=", ");return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t){var n=null;for(var r in t){var o=t[r],a=void 0===o?"undefined":i(o);if("function"===a)n||(n={}),n[r]=o;else if("object"===a&&null!==o&&!Array.isArray(o)){var s=e(o);s&&(n||(n={}),n[r]=s)}}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(17));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sheets=[],this.refs=[],this.keys=[]}return i(e,[{key:"get",value:function(e){var t=this.keys.indexOf(e);return this.sheets[t]}},{key:"add",value:function(e,t){var n=this.sheets,i=this.refs,r=this.keys,o=n.indexOf(t);return-1!==o?o:(n.push(t),i.push(0),r.push(e),n.length-1)}},{key:"manage",value:function(e){var t=this.keys.indexOf(e),n=this.sheets[t];return 0===this.refs[t]&&n.attach(),this.refs[t]++,this.keys[t]||this.keys.splice(t,0,e),n}},{key:"unmanage",value:function(e){var t=this.keys.indexOf(e);-1!==t?this.refs[t]>0&&(this.refs[t]--,0===this.refs[t]&&this.sheets[t].detach()):(0,r.default)(!1,"SheetsManager: can't find sheet to unmanage")}},{key:"size",get:function(){return this.keys.length}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t){if(null==t)return t;var n=void 0===t?"undefined":i(t);if("string"===n||"number"===n||"function"===n)return t;if(o(t))return t.map(e);if((0,r.default)(t))return t;var a={};for(var s in t){var l=t[s];"object"!==(void 0===l?"undefined":i(l))?a[s]=l:a[s]=e(l)}return a};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(54));var o=Array.isArray},function(e,t,n){"use strict";n.r(t),function(e,i){var r,o=n(67);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var a=Object(o.a)(r);t.default=a}.call(this,n(25),n(96)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});e.CSS;t.default=function(e){return e}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="2f1acc6c3a606b082e5eef5e54414ffb";null==e[n]&&(e[n]=0),t.default=e[n]++}).call(this,n(25))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=_(n(26)),s=_(n(57)),l=_(n(100)),c=_(n(101)),u=_(n(107)),h=_(n(108)),d=_(n(31)),p=_(n(18)),f=_(n(56)),m=_(n(24)),g=_(n(109)),y=_(n(110));function _(e){return e&&e.__esModule?e:{default:e}}var v=c.default.concat([u.default,h.default]),x=0,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=x++,this.version="9.8.7",this.plugins=new l.default,this.options={createGenerateClassName:f.default,Renderer:a.default?g.default:y.default,plugins:[]},this.generateClassName=(0,f.default)(),this.use.apply(this,v),this.setup(t)}return o(e,[{key:"setup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.createGenerateClassName&&(this.options.createGenerateClassName=e.createGenerateClassName,this.generateClassName=e.createGenerateClassName()),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),(e.virtual||e.Renderer)&&(this.options.Renderer=e.Renderer||(e.virtual?y.default:g.default)),e.plugins&&this.use.apply(this,e.plugins),this}},{key:"createStyleSheet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index;"number"!=typeof n&&(n=0===d.default.index?0:d.default.index+1);var i=new s.default(e,r({},t,{jss:this,generateClassName:t.generateClassName||this.generateClassName,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i}},{key:"removeStyleSheet",value:function(e){return e.detach(),d.default.remove(e),this}},{key:"createRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===(void 0===e?"undefined":i(e))&&(n=t,t=e,e=void 0);var r=n;r.jss=this,r.Renderer=this.options.Renderer,r.generateClassName||(r.generateClassName=this.generateClassName),r.classes||(r.classes={});var o=(0,m.default)(e,t,r);return!r.selector&&o instanceof p.default&&(o.selector="."+r.generateClassName(o)),this.plugins.onProcessRule(o),o}},{key:"use",value:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){-1===e.options.plugins.indexOf(t)&&(e.options.plugins.push(t),e.plugins.use(t))})),this}}]),e}();t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(17));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks={onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}}return i(e,[{key:"onCreateRule",value:function(e,t,n){for(var i=0;i<this.hooks.onCreateRule.length;i++){var r=this.hooks.onCreateRule[i](e,t,n);if(r)return r}return null}},{key:"onProcessRule",value:function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.hooks.onProcessRule.length;n++)this.hooks.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}}},{key:"onProcessStyle",value:function(e,t,n){for(var i=e,r=0;r<this.hooks.onProcessStyle.length;r++)i=this.hooks.onProcessStyle[r](i,t,n),t.style=i}},{key:"onProcessSheet",value:function(e){for(var t=0;t<this.hooks.onProcessSheet.length;t++)this.hooks.onProcessSheet[t](e)}},{key:"onUpdate",value:function(e,t,n){for(var i=0;i<this.hooks.onUpdate.length;i++)this.hooks.onUpdate[i](e,t,n)}},{key:"onChangeValue",value:function(e,t,n){for(var i=e,r=0;r<this.hooks.onChangeValue.length;r++)i=this.hooks.onChangeValue[r](i,t,n);return i}},{key:"use",value:function(e){for(var t in e)this.hooks[t]?this.hooks[t].push(e[t]):(0,r.default)(!1,'[JSS] Unknown hook "%s".',t)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(102)),r=l(n(103)),o=l(n(104)),a=l(n(105)),s=l(n(106));function l(e){return e&&e.__esModule?e:{default:e}}var c={"@charset":i.default,"@import":i.default,"@namespace":i.default,"@keyframes":r.default,"@media":o.default,"@supports":o.default,"@font-face":a.default,"@viewport":s.default,"@-ms-viewport":s.default},u=Object.keys(c).map((function(e){var t=new RegExp("^"+e),n=c[e];return{onCreateRule:function(e,i,r){return t.test(e)?new n(e,i,r):null}}}));t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="simple",this.isProcessed=!1,this.key=t,this.value=n,this.options=i}return i(e,[{key:"toString",value:function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(20));var a=function(){function e(t,n,r){for(var a in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="keyframes",this.isProcessed=!1,this.key=t,this.options=r,this.rules=new o.default(i({},r,{parent:this})),n)this.rules.add(a,n[a],i({},this.options,{parent:this,selector:a}));this.rules.process()}return r(e,[{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},t=this.rules.toString(e);return t&&(t+="\n"),this.key+" {\n"+t+"}"}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(20));var a=function(){function e(t,n,r){for(var a in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="conditional",this.isProcessed=!1,this.key=t,this.options=r,this.rules=new o.default(i({},r,{parent:this})),n)this.rules.add(a,n[a]);this.rules.process()}return r(e,[{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"addRule",value:function(e,t,n){var i=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(i),i}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},t=this.rules.toString(e);return t?this.key+" {\n"+t+"\n}":""}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(30));var o=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="font-face",this.isProcessed=!1,this.key=t,this.style=n,this.options=i}return i(e,[{key:"toString",value:function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=(0,r.default)(this.key,this.style[n]),this.style[n+1]&&(t+="\n");return t}return(0,r.default)(this.key,this.style,e)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(30));var o=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="viewport",this.isProcessed=!1,this.key=t,this.style=n,this.options=i}return i(e,[{key:"toString",value:function(e){return(0,r.default)(this.key,this.style,e)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(18)),r=a(n(24)),o=a(n(54));function a(e){return e&&e.__esModule?e:{default:e}}t.default={onCreateRule:function(e,t,n){if(!(0,o.default)(t))return null;var i=t,a=(0,r.default)(e,{},n);return i.subscribe((function(e){for(var t in e)a.prop(t,e[t])})),a},onProcessRule:function(e){if(e instanceof i.default){var t=e,n=t.style,r=function(e){var i=n[e];if(!(0,o.default)(i))return"continue";delete n[e],i.subscribe({next:function(n){t.prop(e,n)}})};for(var a in n)r(a)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(20)),r=a(n(18)),o=a(n(24));function a(e){return e&&e.__esModule?e:{default:e}}var s=Date.now(),l="fnValues"+s,c="fnStyle"+ ++s;t.default={onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var i=(0,o.default)(e,{},n);return i[c]=t,i},onProcessStyle:function(e,t){var n={};for(var i in e){var r=e[i];"function"==typeof r&&(delete e[i],n[i]=r)}return(t=t)[l]=n,e},onUpdate:function(e,t){if(t.rules instanceof i.default)t.rules.update(e);else if(t instanceof r.default){if((t=t)[l])for(var n in t[l])t.prop(n,t[l][n](e));var o=(t=t)[c];if(o){var a=o(e);for(var s in a)t.prop(s,a[s])}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(17)),o=l(n(31)),a=l(n(18)),s=l(n(23));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=void 0;return function(){return t||(t=e()),t}};function u(e,t){try{return e.style.getPropertyValue(t)}catch(e){return""}}function h(e,t,n){try{var i=n;if(Array.isArray(n)&&(i=(0,s.default)(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,i,"important"),!0;e.style.setProperty(t,i)}catch(e){return!1}return!0}function d(e,t){try{e.style.removeProperty(t)}catch(e){(0,r.default)(!1,'[JSS] DOMException "%s" was thrown. Tried to remove property "%s".',e.message,t)}}var p=1,f=7,m=function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.substr(t,e.indexOf("{")-1)};return function(t){if(t.type===p)return t.selectorText;if(t.type===f){var n=t.name;if(n)return"@keyframes "+n;var i=t.cssText;return"@"+e(i,i.indexOf("keyframes"))}return e(t.cssText)}}();function g(e,t){return e.selectorText=t,e.selectorText===t}var y=c((function(){return document.head||document.getElementsByTagName("head")[0]})),_=function(){var e=void 0,t=!1;return function(n){var i={};e||(e=document.createElement("style"));for(var r=0;r<n.length;r++){var o=n[r];if(o instanceof a.default){var s=o.selector;if(s&&-1!==s.indexOf("\\")){t||(y().appendChild(e),t=!0),e.textContent=s+" {}";var l=e.sheet;if(l){var c=l.cssRules;c&&(i[c[0].selectorText]=o.key)}}}}return t&&(y().removeChild(e),t=!1),i}}();function v(e){var t=o.default.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.attached&&i.options.index>t.index&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e);if(n)return n.renderer.element;if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.attached&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e))return n.renderer.element.nextElementSibling}var i=e.insertionPoint;if(i&&"string"==typeof i){var a=function(e){for(var t=y(),n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(8===i.nodeType&&i.nodeValue.trim()===e)return i}return null}(i);if(a)return a.nextSibling;(0,r.default)("jss"===i,'[JSS] Insertion point "%s" not found.',i)}return null}var x=c((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getPropertyValue=u,this.setProperty=h,this.removeProperty=d,this.setSelector=g,this.getKey=m,this.getUnescapedKeysMap=_,this.hasInsertedRules=!1,t&&o.default.add(t),this.sheet=t;var n=this.sheet?this.sheet.options:{},i=n.media,r=n.meta,a=n.element;this.element=a||document.createElement("style"),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),r&&this.element.setAttribute("data-meta",r);var s=x();s&&this.element.setAttribute("nonce",s)}return i(e,[{key:"attach",value:function(){!this.element.parentNode&&this.sheet&&(this.hasInsertedRules&&(this.deploy(),this.hasInsertedRules=!1),function(e,t){var n=t.insertionPoint,i=v(t);if(i){var o=i.parentNode;o&&o.insertBefore(e,i)}else if(n&&"number"==typeof n.nodeType){var a=n,s=a.parentNode;s?s.insertBefore(e,a.nextSibling):(0,r.default)(!1,"[JSS] Insertion point is not in the DOM.")}else y().insertBefore(e,i)}(this.element,this.sheet.options))}},{key:"detach",value:function(){this.element.parentNode.removeChild(this.element)}},{key:"deploy",value:function(){this.sheet&&(this.element.textContent="\n"+this.sheet.toString()+"\n")}},{key:"insertRule",value:function(e,t){var n=this.element.sheet,i=n.cssRules,o=e.toString();if(t||(t=i.length),!o)return!1;try{n.insertRule(o,t)}catch(t){return(0,r.default)(!1,"[JSS] Can not insert an unsupported rule \n\r%s",e),!1}return this.hasInsertedRules=!0,i[t]}},{key:"deleteRule",value:function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)}},{key:"indexOf",value:function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1}},{key:"replaceRule",value:function(e,t){var n=this.indexOf(e),i=this.insertRule(t,n);return this.element.sheet.deleteRule(n),i}},{key:"getRules",value:function(){return this.element.sheet.cssRules}}]),e}();t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"setProperty",value:function(){return!0}},{key:"getPropertyValue",value:function(){return""}},{key:"removeProperty",value:function(){}},{key:"setSelector",value:function(){return!0}},{key:"getKey",value:function(){return""}},{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"deploy",value:function(){}},{key:"insertRule",value:function(){return!1}},{key:"deleteRule",value:function(){return!0}},{key:"replaceRule",value:function(){return!1}},{key:"getRules",value:function(){}},{key:"indexOf",value:function(){return-1}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(){function e(e){return function(t,n){var i=e.getRule(n);return i?i.selector:((0,r.default)(!1,"[JSS] Could not find the referenced rule %s in %s.",n,e.options.meta||e),n)}}var t=function(e){return-1!==e.indexOf("&")};function n(e,n){for(var i=n.split(o),r=e.split(o),s="",l=0;l<i.length;l++)for(var c=i[l],u=0;u<r.length;u++){var h=r[u];s&&(s+=", "),s+=t(h)?h.replace(a,c):c+" "+h}return s}function l(e,t,n){if(n)return i({},n,{index:n.index+1});var r=e.options.nestingLevel;return r=void 0===r?1:r+1,i({},e.options,{nestingLevel:r,index:t.indexOf(e)+1})}return{onProcessStyle:function(r,o){if("style"!==o.type)return r;var a=o.options.parent,c=void 0,u=void 0;for(var h in r){var d=t(h),p="@"===h[0];if(d||p){if(c=l(o,a,c),d){var f=n(h,o.selector);u||(u=e(a)),f=f.replace(s,u),a.addRule(f,r[h],i({},c,{selector:f}))}else p&&a.addRule(h,null,c).addRule(o.key,r[h],{selector:o.selector});delete r[h]}}return r}}};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(112));var o=/\s*,\s*/g,a=/&/g,s=/\$([\w-]+)/g},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=r(e[t]);return e}return r(e)},onChangeValue:function(e,t,n){var r=(0,i.default)(t);return t===r?e:(n.prop(r,e),null)}}};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(114));function r(e){var t={};for(var n in e)t[(0,i.default)(n)]=e[n];return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(r):t.fallbacks=r(e.fallbacks)),t}},function(e,t,n){"use strict";n.r(t);var i=/[A-Z]/g,r=/^ms-/,o={};function a(e){return"-"+e.toLowerCase()}t.default=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(i,a);return o[e]=r.test(t)?"-"+t:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},i={};for(var r in e)i[r]=e[r],i[r.replace(t,n)]=e[r];return i}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r(e);function n(e,n){if("style"!==n.type)return e;for(var i in e)e[i]=a(i,e[i],t);return e}function i(e,n){return a(n,e,t)}return{onProcessStyle:n,onChangeValue:i}};var o=r(function(e){return e&&e.__esModule?e:{default:e}}(n(116)).default);function a(e,t,n){if(!t)return t;var r=t,s=void 0===t?"undefined":i(t);switch("object"===s&&Array.isArray(t)&&(s="array"),s){case"object":if("fallbacks"===e){for(var l in t)t[l]=a(l,t[l],n);break}for(var c in t)t[c]=a(e+"-"+c,t[c],n);break;case"array":for(var u=0;u<t.length;u++)t[u]=a(e,t[u],n);break;case"number":0!==t&&(r=t+(n[e]||o[e]||""))}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"animation-delay":"ms","animation-duration":"ms","background-position":"px","background-position-x":"px","background-position-y":"px","background-size":"px",border:"px","border-bottom":"px","border-bottom-left-radius":"px","border-bottom-right-radius":"px","border-bottom-width":"px","border-left":"px","border-left-width":"px","border-radius":"px","border-right":"px","border-right-width":"px","border-spacing":"px","border-top":"px","border-top-left-radius":"px","border-top-right-radius":"px","border-top-width":"px","border-width":"px","border-after-width":"px","border-before-width":"px","border-end-width":"px","border-horizontal-spacing":"px","border-start-width":"px","border-vertical-spacing":"px",bottom:"px","box-shadow":"px","column-gap":"px","column-rule":"px","column-rule-width":"px","column-width":"px","flex-basis":"px","font-size":"px","font-size-delta":"px",height:"px",left:"px","letter-spacing":"px","logical-height":"px","logical-width":"px",margin:"px","margin-after":"px","margin-before":"px","margin-bottom":"px","margin-left":"px","margin-right":"px","margin-top":"px","max-height":"px","max-width":"px","margin-end":"px","margin-start":"px","mask-position-x":"px","mask-position-y":"px","mask-size":"px","max-logical-height":"px","max-logical-width":"px","min-height":"px","min-width":"px","min-logical-height":"px","min-logical-width":"px",motion:"px","motion-offset":"px",outline:"px","outline-offset":"px","outline-width":"px",padding:"px","padding-bottom":"px","padding-left":"px","padding-right":"px","padding-top":"px","padding-after":"px","padding-before":"px","padding-end":"px","padding-start":"px","perspective-origin-x":"%","perspective-origin-y":"%",perspective:"px",right:"px","shape-margin":"px",size:"px","text-indent":"px","text-stroke":"px","text-stroke-width":"px",top:"px","transform-origin":"%","transform-origin-x":"%","transform-origin-y":"%","transform-origin-z":"%","transition-delay":"ms","transition-duration":"ms","vertical-align":"px",width:"px","word-spacing":"px","box-shadow-x":"px","box-shadow-y":"px","box-shadow-blur":"px","box-shadow-spread":"px","font-line-height":"px","text-shadow-x":"px","text-shadow-y":"px","text-shadow-blur":"px"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onProcessRule:function(e){"keyframes"===e.type&&(e.key="@"+i.prefix.css+e.key.substr(1))},onProcessStyle:function(e,t){if("style"!==t.type)return e;for(var n in e){var r=e[n],o=!1,a=i.supportedProperty(n);a&&a!==n&&(o=!0);var s=!1,l=i.supportedValue(a,r);l&&l!==r&&(s=!0),(o||s)&&(o&&delete e[n],e[a||n]=l||r)}return e},onChangeValue:function(e,t){return i.supportedValue(t,e)}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(118))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedValue=t.supportedProperty=t.prefix=void 0;var i=a(n(32)),r=a(n(119)),o=a(n(121));function a(e){return e&&e.__esModule?e:{default:e}}t.default={prefix:i.default,supportedProperty:r.default,supportedValue:o.default},t.prefix=i.default,t.supportedProperty=r.default,t.supportedValue=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!s)return e;if(null!=l[e])return l[e];(0,o.default)(e)in s.style?l[e]=e:r.default.js+(0,o.default)("-"+e)in s.style?l[e]=r.default.css+e:l[e]=!1;return l[e]};var i=a(n(26)),r=a(n(32)),o=a(n(120));function a(e){return e&&e.__esModule?e:{default:e}}var s=void 0,l={};if(i.default){s=document.createElement("p");var c=window.getComputedStyle(document.documentElement,"");for(var u in c)isNaN(u)||(l[c[u]]=c[u])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(i,r)};var i=/[-\s]+(.)?/g;function r(e,t){return t?t.toUpperCase():""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!s)return t;if("string"!=typeof t||!isNaN(parseInt(t,10)))return t;var n=e+t;if(null!=a[n])return a[n];try{s.style[e]=t}catch(e){return a[n]=!1,!1}""!==s.style[e]?a[n]=t:("-ms-flex"===(t=r.default.css+t)&&(t="-ms-flexbox"),s.style[e]=t,""!==s.style[e]&&(a[n]=t));a[n]||(a[n]=!1);return s.style[e]="",a[n]};var i=o(n(26)),r=o(n(32));function o(e){return e&&e.__esModule?e:{default:e}}var a={},s=void 0;i.default&&(s=document.createElement("p"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){return e.length-t.length}return{onProcessStyle:function(t,n){if("style"!==n.type)return t;var i={},r=Object.keys(t).sort(e);for(var o in r)i[r[o]]=t[r[o]];return i}}}},function(e,t,n){"use strict";var i=n(124),r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MuiThemeProviderOld=void 0;var o=r(n(2)),a=r(n(5)),s=r(n(10)),l=r(n(11)),c=r(n(12)),u=r(n(13)),h=r(n(14)),d=r(n(1)),p=r(n(3)),f=(r(n(6)),r(n(127))),m=n(7),g=i(n(34)),y=function(e){function t(e,n){var i;return(0,s.default)(this,t),(i=(0,c.default)(this,(0,u.default)(t).call(this))).broadcast=(0,f.default)(),i.outerTheme=g.default.initial(n),i.broadcast.setState(i.mergeOuterLocalTheme(e.theme)),i}return(0,h.default)(t,e),(0,l.default)(t,[{key:"getChildContext",value:function(){var e,t=this.props,n=t.disableStylesGeneration,i=t.sheetsCache,r=t.sheetsManager,o=this.context.muiThemeProviderOptions||{};return void 0!==n&&(o.disableStylesGeneration=n),void 0!==i&&(o.sheetsCache=i),void 0!==r&&(o.sheetsManager=r),e={},(0,a.default)(e,g.CHANNEL,this.broadcast),(0,a.default)(e,"muiThemeProviderOptions",o),e}},{key:"componentDidMount",value:function(){var e=this;this.unsubscribeId=g.default.subscribe(this.context,(function(t){e.outerTheme=t,e.broadcast.setState(e.mergeOuterLocalTheme(e.props.theme))}))}},{key:"componentDidUpdate",value:function(e){this.props.theme!==e.theme&&this.broadcast.setState(this.mergeOuterLocalTheme(this.props.theme))}},{key:"componentWillUnmount",value:function(){null!==this.unsubscribeId&&g.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"mergeOuterLocalTheme",value:function(e){return"function"==typeof e?e(this.outerTheme):this.outerTheme?(0,o.default)({},this.outerTheme,e):e}},{key:"render",value:function(){return this.props.children}}]),t}(d.default.Component);t.MuiThemeProviderOld=y,y.childContextTypes=(0,o.default)({},g.default.contextTypes,{muiThemeProviderOptions:p.default.object}),y.contextTypes=(0,o.default)({},g.default.contextTypes,{muiThemeProviderOptions:p.default.object}),m.ponyfillGlobal.__MUI_STYLES__||(m.ponyfillGlobal.__MUI_STYLES__={}),m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider||(m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider=y);var _=m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider;t.default=_},function(e,t,n){var i=n(15).default;function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(126);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t),t.default=function(e){var t={},n=1,i=e;return{getState:function(){return i},setState:function(e){i=e;for(var n=Object.keys(t),r=0,o=n.length;r<o;r++)t[n[r]]&&t[n[r]](e)},subscribe:function(e){if("function"!=typeof e)throw new Error("listener must be a function.");var i=n;return t[i]=e,n+=1,i},unsubscribe:function(e){delete t[e]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={jss:"64a55d578f856d258dc345b094a2a2b3",sheetsRegistry:"d4bd0baacbc52bbd48bbb9eb24344ecd",sheetOptions:"6fc570d6bd61383819d0f9e7407c452d"};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2));i(n(6)),n(7);var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;if(e.Component,!n)return t;var i=(0,r.default)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={set:function(e,t,n,i){var r=e.get(t);r||(r=new Map,e.set(t,r)),r.set(n,i)},get:function(e,t,n){var i=e.get(t);return i?i.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2)),o=(i(n(15)),i(n(6)),i(n(22)));function a(e,t){return t}var s=function(e){var t="function"==typeof e;return{create:function(n,i){var s=t?e(n):e;if(!i||!n.overrides||!n.overrides[i])return s;var l=n.overrides[i],c=(0,r.default)({},s);return Object.keys(l).forEach((function(e){c[e]=(0,o.default)(c[e],l[e],{arrayMerge:a})})),c},options:{},themingEnabled:t}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){var t=e.theme,n=e.name,i=e.props;if(!t.props||!n||!t.props[n])return i;var r,o=t.props[n];for(r in o)void 0===i[r]&&(i[r]=o[r]);return i};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=i(n(2)),a=i(n(4)),s=i(n(10)),l=i(n(11)),c=i(n(12)),u=i(n(13)),h=i(n(14)),d=i(n(1)),p=(i(n(3)),i(n(35))),f=n(7),m=i(n(29)),g=i(n(34));function y(){return r||(r=(0,m.default)({typography:{suppressWarning:!0}}))}f.ponyfillGlobal.__MUI_STYLES__||(f.ponyfillGlobal.__MUI_STYLES__={}),f.ponyfillGlobal.__MUI_STYLES__.withTheme||(f.ponyfillGlobal.__MUI_STYLES__.withTheme=function(){return function(e){var t=function(t){function n(e,t){var i;return(0,s.default)(this,n),(i=(0,c.default)(this,(0,u.default)(n).call(this))).state={theme:g.default.initial(t)||y()},i}return(0,h.default)(n,t),(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeId=g.default.subscribe(this.context,(function(t){e.setState({theme:t})}))}},{key:"componentWillUnmount",value:function(){null!==this.unsubscribeId&&g.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"render",value:function(){var t=this.props,n=t.innerRef,i=(0,a.default)(t,["innerRef"]);return d.default.createElement(e,(0,o.default)({theme:this.state.theme,ref:n},i))}}]),n}(d.default.Component);return t.contextTypes=g.default.contextTypes,(0,p.default)(t,e),t}});var _=f.ponyfillGlobal.__MUI_STYLES__.withTheme;t.default=_},,,function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=(n(7),i(n(9))),u=n(16),h=function(e){return{root:{display:"block",margin:0},display4:e.typography.display4,display3:e.typography.display3,display2:e.typography.display2,display1:e.typography.display1,headline:e.typography.headline,title:e.typography.title,subheading:e.typography.subheading,body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},inline:{display:"inline"}}};t.styles=h;var d={display4:"h1",display3:"h2",display2:"h3",display1:"h4",headline:"h5",title:"h6",subheading:"subtitle1"};var p={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",display4:"h1",display3:"h1",display2:"h1",display1:"h1",headline:"h1",title:"h2",subheading:"h3"};function f(e){var t,n=e.align,i=e.classes,c=e.className,h=e.color,f=e.component,m=e.gutterBottom,g=e.headlineMapping,y=e.inline,_=(e.internalDeprecatedVariant,e.noWrap),v=e.paragraph,x=e.theme,b=e.variant,w=(0,a.default)(e,["align","classes","className","color","component","gutterBottom","headlineMapping","inline","internalDeprecatedVariant","noWrap","paragraph","theme","variant"]),T=function(e,t){var n=e.typography,i=t;return i||(i=n.useNextVariants?"body2":"body1"),n.useNextVariants&&(i=d[i]||i),i}(x,b),E=(0,l.default)(i.root,(t={},(0,o.default)(t,i[T],"inherit"!==T),(0,o.default)(t,i["color".concat((0,u.capitalize)(h))],"default"!==h),(0,o.default)(t,i.noWrap,_),(0,o.default)(t,i.gutterBottom,m),(0,o.default)(t,i.paragraph,v),(0,o.default)(t,i["align".concat((0,u.capitalize)(n))],"inherit"!==n),(0,o.default)(t,i.inline,y),t),c),S=f||(v?"p":g[T]||p[T])||"span";return s.default.createElement(S,(0,r.default)({className:E},w))}f.defaultProps={align:"inherit",color:"default",gutterBottom:!1,headlineMapping:p,inline:!1,noWrap:!1,paragraph:!1};var m=(0,c.default)(h,{name:"MuiTypography",withTheme:!0})(f);t.default=m},,,,,function(e,t,n){(function(t){!function(n,i){e.exports=function(){"use strict";var e,n,i;function r(t,r){if(e)if(n){var o="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+e+")(sharedChunk); ("+n+")(sharedChunk); self.onerror = null;",a={};e(a),i=r(a),"undefined"!=typeof window&&window&&window.URL&&window.URL.createObjectURL&&(i.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else n=r;else e=r}return r(["exports"],(function(e){"use strict";var n="undefined"!=typeof self?self:{},i="2.12.0";let r;const o={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==r){const e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{r=null!=t.env.API_URL_REGEX?new RegExp(t.env.API_URL_REGEX):e}catch(t){r=e}}return r},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},a={supported:!1,testSupport:function(e){!c&&l&&(u?h(e):s=e)}};let s,l,c=!1,u=!1;function h(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,l),e.isContextLost())return;a.supported=!0}catch(e){}e.deleteTexture(t),c=!0}n.document&&(l=n.document.createElement("img"),l.onload=function(){s&&h(s),s=null,u=!0},l.onerror=function(){c=!0,s=null},l.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const d="01";var p=f;function f(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}f.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var r=this.sampleCurveX(n)-e;if(Math.abs(r)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=r/o}var a=0,s=1;for(n=e,i=0;i<20&&(r=this.sampleCurveX(n),!(Math.abs(r-e)<t));i++)e>r?a=n:s=n,n=.5*(s-a)+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var m=g;function g(e,t){this.x=e,this.y=t}g.prototype={clone:function(){return new g(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),i=Math.sin(e),r=t.y+i*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-i*(this.y-t.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},g.convert=function(e){return e instanceof g?e:Array.isArray(e)?new g(e[0],e[1]):e};const y=Math.PI/180,_=180/Math.PI;function v(e){return e*y}function x(e){return e*_}const b=[[0,0],[1,0],[1,1],[0,1]];function w(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function T(e,t,n,i){const r=new p(e,t,n,i);return function(e){return r.solve(e)}}const E=T(.25,.1,.25,1);function S(e,t,n){return Math.min(n,Math.max(t,e))}function M(e,t,n){return(n=S((n-e)/(t-e),0,1))*n*(3-2*n)}function I(e,t,n){const i=n-t,r=((e-t)%i+i)%i+t;return r===t?n:r}function C(e,t,n){if(!e.length)return n(null,[]);let i=e.length;const r=new Array(e.length);let o=null;e.forEach((e,a)=>{t(e,(e,t)=>{e&&(o=e),r[a]=t,0==--i&&n(o,r)})})}function k(e){const t=[];for(const n in e)t.push(e[n]);return t}function A(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}let P=1;function z(){return P++}function D(){return function e(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function L(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function O(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function R(e,t){e.forEach(e=>{t[e]&&(t[e]=t[e].bind(t))})}function B(e,t){return-1!==e.indexOf(t,e.length-t.length)}function j(e,t,n){const i={};for(const r in e)i[r]=t.call(n||this,e[r],r,e);return i}function F(e,t,n){const i={};for(const r in e)t.call(n||this,e[r],r,e)&&(i[r]=e[r]);return i}function N(e){return Array.isArray(e)?e.map(N):"object"==typeof e&&e?j(e,N):e}const U={};function V(e){U[e]||("undefined"!=typeof console&&console.warn(e),U[e]=!0)}function G(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function Z(e){let t=0;for(let n,i,r=0,o=e.length,a=o-1;r<o;a=r++)n=e[r],i=e[a],t+=(i.x-n.x)*(n.y+i.y);return t}function W(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function q(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(e,n,i,r)=>{const o=i||r;return t[n]=!o||o.toLowerCase(),""}),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t}let $=null;function H(e){if(null==$){const t=e.navigator?e.navigator.userAgent:null;$=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return $}function X(e){try{const t=n[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}function Y(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}const J="mapbox-tiles";let Q,K,ee=500,te=50;function ne(){try{return n.caches}catch(e){}}function ie(){ne()&&!Q&&(Q=n.caches.open(J))}function re(e){const t=e.indexOf("?");if(t<0)return e;const n=function(e){const t=e.indexOf("?");return t>0?e.slice(t+1).split("&"):[]}(e).filter(e=>{const t=e.split("=");return"language"===t[0]||"worldview"===t[0]});return n.length?`${e.slice(0,t)}?${n.join("&")}`:e.slice(0,t)}let oe=1/0;const ae={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(ae);class se extends Error{constructor(e,t,n){401===t&&_e(n)&&(e+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(e),this.status=t,this.url=n}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const le=W()?()=>self.worker&&self.worker.referrer:()=>("blob:"===n.location.protocol?n.parent:n).location.href,ce=function(e,t){if(!(/^file:/.test(i=e.url)||/^file:/.test(le())&&!/^\w+:/.test(i))){if(n.fetch&&n.Request&&n.AbortController&&n.Request.prototype.hasOwnProperty("signal"))return function(e,t){const i=new n.AbortController,r=new n.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:le(),signal:i.signal});let o=!1,a=!1;const s=(l=r.url).indexOf("sku=")>0&&_e(l);var l;"json"===e.type&&r.headers.set("Accept","application/json");const c=(i,o,l)=>{if(a)return;if(i&&"SecurityError"!==i.message&&V(i),o&&l)return u(o);const c=Date.now();n.fetch(r).then(n=>{if(n.ok){const e=s?n.clone():null;return u(n,e,c)}return t(new se(n.statusText,n.status,e.url))}).catch(e=>{20!==e.code&&t(new Error(e.message))})},u=(i,s,l)=>{("arrayBuffer"===e.type?i.arrayBuffer():"json"===e.type?i.json():i.text()).then(e=>{a||(s&&l&&function(e,t,i){if(ie(),!Q)return;const r={status:t.status,statusText:t.statusText,headers:new n.Headers};t.headers.forEach((e,t)=>r.headers.set(t,e));const o=q(t.headers.get("Cache-Control")||"");if(o["no-store"])return;o["max-age"]&&r.headers.set("Expires",new Date(i+1e3*o["max-age"]).toUTCString());const a=r.headers.get("Expires");a&&(new Date(a).getTime()-i<42e4||function(e,t){if(void 0===K)try{new Response(new ReadableStream),K=!0}catch(e){K=!1}K?t(e.body):e.blob().then(t)}(t,t=>{const i=new n.Response(t,r);ie(),Q&&Q.then(t=>t.put(re(e.url),i)).catch(e=>V(e.message))}))}(r,s,l),o=!0,t(null,e,i.headers.get("Cache-Control"),i.headers.get("Expires")))}).catch(e=>{a||t(new Error(e.message))})};return s?function(e,t){if(ie(),!Q)return t(null);const n=re(e.url);Q.then(e=>{e.match(n).then(i=>{const r=function(e){if(!e)return!1;const t=new Date(e.headers.get("Expires")||0),n=q(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(i);e.delete(n),r&&e.put(n,i.clone()),t(null,i,r)}).catch(t)}).catch(t)}(r,c):c(null,null),{cancel:()=>{a=!0,o||i.abort()}}}(e,t);if(W()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var i;return function(e,t){const i=new n.XMLHttpRequest;i.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(i.responseType="arraybuffer");for(const t in e.headers)i.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(i.responseType="text",i.setRequestHeader("Accept","application/json")),i.withCredentials="include"===e.credentials,i.onerror=()=>{t(new Error(i.statusText))},i.onload=()=>{if((i.status>=200&&i.status<300||0===i.status)&&null!==i.response){let n=i.response;if("json"===e.type)try{n=JSON.parse(i.response)}catch(e){return t(e)}t(null,n,i.getResponseHeader("Cache-Control"),i.getResponseHeader("Expires"))}else t(new se(i.statusText,i.status,e.url))},i.send(e.body),{cancel:()=>i.abort()}}(e,t)},ue=function(e,t){return ce(A(e,{type:"arrayBuffer"}),t)};function he(e){const t=n.document.createElement("a");return t.href=e,t.protocol===n.document.location.protocol&&t.host===n.document.location.host}const de="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let pe,fe;pe=[],fe=0;const me=function(e,t){if(a.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),fe>=o.MAX_PARALLEL_IMAGE_REQUESTS){const n={requestParameters:e,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return pe.push(n),n}fe++;let i=!1;const r=()=>{if(!i)for(i=!0,fe--;pe.length&&fe<o.MAX_PARALLEL_IMAGE_REQUESTS;){const e=pe.shift(),{requestParameters:t,callback:n,cancelled:i}=e;i||(e.cancel=me(t,n).cancel)}},s=ue(e,(e,i,o,a)=>{r(),e?t(e):i&&(n.createImageBitmap?function(e,t){const i=new n.Blob([new Uint8Array(e)],{type:"image/png"});n.createImageBitmap(i).then(e=>{t(null,e)}).catch(e=>{t(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(i,(e,n)=>t(e,n,o,a)):function(e,t){const i=new n.Image,r=n.URL;i.onload=()=>{t(null,i),r.revokeObjectURL(i.src),i.onload=null,n.requestAnimationFrame(()=>{i.src=de})},i.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const o=new n.Blob([new Uint8Array(e)],{type:"image/png"});i.src=e.byteLength?r.createObjectURL(o):de}(i,(e,n)=>t(e,n,o,a)))});return{cancel:()=>{s.cancel(),r()}}},ge="NO_ACCESS_TOKEN";function ye(e){return 0===e.indexOf("mapbox:")}function _e(e){return o.API_URL_REGEX.test(e)}function ve(e){return o.API_CDN_URL_REGEX.test(e)}function xe(e){return o.API_STYLE_REGEX.test(e)&&!be(e)}function be(e){return o.API_SPRITE_REGEX.test(e)}const we=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Te(e){const t=e.match(we);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Ee(e){const t=e.params.length?"?"+e.params.join("&"):"";return`${e.protocol}://${e.authority}${e.path}${t}`}function Se(e){if(!e)return null;const t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(n.atob(t[1]).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(e){return null}}class Me{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const t=Se(o.ACCESS_TOKEN);let i="";return i=t&&t.u?n.btoa(encodeURIComponent(t.u).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(Number("0x"+t)))):o.ACCESS_TOKEN||"",e?`mapbox.eventData.${e}:${i}`:"mapbox.eventData:"+i}fetchEventData(){const e=X("localStorage"),t=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{const e=n.localStorage.getItem(t);e&&(this.eventData=JSON.parse(e));const r=n.localStorage.getItem(i);r&&(this.anonId=r)}catch(e){V("Unable to read from LocalStorage")}}saveEventData(){const e=X("localStorage"),t=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{n.localStorage.setItem(i,this.anonId),Object.keys(this.eventData).length>=1&&n.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){V("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,t,n,i){if(!o.EVENTS_URL)return;const r=Te(o.EVENTS_URL);r.params.push("access_token="+(i||o.ACCESS_TOKEN||""));const a={event:this.type,created:new Date(e).toISOString()},s=t?A(a,t):a,l={url:Ee(r),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=function(e,t){return ce(A(e,{method:"POST"}),t)}(l,e=>{this.pendingRequest=null,n(e),this.saveEventData(),this.processRequests(i)})}queueRequest(e,t){this.queue.push(e),this.processRequests(t)}}const Ie=new class extends Me{constructor(e){super("appUserTurnstile"),this._customAccessToken=e}postTurnstileEvent(e,t){o.EVENTS_URL&&o.ACCESS_TOKEN&&Array.isArray(e)&&e.some(e=>ye(e)||_e(e))&&this.queueRequest(Date.now(),t)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=Se(o.ACCESS_TOKEN),n=t?t.u:o.ACCESS_TOKEN;let r=n!==this.eventData.tokenU;O(this.anonId)||(this.anonId=D(),r=!0);const a=this.queue.shift();if(this.eventData.lastSuccess){const e=new Date(this.eventData.lastSuccess),t=new Date(a),n=(a-this.eventData.lastSuccess)/864e5;r=r||n>=1||n<-1||e.getDate()!==t.getDate()}else r=!0;r?this.postEvent(a,{sdkIdentifier:"mapbox-gl-js",sdkVersion:i,skuId:d,"enabled.telemetry":!1,userId:this.anonId},e=>{e||(this.eventData.lastSuccess=a,this.eventData.tokenU=n)},e):this.processRequests()}},Ce=Ie.postTurnstileEvent.bind(Ie),ke=new class extends Me{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(e,t,n,i){this.skuToken=t,this.errorCb=i,o.EVENTS_URL&&(n||o.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(ge)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:n}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),O(this.anonId)||(this.anonId=D()),this.postEvent(n,{sdkIdentifier:"mapbox-gl-js",sdkVersion:i,skuId:d,skuToken:this.skuToken,userId:this.anonId},e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e))}},Ae=ke.postMapLoadEvent.bind(ke),Pe=new class extends Me{constructor(){super("gljs.performance")}postPerformanceEvent(e,t){o.EVENTS_URL&&(e||o.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},e)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:t,performanceData:r}=this.queue.shift(),o=function(e){const t=n.performance.getEntriesByType("resource"),r=n.performance.getEntriesByType("mark"),o=function(e){const t={};if(e)for(const n in e)if("other"!==n)for(const i of e[n]){const e=n+"ResolveRangeMin",r=n+"ResolveRangeMax",o=n+"RequestCount",a=n+"RequestCachedCount";t[e]=Math.min(t[e]||1/0,i.startTime),t[r]=Math.max(t[r]||-1/0,i.responseEnd);const s=e=>{void 0===t[e]&&(t[e]=0),++t[e]};void 0!==i.transferSize&&0===i.transferSize&&s(a),s(o)}return t}(function(e,t){const n={};if(e)for(const i of e){const e=t(i);void 0===n[e]&&(n[e]=[]),n[e].push(i)}return n}(t,je)),a=n.devicePixelRatio,s=n.navigator.connection||n.navigator.mozConnection||n.navigator.webkitConnection,l={counters:[],metadata:[],attributes:[]},c=(e,t,n)=>{null!=n&&e.push({name:t,value:n.toString()})};for(const e in o)c(l.counters,e,o[e]);if(e.interactionRange[0]!==1/0&&e.interactionRange[1]!==-1/0&&(c(l.counters,"interactionRangeMin",e.interactionRange[0]),c(l.counters,"interactionRangeMax",e.interactionRange[1])),r)for(const e of Object.keys(Re)){const t=Re[e],n=r.find(e=>e.name===t);n&&c(l.counters,t,n.startTime)}return c(l.counters,"visibilityHidden",e.visibilityHidden),c(l.attributes,"style",function(e){if(e)for(const t of e){const e=t.name.split("?")[0];if(xe(e)){const t=e.split("/").slice(-2);if(2===t.length)return`mapbox://styles/${t[0]}/${t[1]}`}}}(t)),c(l.attributes,"terrainEnabled",e.terrainEnabled?"true":"false"),c(l.attributes,"fogEnabled",e.fogEnabled?"true":"false"),c(l.attributes,"projection",e.projection),c(l.attributes,"zoom",e.zoom),c(l.metadata,"devicePixelRatio",a),c(l.metadata,"connectionEffectiveType",s?s.effectiveType:void 0),c(l.metadata,"navigatorUserAgent",n.navigator.userAgent),c(l.metadata,"screenWidth",n.screen.width),c(l.metadata,"screenHeight",n.screen.height),c(l.metadata,"windowWidth",n.innerWidth),c(l.metadata,"windowHeight",n.innerHeight),c(l.metadata,"mapWidth",e.width/a),c(l.metadata,"mapHeight",e.height/a),c(l.metadata,"webglRenderer",e.renderer),c(l.metadata,"webglVendor",e.vendor),c(l.metadata,"sdkVersion",i),c(l.metadata,"sdkIdentifier","mapbox-gl-js"),l}(r);for(const e of o.metadata);for(const e of o.counters);for(const e of o.attributes);this.postEvent(t,o,()=>{},e)}},ze=Pe.postPerformanceEvent.bind(Pe),De=new class extends Me{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(e,t,n,i){if(!o.API_URL||!o.SESSION_PATH)return;const r=Te(o.API_URL+o.SESSION_PATH);r.params.push("sku="+(t||"")),r.params.push("access_token="+(i||o.ACCESS_TOKEN||""));const a={url:Ee(r),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(e,t){return ce(A(e,{method:"GET"}),t)}(a,e=>{this.pendingRequest=null,n(e),this.saveEventData(),this.processRequests(i)})}getSessionAPI(e,t,n,i){this.skuToken=t,this.errorCb=i,o.SESSION_PATH&&o.API_URL&&(n||o.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(ge)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:n}=this.queue.shift();t&&this.success[t]||this.getSession(n,this.skuToken,e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e)}},Le=De.getSessionAPI.bind(De),Oe=new Set,Re={create:"create",load:"load",fullLoad:"fullLoad"},Be={mark(e){n.performance.mark(e)},measure(e,t,i){n.performance.measure(e,t,i)}};function je(e){const t=e.name.split("?")[0];return ve(t)&&t.includes("mapbox-gl.js")?"javascript":ve(t)&&t.includes("mapbox-gl.css")?"css":function(e){return o.API_FONTS_REGEX.test(e)}(t)?"fontRange":be(t)?"sprite":xe(t)?"style":function(e){return o.API_TILEJSON_REGEX.test(e)}(t)?"tilejson":"other"}const Fe=n.performance;function Ne(e){const t=e?e.url.toString():void 0;return Fe.getEntriesByName(t)}let Ue,Ve,Ge,Ze;const We={now:()=>void 0!==Ge?Ge:n.performance.now(),setNow(e){Ge=e},restoreNow(){Ge=void 0},frame(e){const t=n.requestAnimationFrame(e);return{cancel:()=>n.cancelAnimationFrame(t)}},getImageData(e,t=0){const{width:i,height:r}=e;Ze||(Ze=n.document.createElement("canvas"));const o=Ze.getContext("2d",{willReadFrequently:!0});if(!o)throw new Error("failed to create canvas 2d context");return(i>Ze.width||r>Ze.height)&&(Ze.width=i,Ze.height=r),o.clearRect(-t,-t,i+2*t,r+2*t),o.drawImage(e,0,0,i,r),o.getImageData(-t,-t,i+2*t,r+2*t)},resolveURL:e=>(Ue||(Ue=n.document.createElement("a")),Ue.href=e,Ue.href),get devicePixelRatio(){return n.devicePixelRatio},get prefersReducedMotion(){return!!n.matchMedia&&(null==Ve&&(Ve=n.matchMedia("(prefers-reduced-motion: reduce)")),Ve.matches)}};function qe(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function $e(e,t,n){if(n&&n[e]){const i=n[e].indexOf(t);-1!==i&&n[e].splice(i,1)}}class He{constructor(e,t={}){A(this,t),this.type=e}}class Xe extends He{constructor(e,t={}){super("error",A({error:e},t))}}class Ye{on(e,t){return this._listeners=this._listeners||{},qe(e,t,this._listeners),this}off(e,t){return $e(e,t,this._listeners),$e(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},qe(e,t,this._oneTimeListeners),this):new Promise(t=>this.once(e,t))}fire(e,t){"string"==typeof e&&(e=new He(e,t||{}));const n=e.type;if(this.listens(n)){e.target=this;const t=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(const n of t)n.call(this,e);const i=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(const t of i)$e(n,t,this._oneTimeListeners),t.call(this,e);const r=this._eventedParent;r&&(A(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),r.fire(e))}else e instanceof Xe&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var Je=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Qe(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}function Ke(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function et(e){if(Array.isArray(e))return e.map(et);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=et(e[n]);return t}return Ke(e)}class tt extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var nt=tt;class it{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,n]of t)this.bindings[e]=n}concat(e){return new it(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var rt=it;const ot={kind:"null"},at={kind:"number"},st={kind:"string"},lt={kind:"boolean"},ct={kind:"color"},ut={kind:"object"},ht={kind:"value"},dt={kind:"collator"},pt={kind:"formatted"},ft={kind:"resolvedImage"};function mt(e,t){return{kind:"array",itemType:e,N:t}}function gt(e){if("array"===e.kind){const t=gt(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const yt=[ot,at,st,lt,ct,pt,ut,mt(ht),ft];function _t(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!_t(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of yt)if(!_t(e,t))return null}return`Expected ${gt(e)} but found ${gt(t)} instead.`}function vt(e,t){return t.some(t=>t.kind===e.kind)}function xt(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}var bt,wt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Tt(e){return(e=Math.round(e))<0?0:e>255?255:e}function Et(e){return Tt("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function St(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function Mt(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{bt={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in wt)return wt[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var i=n.indexOf("("),r=n.indexOf(")");if(-1!==i&&r+1===n.length){var o=n.substr(0,i),a=n.substr(i+1,r-(i+1)).split(","),s=1;switch(o){case"rgba":if(4!==a.length)return null;s=St(a.pop());case"rgb":return 3!==a.length?null:[Et(a[0]),Et(a[1]),Et(a[2]),s];case"hsla":if(4!==a.length)return null;s=St(a.pop());case"hsl":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=St(a[1]),u=St(a[2]),h=u<=.5?u*(c+1):u+c-u*c,d=2*u-h;return[Tt(255*Mt(d,h,l+1/3)),Tt(255*Mt(d,h,l)),Tt(255*Mt(d,h,l-1/3)),s];default:return null}}return null}}catch(e){}class It{constructor(e,t,n,i=1){this.r=e,this.g=t,this.b=n,this.a=i}static parse(e){if(!e)return;if(e instanceof It)return e;if("string"!=typeof e)return;const t=bt(e);return t?new It(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,n,i]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${i})`}toArray(){const{r:e,g:t,b:n,a:i}=this;return 0===i?[0,0,0,0]:[255*e/i,255*t/i,255*n/i,i]}toArray01(){const{r:e,g:t,b:n,a:i}=this;return 0===i?[0,0,0,0]:[e/i,t/i,n/i,i]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:n,a:i}=this;return[e,t,n,i]}}It.black=new It(0,0,0,1),It.white=new It(1,1,1,1),It.transparent=new It(0,0,0,0),It.red=new It(1,0,0,1),It.blue=new It(0,0,1,1);var Ct=It;class kt{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class At{constructor(e,t,n,i,r){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=n,this.fontStack=i,this.textColor=r}}class Pt{constructor(e){this.sections=e}static fromString(e){return new Pt([new At(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof Pt?e:Pt.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class zt{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new zt({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Dt(e,t,n,i){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===i||"number"==typeof i&&i>=0&&i<=1?null:`Invalid rgba value [${[e,t,n,i].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof i?[e,t,n,i]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Lt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Ct)return!0;if(e instanceof kt)return!0;if(e instanceof Pt)return!0;if(e instanceof zt)return!0;if(Array.isArray(e)){for(const t of e)if(!Lt(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Lt(e[t]))return!1;return!0}return!1}function Ot(e){if(null===e)return ot;if("string"==typeof e)return st;if("boolean"==typeof e)return lt;if("number"==typeof e)return at;if(e instanceof Ct)return ct;if(e instanceof kt)return dt;if(e instanceof Pt)return pt;if(e instanceof zt)return ft;if(Array.isArray(e)){const t=e.length;let n;for(const t of e){const e=Ot(t);if(n){if(n===e)continue;n=ht;break}n=e}return mt(n||ht,t)}return ut}function Rt(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Ct||e instanceof Pt||e instanceof zt?e.toString():JSON.stringify(e)}class Bt{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Lt(e[1]))return t.error("invalid value");const n=e[1];let i=Ot(n);const r=t.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new Bt(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Ct?["rgba"].concat(this.value.toArray()):this.value instanceof Pt?this.value.serialize():this.value}}var jt=Bt,Ft=class{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}};const Nt={string:st,number:at,boolean:lt,object:ut};class Ut{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,i=1;const r=e[0];if("array"===r){let r,o;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in Nt)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);r=Nt[n],i++}else r=ht;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],i++}n=mt(r,o)}else n=Nt[r];const o=[];for(;i<e.length;i++){const n=t.parse(e[i],i,ht);if(!n)return null;o.push(n)}return new Ut(n,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!_t(this.type,Ot(n)))return n;if(t===this.args.length-1)throw new Ft(`Expected value to be of type ${gt(this.type)}, but found ${gt(Ot(n))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);const i=e.N;("number"==typeof i||this.args.length>1)&&t.push(i)}}return t.concat(this.args.map(e=>e.serialize()))}}var Vt=Ut;class Gt{constructor(e){this.type=pt,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const i=[];let r=!1;for(let n=1;n<=e.length-1;++n){const o=e[n];if(r&&"object"==typeof o&&!Array.isArray(o)){r=!1;let e=null;if(o["font-scale"]&&(e=t.parse(o["font-scale"],1,at),!e))return null;let n=null;if(o["text-font"]&&(n=t.parse(o["text-font"],1,mt(st)),!n))return null;let a=null;if(o["text-color"]&&(a=t.parse(o["text-color"],1,ct),!a))return null;const s=i[i.length-1];s.scale=e,s.font=n,s.textColor=a}else{const o=t.parse(e[n],1,ht);if(!o)return null;const a=o.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:o,scale:null,font:null,textColor:null})}}return new Gt(i)}evaluate(e){return new Pt(this.sections.map(t=>{const n=t.content.evaluate(e);return Ot(n)===ft?new At("",n,null,null,null):new At(Rt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class Zt{constructor(e){this.type=ft,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,st);return n?new Zt(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=zt.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Wt={"to-boolean":lt,"to-color":ct,"to-number":at,"to-string":st};class qt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const i=Wt[n],r=[];for(let n=1;n<e.length;n++){const i=t.parse(e[n],n,ht);if(!i)return null;r.push(i)}return new qt(i,r)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,n;for(const i of this.args){if(t=i.evaluate(e),n=null,t instanceof Ct)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:Dt(t[0],t[1],t[2],t[3]),!n))return new Ct(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ft(n||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const i=Number(t);if(!isNaN(i))return i}throw new Ft(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?Pt.fromString(Rt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?zt.fromString(Rt(this.args[0].evaluate(e))):Rt(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Gt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Zt(this.args[0]).serialize();const e=["to-"+this.type.kind];return this.eachChild(t=>{e.push(t.serialize())}),e}}var $t=qt;const Ht=["Unknown","Point","LineString","Polygon"];var Xt=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Ht[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:n,y:i}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(n*t-e[0])+this.featureDistanceData.bearing[1]*(i*t-e[1])}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Ct.parse(e)),t}};class Yt{constructor(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const n=e[0],i=Yt.definitions[n];if(!i)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const r=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=o.filter(([t])=>!Array.isArray(t)||t.length===e.length-1);let s=null;for(const[i,o]of a){s=new En(t.registry,t.path,null,t.scope);const a=[];let l=!1;for(let t=1;t<e.length;t++){const n=e[t],r=Array.isArray(i)?i[t-1]:i.type,o=s.parse(n,1+a.length,r);if(!o){l=!0;break}a.push(o)}if(!l)if(Array.isArray(i)&&i.length!==a.length)s.error(`Expected ${i.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){const t=Array.isArray(i)?i[e]:i.type,n=a[e];s.concat(e+1).checkSubtype(t,n.type)}if(0===s.errors.length)return new Yt(n,r,o,a)}}if(1===a.length)t.errors.push(...s.errors);else{const n=(a.length?a:o).map(([e])=>{return t=e,Array.isArray(t)?`(${t.map(gt).join(", ")})`:`(${gt(t.type)}...)`;var t}).join(" | "),i=[];for(let n=1;n<e.length;n++){const r=t.parse(e[n],1+i.length);if(!r)return null;i.push(gt(r.type))}t.error(`Expected arguments of type ${n}, but found (${i.join(", ")}) instead.`)}return null}static register(e,t){Yt.definitions=t;for(const n in t)e[n]=Yt}}var Jt=Yt;class Qt{constructor(e,t,n){this.type=dt,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const i=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,lt);if(!i)return null;const r=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,lt);if(!r)return null;let o=null;return n.locale&&(o=t.parse(n.locale,1,st),!o)?null:new Qt(i,r,o)}evaluate(e){return new kt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Kt=8192;function en(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function tn(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function nn(e,t){const n=(180+e[0])/360,i=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,r=Math.pow(2,t.z);return[Math.round(n*r*Kt),Math.round(i*r*Kt)]}function rn(e,t,n){const i=e[0]-t[0],r=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return i*a-o*r==0&&i*o<=0&&r*a<=0}function on(e,t){let n=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(rn(e,s[t],s[t+1]))return!1;(r=s[t])[1]>(i=e)[1]!=(o=s[t+1])[1]>i[1]&&i[0]<(o[0]-r[0])*(i[1]-r[1])/(o[1]-r[1])+r[0]&&(n=!n)}}var i,r,o;return n}function an(e,t){for(let n=0;n<t.length;n++)if(on(e,t[n]))return!0;return!1}function sn(e,t,n,i){const r=i[0]-n[0],o=i[1]-n[1],a=(e[0]-n[0])*o-r*(e[1]-n[1]),s=(t[0]-n[0])*o-r*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function ln(e,t,n){for(const c of n)for(let n=0;n<c.length-1;++n)if(0!=(s=[(a=c[n+1])[0]-(o=c[n])[0],a[1]-o[1]])[0]*(l=[(r=t)[0]-(i=e)[0],r[1]-i[1]])[1]-s[1]*l[0]&&sn(i,r,o,a)&&sn(o,a,i,r))return!0;var i,r,o,a,s,l;return!1}function cn(e,t){for(let n=0;n<e.length;++n)if(!on(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(ln(e[n],e[n+1],t))return!1;return!0}function un(e,t){for(let n=0;n<t.length;n++)if(cn(e,t[n]))return!0;return!1}function hn(e,t,n){const i=[];for(let r=0;r<e.length;r++){const o=[];for(let i=0;i<e[r].length;i++){const a=nn(e[r][i],n);en(t,a),o.push(a)}i.push(o)}return i}function dn(e,t,n){const i=[];for(let r=0;r<e.length;r++){const o=hn(e[r],t,n);i.push(o)}return i}function pn(e,t,n,i){if(e[0]<n[0]||e[0]>n[2]){const t=.5*i;let r=e[0]-n[0]>t?-i:n[0]-e[0]>t?i:0;0===r&&(r=e[0]-n[2]>t?-i:n[2]-e[0]>t?i:0),e[0]+=r}en(t,e)}function fn(e,t,n,i){const r=Math.pow(2,i.z)*Kt,o=[i.x*Kt,i.y*Kt],a=[];if(!e)return a;for(const i of e)for(const e of i){const i=[e.x+o[0],e.y+o[1]];pn(i,t,n,r),a.push(i)}return a}function mn(e,t,n,i){const r=Math.pow(2,i.z)*Kt,o=[i.x*Kt,i.y*Kt],a=[];if(!e)return a;for(const n of e){const e=[];for(const i of n){const n=[i.x+o[0],i.y+o[1]];en(t,n),e.push(n)}a.push(e)}if(t[2]-t[0]<=r/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const i of e)pn(i,t,n,r)}var s;return a}class gn{constructor(e,t){this.type=lt,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Lt(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const n=t.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new gn(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new gn(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new gn(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if(!r)return!1;if("Polygon"===t.type){const o=hn(t.coordinates,i,r),a=fn(e.geometry(),n,i,r);if(!tn(n,i))return!1;for(const e of a)if(!on(e,o))return!1}if("MultiPolygon"===t.type){const o=dn(t.coordinates,i,r),a=fn(e.geometry(),n,i,r);if(!tn(n,i))return!1;for(const e of a)if(!an(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if(!r)return!1;if("Polygon"===t.type){const o=hn(t.coordinates,i,r),a=mn(e.geometry(),n,i,r);if(!tn(n,i))return!1;for(const e of a)if(!cn(e,o))return!1}if("MultiPolygon"===t.type){const o=dn(t.coordinates,i,r),a=mn(e.geometry(),n,i,r);if(!tn(n,i))return!1;for(const e of a)if(!un(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var yn=gn;function _n(e){if(e instanceof Jt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof yn)return!1;let t=!0;return e.eachChild(e=>{t&&!_n(e)&&(t=!1)}),t}function vn(e){if(e instanceof Jt&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!vn(e)&&(t=!1)}),t}function xn(e,t){if(e instanceof Jt&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild(e=>{n&&!xn(e,t)&&(n=!1)}),n}class bn{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new bn(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var wn=bn;class Tn{constructor(e,t=[],n,i=new rt,r=[]){this.registry=e,this.path=t,this.key=t.map(e=>`[${e}]`).join(""),this.scope=i,this.errors=r,this.expectedType=n}parse(e,t,n,i,r={}){return t?this.concat(t,n,i)._parse(e,r):this._parse(e,r)}_parse(e,t){function n(e,t,n){return"assert"===n?new Vt(t,[e]):"coerce"===n?new $t(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if("string"!=typeof i)return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const r=this.registry[i];if(r){let i=r.parse(e,this);if(!i)return null;if(this.expectedType){const e=this.expectedType,r=i.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==r.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==r.kind&&"string"!==r.kind){if(this.checkSubtype(e,r))return null}else i=n(i,e,t.typeAnnotation||"coerce");else i=n(i,e,t.typeAnnotation||"assert")}if(!(i instanceof jt)&&"resolvedImage"!==i.type.kind&&function e(t){if(t instanceof wn)return e(t.boundExpression);if(t instanceof Jt&&"error"===t.name)return!1;if(t instanceof Qt)return!1;if(t instanceof yn)return!1;const n=t instanceof $t||t instanceof Vt;let i=!0;return t.eachChild(t=>{i=n?i&&e(t):i&&t instanceof jt}),!!i&&_n(t)&&xn(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}(i)){const t=new Xt;try{i=new jt(i.type,i.evaluate(t))}catch(e){return this.error(e.message),null}}return i}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const i="number"==typeof e?this.path.concat(e):this.path,r=n?this.scope.concat(n):this.scope;return new Tn(this.registry,i,t||null,r,this.errors)}error(e,...t){const n=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new nt(n,e))}checkSubtype(e,t){const n=_t(e,t);return n&&this.error(n),n}}var En=Tn;function Sn(e,t){const n=e.length-1;let i,r,o=0,a=n,s=0;for(;o<=a;)if(s=Math.floor((o+a)/2),i=e[s],r=e[s+1],i<=t){if(s===n||t<r)return s;o=s+1}else{if(!(i>t))throw new Ft("Input is not a number.");a=s-1}return 0}class Mn{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of n)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,at);if(!n)return null;const i=[];let r=null;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(let n=1;n<e.length;n+=2){const o=1===n?-1/0:e[n],a=e[n+1],s=n,l=n+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(i.length&&i[i.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=t.parse(a,l,r);if(!c)return null;r=r||c.type,i.push([o,c])}return new Mn(r,n,i)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;return i>=t[r-1]?n[r-1].evaluate(e):n[Sn(t,i)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var In=Mn;function Cn(e,t,n){return e*(1-n)+t*n}var kn=Object.freeze({__proto__:null,number:Cn,color:function(e,t,n){return new Ct(Cn(e.r,t.r,n),Cn(e.g,t.g,n),Cn(e.b,t.b,n),Cn(e.a,t.a,n))},array:function(e,t,n){return e.map((e,i)=>Cn(e,t[i],n))}});const An=6/29*3*(6/29),Pn=Math.PI/180,zn=180/Math.PI;function Dn(e){return e>.008856451679035631?Math.pow(e,1/3):e/An+4/29}function Ln(e){return e>6/29?e*e*e:An*(e-4/29)}function On(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Rn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Bn(e){const t=Rn(e.r),n=Rn(e.g),i=Rn(e.b),r=Dn((.4124564*t+.3575761*n+.1804375*i)/.95047),o=Dn((.2126729*t+.7151522*n+.072175*i)/1);return{l:116*o-16,a:500*(r-o),b:200*(o-Dn((.0193339*t+.119192*n+.9503041*i)/1.08883)),alpha:e.a}}function jn(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,i=isNaN(e.b)?t:t-e.b/200;return t=1*Ln(t),n=.95047*Ln(n),i=1.08883*Ln(i),new Ct(On(3.2404542*n-1.5371385*t-.4985314*i),On(-.969266*n+1.8760108*t+.041556*i),On(.0556434*n-.2040259*t+1.0572252*i),e.alpha)}function Fn(e,t,n){const i=t-e;return e+n*(i>180||i<-180?i-360*Math.round(i/360):i)}const Nn={forward:Bn,reverse:jn,interpolate:function(e,t,n){return{l:Cn(e.l,t.l,n),a:Cn(e.a,t.a,n),b:Cn(e.b,t.b,n),alpha:Cn(e.alpha,t.alpha,n)}}},Un={forward:function(e){const{l:t,a:n,b:i}=Bn(e),r=Math.atan2(i,n)*zn;return{h:r<0?r+360:r,c:Math.sqrt(n*n+i*i),l:t,alpha:e.a}},reverse:function(e){const t=e.h*Pn,n=e.c;return jn({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Fn(e.h,t.h,n),c:Cn(e.c,t.c,n),l:Cn(e.l,t.l,n),alpha:Cn(e.alpha,t.alpha,n)}}};var Vn=Object.freeze({__proto__:null,lab:Nn,hcl:Un});class Gn{constructor(e,t,n,i,r){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[e,t]of r)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,t,n,i){let r=0;if("exponential"===e.name)r=Zn(t,e.base,n,i);else if("linear"===e.name)r=Zn(t,1,n,i);else if("cubic-bezier"===e.name){const o=e.controlPoints;r=new p(o[0],o[1],o[2],o[3]).solve(Zn(t,1,n,i))}return r}static parse(e,t){let[n,i,r,...o]=e;if(!Array.isArray(i)||0===i.length)return t.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){const e=i[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:e}}else{if("cubic-bezier"!==i[0])return t.error("Unknown interpolation type "+String(i[0]),1,0);{const e=i.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(r=t.parse(r,2,at),!r)return null;const a=[];let s=null;"interpolate-hcl"===n||"interpolate-lab"===n?s=ct:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<o.length;e+=2){const n=o[e],i=o[e+1],r=e+3,l=e+4;if("number"!=typeof n)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',r);if(a.length&&a[a.length-1][0]>=n)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',r);const c=t.parse(i,l,s);if(!c)return null;s=s||c.type,a.push([n,c])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new Gn(s,n,i,r,a):t.error(`Type ${gt(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;if(i>=t[r-1])return n[r-1].evaluate(e);const o=Sn(t,i),a=Gn.interpolationFactor(this.interpolation,i,t[o],t[o+1]),s=n[o].evaluate(e),l=n[o+1].evaluate(e);return"interpolate"===this.operator?kn[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?Un.reverse(Un.interpolate(Un.forward(s),Un.forward(l),a)):Nn.reverse(Nn.interpolate(Nn.forward(s),Nn.forward(l),a))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function Zn(e,t,n,i){const r=i-n,o=e-n;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}var Wn=Gn;class qn{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const i=t.expectedType;i&&"value"!==i.kind&&(n=i);const r=[];for(const i of e.slice(1)){const e=t.parse(i,1+r.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,r.push(e)}const o=i&&r.some(e=>_t(i,e.type));return new qn(o?ht:n,r)}evaluate(e){let t,n=null,i=0;for(const r of this.args){if(i++,n=r.evaluate(e),n&&n instanceof zt&&!n.available&&(t||(t=n),n=null,i===this.args.length))return t;if(null!==n)break}return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var $n=qn;class Hn{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let i=1;i<e.length-1;i+=2){const r=e[i];if("string"!=typeof r)return t.error(`Expected string, but found ${typeof r} instead.`,i);if(/[^a-zA-Z0-9_]/.test(r))return t.error("Variable names must contain only alphanumeric characters or '_'.",i);const o=t.parse(e[i+1],i+1);if(!o)return null;n.push([r,o])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return i?new Hn(n,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}var Xn=Hn;class Yn{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,at),i=t.parse(e[2],2,mt(t.expectedType||ht));return n&&i?new Yn(i.type.itemType,n,i):null}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Ft(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new Ft(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new Ft(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Jn=Yn;class Qn{constructor(e,t){this.type=lt,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ht),i=t.parse(e[2],2,ht);return n&&i?vt(n.type,[lt,st,at,ot,ht])?new Qn(n,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${gt(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(null==n)return!1;if(!xt(t,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${gt(Ot(t))} instead.`);if(!xt(n,["string","array"]))throw new Ft(`Expected second argument to be of type array or string, but found ${gt(Ot(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Kn=Qn;class ei{constructor(e,t,n){this.type=at,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ht),i=t.parse(e[2],2,ht);if(!n||!i)return null;if(!vt(n.type,[lt,st,at,ot,ht]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${gt(n.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,at);return r?new ei(n,i,r):null}return new ei(n,i)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!xt(t,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${gt(Ot(t))} instead.`);if(!xt(n,["string","array"]))throw new Ft(`Expected second argument to be of type array or string, but found ${gt(Ot(n))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(e);return n.indexOf(t,i)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var ti=ei;class ni{constructor(e,t,n,i,r,o){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=r,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,i;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);const r={},o=[];for(let a=2;a<e.length-1;a+=2){let s=e[a];const l=e[a+1];Array.isArray(s)||(s=[s]);const c=t.concat(a);if(0===s.length)return c.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,Ot(e)))return null}else n=Ot(e);if(void 0!==r[String(e)])return c.error("Branch labels must be unique.");r[String(e)]=o.length}const u=t.parse(l,a,i);if(!u)return null;i=i||u.type,o.push(u)}const a=t.parse(e[1],1,ht);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,i);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(n,a.type)?null:new ni(n,i,a,r,o,s):null}evaluate(e){const t=this.input.evaluate(e);return(Ot(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],i={};for(const e of t){const t=i[this.cases[e]];void 0===t?(i[this.cases[e]]=n.length,n.push([this.cases[e],[e]])):n[t][1].push(e)}const r=e=>"number"===this.inputType.kind?Number(e):e;for(const[t,i]of n)e.push(1===i.length?r(i[0]):i.map(r)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}var ii=ni;class ri{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i=[];for(let r=1;r<e.length-1;r+=2){const o=t.parse(e[r],r,lt);if(!o)return null;const a=t.parse(e[r+1],r+1,n);if(!a)return null;i.push([o,a]),n=n||a.type}const r=t.parse(e[e.length-1],e.length-1,n);return r?new ri(n,i,r):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var oi=ri;class ai{constructor(e,t,n,i){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ht),i=t.parse(e[2],2,at);if(!n||!i)return null;if(!vt(n.type,[mt(ht),st,ht]))return t.error(`Expected first argument to be of type array or string, but found ${gt(n.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,at);return r?new ai(n.type,n,i,r):null}return new ai(n.type,n,i)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!xt(t,["string","array"]))throw new Ft(`Expected first argument to be of type array or string, but found ${gt(Ot(t))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(e);return t.slice(n,i)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var si=ai;function li(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function ci(e,t,n,i){return 0===i.compare(t,n)}function ui(e,t,n){const i="=="!==e&&"!="!==e;return class r{constructor(e,t,n){this.type=lt,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let o=t.parse(e[1],1,ht);if(!o)return null;if(!li(n,o.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${gt(o.type)}'.`);let a=t.parse(e[2],2,ht);if(!a)return null;if(!li(n,a.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${gt(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${gt(o.type)}' and '${gt(a.type)}'.`);i&&("value"===o.type.kind&&"value"!==a.type.kind?o=new Vt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new Vt(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,dt),!s)return null}return new r(o,a,s)}evaluate(r){const o=this.lhs.evaluate(r),a=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){const t=Ot(o),n=Ot(a);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new Ft(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!i&&this.hasUntypedArgument){const e=Ot(o),n=Ot(a);if("string"!==e.kind||"string"!==n.kind)return t(r,o,a)}return this.collator?n(r,o,a,this.collator.evaluate(r)):t(r,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild(e=>{t.push(e.serialize())}),t}}}const hi=ui("==",(function(e,t,n){return t===n}),ci),di=ui("!=",(function(e,t,n){return t!==n}),(function(e,t,n,i){return!ci(0,t,n,i)})),pi=ui("<",(function(e,t,n){return t<n}),(function(e,t,n,i){return i.compare(t,n)<0})),fi=ui(">",(function(e,t,n){return t>n}),(function(e,t,n,i){return i.compare(t,n)>0})),mi=ui("<=",(function(e,t,n){return t<=n}),(function(e,t,n,i){return i.compare(t,n)<=0})),gi=ui(">=",(function(e,t,n){return t>=n}),(function(e,t,n,i){return i.compare(t,n)>=0}));class yi{constructor(e,t,n,i,r,o){this.type=st,this.number=e,this.locale=t,this.currency=n,this.unit=i,this.minFractionDigits=r,this.maxFractionDigits=o}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,at);if(!n)return null;const i=e[2];if("object"!=typeof i||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let r=null;if(i.locale&&(r=t.parse(i.locale,1,st),!r))return null;let o=null;if(i.currency&&(o=t.parse(i.currency,1,st),!o))return null;let a=null;if(i.unit&&(a=t.parse(i.unit,1,st),!a))return null;let s=null;if(i["min-fraction-digits"]&&(s=t.parse(i["min-fraction-digits"],1,at),!s))return null;let l=null;return i["max-fraction-digits"]&&(l=t.parse(i["max-fraction-digits"],1,at),!l)?null:new yi(n,r,o,a,s,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class _i{constructor(e){this.type=at,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${gt(n.type)} instead.`):new _i(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Ft(`Expected value to be of type string or array, but found ${gt(Ot(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}const vi={"==":hi,"!=":di,">":fi,"<":pi,">=":gi,"<=":mi,array:Vt,at:Jn,boolean:Vt,case:oi,coalesce:$n,collator:Qt,format:Gt,image:Zt,in:Kn,"index-of":ti,interpolate:Wn,"interpolate-hcl":Wn,"interpolate-lab":Wn,length:_i,let:Xn,literal:jt,match:ii,number:Vt,"number-format":yi,object:Vt,slice:si,step:In,string:Vt,"to-boolean":$t,"to-color":$t,"to-number":$t,"to-string":$t,var:wn,within:yn};function xi(e,[t,n,i,r]){t=t.evaluate(e),n=n.evaluate(e),i=i.evaluate(e);const o=r?r.evaluate(e):1,a=Dt(t,n,i,o);if(a)throw new Ft(a);return new Ct(t/255*o,n/255*o,i/255*o,o)}function bi(e,t){return e in t}function wi(e,t){const n=t[e];return void 0===n?null:n}function Ti(e){return{type:e}}Jt.register(vi,{error:[{kind:"error"},[st],(e,[t])=>{throw new Ft(t.evaluate(e))}],typeof:[st,[ht],(e,[t])=>gt(Ot(t.evaluate(e)))],"to-rgba":[mt(at,4),[ct],(e,[t])=>t.evaluate(e).toArray()],rgb:[ct,[at,at,at],xi],rgba:[ct,[at,at,at,at],xi],has:{type:lt,overloads:[[[st],(e,[t])=>bi(t.evaluate(e),e.properties())],[[st,ut],(e,[t,n])=>bi(t.evaluate(e),n.evaluate(e))]]},get:{type:ht,overloads:[[[st],(e,[t])=>wi(t.evaluate(e),e.properties())],[[st,ut],(e,[t,n])=>wi(t.evaluate(e),n.evaluate(e))]]},"feature-state":[ht,[st],(e,[t])=>wi(t.evaluate(e),e.featureState||{})],properties:[ut,[],e=>e.properties()],"geometry-type":[st,[],e=>e.geometryType()],id:[ht,[],e=>e.id()],zoom:[at,[],e=>e.globals.zoom],pitch:[at,[],e=>e.globals.pitch||0],"distance-from-center":[at,[],e=>e.distanceFromCenter()],"heatmap-density":[at,[],e=>e.globals.heatmapDensity||0],"line-progress":[at,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[at,[],e=>e.globals.skyRadialProgress||0],accumulated:[ht,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[at,Ti(at),(e,t)=>{let n=0;for(const i of t)n+=i.evaluate(e);return n}],"*":[at,Ti(at),(e,t)=>{let n=1;for(const i of t)n*=i.evaluate(e);return n}],"-":{type:at,overloads:[[[at,at],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[at],(e,[t])=>-t.evaluate(e)]]},"/":[at,[at,at],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[at,[at,at],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[at,[],()=>Math.LN2],pi:[at,[],()=>Math.PI],e:[at,[],()=>Math.E],"^":[at,[at,at],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[at,[at],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[at,[at],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[at,[at],(e,[t])=>Math.log(t.evaluate(e))],log2:[at,[at],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[at,[at],(e,[t])=>Math.sin(t.evaluate(e))],cos:[at,[at],(e,[t])=>Math.cos(t.evaluate(e))],tan:[at,[at],(e,[t])=>Math.tan(t.evaluate(e))],asin:[at,[at],(e,[t])=>Math.asin(t.evaluate(e))],acos:[at,[at],(e,[t])=>Math.acos(t.evaluate(e))],atan:[at,[at],(e,[t])=>Math.atan(t.evaluate(e))],min:[at,Ti(at),(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[at,Ti(at),(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[at,[at],(e,[t])=>Math.abs(t.evaluate(e))],round:[at,[at],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[at,[at],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[at,[at],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[lt,[st,ht],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[lt,[ht],(e,[t])=>e.id()===t.value],"filter-type-==":[lt,[st],(e,[t])=>e.geometryType()===t.value],"filter-<":[lt,[st,ht],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i<r}],"filter-id-<":[lt,[ht],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n<i}],"filter->":[lt,[st,ht],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i>r}],"filter-id->":[lt,[ht],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n>i}],"filter-<=":[lt,[st,ht],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i<=r}],"filter-id-<=":[lt,[ht],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n<=i}],"filter->=":[lt,[st,ht],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i>=r}],"filter-id->=":[lt,[ht],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n>=i}],"filter-has":[lt,[ht],(e,[t])=>t.value in e.properties()],"filter-has-id":[lt,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[lt,[mt(st)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[lt,[mt(ht)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[lt,[st,mt(ht)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[lt,[st,mt(ht)],(e,[t,n])=>function(e,t,n,i){for(;n<=i;){const r=n+i>>1;if(t[r]===e)return!0;t[r]>e?i=r-1:n=r+1}return!1}(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:lt,overloads:[[[lt,lt],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[Ti(lt),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:lt,overloads:[[[lt,lt],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[Ti(lt),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[lt,[lt],(e,[t])=>!t.evaluate(e)],"is-supported-script":[lt,[st],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[st,[st],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[st,[st],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[st,Ti(ht),(e,t)=>t.map(t=>Rt(t.evaluate(e))).join("")],"resolved-locale":[st,[dt],(e,[t])=>t.evaluate(e).resolvedLocale()]});var Ei=vi;function Si(e){return{result:"success",value:e}}function Mi(e){return{result:"error",value:e}}function Ii(e){return"data-driven"===e["property-type"]}function Ci(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function ki(e){return!!e.expression&&e.expression.interpolated}function Ai(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Pi(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function zi(e){return e}function Di(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Li(e,t,n,i,r){return Di(typeof n===r?i[n]:void 0,e.default,t.default)}function Oi(e,t,n){if("number"!==Ai(n))return Di(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const r=Sn(e.stops.map(e=>e[0]),n);return e.stops[r][1]}function Ri(e,t,n){const i=void 0!==e.base?e.base:1;if("number"!==Ai(n))return Di(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const o=Sn(e.stops.map(e=>e[0]),n),a=function(e,t,n,i){const r=i-n,o=e-n;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}(n,i,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1];let c=kn[t.type]||zi;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=Vn[e.colorSpace];c=(e,n)=>t.reverse(t.interpolate(t.forward(e),t.forward(n),a))}return"function"==typeof s.evaluate?{evaluate(...e){const t=s.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==n)return c(t,n,a)}}:c(s,l,a)}function Bi(e,t,n){return"color"===t.type?n=Ct.parse(n):"formatted"===t.type?n=Pt.fromString(n.toString()):"resolvedImage"===t.type?n=zt.fromString(n.toString()):Ai(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),Di(n,e.default,t.default)}class ji{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Xt,this._defaultValue=t?function(e){return"color"===e.type&&(Pi(e.default)||Array.isArray(e.default))?new Ct(0,0,0,0):"color"===e.type?Ct.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,i,r,o,a,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,i,r,o,a,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Ft(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function Fi(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Ei}function Ni(e,t){const n=new En(Ei,[],t?function(e){const t={color:ct,string:st,number:at,enum:st,boolean:lt,formatted:pt,resolvedImage:ft};return"array"===e.type?mt(t[e.value]||ht,e.length):t[e.type]}(t):void 0),i=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return i?Si(new ji(i,t)):Mi(n.errors)}class Ui{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!vn(t.expression)}evaluateWithoutErrorHandling(e,t,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,o)}evaluate(e,t,n,i,r,o){return this._styleExpression.evaluate(e,t,n,i,r,o)}}class Vi{constructor(e,t,n,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!vn(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,o)}evaluate(e,t,n,i,r,o){return this._styleExpression.evaluate(e,t,n,i,r,o)}interpolationFactor(e,t,n){return this.interpolationType?Wn.interpolationFactor(this.interpolationType,e,t,n):0}}function Gi(e,t){if("error"===(e=Ni(e,t)).result)return e;const n=e.value.expression,i=_n(n);if(!i&&!Ii(t))return Mi([new nt("","data expressions not supported")]);const r=xn(n,["zoom","pitch","distance-from-center"]);if(!r&&!Ci(t))return Mi([new nt("","zoom expressions not supported")]);const o=function e(t){let n=null;if(t instanceof Xn)n=e(t.result);else if(t instanceof $n){for(const i of t.args)if(n=e(i),n)break}else(t instanceof In||t instanceof Wn)&&t.input instanceof Jt&&"zoom"===t.input.name&&(n=t);return n instanceof nt||t.eachChild(t=>{const i=e(t);i instanceof nt?n=i:!n&&i?n=new nt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&i&&n!==i&&(n=new nt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}(n);return o||r?o instanceof nt?Mi([o]):o instanceof Wn&&!ki(t)?Mi([new nt("",'"interpolate" expressions cannot be used with this property')]):Si(o?new Vi(i?"camera":"composite",e.value,o.labels,o instanceof Wn?o.interpolation:void 0):new Ui(i?"constant":"source",e.value)):Mi([new nt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Zi{constructor(e,t){this._parameters=e,this._specification=t,Qe(this,function e(t,n){const i="color"===n.type,r=t.stops&&"object"==typeof t.stops[0][0],o=r||!(r||void 0!==t.property),a=t.type||(ki(n)?"exponential":"interval");if(i&&((t=Qe({},t)).stops&&(t.stops=t.stops.map(e=>[e[0],Ct.parse(e[1])])),t.default=Ct.parse(t.default?t.default:n.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!Vn[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);let s,l,c;if("exponential"===a)s=Ri;else if("interval"===a)s=Oi;else if("categorical"===a){s=Li,l=Object.create(null);for(const e of t.stops)l[e[0]]=e[1];c=typeof t.stops[0][0]}else{if("identity"!==a)throw new Error(`Unknown function type "${a}"`);s=Bi}if(r){const i={},r=[];for(let e=0;e<t.stops.length;e++){const n=t.stops[e],o=n[0].zoom;void 0===i[o]&&(i[o]={zoom:o,type:t.type,property:t.property,default:t.default,stops:[]},r.push(o)),i[o].stops.push([n[0].value,n[1]])}const o=[];for(const t of r)o.push([i[t].zoom,e(i[t],n)]);const a={name:"linear"};return{kind:"composite",interpolationType:a,interpolationFactor:Wn.interpolationFactor.bind(void 0,a),zoomStops:o.map(e=>e[0]),evaluate:({zoom:e},i)=>Ri({stops:o,base:t.base},n,e).evaluate(e,i)}}if(o){const e="exponential"===a?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:e,interpolationFactor:Wn.interpolationFactor.bind(void 0,e),zoomStops:t.stops.map(e=>e[0]),evaluate:({zoom:e})=>s(t,n,e,l,c)}}return{kind:"source",evaluate(e,i){const r=i&&i.properties?i.properties[t.property]:void 0;return void 0===r?Di(t.default,n.default):s(t,n,r,l,c)}}}(this._parameters,this._specification))}static deserialize(e){return new Zi(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}class Wi{constructor(e,t,n,i){this.message=(e?e+": ":"")+n,i&&(this.identifier=i),null!=t&&t.__line__&&(this.line=t.__line__)}}function qi(e){const t=e.key,n=e.value,i=e.valueSpec||{},r=e.objectElementValidators||{},o=e.style,a=e.styleSpec;let s=[];const l=Ai(n);if("object"!==l)return[new Wi(t,n,`object expected, ${l} found`)];for(const e in n){const l=e.split(".")[0],c=i[l]||i["*"];let u;r[l]?u=r[l]:i[l]?u=wr:r["*"]?u=r["*"]:i["*"]&&(u=wr),u?s=s.concat(u({key:(t?t+".":t)+e,value:n[e],valueSpec:c,style:o,styleSpec:a,object:n,objectKey:e},n)):s.push(new Wi(t,n[e],`unknown property "${e}"`))}for(const e in i)r[e]||i[e].required&&void 0===i[e].default&&void 0===n[e]&&s.push(new Wi(t,n,`missing required property "${e}"`));return s}function $i(e){const t=e.value,n=e.valueSpec,i=e.style,r=e.styleSpec,o=e.key,a=e.arrayElementValidator||wr;if("array"!==Ai(t))return[new Wi(o,t,`array expected, ${Ai(t)} found`)];if(n.length&&t.length!==n.length)return[new Wi(o,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new Wi(o,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let s={type:n.value,values:n.values,minimum:n.minimum,maximum:n.maximum,function:void 0};r.$version<7&&(s.function=n.function),"object"===Ai(n.value)&&(s=n.value);let l=[];for(let e=0;e<t.length;e++)l=l.concat(a({array:t,arrayIndex:e,value:t[e],valueSpec:s,style:i,styleSpec:r,key:`${o}[${e}]`}));return l}function Hi(e){const t=e.key,n=e.value,i=e.valueSpec;let r=Ai(n);if("number"===r&&n!=n&&(r="NaN"),"number"!==r)return[new Wi(t,n,`number expected, ${r} found`)];if("minimum"in i){let r=i.minimum;if("array"===Ai(i.minimum)&&(r=i.minimum[e.arrayIndex]),n<r)return[new Wi(t,n,`${n} is less than the minimum value ${r}`)]}if("maximum"in i){let r=i.maximum;if("array"===Ai(i.maximum)&&(r=i.maximum[e.arrayIndex]),n>r)return[new Wi(t,n,`${n} is greater than the maximum value ${r}`)]}return[]}function Xi(e){const t=e.valueSpec,n=Ke(e.value.type);let i,r,o,a={};const s="categorical"!==n&&void 0===e.value.property,l=!s,c="array"===Ai(e.value.stops)&&"array"===Ai(e.value.stops[0])&&"object"===Ai(e.value.stops[0][0]),u=qi({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===n)return[new Wi(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const i=e.value;return t=t.concat($i({key:e.key,value:i,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:h})),"array"===Ai(i)&&0===i.length&&t.push(new Wi(e.key,i,"array must have at least one stop")),t},default:function(e){return wr({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===n&&s&&u.push(new Wi(e.key,e.value,'missing required property "property"')),"identity"===n||e.value.stops||u.push(new Wi(e.key,e.value,'missing required property "stops"')),"exponential"===n&&e.valueSpec.expression&&!ki(e.valueSpec)&&u.push(new Wi(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Ii(e.valueSpec)?u.push(new Wi(e.key,e.value,"property functions not supported")):s&&!Ci(e.valueSpec)&&u.push(new Wi(e.key,e.value,"zoom functions not supported"))),"categorical"!==n&&!c||void 0!==e.value.property||u.push(new Wi(e.key,e.value,'"property" property is required')),u;function h(e){let n=[];const i=e.value,s=e.key;if("array"!==Ai(i))return[new Wi(s,i,`array expected, ${Ai(i)} found`)];if(2!==i.length)return[new Wi(s,i,`array length 2 expected, length ${i.length} found`)];if(c){if("object"!==Ai(i[0]))return[new Wi(s,i,`object expected, ${Ai(i[0])} found`)];if(void 0===i[0].zoom)return[new Wi(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new Wi(s,i,"object stop key must have value")];const t=Ke(i[0].zoom);if("number"!=typeof t)return[new Wi(s,i[0].zoom,"stop zoom values must be numbers")];if(o&&o>t)return[new Wi(s,i[0].zoom,"stop zoom values must appear in ascending order")];t!==o&&(o=t,r=void 0,a={}),n=n.concat(qi({key:s+"[0]",value:i[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Hi,value:d}}))}else n=n.concat(d({key:s+"[0]",value:i[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},i));return Fi(et(i[1]))?n.concat([new Wi(s+"[1]",i[1],"expressions are not allowed in function stops.")]):n.concat(wr({key:s+"[1]",value:i[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function d(e,o){const s=Ai(e.value),l=Ke(e.value),c=null!==e.value?e.value:o;if(i){if(s!==i)return[new Wi(e.key,c,`${s} stop domain type must match previous stop domain type ${i}`)]}else i=s;if("number"!==s&&"string"!==s&&"boolean"!==s&&"number"!=typeof l&&"string"!=typeof l&&"boolean"!=typeof l)return[new Wi(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==n){let i=`number expected, ${s} found`;return Ii(t)&&void 0===n&&(i+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Wi(e.key,c,i)]}return"categorical"!==n||"number"!==s||"number"==typeof l&&isFinite(l)&&Math.floor(l)===l?"categorical"!==n&&"number"===s&&"number"==typeof l&&"number"==typeof r&&void 0!==r&&l<r?[new Wi(e.key,c,"stop domain values must appear in ascending order")]:(r=l,"categorical"===n&&l in a?[new Wi(e.key,c,"stop domain values must be unique")]:(a[l]=!0,[])):[new Wi(e.key,c,"integer expected, found "+String(l))]}}function Yi(e){const t=("property"===e.expressionContext?Gi:Ni)(et(e.value),e.valueSpec);if("error"===t.result)return t.value.map(t=>new Wi(`${e.key}${t.key}`,e.value,t.message));const n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new Wi(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!vn(n))return[new Wi(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext)return function e(t,n){const i=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(n.valueSpec&&n.valueSpec.expression)for(const e of n.valueSpec.expression.parameters)i.delete(e);if(0===i.size)return[];const r=[];return t instanceof Jt&&i.has(t.name)?[new Wi(n.key,n.value,`["${t.name}"] expression is not supported in a filter for a ${n.object.type} layer with id: ${n.object.id}`)]:(t.eachChild(t=>{r.push(...e(t,n))}),r)}(n,e);if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!xn(n,["zoom","feature-state"]))return[new Wi(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!_n(n))return[new Wi(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ji(e){const t=e.key,n=e.value,i=e.valueSpec,r=[];return Array.isArray(i.values)?-1===i.values.indexOf(Ke(n))&&r.push(new Wi(t,n,`expected one of [${i.values.join(", ")}], ${JSON.stringify(n)} found`)):-1===Object.keys(i.values).indexOf(Ke(n))&&r.push(new Wi(t,n,`expected one of [${Object.keys(i.values).join(", ")}], ${JSON.stringify(n)} found`)),r}function Qi(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!Qi(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}function Ki(e,t="fill"){if(null==e)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Qi(e)||(e=rr(e));const n=e;let i=!0;try{i=function(e){if(!er(e))return e;let t=et(e);return function e(t){let n=!1;const i=[];if("case"===t[0]){for(let e=1;e<t.length-1;e+=2)n=n||er(t[e]),i.push(t[e+1]);i.push(t[t.length-1])}else if("match"===t[0]){n=n||er(t[1]);for(let e=2;e<t.length-1;e+=2)i.push(t[e+1]);i.push(t[t.length-1])}else if("step"===t[0]){n=n||er(t[1]);for(let e=1;e<t.length-1;e+=2)i.push(t[e+1])}n&&(t.length=0,t.push("any",...i));for(let n=1;n<t.length;n++)e(t[n])}(t),t=function e(t){if(!Array.isArray(t))return t;const n=function(e){if(tr.has(e[0]))for(let t=1;t<e.length;t++)if(er(e[t]))return!0;return e}(t);return!0===n?n:n.map(t=>e(t))}(t),t}(n)}catch(e){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(n,null,2)}\n        `)}const r=Je["filter_"+t],o=Ni(i,r);let a=null;if("error"===o.result)throw new Error(o.value.map(e=>`${e.key}: ${e.message}`).join(", "));a=(e,t,n)=>o.value.evaluate(e,t,{},n);let s=null,l=null;if(i!==n){const e=Ni(n,r);if("error"===e.result)throw new Error(e.value.map(e=>`${e.key}: ${e.message}`).join(", "));s=(t,n,i,r,o)=>e.value.evaluate(t,n,{},i,void 0,void 0,r,o),l=!_n(e.value.expression)}return{filter:a,dynamicFilter:s||void 0,needGeometry:ir(i),needFeature:!!l}}function er(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;var t;for(let t=1;t<e.length;t++)if(er(e[t]))return!0;return!1}const tr=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function nr(e,t){return e<t?-1:e>t?1:0}function ir(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(ir(e[t]))return!0;return!1}function rr(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?or(e[1],e[2],"=="):"!="===t?lr(or(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?or(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(rr))):"all"===t?["all"].concat(e.slice(1).map(rr)):"none"===t?["all"].concat(e.slice(1).map(rr).map(lr)):"in"===t?ar(e[1],e.slice(2)):"!in"===t?lr(ar(e[1],e.slice(2))):"has"===t?sr(e[1]):"!has"===t?lr(sr(e[1])):"within"!==t||e;var n}function or(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function ar(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",e,["literal",t.sort(nr)]]:["filter-in-small",e,["literal",t]]}}function sr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function lr(e){return["!",e]}function cr(e){return Qi(et(e.value))?Yi(Qe({},e,{expressionContext:"filter",valueSpec:e.styleSpec["filter_"+(e.layerType||"fill")]})):function e(t){const n=t.value,i=t.key;if("array"!==Ai(n))return[new Wi(i,n,`array expected, ${Ai(n)} found`)];const r=t.styleSpec;let o,a=[];if(n.length<1)return[new Wi(i,n,"filter array must have at least 1 element")];switch(a=a.concat(Ji({key:i+"[0]",value:n[0],valueSpec:r.filter_operator,style:t.style,styleSpec:t.styleSpec})),Ke(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Ke(n[1])&&a.push(new Wi(i,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":3!==n.length&&a.push(new Wi(i,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(o=Ai(n[1]),"string"!==o&&a.push(new Wi(i+"[1]",n[1],`string expected, ${o} found`)));for(let e=2;e<n.length;e++)o=Ai(n[e]),"$type"===Ke(n[1])?a=a.concat(Ji({key:`${i}[${e}]`,value:n[e],valueSpec:r.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&a.push(new Wi(`${i}[${e}]`,n[e],`string, number, or boolean expected, ${o} found`));break;case"any":case"all":case"none":for(let r=1;r<n.length;r++)a=a.concat(e({key:`${i}[${r}]`,value:n[r],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":o=Ai(n[1]),2!==n.length?a.push(new Wi(i,n,`filter array for "${n[0]}" operator must have 2 elements`)):"string"!==o&&a.push(new Wi(i+"[1]",n[1],`string expected, ${o} found`));break;case"within":o=Ai(n[1]),2!==n.length?a.push(new Wi(i,n,`filter array for "${n[0]}" operator must have 2 elements`)):"object"!==o&&a.push(new Wi(i+"[1]",n[1],`object expected, ${o} found`))}return a}(e)}function ur(e,t){const n=e.key,i=e.style,r=e.styleSpec,o=e.value,a=e.objectKey,s=r[`${t}_${e.layerType}`];if(!s)return[];const l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return wr({key:n,value:o,valueSpec:r.transition,style:i,styleSpec:r});const c=e.valueSpec||s[a];if(!c)return[new Wi(n,o,`unknown property "${a}"`)];let u;if("string"===Ai(o)&&Ii(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new Wi(n,o,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)];const h=[];return"symbol"===e.layerType&&("text-field"===a&&i&&!i.glyphs&&h.push(new Wi(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Pi(et(o))&&"identity"===Ke(o.type)&&h.push(new Wi(n,o,'"text-font" does not support identity functions'))),h.concat(wr({key:e.key,value:o,valueSpec:c,style:i,styleSpec:r,expressionContext:"property",propertyType:t,propertyKey:a}))}function hr(e){return ur(e,"paint")}function dr(e){return ur(e,"layout")}function pr(e){let t=[];const n=e.value,i=e.key,r=e.style,o=e.styleSpec;n.type||n.ref||t.push(new Wi(i,n,'either "type" or "ref" is required'));let a=Ke(n.type);const s=Ke(n.ref);if(n.id){const o=Ke(n.id);for(let a=0;a<e.arrayIndex;a++){const e=r.layers[a];Ke(e.id)===o&&t.push(new Wi(i,n.id,`duplicate layer id "${n.id}", previously used at line ${e.id.__line__}`))}}if("ref"in n){let e;["type","source","source-layer","filter","layout"].forEach(e=>{e in n&&t.push(new Wi(i,n[e],`"${e}" is prohibited for ref layers`))}),r.layers.forEach(t=>{Ke(t.id)===s&&(e=t)}),e?e.ref?t.push(new Wi(i,n.ref,"ref cannot reference another ref layer")):a=Ke(e.type):"string"==typeof s&&t.push(new Wi(i,n.ref,`ref layer "${s}" not found`))}else if("background"!==a&&"sky"!==a)if(n.source){const e=r.sources&&r.sources[n.source],o=e&&Ke(e.type);e?"vector"===o&&"raster"===a?t.push(new Wi(i,n.source,`layer "${n.id}" requires a raster source`)):"raster"===o&&"raster"!==a?t.push(new Wi(i,n.source,`layer "${n.id}" requires a vector source`)):"vector"!==o||n["source-layer"]?"raster-dem"===o&&"hillshade"!==a?t.push(new Wi(i,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!n.paint||!n.paint["line-gradient"]&&!n.paint["line-trim-offset"]||"geojson"===o&&e.lineMetrics||t.push(new Wi(i,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Wi(i,n,`layer "${n.id}" must specify a "source-layer"`)):t.push(new Wi(i,n.source,`source "${n.source}" not found`))}else t.push(new Wi(i,n,'missing required property "source"'));return t=t.concat(qi({key:i,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>wr({key:i+".type",value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"}),filter:e=>cr(Qe({layerType:a},e)),layout:e=>qi({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>dr(Qe({layerType:a},e))}}),paint:e=>qi({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>hr(Qe({layerType:a},e))}})}})),t}function fr(e){const t=e.value,n=e.key,i=Ai(t);return"string"!==i?[new Wi(n,t,`string expected, ${i} found`)]:[]}const mr={promoteId:function({key:e,value:t}){if("string"===Ai(t))return fr({key:e,value:t});{const n=[];for(const i in t)n.push(...fr({key:`${e}.${i}`,value:t[i]}));return n}}};function gr(e){const t=e.value,n=e.key,i=e.styleSpec,r=e.style;if(!t.type)return[new Wi(n,t,'"type" is required')];const o=Ke(t.type);let a;switch(o){case"vector":case"raster":case"raster-dem":return a=qi({key:n,value:t,valueSpec:i["source_"+o.replace("-","_")],style:e.style,styleSpec:i,objectElementValidators:mr}),a;case"geojson":if(a=qi({key:n,value:t,valueSpec:i.source_geojson,style:r,styleSpec:i,objectElementValidators:mr}),t.cluster)for(const e in t.clusterProperties){const[i,r]=t.clusterProperties[e],o="string"==typeof i?[i,["accumulated"],["get",e]]:i;a.push(...Yi({key:`${n}.${e}.map`,value:r,expressionContext:"cluster-map"})),a.push(...Yi({key:`${n}.${e}.reduce`,value:o,expressionContext:"cluster-reduce"}))}return a;case"video":return qi({key:n,value:t,valueSpec:i.source_video,style:r,styleSpec:i});case"image":return qi({key:n,value:t,valueSpec:i.source_image,style:r,styleSpec:i});case"canvas":return[new Wi(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ji({key:n+".type",value:t.type,valueSpec:{values:yr(i)},style:r,styleSpec:i})}}function yr(e){return e.source.reduce((t,n)=>{const i=e[n];return"enum"===i.type.type&&(t=t.concat(Object.keys(i.type.values))),t},[])}function _r(e){const t=e.value,n=e.styleSpec,i=n.light,r=e.style;let o=[];const a=Ai(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new Wi("light",t,`object expected, ${a} found`)]),o;for(const e in t){const a=e.match(/^(.*)-transition$/);o=o.concat(a&&i[a[1]]&&i[a[1]].transition?wr({key:e,value:t[e],valueSpec:n.transition,style:r,styleSpec:n}):i[e]?wr({key:e,value:t[e],valueSpec:i[e],style:r,styleSpec:n}):[new Wi(e,t[e],`unknown property "${e}"`)])}return o}function vr(e){const t=e.value,n=e.key,i=e.style,r=e.styleSpec,o=r.terrain;let a=[];const s=Ai(t);if(void 0===t)return a;if("object"!==s)return a=a.concat([new Wi("terrain",t,`object expected, ${s} found`)]),a;for(const e in t){const n=e.match(/^(.*)-transition$/);a=a.concat(n&&o[n[1]]&&o[n[1]].transition?wr({key:e,value:t[e],valueSpec:r.transition,style:i,styleSpec:r}):o[e]?wr({key:e,value:t[e],valueSpec:o[e],style:i,styleSpec:r}):[new Wi(e,t[e],`unknown property "${e}"`)])}if(t.source){const e=i.sources&&i.sources[t.source],r=e&&Ke(e.type);e?"raster-dem"!==r&&a.push(new Wi(n,t.source,`terrain cannot be used with a source of type ${String(r)}, it only be used with a "raster-dem" source type`)):a.push(new Wi(n,t.source,`source "${t.source}" not found`))}else a.push(new Wi(n,t,'terrain is missing required property "source"'));return a}function xr(e){const t=e.value,n=e.style,i=e.styleSpec,r=i.fog;let o=[];const a=Ai(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new Wi("fog",t,`object expected, ${a} found`)]),o;for(const e in t){const a=e.match(/^(.*)-transition$/);o=o.concat(a&&r[a[1]]&&r[a[1]].transition?wr({key:e,value:t[e],valueSpec:i.transition,style:n,styleSpec:i}):r[e]?wr({key:e,value:t[e],valueSpec:r[e],style:n,styleSpec:i}):[new Wi(e,t[e],`unknown property "${e}"`)])}return o}const br={"*":()=>[],array:$i,boolean:function(e){const t=e.value,n=e.key,i=Ai(t);return"boolean"!==i?[new Wi(n,t,`boolean expected, ${i} found`)]:[]},number:Hi,color:function(e){const t=e.key,n=e.value,i=Ai(n);return"string"!==i?[new Wi(t,n,`color expected, ${i} found`)]:null===bt(n)?[new Wi(t,n,`color expected, "${n}" found`)]:[]},enum:Ji,filter:cr,function:Xi,layer:pr,object:qi,source:gr,light:_r,terrain:vr,fog:xr,string:fr,formatted:function(e){return 0===fr(e).length?[]:Yi(e)},resolvedImage:function(e){return 0===fr(e).length?[]:Yi(e)},projection:function(e){const t=e.value,n=e.styleSpec,i=n.projection,r=e.style;let o=[];const a=Ai(t);if("object"===a)for(const e in t)o=o.concat(wr({key:e,value:t[e],valueSpec:i[e],style:r,styleSpec:n}));else"string"!==a&&(o=o.concat([new Wi("projection",t,`object or string expected, ${a} found`)]));return o}};function wr(e){const t=e.value,n=e.valueSpec,i=e.styleSpec;return n.expression&&Pi(Ke(t))?Xi(e):n.expression&&Fi(et(t))?Yi(e):n.type&&br[n.type]?br[n.type](e):qi(Qe({},e,{valueSpec:n.type?i[n.type]:n}))}function Tr(e){const t=e.value,n=e.key,i=fr(e);return i.length||(-1===t.indexOf("{fontstack}")&&i.push(new Wi(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&i.push(new Wi(n,t,'"glyphs" url must include a "{range}" token'))),i}function Er(e,t=Je){return Ir(wr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Tr,"*":()=>[]}}))}const Sr=e=>Ir(hr(e)),Mr=e=>Ir(dr(e));function Ir(e){return e.slice().sort((e,t)=>e.line&&t.line?e.line-t.line:0)}function Cr(e,t){let n=!1;if(t&&t.length)for(const i of t)e.fire(new Xe(new Error(i.message))),n=!0;return n}var kr=Ar;function Ar(e,t,n){var i=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var r=new Int32Array(this.arrayBuffer);e=r[0],this.d=(t=r[1])+2*(n=r[2]);for(var o=0;o<this.d*this.d;o++){var a=r[3+o],s=r[3+o+1];i.push(a===s?null:r.subarray(a,s))}var l=r[3+i.length+1];this.keys=r.subarray(r[3+i.length],l),this.bboxes=r.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var c=0;c<this.d*this.d;c++)i.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var u=n/t*e;this.min=-u,this.max=e+u}Ar.prototype.insert=function(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},Ar.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ar.prototype._insertCell=function(e,t,n,i,r,o){this.cells[r].push(o)},Ar.prototype.query=function(e,t,n,i,r){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=i&&!r)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,i,this._queryCell,s,{},r),s},Ar.prototype._queryCell=function(e,t,n,i,r,o,a,s){var l=this.cells[r];if(null!==l)for(var c=this.keys,u=this.bboxes,h=0;h<l.length;h++){var d=l[h];if(void 0===a[d]){var p=4*d;(s?s(u[p+0],u[p+1],u[p+2],u[p+3]):e<=u[p+2]&&t<=u[p+3]&&n>=u[p+0]&&i>=u[p+1])?(a[d]=!0,o.push(c[d])):a[d]=!1}}},Ar.prototype._forEachCell=function(e,t,n,i,r,o,a,s){for(var l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(n),h=this._convertToCellCoord(i),d=l;d<=u;d++)for(var p=c;p<=h;p++){var f=this.d*p+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(p),this._convertFromCellCoord(d+1),this._convertFromCellCoord(p+1)))&&r.call(this,e,t,n,i,f,o,a,s))return}},Ar.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Ar.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Ar.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,i=0;i<this.cells.length;i++)n+=this.cells[i].length;var r=new Int32Array(t+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];r[3+a]=o,r.set(s,o),o+=s.length}return r[3+e.length]=o,r.set(this.keys,o),r[3+e.length+1]=o+=this.keys.length,r.set(this.bboxes,o),o+=this.bboxes.length,r.buffer};const Pr={};function zr(e,t,n={}){Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Pr[t]={klass:e,omit:n.omit||[]}}zr(Object,"Object"),kr.serialize=function(e,t){const n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},kr.deserialize=function(e){return new kr(e.buffer)},Object.defineProperty(kr,"name",{value:"Grid"}),zr(kr,"Grid"),zr(Ct,"Color"),zr(Error,"Error"),zr(se,"AJAXError"),zr(zt,"ResolvedImage"),zr(Zi,"StylePropertyFunction"),zr(ji,"StyleExpression",{omit:["_evaluator"]}),zr(Vi,"ZoomDependentExpression"),zr(Ui,"ZoomConstantExpression"),zr(Jt,"CompoundExpression",{omit:["_evaluate"]});for(const e in Ei)Pr[Ei[e]._classRegistryKey]||zr(Ei[e],"Expression"+e);function Dr(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Lr(e){return n.ImageBitmap&&e instanceof n.ImageBitmap}function Or(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Dr(e)||Lr(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){const n=e;return t&&t.push(n.buffer),n}if(e instanceof n.ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const n=[];for(const i of e)n.push(Or(i,t));return n}if("object"==typeof e){const n=e.constructor,i=n._classRegistryKey;if(!i)throw new Error("can't serialize object of unregistered class "+i);const r=n.serialize?n.serialize(e,t):{};if(!n.serialize){for(const n in e)e.hasOwnProperty(n)&&(Pr[i].omit.indexOf(n)>=0||(r[n]=Or(e[n],t)));e instanceof Error&&(r.message=e.message)}if(r.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==i&&(r.$name=i),r}throw new Error("can't serialize object of type "+typeof e)}function Rr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Dr(e)||Lr(e)||ArrayBuffer.isView(e)||e instanceof n.ImageData)return e;if(Array.isArray(e))return e.map(Rr);if("object"==typeof e){const t=e.$name||"Object",{klass:n}=Pr[t];if(!n)throw new Error("can't deserialize unregistered class "+t);if(n.deserialize)return n.deserialize(e);const i=Object.create(n.prototype);for(const t of Object.keys(e))"$name"!==t&&(i[t]=Rr(e[t]));return i}throw new Error("can't deserialize object of type "+typeof e)}const Br=e=>e>=1536&&e<=1791,jr=e=>e>=1872&&e<=1919,Fr=e=>e>=2208&&e<=2303,Nr=e=>e>=11904&&e<=12031,Ur=e=>e>=12032&&e<=12255,Vr=e=>e>=12272&&e<=12287,Gr=e=>e>=12288&&e<=12351,Zr=e=>e>=12352&&e<=12447,Wr=e=>e>=12448&&e<=12543,qr=e=>e>=12544&&e<=12591,$r=e=>e>=12704&&e<=12735,Hr=e=>e>=12736&&e<=12783,Xr=e=>e>=12784&&e<=12799,Yr=e=>e>=12800&&e<=13055,Jr=e=>e>=13056&&e<=13311,Qr=e=>e>=13312&&e<=19903,Kr=e=>e>=19968&&e<=40959,eo=e=>e>=40960&&e<=42127,to=e=>e>=42128&&e<=42191,no=e=>e>=44032&&e<=55215,io=e=>e>=63744&&e<=64255,ro=e=>e>=64336&&e<=65023,oo=e=>e>=65040&&e<=65055,ao=e=>e>=65072&&e<=65103,so=e=>e>=65104&&e<=65135,lo=e=>e>=65136&&e<=65279,co=e=>e>=65280&&e<=65519;function uo(e){for(const t of e)if(fo(t.charCodeAt(0)))return!0;return!1}function ho(e){for(const t of e)if(!po(t.charCodeAt(0)))return!1;return!0}function po(e){return!(Br(e)||jr(e)||Fr(e)||ro(e)||lo(e))}function fo(e){return!(746!==e&&747!==e&&(e<4352||!($r(e)||qr(e)||ao(e)&&!(e>=65097&&e<=65103)||io(e)||Jr(e)||Nr(e)||Hr(e)||!(!Gr(e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Qr(e)||Kr(e)||Yr(e)||(e=>e>=12592&&e<=12687)(e)||(e=>e>=43360&&e<=43391)(e)||(e=>e>=55216&&e<=55295)(e)||(e=>e>=4352&&e<=4607)(e)||no(e)||Zr(e)||Vr(e)||(e=>e>=12688&&e<=12703)(e)||Ur(e)||Xr(e)||Wr(e)&&12540!==e||!(!co(e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!so(e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||(e=>e>=5120&&e<=5759)(e)||(e=>e>=6320&&e<=6399)(e)||oo(e)||(e=>e>=19904&&e<=19967)(e)||eo(e)||to(e))))}function mo(e){return!(fo(e)||function(e){return!!((e=>e>=128&&e<=255)(e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||(e=>e>=8192&&e<=8303)(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||(e=>e>=8448&&e<=8527)(e)||(e=>e>=8528&&e<=8591)(e)||(e=>e>=8960&&e<=9215)(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||(e=>e>=9216&&e<=9279)(e)&&9251!==e||(e=>e>=9280&&e<=9311)(e)||(e=>e>=9312&&e<=9471)(e)||(e=>e>=9632&&e<=9727)(e)||(e=>e>=9728&&e<=9983)(e)&&!(e>=9754&&e<=9759)||(e=>e>=11008&&e<=11263)(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Gr(e)||Wr(e)||(e=>e>=57344&&e<=63743)(e)||ao(e)||so(e)||co(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function go(e){return e>=1424&&e<=2303||ro(e)||lo(e)}function yo(e,t){return!(!t&&go(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||(e=>e>=6016&&e<=6143)(e))}function _o(e){for(const t of e)if(go(t.charCodeAt(0)))return!0;return!1}const vo="deferred",xo="loading",bo="loaded";let wo=null,To="unavailable",Eo=null;const So=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(To="error"),wo&&wo(e)};function Mo(){Io.fire(new He("pluginStateChange",{pluginStatus:To,pluginURL:Eo}))}const Io=new Ye,Co=function(){return To},ko=function(){if(To!==vo||!Eo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");To=xo,Mo(),Eo&&ue({url:Eo},e=>{e?So(e):(To=bo,Mo())})},Ao={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>To===bo||null!=Ao.applyArabicShaping,isLoading:()=>To===xo,setState(e){To=e.pluginStatus,Eo=e.pluginURL},isParsed:()=>null!=Ao.applyArabicShaping&&null!=Ao.processBidirectionalText&&null!=Ao.processStyledBidirectionalText,getPluginURL:()=>Eo};class Po{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.transition=t.transition,this.pitch=t.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(e){return function(e,t){for(const n of e)if(!yo(n.charCodeAt(0),t))return!1;return!0}(e,Ao.isLoaded())}}class zo{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Pi(e))return new Zi(e,t);if(Fi(e)){const n=Gi(e,t);if("error"===n.result)throw new Error(n.value.map(e=>`${e.key}: ${e.message}`).join(", "));return n.value}{let n=e;return"string"==typeof e&&"color"===t.type&&(n=Ct.parse(e)),{kind:"constant",evaluate:()=>n}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}class Do{constructor(e){this.property=e,this.value=new zo(e,void 0)}transitioned(e,t){return new Oo(this.property,this.value,t,A({},e.transition,this.transition),e.now)}untransitioned(){return new Oo(this.property,this.value,null,{},0)}}class Lo{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return N(this._values[e].value.value)}setValue(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Do(this._values[e].property)),this._values[e].value=new zo(this._values[e].property,null===t?void 0:N(t))}getTransition(e){return N(this._values[e].transition)}setTransition(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Do(this._values[e].property)),this._values[e].transition=N(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n);const i=this.getTransition(t);void 0!==i&&(e[t+"-transition"]=i)}return e}transitioned(e,t){const n=new Ro(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].transitioned(e,t._values[i]);return n}untransitioned(){const e=new Ro(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class Oo{constructor(e,t,n,i,r){const o=i.delay||0,a=i.duration||0;r=r||0,this.property=e,this.value=t,this.begin=r+o,this.end=this.begin+a,e.specification.transition&&(i.delay||i.duration)&&(this.prior=n)}possiblyEvaluate(e,t,n){const i=e.now||0,r=this.value.possiblyEvaluate(e,t,n),o=this.prior;if(o){if(i>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(i<this.begin)return o.possiblyEvaluate(e,t,n);{const a=(i-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,n),r,w(a))}}return r}}class Ro{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,n){const i=new Fo(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(e,t,n);return i}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class Bo{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return N(this._values[e].value)}setValue(e,t){this._values[e]=new zo(this._values[e].property,null===t?void 0:N(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n)}return e}possiblyEvaluate(e,t,n){const i=new Fo(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(e,t,n);return i}}class jo{constructor(e,t,n){this.property=e,this.value=t,this.parameters=n}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,n,i){return this.property.evaluate(this.value,this.parameters,e,t,n,i)}}class Fo{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class No{constructor(e){this.specification=e}possiblyEvaluate(e,t){return e.expression.evaluate(t)}interpolate(e,t,n){const i=kn[this.specification.type];return i?i(e,t,n):e}}class Uo{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,n,i){return new jo(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,i)}:e.expression,t)}interpolate(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new jo(this,{kind:"constant",value:void 0},e.parameters);const i=kn[this.specification.type];return i?new jo(this,{kind:"constant",value:i(e.value.value,t.value.value,n)},e.parameters):e}evaluate(e,t,n,i,r,o){return"constant"===e.kind?e.value:e.evaluate(t,n,i,r,o)}}class Vo{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,i){return!!e.expression.evaluate(t,null,{},n,i)}interpolate(){return!1}}class Go{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const t=new Po(0,{});for(const n in e){const i=e[n];i.specification.overridable&&this.overridableProperties.push(n);const r=this.defaultPropertyValues[n]=new zo(i,void 0),o=this.defaultTransitionablePropertyValues[n]=new Do(i);this.defaultTransitioningPropertyValues[n]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[n]=r.possiblyEvaluate(t)}}}function Zo(e,t){return 256*(e=S(Math.floor(e),0,255))+S(Math.floor(t),0,255)}zr(Uo,"DataDrivenProperty"),zr(No,"DataConstantProperty"),zr(Vo,"ColorRampProperty");const Wo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class qo{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class $o{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Ho(e,t=1){let n=0,i=0;return{members:e.map(e=>{const r=Wo[e.type].BYTES_PER_ELEMENT,o=n=Xo(n,Math.max(t,r)),a=e.components||1;return i=Math.max(i,r),n+=r*a,{name:e.name,type:e.type,components:a,offset:o}}),size:Xo(n,Math.max(i,t)),alignment:t}}function Xo(e,t){return Math.ceil(e/t)*t}class Yo extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.int16[i+0]=t,this.int16[i+1]=n,e}}Yo.prototype.bytesPerElement=4,zr(Yo,"StructArrayLayout2i4");class Jo extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.int16[r+0]=t,this.int16[r+1]=n,this.int16[r+2]=i,e}}Jo.prototype.bytesPerElement=6,zr(Jo,"StructArrayLayout3i6");class Qo extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=i,this.int16[o+3]=r,e}}Qo.prototype.bytesPerElement=8,zr(Qo,"StructArrayLayout4i8");class Ko extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,i,r,o,a)}emplace(e,t,n,i,r,o,a,s){const l=6*e,c=12*e,u=3*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.uint8[c+4]=i,this.uint8[c+5]=r,this.uint8[c+6]=o,this.uint8[c+7]=a,this.float32[u+2]=s,e}}Ko.prototype.bytesPerElement=12,zr(Ko,"StructArrayLayout2i4ub1f12");class ea extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=i,this.float32[o+3]=r,e}}ea.prototype.bytesPerElement=16,zr(ea,"StructArrayLayout4f16");class ta extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r)}emplace(e,t,n,i,r,o){const a=6*e,s=3*e;return this.uint16[a+0]=t,this.uint16[a+1]=n,this.uint16[a+2]=i,this.uint16[a+3]=r,this.float32[s+2]=o,e}}ta.prototype.bytesPerElement=12,zr(ta,"StructArrayLayout4ui1f12");class na extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=4*e;return this.uint16[o+0]=t,this.uint16[o+1]=n,this.uint16[o+2]=i,this.uint16[o+3]=r,e}}na.prototype.bytesPerElement=8,zr(na,"StructArrayLayout4ui8");class ia extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r,o)}emplace(e,t,n,i,r,o,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=r,this.int16[s+4]=o,this.int16[s+5]=a,e}}ia.prototype.bytesPerElement=12,zr(ia,"StructArrayLayout6i12");class ra extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,h){const d=this.length;return this.resize(d+1),this.emplace(d,e,t,n,i,r,o,a,s,l,c,u,h)}emplace(e,t,n,i,r,o,a,s,l,c,u,h,d){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=i,this.int16[p+3]=r,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=h,this.int16[p+11]=d,e}}ra.prototype.bytesPerElement=24,zr(ra,"StructArrayLayout4i4ui4i24");class oa extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r,o)}emplace(e,t,n,i,r,o,a){const s=10*e,l=5*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=i,this.float32[l+2]=r,this.float32[l+3]=o,this.float32[l+4]=a,e}}oa.prototype.bytesPerElement=20,zr(oa,"StructArrayLayout3i3f20");class aa extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}aa.prototype.bytesPerElement=4,zr(aa,"StructArrayLayout1ul4");class sa extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,h,d){const p=this.length;return this.resize(p+1),this.emplace(p,e,t,n,i,r,o,a,s,l,c,u,h,d)}emplace(e,t,n,i,r,o,a,s,l,c,u,h,d,p){const f=20*e,m=10*e;return this.int16[f+0]=t,this.int16[f+1]=n,this.int16[f+2]=i,this.int16[f+3]=r,this.int16[f+4]=o,this.float32[m+3]=a,this.float32[m+4]=s,this.float32[m+5]=l,this.float32[m+6]=c,this.int16[f+14]=u,this.uint32[m+8]=h,this.uint16[f+18]=d,this.uint16[f+19]=p,e}}sa.prototype.bytesPerElement=40,zr(sa,"StructArrayLayout5i4f1i1ul2ui40");class la extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,i,r,o,a)}emplace(e,t,n,i,r,o,a,s){const l=8*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.int16[l+2]=i,this.int16[l+4]=r,this.int16[l+5]=o,this.int16[l+6]=a,this.int16[l+7]=s,e}}la.prototype.bytesPerElement=16,zr(la,"StructArrayLayout3i2i2i16");class ca extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r)}emplace(e,t,n,i,r,o){const a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=i,this.int16[s+6]=r,this.int16[s+7]=o,e}}ca.prototype.bytesPerElement=16,zr(ca,"StructArrayLayout2f1f2i16");class ua extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=n,this.float32[a+1]=i,this.float32[a+2]=r,e}}ua.prototype.bytesPerElement=12,zr(ua,"StructArrayLayout2ub2f12");class ha extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.float32[r+0]=t,this.float32[r+1]=n,this.float32[r+2]=i,e}}ha.prototype.bytesPerElement=12,zr(ha,"StructArrayLayout3f12");class da extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,this.uint16[r+2]=i,e}}da.prototype.bytesPerElement=6,zr(da,"StructArrayLayout3ui6");class pa extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x){const b=this.length;return this.resize(b+1),this.emplace(b,e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x)}emplace(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x,b){const w=30*e,T=15*e,E=60*e;return this.int16[w+0]=t,this.int16[w+1]=n,this.int16[w+2]=i,this.float32[T+2]=r,this.float32[T+3]=o,this.uint16[w+8]=a,this.uint16[w+9]=s,this.uint32[T+5]=l,this.uint32[T+6]=c,this.uint32[T+7]=u,this.uint16[w+16]=h,this.uint16[w+17]=d,this.uint16[w+18]=p,this.float32[T+10]=f,this.float32[T+11]=m,this.uint8[E+48]=g,this.uint8[E+49]=y,this.uint8[E+50]=_,this.uint32[T+13]=v,this.int16[w+28]=x,this.uint8[E+58]=b,e}}pa.prototype.bytesPerElement=60,zr(pa,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class fa extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x,b,w,T,E,S,M,I,C,k){const A=this.length;return this.resize(A+1),this.emplace(A,e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x,b,w,T,E,S,M,I,C,k)}emplace(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x,b,w,T,E,S,M,I,C,k,A){const P=38*e,z=19*e;return this.int16[P+0]=t,this.int16[P+1]=n,this.int16[P+2]=i,this.float32[z+2]=r,this.float32[z+3]=o,this.int16[P+8]=a,this.int16[P+9]=s,this.int16[P+10]=l,this.int16[P+11]=c,this.int16[P+12]=u,this.int16[P+13]=h,this.uint16[P+14]=d,this.uint16[P+15]=p,this.uint16[P+16]=f,this.uint16[P+17]=m,this.uint16[P+18]=g,this.uint16[P+19]=y,this.uint16[P+20]=_,this.uint16[P+21]=v,this.uint16[P+22]=x,this.uint16[P+23]=b,this.uint16[P+24]=w,this.uint16[P+25]=T,this.uint16[P+26]=E,this.uint16[P+27]=S,this.uint16[P+28]=M,this.uint32[z+15]=I,this.float32[z+16]=C,this.float32[z+17]=k,this.float32[z+18]=A,e}}fa.prototype.bytesPerElement=76,zr(fa,"StructArrayLayout3i2f6i15ui1ul3f76");class ma extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}ma.prototype.bytesPerElement=4,zr(ma,"StructArrayLayout1f4");class ga extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r)}emplace(e,t,n,i,r,o){const a=5*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=i,this.float32[a+3]=r,this.float32[a+4]=o,e}}ga.prototype.bytesPerElement=20,zr(ga,"StructArrayLayout5f20");class ya extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=6*e;return this.uint32[3*e+0]=t,this.uint16[o+2]=n,this.uint16[o+3]=i,this.uint16[o+4]=r,e}}ya.prototype.bytesPerElement=12,zr(ya,"StructArrayLayout1ul3ui12");class _a extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,e}}_a.prototype.bytesPerElement=4,zr(_a,"StructArrayLayout2ui4");class va extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}va.prototype.bytesPerElement=2,zr(va,"StructArrayLayout1ui2");class xa extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.float32[i+0]=t,this.float32[i+1]=n,e}}xa.prototype.bytesPerElement=8,zr(xa,"StructArrayLayout2f8");class ba extends qo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}ba.prototype.size=40;class wa extends sa{get(e){return new ba(this,e)}}zr(wa,"CollisionBoxArray");class Ta extends qo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}Ta.prototype.size=60;class Ea extends pa{get(e){return new Ta(this,e)}}zr(Ea,"PlacedSymbolArray");class Sa extends qo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Sa.prototype.size=76;class Ma extends fa{get(e){return new Sa(this,e)}}zr(Ma,"SymbolInstanceArray");class Ia extends ma{getoffsetX(e){return this.float32[1*e+0]}}zr(Ia,"GlyphOffsetArray");class Ca extends Yo{getx(e){return this.int16[2*e+0]}gety(e){return this.int16[2*e+1]}}zr(Ca,"SymbolLineVertexArray");class ka extends qo{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}ka.prototype.size=12;class Aa extends ya{get(e){return new ka(this,e)}}zr(Aa,"FeatureIndexArray");class Pa extends _a{geta_centroid_pos0(e){return this.uint16[2*e+0]}geta_centroid_pos1(e){return this.uint16[2*e+1]}}zr(Pa,"FillExtrusionCentroidArray");const za=Ho([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Da=Ho([{name:"a_dash",components:4,type:"Uint16"}]);var La={exports:{}},Oa={exports:{}};Oa.exports=function(e,t){var n,i,r,o,a,s,l,c;for(i=e.length-(n=3&e.length),r=t,a=3432918353,s=461845907,c=0;c<i;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,r=27492+(65535&(o=5*(65535&(r=(r^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:r^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return r^=e.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0};var Ra={exports:{}};Ra.exports=function(e,t){for(var n,i=e.length,r=t^i,o=0;i>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),i-=4,++o;switch(i){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0};var Ba=Oa.exports,ja=Ra.exports;La.exports=Ba,La.exports.murmur3=Ba,La.exports.murmur2=ja;class Fa{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,n,i){this.ids.push(Na(e)),this.positions.push(t,n,i)}getPositions(e){const t=Na(e);let n=0,i=this.ids.length-1;for(;n<i;){const e=n+i>>1;this.ids[e]>=t?i=e:n=e+1}const r=[];for(;this.ids[n]===t;)r.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return r}static serialize(e,t){const n=new Float64Array(e.ids),i=new Uint32Array(e.positions);return function e(t,n,i,r){for(;i<r;){const o=t[i+r>>1];let a=i-1,s=r+1;for(;;){do{a++}while(t[a]<o);do{s--}while(t[s]>o);if(a>=s)break;Ua(t,a,s),Ua(n,3*a,3*s),Ua(n,3*a+1,3*s+1),Ua(n,3*a+2,3*s+2)}s-i<r-s?(e(t,n,i,s),i=s+1):(e(t,n,s+1,r),r=s)}}(n,i,0,n.length-1),t&&t.push(n.buffer,i.buffer),{ids:n,positions:i}}static deserialize(e){const t=new Fa;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function Na(e){const t=+e;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:La.exports(String(e))}function Ua(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}zr(Fa,"FeaturePositionMap");class Va{constructor(e){this.gl=e.gl,this.initialized=!1}fetchUniformLocation(e,t){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,t),this.initialized=!0),!!this.location}}class Ga extends Va{constructor(e){super(e),this.current=0}set(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1f(this.location,n))}}class Za extends Va{constructor(e){super(e),this.current=[0,0,0,0]}set(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]&&n[3]===this.current[3]||(this.current=n,this.gl.uniform4f(this.location,n[0],n[1],n[2],n[3])))}}class Wa extends Va{constructor(e){super(e),this.current=Ct.transparent}set(e,t,n){this.fetchUniformLocation(e,t)&&(n.r===this.current.r&&n.g===this.current.g&&n.b===this.current.b&&n.a===this.current.a||(this.current=n,this.gl.uniform4f(this.location,n.r,n.g,n.b,n.a)))}}const qa=new Float32Array(16),$a=new Float32Array(9),Ha=new Float32Array(4);function Xa(e){return[Zo(255*e.r,255*e.g),Zo(255*e.b,255*e.a)]}class Ya{constructor(e,t,n){this.value=e,this.uniformNames=t.map(e=>"u_"+e),this.type=n}setUniform(e,t,n,i,r){t.set(e,r,i.constantOr(this.value))}getBinding(e,t){return"color"===this.type?new Wa(e):new Ga(e)}}class Ja{constructor(e,t){this.uniformNames=t.map(e=>"u_"+e),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(e){this.pixelRatio=e.pixelRatio||1,this.pattern=e.tl.concat(e.br)}setUniform(e,t,n,i,r){const o="u_pattern"===r||"u_dash"===r?this.pattern:"u_pixel_ratio"===r?this.pixelRatio:null;o&&t.set(e,r,o)}getBinding(e,t){return"u_pattern"===t||"u_dash"===t?new Za(e):new Ga(e)}}class Qa{constructor(e,t,n,i){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0})),this.paintVertexArray=new i}populatePaintArray(e,t,n,i,r,o){const a=this.paintVertexArray.length,s=this.expression.evaluate(new Po(0),t,{},r,i,o);this.paintVertexArray.resize(e),this._setPaintValue(a,e,s)}updatePaintArray(e,t,n,i,r){const o=this.expression.evaluate({zoom:0},n,i,void 0,r);this._setPaintValue(e,t,o)}_setPaintValue(e,t,n){if("color"===this.type){const i=Xa(n);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,i[0],i[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ka{constructor(e,t,n,i,r,o){this.expression=e,this.uniformNames=t.map(e=>`u_${e}_t`),this.type=n,this.useIntegerZoom=i,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0})),this.paintVertexArray=new o}populatePaintArray(e,t,n,i,r,o){const a=this.expression.evaluate(new Po(this.zoom),t,{},r,i,o),s=this.expression.evaluate(new Po(this.zoom+1),t,{},r,i,o),l=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(l,e,a,s)}updatePaintArray(e,t,n,i,r){const o=this.expression.evaluate({zoom:this.zoom},n,i,void 0,r),a=this.expression.evaluate({zoom:this.zoom+1},n,i,void 0,r);this._setPaintValue(e,t,o,a)}_setPaintValue(e,t,n,i){if("color"===this.type){const r=Xa(n),o=Xa(i);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r[0],r[1],o[0],o[1])}else{for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n,i);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(i))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t,n,i,r){const o=this.useIntegerZoom?Math.floor(n.zoom):n.zoom,a=S(this.expression.interpolationFactor(o,this.zoom,this.zoom+1),0,1);t.set(e,r,a)}getBinding(e,t){return new Ga(e)}}class es{constructor(e,t,n,i,r){this.expression=e,this.layerId=r,this.paintVertexAttributes=("array"===n?Da:za).members;for(let e=0;e<t.length;++e);this.paintVertexArray=new i}populatePaintArray(e,t,n){const i=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValues(i,e,t.patterns&&t.patterns[this.layerId],n)}updatePaintArray(e,t,n,i,r,o){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],o)}_setPaintValues(e,t,n,i){if(!i||!n)return;const r=i[n];if(!r)return;const{tl:o,br:a,pixelRatio:s}=r;for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,o[0],o[1],a[0],a[1],s)}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ts{constructor(e,t,n=(()=>!0)){this.binders={},this._buffers=[];const i=[];for(const r in e.paint._values){if(!n(r))continue;const o=e.paint.get(r);if(!(o instanceof jo&&Ii(o.property.specification)))continue;const a=rs(r,e.type),s=o.value,l=o.property.specification.type,c=o.property.useIntegerZoom,u="line-dasharray"===r||r.endsWith("pattern"),h="line-dasharray"===r&&"constant"!==e.layout.get("line-cap").value.kind;if("constant"!==s.kind||h)if("source"===s.kind||h||u){const t=ss(r,l,"source");this.binders[r]=u?new es(s,a,l,t,e.id):new Qa(s,a,l,t),i.push("/a_"+r)}else{const e=ss(r,l,"composite");this.binders[r]=new Ka(s,a,l,c,t,e),i.push("/z_"+r)}else this.binders[r]=u?new Ja(s.value,a):new Ya(s.value,a,l),i.push("/u_"+r)}this.cacheKey=i.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof Qa||t instanceof Ka?t.maxValue:0}populatePaintArrays(e,t,n,i,r,o){for(const a in this.binders){const s=this.binders[a];(s instanceof Qa||s instanceof Ka||s instanceof es)&&s.populatePaintArray(e,t,n,i,r,o)}}setConstantPatternPositions(e){for(const t in this.binders){const n=this.binders[t];n instanceof Ja&&n.setConstantPatternPositions(e)}}updatePaintArrays(e,t,n,i,r,o){let a=!1;for(const s in e){const l=t.getPositions(s);for(const t of l){const l=n.feature(t.index);for(const n in this.binders){const c=this.binders[n];if((c instanceof Qa||c instanceof Ka||c instanceof es)&&!0===c.expression.isStateDependent){const u=i.paint.get(n);c.expression=u.value,c.updatePaintArray(t.start,t.end,l,e[s],r,o),a=!0}}}}return a}defines(){const e=[];for(const t in this.binders){const n=this.binders[t];(n instanceof Ya||n instanceof Ja)&&e.push(...n.uniformNames.map(e=>"#define HAS_UNIFORM_"+e))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Qa||n instanceof Ka||n instanceof es)for(let t=0;t<n.paintVertexAttributes.length;t++)e.push(n.paintVertexAttributes[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Ya||n instanceof Ja||n instanceof Ka)for(const t of n.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){const t=[];for(const n in this.binders){const i=this.binders[n];if(i instanceof Ya||i instanceof Ja||i instanceof Ka)for(const r of i.uniformNames)t.push({name:r,property:n,binding:i.getBinding(e,r)})}return t}setUniforms(e,t,n,i,r){for(const{name:t,property:o,binding:a}of n)this.binders[o].setUniform(e,a,r,i.get(o),t)}updatePaintBuffers(){this._buffers=[];for(const e in this.binders){const t=this.binders[e];(t instanceof Qa||t instanceof Ka||t instanceof es)&&t.paintVertexBuffer&&this._buffers.push(t.paintVertexBuffer)}}upload(e){for(const t in this.binders){const n=this.binders[t];(n instanceof Qa||n instanceof Ka||n instanceof es)&&n.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof Qa||t instanceof Ka||t instanceof es)&&t.destroy()}}}class ns{constructor(e,t,n=(()=>!0)){this.programConfigurations={};for(const i of e)this.programConfigurations[i.id]=new ts(i,t,n);this.needsUpload=!1,this._featureMap=new Fa,this._bufferOffset=0}populatePaintArrays(e,t,n,i,r,o,a){for(const n in this.programConfigurations)this.programConfigurations[n].populatePaintArrays(e,t,i,r,o,a);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,n,i,r){for(const o of n)this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,i,r)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}const is={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function rs(e,t){return is[e]||[e.replace(t+"-","").replace(/-/g,"_")]}const os={"line-pattern":{source:ta,composite:ta},"fill-pattern":{source:ta,composite:ta},"fill-extrusion-pattern":{source:ta,composite:ta},"line-dasharray":{source:na,composite:na}},as={color:{source:xa,composite:ea},number:{source:ma,composite:xa}};function ss(e,t,n){const i=os[e];return i&&i[n]||as[t][n]}zr(Ya,"ConstantBinder"),zr(Ja,"PatternConstantBinder"),zr(Qa,"SourceExpressionBinder"),zr(es,"PatternCompositeBinder"),zr(Ka,"CompositeExpressionBinder"),zr(ts,"ProgramConfiguration",{omit:["_buffers"]}),zr(ns,"ProgramConfigurationSet");const ls="-transition";class cs extends Ye{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new Bo(t.layout)),t.paint)){this._transitionablePaint=new Lo(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Fo(t.paint)}}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,n={}){null!=t&&this._validate(Mr,`layers.${this.id}.layout.${e}`,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return B(e,ls)?this._transitionablePaint.getTransition(e.slice(0,-ls.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,n={}){if(null!=t&&this._validate(Sr,`layers.${this.id}.paint.${e}`,e,t,n))return!1;if(B(e,ls))return this._transitionablePaint.setTransition(e.slice(0,-ls.length),t||void 0),!1;{const n=this._transitionablePaint._values[e],i=n.value.isDataDriven(),r=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const o=this._transitionablePaint._values[e].value,a=o.isDataDriven(),s=B(e,"pattern")||"line-dasharray"===e;return a||i||s||this._handleOverridablePaintPropertyUpdate(e,r,o)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,t,n){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),F(e,(e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length))}_validate(e,t,n,i,r={}){return(!r||!1!==r.validate)&&Cr(this,e.call(Er,{key:t,layerType:this.type,objectKey:n,value:i,styleSpec:Je,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof jo&&Ii(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Ki(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const us=Ho([{name:"a_pos",components:2,type:"Int16"}],4),hs=Ho([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class ds{constructor(e=[]){this.segments=e}prepareSegment(e,t,n,i){let r=this.segments[this.segments.length-1];return e>ds.MAX_VERTEX_ARRAY_LENGTH&&V(`Max vertices per segment is ${ds.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!r||r.vertexLength+e>ds.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==i)&&(r={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==i&&(r.sortKey=i),this.segments.push(r)),r}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,n,i){return new ds([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:i,vaos:{},sortKey:0}])}}ds.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,zr(ds,"SegmentVector");var ps=8192;class fs{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof gs?new gs(e.lng,e.lat):gs.convert(e),this}setSouthWest(e){return this._sw=e instanceof gs?new gs(e.lng,e.lat):gs.convert(e),this}extend(e){const t=this._sw,n=this._ne;let i,r;if(e instanceof gs)i=e,r=e;else{if(!(e instanceof fs))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(fs.convert(e)):this.extend(gs.convert(e)):"object"==typeof e&&null!==e&&e.hasOwnProperty("lat")&&e.hasOwnProperty("lon")?this.extend(gs.convert(e)):this;if(i=e._sw,r=e._ne,!i||!r)return this}return t||n?(t.lng=Math.min(i.lng,t.lng),t.lat=Math.min(i.lat,t.lat),n.lng=Math.max(r.lng,n.lng),n.lat=Math.max(r.lat,n.lat)):(this._sw=new gs(i.lng,i.lat),this._ne=new gs(r.lng,r.lat)),this}getCenter(){return new gs((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new gs(this.getWest(),this.getNorth())}getSouthEast(){return new gs(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:t,lat:n}=gs.convert(e);let i=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&i}static convert(e){return!e||e instanceof fs?e:new fs(e)}}const ms=6371008.8;class gs{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new gs(I(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,n=this.lat*t,i=e.lat*t,r=Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos((e.lng-this.lng)*t);return ms*Math.acos(Math.min(r,1))}toBounds(e=0){const t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new fs(new gs(this.lng-n,this.lat-t),new gs(this.lng+n,this.lat+t))}static convert(e){if(e instanceof gs)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new gs(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new gs(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const ys=2*Math.PI*ms;function _s(e){return ys*Math.cos(e*Math.PI/180)}function vs(e){return(180+e)/360}function xs(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function bs(e,t){return e/_s(t)}function ws(e){return 360*e-180}function Ts(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function Es(e,t){return e*_s(Ts(t))}const Ss=85.051129;function Ms(e){return 1/Math.cos(e*Math.PI/180)}class Is{constructor(e,t,n=0){this.x=+e,this.y=+t,this.z=+n}static fromLngLat(e,t=0){const n=gs.convert(e);return new Is(vs(n.lng),xs(n.lat),bs(t,n.lat))}toLngLat(){return new gs(ws(this.x),Ts(this.y))}toAltitude(){return Es(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/ys*Ms(Ts(this.y))}}function Cs(e,t,n,i,r,o,a,s,l){const c=(t+i)/2,u=(n+r)/2,h=new m(c,u);s(h),function(e,t,n,i,r,o){const a=n-r,s=i-o;return Math.abs((i-t)*a-(n-e)*s)/Math.hypot(a,s)}(h.x,h.y,o.x,o.y,a.x,a.y)>=l?(Cs(e,t,n,c,u,o,h,s,l),Cs(e,c,u,i,r,h,a,s,l)):e.push(a)}function ks(e,t,n){let i=e[0],r=i.x,o=i.y;t(i);const a=[i];for(let s=1;s<e.length;s++){const l=e[s],{x:c,y:u}=l;t(l),Cs(a,r,o,c,u,i,l,t,n),r=c,o=u,i=l}return a}function As(e,t,n,i){if(i(t,n)){const r=t.add(n)._mult(.5);As(e,t,r,i),As(e,r,n,i)}else e.push(n)}function Ps(e,t){let n=e[0];const i=[n];for(let r=1;r<e.length;r++){const o=e[r];As(i,n,o,t),n=o}return i}const zs=Math.pow(2,14)-1,Ds=-zs-1;function Ls(e,t){const n=Math.round(e.x*t),i=Math.round(e.y*t);return e.x=S(n,Ds,zs),e.y=S(i,Ds,zs),(n<e.x||n>e.x+1||i<e.y||i>e.y+1)&&V("Geometry exceeds allowed extent, reduce your vector tile buffer size"),e}function Os(e,t,n){const i=e.loadGeometry(),r=e.extent,o=ps/r;if(t&&n&&n.projection.isReprojectedInTileSpace){const o=1<<t.z,{scale:a,x:s,y:l,projection:c}=n,u=e=>{const n=ws((t.x+e.x/r)/o),i=Ts((t.y+e.y/r)/o),u=c.project(n,i);e.x=(u.x*a-s)*r,e.y=(u.y*a-l)*r};for(let t=0;t<i.length;t++)if(1!==e.type)i[t]=ks(i[t],u,1);else{const e=[];for(const n of i[t])n.x<0||n.x>=r||n.y<0||n.y>=r||(u(n),e.push(n));i[t]=e}}for(const e of i)for(const t of e)Ls(t,o);return i}function Rs(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Os(e):[]}}function Bs(e,t,n,i,r){e.emplaceBack(2*t+(i+1)/2,2*n+(r+1)/2)}function js(e,t,n){const i=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*i,n[1]*i,n[2]*i)}class Fs{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new Yo,this.indexArray=new da,this.segments=new ds,this.programConfigurations=new ns(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,n,i){const r=this.layers[0],o=[];let a=null;"circle"===r.type&&(a=r.layout.get("circle-sort-key"));for(const{feature:t,id:r,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Rs(t,e);if(!this.layers[0]._featureFilter.filter(new Po(this.zoom),c,n))continue;const u=a?a.evaluate(c,{},n):void 0,h={id:r,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?c.geometry:Os(t,n,i),patterns:{},sortKey:u};o.push(h)}a&&o.sort((e,t)=>e.sortKey-t.sortKey);let s=null;"globe"===i.projection.name&&(this.globeExtVertexArray=new ia,s=i.projection);for(const i of o){const{geometry:r,index:o,sourceLayerIndex:a}=i,l=e[o].feature;this.addFeature(i,r,o,t.availableImages,n,s),t.featureIndex.insert(l,r,o,a,this.index)}}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,us.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,hs.members))),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(e,t,n,i,r,o){for(const n of t)for(const t of n){const n=t.x,i=t.y;if(n<0||n>=ps||i<0||i>=ps)continue;if(o){const e=o.projectTilePoint(n,i,r),t=o.upVector(r,n,i),a=this.globeExtVertexArray;js(a,e,t),js(a,e,t),js(a,e,t),js(a,e,t)}const a=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),s=a.vertexLength;Bs(this.layoutVertexArray,n,i,-1,-1),Bs(this.layoutVertexArray,n,i,1,-1),Bs(this.layoutVertexArray,n,i,1,1),Bs(this.layoutVertexArray,n,i,-1,1),this.indexArray.emplaceBack(s,s+1,s+2),this.indexArray.emplaceBack(s,s+2,s+3),a.vertexLength+=4,a.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},i,r)}}function Ns(e,t){for(let n=0;n<e.length;n++)if(Xs(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(Xs(e,t[n]))return!0;return!!Zs(e,t)}function Us(e,t,n){return!!Xs(e,t)||!!qs(t,e,n)}function Vs(e,t){if(1===e.length)return Hs(t,e[0]);for(let n=0;n<t.length;n++){const i=t[n];for(let t=0;t<i.length;t++)if(Xs(e,i[t]))return!0}for(let n=0;n<e.length;n++)if(Hs(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(Zs(e,t[n]))return!0;return!1}function Gs(e,t,n){if(e.length>1){if(Zs(e,t))return!0;for(let i=0;i<t.length;i++)if(qs(t[i],e,n))return!0}for(let i=0;i<e.length;i++)if(qs(e[i],t,n))return!0;return!1}function Zs(e,t){if(0===e.length||0===t.length)return!1;for(let n=0;n<e.length-1;n++){const i=e[n],r=e[n+1];for(let e=0;e<t.length-1;e++)if(Ws(i,r,t[e],t[e+1]))return!0}return!1}function Ws(e,t,n,i){return G(e,n,i)!==G(t,n,i)&&G(e,t,n)!==G(e,t,i)}function qs(e,t,n){const i=n*n;if(1===t.length)return e.distSqr(t[0])<i;for(let n=1;n<t.length;n++)if($s(e,t[n-1],t[n])<i)return!0;return!1}function $s(e,t,n){const i=t.distSqr(n);if(0===i)return e.distSqr(t);const r=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/i;return e.distSqr(r<0?t:r>1?n:n.sub(t)._mult(r)._add(t))}function Hs(e,t){let n,i,r,o=!1;for(let a=0;a<e.length;a++){n=e[a];for(let e=0,a=n.length-1;e<n.length;a=e++)i=n[e],r=n[a],i.y>t.y!=r.y>t.y&&t.x<(r.x-i.x)*(t.y-i.y)/(r.y-i.y)+i.x&&(o=!o)}return o}function Xs(e,t){let n=!1;for(let i=0,r=e.length-1;i<e.length;r=i++){const o=e[i],a=e[r];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function Ys(e,t,n,i,r){for(const o of e)if(t<=o.x&&n<=o.y&&i>=o.x&&r>=o.y)return!0;const o=[new m(t,n),new m(t,r),new m(i,r),new m(i,n)];if(e.length>2)for(const t of o)if(Xs(e,t))return!0;for(let t=0;t<e.length-1;t++)if(Js(e[t],e[t+1],o))return!0;return!1}function Js(e,t,n){const i=n[0],r=n[2];if(e.x<i.x&&t.x<i.x||e.x>r.x&&t.x>r.x||e.y<i.y&&t.y<i.y||e.y>r.y&&t.y>r.y)return!1;const o=G(e,t,n[0]);return o!==G(e,t,n[1])||o!==G(e,t,n[2])||o!==G(e,t,n[3])}function Qs(e,t,n){const i=t.paint.get(e).value;return"constant"===i.kind?i.value:n.programConfigurations.get(t.id).getMaxValue(e)}function Ks(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function el(e,t,n,i,r){if(!t[0]&&!t[1])return e;const o=m.convert(t)._mult(r);"viewport"===n&&o._rotate(-i);const a=[];for(let t=0;t<e.length;t++)a.push(e[t].sub(o));return a}function tl(e,t,n,i){const r=m.convert(e)._mult(i);return"viewport"===t&&r._rotate(-n),r}zr(Fs,"CircleBucket",{omit:["layers"]});const nl=new Go({"circle-sort-key":new Uo(Je.layout_circle["circle-sort-key"])});var il={paint:new Go({"circle-radius":new Uo(Je.paint_circle["circle-radius"]),"circle-color":new Uo(Je.paint_circle["circle-color"]),"circle-blur":new Uo(Je.paint_circle["circle-blur"]),"circle-opacity":new Uo(Je.paint_circle["circle-opacity"]),"circle-translate":new No(Je.paint_circle["circle-translate"]),"circle-translate-anchor":new No(Je.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new No(Je.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new No(Je.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Uo(Je.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Uo(Je.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Uo(Je.paint_circle["circle-stroke-opacity"])}),layout:nl},rl=1e-6,ol="undefined"!=typeof Float32Array?Float32Array:Array;function al(){var e=new ol(9);return ol!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function sl(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=n[0],p=n[1],f=n[2],m=n[3],g=n[4],y=n[5],_=n[6],v=n[7],x=n[8];return e[0]=d*i+p*a+f*c,e[1]=d*r+p*s+f*u,e[2]=d*o+p*l+f*h,e[3]=m*i+g*a+y*c,e[4]=m*r+g*s+y*u,e[5]=m*o+g*l+y*h,e[6]=_*i+v*a+x*c,e[7]=_*r+v*s+x*u,e[8]=_*o+v*l+x*h,e}function ll(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function cl(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=t[9],d=t[10],p=t[11],f=t[12],m=t[13],g=t[14],y=t[15],_=n*s-i*a,v=n*l-r*a,x=n*c-o*a,b=i*l-r*s,w=i*c-o*s,T=r*c-o*l,E=u*m-h*f,S=u*g-d*f,M=u*y-p*f,I=h*g-d*m,C=h*y-p*m,k=d*y-p*g,A=_*k-v*C+x*I+b*M-w*S+T*E;return A?(e[0]=(s*k-l*C+c*I)*(A=1/A),e[1]=(r*C-i*k-o*I)*A,e[2]=(m*T-g*w+y*b)*A,e[3]=(d*w-h*T-p*b)*A,e[4]=(l*M-a*k-c*S)*A,e[5]=(n*k-r*M+o*S)*A,e[6]=(g*x-f*T-y*v)*A,e[7]=(u*T-d*x+p*v)*A,e[8]=(a*C-s*M+c*E)*A,e[9]=(i*M-n*C-o*E)*A,e[10]=(f*w-m*x+y*_)*A,e[11]=(h*x-u*w-p*_)*A,e[12]=(s*S-a*I-l*E)*A,e[13]=(n*I-i*S+r*E)*A,e[14]=(m*v-f*b-g*_)*A,e[15]=(u*b-h*v+d*_)*A,e):null}function ul(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],m=t[12],g=t[13],y=t[14],_=t[15],v=n[0],x=n[1],b=n[2],w=n[3];return e[0]=v*i+x*s+b*h+w*m,e[1]=v*r+x*l+b*d+w*g,e[2]=v*o+x*c+b*p+w*y,e[3]=v*a+x*u+b*f+w*_,e[4]=(v=n[4])*i+(x=n[5])*s+(b=n[6])*h+(w=n[7])*m,e[5]=v*r+x*l+b*d+w*g,e[6]=v*o+x*c+b*p+w*y,e[7]=v*a+x*u+b*f+w*_,e[8]=(v=n[8])*i+(x=n[9])*s+(b=n[10])*h+(w=n[11])*m,e[9]=v*r+x*l+b*d+w*g,e[10]=v*o+x*c+b*p+w*y,e[11]=v*a+x*u+b*f+w*_,e[12]=(v=n[12])*i+(x=n[13])*s+(b=n[14])*h+(w=n[15])*m,e[13]=v*r+x*l+b*d+w*g,e[14]=v*o+x*c+b*p+w*y,e[15]=v*a+x*u+b*f+w*_,e}function hl(e,t,n){var i,r,o,a,s,l,c,u,h,d,p,f,m=n[0],g=n[1],y=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*y+t[12],e[13]=t[1]*m+t[5]*g+t[9]*y+t[13],e[14]=t[2]*m+t[6]*g+t[10]*y+t[14],e[15]=t[3]*m+t[7]*g+t[11]*y+t[15]):(r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],e[0]=i=t[0],e[1]=r,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=h,e[9]=d,e[10]=p,e[11]=f,e[12]=i*m+s*g+h*y+t[12],e[13]=r*m+l*g+d*y+t[13],e[14]=o*m+c*g+p*y+t[14],e[15]=a*m+u*g+f*y+t[15]),e}function dl(e,t,n){var i=n[0],r=n[1],o=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function pl(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*r+c*i,e[5]=a*r+u*i,e[6]=s*r+h*i,e[7]=l*r+d*i,e[8]=c*r-o*i,e[9]=u*r-a*i,e[10]=h*r-s*i,e[11]=d*r-l*i,e}function fl(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r-c*i,e[1]=a*r-u*i,e[2]=s*r-h*i,e[3]=l*r-d*i,e[8]=o*i+c*r,e[9]=a*i+u*r,e[10]=s*i+h*r,e[11]=l*i+d*r,e}function ml(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gl(e,t,n){var i,r,o,a=n[0],s=n[1],l=n[2],c=Math.hypot(a,s,l);return c<rl?null:(a*=c=1/c,s*=c,l*=c,i=Math.sin(t),r=Math.cos(t),e[0]=a*a*(o=1-r)+r,e[1]=s*a*o+l*i,e[2]=l*a*o-s*i,e[3]=0,e[4]=a*s*o-l*i,e[5]=s*s*o+r,e[6]=l*s*o+a*i,e[7]=0,e[8]=a*l*o+s*i,e[9]=s*l*o-a*i,e[10]=l*l*o+r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var yl=ul;function _l(){var e=new ol(3);return ol!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function vl(e){var t=new ol(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function xl(e){return Math.hypot(e[0],e[1],e[2])}function bl(e,t,n){var i=new ol(3);return i[0]=e,i[1]=t,i[2]=n,i}function wl(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Tl(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function El(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function Sl(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function Ml(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function Il(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function Cl(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e}function kl(e,t){var n=t[0],i=t[1],r=t[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function Al(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Pl(e,t,n){var i=t[0],r=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=r*l-o*s,e[1]=o*a-i*l,e[2]=i*s-r*a,e}function zl(e,t,n){var i=t[0],r=t[1],o=t[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return e[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/(a=a||1),e[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,e[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,e}function Dl(e,t,n){var i=n[0],r=n[1],o=n[2],a=t[0],s=t[1],l=t[2],c=r*l-o*s,u=o*a-i*l,h=i*s-r*a,d=r*h-o*u,p=o*c-i*h,f=i*u-r*c,m=2*n[3];return u*=m,h*=m,p*=2,f*=2,e[0]=a+(c*=m)+(d*=2),e[1]=s+u+p,e[2]=l+h+f,e}var Ll,Ol=Tl,Rl=El,Bl=xl;function jl(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function Fl(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n*n+i*i+r*r+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=i*a,e[2]=r*a,e[3]=o*a,e}function Nl(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3];return e[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,e[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,e[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,e[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,e}function Ul(){var e=new ol(4);return ol!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Vl(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Gl(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=i*l+a*s,e[1]=r*l+o*s,e[2]=o*l-r*s,e[3]=a*l-i*s,e}function Zl(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=i*l-o*s,e[1]=r*l+a*s,e[2]=o*l+i*s,e[3]=a*l-r*s,e}_l(),Ll=new ol(4),ol!=Float32Array&&(Ll[0]=0,Ll[1]=0,Ll[2]=0,Ll[3]=0);var Wl=Fl;_l(),bl(1,0,0),bl(0,1,0),Ul(),Ul(),al();class ql{constructor(e,t){this.pos=e,this.dir=t}intersectsPlane(e,t,n){const i=Al(t,this.dir);if(Math.abs(i)<1e-6)return!1;const r=((e[0]-this.pos[0])*t[0]+(e[1]-this.pos[1])*t[1]+(e[2]-this.pos[2])*t[2])/i;return n[0]=this.pos[0]+this.dir[0]*r,n[1]=this.pos[1]+this.dir[1]*r,n[2]=this.pos[2]+this.dir[2]*r,!0}closestPointOnSphere(e,t,n){if(function(e,t){var n=e[0],i=e[1],r=e[2],o=t[0],a=t[1],s=t[2];return Math.abs(n-o)<=rl*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=rl*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-s)<=rl*Math.max(1,Math.abs(r),Math.abs(s))}(this.pos,e)||0===t)return n[0]=n[1]=n[2]=0,!1;const[i,r,o]=this.dir,a=this.pos[0]-e[0],s=this.pos[1]-e[1],l=this.pos[2]-e[2],c=i*i+r*r+o*o,u=2*(a*i+s*r+l*o),h=u*u-4*c*(a*a+s*s+l*l-t*t);if(h<0){const e=Math.max(-u/2,0),c=a+i*e,h=s+r*e,d=l+o*e,p=Math.hypot(c,h,d);return n[0]=c*t/p,n[1]=h*t/p,n[2]=d*t/p,!1}{const e=(-u-Math.sqrt(h))/(2*c);if(e<0){const e=Math.hypot(a,s,l);return n[0]=a*t/e,n[1]=s*t/e,n[2]=l*t/e,!1}return n[0]=a+i*e,n[1]=s+r*e,n[2]=l+o*e,!0}}}class $l{constructor(e,t,n,i,r){this.TL=e,this.TR=t,this.BR=n,this.BL=i,this.horizon=r}static fromInvProjectionMatrix(e,t,n){const i=[-1,1,1],r=[1,1,1],o=[1,-1,1],a=[-1,-1,1],s=zl(i,i,e),l=zl(r,r,e),c=zl(o,o,e),u=zl(a,a,e);return new $l(s,l,c,u,t/n)}}class Hl{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(e,t,n,i){const r=Math.pow(2,n),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(n=>{const o=Nl([],n,e),a=1/o[3]/t*r;return function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}(o,o,[a,a,i?1/o[3]:a,a])}),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(e=>{const t=kl([],Pl([],Ol([],o[e[0]],o[e[1]]),Ol([],o[e[2]],o[e[1]]))),n=-Al(t,o[e[1]]);return t.concat(n)});return new Hl(o,a)}}class Xl{static fromPoints(e){const t=[1/0,1/0,1/0],n=[-1/0,-1/0,-1/0];for(const i of e)Sl(t,t,i),Ml(n,n,i);return new Xl(t,n)}static applyTransform(e,t){const n=e.getCorners();for(let e=0;e<n.length;++e)zl(n[e],n[e],t);return Xl.fromPoints(n)}constructor(e,t){this.min=e,this.max=t,this.center=Il([],wl([],this.min,this.max),.5)}quadrant(e){const t=[e%2==0,e<2],n=vl(this.min),i=vl(this.max);for(let e=0;e<t.length;e++)n[e]=t[e]?this.min[e]:this.center[e],i[e]=t[e]?this.center[e]:this.max[e];return i[2]=this.max[2],new Xl(n,i)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){const e=this.min,t=this.max;return[[e[0],e[1],e[2]],[t[0],e[1],e[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],t[2]],[e[0],t[1],t[2]]]}intersects(e){const t=this.getCorners();let n=!0;for(let i=0;i<e.planes.length;i++){const r=e.planes[i];let o=0;for(let e=0;e<t.length;e++)o+=Al(r,t[e])+r[3]>=0;if(0===o)return 0;o!==t.length&&(n=!1)}if(n)return 2;for(let t=0;t<3;t++){let n=Number.MAX_VALUE,i=-Number.MAX_VALUE;for(let r=0;r<e.points.length;r++){const o=e.points[r][t]-this.min[t];n=Math.min(n,o),i=Math.max(i,o)}if(i<0||n>this.max[t]-this.min[t])return 0}return 1}}function Yl(e,t,n,i,r,o,a,s,l){if(o&&e.queryGeometry.isAboveHorizon)return!1;o&&(l*=e.pixelToTileUnitsFactor);const c=e.tileID.canonical,u=n.projection.upVectorScale(c,n.center.lat,n.worldSize).metersToTile;for(const h of t)for(const t of h){const h=t.add(s),d=r&&n.elevation?n.elevation.exaggeration()*r.getElevationAt(h.x,h.y,!0):0,p=n.projection.projectTilePoint(h.x,h.y,c);if(d>0){const e=n.projection.upVector(c,h.x,h.y);p.x+=e[0]*u*d,p.y+=e[1]*u*d,p.z+=e[2]*u*d}const f=o?h:Jl(p.x,p.y,p.z,i),m=o?e.tilespaceRays.map(e=>ec(e,d)):e.queryGeometry.screenGeometry,g=Nl([],[p.x,p.y,p.z,1],i);if(!a&&o?l*=g[3]/n.cameraToCenterDistance:a&&!o&&(l*=n.cameraToCenterDistance/g[3]),o){const e=Ts((t.y/ps+c.y)/(1<<c.z));l/=n.projection.pixelsPerMeter(e,1)/bs(1,e)}if(Us(m,f,l))return!0}return!1}function Jl(e,t,n,i){const r=Nl([],[e,t,n,1],i);return new m(r[0]/r[3],r[1]/r[3])}const Ql=bl(0,0,0),Kl=bl(0,0,1);function ec(e,t){const n=_l();return Ql[2]=t,e.intersectsPlane(Ql,Kl,n),new m(n[0],n[1])}class tc extends Fs{}function nc(e,{width:t,height:n},i,r){if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==t*n*i)throw new RangeError("mismatched image size")}else r=new Uint8Array(t*n*i);return e.width=t,e.height=n,e.data=r,e}function ic(e,t,n){const{width:i,height:r}=t;i===e.width&&r===e.height||(rc(e,t,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,i),height:Math.min(e.height,r)},n),e.width=i,e.height=r,e.data=t.data)}function rc(e,t,n,i,r,o){if(0===r.width||0===r.height)return t;if(r.width>e.width||r.height>e.height||n.x>e.width-r.width||n.y>e.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>t.width||r.height>t.height||i.x>t.width-r.width||i.y>t.height-r.height)throw new RangeError("out of range destination coordinates for image copy");const a=e.data,s=t.data;for(let l=0;l<r.height;l++){const c=((n.y+l)*e.width+n.x)*o,u=((i.y+l)*t.width+i.x)*o;for(let e=0;e<r.width*o;e++)s[u+e]=a[c+e]}return t}zr(tc,"HeatmapBucket",{omit:["layers"]});class oc{constructor(e,t){nc(this,e,1,t)}resize(e){ic(this,new oc(e),1)}clone(){return new oc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,i,r){rc(e,t,n,i,r,1)}}class ac{constructor(e,t){nc(this,e,4,t)}resize(e){ic(this,new ac(e),4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new ac({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,i,r){rc(e,t,n,i,r,4)}}zr(oc,"AlphaImage"),zr(ac,"RGBAImage");var sc={paint:new Go({"heatmap-radius":new Uo(Je.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Uo(Je.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new No(Je.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Vo(Je.paint_heatmap["heatmap-color"]),"heatmap-opacity":new No(Je.paint_heatmap["heatmap-opacity"])})};function lc(e){const t={},n=e.resolution||256,i=e.clips?e.clips.length:1,r=e.image||new ac({width:n,height:i}),o=(n,i,o)=>{t[e.evaluationKey]=o;const a=e.expression.evaluate(t);r.data[n+i+0]=Math.floor(255*a.r/a.a),r.data[n+i+1]=Math.floor(255*a.g/a.a),r.data[n+i+2]=Math.floor(255*a.b/a.a),r.data[n+i+3]=Math.floor(255*a.a)};if(e.clips)for(let t=0,r=0;t<i;++t,r+=4*n)for(let i=0,a=0;i<n;i++,a+=4){const s=i/(n-1),{start:l,end:c}=e.clips[t];o(r,a,l*(1-s)+c*s)}else for(let e=0,t=0;e<n;e++,t+=4)o(0,t,e/(n-1));return r}var cc={paint:new Go({"hillshade-illumination-direction":new No(Je.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new No(Je.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new No(Je.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new No(Je.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new No(Je.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new No(Je.paint_hillshade["hillshade-accent-color"])})};const uc=Ho([{name:"a_pos",components:2,type:"Int16"}],4),{members:hc}=uc;var dc={exports:{}};function pc(e,t,n){n=n||2;var i,r,o,a,s,l,c,u=t&&t.length,h=u?t[0]*n:e.length,d=fc(e,0,h,n,!0),p=[];if(!d||d.next===d.prev)return p;if(u&&(d=function(e,t,n,i){var r,o,a,s=[];for(r=0,o=t.length;r<o;r++)(a=fc(e,t[r]*i,r<o-1?t[r+1]*i:e.length,i,!1))===a.next&&(a.steiner=!0),s.push(Sc(a));for(s.sort(bc),r=0;r<s.length;r++)n=wc(s[r],n);return n}(e,t,d,n)),e.length>80*n){i=o=e[0],r=a=e[1];for(var f=n;f<h;f+=n)(s=e[f])<i&&(i=s),(l=e[f+1])<r&&(r=l),s>o&&(o=s),l>a&&(a=l);c=0!==(c=Math.max(o-i,a-r))?32767/c:0}return gc(d,p,n,i,r,c,0),p}function fc(e,t,n,i,r){var o,a;if(r===jc(e,t,n,i)>0)for(o=t;o<n;o+=i)a=Oc(o,e[o],e[o+1],a);else for(o=n-i;o>=t;o-=i)a=Oc(o,e[o],e[o+1],a);return a&&kc(a,a.next)&&(Rc(a),a=a.next),a}function mc(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!kc(i,i.next)&&0!==Cc(i.prev,i,i.next))i=i.next;else{if(Rc(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function gc(e,t,n,i,r,o,a){if(e){!a&&o&&function(e,t,n,i){var r=e;do{0===r.z&&(r.z=Ec(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,i=n,s=0,t=0;t<c&&(s++,i=i.nextZ);t++);for(l=c;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(a>1)}(r)}(e,i,r,o);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?_c(e,i,r,o):yc(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Rc(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?gc(e=vc(mc(e),t,n),t,n,i,r,o,2):2===a&&xc(e,t,n,i,r,o):gc(mc(e),t,n,i,r,o,1);break}}}function yc(e){var t=e.prev,n=e,i=e.next;if(Cc(t,n,i)>=0)return!1;for(var r=t.x,o=n.x,a=i.x,s=t.y,l=n.y,c=i.y,u=r<o?r<a?r:a:o<a?o:a,h=s<l?s<c?s:c:l<c?l:c,d=r>o?r>a?r:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c,f=i.next;f!==t;){if(f.x>=u&&f.x<=d&&f.y>=h&&f.y<=p&&Mc(r,s,o,l,a,c,f.x,f.y)&&Cc(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function _c(e,t,n,i){var r=e.prev,o=e,a=e.next;if(Cc(r,o,a)>=0)return!1;for(var s=r.x,l=o.x,c=a.x,u=r.y,h=o.y,d=a.y,p=s<l?s<c?s:c:l<c?l:c,f=u<h?u<d?u:d:h<d?h:d,m=s>l?s>c?s:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,y=Ec(p,f,t,n,i),_=Ec(m,g,t,n,i),v=e.prevZ,x=e.nextZ;v&&v.z>=y&&x&&x.z<=_;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==r&&v!==a&&Mc(s,u,l,h,c,d,v.x,v.y)&&Cc(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==r&&x!==a&&Mc(s,u,l,h,c,d,x.x,x.y)&&Cc(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;v&&v.z>=y;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==r&&v!==a&&Mc(s,u,l,h,c,d,v.x,v.y)&&Cc(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;x&&x.z<=_;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==r&&x!==a&&Mc(s,u,l,h,c,d,x.x,x.y)&&Cc(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function vc(e,t,n){var i=e;do{var r=i.prev,o=i.next.next;!kc(r,o)&&Ac(r,i,i.next,o)&&Dc(r,o)&&Dc(o,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(o.i/n|0),Rc(i),Rc(i.next),i=e=o),i=i.next}while(i!==e);return mc(i)}function xc(e,t,n,i,r,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ic(a,s)){var l=Lc(a,s);return a=mc(a,a.next),l=mc(l,l.next),gc(a,t,n,i,r,o,0),void gc(l,t,n,i,r,o,0)}s=s.next}a=a.next}while(a!==e)}function bc(e,t){return e.x-t.x}function wc(e,t){var n=function(e,t){var n,i=t,r=e.x,o=e.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a&&(a=s,n=i.x<i.next.x?i:i.next,s===r))return n}i=i.next}while(i!==t);if(!n)return null;var l,c=n,u=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=u&&r!==i.x&&Mc(o<h?r:a,o,u,h,o<h?a:r,o,i.x,i.y)&&(l=Math.abs(o-i.y)/(r-i.x),Dc(i,e)&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&Tc(n,i)))&&(n=i,d=l)),i=i.next}while(i!==c);return n}(e,t);if(!n)return t;var i=Lc(n,e);return mc(i,i.next),mc(n,n.next)}function Tc(e,t){return Cc(e.prev,e,t.prev)<0&&Cc(t.next,e,e.next)<0}function Ec(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Sc(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Mc(e,t,n,i,r,o,a,s){return(r-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(i-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(r-a)*(i-s)}function Ic(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ac(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Dc(e,t)&&Dc(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(Cc(e.prev,e,t.prev)||Cc(e,t.prev,t))||kc(e,t)&&Cc(e.prev,e,e.next)>0&&Cc(t.prev,t,t.next)>0)}function Cc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function kc(e,t){return e.x===t.x&&e.y===t.y}function Ac(e,t,n,i){var r=zc(Cc(e,t,n)),o=zc(Cc(e,t,i)),a=zc(Cc(n,i,e)),s=zc(Cc(n,i,t));return r!==o&&a!==s||!(0!==r||!Pc(e,n,t))||!(0!==o||!Pc(e,i,t))||!(0!==a||!Pc(n,e,i))||!(0!==s||!Pc(n,t,i))}function Pc(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function zc(e){return e>0?1:e<0?-1:0}function Dc(e,t){return Cc(e.prev,e,e.next)<0?Cc(e,t,e.next)>=0&&Cc(e,e.prev,t)>=0:Cc(e,t,e.prev)<0||Cc(e,e.next,t)<0}function Lc(e,t){var n=new Bc(e.i,e.x,e.y),i=new Bc(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Oc(e,t,n,i){var r=new Bc(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Rc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Bc(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function jc(e,t,n,i){for(var r=0,o=t,a=n-i;o<n;o+=i)r+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return r}function Fc(e,t,n,i,r){!function e(t,n,i,r,o){for(;r>i;){if(r-i>600){var a=r-i+1,s=n-i+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(s-a/2<0?-1:1);e(t,n,Math.max(i,Math.floor(n-s*c/a+u)),Math.min(r,Math.floor(n+(a-s)*c/a+u)),o)}var h=t[n],d=i,p=r;for(Nc(t,i,n),o(t[r],h)>0&&Nc(t,i,r);d<p;){for(Nc(t,d,p),d++,p--;o(t[d],h)<0;)d++;for(;o(t[p],h)>0;)p--}0===o(t[i],h)?Nc(t,i,p):Nc(t,++p,r),p<=n&&(i=p+1),n<=p&&(r=p-1)}}(e,t,n||0,i||e.length-1,r||Uc)}function Nc(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function Uc(e,t){return e<t?-1:e>t?1:0}function Vc(e,t){const n=e.length;if(n<=1)return[e];const i=[];let r,o;for(let t=0;t<n;t++){const n=Z(e[t]);0!==n&&(e[t].area=Math.abs(n),void 0===o&&(o=n<0),o===n<0?(r&&i.push(r),r=[e[t]]):r.push(e[t]))}if(r&&i.push(r),t>1)for(let e=0;e<i.length;e++)i[e].length<=t||(Fc(i[e],t,1,i[e].length-1,Gc),i[e]=i[e].slice(0,t));return i}function Gc(e,t){return t.area-e.area}function Zc(e,t,n){const i=n.patternDependencies;let r=!1;for(const n of t){const t=n.paint.get(e+"-pattern");t.isConstant()||(r=!0);const o=t.constantOr(null);o&&(r=!0,i[o]=!0)}return r}function Wc(e,t,n,i,r){const o=r.patternDependencies;for(const a of t){const t=a.paint.get(e+"-pattern").value;if("constant"!==t.kind){let e=t.evaluate({zoom:i},n,{},r.availableImages);e=e&&e.name?e.name:e,o[e]=!0,n.patterns[a.id]=e}}return n}dc.exports=pc,dc.exports.default=pc,pc.deviation=function(e,t,n,i){var r=t&&t.length,o=Math.abs(jc(e,0,r?t[0]*n:e.length,n));if(r)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(jc(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n));var l=0;for(a=0;a<i.length;a+=3){var c=i[a]*n,u=i[a+1]*n,h=i[a+2]*n;l+=Math.abs((e[c]-e[h])*(e[u+1]-e[c+1])-(e[c]-e[u])*(e[h+1]-e[c+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},pc.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},i=0,r=0;r<e.length;r++){for(var o=0;o<e[r].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[r][o][a]);r>0&&n.holes.push(i+=e[r-1].length)}return n};class qc{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Yo,this.indexArray=new da,this.indexArray2=new _a,this.programConfigurations=new ns(e.layers,e.zoom),this.segments=new ds,this.segments2=new ds,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.projection=e.projection}populate(e,t,n,i){this.hasPattern=Zc("fill",this.layers,t);const r=this.layers[0].layout.get("fill-sort-key"),o=[];for(const{feature:a,id:s,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,u=Rs(a,e);if(!this.layers[0]._featureFilter.filter(new Po(this.zoom),u,n))continue;const h=r?r.evaluate(u,{},n,t.availableImages):void 0,d={id:s,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:e?u.geometry:Os(a,n,i),patterns:{},sortKey:h};o.push(d)}r&&o.sort((e,t)=>e.sortKey-t.sortKey);for(const i of o){const{geometry:r,index:o,sourceLayerIndex:a}=i;if(this.hasPattern){const e=Wc("fill",this.layers,i,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(i,r,o,n,{},t.availableImages);t.featureIndex.insert(e[o].feature,r,o,a,this.index)}}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}addFeatures(e,t,n,i,r){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,hc),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,n,i,r,o=[]){for(const e of Vc(t,500)){let t=0;for(const n of e)t+=n.length;const n=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),i=n.vertexLength,r=[],o=[];for(const t of e){if(0===t.length)continue;t!==e[0]&&o.push(r.length/2);const n=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),i=n.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(i+t.length-1,i),r.push(t[0].x),r.push(t[0].y);for(let e=1;e<t.length;e++)this.layoutVertexArray.emplaceBack(t[e].x,t[e].y),this.indexArray2.emplaceBack(i+e-1,i+e),r.push(t[e].x),r.push(t[e].y);n.vertexLength+=t.length,n.primitiveLength+=t.length}const a=dc.exports(r,o);for(let e=0;e<a.length;e+=3)this.indexArray.emplaceBack(i+a[e],i+a[e+1],i+a[e+2]);n.vertexLength+=t,n.primitiveLength+=a.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,o,i)}}zr(qc,"FillBucket",{omit:["layers","patternFeatures"]});const $c=new Go({"fill-sort-key":new Uo(Je.layout_fill["fill-sort-key"])});var Hc={paint:new Go({"fill-antialias":new No(Je.paint_fill["fill-antialias"]),"fill-opacity":new Uo(Je.paint_fill["fill-opacity"]),"fill-color":new Uo(Je.paint_fill["fill-color"]),"fill-outline-color":new Uo(Je.paint_fill["fill-outline-color"]),"fill-translate":new No(Je.paint_fill["fill-translate"]),"fill-translate-anchor":new No(Je.paint_fill["fill-translate-anchor"]),"fill-pattern":new Uo(Je.paint_fill["fill-pattern"])}),layout:$c};const Xc=Ho([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Yc=Ho([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Jc=Ho([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:Qc}=Xc;var Kc={},eu=m,tu=nu;function nu(e,t,n,i,r){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=i,this._values=r,e.readFields(iu,this,t)}function iu(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var i=t._keys[e.readVarint()],r=t._values[e.readVarint()];t.properties[i]=r}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function ru(e){for(var t,n,i=0,r=0,o=e.length,a=o-1;r<o;a=r++)i+=((n=e[a]).x-(t=e[r]).x)*(t.y+n.y);return i}nu.types=["Unknown","Point","LineString","Polygon"],nu.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,i=1,r=0,o=0,a=0,s=[];e.pos<n;){if(r<=0){var l=e.readVarint();i=7&l,r=l>>3}if(r--,1===i||2===i)o+=e.readSVarint(),a+=e.readSVarint(),1===i&&(t&&s.push(t),t=[]),t.push(new eu(o,a));else{if(7!==i)throw new Error("unknown command "+i);t&&t.push(t[0].clone())}}return t&&s.push(t),s},nu.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,i=0,r=0,o=0,a=1/0,s=-1/0,l=1/0,c=-1/0;e.pos<t;){if(i<=0){var u=e.readVarint();n=7&u,i=u>>3}if(i--,1===n||2===n)(r+=e.readSVarint())<a&&(a=r),r>s&&(s=r),(o+=e.readSVarint())<l&&(l=o),o>c&&(c=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,c]},nu.prototype.toGeoJSON=function(e,t,n){var i,r,o=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),c=nu.types[this.type];function u(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(i=0;i<l.length;i++)h[i]=l[i][0];u(l=h);break;case 2:for(i=0;i<l.length;i++)u(l[i]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,i,r=[],o=0;o<t;o++){var a=ru(e[o]);0!==a&&(void 0===i&&(i=a<0),i===a<0?(n&&r.push(n),n=[e[o]]):n.push(e[o]))}return n&&r.push(n),r}(l),i=0;i<l.length;i++)for(r=0;r<l[i].length;r++)u(l[i][r])}1===l.length?l=l[0]:c="Multi"+c;var d={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var ou=tu,au=su;function su(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(lu,this,t),this.length=this._features.length}function lu(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var i=e.readVarint()>>3;t=1===i?e.readString():2===i?e.readFloat():3===i?e.readDouble():4===i?e.readVarint64():5===i?e.readVarint():6===i?e.readSVarint():7===i?e.readBoolean():null}return t}(n))}su.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new ou(this._pbf,t,this.extent,this._keys,this._values)};var cu=au;function uu(e,t,n){if(3===e){var i=new cu(n,n.readVarint()+n.pos);i.length&&(t[i.name]=i)}}var hu=Kc.VectorTile=function(e,t){this.layers=e.readFields(uu,{},t)},du=Kc.VectorTileFeature=tu;function pu(e,t,n,i){const r=[],o=0===i?(e,t,n,i,r,o)=>{e.push(new m(o,n+(o-t)/(i-t)*(r-n)))}:(e,t,n,i,r,o)=>{e.push(new m(t+(o-n)/(r-n)*(i-t),o))};for(const a of e){const e=[];for(const r of a){if(r.length<=2)continue;const a=[];for(let e=0;e<r.length-1;e++){const s=r[e].x,l=r[e].y,c=r[e+1].x,u=r[e+1].y,h=0===i?s:l,d=0===i?c:u;h<t?d>t&&o(a,s,l,c,u,t):h>n?d<n&&o(a,s,l,c,u,n):a.push(r[e]),d<t&&h>=t&&o(a,s,l,c,u,t),d>n&&h<=n&&o(a,s,l,c,u,n)}let s=r[r.length-1];const l=0===i?s.x:s.y;l>=t&&l<=n&&a.push(s),a.length&&(s=a[a.length-1],a[0].x===s.x&&a[0].y===s.y||a.push(a[0]),e.push(a))}e.length&&r.push(e)}return r}Kc.VectorTileLayer=au;const fu=du.types,mu=Math.pow(2,13);function gu(e,t,n,i,r,o,a,s){e.emplaceBack((t<<1)+a,(n<<1)+o,(Math.floor(i*mu)<<1)+r,Math.round(s))}function yu(e,t,n){const i=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*i,n[1]*i,n[2]*i)}class _u{constructor(){this.acc=new m(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new m(e.x,e.y),this.max=new m(e.x,e.y))}append(e,t){this.currentPolyCount.edges++,this.acc._add(e);const n=this.min,i=this.max;e.x<n.x?n.x=e.x:e.x>i.x&&(i.x=e.x),e.y<n.y?n.y=e.y:e.y>i.y&&(i.y=e.y),((0===e.x||e.x===ps)&&e.x===t.x)!=((0===e.y||e.y===ps)&&e.y===t.y)&&this.processBorderOverlap(e,t),t.x<0!=e.x<0&&this.addBorderIntersection(0,Cn(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>ps!=e.x>ps&&this.addBorderIntersection(1,Cn(t.y,e.y,(ps-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,Cn(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>ps!=e.y>ps&&this.addBorderIntersection(3,Cn(t.x,e.x,(ps-t.y)/(e.y-t.y)))}addBorderIntersection(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const n=this.borders[e];t<n[0]&&(n[0]=t),t>n[1]&&(n[1]=t)}processBorderOverlap(e,t){if(e.x===t.x){if(e.y===t.y)return;const n=0===e.x?0:1;this.addBorderIntersection(n,t.y),this.addBorderIntersection(n,e.y)}else{const n=0===e.y?2:3;this.addBorderIntersection(n,t.x),this.addBorderIntersection(n,e.x)}}centroid(){const e=this.polyCount.reduce((e,t)=>e+t.edges,0);return 0!==e?this.acc.div(e)._round():new m(0,0)}span(){return new m(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,t)=>e+ +(t[0]!==Number.MAX_VALUE),0)}}class vu{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.layoutVertexArray=new Qo,this.centroidVertexArray=new Pa,this.indexArray=new da,this.programConfigurations=new ns(e.layers,e.zoom),this.segments=new ds,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.enableTerrain=e.enableTerrain}populate(e,t,n,i){this.features=[],this.hasPattern=Zc("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(e){const t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/ps/(1<<e.z)}(n),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:r,id:o,index:a,sourceLayerIndex:s}of e){const e=this.layers[0]._featureFilter.needGeometry,l=Rs(r,e);if(!this.layers[0]._featureFilter.filter(new Po(this.zoom),l,n))continue;const c={id:o,sourceLayerIndex:s,index:a,geometry:e?l.geometry:Os(r,n,i),properties:r.properties,type:r.type,patterns:{}},u=this.layoutVertexArray.length;this.hasPattern?this.features.push(Wc("fill-extrusion",this.layers,c,this.zoom,t)):this.addFeature(c,c.geometry,a,n,{},t.availableImages,i),t.featureIndex.insert(r,c.geometry,a,s,this.index,u)}this.sortBorders()}addFeatures(e,t,n,i,r){for(const e of this.features){const{geometry:o}=e;this.addFeature(e,o,e.index,t,n,i,r)}this.sortBorders()}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Qc),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,Jc.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Yc.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,i,r,o,a){const s=[new m(0,0),new m(ps,ps)],l=a.projection,c="globe"===l.name,u=this.enableTerrain&&!c?new _u:null,h="Polygon"===fu[e.type];c&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new ia);const d=Vc(t,500);for(let e=d.length-1;e>=0;e--){const t=d[e];(0===t.length||(p=t[0]).every(e=>e.x<=0)||p.every(e=>e.x>=ps)||p.every(e=>e.y<=0)||p.every(e=>e.y>=ps))&&d.splice(e,1)}var p;let f;if(c)f=Iu(d,s,i);else{f=[];for(const e of d)f.push({polygon:e,bounds:s})}const g=h?this.edgeRadius:0;for(const{polygon:e,bounds:t}of f){let n=0,r=0;for(const t of e)h&&!t[0].equals(t[t.length-1])&&t.push(t[0]),r+=h?t.length-1:t.length;const o=this.segments.prepareSegment((h?5:4)*r,this.layoutVertexArray,this.indexArray);if(h){const t=[],r=[];n=o.vertexLength;for(const n of e){let a,s;n.length&&n!==e[0]&&r.push(t.length/2),a=n[1].sub(n[0])._perp()._unit();for(let e=1;e<n.length;e++){const r=n[e],u=n[e===n.length-1?1:e+1];let{x:h,y:d}=r;if(g){s=u.sub(r)._perp()._unit();const e=a.add(s)._unit(),t=g*Math.min(4,1/(a.x*e.x+a.y*e.y));h+=t*e.x,d+=t*e.y,a=s}gu(this.layoutVertexArray,h,d,0,0,1,1,0),o.vertexLength++,t.push(r.x,r.y),c&&yu(this.layoutVertexExtArray,l.projectTilePoint(h,d,i),l.upVector(i,h,d))}}const a=dc.exports(t,r);for(let e=0;e<a.length;e+=3)this.indexArray.emplaceBack(n+a[e],n+a[e+2],n+a[e+1]),o.primitiveLength++}for(const r of e){u&&r.length&&u.startRing(r[0]);let e,a,s,d=r.length>4&&Eu(r[r.length-2],r[0],r[1]),p=g?bu(r[r.length-2],r[0],r[1],g):0;a=r[1].sub(r[0])._perp()._unit();let f=!0;for(let m=1,y=0;m<r.length;m++){let _=r[m-1],v=r[m];const x=r[m===r.length-1?1:m+1];if(u&&h&&u.currentPolyCount.top++,Tu(v,_,t)){g&&(a=x.sub(v)._perp()._unit(),f=!f);continue}u&&u.append(v,_);const b=v.sub(_)._perp(),w=b.x/(Math.abs(b.x)+Math.abs(b.y)),T=b.y>0?1:0,E=_.dist(v);if(y+E>32768&&(y=0),g){s=x.sub(v)._perp()._unit();let e=wu(_,v,x,xu(a,s),g);isNaN(e)&&(e=0);const t=v.sub(_)._unit();_=_.add(t.mult(p))._round(),v=v.add(t.mult(-e))._round(),p=e,a=s}const S=o.vertexLength,M=r.length>4&&Eu(_,v,x);let I=Su(y,d,f);if(gu(this.layoutVertexArray,_.x,_.y,w,T,0,0,I),gu(this.layoutVertexArray,_.x,_.y,w,T,0,1,I),y+=E,I=Su(y,M,!f),d=M,gu(this.layoutVertexArray,v.x,v.y,w,T,0,0,I),gu(this.layoutVertexArray,v.x,v.y,w,T,0,1,I),o.vertexLength+=4,this.indexArray.emplaceBack(S+0,S+1,S+2),this.indexArray.emplaceBack(S+1,S+3,S+2),o.primitiveLength+=2,g){const i=n+(1===m?r.length-2:m-2),a=1===m?n:i+1;if(this.indexArray.emplaceBack(S+1,i,S+3),this.indexArray.emplaceBack(i,a,S+3),o.primitiveLength+=2,void 0===e&&(e=S),!Tu(x,r[m],t)){const t=m===r.length-1?e:o.vertexLength;this.indexArray.emplaceBack(S+2,S+3,t),this.indexArray.emplaceBack(S+3,t+1,t),this.indexArray.emplaceBack(S+3,a,t+1),o.primitiveLength+=3}f=!f}if(c){const e=this.layoutVertexExtArray,t=l.projectTilePoint(_.x,_.y,i),n=l.projectTilePoint(v.x,v.y,i),r=l.upVector(i,_.x,_.y),o=l.upVector(i,v.x,v.y);yu(e,t,r),yu(e,t,r),yu(e,n,o),yu(e,n,o)}}h&&(n+=r.length-1)}}if(u&&u.polyCount.length>0){if(u.borders){u.vertexArrayOffset=this.centroidVertexArray.length;const e=u.borders,t=this.featuresOnBorder.push(u)-1;for(let n=0;n<4;n++)e[n][0]!==Number.MAX_VALUE&&this.borders[n].push(t)}this.encodeCentroid(u.borders?void 0:u.centroid(),u)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,o,i)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((t,n)=>this.featuresOnBorder[t].borders[e][0]-this.featuresOnBorder[n].borders[e][0])}encodeCentroid(e,t,n=!0){let i,r;if(e)if(0!==e.y){const n=t.span()._mult(this.tileToMeter);i=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(n.x/10)),r=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(n.y/10))}else i=Math.ceil(7*(e.x+450)),r=0;else i=0,r=+n;let o=n?this.centroidVertexArray.length:t.vertexArrayOffset;for(const e of t.polyCount){n&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*e.edges+e.top);for(let t=0;t<e.top;t++)this.centroidVertexArray.emplace(o++,i,r);for(let t=0;t<2*e.edges;t++)this.centroidVertexArray.emplace(o++,0,r),this.centroidVertexArray.emplace(o++,i,r)}}}function xu(e,t){const n=e.add(t)._unit();return e.x*n.x+e.y*n.y}function bu(e,t,n,i){const r=t.sub(e)._perp()._unit(),o=n.sub(t)._perp()._unit();return wu(e,t,n,xu(r,o),i)}function wu(e,t,n,i,r){const o=Math.sqrt(1-i*i);return Math.min(e.dist(t)/3,t.dist(n)/3,r*o/i)}function Tu(e,t,n){return e.x<n[0].x&&t.x<n[0].x||e.x>n[1].x&&t.x>n[1].x||e.y<n[0].y&&t.y<n[0].y||e.y>n[1].y&&t.y>n[1].y}function Eu(e,t,n){if(e.x<0||e.x>=ps||t.x<0||t.x>=ps||n.x<0||n.x>=ps)return!1;const i=n.sub(t),r=i.perp(),o=e.sub(t);return(i.x*o.x+i.y*o.y)/Math.sqrt((i.x*i.x+i.y*i.y)*(o.x*o.x+o.y*o.y))>-.866&&r.x*o.x+r.y*o.y<0}function Su(e,t,n){const i=t?2|e:-3&e;return n?1|i:-2&i}function Mu(){const e=Math.PI/32,t=Math.tan(e),n=ms;return n*Math.sqrt(1+2*t*t)-n}function Iu(e,t,n){const i=1<<n.z,r=ws(n.x/i),o=ws((n.x+1)/i),a=Ts(n.y/i),s=Ts((n.y+1)/i);return function(e,t,n,i,r=0,o){const a=[];if(!e.length||!n||!i)return a;const s=(e,t)=>{for(const n of e)a.push({polygon:n,bounds:t})},l=Math.ceil(Math.log2(n)),c=Math.ceil(Math.log2(i)),u=l-c,h=[];for(let e=0;e<Math.abs(u);e++)h.push(u>0?0:1);for(let e=0;e<Math.min(l,c);e++)h.push(0),h.push(1);let d=e;if(d=pu(d,t[0].y-r,t[1].y+r,1),d=pu(d,t[0].x-r,t[1].x+r,0),!d.length)return a;const p=[];for(h.length?p.push({polygons:d,bounds:t,depth:0}):s(d,t);p.length;){const e=p.pop(),t=e.depth,n=h[t],i=e.bounds[0],a=e.bounds[1],l=0===n?i.x:i.y,c=0===n?a.x:a.y,u=o?o(n,l,c):.5*(l+c),d=pu(e.polygons,l-r,u+r,n),f=pu(e.polygons,u-r,c+r,n);if(d.length){const e=[i,new m(0===n?u:a.x,1===n?u:a.y)];h.length>t+1?p.push({polygons:d,bounds:e,depth:t+1}):s(d,e)}if(f.length){const e=[new m(0===n?u:i.x,1===n?u:i.y),a];h.length>t+1?p.push({polygons:f,bounds:e,depth:t+1}):s(f,e)}}return a}(e,t,Math.ceil((o-r)/11.25),Math.ceil((a-s)/11.25),1,(e,t,r)=>{if(0===e)return.5*(t+r);{const e=Ts((n.y+t/ps)/i);return(xs(.5*(Ts((n.y+r/ps)/i)+e))*i-n.y)*ps}})}zr(vu,"FillExtrusionBucket",{omit:["layers","features"]}),zr(_u,"PartMetadata");const Cu=new Go({"fill-extrusion-edge-radius":new No(Je["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var ku={paint:new Go({"fill-extrusion-opacity":new No(Je["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Uo(Je["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new No(Je["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new No(Je["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Uo(Je["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Uo(Je["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Uo(Je["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new No(Je["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new No(Je["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new No(Je["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:Cu};function Au(e,t,n){var i=2*Math.PI*6378137/256/Math.pow(2,n);return[e*i-2*Math.PI*6378137/2,t*i-2*Math.PI*6378137/2]}class Pu{constructor(e,t,n){this.z=e,this.x=t,this.y=n,this.key=Lu(0,e,e,t,n)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t){const n=function(e,t,n){var i=Au(256*e,256*(t=Math.pow(2,n)-t-1),n),r=Au(256*(e+1),256*(t+1),n);return i[0]+","+i[1]+","+r[0]+","+r[1]}(this.x,this.y,this.z),i=function(e,t,n){let i,r="";for(let o=e;o>0;o--)i=1<<o-1,r+=(t&i?1:0)+(n&i?2:0);return r}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",i).replace("{bbox-epsg-3857}",n)}toString(){return`${this.z}/${this.x}/${this.y}`}}class zu{constructor(e,t){this.wrap=e,this.canonical=t,this.key=Lu(e,t.z,t.z,t.x,t.y)}}class Du{constructor(e,t,n,i,r){this.overscaledZ=e,this.wrap=t,this.canonical=new Pu(n,+i,+r),this.key=0===t&&e===n?this.canonical.key:Lu(t,e,n,i,r)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const t=this.canonical.z-e;return e>this.canonical.z?new Du(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Du(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t=!0){if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return Lu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);{const n=this.canonical.z-e;return Lu(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new Du(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,n=2*this.canonical.x,i=2*this.canonical.y;return[new Du(t,this.wrap,t,n,i),new Du(t,this.wrap,t,n+1,i),new Du(t,this.wrap,t,n,i+1),new Du(t,this.wrap,t,n+1,i+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new Du(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new Du(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new zu(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Lu(e,t,n,i,r){const o=1<<Math.min(n,22);let a=o*(r%o)+i%o;return e&&n<22&&(a+=o*o*((e<0?-2*e-1:2*e)%(1<<2*(22-n)))),16*(32*a+n)+(t-n)}zr(Pu,"CanonicalTileID"),zr(Du,"OverscaledTileID",{omit:["projMatrix"]});class Ou extends m{constructor(e,t,n){super(e,t),this.z=n}}function Ru(e,t){return e.x*t.x+e.y*t.y}function Bu(e,t){if(1===e.length){let n=0;const i=t[n++];let r;for(;!r||i.equals(r);)if(r=t[n++],!r)return 1/0;for(;n<t.length;n++){const o=t[n],a=e[0],s=r.sub(i),l=o.sub(i),c=a.sub(i),u=Ru(s,s),h=Ru(s,l),d=Ru(l,l),p=Ru(c,s),f=Ru(c,l),m=u*d-h*h,g=(d*p-h*f)/m,y=(u*f-h*p)/m,_=i.z*(1-g-y)+r.z*g+o.z*y;if(isFinite(_))return _}return 1/0}{let e=1/0;for(const n of t)e=Math.min(e,n.z);return e}}function ju(e,t,n,i,r,o,a,s){const l=a*r.getElevationAt(e,t,!0,!0),c=0!==o[0],u=c?0===o[1]?a*(o[0]/7-450):a*function(e,t,n){const i=Math.floor(t[0]/8),r=Math.floor(t[1]/8),o=10*(t[0]-8*i),a=10*(t[1]-8*r),s=e.getElevationAt(i,r,!0,!0),l=e.getMeterToDEM(n),c=Math.floor(.5*(o*l-1)),u=Math.floor(.5*(a*l-1)),h=e.tileCoordToPixel(i,r),d=2*c+1,p=2*u+1,f=function(e,t,n,i,r){return[e.getElevationAtPixel(t,n,!0),e.getElevationAtPixel(t+r,n,!0),e.getElevationAtPixel(t,n+r,!0),e.getElevationAtPixel(t+i,n+r,!0)]}(e,h.x-c,h.y-u,d,p),m=Math.abs(f[0]-f[1]),g=Math.abs(f[2]-f[3]),y=Math.abs(f[0]-f[2])+Math.abs(f[1]-f[3]),_=Math.min(.25,.5*l*(m+g)/d),v=Math.min(.25,.5*l*y/p);return s+Math.max(_*o,v*a)}(r,o,s):l;return{base:l+(0===n)?-1:n,top:c?Math.max(u+i,l+n+2):l+i}}const Fu=Ho([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Nu}=Fu,Uu=Ho([{name:"a_packed",components:4,type:"Float32"}]),{members:Vu}=Uu,Gu=du.types,Zu=Math.cos(Math.PI/180*37.5);class Wu{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(e=>{this.gradients[e.id]={}}),this.layoutVertexArray=new Ko,this.layoutVertexArray2=new ea,this.indexArray=new da,this.programConfigurations=new ns(e.layers,e.zoom),this.segments=new ds,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,n,i){this.hasPattern=Zc("line",this.layers,t);const r=this.layers[0].layout.get("line-sort-key"),o=[];for(const{feature:t,id:a,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Rs(t,e);if(!this.layers[0]._featureFilter.filter(new Po(this.zoom),c,n))continue;const u=r?r.evaluate(c,{},n):void 0,h={id:a,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?c.geometry:Os(t,n,i),patterns:{},sortKey:u};o.push(h)}r&&o.sort((e,t)=>e.sortKey-t.sortKey);const{lineAtlas:a,featureIndex:s}=t,l=this.addConstantDashes(a);for(const i of o){const{geometry:r,index:o,sourceLayerIndex:c}=i;if(l&&this.addFeatureDashes(i,a),this.hasPattern){const e=Wc("line",this.layers,i,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(i,r,o,n,a.positions,t.availableImages);s.insert(e[o].feature,r,o,c,this.index)}}addConstantDashes(e){let t=!1;for(const n of this.layers){const i=n.paint.get("line-dasharray").value,r=n.layout.get("line-cap").value;if("constant"!==i.kind||"constant"!==r.kind)t=!0;else{const t=r.value,n=i.value;if(!n)continue;e.addDash(n,t)}}return t}addFeatureDashes(e,t){const n=this.zoom;for(const i of this.layers){const r=i.paint.get("line-dasharray").value,o=i.layout.get("line-cap").value;if("constant"===r.kind&&"constant"===o.kind)continue;let a,s;if("constant"===r.kind){if(a=r.value,!a)continue}else a=r.evaluate({zoom:n},e);s="constant"===o.kind?o.value:o.evaluate({zoom:n},e),t.addDash(a,s),e.patterns[i.id]=t.getKey(a,s)}}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}addFeatures(e,t,n,i,r){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Vu)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Nu),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,n,i,r,o){const a=this.layers[0].layout,s=a.get("line-join").evaluate(e,{}),l=a.get("line-cap").evaluate(e,{}),c=a.get("line-miter-limit"),u=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const n of t)this.addLine(n,e,s,l,c,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,o,i)}addLine(e,t,n,i,r,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const a="Polygon"===Gu[t.type];let s=e.length;for(;s>=2&&e[s-1].equals(e[s-2]);)s--;let l=0;for(;l<s-1&&e[l].equals(e[l+1]);)l++;if(s<(a?3:2))return;"bevel"===n&&(r=1.05);const c=this.overscaling<=16?122880/(512*this.overscaling):0,u=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let h,d,p,f,m;this.e1=this.e2=-1,a&&(h=e[s-2],m=e[l].sub(h)._unit()._perp());for(let t=l;t<s;t++){if(p=t===s-1?a?e[l+1]:void 0:e[t+1],p&&e[t].equals(p))continue;m&&(f=m),h&&(d=h),h=e[t],m=p?p.sub(h)._unit()._perp():f,f=f||m;let g=f.add(m);0===g.x&&0===g.y||g._unit();const y=f.x*m.x+f.y*m.y,_=g.x*m.x+g.y*m.y,v=0!==_?1/_:1/0,x=2*Math.sqrt(2-2*_),b=_<Zu&&d&&p,w=f.x*m.y-f.y*m.x>0;if(b&&t>l){const e=h.dist(d);if(e>2*c){const t=h.sub(h.sub(d)._mult(c/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,f,0,0,u),d=t}}const T=d&&p;let E=T?n:a?"butt":i;if(T&&"round"===E&&(v<o?E="miter":v<=2&&(E="fakeround")),"miter"===E&&v>r&&(E="bevel"),"bevel"===E&&(v>2&&(E="flipbevel"),v<r&&(E="miter")),d&&this.updateDistance(d,h),"miter"===E)g._mult(v),this.addCurrentVertex(h,g,0,0,u);else if("flipbevel"===E){if(v>100)g=m.mult(-1);else{const e=v*f.add(m).mag()/f.sub(m).mag();g._perp()._mult(e*(w?-1:1))}this.addCurrentVertex(h,g,0,0,u),this.addCurrentVertex(h,g.mult(-1),0,0,u)}else if("bevel"===E||"fakeround"===E){const e=-Math.sqrt(v*v-1),t=w?e:0,n=w?0:e;if(d&&this.addCurrentVertex(h,f,t,n,u),"fakeround"===E){const e=Math.round(180*x/Math.PI/20);for(let t=1;t<e;t++){let n=t/e;if(.5!==n){const e=n-.5;n+=n*e*(n-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*e*e+(.848013+y*(.215638*y-1.06021)))}const i=m.sub(f)._mult(n)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(h,i.x,i.y,!1,w,0,u)}}p&&this.addCurrentVertex(h,m,-t,-n,u)}else if("butt"===E)this.addCurrentVertex(h,g,0,0,u);else if("square"===E){const e=d?1:-1;d||this.addCurrentVertex(h,g,e,e,u),this.addCurrentVertex(h,g,0,0,u),d&&this.addCurrentVertex(h,g,e,e,u)}else"round"===E&&(d&&(this.addCurrentVertex(h,f,0,0,u),this.addCurrentVertex(h,f,1,1,u,!0)),p&&(this.addCurrentVertex(h,m,-1,-1,u,!0),this.addCurrentVertex(h,m,0,0,u)));if(b&&t<s-1){const e=h.dist(p);if(e>2*c){const t=h.add(p.sub(h)._mult(c/e)._round());this.updateDistance(h,t),this.addCurrentVertex(t,m,0,0,u),h=t}}}}addCurrentVertex(e,t,n,i,r,o=!1){const a=t.y*i-t.x,s=-t.y-t.x*i;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,o,!1,n,r),this.addHalfVertex(e,a,s,o,!0,-i,r)}addHalfVertex({x:e,y:t},n,i,r,o,a,s){this.layoutVertexArray.emplaceBack((e<<1)+(r?1:0),(t<<1)+(o?1:0),Math.round(63*n)+128,Math.round(63*i)+128,1+(0===a?0:a<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const l=s.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),s.primitiveLength++),o?this.e2=l:this.e1=l}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}zr(Wu,"LineBucket",{omit:["layers","patternFeatures"]});const qu=new Go({"line-cap":new Uo(Je.layout_line["line-cap"]),"line-join":new Uo(Je.layout_line["line-join"]),"line-miter-limit":new No(Je.layout_line["line-miter-limit"]),"line-round-limit":new No(Je.layout_line["line-round-limit"]),"line-sort-key":new Uo(Je.layout_line["line-sort-key"])});var $u={paint:new Go({"line-opacity":new Uo(Je.paint_line["line-opacity"]),"line-color":new Uo(Je.paint_line["line-color"]),"line-translate":new No(Je.paint_line["line-translate"]),"line-translate-anchor":new No(Je.paint_line["line-translate-anchor"]),"line-width":new Uo(Je.paint_line["line-width"]),"line-gap-width":new Uo(Je.paint_line["line-gap-width"]),"line-offset":new Uo(Je.paint_line["line-offset"]),"line-blur":new Uo(Je.paint_line["line-blur"]),"line-dasharray":new Uo(Je.paint_line["line-dasharray"]),"line-pattern":new Uo(Je.paint_line["line-pattern"]),"line-gradient":new Vo(Je.paint_line["line-gradient"]),"line-trim-offset":new No(Je.paint_line["line-trim-offset"])}),layout:qu};const Hu=new class extends Uo{possiblyEvaluate(e,t){return t=new Po(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,n,i){return t=A({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,n,i)}}($u.paint.properties["line-width"].specification);function Xu(e,t){return t>0?t+2*e:e}Hu.useIntegerZoom=!0;const Yu=Ho([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Ju=Ho([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Qu=Ho([{name:"a_projected_pos",components:4,type:"Float32"}],4);Ho([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Ku=Ho([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),eh=Ho([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const th=Ho([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),nh=Ho([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ho([{name:"triangle",components:3,type:"Uint16"}]),Ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ho([{type:"Float32",name:"offsetX"}]),Ho([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);const ih=128;function rh(e,t){const{expression:n}=t;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Po(e+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:i}=n;let r=0;for(;r<t.length&&t[r]<=e;)r++;r=Math.max(0,r-1);let o=r;for(;o<t.length&&t[o]<e+1;)o++;o=Math.min(t.length-1,o);const a=t[r],s=t[o];return"composite"===n.kind?{kind:"composite",minZoom:a,maxZoom:s,interpolationType:i}:{kind:"camera",minZoom:a,maxZoom:s,minSize:n.evaluate(new Po(a)),maxSize:n.evaluate(new Po(s)),interpolationType:i}}}function oh(e,{uSize:t,uSizeT:n},{lowerSize:i,upperSize:r}){return"source"===e.kind?i/ih:"composite"===e.kind?Cn(i/ih,r/ih,n):t}function ah(e,t){let n=0,i=0;if("constant"===e.kind)i=e.layoutSize;else if("source"!==e.kind){const{interpolationType:r,minZoom:o,maxZoom:a}=e,s=r?S(Wn.interpolationFactor(r,t,o,a),0,1):0;"camera"===e.kind?i=Cn(e.minSize,e.maxSize,s):n=s}return{uSizeT:n,uSize:i}}var sh=Object.freeze({__proto__:null,getSizeData:rh,evaluateSizeForFeature:oh,evaluateSizeForZoom:ah,SIZE_PACK_FACTOR:ih});function lh(e,t,n){return e.sections.forEach(e=>{e.text=function(e,t,n){const i=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===i?e=e.toLocaleUpperCase():"lowercase"===i&&(e=e.toLocaleLowerCase()),Ao.applyArabicShaping&&(e=Ao.applyArabicShaping(e)),e}(e.text,t,n)}),e}const ch={"!":"ï¸•","#":"ï¼ƒ",$:"ï¼„","%":"ï¼…","&":"ï¼†","(":"ï¸µ",")":"ï¸¶","*":"ï¼Š","+":"ï¼‹",",":"ï¸","-":"ï¸²",".":"ãƒ»","/":"ï¼",":":"ï¸“",";":"ï¸”","<":"ï¸¿","=":"ï¼",">":"ï¹€","?":"ï¸–","@":"ï¼ ","[":"ï¹‡","\\":"ï¼¼","]":"ï¹ˆ","^":"ï¼¾",_:"ï¸³","`":"ï½€","{":"ï¸·","|":"â€•","}":"ï¸¸","~":"ï½ž","Â¢":"ï¿ ","Â£":"ï¿¡","Â¥":"ï¿¥","Â¦":"ï¿¤","Â¬":"ï¿¢","Â¯":"ï¿£","â€“":"ï¸²","â€”":"ï¸±","â€˜":"ï¹ƒ","â€™":"ï¹„","â€œ":"ï¹","â€":"ï¹‚","â€¦":"ï¸™","â€§":"ãƒ»","â‚©":"ï¿¦","ã€":"ï¸‘","ã€‚":"ï¸’","ã€ˆ":"ï¸¿","ã€‰":"ï¹€","ã€Š":"ï¸½","ã€‹":"ï¸¾","ã€Œ":"ï¹","ã€":"ï¹‚","ã€Ž":"ï¹ƒ","ã€":"ï¹„","ã€":"ï¸»","ã€‘":"ï¸¼","ã€”":"ï¸¹","ã€•":"ï¸º","ã€–":"ï¸—","ã€—":"ï¸˜","ï¼":"ï¸•","ï¼ˆ":"ï¸µ","ï¼‰":"ï¸¶","ï¼Œ":"ï¸","ï¼":"ï¸²","ï¼Ž":"ãƒ»","ï¼š":"ï¸“","ï¼›":"ï¸”","ï¼œ":"ï¸¿","ï¼ž":"ï¹€","ï¼Ÿ":"ï¸–","ï¼»":"ï¹‡","ï¼½":"ï¹ˆ","ï¼¿":"ï¸³","ï½›":"ï¸·","ï½œ":"â€•","ï½":"ï¸¸","ï½Ÿ":"ï¸µ","ï½ ":"ï¸¶","ï½¡":"ï¸’","ï½¢":"ï¹","ï½£":"ï¹‚"};function uh(e){return"ï¸¶"===e||"ï¹ˆ"===e||"ï¸¸"===e||"ï¹„"===e||"ï¹‚"===e||"ï¸¾"===e||"ï¸¼"===e||"ï¸º"===e||"ï¸˜"===e||"ï¹€"===e||"ï¸"===e||"ï¸“"===e||"ï¸”"===e||"ï½€"===e||"ï¿£"===e||"ï¸‘"===e||"ï¸’"===e}function hh(e){return"ï¸µ"===e||"ï¹‡"===e||"ï¸·"===e||"ï¹ƒ"===e||"ï¹"===e||"ï¸½"===e||"ï¸»"===e||"ï¸¹"===e||"ï¸—"===e||"ï¸¿"===e}var dh=mh,ph=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?r-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=c}return(p?-1:1)*a*Math.pow(2,o-i)},fh=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,r),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*m};function mh(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}mh.Varint=0,mh.Fixed64=1,mh.Bytes=2,mh.Fixed32=5;var gh=4294967296,yh=1/gh,_h="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function vh(e){return e.type===mh.Bytes?e.readVarint()+e.pos:e.pos+1}function xh(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function bh(e,t,n){var i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=e;r--)n.buf[r+i]=n.buf[r]}function wh(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function Th(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Eh(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function Sh(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function Mh(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function Ih(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function Ch(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function kh(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function Ah(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function Ph(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function zh(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function Dh(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Lh(e,t,n){t.glyphs=[],1===e&&n.readMessage(Oh,t)}function Oh(e,t,n){if(3===e){const{id:e,bitmap:i,width:r,height:o,left:a,top:s,advance:l}=n.readMessage(Rh,{});t.glyphs.push({id:e,bitmap:new oc({width:r+6,height:o+6},i),metrics:{width:r,height:o,left:a,top:s,advance:l}})}else 4===e?t.ascender=n.readSVarint():5===e&&(t.descender=n.readSVarint())}function Rh(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function Bh(e){let t=0,n=0;for(const i of e)t+=i.w*i.h,n=Math.max(n,i.w);e.sort((e,t)=>t.h-e.h);const i=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let r=0,o=0;for(const t of e)for(let e=i.length-1;e>=0;e--){const n=i[e];if(!(t.w>n.w||t.h>n.h)){if(t.x=n.x,t.y=n.y,o=Math.max(o,t.y+t.h),r=Math.max(r,t.x+t.w),t.w===n.w&&t.h===n.h){const t=i.pop();e<i.length&&(i[e]=t)}else t.h===n.h?(n.x+=t.w,n.w-=t.w):t.w===n.w?(n.y+=t.h,n.h-=t.h):(i.push({x:n.x+t.w,y:n.y,w:n.w-t.w,h:t.h}),n.y+=t.h,n.h-=t.h);break}}return{w:r,h:o,fill:t/(r*o)||0}}mh.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;this.type=7&i,e(r,t,this),this.pos===o&&this.skip(i)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Ph(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Dh(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Ph(this.buf,this.pos)+Ph(this.buf,this.pos+4)*gh;return this.pos+=8,e},readSFixed64:function(){var e=Ph(this.buf,this.pos)+Dh(this.buf,this.pos+4)*gh;return this.pos+=8,e},readFloat:function(){var e=ph(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=ph(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,i=this.buf;return t=127&(n=i[this.pos++]),n<128?t:(t|=(127&(n=i[this.pos++]))<<7,n<128?t:(t|=(127&(n=i[this.pos++]))<<14,n<128?t:(t|=(127&(n=i[this.pos++]))<<21,n<128?t:function(e,t,n){var i,r,o=n.buf;if(i=(112&(r=o[n.pos++]))>>4,r<128)return xh(e,i,t);if(i|=(127&(r=o[n.pos++]))<<3,r<128)return xh(e,i,t);if(i|=(127&(r=o[n.pos++]))<<10,r<128)return xh(e,i,t);if(i|=(127&(r=o[n.pos++]))<<17,r<128)return xh(e,i,t);if(i|=(127&(r=o[n.pos++]))<<24,r<128)return xh(e,i,t);if(i|=(1&(r=o[n.pos++]))<<31,r<128)return xh(e,i,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=i[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&_h?function(e,t,n){return _h.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var i="",r=t;r<n;){var o,a,s,l=e[r],c=null,u=l>239?4:l>223?3:l>191?2:1;if(r+u>n)break;1===u?l<128&&(c=l):2===u?128==(192&(o=e[r+1]))&&(c=(31&l)<<6|63&o)<=127&&(c=null):3===u?(a=e[r+2],128==(192&(o=e[r+1]))&&128==(192&a)&&((c=(15&l)<<12|(63&o)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(a=e[r+2],s=e[r+3],128==(192&(o=e[r+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,i+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),i+=String.fromCharCode(c),r+=u}return i}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==mh.Bytes)return e.push(this.readVarint(t));var n=vh(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==mh.Bytes)return e.push(this.readSVarint());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==mh.Bytes)return e.push(this.readBoolean());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==mh.Bytes)return e.push(this.readFloat());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==mh.Bytes)return e.push(this.readDouble());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==mh.Bytes)return e.push(this.readFixed32());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==mh.Bytes)return e.push(this.readSFixed32());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==mh.Bytes)return e.push(this.readFixed64());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==mh.Bytes)return e.push(this.readSFixed64());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===mh.Varint)for(;this.buf[this.pos++]>127;);else if(t===mh.Bytes)this.pos=this.readVarint()+this.pos;else if(t===mh.Fixed32)this.pos+=4;else{if(t!==mh.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),zh(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),zh(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),zh(this.buf,-1&e,this.pos),zh(this.buf,Math.floor(e*yh),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),zh(this.buf,-1&e,this.pos),zh(this.buf,Math.floor(e*yh),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,i;if(e>=0?(n=e%4294967296|0,i=e/4294967296|0):(i=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,i=i+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(i,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var i,r,o=0;o<t.length;o++){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){i>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):r=i;continue}if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(e[n++]=239,e[n++]=191,e[n++]=189,r=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&bh(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),fh(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),fh(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var i=this.pos-n;i>=128&&bh(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(e,t,n){this.writeTag(e,mh.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,wh,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Th,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Mh,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Eh,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Sh,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Ih,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Ch,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,kh,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Ah,t)},writeBytesField:function(e,t){this.writeTag(e,mh.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,mh.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,mh.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,mh.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,mh.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,mh.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,mh.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,mh.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,mh.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,mh.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};class jh{constructor(e,{pixelRatio:t,version:n,stretchX:i,stretchY:r,content:o}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=i,this.stretchY=r,this.content=o,this.version=n}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Fh{constructor(e,t){const n={},i={};this.haveRenderCallbacks=[];const r=[];this.addImages(e,n,r),this.addImages(t,i,r);const{w:o,h:a}=Bh(r),s=new ac({width:o||1,height:a||1});for(const t in e){const i=e[t],r=n[t].paddedRect;ac.copy(i.data,s,{x:0,y:0},{x:r.x+1,y:r.y+1},i.data)}for(const e in t){const n=t[e],r=i[e].paddedRect,o=r.x+1,a=r.y+1,l=n.data.width,c=n.data.height;ac.copy(n.data,s,{x:0,y:0},{x:o,y:a},n.data),ac.copy(n.data,s,{x:0,y:c-1},{x:o,y:a-1},{width:l,height:1}),ac.copy(n.data,s,{x:0,y:0},{x:o,y:a+c},{width:l,height:1}),ac.copy(n.data,s,{x:l-1,y:0},{x:o-1,y:a},{width:1,height:c}),ac.copy(n.data,s,{x:0,y:0},{x:o+l,y:a},{width:1,height:c})}this.image=s,this.iconPositions=n,this.patternPositions=i}addImages(e,t,n){for(const i in e){const r=e[i],o={x:0,y:0,w:r.data.width+2,h:r.data.height+2};n.push(o),t[i]=new jh(o,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(i)}}patchUpdatedImages(e,t){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(t=>e.hasImage(t)),e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const n in e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}patchUpdatedImage(e,t,n){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[i,r]=e.tl;n.update(t.data,void 0,{x:i,y:r})}}zr(jh,"ImagePosition"),zr(Fh,"ImageAtlas");const Nh={horizontal:1,vertical:2,horizontalOnly:3};class Uh{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const n=new Uh;return n.scale=e||1,n.fontStack=t,n}static forImage(e){const t=new Uh;return t.imageName=e,t}}class Vh{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const n=new Vh;for(let i=0;i<e.sections.length;i++){const r=e.sections[i];r.image?n.addImageSection(r):n.addTextSection(r,t)}return n}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(e,t){let n="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i+1)||null,o=e.charCodeAt(i-1)||null;n+=!t&&(r&&mo(r)&&!ch[e[i+1]]||o&&mo(o)&&!ch[e[i-1]])||!ch[e[i]]?e[i]:ch[e[i]]}return n}(this.text,e)}trim(){let e=0;for(let t=0;t<this.text.length&&Zh[this.text.charCodeAt(t)];t++)e++;let t=this.text.length;for(let n=this.text.length-1;n>=0&&n>=e&&Zh[this.text.charCodeAt(n)];n--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const n=new Vh;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,t)=>Math.max(e,this.sections[t].scale),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(Uh.forText(e.scale,e.fontStack||t));const n=this.sections.length-1;for(let t=0;t<e.text.length;++t)this.sectionIndex.push(n)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void V("Can't add FormattedSection with an empty image.");const n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(Uh.forImage(t)),this.sectionIndex.push(this.sections.length-1)):V("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Gh(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f){const m=Vh.fromFeature(e,r);h===Nh.vertical&&m.verticalizePunctuation(d);let g=[];const y=function(e,t,n,i,r,o){if(!e)return[];const a=[],s=function(e,t,n,i,r,o){let a=0;for(let n=0;n<e.length();n++){const s=e.getSection(n);a+=qh(e.getCharCode(n),s,i,r,t,o)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,i,r,o),l=e.text.indexOf("â€‹")>=0;let c=0;for(let n=0;n<e.length();n++){const h=e.getSection(n),d=e.getCharCode(n);if(Zh[d]||(c+=qh(d,h,i,r,t,o)),n<e.length()-1){const t=!((u=d)<11904||!($r(u)||qr(u)||ao(u)||io(u)||Jr(u)||Nr(u)||Hr(u)||Gr(u)||Qr(u)||Kr(u)||Yr(u)||co(u)||Zr(u)||Vr(u)||Ur(u)||Xr(u)||Wr(u)||oo(u)||to(u)||eo(u)));(Wh[d]||t||h.imageName)&&a.push(Xh(n+1,c,s,a,Hh(d,e.getCharCode(n+1),t&&l),!1))}}var u;return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Xh(e.length(),c,s,a,0,!0))}(m,c,o,t,i,p),{processBidirectionalText:_,processStyledBidirectionalText:v}=Ao;if(_&&1===m.sections.length){const e=_(m.toString(),y);for(const t of e){const e=new Vh;e.text=t,e.sections=m.sections;for(let n=0;n<t.length;n++)e.sectionIndex.push(0);g.push(e)}}else if(v){const e=v(m.text,m.sectionIndex,y);for(const t of e){const e=new Vh;e.text=t[0],e.sectionIndex=t[1],e.sections=m.sections,g.push(e)}}else g=function(e,t){const n=[],i=e.text;let r=0;for(const i of t)n.push(e.substring(r,i)),r=i;return r<i.length&&n.push(e.substring(r,i.length)),n}(m,y);const x=[],b={positionedLines:x,text:m.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:h,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,n,i,r,o,a,s,l,c,u,h){let d=0,p=0,f=0;const m="right"===s?1:"left"===s?0:.5;let g=!1;for(const e of r){const n=e.getSections();for(const e of n){if(e.imageName)continue;const n=t[e.fontStack];if(n&&(g=void 0!==n.ascender&&void 0!==n.descender,!g))break}if(!g)break}let y=0;for(const a of r){a.trim();const r=a.getMaxScale(),s=24*(r-1),v={positionedGlyphs:[],lineOffset:0};e.positionedLines[y]=v;const x=v.positionedGlyphs;let b=0;if(!a.length()){p+=o,++y;continue}let w=0,T=0;for(let o=0;o<a.length();o++){const s=a.getSection(o),f=a.getSectionIndex(o),m=a.getCharCode(o);let y=s.scale,v=null,E=null,S=null,M=24,I=0;const C=!(l===Nh.horizontal||!u&&!fo(m)||u&&(Zh[m]||(_=m,Br(_)||jr(_)||Fr(_)||ro(_)||lo(_))));if(s.imageName){const t=i[s.imageName];if(!t)continue;S=s.imageName,e.iconsInText=e.iconsInText||!0,E=t.paddedRect;const n=t.displaySize;y=24*y/h,v={width:n[0],height:n[1],left:1,top:-3,advance:C?n[1]:n[0],localGlyph:!1},I=g?-v.height*y:24*r-17-n[1]*y,M=v.advance;const o=(C?n[0]:n[1])*y-24*r;o>0&&o>b&&(b=o)}else{const e=n[s.fontStack];if(!e)continue;e[m]&&(E=e[m]);const i=t[s.fontStack];if(!i)continue;const o=i.glyphs[m];if(!o)continue;if(v=o.metrics,M=8203!==m?24:0,g){const e=void 0!==i.ascender?Math.abs(i.ascender):0,t=void 0!==i.descender?Math.abs(i.descender):0,n=(e+t)*y;w<n&&(w=n,T=(e-t)/2*y),I=-e*y}else I=24*(r-y)-17}C?(e.verticalizable=!0,x.push({glyph:m,imageName:S,x:d,y:p+I,vertical:C,scale:y,localGlyph:v.localGlyph,fontStack:s.fontStack,sectionIndex:f,metrics:v,rect:E}),d+=M*y+c):(x.push({glyph:m,imageName:S,x:d,y:p+I,vertical:C,scale:y,localGlyph:v.localGlyph,fontStack:s.fontStack,sectionIndex:f,metrics:v,rect:E}),d+=v.advance*y+c)}0!==x.length&&(f=Math.max(d-c,f),g?Jh(x,m,b,T,o*r/2):Jh(x,m,b,0,o/2)),d=0;const E=o*r+b;v.lineOffset=Math.max(b,s),p+=E,++y}var _;const v=p,{horizontalAlign:x,verticalAlign:b}=Yh(a);(function(e,t,n,i,r,o){const a=(t-n)*r,s=-o*i;for(const t of e)for(const e of t.positionedGlyphs)e.x+=a,e.y+=s})(e.positionedLines,m,x,b,f,v),e.top+=-b*v,e.bottom=e.top+v,e.left+=-x*f,e.right=e.left+f,e.hasBaseline=g}(b,t,n,i,g,a,s,l,h,c,d,f),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(x)&&b}const Zh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Wh={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function qh(e,t,n,i,r,o){if(t.imageName){const e=i[t.imageName];return e?e.displaySize[0]*t.scale*24/o+r:0}{const i=n[t.fontStack],o=i&&i.glyphs[e];return o?o.metrics.advance*t.scale+r:0}}function $h(e,t,n,i){const r=Math.pow(e-t,2);return i?e<t?r/2:2*r:r+Math.abs(n)*n}function Hh(e,t,n){let i=0;return 10===e&&(i-=1e4),n&&(i+=150),40!==e&&65288!==e||(i+=50),41!==t&&65289!==t||(i+=50),i}function Xh(e,t,n,i,r,o){let a=null,s=$h(t,n,r,o);for(const e of i){const i=$h(t-e.x,n,r,o)+e.badness;i<=s&&(a=e,s=i)}return{index:e,x:t,priorBreak:a,badness:s}}function Yh(e){let t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Jh(e,t,n,i,r){if(!(t||n||i||r))return;const o=e.length-1,a=e[o],s=(a.x+a.metrics.advance*a.scale)*t;for(let t=0;t<=o;t++)e[t].x-=s,e[t].y+=n+i+r}function Qh(e,t,n){const{horizontalAlign:i,verticalAlign:r}=Yh(n),o=t[0]-e.displaySize[0]*i,a=t[1]-e.displaySize[1]*r;return{image:e,top:a,bottom:a+e.displaySize[1],left:o,right:o+e.displaySize[0]}}function Kh(e,t,n,i,r,o){const a=e.image;let s;if(a.content){const e=a.content,t=a.pixelRatio||1;s=[e[0]/t,e[1]/t,a.displaySize[0]-e[2]/t,a.displaySize[1]-e[3]/t]}const l=t.left*o,c=t.right*o;let u,h,d,p;"width"===n||"both"===n?(p=r[0]+l-i[3],h=r[0]+c+i[1]):(p=r[0]+(l+c-a.displaySize[0])/2,h=p+a.displaySize[0]);const f=t.top*o,m=t.bottom*o;return"height"===n||"both"===n?(u=r[1]+f-i[0],d=r[1]+m+i[2]):(u=r[1]+(f+m-a.displaySize[1])/2,d=u+a.displaySize[1]),{image:a,top:u,right:h,bottom:d,left:p,collisionPadding:s}}class ed extends m{constructor(e,t,n,i,r){super(e,t),this.angle=i,this.z=n,void 0!==r&&(this.segment=r)}clone(){return new ed(this.x,this.y,this.z,this.angle,this.segment)}}function td(e,t,n,i,r){if(void 0===t.segment)return!0;let o=t,a=t.segment+1,s=0;for(;s>-n/2;){if(a--,a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;const l=[];let c=0;for(;s<n/2;){const t=e[a],n=e[a+1];if(!n)return!1;let o=e[a-1].angleTo(t)-t.angleTo(n);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:o}),c+=o;s-l[0].distance>i;)c-=l.shift().angleDelta;if(c>r)return!1;a++,s+=t.dist(n)}return!0}function nd(e){let t=0;for(let n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function id(e,t,n){return e?.6*t*n:0}function rd(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function od(e,t,n,i,r,o){const a=id(n,r,o),s=rd(n,i)*o;let l=0;const c=nd(e)/2;for(let n=0;n<e.length-1;n++){const i=e[n],r=e[n+1],o=i.dist(r);if(l+o>c){const u=(c-l)/o,h=Cn(i.x,r.x,u),d=Cn(i.y,r.y,u),p=new ed(h,d,0,r.angleTo(i),n);return!a||td(e,p,s,a,t)?p:void 0}l+=o}}function ad(e,t,n,i,r,o,a,s,l){const c=id(i,o,a),u=rd(i,r),h=u*a,d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-h<t/4&&(t=h+t/4),function e(t,n,i,r,o,a,s,l,c){const u=a/2,h=nd(t);let d=0,p=n-i,f=[];for(let e=0;e<t.length-1;e++){const n=t[e],s=t[e+1],l=n.dist(s),m=s.angleTo(n);for(;p+i<d+l;){p+=i;const g=(p-d)/l,y=Cn(n.x,s.x,g),_=Cn(n.y,s.y,g);if(y>=0&&y<c&&_>=0&&_<c&&p-u>=0&&p+u<=h){const n=new ed(y,_,0,m,e);n._round(),r&&!td(t,n,a,r,o)||f.push(n)}}d+=l}return l||f.length||s||(f=e(t,d/2,i,r,o,a,s,!0,c)),f}(e,d?t/2*s%t:(u/2+2*o)*a*s%t,t,c,n,h,d,!1,l)}function sd(e,t,n,i,r){const o=[];for(let a=0;a<e.length;a++){const s=e[a];let l;for(let e=0;e<s.length-1;e++){let a=s[e],c=s[e+1];a.x<t&&c.x<t||(a.x<t?a=new m(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x<t&&(c=new m(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y<n&&c.y<n||(a.y<n?a=new m(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round():c.y<n&&(c=new m(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round()),a.x>=i&&c.x>=i||(a.x>=i?a=new m(i,a.y+(i-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x>=i&&(c=new m(i,a.y+(i-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y>=r&&c.y>=r||(a.y>=r?a=new m(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round():c.y>=r&&(c=new m(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round()),l&&a.equals(l[l.length-1])||(l=[a],o.push(l)),l.push(c)))))}}return o}zr(ed,"Anchor");const ld=1e20;function cd(e,t,n,i,r,o,a,s,l){for(let c=t;c<t+i;c++)ud(e,n*o+c,o,r,a,s,l);for(let c=n;c<n+r;c++)ud(e,c*o+t,1,i,a,s,l)}function ud(e,t,n,i,r,o,a){o[0]=0,a[0]=-ld,a[1]=ld,r[0]=e[t];for(let s=1,l=0,c=0;s<i;s++){r[s]=e[t+s*n];const i=s*s;do{const e=o[l];c=(r[s]-r[e]+i-e*e)/(s-e)/2}while(c<=a[l]&&--l>-1);l++,o[l]=s,a[l]=c,a[l+1]=ld}for(let s=0,l=0;s<i;s++){for(;a[l+1]<s;)l++;const i=o[l],c=s-i;e[t+s*n]=r[i]+c*c}}const hd={none:0,ideographs:1,all:2};class dd{constructor(e,t,n){this.requestManager=e,this.localGlyphMode=t,this.localFontFamily=n,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,t){const n=[];for(const t in e)for(const i of e[t])n.push({stack:t,id:i});C(n,({stack:e,id:t},n)=>{let i=this.entries[e];i||(i=this.entries[e]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let r=i.glyphs[t];if(void 0!==r)return void n(null,{stack:e,id:t,glyph:r});if(r=this._tinySDF(i,e,t),r)return i.glyphs[t]=r,void n(null,{stack:e,id:t,glyph:r});const o=Math.floor(t/256);if(256*o>65535)return void n(new Error("glyphs > 65535 not supported"));if(i.ranges[o])return void n(null,{stack:e,id:t,glyph:r});let a=i.requests[o];a||(a=i.requests[o]=[],dd.loadGlyphRange(e,o,this.url,this.requestManager,(e,t)=>{if(t){i.ascender=t.ascender,i.descender=t.descender;for(const e in t.glyphs)this._doesCharSupportLocalGlyph(+e)||(i.glyphs[+e]=t.glyphs[+e]);i.ranges[o]=!0}for(const n of a)n(e,t);delete i.requests[o]})),a.push((i,r)=>{i?n(i):r&&n(null,{stack:e,id:t,glyph:r.glyphs[t]||null})})},(e,n)=>{if(e)t(e);else if(n){const e={};for(const{stack:t,id:i,glyph:r}of n)void 0===e[t]&&(e[t]={}),void 0===e[t].glyphs&&(e[t].glyphs={}),e[t].glyphs[i]=r&&{id:r.id,bitmap:r.bitmap.clone(),metrics:r.metrics},e[t].ascender=this.entries[t].ascender,e[t].descender=this.entries[t].descender;t(null,e)}})}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==hd.none&&(this.localGlyphMode===hd.all?!!this.localFontFamily:!!this.localFontFamily&&(Kr(e)||no(e)||Zr(e)||Wr(e)||Gr(e)))}_tinySDF(e,t,n){const i=this.localFontFamily;if(!i||!this._doesCharSupportLocalGlyph(n))return;let r=e.tinySDF;if(!r){let n="400";/bold/i.test(t)?n="900":/medium/i.test(t)?n="500":/light/i.test(t)&&(n="200"),r=e.tinySDF=new dd.TinySDF({fontFamily:i,fontWeight:n,fontSize:48,buffer:6,radius:16}),r.fontWeight=n}if(this.localGlyphs[r.fontWeight][n])return this.localGlyphs[r.fontWeight][n];const o=String.fromCharCode(n),{data:a,width:s,height:l,glyphWidth:c,glyphHeight:u,glyphLeft:h,glyphTop:d,glyphAdvance:p}=r.draw(o);return this.localGlyphs[r.fontWeight][n]={id:n,bitmap:new oc({width:s,height:l},a),metrics:{width:c/2,height:u/2,left:h/2,top:d/2-27,advance:p/2,localGlyph:!0}}}}function pd(e,t,n,i){const r=[],o=e.image,a=o.pixelRatio,s=o.paddedRect.w-2,l=o.paddedRect.h-2,c=e.right-e.left,u=e.bottom-e.top,h=o.stretchX||[[0,s]],d=o.stretchY||[[0,l]],p=(e,t)=>e+t[1]-t[0],f=h.reduce(p,0),g=d.reduce(p,0),y=s-f,_=l-g;let v=0,x=f,b=0,w=g,T=0,E=y,S=0,M=_;if(o.content&&i){const e=o.content;v=fd(h,0,e[0]),b=fd(d,0,e[1]),x=fd(h,e[0],e[2]),w=fd(d,e[1],e[3]),T=e[0]-v,S=e[1]-b,E=e[2]-e[0]-x,M=e[3]-e[1]-w}const I=(i,r,s,l)=>{const h=gd(i.stretch-v,x,c,e.left),d=yd(i.fixed-T,E,i.stretch,f),p=gd(r.stretch-b,w,u,e.top),y=yd(r.fixed-S,M,r.stretch,g),_=gd(s.stretch-v,x,c,e.left),I=yd(s.fixed-T,E,s.stretch,f),C=gd(l.stretch-b,w,u,e.top),k=yd(l.fixed-S,M,l.stretch,g),A=new m(h,p),P=new m(_,p),z=new m(_,C),D=new m(h,C),L=new m(d/a,y/a),O=new m(I/a,k/a),R=t*Math.PI/180;if(R){const e=Math.sin(R),t=Math.cos(R),n=[t,-e,e,t];A._matMult(n),P._matMult(n),D._matMult(n),z._matMult(n)}const B=i.stretch+i.fixed,j=r.stretch+r.fixed;return{tl:A,tr:P,bl:D,br:z,tex:{x:o.paddedRect.x+1+B,y:o.paddedRect.y+1+j,w:s.stretch+s.fixed-B,h:l.stretch+l.fixed-j},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:L,pixelOffsetBR:O,minFontScaleX:E/a/c,minFontScaleY:M/a/u,isSDF:n}};if(i&&(o.stretchX||o.stretchY)){const e=md(h,y,f),t=md(d,_,g);for(let n=0;n<e.length-1;n++){const i=e[n],o=e[n+1];for(let e=0;e<t.length-1;e++)r.push(I(i,t[e],o,t[e+1]))}}else r.push(I({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return r}function fd(e,t,n){let i=0;for(const r of e)i+=Math.max(t,Math.min(n,r[1]))-Math.max(t,Math.min(n,r[0]));return i}function md(e,t,n){const i=[{fixed:-1,stretch:0}];for(const[t,n]of e){const e=i[i.length-1];i.push({fixed:t-e.stretch,stretch:e.stretch}),i.push({fixed:t-e.stretch,stretch:e.stretch+(n-t)})}return i.push({fixed:t+1,stretch:n}),i}function gd(e,t,n,i){return e/t*n+i}function yd(e,t,n,i){return e-t*n/i}function _d(e,t,n,i){const r=t+e.positionedLines[i].lineOffset;return 0===i?n+r/2:n+(r+(t+e.positionedLines[i-1].lineOffset))/2}dd.loadGlyphRange=function(e,t,n,i,r){const o=256*t,a=o+255,s=i.transformRequest(i.normalizeGlyphsURL(n).replace("{fontstack}",e).replace("{range}",`${o}-${a}`),ae.Glyphs);ue(s,(e,t)=>{if(e)r(e);else if(t){const e={},n=function(e){return new dh(e).readFields(Lh,{})}(t);for(const t of n.glyphs)e[t.id]=t;r(null,{glyphs:e,ascender:n.ascender,descender:n.descender})}})},dd.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:n=8,cutoff:i=.25,fontFamily:r="sans-serif",fontWeight:o="normal",fontStyle:a="normal"}={}){this.buffer=t,this.cutoff=i,this.radius=n;const s=this.size=e+4*t,l=this._createCanvas(s),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font=`${a} ${o} ${e}px ${r}`,c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:n,actualBoundingBoxDescent:i,actualBoundingBoxLeft:r,actualBoundingBoxRight:o}=this.ctx.measureText(e),a=Math.ceil(n),s=Math.min(this.size-this.buffer,Math.ceil(o-r)),l=Math.min(this.size-this.buffer,a+Math.ceil(i)),c=s+2*this.buffer,u=l+2*this.buffer,h=Math.max(c*u,0),d=new Uint8ClampedArray(h),p={data:d,width:c,height:u,glyphWidth:s,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:t};if(0===s||0===l)return p;const{ctx:f,buffer:m,gridInner:g,gridOuter:y}=this;f.clearRect(m,m,s,l),f.fillText(e,m,m+a);const _=f.getImageData(m,m,s,l);y.fill(ld,0,h),g.fill(0,0,h);for(let e=0;e<l;e++)for(let t=0;t<s;t++){const n=_.data[4*(e*s+t)+3]/255;if(0===n)continue;const i=(e+m)*c+t+m;if(1===n)y[i]=0,g[i]=ld;else{const e=.5-n;y[i]=e>0?e*e:0,g[i]=e<0?e*e:0}}cd(y,0,0,c,u,c,this.f,this.v,this.z),cd(g,m,m,s,l,c,this.f,this.v,this.z);for(let e=0;e<h;e++){const t=Math.sqrt(y[e])-Math.sqrt(g[e]);d[e]=Math.round(255-255*(t/this.radius+this.cutoff))}return p}};class vd{constructor(e=[],t=xd){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const r=e-1>>1,o=t[r];if(n(i,o)>=0)break;t[e]=o,e=r}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,r=t[e];for(;e<i;){let i=1+(e<<1),o=t[i];const a=i+1;if(a<this.length&&n(t[a],o)<0&&(i=a,o=t[a]),n(o,r)>=0)break;t[e]=o,e=i}t[e]=r}}function xd(e,t){return e<t?-1:e>t?1:0}function bd(e,t=1,n=!1){let i=1/0,r=1/0,o=-1/0,a=-1/0;const s=e[0];for(let e=0;e<s.length;e++){const t=s[e];(!e||t.x<i)&&(i=t.x),(!e||t.y<r)&&(r=t.y),(!e||t.x>o)&&(o=t.x),(!e||t.y>a)&&(a=t.y)}const l=Math.min(o-i,a-r);let c=l/2;const u=new vd([],wd);if(0===l)return new m(i,r);for(let t=i;t<o;t+=l)for(let n=r;n<a;n+=l)u.push(new Td(t+c,n+c,c,e));let h=function(e){let t=0,n=0,i=0;const r=e[0];for(let e=0,o=r.length,a=o-1;e<o;a=e++){const o=r[e],s=r[a],l=o.x*s.y-s.x*o.y;n+=(o.x+s.x)*l,i+=(o.y+s.y)*l,t+=3*l}return new Td(n/t,i/t,0,e)}(e),d=u.length;for(;u.length;){const i=u.pop();(i.d>h.d||!h.d)&&(h=i,n&&console.log("found best %d after %d probes",Math.round(1e4*i.d)/1e4,d)),i.max-h.d<=t||(c=i.h/2,u.push(new Td(i.p.x-c,i.p.y-c,c,e)),u.push(new Td(i.p.x+c,i.p.y-c,c,e)),u.push(new Td(i.p.x-c,i.p.y+c,c,e)),u.push(new Td(i.p.x+c,i.p.y+c,c,e)),d+=4)}return n&&(console.log("num probes: "+d),console.log("best distance: "+h.d)),h.p}function wd(e,t){return t.max-e.max}function Td(e,t,n,i){this.p=new m(e,t),this.h=n,this.d=function(e,t){let n=!1,i=1/0;for(let r=0;r<t.length;r++){const o=t[r];for(let t=0,r=o.length,a=r-1;t<r;a=t++){const r=o[t],s=o[a];r.y>e.y!=s.y>e.y&&e.x<(s.x-r.x)*(e.y-r.y)/(s.y-r.y)+r.x&&(n=!n),i=Math.min(i,$s(e,r,s))}}return(n?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}const Ed=Number.POSITIVE_INFINITY,Sd=Math.sqrt(2);function Md(e,[t,n]){let i=0,r=0;if(n===Ed){t<0&&(t=0);const n=t/Sd;switch(e){case"top-right":case"top-left":r=n-7;break;case"bottom-right":case"bottom-left":r=7-n;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":i=-n;break;case"top-left":case"bottom-left":i=n;break;case"left":i=t;break;case"right":i=-t}}else{switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":r=n-7;break;case"bottom-right":case"bottom-left":case"bottom":r=7-n}switch(e){case"top-right":case"bottom-right":case"right":i=-t;break;case"top-left":case"bottom-left":case"left":i=t}}return[i,r]}function Id(e,t,n,i,r,o,a,s,l,c){e.createArrays(),e.tilePixelRatio=ps/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;const u=e.layers[0].layout,h=e.layers[0]._unevaluatedLayout._values,d={};if("composite"===e.textSizeData.kind){const{minZoom:t,maxZoom:n}=e.textSizeData;d.compositeTextSizes=[h["text-size"].possiblyEvaluate(new Po(t),s),h["text-size"].possiblyEvaluate(new Po(n),s)]}if("composite"===e.iconSizeData.kind){const{minZoom:t,maxZoom:n}=e.iconSizeData;d.compositeIconSizes=[h["icon-size"].possiblyEvaluate(new Po(t),s),h["icon-size"].possiblyEvaluate(new Po(n),s)]}d.layoutTextSize=h["text-size"].possiblyEvaluate(new Po(l+1),s),d.layoutIconSize=h["icon-size"].possiblyEvaluate(new Po(l+1),s),d.textMaxSize=h["text-size"].possiblyEvaluate(new Po(18),s);const p="map"===u.get("text-rotation-alignment")&&"point"!==u.get("symbol-placement"),f=u.get("text-size");for(const o of e.features){const l=u.get("text-font").evaluate(o,{},s).join(","),h=f.evaluate(o,{},s),m=d.layoutTextSize.evaluate(o,{},s),g=(d.layoutIconSize.evaluate(o,{},s),{horizontal:{},vertical:void 0}),y=o.text;let _,v=[0,0];if(y){const i=y.toString(),a=24*u.get("text-letter-spacing").evaluate(o,{},s),c=24*u.get("text-line-height").evaluate(o,{},s),d=ho(i)?a:0,f=u.get("text-anchor").evaluate(o,{},s),_=u.get("text-variable-anchor");if(!_){const e=u.get("text-radial-offset").evaluate(o,{},s);v=e?Md(f,[24*e,Ed]):u.get("text-offset").evaluate(o,{},s).map(e=>24*e)}let x=p?"center":u.get("text-justify").evaluate(o,{},s);const b="point"===u.get("symbol-placement"),w=b?24*u.get("text-max-width").evaluate(o,{},s):1/0,T=o=>{e.allowVerticalPlacement&&uo(i)&&(g.vertical=Gh(y,t,n,r,l,w,c,f,o,d,v,Nh.vertical,!0,m,h))};if(!p&&_){const e="auto"===x?_.map(e=>Cd(e)):[x];let i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(!g.horizontal[a])if(i)g.horizontal[a]=g.horizontal[0];else{const e=Gh(y,t,n,r,l,w,c,"center",a,d,v,Nh.horizontal,!1,m,h);e&&(g.horizontal[a]=e,i=1===e.positionedLines.length)}}T("left")}else{if("auto"===x&&(x=Cd(f)),b||u.get("text-writing-mode").indexOf("horizontal")>=0||!uo(i)){const e=Gh(y,t,n,r,l,w,c,f,x,d,v,Nh.horizontal,!1,m,h);e&&(g.horizontal[x]=e)}T(b?"left":x)}}let x=!1;if(o.icon&&o.icon.name){const t=i[o.icon.name];t&&(_=Qh(r[o.icon.name],u.get("icon-offset").evaluate(o,{},s),u.get("icon-anchor").evaluate(o,{},s)),x=t.sdf,void 0===e.sdfIcons?e.sdfIcons=t.sdf:e.sdfIcons!==t.sdf&&V("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(t.pixelRatio!==e.pixelRatio||0!==u.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}const b=zd(g.horizontal)||g.vertical;e.iconsInText||(e.iconsInText=!!b&&b.iconsInText),(b||_)&&kd(e,o,g,_,i,d,m,0,v,x,a,s,c)}o&&e.generateCollisionDebugBuffers(l,e.collisionBoxArray)}function Cd(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function kd(e,t,n,i,r,o,a,s,l,c,u,h,d){let p=o.textMaxSize.evaluate(t,{},h);void 0===p&&(p=a);const f=e.layers[0].layout,m=f.get("icon-offset").evaluate(t,{},h),g=zd(n.horizontal)||n.vertical,y="globe"===d.name,_=a/24,x=e.tilePixelRatio*p/24,b=(k=e.overscaling,e.zoom>18&&k>2&&(k>>=1),Math.max(ps/(512*k),1)*f.get("symbol-spacing")),w=f.get("text-padding")*e.tilePixelRatio,T=f.get("icon-padding")*e.tilePixelRatio,E=v(f.get("text-max-angle")),S="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),M="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),I=f.get("symbol-placement"),C=b/2;var k;const A=f.get("icon-text-fit");let P;i&&"none"!==A&&(e.allowVerticalPlacement&&n.vertical&&(P=Kh(i,n.vertical,A,f.get("icon-text-fit-padding"),m,_)),g&&(i=Kh(i,g,A,f.get("icon-text-fit-padding"),m,_)));const z=(a,s,p)=>{if(s.x<0||s.x>=ps||s.y<0||s.y>=ps)return;let f=null;if(y){const{x:e,y:t,z:n}=d.projectTilePoint(s.x,s.y,p);f={anchor:new ed(e,t,n,0,void 0),up:d.upVector(p,s.x,s.y)}}!function(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x,b,w,T,E){const S=e.addToLineVertexArray(t,i);let M,I,C,k,A,P,z,D=0,L=0,O=0,R=0,B=-1,j=-1;const F={};let N=La.exports("");const U=n?n.anchor:t;let G=0,Z=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?[G,Z]=l.layout.get("text-offset").evaluate(x,{},E).map(e=>24*e):(G=24*l.layout.get("text-radial-offset").evaluate(x,{},E),Z=Ed),e.allowVerticalPlacement&&r.vertical){const e=r.vertical;if(f)P=Ld(e),s&&(z=Ld(s));else{const n=l.layout.get("text-rotate").evaluate(x,{},E)+90;C=Dd(c,U,t,u,h,d,e,p,n,m),s&&(k=Dd(c,U,t,u,h,d,s,y,n))}}if(o){const i=l.layout.get("icon-rotate").evaluate(x,{},E),r="none"!==l.layout.get("icon-text-fit"),a=pd(o,i,w,r),p=s?pd(s,i,w,r):void 0;I=Dd(c,U,t,u,h,d,o,y,i),D=4*a.length;const f=e.iconSizeData;let m=null;"source"===f.kind?(m=[ih*l.layout.get("icon-size").evaluate(x,{},E)],m[0]>Ad&&V(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===f.kind&&(m=[ih*b.compositeIconSizes[0].evaluate(x,{},E),ih*b.compositeIconSizes[1].evaluate(x,{},E)],(m[0]>Ad||m[1]>Ad)&&V(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')),e.addSymbols(e.icon,a,m,v,_,x,!1,n,t,S.lineStartIndex,S.lineLength,-1,T,E),B=e.icon.placedSymbolArray.length-1,p&&(L=4*p.length,e.addSymbols(e.icon,p,m,v,_,x,Nh.vertical,n,t,S.lineStartIndex,S.lineLength,-1,T,E),j=e.icon.placedSymbolArray.length-1)}for(const i in r.horizontal){const o=r.horizontal[i];M||(N=La.exports(o.text),f?A=Ld(o):M=Dd(c,U,t,u,h,d,o,p,l.layout.get("text-rotate").evaluate(x,{},E),m));const s=1===o.positionedLines.length;if(O+=Pd(e,n,t,o,a,l,f,x,m,S,r.vertical?Nh.horizontal:Nh.horizontalOnly,s?Object.keys(r.horizontal):[i],F,B,b,T,E),s)break}r.vertical&&(R+=Pd(e,n,t,r.vertical,a,l,f,x,m,S,Nh.vertical,["vertical"],F,j,b,T,E));let W=-1;const q=(e,t)=>e?Math.max(e,t):t;W=q(A,W),W=q(P,W),W=q(z,W);const $=W>-1?1:0;e.glyphOffsetArray.length>=qp.MAX_GLYPHS&&V("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,x.sortKey),e.symbolInstances.emplaceBack(U.x,U.y,U.z,t.x,t.y,F.right>=0?F.right:-1,F.center>=0?F.center:-1,F.left>=0?F.left:-1,F.vertical>=0?F.vertical:-1,B,j,N,void 0!==M?M:e.collisionBoxArray.length,void 0!==M?M+1:e.collisionBoxArray.length,void 0!==C?C:e.collisionBoxArray.length,void 0!==C?C+1:e.collisionBoxArray.length,void 0!==I?I:e.collisionBoxArray.length,void 0!==I?I+1:e.collisionBoxArray.length,k||e.collisionBoxArray.length,k?k+1:e.collisionBoxArray.length,u,O,R,D,L,$,0,G,Z,W)}(e,s,f,a,n,i,r,P,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,w,S,l,0,T,M,m,t,o,c,u,h)};if("line"===I)for(const r of sd(t.geometry,0,0,ps,ps)){const t=ad(r,b,E,n.vertical||g,i,24,x,e.overscaling,ps);for(const n of t){const t=g;t&&Od(e,t.text,C,n)||z(r,n,h)}}else if("line-center"===I){for(const e of t.geometry)if(e.length>1){const t=od(e,E,n.vertical||g,i,24,x);t&&z(e,t,h)}}else if("Polygon"===t.type)for(const e of Vc(t.geometry,0)){const t=bd(e,16);z(e[0],new ed(t.x,t.y,0,0,void 0),h)}else if("LineString"===t.type)for(const e of t.geometry)z(e,new ed(e[0].x,e[0].y,0,0,void 0),h);else if("Point"===t.type)for(const e of t.geometry)for(const t of e)z([t],new ed(t.x,t.y,0,0,void 0),h)}const Ad=32640;function Pd(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,g,y){const _=function(e,t,n,i,r,o,a,s){const l=[];if(0===t.positionedLines.length)return l;const c=i.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,u=function(e){const t=e[0],n=e[1],i=t*n;return i>0?[t,-n]:i<0?[-t,n]:0===t?[n,t]:[n,-t]}(n);let h=Math.abs(t.top-t.bottom);for(const e of t.positionedLines)h-=e.lineOffset;const d=t.positionedLines.length,p=h/d;let f=t.top-n[1];for(let e=0;e<d;++e){const i=t.positionedLines[e];f=_d(t,p,f,e);for(const e of i.positionedGlyphs){if(!e.rect)continue;const i=e.rect||{};let o=4,h=!0,d=1,p=0;if(e.imageName){const t=a[e.imageName];if(!t)continue;if(t.sdf){V("SDF images are not supported in formatted text and will be ignored.");continue}h=!1,d=t.pixelRatio,o=1/d}const g=(r||s)&&e.vertical,y=e.metrics.advance*e.scale/2,_=e.metrics,v=e.rect;if(null===v)continue;s&&t.verticalizable&&(p=e.imageName?y-e.metrics.width*e.scale/2:0);const x=r?[e.x+y,e.y]:[0,0];let b=[0,0],w=[0,0],T=!1;r||(g?(w=[e.x+y+u[0],e.y+u[1]-p],T=!0):b=[e.x+y+n[0],e.y+n[1]-p]);const E=v.w*e.scale/(d*(e.localGlyph?2:1)),S=v.h*e.scale/(d*(e.localGlyph?2:1));let M,I,C,k;if(g){const t=e.y-f,n=new m(-y,y-t),i=-Math.PI/2,r=new m(...w);M=new m(-y+b[0],b[1]),M._rotateAround(i,n)._add(r),M.x+=-t+y,M.y-=(_.left-o)*e.scale;const a=e.imageName?_.advance*e.scale:24*e.scale,s=String.fromCharCode(e.glyph);uh(s)?M.x+=(1-o)*e.scale:hh(s)?M.x+=a-_.height*e.scale+(-o-1)*e.scale:M.x+=e.imageName||_.width+2*o===v.w&&_.height+2*o===v.h?(a-S)/2:(a-(_.height+2*o)*e.scale)/2,I=new m(M.x,M.y-E),C=new m(M.x+S,M.y),k=new m(M.x+S,M.y-E)}else{const t=(_.left-o)*e.scale-y+b[0],n=(-_.top-o)*e.scale+b[1],i=t+E,r=n+S;M=new m(t,n),I=new m(i,n),C=new m(t,r),k=new m(i,r)}if(c){let e;e=r?new m(0,0):T?new m(u[0],u[1]):new m(n[0],n[1]),M._rotateAround(c,e),I._rotateAround(c,e),C._rotateAround(c,e),k._rotateAround(c,e)}const A=new m(0,0),P=new m(0,0);l.push({tl:M,tr:I,bl:C,br:k,tex:i,writingMode:t.writingMode,glyphOffset:x,sectionIndex:e.sectionIndex,isSDF:h,pixelOffsetTL:A,pixelOffsetBR:P,minFontScaleX:0,minFontScaleY:0})}}return l}(0,i,l,o,a,s,r,e.allowVerticalPlacement),v=e.textSizeData;let x=null;"source"===v.kind?(x=[ih*o.layout.get("text-size").evaluate(s,{},y)],x[0]>Ad&&V(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===v.kind&&(x=[ih*f.compositeTextSizes[0].evaluate(s,{},y),ih*f.compositeTextSizes[1].evaluate(s,{},y)],(x[0]>Ad||x[1]>Ad)&&V(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')),e.addSymbols(e.text,_,x,l,a,s,u,t,n,c.lineStartIndex,c.lineLength,p,g,y);for(const t of h)d[t]=e.text.placedSymbolArray.length-1;return 4*_.length}function zd(e){for(const t in e)return e[t];return null}function Dd(e,t,n,i,r,o,a,s,l,c){let u=a.top,h=a.bottom,d=a.left,p=a.right;const f=a.collisionPadding;if(f&&(d-=f[0],u-=f[1],p+=f[2],h+=f[3]),l){const e=new m(d,u),t=new m(p,u),n=new m(d,h),i=new m(p,h),r=v(l);let o=new m(0,0);c&&(o=new m(c[0],c[1])),e._rotateAround(r,o),t._rotateAround(r,o),n._rotateAround(r,o),i._rotateAround(r,o),d=Math.min(e.x,t.x,n.x,i.x),p=Math.max(e.x,t.x,n.x,i.x),u=Math.min(e.y,t.y,n.y,i.y),h=Math.max(e.y,t.y,n.y,i.y)}return e.emplaceBack(t.x,t.y,t.z,n.x,n.y,d,u,p,h,s,i,r,o),e.length-1}function Ld(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);const t=e.bottom-e.top;return t>0?Math.max(10,t):null}function Od(e,t,n,i){const r=e.compareText;if(t in r){const e=r[t];for(let t=e.length-1;t>=0;t--)if(i.dist(e[t])<n)return!0}else r[t]=[];return r[t].push(i),!1}const Rd=Ho([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Bd}=Rd,jd=Ho([{name:"a_pos_3",components:3,type:"Int16"}]);var Fd=Ho([{name:"a_pos",type:"Int16",components:2}]);const Nd=ps/Math.PI/2,Ud=2*bs(1,0)*Nd*Math.PI,Vd=[64,32,16],Gd=-Nd,Zd=Nd,Wd=[new Xl([Gd,Gd,Gd],[Zd,Zd,Zd]),new Xl([Gd,Gd,Gd],[0,0,Zd]),new Xl([0,Gd,Gd],[Zd,0,Zd]),new Xl([Gd,0,Gd],[0,Zd,Zd]),new Xl([0,0,Gd],[Zd,Zd,Zd])];function qd(e,t,n,i=!0){const r=Il([],e._camera.position,e.worldSize),o=[t,n,1,1];Nl(o,o,e.pixelMatrixInverse),jl(o,o,1/o[3]);const a=kl([],Ol([],o,r)),s=e.globeMatrix,l=[s[12],s[13],s[14]],c=Ol([],l,r),u=xl(c),h=kl([],c),d=e.worldSize/(2*Math.PI),p=Al(h,a),f=Math.asin(d/u);if(f<Math.acos(p)){if(!i)return null;const e=[],t=[];Il(e,a,u/p),kl(t,Ol(t,e,c)),kl(a,wl(a,c,Il(a,t,Math.tan(f)*u)))}const m=[];new ql(r,a).closestPointOnSphere(l,d,m);const g=kl([],Y(s,0)),y=kl([],Y(s,1)),_=kl([],Y(s,2)),v=Al(g,m),b=Al(y,m),w=Al(_,m),T=x(Math.asin(-b/d));let E=x(Math.atan2(v,w));E=e.center.lng+function(e,t){const n=(t-e+180)%360-180;return n<-180?n+360:n}(e.center.lng,E);const M=vs(E),I=S(xs(T),0,1);return new Is(M,I)}class $d{constructor(e,t,n){this.a=Ol([],e,n),this.b=Ol([],t,n),this.center=n;const i=kl([],this.a),r=kl([],this.b);this.angle=Math.acos(Al(i,r))}}function Hd(e,t){if(0===e.angle)return null;let n;return n=0===e.a[t]?1/e.angle*.5*Math.PI:1/e.angle*Math.atan(e.b[t]/e.a[t]/Math.sin(e.angle)-1/Math.tan(e.angle)),n<0||n>1?null:function(e,t,n,i){const r=Math.sin(n);return e*(Math.sin((1-i)*n)/r)+t*(Math.sin(i*n)/r)}(e.a[t],e.b[t],e.angle,S(n,0,1))+e.center[t]}function Xd(e){if(e.z<=1)return Wd[e.z+2*e.y+e.x];const t=ep(Kd(e));return Xl.fromPoints(t)}function Yd(e,t,n){return Il(e,e,1-n),Cl(e,e,t,n)}function Jd(e,t){const n=cp(t.zoom);if(0===n)return Xd(e);const i=Kd(e),r=ep(i),o=vs(i.getWest())*t.worldSize,a=vs(i.getEast())*t.worldSize,s=xs(i.getNorth())*t.worldSize,l=xs(i.getSouth())*t.worldSize,c=[o,s,0],u=[a,s,0],h=[o,l,0],d=[a,l,0],p=cl([],t.globeMatrix);return zl(c,c,p),zl(u,u,p),zl(h,h,p),zl(d,d,p),r[0]=Yd(r[0],h,n),r[1]=Yd(r[1],d,n),r[2]=Yd(r[2],u,n),r[3]=Yd(r[3],c,n),Xl.fromPoints(r)}function Qd(e,t,n){for(const i of e)zl(i,i,t),Il(i,i,n)}function Kd({x:e,y:t,z:n}){const i=1/(1<<n),r=new gs(ws(e*i),Ts((t+1)*i)),o=new gs(ws((e+1)*i),Ts(t*i));return new fs(r,o)}function ep(e){const t=v(e.getNorth()),n=v(e.getSouth()),i=Math.cos(t),r=Math.cos(n),o=Math.sin(t),a=Math.sin(n),s=e.getWest(),l=e.getEast();return[tp(r,a,s),tp(r,a,l),tp(i,o,l),tp(i,o,s)]}function tp(e,t,n,i=Nd){return n=v(n),[e*Math.sin(n)*i,-t*i,e*Math.cos(n)*i]}function np(e,t,n){return tp(Math.cos(v(e)),Math.sin(v(e)),t,n)}function ip(e,t,n,i){const r=1<<n.z,o=(e/ps+n.x)/r;return np(Ts((t/ps+n.y)/r),ws(o),i)}function rp({min:e,max:t}){return 16383/Math.max(t[0]-e[0],t[1]-e[1],t[2]-e[2])}const op=new Float64Array(16);function ap(e){const t=rp(e),n=ml(op,[t,t,t]);return hl(n,n,((i=[])[0]=-(r=e.min)[0],i[1]=-r[1],i[2]=-r[2],i));var i,r}function sp(e){const t=(i=e.min,(n=op)[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=i[0],n[13]=i[1],n[14]=i[2],n[15]=1,n);var n,i;const r=1/rp(e);return dl(t,t,[r,r,r])}function lp(e,t,n,i,r){const o=function(e){const t=ps/(2*Math.PI);return e/(2*Math.PI)/t}(n),a=[e,t,-n/(2*Math.PI)],s=ll(new Float64Array(16));return hl(s,s,a),dl(s,s,[o,o,o]),pl(s,s,v(-r)),fl(s,s,v(-i)),s}function cp(e){return M(5,6,e)}function up(e,t){const n=np(t.lat,t.lng);return o=(i=Tl([],function(e){const t=np(e._center.lat,e._center.lng);let n=Pl([],bl(0,1,0),t);const i=gl([],-e.angle,t);n=zl(n,n,i),gl(i,-e._pitch,n);const r=kl([],t);return Il(r,r,e.cameraToCenterDistance/e.pixelsPerMeter*Ud),zl(r,r,i),wl([],t,r)}(e),n))[0],a=i[1],s=i[2],l=(r=n)[0],c=r[1],u=r[2],d=(h=Math.sqrt(o*o+a*a+s*s)*Math.sqrt(l*l+c*c+u*u))&&Al(i,r)/h,Math.acos(Math.min(Math.max(d,-1),1));var i,r,o,a,s,l,c,u,h,d}function hp(e,t){return up(e,t)>Math.PI/2*1.01}const dp=v(85),pp=Math.cos(dp),fp=Math.sin(dp);function mp(e,t){const n=e.fovAboveCenter,i=e.elevation?e.elevation.getMinElevationBelowMSL()*t:0,r=(e._camera.position[2]*e.worldSize-i)/Math.cos(e._pitch),o=Math.sin(n)*r/Math.sin(Math.max(Math.PI/2-e._pitch-n,.01)),a=Math.sin(e._pitch)*o+r;return Math.min(1.01*a,r*(1/e._horizonShift))}function gp(e,t){if(!t.isReprojectedInTileSpace)return{scale:1<<e.z,x:e.x,y:e.y,x2:e.x+1,y2:e.y+1,projection:t};const n=Math.pow(2,-e.z),i=e.x*n,r=(e.x+1)*n,o=e.y*n,a=(e.y+1)*n,s=ws(i),l=ws(r),c=Ts(o),u=Ts(a),h=t.project(s,c),d=t.project(l,c),p=t.project(l,u),f=t.project(s,u);let m=Math.min(h.x,d.x,p.x,f.x),g=Math.min(h.y,d.y,p.y,f.y),y=Math.max(h.x,d.x,p.x,f.x),_=Math.max(h.y,d.y,p.y,f.y);const v=n/16;function x(e,n,i,r,o,a){const s=(i+o)/2,l=(r+a)/2,c=t.project(ws(s),Ts(l)),u=Math.max(0,m-c.x,g-c.y,c.x-y,c.y-_);m=Math.min(m,c.x),y=Math.max(y,c.x),g=Math.min(g,c.y),_=Math.max(_,c.y),u>v&&(x(e,c,i,r,s,l),x(c,n,s,l,o,a))}x(h,d,i,o,r,o),x(d,p,r,o,r,a),x(p,f,r,a,i,a),x(f,h,i,a,i,o),m-=v,g-=v,y+=v,_+=v;const b=1/Math.max(y-m,_-g);return{scale:b,x:m*b,y:g*b,x2:y*b,y2:_*b,projection:t}}const yp=ll(new Float32Array(16));class _p{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(e,t){return{x:0,y:0,z:0}}unproject(e,t){return new gs(0,0)}projectTilePoint(e,t,n){return{x:e,y:t,z:0}}locationPoint(e,t,n=!0){return e._coordinatePoint(e.locationCoordinate(t),n)}pixelsPerMeter(e,t){return bs(1,e)*t}pixelSpaceConversion(e,t,n){return 1}farthestPixelDistance(e){return mp(e,e.pixelsPerMeter)}pointCoordinate(e,t,n,i){const r=e.horizonLineFromTop(!1),o=new m(t,Math.max(r,n));return e.rayIntersectionCoordinate(e.pointRayIntersection(o,i))}pointCoordinate3D(e,t,n){const i=new m(t,n);if(e.elevation)return e.elevation.pointCoordinate(i);{const t=this.pointCoordinate(e,i.x,i.y,0);return[t.x,t.y,t.z]}}isPointAboveHorizon(e,t){if(e.elevation)return!this.pointCoordinate3D(e,t.x,t.y);const n=e.horizonLineFromTop();return t.y<n}createInversionMatrix(e,t){return yp}createTileMatrix(e,t,n){let i,r,o;const a=n.canonical,s=ll(new Float64Array(16));if(this.isReprojectedInTileSpace){const l=gp(a,this);i=1,r=l.x+n.wrap*l.scale,o=l.y,dl(s,s,[i/l.scale,i/l.scale,e.pixelsPerMeter/t])}else i=t/e.zoomScale(a.z),r=(a.x+Math.pow(2,a.z)*n.wrap)*i,o=a.y*i;return hl(s,s,[r,o,0]),dl(s,s,[i/ps,i/ps,1]),s}upVector(e,t,n){return[0,0,1]}upVectorScale(e,t,n){return{metersToTile:1}}}class vp extends _p{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];const[t,n]=this.parallels=e.parallels||[29.5,45.5],i=Math.sin(v(t));this.n=(i+Math.sin(v(n)))/2,this.c=1+i*(2*this.n-i),this.r0=Math.sqrt(this.c)/this.n}project(e,t){const{n:n,c:i,r0:r}=this,o=v(e-this.center[0]),a=v(t),s=Math.sqrt(i-2*n*Math.sin(a))/n;return{x:s*Math.sin(o*n),y:s*Math.cos(o*n)-r,z:0}}unproject(e,t){const{n:n,c:i,r0:r}=this,o=r+t;let a=Math.atan2(e,Math.abs(o))*Math.sign(o);o*n<0&&(a-=Math.PI*Math.sign(e)*Math.sign(o));const s=v(this.center[0])*n;a=I(a,-Math.PI-s,Math.PI-s);const l=S(x(a/n)+this.center[0],-180,180),c=Math.asin(S((i-(e*e+o*o)*n*n)/(2*n),-1,1)),u=S(x(c),-85.051129,Ss);return new gs(l,u)}}const xp=1.340264,bp=-.081106,wp=893e-6,Tp=.003796,Ep=Math.sqrt(3)/2;class Sp extends _p{project(e,t){t=t/180*Math.PI,e=e/180*Math.PI;const n=Math.asin(Ep*Math.sin(t)),i=n*n,r=i*i*i;return{x:.5*(e*Math.cos(n)/(Ep*(xp+3*bp*i+r*(7*wp+9*Tp*i)))/Math.PI+.5),y:1-.5*(n*(xp+bp*i+r*(wp+Tp*i))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let n=t=(2*(1-t)-1)*Math.PI,i=n*n,r=i*i*i;for(let e,o,a,s=0;s<12&&(o=n*(xp+bp*i+r*(wp+Tp*i))-t,a=xp+3*bp*i+r*(7*wp+9*Tp*i),e=o/a,n=S(n-e,-Math.PI/3,Math.PI/3),i=n*n,r=i*i*i,!(Math.abs(e)<1e-12));++s);const o=Ep*e*(xp+3*bp*i+r*(7*wp+9*Tp*i))/Math.cos(n),a=Math.asin(Math.sin(n)/Ep),s=S(180*o/Math.PI,-180,180),l=S(180*a/Math.PI,-85.051129,Ss);return new gs(s,l)}}class Mp extends _p{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0}project(e,t){return{x:.5+e/360,y:.5-t/360,z:0}}unproject(e,t){const n=360*(e-.5),i=S(360*(.5-t),-85.051129,Ss);return new gs(n,i)}}const Ip=Math.PI/2;function Cp(e){return Math.tan((Ip+e)/2)}class kp extends _p{constructor(e){super(e),this.center=e.center||[0,30];const[t,n]=this.parallels=e.parallels||[30,30];let i=v(t),r=v(n);this.southernCenter=i+r<0,this.southernCenter&&(i=-i,r=-r);const o=Math.cos(i),a=Cp(i);this.n=i===r?Math.sin(i):Math.log(o/Math.cos(r))/Math.log(Cp(r)/a),this.f=o*Math.pow(Cp(i),this.n)/this.n}project(e,t){t=v(t),this.southernCenter&&(t=-t),e=v(e-this.center[0]);const n=1e-6,{n:i,f:r}=this;r>0?t<-Ip+n&&(t=-Ip+n):t>Ip-n&&(t=Ip-n);const o=r/Math.pow(Cp(t),i);let a=o*Math.sin(i*e),s=r-o*Math.cos(i*e);return a=.5*(a/Math.PI+.5),s=.5*(s/Math.PI+.5),{x:a,y:this.southernCenter?s:1-s,z:0}}unproject(e,t){e=(2*e-.5)*Math.PI,this.southernCenter&&(t=1-t),t=(2*(1-t)-.5)*Math.PI;const{n:n,f:i}=this,r=i-t,o=Math.sign(r),a=Math.sign(n)*Math.sqrt(e*e+r*r);let s=Math.atan2(e,Math.abs(r))*o;r*n<0&&(s-=Math.PI*Math.sign(e)*o);const l=S(x(s/n)+this.center[0],-180,180),c=S(x(2*Math.atan(Math.pow(i/a,1/n))-Ip),-85.051129,Ss);return new gs(l,this.southernCenter?-c:c)}}class Ap extends _p{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(e,t){return{x:vs(e),y:xs(t),z:0}}unproject(e,t){const n=ws(e),i=Ts(t);return new gs(n,i)}}const Pp=v(Ss);class zp extends _p{project(e,t){const n=(t=v(t))*t,i=n*n;return{x:.5*((e=v(e))*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791))/Math.PI+.5),y:1-.5*(t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let n=t=(2*(1-t)-1)*Math.PI,i=25,r=0,o=n*n;do{o=n*n;const e=o*o;r=(n*(1.007226+o*(.015085+e*(.028874*o-.044475-.005916*e)))-t)/(1.007226+o*(.045255+e*(.259866*o-.311325-.005916*11*e))),n=S(n-r,-Pp,Pp)}while(Math.abs(r)>1e-6&&--i>0);o=n*n;const a=S(x(e/(.8707+o*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979))),-180,180),s=x(n);return new gs(a,s)}}const Dp=v(Ss);class Lp extends _p{project(e,t){t=v(t),e=v(e);const n=Math.cos(t),i=2/Math.PI,r=Math.acos(n*Math.cos(e/2)),o=Math.sin(r)/r,a=.5*(e*i+2*n*Math.sin(e/2)/o)||0,s=.5*(t+Math.sin(t)/o)||0;return{x:.5*(a/Math.PI+.5),y:1-.5*(s/Math.PI+1),z:0}}unproject(e,t){let n=e=(2*e-.5)*Math.PI,i=t=(2*(1-t)-1)*Math.PI,r=25;const o=1e-6;let a=0,s=0;do{const r=Math.cos(i),o=Math.sin(i),l=2*o*r,c=o*o,u=r*r,h=Math.cos(n/2),d=Math.sin(n/2),p=2*h*d,f=d*d,m=1-u*h*h,g=m?1/m:0,y=m?Math.acos(r*h)*Math.sqrt(1/m):0,_=.5*(2*y*r*d+2*n/Math.PI)-e,v=.5*(y*o+i)-t,x=.5*g*(u*f+y*r*h*c)+1/Math.PI,b=g*(p*l/4-y*o*d),w=.125*g*(l*d-y*o*u*p),T=.5*g*(c*h+y*f*r)+.5,E=b*w-T*x;a=(v*b-_*T)/E,s=(_*w-v*x)/E,n=S(n-a,-Math.PI,Math.PI),i=S(i-s,-Dp,Dp)}while((Math.abs(a)>o||Math.abs(s)>o)&&--r>0);return new gs(x(n),x(i))}}class Op extends _p{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(v(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(e,t){const{scale:n,cosPhi:i}=this;return{x:v(e)*i*n+.5,y:-Math.sin(v(t))/i*n+.5,z:0}}unproject(e,t){const{scale:n,cosPhi:i}=this,r=-(t-.5)/n,o=S(x((e-.5)/n)/i,-180,180),a=Math.asin(S(r*i,-1,1)),s=S(x(a),-85.051129,Ss);return new gs(o,s)}}class Rp extends Ap{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(e,t,n){const i=ip(e,t,n);return zl(i,i,ap(Xd(n))),{x:i[0],y:i[1],z:i[2]}}locationPoint(e,t){const n=np(t.lat,t.lng),i=kl([],n),r=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(t),e._centerAltitude):e._centerAltitude;Cl(n,n,i,bs(1,0)*ps*r);const o=ll(new Float64Array(16));return ul(o,e.pixelMatrix,e.globeMatrix),zl(n,n,o),new m(n[0],n[1])}pixelsPerMeter(e,t){return bs(1,0)*t}pixelSpaceConversion(e,t,n){const i=bs(1,e)*t,r=Cn(bs(1,45)*t,i,n);return this.pixelsPerMeter(e,t)/r}createTileMatrix(e,t,n){const i=sp(Xd(n.canonical));return ul(new Float64Array(16),e.globeMatrix,i)}createInversionMatrix(e,t){const{center:n}=e,i=ap(Xd(t));return fl(i,i,v(n.lng)),pl(i,i,v(n.lat)),dl(i,i,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(i)}pointCoordinate(e,t,n,i){return qd(e,t,n,!0)||new Is(0,0)}pointCoordinate3D(e,t,n){const i=this.pointCoordinate(e,t,n,0);return[i.x,i.y,i.z]}isPointAboveHorizon(e,t){return!qd(e,t.x,t.y,!1)}farthestPixelDistance(e){const t=function(e,t){const n=e.cameraToCenterDistance,i=e._centerAltitude*t,r=e._camera,o=e._camera.forward(),a=wl([],Il([],o,-n),[0,0,i]),s=e.worldSize/(2*Math.PI),l=[0,0,-s],c=e.width/e.height,u=Math.tan(e.fovAboveCenter),h=Il([],r.up(),u),d=Il([],r.right(),u*c),p=kl([],wl([],wl([],o,h),d)),f=[];let m;if(new ql(a,p).closestPointOnSphere(l,s,f)){const t=wl([],f,l),n=Ol([],t,a);m=Math.cos(e.fovAboveCenter)*xl(n)}else{const e=Ol([],a,l),t=Ol([],l,a);kl(t,t);const n=xl(e)-s;m=Math.sqrt(n*(n+2*s));const i=Math.acos(m/(s+n))-Math.acos(Al(o,t));m*=Math.cos(i)}return 1.01*m}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),n=cp(e.zoom);if(n>0){const i=mp(e,bs(1,e.center.lat)*e.worldSize),r=e.worldSize/(2*Math.PI),o=Math.max(e.width,e.height)/e.worldSize*Math.PI;return Cn(t,i+r*(1-Math.cos(o)),Math.pow(n,10))}return t}upVector(e,t,n){return ip(t,n,e,1)}upVectorScale(e){return{metersToTile:Ud*rp(Xd(e))}}}function Bp(e){const t=e.parallels,n=!!t&&Math.abs(t[0]+t[1])<.01;switch(e.name){case"mercator":return new Ap(e);case"equirectangular":return new Mp(e);case"naturalEarth":return new zp(e);case"equalEarth":return new Sp(e);case"winkelTripel":return new Lp(e);case"albers":return n?new Op(e):new vp(e);case"lambertConformalConic":return n?new Op(e):new kp(e);case"globe":return new Rp(e)}throw new Error("Invalid projection name: "+e.name)}const jp=du.types,Fp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Np(e,t,n,i,r,o,a,s,l,c,u,h,d){const p=s?Math.min(Ad,Math.round(s[0])):0,f=s?Math.min(Ad,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*i),Math.round(32*r),o,a,(p<<1)+(l?1:0),f,16*c,16*u,256*h,256*d)}function Up(e,t,n,i,r,o,a){e.emplaceBack(t,n,i,r,o,a)}function Vp(e,t,n,i,r){e.emplaceBack(t,n,i,r),e.emplaceBack(t,n,i,r),e.emplaceBack(t,n,i,r),e.emplaceBack(t,n,i,r)}function Gp(e){for(const t of e.sections)if(_o(t.text))return!0;return!1}class Zp{constructor(e){this.layoutVertexArray=new ra,this.indexArray=new da,this.programConfigurations=e,this.segments=new ds,this.dynamicLayoutVertexArray=new ea,this.opacityVertexArray=new aa,this.placedSymbolArray=new Ea,this.globeExtVertexArray=new oa}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,n,i){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Yu.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Qu.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Fp,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Ju.members,!0)),this.opacityVertexBuffer.itemSize=1),(n||i)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}zr(Zp,"SymbolBuffers");class Wp{constructor(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new ds,this.collisionVertexArray=new ua,this.collisionVertexArrayExt=new ha}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Ku.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,eh.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}zr(Wp,"CollisionBuffers");class qp{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ll([]),this.placementViewportMatrix=ll([]);const t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=rh(this.zoom,t["text-size"]),this.iconSizeData=rh(this.zoom,t["icon-size"]);const n=this.layers[0].layout,i=n.get("symbol-sort-key"),r=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==r&&void 0!==i.constantOr(1),this.sortFeaturesByY=("viewport-y"===r||"auto"===r&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=n.get("text-writing-mode").map(e=>Nh[e]),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.sourceID=e.sourceID,this.projection=e.projection}createArrays(){this.text=new Zp(new ns(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new Zp(new ns(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new Ia,this.lineVertexArray=new Ca,this.symbolInstances=new Ma}calculateGlyphDependencies(e,t,n,i,r){for(let n=0;n<e.length;n++)if(t[e.charCodeAt(n)]=!0,i&&r){const i=ch[e.charAt(n)];i&&(t[i.charCodeAt(0)]=!0)}}populate(e,t,n,i){const r=this.layers[0],o=r.layout,a="globe"===this.projection.name,s=o.get("text-font"),l=o.get("text-field"),c=o.get("icon-image"),u=("constant"!==l.value.kind||l.value.value instanceof Pt&&!l.value.value.isEmpty()||l.value.value.toString().length>0)&&("constant"!==s.value.kind||s.value.value.length>0),h="constant"!==c.value.kind||!!c.value.value||Object.keys(c.parameters).length>0,d=o.get("symbol-sort-key");if(this.features=[],!u&&!h)return;const p=t.iconDependencies,f=t.glyphDependencies,m=t.availableImages,g=new Po(this.zoom);for(const{feature:t,id:l,index:c,sourceLayerIndex:y}of e){const e=r._featureFilter.needGeometry,_=Rs(t,e);if(!r._featureFilter.filter(g,_,n))continue;if(e||(_.geometry=Os(t,n,i)),a&&1!==t.type&&n.z<=5){const e=_.geometry,t=.98078528056,i=(e,i)=>Al(ip(e.x,e.y,n,1),ip(i.x,i.y,n,1))<t;for(let t=0;t<e.length;t++)e[t]=Ps(e[t],i)}let v,x;if(u){const e=r.getValueAndResolveTokens("text-field",_,n,m),t=Pt.factory(e);Gp(t)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Co()||this.hasRTLText&&Ao.isParsed())&&(v=lh(t,r,_))}if(h){const e=r.getValueAndResolveTokens("icon-image",_,n,m);x=e instanceof zt?e:zt.fromString(e)}if(!v&&!x)continue;const b=this.sortFeaturesByKey?d.evaluate(_,{},n):void 0;if(this.features.push({id:l,text:v,icon:x,index:c,sourceLayerIndex:y,geometry:_.geometry,properties:t.properties,type:jp[t.type],sortKey:b}),x&&(p[x.name]=!0),v){const e=s.evaluate(_,{},n).join(","),t="map"===o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Nh.vertical)>=0;for(const n of v.sections)if(n.image)p[n.image.name]=!0;else{const i=uo(v.toString()),r=n.fontStack||e,o=f[r]=f[r]||{};this.calculateGlyphDependencies(n.text,o,t,this.allowVerticalPlacement,i)}}}"line"===o.get("symbol-placement")&&(this.features=function(e){const t={},n={},i=[];let r=0;function o(t){i.push(e[t]),r++}function a(e,t,r){const o=n[e];return delete n[e],n[t]=o,i[o].geometry[0].pop(),i[o].geometry[0]=i[o].geometry[0].concat(r[0]),o}function s(e,n,r){const o=t[n];return delete t[n],t[e]=o,i[o].geometry[0].shift(),i[o].geometry[0]=r[0].concat(i[o].geometry[0]),o}function l(e,t,n){const i=n?t[0][t[0].length-1]:t[0][0];return`${e}:${i.x}:${i.y}`}for(let c=0;c<e.length;c++){const u=e[c],h=u.geometry,d=u.text?u.text.toString():null;if(!d){o(c);continue}const p=l(d,h),f=l(d,h,!0);if(p in n&&f in t&&n[p]!==t[f]){const e=s(p,f,h),r=a(p,f,i[e].geometry);delete t[p],delete n[f],n[l(d,i[r].geometry,!0)]=r,i[e].geometry=null}else p in n?a(p,f,h):f in t?s(p,f,h):(o(c),t[p]=r-1,n[f]=r-1)}return i.filter(e=>e.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((e,t)=>e.sortKey-t.sortKey)}update(e,t,n,i){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n,i),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n,i))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Bp(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const n=this.lineVertexArray.length;if(void 0!==e.segment)for(const{x:e,y:n}of t)this.lineVertexArray.emplaceBack(e,n);return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(e,t,n,i,r,o,a,s,l,c,u,h,d,p){const f=e.indexArray,m=e.layoutVertexArray,g=e.globeExtVertexArray,y=e.segments.prepareSegment(4*t.length,m,f,this.canOverlap?o.sortKey:void 0),_=this.glyphOffsetArray.length,v=y.vertexLength,x=this.allowVerticalPlacement&&a===Nh.vertical?Math.PI/2:0,b=o.text&&o.text.sections;for(let i=0;i<t.length;i++){const{tl:r,tr:a,bl:c,br:u,tex:h,pixelOffsetTL:_,pixelOffsetBR:v,minFontScaleX:w,minFontScaleY:T,glyphOffset:E,isSDF:S,sectionIndex:M}=t[i],I=y.vertexLength,C=E[1];if(Np(m,l.x,l.y,r.x,C+r.y,h.x,h.y,n,S,_.x,_.y,w,T),Np(m,l.x,l.y,a.x,C+a.y,h.x+h.w,h.y,n,S,v.x,_.y,w,T),Np(m,l.x,l.y,c.x,C+c.y,h.x,h.y+h.h,n,S,_.x,v.y,w,T),Np(m,l.x,l.y,u.x,C+u.y,h.x+h.w,h.y+h.h,n,S,v.x,v.y,w,T),s){const{x:t,y:n,z:i}=s.anchor,[r,o,a]=s.up;Up(g,t,n,i,r,o,a),Up(g,t,n,i,r,o,a),Up(g,t,n,i,r,o,a),Up(g,t,n,i,r,o,a),Vp(e.dynamicLayoutVertexArray,t,n,i,x)}else Vp(e.dynamicLayoutVertexArray,l.x,l.y,l.z,x);f.emplaceBack(I,I+1,I+2),f.emplaceBack(I+1,I+2,I+3),y.vertexLength+=4,y.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(E[0]),i!==t.length-1&&M===t[i+1].sectionIndex||e.programConfigurations.populatePaintArrays(m.length,o,o.index,{},d,p,b&&b[M])}const w=s?s.anchor:l;e.placedSymbolArray.emplaceBack(w.x,w.y,w.z,l.x,l.y,_,this.glyphOffsetArray.length-_,v,c,u,l.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],a,0,!1,0,h,0)}_commitLayoutVertex(e,t,n,i,r,o,a){e.emplaceBack(t,n,i,r,o,Math.round(a.x),Math.round(a.y))}_addCollisionDebugVertices(e,t,n,i,r,o,a){const s=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),l=s.vertexLength,c=a.tileAnchorX,u=a.tileAnchorY;for(let e=0;e<4;e++)n.collisionVertexArray.emplaceBack(0,0,0,0);n.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),n.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new m(e.x1,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new m(e.x2,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new m(e.x2,e.y2)),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new m(e.x1,e.y2)),s.vertexLength+=4;const h=n.indexArray;h.emplaceBack(l,l+1),h.emplaceBack(l+1,l+2),h.emplaceBack(l+2,l+3),h.emplaceBack(l+3,l),s.primitiveLength+=4}_addTextDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceTextSize(e,o,t,a);this._addCollisionDebugVertices(i,r,this.textCollisionBox,i.projectedAnchorX,i.projectedAnchorY,i.projectedAnchorZ,o)}}_addIconDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceIconSize(e,t,o.placedIconSymbolIndex);this._addCollisionDebugVertices(i,r,this.iconCollisionBox,i.projectedAnchorX,i.projectedAnchorY,i.projectedAnchorZ,o)}}generateCollisionDebugBuffers(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Wp(la,th.members,_a),this.iconCollisionBox=new Wp(la,th.members,_a);const n=ah(this.iconSizeData,e),i=ah(this.textSizeData,e);for(let r=0;r<this.symbolInstances.length;r++){const o=this.symbolInstances.get(r);this._addTextDebugCollisionBoxes(i,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._addTextDebugCollisionBoxes(i,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o)}}getSymbolInstanceTextSize(e,t,n,i){const r=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:i),o=oh(this.textSizeData,e,r)/24;return this.tilePixelRatio*o}getSymbolInstanceIconSize(e,t,n){const i=this.icon.placedSymbolArray.get(n),r=oh(this.iconSizeData,e,i);return this.tilePixelRatio*r}_commitDebugCollisionVertexUpdate(e,t,n){e.emplaceBack(t,-n,-n),e.emplaceBack(t,n,-n),e.emplaceBack(t,n,n),e.emplaceBack(t,-n,n)}_updateTextDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceTextSize(e,o,t,a);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,r,i.padding)}}_updateIconDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceIconSize(e,t,o);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,r,i.padding)}}updateCollisionDebugBuffers(e,t){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const n=ah(this.iconSizeData,e),i=ah(this.textSizeData,e);for(let r=0;r<this.symbolInstances.length;r++){const o=this.symbolInstances.get(r);this._updateTextDebugCollisionBoxes(i,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._updateTextDebugCollisionBoxes(i,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._updateIconDebugCollisionBoxes(n,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(n,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,t,n,i,r,o,a,s,l){const c={};if(t<n){const{x1:n,y1:i,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d,featureIndex:p}=e.get(t);c.textBox={x1:n,y1:i,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d},c.textFeatureIndex=p}if(i<r){const{x1:t,y1:n,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d,featureIndex:p}=e.get(i);c.verticalTextBox={x1:t,y1:n,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d},c.verticalTextFeatureIndex=p}if(o<a){const{x1:t,y1:n,x2:i,y2:r,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d,featureIndex:p}=e.get(o);c.iconBox={x1:t,y1:n,x2:i,y2:r,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d},c.iconFeatureIndex=p}if(s<l){const{x1:t,y1:n,x2:i,y2:r,padding:o,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d,featureIndex:p}=e.get(s);c.verticalIconBox={x1:t,y1:n,x2:i,y2:r,padding:o,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d},c.verticalIconFeatureIndex=p}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const n=e.placedSymbolArray.get(t),i=n.vertexStartIndex+4*n.numGlyphs;for(let t=n.vertexStartIndex;t<i;t+=4)e.indexArray.emplaceBack(t,t+1,t+2),e.indexArray.emplaceBack(t+1,t+2,t+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),n=Math.cos(e),i=[],r=[],o=[];for(let e=0;e<this.symbolInstances.length;++e){o.push(e);const a=this.symbolInstances.get(e);i.push(0|Math.round(t*a.tileAnchorX+n*a.tileAnchorY)),r.push(a.featureIndex)}return o.sort((e,t)=>i[e]-i[t]||r[t]-r[e]),o}addToSortKeyRanges(e,t){const n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex);const{rightJustifiedTextSymbolIndex:n,centerJustifiedTextSymbolIndex:i,leftJustifiedTextSymbolIndex:r,verticalPlacedTextSymbolIndex:o,placedIconSymbolIndex:a,verticalPlacedIconSymbolIndex:s}=t;n>=0&&this.addIndicesForPlacedSymbol(this.text,n),i>=0&&i!==n&&this.addIndicesForPlacedSymbol(this.text,i),r>=0&&r!==i&&r!==n&&this.addIndicesForPlacedSymbol(this.text,r),o>=0&&this.addIndicesForPlacedSymbol(this.text,o),a>=0&&this.addIndicesForPlacedSymbol(this.icon,a),s>=0&&this.addIndicesForPlacedSymbol(this.icon,s)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}zr(qp,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),qp.MAX_GLYPHS=65535,qp.addDynamicAttributes=Vp;const $p=new Go({"symbol-placement":new No(Je.layout_symbol["symbol-placement"]),"symbol-spacing":new No(Je.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new No(Je.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Uo(Je.layout_symbol["symbol-sort-key"]),"symbol-z-order":new No(Je.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new No(Je.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new No(Je.layout_symbol["icon-ignore-placement"]),"icon-optional":new No(Je.layout_symbol["icon-optional"]),"icon-rotation-alignment":new No(Je.layout_symbol["icon-rotation-alignment"]),"icon-size":new Uo(Je.layout_symbol["icon-size"]),"icon-text-fit":new No(Je.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new No(Je.layout_symbol["icon-text-fit-padding"]),"icon-image":new Uo(Je.layout_symbol["icon-image"]),"icon-rotate":new Uo(Je.layout_symbol["icon-rotate"]),"icon-padding":new No(Je.layout_symbol["icon-padding"]),"icon-keep-upright":new No(Je.layout_symbol["icon-keep-upright"]),"icon-offset":new Uo(Je.layout_symbol["icon-offset"]),"icon-anchor":new Uo(Je.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new No(Je.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new No(Je.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new No(Je.layout_symbol["text-rotation-alignment"]),"text-field":new Uo(Je.layout_symbol["text-field"]),"text-font":new Uo(Je.layout_symbol["text-font"]),"text-size":new Uo(Je.layout_symbol["text-size"]),"text-max-width":new Uo(Je.layout_symbol["text-max-width"]),"text-line-height":new Uo(Je.layout_symbol["text-line-height"]),"text-letter-spacing":new Uo(Je.layout_symbol["text-letter-spacing"]),"text-justify":new Uo(Je.layout_symbol["text-justify"]),"text-radial-offset":new Uo(Je.layout_symbol["text-radial-offset"]),"text-variable-anchor":new No(Je.layout_symbol["text-variable-anchor"]),"text-anchor":new Uo(Je.layout_symbol["text-anchor"]),"text-max-angle":new No(Je.layout_symbol["text-max-angle"]),"text-writing-mode":new No(Je.layout_symbol["text-writing-mode"]),"text-rotate":new Uo(Je.layout_symbol["text-rotate"]),"text-padding":new No(Je.layout_symbol["text-padding"]),"text-keep-upright":new No(Je.layout_symbol["text-keep-upright"]),"text-transform":new Uo(Je.layout_symbol["text-transform"]),"text-offset":new Uo(Je.layout_symbol["text-offset"]),"text-allow-overlap":new No(Je.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new No(Je.layout_symbol["text-ignore-placement"]),"text-optional":new No(Je.layout_symbol["text-optional"])});var Hp={paint:new Go({"icon-opacity":new Uo(Je.paint_symbol["icon-opacity"]),"icon-color":new Uo(Je.paint_symbol["icon-color"]),"icon-halo-color":new Uo(Je.paint_symbol["icon-halo-color"]),"icon-halo-width":new Uo(Je.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Uo(Je.paint_symbol["icon-halo-blur"]),"icon-translate":new No(Je.paint_symbol["icon-translate"]),"icon-translate-anchor":new No(Je.paint_symbol["icon-translate-anchor"]),"text-opacity":new Uo(Je.paint_symbol["text-opacity"]),"text-color":new Uo(Je.paint_symbol["text-color"],{runtimeType:ct,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new Uo(Je.paint_symbol["text-halo-color"]),"text-halo-width":new Uo(Je.paint_symbol["text-halo-width"]),"text-halo-blur":new Uo(Je.paint_symbol["text-halo-blur"]),"text-translate":new No(Je.paint_symbol["text-translate"]),"text-translate-anchor":new No(Je.paint_symbol["text-translate-anchor"])}),layout:$p};class Xp{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:ot,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}zr(Xp,"FormatSectionOverride",{omit:["defaultValue"]});class Yp extends cs{constructor(e){super(e,Hp)}recalculate(e,t){super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const n=this.layout.get("text-writing-mode");if(n){const e=[];for(const t of n)e.indexOf(t)<0&&e.push(t);this.layout._values["text-writing-mode"]=e}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,t,n,i){const r=this.layout.get(e).evaluate(t,{},n,i),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Fi(o.value)||!r?r:function(e,t){return t.replace(/{([^{}]+)}/g,(t,n)=>n in e?String(e[n]):"")}(t.properties,r)}createBucket(e){return new qp(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of Hp.paint.overridableProperties){if(!Yp.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),n=new Xp(t),i=new ji(n,t.property.specification);let r=null;r="constant"===t.value.kind||"source"===t.value.kind?new Ui("source",i):new Vi("composite",i,t.value.zoomStops,t.value._interpolationType),this.paint._values[e]=new jo(t.property,r,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,n){return!(!this.layout||t.isDataDriven()||n.isDataDriven())&&Yp.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const n=e.get("text-field"),i=Hp.paint.properties[t];let r=!1;const o=e=>{for(const t of e)if(i.overrides&&i.overrides.hasOverride(t))return void(r=!0)};if("constant"===n.value.kind&&n.value.value instanceof Pt)o(n.value.value.sections);else if("source"===n.value.kind){const e=t=>{r||(t instanceof jt&&Ot(t.value)===pt?o(t.value.sections):t instanceof Gt?o(t.sections):t.eachChild(e))},t=n.value;t._styleExpression&&e(t._styleExpression.expression)}return r}getProgramConfiguration(e){return new ts(this,e)}}var Jp={paint:new Go({"background-color":new No(Je.paint_background["background-color"]),"background-pattern":new No(Je.paint_background["background-pattern"]),"background-opacity":new No(Je.paint_background["background-opacity"])})},Qp={paint:new Go({"raster-opacity":new No(Je.paint_raster["raster-opacity"]),"raster-hue-rotate":new No(Je.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new No(Je.paint_raster["raster-brightness-min"]),"raster-brightness-max":new No(Je.paint_raster["raster-brightness-max"]),"raster-saturation":new No(Je.paint_raster["raster-saturation"]),"raster-contrast":new No(Je.paint_raster["raster-contrast"]),"raster-resampling":new No(Je.paint_raster["raster-resampling"]),"raster-fade-duration":new No(Je.paint_raster["raster-fade-duration"])})};class Kp extends cs{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var ef={paint:new Go({"sky-type":new No(Je.paint_sky["sky-type"]),"sky-atmosphere-sun":new No(Je.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new No(Je.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new No(Je.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new No(Je.paint_sky["sky-gradient-radius"]),"sky-gradient":new Vo(Je.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new No(Je.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new No(Je.paint_sky["sky-atmosphere-color"]),"sky-opacity":new No(Je.paint_sky["sky-opacity"])})};function tf(e,t,n){const i=[0,0,1],r=Vl([]);return Zl(r,r,n?-v(e)+Math.PI:v(e)),Gl(r,r,-v(t)),Dl(i,i,r),kl(i,i)}const nf={circle:class extends cs{constructor(e){super(e,il)}createBucket(e){return new Fs(e)}queryRadius(e){const t=e;return Qs("circle-radius",this,t)+Qs("circle-stroke-width",this,t)+Ks(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,n,i,r,o,a,s){const l=tl(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),c=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n);return Yl(e,i,o,a,s,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),l,c)}getProgramIds(){return["circle"]}getProgramConfiguration(e){return new ts(this,e)}},heatmap:class extends cs{createBucket(e){return new tc(e)}constructor(e){super(e,sc),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=lc({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(e){return Qs("heatmap-radius",this,e)}queryIntersectsFeature(e,t,n,i,r,o,a,s){const l=this.paint.get("heatmap-radius").evaluate(t,n);return Yl(e,i,o,a,s,!0,!0,new m(0,0),l)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(e){return new ts(this,e)}},hillshade:class extends cs{constructor(e){super(e,cc)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends cs{constructor(e){super(e,Hc)}getProgramIds(){const e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),n=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&n.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),n}getProgramConfiguration(e){return new ts(this,e)}recalculate(e,t){super.recalculate(e,t);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new qc(e)}queryRadius(){return Ks(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,n,i,r,o){return!e.queryGeometry.isAboveHorizon&&Vs(el(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),i)}isTileClipped(){return!0}},"fill-extrusion":class extends cs{constructor(e){super(e,ku)}createBucket(e){return new vu(e)}queryRadius(){return Ks(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(e){return new ts(this,e)}queryIntersectsFeature(e,t,n,i,r,o,a,s,l){const c=tl(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),u=this.paint.get("fill-extrusion-height").evaluate(t,n),h=this.paint.get("fill-extrusion-base").evaluate(t,n),d=[0,0],p=s&&o.elevation,f=o.elevation?o.elevation.exaggeration():1,g=e.tile.getBucket(this);if(p&&g instanceof vu){const e=g.centroidVertexArray,t=l+1;t<e.length&&(d[0]=e.geta_centroid_pos0(t),d[1]=e.geta_centroid_pos1(t))}if(0===d[0]&&1===d[1])return!1;"globe"===o.projection.name&&(i=Iu([i],[new m(0,0),new m(ps,ps)],e.tileID.canonical).map(e=>e.polygon).flat());const y=p?s:null,[_,v]=function(e,t,n,i,r,o,a,s,l,c,u){return"globe"===e.projection.name?function(e,t,n,i,r,o,a,s,l,c,u){const h=[],d=[],p=e.projection.upVectorScale(u,e.center.lat,e.worldSize).metersToTile,f=[0,0,0,1],m=[0,0,0,1],g=(e,t,n,i)=>{e[0]=t,e[1]=n,e[2]=i,e[3]=1},y=Mu();n>0&&(n+=y),i+=y;for(const y of t){const t=[],_=[];for(const h of y){const d=h.x+r.x,y=h.y+r.y,v=e.projection.projectTilePoint(d,y,u),x=e.projection.upVector(u,h.x,h.y);let b=n,w=i;if(a){const e=ju(d,y,n,i,a,s,l,c);b+=e.base,w+=e.top}0!==n?g(f,v.x+x[0]*p*b,v.y+x[1]*p*b,v.z+x[2]*p*b):g(f,v.x,v.y,v.z),g(m,v.x+x[0]*p*w,v.y+x[1]*p*w,v.z+x[2]*p*w),zl(f,f,o),zl(m,m,o),t.push(new Ou(f[0],f[1],f[2])),_.push(new Ou(m[0],m[1],m[2]))}h.push(t),d.push(_)}return[h,d]}(e,t,n,i,r,o,a,s,l,c,u):a?function(e,t,n,i,r,o,a,s,l){const c=[],u=[],h=[0,0,0,1];for(const d of e){const e=[],p=[];for(const c of d){const u=c.x+i.x,d=c.y+i.y,f=ju(u,d,t,n,o,a,s,l);h[0]=u,h[1]=d,h[2]=f.base,h[3]=1,Nl(h,h,r),h[3]=Math.max(h[3],1e-5);const m=new Ou(h[0]/h[3],h[1]/h[3],h[2]/h[3]);h[0]=u,h[1]=d,h[2]=f.top,h[3]=1,Nl(h,h,r),h[3]=Math.max(h[3],1e-5);const g=new Ou(h[0]/h[3],h[1]/h[3],h[2]/h[3]);e.push(m),p.push(g)}c.push(e),u.push(p)}return[c,u]}(t,n,i,r,o,a,s,l,c):function(e,t,n,i,r){const o=[],a=[],s=r[8]*t,l=r[9]*t,c=r[10]*t,u=r[11]*t,h=r[8]*n,d=r[9]*n,p=r[10]*n,f=r[11]*n;for(const t of e){const e=[],n=[];for(const o of t){const t=o.x+i.x,a=o.y+i.y,m=r[0]*t+r[4]*a+r[12],g=r[1]*t+r[5]*a+r[13],y=r[2]*t+r[6]*a+r[14],_=r[3]*t+r[7]*a+r[15],v=m+s,x=g+l,b=y+c,w=Math.max(_+u,1e-5),T=m+h,E=g+d,S=y+p,M=Math.max(_+f,1e-5);e.push(new Ou(v/w,x/w,b/w)),n.push(new Ou(T/M,E/M,S/M))}o.push(e),a.push(n)}return[o,a]}(t,n,i,r,o)}(o,i,h,u,c,a,y,d,f,o.center.lat,e.tileID.canonical),x=e.queryGeometry;return function(e,t,n){let i=1/0;Vs(n,t)&&(i=Bu(n,t[0]));for(let r=0;r<t.length;r++){const o=t[r],a=e[r];for(let e=0;e<o.length-1;e++){const t=o[e],r=[t,o[e+1],a[e+1],a[e],t];Ns(n,r)&&(i=Math.min(i,Bu(n,r)))}}return i!==1/0&&i}(_,v,x.isPointQuery()?x.screenBounds:x.screenGeometry)}},line:class extends cs{constructor(e){super(e,$u),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(e){if("line-gradient"===e){const e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof In,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=Hu.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new Wu(e)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(e){return new ts(this,e)}queryRadius(e){const t=e,n=Xu(Qs("line-width",this,t),Qs("line-gap-width",this,t)),i=Qs("line-offset",this,t);return n/2+Math.abs(i)+Ks(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,n,i,r,o){if(e.queryGeometry.isAboveHorizon)return!1;const a=el(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),s=e.pixelToTileUnitsFactor/2*Xu(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),l=this.paint.get("line-offset").evaluate(t,n);return l&&(i=function(e,t){const n=[],i=new m(0,0);for(let r=0;r<e.length;r++){const o=e[r],a=[];for(let e=0;e<o.length;e++){const n=o[e-1],r=o[e],s=o[e+1],l=0===e?i:r.sub(n)._unit()._perp(),c=e===o.length-1?i:s.sub(r)._unit()._perp(),u=l._add(c)._unit();u._mult(1/(u.x*c.x+u.y*c.y)),a.push(u._mult(t)._add(r))}n.push(a)}return n}(i,l*e.pixelToTileUnitsFactor)),function(e,t,n){for(let i=0;i<t.length;i++){const r=t[i];if(e.length>=3)for(let t=0;t<r.length;t++)if(Xs(e,r[t]))return!0;if(Gs(e,r,n))return!0}return!1}(a,i,s)}isTileClipped(){return!0}},symbol:Yp,background:class extends cs{constructor(e){super(e,Jp)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends cs{constructor(e){super(e,Qp)}getProgramIds(){return["raster"]}},sky:class extends cs{constructor(e){super(e,ef),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=lc({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}getCenter(e,t){if("atmosphere"===this.paint.get("sky-type")){const n=this.paint.get("sky-atmosphere-sun"),i=!n,r=e.style.light,o=r.properties.get("position");return i&&"viewport"===r.properties.get("anchor")&&V("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),i?tf(o.azimuthal,90-o.polar,t):tf(n[0],90-n[1],t)}const n=this.paint.get("sky-gradient-center");return tf(n[0],90-n[1],t)}is3D(){return!1}isSky(){return!0}markSkyboxValid(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}};class rf{constructor(e,t,n,i){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,i)}update(e,t,i){const{width:r,height:o}=e,{context:a}=this,{gl:s}=a,{HTMLImageElement:l,HTMLCanvasElement:c,HTMLVideoElement:u,ImageData:h,ImageBitmap:d}=n;if(s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),i||this.size&&this.size[0]===r&&this.size[1]===o){const{x:t,y:n}=i||{x:0,y:0};e instanceof l||e instanceof c||e instanceof u||e instanceof h||d&&e instanceof d?s.texSubImage2D(s.TEXTURE_2D,0,t,n,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,t,n,r,o,s.RGBA,s.UNSIGNED_BYTE,e.data)}else this.size=[r,o],e instanceof l||e instanceof c||e instanceof u||e instanceof h||d&&e instanceof d?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,o,0,this.format,s.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(t&&t.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&s.generateMipmap(s.TEXTURE_2D)}bind(e,t){const{context:n}=this,{gl:i}=n;i.bindTexture(i.TEXTURE_2D,this.texture),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.useMipmap?e===i.NEAREST?i.NEAREST_MIPMAP_NEAREST:i.LINEAR_MIPMAP_NEAREST:e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class of{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class af{constructor(){this.tasks={},this.taskQueue=[],R(["process"],this),this.invoker=new of(this.process),this.nextId=0}add(e,t){const n=this.nextId++,i=function({type:e,isSymbolTile:t,zoom:n}){return n=n||0,"message"===e?0:"maybePrepare"!==e||t?"parseTile"!==e||t?"parseTile"===e&&t?300-n:"maybePrepare"===e&&t?400-n:500:200-n:100-n}(t);if(0===i){W();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[n]={fn:e,metadata:t,priority:i,id:n},this.taskQueue.push(n),this.invoker.trigger(),{cancel:()=>{delete this.tasks[n]}}}process(){W();try{if(this.taskQueue=this.taskQueue.filter(e=>!!this.tasks[e]),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const t=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!t)return;t.fn()}finally{}}pick(){let e=null,t=1/0;for(let n=0;n<this.taskQueue.length;n++){const i=this.tasks[this.taskQueue[n]];i.priority<t&&(t=i.priority,e=n)}if(null===e)return null;const n=this.taskQueue[e];return this.taskQueue.splice(e,1),n}remove(){this.invoker.remove()}}class sf{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}const lf=["tile","layer","source","sourceLayer","state"];class cf{constructor(e,t,n,i,r){this.type="Feature",this._vectorTileFeature=e,this._z=t,this._x=n,this._y=i,this.properties=e.properties,this.id=r}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={type:"Feature",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);for(const t of lf)void 0!==this[t]&&(e[t]=this[t]);return e}}const uf=new Uint16Array(8184);for(let e=0;e<2046;e++){let t=e+2,n=0,i=0,r=0,o=0,a=0,s=0;for(1&t?r=o=a=32:n=i=s=32;(t>>=1)>1;){const e=n+r>>1,l=i+o>>1;1&t?(r=n,o=i,n=a,i=s):(n=r,i=o,r=a,o=s),a=e,s=l}const l=4*e;uf[l+0]=n,uf[l+1]=i,uf[l+2]=r,uf[l+3]=o}const hf=new Uint16Array(2178),df=new Uint8Array(1089),pf=new Uint16Array(1089);function ff(e){return 0===e?-.03125:32===e?.03125:0}var mf=Ho([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const gf={type:2,extent:ps,loadGeometry:()=>[[new m(0,0),new m(8193,0),new m(8193,8193),new m(0,8193),new m(0,0)]]};class yf{constructor(e,t,n,i,r){this.tileID=e,this.uid=z(),this.uses=0,this.tileSize=t,this.tileZoom=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=r,this.expiredRequestCount=0,this.state="loading",i&&i.transform&&(this.projection=i.transform.projection)}registerFadeDuration(e){const t=e+this.timeAdded;t<We.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=gp(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,t,n){if(this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const n={};if(!t)return n;for(const i of e){const e=i.layerIds.map(e=>t.getLayer(e)).filter(Boolean);if(0!==e.length){i.layers=e,i.stateDependentLayerIds&&(i.stateDependentLayers=i.stateDependentLayerIds.map(t=>e.filter(e=>e.id===t)[0]));for(const t of e)n[t.id]=i}}return n}(e.buckets,t.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const t=this.buckets[e];if(t instanceof qp){if(this.hasSymbolBuckets=!0,!n)break;t.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const t=this.buckets[e];if(t instanceof qp&&t.hasRTLText){this.hasRTLText=!0,Ao.isLoading()||Ao.isLoaded()||"deferred"!==Co()||ko();break}}this.queryPadding=0;for(const e in this.buckets){const n=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(e).queryRadius(n))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new wa}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(e){return this.buckets[e.id]}upload(e){for(const t in this.buckets){const n=this.buckets[t];n.uploadPending()&&n.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new rf(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new rf(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new rf(e,this.lineAtlas.image,t.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,n,i,r,o,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:i,pixelPosMatrix:a,transform:o,params:r,tileTransform:this.tileTransform},e,t,n):{}}querySourceFeatures(e,t){const n=this.latestFeatureIndex;if(!n||!n.rawTileData)return;const i=n.loadVTLayers(),r=t?t.sourceLayer:"",o=i._geojsonTileLayer||i[r];if(!o)return;const a=Ki(t&&t.filter),{z:s,x:l,y:c}=this.tileID.canonical,u={z:s,x:l,y:c};for(let t=0;t<o.length;t++){const i=o.feature(t);if(a.needGeometry){const e=Rs(i,!0);if(!a.filter(new Po(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!a.filter(new Po(this.tileID.overscaledZ),i))continue;const h=n.getId(i,r),d=new cf(i,s,l,c,h);d.tile=u,e.push(d)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const t=this.expirationTime;if(e.cacheControl){const t=q(e.cacheControl);t["max-age"]&&(this.expirationTime=Date.now()+1e3*t["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let n=!1;if(this.expirationTime>e)n=!1;else if(t)if(this.expirationTime<t)n=!0;else{const i=this.expirationTime-t;i?this.expirationTime=e+Math.max(i,3e4):n=!0}else n=!0;n?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length||!t)return;const n=this.latestFeatureIndex.loadVTLayers(),i=t.style.listImages();for(const r in this.buckets){if(!t.style.hasLayer(r))continue;const o=this.buckets[r],a=o.layers[0].sourceLayer||"_geojsonTileLayer",s=n[a],l=e[a];if(!s||!l||0===Object.keys(l).length)continue;if(o.update(l,s,i,this.imageAtlas&&this.imageAtlas.patternPositions||{}),o instanceof Wu||o instanceof qc){const e=t.style._getSourceCache(o.layers[0].source);t._terrain&&t._terrain.enabled&&e&&o.programConfigurations.needsUpload&&t._terrain._clearRenderCacheForTile(e.id,this.tileID)}const c=t&&t.style&&t.style.getLayer(r);c&&(this.queryPadding=Math.max(this.queryPadding,c.queryRadius(o)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<We.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=We.now()+e}setTexture(e,t){const n=t.context,i=n.gl;this.texture=this.texture||t.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new rf(n,e,i.RGBA,{useMipmap:!0}),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),n.extTextureFilterAnisotropic&&i.texParameterf(i.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax))}setDependencies(e,t){const n={};for(const e of t)n[e]=!0;this.dependencies[e]=n}hasDependency(e,t){for(const n of e){const e=this.dependencies[n];if(e)for(const n of t)if(e[n])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,t){if(!t||"mercator"===t.name||this._tileDebugBuffer)return;const n=Os(gf,this.tileID.canonical,this.tileTransform)[0],i=new Yo,r=new va;for(let e=0;e<n.length;e++){const{x:t,y:o}=n[e];i.emplaceBack(t,o),r.emplaceBack(e)}r.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(r),this._tileDebugBuffer=e.createVertexBuffer(i,Fd.members),this._tileDebugSegments=ds.simpleSegment(0,0,i.length,r.length)}_makeTileBoundsBuffers(e,t){if(this._tileBoundsBuffer||!t||"mercator"===t.name)return;const n=Os(gf,this.tileID.canonical,this.tileTransform)[0];let i,r;if(this.isRaster){const e=function(e,t){const n=gp(e,t),i=Math.pow(2,e.z);for(let r=0;r<33;r++)for(let o=0;o<33;o++){const a=ws((e.x+(o+ff(o))/32)/i),s=Ts((e.y+(r+ff(r))/32)/i),l=t.project(a,s),c=33*r+o;hf[2*c+0]=Math.round((l.x*n.scale-n.x)*ps),hf[2*c+1]=Math.round((l.y*n.scale-n.y)*ps)}df.fill(0),pf.fill(0);for(let e=2045;e>=0;e--){const t=4*e,n=uf[t+0],i=uf[t+1],r=uf[t+2],o=uf[t+3],a=n+r>>1,s=i+o>>1,l=a+s-i,c=s+n-a,u=33*i+n,h=33*o+r,d=33*s+a,p=Math.hypot((hf[2*u+0]+hf[2*h+0])/2-hf[2*d+0],(hf[2*u+1]+hf[2*h+1])/2-hf[2*d+1])>=16;if(df[d]=df[d]||(p?1:0),e<1022){const e=33*(i+c>>1)+(n+l>>1),t=33*(o+c>>1)+(r+l>>1);df[d]=df[d]||df[e]||df[t]}}const r=new Qo,o=new da;let a=0;function s(e,t){const n=33*t+e;return 0===pf[n]&&(r.emplaceBack(hf[2*n+0],hf[2*n+1],e*ps/32,t*ps/32),pf[n]=++a),pf[n]-1}function l(e,t,n,i,r,a){const c=e+n>>1,u=t+i>>1;if(Math.abs(e-r)+Math.abs(t-a)>1&&df[33*u+c])l(r,a,e,t,c,u),l(n,i,r,a,c,u);else{const l=s(e,t),c=s(n,i),u=s(r,a);o.emplaceBack(l,c,u)}}return l(0,0,32,32,32,0),l(32,32,0,0,0,32),{vertices:r,indices:o}}(this.tileID.canonical,t);i=e.vertices,r=e.indices}else{i=new Qo,r=new da;for(const{x:e,y:t}of n)i.emplaceBack(e,t,0,0);const e=dc.exports(i.int16,void 0,4);for(let t=0;t<e.length;t+=3)r.emplaceBack(e[t],e[t+1],e[t+2])}this._tileBoundsBuffer=e.createVertexBuffer(i,mf.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(r),this._tileBoundsSegments=ds.simpleSegment(0,0,i.length,r.length)}_makeGlobeTileDebugBuffers(e,t){const n=t.projection;if(!n||"globe"!==n.name||t.freezeTileCoverage)return;const i=this.tileID.canonical,r=ap(Jd(i,t)),o=cp(t.zoom);let a;o>0&&(a=cl(new Float64Array(16),t.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,i,t,r,a,o),this._makeGlobeTileDebugTextBuffer(e,i,t,r,a,o)}_globePoint(e,t,n,i,r,o,a){let s=ip(e,t,n);if(o){const r=1<<n.z,l=vs(i.center.lng),c=xs(i.center.lat),u=(n.x+.5)/r-l;let h=0;u>.5?h=-1:u<-.5&&(h=1);let d=(e/ps+n.x)/r+h,p=(t/ps+n.y)/r;d=(d-l)*i._pixelsPerMercatorPixel+l,p=(p-c)*i._pixelsPerMercatorPixel+c;const f=[d*i.worldSize,p*i.worldSize,0];zl(f,f,o),s=Yd(s,f,a)}return zl(s,s,r)}_makeGlobeTileDebugBorderBuffer(e,t,n,i,r,o){const a=new Yo,s=new va,l=new Jo,c=(e,c,u,h,d)=>{const p=(u-e)/(d-1),f=(h-c)/(d-1),m=a.length;for(let u=0;u<d;u++){const h=e+u*p,d=c+u*f;a.emplaceBack(h,d);const g=this._globePoint(h,d,t,n,i,r,o);l.emplaceBack(g[0],g[1],g[2]),s.emplaceBack(m+u)}},u=ps;c(0,0,u,0,16),c(u,0,u,u,16),c(u,u,0,u,16),c(0,u,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(s),this._tileDebugBuffer=e.createVertexBuffer(a,Fd.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(l,jd.members),this._tileDebugSegments=ds.simpleSegment(0,0,a.length,s.length)}_makeGlobeTileDebugTextBuffer(e,t,n,i,r,o){const a=new Yo,s=new da,l=new Jo,c=25;s.reserve(32),a.reserve(c),l.reserve(c);const u=(e,t)=>c*e+t;for(let e=0;e<c;e++){const s=2048*e;for(let e=0;e<c;e++){const c=2048*e;a.emplaceBack(c,s);const u=this._globePoint(c,s,t,n,i,r,o);l.emplaceBack(u[0],u[1],u[2])}}for(let e=0;e<4;e++)for(let t=0;t<4;t++){const n=u(e,t),i=u(e,t+1),r=u(e+1,t),o=u(e+1,t+1);s.emplaceBack(n,i,r),s.emplaceBack(r,i,o)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(s),this._tileDebugTextBuffer=e.createVertexBuffer(a,Fd.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(l,jd.members),this._tileDebugTextSegments=ds.simpleSegment(0,0,c,32)}}class _f{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,t,n){const i=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][i]=this.stateChanges[e][i]||{},A(this.stateChanges[e][i],n),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==i&&(this.deletedStates[e][t]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][i]){this.deletedStates[e][i]={};for(const t in this.state[e][i])n[t]||(this.deletedStates[e][i][t]=null)}else for(const t in n)this.deletedStates[e]&&this.deletedStates[e][i]&&null===this.deletedStates[e][i][t]&&delete this.deletedStates[e][i][t]}removeFeatureState(e,t,n){if(null===this.deletedStates[e])return;const i=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][i]&&(this.deletedStates[e][i]=this.deletedStates[e][i]||{},this.deletedStates[e][i][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][i])for(n in this.deletedStates[e][i]={},this.stateChanges[e][i])this.deletedStates[e][i][n]=null;else this.deletedStates[e][i]=null;else this.deletedStates[e]=null}getState(e,t){const n=String(t),i=A({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const n=this.deletedStates[e][t];if(null===n)return{};for(const e in n)delete i[e]}return i}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(e,t){const n={};for(const e in this.stateChanges){this.state[e]=this.state[e]||{};const t={};for(const n in this.stateChanges[e])this.state[e][n]||(this.state[e][n]={}),A(this.state[e][n],this.stateChanges[e][n]),t[n]=this.state[e][n];n[e]=t}for(const e in this.deletedStates){this.state[e]=this.state[e]||{};const t={};if(null===this.deletedStates[e])for(const n in this.state[e])t[n]={},this.state[e][n]={};else for(const n in this.deletedStates[e]){if(null===this.deletedStates[e][n])this.state[e][n]={};else for(const t of Object.keys(this.deletedStates[e][n]))delete this.state[e][n][t];t[n]=this.state[e][n]}n[e]=n[e]||{},A(n[e],t)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(const i in e)e[i].setFeatureState(n,t)}}class vf{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,t){const n=this.toIdx(e,t);return{min:this.minimums[n],max:this.maximums[n]}}isLeaf(e,t){return this.leaves[this.toIdx(e,t)]}toIdx(e,t){return t*this.size+e}}function xf(e,t,n,i){let r=0,o=Number.MAX_VALUE;for(let a=0;a<3;a++)if(Math.abs(i[a])<1e-15){if(n[a]<e[a]||n[a]>t[a])return null}else{const s=1/i[a];let l=(e[a]-n[a])*s,c=(t[a]-n[a])*s;if(l>c){const e=l;l=c,c=e}if(l>r&&(r=l),c<o&&(o=c),r>o)return null}return r}function bf(e,t,n,i,r,o,a,s,l,c,u){const h=i-e,d=r-t,p=o-n,f=a-e,m=s-t,g=l-n,y=u[1]*g-u[2]*m,_=u[2]*f-u[0]*g,v=u[0]*m-u[1]*f,x=h*y+d*_+p*v;if(Math.abs(x)<1e-15)return null;const b=1/x,w=c[0]-e,T=c[1]-t,E=c[2]-n,S=(w*y+T*_+E*v)*b;if(S<0||S>1)return null;const M=T*p-E*d,I=E*h-w*p,C=w*d-T*h,k=(u[0]*M+u[1]*I+u[2]*C)*b;return k<0||S+k>1?null:(f*M+m*I+g*C)*b}function wf(e,t,n){return(e-t)/(n-t)}function Tf(e,t,n,i,r,o,a,s,l){const c=1<<n,u=o-i,h=a-r,d=(e+1)/c*u+i,p=(t+0)/c*h+r,f=(t+1)/c*h+r;s[0]=(e+0)/c*u+i,s[1]=p,l[0]=d,l[1]=f}class Ef{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const t=function(e){const t=Math.ceil(Math.log2(e.dim/8)),n=[];let i=Math.ceil(Math.pow(2,t));const r=1/i,o=(e,t,n,i,r)=>{const o=i?1:0,a=(e+1)*n-o,s=t*n,l=(t+1)*n-o;r[0]=e*n,r[1]=s,r[2]=a,r[3]=l};let a=new vf(i);const s=[];for(let t=0;t<i*i;t++){o(t%i,Math.floor(t/i),r,!1,s);const n=Mf(s[0],s[1],e),l=Mf(s[2],s[1],e),c=Mf(s[2],s[3],e),u=Mf(s[0],s[3],e);a.minimums.push(Math.min(n,l,c,u)),a.maximums.push(Math.max(n,l,c,u)),a.leaves.push(1)}for(n.push(a),i/=2;i>=1;i/=2){const e=n[n.length-1];a=new vf(i);for(let t=0;t<i*i;t++){o(t%i,Math.floor(t/i),2,!0,s);const n=e.getElevation(s[0],s[1]),r=e.getElevation(s[2],s[1]),l=e.getElevation(s[2],s[3]),c=e.getElevation(s[0],s[3]),u=e.isLeaf(s[0],s[1]),h=e.isLeaf(s[2],s[1]),d=e.isLeaf(s[2],s[3]),p=e.isLeaf(s[0],s[3]),f=Math.min(n.min,r.min,l.min,c.min),m=Math.max(n.max,r.max,l.max,c.max),g=u&&h&&d&&p;a.maximums.push(m),a.minimums.push(f),a.leaves.push(m-f<=5&&g?1:0)}n.push(a)}return n}(this.dem),n=t.length-1,i=t[n];this._addNode(i.minimums[0],i.maximums[0],i.leaves[0]),this._construct(t,0,0,n,0)}raycastRoot(e,t,n,i,r,o,a=1){return xf([e,t,-100],[n,i,this.maximums[0]*a],r,o)}raycast(e,t,n,i,r,o,a=1){if(!this.nodeCount)return null;const s=this.raycastRoot(e,t,n,i,r,o,a);if(null==s)return null;const l=[],c=[],u=[],h=[],d=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];for(;d.length>0;){const{idx:s,t:p,nodex:f,nodey:m,depth:g}=d.pop();if(this.leaves[s]){Tf(f,m,g,e,t,n,i,u,h);const s=1<<g,l=(f+0)/s,c=(f+1)/s,d=(m+0)/s,y=(m+1)/s,_=Mf(l,d,this.dem)*a,v=Mf(c,d,this.dem)*a,x=Mf(c,y,this.dem)*a,b=Mf(l,y,this.dem)*a,w=bf(u[0],u[1],_,h[0],u[1],v,h[0],h[1],x,r,o),T=bf(h[0],h[1],x,u[0],h[1],b,u[0],u[1],_,r,o),E=Math.min(null!==w?w:Number.MAX_VALUE,null!==T?T:Number.MAX_VALUE);if(E!==Number.MAX_VALUE)return E;{const e=Cl([],r,o,p);if(Sf(_,v,b,x,wf(e[0],u[0],h[0]),wf(e[1],u[1],h[1]))>=e[2])return p}continue}let y=0;for(let d=0;d<this._siblingOffset.length;d++){Tf((f<<1)+this._siblingOffset[d][0],(m<<1)+this._siblingOffset[d][1],g+1,e,t,n,i,u,h),u[2]=-100,h[2]=this.maximums[this.childOffsets[s]+d]*a;const p=xf(u,h,r,o);if(null!=p){const e=p;l[d]=e;let t=!1;for(let n=0;n<y&&!t;n++)e>=l[c[n]]&&(c.splice(n,0,d),t=!0);t||(c[y]=d),y++}}for(let e=0;e<y;e++){const t=c[e];d.push({idx:this.childOffsets[s]+t,t:l[t],nodex:(f<<1)+this._siblingOffset[t][0],nodey:(m<<1)+this._siblingOffset[t][1],depth:g+1})}}return null}_addNode(e,t,n){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(n),this.childOffsets.push(0),this.nodeCount++}_construct(e,t,n,i,r){if(1===e[i].isLeaf(t,n))return;this.childOffsets[r]||(this.childOffsets[r]=this.nodeCount);const o=i-1,a=e[o];let s=0,l=0;for(let e=0;e<this._siblingOffset.length;e++){const i=2*t+this._siblingOffset[e][0],r=2*n+this._siblingOffset[e][1],o=a.getElevation(i,r),c=a.isLeaf(i,r),u=this._addNode(o.min,o.max,c);c&&(s|=1<<e),l||(l=u)}for(let i=0;i<this._siblingOffset.length;i++)s&1<<i||this._construct(e,2*t+this._siblingOffset[i][0],2*n+this._siblingOffset[i][1],o,l+i)}}function Sf(e,t,n,i,r,o){return Cn(Cn(e,n,o),Cn(t,i,o),r)}function Mf(e,t,n){const i=n.dim,r=S(e*i-.5,0,i-1),o=S(t*i-.5,0,i-1),a=Math.floor(r),s=Math.floor(o),l=Math.min(a+1,i-1),c=Math.min(s+1,i-1);return Sf(n.get(a,s),n.get(l,s),n.get(a,c),n.get(l,c),r-a,o-s)}const If={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Cf{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,t,n,i=!1,r=!1){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return V(`"${n}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;const o=this.dim=t.height-2,a=new Uint32Array(t.data.buffer);if(this.pixels=new Uint8Array(t.data.buffer),this.encoding=n||"mapbox",this.borderReady=i,!i){for(let e=0;e<o;e++)a[this._idx(-1,e)]=a[this._idx(0,e)],a[this._idx(o,e)]=a[this._idx(o-1,e)],a[this._idx(e,-1)]=a[this._idx(e,0)],a[this._idx(e,o)]=a[this._idx(e,o-1)];a[this._idx(-1,-1)]=a[this._idx(0,0)],a[this._idx(o,-1)]=a[this._idx(o-1,0)],a[this._idx(-1,o)]=a[this._idx(0,o-1)],a[this._idx(o,o)]=a[this._idx(o-1,o-1)],r&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Ef(this)}get(e,t,n=!1){n&&(e=S(e,-1,this.dim),t=S(t,-1,this.dim));const i=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[i],this.pixels[i+1],this.pixels[i+2])}static getUnpackVector(e){return If[e]}get unpackVector(){return If[this.encoding]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}_unpackMapbox(e,t,n){return(256*e*256+256*t+n)/10-1e4}_unpackTerrarium(e,t,n){return 256*e+t+n/256-32768}static pack(e,t){const n=[0,0,0,0],i=Cf.getUnpackVector(t);let r=Math.floor((e+i[3])/i[2]);return n[2]=r%256,r=Math.floor(r/256),n[1]=r%256,r=Math.floor(r/256),n[0]=r,n}getPixels(){return new ac({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let i=t*this.dim,r=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:i=r-1;break;case 1:r=i+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}const s=-t*this.dim,l=-n*this.dim;for(let t=o;t<a;t++)for(let n=i;n<r;n++){const i=4*this._idx(n,t),r=4*this._idx(n+s,t+l);this.pixels[i+0]=e.pixels[r+0],this.pixels[i+1]=e.pixels[r+1],this.pixels[i+2]=e.pixels[r+2],this.pixels[i+3]=e.pixels[r+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}zr(Cf,"DEMData"),zr(Ef,"DemMinMaxQuadTree",{omit:["dem"]});class kf{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,n){const i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);const r={value:t,timeout:void 0};if(void 0!==n&&(r.timeout=setTimeout(()=>{this.remove(e,r)},n)),this.data[i].push(r),this.order.push(i),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const n=e.wrapped().key,i=void 0===t?0:this.data[n].indexOf(t),r=this.data[n][i];return this.data[n].splice(i,1),r.timeout&&clearTimeout(r.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(r.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const n in this.data)for(const i of this.data[n])e(i.value)||t.push(i);for(const e of t)this.remove(e.value.tileID,e)}}class Af{constructor(e,t,n){this.func=e,this.mask=t,this.range=n}}Af.ReadOnly=!1,Af.ReadWrite=!0,Af.disabled=new Af(519,Af.ReadOnly,[0,1]);class Pf{constructor(e,t,n,i,r,o){this.test=e,this.ref=t,this.mask=n,this.fail=i,this.depthFail=r,this.pass=o}}Pf.disabled=new Pf({func:519,mask:0},0,0,7680,7680,7680);class zf{constructor(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n}}zf.Replace=[1,0],zf.disabled=new zf(zf.Replace,Ct.transparent,[!1,!1,!1,!1]),zf.unblended=new zf(zf.Replace,Ct.transparent,[!0,!0,!0,!0]),zf.alphaBlended=new zf([1,771],Ct.transparent,[!0,!0,!0,!0]);class Df{constructor(e,t,n){this.enable=e,this.mode=t,this.frontFace=n}}Df.disabled=new Df(!1,1029,2305),Df.backCCW=new Df(!0,1029,2305),Df.backCW=new Df(!0,1029,2304),Df.frontCW=new Df(!0,1028,2304),Df.frontCCW=new Df(!0,1028,2305);class Lf extends Ye{constructor(e,t,n){super(),this.id=e,this._onlySymbols=n,t.on("data",e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),t.on("error",()=>{this._sourceErrored=!0}),this._source=t,this._tiles={},this._cache=new kf(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new _f,this._isRaster="raster"===this._source.type||"raster-dem"===this._source.type||"custom"===this._source.type&&"raster"===this._source._dataType}onAdd(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}getIds(){return k(this._tiles).map(e=>e.tileID).sort(Of).map(e=>e.key)}getRenderableIds(e){const t=[];for(const n in this._tiles)this._isIdRenderable(+n,e)&&t.push(this._tiles[n]);return e?t.sort((e,t)=>{const n=e.tileID,i=t.tileID,r=new m(n.canonical.x,n.canonical.y)._rotate(this.transform.angle),o=new m(i.canonical.x,i.canonical.y)._rotate(this.transform.angle);return n.overscaledZ-i.overscaledZ||o.y-r.y||o.x-r.x}).map(e=>e.tileID.key):t.map(e=>e.tileID).sort(Of).map(e=>e.key)}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,t){const n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}_tileLoaded(e,t,n,i){if(i)if(e.state="errored",404!==i.status)this._source.fire(new Xe(i,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const e=this.map.painter.terrain;this.update(this.transform,e.getScaledDemTileSize(),!0),e.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=We.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new He("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const t=this.getRenderableIds();for(let i=0;i<t.length;i++){const r=t[i];if(e.neighboringTiles&&e.neighboringTiles[r]){const t=this.getTileByID(r);n(e,t),n(t,e)}}function n(e,t){if(!e.dem||e.dem.borderReady)return;e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;let n=t.tileID.canonical.x-e.tileID.canonical.x;const i=t.tileID.canonical.y-e.tileID.canonical.y,r=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===i||Math.abs(i)>1||(Math.abs(n)>1&&(1===Math.abs(n+r)?n+=r:1===Math.abs(n-r)&&(n-=r)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,i),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,n,i){for(const r in this._tiles){let o=this._tiles[r];if(i[r]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>n)continue;let a=o.tileID;for(;o&&o.tileID.overscaledZ>t+1;){const e=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[e.key],o&&o.hasData()&&(a=e)}let s=a;for(;s.overscaledZ>t;)if(s=s.scaledTo(s.overscaledZ-1),e[s.key]){i[a.key]=a;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(let n=e.overscaledZ-1;n>=t;n--){const t=e.scaledTo(n),i=this._getLoadedTile(t);if(i)return i}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,t){t=t||this._source.tileSize;const n=Math.ceil(e.width/t)+1,i=Math.ceil(e.height/t)+1,r=Math.floor(n*i*5),o="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,r):r,a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,o):o;this._cache.setMaxSize(a)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const n in this._tiles){const i=this._tiles[n];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),e[i.tileID.key]=i}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(+e,this._tiles[e])}}update(e,t,n){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!n)return;let i;this.updateCacheSize(e,t),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(e=>new Du(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)):(i=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!n,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(i=i.filter(e=>this._source.hasTile(e)))):i=[];const r=this._updateRetainedTiles(i);if(Rf(this._source.type)&&0!==i.length){const e={},t={},n=Object.keys(r);for(const i of n){const n=r[i],o=this._tiles[i];if(!o||o.fadeEndTime&&o.fadeEndTime<=We.now())continue;const a=this.findLoadedParent(n,Math.max(n.overscaledZ-Lf.maxOverzooming,this._source.minzoom));a&&(this._addTile(a.tileID),e[a.tileID.key]=a.tileID),t[i]=n}const o=i[i.length-1].overscaledZ;for(const e in this._tiles){const n=this._tiles[e];if(r[e]||!n.hasData())continue;let i=n.tileID;for(;i.overscaledZ>o;){i=i.scaledTo(i.overscaledZ-1);const o=this._tiles[i.key];if(o&&o.hasData()&&t[i.key]){r[e]=n.tileID;break}}}for(const t in e)r[t]||(this._coveredTiles[t]=!0,r[t]=e[t])}for(const e in r)this._tiles[e].clearFadeHold();const o=function(e,t){const n=[];for(const i in e)i in t||n.push(i);return n}(this._tiles,r);for(const e of o){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(+e)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const t={};if(0===e.length)return t;const n={},i=e.reduce((e,t)=>Math.min(e,t.overscaledZ),1/0),r=e[0].overscaledZ,o=Math.max(r-Lf.maxOverzooming,this._source.minzoom),a=Math.max(r+Lf.maxUnderzooming,this._source.minzoom),s={};for(const n of e){const e=this._addTile(n);t[n.key]=n,e.hasData()||i<this._source.maxzoom&&(s[n.key]=n)}this._retainLoadedChildren(s,i,a,t);for(const i of e){let e=this._tiles[i.key];if(e.hasData())continue;if(i.canonical.z>=this._source.maxzoom){const e=i.children(this._source.maxzoom)[0],n=this.getTile(e);if(n&&n.hasData()){t[e.key]=e;continue}}else{const e=i.children(this._source.maxzoom);if(t[e[0].key]&&t[e[1].key]&&t[e[2].key]&&t[e[3].key])continue}let r=e.wasRequested();for(let a=i.overscaledZ-1;a>=o;--a){const o=i.scaledTo(a);if(n[o.key])break;if(n[o.key]=!0,e=this.getTile(o),!e&&r&&(e=this._addTile(o)),e&&(t[o.key]=o,r=e.wasRequested(),e.hasData()))break}}return t}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let n,i=this._tiles[e].tileID;for(;i.overscaledZ>0;){if(i.key in this._loadedParentTiles){n=this._loadedParentTiles[i.key];break}t.push(i.key);const e=i.scaledTo(i.overscaledZ-1);if(n=this._getLoadedTile(e),n)break;i=e}for(const e of t)this._loadedParentTiles[e]=n}}_addTile(e){let t=this._tiles[e.key];if(t)return t;t=this._cache.getAndRemove(e),t&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));const n=Boolean(t);if(!n){const n=this.map?this.map.painter:null;t=new yf(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,n,this._isRaster),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))}return t?(t.uses++,this._tiles[e.key]=t,n||this._source.fire(new He("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},n))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(e,t,n){const i=[],r=this.transform;if(!r)return i;const o="globe"===r.projection.name,a=vs(r.center.lng);for(const s in this._tiles){const l=this._tiles[s];if(n&&l.clearQueryDebugViz(),l.holdingForFade())continue;let c;if(o){const e=l.tileID.canonical;if(0===e.z){const t=[Math.abs(S(a,...Bf(e,-1))-a),Math.abs(S(a,...Bf(e,1))-a)];c=[0,2*t.indexOf(Math.min(...t))-1]}else{const t=[Math.abs(S(a,...Bf(e,-1))-a),Math.abs(S(a,...Bf(e,0))-a),Math.abs(S(a,...Bf(e,1))-a)];c=[t.indexOf(Math.min(...t))-1]}}else c=[0];for(const n of c){const o=e.containsTile(l,r,t,n);o&&i.push(o)}}return i}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map(e=>this._tiles[e].tileID);for(const e of t)e.projMatrix=this.transform.calculateProjMatrix(e.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(Rf(this._source.type))for(const e in this._tiles){const t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=We.now())return!0}return!1}setFeatureState(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}removeFeatureState(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,n){const i=this._tiles[e];i&&i.setDependencies(t,n)}reloadTilesForDependencies(e,t){for(const n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(+n,"reloading");this._cache.filter(n=>!n.hasDependency(e,t))}_preloadTiles(e,t){const n=new Map,i=Array.isArray(e)?e:[e],r=this.map.painter.terrain,o=this.usedForTerrain&&r?r.getScaledDemTileSize():this._source.tileSize;for(const e of i){const t=e.coveringTiles({tileSize:o,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const e of t)n.set(e.key,e);this.usedForTerrain&&e.updateElevation(!1)}C(Array.from(n.values()),(e,t)=>{const n=new yf(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(n,e=>{"raster-dem"===this._source.type&&n.dem&&this._backfillDEM(n),t(e,n)})},t)}}function Of(e,t){const n=Math.abs(2*e.wrap)-+(e.wrap<0),i=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||i-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Rf(e){return"raster"===e||"image"===e||"video"===e||"custom"===e}function Bf(e,t){const n=1<<e.z;return[e.x/n+t,(e.x+1)/n+t]}Lf.maxOverzooming=10,Lf.maxUnderzooming=3;class jf{constructor(e,t,n){this._demTile=e,this._dem=this._demTile.dem,this._scale=t,this._offset=n}static create(e,t,n){const i=n||e.findDEMTileFor(t);if(!i||!i.dem)return;const r=i.dem,o=i.tileID,a=1<<t.canonical.z-o.canonical.z;return new jf(i,i.tileSize/ps/a,[(t.canonical.x/a-o.canonical.x)*r.dim,(t.canonical.y/a-o.canonical.y)*r.dim])}tileCoordToPixel(e,t){const n=t*this._scale+this._offset[1],i=Math.floor(e*this._scale+this._offset[0]),r=Math.floor(n);return new m(i,r)}getElevationAt(e,t,n,i){const r=e*this._scale+this._offset[0],o=t*this._scale+this._offset[1],a=Math.floor(r),s=Math.floor(o),l=this._dem;return i=!!i,n?Cn(Cn(l.get(a,s,i),l.get(a,s+1,i),o-s),Cn(l.get(a+1,s,i),l.get(a+1,s+1,i),o-s),r-a):l.get(a,s,i)}getElevationAtPixel(e,t,n){return this._dem.get(e,t,!!n)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*bs(1,e)*this._dem.stride}}class Ff{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new kr(ps,16,0),this.featureIndexArray=new Aa,this.promoteId=t}insert(e,t,n,i,r,o=0){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,i,r,o);const s=this.grid;for(let e=0;e<t.length;e++){const n=t[e],i=[1/0,1/0,-1/0,-1/0];for(let e=0;e<n.length;e++){const t=n[e];i[0]=Math.min(i[0],t.x),i[1]=Math.min(i[1],t.y),i[2]=Math.max(i[2],t.x),i[3]=Math.max(i[3],t.y)}i[0]<ps&&i[1]<ps&&i[2]>=0&&i[3]>=0&&s.insert(a,i[0],i[1],i[2],i[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new hu(new dh(this.rawTileData)).layers,this.sourceLayerCoder=new sf(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[]}return this.vtLayers}query(e,t,n,i){this.loadVTLayers();const r=e.params||{},o=Ki(r.filter),a=e.tileResult,s=e.transform,l=a.bufferedTilespaceBounds,c=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,(e,t,n,i)=>Ys(a.bufferedTilespaceGeometry,e,t,n,i));c.sort(Uf);let u=null;s.elevation&&c.length>0&&(u=jf.create(s.elevation,this.tileID));const h={};let d;for(let s=0;s<c.length;s++){const l=c[s];if(l===d)continue;d=l;const p=this.featureIndexArray.get(l);let f=null;this.loadMatchingFeature(h,p,o,r.layers,r.availableImages,t,n,i,(t,n,i,r=0)=>(f||(f=Os(t,this.tileID.canonical,e.tileTransform)),n.queryIntersectsFeature(a,t,i,f,this.z,e.transform,e.pixelPosMatrix,u,r)))}return h}loadMatchingFeature(e,t,n,i,r,o,a,s,l){const{featureIndex:c,bucketIndex:u,sourceLayerIndex:h,layoutVertexArrayOffset:d}=t,p=this.bucketLayerIDs[u];if(i&&!function(e,t){for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(i,p))return;const f=this.sourceLayerCoder.decode(h),m=this.vtLayers[f].feature(c);if(n.needGeometry){const e=Rs(m,!0);if(!n.filter(new Po(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!n.filter(new Po(this.tileID.overscaledZ),m))return;const g=this.getId(m,f);for(let t=0;t<p.length;t++){const n=p[t];if(i&&i.indexOf(n)<0)continue;const u=o[n];if(!u)continue;let h={};void 0!==g&&s&&(h=s.getState(u.sourceLayer||"_geojsonTileLayer",g));const f=A({},a[n]);f.paint=Nf(f.paint,u.paint,m,h,r),f.layout=Nf(f.layout,u.layout,m,h,r);const y=!l||l(m,u,h,d);if(!y)continue;const _=new cf(m,this.z,this.x,this.y,g);_.layer=f;let v=e[n];void 0===v&&(v=e[n]=[]),v.push({featureIndex:c,feature:_,intersectionZ:y})}}lookupSymbolFeatures(e,t,n,i,r,o,a,s){const l={};this.loadVTLayers();const c=Ki(r);for(const r of e)this.loadMatchingFeature(l,{bucketIndex:n,sourceLayerIndex:i,featureIndex:r,layoutVertexArrayOffset:0},c,o,a,s,t);return l}loadFeature(e){const{featureIndex:t,sourceLayerIndex:n}=e;this.loadVTLayers();const i=this.sourceLayerCoder.decode(n),r=this.vtFeatures[i];if(r[t])return r[t];const o=this.vtLayers[i].feature(t);return r[t]=o,o}hasLayer(e){for(const t of this.bucketLayerIDs)for(const n of t)if(e===n)return!0;return!1}getId(e,t){let n=e.id;if(this.promoteId){const i="string"==typeof this.promoteId?this.promoteId:this.promoteId[t];null!=i&&(n=e.properties[i]),"boolean"==typeof n&&(n=Number(n))}return n}}function Nf(e,t,n,i,r){return j(e,(e,o)=>{const a=t instanceof Fo?t.get(o):null;return a&&a.evaluate?a.evaluate(n,i,r):a})}function Uf(e,t){return t-e}zr(Ff,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class Vf{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.image=new oc({width:e,height:t}),this.positions={},this.uploaded=!1}getDash(e,t){const n=this.getKey(e,t);return this.positions[n]}trim(){const e=this.width,t=this.height=L(this.nextRow);this.image.resize({width:e,height:t})}getKey(e,t){return e.join(",")+t}getDashRanges(e,t,n){const i=[];let r=e.length%2==1?-e[e.length-1]*n:0,o=e[0]*n,a=!0;i.push({left:r,right:o,isDash:a,zeroLength:0===e[0]});let s=e[0];for(let t=1;t<e.length;t++){a=!a;const l=e[t];r=s*n,s+=l,o=s*n,i.push({left:r,right:o,isDash:a,zeroLength:0===l})}return i}addRoundDash(e,t,n){const i=t/2;for(let t=-n;t<=n;t++){const r=this.width*(this.nextRow+n+t);let o=0,a=e[o];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++o]);const l=Math.abs(s-a.left),c=Math.abs(s-a.right),u=Math.min(l,c);let h;const d=t/n*(i+1);if(a.isDash){const e=i-Math.abs(d);h=Math.sqrt(u*u+e*e)}else h=i-Math.sqrt(u*u+d*d);this.image.data[r+s]=Math.max(0,Math.min(255,h+128))}}}addRegularDash(e,t){for(let t=e.length-1;t>=0;--t){const n=e[t],i=e[t+1];n.zeroLength?e.splice(t,1):i&&i.isDash===n.isDash&&(i.left=n.left,e.splice(t,1))}const n=e[0],i=e[e.length-1];n.isDash===i.isDash&&(n.left=i.left-this.width,i.right=n.right+this.width);const r=this.width*this.nextRow;let o=0,a=e[o];for(let n=0;n<this.width;n++){n/a.right>1&&(a=e[++o]);const i=Math.abs(n-a.left),s=Math.abs(n-a.right),l=Math.min(i,s);this.image.data[r+n]=Math.max(0,Math.min(255,(a.isDash?l:-l)+t+128))}}addDash(e,t){const n=this.getKey(e,t);if(this.positions[n])return this.positions[n];const i="round"===t,r=i?7:0,o=2*r+1;if(this.nextRow+o>this.height)return V("LineAtlas out of space"),null;0===e.length&&e.push(1);let a=0;for(let t=0;t<e.length;t++)e[t]<0&&(V("Negative value is found in line dasharray, replacing values with 0"),e[t]=0),a+=e[t];if(0!==a){const n=this.width/a,o=this.getDashRanges(e,this.width,n);i?this.addRoundDash(o,n,r):this.addRegularDash(o,"square"===t?.5*n:0)}const s=this.nextRow+r;this.nextRow+=o;const l={tl:[s,r],br:[a,0]};return this.positions[n]=l,l}}zr(Vf,"LineAtlas");class Gf{constructor(e){const t={},n=[];for(const i in e){const r=e[i],o=t[i]={};for(const e in r.glyphs){const t=r.glyphs[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const i=t.metrics.localGlyph?2:1,a={x:0,y:0,w:t.bitmap.width+2*i,h:t.bitmap.height+2*i};n.push(a),o[e]=a}}const{w:i,h:r}=Bh(n),o=new oc({width:i||1,height:r||1});for(const n in e){const i=e[n];for(const e in i.glyphs){const r=i.glyphs[+e];if(!r||0===r.bitmap.width||0===r.bitmap.height)continue;const a=t[n][e],s=r.metrics.localGlyph?2:1;oc.copy(r.bitmap,o,{x:0,y:0},{x:a.x+s,y:a.y+s},r.bitmap)}}this.image=o,this.positions=t}}zr(Gf,"GlyphAtlas");class Zf{constructor(e){this.tileID=new Du(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile,this.tileTransform=gp(e.tileID.canonical,e.projection),this.projection=e.projection}parse(e,t,n,i,r){this.status="parsing",this.data=e,this.collisionBoxArray=new wa;const o=new sf(Object.keys(e.layers).sort()),a=new Ff(this.tileID,this.promoteId);a.bucketLayerIDs=[];const s={},l=new Vf(256,256),c={featureIndex:a,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:l,availableImages:n},u=t.familiesBySource[this.source];for(const t in u){const i=e.layers[t];if(!i)continue;let r=!1,l=!1;for(const e of u[t])"symbol"===e[0].type?r=!0:l=!0;if(!0===this.isSymbolTile&&!r)continue;if(!1===this.isSymbolTile&&!l)continue;1===i.version&&V(`Vector tile source "${this.source}" layer "${t}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const h=o.encode(t),d=[];for(let e=0;e<i.length;e++){const n=i.feature(e),r=a.getId(n,t);d.push({feature:n,id:r,index:e,sourceLayerIndex:h})}for(const e of u[t]){const t=e[0];void 0!==this.isSymbolTile&&"symbol"===t.type!==this.isSymbolTile||t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||"none"!==t.visibility&&(Wf(e,this.zoom,n),(s[t.id]=t.createBucket({index:a.bucketLayerIDs.length,layers:e,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:h,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:n})).populate(d,c,this.tileID.canonical,this.tileTransform),a.bucketLayerIDs.push(e.map(e=>e.id)))}}let h,d,p,f;l.trim();const m={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},g=j(c.glyphDependencies,e=>Object.keys(e).map(Number));Object.keys(g).length?i.send("getGlyphs",{uid:this.uid,stacks:g},(e,t)=>{h||(h=e,d=t,v.call(this))},void 0,!1,m):d={};const y=Object.keys(c.iconDependencies);y.length?i.send("getImages",{icons:y,source:this.source,tileID:this.tileID,type:"icons"},(e,t)=>{h||(h=e,p=t,v.call(this))},void 0,!1,m):p={};const _=Object.keys(c.patternDependencies);function v(){if(h)return r(h);if(d&&p&&f){const e=new Gf(d),t=new Fh(p,f);for(const i in s){const r=s[i];r instanceof qp?(Wf(r.layers,this.zoom,n),Id(r,d,e.positions,p,t.iconPositions,this.showCollisionBoxes,n,this.tileID.canonical,this.tileZoom,this.projection)):r.hasPattern&&(r instanceof Wu||r instanceof qc||r instanceof vu)&&(Wf(r.layers,this.zoom,n),r.addFeatures(c,this.tileID.canonical,t.patternPositions,n,this.tileTransform))}this.status="done",r(null,{buckets:k(s).filter(e=>!e.isEmpty()),featureIndex:a,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:l,imageAtlas:t,glyphMap:this.returnDependencies?d:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?e.positions:null})}}_.length?i.send("getImages",{icons:_,source:this.source,tileID:this.tileID,type:"patterns"},(e,t)=>{h||(h=e,f=t,v.call(this))},void 0,!1,m):f={},v.call(this)}}function Wf(e,t,n){const i=new Po(t);for(const t of e)t.recalculate(i,n)}class qf{constructor(e){this.entries={},this.scheduler=e}request(e,t,n,i){const r=this.entries[e]=this.entries[e]||{callbacks:[]};if(r.result){const[e,n]=r.result;return this.scheduler?this.scheduler.add(()=>{i(e,n)},t):i(e,n),()=>{}}return r.callbacks.push(i),r.cancel||(r.cancel=n((n,i)=>{r.result=[n,i];for(const e of r.callbacks)this.scheduler?this.scheduler.add(()=>{e(n,i)},t):e(n,i);setTimeout(()=>delete this.entries[e],3e3)})),()=>{r.result||(r.callbacks=r.callbacks.filter(e=>e!==i),r.callbacks.length||(r.cancel(),delete this.entries[e]))}}}function $f(e,t,n){const i=JSON.stringify(e.request);return e.data&&(this.deduped.entries[i]={result:[null,e.data]}),this.deduped.request(i,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},t=>{const i=ue(e.request,(e,i,r,o)=>{e?t(e):i&&t(null,{vectorTile:n?void 0:new hu(new dh(i)),rawData:i,cacheControl:r,expires:o})});return()=>{i.cancel(),t()}},t)}e.ARRAY_TYPE=ol,e.AUTH_ERR_MSG=ge,e.Aabb=Xl,e.Actor=class{constructor(e,t,i){this.target=e,this.parent=t,this.mapId=i,this.callbacks={},this.cancelCallbacks={},R(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=W()?e:n,this.scheduler=new af}send(e,t,n,i,r=!1,o){const a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(n.metadata=o,this.callbacks[a]=n);const s=H(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!n,targetMapId:i,mustQueue:r,sourceMapId:this.mapId,data:Or(t,s)},s),{cancel:()=>{n&&delete this.callbacks[a],this.target.postMessage({id:a,type:"<cancel>",targetMapId:i,sourceMapId:this.mapId})}}}receive(e){const t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){const e=this.cancelCallbacks[n];delete this.cancelCallbacks[n],e&&e.cancel()}else if(t.mustQueue||W()){const e=this.callbacks[n];this.cancelCallbacks[n]=this.scheduler.add(()=>this.processTask(n,t),e&&e.metadata||{type:"message"})}else this.processTask(n,t)}processTask(e,t){if("<response>"===t.type){const n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(Rr(t.error)):n(null,Rr(t.data)))}else{const n=H(this.globalScope)?void 0:[],i=t.hasCallback?(t,i)=>{delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:"<response>",sourceMapId:this.mapId,error:t?Or(t):null,data:Or(i,n)},n)}:e=>{},r=Rr(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,r,i);else if(this.parent.getWorkerSource){const e=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,e[0],r.source)[e[1]](r,i)}else i(new Error("Could not find function "+t.type))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.CanonicalTileID=Pu,e.Color=Ct,e.ColorMode=zf,e.CullFaceMode=Df,e.DEMData=Cf,e.DataConstantProperty=No,e.DedupedRequest=qf,e.DepthMode=Af,e.EXTENT=ps,e.Elevation=class{isDataAvailableAtPoint(e){const t=this._source();if(this.isUsingMockSource()||!t||e.y<0||e.y>1)return!1;const n=t.getSource().maxzoom,i=1<<n,r=Math.floor(e.x),o=Math.floor((e.x-r)*i),a=Math.floor(e.y*i),s=this.findDEMTileFor(new Du(n,r,n,o,a));return!(!s||!s.dem)}getAtPointOrZero(e,t=0){return this.getAtPoint(e,t)||0}getAtPoint(e,t,n=!0){if(this.isUsingMockSource())return null;null==t&&(t=null);const i=this._source();if(!i)return t;if(e.y<0||e.y>1)return t;const r=i.getSource().maxzoom,o=1<<r,a=Math.floor(e.x),s=e.x-a,l=new Du(r,a,r,Math.floor(s*o),Math.floor(e.y*o)),c=this.findDEMTileFor(l);if(!c||!c.dem)return t;const u=c.dem,h=1<<c.tileID.canonical.z,d=(s*h-c.tileID.canonical.x)*u.dim,p=(e.y*h-c.tileID.canonical.y)*u.dim,f=Math.floor(d),m=Math.floor(p);return(n?this.exaggeration():1)*Cn(Cn(u.get(f,m),u.get(f,m+1),p-m),Cn(u.get(f+1,m),u.get(f+1,m+1),p-m),d-f)}getAtTileOffset(e,t,n){const i=1<<e.canonical.z;return this.getAtPointOrZero(new Is(e.wrap+(e.canonical.x+t/ps)/i,(e.canonical.y+n/ps)/i))}getAtTileOffsetFunc(e,t,n,i){return r=>{const o=this.getAtTileOffset(e,r.x,r.y),a=i.upVector(e.canonical,r.x,r.y);return Il(a,a,o*i.upVectorScale(e.canonical,t,n).metersToTile),a}}getForTilePoints(e,t,n,i){if(this.isUsingMockSource())return!1;const r=jf.create(this,e,i);return!!r&&(t.forEach(e=>{e[2]=this.exaggeration()*r.getElevationAt(e[0],e[1],n)}),!0)}getMinMaxForTile(e){if(this.isUsingMockSource())return null;const t=this.findDEMTileFor(e);if(!t||!t.dem)return null;const n=t.dem.tree,i=t.tileID,r=1<<e.canonical.z-i.canonical.z;let o=e.canonical.x/r-i.canonical.x,a=e.canonical.y/r-i.canonical.y,s=0;for(let t=0;t<e.canonical.z-i.canonical.z&&!n.leaves[s];t++){o*=2,a*=2;const e=2*Math.floor(a)+Math.floor(o);s=n.childOffsets[s]+e,o%=1,a%=1}return{min:this.exaggeration()*n.minimums[s],max:this.exaggeration()*n.maximums[s]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(e,t,n){throw new Error("Pure virtual method called.")}pointCoordinate(e){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(e){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},e.ErrorEvent=Xe,e.EvaluationParameters=Po,e.Event=He,e.Evented=Ye,e.FillExtrusionBucket=vu,e.Frustum=Hl,e.FrustumCorners=$l,e.GLOBE_METERS_TO_ECEF=Ud,e.GLOBE_RADIUS=Nd,e.GLOBE_SCALE_MATCH_LATITUDE=45,e.GLOBE_ZOOM_THRESHOLD_MAX=6,e.GLOBE_ZOOM_THRESHOLD_MIN=5,e.GlobeSharedBuffers=class{constructor(e){this._createGrid(e),this._createPoles(e)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const e of this._poleSegments)e.destroy();for(const e of this._gridSegments)e.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const e of this._wireframeSegments)e.destroy()}}_createGrid(e){const t=new Yo,n=new da,i=65;for(let e=0;e<i;e++)for(let n=0;n<i;n++)t.emplaceBack(n,e);this._gridSegments=[];for(let e=0,t=0;e<Vd.length;e++){const r=Vd[e];for(let e=0;e<r;e++)for(let t=0;t<64;t++){const r=e*i+t;n.emplaceBack(r+1,r,r+i),n.emplaceBack(r+i,r+i+1,r+1)}const o=64*r*2;this._gridSegments.push(ds.simpleSegment(0,t,(r+1)*i,o)),t+=o}this._gridBuffer=e.createVertexBuffer(t,Fd.members),this._gridIndexBuffer=e.createIndexBuffer(n,!0)}_createPoles(e){const t=new da;for(let e=0;e<=64;e++)t.emplaceBack(0,e+1,e+2);this._poleIndexBuffer=e.createIndexBuffer(t,!0);const n=new ga,i=new ga;this._poleSegments=[];for(let e=0,t=0;e<5;e++){const r=360/(1<<e);n.emplaceBack(0,-Nd,0,.5,0),i.emplaceBack(0,-Nd,0,.5,1);for(let e=0;e<=64;e++){const t=e/64,o=Cn(0,r,t),[a,s,l]=tp(pp,fp,o,Nd);n.emplaceBack(a,s,l,t,0),i.emplaceBack(a,s,l,t,1)}this._poleSegments.push(ds.simpleSegment(t,0,66,64)),t+=66}this._poleNorthVertexBuffer=e.createVertexBuffer(n,Bd,!1),this._poleSouthVertexBuffer=e.createVertexBuffer(i,Bd,!1)}getGridBuffers(e){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[e]]}getPoleBuffers(e){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[e]]}getWirefameBuffers(e,t){if(!this._wireframeSegments){const t=new _a,n=64,i=n+1;this._wireframeSegments=[];for(let e=0,r=0;e<Vd.length;e++){const o=Vd[e];for(let e=0;e<o;e++)for(let r=0;r<n;r++){const n=e*i+r;t.emplaceBack(n,n+1),t.emplaceBack(n,n+i),t.emplaceBack(n,n+i+1)}const a=o*n*3;this._wireframeSegments.push(ds.simpleSegment(0,r,(o+1)*i,a)),r+=a}this._wireframeIndexBuffer=e.createIndexBuffer(t)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}},e.GlyphManager=dd,e.ImagePosition=jh,e.LivePerformanceUtils=Be,e.LngLat=gs,e.LngLatBounds=fs,e.LocalGlyphMode=hd,e.MAX_MERCATOR_LATITUDE=Ss,e.MercatorCoordinate=Is,e.ONE_EM=24,e.OverscaledTileID=Du,e.PerformanceMarkers=Re,e.Properties=Go,e.RGBAImage=ac,e.Ray=ql,e.RequestManager=class{constructor(e,t,n){this._transformRequestFn=e,this._customAccessToken=t,this._silenceAuthErrors=!!n,this._createSkuToken()}_createSkuToken(){const e=function(){let e="";for(let t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",d,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeStyleURL(e,t){if(!ye(e))return e;const n=Te(e);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)}normalizeGlyphsURL(e,t){if(!ye(e))return e;const n=Te(e);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)}normalizeSourceURL(e,t,n,i){if(!ye(e))return e;const r=Te(e);return r.path=`/v4/${r.authority}.json`,r.params.push("secure"),n&&r.params.push("language="+n),i&&r.params.push("worldview="+i),this._makeAPIURL(r,this._customAccessToken||t)}normalizeSpriteURL(e,t,n,i){const r=Te(e);return ye(e)?(r.path=`/styles/v1${r.path}/sprite${t}${n}`,this._makeAPIURL(r,this._customAccessToken||i)):(r.path+=`${t}${n}`,Ee(r))}normalizeTileURL(e,t,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!ye(e))return e;const i=Te(e);i.path=i.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${t||n&&"raster"!==i.authority&&512===n?"@2x":""}${a.supported?".webp":"$1"}`),"raster"===i.authority?i.path=`/${o.RASTER_URL_PREFIX}${i.path}`:(i.path=i.path.replace(/^.+\/v4\//,"/"),i.path=`/${o.TILE_URL_VERSION}${i.path}`);const r=this._customAccessToken||function(e){for(const t of e){const e=t.match(/^access_token=(.*)$/);if(e)return e[1]}return null}(i.params)||o.ACCESS_TOKEN;return o.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&i.params.push("sku="+this._skuToken),this._makeAPIURL(i,r)}canonicalizeTileURL(e,t){const n=Te(e);if(!n.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!n.path.match(/\.[\w]+$/))return e;let i="mapbox://";n.path.match(/^\/raster\/v1\//)?i+="raster/"+n.path.replace(`/${o.RASTER_URL_PREFIX}/`,""):i+="tiles/"+n.path.replace(`/${o.TILE_URL_VERSION}/`,"");let r=n.params;return t&&(r=r.filter(e=>!e.match(/^access_token=/))),r.length&&(i+="?"+r.join("&")),i}canonicalizeTileset(e,t){const n=!!t&&ye(t),i=[];for(const t of e.tiles||[])_e(t)?i.push(this.canonicalizeTileURL(t,n)):i.push(t);return i}_makeAPIURL(e,t){const n="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",i=Te(o.API_URL);if(e.protocol=i.protocol,e.authority=i.authority,"http"===e.protocol){const t=e.params.indexOf("secure");t>=0&&e.params.splice(t,1)}if("/"!==i.path&&(e.path=`${i.path}${e.path}`),!o.REQUIRE_ACCESS_TOKEN)return Ee(e);if(t=t||o.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n)}return e.params=e.params.filter(e=>-1===e.indexOf("access_token")),e.params.push("access_token="+(t||"")),Ee(e)}},e.ResourceType=ae,e.SegmentVector=ds,e.SourceCache=Lf,e.StencilMode=Pf,e.StructArrayLayout1ui2=va,e.StructArrayLayout2f1f2i16=ca,e.StructArrayLayout2i4=Yo,e.StructArrayLayout2ui4=_a,e.StructArrayLayout3f12=ha,e.StructArrayLayout3ui6=da,e.StructArrayLayout4i8=Qo,e.StructArrayLayout5f20=ga,e.Texture=rf,e.Tile=yf,e.Transitionable=Lo,e.Uniform1f=Ga,e.Uniform1i=class extends Va{constructor(e){super(e),this.current=0}set(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1i(this.location,n))}},e.Uniform2f=class extends Va{constructor(e){super(e),this.current=[0,0]}set(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]||(this.current=n,this.gl.uniform2f(this.location,n[0],n[1])))}},e.Uniform3f=class extends Va{constructor(e){super(e),this.current=[0,0,0]}set(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]||(this.current=n,this.gl.uniform3f(this.location,n[0],n[1],n[2])))}},e.Uniform4f=Za,e.UniformColor=Wa,e.UniformMatrix2f=class extends Va{constructor(e){super(e),this.current=Ha}set(e,t,n){if(this.fetchUniformLocation(e,t))for(let e=0;e<4;e++)if(n[e]!==this.current[e]){this.current=n,this.gl.uniformMatrix2fv(this.location,!1,n);break}}},e.UniformMatrix3f=class extends Va{constructor(e){super(e),this.current=$a}set(e,t,n){if(this.fetchUniformLocation(e,t))for(let e=0;e<9;e++)if(n[e]!==this.current[e]){this.current=n,this.gl.uniformMatrix3fv(this.location,!1,n);break}}},e.UniformMatrix4f=class extends Va{constructor(e){super(e),this.current=qa}set(e,t,n){if(this.fetchUniformLocation(e,t)){if(n[12]!==this.current[12]||n[0]!==this.current[0])return this.current=n,void this.gl.uniformMatrix4fv(this.location,!1,n);for(let e=1;e<16;e++)if(n[e]!==this.current[e]){this.current=n,this.gl.uniformMatrix4fv(this.location,!1,n);break}}}},e.UnwrappedTileID=zu,e.ValidationError=Wi,e.VectorTileFeature=du,e.VectorTileWorkerSource=class extends Ye{constructor(e,t,n,i,r){super(),this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||$f,this.loading={},this.loaded={},this.deduped=new qf(e.scheduler),this.isSpriteLoaded=i,this.scheduler=e.scheduler}loadTile(e,t){const n=e.uid,i=e&&e.request,r=i&&i.collectResourceTiming,o=this.loading[n]=new Zf(e);o.abort=this.loadVectorData(e,(a,s)=>{const l=!this.loading[n];if(delete this.loading[n],l||a||!s)return o.status="done",l||(this.loaded[n]=o),t(a);const c=s.rawData,u={};s.expires&&(u.expires=s.expires),s.cacheControl&&(u.cacheControl=s.cacheControl),o.vectorTile=s.vectorTile||new hu(new dh(c));const h=()=>{o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,(e,n)=>{if(e||!n)return t(e);const o={};if(r){const e=Ne(i);e.length>0&&(o.resourceTiming=JSON.parse(JSON.stringify(e)))}t(null,A({rawTileData:c.slice(0)},n,u,o))})};this.isSpriteLoaded?h():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(h,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):h()}),this.loaded=this.loaded||{},this.loaded[n]=o})}reloadTile(e,t){const n=this.loaded,i=e.uid,r=this;if(n&&n[i]){const o=n[i];o.showCollisionBoxes=e.showCollisionBoxes,o.enableTerrain=!!e.enableTerrain,o.projection=e.projection,o.tileTransform=gp(e.tileID.canonical,e.projection);const a=(e,n)=>{const i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,r.layerIndex,this.availableImages,r.actor,i)),t(e,n)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}}abortTile(e,t){const n=e.uid,i=this.loading[n];i&&(i.abort&&i.abort(),delete this.loading[n]),t()}removeTile(e,t){const n=this.loaded,i=e.uid;n&&n[i]&&delete n[i],t()}},e.WritingMode=Nh,e.add=wl,e.addDynamicAttributes=Vp,e.adjoint=function(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8];return e[0]=a*u-s*c,e[1]=r*c-i*u,e[2]=i*s-r*a,e[3]=s*l-o*u,e[4]=n*u-r*l,e[5]=r*o-n*s,e[6]=o*c-a*l,e[7]=i*l-n*c,e[8]=n*a-i*o,e},e.asyncAll=C,e.bezier=T,e.bindAll=R,e.boundsAttributes=mf,e.bufferConvexPolygon=function(e,t){const n=[];for(let i=0;i<e.length;i++){const r=I(i-1,-1,e.length-1),o=I(i+1,-1,e.length-1),a=e[i],s=e[o],l=e[r].sub(a).unit(),c=s.sub(a).unit(),u=c.angleWithSep(l.x,l.y),h=l.add(c).unit().mult(-1*t/Math.sin(u/2));n.push(a.add(h))}return n},e.cacheEntryPossiblyAdded=function(e){oe++,oe>te&&(e.getActor().send("enforceCacheSizeLimit",ee),oe=0)},e.calculateGlobeLabelMatrix=function(e,t){const{x:n,y:i}=e.point,r=lp(n,i,e.worldSize/e._pixelsPerMercatorPixel,0,0);return ul(r,r,sp(Xd(t)))},e.calculateGlobeMatrix=function(e){const{x:t,y:n}=e.point,{lng:i,lat:r}=e._center;return lp(t,n,e.worldSize,i,r)},e.calculateGlobeMercatorMatrix=function(e){const t=e.pixelsPerMeter,n=t/bs(1,e.center.lat),i=ll(new Float64Array(16));return hl(i,i,[e.point.x,e.point.y,0]),dl(i,i,[n,n,t]),Float32Array.from(i)},e.circumferenceAtLatitude=_s,e.clamp=S,e.clearTileCache=function(e){if(!ne())return;const t=n.caches.delete(J);e&&t.catch(e).then(()=>e())},e.clipLine=sd,e.clone=function(e){var t=new ol(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=N,e.collisionCircleLayout=nh,e.config=o,e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.create=function(){var e=new ol(16);return ol!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=al,e.createExpression=Ni,e.createLayout=Ho,e.createStyleLayer=function(e){return"custom"===e.type?new Kp(e):new nf[e.type](e)},e.cross=Pl,e.degToRad=v,e.distance=function(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2])},e.div=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},e.dot=Al,e.earthRadius=ms,e.ease=E,e.easeCubicInOut=w,e.ecefToLatLng=function([e,t,n]){const i=Math.hypot(e,t,n),r=Math.atan2(e,n),o=.5*Math.PI-Math.acos(-t/i);return new gs(x(r),x(o))},e.emitValidationErrors=Cr,e.endsWith=B,e.enforceCacheSizeLimit=function(e){ie(),Q&&Q.then(t=>{t.keys().then(n=>{for(let i=0;i<n.length-e;i++)t.delete(n[i])})})},e.evaluateSizeForFeature=oh,e.evaluateSizeForZoom=ah,e.evaluateVariableOffset=Md,e.evented=Io,e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.exactEquals$1=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.exported=We,e.exported$1=a,e.extend=A,e.extend$1=Qe,e.fillExtrusionHeightLift=Mu,e.filterObject=F,e.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.fromQuat=function(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n+n,s=i+i,l=r+r,c=n*a,u=i*a,h=i*s,d=r*a,p=r*s,f=r*l,m=o*a,g=o*s,y=o*l;return e[0]=1-h-f,e[1]=u+y,e[2]=d-g,e[3]=0,e[4]=u-y,e[5]=1-c-f,e[6]=p+m,e[7]=0,e[8]=d+g,e[9]=p-m,e[10]=1-c-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromRotation=function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=-n,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=ml,e.furthestTileCorner=function(e){const t=Math.round((e+45+360)%360/90)%4;return b[t]},e.getAABBPointSquareDist=function(e,t,n){let i=0;for(let r=0;r<2;++r){const o=n?n[r]:0;e[r]>o&&(i+=(e[r]-o)*(e[r]-o)),t[r]<o&&(i+=(o-t[r])*(o-t[r]))}return i},e.getAnchorAlignment=Yh,e.getAnchorJustification=Cd,e.getBounds=function(e){let t=1/0,n=1/0,i=-1/0,r=-1/0;for(const o of e)t=Math.min(t,o.x),n=Math.min(n,o.y),i=Math.max(i,o.x),r=Math.max(r,o.y);return{min:new m(t,n),max:new m(i,r)}},e.getColumn=Y,e.getGridMatrix=function(e,t,n,i){const r=t.getNorth(),o=t.getSouth(),a=t.getWest(),s=t.getEast(),l=1<<e.z,c=s-a,u=r-o,h=c/64,d=-u/Vd[n],p=[0,h,0,d,0,0,r,a,0];if(e.z>0){const e=180/i;sl(p,p,[e/c+1,0,0,0,e/u+1,0,-.5*e/h,.5*e/d,1])}return p[2]=l,p[5]=e.x,p[8]=e.y,p},e.getImage=me,e.getJSON=function(e,t){return ce(A(e,{type:"json"}),t)},e.getLatitudinalLod=function(e){const t=80.051129;e=S(e,-80.051129,t)/t*90;const n=Math.pow(Math.abs(Math.sin(v(e))),3);return Math.round(n*(Vd.length-1))},e.getMapSessionAPI=Le,e.getPerformanceMeasurement=Ne,e.getProjection=Bp,e.getRTLTextPluginStatus=Co,e.getReferrer=le,e.getTilePoint=function(e,{x:t,y:n},i=0){return new m(((t-i)*e.scale-e.x)*ps,(n*e.scale-e.y)*ps)},e.getTileVec3=function(e,t,n=0){return bl(((t.x-n)*e.scale-e.x)*ps,(t.y*e.scale-e.y)*ps,Es(t.z,t.y))},e.getVideo=function(e,t){const i=n.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(let t=0;t<e.length;t++){const r=n.document.createElement("source");he(e[t])||(i.crossOrigin="Anonymous"),r.src=e[t],i.appendChild(r)}return{cancel:()=>{}}},e.globeCenterToScreenPoint=function(e){const t=[0,0,0],n=ll(new Float64Array(16));return ul(n,e.pixelMatrix,e.globeMatrix),zl(t,t,n),new m(t[0],t[1])},e.globeDenormalizeECEF=sp,e.globeECEFOrigin=function(e,t){const n=[0,0,0];return zl(n,n,ap(Xd(t.canonical))),zl(n,n,e),n},e.globeNormalizeECEF=ap,e.globePixelsToTileUnits=function(e,t){return ps/(512*Math.pow(2,e))*rp(Xd(t))},e.globePoleMatrixForTile=function(e,t,n){const i=ll(new Float64Array(16)),r=(t/(1<<e)-.5)*Math.PI*2;return fl(i,n.globeMatrix,r),Float32Array.from(i)},e.globeTileBounds=Xd,e.globeTiltAtLngLat=up,e.globeToMercatorTransition=cp,e.globeUseCustomAntiAliasing=function(e,t,n){const i=cp(n.zoom),r=e.style.map._antialias,o=!!t.extStandardDerivatives,a=t.extStandardDerivativesForceOff||e.terrain&&e.terrain.exaggeration()>0;return 0===i&&!r&&!a&&o},e.identity=ll,e.identity$1=Vl,e.invert=cl,e.isFullscreen=function(){return!!n.document.fullscreenElement||!!n.document.webkitFullscreenElement},e.isLngLatBehindGlobe=hp,e.isMapAuthenticated=function(e){return Oe.has(e)},e.isMapboxURL=ye,e.isSafariWithAntialiasingBug=function(e){const t=e.navigator?e.navigator.userAgent:null;return!!H(e)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},e.latFromMercatorY=Ts,e.latLngToECEF=np,e.len=Bl,e.length=xl,e.length$1=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},e.lngFromMercatorX=ws,e.loadVectorTile=$f,e.makeRequest=ce,e.mapValue=function(e,t,n,i,r){return S((e-t)/(n-t)*(r-i)+i,i,r)},e.mercatorScale=Ms,e.mercatorXfromLng=vs,e.mercatorYfromLat=xs,e.mercatorZfromAltitude=bs,e.mul=yl,e.mul$1=Rl,e.multiply=ul,e.multiply$1=sl,e.multiply$2=El,e.nextPowerOfTwo=L,e.normalize=kl,e.normalize$1=Wl,e.normalize$2=Fl,e.number=Cn,e.ortho=function(e,t,n,i,r,o,a){var s=1/(t-n),l=1/(i-r),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(r+i)*l,e[14]=(a+o)*c,e[15]=1,e},e.pbf=dh,e.perspective=function(e,t,n,i,r){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(e[10]=(r+i)*(o=1/(i-r)),e[14]=2*r*i*o):(e[10]=-1,e[14]=-2*i),e},e.pick=function(e,t){const n={};for(let i=0;i<t.length;i++){const r=t[i];r in e&&(n[r]=e[r])}return n},e.plugin=Ao,e.pointGeometry=m,e.polesInViewport=function(e){const t=ll(new Float64Array(16));ul(t,e.pixelMatrix,e.globeMatrix);const n=[0,Gd,0],i=[0,Zd,0];return zl(n,n,t),zl(i,i,t),[n[0]>0&&n[0]<=e.width&&n[1]>0&&n[1]<=e.height&&!hp(e,new gs(e.center.lat,90)),i[0]>0&&i[0]<=e.width&&i[1]>0&&i[1]<=e.height&&!hp(e,new gs(e.center.lat,-90))]},e.polygonContainsPoint=Xs,e.polygonIntersectsBox=Ys,e.polygonIntersectsPolygon=Ns,e.polygonizeBounds=function(e,t,n=0,i=!0){const r=new m(n,n),o=e.sub(r),a=t.add(r),s=[o,new m(a.x,o.y),a,new m(o.x,a.y)];return i&&s.push(o.clone()),s},e.posAttributes=Fd,e.postMapLoadEvent=Ae,e.postPerformanceEvent=ze,e.postTurnstileEvent=Ce,e.potpack=Bh,e.prevPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},e.radToDeg=x,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.registerForPluginStateChange=function(e){return e({pluginStatus:To,pluginURL:Eo}),Io.on("pluginStateChange",e),e},e.removeAuthState=function(e){Oe.delete(e)},e.renderColorRamp=lc,e.resample=ks,e.rotateX=pl,e.rotateX$1=Gl,e.rotateY=fl,e.rotateY$1=Zl,e.rotateZ=function(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r+c*i,e[1]=a*r+u*i,e[2]=s*r+h*i,e[3]=l*r+d*i,e[4]=c*r-o*i,e[5]=u*r-a*i,e[6]=h*r-s*i,e[7]=d*r-l*i,e},e.rotateZ$1=function(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=i*l+r*s,e[1]=r*l-i*s,e[2]=o*l+a*s,e[3]=a*l-o*s,e},e.scale=dl,e.scale$1=jl,e.scale$2=Il,e.scaleAndAdd=Cl,e.set=function(e,t,n,i){return e[0]=t,e[1]=n,e[2]=i,e},e.setCacheLimits=function(e,t){ee=e,te=t},e.setColumn=function(e,t,n){e[4*t+0]=n[0],e[4*t+1]=n[1],e[4*t+2]=n[2],e[4*t+3]=n[3]},e.setRTLTextPlugin=function(e,t,n=!1){if(To===vo||To===xo||To===bo)throw new Error("setRTLTextPlugin cannot be called multiple times.");Eo=We.resolveURL(e),To=vo,wo=t,Mo(),n||ko()},e.smoothstep=M,e.spec=Je,e.squaredLength=function(e){var t=e[0],n=e[1],i=e[2];return t*t+n*n+i*i},e.storeAuthState=function(e,t){t?Oe.add(e):Oe.delete(e)},e.sub=Ol,e.subtract=Tl,e.symbolSize=sh,e.tileAABB=function(e,t,n,i,r,o,a,s,l){if("globe"===l.name)return function(e,t,n){const i=t/e.worldSize,r=e.globeMatrix;if(n.z<=1){const e=Xd(n).getCorners();return Qd(e,r,i),Xl.fromPoints(e)}const o=Kd(n),a=ep(o);Qd(a,r,i);const s=Number.MAX_VALUE,l=[-s,-s,-s],c=[s,s,s];if(o.contains(e.center)){for(const e of a)Sl(c,c,e),Ml(l,l,e);l[2]=0;const t=e.point,n=[t.x*i,t.y*i,0];return Sl(c,c,n),Ml(l,l,n),new Xl(c,l)}const u=[r[12]*i,r[13]*i,r[14]*i],h=o.getCenter(),d=S(e.center.lat,-85.051129,Ss),p=S(h.lat,-85.051129,Ss),f=vs(e.center.lng),m=xs(d);let g=f-vs(h.lng);const y=m-xs(p);g>.5?g-=1:g<-.5&&(g+=1);let _=0;Math.abs(g)>Math.abs(y)?_=g>=0?1:3:(_=y>=0?0:2,Cl(u,u,[r[4]*i,r[5]*i,r[6]*i],-Math.sin(v(y>=0?o.getSouth():o.getNorth()))*Nd));const x=a[_],b=a[(_+1)%4],w=new $d(x,b,u),T=[Hd(w,0)||x[0],Hd(w,1)||x[1],Hd(w,2)||x[2]],E=cp(e.zoom);if(E>0){const i=function({x:e,y:t,z:n},i,r,o,a){const s=1/(1<<n);let l=e*s,c=l+s,u=t*s,h=u+s,d=0;const p=(l+c)/2-o;return p>.5?d=-1:p<-.5&&(d=1),l=((l+d)*i-(o*=i))*r+o,c=((c+d)*i-o)*r+o,u=(u*i-(a*=i))*r+a,h=(h*i-a)*r+a,[[l,h,0],[c,h,0],[c,u,0],[l,u,0]]}(n,t,e._pixelsPerMercatorPixel,f,m);for(let e=0;e<a.length;e++)Yd(a[e],i[e],E);const r=wl([],i[_],i[(_+1)%4]);Il(r,r,.5),Yd(T,r,E)}for(const e of a)Sl(c,c,e),Ml(l,l,e);return c[2]=Math.min(x[2],b[2]),Sl(c,c,T),Ml(l,l,T),new Xl(c,l)}(e,t,new Pu(n,i,r));const c=gp({z:n,x:i,y:r},l);return new Xl([(o+c.x/c.scale)*t,t*(c.y/c.scale),a],[(o+c.x2/c.scale)*t,t*(c.y2/c.scale),s])},e.tileCornersToBounds=Kd,e.tileTransform=gp,e.transformMat3=function(e,t,n){var i=t[0],r=t[1],o=t[2];return e[0]=i*n[0]+r*n[3]+o*n[6],e[1]=i*n[1]+r*n[4]+o*n[7],e[2]=i*n[2]+r*n[5]+o*n[8],e},e.transformMat4=zl,e.transformMat4$1=Nl,e.transformQuat=Dl,e.transitionTileAABBinECEF=Jd,e.translate=hl,e.transpose=function(e,t){if(e===t){var n=t[1],i=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=i,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},e.triggerPluginCompletionEvent=So,e.uniqueId=z,e.updateGlobeVertexNormal=function(e,t,n,i,r){const o=5*t+2;e.float32[o+0]=n,e.float32[o+1]=i,e.float32[o+2]=r},e.validateCustomStyleLayer=function(e){const t=[],n=e.id;return void 0===n&&t.push({message:`layers.${n}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${n}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),t},e.validateFilter=e=>Ir(cr(e)),e.validateFog=e=>Ir(xr(e)),e.validateLayer=e=>Ir(pr(e)),e.validateLight=e=>Ir(_r(e)),e.validateSource=e=>Ir(gr(e)),e.validateStyle=Er,e.validateTerrain=e=>Ir(vr(e)),e.values=k,e.vectorTile=Kc,e.version=i,e.warnOnce=V,e.window=n,e.wrap=I})),r(["./shared"],(function(e){"use strict";function t(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){let n="[";for(const i of e)n+=t(i)+",";return n+"]"}let n="{";for(const i of Object.keys(e).sort())n+=`${i}:${t(e[i])},`;return n+"}"}function n(n){let i="";for(const r of e.refProperties)i+="/"+t(n[r]);return i}class i{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,i){for(const n of t)this._layerConfigs[n.id]=n,(this._layers[n.id]=e.createStyleLayer(n)).compileFilter(),this.keyCache[n.id]&&delete this.keyCache[n.id];for(const e of i)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const r=function(e,t){const i={};for(let r=0;r<e.length;r++){const o=t&&t[e[r].id]||n(e[r]);t&&(t[e[r].id]=o);let a=i[o];a||(a=i[o]=[]),a.push(e[r])}const r=[];for(const e in i)r.push(i[e]);return r}(e.values(this._layerConfigs),this.keyCache);for(const e of r){const t=e.map(e=>this._layers[e.id]),n=t[0];if("none"===n.visibility)continue;const i=n.source||"";let r=this.familiesBySource[i];r||(r=this.familiesBySource[i]={});const o=n.sourceLayer||"_geojsonTileLayer";let a=r[o];a||(a=r[o]=[]),a.push(t)}}}class r{loadTile(t,n){const{uid:i,encoding:r,rawImageData:o,padding:a,buildQuadTree:s}=t,l=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap?this.getImageData(o,a):o;n(null,new e.DEMData(i,l,r,a<1,s))}getImageData(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const n=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),n}}var o=function e(t,n){var i,r=t&&t.type;if("FeatureCollection"===r)for(i=0;i<t.features.length;i++)e(t.features[i],n);else if("GeometryCollection"===r)for(i=0;i<t.geometries.length;i++)e(t.geometries[i],n);else if("Feature"===r)e(t.geometry,n);else if("Polygon"===r)a(t.coordinates,n);else if("MultiPolygon"===r)for(i=0;i<t.coordinates.length;i++)a(t.coordinates[i],n);return t};function a(e,t){if(0!==e.length){s(e[0],t);for(var n=1;n<e.length;n++)s(e[n],!t)}}function s(e,t){for(var n=0,i=0,r=0,o=e.length,a=o-1;r<o;a=r++){var s=(e[r][0]-e[a][0])*(e[a][1]+e[r][1]),l=n+s;i+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+i>=0!=!!t&&e.reverse()}const l=e.VectorTileFeature.prototype.toGeoJSON;class c{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const n of this._feature.geometry)t.push([new e.pointGeometry(n[0],n[1])]);return t}{const t=[];for(const n of this._feature.geometry){const i=[];for(const t of n)i.push(new e.pointGeometry(t[0],t[1]));t.push(i)}return t}}toGeoJSON(e,t,n){return l.call(this,e,t,n)}}class u{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t}feature(e){return new c(this._features[e])}}var h={exports:{}},d=e.pointGeometry,p=e.vectorTile.VectorTileFeature,f=m;function m(e,t){this.options=t||{},this.features=e,this.length=e.length}function g(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}m.prototype.feature=function(e){return new g(this.features[e],this.options.extent)},g.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],i=[],r=0;r<n.length;r++)i.push(new d(n[r][0],n[r][1]));this.geometry.push(i)}return this.geometry},g.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,i=1/0,r=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),n=Math.max(n,l.x),i=Math.min(i,l.y),r=Math.max(r,l.y)}return[t,i,n,r]},g.prototype.toGeoJSON=p.prototype.toGeoJSON;var y=e.pbf,_=f;function v(e){var t=new y;return function(e,t){for(var n in e.layers)t.writeMessage(3,x,e.layers[n])}(e,t),t.finish()}function x(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)i.feature=e.feature(n),t.writeMessage(2,b,i);var r=i.keys;for(n=0;n<r.length;n++)t.writeStringField(3,r[n]);var o=i.values;for(n=0;n<o.length;n++)t.writeMessage(4,M,o[n])}function b(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,w,e),t.writeVarintField(3,n.type),t.writeMessage(4,S,n)}function w(e,t){var n=e.feature,i=e.keys,r=e.values,o=e.keycache,a=e.valuecache;for(var s in n.properties){var l=n.properties[s],c=o[s];if(null!==l){void 0===c&&(i.push(s),o[s]=c=i.length-1),t.writeVarint(c);var u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var h=u+":"+l,d=a[h];void 0===d&&(r.push(l),a[h]=d=r.length-1),t.writeVarint(d)}}}function T(e,t){return(t<<3)+(7&e)}function E(e){return e<<1^e>>31}function S(e,t){for(var n=e.loadGeometry(),i=e.type,r=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],c=1;1===i&&(c=l.length),t.writeVarint(T(1,c));for(var u=3===i?l.length-1:l.length,h=0;h<u;h++){1===h&&1!==i&&t.writeVarint(T(2,u-1));var d=l[h].x-r,p=l[h].y-o;t.writeVarint(E(d)),t.writeVarint(E(p)),r+=d,o+=p}3===i&&t.writeVarint(T(7,1))}}function M(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function I(e,t,n,i,r,o){if(r-i<=n)return;const a=i+r>>1;(function e(t,n,i,r,o,a){for(;o>r;){if(o-r>600){const s=o-r+1,l=i-r+1,c=Math.log(s),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);e(t,n,i,Math.max(r,Math.floor(i-l*u/s+h)),Math.min(o,Math.floor(i+(s-l)*u/s+h)),a)}const s=n[2*i+a];let l=r,c=o;for(C(t,n,r,i),n[2*o+a]>s&&C(t,n,r,o);l<c;){for(C(t,n,l,c),l++,c--;n[2*l+a]<s;)l++;for(;n[2*c+a]>s;)c--}n[2*r+a]===s?C(t,n,r,c):(c++,C(t,n,c,o)),c<=i&&(r=c+1),i<=c&&(o=c-1)}})(e,t,a,i,r,o%2),I(e,t,n,i,a-1,o+1),I(e,t,n,a+1,r,o+1)}function C(e,t,n,i){k(e,n,i),k(t,2*n,2*i),k(t,2*n+1,2*i+1)}function k(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function A(e,t,n,i){const r=e-n,o=t-i;return r*r+o*o}h.exports=v,h.exports.fromVectorTileJs=v,h.exports.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var i in e)n[i]=new _(e[i].features,t),n[i].name=i,n[i].version=t.version,n[i].extent=t.extent;return v({layers:n})},h.exports.GeoJSONWrapper=_;const P=e=>e[0],z=e=>e[1];class D{constructor(e,t=P,n=z,i=64,r=Float64Array){this.nodeSize=i,this.points=e;const o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new r(2*e.length);for(let i=0;i<e.length;i++)a[i]=i,s[2*i]=t(e[i]),s[2*i+1]=n(e[i]);I(a,s,i,0,a.length-1,0)}range(e,t,n,i){return function(e,t,n,i,r,o,a){const s=[0,e.length-1,0],l=[];let c,u;for(;s.length;){const h=s.pop(),d=s.pop(),p=s.pop();if(d-p<=a){for(let a=p;a<=d;a++)c=t[2*a],u=t[2*a+1],c>=n&&c<=r&&u>=i&&u<=o&&l.push(e[a]);continue}const f=Math.floor((p+d)/2);c=t[2*f],u=t[2*f+1],c>=n&&c<=r&&u>=i&&u<=o&&l.push(e[f]);const m=(h+1)%2;(0===h?n<=c:i<=u)&&(s.push(p),s.push(f-1),s.push(m)),(0===h?r>=c:o>=u)&&(s.push(f+1),s.push(d),s.push(m))}return l}(this.ids,this.coords,e,t,n,i,this.nodeSize)}within(e,t,n){return function(e,t,n,i,r,o){const a=[0,e.length-1,0],s=[],l=r*r;for(;a.length;){const c=a.pop(),u=a.pop(),h=a.pop();if(u-h<=o){for(let r=h;r<=u;r++)A(t[2*r],t[2*r+1],n,i)<=l&&s.push(e[r]);continue}const d=Math.floor((h+u)/2),p=t[2*d],f=t[2*d+1];A(p,f,n,i)<=l&&s.push(e[d]);const m=(c+1)%2;(0===c?n-r<=p:i-r<=f)&&(a.push(h),a.push(d-1),a.push(m)),(0===c?n+r>=p:i+r>=f)&&(a.push(d+1),a.push(u),a.push(m))}return s}(this.ids,this.coords,e,t,n,this.nodeSize)}}const L={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},O=Math.fround||(R=new Float32Array(1),e=>(R[0]=+e,R[0]));var R;class B{constructor(e){this.options=W(Object.create(L),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:n,maxZoom:i,nodeSize:r}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;let a=[];for(let t=0;t<e.length;t++)e[t].geometry&&a.push(F(e[t],t));this.trees[i+1]=new D(a,q,$,r,Float32Array),t&&console.timeEnd(o);for(let e=i;e>=n;e--){const n=+Date.now();a=this._cluster(a,e),this.trees[e]=new D(a,q,$,r,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,a.length,+Date.now()-n)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let r=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){const e=this.getClusters([n,i,180,o],t),a=this.getClusters([-180,i,r,o],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],s=a.range(V(n),G(o),V(r),G(i)),l=[];for(const e of s){const t=a.points[e];l.push(t.numPoints?N(t):this.points[t.index])}return l}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);const o=r.points[t];if(!o)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=r.within(o.x,o.y,a),l=[];for(const t of s){const n=r.points[t];n.parentId===e&&l.push(n.numPoints?N(n):this.points[n.index])}if(0===l.length)throw new Error(i);return l}getLeaves(e,t,n){const i=[];return this._appendLeaves(i,e,t=t||10,n=n||0,0),i}getTile(e,t,n){const i=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:o,radius:a}=this.options,s=a/o,l=(n-s)/r,c=(n+1+s)/r,u={features:[]};return this._addTileFeatures(i.range((t-s)/r,l,(t+1+s)/r,c),i.points,t,n,r,u),0===t&&this._addTileFeatures(i.range(1-s/r,l,1,c),i.points,r,n,r,u),t===r-1&&this._addTileFeatures(i.range(0,l,s/r,c),i.points,-1,n,r,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,i,r){const o=this.getChildren(t);for(const t of o){const o=t.properties;if(o&&o.cluster?r+o.point_count<=i?r+=o.point_count:r=this._appendLeaves(e,o.cluster_id,n,i,r):r<i?r++:e.push(t),e.length===n)break}return r}_addTileFeatures(e,t,n,i,r,o){for(const a of e){const e=t[a],s=e.numPoints;let l,c,u;if(s)l=U(e),c=e.x,u=e.y;else{const t=this.points[e.index];l=t.properties,c=V(t.geometry.coordinates[0]),u=G(t.geometry.coordinates[1])}const h={type:1,geometry:[[Math.round(this.options.extent*(c*r-n)),Math.round(this.options.extent*(u*r-i))]],tags:l};let d;s?d=e.id:this.options.generateId?d=e.index:this.points[e.index].id&&(d=this.points[e.index].id),void 0!==d&&(h.id=d),o.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const n=[],{radius:i,extent:r,reduce:o,minPoints:a}=this.options,s=i/(r*Math.pow(2,t));for(let i=0;i<e.length;i++){const r=e[i];if(r.zoom<=t)continue;r.zoom=t;const l=this.trees[t+1],c=l.within(r.x,r.y,s),u=r.numPoints||1;let h=u;for(const e of c){const n=l.points[e];n.zoom>t&&(h+=n.numPoints||1)}if(h>u&&h>=a){let e=r.x*u,a=r.y*u,s=o&&u>1?this._map(r,!0):null;const d=(i<<5)+(t+1)+this.points.length;for(const n of c){const i=l.points[n];if(i.zoom<=t)continue;i.zoom=t;const c=i.numPoints||1;e+=i.x*c,a+=i.y*c,i.parentId=d,o&&(s||(s=this._map(r,!0)),o(s,this._map(i)))}r.parentId=d,n.push(j(e/h,a/h,d,h,s))}else if(n.push(r),h>1)for(const e of c){const i=l.points[e];i.zoom<=t||(i.zoom=t,n.push(i))}}return n}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?W({},e.properties):e.properties;const n=this.points[e.index].properties,i=this.options.map(n);return t&&i===n?W({},i):i}}function j(e,t,n,i,r){return{x:O(e),y:O(t),zoom:1/0,id:n,parentId:-1,numPoints:i,properties:r}}function F(e,t){const[n,i]=e.geometry.coordinates;return{x:O(V(n)),y:O(G(i)),zoom:1/0,index:t,parentId:-1}}function N(e){return{type:"Feature",id:e.id,properties:U(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),Z(e.y)]}};var t}function U(e){const t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return W(W({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function V(e){return e/360+.5}function G(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Z(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function W(e,t){for(const n in t)e[n]=t[n];return e}function q(e){return e.x}function $(e){return e.y}function H(e,t,n,i,r,o){var a=r-n,s=o-i;if(0!==a||0!==s){var l=((e-n)*a+(t-i)*s)/(a*a+s*s);l>1?(n=r,i=o):l>0&&(n+=a*l,i+=s*l)}return(a=e-n)*a+(s=t-i)*s}function X(e,t,n,i){var r={id:void 0===e?null:e,type:t,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)Y(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<t.length;i++)Y(e,t[i]);else if("MultiPolygon"===n)for(i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)Y(e,t[i][r])}(r),r}function Y(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function J(e,t,n,i){if(t.geometry){var r=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=i||0),"Point"===o)Q(r,s);else if("MultiPoint"===o)for(var c=0;c<r.length;c++)Q(r[c],s);else if("LineString"===o)K(r,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(c=0;c<r.length;c++)K(r[c],s=[],a,!1),e.push(X(l,"LineString",s,t.properties));return}ee(r,s,a,!1)}else if("Polygon"===o)ee(r,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(c=0;c<t.geometry.geometries.length;c++)J(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},n,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<r.length;c++){var u=[];ee(r[c],u,a,!0),s.push(u)}}e.push(X(l,o,s,t.properties))}}function Q(e,t){t.push(te(e[0])),t.push(ne(e[1])),t.push(0)}function K(e,t,n,i){for(var r,o,a=0,s=0;s<e.length;s++){var l=te(e[s][0]),c=ne(e[s][1]);t.push(l),t.push(c),t.push(0),s>0&&(a+=i?(r*c-l*o)/2:Math.sqrt(Math.pow(l-r,2)+Math.pow(c-o,2))),r=l,o=c}var u=t.length-3;t[2]=1,function e(t,n,i,r){for(var o,a=r,s=i-n>>1,l=i-n,c=t[n],u=t[n+1],h=t[i],d=t[i+1],p=n+3;p<i;p+=3){var f=H(t[p],t[p+1],c,u,h,d);if(f>a)o=p,a=f;else if(f===a){var m=Math.abs(p-s);m<l&&(o=p,l=m)}}a>r&&(o-n>3&&e(t,n,o,r),t[o+2]=a,i-o>3&&e(t,o,i,r))}(t,0,u,n),t[u+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function ee(e,t,n,i){for(var r=0;r<e.length;r++){var o=[];K(e[r],o,n,i),t.push(o)}}function te(e){return e/360+.5}function ne(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ie(e,t,n,i,r,o,a,s){if(i/=t,o>=(n/=t)&&a<i)return e;if(a<n||o>=i)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],h=u.geometry,d=u.type,p=0===r?u.minX:u.minY,f=0===r?u.maxX:u.maxY;if(p>=n&&f<i)l.push(u);else if(!(f<n||p>=i)){var m=[];if("Point"===d||"MultiPoint"===d)re(h,m,n,i,r);else if("LineString"===d)oe(h,m,n,i,r,!1,s.lineMetrics);else if("MultiLineString"===d)se(h,m,n,i,r,!1);else if("Polygon"===d)se(h,m,n,i,r,!0);else if("MultiPolygon"===d)for(var g=0;g<h.length;g++){var y=[];se(h[g],y,n,i,r,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)l.push(X(u.id,d,m[g],u.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),l.push(X(u.id,d,m,u.tags))}}}return l.length?l:null}function re(e,t,n,i,r){for(var o=0;o<e.length;o+=3){var a=e[o+r];a>=n&&a<=i&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function oe(e,t,n,i,r,o,a){for(var s,l,c=ae(e),u=0===r?ce:ue,h=e.start,d=0;d<e.length-3;d+=3){var p=e[d],f=e[d+1],m=e[d+2],g=e[d+3],y=e[d+4],_=0===r?p:f,v=0===r?g:y,x=!1;a&&(s=Math.sqrt(Math.pow(p-g,2)+Math.pow(f-y,2))),_<n?v>n&&(l=u(c,p,f,g,y,n),a&&(c.start=h+s*l)):_>i?v<i&&(l=u(c,p,f,g,y,i),a&&(c.start=h+s*l)):le(c,p,f,m),v<n&&_>=n&&(l=u(c,p,f,g,y,n),x=!0),v>i&&_<=i&&(l=u(c,p,f,g,y,i),x=!0),!o&&x&&(a&&(c.end=h+s*l),t.push(c),c=ae(e)),a&&(h+=s)}var b=e.length-3;p=e[b],f=e[b+1],m=e[b+2],(_=0===r?p:f)>=n&&_<=i&&le(c,p,f,m),b=c.length-3,o&&b>=3&&(c[b]!==c[0]||c[b+1]!==c[1])&&le(c,c[0],c[1],c[2]),c.length&&t.push(c)}function ae(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function se(e,t,n,i,r,o){for(var a=0;a<e.length;a++)oe(e[a],t,n,i,r,o,!1)}function le(e,t,n,i){e.push(t),e.push(n),e.push(i)}function ce(e,t,n,i,r,o){var a=(o-t)/(i-t);return e.push(o),e.push(n+(r-n)*a),e.push(1),a}function ue(e,t,n,i,r,o){var a=(o-n)/(r-n);return e.push(t+(i-t)*a),e.push(o),e.push(1),a}function he(e,t){for(var n=[],i=0;i<e.length;i++){var r,o=e[i],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)r=de(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){r=[];for(var s=0;s<o.geometry.length;s++)r.push(de(o.geometry[s],t))}else if("MultiPolygon"===a)for(r=[],s=0;s<o.geometry.length;s++){for(var l=[],c=0;c<o.geometry[s].length;c++)l.push(de(o.geometry[s][c],t));r.push(l)}n.push(X(o.id,a,r,o.tags))}return n}function de(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var i=0;i<e.length;i+=3)n.push(e[i]+t,e[i+1],e[i+2]);return n}function pe(e,t){if(e.transformed)return e;var n,i,r,o=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(i=0;i<c.length;i+=2)l.geometry.push(fe(c[i],c[i+1],t,o,a,s));else for(i=0;i<c.length;i++){var h=[];for(r=0;r<c[i].length;r+=2)h.push(fe(c[i][r],c[i][r+1],t,o,a,s));l.geometry.push(h)}}return e.transformed=!0,e}function fe(e,t,n,i,r,o){return[Math.round(n*(e*i-r)),Math.round(n*(t*i-o))]}function me(e,t,n,i,r){for(var o=t===r.maxZoom?0:r.tolerance/((1<<t)*r.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,ge(a,e[s],o,r);var l=e[s].minX,c=e[s].minY,u=e[s].maxX,h=e[s].maxY;l<a.minX&&(a.minX=l),c<a.minY&&(a.minY=c),u>a.maxX&&(a.maxX=u),h>a.maxY&&(a.maxY=h)}return a}function ge(e,t,n,i){var r=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<r.length;s+=3)a.push(r[s]),a.push(r[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)ye(a,r,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<r.length;s++)ye(a,r[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<r.length;l++){var c=r[l];for(s=0;s<c.length;s++)ye(a,c[s],e,n,!0,0===s)}if(a.length){var u=t.tags||null;if("LineString"===o&&i.lineMetrics){for(var h in u={},t.tags)u[h]=t.tags[h];u.mapbox_clip_start=r.start/r.size,u.mapbox_clip_end=r.end/r.size}var d={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:u};null!==t.id&&(d.id=t.id),e.features.push(d)}}function ye(e,t,n,i,r,o){var a=i*i;if(i>0&&t.size<(r?a:i))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===i||t[l+2]>a)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;r&&function(e,t){for(var n=0,i=0,r=e.length,o=r-2;i<r;o=i,i+=2)n+=(e[i]-e[o])*(e[i+1]+e[o+1]);if(n>0===t)for(i=0,r=e.length;i<r/2;i+=2){var a=e[i],s=e[i+1];e[i]=e[r-2-i],e[i+1]=e[r-1-i],e[r-2-i]=a,e[r-1-i]=s}}(s,o),e.push(s)}}function _e(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var i=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var i=0;i<e.features.length;i++)J(n,e.features[i],t,i);else J(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(i=function(e,t){var n=t.buffer/t.extent,i=e,r=ie(e,1,-1-n,n,0,-1,2,t),o=ie(e,1,1-n,2+n,0,-1,2,t);return(r||o)&&(i=ie(e,1,-n,1+n,0,-1,2,t)||[],r&&(i=he(r,1).concat(i)),o&&(i=i.concat(he(o,-1)))),i}(i,t)).length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ve(e,t,n){return 32*((1<<e)*n+t)+e}function xe(e,t){const n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const i=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!i)return t(null,null);const r=new u(i.features);let o=h.exports(r);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:r,rawData:o.buffer})}_e.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},_e.prototype.splitTile=function(e,t,n,i,r,o,a){for(var s=[e,t,n,i],l=this.options,c=l.debug;s.length;){i=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,h=ve(t,n,i),d=this.tiles[h];if(!d&&(c>1&&console.time("creation"),d=this.tiles[h]=me(e,t,n,i,l),this.tileCoords.push({z:t,x:n,y:i}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,i,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(d.source=e,r){if(t===l.maxZoom||t===r)continue;var f=1<<r-t;if(n!==Math.floor(o/f)||i!==Math.floor(a/f))continue}else if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==e.length){c>1&&console.time("clipping");var m,g,y,_,v,x,b=.5*l.buffer/l.extent,w=.5-b,T=.5+b,E=1+b;m=g=y=_=null,v=ie(e,u,n-b,n+T,0,d.minX,d.maxX,l),x=ie(e,u,n+w,n+E,0,d.minX,d.maxX,l),e=null,v&&(m=ie(v,u,i-b,i+T,1,d.minY,d.maxY,l),g=ie(v,u,i+w,i+E,1,d.minY,d.maxY,l),v=null),x&&(y=ie(x,u,i-b,i+T,1,d.minY,d.maxY,l),_=ie(x,u,i+w,i+E,1,d.minY,d.maxY,l),x=null),c>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*i),s.push(g||[],t+1,2*n,2*i+1),s.push(y||[],t+1,2*n+1,2*i),s.push(_||[],t+1,2*n+1,2*i+1)}}},_e.prototype.getTile=function(e,t,n){var i=this.options,r=i.extent,o=i.debug;if(e<0||e>24)return null;var a=1<<e,s=ve(e,t=(t%a+a)%a,n);if(this.tiles[s])return pe(this.tiles[s],r);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,c=e,u=t,h=n;!l&&c>0;)c--,u=Math.floor(u/2),h=Math.floor(h/2),l=this.tiles[ve(c,u,h)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",c,u,h),o>1&&console.time("drilling down"),this.splitTile(l.source,c,u,h,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?pe(this.tiles[s],r):null):null};class be extends e.VectorTileWorkerSource{constructor(e,t,n,i,r){super(e,t,n,i,xe),r&&(this.loadGeoJSON=r)}loadData(t,n){const i=t&&t.request,r=i&&i.collectResourceTiming;this.loadGeoJSON(t,(a,s)=>{if(a||!s)return n(a);if("object"!=typeof s)return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));{o(s,!0);try{if(t.filter){const n=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===n.result)throw new Error(n.value.map(e=>`${e.key}: ${e.message}`).join(", "));const i=s.features.filter(e=>n.value.evaluate({zoom:0},e));s={type:"FeatureCollection",features:i}}this._geoJSONIndex=t.cluster?new B(function({superclusterOptions:t,clusterProperties:n}){if(!n||!t)return t;const i={},r={},o={accumulated:null,zoom:0},a={properties:null},s=Object.keys(n);for(const t of s){const[o,a]=n[t],s=e.createExpression(a),l=e.createExpression("string"==typeof o?[o,["accumulated"],["get",t]]:o);i[t]=s.value,r[t]=l.value}return t.map=e=>{a.properties=e;const t={};for(const e of s)t[e]=i[e].evaluate(o,a);return t},t.reduce=(e,t)=>{a.properties=t;for(const t of s)o.accumulated=e[t],e[t]=r[t].evaluate(o,a)},t}(t)).load(s.features):function(e,t){return new _e(e,t)}(s,t.geojsonVtOptions)}catch(a){return n(a)}this.loaded={};const l={};if(r){const n=e.getPerformanceMeasurement(i);n&&(l.resourceTiming={},l.resourceTiming[t.source]=JSON.parse(JSON.stringify(n)))}n(null,l)}})}reloadTile(e,t){const n=this.loaded;return n&&n[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class we{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.getProjection({name:"mercator"}),this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:be},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}clearCaches(e,t,n){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],n()}checkIfReady(e,t,n){n()}setReferrer(e,t){this.referrer=t}spriteLoaded(t,n){this.isSpriteLoaded[t]=n;for(const i in this.workerSources[t]){const r=this.workerSources[t][i];for(const t in r)r[t]instanceof e.VectorTileWorkerSource&&(r[t].isSpriteLoaded=n,r[t].fire(new e.Event("isSpriteLoaded")))}}setImages(e,t,n){this.availableImages[e]=t;for(const n in this.workerSources[e]){const i=this.workerSources[e][n];for(const e in i)i[e].availableImages=t}n()}enableTerrain(e,t,n){this.terrain=t,n()}setProjection(t,n){this.projections[t]=e.getProjection(n)}setLayers(e,t,n){this.getLayerIndex(e).replace(t),n()}updateLayers(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()}loadTile(t,n,i){const r=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;r.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).loadTile(r,i)}loadDEMTile(t,n,i){const r=this.enableTerrain?e.extend({buildQuadTree:this.terrain},n):n;this.getDEMWorkerSource(t,n.source).loadTile(r,i)}reloadTile(t,n,i){const r=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;r.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).reloadTile(r,i)}abortTile(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)}removeTile(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)}removeSource(e,t,n){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const i=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==i.removeSource?i.removeSource(t,n):n()}loadWorkerSource(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}}syncRTLPluginState(t,n,i){try{e.plugin.setState(n);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const n=e.plugin.isParsed();i(n?void 0:new Error("RTL Text Plugin failed to import scripts from "+t),n)}}catch(e){i(e.toString())}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new i),t}getWorkerSource(e,t,n){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){const i={send:(t,n,i,r,o,a)=>{this.actor.send(t,n,i,e,o,a)},scheduler:this.actor.scheduler};this.workerSources[e][t][n]=new this.workerSourceTypes[t](i,this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded[e])}return this.workerSources[e][t][n]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new r),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,n){e.enforceCacheSizeLimit(n)}getWorkerPerformanceMetrics(e,t,n){n(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new we(self)),we})),r(["./shared"],(function(e){"use strict";function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!t(e[i],n[i]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(!t(e[i],n[i]))return!1;return!0}return e===n}var n=i;function i(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),i=URL.createObjectURL(n);try{t=new Worker(i),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(i),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[t=e&&e.failIfMajorPerformanceCaveat]&&(r[t]=function(e){var t,n=function(e){var t=document.createElement("canvas"),n=Object.create(i.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e);if(!n)return!1;try{t=n.createShader(n.VERTEX_SHADER)}catch(e){return!1}return!(!t||n.isContextLost())&&(n.shaderSource(t,"void main() {}"),n.compileShader(t),!0===n.getShaderParameter(t,n.COMPILE_STATUS))}(t)),r[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var r={};function o(t,n,i){const r=e.window.document.createElement(t);return void 0!==n&&(r.className=n),i&&i.appendChild(r),r}function a(t,n,i){const r=e.window.document.createElementNS("http://www.w3.org/2000/svg",t);for(const e of Object.keys(n))r.setAttributeNS(null,e,n[e]);return i&&i.appendChild(r),r}i.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const s=e.window.document&&e.window.document.documentElement.style,l=s&&void 0!==s.userSelect?"userSelect":"WebkitUserSelect";let c;function u(){s&&l&&(c=s[l],s[l]="none")}function h(){s&&l&&(s[l]=c)}function d(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",d,!0)}function p(){e.window.addEventListener("click",d,!0),e.window.setTimeout(()=>{e.window.removeEventListener("click",d,!0)},0)}function f(e,t){const n=e.getBoundingClientRect();return y(e,n,t)}function m(e,t){const n=e.getBoundingClientRect(),i=[];for(let r=0;r<t.length;r++)i.push(y(e,n,t[r]));return i}function g(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button}function y(t,n,i){const r=t.offsetWidth===n.width?1:t.offsetWidth/n.width;return new e.pointGeometry((i.clientX-n.left)*r,(i.clientY-n.top)*r)}function _(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n*o-r*i;return a?(e[0]=o*(a=1/a),e[1]=-i*a,e[2]=-r*a,e[3]=n*a,e):null}function v(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class x extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}hasImage(e){return!!this.getImage(e)}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t)}_validate(t,n){let i=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),i=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),i=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),i=!1),i}_validateStretch(e,t){if(!e)return!0;let n=0;for(const i of e){if(i[0]<n||i[1]<i[0]||t<i[1])return!1;n=i[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let n=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,n){const i={};for(const n of t){this.images[n]||this.fire(new e.Event("styleimagemissing",{id:n}));const t=this.images[n];t?i[n]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${n}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}n(null,i)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const n=this.patterns[t],i=this.getImage(t);if(!i)return null;if(n&&n.position.version===i.version)return n.position;if(n)n.position.version=i.version;else{const n={w:i.data.width+2,h:i.data.height+2,x:0,y:0},r=new e.ImagePosition(n,i);this.patterns[t]={bin:n,position:r}}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:n,h:i}=e.potpack(t),r=this.atlasImage;r.resize({width:n||1,height:i||1});for(const t in this.patterns){const{bin:n}=this.patterns[t],i=n.x+1,o=n.y+1,a=this.images[t].data,s=a.width,l=a.height;e.RGBAImage.copy(a,r,{x:0,y:0},{x:i,y:o},{width:s,height:l}),e.RGBAImage.copy(a,r,{x:0,y:l-1},{x:i,y:o-1},{width:s,height:1}),e.RGBAImage.copy(a,r,{x:0,y:0},{x:i,y:o+l},{width:s,height:1}),e.RGBAImage.copy(a,r,{x:s-1,y:0},{x:i-1,y:o},{width:1,height:l}),e.RGBAImage.copy(a,r,{x:0,y:0},{x:i+s,y:o},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];v(e)&&this.updateImage(t,e)}}}const b=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position}possiblyEvaluate(t,n){return function([t,n,i]){const r=e.degToRad(n+90),o=e.degToRad(i);return{x:t*Math.cos(r)*Math.sin(o),y:t*Math.sin(r)*Math.sin(o),z:t*Math.cos(o),azimuthal:n,polar:i}}(t.expression.evaluate(n))}interpolate(t,n,i){return{x:e.number(t.x,n.x,i),y:e.number(t.y,n.y,i),z:e.number(t.z,n.z,i),azimuthal:e.number(t.azimuthal,n.azimuthal,i),polar:e.number(t.polar,n.polar,i)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),w="-transition";class T extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(b),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,n={}){if(!this._validate(e.validateLight,t,n))for(const n in t){const i=t[n];e.endsWith(n,w)?this._transitionable.setTransition(n.slice(0,-w.length),i):this._transitionable.setValue(n,i)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,n,i){return(!i||!1!==i.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}const E=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),S="-transition";class M extends e.Evented{constructor(t,n){super(),this._transitionable=new e.Transitionable(E),this.set(t),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=n}get(){return this._transitionable.serialize()}set(t){for(const n in t){const i=t[n];e.endsWith(n,S)?this._transitionable.setTransition(n.slice(0,-S.length),i):this._transitionable.setValue(n,i)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}}function I(t,n,i,r){const o=e.smoothstep(45,65,i),[a,s]=C(t,r),l=e.length(n);let c=1-Math.min(1,Math.exp((l-a)/(s-a)*-6));return c*=c*c,c=Math.min(1,1.00747*c),c*o*t.alpha}function C(e,t){const n=.5/Math.tan(.5*t);return[e.range[0]+n,e.range[1]+n]}const k=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"high-color":new e.DataConstantProperty(e.spec.fog["high-color"]),"space-color":new e.DataConstantProperty(e.spec.fog["space-color"]),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"]),"star-intensity":new e.DataConstantProperty(e.spec.fog["star-intensity"])}),A="-transition";class P extends e.Evented{constructor(t,n){super(),this._transitionable=new e.Transitionable(k),this.set(t),this._transitioning=this._transitionable.untransitioned(),this._transform=n}get state(){const t=this._transform,n="globe"===t.projection.name,i=e.globeToMercatorTransition(t.zoom),r=this.properties.get("range"),o=[.5,3];return{range:n?[e.number(o[0],r[0],i),e.number(o[1],r[1],i)]:r,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(t,n={}){if(!this._validate(e.validateFog,t,n)){for(const n of Object.keys(e.spec.fog))t&&void 0===t[n]&&(t[n]=e.spec.fog[n].default);for(const n in t){const i=t[n];e.endsWith(n,A)?this._transitionable.setTransition(n.slice(0,-A.length),i):this._transitionable.setValue(n,i)}}}getOpacity(t){if(!this._transform.projection.supportsFog)return 0;const n=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:e.smoothstep(45,65,t))*n.a}getOpacityAtLatLng(t,n){return this._transform.projection.supportsFog?function(t,n,i){const r=e.MercatorCoordinate.fromLngLat(n),o=i.elevation?i.elevation.getAtPointOrZero(r):0,a=[r.x,r.y,o];return e.transformMat4(a,a,i.mercatorFogMatrix),I(t,a,i.pitch,i._fov)}(this.state,t,n):0}getFovAdjustedRange(e){return this._transform.projection.supportsFog?C(this.state,e):[0,1]}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,n,i){return(!i||!1!==i.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class z{constructor(t,n){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const i=this.workerPool.acquire(this.id);for(let e=0;e<i.length;e++){const t=new z.Actor(i[e],n,this.id);t.name="Worker "+e,this.actors.push(t)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(t,n,i){e.asyncAll(this.actors,(e,i)=>{e.send(t,n,i)},i=i||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(e=>{e.remove()}),this.actors=[],this.workerPool.release(this.id)}}function D(t,n,i){return n*(e.EXTENT/(t.tileSize*Math.pow(2,i-t.tileID.overscaledZ)))}z.Actor=e.Actor;class L{constructor(e,t,n,i){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=n,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,i)}static createFromScreenPoints(t,n){let i,r;if(t instanceof e.pointGeometry||"number"==typeof t[0]){const o=e.pointGeometry.convert(t);i=[o],r=n.isPointAboveHorizon(o)}else{const o=e.pointGeometry.convert(t[0]),a=e.pointGeometry.convert(t[1]);i=[o,a],r=e.polygonizeBounds(o,a).every(e=>n.isPointAboveHorizon(e))}return new L(i,n.getCameraPoint(),r,n)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const n=this.screenBounds[0],i=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(n,i,0,!1);return this.cameraPoint.y>i.y&&(this.cameraPoint.x>n.x&&this.cameraPoint.x<i.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=i.x?r[2]=this.cameraPoint:this.cameraPoint.x<=n.x&&(r[3]=this.cameraPoint)),e.bufferConvexPolygon(r,t)}bufferedCameraGeometryGlobe(t){const n=this.screenBounds[0],i=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(n,i,t),o=this.cameraPoint.clone();switch(3*((o.y>n.y)+(o.y>i.y))+((o.x>n.x)+(o.x>i.x))){case 0:r[0]=o,r[4]=o.clone();break;case 1:r.splice(1,0,o);break;case 2:r[1]=o;break;case 3:r.splice(4,0,o);break;case 5:r.splice(2,0,o);break;case 6:r[3]=o;break;case 7:r.splice(3,0,o);break;case 8:r[2]=o}return r}containsTile(t,n,i,r=0){const o=t.queryPadding/n._pixelsPerMercatorPixel+1,a=i?this._bufferedCameraMercator(o,n):this._bufferedScreenMercator(o,n);let s=t.tileID.wrap+(a.unwrapped?r:0);const l=a.polygon.map(n=>e.getTilePoint(t.tileTransform,n,s));if(!e.polygonIntersectsBox(l,0,0,e.EXTENT,e.EXTENT))return;s=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?r:0);const c=this.screenGeometryMercator.polygon.map(n=>e.getTileVec3(t.tileTransform,n,s)),u=c.map(t=>new e.pointGeometry(t[0],t[1])),h=n.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),d=e.getTileVec3(t.tileTransform,h,s),p=c.map(t=>{const n=e.sub(t,t,d);return e.normalize(n,n),new e.Ray(d,n)}),f=D(t,1,n.zoom)*n._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:u,tilespaceRays:p,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(m=e.getBounds(l),m.min.x=e.clamp(m.min.x,0,e.EXTENT),m.min.y=e.clamp(m.min.y,0,e.EXTENT),m.max.x=e.clamp(m.max.x,0,e.EXTENT),m.max.y=e.clamp(m.max.y,0,e.EXTENT),m),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:f};var m}_bufferedScreenMercator(e,t){const n=B(e);if(this._screenRaycastCache[n])return this._screenRaycastCache[n];{let i;return i="globe"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map(e=>t.pointCoordinate3D(e)),unwrapped:!0},this._screenRaycastCache[n]=i,i}}_bufferedCameraMercator(e,t){const n=B(e);if(this._cameraRaycastCache[n])return this._cameraRaycastCache[n];{let i;return i="globe"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map(e=>t.pointCoordinate3D(e)),unwrapped:!0},this._cameraRaycastCache[n]=i,i}}_projectAndResample(t,n){const i=function(t,n){const i=e.multiply([],n.pixelMatrix,n.globeMatrix),r=[0,-e.GLOBE_RADIUS,0,1],o=[0,e.GLOBE_RADIUS,0,1],a=[0,0,0,1];e.transformMat4$1(r,r,i),e.transformMat4$1(o,o,i),e.transformMat4$1(a,a,i);const s=new e.pointGeometry(r[0]/r[3],r[1]/r[3]),l=new e.pointGeometry(o[0]/o[3],o[1]/o[3]),c=e.polygonContainsPoint(t,s)&&r[3]<a[3],u=e.polygonContainsPoint(t,l)&&o[3]<a[3];if(!c&&!u)return null;const h=function(e,t,n){for(let i=1;i<e.length;i++){const r=R(t.pointCoordinate3D(e[i-1]).x),o=R(t.pointCoordinate3D(e[i]).x);if(n<0){if(r<o)return{idx:i,t:-r/(o-1-r)}}else if(o<r)return{idx:i,t:(1-r)/(o+1-r)}}return null}(t,n,c?-1:1);if(!h)return null;const{idx:d,t:p}=h;let f=d>1?O(t.slice(0,d),n):[],m=d<t.length?O(t.slice(d),n):[];f=f.map(t=>new e.pointGeometry(R(t.x),t.y)),m=m.map(t=>new e.pointGeometry(R(t.x),t.y));const g=[...f];0===g.length&&g.push(m[m.length-1]);const y=e.number(g[g.length-1].y,(0===m.length?f[0]:m[0]).y,p);let _;return _=c?[new e.pointGeometry(0,y),new e.pointGeometry(0,0),new e.pointGeometry(1,0),new e.pointGeometry(1,y)]:[new e.pointGeometry(1,y),new e.pointGeometry(1,1),new e.pointGeometry(0,1),new e.pointGeometry(0,y)],g.push(..._),0===m.length?g.push(f[0]):g.push(...m),{polygon:g.map(t=>new e.MercatorCoordinate(t.x,t.y)),unwrapped:!1}}(t,n);if(i)return i;const r=function(t,n){let i=!1,r=-1/0,o=0;for(let e=0;e<t.length-1;e++)t[e].x>r&&(r=t[e].x,o=e);for(let e=0;e<t.length-1;e++){const n=(o+e)%(t.length-1),r=t[n],a=t[n+1];Math.abs(r.x-a.x)>.5&&(r.x<a.x?(r.x+=1,0===n&&(t[t.length-1].x+=1)):(a.x+=1,n+1===t.length-1&&(t[0].x+=1)),i=!0)}const a=e.mercatorXfromLng(n.center.lng);return i&&a<Math.abs(a-1)&&t.forEach(e=>{e.x-=1}),{polygon:t,unwrapped:i}}(O(t,n).map(t=>new e.pointGeometry(R(t.x),t.y)),n);return{polygon:r.polygon.map(t=>new e.MercatorCoordinate(t.x,t.y)),unwrapped:r.unwrapped}}}function O(t,n){return e.resample(t,e=>{const t=n.pointCoordinate3D(e);e.x=t.x,e.y=t.y},1/256)}function R(e){return e<0?1+e%1:e%1}function B(e){return 100*e|0}function j(t,n,i,r,o){const a=function(i,r){if(i)return o(i);if(r){t.url&&r.tiles&&t.tiles&&delete t.tiles;const i=e.pick(e.extend(r,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);r.vector_layers&&(i.vectorLayers=r.vector_layers,i.vectorLayerIds=i.vectorLayers.map(e=>e.id)),i.tiles=n.canonicalizeTileset(i,t.url),o(null,i)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url,null,i,r),e.ResourceType.Source),a):e.exported.frame(()=>a(null,t))}class F{constructor(t,n,i){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=i||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const n=Math.pow(2,t.z),i=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),r=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=i&&t.x<o&&t.y>=r&&t.y<a}}class N{constructor(e,t,n){this.context=e;const i=e.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const U={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class V{constructor(e,t,n,i){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=i,this.context=e;const r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let n=0;n<this.attributes.length;n++){const i=t.attributes[this.attributes[n].name];void 0!==i&&e.enableVertexAttribArray(i)}}setVertexAttribPointers(e,t,n){for(let i=0;i<this.attributes.length;i++){const r=this.attributes[i],o=t.attributes[r.name];void 0!==o&&e.vertexAttribPointer(o,r.components,e[U[r.type]],!1,this.itemSize,r.offset+this.itemSize*(n||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class G{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Z extends G{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class W extends G{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class q extends G{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class $ extends G{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class H extends G{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class X extends G{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Y extends G{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class J extends G{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class Q extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class K extends G{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class ee extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class te extends G{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class ne extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class ie extends G{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class re extends G{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class oe extends G{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class ae extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class se extends G{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class le extends G{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class ce extends G{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class ue extends G{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class he extends G{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class de extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class pe extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class fe extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class me extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ge extends G{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ye extends G{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class _e extends G{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class ve extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class xe extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class be extends G{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class we extends be{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class Te extends be{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Ee extends Te{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Se{constructor(e,t,n,i){this.context=e,this.width=t,this.height=n;const r=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,r),i&&(this.depthAttachment=new Te(e,r))}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class Me{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Z(this),this.clearDepth=new W(this),this.clearStencil=new q(this),this.colorMask=new $(this),this.depthMask=new H(this),this.stencilMask=new X(this),this.stencilFunc=new Y(this),this.stencilOp=new J(this),this.stencilTest=new Q(this),this.depthRange=new K(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ne(this),this.blendFunc=new ie(this),this.blendColor=new re(this),this.blendEquation=new oe(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new le(this),this.program=new ce(this),this.activeTexture=new ue(this),this.viewport=new he(this),this.bindFramebuffer=new de(this),this.bindRenderbuffer=new pe(this),this.bindTexture=new fe(this),this.bindVertexBuffer=new me(this),this.bindElementBuffer=new ge(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ye(this),this.pixelStoreUnpack=new _e(this),this.pixelStoreUnpackPremultiplyAlpha=new ve(this),this.pixelStoreUnpackFlipY=new xe(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=e.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=e.getExtension("OES_standard_derivatives"),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new N(this,e,t)}createVertexBuffer(e,t,n){return new V(this,e,t,n)}createRenderbuffer(e,t,n){const i=this.gl,r=i.createRenderbuffer();return this.bindRenderbuffer.set(r),i.renderbufferStorage(i.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),r}createFramebuffer(e,t,n){return new Se(this,e,t,n)}clear({color:e,depth:t,stencil:n}){const i=this.gl;let r=0;e&&(r|=i.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(r|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==n&&(r|=i.STENCIL_BUFFER_BIT,this.clearStencil.set(n),this.stencilMask.set(255)),i.clear(r)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(n){t(n.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(n.blendFunction),this.blendColor.set(n.blendColor)),this.colorMask.set(n.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Ie extends e.Evented{constructor(t,n,i,r){super(),this.id=t,this.dispatcher=i,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=j(this._options,this.map._requestManager,null,null,(t,n)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):n&&(e.extend(this,n),n.bounds&&(this.tileBounds=new F(n.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(n.tiles),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,n){const i=e.exported.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),i,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),(i,r,o,a)=>(delete t.request,t.aborted?(t.state="unloaded",n(null)):i?(t.state="errored",n(i)):r?(this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:o,expires:a}),t.setTexture(r,this.map.painter),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),void n(null)):n(null)))}static loadTileData(e,t,n){e.setTexture(t,n)}static unloadTileData(e,t){e.texture&&t.saveTileTexture(e.texture)}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}let Ce;function ke(t,n,i,r,o,a,s,l){const c=[t,i,o,n,r,a,1,1,1],u=[s,l,1],h=e.adjoint([],c),[d,p,f]=e.transformMat3(u,u,e.transpose(h,h));return e.multiply$1(c,[d,0,0,0,p,0,0,0,f],c)}class Ae extends e.Evented{constructor(e,t,n,i){super(),this.id=e,this.dispatcher=n,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=t,this._dirty=!1}load(t,n){this._loaded=n||!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(n,i)=>{if(this._imageRequest=null,this._loaded=!0,n)this.fire(new e.ErrorEvent(n));else if(i){const{HTMLImageElement:n}=e.window;this.image=i instanceof n?e.exported.getImageData(i):i,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,t&&(this.coordinates=t),this._finishLoading()}})}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this._imageRequest&&e.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(t){this.coordinates=t,this._boundsArray=void 0;const n=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){let n=1/0,i=1/0,r=-1/0,o=-1/0;for(const e of t)n=Math.min(n,e.x),i=Math.min(i,e.y),r=Math.max(r,e.x),o=Math.max(o,e.y);const a=Math.max(r-n,o-i),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),l=Math.pow(2,s);return new e.CanonicalTileID(s,Math.floor((n+r)/2*l),Math.floor((i+o)/2*l))}(n),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(t){for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}if(this._boundsArray)return;const n=e.tileTransform(this.tileID,this.map.transform.projection),[i,r,o,a]=this.coordinates.map(t=>{const i=n.projection.project(t[0],t[1]);return e.getTilePoint(n,i)._round()});this.perspectiveTransform=function(t,n,i,r,o,a,s,l,c,u){const h=ke(0,0,t,0,0,n,t,n),d=ke(i,r,o,a,s,l,c,u);return e.multiply$1(d,e.adjoint(h,h),d),[d[6]/d[8]*t/e.EXTENT,d[7]/d[8]*n/e.EXTENT]}(this.width,this.height,i.x,i.y,r.x,r.y,a.x,a.y,o.x,o.y);const s=this._boundsArray=new e.StructArrayLayout4i8;s.emplaceBack(i.x,i.y,0,0),s.emplaceBack(r.x,r.y,e.EXTENT,0),s.emplaceBack(a.x,a.y,0,e.EXTENT),s.emplaceBack(o.x,o.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(s,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,n=t.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(t)}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Pe={vector:class extends e.Evented{constructor(t,n,i,r){if(super(),this.id=t,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(n,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r),this._tileWorkers={},this._deduped=new e.DedupedRequest}load(t){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"}));const n=Array.isArray(this.map._language)?this.map._language.join():this.map._language,i=this.map._worldview;this._tileJSONRequest=j(this._options,this.map._requestManager,n,i,(r,o)=>{this._tileJSONRequest=null,this._loaded=!0,r?(n&&console.warn("Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: "+n),i&&2!==i.length&&console.warn("Requested worldview strings must be a valid ISO alpha-2 code. Found: "+i),this.fire(new e.ErrorEvent(r))):o&&(e.extend(this,o),o.bounds&&(this.tileBounds=new F(o.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(o.tiles,this.map._requestManager._customAccessToken),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(r)})}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const e=this.map.style._getSourceCaches(this.id);for(const t of e)t.clearTiles()})}setSourceProperty(e){e(),this.reload()}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return e.extend({},this._options)}loadTile(t,n){const i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(i,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(r.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",r,o.bind(this));else if(t.actor=this._tileWorkers[i]=this._tileWorkers[i]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",r,o.bind(this),void 0,!0);else{const n=e.loadVectorTile.call({deduped:this._deduped},r,(e,n)=>{e||!n?o.call(this,e):(r.data={cacheControl:n.cacheControl,expires:n.expires,rawData:n.rawData.slice(0)},t.actor&&t.actor.send("loadTile",r,o.bind(this),void 0,!0))},!0);t.request={cancel:n}}function o(i,r){return delete t.request,t.aborted?n(null):i&&404!==i.status?n(i):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:Ie,"raster-dem":class extends Ie{constructor(t,n,i,r){super(t,n,i,r),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}loadTile(t,n){const i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(e,i){e&&(t.state="errored",n(e)),i&&(t.dem=i,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),function(i,o,a,s){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(i)t.state="errored",n(i);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:a,expires:s});const n=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&(null==Ce&&(Ce=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),Ce),i=1-(o.width-e.prevPowerOfTwo(o.width))/2;i<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));const l=n?o:e.exported.getImageData(o,i),c={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:l,encoding:this.encoding,padding:i};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",c,r.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(t){const n=t.canonical,i=Math.pow(2,n.z),r=(n.x-1+i)%i,o=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+i)%i,s=n.x+1===i?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<i&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}},geojson:class extends e.Evented{constructor(t,n,i,r){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(r),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;const o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*o,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==n.clusterRadius?n.clusterRadius:50)*o,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions)}onAdd(e){this.map=e,this.setData(this._data)}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,n,i){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},i),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;const t=e.extend({},this.workerOptions),n=this._data;"string"==typeof n?(t.request=this.map._requestManager.transformRequest(e.exported.resolveURL(n),e.ResourceType.Source),t.request.collectResourceTiming=this._collectResourceTiming):t.data=JSON.stringify(n),this._pendingLoad=this.actor.send(this.type+".loadData",t,(t,n)=>{if(this._loaded=!0,this._pendingLoad=null,t)this.fire(new e.ErrorEvent(t));else{const t={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&n&&n.resourceTiming&&n.resourceTiming[this.id]&&(t.resourceTiming=n.resourceTiming[this.id]),this.fire(new e.Event("data",t)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(t,n){const i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(e,r)=>(delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(r,this.map.painter,"reloadTile"===i),n(null))),void 0,"loadTile"===i)}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Ae{constructor(e,t,n,i){super(e,t,n,i),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const n of t.urls)this.urls.push(this.map._requestManager.transformRequest(n,e.ResourceType.Source).url);e.getVideo(this.urls,(t,n)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):n&&(this.video=n,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,`Playback for this video can be set only between the ${n.start(0)} and ${n.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,n=t.gl;this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Ae,canvas:class extends Ae{constructor(t,n,i,r){super(t,n,i,r),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some(e=>!Array.isArray(e)||2!==e.length||e.some(e=>"number"!=typeof e))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const n=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,n.gl.RGBA,{premultiply:!0}),this._prepareData(n)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}},custom:class extends e.Evented{constructor(t,n,i,r){super(),this.id=t,this.type="custom",this._dataType="raster",this._dispatcher=i,this._implementation=n,this.setEventedParent(r),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new e.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new e.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new F(this._implementation.bounds,this.minzoom,this.maxzoom)),n.update=this._update.bind(this),n.clearTiles=this._clearTiles.bind(this),n.coveringTiles=this._coveringTiles.bind(this),e.extend(this,e.pick(n,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return e.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(t){this._map=t,this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load()}onRemove(e){this._implementation.onRemove&&this._implementation.onRemove(e)}hasTile(e){if(this._implementation.hasTile){const{x:t,y:n,z:i}=e.canonical;return this._implementation.hasTile({x:t,y:n,z:i})}return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,n){const{x:i,y:r,z:o}=t.tileID.canonical,a=new e.window.AbortController;t.request=Promise.resolve(this._implementation.loadTile({x:i,y:r,z:o},{signal:a.signal})).then(function(i){return delete t.request,t.aborted?(t.state="unloaded",n(null)):void 0===i?(t.state="errored",n(null)):null===i?(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",n(null)):function(t){return t instanceof e.window.ImageData||t instanceof e.window.HTMLCanvasElement||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLImageElement}(i)?(this.loadTileData(t,i),t.state="loaded",void n(null)):(t.state="errored",n(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(e=>{20!==e.code&&(t.state="errored",n(e))}),t.request.cancel=()=>a.abort()}loadTileData(e,t){Ie.loadTileData(e,t,this._map.painter)}unloadTileData(e){Ie.unloadTileData(e,this._map.painter)}unloadTile(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){const{x:t,y:n,z:i}=e.tileID.canonical;this._implementation.unloadTile({x:t,y:n,z:i})}t()}abortTile(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(e=>({x:e.canonical.x,y:e.canonical.y,z:e.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}}},ze=function(t,n,i,r){const o=new Pe[n.type](t,n,i,r);if(o.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${o.id}`);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o};function De(t,n){const i=e.identity([]);return e.scale(i,i,[.5*t.width,.5*-t.height,1]),e.translate(i,i,[1,-1,0]),e.multiply(i,i,t.calculateProjMatrix(n.toUnwrapped())),Float32Array.from(i)}function Le(e,t,n,i,r,o,a,s=!1){const l=e.tilesIn(i,a,s);l.sort(Re);const c=[];for(const i of l)c.push({wrappedTileID:i.tile.tileID.wrapped().key,queryResults:i.tile.queryRenderedFeatures(t,n,e._state,i,r,o,De(e.transform,i.tile.tileID),s)});const u=function(e){const t={},n={};for(const i of e){const e=i.queryResults,r=i.wrappedTileID,o=n[r]=n[r]||{};for(const n in e){const i=e[n],r=o[n]=o[n]||{},a=t[n]=t[n]||[];for(const e of i)r[e.featureIndex]||(r[e.featureIndex]=!0,a.push(e))}}return t}(c);for(const t in u)u[t].forEach(t=>{const n=t.feature,i=n.layer;i&&"background"!==i.type&&"sky"!==i.type&&(n.source=i.source,i["source-layer"]&&(n.sourceLayer=i["source-layer"]),n.state=void 0!==n.id?e.getFeatureState(i["source-layer"],n.id):{})});return u}function Oe(e,t){const n=e.getRenderableIds().map(t=>e.getTileByID(t)),i=[],r={};for(let e=0;e<n.length;e++){const o=n[e],a=o.tileID.canonical.key;r[a]||(r[a]=!0,o.querySourceFeatures(i,t))}return i}function Re(e,t){const n=e.tileID,i=t.tileID;return n.overscaledZ-i.overscaledZ||n.canonical.y-i.canonical.y||n.wrap-i.wrap||n.canonical.x-i.canonical.x}function Be(){return null!=fo.workerClass?new fo.workerClass:new e.window.Worker(fo.workerUrl)}const je="mapboxgl_preloaded_worker_pool";class Fe{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<Fe.workerCount;)this.workers.push(new Be);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach(e=>{e.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[je]}numActive(){return Object.keys(this.active).length}}let Ne;function Ue(){return Ne||(Ne=new Fe),Ne}function Ve(t,n){const i={};for(const e in t)"ref"!==e&&(i[e]=t[e]);return e.refProperties.forEach(e=>{e in n&&(i[e]=n[e])}),i}function Ge(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Ve(e[n],t[e[n].ref]));return e}Fe.workerCount=2;const Ze={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function We(e,t,n){n.push({command:Ze.addSource,args:[e,t[e]]})}function qe(e,t,n){t.push({command:Ze.removeSource,args:[e]}),n[e]=!0}function $e(e,t,n,i){qe(e,n,i),We(e,t,n)}function He(e,n,i){let r;for(r in e[i])if(e[i].hasOwnProperty(r)&&"data"!==r&&!t(e[i][r],n[i][r]))return!1;for(r in n[i])if(n[i].hasOwnProperty(r)&&"data"!==r&&!t(e[i][r],n[i][r]))return!1;return!0}function Xe(e,n,i,r,o,a){let s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t(e[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t(e[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}))}function Ye(e){return e.id}function Je(e,t){return e[t.id]=t,e}class Qe{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let n=1,i=this._distances[n];const r=t*this.paddedLength+this.padding;for(;i<r&&n<this._distances.length;)i=this._distances[++n];const o=n-1,a=this._distances[o],s=i-a,l=s>0?(r-a)/s:0;return this.points[o].mult(1-l).add(this.points[n].mult(l))}}class Ke{constructor(e,t,n){const i=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(let e=0;e<this.xCellCount*this.yCellCount;e++)i.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)}insertCircle(e,t,n,i){this._forEachCell(t-i,n-i,t+i,n+i,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(i)}_insertBoxCell(e,t,n,i,r,o){this.boxCells[r].push(o)}_insertCircleCell(e,t,n,i,r,o){this.circleCells[r].push(o)}_query(e,t,n,i,r,o){if(n<0||e>this.width||i<0||t>this.height)return!r&&[];const a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=i){if(r)return!0;for(let e=0;e<this.boxKeys.length;e++)a.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],n=this.circles[3*e+1],i=this.circles[3*e+2];a.push({key:this.circleKeys[e],x1:t-i,y1:n-i,x2:t+i,y2:n+i})}return o?a.filter(o):a}return this._forEachCell(e,t,n,i,this._queryCell,a,{hitTest:r,seenUids:{box:{},circle:{}}},o),r?a.length>0:a}_queryCircle(e,t,n,i,r){const o=e-n,a=e+n,s=t-n,l=t+n;if(a<0||o>this.width||l<0||s>this.height)return!i&&[];const c=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,c,{hitTest:i,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},r),i?c.length>0:c}query(e,t,n,i,r){return this._query(e,t,n,i,!1,r)}hitTest(e,t,n,i,r){return this._query(e,t,n,i,!0,r)}hitTestCircle(e,t,n,i){return this._queryCircle(e,t,n,!0,i)}_queryCell(e,t,n,i,r,o,a,s){const l=a.seenUids,c=this.boxCells[r];if(null!==c){const r=this.bboxes;for(const u of c)if(!l.box[u]){l.box[u]=!0;const c=4*u;if(e<=r[c+2]&&t<=r[c+3]&&n>=r[c+0]&&i>=r[c+1]&&(!s||s(this.boxKeys[u]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[u],x1:r[c],y1:r[c+1],x2:r[c+2],y2:r[c+3]})}}}const u=this.circleCells[r];if(null!==u){const r=this.circles;for(const c of u)if(!l.circle[c]){l.circle[c]=!0;const u=3*c;if(this._circleAndRectCollide(r[u],r[u+1],r[u+2],e,t,n,i)&&(!s||s(this.circleKeys[c]))){if(a.hitTest)return o.push(!0),!0;{const e=r[u],t=r[u+1],n=r[u+2];o.push({key:this.circleKeys[c],x1:e-n,y1:t-n,x2:e+n,y2:t+n})}}}}}_queryCellCircle(e,t,n,i,r,o,a,s){const l=a.circle,c=a.seenUids,u=this.boxCells[r];if(null!==u){const e=this.bboxes;for(const t of u)if(!c.box[t]){c.box[t]=!0;const n=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[n+0],e[n+1],e[n+2],e[n+3])&&(!s||s(this.boxKeys[t])))return o.push(!0),!0}}const h=this.circleCells[r];if(null!==h){const e=this.circles;for(const t of h)if(!c.circle[t]){c.circle[t]=!0;const n=3*t;if(this._circlesCollide(e[n],e[n+1],e[n+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[t])))return o.push(!0),!0}}}_forEachCell(e,t,n,i,r,o,a,s){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(n),h=this._convertToYCellCoord(i);for(let d=l;d<=u;d++)for(let l=c;l<=h;l++)if(r.call(this,e,t,n,i,this.xCellCount*l+d,o,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,n,i,r,o){const a=i-e,s=r-t,l=n+o;return l*l>a*a+s*s}_circleAndRectCollide(e,t,n,i,r,o,a){const s=(o-i)/2,l=Math.abs(e-(i+s));if(l>s+n)return!1;const c=(a-r)/2,u=Math.abs(t-(r+c));if(u>c+n)return!1;if(l<=s||u<=c)return!0;const h=l-s,d=u-c;return h*h+d*d<=n*n}}const et=Math.tan(85*Math.PI/180);function tt(t,n,i,r,o,a,s){const l=e.create();if(i)if("globe"===a.name){const t=e.calculateGlobeLabelMatrix(o,n);e.multiply(l,l,t)}else{const t=_([],s);l[0]=t[0],l[1]=t[1],l[4]=t[2],l[5]=t[3],r||e.rotateZ(l,l,o.angle)}else e.multiply(l,o.labelPlaneMatrix,t);return l}function nt(e,t,n,i,r,o,a){const s=tt(e,t,n,i,r,o,a);return"globe"===o.name&&n||(s[2]=s[6]=s[10]=s[14]=0),s}function it(t,n,i,r,o,a,s){if(i){if("globe"===a.name){const l=tt(t,n,i,r,o,a,s);return e.invert(l,l),e.multiply(l,t,l),l}{const n=e.clone(t),i=e.identity([]);return i[0]=s[0],i[1]=s[1],i[4]=s[2],i[5]=s[3],e.multiply(n,n,i),r||e.rotateZ(n,n,-o.angle),n}}return o.glCoordMatrix}function rt(t,n,i,r){const o=[t,n,i,1];i?e.transformMat4$1(o,o,r):mt(o,o,r);const a=o[3];return o[0]/=a,o[1]/=a,o[2]/=a,o}function ot(e,t){return Math.min(.5+e/t*.5,1.5)}function at(e,t){const n=e[0]/e[3],i=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&i>=-t[1]&&i<=t[1]}function st(t,n,i,r,o,a,s,l,c,u){const h=i.transform,d=r?t.textSizeData:t.iconSizeData,p=e.evaluateSizeForZoom(d,i.transform.zoom),f="globe"===h.projection.name,m=[256/i.width*2+1,256/i.height*2+1],g=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;g.clear();let y=null;f&&(y=r?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);const _=t.lineVertexArray,v=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,x=i.transform.width/i.transform.height;let b,w=!1;for(let r=0;r<v.length;r++){const f=v.get(r),{numGlyphs:T,writingMode:E}=f;if(E!==e.WritingMode.vertical||w||b===e.WritingMode.horizontal||(w=!0),b=E,(f.hidden||E===e.WritingMode.vertical)&&!w){ft(T,g);continue}w=!1;const S=new e.pointGeometry(f.tileAnchorX,f.tileAnchorY);let{x:M,y:I,z:C}=h.projection.projectTilePoint(S.x,S.y,u.canonical);if(c){const[e,t,n]=c(S);M+=e,I+=t,C+=n}const k=[M,I,C,1];if(e.transformMat4$1(k,k,n),!at(k,m)){ft(T,g);continue}const A=ot(i.transform.cameraToCenterDistance,k[3]),P=e.evaluateSizeForFeature(d,p,f),z=s?P/A:P*A,D=rt(M,I,C,o);if(D[3]<=0){ft(T,g);continue}let L={};const O=s?null:c,R=ut(f,z,!1,l,n,o,a,t.glyphOffsetArray,_,g,y,D,S,L,x,O,h.projection,u,s);w=R.useVertical,O&&R.needsFlipping&&(L={}),(R.notEnoughRoom||w||R.needsFlipping&&ut(f,z,!0,l,n,o,a,t.glyphOffsetArray,_,g,y,D,S,L,x,O,h.projection,u,s).notEnoughRoom)&&ft(T,g)}r?(t.text.dynamicLayoutVertexBuffer.updateData(g),y&&t.text.globeExtVertexBuffer.updateData(y)):(t.icon.dynamicLayoutVertexBuffer.updateData(g),y&&t.icon.globeExtVertexBuffer.updateData(y))}function lt(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m){const{lineStartIndex:g,glyphStartIndex:y,segment:_}=s,v=y+s.numGlyphs,x=g+s.lineLength,b=t.getoffsetX(y),w=t.getoffsetX(v-1),T=pt(e*b,n,i,r,o,a,_,g,x,l,c,u,h,d,!0,p,f,m);if(!T)return null;const E=pt(e*w,n,i,r,o,a,_,g,x,l,c,u,h,d,!0,p,f,m);return E?{first:T,last:E}:null}function ct(t,n,i,r){return t===e.WritingMode.horizontal&&Math.abs(r)>Math.abs(i)?{useVertical:!0}:t===e.WritingMode.vertical?r>0?{needsFlipping:!0}:null:0!==n&&function(e,t){return 0===e||Math.abs(t/e)>et}(i,r)?1===n?{needsFlipping:!0}:null:i<0?{needsFlipping:!0}:null}function ut(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v){const x=n/24,b=t.lineOffsetX*x,w=t.lineOffsetY*x,{lineStartIndex:T,glyphStartIndex:E,numGlyphs:S,segment:M,writingMode:I,flipState:C}=t,k=T+t.lineLength,A=t=>{if(h){const[n,i,r]=t.up,o=u.length;e.updateGlobeVertexNormal(h,o+0,n,i,r),e.updateGlobeVertexNormal(h,o+1,n,i,r),e.updateGlobeVertexNormal(h,o+2,n,i,r),e.updateGlobeVertexNormal(h,o+3,n,i,r)}const[n,i,r]=t.point;e.addDynamicAttributes(u,n,i,r,t.angle)};if(S>1){const e=lt(x,l,b,w,i,d,p,t,c,a,f,g,!1,y,_,v);if(!e)return{notEnoughRoom:!0};if(r&&!i){let[n,i,r]=e.first.point,[o,a,l]=e.last.point;[n,i]=rt(n,i,r,s),[o,a]=rt(o,a,l,s);const c=ct(I,C,(o-n)*m,a-i);if(t.flipState=c&&c.needsFlipping?1:2,c)return c}A(e.first);for(let e=E+1;e<E+S-1;e++){const t=pt(x*l.getoffsetX(e),b,w,i,d,p,M,T,k,c,a,f,g,!1,!1,y,_,v);if(!t)return u.length-=4*(e-E),{notEnoughRoom:!0};A(t)}A(e.last)}else{if(r&&!i){const n=rt(p.x,p.y,0,o),i=T+M+1,r=new e.pointGeometry(c.getx(i),c.gety(i)),a=rt(r.x,r.y,0,o),s=a[3]>0?a:dt(p,r,n,1,o,void 0,y,_.canonical),l=ct(I,C,(s[0]-n[0])*m,s[1]-n[1]);if(t.flipState=l&&l.needsFlipping?1:2,l)return l}const n=pt(x*l.getoffsetX(E),b,w,i,d,p,M,T,k,c,a,f,g,!1,!1,y,_,v);if(!n)return{notEnoughRoom:!0};A(n)}return{}}function ht(e,t,n,i,r){const{x:o,y:a,z:s}=i.projectTilePoint(e.x,e.y,t);if(!r)return rt(o,a,s,n);const[l,c,u]=r(e);return rt(o+l,a+c,s+u,n)}function dt(t,n,i,r,o,a,s,l){const c=ht(t.sub(n)._unit()._add(t),l,o,s,a);return e.sub(c,i,c),e.normalize(c,c),e.scaleAndAdd(c,i,c,r)}function pt(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_){const v=r?t-n:t+n;let x=v>0?1:-1,b=0;r&&(x*=-1,b=Math.PI),x<0&&(b+=Math.PI);let w=l+s+(x>0?0:1)|0,T=o,E=o,S=0,M=0;const I=Math.abs(v),C=[],k=[];let A=a,P=A;const z=()=>dt(P,A,E,I-S+1,h,p,g,y.canonical);for(;S+M<=I;){if(w+=x,w<l||w>=c)return null;if(E=T,P=A,C.push(E),f&&k.push(P),A=new e.pointGeometry(u.getx(w),u.gety(w)),T=d[w],!T){const e=ht(A,y.canonical,h,g,p);T=e[3]>0?d[w]=e:z()}S+=M,M=e.distance(E,T)}m&&p&&(d[w]&&(T=z(),M=e.distance(E,T)),d[w]=T);const D=(I-S)/M,L=A.sub(P)._mult(D)._add(P),O=e.sub([],T,E),R=e.scaleAndAdd([],E,O,D);let B=[0,0,1],j=O[0],F=O[1];if(_&&(B=g.upVector(y.canonical,L.x,L.y),0!==B[0]||0!==B[1]||1!==B[2])){const t=[B[2],0,-B[0]],n=e.cross([],B,t);e.normalize(t,t),e.normalize(n,n),j=e.dot(O,t),F=e.dot(O,n)}if(i){const t=e.cross([],B,O);e.normalize(t,t),e.scaleAndAdd(R,R,t,i*x)}const N=b+Math.atan2(F,j);return C.push(R),f&&k.push(L),{point:R,angle:N,path:C,tilePath:k,up:B}}function ft(e,t){const n=t.length,i=n+4*e;t.resize(i),t.float32.fill(-1/0,4*n,4*i)}function mt(e,t,n){const i=t[0],r=t[1];return e[0]=n[0]*i+n[4]*r+n[12],e[1]=n[1]*i+n[5]*r+n[13],e[3]=n[3]*i+n[7]*r+n[15],e}const gt=100;class yt{constructor(e,t,n=new Ke(e.width+200,e.height+200,25),i=new Ke(e.width+200,e.height+200,25)){this.transform=e,this.grid=n,this.ignoredGrid=i,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+gt,this.screenBottomBoundary=e.height+gt,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t}placeCollisionBox(e,t,n,i,r,o,a,s){let l=n.projectedAnchorX,c=n.projectedAnchorY,u=n.projectedAnchorZ;const h=n.elevation,d=n.tileID,p=e.getProjection();if(h&&d){const[e,t,i]=p.upVector(d.canonical,n.tileAnchorX,n.tileAnchorY),r=p.upVectorScale(d.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=e*h*r,c+=t*h*r,u+=i*h*r}const f=this.projectAndGetPerspectiveRatio(a,l,c,u,n.tileID,"globe"===p.name||!!h||this.transform.pitch>0,p),m=o*f.perspectiveRatio,g=(n.x1*t+i.x-n.padding)*m+f.point.x,y=(n.y1*t+i.y-n.padding)*m+f.point.y,_=(n.x2*t+i.x+n.padding)*m+f.point.x,v=(n.y2*t+i.y+n.padding)*m+f.point.y,x=f.perspectiveRatio<=.55||f.occluded;return!this.isInsideGrid(g,y,_,v)||!r&&this.grid.hitTest(g,y,_,v,s)||x?{box:[],offscreen:!1,occluded:f.occluded}:{box:[g,y,_,v],offscreen:this.isOffscreen(g,y,_,v),occluded:!1}}placeCollisionCircles(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m){const g=[],y=this.transform.elevation,_=t.getProjection(),v=y?y.getAtTileOffsetFunc(m,this.transform.center.lat,this.transform.worldSize,_):null,x=new e.pointGeometry(i.tileAnchorX,i.tileAnchorY);let{x:b,y:w,z:T}=_.projectTilePoint(x.x,x.y,m.canonical);if(v){const[e,t,n]=v(x);b+=e,w+=t,T+=n}const E="globe"===_.name,S=this.projectAndGetPerspectiveRatio(s,b,w,T,m,E||!!y||this.transform.pitch>0,_),{perspectiveRatio:M}=S,I=(h?a/M:a*M)/e.ONE_EM,C=rt(b,w,T,l),k=S.signedDistanceFromCamera>0?lt(I,o,i.lineOffsetX*I,i.lineOffsetY*I,!1,C,x,i,r,l,{},y&&!h?v:null,h&&!!y,_,m,h):null;let A=!1,P=!1,z=!0;if(k&&!S.occluded){const t=.5*p*M+f,i=new e.pointGeometry(-100,-100),r=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),o=new Qe,{first:a,last:s}=k,l=a.path.length;let h=[];for(let e=l-1;e>=1;e--)h.push(a.path[e]);for(let e=1;e<s.path.length;e++)h.push(s.path[e]);const m=2.5*t;c&&(h=h.map(([e,t,n],i)=>(v&&!E&&(n=v(i<l-1?a.tilePath[l-1-i]:s.tilePath[i-l+2])[2]),rt(e,t,n,c))),h.some(e=>e[3]<=0)&&(h=[]));let y=[];if(h.length>0){let t=1/0,n=-1/0,o=1/0,a=-1/0;for(const e of h)t=Math.min(t,e[0]),o=Math.min(o,e[1]),n=Math.max(n,e[0]),a=Math.max(a,e[1]);n>=i.x&&t<=r.x&&a>=i.y&&o<=r.y&&(y=[h.map(t=>new e.pointGeometry(t[0],t[1]))],(t<i.x||n>r.x||o<i.y||a>r.y)&&(y=e.clipLine(y,i.x,i.y,r.x,r.y)))}for(const e of y){o.reset(e,.25*t);let i=0;i=o.length<=.5*t?1:Math.ceil(o.paddedLength/m)+1;for(let e=0;e<i;e++){const r=e/Math.max(i-1,1),a=o.lerp(r),s=a.x+gt,l=a.y+gt;g.push(s,l,t,0);const c=s-t,h=l-t,p=s+t,f=l+t;if(z=z&&this.isOffscreen(c,h,p,f),P=P||this.isInsideGrid(c,h,p,f),!n&&this.grid.hitTestCircle(s,l,t,d)&&(A=!0,!u))return{circles:[],offscreen:!1,collisionDetected:A,occluded:!1}}}}return{circles:!u&&A||!P?[]:g,offscreen:z,collisionDetected:A,occluded:S.occluded}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const n=[];let i=1/0,r=1/0,o=-1/0,a=-1/0;for(const s of t){const t=new e.pointGeometry(s.x+gt,s.y+gt);i=Math.min(i,t.x),r=Math.min(r,t.y),o=Math.max(o,t.x),a=Math.max(a,t.y),n.push(t)}const s=this.grid.query(i,r,o,a).concat(this.ignoredGrid.query(i,r,o,a)),l={},c={};for(const t of s){const i=t.key;if(void 0===l[i.bucketInstanceId]&&(l[i.bucketInstanceId]={}),l[i.bucketInstanceId][i.featureIndex])continue;const r=[new e.pointGeometry(t.x1,t.y1),new e.pointGeometry(t.x2,t.y1),new e.pointGeometry(t.x2,t.y2),new e.pointGeometry(t.x1,t.y2)];e.polygonIntersectsPolygon(n,r)&&(l[i.bucketInstanceId][i.featureIndex]=!0,void 0===c[i.bucketInstanceId]&&(c[i.bucketInstanceId]=[]),c[i.bucketInstanceId].push(i.featureIndex))}return c}insertCollisionBox(e,t,n,i,r){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:i,collisionGroupID:r},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,n,i,r){const o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:i,collisionGroupID:r};for(let t=0;t<e.length;t+=4)o.insertCircle(a,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(t,n,i,r,o,a,s){const l=[n,i,r,1];let c=!1;if(r||this.transform.pitch>0){e.transformMat4$1(l,l,t);const a="globe"===s.name;if(this.fogState&&o&&!a){c=function(t,n,i,r,o,a){const s=a.calculateFogTileMatrix(o),l=[n,i,r];return e.transformMat4(l,l,s),I(t,l,a.pitch,a._fov)}(this.fogState,n,i,r,o.toUnwrapped(),this.transform)>.9}}else mt(l,l,t);const u=l[3];return{point:new e.pointGeometry((l[0]/u+1)/2*this.transform.width+gt,(-l[1]/u+1)/2*this.transform.height+gt),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(s)/u*.5,1.5),signedDistanceFromCamera:u,occluded:a&&l[2]>u||c}}isOffscreen(e,t,n,i){return n<gt||e>=this.screenRightBoundary||i<gt||t>this.screenBottomBoundary}isInsideGrid(e,t,n,i){return n>=0&&e<this.gridRightBoundary&&i>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function _t(t,n,i){const r=n.createTileMatrix(t,t.worldSize,i.toUnwrapped());return e.multiply(new Float32Array(16),t.projMatrix,r)}function vt(e,t,n){if(t.projection.name===n.projection.name)return e.projMatrix;const i=n.clone();return i.setProjection(t.projection),_t(i,t.getProjection(),e)}function xt(e,t,n){return t.name===n.projection.name?e.projMatrix:_t(n,t,e)}class bt{constructor(e,t,n,i){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):i&&n?1:0,this.placed=n}isHidden(){return 0===this.opacity&&!this.placed}}class wt{constructor(e,t,n,i,r,o=!1){this.text=new bt(e?e.text:null,t,n,r),this.icon=new bt(e?e.icon:null,t,i,r),this.clipped=o}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Tt{constructor(e,t,n,i=!1){this.text=e,this.icon=t,this.skipFade=n,this.clipped=i}}class Et{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class St{constructor(e,t,n,i,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=i,this.tileID=r}}class Mt{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function It(t,n,i,r,o){const{horizontalAlign:a,verticalAlign:s}=e.getAnchorAlignment(t),l=-(a-.5)*n,c=-(s-.5)*i,u=e.evaluateVariableOffset(t,r);return new e.pointGeometry(l+u[0]*o,c+u[1]*o)}function Ct(t,n,i,r,o){const a=new e.pointGeometry(t,n);return i&&a._rotate(r?o:-o),a}class kt{constructor(e,t,n,i,r){this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new yt(this.transform,r),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new Mt(n),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,n,i,r){const o=i.getBucket(n),a=i.latestFeatureIndex;if(!o||!a||n.id!==o.layerIds[0])return;const s=o.layers[0].layout,l=i.collisionBoxArray,c=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),u=i.tileSize/e.EXTENT,h=i.tileID.toUnwrapped();this.transform.setProjection(o.projection);const d=(p=i.tileID,f=o.getProjection(),m=this.transform,f.name===this.projection?m.calculateProjMatrix(p.toUnwrapped()):_t(m,f,p));var p,f,m;const g="map"===s.get("text-pitch-alignment"),y="map"===s.get("text-rotation-alignment");n.compileFilter();const _=n.dynamicFilter(),v=n.dynamicFilterNeedsFeature(),x=this.transform.calculatePixelsToTileUnitsMatrix(i),b=nt(d,i.tileID.canonical,g,y,this.transform,o.getProjection(),x);let w=null;if(g){const t=it(d,i.tileID.canonical,g,y,this.transform,o.getProjection(),x);w=e.multiply([],this.transform.labelPlaneMatrix,t)}let T=null;_&&i.latestFeatureIndex&&(T={unwrappedTileID:h,dynamicFilter:_,dynamicFilterNeedsFeature:v,featureIndex:i.latestFeatureIndex}),this.retainedQueryData[o.bucketInstanceId]=new St(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,i.tileID);const E={bucket:o,layout:s,posMatrix:d,textLabelPlaneMatrix:b,labelToScreenMatrix:w,clippingData:T,scale:c,textPixelRatio:u,holdingForFade:i.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(o.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(r)for(const e of o.sortKeyRanges){const{sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r}=e;t.push({sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r,parameters:E})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:E})}attemptAnchorPlacement(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y){const{textOffset0:_,textOffset1:v,crossTileID:x}=h,b=[_,v],w=It(e,n,i,b,r),T=this.collisionIndex.placeCollisionBox(p,r,t,Ct(w.x,w.y,o,a,this.transform.angle),u,s,l,c.predicate);if(m){const e=p.getSymbolInstanceIconSize(y,this.transform.zoom,h.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(p,e,m,Ct(w.x,w.y,o,a,this.transform.angle),u,s,l,c.predicate).box.length)return}if(T.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[x]&&this.prevPlacement.placements[x]&&this.prevPlacement.placements[x].text&&(t=this.prevPlacement.variableOffsets[x].anchor),this.variableOffsets[x]={textOffset:b,width:n,height:i,anchor:e,textScale:r,prevAnchor:t},this.markUsedJustification(p,e,h,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,h),this.placedOrientations[x]=f),{shift:w,placedGlyphBoxes:T}}}placeLayerBucketPart(t,n,i,r){const{bucket:o,layout:a,posMatrix:s,textLabelPlaneMatrix:l,labelToScreenMatrix:c,clippingData:u,textPixelRatio:h,holdingForFade:d,collisionBoxArray:p,partiallyEvaluatedTextSize:f,partiallyEvaluatedIconSize:m,collisionGroup:g}=t.parameters,y=a.get("text-optional"),_=a.get("icon-optional"),v=a.get("text-allow-overlap"),x=a.get("icon-allow-overlap"),b="map"===a.get("text-rotation-alignment"),w="map"===a.get("text-pitch-alignment"),T="none"!==a.get("icon-text-fit"),E="viewport-y"===a.get("symbol-z-order");this.transform.setProjection(o.projection);let S=v&&(x||!o.hasIconData()||_),M=x&&(v||!o.hasTextData()||y);!o.collisionArrays&&p&&o.deserializeCollisionBoxes(p),i&&r&&o.updateCollisionDebugBuffers(this.transform.zoom,p);const I=(t,r,p)=>{const{crossTileID:E,numVerticalGlyphVertices:I}=t;if(u){const i={zoom:this.transform.zoom,pitch:this.transform.pitch};let r=null;if(u.dynamicFilterNeedsFeature){const e=this.retainedQueryData[o.bucketInstanceId];r=u.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:e.bucketIndex,sourceLayerIndex:e.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,u.dynamicFilter)(i,r,this.retainedQueryData[o.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),this.transform.calculateDistanceTileData(u.unwrappedTileID)))return this.placements[E]=new Tt(!1,!1,!1,!0),void(n[E]=!0)}if(n[E])return;if(d)return void(this.placements[E]=new Tt(!1,!1,!1));let C=!1,k=!1,A=!0,P=!1,z=!1,D=null,L={box:null,offscreen:null,occluded:null},O={box:null,offscreen:null,occluded:null},R=null,B=null,j=null,F=0,N=0,U=0;p.textFeatureIndex?F=p.textFeatureIndex:t.useRuntimeCollisionCircles&&(F=t.featureIndex),p.verticalTextFeatureIndex&&(N=p.verticalTextFeatureIndex);const V=e=>{e.tileID=this.retainedQueryData[o.bucketInstanceId].tileID;const t=this.transform.elevation;(t||e.elevation)&&(e.elevation=t?t.getAtTileOffset(e.tileID,e.tileAnchorX,e.tileAnchorY):0)},G=p.textBox;if(G){V(G);const n=n=>{let i=e.WritingMode.horizontal;if(o.allowVerticalPlacement&&!n&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[E];e&&(this.placedOrientations[E]=e,i=e,this.markUsedOrientation(o,i,t))}return i},i=(t,n)=>{if(o.allowVerticalPlacement&&I>0&&p.verticalTextBox){for(const i of o.writingModes)if(i===e.WritingMode.vertical?(L=n(),O=L):L=t(),L&&L.box&&L.box.length)break}else L=t()};if(a.get("text-variable-anchor")){let l=a.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[E]){const e=this.prevPlacement.variableOffsets[E];l.indexOf(e.anchor)>0&&(l=l.filter(t=>t!==e.anchor),l.unshift(e.anchor))}const c=(e,n,i)=>{const a=o.getSymbolInstanceTextSize(f,t,this.transform.zoom,r),c=(e.x2-e.x1)*a+2*e.padding,u=(e.y2-e.y1)*a+2*e.padding,d=T&&!x?n:null;d&&V(d);let p={box:[],offscreen:!1,occluded:!1};const y=v?2*l.length:l.length;for(let n=0;n<y;++n){const y=this.attemptAnchorPlacement(l[n%l.length],e,c,u,a,b,w,h,s,g,n>=l.length,t,r,o,i,d,f,m);if(y&&(p=y.placedGlyphBoxes,p&&p.box&&p.box.length)){C=!0,D=y.shift;break}}return p};i(()=>c(G,p.iconBox,e.WritingMode.horizontal),()=>{const t=p.verticalTextBox;return t&&V(t),o.allowVerticalPlacement&&!(L&&L.box&&L.box.length)&&I>0&&t?c(t,p.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),L&&(C=L.box,A=L.offscreen,P=L.occluded);const u=n(L&&L.box);if(!C&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[E];e&&(this.variableOffsets[E]=e,this.markUsedJustification(o,e.anchor,t,u))}}else{const a=(n,i)=>{const a=o.getSymbolInstanceTextSize(f,t,this.transform.zoom,r),l=this.collisionIndex.placeCollisionBox(o,a,n,new e.pointGeometry(0,0),v,h,s,g.predicate);return l&&l.box&&l.box.length&&(this.markUsedOrientation(o,i,t),this.placedOrientations[E]=i),l};i(()=>a(G,e.WritingMode.horizontal),()=>{const t=p.verticalTextBox;return o.allowVerticalPlacement&&I>0&&t?(V(t),a(t,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),n(L&&L.box&&L.box.length)}}if(R=L,C=R&&R.box&&R.box.length>0,A=R&&R.offscreen,P=R&&R.occluded,t.useRuntimeCollisionCircles){const n=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),r=e.evaluateSizeForFeature(o.textSizeData,f,n),u=a.get("text-padding");B=this.collisionIndex.placeCollisionCircles(o,v,n,o.lineVertexArray,o.glyphOffsetArray,r,s,l,c,i,w,g.predicate,t.collisionCircleDiameter*r/e.ONE_EM,u,this.retainedQueryData[o.bucketInstanceId].tileID),C=v||B.circles.length>0&&!B.collisionDetected,A=A&&B.offscreen,P=B.occluded}if(p.iconFeatureIndex&&(U=p.iconFeatureIndex),p.iconBox){const n=n=>{V(n);const i=T&&D?Ct(D.x,D.y,b,w,this.transform.angle):new e.pointGeometry(0,0),r=o.getSymbolInstanceIconSize(m,this.transform.zoom,t.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(o,r,n,i,x,h,s,g.predicate)};O&&O.box&&O.box.length&&p.verticalIconBox?(j=n(p.verticalIconBox),k=j.box.length>0):(j=n(p.iconBox),k=j.box.length>0),A=A&&j.offscreen,z=j.occluded}const Z=y||0===t.numHorizontalGlyphVertices&&0===I,W=_||0===t.numIconVertices;if(Z||W?W?Z||(k=k&&C):C=k&&C:k=C=k&&C,C&&R&&R.box&&this.collisionIndex.insertCollisionBox(R.box,a.get("text-ignore-placement"),o.bucketInstanceId,O&&O.box&&N?N:F,g.ID),k&&j&&this.collisionIndex.insertCollisionBox(j.box,a.get("icon-ignore-placement"),o.bucketInstanceId,U,g.ID),B&&(C&&this.collisionIndex.insertCollisionCircles(B.circles,a.get("text-ignore-placement"),o.bucketInstanceId,F,g.ID),i)){const e=o.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new Et);for(let e=0;e<B.circles.length;e+=4)t.circles.push(B.circles[e+0]),t.circles.push(B.circles[e+1]),t.circles.push(B.circles[e+2]),t.circles.push(B.collisionDetected?1:0)}const q="globe"!==o.projection.name;S=S&&(q||!P),M=M&&(q||!z),this.placements[E]=new Tt(C||S,k||M,A||o.justReloaded),n[E]=!0};if(E){const e=o.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const n=e[t];I(o.symbolInstances.get(n),n,o.collisionArrays[n])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)I(o.symbolInstances.get(e),e,o.collisionArrays[e]);if(i&&o.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[o.bucketInstanceId];e.invert(t.invProjMatrix,s),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1}markUsedJustification(t,n,i,r){const{leftJustifiedTextSymbolIndex:o,centerJustifiedTextSymbolIndex:a,rightJustifiedTextSymbolIndex:s,verticalPlacedTextSymbolIndex:l,crossTileID:c}=i,u=e.getAnchorJustification(n),h=r===e.WritingMode.vertical?l:"left"===u?o:"center"===u?a:"right"===u?s:-1;o>=0&&(t.text.placedSymbolArray.get(o).crossTileID=h>=0&&o!==h?0:c),a>=0&&(t.text.placedSymbolArray.get(a).crossTileID=h>=0&&a!==h?0:c),s>=0&&(t.text.placedSymbolArray.get(s).crossTileID=h>=0&&s!==h?0:c),l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=h>=0&&l!==h?0:c)}markUsedOrientation(t,n,i){const r=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,o=n===e.WritingMode.vertical?n:0,{leftJustifiedTextSymbolIndex:a,centerJustifiedTextSymbolIndex:s,rightJustifiedTextSymbolIndex:l,verticalPlacedTextSymbolIndex:c}=i,u=t.text.placedSymbolArray;a>=0&&(u.get(a).placedOrientation=r),s>=0&&(u.get(s).placedOrientation=r),l>=0&&(u.get(l).placedOrientation=r),c>=0&&(u.get(c).placedOrientation=o)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const i=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],o=r[e];o?(this.opacities[e]=new wt(o,i,t.text,t.icon,null,t.clipped),n=n||t.text!==o.text.placed||t.icon!==o.icon.placed):(this.opacities[e]=new wt(null,i,t.text,t.icon,t.skipFade,t.clipped),n=n||t.text||t.icon)}for(const e in r){const t=r[e];if(!this.opacities[e]){const r=new wt(t,i,!1,!1);r.isHidden()||(this.opacities[e]=r,n=n||t.text.placed||t.icon.placed)}}for(const e in o)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=o[e]);for(const e in a)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=a[e]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const n={};for(const i of t){const t=i.getBucket(e);t&&i.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,n,i.collisionBoxArray)}}updateBucketOpacities(t,n,i){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const r=t.layers[0].layout,o=!!t.layers[0].dynamicFilter(),a=new wt(null,0,!1,!1,!0),s=r.get("text-allow-overlap"),l=r.get("icon-allow-overlap"),c=r.get("text-variable-anchor"),u="map"===r.get("text-rotation-alignment"),h="map"===r.get("text-pitch-alignment"),d="none"!==r.get("icon-text-fit"),p=new wt(null,0,s&&(l||!t.hasIconData()||r.get("icon-optional")),l&&(s||!t.hasTextData()||r.get("text-optional")),!0);!t.collisionArrays&&i&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(i);const f=(e,t,n)=>{for(let i=0;i<t/4;i++)e.opacityVertexArray.emplaceBack(n)};let m=0;for(let i=0;i<t.symbolInstances.length;i++){const r=t.symbolInstances.get(i),{numHorizontalGlyphVertices:s,numVerticalGlyphVertices:l,crossTileID:g,numIconVertices:y}=r;let _=this.opacities[g];n[g]?_=a:_||(_=p,this.opacities[g]=_),n[g]=!0;const v=s>0||l>0,x=y>0,b=this.placedOrientations[g],w=b===e.WritingMode.vertical,T=b===e.WritingMode.horizontal||b===e.WritingMode.horizontalOnly;if(!v&&!x||_.isHidden()||m++,v){const e=jt(_.text);f(t.text,s,w?Ft:e),f(t.text,l,T?Ft:e);const n=_.text.isHidden(),{leftJustifiedTextSymbolIndex:i,centerJustifiedTextSymbolIndex:o,rightJustifiedTextSymbolIndex:a,verticalPlacedTextSymbolIndex:c}=r,u=t.text.placedSymbolArray,h=n||w?1:0;i>=0&&(u.get(i).hidden=h),o>=0&&(u.get(o).hidden=h),a>=0&&(u.get(a).hidden=h),c>=0&&(u.get(c).hidden=n||T?1:0);const d=this.variableOffsets[g];d&&this.markUsedJustification(t,d.anchor,r,b);const p=this.placedOrientations[g];p&&(this.markUsedJustification(t,"left",r,p),this.markUsedOrientation(t,p,r))}if(x){const e=jt(_.icon),{placedIconSymbolIndex:n,verticalPlacedIconSymbolIndex:i}=r,o=t.icon.placedSymbolArray,a=_.icon.isHidden()?1:0;n>=0&&(f(t.icon,y,w?Ft:e),o.get(n).hidden=a),i>=0&&(f(t.icon,r.numVerticalIconVertices,T?Ft:e),o.get(i).hidden=a)}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const n=t.collisionArrays[i];if(n){let i=new e.pointGeometry(0,0),r=!0;if(n.textBox||n.verticalTextBox){if(c){const e=this.variableOffsets[g];e?(i=It(e.anchor,e.width,e.height,e.textOffset,e.textScale),u&&i._rotate(h?this.transform.angle:-this.transform.angle)):r=!1}o&&(r=!_.clipped),n.textBox&&At(t.textCollisionBox.collisionVertexArray,_.text.placed,!r||w,i.x,i.y),n.verticalTextBox&&At(t.textCollisionBox.collisionVertexArray,_.text.placed,!r||T,i.x,i.y)}const a=r&&Boolean(!T&&n.verticalIconBox);n.iconBox&&At(t.iconCollisionBox.collisionVertexArray,_.icon.placed,a,d?i.x:0,d?i.y:0),n.verticalIconBox&&At(t.iconCollisionBox.collisionVertexArray,_.icon.placed,!a,d?i.x:0,d?i.y:0)}}}if(t.fullyClipped=0===m,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}setStale(){this.stale=!0}}function At(e,t,n,i,r){e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0)}const Pt=Math.pow(2,25),zt=Math.pow(2,24),Dt=Math.pow(2,17),Lt=Math.pow(2,16),Ot=Math.pow(2,9),Rt=Math.pow(2,8),Bt=Math.pow(2,1);function jt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*Pt+t*zt+n*Dt+t*Lt+n*Ot+t*Rt+n*Bt+t}const Ft=0;class Nt{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,n,i,r){const o=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(o,i,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((e,t)=>e.sortKey-t.sortKey));this._currentPartIndex<o.length;){const e=o[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,n,0===e.symbolInstanceStart),this._currentPartIndex++,r())return!0}return!1}}class Ut{constructor(e,t,n,i,r,o,a,s){this.placement=new kt(e,r,o,a,s),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1}isDone(){return this._done}continuePlacement(t,n,i){const r=e.exported.now(),o=()=>{const t=e.exported.now()-r;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=n[t[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=r)&&(!e.maxzoom||e.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new Nt(e)),this._inProgressLayer.continuePlacement(i[e.source],this.placement,this._showCollisionBoxes,e,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Vt=512/e.EXTENT/2;class Gt{constructor(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(let n=0;n<t.length;n++){const i=t.get(n),r=i.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}}getScaledCoordinates(t,n){const i=Vt/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.tileAnchorX)*i),y:Math.floor((n.canonical.y*e.EXTENT+t.tileAnchorY)*i)}}findMatches(e,t,n){const i=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let r=0;r<e.length;r++){const o=e.get(r);if(o.crossTileID)continue;const a=this.indexedSymbolInstances[o.key];if(!a)continue;const s=this.getScaledCoordinates(o,t);for(const e of a)if(Math.abs(e.coord.x-s.x)<=i&&Math.abs(e.coord.y-s.y)<=i&&!n[e.crossTileID]){n[e.crossTileID]=!0,o.crossTileID=e.crossTileID;break}}}}class Zt{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Wt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const n=this.indexes[e],i={};for(const e in n){const r=n[e];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),i[r.tileID.key]=r}this.indexes[e]=i}this.lng=e}addBucket(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const i=this.usedCrossTileIDs[e.overscaledZ];for(const n in this.indexes){const r=this.indexes[n];if(Number(n)>e.overscaledZ)for(const n in r){const o=r[n];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,i)}else{const o=r[e.scaledTo(Number(n)).key];o&&o.findMatches(t.symbolInstances,e,i)}}for(let e=0;e<t.symbolInstances.length;e++){const r=t.symbolInstances.get(e);r.crossTileID||(r.crossTileID=n.generate(),i[r.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Gt(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const n in t.indexedSymbolInstances)for(const i of t.indexedSymbolInstances[n])delete this.usedCrossTileIDs[e][i.crossTileID]}removeStaleBuckets(e){let t=!1;for(const n in this.indexes){const i=this.indexes[n];for(const r in i)e[i[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,i[r]),delete i[r],t=!0)}return t}}class qt{constructor(){this.layerIndexes={},this.crossTileIDs=new Zt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,n,i){let r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Wt);let o=!1;const a={};"globe"!==i.name&&r.handleWrapJump(n);for(const n of t){const t=n.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(n.tileID,t,this.crossTileIDs)&&(o=!0),a[t.bucketInstanceId]=!0)}return r.removeStaleBuckets(a)&&(o=!0),o}pruneUnusedLayers(e){const t={};e.forEach(e=>{t[e]=!0});for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e]}}const $t=(t,n)=>e.emitValidationErrors(t,n&&n.filter(e=>"source.canvas"!==e.identifier)),Ht=e.pick(Ze,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Xt=e.pick(Ze,["setCenter","setZoom","setBearing","setPitch"]),Yt={version:8,layers:[],sources:{}},Jt={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Qt extends e.Evented{constructor(t,n={}){super(),this.map=t,this.dispatcher=new z(Ue(),this),this.imageManager=new x,this.imageManager.setEventedParent(this),this.glyphManager=new e.GlyphManager(t._requestManager,n.localFontFamily?e.LocalGlyphMode.all:n.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,n.localFontFamily||n.localIdeographFontFamily),this.crossTileSymbolIndex=new qt,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const i=this;this._rtlTextPluginCallback=Qt.registerForPluginStateChange(t=>{i.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(t,n)=>{if(e.triggerPluginCompletionEvent(t),n&&n.every(e=>e))for(const e in i._sourceCaches){const t=i._sourceCaches[e],n=t.getSource().type;"vector"!==n&&"geojson"!==n||t.reload()}})}),this.on("data",e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(const e in this._layers){const n=this._layers[e];n.source===t.id&&this._validateLayer(n)}})}loadURL(t,n={}){this.fire(new e.Event("dataloading",{dataType:"style"}));const i="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);const r=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(r,(t,n)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):n&&this._load(n,i)})}loadJSON(t,n={}){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame(()=>{this._request=null,this._load(t,!1!==n.validate)})}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Yt,!1)}_updateLayerCount(e,t){const n=t?1:-1;e.is3D()&&(this._num3DLayers+=n),"circle"===e.type&&(this._numCircleLayers+=n),"symbol"===e.type&&(this._numSymbolLayers+=n)}_load(t,n){if(n&&$t(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=e.clone$1(t),this._updateMapProjection();for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);const i=Ge(this.stylesheet.layers);this._order=i.map(e=>e.id),this._layers={},this._serializedLayers={};for(let t of i)t=e.createStyleLayer(t),t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize(),this._updateLayerCount(t,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(t){this._spriteRequest=function(t,n,i){let r,o,a;const s=e.exported.devicePixelRatio>1?"@2x":"";let l=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(e,t)=>{l=null,a||(a=e,r=t,u())}),c=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(e,t)=>{c=null,a||(a=e,o=t,u())});function u(){if(a)i(a);else if(r&&o){const t=e.exported.getImageData(o),n={};for(const i in r){const{width:o,height:a,x:s,y:l,sdf:c,pixelRatio:u,stretchX:h,stretchY:d,content:p}=r[i],f=new e.RGBAImage({width:o,height:a});e.RGBAImage.copy(t,f,{x:s,y:l},{x:0,y:0},{width:o,height:a}),n[i]={data:f,pixelRatio:u,sdf:c,stretchX:h,stretchY:d,content:p}}i(null,n)}}return{cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,(t,n)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(n)for(const e in n)this.imageManager.addImage(e,n[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new e.Event("data",{dataType:"style"}))})}_validateLayer(t){const n=this.getSource(t.source);if(!n)return;const i=t.sourceLayer;i&&("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(i))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${i}" does not exist on source "${n.id}" as specified by style layer "${t.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const n of e){const e=this._layers[n];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(e){return!!this.terrain&&Jt[e.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(t){if(!this._loaded)return;const n=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);(e.length||n.length)&&this._updateWorkerLayers(e,n);for(const e in this._updatedSources){const t=this._updatedSources[e];"reload"===t?this._reloadSource(e):"clear"===t&&this._clearSource(e)}this._updateTilesForChangedImages();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}const i={};for(const e in this._sourceCaches){const t=this._sourceCaches[e];i[e]=t.used,t.used=!1}for(const e of this._order){const n=this._layers[e];if(n.recalculate(t,this._availableImages),!n.isHidden(t.zoom)){const e=this._getLayerSourceCache(n);e&&(e.used=!0)}const i=this.map.painter;if(i){const e=n.getProgramIds();if(!e)continue;const r=n.getProgramConfiguration(t.zoom);for(const t of e)i.useProgram(t,r)}}for(const t in i){const n=this._sourceCaches[t];i[t]!==n.used&&n.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:n.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),n&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(n){if(this._checkLoaded(),$t(this,e.validateStyle(n)))return!1;(n=e.clone$1(n)).layers=Ge(n.layers);const i=function(e,n){if(!e)return[{command:Ze.setStyle,args:[n]}];let i=[];try{if(!t(e.version,n.version))return[{command:Ze.setStyle,args:[n]}];t(e.center,n.center)||i.push({command:Ze.setCenter,args:[n.center]}),t(e.zoom,n.zoom)||i.push({command:Ze.setZoom,args:[n.zoom]}),t(e.bearing,n.bearing)||i.push({command:Ze.setBearing,args:[n.bearing]}),t(e.pitch,n.pitch)||i.push({command:Ze.setPitch,args:[n.pitch]}),t(e.sprite,n.sprite)||i.push({command:Ze.setSprite,args:[n.sprite]}),t(e.glyphs,n.glyphs)||i.push({command:Ze.setGlyphs,args:[n.glyphs]}),t(e.transition,n.transition)||i.push({command:Ze.setTransition,args:[n.transition]}),t(e.light,n.light)||i.push({command:Ze.setLight,args:[n.light]}),t(e.fog,n.fog)||i.push({command:Ze.setFog,args:[n.fog]}),t(e.projection,n.projection)||i.push({command:Ze.setProjection,args:[n.projection]});const r={},o=[];!function(e,n,i,r){let o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||qe(o,i,r));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&He(e,n,o)?i.push({command:Ze.setGeoJSONSourceData,args:[o,n[o].data]}):$e(o,n,i,r)):We(o,n,i))}(e.sources,n.sources,o,r);const a=[];e.layers&&e.layers.forEach(e=>{e.source&&r[e.source]?i.push({command:Ze.removeLayer,args:[e.id]}):a.push(e)});let s=e.terrain;s&&r[s.source]&&(i.push({command:Ze.setTerrain,args:[void 0]}),s=void 0),i=i.concat(o),t(s,n.terrain)||i.push({command:Ze.setTerrain,args:[n.terrain]}),function(e,n,i){n=n||[];const r=(e=e||[]).map(Ye),o=n.map(Ye),a=e.reduce(Je,{}),s=n.reduce(Je,{}),l=r.slice(),c=Object.create(null);let u,h,d,p,f,m,g;for(u=0,h=0;u<r.length;u++)d=r[u],s.hasOwnProperty(d)?h++:(i.push({command:Ze.removeLayer,args:[d]}),l.splice(l.indexOf(d,h),1));for(u=0,h=0;u<o.length;u++)d=o[o.length-1-u],l[l.length-1-u]!==d&&(a.hasOwnProperty(d)?(i.push({command:Ze.removeLayer,args:[d]}),l.splice(l.lastIndexOf(d,l.length-h),1)):h++,m=l[l.length-u],i.push({command:Ze.addLayer,args:[s[d],m]}),l.splice(l.length-u,0,d),c[d]=!0);for(u=0;u<o.length;u++)if(d=o[u],p=a[d],f=s[d],!c[d]&&!t(p,f))if(t(p.source,f.source)&&t(p["source-layer"],f["source-layer"])&&t(p.type,f.type)){for(g in Xe(p.layout,f.layout,i,d,null,Ze.setLayoutProperty),Xe(p.paint,f.paint,i,d,null,Ze.setPaintProperty),t(p.filter,f.filter)||i.push({command:Ze.setFilter,args:[d,f.filter]}),t(p.minzoom,f.minzoom)&&t(p.maxzoom,f.maxzoom)||i.push({command:Ze.setLayerZoomRange,args:[d,f.minzoom,f.maxzoom]}),p)p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Xe(p[g],f[g],i,d,g.slice(6),Ze.setPaintProperty):t(p[g],f[g])||i.push({command:Ze.setLayerProperty,args:[d,g,f[g]]}));for(g in f)f.hasOwnProperty(g)&&!p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Xe(p[g],f[g],i,d,g.slice(6),Ze.setPaintProperty):t(p[g],f[g])||i.push({command:Ze.setLayerProperty,args:[d,g,f[g]]}))}else i.push({command:Ze.removeLayer,args:[d]}),m=l[l.lastIndexOf(d)+1],i.push({command:Ze.addLayer,args:[f,m]})}(a,n.layers,i)}catch(e){console.warn("Unable to compute style diff:",e),i=[{command:Ze.setStyle,args:[n]}]}return i}(this.serialize(),n).filter(e=>!(e.command in Xt));if(0===i.length)return!1;const r=i.filter(e=>!(e.command in Ht));if(r.length>0)throw new Error(`Unimplemented: ${r.map(e=>e.command).join(", ")}.`);return i.forEach(e=>{"setTransition"!==e.command&&"setProjection"!==e.command&&this[e.command].apply(this,e.args)}),this.stylesheet=n,this._updateMapProjection(),!0}addImage(t,n){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(t,n),this._afterImageUpdated(t),this)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(t,n,i={}){if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!n.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(n).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateSource,"sources."+t,n,null,i))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const r=ze(t,n,this.dispatcher,this);r.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(t),source:r.serialize(),sourceId:t}));const o=n=>{const i=(n?"symbol:":"other:")+t,o=this._sourceCaches[i]=new e.SourceCache(i,r,n);(n?this._symbolSourceCaches:this._otherSourceCaches)[t]=o,o.style=this,o.onAdd(this.map)};o(!1),"vector"!==n.type&&"geojson"!==n.type||o(!0),r.onAdd&&r.onAdd(this.map),this._changed=!0}removeSource(t){this._checkLoaded();const n=this.getSource(t);if(!n)throw new Error("There is no source with this ID");for(const n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${n}" is using it.`)));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while terrain is using it.`)));const i=this._getSourceCaches(t);for(const t of i)delete this._sourceCaches[t.id],delete this._updatedSources[t.id],t.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t.getSource().id})),t.setEventedParent(null),t.clearTiles();return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],n.setEventedParent(null),n.onRemove&&n.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}getSource(e){const t=this._getSourceCache(e);return t&&t.getSource()}_getSources(){const e=[];for(const t in this._otherSourceCaches){const n=this._getSourceCache(t);n&&e.push(n.getSource())}return e}addLayer(t,n,i={}){this._checkLoaded();const r=t.id;if(this.getLayer(r))return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${r}" already exists on this map`)));let o;if("custom"===t.type){if($t(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(r,t.source),t=e.clone$1(t),t=e.extend(t,{source:r})),this._validate(e.validateLayer,"layers."+r,t,{arrayIndex:-1},i))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[o.id]=o.serialize(),this._updateLayerCount(o,!0)}const a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${n}" does not exist on this map.`)));this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=o;const s=this._getLayerSourceCache(o);if(this._removedLayers[r]&&o.source&&s&&"custom"!==o.type){const e=this._removedLayers[r];delete this._removedLayers[r],e.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",s.pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(t,n){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===n)return;const i=this._order.indexOf(t);this._order.splice(i,1);const r=n?this._order.indexOf(n):this._order.length;n&&-1===r?this.fire(new e.ErrorEvent(new Error(`Layer with id "${n}" does not exist on this map.`))):(this._order.splice(r,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(t){this._checkLoaded();const n=this._layers[t];if(!n)return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be removed.`)));n.setEventedParent(null),this._updateLayerCount(n,!1);const i=this._order.indexOf(t);this._order.splice(i,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return!0;return!1}setLayerZoomRange(t,n,i){this._checkLoaded();const r=this.getLayer(t);r?r.minzoom===n&&r.maxzoom===i||(null!=n&&(r.minzoom=n),null!=i&&(r.maxzoom=i),this._updateLayer(r)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(n,i,r={}){this._checkLoaded();const o=this.getLayer(n);if(o){if(!t(o.filter,i))return null==i?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(e.validateFilter,`layers.${o.id}.filter`,i,{layerType:o.type},r)||(o.filter=e.clone$1(i),this._updateLayer(o)))}else this.fire(new e.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be filtered.`)))}getFilter(t){const n=this.getLayer(t);return n&&e.clone$1(n.filter)}setLayoutProperty(n,i,r,o={}){this._checkLoaded();const a=this.getLayer(n);a?t(a.getLayoutProperty(i),r)||(a.setLayoutProperty(i,r,o),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(t,n){const i=this.getLayer(t);if(i)return i.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style.`)))}setPaintProperty(n,i,r,o={}){this._checkLoaded();const a=this.getLayer(n);a?t(a.getPaintProperty(i),r)||(a.setPaintProperty(i,r,o)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[n]=!0):this.fire(new e.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(e,t){const n=this.getLayer(e);return n&&n.getPaintProperty(t)}setFeatureState(t,n){this._checkLoaded();const i=t.source,r=t.sourceLayer,o=this.getSource(i);if(!o)return void this.fire(new e.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)));const a=o.type;if("geojson"===a&&r)return void this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===a&&!r)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));const s=this._getSourceCaches(i);for(const e of s)e.setFeatureState(r,t.id,n)}removeFeatureState(t,n){this._checkLoaded();const i=t.source,r=this.getSource(i);if(!r)return void this.fire(new e.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)));const o=r.type,a="vector"===o?t.sourceLayer:void 0;if("vector"===o&&!a)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(n&&"string"!=typeof t.id&&"number"!=typeof t.id)return void this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const s=this._getSourceCaches(i);for(const e of s)e.removeFeatureState(a,t.id,n)}getFeatureState(t){this._checkLoaded();const n=t.source,i=t.sourceLayer,r=this.getSource(n);if(r){if("vector"!==r.type||i)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(n)[0].getFeatureState(i,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const t={};for(const e in this._sourceCaches){const n=this._sourceCaches[e].getSource();t[n.id]||(t[n.id]=n.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},e=>void 0!==e)}_updateLayer(e){this._updatedLayers[e.id]=!0;const t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0,e.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,n={},i=[];for(let r=this._order.length-1;r>=0;r--){const o=this._order[r];if(t(o)){n[o]=r;for(const t of e){const e=t[o];if(e)for(const t of e)i.push(t)}}}i.sort((e,t)=>t.intersectionZ-e.intersectionZ);const r=[];for(let o=this._order.length-1;o>=0;o--){const a=this._order[o];if(t(a))for(let e=i.length-1;e>=0;e--){const t=i[e].feature;if(n[t.layer.id]<o)break;r.push(t),i.pop()}else for(const t of e){const e=t[a];if(e)for(const t of e)r.push(t.feature)}}return r}queryRenderedFeatures(t,n,i){n&&n.filter&&this._validate(e.validateFilter,"queryRenderedFeatures.filter",n.filter,null,n);const r={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of n.layers){const n=this._layers[t];if(!n)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];r[n.source]=!0}}const o=[];n.availableImages=this._availableImages;const a=n&&n.layers?n.layers.some(e=>{const t=this.getLayer(e);return t&&t.is3D()}):this.has3DLayers(),s=L.createFromScreenPoints(t,i);for(const e in this._sourceCaches){const t=this._sourceCaches[e].getSource().id;n.layers&&!r[t]||o.push(Le(this._sourceCaches[e],this._layers,this._serializedLayers,s,n,i,a,!!this.map._showQueryGeometry))}return this.placement&&o.push(function(e,t,n,i,r,o,a){const s={},l=o.queryRenderedSymbols(i),c=[];for(const e of Object.keys(l).map(Number))c.push(a[e]);c.sort(Re);for(const n of c){const i=n.featureIndex.lookupSymbolFeatures(l[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(const e in i){const t=s[e]=s[e]||[],r=i[e];r.sort((e,t)=>{const i=n.featureSortOrder;if(i){const n=i.indexOf(e.featureIndex);return i.indexOf(t.featureIndex)-n}return t.featureIndex-e.featureIndex});for(const e of r)t.push(e)}}for(const t in s)s[t].forEach(i=>{const r=i.feature,o=n(e[t]).getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=o});return s}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),s.screenGeometry,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(o)}querySourceFeatures(t,n){n&&n.filter&&this._validate(e.validateFilter,"querySourceFeatures.filter",n.filter,null,n);const i=this._getSourceCaches(t);let r=[];for(const e of i)r=r.concat(Oe(e,n));return r}addSourceType(e,t,n){return Qt.getSourceType(e)?n(new Error(`A source type called "${e}" already exists.`)):(Qt.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}getLight(){return this.light.getLight()}setLight(e,n={}){this._checkLoaded();const i=this.light.getLight();let r=!1;for(const n in e)if(!t(e[n],i[n])){r=!0;break}if(!r)return;const o=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(e,n),this.light.updateTransitions(o)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(n,i=1){if(this._checkLoaded(),!n)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===i){if("object"==typeof n.source){const t="terrain-dem-src";this.addSource(t,n.source),n=e.clone$1(n),n=e.extend(n,{source:t})}if(this._validate(e.validateTerrain,"terrain",n))return}if(!this.terrain||this.terrain&&i!==this.terrain.drapeRenderMode)this._createTerrain(n,i);else{const i=this.terrain,r=i.get();for(const t of Object.keys(e.spec.terrain))!n.hasOwnProperty(t)&&e.spec.terrain[t].default&&(n[t]=e.spec.terrain[t].default);for(const e in n)if(!t(n[e],r[e])){i.set(n),this.stylesheet.terrain=n;const e=this._setTransitionParameters({duration:0});i.updateTransitions(e);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(e){const t=this.fog=new P(e,this.map.transform);this.stylesheet.fog=e;const n=this._setTransitionParameters({duration:0});t.updateTransitions(n)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const e of this.map._markers)e._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const n=this.fog,i=n.get();0===Object.keys(e).length&&n.set(e);for(const r in e)if(!t(e[r],i[r])){n.set(e),this.stylesheet.fog=e;const t=this._setTransitionParameters({duration:0});n.updateTransitions(t);break}}else this._createFog(e);this._markersNeedUpdate=!0}_setTransitionParameters(t){return{now:e.exported.now(),transition:e.extend(t,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const e=this._order.filter(e=>this.isLayerDraped(this._layers[e])),t=this._order.filter(e=>!this.isLayerDraped(this._layers[e]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t)}_createTerrain(e,t){const n=this.terrain=new M(e,t);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const i=this._setTransitionParameters({duration:0});n.updateTransitions(i)}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}_forceSymbolLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"symbol"===t.type&&this._updateLayer(t)}}_validate(t,n,i,r,o={}){return(!o||!1!==o.validate)&&$t(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:i,styleSpec:e.spec},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this._sourceCaches)this._sourceCaches[e].clearTiles(),this._sourceCaches[e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){const t=this._getSourceCaches(e);for(const e of t)e.clearTiles()}_reloadSource(e){const t=this._getSourceCaches(e);for(const e of t)e.resume(),e.reload()}_reloadSources(){for(const e of this._getSources())e.reload&&e.reload()}_updateSources(e){for(const t in this._sourceCaches)this._sourceCaches[t].update(e)}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload()}}_updatePlacement(t,n,i,r,o=!1){let a=!1,s=!1;const l={};for(const e of this._order){const n=this._layers[e];if("symbol"!==n.type)continue;if(!l[n.source]){const e=this._getLayerSourceCache(n);if(!e)continue;l[n.source]=e.getRenderableIds(!0).map(t=>e.getTileByID(t)).sort((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1))}const i=this.crossTileSymbolIndex.addLayer(n,l[n.source],t.center.lng,t.projection);a=a||i}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),o=o||this._layerOrderChanged||0===i,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(o||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Ut(t,this._order,o,n,i,r,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();const i=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons)};i(this._otherSourceCaches[t.source]),i(this._symbolSourceCaches[t.source])}getGlyphs(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)}getResource(t,n,i){return e.makeRequest(n,i)}_getSourceCache(e){return this._otherSourceCaches[e]}_getLayerSourceCache(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}_getSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}_isSourceCacheLoaded(t){const n=this._getSourceCaches(t);return 0===n.length?(this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`))),!1):n.every(e=>e.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Qt.getSourceType=function(e){return Pe[e]},Qt.setSourceType=function(e,t){Pe[e]=t},Qt.registerForPluginStateChange=e.registerForPluginStateChange;var Kt="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",en="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",tn="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nreturn currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",nn="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",rn="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let on={},an={};const sn=[];dn(Kt,sn),dn(tn,sn),dn(nn,sn),dn(rn,sn),on=pn("",tn),an=pn(rn,nn);const ln=pn("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),cn=Kt,un="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var hn={background:pn("uniform vec4 u_color;uniform float u_opacity;\n#ifdef LIGHTING_3D_MODE\nvarying vec4 v_color;\n#endif\nvoid main() {vec4 out_color;\n#ifdef LIGHTING_3D_MODE\nout_color=v_color;\n#else\nout_color=u_color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#ifdef LIGHTING_3D_MODE\nuniform vec4 u_color;varying vec4 v_color;\n#endif\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(u_color);\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:pn("uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:pn("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:pn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:pn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:pn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:pn("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:pn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:pn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:pn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:pn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:pn("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:pn("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:pn("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat NdotL=0.0;float colorvalue=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(color,NdotL);\n#else\nv_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef LIGHTING_3D_MODE\nv_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));\n#else\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:pn("uniform vec2 u_texsize;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color,v_NdotL)*u_opacity;\n#else\nout_color=out_color*v_lighting;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_NdotL=NdotL;\n#else\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#endif \n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:pn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:pn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef LIGHTING_3D_MODE\ngl_FragColor=apply_lighting(gl_FragColor);\n#endif\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:pn("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\nhighp vec4 out_color;\n#ifdef RENDER_LINE_GRADIENT\nout_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nout_color=color;\n#endif\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}\n#endif\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:pn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\ncolor=apply_lighting(color);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:pn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:pn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:pn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:pn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:pn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#else\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\nv_fog_pos=fog_position(decodedPos);\n#else\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:pn("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:pn("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",en),skyboxGradient:pn("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",en),skyboxCapture:pn("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:pn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;\n#ifdef GLOBE_POLES\nvec3 up_vector=normalize(globe_pos)*u_tile_up_scale;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:pn("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function dn(e,t){const n=e.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let e of n)if(e=e.trim(),"#"===e[0]&&e.includes("if")&&!e.includes("endif")){e=e.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const n=e.split(" ");for(const e of n)t.includes(e)||t.push(e)}}function pn(e,t){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),r={},o=[...sn];return dn(e,o),dn(t,o),{fragmentSource:e=e.replace(n,(e,t,n,i,o)=>(r[o]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nvarying ${n} ${i} ${o};\n#else\nuniform ${n} ${i} u_${o};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${o}\n    ${n} ${i} ${o} = u_${o};\n#endif\n`)),vertexSource:t=t.replace(n,(e,t,n,i,o)=>{const a="float"===i?"vec2":"vec4",s=o.match(/color/)?"color":a;return r[o]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nuniform lowp float u_${o}_t;\nattribute ${n} ${a} a_${o};\nvarying ${n} ${i} ${o};\n#else\nuniform ${n} ${i} u_${o};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${o}\n    ${o} = a_${o};\n#else\n    ${n} ${i} ${o} = u_${o};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${o}\n    ${o} = unpack_mix_${s}(a_${o}, u_${o}_t);\n#else\n    ${n} ${i} ${o} = u_${o};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nuniform lowp float u_${o}_t;\nattribute ${n} ${a} a_${o};\n#else\nuniform ${n} ${i} u_${o};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${o}\n    ${n} ${i} ${o} = a_${o};\n#else\n    ${n} ${i} ${o} = u_${o};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${o}\n    ${n} ${i} ${o} = unpack_mix_${s}(a_${o}, u_${o}_t);\n#else\n    ${n} ${i} ${o} = u_${o};\n#endif\n`}),staticAttributes:i,usedDefines:o}}class fn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(e,t,n,i,r,o,a){this.context=e;let s=this.boundPaintVertexBuffers.length!==i.length;for(let e=0;!s&&e<i.length;e++)this.boundPaintVertexBuffers[e]!==i[e]&&(s=!0);let l=this.boundDynamicVertexBuffers.length!==a.length;for(let e=0;!l&&e<a.length;e++)this.boundDynamicVertexBuffers[e]!==a[e]&&(l=!0);if(!e.extVertexArrayObject||!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||s||l||this.boundIndexBuffer!==r||this.boundVertexOffset!==o)this.freshBind(t,n,i,r,o,a);else{e.bindVertexArrayOES.set(this.vao);for(const e of a)e&&e.bind();r&&r.dynamicDraw&&r.bind()}}freshBind(e,t,n,i,r,o){let a;const s=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),a=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=i,this.boundVertexOffset=r,this.boundDynamicVertexBuffers=o;else{a=l.currentNumAttributes||0;for(let e=s;e<a;e++)c.disableVertexAttribArray(e)}t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of n)t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of o)t&&(t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r));i&&i.bind(),l.currentNumAttributes=s}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function mn(t,n){const i=Math.pow(2,n.canonical.z),r=n.canonical.y;return[new e.MercatorCoordinate(0,r/i).toLngLat().lat,new e.MercatorCoordinate(0,(r+1)/i).toLngLat().lat]}function gn(t,n,i,r,o,a,s){const l=t.context,c=l.gl,u=i.fbo;if(!u)return;t.prepareDrawTile();const h=t.useProgram("hillshade");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u.colorAttachment.get());const d=((e,t,n,i)=>{const r=n.paint.get("hillshade-shadow-color"),o=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color");let s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);const l=!e.options.moving;return{u_matrix:i||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:mn(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:r,u_highlight:o,u_accent:a}})(t,i,r,t.terrain?n.projMatrix:null);t.prepareDrawProgram(l,h,n.toUnwrapped());const{tileBoundsBuffer:p,tileBoundsIndexBuffer:f,tileBoundsSegments:m}=t.getTileBoundsBuffers(i);h.draw(l,c.TRIANGLES,o,a,s,e.CullFaceMode.disabled,d,r.id,p,f,m)}function yn(t,n,i){if(!n.needsDEMTextureUpload)return;const r=t.context,o=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(i.stride);const a=i.getPixels();n.demTexture?n.demTexture.update(a,{premultiply:!1}):n.demTexture=new e.Texture(r,a,o.RGBA,{premultiply:!1}),n.needsDEMTextureUpload=!1}function _n(t,n,i,r,o,a){const s=t.context,l=s.gl;if(!n.dem)return;const c=n.dem;if(s.activeTexture.set(l.TEXTURE1),yn(t,n,c),!n.demTexture)return;n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);const u=c.dim;s.activeTexture.set(l.TEXTURE0);let h=n.fbo;if(!h){const t=new e.Texture(s,{width:u,height:u,data:null},l.RGBA);t.bind(l.LINEAR,l.CLAMP_TO_EDGE),h=n.fbo=s.createFramebuffer(u,u,!0),h.colorAttachment.set(t.texture)}s.bindFramebuffer.set(h.framebuffer),s.viewport.set([0,0,u,u]);const{tileBoundsBuffer:d,tileBoundsIndexBuffer:p,tileBoundsSegments:f}=t.getMercatorTileBoundsBuffers();t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,r,o,a,e.CullFaceMode.disabled,((t,n)=>{const i=n.stride,r=e.create();return e.ortho(r,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(r,r,[0,-e.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[i,i],u_zoom:t.overscaledZ,u_unpack:n.unpackVector}})(n.tileID,c),i.id,d,p,f),n.needsHillshadePrepare=!1}const vn=t=>({u_matrix:new e.UniformMatrix4f(t),u_image0:new e.Uniform1i(t),u_skirt_height:new e.Uniform1f(t)}),xn=(e,t)=>({u_matrix:e,u_image0:0,u_skirt_height:t}),bn=(e,t,n,i,r,o,a,s,l,c,u,h,d,p)=>({u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(i),u_merc_matrix:n,u_zoom_transition:r,u_merc_center:o,u_image0:0,u_frustum_tl:a,u_frustum_tr:s,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:u,u_globe_radius:h,u_viewport:d,u_grid_matrix:p?Float32Array.from(p):new Float32Array(9)});function wn(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}const Tn=new class{constructor(){this.operations={}}newMorphing(e,t,n,i,r){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==n.tileID.key&&(t.queued=n)}else this.operations[e]={startTime:i,phase:0,duration:r,from:t,to:n,queued:null}}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const n=this.operations[t];for(n.phase=(e-n.startTime)/n.duration;n.phase>=1||!this._validOp(n);)if(!this._nextOp(n,e)){delete this.operations[t];break}}}_nextOp(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},En={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Sn(e,t){const n=1<<e.z;return!t&&(0===e.x||e.x===n-1)||0===e.y||e.y===n-1}const Mn=e=>({u_matrix:e});function In(t,n,i,r,o){if(o>0){const a=e.exported.now(),s=(a-t.timeAdded)/o,l=n?(a-n.timeAdded)/o:-1,c=i.getSource(),u=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!n||Math.abs(n.tileID.overscaledZ-u)>Math.abs(t.tileID.overscaledZ-u),d=h&&t.refreshedUponExpiration?1:e.clamp(h?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}class Cn extends e.SourceCache{constructor(e){const t={type:"raster-dem",maxzoom:e.transform.maxZoom},n=new z(Ue(),null),i=ze("mock-dem",t,n,e.style);super("mock-dem",i,!1),i.setEventedParent(this),this._sourceLoaded=!0}_loadTile(e,t){e.state="loaded",t(null)}}class kn extends e.SourceCache{constructor(e){const t=ze("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new z(Ue(),null),e.style);super("proxy",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(t,n,i){if(t.freezeTileCoverage)return;this.transform=t;const r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((n,i)=>{if(n[i.key]="",!this._tiles[i.key]){const n=new e.Tile(i,this._source.tileSize*i.overscaleFactor(),t.tileZoom);n.state="loaded",this._tiles[i.key]=n}return n},{});for(const e in this._tiles)e in r||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e])}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const n=Object.values(t);this.renderCachePool.push(...n),delete this.proxyCachedFBO[e]}}deallocRenderCache(){this.renderCache.forEach(e=>e.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class An extends e.OverscaledTileID{constructor(e,t,n){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=n}}class Pn extends e.Elevation{constructor(t,n){super(),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[i,r,o]=function(t){const n=new e.StructArrayLayout4i8,i=new e.StructArrayLayout3ui6,r=131;n.reserve(17161),i.reserve(33800);const o=e.EXTENT/128,a=e.EXTENT+o/2,s=a+o;for(let t=-o;t<s;t+=o)for(let i=-o;i<s;i+=o){const r=i<0||i>a||t<0||t>a?24575:0,o=e.clamp(Math.round(i),0,e.EXTENT),s=e.clamp(Math.round(t),0,e.EXTENT);n.emplaceBack(o+r,s,o,s)}const l=(e,t)=>{const n=t*r+e;i.emplaceBack(n+1,n,n+r),i.emplaceBack(n+r,n+r+1,n+1)};for(let e=1;e<129;e++)for(let t=1;t<129;t++)l(t,e);return[0,129].forEach(e=>{for(let t=0;t<130;t++)l(t,e),l(e,t)}),[n,i,32768]}(),a=t.context;this.gridBuffer=a.createVertexBuffer(i,e.boundsAttributes.members),this.gridIndexBuffer=a.createIndexBuffer(r),this.gridSegments=e.SegmentVector.simpleSegment(0,0,i.length,r.length),this.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,i.length,o),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new kn(n.map),this.orthoMatrix=e.create(),e.ortho(this.orthoMatrix,"globe"===this.painter.transform.projection.name?.015:0,e.EXTENT,0,e.EXTENT,0,1);const s=a.gl;this._overlapStencilMode=new e.StencilMode({func:s.GEQUAL,mask:255},0,255,s.KEEP,s.KEEP,s.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=n,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Cn(n.map)}set style(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency()}update(t,n,i){if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;const r=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(r.get("source")),this._exaggeration=r.get("exaggeration");const o=()=>{this.sourceCache.used&&e.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const t=this.getScaledDemTileSize();this.sourceCache.update(n,t,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,o(),this._initializing=!0),o(),n.updateElevation(!0,i),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(n),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(e){this._findCoveringTileCache[e]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce(`Terrain render cache efficiency is not optimal (${t.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${t.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(e=>e.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}set useVertexMorphing(e){this._useVertexMorphing=e}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const n=this.proxySourceCache,i=this.painter.transform;this._initializing&&(this._initializing=0===i._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(i.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=n.getIds().map(e=>{const t=n.getTileByID(e).tileID;return t.projMatrix=i.calculateProjMatrix(t.toUnwrapped()),t});!function(t,n){const i=n.transform.pointCoordinate(n.transform.getCameraPoint()),r=new e.pointGeometry(i.x,i.y);t.sort((t,n)=>{if(n.overscaledZ-t.overscaledZ)return n.overscaledZ-t.overscaledZ;const i=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),o=new e.pointGeometry(n.canonical.x+(1<<n.canonical.z)*n.wrap,n.canonical.y),a=r.mult(1<<t.canonical.z);return a.x-=.5,a.y-=.5,a.distSqr(i)-a.distSqr(o)})}(r,this.painter),this._previousZoom=i.zoom;const o=this.proxyToSource||{};this.proxyToSource={},r.forEach(e=>{this.proxyToSource[e.key]={}}),this.terrainTileForTile={};const a=this._style._sourceCaches;for(const e in a){const n=a[e];if(!n.used)continue;if(n!==this.sourceCache&&this.resetTileLookupCache(n.id),this._setupProxiedCoordsForOrtho(n,t[e],o),n.usedForTerrain)continue;const i=t[e];n.getSource().reparseOverscaled&&this._assignTerrainTiles(i)}this.proxiedCoords[n.id]=r.map(e=>new An(e,e.key,this.orthoMatrix)),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(o),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();const s={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const n=t.tileID.key;n in s||(this._visibleDemTiles.push(t),s[n]=n)}}_assignTerrainTiles(e){this._initializing||e.forEach(e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t)})}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const n in this.terrainTileForTile){const i=this.terrainTileForTile[n],r=i.dem;!r||i.demTexture&&!i.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),yn(this.painter,i,r))}}_prepareDemTileUniforms(e,t,n,i){if(!t||null==t.demTexture)return!1;const r=e.tileID.canonical,o=Math.pow(2,t.tileID.canonical.z-r.z),a=i||"";return n["u_dem_tl"+a]=[r.x*o%1,r.y*o%1],n["u_dem_scale"+a]=o,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const t=this.painter.context,n=t.gl;if(!this._emptyDepthBufferTexture){const i=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,i,n.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce((t,n)=>{if(!n.dem)return t;const i=n.dem.tree.minimums[0];return i>0&&e++,t+i},0);return e?t/e:0}_updateEmptyDEMTexture(){const t=this.painter.context,n=t.gl;t.activeTexture.set(n.TEXTURE2);const i=this._getLoadedAreaMinimum(),r=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(i,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let o=this._emptyDEMTexture;return o?o.update(r,{premultiply:!1}):o=this._emptyDEMTexture=new e.Texture(t,r,n.RGBA,{premultiply:!1}),o}setupElevationDraw(t,n,i){const r=this.painter.context,o=r.gl,a=(s=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(s),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var s;a.u_dem_size=this.sourceCache.getSource().tileSize,a.u_exaggeration=this.exaggeration();let l=null,c=null,u=1;if(i&&i.morphing&&this._useVertexMorphing){const e=i.morphing.srcDemTile,n=i.morphing.dstDemTile;u=i.morphing.phase,e&&n&&(this._prepareDemTileUniforms(t,e,a,"_prev")&&(c=e),this._prepareDemTileUniforms(t,n,a)&&(l=n))}if(c&&l?(r.activeTexture.set(o.TEXTURE2),l.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),r.activeTexture.set(o.TEXTURE4),c.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),a.u_dem_lerp=u):(l=this.terrainTileForTile[t.tileID.key],r.activeTexture.set(o.TEXTURE2),(this._prepareDemTileUniforms(t,l,a)?l.demTexture:this.emptyDEMTexture).bind(o.NEAREST,o.CLAMP_TO_EDGE)),r.activeTexture.set(o.TEXTURE3),i&&i.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),this._depthFBO&&(a.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),a.u_depth_size_inv=[1,1]),i&&i.useMeterToDem&&l){const t=(1<<l.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;a.u_meter_to_dem=t}if(i&&i.labelPlaneMatrixInv&&(a.u_label_plane_matrix_inv=i.labelPlaneMatrixInv),n.setTerrainUniformValues(r,a),"globe"===this.painter.transform.projection.name){const e=this.globeUniformValues(this.painter.transform,t.tileID.canonical,i&&i.useDenormalizedUpVectorScale);n.setGlobeUniformValues(r,e)}}globeUniformValues(t,n,i){const r=t.projection;return{u_tile_tl_up:r.upVector(n,0,0),u_tile_tr_up:r.upVector(n,e.EXTENT,0),u_tile_br_up:r.upVector(n,e.EXTENT,e.EXTENT),u_tile_bl_up:r.upVector(n,0,e.EXTENT),u_tile_up_scale:i?e.GLOBE_METERS_TO_ECEF:r.upVectorScale(n,t.center.lat,t.worldSize).metersToTile}}renderToBackBuffer(t){const n=this.painter,i=this.painter.context;0!==t.length&&(i.bindFramebuffer.set(null),i.viewport.set([0,0,n.width,n.height]),n.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,n,i,r,o){if("globe"===t.transform.projection.name)!function(t,n,i,r,o){const a=t.context,s=a.gl;let l,c;const u=t.options.showTerrainWireframe?2:0,h=t.transform,d=e.globeUseCustomAntiAliasing(t,a,h),p=(e,n)=>{if(c===e)return;const i=[En[e],"PROJECTION_GLOBE_VIEW"];d&&i.push("CUSTOM_ANTIALIASING"),n&&i.push(En[u]),l=t.useProgram("globeRaster",null,i),c=e},f=t.colorModeForRenderPass(),m=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Tn.update(o);const g=e.calculateGlobeMercatorMatrix(h),y=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],_=u?[!1,!0]:[!1],v=t.globeSharedBuffers,x=[h.width*e.exported.devicePixelRatio,h.height*e.exported.devicePixelRatio],b=Float32Array.from(h.globeMatrix),w={useDenormalizedUpVectorScale:!0};if(_.forEach(u=>{c=-1;const d=u?s.LINES:s.TRIANGLES;for(const c of r){const r=i.getTile(c),_=e.StencilMode.disabled,T=n.prevTerrainTileForTile[c.key],E=n.terrainTileForTile[c.key];wn(T,E)&&Tn.newMorphing(c.key,T,E,o,250),a.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);const S=Tn.getMorphValuesForProxy(c.key),M=S?1:0;S&&e.extend$1(w,{morphing:{srcDemTile:S.from,dstDemTile:S.to,phase:e.easeCubicInOut(S.phase)}});const I=e.tileCornersToBounds(c.canonical),C=e.getLatitudinalLod(I.getCenter().lat),k=e.getGridMatrix(c.canonical,I,C,h.worldSize/h._pixelsPerMercatorPixel),A=e.globeNormalizeECEF(e.globeTileBounds(c.canonical)),P=bn(h.projMatrix,b,g,A,e.globeToMercatorTransition(h.zoom),y,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,x,k);if(p(M,u),n.setupElevationDraw(r,l,w),t.prepareDrawProgram(a,l,c.toUnwrapped()),v){const[n,i,r]=u?v.getWirefameBuffers(t.context,C):v.getGridBuffers(C);l.draw(a,d,m,_,f,e.CullFaceMode.backCCW,P,"globe_raster",n,i,r)}}}),v){const o=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];d&&o.push("CUSTOM_ANTIALIASING"),l=t.useProgram("globeRaster",null,o);for(const o of r){const{x:r,y:c,z:u}=o.canonical,d=0===c,p=c===(1<<u)-1,[g,_,b,T]=v.getPoleBuffers(u);if(T&&(d||p)){const c=i.getTile(o);a.activeTexture.set(s.TEXTURE0),c.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);let v=e.globePoleMatrixForTile(u,r,h);const E=e.globeNormalizeECEF(e.globeTileBounds(o.canonical)),S=(t,n)=>t.draw(a,s.TRIANGLES,m,e.StencilMode.disabled,f,e.CullFaceMode.disabled,bn(h.projMatrix,v,v,E,0,y,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,x),"globe_pole_raster",n,b,T);n.setupElevationDraw(c,l,w),t.prepareDrawProgram(a,l,o.toUnwrapped()),d&&S(l,g),p&&(v=e.scale(e.create(),v,[1,-1,1]),S(l,_))}}}}(t,n,i,r,o);else{const a=t.context,s=a.gl;let l,c;const u=t.options.showTerrainWireframe?2:0,h=(e,n)=>{if(c===e)return;const i=[En[e]];n&&i.push(En[u]),l=t.useProgram("terrainRaster",null,i),c=e},d=t.colorModeForRenderPass(),p=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Tn.update(o);const f=t.transform,m=6*Math.pow(1.5,22-f.zoom)*n.exaggeration();(u?[!1,!0]:[!1]).forEach(u=>{c=-1;const g=u?s.LINES:s.TRIANGLES,[y,_]=u?n.getWirefameBuffer():[n.gridIndexBuffer,n.gridSegments];for(const c of r){const r=i.getTile(c),v=e.StencilMode.disabled,x=n.prevTerrainTileForTile[c.key],b=n.terrainTileForTile[c.key];wn(x,b)&&Tn.newMorphing(c.key,x,b,o,250),a.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);const w=Tn.getMorphValuesForProxy(c.key),T=w?1:0;let E;w&&(E={morphing:{srcDemTile:w.from,dstDemTile:w.to,phase:e.easeCubicInOut(w.phase)}});const S=xn(c.projMatrix,Sn(c.canonical,f.renderWorldCopies)?m/10:m);h(T,u),n.setupElevationDraw(r,l,E),t.prepareDrawProgram(a,l,c.toUnwrapped()),l.draw(a,g,p,v,d,e.CullFaceMode.backCCW,S,"terrain_raster",n.gridBuffer,y,_)}})}}(n,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,n.gpuTimingDeferredRenderEnd(),t.splice(0,t.length))}renderBatch(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;const n=this.painter,i=this.painter.context,r=this.proxySourceCache,o=this.proxiedCoords[r.id],a=this._drapedRenderBatches.shift(),s=[],l=n.style.order;let c=0;for(const u of o){const o=r.getTileByID(u.proxyTileKey),h=r.proxyCachedFBO[u.key]?r.proxyCachedFBO[u.key][t]:void 0,d=void 0!==h?r.renderCache[h]:this.pool[c++],p=void 0!==h;if(o.texture=d.tex,p&&!d.dirty){s.push(o.tileID);continue}let f;i.bindFramebuffer.set(d.fb.framebuffer),this.renderedToTile=!1,d.dirty&&(i.clear({color:e.Color.transparent,stencil:0}),d.dirty=!1);for(let e=a.start;e<=a.end;++e){const t=n.style._layers[l[e]];if(t.isHidden(n.transform.zoom))continue;const r=n.style._getLayerSourceCache(t),o=r?this.proxyToSource[u.key][r.id]:[u];if(!o)continue;const a=o;i.viewport.set([0,0,d.fb.width,d.fb.height]),f!==(r?r.id:null)&&(this._setupStencil(d,o,t,r),f=r?r.id:null),n.renderLayer(n,r,t,a)}this.renderedToTile?(d.dirty=!0,s.push(o.tileID)):p||--c,5===c&&(c=0,this.renderToBackBuffer(s))}return this.renderToBackBuffer(s),this.renderingToTexture=!1,i.bindFramebuffer.set(null),i.viewport.set([0,0,n.width,n.height]),a.end+1}postRender(){}renderCacheEfficiency(e){const t=e.order.length;if(0===t)return{efficiency:100};let n,i=0,r=0,o=!1;for(let a=0;a<t;++a){const t=e._layers[e.order[a]];this._style.isLayerDraped(t)?(o&&++i,++r):o||(o=!0,n=t.id)}return 0===r?{efficiency:100}:{efficiency:100*(1-i/r),firstUndrapedLayer:n}}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter(e=>e.dem).forEach(t=>{e=Math.min(e,t.dem.tree.minimums[0])}),0===e?e:(e-30)*this._exaggeration}raycast(e,t,n){if(!this._visibleDemTiles)return null;const i=this._visibleDemTiles.filter(e=>e.dem).map(i=>{const r=i.tileID,o=1<<r.overscaledZ,{x:a,y:s}=r.canonical,l=a/o,c=(a+1)/o,u=s/o,h=(s+1)/o;return{minx:l,miny:u,maxx:c,maxy:h,t:i.dem.tree.raycastRoot(l,u,c,h,e,t,n),tile:i}});i.sort((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE));for(const r of i){if(null==r.t)return null;const i=r.tile.dem.tree.raycast(r.minx,r.miny,r.maxx,r.maxy,e,t,n);if(null!=i)return i}return null}_createFBO(){const t=this.painter.context,n=t.gl,i=this.drapeBufferSize;t.activeTexture.set(n.TEXTURE0);const r=new e.Texture(t,{width:i[0],height:i[1],data:null},n.RGBA);r.bind(n.LINEAR,n.CLAMP_TO_EDGE);const o=t.createFramebuffer(i[0],i[1],!1);return o.colorAttachment.set(r.texture),o.depthAttachment=new Ee(t,o.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,i[0],i[1]),this._stencilRef=0,o.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):o.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&n.texParameterf(n.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:o,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e].hasTransition())return!0;return this._style.order.some(e=>{const t=this._style._layers[e],n=t.isHidden(this.painter.transform.zoom);return"custom"!==t.type&&!n&&t.hasTransition()})}_clearRasterFadeFromRenderCache(){let e=!1;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Ie){e=!0;break}if(e)for(let e=0;e<this._style.order.length;++e){const t=this._style._layers[this._style.order[e]],n=t.isHidden(this.painter.transform.zoom),i=this._style._getLayerSourceCache(t);if("raster"!==t.type||n||!i)continue;const r=t.paint.get("raster-fade-duration");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][i.id];if(t)for(const e of t){const t=In(i.getTile(e),i.findLoadedParent(e,0),i,this.painter.transform,r);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(i.id,e)}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const n=[];let i,r=0,o=this._style._layers[e[r]];for(;!this._style.isLayerDraped(o)&&o.isHidden(this.painter.transform.zoom)&&++r<t;)o=this._style._layers[e[r]];for(;r<t;++r){const t=this._style._layers[e[r]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===i&&(i=r):void 0!==i&&(n.push({start:i,end:r-1}),i=void 0))}void 0!==i&&n.push({start:i,end:r-1}),this._drapedRenderBatches=n}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let n=0;n<e.length;++n){const i=Object.values(e[n]);t.renderCachePool.push(...i)}}return}this._clearRasterFadeFromRenderCache();const n=this.proxyCoords,i=this._tilesDirty;for(let r=n.length-1;r>=0;r--){const o=n[r];if(t.getTileByID(o.key),void 0!==t.proxyCachedFBO[o.key]){const n=e[o.key],r=this.proxyToSource[o.key];let a=0;for(const e in r){const t=r[e],o=n[e];if(!o||o.length!==t.length||t.some((t,n)=>t!==o[n]||i[e]&&i[e].hasOwnProperty(t.key))){a=-1;break}++a}for(const e in t.proxyCachedFBO[o.key])t.renderCache[t.proxyCachedFBO[o.key][e]].dirty=a<0||a!==Object.values(n).length}}const r=[...this._drapedRenderBatches];r.sort((e,t)=>t.end-t.start-(e.end-e.start));for(const e of r)for(const i of n){if(t.proxyCachedFBO[i.key])continue;let n=t.renderCachePool.pop();void 0===n&&t.renderCache.length<50&&(n=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==n&&(t.proxyCachedFBO[i.key]={},t.proxyCachedFBO[i.key][e.start]=n,t.renderCache[n].dirty=!0)}this._tilesDirty={}}_setupStencil(e,t,n,i){if(!i||!this._sourceTilesOverlap[i.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,o=r.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let a;if(n.isTileClipped())a=t.length,this._overlapStencilMode.test={func:o.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);a=1,this._overlapStencilMode.test={func:o.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+a>255&&(r.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=a,this._overlapStencilMode.ref=this._stencilRef,n.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}_renderTileClippingMasks(t,n){const i=this.painter,r=this.painter.context,o=r.gl;i._tileClippingMaskIDs={},r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const a=i.useProgram("clippingMask");for(const s of t){const t=i._tileClippingMaskIDs[s.key]=--n;a.draw(r,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},t,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Mn(s.projMatrix),"$clipping",i.tileExtentBuffer,i.quadTriangleIndexBuffer,i.tileExtentSegments)}}pointCoordinate(t){const n=this.painter.transform;if(t.x<0||t.x>n.width||t.y<0||t.y>n.height)return null;const i=[t.x,t.y,1,1];e.transformMat4$1(i,i,n.pixelMatrixInverse),e.scale$1(i,i,1/i[3]),i[0]/=n.worldSize,i[1]/=n.worldSize;const r=n._camera.position,o=e.mercatorZfromAltitude(1,n.center.lat),a=[r[0],r[1],r[2]/o,0],s=e.subtract([],i.slice(0,3),a);e.normalize(s,s);const l=this.raycast(a,s,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(a,a,s,l),a[3]=a[2],a[2]*=o,a):null}drawDepth(){const t=this.painter,n=t.context,i=this.proxySourceCache,r=Math.ceil(t.width),o=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===o||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const t=n.gl,i=n.createFramebuffer(r,o,!0);n.activeTexture.set(t.TEXTURE0);const a=new e.Texture(n,{width:r,height:o,data:null},t.RGBA);a.bind(t.NEAREST,t.CLAMP_TO_EDGE),i.colorAttachment.set(a.texture);const s=n.createRenderbuffer(n.gl.DEPTH_COMPONENT16,r,o);i.depthAttachment.set(s),this._depthFBO=i,this._depthTexture=a}n.bindFramebuffer.set(this._depthFBO.framebuffer),n.viewport.set([0,0,r,o]),function(t,n,i,r){if("globe"===t.transform.projection.name)return;const o=t.context,a=o.gl;o.clear({depth:1});const s=t.useProgram("terrainDepth"),l=new e.DepthMode(a.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D);for(const t of r){const r=i.getTile(t),c=xn(t.projMatrix,0);n.setupElevationDraw(r,s),s.draw(o,a.TRIANGLES,l,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,c,"terrain_depth",n.gridBuffer,n.gridIndexBuffer,n.gridNoSkirtSegments)}}(t,this,i,this.proxyCoords)}_setupProxiedCoordsForOrtho(e,t,n){if(e.getSource()instanceof Ae)return this._setupProxiedCoordsForImageSource(e,t,n);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const i=this.proxiedCoords[e.id]=[],r=this.proxyCoords;for(let t=0;t<r.length;t++){const o=r[t],a=this._findTileCoveringTileID(o,e);if(a){const t=this._createProxiedId(o,a,n[o.key]&&n[o.key][e.id]);i.push(t),this.proxyToSource[o.key][e.id]=[t]}}let o=!1;for(let r=0;r<t.length;r++){const a=e.getTile(t[r]);if(!a||!a.hasData())continue;const s=this._findTileCoveringTileID(a.tileID,this.proxySourceCache);if(s&&s.tileID.canonical.z!==a.tileID.canonical.z){const t=this.proxyToSource[s.tileID.key][e.id],r=this._createProxiedId(s.tileID,a,n[s.tileID.key]&&n[s.tileID.key][e.id]);t?t.splice(t.length-1,0,r):this.proxyToSource[s.tileID.key][e.id]=[r],i.push(r),o=!0}}this._sourceTilesOverlap[e.id]=o}_setupProxiedCoordsForImageSource(t,n,i){if(!t.getSource().loaded())return;const r=this.proxiedCoords[t.id]=[],o=this.proxyCoords,a=t.getSource(),s=new e.pointGeometry(a.tileID.x,a.tileID.y)._div(1<<a.tileID.z),l=a.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce((e,t)=>(e.min.x=Math.min(e.min.x,t.x-s.x),e.min.y=Math.min(e.min.y,t.y-s.y),e.max.x=Math.max(e.max.x,t.x-s.x),e.max.y=Math.max(e.max.y,t.y-s.y),e),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(t,n)=>{const i=t.wrap+t.canonical.x/(1<<t.canonical.z),r=t.canonical.y/(1<<t.canonical.z),o=e.EXTENT/(1<<t.canonical.z),a=n.wrap+n.canonical.x/(1<<n.canonical.z),s=n.canonical.y/(1<<n.canonical.z);return i+o<a+l.min.x||i>a+l.max.x||r+o<s+l.min.y||r>s+l.max.y};for(let e=0;e<o.length;e++){const a=o[e];for(let e=0;e<n.length;e++){const o=t.getTile(n[e]);if(!o||!o.hasData())continue;if(c(a,o.tileID))continue;const s=this._createProxiedId(a,o,i[a.key]&&i[a.key][t.id]),l=this.proxyToSource[a.key][t.id];l?l.push(s):this.proxyToSource[a.key][t.id]=[s],r.push(s)}}}_createProxiedId(t,n,i){let r=this.orthoMatrix;if(i){const e=i.find(e=>e.key===n.tileID.key);if(e)return e}if(n.tileID.key!==t.key){const i=t.canonical.z-n.tileID.canonical.z;let o,a,s;r=e.create();const l=n.tileID.wrap-t.wrap<<t.overscaledZ;i>0?(o=e.EXTENT>>i,a=o*((n.tileID.canonical.x<<i)-t.canonical.x+l),s=o*((n.tileID.canonical.y<<i)-t.canonical.y)):(o=e.EXTENT<<-i,a=e.EXTENT*(n.tileID.canonical.x-(t.canonical.x+l<<-i)),s=e.EXTENT*(n.tileID.canonical.y-(t.canonical.y<<-i))),e.ortho(r,0,o,0,o,0,1),e.translate(r,r,[a,s,0])}return new An(n.tileID,t.key,r)}_findTileCoveringTileID(t,n){let i=n.getTile(t);if(i&&i.hasData())return i;const r=this._findCoveringTileCache[n.id],o=r[t.key];if(i=o?n.getTileByID(o):null,i&&i.hasData()||null===o)return i;let a=i?i.tileID:t,s=a.overscaledZ;const l=n.getSource().minzoom,c=[];if(!o){const r=n.getSource().maxzoom;if(t.canonical.z>=r){const i=t.canonical.z-r;n.getSource().reparseOverscaled?(s=Math.max(t.canonical.z+2,n.transform.tileZoom),a=new e.OverscaledTileID(s,t.wrap,r,t.canonical.x>>i,t.canonical.y>>i)):0!==i&&(s=r,a=new e.OverscaledTileID(s,t.wrap,r,t.canonical.x>>i,t.canonical.y>>i))}a.key!==t.key&&(c.push(a.key),i=n.getTile(a))}const u=e=>{c.forEach(t=>{r[t]=e}),c.length=0};for(s-=1;s>=l&&(!i||!i.hasData());s--){i&&u(i.tileID.key);const e=a.calculateScaledKey(s);if(i=n.getTileByID(e),i&&i.hasData())break;const t=r[e];if(null===t)break;void 0===t?c.push(e):i=n.getTileByID(t)}return u(i?i.tileID.key:null),i&&i.hasData()?i:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(e,t){let n=this._tilesDirty[e];n||(n=this._tilesDirty[e]={}),n[t.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const t=function(t){let n=0;const i=new e.StructArrayLayout2ui4,r=131;for(let e=1;e<129;e++){for(let t=1;t<129;t++)n=e*r+t,i.emplaceBack(n,n+1),i.emplaceBack(n,n+r),i.emplaceBack(n+1,n+r),128===e&&i.emplaceBack(n+r,n+r+1);i.emplaceBack(n+1,n+1+r)}return i}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class zn{static cacheKey(e,t,n,i){let r=`${t}${i?i.cacheKey:""}`;for(const t of n)e.usedDefines.includes(t)&&(r+="/"+t);return r}constructor(t,n,i,r,o,a){const s=t.gl;this.program=s.createProgram();const l=function(e){const t=[];for(let n=0;n<e.length;n++){if(null===e[n])continue;const i=e[n].split(" ");t.push(i.pop())}return t}(i.staticAttributes),c=r?r.getBinderAttributes():[],u=l.concat(c);let h=r?r.defines():[];h=h.concat(a.map(e=>"#define "+e));const d=h.concat(t.extStandardDerivatives?"#extension GL_OES_standard_derivatives : enable\n".concat(un):un,un,cn,ln.fragmentSource,an.fragmentSource,i.fragmentSource).join("\n"),p=h.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",cn,ln.vertexSource,an.vertexSource,on.vertexSource,i.vertexSource).join("\n"),f=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);s.shaderSource(f,d),s.compileShader(f),s.attachShader(this.program,f);const m=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())this.failedToCreate=!0;else{s.shaderSource(m,p),s.compileShader(m),s.attachShader(this.program,m),this.attributes={},this.numAttributes=u.length;for(let e=0;e<this.numAttributes;e++)u[e]&&(s.bindAttribLocation(this.program,e,u[e]),this.attributes[u[e]]=e);s.linkProgram(this.program),s.deleteShader(m),s.deleteShader(f),this.fixedUniforms=o(t),this.binderUniforms=r?r.getUniforms(t):[],a.includes("TERRAIN")&&(this.terrainUniforms=(t=>({u_dem:new e.Uniform1i(t),u_dem_prev:new e.Uniform1i(t),u_dem_unpack:new e.Uniform4f(t),u_dem_tl:new e.Uniform2f(t),u_dem_scale:new e.Uniform1f(t),u_dem_tl_prev:new e.Uniform2f(t),u_dem_scale_prev:new e.Uniform1f(t),u_dem_size:new e.Uniform1f(t),u_dem_lerp:new e.Uniform1f(t),u_exaggeration:new e.Uniform1f(t),u_depth:new e.Uniform1i(t),u_depth_size_inv:new e.Uniform2f(t),u_meter_to_dem:new e.Uniform1f(t),u_label_plane_matrix_inv:new e.UniformMatrix4f(t)}))(t)),a.includes("GLOBE")&&(this.globeUniforms=(t=>({u_tile_tl_up:new e.Uniform3f(t),u_tile_tr_up:new e.Uniform3f(t),u_tile_br_up:new e.Uniform3f(t),u_tile_bl_up:new e.Uniform3f(t),u_tile_up_scale:new e.Uniform1f(t)}))(t)),a.includes("FOG")&&(this.fogUniforms=(t=>({u_fog_matrix:new e.UniformMatrix4f(t),u_fog_range:new e.Uniform2f(t),u_fog_color:new e.Uniform4f(t),u_fog_horizon_blend:new e.Uniform1f(t),u_fog_temporal_offset:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_globe_transition:new e.Uniform1f(t),u_is_globe:new e.Uniform1i(t),u_viewport:new e.Uniform2f(t)}))(t))}}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const n=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)n[e]&&n[e].set(this.program,e,t[e])}}setGlobeUniformValues(e,t){if(!this.globeUniforms)return;const n=this.globeUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)n[e]&&n[e].set(this.program,e,t[e])}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const n=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)n[e].set(this.program,e,t[e])}}draw(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f){const m=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(i),e.setColorMode(r),e.setCullFace(o);for(const e of Object.keys(this.fixedUniforms))this.fixedUniforms[e].set(this.program,e,a[e]);p&&p.setUniforms(this.program,e,this.binderUniforms,h,{zoom:d});const g={[m.LINES]:2,[m.TRIANGLES]:3,[m.LINE_STRIP]:1}[t];for(const n of u.get()){const i=n.vaos||(n.vaos={});(i[s]||(i[s]=new fn)).bind(e,this,l,p?p.getPaintVertexBuffers():[],c,n.vertexOffset,f||[]),m.drawElements(t,n.primitiveLength*g,m.UNSIGNED_SHORT,n.primitiveOffset*g*2)}}}function Dn(e,t){const n=Math.pow(2,t.tileID.overscaledZ),i=t.tileSize*Math.pow(2,e.transform.tileZoom)/n,r=i*(t.tileID.canonical.x+t.tileID.wrap*n),o=i*t.tileID.canonical.y;return{u_image:0,u_texsize:t.imageAtlasTexture.size,u_tile_units_to_pixels:1/D(t,1,e.transform.tileZoom),u_pixel_coord_upper:[r>>16,o>>16],u_pixel_coord_lower:[65535&r,65535&o]}}const Ln=e.create(),On=(t,n,i,r,o,a,s,l,c,u,h)=>{const d=n.style.light,p=d.properties.get("position"),f=[p.x,p.y,p.z],m=e.create$1();"viewport"===d.properties.get("anchor")&&(e.fromRotation(m,-n.transform.angle),e.transformMat3(f,f,m));const g=d.properties.get("color"),y=n.transform,_={u_matrix:t,u_lightpos:f,u_lightintensity:d.properties.get("intensity"),u_lightcolor:[g.r,g.g,g.b],u_vertical_gradient:+i,u_opacity:r,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Ln,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:o,u_edge_radius:a};return"globe"===y.projection.name&&(_.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],_.u_zoom_transition=c,_.u_inv_rot_matrix=h,_.u_merc_center=u,_.u_up_dir=y.projection.upVector(new e.CanonicalTileID(0,0,0),u[0]*e.EXTENT,u[1]*e.EXTENT),_.u_height_lift=l),_},Rn=(t,n,i,r,o,a,s,l,c,u,h,d)=>{const p=On(t,n,i,r,o,a,s,c,u,h,d),f={u_height_factor:-Math.pow(2,s.overscaledZ)/l.tileSize/8};return e.extend(p,Dn(n,l),f)},Bn=e=>({u_matrix:e}),jn=(t,n,i)=>e.extend(Bn(t),Dn(n,i)),Fn=(e,t)=>({u_matrix:e,u_world:t}),Nn=(t,n,i,r)=>e.extend(jn(t,n,i),{u_world:r}),Un=e.create(),Vn=(t,n,i,r,o,a)=>{const s=t.transform,l="globe"===s.projection.name;let c;if("map"===a.paint.get("circle-pitch-alignment"))if(l){const t=e.globePixelsToTileUnits(s.zoom,n.canonical)*s._pixelsPerMercatorPixel;c=Float32Array.from([t,0,0,t])}else c=s.calculatePixelsToTileUnitsMatrix(i);else c=new Float32Array([s.pixelsToGLUnits[0],0,0,s.pixelsToGLUnits[1]]);const u={u_camera_to_center_distance:s.cameraToCenterDistance,u_matrix:t.translatePosMatrix(n.projMatrix,i,a.paint.get("circle-translate"),a.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:c,u_inv_rot_matrix:Un,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(l){u.u_inv_rot_matrix=r,u.u_merc_center=o,u.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],u.u_zoom_transition=e.globeToMercatorTransition(s.zoom);const t=o[0]*e.EXTENT,i=o[1]*e.EXTENT;u.u_up_dir=s.projection.upVector(new e.CanonicalTileID(0,0,0),t,i)}return u},Gn=e=>{const t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},Zn=(t,n,i,r)=>{const o=e.EXTENT/i.tileSize;return{u_matrix:t,u_camera_to_center_distance:n.getCameraToCenterDistance(r),u_extrude_scale:[n.pixelsToGLUnits[0]/o,n.pixelsToGLUnits[1]/o]}},Wn=(e,t,n=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}),qn=e.create(),$n=(t,n,i,r,o,a,s)=>{const l=t.transform,c="globe"===l.projection.name,u=c?e.globePixelsToTileUnits(l.zoom,n.canonical)*l._pixelsPerMercatorPixel:D(i,1,a),h={u_matrix:n.projMatrix,u_extrude_scale:u,u_intensity:s,u_inv_rot_matrix:qn,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(c){h.u_inv_rot_matrix=r,h.u_merc_center=o,h.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],h.u_zoom_transition=e.globeToMercatorTransition(l.zoom);const t=o[0]*e.EXTENT,i=o[1]*e.EXTENT;h.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),t,i)}return h},Hn=(e,t,n,i,r,o,a)=>{const s=e.transform,l=s.calculatePixelsToTileUnitsMatrix(t);return{u_matrix:Jn(e,t,n,i),u_pixels_to_tile_units:l,u_device_pixel_ratio:o,u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:r,u_texsize:Qn(n)?t.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Yn(t,e.transform),u_alpha_discard_threshold:0,u_trim_offset:a}},Xn=(e,t,n,i,r)=>{const o=e.transform;return{u_matrix:Jn(e,t,n,i),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:o.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:r,u_image:0,u_tile_units_to_pixels:Yn(t,o),u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Yn(e,t){return 1/D(e,1,t.tileZoom)}function Jn(e,t,n,i){return e.translatePosMatrix(i||t.tileID.projMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}function Qn(e){const t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}const Kn=(e,t,n,i,r,o)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_fade_t:i.mix,u_opacity:i.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(s=r.paint.get("raster-saturation"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(a=r.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:ei(r.paint.get("raster-hue-rotate")),u_perspective_transform:o};var a,s};function ei(e){e*=Math.PI/180;const t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}const ti=e.create(),ni=(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g)=>{const y=o.transform,_={u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:n?n.uSizeT:0,u_size:n?n.uSize:0,u_camera_to_center_distance:y.cameraToCenterDistance,u_rotate_symbol:+i,u_aspect_ratio:y.width/y.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+c,u_pitch_with_map:+r,u_texsize:u,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ti,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:ti,u_up_vector:[0,-1,0]};return"globe"===g.name&&(_.u_tile_id=[h.canonical.x,h.canonical.y,1<<h.canonical.z],_.u_zoom_transition=d,_.u_inv_rot_matrix=f,_.u_merc_center=p,_.u_camera_forward=y._camera.forward(),_.u_ecef_origin=e.globeECEFOrigin(y.globeMatrix,h.toUnwrapped()),_.u_tile_matrix=Float32Array.from(y.globeMatrix),_.u_up_vector=m),_},ii=(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y)=>e.extend(ni(t,n,i,r,o,a,s,l,c,u,d,p,f,m,g,y),{u_gamma_scale:r?o.transform.cameraToCenterDistance*Math.cos(o.terrain?0:o.transform._pitch):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+h}),ri=(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g)=>e.extend(ii(t,n,i,r,o,a,s,l,!0,c,!0,h,d,p,f,m,g),{u_texsize_icon:u,u_texture_icon:1}),oi=(e,t,n)=>({u_matrix:e,u_opacity:t,u_color:n}),ai=(t,n,i,r,o)=>e.extend(function(e,t,n){const i=t.imageManager.getPattern(e.toString()),{width:r,height:o}=t.imageManager.getPixelSize(),a=Math.pow(2,n.tileID.overscaledZ),s=n.tileSize*Math.pow(2,t.transform.tileZoom)/a,l=s*(n.tileID.canonical.x+n.tileID.wrap*a),c=s*n.tileID.canonical.y;return{u_image:0,u_pattern_tl:i.tl,u_pattern_br:i.br,u_texsize:[r,o],u_pattern_size:i.displaySize,u_tile_units_to_pixels:1/D(n,1,t.transform.tileZoom),u_pixel_coord_upper:[l>>16,c>>16],u_pixel_coord_lower:[65535&l,65535&c]}}(r,i,o),{u_matrix:t,u_opacity:n}),si={fillExtrusion:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t)}),fillExtrusionPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_height_factor:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t)}),fill:t=>({u_matrix:new e.UniformMatrix4f(t)}),fillPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),fillOutline:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t)}),fillOutlinePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),circle:t=>({u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),collisionBox:t=>({u_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.Uniform2f(t)}),collisionCircle:t=>({u_matrix:new e.UniformMatrix4f(t),u_inv_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_viewport_size:new e.Uniform2f(t)}),debug:t=>({u_color:new e.UniformColor(t),u_matrix:new e.UniformMatrix4f(t),u_overlay:new e.Uniform1i(t),u_overlay_scale:new e.Uniform1f(t)}),clippingMask:t=>({u_matrix:new e.UniformMatrix4f(t)}),heatmap:t=>({u_extrude_scale:new e.Uniform1f(t),u_intensity:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),heatmapTexture:t=>({u_image:new e.Uniform1i(t),u_color_ramp:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t)}),hillshade:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_latrange:new e.Uniform2f(t),u_light:new e.Uniform2f(t),u_shadow:new e.UniformColor(t),u_highlight:new e.UniformColor(t),u_accent:new e.UniformColor(t)}),hillshadePrepare:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_dimension:new e.Uniform2f(t),u_zoom:new e.Uniform1f(t),u_unpack:new e.Uniform4f(t)}),line:t=>({u_matrix:new e.UniformMatrix4f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_units_to_pixels:new e.Uniform2f(t),u_dash_image:new e.Uniform1i(t),u_gradient_image:new e.Uniform1i(t),u_image_height:new e.Uniform1f(t),u_texsize:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t),u_trim_offset:new e.Uniform2f(t)}),linePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_texsize:new e.Uniform2f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_units_to_pixels:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t)}),raster:t=>({u_matrix:new e.UniformMatrix4f(t),u_tl_parent:new e.Uniform2f(t),u_scale_parent:new e.Uniform1f(t),u_fade_t:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_image0:new e.Uniform1i(t),u_image1:new e.Uniform1i(t),u_brightness_low:new e.Uniform1f(t),u_brightness_high:new e.Uniform1f(t),u_saturation_factor:new e.Uniform1f(t),u_contrast_factor:new e.Uniform1f(t),u_spin_weights:new e.Uniform3f(t),u_perspective_transform:new e.Uniform2f(t)}),symbolIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_texture:new e.Uniform1i(t)}),symbolSDF:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_is_halo:new e.Uniform1i(t)}),symbolTextAndIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texsize_icon:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_texture_icon:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_is_halo:new e.Uniform1i(t)}),background:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_color:new e.UniformColor(t)}),backgroundPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_pattern_tl:new e.Uniform2f(t),u_pattern_br:new e.Uniform2f(t),u_texsize:new e.Uniform2f(t),u_pattern_size:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),terrainRaster:vn,terrainDepth:vn,skybox:t=>({u_matrix:new e.UniformMatrix4f(t),u_sun_direction:new e.Uniform3f(t),u_cubemap:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxGradient:t=>({u_matrix:new e.UniformMatrix4f(t),u_color_ramp:new e.Uniform1i(t),u_center_direction:new e.Uniform3f(t),u_radius:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxCapture:t=>({u_matrix_3f:new e.UniformMatrix3f(t),u_sun_direction:new e.Uniform3f(t),u_sun_intensity:new e.Uniform1f(t),u_color_tint_r:new e.Uniform4f(t),u_color_tint_m:new e.Uniform4f(t),u_luminance:new e.Uniform1f(t)}),globeRaster:t=>({u_proj_matrix:new e.UniformMatrix4f(t),u_globe_matrix:new e.UniformMatrix4f(t),u_normalize_matrix:new e.UniformMatrix4f(t),u_merc_matrix:new e.UniformMatrix4f(t),u_zoom_transition:new e.Uniform1f(t),u_merc_center:new e.Uniform2f(t),u_image0:new e.Uniform1i(t),u_grid_matrix:new e.UniformMatrix3f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_viewport:new e.Uniform2f(t)}),globeAtmosphere:t=>({u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_horizon:new e.Uniform1f(t),u_transition:new e.Uniform1f(t),u_fadeout_range:new e.Uniform1f(t),u_color:new e.Uniform4f(t),u_high_color:new e.Uniform4f(t),u_space_color:new e.Uniform4f(t),u_star_intensity:new e.Uniform1f(t),u_star_density:new e.Uniform1f(t),u_star_size:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t),u_horizon_angle:new e.Uniform1f(t),u_rotation_matrix:new e.UniformMatrix4f(t)})};let li;function ci(t,n,i,r,o,a,s){const l=t.context,c=l.gl,u=t.transform,h=t.useProgram("collisionBox"),d=[];let p=0,f=0;for(let m=0;m<r.length;m++){const g=r[m],y=n.getTile(g),_=y.getBucket(i);if(!_)continue;const v=vt(g,_,u);let x=v;0===o[0]&&0===o[1]||(x=t.translatePosMatrix(v,y,o,a));const b=s?_.textCollisionBox:_.iconCollisionBox,w=_.collisionCircleArray;if(w.length>0){const t=e.create(),n=x;e.mul(t,_.placementInvProjMatrix,u.glCoordMatrix),e.mul(t,t,_.placementViewportMatrix),d.push({circleArray:w,circleOffset:f,transform:n,invTransform:t,projection:_.getProjection()}),p+=w.length/4,f=p}b&&(t.terrain&&t.terrain.setupElevationDraw(y,h),h.draw(l,c.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,Zn(x,u,y,_.getProjection()),i.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,u.zoom,null,[b.collisionVertexBuffer,b.collisionVertexBufferExt]))}if(!s||!d.length)return;const m=t.useProgram("collisionCircle"),g=new e.StructArrayLayout2f1f2i16;g.resize(4*p),g._trim();let y=0;for(const e of d)for(let t=0;t<e.circleArray.length/4;t++){const n=4*t,i=e.circleArray[n+0],r=e.circleArray[n+1],o=e.circleArray[n+2],a=e.circleArray[n+3];g.emplace(y++,i,r,o,a,0),g.emplace(y++,i,r,o,a,1),g.emplace(y++,i,r,o,a,2),g.emplace(y++,i,r,o,a,3)}(!li||li.length<2*p)&&(li=function(t){const n=2*t,i=new e.StructArrayLayout3ui6;i.resize(n),i._trim();for(let e=0;e<n;e++){const t=6*e;i.uint16[t+0]=4*e+0,i.uint16[t+1]=4*e+1,i.uint16[t+2]=4*e+2,i.uint16[t+3]=4*e+2,i.uint16[t+4]=4*e+3,i.uint16[t+5]=4*e+0}return i}(p));const _=l.createIndexBuffer(li,!0),v=l.createVertexBuffer(g,e.collisionCircleLayout.members,!0);for(const n of d){const r={u_matrix:n.transform,u_inv_matrix:n.invTransform,u_camera_to_center_distance:(x=u).getCameraToCenterDistance(n.projection),u_viewport_size:[x.width,x.height]};m.draw(l,c.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,r,i.id,v,_,e.SegmentVector.simpleSegment(0,2*n.circleOffset,n.circleArray.length,n.circleArray.length/2),null,u.zoom)}var x;v.destroy(),_.destroy()}const ui=e.create();function hi({width:t,height:n,anchor:i,textOffset:r,textScale:o},a){const{horizontalAlign:s,verticalAlign:l}=e.getAnchorAlignment(i),c=-(s-.5)*t,u=-(l-.5)*n,h=e.evaluateVariableOffset(i,r);return new e.pointGeometry((c/o+h[0])*a,(u/o+h[1])*a)}function di(t,n,i,r,o,a,s,l,c,u,h){const d=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,f=t.icon.dynamicLayoutVertexArray,m={},g=t.getProjection(),y=xt(l,g,a),_=a.elevation,v=g.upVectorScale(l.canonical,a.center.lat,a.worldSize).metersToTile;p.clear();for(let f=0;f<d.length;f++){const x=d.get(f),{tileAnchorX:b,tileAnchorY:w,numGlyphs:T}=x,E=t.allowVerticalPlacement&&!x.placedOrientation,S=x.hidden||!x.crossTileID||E?null:r[x.crossTileID];if(S){let r=0,d=0,f=0;if(_){const e=_?_.getAtTileOffset(l,b,w):0,[t,n,i]=g.upVector(l.canonical,b,w);r=e*t*v,d=e*n*v,f=e*i*v}let[E,M,I,C]=rt(x.projectedAnchorX+r,x.projectedAnchorY+d,x.projectedAnchorZ+f,i?y:s);const k=ot(a.getCameraToCenterDistance(g),C);let A=o.evaluateSizeForFeature(t.textSizeData,u,x)*k/e.ONE_EM;i&&(A*=t.tilePixelRatio/c);const P=hi(S,A);i?(({x:E,y:M,z:I}=g.projectTilePoint(b+P.x,w+P.y,l.canonical)),[E,M,I]=rt(E+r,M+d,I+f,s)):(n&&P._rotate(-a.angle),E+=P.x,M+=P.y,I=0);const z=t.allowVerticalPlacement&&x.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<T;t++)e.addDynamicAttributes(p,E,M,I,z);h&&x.associatedIconIndex>=0&&(m[x.associatedIconIndex]={x:E,y:M,z:I,angle:z})}else ft(T,p)}if(h){f.clear();const n=t.icon.placedSymbolArray;for(let t=0;t<n.length;t++){const i=n.get(t),{numGlyphs:r}=i,o=m[t];if(i.hidden||!o)ft(r,f);else{const{x:t,y:n,z:i,angle:a}=o;for(let o=0;o<r;o++)e.addDynamicAttributes(f,t,n,i,a)}}t.icon.dynamicLayoutVertexBuffer.updateData(f)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function pi(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function fi(t,n,i,r,o,a,s,l,c,u,h,d){const p=t.context,f=p.gl,m=t.transform,g="map"===l,y="map"===c,_=g&&"point"!==i.layout.get("symbol-placement"),v=g&&!y&&!_,x=void 0!==i.layout.get("symbol-sort-key").constantOr(1);let b=!1;const w=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),T=[e.mercatorXfromLng(m.center.lng),e.mercatorYfromLat(m.center.lat)],E=i.layout.get("text-variable-anchor"),S="globe"===m.projection.name,M=[],I=[0,-1,0];let C=I;!S&&!m.mercatorFromTransition||g||(C=function(t){const n=t._camera.getWorldToCamera(t.worldSize,1),i=e.multiply([],n,t.globeMatrix);e.invert(i,i);const r=[0,0,0],o=[0,1,0,0];return e.transformMat4$1(o,o,i),r[0]=o[0],r[1]=o[1],r[2]=o[2],e.normalize(r,r),r}(m));for(const l of r){const r=n.getTile(l),c=r.getBucket(i);if(!c)continue;if("mercator"===c.projection.name&&S)continue;const h=o?c.text:c.icon;if(!h||c.fullyClipped||!h.segments.get().length)continue;const d=h.programConfigurations.get(i.id),p=o||c.sdfIcons,w=o?c.textSizeData:c.iconSizeData,k=y||0!==m.pitch,A=e.evaluateSizeForZoom(w,m.zoom);let P,z,D,L,O=[0,0],R=null;if(o){if(z=r.glyphAtlasTexture,D=f.LINEAR,P=r.glyphAtlasTexture.size,c.iconsInText){O=r.imageAtlasTexture.size,R=r.imageAtlasTexture;const e="composite"===w.kind||"camera"===w.kind;L=k||t.options.rotating||t.options.zooming||e?f.LINEAR:f.NEAREST}}else{const e=1!==i.layout.get("icon-size").constantOr(0)||c.iconsNeedLinear;z=r.imageAtlasTexture,D=p||t.options.rotating||t.options.zooming||e||k?f.LINEAR:f.NEAREST,P=r.imageAtlasTexture.size}const B="globe"===c.projection.name,j=B?C:I,F=B?e.globeToMercatorTransition(m.zoom):0,N=xt(l,c.getProjection(),m),U=m.calculatePixelsToTileUnitsMatrix(r),V=tt(N,r.tileID.canonical,y,g,m,c.getProjection(),U),G=t.terrain&&y&&_?e.invert(e.create(),V):ui,Z=it(N,r.tileID.canonical,y,g,m,c.getProjection(),U),W=E&&c.hasTextData(),q="none"!==i.layout.get("icon-text-fit")&&W&&c.hasIconData();if(_){const e=m.elevation,n=e?e.getAtTileOffsetFunc(l,m.center.lat,m.worldSize,c.getProjection()):null,i=nt(N,r.tileID.canonical,y,g,m,c.getProjection(),U);st(c,N,t,o,i,Z,y,u,n,l)}const $=_||o&&E||q,H=t.translatePosMatrix(N,r,a,s),X=$?ui:V,Y=t.translatePosMatrix(Z,r,a,s,!0),J=c.getProjection().createInversionMatrix(m,l.canonical),Q=[];t.terrainRenderModeElevated()&&y&&Q.push("PITCH_WITH_MAP_TERRAIN"),B&&Q.push("PROJECTION_GLOBE_VIEW"),$&&Q.push("PROJECTED_POS_ON_VIEWPORT");const K=p&&0!==i.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);let ee;ee=p?c.iconsInText?ri(w.kind,A,v,y,t,H,X,Y,P,O,l,F,T,J,j,c.getProjection()):ii(w.kind,A,v,y,t,H,X,Y,o,P,!0,l,F,T,J,j,c.getProjection()):ni(w.kind,A,v,y,t,H,X,Y,o,P,l,F,T,J,j,c.getProjection());const te={program:t.useProgram(pi(p,o,c),d,Q),buffers:h,uniformValues:ee,atlasTexture:z,atlasTextureIcon:R,atlasInterpolation:D,atlasInterpolationIcon:L,isSDF:p,hasHalo:K,tile:r,labelPlaneMatrixInv:G};if(x&&c.canOverlap){b=!0;const t=h.segments.get();for(const n of t)M.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:te})}else M.push({segments:h.segments,sortKey:0,state:te})}b&&M.sort((e,t)=>e.sortKey-t.sortKey);for(const e of M){const n=e.state;if(t.terrain&&t.terrain.setupElevationDraw(n.tile,n.program,{useDepthForOcclusion:!S,labelPlaneMatrixInv:n.labelPlaneMatrixInv}),p.activeTexture.set(f.TEXTURE0),n.atlasTexture.bind(n.atlasInterpolation,f.CLAMP_TO_EDGE),n.atlasTextureIcon&&(p.activeTexture.set(f.TEXTURE1),n.atlasTextureIcon&&n.atlasTextureIcon.bind(n.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),n.isSDF){const r=n.uniformValues;n.hasHalo&&(r.u_is_halo=1,mi(n.buffers,e.segments,i,t,n.program,w,h,d,r)),r.u_is_halo=0}mi(n.buffers,e.segments,i,t,n.program,w,h,d,n.uniformValues)}}function mi(t,n,i,r,o,a,s,l,c){const u=r.context,h=[t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer,t.globeExtVertexBuffer];o.draw(u,u.gl.TRIANGLES,a,s,l,e.CullFaceMode.disabled,c,i.id,t.layoutVertexBuffer,t.indexBuffer,n,i.paint,r.transform.zoom,t.programConfigurations.get(i.id),h)}function gi(t,n,i,r,o,a,s){const l=t.context.gl,c=i.paint.get("fill-pattern"),u=c&&c.constantOr(1);let h,d,p,f,m;s?(d=u&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",h=l.LINES):(d=u?"fillPattern":"fill",h=l.TRIANGLES);for(const g of r){const r=n.getTile(g);if(u&&!r.patternsLoaded())continue;const y=r.getBucket(i);if(!y)continue;t.prepareDrawTile();const _=y.programConfigurations.get(i.id),v=t.useProgram(d,_);u&&(t.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),_.updatePaintBuffers());const x=c.constantOr(null);if(x&&r.imageAtlas){const e=r.imageAtlas.patternPositions[x.toString()];e&&_.setConstantPatternPositions(e)}const b=t.translatePosMatrix(g.projMatrix,r,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"));if(s){f=y.indexBuffer2,m=y.segments2;const e=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[l.drawingBufferWidth,l.drawingBufferHeight];p="fillOutlinePattern"===d&&u?Nn(b,t,r,e):Fn(b,e)}else f=y.indexBuffer,m=y.segments,p=u?jn(b,t,r):Bn(b);t.prepareDrawProgram(t.context,v,g.toUnwrapped()),v.draw(t.context,h,o,t.stencilModeForClipping(g),a,e.CullFaceMode.disabled,p,i.id,y.layoutVertexBuffer,f,m,i.paint,t.transform.zoom,_)}}function yi(t,n,i,r,o,a,s){const l=t.context,c=l.gl,u=t.transform,h=i.paint.get("fill-extrusion-pattern"),d=h.constantOr(1),p=i.paint.get("fill-extrusion-opacity"),f=[i.paint.get("fill-extrusion-ambient-occlusion-intensity"),i.paint.get("fill-extrusion-ambient-occlusion-radius")],m=i.layout.get("fill-extrusion-edge-radius"),g="globe"===u.projection.name?e.fillExtrusionHeightLift():0,y="globe"===u.projection.name,_=y?e.globeToMercatorTransition(u.zoom):0,v=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],x=[];y&&(x.push("PROJECTION_GLOBE_VIEW"),t.style.terrainSetForDrapingOnly()&&x.push("TERRAIN")),f[0]>0&&x.push("FAUX_AO");for(const b of r){const r=n.getTile(b),w=r.getBucket(i);if(!w||w.projection.name!==u.projection.name)continue;const T=w.programConfigurations.get(i.id),E=t.useProgram(d?"fillExtrusionPattern":"fillExtrusion",T,x);if(t.terrain){const e=t.terrain;if(t.style.terrainSetForDrapingOnly())e.setupElevationDraw(r,E,{useMeterToDem:!0});else{if(!w.enableTerrain)continue;if(e.setupElevationDraw(r,E,{useMeterToDem:!0}),_i(l,n,b,w,i,e),!w.centroidVertexBuffer){const e=E.attributes.a_centroid_pos;void 0!==e&&c.vertexAttrib2f(e,0,0)}}}d&&(t.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),T.updatePaintBuffers());const S=h.constantOr(null);if(S&&r.imageAtlas){const e=r.imageAtlas.patternPositions[S.toString()];e&&T.setConstantPatternPositions(e)}const M=t.translatePosMatrix(b.projMatrix,r,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),I=u.projection.createInversionMatrix(u,b.canonical),C=i.paint.get("fill-extrusion-vertical-gradient"),k=d?Rn(M,t,C,p,f,m,b,r,g,_,v,I):On(M,t,C,p,f,m,b,g,_,v,I);t.prepareDrawProgram(l,E,b.toUnwrapped());const A=[];t.terrain&&A.push(w.centroidVertexBuffer),y&&A.push(w.layoutVertexExtBuffer),E.draw(l,l.gl.TRIANGLES,o,a,s,e.CullFaceMode.backCCW,k,i.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,i.paint,t.transform.zoom,T,A)}}function _i(t,n,i,r,o,a){const s=[t=>{let n=t.canonical.x-1,i=t.wrap;return n<0&&(n=(1<<t.canonical.z)-1,i--),new e.OverscaledTileID(t.overscaledZ,i,t.canonical.z,n,t.canonical.y)},t=>{let n=t.canonical.x+1,i=t.wrap;return n===1<<t.canonical.z&&(n=0,i++),new e.OverscaledTileID(t.overscaledZ,i,t.canonical.z,n,t.canonical.y)},t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1),t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)],l=e=>{const t=n.getSource().minzoom,i=e=>{const t=n.getTileByID(e);if(t&&t.hasData())return t.getBucket(o)},r=[0,-1,1];for(const n of r){if(e.overscaledZ+n<t)continue;const r=i(e.calculateScaledKey(e.overscaledZ+n));if(r)return r}},c=[0,0,0],u=(t,n)=>(c[0]=Math.min(t.min.y,n.min.y),c[1]=Math.max(t.max.y,n.max.y),c[2]=e.EXTENT-n.min.x>t.max.x?n.min.x-e.EXTENT:t.max.x,c),h=(t,n)=>(c[0]=Math.min(t.min.x,n.min.x),c[1]=Math.max(t.max.x,n.max.x),c[2]=e.EXTENT-n.min.y>t.max.y?n.min.y-e.EXTENT:t.max.y,c),d=[(e,t)=>u(e,t),(e,t)=>u(t,e),(e,t)=>h(e,t),(e,t)=>h(t,e)],p=new e.pointGeometry(0,0);let f,m,g;const y=(t,n,r,o,s)=>{const l=[[o?r:t,o?t:r,0],[o?r:n,o?n:r,0]],c=s<0?e.EXTENT+s:s,u=[o?c:(t+n)/2,o?(t+n)/2:c,0];return 0===r&&s<0||0!==r&&s>0?a.getForTilePoints(g,[u],!0,m):l.push(u),a.getForTilePoints(i,l,!0,f),Math.max(l[0][2],l[1][2],u[2])/a.exaggeration()};for(let t=0;t<4;t++){const n=(t<2?1:5)-t,o=r.borders[t];if(0===o.length)continue;const c=g=s[t](i),u=l(c);if(!(u&&u instanceof e.FillExtrusionBucket&&u.enableTerrain))continue;if(r.borderDoneWithNeighborZ[t]===u.canonical.z&&u.borderDoneWithNeighborZ[n]===r.canonical.z)continue;if(m=a.findDEMTileFor(c),!m||!m.dem)continue;if(!f){const e=a.findDEMTileFor(i);if(!e||!e.dem)return;f=e}const h=u.borders[n];let _=0;const v=u.borderDoneWithNeighborZ[n]!==r.canonical.z;if(r.canonical.z===u.canonical.z){for(let i=0;i<o.length;i++){const a=r.featuresOnBorder[o[i]],s=a.borders[t];let l;for(;_<h.length&&(l=u.featuresOnBorder[h[_]],!(l.borders[n][1]>s[0]+3));)v&&u.encodeCentroid(void 0,l,!1),_++;if(l&&_<h.length){const i=_;let o=0;for(;!(l.borders[n][0]>s[1]-3)&&(o++,++_!==h.length);)l=u.featuresOnBorder[h[_]];if(l=u.featuresOnBorder[h[i]],a.intersectsCount()>1||l.intersectsCount()>1||1!==o){1!==o&&(_=i),r.encodeCentroid(void 0,a,!1),v&&u.encodeCentroid(void 0,l,!1);continue}const c=d[t](a,l),f=t%2?e.EXTENT-1:0;p.x=y(c[0],Math.min(e.EXTENT-1,c[1]),f,t<2,c[2]),p.y=0,r.encodeCentroid(p,a,!1),v&&u.encodeCentroid(p,l,!1)}else r.encodeCentroid(void 0,a,!1)}r.borderDoneWithNeighborZ[t]=u.canonical.z,r.needsCentroidUpdate=!0,v&&(u.borderDoneWithNeighborZ[n]=r.canonical.z,u.needsCentroidUpdate=!0)}else{for(const e of o)r.encodeCentroid(void 0,r.featuresOnBorder[e],!1);if(v){for(const e of h)u.encodeCentroid(void 0,u.featuresOnBorder[e],!1);u.borderDoneWithNeighborZ[n]=r.canonical.z,u.needsCentroidUpdate=!0}r.borderDoneWithNeighborZ[t]=u.canonical.z,r.needsCentroidUpdate=!0}}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(t)}const vi=new e.Color(1,0,0,1),xi=new e.Color(0,1,0,1),bi=new e.Color(0,0,1,1),wi=new e.Color(1,0,1,1),Ti=new e.Color(0,1,1,1);function Ei(t,n,i){const r=t.context,o=t.transform,a=r.gl,s="globe"===o.projection.name,l=s?["PROJECTION_GLOBE_VIEW"]:null;let c=i.projMatrix;if(s&&e.globeToMercatorTransition(o.zoom)>0){const t=e.transitionTileAABBinECEF(i.canonical,o),n=e.globeDenormalizeECEF(t);c=e.multiply(new Float32Array(16),o.globeMatrix,n),e.multiply(c,o.projMatrix,c)}const u=t.useProgram("debug",null,l),h=n.getTileByID(i.key);t.terrain&&t.terrain.setupElevationDraw(h,u);const d=e.DepthMode.disabled,p=e.StencilMode.disabled,f=t.colorModeForRenderPass(),m="$debug";r.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s?h._makeGlobeTileDebugBuffers(t.context,o):h._makeDebugTileBoundsBuffers(t.context,o.projection);const g=h._tileDebugBuffer||t.debugBuffer,y=h._tileDebugIndexBuffer||t.debugIndexBuffer,_=h._tileDebugSegments||t.debugSegments;u.draw(r,a.LINE_STRIP,d,p,f,e.CullFaceMode.disabled,Wn(c,e.Color.red),m,g,y,_,null,null,null,[h._globeTileDebugBorderBuffer]);const v=h.latestRawTileData,x=Math.floor((v&&v.byteLength||0)/1024),b=n.getTile(i).tileSize,w=512/Math.min(b,512)*(i.overscaledZ/o.zoom)*.5;let T=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(T+=" => "+i.overscaledZ),T+=` ${x}kb`,function(e,t){e.initDebugOverlayCanvas();const n=e.debugOverlayCanvas,i=e.context.gl,r=e.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,n.width,n.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}(t,T);const E=h._tileDebugTextBuffer||t.debugBuffer,S=h._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,M=h._tileDebugTextSegments||t.debugSegments;u.draw(r,a.TRIANGLES,d,p,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,Wn(c,e.Color.transparent,w),m,E,S,M,null,null,null,[h._globeTileDebugTextBuffer])}function Si(e,t,n,i){Ii(e,0,t+n/2,e.transform.width,n,i)}function Mi(e,t,n,i){Ii(e,t-n/2,0,n,e.transform.height,i)}function Ii(t,n,i,r,o,a){const s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(n*e.exported.devicePixelRatio,i*e.exported.devicePixelRatio,r*e.exported.devicePixelRatio,o*e.exported.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}const Ci=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:ki}=Ci;function Ai(e,t,n,i){e.emplaceBack(t,n,i)}class Pi{constructor(t){this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,Ai(this.vertexArray,-1,-1,1),Ai(this.vertexArray,1,-1,1),Ai(this.vertexArray,-1,1,1),Ai(this.vertexArray,1,1,1),Ai(this.vertexArray,-1,-1,-1),Ai(this.vertexArray,1,-1,-1),Ai(this.vertexArray,-1,1,-1),Ai(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,ki),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}}function zi(t,n,i,r,o,a){const s=t.gl,l=n.paint.get("sky-atmosphere-color"),c=n.paint.get("sky-atmosphere-halo-color"),u=n.paint.get("sky-atmosphere-sun-intensity"),h=((e,t,n,i,r)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:n,u_color_tint_r:[i.r,i.g,i.b,i.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}))(e.fromMat4(e.create$1(),r),o,u,l,c);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+a,n.skyboxTexture,0),i.draw(t,s.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,h,"skyboxCapture",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}const Di=e.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Li{constructor(t){const n=new e.StructArrayLayout5f20;n.emplaceBack(-1,1,1,0,0),n.emplaceBack(1,1,1,1,0),n.emplaceBack(1,-1,1,1,1),n.emplaceBack(-1,-1,1,0,1);const i=new e.StructArrayLayout3ui6;i.emplaceBack(0,1,2),i.emplaceBack(2,3,0),this.vertexBuffer=t.createVertexBuffer(n,Di.members),this.indexBuffer=t.createIndexBuffer(i),this.segments=e.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Oi={symbol:function(t,n,i,r,o){if("translucent"!==t.renderPass)return;const a=e.StencilMode.disabled,s=t.colorModeForRenderPass();i.layout.get("text-variable-anchor")&&function(t,n,i,r,o,a,s){const l=n.transform,c="map"===o,u="map"===a;for(const n of t){const t=r.getTile(n),o=t.getBucket(i);if(!o||!o.text||!o.text.segments.get().length)continue;const a=e.evaluateSizeForZoom(o.textSizeData,l.zoom),h=xt(n,o.getProjection(),l),d=l.calculatePixelsToTileUnitsMatrix(t),p=tt(h,t.tileID.canonical,u,c,l,o.getProjection(),d),f="none"!==i.layout.get("icon-text-fit")&&o.hasIconData();if(a){const i=Math.pow(2,l.zoom-t.tileID.overscaledZ);di(o,c,u,s,e.symbolSize,l,p,n,i,a,f)}}}(r,t,i,n,i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),o),0!==i.paint.get("icon-opacity").constantOr(1)&&fi(t,n,i,r,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),a,s),0!==i.paint.get("text-opacity").constantOr(1)&&fi(t,n,i,r,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(ci(t,n,i,r,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),!0),ci(t,n,i,r,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),!1))},circle:function(t,n,i,r){if("translucent"!==t.renderPass)return;const o=i.paint.get("circle-opacity"),a=i.paint.get("circle-stroke-width"),s=i.paint.get("circle-stroke-opacity"),l=void 0!==i.layout.get("circle-sort-key").constantOr(1);if(0===o.constantOr(1)&&(0===a.constantOr(1)||0===s.constantOr(1)))return;const c=t.context,u=c.gl,h=t.transform,d=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),p=e.StencilMode.disabled,f=t.colorModeForRenderPass(),m="globe"===h.projection.name,g=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],y=[];for(let o=0;o<r.length;o++){const a=r[o],s=n.getTile(a),c=s.getBucket(i);if(!c||c.projection.name!==h.projection.name)continue;const u=c.programConfigurations.get(i.id),d=Gn(i);m&&d.push("PROJECTION_GLOBE_VIEW");const p=t.useProgram("circle",u,d),f=c.layoutVertexBuffer,_=c.globeExtVertexBuffer,v=c.indexBuffer,x=h.projection.createInversionMatrix(h,a.canonical),b={programConfiguration:u,program:p,layoutVertexBuffer:f,globeExtVertexBuffer:_,indexBuffer:v,uniformValues:Vn(t,a,s,x,g,i),tile:s};if(l){const t=c.segments.get();for(const n of t)y.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:b})}else y.push({segments:c.segments,sortKey:0,state:b})}l&&y.sort((e,t)=>e.sortKey-t.sortKey);const _={useDepthForOcclusion:!m};for(const n of y){const{programConfiguration:r,program:o,layoutVertexBuffer:a,globeExtVertexBuffer:s,indexBuffer:l,uniformValues:m,tile:g}=n.state,y=n.segments;t.terrain&&t.terrain.setupElevationDraw(g,o,_),t.prepareDrawProgram(c,o,g.tileID.toUnwrapped()),o.draw(c,u.TRIANGLES,d,p,f,e.CullFaceMode.disabled,m,i.id,a,l,y,i.paint,h.zoom,r,[s])}},heatmap:function(t,n,i,r){if(0!==i.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const o=t.context,a=o.gl,s=e.StencilMode.disabled,l=new e.ColorMode([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n,i){const r=e.gl,o=t.width*i,a=t.height*i;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,o,a]);let s=n.heatmapFbo;if(!s||s&&(s.width!==o||s.height!==a)){s&&s.destroy();const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),s=n.heatmapFbo=e.createFramebuffer(o,a,!1),function(e,t,n,i,r,o){const a=e.gl;a.texImage2D(a.TEXTURE_2D,0,a.RGBA,r,o,0,a.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:a.UNSIGNED_BYTE,null),i.colorAttachment.set(n)}(e,0,t,s,o,a)}else r.bindTexture(r.TEXTURE_2D,s.colorAttachment.get()),e.bindFramebuffer.set(s.framebuffer)}(o,t,i,"globe"===t.transform.projection.name?.5:.25),o.clear({color:e.Color.transparent});const c=t.transform,u="globe"===c.projection.name,h=u?["PROJECTION_GLOBE_VIEW"]:null,d=u?e.CullFaceMode.frontCCW:e.CullFaceMode.disabled,p=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)];for(let f=0;f<r.length;f++){const m=r[f];if(n.hasRenderableParent(m))continue;const g=n.getTile(m),y=g.getBucket(i);if(!y||y.projection.name!==c.projection.name)continue;const _=y.programConfigurations.get(i.id),v=t.useProgram("heatmap",_,h),{zoom:x}=t.transform;t.terrain&&t.terrain.setupElevationDraw(g,v),t.prepareDrawProgram(o,v,m.toUnwrapped());const b=c.projection.createInversionMatrix(c,m.canonical);v.draw(o,a.TRIANGLES,e.DepthMode.disabled,s,l,d,$n(t,m,g,b,p,x,i.paint.get("heatmap-intensity")),i.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,i.paint,t.transform.zoom,_,u?[y.globeExtVertexBuffer]:null)}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){const i=t.context,r=i.gl,o=n.heatmapFbo;if(!o)return;i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,o.colorAttachment.get()),i.activeTexture.set(r.TEXTURE1);let a=n.colorRampTexture;a||(a=n.colorRampTexture=new e.Texture(i,n.colorRamp,r.RGBA)),a.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(i,r.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,((e,t,n,i)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}))(0,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}(t,i))},line:function(t,n,i,r){if("translucent"!==t.renderPass)return;const o=i.paint.get("line-opacity"),a=i.paint.get("line-width");if(0===o.constantOr(1)||0===a.constantOr(1))return;const s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),c=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,u=i.paint.get("line-dasharray"),h=u.constantOr(1),d=i.layout.get("line-cap"),p=i.paint.get("line-pattern"),f=p.constantOr(1),m=i.paint.get("line-gradient"),g=f?"linePattern":"line",y=t.context,_=y.gl,v=(e=>{const t=[];Qn(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT");const n=e.paint.get("line-trim-offset");0===n[0]&&0===n[1]||t.push("RENDER_LINE_TRIM_OFFSET");const i=e.paint.get("line-pattern").constantOr(1),r=1!==e.paint.get("line-opacity").constantOr(1);return!i&&r&&t.push("RENDER_LINE_ALPHA_DISCARD"),t})(i);let x=v.includes("RENDER_LINE_ALPHA_DISCARD");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(x=!1);for(const o of r){const r=n.getTile(o);if(f&&!r.patternsLoaded())continue;const a=r.getBucket(i);if(!a)continue;t.prepareDrawTile();const b=a.programConfigurations.get(i.id),w=t.useProgram(g,b,v),T=p.constantOr(null);if(T&&r.imageAtlas){const e=r.imageAtlas.patternPositions[T.toString()];e&&b.setConstantPatternPositions(e)}const E=u.constantOr(null),S=d.constantOr(null);if(!f&&E&&S&&r.lineAtlas){const e=r.lineAtlas.getDash(E,S);e&&b.setConstantPatternPositions(e)}let[M,I]=i.paint.get("line-trim-offset");if("round"===S||"square"===S){const e=1;M!==I&&(0===M&&(M-=e),1===I&&(I+=e))}const C=t.terrain?o.projMatrix:null,k=f?Xn(t,r,i,C,c):Hn(t,r,i,C,a.lineClipsArray.length,c,[M,I]);if(m){const r=a.gradients[i.id];let s=r.texture;if(i.gradientVersion!==r.version){let l=256;if(i.stepInterpolant){const i=n.getSource().maxzoom,r=o.canonical.z===i?Math.ceil(1<<t.transform.maxZoom-o.canonical.z):1;l=e.clamp(e.nextPowerOfTwo(a.maxLineLength/e.EXTENT*1024*r),256,y.maxTextureSize)}r.gradient=e.renderColorRamp({expression:i.gradientExpression(),evaluationKey:"lineProgress",resolution:l,image:r.gradient||void 0,clips:a.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new e.Texture(y,r.gradient,_.RGBA),r.version=i.gradientVersion,s=r.texture}y.activeTexture.set(_.TEXTURE1),s.bind(i.stepInterpolant?_.NEAREST:_.LINEAR,_.CLAMP_TO_EDGE)}h&&(y.activeTexture.set(_.TEXTURE0),r.lineAtlasTexture.bind(_.LINEAR,_.REPEAT),b.updatePaintBuffers()),f&&(y.activeTexture.set(_.TEXTURE0),r.imageAtlasTexture.bind(_.LINEAR,_.CLAMP_TO_EDGE),b.updatePaintBuffers()),t.prepareDrawProgram(y,w,o.toUnwrapped());const A=n=>{w.draw(y,_.TRIANGLES,s,n,l,e.CullFaceMode.disabled,k,i.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,i.paint,t.transform.zoom,b,[a.layoutVertexBuffer2])};if(x){const n=t.stencilModeForClipping(o).ref;0===n&&t.terrain&&y.clear({stencil:0});const i={func:_.EQUAL,mask:255};k.u_alpha_discard_threshold=.8,A(new e.StencilMode(i,n,255,_.KEEP,_.KEEP,_.INVERT)),k.u_alpha_discard_threshold=0,A(new e.StencilMode(i,n,255,_.KEEP,_.KEEP,_.KEEP))}else A(t.stencilModeForClipping(o))}x&&(t.resetStencilClippingMasks(),t.terrain&&y.clear({stencil:0}))},fill:function(t,n,i,r){const o=i.paint.get("fill-color"),a=i.paint.get("fill-opacity");if(0===a.constantOr(1))return;const s=t.colorModeForRenderPass(),l=i.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){const o=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);gi(t,n,i,r,o,s,!1)}if("translucent"===t.renderPass&&i.paint.get("fill-antialias")){const o=t.depthModeForSublayer(i.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);gi(t,n,i,r,o,s,!0)}},"fill-extrusion":function(t,n,i,r){const o=i.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===t.renderPass){const a=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==o||i.paint.get("fill-extrusion-pattern").constantOr(1))yi(t,n,i,r,a,e.StencilMode.disabled,e.ColorMode.disabled),yi(t,n,i,r,a,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else{const o=t.colorModeForRenderPass();yi(t,n,i,r,a,e.StencilMode.disabled,o)}}},hillshade:function(t,n,i,r){if("offscreen"!==t.renderPass&&"translucent"!==t.renderPass)return;const o=t.context,a=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),s=t.colorModeForRenderPass(),l=t.terrain&&t.terrain.renderingToTexture,[c,u]="translucent"!==t.renderPass||l?[{},r]:t.stencilConfigForOverlap(r);for(const r of u){const o=n.getTile(r);if(o.needsHillshadePrepare&&"offscreen"===t.renderPass)_n(t,o,i,a,e.StencilMode.disabled,s);else if("translucent"===t.renderPass){const e=l&&t.terrain?t.terrain.stencilModeForRTTOverlap(r):c[r.overscaledZ];gn(t,r,o,i,a,e,s)}}o.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks()},raster:function(t,n,i,r,o,a){if("translucent"!==t.renderPass)return;if(0===i.paint.get("raster-opacity"))return;if(!r.length)return;const s=t.context,l=s.gl,c=n.getSource(),u=t.useProgram("raster"),h=t.colorModeForRenderPass(),d=t.terrain&&t.terrain.renderingToTexture,[p,f]=c instanceof Ae||d?[{},r]:t.stencilConfigForOverlap(r),m=f[f.length-1].overscaledZ,g=!t.options.moving;for(const r of f){const o=d?e.DepthMode.disabled:t.depthModeForSublayer(r.overscaledZ-m,1===i.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,l.LESS),f=r.toUnwrapped(),y=n.getTile(r);if(d&&(!y||!y.hasData()))continue;const _=d?r.projMatrix:t.transform.calculateProjMatrix(f,g),v=t.terrain&&d?t.terrain.stencilModeForRTTOverlap(r):p[r.overscaledZ],x=a?0:i.paint.get("raster-fade-duration");y.registerFadeDuration(x);const b=n.findLoadedParent(r,0),w=In(y,b,n,t.transform,x);let T,E;t.terrain&&t.terrain.prepareDrawTile();const S="nearest"===i.paint.get("raster-resampling")?l.NEAREST:l.LINEAR;s.activeTexture.set(l.TEXTURE0),y.texture.bind(S,l.CLAMP_TO_EDGE),s.activeTexture.set(l.TEXTURE1),b?(b.texture.bind(S,l.CLAMP_TO_EDGE),T=Math.pow(2,b.tileID.overscaledZ-y.tileID.overscaledZ),E=[y.tileID.canonical.x*T%1,y.tileID.canonical.y*T%1]):y.texture.bind(S,l.CLAMP_TO_EDGE);const M=Kn(_,E||[0,0],T||1,w,i,c instanceof Ae?c.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(s,u,f),c instanceof Ae)c.boundsBuffer&&c.boundsSegments&&u.draw(s,l.TRIANGLES,o,e.StencilMode.disabled,h,e.CullFaceMode.disabled,M,i.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else{const{tileBoundsBuffer:n,tileBoundsIndexBuffer:r,tileBoundsSegments:a}=t.getTileBoundsBuffers(y);u.draw(s,l.TRIANGLES,o,v,h,e.CullFaceMode.disabled,M,i.id,n,r,a)}}t.resetStencilClippingMasks()},background:function(t,n,i,r){const o=i.paint.get("background-color"),a=i.paint.get("background-opacity");if(0===a)return;const s=t.context,l=s.gl,c=t.transform,u=c.tileSize,h=i.paint.get("background-pattern");if(t.isPatternMissing(h))return;const d=!h&&1===o.a&&1===a&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass!==d)return;const p=e.StencilMode.disabled,f=t.depthModeForSublayer(0,"opaque"===d?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),m=t.colorModeForRenderPass(),g=t.useProgram(h?"backgroundPattern":"background");let y,_=r;_||(y=t.getBackgroundTiles(),_=Object.values(y).map(e=>e.tileID)),h&&(s.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));for(const d of _){const _=d.toUnwrapped(),v=r?d.projMatrix:t.transform.calculateProjMatrix(_);t.prepareDrawTile();const x=n?n.getTile(d):y?y[d.key]:new e.Tile(d,u,c.zoom,t),b=h?ai(v,a,t,h,{tileID:d,tileSize:u}):oi(v,a,o);t.prepareDrawProgram(s,g,_);const{tileBoundsBuffer:w,tileBoundsIndexBuffer:T,tileBoundsSegments:E}=t.getTileBoundsBuffers(x);g.draw(s,l.TRIANGLES,f,p,m,e.CullFaceMode.disabled,b,i.id,w,T,E)}},sky:function(t,n,i){const r=t.transform,o="mercator"===r.projection.name||"globe"===r.projection.name?1:e.smoothstep(7,8,r.zoom),a=i.paint.get("sky-opacity")*o;if(0===a)return;const s=t.context,l=i.paint.get("sky-type"),c=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),u=t.frameCounter/1e3%1;"atmosphere"===l?"offscreen"===t.renderPass?i.needsSkyboxCapture(t)&&(function(t,n,i,r){const o=t.context,a=o.gl;let s=n.skyboxFbo;if(!s){s=n.skyboxFbo=o.createFramebuffer(32,32,!1),n.skyboxGeometry=new Pi(o),n.skyboxTexture=o.gl.createTexture(),a.bindTexture(a.TEXTURE_CUBE_MAP,n.skyboxTexture),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);for(let e=0;e<6;++e)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,a.RGBA,32,32,0,a.RGBA,a.UNSIGNED_BYTE,null)}o.bindFramebuffer.set(s.framebuffer),o.viewport.set([0,0,32,32]);const l=n.getCenter(t,!0),c=t.useProgram("skyboxCapture"),u=new Float64Array(16);e.identity(u),e.rotateY(u,u,.5*-Math.PI),zi(o,n,c,u,l,0),e.identity(u),e.rotateY(u,u,.5*Math.PI),zi(o,n,c,u,l,1),e.identity(u),e.rotateX(u,u,.5*-Math.PI),zi(o,n,c,u,l,2),e.identity(u),e.rotateX(u,u,.5*Math.PI),zi(o,n,c,u,l,3),e.identity(u),zi(o,n,c,u,l,4),e.identity(u),e.rotateY(u,u,Math.PI),zi(o,n,c,u,l,5),o.viewport.set([0,0,t.width,t.height])}(t,i),i.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,n,i,r,o){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram("skybox");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,n.skyboxTexture);const u=((e,t,n,i,r)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:i,u_temporal_offset:r}))(l.skyboxMatrix,n.getCenter(t,!1),0,r,o);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,i,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,u,"skybox",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,i,c,a,u):"gradient"===l&&"sky"===t.renderPass&&function(t,n,i,r,o){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram("skyboxGradient");n.skyboxGeometry||(n.skyboxGeometry=new Pi(a)),a.activeTexture.set(s.TEXTURE0);let u=n.colorRampTexture;u||(u=n.colorRampTexture=new e.Texture(a,n.colorRamp,s.RGBA)),u.bind(s.LINEAR,s.CLAMP_TO_EDGE);const h=((t,n,i,r,o)=>({u_matrix:t,u_color_ramp:0,u_center_direction:n,u_radius:e.degToRad(i),u_opacity:r,u_temporal_offset:o}))(l.skyboxMatrix,n.getCenter(t,!1),n.paint.get("sky-gradient-radius"),r,o);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,i,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,h,"skyboxGradient",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,i,c,a,u)},debug:function(e,t,n){for(let i=0;i<n.length;i++)Ei(e,t,n[i])},custom:function(t,n,i){const r=t.context,o=i.implementation;if(t.transform.projection.unsupportedLayers&&t.transform.projection.unsupportedLayers.includes("custom"))e.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if("offscreen"===t.renderPass){const e=o.prerender;e&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),e.call(o,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(e.StencilMode.disabled);const n="3d"===o.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);r.setDepthMode(n),o.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}};class Ri{constructor(t,n){this.context=new Me(t),this.transform=n,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new qt,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(e,t){const n=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(!(n||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Pn(this,e));const i=this._terrain;this.transform.elevation=n?i:null,i.update(e,this.transform,t)}_updateFog(e){const t=e.fog;if(!t||"globe"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[n,i]=t.getFovAdjustedRange(this.transform._fov);if(n>i)return void(this.transform.fogCullDistSq=null);const r=n+.78*(i-n);this.transform.fogCullDistSq=r*r}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(t,n){if(this.width=t*e.exported.devicePixelRatio,this.height=n*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._layers[e].resize()}setup(){const t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(e.EXTENT,0),i.emplaceBack(0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const r=new e.StructArrayLayout2i4;r.emplaceBack(-1,-1),r.emplaceBack(1,-1),r.emplaceBack(-1,1),r.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const o=new e.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(e.EXTENT,0,e.EXTENT,0),o.emplaceBack(0,e.EXTENT,0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(o,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.StructArrayLayout3ui6;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(a);const s=new e.StructArrayLayout1ui2;for(const e of[0,1,3,2,0])s.emplaceBack(e);this.debugIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();const l=this.context.gl;this.stencilClearMode=new e.StencilMode({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(e.window.performance.now()),this.atmosphereBuffer=new Li(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(t,n.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,Mn(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(t,n,i){if(!n||this.currentStencilSource===n.id||!t.isTileClipped()||!i||0===i.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let e=!1;for(const t of i)if(void 0===this._tileClippingMaskIDs[t.key]){e=!0;break}if(!e)return}this.currentStencilSource=n.id;const r=this.context,o=r.gl;this.nextStencilID+i.length>256&&this.clearStencil(),r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const a=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const t of i){const i=n.getTile(t),s=this._tileClippingMaskIDs[t.key]=this.nextStencilID++,{tileBoundsBuffer:l,tileBoundsIndexBuffer:c,tileBoundsSegments:u}=this.getTileBoundsBuffers(i);a.draw(r,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},s,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Mn(t.projMatrix),"$clipping",l,c,u)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,n=this.context.gl;return new e.StencilMode({func:n.NOTEQUAL,mask:255},t,255,n.KEEP,n.KEEP,n.REPLACE)}stencilModeForClipping(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);const n=this.context.gl;return new e.StencilMode({func:n.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,n.KEEP,n.KEEP,n.REPLACE)}stencilConfigForOverlap(t){const n=this.context.gl,i=t.sort((e,t)=>t.overscaledZ-e.overscaledZ),r=i[i.length-1].overscaledZ,o=i[0].overscaledZ-r+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();const t={};for(let i=0;i<o;i++)t[i+r]=new e.StencilMode({func:n.GEQUAL,mask:255},i+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[t,i]}return[{[r]:e.StencilMode.disabled},i]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const n=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}depthModeForSublayer(t,n,i){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(i||this.context.gl.LEQUAL,n,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,n){this.style=t,this.options=n,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const i=this.style.order,r=this.style._sourceCaches;for(const e in r){const t=r[e];t.used&&t.prepare(this.context)}const o={},a={},s={};for(const e in r){const t=r[e];o[e]=t.getVisibleCoordinates(),a[e]=o[e].slice().reverse(),s[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<i.length;e++)if(this.style._layers[i[e]].is3D()){this.opaquePassCutoff=e;break}if(this.terrain&&(this.terrain.updateTileBinding(s),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),e.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const e of i){const n=this.style._layers[e],i=t._getLayerSourceCache(n);if(!n.hasOffscreenPass()||n.isHidden(this.transform.zoom))continue;const r=i?a[i.id]:void 0;("custom"===n.type||n.isSky()||r&&r.length)&&this.renderLayer(this,i,n,r)}if(this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[i[this.currentLayer]],n=t._getLayerSourceCache(e);if(e.isSky())continue;const r=n?a[n.id]:void 0;this._renderTileClippingMasks(e,n,r),this.renderLayer(this,n,e,r)}if(this.style.fog&&this.transform.projection.supportsFog&&function(t,n){const i=t.context,r=i.gl,o=t.transform,a=new e.DepthMode(r.LEQUAL,e.DepthMode.ReadOnly,[0,1]),s=t.useProgram("globeAtmosphere",null,"globe"===o.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),l=e.globeToMercatorTransition(o.zoom),c=n.properties.get("color").toArray01(),u=n.properties.get("high-color").toArray01(),h=n.properties.get("space-color").toArray01PremultipliedAlpha(),d=e.identity$1([]);e.rotateY$1(d,d,-e.degToRad(o._center.lng)),e.rotateX$1(d,d,e.degToRad(o._center.lat)),e.rotateZ$1(d,d,o.angle),e.rotateX$1(d,d,-o._pitch);const p=e.fromQuat(new Float32Array(16),d),f=e.mapValue(n.properties.get("star-intensity"),0,1,0,.25),m=5e-4,g=e.mapValue(n.properties.get("horizon-blend"),0,1,m,.25),y=e.globeUseCustomAntiAliasing(t,i,o)&&g===m?o.worldSize/(2*Math.PI*1.025)-1:o.globeRadius,_=t.frameCounter/1e3%1,v=e.length(o.globeCenterInViewSpace),x=Math.sqrt(Math.pow(v,2)-Math.pow(y,2)),b=Math.acos(x/v),w=((t,n,i,r,o,a,s,l,c,u,h,d,p,f)=>({u_frustum_tl:t,u_frustum_tr:n,u_frustum_br:i,u_frustum_bl:r,u_horizon:o,u_transition:a,u_fadeout_range:s,u_color:l,u_high_color:c,u_space_color:u,u_star_intensity:h,u_star_size:5*e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:d,u_horizon_angle:p,u_rotation_matrix:f}))(o.frustumCorners.TL,o.frustumCorners.TR,o.frustumCorners.BR,o.frustumCorners.BL,o.frustumCorners.horizon,l,g,c,u,h,f,_,b,p);t.prepareDrawProgram(i,s);const T=t.atmosphereBuffer;T&&s.draw(i,r.TRIANGLES,a,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,w,"skybox",T.vertexBuffer,T.indexBuffer,T.segments)}(this,this.style.fog),this.renderPass="sky",(e.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){const e=this.style._layers[i[this.currentLayer]],n=t._getLayerSourceCache(e);e.isSky()&&this.renderLayer(this,n,e,n?a[n.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;){const e=this.style._layers[i[this.currentLayer]],n=t._getLayerSourceCache(e);if(e.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(e)){if(e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const r=n?("symbol"===e.type?s:a)[n.id]:void 0;this._renderTileClippingMasks(e,n,n?o[n.id]:void 0),this.renderLayer(this,n,e,r),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let n=null;e.values(this.style._layers).forEach(e=>{const i=t._getLayerSourceCache(e);i&&!e.isHidden(this.transform.zoom)&&(!n||n.getSource().maxzoom<i.getSource().maxzoom)&&(n=i)}),n&&this.options.showTileBoundaries&&Oi.debug(this,n,n.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;Si(e,e.transform.height-(t.top||0),3,vi),Si(e,t.bottom||0,3,xi),Mi(e,t.left||0,3,bi),Mi(e,e.transform.width-(t.right||0),3,wi);const n=e.transform.centerPoint;!function(e,t,n,i){Ii(e,t-1,n-10,2,20,i),Ii(e,t-10,n-1,20,2,i)}(e,n.x,e.transform.height-n.y,Ti)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}}renderLayer(e,t,n,i){n.isHidden(this.transform.zoom)||("background"===n.type||"sky"===n.type||"custom"===n.type||i&&i.length)&&(this.id=n.id,this.gpuTimingStart(n),e.transform.projection.unsupportedLayers&&e.transform.projection.unsupportedLayers.includes(n.type)||Oi[n.type](e,t,n,i,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const e=this.context.extTimerQuery,t=e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(t),e.beginQueryEXT(e.TIME_ELAPSED_EXT,t)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}collectDeferredRenderGpuQueries(){const e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}queryGpuTimers(e){const t={};for(const n in e){const i=e[n],r=this.context.extTimerQuery,o=r.getQueryObjectEXT(i.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(i.query),t[n]=o}return t}queryGpuTimeDeferredRender(e){if(!this.options.gpuTimingDeferredRender)return 0;const t=this.context.extTimerQuery;let n=0;for(const i of e)n+=t.getQueryObjectEXT(i,t.QUERY_RESULT_EXT)/1e6,t.deleteQueryEXT(i);return n}translatePosMatrix(t,n,i,r,o){if(!i[0]&&!i[1])return t;const a=o?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);i=[i[0]*t-i[1]*e,i[0]*e+i[1]*t]}const s=[o?i[0]:D(n,i[0],this.transform.zoom),o?i[1]:D(n,i[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,s),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){return null===e||void 0!==e&&!this.imageManager.getPattern(e.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const e=this.terrain&&this.terrain.renderingToTexture,t=this.terrain&&0===this.terrain.exaggeration(),n=this.style&&this.style.fog,i=[];return this.terrainRenderModeElevated()&&i.push("TERRAIN"),"globe"===this.transform.projection.name&&i.push("GLOBE"),t&&i.push("ZERO_EXAGGERATION"),n&&!e&&0!==n.getOpacity(this.transform.pitch)&&i.push("FOG"),e&&i.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&i.push("OVERDRAW_INSPECTOR"),i}useProgram(e,t,n){this.cache=this.cache||{};const i=n||[],r=this.currentGlobalDefines().concat(i),o=zn.cacheKey(hn[e],e,r,t);return this.cache[o]||(this.cache[o]=new zn(this.context,e,hn[e],t,si[e],r)),this.cache[o]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(t,n,i){if(this.terrain&&this.terrain.renderingToTexture)return;const r=this.style.fog;if(r){const o=r.getOpacity(this.transform.pitch),a=((t,n,i,r,o,a,s,l,c,u,h)=>{const d=t.transform,p=n.properties.get("color").toArray01();p[3]=r;const f=t.frameCounter/1e3%1;return{u_fog_matrix:i?d.calculateFogTileMatrix(i):t.identityMat,u_fog_range:n.getFovAdjustedRange(d._fov),u_fog_color:p,u_fog_horizon_blend:n.properties.get("horizon-blend"),u_fog_temporal_offset:f,u_frustum_tl:o,u_frustum_tr:a,u_frustum_br:s,u_frustum_bl:l,u_globe_pos:c,u_globe_radius:u,u_viewport:h,u_globe_transition:e.globeToMercatorTransition(d.zoom),u_is_globe:+("globe"===d.projection.name)}})(this,r,i,o,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.exported.devicePixelRatio,this.transform.height*e.exported.devicePixelRatio]);n.setFogUniformValues(t,a)}}setTileLoadedFlag(e){this.tileLoaded=e}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const t=this._backgroundTiles,n=this._backgroundTiles={},i=this.transform.coveringTiles({tileSize:512});for(const r of i)n[r.key]=t[r.key]||new e.Tile(r,512,this.transform.tileZoom,this);return n}clearBackgroundTiles(){this._backgroundTiles={}}}class Bi{constructor(e=0,t=0,n=0,i=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=i}interpolate(t,n,i){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,i)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,i)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,i)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,i)),this}getCenter(t,n){const i=e.clamp((this.left+t-this.right)/2,0,t),r=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.pointGeometry(i,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Bi(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function ji(t,n){const i=e.getColumn(t,3);e.fromQuat(t,n),e.setColumn(t,3,i)}function Fi(t,n){const i=e.identity$1([]);return e.rotateZ$1(i,i,-n),e.rotateX$1(i,i,-t),i}function Ni(t,n){const i=[t[0],t[1],0],r=[n[0],n[1],0];if(e.length(i)>=1e-15){const t=e.normalize([],i);e.scale$2(r,t,e.dot(r,t)),n[0]=r[0],n[1]=r[1]}const o=e.cross([],n,t);if(e.len(o)<1e-15)return null;const a=Math.atan2(-o[1],o[0]);return Fi(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),a)}class Ui{constructor(e,t){this.position=e,this.orientation=t}get position(){return this._position}set position(t){if(t){const n=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(n.x=e.wrap(n.x,0,1)),this._position=n}else this._position=null}lookAtPoint(t,n){if(this.orientation=null,!this.position)return;const i=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,r=this.position,o=e.MercatorCoordinate.fromLngLat(t,i),a=[o.x-r.x,o.y-r.y,o.z-r.z];n||(n=[0,0,1]),n[2]=Math.abs(n[2]),this.orientation=Ni(a,n)}setPitchBearing(t,n){this.orientation=Fi(e.degToRad(t),e.degToRad(-n))}}class Vi{constructor(t,n){this._transform=e.identity([]),this.orientation=n,this.position=t}get mercatorPosition(){const t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}get position(){const t=e.getColumn(this._transform,3);return[t[0],t[1],t[2]]}set position(t){var n;t&&e.setColumn(this._transform,3,[(n=t)[0],n[1],n[2],1])}get orientation(){return this._orientation}set orientation(t){this._orientation=t||e.identity$1([]),t&&ji(this._transform,this._orientation)}getPitchBearing(){const e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=Fi(e,t),ji(this._transform,this._orientation)}forward(){const t=e.getColumn(this._transform,2);return[-t[0],-t[1],-t[2]]}up(){const t=e.getColumn(this._transform,1);return[-t[0],-t[1],-t[2]]}right(){const t=e.getColumn(this._transform,0);return[t[0],t[1],t[2]]}getCameraToWorld(t,n){const i=new Float64Array(16);return e.invert(i,this.getWorldToCamera(t,n)),i}getWorldToCameraPosition(t,n,i){const r=this.position;e.scale$2(r,r,-t);const o=new Float64Array(16);return e.fromScaling(o,[i,i,i]),e.translate(o,o,r),o[10]*=n,o}getWorldToCamera(t,n){const i=new Float64Array(16),r=new Float64Array(4),o=this.position;return e.conjugate(r,this._orientation),e.scale$2(o,o,-t),e.fromQuat(i,r),e.translate(i,i,o),i[1]*=-1,i[5]*=-1,i[9]*=-1,i[13]*=-1,i[8]*=n,i[9]*=n,i[10]*=n,i[11]*=n,i}getCameraToClipPerspective(t,n,i,r){const o=new Float64Array(16);return e.perspective(o,t,n,i,r),o}getDistanceToElevation(t,n=!1){const i=0===t?0:e.mercatorZfromAltitude(t,n?e.latFromMercatorY(this.position[1]):this.position[1]),r=this.forward();return(i-this.position[2])/r[2]}clone(){return new Vi([...this.position],[...this.orientation])}}function Gi(t,n){const i=Wi(t.projection,t.zoom,t.width,t.height),r=function(t,n,i,r,o){const a=new e.LngLat(i.lng-180*qi,i.lat),s=new e.LngLat(i.lng+180*qi,i.lat),l=t.project(a.lng,a.lat),c=t.project(s.lng,s.lat),u=-Math.atan2(c.y-l.y,c.x-l.x),h=e.MercatorCoordinate.fromLngLat(i);h.y=e.clamp(h.y,-.999975,.999975);const d=h.toLngLat(),p=t.project(d.lng,d.lat),f=e.MercatorCoordinate.fromLngLat(d);f.x+=qi;const m=f.toLngLat(),g=t.project(m.lng,m.lat),y=Hi(g.x-p.x,g.y-p.y,u),_=e.MercatorCoordinate.fromLngLat(d);_.y+=qi;const v=_.toLngLat(),x=t.project(v.lng,v.lat),b=Hi(x.x-p.x,x.y-p.y,u),w=Math.abs(y.x)/Math.abs(b.y),T=e.identity([]);e.rotateZ(T,T,-u*(1-(o?0:r)));const E=e.identity([]);return e.scale(E,E,[1,1-(1-w)*r,1]),E[4]=-b.x/b.y*r,e.rotateZ(E,E,u),e.multiply(E,T,E),E}(t.projection,0,t.center,i,n),o=Zi(t);return e.scale(r,r,[o,o,1]),r}function Zi(t){const n=t.projection,i=Wi(t.projection,t.zoom,t.width,t.height),r=$i(n,t.center),o=$i(n,e.LngLat.convert(n.center));return Math.pow(2,r*i+(1-i)*o)}function Wi(t,n,i,r,o=1/0){const a=t.range;if(!a)return 0;const s=Math.min(o,Math.max(i,r)),l=Math.log(s/1024)/Math.LN2;return e.smoothstep(a[0]+l,a[1]+l,n)}const qi=1/4e4;function $i(t,n){const i=e.clamp(n.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),r=new e.LngLat(n.lng-180*qi,i),o=new e.LngLat(n.lng+180*qi,i),a=t.project(r.lng,i),s=t.project(o.lng,i),l=e.MercatorCoordinate.fromLngLat(r),c=e.MercatorCoordinate.fromLngLat(o),u=s.x-a.x,h=s.y-a.y,d=c.x-l.x,p=c.y-l.y,f=Math.sqrt((d*d+p*p)/(u*u+h*h));return Math.log(f)/Math.LN2}function Hi(e,t,n){const i=Math.cos(n),r=Math.sin(n);return{x:e*i-t*r,y:e*r+t*i}}class Xi{constructor(t,n,i,r,o,a,s){this.tileSize=512,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==i?0:i,this._maxPitch=null==r?60:r,this.setProjection(a),this.setMaxBounds(s),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Bi,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Vi,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const e=new Xi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(e,t=!1){const n=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||n)&&this._updateCameraOnTerrain(),(e||n)&&this._constrainCamera(t),this._calcMatrices()}getProjection(){return e.pick(this.projection,["name","center","parallels"])}setProjection(n){this.projectionOptions=n||{name:"mercator"};const i=this.projection?this.getProjection():void 0;this.projection=e.getProjection(this.projectionOptions);const r=!t(i,this.getProjection());return r&&this._calcMatrices(),this.mercatorFromTransition=!1,r}setMercatorFromTransition(){const t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=e.getProjection({name:"mercator"});const n=t!==this.projection.name;return n&&this._calcMatrices(),n}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return e.wrap(this.rotation,-180,180)}set bearing(e){this.rotation=e}get rotation(){return-this.angle/Math.PI*180}set rotation(t){const n=-t*Math.PI/180;var i;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=(i=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(i[1]=0,i[2]=0),i[0]=1,i[3]=1,i),function(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=i*l+o*s,e[1]=r*l+a*s,e[2]=i*-s+o*l,e[3]=r*-s+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=e.degToRad(t),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const t=this._elevation,n=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],i=this.horizonLineFromTop();let r=0,o=0;for(let a=0;a<n.length;a++){const s=new e.pointGeometry(n[a][0]*this.width,i+n[a][1]*(this.height-i)),l=t.pointCoordinate(s);if(!l)continue;const c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);r+=l[3]*c,o+=c}return 0===o?NaN:r/o}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),n=this.pixelsPerMeter/this.worldSize*t,i=this._mercatorZfromZoom(e),r=this._mercatorZfromZoom(this._maxZoom),o=Math.max(i-n,r);this._setZoom(this._zoomFromMercatorZ(o))}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}computeZoomRelativeTo(t){const n=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let i;i=t.z<this._camera.position[2]?[n.x,n.y,n.z]:[t.x,t.y,t.z];const r=e.length(e.sub([],this._camera.position,i));return e.clamp(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height)return;if(!t.position&&!t.orientation)return;this._updateCameraState();let n=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(n=this._setCameraOrientation(t.orientation)),t.position){const i=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(i,this._camera.position)||(this._setCameraPosition(i),n=!0)}n&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,n=new Ui;return n.position=new e.MercatorCoordinate(t[0],t[1],t[2]),n.orientation=this._camera.orientation,n._elevation=this.elevation,n._renderWorldCopies=this.renderWorldCopies,n}_setCameraOrientation(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);const n=e.transformQuat([],[0,0,-1],t),i=e.transformQuat([],[0,-1,0],t);if(i[2]<0)return!1;const r=Ni(n,i);return!!r&&(this._camera.orientation=r,!0)}_setCameraPosition(t){const n=this.zoomScale(this.minZoom)*this.tileSize,i=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;t[2]=e.clamp(t[2],r/i,r/n),this._camera.position=t}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const n=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies){const i=this.pointCoordinate(new e.pointGeometry(0,0)),r=this.pointCoordinate(new e.pointGeometry(this.width,0)),o=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),a=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(i.x,r.x,o.x,a.x)),l=Math.floor(Math.max(i.x,r.x,o.x,a.x)),c=1;for(let i=s-c;i<=l+c;i++)0!==i&&n.push(new e.UnwrappedTileID(i,t))}return n}coveringTiles(t){let n=this.coveringZoomLevel(t);const i=n,r=this.elevation&&!t.isTerrainDEM,o="mercator"===this.projection.name;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);const a=this.locationCoordinate(this.center),s=this.center.lat,l=1<<n,c=[l*a.x,l*a.y,0],u="globe"===this.projection.name,h=!u,d=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n,h),p=u?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),f=l*e.mercatorZfromAltitude(1,this.center.lat),m=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),g=[l*p.x,l*p.y,m*(h?1:f)],y=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),_=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?n:0,v=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,x=t.isTerrainDEM?-v:this._elevation?this._elevation.getMinElevationBelowMSL():0,b=this.projection.isReprojectedInTileSpace?Zi(this):1,w=t=>{const n=1/4e4,i=new e.MercatorCoordinate(t.x+n,t.y,t.z),r=new e.MercatorCoordinate(t.x,t.y+n,t.z),o=t.toLngLat(),a=i.toLngLat(),s=r.toLngLat(),l=this.locationCoordinate(o),c=this.locationCoordinate(a),u=this.locationCoordinate(s),h=Math.hypot(c.x-l.x,c.y-l.y),d=Math.hypot(u.x-l.x,u.y-l.y);return Math.sqrt(h*d)*b/n},T=t=>{const n=v,i=x;return{aabb:e.tileAABB(this,l,0,0,0,t,i,n,this.projection),zoom:0,x:0,y:0,minZ:i,maxZ:n,wrap:t,fullyVisible:!1}},E=[];let S=[];const M=n,I=t.reparseOverscaled?i:n,C=e=>e*e,k=C((m-this._centerAltitude)*f),A=e=>{if(!this._elevation||!e.tileID||!o)return;const t=this._elevation.getMinMaxForTile(e.tileID),n=e.aabb;t?(n.min[2]=t.min,n.max[2]=t.max,n.center[2]=(n.min[2]+n.max[2])/2):(e.shouldSplit=P(e),e.shouldSplit||(n.min[2]=n.max[2]=n.center[2]=this._centerAltitude))},P=t=>{if(t.zoom<_)return!0;if(t.zoom===M)return!1;if(null!=t.shouldSplit)return t.shouldSplit;const n=t.aabb.distanceX(g),o=t.aabb.distanceY(g);let a=k,l=1;if(u){a=C(t.aabb.distanceZ(g));const n=Math.pow(2,t.zoom),i=e.latFromMercatorY((t.y+1)/n),r=e.latFromMercatorY(t.y/n),o=Math.min(Math.max(s,i),r),c=e.circumferenceAtLatitude(o)/e.circumferenceAtLatitude(s);if(l=o===s?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,c/this._mercatorScaleRatio),this.zoom<=e.GLOBE_ZOOM_THRESHOLD_MIN&&t.zoom===M-1&&c>=.9)return!0}else if(r&&(a=C(t.aabb.distanceZ(g)*f)),this.projection.isReprojectedInTileSpace&&i<=5){const n=Math.pow(2,t.zoom),i=w(new e.MercatorCoordinate((t.x+.5)/n,(t.y+.5)/n));l=i>.85?1:i}const c=n*n+o*o+a;return c<C((1<<M-t.zoom)*y*l*((e,t)=>{if(t*C(.707)<e)return 1;const n=Math.sqrt(t/e);return n/(1.4144271570014144+(Math.pow(1.1,n-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(a,k),c))};if(this.renderWorldCopies)for(let e=1;e<=3;e++)E.push(T(-e)),E.push(T(e));for(E.push(T(0));E.length>0;){const i=E.pop(),a=i.x,s=i.y;let h=i.fullyVisible;if(!h){const e=i.aabb.intersects(d);if(0===e)continue;h=2===e}if(i.zoom!==M&&P(i))for(let t=0;t<4;t++){const n=(a<<1)+t%2,c=(s<<1)+(t>>1),d={aabb:o?i.aabb.quadrant(t):e.tileAABB(this,l,i.zoom+1,n,c,i.wrap,i.minZ,i.maxZ,this.projection),zoom:i.zoom+1,x:n,y:c,wrap:i.wrap,fullyVisible:h,tileID:void 0,shouldSplit:void 0,minZ:i.minZ,maxZ:i.maxZ};r&&!u&&(d.tileID=new e.OverscaledTileID(i.zoom+1===M?I:i.zoom+1,i.wrap,i.zoom+1,n,c),A(d)),E.push(d)}else{const r=i.zoom===M?I:i.zoom;if(t.minzoom&&t.minzoom>r)continue;const o=c[0]-(.5+a+(i.wrap<<i.zoom))*(1<<n-i.zoom),l=c[1]-.5-s,u=i.tileID?i.tileID:new e.OverscaledTileID(r,i.wrap,i.zoom,a,s);S.push({tileID:u,distanceSq:o*o+l*l})}}if(this.fogCullDistSq){const n=this.fogCullDistSq,i=this.horizonLineFromTop();S=S.filter(r=>{const o=[0,0,0,1],a=[e.EXTENT,e.EXTENT,0,1],s=this.calculateFogTileMatrix(r.tileID.toUnwrapped());e.transformMat4$1(o,o,s),e.transformMat4$1(a,a,s);const l=e.getAABBPointSquareDist(o,a);if(0===l)return!0;let c=!1;const u=this._elevation;if(u&&l>n&&0!==i){const n=this.calculateProjMatrix(r.tileID.toUnwrapped());let o;t.isTerrainDEM||(o=u.getMinMaxForTile(r.tileID)),o||(o={min:x,max:v});const a=e.furthestTileCorner(this.rotation),s=[a[0]*e.EXTENT,a[1]*e.EXTENT,o.max];e.transformMat4(s,s,n),c=(1-s[1])*this.height*.5<i}return l<n||c})}return S.sort((e,t)=>e.distanceSq-t.distanceSq).map(e=>e.tileID)}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const n=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),i=this.projection.project(t.lng,n);return new e.pointGeometry(i.x*this.worldSize,i.y*this.worldSize)}unproject(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(t,n){let i,r;const o=this.centerPoint;if("globe"===this.projection.name){const e=this.worldSize;i=(n.x-o.x)/e,r=(n.y-o.y)/e}else{const e=this.pointCoordinate(n),t=this.pointCoordinate(o);i=e.x-t.x,r=e.y-t.y}const a=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(a.x-i,a.y-r))}setLocation(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(e){return this.projection.locationPoint(this,e)}locationPoint3D(e){return this.projection.locationPoint(this,e,!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(t,n){const i=n?e.mercatorZfromAltitude(n,t.lat):void 0,r=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(r.x,r.y,i)}coordinateLocation(e){return this.projection.unproject(e.x,e.y)}pointRayIntersection(t,n){const i=null!=n?n:this._centerAltitude,r=[t.x,t.y,0,1],o=[t.x,t.y,1,1];e.transformMat4$1(r,r,this.pixelMatrixInverse),e.transformMat4$1(o,o,this.pixelMatrixInverse);const a=o[3];e.scale$1(r,r,1/r[3]),e.scale$1(o,o,1/a);const s=r[2],l=o[2];return{p0:r,p1:o,t:s===l?0:(i-s)/(l-s)}}screenPointToMercatorRay(t){const n=[t.x,t.y,0,1],i=[t.x,t.y,1,1];return e.transformMat4$1(n,n,this.pixelMatrixInverse),e.transformMat4$1(i,i,this.pixelMatrixInverse),e.scale$1(n,n,1/n[3]),e.scale$1(i,i,1/i[3]),n[2]=e.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,i[2]=e.mercatorZfromAltitude(i[2],this._center.lat)*this.worldSize,e.scale$1(n,n,1/this.worldSize),e.scale$1(i,i,1/this.worldSize),new e.Ray([n[0],n[1],n[2]],e.normalize([],e.sub([],i,n)))}rayIntersectionCoordinate(t){const{p0:n,p1:i,t:r}=t,o=e.mercatorZfromAltitude(n[2],this._center.lat),a=e.mercatorZfromAltitude(i[2],this._center.lat);return new e.MercatorCoordinate(e.number(n[0],i[0],r)/this.worldSize,e.number(n[1],i[1],r)/this.worldSize,e.number(o,a,r))}pointCoordinate(e,t=this._centerAltitude){return this.projection.pointCoordinate(this,e.x,e.y,t)}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);let n=this.projection.pointCoordinate3D(this,t.x,t.y);if(n)return new e.MercatorCoordinate(n[0],n[1],n[2]);let i=0,r=this.horizonLineFromTop();if(t.y>r)return this.pointCoordinate(t);const o=.02*r,a=t.clone();for(let t=0;t<10&&r-i>o;t++){a.y=e.number(i,r,.66);const t=this.projection.pointCoordinate3D(this,a.x,a.y);t?(r=a.y,n=t):i=a.y}return n?new e.MercatorCoordinate(n[0],n[1],n[2]):this.pointCoordinate(t)}isPointAboveHorizon(e){return this.projection.isPointAboveHorizon(this,e)}_coordinatePoint(t,n){const i=n&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,r=[t.x*this.worldSize,t.y*this.worldSize,i+t.toAltitude(),1];return e.transformMat4$1(r,r,this.pixelMatrix),r[3]>0?new e.pointGeometry(r[0]/r[3],r[1]/r[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:t,left:n}=this._edgeInsets,i=this.height-this._edgeInsets.bottom,r=this.width-this._edgeInsets.right,o=this.pointCoordinate3D(new e.pointGeometry(n,t)),a=this.pointCoordinate3D(new e.pointGeometry(r,t)),s=this.pointCoordinate3D(new e.pointGeometry(r,i)),l=this.pointCoordinate3D(new e.pointGeometry(n,i));let c=Math.min(o.x,l.x),u=Math.max(a.x,s.x),h=Math.min(o.y,a.y),d=Math.max(l.y,s.y);const p=Math.pow(2,-this.zoom)/16,f=(t,n,i,r)=>{const o=(t+i)/2,a=(n+r)/2,s=new e.pointGeometry(o,a),l=this.pointCoordinate3D(s),m=Math.max(0,c-l.x,h-l.y,l.x-u,l.y-d);c=Math.min(c,l.x),u=Math.max(u,l.x),h=Math.min(h,l.y),d=Math.max(d,l.y),m>p&&(f(t,n,o,a),f(o,a,i,r))};f(n,t,r,t),f(r,t,r,i),f(r,i,n,i),f(n,i,n,t);const[m,g]=e.polesInViewport(this),y=m||g,_=m?90:e.latFromMercatorY(h),v=y?180:e.lngFromMercatorX(u),x=g?-90:e.latFromMercatorY(d),b=y?-180:e.lngFromMercatorX(c);return new e.LngLatBounds(new e.LngLat(b,x),new e.LngLat(v,_))}_getBounds(t,n){if("globe"===this.projection.name)return this._getGlobeBounds();const i=new e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),r=new e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),o=new e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),a=new e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let s=this.pointCoordinate(i,t),l=this.pointCoordinate(r,t);const c=this.pointCoordinate(o,n),u=this.pointCoordinate(a,n),h=(e,t)=>(t.y-e.y)/(t.x-e.x);return s.y>1&&l.y>=0?s=new e.MercatorCoordinate((1-u.y)/h(u,s)+u.x,1):s.y<0&&l.y<=1&&(s=new e.MercatorCoordinate(-u.y/h(u,s)+u.x,0)),l.y>1&&s.y>=0?l=new e.MercatorCoordinate((1-c.y)/h(c,l)+c.x,1):l.y<0&&s.y<=1&&(l=new e.MercatorCoordinate(-c.y/h(c,l)+c.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(s)).extend(this.coordinateLocation(l)).extend(this.coordinateLocation(u)).extend(this.coordinateLocation(c))}_getBounds3D(){const e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBounds(0,0);const t=e.visibleDemTiles.reduce((e,t)=>{if(t.dem){const n=t.dem.tree;e.min=Math.min(e.min,n.minimums[0]),e.max=Math.max(e.max,n.maximums[0])}return e},{min:Number.MAX_VALUE,max:0});return this._getBounds(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,n=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,n):n}getMaxBounds(){return this.maxBounds}setMaxBounds(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(e,t){return this.projection.createTileMatrix(this,t,e)}calculateDistanceTileData(t){const n=t.key,i=this._distanceTileDataCache;if(i[n])return i[n];const r=t.canonical,o=1/this.height,a=this.cameraWorldSize,s=a/this.zoomScale(r.z),l=(r.x+Math.pow(2,r.z)*t.wrap)*s,c=r.y*s,u=this.point;u.x*=a/this.worldSize,u.y*=a/this.worldSize;const h=this.angle,d=Math.sin(-h),p=-Math.cos(-h);return i[n]={bearing:[d,p],center:[(u.x-l)*o,(u.y-c)*o],scale:s/e.EXTENT*o},i[n]}calculateFogTileMatrix(t){const n=t.key,i=this._fogTileMatrixCache;if(i[n])return i[n];const r=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,t);return e.multiply(r,this.worldToFogMatrix,r),i[n]=new Float32Array(r),i[n]}calculateProjMatrix(t,n=!1){const i=t.key,r=n?this._alignedProjMatrixCache:this._projMatrixCache;if(r[i])return r[i];const o=this.calculatePosMatrix(t,this.worldSize);return e.multiply(o,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:n?this.alignedProjMatrix:this.projMatrix,o),r[i]=new Float32Array(o),r[i]}calculatePixelsToTileUnitsMatrix(t){const n=t.tileID.key,i=this._pixelsToTileUnitsCache;if(i[n])return i[n];const r=function(t,n){const{scale:i}=t.tileTransform,r=i*e.EXTENT/(t.tileSize*Math.pow(2,n.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return o=new Float32Array(4),l=(a=n.inverseAdjustmentMatrix)[1],c=a[2],u=a[3],d=(s=[r,r])[1],o[0]=a[0]*(h=s[0]),o[1]=l*h,o[2]=c*d,o[3]=u*d,o;var o,a,s,l,c,u,h,d}(t,this);return i[n]=r,i[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const t=this._elevation;this._updateCameraState();const n=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,i=this._computeCameraPosition(n),r=this._camera.forward(),o=e.mercatorZfromAltitude(1,this._center.lat);i[2]/=o,r[2]/=o,e.normalize(r,r);const a=t.raycast(i,r,t.exaggeration());if(a){const t=e.scaleAndAdd([],i,r,a),n=new e.MercatorCoordinate(t[0],t[1],e.mercatorZfromAltitude(t[2],e.latFromMercatorY(t[1]))),s=(n.z+e.length([n.x-i[0],n.y-i[1],n.z-i[2]*o]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(s),this._centerAltitude=n.toAltitude(),this._center=this.coordinateLocation(n),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(t=!1){if(!this._elevation)return;const n=this._elevation,i=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(i),o=n.getAtPointOrZero(new e.MercatorCoordinate(...r)),a=this.pixelsPerMeter/this.worldSize*o,s=this._minimumHeightOverTerrain(),l=r[2]-a;if(l<=s)if(l<0||t){const t=this.locationCoordinate(this._center,this._centerAltitude),n=[r[0],r[1],t.z-r[2]],i=e.length(n);n[2]-=(s-l)/this._pixelsPerMercatorPixel;const o=e.length(n);if(0===o)return;e.scale$2(n,n,i/o*this._pixelsPerMercatorPixel),this._camera.position=[r[0],r[1],t.z*this._pixelsPerMercatorPixel-n[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const t="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){const n=this.center;return n.lat=e.clamp(n.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(n.lng=e.clamp(n.lng,this.minLng,this.maxLng)),this.center=n,void(this._constraining=!1)}const n=this._unmodified,{x:i,y:r}=this.point;let o=0,a=i,s=r;const l=this.width/2,c=this.height/2,u=this.worldMinY*this.scale,h=this.worldMaxY*this.scale;if(r-c<u&&(s=u+c),r+c>h&&(s=h-c),h-u<this.height&&(o=Math.max(o,this.height/(h-u)),s=(h+u)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const e=this.worldMinX*this.scale,t=this.worldMaxX*this.scale,n=this.worldSize/2-(e+t)/2;a=(i+n+this.worldSize)%this.worldSize-n,a-l<e&&(a=e+l),a+l>t&&(a=t-l),t-e<this.width&&(o=Math.max(o,this.width/(t-e)),a=(t+e)/2)}a===i&&s===r||(this.center=this.unproject(new e.pointGeometry(a,s))),o&&(this.zoom+=this.scaleZoom(o)),this._constrainCamera(),this._unmodified=n,this._constraining=!1}_minZoomForBounds(){let e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,n=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=e.mercatorZfromAltitude(1,this.center.lat)/e.mercatorZfromAltitude(1,e.GLOBE_SCALE_MATCH_LATITUDE));const i=Wi(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,i),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const r=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?n:1),o=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);o[8]=2*-t.x/this.width,o[9]=2*t.y/this.height;let a=e.mul([],o,r);if(this.projection.isReprojectedInTileSpace){const t=this.locationCoordinate(this.center),n=e.identity([]);e.translate(n,n,[t.x*this.worldSize,t.y*this.worldSize,0]),e.multiply(n,n,Gi(this)),e.translate(n,n,[-t.x*this.worldSize,-t.y*this.worldSize,0]),e.multiply(a,a,n),this.inverseAdjustmentMatrix=function(e){const t=Gi(e,!0);return _([],[t[0],t[1],t[4],t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],a,[this.worldSize,this.worldSize,this.worldSize/n,1]),this.projMatrix=a,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);const s=e.invert([],o);this.frustumCorners=e.FrustumCorners.fromInvProjectionMatrix(s,this.horizonLineFromTop(),this.height);const l=new Float32Array(16);e.identity(l),e.scale(l,l,[1,-1,1]),e.rotateX(l,l,this._pitch),e.rotateZ(l,l,this.angle);const c=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),u=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;c[8]=2*-t.x/this.width,c[9]=2*(t.y+u)/this.height,this.skyboxMatrix=e.multiply(l,c,l);const h=this.point,d=h.x,p=h.y,f=this.width%2/2,m=this.height%2/2,g=Math.cos(this.angle),y=Math.sin(this.angle),v=d-Math.round(d)+g*f+y*m,x=p-Math.round(p)+g*m+y*f,b=new Float64Array(a);if(e.translate(b,b,[v>.5?v-1:v,x>.5?x-1:x,0]),this.alignedProjMatrix=b,a=e.create(),e.scale(a,a,[this.width/2,-this.height/2,1]),e.translate(a,a,[1,-1,0]),this.labelPlaneMatrix=a,a=e.create(),e.scale(a,a,[1,-1,1]),e.translate(a,a,[-1,-1,0]),e.scale(a,a,[2/this.width,2/this.height,1]),this.glCoordMatrix=a,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},a=e.invert(new Float64Array(16),this.pixelMatrix),!a)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=a,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.calculateGlobeMatrix(this);const t=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.transformMat4(t,t,r),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=a;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const t=this.cameraWorldSizeForFog,n=this.cameraPixelsPerMeter,i=this._camera.position,r=1/this.height/this._pixelsPerMercatorPixel,o=[t,t,n];e.scale$2(o,o,r),e.scale$2(i,i,-1),e.multiply$2(i,i,o);const a=e.create();e.translate(a,a,i),e.scale(a,a,o),this.mercatorFogMatrix=a,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,n,r)}_computeCameraPosition(e){const t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,n=this._camera.forward(),i=this.point,r=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return[i.x/this.worldSize-n[0]*r,i.y/this.worldSize-n[1]*r,e/this.worldSize*this._centerAltitude-n[2]*r]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(t){const n=this._maxCameraBoundsDistance()*Math.cos(this._pitch),i=this._camera.position[2],r=t[2];let o=1;this.projection.wrap&&(this.center=this.center.wrap()),r>0&&(o=Math.min((n-i)/r,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,o),this._updateStateFromCamera()}_updateStateFromCamera(){const t=this._camera.position,n=this._camera.forward(),{pitch:i,bearing:r}=this._camera.getPitchBearing(),o=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,a=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),s=Math.max((t[2]-o)/Math.cos(i),a),l=this._zoomFromMercatorZ(s);e.scaleAndAdd(t,t,n,s),this._pitch=e.clamp(i,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(r,-Math.PI,Math.PI),this._setZoom(e.clamp(l,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}zoomFromMercatorZAdjusted(e){const t=t=>{const n=this.getCameraToCenterDistance(this.projection,t);return this.scaleZoom(n/(e*this.tileSize))};let n,i=t(this.zoom),r=Math.abs(i-t(i));for(;n!==r;)i=t(i),n=r,r=Math.abs(i-t(i));return i}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(t,n){const i=Math.min(t.x,n.x),r=Math.max(t.x,n.x),o=Math.min(t.y,n.y),a=Math.max(t.y,n.y);if(o<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const s=[new e.pointGeometry(i,o),new e.pointGeometry(r,a),new e.pointGeometry(i,a),new e.pointGeometry(r,o)],l=this.renderWorldCopies?-3:0,c=this.renderWorldCopies?4:1;for(const e of s){const t=this.pointRayIntersection(e);if(t.t<0)return!0;const n=this.rayIntersectionCoordinate(t);if(n.x<l||n.y<0||n.x>c||n.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}zoomDeltaToMovement(t,n){const i=e.length(e.sub([],this._camera.position,t)),r=this._zoomFromMercatorZ(i)+n;return i-this._mercatorZfromZoom(r)}getCameraPoint(){if("globe"===this.projection.name){const t=function([t,n,i],r){const o=[t,n,i,1];e.transformMat4$1(o,o,r);const a=o[3]=Math.max(o[3],1e-6);return o[0]/=a,o[1]/=a,o[2]/=a,o}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.pointGeometry(t[0],t[1])}{const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}}getCameraToCenterDistance(e,t=this.zoom){const n=Wi(e,t,this.width,this.height,1024),i=e.pixelSpaceConversion(this.center.lat,this.worldSize,n);return.5/Math.tan(.5*this._fov)*this.height*i}getWorldToCameraMatrix(){const t=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&e.multiply(t,t,this.globeMatrix),t}}function Yi(e,t){let n=!1,i=null;const r=()=>{i=null,n&&(e(),i=setTimeout(r,t),n=!1)};return()=>(n=!0,i||r(),i)}class Ji{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Yi(this._updateHashUnthrottled.bind(this),300)}addTo(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),t.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),e.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const t=this._map;if(!t)return"";const n=Qi(t);if(this._hashName){const t=this._hashName;let i=!1;const r=e.window.location.hash.slice(1).split("&").map(e=>{const r=e.split("=")[0];return r===t?(i=!0,`${r}=${n}`):e}).filter(e=>e);return i||r.push(`${t}=${n}`),"#"+r.join("&")}return"#"+n}_getCurrentHash(){const t=e.window.location.hash.replace("#","");if(this._hashName){let e;return t.split("&").map(e=>e.split("=")).forEach(t=>{t[0]===this._hashName&&(e=t)}),(e&&e[1]||"").split("/")}return t.split("/")}_onHashChange(){const e=this._map;if(!e)return!1;const t=this._getCurrentHash();if(t.length>=3&&!t.some(e=>isNaN(e))){const n=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:n,pitch:+(t[4]||0)}),!0}return!1}_updateHashUnthrottled(){const t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}function Qi(e,t){const n=e.getCenter(),i=Math.round(100*e.getZoom())/100,r=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,r),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,l=e.getBearing(),c=e.getPitch();let u=t?`/${a}/${s}/${i}`:`${i}/${s}/${a}`;return(l||c)&&(u+="/"+Math.round(10*l)/10),c&&(u+="/"+Math.round(c)),u}const Ki={linearity:.3,easing:e.bezier(0,0,.3,1)},er=e.extend({deceleration:2500,maxSpeed:1400},Ki),tr=e.extend({deceleration:20,maxSpeed:1400},Ki),nr=e.extend({deceleration:1e3,maxSpeed:360},Ki),ir=e.extend({deceleration:1e3,maxSpeed:90},Ki);class rr{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,n=e.exported.now();for(;t.length>0&&n-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)n.zoom+=e.zoomDelta||0,n.bearing+=e.bearingDelta||0,n.pitch+=e.pitchDelta||0,e.panDelta&&n.pan._add(e.panDelta),e.around&&(n.around=e.around),e.pinchAround&&(n.pinchAround=e.pinchAround);const i=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(n.pan.mag()){const o=ar(n.pan.mag(),i,e.extend({},er,t||{}));r.offset=n.pan.mult(o.amount/n.pan.mag()),r.center=this._map.transform.center,or(r,o)}if(n.zoom){const e=ar(n.zoom,i,tr);r.zoom=this._map.transform.zoom+e.amount,or(r,e)}if(n.bearing){const t=ar(n.bearing,i,nr);r.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),or(r,t)}if(n.pitch){const e=ar(n.pitch,i,ir);r.pitch=this._map.transform.pitch+e.amount,or(r,e)}if(r.zoom||r.bearing){const e=void 0===n.pinchAround?n.around:n.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),r.noMoveStart=!0,r}}function or(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function ar(t,n,i){const{maxSpeed:r,linearity:o,deceleration:a}=i,s=e.clamp(t*o/(n/1e3),-r,r),l=Math.abs(s)/(a*o);return{easing:i.easing,duration:1e3*l,amount:s*(l/2)}}class sr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,n,i,r={}){const o=f(n.getCanvasContainer(),i),a=n.unproject(o);super(t,e.extend({point:o,lngLat:a,originalEvent:i},r)),this._defaultPrevented=!1,this.target=n}}class lr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,n,i){const r="touchend"===t?i.changedTouches:i.touches,o=m(n.getCanvasContainer(),r),a=o.map(e=>n.unproject(e)),s=o.reduce((e,t,n,i)=>e.add(t.div(i.length)),new e.pointGeometry(0,0));super(t,{points:o,point:s,lngLats:a,lngLat:n.unproject(s),originalEvent:i}),this._defaultPrevented=!1}}class cr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,n){super(e,{originalEvent:n}),this._defaultPrevented=!1}}class ur{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){this._mousedownPos=void 0}wheel(e){return this._firePreventable(new cr(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new sr(e.type,this._map,e))}mouseup(e){this._map.fire(new sr(e.type,this._map,e))}preclick(t){const n=e.extend({},t);n.type="preclick",this._map.fire(new sr(n.type,this._map,n))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new sr(e.type,this._map,e)))}dblclick(e){return this._firePreventable(new sr(e.type,this._map,e))}mouseover(e){this._map.fire(new sr(e.type,this._map,e))}mouseout(e){this._map.fire(new sr(e.type,this._map,e))}touchstart(e){return this._firePreventable(new lr(e.type,this._map,e))}touchmove(e){this._map.fire(new lr(e.type,this._map,e))}touchend(e){this._map.fire(new lr(e.type,this._map,e))}touchcancel(e){this._map.fire(new lr(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class hr{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(e){this._map.fire(new sr(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new sr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new sr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class dr{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(u(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const n=t,i=this._startPos,r=this._lastPos;if(!i||!r||r.equals(n)||!this._box&&n.dist(i)<this._clickTolerance)return;this._lastPos=n,this._box||(this._box=o("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const a=Math.min(i.x,n.x),s=Math.max(i.x,n.x),l=Math.min(i.y,n.y),c=Math.max(i.y,n.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${a}px,${l}px)`,this._box.style.width=s-a+"px",this._box.style.height=c-l+"px")})}mouseupWindow(t,n){if(!this._active)return;const i=this._startPos,r=n;if(i&&0===t.button){if(this.reset(),p(),i.x!==r.x||i.y!==r.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(i,r,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",t)}}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),h(),delete this._startPos,delete this._lastPos}_fireEvent(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))}}function pr(e,t){const n={};for(let i=0;i<e.length;i++)n[e[i].identifier]=t[i];return n}class fr{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(t,n,i){(this.centroid||i.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),i.length===this.numTouches&&(this.centroid=function(t){const n=new e.pointGeometry(0,0);for(const e of t)n._add(e);return n.div(t.length)}(n),this.touches=pr(i,n)))}touchmove(e,t,n){if(this.aborted||!this.centroid)return;const i=pr(n,t);for(const e in this.touches){const t=this.touches[e],n=i[e];(!n||n.dist(t)>30)&&(this.aborted=!0)}}touchend(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class mr{constructor(e){this.singleTap=new fr(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(e,t,n){this.singleTap.touchstart(e,t,n)}touchmove(e,t,n){this.singleTap.touchmove(e,t,n)}touchend(e,t,n){const i=this.singleTap.touchend(e,t,n);if(i){const t=e.timeStamp-this.lastTime<500,n=!this.lastTap||this.lastTap.dist(i)<30;if(t&&n||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=i,this.count===this.numTaps)return this.reset(),i}}}class gr{constructor(){this._zoomIn=new mr({numTouches:1,numTaps:2}),this._zoomOut=new mr({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}touchmove(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}touchend(e,t,n){const i=this._zoomIn.touchend(e,t,n),r=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}):r?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(r)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const yr={0:1,2:2};class _r{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const n=g(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}mousemoveWindow(e,t){const n=this._lastPoint;if(n)if(e.preventDefault(),null!=this._eventButton&&function(e,t){const n=yr[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)}mouseupWindow(e){this._lastPoint&&g(e)===this._eventButton&&(this._moved&&p(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class vr extends _r{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class xr extends _r{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}}contextmenu(e){e.preventDefault()}}class br extends _r{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}}contextmenu(e){e.preventDefault()}}class wr{constructor(t,n){this._map=t,this._el=t.getCanvasContainer(),this._minTouches=1,this._clickTolerance=n.clickTolerance||1,this.reset(),e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}touchstart(e,t,n){return this._calculateTransform(e,t,n)}touchmove(t,n,i){if(this._active&&!(i.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===i.length&&!e.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,n,i)}}touchend(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,n,i){i.length>0&&(this._active=!0);const r=pr(i,n),o=new e.pointGeometry(0,0),a=new e.pointGeometry(0,0);let s=0;for(const e in r){const t=r[e],n=this._touches[e];n&&(o._add(t),a._add(t.sub(n)),s++,r[e]=t)}if(this._touches=r,s<this._minTouches||!a.mag())return;const l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(s),panDelta:l}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=o("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))+"px")}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Tr{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(e){}_move(e,t,n){return{}}touchstart(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,n){const i=this._firstTwoTouches;if(!i)return;e.preventDefault();const[r,o]=i,a=Er(n,t,r),s=Er(n,t,o);if(!a||!s)return;const l=this._aroundCenter?null:a.add(s).div(2);return this._move([a,s],l,e)}touchend(e,t,n){if(!this._firstTwoTouches)return;const[i,r]=this._firstTwoTouches,o=Er(n,t,i),a=Er(n,t,r);o&&a||(this._active&&p(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Er(e,t,n){for(let i=0;i<e.length;i++)if(e[i].identifier===n)return t[i]}function Sr(e,t){return Math.log(e/t)/Math.LN2}class Mr extends Tr{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Sr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Sr(this._distance,n),pinchAround:t}}}function Ir(e,t){return 180*e.angleWith(t)/Math.PI}class Cr extends Tr{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const n=this._vector;if(this._vector=e[0].sub(e[1]),n&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Ir(this._vector,n),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,n=this._startVector;if(!n)return!1;const i=Ir(e,n);return Math.abs(i)<t}}function kr(e){return Math.abs(e.y)>Math.abs(e.x)}class Ar extends Tr{constructor(e){super(),this._map=e}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(e){this._lastPoints=e,kr(e[0].sub(e[1]))&&(this._valid=!1)}_move(t,n,i){const r=this._lastPoints;if(!r)return;const o=t[0].sub(r[0]),a=t[1].sub(r[1]);return this._map._cooperativeGestures&&!e.isFullscreen()&&i.touches.length<3||(this._valid=this.gestureBeginsVertically(o,a,i.timeStamp),!this._valid)?void 0:(this._lastPoints=t,this._active=!0,{pitchDelta:(o.y+a.y)/2*-.5})}gestureBeginsVertically(e,t,n){if(void 0!==this._valid)return this._valid;const i=e.mag()>=2,r=t.mag()>=2;if(!i&&!r)return;if(!i||!r)return null==this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;const o=e.y>0==t.y>0;return kr(e)&&kr(t)&&o}}const Pr={panStep:100,bearingStep:15,pitchStep:10};class zr{constructor(){const e=Pr;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,n=0,i=0,r=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(n=0,i=0),{cameraAnimation:a=>{const s=a.getZoom();a.easeTo({duration:300,easeId:"keyboardHandler",easing:Dr,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+n*this._bearingStep,pitch:a.getPitch()+i*this._pitchStep,offset:[-r*this._panStep,-o*this._panStep],center:a.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Dr(e){return e*(2-e)}const Lr=4.000244140625;class Or{constructor(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const i=e.exported.now(),r=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==n&&n%Lr==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=f(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;"wheel"===this._type&&t.projection.wrap&&(t._center.lng>=180||t._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const n=()=>t._terrainEnabled()&&this._aroundCoord?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>Lr?this._wheelZoomRate:this._defaultZoomRate;let i=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==i&&(i=1/i);const r=n(),o=Math.pow(2,r),a="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):o;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(a*i))),"wheel"===this._type&&(this._startZoom=r,this._easing=this._smoothOutEasing(200)),this._delta=0}const i="number"==typeof this._targetZoom?this._targetZoom:n(),r=this._startZoom,o=this._easing;let a,s=!1;if("wheel"===this._type&&r&&o){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),n=o(t);a=e.number(r,i,n),t<1?this._frameId||(this._frameId=!0):s=!0}else a=i,s=!0;return this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!s,zoomDelta:a-n(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let n=e.ease;if(this._prevEase){const t=this._prevEase,i=(e.exported.now()-t.start)/t.duration,r=t.easing(i+.01)-t.easing(i),o=.27/Math.sqrt(r*r+1e-4)*.01,a=Math.sqrt(.0729-o*o);n=e.bezier(o,a,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:n},n}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=o("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))+"px")}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Rr{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Br{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(e,t){return e.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class jr{constructor(){this._tap=new mr({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))}touchmove(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;const i=t[0],r=i.y-this._swipePoint.y;return this._swipePoint=i,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,n)}touchend(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fr{constructor(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Nr{constructor(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Ur{constructor(e,t,n,i){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Vr=e=>e.zoom||e.drag||e.pitch||e.rotate;class Gr extends e.Event{}class Zr{constructor(){this.constants=[1,1,.01],this.radius=0}setup(t,n){const i=e.sub([],n,t);this.radius=e.length(i[2]<0?e.div([],i,this.constants):[i[0],i[1],0])}projectRay(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);const n=e.scale$2([],t,this.radius);if(n[2]>0){const t=e.scale$2([],[0,0,1],e.dot(n,[0,0,1])),i=e.scale$2([],e.normalize([],[n[0],n[1],0]),this.radius),r=e.add([],n,e.scale$2([],e.sub([],e.add([],i,t),n),2));n[0]=r[0],n[1]=r[1]}return n}}function Wr(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class qr{constructor(t,n){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new rr(t),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Zr,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(n),e.bindAll(["handleEvent","handleWindowEvent"],this);const i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];for(const[t,n,i]of this._listeners)t.addEventListener(n,t===e.window.document?this.handleWindowEvent:this.handleEvent,i)}destroy(){for(const[t,n,i]of this._listeners)t.removeEventListener(n,t===e.window.document?this.handleWindowEvent:this.handleEvent,i)}_addDefaultHandlers(e){const t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new ur(t,e));const i=t.boxZoom=new dr(t,e);this._add("boxZoom",i);const r=new gr,o=new Br;t.doubleClickZoom=new Rr(o,r),this._add("tapZoom",r),this._add("clickZoom",o);const a=new jr;this._add("tapDragZoom",a);const s=t.touchPitch=new Ar(t);this._add("touchPitch",s);const l=new xr(e),c=new br(e);t.dragRotate=new Nr(e,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);const u=new vr(e),h=new wr(t,e);t.dragPan=new Fr(n,u,h),this._add("mousePan",u),this._add("touchPan",h,["touchZoom","touchRotate"]);const d=new Cr,p=new Mr;t.touchZoomRotate=new Ur(n,p,d,a),this._add("touchRotate",d,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]),this._add("blockableMapEvent",new hr(t));const f=t.scrollZoom=new Or(t,this);this._add("scrollZoom",f,["mousePan"]);const m=t.keyboard=new zr;this._add("keyboard",m);for(const n of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[n]&&t[n].enable(e[n])}_add(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Vr(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(e,t,n){for(const i in e)if(i!==n&&(!t||t.indexOf(i)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,e.type+"Window")}_getMapTouches(e){const t=[];for(const n of e)this._el.contains(n.target)&&t.push(n);return t}handleEvent(e,t){this._updatingCamera=!0;const n="renderFrame"===e.type,i=n?void 0:e,r={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?m(this._el,s):n?void 0:f(this._el,e);for(const{handlerName:n,handler:c,allowed:u}of this._handlers){if(!c.isEnabled())continue;let h;this._blockedByActive(a,u,n)?c.reset():c[t||e.type]&&(h=c[t||e.type](e,l,s),this.mergeHandlerResult(r,o,h,n,i),h&&h.needsRenderFrame&&this._triggerRenderFrame()),(h||c.isActive())&&(a[n]=c)}const c={};for(const e in this._previousActiveHandlers)a[e]||(c[e]=i);this._previousActiveHandlers=a,(Object.keys(c).length||Wr(r))&&(this._changes.push([r,o,c]),this._triggerRenderFrame()),(Object.keys(a).length||Wr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:u}=r;u&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],u(this._map))}mergeHandlerResult(t,n,i,r,o){if(!i)return;e.extend(t,i);const a={handlerName:r,originalEvent:i.originalEvent||o};void 0!==i.zoomDelta&&(n.zoom=a),void 0!==i.panDelta&&(n.drag=a),void 0!==i.pitchDelta&&(n.pitch=a),void 0!==i.bearingDelta&&(n.rotate=a)}_applyChanges(){const t={},n={},i={};for(const[r,o,a]of this._changes)r.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(r.panDelta)),r.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(t.around=r.around),void 0!==r.aroundCoord&&(t.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(t.pinchAround=r.pinchAround),r.noInertia&&(t.noInertia=r.noInertia),e.extend(n,o),e.extend(i,a);this._updateMapTransform(t,n,i),this._changes=[]}_updateMapTransform(t,n,i){const r=this._map,o=r.transform,a=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!Wr(t)){const e=o.zoom;o.cameraElevationReference="sea",o.recenterOnTerrain(),o.cameraElevationReference="ground",e!==o.zoom&&this._map._update(!0)}if(o._isCameraConstrained&&r._stop(!0),!Wr(t))return void this._fireEvents(n,i,!0);let{panDelta:s,zoomDelta:l,bearingDelta:c,pitchDelta:u,around:h,aroundCoord:d,pinchAround:p}=t;o._isCameraConstrained&&(l>0&&(l=0),o._isCameraConstrained=!1),void 0!==p&&(h=p),(e=>n.drag&&!this._eventsInProgress.drag)()&&h&&(this._dragOrigin=a(o.pointCoordinate3D(h)),this._trackingEllipsoid.setup(o._camera.position,this._dragOrigin)),o.cameraElevationReference="sea",r._stop(!0),h=h||r.transform.centerPoint,c&&(o.bearing+=c),u&&(o.pitch+=u),o._updateCameraState();const f=[0,0,0];if(s)if("mercator"===o.projection.name){const e=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h).dir),t=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h.sub(s)).dir);f[0]=t[0]-e[0],f[1]=t[1]-e[1]}else{const t=o.pointCoordinate(h);if("globe"===o.projection.name){s=s.rotate(-o.angle);const n=o._pixelsPerMercatorPixel/o.worldSize;f[0]=-s.x*e.mercatorScale(e.latFromMercatorY(t.y))*n,f[1]=-s.y*e.mercatorScale(o.center.lat)*n}else{const e=o.pointCoordinate(h.sub(s));t&&e&&(f[0]=e.x-t.x,f[1]=e.y-t.y)}}const m=o.zoom,g=[0,0,0];if(l){const t=a(d||o.pointCoordinate3D(h)),n={dir:e.normalize([],e.sub([],t,o._camera.position))};if(n.dir[2]<0){const i=o.zoomDeltaToMovement(t,l);e.scale$2(g,n.dir,i)}}const y=e.add(f,f,g);o._translateCameraConstrained(y),l&&Math.abs(o.zoom-m)>1e-4&&o.recenterOnTerrain(),o.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(n,i,!0)}_fireEvents(t,n,i){const r=Vr(this._eventsInProgress),o=Vr(t),a={};for(const e in t){const{originalEvent:n}=t[e];this._eventsInProgress[e]||(a[e+"start"]=n),this._eventsInProgress[e]=t[e]}!r&&o&&this._fireEvent("movestart",o.originalEvent);for(const e in a)this._fireEvent(e,a[e]);o&&this._fireEvent("move",o.originalEvent);for(const e in t){const{originalEvent:n}=t[e];this._fireEvent(e,n)}const s={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:i}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=n[t]||i,s[e+"end"]=l)}for(const e in s)this._fireEvent(e,s[e]);const c=Vr(this._eventsInProgress);if(i&&(r||o)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),n=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(n(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event("moveend",{originalEvent:l})),n(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{this._frameId=void 0,this.handleEvent(new Gr("renderFrame",{timeStamp:e})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const $r="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Hr extends e.Evented{constructor(t,n){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,n,i){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),i)}panTo(t,n,i){return this.easeTo(e.extend({center:t},n),i)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,n,i){return this.easeTo(e.extend({zoom:t},n),i)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,n,i){return this.easeTo(e.extend({bearing:t},n),i)}resetNorth(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this}resetNorthPitch(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,n){t=e.LngLatBounds.convert(t);const i=n&&n.bearing||0,r=n&&n.pitch||0,o=t.getNorthWest(),a=t.getSouthEast();return this._cameraForBounds(this.transform,o,a,i,r,n)}_extendCameraOptions(t){const n={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:n,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const e=t.padding;t.padding={top:e,bottom:e,right:e,left:e}}return t.padding=e.extend(n,t.padding),t}_minimumAABBFrustumDistance(e,t){const n=t.max[0]-t.min[0],i=t.max[1]-t.min[1];return n/i>e.aspect?n/(2*Math.tan(.5*e.fovX)*e.aspect):i/(2*Math.tan(.5*e.fovY)*e.aspect)}_cameraForBoundsOnGlobe(t,n,i,r,o,a){const s=t.clone(),l=this._extendCameraOptions(a);s.bearing=r,s.pitch=o;const c=e.LngLat.convert(n),u=e.LngLat.convert(i),h=.5*(c.lat+u.lat),d=.5*(c.lng+u.lng),p=e.latLngToECEF(h,d),f=e.normalize([],p),m=e.normalize([],e.cross([],f,[0,1,0])),g=e.cross([],m,f),y=[m[0],m[1],m[2],0,g[0],g[1],g[2],0,f[0],f[1],f[2],0,0,0,0,1],_=[p,e.latLngToECEF(c.lat,c.lng),e.latLngToECEF(u.lat,c.lng),e.latLngToECEF(u.lat,u.lng),e.latLngToECEF(c.lat,u.lng),e.latLngToECEF(h,c.lng),e.latLngToECEF(h,u.lng),e.latLngToECEF(c.lat,d),e.latLngToECEF(u.lat,d)];let v=e.Aabb.fromPoints(_.map(t=>[e.dot(m,t),e.dot(g,t),e.dot(f,t)]));const x=e.transformMat4([],v.center,y);0===e.squaredLength(x)&&e.set(x,0,0,1),e.normalize(x,x),e.scale$2(x,x,e.GLOBE_RADIUS),s.center=e.ecefToLatLng(x);const b=s.getWorldToCameraMatrix(),w=e.invert(new Float64Array(16),b);v=e.Aabb.applyTransform(v,e.multiply([],b,y)),e.transformMat4(x,x,b);const T=.5*(v.max[2]-v.min[2]),E=this._minimumAABBFrustumDistance(s,v),S=e.scale$2([],[0,0,1],T),M=e.add(S,x,S),I=E+(0===s.pitch?0:e.distance(x,M)),C=s.globeCenterInViewSpace,k=e.sub([],x,[C[0],C[1],C[2]]);e.normalize(k,k),e.scale$2(k,k,I);const A=e.add([],x,k);e.transformMat4(A,A,w);const P=e.earthRadius/e.GLOBE_RADIUS,z=e.length(A),D=e.mercatorZfromAltitude(z*P-e.earthRadius,0),L=Math.min(s.zoomFromMercatorZAdjusted(D),l.maxZoom);return L>.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(s.setProjection({name:"mercator"}),s.zoom=L,this._cameraForBounds(s,n,i,r,o,a)):{center:s.center,zoom:L,bearing:r,pitch:o}}queryTerrainElevation(t,n){const i=this.transform.elevation;return i?(n=e.extend({},{exaggerated:!0},n),i.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,n.exaggerated)):null}_cameraForBounds(t,n,i,r,o,a){if("globe"===t.projection.name)return this._cameraForBoundsOnGlobe(t,n,i,r,o,a);const s=t.clone(),l=this._extendCameraOptions(a),c=s.padding;s.bearing=r,s.pitch=o;const u=e.LngLat.convert(n),h=e.LngLat.convert(i),d=new e.LngLat(u.lng,h.lat),p=new e.LngLat(h.lng,u.lat),f=s.project(u),m=s.project(h),g=this.queryTerrainElevation(u),y=this.queryTerrainElevation(h),_=this.queryTerrainElevation(d),v=this.queryTerrainElevation(p),x=[[f.x,f.y,Math.min(g||0,y||0,_||0,v||0)],[m.x,m.y,Math.max(g||0,y||0,_||0,v||0)]];let b=e.Aabb.fromPoints(x);const w=s.getWorldToCameraMatrix(),T=e.invert(new Float64Array(16),w);b=e.Aabb.applyTransform(b,w);const E=e.sub([],b.max,b.min),S=c.left||0,M=c.right||0,I=c.bottom||0,C=c.top||0,{left:k,right:A,top:P,bottom:z}=l.padding,D=.5*(S+M),L=.5*(C+I),O=Math.min(s.scaleZoom(s.scale*Math.min((s.width-(S+M+k+A))/E[0],(s.height-(I+C+z+P))/E[1])),l.maxZoom),R=s.scale/s.zoomScale(O);b=new e.Aabb([b.min[0]-(k+D)*R,b.min[1]-(z+L)*R,b.min[2]],[b.max[0]+(A+D)*R,b.max[1]+(P+L)*R,b.max[2]]);const B=.5*E[2],j=this._minimumAABBFrustumDistance(s,b),F=[0,0,1,0];e.transformMat4$1(F,F,w),e.normalize$2(F,F);const N=e.scale$2([],F,j+B),U=e.add([],b.center,N),V=("number"==typeof l.offset.x&&"number"==typeof l.offset.y?new e.pointGeometry(l.offset.x,l.offset.y):e.pointGeometry.convert(l.offset)).rotate(-e.degToRad(r));b.center[0]-=V.x*R,b.center[1]+=V.y*R,e.transformMat4(b.center,b.center,T),e.transformMat4(U,U,T);const G=[b.center[0],b.center[1],U[2]*s.pixelsPerMeter];e.scale$2(G,G,1/s.worldSize);const Z=e.lngFromMercatorX(G[0]),W=e.latFromMercatorY(G[1]),q=Math.min(s._zoomFromMercatorZ(G[2]),l.maxZoom),$=new e.LngLat(Z,W);return s.mercatorFromTransition&&q<.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(s.setProjection({name:"globe"}),s.zoom=q,this._cameraForBounds(s,n,i,r,o,a)):{center:$,zoom:q,bearing:r,pitch:o}}fitBounds(e,t,n){const i=this.cameraForBounds(e,t);return this._fitInternal(i,t,n)}fitScreenCoordinates(t,n,i,r,o){const a=e.pointGeometry.convert(t),s=e.pointGeometry.convert(n),l=new e.pointGeometry(Math.min(a.x,s.x),Math.min(a.y,s.y)),c=new e.pointGeometry(Math.max(a.x,s.x),Math.max(a.y,s.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(a,s))return this;const u=this.transform.pointLocation3D(l),h=this.transform.pointLocation3D(c),d=this.transform.pointLocation3D(new e.pointGeometry(l.x,c.y)),p=this.transform.pointLocation3D(new e.pointGeometry(c.x,l.y)),f=[Math.min(u.lng,h.lng,d.lng,p.lng),Math.min(u.lat,h.lat,d.lat,p.lat)],m=[Math.max(u.lng,h.lng,d.lng,p.lng),Math.max(u.lat,h.lat,d.lat,p.lat)],g=r&&r.pitch?r.pitch:this.getPitch(),y=this._cameraForBounds(this.transform,f,m,i,g,r);return this._fitInternal(y,r,o)}_fitInternal(t,n,i){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,i):this.flyTo(n,i)):this}jumpTo(t,n){this.stop();const i=t.preloadOnly?this.transform.clone():this.transform;let r=!1,o=!1,a=!1;return"zoom"in t&&i.zoom!==+t.zoom&&(r=!0,i.zoom=+t.zoom),void 0!==t.center&&(i.center=e.LngLat.convert(t.center)),"bearing"in t&&i.bearing!==+t.bearing&&(o=!0,i.bearing=+t.bearing),"pitch"in t&&i.pitch!==+t.pitch&&(a=!0,i.pitch=+t.pitch),null==t.padding||i.isPaddingEqual(t.padding)||(i.padding=t.padding),t.preloadOnly?(this._preloadTiles(i),this):(this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),r&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),o&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),a&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||e.warnOnce($r),this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,n){const i=this.transform;if(!i.projection.supportsFreeCamera)return e.warnOnce($r),this;this.stop();const r=i.zoom,o=i.pitch,a=i.bearing;i.setFreeCameraOptions(t);const s=r!==i.zoom,l=o!==i.pitch,c=a!==i.bearing;return this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),s&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),c&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),l&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)),this}easeTo(t,n){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const i=this.transform,r=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?+t.zoom:r,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:i.padding,d=e.pointGeometry.convert(t.offset);let p,f,m;if("globe"===i.projection.name){const n=e.MercatorCoordinate.fromLngLat(i.center),r=d.rotate(-i.angle);n.x+=r.x/i.worldSize,n.y+=r.y/i.worldSize;const o=n.toLngLat(),a=e.LngLat.convert(t.center||o);this._normalizeCenter(a),p=i.centerPoint.add(r),f=new e.pointGeometry(n.x,n.y).mult(i.worldSize),m=new e.pointGeometry(e.mercatorXfromLng(a.lng),e.mercatorYfromLat(a.lat)).mult(i.worldSize).sub(f)}else{p=i.centerPoint.add(d);const n=i.pointLocation(p),r=e.LngLat.convert(t.center||n);this._normalizeCenter(r),f=i.project(n),m=i.project(r).sub(f)}const g=i.zoomScale(l-r);let y,_;t.around&&(y=e.LngLat.convert(t.around),_=i.locationPoint(y));const v=this._zooming||l!==r,x=this._rotating||o!==c,b=this._pitching||u!==a,w=!i.isPaddingEqual(h),T=i=>T=>{if(v&&(i.zoom=e.number(r,l,T)),x&&(i.bearing=e.number(o,c,T)),b&&(i.pitch=e.number(a,u,T)),w&&(i.interpolatePadding(s,h,T),p=i.centerPoint.add(d)),y)i.setLocationAtPoint(y,_);else{const e=i.zoomScale(i.zoom-r),t=l>r?Math.min(2,g):Math.max(.5,g),n=Math.pow(t,1-T),o=i.unproject(f.add(m.mult(T*n)).mult(e));i.setLocationAtPoint(i.renderWorldCopies?o.wrap():o,p)}return t.preloadOnly||this._fireMoveEvents(n),i};if(t.preloadOnly){const e=this._emulate(T,t.duration,i);return this._preloadTiles(e),this}const E={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=v,this._rotating=x,this._pitching=b,this._padding=w,this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,E),this._ease(T(i),e=>{i.recenterOnTerrain(),this._afterEase(n,e)},t),this}_prepareEase(t,n,i={}){this._moving=!0,this.transform.cameraElevationReference="sea",n||i.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!i.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!i.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!i.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,n){if(this._easeId&&n&&this._easeId===n)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const i=this._zooming,r=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,i&&this.fire(new e.Event("zoomend",t)),r&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,n){if(!t.essential&&e.exported.prefersReducedMotion){const i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const i=this.transform,r=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,i.minZoom,i.maxZoom):r,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:i.padding,d=i.zoomScale(l-r),p=e.pointGeometry.convert(t.offset);let f=i.centerPoint.add(p);const m=i.pointLocation(f),g=e.LngLat.convert(t.center||m);this._normalizeCenter(g);const y=i.project(m),_=i.project(g).sub(y);let v=t.curve;const x=Math.max(i.width,i.height),b=x/d,w=_.mag();if("minZoom"in t){const n=e.clamp(Math.min(t.minZoom,r,l),i.minZoom,i.maxZoom),o=x/i.zoomScale(n-r);v=Math.sqrt(o/w*2)}const T=v*v;function E(e){const t=(b*b-x*x+(e?-1:1)*T*T*w*w)/(2*(e?b:x)*T*w);return Math.log(Math.sqrt(t*t+1)-t)}function S(e){return(Math.exp(e)-Math.exp(-e))/2}function M(e){return(Math.exp(e)+Math.exp(-e))/2}const I=E(0);let C=function(e){return M(I)/M(I+v*e)},k=function(e){return x*((M(I)*(S(t=I+v*e)/M(t))-S(I))/T)/w;var t},A=(E(1)-I)/v;if(Math.abs(w)<1e-6||!isFinite(A)){if(Math.abs(x-b)<1e-6)return this.easeTo(t,n);const e=b<x?-1:1;A=Math.abs(Math.log(b/x))/v,k=function(){return 0},C=function(t){return Math.exp(e*v*t)}}t.duration="duration"in t?+t.duration:1e3*A/("screenSpeed"in t?+t.screenSpeed/v:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);const P=o!==c,z=u!==a,D=!i.isPaddingEqual(h),L=i=>d=>{const m=d*A,v=1/C(m);i.zoom=1===d?l:r+i.scaleZoom(v),P&&(i.bearing=e.number(o,c,d)),z&&(i.pitch=e.number(a,u,d)),D&&(i.interpolatePadding(s,h,d),f=i.centerPoint.add(p));const x=1===d?g:i.unproject(y.add(_.mult(k(m))).mult(v));return i.setLocationAtPoint(i.renderWorldCopies?x.wrap():x,f),i._updateCameraOnTerrain(),t.preloadOnly||this._fireMoveEvents(n),i};if(t.preloadOnly){const e=this._emulate(L,t.duration,i);return this._preloadTiles(e),this}return this._zooming=!0,this._rotating=P,this._pitching=z,this._padding=D,this._prepareEase(n,!1),this._ease(L(i),()=>this._afterEase(n),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const e=this._onEaseEnd;this._onEaseEnd=void 0,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,n,i){!1===i.animate||0===i.duration?(t(1),n()):(this._easeStart=e.exported.now(),this._easeOptions=i,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),n=this._onEaseFrame;n&&n(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,n){t=e.wrap(t,-180,180);const i=Math.abs(t-n);return Math.abs(t-360-n)<i&&(t-=360),Math.abs(t+360-n)<i&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.maxBounds)return;const n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}_emulate(e,t,n){const i=Math.ceil(15*t/1e3),r=[],o=e(n.clone());for(let e=0;e<=i;e++){const t=o(e/i);r.push(t.clone())}return r}}class Xr{constructor(t={}){this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=o("button","mapboxgl-ctrl-attrib-button",this._container),o("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=o("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const n=this._map._getUIString("AttributionControl."+t);e.setAttribute("aria-label",n),e.removeAttribute("title"),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));const n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){const i=n.reduce((e,t,i)=>(t.value&&(e+=`${t.key}=${t.value}${i<n.length-1?"&":""}`),e),"?");t.href=`${e.config.FEEDBACK_URL}/${i}#${Qi(this._map,!0)}`,t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let e=[];if(this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style._sourceCaches;for(const n in t){const i=t[n];if(i.used){const t=i.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e.sort((e,t)=>e.length-t.length),e=e.filter((t,n)=>{for(let i=n+1;i<e.length;i++)if(e[i].indexOf(t)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[...this.options.customAttribution,...e]:e.unshift(this.options.customAttribution));const n=e.join(" | ");n!==this._attribHTML&&(this._attribHTML=n,e.length?(this._innerContainer.innerHTML=n,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Yr{constructor(){e.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(e){this._map=e,this._container=o("div","mapboxgl-ctrl");const t=o("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(const t in e){const n=e[t].getSource();if(n.hasOwnProperty("mapbox_logo")&&!n.mapbox_logo)return!1}return!0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}class Jr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,n=t?this._queue.concat(t):this._queue;for(const t of n)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const n of t)if(!n.cancelled&&(n.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Qr(t,n,i){if(t=new e.LngLat(t.lng,t.lat),n){const r=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=360*Math.ceil(Math.abs(t.lng-i.center.lng)/360),s=i.locationPoint(t).distSqr(n),l=n.x<0||n.y<0||n.x>i.width||n.y>i.height;i.locationPoint(r).distSqr(n)<s&&(l||Math.abs(r.lng-i.center.lng)<a)?t=r:i.locationPoint(o).distSqr(n)<s&&(l||Math.abs(o.lng-i.center.lng)<a)&&(t=o)}for(;Math.abs(t.lng-i.center.lng)>180;){const e=i.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=i.width&&e.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}const Kr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class eo extends e.Evented{constructor(t,n){if(super(),(t instanceof e.window.HTMLElement||n)&&(t=e.extend({element:t},n)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=t&&t.occludedOpacity||.2,t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=o("div");const n=41,i=27,r=a("svg",{display:"block",height:n*this._scale+"px",width:i*this._scale+"px",viewBox:`0 0 ${i} ${n}`},this._element),s=a("radialGradient",{id:"shadowGradient"},a("defs",{},r));a("stop",{offset:"10%","stop-opacity":.4},s),a("stop",{offset:"100%","stop-opacity":.05},s),a("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},r),a("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},r),a("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},r),a("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},r),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",e=>{e.preventDefault()}),this._element.addEventListener("mousedown",e=>{e.preventDefault()});const i=this._element.classList;for(const e in Kr)i.remove("mapboxgl-marker-anchor-"+e);i.add("mapboxgl-marker-anchor-"+this._anchor),this._popup=null}addTo(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._updateMoving),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on("click",this._onMapClick)),this}remove(){const e=this._map;return e&&(e.off("click",this._onMapClick),e.off("move",this._updateMoving),e.off("moveend",this._update),e.off("mousedown",this._addDragHandler),e.off("touchstart",this._addDragHandler),e.off("mouseup",this._onUp),e.off("touchend",this._onUp),e.off("mousemove",this._onMove),e.off("touchmove",this._onMove),e.off("remove",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,n=13.5,i=Math.sqrt(Math.pow(n,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[i,-1*(t-n+i)],"bottom-right":[-i,-1*(t-n+i)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(e){const t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const e=this._map,t=this._pos;if(!e||!t)return!1;const n=e.unproject(t),i=e.getFreeCameraOptions();if(!i.position)return!1;const r=i.position.toLngLat();return r.distanceTo(n)<.9*r.distanceTo(this._lngLat)}_evaluateOpacity(){const t=this._map;if(!t)return;const n=this._pos;if(!n||n.x<0||n.x>t.transform.width||n.y<0||n.y>t.transform.height)return void this._clearFadeTimer();const i=t.unproject(n);let r;t._showingGlobe()&&e.isLngLatBehindGlobe(t.transform,this._lngLat)?r=0:(r=1-t._queryFogOpacity(i),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(r*=this._occludedOpacity)),this._element.style.opacity=""+r,this._element.style.pointerEvents=r>0?"auto":"none",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const e=this._pos;if(!e||!this._map)return;const t=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${e.x}px,${e.y}px)\n            ${Kr[this._anchor]}\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\n            translate(${t.x}px,${t.y}px)\n        `}_calculateXYTransform(){const t=this._pos,n=this._map,i=this.getPitchAlignment();if(!n||!t||"map"!==i)return"";if(!n._showingGlobe()){const e=n.getPitch();return e?`rotateX(${e}deg)`:""}const r=e.radToDeg(e.globeTiltAtLngLat(n.transform,this._lngLat)),o=t.sub(e.globeCenterToScreenPoint(n.transform)),a=Math.abs(o.x)+Math.abs(o.y);if(0===a)return"";const s=r/a;return`rotateX(${-o.y*s}deg) rotateY(${o.x*s}deg)`}_calculateZTransform(){const t=this._pos,n=this._map;if(!n||!t)return"";let i=0;const r=this.getRotationAlignment();if("map"===r)if(n._showingGlobe()){const t=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),r=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(t);i=e.radToDeg(Math.atan2(r.y,r.x))-90}else i=-n.getBearing();else if("horizon"===r){const r=e.smoothstep(4,6,n.getZoom()),o=e.globeCenterToScreenPoint(n.transform);o.y+=r*n.transform.height;const a=t.sub(o),s=e.radToDeg(Math.atan2(a.y,a.x));i=(s>90?s-270:s+90)*(1-r)}return i+=this._rotation,i?`rotateZ(${i}deg)`:""}_update(t){e.window.cancelAnimationFrame(this._updateFrameId);const n=this._map;n&&(n.transform.renderWorldCopies&&(this._lngLat=Qr(this._lngLat,this._pos,n.transform)),this._pos=n.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),n._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(n._showingGlobe()||n.getTerrain()||n.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){const n=this._map;if(!n)return;const i=this._pointerdownPos,r=this._positionDelta;if(i&&r){if(!this._isDragging){const e=this._clickTolerance||n._clickTolerance;if(t.point.dist(i)<e)return;this._isDragging=!0}this._pos=t.point.sub(r),this._lngLat=n.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const t=this._map;t&&(t.off("mousemove",this._onMove),t.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){const t=this._map,n=this._pos;t&&n&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(n),this._pointerdownPos=e.point,this._state="pending",t.on("mousemove",this._onMove),t.on("touchmove",this._onMove),t.once("mouseup",this._onUp),t.once("touchend",this._onUp))}setDraggable(e){this._draggable=!!e;const t=this._map;return t&&(e?(t.on("mousedown",this._addDragHandler),t.on("touchstart",this._addDragHandler)):(t.off("mousedown",this._addDragHandler),t.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(e){return this._occludedOpacity=e||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const to={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},no=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function io(t=new e.pointGeometry(0,0),n="bottom"){if("number"==typeof t){const i=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(n){case"top":return new e.pointGeometry(0,t);case"top-left":return new e.pointGeometry(i,i);case"top-right":return new e.pointGeometry(-i,i);case"bottom":return new e.pointGeometry(0,-t);case"bottom-left":return new e.pointGeometry(i,-i);case"bottom-right":return new e.pointGeometry(-i,-i);case"left":return new e.pointGeometry(t,0);case"right":return new e.pointGeometry(-t,0)}return new e.pointGeometry(0,0)}return t instanceof e.pointGeometry||Array.isArray(t)?e.pointGeometry.convert(t):e.pointGeometry.convert(t[n]||[0,0])}class ro{constructor(e){this.jumpTo(e)}getValue(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;const n=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-n)+this._end*n}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}easeTo(e,t,n){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+n}}const oo={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use âŒ˜ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},ao={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},so={showCompass:!0,showZoom:!0,visualizePitch:!1};class lo{constructor(t,n,i=!1){this._clickTolerance=10,this.element=n,this.mouseRotate=new xr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new br({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener("mousedown",this.mousedown),n.addEventListener("touchstart",this.touchstart,{passive:!1}),n.addEventListener("touchmove",this.touchmove),n.addEventListener("touchend",this.touchend),n.addEventListener("touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),u()}move(e,t){const n=this.map,i=this.mouseRotate.mousemoveWindow(e,t),r=i&&i.bearingDelta;if(r&&n.setBearing(n.getBearing()+r),this.mousePitch){const i=this.mousePitch.mousemoveWindow(e,t),r=i&&i.pitchDelta;r&&n.setPitch(n.getPitch()+r)}}off(){const e=this.element;e.removeEventListener("mousedown",this.mousedown),e.removeEventListener("touchstart",this.touchstart,{passive:!1}),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchend",this.touchend),e.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){h(),e.window.removeEventListener("mousemove",this.mousemove),e.window.removeEventListener("mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),f(this.element,t)),e.window.addEventListener("mousemove",this.mousemove),e.window.addEventListener("mouseup",this.mouseup)}mousemove(e){this.move(e,f(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=m(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=m(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const co={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},uo={maxWidth:100,unit:"metric"};function ho(e,t,n){const i=po(t),r=i/t,o={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[n];this._map._requestDomTask(()=>{this._container.style.width=e*r+"px",this._container.innerHTML=`${i}&nbsp;${o}`})}function po(e){const t=Math.pow(10,(""+Math.floor(e)).length-1);let n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}const fo={version:e.version,supported:n,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends Hr{constructor(t){if(e.LivePerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},ao,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Xi(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t),this._interactive=t.interactive,this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=t.crossSourceCollisions,this._collectResourceTiming=t.collectResourceTiming,this._optimizeForTerrain=t.optimizeForTerrain,this._language=this._parseLanguage(t.language),this._worldview=t.worldview,this._renderTaskQueue=new Jr,this._domRenderTaskQueue=new Jr,this._controls=[],this._markers=[],this._popups=[],this._mapId=e.uniqueId(),this._locale=e.extend({},oo,t.locale),this._clickTolerance=t.clickTolerance,this._cooperativeGestures=t.cooperativeGestures,this._performanceMetricsCollection=t.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new ro(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),this._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else{if(!(t.container instanceof e.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(this._container.childNodes.length>0&&e.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new qr(this,t),this._localFontFamily=t.localFontFamily,this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),t.projection&&this.setProjection(t.projection),this._hash=t.hash&&new Ji("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),t.attributionControl&&this.addControl(new Xr({customAttribution:t.customAttribution})),this._logoControl=new Yr,this.addControl(this._logoControl,t.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",t=>{this._update("style"===t.dataType),this.fire(new e.Event(t.dataType+"data",t))}),this.on("dataloading",t=>{this.fire(new e.Event(t.dataType+"dataloading",t))})}_getMapId(){return this._mapId}addControl(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const i=t.onAdd(this);this._controls.push(t);const r=this._controlPositions[n];return-1!==n.indexOf("bottom")?r.insertBefore(i,r.firstChild):r.appendChild(i),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const n=!this._moving;return n&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),n&&this.fire(new e.Event("moveend",t)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(t){return"auto"===t?e.window.navigator.language:Array.isArray(t)?0===t.length?void 0:t.map(t=>"auto"===t?e.window.navigator.language:t):t}setLanguage(e){const t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style._reloadSources();for(const e of this._controls)e._setLanguage&&e._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(e){return this._lazyInitEmptyStyle(),e?"string"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const t=this.transform,n=t.projection.name;let i;"globe"===n&&t.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?(t.setMercatorFromTransition(),i=!0):"mercator"===n&&t.zoom<e.GLOBE_ZOOM_THRESHOLD_MAX&&(t.setProjection({name:"globe"}),i=!0),i&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(e,t){return this._updateProjection(e||t||{name:"mercator"})}_updateProjection(t){let n;if(n="globe"===t.name&&this.transform.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),n){this.painter.clearBackgroundTiles();for(const e in this.style._sourceCaches)this.style._sourceCaches[e].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(e,t,n){if("mouseenter"===e||"mouseover"===e){let i=!1;const r=r=>{const o=t.filter(e=>this.getLayer(e)),a=o.length?this.queryRenderedFeatures(r.point,{layers:o}):[];a.length?i||(i=!0,n.call(this,new sr(e,this,r.originalEvent,{features:a}))):i=!1},o=()=>{i=!1};return{layers:new Set(t),listener:n,delegates:{mousemove:r,mouseout:o}}}if("mouseleave"===e||"mouseout"===e){let i=!1;const r=r=>{const o=t.filter(e=>this.getLayer(e));(o.length?this.queryRenderedFeatures(r.point,{layers:o}):[]).length?i=!0:i&&(i=!1,n.call(this,new sr(e,this,r.originalEvent)))},o=t=>{i&&(i=!1,n.call(this,new sr(e,this,t.originalEvent)))};return{layers:new Set(t),listener:n,delegates:{mousemove:r,mouseout:o}}}{const i=e=>{const i=t.filter(e=>this.getLayer(e)),r=i.length?this.queryRenderedFeatures(e.point,{layers:i}):[];r.length&&(e.features=r,n.call(this,e),delete e.features)};return{layers:new Set(t),listener:n,delegates:{[e]:i}}}}on(e,t,n){if(void 0===n)return super.on(e,t);Array.isArray(t)||(t=[t]);const i=this._createDelegatedListener(e,t,n);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i);for(const e in i.delegates)this.on(e,i.delegates[e]);return this}once(e,t,n){if(void 0===n)return super.once(e,t);Array.isArray(t)||(t=[t]);const i=this._createDelegatedListener(e,t,n);for(const e in i.delegates)this.once(e,i.delegates[e]);return this}off(e,t,n){if(void 0===n)return super.off(e,t);t=new Set(Array.isArray(t)?t:[t]);const i=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},r=this._delegatedListeners?this._delegatedListeners[e]:void 0;return r&&(e=>{for(let r=0;r<e.length;r++){const o=e[r];if(o.listener===n&&i(o.layers,t)){for(const e in o.delegates)this.off(e,o.delegates[e]);return e.splice(r,1),this}}})(r),this}queryRenderedFeatures(t,n){return this.style?(void 0!==n||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(n=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],n=n||{},this.transform)):[]}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&n.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._localFontFamily=n.localFontFamily,this._updateStyle(t,n))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new Qt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Qt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,n){if("string"==typeof t){const i=this._requestManager.normalizeStyleURL(t),r=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(r,(t,i)=>{t?this.fire(new e.ErrorEvent(t)):i&&this._updateDiff(i,n)})}else"object"==typeof t&&this._updateDiff(t,n)}_updateDiff(t,n){try{this.style.setState(t)&&this._update(!0)}catch(i){e.warnOnce(`Unable to perform style diff: ${i.message||i.error||i}.  Rebuilding the style from scratch.`),this._updateStyle(t,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(e.warnOnce("There is no style added to the map."),!1)}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){return!!this.style&&this.style._isSourceCacheLoaded(e)}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const n=e[t]._tiles;for(const e in n){const t=n[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,n){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}removeSource(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,n,{pixelRatio:i=1,sdf:r=!1,stretchX:o,stretchY:a,content:s}={}){if(this._lazyInitEmptyStyle(),n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap){const{width:l,height:c,data:u}=e.exported.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},u),pixelRatio:i,stretchX:o,stretchY:a,content:s,sdf:r,version:0})}else if(void 0===n.width||void 0===n.height)this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:l,height:c}=n,u=n;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},new Uint8Array(u.data)),pixelRatio:i,stretchX:o,stretchY:a,content:s,sdf:r,version:0,userImage:u}),u.onAdd&&u.onAdd(this,t)}}updateImage(t,n){const i=this.style.getImage(t);if(!i)return void this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap?e.exported.getImageData(n):n,{width:o,height:a}=r;void 0!==o&&void 0!==a?o===i.data.width&&a===i.data.height?(i.data.replace(r.data,!(n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap)),this.style.updateImage(t,i)):this.fire(new e.ErrorEvent(new Error(`The width and height of the updated image (${o}, ${a})\n                must be that same as the previous version of the image\n                (${i.data.width}, ${i.data.height})`))):this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),(t,i)=>{n(t,i instanceof e.window.HTMLImageElement?e.exported.getImageData(i):i)})}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}setFilter(e,t,n={}){return this.style.setFilter(e,t,n),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,n,i={}){return this.style.setPaintProperty(e,t,n,i),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,n,i={}){return this.style.setLayoutProperty(e,t,n,i),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}_updateContainerDimensions(){if(!this._container)return;const t=this._container.getBoundingClientRect().width||400,n=this._container.getBoundingClientRect().height||300;let i,r,o,a=this._container;for(;a&&(!r||!o);){const t=e.window.getComputedStyle(a).transform;t&&"none"!==t&&(i=t.match(/matrix.*\((.+)\)/)[1].split(", "),i[0]&&"0"!==i[0]&&"1"!==i[0]&&(r=i[0]),i[3]&&"0"!==i[3]&&"1"!==i[3]&&(o=i[3])),a=a.parentElement}this._containerWidth=r?Math.abs(t/r):t,this._containerHeight=o?Math.abs(n/o):n}_detectMissingCSS(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=o("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();const t=this._canvasContainer=o("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=o("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const n=this._controlContainer=o("div","mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(e=>{i[e]=o("div","mapboxgl-ctrl-"+e,n)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(t,n){const i=e.exported.devicePixelRatio||1;this._canvas.width=i*Math.ceil(t),this._canvas.height=i*Math.ceil(n),this._canvas.style.width=t+"px",this._canvas.style.height=n+"px"}_addMarker(e){this._markers.push(e)}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}_addPopup(e){this._popups.push(e)}_removePopup(e){const t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1)}_setupPainter(){const t=e.extend({},n.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);i?(e.storeAuthState(i,!0),this.painter=new Ri(i,this.transform),this.on("data",e=>{"source"===e.dataType&&this.painter.setTileLoadedFlag(!0)}),e.exported$1.testSupport(i)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_requestDomTask(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e)}_render(t){let n;const i=this.painter.context.extTimerQuery,r=e.exported.now();if(this.listens("gpu-timing-frame")&&(n=i.createQueryEXT(),i.beginQueryEXT(i.TIME_ELAPSED_EXT,n)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],e.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],e.window.performance.now())),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),this._removed)return;this._updateProjectionTransition();const o=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,n=this.transform.pitch,i=e.exported.now(),r=new e.EvaluationParameters(t,{now:i,fadeDuration:o,pitch:n,transition:this.style.getTransition()});this.style.update(r)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let a=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),a=this._updateAverageElevation(r),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):a=this._updateAverageElevation(r),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,o,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:o,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),n){const t=e.exported.now()-r;i.endQueryEXT(i.TIME_ELAPSED_EXT,n),setTimeout(()=>{const o=i.getQueryObjectEXT(n,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:o})),e.window.performance.mark("frame-gpu",{startTime:r,detail:{gpuTime:o}})},50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout(()=>{const n=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:n}))},50)}if(this.listens("gpu-timing-deferred-render")){const t=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const n=this.painter.queryGpuTimeDeferredRender(t);this.fire(new e.Event("gpu-timing-deferred-render",{gpuTime:n}))},50)}const s=this._sourcesDirty||this._styleDirty||this._placementDirty||a;if(s||this._repaint)this.triggerRepaint();else{const t=!this.isMoving()&&this.loaded();if(t&&(a=this._updateAverageElevation(r,!0)),a)this.triggerRepaint();else if(this._triggerFrame(!1),t&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const t=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:t})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||s||(this._fullyLoaded=!0,e.LivePerformanceUtils.mark(e.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&e.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(e){for(const t of this._markers)e&&!this.getRenderWorldCopies()&&(t._lngLat=t._lngLat.wrap()),t._update();for(const t of this._popups)!e||this.getRenderWorldCopies()||t._trackPointer||(t._lngLat=t._lngLat.wrap()),t._update()}_updateAverageElevation(e,t=!1){const n=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&n(0);if((t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let i=this.transform.sampleAverageElevation(),r=!1;this.transform.elevation&&(r=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(i)?i=0:this._averageElevationLastSampledAt=e;const o=Math.abs(t-i);if(o>1){if(this._isInitialLoad||r)return this._averageElevation.jumpTo(i),n(i);this._averageElevation.easeTo(i,e,300)}else if(o>1e-4)return this._averageElevation.jumpTo(i),n(i)}return!!this._averageElevation.isEasing(e)&&n(this._averageElevation.getValue(e))}_authenticate(){e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,t=>{if(t&&(t.message===e.AUTH_ERR_MSG||401===t.status)){const t=this.painter.context.gl;e.storeAuthState(t,!1),this._logoControl instanceof Yr&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const e=this._isDragging();this.painter.updateTerrain(this.style,e)}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const n=this.painter.context.gl,i=n.createFramebuffer();function r(e){n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);const t=new Uint8Array(n.drawingBufferWidth*n.drawingBufferHeight*4);return n.readPixels(0,0,n.drawingBufferWidth,n.drawingBufferHeight,n.RGBA,n.UNSIGNED_BYTE,t),t}return n.bindFramebuffer(n.FRAMEBUFFER,i),this._canvasPixelComparison(r(e),t.canvasCopies.map(r),t.timeStamps)}_canvasPixelComparison(e,t,n){let i=n[1]-n[0];const r=e.length/4;for(let o=0;o<t.length;o++){const a=t[o];let s=0;for(let t=0;t<a.length;t+=4)a[t]===e[t]&&a[t+1]===e[t+1]&&a[t+2]===e[t+2]&&a[t+3]===e[t+3]&&(s+=1);i+=(n[o+2]-n[o+1])*(1-s/r)}return i}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1),e.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(t){this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame(e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e)}))}_preloadTiles(t){const n=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(n,(e,n)=>e._preloadTiles(t,n),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}_onVisibilityChange(){"hidden"===e.window.document.visibilityState&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update())}_setCacheLimits(t,n){e.setCacheLimits(t,n)}get version(){return e.version}},NavigationControl:class{constructor(t){this.options=e.extend({},so,t),this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",e=>e.preventDefault()),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",e=>{this._map&&this._map.zoomIn({},{originalEvent:e})}),o("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",e=>{this._map&&this._map.zoomOut({},{originalEvent:e})}),o("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",e=>{const t=this._map;t&&(this.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}))}),this._compassIcon=o("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const e=this._map;if(!e)return;const t=e.getZoom(),n=t===e.getMaxZoom(),i=t===e.getMinZoom();this._zoomInButton.disabled=n,this._zoomOutButton.disabled=i,this._zoomInButton.setAttribute("aria-disabled",n.toString()),this._zoomOutButton.setAttribute("aria-disabled",i.toString())}_rotateCompassArrow(){const e=this._map;if(!e)return;const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(e.transform.pitch*(Math.PI/180)),.5)}) rotateX(${e.transform.pitch}deg) rotateZ(${e.transform.angle*(180/Math.PI)}deg)`:`rotate(${e.transform.angle*(180/Math.PI)}deg)`;e._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=t)})}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),e.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&e.on("pitch",this._rotateCompassArrow),e.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new lo(e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off("pitch",this._rotateCompassArrow),e.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(e,t){const n=o("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}_setButtonTitle(e,t){if(!this._map)return;const n=this._map._getUIString("NavigationControl."+t);e.setAttribute("aria-label",n),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({geolocation:e.window.navigator.geolocation},co,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Yi(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(e){return this._map=e,this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(t){const n=(e=!!this.options.geolocation)=>{this._supportsGeolocation=e,t(e)};void 0!==this._supportsGeolocation?t(this._supportsGeolocation):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then(e=>n("denied"!==e.state)).catch(()=>n()):n()}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),n=e.coords;return!!t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy,r=this._map.getBearing(),o=e.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(i),o,{geolocateSource:!0})}_updateMarker(t){if(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const t=this._map.transform,n=e.mercatorZfromAltitude(1,t._center.lat)*t.worldSize,i=Math.ceil(2*this._accuracy*n);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(void 0!==this._map){if(this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._geolocateButton=o("button","mapboxgl-ctrl-geolocate",this._container),o("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=o("div","mapboxgl-user-location"),this._dotElement.appendChild(o("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(o("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new eo({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=o("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new eo({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))})}}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const t=()=>{e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(e=>{"granted"===e&&t()}).catch(console.error):t()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientation),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Xr,ScaleControl:class{constructor(t){this.options=e.extend({},uo,t),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch(e){return!1}}()||(this._setScale=ho.bind(this)),e.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const e=this.options.maxWidth||100,t=this._map,n=t._containerHeight/2,i=t._containerWidth/2-e/2,r=t.unproject([i,n]),o=t.unproject([i+e,n]),a=r.distanceTo(o);if("imperial"===this.options.unit){const t=3.2808*a;t>5280?this._setScale(e,t/5280,"mile"):this._setScale(e,t,"foot")}else"nautical"===this.options.unit?this._setScale(e,a/1852,"nautical-mile"):a>=1e3?this._setScale(e,a/1e3,"kilometer"):this._setScale(e,a,"meter")}_setScale(e,t,n){const i=po(t),r=i/t;this._map._requestDomTask(()=>{this._container.style.width=e*r+"px",this._container.innerHTML="nautical-mile"!==n?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:n}).format(i):i+"&nbsp;nm"})}onAdd(e){return this._map=e,this._language=e.getLanguage(),this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(e){this._language=e,this._update()}setUnit(e){this.options.unit=e,this._update()}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}_setupUI(){const t=this._fullscreenButton=o("button","mapboxgl-ctrl-fullscreen",this._controlContainer);o("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",e)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(to),t),e.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[])}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on("preclick",this._onClose),this.options.closeOnMove&&t.on("move",this._onClose),t.on("remove",this.remove),this._update(),t._addPopup(this),this._focusFirstElement(),this._trackPointer?(t.on("mousemove",this._onMouseEvent),t.on("mouseup",this._onMouseEvent),t._canvasContainer.classList.add("mapboxgl-track-pointer")):t.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const t=this._map;return t&&(t.off("move",this._update),t.off("move",this._onClose),t.off("preclick",this._onClose),t.off("click",this._onClose),t.off("remove",this.remove),t.off("mousemove",this._onMouseEvent),t.off("mouseup",this._onMouseEvent),t.off("drag",this._onMouseEvent),t._canvasContainer&&t._canvasContainer.classList.remove("mapboxgl-track-pointer"),t._removePopup(this),this._map=void 0),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();const n=this._map;return n&&(n.on("move",this._update),n.off("mousemove",this._onMouseEvent),n._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const e=this._map;return e&&(e.off("move",this._update),e.on("mousemove",this._onMouseEvent),e.on("drag",this._onMouseEvent),e._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(t){return this.setDOMContent(e.window.document.createTextNode(t))}setHTML(t){const n=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");let r;for(i.innerHTML=t;r=i.firstChild,r;)n.appendChild(r);return this.setDOMContent(n)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){let t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=o("div","mapboxgl-popup-content",this._container||void 0);if(t.appendChild(e),this.options.closeButton){const e=this._closeButton=o("button","mapboxgl-popup-close-button",t);e.type="button",e.setAttribute("aria-label","Close popup"),e.setAttribute("aria-hidden","true"),e.innerHTML="&#215;",e.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}_onMouseEvent(e){this._update(e.point)}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._map,n=this._container,i=this._pos;if(!t||!n||!i)return"bottom";const r=n.offsetWidth,o=n.offsetHeight,a=i.x<r/2,s=i.x>t.transform.width-r/2;if(i.y+e<o)return a?"top-left":s?"top-right":"top";if(i.y>t.transform.height-o){if(a)return"bottom-left";if(s)return"bottom-right"}return a?"left":s?"right":"bottom"}_updateClassList(){const e=this._container;if(!e)return;const t=[...this._classList];t.push("mapboxgl-popup"),this._anchor&&t.push("mapboxgl-popup-anchor-"+this._anchor),this._trackPointer&&t.push("mapboxgl-popup-track-pointer"),e.className=t.join(" ")}_update(t){const n=this._map,i=this._content;if(!n||!this._lngLat&&!this._trackPointer||!i)return;let r=this._container;if(r||(r=this._container=o("div","mapboxgl-popup",n.getContainer()),this._tip=o("div","mapboxgl-popup-tip",r),r.appendChild(i)),this.options.maxWidth&&r.style.maxWidth!==this.options.maxWidth&&(r.style.maxWidth=this.options.maxWidth),n.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Qr(this._lngLat,this._pos,n.transform)),!this._trackPointer||t){const e=this._pos=this._trackPointer&&t?t:n.project(this._lngLat),i=io(this.options.offset),r=this._anchor=this._getAnchor(i.y),o=io(this.options.offset,r),a=e.add(o).round();n._requestDomTask(()=>{this._container&&r&&(this._container.style.transform=`${Kr[r]} translate(${a.x}px,${a.y}px)`)})}if(!this._marker&&n._showingGlobe()){const t=e.isLngLatBehindGlobe(n.transform,this._lngLat)?0:1;this._setOpacity(t)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(no);e&&e.focus()}_onClose(){this.remove()}_setOpacity(e){this._container&&(this._container.style.opacity=""+e),this._content&&(this._content.style.pointerEvents=e?"auto":"none")}},Marker:eo,Style:Qt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:Ui,Evented:e.Evented,config:e.config,prewarm:function(){Ue().acquire(je)},clearPrewarmedResources:function(){const e=Ne;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(je),Ne=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Fe.workerCount},set workerCount(e){Fe.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return fo})),i}()}()}).call(this,n(143))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},,function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(5)),o=i(n(4)),a=i(n(2)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=(i(n(6)),n(7),i(n(9))),u=function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,a.default)({root:{backgroundColor:e.palette.background.paper},rounded:{borderRadius:e.shape.borderRadius}},t)};function h(e){var t=e.classes,n=e.className,i=e.component,c=e.square,u=e.elevation,h=(0,o.default)(e,["classes","className","component","square","elevation"]),d=(0,l.default)(t.root,t["elevation".concat(u)],(0,r.default)({},t.rounded,!c),n);return s.default.createElement(i,(0,a.default)({className:d},h))}t.styles=u,h.defaultProps={component:"div",elevation:2,square:!1};var d=(0,c.default)(u,{name:"MuiPaper"})(h);t.default=d},,function(e,t,n){(function(t){!function(n){e.exports=function(){return function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return r(t[a][1][e]||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var o=!1,a=0;a<i.length;a++)r(i[a]);return r}}()({1:[function(e,t,n){var i=e("./toPropertyKey.js");t.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},t.exports.__esModule=!0,t.exports.default=t.exports},{"./toPropertyKey.js":4}],2:[function(e,t,n){var i=e("./defineProperty.js");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}t.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},t.exports.__esModule=!0,t.exports.default=t.exports},{"./defineProperty.js":1}],3:[function(e,t,n){var i=e("./typeof.js").default;t.exports=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./typeof.js":5}],4:[function(e,t,n){var i=e("./typeof.js").default,r=e("./toPrimitive.js");t.exports=function(e){var t=r(e,"string");return"symbol"===i(t)?t:String(t)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./toPrimitive.js":3,"./typeof.js":5}],5:[function(e,t,n){function i(e){return t.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},{}],6:[function(e,t,n){"use strict";var i={};function r(e){return Math.floor(Math.abs(e)+.5)*(e>=0?1:-1)}function o(e,t,n){var i=(e=r(e*n))-(t=r(t*n));i<<=1,e-t<0&&(i=~i);for(var o="";i>=32;)o+=String.fromCharCode(63+(32|31&i)),i>>=5;return o+=String.fromCharCode(i+63)}function a(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].slice();t.push([i[1],i[0]])}return t}i.decode=function(e,t){for(var n,i=0,r=0,o=0,a=[],s=0,l=0,c=null,u=Math.pow(10,Number.isInteger(t)?t:5);i<e.length;){c=null,s=0,l=0;do{l|=(31&(c=e.charCodeAt(i++)-63))<<s,s+=5}while(c>=32);n=1&l?~(l>>1):l>>1,s=l=0;do{l|=(31&(c=e.charCodeAt(i++)-63))<<s,s+=5}while(c>=32);r+=n,o+=1&l?~(l>>1):l>>1,a.push([r/u,o/u])}return a},i.encode=function(e,t){if(!e.length)return"";for(var n=Math.pow(10,Number.isInteger(t)?t:5),i=o(e[0][0],0,n)+o(e[0][1],0,n),r=1;r<e.length;r++){var a=e[r],s=e[r-1];i+=o(a[0],s[0],n),i+=o(a[1],s[1],n)}return i},i.fromGeoJSON=function(e,t){if(e&&"Feature"===e.type&&(e=e.geometry),!e||"LineString"!==e.type)throw new Error("Input must be a GeoJSON LineString");return i.encode(a(e.coordinates),t)},i.toGeoJSON=function(e,t){return{type:"LineString",coordinates:a(i.decode(e,t))}},"object"==typeof t&&t.exports&&(t.exports=i)},{}],7:[function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&y(e,"error",t,n)}(e,r,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,n,i){var r,o,a;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=u(e))>0&&a.length>r&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,function(e){console&&console.warn&&console.warn(e)}(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=d.bind(i);return r.listener=n,i.wrapFn=r,r}function f(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function y(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=r[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var c=l.length,u=g(l,c);for(n=0;n<c;++n)o(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,i,r,o,a;if(c(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},{}],8:[function(e,t,n){"use strict";var i=e("is-obj"),r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}function s(e,t,n){var o=t[n];if(null!=o){if(r.call(e,n)&&(void 0===e[n]||null===e[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");r.call(e,n)&&i(o)?e[n]=l(Object(e[n]),t[n]):e[n]=o}}function l(e,t){if(e===t)return e;for(var n in t=Object(t))r.call(t,n)&&s(e,t,n);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),a=0;a<i.length;a++)o.call(t,i[a])&&s(e,t,i[a]);return e}t.exports=function(e){e=a(e);for(var t=1;t<arguments.length;t++)l(e,arguments[t]);return e}},{"is-obj":10}],9:[function(e,t,n){!function(){var e={};void 0!==n?t.exports=e:this.fuzzy=e,e.simpleFilter=function(t,n){return n.filter((function(n){return e.test(t,n)}))},e.test=function(t,n){return null!==e.match(t,n)},e.match=function(e,t,n){n=n||{};var i,r=0,o=[],a=t.length,s=0,l=0,c=n.pre||"",u=n.post||"",h=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var d=0;d<a;d++)i=t[d],h[d]===e[r]?(i=c+i+u,r+=1,l+=1+l):l=0,s+=l,o[o.length]=i;return r===e.length?(s=h===e?1/0:s,{rendered:o.join(""),score:s}):null},e.filter=function(t,n,i){return n&&0!==n.length?"string"!=typeof t?n:(i=i||{},n.reduce((function(n,r,o,a){var s=r;i.extract&&(s=i.extract(r));var l=e.match(t,s,i);return null!=l&&(n[n.length]={string:l.rendered,score:l.score,index:o,original:r}),n}),[]).sort((function(e,t){var n=t.score-e.score;return n||e.index-t.index}))):[]}}()},{}],10:[function(e,t,n){"use strict";t.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},{}],11:[function(e,t,n){t.exports=/<%=([\s\S]+?)%>/g},{}],12:[function(e,n,i){(function(e){(function(){var t=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,h=Math.max,d=Math.min,p=function(){return c.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(f(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=f(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(t,"");var s=r.test(e);return s||o.test(e)?a(e.slice(2),s?2:8):i.test(e)?NaN:+e}n.exports=function(e,t,n){var i,r,o,a,s,l,c=0,u=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){var n=i,o=r;return i=r=void 0,c=t,a=e.apply(o,n)}function v(e){return c=e,s=setTimeout(b,t),u?_(e):a}function x(e){var n=e-l;return void 0===l||n>=t||n<0||g&&e-c>=o}function b(){var e=p();if(x(e))return w(e);s=setTimeout(b,function(e){var n=t-(e-l);return g?d(n,o-(e-c)):n}(e))}function w(e){return s=void 0,y&&i?_(e):(i=r=void 0,a)}function T(){var e=p(),n=x(e);if(i=arguments,r=this,l=e,n){if(void 0===s)return v(l);if(g)return s=setTimeout(b,t),_(l)}return void 0===s&&(s=setTimeout(b,t)),a}return t=m(t)||0,f(n)&&(u=!!n.leading,o=(g="maxWait"in n)?h(m(n.maxWait)||0,t):o,y="trailing"in n?!!n.trailing:y),T.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=r=s=void 0},T.flush=function(){return void 0===s?a:w(p())},T}}).call(this)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,n,i){(function(e){(function(){var t="[object Arguments]",r="[object Map]",o="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[t]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[r]=c["[object Number]"]=c[o]=c["[object RegExp]"]=c[a]=c["[object String]"]=c["[object WeakMap]"]=!1;var u="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,d=u||h||Function("return this")(),p="object"==typeof i&&i&&!i.nodeType&&i,f=p&&"object"==typeof n&&n&&!n.nodeType&&n,m=f&&f.exports===p,g=m&&u.process,y=function(){try{return g&&g.binding&&g.binding("util")}catch(e){}}(),_=y&&y.isTypedArray;function v(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function x(e,t){return e.has(t)}function b(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function w(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var T=Array.prototype,E=Function.prototype,S=Object.prototype,M=d["__core-js_shared__"],I=E.toString,C=S.hasOwnProperty,k=function(){var e=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),A=S.toString,P=RegExp("^"+I.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=m?d.Buffer:void 0,D=d.Symbol,L=d.Uint8Array,O=S.propertyIsEnumerable,R=T.splice,B=D?D.toStringTag:void 0,j=Object.getOwnPropertySymbols,F=z?z.isBuffer:void 0,N=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),U=me(d,"DataView"),V=me(d,"Map"),G=me(d,"Promise"),Z=me(d,"Set"),W=me(d,"WeakMap"),q=me(Object,"create"),$=ve(U),H=ve(V),X=ve(G),Y=ve(Z),J=ve(W),Q=D?D.prototype:void 0,K=Q?Q.valueOf:void 0;function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ne;++t<n;)this.add(e[t])}function re(e){var t=this.__data__=new te(e);this.size=t.size}function oe(e,t){var n=we(e),i=!n&&be(e),r=!n&&!i&&Te(e),o=!n&&!i&&!r&&Ce(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=s.length;for(var c in e)!t&&!C.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_e(c,l))||s.push(c);return s}function ae(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}function se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":B&&B in Object(e)?function(e){var t=C.call(e,B),n=e[B];try{e[B]=void 0;var i=!0}catch(e){}var r=A.call(e);i&&(t?e[B]=n:delete e[B]);return r}(e):function(e){return A.call(e)}(e)}function le(e){return Ie(e)&&se(e)==t}function ce(e,n,i,s,l){return e===n||(null==e||null==n||!Ie(e)&&!Ie(n)?e!=e&&n!=n:function(e,n,i,s,l,c){var u=we(e),h=we(n),d=u?"[object Array]":ye(e),p=h?"[object Array]":ye(n),f=(d=d==t?o:d)==o,m=(p=p==t?o:p)==o,g=d==p;if(g&&Te(e)){if(!Te(n))return!1;u=!0,f=!1}if(g&&!f)return c||(c=new re),u||Ce(e)?de(e,n,i,s,l,c):function(e,t,n,i,o,s,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new L(e),new L(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case r:var c=b;case a:var u=1&i;if(c||(c=w),e.size!=t.size&&!u)return!1;var h=l.get(e);if(h)return h==t;i|=2,l.set(e,t);var d=de(c(e),c(t),i,o,s,l);return l.delete(e),d;case"[object Symbol]":if(K)return K.call(e)==K.call(t)}return!1}(e,n,d,i,s,l,c);if(!(1&i)){var y=f&&C.call(e,"__wrapped__"),_=m&&C.call(n,"__wrapped__");if(y||_){var v=y?e.value():e,x=_?n.value():n;return c||(c=new re),l(v,x,i,s,c)}}if(!g)return!1;return c||(c=new re),function(e,t,n,i,r,o){var a=1&n,s=pe(e),l=s.length,c=pe(t).length;if(l!=c&&!a)return!1;var u=l;for(;u--;){var h=s[u];if(!(a?h in t:C.call(t,h)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var p=!0;o.set(e,t),o.set(t,e);var f=a;for(;++u<l;){h=s[u];var m=e[h],g=t[h];if(i)var y=a?i(g,m,h,t,e,o):i(m,g,h,e,t,o);if(!(void 0===y?m===g||r(m,g,n,i,o):y)){p=!1;break}f||(f="constructor"==h)}if(p&&!f){var _=e.constructor,v=t.constructor;_==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v||(p=!1)}return o.delete(e),o.delete(t),p}(e,n,i,s,l,c)}(e,n,i,s,ce,l))}function ue(e){return!(!Me(e)||function(e){return!!k&&k in e}(e))&&(Ee(e)?P:s).test(ve(e))}function he(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||S;return e===n}(e))return N(e);var t=[];for(var n in Object(e))C.call(e,n)&&"constructor"!=n&&t.push(n);return t}function de(e,t,n,i,r,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,h=!0,d=2&n?new ie:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var p=e[u],f=t[u];if(i)var m=a?i(f,p,u,t,e,o):i(p,f,u,e,t,o);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!v(t,(function(e,t){if(!x(d,t)&&(p===e||r(p,e,n,i,o)))return d.push(t)}))){h=!1;break}}else if(p!==f&&!r(p,f,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function pe(e){return function(e,t,n){var i=t(e);return we(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,ke,ge)}function fe(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ue(n)?n:void 0}ee.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ee.prototype.get=function(e){var t=this.__data__;if(q){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return C.call(t,e)?t[e]:void 0},ee.prototype.has=function(e){var t=this.__data__;return q?void 0!==t[e]:C.call(t,e)},ee.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q&&void 0===t?"__lodash_hash_undefined__":t,this},te.prototype.clear=function(){this.__data__=[],this.size=0},te.prototype.delete=function(e){var t=this.__data__,n=ae(t,e);return!(n<0)&&(n==t.length-1?t.pop():R.call(t,n,1),--this.size,!0)},te.prototype.get=function(e){var t=this.__data__,n=ae(t,e);return n<0?void 0:t[n][1]},te.prototype.has=function(e){return ae(this.__data__,e)>-1},te.prototype.set=function(e,t){var n=this.__data__,i=ae(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},ne.prototype.clear=function(){this.size=0,this.__data__={hash:new ee,map:new(V||te),string:new ee}},ne.prototype.delete=function(e){var t=fe(this,e).delete(e);return this.size-=t?1:0,t},ne.prototype.get=function(e){return fe(this,e).get(e)},ne.prototype.has=function(e){return fe(this,e).has(e)},ne.prototype.set=function(e,t){var n=fe(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},ie.prototype.add=ie.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ie.prototype.has=function(e){return this.__data__.has(e)},re.prototype.clear=function(){this.__data__=new te,this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},re.prototype.get=function(e){return this.__data__.get(e)},re.prototype.has=function(e){return this.__data__.has(e)},re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof te){var i=n.__data__;if(!V||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ne(i)}return n.set(e,t),this.size=n.size,this};var ge=j?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}(j(e),(function(t){return O.call(e,t)})))}:function(){return[]},ye=se;function _e(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function ve(e){if(null!=e){try{return I.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function xe(e,t){return e===t||e!=e&&t!=t}(U&&"[object DataView]"!=ye(new U(new ArrayBuffer(1)))||V&&ye(new V)!=r||G&&"[object Promise]"!=ye(G.resolve())||Z&&ye(new Z)!=a||W&&"[object WeakMap]"!=ye(new W))&&(ye=function(e){var t=se(e),n=t==o?e.constructor:void 0,i=n?ve(n):"";if(i)switch(i){case $:return"[object DataView]";case H:return r;case X:return"[object Promise]";case Y:return a;case J:return"[object WeakMap]"}return t});var be=le(function(){return arguments}())?le:function(e){return Ie(e)&&C.call(e,"callee")&&!O.call(e,"callee")},we=Array.isArray;var Te=F||function(){return!1};function Ee(e){if(!Me(e))return!1;var t=se(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Me(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ie(e){return null!=e&&"object"==typeof e}var Ce=_?function(e){return function(t){return e(t)}}(_):function(e){return Ie(e)&&Se(e.length)&&!!c[se(e)]};function ke(e){return function(e){return null!=e&&Se(e.length)&&!Ee(e)}(e)?oe(e):he(e)}n.exports=function(e,t){return ce(e,t)}}).call(this)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,n,i){(function(t){(function(){var r=e("lodash._reinterpolate"),o=e("lodash.templatesettings"),a=/\b__p \+= '';/g,s=/\b(__p \+=) '' \+/g,l=/(__e\(.*?\)|\b__t\)) \+\n'';/g,c=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,u=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,d=/($^)/,p=/['\n\r\u2028\u2029\\]/g,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1;var m={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},g="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,_=g||y||Function("return this")(),v="object"==typeof i&&i&&!i.nodeType&&i,x=v&&"object"==typeof n&&n&&!n.nodeType&&n,b=x&&x.exports===v,w=b&&g.process,T=function(){try{var e=x&&x.require&&x.require("util").types;return e||w&&w.binding&&w.binding("util")}catch(e){}}(),E=T&&T.isTypedArray;function S(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function M(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function I(e){return"\\"+m[e]}function C(e,t){return function(n){return e(t(n))}}var k=Function.prototype,A=Object.prototype,P=_["__core-js_shared__"],z=k.toString,D=A.hasOwnProperty,L=function(){var e=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),O=A.toString,R=z.call(Object),B=RegExp("^"+z.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=b?_.Buffer:void 0,F=_.Symbol,N=C(Object.getPrototypeOf,Object),U=A.propertyIsEnumerable,V=F?F.toStringTag:void 0,G=function(){try{var e=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){if(!ye(e)||function(e){return!!L&&L in e}(e))return!1;return(me(e)?B:u).test(function(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Z=j?j.isBuffer:void 0,W=C(Object.keys,Object),q=Math.max,$=Date.now,H=F?F.prototype:void 0,X=H?H.toString:void 0;function Y(e,t){var n=he(e),i=!n&&ue(e),r=!n&&!i&&pe(e),o=!n&&!i&&!r&&ve(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=s.length;for(var c in e)!t&&!D.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||oe(c,l))||s.push(c);return s}function J(e,t,n){var i=e[t];D.call(e,t)&&ce(i,n)&&(void 0!==n||t in e)||Q(e,t,n)}function Q(e,t,n){"__proto__"==t&&G?G(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function K(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":V&&V in Object(e)?function(e){var t=D.call(e,V),n=e[V];try{e[V]=void 0;var i=!0}catch(e){}var r=O.call(e);i&&(t?e[V]=n:delete e[V]);return r}(e):function(e){return O.call(e)}(e)}function ee(e){return _e(e)&&"[object Arguments]"==K(e)}function te(e){if(!ye(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=se(e),n=[];for(var i in e)("constructor"!=i||!t&&D.call(e,i))&&n.push(i);return n}function ne(e,t){return le(function(e,t,n){return t=q(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=q(i.length-t,0),a=Array(o);++r<o;)a[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=n(a),S(e,this,s)}}(e,t,Ee),e+"")}function ie(e){if("string"==typeof e)return e;if(he(e))return M(e,ie)+"";if(function(e){return"symbol"==typeof e||_e(e)&&"[object Symbol]"==K(e)}(e))return X?X.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function re(e,t,n,i){return void 0===e||ce(e,A[n])&&!D.call(i,n)?t:e}function oe(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&h.test(e))&&e>-1&&e%1==0&&e<t}function ae(e,t,n){if(!ye(n))return!1;var i=typeof t;return!!("number"==i?de(n)&&oe(t,n.length):"string"==i&&t in n)&&ce(n[t],e)}function se(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A)}var le=function(e){var t=0,n=0;return function(){var i=$(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(G?function(e,t){return G(e,"toString",{configurable:!0,enumerable:!1,value:Te(t),writable:!0})}:Ee);function ce(e,t){return e===t||e!=e&&t!=t}var ue=ee(function(){return arguments}())?ee:function(e){return _e(e)&&D.call(e,"callee")&&!U.call(e,"callee")},he=Array.isArray;function de(e){return null!=e&&ge(e.length)&&!me(e)}var pe=Z||function(){return!1};function fe(e){if(!_e(e))return!1;var t=K(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!_e(e)||"[object Object]"!=K(e))return!1;var t=N(e);if(null===t)return!0;var n=D.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&z.call(n)==R}(e)}function me(e){if(!ye(e))return!1;var t=K(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ye(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function _e(e){return null!=e&&"object"==typeof e}var ve=E?function(e){return function(t){return e(t)}}(E):function(e){return _e(e)&&ge(e.length)&&!!f[K(e)]};var xe=function(e){return ne((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,a&&ae(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var s=n[i];s&&e(t,s,i,o)}return t}))}((function(e,t,n,i){!function(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),r?Q(n,s,l):J(n,s,l)}}(t,function(e){return de(e)?Y(e,!0):te(e)}(t),e,i)}));function be(e){return de(e)?Y(e):function(e){if(!se(e))return W(e);var t=[];for(var n in Object(e))D.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var we=ne((function(e,t){try{return S(e,void 0,t)}catch(e){return fe(e)?e:new Error(e)}}));function Te(e){return function(){return e}}function Ee(e){return e}n.exports=function(e,t,n){var i=o.imports._.templateSettings||o;n&&ae(e,t,n)&&(t=void 0),e=function(e){return null==e?"":ie(e)}(e),t=xe({},t,i,re);var u,h,f=xe({},t.imports,i.imports,re),m=be(f),g=function(e,t){return M(t,(function(t){return e[t]}))}(f,m),y=0,_=t.interpolate||d,v="__p += '",x=RegExp((t.escape||d).source+"|"+_.source+"|"+(_===r?c:d).source+"|"+(t.evaluate||d).source+"|$","g"),b=D.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/[\r\n]/g," ")+"\n":"";e.replace(x,(function(t,n,i,r,o,a){return i||(i=r),v+=e.slice(y,a).replace(p,I),n&&(u=!0,v+="' +\n__e("+n+") +\n'"),o&&(h=!0,v+="';\n"+o+";\n__p += '"),i&&(v+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),y=a+t.length,t})),v+="';\n";var w=D.call(t,"variable")&&t.variable;w||(v="with (obj) {\n"+v+"\n}\n"),v=(h?v.replace(a,""):v).replace(s,"$1").replace(l,"$1;"),v="function("+(w||"obj")+") {\n"+(w?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(h?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+v+"return __p\n}";var T=we((function(){return Function(m,b+"return "+v).apply(void 0,g)}));if(T.source=v,fe(T))throw T;return T}}).call(this)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._reinterpolate":11,"lodash.templatesettings":15}],15:[function(e,n,i){(function(t){(function(){var i=e("lodash._reinterpolate"),r=/[&<>"'`]/g,o=RegExp(r.source),a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,l=a||s||Function("return this")();var c=function(e){return function(t){return null==e?void 0:e[t]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"}),u=Object.prototype.toString,h=l.Symbol,d=h?h.prototype:void 0,p=d?d.toString:void 0,f={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:i,variable:"",imports:{_:{escape:function(e){return(e=g(e))&&o.test(e)?e.replace(r,c):e}}}};function m(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return p?p.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function g(e){return null==e?"":m(e)}n.exports=f}).call(this)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._reinterpolate":11}],16:[function(e,t,n){var i,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],h=!1,d=-1;function p(){h&&c&&(h=!1,c.length?u=c.concat(u):d=-1,u.length&&f())}function f(){if(!h){var e=l(p);h=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||h||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],17:[function(e,t,n){"use strict";function i(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,i,e):t(r)}}}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i();r.withExtraArgument=i;var o=r;n.default=o},{}],18:[function(e,t,n){(function(t){(function(){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e("@babel/runtime/helpers/objectSpread2"));function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}(),s=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+s(),REPLACE:"@@redux/REPLACE"+s(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":return t}if(Array.isArray(e))return"array";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";var n=function(e){return"function"==typeof e.constructor?e.constructor.name:null}(e);switch(n){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return n}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}function h(e){var n=typeof e;return"production"!==t.env.NODE_ENV&&(n=u(e)),n}function d(e,n,i){var r;if("function"==typeof n&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error("production"===t.env.NODE_ENV?o(0):"It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if("function"==typeof n&&void 0===i&&(i=n,n=void 0),void 0!==i){if("function"!=typeof i)throw new Error("production"===t.env.NODE_ENV?o(1):"Expected the enhancer to be a function. Instead, received: '"+h(i)+"'");return i(d)(e,n)}if("function"!=typeof e)throw new Error("production"===t.env.NODE_ENV?o(2):"Expected the root reducer to be a function. Instead, received: '"+h(e)+"'");var s=e,u=n,p=[],f=p,m=!1;function g(){f===p&&(f=p.slice())}function y(){if(m)throw new Error("production"===t.env.NODE_ENV?o(3):"You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function _(e){if("function"!=typeof e)throw new Error("production"===t.env.NODE_ENV?o(4):"Expected the listener to be a function. Instead, received: '"+h(e)+"'");if(m)throw new Error("production"===t.env.NODE_ENV?o(5):"You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");var n=!0;return g(),f.push(e),function(){if(n){if(m)throw new Error("production"===t.env.NODE_ENV?o(6):"You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");n=!1,g();var i=f.indexOf(e);f.splice(i,1),p=null}}}function v(e){if(!c(e))throw new Error("production"===t.env.NODE_ENV?o(7):"Actions must be plain objects. Instead, the actual type was: '"+h(e)+"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.");if(void 0===e.type)throw new Error("production"===t.env.NODE_ENV?o(8):'Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(m)throw new Error("production"===t.env.NODE_ENV?o(9):"Reducers may not dispatch actions.");try{m=!0,u=s(u,e)}finally{m=!1}for(var n=p=f,i=0;i<n.length;i++){(0,n[i])()}return e}function x(e){if("function"!=typeof e)throw new Error("production"===t.env.NODE_ENV?o(10):"Expected the nextReducer to be a function. Instead, received: '"+h(e));s=e,v({type:l.REPLACE})}function b(){var e,n=_;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error("production"===t.env.NODE_ENV?o(11):"Expected the observer to be an object. Instead, received: '"+h(e)+"'");function i(){e.next&&e.next(y())}return i(),{unsubscribe:n(i)}}})[a]=function(){return this},e}return v({type:l.INIT}),(r={dispatch:v,subscribe:_,getState:y,replaceReducer:x})[a]=b,r}var p=d;function f(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function m(e,t){return function(){return t(e.apply(this,arguments))}}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function y(){}"production"!==t.env.NODE_ENV&&"string"==typeof y.name&&"isCrushed"!==y.name&&f('You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) to ensure you have the correct code for your production build.'),n.__DO_NOT_USE__ActionTypes=l,n.applyMiddleware=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(e){return function(){var i=e.apply(void 0,arguments),a=function(){throw new Error("production"===t.env.NODE_ENV?o(15):"Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},s={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},l=n.map((function(e){return e(s)}));return a=g.apply(void 0,l)(i.dispatch),r.default(r.default({},i),{},{dispatch:a})}}},n.bindActionCreators=function(e,n){if("function"==typeof e)return m(e,n);if("object"!=typeof e||null===e)throw new Error("production"===t.env.NODE_ENV?o(16):"bindActionCreators expected an object or a function, but instead received: '"+h(e)+'\'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var i={};for(var r in e){var a=e[r];"function"==typeof a&&(i[r]=m(a,n))}return i},n.combineReducers=function(e){for(var n=Object.keys(e),i={},r=0;r<n.length;r++){var a=n[r];"production"!==t.env.NODE_ENV&&void 0===e[a]&&f('No reducer provided for key "'+a+'"'),"function"==typeof e[a]&&(i[a]=e[a])}var s,u,d=Object.keys(i);"production"!==t.env.NODE_ENV&&(s={});try{!function(e){Object.keys(e).forEach((function(n){var i=e[n];if(void 0===i(void 0,{type:l.INIT}))throw new Error("production"===t.env.NODE_ENV?o(12):'The slice reducer for key "'+n+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===i(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error("production"===t.env.NODE_ENV?o(13):'The slice reducer for key "'+n+"\" returned undefined when probed with a random type. Don't try to handle '"+l.INIT+'\' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(i)}catch(e){u=e}return function(e,n){if(void 0===e&&(e={}),u)throw u;if("production"!==t.env.NODE_ENV){var r=function(e,t,n,i){var r=Object.keys(t),o=n&&n.type===l.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!c(e))return"The "+o+' has unexpected type of "'+h(e)+'". Expected argument to be an object with the following keys: "'+r.join('", "')+'"';var a=Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)&&!i[e]}));return a.forEach((function(e){i[e]=!0})),n&&n.type===l.REPLACE?void 0:a.length>0?"Unexpected "+(a.length>1?"keys":"key")+' "'+a.join('", "')+'" found in '+o+'. Expected to find one of the known reducer keys instead: "'+r.join('", "')+'". Unexpected keys will be ignored.':void 0}(e,i,n,s);r&&f(r)}for(var a=!1,p={},m=0;m<d.length;m++){var g=d[m],y=i[g],_=e[g],v=y(_,n);if(void 0===v){var x=n&&n.type;throw new Error("production"===t.env.NODE_ENV?o(14):"When called with an action of type "+(x?'"'+String(x)+'"':"(unknown type)")+', the slice reducer for key "'+g+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.')}p[g]=v,a=a||v!==_}return(a=a||d.length!==Object.keys(e).length)?p:e}},n.compose=g,n.createStore=d,n.legacy_createStore=p}).call(this)}).call(this,e("_process"))},{"@babel/runtime/helpers/objectSpread2":2,_process:16}],19:[function(e,t,n){"use strict";var i=e("./src/suggestions");t.exports=i,"undefined"!=typeof window&&(window.Suggestions=i)},{"./src/suggestions":21}],20:[function(e,t,n){"use strict";var i=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};i.prototype.show=function(){this.element.style.display="block"},i.prototype.hide=function(){this.element.style.display="none"},i.prototype.add=function(e){this.items.push(e)},i.prototype.clear=function(){this.items=[],this.active=0},i.prototype.isEmpty=function(){return!this.items.length},i.prototype.isVisible=function(){return"block"===this.element.style.display},i.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()}else this.hide()},i.prototype.drawItem=function(e,t){var n=document.createElement("li"),i=document.createElement("a");t&&(n.className+=" active"),i.innerHTML=e.string,n.appendChild(i),this.element.appendChild(n),n.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),n.addEventListener("mouseup",function(){this.handleMouseUp.call(this,e)}.bind(this))},i.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()},i.prototype.move=function(e){this.active=e,this.draw()},i.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},i.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},i.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()},t.exports=i},{}],21:[function(e,t,n){"use strict";var i=e("xtend"),r=e("fuzzy"),o=e("./list"),a=function(e,t,n){return n=n||{},this.options=i({minLength:2,limit:5,filter:!0,hideOnBlur:!0},n),this.el=e,this.data=t||[],this.list=new o(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(e){this.handleKeyUp(e.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(e){this.handleKeyDown(e)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(e){this.handlePaste(e)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};a.prototype.handleKeyUp=function(e){40!==e&&38!==e&&27!==e&&13!==e&&9!==e&&this.handleInputChange(this.el.value)},a.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},a.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},a.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout((function(){t.handleInputChange(e.target.value)}),100)}},a.prototype.handleInputChange=function(e){this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(e){for(var t=0;t<e.length&&(this.list.add(e[t]),t!==this.options.limit-1);t++);this.list.draw()}.bind(this))},a.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},a.prototype.update=function(e){this.data=e,this.handleKeyUp()},a.prototype.clear=function(){this.data=[],this.list.clear()},a.prototype.normalize=function(e){return e=e.toLowerCase()},a.prototype.match=function(e,t){return e.indexOf(t)>-1},a.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")},a.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:function(e){return this.getItemValue(e)}.bind(this)};e(this.options.filter?r.filter(this.query,this.data,t).map(function(e){return{original:e.original,string:this.render(e.original,e.string)}}.bind(this)):this.data.map(function(e){return{original:e,string:this.render(e)}}.bind(this)))},a.prototype.getItemValue=function(e){return e},a.prototype.render=function(e,t){if(t)return t;for(var n=e.original?this.getItemValue(e.original):this.getItemValue(e),i=this.normalize(n),r=i.lastIndexOf(this.query);r>-1;){var o=r+this.query.length;n=n.slice(0,r)+"<strong>"+n.slice(r,o)+"</strong>"+n.slice(o),r=i.slice(0,r).lastIndexOf(this.query)}return n},a.prototype.renderError=function(e){this.list.drawError(e)},t.exports=a},{"./list":20,fuzzy:9,xtend:24}],22:[function(e,t,n){var i=e("turf-meta").coordEach;t.exports=function(e){var t=[1/0,1/0,-1/0,-1/0];return i(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}},{"turf-meta":23}],23:[function(e,t,n){function i(e,t,n){var i,r,o,a,s,c,u,h,d,p=0,f="FeatureCollection"===e.type,m="Feature"===e.type,g=f?e.features.length:1;for(i=0;i<g;i++)for(c=(d="GeometryCollection"===(h=f?e.features[i].geometry:m?e.geometry:e).type)?h.geometries.length:1,a=0;a<c;a++)if(u=(s=d?h.geometries[a]:h).coordinates,p=!n||"Polygon"!==s.type&&"MultiPolygon"!==s.type?0:1,"Point"===s.type)t(u);else if("LineString"===s.type||"MultiPoint"===s.type)for(r=0;r<u.length;r++)t(u[r]);else if("Polygon"===s.type||"MultiLineString"===s.type)for(r=0;r<u.length;r++)for(o=0;o<u[r].length-p;o++)t(u[r][o]);else{if("MultiPolygon"!==s.type)throw new Error("Unknown Geometry Type");for(r=0;r<u.length;r++)for(o=0;o<u[r].length;o++)for(l=0;l<u[r][o].length-p;l++)t(u[r][o][l])}}function r(e,t){var n;switch(e.type){case"FeatureCollection":for(features=e.features,n=0;n<e.features.length;n++)t(e.features[n].properties);break;case"Feature":t(e.properties)}}t.exports.coordEach=i,t.exports.coordReduce=function(e,t,n,r){return i(e,(function(e){n=t(n,e)}),r),n},t.exports.propEach=r,t.exports.propReduce=function(e,t,n){return r(e,(function(e){n=t(n,e)})),n}},{}],24:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e};var i=Object.prototype.hasOwnProperty},{}],25:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.addWaypoint=function(e,t){return function(n,i){var r=i(),o=r.destination,a=r.waypoints;a.splice(e,0,p(t)),n(h(a)),o.geometry&&n(d())}},n.clearDestination=function(){return s.abort(),function(e){e({type:r.DESTINATION_CLEAR}),e(x("clear",{type:"destination"})),e(f(null))}},n.clearOrigin=function(){return function(e){e({type:r.ORIGIN_CLEAR}),e(x("clear",{type:"origin"})),e(f(null))}},n.createDestination=v,n.createOrigin=_,n.eventEmit=x,n.eventSubscribe=function(e,t){return function(n,i){var o=i().events;return o[e]=o[e]||[],o[e].push(t),{type:r.EVENTS,events:o}}},n.hoverMarker=function(e){return function(t){t(function(e){return{type:r.HOVER_MARKER,hoverMarker:e}}(e?o.default.createPoint(e,{id:"hover"}):{}))}},n.queryDestination=function(e){return{type:r.DESTINATION_QUERY,query:e}},n.queryDestinationCoordinates=g,n.queryOrigin=function(e){return{type:r.ORIGIN_QUERY,query:e}},n.queryOriginCoordinates=m,n.removeWaypoint=function(e){return function(t,n){var i=n(),r=i.destination,a=i.waypoints;t(h(a=a.filter((function(t){return!o.default.coordinateMatch(t,e)})))),r.geometry&&t(d())}},n.reverse=function(){return function(e,t){var n=t();n.destination.geometry&&e(l(n.destination.geometry.coordinates)),n.origin.geometry&&e(c(n.origin.geometry.coordinates)),n.origin.geometry&&n.destination.geometry&&e(d());for(var i=document.getElementsByClassName("suggestions"),r=0;r<i.length;r++)i[r].style.visibility="hidden"}},n.setDestinationFromCoordinates=function(e){return function(t){if(o.default.validCoords(e)||(e=[o.default.wrap(e[0]),o.default.wrap(e[1])]),isNaN(e[0])&&isNaN(e[1]))return t(f(new Error("Coordinates are not valid")));t(v(e)),t(g(e))}},n.setOptions=function(e){return{type:r.SET_OPTIONS,options:e}},n.setOriginFromCoordinates=function(e){return function(t){if(o.default.validCoords(e)||(e=[o.default.wrap(e[0]),o.default.wrap(e[1])]),isNaN(e[0])&&isNaN(e[1]))return t(f(new Error("Coordinates are not valid")));t(m(e)),t(_(e))}},n.setProfile=function(e){return function(t,n){var i=n(),o=i.origin,a=i.destination;t({type:r.DIRECTIONS_PROFILE,profile:e}),t(x("profile",{profile:e})),o.geometry&&a.geometry&&t(d())}},n.setRouteIndex=y,n.setWaypoint=function(e,t){return function(n,i){var r=i(),o=r.destination,a=r.waypoints;a[e]=p(t),n(h(a)),o.geometry&&n(d())}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(e("../constants/action_types")),o=function(e){return e&&e.__esModule?e:{default:e}}(e("../utils"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s=new XMLHttpRequest;function l(e){return function(t){var n=o.default.createPoint(e,{id:"origin","marker-symbol":"A"});t({type:r.ORIGIN,origin:n}),t(x("origin",{feature:n}))}}function c(e){return function(t){var n=o.default.createPoint(e,{id:"destination","marker-symbol":"B"});t({type:r.DESTINATION,destination:n}),t(x("destination",{feature:n}))}}function u(e){return function(t){t({type:r.DIRECTIONS,directions:e}),t(x("route",{route:e}))}}function h(e){return{type:r.WAYPOINTS,waypoints:e}}function d(){return function(e,t){var n=t(),i=n.api,r=n.accessToken,o=n.routeIndex,a=n.profile,h=n.alternatives,d=n.congestion,p=n.destination,m=n.language,g=n.exclude;if(p&&p.geometry){var _=function(e){var t=e(),n=t.origin,i=t.destination,r=t.waypoints,o=[];o.push(n.geometry.coordinates.join(",")),o.push(";"),r.length&&r.forEach((function(e){o.push(e.geometry.coordinates.join(",")),o.push(";")}));return o.push(i.geometry.coordinates.join(",")),encodeURIComponent(o.join(""))}(t),v=[];v.push("geometries=polyline"),h&&v.push("alternatives=true"),d&&v.push("annotations=congestion"),v.push("steps=true"),v.push("overview=full"),m&&v.push("language="+m),g&&v.push("exclude="+g),r&&v.push("access_token="+r),s.abort(),s.open("GET","".concat(i).concat(a,"/").concat(_,".json?").concat(v.join("&")),!0),s.onload=function(){if(!(s.status>=200&&s.status<400))return e(u([])),e(f(JSON.parse(s.responseText).message));var t=JSON.parse(s.responseText);return t.error?(e(u([])),e(f(t.error))):"No route found"===t.message?e(f("No route found")):(e(f(null)),t.routes[o]||e(y(0)),e(u(t.routes)),e(l(t.waypoints[0].location)),void e(c(t.waypoints[t.waypoints.length-1].location)))},s.onerror=function(){return e(u([])),s.responseText?e(f(JSON.parse(s.responseText).message)):e(f("Error"))},s.send()}}}function p(e){var t={id:"waypoint"};return Object.assign(e,{properties:e.properties?Object.assign(e.properties,t):t})}function f(e){return function(t){t({type:"ERROR",error:e}),e&&t(x("error",{error:e}))}}function m(e){return{type:r.ORIGIN_FROM_COORDINATES,coordinates:e}}function g(e){return{type:r.DESTINATION_FROM_COORDINATES,coordinates:e}}function y(e){return{type:r.ROUTE_INDEX,routeIndex:e}}function _(e){return function(t,n){var i=n().destination;t(l(e)),i.geometry&&t(d())}}function v(e){return function(t,n){var i=n().origin;t(c(e)),i.geometry&&t(d())}}function x(e,t){var n=this;return function(i,o){var a=o().events;if(!a[e])return{type:r.EVENTS,events:a};for(var s=a[e].slice(),l=0;l<s.length;l++)s[l].call(n,t)}}},{"../constants/action_types":26,"../utils":34}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WAYPOINTS=n.SET_OPTIONS=n.ROUTE_INDEX=n.ORIGIN_QUERY=n.ORIGIN_FROM_COORDINATES=n.ORIGIN_CLEAR=n.ORIGIN=n.HOVER_MARKER=n.EVENTS=n.ERROR=n.DIRECTIONS_PROFILE=n.DIRECTIONS=n.DESTINATION_QUERY=n.DESTINATION_FROM_COORDINATES=n.DESTINATION_CLEAR=n.DESTINATION=void 0;n.DESTINATION="DESTINATION";n.DESTINATION_CLEAR="DESTINATION_CLEAR";n.DESTINATION_QUERY="DESTINATION_QUERY";n.DESTINATION_FROM_COORDINATES="DESTINATION_FROM_COORDINATES";n.DIRECTIONS="DIRECTIONS";n.DIRECTIONS_PROFILE="DIRECTIONS_PROFILE";n.EVENTS="EVENTS";n.ERROR="ERROR";n.HOVER_MARKER="HOVER_MARKER";n.ORIGIN="ORIGIN";n.ORIGIN_CLEAR="ORIGIN_CLEAR";n.ORIGIN_QUERY="ORIGIN_QUERY";n.ORIGIN_FROM_COORDINATES="ORIGIN_FROM_COORDINATES";n.ROUTE_INDEX="ROUTE_INDEX";n.SET_OPTIONS="SET_OPTIONS";n.WAYPOINTS="WAYPOINTS"},{}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("suggestions")),r=s(e("lodash.debounce")),o=e("events"),a=s(e("../utils"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,u(i.key),i)}}function u(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ev=new o.EventEmitter,this.options=t,this.api=t&&t.api||"https://api.mapbox.com/geocoding/v5/mapbox.places/"}return function(e,t,n){t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"onAdd",value:function(e){this._map=e,this.request=new XMLHttpRequest;var t=document.createElement("div");t.className="mapboxgl-ctrl-geocoder";var n=document.createElement("span");n.className="geocoder-icon geocoder-icon-search";var o=this._inputEl=document.createElement("input");o.type="text",o.placeholder=this.options.placeholder,o.addEventListener("keydown",(0,r.default)(function(e){if(!e.target.value)return this._clearEl.classList.remove("active");e.metaKey||-1!==[9,27,37,39,13,38,40].indexOf(e.keyCode)||this._queryFromInput(e.target.value)}.bind(this)),200),o.addEventListener("change",function(t){t.target.value&&this._clearEl.classList.add("active");var n=this._typeahead.selected;if(n){if(this.options.flyTo)if(n.bbox&&n.context&&n.context.length<=3||n.bbox&&!n.context){var i=n.bbox;e.fitBounds([[i[0],i[1]],[i[2],i[3]]])}else e.flyTo({center:n.center,zoom:this.options.zoom});this._input=n,this.fire("result",{result:n})}}.bind(this));var a=document.createElement("div");a.classList.add("geocoder-pin-right");var s=this._clearEl=document.createElement("button");s.className="geocoder-icon geocoder-icon-close",s.addEventListener("click",this._clear.bind(this));var l=this._loadingEl=document.createElement("span");return l.className="geocoder-icon geocoder-icon-loading",a.appendChild(s),a.appendChild(l),t.appendChild(n),t.appendChild(o),t.appendChild(a),this.options.container&&(this.options.position=!1),this._typeahead=new i.default(o,[],{filter:!1}),this._typeahead.getItemValue=function(e){return e.place_name},t}},{key:"_geocode",value:function(e,t){this._loadingEl.classList.add("active"),this.fire("loading");var n=this.options,i=["placeholder","zoom","flyTo","accessToken","api"],r=Object.keys(this.options).filter((function(e){return-1===i.indexOf(e)})).map((function(e){return e+"="+n[e]})),o=this.options.accessToken?this.options.accessToken:mapboxgl.accessToken;r.push("access_token="+o),this.request.abort(),this.request.open("GET",this.api+encodeURIComponent(e.trim())+".json?"+r.join("&"),!0),this.request.onload=function(){if(this._loadingEl.classList.remove("active"),this.request.status>=200&&this.request.status<400){var e=JSON.parse(this.request.responseText);return e.features.length?this._clearEl.classList.add("active"):(this._clearEl.classList.remove("active"),this._typeahead.selected=null),this.fire("results",{results:e.features}),this._typeahead.update(e.features),t(e.features)}this.fire("error",{error:JSON.parse(this.request.responseText).message})}.bind(this),this.request.onerror=function(){this._loadingEl.classList.remove("active"),this.fire("error",{error:JSON.parse(this.request.responseText).message})}.bind(this),this.request.send()}},{key:"_queryFromInput",value:function(e){(e=e.trim())||this._clear(),e.length>2&&this._geocode(e,function(e){this._results=e}.bind(this))}},{key:"_change",value:function(){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this._inputEl.dispatchEvent(e)}},{key:"_query",value:function(e){e&&("object"===l(e)&&e.length&&(e=[a.default.wrap(e[0]),a.default.wrap(e[1])].join()),this._geocode(e,function(e){if(e.length){var t=e[0];this._results=e,this._typeahead.selected=t,this._inputEl.value=t.place_name,this._change()}}.bind(this)))}},{key:"_setInput",value:function(e){e&&("object"===l(e)&&e.length&&(e=[a.default.roundWithOriginalPrecision(a.default.wrap(e[0]),e[0]),a.default.roundWithOriginalPrecision(a.default.wrap(e[1]),e[1])].join()),this._inputEl.value=e,this._input=null,this._typeahead.selected=null,this._typeahead.clear(),this._change())}},{key:"_clear",value:function(){this._input=null,this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._change(),this._inputEl.focus(),this._clearEl.classList.remove("active"),this.fire("clear")}},{key:"getResult",value:function(){return this._input}},{key:"query",value:function(e){return this._query(e),this}},{key:"setInput",value:function(e){return this._setInput(e),this}},{key:"on",value:function(e,t){return this._ev.on(e,t),this._ev.on("error",(function(e){console.log(e)})),this}},{key:"fire",value:function(e,t){return this._ev.emit(e,t),this}},{key:"off",value:function(e,t){return this._ev.removeListener(e,t),this}}]),e}();n.default=h},{"../utils":34,events:7,"lodash.debounce":12,suggestions:19}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("./geocoder")),r=s(e("lodash.template")),o=s(e("lodash.isequal")),a=s(e("turf-extent"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,u(i.key),i)}}function u(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var h=(0,r.default)("<div class='mapbox-directions-component mapbox-directions-inputs'>\n  <div class='mapbox-directions-component-keyline'>\n    <div class='mapbox-directions-origin'>\n      <label class='mapbox-form-label'>\n        <span class='directions-icon directions-icon-depart'></span>\n      </label>\n      <div id='mapbox-directions-origin-input'></div>\n    </div>\n\n    <button\n      class='directions-icon directions-icon-reverse directions-reverse js-reverse-inputs'\n      title='Reverse origin &amp; destination'>\n    </button>\n\n    <div class='mapbox-directions-destination'>\n      <label class='mapbox-form-label'>\n        <span class='directions-icon directions-icon-arrive'></span>\n      </label>\n      <div id='mapbox-directions-destination-input'></div>\n    </div>\n  </div>\n\n  <% if (controls.profileSwitcher) { %>\n  <div class='mapbox-directions-profile mapbox-directions-component-keyline mapbox-directions-clearfix'><input\n      id='mapbox-directions-profile-driving-traffic'\n      type='radio'\n      name='profile'\n      value='mapbox/driving-traffic'\n      <% if (profile === 'mapbox/driving-traffic') { %>checked<% } %>\n    />\n    <label for='mapbox-directions-profile-driving-traffic'>Traffic</label>\n    <input\n      id='mapbox-directions-profile-driving'\n      type='radio'\n      name='profile'\n      value='mapbox/driving'\n      <% if (profile === 'mapbox/driving') { %>checked<% } %>\n    />\n    <label for='mapbox-directions-profile-driving'>Driving</label>\n    <input\n      id='mapbox-directions-profile-walking'\n      type='radio'\n      name='profile'\n      value='mapbox/walking'\n      <% if (profile === 'mapbox/walking') { %>checked<% } %>\n    />\n    <label for='mapbox-directions-profile-walking'>Walking</label>\n    <input\n      id='mapbox-directions-profile-cycling'\n      type='radio'\n      name='profile'\n      value='mapbox/cycling'\n      <% if (profile === 'mapbox/cycling') { %>checked<% } %>\n    />\n    <label for='mapbox-directions-profile-cycling'>Cycling</label>\n  </div>\n  <% } %>\n</div>\n"),d=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=n.getState(),a=o.originQuery,s=o.destinationQuery,l=o.profile,c=o.controls;t.innerHTML=h({originQuery:a,destinationQuery:s,profile:l,controls:c}),this.container=t,this.actions=i,this.store=n,this._map=r,this.onAdd(),this.render()}return function(e,t,n){t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"animateToCoordinates",value:function(e,t){var n=this.store.getState(),i=n.origin,r=n.destination,s=n.routePadding;if(i.geometry&&r.geometry&&!(0,o.default)(i.geometry,r.geometry)){var l=(0,a.default)({type:"FeatureCollection",features:[i,r]});this._map.fitBounds([[l[0],l[1]],[l[2],l[3]]],{padding:s})}else this._map.flyTo({center:t})}},{key:"onAdd",value:function(){var e=this,t=this.actions,n=t.clearOrigin,r=t.clearDestination,o=t.createOrigin,a=t.createDestination,s=t.setProfile,l=t.reverse,c=this.store.getState(),u=c.geocoder,h=c.accessToken,d=c.flyTo,p=c.placeholderOrigin,f=c.placeholderDestination,m=c.zoom;this.originInput=new i.default(Object.assign({},{accessToken:h},u,{flyTo:d,placeholder:p,zoom:m}));var g=this.originInput.onAdd(this._map);this.container.querySelector("#mapbox-directions-origin-input").appendChild(g),this.destinationInput=new i.default(Object.assign({},{accessToken:h},u,{flyTo:d,placeholder:f,zoom:m}));var y=this.destinationInput.onAdd(this._map);this.container.querySelector("#mapbox-directions-destination-input").appendChild(y),this.originInput.on("result",(function(t){var n=t.result.center;o(n),e.animateToCoordinates("origin",n)})),this.originInput.on("clear",n),this.destinationInput.on("result",(function(t){var n=t.result.center;a(n),e.animateToCoordinates("destination",n)})),this.destinationInput.on("clear",r);var _=this.container.querySelectorAll('input[type="radio"]');Array.prototype.forEach.call(_,(function(e){e.addEventListener("change",(function(){s(e.value)}))})),this.container.querySelector(".js-reverse-inputs").addEventListener("click",(function(){var t=e.store.getState(),n=t.origin,i=t.destination;n&&e.actions.queryDestination(n.geometry.coordinates),i&&e.actions.queryOrigin(i.geometry.coordinates),l()}))}},{key:"render",value:function(){var e=this;this.store.subscribe((function(){var t=e.store.getState(),n=t.originQuery,i=t.destinationQuery,r=t.originQueryCoordinates,o=t.destinationQueryCoordinates;n&&(e.originInput.query(n),e.actions.queryOrigin(null)),i&&(e.destinationInput.query(i),e.actions.queryDestination(null)),r&&(e.originInput.setInput(r),e.animateToCoordinates("origin",r),e.actions.queryOriginCoordinates(null)),o&&(e.destinationInput.setInput(o),e.animateToCoordinates("destination",o),e.actions.queryDestinationCoordinates(null))}))}}]),e}();n.default=d},{"./geocoder":27,"lodash.isequal":13,"lodash.template":14,"turf-extent":22}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("../utils")),r=a(e("lodash.template")),o=a(e("lodash.isequal"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function c(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var u=(0,r.default)("<div class='directions-control directions-control-directions'>\n  <div class='mapbox-directions-component mapbox-directions-route-summary<% if (routes > 1) { %> mapbox-directions-multiple<% } %>'>\n    <% if (routes > 1) { %>\n    <div class='mapbox-directions-routes mapbox-directions-clearfix'>\n      <% for (var i = 0; i < routes; i++) { %>\n        <input type='radio' name='routes' id='<%= i %>' <% if (i === routeIndex) { %>checked<% } %>>\n        <label for='<%= i %>' class='mapbox-directions-route'><%= i + 1 %></label>\n      <% } %>\n    </div>\n    <% } %>\n    <h1><%- duration %></h1>\n    <span><%- distance %></span>\n  </div>\n\n  <div class='mapbox-directions-instructions'>\n    <div class='mapbox-directions-instructions-wrapper'>\n      <ol class='mapbox-directions-steps'>\n        <% steps.forEach(function(step) { %>\n          <%\n            var distance = step.distance ? format(step.distance) : false;\n            var icon = step.maneuver.modifier ? step.maneuver.modifier.replace(/\\s+/g, '-').toLowerCase() : step.maneuver.type.replace(/\\s+/g, '-').toLowerCase();\n\n            if (step.maneuver.type === 'arrive' || step.maneuver.type === 'depart') {\n              icon = step.maneuver.type;\n            }\n\n            if (step.maneuver.type === 'roundabout' || step.maneuver.type === 'rotary') {\n              icon= 'roundabout';\n            }\n\n            var lng = step.maneuver.location[0];\n            var lat = step.maneuver.location[1];\n          %>\n          <li\n            data-lat='<%= lat %>'\n            data-lng='<%= lng %>'\n            class='mapbox-directions-step'>\n            <span class='directions-icon directions-icon-<%= icon %>'></span>\n            <div class='mapbox-directions-step-maneuver'>\n              <%= step.maneuver.instruction %>\n            </div>\n            <% if (distance) { %>\n              <div class='mapbox-directions-step-distance'>\n                <%= distance %>\n              </div>\n            <% } %>\n          </li>\n        <% }); %>\n      </ol>\n    </div>\n  </div>\n</div>\n"),h=(0,r.default)("<div class='directions-control directions-control-directions'>\n  <div class='mapbox-directions-error'>\n    <%= error %>\n  </div>\n</div>\n"),d=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.actions=i,this.store=n,this._map=r,this.directions={},this.render()}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"render",value:function(){var e=this;this.store.subscribe((function(){var t=e.actions,n=t.hoverMarker,r=t.setRouteIndex,a=e.store.getState(),s=a.routeIndex,l=a.unit,c=a.directions,d=a.error,p=a.compile,f=!(0,o.default)(c[s],e.directions);if(d)e.container.innerHTML=h({error:d});else if(c.length&&f){var m=e.directions=c[s];p&&m.legs.forEach((function(e){e.steps.forEach((function(e){e.maneuver.instruction=p("en",e)}))})),e.container.innerHTML=u({routeIndex:s,routes:c.length,steps:m.legs[0].steps,format:i.default.format[l],duration:i.default.format.duration(m.duration),distance:i.default.format[l](m.distance)});var g=e.container.querySelectorAll(".mapbox-directions-step");Array.prototype.forEach.call(g,(function(t){var i=t.getAttribute("data-lng"),r=t.getAttribute("data-lat");t.addEventListener("mouseover",(function(){n([i,r])})),t.addEventListener("mouseout",(function(){n(null)})),t.addEventListener("click",(function(){e._map.flyTo({center:[i,r],zoom:16})}))}));var y=e.container.querySelectorAll('input[type="radio"]');Array.prototype.forEach.call(y,(function(e){e.addEventListener("change",(function(e){r(parseInt(e.target.id,10))}))}))}else e.container.innerHTML&&f&&(e.container.innerHTML="")}))}}]),e}();n.default=d},{"../utils":34,"lodash.isequal":13,"lodash.template":14}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("redux"),r=p(e("redux-thunk")),o=e("@mapbox/polyline"),a=p(e("./utils")),s=p(e("./reducers")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(e("./actions")),c=p(e("./directions_style")),u=p(e("./controls/inputs")),h=p(e("./controls/instructions"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,g(i.key),i)}}function g(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==f(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var y=(0,i.applyMiddleware)(r.default)(i.createStore)(s.default),_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=(0,i.bindActionCreators)(l,y.dispatch),this.actions.setOptions(t||{}),this.options=t||{},this.onDragDown=this._onDragDown.bind(this),this.onDragMove=this._onDragMove.bind(this),this.onDragUp=this._onDragUp.bind(this),this.move=this._move.bind(this),this.onClick=this._clickHandler().bind(this)}return function(e,t,n){t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"onAdd",value:function(e){var t=this;this._map=e;var n=y.getState().controls,i=this.container=document.createElement("div");i.className="mapboxgl-ctrl-directions mapboxgl-ctrl";var r=document.createElement("div");r.className="directions-control directions-control-inputs",new u.default(r,y,this.actions,this._map);var o=document.createElement("div");return o.className="directions-control directions-control-instructions",new h.default(o,y,{hoverMarker:this.actions.hoverMarker,setRouteIndex:this.actions.setRouteIndex},this._map),n.inputs&&i.appendChild(r),n.instructions&&i.appendChild(o),this.subscribedActions(),this._map.loaded()?this.mapState():this._map.on("load",(function(){return t.mapState()})),i}},{key:"onRemove",value:function(e){return this.container.parentNode.removeChild(this.container),this.removeRoutes(),e.off("mousedown",this.onDragDown),e.off("mousemove",this.move),e.off("touchstart",this.onDragDown),e.off("touchstart",this.move),e.off("click",this.onClick),this.storeUnsubscribe&&(this.storeUnsubscribe(),delete this.storeUnsubscribe),c.default.forEach((function(t){e.getLayer(t.id)&&e.removeLayer(t.id)})),e.getSource("directions")&&e.removeSource("directions"),this._map=null,this}},{key:"mapState",value:function(){var e=this,t=y.getState(),n=t.profile,i=(t.alternatives,t.congestion,t.styles),r=t.interactive;t.compile;this.actions.eventEmit("profile",{profile:n});this._map.addSource("directions",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),i&&i.length&&i.forEach((function(t){return e._map.addLayer(t)})),c.default.forEach((function(t){e._map.getLayer(t.id)||e._map.addLayer(t)})),r&&(this._map.on("mousedown",this.onDragDown),this._map.on("mousemove",this.move),this._map.on("click",this.onClick),this._map.on("touchstart",this.move),this._map.on("touchstart",this.onDragDown))}},{key:"subscribedActions",value:function(){var e=this;this.storeUnsubscribe=y.subscribe((function(){var t=y.getState(),n=t.origin,i=t.destination,r=t.hoverMarker,a=t.directions,s=t.routeIndex,l={type:"FeatureCollection",features:[n,i,r].filter((function(e){return e.geometry}))};a.length&&a.forEach((function(e,t){var n=[];(0,o.decode)(e.geometry,5).map((function(e){return e.reverse()})).forEach((function(i,r){var o=n[n.length-1],a=e.legs[0].annotation&&e.legs[0].annotation.congestion&&e.legs[0].annotation.congestion[r-1];if(!o||a&&o.properties.congestion!==a){var l={geometry:{type:"LineString",coordinates:[]},properties:{"route-index":t,route:t===s?"selected":"alternate"}};o&&l.geometry.coordinates.push(o.geometry.coordinates[o.geometry.coordinates.length-1]),l.geometry.coordinates.push(i),a&&(l.properties.congestion=e.legs[0].annotation.congestion[r-1]),n.push(l)}else o.geometry.coordinates.push(i)})),l.features=l.features.concat(n),t===s&&e.legs[0].steps.forEach((function(e){"waypoint"===e.maneuver.type&&l.features.push({type:"Feature",geometry:e.maneuver.location,properties:{id:"waypoint"}})}))})),e._map.style&&e._map.getSource("directions")&&e._map.getSource("directions").setData(l)}))}},{key:"_clickHandler",value:function(){var e=null;return function(t){if(e)clearTimeout(e),e=null,this._map.zoomIn();else{var n=this._onSingleClick.bind(this);e=setTimeout((function(){n(t),e=null}),250)}}}},{key:"_onSingleClick",value:function(e){var t=this,n=y.getState().origin,i=[e.lngLat.lng,e.lngLat.lat];if(n.geometry){var r=this._map.queryRenderedFeatures(e.point,{layers:["directions-origin-point","directions-destination-point","directions-waypoint-point","directions-route-line-alt"]});if(r.length){if(r.forEach((function(e){"directions-waypoint-point"===e.layer.id&&t.actions.removeWaypoint(e)})),"alternate"===r[0].properties.route){var o=r[0].properties["route-index"];this.actions.setRouteIndex(o)}}else this.actions.setDestinationFromCoordinates(i),this._map.flyTo({center:i})}else this.actions.setOriginFromCoordinates(i)}},{key:"_move",value:function(e){var t=this,n=y.getState().hoverMarker,i=this._map.queryRenderedFeatures(e.point,{layers:["directions-route-line-alt","directions-route-line","directions-origin-point","directions-destination-point","directions-hover-point"]});this._map.getCanvas().style.cursor=i.length?"pointer":"",i.length?(this.isCursorOverPoint=i[0],this._map.dragPan.disable(),i.forEach((function(i){"directions-route-line"===i.layer.id?t.actions.hoverMarker([e.lngLat.lng,e.lngLat.lat]):n.geometry&&t.actions.hoverMarker(null)}))):this.isCursorOverPoint&&(this.isCursorOverPoint=!1,this._map.dragPan.enable())}},{key:"_onDragDown",value:function(){this.isCursorOverPoint&&(this.isDragging=this.isCursorOverPoint,this._map.getCanvas().style.cursor="grab",this._map.on("mousemove",this.onDragMove),this._map.on("mouseup",this.onDragUp),this._map.on("touchmove",this.onDragMove),this._map.on("touchend",this.onDragUp))}},{key:"_onDragMove",value:function(e){if(this.isDragging){var t=[e.lngLat.lng,e.lngLat.lat];switch(this.isDragging.layer.id){case"directions-origin-point":this.actions.createOrigin(t);break;case"directions-destination-point":this.actions.createDestination(t);break;case"directions-hover-point":this.actions.hoverMarker(t)}}}},{key:"_onDragUp",value:function(){if(this.isDragging){var e=y.getState(),t=e.hoverMarker,n=e.origin,i=e.destination;switch(this.isDragging.layer.id){case"directions-origin-point":this.actions.setOriginFromCoordinates(n.geometry.coordinates);break;case"directions-destination-point":this.actions.setDestinationFromCoordinates(i.geometry.coordinates);break;case"directions-hover-point":t.geometry&&!a.default.coordinateMatch(this.isDragging,t)&&this.actions.addWaypoint(0,t)}this.isDragging=!1,this._map.getCanvas().style.cursor="",this._map.off("touchmove",this.onDragMove),this._map.off("touchend",this.onDragUp),this._map.off("mousemove",this.onDragMove),this._map.off("mouseup",this.onDragUp)}}},{key:"interactive",value:function(e){return e?(this._map.on("touchstart",this.move),this._map.on("touchstart",this.onDragDown),this._map.on("mousedown",this.onDragDown),this._map.on("mousemove",this.move),this._map.on("click",this.onClick)):(this._map.off("touchstart",this.move),this._map.off("touchstart",this.onDragDown),this._map.off("mousedown",this.onDragDown),this._map.off("mousemove",this.move),this._map.off("click",this.onClick)),this}},{key:"getOrigin",value:function(){return y.getState().origin}},{key:"setOrigin",value:function(e){return"string"==typeof e?this.actions.queryOrigin(e):this.actions.setOriginFromCoordinates(e),this}},{key:"getDestination",value:function(){return y.getState().destination}},{key:"setDestination",value:function(e){return"string"==typeof e?this.actions.queryDestination(e):this.actions.setDestinationFromCoordinates(e),this}},{key:"reverse",value:function(){return this.actions.reverse(),this}},{key:"addWaypoint",value:function(e,t){return t.type||(t=a.default.createPoint(t,{id:"waypoint"})),this.actions.addWaypoint(e,t),this}},{key:"setWaypoint",value:function(e,t){return t.type||(t=a.default.createPoint(t,{id:"waypoint"})),this.actions.setWaypoint(e,t),this}},{key:"removeWaypoint",value:function(e){var t=y.getState().waypoints;return this.actions.removeWaypoint(t[e]),this}},{key:"getWaypoints",value:function(){return y.getState().waypoints}},{key:"removeRoutes",value:function(){return this.actions.clearOrigin(),this.actions.clearDestination(),this}},{key:"on",value:function(e,t){return this.actions.eventSubscribe(e,t),this}}]),e}();n.default=_},{"./actions":25,"./controls/inputs":28,"./controls/instructions":29,"./directions_style":31,"./reducers":33,"./utils":34,"@mapbox/polyline":6,redux:18,"redux-thunk":17}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=[{id:"directions-route-line-alt",type:"line",source:"directions",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#bbb","line-width":4},filter:["all",["in","$type","LineString"],["in","route","alternate"]]},{id:"directions-route-line-casing",type:"line",source:"directions",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#2d5f99","line-width":12},filter:["all",["in","$type","LineString"],["in","route","selected"]]},{id:"directions-route-line",type:"line",source:"directions",layout:{"line-cap":"butt","line-join":"round"},paint:{"line-color":{property:"congestion",type:"categorical",default:"#4882c5",stops:[["unknown","#4882c5"],["low","#4882c5"],["moderate","#f09a46"],["heavy","#e34341"],["severe","#8b2342"]]},"line-width":7},filter:["all",["in","$type","LineString"],["in","route","selected"]]},{id:"directions-hover-point-casing",type:"circle",source:"directions",paint:{"circle-radius":8,"circle-color":"#fff"},filter:["all",["in","$type","Point"],["in","id","hover"]]},{id:"directions-hover-point",type:"circle",source:"directions",paint:{"circle-radius":6,"circle-color":"#3bb2d0"},filter:["all",["in","$type","Point"],["in","id","hover"]]},{id:"directions-waypoint-point-casing",type:"circle",source:"directions",paint:{"circle-radius":8,"circle-color":"#fff"},filter:["all",["in","$type","Point"],["in","id","waypoint"]]},{id:"directions-waypoint-point",type:"circle",source:"directions",paint:{"circle-radius":6,"circle-color":"#8a8bc9"},filter:["all",["in","$type","Point"],["in","id","waypoint"]]},{id:"directions-origin-point",type:"circle",source:"directions",paint:{"circle-radius":18,"circle-color":"#3bb2d0"},filter:["all",["in","$type","Point"],["in","marker-symbol","A"]]},{id:"directions-origin-label",type:"symbol",source:"directions",layout:{"text-field":"A","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#fff"},filter:["all",["in","$type","Point"],["in","marker-symbol","A"]]},{id:"directions-destination-point",type:"circle",source:"directions",paint:{"circle-radius":18,"circle-color":"#8a8bc9"},filter:["all",["in","$type","Point"],["in","marker-symbol","B"]]},{id:"directions-destination-label",type:"symbol",source:"directions",layout:{"text-field":"B","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#fff"},filter:["all",["in","$type","Point"],["in","marker-symbol","B"]]}];n.default=i},{}],32:[function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./directions"));t.exports=i.default},{"./directions":30}],33:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(e("../constants/action_types.js")),o=function(e){return e&&e.__esModule?e:{default:e}}(e("deep-assign"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s={api:"https://api.mapbox.com/directions/v5/",profile:"mapbox/driving-traffic",alternatives:!1,congestion:!1,unit:"imperial",flyTo:!0,placeholderOrigin:"Choose a starting place",placeholderDestination:"Choose destination",zoom:16,language:"en",compile:null,proximity:!1,styles:[],controls:{profileSwitcher:!0,inputs:!0,instructions:!0},geocoder:{},interactive:!0,events:{},origin:{},destination:{},hoverMarker:{},waypoints:[],originQuery:null,destinationQuery:null,originQueryCoordinates:null,destinationQueryCoordinates:null,directions:[],routeIndex:0,routePadding:80};var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_OPTIONS:return(0,o.default)({},e,t.options);case r.DIRECTIONS_PROFILE:return Object.assign({},e,{profile:t.profile});case r.ORIGIN:return Object.assign({},e,{origin:t.origin,hoverMarker:{}});case r.DESTINATION:return Object.assign({},e,{destination:t.destination,hoverMarker:{}});case r.HOVER_MARKER:return Object.assign({},e,{hoverMarker:t.hoverMarker});case r.WAYPOINTS:return Object.assign({},e,{waypoints:t.waypoints});case r.ORIGIN_QUERY:return Object.assign({},e,{originQuery:t.query});case r.DESTINATION_QUERY:return Object.assign({},e,{destinationQuery:t.query});case r.ORIGIN_FROM_COORDINATES:return Object.assign({},e,{originQueryCoordinates:t.coordinates});case r.DESTINATION_FROM_COORDINATES:return Object.assign({},e,{destinationQueryCoordinates:t.coordinates});case r.ORIGIN_CLEAR:return Object.assign({},e,{origin:{},originQuery:"",waypoints:[],directions:[]});case r.DESTINATION_CLEAR:return Object.assign({},e,{destination:{},destinationQuery:"",waypoints:[],directions:[]});case r.DIRECTIONS:return Object.assign({},e,{directions:t.directions});case r.ROUTE_INDEX:return Object.assign({},e,{routeIndex:t.routeIndex});case r.ERROR:return Object.assign({},e,{error:t.error});default:return e}};n.default=l},{"../constants/action_types.js":26,"deep-assign":8}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={format:{duration:function(e){var t=Math.floor(e/60),n=Math.floor(t/60);return e%=60,t%=60,0===n&&0===t?e+"s":0===n?t+"min":n+"h "+t+"min"},imperial:function(e){var t=e/1609.344;return t>=100?t.toFixed(0)+"mi":t>=10?t.toFixed(1)+"mi":t>=.1?t.toFixed(2)+"mi":(5280*t).toFixed(0)+"ft"},metric:function(e){return e>=1e5?(e/1e3).toFixed(0)+"km":e>=1e4?(e/1e3).toFixed(1)+"km":e>=100?(e/1e3).toFixed(2)+"km":e.toFixed(0)+"m"}},coordinateMatch:function(e,t){return e=e.geometry.coordinates,t=t.geometry.coordinates,e.join()===t.join()||e[0].toFixed(3)===t[0].toFixed(3)&&e[1].toFixed(3)===t[1].toFixed(3)},createPoint:function(e,t){return{type:"Feature",geometry:{type:"Point",coordinates:e},properties:t||{}}},validCoords:function(e){return e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90},wrap:function(e){var t=((e- -180)%360+360)%360-180;return-180===t?180:t},roundWithOriginalPrecision:function(e,t){var n=0;return Math.floor(t)!==t&&(n=t.toString().split(".")[1].length),e.toFixed(Math.min(n,5))}};n.default=i},{}]},{},[32])(32)}()}()}).call(this,n(25))},function(e,t,n){var i=n(149);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(38)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(37)(!1)).push([e.i,"/* Mapboxgl Geocoder */\n/* Basics */\n.mapboxgl-ctrl-geocoder,\n.mapboxgl-ctrl-geocoder *,\n.mapboxgl-ctrl-geocoder *:after,\n.mapboxgl-ctrl-geocoder *:before {\n  -webkit-box-sizing:border-box;\n     -moz-box-sizing:border-box;\n          box-sizing:border-box;\n  }\n.mapboxgl-ctrl-geocoder {\n  font:15px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  position:relative;\n  background-color:white;\n  width:calc(100% - 360px);;\n  min-width:calc(100% - 40px);;\n  max-width:calc(100% - 40px);;\n  margin-left:40px;\n  border-radius:0 0 3px 0;\n  }\n  .mapbox-directions-origin .mapboxgl-ctrl-geocoder {\n    border-radius:0 3px 0 0;\n    }\n\n.mapboxgl-ctrl-geocoder input[type='text'] {\n  font-size:12px;\n  width:100%;\n  border:0;\n  background-color:transparent;\n  height:40px;\n  margin:0;\n  color:rgba(0,0,0,.5);\n  padding:10px 40px 10px 10px;\n  text-overflow:ellipsis;\n  white-space:nowrap;\n  overflow:hidden;\n  }\n  .mapbox-directions-origin input[type='text'] {\n    box-shadow:0 1px 0 0 #ddd;\n    position:relative;\n    z-index:1;\n    }\n  .mapboxgl-ctrl-geocoder input:focus {\n    color:rgba(0,0,0,.75);\n    outline:0;\n    outline:thin dotted\\8;\n    }\n\n.mapboxgl-ctrl-geocoder .geocoder-icon-search {\n  position:absolute;\n  top:10px;\n  left:10px;\n  }\n.mapboxgl-ctrl-geocoder button {\n  padding:0;\n  margin:0;\n  background-color:#fff;\n  border:none;\n  cursor:pointer;\n  }\n.mapboxgl-ctrl-geocoder .geocoder-pin-right * {\n  background-color:#fff;\n  z-index:2;\n  position:absolute;\n  right:10px;\n  top:10px;\n  display:none;\n  }\n  .mapboxgl-ctrl-geocoder .geocoder-pin-right *.active { display:block; }\n\n.mapboxgl-ctrl-geocoder,\n.mapboxgl-ctrl-geocoder ul {\n  box-shadow:none;\n  }\n\n/* Suggestions */\n.mapboxgl-ctrl-geocoder ul {\n  background-color:#fff;\n  border-radius: 0 0 3px 3px;\n  left:0;\n  list-style:none;\n  margin:0;\n  padding:0;\n  position:absolute;\n  width:100%;\n  top:100%;\n  z-index:1000;\n  overflow:hidden;\n  font-size:12px;\n  }\n  .mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-geocoder ul,\n  .mapboxgl-ctrl-bottom-right .mapboxgl-ctrl-geocoder ul {\n    top:auto;\n    bottom:100%;\n    }\n  .mapboxgl-ctrl-geocoder ul > li > a {\n    clear:both;\n    cursor:default;\n    display:block;\n    padding:5px 10px;\n    white-space:nowrap;\n    overflow:hidden;\n    text-overflow:ellipsis;\n    white-space:nowrap;\n    border-bottom:1px solid rgba(0,0,0,0.1);\n    }\n    .mapboxgl-ctrl-geocoder ul > li:last-child > a { border-bottom:none; }\n    .mapboxgl-ctrl-geocoder ul > li.active > a,\n    .mapboxgl-ctrl-geocoder ul > li > a:hover {\n      background-color:#eee;\n      text-decoration:none;\n      cursor:pointer;\n      }\n\n@-webkit-keyframes rotate { from { -webkit-transform: rotate(0deg); } to { -webkit-transform: rotate(360deg); } }\n   @-moz-keyframes rotate { from { -moz-transform: rotate(0deg); } to { -moz-transform: rotate(360deg); } }\n    @-ms-keyframes rotate { from { -ms-transform: rotate(0deg); } to { -ms-transform: rotate(360deg); } }\n        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\n\n/* icons */\n.geocoder-icon {\n  display:inline-block;\n  width:20px;\n  height:20px;\n  vertical-align:middle;\n  speak:none;\n  background-repeat:no-repeat;\n  }\n  .geocoder-icon-search {\n    display:none;\n    }\n  .geocoder-icon-close {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCIgdmVyc2lvbj0iMS4xIiBoZWlnaHQ9IjIwIiB3aWR0aD0iMjAiPg0KICA8cGF0aCBkPSJtNSA1IDAgMS41IDMuNSAzLjUtMy41IDMuNSAwIDEuNSAxLjUgMCAzLjUtMy41IDMuNSAzLjUgMS41IDAgMC0xLjUtMy41LTMuNSAzLjUtMy41IDAtMS41LTEuNSAwLTMuNSAzLjUtMy41LTMuNS0xLjUgMHoiIGZpbGw9IiMwMDAiLz4NCjwvc3ZnPg==);\n    }\n  .geocoder-icon-loading {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxwYXRoIGQ9Im0xMCAyIDAgMy4zYzIuNiAwIDQuNyAyLjEgNC43IDQuN2wzLjMgMGMwLTQuNC0zLjYtOC04LTh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTEwIDJDNi44IDIgMy43IDQuMSAyLjYgNy4xIDEuNCAxMCAyLjEgMTMuNiA0LjUgMTUuOGMyLjQgMi40IDYuNCAyLjkgOS40IDEuMiAyLjUtMS40IDQuMi00LjIgNC4yLTctMS4xIDAtMi4yIDAtMy4zIDAgMC4xIDIuMi0xLjcgNC4zLTMuOCA0LjZDOC43IDE1IDYuNCAxMy44IDUuNyAxMS43IDQuOCA5LjcgNS42IDcuMSA3LjYgNiA4LjMgNS42IDkuMSA1LjMgMTAgNS4zYzAtMS4xIDAtMi4yIDAtMy4zeiIgc3R5bGU9ImZpbGw6IzAwMDtvcGFjaXR5OjAuMiIvPjwvc3ZnPg==);\n    -webkit-animation: rotate 400ms linear infinite;\n       -moz-animation: rotate 400ms linear infinite;\n        -ms-animation: rotate 400ms linear infinite;\n            animation: rotate 400ms linear infinite;\n    }\n\n/* Basics */\n.mapboxgl-ctrl-directions {\n  width: 33.33333%;\n  min-width: 300px;\n  max-width: 300px;\n}\n.mapbox-directions-component {\n  position: relative;\n}\n.mapbox-directions-component,\n.mapbox-directions-component *,\n.mapbox-directions-component *:after,\n.mapbox-directions-component *:before {\n  -webkit-box-sizing:border-box;\n     -moz-box-sizing:border-box;\n          box-sizing:border-box;\n  }\n.mapbox-directions-component-keyline {\n  box-shadow:0 0 0 2px rgba(0,0,0,0.1);\n  border-radius:3px;\n  }\n\n.directions-control {\n  font:15px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  }\n\n/* Layout containers */\n.directions-control {\n  width:100%;\n  z-index:1;\n  }\n  .directions-control.directions-control-directions {\n    background:rgba(0,0,0,0.75);\n    margin: 7px 0 0;\n    color:#fff;\n    top:0;\n    right:0;\n    bottom:0;\n    overflow:auto;\n    overflow-x:hidden;\n    }\n  .directions-control.directions-control-inputs {\n    top:10px;\n    left:10px;\n    }\n\n/* Inputs */\n.mapbox-directions-origin,\n.mapbox-directions-destination {\n  position:relative;\n  }\n\n.mapbox-form-label {\n  position:absolute;\n  top:0;left:0;\n  background:#8a8acb;\n  color:#fff;\n  padding:0;\n  width:40px;\n  height:40px;\n  text-align:center;\n  line-height:38px;\n  border-radius:0 0 0 3px;\n  }\n  .mapbox-form-label .directions-icon {\n    background-position: center;\n    width: 40px;\n    height: 40px;\n    }\n  .mapbox-directions-origin .mapbox-form-label {\n    background-color:#3bb2d0;\n    border-radius:3px 0 0 0;\n    box-shadow:0 1px 0 0 rgba(0,0,0,0.1);\n    z-index:1;\n    }\n\n.directions-reverse {\n  position:absolute;\n  z-index:10;\n  background:white;\n  left:40px;\n  top:30px;\n  cursor:pointer;\n  }\n\n.mapbox-directions-inputs button {\n  padding:0;\n  margin:0;\n  background-color:#fff;\n  border:none;\n  cursor:pointer;\n  }\n.mapbox-directions-inputs .directions-pin-right * {\n  background-color:#fff;\n  z-index:2;\n  position:absolute;\n  right:10px;\n  top:10px;\n  display:none;\n  }\n  .mapbox-directions-inputs .directions-pin-right *.active { display:block; }\n\n.mapbox-directions-profile {\n  background:#fff;\n  margin:7px 0 0;\n  padding:2px;\n  border-radius:15px;\n  vertical-align:middle;\n  }\n  .mapbox-directions-profile label {\n    cursor:pointer;\n    vertical-align:top;\n    display:block;\n    border-radius:16px;\n    padding:3px 5px;\n    font-size:12px;\n    color:rgba(0,0,0,.5);\n    line-height:20px;\n    text-align:center;\n    width: 25%;\n    float:left;\n    }\n    .mapbox-directions-profile label:hover {\n      color:rgba(0,0,0,.75);\n      }\n  .mapbox-directions-profile input[type=radio] {\n    display:none;\n    }\n  .mapbox-directions-profile input[type=radio]:checked + label:hover,\n  .mapbox-directions-profile input[type=radio]:checked + label {\n    background:#eee;\n    color:rgba(0,0,0,.75);\n    }\n\n/* Routes */\n.mapbox-directions-routes ul {\n  list-style:none;\n  margin:0;\n  padding:10px 10px 0 10px;\n  border-bottom:1px solid rgba(255,255,255,.25);\n  }\n\n.mapbox-directions-routes li {\n  font-size:12px;\n  padding:10px 10px 10px 80px;\n  display:block;\n  position:relative;\n  cursor:pointer;\n  color:rgba(255,255,255,.5);\n  min-height:60px;\n  }\n\n.mapbox-directions-routes li:hover,\n.mapbox-directions-routes .mapbox-directions-route-active {\n  color:white;\n  }\n\n.mapbox-directions-route-heading {\n  position:absolute;\n  left:10px;\n  top:10px;\n  }\n\n/* Route Summary */\n.mapbox-directions-route-summary {\n  position: relative;\n  z-index:1;\n  width:100%;\n  background-color:rgba(0,0,0,0.75);\n  color:#fff;\n  padding:5px 10px;\n  font-size:15px;\n  line-height:28px;\n  }\n  .mapbox-directions-route-summary + .mapbox-directions-instructions {\n    }\n  .mapbox-directions-route-summary h1 {\n    font-weight:500;\n    margin:0;\n    display:inline;\n    font-size:inherit;\n    line-height:inherit;\n    }\n  .mapbox-directions-route-summary span {\n    color:rgba(255,255,255,0.5);\n    margin:0 5px;\n    }\n\n  /* Alt route selection */\n  .mapbox-directions-instructions {\n      overflow: scroll;\n    }\n    .mapbox-directions-instructions-wrapper {\n      max-height: 50vh;\n      }\n  .mapbox-directions-routes {\n    margin-left: 5px;\n    font-size:12px;\n    float: right;\n    }\n  .mapbox-directions-routes input[type=radio] { display: none;}\n  .mapbox-directions-routes input[type=radio]:not(:checked) + .button:before { width: 0;}\n  .mapbox-directions-routes input[type=radio] + label {\n    background-color:rgba(255,255,255,0.10);\n    float:left;\n    padding:0 10px;\n    cursor:pointer;\n    }\n    .mapbox-directions-routes input[type=radio] + label:hover,\n    .mapbox-directions-routes input[type=radio]:checked + label {\n      background-color:rgba(255,255,255,0.25);\n      }\n\n/* Instructions */\n.mapbox-directions-instructions .directions-icon {\n  position:absolute;\n  left:12px;\n  top:20px;\n  margin:auto;\n  }\n  .mapbox-directions-instructions .directions-icon:before {\n    vertical-align:top;\n    }\n\n.mapbox-directions-error {\n  padding:20px;\n  font-size:20px;\n  line-height:25px;\n  }\n.mapbox-directions-step-distance {\n  color:rgba(255,255,255,.5);\n  position:absolute;\n  padding:5px 10px;\n  font-size:12px;\n  left:30px;\n  bottom:-10px;\n  }\n.mapbox-directions-steps {\n  position:relative;\n  list-style:none;\n  margin:0;\n  padding:0;\n  }\n  .mapbox-directions-step {\n    position:relative;\n    color:rgba(255,255,255,.75);\n    cursor:pointer;\n    padding:20px 20px 20px 40px;\n    font-size:14px;\n    line-height:18px;\n    font-weight: 300;\n    letter-spacing:0.1em;\n    }\n    .mapbox-directions-step * { pointer-events:none; }\n    .mapbox-directions-step:hover {\n      color:white;\n      }\n    .mapbox-directions-step:after {\n      content:'';\n      position:absolute;\n      top:45px;\n      bottom:-10px;\n      border-left:2px dotted rgba(255,255,255,.2);\n      left:20px;\n      }\n    .mapbox-directions-step:last-child:after,\n    .mapbox-directions-step:last-child .mapbox-directions-step-distance {\n      display:none;\n      }\n\n.mapbox-marker-drag-icon {\n  display:block;\n  background-color:#444;\n  border-radius:50%;\n  box-shadow:0 0 5px 0 rgba(0,0,0,0.5);\n  }\n  .mapbox-marker-drag-icon-step {\n    background-color:#3BB2D0;\n    }\n\n.mapbox-directions-clearfix:after {\n  content:'';\n  display:block;\n  height:0;\n  clear:both;\n  visibility:hidden;\n  }\n\n/* Mobile */\n@media only screen and (max-width:640px) {\n\n/* Containers */\n.directions-control.directions-control { width:100%; max-width:100%; }\n\n/* Input container */\n.directions-control.directions-control-inputs { top:0;left:0; }\n.mapbox-directions-profile { margin:10px; }\n\n/* Instructions container */\n.mapbox-directions-routes { float:right; margin-right:10px; }\n.directions-control.directions-control-directions { top:auto; max-height:40%; }\n.mapbox-directions-multiple { min-height:50px; }\n\n}\n\n@-webkit-keyframes rotate { from { -webkit-transform: rotate(0deg); } to { -webkit-transform: rotate(360deg); } }\n   @-moz-keyframes rotate { from { -moz-transform: rotate(0deg); } to { -moz-transform: rotate(360deg); } }\n    @-ms-keyframes rotate { from { -ms-transform: rotate(0deg); } to { -ms-transform: rotate(360deg); } }\n        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\n\n/* icons */\n.directions-icon {\n  display:inline-block;\n  width:20px;\n  height:20px;\n  vertical-align:middle;\n  speak:none;\n  background-repeat:no-repeat;\n  }\n  .directions-icon-arrive {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgaWQ9InN2ZzUzMjciIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDIwIDIwIj48ZGVmcyBpZD0iZGVmczUzMjkiLz48bWV0YWRhdGEgaWQ9Im1ldGFkYXRhNTMzMiIvPjxnIGlkPSJsYXllcjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48ZyBpZD0iZzU5MzYiIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAwNC43MjQ0KSIgb3BhY2l0eT0iMC41Ii8+PGcgaWQ9Imc1OTMyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLC0yKSIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAyNC43MjQ0KSIgaWQ9Imc2MDM4IiBmaWxsPSIjZmZmIi8+PGcgaWQ9InRleHQ2NjA2IiBzdHlsZT0iLWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonT3BlbiBTYW5zIEJvbGQnO2Jsb2NrLXByb2dyZXNzaW9uOnRiO2NvbG9yOiNGRkY7ZGlyZWN0aW9uOmx0cjtkaXNwbGF5OmlubGluZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6I0ZGRjtmb250LWZhbWlseTonT3BlbiBTYW5zJztmb250LXNpemU6MTYuODE7Zm9udC13ZWlnaHQ6Ym9sZDtsZXR0ZXItc3BhY2luZzpub3JtYWw7bGluZS1oZWlnaHQ6MTI1O292ZXJmbG93OnZpc2libGU7dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC1hbmNob3I6bWlkZGxlO3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3dvcmQtc3BhY2luZzpub3JtYWw7d3JpdGluZy1tb2RlOmxyLXRiIj48cGF0aCBkPSJtMzIwNiA5OTYuMzYgMy43MyAwcTIuNTUgMCAzLjcgMC43MyAxLjE2IDAuNzIgMS4xNiAyLjMxIDAgMS4wOC0wLjUxIDEuNzYtMC41IDAuNjktMS4zNCAwLjgzbDAgMC4wOHExLjE0IDAuMjUgMS42NCAwLjk1IDAuNTEgMC43IDAuNTEgMS44NiAwIDEuNjQtMS4xOSAyLjU2LTEuMTggMC45Mi0zLjIyIDAuOTJsLTQuNDkgMCAwLTEyem0yLjU0IDQuNzUgMS40OCAwcTEuMDMgMCAxLjQ5LTAuMzIgMC40Ny0wLjMyIDAuNDctMS4wNiAwLTAuNjktMC41MS0wLjk4LTAuNS0wLjMtMS41OS0wLjNsLTEuMzQgMCAwIDIuNjd6bTAgMi4wMiAwIDMuMTMgMS42NiAwcTEuMDUgMCAxLjU1LTAuNCAwLjUtMC40IDAuNS0xLjIzIDAtMS40OS0yLjEzLTEuNDlsLTEuNTggMHoiIGlkPSJwYXRoMjcyMTIiLz48L2c+PC9nPjwvc3ZnPg==);\n  }\n  .directions-icon-slight-left {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIwNiA5OTYuNCAwIDcuNSAzLjEtMy4xIDIuOSAzIDAgNC42IDIgMCAwLTUuNC0zLjUtMy41IDMtM3oiIGZpbGw9IiNGRkYiLz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMDQuNzI0NCkiIG9wYWNpdHk9IjAuNSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsLTIpIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDI0LjcyNDQpIiBmaWxsPSIjZmZmIi8+PC9nPjwvc3ZnPg==);\n  }\n  .directions-icon-slight-right {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIwNi41IDk5Ni40IDMgMy0zLjUgMy41IDAgNS40IDIgMCAwLTQuNiAyLjktMyAzLjEgMy4xIDAtNy41eiIgZmlsbD0iI0ZGRiIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAwNC43MjQ0KSIgb3BhY2l0eT0iMC41Ii8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSwtMikiLz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMjQuNzI0NCkiIGZpbGw9IiNmZmYiLz48L2c+PC9zdmc+);\n    }\n  .directions-icon-straight {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIxNS41IDEwMDEuNC01LjUtNS41LTUuNSA1LjUgNC41IDAgMCA3IDIgMCAwLTd6IiBmaWxsPSIjRkZGIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDA0LjcyNDQpIiBvcGFjaXR5PSIwLjUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLC0yKSIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAyNC43MjQ0KSIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Im0zNDA3IDk0Ny40LTIgNiA3LjMgMC0yIDYgMiAwIDQtMTItMS4yIDB6IiBmaWxsPSIjZmZmIi8+PC9nPjwvc3ZnPg==);\n  }\n  .directions-icon-depart {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgaWQ9InN2ZzUzMjciIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDIwIDIwIj48ZGVmcyBpZD0iZGVmczUzMjkiLz48bWV0YWRhdGEgaWQ9Im1ldGFkYXRhNTMzMiIvPjxnIGlkPSJsYXllcjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48ZyBpZD0iZzU5MzYiIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAwNC43MjQ0KSIgb3BhY2l0eT0iMC41Ii8+PGcgaWQ9Imc1OTMyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLC0yKSIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAyNC43MjQ0KSIgaWQ9Imc2MDM4IiBmaWxsPSIjZmZmIi8+PGcgaWQ9InRleHQ2NTkzIiBzdHlsZT0iLWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonT3BlbiBTYW5zIEJvbGQnO2Jsb2NrLXByb2dyZXNzaW9uOnRiO2NvbG9yOiNGRkY7ZGlyZWN0aW9uOmx0cjtkaXNwbGF5OmlubGluZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6I0ZGRjtmb250LWZhbWlseTonT3BlbiBTYW5zJztmb250LXNpemU6MTYuNzQ7Zm9udC13ZWlnaHQ6Ym9sZDtsZXR0ZXItc3BhY2luZzpub3JtYWw7bGluZS1oZWlnaHQ6MTI1O292ZXJmbG93OnZpc2libGU7dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC1hbmNob3I6bWlkZGxlO3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3dvcmQtc3BhY2luZzpub3JtYWw7d3JpdGluZy1tb2RlOmxyLXRiIj48cGF0aCBkPSJtMzIxMy4wNCAxMDA4LjM2LTAuODctMi44NC00LjM2IDAtMC44NyAyLjg0LTIuNzMgMCA0LjIyLTEyIDMuMSAwIDQuMjMgMTItMi43MyAwem0tMS40Ny00Ljk3cS0xLjItMy44Ny0xLjM2LTQuMzctMC4xNS0wLjUxLTAuMjEtMC44LTAuMjcgMS4wNS0xLjU0IDUuMTdsMy4xMSAweiIgaWQ9InBhdGgyNzIwOSIvPjwvZz48L2c+PC9zdmc+);\n  }\n  .directions-icon-roundabout {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIxMCA5OTUuNGMtMS41IDAtMy4xIDAuNi00LjIgMS43LTIuMyAyLjMtMi4zIDYuMiAwIDguNWwxLjQtMS40Yy0xLjYtMS42LTEuNi00LjEgMC01LjYgMS42LTEuNiA0LjEtMS42IDUuNiAwIDEuNiAxLjYgMS42IDQuMSAwIDUuNi0wLjggMC44LTEuOCAxLjItMi44IDEuMmwtMSAwIDAgNCAyIDAgMC0yLjFjMS4yLTAuMiAyLjQtMC44IDMuMy0xLjcgMi4zLTIuMyAyLjMtNi4yIDAtOC41LTEuMi0xLjItMi43LTEuNy00LjItMS43eiIgc3R5bGU9Ii1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246U2FucztiYXNlbGluZS1zaGlmdDpiYXNlbGluZTtibG9jay1wcm9ncmVzc2lvbjp0YjtkaXJlY3Rpb246bHRyO2ZpbGw6I0ZGRjtmb250LWZhbWlseTpTYW5zO2ZvbnQtc2l6ZTptZWRpdW07bGV0dGVyLXNwYWNpbmc6bm9ybWFsO2xpbmUtaGVpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtYW5jaG9yOnN0YXJ0O3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3dvcmQtc3BhY2luZzpub3JtYWw7d3JpdGluZy1tb2RlOmxyLXRiIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDA0LjcyNDQpIiBvcGFjaXR5PSIwLjUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLC0yKSIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAyNC43MjQ0KSIgZmlsbD0iI2ZmZiIvPjwvZz48L3N2Zz4=);\n  }\n  .directions-icon-error {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMDQuNzI0NCkiIG9wYWNpdHk9IjAuNSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsLTIpIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDI0LjcyNDQpIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0ibTMyMTAgOTk2LjRjLTAuNiAwLTEuMiAwLjMtMS41IDAuOGwtNC4zIDkuMmMtMC41IDAuOCAwIDIgMS4xIDJsNC43IDAgNC43IDBjMS4xIDAgMS42LTEuMiAxLjEtMmwtNC4zLTkuMmMtMC4zLTAuNS0wLjktMC44LTEuNS0wLjh6bTAgMyAxIDEgMCAzLTIgMCAwLTN6bS0xIDUgMiAwIDAgMi0yIDB6IiBmaWxsPSIjMDAwIi8+PC9nPjwvc3ZnPg==);\n  }\n  .directions-icon-reverse {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMDQuNzI0NCkiIG9wYWNpdHk9IjAuNSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsLTIpIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDI0LjcyNDQpIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0ibTMyMTAgOTk1LjktNC41IDQuNSAzLjUgMCAwIDQtMy41IDAgNC41IDQuNSA0LjUtNC41LTMuNSAwIDAtNCAzLjUgMC00LjUtNC41eiIgZmlsbD0iIzAwMCIvPjwvZz48L3N2Zz4=);\n  }\n  .directions-icon-sharp-left {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIxMy42IDk5Ni40LTYuNSA2LjUtMy0zIDAgNy41IDcuNSAwLTMuMS0zLjEgNC42LTQuNSAwIDUuNiAyIDAgMC04LTEuNC0xeiIgZmlsbD0iI0ZGRiIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAwNC43MjQ0KSIgb3BhY2l0eT0iMC41Ii8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSwtMikiLz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMjQuNzI0NCkiIGZpbGw9IiNmZmYiLz48L2c+PC9zdmc+);\n  }\n  .directions-icon-sharp-right {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIwNi40IDk5Ni40LTEuNCAxIDAgOCAyIDAgMC01LjYgNC42IDQuNS0zLjEgMy4xIDcuNSAwIDAtNy41LTMgMy02LjUtNi41eiIgZmlsbD0iI0ZGRiIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAwNC43MjQ0KSIgb3BhY2l0eT0iMC41Ii8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSwtMikiLz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMjQuNzI0NCkiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJtMzQwNyA5NDcuNC0yIDYgNy4zIDAtMiA2IDIgMCA0LTEyLTEuMiAweiIgZmlsbD0iI2ZmZiIvPjwvZz48L3N2Zz4=);\n  }\n  .directions-icon-left {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIwOSA5OTUuOSAwIDQuNSA1IDAgMSAxIDAgNi0yIDAgMC01LTQgMCAwIDQuNS01LjUtNS41eiIgc3R5bGU9Ii1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246U2FucztiYXNlbGluZS1zaGlmdDpiYXNlbGluZTtibG9jay1wcm9ncmVzc2lvbjp0YjtkaXJlY3Rpb246bHRyO2ZpbGw6I0ZGRjtmb250LWZhbWlseTpTYW5zO2ZvbnQtc2l6ZTptZWRpdW07bGV0dGVyLXNwYWNpbmc6bm9ybWFsO2xpbmUtaGVpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtYW5jaG9yOnN0YXJ0O3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3dvcmQtc3BhY2luZzpub3JtYWw7d3JpdGluZy1tb2RlOmxyLXRiIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDA0LjcyNDQpIiBvcGFjaXR5PSIwLjUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLC0yKSIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAyNC43MjQ0KSIgZmlsbD0iI2ZmZiIvPjwvZz48L3N2Zz4=);\n  }\n  .directions-icon-right {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIxMSA5OTUuOSAwIDQuNS01IDAtMSAxIDAgNiAyIDAgMC01IDQgMCAwIDQuNSA1LjUtNS41eiIgc3R5bGU9Ii1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246U2FucztiYXNlbGluZS1zaGlmdDpiYXNlbGluZTtibG9jay1wcm9ncmVzc2lvbjp0YjtkaXJlY3Rpb246bHRyO2ZpbGw6I0ZGRjtmb250LWZhbWlseTpTYW5zO2ZvbnQtc2l6ZTptZWRpdW07bGV0dGVyLXNwYWNpbmc6bm9ybWFsO2xpbmUtaGVpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtYW5jaG9yOnN0YXJ0O3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3dvcmQtc3BhY2luZzpub3JtYWw7d3JpdGluZy1tb2RlOmxyLXRiIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDA0LjcyNDQpIiBvcGFjaXR5PSIwLjUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLC0yKSIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAyNC43MjQ0KSIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Im0zNDA3IDk0Ny40LTIgNiA3LjMgMC0yIDYgMiAwIDQtMTItMS4yIDB6IiBmaWxsPSIjZmZmIi8+PC9nPjwvc3ZnPg==);\n  }\n  .directions-icon-u-turn {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIwOSA5OTYuNGMtMS43IDAtMy4xIDAuNi0zLjkgMS42LTAuOCAxLTEuMSAyLjItMS4xIDMuNGwwIDYgMiAwIDAtNmMwLTAuOCAwLjItMS42IDAuNy0yLjEgMC40LTAuNSAxLjEtMC45IDIuMy0wLjkgMS4zIDAgMS45IDAuNCAyLjMgMC45IDAuNCAwLjUgMC43IDEuMyAwLjcgMi4xbDAgMi00LjUgMCA1LjUgNS41IDUuNS01LjUtNC41IDAgMC0yYzAtMS4yLTAuMy0yLjQtMS4xLTMuNC0wLjgtMS0yLjItMS42LTMuOS0xLjZ6IiBzdHlsZT0iLWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpTYW5zO2Jhc2VsaW5lLXNoaWZ0OmJhc2VsaW5lO2Jsb2NrLXByb2dyZXNzaW9uOnRiO2RpcmVjdGlvbjpsdHI7ZmlsbDojRkZGO2ZvbnQtZmFtaWx5OlNhbnM7Zm9udC1zaXplOm1lZGl1bTtsZXR0ZXItc3BhY2luZzpub3JtYWw7bGluZS1oZWlnaHQ6bm9ybWFsO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1hbmNob3I6c3RhcnQ7dGV4dC1kZWNvcmF0aW9uLWxpbmU6bm9uZTt0ZXh0LWRlY29yYXRpb246bm9uZTt0ZXh0LWluZGVudDowO3RleHQtdHJhbnNmb3JtOm5vbmU7d29yZC1zcGFjaW5nOm5vcm1hbDt3cml0aW5nLW1vZGU6bHItdGIiLz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMDQuNzI0NCkiIG9wYWNpdHk9IjAuNSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsLTIpIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDI0LjcyNDQpIiBmaWxsPSIjZmZmIi8+PC9nPjwvc3ZnPg==);\n  }\n  .directions-icon-waypoint {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMDQuNzI0NCkiIG9wYWNpdHk9IjAuNSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsLTIpIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDI0LjcyNDQpIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0ibTMyMTUgMTAwMS40YzAgMi44LTUgOC01IDggMCAwLTUtNS4yLTUtOCAwLTIuOCAyLjItNSA1LTUgMi44IDAgNSAyLjIgNSA1eiIgZmlsbD0iI0ZGRiIvPjwvZz48L3N2Zz4=);\n  }\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},,function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(153))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(4)),a=i(n(1)),s=(i(n(3)),i(n(8))),l=i(n(154)),c=i(n(175)),u=i(n(183)),h=n(16),d=i(n(9)),p=function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.action.disabled}}}};t.styles=p;var f=a.default.createElement(c.default,null),m=a.default.createElement(u.default,null);function g(e){var t=e.classes,n=e.color,i=(0,o.default)(e,["classes","color"]);return a.default.createElement(l.default,(0,r.default)({type:"radio",icon:f,checkedIcon:m,classes:{root:(0,s.default)(t.root,t["color".concat((0,h.capitalize)(n))]),checked:t.checked,disabled:t.disabled}},i))}g.defaultProps={color:"secondary"};var y=(0,d.default)(p,{name:"MuiRadio"})(g);t.default=y},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(10)),l=i(n(11)),c=i(n(12)),u=i(n(13)),h=i(n(14)),d=i(n(1)),p=(i(n(3)),i(n(8))),f=i(n(39)),m=i(n(9)),g=i(n(155)),y={root:{display:"inline-flex",alignItems:"center",transition:"none","&:hover":{backgroundColor:"transparent"}},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0}};t.styles=y;var _=function(e){function t(e){var n;return(0,s.default)(this,t),(n=(0,c.default)(this,(0,u.default)(t).call(this))).handleFocus=function(e){n.props.onFocus&&n.props.onFocus(e);var t=n.props.muiFormControl;t&&t.onFocus&&t.onFocus(e)},n.handleBlur=function(e){n.props.onBlur&&n.props.onBlur(e);var t=n.props.muiFormControl;t&&t.onBlur&&t.onBlur(e)},n.handleInputChange=function(e){var t=e.target.checked;n.isControlled||n.setState({checked:t}),n.props.onChange&&n.props.onChange(e,t)},n.isControlled=null!=e.checked,n.state={},n.isControlled||(n.state.checked=void 0!==e.defaultChecked&&e.defaultChecked),n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.autoFocus,i=t.checked,s=t.checkedIcon,l=t.classes,c=t.className,u=t.defaultChecked,h=t.disabled,f=t.icon,m=t.id,y=t.inputProps,_=t.inputRef,v=t.muiFormControl,x=t.name,b=(t.onBlur,t.onChange,t.onFocus,t.readOnly),w=t.required,T=t.tabIndex,E=t.type,S=t.value,M=(0,a.default)(t,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","muiFormControl","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),I=h;v&&void 0===I&&(I=v.disabled);var C=this.isControlled?i:this.state.checked,k="checkbox"===E||"radio"===E;return d.default.createElement(g.default,(0,r.default)({component:"span",className:(0,p.default)(l.root,(e={},(0,o.default)(e,l.checked,C),(0,o.default)(e,l.disabled,I),e),c),disabled:I,tabIndex:null,role:void 0,onFocus:this.handleFocus,onBlur:this.handleBlur},M),C?s:f,d.default.createElement("input",(0,r.default)({autoFocus:n,checked:i,defaultChecked:u,className:l.input,disabled:I,id:k&&m,name:x,onChange:this.handleInputChange,readOnly:b,ref:_,required:w,tabIndex:T,type:E,value:S},y)))}}]),t}(d.default.Component),v=(0,m.default)(y,{name:"MuiPrivateSwitchBase"})((0,f.default)(_));t.default=v},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(156))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=(n(7),i(n(9))),u=n(44),h=i(n(157)),d=n(16),p=function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,u.fade)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,u.fade)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,u.fade)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}};function f(e){var t,n=e.children,i=e.classes,c=e.className,u=e.color,p=e.disabled,f=(0,a.default)(e,["children","classes","className","color","disabled"]);return s.default.createElement(h.default,(0,r.default)({className:(0,l.default)(i.root,(t={},(0,o.default)(t,i["color".concat((0,d.capitalize)(u))],"default"!==u),(0,o.default)(t,i.disabled,p),t),c),centerRipple:!0,focusRipple:!0,disabled:p},f),s.default.createElement("span",{className:i.label},n))}t.styles=p,f.defaultProps={color:"default",disabled:!1};var m=(0,c.default)(p,{name:"MuiIconButton"})(f);t.default=m},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(158))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(10)),l=i(n(11)),c=i(n(12)),u=i(n(13)),h=i(n(14)),d=i(n(33)),p=i(n(1)),f=(i(n(3)),i(n(19))),m=i(n(8)),g=(n(7),i(n(159))),y=i(n(9)),_=i(n(160)),v=n(162),x=i(n(163)),b=i(n(174)),w={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:"none",border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}};t.styles=w;var T=function(e){function t(){var e,n;(0,s.default)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=(0,c.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r)))).state={},n.keyDown=!1,n.focusVisibleCheckTime=50,n.focusVisibleMaxCheckTimes=5,n.handleMouseDown=(0,b.default)((0,d.default)((0,d.default)(n)),"MouseDown","start",(function(){clearTimeout(n.focusVisibleTimeout),n.state.focusVisible&&n.setState({focusVisible:!1})})),n.handleMouseUp=(0,b.default)((0,d.default)((0,d.default)(n)),"MouseUp","stop"),n.handleMouseLeave=(0,b.default)((0,d.default)((0,d.default)(n)),"MouseLeave","stop",(function(e){n.state.focusVisible&&e.preventDefault()})),n.handleTouchStart=(0,b.default)((0,d.default)((0,d.default)(n)),"TouchStart","start"),n.handleTouchEnd=(0,b.default)((0,d.default)((0,d.default)(n)),"TouchEnd","stop"),n.handleTouchMove=(0,b.default)((0,d.default)((0,d.default)(n)),"TouchMove","stop"),n.handleContextMenu=(0,b.default)((0,d.default)((0,d.default)(n)),"ContextMenu","stop"),n.handleBlur=(0,b.default)((0,d.default)((0,d.default)(n)),"Blur","stop",(function(){clearTimeout(n.focusVisibleTimeout),n.state.focusVisible&&n.setState({focusVisible:!1})})),n.onRippleRef=function(e){n.ripple=e},n.onFocusVisibleHandler=function(e){n.keyDown=!1,n.setState({focusVisible:!0}),n.props.onFocusVisible&&n.props.onFocusVisible(e)},n.handleKeyDown=function(e){var t=n.props,i=t.component,r=t.focusRipple,o=t.onKeyDown,a=t.onClick;r&&!n.keyDown&&n.state.focusVisible&&n.ripple&&" "===e.key&&(n.keyDown=!0,e.persist(),n.ripple.stop(e,(function(){n.ripple.start(e)}))),o&&o(e),e.target!==e.currentTarget||!i||"button"===i||" "!==e.key&&"Enter"!==e.key||"A"===n.button.tagName&&n.button.href||(e.preventDefault(),a&&a(e))},n.handleKeyUp=function(e){n.props.focusRipple&&" "===e.key&&n.ripple&&n.state.focusVisible&&(n.keyDown=!1,e.persist(),n.ripple.stop(e,(function(){n.ripple.pulsate(e)}))),n.props.onKeyUp&&n.props.onKeyUp(e)},n.handleFocus=function(e){n.props.disabled||(n.button||(n.button=e.currentTarget),e.persist(),(0,v.detectFocusVisible)((0,d.default)((0,d.default)(n)),n.button,(function(){n.onFocusVisibleHandler(e)})),n.props.onFocus&&n.props.onFocus(e))},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.button=f.default.findDOMNode(this),(0,v.listenForFocusKeys)((0,g.default)(this.button)),this.props.action&&this.props.action({focusVisible:function(){e.setState({focusVisible:!0}),e.button.focus()}})}},{key:"componentDidUpdate",value:function(e,t){this.props.focusRipple&&!this.props.disableRipple&&!t.focusVisible&&this.state.focusVisible&&this.ripple.pulsate()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.focusVisibleTimeout)}},{key:"render",value:function(){var e,t=this.props,n=(t.action,t.buttonRef),i=t.centerRipple,s=t.children,l=t.classes,c=t.className,u=t.component,h=t.disabled,d=t.disableRipple,f=(t.disableTouchRipple,t.focusRipple,t.focusVisibleClassName),g=(t.onBlur,t.onFocus,t.onFocusVisible,t.onKeyDown,t.onKeyUp,t.onMouseDown,t.onMouseLeave,t.onMouseUp,t.onTouchEnd,t.onTouchMove,t.onTouchStart,t.tabIndex),y=t.TouchRippleProps,v=t.type,b=(0,a.default)(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"]),w=(0,m.default)(l.root,(e={},(0,o.default)(e,l.disabled,h),(0,o.default)(e,l.focusVisible,this.state.focusVisible),(0,o.default)(e,f,this.state.focusVisible),e),c),T=u;"button"===T&&b.href&&(T="a");var E={};return"button"===T?(E.type=v||"button",E.disabled=h):E.role="button",p.default.createElement(T,(0,r.default)({className:w,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onContextMenu:this.handleContextMenu,ref:n,tabIndex:h?"-1":g},E,b),s,d||h?null:p.default.createElement(_.default,null,p.default.createElement(x.default,(0,r.default)({innerRef:this.onRippleRef,center:i},y))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0===t.focusVisible||!t.prevState&&e.disabled&&t.focusVisible?{focusVisible:!1,lastDisabled:e.disabled}:{lastDisabled:e.disabled}}}]),t}(p.default.Component);T.defaultProps={centerRipple:!1,component:"button",disableRipple:!1,disableTouchRipple:!1,focusRipple:!1,tabIndex:"0",type:"button"};var E=(0,y.default)(w,{name:"MuiButtonBase"})(T);t.default=E},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(60));var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=(0,r.default)(e);return n.defaultView||n.parentView||t};t.default=o},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(161))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(10)),o=i(n(11)),a=i(n(12)),s=i(n(13)),l=i(n(14)),c=i(n(1)),u=(i(n(3)),n(7),function(e){function t(){var e,n;(0,r.default)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(n=(0,a.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(o)))).mounted=!1,n.state={mounted:!1},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.props.defer?requestAnimationFrame((function(){requestAnimationFrame((function(){e.mounted&&e.setState({mounted:!0})}))})):this.setState({mounted:!0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.fallback;return this.state.mounted?t:n}}]),t}(c.default.Component));u.defaultProps={defer:!1,fallback:null};var h=u;t.default=h},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.detectFocusVisible=function e(t,n,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.focusVisibleTimeout=setTimeout((function(){var l=a((0,r.default)(n));o.focusKeyPressed&&(l===n||n.contains(l))?i():s<t.focusVisibleMaxCheckTimes&&e(t,n,i,s+1)}),t.focusVisibleCheckTime)},t.listenForFocusKeys=function(e){e.addEventListener("keyup",l)};i(n(6));var r=i(n(60)),o={focusKeyPressed:!1,keyUpEventTimeout:-1};function a(e){for(var t=e.activeElement;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}var s=[9,13,27,32,37,38,39,40];var l=function(e){(function(e){return s.indexOf(e.keyCode)>-1})(e)&&(o.focusKeyPressed=!0,clearTimeout(o.keyUpEventTimeout),o.keyUpEventTimeout=setTimeout((function(){o.focusKeyPressed=!1}),500))}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=t.DELAY_RIPPLE=void 0;var r=i(n(2)),o=i(n(4)),a=i(n(164)),s=i(n(10)),l=i(n(11)),c=i(n(12)),u=i(n(13)),h=i(n(14)),d=i(n(33)),p=i(n(1)),f=(i(n(3)),i(n(19))),m=i(n(169)),g=i(n(8)),y=i(n(9)),_=i(n(171));t.DELAY_RIPPLE=80;var v=function(e){return{root:{display:"block",position:"absolute",overflow:"hidden",borderRadius:"inherit",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none",zIndex:0},ripple:{width:50,height:50,left:0,top:0,opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"mui-ripple-enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-enter"},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"mui-ripple-exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-exit"},childPulsate:{position:"absolute",left:0,top:0,animation:"mui-ripple-pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite"),animationName:"$mui-ripple-pulsate"},"@keyframes mui-ripple-enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes mui-ripple-exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes mui-ripple-pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}};t.styles=v;var x=function(e){function t(){var e,n;(0,s.default)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=(0,c.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r)))).state={nextKey:0,ripples:[]},n.pulsate=function(){n.start({},{pulsate:!0})},n.start=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=t.pulsate,o=void 0!==r&&r,a=t.center,s=void 0===a?n.props.center||t.pulsate:a,l=t.fakeElement,c=void 0!==l&&l;if("mousedown"===e.type&&n.ignoringMouseDown)n.ignoringMouseDown=!1;else{"touchstart"===e.type&&(n.ignoringMouseDown=!0);var u,h,p,m=c?null:f.default.findDOMNode((0,d.default)((0,d.default)(n))),g=m?m.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(g.width/2),h=Math.round(g.height/2);else{var y=e.clientX?e.clientX:e.touches[0].clientX,_=e.clientY?e.clientY:e.touches[0].clientY;u=Math.round(y-g.left),h=Math.round(_-g.top)}if(s)(p=Math.sqrt((2*Math.pow(g.width,2)+Math.pow(g.height,2))/3))%2==0&&(p+=1);else{var v=2*Math.max(Math.abs((m?m.clientWidth:0)-u),u)+2,x=2*Math.max(Math.abs((m?m.clientHeight:0)-h),h)+2;p=Math.sqrt(Math.pow(v,2)+Math.pow(x,2))}e.touches?(n.startTimerCommit=function(){n.startCommit({pulsate:o,rippleX:u,rippleY:h,rippleSize:p,cb:i})},n.startTimer=setTimeout((function(){n.startTimerCommit&&(n.startTimerCommit(),n.startTimerCommit=null)}),80)):n.startCommit({pulsate:o,rippleX:u,rippleY:h,rippleSize:p,cb:i})}},n.startCommit=function(e){var t=e.pulsate,i=e.rippleX,r=e.rippleY,o=e.rippleSize,s=e.cb;n.setState((function(e){return{nextKey:e.nextKey+1,ripples:[].concat((0,a.default)(e.ripples),[p.default.createElement(_.default,{key:e.nextKey,classes:n.props.classes,timeout:{exit:550,enter:550},pulsate:t,rippleX:i,rippleY:r,rippleSize:o})])}}),s)},n.stop=function(e,t){clearTimeout(n.startTimer);var i=n.state.ripples;if("touchend"===e.type&&n.startTimerCommit)return e.persist(),n.startTimerCommit(),n.startTimerCommit=null,void(n.startTimer=setTimeout((function(){n.stop(e,t)})));n.startTimerCommit=null,i&&i.length&&n.setState({ripples:i.slice(1)},t)},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.startTimer)}},{key:"render",value:function(){var e=this.props,t=(e.center,e.classes),n=e.className,i=(0,o.default)(e,["center","classes","className"]);return p.default.createElement(m.default,(0,r.default)({component:"span",enter:!0,exit:!0,className:(0,g.default)(t.root,n)},i),this.state.ripples)}}]),t}(p.default.PureComponent);x.defaultProps={center:!1};var b=(0,y.default)(v,{flip:!1,name:"MuiTouchRipple"})(x);t.default=b},function(e,t,n){var i=n(165),r=n(166),o=n(167),a=n(168);e.exports=function(e){return i(e)||r(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(61);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(61);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=s(n(3)),r=s(n(1)),o=n(62),a=n(170);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},h=function(e){function t(t,n){var i,r=(i=e.call(this,t,n)||this).handleExited.bind(c(c(i)));return i.state={handleExited:r,firstRender:!0},i}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},n.componentDidMount=function(){this.appeared=!0,this.mounted=!0},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n=t.children,i=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,i):(0,a.getNextChildMapping)(e,n,i),firstRender:!1}},n.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["component","childFactory"]),o=u(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?o:r.default.createElement(t,i,o)},t}(r.default.Component);h.childContextTypes={transitionGroup:i.default.object.isRequired},h.propTypes={},h.defaultProps={component:"div",childFactory:function(e){return e}};var d=(0,o.polyfill)(h);t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return r(e.children,(function(n){return(0,i.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=r(e.children),l=o(t,s);return Object.keys(l).forEach((function(r){var o=l[r];if((0,i.isValidElement)(o)){var c=r in t,u=r in s,h=t[r],d=(0,i.isValidElement)(h)&&!h.props.in;!u||c&&!d?u||!c||d?u&&c&&(0,i.isValidElement)(h)&&(l[r]=(0,i.cloneElement)(o,{onExited:n.bind(null,o),in:h.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):l[r]=(0,i.cloneElement)(o,{in:!1}):l[r]=(0,i.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}})),l};var i=n(1);function r(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),o=[];for(var a in e)a in t?o.length&&(r[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var c=r[l][i];s[r[l][i]]=n(c)}s[l]=n(l)}for(i=0;i<o.length;i++)s[o[i]]=n(o[i]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(10)),l=i(n(11)),c=i(n(12)),u=i(n(13)),h=i(n(14)),d=i(n(1)),p=(i(n(3)),i(n(8))),f=i(n(172)),m=function(e){function t(){var e,n;(0,s.default)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=(0,c.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,leaving:!1},n.handleEnter=function(){n.setState({visible:!0})},n.handleExit=function(){n.setState({leaving:!0})},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t,n=this.props,i=n.classes,s=n.className,l=n.pulsate,c=n.rippleX,u=n.rippleY,h=n.rippleSize,m=(0,a.default)(n,["classes","className","pulsate","rippleX","rippleY","rippleSize"]),g=this.state,y=g.visible,_=g.leaving,v=(0,p.default)(i.ripple,(e={},(0,o.default)(e,i.rippleVisible,y),(0,o.default)(e,i.ripplePulsate,l),e),s),x={width:h,height:h,top:-h/2+u,left:-h/2+c},b=(0,p.default)(i.child,(t={},(0,o.default)(t,i.childLeaving,_),(0,o.default)(t,i.childPulsate,l),t));return d.default.createElement(f.default,(0,r.default)({onEnter:this.handleEnter,onExit:this.handleExit},m),d.default.createElement("span",{className:v,style:x},d.default.createElement("span",{className:b})))}}]),t}(d.default.Component);m.defaultProps={pulsate:!1};var g=m;t.default=g},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(3)),r=s(n(1)),o=s(n(19)),a=n(62);n(173);function s(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var l=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?a?(r="exited",i.appearStatus="entering"):r="entered":r=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",i.state={status:r},i.nextCallback=null,i}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null},n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);"entering"===t?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e,t){var n=this,i=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=r?o.appear:o.enter;t||i?(this.props.onEnter(e,r),this.safeSetState({status:"entering"},(function(){n.props.onEntering(e,r),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(e,r)}))}))}))):this.safeSetState({status:"entered"},(function(){n.props.onEntered(e)}))},n.performExit=function(e){var t=this,n=this.props.exit,i=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,i.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var i=null==t&&!this.props.addEndListener;e&&!i?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,i=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"==typeof n)return n(e,i);var o=r.default.Children.only(n);return r.default.cloneElement(o,i)},t}(r.default.Component);function c(){}l.contextTypes={transitionGroup:i.object},l.childContextTypes={transitionGroup:function(){}},l.propTypes={},l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:c,onEntering:c,onEntered:c,onExit:c,onExiting:c,onExited:c},l.UNMOUNTED=0,l.EXITED=1,l.ENTERING=2,l.ENTERED=3,l.EXITING=4;var u=(0,a.polyfill)(l);t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;!function(e){e&&e.__esModule}(n(3));t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t,n,i){return function(r){i&&i.call(e,r);var o=!1;return r.defaultPrevented&&(o=!0),e.props.disableTouchRipple&&"Blur"!==t&&(o=!0),!o&&e.ripple&&e.ripple[n](r),"function"==typeof e.props["on".concat(t)]&&e.props["on".concat(t)](r),!0}};"undefined"==typeof window&&(i=function(){return function(){}});var r=i;t.default=r},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(63)),a=i(n(66)),s=r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),l=function(e){return r.default.createElement(a.default,e,s)};(l=(0,o.default)(l)).muiName="SvgIcon";var c=l;t.default=c},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(177)),o=n(1),a=(i(n(64)),i(n(65)),function(e){return function(t){var n=(0,o.createFactory)(t);return function(t){function i(){return t.apply(this,arguments)||this}(0,r.default)(i,t);var o=i.prototype;return o.shouldComponentUpdate=function(t){return e(this.props,t)},o.render=function(){return n(this.props)},i}(o.Component)}});t.default=a},function(e,t,n){var i=n(58);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=function(e,t){return function(n){return n[e]=t,n}};t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":void 0};t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(181)).default;t.default=r},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=(n(7),i(n(9))),u=n(16),h=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:24,transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:20},fontSizeLarge:{fontSize:35}}};function d(e){var t,n=e.children,i=e.classes,c=e.className,h=e.color,d=e.component,p=e.fontSize,f=e.nativeColor,m=e.titleAccess,g=e.viewBox,y=(0,a.default)(e,["children","classes","className","color","component","fontSize","nativeColor","titleAccess","viewBox"]);return s.default.createElement(d,(0,r.default)({className:(0,l.default)(i.root,(t={},(0,o.default)(t,i["color".concat((0,u.capitalize)(h))],"inherit"!==h),(0,o.default)(t,i["fontSize".concat((0,u.capitalize)(p))],"default"!==p),t),c),focusable:"false",viewBox:g,color:f,"aria-hidden":m?"false":"true",role:m?"img":"presentation"},y),n,m?s.default.createElement("title",null,m):null)}t.styles=h,d.defaultProps={color:"inherit",component:"svg",fontSize:"default",viewBox:"0 0 24 24"},d.muiName="SvgIcon";var p=(0,c.default)(h,{name:"MuiSvgIcon"})(d);t.default=p},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(63)),a=i(n(66)),s=r.default.createElement("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),l=function(e){return r.default.createElement(a.default,e,s)};(l=(0,o.default)(l)).muiName="SvgIcon";var c=l;t.default=c},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(185))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2)),o=i(n(4)),a=i(n(10)),s=i(n(11)),l=i(n(12)),c=i(n(13)),u=i(n(14)),h=i(n(1)),d=(i(n(3)),i(n(6)),i(n(186))),p=n(16),f=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,l.default)(this,(0,c.default)(t).call(this))).radios=[],n.focus=function(){if(n.radios&&n.radios.length){var e=n.radios.filter((function(e){return!e.disabled}));if(e.length){var t=(0,p.find)(e,(function(e){return e.checked}));t?t.focus():e[0].focus()}}},n.handleChange=function(e){n.isControlled||n.setState({value:e.target.value}),n.props.onChange&&n.props.onChange(e,e.target.value)},n.isControlled=null!=e.value,n.isControlled||(n.state={value:e.defaultValue}),n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.name,a=t.value,s=(t.onChange,(0,o.default)(t,["children","name","value","onChange"])),l=this.isControlled?a:this.state.value;return this.radios=[],h.default.createElement(d.default,(0,r.default)({role:"radiogroup"},s),h.default.Children.map(n,(function(t){return h.default.isValidElement(t)?h.default.cloneElement(t,{name:i,inputRef:function(t){t&&e.radios.push(t)},checked:l===t.props.value,onChange:(0,p.createChainedFunction)(t.props.onChange,e.handleChange)}):null})))}}]),t}(h.default.Component);t.default=f},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(187))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=i(n(9)),u={root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}};function h(e){var t=e.classes,n=e.className,i=e.children,c=e.row,u=(0,a.default)(e,["classes","className","children","row"]);return s.default.createElement("div",(0,r.default)({className:(0,l.default)(t.root,(0,o.default)({},t.row,c),n)},u),i)}t.styles=u,h.defaultProps={row:!1};var d=(0,c.default)(u,{name:"MuiFormGroup"})(h);t.default=d},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(189))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=i(n(39)),u=i(n(9)),h=i(n(27)),d=n(16),p=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-14,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-14},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}};function f(e){e.checked;var t,n=e.classes,i=e.className,c=e.control,u=e.disabled,p=(e.inputRef,e.label),f=e.labelPlacement,m=e.muiFormControl,g=(e.name,e.onChange,e.value,(0,a.default)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","muiFormControl","name","onChange","value"])),y=u;void 0===y&&void 0!==c.props.disabled&&(y=c.props.disabled),void 0===y&&m&&(y=m.disabled);var _={disabled:y};return["checked","name","onChange","value","inputRef"].forEach((function(t){void 0===c.props[t]&&void 0!==e[t]&&(_[t]=e[t])})),s.default.createElement("label",(0,r.default)({className:(0,l.default)(n.root,(t={},(0,o.default)(t,n["labelPlacement".concat((0,d.capitalize)(f))],"end"!==f),(0,o.default)(t,n.disabled,y),t),i)},g),s.default.cloneElement(c,_),s.default.createElement(h.default,{component:"span",className:(0,l.default)(n.label,(0,o.default)({},n.disabled,y))},p))}t.styles=p,f.defaultProps={labelPlacement:"end"};var m=(0,u.default)(p,{name:"MuiFormControlLabel"})((0,c.default)(f));t.default=m},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(191))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(10)),l=i(n(12)),c=i(n(13)),u=i(n(11)),h=i(n(14)),d=i(n(1)),p=(i(n(3)),i(n(8))),f=(n(7),n(192)),m=i(n(9)),g=n(16),y=n(193),_=i(n(59)),v={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}};t.styles=v;var x=function(e){function t(e){var n;(0,s.default)(this,t),(n=(0,l.default)(this,(0,c.default)(t).call(this))).handleFocus=function(){n.setState((function(e){return e.focused?null:{focused:!0}}))},n.handleBlur=function(){n.setState((function(e){return e.focused?{focused:!1}:null}))},n.handleDirty=function(){n.state.filled||n.setState({filled:!0})},n.handleClean=function(){n.state.filled&&n.setState({filled:!1})},n.state={adornedStart:!1,filled:!1,focused:!1};var i=e.children;return i&&d.default.Children.forEach(i,(function(e){if((0,y.isMuiElement)(e,["Input","Select"])){(0,f.isFilled)(e.props,!0)&&(n.state.filled=!0);var t=(0,y.isMuiElement)(e,["Select"])?e.props.input:e;t&&(0,f.isAdornedStart)(t.props)&&(n.state.adornedStart=!0)}})),n}return(0,h.default)(t,e),(0,u.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.disabled&&t.focused?{focused:!1}:null}}]),(0,u.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.classes,i=t.className,s=t.component,l=t.disabled,c=t.error,u=t.fullWidth,h=t.margin,f=t.required,m=t.variant,y=(0,a.default)(t,["classes","className","component","disabled","error","fullWidth","margin","required","variant"]),v=this.state,x={adornedStart:v.adornedStart,disabled:l,error:c,filled:v.filled,focused:v.focused,margin:h,onBlur:this.handleBlur,onEmpty:this.handleClean,onFilled:this.handleDirty,onFocus:this.handleFocus,required:f,variant:m};return d.default.createElement(_.default.Provider,{value:x},d.default.createElement(s,(0,r.default)({className:(0,p.default)(n.root,(e={},(0,o.default)(e,n["margin".concat((0,g.capitalize)(h))],"none"!==h),(0,o.default)(e,n.fullWidth,u),e),i)},y)))}}]),t}(d.default.Component);x.defaultProps={component:"div",disabled:!1,error:!1,fullWidth:!1,margin:"none",required:!1,variant:"standard"};var b=(0,m.default)(v,{name:"MuiFormControl"})(x);t.default=b},function(e,t,n){"use strict";function i(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasValue=i,t.isFilled=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(i(e.value)&&""!==e.value||t&&i(e.defaultValue)&&""!==e.defaultValue)},t.isAdornedStart=function(e){return e.startAdornment}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.cloneElementWithClassName=a,t.cloneChildrenWithClassName=function(e,t){return r.default.Children.map(e,(function(e){return r.default.isValidElement(e)&&a(e,t)}))},t.isMuiElement=function(e,t){return r.default.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)},t.setRef=function(e,t){"function"==typeof e?e(t):e&&(e.current=t)};var r=i(n(1)),o=i(n(8));function a(e,t){return r.default.cloneElement(e,{className:(0,o.default)(e.props.className,t)})}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(195))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=(n(7),i(n(196))),u=i(n(39)),h=i(n(9)),d=function(e){return{root:{fontFamily:e.typography.fontFamily,color:e.palette.text.secondary,fontSize:e.typography.pxToRem(16),lineHeight:1,padding:0,"&$focused":{color:e.palette.primary["light"===e.palette.type?"dark":"light"]},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}};function p(e){var t,n=e.children,i=e.classes,u=e.className,h=e.component,d=(e.disabled,e.error,e.filled,e.focused,e.muiFormControl),p=(e.required,(0,a.default)(e,["children","classes","className","component","disabled","error","filled","focused","muiFormControl","required"])),f=(0,c.default)({props:e,muiFormControl:d,states:["required","focused","disabled","error","filled"]});return s.default.createElement(h,(0,r.default)({className:(0,l.default)(i.root,(t={},(0,o.default)(t,i.disabled,f.disabled),(0,o.default)(t,i.error,f.error),(0,o.default)(t,i.filled,f.filled),(0,o.default)(t,i.focused,f.focused),(0,o.default)(t,i.required,f.required),t),u)},p),n,f.required&&s.default.createElement("span",{className:(0,l.default)(i.asterisk,(0,o.default)({},i.error,f.error))},"â€‰*"))}t.styles=d,p.defaultProps={component:"label"};var f=(0,h.default)(d,{name:"MuiFormLabel"})((0,u.default)(p));t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.props,n=e.states,i=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],i&&void 0===t[n]&&(e[n]=i[n]),e}),{})}},function(e,t,n){var i=n(198);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(38)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(37)(!1)).push([e.i,".mapboxgl-map{-webkit-tap-highlight-color:rgb(0 0 0/0);font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative}.mapboxgl-canvas{left:0;position:absolute;top:0}.mapboxgl-map:-webkit-full-screen{height:100%;width:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-webkit-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.mapboxgl-ctrl-top-left{left:0;top:0}.mapboxgl-ctrl-top-right{right:0;top:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{bottom:0;right:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{float:left;margin:10px 0 0 10px}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{float:right;margin:10px 10px 0 0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{float:left;margin:0 0 10px 10px}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{float:right;margin:0 10px 10px 0}.mapboxgl-ctrl-group{background:#fff;border-radius:4px}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;overflow:hidden;padding:0;width:29px}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl-group button:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:only-child{border-radius:inherit}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='%23f00'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='%23f00'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='%23f00'/%3E%3C/svg%3E\")}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='clip'%3E%3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/mask%3E%3Cg id='outline' opacity='0.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E%3C/g%3E%3Cg id='fill' opacity='0.9' fill='%23fff'%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/g%3E%3C/svg%3E\");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='clip'%3E%3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/mask%3E%3Cg id='outline' opacity='1' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E%3C/g%3E%3Cg id='fill' opacity='1' fill='%23fff'%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='clip'%3E%3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/mask%3E%3Cg id='outline' opacity='1' stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E%3C/g%3E%3Cg id='fill' opacity='1' fill='%23000'%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/g%3E%3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{background-color:#fff;border-radius:12px;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{right:0;top:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{left:0;top:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px;white-space:nowrap}.mapboxgl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.mapboxgl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.mapboxgl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.mapboxgl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto;position:relative}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{left:0;opacity:1;position:absolute;top:0;transition:opacity .2s;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.mapboxgl-user-location-dot:before{animation:mapboxgl-user-location-dot-pulse 2s infinite;content:\"\";position:absolute}.mapboxgl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading{height:0;width:0}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after,.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-bottom:7.5px solid #4aa1eb;content:\"\";position:absolute}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-left:7.5px solid transparent;transform:translateY(-28px) skewY(-20deg)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after{border-right:7.5px solid transparent;transform:translate(7.5px,-28px) skewY(20deg)}@keyframes mapboxgl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}@media print{.mapbox-improve-map{display:none}}.mapboxgl-scroll-zoom-blocker,.mapboxgl-touch-pan-blocker{align-items:center;background:rgba(0,0,0,.7);color:#fff;display:flex;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;height:100%;justify-content:center;left:0;opacity:0;pointer-events:none;position:absolute;text-align:center;top:0;transition:opacity .75s ease-in-out;transition-delay:1s;width:100%}.mapboxgl-scroll-zoom-blocker-show,.mapboxgl-touch-pan-blocker-show{opacity:1;transition:opacity .1s ease-in-out}.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page,.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page .mapboxgl-canvas{touch-action:pan-x pan-y}",""])}]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLTc2YTY5MGViOThjODg5NzFmOWFkLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3ZlbmRvci03NmE2OTBlYjk4Yzg4OTcxZjlhZC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIod2luZG93LndlYnBhY2tKc29ucD13aW5kb3cud2VicGFja0pzb25wfHxbXSkucHVzaChbW1widmVuZG9yXCJdLFtmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1uKDY5KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7cmV0dXJuIGUuZXhwb3J0cz1uPU9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbi5iaW5kKCk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiYoZVtpXT1uW2ldKX1yZXR1cm4gZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfWUuZXhwb3J0cz1uLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDEyNSkoKX0sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oNzQpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4scixvPWkoZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihyPTA7cjxhLmxlbmd0aDtyKyspbj1hW3JdLHQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbikmJihvW25dPWVbbl0pfXJldHVybiBvfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKDQyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybih0PWkodCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7fTtlLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KTt2YXIgaT1uKDQ1KSxyPW4ubihpKTtuLmQodCxcImNvbXBvbmVudFByb3BUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHIuYX0pKTt2YXIgbz1uKDQ3KSxhPW4ubihvKTtuLmQodCxcImNoYWluUHJvcFR5cGVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYX0pKTt2YXIgcz1uKDQ4KSxsPW4ubihzKTtuLmQodCxcImV4YWN0UHJvcFwiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSk7dmFyIGM9big0OSksdT1uLm4oYyk7bi5kKHQsXCJnZXREaXNwbGF5TmFtZVwiLChmdW5jdGlvbigpe3JldHVybiB1LmF9KSk7dmFyIGg9big1MCksZD1uLm4oaCk7bi5kKHQsXCJwb255ZmlsbEdsb2JhbFwiLChmdW5jdGlvbigpe3JldHVybiBkLmF9KSl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgaTshZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTtmdW5jdGlvbiByKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1hcmd1bWVudHNbdF07aWYoaSl7dmFyIG89dHlwZW9mIGk7aWYoXCJzdHJpbmdcIj09PW98fFwibnVtYmVyXCI9PT1vKWUucHVzaChpKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkoaSkpe2lmKGkubGVuZ3RoKXt2YXIgYT1yLmFwcGx5KG51bGwsaSk7YSYmZS5wdXNoKGEpfX1lbHNlIGlmKFwib2JqZWN0XCI9PT1vKXtpZihpLnRvU3RyaW5nIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyYmIWkudG9TdHJpbmcudG9TdHJpbmcoKS5pbmNsdWRlcyhcIltuYXRpdmUgY29kZV1cIikpe2UucHVzaChpLnRvU3RyaW5nKCkpO2NvbnRpbnVlfWZvcih2YXIgcyBpbiBpKW4uY2FsbChpLHMpJiZpW3NdJiZlLnB1c2gocyl9fX1yZXR1cm4gZS5qb2luKFwiIFwiKX1lLmV4cG9ydHM/KHIuZGVmYXVsdD1yLGUuZXhwb3J0cz1yKTp2b2lkIDA9PT0oaT1mdW5jdGlvbigpe3JldHVybiByfS5hcHBseSh0LFtdKSl8fChlLmV4cG9ydHM9aSl9KCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnNoZWV0c01hbmFnZXI9dm9pZCAwO3ZhciByPWkobig1KSksbz1pKG4oMikpLGE9aShuKDEwKSkscz1pKG4oMTEpKSxsPWkobigxMikpLGM9aShuKDEzKSksdT1pKG4oMTQpKSxoPWkobig0KSksZD1pKG4oMSkpLHA9aShuKDMpKSxmPShpKG4oNikpLGkobigzNSkpKSxtPW4oNyksZz1uKDUyKSx5PWkobigxMjkpKSxfPWkobig1MSkpLHY9aShuKDEzMCkpLHg9aShuKDEzMSkpLGI9aShuKDI5KSksdz1pKG4oMzQpKSxUPWkobig0MSkpLEU9aShuKDEzMikpLFM9aShuKDEzMykpLE09KDAsZy5jcmVhdGUpKCgwLF8uZGVmYXVsdCkoKSksST0oMCxULmRlZmF1bHQpKCksQz0tMWUxMSxrPW5ldyBNYXA7dC5zaGVldHNNYW5hZ2VyPWs7dmFyIEE9e30sUD0oMCxiLmRlZmF1bHQpKHt0eXBvZ3JhcGh5OntzdXBwcmVzc1dhcm5pbmc6ITB9fSk7bS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfX3x8KG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX189e30pLG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFN0eWxlc3x8KG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFN0eWxlcz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpLG09dC53aXRoVGhlbWUsZz12b2lkIDAhPT1tJiZtLF89dC5mbGlwLGI9dm9pZCAwPT09Xz9udWxsOl8sVD10Lm5hbWUsej0oMCxoLmRlZmF1bHQpKHQsW1wid2l0aFRoZW1lXCIsXCJmbGlwXCIsXCJuYW1lXCJdKSxEPSgwLEUuZGVmYXVsdCkoZSksTD1ELnRoZW1pbmdFbmFibGVkfHxcInN0cmluZ1wiPT10eXBlb2YgVHx8ZztDKz0xLEQub3B0aW9ucy5pbmRleD1DO3ZhciBPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxuKXt2YXIgaTsoMCxhLmRlZmF1bHQpKHRoaXMsdCksKGk9KDAsbC5kZWZhdWx0KSh0aGlzLCgwLGMuZGVmYXVsdCkodCkuY2FsbCh0aGlzLGUsbikpKS5qc3M9blt5LmRlZmF1bHQuanNzXXx8TSxpLnNoZWV0c01hbmFnZXI9ayxpLnVuc3Vic2NyaWJlSWQ9bnVsbDt2YXIgcj1uLm11aVRoZW1lUHJvdmlkZXJPcHRpb25zO3JldHVybiByJiYoci5zaGVldHNNYW5hZ2VyJiYoaS5zaGVldHNNYW5hZ2VyPXIuc2hlZXRzTWFuYWdlciksaS5zaGVldHNDYWNoZT1yLnNoZWV0c0NhY2hlLGkuZGlzYWJsZVN0eWxlc0dlbmVyYXRpb249ci5kaXNhYmxlU3R5bGVzR2VuZXJhdGlvbiksaS5zdHlsZXNDcmVhdG9yU2F2ZWQ9RCxpLnNoZWV0T3B0aW9ucz0oMCxvLmRlZmF1bHQpKHtnZW5lcmF0ZUNsYXNzTmFtZTpJfSxuW3kuZGVmYXVsdC5zaGVldE9wdGlvbnNdKSxpLnRoZW1lPUw/dy5kZWZhdWx0LmluaXRpYWwobil8fFA6QSxpLmF0dGFjaChpLnRoZW1lKSxpLmNhY2hlQ2xhc3Nlcz17dmFsdWU6bnVsbCxsYXN0UHJvcDpudWxsLGxhc3RKU1M6e319LGl9cmV0dXJuKDAsdS5kZWZhdWx0KSh0LGUpLCgwLHMuZGVmYXVsdCkodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO0wmJih0aGlzLnVuc3Vic2NyaWJlSWQ9dy5kZWZhdWx0LnN1YnNjcmliZSh0aGlzLmNvbnRleHQsKGZ1bmN0aW9uKHQpe3ZhciBuPWUudGhlbWU7ZS50aGVtZT10LGUuYXR0YWNoKGUudGhlbWUpLGUuc2V0U3RhdGUoe30sKGZ1bmN0aW9uKCl7ZS5kZXRhY2gobil9KSl9KSkpfX0se2tleTpcImNvbXBvbmVudERpZFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWR9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGV0YWNoKHRoaXMudGhlbWUpLG51bGwhPT10aGlzLnVuc3Vic2NyaWJlSWQmJncuZGVmYXVsdC51bnN1YnNjcmliZSh0aGlzLmNvbnRleHQsdGhpcy51bnN1YnNjcmliZUlkKX19LHtrZXk6XCJnZXRDbGFzc2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmRpc2FibGVTdHlsZXNHZW5lcmF0aW9uKXJldHVybiB0aGlzLnByb3BzLmNsYXNzZXN8fHt9O3ZhciBlPSExLHQ9eC5kZWZhdWx0LmdldCh0aGlzLnNoZWV0c01hbmFnZXIsdGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQsdGhpcy50aGVtZSk7cmV0dXJuIHQuc2hlZXQuY2xhc3NlcyE9PXRoaXMuY2FjaGVDbGFzc2VzLmxhc3RKU1MmJih0aGlzLmNhY2hlQ2xhc3Nlcy5sYXN0SlNTPXQuc2hlZXQuY2xhc3NlcyxlPSEwKSx0aGlzLnByb3BzLmNsYXNzZXMhPT10aGlzLmNhY2hlQ2xhc3Nlcy5sYXN0UHJvcCYmKHRoaXMuY2FjaGVDbGFzc2VzLmxhc3RQcm9wPXRoaXMucHJvcHMuY2xhc3NlcyxlPSEwKSxlJiYodGhpcy5jYWNoZUNsYXNzZXMudmFsdWU9KDAsdi5kZWZhdWx0KSh7YmFzZUNsYXNzZXM6dGhpcy5jYWNoZUNsYXNzZXMubGFzdEpTUyxuZXdDbGFzc2VzOnRoaXMucHJvcHMuY2xhc3NlcyxDb21wb25lbnQ6bn0pKSx0aGlzLmNhY2hlQ2xhc3Nlcy52YWx1ZX19LHtrZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5kaXNhYmxlU3R5bGVzR2VuZXJhdGlvbil7dmFyIHQ9dGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQsbj14LmRlZmF1bHQuZ2V0KHRoaXMuc2hlZXRzTWFuYWdlcix0LGUpO2lmKG58fChuPXtyZWZzOjAsc2hlZXQ6bnVsbH0seC5kZWZhdWx0LnNldCh0aGlzLnNoZWV0c01hbmFnZXIsdCxlLG4pKSwwPT09bi5yZWZzKXt2YXIgaTt0aGlzLnNoZWV0c0NhY2hlJiYoaT14LmRlZmF1bHQuZ2V0KHRoaXMuc2hlZXRzQ2FjaGUsdCxlKSksaXx8KChpPXRoaXMuY3JlYXRlU2hlZXQoZSkpLmF0dGFjaCgpLHRoaXMuc2hlZXRzQ2FjaGUmJnguZGVmYXVsdC5zZXQodGhpcy5zaGVldHNDYWNoZSx0LGUsaSkpLG4uc2hlZXQ9aTt2YXIgcj10aGlzLmNvbnRleHRbeS5kZWZhdWx0LnNoZWV0c1JlZ2lzdHJ5XTtyJiZyLmFkZChpKX1uLnJlZnMrPTF9fX0se2tleTpcImNyZWF0ZVNoZWV0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQuY3JlYXRlKGUsVCksaT1UO3JldHVybiB0aGlzLmpzcy5jcmVhdGVTdHlsZVNoZWV0KHQsKDAsby5kZWZhdWx0KSh7bWV0YTppLGNsYXNzTmFtZVByZWZpeDppLGZsaXA6XCJib29sZWFuXCI9PXR5cGVvZiBiP2I6XCJydGxcIj09PWUuZGlyZWN0aW9uLGxpbms6ITF9LHRoaXMuc2hlZXRPcHRpb25zLHRoaXMuc3R5bGVzQ3JlYXRvclNhdmVkLm9wdGlvbnMse25hbWU6VHx8bi5kaXNwbGF5TmFtZX0seikpfX0se2tleTpcImRldGFjaFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmRpc2FibGVTdHlsZXNHZW5lcmF0aW9uKXt2YXIgdD14LmRlZmF1bHQuZ2V0KHRoaXMuc2hlZXRzTWFuYWdlcix0aGlzLnN0eWxlc0NyZWF0b3JTYXZlZCxlKTtpZih0LnJlZnMtPTEsMD09PXQucmVmcyl7eC5kZWZhdWx0LmRlbGV0ZSh0aGlzLnNoZWV0c01hbmFnZXIsdGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQsZSksdGhpcy5qc3MucmVtb3ZlU3R5bGVTaGVldCh0LnNoZWV0KTt2YXIgbj10aGlzLmNvbnRleHRbeS5kZWZhdWx0LnNoZWV0c1JlZ2lzdHJ5XTtuJiZuLnJlbW92ZSh0LnNoZWV0KX19fX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PShlLmNsYXNzZXMsZS5pbm5lclJlZiksaT0oMCxoLmRlZmF1bHQpKGUsW1wiY2xhc3Nlc1wiLFwiaW5uZXJSZWZcIl0pLHI9KDAsUy5kZWZhdWx0KSh7dGhlbWU6dGhpcy50aGVtZSxuYW1lOlQscHJvcHM6aX0pO3JldHVybiBnJiYhci50aGVtZSYmKHIudGhlbWU9dGhpcy50aGVtZSksZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQobiwoMCxvLmRlZmF1bHQpKHt9LHIse2NsYXNzZXM6dGhpcy5nZXRDbGFzc2VzKCkscmVmOnR9KSl9fV0pLHR9KGQuZGVmYXVsdC5Db21wb25lbnQpO3JldHVybiBPLmNvbnRleHRUeXBlcz0oMCxvLmRlZmF1bHQpKChpPXttdWlUaGVtZVByb3ZpZGVyT3B0aW9uczpwLmRlZmF1bHQub2JqZWN0fSwoMCxyLmRlZmF1bHQpKGkseS5kZWZhdWx0LmpzcyxwLmRlZmF1bHQub2JqZWN0KSwoMCxyLmRlZmF1bHQpKGkseS5kZWZhdWx0LnNoZWV0T3B0aW9ucyxwLmRlZmF1bHQub2JqZWN0KSwoMCxyLmRlZmF1bHQpKGkseS5kZWZhdWx0LnNoZWV0c1JlZ2lzdHJ5LHAuZGVmYXVsdC5vYmplY3QpLGkpLEw/dy5kZWZhdWx0LmNvbnRleHRUeXBlczp7fSksKDAsZi5kZWZhdWx0KShPLG4pLE99fSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFN0eWxlcyhlLCgwLG8uZGVmYXVsdCkoe2RlZmF1bHRUaGVtZTpQfSx0KSl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oNDIpO2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaShyLmtleSkscil9fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQmJnIoZS5wcm90b3R5cGUsdCksbiYmcihlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7dmFyIGk9bigxNSkuZGVmYXVsdCxyPW4oMzMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKHQmJihcIm9iamVjdFwiPT09aSh0KXx8XCJmdW5jdGlvblwiPT10eXBlb2YgdCkpcmV0dXJuIHQ7aWYodm9pZCAwIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIHIoZSl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKHQpe3JldHVybiBlLmV4cG9ydHM9bj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLG4odCl9ZS5leHBvcnRzPW4sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7dmFyIGk9big1OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHQmJmkoZSx0KX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIGUuZXhwb3J0cz1uPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0cyxuKHQpfWUuZXhwb3J0cz1uLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jYXBpdGFsaXplPWZ1bmN0aW9uKGUpezA7cmV0dXJuIGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKX0sdC5jb250YWlucz1vLHQuZmluZEluZGV4PWEsdC5maW5kPWZ1bmN0aW9uKGUsdCl7dmFyIG49YShlLHQpO3JldHVybiBuPi0xP2Vbbl06dm9pZCAwfSx0LmNyZWF0ZUNoYWluZWRGdW5jdGlvbj1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09dD9lOmZ1bmN0aW9uKCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkobikscj0wO3I8bjtyKyspaVtyXT1hcmd1bWVudHNbcl07ZS5hcHBseSh0aGlzLGkpLHQuYXBwbHkodGhpcyxpKX19KSwoZnVuY3Rpb24oKXt9KSl9O3ZhciByPWkobigxNSkpO2kobig2KSk7ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBPYmplY3Qua2V5cyh0KS5ldmVyeSgoZnVuY3Rpb24obil7cmV0dXJuIGUuaGFzT3duUHJvcGVydHkobikmJmVbbl09PT10W25dfSkpfWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIG49KDAsci5kZWZhdWx0KSh0KSxpPTA7aTxlLmxlbmd0aDtpKz0xKXtpZihcImZ1bmN0aW9uXCI9PT1uJiYhMD09ISF0KGVbaV0saSxlKSlyZXR1cm4gaTtpZihcIm9iamVjdFwiPT09biYmbyhlW2ldLHQpKXJldHVybiBpO2lmKC0xIT09W1wic3RyaW5nXCIsXCJudW1iZXJcIixcImJvb2xlYW5cIl0uaW5kZXhPZihuKSlyZXR1cm4gZS5pbmRleE9mKHQpfXJldHVybi0xfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbigpe319LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciBpIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4saSkmJihlW2ldPW5baV0pfXJldHVybiBlfSxyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxhPWMobigxNykpLHM9YyhuKDMwKSksbD1jKG4oMjMpKTtmdW5jdGlvbiBjKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLGkpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy50eXBlPVwic3R5bGVcIix0aGlzLmlzUHJvY2Vzc2VkPSExO3ZhciByPWkuc2hlZXQsbz1pLlJlbmRlcmVyLGE9aS5zZWxlY3Rvcjt0aGlzLmtleT10LHRoaXMub3B0aW9ucz1pLHRoaXMuc3R5bGU9bixhJiYodGhpcy5zZWxlY3RvclRleHQ9YSksdGhpcy5yZW5kZXJlcj1yP3IucmVuZGVyZXI6bmV3IG99cmV0dXJuIG8oZSxbe2tleTpcInByb3BcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuc3R5bGVbZV07aWYodGhpcy5zdHlsZVtlXT09PXQpcmV0dXJuIHRoaXM7dmFyIG49bnVsbD09KHQ9dGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zLm9uQ2hhbmdlVmFsdWUodCxlLHRoaXMpKXx8ITE9PT10LGk9ZSBpbiB0aGlzLnN0eWxlO2lmKG4mJiFpKXJldHVybiB0aGlzO3ZhciByPW4mJmk7aWYocj9kZWxldGUgdGhpcy5zdHlsZVtlXTp0aGlzLnN0eWxlW2VdPXQsdGhpcy5yZW5kZXJhYmxlKXJldHVybiByP3RoaXMucmVuZGVyZXIucmVtb3ZlUHJvcGVydHkodGhpcy5yZW5kZXJhYmxlLGUpOnRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5yZW5kZXJhYmxlLGUsdCksdGhpczt2YXIgbz10aGlzLm9wdGlvbnMuc2hlZXQ7cmV0dXJuIG8mJm8uYXR0YWNoZWQmJigwLGEuZGVmYXVsdCkoITEsJ1J1bGUgaXMgbm90IGxpbmtlZC4gTWlzc2luZyBzaGVldCBvcHRpb24gXCJsaW5rOiB0cnVlXCIuJyksdGhpc319LHtrZXk6XCJhcHBseVRvXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50b0pTT04oKTtmb3IodmFyIG4gaW4gdCl0aGlzLnJlbmRlcmVyLnNldFByb3BlcnR5KGUsbix0W25dKTtyZXR1cm4gdGhpc319LHtrZXk6XCJ0b0pTT05cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXt9O2Zvcih2YXIgdCBpbiB0aGlzLnN0eWxlKXt2YXIgbj10aGlzLnN0eWxlW3RdO1wib2JqZWN0XCIhPT0odm9pZCAwPT09bj9cInVuZGVmaW5lZFwiOnIobikpP2VbdF09bjpBcnJheS5pc0FycmF5KG4pJiYoZVt0XT0oMCxsLmRlZmF1bHQpKG4pKX1yZXR1cm4gZX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub3B0aW9ucy5zaGVldCxuPSEhdCYmdC5vcHRpb25zLmxpbms/aSh7fSxlLHthbGxvd0VtcHR5OiEwfSk6ZTtyZXR1cm4oMCxzLmRlZmF1bHQpKHRoaXMuc2VsZWN0b3IsdGhpcy5zdHlsZSxuKX19LHtrZXk6XCJzZWxlY3RvclwiLHNldDpmdW5jdGlvbihlKXtpZihlIT09dGhpcy5zZWxlY3RvclRleHQmJih0aGlzLnNlbGVjdG9yVGV4dD1lLHRoaXMucmVuZGVyYWJsZSYmIXRoaXMucmVuZGVyZXIuc2V0U2VsZWN0b3IodGhpcy5yZW5kZXJhYmxlLGUpJiZ0aGlzLnJlbmRlcmFibGUpKXt2YXIgdD10aGlzLnJlbmRlcmVyLnJlcGxhY2VSdWxlKHRoaXMucmVuZGVyYWJsZSx0aGlzKTt0JiYodGhpcy5yZW5kZXJhYmxlPXQpfX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0b3JUZXh0fX1dKSxlfSgpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uIGUoKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UpezA7dHJ5e19fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRShlKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpfX19KCksZS5leHBvcnRzPW4oNzApfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiYoZVtpXT1uW2ldKX1yZXR1cm4gZX0scj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89YyhuKDI0KSksYT1jKG4oNTUpKSxzPWMobigxOCkpLGw9YyhuKDk3KSk7ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXRoaXM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLm1hcD17fSx0aGlzLnJhdz17fSx0aGlzLmluZGV4PVtdLHRoaXMudXBkYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIGk9bi5vcHRpb25zLHI9aS5qc3MucGx1Z2lucyxvPWkuc2hlZXQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpci5vblVwZGF0ZSh0LG4uZ2V0KGUpLG8pO2Vsc2UgZm9yKHZhciBhPTA7YTxuLmluZGV4Lmxlbmd0aDthKyspci5vblVwZGF0ZShlLG4uaW5kZXhbYV0sbyl9LHRoaXMub3B0aW9ucz10LHRoaXMuY2xhc3Nlcz10LmNsYXNzZXN9cmV0dXJuIHIoZSxbe2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLm9wdGlvbnMsYT1yLnBhcmVudCxjPXIuc2hlZXQsdT1yLmpzcyxoPXIuUmVuZGVyZXIsZD1yLmdlbmVyYXRlQ2xhc3NOYW1lOyEobj1pKHtjbGFzc2VzOnRoaXMuY2xhc3NlcyxwYXJlbnQ6YSxzaGVldDpjLGpzczp1LFJlbmRlcmVyOmgsZ2VuZXJhdGVDbGFzc05hbWU6ZH0sbikpLnNlbGVjdG9yJiZ0aGlzLmNsYXNzZXNbZV0mJihuLnNlbGVjdG9yPVwiLlwiKygwLGwuZGVmYXVsdCkodGhpcy5jbGFzc2VzW2VdKSksdGhpcy5yYXdbZV09dDt2YXIgcD0oMCxvLmRlZmF1bHQpKGUsdCxuKSxmPXZvaWQgMDshbi5zZWxlY3RvciYmcCBpbnN0YW5jZW9mIHMuZGVmYXVsdCYmKGY9ZChwLGMpLHAuc2VsZWN0b3I9XCIuXCIrKDAsbC5kZWZhdWx0KShmKSksdGhpcy5yZWdpc3RlcihwLGYpO3ZhciBtPXZvaWQgMD09PW4uaW5kZXg/dGhpcy5pbmRleC5sZW5ndGg6bi5pbmRleDtyZXR1cm4gdGhpcy5pbmRleC5zcGxpY2UobSwwLHApLHB9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWFwW2VdfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudW5yZWdpc3RlcihlKSx0aGlzLmluZGV4LnNwbGljZSh0aGlzLmluZGV4T2YoZSksMSl9fSx7a2V5OlwiaW5kZXhPZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluZGV4LmluZGV4T2YoZSl9fSx7a2V5OlwicHJvY2Vzc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zO3RoaXMuaW5kZXguc2xpY2UoMCkuZm9yRWFjaChlLm9uUHJvY2Vzc1J1bGUsZSl9fSx7a2V5OlwicmVnaXN0ZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubWFwW2Uua2V5XT1lLGUgaW5zdGFuY2VvZiBzLmRlZmF1bHQmJih0aGlzLm1hcFtlLnNlbGVjdG9yXT1lLHQmJih0aGlzLmNsYXNzZXNbZS5rZXldPXQpKX19LHtrZXk6XCJ1bnJlZ2lzdGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMubWFwW2Uua2V5XSxlIGluc3RhbmNlb2Ygcy5kZWZhdWx0JiYoZGVsZXRlIHRoaXMubWFwW2Uuc2VsZWN0b3JdLGRlbGV0ZSB0aGlzLmNsYXNzZXNbZS5rZXldKX19LHtrZXk6XCJsaW5rXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMub3B0aW9ucy5zaGVldC5yZW5kZXJlci5nZXRVbmVzY2FwZWRLZXlzTWFwKHRoaXMuaW5kZXgpLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXSxyPXRoaXMub3B0aW9ucy5zaGVldC5yZW5kZXJlci5nZXRLZXkoaSk7dFtyXSYmKHI9dFtyXSk7dmFyIG89dGhpcy5tYXBbcl07byYmKDAsYS5kZWZhdWx0KShvLGkpfX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLG49dGhpcy5vcHRpb25zLnNoZWV0LGk9ISFuJiZuLm9wdGlvbnMubGluayxyPTA7cjx0aGlzLmluZGV4Lmxlbmd0aDtyKyspe3ZhciBvPXRoaXMuaW5kZXhbcl0udG9TdHJpbmcoZSk7KG98fGkpJiYodCYmKHQrPVwiXFxuXCIpLHQrPW8pfXJldHVybiB0fX1dKSxlfSgpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZU11aVRoZW1lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImpzc1ByZXNldFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJNdWlUaGVtZVByb3ZpZGVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZVN0eWxlc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ3aXRoU3R5bGVzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIndpdGhUaGVtZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1LmRlZmF1bHR9fSk7dmFyIHI9aShuKDQxKSksbz1pKG4oMjkpKSxhPWkobig1MSkpLHM9aShuKDEyMykpLGw9aShuKDEyOCkpLGM9aShuKDkpKSx1PWkobigxMzQpKX0sZnVuY3Rpb24oZSx0LG4peyFmdW5jdGlvbih0LG4pe2UuZXhwb3J0cz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hIWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfShlKSYmIWZ1bmN0aW9uKGUpe3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKTtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09bnx8XCJbb2JqZWN0IERhdGVdXCI9PT1ufHxmdW5jdGlvbihlKXtyZXR1cm4gZS4kJHR5cGVvZj09PXR9KGUpfShlKX07dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzO2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4hMSE9PXQuY2xvbmUmJnQuaXNNZXJnZWFibGVPYmplY3QoZSk/YShmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9bXTp7fX0oZSksZSx0KTplfWZ1bmN0aW9uIGkoZSx0LGkpe3JldHVybiBlLmNvbmNhdCh0KS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsaSl9KSl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuY29uY2F0KGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP09iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSh0KX0pKTpbXX0oZSkpfWZ1bmN0aW9uIG8oZSx0LGkpe3ZhciBvPXt9O3JldHVybiBpLmlzTWVyZ2VhYmxlT2JqZWN0KGUpJiZyKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe29bdF09bihlW3RdLGkpfSkpLHIodCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7aS5pc01lcmdlYWJsZU9iamVjdCh0W3JdKSYmZVtyXT9vW3JdPWZ1bmN0aW9uKGUsdCl7aWYoIXQuY3VzdG9tTWVyZ2UpcmV0dXJuIGE7dmFyIG49dC5jdXN0b21NZXJnZShlKTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP246YX0ocixpKShlW3JdLHRbcl0saSk6b1tyXT1uKHRbcl0saSl9KSksb31mdW5jdGlvbiBhKHQscixhKXsoYT1hfHx7fSkuYXJyYXlNZXJnZT1hLmFycmF5TWVyZ2V8fGksYS5pc01lcmdlYWJsZU9iamVjdD1hLmlzTWVyZ2VhYmxlT2JqZWN0fHxlO3ZhciBzPUFycmF5LmlzQXJyYXkocik7cmV0dXJuIHM9PT1BcnJheS5pc0FycmF5KHQpP3M/YS5hcnJheU1lcmdlKHQscixhKTpvKHQscixhKTpuKHIsYSl9cmV0dXJuIGEuYWxsPWZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKFwiZmlyc3QgYXJndW1lbnQgc2hvdWxkIGJlIGFuIGFycmF5XCIpO3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gYShlLG4sdCl9KSx7fSl9LGF9KCl9KCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTt2YXIgbj1cIlwiO2lmKEFycmF5LmlzQXJyYXkoZVswXSkpZm9yKHZhciByPTA7cjxlLmxlbmd0aCYmXCIhaW1wb3J0YW50XCIhPT1lW3JdO3IrKyluJiYobis9XCIsIFwiKSxuKz1pKGVbcl0sXCIgXCIpO2Vsc2Ugbj1pKGUsXCIsIFwiKTt0fHxcIiFpbXBvcnRhbnRcIiE9PWVbZS5sZW5ndGgtMV18fChuKz1cIiAhaW1wb3J0YW50XCIpO3JldHVybiBufTt2YXIgaT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1cIlwiLGk9MDtpPGUubGVuZ3RoJiZcIiFpbXBvcnRhbnRcIiE9PWVbaV07aSsrKW4mJihuKz10KSxuKz1lW2ldO3JldHVybiBufX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcInVubmFtZWRcIix0PWFyZ3VtZW50c1sxXSxuPWFyZ3VtZW50c1syXSxhPW4uanNzLHM9KDAsby5kZWZhdWx0KSh0KSxsPWEucGx1Z2lucy5vbkNyZWF0ZVJ1bGUoZSxzLG4pO2lmKGwpcmV0dXJuIGw7XCJAXCI9PT1lWzBdJiYoMCxpLmRlZmF1bHQpKCExLFwiW0pTU10gVW5rbm93biBhdC1ydWxlICVzXCIsZSk7cmV0dXJuIG5ldyByLmRlZmF1bHQoZSxzLG4pfTt2YXIgaT1hKG4oMTcpKSxyPWEobigxOCkpLG89YShuKDk0KSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKGUpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCksbi5kKHQsXCJpc0Jyb3dzZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKTt2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxyPVwib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz9cInVuZGVmaW5lZFwiOmkod2luZG93KSkmJlwib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50P1widW5kZWZpbmVkXCI6aShkb2N1bWVudCkpJiY5PT09ZG9jdW1lbnQubm9kZVR5cGU7dC5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmRlZmF1bHR9fSk7dmFyIHI9aShuKDEzNykpfSwsZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDtpKG4oNSkpO3ZhciByPWkobigyKSksbz1pKG4oNCkpLGE9aShuKDIyKSkscz1pKG4oNzUpKSxsPShpKG4oNikpLGkobig3NykpKSxjPWkobig3OCkpLHU9aShuKDc5KSksaD1pKG4oODQpKSxkPWkobig4NikpLHA9aShuKDg3KSksZj1pKG4oODgpKSxtPWkobig4OSkpLGc9aShuKDkwKSk7dmFyIHk9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmJyZWFrcG9pbnRzLG49dm9pZCAwPT09dD97fTp0LGk9ZS5taXhpbnMseT12b2lkIDA9PT1pP3t9OmksXz1lLnBhbGV0dGUsdj12b2lkIDA9PT1fP3t9Ol8seD1lLnNoYWRvd3MsYj1lLnNwYWNpbmcsdz12b2lkIDA9PT1iP3t9OmIsVD1lLnR5cG9ncmFwaHksRT12b2lkIDA9PT1UP3t9OlQsUz0oMCxvLmRlZmF1bHQpKGUsW1wiYnJlYWtwb2ludHNcIixcIm1peGluc1wiLFwicGFsZXR0ZVwiLFwic2hhZG93c1wiLFwic3BhY2luZ1wiLFwidHlwb2dyYXBoeVwiXSksTT0oMCx1LmRlZmF1bHQpKHYpLEk9KDAsbC5kZWZhdWx0KShuKSxDPSgwLHIuZGVmYXVsdCkoe30sZi5kZWZhdWx0LHcpLGs9KDAsci5kZWZhdWx0KSh7YnJlYWtwb2ludHM6SSxkaXJlY3Rpb246XCJsdHJcIixtaXhpbnM6KDAsYy5kZWZhdWx0KShJLEMseSksb3ZlcnJpZGVzOnt9LHBhbGV0dGU6TSxwcm9wczp7fSxzaGFkb3dzOnh8fGQuZGVmYXVsdCx0eXBvZ3JhcGh5OigwLGguZGVmYXVsdCkoTSxFKX0sKDAsYS5kZWZhdWx0KSh7c2hhcGU6cC5kZWZhdWx0LHNwYWNpbmc6Qyx0cmFuc2l0aW9uczptLmRlZmF1bHQsekluZGV4OmcuZGVmYXVsdH0sUyx7aXNNZXJnZWFibGVPYmplY3Q6cy5kZWZhdWx0fSkpO3JldHVybiBrfTt0LmRlZmF1bHQ9eX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxvPVwiXCI7aWYoIXQpcmV0dXJuIG87dmFyIGE9bi5pbmRlbnQscz12b2lkIDA9PT1hPzA6YSxsPXQuZmFsbGJhY2tzO2lmKHMrKyxsKWlmKEFycmF5LmlzQXJyYXkobCkpZm9yKHZhciBjPTA7YzxsLmxlbmd0aDtjKyspe3ZhciB1PWxbY107Zm9yKHZhciBoIGluIHUpe3ZhciBkPXVbaF07bnVsbCE9ZCYmKG8rPVwiXFxuXCIrcihoK1wiOiBcIisoMCxpLmRlZmF1bHQpKGQpK1wiO1wiLHMpKX19ZWxzZSBmb3IodmFyIHAgaW4gbCl7dmFyIGY9bFtwXTtudWxsIT1mJiYobys9XCJcXG5cIityKHArXCI6IFwiKygwLGkuZGVmYXVsdCkoZikrXCI7XCIscykpfWZvcih2YXIgbSBpbiB0KXt2YXIgZz10W21dO251bGwhPWcmJlwiZmFsbGJhY2tzXCIhPT1tJiYobys9XCJcXG5cIityKG0rXCI6IFwiKygwLGkuZGVmYXVsdCkoZykrXCI7XCIscykpfXJldHVybiBvfHxuLmFsbG93RW1wdHk/KHMtLSxvPXIoZStcIiB7XCIrbytcIlxcblwiLHMpK3IoXCJ9XCIscykpOm99O3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigyMykpO2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIG49XCJcIixpPTA7aTx0O2krKyluKz1cIiAgXCI7cmV0dXJuIG4rZX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4oNTMpKTt0LmRlZmF1bHQ9bmV3IGkuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPVwiXCIscj1cIlwiO2lmKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigyNikpLmRlZmF1bHQpe3ZhciBvPXtNb3o6XCItbW96LVwiLG1zOlwiLW1zLVwiLE86XCItby1cIixXZWJraXQ6XCItd2Via2l0LVwifSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpLnN0eWxlO2Zvcih2YXIgcyBpbiBvKWlmKHMrXCJUcmFuc2Zvcm1cImluIGEpe2k9cyxyPW9bc107YnJlYWt9fXQuZGVmYXVsdD17anM6aSxjc3M6cn19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LkNIQU5ORUw9dm9pZCAwO3ZhciByPWkobig1KSksbz1cIl9fVEhFTUlOR19fXCI7dC5DSEFOTkVMPW87dmFyIGE9e2NvbnRleHRUeXBlczooMCxyLmRlZmF1bHQpKHt9LG8sKGZ1bmN0aW9uKCl7fSkpLGluaXRpYWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbb10/ZVtvXS5nZXRTdGF0ZSgpOm51bGx9LHN1YnNjcmliZTpmdW5jdGlvbihlLHQpe3JldHVybiBlW29dP2Vbb10uc3Vic2NyaWJlKHQpOm51bGx9LHVuc3Vic2NyaWJlOmZ1bmN0aW9uKGUsdCl7ZVtvXSYmZVtvXS51bnN1YnNjcmliZSh0KX19O3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9big0Nikscj17Y2hpbGRDb250ZXh0VHlwZXM6ITAsY29udGV4dFR5cGU6ITAsY29udGV4dFR5cGVzOiEwLGRlZmF1bHRQcm9wczohMCxkaXNwbGF5TmFtZTohMCxnZXREZWZhdWx0UHJvcHM6ITAsZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yOiEwLGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczohMCxtaXhpbnM6ITAscHJvcFR5cGVzOiEwLHR5cGU6ITB9LG89e25hbWU6ITAsbGVuZ3RoOiEwLHByb3RvdHlwZTohMCxjYWxsZXI6ITAsY2FsbGVlOiEwLGFyZ3VtZW50czohMCxhcml0eTohMH0sYT17JCR0eXBlb2Y6ITAsY29tcGFyZTohMCxkZWZhdWx0UHJvcHM6ITAsZGlzcGxheU5hbWU6ITAscHJvcFR5cGVzOiEwLHR5cGU6ITB9LHM9e307ZnVuY3Rpb24gbChlKXtyZXR1cm4gaS5pc01lbW8oZSk/YTpzW2UuJCR0eXBlb2ZdfHxyfXNbaS5Gb3J3YXJkUmVmXT17JCR0eXBlb2Y6ITAscmVuZGVyOiEwLGRlZmF1bHRQcm9wczohMCxkaXNwbGF5TmFtZTohMCxwcm9wVHlwZXM6ITB9LHNbaS5NZW1vXT1hO3ZhciBjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLGg9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IscD1PYmplY3QuZ2V0UHJvdG90eXBlT2YsZj1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbiBlKHQsbixpKXtpZihcInN0cmluZ1wiIT10eXBlb2Ygbil7aWYoZil7dmFyIHI9cChuKTtyJiZyIT09ZiYmZSh0LHIsaSl9dmFyIGE9dShuKTtoJiYoYT1hLmNvbmNhdChoKG4pKSk7Zm9yKHZhciBzPWwodCksbT1sKG4pLGc9MDtnPGEubGVuZ3RoOysrZyl7dmFyIHk9YVtnXTtpZighKG9beV18fGkmJmlbeV18fG0mJm1beV18fHMmJnNbeV0pKXt2YXIgXz1kKG4seSk7dHJ5e2ModCx5LF8pfWNhdGNoKGUpe319fX1yZXR1cm4gdH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmRlZmF1bHR9fSk7dmFyIHI9aShuKDE0NSkpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcCgoZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgbj1lWzFdfHxcIlwiLGk9ZVszXTtpZighaSlyZXR1cm4gbjtpZih0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hKXt2YXIgcj1mdW5jdGlvbihlKXtyZXR1cm5cIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShlKSkpKStcIiAqL1wifShpKSxvPWkuc291cmNlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIitpLnNvdXJjZVJvb3QrZStcIiAqL1wifSkpO3JldHVybltuXS5jb25jYXQobykuY29uY2F0KFtyXSkuam9pbihcIlxcblwiKX1yZXR1cm5bbl0uam9pbihcIlxcblwiKX0odCxlKTtyZXR1cm4gdFsyXT9cIkBtZWRpYSBcIit0WzJdK1wie1wiK24rXCJ9XCI6bn0pKS5qb2luKFwiXCIpfSx0Lmk9ZnVuY3Rpb24oZSxuKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9W1tudWxsLGUsXCJcIl1dKTtmb3IodmFyIGk9e30scj0wO3I8dGhpcy5sZW5ndGg7cisrKXt2YXIgbz10aGlzW3JdWzBdO1wibnVtYmVyXCI9PXR5cGVvZiBvJiYoaVtvXT0hMCl9Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGE9ZVtyXTtcIm51bWJlclwiPT10eXBlb2YgYVswXSYmaVthWzBdXXx8KG4mJiFhWzJdP2FbMl09bjpuJiYoYVsyXT1cIihcIithWzJdK1wiKSBhbmQgKFwiK24rXCIpXCIpLHQucHVzaChhKSl9fSx0fX0sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXt9LHI9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKSx0fX0oKGZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdyYmZG9jdW1lbnQmJmRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9ifSkpLG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD90LnF1ZXJ5U2VsZWN0b3IoZSk6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKX0sYT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBlKCk7aWYodm9pZCAwPT09dFtlXSl7dmFyIGk9by5jYWxsKHRoaXMsZSxuKTtpZih3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQmJmkgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpdHJ5e2k9aS5jb250ZW50RG9jdW1lbnQuaGVhZH1jYXRjaChlKXtpPW51bGx9dFtlXT1pfXJldHVybiB0W2VdfX0oKSxzPW51bGwsbD0wLGM9W10sdT1uKDE1MCk7ZnVuY3Rpb24gaChlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dLG89aVtyLmlkXTtpZihvKXtvLnJlZnMrKztmb3IodmFyIGE9MDthPG8ucGFydHMubGVuZ3RoO2ErKylvLnBhcnRzW2FdKHIucGFydHNbYV0pO2Zvcig7YTxyLnBhcnRzLmxlbmd0aDthKyspby5wYXJ0cy5wdXNoKHkoci5wYXJ0c1thXSx0KSl9ZWxzZXt2YXIgcz1bXTtmb3IoYT0wO2E8ci5wYXJ0cy5sZW5ndGg7YSsrKXMucHVzaCh5KHIucGFydHNbYV0sdCkpO2lbci5pZF09e2lkOnIuaWQscmVmczoxLHBhcnRzOnN9fX19ZnVuY3Rpb24gZChlLHQpe2Zvcih2YXIgbj1bXSxpPXt9LHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXSxhPXQuYmFzZT9vWzBdK3QuYmFzZTpvWzBdLHM9e2NzczpvWzFdLG1lZGlhOm9bMl0sc291cmNlTWFwOm9bM119O2lbYV0/aVthXS5wYXJ0cy5wdXNoKHMpOm4ucHVzaChpW2FdPXtpZDphLHBhcnRzOltzXX0pfXJldHVybiBufWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj1hKGUuaW5zZXJ0SW50byk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7dmFyIGk9Y1tjLmxlbmd0aC0xXTtpZihcInRvcFwiPT09ZS5pbnNlcnRBdClpP2kubmV4dFNpYmxpbmc/bi5pbnNlcnRCZWZvcmUodCxpLm5leHRTaWJsaW5nKTpuLmFwcGVuZENoaWxkKHQpOm4uaW5zZXJ0QmVmb3JlKHQsbi5maXJzdENoaWxkKSxjLnB1c2godCk7ZWxzZSBpZihcImJvdHRvbVwiPT09ZS5pbnNlcnRBdCluLmFwcGVuZENoaWxkKHQpO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuaW5zZXJ0QXR8fCFlLmluc2VydEF0LmJlZm9yZSl0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTt2YXIgcj1hKGUuaW5zZXJ0QXQuYmVmb3JlLG4pO24uaW5zZXJ0QmVmb3JlKHQscil9fWZ1bmN0aW9uIGYoZSl7aWYobnVsbD09PWUucGFyZW50Tm9kZSlyZXR1cm4hMTtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7dmFyIHQ9Yy5pbmRleE9mKGUpO3Q+PTAmJmMuc3BsaWNlKHQsMSl9ZnVuY3Rpb24gbShlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7aWYodm9pZCAwPT09ZS5hdHRycy50eXBlJiYoZS5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksdm9pZCAwPT09ZS5hdHRycy5ub25jZSl7dmFyIGk9ZnVuY3Rpb24oKXswO3JldHVybiBuLm5jfSgpO2kmJihlLmF0dHJzLm5vbmNlPWkpfXJldHVybiBnKHQsZS5hdHRycykscChlLHQpLHR9ZnVuY3Rpb24gZyhlLHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Uuc2V0QXR0cmlidXRlKG4sdFtuXSl9KSl9ZnVuY3Rpb24geShlLHQpe3ZhciBuLGkscixvO2lmKHQudHJhbnNmb3JtJiZlLmNzcyl7aWYoIShvPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQudHJhbnNmb3JtP3QudHJhbnNmb3JtKGUuY3NzKTp0LnRyYW5zZm9ybS5kZWZhdWx0KGUuY3NzKSkpcmV0dXJuIGZ1bmN0aW9uKCl7fTtlLmNzcz1vfWlmKHQuc2luZ2xldG9uKXt2YXIgYT1sKys7bj1zfHwocz1tKHQpKSxpPXYuYmluZChudWxsLG4sYSwhMSkscj12LmJpbmQobnVsbCxuLGEsITApfWVsc2UgZS5zb3VyY2VNYXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYT8obj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtyZXR1cm4gdm9pZCAwPT09ZS5hdHRycy50eXBlJiYoZS5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksZS5hdHRycy5yZWw9XCJzdHlsZXNoZWV0XCIsZyh0LGUuYXR0cnMpLHAoZSx0KSx0fSh0KSxpPWIuYmluZChudWxsLG4sdCkscj1mdW5jdGlvbigpe2Yobiksbi5ocmVmJiZVUkwucmV2b2tlT2JqZWN0VVJMKG4uaHJlZil9KToobj1tKHQpLGk9eC5iaW5kKG51bGwsbikscj1mdW5jdGlvbigpe2Yobil9KTtyZXR1cm4gaShlKSxmdW5jdGlvbih0KXtpZih0KXtpZih0LmNzcz09PWUuY3NzJiZ0Lm1lZGlhPT09ZS5tZWRpYSYmdC5zb3VyY2VNYXA9PT1lLnNvdXJjZU1hcClyZXR1cm47aShlPXQpfWVsc2UgcigpfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgREVCVUcmJkRFQlVHJiZcIm9iamVjdFwiIT10eXBlb2YgZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpOyh0PXR8fHt9KS5hdHRycz1cIm9iamVjdFwiPT10eXBlb2YgdC5hdHRycz90LmF0dHJzOnt9LHQuc2luZ2xldG9ufHxcImJvb2xlYW5cIj09dHlwZW9mIHQuc2luZ2xldG9ufHwodC5zaW5nbGV0b249cigpKSx0Lmluc2VydEludG98fCh0Lmluc2VydEludG89XCJoZWFkXCIpLHQuaW5zZXJ0QXR8fCh0Lmluc2VydEF0PVwiYm90dG9tXCIpO3ZhciBuPWQoZSx0KTtyZXR1cm4gaChuLHQpLGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj1bXSxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBhPW5bb107KHM9aVthLmlkXSkucmVmcy0tLHIucHVzaChzKX1lJiZoKGQoZSx0KSx0KTtmb3Iobz0wO288ci5sZW5ndGg7bysrKXt2YXIgcztpZigwPT09KHM9cltvXSkucmVmcyl7Zm9yKHZhciBsPTA7bDxzLnBhcnRzLmxlbmd0aDtsKyspcy5wYXJ0c1tsXSgpO2RlbGV0ZSBpW3MuaWRdfX19fTt2YXIgXz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiBlW3RdPW4sZS5maWx0ZXIoQm9vbGVhbikuam9pbihcIlxcblwiKX19KCk7ZnVuY3Rpb24gdihlLHQsbixpKXt2YXIgcj1uP1wiXCI6aS5jc3M7aWYoZS5zdHlsZVNoZWV0KWUuc3R5bGVTaGVldC5jc3NUZXh0PV8odCxyKTtlbHNle3ZhciBvPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHIpLGE9ZS5jaGlsZE5vZGVzO2FbdF0mJmUucmVtb3ZlQ2hpbGQoYVt0XSksYS5sZW5ndGg/ZS5pbnNlcnRCZWZvcmUobyxhW3RdKTplLmFwcGVuZENoaWxkKG8pfX1mdW5jdGlvbiB4KGUsdCl7dmFyIG49dC5jc3MsaT10Lm1lZGlhO2lmKGkmJmUuc2V0QXR0cmlidXRlKFwibWVkaWFcIixpKSxlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9bjtlbHNle2Zvcig7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKSl9fWZ1bmN0aW9uIGIoZSx0LG4pe3ZhciBpPW4uY3NzLHI9bi5zb3VyY2VNYXAsbz12b2lkIDA9PT10LmNvbnZlcnRUb0Fic29sdXRlVXJscyYmcjsodC5jb252ZXJ0VG9BYnNvbHV0ZVVybHN8fG8pJiYoaT11KGkpKSxyJiYoaSs9XCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKSkpK1wiICovXCIpO3ZhciBhPW5ldyBCbG9iKFtpXSx7dHlwZTpcInRleHQvY3NzXCJ9KSxzPWUuaHJlZjtlLmhyZWY9VVJMLmNyZWF0ZU9iamVjdFVSTChhKSxzJiZVUkwucmV2b2tlT2JqZWN0VVJMKHMpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiBvLmRlZmF1bHQuY3JlYXRlRWxlbWVudChzLmRlZmF1bHQuQ29uc3VtZXIsbnVsbCwoZnVuY3Rpb24obil7cmV0dXJuIG8uZGVmYXVsdC5jcmVhdGVFbGVtZW50KGUsKDAsci5kZWZhdWx0KSh7bXVpRm9ybUNvbnRyb2w6bn0sdCkpfSkpfTswO3JldHVybigwLGEuZGVmYXVsdCkodCxlKSx0fTt2YXIgcj1pKG4oMikpLG89aShuKDEpKSxhPWkobigzNSkpLHM9aShuKDU5KSk7big3KX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMscj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG89T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtmdW5jdGlvbiBhKGUpe2lmKG51bGw9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBPYmplY3QoZSl9ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dHJ5e2lmKCFPYmplY3QuYXNzaWduKXJldHVybiExO3ZhciBlPW5ldyBTdHJpbmcoXCJhYmNcIik7aWYoZVs1XT1cImRlXCIsXCI1XCI9PT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKVswXSlyZXR1cm4hMTtmb3IodmFyIHQ9e30sbj0wO248MTA7bisrKXRbXCJfXCIrU3RyaW5nLmZyb21DaGFyQ29kZShuKV09bjtpZihcIjAxMjM0NTY3ODlcIiE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KSkuam9pbihcIlwiKSlyZXR1cm4hMTt2YXIgaT17fTtyZXR1cm5cImFiY2RlZmdoaWprbG1ub3BxcnN0XCIuc3BsaXQoXCJcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aVtlXT1lfSkpLFwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIj09PU9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30saSkpLmpvaW4oXCJcIil9Y2F0Y2goZSl7cmV0dXJuITF9fSgpP09iamVjdC5hc3NpZ246ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scyxsPWEoZSksYz0xO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspe2Zvcih2YXIgdSBpbiBuPU9iamVjdChhcmd1bWVudHNbY10pKXIuY2FsbChuLHUpJiYobFt1XT1uW3VdKTtpZihpKXtzPWkobik7Zm9yKHZhciBoPTA7aDxzLmxlbmd0aDtoKyspby5jYWxsKG4sc1toXSkmJihsW3NbaF1dPW5bc1toXV0pfX1yZXR1cm4gbH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuZGFuZ2Vyb3VzbHlVc2VHbG9iYWxDU1Msbj12b2lkIDAhPT10JiZ0LGk9ZS5wcm9kdWN0aW9uUHJlZml4LHI9dm9pZCAwPT09aT9cImpzc1wiOmksYT1lLnNlZWQscz12b2lkIDA9PT1hP1wiXCI6YSxsPTA7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGwrPTEsbiYmdCYmdC5vcHRpb25zLm5hbWU/XCJcIi5jb25jYXQobyh0Lm9wdGlvbnMubmFtZSksXCItXCIpLmNvbmNhdChlLmtleSk6XCJcIi5jb25jYXQocikuY29uY2F0KHMpLmNvbmNhdChsKX19O2kobig2KSk7dmFyIHI9LyhbW1xcXS4jKiQ+PCt+PXxeOigpLFwiJ2BcXHNdKS9nO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKHIsXCItXCIpfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oMTUpLmRlZmF1bHQscj1uKDczKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9cihlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PT1pKHQpP3Q6U3RyaW5nKHQpfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPXs1MDpcIiNlOGVhZjZcIiwxMDA6XCIjYzVjYWU5XCIsMjAwOlwiIzlmYThkYVwiLDMwMDpcIiM3OTg2Y2JcIiw0MDA6XCIjNWM2YmMwXCIsNTAwOlwiIzNmNTFiNVwiLDYwMDpcIiMzOTQ5YWJcIiw3MDA6XCIjMzAzZjlmXCIsODAwOlwiIzI4MzU5M1wiLDkwMDpcIiMxYTIzN2VcIixBMTAwOlwiIzhjOWVmZlwiLEEyMDA6XCIjNTM2ZGZlXCIsQTQwMDpcIiMzZDVhZmVcIixBNzAwOlwiIzMwNGZmZVwifTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jb252ZXJ0SGV4VG9SR0I9byx0LnJnYlRvSGV4PWZ1bmN0aW9uKGUpe2lmKDA9PT1lLmluZGV4T2YoXCIjXCIpKXJldHVybiBlO3ZhciB0PWEoZSkudmFsdWVzO3JldHVybiB0PXQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS50b1N0cmluZygxNik7cmV0dXJuIDE9PT10Lmxlbmd0aD9cIjBcIi5jb25jYXQodCk6dH0oZSl9KSksXCIjXCIuY29uY2F0KHQuam9pbihcIlwiKSl9LHQuZGVjb21wb3NlQ29sb3I9YSx0LnJlY29tcG9zZUNvbG9yPXMsdC5nZXRDb250cmFzdFJhdGlvPWZ1bmN0aW9uKGUsdCl7dmFyIG49bChlKSxpPWwodCk7cmV0dXJuKE1hdGgubWF4KG4saSkrLjA1KS8oTWF0aC5taW4obixpKSsuMDUpfSx0LmdldEx1bWluYW5jZT1sLHQuZW1waGFzaXplPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTouMTU7cmV0dXJuIGwoZSk+LjU/YyhlLHQpOnUoZSx0KX0sdC5mYWRlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuIGU7ZT1hKGUpLHQ9cih0KSwoXCJyZ2JcIj09PWUudHlwZXx8XCJoc2xcIj09PWUudHlwZSkmJihlLnR5cGUrPVwiYVwiKTtyZXR1cm4gZS52YWx1ZXNbM109dCxzKGUpfSx0LmRhcmtlbj1jLHQubGlnaHRlbj11O2kobig2KSk7ZnVuY3Rpb24gcihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxO3JldHVybiBlPHQ/dDplPm4/bjplfWZ1bmN0aW9uIG8oZSl7ZT1lLnN1YnN0cigxKTt2YXIgdD1uZXcgUmVnRXhwKFwiLnsxLFwiLmNvbmNhdChlLmxlbmd0aC8zLFwifVwiKSxcImdcIiksbj1lLm1hdGNoKHQpO3JldHVybiBuJiYxPT09blswXS5sZW5ndGgmJihuPW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZStlfSkpKSxuP1wicmdiKFwiLmNvbmNhdChuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTYpfSkpLmpvaW4oXCIsIFwiKSxcIilcIik6XCJcIn1mdW5jdGlvbiBhKGUpe2lmKFwiI1wiPT09ZS5jaGFyQXQoMCkpcmV0dXJuIGEobyhlKSk7dmFyIHQ9ZS5pbmRleE9mKFwiKFwiKSxuPWUuc3Vic3RyaW5nKDAsdCksaT1lLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgtMSkuc3BsaXQoXCIsXCIpO3JldHVybnt0eXBlOm4sdmFsdWVzOmk9aS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUZsb2F0KGUpfSkpfX1mdW5jdGlvbiBzKGUpe3ZhciB0PWUudHlwZSxuPWUudmFsdWVzO3JldHVybi0xIT09dC5pbmRleE9mKFwicmdiXCIpJiYobj1uLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdDwzP3BhcnNlSW50KGUsMTApOmV9KSkpLC0xIT09dC5pbmRleE9mKFwiaHNsXCIpJiYoblsxXT1cIlwiLmNvbmNhdChuWzFdLFwiJVwiKSxuWzJdPVwiXCIuY29uY2F0KG5bMl0sXCIlXCIpKSxcIlwiLmNvbmNhdChlLnR5cGUsXCIoXCIpLmNvbmNhdChuLmpvaW4oXCIsIFwiKSxcIilcIil9ZnVuY3Rpb24gbChlKXt2YXIgdD1hKGUpO2lmKC0xIT09dC50eXBlLmluZGV4T2YoXCJyZ2JcIikpe3ZhciBuPXQudmFsdWVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuKGUvPTI1NSk8PS4wMzkyOD9lLzEyLjkyOk1hdGgucG93KChlKy4wNTUpLzEuMDU1LDIuNCl9KSk7cmV0dXJuIE51bWJlcigoLjIxMjYqblswXSsuNzE1MipuWzFdKy4wNzIyKm5bMl0pLnRvRml4ZWQoMykpfXJldHVybiB0LnZhbHVlc1syXS8xMDB9ZnVuY3Rpb24gYyhlLHQpe2lmKCFlKXJldHVybiBlO2lmKGU9YShlKSx0PXIodCksLTEhPT1lLnR5cGUuaW5kZXhPZihcImhzbFwiKSllLnZhbHVlc1syXSo9MS10O2Vsc2UgaWYoLTEhPT1lLnR5cGUuaW5kZXhPZihcInJnYlwiKSlmb3IodmFyIG49MDtuPDM7bis9MSllLnZhbHVlc1tuXSo9MS10O3JldHVybiBzKGUpfWZ1bmN0aW9uIHUoZSx0KXtpZighZSlyZXR1cm4gZTtpZihlPWEoZSksdD1yKHQpLC0xIT09ZS50eXBlLmluZGV4T2YoXCJoc2xcIikpZS52YWx1ZXNbMl0rPSgxMDAtZS52YWx1ZXNbMl0pKnQ7ZWxzZSBpZigtMSE9PWUudHlwZS5pbmRleE9mKFwicmdiXCIpKWZvcih2YXIgbj0wO248MztuKz0xKWUudmFsdWVzW25dKz0oMjU1LWUudmFsdWVzW25dKSp0O3JldHVybiBzKGUpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDtpKG4oMTUpKSxuKDQ2KTtmdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBudWxsfX12YXIgbz1yKCk7by5pc1JlcXVpcmVkPXIoKTt2YXIgYT1vO3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPW4oODUpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBudWxsfX07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnNwZWNpYWxQcm9wZXJ0eT12b2lkIDA7aShuKDUpKSxpKG4oMikpO3Quc3BlY2lhbFByb3BlcnR5PVwiZXhhY3QtcHJvcDog4oCLXCI7dmFyIHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9O3QuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRGdW5jdGlvbk5hbWU9cix0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPS9eXFxzKmZ1bmN0aW9uKD86XFxzfFxccypcXC9cXCouKlxcKlxcL1xccyopKyhbXihcXHMvXSopXFxzKi87ZnVuY3Rpb24gcihlKXt2YXIgdD1cIlwiLmNvbmNhdChlKS5tYXRjaChpKTtyZXR1cm4gdCYmdFsxXXx8XCJcIn12YXIgbz1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9lOmU/ZS5kaXNwbGF5TmFtZXx8ZS5uYW1lfHxyKGUpfHxcIkNvbXBvbmVudFwiOnZvaWQgMH07dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkobig5MSkpLG89aShuKDExMSkpLGE9aShuKDExMykpLHM9aShuKDExNSkpLGw9aShuKDExNykpLGM9aShuKDEyMikpO3ZhciB1PWZ1bmN0aW9uKCl7cmV0dXJue3BsdWdpbnM6WygwLHIuZGVmYXVsdCkoKSwoMCxvLmRlZmF1bHQpKCksKDAsYS5kZWZhdWx0KSgpLCgwLHMuZGVmYXVsdCkoKSxcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P251bGw6KDAsbC5kZWZhdWx0KSgpLCgwLGMuZGVmYXVsdCkoKV19fTt0LmRlZmF1bHQ9dX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY3JlYXRlPXQuY3JlYXRlR2VuZXJhdGVDbGFzc05hbWU9dC5zaGVldHM9dC5SdWxlTGlzdD10LlNoZWV0c01hbmFnZXI9dC5TaGVldHNSZWdpc3RyeT10LnRvQ3NzVmFsdWU9dC5nZXREeW5hbWljU3R5bGVzPXZvaWQgMDt2YXIgaT1uKDkyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImdldER5bmFtaWNTdHlsZXNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaChpKS5kZWZhdWx0fX0pO3ZhciByPW4oMjMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwidG9Dc3NWYWx1ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoKHIpLmRlZmF1bHR9fSk7dmFyIG89big1Myk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJTaGVldHNSZWdpc3RyeVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoKG8pLmRlZmF1bHR9fSk7dmFyIGE9big5Myk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJTaGVldHNNYW5hZ2VyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGgoYSkuZGVmYXVsdH19KTt2YXIgcz1uKDIwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlJ1bGVMaXN0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGgocykuZGVmYXVsdH19KTt2YXIgbD1uKDMxKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInNoZWV0c1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoKGwpLmRlZmF1bHR9fSk7dmFyIGM9big1Nik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJjcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoKGMpLmRlZmF1bHR9fSk7dmFyIHU9aChuKDk5KSk7ZnVuY3Rpb24gaChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGQ9dC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZSl9O3QuZGVmYXVsdD1kKCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5yZWdpc3RyeT1bXX1yZXR1cm4gaShlLFt7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yZWdpc3RyeSxuPWUub3B0aW9ucy5pbmRleDtpZigtMT09PXQuaW5kZXhPZihlKSlpZigwPT09dC5sZW5ndGh8fG4+PXRoaXMuaW5kZXgpdC5wdXNoKGUpO2Vsc2UgZm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYodFtpXS5vcHRpb25zLmluZGV4Pm4pcmV0dXJuIHZvaWQgdC5zcGxpY2UoaSwwLGUpfX0se2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJlZ2lzdHJ5PVtdfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucmVnaXN0cnkuaW5kZXhPZihlKTt0aGlzLnJlZ2lzdHJ5LnNwbGljZSh0LDEpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVnaXN0cnkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hdHRhY2hlZH0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvU3RyaW5nKGUpfSkpLmpvaW4oXCJcXG5cIil9fSx7a2V5OlwiaW5kZXhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMucmVnaXN0cnkubGVuZ3RoPzA6dGhpcy5yZWdpc3RyeVt0aGlzLnJlZ2lzdHJ5Lmxlbmd0aC0xXS5vcHRpb25zLmluZGV4fX1dKSxlfSgpO3QuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKDk1KSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlW2kuZGVmYXVsdF0mJmU9PT1lW2kuZGVmYXVsdF0oKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtlLnJlbmRlcmFibGU9dCxlLnJ1bGVzJiZ0LmNzc1J1bGVzJiZlLnJ1bGVzLmxpbmsodC5jc3NSdWxlcyl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9byhuKDE3KSkscj0obyhuKDU3KSksbyhuKDk4KSkpO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuZGVmYXVsdD1mdW5jdGlvbigpe3ZhciBlPTA7cmV0dXJuIGZ1bmN0aW9uKHQsbil7KGUrPTEpPjFlMTAmJigwLGkuZGVmYXVsdCkoITEsXCJbSlNTXSBZb3UgbWlnaHQgaGF2ZSBhIG1lbW9yeSBsZWFrLiBSdWxlIGNvdW50ZXIgaXMgYXQgJXMuXCIsZSk7dmFyIG89XCJjXCIsYT1cIlwiO3JldHVybiBuJiYobz1uLm9wdGlvbnMuY2xhc3NOYW1lUHJlZml4fHxcImNcIixudWxsIT1uLm9wdGlvbnMuanNzLmlkJiYoYSs9bi5vcHRpb25zLmpzcy5pZCkpLFwiXCIrbytyLmRlZmF1bHQrYStlfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciBpIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4saSkmJihlW2ldPW5baV0pfXJldHVybiBlfSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1zKG4oNTUpKSxhPXMobigyMCkpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4pe3ZhciByPXRoaXM7Zm9yKHZhciBvIGluIGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnVwZGF0ZT1mdW5jdGlvbihlLHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3IucnVsZXMudXBkYXRlKGUsdCk6ci5ydWxlcy51cGRhdGUoZSkscn0sdGhpcy5hdHRhY2hlZD0hMSx0aGlzLmRlcGxveWVkPSExLHRoaXMubGlua2VkPSExLHRoaXMuY2xhc3Nlcz17fSx0aGlzLm9wdGlvbnM9aSh7fSxuLHtzaGVldDp0aGlzLHBhcmVudDp0aGlzLGNsYXNzZXM6dGhpcy5jbGFzc2VzfSksdGhpcy5yZW5kZXJlcj1uZXcgbi5SZW5kZXJlcih0aGlzKSx0aGlzLnJ1bGVzPW5ldyBhLmRlZmF1bHQodGhpcy5vcHRpb25zKSx0KXRoaXMucnVsZXMuYWRkKG8sdFtvXSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIHIoZSxbe2tleTpcImF0dGFjaFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0YWNoZWR8fCh0aGlzLmRlcGxveWVkfHx0aGlzLmRlcGxveSgpLHRoaXMucmVuZGVyZXIuYXR0YWNoKCksIXRoaXMubGlua2VkJiZ0aGlzLm9wdGlvbnMubGluayYmdGhpcy5saW5rKCksdGhpcy5hdHRhY2hlZD0hMCksdGhpc319LHtrZXk6XCJkZXRhY2hcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dGFjaGVkPyh0aGlzLnJlbmRlcmVyLmRldGFjaCgpLHRoaXMuYXR0YWNoZWQ9ITEsdGhpcyk6dGhpc319LHtrZXk6XCJhZGRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMucXVldWU7dGhpcy5hdHRhY2hlZCYmIWkmJih0aGlzLnF1ZXVlPVtdKTt2YXIgcj10aGlzLnJ1bGVzLmFkZChlLHQsbik7cmV0dXJuIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKHIpLHRoaXMuYXR0YWNoZWQ/dGhpcy5kZXBsb3llZD8oaT9pLnB1c2gocik6KHRoaXMuaW5zZXJ0UnVsZShyKSx0aGlzLnF1ZXVlJiYodGhpcy5xdWV1ZS5mb3JFYWNoKHRoaXMuaW5zZXJ0UnVsZSx0aGlzKSx0aGlzLnF1ZXVlPXZvaWQgMCkpLHIpOnI6KHRoaXMuZGVwbG95ZWQ9ITEscil9fSx7a2V5OlwiaW5zZXJ0UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucmVuZGVyZXIuaW5zZXJ0UnVsZShlKTt0JiZ0aGlzLm9wdGlvbnMubGluayYmKDAsby5kZWZhdWx0KShlLHQpfX0se2tleTpcImFkZFJ1bGVzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtmb3IodmFyIGkgaW4gZSluLnB1c2godGhpcy5hZGRSdWxlKGksZVtpXSx0KSk7cmV0dXJuIG59fSx7a2V5OlwiZ2V0UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGVzLmdldChlKX19LHtrZXk6XCJkZWxldGVSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ydWxlcy5nZXQoZSk7cmV0dXJuISF0JiYodGhpcy5ydWxlcy5yZW1vdmUodCksIXRoaXMuYXR0YWNoZWR8fCF0LnJlbmRlcmFibGV8fHRoaXMucmVuZGVyZXIuZGVsZXRlUnVsZSh0LnJlbmRlcmFibGUpKX19LHtrZXk6XCJpbmRleE9mXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucnVsZXMuaW5kZXhPZihlKX19LHtrZXk6XCJkZXBsb3lcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLmRlcGxveSgpLHRoaXMuZGVwbG95ZWQ9ITAsdGhpc319LHtrZXk6XCJsaW5rXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlbmRlcmVyLmdldFJ1bGVzKCk7cmV0dXJuIGUmJnRoaXMucnVsZXMubGluayhlKSx0aGlzLmxpbmtlZD0hMCx0aGlzfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucnVsZXMudG9TdHJpbmcoZSl9fV0pLGV9KCk7dC5kZWZhdWx0PWx9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbih0LGkpe3JldHVybiBlLmV4cG9ydHM9bj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0cyxuKHQsaSl9ZS5leHBvcnRzPW4sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkobigxKSkuZGVmYXVsdC5jcmVhdGVDb250ZXh0KCk7dC5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLm93bmVyRG9jdW1lbnR8fGRvY3VtZW50fTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxpPW5ldyBBcnJheSh0KTtuPHQ7bisrKWlbbl09ZVtuXTtyZXR1cm4gaX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe3ZhciBlPXRoaXMuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHRoaXMucHJvcHMsdGhpcy5zdGF0ZSk7bnVsbCE9ZSYmdGhpcy5zZXRTdGF0ZShlKX1mdW5jdGlvbiByKGUpe3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24odCl7dmFyIG49dGhpcy5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoZSx0KTtyZXR1cm4gbnVsbCE9bj9uOm51bGx9LmJpbmQodGhpcykpfWZ1bmN0aW9uIG8oZSx0KXt0cnl7dmFyIG49dGhpcy5wcm9wcyxpPXRoaXMuc3RhdGU7dGhpcy5wcm9wcz1lLHRoaXMuc3RhdGU9dCx0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90RmxhZz0hMCx0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90PXRoaXMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUobixpKX1maW5hbGx5e3RoaXMucHJvcHM9bix0aGlzLnN0YXRlPWl9fWZ1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5wcm90b3R5cGU7aWYoIXR8fCF0LmlzUmVhY3RDb21wb25lbnQpdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG9ubHkgcG9seWZpbGwgY2xhc3MgY29tcG9uZW50c1wiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmXCJmdW5jdGlvblwiIT10eXBlb2YgdC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSlyZXR1cm4gZTt2YXIgbj1udWxsLGE9bnVsbCxzPW51bGw7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb21wb25lbnRXaWxsTW91bnQ/bj1cImNvbXBvbmVudFdpbGxNb3VudFwiOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmKG49XCJVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50XCIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcz9hPVwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJihhPVwiVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcIiksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb21wb25lbnRXaWxsVXBkYXRlP3M9XCJjb21wb25lbnRXaWxsVXBkYXRlXCI6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSYmKHM9XCJVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZVwiKSxudWxsIT09bnx8bnVsbCE9PWF8fG51bGwhPT1zKXt2YXIgbD1lLmRpc3BsYXlOYW1lfHxlLm5hbWUsYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcz9cImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpXCI6XCJnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpXCI7dGhyb3cgRXJyb3IoXCJVbnNhZmUgbGVnYWN5IGxpZmVjeWNsZXMgd2lsbCBub3QgYmUgY2FsbGVkIGZvciBjb21wb25lbnRzIHVzaW5nIG5ldyBjb21wb25lbnQgQVBJcy5cXG5cXG5cIitsK1wiIHVzZXMgXCIrYytcIiBidXQgYWxzbyBjb250YWlucyB0aGUgZm9sbG93aW5nIGxlZ2FjeSBsaWZlY3ljbGVzOlwiKyhudWxsIT09bj9cIlxcbiAgXCIrbjpcIlwiKSsobnVsbCE9PWE/XCJcXG4gIFwiK2E6XCJcIikrKG51bGwhPT1zP1wiXFxuICBcIitzOlwiXCIpK1wiXFxuXFxuVGhlIGFib3ZlIGxpZmVjeWNsZXMgc2hvdWxkIGJlIHJlbW92ZWQuIExlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6XFxuaHR0cHM6Ly9mYi5tZS9yZWFjdC1hc3luYy1jb21wb25lbnQtbGlmZWN5Y2xlLWhvb2tzXCIpfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiYodC5jb21wb25lbnRXaWxsTW91bnQ9aSx0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM9ciksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdC5jb21wb25lbnREaWRVcGRhdGUpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHBvbHlmaWxsIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgZm9yIGNvbXBvbmVudHMgdGhhdCBkbyBub3QgZGVmaW5lIGNvbXBvbmVudERpZFVwZGF0ZSgpIG9uIHRoZSBwcm90b3R5cGVcIik7dC5jb21wb25lbnRXaWxsVXBkYXRlPW87dmFyIHU9dC5jb21wb25lbnREaWRVcGRhdGU7dC5jb21wb25lbnREaWRVcGRhdGU9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3RGbGFnP3RoaXMuX19yZWFjdEludGVybmFsU25hcHNob3Q6bjt1LmNhbGwodGhpcyxlLHQsaSl9fXJldHVybiBlfW4ucih0KSxuLmQodCxcInBvbHlmaWxsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksaS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nPSEwLHIuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZz0hMCxvLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmc9ITB9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkobigxNzYpKSxvPWkobigxODApKSxhPShpKG4oNjQpKSxpKG4oNjUpKSxmdW5jdGlvbihlKXtyZXR1cm4oMCxyLmRlZmF1bHQpKChmdW5jdGlvbihlLHQpe3JldHVybiEoMCxvLmRlZmF1bHQpKGUsdCl9KSkoZSl9KTt0LmRlZmF1bHQ9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIHI9aShuKDE3OCkpLG89ZnVuY3Rpb24oZSl7cmV0dXJuKDAsci5kZWZhdWx0KShcImRpc3BsYXlOYW1lXCIsZSl9O3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKG4oMTc5KSksbz1mdW5jdGlvbihlLHQpe3JldHVybiB0K1wiKFwiKygwLHIuZGVmYXVsdCkoZSkrXCIpXCJ9O3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5kZWZhdWx0fX0pO3ZhciByPWkobigxODIpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7dmFyIHQsbj1lLlN5bWJvbDtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP24ub2JzZXJ2YWJsZT90PW4ub2JzZXJ2YWJsZToodD1uKFwib2JzZXJ2YWJsZVwiKSxuLm9ic2VydmFibGU9dCk6dD1cIkBAb2JzZXJ2YWJsZVwiLHR9bi5kKHQsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9LCxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9big0MCkscj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3Isbz1yP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzLGE9cj9TeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpOjYwMTA2LHM9cj9TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIik6NjAxMDcsbD1yP1N5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKTo2MDEwOCxjPXI/U3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpOjYwMTE0LHU9cj9TeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIik6NjAxMDksaD1yP1N5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpOjYwMTEwLGQ9cj9TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIik6NjAxMTIscD1yP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKTo2MDExMyxmPXI/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsbT1yP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2LGc9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3I7ZnVuY3Rpb24geShlKXtmb3IodmFyIHQ9XCJodHRwczovL3JlYWN0anMub3JnL2RvY3MvZXJyb3ItZGVjb2Rlci5odG1sP2ludmFyaWFudD1cIitlLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQrPVwiJmFyZ3NbXT1cIitlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW25dKTtyZXR1cm5cIk1pbmlmaWVkIFJlYWN0IGVycm9yICNcIitlK1wiOyB2aXNpdCBcIit0K1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIn12YXIgXz17aXNNb3VudGVkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVucXVldWVGb3JjZVVwZGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVJlcGxhY2VTdGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVNldFN0YXRlOmZ1bmN0aW9uKCl7fX0sdj17fTtmdW5jdGlvbiB4KGUsdCxuKXt0aGlzLnByb3BzPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5yZWZzPXYsdGhpcy51cGRhdGVyPW58fF99ZnVuY3Rpb24gYigpe31mdW5jdGlvbiB3KGUsdCxuKXt0aGlzLnByb3BzPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5yZWZzPXYsdGhpcy51cGRhdGVyPW58fF99eC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudD17fSx4LnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT1lKXRocm93IEVycm9yKHkoODUpKTt0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsZSx0LFwic2V0U3RhdGVcIil9LHgucHJvdG90eXBlLmZvcmNlVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcyxlLFwiZm9yY2VVcGRhdGVcIil9LGIucHJvdG90eXBlPXgucHJvdG90eXBlO3ZhciBUPXcucHJvdG90eXBlPW5ldyBiO1QuY29uc3RydWN0b3I9dyxpKFQseC5wcm90b3R5cGUpLFQuaXNQdXJlUmVhY3RDb21wb25lbnQ9ITA7dmFyIEU9e2N1cnJlbnQ6bnVsbH0sUz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LE09e2tleTohMCxyZWY6ITAsX19zZWxmOiEwLF9fc291cmNlOiEwfTtmdW5jdGlvbiBJKGUsdCxuKXt2YXIgaSxyPXt9LGE9bnVsbCxzPW51bGw7aWYobnVsbCE9dClmb3IoaSBpbiB2b2lkIDAhPT10LnJlZiYmKHM9dC5yZWYpLHZvaWQgMCE9PXQua2V5JiYoYT1cIlwiK3Qua2V5KSx0KVMuY2FsbCh0LGkpJiYhTS5oYXNPd25Qcm9wZXJ0eShpKSYmKHJbaV09dFtpXSk7dmFyIGw9YXJndW1lbnRzLmxlbmd0aC0yO2lmKDE9PT1sKXIuY2hpbGRyZW49bjtlbHNlIGlmKDE8bCl7Zm9yKHZhciBjPUFycmF5KGwpLHU9MDt1PGw7dSsrKWNbdV09YXJndW1lbnRzW3UrMl07ci5jaGlsZHJlbj1jfWlmKGUmJmUuZGVmYXVsdFByb3BzKWZvcihpIGluIGw9ZS5kZWZhdWx0UHJvcHMpdm9pZCAwPT09cltpXSYmKHJbaV09bFtpXSk7cmV0dXJueyQkdHlwZW9mOm8sdHlwZTplLGtleTphLHJlZjpzLHByb3BzOnIsX293bmVyOkUuY3VycmVudH19ZnVuY3Rpb24gQyhlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJmUuJCR0eXBlb2Y9PT1vfXZhciBrPS9cXC8rL2csQT1bXTtmdW5jdGlvbiBQKGUsdCxuLGkpe2lmKEEubGVuZ3RoKXt2YXIgcj1BLnBvcCgpO3JldHVybiByLnJlc3VsdD1lLHIua2V5UHJlZml4PXQsci5mdW5jPW4sci5jb250ZXh0PWksci5jb3VudD0wLHJ9cmV0dXJue3Jlc3VsdDplLGtleVByZWZpeDp0LGZ1bmM6bixjb250ZXh0OmksY291bnQ6MH19ZnVuY3Rpb24geihlKXtlLnJlc3VsdD1udWxsLGUua2V5UHJlZml4PW51bGwsZS5mdW5jPW51bGwsZS5jb250ZXh0PW51bGwsZS5jb3VudD0wLDEwPkEubGVuZ3RoJiZBLnB1c2goZSl9ZnVuY3Rpb24gRChlLHQsbil7cmV0dXJuIG51bGw9PWU/MDpmdW5jdGlvbiBlKHQsbixpLHIpe3ZhciBzPXR5cGVvZiB0O1widW5kZWZpbmVkXCIhPT1zJiZcImJvb2xlYW5cIiE9PXN8fCh0PW51bGwpO3ZhciBsPSExO2lmKG51bGw9PT10KWw9ITA7ZWxzZSBzd2l0Y2gocyl7Y2FzZVwic3RyaW5nXCI6Y2FzZVwibnVtYmVyXCI6bD0hMDticmVhaztjYXNlXCJvYmplY3RcIjpzd2l0Y2godC4kJHR5cGVvZil7Y2FzZSBvOmNhc2UgYTpsPSEwfX1pZihsKXJldHVybiBpKHIsdCxcIlwiPT09bj9cIi5cIitMKHQsMCk6biksMTtpZihsPTAsbj1cIlwiPT09bj9cIi5cIjpuK1wiOlwiLEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciBjPTA7Yzx0Lmxlbmd0aDtjKyspe3ZhciB1PW4rTChzPXRbY10sYyk7bCs9ZShzLHUsaSxyKX1lbHNlIGlmKG51bGw9PT10fHxcIm9iamVjdFwiIT10eXBlb2YgdD91PW51bGw6dT1cImZ1bmN0aW9uXCI9PXR5cGVvZih1PWcmJnRbZ118fHRbXCJAQGl0ZXJhdG9yXCJdKT91Om51bGwsXCJmdW5jdGlvblwiPT10eXBlb2YgdSlmb3IodD11LmNhbGwodCksYz0wOyEocz10Lm5leHQoKSkuZG9uZTspbCs9ZShzPXMudmFsdWUsdT1uK0wocyxjKyspLGkscik7ZWxzZSBpZihcIm9iamVjdFwiPT09cyl0aHJvdyBpPVwiXCIrdCxFcnJvcih5KDMxLFwiW29iamVjdCBPYmplY3RdXCI9PT1pP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXModCkuam9pbihcIiwgXCIpK1wifVwiOmksXCJcIikpO3JldHVybiBsfShlLFwiXCIsdCxuKX1mdW5jdGlvbiBMKGUsdCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZudWxsIT1lLmtleT9mdW5jdGlvbihlKXt2YXIgdD17XCI9XCI6XCI9MFwiLFwiOlwiOlwiPTJcIn07cmV0dXJuXCIkXCIrKFwiXCIrZSkucmVwbGFjZSgvWz06XS9nLChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKX0oZS5rZXkpOnQudG9TdHJpbmcoMzYpfWZ1bmN0aW9uIE8oZSx0KXtlLmZ1bmMuY2FsbChlLmNvbnRleHQsdCxlLmNvdW50KyspfWZ1bmN0aW9uIFIoZSx0LG4pe3ZhciBpPWUucmVzdWx0LHI9ZS5rZXlQcmVmaXg7ZT1lLmZ1bmMuY2FsbChlLmNvbnRleHQsdCxlLmNvdW50KyspLEFycmF5LmlzQXJyYXkoZSk/QihlLGksbiwoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSk6bnVsbCE9ZSYmKEMoZSkmJihlPWZ1bmN0aW9uKGUsdCl7cmV0dXJueyQkdHlwZW9mOm8sdHlwZTplLnR5cGUsa2V5OnQscmVmOmUucmVmLHByb3BzOmUucHJvcHMsX293bmVyOmUuX293bmVyfX0oZSxyKyghZS5rZXl8fHQmJnQua2V5PT09ZS5rZXk/XCJcIjooXCJcIitlLmtleSkucmVwbGFjZShrLFwiJCYvXCIpK1wiL1wiKStuKSksaS5wdXNoKGUpKX1mdW5jdGlvbiBCKGUsdCxuLGkscil7dmFyIG89XCJcIjtudWxsIT1uJiYobz0oXCJcIituKS5yZXBsYWNlKGssXCIkJi9cIikrXCIvXCIpLEQoZSxSLHQ9UCh0LG8saSxyKSkseih0KX12YXIgaj17Y3VycmVudDpudWxsfTtmdW5jdGlvbiBGKCl7dmFyIGU9ai5jdXJyZW50O2lmKG51bGw9PT1lKXRocm93IEVycm9yKHkoMzIxKSk7cmV0dXJuIGV9dmFyIE49e1JlYWN0Q3VycmVudERpc3BhdGNoZXI6aixSZWFjdEN1cnJlbnRCYXRjaENvbmZpZzp7c3VzcGVuc2U6bnVsbH0sUmVhY3RDdXJyZW50T3duZXI6RSxJc1NvbWVSZW5kZXJlckFjdGluZzp7Y3VycmVudDohMX0sYXNzaWduOml9O3QuQ2hpbGRyZW49e21hcDpmdW5jdGlvbihlLHQsbil7aWYobnVsbD09ZSlyZXR1cm4gZTt2YXIgaT1bXTtyZXR1cm4gQihlLGksbnVsbCx0LG4pLGl9LGZvckVhY2g6ZnVuY3Rpb24oZSx0LG4pe2lmKG51bGw9PWUpcmV0dXJuIGU7RChlLE8sdD1QKG51bGwsbnVsbCx0LG4pKSx6KHQpfSxjb3VudDpmdW5jdGlvbihlKXtyZXR1cm4gRChlLChmdW5jdGlvbigpe3JldHVybiBudWxsfSksbnVsbCl9LHRvQXJyYXk6ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIEIoZSx0LG51bGwsKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLHR9LG9ubHk6ZnVuY3Rpb24oZSl7aWYoIUMoZSkpdGhyb3cgRXJyb3IoeSgxNDMpKTtyZXR1cm4gZX19LHQuQ29tcG9uZW50PXgsdC5GcmFnbWVudD1zLHQuUHJvZmlsZXI9Yyx0LlB1cmVDb21wb25lbnQ9dyx0LlN0cmljdE1vZGU9bCx0LlN1c3BlbnNlPXAsdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRD1OLHQuY2xvbmVFbGVtZW50PWZ1bmN0aW9uKGUsdCxuKXtpZihudWxsPT1lKXRocm93IEVycm9yKHkoMjY3LGUpKTt2YXIgcj1pKHt9LGUucHJvcHMpLGE9ZS5rZXkscz1lLnJlZixsPWUuX293bmVyO2lmKG51bGwhPXQpe2lmKHZvaWQgMCE9PXQucmVmJiYocz10LnJlZixsPUUuY3VycmVudCksdm9pZCAwIT09dC5rZXkmJihhPVwiXCIrdC5rZXkpLGUudHlwZSYmZS50eXBlLmRlZmF1bHRQcm9wcyl2YXIgYz1lLnR5cGUuZGVmYXVsdFByb3BzO2Zvcih1IGluIHQpUy5jYWxsKHQsdSkmJiFNLmhhc093blByb3BlcnR5KHUpJiYoclt1XT12b2lkIDA9PT10W3VdJiZ2b2lkIDAhPT1jP2NbdV06dFt1XSl9dmFyIHU9YXJndW1lbnRzLmxlbmd0aC0yO2lmKDE9PT11KXIuY2hpbGRyZW49bjtlbHNlIGlmKDE8dSl7Yz1BcnJheSh1KTtmb3IodmFyIGg9MDtoPHU7aCsrKWNbaF09YXJndW1lbnRzW2grMl07ci5jaGlsZHJlbj1jfXJldHVybnskJHR5cGVvZjpvLHR5cGU6ZS50eXBlLGtleTphLHJlZjpzLHByb3BzOnIsX293bmVyOmx9fSx0LmNyZWF0ZUNvbnRleHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksKGU9eyQkdHlwZW9mOmgsX2NhbGN1bGF0ZUNoYW5nZWRCaXRzOnQsX2N1cnJlbnRWYWx1ZTplLF9jdXJyZW50VmFsdWUyOmUsX3RocmVhZENvdW50OjAsUHJvdmlkZXI6bnVsbCxDb25zdW1lcjpudWxsfSkuUHJvdmlkZXI9eyQkdHlwZW9mOnUsX2NvbnRleHQ6ZX0sZS5Db25zdW1lcj1lfSx0LmNyZWF0ZUVsZW1lbnQ9SSx0LmNyZWF0ZUZhY3Rvcnk9ZnVuY3Rpb24oZSl7dmFyIHQ9SS5iaW5kKG51bGwsZSk7cmV0dXJuIHQudHlwZT1lLHR9LHQuY3JlYXRlUmVmPWZ1bmN0aW9uKCl7cmV0dXJue2N1cnJlbnQ6bnVsbH19LHQuZm9yd2FyZFJlZj1mdW5jdGlvbihlKXtyZXR1cm57JCR0eXBlb2Y6ZCxyZW5kZXI6ZX19LHQuaXNWYWxpZEVsZW1lbnQ9Qyx0Lmxhenk9ZnVuY3Rpb24oZSl7cmV0dXJueyQkdHlwZW9mOm0sX2N0b3I6ZSxfc3RhdHVzOi0xLF9yZXN1bHQ6bnVsbH19LHQubWVtbz1mdW5jdGlvbihlLHQpe3JldHVybnskJHR5cGVvZjpmLHR5cGU6ZSxjb21wYXJlOnZvaWQgMD09PXQ/bnVsbDp0fX0sdC51c2VDYWxsYmFjaz1mdW5jdGlvbihlLHQpe3JldHVybiBGKCkudXNlQ2FsbGJhY2soZSx0KX0sdC51c2VDb250ZXh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEYoKS51c2VDb250ZXh0KGUsdCl9LHQudXNlRGVidWdWYWx1ZT1mdW5jdGlvbigpe30sdC51c2VFZmZlY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRigpLnVzZUVmZmVjdChlLHQpfSx0LnVzZUltcGVyYXRpdmVIYW5kbGU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBGKCkudXNlSW1wZXJhdGl2ZUhhbmRsZShlLHQsbil9LHQudXNlTGF5b3V0RWZmZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEYoKS51c2VMYXlvdXRFZmZlY3QoZSx0KX0sdC51c2VNZW1vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEYoKS51c2VNZW1vKGUsdCl9LHQudXNlUmVkdWNlcj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEYoKS51c2VSZWR1Y2VyKGUsdCxuKX0sdC51c2VSZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIEYoKS51c2VSZWYoZSl9LHQudXNlU3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIEYoKS51c2VTdGF0ZShlKX0sdC52ZXJzaW9uPVwiMTYuMTQuMFwifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigxKSxyPW4oNDApLG89big3MSk7ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9XCJodHRwczovL3JlYWN0anMub3JnL2RvY3MvZXJyb3ItZGVjb2Rlci5odG1sP2ludmFyaWFudD1cIitlLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQrPVwiJmFyZ3NbXT1cIitlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW25dKTtyZXR1cm5cIk1pbmlmaWVkIFJlYWN0IGVycm9yICNcIitlK1wiOyB2aXNpdCBcIit0K1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIn1pZighaSl0aHJvdyBFcnJvcihhKDIyNykpO2Z1bmN0aW9uIHMoZSx0LG4saSxyLG8sYSxzLGwpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKTt0cnl7dC5hcHBseShuLGMpfWNhdGNoKGUpe3RoaXMub25FcnJvcihlKX19dmFyIGw9ITEsYz1udWxsLHU9ITEsaD1udWxsLGQ9e29uRXJyb3I6ZnVuY3Rpb24oZSl7bD0hMCxjPWV9fTtmdW5jdGlvbiBwKGUsdCxuLGkscixvLGEsdSxoKXtsPSExLGM9bnVsbCxzLmFwcGx5KGQsYXJndW1lbnRzKX12YXIgZj1udWxsLG09bnVsbCxnPW51bGw7ZnVuY3Rpb24geShlLHQsbil7dmFyIGk9ZS50eXBlfHxcInVua25vd24tZXZlbnRcIjtlLmN1cnJlbnRUYXJnZXQ9ZyhuKSxmdW5jdGlvbihlLHQsbixpLHIsbyxzLGQsZil7aWYocC5hcHBseSh0aGlzLGFyZ3VtZW50cyksbCl7aWYoIWwpdGhyb3cgRXJyb3IoYSgxOTgpKTt2YXIgbT1jO2w9ITEsYz1udWxsLHV8fCh1PSEwLGg9bSl9fShpLHQsdm9pZCAwLGUpLGUuY3VycmVudFRhcmdldD1udWxsfXZhciBfPW51bGwsdj17fTtmdW5jdGlvbiB4KCl7aWYoXylmb3IodmFyIGUgaW4gdil7dmFyIHQ9dltlXSxuPV8uaW5kZXhPZihlKTtpZighKC0xPG4pKXRocm93IEVycm9yKGEoOTYsZSkpO2lmKCF3W25dKXtpZighdC5leHRyYWN0RXZlbnRzKXRocm93IEVycm9yKGEoOTcsZSkpO2Zvcih2YXIgaSBpbiB3W25dPXQsbj10LmV2ZW50VHlwZXMpe3ZhciByPXZvaWQgMCxvPW5baV0scz10LGw9aTtpZihULmhhc093blByb3BlcnR5KGwpKXRocm93IEVycm9yKGEoOTksbCkpO1RbbF09bzt2YXIgYz1vLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzO2lmKGMpe2ZvcihyIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShyKSYmYihjW3JdLHMsbCk7cj0hMH1lbHNlIG8ucmVnaXN0cmF0aW9uTmFtZT8oYihvLnJlZ2lzdHJhdGlvbk5hbWUscyxsKSxyPSEwKTpyPSExO2lmKCFyKXRocm93IEVycm9yKGEoOTgsaSxlKSl9fX19ZnVuY3Rpb24gYihlLHQsbil7aWYoRVtlXSl0aHJvdyBFcnJvcihhKDEwMCxlKSk7RVtlXT10LFNbZV09dC5ldmVudFR5cGVzW25dLmRlcGVuZGVuY2llc312YXIgdz1bXSxUPXt9LEU9e30sUz17fTtmdW5jdGlvbiBNKGUpe3ZhciB0LG49ITE7Zm9yKHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpKXt2YXIgaT1lW3RdO2lmKCF2Lmhhc093blByb3BlcnR5KHQpfHx2W3RdIT09aSl7aWYodlt0XSl0aHJvdyBFcnJvcihhKDEwMix0KSk7dlt0XT1pLG49ITB9fW4mJngoKX12YXIgST0hKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fHZvaWQgMD09PXdpbmRvdy5kb2N1bWVudHx8dm9pZCAwPT09d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpLEM9bnVsbCxrPW51bGwsQT1udWxsO2Z1bmN0aW9uIFAoZSl7aWYoZT1tKGUpKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBDKXRocm93IEVycm9yKGEoMjgwKSk7dmFyIHQ9ZS5zdGF0ZU5vZGU7dCYmKHQ9Zih0KSxDKGUuc3RhdGVOb2RlLGUudHlwZSx0KSl9fWZ1bmN0aW9uIHooZSl7az9BP0EucHVzaChlKTpBPVtlXTprPWV9ZnVuY3Rpb24gRCgpe2lmKGspe3ZhciBlPWssdD1BO2lmKEE9az1udWxsLFAoZSksdClmb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKVAodFtlXSl9fWZ1bmN0aW9uIEwoZSx0KXtyZXR1cm4gZSh0KX1mdW5jdGlvbiBPKGUsdCxuLGkscil7cmV0dXJuIGUodCxuLGkscil9ZnVuY3Rpb24gUigpe312YXIgQj1MLGo9ITEsRj0hMTtmdW5jdGlvbiBOKCl7bnVsbD09PWsmJm51bGw9PT1BfHwoUigpLEQoKSl9ZnVuY3Rpb24gVShlLHQsbil7aWYoRilyZXR1cm4gZSh0LG4pO0Y9ITA7dHJ5e3JldHVybiBCKGUsdCxuKX1maW5hbGx5e0Y9ITEsTigpfX12YXIgVj0vXls6QS1aX2EtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF1bOkEtWl9hLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRcXC0uMC05XFx1MDBCN1xcdTAzMDAtXFx1MDM2RlxcdTIwM0YtXFx1MjA0MF0qJC8sRz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFo9e30sVz17fTtmdW5jdGlvbiBxKGUsdCxuLGkscixvKXt0aGlzLmFjY2VwdHNCb29sZWFucz0yPT09dHx8Mz09PXR8fDQ9PT10LHRoaXMuYXR0cmlidXRlTmFtZT1pLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPXIsdGhpcy5tdXN0VXNlUHJvcGVydHk9bix0aGlzLnByb3BlcnR5TmFtZT1lLHRoaXMudHlwZT10LHRoaXMuc2FuaXRpemVVUkw9b312YXIgJD17fTtcImNoaWxkcmVuIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIGRlZmF1bHRWYWx1ZSBkZWZhdWx0Q2hlY2tlZCBpbm5lckhUTUwgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZyBzdHlsZVwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXskW2VdPW5ldyBxKGUsMCwhMSxlLG51bGwsITEpfSkpLFtbXCJhY2NlcHRDaGFyc2V0XCIsXCJhY2NlcHQtY2hhcnNldFwiXSxbXCJjbGFzc05hbWVcIixcImNsYXNzXCJdLFtcImh0bWxGb3JcIixcImZvclwiXSxbXCJodHRwRXF1aXZcIixcImh0dHAtZXF1aXZcIl1dLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF07JFt0XT1uZXcgcSh0LDEsITEsZVsxXSxudWxsLCExKX0pKSxbXCJjb250ZW50RWRpdGFibGVcIixcImRyYWdnYWJsZVwiLFwic3BlbGxDaGVja1wiLFwidmFsdWVcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7JFtlXT1uZXcgcShlLDIsITEsZS50b0xvd2VyQ2FzZSgpLG51bGwsITEpfSkpLFtcImF1dG9SZXZlcnNlXCIsXCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCIsXCJmb2N1c2FibGVcIixcInByZXNlcnZlQWxwaGFcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7JFtlXT1uZXcgcShlLDIsITEsZSxudWxsLCExKX0pKSxcImFsbG93RnVsbFNjcmVlbiBhc3luYyBhdXRvRm9jdXMgYXV0b1BsYXkgY29udHJvbHMgZGVmYXVsdCBkZWZlciBkaXNhYmxlZCBkaXNhYmxlUGljdHVyZUluUGljdHVyZSBmb3JtTm9WYWxpZGF0ZSBoaWRkZW4gbG9vcCBub01vZHVsZSBub1ZhbGlkYXRlIG9wZW4gcGxheXNJbmxpbmUgcmVhZE9ubHkgcmVxdWlyZWQgcmV2ZXJzZWQgc2NvcGVkIHNlYW1sZXNzIGl0ZW1TY29wZVwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXskW2VdPW5ldyBxKGUsMywhMSxlLnRvTG93ZXJDYXNlKCksbnVsbCwhMSl9KSksW1wiY2hlY2tlZFwiLFwibXVsdGlwbGVcIixcIm11dGVkXCIsXCJzZWxlY3RlZFwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXskW2VdPW5ldyBxKGUsMywhMCxlLG51bGwsITEpfSkpLFtcImNhcHR1cmVcIixcImRvd25sb2FkXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpeyRbZV09bmV3IHEoZSw0LCExLGUsbnVsbCwhMSl9KSksW1wiY29sc1wiLFwicm93c1wiLFwic2l6ZVwiLFwic3BhblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXskW2VdPW5ldyBxKGUsNiwhMSxlLG51bGwsITEpfSkpLFtcInJvd1NwYW5cIixcInN0YXJ0XCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpeyRbZV09bmV3IHEoZSw1LCExLGUudG9Mb3dlckNhc2UoKSxudWxsLCExKX0pKTt2YXIgSD0vW1xcLTpdKFthLXpdKS9nO2Z1bmN0aW9uIFgoZSl7cmV0dXJuIGVbMV0udG9VcHBlckNhc2UoKX1cImFjY2VudC1oZWlnaHQgYWxpZ25tZW50LWJhc2VsaW5lIGFyYWJpYy1mb3JtIGJhc2VsaW5lLXNoaWZ0IGNhcC1oZWlnaHQgY2xpcC1wYXRoIGNsaXAtcnVsZSBjb2xvci1pbnRlcnBvbGF0aW9uIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyBjb2xvci1wcm9maWxlIGNvbG9yLXJlbmRlcmluZyBkb21pbmFudC1iYXNlbGluZSBlbmFibGUtYmFja2dyb3VuZCBmaWxsLW9wYWNpdHkgZmlsbC1ydWxlIGZsb29kLWNvbG9yIGZsb29kLW9wYWNpdHkgZm9udC1mYW1pbHkgZm9udC1zaXplIGZvbnQtc2l6ZS1hZGp1c3QgZm9udC1zdHJldGNoIGZvbnQtc3R5bGUgZm9udC12YXJpYW50IGZvbnQtd2VpZ2h0IGdseXBoLW5hbWUgZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCBnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCBob3Jpei1hZHYteCBob3Jpei1vcmlnaW4teCBpbWFnZS1yZW5kZXJpbmcgbGV0dGVyLXNwYWNpbmcgbGlnaHRpbmctY29sb3IgbWFya2VyLWVuZCBtYXJrZXItbWlkIG1hcmtlci1zdGFydCBvdmVybGluZS1wb3NpdGlvbiBvdmVybGluZS10aGlja25lc3MgcGFpbnQtb3JkZXIgcGFub3NlLTEgcG9pbnRlci1ldmVudHMgcmVuZGVyaW5nLWludGVudCBzaGFwZS1yZW5kZXJpbmcgc3RvcC1jb2xvciBzdG9wLW9wYWNpdHkgc3RyaWtldGhyb3VnaC1wb3NpdGlvbiBzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyBzdHJva2UtZGFzaGFycmF5IHN0cm9rZS1kYXNob2Zmc2V0IHN0cm9rZS1saW5lY2FwIHN0cm9rZS1saW5lam9pbiBzdHJva2UtbWl0ZXJsaW1pdCBzdHJva2Utb3BhY2l0eSBzdHJva2Utd2lkdGggdGV4dC1hbmNob3IgdGV4dC1kZWNvcmF0aW9uIHRleHQtcmVuZGVyaW5nIHVuZGVybGluZS1wb3NpdGlvbiB1bmRlcmxpbmUtdGhpY2tuZXNzIHVuaWNvZGUtYmlkaSB1bmljb2RlLXJhbmdlIHVuaXRzLXBlci1lbSB2LWFscGhhYmV0aWMgdi1oYW5naW5nIHYtaWRlb2dyYXBoaWMgdi1tYXRoZW1hdGljYWwgdmVjdG9yLWVmZmVjdCB2ZXJ0LWFkdi15IHZlcnQtb3JpZ2luLXggdmVydC1vcmlnaW4teSB3b3JkLXNwYWNpbmcgd3JpdGluZy1tb2RlIHhtbG5zOnhsaW5rIHgtaGVpZ2h0XCIuc3BsaXQoXCIgXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShILFgpOyRbdF09bmV3IHEodCwxLCExLGUsbnVsbCwhMSl9KSksXCJ4bGluazphY3R1YXRlIHhsaW5rOmFyY3JvbGUgeGxpbms6cm9sZSB4bGluazpzaG93IHhsaW5rOnRpdGxlIHhsaW5rOnR5cGVcIi5zcGxpdChcIiBcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKEgsWCk7JFt0XT1uZXcgcSh0LDEsITEsZSxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwhMSl9KSksW1wieG1sOmJhc2VcIixcInhtbDpsYW5nXCIsXCJ4bWw6c3BhY2VcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKEgsWCk7JFt0XT1uZXcgcSh0LDEsITEsZSxcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLCExKX0pKSxbXCJ0YWJJbmRleFwiLFwiY3Jvc3NPcmlnaW5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7JFtlXT1uZXcgcShlLDEsITEsZS50b0xvd2VyQ2FzZSgpLG51bGwsITEpfSkpLCQueGxpbmtIcmVmPW5ldyBxKFwieGxpbmtIcmVmXCIsMSwhMSxcInhsaW5rOmhyZWZcIixcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwhMCksW1wic3JjXCIsXCJocmVmXCIsXCJhY3Rpb25cIixcImZvcm1BY3Rpb25cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7JFtlXT1uZXcgcShlLDEsITEsZS50b0xvd2VyQ2FzZSgpLG51bGwsITApfSkpO3ZhciBZPWkuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7ZnVuY3Rpb24gSihlLHQsbixpKXt2YXIgcj0kLmhhc093blByb3BlcnR5KHQpPyRbdF06bnVsbDsobnVsbCE9PXI/MD09PXIudHlwZTohaSYmKDI8dC5sZW5ndGgmJihcIm9cIj09PXRbMF18fFwiT1wiPT09dFswXSkmJihcIm5cIj09PXRbMV18fFwiTlwiPT09dFsxXSkpKXx8KGZ1bmN0aW9uKGUsdCxuLGkpe2lmKG51bGw9PXR8fGZ1bmN0aW9uKGUsdCxuLGkpe2lmKG51bGwhPT1uJiYwPT09bi50eXBlKXJldHVybiExO3N3aXRjaCh0eXBlb2YgdCl7Y2FzZVwiZnVuY3Rpb25cIjpjYXNlXCJzeW1ib2xcIjpyZXR1cm4hMDtjYXNlXCJib29sZWFuXCI6cmV0dXJuIWkmJihudWxsIT09bj8hbi5hY2NlcHRzQm9vbGVhbnM6XCJkYXRhLVwiIT09KGU9ZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsNSkpJiZcImFyaWEtXCIhPT1lKTtkZWZhdWx0OnJldHVybiExfX0oZSx0LG4saSkpcmV0dXJuITA7aWYoaSlyZXR1cm4hMTtpZihudWxsIT09bilzd2l0Y2gobi50eXBlKXtjYXNlIDM6cmV0dXJuIXQ7Y2FzZSA0OnJldHVybiExPT09dDtjYXNlIDU6cmV0dXJuIGlzTmFOKHQpO2Nhc2UgNjpyZXR1cm4gaXNOYU4odCl8fDE+dH1yZXR1cm4hMX0odCxuLHIsaSkmJihuPW51bGwpLGl8fG51bGw9PT1yP2Z1bmN0aW9uKGUpe3JldHVybiEhRy5jYWxsKFcsZSl8fCFHLmNhbGwoWixlKSYmKFYudGVzdChlKT9XW2VdPSEwOihaW2VdPSEwLCExKSl9KHQpJiYobnVsbD09PW4/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6ZS5zZXRBdHRyaWJ1dGUodCxcIlwiK24pKTpyLm11c3RVc2VQcm9wZXJ0eT9lW3IucHJvcGVydHlOYW1lXT1udWxsPT09bj8zIT09ci50eXBlJiZcIlwiOm46KHQ9ci5hdHRyaWJ1dGVOYW1lLGk9ci5hdHRyaWJ1dGVOYW1lc3BhY2UsbnVsbD09PW4/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6KG49Mz09PShyPXIudHlwZSl8fDQ9PT1yJiYhMD09PW4/XCJcIjpcIlwiK24saT9lLnNldEF0dHJpYnV0ZU5TKGksdCxuKTplLnNldEF0dHJpYnV0ZSh0LG4pKSkpfVkuaGFzT3duUHJvcGVydHkoXCJSZWFjdEN1cnJlbnREaXNwYXRjaGVyXCIpfHwoWS5SZWFjdEN1cnJlbnREaXNwYXRjaGVyPXtjdXJyZW50Om51bGx9KSxZLmhhc093blByb3BlcnR5KFwiUmVhY3RDdXJyZW50QmF0Y2hDb25maWdcIil8fChZLlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnPXtzdXNwZW5zZTpudWxsfSk7dmFyIFE9L14oLiopW1xcXFxcXC9dLyxLPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmZvcixlZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzLHRlPUs/U3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKTo2MDEwNixuZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKTo2MDEwNyxpZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKTo2MDEwOCxyZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTo2MDExNCxvZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTo2MDEwOSxhZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpOjYwMTEwLHNlPUs/U3ltYm9sLmZvcihcInJlYWN0LmNvbmN1cnJlbnRfbW9kZVwiKTo2MDExMSxsZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKTo2MDExMixjZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKTo2MDExMyx1ZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpOjYwMTIwLGhlPUs/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsZGU9Sz9TeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKTo2MDExNixwZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5ibG9ja1wiKTo2MDEyMSxmZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcjtmdW5jdGlvbiBtZShlKXtyZXR1cm4gbnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlP251bGw6XCJmdW5jdGlvblwiPT10eXBlb2YoZT1mZSYmZVtmZV18fGVbXCJAQGl0ZXJhdG9yXCJdKT9lOm51bGx9ZnVuY3Rpb24gZ2UoZSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBlLmRpc3BsYXlOYW1lfHxlLm5hbWV8fG51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGU7c3dpdGNoKGUpe2Nhc2UgbmU6cmV0dXJuXCJGcmFnbWVudFwiO2Nhc2UgdGU6cmV0dXJuXCJQb3J0YWxcIjtjYXNlIHJlOnJldHVyblwiUHJvZmlsZXJcIjtjYXNlIGllOnJldHVyblwiU3RyaWN0TW9kZVwiO2Nhc2UgY2U6cmV0dXJuXCJTdXNwZW5zZVwiO2Nhc2UgdWU6cmV0dXJuXCJTdXNwZW5zZUxpc3RcIn1pZihcIm9iamVjdFwiPT10eXBlb2YgZSlzd2l0Y2goZS4kJHR5cGVvZil7Y2FzZSBhZTpyZXR1cm5cIkNvbnRleHQuQ29uc3VtZXJcIjtjYXNlIG9lOnJldHVyblwiQ29udGV4dC5Qcm92aWRlclwiO2Nhc2UgbGU6dmFyIHQ9ZS5yZW5kZXI7cmV0dXJuIHQ9dC5kaXNwbGF5TmFtZXx8dC5uYW1lfHxcIlwiLGUuZGlzcGxheU5hbWV8fChcIlwiIT09dD9cIkZvcndhcmRSZWYoXCIrdCtcIilcIjpcIkZvcndhcmRSZWZcIik7Y2FzZSBoZTpyZXR1cm4gZ2UoZS50eXBlKTtjYXNlIHBlOnJldHVybiBnZShlLnJlbmRlcik7Y2FzZSBkZTppZihlPTE9PT1lLl9zdGF0dXM/ZS5fcmVzdWx0Om51bGwpcmV0dXJuIGdlKGUpfXJldHVybiBudWxsfWZ1bmN0aW9uIHllKGUpe3ZhciB0PVwiXCI7ZG97ZTpzd2l0Y2goZS50YWcpe2Nhc2UgMzpjYXNlIDQ6Y2FzZSA2OmNhc2UgNzpjYXNlIDEwOmNhc2UgOTp2YXIgbj1cIlwiO2JyZWFrIGU7ZGVmYXVsdDp2YXIgaT1lLl9kZWJ1Z093bmVyLHI9ZS5fZGVidWdTb3VyY2Usbz1nZShlLnR5cGUpO249bnVsbCxpJiYobj1nZShpLnR5cGUpKSxpPW8sbz1cIlwiLHI/bz1cIiAoYXQgXCIrci5maWxlTmFtZS5yZXBsYWNlKFEsXCJcIikrXCI6XCIrci5saW5lTnVtYmVyK1wiKVwiOm4mJihvPVwiIChjcmVhdGVkIGJ5IFwiK24rXCIpXCIpLG49XCJcXG4gICAgaW4gXCIrKGl8fFwiVW5rbm93blwiKStvfXQrPW4sZT1lLnJldHVybn13aGlsZShlKTtyZXR1cm4gdH1mdW5jdGlvbiBfZShlKXtzd2l0Y2godHlwZW9mIGUpe2Nhc2VcImJvb2xlYW5cIjpjYXNlXCJudW1iZXJcIjpjYXNlXCJvYmplY3RcIjpjYXNlXCJzdHJpbmdcIjpjYXNlXCJ1bmRlZmluZWRcIjpyZXR1cm4gZTtkZWZhdWx0OnJldHVyblwiXCJ9fWZ1bmN0aW9uIHZlKGUpe3ZhciB0PWUudHlwZTtyZXR1cm4oZT1lLm5vZGVOYW1lKSYmXCJpbnB1dFwiPT09ZS50b0xvd2VyQ2FzZSgpJiYoXCJjaGVja2JveFwiPT09dHx8XCJyYWRpb1wiPT09dCl9ZnVuY3Rpb24geGUoZSl7ZS5fdmFsdWVUcmFja2VyfHwoZS5fdmFsdWVUcmFja2VyPWZ1bmN0aW9uKGUpe3ZhciB0PXZlKGUpP1wiY2hlY2tlZFwiOlwidmFsdWVcIixuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsdCksaT1cIlwiK2VbdF07aWYoIWUuaGFzT3duUHJvcGVydHkodCkmJnZvaWQgMCE9PW4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4uZ2V0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLnNldCl7dmFyIHI9bi5nZXQsbz1uLnNldDtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmNhbGwodGhpcyl9LHNldDpmdW5jdGlvbihlKXtpPVwiXCIrZSxvLmNhbGwodGhpcyxlKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOm4uZW51bWVyYWJsZX0pLHtnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiBpfSxzZXRWYWx1ZTpmdW5jdGlvbihlKXtpPVwiXCIrZX0sc3RvcFRyYWNraW5nOmZ1bmN0aW9uKCl7ZS5fdmFsdWVUcmFja2VyPW51bGwsZGVsZXRlIGVbdF19fX19KGUpKX1mdW5jdGlvbiBiZShlKXtpZighZSlyZXR1cm4hMTt2YXIgdD1lLl92YWx1ZVRyYWNrZXI7aWYoIXQpcmV0dXJuITA7dmFyIG49dC5nZXRWYWx1ZSgpLGk9XCJcIjtyZXR1cm4gZSYmKGk9dmUoZSk/ZS5jaGVja2VkP1widHJ1ZVwiOlwiZmFsc2VcIjplLnZhbHVlKSwoZT1pKSE9PW4mJih0LnNldFZhbHVlKGUpLCEwKX1mdW5jdGlvbiB3ZShlLHQpe3ZhciBuPXQuY2hlY2tlZDtyZXR1cm4gcih7fSx0LHtkZWZhdWx0Q2hlY2tlZDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMCx2YWx1ZTp2b2lkIDAsY2hlY2tlZDpudWxsIT1uP246ZS5fd3JhcHBlclN0YXRlLmluaXRpYWxDaGVja2VkfSl9ZnVuY3Rpb24gVGUoZSx0KXt2YXIgbj1udWxsPT10LmRlZmF1bHRWYWx1ZT9cIlwiOnQuZGVmYXVsdFZhbHVlLGk9bnVsbCE9dC5jaGVja2VkP3QuY2hlY2tlZDp0LmRlZmF1bHRDaGVja2VkO249X2UobnVsbCE9dC52YWx1ZT90LnZhbHVlOm4pLGUuX3dyYXBwZXJTdGF0ZT17aW5pdGlhbENoZWNrZWQ6aSxpbml0aWFsVmFsdWU6bixjb250cm9sbGVkOlwiY2hlY2tib3hcIj09PXQudHlwZXx8XCJyYWRpb1wiPT09dC50eXBlP251bGwhPXQuY2hlY2tlZDpudWxsIT10LnZhbHVlfX1mdW5jdGlvbiBFZShlLHQpe251bGwhPSh0PXQuY2hlY2tlZCkmJkooZSxcImNoZWNrZWRcIix0LCExKX1mdW5jdGlvbiBTZShlLHQpe0VlKGUsdCk7dmFyIG49X2UodC52YWx1ZSksaT10LnR5cGU7aWYobnVsbCE9bilcIm51bWJlclwiPT09aT8oMD09PW4mJlwiXCI9PT1lLnZhbHVlfHxlLnZhbHVlIT1uKSYmKGUudmFsdWU9XCJcIituKTplLnZhbHVlIT09XCJcIituJiYoZS52YWx1ZT1cIlwiK24pO2Vsc2UgaWYoXCJzdWJtaXRcIj09PWl8fFwicmVzZXRcIj09PWkpcmV0dXJuIHZvaWQgZS5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTt0Lmhhc093blByb3BlcnR5KFwidmFsdWVcIik/SWUoZSx0LnR5cGUsbik6dC5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSYmSWUoZSx0LnR5cGUsX2UodC5kZWZhdWx0VmFsdWUpKSxudWxsPT10LmNoZWNrZWQmJm51bGwhPXQuZGVmYXVsdENoZWNrZWQmJihlLmRlZmF1bHRDaGVja2VkPSEhdC5kZWZhdWx0Q2hlY2tlZCl9ZnVuY3Rpb24gTWUoZSx0LG4pe2lmKHQuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKXx8dC5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSl7dmFyIGk9dC50eXBlO2lmKCEoXCJzdWJtaXRcIiE9PWkmJlwicmVzZXRcIiE9PWl8fHZvaWQgMCE9PXQudmFsdWUmJm51bGwhPT10LnZhbHVlKSlyZXR1cm47dD1cIlwiK2UuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUsbnx8dD09PWUudmFsdWV8fChlLnZhbHVlPXQpLGUuZGVmYXVsdFZhbHVlPXR9XCJcIiE9PShuPWUubmFtZSkmJihlLm5hbWU9XCJcIiksZS5kZWZhdWx0Q2hlY2tlZD0hIWUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsQ2hlY2tlZCxcIlwiIT09biYmKGUubmFtZT1uKX1mdW5jdGlvbiBJZShlLHQsbil7XCJudW1iZXJcIj09PXQmJmUub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZXx8KG51bGw9PW4/ZS5kZWZhdWx0VmFsdWU9XCJcIitlLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlOmUuZGVmYXVsdFZhbHVlIT09XCJcIituJiYoZS5kZWZhdWx0VmFsdWU9XCJcIituKSl9ZnVuY3Rpb24gQ2UoZSx0KXtyZXR1cm4gZT1yKHtjaGlsZHJlbjp2b2lkIDB9LHQpLCh0PWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7cmV0dXJuIGkuQ2hpbGRyZW4uZm9yRWFjaChlLChmdW5jdGlvbihlKXtudWxsIT1lJiYodCs9ZSl9KSksdH0odC5jaGlsZHJlbikpJiYoZS5jaGlsZHJlbj10KSxlfWZ1bmN0aW9uIGtlKGUsdCxuLGkpe2lmKGU9ZS5vcHRpb25zLHQpe3Q9e307Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspdFtcIiRcIituW3JdXT0hMDtmb3Iobj0wO248ZS5sZW5ndGg7bisrKXI9dC5oYXNPd25Qcm9wZXJ0eShcIiRcIitlW25dLnZhbHVlKSxlW25dLnNlbGVjdGVkIT09ciYmKGVbbl0uc2VsZWN0ZWQ9ciksciYmaSYmKGVbbl0uZGVmYXVsdFNlbGVjdGVkPSEwKX1lbHNle2ZvcihuPVwiXCIrX2UobiksdD1udWxsLHI9MDtyPGUubGVuZ3RoO3IrKyl7aWYoZVtyXS52YWx1ZT09PW4pcmV0dXJuIGVbcl0uc2VsZWN0ZWQ9ITAsdm9pZChpJiYoZVtyXS5kZWZhdWx0U2VsZWN0ZWQ9ITApKTtudWxsIT09dHx8ZVtyXS5kaXNhYmxlZHx8KHQ9ZVtyXSl9bnVsbCE9PXQmJih0LnNlbGVjdGVkPSEwKX19ZnVuY3Rpb24gQWUoZSx0KXtpZihudWxsIT10LmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKXRocm93IEVycm9yKGEoOTEpKTtyZXR1cm4gcih7fSx0LHt2YWx1ZTp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMCxjaGlsZHJlbjpcIlwiK2UuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWV9KX1mdW5jdGlvbiBQZShlLHQpe3ZhciBuPXQudmFsdWU7aWYobnVsbD09bil7aWYobj10LmNoaWxkcmVuLHQ9dC5kZWZhdWx0VmFsdWUsbnVsbCE9bil7aWYobnVsbCE9dCl0aHJvdyBFcnJvcihhKDkyKSk7aWYoQXJyYXkuaXNBcnJheShuKSl7aWYoISgxPj1uLmxlbmd0aCkpdGhyb3cgRXJyb3IoYSg5MykpO249blswXX10PW59bnVsbD09dCYmKHQ9XCJcIiksbj10fWUuX3dyYXBwZXJTdGF0ZT17aW5pdGlhbFZhbHVlOl9lKG4pfX1mdW5jdGlvbiB6ZShlLHQpe3ZhciBuPV9lKHQudmFsdWUpLGk9X2UodC5kZWZhdWx0VmFsdWUpO251bGwhPW4mJigobj1cIlwiK24pIT09ZS52YWx1ZSYmKGUudmFsdWU9biksbnVsbD09dC5kZWZhdWx0VmFsdWUmJmUuZGVmYXVsdFZhbHVlIT09biYmKGUuZGVmYXVsdFZhbHVlPW4pKSxudWxsIT1pJiYoZS5kZWZhdWx0VmFsdWU9XCJcIitpKX1mdW5jdGlvbiBEZShlKXt2YXIgdD1lLnRleHRDb250ZW50O3Q9PT1lLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlJiZcIlwiIT09dCYmbnVsbCE9PXQmJihlLnZhbHVlPXQpfXZhciBMZT1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIixPZT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7ZnVuY3Rpb24gUmUoZSl7c3dpdGNoKGUpe2Nhc2VcInN2Z1wiOnJldHVyblwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtjYXNlXCJtYXRoXCI6cmV0dXJuXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI7ZGVmYXVsdDpyZXR1cm5cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIn19ZnVuY3Rpb24gQmUoZSx0KXtyZXR1cm4gbnVsbD09ZXx8XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI9PT1lP1JlKHQpOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj09PWUmJlwiZm9yZWlnbk9iamVjdFwiPT09dD9cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIjplfXZhciBqZSxGZT1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgTVNBcHAmJk1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uP2Z1bmN0aW9uKHQsbixpLHIpe01TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKChmdW5jdGlvbigpe3JldHVybiBlKHQsbil9KSl9OmV9KChmdW5jdGlvbihlLHQpe2lmKGUubmFtZXNwYWNlVVJJIT09T2V8fFwiaW5uZXJIVE1MXCJpbiBlKWUuaW5uZXJIVE1MPXQ7ZWxzZXtmb3IoKGplPWplfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5pbm5lckhUTUw9XCI8c3ZnPlwiK3QudmFsdWVPZigpLnRvU3RyaW5nKCkrXCI8L3N2Zz5cIix0PWplLmZpcnN0Q2hpbGQ7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7Zm9yKDt0LmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQodC5maXJzdENoaWxkKX19KSk7ZnVuY3Rpb24gTmUoZSx0KXtpZih0KXt2YXIgbj1lLmZpcnN0Q2hpbGQ7aWYobiYmbj09PWUubGFzdENoaWxkJiYzPT09bi5ub2RlVHlwZSlyZXR1cm4gdm9pZChuLm5vZGVWYWx1ZT10KX1lLnRleHRDb250ZW50PXR9ZnVuY3Rpb24gVWUoZSx0KXt2YXIgbj17fTtyZXR1cm4gbltlLnRvTG93ZXJDYXNlKCldPXQudG9Mb3dlckNhc2UoKSxuW1wiV2Via2l0XCIrZV09XCJ3ZWJraXRcIit0LG5bXCJNb3pcIitlXT1cIm1velwiK3Qsbn12YXIgVmU9e2FuaW1hdGlvbmVuZDpVZShcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uRW5kXCIpLGFuaW1hdGlvbml0ZXJhdGlvbjpVZShcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uSXRlcmF0aW9uXCIpLGFuaW1hdGlvbnN0YXJ0OlVlKFwiQW5pbWF0aW9uXCIsXCJBbmltYXRpb25TdGFydFwiKSx0cmFuc2l0aW9uZW5kOlVlKFwiVHJhbnNpdGlvblwiLFwiVHJhbnNpdGlvbkVuZFwiKX0sR2U9e30sWmU9e307ZnVuY3Rpb24gV2UoZSl7aWYoR2VbZV0pcmV0dXJuIEdlW2VdO2lmKCFWZVtlXSlyZXR1cm4gZTt2YXIgdCxuPVZlW2VdO2Zvcih0IGluIG4paWYobi5oYXNPd25Qcm9wZXJ0eSh0KSYmdCBpbiBaZSlyZXR1cm4gR2VbZV09blt0XTtyZXR1cm4gZX1JJiYoWmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxcIkFuaW1hdGlvbkV2ZW50XCJpbiB3aW5kb3d8fChkZWxldGUgVmUuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbixkZWxldGUgVmUuYW5pbWF0aW9uaXRlcmF0aW9uLmFuaW1hdGlvbixkZWxldGUgVmUuYW5pbWF0aW9uc3RhcnQuYW5pbWF0aW9uKSxcIlRyYW5zaXRpb25FdmVudFwiaW4gd2luZG93fHxkZWxldGUgVmUudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uKTt2YXIgcWU9V2UoXCJhbmltYXRpb25lbmRcIiksJGU9V2UoXCJhbmltYXRpb25pdGVyYXRpb25cIiksSGU9V2UoXCJhbmltYXRpb25zdGFydFwiKSxYZT1XZShcInRyYW5zaXRpb25lbmRcIiksWWU9XCJhYm9ydCBjYW5wbGF5IGNhbnBsYXl0aHJvdWdoIGR1cmF0aW9uY2hhbmdlIGVtcHRpZWQgZW5jcnlwdGVkIGVuZGVkIGVycm9yIGxvYWRlZGRhdGEgbG9hZGVkbWV0YWRhdGEgbG9hZHN0YXJ0IHBhdXNlIHBsYXkgcGxheWluZyBwcm9ncmVzcyByYXRlY2hhbmdlIHNlZWtlZCBzZWVraW5nIHN0YWxsZWQgc3VzcGVuZCB0aW1ldXBkYXRlIHZvbHVtZWNoYW5nZSB3YWl0aW5nXCIuc3BsaXQoXCIgXCIpLEplPW5ldyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWFrTWFwP1dlYWtNYXA6TWFwKTtmdW5jdGlvbiBRZShlKXt2YXIgdD1KZS5nZXQoZSk7cmV0dXJuIHZvaWQgMD09PXQmJih0PW5ldyBNYXAsSmUuc2V0KGUsdCkpLHR9ZnVuY3Rpb24gS2UoZSl7dmFyIHQ9ZSxuPWU7aWYoZS5hbHRlcm5hdGUpZm9yKDt0LnJldHVybjspdD10LnJldHVybjtlbHNle2U9dDtkb3swIT0oMTAyNiYodD1lKS5lZmZlY3RUYWcpJiYobj10LnJldHVybiksZT10LnJldHVybn13aGlsZShlKX1yZXR1cm4gMz09PXQudGFnP246bnVsbH1mdW5jdGlvbiBldChlKXtpZigxMz09PWUudGFnKXt2YXIgdD1lLm1lbW9pemVkU3RhdGU7aWYobnVsbD09PXQmJihudWxsIT09KGU9ZS5hbHRlcm5hdGUpJiYodD1lLm1lbW9pemVkU3RhdGUpKSxudWxsIT09dClyZXR1cm4gdC5kZWh5ZHJhdGVkfXJldHVybiBudWxsfWZ1bmN0aW9uIHR0KGUpe2lmKEtlKGUpIT09ZSl0aHJvdyBFcnJvcihhKDE4OCkpfWZ1bmN0aW9uIG50KGUpe2lmKCEoZT1mdW5jdGlvbihlKXt2YXIgdD1lLmFsdGVybmF0ZTtpZighdCl7aWYobnVsbD09PSh0PUtlKGUpKSl0aHJvdyBFcnJvcihhKDE4OCkpO3JldHVybiB0IT09ZT9udWxsOmV9Zm9yKHZhciBuPWUsaT10Ozspe3ZhciByPW4ucmV0dXJuO2lmKG51bGw9PT1yKWJyZWFrO3ZhciBvPXIuYWx0ZXJuYXRlO2lmKG51bGw9PT1vKXtpZihudWxsIT09KGk9ci5yZXR1cm4pKXtuPWk7Y29udGludWV9YnJlYWt9aWYoci5jaGlsZD09PW8uY2hpbGQpe2ZvcihvPXIuY2hpbGQ7bzspe2lmKG89PT1uKXJldHVybiB0dChyKSxlO2lmKG89PT1pKXJldHVybiB0dChyKSx0O289by5zaWJsaW5nfXRocm93IEVycm9yKGEoMTg4KSl9aWYobi5yZXR1cm4hPT1pLnJldHVybiluPXIsaT1vO2Vsc2V7Zm9yKHZhciBzPSExLGw9ci5jaGlsZDtsOyl7aWYobD09PW4pe3M9ITAsbj1yLGk9bzticmVha31pZihsPT09aSl7cz0hMCxpPXIsbj1vO2JyZWFrfWw9bC5zaWJsaW5nfWlmKCFzKXtmb3IobD1vLmNoaWxkO2w7KXtpZihsPT09bil7cz0hMCxuPW8saT1yO2JyZWFrfWlmKGw9PT1pKXtzPSEwLGk9byxuPXI7YnJlYWt9bD1sLnNpYmxpbmd9aWYoIXMpdGhyb3cgRXJyb3IoYSgxODkpKX19aWYobi5hbHRlcm5hdGUhPT1pKXRocm93IEVycm9yKGEoMTkwKSl9aWYoMyE9PW4udGFnKXRocm93IEVycm9yKGEoMTg4KSk7cmV0dXJuIG4uc3RhdGVOb2RlLmN1cnJlbnQ9PT1uP2U6dH0oZSkpKXJldHVybiBudWxsO2Zvcih2YXIgdD1lOzspe2lmKDU9PT10LnRhZ3x8Nj09PXQudGFnKXJldHVybiB0O2lmKHQuY2hpbGQpdC5jaGlsZC5yZXR1cm49dCx0PXQuY2hpbGQ7ZWxzZXtpZih0PT09ZSlicmVhaztmb3IoOyF0LnNpYmxpbmc7KXtpZighdC5yZXR1cm58fHQucmV0dXJuPT09ZSlyZXR1cm4gbnVsbDt0PXQucmV0dXJufXQuc2libGluZy5yZXR1cm49dC5yZXR1cm4sdD10LnNpYmxpbmd9fXJldHVybiBudWxsfWZ1bmN0aW9uIGl0KGUsdCl7aWYobnVsbD09dCl0aHJvdyBFcnJvcihhKDMwKSk7cmV0dXJuIG51bGw9PWU/dDpBcnJheS5pc0FycmF5KGUpP0FycmF5LmlzQXJyYXkodCk/KGUucHVzaC5hcHBseShlLHQpLGUpOihlLnB1c2godCksZSk6QXJyYXkuaXNBcnJheSh0KT9bZV0uY29uY2F0KHQpOltlLHRdfWZ1bmN0aW9uIHJ0KGUsdCxuKXtBcnJheS5pc0FycmF5KGUpP2UuZm9yRWFjaCh0LG4pOmUmJnQuY2FsbChuLGUpfXZhciBvdD1udWxsO2Z1bmN0aW9uIGF0KGUpe2lmKGUpe3ZhciB0PWUuX2Rpc3BhdGNoTGlzdGVuZXJzLG49ZS5fZGlzcGF0Y2hJbnN0YW5jZXM7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIGk9MDtpPHQubGVuZ3RoJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpO2krKyl5KGUsdFtpXSxuW2ldKTtlbHNlIHQmJnkoZSx0LG4pO2UuX2Rpc3BhdGNoTGlzdGVuZXJzPW51bGwsZS5fZGlzcGF0Y2hJbnN0YW5jZXM9bnVsbCxlLmlzUGVyc2lzdGVudCgpfHxlLmNvbnN0cnVjdG9yLnJlbGVhc2UoZSl9fWZ1bmN0aW9uIHN0KGUpe2lmKG51bGwhPT1lJiYob3Q9aXQob3QsZSkpLGU9b3Qsb3Q9bnVsbCxlKXtpZihydChlLGF0KSxvdCl0aHJvdyBFcnJvcihhKDk1KSk7aWYodSl0aHJvdyBlPWgsdT0hMSxoPW51bGwsZX19ZnVuY3Rpb24gbHQoZSl7cmV0dXJuKGU9ZS50YXJnZXR8fGUuc3JjRWxlbWVudHx8d2luZG93KS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCYmKGU9ZS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCksMz09PWUubm9kZVR5cGU/ZS5wYXJlbnROb2RlOmV9ZnVuY3Rpb24gY3QoZSl7aWYoIUkpcmV0dXJuITE7dmFyIHQ9KGU9XCJvblwiK2UpaW4gZG9jdW1lbnQ7cmV0dXJuIHR8fCgodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5zZXRBdHRyaWJ1dGUoZSxcInJldHVybjtcIiksdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0W2VdKSx0fXZhciB1dD1bXTtmdW5jdGlvbiBodChlKXtlLnRvcExldmVsVHlwZT1udWxsLGUubmF0aXZlRXZlbnQ9bnVsbCxlLnRhcmdldEluc3Q9bnVsbCxlLmFuY2VzdG9ycy5sZW5ndGg9MCwxMD51dC5sZW5ndGgmJnV0LnB1c2goZSl9ZnVuY3Rpb24gZHQoZSx0LG4saSl7aWYodXQubGVuZ3RoKXt2YXIgcj11dC5wb3AoKTtyZXR1cm4gci50b3BMZXZlbFR5cGU9ZSxyLmV2ZW50U3lzdGVtRmxhZ3M9aSxyLm5hdGl2ZUV2ZW50PXQsci50YXJnZXRJbnN0PW4scn1yZXR1cm57dG9wTGV2ZWxUeXBlOmUsZXZlbnRTeXN0ZW1GbGFnczppLG5hdGl2ZUV2ZW50OnQsdGFyZ2V0SW5zdDpuLGFuY2VzdG9yczpbXX19ZnVuY3Rpb24gcHQoZSl7dmFyIHQ9ZS50YXJnZXRJbnN0LG49dDtkb3tpZighbil7ZS5hbmNlc3RvcnMucHVzaChuKTticmVha312YXIgaT1uO2lmKDM9PT1pLnRhZylpPWkuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87ZWxzZXtmb3IoO2kucmV0dXJuOylpPWkucmV0dXJuO2k9MyE9PWkudGFnP251bGw6aS5zdGF0ZU5vZGUuY29udGFpbmVySW5mb31pZighaSlicmVhazs1IT09KHQ9bi50YWcpJiY2IT09dHx8ZS5hbmNlc3RvcnMucHVzaChuKSxuPUluKGkpfXdoaWxlKG4pO2ZvcihuPTA7bjxlLmFuY2VzdG9ycy5sZW5ndGg7bisrKXt0PWUuYW5jZXN0b3JzW25dO3ZhciByPWx0KGUubmF0aXZlRXZlbnQpO2k9ZS50b3BMZXZlbFR5cGU7dmFyIG89ZS5uYXRpdmVFdmVudCxhPWUuZXZlbnRTeXN0ZW1GbGFnczswPT09biYmKGF8PTY0KTtmb3IodmFyIHM9bnVsbCxsPTA7bDx3Lmxlbmd0aDtsKyspe3ZhciBjPXdbbF07YyYmKGM9Yy5leHRyYWN0RXZlbnRzKGksdCxvLHIsYSkpJiYocz1pdChzLGMpKX1zdChzKX19ZnVuY3Rpb24gZnQoZSx0LG4pe2lmKCFuLmhhcyhlKSl7c3dpdGNoKGUpe2Nhc2VcInNjcm9sbFwiOkh0KHQsXCJzY3JvbGxcIiwhMCk7YnJlYWs7Y2FzZVwiZm9jdXNcIjpjYXNlXCJibHVyXCI6SHQodCxcImZvY3VzXCIsITApLEh0KHQsXCJibHVyXCIsITApLG4uc2V0KFwiYmx1clwiLG51bGwpLG4uc2V0KFwiZm9jdXNcIixudWxsKTticmVhaztjYXNlXCJjYW5jZWxcIjpjYXNlXCJjbG9zZVwiOmN0KGUpJiZIdCh0LGUsITApO2JyZWFrO2Nhc2VcImludmFsaWRcIjpjYXNlXCJzdWJtaXRcIjpjYXNlXCJyZXNldFwiOmJyZWFrO2RlZmF1bHQ6LTE9PT1ZZS5pbmRleE9mKGUpJiYkdChlLHQpfW4uc2V0KGUsbnVsbCl9fXZhciBtdCxndCx5dCxfdD0hMSx2dD1bXSx4dD1udWxsLGJ0PW51bGwsd3Q9bnVsbCxUdD1uZXcgTWFwLEV0PW5ldyBNYXAsU3Q9W10sTXQ9XCJtb3VzZWRvd24gbW91c2V1cCB0b3VjaGNhbmNlbCB0b3VjaGVuZCB0b3VjaHN0YXJ0IGF1eGNsaWNrIGRibGNsaWNrIHBvaW50ZXJjYW5jZWwgcG9pbnRlcmRvd24gcG9pbnRlcnVwIGRyYWdlbmQgZHJhZ3N0YXJ0IGRyb3AgY29tcG9zaXRpb25lbmQgY29tcG9zaXRpb25zdGFydCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IHRleHRJbnB1dCBjbG9zZSBjYW5jZWwgY29weSBjdXQgcGFzdGUgY2xpY2sgY2hhbmdlIGNvbnRleHRtZW51IHJlc2V0IHN1Ym1pdFwiLnNwbGl0KFwiIFwiKSxJdD1cImZvY3VzIGJsdXIgZHJhZ2VudGVyIGRyYWdsZWF2ZSBtb3VzZW92ZXIgbW91c2VvdXQgcG9pbnRlcm92ZXIgcG9pbnRlcm91dCBnb3Rwb2ludGVyY2FwdHVyZSBsb3N0cG9pbnRlcmNhcHR1cmVcIi5zcGxpdChcIiBcIik7ZnVuY3Rpb24gQ3QoZSx0LG4saSxyKXtyZXR1cm57YmxvY2tlZE9uOmUsdG9wTGV2ZWxUeXBlOnQsZXZlbnRTeXN0ZW1GbGFnczozMnxuLG5hdGl2ZUV2ZW50OnIsY29udGFpbmVyOml9fWZ1bmN0aW9uIGt0KGUsdCl7c3dpdGNoKGUpe2Nhc2VcImZvY3VzXCI6Y2FzZVwiYmx1clwiOnh0PW51bGw7YnJlYWs7Y2FzZVwiZHJhZ2VudGVyXCI6Y2FzZVwiZHJhZ2xlYXZlXCI6YnQ9bnVsbDticmVhaztjYXNlXCJtb3VzZW92ZXJcIjpjYXNlXCJtb3VzZW91dFwiOnd0PW51bGw7YnJlYWs7Y2FzZVwicG9pbnRlcm92ZXJcIjpjYXNlXCJwb2ludGVyb3V0XCI6VHQuZGVsZXRlKHQucG9pbnRlcklkKTticmVhaztjYXNlXCJnb3Rwb2ludGVyY2FwdHVyZVwiOmNhc2VcImxvc3Rwb2ludGVyY2FwdHVyZVwiOkV0LmRlbGV0ZSh0LnBvaW50ZXJJZCl9fWZ1bmN0aW9uIEF0KGUsdCxuLGkscixvKXtyZXR1cm4gbnVsbD09PWV8fGUubmF0aXZlRXZlbnQhPT1vPyhlPUN0KHQsbixpLHIsbyksbnVsbCE9PXQmJihudWxsIT09KHQ9Q24odCkpJiZndCh0KSksZSk6KGUuZXZlbnRTeXN0ZW1GbGFnc3w9aSxlKX1mdW5jdGlvbiBQdChlKXt2YXIgdD1JbihlLnRhcmdldCk7aWYobnVsbCE9PXQpe3ZhciBuPUtlKHQpO2lmKG51bGwhPT1uKWlmKDEzPT09KHQ9bi50YWcpKXtpZihudWxsIT09KHQ9ZXQobikpKXJldHVybiBlLmJsb2NrZWRPbj10LHZvaWQgby51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHkoZS5wcmlvcml0eSwoZnVuY3Rpb24oKXt5dChuKX0pKX1lbHNlIGlmKDM9PT10JiZuLnN0YXRlTm9kZS5oeWRyYXRlKXJldHVybiB2b2lkKGUuYmxvY2tlZE9uPTM9PT1uLnRhZz9uLnN0YXRlTm9kZS5jb250YWluZXJJbmZvOm51bGwpfWUuYmxvY2tlZE9uPW51bGx9ZnVuY3Rpb24genQoZSl7aWYobnVsbCE9PWUuYmxvY2tlZE9uKXJldHVybiExO3ZhciB0PVF0KGUudG9wTGV2ZWxUeXBlLGUuZXZlbnRTeXN0ZW1GbGFncyxlLmNvbnRhaW5lcixlLm5hdGl2ZUV2ZW50KTtpZihudWxsIT09dCl7dmFyIG49Q24odCk7cmV0dXJuIG51bGwhPT1uJiZndChuKSxlLmJsb2NrZWRPbj10LCExfXJldHVybiEwfWZ1bmN0aW9uIER0KGUsdCxuKXt6dChlKSYmbi5kZWxldGUodCl9ZnVuY3Rpb24gTHQoKXtmb3IoX3Q9ITE7MDx2dC5sZW5ndGg7KXt2YXIgZT12dFswXTtpZihudWxsIT09ZS5ibG9ja2VkT24pe251bGwhPT0oZT1DbihlLmJsb2NrZWRPbikpJiZtdChlKTticmVha312YXIgdD1RdChlLnRvcExldmVsVHlwZSxlLmV2ZW50U3lzdGVtRmxhZ3MsZS5jb250YWluZXIsZS5uYXRpdmVFdmVudCk7bnVsbCE9PXQ/ZS5ibG9ja2VkT249dDp2dC5zaGlmdCgpfW51bGwhPT14dCYmenQoeHQpJiYoeHQ9bnVsbCksbnVsbCE9PWJ0JiZ6dChidCkmJihidD1udWxsKSxudWxsIT09d3QmJnp0KHd0KSYmKHd0PW51bGwpLFR0LmZvckVhY2goRHQpLEV0LmZvckVhY2goRHQpfWZ1bmN0aW9uIE90KGUsdCl7ZS5ibG9ja2VkT249PT10JiYoZS5ibG9ja2VkT249bnVsbCxfdHx8KF90PSEwLG8udW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayhvLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LEx0KSkpfWZ1bmN0aW9uIFJ0KGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIE90KHQsZSl9aWYoMDx2dC5sZW5ndGgpe090KHZ0WzBdLGUpO2Zvcih2YXIgbj0xO248dnQubGVuZ3RoO24rKyl7dmFyIGk9dnRbbl07aS5ibG9ja2VkT249PT1lJiYoaS5ibG9ja2VkT249bnVsbCl9fWZvcihudWxsIT09eHQmJk90KHh0LGUpLG51bGwhPT1idCYmT3QoYnQsZSksbnVsbCE9PXd0JiZPdCh3dCxlKSxUdC5mb3JFYWNoKHQpLEV0LmZvckVhY2godCksbj0wO248U3QubGVuZ3RoO24rKykoaT1TdFtuXSkuYmxvY2tlZE9uPT09ZSYmKGkuYmxvY2tlZE9uPW51bGwpO2Zvcig7MDxTdC5sZW5ndGgmJm51bGw9PT0obj1TdFswXSkuYmxvY2tlZE9uOylQdChuKSxudWxsPT09bi5ibG9ja2VkT24mJlN0LnNoaWZ0KCl9dmFyIEJ0PXt9LGp0PW5ldyBNYXAsRnQ9bmV3IE1hcCxOdD1bXCJhYm9ydFwiLFwiYWJvcnRcIixxZSxcImFuaW1hdGlvbkVuZFwiLCRlLFwiYW5pbWF0aW9uSXRlcmF0aW9uXCIsSGUsXCJhbmltYXRpb25TdGFydFwiLFwiY2FucGxheVwiLFwiY2FuUGxheVwiLFwiY2FucGxheXRocm91Z2hcIixcImNhblBsYXlUaHJvdWdoXCIsXCJkdXJhdGlvbmNoYW5nZVwiLFwiZHVyYXRpb25DaGFuZ2VcIixcImVtcHRpZWRcIixcImVtcHRpZWRcIixcImVuY3J5cHRlZFwiLFwiZW5jcnlwdGVkXCIsXCJlbmRlZFwiLFwiZW5kZWRcIixcImVycm9yXCIsXCJlcnJvclwiLFwiZ290cG9pbnRlcmNhcHR1cmVcIixcImdvdFBvaW50ZXJDYXB0dXJlXCIsXCJsb2FkXCIsXCJsb2FkXCIsXCJsb2FkZWRkYXRhXCIsXCJsb2FkZWREYXRhXCIsXCJsb2FkZWRtZXRhZGF0YVwiLFwibG9hZGVkTWV0YWRhdGFcIixcImxvYWRzdGFydFwiLFwibG9hZFN0YXJ0XCIsXCJsb3N0cG9pbnRlcmNhcHR1cmVcIixcImxvc3RQb2ludGVyQ2FwdHVyZVwiLFwicGxheWluZ1wiLFwicGxheWluZ1wiLFwicHJvZ3Jlc3NcIixcInByb2dyZXNzXCIsXCJzZWVraW5nXCIsXCJzZWVraW5nXCIsXCJzdGFsbGVkXCIsXCJzdGFsbGVkXCIsXCJzdXNwZW5kXCIsXCJzdXNwZW5kXCIsXCJ0aW1ldXBkYXRlXCIsXCJ0aW1lVXBkYXRlXCIsWGUsXCJ0cmFuc2l0aW9uRW5kXCIsXCJ3YWl0aW5nXCIsXCJ3YWl0aW5nXCJdO2Z1bmN0aW9uIFV0KGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKz0yKXt2YXIgaT1lW25dLHI9ZVtuKzFdLG89XCJvblwiKyhyWzBdLnRvVXBwZXJDYXNlKCkrci5zbGljZSgxKSk7bz17cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6byxjYXB0dXJlZDpvK1wiQ2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6W2ldLGV2ZW50UHJpb3JpdHk6dH0sRnQuc2V0KGksdCksanQuc2V0KGksbyksQnRbcl09b319VXQoXCJibHVyIGJsdXIgY2FuY2VsIGNhbmNlbCBjbGljayBjbGljayBjbG9zZSBjbG9zZSBjb250ZXh0bWVudSBjb250ZXh0TWVudSBjb3B5IGNvcHkgY3V0IGN1dCBhdXhjbGljayBhdXhDbGljayBkYmxjbGljayBkb3VibGVDbGljayBkcmFnZW5kIGRyYWdFbmQgZHJhZ3N0YXJ0IGRyYWdTdGFydCBkcm9wIGRyb3AgZm9jdXMgZm9jdXMgaW5wdXQgaW5wdXQgaW52YWxpZCBpbnZhbGlkIGtleWRvd24ga2V5RG93biBrZXlwcmVzcyBrZXlQcmVzcyBrZXl1cCBrZXlVcCBtb3VzZWRvd24gbW91c2VEb3duIG1vdXNldXAgbW91c2VVcCBwYXN0ZSBwYXN0ZSBwYXVzZSBwYXVzZSBwbGF5IHBsYXkgcG9pbnRlcmNhbmNlbCBwb2ludGVyQ2FuY2VsIHBvaW50ZXJkb3duIHBvaW50ZXJEb3duIHBvaW50ZXJ1cCBwb2ludGVyVXAgcmF0ZWNoYW5nZSByYXRlQ2hhbmdlIHJlc2V0IHJlc2V0IHNlZWtlZCBzZWVrZWQgc3VibWl0IHN1Ym1pdCB0b3VjaGNhbmNlbCB0b3VjaENhbmNlbCB0b3VjaGVuZCB0b3VjaEVuZCB0b3VjaHN0YXJ0IHRvdWNoU3RhcnQgdm9sdW1lY2hhbmdlIHZvbHVtZUNoYW5nZVwiLnNwbGl0KFwiIFwiKSwwKSxVdChcImRyYWcgZHJhZyBkcmFnZW50ZXIgZHJhZ0VudGVyIGRyYWdleGl0IGRyYWdFeGl0IGRyYWdsZWF2ZSBkcmFnTGVhdmUgZHJhZ292ZXIgZHJhZ092ZXIgbW91c2Vtb3ZlIG1vdXNlTW92ZSBtb3VzZW91dCBtb3VzZU91dCBtb3VzZW92ZXIgbW91c2VPdmVyIHBvaW50ZXJtb3ZlIHBvaW50ZXJNb3ZlIHBvaW50ZXJvdXQgcG9pbnRlck91dCBwb2ludGVyb3ZlciBwb2ludGVyT3ZlciBzY3JvbGwgc2Nyb2xsIHRvZ2dsZSB0b2dnbGUgdG91Y2htb3ZlIHRvdWNoTW92ZSB3aGVlbCB3aGVlbFwiLnNwbGl0KFwiIFwiKSwxKSxVdChOdCwyKTtmb3IodmFyIFZ0PVwiY2hhbmdlIHNlbGVjdGlvbmNoYW5nZSB0ZXh0SW5wdXQgY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCBjb21wb3NpdGlvbnVwZGF0ZVwiLnNwbGl0KFwiIFwiKSxHdD0wO0d0PFZ0Lmxlbmd0aDtHdCsrKUZ0LnNldChWdFtHdF0sMCk7dmFyIFp0PW8udW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHksV3Q9by51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHkscXQ9ITA7ZnVuY3Rpb24gJHQoZSx0KXtIdCh0LGUsITEpfWZ1bmN0aW9uIEh0KGUsdCxuKXt2YXIgaT1GdC5nZXQodCk7c3dpdGNoKHZvaWQgMD09PWk/MjppKXtjYXNlIDA6aT1YdC5iaW5kKG51bGwsdCwxLGUpO2JyZWFrO2Nhc2UgMTppPVl0LmJpbmQobnVsbCx0LDEsZSk7YnJlYWs7ZGVmYXVsdDppPUp0LmJpbmQobnVsbCx0LDEsZSl9bj9lLmFkZEV2ZW50TGlzdGVuZXIodCxpLCEwKTplLmFkZEV2ZW50TGlzdGVuZXIodCxpLCExKX1mdW5jdGlvbiBYdChlLHQsbixpKXtqfHxSKCk7dmFyIHI9SnQsbz1qO2o9ITA7dHJ5e08ocixlLHQsbixpKX1maW5hbGx5eyhqPW8pfHxOKCl9fWZ1bmN0aW9uIFl0KGUsdCxuLGkpe1d0KFp0LEp0LmJpbmQobnVsbCxlLHQsbixpKSl9ZnVuY3Rpb24gSnQoZSx0LG4saSl7aWYocXQpaWYoMDx2dC5sZW5ndGgmJi0xPE10LmluZGV4T2YoZSkpZT1DdChudWxsLGUsdCxuLGkpLHZ0LnB1c2goZSk7ZWxzZXt2YXIgcj1RdChlLHQsbixpKTtpZihudWxsPT09cilrdChlLGkpO2Vsc2UgaWYoLTE8TXQuaW5kZXhPZihlKSllPUN0KHIsZSx0LG4saSksdnQucHVzaChlKTtlbHNlIGlmKCFmdW5jdGlvbihlLHQsbixpLHIpe3N3aXRjaCh0KXtjYXNlXCJmb2N1c1wiOnJldHVybiB4dD1BdCh4dCxlLHQsbixpLHIpLCEwO2Nhc2VcImRyYWdlbnRlclwiOnJldHVybiBidD1BdChidCxlLHQsbixpLHIpLCEwO2Nhc2VcIm1vdXNlb3ZlclwiOnJldHVybiB3dD1BdCh3dCxlLHQsbixpLHIpLCEwO2Nhc2VcInBvaW50ZXJvdmVyXCI6dmFyIG89ci5wb2ludGVySWQ7cmV0dXJuIFR0LnNldChvLEF0KFR0LmdldChvKXx8bnVsbCxlLHQsbixpLHIpKSwhMDtjYXNlXCJnb3Rwb2ludGVyY2FwdHVyZVwiOnJldHVybiBvPXIucG9pbnRlcklkLEV0LnNldChvLEF0KEV0LmdldChvKXx8bnVsbCxlLHQsbixpLHIpKSwhMH1yZXR1cm4hMX0ocixlLHQsbixpKSl7a3QoZSxpKSxlPWR0KGUsaSxudWxsLHQpO3RyeXtVKHB0LGUpfWZpbmFsbHl7aHQoZSl9fX19ZnVuY3Rpb24gUXQoZSx0LG4saSl7aWYobnVsbCE9PShuPUluKG49bHQoaSkpKSl7dmFyIHI9S2Uobik7aWYobnVsbD09PXIpbj1udWxsO2Vsc2V7dmFyIG89ci50YWc7aWYoMTM9PT1vKXtpZihudWxsIT09KG49ZXQocikpKXJldHVybiBuO249bnVsbH1lbHNlIGlmKDM9PT1vKXtpZihyLnN0YXRlTm9kZS5oeWRyYXRlKXJldHVybiAzPT09ci50YWc/ci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbzpudWxsO249bnVsbH1lbHNlIHIhPT1uJiYobj1udWxsKX19ZT1kdChlLGksbix0KTt0cnl7VShwdCxlKX1maW5hbGx5e2h0KGUpfXJldHVybiBudWxsfXZhciBLdD17YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsYm9yZGVySW1hZ2VPdXRzZXQ6ITAsYm9yZGVySW1hZ2VTbGljZTohMCxib3JkZXJJbWFnZVdpZHRoOiEwLGJveEZsZXg6ITAsYm94RmxleEdyb3VwOiEwLGJveE9yZGluYWxHcm91cDohMCxjb2x1bW5Db3VudDohMCxjb2x1bW5zOiEwLGZsZXg6ITAsZmxleEdyb3c6ITAsZmxleFBvc2l0aXZlOiEwLGZsZXhTaHJpbms6ITAsZmxleE5lZ2F0aXZlOiEwLGZsZXhPcmRlcjohMCxncmlkQXJlYTohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1NwYW46ITAsZ3JpZFJvd1N0YXJ0OiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3BhbjohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZm9udFdlaWdodDohMCxsaW5lQ2xhbXA6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsdGFiU2l6ZTohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITAsZmlsbE9wYWNpdHk6ITAsZmxvb2RPcGFjaXR5OiEwLHN0b3BPcGFjaXR5OiEwLHN0cm9rZURhc2hhcnJheTohMCxzdHJva2VEYXNob2Zmc2V0OiEwLHN0cm9rZU1pdGVybGltaXQ6ITAsc3Ryb2tlT3BhY2l0eTohMCxzdHJva2VXaWR0aDohMH0sZW49W1wiV2Via2l0XCIsXCJtc1wiLFwiTW96XCIsXCJPXCJdO2Z1bmN0aW9uIHRuKGUsdCxuKXtyZXR1cm4gbnVsbD09dHx8XCJib29sZWFuXCI9PXR5cGVvZiB0fHxcIlwiPT09dD9cIlwiOm58fFwibnVtYmVyXCIhPXR5cGVvZiB0fHwwPT09dHx8S3QuaGFzT3duUHJvcGVydHkoZSkmJkt0W2VdPyhcIlwiK3QpLnRyaW0oKTp0K1wicHhcIn1mdW5jdGlvbiBubihlLHQpe2Zvcih2YXIgbiBpbiBlPWUuc3R5bGUsdClpZih0Lmhhc093blByb3BlcnR5KG4pKXt2YXIgaT0wPT09bi5pbmRleE9mKFwiLS1cIikscj10bihuLHRbbl0saSk7XCJmbG9hdFwiPT09biYmKG49XCJjc3NGbG9hdFwiKSxpP2Uuc2V0UHJvcGVydHkobixyKTplW25dPXJ9fU9iamVjdC5rZXlzKEt0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtlbi5mb3JFYWNoKChmdW5jdGlvbih0KXt0PXQrZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnN1YnN0cmluZygxKSxLdFt0XT1LdFtlXX0pKX0pKTt2YXIgcm49cih7bWVudWl0ZW06ITB9LHthcmVhOiEwLGJhc2U6ITAsYnI6ITAsY29sOiEwLGVtYmVkOiEwLGhyOiEwLGltZzohMCxpbnB1dDohMCxrZXlnZW46ITAsbGluazohMCxtZXRhOiEwLHBhcmFtOiEwLHNvdXJjZTohMCx0cmFjazohMCx3YnI6ITB9KTtmdW5jdGlvbiBvbihlLHQpe2lmKHQpe2lmKHJuW2VdJiYobnVsbCE9dC5jaGlsZHJlbnx8bnVsbCE9dC5kYW5nZXJvdXNseVNldElubmVySFRNTCkpdGhyb3cgRXJyb3IoYSgxMzcsZSxcIlwiKSk7aWYobnVsbCE9dC5kYW5nZXJvdXNseVNldElubmVySFRNTCl7aWYobnVsbCE9dC5jaGlsZHJlbil0aHJvdyBFcnJvcihhKDYwKSk7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUx8fCEoXCJfX2h0bWxcImluIHQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpKXRocm93IEVycm9yKGEoNjEpKX1pZihudWxsIT10LnN0eWxlJiZcIm9iamVjdFwiIT10eXBlb2YgdC5zdHlsZSl0aHJvdyBFcnJvcihhKDYyLFwiXCIpKX19ZnVuY3Rpb24gYW4oZSx0KXtpZigtMT09PWUuaW5kZXhPZihcIi1cIikpcmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQuaXM7c3dpdGNoKGUpe2Nhc2VcImFubm90YXRpb24teG1sXCI6Y2FzZVwiY29sb3ItcHJvZmlsZVwiOmNhc2VcImZvbnQtZmFjZVwiOmNhc2VcImZvbnQtZmFjZS1zcmNcIjpjYXNlXCJmb250LWZhY2UtdXJpXCI6Y2FzZVwiZm9udC1mYWNlLWZvcm1hdFwiOmNhc2VcImZvbnQtZmFjZS1uYW1lXCI6Y2FzZVwibWlzc2luZy1nbHlwaFwiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuITB9fXZhciBzbj1MZTtmdW5jdGlvbiBsbihlLHQpe3ZhciBuPVFlKGU9OT09PWUubm9kZVR5cGV8fDExPT09ZS5ub2RlVHlwZT9lOmUub3duZXJEb2N1bWVudCk7dD1TW3RdO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWZ0KHRbaV0sZSxuKX1mdW5jdGlvbiBjbigpe31mdW5jdGlvbiB1bihlKXtpZih2b2lkIDA9PT0oZT1lfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50OnZvaWQgMCkpKXJldHVybiBudWxsO3RyeXtyZXR1cm4gZS5hY3RpdmVFbGVtZW50fHxlLmJvZHl9Y2F0Y2godCl7cmV0dXJuIGUuYm9keX19ZnVuY3Rpb24gaG4oZSl7Zm9yKDtlJiZlLmZpcnN0Q2hpbGQ7KWU9ZS5maXJzdENoaWxkO3JldHVybiBlfWZ1bmN0aW9uIGRuKGUsdCl7dmFyIG4saT1obihlKTtmb3IoZT0wO2k7KXtpZigzPT09aS5ub2RlVHlwZSl7aWYobj1lK2kudGV4dENvbnRlbnQubGVuZ3RoLGU8PXQmJm4+PXQpcmV0dXJue25vZGU6aSxvZmZzZXQ6dC1lfTtlPW59ZTp7Zm9yKDtpOyl7aWYoaS5uZXh0U2libGluZyl7aT1pLm5leHRTaWJsaW5nO2JyZWFrIGV9aT1pLnBhcmVudE5vZGV9aT12b2lkIDB9aT1obihpKX19ZnVuY3Rpb24gcG4oKXtmb3IodmFyIGU9d2luZG93LHQ9dW4oKTt0IGluc3RhbmNlb2YgZS5IVE1MSUZyYW1lRWxlbWVudDspe3RyeXt2YXIgbj1cInN0cmluZ1wiPT10eXBlb2YgdC5jb250ZW50V2luZG93LmxvY2F0aW9uLmhyZWZ9Y2F0Y2goZSl7bj0hMX1pZighbilicmVhazt0PXVuKChlPXQuY29udGVudFdpbmRvdykuZG9jdW1lbnQpfXJldHVybiB0fWZ1bmN0aW9uIGZuKGUpe3ZhciB0PWUmJmUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gdCYmKFwiaW5wdXRcIj09PXQmJihcInRleHRcIj09PWUudHlwZXx8XCJzZWFyY2hcIj09PWUudHlwZXx8XCJ0ZWxcIj09PWUudHlwZXx8XCJ1cmxcIj09PWUudHlwZXx8XCJwYXNzd29yZFwiPT09ZS50eXBlKXx8XCJ0ZXh0YXJlYVwiPT09dHx8XCJ0cnVlXCI9PT1lLmNvbnRlbnRFZGl0YWJsZSl9dmFyIG1uPW51bGwsZ249bnVsbDtmdW5jdGlvbiB5bihlLHQpe3N3aXRjaChlKXtjYXNlXCJidXR0b25cIjpjYXNlXCJpbnB1dFwiOmNhc2VcInNlbGVjdFwiOmNhc2VcInRleHRhcmVhXCI6cmV0dXJuISF0LmF1dG9Gb2N1c31yZXR1cm4hMX1mdW5jdGlvbiBfbihlLHQpe3JldHVyblwidGV4dGFyZWFcIj09PWV8fFwib3B0aW9uXCI9PT1lfHxcIm5vc2NyaXB0XCI9PT1lfHxcInN0cmluZ1wiPT10eXBlb2YgdC5jaGlsZHJlbnx8XCJudW1iZXJcIj09dHlwZW9mIHQuY2hpbGRyZW58fFwib2JqZWN0XCI9PXR5cGVvZiB0LmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MJiZudWxsIT09dC5kYW5nZXJvdXNseVNldElubmVySFRNTCYmbnVsbCE9dC5kYW5nZXJvdXNseVNldElubmVySFRNTC5fX2h0bWx9dmFyIHZuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDp2b2lkIDAseG49XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDp2b2lkIDA7ZnVuY3Rpb24gYm4oZSl7Zm9yKDtudWxsIT1lO2U9ZS5uZXh0U2libGluZyl7dmFyIHQ9ZS5ub2RlVHlwZTtpZigxPT09dHx8Mz09PXQpYnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gd24oZSl7ZT1lLnByZXZpb3VzU2libGluZztmb3IodmFyIHQ9MDtlOyl7aWYoOD09PWUubm9kZVR5cGUpe3ZhciBuPWUuZGF0YTtpZihcIiRcIj09PW58fFwiJCFcIj09PW58fFwiJD9cIj09PW4pe2lmKDA9PT10KXJldHVybiBlO3QtLX1lbHNlXCIvJFwiPT09biYmdCsrfWU9ZS5wcmV2aW91c1NpYmxpbmd9cmV0dXJuIG51bGx9dmFyIFRuPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLEVuPVwiX19yZWFjdEludGVybmFsSW5zdGFuY2UkXCIrVG4sU249XCJfX3JlYWN0RXZlbnRIYW5kbGVycyRcIitUbixNbj1cIl9fcmVhY3RDb250YWluZXJlJFwiK1RuO2Z1bmN0aW9uIEluKGUpe3ZhciB0PWVbRW5dO2lmKHQpcmV0dXJuIHQ7Zm9yKHZhciBuPWUucGFyZW50Tm9kZTtuOyl7aWYodD1uW01uXXx8bltFbl0pe2lmKG49dC5hbHRlcm5hdGUsbnVsbCE9PXQuY2hpbGR8fG51bGwhPT1uJiZudWxsIT09bi5jaGlsZClmb3IoZT13bihlKTtudWxsIT09ZTspe2lmKG49ZVtFbl0pcmV0dXJuIG47ZT13bihlKX1yZXR1cm4gdH1uPShlPW4pLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gQ24oZSl7cmV0dXJuIShlPWVbRW5dfHxlW01uXSl8fDUhPT1lLnRhZyYmNiE9PWUudGFnJiYxMyE9PWUudGFnJiYzIT09ZS50YWc/bnVsbDplfWZ1bmN0aW9uIGtuKGUpe2lmKDU9PT1lLnRhZ3x8Nj09PWUudGFnKXJldHVybiBlLnN0YXRlTm9kZTt0aHJvdyBFcnJvcihhKDMzKSl9ZnVuY3Rpb24gQW4oZSl7cmV0dXJuIGVbU25dfHxudWxsfWZ1bmN0aW9uIFBuKGUpe2Rve2U9ZS5yZXR1cm59d2hpbGUoZSYmNSE9PWUudGFnKTtyZXR1cm4gZXx8bnVsbH1mdW5jdGlvbiB6bihlLHQpe3ZhciBuPWUuc3RhdGVOb2RlO2lmKCFuKXJldHVybiBudWxsO3ZhciBpPWYobik7aWYoIWkpcmV0dXJuIG51bGw7bj1pW3RdO2U6c3dpdGNoKHQpe2Nhc2VcIm9uQ2xpY2tcIjpjYXNlXCJvbkNsaWNrQ2FwdHVyZVwiOmNhc2VcIm9uRG91YmxlQ2xpY2tcIjpjYXNlXCJvbkRvdWJsZUNsaWNrQ2FwdHVyZVwiOmNhc2VcIm9uTW91c2VEb3duXCI6Y2FzZVwib25Nb3VzZURvd25DYXB0dXJlXCI6Y2FzZVwib25Nb3VzZU1vdmVcIjpjYXNlXCJvbk1vdXNlTW92ZUNhcHR1cmVcIjpjYXNlXCJvbk1vdXNlVXBcIjpjYXNlXCJvbk1vdXNlVXBDYXB0dXJlXCI6Y2FzZVwib25Nb3VzZUVudGVyXCI6KGk9IWkuZGlzYWJsZWQpfHwoaT0hKFwiYnV0dG9uXCI9PT0oZT1lLnR5cGUpfHxcImlucHV0XCI9PT1lfHxcInNlbGVjdFwiPT09ZXx8XCJ0ZXh0YXJlYVwiPT09ZSkpLGU9IWk7YnJlYWsgZTtkZWZhdWx0OmU9ITF9aWYoZSlyZXR1cm4gbnVsbDtpZihuJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IEVycm9yKGEoMjMxLHQsdHlwZW9mIG4pKTtyZXR1cm4gbn1mdW5jdGlvbiBEbihlLHQsbil7KHQ9em4oZSxuLmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3RdKSkmJihuLl9kaXNwYXRjaExpc3RlbmVycz1pdChuLl9kaXNwYXRjaExpc3RlbmVycyx0KSxuLl9kaXNwYXRjaEluc3RhbmNlcz1pdChuLl9kaXNwYXRjaEluc3RhbmNlcyxlKSl9ZnVuY3Rpb24gTG4oZSl7aWYoZSYmZS5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcyl7Zm9yKHZhciB0PWUuX3RhcmdldEluc3Qsbj1bXTt0OyluLnB1c2godCksdD1Qbih0KTtmb3IodD1uLmxlbmd0aDswPHQtLTspRG4oblt0XSxcImNhcHR1cmVkXCIsZSk7Zm9yKHQ9MDt0PG4ubGVuZ3RoO3QrKylEbihuW3RdLFwiYnViYmxlZFwiLGUpfX1mdW5jdGlvbiBPbihlLHQsbil7ZSYmbiYmbi5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lJiYodD16bihlLG4uZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkpJiYobi5fZGlzcGF0Y2hMaXN0ZW5lcnM9aXQobi5fZGlzcGF0Y2hMaXN0ZW5lcnMsdCksbi5fZGlzcGF0Y2hJbnN0YW5jZXM9aXQobi5fZGlzcGF0Y2hJbnN0YW5jZXMsZSkpfWZ1bmN0aW9uIFJuKGUpe2UmJmUuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSYmT24oZS5fdGFyZ2V0SW5zdCxudWxsLGUpfWZ1bmN0aW9uIEJuKGUpe3J0KGUsTG4pfXZhciBqbj1udWxsLEZuPW51bGwsTm49bnVsbDtmdW5jdGlvbiBVbigpe2lmKE5uKXJldHVybiBObjt2YXIgZSx0LG49Rm4saT1uLmxlbmd0aCxyPVwidmFsdWVcImluIGpuP2puLnZhbHVlOmpuLnRleHRDb250ZW50LG89ci5sZW5ndGg7Zm9yKGU9MDtlPGkmJm5bZV09PT1yW2VdO2UrKyk7dmFyIGE9aS1lO2Zvcih0PTE7dDw9YSYmbltpLXRdPT09cltvLXRdO3QrKyk7cmV0dXJuIE5uPXIuc2xpY2UoZSwxPHQ/MS10OnZvaWQgMCl9ZnVuY3Rpb24gVm4oKXtyZXR1cm4hMH1mdW5jdGlvbiBHbigpe3JldHVybiExfWZ1bmN0aW9uIFpuKGUsdCxuLGkpe2Zvcih2YXIgciBpbiB0aGlzLmRpc3BhdGNoQ29uZmlnPWUsdGhpcy5fdGFyZ2V0SW5zdD10LHRoaXMubmF0aXZlRXZlbnQ9bixlPXRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlKWUuaGFzT3duUHJvcGVydHkocikmJigodD1lW3JdKT90aGlzW3JdPXQobik6XCJ0YXJnZXRcIj09PXI/dGhpcy50YXJnZXQ9aTp0aGlzW3JdPW5bcl0pO3JldHVybiB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD0obnVsbCE9bi5kZWZhdWx0UHJldmVudGVkP24uZGVmYXVsdFByZXZlbnRlZDohMT09PW4ucmV0dXJuVmFsdWUpP1ZuOkduLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9R24sdGhpc31mdW5jdGlvbiBXbihlLHQsbixpKXtpZih0aGlzLmV2ZW50UG9vbC5sZW5ndGgpe3ZhciByPXRoaXMuZXZlbnRQb29sLnBvcCgpO3JldHVybiB0aGlzLmNhbGwocixlLHQsbixpKSxyfXJldHVybiBuZXcgdGhpcyhlLHQsbixpKX1mdW5jdGlvbiBxbihlKXtpZighKGUgaW5zdGFuY2VvZiB0aGlzKSl0aHJvdyBFcnJvcihhKDI3OSkpO2UuZGVzdHJ1Y3RvcigpLDEwPnRoaXMuZXZlbnRQb29sLmxlbmd0aCYmdGhpcy5ldmVudFBvb2wucHVzaChlKX1mdW5jdGlvbiAkbihlKXtlLmV2ZW50UG9vbD1bXSxlLmdldFBvb2xlZD1XbixlLnJlbGVhc2U9cW59cihabi5wcm90b3R5cGUse3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwO3ZhciBlPXRoaXMubmF0aXZlRXZlbnQ7ZSYmKGUucHJldmVudERlZmF1bHQ/ZS5wcmV2ZW50RGVmYXVsdCgpOlwidW5rbm93blwiIT10eXBlb2YgZS5yZXR1cm5WYWx1ZSYmKGUucmV0dXJuVmFsdWU9ITEpLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPVZuKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5uYXRpdmVFdmVudDtlJiYoZS5zdG9wUHJvcGFnYXRpb24/ZS5zdG9wUHJvcGFnYXRpb24oKTpcInVua25vd25cIiE9dHlwZW9mIGUuY2FuY2VsQnViYmxlJiYoZS5jYW5jZWxCdWJibGU9ITApLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9Vm4pfSxwZXJzaXN0OmZ1bmN0aW9uKCl7dGhpcy5pc1BlcnNpc3RlbnQ9Vm59LGlzUGVyc2lzdGVudDpHbixkZXN0cnVjdG9yOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtmb3IoZSBpbiB0KXRoaXNbZV09bnVsbDt0aGlzLm5hdGl2ZUV2ZW50PXRoaXMuX3RhcmdldEluc3Q9dGhpcy5kaXNwYXRjaENvbmZpZz1udWxsLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9R24sdGhpcy5fZGlzcGF0Y2hJbnN0YW5jZXM9dGhpcy5fZGlzcGF0Y2hMaXN0ZW5lcnM9bnVsbH19KSxabi5JbnRlcmZhY2U9e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxjdXJyZW50VGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGV2ZW50UGhhc2U6bnVsbCxidWJibGVzOm51bGwsY2FuY2VsYWJsZTpudWxsLHRpbWVTdGFtcDpmdW5jdGlvbihlKXtyZXR1cm4gZS50aW1lU3RhbXB8fERhdGUubm93KCl9LGRlZmF1bHRQcmV2ZW50ZWQ6bnVsbCxpc1RydXN0ZWQ6bnVsbH0sWm4uZXh0ZW5kPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt9ZnVuY3Rpb24gbigpe3JldHVybiBpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgaT10aGlzO3QucHJvdG90eXBlPWkucHJvdG90eXBlO3ZhciBvPW5ldyB0O3JldHVybiByKG8sbi5wcm90b3R5cGUpLG4ucHJvdG90eXBlPW8sbi5wcm90b3R5cGUuY29uc3RydWN0b3I9bixuLkludGVyZmFjZT1yKHt9LGkuSW50ZXJmYWNlLGUpLG4uZXh0ZW5kPWkuZXh0ZW5kLCRuKG4pLG59LCRuKFpuKTt2YXIgSG49Wm4uZXh0ZW5kKHtkYXRhOm51bGx9KSxYbj1abi5leHRlbmQoe2RhdGE6bnVsbH0pLFluPVs5LDEzLDI3LDMyXSxKbj1JJiZcIkNvbXBvc2l0aW9uRXZlbnRcImluIHdpbmRvdyxRbj1udWxsO0kmJlwiZG9jdW1lbnRNb2RlXCJpbiBkb2N1bWVudCYmKFFuPWRvY3VtZW50LmRvY3VtZW50TW9kZSk7dmFyIEtuPUkmJlwiVGV4dEV2ZW50XCJpbiB3aW5kb3cmJiFRbixlaT1JJiYoIUpufHxRbiYmODxRbiYmMTE+PVFuKSx0aT1TdHJpbmcuZnJvbUNoYXJDb2RlKDMyKSxuaT17YmVmb3JlSW5wdXQ6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25CZWZvcmVJbnB1dFwiLGNhcHR1cmVkOlwib25CZWZvcmVJbnB1dENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOltcImNvbXBvc2l0aW9uZW5kXCIsXCJrZXlwcmVzc1wiLFwidGV4dElucHV0XCIsXCJwYXN0ZVwiXX0sY29tcG9zaXRpb25FbmQ6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25Db21wb3NpdGlvbkVuZFwiLGNhcHR1cmVkOlwib25Db21wb3NpdGlvbkVuZENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwiYmx1ciBjb21wb3NpdGlvbmVuZCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKX0sY29tcG9zaXRpb25TdGFydDp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNvbXBvc2l0aW9uU3RhcnRcIixjYXB0dXJlZDpcIm9uQ29tcG9zaXRpb25TdGFydENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwiYmx1ciBjb21wb3NpdGlvbnN0YXJ0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpfSxjb21wb3NpdGlvblVwZGF0ZTp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNvbXBvc2l0aW9uVXBkYXRlXCIsY2FwdHVyZWQ6XCJvbkNvbXBvc2l0aW9uVXBkYXRlQ2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6XCJibHVyIGNvbXBvc2l0aW9udXBkYXRlIGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpfX0saWk9ITE7ZnVuY3Rpb24gcmkoZSx0KXtzd2l0Y2goZSl7Y2FzZVwia2V5dXBcIjpyZXR1cm4tMSE9PVluLmluZGV4T2YodC5rZXlDb2RlKTtjYXNlXCJrZXlkb3duXCI6cmV0dXJuIDIyOSE9PXQua2V5Q29kZTtjYXNlXCJrZXlwcmVzc1wiOmNhc2VcIm1vdXNlZG93blwiOmNhc2VcImJsdXJcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBvaShlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YoZT1lLmRldGFpbCkmJlwiZGF0YVwiaW4gZT9lLmRhdGE6bnVsbH12YXIgYWk9ITE7dmFyIHNpPXtldmVudFR5cGVzOm5pLGV4dHJhY3RFdmVudHM6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI7aWYoSm4pZTp7c3dpdGNoKGUpe2Nhc2VcImNvbXBvc2l0aW9uc3RhcnRcIjp2YXIgbz1uaS5jb21wb3NpdGlvblN0YXJ0O2JyZWFrIGU7Y2FzZVwiY29tcG9zaXRpb25lbmRcIjpvPW5pLmNvbXBvc2l0aW9uRW5kO2JyZWFrIGU7Y2FzZVwiY29tcG9zaXRpb251cGRhdGVcIjpvPW5pLmNvbXBvc2l0aW9uVXBkYXRlO2JyZWFrIGV9bz12b2lkIDB9ZWxzZSBhaT9yaShlLG4pJiYobz1uaS5jb21wb3NpdGlvbkVuZCk6XCJrZXlkb3duXCI9PT1lJiYyMjk9PT1uLmtleUNvZGUmJihvPW5pLmNvbXBvc2l0aW9uU3RhcnQpO3JldHVybiBvPyhlaSYmXCJrb1wiIT09bi5sb2NhbGUmJihhaXx8byE9PW5pLmNvbXBvc2l0aW9uU3RhcnQ/bz09PW5pLmNvbXBvc2l0aW9uRW5kJiZhaSYmKHI9VW4oKSk6KEZuPVwidmFsdWVcImluKGpuPWkpP2puLnZhbHVlOmpuLnRleHRDb250ZW50LGFpPSEwKSksbz1Ibi5nZXRQb29sZWQobyx0LG4saSkscj9vLmRhdGE9cjpudWxsIT09KHI9b2kobikpJiYoby5kYXRhPXIpLEJuKG8pLHI9byk6cj1udWxsLChlPUtuP2Z1bmN0aW9uKGUsdCl7c3dpdGNoKGUpe2Nhc2VcImNvbXBvc2l0aW9uZW5kXCI6cmV0dXJuIG9pKHQpO2Nhc2VcImtleXByZXNzXCI6cmV0dXJuIDMyIT09dC53aGljaD9udWxsOihpaT0hMCx0aSk7Y2FzZVwidGV4dElucHV0XCI6cmV0dXJuKGU9dC5kYXRhKT09PXRpJiZpaT9udWxsOmU7ZGVmYXVsdDpyZXR1cm4gbnVsbH19KGUsbik6ZnVuY3Rpb24oZSx0KXtpZihhaSlyZXR1cm5cImNvbXBvc2l0aW9uZW5kXCI9PT1lfHwhSm4mJnJpKGUsdCk/KGU9VW4oKSxObj1Gbj1qbj1udWxsLGFpPSExLGUpOm51bGw7c3dpdGNoKGUpe2Nhc2VcInBhc3RlXCI6cmV0dXJuIG51bGw7Y2FzZVwia2V5cHJlc3NcIjppZighKHQuY3RybEtleXx8dC5hbHRLZXl8fHQubWV0YUtleSl8fHQuY3RybEtleSYmdC5hbHRLZXkpe2lmKHQuY2hhciYmMTx0LmNoYXIubGVuZ3RoKXJldHVybiB0LmNoYXI7aWYodC53aGljaClyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh0LndoaWNoKX1yZXR1cm4gbnVsbDtjYXNlXCJjb21wb3NpdGlvbmVuZFwiOnJldHVybiBlaSYmXCJrb1wiIT09dC5sb2NhbGU/bnVsbDp0LmRhdGE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19KGUsbikpPygodD1Ybi5nZXRQb29sZWQobmkuYmVmb3JlSW5wdXQsdCxuLGkpKS5kYXRhPWUsQm4odCkpOnQ9bnVsbCxudWxsPT09cj90Om51bGw9PT10P3I6W3IsdF19fSxsaT17Y29sb3I6ITAsZGF0ZTohMCxkYXRldGltZTohMCxcImRhdGV0aW1lLWxvY2FsXCI6ITAsZW1haWw6ITAsbW9udGg6ITAsbnVtYmVyOiEwLHBhc3N3b3JkOiEwLHJhbmdlOiEwLHNlYXJjaDohMCx0ZWw6ITAsdGV4dDohMCx0aW1lOiEwLHVybDohMCx3ZWVrOiEwfTtmdW5jdGlvbiBjaShlKXt2YXIgdD1lJiZlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09dD8hIWxpW2UudHlwZV06XCJ0ZXh0YXJlYVwiPT09dH12YXIgdWk9e2NoYW5nZTp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNoYW5nZVwiLGNhcHR1cmVkOlwib25DaGFuZ2VDYXB0dXJlXCJ9LGRlcGVuZGVuY2llczpcImJsdXIgY2hhbmdlIGNsaWNrIGZvY3VzIGlucHV0IGtleWRvd24ga2V5dXAgc2VsZWN0aW9uY2hhbmdlXCIuc3BsaXQoXCIgXCIpfX07ZnVuY3Rpb24gaGkoZSx0LG4pe3JldHVybihlPVpuLmdldFBvb2xlZCh1aS5jaGFuZ2UsZSx0LG4pKS50eXBlPVwiY2hhbmdlXCIseihuKSxCbihlKSxlfXZhciBkaT1udWxsLHBpPW51bGw7ZnVuY3Rpb24gZmkoZSl7c3QoZSl9ZnVuY3Rpb24gbWkoZSl7aWYoYmUoa24oZSkpKXJldHVybiBlfWZ1bmN0aW9uIGdpKGUsdCl7aWYoXCJjaGFuZ2VcIj09PWUpcmV0dXJuIHR9dmFyIHlpPSExO2Z1bmN0aW9uIF9pKCl7ZGkmJihkaS5kZXRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIix2aSkscGk9ZGk9bnVsbCl9ZnVuY3Rpb24gdmkoZSl7aWYoXCJ2YWx1ZVwiPT09ZS5wcm9wZXJ0eU5hbWUmJm1pKHBpKSlpZihlPWhpKHBpLGUsbHQoZSkpLGopc3QoZSk7ZWxzZXtqPSEwO3RyeXtMKGZpLGUpfWZpbmFsbHl7aj0hMSxOKCl9fX1mdW5jdGlvbiB4aShlLHQsbil7XCJmb2N1c1wiPT09ZT8oX2koKSxwaT1uLChkaT10KS5hdHRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIix2aSkpOlwiYmx1clwiPT09ZSYmX2koKX1mdW5jdGlvbiBiaShlKXtpZihcInNlbGVjdGlvbmNoYW5nZVwiPT09ZXx8XCJrZXl1cFwiPT09ZXx8XCJrZXlkb3duXCI9PT1lKXJldHVybiBtaShwaSl9ZnVuY3Rpb24gd2koZSx0KXtpZihcImNsaWNrXCI9PT1lKXJldHVybiBtaSh0KX1mdW5jdGlvbiBUaShlLHQpe2lmKFwiaW5wdXRcIj09PWV8fFwiY2hhbmdlXCI9PT1lKXJldHVybiBtaSh0KX1JJiYoeWk9Y3QoXCJpbnB1dFwiKSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDk8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSk7dmFyIEVpPXtldmVudFR5cGVzOnVpLF9pc0lucHV0RXZlbnRTdXBwb3J0ZWQ6eWksZXh0cmFjdEV2ZW50czpmdW5jdGlvbihlLHQsbixpKXt2YXIgcj10P2tuKHQpOndpbmRvdyxvPXIubm9kZU5hbWUmJnIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihcInNlbGVjdFwiPT09b3x8XCJpbnB1dFwiPT09byYmXCJmaWxlXCI9PT1yLnR5cGUpdmFyIGE9Z2k7ZWxzZSBpZihjaShyKSlpZih5aSlhPVRpO2Vsc2V7YT1iaTt2YXIgcz14aX1lbHNlKG89ci5ub2RlTmFtZSkmJlwiaW5wdXRcIj09PW8udG9Mb3dlckNhc2UoKSYmKFwiY2hlY2tib3hcIj09PXIudHlwZXx8XCJyYWRpb1wiPT09ci50eXBlKSYmKGE9d2kpO2lmKGEmJihhPWEoZSx0KSkpcmV0dXJuIGhpKGEsbixpKTtzJiZzKGUscix0KSxcImJsdXJcIj09PWUmJihlPXIuX3dyYXBwZXJTdGF0ZSkmJmUuY29udHJvbGxlZCYmXCJudW1iZXJcIj09PXIudHlwZSYmSWUocixcIm51bWJlclwiLHIudmFsdWUpfX0sU2k9Wm4uZXh0ZW5kKHt2aWV3Om51bGwsZGV0YWlsOm51bGx9KSxNaT17QWx0OlwiYWx0S2V5XCIsQ29udHJvbDpcImN0cmxLZXlcIixNZXRhOlwibWV0YUtleVwiLFNoaWZ0Olwic2hpZnRLZXlcIn07ZnVuY3Rpb24gSWkoZSl7dmFyIHQ9dGhpcy5uYXRpdmVFdmVudDtyZXR1cm4gdC5nZXRNb2RpZmllclN0YXRlP3QuZ2V0TW9kaWZpZXJTdGF0ZShlKTohIShlPU1pW2VdKSYmISF0W2VdfWZ1bmN0aW9uIENpKCl7cmV0dXJuIElpfXZhciBraT0wLEFpPTAsUGk9ITEsemk9ITEsRGk9U2kuZXh0ZW5kKHtzY3JlZW5YOm51bGwsc2NyZWVuWTpudWxsLGNsaWVudFg6bnVsbCxjbGllbnRZOm51bGwscGFnZVg6bnVsbCxwYWdlWTpudWxsLGN0cmxLZXk6bnVsbCxzaGlmdEtleTpudWxsLGFsdEtleTpudWxsLG1ldGFLZXk6bnVsbCxnZXRNb2RpZmllclN0YXRlOkNpLGJ1dHRvbjpudWxsLGJ1dHRvbnM6bnVsbCxyZWxhdGVkVGFyZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlbGF0ZWRUYXJnZXR8fChlLmZyb21FbGVtZW50PT09ZS5zcmNFbGVtZW50P2UudG9FbGVtZW50OmUuZnJvbUVsZW1lbnQpfSxtb3ZlbWVudFg6ZnVuY3Rpb24oZSl7aWYoXCJtb3ZlbWVudFhcImluIGUpcmV0dXJuIGUubW92ZW1lbnRYO3ZhciB0PWtpO3JldHVybiBraT1lLnNjcmVlblgsUGk/XCJtb3VzZW1vdmVcIj09PWUudHlwZT9lLnNjcmVlblgtdDowOihQaT0hMCwwKX0sbW92ZW1lbnRZOmZ1bmN0aW9uKGUpe2lmKFwibW92ZW1lbnRZXCJpbiBlKXJldHVybiBlLm1vdmVtZW50WTt2YXIgdD1BaTtyZXR1cm4gQWk9ZS5zY3JlZW5ZLHppP1wibW91c2Vtb3ZlXCI9PT1lLnR5cGU/ZS5zY3JlZW5ZLXQ6MDooemk9ITAsMCl9fSksTGk9RGkuZXh0ZW5kKHtwb2ludGVySWQ6bnVsbCx3aWR0aDpudWxsLGhlaWdodDpudWxsLHByZXNzdXJlOm51bGwsdGFuZ2VudGlhbFByZXNzdXJlOm51bGwsdGlsdFg6bnVsbCx0aWx0WTpudWxsLHR3aXN0Om51bGwscG9pbnRlclR5cGU6bnVsbCxpc1ByaW1hcnk6bnVsbH0pLE9pPXttb3VzZUVudGVyOntyZWdpc3RyYXRpb25OYW1lOlwib25Nb3VzZUVudGVyXCIsZGVwZW5kZW5jaWVzOltcIm1vdXNlb3V0XCIsXCJtb3VzZW92ZXJcIl19LG1vdXNlTGVhdmU6e3JlZ2lzdHJhdGlvbk5hbWU6XCJvbk1vdXNlTGVhdmVcIixkZXBlbmRlbmNpZXM6W1wibW91c2VvdXRcIixcIm1vdXNlb3ZlclwiXX0scG9pbnRlckVudGVyOntyZWdpc3RyYXRpb25OYW1lOlwib25Qb2ludGVyRW50ZXJcIixkZXBlbmRlbmNpZXM6W1wicG9pbnRlcm91dFwiLFwicG9pbnRlcm92ZXJcIl19LHBvaW50ZXJMZWF2ZTp7cmVnaXN0cmF0aW9uTmFtZTpcIm9uUG9pbnRlckxlYXZlXCIsZGVwZW5kZW5jaWVzOltcInBvaW50ZXJvdXRcIixcInBvaW50ZXJvdmVyXCJdfX0sUmk9e2V2ZW50VHlwZXM6T2ksZXh0cmFjdEV2ZW50czpmdW5jdGlvbihlLHQsbixpLHIpe3ZhciBvPVwibW91c2VvdmVyXCI9PT1lfHxcInBvaW50ZXJvdmVyXCI9PT1lLGE9XCJtb3VzZW91dFwiPT09ZXx8XCJwb2ludGVyb3V0XCI9PT1lO2lmKG8mJjA9PSgzMiZyKSYmKG4ucmVsYXRlZFRhcmdldHx8bi5mcm9tRWxlbWVudCl8fCFhJiYhbylyZXR1cm4gbnVsbDsobz1pLndpbmRvdz09PWk/aToobz1pLm93bmVyRG9jdW1lbnQpP28uZGVmYXVsdFZpZXd8fG8ucGFyZW50V2luZG93OndpbmRvdyxhKT8oYT10LG51bGwhPT0odD0odD1uLnJlbGF0ZWRUYXJnZXR8fG4udG9FbGVtZW50KT9Jbih0KTpudWxsKSYmKHQhPT1LZSh0KXx8NSE9PXQudGFnJiY2IT09dC50YWcpJiYodD1udWxsKSk6YT1udWxsO2lmKGE9PT10KXJldHVybiBudWxsO2lmKFwibW91c2VvdXRcIj09PWV8fFwibW91c2VvdmVyXCI9PT1lKXZhciBzPURpLGw9T2kubW91c2VMZWF2ZSxjPU9pLm1vdXNlRW50ZXIsdT1cIm1vdXNlXCI7ZWxzZVwicG9pbnRlcm91dFwiIT09ZSYmXCJwb2ludGVyb3ZlclwiIT09ZXx8KHM9TGksbD1PaS5wb2ludGVyTGVhdmUsYz1PaS5wb2ludGVyRW50ZXIsdT1cInBvaW50ZXJcIik7aWYoZT1udWxsPT1hP286a24oYSksbz1udWxsPT10P286a24odCksKGw9cy5nZXRQb29sZWQobCxhLG4saSkpLnR5cGU9dStcImxlYXZlXCIsbC50YXJnZXQ9ZSxsLnJlbGF0ZWRUYXJnZXQ9bywobj1zLmdldFBvb2xlZChjLHQsbixpKSkudHlwZT11K1wiZW50ZXJcIixuLnRhcmdldD1vLG4ucmVsYXRlZFRhcmdldD1lLHU9dCwoaT1hKSYmdSllOntmb3IoYz11LGE9MCxlPXM9aTtlO2U9UG4oZSkpYSsrO2ZvcihlPTAsdD1jO3Q7dD1Qbih0KSllKys7Zm9yKDswPGEtZTspcz1QbihzKSxhLS07Zm9yKDswPGUtYTspYz1QbihjKSxlLS07Zm9yKDthLS07KXtpZihzPT09Y3x8cz09PWMuYWx0ZXJuYXRlKWJyZWFrIGU7cz1QbihzKSxjPVBuKGMpfXM9bnVsbH1lbHNlIHM9bnVsbDtmb3IoYz1zLHM9W107aSYmaSE9PWMmJihudWxsPT09KGE9aS5hbHRlcm5hdGUpfHxhIT09Yyk7KXMucHVzaChpKSxpPVBuKGkpO2ZvcihpPVtdO3UmJnUhPT1jJiYobnVsbD09PShhPXUuYWx0ZXJuYXRlKXx8YSE9PWMpOylpLnB1c2godSksdT1Qbih1KTtmb3IodT0wO3U8cy5sZW5ndGg7dSsrKU9uKHNbdV0sXCJidWJibGVkXCIsbCk7Zm9yKHU9aS5sZW5ndGg7MDx1LS07KU9uKGlbdV0sXCJjYXB0dXJlZFwiLG4pO3JldHVybiAwPT0oNjQmcik/W2xdOltsLG5dfX07dmFyIEJpPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5pcz9PYmplY3QuaXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJigwIT09ZXx8MS9lPT0xL3QpfHxlIT1lJiZ0IT10fSxqaT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIEZpKGUsdCl7aWYoQmkoZSx0KSlyZXR1cm4hMDtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiB0fHxudWxsPT09dClyZXR1cm4hMTt2YXIgbj1PYmplY3Qua2V5cyhlKSxpPU9iamVjdC5rZXlzKHQpO2lmKG4ubGVuZ3RoIT09aS5sZW5ndGgpcmV0dXJuITE7Zm9yKGk9MDtpPG4ubGVuZ3RoO2krKylpZighamkuY2FsbCh0LG5baV0pfHwhQmkoZVtuW2ldXSx0W25baV1dKSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgTmk9SSYmXCJkb2N1bWVudE1vZGVcImluIGRvY3VtZW50JiYxMT49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLFVpPXtzZWxlY3Q6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25TZWxlY3RcIixjYXB0dXJlZDpcIm9uU2VsZWN0Q2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6XCJibHVyIGNvbnRleHRtZW51IGRyYWdlbmQgZm9jdXMga2V5ZG93biBrZXl1cCBtb3VzZWRvd24gbW91c2V1cCBzZWxlY3Rpb25jaGFuZ2VcIi5zcGxpdChcIiBcIil9fSxWaT1udWxsLEdpPW51bGwsWmk9bnVsbCxXaT0hMTtmdW5jdGlvbiBxaShlLHQpe3ZhciBuPXQud2luZG93PT09dD90LmRvY3VtZW50Ojk9PT10Lm5vZGVUeXBlP3Q6dC5vd25lckRvY3VtZW50O3JldHVybiBXaXx8bnVsbD09Vml8fFZpIT09dW4obik/bnVsbDooXCJzZWxlY3Rpb25TdGFydFwiaW4obj1WaSkmJmZuKG4pP249e3N0YXJ0Om4uc2VsZWN0aW9uU3RhcnQsZW5kOm4uc2VsZWN0aW9uRW5kfTpuPXthbmNob3JOb2RlOihuPShuLm93bmVyRG9jdW1lbnQmJm4ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld3x8d2luZG93KS5nZXRTZWxlY3Rpb24oKSkuYW5jaG9yTm9kZSxhbmNob3JPZmZzZXQ6bi5hbmNob3JPZmZzZXQsZm9jdXNOb2RlOm4uZm9jdXNOb2RlLGZvY3VzT2Zmc2V0Om4uZm9jdXNPZmZzZXR9LFppJiZGaShaaSxuKT9udWxsOihaaT1uLChlPVpuLmdldFBvb2xlZChVaS5zZWxlY3QsR2ksZSx0KSkudHlwZT1cInNlbGVjdFwiLGUudGFyZ2V0PVZpLEJuKGUpLGUpKX12YXIgJGk9e2V2ZW50VHlwZXM6VWksZXh0cmFjdEV2ZW50czpmdW5jdGlvbihlLHQsbixpLHIsbyl7aWYoIShvPSEocj1vfHwoaS53aW5kb3c9PT1pP2kuZG9jdW1lbnQ6OT09PWkubm9kZVR5cGU/aTppLm93bmVyRG9jdW1lbnQpKSkpe2U6e3I9UWUociksbz1TLm9uU2VsZWN0O2Zvcih2YXIgYT0wO2E8by5sZW5ndGg7YSsrKWlmKCFyLmhhcyhvW2FdKSl7cj0hMTticmVhayBlfXI9ITB9bz0hcn1pZihvKXJldHVybiBudWxsO3N3aXRjaChyPXQ/a24odCk6d2luZG93LGUpe2Nhc2VcImZvY3VzXCI6KGNpKHIpfHxcInRydWVcIj09PXIuY29udGVudEVkaXRhYmxlKSYmKFZpPXIsR2k9dCxaaT1udWxsKTticmVhaztjYXNlXCJibHVyXCI6Wmk9R2k9Vmk9bnVsbDticmVhaztjYXNlXCJtb3VzZWRvd25cIjpXaT0hMDticmVhaztjYXNlXCJjb250ZXh0bWVudVwiOmNhc2VcIm1vdXNldXBcIjpjYXNlXCJkcmFnZW5kXCI6cmV0dXJuIFdpPSExLHFpKG4saSk7Y2FzZVwic2VsZWN0aW9uY2hhbmdlXCI6aWYoTmkpYnJlYWs7Y2FzZVwia2V5ZG93blwiOmNhc2VcImtleXVwXCI6cmV0dXJuIHFpKG4saSl9cmV0dXJuIG51bGx9fSxIaT1abi5leHRlbmQoe2FuaW1hdGlvbk5hbWU6bnVsbCxlbGFwc2VkVGltZTpudWxsLHBzZXVkb0VsZW1lbnQ6bnVsbH0pLFhpPVpuLmV4dGVuZCh7Y2xpcGJvYXJkRGF0YTpmdW5jdGlvbihlKXtyZXR1cm5cImNsaXBib2FyZERhdGFcImluIGU/ZS5jbGlwYm9hcmREYXRhOndpbmRvdy5jbGlwYm9hcmREYXRhfX0pLFlpPVNpLmV4dGVuZCh7cmVsYXRlZFRhcmdldDpudWxsfSk7ZnVuY3Rpb24gSmkoZSl7dmFyIHQ9ZS5rZXlDb2RlO3JldHVyblwiY2hhckNvZGVcImluIGU/MD09PShlPWUuY2hhckNvZGUpJiYxMz09PXQmJihlPTEzKTplPXQsMTA9PT1lJiYoZT0xMyksMzI8PWV8fDEzPT09ZT9lOjB9dmFyIFFpPXtFc2M6XCJFc2NhcGVcIixTcGFjZWJhcjpcIiBcIixMZWZ0OlwiQXJyb3dMZWZ0XCIsVXA6XCJBcnJvd1VwXCIsUmlnaHQ6XCJBcnJvd1JpZ2h0XCIsRG93bjpcIkFycm93RG93blwiLERlbDpcIkRlbGV0ZVwiLFdpbjpcIk9TXCIsTWVudTpcIkNvbnRleHRNZW51XCIsQXBwczpcIkNvbnRleHRNZW51XCIsU2Nyb2xsOlwiU2Nyb2xsTG9ja1wiLE1velByaW50YWJsZUtleTpcIlVuaWRlbnRpZmllZFwifSxLaT17ODpcIkJhY2tzcGFjZVwiLDk6XCJUYWJcIiwxMjpcIkNsZWFyXCIsMTM6XCJFbnRlclwiLDE2OlwiU2hpZnRcIiwxNzpcIkNvbnRyb2xcIiwxODpcIkFsdFwiLDE5OlwiUGF1c2VcIiwyMDpcIkNhcHNMb2NrXCIsMjc6XCJFc2NhcGVcIiwzMjpcIiBcIiwzMzpcIlBhZ2VVcFwiLDM0OlwiUGFnZURvd25cIiwzNTpcIkVuZFwiLDM2OlwiSG9tZVwiLDM3OlwiQXJyb3dMZWZ0XCIsMzg6XCJBcnJvd1VwXCIsMzk6XCJBcnJvd1JpZ2h0XCIsNDA6XCJBcnJvd0Rvd25cIiw0NTpcIkluc2VydFwiLDQ2OlwiRGVsZXRlXCIsMTEyOlwiRjFcIiwxMTM6XCJGMlwiLDExNDpcIkYzXCIsMTE1OlwiRjRcIiwxMTY6XCJGNVwiLDExNzpcIkY2XCIsMTE4OlwiRjdcIiwxMTk6XCJGOFwiLDEyMDpcIkY5XCIsMTIxOlwiRjEwXCIsMTIyOlwiRjExXCIsMTIzOlwiRjEyXCIsMTQ0OlwiTnVtTG9ja1wiLDE0NTpcIlNjcm9sbExvY2tcIiwyMjQ6XCJNZXRhXCJ9LGVyPVNpLmV4dGVuZCh7a2V5OmZ1bmN0aW9uKGUpe2lmKGUua2V5KXt2YXIgdD1RaVtlLmtleV18fGUua2V5O2lmKFwiVW5pZGVudGlmaWVkXCIhPT10KXJldHVybiB0fXJldHVyblwia2V5cHJlc3NcIj09PWUudHlwZT8xMz09PShlPUppKGUpKT9cIkVudGVyXCI6U3RyaW5nLmZyb21DaGFyQ29kZShlKTpcImtleWRvd25cIj09PWUudHlwZXx8XCJrZXl1cFwiPT09ZS50eXBlP0tpW2Uua2V5Q29kZV18fFwiVW5pZGVudGlmaWVkXCI6XCJcIn0sbG9jYXRpb246bnVsbCxjdHJsS2V5Om51bGwsc2hpZnRLZXk6bnVsbCxhbHRLZXk6bnVsbCxtZXRhS2V5Om51bGwscmVwZWF0Om51bGwsbG9jYWxlOm51bGwsZ2V0TW9kaWZpZXJTdGF0ZTpDaSxjaGFyQ29kZTpmdW5jdGlvbihlKXtyZXR1cm5cImtleXByZXNzXCI9PT1lLnR5cGU/SmkoZSk6MH0sa2V5Q29kZTpmdW5jdGlvbihlKXtyZXR1cm5cImtleWRvd25cIj09PWUudHlwZXx8XCJrZXl1cFwiPT09ZS50eXBlP2Uua2V5Q29kZTowfSx3aGljaDpmdW5jdGlvbihlKXtyZXR1cm5cImtleXByZXNzXCI9PT1lLnR5cGU/SmkoZSk6XCJrZXlkb3duXCI9PT1lLnR5cGV8fFwia2V5dXBcIj09PWUudHlwZT9lLmtleUNvZGU6MH19KSx0cj1EaS5leHRlbmQoe2RhdGFUcmFuc2ZlcjpudWxsfSksbnI9U2kuZXh0ZW5kKHt0b3VjaGVzOm51bGwsdGFyZ2V0VG91Y2hlczpudWxsLGNoYW5nZWRUb3VjaGVzOm51bGwsYWx0S2V5Om51bGwsbWV0YUtleTpudWxsLGN0cmxLZXk6bnVsbCxzaGlmdEtleTpudWxsLGdldE1vZGlmaWVyU3RhdGU6Q2l9KSxpcj1abi5leHRlbmQoe3Byb3BlcnR5TmFtZTpudWxsLGVsYXBzZWRUaW1lOm51bGwscHNldWRvRWxlbWVudDpudWxsfSkscnI9RGkuZXh0ZW5kKHtkZWx0YVg6ZnVuY3Rpb24oZSl7cmV0dXJuXCJkZWx0YVhcImluIGU/ZS5kZWx0YVg6XCJ3aGVlbERlbHRhWFwiaW4gZT8tZS53aGVlbERlbHRhWDowfSxkZWx0YVk6ZnVuY3Rpb24oZSl7cmV0dXJuXCJkZWx0YVlcImluIGU/ZS5kZWx0YVk6XCJ3aGVlbERlbHRhWVwiaW4gZT8tZS53aGVlbERlbHRhWTpcIndoZWVsRGVsdGFcImluIGU/LWUud2hlZWxEZWx0YTowfSxkZWx0YVo6bnVsbCxkZWx0YU1vZGU6bnVsbH0pLG9yPXtldmVudFR5cGVzOkJ0LGV4dHJhY3RFdmVudHM6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9anQuZ2V0KGUpO2lmKCFyKXJldHVybiBudWxsO3N3aXRjaChlKXtjYXNlXCJrZXlwcmVzc1wiOmlmKDA9PT1KaShuKSlyZXR1cm4gbnVsbDtjYXNlXCJrZXlkb3duXCI6Y2FzZVwia2V5dXBcIjplPWVyO2JyZWFrO2Nhc2VcImJsdXJcIjpjYXNlXCJmb2N1c1wiOmU9WWk7YnJlYWs7Y2FzZVwiY2xpY2tcIjppZigyPT09bi5idXR0b24pcmV0dXJuIG51bGw7Y2FzZVwiYXV4Y2xpY2tcIjpjYXNlXCJkYmxjbGlja1wiOmNhc2VcIm1vdXNlZG93blwiOmNhc2VcIm1vdXNlbW92ZVwiOmNhc2VcIm1vdXNldXBcIjpjYXNlXCJtb3VzZW91dFwiOmNhc2VcIm1vdXNlb3ZlclwiOmNhc2VcImNvbnRleHRtZW51XCI6ZT1EaTticmVhaztjYXNlXCJkcmFnXCI6Y2FzZVwiZHJhZ2VuZFwiOmNhc2VcImRyYWdlbnRlclwiOmNhc2VcImRyYWdleGl0XCI6Y2FzZVwiZHJhZ2xlYXZlXCI6Y2FzZVwiZHJhZ292ZXJcIjpjYXNlXCJkcmFnc3RhcnRcIjpjYXNlXCJkcm9wXCI6ZT10cjticmVhaztjYXNlXCJ0b3VjaGNhbmNlbFwiOmNhc2VcInRvdWNoZW5kXCI6Y2FzZVwidG91Y2htb3ZlXCI6Y2FzZVwidG91Y2hzdGFydFwiOmU9bnI7YnJlYWs7Y2FzZSBxZTpjYXNlICRlOmNhc2UgSGU6ZT1IaTticmVhaztjYXNlIFhlOmU9aXI7YnJlYWs7Y2FzZVwic2Nyb2xsXCI6ZT1TaTticmVhaztjYXNlXCJ3aGVlbFwiOmU9cnI7YnJlYWs7Y2FzZVwiY29weVwiOmNhc2VcImN1dFwiOmNhc2VcInBhc3RlXCI6ZT1YaTticmVhaztjYXNlXCJnb3Rwb2ludGVyY2FwdHVyZVwiOmNhc2VcImxvc3Rwb2ludGVyY2FwdHVyZVwiOmNhc2VcInBvaW50ZXJjYW5jZWxcIjpjYXNlXCJwb2ludGVyZG93blwiOmNhc2VcInBvaW50ZXJtb3ZlXCI6Y2FzZVwicG9pbnRlcm91dFwiOmNhc2VcInBvaW50ZXJvdmVyXCI6Y2FzZVwicG9pbnRlcnVwXCI6ZT1MaTticmVhaztkZWZhdWx0OmU9Wm59cmV0dXJuIEJuKHQ9ZS5nZXRQb29sZWQocix0LG4saSkpLHR9fTtpZihfKXRocm93IEVycm9yKGEoMTAxKSk7Xz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcIlJlc3BvbmRlckV2ZW50UGx1Z2luIFNpbXBsZUV2ZW50UGx1Z2luIEVudGVyTGVhdmVFdmVudFBsdWdpbiBDaGFuZ2VFdmVudFBsdWdpbiBTZWxlY3RFdmVudFBsdWdpbiBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luXCIuc3BsaXQoXCIgXCIpKSx4KCksZj1BbixtPUNuLGc9a24sTSh7U2ltcGxlRXZlbnRQbHVnaW46b3IsRW50ZXJMZWF2ZUV2ZW50UGx1Z2luOlJpLENoYW5nZUV2ZW50UGx1Z2luOkVpLFNlbGVjdEV2ZW50UGx1Z2luOiRpLEJlZm9yZUlucHV0RXZlbnRQbHVnaW46c2l9KTt2YXIgYXI9W10sc3I9LTE7ZnVuY3Rpb24gbHIoZSl7MD5zcnx8KGUuY3VycmVudD1hcltzcl0sYXJbc3JdPW51bGwsc3ItLSl9ZnVuY3Rpb24gY3IoZSx0KXtzcisrLGFyW3NyXT1lLmN1cnJlbnQsZS5jdXJyZW50PXR9dmFyIHVyPXt9LGhyPXtjdXJyZW50OnVyfSxkcj17Y3VycmVudDohMX0scHI9dXI7ZnVuY3Rpb24gZnIoZSx0KXt2YXIgbj1lLnR5cGUuY29udGV4dFR5cGVzO2lmKCFuKXJldHVybiB1cjt2YXIgaT1lLnN0YXRlTm9kZTtpZihpJiZpLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQ9PT10KXJldHVybiBpLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0O3ZhciByLG89e307Zm9yKHIgaW4gbilvW3JdPXRbcl07cmV0dXJuIGkmJigoZT1lLnN0YXRlTm9kZSkuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dD10LGUuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQ9byksb31mdW5jdGlvbiBtcihlKXtyZXR1cm4gbnVsbCE9KGU9ZS5jaGlsZENvbnRleHRUeXBlcyl9ZnVuY3Rpb24gZ3IoKXtscihkciksbHIoaHIpfWZ1bmN0aW9uIHlyKGUsdCxuKXtpZihoci5jdXJyZW50IT09dXIpdGhyb3cgRXJyb3IoYSgxNjgpKTtjcihocix0KSxjcihkcixuKX1mdW5jdGlvbiBfcihlLHQsbil7dmFyIGk9ZS5zdGF0ZU5vZGU7aWYoZT10LmNoaWxkQ29udGV4dFR5cGVzLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkuZ2V0Q2hpbGRDb250ZXh0KXJldHVybiBuO2Zvcih2YXIgbyBpbiBpPWkuZ2V0Q2hpbGRDb250ZXh0KCkpaWYoIShvIGluIGUpKXRocm93IEVycm9yKGEoMTA4LGdlKHQpfHxcIlVua25vd25cIixvKSk7cmV0dXJuIHIoe30sbix7fSxpKX1mdW5jdGlvbiB2cihlKXtyZXR1cm4gZT0oZT1lLnN0YXRlTm9kZSkmJmUuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHR8fHVyLHByPWhyLmN1cnJlbnQsY3IoaHIsZSksY3IoZHIsZHIuY3VycmVudCksITB9ZnVuY3Rpb24geHIoZSx0LG4pe3ZhciBpPWUuc3RhdGVOb2RlO2lmKCFpKXRocm93IEVycm9yKGEoMTY5KSk7bj8oZT1fcihlLHQscHIpLGkuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQ9ZSxscihkciksbHIoaHIpLGNyKGhyLGUpKTpscihkciksY3IoZHIsbil9dmFyIGJyPW8udW5zdGFibGVfcnVuV2l0aFByaW9yaXR5LHdyPW8udW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayxUcj1vLnVuc3RhYmxlX2NhbmNlbENhbGxiYWNrLEVyPW8udW5zdGFibGVfcmVxdWVzdFBhaW50LFNyPW8udW5zdGFibGVfbm93LE1yPW8udW5zdGFibGVfZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwsSXI9by51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eSxDcj1vLnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5LGtyPW8udW5zdGFibGVfTm9ybWFsUHJpb3JpdHksQXI9by51bnN0YWJsZV9Mb3dQcmlvcml0eSxQcj1vLnVuc3RhYmxlX0lkbGVQcmlvcml0eSx6cj17fSxEcj1vLnVuc3RhYmxlX3Nob3VsZFlpZWxkLExyPXZvaWQgMCE9PUVyP0VyOmZ1bmN0aW9uKCl7fSxPcj1udWxsLFJyPW51bGwsQnI9ITEsanI9U3IoKSxGcj0xZTQ+anI/U3I6ZnVuY3Rpb24oKXtyZXR1cm4gU3IoKS1qcn07ZnVuY3Rpb24gTnIoKXtzd2l0Y2goTXIoKSl7Y2FzZSBJcjpyZXR1cm4gOTk7Y2FzZSBDcjpyZXR1cm4gOTg7Y2FzZSBrcjpyZXR1cm4gOTc7Y2FzZSBBcjpyZXR1cm4gOTY7Y2FzZSBQcjpyZXR1cm4gOTU7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDMzMikpfX1mdW5jdGlvbiBVcihlKXtzd2l0Y2goZSl7Y2FzZSA5OTpyZXR1cm4gSXI7Y2FzZSA5ODpyZXR1cm4gQ3I7Y2FzZSA5NzpyZXR1cm4ga3I7Y2FzZSA5NjpyZXR1cm4gQXI7Y2FzZSA5NTpyZXR1cm4gUHI7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDMzMikpfX1mdW5jdGlvbiBWcihlLHQpe3JldHVybiBlPVVyKGUpLGJyKGUsdCl9ZnVuY3Rpb24gR3IoZSx0LG4pe3JldHVybiBlPVVyKGUpLHdyKGUsdCxuKX1mdW5jdGlvbiBacihlKXtyZXR1cm4gbnVsbD09PU9yPyhPcj1bZV0sUnI9d3IoSXIscXIpKTpPci5wdXNoKGUpLHpyfWZ1bmN0aW9uIFdyKCl7aWYobnVsbCE9PVJyKXt2YXIgZT1ScjtScj1udWxsLFRyKGUpfXFyKCl9ZnVuY3Rpb24gcXIoKXtpZighQnImJm51bGwhPT1Pcil7QnI9ITA7dmFyIGU9MDt0cnl7dmFyIHQ9T3I7VnIoOTksKGZ1bmN0aW9uKCl7Zm9yKDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dFtlXTtkb3tuPW4oITApfXdoaWxlKG51bGwhPT1uKX19KSksT3I9bnVsbH1jYXRjaCh0KXt0aHJvdyBudWxsIT09T3ImJihPcj1Pci5zbGljZShlKzEpKSx3cihJcixXciksdH1maW5hbGx5e0JyPSExfX19ZnVuY3Rpb24gJHIoZSx0LG4pe3JldHVybiAxMDczNzQxODIxLSgxKygoMTA3Mzc0MTgyMS1lK3QvMTApLyhuLz0xMCl8MCkpKm59ZnVuY3Rpb24gSHIoZSx0KXtpZihlJiZlLmRlZmF1bHRQcm9wcylmb3IodmFyIG4gaW4gdD1yKHt9LHQpLGU9ZS5kZWZhdWx0UHJvcHMpdm9pZCAwPT09dFtuXSYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9dmFyIFhyPXtjdXJyZW50Om51bGx9LFlyPW51bGwsSnI9bnVsbCxRcj1udWxsO2Z1bmN0aW9uIEtyKCl7UXI9SnI9WXI9bnVsbH1mdW5jdGlvbiBlbyhlKXt2YXIgdD1Yci5jdXJyZW50O2xyKFhyKSxlLnR5cGUuX2NvbnRleHQuX2N1cnJlbnRWYWx1ZT10fWZ1bmN0aW9uIHRvKGUsdCl7Zm9yKDtudWxsIT09ZTspe3ZhciBuPWUuYWx0ZXJuYXRlO2lmKGUuY2hpbGRFeHBpcmF0aW9uVGltZTx0KWUuY2hpbGRFeHBpcmF0aW9uVGltZT10LG51bGwhPT1uJiZuLmNoaWxkRXhwaXJhdGlvblRpbWU8dCYmKG4uY2hpbGRFeHBpcmF0aW9uVGltZT10KTtlbHNle2lmKCEobnVsbCE9PW4mJm4uY2hpbGRFeHBpcmF0aW9uVGltZTx0KSlicmVhaztuLmNoaWxkRXhwaXJhdGlvblRpbWU9dH1lPWUucmV0dXJufX1mdW5jdGlvbiBubyhlLHQpe1lyPWUsUXI9SnI9bnVsbCxudWxsIT09KGU9ZS5kZXBlbmRlbmNpZXMpJiZudWxsIT09ZS5maXJzdENvbnRleHQmJihlLmV4cGlyYXRpb25UaW1lPj10JiYoQWE9ITApLGUuZmlyc3RDb250ZXh0PW51bGwpfWZ1bmN0aW9uIGlvKGUsdCl7aWYoUXIhPT1lJiYhMSE9PXQmJjAhPT10KWlmKFwibnVtYmVyXCI9PXR5cGVvZiB0JiYxMDczNzQxODIzIT09dHx8KFFyPWUsdD0xMDczNzQxODIzKSx0PXtjb250ZXh0OmUsb2JzZXJ2ZWRCaXRzOnQsbmV4dDpudWxsfSxudWxsPT09SnIpe2lmKG51bGw9PT1Zcil0aHJvdyBFcnJvcihhKDMwOCkpO0pyPXQsWXIuZGVwZW5kZW5jaWVzPXtleHBpcmF0aW9uVGltZTowLGZpcnN0Q29udGV4dDp0LHJlc3BvbmRlcnM6bnVsbH19ZWxzZSBKcj1Kci5uZXh0PXQ7cmV0dXJuIGUuX2N1cnJlbnRWYWx1ZX12YXIgcm89ITE7ZnVuY3Rpb24gb28oZSl7ZS51cGRhdGVRdWV1ZT17YmFzZVN0YXRlOmUubWVtb2l6ZWRTdGF0ZSxiYXNlUXVldWU6bnVsbCxzaGFyZWQ6e3BlbmRpbmc6bnVsbH0sZWZmZWN0czpudWxsfX1mdW5jdGlvbiBhbyhlLHQpe2U9ZS51cGRhdGVRdWV1ZSx0LnVwZGF0ZVF1ZXVlPT09ZSYmKHQudXBkYXRlUXVldWU9e2Jhc2VTdGF0ZTplLmJhc2VTdGF0ZSxiYXNlUXVldWU6ZS5iYXNlUXVldWUsc2hhcmVkOmUuc2hhcmVkLGVmZmVjdHM6ZS5lZmZlY3RzfSl9ZnVuY3Rpb24gc28oZSx0KXtyZXR1cm4oZT17ZXhwaXJhdGlvblRpbWU6ZSxzdXNwZW5zZUNvbmZpZzp0LHRhZzowLHBheWxvYWQ6bnVsbCxjYWxsYmFjazpudWxsLG5leHQ6bnVsbH0pLm5leHQ9ZX1mdW5jdGlvbiBsbyhlLHQpe2lmKG51bGwhPT0oZT1lLnVwZGF0ZVF1ZXVlKSl7dmFyIG49KGU9ZS5zaGFyZWQpLnBlbmRpbmc7bnVsbD09PW4/dC5uZXh0PXQ6KHQubmV4dD1uLm5leHQsbi5uZXh0PXQpLGUucGVuZGluZz10fX1mdW5jdGlvbiBjbyhlLHQpe3ZhciBuPWUuYWx0ZXJuYXRlO251bGwhPT1uJiZhbyhuLGUpLG51bGw9PT0obj0oZT1lLnVwZGF0ZVF1ZXVlKS5iYXNlUXVldWUpPyhlLmJhc2VRdWV1ZT10Lm5leHQ9dCx0Lm5leHQ9dCk6KHQubmV4dD1uLm5leHQsbi5uZXh0PXQpfWZ1bmN0aW9uIHVvKGUsdCxuLGkpe3ZhciBvPWUudXBkYXRlUXVldWU7cm89ITE7dmFyIGE9by5iYXNlUXVldWUscz1vLnNoYXJlZC5wZW5kaW5nO2lmKG51bGwhPT1zKXtpZihudWxsIT09YSl7dmFyIGw9YS5uZXh0O2EubmV4dD1zLm5leHQscy5uZXh0PWx9YT1zLG8uc2hhcmVkLnBlbmRpbmc9bnVsbCxudWxsIT09KGw9ZS5hbHRlcm5hdGUpJiYobnVsbCE9PShsPWwudXBkYXRlUXVldWUpJiYobC5iYXNlUXVldWU9cykpfWlmKG51bGwhPT1hKXtsPWEubmV4dDt2YXIgYz1vLmJhc2VTdGF0ZSx1PTAsaD1udWxsLGQ9bnVsbCxwPW51bGw7aWYobnVsbCE9PWwpZm9yKHZhciBmPWw7Oyl7aWYoKHM9Zi5leHBpcmF0aW9uVGltZSk8aSl7dmFyIG09e2V4cGlyYXRpb25UaW1lOmYuZXhwaXJhdGlvblRpbWUsc3VzcGVuc2VDb25maWc6Zi5zdXNwZW5zZUNvbmZpZyx0YWc6Zi50YWcscGF5bG9hZDpmLnBheWxvYWQsY2FsbGJhY2s6Zi5jYWxsYmFjayxuZXh0Om51bGx9O251bGw9PT1wPyhkPXA9bSxoPWMpOnA9cC5uZXh0PW0scz51JiYodT1zKX1lbHNle251bGwhPT1wJiYocD1wLm5leHQ9e2V4cGlyYXRpb25UaW1lOjEwNzM3NDE4MjMsc3VzcGVuc2VDb25maWc6Zi5zdXNwZW5zZUNvbmZpZyx0YWc6Zi50YWcscGF5bG9hZDpmLnBheWxvYWQsY2FsbGJhY2s6Zi5jYWxsYmFjayxuZXh0Om51bGx9KSxvbChzLGYuc3VzcGVuc2VDb25maWcpO2U6e3ZhciBnPWUseT1mO3N3aXRjaChzPXQsbT1uLHkudGFnKXtjYXNlIDE6aWYoXCJmdW5jdGlvblwiPT10eXBlb2YoZz15LnBheWxvYWQpKXtjPWcuY2FsbChtLGMscyk7YnJlYWsgZX1jPWc7YnJlYWsgZTtjYXNlIDM6Zy5lZmZlY3RUYWc9LTQwOTcmZy5lZmZlY3RUYWd8NjQ7Y2FzZSAwOmlmKG51bGw9PShzPVwiZnVuY3Rpb25cIj09dHlwZW9mKGc9eS5wYXlsb2FkKT9nLmNhbGwobSxjLHMpOmcpKWJyZWFrIGU7Yz1yKHt9LGMscyk7YnJlYWsgZTtjYXNlIDI6cm89ITB9fW51bGwhPT1mLmNhbGxiYWNrJiYoZS5lZmZlY3RUYWd8PTMyLG51bGw9PT0ocz1vLmVmZmVjdHMpP28uZWZmZWN0cz1bZl06cy5wdXNoKGYpKX1pZihudWxsPT09KGY9Zi5uZXh0KXx8Zj09PWwpe2lmKG51bGw9PT0ocz1vLnNoYXJlZC5wZW5kaW5nKSlicmVhaztmPWEubmV4dD1zLm5leHQscy5uZXh0PWwsby5iYXNlUXVldWU9YT1zLG8uc2hhcmVkLnBlbmRpbmc9bnVsbH19bnVsbD09PXA/aD1jOnAubmV4dD1kLG8uYmFzZVN0YXRlPWgsby5iYXNlUXVldWU9cCxhbCh1KSxlLmV4cGlyYXRpb25UaW1lPXUsZS5tZW1vaXplZFN0YXRlPWN9fWZ1bmN0aW9uIGhvKGUsdCxuKXtpZihlPXQuZWZmZWN0cyx0LmVmZmVjdHM9bnVsbCxudWxsIT09ZSlmb3IodD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgaT1lW3RdLHI9aS5jYWxsYmFjaztpZihudWxsIT09cil7aWYoaS5jYWxsYmFjaz1udWxsLGk9cixyPW4sXCJmdW5jdGlvblwiIT10eXBlb2YgaSl0aHJvdyBFcnJvcihhKDE5MSxpKSk7aS5jYWxsKHIpfX19dmFyIHBvPVkuUmVhY3RDdXJyZW50QmF0Y2hDb25maWcsZm89KG5ldyBpLkNvbXBvbmVudCkucmVmcztmdW5jdGlvbiBtbyhlLHQsbixpKXtuPW51bGw9PShuPW4oaSx0PWUubWVtb2l6ZWRTdGF0ZSkpP3Q6cih7fSx0LG4pLGUubWVtb2l6ZWRTdGF0ZT1uLDA9PT1lLmV4cGlyYXRpb25UaW1lJiYoZS51cGRhdGVRdWV1ZS5iYXNlU3RhdGU9bil9dmFyIGdvPXtpc01vdW50ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZT1lLl9yZWFjdEludGVybmFsRmliZXIpJiZLZShlKT09PWV9LGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbihlLHQsbil7ZT1lLl9yZWFjdEludGVybmFsRmliZXI7dmFyIGk9cXMoKSxyPXBvLnN1c3BlbnNlOyhyPXNvKGk9JHMoaSxlLHIpLHIpKS5wYXlsb2FkPXQsbnVsbCE9biYmKHIuY2FsbGJhY2s9biksbG8oZSxyKSxIcyhlLGkpfSxlbnF1ZXVlUmVwbGFjZVN0YXRlOmZ1bmN0aW9uKGUsdCxuKXtlPWUuX3JlYWN0SW50ZXJuYWxGaWJlcjt2YXIgaT1xcygpLHI9cG8uc3VzcGVuc2U7KHI9c28oaT0kcyhpLGUscikscikpLnRhZz0xLHIucGF5bG9hZD10LG51bGwhPW4mJihyLmNhbGxiYWNrPW4pLGxvKGUsciksSHMoZSxpKX0sZW5xdWV1ZUZvcmNlVXBkYXRlOmZ1bmN0aW9uKGUsdCl7ZT1lLl9yZWFjdEludGVybmFsRmliZXI7dmFyIG49cXMoKSxpPXBvLnN1c3BlbnNlOyhpPXNvKG49JHMobixlLGkpLGkpKS50YWc9MixudWxsIT10JiYoaS5jYWxsYmFjaz10KSxsbyhlLGkpLEhzKGUsbil9fTtmdW5jdGlvbiB5byhlLHQsbixpLHIsbyxhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZihlPWUuc3RhdGVOb2RlKS5zaG91bGRDb21wb25lbnRVcGRhdGU/ZS5zaG91bGRDb21wb25lbnRVcGRhdGUoaSxvLGEpOiF0LnByb3RvdHlwZXx8IXQucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50fHwoIUZpKG4saSl8fCFGaShyLG8pKX1mdW5jdGlvbiBfbyhlLHQsbil7dmFyIGk9ITEscj11cixvPXQuY29udGV4dFR5cGU7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIG8mJm51bGwhPT1vP289aW8obyk6KHI9bXIodCk/cHI6aHIuY3VycmVudCxvPShpPW51bGwhPShpPXQuY29udGV4dFR5cGVzKSk/ZnIoZSxyKTp1ciksdD1uZXcgdChuLG8pLGUubWVtb2l6ZWRTdGF0ZT1udWxsIT09dC5zdGF0ZSYmdm9pZCAwIT09dC5zdGF0ZT90LnN0YXRlOm51bGwsdC51cGRhdGVyPWdvLGUuc3RhdGVOb2RlPXQsdC5fcmVhY3RJbnRlcm5hbEZpYmVyPWUsaSYmKChlPWUuc3RhdGVOb2RlKS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0PXIsZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dD1vKSx0fWZ1bmN0aW9uIHZvKGUsdCxuLGkpe2U9dC5zdGF0ZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJnQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuLGkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJnQuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobixpKSx0LnN0YXRlIT09ZSYmZ28uZW5xdWV1ZVJlcGxhY2VTdGF0ZSh0LHQuc3RhdGUsbnVsbCl9ZnVuY3Rpb24geG8oZSx0LG4saSl7dmFyIHI9ZS5zdGF0ZU5vZGU7ci5wcm9wcz1uLHIuc3RhdGU9ZS5tZW1vaXplZFN0YXRlLHIucmVmcz1mbyxvbyhlKTt2YXIgbz10LmNvbnRleHRUeXBlO1wib2JqZWN0XCI9PXR5cGVvZiBvJiZudWxsIT09bz9yLmNvbnRleHQ9aW8obyk6KG89bXIodCk/cHI6aHIuY3VycmVudCxyLmNvbnRleHQ9ZnIoZSxvKSksdW8oZSxuLHIsaSksci5zdGF0ZT1lLm1lbW9pemVkU3RhdGUsXCJmdW5jdGlvblwiPT10eXBlb2Yobz10LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcykmJihtbyhlLHQsbyxuKSxyLnN0YXRlPWUubWVtb2l6ZWRTdGF0ZSksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHN8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHIuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmXCJmdW5jdGlvblwiIT10eXBlb2Ygci5jb21wb25lbnRXaWxsTW91bnR8fCh0PXIuc3RhdGUsXCJmdW5jdGlvblwiPT10eXBlb2Ygci5jb21wb25lbnRXaWxsTW91bnQmJnIuY29tcG9uZW50V2lsbE1vdW50KCksXCJmdW5jdGlvblwiPT10eXBlb2Ygci5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiZyLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSx0IT09ci5zdGF0ZSYmZ28uZW5xdWV1ZVJlcGxhY2VTdGF0ZShyLHIuc3RhdGUsbnVsbCksdW8oZSxuLHIsaSksci5zdGF0ZT1lLm1lbW9pemVkU3RhdGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHIuY29tcG9uZW50RGlkTW91bnQmJihlLmVmZmVjdFRhZ3w9NCl9dmFyIGJvPUFycmF5LmlzQXJyYXk7ZnVuY3Rpb24gd28oZSx0LG4pe2lmKG51bGwhPT0oZT1uLnJlZikmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJlwib2JqZWN0XCIhPXR5cGVvZiBlKXtpZihuLl9vd25lcil7aWYobj1uLl9vd25lcil7aWYoMSE9PW4udGFnKXRocm93IEVycm9yKGEoMzA5KSk7dmFyIGk9bi5zdGF0ZU5vZGV9aWYoIWkpdGhyb3cgRXJyb3IoYSgxNDcsZSkpO3ZhciByPVwiXCIrZTtyZXR1cm4gbnVsbCE9PXQmJm51bGwhPT10LnJlZiYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5yZWYmJnQucmVmLl9zdHJpbmdSZWY9PT1yP3QucmVmOigodD1mdW5jdGlvbihlKXt2YXIgdD1pLnJlZnM7dD09PWZvJiYodD1pLnJlZnM9e30pLG51bGw9PT1lP2RlbGV0ZSB0W3JdOnRbcl09ZX0pLl9zdHJpbmdSZWY9cix0KX1pZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBFcnJvcihhKDI4NCkpO2lmKCFuLl9vd25lcil0aHJvdyBFcnJvcihhKDI5MCxlKSl9cmV0dXJuIGV9ZnVuY3Rpb24gVG8oZSx0KXtpZihcInRleHRhcmVhXCIhPT1lLnR5cGUpdGhyb3cgRXJyb3IoYSgzMSxcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXModCkuam9pbihcIiwgXCIpK1wifVwiOnQsXCJcIikpfWZ1bmN0aW9uIEVvKGUpe2Z1bmN0aW9uIHQodCxuKXtpZihlKXt2YXIgaT10Lmxhc3RFZmZlY3Q7bnVsbCE9PWk/KGkubmV4dEVmZmVjdD1uLHQubGFzdEVmZmVjdD1uKTp0LmZpcnN0RWZmZWN0PXQubGFzdEVmZmVjdD1uLG4ubmV4dEVmZmVjdD1udWxsLG4uZWZmZWN0VGFnPTh9fWZ1bmN0aW9uIG4obixpKXtpZighZSlyZXR1cm4gbnVsbDtmb3IoO251bGwhPT1pOyl0KG4saSksaT1pLnNpYmxpbmc7cmV0dXJuIG51bGx9ZnVuY3Rpb24gaShlLHQpe2ZvcihlPW5ldyBNYXA7bnVsbCE9PXQ7KW51bGwhPT10LmtleT9lLnNldCh0LmtleSx0KTplLnNldCh0LmluZGV4LHQpLHQ9dC5zaWJsaW5nO3JldHVybiBlfWZ1bmN0aW9uIHIoZSx0KXtyZXR1cm4oZT1NbChlLHQpKS5pbmRleD0wLGUuc2libGluZz1udWxsLGV9ZnVuY3Rpb24gbyh0LG4saSl7cmV0dXJuIHQuaW5kZXg9aSxlP251bGwhPT0oaT10LmFsdGVybmF0ZSk/KGk9aS5pbmRleCk8bj8odC5lZmZlY3RUYWc9MixuKTppOih0LmVmZmVjdFRhZz0yLG4pOm59ZnVuY3Rpb24gcyh0KXtyZXR1cm4gZSYmbnVsbD09PXQuYWx0ZXJuYXRlJiYodC5lZmZlY3RUYWc9MiksdH1mdW5jdGlvbiBsKGUsdCxuLGkpe3JldHVybiBudWxsPT09dHx8NiE9PXQudGFnPygodD1rbChuLGUubW9kZSxpKSkucmV0dXJuPWUsdCk6KCh0PXIodCxuKSkucmV0dXJuPWUsdCl9ZnVuY3Rpb24gYyhlLHQsbixpKXtyZXR1cm4gbnVsbCE9PXQmJnQuZWxlbWVudFR5cGU9PT1uLnR5cGU/KChpPXIodCxuLnByb3BzKSkucmVmPXdvKGUsdCxuKSxpLnJldHVybj1lLGkpOigoaT1JbChuLnR5cGUsbi5rZXksbi5wcm9wcyxudWxsLGUubW9kZSxpKSkucmVmPXdvKGUsdCxuKSxpLnJldHVybj1lLGkpfWZ1bmN0aW9uIHUoZSx0LG4saSl7cmV0dXJuIG51bGw9PT10fHw0IT09dC50YWd8fHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8hPT1uLmNvbnRhaW5lckluZm98fHQuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uIT09bi5pbXBsZW1lbnRhdGlvbj8oKHQ9QWwobixlLm1vZGUsaSkpLnJldHVybj1lLHQpOigodD1yKHQsbi5jaGlsZHJlbnx8W10pKS5yZXR1cm49ZSx0KX1mdW5jdGlvbiBoKGUsdCxuLGksbyl7cmV0dXJuIG51bGw9PT10fHw3IT09dC50YWc/KCh0PUNsKG4sZS5tb2RlLGksbykpLnJldHVybj1lLHQpOigodD1yKHQsbikpLnJldHVybj1lLHQpfWZ1bmN0aW9uIGQoZSx0LG4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0fHxcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4odD1rbChcIlwiK3QsZS5tb2RlLG4pKS5yZXR1cm49ZSx0O2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dCl7c3dpdGNoKHQuJCR0eXBlb2Ype2Nhc2UgZWU6cmV0dXJuKG49SWwodC50eXBlLHQua2V5LHQucHJvcHMsbnVsbCxlLm1vZGUsbikpLnJlZj13byhlLG51bGwsdCksbi5yZXR1cm49ZSxuO2Nhc2UgdGU6cmV0dXJuKHQ9QWwodCxlLm1vZGUsbikpLnJldHVybj1lLHR9aWYoYm8odCl8fG1lKHQpKXJldHVybih0PUNsKHQsZS5tb2RlLG4sbnVsbCkpLnJldHVybj1lLHQ7VG8oZSx0KX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBwKGUsdCxuLGkpe3ZhciByPW51bGwhPT10P3Qua2V5Om51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG58fFwibnVtYmVyXCI9PXR5cGVvZiBuKXJldHVybiBudWxsIT09cj9udWxsOmwoZSx0LFwiXCIrbixpKTtpZihcIm9iamVjdFwiPT10eXBlb2YgbiYmbnVsbCE9PW4pe3N3aXRjaChuLiQkdHlwZW9mKXtjYXNlIGVlOnJldHVybiBuLmtleT09PXI/bi50eXBlPT09bmU/aChlLHQsbi5wcm9wcy5jaGlsZHJlbixpLHIpOmMoZSx0LG4saSk6bnVsbDtjYXNlIHRlOnJldHVybiBuLmtleT09PXI/dShlLHQsbixpKTpudWxsfWlmKGJvKG4pfHxtZShuKSlyZXR1cm4gbnVsbCE9PXI/bnVsbDpoKGUsdCxuLGksbnVsbCk7VG8oZSxuKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBmKGUsdCxuLGkscil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGl8fFwibnVtYmVyXCI9PXR5cGVvZiBpKXJldHVybiBsKHQsZT1lLmdldChuKXx8bnVsbCxcIlwiK2kscik7aWYoXCJvYmplY3RcIj09dHlwZW9mIGkmJm51bGwhPT1pKXtzd2l0Y2goaS4kJHR5cGVvZil7Y2FzZSBlZTpyZXR1cm4gZT1lLmdldChudWxsPT09aS5rZXk/bjppLmtleSl8fG51bGwsaS50eXBlPT09bmU/aCh0LGUsaS5wcm9wcy5jaGlsZHJlbixyLGkua2V5KTpjKHQsZSxpLHIpO2Nhc2UgdGU6cmV0dXJuIHUodCxlPWUuZ2V0KG51bGw9PT1pLmtleT9uOmkua2V5KXx8bnVsbCxpLHIpfWlmKGJvKGkpfHxtZShpKSlyZXR1cm4gaCh0LGU9ZS5nZXQobil8fG51bGwsaSxyLG51bGwpO1RvKHQsaSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbShyLGEscyxsKXtmb3IodmFyIGM9bnVsbCx1PW51bGwsaD1hLG09YT0wLGc9bnVsbDtudWxsIT09aCYmbTxzLmxlbmd0aDttKyspe2guaW5kZXg+bT8oZz1oLGg9bnVsbCk6Zz1oLnNpYmxpbmc7dmFyIHk9cChyLGgsc1ttXSxsKTtpZihudWxsPT09eSl7bnVsbD09PWgmJihoPWcpO2JyZWFrfWUmJmgmJm51bGw9PT15LmFsdGVybmF0ZSYmdChyLGgpLGE9byh5LGEsbSksbnVsbD09PXU/Yz15OnUuc2libGluZz15LHU9eSxoPWd9aWYobT09PXMubGVuZ3RoKXJldHVybiBuKHIsaCksYztpZihudWxsPT09aCl7Zm9yKDttPHMubGVuZ3RoO20rKyludWxsIT09KGg9ZChyLHNbbV0sbCkpJiYoYT1vKGgsYSxtKSxudWxsPT09dT9jPWg6dS5zaWJsaW5nPWgsdT1oKTtyZXR1cm4gY31mb3IoaD1pKHIsaCk7bTxzLmxlbmd0aDttKyspbnVsbCE9PShnPWYoaCxyLG0sc1ttXSxsKSkmJihlJiZudWxsIT09Zy5hbHRlcm5hdGUmJmguZGVsZXRlKG51bGw9PT1nLmtleT9tOmcua2V5KSxhPW8oZyxhLG0pLG51bGw9PT11P2M9Zzp1LnNpYmxpbmc9Zyx1PWcpO3JldHVybiBlJiZoLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0KHIsZSl9KSksY31mdW5jdGlvbiBnKHIscyxsLGMpe3ZhciB1PW1lKGwpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHUpdGhyb3cgRXJyb3IoYSgxNTApKTtpZihudWxsPT0obD11LmNhbGwobCkpKXRocm93IEVycm9yKGEoMTUxKSk7Zm9yKHZhciBoPXU9bnVsbCxtPXMsZz1zPTAseT1udWxsLF89bC5uZXh0KCk7bnVsbCE9PW0mJiFfLmRvbmU7ZysrLF89bC5uZXh0KCkpe20uaW5kZXg+Zz8oeT1tLG09bnVsbCk6eT1tLnNpYmxpbmc7dmFyIHY9cChyLG0sXy52YWx1ZSxjKTtpZihudWxsPT09dil7bnVsbD09PW0mJihtPXkpO2JyZWFrfWUmJm0mJm51bGw9PT12LmFsdGVybmF0ZSYmdChyLG0pLHM9byh2LHMsZyksbnVsbD09PWg/dT12Omguc2libGluZz12LGg9dixtPXl9aWYoXy5kb25lKXJldHVybiBuKHIsbSksdTtpZihudWxsPT09bSl7Zm9yKDshXy5kb25lO2crKyxfPWwubmV4dCgpKW51bGwhPT0oXz1kKHIsXy52YWx1ZSxjKSkmJihzPW8oXyxzLGcpLG51bGw9PT1oP3U9XzpoLnNpYmxpbmc9XyxoPV8pO3JldHVybiB1fWZvcihtPWkocixtKTshXy5kb25lO2crKyxfPWwubmV4dCgpKW51bGwhPT0oXz1mKG0scixnLF8udmFsdWUsYykpJiYoZSYmbnVsbCE9PV8uYWx0ZXJuYXRlJiZtLmRlbGV0ZShudWxsPT09Xy5rZXk/ZzpfLmtleSkscz1vKF8scyxnKSxudWxsPT09aD91PV86aC5zaWJsaW5nPV8saD1fKTtyZXR1cm4gZSYmbS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdChyLGUpfSkpLHV9cmV0dXJuIGZ1bmN0aW9uKGUsaSxvLGwpe3ZhciBjPVwib2JqZWN0XCI9PXR5cGVvZiBvJiZudWxsIT09byYmby50eXBlPT09bmUmJm51bGw9PT1vLmtleTtjJiYobz1vLnByb3BzLmNoaWxkcmVuKTt2YXIgdT1cIm9iamVjdFwiPT10eXBlb2YgbyYmbnVsbCE9PW87aWYodSlzd2l0Y2goby4kJHR5cGVvZil7Y2FzZSBlZTplOntmb3IodT1vLmtleSxjPWk7bnVsbCE9PWM7KXtpZihjLmtleT09PXUpe3N3aXRjaChjLnRhZyl7Y2FzZSA3OmlmKG8udHlwZT09PW5lKXtuKGUsYy5zaWJsaW5nKSwoaT1yKGMsby5wcm9wcy5jaGlsZHJlbikpLnJldHVybj1lLGU9aTticmVhayBlfWJyZWFrO2RlZmF1bHQ6aWYoYy5lbGVtZW50VHlwZT09PW8udHlwZSl7bihlLGMuc2libGluZyksKGk9cihjLG8ucHJvcHMpKS5yZWY9d28oZSxjLG8pLGkucmV0dXJuPWUsZT1pO2JyZWFrIGV9fW4oZSxjKTticmVha310KGUsYyksYz1jLnNpYmxpbmd9by50eXBlPT09bmU/KChpPUNsKG8ucHJvcHMuY2hpbGRyZW4sZS5tb2RlLGwsby5rZXkpKS5yZXR1cm49ZSxlPWkpOigobD1JbChvLnR5cGUsby5rZXksby5wcm9wcyxudWxsLGUubW9kZSxsKSkucmVmPXdvKGUsaSxvKSxsLnJldHVybj1lLGU9bCl9cmV0dXJuIHMoZSk7Y2FzZSB0ZTplOntmb3IoYz1vLmtleTtudWxsIT09aTspe2lmKGkua2V5PT09Yyl7aWYoND09PWkudGFnJiZpLnN0YXRlTm9kZS5jb250YWluZXJJbmZvPT09by5jb250YWluZXJJbmZvJiZpLnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbj09PW8uaW1wbGVtZW50YXRpb24pe24oZSxpLnNpYmxpbmcpLChpPXIoaSxvLmNoaWxkcmVufHxbXSkpLnJldHVybj1lLGU9aTticmVhayBlfW4oZSxpKTticmVha310KGUsaSksaT1pLnNpYmxpbmd9KGk9QWwobyxlLm1vZGUsbCkpLnJldHVybj1lLGU9aX1yZXR1cm4gcyhlKX1pZihcInN0cmluZ1wiPT10eXBlb2Ygb3x8XCJudW1iZXJcIj09dHlwZW9mIG8pcmV0dXJuIG89XCJcIitvLG51bGwhPT1pJiY2PT09aS50YWc/KG4oZSxpLnNpYmxpbmcpLChpPXIoaSxvKSkucmV0dXJuPWUsZT1pKToobihlLGkpLChpPWtsKG8sZS5tb2RlLGwpKS5yZXR1cm49ZSxlPWkpLHMoZSk7aWYoYm8obykpcmV0dXJuIG0oZSxpLG8sbCk7aWYobWUobykpcmV0dXJuIGcoZSxpLG8sbCk7aWYodSYmVG8oZSxvKSx2b2lkIDA9PT1vJiYhYylzd2l0Y2goZS50YWcpe2Nhc2UgMTpjYXNlIDA6dGhyb3cgZT1lLnR5cGUsRXJyb3IoYSgxNTIsZS5kaXNwbGF5TmFtZXx8ZS5uYW1lfHxcIkNvbXBvbmVudFwiKSl9cmV0dXJuIG4oZSxpKX19dmFyIFNvPUVvKCEwKSxNbz1FbyghMSksSW89e30sQ289e2N1cnJlbnQ6SW99LGtvPXtjdXJyZW50OklvfSxBbz17Y3VycmVudDpJb307ZnVuY3Rpb24gUG8oZSl7aWYoZT09PUlvKXRocm93IEVycm9yKGEoMTc0KSk7cmV0dXJuIGV9ZnVuY3Rpb24gem8oZSx0KXtzd2l0Y2goY3IoQW8sdCksY3Ioa28sZSksY3IoQ28sSW8pLGU9dC5ub2RlVHlwZSl7Y2FzZSA5OmNhc2UgMTE6dD0odD10LmRvY3VtZW50RWxlbWVudCk/dC5uYW1lc3BhY2VVUkk6QmUobnVsbCxcIlwiKTticmVhaztkZWZhdWx0OnQ9QmUodD0oZT04PT09ZT90LnBhcmVudE5vZGU6dCkubmFtZXNwYWNlVVJJfHxudWxsLGU9ZS50YWdOYW1lKX1scihDbyksY3IoQ28sdCl9ZnVuY3Rpb24gRG8oKXtscihDbyksbHIoa28pLGxyKEFvKX1mdW5jdGlvbiBMbyhlKXtQbyhBby5jdXJyZW50KTt2YXIgdD1QbyhDby5jdXJyZW50KSxuPUJlKHQsZS50eXBlKTt0IT09biYmKGNyKGtvLGUpLGNyKENvLG4pKX1mdW5jdGlvbiBPbyhlKXtrby5jdXJyZW50PT09ZSYmKGxyKENvKSxscihrbykpfXZhciBSbz17Y3VycmVudDowfTtmdW5jdGlvbiBCbyhlKXtmb3IodmFyIHQ9ZTtudWxsIT09dDspe2lmKDEzPT09dC50YWcpe3ZhciBuPXQubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09biYmKG51bGw9PT0obj1uLmRlaHlkcmF0ZWQpfHxcIiQ/XCI9PT1uLmRhdGF8fFwiJCFcIj09PW4uZGF0YSkpcmV0dXJuIHR9ZWxzZSBpZigxOT09PXQudGFnJiZ2b2lkIDAhPT10Lm1lbW9pemVkUHJvcHMucmV2ZWFsT3JkZXIpe2lmKDAhPSg2NCZ0LmVmZmVjdFRhZykpcmV0dXJuIHR9ZWxzZSBpZihudWxsIT09dC5jaGlsZCl7dC5jaGlsZC5yZXR1cm49dCx0PXQuY2hpbGQ7Y29udGludWV9aWYodD09PWUpYnJlYWs7Zm9yKDtudWxsPT09dC5zaWJsaW5nOyl7aWYobnVsbD09PXQucmV0dXJufHx0LnJldHVybj09PWUpcmV0dXJuIG51bGw7dD10LnJldHVybn10LnNpYmxpbmcucmV0dXJuPXQucmV0dXJuLHQ9dC5zaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGpvKGUsdCl7cmV0dXJue3Jlc3BvbmRlcjplLHByb3BzOnR9fXZhciBGbz1ZLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsTm89WS5SZWFjdEN1cnJlbnRCYXRjaENvbmZpZyxVbz0wLFZvPW51bGwsR289bnVsbCxabz1udWxsLFdvPSExO2Z1bmN0aW9uIHFvKCl7dGhyb3cgRXJyb3IoYSgzMjEpKX1mdW5jdGlvbiAkbyhlLHQpe2lmKG51bGw9PT10KXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGgmJm48ZS5sZW5ndGg7bisrKWlmKCFCaShlW25dLHRbbl0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEhvKGUsdCxuLGkscixvKXtpZihVbz1vLFZvPXQsdC5tZW1vaXplZFN0YXRlPW51bGwsdC51cGRhdGVRdWV1ZT1udWxsLHQuZXhwaXJhdGlvblRpbWU9MCxGby5jdXJyZW50PW51bGw9PT1lfHxudWxsPT09ZS5tZW1vaXplZFN0YXRlP3lhOl9hLGU9bihpLHIpLHQuZXhwaXJhdGlvblRpbWU9PT1Vbyl7bz0wO2Rve2lmKHQuZXhwaXJhdGlvblRpbWU9MCwhKDI1Pm8pKXRocm93IEVycm9yKGEoMzAxKSk7bys9MSxabz1Hbz1udWxsLHQudXBkYXRlUXVldWU9bnVsbCxGby5jdXJyZW50PXZhLGU9bihpLHIpfXdoaWxlKHQuZXhwaXJhdGlvblRpbWU9PT1Vbyl9aWYoRm8uY3VycmVudD1nYSx0PW51bGwhPT1HbyYmbnVsbCE9PUdvLm5leHQsVW89MCxabz1Hbz1Wbz1udWxsLFdvPSExLHQpdGhyb3cgRXJyb3IoYSgzMDApKTtyZXR1cm4gZX1mdW5jdGlvbiBYbygpe3ZhciBlPXttZW1vaXplZFN0YXRlOm51bGwsYmFzZVN0YXRlOm51bGwsYmFzZVF1ZXVlOm51bGwscXVldWU6bnVsbCxuZXh0Om51bGx9O3JldHVybiBudWxsPT09Wm8/Vm8ubWVtb2l6ZWRTdGF0ZT1abz1lOlpvPVpvLm5leHQ9ZSxab31mdW5jdGlvbiBZbygpe2lmKG51bGw9PT1Hbyl7dmFyIGU9Vm8uYWx0ZXJuYXRlO2U9bnVsbCE9PWU/ZS5tZW1vaXplZFN0YXRlOm51bGx9ZWxzZSBlPUdvLm5leHQ7dmFyIHQ9bnVsbD09PVpvP1ZvLm1lbW9pemVkU3RhdGU6Wm8ubmV4dDtpZihudWxsIT09dClabz10LEdvPWU7ZWxzZXtpZihudWxsPT09ZSl0aHJvdyBFcnJvcihhKDMxMCkpO2U9e21lbW9pemVkU3RhdGU6KEdvPWUpLm1lbW9pemVkU3RhdGUsYmFzZVN0YXRlOkdvLmJhc2VTdGF0ZSxiYXNlUXVldWU6R28uYmFzZVF1ZXVlLHF1ZXVlOkdvLnF1ZXVlLG5leHQ6bnVsbH0sbnVsbD09PVpvP1ZvLm1lbW9pemVkU3RhdGU9Wm89ZTpabz1aby5uZXh0PWV9cmV0dXJuIFpvfWZ1bmN0aW9uIEpvKGUsdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90KGUpOnR9ZnVuY3Rpb24gUW8oZSl7dmFyIHQ9WW8oKSxuPXQucXVldWU7aWYobnVsbD09PW4pdGhyb3cgRXJyb3IoYSgzMTEpKTtuLmxhc3RSZW5kZXJlZFJlZHVjZXI9ZTt2YXIgaT1HbyxyPWkuYmFzZVF1ZXVlLG89bi5wZW5kaW5nO2lmKG51bGwhPT1vKXtpZihudWxsIT09cil7dmFyIHM9ci5uZXh0O3IubmV4dD1vLm5leHQsby5uZXh0PXN9aS5iYXNlUXVldWU9cj1vLG4ucGVuZGluZz1udWxsfWlmKG51bGwhPT1yKXtyPXIubmV4dCxpPWkuYmFzZVN0YXRlO3ZhciBsPXM9bz1udWxsLGM9cjtkb3t2YXIgdT1jLmV4cGlyYXRpb25UaW1lO2lmKHU8VW8pe3ZhciBoPXtleHBpcmF0aW9uVGltZTpjLmV4cGlyYXRpb25UaW1lLHN1c3BlbnNlQ29uZmlnOmMuc3VzcGVuc2VDb25maWcsYWN0aW9uOmMuYWN0aW9uLGVhZ2VyUmVkdWNlcjpjLmVhZ2VyUmVkdWNlcixlYWdlclN0YXRlOmMuZWFnZXJTdGF0ZSxuZXh0Om51bGx9O251bGw9PT1sPyhzPWw9aCxvPWkpOmw9bC5uZXh0PWgsdT5Wby5leHBpcmF0aW9uVGltZSYmKFZvLmV4cGlyYXRpb25UaW1lPXUsYWwodSkpfWVsc2UgbnVsbCE9PWwmJihsPWwubmV4dD17ZXhwaXJhdGlvblRpbWU6MTA3Mzc0MTgyMyxzdXNwZW5zZUNvbmZpZzpjLnN1c3BlbnNlQ29uZmlnLGFjdGlvbjpjLmFjdGlvbixlYWdlclJlZHVjZXI6Yy5lYWdlclJlZHVjZXIsZWFnZXJTdGF0ZTpjLmVhZ2VyU3RhdGUsbmV4dDpudWxsfSksb2wodSxjLnN1c3BlbnNlQ29uZmlnKSxpPWMuZWFnZXJSZWR1Y2VyPT09ZT9jLmVhZ2VyU3RhdGU6ZShpLGMuYWN0aW9uKTtjPWMubmV4dH13aGlsZShudWxsIT09YyYmYyE9PXIpO251bGw9PT1sP289aTpsLm5leHQ9cyxCaShpLHQubWVtb2l6ZWRTdGF0ZSl8fChBYT0hMCksdC5tZW1vaXplZFN0YXRlPWksdC5iYXNlU3RhdGU9byx0LmJhc2VRdWV1ZT1sLG4ubGFzdFJlbmRlcmVkU3RhdGU9aX1yZXR1cm5bdC5tZW1vaXplZFN0YXRlLG4uZGlzcGF0Y2hdfWZ1bmN0aW9uIEtvKGUpe3ZhciB0PVlvKCksbj10LnF1ZXVlO2lmKG51bGw9PT1uKXRocm93IEVycm9yKGEoMzExKSk7bi5sYXN0UmVuZGVyZWRSZWR1Y2VyPWU7dmFyIGk9bi5kaXNwYXRjaCxyPW4ucGVuZGluZyxvPXQubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09cil7bi5wZW5kaW5nPW51bGw7dmFyIHM9cj1yLm5leHQ7ZG97bz1lKG8scy5hY3Rpb24pLHM9cy5uZXh0fXdoaWxlKHMhPT1yKTtCaShvLHQubWVtb2l6ZWRTdGF0ZSl8fChBYT0hMCksdC5tZW1vaXplZFN0YXRlPW8sbnVsbD09PXQuYmFzZVF1ZXVlJiYodC5iYXNlU3RhdGU9byksbi5sYXN0UmVuZGVyZWRTdGF0ZT1vfXJldHVybltvLGldfWZ1bmN0aW9uIGVhKGUpe3ZhciB0PVhvKCk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGU9ZSgpKSx0Lm1lbW9pemVkU3RhdGU9dC5iYXNlU3RhdGU9ZSxlPShlPXQucXVldWU9e3BlbmRpbmc6bnVsbCxkaXNwYXRjaDpudWxsLGxhc3RSZW5kZXJlZFJlZHVjZXI6Sm8sbGFzdFJlbmRlcmVkU3RhdGU6ZX0pLmRpc3BhdGNoPW1hLmJpbmQobnVsbCxWbyxlKSxbdC5tZW1vaXplZFN0YXRlLGVdfWZ1bmN0aW9uIHRhKGUsdCxuLGkpe3JldHVybiBlPXt0YWc6ZSxjcmVhdGU6dCxkZXN0cm95Om4sZGVwczppLG5leHQ6bnVsbH0sbnVsbD09PSh0PVZvLnVwZGF0ZVF1ZXVlKT8odD17bGFzdEVmZmVjdDpudWxsfSxWby51cGRhdGVRdWV1ZT10LHQubGFzdEVmZmVjdD1lLm5leHQ9ZSk6bnVsbD09PShuPXQubGFzdEVmZmVjdCk/dC5sYXN0RWZmZWN0PWUubmV4dD1lOihpPW4ubmV4dCxuLm5leHQ9ZSxlLm5leHQ9aSx0Lmxhc3RFZmZlY3Q9ZSksZX1mdW5jdGlvbiBuYSgpe3JldHVybiBZbygpLm1lbW9pemVkU3RhdGV9ZnVuY3Rpb24gaWEoZSx0LG4saSl7dmFyIHI9WG8oKTtWby5lZmZlY3RUYWd8PWUsci5tZW1vaXplZFN0YXRlPXRhKDF8dCxuLHZvaWQgMCx2b2lkIDA9PT1pP251bGw6aSl9ZnVuY3Rpb24gcmEoZSx0LG4saSl7dmFyIHI9WW8oKTtpPXZvaWQgMD09PWk/bnVsbDppO3ZhciBvPXZvaWQgMDtpZihudWxsIT09R28pe3ZhciBhPUdvLm1lbW9pemVkU3RhdGU7aWYobz1hLmRlc3Ryb3ksbnVsbCE9PWkmJiRvKGksYS5kZXBzKSlyZXR1cm4gdm9pZCB0YSh0LG4sbyxpKX1Wby5lZmZlY3RUYWd8PWUsci5tZW1vaXplZFN0YXRlPXRhKDF8dCxuLG8saSl9ZnVuY3Rpb24gb2EoZSx0KXtyZXR1cm4gaWEoNTE2LDQsZSx0KX1mdW5jdGlvbiBhYShlLHQpe3JldHVybiByYSg1MTYsNCxlLHQpfWZ1bmN0aW9uIHNhKGUsdCl7cmV0dXJuIHJhKDQsMixlLHQpfWZ1bmN0aW9uIGxhKGUsdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD8oZT1lKCksdChlKSxmdW5jdGlvbigpe3QobnVsbCl9KTpudWxsIT10PyhlPWUoKSx0LmN1cnJlbnQ9ZSxmdW5jdGlvbigpe3QuY3VycmVudD1udWxsfSk6dm9pZCAwfWZ1bmN0aW9uIGNhKGUsdCxuKXtyZXR1cm4gbj1udWxsIT1uP24uY29uY2F0KFtlXSk6bnVsbCxyYSg0LDIsbGEuYmluZChudWxsLHQsZSksbil9ZnVuY3Rpb24gdWEoKXt9ZnVuY3Rpb24gaGEoZSx0KXtyZXR1cm4gWG8oKS5tZW1vaXplZFN0YXRlPVtlLHZvaWQgMD09PXQ/bnVsbDp0XSxlfWZ1bmN0aW9uIGRhKGUsdCl7dmFyIG49WW8oKTt0PXZvaWQgMD09PXQ/bnVsbDp0O3ZhciBpPW4ubWVtb2l6ZWRTdGF0ZTtyZXR1cm4gbnVsbCE9PWkmJm51bGwhPT10JiYkbyh0LGlbMV0pP2lbMF06KG4ubWVtb2l6ZWRTdGF0ZT1bZSx0XSxlKX1mdW5jdGlvbiBwYShlLHQpe3ZhciBuPVlvKCk7dD12b2lkIDA9PT10P251bGw6dDt2YXIgaT1uLm1lbW9pemVkU3RhdGU7cmV0dXJuIG51bGwhPT1pJiZudWxsIT09dCYmJG8odCxpWzFdKT9pWzBdOihlPWUoKSxuLm1lbW9pemVkU3RhdGU9W2UsdF0sZSl9ZnVuY3Rpb24gZmEoZSx0LG4pe3ZhciBpPU5yKCk7VnIoOTg+aT85ODppLChmdW5jdGlvbigpe2UoITApfSkpLFZyKDk3PGk/OTc6aSwoZnVuY3Rpb24oKXt2YXIgaT1Oby5zdXNwZW5zZTtOby5zdXNwZW5zZT12b2lkIDA9PT10P251bGw6dDt0cnl7ZSghMSksbigpfWZpbmFsbHl7Tm8uc3VzcGVuc2U9aX19KSl9ZnVuY3Rpb24gbWEoZSx0LG4pe3ZhciBpPXFzKCkscj1wby5zdXNwZW5zZTtyPXtleHBpcmF0aW9uVGltZTppPSRzKGksZSxyKSxzdXNwZW5zZUNvbmZpZzpyLGFjdGlvbjpuLGVhZ2VyUmVkdWNlcjpudWxsLGVhZ2VyU3RhdGU6bnVsbCxuZXh0Om51bGx9O3ZhciBvPXQucGVuZGluZztpZihudWxsPT09bz9yLm5leHQ9cjooci5uZXh0PW8ubmV4dCxvLm5leHQ9ciksdC5wZW5kaW5nPXIsbz1lLmFsdGVybmF0ZSxlPT09Vm98fG51bGwhPT1vJiZvPT09Vm8pV289ITAsci5leHBpcmF0aW9uVGltZT1VbyxWby5leHBpcmF0aW9uVGltZT1VbztlbHNle2lmKDA9PT1lLmV4cGlyYXRpb25UaW1lJiYobnVsbD09PW98fDA9PT1vLmV4cGlyYXRpb25UaW1lKSYmbnVsbCE9PShvPXQubGFzdFJlbmRlcmVkUmVkdWNlcikpdHJ5e3ZhciBhPXQubGFzdFJlbmRlcmVkU3RhdGUscz1vKGEsbik7aWYoci5lYWdlclJlZHVjZXI9byxyLmVhZ2VyU3RhdGU9cyxCaShzLGEpKXJldHVybn1jYXRjaChlKXt9SHMoZSxpKX19dmFyIGdhPXtyZWFkQ29udGV4dDppbyx1c2VDYWxsYmFjazpxbyx1c2VDb250ZXh0OnFvLHVzZUVmZmVjdDpxbyx1c2VJbXBlcmF0aXZlSGFuZGxlOnFvLHVzZUxheW91dEVmZmVjdDpxbyx1c2VNZW1vOnFvLHVzZVJlZHVjZXI6cW8sdXNlUmVmOnFvLHVzZVN0YXRlOnFvLHVzZURlYnVnVmFsdWU6cW8sdXNlUmVzcG9uZGVyOnFvLHVzZURlZmVycmVkVmFsdWU6cW8sdXNlVHJhbnNpdGlvbjpxb30seWE9e3JlYWRDb250ZXh0OmlvLHVzZUNhbGxiYWNrOmhhLHVzZUNvbnRleHQ6aW8sdXNlRWZmZWN0Om9hLHVzZUltcGVyYXRpdmVIYW5kbGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuPW51bGwhPW4/bi5jb25jYXQoW2VdKTpudWxsLGlhKDQsMixsYS5iaW5kKG51bGwsdCxlKSxuKX0sdXNlTGF5b3V0RWZmZWN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGlhKDQsMixlLHQpfSx1c2VNZW1vOmZ1bmN0aW9uKGUsdCl7dmFyIG49WG8oKTtyZXR1cm4gdD12b2lkIDA9PT10P251bGw6dCxlPWUoKSxuLm1lbW9pemVkU3RhdGU9W2UsdF0sZX0sdXNlUmVkdWNlcjpmdW5jdGlvbihlLHQsbil7dmFyIGk9WG8oKTtyZXR1cm4gdD12b2lkIDAhPT1uP24odCk6dCxpLm1lbW9pemVkU3RhdGU9aS5iYXNlU3RhdGU9dCxlPShlPWkucXVldWU9e3BlbmRpbmc6bnVsbCxkaXNwYXRjaDpudWxsLGxhc3RSZW5kZXJlZFJlZHVjZXI6ZSxsYXN0UmVuZGVyZWRTdGF0ZTp0fSkuZGlzcGF0Y2g9bWEuYmluZChudWxsLFZvLGUpLFtpLm1lbW9pemVkU3RhdGUsZV19LHVzZVJlZjpmdW5jdGlvbihlKXtyZXR1cm4gZT17Y3VycmVudDplfSxYbygpLm1lbW9pemVkU3RhdGU9ZX0sdXNlU3RhdGU6ZWEsdXNlRGVidWdWYWx1ZTp1YSx1c2VSZXNwb25kZXI6am8sdXNlRGVmZXJyZWRWYWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWVhKGUpLGk9blswXSxyPW5bMV07cmV0dXJuIG9hKChmdW5jdGlvbigpe3ZhciBuPU5vLnN1c3BlbnNlO05vLnN1c3BlbnNlPXZvaWQgMD09PXQ/bnVsbDp0O3RyeXtyKGUpfWZpbmFsbHl7Tm8uc3VzcGVuc2U9bn19KSxbZSx0XSksaX0sdXNlVHJhbnNpdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1lYSghMSksbj10WzBdO3JldHVybiB0PXRbMV0sW2hhKGZhLmJpbmQobnVsbCx0LGUpLFt0LGVdKSxuXX19LF9hPXtyZWFkQ29udGV4dDppbyx1c2VDYWxsYmFjazpkYSx1c2VDb250ZXh0OmlvLHVzZUVmZmVjdDphYSx1c2VJbXBlcmF0aXZlSGFuZGxlOmNhLHVzZUxheW91dEVmZmVjdDpzYSx1c2VNZW1vOnBhLHVzZVJlZHVjZXI6UW8sdXNlUmVmOm5hLHVzZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIFFvKEpvKX0sdXNlRGVidWdWYWx1ZTp1YSx1c2VSZXNwb25kZXI6am8sdXNlRGVmZXJyZWRWYWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPVFvKEpvKSxpPW5bMF0scj1uWzFdO3JldHVybiBhYSgoZnVuY3Rpb24oKXt2YXIgbj1Oby5zdXNwZW5zZTtOby5zdXNwZW5zZT12b2lkIDA9PT10P251bGw6dDt0cnl7cihlKX1maW5hbGx5e05vLnN1c3BlbnNlPW59fSksW2UsdF0pLGl9LHVzZVRyYW5zaXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9UW8oSm8pLG49dFswXTtyZXR1cm4gdD10WzFdLFtkYShmYS5iaW5kKG51bGwsdCxlKSxbdCxlXSksbl19fSx2YT17cmVhZENvbnRleHQ6aW8sdXNlQ2FsbGJhY2s6ZGEsdXNlQ29udGV4dDppbyx1c2VFZmZlY3Q6YWEsdXNlSW1wZXJhdGl2ZUhhbmRsZTpjYSx1c2VMYXlvdXRFZmZlY3Q6c2EsdXNlTWVtbzpwYSx1c2VSZWR1Y2VyOktvLHVzZVJlZjpuYSx1c2VTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBLbyhKbyl9LHVzZURlYnVnVmFsdWU6dWEsdXNlUmVzcG9uZGVyOmpvLHVzZURlZmVycmVkVmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1LbyhKbyksaT1uWzBdLHI9blsxXTtyZXR1cm4gYWEoKGZ1bmN0aW9uKCl7dmFyIG49Tm8uc3VzcGVuc2U7Tm8uc3VzcGVuc2U9dm9pZCAwPT09dD9udWxsOnQ7dHJ5e3IoZSl9ZmluYWxseXtOby5zdXNwZW5zZT1ufX0pLFtlLHRdKSxpfSx1c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PUtvKEpvKSxuPXRbMF07cmV0dXJuIHQ9dFsxXSxbZGEoZmEuYmluZChudWxsLHQsZSksW3QsZV0pLG5dfX0seGE9bnVsbCxiYT1udWxsLHdhPSExO2Z1bmN0aW9uIFRhKGUsdCl7dmFyIG49RWwoNSxudWxsLG51bGwsMCk7bi5lbGVtZW50VHlwZT1cIkRFTEVURURcIixuLnR5cGU9XCJERUxFVEVEXCIsbi5zdGF0ZU5vZGU9dCxuLnJldHVybj1lLG4uZWZmZWN0VGFnPTgsbnVsbCE9PWUubGFzdEVmZmVjdD8oZS5sYXN0RWZmZWN0Lm5leHRFZmZlY3Q9bixlLmxhc3RFZmZlY3Q9bik6ZS5maXJzdEVmZmVjdD1lLmxhc3RFZmZlY3Q9bn1mdW5jdGlvbiBFYShlLHQpe3N3aXRjaChlLnRhZyl7Y2FzZSA1OnZhciBuPWUudHlwZTtyZXR1cm4gbnVsbCE9PSh0PTEhPT10Lm5vZGVUeXBlfHxuLnRvTG93ZXJDYXNlKCkhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/bnVsbDp0KSYmKGUuc3RhdGVOb2RlPXQsITApO2Nhc2UgNjpyZXR1cm4gbnVsbCE9PSh0PVwiXCI9PT1lLnBlbmRpbmdQcm9wc3x8MyE9PXQubm9kZVR5cGU/bnVsbDp0KSYmKGUuc3RhdGVOb2RlPXQsITApO2Nhc2UgMTM6ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gU2EoZSl7aWYod2Epe3ZhciB0PWJhO2lmKHQpe3ZhciBuPXQ7aWYoIUVhKGUsdCkpe2lmKCEodD1ibihuLm5leHRTaWJsaW5nKSl8fCFFYShlLHQpKXJldHVybiBlLmVmZmVjdFRhZz0tMTAyNSZlLmVmZmVjdFRhZ3wyLHdhPSExLHZvaWQoeGE9ZSk7VGEoeGEsbil9eGE9ZSxiYT1ibih0LmZpcnN0Q2hpbGQpfWVsc2UgZS5lZmZlY3RUYWc9LTEwMjUmZS5lZmZlY3RUYWd8Mix3YT0hMSx4YT1lfX1mdW5jdGlvbiBNYShlKXtmb3IoZT1lLnJldHVybjtudWxsIT09ZSYmNSE9PWUudGFnJiYzIT09ZS50YWcmJjEzIT09ZS50YWc7KWU9ZS5yZXR1cm47eGE9ZX1mdW5jdGlvbiBJYShlKXtpZihlIT09eGEpcmV0dXJuITE7aWYoIXdhKXJldHVybiBNYShlKSx3YT0hMCwhMTt2YXIgdD1lLnR5cGU7aWYoNSE9PWUudGFnfHxcImhlYWRcIiE9PXQmJlwiYm9keVwiIT09dCYmIV9uKHQsZS5tZW1vaXplZFByb3BzKSlmb3IodD1iYTt0OylUYShlLHQpLHQ9Ym4odC5uZXh0U2libGluZyk7aWYoTWEoZSksMTM9PT1lLnRhZyl7aWYoIShlPW51bGwhPT0oZT1lLm1lbW9pemVkU3RhdGUpP2UuZGVoeWRyYXRlZDpudWxsKSl0aHJvdyBFcnJvcihhKDMxNykpO2U6e2ZvcihlPWUubmV4dFNpYmxpbmcsdD0wO2U7KXtpZig4PT09ZS5ub2RlVHlwZSl7dmFyIG49ZS5kYXRhO2lmKFwiLyRcIj09PW4pe2lmKDA9PT10KXtiYT1ibihlLm5leHRTaWJsaW5nKTticmVhayBlfXQtLX1lbHNlXCIkXCIhPT1uJiZcIiQhXCIhPT1uJiZcIiQ/XCIhPT1ufHx0Kyt9ZT1lLm5leHRTaWJsaW5nfWJhPW51bGx9fWVsc2UgYmE9eGE/Ym4oZS5zdGF0ZU5vZGUubmV4dFNpYmxpbmcpOm51bGw7cmV0dXJuITB9ZnVuY3Rpb24gQ2EoKXtiYT14YT1udWxsLHdhPSExfXZhciBrYT1ZLlJlYWN0Q3VycmVudE93bmVyLEFhPSExO2Z1bmN0aW9uIFBhKGUsdCxuLGkpe3QuY2hpbGQ9bnVsbD09PWU/TW8odCxudWxsLG4saSk6U28odCxlLmNoaWxkLG4saSl9ZnVuY3Rpb24gemEoZSx0LG4saSxyKXtuPW4ucmVuZGVyO3ZhciBvPXQucmVmO3JldHVybiBubyh0LHIpLGk9SG8oZSx0LG4saSxvLHIpLG51bGw9PT1lfHxBYT8odC5lZmZlY3RUYWd8PTEsUGEoZSx0LGksciksdC5jaGlsZCk6KHQudXBkYXRlUXVldWU9ZS51cGRhdGVRdWV1ZSx0LmVmZmVjdFRhZyY9LTUxNyxlLmV4cGlyYXRpb25UaW1lPD1yJiYoZS5leHBpcmF0aW9uVGltZT0wKSxIYShlLHQscikpfWZ1bmN0aW9uIERhKGUsdCxuLGkscixvKXtpZihudWxsPT09ZSl7dmFyIGE9bi50eXBlO3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIGF8fFNsKGEpfHx2b2lkIDAhPT1hLmRlZmF1bHRQcm9wc3x8bnVsbCE9PW4uY29tcGFyZXx8dm9pZCAwIT09bi5kZWZhdWx0UHJvcHM/KChlPUlsKG4udHlwZSxudWxsLGksbnVsbCx0Lm1vZGUsbykpLnJlZj10LnJlZixlLnJldHVybj10LHQuY2hpbGQ9ZSk6KHQudGFnPTE1LHQudHlwZT1hLExhKGUsdCxhLGkscixvKSl9cmV0dXJuIGE9ZS5jaGlsZCxyPG8mJihyPWEubWVtb2l6ZWRQcm9wcywobj1udWxsIT09KG49bi5jb21wYXJlKT9uOkZpKShyLGkpJiZlLnJlZj09PXQucmVmKT9IYShlLHQsbyk6KHQuZWZmZWN0VGFnfD0xLChlPU1sKGEsaSkpLnJlZj10LnJlZixlLnJldHVybj10LHQuY2hpbGQ9ZSl9ZnVuY3Rpb24gTGEoZSx0LG4saSxyLG8pe3JldHVybiBudWxsIT09ZSYmRmkoZS5tZW1vaXplZFByb3BzLGkpJiZlLnJlZj09PXQucmVmJiYoQWE9ITEscjxvKT8odC5leHBpcmF0aW9uVGltZT1lLmV4cGlyYXRpb25UaW1lLEhhKGUsdCxvKSk6UmEoZSx0LG4saSxvKX1mdW5jdGlvbiBPYShlLHQpe3ZhciBuPXQucmVmOyhudWxsPT09ZSYmbnVsbCE9PW58fG51bGwhPT1lJiZlLnJlZiE9PW4pJiYodC5lZmZlY3RUYWd8PTEyOCl9ZnVuY3Rpb24gUmEoZSx0LG4saSxyKXt2YXIgbz1tcihuKT9wcjpoci5jdXJyZW50O3JldHVybiBvPWZyKHQsbyksbm8odCxyKSxuPUhvKGUsdCxuLGksbyxyKSxudWxsPT09ZXx8QWE/KHQuZWZmZWN0VGFnfD0xLFBhKGUsdCxuLHIpLHQuY2hpbGQpOih0LnVwZGF0ZVF1ZXVlPWUudXBkYXRlUXVldWUsdC5lZmZlY3RUYWcmPS01MTcsZS5leHBpcmF0aW9uVGltZTw9ciYmKGUuZXhwaXJhdGlvblRpbWU9MCksSGEoZSx0LHIpKX1mdW5jdGlvbiBCYShlLHQsbixpLHIpe2lmKG1yKG4pKXt2YXIgbz0hMDt2cih0KX1lbHNlIG89ITE7aWYobm8odCxyKSxudWxsPT09dC5zdGF0ZU5vZGUpbnVsbCE9PWUmJihlLmFsdGVybmF0ZT1udWxsLHQuYWx0ZXJuYXRlPW51bGwsdC5lZmZlY3RUYWd8PTIpLF9vKHQsbixpKSx4byh0LG4saSxyKSxpPSEwO2Vsc2UgaWYobnVsbD09PWUpe3ZhciBhPXQuc3RhdGVOb2RlLHM9dC5tZW1vaXplZFByb3BzO2EucHJvcHM9czt2YXIgbD1hLmNvbnRleHQsYz1uLmNvbnRleHRUeXBlO1wib2JqZWN0XCI9PXR5cGVvZiBjJiZudWxsIT09Yz9jPWlvKGMpOmM9ZnIodCxjPW1yKG4pP3ByOmhyLmN1cnJlbnQpO3ZhciB1PW4uZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLGg9XCJmdW5jdGlvblwiPT10eXBlb2YgdXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZTtofHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHN8fChzIT09aXx8bCE9PWMpJiZ2byh0LGEsaSxjKSxybz0hMTt2YXIgZD10Lm1lbW9pemVkU3RhdGU7YS5zdGF0ZT1kLHVvKHQsaSxhLHIpLGw9dC5tZW1vaXplZFN0YXRlLHMhPT1pfHxkIT09bHx8ZHIuY3VycmVudHx8cm8/KFwiZnVuY3Rpb25cIj09dHlwZW9mIHUmJihtbyh0LG4sdSxpKSxsPXQubWVtb2l6ZWRTdGF0ZSksKHM9cm98fHlvKHQsbixzLGksZCxsLGMpKT8oaHx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmNvbXBvbmVudFdpbGxNb3VudHx8KFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuY29tcG9uZW50V2lsbE1vdW50JiZhLmNvbXBvbmVudFdpbGxNb3VudCgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmYS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuY29tcG9uZW50RGlkTW91bnQmJih0LmVmZmVjdFRhZ3w9NCkpOihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmNvbXBvbmVudERpZE1vdW50JiYodC5lZmZlY3RUYWd8PTQpLHQubWVtb2l6ZWRQcm9wcz1pLHQubWVtb2l6ZWRTdGF0ZT1sKSxhLnByb3BzPWksYS5zdGF0ZT1sLGEuY29udGV4dD1jLGk9cyk6KFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuY29tcG9uZW50RGlkTW91bnQmJih0LmVmZmVjdFRhZ3w9NCksaT0hMSl9ZWxzZSBhPXQuc3RhdGVOb2RlLGFvKGUsdCkscz10Lm1lbW9pemVkUHJvcHMsYS5wcm9wcz10LnR5cGU9PT10LmVsZW1lbnRUeXBlP3M6SHIodC50eXBlLHMpLGw9YS5jb250ZXh0LFwib2JqZWN0XCI9PXR5cGVvZihjPW4uY29udGV4dFR5cGUpJiZudWxsIT09Yz9jPWlvKGMpOmM9ZnIodCxjPW1yKG4pP3ByOmhyLmN1cnJlbnQpLChoPVwiZnVuY3Rpb25cIj09dHlwZW9mKHU9bi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKXx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmXCJmdW5jdGlvblwiIT10eXBlb2YgYS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzfHwocyE9PWl8fGwhPT1jKSYmdm8odCxhLGksYykscm89ITEsbD10Lm1lbW9pemVkU3RhdGUsYS5zdGF0ZT1sLHVvKHQsaSxhLHIpLGQ9dC5tZW1vaXplZFN0YXRlLHMhPT1pfHxsIT09ZHx8ZHIuY3VycmVudHx8cm8/KFwiZnVuY3Rpb25cIj09dHlwZW9mIHUmJihtbyh0LG4sdSxpKSxkPXQubWVtb2l6ZWRTdGF0ZSksKHU9cm98fHlvKHQsbixzLGksbCxkLGMpKT8oaHx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgYS5jb21wb25lbnRXaWxsVXBkYXRlfHwoXCJmdW5jdGlvblwiPT10eXBlb2YgYS5jb21wb25lbnRXaWxsVXBkYXRlJiZhLmNvbXBvbmVudFdpbGxVcGRhdGUoaSxkLGMpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUmJmEuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUoaSxkLGMpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmNvbXBvbmVudERpZFVwZGF0ZSYmKHQuZWZmZWN0VGFnfD00KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlJiYodC5lZmZlY3RUYWd8PTI1NikpOihcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmNvbXBvbmVudERpZFVwZGF0ZXx8cz09PWUubWVtb2l6ZWRQcm9wcyYmbD09PWUubWVtb2l6ZWRTdGF0ZXx8KHQuZWZmZWN0VGFnfD00KSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlfHxzPT09ZS5tZW1vaXplZFByb3BzJiZsPT09ZS5tZW1vaXplZFN0YXRlfHwodC5lZmZlY3RUYWd8PTI1NiksdC5tZW1vaXplZFByb3BzPWksdC5tZW1vaXplZFN0YXRlPWQpLGEucHJvcHM9aSxhLnN0YXRlPWQsYS5jb250ZXh0PWMsaT11KTooXCJmdW5jdGlvblwiIT10eXBlb2YgYS5jb21wb25lbnREaWRVcGRhdGV8fHM9PT1lLm1lbW9pemVkUHJvcHMmJmw9PT1lLm1lbW9pemVkU3RhdGV8fCh0LmVmZmVjdFRhZ3w9NCksXCJmdW5jdGlvblwiIT10eXBlb2YgYS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8cz09PWUubWVtb2l6ZWRQcm9wcyYmbD09PWUubWVtb2l6ZWRTdGF0ZXx8KHQuZWZmZWN0VGFnfD0yNTYpLGk9ITEpO3JldHVybiBqYShlLHQsbixpLG8scil9ZnVuY3Rpb24gamEoZSx0LG4saSxyLG8pe09hKGUsdCk7dmFyIGE9MCE9KDY0JnQuZWZmZWN0VGFnKTtpZighaSYmIWEpcmV0dXJuIHImJnhyKHQsbiwhMSksSGEoZSx0LG8pO2k9dC5zdGF0ZU5vZGUsa2EuY3VycmVudD10O3ZhciBzPWEmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG4uZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yP251bGw6aS5yZW5kZXIoKTtyZXR1cm4gdC5lZmZlY3RUYWd8PTEsbnVsbCE9PWUmJmE/KHQuY2hpbGQ9U28odCxlLmNoaWxkLG51bGwsbyksdC5jaGlsZD1Tbyh0LG51bGwscyxvKSk6UGEoZSx0LHMsbyksdC5tZW1vaXplZFN0YXRlPWkuc3RhdGUsciYmeHIodCxuLCEwKSx0LmNoaWxkfWZ1bmN0aW9uIEZhKGUpe3ZhciB0PWUuc3RhdGVOb2RlO3QucGVuZGluZ0NvbnRleHQ/eXIoMCx0LnBlbmRpbmdDb250ZXh0LHQucGVuZGluZ0NvbnRleHQhPT10LmNvbnRleHQpOnQuY29udGV4dCYmeXIoMCx0LmNvbnRleHQsITEpLHpvKGUsdC5jb250YWluZXJJbmZvKX12YXIgTmEsVWEsVmEsR2E9e2RlaHlkcmF0ZWQ6bnVsbCxyZXRyeVRpbWU6MH07ZnVuY3Rpb24gWmEoZSx0LG4pe3ZhciBpLHI9dC5tb2RlLG89dC5wZW5kaW5nUHJvcHMsYT1Sby5jdXJyZW50LHM9ITE7aWYoKGk9MCE9KDY0JnQuZWZmZWN0VGFnKSl8fChpPTAhPSgyJmEpJiYobnVsbD09PWV8fG51bGwhPT1lLm1lbW9pemVkU3RhdGUpKSxpPyhzPSEwLHQuZWZmZWN0VGFnJj0tNjUpOm51bGwhPT1lJiZudWxsPT09ZS5tZW1vaXplZFN0YXRlfHx2b2lkIDA9PT1vLmZhbGxiYWNrfHwhMD09PW8udW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2t8fChhfD0xKSxjcihSbywxJmEpLG51bGw9PT1lKXtpZih2b2lkIDAhPT1vLmZhbGxiYWNrJiZTYSh0KSxzKXtpZihzPW8uZmFsbGJhY2ssKG89Q2wobnVsbCxyLDAsbnVsbCkpLnJldHVybj10LDA9PSgyJnQubW9kZSkpZm9yKGU9bnVsbCE9PXQubWVtb2l6ZWRTdGF0ZT90LmNoaWxkLmNoaWxkOnQuY2hpbGQsby5jaGlsZD1lO251bGwhPT1lOyllLnJldHVybj1vLGU9ZS5zaWJsaW5nO3JldHVybihuPUNsKHMscixuLG51bGwpKS5yZXR1cm49dCxvLnNpYmxpbmc9bix0Lm1lbW9pemVkU3RhdGU9R2EsdC5jaGlsZD1vLG59cmV0dXJuIHI9by5jaGlsZHJlbix0Lm1lbW9pemVkU3RhdGU9bnVsbCx0LmNoaWxkPU1vKHQsbnVsbCxyLG4pfWlmKG51bGwhPT1lLm1lbW9pemVkU3RhdGUpe2lmKHI9KGU9ZS5jaGlsZCkuc2libGluZyxzKXtpZihvPW8uZmFsbGJhY2ssKG49TWwoZSxlLnBlbmRpbmdQcm9wcykpLnJldHVybj10LDA9PSgyJnQubW9kZSkmJihzPW51bGwhPT10Lm1lbW9pemVkU3RhdGU/dC5jaGlsZC5jaGlsZDp0LmNoaWxkKSE9PWUuY2hpbGQpZm9yKG4uY2hpbGQ9cztudWxsIT09czspcy5yZXR1cm49bixzPXMuc2libGluZztyZXR1cm4ocj1NbChyLG8pKS5yZXR1cm49dCxuLnNpYmxpbmc9cixuLmNoaWxkRXhwaXJhdGlvblRpbWU9MCx0Lm1lbW9pemVkU3RhdGU9R2EsdC5jaGlsZD1uLHJ9cmV0dXJuIG49U28odCxlLmNoaWxkLG8uY2hpbGRyZW4sbiksdC5tZW1vaXplZFN0YXRlPW51bGwsdC5jaGlsZD1ufWlmKGU9ZS5jaGlsZCxzKXtpZihzPW8uZmFsbGJhY2ssKG89Q2wobnVsbCxyLDAsbnVsbCkpLnJldHVybj10LG8uY2hpbGQ9ZSxudWxsIT09ZSYmKGUucmV0dXJuPW8pLDA9PSgyJnQubW9kZSkpZm9yKGU9bnVsbCE9PXQubWVtb2l6ZWRTdGF0ZT90LmNoaWxkLmNoaWxkOnQuY2hpbGQsby5jaGlsZD1lO251bGwhPT1lOyllLnJldHVybj1vLGU9ZS5zaWJsaW5nO3JldHVybihuPUNsKHMscixuLG51bGwpKS5yZXR1cm49dCxvLnNpYmxpbmc9bixuLmVmZmVjdFRhZ3w9MixvLmNoaWxkRXhwaXJhdGlvblRpbWU9MCx0Lm1lbW9pemVkU3RhdGU9R2EsdC5jaGlsZD1vLG59cmV0dXJuIHQubWVtb2l6ZWRTdGF0ZT1udWxsLHQuY2hpbGQ9U28odCxlLG8uY2hpbGRyZW4sbil9ZnVuY3Rpb24gV2EoZSx0KXtlLmV4cGlyYXRpb25UaW1lPHQmJihlLmV4cGlyYXRpb25UaW1lPXQpO3ZhciBuPWUuYWx0ZXJuYXRlO251bGwhPT1uJiZuLmV4cGlyYXRpb25UaW1lPHQmJihuLmV4cGlyYXRpb25UaW1lPXQpLHRvKGUucmV0dXJuLHQpfWZ1bmN0aW9uIHFhKGUsdCxuLGkscixvKXt2YXIgYT1lLm1lbW9pemVkU3RhdGU7bnVsbD09PWE/ZS5tZW1vaXplZFN0YXRlPXtpc0JhY2t3YXJkczp0LHJlbmRlcmluZzpudWxsLHJlbmRlcmluZ1N0YXJ0VGltZTowLGxhc3Q6aSx0YWlsOm4sdGFpbEV4cGlyYXRpb246MCx0YWlsTW9kZTpyLGxhc3RFZmZlY3Q6b306KGEuaXNCYWNrd2FyZHM9dCxhLnJlbmRlcmluZz1udWxsLGEucmVuZGVyaW5nU3RhcnRUaW1lPTAsYS5sYXN0PWksYS50YWlsPW4sYS50YWlsRXhwaXJhdGlvbj0wLGEudGFpbE1vZGU9cixhLmxhc3RFZmZlY3Q9byl9ZnVuY3Rpb24gJGEoZSx0LG4pe3ZhciBpPXQucGVuZGluZ1Byb3BzLHI9aS5yZXZlYWxPcmRlcixvPWkudGFpbDtpZihQYShlLHQsaS5jaGlsZHJlbixuKSwwIT0oMiYoaT1Sby5jdXJyZW50KSkpaT0xJml8Mix0LmVmZmVjdFRhZ3w9NjQ7ZWxzZXtpZihudWxsIT09ZSYmMCE9KDY0JmUuZWZmZWN0VGFnKSllOmZvcihlPXQuY2hpbGQ7bnVsbCE9PWU7KXtpZigxMz09PWUudGFnKW51bGwhPT1lLm1lbW9pemVkU3RhdGUmJldhKGUsbik7ZWxzZSBpZigxOT09PWUudGFnKVdhKGUsbik7ZWxzZSBpZihudWxsIT09ZS5jaGlsZCl7ZS5jaGlsZC5yZXR1cm49ZSxlPWUuY2hpbGQ7Y29udGludWV9aWYoZT09PXQpYnJlYWsgZTtmb3IoO251bGw9PT1lLnNpYmxpbmc7KXtpZihudWxsPT09ZS5yZXR1cm58fGUucmV0dXJuPT09dClicmVhayBlO2U9ZS5yZXR1cm59ZS5zaWJsaW5nLnJldHVybj1lLnJldHVybixlPWUuc2libGluZ31pJj0xfWlmKGNyKFJvLGkpLDA9PSgyJnQubW9kZSkpdC5tZW1vaXplZFN0YXRlPW51bGw7ZWxzZSBzd2l0Y2gocil7Y2FzZVwiZm9yd2FyZHNcIjpmb3Iobj10LmNoaWxkLHI9bnVsbDtudWxsIT09bjspbnVsbCE9PShlPW4uYWx0ZXJuYXRlKSYmbnVsbD09PUJvKGUpJiYocj1uKSxuPW4uc2libGluZztudWxsPT09KG49cik/KHI9dC5jaGlsZCx0LmNoaWxkPW51bGwpOihyPW4uc2libGluZyxuLnNpYmxpbmc9bnVsbCkscWEodCwhMSxyLG4sbyx0Lmxhc3RFZmZlY3QpO2JyZWFrO2Nhc2VcImJhY2t3YXJkc1wiOmZvcihuPW51bGwscj10LmNoaWxkLHQuY2hpbGQ9bnVsbDtudWxsIT09cjspe2lmKG51bGwhPT0oZT1yLmFsdGVybmF0ZSkmJm51bGw9PT1CbyhlKSl7dC5jaGlsZD1yO2JyZWFrfWU9ci5zaWJsaW5nLHIuc2libGluZz1uLG49cixyPWV9cWEodCwhMCxuLG51bGwsbyx0Lmxhc3RFZmZlY3QpO2JyZWFrO2Nhc2VcInRvZ2V0aGVyXCI6cWEodCwhMSxudWxsLG51bGwsdm9pZCAwLHQubGFzdEVmZmVjdCk7YnJlYWs7ZGVmYXVsdDp0Lm1lbW9pemVkU3RhdGU9bnVsbH1yZXR1cm4gdC5jaGlsZH1mdW5jdGlvbiBIYShlLHQsbil7bnVsbCE9PWUmJih0LmRlcGVuZGVuY2llcz1lLmRlcGVuZGVuY2llcyk7dmFyIGk9dC5leHBpcmF0aW9uVGltZTtpZigwIT09aSYmYWwoaSksdC5jaGlsZEV4cGlyYXRpb25UaW1lPG4pcmV0dXJuIG51bGw7aWYobnVsbCE9PWUmJnQuY2hpbGQhPT1lLmNoaWxkKXRocm93IEVycm9yKGEoMTUzKSk7aWYobnVsbCE9PXQuY2hpbGQpe2ZvcihuPU1sKGU9dC5jaGlsZCxlLnBlbmRpbmdQcm9wcyksdC5jaGlsZD1uLG4ucmV0dXJuPXQ7bnVsbCE9PWUuc2libGluZzspZT1lLnNpYmxpbmcsKG49bi5zaWJsaW5nPU1sKGUsZS5wZW5kaW5nUHJvcHMpKS5yZXR1cm49dDtuLnNpYmxpbmc9bnVsbH1yZXR1cm4gdC5jaGlsZH1mdW5jdGlvbiBYYShlLHQpe3N3aXRjaChlLnRhaWxNb2RlKXtjYXNlXCJoaWRkZW5cIjp0PWUudGFpbDtmb3IodmFyIG49bnVsbDtudWxsIT09dDspbnVsbCE9PXQuYWx0ZXJuYXRlJiYobj10KSx0PXQuc2libGluZztudWxsPT09bj9lLnRhaWw9bnVsbDpuLnNpYmxpbmc9bnVsbDticmVhaztjYXNlXCJjb2xsYXBzZWRcIjpuPWUudGFpbDtmb3IodmFyIGk9bnVsbDtudWxsIT09bjspbnVsbCE9PW4uYWx0ZXJuYXRlJiYoaT1uKSxuPW4uc2libGluZztudWxsPT09aT90fHxudWxsPT09ZS50YWlsP2UudGFpbD1udWxsOmUudGFpbC5zaWJsaW5nPW51bGw6aS5zaWJsaW5nPW51bGx9fWZ1bmN0aW9uIFlhKGUsdCxuKXt2YXIgaT10LnBlbmRpbmdQcm9wcztzd2l0Y2godC50YWcpe2Nhc2UgMjpjYXNlIDE2OmNhc2UgMTU6Y2FzZSAwOmNhc2UgMTE6Y2FzZSA3OmNhc2UgODpjYXNlIDEyOmNhc2UgOTpjYXNlIDE0OnJldHVybiBudWxsO2Nhc2UgMTpyZXR1cm4gbXIodC50eXBlKSYmZ3IoKSxudWxsO2Nhc2UgMzpyZXR1cm4gRG8oKSxscihkciksbHIoaHIpLChuPXQuc3RhdGVOb2RlKS5wZW5kaW5nQ29udGV4dCYmKG4uY29udGV4dD1uLnBlbmRpbmdDb250ZXh0LG4ucGVuZGluZ0NvbnRleHQ9bnVsbCksbnVsbCE9PWUmJm51bGwhPT1lLmNoaWxkfHwhSWEodCl8fCh0LmVmZmVjdFRhZ3w9NCksbnVsbDtjYXNlIDU6T28odCksbj1QbyhBby5jdXJyZW50KTt2YXIgbz10LnR5cGU7aWYobnVsbCE9PWUmJm51bGwhPXQuc3RhdGVOb2RlKVVhKGUsdCxvLGksbiksZS5yZWYhPT10LnJlZiYmKHQuZWZmZWN0VGFnfD0xMjgpO2Vsc2V7aWYoIWkpe2lmKG51bGw9PT10LnN0YXRlTm9kZSl0aHJvdyBFcnJvcihhKDE2NikpO3JldHVybiBudWxsfWlmKGU9UG8oQ28uY3VycmVudCksSWEodCkpe2k9dC5zdGF0ZU5vZGUsbz10LnR5cGU7dmFyIHM9dC5tZW1vaXplZFByb3BzO3N3aXRjaChpW0VuXT10LGlbU25dPXMsbyl7Y2FzZVwiaWZyYW1lXCI6Y2FzZVwib2JqZWN0XCI6Y2FzZVwiZW1iZWRcIjokdChcImxvYWRcIixpKTticmVhaztjYXNlXCJ2aWRlb1wiOmNhc2VcImF1ZGlvXCI6Zm9yKGU9MDtlPFllLmxlbmd0aDtlKyspJHQoWWVbZV0saSk7YnJlYWs7Y2FzZVwic291cmNlXCI6JHQoXCJlcnJvclwiLGkpO2JyZWFrO2Nhc2VcImltZ1wiOmNhc2VcImltYWdlXCI6Y2FzZVwibGlua1wiOiR0KFwiZXJyb3JcIixpKSwkdChcImxvYWRcIixpKTticmVhaztjYXNlXCJmb3JtXCI6JHQoXCJyZXNldFwiLGkpLCR0KFwic3VibWl0XCIsaSk7YnJlYWs7Y2FzZVwiZGV0YWlsc1wiOiR0KFwidG9nZ2xlXCIsaSk7YnJlYWs7Y2FzZVwiaW5wdXRcIjpUZShpLHMpLCR0KFwiaW52YWxpZFwiLGkpLGxuKG4sXCJvbkNoYW5nZVwiKTticmVhaztjYXNlXCJzZWxlY3RcIjppLl93cmFwcGVyU3RhdGU9e3dhc011bHRpcGxlOiEhcy5tdWx0aXBsZX0sJHQoXCJpbnZhbGlkXCIsaSksbG4obixcIm9uQ2hhbmdlXCIpO2JyZWFrO2Nhc2VcInRleHRhcmVhXCI6UGUoaSxzKSwkdChcImludmFsaWRcIixpKSxsbihuLFwib25DaGFuZ2VcIil9Zm9yKHZhciBsIGluIG9uKG8scyksZT1udWxsLHMpaWYocy5oYXNPd25Qcm9wZXJ0eShsKSl7dmFyIGM9c1tsXTtcImNoaWxkcmVuXCI9PT1sP1wic3RyaW5nXCI9PXR5cGVvZiBjP2kudGV4dENvbnRlbnQhPT1jJiYoZT1bXCJjaGlsZHJlblwiLGNdKTpcIm51bWJlclwiPT10eXBlb2YgYyYmaS50ZXh0Q29udGVudCE9PVwiXCIrYyYmKGU9W1wiY2hpbGRyZW5cIixcIlwiK2NdKTpFLmhhc093blByb3BlcnR5KGwpJiZudWxsIT1jJiZsbihuLGwpfXN3aXRjaChvKXtjYXNlXCJpbnB1dFwiOnhlKGkpLE1lKGkscywhMCk7YnJlYWs7Y2FzZVwidGV4dGFyZWFcIjp4ZShpKSxEZShpKTticmVhaztjYXNlXCJzZWxlY3RcIjpjYXNlXCJvcHRpb25cIjpicmVhaztkZWZhdWx0OlwiZnVuY3Rpb25cIj09dHlwZW9mIHMub25DbGljayYmKGkub25jbGljaz1jbil9bj1lLHQudXBkYXRlUXVldWU9bixudWxsIT09biYmKHQuZWZmZWN0VGFnfD00KX1lbHNle3N3aXRjaChsPTk9PT1uLm5vZGVUeXBlP246bi5vd25lckRvY3VtZW50LGU9PT1zbiYmKGU9UmUobykpLGU9PT1zbj9cInNjcmlwdFwiPT09bz8oKGU9bC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5pbm5lckhUTUw9XCI8c2NyaXB0PjxcXC9zY3JpcHQ+XCIsZT1lLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCkpOlwic3RyaW5nXCI9PXR5cGVvZiBpLmlzP2U9bC5jcmVhdGVFbGVtZW50KG8se2lzOmkuaXN9KTooZT1sLmNyZWF0ZUVsZW1lbnQobyksXCJzZWxlY3RcIj09PW8mJihsPWUsaS5tdWx0aXBsZT9sLm11bHRpcGxlPSEwOmkuc2l6ZSYmKGwuc2l6ZT1pLnNpemUpKSk6ZT1sLmNyZWF0ZUVsZW1lbnROUyhlLG8pLGVbRW5dPXQsZVtTbl09aSxOYShlLHQpLHQuc3RhdGVOb2RlPWUsbD1hbihvLGkpLG8pe2Nhc2VcImlmcmFtZVwiOmNhc2VcIm9iamVjdFwiOmNhc2VcImVtYmVkXCI6JHQoXCJsb2FkXCIsZSksYz1pO2JyZWFrO2Nhc2VcInZpZGVvXCI6Y2FzZVwiYXVkaW9cIjpmb3IoYz0wO2M8WWUubGVuZ3RoO2MrKykkdChZZVtjXSxlKTtjPWk7YnJlYWs7Y2FzZVwic291cmNlXCI6JHQoXCJlcnJvclwiLGUpLGM9aTticmVhaztjYXNlXCJpbWdcIjpjYXNlXCJpbWFnZVwiOmNhc2VcImxpbmtcIjokdChcImVycm9yXCIsZSksJHQoXCJsb2FkXCIsZSksYz1pO2JyZWFrO2Nhc2VcImZvcm1cIjokdChcInJlc2V0XCIsZSksJHQoXCJzdWJtaXRcIixlKSxjPWk7YnJlYWs7Y2FzZVwiZGV0YWlsc1wiOiR0KFwidG9nZ2xlXCIsZSksYz1pO2JyZWFrO2Nhc2VcImlucHV0XCI6VGUoZSxpKSxjPXdlKGUsaSksJHQoXCJpbnZhbGlkXCIsZSksbG4obixcIm9uQ2hhbmdlXCIpO2JyZWFrO2Nhc2VcIm9wdGlvblwiOmM9Q2UoZSxpKTticmVhaztjYXNlXCJzZWxlY3RcIjplLl93cmFwcGVyU3RhdGU9e3dhc011bHRpcGxlOiEhaS5tdWx0aXBsZX0sYz1yKHt9LGkse3ZhbHVlOnZvaWQgMH0pLCR0KFwiaW52YWxpZFwiLGUpLGxuKG4sXCJvbkNoYW5nZVwiKTticmVhaztjYXNlXCJ0ZXh0YXJlYVwiOlBlKGUsaSksYz1BZShlLGkpLCR0KFwiaW52YWxpZFwiLGUpLGxuKG4sXCJvbkNoYW5nZVwiKTticmVhaztkZWZhdWx0OmM9aX1vbihvLGMpO3ZhciB1PWM7Zm9yKHMgaW4gdSlpZih1Lmhhc093blByb3BlcnR5KHMpKXt2YXIgaD11W3NdO1wic3R5bGVcIj09PXM/bm4oZSxoKTpcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1zP251bGwhPShoPWg/aC5fX2h0bWw6dm9pZCAwKSYmRmUoZSxoKTpcImNoaWxkcmVuXCI9PT1zP1wic3RyaW5nXCI9PXR5cGVvZiBoPyhcInRleHRhcmVhXCIhPT1vfHxcIlwiIT09aCkmJk5lKGUsaCk6XCJudW1iZXJcIj09dHlwZW9mIGgmJk5lKGUsXCJcIitoKTpcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09cyYmXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIiE9PXMmJlwiYXV0b0ZvY3VzXCIhPT1zJiYoRS5oYXNPd25Qcm9wZXJ0eShzKT9udWxsIT1oJiZsbihuLHMpOm51bGwhPWgmJkooZSxzLGgsbCkpfXN3aXRjaChvKXtjYXNlXCJpbnB1dFwiOnhlKGUpLE1lKGUsaSwhMSk7YnJlYWs7Y2FzZVwidGV4dGFyZWFcIjp4ZShlKSxEZShlKTticmVhaztjYXNlXCJvcHRpb25cIjpudWxsIT1pLnZhbHVlJiZlLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIitfZShpLnZhbHVlKSk7YnJlYWs7Y2FzZVwic2VsZWN0XCI6ZS5tdWx0aXBsZT0hIWkubXVsdGlwbGUsbnVsbCE9KG49aS52YWx1ZSk/a2UoZSwhIWkubXVsdGlwbGUsbiwhMSk6bnVsbCE9aS5kZWZhdWx0VmFsdWUmJmtlKGUsISFpLm11bHRpcGxlLGkuZGVmYXVsdFZhbHVlLCEwKTticmVhaztkZWZhdWx0OlwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25DbGljayYmKGUub25jbGljaz1jbil9eW4obyxpKSYmKHQuZWZmZWN0VGFnfD00KX1udWxsIT09dC5yZWYmJih0LmVmZmVjdFRhZ3w9MTI4KX1yZXR1cm4gbnVsbDtjYXNlIDY6aWYoZSYmbnVsbCE9dC5zdGF0ZU5vZGUpVmEoMCx0LGUubWVtb2l6ZWRQcm9wcyxpKTtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiBpJiZudWxsPT09dC5zdGF0ZU5vZGUpdGhyb3cgRXJyb3IoYSgxNjYpKTtuPVBvKEFvLmN1cnJlbnQpLFBvKENvLmN1cnJlbnQpLElhKHQpPyhuPXQuc3RhdGVOb2RlLGk9dC5tZW1vaXplZFByb3BzLG5bRW5dPXQsbi5ub2RlVmFsdWUhPT1pJiYodC5lZmZlY3RUYWd8PTQpKTooKG49KDk9PT1uLm5vZGVUeXBlP246bi5vd25lckRvY3VtZW50KS5jcmVhdGVUZXh0Tm9kZShpKSlbRW5dPXQsdC5zdGF0ZU5vZGU9bil9cmV0dXJuIG51bGw7Y2FzZSAxMzpyZXR1cm4gbHIoUm8pLGk9dC5tZW1vaXplZFN0YXRlLDAhPSg2NCZ0LmVmZmVjdFRhZyk/KHQuZXhwaXJhdGlvblRpbWU9bix0KToobj1udWxsIT09aSxpPSExLG51bGw9PT1lP3ZvaWQgMCE9PXQubWVtb2l6ZWRQcm9wcy5mYWxsYmFjayYmSWEodCk6KGk9bnVsbCE9PShvPWUubWVtb2l6ZWRTdGF0ZSksbnx8bnVsbD09PW98fG51bGwhPT0obz1lLmNoaWxkLnNpYmxpbmcpJiYobnVsbCE9PShzPXQuZmlyc3RFZmZlY3QpPyh0LmZpcnN0RWZmZWN0PW8sby5uZXh0RWZmZWN0PXMpOih0LmZpcnN0RWZmZWN0PXQubGFzdEVmZmVjdD1vLG8ubmV4dEVmZmVjdD1udWxsKSxvLmVmZmVjdFRhZz04KSksbiYmIWkmJjAhPSgyJnQubW9kZSkmJihudWxsPT09ZSYmITAhPT10Lm1lbW9pemVkUHJvcHMudW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2t8fDAhPSgxJlJvLmN1cnJlbnQpP0lzPT09eHMmJihJcz1icyk6KElzIT09eHMmJklzIT09YnN8fChJcz13cyksMCE9PXpzJiZudWxsIT09RXMmJihEbChFcyxNcyksTGwoRXMsenMpKSkpLChufHxpKSYmKHQuZWZmZWN0VGFnfD00KSxudWxsKTtjYXNlIDQ6cmV0dXJuIERvKCksbnVsbDtjYXNlIDEwOnJldHVybiBlbyh0KSxudWxsO2Nhc2UgMTc6cmV0dXJuIG1yKHQudHlwZSkmJmdyKCksbnVsbDtjYXNlIDE5OmlmKGxyKFJvKSxudWxsPT09KGk9dC5tZW1vaXplZFN0YXRlKSlyZXR1cm4gbnVsbDtpZihvPTAhPSg2NCZ0LmVmZmVjdFRhZyksbnVsbD09PShzPWkucmVuZGVyaW5nKSl7aWYobylYYShpLCExKTtlbHNlIGlmKElzIT09eHN8fG51bGwhPT1lJiYwIT0oNjQmZS5lZmZlY3RUYWcpKWZvcihzPXQuY2hpbGQ7bnVsbCE9PXM7KXtpZihudWxsIT09KGU9Qm8ocykpKXtmb3IodC5lZmZlY3RUYWd8PTY0LFhhKGksITEpLG51bGwhPT0obz1lLnVwZGF0ZVF1ZXVlKSYmKHQudXBkYXRlUXVldWU9byx0LmVmZmVjdFRhZ3w9NCksbnVsbD09PWkubGFzdEVmZmVjdCYmKHQuZmlyc3RFZmZlY3Q9bnVsbCksdC5sYXN0RWZmZWN0PWkubGFzdEVmZmVjdCxpPXQuY2hpbGQ7bnVsbCE9PWk7KXM9biwobz1pKS5lZmZlY3RUYWcmPTIsby5uZXh0RWZmZWN0PW51bGwsby5maXJzdEVmZmVjdD1udWxsLG8ubGFzdEVmZmVjdD1udWxsLG51bGw9PT0oZT1vLmFsdGVybmF0ZSk/KG8uY2hpbGRFeHBpcmF0aW9uVGltZT0wLG8uZXhwaXJhdGlvblRpbWU9cyxvLmNoaWxkPW51bGwsby5tZW1vaXplZFByb3BzPW51bGwsby5tZW1vaXplZFN0YXRlPW51bGwsby51cGRhdGVRdWV1ZT1udWxsLG8uZGVwZW5kZW5jaWVzPW51bGwpOihvLmNoaWxkRXhwaXJhdGlvblRpbWU9ZS5jaGlsZEV4cGlyYXRpb25UaW1lLG8uZXhwaXJhdGlvblRpbWU9ZS5leHBpcmF0aW9uVGltZSxvLmNoaWxkPWUuY2hpbGQsby5tZW1vaXplZFByb3BzPWUubWVtb2l6ZWRQcm9wcyxvLm1lbW9pemVkU3RhdGU9ZS5tZW1vaXplZFN0YXRlLG8udXBkYXRlUXVldWU9ZS51cGRhdGVRdWV1ZSxzPWUuZGVwZW5kZW5jaWVzLG8uZGVwZW5kZW5jaWVzPW51bGw9PT1zP251bGw6e2V4cGlyYXRpb25UaW1lOnMuZXhwaXJhdGlvblRpbWUsZmlyc3RDb250ZXh0OnMuZmlyc3RDb250ZXh0LHJlc3BvbmRlcnM6cy5yZXNwb25kZXJzfSksaT1pLnNpYmxpbmc7cmV0dXJuIGNyKFJvLDEmUm8uY3VycmVudHwyKSx0LmNoaWxkfXM9cy5zaWJsaW5nfX1lbHNle2lmKCFvKWlmKG51bGwhPT0oZT1CbyhzKSkpe2lmKHQuZWZmZWN0VGFnfD02NCxvPSEwLG51bGwhPT0obj1lLnVwZGF0ZVF1ZXVlKSYmKHQudXBkYXRlUXVldWU9bix0LmVmZmVjdFRhZ3w9NCksWGEoaSwhMCksbnVsbD09PWkudGFpbCYmXCJoaWRkZW5cIj09PWkudGFpbE1vZGUmJiFzLmFsdGVybmF0ZSlyZXR1cm4gbnVsbCE9PSh0PXQubGFzdEVmZmVjdD1pLmxhc3RFZmZlY3QpJiYodC5uZXh0RWZmZWN0PW51bGwpLG51bGx9ZWxzZSAyKkZyKCktaS5yZW5kZXJpbmdTdGFydFRpbWU+aS50YWlsRXhwaXJhdGlvbiYmMTxuJiYodC5lZmZlY3RUYWd8PTY0LG89ITAsWGEoaSwhMSksdC5leHBpcmF0aW9uVGltZT10LmNoaWxkRXhwaXJhdGlvblRpbWU9bi0xKTtpLmlzQmFja3dhcmRzPyhzLnNpYmxpbmc9dC5jaGlsZCx0LmNoaWxkPXMpOihudWxsIT09KG49aS5sYXN0KT9uLnNpYmxpbmc9czp0LmNoaWxkPXMsaS5sYXN0PXMpfXJldHVybiBudWxsIT09aS50YWlsPygwPT09aS50YWlsRXhwaXJhdGlvbiYmKGkudGFpbEV4cGlyYXRpb249RnIoKSs1MDApLG49aS50YWlsLGkucmVuZGVyaW5nPW4saS50YWlsPW4uc2libGluZyxpLmxhc3RFZmZlY3Q9dC5sYXN0RWZmZWN0LGkucmVuZGVyaW5nU3RhcnRUaW1lPUZyKCksbi5zaWJsaW5nPW51bGwsdD1Sby5jdXJyZW50LGNyKFJvLG8/MSZ0fDI6MSZ0KSxuKTpudWxsfXRocm93IEVycm9yKGEoMTU2LHQudGFnKSl9ZnVuY3Rpb24gSmEoZSl7c3dpdGNoKGUudGFnKXtjYXNlIDE6bXIoZS50eXBlKSYmZ3IoKTt2YXIgdD1lLmVmZmVjdFRhZztyZXR1cm4gNDA5NiZ0PyhlLmVmZmVjdFRhZz0tNDA5NyZ0fDY0LGUpOm51bGw7Y2FzZSAzOmlmKERvKCksbHIoZHIpLGxyKGhyKSwwIT0oNjQmKHQ9ZS5lZmZlY3RUYWcpKSl0aHJvdyBFcnJvcihhKDI4NSkpO3JldHVybiBlLmVmZmVjdFRhZz0tNDA5NyZ0fDY0LGU7Y2FzZSA1OnJldHVybiBPbyhlKSxudWxsO2Nhc2UgMTM6cmV0dXJuIGxyKFJvKSw0MDk2Jih0PWUuZWZmZWN0VGFnKT8oZS5lZmZlY3RUYWc9LTQwOTcmdHw2NCxlKTpudWxsO2Nhc2UgMTk6cmV0dXJuIGxyKFJvKSxudWxsO2Nhc2UgNDpyZXR1cm4gRG8oKSxudWxsO2Nhc2UgMTA6cmV0dXJuIGVvKGUpLG51bGw7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gUWEoZSx0KXtyZXR1cm57dmFsdWU6ZSxzb3VyY2U6dCxzdGFjazp5ZSh0KX19TmE9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dC5jaGlsZDtudWxsIT09bjspe2lmKDU9PT1uLnRhZ3x8Nj09PW4udGFnKWUuYXBwZW5kQ2hpbGQobi5zdGF0ZU5vZGUpO2Vsc2UgaWYoNCE9PW4udGFnJiZudWxsIT09bi5jaGlsZCl7bi5jaGlsZC5yZXR1cm49bixuPW4uY2hpbGQ7Y29udGludWV9aWYobj09PXQpYnJlYWs7Zm9yKDtudWxsPT09bi5zaWJsaW5nOyl7aWYobnVsbD09PW4ucmV0dXJufHxuLnJldHVybj09PXQpcmV0dXJuO249bi5yZXR1cm59bi5zaWJsaW5nLnJldHVybj1uLnJldHVybixuPW4uc2libGluZ319LFVhPWZ1bmN0aW9uKGUsdCxuLGksbyl7dmFyIGE9ZS5tZW1vaXplZFByb3BzO2lmKGEhPT1pKXt2YXIgcyxsLGM9dC5zdGF0ZU5vZGU7c3dpdGNoKFBvKENvLmN1cnJlbnQpLGU9bnVsbCxuKXtjYXNlXCJpbnB1dFwiOmE9d2UoYyxhKSxpPXdlKGMsaSksZT1bXTticmVhaztjYXNlXCJvcHRpb25cIjphPUNlKGMsYSksaT1DZShjLGkpLGU9W107YnJlYWs7Y2FzZVwic2VsZWN0XCI6YT1yKHt9LGEse3ZhbHVlOnZvaWQgMH0pLGk9cih7fSxpLHt2YWx1ZTp2b2lkIDB9KSxlPVtdO2JyZWFrO2Nhc2VcInRleHRhcmVhXCI6YT1BZShjLGEpLGk9QWUoYyxpKSxlPVtdO2JyZWFrO2RlZmF1bHQ6XCJmdW5jdGlvblwiIT10eXBlb2YgYS5vbkNsaWNrJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLm9uQ2xpY2smJihjLm9uY2xpY2s9Y24pfWZvcihzIGluIG9uKG4saSksbj1udWxsLGEpaWYoIWkuaGFzT3duUHJvcGVydHkocykmJmEuaGFzT3duUHJvcGVydHkocykmJm51bGwhPWFbc10paWYoXCJzdHlsZVwiPT09cylmb3IobCBpbiBjPWFbc10pYy5oYXNPd25Qcm9wZXJ0eShsKSYmKG58fChuPXt9KSxuW2xdPVwiXCIpO2Vsc2VcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCIhPT1zJiZcImNoaWxkcmVuXCIhPT1zJiZcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09cyYmXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIiE9PXMmJlwiYXV0b0ZvY3VzXCIhPT1zJiYoRS5oYXNPd25Qcm9wZXJ0eShzKT9lfHwoZT1bXSk6KGU9ZXx8W10pLnB1c2gocyxudWxsKSk7Zm9yKHMgaW4gaSl7dmFyIHU9aVtzXTtpZihjPW51bGwhPWE/YVtzXTp2b2lkIDAsaS5oYXNPd25Qcm9wZXJ0eShzKSYmdSE9PWMmJihudWxsIT11fHxudWxsIT1jKSlpZihcInN0eWxlXCI9PT1zKWlmKGMpe2ZvcihsIGluIGMpIWMuaGFzT3duUHJvcGVydHkobCl8fHUmJnUuaGFzT3duUHJvcGVydHkobCl8fChufHwobj17fSksbltsXT1cIlwiKTtmb3IobCBpbiB1KXUuaGFzT3duUHJvcGVydHkobCkmJmNbbF0hPT11W2xdJiYobnx8KG49e30pLG5bbF09dVtsXSl9ZWxzZSBufHwoZXx8KGU9W10pLGUucHVzaChzLG4pKSxuPXU7ZWxzZVwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09PXM/KHU9dT91Ll9faHRtbDp2b2lkIDAsYz1jP2MuX19odG1sOnZvaWQgMCxudWxsIT11JiZjIT09dSYmKGU9ZXx8W10pLnB1c2gocyx1KSk6XCJjaGlsZHJlblwiPT09cz9jPT09dXx8XCJzdHJpbmdcIiE9dHlwZW9mIHUmJlwibnVtYmVyXCIhPXR5cGVvZiB1fHwoZT1lfHxbXSkucHVzaChzLFwiXCIrdSk6XCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIiE9PXMmJlwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCIhPT1zJiYoRS5oYXNPd25Qcm9wZXJ0eShzKT8obnVsbCE9dSYmbG4obyxzKSxlfHxjPT09dXx8KGU9W10pKTooZT1lfHxbXSkucHVzaChzLHUpKX1uJiYoZT1lfHxbXSkucHVzaChcInN0eWxlXCIsbiksbz1lLCh0LnVwZGF0ZVF1ZXVlPW8pJiYodC5lZmZlY3RUYWd8PTQpfX0sVmE9ZnVuY3Rpb24oZSx0LG4saSl7biE9PWkmJih0LmVmZmVjdFRhZ3w9NCl9O3ZhciBLYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWFrU2V0P1dlYWtTZXQ6U2V0O2Z1bmN0aW9uIGVzKGUsdCl7dmFyIG49dC5zb3VyY2UsaT10LnN0YWNrO251bGw9PT1pJiZudWxsIT09biYmKGk9eWUobikpLG51bGwhPT1uJiZnZShuLnR5cGUpLHQ9dC52YWx1ZSxudWxsIT09ZSYmMT09PWUudGFnJiZnZShlLnR5cGUpO3RyeXtjb25zb2xlLmVycm9yKHQpfWNhdGNoKGUpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dGhyb3cgZX0pKX19ZnVuY3Rpb24gdHMoZSl7dmFyIHQ9ZS5yZWY7aWYobnVsbCE9PXQpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl0cnl7dChudWxsKX1jYXRjaCh0KXtfbChlLHQpfWVsc2UgdC5jdXJyZW50PW51bGx9ZnVuY3Rpb24gbnMoZSx0KXtzd2l0Y2godC50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6Y2FzZSAyMjpyZXR1cm47Y2FzZSAxOmlmKDI1NiZ0LmVmZmVjdFRhZyYmbnVsbCE9PWUpe3ZhciBuPWUubWVtb2l6ZWRQcm9wcyxpPWUubWVtb2l6ZWRTdGF0ZTt0PShlPXQuc3RhdGVOb2RlKS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSh0LmVsZW1lbnRUeXBlPT09dC50eXBlP246SHIodC50eXBlLG4pLGkpLGUuX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGU9dH1yZXR1cm47Y2FzZSAzOmNhc2UgNTpjYXNlIDY6Y2FzZSA0OmNhc2UgMTc6cmV0dXJufXRocm93IEVycm9yKGEoMTYzKSl9ZnVuY3Rpb24gaXMoZSx0KXtpZihudWxsIT09KHQ9bnVsbCE9PSh0PXQudXBkYXRlUXVldWUpP3QubGFzdEVmZmVjdDpudWxsKSl7dmFyIG49dD10Lm5leHQ7ZG97aWYoKG4udGFnJmUpPT09ZSl7dmFyIGk9bi5kZXN0cm95O24uZGVzdHJveT12b2lkIDAsdm9pZCAwIT09aSYmaSgpfW49bi5uZXh0fXdoaWxlKG4hPT10KX19ZnVuY3Rpb24gcnMoZSx0KXtpZihudWxsIT09KHQ9bnVsbCE9PSh0PXQudXBkYXRlUXVldWUpP3QubGFzdEVmZmVjdDpudWxsKSl7dmFyIG49dD10Lm5leHQ7ZG97aWYoKG4udGFnJmUpPT09ZSl7dmFyIGk9bi5jcmVhdGU7bi5kZXN0cm95PWkoKX1uPW4ubmV4dH13aGlsZShuIT09dCl9fWZ1bmN0aW9uIG9zKGUsdCxuKXtzd2l0Y2gobi50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6Y2FzZSAyMjpyZXR1cm4gdm9pZCBycygzLG4pO2Nhc2UgMTppZihlPW4uc3RhdGVOb2RlLDQmbi5lZmZlY3RUYWcpaWYobnVsbD09PXQpZS5jb21wb25lbnREaWRNb3VudCgpO2Vsc2V7dmFyIGk9bi5lbGVtZW50VHlwZT09PW4udHlwZT90Lm1lbW9pemVkUHJvcHM6SHIobi50eXBlLHQubWVtb2l6ZWRQcm9wcyk7ZS5jb21wb25lbnREaWRVcGRhdGUoaSx0Lm1lbW9pemVkU3RhdGUsZS5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSl9cmV0dXJuIHZvaWQobnVsbCE9PSh0PW4udXBkYXRlUXVldWUpJiZobyhuLHQsZSkpO2Nhc2UgMzppZihudWxsIT09KHQ9bi51cGRhdGVRdWV1ZSkpe2lmKGU9bnVsbCxudWxsIT09bi5jaGlsZClzd2l0Y2gobi5jaGlsZC50YWcpe2Nhc2UgNTplPW4uY2hpbGQuc3RhdGVOb2RlO2JyZWFrO2Nhc2UgMTplPW4uY2hpbGQuc3RhdGVOb2RlfWhvKG4sdCxlKX1yZXR1cm47Y2FzZSA1OnJldHVybiBlPW4uc3RhdGVOb2RlLHZvaWQobnVsbD09PXQmJjQmbi5lZmZlY3RUYWcmJnluKG4udHlwZSxuLm1lbW9pemVkUHJvcHMpJiZlLmZvY3VzKCkpO2Nhc2UgNjpjYXNlIDQ6Y2FzZSAxMjpyZXR1cm47Y2FzZSAxMzpyZXR1cm4gdm9pZChudWxsPT09bi5tZW1vaXplZFN0YXRlJiYobj1uLmFsdGVybmF0ZSxudWxsIT09biYmKG49bi5tZW1vaXplZFN0YXRlLG51bGwhPT1uJiYobj1uLmRlaHlkcmF0ZWQsbnVsbCE9PW4mJlJ0KG4pKSkpKTtjYXNlIDE5OmNhc2UgMTc6Y2FzZSAyMDpjYXNlIDIxOnJldHVybn10aHJvdyBFcnJvcihhKDE2MykpfWZ1bmN0aW9uIGFzKGUsdCxuKXtzd2l0Y2goXCJmdW5jdGlvblwiPT10eXBlb2Ygd2wmJndsKHQpLHQudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6Y2FzZSAyMjppZihudWxsIT09KGU9dC51cGRhdGVRdWV1ZSkmJm51bGwhPT0oZT1lLmxhc3RFZmZlY3QpKXt2YXIgaT1lLm5leHQ7VnIoOTc8bj85NzpuLChmdW5jdGlvbigpe3ZhciBlPWk7ZG97dmFyIG49ZS5kZXN0cm95O2lmKHZvaWQgMCE9PW4pe3ZhciByPXQ7dHJ5e24oKX1jYXRjaChlKXtfbChyLGUpfX1lPWUubmV4dH13aGlsZShlIT09aSl9KSl9YnJlYWs7Y2FzZSAxOnRzKHQpLFwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC5zdGF0ZU5vZGUpLmNvbXBvbmVudFdpbGxVbm1vdW50JiZmdW5jdGlvbihlLHQpe3RyeXt0LnByb3BzPWUubWVtb2l6ZWRQcm9wcyx0LnN0YXRlPWUubWVtb2l6ZWRTdGF0ZSx0LmNvbXBvbmVudFdpbGxVbm1vdW50KCl9Y2F0Y2godCl7X2woZSx0KX19KHQsbik7YnJlYWs7Y2FzZSA1OnRzKHQpO2JyZWFrO2Nhc2UgNDp1cyhlLHQsbil9fWZ1bmN0aW9uIHNzKGUpe3ZhciB0PWUuYWx0ZXJuYXRlO2UucmV0dXJuPW51bGwsZS5jaGlsZD1udWxsLGUubWVtb2l6ZWRTdGF0ZT1udWxsLGUudXBkYXRlUXVldWU9bnVsbCxlLmRlcGVuZGVuY2llcz1udWxsLGUuYWx0ZXJuYXRlPW51bGwsZS5maXJzdEVmZmVjdD1udWxsLGUubGFzdEVmZmVjdD1udWxsLGUucGVuZGluZ1Byb3BzPW51bGwsZS5tZW1vaXplZFByb3BzPW51bGwsZS5zdGF0ZU5vZGU9bnVsbCxudWxsIT09dCYmc3ModCl9ZnVuY3Rpb24gbHMoZSl7cmV0dXJuIDU9PT1lLnRhZ3x8Mz09PWUudGFnfHw0PT09ZS50YWd9ZnVuY3Rpb24gY3MoZSl7ZTp7Zm9yKHZhciB0PWUucmV0dXJuO251bGwhPT10Oyl7aWYobHModCkpe3ZhciBuPXQ7YnJlYWsgZX10PXQucmV0dXJufXRocm93IEVycm9yKGEoMTYwKSl9c3dpdGNoKHQ9bi5zdGF0ZU5vZGUsbi50YWcpe2Nhc2UgNTp2YXIgaT0hMTticmVhaztjYXNlIDM6Y2FzZSA0OnQ9dC5jb250YWluZXJJbmZvLGk9ITA7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDE2MSkpfTE2Jm4uZWZmZWN0VGFnJiYoTmUodCxcIlwiKSxuLmVmZmVjdFRhZyY9LTE3KTtlOnQ6Zm9yKG49ZTs7KXtmb3IoO251bGw9PT1uLnNpYmxpbmc7KXtpZihudWxsPT09bi5yZXR1cm58fGxzKG4ucmV0dXJuKSl7bj1udWxsO2JyZWFrIGV9bj1uLnJldHVybn1mb3Iobi5zaWJsaW5nLnJldHVybj1uLnJldHVybixuPW4uc2libGluZzs1IT09bi50YWcmJjYhPT1uLnRhZyYmMTghPT1uLnRhZzspe2lmKDImbi5lZmZlY3RUYWcpY29udGludWUgdDtpZihudWxsPT09bi5jaGlsZHx8ND09PW4udGFnKWNvbnRpbnVlIHQ7bi5jaGlsZC5yZXR1cm49bixuPW4uY2hpbGR9aWYoISgyJm4uZWZmZWN0VGFnKSl7bj1uLnN0YXRlTm9kZTticmVhayBlfX1pP2Z1bmN0aW9uIGUodCxuLGkpe3ZhciByPXQudGFnLG89NT09PXJ8fDY9PT1yO2lmKG8pdD1vP3Quc3RhdGVOb2RlOnQuc3RhdGVOb2RlLmluc3RhbmNlLG4/OD09PWkubm9kZVR5cGU/aS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LG4pOmkuaW5zZXJ0QmVmb3JlKHQsbik6KDg9PT1pLm5vZGVUeXBlPyhuPWkucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKHQsaSk6KG49aSkuYXBwZW5kQ2hpbGQodCksbnVsbCE9PShpPWkuX3JlYWN0Um9vdENvbnRhaW5lcikmJnZvaWQgMCE9PWl8fG51bGwhPT1uLm9uY2xpY2t8fChuLm9uY2xpY2s9Y24pKTtlbHNlIGlmKDQhPT1yJiZudWxsIT09KHQ9dC5jaGlsZCkpZm9yKGUodCxuLGkpLHQ9dC5zaWJsaW5nO251bGwhPT10OyllKHQsbixpKSx0PXQuc2libGluZ30oZSxuLHQpOmZ1bmN0aW9uIGUodCxuLGkpe3ZhciByPXQudGFnLG89NT09PXJ8fDY9PT1yO2lmKG8pdD1vP3Quc3RhdGVOb2RlOnQuc3RhdGVOb2RlLmluc3RhbmNlLG4/aS5pbnNlcnRCZWZvcmUodCxuKTppLmFwcGVuZENoaWxkKHQpO2Vsc2UgaWYoNCE9PXImJm51bGwhPT0odD10LmNoaWxkKSlmb3IoZSh0LG4saSksdD10LnNpYmxpbmc7bnVsbCE9PXQ7KWUodCxuLGkpLHQ9dC5zaWJsaW5nfShlLG4sdCl9ZnVuY3Rpb24gdXMoZSx0LG4pe2Zvcih2YXIgaSxyLG89dCxzPSExOzspe2lmKCFzKXtzPW8ucmV0dXJuO2U6Zm9yKDs7KXtpZihudWxsPT09cyl0aHJvdyBFcnJvcihhKDE2MCkpO3N3aXRjaChpPXMuc3RhdGVOb2RlLHMudGFnKXtjYXNlIDU6cj0hMTticmVhayBlO2Nhc2UgMzpjYXNlIDQ6aT1pLmNvbnRhaW5lckluZm8scj0hMDticmVhayBlfXM9cy5yZXR1cm59cz0hMH1pZig1PT09by50YWd8fDY9PT1vLnRhZyl7ZTpmb3IodmFyIGw9ZSxjPW8sdT1uLGg9Yzs7KWlmKGFzKGwsaCx1KSxudWxsIT09aC5jaGlsZCYmNCE9PWgudGFnKWguY2hpbGQucmV0dXJuPWgsaD1oLmNoaWxkO2Vsc2V7aWYoaD09PWMpYnJlYWsgZTtmb3IoO251bGw9PT1oLnNpYmxpbmc7KXtpZihudWxsPT09aC5yZXR1cm58fGgucmV0dXJuPT09YylicmVhayBlO2g9aC5yZXR1cm59aC5zaWJsaW5nLnJldHVybj1oLnJldHVybixoPWguc2libGluZ31yPyhsPWksYz1vLnN0YXRlTm9kZSw4PT09bC5ub2RlVHlwZT9sLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyk6bC5yZW1vdmVDaGlsZChjKSk6aS5yZW1vdmVDaGlsZChvLnN0YXRlTm9kZSl9ZWxzZSBpZig0PT09by50YWcpe2lmKG51bGwhPT1vLmNoaWxkKXtpPW8uc3RhdGVOb2RlLmNvbnRhaW5lckluZm8scj0hMCxvLmNoaWxkLnJldHVybj1vLG89by5jaGlsZDtjb250aW51ZX19ZWxzZSBpZihhcyhlLG8sbiksbnVsbCE9PW8uY2hpbGQpe28uY2hpbGQucmV0dXJuPW8sbz1vLmNoaWxkO2NvbnRpbnVlfWlmKG89PT10KWJyZWFrO2Zvcig7bnVsbD09PW8uc2libGluZzspe2lmKG51bGw9PT1vLnJldHVybnx8by5yZXR1cm49PT10KXJldHVybjs0PT09KG89by5yZXR1cm4pLnRhZyYmKHM9ITEpfW8uc2libGluZy5yZXR1cm49by5yZXR1cm4sbz1vLnNpYmxpbmd9fWZ1bmN0aW9uIGhzKGUsdCl7c3dpdGNoKHQudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6Y2FzZSAyMjpyZXR1cm4gdm9pZCBpcygzLHQpO2Nhc2UgMTpyZXR1cm47Y2FzZSA1OnZhciBuPXQuc3RhdGVOb2RlO2lmKG51bGwhPW4pe3ZhciBpPXQubWVtb2l6ZWRQcm9wcyxyPW51bGwhPT1lP2UubWVtb2l6ZWRQcm9wczppO2U9dC50eXBlO3ZhciBvPXQudXBkYXRlUXVldWU7aWYodC51cGRhdGVRdWV1ZT1udWxsLG51bGwhPT1vKXtmb3IobltTbl09aSxcImlucHV0XCI9PT1lJiZcInJhZGlvXCI9PT1pLnR5cGUmJm51bGwhPWkubmFtZSYmRWUobixpKSxhbihlLHIpLHQ9YW4oZSxpKSxyPTA7cjxvLmxlbmd0aDtyKz0yKXt2YXIgcz1vW3JdLGw9b1tyKzFdO1wic3R5bGVcIj09PXM/bm4obixsKTpcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1zP0ZlKG4sbCk6XCJjaGlsZHJlblwiPT09cz9OZShuLGwpOkoobixzLGwsdCl9c3dpdGNoKGUpe2Nhc2VcImlucHV0XCI6U2UobixpKTticmVhaztjYXNlXCJ0ZXh0YXJlYVwiOnplKG4saSk7YnJlYWs7Y2FzZVwic2VsZWN0XCI6dD1uLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGUsbi5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlPSEhaS5tdWx0aXBsZSxudWxsIT0oZT1pLnZhbHVlKT9rZShuLCEhaS5tdWx0aXBsZSxlLCExKTp0IT09ISFpLm11bHRpcGxlJiYobnVsbCE9aS5kZWZhdWx0VmFsdWU/a2UobiwhIWkubXVsdGlwbGUsaS5kZWZhdWx0VmFsdWUsITApOmtlKG4sISFpLm11bHRpcGxlLGkubXVsdGlwbGU/W106XCJcIiwhMSkpfX19cmV0dXJuO2Nhc2UgNjppZihudWxsPT09dC5zdGF0ZU5vZGUpdGhyb3cgRXJyb3IoYSgxNjIpKTtyZXR1cm4gdm9pZCh0LnN0YXRlTm9kZS5ub2RlVmFsdWU9dC5tZW1vaXplZFByb3BzKTtjYXNlIDM6cmV0dXJuIHZvaWQoKHQ9dC5zdGF0ZU5vZGUpLmh5ZHJhdGUmJih0Lmh5ZHJhdGU9ITEsUnQodC5jb250YWluZXJJbmZvKSkpO2Nhc2UgMTI6cmV0dXJuO2Nhc2UgMTM6aWYobj10LG51bGw9PT10Lm1lbW9pemVkU3RhdGU/aT0hMTooaT0hMCxuPXQuY2hpbGQsTHM9RnIoKSksbnVsbCE9PW4pZTpmb3IoZT1uOzspe2lmKDU9PT1lLnRhZylvPWUuc3RhdGVOb2RlLGk/XCJmdW5jdGlvblwiPT10eXBlb2Yobz1vLnN0eWxlKS5zZXRQcm9wZXJ0eT9vLnNldFByb3BlcnR5KFwiZGlzcGxheVwiLFwibm9uZVwiLFwiaW1wb3J0YW50XCIpOm8uZGlzcGxheT1cIm5vbmVcIjoobz1lLnN0YXRlTm9kZSxyPW51bGwhPShyPWUubWVtb2l6ZWRQcm9wcy5zdHlsZSkmJnIuaGFzT3duUHJvcGVydHkoXCJkaXNwbGF5XCIpP3IuZGlzcGxheTpudWxsLG8uc3R5bGUuZGlzcGxheT10bihcImRpc3BsYXlcIixyKSk7ZWxzZSBpZig2PT09ZS50YWcpZS5zdGF0ZU5vZGUubm9kZVZhbHVlPWk/XCJcIjplLm1lbW9pemVkUHJvcHM7ZWxzZXtpZigxMz09PWUudGFnJiZudWxsIT09ZS5tZW1vaXplZFN0YXRlJiZudWxsPT09ZS5tZW1vaXplZFN0YXRlLmRlaHlkcmF0ZWQpeyhvPWUuY2hpbGQuc2libGluZykucmV0dXJuPWUsZT1vO2NvbnRpbnVlfWlmKG51bGwhPT1lLmNoaWxkKXtlLmNoaWxkLnJldHVybj1lLGU9ZS5jaGlsZDtjb250aW51ZX19aWYoZT09PW4pYnJlYWs7Zm9yKDtudWxsPT09ZS5zaWJsaW5nOyl7aWYobnVsbD09PWUucmV0dXJufHxlLnJldHVybj09PW4pYnJlYWsgZTtlPWUucmV0dXJufWUuc2libGluZy5yZXR1cm49ZS5yZXR1cm4sZT1lLnNpYmxpbmd9cmV0dXJuIHZvaWQgZHModCk7Y2FzZSAxOTpyZXR1cm4gdm9pZCBkcyh0KTtjYXNlIDE3OnJldHVybn10aHJvdyBFcnJvcihhKDE2MykpfWZ1bmN0aW9uIGRzKGUpe3ZhciB0PWUudXBkYXRlUXVldWU7aWYobnVsbCE9PXQpe2UudXBkYXRlUXVldWU9bnVsbDt2YXIgbj1lLnN0YXRlTm9kZTtudWxsPT09biYmKG49ZS5zdGF0ZU5vZGU9bmV3IEthKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBpPXhsLmJpbmQobnVsbCxlLHQpO24uaGFzKHQpfHwobi5hZGQodCksdC50aGVuKGksaSkpfSkpfX12YXIgcHM9XCJmdW5jdGlvblwiPT10eXBlb2YgV2Vha01hcD9XZWFrTWFwOk1hcDtmdW5jdGlvbiBmcyhlLHQsbil7KG49c28obixudWxsKSkudGFnPTMsbi5wYXlsb2FkPXtlbGVtZW50Om51bGx9O3ZhciBpPXQudmFsdWU7cmV0dXJuIG4uY2FsbGJhY2s9ZnVuY3Rpb24oKXtSc3x8KFJzPSEwLEJzPWkpLGVzKGUsdCl9LG59ZnVuY3Rpb24gbXMoZSx0LG4peyhuPXNvKG4sbnVsbCkpLnRhZz0zO3ZhciBpPWUudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3I7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaSl7dmFyIHI9dC52YWx1ZTtuLnBheWxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZXMoZSx0KSxpKHIpfX12YXIgbz1lLnN0YXRlTm9kZTtyZXR1cm4gbnVsbCE9PW8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8uY29tcG9uZW50RGlkQ2F0Y2gmJihuLmNhbGxiYWNrPWZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiIT10eXBlb2YgaSYmKG51bGw9PT1qcz9qcz1uZXcgU2V0KFt0aGlzXSk6anMuYWRkKHRoaXMpLGVzKGUsdCkpO3ZhciBuPXQuc3RhY2s7dGhpcy5jb21wb25lbnREaWRDYXRjaCh0LnZhbHVlLHtjb21wb25lbnRTdGFjazpudWxsIT09bj9uOlwiXCJ9KX0pLG59dmFyIGdzLHlzPU1hdGguY2VpbCxfcz1ZLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsdnM9WS5SZWFjdEN1cnJlbnRPd25lcix4cz0wLGJzPTMsd3M9NCxUcz0wLEVzPW51bGwsU3M9bnVsbCxNcz0wLElzPXhzLENzPW51bGwsa3M9MTA3Mzc0MTgyMyxBcz0xMDczNzQxODIzLFBzPW51bGwsenM9MCxEcz0hMSxMcz0wLE9zPW51bGwsUnM9ITEsQnM9bnVsbCxqcz1udWxsLEZzPSExLE5zPW51bGwsVXM9OTAsVnM9bnVsbCxHcz0wLFpzPW51bGwsV3M9MDtmdW5jdGlvbiBxcygpe3JldHVybiAwIT0oNDgmVHMpPzEwNzM3NDE4MjEtKEZyKCkvMTB8MCk6MCE9PVdzP1dzOldzPTEwNzM3NDE4MjEtKEZyKCkvMTB8MCl9ZnVuY3Rpb24gJHMoZSx0LG4pe2lmKDA9PSgyJih0PXQubW9kZSkpKXJldHVybiAxMDczNzQxODIzO3ZhciBpPU5yKCk7aWYoMD09KDQmdCkpcmV0dXJuIDk5PT09aT8xMDczNzQxODIzOjEwNzM3NDE4MjI7aWYoMCE9KDE2JlRzKSlyZXR1cm4gTXM7aWYobnVsbCE9PW4pZT0kcihlLDB8bi50aW1lb3V0TXN8fDVlMywyNTApO2Vsc2Ugc3dpdGNoKGkpe2Nhc2UgOTk6ZT0xMDczNzQxODIzO2JyZWFrO2Nhc2UgOTg6ZT0kcihlLDE1MCwxMDApO2JyZWFrO2Nhc2UgOTc6Y2FzZSA5NjplPSRyKGUsNWUzLDI1MCk7YnJlYWs7Y2FzZSA5NTplPTI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDMyNikpfXJldHVybiBudWxsIT09RXMmJmU9PT1NcyYmLS1lLGV9ZnVuY3Rpb24gSHMoZSx0KXtpZig1MDxHcyl0aHJvdyBHcz0wLFpzPW51bGwsRXJyb3IoYSgxODUpKTtpZihudWxsIT09KGU9WHMoZSx0KSkpe3ZhciBuPU5yKCk7MTA3Mzc0MTgyMz09PXQ/MCE9KDgmVHMpJiYwPT0oNDgmVHMpP0tzKGUpOihKcyhlKSwwPT09VHMmJldyKCkpOkpzKGUpLDA9PSg0JlRzKXx8OTghPT1uJiY5OSE9PW58fChudWxsPT09VnM/VnM9bmV3IE1hcChbW2UsdF1dKToodm9pZCAwPT09KG49VnMuZ2V0KGUpKXx8bj50KSYmVnMuc2V0KGUsdCkpfX1mdW5jdGlvbiBYcyhlLHQpe2UuZXhwaXJhdGlvblRpbWU8dCYmKGUuZXhwaXJhdGlvblRpbWU9dCk7dmFyIG49ZS5hbHRlcm5hdGU7bnVsbCE9PW4mJm4uZXhwaXJhdGlvblRpbWU8dCYmKG4uZXhwaXJhdGlvblRpbWU9dCk7dmFyIGk9ZS5yZXR1cm4scj1udWxsO2lmKG51bGw9PT1pJiYzPT09ZS50YWcpcj1lLnN0YXRlTm9kZTtlbHNlIGZvcig7bnVsbCE9PWk7KXtpZihuPWkuYWx0ZXJuYXRlLGkuY2hpbGRFeHBpcmF0aW9uVGltZTx0JiYoaS5jaGlsZEV4cGlyYXRpb25UaW1lPXQpLG51bGwhPT1uJiZuLmNoaWxkRXhwaXJhdGlvblRpbWU8dCYmKG4uY2hpbGRFeHBpcmF0aW9uVGltZT10KSxudWxsPT09aS5yZXR1cm4mJjM9PT1pLnRhZyl7cj1pLnN0YXRlTm9kZTticmVha31pPWkucmV0dXJufXJldHVybiBudWxsIT09ciYmKEVzPT09ciYmKGFsKHQpLElzPT09d3MmJkRsKHIsTXMpKSxMbChyLHQpKSxyfWZ1bmN0aW9uIFlzKGUpe3ZhciB0PWUubGFzdEV4cGlyZWRUaW1lO2lmKDAhPT10KXJldHVybiB0O2lmKCF6bChlLHQ9ZS5maXJzdFBlbmRpbmdUaW1lKSlyZXR1cm4gdDt2YXIgbj1lLmxhc3RQaW5nZWRUaW1lO3JldHVybiAyPj0oZT1uPihlPWUubmV4dEtub3duUGVuZGluZ0xldmVsKT9uOmUpJiZ0IT09ZT8wOmV9ZnVuY3Rpb24gSnMoZSl7aWYoMCE9PWUubGFzdEV4cGlyZWRUaW1lKWUuY2FsbGJhY2tFeHBpcmF0aW9uVGltZT0xMDczNzQxODIzLGUuY2FsbGJhY2tQcmlvcml0eT05OSxlLmNhbGxiYWNrTm9kZT1acihLcy5iaW5kKG51bGwsZSkpO2Vsc2V7dmFyIHQ9WXMoZSksbj1lLmNhbGxiYWNrTm9kZTtpZigwPT09dCludWxsIT09biYmKGUuY2FsbGJhY2tOb2RlPW51bGwsZS5jYWxsYmFja0V4cGlyYXRpb25UaW1lPTAsZS5jYWxsYmFja1ByaW9yaXR5PTkwKTtlbHNle3ZhciBpPXFzKCk7aWYoMTA3Mzc0MTgyMz09PXQ/aT05OToxPT09dHx8Mj09PXQ/aT05NTppPTA+PShpPTEwKigxMDczNzQxODIxLXQpLTEwKigxMDczNzQxODIxLWkpKT85OToyNTA+PWk/OTg6NTI1MD49aT85Nzo5NSxudWxsIT09bil7dmFyIHI9ZS5jYWxsYmFja1ByaW9yaXR5O2lmKGUuY2FsbGJhY2tFeHBpcmF0aW9uVGltZT09PXQmJnI+PWkpcmV0dXJuO24hPT16ciYmVHIobil9ZS5jYWxsYmFja0V4cGlyYXRpb25UaW1lPXQsZS5jYWxsYmFja1ByaW9yaXR5PWksdD0xMDczNzQxODIzPT09dD9acihLcy5iaW5kKG51bGwsZSkpOkdyKGksUXMuYmluZChudWxsLGUpLHt0aW1lb3V0OjEwKigxMDczNzQxODIxLXQpLUZyKCl9KSxlLmNhbGxiYWNrTm9kZT10fX19ZnVuY3Rpb24gUXMoZSx0KXtpZihXcz0wLHQpcmV0dXJuIE9sKGUsdD1xcygpKSxKcyhlKSxudWxsO3ZhciBuPVlzKGUpO2lmKDAhPT1uKXtpZih0PWUuY2FsbGJhY2tOb2RlLDAhPSg0OCZUcykpdGhyb3cgRXJyb3IoYSgzMjcpKTtpZihtbCgpLGU9PT1FcyYmbj09PU1zfHxubChlLG4pLG51bGwhPT1Tcyl7dmFyIGk9VHM7VHN8PTE2O2Zvcih2YXIgcj1ybCgpOzspdHJ5e2xsKCk7YnJlYWt9Y2F0Y2godCl7aWwoZSx0KX1pZihLcigpLFRzPWksX3MuY3VycmVudD1yLDE9PT1Jcyl0aHJvdyB0PUNzLG5sKGUsbiksRGwoZSxuKSxKcyhlKSx0O2lmKG51bGw9PT1Tcylzd2l0Y2gocj1lLmZpbmlzaGVkV29yaz1lLmN1cnJlbnQuYWx0ZXJuYXRlLGUuZmluaXNoZWRFeHBpcmF0aW9uVGltZT1uLGk9SXMsRXM9bnVsbCxpKXtjYXNlIHhzOmNhc2UgMTp0aHJvdyBFcnJvcihhKDM0NSkpO2Nhc2UgMjpPbChlLDI8bj8yOm4pO2JyZWFrO2Nhc2UgYnM6aWYoRGwoZSxuKSxuPT09KGk9ZS5sYXN0U3VzcGVuZGVkVGltZSkmJihlLm5leHRLbm93blBlbmRpbmdMZXZlbD1obChyKSksMTA3Mzc0MTgyMz09PWtzJiYxMDwocj1Mcys1MDAtRnIoKSkpe2lmKERzKXt2YXIgbz1lLmxhc3RQaW5nZWRUaW1lO2lmKDA9PT1vfHxvPj1uKXtlLmxhc3RQaW5nZWRUaW1lPW4sbmwoZSxuKTticmVha319aWYoMCE9PShvPVlzKGUpKSYmbyE9PW4pYnJlYWs7aWYoMCE9PWkmJmkhPT1uKXtlLmxhc3RQaW5nZWRUaW1lPWk7YnJlYWt9ZS50aW1lb3V0SGFuZGxlPXZuKGRsLmJpbmQobnVsbCxlKSxyKTticmVha31kbChlKTticmVhaztjYXNlIHdzOmlmKERsKGUsbiksbj09PShpPWUubGFzdFN1c3BlbmRlZFRpbWUpJiYoZS5uZXh0S25vd25QZW5kaW5nTGV2ZWw9aGwocikpLERzJiYoMD09PShyPWUubGFzdFBpbmdlZFRpbWUpfHxyPj1uKSl7ZS5sYXN0UGluZ2VkVGltZT1uLG5sKGUsbik7YnJlYWt9aWYoMCE9PShyPVlzKGUpKSYmciE9PW4pYnJlYWs7aWYoMCE9PWkmJmkhPT1uKXtlLmxhc3RQaW5nZWRUaW1lPWk7YnJlYWt9aWYoMTA3Mzc0MTgyMyE9PUFzP2k9MTAqKDEwNzM3NDE4MjEtQXMpLUZyKCk6MTA3Mzc0MTgyMz09PWtzP2k9MDooaT0xMCooMTA3Mzc0MTgyMS1rcyktNWUzLDA+KGk9KHI9RnIoKSktaSkmJihpPTApLChuPTEwKigxMDczNzQxODIxLW4pLXIpPChpPSgxMjA+aT8xMjA6NDgwPmk/NDgwOjEwODA+aT8xMDgwOjE5MjA+aT8xOTIwOjNlMz5pPzNlMzo0MzIwPmk/NDMyMDoxOTYwKnlzKGkvMTk2MCkpLWkpJiYoaT1uKSksMTA8aSl7ZS50aW1lb3V0SGFuZGxlPXZuKGRsLmJpbmQobnVsbCxlKSxpKTticmVha31kbChlKTticmVhaztjYXNlIDU6aWYoMTA3Mzc0MTgyMyE9PWtzJiZudWxsIT09UHMpe289a3M7dmFyIHM9UHM7aWYoMD49KGk9MHxzLmJ1c3lNaW5EdXJhdGlvbk1zKT9pPTA6KHI9MHxzLmJ1c3lEZWxheU1zLGk9KG89RnIoKS0oMTAqKDEwNzM3NDE4MjEtbyktKDB8cy50aW1lb3V0TXN8fDVlMykpKTw9cj8wOnIraS1vKSwxMDxpKXtEbChlLG4pLGUudGltZW91dEhhbmRsZT12bihkbC5iaW5kKG51bGwsZSksaSk7YnJlYWt9fWRsKGUpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoYSgzMjkpKX1pZihKcyhlKSxlLmNhbGxiYWNrTm9kZT09PXQpcmV0dXJuIFFzLmJpbmQobnVsbCxlKX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gS3MoZSl7dmFyIHQ9ZS5sYXN0RXhwaXJlZFRpbWU7aWYodD0wIT09dD90OjEwNzM3NDE4MjMsMCE9KDQ4JlRzKSl0aHJvdyBFcnJvcihhKDMyNykpO2lmKG1sKCksZT09PUVzJiZ0PT09TXN8fG5sKGUsdCksbnVsbCE9PVNzKXt2YXIgbj1UcztUc3w9MTY7Zm9yKHZhciBpPXJsKCk7Oyl0cnl7c2woKTticmVha31jYXRjaCh0KXtpbChlLHQpfWlmKEtyKCksVHM9bixfcy5jdXJyZW50PWksMT09PUlzKXRocm93IG49Q3MsbmwoZSx0KSxEbChlLHQpLEpzKGUpLG47aWYobnVsbCE9PVNzKXRocm93IEVycm9yKGEoMjYxKSk7ZS5maW5pc2hlZFdvcms9ZS5jdXJyZW50LmFsdGVybmF0ZSxlLmZpbmlzaGVkRXhwaXJhdGlvblRpbWU9dCxFcz1udWxsLGRsKGUpLEpzKGUpfXJldHVybiBudWxsfWZ1bmN0aW9uIGVsKGUsdCl7dmFyIG49VHM7VHN8PTE7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7MD09PShUcz1uKSYmV3IoKX19ZnVuY3Rpb24gdGwoZSx0KXt2YXIgbj1UcztUcyY9LTIsVHN8PTg7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7MD09PShUcz1uKSYmV3IoKX19ZnVuY3Rpb24gbmwoZSx0KXtlLmZpbmlzaGVkV29yaz1udWxsLGUuZmluaXNoZWRFeHBpcmF0aW9uVGltZT0wO3ZhciBuPWUudGltZW91dEhhbmRsZTtpZigtMSE9PW4mJihlLnRpbWVvdXRIYW5kbGU9LTEseG4obikpLG51bGwhPT1Tcylmb3Iobj1Tcy5yZXR1cm47bnVsbCE9PW47KXt2YXIgaT1uO3N3aXRjaChpLnRhZyl7Y2FzZSAxOm51bGwhPShpPWkudHlwZS5jaGlsZENvbnRleHRUeXBlcykmJmdyKCk7YnJlYWs7Y2FzZSAzOkRvKCksbHIoZHIpLGxyKGhyKTticmVhaztjYXNlIDU6T28oaSk7YnJlYWs7Y2FzZSA0OkRvKCk7YnJlYWs7Y2FzZSAxMzpjYXNlIDE5OmxyKFJvKTticmVhaztjYXNlIDEwOmVvKGkpfW49bi5yZXR1cm59RXM9ZSxTcz1NbChlLmN1cnJlbnQsbnVsbCksTXM9dCxJcz14cyxDcz1udWxsLEFzPWtzPTEwNzM3NDE4MjMsUHM9bnVsbCx6cz0wLERzPSExfWZ1bmN0aW9uIGlsKGUsdCl7Zm9yKDs7KXt0cnl7aWYoS3IoKSxGby5jdXJyZW50PWdhLFdvKWZvcih2YXIgbj1Wby5tZW1vaXplZFN0YXRlO251bGwhPT1uOyl7dmFyIGk9bi5xdWV1ZTtudWxsIT09aSYmKGkucGVuZGluZz1udWxsKSxuPW4ubmV4dH1pZihVbz0wLFpvPUdvPVZvPW51bGwsV289ITEsbnVsbD09PVNzfHxudWxsPT09U3MucmV0dXJuKXJldHVybiBJcz0xLENzPXQsU3M9bnVsbDtlOnt2YXIgcj1lLG89U3MucmV0dXJuLGE9U3Mscz10O2lmKHQ9TXMsYS5lZmZlY3RUYWd8PTIwNDgsYS5maXJzdEVmZmVjdD1hLmxhc3RFZmZlY3Q9bnVsbCxudWxsIT09cyYmXCJvYmplY3RcIj09dHlwZW9mIHMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHMudGhlbil7dmFyIGw9cztpZigwPT0oMiZhLm1vZGUpKXt2YXIgYz1hLmFsdGVybmF0ZTtjPyhhLnVwZGF0ZVF1ZXVlPWMudXBkYXRlUXVldWUsYS5tZW1vaXplZFN0YXRlPWMubWVtb2l6ZWRTdGF0ZSxhLmV4cGlyYXRpb25UaW1lPWMuZXhwaXJhdGlvblRpbWUpOihhLnVwZGF0ZVF1ZXVlPW51bGwsYS5tZW1vaXplZFN0YXRlPW51bGwpfXZhciB1PTAhPSgxJlJvLmN1cnJlbnQpLGg9bztkb3t2YXIgZDtpZihkPTEzPT09aC50YWcpe3ZhciBwPWgubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09cClkPW51bGwhPT1wLmRlaHlkcmF0ZWQ7ZWxzZXt2YXIgZj1oLm1lbW9pemVkUHJvcHM7ZD12b2lkIDAhPT1mLmZhbGxiYWNrJiYoITAhPT1mLnVuc3RhYmxlX2F2b2lkVGhpc0ZhbGxiYWNrfHwhdSl9fWlmKGQpe3ZhciBtPWgudXBkYXRlUXVldWU7aWYobnVsbD09PW0pe3ZhciBnPW5ldyBTZXQ7Zy5hZGQobCksaC51cGRhdGVRdWV1ZT1nfWVsc2UgbS5hZGQobCk7aWYoMD09KDImaC5tb2RlKSl7aWYoaC5lZmZlY3RUYWd8PTY0LGEuZWZmZWN0VGFnJj0tMjk4MSwxPT09YS50YWcpaWYobnVsbD09PWEuYWx0ZXJuYXRlKWEudGFnPTE3O2Vsc2V7dmFyIHk9c28oMTA3Mzc0MTgyMyxudWxsKTt5LnRhZz0yLGxvKGEseSl9YS5leHBpcmF0aW9uVGltZT0xMDczNzQxODIzO2JyZWFrIGV9cz12b2lkIDAsYT10O3ZhciBfPXIucGluZ0NhY2hlO2lmKG51bGw9PT1fPyhfPXIucGluZ0NhY2hlPW5ldyBwcyxzPW5ldyBTZXQsXy5zZXQobCxzKSk6dm9pZCAwPT09KHM9Xy5nZXQobCkpJiYocz1uZXcgU2V0LF8uc2V0KGwscykpLCFzLmhhcyhhKSl7cy5hZGQoYSk7dmFyIHY9dmwuYmluZChudWxsLHIsbCxhKTtsLnRoZW4odix2KX1oLmVmZmVjdFRhZ3w9NDA5NixoLmV4cGlyYXRpb25UaW1lPXQ7YnJlYWsgZX1oPWgucmV0dXJufXdoaWxlKG51bGwhPT1oKTtzPUVycm9yKChnZShhLnR5cGUpfHxcIkEgUmVhY3QgY29tcG9uZW50XCIpK1wiIHN1c3BlbmRlZCB3aGlsZSByZW5kZXJpbmcsIGJ1dCBubyBmYWxsYmFjayBVSSB3YXMgc3BlY2lmaWVkLlxcblxcbkFkZCBhIDxTdXNwZW5zZSBmYWxsYmFjaz0uLi4+IGNvbXBvbmVudCBoaWdoZXIgaW4gdGhlIHRyZWUgdG8gcHJvdmlkZSBhIGxvYWRpbmcgaW5kaWNhdG9yIG9yIHBsYWNlaG9sZGVyIHRvIGRpc3BsYXkuXCIreWUoYSkpfTUhPT1JcyYmKElzPTIpLHM9UWEocyxhKSxoPW87ZG97c3dpdGNoKGgudGFnKXtjYXNlIDM6bD1zLGguZWZmZWN0VGFnfD00MDk2LGguZXhwaXJhdGlvblRpbWU9dCxjbyhoLGZzKGgsbCx0KSk7YnJlYWsgZTtjYXNlIDE6bD1zO3ZhciB4PWgudHlwZSxiPWguc3RhdGVOb2RlO2lmKDA9PSg2NCZoLmVmZmVjdFRhZykmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB4LmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcnx8bnVsbCE9PWImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGIuY29tcG9uZW50RGlkQ2F0Y2gmJihudWxsPT09anN8fCFqcy5oYXMoYikpKSl7aC5lZmZlY3RUYWd8PTQwOTYsaC5leHBpcmF0aW9uVGltZT10LGNvKGgsbXMoaCxsLHQpKTticmVhayBlfX1oPWgucmV0dXJufXdoaWxlKG51bGwhPT1oKX1Tcz11bChTcyl9Y2F0Y2goZSl7dD1lO2NvbnRpbnVlfWJyZWFrfX1mdW5jdGlvbiBybCgpe3ZhciBlPV9zLmN1cnJlbnQ7cmV0dXJuIF9zLmN1cnJlbnQ9Z2EsbnVsbD09PWU/Z2E6ZX1mdW5jdGlvbiBvbChlLHQpe2U8a3MmJjI8ZSYmKGtzPWUpLG51bGwhPT10JiZlPEFzJiYyPGUmJihBcz1lLFBzPXQpfWZ1bmN0aW9uIGFsKGUpe2U+enMmJih6cz1lKX1mdW5jdGlvbiBzbCgpe2Zvcig7bnVsbCE9PVNzOylTcz1jbChTcyl9ZnVuY3Rpb24gbGwoKXtmb3IoO251bGwhPT1TcyYmIURyKCk7KVNzPWNsKFNzKX1mdW5jdGlvbiBjbChlKXt2YXIgdD1ncyhlLmFsdGVybmF0ZSxlLE1zKTtyZXR1cm4gZS5tZW1vaXplZFByb3BzPWUucGVuZGluZ1Byb3BzLG51bGw9PT10JiYodD11bChlKSksdnMuY3VycmVudD1udWxsLHR9ZnVuY3Rpb24gdWwoZSl7U3M9ZTtkb3t2YXIgdD1Tcy5hbHRlcm5hdGU7aWYoZT1Tcy5yZXR1cm4sMD09KDIwNDgmU3MuZWZmZWN0VGFnKSl7aWYodD1ZYSh0LFNzLE1zKSwxPT09TXN8fDEhPT1Tcy5jaGlsZEV4cGlyYXRpb25UaW1lKXtmb3IodmFyIG49MCxpPVNzLmNoaWxkO251bGwhPT1pOyl7dmFyIHI9aS5leHBpcmF0aW9uVGltZSxvPWkuY2hpbGRFeHBpcmF0aW9uVGltZTtyPm4mJihuPXIpLG8+biYmKG49byksaT1pLnNpYmxpbmd9U3MuY2hpbGRFeHBpcmF0aW9uVGltZT1ufWlmKG51bGwhPT10KXJldHVybiB0O251bGwhPT1lJiYwPT0oMjA0OCZlLmVmZmVjdFRhZykmJihudWxsPT09ZS5maXJzdEVmZmVjdCYmKGUuZmlyc3RFZmZlY3Q9U3MuZmlyc3RFZmZlY3QpLG51bGwhPT1Tcy5sYXN0RWZmZWN0JiYobnVsbCE9PWUubGFzdEVmZmVjdCYmKGUubGFzdEVmZmVjdC5uZXh0RWZmZWN0PVNzLmZpcnN0RWZmZWN0KSxlLmxhc3RFZmZlY3Q9U3MubGFzdEVmZmVjdCksMTxTcy5lZmZlY3RUYWcmJihudWxsIT09ZS5sYXN0RWZmZWN0P2UubGFzdEVmZmVjdC5uZXh0RWZmZWN0PVNzOmUuZmlyc3RFZmZlY3Q9U3MsZS5sYXN0RWZmZWN0PVNzKSl9ZWxzZXtpZihudWxsIT09KHQ9SmEoU3MpKSlyZXR1cm4gdC5lZmZlY3RUYWcmPTIwNDcsdDtudWxsIT09ZSYmKGUuZmlyc3RFZmZlY3Q9ZS5sYXN0RWZmZWN0PW51bGwsZS5lZmZlY3RUYWd8PTIwNDgpfWlmKG51bGwhPT0odD1Tcy5zaWJsaW5nKSlyZXR1cm4gdDtTcz1lfXdoaWxlKG51bGwhPT1Tcyk7cmV0dXJuIElzPT09eHMmJihJcz01KSxudWxsfWZ1bmN0aW9uIGhsKGUpe3ZhciB0PWUuZXhwaXJhdGlvblRpbWU7cmV0dXJuIHQ+KGU9ZS5jaGlsZEV4cGlyYXRpb25UaW1lKT90OmV9ZnVuY3Rpb24gZGwoZSl7dmFyIHQ9TnIoKTtyZXR1cm4gVnIoOTkscGwuYmluZChudWxsLGUsdCkpLG51bGx9ZnVuY3Rpb24gcGwoZSx0KXtkb3ttbCgpfXdoaWxlKG51bGwhPT1Ocyk7aWYoMCE9KDQ4JlRzKSl0aHJvdyBFcnJvcihhKDMyNykpO3ZhciBuPWUuZmluaXNoZWRXb3JrLGk9ZS5maW5pc2hlZEV4cGlyYXRpb25UaW1lO2lmKG51bGw9PT1uKXJldHVybiBudWxsO2lmKGUuZmluaXNoZWRXb3JrPW51bGwsZS5maW5pc2hlZEV4cGlyYXRpb25UaW1lPTAsbj09PWUuY3VycmVudCl0aHJvdyBFcnJvcihhKDE3NykpO2UuY2FsbGJhY2tOb2RlPW51bGwsZS5jYWxsYmFja0V4cGlyYXRpb25UaW1lPTAsZS5jYWxsYmFja1ByaW9yaXR5PTkwLGUubmV4dEtub3duUGVuZGluZ0xldmVsPTA7dmFyIHI9aGwobik7aWYoZS5maXJzdFBlbmRpbmdUaW1lPXIsaTw9ZS5sYXN0U3VzcGVuZGVkVGltZT9lLmZpcnN0U3VzcGVuZGVkVGltZT1lLmxhc3RTdXNwZW5kZWRUaW1lPWUubmV4dEtub3duUGVuZGluZ0xldmVsPTA6aTw9ZS5maXJzdFN1c3BlbmRlZFRpbWUmJihlLmZpcnN0U3VzcGVuZGVkVGltZT1pLTEpLGk8PWUubGFzdFBpbmdlZFRpbWUmJihlLmxhc3RQaW5nZWRUaW1lPTApLGk8PWUubGFzdEV4cGlyZWRUaW1lJiYoZS5sYXN0RXhwaXJlZFRpbWU9MCksZT09PUVzJiYoU3M9RXM9bnVsbCxNcz0wKSwxPG4uZWZmZWN0VGFnP251bGwhPT1uLmxhc3RFZmZlY3Q/KG4ubGFzdEVmZmVjdC5uZXh0RWZmZWN0PW4scj1uLmZpcnN0RWZmZWN0KTpyPW46cj1uLmZpcnN0RWZmZWN0LG51bGwhPT1yKXt2YXIgbz1UcztUc3w9MzIsdnMuY3VycmVudD1udWxsLG1uPXF0O3ZhciBzPXBuKCk7aWYoZm4ocykpe2lmKFwic2VsZWN0aW9uU3RhcnRcImluIHMpdmFyIGw9e3N0YXJ0OnMuc2VsZWN0aW9uU3RhcnQsZW5kOnMuc2VsZWN0aW9uRW5kfTtlbHNlIGU6e3ZhciBjPShsPShsPXMub3duZXJEb2N1bWVudCkmJmwuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0U2VsZWN0aW9uJiZsLmdldFNlbGVjdGlvbigpO2lmKGMmJjAhPT1jLnJhbmdlQ291bnQpe2w9Yy5hbmNob3JOb2RlO3ZhciB1PWMuYW5jaG9yT2Zmc2V0LGg9Yy5mb2N1c05vZGU7Yz1jLmZvY3VzT2Zmc2V0O3RyeXtsLm5vZGVUeXBlLGgubm9kZVR5cGV9Y2F0Y2goZSl7bD1udWxsO2JyZWFrIGV9dmFyIGQ9MCxwPS0xLGY9LTEsbT0wLGc9MCx5PXMsXz1udWxsO3Q6Zm9yKDs7KXtmb3IodmFyIHY7eSE9PWx8fDAhPT11JiYzIT09eS5ub2RlVHlwZXx8KHA9ZCt1KSx5IT09aHx8MCE9PWMmJjMhPT15Lm5vZGVUeXBlfHwoZj1kK2MpLDM9PT15Lm5vZGVUeXBlJiYoZCs9eS5ub2RlVmFsdWUubGVuZ3RoKSxudWxsIT09KHY9eS5maXJzdENoaWxkKTspXz15LHk9djtmb3IoOzspe2lmKHk9PT1zKWJyZWFrIHQ7aWYoXz09PWwmJisrbT09PXUmJihwPWQpLF89PT1oJiYrK2c9PT1jJiYoZj1kKSxudWxsIT09KHY9eS5uZXh0U2libGluZykpYnJlYWs7Xz0oeT1fKS5wYXJlbnROb2RlfXk9dn1sPS0xPT09cHx8LTE9PT1mP251bGw6e3N0YXJ0OnAsZW5kOmZ9fWVsc2UgbD1udWxsfWw9bHx8e3N0YXJ0OjAsZW5kOjB9fWVsc2UgbD1udWxsO2duPXthY3RpdmVFbGVtZW50RGV0YWNoZWQ6bnVsbCxmb2N1c2VkRWxlbTpzLHNlbGVjdGlvblJhbmdlOmx9LHF0PSExLE9zPXI7ZG97dHJ5e2ZsKCl9Y2F0Y2goZSl7aWYobnVsbD09PU9zKXRocm93IEVycm9yKGEoMzMwKSk7X2woT3MsZSksT3M9T3MubmV4dEVmZmVjdH19d2hpbGUobnVsbCE9PU9zKTtPcz1yO2Rve3RyeXtmb3Iocz1lLGw9dDtudWxsIT09T3M7KXt2YXIgeD1Pcy5lZmZlY3RUYWc7aWYoMTYmeCYmTmUoT3Muc3RhdGVOb2RlLFwiXCIpLDEyOCZ4KXt2YXIgYj1Pcy5hbHRlcm5hdGU7aWYobnVsbCE9PWIpe3ZhciB3PWIucmVmO251bGwhPT13JiYoXCJmdW5jdGlvblwiPT10eXBlb2Ygdz93KG51bGwpOncuY3VycmVudD1udWxsKX19c3dpdGNoKDEwMzgmeCl7Y2FzZSAyOmNzKE9zKSxPcy5lZmZlY3RUYWcmPS0zO2JyZWFrO2Nhc2UgNjpjcyhPcyksT3MuZWZmZWN0VGFnJj0tMyxocyhPcy5hbHRlcm5hdGUsT3MpO2JyZWFrO2Nhc2UgMTAyNDpPcy5lZmZlY3RUYWcmPS0xMDI1O2JyZWFrO2Nhc2UgMTAyODpPcy5lZmZlY3RUYWcmPS0xMDI1LGhzKE9zLmFsdGVybmF0ZSxPcyk7YnJlYWs7Y2FzZSA0OmhzKE9zLmFsdGVybmF0ZSxPcyk7YnJlYWs7Y2FzZSA4OnVzKHMsdT1PcyxsKSxzcyh1KX1Pcz1Pcy5uZXh0RWZmZWN0fX1jYXRjaChlKXtpZihudWxsPT09T3MpdGhyb3cgRXJyb3IoYSgzMzApKTtfbChPcyxlKSxPcz1Pcy5uZXh0RWZmZWN0fX13aGlsZShudWxsIT09T3MpO2lmKHc9Z24sYj1wbigpLHg9dy5mb2N1c2VkRWxlbSxsPXcuc2VsZWN0aW9uUmFuZ2UsYiE9PXgmJngmJngub3duZXJEb2N1bWVudCYmZnVuY3Rpb24gZSh0LG4pe3JldHVybiEoIXR8fCFuKSYmKHQ9PT1ufHwoIXR8fDMhPT10Lm5vZGVUeXBlKSYmKG4mJjM9PT1uLm5vZGVUeXBlP2UodCxuLnBhcmVudE5vZGUpOlwiY29udGFpbnNcImluIHQ/dC5jb250YWlucyhuKTohIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJiEhKDE2JnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24obikpKSl9KHgub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQseCkpe251bGwhPT1sJiZmbih4KSYmKGI9bC5zdGFydCx2b2lkIDA9PT0odz1sLmVuZCkmJih3PWIpLFwic2VsZWN0aW9uU3RhcnRcImluIHg/KHguc2VsZWN0aW9uU3RhcnQ9Yix4LnNlbGVjdGlvbkVuZD1NYXRoLm1pbih3LHgudmFsdWUubGVuZ3RoKSk6KHc9KGI9eC5vd25lckRvY3VtZW50fHxkb2N1bWVudCkmJmIuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0U2VsZWN0aW9uJiYodz13LmdldFNlbGVjdGlvbigpLHU9eC50ZXh0Q29udGVudC5sZW5ndGgscz1NYXRoLm1pbihsLnN0YXJ0LHUpLGw9dm9pZCAwPT09bC5lbmQ/czpNYXRoLm1pbihsLmVuZCx1KSwhdy5leHRlbmQmJnM+bCYmKHU9bCxsPXMscz11KSx1PWRuKHgscyksaD1kbih4LGwpLHUmJmgmJigxIT09dy5yYW5nZUNvdW50fHx3LmFuY2hvck5vZGUhPT11Lm5vZGV8fHcuYW5jaG9yT2Zmc2V0IT09dS5vZmZzZXR8fHcuZm9jdXNOb2RlIT09aC5ub2RlfHx3LmZvY3VzT2Zmc2V0IT09aC5vZmZzZXQpJiYoKGI9Yi5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydCh1Lm5vZGUsdS5vZmZzZXQpLHcucmVtb3ZlQWxsUmFuZ2VzKCkscz5sPyh3LmFkZFJhbmdlKGIpLHcuZXh0ZW5kKGgubm9kZSxoLm9mZnNldCkpOihiLnNldEVuZChoLm5vZGUsaC5vZmZzZXQpLHcuYWRkUmFuZ2UoYikpKSkpLGI9W107Zm9yKHc9eDt3PXcucGFyZW50Tm9kZTspMT09PXcubm9kZVR5cGUmJmIucHVzaCh7ZWxlbWVudDp3LGxlZnQ6dy5zY3JvbGxMZWZ0LHRvcDp3LnNjcm9sbFRvcH0pO2ZvcihcImZ1bmN0aW9uXCI9PXR5cGVvZiB4LmZvY3VzJiZ4LmZvY3VzKCkseD0wO3g8Yi5sZW5ndGg7eCsrKSh3PWJbeF0pLmVsZW1lbnQuc2Nyb2xsTGVmdD13LmxlZnQsdy5lbGVtZW50LnNjcm9sbFRvcD13LnRvcH1xdD0hIW1uLGduPW1uPW51bGwsZS5jdXJyZW50PW4sT3M9cjtkb3t0cnl7Zm9yKHg9ZTtudWxsIT09T3M7KXt2YXIgVD1Pcy5lZmZlY3RUYWc7aWYoMzYmVCYmb3MoeCxPcy5hbHRlcm5hdGUsT3MpLDEyOCZUKXtiPXZvaWQgMDt2YXIgRT1Pcy5yZWY7aWYobnVsbCE9PUUpe3ZhciBTPU9zLnN0YXRlTm9kZTtzd2l0Y2goT3MudGFnKXtjYXNlIDU6Yj1TO2JyZWFrO2RlZmF1bHQ6Yj1TfVwiZnVuY3Rpb25cIj09dHlwZW9mIEU/RShiKTpFLmN1cnJlbnQ9Yn19T3M9T3MubmV4dEVmZmVjdH19Y2F0Y2goZSl7aWYobnVsbD09PU9zKXRocm93IEVycm9yKGEoMzMwKSk7X2woT3MsZSksT3M9T3MubmV4dEVmZmVjdH19d2hpbGUobnVsbCE9PU9zKTtPcz1udWxsLExyKCksVHM9b31lbHNlIGUuY3VycmVudD1uO2lmKEZzKUZzPSExLE5zPWUsVXM9dDtlbHNlIGZvcihPcz1yO251bGwhPT1PczspdD1Pcy5uZXh0RWZmZWN0LE9zLm5leHRFZmZlY3Q9bnVsbCxPcz10O2lmKDA9PT0odD1lLmZpcnN0UGVuZGluZ1RpbWUpJiYoanM9bnVsbCksMTA3Mzc0MTgyMz09PXQ/ZT09PVpzP0dzKys6KEdzPTAsWnM9ZSk6R3M9MCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBibCYmYmwobi5zdGF0ZU5vZGUsaSksSnMoZSksUnMpdGhyb3cgUnM9ITEsZT1CcyxCcz1udWxsLGU7cmV0dXJuIDAhPSg4JlRzKXx8V3IoKSxudWxsfWZ1bmN0aW9uIGZsKCl7Zm9yKDtudWxsIT09T3M7KXt2YXIgZT1Pcy5lZmZlY3RUYWc7MCE9KDI1NiZlKSYmbnMoT3MuYWx0ZXJuYXRlLE9zKSwwPT0oNTEyJmUpfHxGc3x8KEZzPSEwLEdyKDk3LChmdW5jdGlvbigpe3JldHVybiBtbCgpLG51bGx9KSkpLE9zPU9zLm5leHRFZmZlY3R9fWZ1bmN0aW9uIG1sKCl7aWYoOTAhPT1Vcyl7dmFyIGU9OTc8VXM/OTc6VXM7cmV0dXJuIFVzPTkwLFZyKGUsZ2wpfX1mdW5jdGlvbiBnbCgpe2lmKG51bGw9PT1OcylyZXR1cm4hMTt2YXIgZT1OcztpZihOcz1udWxsLDAhPSg0OCZUcykpdGhyb3cgRXJyb3IoYSgzMzEpKTt2YXIgdD1Ucztmb3IoVHN8PTMyLGU9ZS5jdXJyZW50LmZpcnN0RWZmZWN0O251bGwhPT1lOyl7dHJ5e3ZhciBuPWU7aWYoMCE9KDUxMiZuLmVmZmVjdFRhZykpc3dpdGNoKG4udGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE1OmNhc2UgMjI6aXMoNSxuKSxycyg1LG4pfX1jYXRjaCh0KXtpZihudWxsPT09ZSl0aHJvdyBFcnJvcihhKDMzMCkpO19sKGUsdCl9bj1lLm5leHRFZmZlY3QsZS5uZXh0RWZmZWN0PW51bGwsZT1ufXJldHVybiBUcz10LFdyKCksITB9ZnVuY3Rpb24geWwoZSx0LG4pe2xvKGUsdD1mcyhlLHQ9UWEobix0KSwxMDczNzQxODIzKSksbnVsbCE9PShlPVhzKGUsMTA3Mzc0MTgyMykpJiZKcyhlKX1mdW5jdGlvbiBfbChlLHQpe2lmKDM9PT1lLnRhZyl5bChlLGUsdCk7ZWxzZSBmb3IodmFyIG49ZS5yZXR1cm47bnVsbCE9PW47KXtpZigzPT09bi50YWcpe3lsKG4sZSx0KTticmVha31pZigxPT09bi50YWcpe3ZhciBpPW4uc3RhdGVOb2RlO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4udHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3J8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGkuY29tcG9uZW50RGlkQ2F0Y2gmJihudWxsPT09anN8fCFqcy5oYXMoaSkpKXtsbyhuLGU9bXMobixlPVFhKHQsZSksMTA3Mzc0MTgyMykpLG51bGwhPT0obj1YcyhuLDEwNzM3NDE4MjMpKSYmSnMobik7YnJlYWt9fW49bi5yZXR1cm59fWZ1bmN0aW9uIHZsKGUsdCxuKXt2YXIgaT1lLnBpbmdDYWNoZTtudWxsIT09aSYmaS5kZWxldGUodCksRXM9PT1lJiZNcz09PW4/SXM9PT13c3x8SXM9PT1icyYmMTA3Mzc0MTgyMz09PWtzJiZGcigpLUxzPDUwMD9ubChlLE1zKTpEcz0hMDp6bChlLG4pJiYoMCE9PSh0PWUubGFzdFBpbmdlZFRpbWUpJiZ0PG58fChlLmxhc3RQaW5nZWRUaW1lPW4sSnMoZSkpKX1mdW5jdGlvbiB4bChlLHQpe3ZhciBuPWUuc3RhdGVOb2RlO251bGwhPT1uJiZuLmRlbGV0ZSh0KSwwPT09KHQ9MCkmJih0PSRzKHQ9cXMoKSxlLG51bGwpKSxudWxsIT09KGU9WHMoZSx0KSkmJkpzKGUpfWdzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10LmV4cGlyYXRpb25UaW1lO2lmKG51bGwhPT1lKXt2YXIgcj10LnBlbmRpbmdQcm9wcztpZihlLm1lbW9pemVkUHJvcHMhPT1yfHxkci5jdXJyZW50KUFhPSEwO2Vsc2V7aWYoaTxuKXtzd2l0Y2goQWE9ITEsdC50YWcpe2Nhc2UgMzpGYSh0KSxDYSgpO2JyZWFrO2Nhc2UgNTppZihMbyh0KSw0JnQubW9kZSYmMSE9PW4mJnIuaGlkZGVuKXJldHVybiB0LmV4cGlyYXRpb25UaW1lPXQuY2hpbGRFeHBpcmF0aW9uVGltZT0xLG51bGw7YnJlYWs7Y2FzZSAxOm1yKHQudHlwZSkmJnZyKHQpO2JyZWFrO2Nhc2UgNDp6byh0LHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pO2JyZWFrO2Nhc2UgMTA6aT10Lm1lbW9pemVkUHJvcHMudmFsdWUscj10LnR5cGUuX2NvbnRleHQsY3IoWHIsci5fY3VycmVudFZhbHVlKSxyLl9jdXJyZW50VmFsdWU9aTticmVhaztjYXNlIDEzOmlmKG51bGwhPT10Lm1lbW9pemVkU3RhdGUpcmV0dXJuIDAhPT0oaT10LmNoaWxkLmNoaWxkRXhwaXJhdGlvblRpbWUpJiZpPj1uP1phKGUsdCxuKTooY3IoUm8sMSZSby5jdXJyZW50KSxudWxsIT09KHQ9SGEoZSx0LG4pKT90LnNpYmxpbmc6bnVsbCk7Y3IoUm8sMSZSby5jdXJyZW50KTticmVhaztjYXNlIDE5OmlmKGk9dC5jaGlsZEV4cGlyYXRpb25UaW1lPj1uLDAhPSg2NCZlLmVmZmVjdFRhZykpe2lmKGkpcmV0dXJuICRhKGUsdCxuKTt0LmVmZmVjdFRhZ3w9NjR9aWYobnVsbCE9PShyPXQubWVtb2l6ZWRTdGF0ZSkmJihyLnJlbmRlcmluZz1udWxsLHIudGFpbD1udWxsKSxjcihSbyxSby5jdXJyZW50KSwhaSlyZXR1cm4gbnVsbH1yZXR1cm4gSGEoZSx0LG4pfUFhPSExfX1lbHNlIEFhPSExO3N3aXRjaCh0LmV4cGlyYXRpb25UaW1lPTAsdC50YWcpe2Nhc2UgMjppZihpPXQudHlwZSxudWxsIT09ZSYmKGUuYWx0ZXJuYXRlPW51bGwsdC5hbHRlcm5hdGU9bnVsbCx0LmVmZmVjdFRhZ3w9MiksZT10LnBlbmRpbmdQcm9wcyxyPWZyKHQsaHIuY3VycmVudCksbm8odCxuKSxyPUhvKG51bGwsdCxpLGUscixuKSx0LmVmZmVjdFRhZ3w9MSxcIm9iamVjdFwiPT10eXBlb2YgciYmbnVsbCE9PXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIucmVuZGVyJiZ2b2lkIDA9PT1yLiQkdHlwZW9mKXtpZih0LnRhZz0xLHQubWVtb2l6ZWRTdGF0ZT1udWxsLHQudXBkYXRlUXVldWU9bnVsbCxtcihpKSl7dmFyIG89ITA7dnIodCl9ZWxzZSBvPSExO3QubWVtb2l6ZWRTdGF0ZT1udWxsIT09ci5zdGF0ZSYmdm9pZCAwIT09ci5zdGF0ZT9yLnN0YXRlOm51bGwsb28odCk7dmFyIHM9aS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XCJmdW5jdGlvblwiPT10eXBlb2YgcyYmbW8odCxpLHMsZSksci51cGRhdGVyPWdvLHQuc3RhdGVOb2RlPXIsci5fcmVhY3RJbnRlcm5hbEZpYmVyPXQseG8odCxpLGUsbiksdD1qYShudWxsLHQsaSwhMCxvLG4pfWVsc2UgdC50YWc9MCxQYShudWxsLHQscixuKSx0PXQuY2hpbGQ7cmV0dXJuIHQ7Y2FzZSAxNjplOntpZihyPXQuZWxlbWVudFR5cGUsbnVsbCE9PWUmJihlLmFsdGVybmF0ZT1udWxsLHQuYWx0ZXJuYXRlPW51bGwsdC5lZmZlY3RUYWd8PTIpLGU9dC5wZW5kaW5nUHJvcHMsZnVuY3Rpb24oZSl7aWYoLTE9PT1lLl9zdGF0dXMpe2UuX3N0YXR1cz0wO3ZhciB0PWUuX2N0b3I7dD10KCksZS5fcmVzdWx0PXQsdC50aGVuKChmdW5jdGlvbih0KXswPT09ZS5fc3RhdHVzJiYodD10LmRlZmF1bHQsZS5fc3RhdHVzPTEsZS5fcmVzdWx0PXQpfSksKGZ1bmN0aW9uKHQpezA9PT1lLl9zdGF0dXMmJihlLl9zdGF0dXM9MixlLl9yZXN1bHQ9dCl9KSl9fShyKSwxIT09ci5fc3RhdHVzKXRocm93IHIuX3Jlc3VsdDtzd2l0Y2gocj1yLl9yZXN1bHQsdC50eXBlPXIsbz10LnRhZz1mdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBTbChlKT8xOjA7aWYobnVsbCE9ZSl7aWYoKGU9ZS4kJHR5cGVvZik9PT1sZSlyZXR1cm4gMTE7aWYoZT09PWhlKXJldHVybiAxNH1yZXR1cm4gMn0ociksZT1IcihyLGUpLG8pe2Nhc2UgMDp0PVJhKG51bGwsdCxyLGUsbik7YnJlYWsgZTtjYXNlIDE6dD1CYShudWxsLHQscixlLG4pO2JyZWFrIGU7Y2FzZSAxMTp0PXphKG51bGwsdCxyLGUsbik7YnJlYWsgZTtjYXNlIDE0OnQ9RGEobnVsbCx0LHIsSHIoci50eXBlLGUpLGksbik7YnJlYWsgZX10aHJvdyBFcnJvcihhKDMwNixyLFwiXCIpKX1yZXR1cm4gdDtjYXNlIDA6cmV0dXJuIGk9dC50eXBlLHI9dC5wZW5kaW5nUHJvcHMsUmEoZSx0LGkscj10LmVsZW1lbnRUeXBlPT09aT9yOkhyKGksciksbik7Y2FzZSAxOnJldHVybiBpPXQudHlwZSxyPXQucGVuZGluZ1Byb3BzLEJhKGUsdCxpLHI9dC5lbGVtZW50VHlwZT09PWk/cjpIcihpLHIpLG4pO2Nhc2UgMzppZihGYSh0KSxpPXQudXBkYXRlUXVldWUsbnVsbD09PWV8fG51bGw9PT1pKXRocm93IEVycm9yKGEoMjgyKSk7aWYoaT10LnBlbmRpbmdQcm9wcyxyPW51bGwhPT0ocj10Lm1lbW9pemVkU3RhdGUpP3IuZWxlbWVudDpudWxsLGFvKGUsdCksdW8odCxpLG51bGwsbiksKGk9dC5tZW1vaXplZFN0YXRlLmVsZW1lbnQpPT09cilDYSgpLHQ9SGEoZSx0LG4pO2Vsc2V7aWYoKHI9dC5zdGF0ZU5vZGUuaHlkcmF0ZSkmJihiYT1ibih0LnN0YXRlTm9kZS5jb250YWluZXJJbmZvLmZpcnN0Q2hpbGQpLHhhPXQscj13YT0hMCkscilmb3Iobj1Nbyh0LG51bGwsaSxuKSx0LmNoaWxkPW47bjspbi5lZmZlY3RUYWc9LTMmbi5lZmZlY3RUYWd8MTAyNCxuPW4uc2libGluZztlbHNlIFBhKGUsdCxpLG4pLENhKCk7dD10LmNoaWxkfXJldHVybiB0O2Nhc2UgNTpyZXR1cm4gTG8odCksbnVsbD09PWUmJlNhKHQpLGk9dC50eXBlLHI9dC5wZW5kaW5nUHJvcHMsbz1udWxsIT09ZT9lLm1lbW9pemVkUHJvcHM6bnVsbCxzPXIuY2hpbGRyZW4sX24oaSxyKT9zPW51bGw6bnVsbCE9PW8mJl9uKGksbykmJih0LmVmZmVjdFRhZ3w9MTYpLE9hKGUsdCksNCZ0Lm1vZGUmJjEhPT1uJiZyLmhpZGRlbj8odC5leHBpcmF0aW9uVGltZT10LmNoaWxkRXhwaXJhdGlvblRpbWU9MSx0PW51bGwpOihQYShlLHQscyxuKSx0PXQuY2hpbGQpLHQ7Y2FzZSA2OnJldHVybiBudWxsPT09ZSYmU2EodCksbnVsbDtjYXNlIDEzOnJldHVybiBaYShlLHQsbik7Y2FzZSA0OnJldHVybiB6byh0LHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pLGk9dC5wZW5kaW5nUHJvcHMsbnVsbD09PWU/dC5jaGlsZD1Tbyh0LG51bGwsaSxuKTpQYShlLHQsaSxuKSx0LmNoaWxkO2Nhc2UgMTE6cmV0dXJuIGk9dC50eXBlLHI9dC5wZW5kaW5nUHJvcHMsemEoZSx0LGkscj10LmVsZW1lbnRUeXBlPT09aT9yOkhyKGksciksbik7Y2FzZSA3OnJldHVybiBQYShlLHQsdC5wZW5kaW5nUHJvcHMsbiksdC5jaGlsZDtjYXNlIDg6Y2FzZSAxMjpyZXR1cm4gUGEoZSx0LHQucGVuZGluZ1Byb3BzLmNoaWxkcmVuLG4pLHQuY2hpbGQ7Y2FzZSAxMDplOntpPXQudHlwZS5fY29udGV4dCxyPXQucGVuZGluZ1Byb3BzLHM9dC5tZW1vaXplZFByb3BzLG89ci52YWx1ZTt2YXIgbD10LnR5cGUuX2NvbnRleHQ7aWYoY3IoWHIsbC5fY3VycmVudFZhbHVlKSxsLl9jdXJyZW50VmFsdWU9byxudWxsIT09cylpZihsPXMudmFsdWUsMD09PShvPUJpKGwsbyk/MDowfChcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLl9jYWxjdWxhdGVDaGFuZ2VkQml0cz9pLl9jYWxjdWxhdGVDaGFuZ2VkQml0cyhsLG8pOjEwNzM3NDE4MjMpKSl7aWYocy5jaGlsZHJlbj09PXIuY2hpbGRyZW4mJiFkci5jdXJyZW50KXt0PUhhKGUsdCxuKTticmVhayBlfX1lbHNlIGZvcihudWxsIT09KGw9dC5jaGlsZCkmJihsLnJldHVybj10KTtudWxsIT09bDspe3ZhciBjPWwuZGVwZW5kZW5jaWVzO2lmKG51bGwhPT1jKXtzPWwuY2hpbGQ7Zm9yKHZhciB1PWMuZmlyc3RDb250ZXh0O251bGwhPT11Oyl7aWYodS5jb250ZXh0PT09aSYmMCE9KHUub2JzZXJ2ZWRCaXRzJm8pKXsxPT09bC50YWcmJigodT1zbyhuLG51bGwpKS50YWc9MixsbyhsLHUpKSxsLmV4cGlyYXRpb25UaW1lPG4mJihsLmV4cGlyYXRpb25UaW1lPW4pLG51bGwhPT0odT1sLmFsdGVybmF0ZSkmJnUuZXhwaXJhdGlvblRpbWU8biYmKHUuZXhwaXJhdGlvblRpbWU9biksdG8obC5yZXR1cm4sbiksYy5leHBpcmF0aW9uVGltZTxuJiYoYy5leHBpcmF0aW9uVGltZT1uKTticmVha311PXUubmV4dH19ZWxzZSBzPTEwPT09bC50YWcmJmwudHlwZT09PXQudHlwZT9udWxsOmwuY2hpbGQ7aWYobnVsbCE9PXMpcy5yZXR1cm49bDtlbHNlIGZvcihzPWw7bnVsbCE9PXM7KXtpZihzPT09dCl7cz1udWxsO2JyZWFrfWlmKG51bGwhPT0obD1zLnNpYmxpbmcpKXtsLnJldHVybj1zLnJldHVybixzPWw7YnJlYWt9cz1zLnJldHVybn1sPXN9UGEoZSx0LHIuY2hpbGRyZW4sbiksdD10LmNoaWxkfXJldHVybiB0O2Nhc2UgOTpyZXR1cm4gcj10LnR5cGUsaT0obz10LnBlbmRpbmdQcm9wcykuY2hpbGRyZW4sbm8odCxuKSxpPWkocj1pbyhyLG8udW5zdGFibGVfb2JzZXJ2ZWRCaXRzKSksdC5lZmZlY3RUYWd8PTEsUGEoZSx0LGksbiksdC5jaGlsZDtjYXNlIDE0OnJldHVybiBvPUhyKHI9dC50eXBlLHQucGVuZGluZ1Byb3BzKSxEYShlLHQscixvPUhyKHIudHlwZSxvKSxpLG4pO2Nhc2UgMTU6cmV0dXJuIExhKGUsdCx0LnR5cGUsdC5wZW5kaW5nUHJvcHMsaSxuKTtjYXNlIDE3OnJldHVybiBpPXQudHlwZSxyPXQucGVuZGluZ1Byb3BzLHI9dC5lbGVtZW50VHlwZT09PWk/cjpIcihpLHIpLG51bGwhPT1lJiYoZS5hbHRlcm5hdGU9bnVsbCx0LmFsdGVybmF0ZT1udWxsLHQuZWZmZWN0VGFnfD0yKSx0LnRhZz0xLG1yKGkpPyhlPSEwLHZyKHQpKTplPSExLG5vKHQsbiksX28odCxpLHIpLHhvKHQsaSxyLG4pLGphKG51bGwsdCxpLCEwLGUsbik7Y2FzZSAxOTpyZXR1cm4gJGEoZSx0LG4pfXRocm93IEVycm9yKGEoMTU2LHQudGFnKSl9O3ZhciBibD1udWxsLHdsPW51bGw7ZnVuY3Rpb24gVGwoZSx0LG4saSl7dGhpcy50YWc9ZSx0aGlzLmtleT1uLHRoaXMuc2libGluZz10aGlzLmNoaWxkPXRoaXMucmV0dXJuPXRoaXMuc3RhdGVOb2RlPXRoaXMudHlwZT10aGlzLmVsZW1lbnRUeXBlPW51bGwsdGhpcy5pbmRleD0wLHRoaXMucmVmPW51bGwsdGhpcy5wZW5kaW5nUHJvcHM9dCx0aGlzLmRlcGVuZGVuY2llcz10aGlzLm1lbW9pemVkU3RhdGU9dGhpcy51cGRhdGVRdWV1ZT10aGlzLm1lbW9pemVkUHJvcHM9bnVsbCx0aGlzLm1vZGU9aSx0aGlzLmVmZmVjdFRhZz0wLHRoaXMubGFzdEVmZmVjdD10aGlzLmZpcnN0RWZmZWN0PXRoaXMubmV4dEVmZmVjdD1udWxsLHRoaXMuY2hpbGRFeHBpcmF0aW9uVGltZT10aGlzLmV4cGlyYXRpb25UaW1lPTAsdGhpcy5hbHRlcm5hdGU9bnVsbH1mdW5jdGlvbiBFbChlLHQsbixpKXtyZXR1cm4gbmV3IFRsKGUsdCxuLGkpfWZ1bmN0aW9uIFNsKGUpe3JldHVybiEoIShlPWUucHJvdG90eXBlKXx8IWUuaXNSZWFjdENvbXBvbmVudCl9ZnVuY3Rpb24gTWwoZSx0KXt2YXIgbj1lLmFsdGVybmF0ZTtyZXR1cm4gbnVsbD09PW4/KChuPUVsKGUudGFnLHQsZS5rZXksZS5tb2RlKSkuZWxlbWVudFR5cGU9ZS5lbGVtZW50VHlwZSxuLnR5cGU9ZS50eXBlLG4uc3RhdGVOb2RlPWUuc3RhdGVOb2RlLG4uYWx0ZXJuYXRlPWUsZS5hbHRlcm5hdGU9bik6KG4ucGVuZGluZ1Byb3BzPXQsbi5lZmZlY3RUYWc9MCxuLm5leHRFZmZlY3Q9bnVsbCxuLmZpcnN0RWZmZWN0PW51bGwsbi5sYXN0RWZmZWN0PW51bGwpLG4uY2hpbGRFeHBpcmF0aW9uVGltZT1lLmNoaWxkRXhwaXJhdGlvblRpbWUsbi5leHBpcmF0aW9uVGltZT1lLmV4cGlyYXRpb25UaW1lLG4uY2hpbGQ9ZS5jaGlsZCxuLm1lbW9pemVkUHJvcHM9ZS5tZW1vaXplZFByb3BzLG4ubWVtb2l6ZWRTdGF0ZT1lLm1lbW9pemVkU3RhdGUsbi51cGRhdGVRdWV1ZT1lLnVwZGF0ZVF1ZXVlLHQ9ZS5kZXBlbmRlbmNpZXMsbi5kZXBlbmRlbmNpZXM9bnVsbD09PXQ/bnVsbDp7ZXhwaXJhdGlvblRpbWU6dC5leHBpcmF0aW9uVGltZSxmaXJzdENvbnRleHQ6dC5maXJzdENvbnRleHQscmVzcG9uZGVyczp0LnJlc3BvbmRlcnN9LG4uc2libGluZz1lLnNpYmxpbmcsbi5pbmRleD1lLmluZGV4LG4ucmVmPWUucmVmLG59ZnVuY3Rpb24gSWwoZSx0LG4saSxyLG8pe3ZhciBzPTI7aWYoaT1lLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpU2woZSkmJihzPTEpO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcz01O2Vsc2UgZTpzd2l0Y2goZSl7Y2FzZSBuZTpyZXR1cm4gQ2wobi5jaGlsZHJlbixyLG8sdCk7Y2FzZSBzZTpzPTgscnw9NzticmVhaztjYXNlIGllOnM9OCxyfD0xO2JyZWFrO2Nhc2UgcmU6cmV0dXJuKGU9RWwoMTIsbix0LDh8cikpLmVsZW1lbnRUeXBlPXJlLGUudHlwZT1yZSxlLmV4cGlyYXRpb25UaW1lPW8sZTtjYXNlIGNlOnJldHVybihlPUVsKDEzLG4sdCxyKSkudHlwZT1jZSxlLmVsZW1lbnRUeXBlPWNlLGUuZXhwaXJhdGlvblRpbWU9byxlO2Nhc2UgdWU6cmV0dXJuKGU9RWwoMTksbix0LHIpKS5lbGVtZW50VHlwZT11ZSxlLmV4cGlyYXRpb25UaW1lPW8sZTtkZWZhdWx0OmlmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSlzd2l0Y2goZS4kJHR5cGVvZil7Y2FzZSBvZTpzPTEwO2JyZWFrIGU7Y2FzZSBhZTpzPTk7YnJlYWsgZTtjYXNlIGxlOnM9MTE7YnJlYWsgZTtjYXNlIGhlOnM9MTQ7YnJlYWsgZTtjYXNlIGRlOnM9MTYsaT1udWxsO2JyZWFrIGU7Y2FzZSBwZTpzPTIyO2JyZWFrIGV9dGhyb3cgRXJyb3IoYSgxMzAsbnVsbD09ZT9lOnR5cGVvZiBlLFwiXCIpKX1yZXR1cm4odD1FbChzLG4sdCxyKSkuZWxlbWVudFR5cGU9ZSx0LnR5cGU9aSx0LmV4cGlyYXRpb25UaW1lPW8sdH1mdW5jdGlvbiBDbChlLHQsbixpKXtyZXR1cm4oZT1FbCg3LGUsaSx0KSkuZXhwaXJhdGlvblRpbWU9bixlfWZ1bmN0aW9uIGtsKGUsdCxuKXtyZXR1cm4oZT1FbCg2LGUsbnVsbCx0KSkuZXhwaXJhdGlvblRpbWU9bixlfWZ1bmN0aW9uIEFsKGUsdCxuKXtyZXR1cm4odD1FbCg0LG51bGwhPT1lLmNoaWxkcmVuP2UuY2hpbGRyZW46W10sZS5rZXksdCkpLmV4cGlyYXRpb25UaW1lPW4sdC5zdGF0ZU5vZGU9e2NvbnRhaW5lckluZm86ZS5jb250YWluZXJJbmZvLHBlbmRpbmdDaGlsZHJlbjpudWxsLGltcGxlbWVudGF0aW9uOmUuaW1wbGVtZW50YXRpb259LHR9ZnVuY3Rpb24gUGwoZSx0LG4pe3RoaXMudGFnPXQsdGhpcy5jdXJyZW50PW51bGwsdGhpcy5jb250YWluZXJJbmZvPWUsdGhpcy5waW5nQ2FjaGU9dGhpcy5wZW5kaW5nQ2hpbGRyZW49bnVsbCx0aGlzLmZpbmlzaGVkRXhwaXJhdGlvblRpbWU9MCx0aGlzLmZpbmlzaGVkV29yaz1udWxsLHRoaXMudGltZW91dEhhbmRsZT0tMSx0aGlzLnBlbmRpbmdDb250ZXh0PXRoaXMuY29udGV4dD1udWxsLHRoaXMuaHlkcmF0ZT1uLHRoaXMuY2FsbGJhY2tOb2RlPW51bGwsdGhpcy5jYWxsYmFja1ByaW9yaXR5PTkwLHRoaXMubGFzdEV4cGlyZWRUaW1lPXRoaXMubGFzdFBpbmdlZFRpbWU9dGhpcy5uZXh0S25vd25QZW5kaW5nTGV2ZWw9dGhpcy5sYXN0U3VzcGVuZGVkVGltZT10aGlzLmZpcnN0U3VzcGVuZGVkVGltZT10aGlzLmZpcnN0UGVuZGluZ1RpbWU9MH1mdW5jdGlvbiB6bChlLHQpe3ZhciBuPWUuZmlyc3RTdXNwZW5kZWRUaW1lO3JldHVybiBlPWUubGFzdFN1c3BlbmRlZFRpbWUsMCE9PW4mJm4+PXQmJmU8PXR9ZnVuY3Rpb24gRGwoZSx0KXt2YXIgbj1lLmZpcnN0U3VzcGVuZGVkVGltZSxpPWUubGFzdFN1c3BlbmRlZFRpbWU7bjx0JiYoZS5maXJzdFN1c3BlbmRlZFRpbWU9dCksKGk+dHx8MD09PW4pJiYoZS5sYXN0U3VzcGVuZGVkVGltZT10KSx0PD1lLmxhc3RQaW5nZWRUaW1lJiYoZS5sYXN0UGluZ2VkVGltZT0wKSx0PD1lLmxhc3RFeHBpcmVkVGltZSYmKGUubGFzdEV4cGlyZWRUaW1lPTApfWZ1bmN0aW9uIExsKGUsdCl7dD5lLmZpcnN0UGVuZGluZ1RpbWUmJihlLmZpcnN0UGVuZGluZ1RpbWU9dCk7dmFyIG49ZS5maXJzdFN1c3BlbmRlZFRpbWU7MCE9PW4mJih0Pj1uP2UuZmlyc3RTdXNwZW5kZWRUaW1lPWUubGFzdFN1c3BlbmRlZFRpbWU9ZS5uZXh0S25vd25QZW5kaW5nTGV2ZWw9MDp0Pj1lLmxhc3RTdXNwZW5kZWRUaW1lJiYoZS5sYXN0U3VzcGVuZGVkVGltZT10KzEpLHQ+ZS5uZXh0S25vd25QZW5kaW5nTGV2ZWwmJihlLm5leHRLbm93blBlbmRpbmdMZXZlbD10KSl9ZnVuY3Rpb24gT2woZSx0KXt2YXIgbj1lLmxhc3RFeHBpcmVkVGltZTsoMD09PW58fG4+dCkmJihlLmxhc3RFeHBpcmVkVGltZT10KX1mdW5jdGlvbiBSbChlLHQsbixpKXt2YXIgcj10LmN1cnJlbnQsbz1xcygpLHM9cG8uc3VzcGVuc2U7bz0kcyhvLHIscyk7ZTppZihuKXt0OntpZihLZShuPW4uX3JlYWN0SW50ZXJuYWxGaWJlcikhPT1ufHwxIT09bi50YWcpdGhyb3cgRXJyb3IoYSgxNzApKTt2YXIgbD1uO2Rve3N3aXRjaChsLnRhZyl7Y2FzZSAzOmw9bC5zdGF0ZU5vZGUuY29udGV4dDticmVhayB0O2Nhc2UgMTppZihtcihsLnR5cGUpKXtsPWwuc3RhdGVOb2RlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0O2JyZWFrIHR9fWw9bC5yZXR1cm59d2hpbGUobnVsbCE9PWwpO3Rocm93IEVycm9yKGEoMTcxKSl9aWYoMT09PW4udGFnKXt2YXIgYz1uLnR5cGU7aWYobXIoYykpe249X3IobixjLGwpO2JyZWFrIGV9fW49bH1lbHNlIG49dXI7cmV0dXJuIG51bGw9PT10LmNvbnRleHQ/dC5jb250ZXh0PW46dC5wZW5kaW5nQ29udGV4dD1uLCh0PXNvKG8scykpLnBheWxvYWQ9e2VsZW1lbnQ6ZX0sbnVsbCE9PShpPXZvaWQgMD09PWk/bnVsbDppKSYmKHQuY2FsbGJhY2s9aSksbG8ocix0KSxIcyhyLG8pLG99ZnVuY3Rpb24gQmwoZSl7aWYoIShlPWUuY3VycmVudCkuY2hpbGQpcmV0dXJuIG51bGw7c3dpdGNoKGUuY2hpbGQudGFnKXtjYXNlIDU6ZGVmYXVsdDpyZXR1cm4gZS5jaGlsZC5zdGF0ZU5vZGV9fWZ1bmN0aW9uIGpsKGUsdCl7bnVsbCE9PShlPWUubWVtb2l6ZWRTdGF0ZSkmJm51bGwhPT1lLmRlaHlkcmF0ZWQmJmUucmV0cnlUaW1lPHQmJihlLnJldHJ5VGltZT10KX1mdW5jdGlvbiBGbChlLHQpe2psKGUsdCksKGU9ZS5hbHRlcm5hdGUpJiZqbChlLHQpfWZ1bmN0aW9uIE5sKGUsdCxuKXt2YXIgaT1uZXcgUGwoZSx0LG49bnVsbCE9biYmITA9PT1uLmh5ZHJhdGUpLHI9RWwoMyxudWxsLG51bGwsMj09PXQ/NzoxPT09dD8zOjApO2kuY3VycmVudD1yLHIuc3RhdGVOb2RlPWksb28ociksZVtNbl09aS5jdXJyZW50LG4mJjAhPT10JiZmdW5jdGlvbihlLHQpe3ZhciBuPVFlKHQpO010LmZvckVhY2goKGZ1bmN0aW9uKGUpe2Z0KGUsdCxuKX0pKSxJdC5mb3JFYWNoKChmdW5jdGlvbihlKXtmdChlLHQsbil9KSl9KDAsOT09PWUubm9kZVR5cGU/ZTplLm93bmVyRG9jdW1lbnQpLHRoaXMuX2ludGVybmFsUm9vdD1pfWZ1bmN0aW9uIFVsKGUpe3JldHVybiEoIWV8fDEhPT1lLm5vZGVUeXBlJiY5IT09ZS5ub2RlVHlwZSYmMTEhPT1lLm5vZGVUeXBlJiYoOCE9PWUubm9kZVR5cGV8fFwiIHJlYWN0LW1vdW50LXBvaW50LXVuc3RhYmxlIFwiIT09ZS5ub2RlVmFsdWUpKX1mdW5jdGlvbiBWbChlLHQsbixpLHIpe3ZhciBvPW4uX3JlYWN0Um9vdENvbnRhaW5lcjtpZihvKXt2YXIgYT1vLl9pbnRlcm5hbFJvb3Q7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygcil7dmFyIHM9cjtyPWZ1bmN0aW9uKCl7dmFyIGU9QmwoYSk7cy5jYWxsKGUpfX1SbCh0LGEsZSxyKX1lbHNle2lmKG89bi5fcmVhY3RSb290Q29udGFpbmVyPWZ1bmN0aW9uKGUsdCl7aWYodHx8KHQ9ISghKHQ9ZT85PT09ZS5ub2RlVHlwZT9lLmRvY3VtZW50RWxlbWVudDplLmZpcnN0Q2hpbGQ6bnVsbCl8fDEhPT10Lm5vZGVUeXBlfHwhdC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXJlYWN0cm9vdFwiKSkpLCF0KWZvcih2YXIgbjtuPWUubGFzdENoaWxkOyllLnJlbW92ZUNoaWxkKG4pO3JldHVybiBuZXcgTmwoZSwwLHQ/e2h5ZHJhdGU6ITB9OnZvaWQgMCl9KG4saSksYT1vLl9pbnRlcm5hbFJvb3QsXCJmdW5jdGlvblwiPT10eXBlb2Ygcil7dmFyIGw9cjtyPWZ1bmN0aW9uKCl7dmFyIGU9QmwoYSk7bC5jYWxsKGUpfX10bCgoZnVuY3Rpb24oKXtSbCh0LGEsZSxyKX0pKX1yZXR1cm4gQmwoYSl9ZnVuY3Rpb24gR2woZSx0LG4pe3ZhciBpPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpudWxsO3JldHVybnskJHR5cGVvZjp0ZSxrZXk6bnVsbD09aT9udWxsOlwiXCIraSxjaGlsZHJlbjplLGNvbnRhaW5lckluZm86dCxpbXBsZW1lbnRhdGlvbjpufX1mdW5jdGlvbiBabChlLHQpe3ZhciBuPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsO2lmKCFVbCh0KSl0aHJvdyBFcnJvcihhKDIwMCkpO3JldHVybiBHbChlLHQsbnVsbCxuKX1ObC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUpe1JsKGUsdGhpcy5faW50ZXJuYWxSb290LG51bGwsbnVsbCl9LE5sLnByb3RvdHlwZS51bm1vdW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5faW50ZXJuYWxSb290LHQ9ZS5jb250YWluZXJJbmZvO1JsKG51bGwsZSxudWxsLChmdW5jdGlvbigpe3RbTW5dPW51bGx9KSl9LG10PWZ1bmN0aW9uKGUpe2lmKDEzPT09ZS50YWcpe3ZhciB0PSRyKHFzKCksMTUwLDEwMCk7SHMoZSx0KSxGbChlLHQpfX0sZ3Q9ZnVuY3Rpb24oZSl7MTM9PT1lLnRhZyYmKEhzKGUsMyksRmwoZSwzKSl9LHl0PWZ1bmN0aW9uKGUpe2lmKDEzPT09ZS50YWcpe3ZhciB0PXFzKCk7SHMoZSx0PSRzKHQsZSxudWxsKSksRmwoZSx0KX19LEM9ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaCh0KXtjYXNlXCJpbnB1dFwiOmlmKFNlKGUsbiksdD1uLm5hbWUsXCJyYWRpb1wiPT09bi50eXBlJiZudWxsIT10KXtmb3Iobj1lO24ucGFyZW50Tm9kZTspbj1uLnBhcmVudE5vZGU7Zm9yKG49bi5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbbmFtZT1cIitKU09OLnN0cmluZ2lmeShcIlwiK3QpKyddW3R5cGU9XCJyYWRpb1wiXScpLHQ9MDt0PG4ubGVuZ3RoO3QrKyl7dmFyIGk9blt0XTtpZihpIT09ZSYmaS5mb3JtPT09ZS5mb3JtKXt2YXIgcj1BbihpKTtpZighcil0aHJvdyBFcnJvcihhKDkwKSk7YmUoaSksU2UoaSxyKX19fWJyZWFrO2Nhc2VcInRleHRhcmVhXCI6emUoZSxuKTticmVhaztjYXNlXCJzZWxlY3RcIjpudWxsIT0odD1uLnZhbHVlKSYma2UoZSwhIW4ubXVsdGlwbGUsdCwhMSl9fSxMPWVsLE89ZnVuY3Rpb24oZSx0LG4saSxyKXt2YXIgbz1UcztUc3w9NDt0cnl7cmV0dXJuIFZyKDk4LGUuYmluZChudWxsLHQsbixpLHIpKX1maW5hbGx5ezA9PT0oVHM9bykmJldyKCl9fSxSPWZ1bmN0aW9uKCl7MD09KDQ5JlRzKSYmKGZ1bmN0aW9uKCl7aWYobnVsbCE9PVZzKXt2YXIgZT1WcztWcz1udWxsLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtPbCh0LGUpLEpzKHQpfSkpLFdyKCl9fSgpLG1sKCkpfSxCPWZ1bmN0aW9uKGUsdCl7dmFyIG49VHM7VHN8PTI7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7MD09PShUcz1uKSYmV3IoKX19O3ZhciBXbD17RXZlbnRzOltDbixrbixBbixNLFQsQm4sZnVuY3Rpb24oZSl7cnQoZSxSbil9LHosRCxKdCxzdCxtbCx7Y3VycmVudDohMX1dfTshZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maW5kRmliZXJCeUhvc3RJbnN0YW5jZTsoZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXylyZXR1cm4hMTt2YXIgdD1fX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX187aWYodC5pc0Rpc2FibGVkfHwhdC5zdXBwb3J0c0ZpYmVyKXJldHVybiEwO3RyeXt2YXIgbj10LmluamVjdChlKTtibD1mdW5jdGlvbihlKXt0cnl7dC5vbkNvbW1pdEZpYmVyUm9vdChuLGUsdm9pZCAwLDY0PT0oNjQmZS5jdXJyZW50LmVmZmVjdFRhZykpfWNhdGNoKGUpe319LHdsPWZ1bmN0aW9uKGUpe3RyeXt0Lm9uQ29tbWl0RmliZXJVbm1vdW50KG4sZSl9Y2F0Y2goZSl7fX19Y2F0Y2goZSl7fX0pKHIoe30sZSx7b3ZlcnJpZGVIb29rU3RhdGU6bnVsbCxvdmVycmlkZVByb3BzOm51bGwsc2V0U3VzcGVuc2VIYW5kbGVyOm51bGwsc2NoZWR1bGVVcGRhdGU6bnVsbCxjdXJyZW50RGlzcGF0Y2hlclJlZjpZLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsZmluZEhvc3RJbnN0YW5jZUJ5RmliZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT0oZT1udChlKSk/bnVsbDplLnN0YXRlTm9kZX0sZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHQ/dChlKTpudWxsfSxmaW5kSG9zdEluc3RhbmNlc0ZvclJlZnJlc2g6bnVsbCxzY2hlZHVsZVJlZnJlc2g6bnVsbCxzY2hlZHVsZVJvb3Q6bnVsbCxzZXRSZWZyZXNoSGFuZGxlcjpudWxsLGdldEN1cnJlbnRGaWJlcjpudWxsfSkpfSh7ZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6SW4sYnVuZGxlVHlwZTowLHZlcnNpb246XCIxNi4xNC4wXCIscmVuZGVyZXJQYWNrYWdlTmFtZTpcInJlYWN0LWRvbVwifSksdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRD1XbCx0LmNyZWF0ZVBvcnRhbD1abCx0LmZpbmRET01Ob2RlPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aWYoMT09PWUubm9kZVR5cGUpcmV0dXJuIGU7dmFyIHQ9ZS5fcmVhY3RJbnRlcm5hbEZpYmVyO2lmKHZvaWQgMD09PXQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUucmVuZGVyKXRocm93IEVycm9yKGEoMTg4KSk7dGhyb3cgRXJyb3IoYSgyNjgsT2JqZWN0LmtleXMoZSkpKX1yZXR1cm4gZT1udWxsPT09KGU9bnQodCkpP251bGw6ZS5zdGF0ZU5vZGV9LHQuZmx1c2hTeW5jPWZ1bmN0aW9uKGUsdCl7aWYoMCE9KDQ4JlRzKSl0aHJvdyBFcnJvcihhKDE4NykpO3ZhciBuPVRzO1RzfD0xO3RyeXtyZXR1cm4gVnIoOTksZS5iaW5kKG51bGwsdCkpfWZpbmFsbHl7VHM9bixXcigpfX0sdC5oeWRyYXRlPWZ1bmN0aW9uKGUsdCxuKXtpZighVWwodCkpdGhyb3cgRXJyb3IoYSgyMDApKTtyZXR1cm4gVmwobnVsbCxlLHQsITAsbil9LHQucmVuZGVyPWZ1bmN0aW9uKGUsdCxuKXtpZighVWwodCkpdGhyb3cgRXJyb3IoYSgyMDApKTtyZXR1cm4gVmwobnVsbCxlLHQsITEsbil9LHQudW5tb3VudENvbXBvbmVudEF0Tm9kZT1mdW5jdGlvbihlKXtpZighVWwoZSkpdGhyb3cgRXJyb3IoYSg0MCkpO3JldHVybiEhZS5fcmVhY3RSb290Q29udGFpbmVyJiYodGwoKGZ1bmN0aW9uKCl7VmwobnVsbCxudWxsLGUsITEsKGZ1bmN0aW9uKCl7ZS5fcmVhY3RSb290Q29udGFpbmVyPW51bGwsZVtNbl09bnVsbH0pKX0pKSwhMCl9LHQudW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXM9ZWwsdC51bnN0YWJsZV9jcmVhdGVQb3J0YWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWmwoZSx0LDI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsKX0sdC51bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcj1mdW5jdGlvbihlLHQsbixpKXtpZighVWwobikpdGhyb3cgRXJyb3IoYSgyMDApKTtpZihudWxsPT1lfHx2b2lkIDA9PT1lLl9yZWFjdEludGVybmFsRmliZXIpdGhyb3cgRXJyb3IoYSgzOCkpO3JldHVybiBWbChlLHQsbiwhMSxpKX0sdC52ZXJzaW9uPVwiMTYuMTQuMFwifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPW4oNzIpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscixvLGEscztpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBNZXNzYWdlQ2hhbm5lbCl7dmFyIGw9bnVsbCxjPW51bGwsdT1mdW5jdGlvbigpe2lmKG51bGwhPT1sKXRyeXt2YXIgZT10LnVuc3RhYmxlX25vdygpO2woITAsZSksbD1udWxsfWNhdGNoKGUpe3Rocm93IHNldFRpbWVvdXQodSwwKSxlfX0saD1EYXRlLm5vdygpO3QudW5zdGFibGVfbm93PWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktaH0saT1mdW5jdGlvbihlKXtudWxsIT09bD9zZXRUaW1lb3V0KGksMCxlKToobD1lLHNldFRpbWVvdXQodSwwKSl9LHI9ZnVuY3Rpb24oZSx0KXtjPXNldFRpbWVvdXQoZSx0KX0sbz1mdW5jdGlvbigpe2NsZWFyVGltZW91dChjKX0sYT1mdW5jdGlvbigpe3JldHVybiExfSxzPXQudW5zdGFibGVfZm9yY2VGcmFtZVJhdGU9ZnVuY3Rpb24oKXt9fWVsc2V7dmFyIGQ9d2luZG93LnBlcmZvcm1hbmNlLHA9d2luZG93LkRhdGUsZj13aW5kb3cuc2V0VGltZW91dCxtPXdpbmRvdy5jbGVhclRpbWVvdXQ7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUpe3ZhciBnPXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZTtcImZ1bmN0aW9uXCIhPXR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lJiZjb25zb2xlLmVycm9yKFwiVGhpcyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuIE1ha2Ugc3VyZSB0aGF0IHlvdSBsb2FkIGEgcG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vZmIubWUvcmVhY3QtcG9seWZpbGxzXCIpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGcmJmNvbnNvbGUuZXJyb3IoXCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGNhbmNlbEFuaW1hdGlvbkZyYW1lLiBNYWtlIHN1cmUgdGhhdCB5b3UgbG9hZCBhIHBvbHlmaWxsIGluIG9sZGVyIGJyb3dzZXJzLiBodHRwczovL2ZiLm1lL3JlYWN0LXBvbHlmaWxsc1wiKX1pZihcIm9iamVjdFwiPT10eXBlb2YgZCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZC5ub3cpdC51bnN0YWJsZV9ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gZC5ub3coKX07ZWxzZXt2YXIgeT1wLm5vdygpO3QudW5zdGFibGVfbm93PWZ1bmN0aW9uKCl7cmV0dXJuIHAubm93KCkteX19dmFyIF89ITEsdj1udWxsLHg9LTEsYj01LHc9MDthPWZ1bmN0aW9uKCl7cmV0dXJuIHQudW5zdGFibGVfbm93KCk+PXd9LHM9ZnVuY3Rpb24oKXt9LHQudW5zdGFibGVfZm9yY2VGcmFtZVJhdGU9ZnVuY3Rpb24oZSl7MD5lfHwxMjU8ZT9jb25zb2xlLmVycm9yKFwiZm9yY2VGcmFtZVJhdGUgdGFrZXMgYSBwb3NpdGl2ZSBpbnQgYmV0d2VlbiAwIGFuZCAxMjUsIGZvcmNpbmcgZnJhbWVyYXRlcyBoaWdoZXIgdGhhbiAxMjUgZnBzIGlzIG5vdCB1bnN1cHBvcnRlZFwiKTpiPTA8ZT9NYXRoLmZsb29yKDFlMy9lKTo1fTt2YXIgVD1uZXcgTWVzc2FnZUNoYW5uZWwsRT1ULnBvcnQyO1QucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXYpe3ZhciBlPXQudW5zdGFibGVfbm93KCk7dz1lK2I7dHJ5e3YoITAsZSk/RS5wb3N0TWVzc2FnZShudWxsKTooXz0hMSx2PW51bGwpfWNhdGNoKGUpe3Rocm93IEUucG9zdE1lc3NhZ2UobnVsbCksZX19ZWxzZSBfPSExfSxpPWZ1bmN0aW9uKGUpe3Y9ZSxffHwoXz0hMCxFLnBvc3RNZXNzYWdlKG51bGwpKX0scj1mdW5jdGlvbihlLG4pe3g9ZigoZnVuY3Rpb24oKXtlKHQudW5zdGFibGVfbm93KCkpfSksbil9LG89ZnVuY3Rpb24oKXttKHgpLHg9LTF9fWZ1bmN0aW9uIFMoZSx0KXt2YXIgbj1lLmxlbmd0aDtlLnB1c2godCk7ZTpmb3IoOzspe3ZhciBpPW4tMT4+PjEscj1lW2ldO2lmKCEodm9pZCAwIT09ciYmMDxDKHIsdCkpKWJyZWFrIGU7ZVtpXT10LGVbbl09cixuPWl9fWZ1bmN0aW9uIE0oZSl7cmV0dXJuIHZvaWQgMD09PShlPWVbMF0pP251bGw6ZX1mdW5jdGlvbiBJKGUpe3ZhciB0PWVbMF07aWYodm9pZCAwIT09dCl7dmFyIG49ZS5wb3AoKTtpZihuIT09dCl7ZVswXT1uO2U6Zm9yKHZhciBpPTAscj1lLmxlbmd0aDtpPHI7KXt2YXIgbz0yKihpKzEpLTEsYT1lW29dLHM9bysxLGw9ZVtzXTtpZih2b2lkIDAhPT1hJiYwPkMoYSxuKSl2b2lkIDAhPT1sJiYwPkMobCxhKT8oZVtpXT1sLGVbc109bixpPXMpOihlW2ldPWEsZVtvXT1uLGk9byk7ZWxzZXtpZighKHZvaWQgMCE9PWwmJjA+QyhsLG4pKSlicmVhayBlO2VbaV09bCxlW3NdPW4saT1zfX19cmV0dXJuIHR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gQyhlLHQpe3ZhciBuPWUuc29ydEluZGV4LXQuc29ydEluZGV4O3JldHVybiAwIT09bj9uOmUuaWQtdC5pZH12YXIgaz1bXSxBPVtdLFA9MSx6PW51bGwsRD0zLEw9ITEsTz0hMSxSPSExO2Z1bmN0aW9uIEIoZSl7Zm9yKHZhciB0PU0oQSk7bnVsbCE9PXQ7KXtpZihudWxsPT09dC5jYWxsYmFjaylJKEEpO2Vsc2V7aWYoISh0LnN0YXJ0VGltZTw9ZSkpYnJlYWs7SShBKSx0LnNvcnRJbmRleD10LmV4cGlyYXRpb25UaW1lLFMoayx0KX10PU0oQSl9fWZ1bmN0aW9uIGooZSl7aWYoUj0hMSxCKGUpLCFPKWlmKG51bGwhPT1NKGspKU89ITAsaShGKTtlbHNle3ZhciB0PU0oQSk7bnVsbCE9PXQmJnIoaix0LnN0YXJ0VGltZS1lKX19ZnVuY3Rpb24gRihlLG4pe089ITEsUiYmKFI9ITEsbygpKSxMPSEwO3ZhciBpPUQ7dHJ5e2ZvcihCKG4pLHo9TShrKTtudWxsIT09eiYmKCEoei5leHBpcmF0aW9uVGltZT5uKXx8ZSYmIWEoKSk7KXt2YXIgcz16LmNhbGxiYWNrO2lmKG51bGwhPT1zKXt6LmNhbGxiYWNrPW51bGwsRD16LnByaW9yaXR5TGV2ZWw7dmFyIGw9cyh6LmV4cGlyYXRpb25UaW1lPD1uKTtuPXQudW5zdGFibGVfbm93KCksXCJmdW5jdGlvblwiPT10eXBlb2YgbD96LmNhbGxiYWNrPWw6ej09PU0oaykmJkkoayksQihuKX1lbHNlIEkoayk7ej1NKGspfWlmKG51bGwhPT16KXZhciBjPSEwO2Vsc2V7dmFyIHU9TShBKTtudWxsIT09dSYmcihqLHUuc3RhcnRUaW1lLW4pLGM9ITF9cmV0dXJuIGN9ZmluYWxseXt6PW51bGwsRD1pLEw9ITF9fWZ1bmN0aW9uIE4oZSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4tMTtjYXNlIDI6cmV0dXJuIDI1MDtjYXNlIDU6cmV0dXJuIDEwNzM3NDE4MjM7Y2FzZSA0OnJldHVybiAxZTQ7ZGVmYXVsdDpyZXR1cm4gNWUzfX12YXIgVT1zO3QudW5zdGFibGVfSWRsZVByaW9yaXR5PTUsdC51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eT0xLHQudW5zdGFibGVfTG93UHJpb3JpdHk9NCx0LnVuc3RhYmxlX05vcm1hbFByaW9yaXR5PTMsdC51bnN0YWJsZV9Qcm9maWxpbmc9bnVsbCx0LnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5PTIsdC51bnN0YWJsZV9jYW5jZWxDYWxsYmFjaz1mdW5jdGlvbihlKXtlLmNhbGxiYWNrPW51bGx9LHQudW5zdGFibGVfY29udGludWVFeGVjdXRpb249ZnVuY3Rpb24oKXtPfHxMfHwoTz0hMCxpKEYpKX0sdC51bnN0YWJsZV9nZXRDdXJyZW50UHJpb3JpdHlMZXZlbD1mdW5jdGlvbigpe3JldHVybiBEfSx0LnVuc3RhYmxlX2dldEZpcnN0Q2FsbGJhY2tOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIE0oayl9LHQudW5zdGFibGVfbmV4dD1mdW5jdGlvbihlKXtzd2l0Y2goRCl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6dmFyIHQ9MzticmVhaztkZWZhdWx0OnQ9RH12YXIgbj1EO0Q9dDt0cnl7cmV0dXJuIGUoKX1maW5hbGx5e0Q9bn19LHQudW5zdGFibGVfcGF1c2VFeGVjdXRpb249ZnVuY3Rpb24oKXt9LHQudW5zdGFibGVfcmVxdWVzdFBhaW50PVUsdC51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHk9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpicmVhaztkZWZhdWx0OmU9M312YXIgbj1EO0Q9ZTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e0Q9bn19LHQudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjaz1mdW5jdGlvbihlLG4sYSl7dmFyIHM9dC51bnN0YWJsZV9ub3coKTtpZihcIm9iamVjdFwiPT10eXBlb2YgYSYmbnVsbCE9PWEpe3ZhciBsPWEuZGVsYXk7bD1cIm51bWJlclwiPT10eXBlb2YgbCYmMDxsP3MrbDpzLGE9XCJudW1iZXJcIj09dHlwZW9mIGEudGltZW91dD9hLnRpbWVvdXQ6TihlKX1lbHNlIGE9TihlKSxsPXM7cmV0dXJuIGU9e2lkOlArKyxjYWxsYmFjazpuLHByaW9yaXR5TGV2ZWw6ZSxzdGFydFRpbWU6bCxleHBpcmF0aW9uVGltZTphPWwrYSxzb3J0SW5kZXg6LTF9LGw+cz8oZS5zb3J0SW5kZXg9bCxTKEEsZSksbnVsbD09PU0oaykmJmU9PT1NKEEpJiYoUj9vKCk6Uj0hMCxyKGosbC1zKSkpOihlLnNvcnRJbmRleD1hLFMoayxlKSxPfHxMfHwoTz0hMCxpKEYpKSksZX0sdC51bnN0YWJsZV9zaG91bGRZaWVsZD1mdW5jdGlvbigpe3ZhciBlPXQudW5zdGFibGVfbm93KCk7QihlKTt2YXIgbj1NKGspO3JldHVybiBuIT09eiYmbnVsbCE9PXomJm51bGwhPT1uJiZudWxsIT09bi5jYWxsYmFjayYmbi5zdGFydFRpbWU8PWUmJm4uZXhwaXJhdGlvblRpbWU8ei5leHBpcmF0aW9uVGltZXx8YSgpfSx0LnVuc3RhYmxlX3dyYXBDYWxsYmFjaz1mdW5jdGlvbihlKXt2YXIgdD1EO3JldHVybiBmdW5jdGlvbigpe3ZhciBuPUQ7RD10O3RyeXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZmluYWxseXtEPW59fX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKDE1KS5kZWZhdWx0O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPT1pKGUpfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKGUsdHx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPT1pKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLGkscj17fSxvPU9iamVjdC5rZXlzKGUpO2ZvcihpPTA7aTxvLmxlbmd0aDtpKyspbj1vW2ldLHQuaW5kZXhPZihuKT49MHx8KHJbbl09ZVtuXSk7cmV0dXJuIHJ9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oNzYpO2Z1bmN0aW9uIHIoZSl7cmV0dXJuITA9PT1pKGUpJiZcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiExIT09cihlKSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mKHQ9ZS5jb25zdHJ1Y3RvcikmJighMSE9PXIobj10LnByb3RvdHlwZSkmJiExIT09bi5oYXNPd25Qcm9wZXJ0eShcImlzUHJvdG90eXBlT2ZcIikpKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYhMT09PUFycmF5LmlzQXJyYXkoZSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZXMsbj12b2lkIDA9PT10P3t4czowLHNtOjYwMCxtZDo5NjAsbGc6MTI4MCx4bDoxOTIwfTp0LGk9ZS51bml0LHM9dm9pZCAwPT09aT9cInB4XCI6aSxsPWUuc3RlcCxjPXZvaWQgMD09PWw/NTpsLHU9KDAsby5kZWZhdWx0KShlLFtcInZhbHVlc1wiLFwidW5pdFwiLFwic3RlcFwiXSk7ZnVuY3Rpb24gaChlKXt2YXIgdD1cIm51bWJlclwiPT10eXBlb2YgbltlXT9uW2VdOmU7cmV0dXJuXCJAbWVkaWEgKG1pbi13aWR0aDpcIi5jb25jYXQodCkuY29uY2F0KHMsXCIpXCIpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgaT1hLmluZGV4T2YodCkrMTtyZXR1cm4gaT09PWEubGVuZ3RoP2goZSk6XCJAbWVkaWEgKG1pbi13aWR0aDpcIi5jb25jYXQobltlXSkuY29uY2F0KHMsXCIpIGFuZCBcIikrXCIobWF4LXdpZHRoOlwiLmNvbmNhdChuW2FbaV1dLWMvMTAwKS5jb25jYXQocyxcIilcIil9cmV0dXJuKDAsci5kZWZhdWx0KSh7a2V5czphLHZhbHVlczpuLHVwOmgsZG93bjpmdW5jdGlvbihlKXt2YXIgdD1hLmluZGV4T2YoZSkrMSxpPW5bYVt0XV07cmV0dXJuIHQ9PT1hLmxlbmd0aD9oKFwieHNcIik6XCJAbWVkaWEgKG1heC13aWR0aDpcIi5jb25jYXQoKFwibnVtYmVyXCI9PXR5cGVvZiBpJiZ0PjA/aTplKS1jLzEwMCkuY29uY2F0KHMsXCIpXCIpfSxiZXR3ZWVuOmQsb25seTpmdW5jdGlvbihlKXtyZXR1cm4gZChlLGUpfSx3aWR0aDpmdW5jdGlvbihlKXtyZXR1cm4gbltlXX19LHUpfSx0LmtleXM9dm9pZCAwO3ZhciByPWkobigyKSksbz1pKG4oNCkpLGE9W1wieHNcIixcInNtXCIsXCJtZFwiLFwibGdcIixcInhsXCJdO3Qua2V5cz1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpO3JldHVybigwLG8uZGVmYXVsdCkoe2d1dHRlcnM6ZnVuY3Rpb24oKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuKDAsby5kZWZhdWx0KSh7cGFkZGluZ0xlZnQ6Mip0LnVuaXQscGFkZGluZ1JpZ2h0OjIqdC51bml0fSxuLCgwLHIuZGVmYXVsdCkoe30sZS51cChcInNtXCIpLCgwLG8uZGVmYXVsdCkoe3BhZGRpbmdMZWZ0OjMqdC51bml0LHBhZGRpbmdSaWdodDozKnQudW5pdH0sbltlLnVwKFwic21cIildKSkpfSx0b29sYmFyOihpPXttaW5IZWlnaHQ6NTZ9LCgwLHIuZGVmYXVsdCkoaSxcIlwiLmNvbmNhdChlLnVwKFwieHNcIiksXCIgYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKVwiKSx7bWluSGVpZ2h0OjQ4fSksKDAsci5kZWZhdWx0KShpLGUudXAoXCJzbVwiKSx7bWluSGVpZ2h0OjY0fSksaSl9LG4pfTt2YXIgcj1pKG4oNSkpLG89aShuKDIpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUucHJpbWFyeSxuPXZvaWQgMD09PXQ/e2xpZ2h0OnMuZGVmYXVsdFszMDBdLG1haW46cy5kZWZhdWx0WzUwMF0sZGFyazpzLmRlZmF1bHRbNzAwXX06dCxpPWUuc2Vjb25kYXJ5LGc9dm9pZCAwPT09aT97bGlnaHQ6bC5kZWZhdWx0LkEyMDAsbWFpbjpsLmRlZmF1bHQuQTQwMCxkYXJrOmwuZGVmYXVsdC5BNzAwfTppLHk9ZS5lcnJvcixfPXZvaWQgMD09PXk/e2xpZ2h0OnUuZGVmYXVsdFszMDBdLG1haW46dS5kZWZhdWx0WzUwMF0sZGFyazp1LmRlZmF1bHRbNzAwXX06eSx2PWUudHlwZSx4PXZvaWQgMD09PXY/XCJsaWdodFwiOnYsYj1lLmNvbnRyYXN0VGhyZXNob2xkLHc9dm9pZCAwPT09Yj8zOmIsVD1lLnRvbmFsT2Zmc2V0LEU9dm9pZCAwPT09VD8uMjpULFM9KDAsby5kZWZhdWx0KShlLFtcInByaW1hcnlcIixcInNlY29uZGFyeVwiLFwiZXJyb3JcIixcInR5cGVcIixcImNvbnRyYXN0VGhyZXNob2xkXCIsXCJ0b25hbE9mZnNldFwiXSk7ZnVuY3Rpb24gTShlKXtyZXR1cm4oMCxkLmdldENvbnRyYXN0UmF0aW8pKGUsZi50ZXh0LnByaW1hcnkpPj13P2YudGV4dC5wcmltYXJ5OnAudGV4dC5wcmltYXJ5fWZ1bmN0aW9uIEkoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjUwMCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTozMDAsaT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106NzAwO3JldHVybiFlLm1haW4mJmVbdF0mJihlLm1haW49ZVt0XSksbShlLFwibGlnaHRcIixuLEUpLG0oZSxcImRhcmtcIixpLEUpLGUuY29udHJhc3RUZXh0fHwoZS5jb250cmFzdFRleHQ9TShlLm1haW4pKSxlfUkobiksSShnLFwiQTQwMFwiLFwiQTIwMFwiLFwiQTcwMFwiKSxJKF8pO3ZhciBDPXtkYXJrOmYsbGlnaHQ6cH07cmV0dXJuKDAsYS5kZWZhdWx0KSgoMCxyLmRlZmF1bHQpKHtjb21tb246aC5kZWZhdWx0LHR5cGU6eCxwcmltYXJ5Om4sc2Vjb25kYXJ5OmcsZXJyb3I6XyxncmV5OmMuZGVmYXVsdCxjb250cmFzdFRocmVzaG9sZDp3LGdldENvbnRyYXN0VGV4dDpNLGF1Z21lbnRDb2xvcjpJLHRvbmFsT2Zmc2V0OkV9LENbeF0pLFMse2Nsb25lOiExfSl9LHQuZGFyaz10LmxpZ2h0PXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDQpKSxhPShpKG4oNikpLGkobigyMikpKSxzPWkobig0MykpLGw9aShuKDgwKSksYz1pKG4oODEpKSx1PWkobig4MikpLGg9aShuKDgzKSksZD1uKDQ0KSxwPXt0ZXh0OntwcmltYXJ5OlwicmdiYSgwLCAwLCAwLCAwLjg3KVwiLHNlY29uZGFyeTpcInJnYmEoMCwgMCwgMCwgMC41NClcIixkaXNhYmxlZDpcInJnYmEoMCwgMCwgMCwgMC4zOClcIixoaW50OlwicmdiYSgwLCAwLCAwLCAwLjM4KVwifSxkaXZpZGVyOlwicmdiYSgwLCAwLCAwLCAwLjEyKVwiLGJhY2tncm91bmQ6e3BhcGVyOmguZGVmYXVsdC53aGl0ZSxkZWZhdWx0OmMuZGVmYXVsdFs1MF19LGFjdGlvbjp7YWN0aXZlOlwicmdiYSgwLCAwLCAwLCAwLjU0KVwiLGhvdmVyOlwicmdiYSgwLCAwLCAwLCAwLjA4KVwiLGhvdmVyT3BhY2l0eTouMDgsc2VsZWN0ZWQ6XCJyZ2JhKDAsIDAsIDAsIDAuMTQpXCIsZGlzYWJsZWQ6XCJyZ2JhKDAsIDAsIDAsIDAuMjYpXCIsZGlzYWJsZWRCYWNrZ3JvdW5kOlwicmdiYSgwLCAwLCAwLCAwLjEyKVwifX07dC5saWdodD1wO3ZhciBmPXt0ZXh0OntwcmltYXJ5OmguZGVmYXVsdC53aGl0ZSxzZWNvbmRhcnk6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNylcIixkaXNhYmxlZDpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KVwiLGhpbnQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSlcIixpY29uOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpXCJ9LGRpdmlkZXI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpXCIsYmFja2dyb3VuZDp7cGFwZXI6Yy5kZWZhdWx0WzgwMF0sZGVmYXVsdDpcIiMzMDMwMzBcIn0sYWN0aW9uOnthY3RpdmU6aC5kZWZhdWx0LndoaXRlLGhvdmVyOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpXCIsaG92ZXJPcGFjaXR5Oi4xLHNlbGVjdGVkOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpXCIsZGlzYWJsZWQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMylcIixkaXNhYmxlZEJhY2tncm91bmQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpXCJ9fTtmdW5jdGlvbiBtKGUsdCxuLGkpe2VbdF18fChlLmhhc093blByb3BlcnR5KG4pP2VbdF09ZVtuXTpcImxpZ2h0XCI9PT10P2UubGlnaHQ9KDAsZC5saWdodGVuKShlLm1haW4saSk6XCJkYXJrXCI9PT10JiYoZS5kYXJrPSgwLGQuZGFya2VuKShlLm1haW4sMS41KmkpKSl9dC5kYXJrPWZ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPXs1MDpcIiNmY2U0ZWNcIiwxMDA6XCIjZjhiYmQwXCIsMjAwOlwiI2Y0OGZiMVwiLDMwMDpcIiNmMDYyOTJcIiw0MDA6XCIjZWM0MDdhXCIsNTAwOlwiI2U5MWU2M1wiLDYwMDpcIiNkODFiNjBcIiw3MDA6XCIjYzIxODViXCIsODAwOlwiI2FkMTQ1N1wiLDkwMDpcIiM4ODBlNGZcIixBMTAwOlwiI2ZmODBhYlwiLEEyMDA6XCIjZmY0MDgxXCIsQTQwMDpcIiNmNTAwNTdcIixBNzAwOlwiI2M1MTE2MlwifTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9ezUwOlwiI2ZhZmFmYVwiLDEwMDpcIiNmNWY1ZjVcIiwyMDA6XCIjZWVlZWVlXCIsMzAwOlwiI2UwZTBlMFwiLDQwMDpcIiNiZGJkYmRcIiw1MDA6XCIjOWU5ZTllXCIsNjAwOlwiIzc1NzU3NVwiLDcwMDpcIiM2MTYxNjFcIiw4MDA6XCIjNDI0MjQyXCIsOTAwOlwiIzIxMjEyMVwiLEExMDA6XCIjZDVkNWQ1XCIsQTIwMDpcIiNhYWFhYWFcIixBNDAwOlwiIzMwMzAzMFwiLEE3MDA6XCIjNjE2MTYxXCJ9O3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT17NTA6XCIjZmZlYmVlXCIsMTAwOlwiI2ZmY2RkMlwiLDIwMDpcIiNlZjlhOWFcIiwzMDA6XCIjZTU3MzczXCIsNDAwOlwiI2VmNTM1MFwiLDUwMDpcIiNmNDQzMzZcIiw2MDA6XCIjZTUzOTM1XCIsNzAwOlwiI2QzMmYyZlwiLDgwMDpcIiNjNjI4MjhcIiw5MDA6XCIjYjcxYzFjXCIsQTEwMDpcIiNmZjhhODBcIixBMjAwOlwiI2ZmNTI1MlwiLEE0MDA6XCIjZmYxNzQ0XCIsQTcwMDpcIiNkNTAwMDBcIn07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPXtibGFjazpcIiMwMDBcIix3aGl0ZTpcIiNmZmZcIn07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dChlKTp0LGk9bi5mb250RmFtaWx5LHU9dm9pZCAwPT09aT8nXCJSb2JvdG9cIiwgXCJIZWx2ZXRpY2FcIiwgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJzppLGg9bi5mb250U2l6ZSxkPXZvaWQgMD09PWg/MTQ6aCxwPW4uZm9udFdlaWdodExpZ2h0LGY9dm9pZCAwPT09cD8zMDA6cCxtPW4uZm9udFdlaWdodFJlZ3VsYXIsZz12b2lkIDA9PT1tPzQwMDptLHk9bi5mb250V2VpZ2h0TWVkaXVtLF89dm9pZCAwPT09eT81MDA6eSx2PW4uaHRtbEZvbnRTaXplLHg9dm9pZCAwPT09dj8xNjp2LGI9bi51c2VOZXh0VmFyaWFudHMsdz12b2lkIDA9PT1iP0Jvb2xlYW4ocy5wb255ZmlsbEdsb2JhbC5fX01VSV9VU0VfTkVYVF9UWVBPR1JBUEhZX1ZBUklBTlRTX18pOmIsVD0obi5zdXBwcmVzc1dhcm5pbmcsbi5hbGxWYXJpYW50cyksRT0oMCxvLmRlZmF1bHQpKG4sW1wiZm9udEZhbWlseVwiLFwiZm9udFNpemVcIixcImZvbnRXZWlnaHRMaWdodFwiLFwiZm9udFdlaWdodFJlZ3VsYXJcIixcImZvbnRXZWlnaHRNZWRpdW1cIixcImh0bWxGb250U2l6ZVwiLFwidXNlTmV4dFZhcmlhbnRzXCIsXCJzdXBwcmVzc1dhcm5pbmdcIixcImFsbFZhcmlhbnRzXCJdKTt2YXIgUz1kLzE0LE09ZnVuY3Rpb24oZSl7cmV0dXJuXCJcIi5jb25jYXQoZS94KlMsXCJyZW1cIil9LEk9ZnVuY3Rpb24odCxuLGksbyxhKXtyZXR1cm4oMCxyLmRlZmF1bHQpKHtjb2xvcjplLnRleHQucHJpbWFyeSxmb250RmFtaWx5OnUsZm9udFdlaWdodDp0LGZvbnRTaXplOk0obiksbGluZUhlaWdodDppfSwnXCJSb2JvdG9cIiwgXCJIZWx2ZXRpY2FcIiwgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJz09PXU/e2xldHRlclNwYWNpbmc6XCJcIi5jb25jYXQobChvL24pLFwiZW1cIil9Ont9LGEsVCl9LEM9e2gxOkkoZiw5NiwxLC0xLjUpLGgyOkkoZiw2MCwxLC0uNSksaDM6SShnLDQ4LDEuMDQsMCksaDQ6SShnLDM0LDEuMTcsLjI1KSxoNTpJKGcsMjQsMS4zMywwKSxoNjpJKF8sMjAsMS42LC4xNSksc3VidGl0bGUxOkkoZywxNiwxLjc1LC4xNSksc3VidGl0bGUyOkkoXywxNCwxLjU3LC4xKSxib2R5MU5leHQ6SShnLDE2LDEuNSwuMTUpLGJvZHkyTmV4dDpJKGcsMTQsMS41LC4xNSksYnV0dG9uTmV4dDpJKF8sMTQsMS43NSwuNCxjKSxjYXB0aW9uTmV4dDpJKGcsMTIsMS42NiwuNCksb3ZlcmxpbmU6SShnLDEyLDIuNjYsMSxjKX0saz17ZGlzcGxheTQ6KDAsci5kZWZhdWx0KSh7Zm9udFNpemU6TSgxMTIpLGZvbnRXZWlnaHQ6Zixmb250RmFtaWx5OnUsbGV0dGVyU3BhY2luZzpcIi0uMDRlbVwiLGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCgxMjgvMTEyKSxcImVtXCIpLG1hcmdpbkxlZnQ6XCItLjA0ZW1cIixjb2xvcjplLnRleHQuc2Vjb25kYXJ5fSxUKSxkaXNwbGF5MzooMCxyLmRlZmF1bHQpKHtmb250U2l6ZTpNKDU2KSxmb250V2VpZ2h0OmcsZm9udEZhbWlseTp1LGxldHRlclNwYWNpbmc6XCItLjAyZW1cIixsaW5lSGVpZ2h0OlwiXCIuY29uY2F0KGwoNzMvNTYpLFwiZW1cIiksbWFyZ2luTGVmdDpcIi0uMDJlbVwiLGNvbG9yOmUudGV4dC5zZWNvbmRhcnl9LFQpLGRpc3BsYXkyOigwLHIuZGVmYXVsdCkoe2ZvbnRTaXplOk0oNDUpLGZvbnRXZWlnaHQ6Zyxmb250RmFtaWx5OnUsbGluZUhlaWdodDpcIlwiLmNvbmNhdChsKDUxLzQ1KSxcImVtXCIpLG1hcmdpbkxlZnQ6XCItLjAyZW1cIixjb2xvcjplLnRleHQuc2Vjb25kYXJ5fSxUKSxkaXNwbGF5MTooMCxyLmRlZmF1bHQpKHtmb250U2l6ZTpNKDM0KSxmb250V2VpZ2h0OmcsZm9udEZhbWlseTp1LGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCg0MS8zNCksXCJlbVwiKSxjb2xvcjplLnRleHQuc2Vjb25kYXJ5fSxUKSxoZWFkbGluZTooMCxyLmRlZmF1bHQpKHtmb250U2l6ZTpNKDI0KSxmb250V2VpZ2h0OmcsZm9udEZhbWlseTp1LGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCgzMi41LzI0KSxcImVtXCIpLGNvbG9yOmUudGV4dC5wcmltYXJ5fSxUKSx0aXRsZTooMCxyLmRlZmF1bHQpKHtmb250U2l6ZTpNKDIxKSxmb250V2VpZ2h0Ol8sZm9udEZhbWlseTp1LGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCgyNC41LzIxKSxcImVtXCIpLGNvbG9yOmUudGV4dC5wcmltYXJ5fSxUKSxzdWJoZWFkaW5nOigwLHIuZGVmYXVsdCkoe2ZvbnRTaXplOk0oMTYpLGZvbnRXZWlnaHQ6Zyxmb250RmFtaWx5OnUsbGluZUhlaWdodDpcIlwiLmNvbmNhdChsKDEuNSksXCJlbVwiKSxjb2xvcjplLnRleHQucHJpbWFyeX0sVCksYm9keTI6KDAsci5kZWZhdWx0KSh7Zm9udFNpemU6TSgxNCksZm9udFdlaWdodDpfLGZvbnRGYW1pbHk6dSxsaW5lSGVpZ2h0OlwiXCIuY29uY2F0KGwoMjQvMTQpLFwiZW1cIiksY29sb3I6ZS50ZXh0LnByaW1hcnl9LFQpLGJvZHkxOigwLHIuZGVmYXVsdCkoe2ZvbnRTaXplOk0oMTQpLGZvbnRXZWlnaHQ6Zyxmb250RmFtaWx5OnUsbGluZUhlaWdodDpcIlwiLmNvbmNhdChsKDIwLjUvMTQpLFwiZW1cIiksY29sb3I6ZS50ZXh0LnByaW1hcnl9LFQpLGNhcHRpb246KDAsci5kZWZhdWx0KSh7Zm9udFNpemU6TSgxMiksZm9udFdlaWdodDpnLGZvbnRGYW1pbHk6dSxsaW5lSGVpZ2h0OlwiXCIuY29uY2F0KGwoMS4zNzUpLFwiZW1cIiksY29sb3I6ZS50ZXh0LnNlY29uZGFyeX0sVCksYnV0dG9uOigwLHIuZGVmYXVsdCkoe2ZvbnRTaXplOk0oMTQpLHRleHRUcmFuc2Zvcm06XCJ1cHBlcmNhc2VcIixmb250V2VpZ2h0Ol8sZm9udEZhbWlseTp1LGNvbG9yOmUudGV4dC5wcmltYXJ5fSxUKX07cmV0dXJuKDAsYS5kZWZhdWx0KSgoMCxyLmRlZmF1bHQpKHtweFRvUmVtOk0scm91bmQ6bCxmb250RmFtaWx5OnUsZm9udFNpemU6ZCxmb250V2VpZ2h0TGlnaHQ6Zixmb250V2VpZ2h0UmVndWxhcjpnLGZvbnRXZWlnaHRNZWRpdW06X30sayxDLHc/e2JvZHkxOkMuYm9keTFOZXh0LGJvZHkyOkMuYm9keTJOZXh0LGJ1dHRvbjpDLmJ1dHRvbk5leHQsY2FwdGlvbjpDLmNhcHRpb25OZXh0fTp7fSx7dXNlTmV4dFZhcmlhbnRzOnd9KSxFLHtjbG9uZTohMX0pfTt2YXIgcj1pKG4oMikpLG89aShuKDQpKSxhPWkobigyMikpLHM9KGkobig2KSksbig3KSk7ZnVuY3Rpb24gbChlKXtyZXR1cm4gTWF0aC5yb3VuZCgxZTUqZSkvMWU1fXZhciBjPXt0ZXh0VHJhbnNmb3JtOlwidXBwZXJjYXNlXCJ9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yLHI9aT9TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKTo2MDEwMyxvPWk/U3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKTo2MDEwNixhPWk/U3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpOjYwMTA3LHM9aT9TeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIik6NjAxMDgsbD1pP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTo2MDExNCxjPWk/U3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpOjYwMTA5LHU9aT9TeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKTo2MDExMCxoPWk/U3ltYm9sLmZvcihcInJlYWN0LmFzeW5jX21vZGVcIik6NjAxMTEsZD1pP1N5bWJvbC5mb3IoXCJyZWFjdC5jb25jdXJyZW50X21vZGVcIik6NjAxMTEscD1pP1N5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKTo2MDExMixmPWk/U3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpOjYwMTEzLG09aT9TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKTo2MDEyMCxnPWk/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUseT1pP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2LF89aT9TeW1ib2wuZm9yKFwicmVhY3QuYmxvY2tcIik6NjAxMjEsdj1pP1N5bWJvbC5mb3IoXCJyZWFjdC5mdW5kYW1lbnRhbFwiKTo2MDExNyx4PWk/U3ltYm9sLmZvcihcInJlYWN0LnJlc3BvbmRlclwiKTo2MDExOCxiPWk/U3ltYm9sLmZvcihcInJlYWN0LnNjb3BlXCIpOjYwMTE5O2Z1bmN0aW9uIHcoZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lKXt2YXIgdD1lLiQkdHlwZW9mO3N3aXRjaCh0KXtjYXNlIHI6c3dpdGNoKGU9ZS50eXBlKXtjYXNlIGg6Y2FzZSBkOmNhc2UgYTpjYXNlIGw6Y2FzZSBzOmNhc2UgZjpyZXR1cm4gZTtkZWZhdWx0OnN3aXRjaChlPWUmJmUuJCR0eXBlb2Ype2Nhc2UgdTpjYXNlIHA6Y2FzZSB5OmNhc2UgZzpjYXNlIGM6cmV0dXJuIGU7ZGVmYXVsdDpyZXR1cm4gdH19Y2FzZSBvOnJldHVybiB0fX19ZnVuY3Rpb24gVChlKXtyZXR1cm4gdyhlKT09PWR9dC5Bc3luY01vZGU9aCx0LkNvbmN1cnJlbnRNb2RlPWQsdC5Db250ZXh0Q29uc3VtZXI9dSx0LkNvbnRleHRQcm92aWRlcj1jLHQuRWxlbWVudD1yLHQuRm9yd2FyZFJlZj1wLHQuRnJhZ21lbnQ9YSx0Lkxhenk9eSx0Lk1lbW89Zyx0LlBvcnRhbD1vLHQuUHJvZmlsZXI9bCx0LlN0cmljdE1vZGU9cyx0LlN1c3BlbnNlPWYsdC5pc0FzeW5jTW9kZT1mdW5jdGlvbihlKXtyZXR1cm4gVChlKXx8dyhlKT09PWh9LHQuaXNDb25jdXJyZW50TW9kZT1ULHQuaXNDb250ZXh0Q29uc3VtZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk9PT11fSx0LmlzQ29udGV4dFByb3ZpZGVyPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09Y30sdC5pc0VsZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZlLiQkdHlwZW9mPT09cn0sdC5pc0ZvcndhcmRSZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk9PT1wfSx0LmlzRnJhZ21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk9PT1hfSx0LmlzTGF6eT1mdW5jdGlvbihlKXtyZXR1cm4gdyhlKT09PXl9LHQuaXNNZW1vPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09Z30sdC5pc1BvcnRhbD1mdW5jdGlvbihlKXtyZXR1cm4gdyhlKT09PW99LHQuaXNQcm9maWxlcj1mdW5jdGlvbihlKXtyZXR1cm4gdyhlKT09PWx9LHQuaXNTdHJpY3RNb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09c30sdC5pc1N1c3BlbnNlPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09Zn0sdC5pc1ZhbGlkRWxlbWVudFR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGV8fGU9PT1hfHxlPT09ZHx8ZT09PWx8fGU9PT1zfHxlPT09Znx8ZT09PW18fFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmKGUuJCR0eXBlb2Y9PT15fHxlLiQkdHlwZW9mPT09Z3x8ZS4kJHR5cGVvZj09PWN8fGUuJCR0eXBlb2Y9PT11fHxlLiQkdHlwZW9mPT09cHx8ZS4kJHR5cGVvZj09PXZ8fGUuJCR0eXBlb2Y9PT14fHxlLiQkdHlwZW9mPT09Ynx8ZS4kJHR5cGVvZj09PV8pfSx0LnR5cGVPZj13fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDtmdW5jdGlvbiBpKCl7cmV0dXJuW1wiXCIuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSxcInB4IFwiKS5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9MT92b2lkIDA6YXJndW1lbnRzWzFdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD0yP3ZvaWQgMDphcmd1bWVudHNbMl0sXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTM/dm9pZCAwOmFyZ3VtZW50c1szXSxcInB4IHJnYmEoMCwwLDAsXCIpLmNvbmNhdCguMixcIilcIiksXCJcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9ND92b2lkIDA6YXJndW1lbnRzWzRdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD01P3ZvaWQgMDphcmd1bWVudHNbNV0sXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTY/dm9pZCAwOmFyZ3VtZW50c1s2XSxcInB4IFwiKS5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9Nz92b2lkIDA6YXJndW1lbnRzWzddLFwicHggcmdiYSgwLDAsMCxcIikuY29uY2F0KC4xNCxcIilcIiksXCJcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9OD92b2lkIDA6YXJndW1lbnRzWzhdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD05P3ZvaWQgMDphcmd1bWVudHNbOV0sXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTEwP3ZvaWQgMDphcmd1bWVudHNbMTBdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD0xMT92b2lkIDA6YXJndW1lbnRzWzExXSxcInB4IHJnYmEoMCwwLDAsXCIpLmNvbmNhdCguMTIsXCIpXCIpXS5qb2luKFwiLFwiKX12YXIgcj1bXCJub25lXCIsaSgwLDEsMywwLDAsMSwxLDAsMCwyLDEsLTEpLGkoMCwxLDUsMCwwLDIsMiwwLDAsMywxLC0yKSxpKDAsMSw4LDAsMCwzLDQsMCwwLDMsMywtMiksaSgwLDIsNCwtMSwwLDQsNSwwLDAsMSwxMCwwKSxpKDAsMyw1LC0xLDAsNSw4LDAsMCwxLDE0LDApLGkoMCwzLDUsLTEsMCw2LDEwLDAsMCwxLDE4LDApLGkoMCw0LDUsLTIsMCw3LDEwLDEsMCwyLDE2LDEpLGkoMCw1LDUsLTMsMCw4LDEwLDEsMCwzLDE0LDIpLGkoMCw1LDYsLTMsMCw5LDEyLDEsMCwzLDE2LDIpLGkoMCw2LDYsLTMsMCwxMCwxNCwxLDAsNCwxOCwzKSxpKDAsNiw3LC00LDAsMTEsMTUsMSwwLDQsMjAsMyksaSgwLDcsOCwtNCwwLDEyLDE3LDIsMCw1LDIyLDQpLGkoMCw3LDgsLTQsMCwxMywxOSwyLDAsNSwyNCw0KSxpKDAsNyw5LC00LDAsMTQsMjEsMiwwLDUsMjYsNCksaSgwLDgsOSwtNSwwLDE1LDIyLDIsMCw2LDI4LDUpLGkoMCw4LDEwLC01LDAsMTYsMjQsMiwwLDYsMzAsNSksaSgwLDgsMTEsLTUsMCwxNywyNiwyLDAsNiwzMiw1KSxpKDAsOSwxMSwtNSwwLDE4LDI4LDIsMCw3LDM0LDYpLGkoMCw5LDEyLC02LDAsMTksMjksMiwwLDcsMzYsNiksaSgwLDEwLDEzLC02LDAsMjAsMzEsMywwLDgsMzgsNyksaSgwLDEwLDEzLC02LDAsMjEsMzMsMywwLDgsNDAsNyksaSgwLDEwLDE0LC02LDAsMjIsMzUsMywwLDgsNDIsNyksaSgwLDExLDE0LC03LDAsMjMsMzYsMywwLDksNDQsOCksaSgwLDExLDE1LC03LDAsMjQsMzgsMywwLDksNDYsOCldO3QuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT17Ym9yZGVyUmFkaXVzOjR9O3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT17dW5pdDo4fTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuaXNOdW1iZXI9dC5pc1N0cmluZz10LmZvcm1hdE1zPXQuZHVyYXRpb249dC5lYXNpbmc9dm9pZCAwO3ZhciByPWkobig0KSksbz0oaShuKDYpKSx7ZWFzZUluT3V0OlwiY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKVwiLGVhc2VPdXQ6XCJjdWJpYy1iZXppZXIoMC4wLCAwLCAwLjIsIDEpXCIsZWFzZUluOlwiY3ViaWMtYmV6aWVyKDAuNCwgMCwgMSwgMSlcIixzaGFycDpcImN1YmljLWJlemllcigwLjQsIDAsIDAuNiwgMSlcIn0pO3QuZWFzaW5nPW87dmFyIGE9e3Nob3J0ZXN0OjE1MCxzaG9ydGVyOjIwMCxzaG9ydDoyNTAsc3RhbmRhcmQ6MzAwLGNvbXBsZXg6Mzc1LGVudGVyaW5nU2NyZWVuOjIyNSxsZWF2aW5nU2NyZWVuOjE5NX07dC5kdXJhdGlvbj1hO3ZhciBzPWZ1bmN0aW9uKGUpe3JldHVyblwiXCIuY29uY2F0KE1hdGgucm91bmQoZSksXCJtc1wiKX07dC5mb3JtYXRNcz1zO3QuaXNTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9O3QuaXNOdW1iZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQoZSkpfTt2YXIgbD17ZWFzaW5nOm8sZHVyYXRpb246YSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W1wiYWxsXCJdLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49dC5kdXJhdGlvbixpPXZvaWQgMD09PW4/YS5zdGFuZGFyZDpuLGw9dC5lYXNpbmcsYz12b2lkIDA9PT1sP28uZWFzZUluT3V0OmwsdT10LmRlbGF5LGg9dm9pZCAwPT09dT8wOnU7KDAsci5kZWZhdWx0KSh0LFtcImR1cmF0aW9uXCIsXCJlYXNpbmdcIixcImRlbGF5XCJdKTtyZXR1cm4oQXJyYXkuaXNBcnJheShlKT9lOltlXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm5cIlwiLmNvbmNhdChlLFwiIFwiKS5jb25jYXQoXCJzdHJpbmdcIj09dHlwZW9mIGk/aTpzKGkpLFwiIFwiKS5jb25jYXQoYyxcIiBcIikuY29uY2F0KFwic3RyaW5nXCI9PXR5cGVvZiBoP2g6cyhoKSl9KSkuam9pbihcIixcIil9LGdldEF1dG9IZWlnaHREdXJhdGlvbjpmdW5jdGlvbihlKXtpZighZSlyZXR1cm4gMDt2YXIgdD1lLzM2O3JldHVybiBNYXRoLnJvdW5kKDEwKig0KzE1Kk1hdGgucG93KHQsLjI1KSt0LzUpKX19O3QuZGVmYXVsdD1sfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT17bW9iaWxlU3RlcHBlcjoxZTMsYXBwQmFyOjExMDAsZHJhd2VyOjEyMDAsbW9kYWw6MTMwMCxzbmFja2JhcjoxNDAwLHRvb2x0aXA6MTUwMH07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciBpIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4saSkmJihlW2ldPW5baV0pfXJldHVybiBlfSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCk7dC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue29uQ3JlYXRlUnVsZTpmdW5jdGlvbihlLHQsbil7aWYoXCJAZ2xvYmFsXCI9PT1lKXJldHVybiBuZXcgcyhlLHQsbik7aWYoXCJAXCI9PT1lWzBdJiZcIkBnbG9iYWwgXCI9PT1lLnN1YnN0cigwLFwiQGdsb2JhbCBcIi5sZW5ndGgpKXJldHVybiBuZXcgbChlLHQsbik7dmFyIGk9bi5wYXJlbnQ7cmV0dXJuIGkmJihcImdsb2JhbFwiIT09aS50eXBlJiZcImdsb2JhbFwiIT09aS5vcHRpb25zLnBhcmVudC50eXBlfHwobi5nbG9iYWw9ITApKSxuLmdsb2JhbCYmKG4uc2VsZWN0b3I9ZSksbnVsbH0sb25Qcm9jZXNzUnVsZTpmdW5jdGlvbihlKXtcInN0eWxlXCI9PT1lLnR5cGUmJihmdW5jdGlvbihlKXt2YXIgdD1lLm9wdGlvbnMsbj1lLnN0eWxlLHI9bltcIkBnbG9iYWxcIl07aWYoIXIpcmV0dXJuO2Zvcih2YXIgbyBpbiByKXQuc2hlZXQuYWRkUnVsZShvLHJbb10saSh7fSx0LHtzZWxlY3Rvcjp1KG8sZS5zZWxlY3Rvcil9KSk7ZGVsZXRlIG5bXCJAZ2xvYmFsXCJdfShlKSxmdW5jdGlvbihlKXt2YXIgdD1lLm9wdGlvbnMsbj1lLnN0eWxlO2Zvcih2YXIgciBpbiBuKWlmKFwiQGdsb2JhbFwiPT09ci5zdWJzdHIoMCxcIkBnbG9iYWxcIi5sZW5ndGgpKXt2YXIgbz11KHIuc3Vic3RyKFwiQGdsb2JhbFwiLmxlbmd0aCksZS5zZWxlY3Rvcik7dC5zaGVldC5hZGRSdWxlKG8sbltyXSxpKHt9LHQse3NlbGVjdG9yOm99KSksZGVsZXRlIG5bcl19fShlKSl9fX07dmFyIG89big1Mik7ZnVuY3Rpb24gYShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyKXtmb3IodmFyIHMgaW4gYSh0aGlzLGUpLHRoaXMudHlwZT1cImdsb2JhbFwiLHRoaXMua2V5PXQsdGhpcy5vcHRpb25zPXIsdGhpcy5ydWxlcz1uZXcgby5SdWxlTGlzdChpKHt9LHIse3BhcmVudDp0aGlzfSkpLG4pdGhpcy5ydWxlcy5hZGQocyxuW3NdLHtzZWxlY3RvcjpzfSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIHIoZSxbe2tleTpcImdldFJ1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydWxlcy5nZXQoZSl9fSx7a2V5OlwiYWRkUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLnJ1bGVzLmFkZChlLHQsbik7cmV0dXJuIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKGkpLGl9fSx7a2V5OlwiaW5kZXhPZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGVzLmluZGV4T2YoZSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ1bGVzLnRvU3RyaW5nKCl9fV0pLGV9KCksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIpe2EodGhpcyxlKSx0aGlzLm5hbWU9dCx0aGlzLm9wdGlvbnM9cjt2YXIgbz10LnN1YnN0cihcIkBnbG9iYWwgXCIubGVuZ3RoKTt0aGlzLnJ1bGU9ci5qc3MuY3JlYXRlUnVsZShvLG4saSh7fSxyLHtwYXJlbnQ6dGhpcyxzZWxlY3RvcjpvfSkpfXJldHVybiByKGUsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGUudG9TdHJpbmcoZSl9fV0pLGV9KCksYz0vXFxzKixcXHMqL2c7ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgbj1lLnNwbGl0KGMpLGk9XCJcIixyPTA7cjxuLmxlbmd0aDtyKyspaSs9dCtcIiBcIituW3JdLnRyaW0oKSxuW3IrMV0mJihpKz1cIiwgXCIpO3JldHVybiBpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1mdW5jdGlvbiBlKHQpe3ZhciBuPW51bGw7Zm9yKHZhciByIGluIHQpe3ZhciBvPXRbcl0sYT12b2lkIDA9PT1vP1widW5kZWZpbmVkXCI6aShvKTtpZihcImZ1bmN0aW9uXCI9PT1hKW58fChuPXt9KSxuW3JdPW87ZWxzZSBpZihcIm9iamVjdFwiPT09YSYmbnVsbCE9PW8mJiFBcnJheS5pc0FycmF5KG8pKXt2YXIgcz1lKG8pO3MmJihufHwobj17fSksbltyXT1zKX19cmV0dXJuIG59fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxyPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigxNykpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5zaGVldHM9W10sdGhpcy5yZWZzPVtdLHRoaXMua2V5cz1bXX1yZXR1cm4gaShlLFt7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5rZXlzLmluZGV4T2YoZSk7cmV0dXJuIHRoaXMuc2hlZXRzW3RdfX0se2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zaGVldHMsaT10aGlzLnJlZnMscj10aGlzLmtleXMsbz1uLmluZGV4T2YodCk7cmV0dXJuLTEhPT1vP286KG4ucHVzaCh0KSxpLnB1c2goMCksci5wdXNoKGUpLG4ubGVuZ3RoLTEpfX0se2tleTpcIm1hbmFnZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMua2V5cy5pbmRleE9mKGUpLG49dGhpcy5zaGVldHNbdF07cmV0dXJuIDA9PT10aGlzLnJlZnNbdF0mJm4uYXR0YWNoKCksdGhpcy5yZWZzW3RdKyssdGhpcy5rZXlzW3RdfHx0aGlzLmtleXMuc3BsaWNlKHQsMCxlKSxufX0se2tleTpcInVubWFuYWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5rZXlzLmluZGV4T2YoZSk7LTEhPT10P3RoaXMucmVmc1t0XT4wJiYodGhpcy5yZWZzW3RdLS0sMD09PXRoaXMucmVmc1t0XSYmdGhpcy5zaGVldHNbdF0uZGV0YWNoKCkpOigwLHIuZGVmYXVsdCkoITEsXCJTaGVldHNNYW5hZ2VyOiBjYW4ndCBmaW5kIHNoZWV0IHRvIHVubWFuYWdlXCIpfX0se2tleTpcInNpemVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlzLmxlbmd0aH19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1mdW5jdGlvbiBlKHQpe2lmKG51bGw9PXQpcmV0dXJuIHQ7dmFyIG49dm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOmkodCk7aWYoXCJzdHJpbmdcIj09PW58fFwibnVtYmVyXCI9PT1ufHxcImZ1bmN0aW9uXCI9PT1uKXJldHVybiB0O2lmKG8odCkpcmV0dXJuIHQubWFwKGUpO2lmKCgwLHIuZGVmYXVsdCkodCkpcmV0dXJuIHQ7dmFyIGE9e307Zm9yKHZhciBzIGluIHQpe3ZhciBsPXRbc107XCJvYmplY3RcIiE9PSh2b2lkIDA9PT1sP1widW5kZWZpbmVkXCI6aShsKSk/YVtzXT1sOmFbc109ZShsKX1yZXR1cm4gYX07dmFyIHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKDU0KSk7dmFyIG89QXJyYXkuaXNBcnJheX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSxmdW5jdGlvbihlLGkpe3ZhciByLG89big2Nyk7cj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCE9PWU/ZTppO3ZhciBhPU9iamVjdChvLmEpKHIpO3QuZGVmYXVsdD1hfS5jYWxsKHRoaXMsbigyNSksbig5NikoZSkpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighZS53ZWJwYWNrUG9seWZpbGwpe3ZhciB0PU9iamVjdC5jcmVhdGUoZSk7dC5jaGlsZHJlbnx8KHQuY2hpbGRyZW49W10pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibG9hZGVkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImlkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuaX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImV4cG9ydHNcIix7ZW51bWVyYWJsZTohMH0pLHQud2VicGFja1BvbHlmaWxsPTF9cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuQ1NTO3QuZGVmYXVsdD1mdW5jdGlvbihlKXtyZXR1cm4gZX19KS5jYWxsKHRoaXMsbigyNSkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPVwiMmYxYWNjNmMzYTYwNmIwODJlNWVlZjVlNTQ0MTRmZmJcIjtudWxsPT1lW25dJiYoZVtuXT0wKSx0LmRlZmF1bHQ9ZVtuXSsrfSkuY2FsbCh0aGlzLG4oMjUpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LHI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiYoZVtpXT1uW2ldKX1yZXR1cm4gZX0sbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLGE9XyhuKDI2KSkscz1fKG4oNTcpKSxsPV8obigxMDApKSxjPV8obigxMDEpKSx1PV8obigxMDcpKSxoPV8obigxMDgpKSxkPV8obigzMSkpLHA9XyhuKDE4KSksZj1fKG4oNTYpKSxtPV8obigyNCkpLGc9XyhuKDEwOSkpLHk9XyhuKDExMCkpO2Z1bmN0aW9uIF8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciB2PWMuZGVmYXVsdC5jb25jYXQoW3UuZGVmYXVsdCxoLmRlZmF1bHRdKSx4PTAsYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmlkPXgrKyx0aGlzLnZlcnNpb249XCI5LjguN1wiLHRoaXMucGx1Z2lucz1uZXcgbC5kZWZhdWx0LHRoaXMub3B0aW9ucz17Y3JlYXRlR2VuZXJhdGVDbGFzc05hbWU6Zi5kZWZhdWx0LFJlbmRlcmVyOmEuZGVmYXVsdD9nLmRlZmF1bHQ6eS5kZWZhdWx0LHBsdWdpbnM6W119LHRoaXMuZ2VuZXJhdGVDbGFzc05hbWU9KDAsZi5kZWZhdWx0KSgpLHRoaXMudXNlLmFwcGx5KHRoaXMsdiksdGhpcy5zZXR1cCh0KX1yZXR1cm4gbyhlLFt7a2V5Olwic2V0dXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gZS5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZSYmKHRoaXMub3B0aW9ucy5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZT1lLmNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lLHRoaXMuZ2VuZXJhdGVDbGFzc05hbWU9ZS5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZSgpKSxudWxsIT1lLmluc2VydGlvblBvaW50JiYodGhpcy5vcHRpb25zLmluc2VydGlvblBvaW50PWUuaW5zZXJ0aW9uUG9pbnQpLChlLnZpcnR1YWx8fGUuUmVuZGVyZXIpJiYodGhpcy5vcHRpb25zLlJlbmRlcmVyPWUuUmVuZGVyZXJ8fChlLnZpcnR1YWw/eS5kZWZhdWx0OmcuZGVmYXVsdCkpLGUucGx1Z2lucyYmdGhpcy51c2UuYXBwbHkodGhpcyxlLnBsdWdpbnMpLHRoaXN9fSx7a2V5OlwiY3JlYXRlU3R5bGVTaGVldFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPXQuaW5kZXg7XCJudW1iZXJcIiE9dHlwZW9mIG4mJihuPTA9PT1kLmRlZmF1bHQuaW5kZXg/MDpkLmRlZmF1bHQuaW5kZXgrMSk7dmFyIGk9bmV3IHMuZGVmYXVsdChlLHIoe30sdCx7anNzOnRoaXMsZ2VuZXJhdGVDbGFzc05hbWU6dC5nZW5lcmF0ZUNsYXNzTmFtZXx8dGhpcy5nZW5lcmF0ZUNsYXNzTmFtZSxpbnNlcnRpb25Qb2ludDp0aGlzLm9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQsUmVuZGVyZXI6dGhpcy5vcHRpb25zLlJlbmRlcmVyLGluZGV4Om59KSk7cmV0dXJuIHRoaXMucGx1Z2lucy5vblByb2Nlc3NTaGVldChpKSxpfX0se2tleTpcInJlbW92ZVN0eWxlU2hlZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5kZXRhY2goKSxkLmRlZmF1bHQucmVtb3ZlKGUpLHRoaXN9fSx7a2V5OlwiY3JlYXRlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjppKGUpKSYmKG49dCx0PWUsZT12b2lkIDApO3ZhciByPW47ci5qc3M9dGhpcyxyLlJlbmRlcmVyPXRoaXMub3B0aW9ucy5SZW5kZXJlcixyLmdlbmVyYXRlQ2xhc3NOYW1lfHwoci5nZW5lcmF0ZUNsYXNzTmFtZT10aGlzLmdlbmVyYXRlQ2xhc3NOYW1lKSxyLmNsYXNzZXN8fChyLmNsYXNzZXM9e30pO3ZhciBvPSgwLG0uZGVmYXVsdCkoZSx0LHIpO3JldHVybiFyLnNlbGVjdG9yJiZvIGluc3RhbmNlb2YgcC5kZWZhdWx0JiYoby5zZWxlY3Rvcj1cIi5cIityLmdlbmVyYXRlQ2xhc3NOYW1lKG8pKSx0aGlzLnBsdWdpbnMub25Qcm9jZXNzUnVsZShvKSxvfX0se2tleTpcInVzZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkodCksaT0wO2k8dDtpKyspbltpXT1hcmd1bWVudHNbaV07cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7LTE9PT1lLm9wdGlvbnMucGx1Z2lucy5pbmRleE9mKHQpJiYoZS5vcHRpb25zLnBsdWdpbnMucHVzaCh0KSxlLnBsdWdpbnMudXNlKHQpKX0pKSx0aGlzfX1dKSxlfSgpO3QuZGVmYXVsdD1ifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxyPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigxNykpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5ob29rcz17b25DcmVhdGVSdWxlOltdLG9uUHJvY2Vzc1J1bGU6W10sb25Qcm9jZXNzU3R5bGU6W10sb25Qcm9jZXNzU2hlZXQ6W10sb25DaGFuZ2VWYWx1ZTpbXSxvblVwZGF0ZTpbXX19cmV0dXJuIGkoZSxbe2tleTpcIm9uQ3JlYXRlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGk9MDtpPHRoaXMuaG9va3Mub25DcmVhdGVSdWxlLmxlbmd0aDtpKyspe3ZhciByPXRoaXMuaG9va3Mub25DcmVhdGVSdWxlW2ldKGUsdCxuKTtpZihyKXJldHVybiByfXJldHVybiBudWxsfX0se2tleTpcIm9uUHJvY2Vzc1J1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZS5pc1Byb2Nlc3NlZCl7Zm9yKHZhciB0PWUub3B0aW9ucy5zaGVldCxuPTA7bjx0aGlzLmhvb2tzLm9uUHJvY2Vzc1J1bGUubGVuZ3RoO24rKyl0aGlzLmhvb2tzLm9uUHJvY2Vzc1J1bGVbbl0oZSx0KTtlLnN0eWxlJiZ0aGlzLm9uUHJvY2Vzc1N0eWxlKGUuc3R5bGUsZSx0KSxlLmlzUHJvY2Vzc2VkPSEwfX19LHtrZXk6XCJvblByb2Nlc3NTdHlsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGk9ZSxyPTA7cjx0aGlzLmhvb2tzLm9uUHJvY2Vzc1N0eWxlLmxlbmd0aDtyKyspaT10aGlzLmhvb2tzLm9uUHJvY2Vzc1N0eWxlW3JdKGksdCxuKSx0LnN0eWxlPWl9fSx7a2V5Olwib25Qcm9jZXNzU2hlZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuaG9va3Mub25Qcm9jZXNzU2hlZXQubGVuZ3RoO3QrKyl0aGlzLmhvb2tzLm9uUHJvY2Vzc1NoZWV0W3RdKGUpfX0se2tleTpcIm9uVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaT0wO2k8dGhpcy5ob29rcy5vblVwZGF0ZS5sZW5ndGg7aSsrKXRoaXMuaG9va3Mub25VcGRhdGVbaV0oZSx0LG4pfX0se2tleTpcIm9uQ2hhbmdlVmFsdWVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpPWUscj0wO3I8dGhpcy5ob29rcy5vbkNoYW5nZVZhbHVlLmxlbmd0aDtyKyspaT10aGlzLmhvb2tzLm9uQ2hhbmdlVmFsdWVbcl0oaSx0LG4pO3JldHVybiBpfX0se2tleTpcInVzZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXRoaXMuaG9va3NbdF0/dGhpcy5ob29rc1t0XS5wdXNoKGVbdF0pOigwLHIuZGVmYXVsdCkoITEsJ1tKU1NdIFVua25vd24gaG9vayBcIiVzXCIuJyx0KX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWwobigxMDIpKSxyPWwobigxMDMpKSxvPWwobigxMDQpKSxhPWwobigxMDUpKSxzPWwobigxMDYpKTtmdW5jdGlvbiBsKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz17XCJAY2hhcnNldFwiOmkuZGVmYXVsdCxcIkBpbXBvcnRcIjppLmRlZmF1bHQsXCJAbmFtZXNwYWNlXCI6aS5kZWZhdWx0LFwiQGtleWZyYW1lc1wiOnIuZGVmYXVsdCxcIkBtZWRpYVwiOm8uZGVmYXVsdCxcIkBzdXBwb3J0c1wiOm8uZGVmYXVsdCxcIkBmb250LWZhY2VcIjphLmRlZmF1bHQsXCJAdmlld3BvcnRcIjpzLmRlZmF1bHQsXCJALW1zLXZpZXdwb3J0XCI6cy5kZWZhdWx0fSx1PU9iamVjdC5rZXlzKGMpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFJlZ0V4cChcIl5cIitlKSxuPWNbZV07cmV0dXJue29uQ3JlYXRlUnVsZTpmdW5jdGlvbihlLGkscil7cmV0dXJuIHQudGVzdChlKT9uZXcgbihlLGkscik6bnVsbH19fSkpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLGkpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy50eXBlPVwic2ltcGxlXCIsdGhpcy5pc1Byb2Nlc3NlZD0hMSx0aGlzLmtleT10LHRoaXMudmFsdWU9bix0aGlzLm9wdGlvbnM9aX1yZXR1cm4gaShlLFt7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKXtmb3IodmFyIHQ9XCJcIixuPTA7bjx0aGlzLnZhbHVlLmxlbmd0aDtuKyspdCs9dGhpcy5rZXkrXCIgXCIrdGhpcy52YWx1ZVtuXStcIjtcIix0aGlzLnZhbHVlW24rMV0mJih0Kz1cIlxcblwiKTtyZXR1cm4gdH1yZXR1cm4gdGhpcy5rZXkrXCIgXCIrdGhpcy52YWx1ZStcIjtcIn19XSksZX0oKTt0LmRlZmF1bHQ9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIGkgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixpKSYmKGVbaV09bltpXSl9cmV0dXJuIGV9LHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigyMCkpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4scil7Zm9yKHZhciBhIGluIGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnR5cGU9XCJrZXlmcmFtZXNcIix0aGlzLmlzUHJvY2Vzc2VkPSExLHRoaXMua2V5PXQsdGhpcy5vcHRpb25zPXIsdGhpcy5ydWxlcz1uZXcgby5kZWZhdWx0KGkoe30scix7cGFyZW50OnRoaXN9KSksbil0aGlzLnJ1bGVzLmFkZChhLG5bYV0saSh7fSx0aGlzLm9wdGlvbnMse3BhcmVudDp0aGlzLHNlbGVjdG9yOmF9KSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIHIoZSxbe2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2luZGVudDoxfSx0PXRoaXMucnVsZXMudG9TdHJpbmcoZSk7cmV0dXJuIHQmJih0Kz1cIlxcblwiKSx0aGlzLmtleStcIiB7XFxuXCIrdCtcIn1cIn19XSksZX0oKTt0LmRlZmF1bHQ9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIGkgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixpKSYmKGVbaV09bltpXSl9cmV0dXJuIGV9LHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigyMCkpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4scil7Zm9yKHZhciBhIGluIGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnR5cGU9XCJjb25kaXRpb25hbFwiLHRoaXMuaXNQcm9jZXNzZWQ9ITEsdGhpcy5rZXk9dCx0aGlzLm9wdGlvbnM9cix0aGlzLnJ1bGVzPW5ldyBvLmRlZmF1bHQoaSh7fSxyLHtwYXJlbnQ6dGhpc30pKSxuKXRoaXMucnVsZXMuYWRkKGEsblthXSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIHIoZSxbe2tleTpcImdldFJ1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydWxlcy5nZXQoZSl9fSx7a2V5OlwiaW5kZXhPZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGVzLmluZGV4T2YoZSl9fSx7a2V5OlwiYWRkUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLnJ1bGVzLmFkZChlLHQsbik7cmV0dXJuIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKGkpLGl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7aW5kZW50OjF9LHQ9dGhpcy5ydWxlcy50b1N0cmluZyhlKTtyZXR1cm4gdD90aGlzLmtleStcIiB7XFxuXCIrdCtcIlxcbn1cIjpcIlwifX1dKSxlfSgpO3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxyPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigzMCkpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4saSl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnR5cGU9XCJmb250LWZhY2VcIix0aGlzLmlzUHJvY2Vzc2VkPSExLHRoaXMua2V5PXQsdGhpcy5zdHlsZT1uLHRoaXMub3B0aW9ucz1pfXJldHVybiBpKGUsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkodGhpcy5zdHlsZSkpe2Zvcih2YXIgdD1cIlwiLG49MDtuPHRoaXMuc3R5bGUubGVuZ3RoO24rKyl0Kz0oMCxyLmRlZmF1bHQpKHRoaXMua2V5LHRoaXMuc3R5bGVbbl0pLHRoaXMuc3R5bGVbbisxXSYmKHQrPVwiXFxuXCIpO3JldHVybiB0fXJldHVybigwLHIuZGVmYXVsdCkodGhpcy5rZXksdGhpcy5zdHlsZSxlKX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4oMzApKTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLGkpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy50eXBlPVwidmlld3BvcnRcIix0aGlzLmlzUHJvY2Vzc2VkPSExLHRoaXMua2V5PXQsdGhpcy5zdHlsZT1uLHRoaXMub3B0aW9ucz1pfXJldHVybiBpKGUsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybigwLHIuZGVmYXVsdCkodGhpcy5rZXksdGhpcy5zdHlsZSxlKX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWEobigxOCkpLHI9YShuKDI0KSksbz1hKG4oNTQpKTtmdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10LmRlZmF1bHQ9e29uQ3JlYXRlUnVsZTpmdW5jdGlvbihlLHQsbil7aWYoISgwLG8uZGVmYXVsdCkodCkpcmV0dXJuIG51bGw7dmFyIGk9dCxhPSgwLHIuZGVmYXVsdCkoZSx7fSxuKTtyZXR1cm4gaS5zdWJzY3JpYmUoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWEucHJvcCh0LGVbdF0pfSkpLGF9LG9uUHJvY2Vzc1J1bGU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGkuZGVmYXVsdCl7dmFyIHQ9ZSxuPXQuc3R5bGUscj1mdW5jdGlvbihlKXt2YXIgaT1uW2VdO2lmKCEoMCxvLmRlZmF1bHQpKGkpKXJldHVyblwiY29udGludWVcIjtkZWxldGUgbltlXSxpLnN1YnNjcmliZSh7bmV4dDpmdW5jdGlvbihuKXt0LnByb3AoZSxuKX19KX07Zm9yKHZhciBhIGluIG4pcihhKX19fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWEobigyMCkpLHI9YShuKDE4KSksbz1hKG4oMjQpKTtmdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgcz1EYXRlLm5vdygpLGw9XCJmblZhbHVlc1wiK3MsYz1cImZuU3R5bGVcIisgKytzO3QuZGVmYXVsdD17b25DcmVhdGVSdWxlOmZ1bmN0aW9uKGUsdCxuKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybiBudWxsO3ZhciBpPSgwLG8uZGVmYXVsdCkoZSx7fSxuKTtyZXR1cm4gaVtjXT10LGl9LG9uUHJvY2Vzc1N0eWxlOmZ1bmN0aW9uKGUsdCl7dmFyIG49e307Zm9yKHZhciBpIGluIGUpe3ZhciByPWVbaV07XCJmdW5jdGlvblwiPT10eXBlb2YgciYmKGRlbGV0ZSBlW2ldLG5baV09cil9cmV0dXJuKHQ9dClbbF09bixlfSxvblVwZGF0ZTpmdW5jdGlvbihlLHQpe2lmKHQucnVsZXMgaW5zdGFuY2VvZiBpLmRlZmF1bHQpdC5ydWxlcy51cGRhdGUoZSk7ZWxzZSBpZih0IGluc3RhbmNlb2Ygci5kZWZhdWx0KXtpZigodD10KVtsXSlmb3IodmFyIG4gaW4gdFtsXSl0LnByb3Aobix0W2xdW25dKGUpKTt2YXIgbz0odD10KVtjXTtpZihvKXt2YXIgYT1vKGUpO2Zvcih2YXIgcyBpbiBhKXQucHJvcChzLGFbc10pfX19fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscj1sKG4oMTcpKSxvPWwobigzMSkpLGE9bChuKDE4KSkscz1sKG4oMjMpKTtmdW5jdGlvbiBsKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR8fCh0PWUoKSksdH19O2Z1bmN0aW9uIHUoZSx0KXt0cnl7cmV0dXJuIGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSh0KX1jYXRjaChlKXtyZXR1cm5cIlwifX1mdW5jdGlvbiBoKGUsdCxuKXt0cnl7dmFyIGk9bjtpZihBcnJheS5pc0FycmF5KG4pJiYoaT0oMCxzLmRlZmF1bHQpKG4sITApLFwiIWltcG9ydGFudFwiPT09bltuLmxlbmd0aC0xXSkpcmV0dXJuIGUuc3R5bGUuc2V0UHJvcGVydHkodCxpLFwiaW1wb3J0YW50XCIpLCEwO2Uuc3R5bGUuc2V0UHJvcGVydHkodCxpKX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBkKGUsdCl7dHJ5e2Uuc3R5bGUucmVtb3ZlUHJvcGVydHkodCl9Y2F0Y2goZSl7KDAsci5kZWZhdWx0KSghMSwnW0pTU10gRE9NRXhjZXB0aW9uIFwiJXNcIiB3YXMgdGhyb3duLiBUcmllZCB0byByZW1vdmUgcHJvcGVydHkgXCIlc1wiLicsZS5tZXNzYWdlLHQpfX12YXIgcD0xLGY9NyxtPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjA7cmV0dXJuIGUuc3Vic3RyKHQsZS5pbmRleE9mKFwie1wiKS0xKX07cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQudHlwZT09PXApcmV0dXJuIHQuc2VsZWN0b3JUZXh0O2lmKHQudHlwZT09PWYpe3ZhciBuPXQubmFtZTtpZihuKXJldHVyblwiQGtleWZyYW1lcyBcIituO3ZhciBpPXQuY3NzVGV4dDtyZXR1cm5cIkBcIitlKGksaS5pbmRleE9mKFwia2V5ZnJhbWVzXCIpKX1yZXR1cm4gZSh0LmNzc1RleHQpfX0oKTtmdW5jdGlvbiBnKGUsdCl7cmV0dXJuIGUuc2VsZWN0b3JUZXh0PXQsZS5zZWxlY3RvclRleHQ9PT10fXZhciB5PWMoKGZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXX0pKSxfPWZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwLHQ9ITE7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPXt9O2V8fChlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSk7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl07aWYobyBpbnN0YW5jZW9mIGEuZGVmYXVsdCl7dmFyIHM9by5zZWxlY3RvcjtpZihzJiYtMSE9PXMuaW5kZXhPZihcIlxcXFxcIikpe3R8fCh5KCkuYXBwZW5kQ2hpbGQoZSksdD0hMCksZS50ZXh0Q29udGVudD1zK1wiIHt9XCI7dmFyIGw9ZS5zaGVldDtpZihsKXt2YXIgYz1sLmNzc1J1bGVzO2MmJihpW2NbMF0uc2VsZWN0b3JUZXh0XT1vLmtleSl9fX19cmV0dXJuIHQmJih5KCkucmVtb3ZlQ2hpbGQoZSksdD0hMSksaX19KCk7ZnVuY3Rpb24gdihlKXt2YXIgdD1vLmRlZmF1bHQucmVnaXN0cnk7aWYodC5sZW5ndGg+MCl7dmFyIG49ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpZihpLmF0dGFjaGVkJiZpLm9wdGlvbnMuaW5kZXg+dC5pbmRleCYmaS5vcHRpb25zLmluc2VydGlvblBvaW50PT09dC5pbnNlcnRpb25Qb2ludClyZXR1cm4gaX1yZXR1cm4gbnVsbH0odCxlKTtpZihuKXJldHVybiBuLnJlbmRlcmVyLmVsZW1lbnQ7aWYobj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aC0xO24+PTA7bi0tKXt2YXIgaT1lW25dO2lmKGkuYXR0YWNoZWQmJmkub3B0aW9ucy5pbnNlcnRpb25Qb2ludD09PXQuaW5zZXJ0aW9uUG9pbnQpcmV0dXJuIGl9cmV0dXJuIG51bGx9KHQsZSkpcmV0dXJuIG4ucmVuZGVyZXIuZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmd9dmFyIGk9ZS5pbnNlcnRpb25Qb2ludDtpZihpJiZcInN0cmluZ1wiPT10eXBlb2YgaSl7dmFyIGE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXkoKSxuPTA7bjx0LmNoaWxkTm9kZXMubGVuZ3RoO24rKyl7dmFyIGk9dC5jaGlsZE5vZGVzW25dO2lmKDg9PT1pLm5vZGVUeXBlJiZpLm5vZGVWYWx1ZS50cmltKCk9PT1lKXJldHVybiBpfXJldHVybiBudWxsfShpKTtpZihhKXJldHVybiBhLm5leHRTaWJsaW5nOygwLHIuZGVmYXVsdCkoXCJqc3NcIj09PWksJ1tKU1NdIEluc2VydGlvbiBwb2ludCBcIiVzXCIgbm90IGZvdW5kLicsaSl9cmV0dXJuIG51bGx9dmFyIHg9YygoZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW3Byb3BlcnR5PVwiY3NwLW5vbmNlXCJdJyk7cmV0dXJuIGU/ZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpOm51bGx9KSksYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmdldFByb3BlcnR5VmFsdWU9dSx0aGlzLnNldFByb3BlcnR5PWgsdGhpcy5yZW1vdmVQcm9wZXJ0eT1kLHRoaXMuc2V0U2VsZWN0b3I9Zyx0aGlzLmdldEtleT1tLHRoaXMuZ2V0VW5lc2NhcGVkS2V5c01hcD1fLHRoaXMuaGFzSW5zZXJ0ZWRSdWxlcz0hMSx0JiZvLmRlZmF1bHQuYWRkKHQpLHRoaXMuc2hlZXQ9dDt2YXIgbj10aGlzLnNoZWV0P3RoaXMuc2hlZXQub3B0aW9uczp7fSxpPW4ubWVkaWEscj1uLm1ldGEsYT1uLmVsZW1lbnQ7dGhpcy5lbGVtZW50PWF8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSx0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1qc3NcIixcIlwiKSxpJiZ0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIixpKSxyJiZ0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1tZXRhXCIscik7dmFyIHM9eCgpO3MmJnRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLHMpfXJldHVybiBpKGUsW3trZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbigpeyF0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSYmdGhpcy5zaGVldCYmKHRoaXMuaGFzSW5zZXJ0ZWRSdWxlcyYmKHRoaXMuZGVwbG95KCksdGhpcy5oYXNJbnNlcnRlZFJ1bGVzPSExKSxmdW5jdGlvbihlLHQpe3ZhciBuPXQuaW5zZXJ0aW9uUG9pbnQsaT12KHQpO2lmKGkpe3ZhciBvPWkucGFyZW50Tm9kZTtvJiZvLmluc2VydEJlZm9yZShlLGkpfWVsc2UgaWYobiYmXCJudW1iZXJcIj09dHlwZW9mIG4ubm9kZVR5cGUpe3ZhciBhPW4scz1hLnBhcmVudE5vZGU7cz9zLmluc2VydEJlZm9yZShlLGEubmV4dFNpYmxpbmcpOigwLHIuZGVmYXVsdCkoITEsXCJbSlNTXSBJbnNlcnRpb24gcG9pbnQgaXMgbm90IGluIHRoZSBET00uXCIpfWVsc2UgeSgpLmluc2VydEJlZm9yZShlLGkpfSh0aGlzLmVsZW1lbnQsdGhpcy5zaGVldC5vcHRpb25zKSl9fSx7a2V5OlwiZGV0YWNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpfX0se2tleTpcImRlcGxveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zaGVldCYmKHRoaXMuZWxlbWVudC50ZXh0Q29udGVudD1cIlxcblwiK3RoaXMuc2hlZXQudG9TdHJpbmcoKStcIlxcblwiKX19LHtrZXk6XCJpbnNlcnRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmVsZW1lbnQuc2hlZXQsaT1uLmNzc1J1bGVzLG89ZS50b1N0cmluZygpO2lmKHR8fCh0PWkubGVuZ3RoKSwhbylyZXR1cm4hMTt0cnl7bi5pbnNlcnRSdWxlKG8sdCl9Y2F0Y2godCl7cmV0dXJuKDAsci5kZWZhdWx0KSghMSxcIltKU1NdIENhbiBub3QgaW5zZXJ0IGFuIHVuc3VwcG9ydGVkIHJ1bGUgXFxuXFxyJXNcIixlKSwhMX1yZXR1cm4gdGhpcy5oYXNJbnNlcnRlZFJ1bGVzPSEwLGlbdF19fSx7a2V5OlwiZGVsZXRlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWxlbWVudC5zaGVldCxuPXRoaXMuaW5kZXhPZihlKTtyZXR1cm4tMSE9PW4mJih0LmRlbGV0ZVJ1bGUobiksITApfX0se2tleTpcImluZGV4T2ZcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5lbGVtZW50LnNoZWV0LmNzc1J1bGVzLG49MDtuPHQubGVuZ3RoO24rKylpZihlPT09dFtuXSlyZXR1cm4gbjtyZXR1cm4tMX19LHtrZXk6XCJyZXBsYWNlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5pbmRleE9mKGUpLGk9dGhpcy5pbnNlcnRSdWxlKHQsbik7cmV0dXJuIHRoaXMuZWxlbWVudC5zaGVldC5kZWxldGVSdWxlKG4pLGl9fSx7a2V5OlwiZ2V0UnVsZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuc2hlZXQuY3NzUnVsZXN9fV0pLGV9KCk7dC5kZWZhdWx0PWJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSl9cmV0dXJuIGkoZSxbe2tleTpcInNldFByb3BlcnR5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LHtrZXk6XCJnZXRQcm9wZXJ0eVZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifX0se2tleTpcInJlbW92ZVByb3BlcnR5XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwic2V0U2VsZWN0b3JcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiEwfX0se2tleTpcImdldEtleVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19LHtrZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJkZXRhY2hcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJkZXBsb3lcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJpbnNlcnRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMX19LHtrZXk6XCJkZWxldGVSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LHtrZXk6XCJyZXBsYWNlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSx7a2V5OlwiZ2V0UnVsZXNcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJpbmRleE9mXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4tMX19XSksZX0oKTt0LmRlZmF1bHQ9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIGkgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixpKSYmKGVbaV09bltpXSl9cmV0dXJuIGV9O3QuZGVmYXVsdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIGk9ZS5nZXRSdWxlKG4pO3JldHVybiBpP2kuc2VsZWN0b3I6KCgwLHIuZGVmYXVsdCkoITEsXCJbSlNTXSBDb3VsZCBub3QgZmluZCB0aGUgcmVmZXJlbmNlZCBydWxlICVzIGluICVzLlwiLG4sZS5vcHRpb25zLm1ldGF8fGUpLG4pfX12YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4tMSE9PWUuaW5kZXhPZihcIiZcIil9O2Z1bmN0aW9uIG4oZSxuKXtmb3IodmFyIGk9bi5zcGxpdChvKSxyPWUuc3BsaXQobykscz1cIlwiLGw9MDtsPGkubGVuZ3RoO2wrKylmb3IodmFyIGM9aVtsXSx1PTA7dTxyLmxlbmd0aDt1Kyspe3ZhciBoPXJbdV07cyYmKHMrPVwiLCBcIikscys9dChoKT9oLnJlcGxhY2UoYSxjKTpjK1wiIFwiK2h9cmV0dXJuIHN9ZnVuY3Rpb24gbChlLHQsbil7aWYobilyZXR1cm4gaSh7fSxuLHtpbmRleDpuLmluZGV4KzF9KTt2YXIgcj1lLm9wdGlvbnMubmVzdGluZ0xldmVsO3JldHVybiByPXZvaWQgMD09PXI/MTpyKzEsaSh7fSxlLm9wdGlvbnMse25lc3RpbmdMZXZlbDpyLGluZGV4OnQuaW5kZXhPZihlKSsxfSl9cmV0dXJue29uUHJvY2Vzc1N0eWxlOmZ1bmN0aW9uKHIsbyl7aWYoXCJzdHlsZVwiIT09by50eXBlKXJldHVybiByO3ZhciBhPW8ub3B0aW9ucy5wYXJlbnQsYz12b2lkIDAsdT12b2lkIDA7Zm9yKHZhciBoIGluIHIpe3ZhciBkPXQoaCkscD1cIkBcIj09PWhbMF07aWYoZHx8cCl7aWYoYz1sKG8sYSxjKSxkKXt2YXIgZj1uKGgsby5zZWxlY3Rvcik7dXx8KHU9ZShhKSksZj1mLnJlcGxhY2Uocyx1KSxhLmFkZFJ1bGUoZixyW2hdLGkoe30sYyx7c2VsZWN0b3I6Zn0pKX1lbHNlIHAmJmEuYWRkUnVsZShoLG51bGwsYykuYWRkUnVsZShvLmtleSxyW2hdLHtzZWxlY3RvcjpvLnNlbGVjdG9yfSk7ZGVsZXRlIHJbaF19fXJldHVybiByfX19O3ZhciByPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigxMTIpKTt2YXIgbz0vXFxzKixcXHMqL2csYT0vJi9nLHM9L1xcJChbXFx3LV0rKS9nfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybntvblByb2Nlc3NTdHlsZTpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdPXIoZVt0XSk7cmV0dXJuIGV9cmV0dXJuIHIoZSl9LG9uQ2hhbmdlVmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPSgwLGkuZGVmYXVsdCkodCk7cmV0dXJuIHQ9PT1yP2U6KG4ucHJvcChyLGUpLG51bGwpfX19O3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigxMTQpKTtmdW5jdGlvbiByKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKXRbKDAsaS5kZWZhdWx0KShuKV09ZVtuXTtyZXR1cm4gZS5mYWxsYmFja3MmJihBcnJheS5pc0FycmF5KGUuZmFsbGJhY2tzKT90LmZhbGxiYWNrcz1lLmZhbGxiYWNrcy5tYXAocik6dC5mYWxsYmFja3M9cihlLmZhbGxiYWNrcykpLHR9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpO3ZhciBpPS9bQS1aXS9nLHI9L15tcy0vLG89e307ZnVuY3Rpb24gYShlKXtyZXR1cm5cIi1cIitlLnRvTG93ZXJDYXNlKCl9dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2lmKG8uaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuIG9bZV07dmFyIHQ9ZS5yZXBsYWNlKGksYSk7cmV0dXJuIG9bZV09ci50ZXN0KHQpP1wiLVwiK3Q6dH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTtmdW5jdGlvbiByKGUpe3ZhciB0PS8oLVthLXpdKS9nLG49ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV0udG9VcHBlckNhc2UoKX0saT17fTtmb3IodmFyIHIgaW4gZSlpW3JdPWVbcl0saVtyLnJlcGxhY2UodCxuKV09ZVtyXTtyZXR1cm4gaX10LmRlZmF1bHQ9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1yKGUpO2Z1bmN0aW9uIG4oZSxuKXtpZihcInN0eWxlXCIhPT1uLnR5cGUpcmV0dXJuIGU7Zm9yKHZhciBpIGluIGUpZVtpXT1hKGksZVtpXSx0KTtyZXR1cm4gZX1mdW5jdGlvbiBpKGUsbil7cmV0dXJuIGEobixlLHQpfXJldHVybntvblByb2Nlc3NTdHlsZTpuLG9uQ2hhbmdlVmFsdWU6aX19O3ZhciBvPXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKDExNikpLmRlZmF1bHQpO2Z1bmN0aW9uIGEoZSx0LG4pe2lmKCF0KXJldHVybiB0O3ZhciByPXQscz12b2lkIDA9PT10P1widW5kZWZpbmVkXCI6aSh0KTtzd2l0Y2goXCJvYmplY3RcIj09PXMmJkFycmF5LmlzQXJyYXkodCkmJihzPVwiYXJyYXlcIikscyl7Y2FzZVwib2JqZWN0XCI6aWYoXCJmYWxsYmFja3NcIj09PWUpe2Zvcih2YXIgbCBpbiB0KXRbbF09YShsLHRbbF0sbik7YnJlYWt9Zm9yKHZhciBjIGluIHQpdFtjXT1hKGUrXCItXCIrYyx0W2NdLG4pO2JyZWFrO2Nhc2VcImFycmF5XCI6Zm9yKHZhciB1PTA7dTx0Lmxlbmd0aDt1KyspdFt1XT1hKGUsdFt1XSxuKTticmVhaztjYXNlXCJudW1iZXJcIjowIT09dCYmKHI9dCsobltlXXx8b1tlXXx8XCJcIikpfXJldHVybiByfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD17XCJhbmltYXRpb24tZGVsYXlcIjpcIm1zXCIsXCJhbmltYXRpb24tZHVyYXRpb25cIjpcIm1zXCIsXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6XCJweFwiLFwiYmFja2dyb3VuZC1wb3NpdGlvbi14XCI6XCJweFwiLFwiYmFja2dyb3VuZC1wb3NpdGlvbi15XCI6XCJweFwiLFwiYmFja2dyb3VuZC1zaXplXCI6XCJweFwiLGJvcmRlcjpcInB4XCIsXCJib3JkZXItYm90dG9tXCI6XCJweFwiLFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiOlwicHhcIixcImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXCI6XCJweFwiLFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiOlwicHhcIixcImJvcmRlci1sZWZ0XCI6XCJweFwiLFwiYm9yZGVyLWxlZnQtd2lkdGhcIjpcInB4XCIsXCJib3JkZXItcmFkaXVzXCI6XCJweFwiLFwiYm9yZGVyLXJpZ2h0XCI6XCJweFwiLFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCI6XCJweFwiLFwiYm9yZGVyLXNwYWNpbmdcIjpcInB4XCIsXCJib3JkZXItdG9wXCI6XCJweFwiLFwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiOlwicHhcIixcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzXCI6XCJweFwiLFwiYm9yZGVyLXRvcC13aWR0aFwiOlwicHhcIixcImJvcmRlci13aWR0aFwiOlwicHhcIixcImJvcmRlci1hZnRlci13aWR0aFwiOlwicHhcIixcImJvcmRlci1iZWZvcmUtd2lkdGhcIjpcInB4XCIsXCJib3JkZXItZW5kLXdpZHRoXCI6XCJweFwiLFwiYm9yZGVyLWhvcml6b250YWwtc3BhY2luZ1wiOlwicHhcIixcImJvcmRlci1zdGFydC13aWR0aFwiOlwicHhcIixcImJvcmRlci12ZXJ0aWNhbC1zcGFjaW5nXCI6XCJweFwiLGJvdHRvbTpcInB4XCIsXCJib3gtc2hhZG93XCI6XCJweFwiLFwiY29sdW1uLWdhcFwiOlwicHhcIixcImNvbHVtbi1ydWxlXCI6XCJweFwiLFwiY29sdW1uLXJ1bGUtd2lkdGhcIjpcInB4XCIsXCJjb2x1bW4td2lkdGhcIjpcInB4XCIsXCJmbGV4LWJhc2lzXCI6XCJweFwiLFwiZm9udC1zaXplXCI6XCJweFwiLFwiZm9udC1zaXplLWRlbHRhXCI6XCJweFwiLGhlaWdodDpcInB4XCIsbGVmdDpcInB4XCIsXCJsZXR0ZXItc3BhY2luZ1wiOlwicHhcIixcImxvZ2ljYWwtaGVpZ2h0XCI6XCJweFwiLFwibG9naWNhbC13aWR0aFwiOlwicHhcIixtYXJnaW46XCJweFwiLFwibWFyZ2luLWFmdGVyXCI6XCJweFwiLFwibWFyZ2luLWJlZm9yZVwiOlwicHhcIixcIm1hcmdpbi1ib3R0b21cIjpcInB4XCIsXCJtYXJnaW4tbGVmdFwiOlwicHhcIixcIm1hcmdpbi1yaWdodFwiOlwicHhcIixcIm1hcmdpbi10b3BcIjpcInB4XCIsXCJtYXgtaGVpZ2h0XCI6XCJweFwiLFwibWF4LXdpZHRoXCI6XCJweFwiLFwibWFyZ2luLWVuZFwiOlwicHhcIixcIm1hcmdpbi1zdGFydFwiOlwicHhcIixcIm1hc2stcG9zaXRpb24teFwiOlwicHhcIixcIm1hc2stcG9zaXRpb24teVwiOlwicHhcIixcIm1hc2stc2l6ZVwiOlwicHhcIixcIm1heC1sb2dpY2FsLWhlaWdodFwiOlwicHhcIixcIm1heC1sb2dpY2FsLXdpZHRoXCI6XCJweFwiLFwibWluLWhlaWdodFwiOlwicHhcIixcIm1pbi13aWR0aFwiOlwicHhcIixcIm1pbi1sb2dpY2FsLWhlaWdodFwiOlwicHhcIixcIm1pbi1sb2dpY2FsLXdpZHRoXCI6XCJweFwiLG1vdGlvbjpcInB4XCIsXCJtb3Rpb24tb2Zmc2V0XCI6XCJweFwiLG91dGxpbmU6XCJweFwiLFwib3V0bGluZS1vZmZzZXRcIjpcInB4XCIsXCJvdXRsaW5lLXdpZHRoXCI6XCJweFwiLHBhZGRpbmc6XCJweFwiLFwicGFkZGluZy1ib3R0b21cIjpcInB4XCIsXCJwYWRkaW5nLWxlZnRcIjpcInB4XCIsXCJwYWRkaW5nLXJpZ2h0XCI6XCJweFwiLFwicGFkZGluZy10b3BcIjpcInB4XCIsXCJwYWRkaW5nLWFmdGVyXCI6XCJweFwiLFwicGFkZGluZy1iZWZvcmVcIjpcInB4XCIsXCJwYWRkaW5nLWVuZFwiOlwicHhcIixcInBhZGRpbmctc3RhcnRcIjpcInB4XCIsXCJwZXJzcGVjdGl2ZS1vcmlnaW4teFwiOlwiJVwiLFwicGVyc3BlY3RpdmUtb3JpZ2luLXlcIjpcIiVcIixwZXJzcGVjdGl2ZTpcInB4XCIscmlnaHQ6XCJweFwiLFwic2hhcGUtbWFyZ2luXCI6XCJweFwiLHNpemU6XCJweFwiLFwidGV4dC1pbmRlbnRcIjpcInB4XCIsXCJ0ZXh0LXN0cm9rZVwiOlwicHhcIixcInRleHQtc3Ryb2tlLXdpZHRoXCI6XCJweFwiLHRvcDpcInB4XCIsXCJ0cmFuc2Zvcm0tb3JpZ2luXCI6XCIlXCIsXCJ0cmFuc2Zvcm0tb3JpZ2luLXhcIjpcIiVcIixcInRyYW5zZm9ybS1vcmlnaW4teVwiOlwiJVwiLFwidHJhbnNmb3JtLW9yaWdpbi16XCI6XCIlXCIsXCJ0cmFuc2l0aW9uLWRlbGF5XCI6XCJtc1wiLFwidHJhbnNpdGlvbi1kdXJhdGlvblwiOlwibXNcIixcInZlcnRpY2FsLWFsaWduXCI6XCJweFwiLHdpZHRoOlwicHhcIixcIndvcmQtc3BhY2luZ1wiOlwicHhcIixcImJveC1zaGFkb3cteFwiOlwicHhcIixcImJveC1zaGFkb3cteVwiOlwicHhcIixcImJveC1zaGFkb3ctYmx1clwiOlwicHhcIixcImJveC1zaGFkb3ctc3ByZWFkXCI6XCJweFwiLFwiZm9udC1saW5lLWhlaWdodFwiOlwicHhcIixcInRleHQtc2hhZG93LXhcIjpcInB4XCIsXCJ0ZXh0LXNoYWRvdy15XCI6XCJweFwiLFwidGV4dC1zaGFkb3ctYmx1clwiOlwicHhcIn19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57b25Qcm9jZXNzUnVsZTpmdW5jdGlvbihlKXtcImtleWZyYW1lc1wiPT09ZS50eXBlJiYoZS5rZXk9XCJAXCIraS5wcmVmaXguY3NzK2Uua2V5LnN1YnN0cigxKSl9LG9uUHJvY2Vzc1N0eWxlOmZ1bmN0aW9uKGUsdCl7aWYoXCJzdHlsZVwiIT09dC50eXBlKXJldHVybiBlO2Zvcih2YXIgbiBpbiBlKXt2YXIgcj1lW25dLG89ITEsYT1pLnN1cHBvcnRlZFByb3BlcnR5KG4pO2EmJmEhPT1uJiYobz0hMCk7dmFyIHM9ITEsbD1pLnN1cHBvcnRlZFZhbHVlKGEscik7bCYmbCE9PXImJihzPSEwKSwob3x8cykmJihvJiZkZWxldGUgZVtuXSxlW2F8fG5dPWx8fHIpfXJldHVybiBlfSxvbkNoYW5nZVZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuc3VwcG9ydGVkVmFsdWUodCxlKX19fTt2YXIgaT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KG4oMTE4KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnN1cHBvcnRlZFZhbHVlPXQuc3VwcG9ydGVkUHJvcGVydHk9dC5wcmVmaXg9dm9pZCAwO3ZhciBpPWEobigzMikpLHI9YShuKDExOSkpLG89YShuKDEyMSkpO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuZGVmYXVsdD17cHJlZml4OmkuZGVmYXVsdCxzdXBwb3J0ZWRQcm9wZXJ0eTpyLmRlZmF1bHQsc3VwcG9ydGVkVmFsdWU6by5kZWZhdWx0fSx0LnByZWZpeD1pLmRlZmF1bHQsdC5zdXBwb3J0ZWRQcm9wZXJ0eT1yLmRlZmF1bHQsdC5zdXBwb3J0ZWRWYWx1ZT1vLmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7aWYoIXMpcmV0dXJuIGU7aWYobnVsbCE9bFtlXSlyZXR1cm4gbFtlXTsoMCxvLmRlZmF1bHQpKGUpaW4gcy5zdHlsZT9sW2VdPWU6ci5kZWZhdWx0LmpzKygwLG8uZGVmYXVsdCkoXCItXCIrZSlpbiBzLnN0eWxlP2xbZV09ci5kZWZhdWx0LmNzcytlOmxbZV09ITE7cmV0dXJuIGxbZV19O3ZhciBpPWEobigyNikpLHI9YShuKDMyKSksbz1hKG4oMTIwKSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHM9dm9pZCAwLGw9e307aWYoaS5kZWZhdWx0KXtzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO3ZhciBjPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcIlwiKTtmb3IodmFyIHUgaW4gYylpc05hTih1KXx8KGxbY1t1XV09Y1t1XSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoaSxyKX07dmFyIGk9L1stXFxzXSsoLik/L2c7ZnVuY3Rpb24gcihlLHQpe3JldHVybiB0P3QudG9VcHBlckNhc2UoKTpcIlwifX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCFzKXJldHVybiB0O2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0fHwhaXNOYU4ocGFyc2VJbnQodCwxMCkpKXJldHVybiB0O3ZhciBuPWUrdDtpZihudWxsIT1hW25dKXJldHVybiBhW25dO3RyeXtzLnN0eWxlW2VdPXR9Y2F0Y2goZSl7cmV0dXJuIGFbbl09ITEsITF9XCJcIiE9PXMuc3R5bGVbZV0/YVtuXT10OihcIi1tcy1mbGV4XCI9PT0odD1yLmRlZmF1bHQuY3NzK3QpJiYodD1cIi1tcy1mbGV4Ym94XCIpLHMuc3R5bGVbZV09dCxcIlwiIT09cy5zdHlsZVtlXSYmKGFbbl09dCkpO2Fbbl18fChhW25dPSExKTtyZXR1cm4gcy5zdHlsZVtlXT1cIlwiLGFbbl19O3ZhciBpPW8obigyNikpLHI9byhuKDMyKSk7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGE9e30scz12b2lkIDA7aS5kZWZhdWx0JiYocz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7cmV0dXJuIGUubGVuZ3RoLXQubGVuZ3RofXJldHVybntvblByb2Nlc3NTdHlsZTpmdW5jdGlvbih0LG4pe2lmKFwic3R5bGVcIiE9PW4udHlwZSlyZXR1cm4gdDt2YXIgaT17fSxyPU9iamVjdC5rZXlzKHQpLnNvcnQoZSk7Zm9yKHZhciBvIGluIHIpaVtyW29dXT10W3Jbb11dO3JldHVybiBpfX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigxMjQpLHI9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5NdWlUaGVtZVByb3ZpZGVyT2xkPXZvaWQgMDt2YXIgbz1yKG4oMikpLGE9cihuKDUpKSxzPXIobigxMCkpLGw9cihuKDExKSksYz1yKG4oMTIpKSx1PXIobigxMykpLGg9cihuKDE0KSksZD1yKG4oMSkpLHA9cihuKDMpKSxmPShyKG4oNikpLHIobigxMjcpKSksbT1uKDcpLGc9aShuKDM0KSkseT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbil7dmFyIGk7cmV0dXJuKDAscy5kZWZhdWx0KSh0aGlzLHQpLChpPSgwLGMuZGVmYXVsdCkodGhpcywoMCx1LmRlZmF1bHQpKHQpLmNhbGwodGhpcykpKS5icm9hZGNhc3Q9KDAsZi5kZWZhdWx0KSgpLGkub3V0ZXJUaGVtZT1nLmRlZmF1bHQuaW5pdGlhbChuKSxpLmJyb2FkY2FzdC5zZXRTdGF0ZShpLm1lcmdlT3V0ZXJMb2NhbFRoZW1lKGUudGhlbWUpKSxpfXJldHVybigwLGguZGVmYXVsdCkodCxlKSwoMCxsLmRlZmF1bHQpKHQsW3trZXk6XCJnZXRDaGlsZENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5wcm9wcyxuPXQuZGlzYWJsZVN0eWxlc0dlbmVyYXRpb24saT10LnNoZWV0c0NhY2hlLHI9dC5zaGVldHNNYW5hZ2VyLG89dGhpcy5jb250ZXh0Lm11aVRoZW1lUHJvdmlkZXJPcHRpb25zfHx7fTtyZXR1cm4gdm9pZCAwIT09biYmKG8uZGlzYWJsZVN0eWxlc0dlbmVyYXRpb249biksdm9pZCAwIT09aSYmKG8uc2hlZXRzQ2FjaGU9aSksdm9pZCAwIT09ciYmKG8uc2hlZXRzTWFuYWdlcj1yKSxlPXt9LCgwLGEuZGVmYXVsdCkoZSxnLkNIQU5ORUwsdGhpcy5icm9hZGNhc3QpLCgwLGEuZGVmYXVsdCkoZSxcIm11aVRoZW1lUHJvdmlkZXJPcHRpb25zXCIsbyksZX19LHtrZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnVuc3Vic2NyaWJlSWQ9Zy5kZWZhdWx0LnN1YnNjcmliZSh0aGlzLmNvbnRleHQsKGZ1bmN0aW9uKHQpe2Uub3V0ZXJUaGVtZT10LGUuYnJvYWRjYXN0LnNldFN0YXRlKGUubWVyZ2VPdXRlckxvY2FsVGhlbWUoZS5wcm9wcy50aGVtZSkpfSkpfX0se2tleTpcImNvbXBvbmVudERpZFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucHJvcHMudGhlbWUhPT1lLnRoZW1lJiZ0aGlzLmJyb2FkY2FzdC5zZXRTdGF0ZSh0aGlzLm1lcmdlT3V0ZXJMb2NhbFRoZW1lKHRoaXMucHJvcHMudGhlbWUpKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMudW5zdWJzY3JpYmVJZCYmZy5kZWZhdWx0LnVuc3Vic2NyaWJlKHRoaXMuY29udGV4dCx0aGlzLnVuc3Vic2NyaWJlSWQpfX0se2tleTpcIm1lcmdlT3V0ZXJMb2NhbFRoZW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKHRoaXMub3V0ZXJUaGVtZSk6dGhpcy5vdXRlclRoZW1lPygwLG8uZGVmYXVsdCkoe30sdGhpcy5vdXRlclRoZW1lLGUpOmV9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbn19XSksdH0oZC5kZWZhdWx0LkNvbXBvbmVudCk7dC5NdWlUaGVtZVByb3ZpZGVyT2xkPXkseS5jaGlsZENvbnRleHRUeXBlcz0oMCxvLmRlZmF1bHQpKHt9LGcuZGVmYXVsdC5jb250ZXh0VHlwZXMse211aVRoZW1lUHJvdmlkZXJPcHRpb25zOnAuZGVmYXVsdC5vYmplY3R9KSx5LmNvbnRleHRUeXBlcz0oMCxvLmRlZmF1bHQpKHt9LGcuZGVmYXVsdC5jb250ZXh0VHlwZXMse211aVRoZW1lUHJvdmlkZXJPcHRpb25zOnAuZGVmYXVsdC5vYmplY3R9KSxtLnBvbnlmaWxsR2xvYmFsLl9fTVVJX1NUWUxFU19ffHwobS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXz17fSksbS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXy5NdWlUaGVtZVByb3ZpZGVyfHwobS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXy5NdWlUaGVtZVByb3ZpZGVyPXkpO3ZhciBfPW0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18uTXVpVGhlbWVQcm92aWRlcjt0LmRlZmF1bHQ9X30sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oMTUpLmRlZmF1bHQ7ZnVuY3Rpb24gcihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciB0PW5ldyBXZWFrTWFwLG49bmV3IFdlYWtNYXA7cmV0dXJuKHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/bjp0fSkoZSl9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PWkoZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJue2RlZmF1bHQ6ZX07dmFyIG49cih0KTtpZihuJiZuLmhhcyhlKSlyZXR1cm4gbi5nZXQoZSk7dmFyIG89e30sYT1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBzIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1zJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSl7dmFyIGw9YT9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscyk6bnVsbDtsJiYobC5nZXR8fGwuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobyxzLGwpOm9bc109ZVtzXX1yZXR1cm4gby5kZWZhdWx0PWUsbiYmbi5zZXQoZSxvKSxvfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDEyNik7ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBvKCl7fW8ucmVzZXRXYXJuaW5nQ2FjaGU9cixlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIsbyxhKXtpZihhIT09aSl7dmFyIHM9bmV3IEVycm9yKFwiQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlc1wiKTt0aHJvdyBzLm5hbWU9XCJJbnZhcmlhbnQgVmlvbGF0aW9uXCIsc319ZnVuY3Rpb24gdCgpe3JldHVybiBlfWUuaXNSZXF1aXJlZD1lO3ZhciBuPXthcnJheTplLGJpZ2ludDplLGJvb2w6ZSxmdW5jOmUsbnVtYmVyOmUsb2JqZWN0OmUsc3RyaW5nOmUsc3ltYm9sOmUsYW55OmUsYXJyYXlPZjp0LGVsZW1lbnQ6ZSxlbGVtZW50VHlwZTplLGluc3RhbmNlT2Y6dCxub2RlOmUsb2JqZWN0T2Y6dCxvbmVPZjp0LG9uZU9mVHlwZTp0LHNoYXBlOnQsZXhhY3Q6dCxjaGVja1Byb3BUeXBlczpvLHJlc2V0V2FybmluZ0NhY2hlOnJ9O3JldHVybiBuLlByb3BUeXBlcz1uLG59fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPVwiU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRURcIn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj0xLGk9ZTtyZXR1cm57Z2V0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sc2V0U3RhdGU6ZnVuY3Rpb24oZSl7aT1lO2Zvcih2YXIgbj1PYmplY3Qua2V5cyh0KSxyPTAsbz1uLmxlbmd0aDtyPG87cisrKXRbbltyXV0mJnRbbltyXV0oZSl9LHN1YnNjcmliZTpmdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7dmFyIGk9bjtyZXR1cm4gdFtpXT1lLG4rPTEsaX0sdW5zdWJzY3JpYmU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRbZV19fX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT17anNzOlwiNjRhNTVkNTc4Zjg1NmQyNThkYzM0NWIwOTRhMmEyYjNcIixzaGVldHNSZWdpc3RyeTpcImQ0YmQwYmFhY2JjNTJiYmQ0OGJiYjllYjI0MzQ0ZWNkXCIsc2hlZXRPcHRpb25zOlwiNmZjNTcwZDZiZDYxMzgzODE5ZDBmOWU3NDA3YzQ1MmRcIn07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIHI9aShuKDIpKTtpKG4oNikpLG4oNyk7dmFyIG89ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmJhc2VDbGFzc2VzLG49ZS5uZXdDbGFzc2VzO2lmKGUuQ29tcG9uZW50LCFuKXJldHVybiB0O3ZhciBpPSgwLHIuZGVmYXVsdCkoe30sdCk7cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe25bZV0mJihpW2VdPVwiXCIuY29uY2F0KHRbZV0sXCIgXCIpLmNvbmNhdChuW2VdKSl9KSksaX07dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPXtzZXQ6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9ZS5nZXQodCk7cnx8KHI9bmV3IE1hcCxlLnNldCh0LHIpKSxyLnNldChuLGkpfSxnZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWUuZ2V0KHQpO3JldHVybiBpP2kuZ2V0KG4pOnZvaWQgMH0sZGVsZXRlOmZ1bmN0aW9uKGUsdCxuKXtlLmdldCh0KS5kZWxldGUobil9fTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKG4oMikpLG89KGkobigxNSkpLGkobig2KSksaShuKDIyKSkpO2Z1bmN0aW9uIGEoZSx0KXtyZXR1cm4gdH12YXIgcz1mdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlO3JldHVybntjcmVhdGU6ZnVuY3Rpb24obixpKXt2YXIgcz10P2Uobik6ZTtpZighaXx8IW4ub3ZlcnJpZGVzfHwhbi5vdmVycmlkZXNbaV0pcmV0dXJuIHM7dmFyIGw9bi5vdmVycmlkZXNbaV0sYz0oMCxyLmRlZmF1bHQpKHt9LHMpO3JldHVybiBPYmplY3Qua2V5cyhsKS5mb3JFYWNoKChmdW5jdGlvbihlKXtjW2VdPSgwLG8uZGVmYXVsdCkoY1tlXSxsW2VdLHthcnJheU1lcmdlOmF9KX0pKSxjfSxvcHRpb25zOnt9LHRoZW1pbmdFbmFibGVkOnR9fTt0LmRlZmF1bHQ9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50aGVtZSxuPWUubmFtZSxpPWUucHJvcHM7aWYoIXQucHJvcHN8fCFufHwhdC5wcm9wc1tuXSlyZXR1cm4gaTt2YXIgcixvPXQucHJvcHNbbl07Zm9yKHIgaW4gbyl2b2lkIDA9PT1pW3JdJiYoaVtyXT1vW3JdKTtyZXR1cm4gaX07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIHIsbz1pKG4oMikpLGE9aShuKDQpKSxzPWkobigxMCkpLGw9aShuKDExKSksYz1pKG4oMTIpKSx1PWkobigxMykpLGg9aShuKDE0KSksZD1pKG4oMSkpLHA9KGkobigzKSksaShuKDM1KSkpLGY9big3KSxtPWkobigyOSkpLGc9aShuKDM0KSk7ZnVuY3Rpb24geSgpe3JldHVybiByfHwocj0oMCxtLmRlZmF1bHQpKHt0eXBvZ3JhcGh5OntzdXBwcmVzc1dhcm5pbmc6ITB9fSkpfWYucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX198fChmLnBvbnlmaWxsR2xvYmFsLl9fTVVJX1NUWUxFU19fPXt9KSxmLnBvbnlmaWxsR2xvYmFsLl9fTVVJX1NUWUxFU19fLndpdGhUaGVtZXx8KGYucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFRoZW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSx0KXt2YXIgaTtyZXR1cm4oMCxzLmRlZmF1bHQpKHRoaXMsbiksKGk9KDAsYy5kZWZhdWx0KSh0aGlzLCgwLHUuZGVmYXVsdCkobikuY2FsbCh0aGlzKSkpLnN0YXRlPXt0aGVtZTpnLmRlZmF1bHQuaW5pdGlhbCh0KXx8eSgpfSxpfXJldHVybigwLGguZGVmYXVsdCkobix0KSwoMCxsLmRlZmF1bHQpKG4sW3trZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnVuc3Vic2NyaWJlSWQ9Zy5kZWZhdWx0LnN1YnNjcmliZSh0aGlzLmNvbnRleHQsKGZ1bmN0aW9uKHQpe2Uuc2V0U3RhdGUoe3RoZW1lOnR9KX0pKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMudW5zdWJzY3JpYmVJZCYmZy5kZWZhdWx0LnVuc3Vic2NyaWJlKHRoaXMuY29udGV4dCx0aGlzLnVuc3Vic2NyaWJlSWQpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxuPXQuaW5uZXJSZWYsaT0oMCxhLmRlZmF1bHQpKHQsW1wiaW5uZXJSZWZcIl0pO3JldHVybiBkLmRlZmF1bHQuY3JlYXRlRWxlbWVudChlLCgwLG8uZGVmYXVsdCkoe3RoZW1lOnRoaXMuc3RhdGUudGhlbWUscmVmOm59LGkpKX19XSksbn0oZC5kZWZhdWx0LkNvbXBvbmVudCk7cmV0dXJuIHQuY29udGV4dFR5cGVzPWcuZGVmYXVsdC5jb250ZXh0VHlwZXMsKDAscC5kZWZhdWx0KSh0LGUpLHR9fSk7dmFyIF89Zi5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXy53aXRoVGhlbWU7dC5kZWZhdWx0PV99LCwsZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDUpKSxhPWkobig0KSkscz1pKG4oMSkpLGw9KGkobigzKSksaShuKDgpKSksYz0obig3KSxpKG4oOSkpKSx1PW4oMTYpLGg9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e2Rpc3BsYXk6XCJibG9ja1wiLG1hcmdpbjowfSxkaXNwbGF5NDplLnR5cG9ncmFwaHkuZGlzcGxheTQsZGlzcGxheTM6ZS50eXBvZ3JhcGh5LmRpc3BsYXkzLGRpc3BsYXkyOmUudHlwb2dyYXBoeS5kaXNwbGF5MixkaXNwbGF5MTplLnR5cG9ncmFwaHkuZGlzcGxheTEsaGVhZGxpbmU6ZS50eXBvZ3JhcGh5LmhlYWRsaW5lLHRpdGxlOmUudHlwb2dyYXBoeS50aXRsZSxzdWJoZWFkaW5nOmUudHlwb2dyYXBoeS5zdWJoZWFkaW5nLGJvZHkyOmUudHlwb2dyYXBoeS5ib2R5Mixib2R5MTplLnR5cG9ncmFwaHkuYm9keTEsY2FwdGlvbjplLnR5cG9ncmFwaHkuY2FwdGlvbixidXR0b246ZS50eXBvZ3JhcGh5LmJ1dHRvbixoMTplLnR5cG9ncmFwaHkuaDEsaDI6ZS50eXBvZ3JhcGh5LmgyLGgzOmUudHlwb2dyYXBoeS5oMyxoNDplLnR5cG9ncmFwaHkuaDQsaDU6ZS50eXBvZ3JhcGh5Lmg1LGg2OmUudHlwb2dyYXBoeS5oNixzdWJ0aXRsZTE6ZS50eXBvZ3JhcGh5LnN1YnRpdGxlMSxzdWJ0aXRsZTI6ZS50eXBvZ3JhcGh5LnN1YnRpdGxlMixvdmVybGluZTplLnR5cG9ncmFwaHkub3ZlcmxpbmUsc3JPbmx5Ontwb3NpdGlvbjpcImFic29sdXRlXCIsaGVpZ2h0OjEsd2lkdGg6MSxvdmVyZmxvdzpcImhpZGRlblwifSxhbGlnbkxlZnQ6e3RleHRBbGlnbjpcImxlZnRcIn0sYWxpZ25DZW50ZXI6e3RleHRBbGlnbjpcImNlbnRlclwifSxhbGlnblJpZ2h0Ont0ZXh0QWxpZ246XCJyaWdodFwifSxhbGlnbkp1c3RpZnk6e3RleHRBbGlnbjpcImp1c3RpZnlcIn0sbm9XcmFwOntvdmVyZmxvdzpcImhpZGRlblwiLHRleHRPdmVyZmxvdzpcImVsbGlwc2lzXCIsd2hpdGVTcGFjZTpcIm5vd3JhcFwifSxndXR0ZXJCb3R0b206e21hcmdpbkJvdHRvbTpcIjAuMzVlbVwifSxwYXJhZ3JhcGg6e21hcmdpbkJvdHRvbToxNn0sY29sb3JJbmhlcml0Ontjb2xvcjpcImluaGVyaXRcIn0sY29sb3JQcmltYXJ5Ontjb2xvcjplLnBhbGV0dGUucHJpbWFyeS5tYWlufSxjb2xvclNlY29uZGFyeTp7Y29sb3I6ZS5wYWxldHRlLnNlY29uZGFyeS5tYWlufSxjb2xvclRleHRQcmltYXJ5Ontjb2xvcjplLnBhbGV0dGUudGV4dC5wcmltYXJ5fSxjb2xvclRleHRTZWNvbmRhcnk6e2NvbG9yOmUucGFsZXR0ZS50ZXh0LnNlY29uZGFyeX0sY29sb3JFcnJvcjp7Y29sb3I6ZS5wYWxldHRlLmVycm9yLm1haW59LGlubGluZTp7ZGlzcGxheTpcImlubGluZVwifX19O3Quc3R5bGVzPWg7dmFyIGQ9e2Rpc3BsYXk0OlwiaDFcIixkaXNwbGF5MzpcImgyXCIsZGlzcGxheTI6XCJoM1wiLGRpc3BsYXkxOlwiaDRcIixoZWFkbGluZTpcImg1XCIsdGl0bGU6XCJoNlwiLHN1YmhlYWRpbmc6XCJzdWJ0aXRsZTFcIn07dmFyIHA9e2gxOlwiaDFcIixoMjpcImgyXCIsaDM6XCJoM1wiLGg0OlwiaDRcIixoNTpcImg1XCIsaDY6XCJoNlwiLHN1YnRpdGxlMTpcImg2XCIsc3VidGl0bGUyOlwiaDZcIixib2R5MTpcInBcIixib2R5MjpcInBcIixkaXNwbGF5NDpcImgxXCIsZGlzcGxheTM6XCJoMVwiLGRpc3BsYXkyOlwiaDFcIixkaXNwbGF5MTpcImgxXCIsaGVhZGxpbmU6XCJoMVwiLHRpdGxlOlwiaDJcIixzdWJoZWFkaW5nOlwiaDNcIn07ZnVuY3Rpb24gZihlKXt2YXIgdCxuPWUuYWxpZ24saT1lLmNsYXNzZXMsYz1lLmNsYXNzTmFtZSxoPWUuY29sb3IsZj1lLmNvbXBvbmVudCxtPWUuZ3V0dGVyQm90dG9tLGc9ZS5oZWFkbGluZU1hcHBpbmcseT1lLmlubGluZSxfPShlLmludGVybmFsRGVwcmVjYXRlZFZhcmlhbnQsZS5ub1dyYXApLHY9ZS5wYXJhZ3JhcGgseD1lLnRoZW1lLGI9ZS52YXJpYW50LHc9KDAsYS5kZWZhdWx0KShlLFtcImFsaWduXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbG9yXCIsXCJjb21wb25lbnRcIixcImd1dHRlckJvdHRvbVwiLFwiaGVhZGxpbmVNYXBwaW5nXCIsXCJpbmxpbmVcIixcImludGVybmFsRGVwcmVjYXRlZFZhcmlhbnRcIixcIm5vV3JhcFwiLFwicGFyYWdyYXBoXCIsXCJ0aGVtZVwiLFwidmFyaWFudFwiXSksVD1mdW5jdGlvbihlLHQpe3ZhciBuPWUudHlwb2dyYXBoeSxpPXQ7cmV0dXJuIGl8fChpPW4udXNlTmV4dFZhcmlhbnRzP1wiYm9keTJcIjpcImJvZHkxXCIpLG4udXNlTmV4dFZhcmlhbnRzJiYoaT1kW2ldfHxpKSxpfSh4LGIpLEU9KDAsbC5kZWZhdWx0KShpLnJvb3QsKHQ9e30sKDAsby5kZWZhdWx0KSh0LGlbVF0sXCJpbmhlcml0XCIhPT1UKSwoMCxvLmRlZmF1bHQpKHQsaVtcImNvbG9yXCIuY29uY2F0KCgwLHUuY2FwaXRhbGl6ZSkoaCkpXSxcImRlZmF1bHRcIiE9PWgpLCgwLG8uZGVmYXVsdCkodCxpLm5vV3JhcCxfKSwoMCxvLmRlZmF1bHQpKHQsaS5ndXR0ZXJCb3R0b20sbSksKDAsby5kZWZhdWx0KSh0LGkucGFyYWdyYXBoLHYpLCgwLG8uZGVmYXVsdCkodCxpW1wiYWxpZ25cIi5jb25jYXQoKDAsdS5jYXBpdGFsaXplKShuKSldLFwiaW5oZXJpdFwiIT09biksKDAsby5kZWZhdWx0KSh0LGkuaW5saW5lLHkpLHQpLGMpLFM9Znx8KHY/XCJwXCI6Z1tUXXx8cFtUXSl8fFwic3BhblwiO3JldHVybiBzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChTLCgwLHIuZGVmYXVsdCkoe2NsYXNzTmFtZTpFfSx3KSl9Zi5kZWZhdWx0UHJvcHM9e2FsaWduOlwiaW5oZXJpdFwiLGNvbG9yOlwiZGVmYXVsdFwiLGd1dHRlckJvdHRvbTohMSxoZWFkbGluZU1hcHBpbmc6cCxpbmxpbmU6ITEsbm9XcmFwOiExLHBhcmFncmFwaDohMX07dmFyIG09KDAsYy5kZWZhdWx0KShoLHtuYW1lOlwiTXVpVHlwb2dyYXBoeVwiLHdpdGhUaGVtZTohMH0pKGYpO3QuZGVmYXVsdD1tfSwsLCwsZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0KXshZnVuY3Rpb24obixpKXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZSxuLGk7ZnVuY3Rpb24gcih0LHIpe2lmKGUpaWYobil7dmFyIG89XCJzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsgY29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcGFyc2luZyB0aGUgV2ViV29ya2VyIGJ1bmRsZS4gVGhpcyBpcyBtb3N0IGxpa2VseSBkdWUgdG8gaW1wcm9wZXIgdHJhbnNwaWxhdGlvbiBieSBCYWJlbDsgcGxlYXNlIHNlZSBodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZ3VpZGVzL2luc3RhbGwvI3RyYW5zcGlsaW5nJyk7IH07IHZhciBzaGFyZWRDaHVuayA9IHt9OyAoXCIrZStcIikoc2hhcmVkQ2h1bmspOyAoXCIrbitcIikoc2hhcmVkQ2h1bmspOyBzZWxmLm9uZXJyb3IgPSBudWxsO1wiLGE9e307ZShhKSxpPXIoYSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93JiZ3aW5kb3cuVVJMJiZ3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCYmKGkud29ya2VyVXJsPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtvXSx7dHlwZTpcInRleHQvamF2YXNjcmlwdFwifSkpKX1lbHNlIG49cjtlbHNlIGU9cn1yZXR1cm4gcihbXCJleHBvcnRzXCJdLChmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9LGk9XCIyLjEyLjBcIjtsZXQgcjtjb25zdCBvPXtBUElfVVJMOlwiaHR0cHM6Ly9hcGkubWFwYm94LmNvbVwiLGdldCBBUElfVVJMX1JFR0VYKCl7aWYobnVsbD09cil7Y29uc3QgZT0vXigoaHR0cHM/Oik/XFwvXFwvKT8oW15cXC9dK1xcLik/bWFwYm94XFwuYyhufG9tKShcXC98XFw/fCQpL2k7dHJ5e3I9bnVsbCE9dC5lbnYuQVBJX1VSTF9SRUdFWD9uZXcgUmVnRXhwKHQuZW52LkFQSV9VUkxfUkVHRVgpOmV9Y2F0Y2godCl7cj1lfX1yZXR1cm4gcn0sZ2V0IEFQSV9USUxFSlNPTl9SRUdFWCgpe3JldHVybi9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL3ZbMC05XSpcXC8uKlxcLmpzb24uKiQpL2l9LGdldCBBUElfU1BSSVRFX1JFR0VYKCl7cmV0dXJuL14oKGh0dHBzPzopP1xcL1xcLyk/KFteXFwvXStcXC4pP21hcGJveFxcLmMobnxvbSkoXFwvc3R5bGVzXFwvdlswLTldKlxcLykoLipcXC9zcHJpdGUuKlxcLi4qJCkvaX0sZ2V0IEFQSV9GT05UU19SRUdFWCgpe3JldHVybi9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL2ZvbnRzXFwvdlswLTldKlxcLykoLipcXC5wYmYuKiQpL2l9LGdldCBBUElfU1RZTEVfUkVHRVgoKXtyZXR1cm4vXigoaHR0cHM/Oik/XFwvXFwvKT8oW15cXC9dK1xcLik/bWFwYm94XFwuYyhufG9tKShcXC9zdHlsZXNcXC92WzAtOV0qXFwvKSguKiQpL2l9LGdldCBBUElfQ0ROX1VSTF9SRUdFWCgpe3JldHVybi9eKChodHRwcz86KT9cXC9cXC8pP2FwaVxcLm1hcGJveFxcLmMobnxvbSkoXFwvbWFwYm94LWdsLWpzXFwvKSguKiQpL2l9LGdldCBFVkVOVFNfVVJMKCl7cmV0dXJuIHRoaXMuQVBJX1VSTD8wPT09dGhpcy5BUElfVVJMLmluZGV4T2YoXCJodHRwczovL2FwaS5tYXBib3guY25cIik/XCJodHRwczovL2V2ZW50cy5tYXBib3guY24vZXZlbnRzL3YyXCI6MD09PXRoaXMuQVBJX1VSTC5pbmRleE9mKFwiaHR0cHM6Ly9hcGkubWFwYm94LmNvbVwiKT9cImh0dHBzOi8vZXZlbnRzLm1hcGJveC5jb20vZXZlbnRzL3YyXCI6bnVsbDpudWxsfSxTRVNTSU9OX1BBVEg6XCIvbWFwLXNlc3Npb25zL3YxXCIsRkVFREJBQ0tfVVJMOlwiaHR0cHM6Ly9hcHBzLm1hcGJveC5jb20vZmVlZGJhY2tcIixUSUxFX1VSTF9WRVJTSU9OOlwidjRcIixSQVNURVJfVVJMX1BSRUZJWDpcInJhc3Rlci92MVwiLFJFUVVJUkVfQUNDRVNTX1RPS0VOOiEwLEFDQ0VTU19UT0tFTjpudWxsLE1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUzoxNn0sYT17c3VwcG9ydGVkOiExLHRlc3RTdXBwb3J0OmZ1bmN0aW9uKGUpeyFjJiZsJiYodT9oKGUpOnM9ZSl9fTtsZXQgcyxsLGM9ITEsdT0hMTtmdW5jdGlvbiBoKGUpe2NvbnN0IHQ9ZS5jcmVhdGVUZXh0dXJlKCk7ZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdCk7dHJ5e2lmKGUudGV4SW1hZ2UyRChlLlRFWFRVUkVfMkQsMCxlLlJHQkEsZS5SR0JBLGUuVU5TSUdORURfQllURSxsKSxlLmlzQ29udGV4dExvc3QoKSlyZXR1cm47YS5zdXBwb3J0ZWQ9ITB9Y2F0Y2goZSl7fWUuZGVsZXRlVGV4dHVyZSh0KSxjPSEwfW4uZG9jdW1lbnQmJihsPW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSxsLm9ubG9hZD1mdW5jdGlvbigpe3MmJmgocykscz1udWxsLHU9ITB9LGwub25lcnJvcj1mdW5jdGlvbigpe2M9ITAscz1udWxsfSxsLnNyYz1cImRhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1JoNEFBQUJYUlVKUVZsQTRUQkVBQUFBdkFRQUFBQWZRLy83M3YvK0JpT2gvQUFBPVwiKTtjb25zdCBkPVwiMDFcIjt2YXIgcD1mO2Z1bmN0aW9uIGYoZSx0LG4saSl7dGhpcy5jeD0zKmUsdGhpcy5ieD0zKihuLWUpLXRoaXMuY3gsdGhpcy5heD0xLXRoaXMuY3gtdGhpcy5ieCx0aGlzLmN5PTMqdCx0aGlzLmJ5PTMqKGktdCktdGhpcy5jeSx0aGlzLmF5PTEtdGhpcy5jeS10aGlzLmJ5LHRoaXMucDF4PWUsdGhpcy5wMXk9dCx0aGlzLnAyeD1uLHRoaXMucDJ5PWl9Zi5wcm90b3R5cGU9e3NhbXBsZUN1cnZlWDpmdW5jdGlvbihlKXtyZXR1cm4oKHRoaXMuYXgqZSt0aGlzLmJ4KSplK3RoaXMuY3gpKmV9LHNhbXBsZUN1cnZlWTpmdW5jdGlvbihlKXtyZXR1cm4oKHRoaXMuYXkqZSt0aGlzLmJ5KSplK3RoaXMuY3kpKmV9LHNhbXBsZUN1cnZlRGVyaXZhdGl2ZVg6ZnVuY3Rpb24oZSl7cmV0dXJuKDMqdGhpcy5heCplKzIqdGhpcy5ieCkqZSt0aGlzLmN4fSxzb2x2ZUN1cnZlWDpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PTFlLTYpLGU8MClyZXR1cm4gMDtpZihlPjEpcmV0dXJuIDE7Zm9yKHZhciBuPWUsaT0wO2k8ODtpKyspe3ZhciByPXRoaXMuc2FtcGxlQ3VydmVYKG4pLWU7aWYoTWF0aC5hYnMocik8dClyZXR1cm4gbjt2YXIgbz10aGlzLnNhbXBsZUN1cnZlRGVyaXZhdGl2ZVgobik7aWYoTWF0aC5hYnMobyk8MWUtNilicmVhaztuLT1yL299dmFyIGE9MCxzPTE7Zm9yKG49ZSxpPTA7aTwyMCYmKHI9dGhpcy5zYW1wbGVDdXJ2ZVgobiksIShNYXRoLmFicyhyLWUpPHQpKTtpKyspZT5yP2E9bjpzPW4sbj0uNSoocy1hKSthO3JldHVybiBufSxzb2x2ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNhbXBsZUN1cnZlWSh0aGlzLnNvbHZlQ3VydmVYKGUsdCkpfX07dmFyIG09ZztmdW5jdGlvbiBnKGUsdCl7dGhpcy54PWUsdGhpcy55PXR9Zy5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnKHRoaXMueCx0aGlzLnkpfSxhZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKGUpfSxzdWI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKGUpfSxtdWx0QnlQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0QnlQb2ludChlKX0sZGl2QnlQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZCeVBvaW50KGUpfSxtdWx0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHQoZSl9LGRpdjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXYoZSl9LHJvdGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUoZSl9LHJvdGF0ZUFyb3VuZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZUFyb3VuZChlLHQpfSxtYXRNdWx0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX21hdE11bHQoZSl9LHVuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl91bml0KCl9LHBlcnA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9wZXJwKCl9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm91bmQoKX0sbWFnOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxlcXVhbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueD09PWUueCYmdGhpcy55PT09ZS55fSxkaXN0OmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0U3FyKGUpKX0sZGlzdFNxcjpmdW5jdGlvbihlKXt2YXIgdD1lLngtdGhpcy54LG49ZS55LXRoaXMueTtyZXR1cm4gdCp0K24qbn0sYW5nbGU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksdGhpcy54KX0sYW5nbGVUbzpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnktZS55LHRoaXMueC1lLngpfSxhbmdsZVdpdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYW5nbGVXaXRoU2VwKGUueCxlLnkpfSxhbmdsZVdpdGhTZXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLngqdC10aGlzLnkqZSx0aGlzLngqZSt0aGlzLnkqdCl9LF9tYXRNdWx0OmZ1bmN0aW9uKGUpe3ZhciB0PWVbMl0qdGhpcy54K2VbM10qdGhpcy55O3JldHVybiB0aGlzLng9ZVswXSp0aGlzLngrZVsxXSp0aGlzLnksdGhpcy55PXQsdGhpc30sX2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpc30sX3N1YjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54LT1lLngsdGhpcy55LT1lLnksdGhpc30sX211bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpc30sX2RpdjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Lz1lLHRoaXMueS89ZSx0aGlzfSxfbXVsdEJ5UG9pbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXN9LF9kaXZCeVBvaW50OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngvPWUueCx0aGlzLnkvPWUueSx0aGlzfSxfdW5pdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXYodGhpcy5tYWcoKSksdGhpc30sX3BlcnA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnk7cmV0dXJuIHRoaXMueT10aGlzLngsdGhpcy54PS1lLHRoaXN9LF9yb3RhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5jb3MoZSksbj1NYXRoLnNpbihlKSxpPW4qdGhpcy54K3QqdGhpcy55O3JldHVybiB0aGlzLng9dCp0aGlzLngtbip0aGlzLnksdGhpcy55PWksdGhpc30sX3JvdGF0ZUFyb3VuZDpmdW5jdGlvbihlLHQpe3ZhciBuPU1hdGguY29zKGUpLGk9TWF0aC5zaW4oZSkscj10LnkraSoodGhpcy54LXQueCkrbioodGhpcy55LXQueSk7cmV0dXJuIHRoaXMueD10LngrbioodGhpcy54LXQueCktaSoodGhpcy55LXQueSksdGhpcy55PXIsdGhpc30sX3JvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzfX0sZy5jb252ZXJ0PWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgZz9lOkFycmF5LmlzQXJyYXkoZSk/bmV3IGcoZVswXSxlWzFdKTplfTtjb25zdCB5PU1hdGguUEkvMTgwLF89MTgwL01hdGguUEk7ZnVuY3Rpb24gdihlKXtyZXR1cm4gZSp5fWZ1bmN0aW9uIHgoZSl7cmV0dXJuIGUqX31jb25zdCBiPVtbMCwwXSxbMSwwXSxbMSwxXSxbMCwxXV07ZnVuY3Rpb24gdyhlKXtpZihlPD0wKXJldHVybiAwO2lmKGU+PTEpcmV0dXJuIDE7Y29uc3QgdD1lKmUsbj10KmU7cmV0dXJuIDQqKGU8LjU/bjozKihlLXQpK24tLjc1KX1mdW5jdGlvbiBUKGUsdCxuLGkpe2NvbnN0IHI9bmV3IHAoZSx0LG4saSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiByLnNvbHZlKGUpfX1jb25zdCBFPVQoLjI1LC4xLC4yNSwxKTtmdW5jdGlvbiBTKGUsdCxuKXtyZXR1cm4gTWF0aC5taW4obixNYXRoLm1heCh0LGUpKX1mdW5jdGlvbiBNKGUsdCxuKXtyZXR1cm4obj1TKChuLWUpLyh0LWUpLDAsMSkpKm4qKDMtMipuKX1mdW5jdGlvbiBJKGUsdCxuKXtjb25zdCBpPW4tdCxyPSgoZS10KSVpK2kpJWkrdDtyZXR1cm4gcj09PXQ/bjpyfWZ1bmN0aW9uIEMoZSx0LG4pe2lmKCFlLmxlbmd0aClyZXR1cm4gbihudWxsLFtdKTtsZXQgaT1lLmxlbmd0aDtjb25zdCByPW5ldyBBcnJheShlLmxlbmd0aCk7bGV0IG89bnVsbDtlLmZvckVhY2goKGUsYSk9Pnt0KGUsKGUsdCk9PntlJiYobz1lKSxyW2FdPXQsMD09LS1pJiZuKG8scil9KX0pfWZ1bmN0aW9uIGsoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBpbiBlKXQucHVzaChlW25dKTtyZXR1cm4gdH1mdW5jdGlvbiBBKGUsLi4udCl7Zm9yKGNvbnN0IG4gb2YgdClmb3IoY29uc3QgdCBpbiBuKWVbdF09blt0XTtyZXR1cm4gZX1sZXQgUD0xO2Z1bmN0aW9uIHooKXtyZXR1cm4gUCsrfWZ1bmN0aW9uIEQoKXtyZXR1cm4gZnVuY3Rpb24gZSh0KXtyZXR1cm4gdD8odF5NYXRoLnJhbmRvbSgpKigxNj4+dC80KSkudG9TdHJpbmcoMTYpOihbMWU3XSstWzFlM10rLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLGUpfSgpfWZ1bmN0aW9uIEwoZSl7cmV0dXJuIGU8PTE/MTpNYXRoLnBvdygyLE1hdGguY2VpbChNYXRoLmxvZyhlKS9NYXRoLkxOMikpfWZ1bmN0aW9uIE8oZSl7cmV0dXJuISFlJiYvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVs0XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvaS50ZXN0KGUpfWZ1bmN0aW9uIFIoZSx0KXtlLmZvckVhY2goZT0+e3RbZV0mJih0W2VdPXRbZV0uYmluZCh0KSl9KX1mdW5jdGlvbiBCKGUsdCl7cmV0dXJuLTEhPT1lLmluZGV4T2YodCxlLmxlbmd0aC10Lmxlbmd0aCl9ZnVuY3Rpb24gaihlLHQsbil7Y29uc3QgaT17fTtmb3IoY29uc3QgciBpbiBlKWlbcl09dC5jYWxsKG58fHRoaXMsZVtyXSxyLGUpO3JldHVybiBpfWZ1bmN0aW9uIEYoZSx0LG4pe2NvbnN0IGk9e307Zm9yKGNvbnN0IHIgaW4gZSl0LmNhbGwobnx8dGhpcyxlW3JdLHIsZSkmJihpW3JdPWVbcl0pO3JldHVybiBpfWZ1bmN0aW9uIE4oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5tYXAoTik6XCJvYmplY3RcIj09dHlwZW9mIGUmJmU/aihlLE4pOmV9Y29uc3QgVT17fTtmdW5jdGlvbiBWKGUpe1VbZV18fChcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS53YXJuKGUpLFVbZV09ITApfWZ1bmN0aW9uIEcoZSx0LG4pe3JldHVybihuLnktZS55KSoodC54LWUueCk+KHQueS1lLnkpKihuLngtZS54KX1mdW5jdGlvbiBaKGUpe2xldCB0PTA7Zm9yKGxldCBuLGkscj0wLG89ZS5sZW5ndGgsYT1vLTE7cjxvO2E9cisrKW49ZVtyXSxpPWVbYV0sdCs9KGkueC1uLngpKihuLnkraS55KTtyZXR1cm4gdH1mdW5jdGlvbiBXKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlfWZ1bmN0aW9uIHEoZSl7Y29uc3QgdD17fTtpZihlLnJlcGxhY2UoLyg/Ol58KD86XFxzKlxcLFxccyopKShbXlxceDAwLVxceDIwXFwoXFwpPD5AXFwsO1xcOlxcXFxcIlxcL1xcW1xcXVxcP1xcPVxce1xcfVxceDdGXSspKD86XFw9KD86KFteXFx4MDAtXFx4MjBcXChcXCk8PkBcXCw7XFw6XFxcXFwiXFwvXFxbXFxdXFw/XFw9XFx7XFx9XFx4N0ZdKyl8KD86XFxcIigoPzpbXlwiXFxcXF18XFxcXC4pKilcXFwiKSkpPy9nLChlLG4saSxyKT0+e2NvbnN0IG89aXx8cjtyZXR1cm4gdFtuXT0hb3x8by50b0xvd2VyQ2FzZSgpLFwiXCJ9KSx0W1wibWF4LWFnZVwiXSl7Y29uc3QgZT1wYXJzZUludCh0W1wibWF4LWFnZVwiXSwxMCk7aXNOYU4oZSk/ZGVsZXRlIHRbXCJtYXgtYWdlXCJdOnRbXCJtYXgtYWdlXCJdPWV9cmV0dXJuIHR9bGV0ICQ9bnVsbDtmdW5jdGlvbiBIKGUpe2lmKG51bGw9PSQpe2NvbnN0IHQ9ZS5uYXZpZ2F0b3I/ZS5uYXZpZ2F0b3IudXNlckFnZW50Om51bGw7JD0hIWUuc2FmYXJpfHwhKCF0fHwhKC9cXGIoaVBhZHxpUGhvbmV8aVBvZClcXGIvLnRlc3QodCl8fHQubWF0Y2goXCJTYWZhcmlcIikmJiF0Lm1hdGNoKFwiQ2hyb21lXCIpKSl9cmV0dXJuICR9ZnVuY3Rpb24gWChlKXt0cnl7Y29uc3QgdD1uW2VdO3JldHVybiB0LnNldEl0ZW0oXCJfbWFwYm94X3Rlc3RfXCIsMSksdC5yZW1vdmVJdGVtKFwiX21hcGJveF90ZXN0X1wiKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gWShlLHQpe3JldHVybltlWzQqdF0sZVs0KnQrMV0sZVs0KnQrMl0sZVs0KnQrM11dfWNvbnN0IEo9XCJtYXBib3gtdGlsZXNcIjtsZXQgUSxLLGVlPTUwMCx0ZT01MDtmdW5jdGlvbiBuZSgpe3RyeXtyZXR1cm4gbi5jYWNoZXN9Y2F0Y2goZSl7fX1mdW5jdGlvbiBpZSgpe25lKCkmJiFRJiYoUT1uLmNhY2hlcy5vcGVuKEopKX1mdW5jdGlvbiByZShlKXtjb25zdCB0PWUuaW5kZXhPZihcIj9cIik7aWYodDwwKXJldHVybiBlO2NvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmluZGV4T2YoXCI/XCIpO3JldHVybiB0PjA/ZS5zbGljZSh0KzEpLnNwbGl0KFwiJlwiKTpbXX0oZSkuZmlsdGVyKGU9Pntjb25zdCB0PWUuc3BsaXQoXCI9XCIpO3JldHVyblwibGFuZ3VhZ2VcIj09PXRbMF18fFwid29ybGR2aWV3XCI9PT10WzBdfSk7cmV0dXJuIG4ubGVuZ3RoP2Ake2Uuc2xpY2UoMCx0KX0/JHtuLmpvaW4oXCImXCIpfWA6ZS5zbGljZSgwLHQpfWxldCBvZT0xLzA7Y29uc3QgYWU9e1Vua25vd246XCJVbmtub3duXCIsU3R5bGU6XCJTdHlsZVwiLFNvdXJjZTpcIlNvdXJjZVwiLFRpbGU6XCJUaWxlXCIsR2x5cGhzOlwiR2x5cGhzXCIsU3ByaXRlSW1hZ2U6XCJTcHJpdGVJbWFnZVwiLFNwcml0ZUpTT046XCJTcHJpdGVKU09OXCIsSW1hZ2U6XCJJbWFnZVwifTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZnJlZXplJiZPYmplY3QuZnJlZXplKGFlKTtjbGFzcyBzZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCxuKXs0MDE9PT10JiZfZShuKSYmKGUrPVwiOiB5b3UgbWF5IGhhdmUgcHJvdmlkZWQgYW4gaW52YWxpZCBNYXBib3ggYWNjZXNzIHRva2VuLiBTZWUgaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpL292ZXJ2aWV3LyNhY2Nlc3MtdG9rZW5zLWFuZC10b2tlbi1zY29wZXNcIiksc3VwZXIoZSksdGhpcy5zdGF0dXM9dCx0aGlzLnVybD1ufXRvU3RyaW5nKCl7cmV0dXJuYCR7dGhpcy5uYW1lfTogJHt0aGlzLm1lc3NhZ2V9ICgke3RoaXMuc3RhdHVzfSk6ICR7dGhpcy51cmx9YH19Y29uc3QgbGU9VygpPygpPT5zZWxmLndvcmtlciYmc2VsZi53b3JrZXIucmVmZXJyZXI6KCk9PihcImJsb2I6XCI9PT1uLmxvY2F0aW9uLnByb3RvY29sP24ucGFyZW50Om4pLmxvY2F0aW9uLmhyZWYsY2U9ZnVuY3Rpb24oZSx0KXtpZighKC9eZmlsZTovLnRlc3QoaT1lLnVybCl8fC9eZmlsZTovLnRlc3QobGUoKSkmJiEvXlxcdys6Ly50ZXN0KGkpKSl7aWYobi5mZXRjaCYmbi5SZXF1ZXN0JiZuLkFib3J0Q29udHJvbGxlciYmbi5SZXF1ZXN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShcInNpZ25hbFwiKSlyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCBpPW5ldyBuLkFib3J0Q29udHJvbGxlcixyPW5ldyBuLlJlcXVlc3QoZS51cmwse21ldGhvZDplLm1ldGhvZHx8XCJHRVRcIixib2R5OmUuYm9keSxjcmVkZW50aWFsczplLmNyZWRlbnRpYWxzLGhlYWRlcnM6ZS5oZWFkZXJzLHJlZmVycmVyOmxlKCksc2lnbmFsOmkuc2lnbmFsfSk7bGV0IG89ITEsYT0hMTtjb25zdCBzPShsPXIudXJsKS5pbmRleE9mKFwic2t1PVwiKT4wJiZfZShsKTt2YXIgbDtcImpzb25cIj09PWUudHlwZSYmci5oZWFkZXJzLnNldChcIkFjY2VwdFwiLFwiYXBwbGljYXRpb24vanNvblwiKTtjb25zdCBjPShpLG8sbCk9PntpZihhKXJldHVybjtpZihpJiZcIlNlY3VyaXR5RXJyb3JcIiE9PWkubWVzc2FnZSYmVihpKSxvJiZsKXJldHVybiB1KG8pO2NvbnN0IGM9RGF0ZS5ub3coKTtuLmZldGNoKHIpLnRoZW4obj0+e2lmKG4ub2spe2NvbnN0IGU9cz9uLmNsb25lKCk6bnVsbDtyZXR1cm4gdShuLGUsYyl9cmV0dXJuIHQobmV3IHNlKG4uc3RhdHVzVGV4dCxuLnN0YXR1cyxlLnVybCkpfSkuY2F0Y2goZT0+ezIwIT09ZS5jb2RlJiZ0KG5ldyBFcnJvcihlLm1lc3NhZ2UpKX0pfSx1PShpLHMsbCk9PnsoXCJhcnJheUJ1ZmZlclwiPT09ZS50eXBlP2kuYXJyYXlCdWZmZXIoKTpcImpzb25cIj09PWUudHlwZT9pLmpzb24oKTppLnRleHQoKSkudGhlbihlPT57YXx8KHMmJmwmJmZ1bmN0aW9uKGUsdCxpKXtpZihpZSgpLCFRKXJldHVybjtjb25zdCByPXtzdGF0dXM6dC5zdGF0dXMsc3RhdHVzVGV4dDp0LnN0YXR1c1RleHQsaGVhZGVyczpuZXcgbi5IZWFkZXJzfTt0LmhlYWRlcnMuZm9yRWFjaCgoZSx0KT0+ci5oZWFkZXJzLnNldCh0LGUpKTtjb25zdCBvPXEodC5oZWFkZXJzLmdldChcIkNhY2hlLUNvbnRyb2xcIil8fFwiXCIpO2lmKG9bXCJuby1zdG9yZVwiXSlyZXR1cm47b1tcIm1heC1hZ2VcIl0mJnIuaGVhZGVycy5zZXQoXCJFeHBpcmVzXCIsbmV3IERhdGUoaSsxZTMqb1tcIm1heC1hZ2VcIl0pLnRvVVRDU3RyaW5nKCkpO2NvbnN0IGE9ci5oZWFkZXJzLmdldChcIkV4cGlyZXNcIik7YSYmKG5ldyBEYXRlKGEpLmdldFRpbWUoKS1pPDQyZTR8fGZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09Syl0cnl7bmV3IFJlc3BvbnNlKG5ldyBSZWFkYWJsZVN0cmVhbSksSz0hMH1jYXRjaChlKXtLPSExfUs/dChlLmJvZHkpOmUuYmxvYigpLnRoZW4odCl9KHQsdD0+e2NvbnN0IGk9bmV3IG4uUmVzcG9uc2UodCxyKTtpZSgpLFEmJlEudGhlbih0PT50LnB1dChyZShlLnVybCksaSkpLmNhdGNoKGU9PlYoZS5tZXNzYWdlKSl9KSl9KHIscyxsKSxvPSEwLHQobnVsbCxlLGkuaGVhZGVycy5nZXQoXCJDYWNoZS1Db250cm9sXCIpLGkuaGVhZGVycy5nZXQoXCJFeHBpcmVzXCIpKSl9KS5jYXRjaChlPT57YXx8dChuZXcgRXJyb3IoZS5tZXNzYWdlKSl9KX07cmV0dXJuIHM/ZnVuY3Rpb24oZSx0KXtpZihpZSgpLCFRKXJldHVybiB0KG51bGwpO2NvbnN0IG49cmUoZS51cmwpO1EudGhlbihlPT57ZS5tYXRjaChuKS50aGVuKGk9Pntjb25zdCByPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiExO2NvbnN0IHQ9bmV3IERhdGUoZS5oZWFkZXJzLmdldChcIkV4cGlyZXNcIil8fDApLG49cShlLmhlYWRlcnMuZ2V0KFwiQ2FjaGUtQ29udHJvbFwiKXx8XCJcIik7cmV0dXJuIHQ+RGF0ZS5ub3coKSYmIW5bXCJuby1jYWNoZVwiXX0oaSk7ZS5kZWxldGUobiksciYmZS5wdXQobixpLmNsb25lKCkpLHQobnVsbCxpLHIpfSkuY2F0Y2godCl9KS5jYXRjaCh0KX0ocixjKTpjKG51bGwsbnVsbCkse2NhbmNlbDooKT0+e2E9ITAsb3x8aS5hYm9ydCgpfX19KGUsdCk7aWYoVygpJiZzZWxmLndvcmtlciYmc2VsZi53b3JrZXIuYWN0b3IpcmV0dXJuIHNlbGYud29ya2VyLmFjdG9yLnNlbmQoXCJnZXRSZXNvdXJjZVwiLGUsdCx2b2lkIDAsITApfXZhciBpO3JldHVybiBmdW5jdGlvbihlLHQpe2NvbnN0IGk9bmV3IG4uWE1MSHR0cFJlcXVlc3Q7aS5vcGVuKGUubWV0aG9kfHxcIkdFVFwiLGUudXJsLCEwKSxcImFycmF5QnVmZmVyXCI9PT1lLnR5cGUmJihpLnJlc3BvbnNlVHlwZT1cImFycmF5YnVmZmVyXCIpO2Zvcihjb25zdCB0IGluIGUuaGVhZGVycylpLnNldFJlcXVlc3RIZWFkZXIodCxlLmhlYWRlcnNbdF0pO3JldHVyblwianNvblwiPT09ZS50eXBlJiYoaS5yZXNwb25zZVR5cGU9XCJ0ZXh0XCIsaS5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0XCIsXCJhcHBsaWNhdGlvbi9qc29uXCIpKSxpLndpdGhDcmVkZW50aWFscz1cImluY2x1ZGVcIj09PWUuY3JlZGVudGlhbHMsaS5vbmVycm9yPSgpPT57dChuZXcgRXJyb3IoaS5zdGF0dXNUZXh0KSl9LGkub25sb2FkPSgpPT57aWYoKGkuc3RhdHVzPj0yMDAmJmkuc3RhdHVzPDMwMHx8MD09PWkuc3RhdHVzKSYmbnVsbCE9PWkucmVzcG9uc2Upe2xldCBuPWkucmVzcG9uc2U7aWYoXCJqc29uXCI9PT1lLnR5cGUpdHJ5e249SlNPTi5wYXJzZShpLnJlc3BvbnNlKX1jYXRjaChlKXtyZXR1cm4gdChlKX10KG51bGwsbixpLmdldFJlc3BvbnNlSGVhZGVyKFwiQ2FjaGUtQ29udHJvbFwiKSxpLmdldFJlc3BvbnNlSGVhZGVyKFwiRXhwaXJlc1wiKSl9ZWxzZSB0KG5ldyBzZShpLnN0YXR1c1RleHQsaS5zdGF0dXMsZS51cmwpKX0saS5zZW5kKGUuYm9keSkse2NhbmNlbDooKT0+aS5hYm9ydCgpfX0oZSx0KX0sdWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY2UoQShlLHt0eXBlOlwiYXJyYXlCdWZmZXJcIn0pLHQpfTtmdW5jdGlvbiBoZShlKXtjb25zdCB0PW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIHQuaHJlZj1lLHQucHJvdG9jb2w9PT1uLmRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sJiZ0Lmhvc3Q9PT1uLmRvY3VtZW50LmxvY2F0aW9uLmhvc3R9Y29uc3QgZGU9XCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBQzBsRVFWUVlWMk5nQUFJQUFBVUFBYXJWeUZFQUFBQUFTVVZPUks1Q1lJST1cIjtsZXQgcGUsZmU7cGU9W10sZmU9MDtjb25zdCBtZT1mdW5jdGlvbihlLHQpe2lmKGEuc3VwcG9ydGVkJiYoZS5oZWFkZXJzfHwoZS5oZWFkZXJzPXt9KSxlLmhlYWRlcnMuYWNjZXB0PVwiaW1hZ2Uvd2VicCwqLypcIiksZmU+PW8uTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTKXtjb25zdCBuPXtyZXF1ZXN0UGFyYW1ldGVyczplLGNhbGxiYWNrOnQsY2FuY2VsbGVkOiExLGNhbmNlbCgpe3RoaXMuY2FuY2VsbGVkPSEwfX07cmV0dXJuIHBlLnB1c2gobiksbn1mZSsrO2xldCBpPSExO2NvbnN0IHI9KCk9PntpZighaSlmb3IoaT0hMCxmZS0tO3BlLmxlbmd0aCYmZmU8by5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFM7KXtjb25zdCBlPXBlLnNoaWZ0KCkse3JlcXVlc3RQYXJhbWV0ZXJzOnQsY2FsbGJhY2s6bixjYW5jZWxsZWQ6aX09ZTtpfHwoZS5jYW5jZWw9bWUodCxuKS5jYW5jZWwpfX0scz11ZShlLChlLGksbyxhKT0+e3IoKSxlP3QoZSk6aSYmKG4uY3JlYXRlSW1hZ2VCaXRtYXA/ZnVuY3Rpb24oZSx0KXtjb25zdCBpPW5ldyBuLkJsb2IoW25ldyBVaW50OEFycmF5KGUpXSx7dHlwZTpcImltYWdlL3BuZ1wifSk7bi5jcmVhdGVJbWFnZUJpdG1hcChpKS50aGVuKGU9Pnt0KG51bGwsZSl9KS5jYXRjaChlPT57dChuZXcgRXJyb3IoYENvdWxkIG5vdCBsb2FkIGltYWdlIGJlY2F1c2Ugb2YgJHtlLm1lc3NhZ2V9LiBQbGVhc2UgbWFrZSBzdXJlIHRvIHVzZSBhIHN1cHBvcnRlZCBpbWFnZSB0eXBlIHN1Y2ggYXMgUE5HIG9yIEpQRUcuIE5vdGUgdGhhdCBTVkdzIGFyZSBub3Qgc3VwcG9ydGVkLmApKX0pfShpLChlLG4pPT50KGUsbixvLGEpKTpmdW5jdGlvbihlLHQpe2NvbnN0IGk9bmV3IG4uSW1hZ2Uscj1uLlVSTDtpLm9ubG9hZD0oKT0+e3QobnVsbCxpKSxyLnJldm9rZU9iamVjdFVSTChpLnNyYyksaS5vbmxvYWQ9bnVsbCxuLnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e2kuc3JjPWRlfSl9LGkub25lcnJvcj0oKT0+dChuZXcgRXJyb3IoXCJDb3VsZCBub3QgbG9hZCBpbWFnZS4gUGxlYXNlIG1ha2Ugc3VyZSB0byB1c2UgYSBzdXBwb3J0ZWQgaW1hZ2UgdHlwZSBzdWNoIGFzIFBORyBvciBKUEVHLiBOb3RlIHRoYXQgU1ZHcyBhcmUgbm90IHN1cHBvcnRlZC5cIikpO2NvbnN0IG89bmV3IG4uQmxvYihbbmV3IFVpbnQ4QXJyYXkoZSldLHt0eXBlOlwiaW1hZ2UvcG5nXCJ9KTtpLnNyYz1lLmJ5dGVMZW5ndGg/ci5jcmVhdGVPYmplY3RVUkwobyk6ZGV9KGksKGUsbik9PnQoZSxuLG8sYSkpKX0pO3JldHVybntjYW5jZWw6KCk9PntzLmNhbmNlbCgpLHIoKX19fSxnZT1cIk5PX0FDQ0VTU19UT0tFTlwiO2Z1bmN0aW9uIHllKGUpe3JldHVybiAwPT09ZS5pbmRleE9mKFwibWFwYm94OlwiKX1mdW5jdGlvbiBfZShlKXtyZXR1cm4gby5BUElfVVJMX1JFR0VYLnRlc3QoZSl9ZnVuY3Rpb24gdmUoZSl7cmV0dXJuIG8uQVBJX0NETl9VUkxfUkVHRVgudGVzdChlKX1mdW5jdGlvbiB4ZShlKXtyZXR1cm4gby5BUElfU1RZTEVfUkVHRVgudGVzdChlKSYmIWJlKGUpfWZ1bmN0aW9uIGJlKGUpe3JldHVybiBvLkFQSV9TUFJJVEVfUkVHRVgudGVzdChlKX1jb25zdCB3ZT0vXihcXHcrKTpcXC9cXC8oW14vP10qKShcXC9bXj9dKyk/XFw/PyguKyk/LztmdW5jdGlvbiBUZShlKXtjb25zdCB0PWUubWF0Y2god2UpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBwYXJzZSBVUkwgb2JqZWN0XCIpO3JldHVybntwcm90b2NvbDp0WzFdLGF1dGhvcml0eTp0WzJdLHBhdGg6dFszXXx8XCIvXCIscGFyYW1zOnRbNF0/dFs0XS5zcGxpdChcIiZcIik6W119fWZ1bmN0aW9uIEVlKGUpe2NvbnN0IHQ9ZS5wYXJhbXMubGVuZ3RoP1wiP1wiK2UucGFyYW1zLmpvaW4oXCImXCIpOlwiXCI7cmV0dXJuYCR7ZS5wcm90b2NvbH06Ly8ke2UuYXV0aG9yaXR5fSR7ZS5wYXRofSR7dH1gfWZ1bmN0aW9uIFNlKGUpe2lmKCFlKXJldHVybiBudWxsO2NvbnN0IHQ9ZS5zcGxpdChcIi5cIik7aWYoIXR8fDMhPT10Lmxlbmd0aClyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KG4uYXRvYih0WzFdKS5zcGxpdChcIlwiKS5tYXAoZT0+XCIlXCIrKFwiMDBcIitlLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMikpLmpvaW4oXCJcIikpKX1jYXRjaChlKXtyZXR1cm4gbnVsbH19Y2xhc3MgTWV7Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPWUsdGhpcy5hbm9uSWQ9bnVsbCx0aGlzLmV2ZW50RGF0YT17fSx0aGlzLnF1ZXVlPVtdLHRoaXMucGVuZGluZ1JlcXVlc3Q9bnVsbH1nZXRTdG9yYWdlS2V5KGUpe2NvbnN0IHQ9U2Uoby5BQ0NFU1NfVE9LRU4pO2xldCBpPVwiXCI7cmV0dXJuIGk9dCYmdC51P24uYnRvYShlbmNvZGVVUklDb21wb25lbnQodC51KS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9nLChlLHQpPT5TdHJpbmcuZnJvbUNoYXJDb2RlKE51bWJlcihcIjB4XCIrdCkpKSk6by5BQ0NFU1NfVE9LRU58fFwiXCIsZT9gbWFwYm94LmV2ZW50RGF0YS4ke2V9OiR7aX1gOlwibWFwYm94LmV2ZW50RGF0YTpcIitpfWZldGNoRXZlbnREYXRhKCl7Y29uc3QgZT1YKFwibG9jYWxTdG9yYWdlXCIpLHQ9dGhpcy5nZXRTdG9yYWdlS2V5KCksaT10aGlzLmdldFN0b3JhZ2VLZXkoXCJ1dWlkXCIpO2lmKGUpdHJ5e2NvbnN0IGU9bi5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0KTtlJiYodGhpcy5ldmVudERhdGE9SlNPTi5wYXJzZShlKSk7Y29uc3Qgcj1uLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGkpO3ImJih0aGlzLmFub25JZD1yKX1jYXRjaChlKXtWKFwiVW5hYmxlIHRvIHJlYWQgZnJvbSBMb2NhbFN0b3JhZ2VcIil9fXNhdmVFdmVudERhdGEoKXtjb25zdCBlPVgoXCJsb2NhbFN0b3JhZ2VcIiksdD10aGlzLmdldFN0b3JhZ2VLZXkoKSxpPXRoaXMuZ2V0U3RvcmFnZUtleShcInV1aWRcIik7aWYoZSl0cnl7bi5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShpLHRoaXMuYW5vbklkKSxPYmplY3Qua2V5cyh0aGlzLmV2ZW50RGF0YSkubGVuZ3RoPj0xJiZuLmxvY2FsU3RvcmFnZS5zZXRJdGVtKHQsSlNPTi5zdHJpbmdpZnkodGhpcy5ldmVudERhdGEpKX1jYXRjaChlKXtWKFwiVW5hYmxlIHRvIHdyaXRlIHRvIExvY2FsU3RvcmFnZVwiKX19cHJvY2Vzc1JlcXVlc3RzKGUpe31wb3N0RXZlbnQoZSx0LG4saSl7aWYoIW8uRVZFTlRTX1VSTClyZXR1cm47Y29uc3Qgcj1UZShvLkVWRU5UU19VUkwpO3IucGFyYW1zLnB1c2goXCJhY2Nlc3NfdG9rZW49XCIrKGl8fG8uQUNDRVNTX1RPS0VOfHxcIlwiKSk7Y29uc3QgYT17ZXZlbnQ6dGhpcy50eXBlLGNyZWF0ZWQ6bmV3IERhdGUoZSkudG9JU09TdHJpbmcoKX0scz10P0EoYSx0KTphLGw9e3VybDpFZShyKSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwidGV4dC9wbGFpblwifSxib2R5OkpTT04uc3RyaW5naWZ5KFtzXSl9O3RoaXMucGVuZGluZ1JlcXVlc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY2UoQShlLHttZXRob2Q6XCJQT1NUXCJ9KSx0KX0obCxlPT57dGhpcy5wZW5kaW5nUmVxdWVzdD1udWxsLG4oZSksdGhpcy5zYXZlRXZlbnREYXRhKCksdGhpcy5wcm9jZXNzUmVxdWVzdHMoaSl9KX1xdWV1ZVJlcXVlc3QoZSx0KXt0aGlzLnF1ZXVlLnB1c2goZSksdGhpcy5wcm9jZXNzUmVxdWVzdHModCl9fWNvbnN0IEllPW5ldyBjbGFzcyBleHRlbmRzIE1le2NvbnN0cnVjdG9yKGUpe3N1cGVyKFwiYXBwVXNlclR1cm5zdGlsZVwiKSx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbj1lfXBvc3RUdXJuc3RpbGVFdmVudChlLHQpe28uRVZFTlRTX1VSTCYmby5BQ0NFU1NfVE9LRU4mJkFycmF5LmlzQXJyYXkoZSkmJmUuc29tZShlPT55ZShlKXx8X2UoZSkpJiZ0aGlzLnF1ZXVlUmVxdWVzdChEYXRlLm5vdygpLHQpfXByb2Nlc3NSZXF1ZXN0cyhlKXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO3RoaXMuYW5vbklkJiZ0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2VzcyYmdGhpcy5ldmVudERhdGEudG9rZW5VfHx0aGlzLmZldGNoRXZlbnREYXRhKCk7Y29uc3QgdD1TZShvLkFDQ0VTU19UT0tFTiksbj10P3QudTpvLkFDQ0VTU19UT0tFTjtsZXQgcj1uIT09dGhpcy5ldmVudERhdGEudG9rZW5VO08odGhpcy5hbm9uSWQpfHwodGhpcy5hbm9uSWQ9RCgpLHI9ITApO2NvbnN0IGE9dGhpcy5xdWV1ZS5zaGlmdCgpO2lmKHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzKXtjb25zdCBlPW5ldyBEYXRlKHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzKSx0PW5ldyBEYXRlKGEpLG49KGEtdGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MpLzg2NGU1O3I9cnx8bj49MXx8bjwtMXx8ZS5nZXREYXRlKCkhPT10LmdldERhdGUoKX1lbHNlIHI9ITA7cj90aGlzLnBvc3RFdmVudChhLHtzZGtJZGVudGlmaWVyOlwibWFwYm94LWdsLWpzXCIsc2RrVmVyc2lvbjppLHNrdUlkOmQsXCJlbmFibGVkLnRlbGVtZXRyeVwiOiExLHVzZXJJZDp0aGlzLmFub25JZH0sZT0+e2V8fCh0aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2Vzcz1hLHRoaXMuZXZlbnREYXRhLnRva2VuVT1uKX0sZSk6dGhpcy5wcm9jZXNzUmVxdWVzdHMoKX19LENlPUllLnBvc3RUdXJuc3RpbGVFdmVudC5iaW5kKEllKSxrZT1uZXcgY2xhc3MgZXh0ZW5kcyBNZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwibWFwLmxvYWRcIiksdGhpcy5zdWNjZXNzPXt9LHRoaXMuc2t1VG9rZW49XCJcIn1wb3N0TWFwTG9hZEV2ZW50KGUsdCxuLGkpe3RoaXMuc2t1VG9rZW49dCx0aGlzLmVycm9yQ2I9aSxvLkVWRU5UU19VUkwmJihufHxvLkFDQ0VTU19UT0tFTj90aGlzLnF1ZXVlUmVxdWVzdCh7aWQ6ZSx0aW1lc3RhbXA6RGF0ZS5ub3coKX0sbik6dGhpcy5lcnJvckNiKG5ldyBFcnJvcihnZSkpKX1wcm9jZXNzUmVxdWVzdHMoZSl7aWYodGhpcy5wZW5kaW5nUmVxdWVzdHx8MD09PXRoaXMucXVldWUubGVuZ3RoKXJldHVybjtjb25zdHtpZDp0LHRpbWVzdGFtcDpufT10aGlzLnF1ZXVlLnNoaWZ0KCk7dCYmdGhpcy5zdWNjZXNzW3RdfHwodGhpcy5hbm9uSWR8fHRoaXMuZmV0Y2hFdmVudERhdGEoKSxPKHRoaXMuYW5vbklkKXx8KHRoaXMuYW5vbklkPUQoKSksdGhpcy5wb3N0RXZlbnQobix7c2RrSWRlbnRpZmllcjpcIm1hcGJveC1nbC1qc1wiLHNka1ZlcnNpb246aSxza3VJZDpkLHNrdVRva2VuOnRoaXMuc2t1VG9rZW4sdXNlcklkOnRoaXMuYW5vbklkfSxlPT57ZT90aGlzLmVycm9yQ2IoZSk6dCYmKHRoaXMuc3VjY2Vzc1t0XT0hMCl9LGUpKX19LEFlPWtlLnBvc3RNYXBMb2FkRXZlbnQuYmluZChrZSksUGU9bmV3IGNsYXNzIGV4dGVuZHMgTWV7Y29uc3RydWN0b3IoKXtzdXBlcihcImdsanMucGVyZm9ybWFuY2VcIil9cG9zdFBlcmZvcm1hbmNlRXZlbnQoZSx0KXtvLkVWRU5UU19VUkwmJihlfHxvLkFDQ0VTU19UT0tFTikmJnRoaXMucXVldWVSZXF1ZXN0KHt0aW1lc3RhbXA6RGF0ZS5ub3coKSxwZXJmb3JtYW5jZURhdGE6dH0sZSl9cHJvY2Vzc1JlcXVlc3RzKGUpe2lmKHRoaXMucGVuZGluZ1JlcXVlc3R8fDA9PT10aGlzLnF1ZXVlLmxlbmd0aClyZXR1cm47Y29uc3R7dGltZXN0YW1wOnQscGVyZm9ybWFuY2VEYXRhOnJ9PXRoaXMucXVldWUuc2hpZnQoKSxvPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bi5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKFwicmVzb3VyY2VcIikscj1uLnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJtYXJrXCIpLG89ZnVuY3Rpb24oZSl7Y29uc3QgdD17fTtpZihlKWZvcihjb25zdCBuIGluIGUpaWYoXCJvdGhlclwiIT09bilmb3IoY29uc3QgaSBvZiBlW25dKXtjb25zdCBlPW4rXCJSZXNvbHZlUmFuZ2VNaW5cIixyPW4rXCJSZXNvbHZlUmFuZ2VNYXhcIixvPW4rXCJSZXF1ZXN0Q291bnRcIixhPW4rXCJSZXF1ZXN0Q2FjaGVkQ291bnRcIjt0W2VdPU1hdGgubWluKHRbZV18fDEvMCxpLnN0YXJ0VGltZSksdFtyXT1NYXRoLm1heCh0W3JdfHwtMS8wLGkucmVzcG9uc2VFbmQpO2NvbnN0IHM9ZT0+e3ZvaWQgMD09PXRbZV0mJih0W2VdPTApLCsrdFtlXX07dm9pZCAwIT09aS50cmFuc2ZlclNpemUmJjA9PT1pLnRyYW5zZmVyU2l6ZSYmcyhhKSxzKG8pfXJldHVybiB0fShmdW5jdGlvbihlLHQpe2NvbnN0IG49e307aWYoZSlmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPXQoaSk7dm9pZCAwPT09bltlXSYmKG5bZV09W10pLG5bZV0ucHVzaChpKX1yZXR1cm4gbn0odCxqZSkpLGE9bi5kZXZpY2VQaXhlbFJhdGlvLHM9bi5uYXZpZ2F0b3IuY29ubmVjdGlvbnx8bi5uYXZpZ2F0b3IubW96Q29ubmVjdGlvbnx8bi5uYXZpZ2F0b3Iud2Via2l0Q29ubmVjdGlvbixsPXtjb3VudGVyczpbXSxtZXRhZGF0YTpbXSxhdHRyaWJ1dGVzOltdfSxjPShlLHQsbik9PntudWxsIT1uJiZlLnB1c2goe25hbWU6dCx2YWx1ZTpuLnRvU3RyaW5nKCl9KX07Zm9yKGNvbnN0IGUgaW4gbyljKGwuY291bnRlcnMsZSxvW2VdKTtpZihlLmludGVyYWN0aW9uUmFuZ2VbMF0hPT0xLzAmJmUuaW50ZXJhY3Rpb25SYW5nZVsxXSE9PS0xLzAmJihjKGwuY291bnRlcnMsXCJpbnRlcmFjdGlvblJhbmdlTWluXCIsZS5pbnRlcmFjdGlvblJhbmdlWzBdKSxjKGwuY291bnRlcnMsXCJpbnRlcmFjdGlvblJhbmdlTWF4XCIsZS5pbnRlcmFjdGlvblJhbmdlWzFdKSkscilmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhSZSkpe2NvbnN0IHQ9UmVbZV0sbj1yLmZpbmQoZT0+ZS5uYW1lPT09dCk7biYmYyhsLmNvdW50ZXJzLHQsbi5zdGFydFRpbWUpfXJldHVybiBjKGwuY291bnRlcnMsXCJ2aXNpYmlsaXR5SGlkZGVuXCIsZS52aXNpYmlsaXR5SGlkZGVuKSxjKGwuYXR0cmlidXRlcyxcInN0eWxlXCIsZnVuY3Rpb24oZSl7aWYoZSlmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXQubmFtZS5zcGxpdChcIj9cIilbMF07aWYoeGUoZSkpe2NvbnN0IHQ9ZS5zcGxpdChcIi9cIikuc2xpY2UoLTIpO2lmKDI9PT10Lmxlbmd0aClyZXR1cm5gbWFwYm94Oi8vc3R5bGVzLyR7dFswXX0vJHt0WzFdfWB9fX0odCkpLGMobC5hdHRyaWJ1dGVzLFwidGVycmFpbkVuYWJsZWRcIixlLnRlcnJhaW5FbmFibGVkP1widHJ1ZVwiOlwiZmFsc2VcIiksYyhsLmF0dHJpYnV0ZXMsXCJmb2dFbmFibGVkXCIsZS5mb2dFbmFibGVkP1widHJ1ZVwiOlwiZmFsc2VcIiksYyhsLmF0dHJpYnV0ZXMsXCJwcm9qZWN0aW9uXCIsZS5wcm9qZWN0aW9uKSxjKGwuYXR0cmlidXRlcyxcInpvb21cIixlLnpvb20pLGMobC5tZXRhZGF0YSxcImRldmljZVBpeGVsUmF0aW9cIixhKSxjKGwubWV0YWRhdGEsXCJjb25uZWN0aW9uRWZmZWN0aXZlVHlwZVwiLHM/cy5lZmZlY3RpdmVUeXBlOnZvaWQgMCksYyhsLm1ldGFkYXRhLFwibmF2aWdhdG9yVXNlckFnZW50XCIsbi5uYXZpZ2F0b3IudXNlckFnZW50KSxjKGwubWV0YWRhdGEsXCJzY3JlZW5XaWR0aFwiLG4uc2NyZWVuLndpZHRoKSxjKGwubWV0YWRhdGEsXCJzY3JlZW5IZWlnaHRcIixuLnNjcmVlbi5oZWlnaHQpLGMobC5tZXRhZGF0YSxcIndpbmRvd1dpZHRoXCIsbi5pbm5lcldpZHRoKSxjKGwubWV0YWRhdGEsXCJ3aW5kb3dIZWlnaHRcIixuLmlubmVySGVpZ2h0KSxjKGwubWV0YWRhdGEsXCJtYXBXaWR0aFwiLGUud2lkdGgvYSksYyhsLm1ldGFkYXRhLFwibWFwSGVpZ2h0XCIsZS5oZWlnaHQvYSksYyhsLm1ldGFkYXRhLFwid2ViZ2xSZW5kZXJlclwiLGUucmVuZGVyZXIpLGMobC5tZXRhZGF0YSxcIndlYmdsVmVuZG9yXCIsZS52ZW5kb3IpLGMobC5tZXRhZGF0YSxcInNka1ZlcnNpb25cIixpKSxjKGwubWV0YWRhdGEsXCJzZGtJZGVudGlmaWVyXCIsXCJtYXBib3gtZ2wtanNcIiksbH0ocik7Zm9yKGNvbnN0IGUgb2Ygby5tZXRhZGF0YSk7Zm9yKGNvbnN0IGUgb2Ygby5jb3VudGVycyk7Zm9yKGNvbnN0IGUgb2Ygby5hdHRyaWJ1dGVzKTt0aGlzLnBvc3RFdmVudCh0LG8sKCk9Pnt9LGUpfX0semU9UGUucG9zdFBlcmZvcm1hbmNlRXZlbnQuYmluZChQZSksRGU9bmV3IGNsYXNzIGV4dGVuZHMgTWV7Y29uc3RydWN0b3IoKXtzdXBlcihcIm1hcC5hdXRoXCIpLHRoaXMuc3VjY2Vzcz17fSx0aGlzLnNrdVRva2VuPVwiXCJ9Z2V0U2Vzc2lvbihlLHQsbixpKXtpZighby5BUElfVVJMfHwhby5TRVNTSU9OX1BBVEgpcmV0dXJuO2NvbnN0IHI9VGUoby5BUElfVVJMK28uU0VTU0lPTl9QQVRIKTtyLnBhcmFtcy5wdXNoKFwic2t1PVwiKyh0fHxcIlwiKSksci5wYXJhbXMucHVzaChcImFjY2Vzc190b2tlbj1cIisoaXx8by5BQ0NFU1NfVE9LRU58fFwiXCIpKTtjb25zdCBhPXt1cmw6RWUociksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcInRleHQvcGxhaW5cIn19O3RoaXMucGVuZGluZ1JlcXVlc3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY2UoQShlLHttZXRob2Q6XCJHRVRcIn0pLHQpfShhLGU9Pnt0aGlzLnBlbmRpbmdSZXF1ZXN0PW51bGwsbihlKSx0aGlzLnNhdmVFdmVudERhdGEoKSx0aGlzLnByb2Nlc3NSZXF1ZXN0cyhpKX0pfWdldFNlc3Npb25BUEkoZSx0LG4saSl7dGhpcy5za3VUb2tlbj10LHRoaXMuZXJyb3JDYj1pLG8uU0VTU0lPTl9QQVRIJiZvLkFQSV9VUkwmJihufHxvLkFDQ0VTU19UT0tFTj90aGlzLnF1ZXVlUmVxdWVzdCh7aWQ6ZSx0aW1lc3RhbXA6RGF0ZS5ub3coKX0sbik6dGhpcy5lcnJvckNiKG5ldyBFcnJvcihnZSkpKX1wcm9jZXNzUmVxdWVzdHMoZSl7aWYodGhpcy5wZW5kaW5nUmVxdWVzdHx8MD09PXRoaXMucXVldWUubGVuZ3RoKXJldHVybjtjb25zdHtpZDp0LHRpbWVzdGFtcDpufT10aGlzLnF1ZXVlLnNoaWZ0KCk7dCYmdGhpcy5zdWNjZXNzW3RdfHx0aGlzLmdldFNlc3Npb24obix0aGlzLnNrdVRva2VuLGU9PntlP3RoaXMuZXJyb3JDYihlKTp0JiYodGhpcy5zdWNjZXNzW3RdPSEwKX0sZSl9fSxMZT1EZS5nZXRTZXNzaW9uQVBJLmJpbmQoRGUpLE9lPW5ldyBTZXQsUmU9e2NyZWF0ZTpcImNyZWF0ZVwiLGxvYWQ6XCJsb2FkXCIsZnVsbExvYWQ6XCJmdWxsTG9hZFwifSxCZT17bWFyayhlKXtuLnBlcmZvcm1hbmNlLm1hcmsoZSl9LG1lYXN1cmUoZSx0LGkpe24ucGVyZm9ybWFuY2UubWVhc3VyZShlLHQsaSl9fTtmdW5jdGlvbiBqZShlKXtjb25zdCB0PWUubmFtZS5zcGxpdChcIj9cIilbMF07cmV0dXJuIHZlKHQpJiZ0LmluY2x1ZGVzKFwibWFwYm94LWdsLmpzXCIpP1wiamF2YXNjcmlwdFwiOnZlKHQpJiZ0LmluY2x1ZGVzKFwibWFwYm94LWdsLmNzc1wiKT9cImNzc1wiOmZ1bmN0aW9uKGUpe3JldHVybiBvLkFQSV9GT05UU19SRUdFWC50ZXN0KGUpfSh0KT9cImZvbnRSYW5nZVwiOmJlKHQpP1wic3ByaXRlXCI6eGUodCk/XCJzdHlsZVwiOmZ1bmN0aW9uKGUpe3JldHVybiBvLkFQSV9USUxFSlNPTl9SRUdFWC50ZXN0KGUpfSh0KT9cInRpbGVqc29uXCI6XCJvdGhlclwifWNvbnN0IEZlPW4ucGVyZm9ybWFuY2U7ZnVuY3Rpb24gTmUoZSl7Y29uc3QgdD1lP2UudXJsLnRvU3RyaW5nKCk6dm9pZCAwO3JldHVybiBGZS5nZXRFbnRyaWVzQnlOYW1lKHQpfWxldCBVZSxWZSxHZSxaZTtjb25zdCBXZT17bm93OigpPT52b2lkIDAhPT1HZT9HZTpuLnBlcmZvcm1hbmNlLm5vdygpLHNldE5vdyhlKXtHZT1lfSxyZXN0b3JlTm93KCl7R2U9dm9pZCAwfSxmcmFtZShlKXtjb25zdCB0PW4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpO3JldHVybntjYW5jZWw6KCk9Pm4uY2FuY2VsQW5pbWF0aW9uRnJhbWUodCl9fSxnZXRJbWFnZURhdGEoZSx0PTApe2NvbnN0e3dpZHRoOmksaGVpZ2h0OnJ9PWU7WmV8fChaZT1uLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikpO2NvbnN0IG89WmUuZ2V0Q29udGV4dChcIjJkXCIse3dpbGxSZWFkRnJlcXVlbnRseTohMH0pO2lmKCFvKXRocm93IG5ldyBFcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2FudmFzIDJkIGNvbnRleHRcIik7cmV0dXJuKGk+WmUud2lkdGh8fHI+WmUuaGVpZ2h0KSYmKFplLndpZHRoPWksWmUuaGVpZ2h0PXIpLG8uY2xlYXJSZWN0KC10LC10LGkrMip0LHIrMip0KSxvLmRyYXdJbWFnZShlLDAsMCxpLHIpLG8uZ2V0SW1hZ2VEYXRhKC10LC10LGkrMip0LHIrMip0KX0scmVzb2x2ZVVSTDplPT4oVWV8fChVZT1uLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpKSxVZS5ocmVmPWUsVWUuaHJlZiksZ2V0IGRldmljZVBpeGVsUmF0aW8oKXtyZXR1cm4gbi5kZXZpY2VQaXhlbFJhdGlvfSxnZXQgcHJlZmVyc1JlZHVjZWRNb3Rpb24oKXtyZXR1cm4hIW4ubWF0Y2hNZWRpYSYmKG51bGw9PVZlJiYoVmU9bi5tYXRjaE1lZGlhKFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSlcIikpLFZlLm1hdGNoZXMpfX07ZnVuY3Rpb24gcWUoZSx0LG4pe25bZV0mJi0xIT09bltlXS5pbmRleE9mKHQpfHwobltlXT1uW2VdfHxbXSxuW2VdLnB1c2godCkpfWZ1bmN0aW9uICRlKGUsdCxuKXtpZihuJiZuW2VdKXtjb25zdCBpPW5bZV0uaW5kZXhPZih0KTstMSE9PWkmJm5bZV0uc3BsaWNlKGksMSl9fWNsYXNzIEhle2NvbnN0cnVjdG9yKGUsdD17fSl7QSh0aGlzLHQpLHRoaXMudHlwZT1lfX1jbGFzcyBYZSBleHRlbmRzIEhle2NvbnN0cnVjdG9yKGUsdD17fSl7c3VwZXIoXCJlcnJvclwiLEEoe2Vycm9yOmV9LHQpKX19Y2xhc3MgWWV7b24oZSx0KXtyZXR1cm4gdGhpcy5fbGlzdGVuZXJzPXRoaXMuX2xpc3RlbmVyc3x8e30scWUoZSx0LHRoaXMuX2xpc3RlbmVycyksdGhpc31vZmYoZSx0KXtyZXR1cm4gJGUoZSx0LHRoaXMuX2xpc3RlbmVycyksJGUoZSx0LHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHRoaXN9b25jZShlLHQpe3JldHVybiB0Pyh0aGlzLl9vbmVUaW1lTGlzdGVuZXJzPXRoaXMuX29uZVRpbWVMaXN0ZW5lcnN8fHt9LHFlKGUsdCx0aGlzLl9vbmVUaW1lTGlzdGVuZXJzKSx0aGlzKTpuZXcgUHJvbWlzZSh0PT50aGlzLm9uY2UoZSx0KSl9ZmlyZShlLHQpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1uZXcgSGUoZSx0fHx7fSkpO2NvbnN0IG49ZS50eXBlO2lmKHRoaXMubGlzdGVucyhuKSl7ZS50YXJnZXQ9dGhpcztjb25zdCB0PXRoaXMuX2xpc3RlbmVycyYmdGhpcy5fbGlzdGVuZXJzW25dP3RoaXMuX2xpc3RlbmVyc1tuXS5zbGljZSgpOltdO2Zvcihjb25zdCBuIG9mIHQpbi5jYWxsKHRoaXMsZSk7Y29uc3QgaT10aGlzLl9vbmVUaW1lTGlzdGVuZXJzJiZ0aGlzLl9vbmVUaW1lTGlzdGVuZXJzW25dP3RoaXMuX29uZVRpbWVMaXN0ZW5lcnNbbl0uc2xpY2UoKTpbXTtmb3IoY29uc3QgdCBvZiBpKSRlKG4sdCx0aGlzLl9vbmVUaW1lTGlzdGVuZXJzKSx0LmNhbGwodGhpcyxlKTtjb25zdCByPXRoaXMuX2V2ZW50ZWRQYXJlbnQ7ciYmKEEoZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLl9ldmVudGVkUGFyZW50RGF0YT90aGlzLl9ldmVudGVkUGFyZW50RGF0YSgpOnRoaXMuX2V2ZW50ZWRQYXJlbnREYXRhKSxyLmZpcmUoZSkpfWVsc2UgZSBpbnN0YW5jZW9mIFhlJiZjb25zb2xlLmVycm9yKGUuZXJyb3IpO3JldHVybiB0aGlzfWxpc3RlbnMoZSl7cmV0dXJuISEodGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnNbZV0mJnRoaXMuX2xpc3RlbmVyc1tlXS5sZW5ndGg+MHx8dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tlXSYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tlXS5sZW5ndGg+MHx8dGhpcy5fZXZlbnRlZFBhcmVudCYmdGhpcy5fZXZlbnRlZFBhcmVudC5saXN0ZW5zKGUpKX1zZXRFdmVudGVkUGFyZW50KGUsdCl7cmV0dXJuIHRoaXMuX2V2ZW50ZWRQYXJlbnQ9ZSx0aGlzLl9ldmVudGVkUGFyZW50RGF0YT10LHRoaXN9fXZhciBKZT1KU09OLnBhcnNlKCd7XCIkdmVyc2lvblwiOjgsXCIkcm9vdFwiOntcInZlcnNpb25cIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjpbOF19LFwibmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifSxcImNlbnRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCJ9LFwiem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcImJlYXJpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwidW5pdHNcIjpcImRlZ3JlZXNcIn0sXCJwaXRjaFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJ1bml0c1wiOlwiZGVncmVlc1wifSxcImxpZ2h0XCI6e1widHlwZVwiOlwibGlnaHRcIn0sXCJ0ZXJyYWluXCI6e1widHlwZVwiOlwidGVycmFpblwifSxcImZvZ1wiOntcInR5cGVcIjpcImZvZ1wifSxcInNvdXJjZXNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJzb3VyY2VzXCJ9LFwic3ByaXRlXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiZ2x5cGhzXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidHJhbnNpdGlvblwiOntcInR5cGVcIjpcInRyYW5zaXRpb25cIn0sXCJwcm9qZWN0aW9uXCI6e1widHlwZVwiOlwicHJvamVjdGlvblwifSxcImxheWVyc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibGF5ZXJcIn19LFwic291cmNlc1wiOntcIipcIjp7XCJ0eXBlXCI6XCJzb3VyY2VcIn19LFwic291cmNlXCI6W1wic291cmNlX3ZlY3RvclwiLFwic291cmNlX3Jhc3RlclwiLFwic291cmNlX3Jhc3Rlcl9kZW1cIixcInNvdXJjZV9nZW9qc29uXCIsXCJzb3VyY2VfdmlkZW9cIixcInNvdXJjZV9pbWFnZVwiXSxcInNvdXJjZV92ZWN0b3JcIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmVjdG9yXCI6e319fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOnt9LFwidG1zXCI6e319LFwiZGVmYXVsdFwiOlwieHl6XCJ9LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIyfSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwicHJvbW90ZUlkXCI6e1widHlwZVwiOlwicHJvbW90ZUlkXCJ9LFwidm9sYXRpbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiKlwiOntcInR5cGVcIjpcIipcIn19LFwic291cmNlX3Jhc3RlclwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJyYXN0ZXJcIjp7fX19LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImJvdW5kc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjo0LFwiZGVmYXVsdFwiOlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIyfSxcInRpbGVTaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NTEyLFwidW5pdHNcIjpcInBpeGVsc1wifSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOnt9LFwidG1zXCI6e319LFwiZGVmYXVsdFwiOlwieHl6XCJ9LFwiYXR0cmlidXRpb25cIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJ2b2xhdGlsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZX0sXCIqXCI6e1widHlwZVwiOlwiKlwifX0sXCJzb3VyY2VfcmFzdGVyX2RlbVwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJyYXN0ZXItZGVtXCI6e319fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowfSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyMn0sXCJ0aWxlU2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjUxMixcInVuaXRzXCI6XCJwaXhlbHNcIn0sXCJhdHRyaWJ1dGlvblwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcImVuY29kaW5nXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widGVycmFyaXVtXCI6e30sXCJtYXBib3hcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBib3hcIn0sXCJ2b2xhdGlsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZX0sXCIqXCI6e1widHlwZVwiOlwiKlwifX0sXCJzb3VyY2VfZ2VvanNvblwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJnZW9qc29uXCI6e319fSxcImRhdGFcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjE4fSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiYnVmZmVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTI4LFwibWF4aW11bVwiOjUxMixcIm1pbmltdW1cIjowfSxcImZpbHRlclwiOntcInR5cGVcIjpcIipcIn0sXCJ0b2xlcmFuY2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjM3NX0sXCJjbHVzdGVyXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImNsdXN0ZXJSYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1MCxcIm1pbmltdW1cIjowfSxcImNsdXN0ZXJNYXhab29tXCI6e1widHlwZVwiOlwibnVtYmVyXCJ9LFwiY2x1c3Rlck1pblBvaW50c1wiOntcInR5cGVcIjpcIm51bWJlclwifSxcImNsdXN0ZXJQcm9wZXJ0aWVzXCI6e1widHlwZVwiOlwiKlwifSxcImxpbmVNZXRyaWNzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImdlbmVyYXRlSWRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwicHJvbW90ZUlkXCI6e1widHlwZVwiOlwicHJvbW90ZUlkXCJ9fSxcInNvdXJjZV92aWRlb1wiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aWRlb1wiOnt9fX0sXCJ1cmxzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJjb29yZGluYXRlc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjo0LFwidmFsdWVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIn19fSxcInNvdXJjZV9pbWFnZVwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJpbWFnZVwiOnt9fX0sXCJ1cmxcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJjb29yZGluYXRlc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjo0LFwidmFsdWVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIn19fSxcImxheWVyXCI6e1wiaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInJlcXVpcmVkXCI6dHJ1ZX0sXCJ0eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiZmlsbFwiOnt9LFwibGluZVwiOnt9LFwic3ltYm9sXCI6e30sXCJjaXJjbGVcIjp7fSxcImhlYXRtYXBcIjp7fSxcImZpbGwtZXh0cnVzaW9uXCI6e30sXCJyYXN0ZXJcIjp7fSxcImhpbGxzaGFkZVwiOnt9LFwiYmFja2dyb3VuZFwiOnt9LFwic2t5XCI6e319LFwicmVxdWlyZWRcIjp0cnVlfSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifSxcInNvdXJjZVwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInNvdXJjZS1sYXllclwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0fSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0fSxcImZpbHRlclwiOntcInR5cGVcIjpcImZpbHRlclwifSxcImxheW91dFwiOntcInR5cGVcIjpcImxheW91dFwifSxcInBhaW50XCI6e1widHlwZVwiOlwicGFpbnRcIn19LFwibGF5b3V0XCI6W1wibGF5b3V0X2ZpbGxcIixcImxheW91dF9saW5lXCIsXCJsYXlvdXRfY2lyY2xlXCIsXCJsYXlvdXRfaGVhdG1hcFwiLFwibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCIsXCJsYXlvdXRfc3ltYm9sXCIsXCJsYXlvdXRfcmFzdGVyXCIsXCJsYXlvdXRfaGlsbHNoYWRlXCIsXCJsYXlvdXRfYmFja2dyb3VuZFwiLFwibGF5b3V0X3NreVwiXSxcImxheW91dF9iYWNrZ3JvdW5kXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfc2t5XCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfZmlsbFwiOntcImZpbGwtc29ydC1rZXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfY2lyY2xlXCI6e1wiY2lyY2xlLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X2hlYXRtYXBcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9maWxsLWV4dHJ1c2lvblwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJpdmF0ZVwiOnRydWUsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfbGluZVwiOntcImxpbmUtY2FwXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYnV0dFwiOnt9LFwicm91bmRcIjp7fSxcInNxdWFyZVwiOnt9fSxcImRlZmF1bHRcIjpcImJ1dHRcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1qb2luXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYmV2ZWxcIjp7fSxcInJvdW5kXCI6e30sXCJtaXRlclwiOnt9fSxcImRlZmF1bHRcIjpcIm1pdGVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtbWl0ZXItbGltaXRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyLFwicmVxdWlyZXNcIjpbe1wibGluZS1qb2luXCI6XCJtaXRlclwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXJvdW5kLWxpbWl0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MS4wNSxcInJlcXVpcmVzXCI6W3tcImxpbmUtam9pblwiOlwicm91bmRcIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS1zb3J0LWtleVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9zeW1ib2xcIjp7XCJzeW1ib2wtcGxhY2VtZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicG9pbnRcIjp7fSxcImxpbmVcIjp7fSxcImxpbmUtY2VudGVyXCI6e319LFwiZGVmYXVsdFwiOlwicG9pbnRcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJzeW1ib2wtc3BhY2luZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjI1MCxcIm1pbmltdW1cIjoxLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbe1wic3ltYm9sLXBsYWNlbWVudFwiOlwibGluZVwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJzeW1ib2wtYXZvaWQtZWRnZXNcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic3ltYm9sLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInN5bWJvbC16LW9yZGVyXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYXV0b1wiOnt9LFwidmlld3BvcnQteVwiOnt9LFwic291cmNlXCI6e319LFwiZGVmYXVsdFwiOlwiYXV0b1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tYWxsb3ctb3ZlcmxhcFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1vcHRpb25hbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiLFwidGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fSxcImF1dG9cIjp7fX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1zaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcImZhY3RvciBvZiB0aGUgb3JpZ2luYWwgaWNvbiBzaXplXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi10ZXh0LWZpdFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm5vbmVcIjp7fSxcIndpZHRoXCI6e30sXCJoZWlnaHRcIjp7fSxcImJvdGhcIjp7fX0sXCJkZWZhdWx0XCI6XCJub25lXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIixcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjQsXCJkZWZhdWx0XCI6WzAsMCwwLDBdLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIsXCJ0ZXh0LWZpZWxkXCIse1wiaWNvbi10ZXh0LWZpdFwiOltcImJvdGhcIixcIndpZHRoXCIsXCJoZWlnaHRcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24taW1hZ2VcIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0b2tlbnNcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXJvdGF0ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJwZXJpb2RcIjozNjAsXCJ1bml0c1wiOlwiZGVncmVlc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tcGFkZGluZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24ta2VlcC11cHJpZ2h0XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIse1wiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIjpcIm1hcFwifSx7XCJzeW1ib2wtcGxhY2VtZW50XCI6W1wibGluZVwiLFwibGluZS1jZW50ZXJcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiY2VudGVyXCI6e30sXCJsZWZ0XCI6e30sXCJyaWdodFwiOnt9LFwidG9wXCI6e30sXCJib3R0b21cIjp7fSxcInRvcC1sZWZ0XCI6e30sXCJ0b3AtcmlnaHRcIjp7fSxcImJvdHRvbS1sZWZ0XCI6e30sXCJib3R0b20tcmlnaHRcIjp7fX0sXCJkZWZhdWx0XCI6XCJjZW50ZXJcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e30sXCJhdXRvXCI6e319LFwiZGVmYXVsdFwiOlwiYXV0b1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcGl0Y2gtYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9LFwiYXV0b1wiOnt9fSxcImRlZmF1bHRcIjpcImF1dG9cIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fSxcImF1dG9cIjp7fX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1maWVsZFwiOntcInR5cGVcIjpcImZvcm1hdHRlZFwiLFwiZGVmYXVsdFwiOlwiXCIsXCJ0b2tlbnNcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWZvbnRcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wiLFwiZGVmYXVsdFwiOltcIk9wZW4gU2FucyBSZWd1bGFyXCIsXCJBcmlhbCBVbmljb2RlIE1TIFJlZ3VsYXJcIl0sXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtc2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjE2LFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1tYXgtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxMCxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcImVtc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wic3ltYm9sLXBsYWNlbWVudFwiOltcInBvaW50XCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1saW5lLWhlaWdodFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEuMixcInVuaXRzXCI6XCJlbXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInVuaXRzXCI6XCJlbXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWp1c3RpZnlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJhdXRvXCI6e30sXCJsZWZ0XCI6e30sXCJjZW50ZXJcIjp7fSxcInJpZ2h0XCI6e319LFwiZGVmYXVsdFwiOlwiY2VudGVyXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtcmFkaWFsLW9mZnNldFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwidW5pdHNcIjpcImVtc1wiLFwiZGVmYXVsdFwiOjAsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwidGV4dC12YXJpYWJsZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImNlbnRlclwiOnt9LFwibGVmdFwiOnt9LFwicmlnaHRcIjp7fSxcInRvcFwiOnt9LFwiYm90dG9tXCI6e30sXCJ0b3AtbGVmdFwiOnt9LFwidG9wLXJpZ2h0XCI6e30sXCJib3R0b20tbGVmdFwiOnt9LFwiYm90dG9tLXJpZ2h0XCI6e319LFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wic3ltYm9sLXBsYWNlbWVudFwiOltcInBvaW50XCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJjZW50ZXJcIjp7fSxcImxlZnRcIjp7fSxcInJpZ2h0XCI6e30sXCJ0b3BcIjp7fSxcImJvdHRvbVwiOnt9LFwidG9wLWxlZnRcIjp7fSxcInRvcC1yaWdodFwiOnt9LFwiYm90dG9tLWxlZnRcIjp7fSxcImJvdHRvbS1yaWdodFwiOnt9fSxcImRlZmF1bHRcIjpcImNlbnRlclwiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wiIVwiOlwidGV4dC12YXJpYWJsZS1hbmNob3JcIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LW1heC1hbmdsZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjQ1LFwidW5pdHNcIjpcImRlZ3JlZXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLHtcInN5bWJvbC1wbGFjZW1lbnRcIjpbXCJsaW5lXCIsXCJsaW5lLWNlbnRlclwiXX1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC13cml0aW5nLW1vZGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImhvcml6b250YWxcIjp7fSxcInZlcnRpY2FsXCI6e319LFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcm90YXRlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInBlcmlvZFwiOjM2MCxcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1wYWRkaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MixcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1rZWVwLXVwcmlnaHRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLHtcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCI6XCJtYXBcIn0se1wic3ltYm9sLXBsYWNlbWVudFwiOltcImxpbmVcIixcImxpbmUtY2VudGVyXCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC10cmFuc2Zvcm1cIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJub25lXCI6e30sXCJ1cHBlcmNhc2VcIjp7fSxcImxvd2VyY2FzZVwiOnt9fSxcImRlZmF1bHRcIjpcIm5vbmVcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1vZmZzZXRcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwidW5pdHNcIjpcImVtc1wiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLHtcIiFcIjpcInRleHQtcmFkaWFsLW9mZnNldFwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1hbGxvdy1vdmVybGFwXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtaWdub3JlLXBsYWNlbWVudFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LW9wdGlvbmFsXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIsXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X3Jhc3RlclwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X2hpbGxzaGFkZVwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwiZmlsdGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCIqXCJ9LFwiZmlsdGVyX3N5bWJvbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdfX0sXCJmaWx0ZXJfZmlsbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2xpbmVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9jaXJjbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9maWxsLWV4dHJ1c2lvblwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2hlYXRtYXBcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9vcGVyYXRvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIj09XCI6e30sXCIhPVwiOnt9LFwiPlwiOnt9LFwiPj1cIjp7fSxcIjxcIjp7fSxcIjw9XCI6e30sXCJpblwiOnt9LFwiIWluXCI6e30sXCJhbGxcIjp7fSxcImFueVwiOnt9LFwibm9uZVwiOnt9LFwiaGFzXCI6e30sXCIhaGFzXCI6e30sXCJ3aXRoaW5cIjp7fX19LFwiZ2VvbWV0cnlfdHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIlBvaW50XCI6e30sXCJMaW5lU3RyaW5nXCI6e30sXCJQb2x5Z29uXCI6e319fSxcImZ1bmN0aW9uXCI6e1wiZXhwcmVzc2lvblwiOntcInR5cGVcIjpcImV4cHJlc3Npb25cIn0sXCJzdG9wc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiZnVuY3Rpb25fc3RvcFwifSxcImJhc2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjB9LFwicHJvcGVydHlcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImRlZmF1bHRcIjpcIiR6b29tXCJ9LFwidHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImlkZW50aXR5XCI6e30sXCJleHBvbmVudGlhbFwiOnt9LFwiaW50ZXJ2YWxcIjp7fSxcImNhdGVnb3JpY2FsXCI6e319LFwiZGVmYXVsdFwiOlwiZXhwb25lbnRpYWxcIn0sXCJjb2xvclNwYWNlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicmdiXCI6e30sXCJsYWJcIjp7fSxcImhjbFwiOnt9fSxcImRlZmF1bHRcIjpcInJnYlwifSxcImRlZmF1bHRcIjp7XCJ0eXBlXCI6XCIqXCIsXCJyZXF1aXJlZFwiOmZhbHNlfX0sXCJmdW5jdGlvbl9zdG9wXCI6e1widHlwZVwiOlwiYXJyYXlcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0LFwidmFsdWVcIjpbXCJudW1iZXJcIixcImNvbG9yXCJdLFwibGVuZ3RoXCI6Mn0sXCJleHByZXNzaW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCIqXCIsXCJtaW5pbXVtXCI6MX0sXCJmb2dcIjp7XCJyYW5nZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJkZWZhdWx0XCI6WzAuNSwxMF0sXCJtaW5pbXVtXCI6LTIwLFwibWF4aW11bVwiOjIwLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwiY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOlwiI2ZmZmZmZlwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJoaWdoLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiMyNDVjZGZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwic3BhY2UtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInpvb21cIl0sNCxcIiMwMTBiMTlcIiw3LFwiIzM2N2FiOVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaG9yaXpvbi1ibGVuZFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInpvb21cIl0sNCwwLjIsNywwLjFdLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwic3Rhci1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJ6b29tXCJdLDUsMC4zNSw2LDBdLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9fSxcImxpZ2h0XCI6e1wiYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwiZGVmYXVsdFwiOlwidmlld3BvcnRcIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwicG9zaXRpb25cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlsxLjE1LDIxMCwzMF0sXCJsZW5ndGhcIjozLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJjb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6XCIjZmZmZmZmXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOjAuNSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfX0sXCJwcm9qZWN0aW9uXCI6e1wibmFtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImFsYmVyc1wiOnt9LFwiZXF1YWxFYXJ0aFwiOnt9LFwiZXF1aXJlY3Rhbmd1bGFyXCI6e30sXCJsYW1iZXJ0Q29uZm9ybWFsQ29uaWNcIjp7fSxcIm1lcmNhdG9yXCI6e30sXCJuYXR1cmFsRWFydGhcIjp7fSxcIndpbmtlbFRyaXBlbFwiOnt9LFwiZ2xvYmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJtZXJjYXRvclwiLFwicmVxdWlyZWRcIjp0cnVlfSxcImNlbnRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwibWluaW11bVwiOlstMTgwLC05MF0sXCJtYXhpbXVtXCI6WzE4MCw5MF0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCJuYW1lXCI6W1wiYWxiZXJzXCIsXCJsYW1iZXJ0Q29uZm9ybWFsQ29uaWNcIl19XX0sXCJwYXJhbGxlbHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcIm1pbmltdW1cIjpbLTkwLC05MF0sXCJtYXhpbXVtXCI6WzkwLDkwXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcIm5hbWVcIjpbXCJhbGJlcnNcIixcImxhbWJlcnRDb25mb3JtYWxDb25pY1wiXX1dfX0sXCJ0ZXJyYWluXCI6e1wic291cmNlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwiZXhhZ2dlcmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEwMDAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJzb3VyY2VcIl19fSxcInBhaW50XCI6W1wicGFpbnRfZmlsbFwiLFwicGFpbnRfbGluZVwiLFwicGFpbnRfY2lyY2xlXCIsXCJwYWludF9oZWF0bWFwXCIsXCJwYWludF9maWxsLWV4dHJ1c2lvblwiLFwicGFpbnRfc3ltYm9sXCIsXCJwYWludF9yYXN0ZXJcIixcInBhaW50X2hpbGxzaGFkZVwiLFwicGFpbnRfYmFja2dyb3VuZFwiLFwicGFpbnRfc2t5XCJdLFwicGFpbnRfZmlsbFwiOntcImZpbGwtYW50aWFsaWFzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwiZmlsbC1wYXR0ZXJuXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLW91dGxpbmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJmaWxsLXBhdHRlcm5cIn0se1wiZmlsbC1hbnRpYWxpYXNcIjp0cnVlfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJmaWxsLXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifX0sXCJwYWludF9maWxsLWV4dHJ1c2lvblwiOntcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcInJlcXVpcmVzXCI6W1wiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJtZXRlcnNcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtZXh0cnVzaW9uLWJhc2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwibWV0ZXJzXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1wiZmlsbC1leHRydXNpb24taGVpZ2h0XCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOnRydWUsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCI6e1wicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHlwZVwiOlwibnVtYmVyXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjozLFwibWluaW11bVwiOjAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiXX19LFwicGFpbnRfbGluZVwiOntcImxpbmUtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImxpbmUtcGF0dGVyblwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJsaW5lLXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1nYXAtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLW9mZnNldFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWJsdXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWRhc2hhcnJheVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjpmYWxzZSxcInVuaXRzXCI6XCJsaW5lIHdpZHRoc1wiLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwibGluZS1wYXR0ZXJuXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1wYXR0ZXJuXCI6e1widHlwZVwiOlwicmVzb2x2ZWRJbWFnZVwiLFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWdyYWRpZW50XCI6e1widHlwZVwiOlwiY29sb3JcIixcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImxpbmUtcGF0dGVyblwifSx7XCJzb3VyY2VcIjpcImdlb2pzb25cIixcImhhc1wiOntcImxpbmVNZXRyaWNzXCI6dHJ1ZX19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImxpbmUtcHJvZ3Jlc3NcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY29sb3ItcmFtcFwifSxcImxpbmUtdHJpbS1vZmZzZXRcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcIm1pbmltdW1cIjpbMCwwXSxcIm1heGltdW1cIjpbMSwxXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcInNvdXJjZVwiOlwiZ2VvanNvblwiLFwiaGFzXCI6e1wibGluZU1ldHJpY3NcIjp0cnVlfX1dLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwicGFpbnRfY2lyY2xlXCI6e1wiY2lyY2xlLXJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjUsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtYmx1clwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcInJlcXVpcmVzXCI6W1wiY2lyY2xlLXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aWV3cG9ydFwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS1zdHJva2Utd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtc3Ryb2tlLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1zdHJva2Utb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9fSxcInBhaW50X2hlYXRtYXBcIjp7XCJoZWF0bWFwLXJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjMwLFwibWluaW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJoZWF0bWFwLXdlaWdodFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJoZWF0bWFwLWludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGVhdG1hcC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6W1wiaW50ZXJwb2xhdGVcIixbXCJsaW5lYXJcIl0sW1wiaGVhdG1hcC1kZW5zaXR5XCJdLDAsXCJyZ2JhKDAsIDAsIDI1NSwgMClcIiwwLjEsXCJyb3lhbGJsdWVcIiwwLjMsXCJjeWFuXCIsMC41LFwibGltZVwiLDAuNyxcInllbGxvd1wiLDEsXCJyZWRcIl0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJoZWF0bWFwLWRlbnNpdHlcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY29sb3ItcmFtcFwifSxcImhlYXRtYXAtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfc3ltYm9sXCI6e1wiaWNvbi1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24taGFsby1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCJyZ2JhKDAsIDAsIDAsIDApXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLWhhbG8td2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLWhhbG8tYmx1clwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiLFwiaWNvbi10cmFuc2xhdGVcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwib3ZlcnJpZGFibGVcIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtaGFsby1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCJyZ2JhKDAsIDAsIDAsIDApXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWhhbG8td2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWhhbG8tYmx1clwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLFwidGV4dC10cmFuc2xhdGVcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X3Jhc3RlclwiOntcInJhc3Rlci1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1odWUtcm90YXRlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInBlcmlvZFwiOjM2MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcImRlZ3JlZXNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLXNhdHVyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOi0xLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1jb250cmFzdFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6LTEsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLXJlc2FtcGxpbmdcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJsaW5lYXJcIjp7fSxcIm5lYXJlc3RcIjp7fX0sXCJkZWZhdWx0XCI6XCJsaW5lYXJcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjMwMCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOmZhbHNlLFwidW5pdHNcIjpcIm1pbGxpc2Vjb25kc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X2hpbGxzaGFkZVwiOntcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tZGlyZWN0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzM1LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MzU5LFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwidmlld3BvcnRcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MC41LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiI0ZGRkZGRlwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X2JhY2tncm91bmRcIjp7XCJiYWNrZ3JvdW5kLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwiYmFja2dyb3VuZC1wYXR0ZXJuXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImJhY2tncm91bmQtcGF0dGVyblwiOntcInR5cGVcIjpcInJlc29sdmVkSW1hZ2VcIixcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJiYWNrZ3JvdW5kLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInBhaW50X3NreVwiOntcInNreS10eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiZ3JhZGllbnRcIjp7fSxcImF0bW9zcGhlcmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJhdG1vc3BoZXJlXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWF0bW9zcGhlcmUtc3VuXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJ1bml0c1wiOlwiZGVncmVlc1wiLFwibWluaW11bVwiOlswLDBdLFwibWF4aW11bVwiOlszNjAsMTgwXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJhdG1vc3BoZXJlXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJyZXF1aXJlc1wiOlt7XCJza3ktdHlwZVwiOlwiYXRtb3NwaGVyZVwifV0sXCJkZWZhdWx0XCI6MTAsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxMDAsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWdyYWRpZW50LWNlbnRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJyZXF1aXJlc1wiOlt7XCJza3ktdHlwZVwiOlwiZ3JhZGllbnRcIn1dLFwidmFsdWVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOlswLDBdLFwibGVuZ3RoXCI6MixcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJtaW5pbXVtXCI6WzAsMF0sXCJtYXhpbXVtXCI6WzM2MCwxODBdLFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1ncmFkaWVudC1yYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJncmFkaWVudFwifV0sXCJkZWZhdWx0XCI6OTAsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxODAsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWdyYWRpZW50XCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJza3ktcmFkaWFsLXByb2dyZXNzXCJdLDAuOCxcIiM4N2NlZWJcIiwxLFwid2hpdGVcIl0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCJza3ktdHlwZVwiOlwiZ3JhZGllbnRcIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wic2t5LXJhZGlhbC1wcm9ncmVzc1wiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb2xvci1yYW1wXCJ9LFwic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCJ3aGl0ZVwiLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImF0bW9zcGhlcmVcIn1dLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1hdG1vc3BoZXJlLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIndoaXRlXCIsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCJza3ktdHlwZVwiOlwiYXRtb3NwaGVyZVwifV0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9fSxcInRyYW5zaXRpb25cIjp7XCJkdXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjMwMCxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcIm1pbGxpc2Vjb25kc1wifSxcImRlbGF5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcIm1pbGxpc2Vjb25kc1wifX0sXCJwcm9wZXJ0eS10eXBlXCI6e1wiZGF0YS1kcml2ZW5cIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0eS10eXBlXCJ9LFwiY29sb3ItcmFtcFwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn0sXCJkYXRhLWNvbnN0YW50XCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifSxcImNvbnN0YW50XCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifX0sXCJwcm9tb3RlSWRcIjp7XCIqXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9fX0nKTtmdW5jdGlvbiBRZShlLC4uLnQpe2Zvcihjb25zdCBuIG9mIHQpZm9yKGNvbnN0IHQgaW4gbillW3RdPW5bdF07cmV0dXJuIGV9ZnVuY3Rpb24gS2UoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBOdW1iZXJ8fGUgaW5zdGFuY2VvZiBTdHJpbmd8fGUgaW5zdGFuY2VvZiBCb29sZWFuP2UudmFsdWVPZigpOmV9ZnVuY3Rpb24gZXQoZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5tYXAoZXQpO2lmKGUgaW5zdGFuY2VvZiBPYmplY3QmJiEoZSBpbnN0YW5jZW9mIE51bWJlcnx8ZSBpbnN0YW5jZW9mIFN0cmluZ3x8ZSBpbnN0YW5jZW9mIEJvb2xlYW4pKXtjb25zdCB0PXt9O2Zvcihjb25zdCBuIGluIGUpdFtuXT1ldChlW25dKTtyZXR1cm4gdH1yZXR1cm4gS2UoZSl9Y2xhc3MgdHQgZXh0ZW5kcyBFcnJvcntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKHQpLHRoaXMubWVzc2FnZT10LHRoaXMua2V5PWV9fXZhciBudD10dDtjbGFzcyBpdHtjb25zdHJ1Y3RvcihlLHQ9W10pe3RoaXMucGFyZW50PWUsdGhpcy5iaW5kaW5ncz17fTtmb3IoY29uc3RbZSxuXW9mIHQpdGhpcy5iaW5kaW5nc1tlXT1ufWNvbmNhdChlKXtyZXR1cm4gbmV3IGl0KHRoaXMsZSl9Z2V0KGUpe2lmKHRoaXMuYmluZGluZ3NbZV0pcmV0dXJuIHRoaXMuYmluZGluZ3NbZV07aWYodGhpcy5wYXJlbnQpcmV0dXJuIHRoaXMucGFyZW50LmdldChlKTt0aHJvdyBuZXcgRXJyb3IoZStcIiBub3QgZm91bmQgaW4gc2NvcGUuXCIpfWhhcyhlKXtyZXR1cm4hIXRoaXMuYmluZGluZ3NbZV18fCEhdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50LmhhcyhlKX19dmFyIHJ0PWl0O2NvbnN0IG90PXtraW5kOlwibnVsbFwifSxhdD17a2luZDpcIm51bWJlclwifSxzdD17a2luZDpcInN0cmluZ1wifSxsdD17a2luZDpcImJvb2xlYW5cIn0sY3Q9e2tpbmQ6XCJjb2xvclwifSx1dD17a2luZDpcIm9iamVjdFwifSxodD17a2luZDpcInZhbHVlXCJ9LGR0PXtraW5kOlwiY29sbGF0b3JcIn0scHQ9e2tpbmQ6XCJmb3JtYXR0ZWRcIn0sZnQ9e2tpbmQ6XCJyZXNvbHZlZEltYWdlXCJ9O2Z1bmN0aW9uIG10KGUsdCl7cmV0dXJue2tpbmQ6XCJhcnJheVwiLGl0ZW1UeXBlOmUsTjp0fX1mdW5jdGlvbiBndChlKXtpZihcImFycmF5XCI9PT1lLmtpbmQpe2NvbnN0IHQ9Z3QoZS5pdGVtVHlwZSk7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUuTj9gYXJyYXk8JHt0fSwgJHtlLk59PmA6XCJ2YWx1ZVwiPT09ZS5pdGVtVHlwZS5raW5kP1wiYXJyYXlcIjpgYXJyYXk8JHt0fT5gfXJldHVybiBlLmtpbmR9Y29uc3QgeXQ9W290LGF0LHN0LGx0LGN0LHB0LHV0LG10KGh0KSxmdF07ZnVuY3Rpb24gX3QoZSx0KXtpZihcImVycm9yXCI9PT10LmtpbmQpcmV0dXJuIG51bGw7aWYoXCJhcnJheVwiPT09ZS5raW5kKXtpZihcImFycmF5XCI9PT10LmtpbmQmJigwPT09dC5OJiZcInZhbHVlXCI9PT10Lml0ZW1UeXBlLmtpbmR8fCFfdChlLml0ZW1UeXBlLHQuaXRlbVR5cGUpKSYmKFwibnVtYmVyXCIhPXR5cGVvZiBlLk58fGUuTj09PXQuTikpcmV0dXJuIG51bGx9ZWxzZXtpZihlLmtpbmQ9PT10LmtpbmQpcmV0dXJuIG51bGw7aWYoXCJ2YWx1ZVwiPT09ZS5raW5kKWZvcihjb25zdCBlIG9mIHl0KWlmKCFfdChlLHQpKXJldHVybiBudWxsfXJldHVybmBFeHBlY3RlZCAke2d0KGUpfSBidXQgZm91bmQgJHtndCh0KX0gaW5zdGVhZC5gfWZ1bmN0aW9uIHZ0KGUsdCl7cmV0dXJuIHQuc29tZSh0PT50LmtpbmQ9PT1lLmtpbmQpfWZ1bmN0aW9uIHh0KGUsdCl7cmV0dXJuIHQuc29tZSh0PT5cIm51bGxcIj09PXQ/bnVsbD09PWU6XCJhcnJheVwiPT09dD9BcnJheS5pc0FycmF5KGUpOlwib2JqZWN0XCI9PT10P2UmJiFBcnJheS5pc0FycmF5KGUpJiZcIm9iamVjdFwiPT10eXBlb2YgZTp0PT09dHlwZW9mIGUpfXZhciBidCx3dD17dHJhbnNwYXJlbnQ6WzAsMCwwLDBdLGFsaWNlYmx1ZTpbMjQwLDI0OCwyNTUsMV0sYW50aXF1ZXdoaXRlOlsyNTAsMjM1LDIxNSwxXSxhcXVhOlswLDI1NSwyNTUsMV0sYXF1YW1hcmluZTpbMTI3LDI1NSwyMTIsMV0sYXp1cmU6WzI0MCwyNTUsMjU1LDFdLGJlaWdlOlsyNDUsMjQ1LDIyMCwxXSxiaXNxdWU6WzI1NSwyMjgsMTk2LDFdLGJsYWNrOlswLDAsMCwxXSxibGFuY2hlZGFsbW9uZDpbMjU1LDIzNSwyMDUsMV0sYmx1ZTpbMCwwLDI1NSwxXSxibHVldmlvbGV0OlsxMzgsNDMsMjI2LDFdLGJyb3duOlsxNjUsNDIsNDIsMV0sYnVybHl3b29kOlsyMjIsMTg0LDEzNSwxXSxjYWRldGJsdWU6Wzk1LDE1OCwxNjAsMV0sY2hhcnRyZXVzZTpbMTI3LDI1NSwwLDFdLGNob2NvbGF0ZTpbMjEwLDEwNSwzMCwxXSxjb3JhbDpbMjU1LDEyNyw4MCwxXSxjb3JuZmxvd2VyYmx1ZTpbMTAwLDE0OSwyMzcsMV0sY29ybnNpbGs6WzI1NSwyNDgsMjIwLDFdLGNyaW1zb246WzIyMCwyMCw2MCwxXSxjeWFuOlswLDI1NSwyNTUsMV0sZGFya2JsdWU6WzAsMCwxMzksMV0sZGFya2N5YW46WzAsMTM5LDEzOSwxXSxkYXJrZ29sZGVucm9kOlsxODQsMTM0LDExLDFdLGRhcmtncmF5OlsxNjksMTY5LDE2OSwxXSxkYXJrZ3JlZW46WzAsMTAwLDAsMV0sZGFya2dyZXk6WzE2OSwxNjksMTY5LDFdLGRhcmtraGFraTpbMTg5LDE4MywxMDcsMV0sZGFya21hZ2VudGE6WzEzOSwwLDEzOSwxXSxkYXJrb2xpdmVncmVlbjpbODUsMTA3LDQ3LDFdLGRhcmtvcmFuZ2U6WzI1NSwxNDAsMCwxXSxkYXJrb3JjaGlkOlsxNTMsNTAsMjA0LDFdLGRhcmtyZWQ6WzEzOSwwLDAsMV0sZGFya3NhbG1vbjpbMjMzLDE1MCwxMjIsMV0sZGFya3NlYWdyZWVuOlsxNDMsMTg4LDE0MywxXSxkYXJrc2xhdGVibHVlOls3Miw2MSwxMzksMV0sZGFya3NsYXRlZ3JheTpbNDcsNzksNzksMV0sZGFya3NsYXRlZ3JleTpbNDcsNzksNzksMV0sZGFya3R1cnF1b2lzZTpbMCwyMDYsMjA5LDFdLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMSwxXSxkZWVwcGluazpbMjU1LDIwLDE0NywxXSxkZWVwc2t5Ymx1ZTpbMCwxOTEsMjU1LDFdLGRpbWdyYXk6WzEwNSwxMDUsMTA1LDFdLGRpbWdyZXk6WzEwNSwxMDUsMTA1LDFdLGRvZGdlcmJsdWU6WzMwLDE0NCwyNTUsMV0sZmlyZWJyaWNrOlsxNzgsMzQsMzQsMV0sZmxvcmFsd2hpdGU6WzI1NSwyNTAsMjQwLDFdLGZvcmVzdGdyZWVuOlszNCwxMzksMzQsMV0sZnVjaHNpYTpbMjU1LDAsMjU1LDFdLGdhaW5zYm9ybzpbMjIwLDIyMCwyMjAsMV0sZ2hvc3R3aGl0ZTpbMjQ4LDI0OCwyNTUsMV0sZ29sZDpbMjU1LDIxNSwwLDFdLGdvbGRlbnJvZDpbMjE4LDE2NSwzMiwxXSxncmF5OlsxMjgsMTI4LDEyOCwxXSxncmVlbjpbMCwxMjgsMCwxXSxncmVlbnllbGxvdzpbMTczLDI1NSw0NywxXSxncmV5OlsxMjgsMTI4LDEyOCwxXSxob25leWRldzpbMjQwLDI1NSwyNDAsMV0saG90cGluazpbMjU1LDEwNSwxODAsMV0saW5kaWFucmVkOlsyMDUsOTIsOTIsMV0saW5kaWdvOls3NSwwLDEzMCwxXSxpdm9yeTpbMjU1LDI1NSwyNDAsMV0sa2hha2k6WzI0MCwyMzAsMTQwLDFdLGxhdmVuZGVyOlsyMzAsMjMwLDI1MCwxXSxsYXZlbmRlcmJsdXNoOlsyNTUsMjQwLDI0NSwxXSxsYXduZ3JlZW46WzEyNCwyNTIsMCwxXSxsZW1vbmNoaWZmb246WzI1NSwyNTAsMjA1LDFdLGxpZ2h0Ymx1ZTpbMTczLDIxNiwyMzAsMV0sbGlnaHRjb3JhbDpbMjQwLDEyOCwxMjgsMV0sbGlnaHRjeWFuOlsyMjQsMjU1LDI1NSwxXSxsaWdodGdvbGRlbnJvZHllbGxvdzpbMjUwLDI1MCwyMTAsMV0sbGlnaHRncmF5OlsyMTEsMjExLDIxMSwxXSxsaWdodGdyZWVuOlsxNDQsMjM4LDE0NCwxXSxsaWdodGdyZXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0cGluazpbMjU1LDE4MiwxOTMsMV0sbGlnaHRzYWxtb246WzI1NSwxNjAsMTIyLDFdLGxpZ2h0c2VhZ3JlZW46WzMyLDE3OCwxNzAsMV0sbGlnaHRza3libHVlOlsxMzUsMjA2LDI1MCwxXSxsaWdodHNsYXRlZ3JheTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzbGF0ZWdyZXk6WzExOSwxMzYsMTUzLDFdLGxpZ2h0c3RlZWxibHVlOlsxNzYsMTk2LDIyMiwxXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjQsMV0sbGltZTpbMCwyNTUsMCwxXSxsaW1lZ3JlZW46WzUwLDIwNSw1MCwxXSxsaW5lbjpbMjUwLDI0MCwyMzAsMV0sbWFnZW50YTpbMjU1LDAsMjU1LDFdLG1hcm9vbjpbMTI4LDAsMCwxXSxtZWRpdW1hcXVhbWFyaW5lOlsxMDIsMjA1LDE3MCwxXSxtZWRpdW1ibHVlOlswLDAsMjA1LDFdLG1lZGl1bW9yY2hpZDpbMTg2LDg1LDIxMSwxXSxtZWRpdW1wdXJwbGU6WzE0NywxMTIsMjE5LDFdLG1lZGl1bXNlYWdyZWVuOls2MCwxNzksMTEzLDFdLG1lZGl1bXNsYXRlYmx1ZTpbMTIzLDEwNCwyMzgsMV0sbWVkaXVtc3ByaW5nZ3JlZW46WzAsMjUwLDE1NCwxXSxtZWRpdW10dXJxdW9pc2U6WzcyLDIwOSwyMDQsMV0sbWVkaXVtdmlvbGV0cmVkOlsxOTksMjEsMTMzLDFdLG1pZG5pZ2h0Ymx1ZTpbMjUsMjUsMTEyLDFdLG1pbnRjcmVhbTpbMjQ1LDI1NSwyNTAsMV0sbWlzdHlyb3NlOlsyNTUsMjI4LDIyNSwxXSxtb2NjYXNpbjpbMjU1LDIyOCwxODEsMV0sbmF2YWpvd2hpdGU6WzI1NSwyMjIsMTczLDFdLG5hdnk6WzAsMCwxMjgsMV0sb2xkbGFjZTpbMjUzLDI0NSwyMzAsMV0sb2xpdmU6WzEyOCwxMjgsMCwxXSxvbGl2ZWRyYWI6WzEwNywxNDIsMzUsMV0sb3JhbmdlOlsyNTUsMTY1LDAsMV0sb3JhbmdlcmVkOlsyNTUsNjksMCwxXSxvcmNoaWQ6WzIxOCwxMTIsMjE0LDFdLHBhbGVnb2xkZW5yb2Q6WzIzOCwyMzIsMTcwLDFdLHBhbGVncmVlbjpbMTUyLDI1MSwxNTIsMV0scGFsZXR1cnF1b2lzZTpbMTc1LDIzOCwyMzgsMV0scGFsZXZpb2xldHJlZDpbMjE5LDExMiwxNDcsMV0scGFwYXlhd2hpcDpbMjU1LDIzOSwyMTMsMV0scGVhY2hwdWZmOlsyNTUsMjE4LDE4NSwxXSxwZXJ1OlsyMDUsMTMzLDYzLDFdLHBpbms6WzI1NSwxOTIsMjAzLDFdLHBsdW06WzIyMSwxNjAsMjIxLDFdLHBvd2RlcmJsdWU6WzE3NiwyMjQsMjMwLDFdLHB1cnBsZTpbMTI4LDAsMTI4LDFdLHJlYmVjY2FwdXJwbGU6WzEwMiw1MSwxNTMsMV0scmVkOlsyNTUsMCwwLDFdLHJvc3licm93bjpbMTg4LDE0MywxNDMsMV0scm95YWxibHVlOls2NSwxMDUsMjI1LDFdLHNhZGRsZWJyb3duOlsxMzksNjksMTksMV0sc2FsbW9uOlsyNTAsMTI4LDExNCwxXSxzYW5keWJyb3duOlsyNDQsMTY0LDk2LDFdLHNlYWdyZWVuOls0NiwxMzksODcsMV0sc2Vhc2hlbGw6WzI1NSwyNDUsMjM4LDFdLHNpZW5uYTpbMTYwLDgyLDQ1LDFdLHNpbHZlcjpbMTkyLDE5MiwxOTIsMV0sc2t5Ymx1ZTpbMTM1LDIwNiwyMzUsMV0sc2xhdGVibHVlOlsxMDYsOTAsMjA1LDFdLHNsYXRlZ3JheTpbMTEyLDEyOCwxNDQsMV0sc2xhdGVncmV5OlsxMTIsMTI4LDE0NCwxXSxzbm93OlsyNTUsMjUwLDI1MCwxXSxzcHJpbmdncmVlbjpbMCwyNTUsMTI3LDFdLHN0ZWVsYmx1ZTpbNzAsMTMwLDE4MCwxXSx0YW46WzIxMCwxODAsMTQwLDFdLHRlYWw6WzAsMTI4LDEyOCwxXSx0aGlzdGxlOlsyMTYsMTkxLDIxNiwxXSx0b21hdG86WzI1NSw5OSw3MSwxXSx0dXJxdW9pc2U6WzY0LDIyNCwyMDgsMV0sdmlvbGV0OlsyMzgsMTMwLDIzOCwxXSx3aGVhdDpbMjQ1LDIyMiwxNzksMV0sd2hpdGU6WzI1NSwyNTUsMjU1LDFdLHdoaXRlc21va2U6WzI0NSwyNDUsMjQ1LDFdLHllbGxvdzpbMjU1LDI1NSwwLDFdLHllbGxvd2dyZWVuOlsxNTQsMjA1LDUwLDFdfTtmdW5jdGlvbiBUdChlKXtyZXR1cm4oZT1NYXRoLnJvdW5kKGUpKTwwPzA6ZT4yNTU/MjU1OmV9ZnVuY3Rpb24gRXQoZSl7cmV0dXJuIFR0KFwiJVwiPT09ZVtlLmxlbmd0aC0xXT9wYXJzZUZsb2F0KGUpLzEwMCoyNTU6cGFyc2VJbnQoZSkpfWZ1bmN0aW9uIFN0KGUpe3JldHVybih0PVwiJVwiPT09ZVtlLmxlbmd0aC0xXT9wYXJzZUZsb2F0KGUpLzEwMDpwYXJzZUZsb2F0KGUpKTwwPzA6dD4xPzE6dDt2YXIgdH1mdW5jdGlvbiBNdChlLHQsbil7cmV0dXJuIG48MD9uKz0xOm4+MSYmKG4tPTEpLDYqbjwxP2UrKHQtZSkqbio2OjIqbjwxP3Q6MypuPDI/ZSsodC1lKSooMi8zLW4pKjY6ZX10cnl7YnQ9e30ucGFyc2VDU1NDb2xvcj1mdW5jdGlvbihlKXt2YXIgdCxuPWUucmVwbGFjZSgvIC9nLFwiXCIpLnRvTG93ZXJDYXNlKCk7aWYobiBpbiB3dClyZXR1cm4gd3Rbbl0uc2xpY2UoKTtpZihcIiNcIj09PW5bMF0pcmV0dXJuIDQ9PT1uLmxlbmd0aD8odD1wYXJzZUludChuLnN1YnN0cigxKSwxNikpPj0wJiZ0PD00MDk1P1soMzg0MCZ0KT4+NHwoMzg0MCZ0KT4+OCwyNDAmdHwoMjQwJnQpPj40LDE1JnR8KDE1JnQpPDw0LDFdOm51bGw6Nz09PW4ubGVuZ3RoJiYodD1wYXJzZUludChuLnN1YnN0cigxKSwxNikpPj0wJiZ0PD0xNjc3NzIxNT9bKDE2NzExNjgwJnQpPj4xNiwoNjUyODAmdCk+PjgsMjU1JnQsMV06bnVsbDt2YXIgaT1uLmluZGV4T2YoXCIoXCIpLHI9bi5pbmRleE9mKFwiKVwiKTtpZigtMSE9PWkmJnIrMT09PW4ubGVuZ3RoKXt2YXIgbz1uLnN1YnN0cigwLGkpLGE9bi5zdWJzdHIoaSsxLHItKGkrMSkpLnNwbGl0KFwiLFwiKSxzPTE7c3dpdGNoKG8pe2Nhc2VcInJnYmFcIjppZig0IT09YS5sZW5ndGgpcmV0dXJuIG51bGw7cz1TdChhLnBvcCgpKTtjYXNlXCJyZ2JcIjpyZXR1cm4gMyE9PWEubGVuZ3RoP251bGw6W0V0KGFbMF0pLEV0KGFbMV0pLEV0KGFbMl0pLHNdO2Nhc2VcImhzbGFcIjppZig0IT09YS5sZW5ndGgpcmV0dXJuIG51bGw7cz1TdChhLnBvcCgpKTtjYXNlXCJoc2xcIjppZigzIT09YS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGw9KHBhcnNlRmxvYXQoYVswXSklMzYwKzM2MCklMzYwLzM2MCxjPVN0KGFbMV0pLHU9U3QoYVsyXSksaD11PD0uNT91KihjKzEpOnUrYy11KmMsZD0yKnUtaDtyZXR1cm5bVHQoMjU1Kk10KGQsaCxsKzEvMykpLFR0KDI1NSpNdChkLGgsbCkpLFR0KDI1NSpNdChkLGgsbC0xLzMpKSxzXTtkZWZhdWx0OnJldHVybiBudWxsfX1yZXR1cm4gbnVsbH19Y2F0Y2goZSl7fWNsYXNzIEl0e2NvbnN0cnVjdG9yKGUsdCxuLGk9MSl7dGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPW4sdGhpcy5hPWl9c3RhdGljIHBhcnNlKGUpe2lmKCFlKXJldHVybjtpZihlIGluc3RhbmNlb2YgSXQpcmV0dXJuIGU7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuO2NvbnN0IHQ9YnQoZSk7cmV0dXJuIHQ/bmV3IEl0KHRbMF0vMjU1KnRbM10sdFsxXS8yNTUqdFszXSx0WzJdLzI1NSp0WzNdLHRbM10pOnZvaWQgMH10b1N0cmluZygpe2NvbnN0W2UsdCxuLGldPXRoaXMudG9BcnJheSgpO3JldHVybmByZ2JhKCR7TWF0aC5yb3VuZChlKX0sJHtNYXRoLnJvdW5kKHQpfSwke01hdGgucm91bmQobil9LCR7aX0pYH10b0FycmF5KCl7Y29uc3R7cjplLGc6dCxiOm4sYTppfT10aGlzO3JldHVybiAwPT09aT9bMCwwLDAsMF06WzI1NSplL2ksMjU1KnQvaSwyNTUqbi9pLGldfXRvQXJyYXkwMSgpe2NvbnN0e3I6ZSxnOnQsYjpuLGE6aX09dGhpcztyZXR1cm4gMD09PWk/WzAsMCwwLDBdOltlL2ksdC9pLG4vaSxpXX10b0FycmF5MDFQcmVtdWx0aXBsaWVkQWxwaGEoKXtjb25zdHtyOmUsZzp0LGI6bixhOml9PXRoaXM7cmV0dXJuW2UsdCxuLGldfX1JdC5ibGFjaz1uZXcgSXQoMCwwLDAsMSksSXQud2hpdGU9bmV3IEl0KDEsMSwxLDEpLEl0LnRyYW5zcGFyZW50PW5ldyBJdCgwLDAsMCwwKSxJdC5yZWQ9bmV3IEl0KDEsMCwwLDEpLEl0LmJsdWU9bmV3IEl0KDAsMCwxLDEpO3ZhciBDdD1JdDtjbGFzcyBrdHtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5zZW5zaXRpdml0eT1lP3Q/XCJ2YXJpYW50XCI6XCJjYXNlXCI6dD9cImFjY2VudFwiOlwiYmFzZVwiLHRoaXMubG9jYWxlPW4sdGhpcy5jb2xsYXRvcj1uZXcgSW50bC5Db2xsYXRvcih0aGlzLmxvY2FsZT90aGlzLmxvY2FsZTpbXSx7c2Vuc2l0aXZpdHk6dGhpcy5zZW5zaXRpdml0eSx1c2FnZTpcInNlYXJjaFwifSl9Y29tcGFyZShlLHQpe3JldHVybiB0aGlzLmNvbGxhdG9yLmNvbXBhcmUoZSx0KX1yZXNvbHZlZExvY2FsZSgpe3JldHVybiBuZXcgSW50bC5Db2xsYXRvcih0aGlzLmxvY2FsZT90aGlzLmxvY2FsZTpbXSkucmVzb2x2ZWRPcHRpb25zKCkubG9jYWxlfX1jbGFzcyBBdHtjb25zdHJ1Y3RvcihlLHQsbixpLHIpe3RoaXMudGV4dD1lLm5vcm1hbGl6ZT9lLm5vcm1hbGl6ZSgpOmUsdGhpcy5pbWFnZT10LHRoaXMuc2NhbGU9bix0aGlzLmZvbnRTdGFjaz1pLHRoaXMudGV4dENvbG9yPXJ9fWNsYXNzIFB0e2NvbnN0cnVjdG9yKGUpe3RoaXMuc2VjdGlvbnM9ZX1zdGF0aWMgZnJvbVN0cmluZyhlKXtyZXR1cm4gbmV3IFB0KFtuZXcgQXQoZSxudWxsLG51bGwsbnVsbCxudWxsKV0pfWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuc2VjdGlvbnMubGVuZ3RofHwhdGhpcy5zZWN0aW9ucy5zb21lKGU9PjAhPT1lLnRleHQubGVuZ3RofHxlLmltYWdlJiYwIT09ZS5pbWFnZS5uYW1lLmxlbmd0aCl9c3RhdGljIGZhY3RvcnkoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBQdD9lOlB0LmZyb21TdHJpbmcoZSl9dG9TdHJpbmcoKXtyZXR1cm4gMD09PXRoaXMuc2VjdGlvbnMubGVuZ3RoP1wiXCI6dGhpcy5zZWN0aW9ucy5tYXAoZT0+ZS50ZXh0KS5qb2luKFwiXCIpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wiZm9ybWF0XCJdO2Zvcihjb25zdCB0IG9mIHRoaXMuc2VjdGlvbnMpe2lmKHQuaW1hZ2Upe2UucHVzaChbXCJpbWFnZVwiLHQuaW1hZ2UubmFtZV0pO2NvbnRpbnVlfWUucHVzaCh0LnRleHQpO2NvbnN0IG49e307dC5mb250U3RhY2smJihuW1widGV4dC1mb250XCJdPVtcImxpdGVyYWxcIix0LmZvbnRTdGFjay5zcGxpdChcIixcIildKSx0LnNjYWxlJiYobltcImZvbnQtc2NhbGVcIl09dC5zY2FsZSksdC50ZXh0Q29sb3ImJihuW1widGV4dC1jb2xvclwiXT1bXCJyZ2JhXCJdLmNvbmNhdCh0LnRleHRDb2xvci50b0FycmF5KCkpKSxlLnB1c2gobil9cmV0dXJuIGV9fWNsYXNzIHp0e2NvbnN0cnVjdG9yKGUpe3RoaXMubmFtZT1lLm5hbWUsdGhpcy5hdmFpbGFibGU9ZS5hdmFpbGFibGV9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lfXN0YXRpYyBmcm9tU3RyaW5nKGUpe3JldHVybiBlP25ldyB6dCh7bmFtZTplLGF2YWlsYWJsZTohMX0pOm51bGx9c2VyaWFsaXplKCl7cmV0dXJuW1wiaW1hZ2VcIix0aGlzLm5hbWVdfX1mdW5jdGlvbiBEdChlLHQsbixpKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmZT49MCYmZTw9MjU1JiZcIm51bWJlclwiPT10eXBlb2YgdCYmdD49MCYmdDw9MjU1JiZcIm51bWJlclwiPT10eXBlb2YgbiYmbj49MCYmbjw9MjU1P3ZvaWQgMD09PWl8fFwibnVtYmVyXCI9PXR5cGVvZiBpJiZpPj0wJiZpPD0xP251bGw6YEludmFsaWQgcmdiYSB2YWx1ZSBbJHtbZSx0LG4saV0uam9pbihcIiwgXCIpfV06ICdhJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMS5gOmBJbnZhbGlkIHJnYmEgdmFsdWUgWyR7KFwibnVtYmVyXCI9PXR5cGVvZiBpP1tlLHQsbixpXTpbZSx0LG5dKS5qb2luKFwiLCBcIil9XTogJ3InLCAnZycsIGFuZCAnYicgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDI1NS5gfWZ1bmN0aW9uIEx0KGUpe2lmKG51bGw9PT1lKXJldHVybiEwO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiEwO2lmKFwiYm9vbGVhblwiPT10eXBlb2YgZSlyZXR1cm4hMDtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4hMDtpZihlIGluc3RhbmNlb2YgQ3QpcmV0dXJuITA7aWYoZSBpbnN0YW5jZW9mIGt0KXJldHVybiEwO2lmKGUgaW5zdGFuY2VvZiBQdClyZXR1cm4hMDtpZihlIGluc3RhbmNlb2YgenQpcmV0dXJuITA7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKGNvbnN0IHQgb2YgZSlpZighTHQodCkpcmV0dXJuITE7cmV0dXJuITB9aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe2Zvcihjb25zdCB0IGluIGUpaWYoIUx0KGVbdF0pKXJldHVybiExO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIE90KGUpe2lmKG51bGw9PT1lKXJldHVybiBvdDtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gc3Q7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlKXJldHVybiBsdDtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gYXQ7aWYoZSBpbnN0YW5jZW9mIEN0KXJldHVybiBjdDtpZihlIGluc3RhbmNlb2Yga3QpcmV0dXJuIGR0O2lmKGUgaW5zdGFuY2VvZiBQdClyZXR1cm4gcHQ7aWYoZSBpbnN0YW5jZW9mIHp0KXJldHVybiBmdDtpZihBcnJheS5pc0FycmF5KGUpKXtjb25zdCB0PWUubGVuZ3RoO2xldCBuO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9T3QodCk7aWYobil7aWYobj09PWUpY29udGludWU7bj1odDticmVha31uPWV9cmV0dXJuIG10KG58fGh0LHQpfXJldHVybiB1dH1mdW5jdGlvbiBSdChlKXtjb25zdCB0PXR5cGVvZiBlO3JldHVybiBudWxsPT09ZT9cIlwiOlwic3RyaW5nXCI9PT10fHxcIm51bWJlclwiPT09dHx8XCJib29sZWFuXCI9PT10P1N0cmluZyhlKTplIGluc3RhbmNlb2YgQ3R8fGUgaW5zdGFuY2VvZiBQdHx8ZSBpbnN0YW5jZW9mIHp0P2UudG9TdHJpbmcoKTpKU09OLnN0cmluZ2lmeShlKX1jbGFzcyBCdHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMudmFsdWU9dH1zdGF0aWMgcGFyc2UoZSx0KXtpZigyIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoYCdsaXRlcmFsJyBleHByZXNzaW9uIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2lmKCFMdChlWzFdKSlyZXR1cm4gdC5lcnJvcihcImludmFsaWQgdmFsdWVcIik7Y29uc3Qgbj1lWzFdO2xldCBpPU90KG4pO2NvbnN0IHI9dC5leHBlY3RlZFR5cGU7cmV0dXJuXCJhcnJheVwiIT09aS5raW5kfHwwIT09aS5OfHwhcnx8XCJhcnJheVwiIT09ci5raW5kfHxcIm51bWJlclwiPT10eXBlb2Ygci5OJiYwIT09ci5OfHwoaT1yKSxuZXcgQnQoaSxuKX1ldmFsdWF0ZSgpe3JldHVybiB0aGlzLnZhbHVlfWVhY2hDaGlsZCgpe31vdXRwdXREZWZpbmVkKCl7cmV0dXJuITB9c2VyaWFsaXplKCl7cmV0dXJuXCJhcnJheVwiPT09dGhpcy50eXBlLmtpbmR8fFwib2JqZWN0XCI9PT10aGlzLnR5cGUua2luZD9bXCJsaXRlcmFsXCIsdGhpcy52YWx1ZV06dGhpcy52YWx1ZSBpbnN0YW5jZW9mIEN0P1tcInJnYmFcIl0uY29uY2F0KHRoaXMudmFsdWUudG9BcnJheSgpKTp0aGlzLnZhbHVlIGluc3RhbmNlb2YgUHQ/dGhpcy52YWx1ZS5zZXJpYWxpemUoKTp0aGlzLnZhbHVlfX12YXIganQ9QnQsRnQ9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5uYW1lPVwiRXhwcmVzc2lvbkV2YWx1YXRpb25FcnJvclwiLHRoaXMubWVzc2FnZT1lfXRvSlNPTigpe3JldHVybiB0aGlzLm1lc3NhZ2V9fTtjb25zdCBOdD17c3RyaW5nOnN0LG51bWJlcjphdCxib29sZWFuOmx0LG9iamVjdDp1dH07Y2xhc3MgVXR7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLmFyZ3M9dH1zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDwyKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LlwiKTtsZXQgbixpPTE7Y29uc3Qgcj1lWzBdO2lmKFwiYXJyYXlcIj09PXIpe2xldCByLG87aWYoZS5sZW5ndGg+Mil7Y29uc3Qgbj1lWzFdO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBufHwhKG4gaW4gTnQpfHxcIm9iamVjdFwiPT09bilyZXR1cm4gdC5lcnJvcignVGhlIGl0ZW0gdHlwZSBhcmd1bWVudCBvZiBcImFycmF5XCIgbXVzdCBiZSBvbmUgb2Ygc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4nLDEpO3I9TnRbbl0saSsrfWVsc2Ugcj1odDtpZihlLmxlbmd0aD4zKXtpZihudWxsIT09ZVsyXSYmKFwibnVtYmVyXCIhPXR5cGVvZiBlWzJdfHxlWzJdPDB8fGVbMl0hPT1NYXRoLmZsb29yKGVbMl0pKSlyZXR1cm4gdC5lcnJvcignVGhlIGxlbmd0aCBhcmd1bWVudCB0byBcImFycmF5XCIgbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXIgbGl0ZXJhbCcsMik7bz1lWzJdLGkrK31uPW10KHIsbyl9ZWxzZSBuPU50W3JdO2NvbnN0IG89W107Zm9yKDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbj10LnBhcnNlKGVbaV0saSxodCk7aWYoIW4pcmV0dXJuIG51bGw7by5wdXNoKG4pfXJldHVybiBuZXcgVXQobixvKX1ldmFsdWF0ZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuYXJncy5sZW5ndGg7dCsrKXtjb25zdCBuPXRoaXMuYXJnc1t0XS5ldmFsdWF0ZShlKTtpZighX3QodGhpcy50eXBlLE90KG4pKSlyZXR1cm4gbjtpZih0PT09dGhpcy5hcmdzLmxlbmd0aC0xKXRocm93IG5ldyBGdChgRXhwZWN0ZWQgdmFsdWUgdG8gYmUgb2YgdHlwZSAke2d0KHRoaXMudHlwZSl9LCBidXQgZm91bmQgJHtndChPdChuKSl9IGluc3RlYWQuYCl9cmV0dXJuIG51bGx9ZWFjaENoaWxkKGUpe3RoaXMuYXJncy5mb3JFYWNoKGUpfW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5hcmdzLmV2ZXJ5KGU9PmUub3V0cHV0RGVmaW5lZCgpKX1zZXJpYWxpemUoKXtjb25zdCBlPXRoaXMudHlwZSx0PVtlLmtpbmRdO2lmKFwiYXJyYXlcIj09PWUua2luZCl7Y29uc3Qgbj1lLml0ZW1UeXBlO2lmKFwic3RyaW5nXCI9PT1uLmtpbmR8fFwibnVtYmVyXCI9PT1uLmtpbmR8fFwiYm9vbGVhblwiPT09bi5raW5kKXt0LnB1c2gobi5raW5kKTtjb25zdCBpPWUuTjsoXCJudW1iZXJcIj09dHlwZW9mIGl8fHRoaXMuYXJncy5sZW5ndGg+MSkmJnQucHVzaChpKX19cmV0dXJuIHQuY29uY2F0KHRoaXMuYXJncy5tYXAoZT0+ZS5zZXJpYWxpemUoKSkpfX12YXIgVnQ9VXQ7Y2xhc3MgR3R7Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPXB0LHRoaXMuc2VjdGlvbnM9ZX1zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDwyKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LlwiKTtjb25zdCBuPWVbMV07aWYoIUFycmF5LmlzQXJyYXkobikmJlwib2JqZWN0XCI9PXR5cGVvZiBuKXJldHVybiB0LmVycm9yKFwiRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBpbWFnZSBvciB0ZXh0IHNlY3Rpb24uXCIpO2NvbnN0IGk9W107bGV0IHI9ITE7Zm9yKGxldCBuPTE7bjw9ZS5sZW5ndGgtMTsrK24pe2NvbnN0IG89ZVtuXTtpZihyJiZcIm9iamVjdFwiPT10eXBlb2YgbyYmIUFycmF5LmlzQXJyYXkobykpe3I9ITE7bGV0IGU9bnVsbDtpZihvW1wiZm9udC1zY2FsZVwiXSYmKGU9dC5wYXJzZShvW1wiZm9udC1zY2FsZVwiXSwxLGF0KSwhZSkpcmV0dXJuIG51bGw7bGV0IG49bnVsbDtpZihvW1widGV4dC1mb250XCJdJiYobj10LnBhcnNlKG9bXCJ0ZXh0LWZvbnRcIl0sMSxtdChzdCkpLCFuKSlyZXR1cm4gbnVsbDtsZXQgYT1udWxsO2lmKG9bXCJ0ZXh0LWNvbG9yXCJdJiYoYT10LnBhcnNlKG9bXCJ0ZXh0LWNvbG9yXCJdLDEsY3QpLCFhKSlyZXR1cm4gbnVsbDtjb25zdCBzPWlbaS5sZW5ndGgtMV07cy5zY2FsZT1lLHMuZm9udD1uLHMudGV4dENvbG9yPWF9ZWxzZXtjb25zdCBvPXQucGFyc2UoZVtuXSwxLGh0KTtpZighbylyZXR1cm4gbnVsbDtjb25zdCBhPW8udHlwZS5raW5kO2lmKFwic3RyaW5nXCIhPT1hJiZcInZhbHVlXCIhPT1hJiZcIm51bGxcIiE9PWEmJlwicmVzb2x2ZWRJbWFnZVwiIT09YSlyZXR1cm4gdC5lcnJvcihcIkZvcm1hdHRlZCB0ZXh0IHR5cGUgbXVzdCBiZSAnc3RyaW5nJywgJ3ZhbHVlJywgJ2ltYWdlJyBvciAnbnVsbCcuXCIpO3I9ITAsaS5wdXNoKHtjb250ZW50Om8sc2NhbGU6bnVsbCxmb250Om51bGwsdGV4dENvbG9yOm51bGx9KX19cmV0dXJuIG5ldyBHdChpKX1ldmFsdWF0ZShlKXtyZXR1cm4gbmV3IFB0KHRoaXMuc2VjdGlvbnMubWFwKHQ9Pntjb25zdCBuPXQuY29udGVudC5ldmFsdWF0ZShlKTtyZXR1cm4gT3Qobik9PT1mdD9uZXcgQXQoXCJcIixuLG51bGwsbnVsbCxudWxsKTpuZXcgQXQoUnQobiksbnVsbCx0LnNjYWxlP3Quc2NhbGUuZXZhbHVhdGUoZSk6bnVsbCx0LmZvbnQ/dC5mb250LmV2YWx1YXRlKGUpLmpvaW4oXCIsXCIpOm51bGwsdC50ZXh0Q29sb3I/dC50ZXh0Q29sb3IuZXZhbHVhdGUoZSk6bnVsbCl9KSl9ZWFjaENoaWxkKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuc2VjdGlvbnMpZSh0LmNvbnRlbnQpLHQuc2NhbGUmJmUodC5zY2FsZSksdC5mb250JiZlKHQuZm9udCksdC50ZXh0Q29sb3ImJmUodC50ZXh0Q29sb3IpfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtjb25zdCBlPVtcImZvcm1hdFwiXTtmb3IoY29uc3QgdCBvZiB0aGlzLnNlY3Rpb25zKXtlLnB1c2godC5jb250ZW50LnNlcmlhbGl6ZSgpKTtjb25zdCBuPXt9O3Quc2NhbGUmJihuW1wiZm9udC1zY2FsZVwiXT10LnNjYWxlLnNlcmlhbGl6ZSgpKSx0LmZvbnQmJihuW1widGV4dC1mb250XCJdPXQuZm9udC5zZXJpYWxpemUoKSksdC50ZXh0Q29sb3ImJihuW1widGV4dC1jb2xvclwiXT10LnRleHRDb2xvci5zZXJpYWxpemUoKSksZS5wdXNoKG4pfXJldHVybiBlfX1jbGFzcyBadHtjb25zdHJ1Y3RvcihlKXt0aGlzLnR5cGU9ZnQsdGhpcy5pbnB1dD1lfXN0YXRpYyBwYXJzZShlLHQpe2lmKDIhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIHR3byBhcmd1bWVudHMuXCIpO2NvbnN0IG49dC5wYXJzZShlWzFdLDEsc3QpO3JldHVybiBuP25ldyBadChuKTp0LmVycm9yKFwiTm8gaW1hZ2UgbmFtZSBwcm92aWRlZC5cIil9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmlucHV0LmV2YWx1YXRlKGUpLG49enQuZnJvbVN0cmluZyh0KTtyZXR1cm4gbiYmZS5hdmFpbGFibGVJbWFnZXMmJihuLmF2YWlsYWJsZT1lLmF2YWlsYWJsZUltYWdlcy5pbmRleE9mKHQpPi0xKSxufWVhY2hDaGlsZChlKXtlKHRoaXMuaW5wdXQpfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtyZXR1cm5bXCJpbWFnZVwiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldfX1jb25zdCBXdD17XCJ0by1ib29sZWFuXCI6bHQsXCJ0by1jb2xvclwiOmN0LFwidG8tbnVtYmVyXCI6YXQsXCJ0by1zdHJpbmdcIjpzdH07Y2xhc3MgcXR7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLmFyZ3M9dH1zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDwyKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LlwiKTtjb25zdCBuPWVbMF07aWYoKFwidG8tYm9vbGVhblwiPT09bnx8XCJ0by1zdHJpbmdcIj09PW4pJiYyIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBvbmUgYXJndW1lbnQuXCIpO2NvbnN0IGk9V3Rbbl0scj1bXTtmb3IobGV0IG49MTtuPGUubGVuZ3RoO24rKyl7Y29uc3QgaT10LnBhcnNlKGVbbl0sbixodCk7aWYoIWkpcmV0dXJuIG51bGw7ci5wdXNoKGkpfXJldHVybiBuZXcgcXQoaSxyKX1ldmFsdWF0ZShlKXtpZihcImJvb2xlYW5cIj09PXRoaXMudHlwZS5raW5kKXJldHVybiBCb29sZWFuKHRoaXMuYXJnc1swXS5ldmFsdWF0ZShlKSk7aWYoXCJjb2xvclwiPT09dGhpcy50eXBlLmtpbmQpe2xldCB0LG47Zm9yKGNvbnN0IGkgb2YgdGhpcy5hcmdzKXtpZih0PWkuZXZhbHVhdGUoZSksbj1udWxsLHQgaW5zdGFuY2VvZiBDdClyZXR1cm4gdDtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7Y29uc3Qgbj1lLnBhcnNlQ29sb3IodCk7aWYobilyZXR1cm4gbn1lbHNlIGlmKEFycmF5LmlzQXJyYXkodCkmJihuPXQubGVuZ3RoPDN8fHQubGVuZ3RoPjQ/YEludmFsaWQgcmJnYSB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KHQpfTogZXhwZWN0ZWQgYW4gYXJyYXkgY29udGFpbmluZyBlaXRoZXIgdGhyZWUgb3IgZm91ciBudW1lcmljIHZhbHVlcy5gOkR0KHRbMF0sdFsxXSx0WzJdLHRbM10pLCFuKSlyZXR1cm4gbmV3IEN0KHRbMF0vMjU1LHRbMV0vMjU1LHRbMl0vMjU1LHRbM10pfXRocm93IG5ldyBGdChufHxgQ291bGQgbm90IHBhcnNlIGNvbG9yIGZyb20gdmFsdWUgJyR7XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDpTdHJpbmcoSlNPTi5zdHJpbmdpZnkodCkpfSdgKX1pZihcIm51bWJlclwiPT09dGhpcy50eXBlLmtpbmQpe2xldCB0PW51bGw7Zm9yKGNvbnN0IG4gb2YgdGhpcy5hcmdzKXtpZih0PW4uZXZhbHVhdGUoZSksbnVsbD09PXQpcmV0dXJuIDA7Y29uc3QgaT1OdW1iZXIodCk7aWYoIWlzTmFOKGkpKXJldHVybiBpfXRocm93IG5ldyBGdChgQ291bGQgbm90IGNvbnZlcnQgJHtKU09OLnN0cmluZ2lmeSh0KX0gdG8gbnVtYmVyLmApfXJldHVyblwiZm9ybWF0dGVkXCI9PT10aGlzLnR5cGUua2luZD9QdC5mcm9tU3RyaW5nKFJ0KHRoaXMuYXJnc1swXS5ldmFsdWF0ZShlKSkpOlwicmVzb2x2ZWRJbWFnZVwiPT09dGhpcy50eXBlLmtpbmQ/enQuZnJvbVN0cmluZyhSdCh0aGlzLmFyZ3NbMF0uZXZhbHVhdGUoZSkpKTpSdCh0aGlzLmFyZ3NbMF0uZXZhbHVhdGUoZSkpfWVhY2hDaGlsZChlKXt0aGlzLmFyZ3MuZm9yRWFjaChlKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMuYXJncy5ldmVyeShlPT5lLm91dHB1dERlZmluZWQoKSl9c2VyaWFsaXplKCl7aWYoXCJmb3JtYXR0ZWRcIj09PXRoaXMudHlwZS5raW5kKXJldHVybiBuZXcgR3QoW3tjb250ZW50OnRoaXMuYXJnc1swXSxzY2FsZTpudWxsLGZvbnQ6bnVsbCx0ZXh0Q29sb3I6bnVsbH1dKS5zZXJpYWxpemUoKTtpZihcInJlc29sdmVkSW1hZ2VcIj09PXRoaXMudHlwZS5raW5kKXJldHVybiBuZXcgWnQodGhpcy5hcmdzWzBdKS5zZXJpYWxpemUoKTtjb25zdCBlPVtcInRvLVwiK3RoaXMudHlwZS5raW5kXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQodD0+e2UucHVzaCh0LnNlcmlhbGl6ZSgpKX0pLGV9fXZhciAkdD1xdDtjb25zdCBIdD1bXCJVbmtub3duXCIsXCJQb2ludFwiLFwiTGluZVN0cmluZ1wiLFwiUG9seWdvblwiXTt2YXIgWHQ9Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmdsb2JhbHM9bnVsbCx0aGlzLmZlYXR1cmU9bnVsbCx0aGlzLmZlYXR1cmVTdGF0ZT1udWxsLHRoaXMuZm9ybWF0dGVkU2VjdGlvbj1udWxsLHRoaXMuX3BhcnNlQ29sb3JDYWNoZT17fSx0aGlzLmF2YWlsYWJsZUltYWdlcz1udWxsLHRoaXMuY2Fub25pY2FsPW51bGwsdGhpcy5mZWF0dXJlVGlsZUNvb3JkPW51bGwsdGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhPW51bGx9aWQoKXtyZXR1cm4gdGhpcy5mZWF0dXJlJiZ2b2lkIDAhPT10aGlzLmZlYXR1cmUuaWQ/dGhpcy5mZWF0dXJlLmlkOm51bGx9Z2VvbWV0cnlUeXBlKCl7cmV0dXJuIHRoaXMuZmVhdHVyZT9cIm51bWJlclwiPT10eXBlb2YgdGhpcy5mZWF0dXJlLnR5cGU/SHRbdGhpcy5mZWF0dXJlLnR5cGVdOnRoaXMuZmVhdHVyZS50eXBlOm51bGx9Z2VvbWV0cnkoKXtyZXR1cm4gdGhpcy5mZWF0dXJlJiZcImdlb21ldHJ5XCJpbiB0aGlzLmZlYXR1cmU/dGhpcy5mZWF0dXJlLmdlb21ldHJ5Om51bGx9Y2Fub25pY2FsSUQoKXtyZXR1cm4gdGhpcy5jYW5vbmljYWx9cHJvcGVydGllcygpe3JldHVybiB0aGlzLmZlYXR1cmUmJnRoaXMuZmVhdHVyZS5wcm9wZXJ0aWVzfHx7fX1kaXN0YW5jZUZyb21DZW50ZXIoKXtpZih0aGlzLmZlYXR1cmVUaWxlQ29vcmQmJnRoaXMuZmVhdHVyZURpc3RhbmNlRGF0YSl7Y29uc3QgZT10aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEuY2VudGVyLHQ9dGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhLnNjYWxlLHt4Om4seTppfT10aGlzLmZlYXR1cmVUaWxlQ29vcmQ7cmV0dXJuIHRoaXMuZmVhdHVyZURpc3RhbmNlRGF0YS5iZWFyaW5nWzBdKihuKnQtZVswXSkrdGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhLmJlYXJpbmdbMV0qKGkqdC1lWzFdKX1yZXR1cm4gMH1wYXJzZUNvbG9yKGUpe2xldCB0PXRoaXMuX3BhcnNlQ29sb3JDYWNoZVtlXTtyZXR1cm4gdHx8KHQ9dGhpcy5fcGFyc2VDb2xvckNhY2hlW2VdPUN0LnBhcnNlKGUpKSx0fX07Y2xhc3MgWXR7Y29uc3RydWN0b3IoZSx0LG4saSl7dGhpcy5uYW1lPWUsdGhpcy50eXBlPXQsdGhpcy5fZXZhbHVhdGU9bix0aGlzLmFyZ3M9aX1ldmFsdWF0ZShlKXtyZXR1cm4gdGhpcy5fZXZhbHVhdGUoZSx0aGlzLmFyZ3MpfWVhY2hDaGlsZChlKXt0aGlzLmFyZ3MuZm9yRWFjaChlKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7cmV0dXJuW3RoaXMubmFtZV0uY29uY2F0KHRoaXMuYXJncy5tYXAoZT0+ZS5zZXJpYWxpemUoKSkpfXN0YXRpYyBwYXJzZShlLHQpe2NvbnN0IG49ZVswXSxpPVl0LmRlZmluaXRpb25zW25dO2lmKCFpKXJldHVybiB0LmVycm9yKGBVbmtub3duIGV4cHJlc3Npb24gXCIke259XCIuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbLi4uXV0uYCwwKTtjb25zdCByPUFycmF5LmlzQXJyYXkoaSk/aVswXTppLnR5cGUsbz1BcnJheS5pc0FycmF5KGkpP1tbaVsxXSxpWzJdXV06aS5vdmVybG9hZHMsYT1vLmZpbHRlcigoW3RdKT0+IUFycmF5LmlzQXJyYXkodCl8fHQubGVuZ3RoPT09ZS5sZW5ndGgtMSk7bGV0IHM9bnVsbDtmb3IoY29uc3RbaSxvXW9mIGEpe3M9bmV3IEVuKHQucmVnaXN0cnksdC5wYXRoLG51bGwsdC5zY29wZSk7Y29uc3QgYT1bXTtsZXQgbD0hMTtmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1lW3RdLHI9QXJyYXkuaXNBcnJheShpKT9pW3QtMV06aS50eXBlLG89cy5wYXJzZShuLDErYS5sZW5ndGgscik7aWYoIW8pe2w9ITA7YnJlYWt9YS5wdXNoKG8pfWlmKCFsKWlmKEFycmF5LmlzQXJyYXkoaSkmJmkubGVuZ3RoIT09YS5sZW5ndGgpcy5lcnJvcihgRXhwZWN0ZWQgJHtpLmxlbmd0aH0gYXJndW1lbnRzLCBidXQgZm91bmQgJHthLmxlbmd0aH0gaW5zdGVhZC5gKTtlbHNle2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSsrKXtjb25zdCB0PUFycmF5LmlzQXJyYXkoaSk/aVtlXTppLnR5cGUsbj1hW2VdO3MuY29uY2F0KGUrMSkuY2hlY2tTdWJ0eXBlKHQsbi50eXBlKX1pZigwPT09cy5lcnJvcnMubGVuZ3RoKXJldHVybiBuZXcgWXQobixyLG8sYSl9fWlmKDE9PT1hLmxlbmd0aCl0LmVycm9ycy5wdXNoKC4uLnMuZXJyb3JzKTtlbHNle2NvbnN0IG49KGEubGVuZ3RoP2E6bykubWFwKChbZV0pPT57cmV0dXJuIHQ9ZSxBcnJheS5pc0FycmF5KHQpP2AoJHt0Lm1hcChndCkuam9pbihcIiwgXCIpfSlgOmAoJHtndCh0LnR5cGUpfS4uLilgO3ZhciB0fSkuam9pbihcIiB8IFwiKSxpPVtdO2ZvcihsZXQgbj0xO248ZS5sZW5ndGg7bisrKXtjb25zdCByPXQucGFyc2UoZVtuXSwxK2kubGVuZ3RoKTtpZighcilyZXR1cm4gbnVsbDtpLnB1c2goZ3Qoci50eXBlKSl9dC5lcnJvcihgRXhwZWN0ZWQgYXJndW1lbnRzIG9mIHR5cGUgJHtufSwgYnV0IGZvdW5kICgke2kuam9pbihcIiwgXCIpfSkgaW5zdGVhZC5gKX1yZXR1cm4gbnVsbH1zdGF0aWMgcmVnaXN0ZXIoZSx0KXtZdC5kZWZpbml0aW9ucz10O2Zvcihjb25zdCBuIGluIHQpZVtuXT1ZdH19dmFyIEp0PVl0O2NsYXNzIFF0e2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnR5cGU9ZHQsdGhpcy5sb2NhbGU9bix0aGlzLmNhc2VTZW5zaXRpdmU9ZSx0aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZT10fXN0YXRpYyBwYXJzZShlLHQpe2lmKDIhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIG9uZSBhcmd1bWVudC5cIik7Y29uc3Qgbj1lWzFdO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBufHxBcnJheS5pc0FycmF5KG4pKXJldHVybiB0LmVycm9yKFwiQ29sbGF0b3Igb3B0aW9ucyBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC5cIik7Y29uc3QgaT10LnBhcnNlKHZvaWQgMCE9PW5bXCJjYXNlLXNlbnNpdGl2ZVwiXSYmbltcImNhc2Utc2Vuc2l0aXZlXCJdLDEsbHQpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHI9dC5wYXJzZSh2b2lkIDAhPT1uW1wiZGlhY3JpdGljLXNlbnNpdGl2ZVwiXSYmbltcImRpYWNyaXRpYy1zZW5zaXRpdmVcIl0sMSxsdCk7aWYoIXIpcmV0dXJuIG51bGw7bGV0IG89bnVsbDtyZXR1cm4gbi5sb2NhbGUmJihvPXQucGFyc2Uobi5sb2NhbGUsMSxzdCksIW8pP251bGw6bmV3IFF0KGkscixvKX1ldmFsdWF0ZShlKXtyZXR1cm4gbmV3IGt0KHRoaXMuY2FzZVNlbnNpdGl2ZS5ldmFsdWF0ZShlKSx0aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZS5ldmFsdWF0ZShlKSx0aGlzLmxvY2FsZT90aGlzLmxvY2FsZS5ldmFsdWF0ZShlKTpudWxsKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmNhc2VTZW5zaXRpdmUpLGUodGhpcy5kaWFjcml0aWNTZW5zaXRpdmUpLHRoaXMubG9jYWxlJiZlKHRoaXMubG9jYWxlKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7Y29uc3QgZT17fTtyZXR1cm4gZVtcImNhc2Utc2Vuc2l0aXZlXCJdPXRoaXMuY2FzZVNlbnNpdGl2ZS5zZXJpYWxpemUoKSxlW1wiZGlhY3JpdGljLXNlbnNpdGl2ZVwiXT10aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZS5zZXJpYWxpemUoKSx0aGlzLmxvY2FsZSYmKGUubG9jYWxlPXRoaXMubG9jYWxlLnNlcmlhbGl6ZSgpKSxbXCJjb2xsYXRvclwiLGVdfX1jb25zdCBLdD04MTkyO2Z1bmN0aW9uIGVuKGUsdCl7ZVswXT1NYXRoLm1pbihlWzBdLHRbMF0pLGVbMV09TWF0aC5taW4oZVsxXSx0WzFdKSxlWzJdPU1hdGgubWF4KGVbMl0sdFswXSksZVszXT1NYXRoLm1heChlWzNdLHRbMV0pfWZ1bmN0aW9uIHRuKGUsdCl7cmV0dXJuIShlWzBdPD10WzBdfHxlWzJdPj10WzJdfHxlWzFdPD10WzFdfHxlWzNdPj10WzNdKX1mdW5jdGlvbiBubihlLHQpe2NvbnN0IG49KDE4MCtlWzBdKS8zNjAsaT0oMTgwLTE4MC9NYXRoLlBJKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCtlWzFdKk1hdGguUEkvMzYwKSkpLzM2MCxyPU1hdGgucG93KDIsdC56KTtyZXR1cm5bTWF0aC5yb3VuZChuKnIqS3QpLE1hdGgucm91bmQoaSpyKkt0KV19ZnVuY3Rpb24gcm4oZSx0LG4pe2NvbnN0IGk9ZVswXS10WzBdLHI9ZVsxXS10WzFdLG89ZVswXS1uWzBdLGE9ZVsxXS1uWzFdO3JldHVybiBpKmEtbypyPT0wJiZpKm88PTAmJnIqYTw9MH1mdW5jdGlvbiBvbihlLHQpe2xldCBuPSExO2ZvcihsZXQgYT0wLHM9dC5sZW5ndGg7YTxzO2ErKyl7Y29uc3Qgcz10W2FdO2ZvcihsZXQgdD0wLGE9cy5sZW5ndGg7dDxhLTE7dCsrKXtpZihybihlLHNbdF0sc1t0KzFdKSlyZXR1cm4hMTsocj1zW3RdKVsxXT4oaT1lKVsxXSE9KG89c1t0KzFdKVsxXT5pWzFdJiZpWzBdPChvWzBdLXJbMF0pKihpWzFdLXJbMV0pLyhvWzFdLXJbMV0pK3JbMF0mJihuPSFuKX19dmFyIGkscixvO3JldHVybiBufWZ1bmN0aW9uIGFuKGUsdCl7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspaWYob24oZSx0W25dKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBzbihlLHQsbixpKXtjb25zdCByPWlbMF0tblswXSxvPWlbMV0tblsxXSxhPShlWzBdLW5bMF0pKm8tciooZVsxXS1uWzFdKSxzPSh0WzBdLW5bMF0pKm8tcioodFsxXS1uWzFdKTtyZXR1cm4gYT4wJiZzPDB8fGE8MCYmcz4wfWZ1bmN0aW9uIGxuKGUsdCxuKXtmb3IoY29uc3QgYyBvZiBuKWZvcihsZXQgbj0wO248Yy5sZW5ndGgtMTsrK24paWYoMCE9KHM9WyhhPWNbbisxXSlbMF0tKG89Y1tuXSlbMF0sYVsxXS1vWzFdXSlbMF0qKGw9WyhyPXQpWzBdLShpPWUpWzBdLHJbMV0taVsxXV0pWzFdLXNbMV0qbFswXSYmc24oaSxyLG8sYSkmJnNuKG8sYSxpLHIpKXJldHVybiEwO3ZhciBpLHIsbyxhLHMsbDtyZXR1cm4hMX1mdW5jdGlvbiBjbihlLHQpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7KytuKWlmKCFvbihlW25dLHQpKXJldHVybiExO2ZvcihsZXQgbj0wO248ZS5sZW5ndGgtMTsrK24paWYobG4oZVtuXSxlW24rMV0sdCkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gdW4oZSx0KXtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylpZihjbihlLHRbbl0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGhuKGUsdCxuKXtjb25zdCBpPVtdO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBvPVtdO2ZvcihsZXQgaT0wO2k8ZVtyXS5sZW5ndGg7aSsrKXtjb25zdCBhPW5uKGVbcl1baV0sbik7ZW4odCxhKSxvLnB1c2goYSl9aS5wdXNoKG8pfXJldHVybiBpfWZ1bmN0aW9uIGRuKGUsdCxuKXtjb25zdCBpPVtdO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBvPWhuKGVbcl0sdCxuKTtpLnB1c2gobyl9cmV0dXJuIGl9ZnVuY3Rpb24gcG4oZSx0LG4saSl7aWYoZVswXTxuWzBdfHxlWzBdPm5bMl0pe2NvbnN0IHQ9LjUqaTtsZXQgcj1lWzBdLW5bMF0+dD8taTpuWzBdLWVbMF0+dD9pOjA7MD09PXImJihyPWVbMF0tblsyXT50Py1pOm5bMl0tZVswXT50P2k6MCksZVswXSs9cn1lbih0LGUpfWZ1bmN0aW9uIGZuKGUsdCxuLGkpe2NvbnN0IHI9TWF0aC5wb3coMixpLnopKkt0LG89W2kueCpLdCxpLnkqS3RdLGE9W107aWYoIWUpcmV0dXJuIGE7Zm9yKGNvbnN0IGkgb2YgZSlmb3IoY29uc3QgZSBvZiBpKXtjb25zdCBpPVtlLngrb1swXSxlLnkrb1sxXV07cG4oaSx0LG4sciksYS5wdXNoKGkpfXJldHVybiBhfWZ1bmN0aW9uIG1uKGUsdCxuLGkpe2NvbnN0IHI9TWF0aC5wb3coMixpLnopKkt0LG89W2kueCpLdCxpLnkqS3RdLGE9W107aWYoIWUpcmV0dXJuIGE7Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT1bXTtmb3IoY29uc3QgaSBvZiBuKXtjb25zdCBuPVtpLngrb1swXSxpLnkrb1sxXV07ZW4odCxuKSxlLnB1c2gobil9YS5wdXNoKGUpfWlmKHRbMl0tdFswXTw9ci8yKXsocz10KVswXT1zWzFdPTEvMCxzWzJdPXNbM109LTEvMDtmb3IoY29uc3QgZSBvZiBhKWZvcihjb25zdCBpIG9mIGUpcG4oaSx0LG4scil9dmFyIHM7cmV0dXJuIGF9Y2xhc3MgZ257Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9bHQsdGhpcy5nZW9qc29uPWUsdGhpcy5nZW9tZXRyaWVzPXR9c3RhdGljIHBhcnNlKGUsdCl7aWYoMiE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKGAnd2l0aGluJyBleHByZXNzaW9uIHJlcXVpcmVzIGV4YWN0bHkgb25lIGFyZ3VtZW50LCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2lmKEx0KGVbMV0pKXtjb25zdCB0PWVbMV07aWYoXCJGZWF0dXJlQ29sbGVjdGlvblwiPT09dC50eXBlKWZvcihsZXQgZT0wO2U8dC5mZWF0dXJlcy5sZW5ndGg7KytlKXtjb25zdCBuPXQuZmVhdHVyZXNbZV0uZ2VvbWV0cnkudHlwZTtpZihcIlBvbHlnb25cIj09PW58fFwiTXVsdGlQb2x5Z29uXCI9PT1uKXJldHVybiBuZXcgZ24odCx0LmZlYXR1cmVzW2VdLmdlb21ldHJ5KX1lbHNlIGlmKFwiRmVhdHVyZVwiPT09dC50eXBlKXtjb25zdCBlPXQuZ2VvbWV0cnkudHlwZTtpZihcIlBvbHlnb25cIj09PWV8fFwiTXVsdGlQb2x5Z29uXCI9PT1lKXJldHVybiBuZXcgZ24odCx0Lmdlb21ldHJ5KX1lbHNlIGlmKFwiUG9seWdvblwiPT09dC50eXBlfHxcIk11bHRpUG9seWdvblwiPT09dC50eXBlKXJldHVybiBuZXcgZ24odCx0KX1yZXR1cm4gdC5lcnJvcihcIid3aXRoaW4nIGV4cHJlc3Npb24gcmVxdWlyZXMgdmFsaWQgZ2VvanNvbiBvYmplY3QgdGhhdCBjb250YWlucyBwb2x5Z29uIGdlb21ldHJ5IHR5cGUuXCIpfWV2YWx1YXRlKGUpe2lmKG51bGwhPWUuZ2VvbWV0cnkoKSYmbnVsbCE9ZS5jYW5vbmljYWxJRCgpKXtpZihcIlBvaW50XCI9PT1lLmdlb21ldHJ5VHlwZSgpKXJldHVybiBmdW5jdGlvbihlLHQpe2NvbnN0IG49WzEvMCwxLzAsLTEvMCwtMS8wXSxpPVsxLzAsMS8wLC0xLzAsLTEvMF0scj1lLmNhbm9uaWNhbElEKCk7aWYoIXIpcmV0dXJuITE7aWYoXCJQb2x5Z29uXCI9PT10LnR5cGUpe2NvbnN0IG89aG4odC5jb29yZGluYXRlcyxpLHIpLGE9Zm4oZS5nZW9tZXRyeSgpLG4saSxyKTtpZighdG4obixpKSlyZXR1cm4hMTtmb3IoY29uc3QgZSBvZiBhKWlmKCFvbihlLG8pKXJldHVybiExfWlmKFwiTXVsdGlQb2x5Z29uXCI9PT10LnR5cGUpe2NvbnN0IG89ZG4odC5jb29yZGluYXRlcyxpLHIpLGE9Zm4oZS5nZW9tZXRyeSgpLG4saSxyKTtpZighdG4obixpKSlyZXR1cm4hMTtmb3IoY29uc3QgZSBvZiBhKWlmKCFhbihlLG8pKXJldHVybiExfXJldHVybiEwfShlLHRoaXMuZ2VvbWV0cmllcyk7aWYoXCJMaW5lU3RyaW5nXCI9PT1lLmdlb21ldHJ5VHlwZSgpKXJldHVybiBmdW5jdGlvbihlLHQpe2NvbnN0IG49WzEvMCwxLzAsLTEvMCwtMS8wXSxpPVsxLzAsMS8wLC0xLzAsLTEvMF0scj1lLmNhbm9uaWNhbElEKCk7aWYoIXIpcmV0dXJuITE7aWYoXCJQb2x5Z29uXCI9PT10LnR5cGUpe2NvbnN0IG89aG4odC5jb29yZGluYXRlcyxpLHIpLGE9bW4oZS5nZW9tZXRyeSgpLG4saSxyKTtpZighdG4obixpKSlyZXR1cm4hMTtmb3IoY29uc3QgZSBvZiBhKWlmKCFjbihlLG8pKXJldHVybiExfWlmKFwiTXVsdGlQb2x5Z29uXCI9PT10LnR5cGUpe2NvbnN0IG89ZG4odC5jb29yZGluYXRlcyxpLHIpLGE9bW4oZS5nZW9tZXRyeSgpLG4saSxyKTtpZighdG4obixpKSlyZXR1cm4hMTtmb3IoY29uc3QgZSBvZiBhKWlmKCF1bihlLG8pKXJldHVybiExfXJldHVybiEwfShlLHRoaXMuZ2VvbWV0cmllcyl9cmV0dXJuITF9ZWFjaENoaWxkKCl7fW91dHB1dERlZmluZWQoKXtyZXR1cm4hMH1zZXJpYWxpemUoKXtyZXR1cm5bXCJ3aXRoaW5cIix0aGlzLmdlb2pzb25dfX12YXIgeW49Z247ZnVuY3Rpb24gX24oZSl7aWYoZSBpbnN0YW5jZW9mIEp0KXtpZihcImdldFwiPT09ZS5uYW1lJiYxPT09ZS5hcmdzLmxlbmd0aClyZXR1cm4hMTtpZihcImZlYXR1cmUtc3RhdGVcIj09PWUubmFtZSlyZXR1cm4hMTtpZihcImhhc1wiPT09ZS5uYW1lJiYxPT09ZS5hcmdzLmxlbmd0aClyZXR1cm4hMTtpZihcInByb3BlcnRpZXNcIj09PWUubmFtZXx8XCJnZW9tZXRyeS10eXBlXCI9PT1lLm5hbWV8fFwiaWRcIj09PWUubmFtZSlyZXR1cm4hMTtpZigvXmZpbHRlci0vLnRlc3QoZS5uYW1lKSlyZXR1cm4hMX1pZihlIGluc3RhbmNlb2YgeW4pcmV0dXJuITE7bGV0IHQ9ITA7cmV0dXJuIGUuZWFjaENoaWxkKGU9Pnt0JiYhX24oZSkmJih0PSExKX0pLHR9ZnVuY3Rpb24gdm4oZSl7aWYoZSBpbnN0YW5jZW9mIEp0JiZcImZlYXR1cmUtc3RhdGVcIj09PWUubmFtZSlyZXR1cm4hMTtsZXQgdD0hMDtyZXR1cm4gZS5lYWNoQ2hpbGQoZT0+e3QmJiF2bihlKSYmKHQ9ITEpfSksdH1mdW5jdGlvbiB4bihlLHQpe2lmKGUgaW5zdGFuY2VvZiBKdCYmdC5pbmRleE9mKGUubmFtZSk+PTApcmV0dXJuITE7bGV0IG49ITA7cmV0dXJuIGUuZWFjaENoaWxkKGU9PntuJiYheG4oZSx0KSYmKG49ITEpfSksbn1jbGFzcyBibntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT10LnR5cGUsdGhpcy5uYW1lPWUsdGhpcy5ib3VuZEV4cHJlc3Npb249dH1zdGF0aWMgcGFyc2UoZSx0KXtpZigyIT09ZS5sZW5ndGh8fFwic3RyaW5nXCIhPXR5cGVvZiBlWzFdKXJldHVybiB0LmVycm9yKFwiJ3ZhcicgZXhwcmVzc2lvbiByZXF1aXJlcyBleGFjdGx5IG9uZSBzdHJpbmcgbGl0ZXJhbCBhcmd1bWVudC5cIik7Y29uc3Qgbj1lWzFdO3JldHVybiB0LnNjb3BlLmhhcyhuKT9uZXcgYm4obix0LnNjb3BlLmdldChuKSk6dC5lcnJvcihgVW5rbm93biB2YXJpYWJsZSBcIiR7bn1cIi4gTWFrZSBzdXJlIFwiJHtufVwiIGhhcyBiZWVuIGJvdW5kIGluIGFuIGVuY2xvc2luZyBcImxldFwiIGV4cHJlc3Npb24gYmVmb3JlIHVzaW5nIGl0LmAsMSl9ZXZhbHVhdGUoZSl7cmV0dXJuIHRoaXMuYm91bmRFeHByZXNzaW9uLmV2YWx1YXRlKGUpfWVhY2hDaGlsZCgpe31vdXRwdXREZWZpbmVkKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7cmV0dXJuW1widmFyXCIsdGhpcy5uYW1lXX19dmFyIHduPWJuO2NsYXNzIFRue2NvbnN0cnVjdG9yKGUsdD1bXSxuLGk9bmV3IHJ0LHI9W10pe3RoaXMucmVnaXN0cnk9ZSx0aGlzLnBhdGg9dCx0aGlzLmtleT10Lm1hcChlPT5gWyR7ZX1dYCkuam9pbihcIlwiKSx0aGlzLnNjb3BlPWksdGhpcy5lcnJvcnM9cix0aGlzLmV4cGVjdGVkVHlwZT1ufXBhcnNlKGUsdCxuLGkscj17fSl7cmV0dXJuIHQ/dGhpcy5jb25jYXQodCxuLGkpLl9wYXJzZShlLHIpOnRoaXMuX3BhcnNlKGUscil9X3BhcnNlKGUsdCl7ZnVuY3Rpb24gbihlLHQsbil7cmV0dXJuXCJhc3NlcnRcIj09PW4/bmV3IFZ0KHQsW2VdKTpcImNvZXJjZVwiPT09bj9uZXcgJHQodCxbZV0pOmV9aWYobnVsbCE9PWUmJlwic3RyaW5nXCIhPXR5cGVvZiBlJiZcImJvb2xlYW5cIiE9dHlwZW9mIGUmJlwibnVtYmVyXCIhPXR5cGVvZiBlfHwoZT1bXCJsaXRlcmFsXCIsZV0pLEFycmF5LmlzQXJyYXkoZSkpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gdGhpcy5lcnJvcignRXhwZWN0ZWQgYW4gYXJyYXkgd2l0aCBhdCBsZWFzdCBvbmUgZWxlbWVudC4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbXCJsaXRlcmFsXCIsIFtdXS4nKTtjb25zdCBpPWVbMF07aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGkpcmV0dXJuIHRoaXMuZXJyb3IoYEV4cHJlc3Npb24gbmFtZSBtdXN0IGJlIGEgc3RyaW5nLCBidXQgZm91bmQgJHt0eXBlb2YgaX0gaW5zdGVhZC4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbXCJsaXRlcmFsXCIsIFsuLi5dXS5gLDApLG51bGw7Y29uc3Qgcj10aGlzLnJlZ2lzdHJ5W2ldO2lmKHIpe2xldCBpPXIucGFyc2UoZSx0aGlzKTtpZighaSlyZXR1cm4gbnVsbDtpZih0aGlzLmV4cGVjdGVkVHlwZSl7Y29uc3QgZT10aGlzLmV4cGVjdGVkVHlwZSxyPWkudHlwZTtpZihcInN0cmluZ1wiIT09ZS5raW5kJiZcIm51bWJlclwiIT09ZS5raW5kJiZcImJvb2xlYW5cIiE9PWUua2luZCYmXCJvYmplY3RcIiE9PWUua2luZCYmXCJhcnJheVwiIT09ZS5raW5kfHxcInZhbHVlXCIhPT1yLmtpbmQpaWYoXCJjb2xvclwiIT09ZS5raW5kJiZcImZvcm1hdHRlZFwiIT09ZS5raW5kJiZcInJlc29sdmVkSW1hZ2VcIiE9PWUua2luZHx8XCJ2YWx1ZVwiIT09ci5raW5kJiZcInN0cmluZ1wiIT09ci5raW5kKXtpZih0aGlzLmNoZWNrU3VidHlwZShlLHIpKXJldHVybiBudWxsfWVsc2UgaT1uKGksZSx0LnR5cGVBbm5vdGF0aW9ufHxcImNvZXJjZVwiKTtlbHNlIGk9bihpLGUsdC50eXBlQW5ub3RhdGlvbnx8XCJhc3NlcnRcIil9aWYoIShpIGluc3RhbmNlb2YganQpJiZcInJlc29sdmVkSW1hZ2VcIiE9PWkudHlwZS5raW5kJiZmdW5jdGlvbiBlKHQpe2lmKHQgaW5zdGFuY2VvZiB3bilyZXR1cm4gZSh0LmJvdW5kRXhwcmVzc2lvbik7aWYodCBpbnN0YW5jZW9mIEp0JiZcImVycm9yXCI9PT10Lm5hbWUpcmV0dXJuITE7aWYodCBpbnN0YW5jZW9mIFF0KXJldHVybiExO2lmKHQgaW5zdGFuY2VvZiB5bilyZXR1cm4hMTtjb25zdCBuPXQgaW5zdGFuY2VvZiAkdHx8dCBpbnN0YW5jZW9mIFZ0O2xldCBpPSEwO3JldHVybiB0LmVhY2hDaGlsZCh0PT57aT1uP2kmJmUodCk6aSYmdCBpbnN0YW5jZW9mIGp0fSksISFpJiZfbih0KSYmeG4odCxbXCJ6b29tXCIsXCJoZWF0bWFwLWRlbnNpdHlcIixcImxpbmUtcHJvZ3Jlc3NcIixcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIixcImFjY3VtdWxhdGVkXCIsXCJpcy1zdXBwb3J0ZWQtc2NyaXB0XCIsXCJwaXRjaFwiLFwiZGlzdGFuY2UtZnJvbS1jZW50ZXJcIl0pfShpKSl7Y29uc3QgdD1uZXcgWHQ7dHJ5e2k9bmV3IGp0KGkudHlwZSxpLmV2YWx1YXRlKHQpKX1jYXRjaChlKXtyZXR1cm4gdGhpcy5lcnJvcihlLm1lc3NhZ2UpLG51bGx9fXJldHVybiBpfXJldHVybiB0aGlzLmVycm9yKGBVbmtub3duIGV4cHJlc3Npb24gXCIke2l9XCIuIElmIHlvdSB3YW50ZWQgYSBsaXRlcmFsIGFycmF5LCB1c2UgW1wibGl0ZXJhbFwiLCBbLi4uXV0uYCwwKX1yZXR1cm4gdGhpcy5lcnJvcih2b2lkIDA9PT1lP1wiJ3VuZGVmaW5lZCcgdmFsdWUgaW52YWxpZC4gVXNlIG51bGwgaW5zdGVhZC5cIjpcIm9iamVjdFwiPT10eXBlb2YgZT8nQmFyZSBvYmplY3RzIGludmFsaWQuIFVzZSBbXCJsaXRlcmFsXCIsIHsuLi59XSBpbnN0ZWFkLic6YEV4cGVjdGVkIGFuIGFycmF5LCBidXQgZm91bmQgJHt0eXBlb2YgZX0gaW5zdGVhZC5gKX1jb25jYXQoZSx0LG4pe2NvbnN0IGk9XCJudW1iZXJcIj09dHlwZW9mIGU/dGhpcy5wYXRoLmNvbmNhdChlKTp0aGlzLnBhdGgscj1uP3RoaXMuc2NvcGUuY29uY2F0KG4pOnRoaXMuc2NvcGU7cmV0dXJuIG5ldyBUbih0aGlzLnJlZ2lzdHJ5LGksdHx8bnVsbCxyLHRoaXMuZXJyb3JzKX1lcnJvcihlLC4uLnQpe2NvbnN0IG49YCR7dGhpcy5rZXl9JHt0Lm1hcChlPT5gWyR7ZX1dYCkuam9pbihcIlwiKX1gO3RoaXMuZXJyb3JzLnB1c2gobmV3IG50KG4sZSkpfWNoZWNrU3VidHlwZShlLHQpe2NvbnN0IG49X3QoZSx0KTtyZXR1cm4gbiYmdGhpcy5lcnJvcihuKSxufX12YXIgRW49VG47ZnVuY3Rpb24gU24oZSx0KXtjb25zdCBuPWUubGVuZ3RoLTE7bGV0IGkscixvPTAsYT1uLHM9MDtmb3IoO288PWE7KWlmKHM9TWF0aC5mbG9vcigobythKS8yKSxpPWVbc10scj1lW3MrMV0saTw9dCl7aWYocz09PW58fHQ8cilyZXR1cm4gcztvPXMrMX1lbHNle2lmKCEoaT50KSl0aHJvdyBuZXcgRnQoXCJJbnB1dCBpcyBub3QgYSBudW1iZXIuXCIpO2E9cy0xfXJldHVybiAwfWNsYXNzIE1ue2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnR5cGU9ZSx0aGlzLmlucHV0PXQsdGhpcy5sYWJlbHM9W10sdGhpcy5vdXRwdXRzPVtdO2Zvcihjb25zdFtlLHRdb2Ygbil0aGlzLmxhYmVscy5wdXNoKGUpLHRoaXMub3V0cHV0cy5wdXNoKHQpfXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoLTE8NClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCBvbmx5ICR7ZS5sZW5ndGgtMX0uYCk7aWYoKGUubGVuZ3RoLTEpJTIhPTApcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO2NvbnN0IG49dC5wYXJzZShlWzFdLDEsYXQpO2lmKCFuKXJldHVybiBudWxsO2NvbnN0IGk9W107bGV0IHI9bnVsbDt0LmV4cGVjdGVkVHlwZSYmXCJ2YWx1ZVwiIT09dC5leHBlY3RlZFR5cGUua2luZCYmKHI9dC5leHBlY3RlZFR5cGUpO2ZvcihsZXQgbj0xO248ZS5sZW5ndGg7bis9Mil7Y29uc3Qgbz0xPT09bj8tMS8wOmVbbl0sYT1lW24rMV0scz1uLGw9bisxO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBvKXJldHVybiB0LmVycm9yKCdJbnB1dC9vdXRwdXQgcGFpcnMgZm9yIFwic3RlcFwiIGV4cHJlc3Npb25zIG11c3QgYmUgZGVmaW5lZCB1c2luZyBsaXRlcmFsIG51bWVyaWMgdmFsdWVzIChub3QgY29tcHV0ZWQgZXhwcmVzc2lvbnMpIGZvciB0aGUgaW5wdXQgdmFsdWVzLicscyk7aWYoaS5sZW5ndGgmJmlbaS5sZW5ndGgtMV1bMF0+PW8pcmV0dXJuIHQuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJzdGVwXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBhcnJhbmdlZCB3aXRoIGlucHV0IHZhbHVlcyBpbiBzdHJpY3RseSBhc2NlbmRpbmcgb3JkZXIuJyxzKTtjb25zdCBjPXQucGFyc2UoYSxsLHIpO2lmKCFjKXJldHVybiBudWxsO3I9cnx8Yy50eXBlLGkucHVzaChbbyxjXSl9cmV0dXJuIG5ldyBNbihyLG4saSl9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmxhYmVscyxuPXRoaXMub3V0cHV0cztpZigxPT09dC5sZW5ndGgpcmV0dXJuIG5bMF0uZXZhbHVhdGUoZSk7Y29uc3QgaT10aGlzLmlucHV0LmV2YWx1YXRlKGUpO2lmKGk8PXRbMF0pcmV0dXJuIG5bMF0uZXZhbHVhdGUoZSk7Y29uc3Qgcj10Lmxlbmd0aDtyZXR1cm4gaT49dFtyLTFdP25bci0xXS5ldmFsdWF0ZShlKTpuW1NuKHQsaSldLmV2YWx1YXRlKGUpfWVhY2hDaGlsZChlKXtlKHRoaXMuaW5wdXQpO2Zvcihjb25zdCB0IG9mIHRoaXMub3V0cHV0cyllKHQpfW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5vdXRwdXRzLmV2ZXJ5KGU9PmUub3V0cHV0RGVmaW5lZCgpKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcInN0ZXBcIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXTtmb3IobGV0IHQ9MDt0PHRoaXMubGFiZWxzLmxlbmd0aDt0KyspdD4wJiZlLnB1c2godGhpcy5sYWJlbHNbdF0pLGUucHVzaCh0aGlzLm91dHB1dHNbdF0uc2VyaWFsaXplKCkpO3JldHVybiBlfX12YXIgSW49TW47ZnVuY3Rpb24gQ24oZSx0LG4pe3JldHVybiBlKigxLW4pK3Qqbn12YXIga249T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsbnVtYmVyOkNuLGNvbG9yOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbmV3IEN0KENuKGUucix0LnIsbiksQ24oZS5nLHQuZyxuKSxDbihlLmIsdC5iLG4pLENuKGUuYSx0LmEsbikpfSxhcnJheTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGUubWFwKChlLGkpPT5DbihlLHRbaV0sbikpfX0pO2NvbnN0IEFuPTYvMjkqMyooNi8yOSksUG49TWF0aC5QSS8xODAsem49MTgwL01hdGguUEk7ZnVuY3Rpb24gRG4oZSl7cmV0dXJuIGU+LjAwODg1NjQ1MTY3OTAzNTYzMT9NYXRoLnBvdyhlLDEvMyk6ZS9Bbis0LzI5fWZ1bmN0aW9uIExuKGUpe3JldHVybiBlPjYvMjk/ZSplKmU6QW4qKGUtNC8yOSl9ZnVuY3Rpb24gT24oZSl7cmV0dXJuIDI1NSooZTw9LjAwMzEzMDg/MTIuOTIqZToxLjA1NSpNYXRoLnBvdyhlLDEvMi40KS0uMDU1KX1mdW5jdGlvbiBSbihlKXtyZXR1cm4oZS89MjU1KTw9LjA0MDQ1P2UvMTIuOTI6TWF0aC5wb3coKGUrLjA1NSkvMS4wNTUsMi40KX1mdW5jdGlvbiBCbihlKXtjb25zdCB0PVJuKGUuciksbj1SbihlLmcpLGk9Um4oZS5iKSxyPURuKCguNDEyNDU2NCp0Ky4zNTc1NzYxKm4rLjE4MDQzNzUqaSkvLjk1MDQ3KSxvPURuKCguMjEyNjcyOSp0Ky43MTUxNTIyKm4rLjA3MjE3NSppKS8xKTtyZXR1cm57bDoxMTYqby0xNixhOjUwMCooci1vKSxiOjIwMCooby1EbigoLjAxOTMzMzkqdCsuMTE5MTkyKm4rLjk1MDMwNDEqaSkvMS4wODg4MykpLGFscGhhOmUuYX19ZnVuY3Rpb24gam4oZSl7bGV0IHQ9KGUubCsxNikvMTE2LG49aXNOYU4oZS5hKT90OnQrZS5hLzUwMCxpPWlzTmFOKGUuYik/dDp0LWUuYi8yMDA7cmV0dXJuIHQ9MSpMbih0KSxuPS45NTA0NypMbihuKSxpPTEuMDg4ODMqTG4oaSksbmV3IEN0KE9uKDMuMjQwNDU0MipuLTEuNTM3MTM4NSp0LS40OTg1MzE0KmkpLE9uKC0uOTY5MjY2Km4rMS44NzYwMTA4KnQrLjA0MTU1NippKSxPbiguMDU1NjQzNCpuLS4yMDQwMjU5KnQrMS4wNTcyMjUyKmkpLGUuYWxwaGEpfWZ1bmN0aW9uIEZuKGUsdCxuKXtjb25zdCBpPXQtZTtyZXR1cm4gZStuKihpPjE4MHx8aTwtMTgwP2ktMzYwKk1hdGgucm91bmQoaS8zNjApOmkpfWNvbnN0IE5uPXtmb3J3YXJkOkJuLHJldmVyc2U6am4saW50ZXJwb2xhdGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybntsOkNuKGUubCx0LmwsbiksYTpDbihlLmEsdC5hLG4pLGI6Q24oZS5iLHQuYixuKSxhbHBoYTpDbihlLmFscGhhLHQuYWxwaGEsbil9fX0sVW49e2ZvcndhcmQ6ZnVuY3Rpb24oZSl7Y29uc3R7bDp0LGE6bixiOml9PUJuKGUpLHI9TWF0aC5hdGFuMihpLG4pKnpuO3JldHVybntoOnI8MD9yKzM2MDpyLGM6TWF0aC5zcXJ0KG4qbitpKmkpLGw6dCxhbHBoYTplLmF9fSxyZXZlcnNlOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5oKlBuLG49ZS5jO3JldHVybiBqbih7bDplLmwsYTpNYXRoLmNvcyh0KSpuLGI6TWF0aC5zaW4odCkqbixhbHBoYTplLmFscGhhfSl9LGludGVycG9sYXRlOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm57aDpGbihlLmgsdC5oLG4pLGM6Q24oZS5jLHQuYyxuKSxsOkNuKGUubCx0LmwsbiksYWxwaGE6Q24oZS5hbHBoYSx0LmFscGhhLG4pfX19O3ZhciBWbj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxsYWI6Tm4saGNsOlVufSk7Y2xhc3MgR257Y29uc3RydWN0b3IoZSx0LG4saSxyKXt0aGlzLnR5cGU9ZSx0aGlzLm9wZXJhdG9yPXQsdGhpcy5pbnRlcnBvbGF0aW9uPW4sdGhpcy5pbnB1dD1pLHRoaXMubGFiZWxzPVtdLHRoaXMub3V0cHV0cz1bXTtmb3IoY29uc3RbZSx0XW9mIHIpdGhpcy5sYWJlbHMucHVzaChlKSx0aGlzLm91dHB1dHMucHVzaCh0KX1zdGF0aWMgaW50ZXJwb2xhdGlvbkZhY3RvcihlLHQsbixpKXtsZXQgcj0wO2lmKFwiZXhwb25lbnRpYWxcIj09PWUubmFtZSlyPVpuKHQsZS5iYXNlLG4saSk7ZWxzZSBpZihcImxpbmVhclwiPT09ZS5uYW1lKXI9Wm4odCwxLG4saSk7ZWxzZSBpZihcImN1YmljLWJlemllclwiPT09ZS5uYW1lKXtjb25zdCBvPWUuY29udHJvbFBvaW50cztyPW5ldyBwKG9bMF0sb1sxXSxvWzJdLG9bM10pLnNvbHZlKFpuKHQsMSxuLGkpKX1yZXR1cm4gcn1zdGF0aWMgcGFyc2UoZSx0KXtsZXRbbixpLHIsLi4ub109ZTtpZighQXJyYXkuaXNBcnJheShpKXx8MD09PWkubGVuZ3RoKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgYW4gaW50ZXJwb2xhdGlvbiB0eXBlIGV4cHJlc3Npb24uXCIsMSk7aWYoXCJsaW5lYXJcIj09PWlbMF0paT17bmFtZTpcImxpbmVhclwifTtlbHNlIGlmKFwiZXhwb25lbnRpYWxcIj09PWlbMF0pe2NvbnN0IGU9aVsxXTtpZihcIm51bWJlclwiIT10eXBlb2YgZSlyZXR1cm4gdC5lcnJvcihcIkV4cG9uZW50aWFsIGludGVycG9sYXRpb24gcmVxdWlyZXMgYSBudW1lcmljIGJhc2UuXCIsMSwxKTtpPXtuYW1lOlwiZXhwb25lbnRpYWxcIixiYXNlOmV9fWVsc2V7aWYoXCJjdWJpYy1iZXppZXJcIiE9PWlbMF0pcmV0dXJuIHQuZXJyb3IoXCJVbmtub3duIGludGVycG9sYXRpb24gdHlwZSBcIitTdHJpbmcoaVswXSksMSwwKTt7Y29uc3QgZT1pLnNsaWNlKDEpO2lmKDQhPT1lLmxlbmd0aHx8ZS5zb21lKGU9PlwibnVtYmVyXCIhPXR5cGVvZiBlfHxlPDB8fGU+MSkpcmV0dXJuIHQuZXJyb3IoXCJDdWJpYyBiZXppZXIgaW50ZXJwb2xhdGlvbiByZXF1aXJlcyBmb3VyIG51bWVyaWMgYXJndW1lbnRzIHdpdGggdmFsdWVzIGJldHdlZW4gMCBhbmQgMS5cIiwxKTtpPXtuYW1lOlwiY3ViaWMtYmV6aWVyXCIsY29udHJvbFBvaW50czplfX19aWYoZS5sZW5ndGgtMTw0KXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgJHtlLmxlbmd0aC0xfS5gKTtpZigoZS5sZW5ndGgtMSklMiE9MClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7aWYocj10LnBhcnNlKHIsMixhdCksIXIpcmV0dXJuIG51bGw7Y29uc3QgYT1bXTtsZXQgcz1udWxsO1wiaW50ZXJwb2xhdGUtaGNsXCI9PT1ufHxcImludGVycG9sYXRlLWxhYlwiPT09bj9zPWN0OnQuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT10LmV4cGVjdGVkVHlwZS5raW5kJiYocz10LmV4cGVjdGVkVHlwZSk7Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKz0yKXtjb25zdCBuPW9bZV0saT1vW2UrMV0scj1lKzMsbD1lKzQ7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG4pcmV0dXJuIHQuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJpbnRlcnBvbGF0ZVwiIGV4cHJlc3Npb25zIG11c3QgYmUgZGVmaW5lZCB1c2luZyBsaXRlcmFsIG51bWVyaWMgdmFsdWVzIChub3QgY29tcHV0ZWQgZXhwcmVzc2lvbnMpIGZvciB0aGUgaW5wdXQgdmFsdWVzLicscik7aWYoYS5sZW5ndGgmJmFbYS5sZW5ndGgtMV1bMF0+PW4pcmV0dXJuIHQuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJpbnRlcnBvbGF0ZVwiIGV4cHJlc3Npb25zIG11c3QgYmUgYXJyYW5nZWQgd2l0aCBpbnB1dCB2YWx1ZXMgaW4gc3RyaWN0bHkgYXNjZW5kaW5nIG9yZGVyLicscik7Y29uc3QgYz10LnBhcnNlKGksbCxzKTtpZighYylyZXR1cm4gbnVsbDtzPXN8fGMudHlwZSxhLnB1c2goW24sY10pfXJldHVyblwibnVtYmVyXCI9PT1zLmtpbmR8fFwiY29sb3JcIj09PXMua2luZHx8XCJhcnJheVwiPT09cy5raW5kJiZcIm51bWJlclwiPT09cy5pdGVtVHlwZS5raW5kJiZcIm51bWJlclwiPT10eXBlb2Ygcy5OP25ldyBHbihzLG4saSxyLGEpOnQuZXJyb3IoYFR5cGUgJHtndChzKX0gaXMgbm90IGludGVycG9sYXRhYmxlLmApfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5sYWJlbHMsbj10aGlzLm91dHB1dHM7aWYoMT09PXQubGVuZ3RoKXJldHVybiBuWzBdLmV2YWx1YXRlKGUpO2NvbnN0IGk9dGhpcy5pbnB1dC5ldmFsdWF0ZShlKTtpZihpPD10WzBdKXJldHVybiBuWzBdLmV2YWx1YXRlKGUpO2NvbnN0IHI9dC5sZW5ndGg7aWYoaT49dFtyLTFdKXJldHVybiBuW3ItMV0uZXZhbHVhdGUoZSk7Y29uc3Qgbz1Tbih0LGkpLGE9R24uaW50ZXJwb2xhdGlvbkZhY3Rvcih0aGlzLmludGVycG9sYXRpb24saSx0W29dLHRbbysxXSkscz1uW29dLmV2YWx1YXRlKGUpLGw9bltvKzFdLmV2YWx1YXRlKGUpO3JldHVyblwiaW50ZXJwb2xhdGVcIj09PXRoaXMub3BlcmF0b3I/a25bdGhpcy50eXBlLmtpbmQudG9Mb3dlckNhc2UoKV0ocyxsLGEpOlwiaW50ZXJwb2xhdGUtaGNsXCI9PT10aGlzLm9wZXJhdG9yP1VuLnJldmVyc2UoVW4uaW50ZXJwb2xhdGUoVW4uZm9yd2FyZChzKSxVbi5mb3J3YXJkKGwpLGEpKTpObi5yZXZlcnNlKE5uLmludGVycG9sYXRlKE5uLmZvcndhcmQocyksTm4uZm9yd2FyZChsKSxhKSl9ZWFjaENoaWxkKGUpe2UodGhpcy5pbnB1dCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5vdXRwdXRzKWUodCl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLm91dHB1dHMuZXZlcnkoZT0+ZS5vdXRwdXREZWZpbmVkKCkpfXNlcmlhbGl6ZSgpe2xldCBlO2U9XCJsaW5lYXJcIj09PXRoaXMuaW50ZXJwb2xhdGlvbi5uYW1lP1tcImxpbmVhclwiXTpcImV4cG9uZW50aWFsXCI9PT10aGlzLmludGVycG9sYXRpb24ubmFtZT8xPT09dGhpcy5pbnRlcnBvbGF0aW9uLmJhc2U/W1wibGluZWFyXCJdOltcImV4cG9uZW50aWFsXCIsdGhpcy5pbnRlcnBvbGF0aW9uLmJhc2VdOltcImN1YmljLWJlemllclwiXS5jb25jYXQodGhpcy5pbnRlcnBvbGF0aW9uLmNvbnRyb2xQb2ludHMpO2NvbnN0IHQ9W3RoaXMub3BlcmF0b3IsZSx0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXTtmb3IobGV0IGU9MDtlPHRoaXMubGFiZWxzLmxlbmd0aDtlKyspdC5wdXNoKHRoaXMubGFiZWxzW2VdLHRoaXMub3V0cHV0c1tlXS5zZXJpYWxpemUoKSk7cmV0dXJuIHR9fWZ1bmN0aW9uIFpuKGUsdCxuLGkpe2NvbnN0IHI9aS1uLG89ZS1uO3JldHVybiAwPT09cj8wOjE9PT10P28vcjooTWF0aC5wb3codCxvKS0xKS8oTWF0aC5wb3codCxyKS0xKX12YXIgV249R247Y2xhc3MgcW57Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLmFyZ3M9dH1zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDwyKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWN0ZWQgYXQgbGVhc3Qgb25lIGFyZ3VtZW50LlwiKTtsZXQgbj1udWxsO2NvbnN0IGk9dC5leHBlY3RlZFR5cGU7aSYmXCJ2YWx1ZVwiIT09aS5raW5kJiYobj1pKTtjb25zdCByPVtdO2Zvcihjb25zdCBpIG9mIGUuc2xpY2UoMSkpe2NvbnN0IGU9dC5wYXJzZShpLDErci5sZW5ndGgsbix2b2lkIDAse3R5cGVBbm5vdGF0aW9uOlwib21pdFwifSk7aWYoIWUpcmV0dXJuIG51bGw7bj1ufHxlLnR5cGUsci5wdXNoKGUpfWNvbnN0IG89aSYmci5zb21lKGU9Pl90KGksZS50eXBlKSk7cmV0dXJuIG5ldyBxbihvP2h0Om4scil9ZXZhbHVhdGUoZSl7bGV0IHQsbj1udWxsLGk9MDtmb3IoY29uc3QgciBvZiB0aGlzLmFyZ3Mpe2lmKGkrKyxuPXIuZXZhbHVhdGUoZSksbiYmbiBpbnN0YW5jZW9mIHp0JiYhbi5hdmFpbGFibGUmJih0fHwodD1uKSxuPW51bGwsaT09PXRoaXMuYXJncy5sZW5ndGgpKXJldHVybiB0O2lmKG51bGwhPT1uKWJyZWFrfXJldHVybiBufWVhY2hDaGlsZChlKXt0aGlzLmFyZ3MuZm9yRWFjaChlKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMuYXJncy5ldmVyeShlPT5lLm91dHB1dERlZmluZWQoKSl9c2VyaWFsaXplKCl7Y29uc3QgZT1bXCJjb2FsZXNjZVwiXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQodD0+e2UucHVzaCh0LnNlcmlhbGl6ZSgpKX0pLGV9fXZhciAkbj1xbjtjbGFzcyBIbntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT10LnR5cGUsdGhpcy5iaW5kaW5ncz1bXS5jb25jYXQoZSksdGhpcy5yZXN1bHQ9dH1ldmFsdWF0ZShlKXtyZXR1cm4gdGhpcy5yZXN1bHQuZXZhbHVhdGUoZSl9ZWFjaENoaWxkKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuYmluZGluZ3MpZSh0WzFdKTtlKHRoaXMucmVzdWx0KX1zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDw0KXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAzIGFyZ3VtZW50cywgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCBuPVtdO2ZvcihsZXQgaT0xO2k8ZS5sZW5ndGgtMTtpKz0yKXtjb25zdCByPWVbaV07aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHIpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIHN0cmluZywgYnV0IGZvdW5kICR7dHlwZW9mIHJ9IGluc3RlYWQuYCxpKTtpZigvW15hLXpBLVowLTlfXS8udGVzdChyKSlyZXR1cm4gdC5lcnJvcihcIlZhcmlhYmxlIG5hbWVzIG11c3QgY29udGFpbiBvbmx5IGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzIG9yICdfJy5cIixpKTtjb25zdCBvPXQucGFyc2UoZVtpKzFdLGkrMSk7aWYoIW8pcmV0dXJuIG51bGw7bi5wdXNoKFtyLG9dKX1jb25zdCBpPXQucGFyc2UoZVtlLmxlbmd0aC0xXSxlLmxlbmd0aC0xLHQuZXhwZWN0ZWRUeXBlLG4pO3JldHVybiBpP25ldyBIbihuLGkpOm51bGx9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLnJlc3VsdC5vdXRwdXREZWZpbmVkKCl9c2VyaWFsaXplKCl7Y29uc3QgZT1bXCJsZXRcIl07Zm9yKGNvbnN0W3Qsbl1vZiB0aGlzLmJpbmRpbmdzKWUucHVzaCh0LG4uc2VyaWFsaXplKCkpO3JldHVybiBlLnB1c2godGhpcy5yZXN1bHQuc2VyaWFsaXplKCkpLGV9fXZhciBYbj1IbjtjbGFzcyBZbntjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy50eXBlPWUsdGhpcy5pbmRleD10LHRoaXMuaW5wdXQ9bn1zdGF0aWMgcGFyc2UoZSx0KXtpZigzIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIDIgYXJndW1lbnRzLCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IG49dC5wYXJzZShlWzFdLDEsYXQpLGk9dC5wYXJzZShlWzJdLDIsbXQodC5leHBlY3RlZFR5cGV8fGh0KSk7cmV0dXJuIG4mJmk/bmV3IFluKGkudHlwZS5pdGVtVHlwZSxuLGkpOm51bGx9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmluZGV4LmV2YWx1YXRlKGUpLG49dGhpcy5pbnB1dC5ldmFsdWF0ZShlKTtpZih0PDApdGhyb3cgbmV3IEZ0KGBBcnJheSBpbmRleCBvdXQgb2YgYm91bmRzOiAke3R9IDwgMC5gKTtpZih0Pj1uLmxlbmd0aCl0aHJvdyBuZXcgRnQoYEFycmF5IGluZGV4IG91dCBvZiBib3VuZHM6ICR7dH0gPiAke24ubGVuZ3RoLTF9LmApO2lmKHQhPT1NYXRoLmZsb29yKHQpKXRocm93IG5ldyBGdChgQXJyYXkgaW5kZXggbXVzdCBiZSBhbiBpbnRlZ2VyLCBidXQgZm91bmQgJHt0fSBpbnN0ZWFkLmApO3JldHVybiBuW3RdfWVhY2hDaGlsZChlKXtlKHRoaXMuaW5kZXgpLGUodGhpcy5pbnB1dCl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe3JldHVybltcImF0XCIsdGhpcy5pbmRleC5zZXJpYWxpemUoKSx0aGlzLmlucHV0LnNlcmlhbGl6ZSgpXX19dmFyIEpuPVluO2NsYXNzIFFue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWx0LHRoaXMubmVlZGxlPWUsdGhpcy5oYXlzdGFjaz10fXN0YXRpYyBwYXJzZShlLHQpe2lmKDMhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgMiBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgbj10LnBhcnNlKGVbMV0sMSxodCksaT10LnBhcnNlKGVbMl0sMixodCk7cmV0dXJuIG4mJmk/dnQobi50eXBlLFtsdCxzdCxhdCxvdCxodF0pP25ldyBRbihuLGkpOnQuZXJyb3IoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICR7Z3Qobi50eXBlKX0gaW5zdGVhZGApOm51bGx9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLm5lZWRsZS5ldmFsdWF0ZShlKSxuPXRoaXMuaGF5c3RhY2suZXZhbHVhdGUoZSk7aWYobnVsbD09bilyZXR1cm4hMTtpZigheHQodCxbXCJib29sZWFuXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVsbFwiXSkpdGhyb3cgbmV3IEZ0KGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAke2d0KE90KHQpKX0gaW5zdGVhZC5gKTtpZigheHQobixbXCJzdHJpbmdcIixcImFycmF5XCJdKSl0aHJvdyBuZXcgRnQoYEV4cGVjdGVkIHNlY29uZCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGFycmF5IG9yIHN0cmluZywgYnV0IGZvdW5kICR7Z3QoT3QobikpfSBpbnN0ZWFkLmApO3JldHVybiBuLmluZGV4T2YodCk+PTB9ZWFjaENoaWxkKGUpe2UodGhpcy5uZWVkbGUpLGUodGhpcy5oYXlzdGFjayl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiEwfXNlcmlhbGl6ZSgpe3JldHVybltcImluXCIsdGhpcy5uZWVkbGUuc2VyaWFsaXplKCksdGhpcy5oYXlzdGFjay5zZXJpYWxpemUoKV19fXZhciBLbj1RbjtjbGFzcyBlaXtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy50eXBlPWF0LHRoaXMubmVlZGxlPWUsdGhpcy5oYXlzdGFjaz10LHRoaXMuZnJvbUluZGV4PW59c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8PTJ8fGUubGVuZ3RoPj01KXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCAzIG9yIDQgYXJndW1lbnRzLCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IG49dC5wYXJzZShlWzFdLDEsaHQpLGk9dC5wYXJzZShlWzJdLDIsaHQpO2lmKCFufHwhaSlyZXR1cm4gbnVsbDtpZighdnQobi50eXBlLFtsdCxzdCxhdCxvdCxodF0pKXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAke2d0KG4udHlwZSl9IGluc3RlYWRgKTtpZig0PT09ZS5sZW5ndGgpe2NvbnN0IHI9dC5wYXJzZShlWzNdLDMsYXQpO3JldHVybiByP25ldyBlaShuLGkscik6bnVsbH1yZXR1cm4gbmV3IGVpKG4saSl9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLm5lZWRsZS5ldmFsdWF0ZShlKSxuPXRoaXMuaGF5c3RhY2suZXZhbHVhdGUoZSk7aWYoIXh0KHQsW1wiYm9vbGVhblwiLFwic3RyaW5nXCIsXCJudW1iZXJcIixcIm51bGxcIl0pKXRocm93IG5ldyBGdChgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBib29sZWFuLCBzdHJpbmcsIG51bWJlciBvciBudWxsLCBidXQgZm91bmQgJHtndChPdCh0KSl9IGluc3RlYWQuYCk7aWYoIXh0KG4sW1wic3RyaW5nXCIsXCJhcnJheVwiXSkpdGhyb3cgbmV3IEZ0KGBFeHBlY3RlZCBzZWNvbmQgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAke2d0KE90KG4pKX0gaW5zdGVhZC5gKTtpZih0aGlzLmZyb21JbmRleCl7Y29uc3QgaT10aGlzLmZyb21JbmRleC5ldmFsdWF0ZShlKTtyZXR1cm4gbi5pbmRleE9mKHQsaSl9cmV0dXJuIG4uaW5kZXhPZih0KX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLm5lZWRsZSksZSh0aGlzLmhheXN0YWNrKSx0aGlzLmZyb21JbmRleCYmZSh0aGlzLmZyb21JbmRleCl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe2lmKG51bGwhPXRoaXMuZnJvbUluZGV4JiZ2b2lkIDAhPT10aGlzLmZyb21JbmRleCl7Y29uc3QgZT10aGlzLmZyb21JbmRleC5zZXJpYWxpemUoKTtyZXR1cm5bXCJpbmRleC1vZlwiLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCksZV19cmV0dXJuW1wiaW5kZXgtb2ZcIix0aGlzLm5lZWRsZS5zZXJpYWxpemUoKSx0aGlzLmhheXN0YWNrLnNlcmlhbGl6ZSgpXX19dmFyIHRpPWVpO2NsYXNzIG5pe2NvbnN0cnVjdG9yKGUsdCxuLGkscixvKXt0aGlzLmlucHV0VHlwZT1lLHRoaXMudHlwZT10LHRoaXMuaW5wdXQ9bix0aGlzLmNhc2VzPWksdGhpcy5vdXRwdXRzPXIsdGhpcy5vdGhlcndpc2U9b31zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDw1KXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgJHtlLmxlbmd0aC0xfS5gKTtpZihlLmxlbmd0aCUyIT0xKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgYW4gZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtsZXQgbixpO3QuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT10LmV4cGVjdGVkVHlwZS5raW5kJiYoaT10LmV4cGVjdGVkVHlwZSk7Y29uc3Qgcj17fSxvPVtdO2ZvcihsZXQgYT0yO2E8ZS5sZW5ndGgtMTthKz0yKXtsZXQgcz1lW2FdO2NvbnN0IGw9ZVthKzFdO0FycmF5LmlzQXJyYXkocyl8fChzPVtzXSk7Y29uc3QgYz10LmNvbmNhdChhKTtpZigwPT09cy5sZW5ndGgpcmV0dXJuIGMuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYnJhbmNoIGxhYmVsLlwiKTtmb3IoY29uc3QgZSBvZiBzKXtpZihcIm51bWJlclwiIT10eXBlb2YgZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIGMuZXJyb3IoXCJCcmFuY2ggbGFiZWxzIG11c3QgYmUgbnVtYmVycyBvciBzdHJpbmdzLlwiKTtpZihcIm51bWJlclwiPT10eXBlb2YgZSYmTWF0aC5hYnMoZSk+TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpcmV0dXJuIGMuZXJyb3IoYEJyYW5jaCBsYWJlbHMgbXVzdCBiZSBpbnRlZ2VycyBubyBsYXJnZXIgdGhhbiAke051bWJlci5NQVhfU0FGRV9JTlRFR0VSfS5gKTtpZihcIm51bWJlclwiPT10eXBlb2YgZSYmTWF0aC5mbG9vcihlKSE9PWUpcmV0dXJuIGMuZXJyb3IoXCJOdW1lcmljIGJyYW5jaCBsYWJlbHMgbXVzdCBiZSBpbnRlZ2VyIHZhbHVlcy5cIik7aWYobil7aWYoYy5jaGVja1N1YnR5cGUobixPdChlKSkpcmV0dXJuIG51bGx9ZWxzZSBuPU90KGUpO2lmKHZvaWQgMCE9PXJbU3RyaW5nKGUpXSlyZXR1cm4gYy5lcnJvcihcIkJyYW5jaCBsYWJlbHMgbXVzdCBiZSB1bmlxdWUuXCIpO3JbU3RyaW5nKGUpXT1vLmxlbmd0aH1jb25zdCB1PXQucGFyc2UobCxhLGkpO2lmKCF1KXJldHVybiBudWxsO2k9aXx8dS50eXBlLG8ucHVzaCh1KX1jb25zdCBhPXQucGFyc2UoZVsxXSwxLGh0KTtpZighYSlyZXR1cm4gbnVsbDtjb25zdCBzPXQucGFyc2UoZVtlLmxlbmd0aC0xXSxlLmxlbmd0aC0xLGkpO3JldHVybiBzP1widmFsdWVcIiE9PWEudHlwZS5raW5kJiZ0LmNvbmNhdCgxKS5jaGVja1N1YnR5cGUobixhLnR5cGUpP251bGw6bmV3IG5pKG4saSxhLHIsbyxzKTpudWxsfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5pbnB1dC5ldmFsdWF0ZShlKTtyZXR1cm4oT3QodCk9PT10aGlzLmlucHV0VHlwZSYmdGhpcy5vdXRwdXRzW3RoaXMuY2FzZXNbdF1dfHx0aGlzLm90aGVyd2lzZSkuZXZhbHVhdGUoZSl9ZWFjaENoaWxkKGUpe2UodGhpcy5pbnB1dCksdGhpcy5vdXRwdXRzLmZvckVhY2goZSksZSh0aGlzLm90aGVyd2lzZSl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLm91dHB1dHMuZXZlcnkoZT0+ZS5vdXRwdXREZWZpbmVkKCkpJiZ0aGlzLm90aGVyd2lzZS5vdXRwdXREZWZpbmVkKCl9c2VyaWFsaXplKCl7Y29uc3QgZT1bXCJtYXRjaFwiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldLHQ9T2JqZWN0LmtleXModGhpcy5jYXNlcykuc29ydCgpLG49W10saT17fTtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PWlbdGhpcy5jYXNlc1tlXV07dm9pZCAwPT09dD8oaVt0aGlzLmNhc2VzW2VdXT1uLmxlbmd0aCxuLnB1c2goW3RoaXMuY2FzZXNbZV0sW2VdXSkpOm5bdF1bMV0ucHVzaChlKX1jb25zdCByPWU9PlwibnVtYmVyXCI9PT10aGlzLmlucHV0VHlwZS5raW5kP051bWJlcihlKTplO2Zvcihjb25zdFt0LGldb2YgbillLnB1c2goMT09PWkubGVuZ3RoP3IoaVswXSk6aS5tYXAocikpLGUucHVzaCh0aGlzLm91dHB1dHNbdF0uc2VyaWFsaXplKCkpO3JldHVybiBlLnB1c2godGhpcy5vdGhlcndpc2Uuc2VyaWFsaXplKCkpLGV9fXZhciBpaT1uaTtjbGFzcyByaXtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy50eXBlPWUsdGhpcy5icmFuY2hlcz10LHRoaXMub3RoZXJ3aXNlPW59c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGg8NClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgYXQgbGVhc3QgMyBhcmd1bWVudHMsIGJ1dCBmb3VuZCBvbmx5ICR7ZS5sZW5ndGgtMX0uYCk7aWYoZS5sZW5ndGglMiE9MClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGFuIG9kZCBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtsZXQgbjt0LmV4cGVjdGVkVHlwZSYmXCJ2YWx1ZVwiIT09dC5leHBlY3RlZFR5cGUua2luZCYmKG49dC5leHBlY3RlZFR5cGUpO2NvbnN0IGk9W107Zm9yKGxldCByPTE7cjxlLmxlbmd0aC0xO3IrPTIpe2NvbnN0IG89dC5wYXJzZShlW3JdLHIsbHQpO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IGE9dC5wYXJzZShlW3IrMV0scisxLG4pO2lmKCFhKXJldHVybiBudWxsO2kucHVzaChbbyxhXSksbj1ufHxhLnR5cGV9Y29uc3Qgcj10LnBhcnNlKGVbZS5sZW5ndGgtMV0sZS5sZW5ndGgtMSxuKTtyZXR1cm4gcj9uZXcgcmkobixpLHIpOm51bGx9ZXZhbHVhdGUoZSl7Zm9yKGNvbnN0W3Qsbl1vZiB0aGlzLmJyYW5jaGVzKWlmKHQuZXZhbHVhdGUoZSkpcmV0dXJuIG4uZXZhbHVhdGUoZSk7cmV0dXJuIHRoaXMub3RoZXJ3aXNlLmV2YWx1YXRlKGUpfWVhY2hDaGlsZChlKXtmb3IoY29uc3RbdCxuXW9mIHRoaXMuYnJhbmNoZXMpZSh0KSxlKG4pO2UodGhpcy5vdGhlcndpc2UpfW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5icmFuY2hlcy5ldmVyeSgoW2UsdF0pPT50Lm91dHB1dERlZmluZWQoKSkmJnRoaXMub3RoZXJ3aXNlLm91dHB1dERlZmluZWQoKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcImNhc2VcIl07cmV0dXJuIHRoaXMuZWFjaENoaWxkKHQ9PntlLnB1c2godC5zZXJpYWxpemUoKSl9KSxlfX12YXIgb2k9cmk7Y2xhc3MgYWl7Y29uc3RydWN0b3IoZSx0LG4saSl7dGhpcy50eXBlPWUsdGhpcy5pbnB1dD10LHRoaXMuYmVnaW5JbmRleD1uLHRoaXMuZW5kSW5kZXg9aX1zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDw9Mnx8ZS5sZW5ndGg+PTUpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIDMgb3IgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgbj10LnBhcnNlKGVbMV0sMSxodCksaT10LnBhcnNlKGVbMl0sMixhdCk7aWYoIW58fCFpKXJldHVybiBudWxsO2lmKCF2dChuLnR5cGUsW210KGh0KSxzdCxodF0pKXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGFycmF5IG9yIHN0cmluZywgYnV0IGZvdW5kICR7Z3Qobi50eXBlKX0gaW5zdGVhZGApO2lmKDQ9PT1lLmxlbmd0aCl7Y29uc3Qgcj10LnBhcnNlKGVbM10sMyxhdCk7cmV0dXJuIHI/bmV3IGFpKG4udHlwZSxuLGkscik6bnVsbH1yZXR1cm4gbmV3IGFpKG4udHlwZSxuLGkpfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5pbnB1dC5ldmFsdWF0ZShlKSxuPXRoaXMuYmVnaW5JbmRleC5ldmFsdWF0ZShlKTtpZigheHQodCxbXCJzdHJpbmdcIixcImFycmF5XCJdKSl0aHJvdyBuZXcgRnQoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgJHtndChPdCh0KSl9IGluc3RlYWQuYCk7aWYodGhpcy5lbmRJbmRleCl7Y29uc3QgaT10aGlzLmVuZEluZGV4LmV2YWx1YXRlKGUpO3JldHVybiB0LnNsaWNlKG4saSl9cmV0dXJuIHQuc2xpY2Uobil9ZWFjaENoaWxkKGUpe2UodGhpcy5pbnB1dCksZSh0aGlzLmJlZ2luSW5kZXgpLHRoaXMuZW5kSW5kZXgmJmUodGhpcy5lbmRJbmRleCl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe2lmKG51bGwhPXRoaXMuZW5kSW5kZXgmJnZvaWQgMCE9PXRoaXMuZW5kSW5kZXgpe2NvbnN0IGU9dGhpcy5lbmRJbmRleC5zZXJpYWxpemUoKTtyZXR1cm5bXCJzbGljZVwiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCksdGhpcy5iZWdpbkluZGV4LnNlcmlhbGl6ZSgpLGVdfXJldHVybltcInNsaWNlXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKSx0aGlzLmJlZ2luSW5kZXguc2VyaWFsaXplKCldfX12YXIgc2k9YWk7ZnVuY3Rpb24gbGkoZSx0KXtyZXR1cm5cIj09XCI9PT1lfHxcIiE9XCI9PT1lP1wiYm9vbGVhblwiPT09dC5raW5kfHxcInN0cmluZ1wiPT09dC5raW5kfHxcIm51bWJlclwiPT09dC5raW5kfHxcIm51bGxcIj09PXQua2luZHx8XCJ2YWx1ZVwiPT09dC5raW5kOlwic3RyaW5nXCI9PT10LmtpbmR8fFwibnVtYmVyXCI9PT10LmtpbmR8fFwidmFsdWVcIj09PXQua2luZH1mdW5jdGlvbiBjaShlLHQsbixpKXtyZXR1cm4gMD09PWkuY29tcGFyZSh0LG4pfWZ1bmN0aW9uIHVpKGUsdCxuKXtjb25zdCBpPVwiPT1cIiE9PWUmJlwiIT1cIiE9PWU7cmV0dXJuIGNsYXNzIHJ7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMudHlwZT1sdCx0aGlzLmxocz1lLHRoaXMucmhzPXQsdGhpcy5jb2xsYXRvcj1uLHRoaXMuaGFzVW50eXBlZEFyZ3VtZW50PVwidmFsdWVcIj09PWUudHlwZS5raW5kfHxcInZhbHVlXCI9PT10LnR5cGUua2luZH1zdGF0aWMgcGFyc2UoZSx0KXtpZigzIT09ZS5sZW5ndGgmJjQhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIHR3byBvciB0aHJlZSBhcmd1bWVudHMuXCIpO2NvbnN0IG49ZVswXTtsZXQgbz10LnBhcnNlKGVbMV0sMSxodCk7aWYoIW8pcmV0dXJuIG51bGw7aWYoIWxpKG4sby50eXBlKSlyZXR1cm4gdC5jb25jYXQoMSkuZXJyb3IoYFwiJHtufVwiIGNvbXBhcmlzb25zIGFyZSBub3Qgc3VwcG9ydGVkIGZvciB0eXBlICcke2d0KG8udHlwZSl9Jy5gKTtsZXQgYT10LnBhcnNlKGVbMl0sMixodCk7aWYoIWEpcmV0dXJuIG51bGw7aWYoIWxpKG4sYS50eXBlKSlyZXR1cm4gdC5jb25jYXQoMikuZXJyb3IoYFwiJHtufVwiIGNvbXBhcmlzb25zIGFyZSBub3Qgc3VwcG9ydGVkIGZvciB0eXBlICcke2d0KGEudHlwZSl9Jy5gKTtpZihvLnR5cGUua2luZCE9PWEudHlwZS5raW5kJiZcInZhbHVlXCIhPT1vLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09YS50eXBlLmtpbmQpcmV0dXJuIHQuZXJyb3IoYENhbm5vdCBjb21wYXJlIHR5cGVzICcke2d0KG8udHlwZSl9JyBhbmQgJyR7Z3QoYS50eXBlKX0nLmApO2kmJihcInZhbHVlXCI9PT1vLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09YS50eXBlLmtpbmQ/bz1uZXcgVnQoYS50eXBlLFtvXSk6XCJ2YWx1ZVwiIT09by50eXBlLmtpbmQmJlwidmFsdWVcIj09PWEudHlwZS5raW5kJiYoYT1uZXcgVnQoby50eXBlLFthXSkpKTtsZXQgcz1udWxsO2lmKDQ9PT1lLmxlbmd0aCl7aWYoXCJzdHJpbmdcIiE9PW8udHlwZS5raW5kJiZcInN0cmluZ1wiIT09YS50eXBlLmtpbmQmJlwidmFsdWVcIiE9PW8udHlwZS5raW5kJiZcInZhbHVlXCIhPT1hLnR5cGUua2luZClyZXR1cm4gdC5lcnJvcihcIkNhbm5vdCB1c2UgY29sbGF0b3IgdG8gY29tcGFyZSBub24tc3RyaW5nIHR5cGVzLlwiKTtpZihzPXQucGFyc2UoZVszXSwzLGR0KSwhcylyZXR1cm4gbnVsbH1yZXR1cm4gbmV3IHIobyxhLHMpfWV2YWx1YXRlKHIpe2NvbnN0IG89dGhpcy5saHMuZXZhbHVhdGUociksYT10aGlzLnJocy5ldmFsdWF0ZShyKTtpZihpJiZ0aGlzLmhhc1VudHlwZWRBcmd1bWVudCl7Y29uc3QgdD1PdChvKSxuPU90KGEpO2lmKHQua2luZCE9PW4ua2luZHx8XCJzdHJpbmdcIiE9PXQua2luZCYmXCJudW1iZXJcIiE9PXQua2luZCl0aHJvdyBuZXcgRnQoYEV4cGVjdGVkIGFyZ3VtZW50cyBmb3IgXCIke2V9XCIgdG8gYmUgKHN0cmluZywgc3RyaW5nKSBvciAobnVtYmVyLCBudW1iZXIpLCBidXQgZm91bmQgKCR7dC5raW5kfSwgJHtuLmtpbmR9KSBpbnN0ZWFkLmApfWlmKHRoaXMuY29sbGF0b3ImJiFpJiZ0aGlzLmhhc1VudHlwZWRBcmd1bWVudCl7Y29uc3QgZT1PdChvKSxuPU90KGEpO2lmKFwic3RyaW5nXCIhPT1lLmtpbmR8fFwic3RyaW5nXCIhPT1uLmtpbmQpcmV0dXJuIHQocixvLGEpfXJldHVybiB0aGlzLmNvbGxhdG9yP24ocixvLGEsdGhpcy5jb2xsYXRvci5ldmFsdWF0ZShyKSk6dChyLG8sYSl9ZWFjaENoaWxkKGUpe2UodGhpcy5saHMpLGUodGhpcy5yaHMpLHRoaXMuY29sbGF0b3ImJmUodGhpcy5jb2xsYXRvcil9b3V0cHV0RGVmaW5lZCgpe3JldHVybiEwfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9W2VdO3JldHVybiB0aGlzLmVhY2hDaGlsZChlPT57dC5wdXNoKGUuc2VyaWFsaXplKCkpfSksdH19fWNvbnN0IGhpPXVpKFwiPT1cIiwoZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PT09bn0pLGNpKSxkaT11aShcIiE9XCIsKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCE9PW59KSwoZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIWNpKDAsdCxuLGkpfSkpLHBpPXVpKFwiPFwiLChmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ8bn0pLChmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gaS5jb21wYXJlKHQsbik8MH0pKSxmaT11aShcIj5cIiwoZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0Pm59KSwoZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIGkuY29tcGFyZSh0LG4pPjB9KSksbWk9dWkoXCI8PVwiLChmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ8PW59KSwoZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIGkuY29tcGFyZSh0LG4pPD0wfSkpLGdpPXVpKFwiPj1cIiwoZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0Pj1ufSksKGZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBpLmNvbXBhcmUodCxuKT49MH0pKTtjbGFzcyB5aXtjb25zdHJ1Y3RvcihlLHQsbixpLHIsbyl7dGhpcy50eXBlPXN0LHRoaXMubnVtYmVyPWUsdGhpcy5sb2NhbGU9dCx0aGlzLmN1cnJlbmN5PW4sdGhpcy51bml0PWksdGhpcy5taW5GcmFjdGlvbkRpZ2l0cz1yLHRoaXMubWF4RnJhY3Rpb25EaWdpdHM9b31zdGF0aWMgcGFyc2UoZSx0KXtpZigzIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCB0d28gYXJndW1lbnRzLlwiKTtjb25zdCBuPXQucGFyc2UoZVsxXSwxLGF0KTtpZighbilyZXR1cm4gbnVsbDtjb25zdCBpPWVbMl07aWYoXCJvYmplY3RcIiE9dHlwZW9mIGl8fEFycmF5LmlzQXJyYXkoaSkpcmV0dXJuIHQuZXJyb3IoXCJOdW1iZXJGb3JtYXQgb3B0aW9ucyBhcmd1bWVudCBtdXN0IGJlIGFuIG9iamVjdC5cIik7bGV0IHI9bnVsbDtpZihpLmxvY2FsZSYmKHI9dC5wYXJzZShpLmxvY2FsZSwxLHN0KSwhcikpcmV0dXJuIG51bGw7bGV0IG89bnVsbDtpZihpLmN1cnJlbmN5JiYobz10LnBhcnNlKGkuY3VycmVuY3ksMSxzdCksIW8pKXJldHVybiBudWxsO2xldCBhPW51bGw7aWYoaS51bml0JiYoYT10LnBhcnNlKGkudW5pdCwxLHN0KSwhYSkpcmV0dXJuIG51bGw7bGV0IHM9bnVsbDtpZihpW1wibWluLWZyYWN0aW9uLWRpZ2l0c1wiXSYmKHM9dC5wYXJzZShpW1wibWluLWZyYWN0aW9uLWRpZ2l0c1wiXSwxLGF0KSwhcykpcmV0dXJuIG51bGw7bGV0IGw9bnVsbDtyZXR1cm4gaVtcIm1heC1mcmFjdGlvbi1kaWdpdHNcIl0mJihsPXQucGFyc2UoaVtcIm1heC1mcmFjdGlvbi1kaWdpdHNcIl0sMSxhdCksIWwpP251bGw6bmV3IHlpKG4scixvLGEscyxsKX1ldmFsdWF0ZShlKXtyZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKGUpOltdLHtzdHlsZToodGhpcy5jdXJyZW5jeT9cImN1cnJlbmN5XCI6dGhpcy51bml0JiZcInVuaXRcIil8fFwiZGVjaW1hbFwiLGN1cnJlbmN5OnRoaXMuY3VycmVuY3k/dGhpcy5jdXJyZW5jeS5ldmFsdWF0ZShlKTp2b2lkIDAsdW5pdDp0aGlzLnVuaXQ/dGhpcy51bml0LmV2YWx1YXRlKGUpOnZvaWQgMCxtaW5pbXVtRnJhY3Rpb25EaWdpdHM6dGhpcy5taW5GcmFjdGlvbkRpZ2l0cz90aGlzLm1pbkZyYWN0aW9uRGlnaXRzLmV2YWx1YXRlKGUpOnZvaWQgMCxtYXhpbXVtRnJhY3Rpb25EaWdpdHM6dGhpcy5tYXhGcmFjdGlvbkRpZ2l0cz90aGlzLm1heEZyYWN0aW9uRGlnaXRzLmV2YWx1YXRlKGUpOnZvaWQgMH0pLmZvcm1hdCh0aGlzLm51bWJlci5ldmFsdWF0ZShlKSl9ZWFjaENoaWxkKGUpe2UodGhpcy5udW1iZXIpLHRoaXMubG9jYWxlJiZlKHRoaXMubG9jYWxlKSx0aGlzLmN1cnJlbmN5JiZlKHRoaXMuY3VycmVuY3kpLHRoaXMudW5pdCYmZSh0aGlzLnVuaXQpLHRoaXMubWluRnJhY3Rpb25EaWdpdHMmJmUodGhpcy5taW5GcmFjdGlvbkRpZ2l0cyksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyYmZSh0aGlzLm1heEZyYWN0aW9uRGlnaXRzKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7Y29uc3QgZT17fTtyZXR1cm4gdGhpcy5sb2NhbGUmJihlLmxvY2FsZT10aGlzLmxvY2FsZS5zZXJpYWxpemUoKSksdGhpcy5jdXJyZW5jeSYmKGUuY3VycmVuY3k9dGhpcy5jdXJyZW5jeS5zZXJpYWxpemUoKSksdGhpcy51bml0JiYoZS51bml0PXRoaXMudW5pdC5zZXJpYWxpemUoKSksdGhpcy5taW5GcmFjdGlvbkRpZ2l0cyYmKGVbXCJtaW4tZnJhY3Rpb24tZGlnaXRzXCJdPXRoaXMubWluRnJhY3Rpb25EaWdpdHMuc2VyaWFsaXplKCkpLHRoaXMubWF4RnJhY3Rpb25EaWdpdHMmJihlW1wibWF4LWZyYWN0aW9uLWRpZ2l0c1wiXT10aGlzLm1heEZyYWN0aW9uRGlnaXRzLnNlcmlhbGl6ZSgpKSxbXCJudW1iZXItZm9ybWF0XCIsdGhpcy5udW1iZXIuc2VyaWFsaXplKCksZV19fWNsYXNzIF9pe2NvbnN0cnVjdG9yKGUpe3RoaXMudHlwZT1hdCx0aGlzLmlucHV0PWV9c3RhdGljIHBhcnNlKGUsdCl7aWYoMiE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCAxIGFyZ3VtZW50LCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IG49dC5wYXJzZShlWzFdLDEpO3JldHVybiBuP1wiYXJyYXlcIiE9PW4udHlwZS5raW5kJiZcInN0cmluZ1wiIT09bi50eXBlLmtpbmQmJlwidmFsdWVcIiE9PW4udHlwZS5raW5kP3QuZXJyb3IoYEV4cGVjdGVkIGFyZ3VtZW50IG9mIHR5cGUgc3RyaW5nIG9yIGFycmF5LCBidXQgZm91bmQgJHtndChuLnR5cGUpfSBpbnN0ZWFkLmApOm5ldyBfaShuKTpudWxsfWV2YWx1YXRlKGUpe2NvbnN0IHQ9dGhpcy5pbnB1dC5ldmFsdWF0ZShlKTtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdC5sZW5ndGg7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5sZW5ndGg7dGhyb3cgbmV3IEZ0KGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvZiB0eXBlIHN0cmluZyBvciBhcnJheSwgYnV0IGZvdW5kICR7Z3QoT3QodCkpfSBpbnN0ZWFkLmApfWVhY2hDaGlsZChlKXtlKHRoaXMuaW5wdXQpfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtjb25zdCBlPVtcImxlbmd0aFwiXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQodD0+e2UucHVzaCh0LnNlcmlhbGl6ZSgpKX0pLGV9fWNvbnN0IHZpPXtcIj09XCI6aGksXCIhPVwiOmRpLFwiPlwiOmZpLFwiPFwiOnBpLFwiPj1cIjpnaSxcIjw9XCI6bWksYXJyYXk6VnQsYXQ6Sm4sYm9vbGVhbjpWdCxjYXNlOm9pLGNvYWxlc2NlOiRuLGNvbGxhdG9yOlF0LGZvcm1hdDpHdCxpbWFnZTpadCxpbjpLbixcImluZGV4LW9mXCI6dGksaW50ZXJwb2xhdGU6V24sXCJpbnRlcnBvbGF0ZS1oY2xcIjpXbixcImludGVycG9sYXRlLWxhYlwiOlduLGxlbmd0aDpfaSxsZXQ6WG4sbGl0ZXJhbDpqdCxtYXRjaDppaSxudW1iZXI6VnQsXCJudW1iZXItZm9ybWF0XCI6eWksb2JqZWN0OlZ0LHNsaWNlOnNpLHN0ZXA6SW4sc3RyaW5nOlZ0LFwidG8tYm9vbGVhblwiOiR0LFwidG8tY29sb3JcIjokdCxcInRvLW51bWJlclwiOiR0LFwidG8tc3RyaW5nXCI6JHQsdmFyOnduLHdpdGhpbjp5bn07ZnVuY3Rpb24geGkoZSxbdCxuLGkscl0pe3Q9dC5ldmFsdWF0ZShlKSxuPW4uZXZhbHVhdGUoZSksaT1pLmV2YWx1YXRlKGUpO2NvbnN0IG89cj9yLmV2YWx1YXRlKGUpOjEsYT1EdCh0LG4saSxvKTtpZihhKXRocm93IG5ldyBGdChhKTtyZXR1cm4gbmV3IEN0KHQvMjU1Km8sbi8yNTUqbyxpLzI1NSpvLG8pfWZ1bmN0aW9uIGJpKGUsdCl7cmV0dXJuIGUgaW4gdH1mdW5jdGlvbiB3aShlLHQpe2NvbnN0IG49dFtlXTtyZXR1cm4gdm9pZCAwPT09bj9udWxsOm59ZnVuY3Rpb24gVGkoZSl7cmV0dXJue3R5cGU6ZX19SnQucmVnaXN0ZXIodmkse2Vycm9yOlt7a2luZDpcImVycm9yXCJ9LFtzdF0sKGUsW3RdKT0+e3Rocm93IG5ldyBGdCh0LmV2YWx1YXRlKGUpKX1dLHR5cGVvZjpbc3QsW2h0XSwoZSxbdF0pPT5ndChPdCh0LmV2YWx1YXRlKGUpKSldLFwidG8tcmdiYVwiOlttdChhdCw0KSxbY3RdLChlLFt0XSk9PnQuZXZhbHVhdGUoZSkudG9BcnJheSgpXSxyZ2I6W2N0LFthdCxhdCxhdF0seGldLHJnYmE6W2N0LFthdCxhdCxhdCxhdF0seGldLGhhczp7dHlwZTpsdCxvdmVybG9hZHM6W1tbc3RdLChlLFt0XSk9PmJpKHQuZXZhbHVhdGUoZSksZS5wcm9wZXJ0aWVzKCkpXSxbW3N0LHV0XSwoZSxbdCxuXSk9PmJpKHQuZXZhbHVhdGUoZSksbi5ldmFsdWF0ZShlKSldXX0sZ2V0Ont0eXBlOmh0LG92ZXJsb2FkczpbW1tzdF0sKGUsW3RdKT0+d2kodC5ldmFsdWF0ZShlKSxlLnByb3BlcnRpZXMoKSldLFtbc3QsdXRdLChlLFt0LG5dKT0+d2kodC5ldmFsdWF0ZShlKSxuLmV2YWx1YXRlKGUpKV1dfSxcImZlYXR1cmUtc3RhdGVcIjpbaHQsW3N0XSwoZSxbdF0pPT53aSh0LmV2YWx1YXRlKGUpLGUuZmVhdHVyZVN0YXRlfHx7fSldLHByb3BlcnRpZXM6W3V0LFtdLGU9PmUucHJvcGVydGllcygpXSxcImdlb21ldHJ5LXR5cGVcIjpbc3QsW10sZT0+ZS5nZW9tZXRyeVR5cGUoKV0saWQ6W2h0LFtdLGU9PmUuaWQoKV0sem9vbTpbYXQsW10sZT0+ZS5nbG9iYWxzLnpvb21dLHBpdGNoOlthdCxbXSxlPT5lLmdsb2JhbHMucGl0Y2h8fDBdLFwiZGlzdGFuY2UtZnJvbS1jZW50ZXJcIjpbYXQsW10sZT0+ZS5kaXN0YW5jZUZyb21DZW50ZXIoKV0sXCJoZWF0bWFwLWRlbnNpdHlcIjpbYXQsW10sZT0+ZS5nbG9iYWxzLmhlYXRtYXBEZW5zaXR5fHwwXSxcImxpbmUtcHJvZ3Jlc3NcIjpbYXQsW10sZT0+ZS5nbG9iYWxzLmxpbmVQcm9ncmVzc3x8MF0sXCJza3ktcmFkaWFsLXByb2dyZXNzXCI6W2F0LFtdLGU9PmUuZ2xvYmFscy5za3lSYWRpYWxQcm9ncmVzc3x8MF0sYWNjdW11bGF0ZWQ6W2h0LFtdLGU9PnZvaWQgMD09PWUuZ2xvYmFscy5hY2N1bXVsYXRlZD9udWxsOmUuZ2xvYmFscy5hY2N1bXVsYXRlZF0sXCIrXCI6W2F0LFRpKGF0KSwoZSx0KT0+e2xldCBuPTA7Zm9yKGNvbnN0IGkgb2YgdCluKz1pLmV2YWx1YXRlKGUpO3JldHVybiBufV0sXCIqXCI6W2F0LFRpKGF0KSwoZSx0KT0+e2xldCBuPTE7Zm9yKGNvbnN0IGkgb2YgdCluKj1pLmV2YWx1YXRlKGUpO3JldHVybiBufV0sXCItXCI6e3R5cGU6YXQsb3ZlcmxvYWRzOltbW2F0LGF0XSwoZSxbdCxuXSk9PnQuZXZhbHVhdGUoZSktbi5ldmFsdWF0ZShlKV0sW1thdF0sKGUsW3RdKT0+LXQuZXZhbHVhdGUoZSldXX0sXCIvXCI6W2F0LFthdCxhdF0sKGUsW3Qsbl0pPT50LmV2YWx1YXRlKGUpL24uZXZhbHVhdGUoZSldLFwiJVwiOlthdCxbYXQsYXRdLChlLFt0LG5dKT0+dC5ldmFsdWF0ZShlKSVuLmV2YWx1YXRlKGUpXSxsbjI6W2F0LFtdLCgpPT5NYXRoLkxOMl0scGk6W2F0LFtdLCgpPT5NYXRoLlBJXSxlOlthdCxbXSwoKT0+TWF0aC5FXSxcIl5cIjpbYXQsW2F0LGF0XSwoZSxbdCxuXSk9Pk1hdGgucG93KHQuZXZhbHVhdGUoZSksbi5ldmFsdWF0ZShlKSldLHNxcnQ6W2F0LFthdF0sKGUsW3RdKT0+TWF0aC5zcXJ0KHQuZXZhbHVhdGUoZSkpXSxsb2cxMDpbYXQsW2F0XSwoZSxbdF0pPT5NYXRoLmxvZyh0LmV2YWx1YXRlKGUpKS9NYXRoLkxOMTBdLGxuOlthdCxbYXRdLChlLFt0XSk9Pk1hdGgubG9nKHQuZXZhbHVhdGUoZSkpXSxsb2cyOlthdCxbYXRdLChlLFt0XSk9Pk1hdGgubG9nKHQuZXZhbHVhdGUoZSkpL01hdGguTE4yXSxzaW46W2F0LFthdF0sKGUsW3RdKT0+TWF0aC5zaW4odC5ldmFsdWF0ZShlKSldLGNvczpbYXQsW2F0XSwoZSxbdF0pPT5NYXRoLmNvcyh0LmV2YWx1YXRlKGUpKV0sdGFuOlthdCxbYXRdLChlLFt0XSk9Pk1hdGgudGFuKHQuZXZhbHVhdGUoZSkpXSxhc2luOlthdCxbYXRdLChlLFt0XSk9Pk1hdGguYXNpbih0LmV2YWx1YXRlKGUpKV0sYWNvczpbYXQsW2F0XSwoZSxbdF0pPT5NYXRoLmFjb3ModC5ldmFsdWF0ZShlKSldLGF0YW46W2F0LFthdF0sKGUsW3RdKT0+TWF0aC5hdGFuKHQuZXZhbHVhdGUoZSkpXSxtaW46W2F0LFRpKGF0KSwoZSx0KT0+TWF0aC5taW4oLi4udC5tYXAodD0+dC5ldmFsdWF0ZShlKSkpXSxtYXg6W2F0LFRpKGF0KSwoZSx0KT0+TWF0aC5tYXgoLi4udC5tYXAodD0+dC5ldmFsdWF0ZShlKSkpXSxhYnM6W2F0LFthdF0sKGUsW3RdKT0+TWF0aC5hYnModC5ldmFsdWF0ZShlKSldLHJvdW5kOlthdCxbYXRdLChlLFt0XSk9Pntjb25zdCBuPXQuZXZhbHVhdGUoZSk7cmV0dXJuIG48MD8tTWF0aC5yb3VuZCgtbik6TWF0aC5yb3VuZChuKX1dLGZsb29yOlthdCxbYXRdLChlLFt0XSk9Pk1hdGguZmxvb3IodC5ldmFsdWF0ZShlKSldLGNlaWw6W2F0LFthdF0sKGUsW3RdKT0+TWF0aC5jZWlsKHQuZXZhbHVhdGUoZSkpXSxcImZpbHRlci09PVwiOltsdCxbc3QsaHRdLChlLFt0LG5dKT0+ZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV09PT1uLnZhbHVlXSxcImZpbHRlci1pZC09PVwiOltsdCxbaHRdLChlLFt0XSk9PmUuaWQoKT09PXQudmFsdWVdLFwiZmlsdGVyLXR5cGUtPT1cIjpbbHQsW3N0XSwoZSxbdF0pPT5lLmdlb21ldHJ5VHlwZSgpPT09dC52YWx1ZV0sXCJmaWx0ZXItPFwiOltsdCxbc3QsaHRdLChlLFt0LG5dKT0+e2NvbnN0IGk9ZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV0scj1uLnZhbHVlO3JldHVybiB0eXBlb2YgaT09dHlwZW9mIHImJmk8cn1dLFwiZmlsdGVyLWlkLTxcIjpbbHQsW2h0XSwoZSxbdF0pPT57Y29uc3Qgbj1lLmlkKCksaT10LnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm48aX1dLFwiZmlsdGVyLT5cIjpbbHQsW3N0LGh0XSwoZSxbdCxuXSk9Pntjb25zdCBpPWUucHJvcGVydGllcygpW3QudmFsdWVdLHI9bi52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiByJiZpPnJ9XSxcImZpbHRlci1pZC0+XCI6W2x0LFtodF0sKGUsW3RdKT0+e2NvbnN0IG49ZS5pZCgpLGk9dC52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPml9XSxcImZpbHRlci08PVwiOltsdCxbc3QsaHRdLChlLFt0LG5dKT0+e2NvbnN0IGk9ZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV0scj1uLnZhbHVlO3JldHVybiB0eXBlb2YgaT09dHlwZW9mIHImJmk8PXJ9XSxcImZpbHRlci1pZC08PVwiOltsdCxbaHRdLChlLFt0XSk9Pntjb25zdCBuPWUuaWQoKSxpPXQudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbjw9aX1dLFwiZmlsdGVyLT49XCI6W2x0LFtzdCxodF0sKGUsW3Qsbl0pPT57Y29uc3QgaT1lLnByb3BlcnRpZXMoKVt0LnZhbHVlXSxyPW4udmFsdWU7cmV0dXJuIHR5cGVvZiBpPT10eXBlb2YgciYmaT49cn1dLFwiZmlsdGVyLWlkLT49XCI6W2x0LFtodF0sKGUsW3RdKT0+e2NvbnN0IG49ZS5pZCgpLGk9dC52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPj1pfV0sXCJmaWx0ZXItaGFzXCI6W2x0LFtodF0sKGUsW3RdKT0+dC52YWx1ZSBpbiBlLnByb3BlcnRpZXMoKV0sXCJmaWx0ZXItaGFzLWlkXCI6W2x0LFtdLGU9Pm51bGwhPT1lLmlkKCkmJnZvaWQgMCE9PWUuaWQoKV0sXCJmaWx0ZXItdHlwZS1pblwiOltsdCxbbXQoc3QpXSwoZSxbdF0pPT50LnZhbHVlLmluZGV4T2YoZS5nZW9tZXRyeVR5cGUoKSk+PTBdLFwiZmlsdGVyLWlkLWluXCI6W2x0LFttdChodCldLChlLFt0XSk9PnQudmFsdWUuaW5kZXhPZihlLmlkKCkpPj0wXSxcImZpbHRlci1pbi1zbWFsbFwiOltsdCxbc3QsbXQoaHQpXSwoZSxbdCxuXSk9Pm4udmFsdWUuaW5kZXhPZihlLnByb3BlcnRpZXMoKVt0LnZhbHVlXSk+PTBdLFwiZmlsdGVyLWluLWxhcmdlXCI6W2x0LFtzdCxtdChodCldLChlLFt0LG5dKT0+ZnVuY3Rpb24oZSx0LG4saSl7Zm9yKDtuPD1pOyl7Y29uc3Qgcj1uK2k+PjE7aWYodFtyXT09PWUpcmV0dXJuITA7dFtyXT5lP2k9ci0xOm49cisxfXJldHVybiExfShlLnByb3BlcnRpZXMoKVt0LnZhbHVlXSxuLnZhbHVlLDAsbi52YWx1ZS5sZW5ndGgtMSldLGFsbDp7dHlwZTpsdCxvdmVybG9hZHM6W1tbbHQsbHRdLChlLFt0LG5dKT0+dC5ldmFsdWF0ZShlKSYmbi5ldmFsdWF0ZShlKV0sW1RpKGx0KSwoZSx0KT0+e2Zvcihjb25zdCBuIG9mIHQpaWYoIW4uZXZhbHVhdGUoZSkpcmV0dXJuITE7cmV0dXJuITB9XV19LGFueTp7dHlwZTpsdCxvdmVybG9hZHM6W1tbbHQsbHRdLChlLFt0LG5dKT0+dC5ldmFsdWF0ZShlKXx8bi5ldmFsdWF0ZShlKV0sW1RpKGx0KSwoZSx0KT0+e2Zvcihjb25zdCBuIG9mIHQpaWYobi5ldmFsdWF0ZShlKSlyZXR1cm4hMDtyZXR1cm4hMX1dXX0sXCIhXCI6W2x0LFtsdF0sKGUsW3RdKT0+IXQuZXZhbHVhdGUoZSldLFwiaXMtc3VwcG9ydGVkLXNjcmlwdFwiOltsdCxbc3RdLChlLFt0XSk9Pntjb25zdCBuPWUuZ2xvYmFscyYmZS5nbG9iYWxzLmlzU3VwcG9ydGVkU2NyaXB0O3JldHVybiFufHxuKHQuZXZhbHVhdGUoZSkpfV0sdXBjYXNlOltzdCxbc3RdLChlLFt0XSk9PnQuZXZhbHVhdGUoZSkudG9VcHBlckNhc2UoKV0sZG93bmNhc2U6W3N0LFtzdF0sKGUsW3RdKT0+dC5ldmFsdWF0ZShlKS50b0xvd2VyQ2FzZSgpXSxjb25jYXQ6W3N0LFRpKGh0KSwoZSx0KT0+dC5tYXAodD0+UnQodC5ldmFsdWF0ZShlKSkpLmpvaW4oXCJcIildLFwicmVzb2x2ZWQtbG9jYWxlXCI6W3N0LFtkdF0sKGUsW3RdKT0+dC5ldmFsdWF0ZShlKS5yZXNvbHZlZExvY2FsZSgpXX0pO3ZhciBFaT12aTtmdW5jdGlvbiBTaShlKXtyZXR1cm57cmVzdWx0Olwic3VjY2Vzc1wiLHZhbHVlOmV9fWZ1bmN0aW9uIE1pKGUpe3JldHVybntyZXN1bHQ6XCJlcnJvclwiLHZhbHVlOmV9fWZ1bmN0aW9uIElpKGUpe3JldHVyblwiZGF0YS1kcml2ZW5cIj09PWVbXCJwcm9wZXJ0eS10eXBlXCJdfWZ1bmN0aW9uIENpKGUpe3JldHVybiEhZS5leHByZXNzaW9uJiZlLmV4cHJlc3Npb24ucGFyYW1ldGVycy5pbmRleE9mKFwiem9vbVwiKT4tMX1mdW5jdGlvbiBraShlKXtyZXR1cm4hIWUuZXhwcmVzc2lvbiYmZS5leHByZXNzaW9uLmludGVycG9sYXRlZH1mdW5jdGlvbiBBaShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE51bWJlcj9cIm51bWJlclwiOmUgaW5zdGFuY2VvZiBTdHJpbmc/XCJzdHJpbmdcIjplIGluc3RhbmNlb2YgQm9vbGVhbj9cImJvb2xlYW5cIjpBcnJheS5pc0FycmF5KGUpP1wiYXJyYXlcIjpudWxsPT09ZT9cIm51bGxcIjp0eXBlb2YgZX1mdW5jdGlvbiBQaShlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJiFBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIHppKGUpe3JldHVybiBlfWZ1bmN0aW9uIERpKGUsdCxuKXtyZXR1cm4gdm9pZCAwIT09ZT9lOnZvaWQgMCE9PXQ/dDp2b2lkIDAhPT1uP246dm9pZCAwfWZ1bmN0aW9uIExpKGUsdCxuLGkscil7cmV0dXJuIERpKHR5cGVvZiBuPT09cj9pW25dOnZvaWQgMCxlLmRlZmF1bHQsdC5kZWZhdWx0KX1mdW5jdGlvbiBPaShlLHQsbil7aWYoXCJudW1iZXJcIiE9PUFpKG4pKXJldHVybiBEaShlLmRlZmF1bHQsdC5kZWZhdWx0KTtjb25zdCBpPWUuc3RvcHMubGVuZ3RoO2lmKDE9PT1pKXJldHVybiBlLnN0b3BzWzBdWzFdO2lmKG48PWUuc3RvcHNbMF1bMF0pcmV0dXJuIGUuc3RvcHNbMF1bMV07aWYobj49ZS5zdG9wc1tpLTFdWzBdKXJldHVybiBlLnN0b3BzW2ktMV1bMV07Y29uc3Qgcj1TbihlLnN0b3BzLm1hcChlPT5lWzBdKSxuKTtyZXR1cm4gZS5zdG9wc1tyXVsxXX1mdW5jdGlvbiBSaShlLHQsbil7Y29uc3QgaT12b2lkIDAhPT1lLmJhc2U/ZS5iYXNlOjE7aWYoXCJudW1iZXJcIiE9PUFpKG4pKXJldHVybiBEaShlLmRlZmF1bHQsdC5kZWZhdWx0KTtjb25zdCByPWUuc3RvcHMubGVuZ3RoO2lmKDE9PT1yKXJldHVybiBlLnN0b3BzWzBdWzFdO2lmKG48PWUuc3RvcHNbMF1bMF0pcmV0dXJuIGUuc3RvcHNbMF1bMV07aWYobj49ZS5zdG9wc1tyLTFdWzBdKXJldHVybiBlLnN0b3BzW3ItMV1bMV07Y29uc3Qgbz1TbihlLnN0b3BzLm1hcChlPT5lWzBdKSxuKSxhPWZ1bmN0aW9uKGUsdCxuLGkpe2NvbnN0IHI9aS1uLG89ZS1uO3JldHVybiAwPT09cj8wOjE9PT10P28vcjooTWF0aC5wb3codCxvKS0xKS8oTWF0aC5wb3codCxyKS0xKX0obixpLGUuc3RvcHNbb11bMF0sZS5zdG9wc1tvKzFdWzBdKSxzPWUuc3RvcHNbb11bMV0sbD1lLnN0b3BzW28rMV1bMV07bGV0IGM9a25bdC50eXBlXXx8emk7aWYoZS5jb2xvclNwYWNlJiZcInJnYlwiIT09ZS5jb2xvclNwYWNlKXtjb25zdCB0PVZuW2UuY29sb3JTcGFjZV07Yz0oZSxuKT0+dC5yZXZlcnNlKHQuaW50ZXJwb2xhdGUodC5mb3J3YXJkKGUpLHQuZm9yd2FyZChuKSxhKSl9cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygcy5ldmFsdWF0ZT97ZXZhbHVhdGUoLi4uZSl7Y29uc3QgdD1zLmV2YWx1YXRlLmFwcGx5KHZvaWQgMCxlKSxuPWwuZXZhbHVhdGUuYXBwbHkodm9pZCAwLGUpO2lmKHZvaWQgMCE9PXQmJnZvaWQgMCE9PW4pcmV0dXJuIGModCxuLGEpfX06YyhzLGwsYSl9ZnVuY3Rpb24gQmkoZSx0LG4pe3JldHVyblwiY29sb3JcIj09PXQudHlwZT9uPUN0LnBhcnNlKG4pOlwiZm9ybWF0dGVkXCI9PT10LnR5cGU/bj1QdC5mcm9tU3RyaW5nKG4udG9TdHJpbmcoKSk6XCJyZXNvbHZlZEltYWdlXCI9PT10LnR5cGU/bj16dC5mcm9tU3RyaW5nKG4udG9TdHJpbmcoKSk6QWkobik9PT10LnR5cGV8fFwiZW51bVwiPT09dC50eXBlJiZ0LnZhbHVlc1tuXXx8KG49dm9pZCAwKSxEaShuLGUuZGVmYXVsdCx0LmRlZmF1bHQpfWNsYXNzIGppe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5leHByZXNzaW9uPWUsdGhpcy5fd2FybmluZ0hpc3Rvcnk9e30sdGhpcy5fZXZhbHVhdG9yPW5ldyBYdCx0aGlzLl9kZWZhdWx0VmFsdWU9dD9mdW5jdGlvbihlKXtyZXR1cm5cImNvbG9yXCI9PT1lLnR5cGUmJihQaShlLmRlZmF1bHQpfHxBcnJheS5pc0FycmF5KGUuZGVmYXVsdCkpP25ldyBDdCgwLDAsMCwwKTpcImNvbG9yXCI9PT1lLnR5cGU/Q3QucGFyc2UoZS5kZWZhdWx0KXx8bnVsbDp2b2lkIDA9PT1lLmRlZmF1bHQ/bnVsbDplLmRlZmF1bHR9KHQpOm51bGwsdGhpcy5fZW51bVZhbHVlcz10JiZcImVudW1cIj09PXQudHlwZT90LnZhbHVlczpudWxsfWV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LG4saSxyLG8sYSxzKXtyZXR1cm4gdGhpcy5fZXZhbHVhdG9yLmdsb2JhbHM9ZSx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZT10LHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlU3RhdGU9bix0aGlzLl9ldmFsdWF0b3IuY2Fub25pY2FsPWl8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmF2YWlsYWJsZUltYWdlcz1yfHxudWxsLHRoaXMuX2V2YWx1YXRvci5mb3JtYXR0ZWRTZWN0aW9uPW8sdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVUaWxlQ29vcmQ9YXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZURpc3RhbmNlRGF0YT1zfHxudWxsLHRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0aGlzLl9ldmFsdWF0b3IpfWV2YWx1YXRlKGUsdCxuLGkscixvLGEscyl7dGhpcy5fZXZhbHVhdG9yLmdsb2JhbHM9ZSx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZT10fHxudWxsLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlU3RhdGU9bnx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuY2Fub25pY2FsPWl8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmF2YWlsYWJsZUltYWdlcz1yfHxudWxsLHRoaXMuX2V2YWx1YXRvci5mb3JtYXR0ZWRTZWN0aW9uPW98fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVUaWxlQ29vcmQ9YXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZURpc3RhbmNlRGF0YT1zfHxudWxsO3RyeXtjb25zdCBlPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0aGlzLl9ldmFsdWF0b3IpO2lmKG51bGw9PWV8fFwibnVtYmVyXCI9PXR5cGVvZiBlJiZlIT1lKXJldHVybiB0aGlzLl9kZWZhdWx0VmFsdWU7aWYodGhpcy5fZW51bVZhbHVlcyYmIShlIGluIHRoaXMuX2VudW1WYWx1ZXMpKXRocm93IG5ldyBGdChgRXhwZWN0ZWQgdmFsdWUgdG8gYmUgb25lIG9mICR7T2JqZWN0LmtleXModGhpcy5fZW51bVZhbHVlcykubWFwKGU9PkpTT04uc3RyaW5naWZ5KGUpKS5qb2luKFwiLCBcIil9LCBidXQgZm91bmQgJHtKU09OLnN0cmluZ2lmeShlKX0gaW5zdGVhZC5gKTtyZXR1cm4gZX1jYXRjaChlKXtyZXR1cm4gdGhpcy5fd2FybmluZ0hpc3RvcnlbZS5tZXNzYWdlXXx8KHRoaXMuX3dhcm5pbmdIaXN0b3J5W2UubWVzc2FnZV09ITAsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2FybihlLm1lc3NhZ2UpKSx0aGlzLl9kZWZhdWx0VmFsdWV9fX1mdW5jdGlvbiBGaShlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MCYmXCJzdHJpbmdcIj09dHlwZW9mIGVbMF0mJmVbMF1pbiBFaX1mdW5jdGlvbiBOaShlLHQpe2NvbnN0IG49bmV3IEVuKEVpLFtdLHQ/ZnVuY3Rpb24oZSl7Y29uc3QgdD17Y29sb3I6Y3Qsc3RyaW5nOnN0LG51bWJlcjphdCxlbnVtOnN0LGJvb2xlYW46bHQsZm9ybWF0dGVkOnB0LHJlc29sdmVkSW1hZ2U6ZnR9O3JldHVyblwiYXJyYXlcIj09PWUudHlwZT9tdCh0W2UudmFsdWVdfHxodCxlLmxlbmd0aCk6dFtlLnR5cGVdfSh0KTp2b2lkIDApLGk9bi5wYXJzZShlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHQmJlwic3RyaW5nXCI9PT10LnR5cGU/e3R5cGVBbm5vdGF0aW9uOlwiY29lcmNlXCJ9OnZvaWQgMCk7cmV0dXJuIGk/U2kobmV3IGppKGksdCkpOk1pKG4uZXJyb3JzKX1jbGFzcyBVaXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMua2luZD1lLHRoaXMuX3N0eWxlRXhwcmVzc2lvbj10LHRoaXMuaXNTdGF0ZURlcGVuZGVudD1cImNvbnN0YW50XCIhPT1lJiYhdm4odC5leHByZXNzaW9uKX1ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKGUsdCxuLGkscixvKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LG4saSxyLG8pfWV2YWx1YXRlKGUsdCxuLGkscixvKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlKGUsdCxuLGkscixvKX19Y2xhc3MgVml7Y29uc3RydWN0b3IoZSx0LG4saSl7dGhpcy5raW5kPWUsdGhpcy56b29tU3RvcHM9bix0aGlzLl9zdHlsZUV4cHJlc3Npb249dCx0aGlzLmlzU3RhdGVEZXBlbmRlbnQ9XCJjYW1lcmFcIiE9PWUmJiF2bih0LmV4cHJlc3Npb24pLHRoaXMuaW50ZXJwb2xhdGlvblR5cGU9aX1ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKGUsdCxuLGkscixvKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LG4saSxyLG8pfWV2YWx1YXRlKGUsdCxuLGkscixvKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlKGUsdCxuLGkscixvKX1pbnRlcnBvbGF0aW9uRmFjdG9yKGUsdCxuKXtyZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uVHlwZT9Xbi5pbnRlcnBvbGF0aW9uRmFjdG9yKHRoaXMuaW50ZXJwb2xhdGlvblR5cGUsZSx0LG4pOjB9fWZ1bmN0aW9uIEdpKGUsdCl7aWYoXCJlcnJvclwiPT09KGU9TmkoZSx0KSkucmVzdWx0KXJldHVybiBlO2NvbnN0IG49ZS52YWx1ZS5leHByZXNzaW9uLGk9X24obik7aWYoIWkmJiFJaSh0KSlyZXR1cm4gTWkoW25ldyBudChcIlwiLFwiZGF0YSBleHByZXNzaW9ucyBub3Qgc3VwcG9ydGVkXCIpXSk7Y29uc3Qgcj14bihuLFtcInpvb21cIixcInBpdGNoXCIsXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiXSk7aWYoIXImJiFDaSh0KSlyZXR1cm4gTWkoW25ldyBudChcIlwiLFwiem9vbSBleHByZXNzaW9ucyBub3Qgc3VwcG9ydGVkXCIpXSk7Y29uc3Qgbz1mdW5jdGlvbiBlKHQpe2xldCBuPW51bGw7aWYodCBpbnN0YW5jZW9mIFhuKW49ZSh0LnJlc3VsdCk7ZWxzZSBpZih0IGluc3RhbmNlb2YgJG4pe2Zvcihjb25zdCBpIG9mIHQuYXJncylpZihuPWUoaSksbilicmVha31lbHNlKHQgaW5zdGFuY2VvZiBJbnx8dCBpbnN0YW5jZW9mIFduKSYmdC5pbnB1dCBpbnN0YW5jZW9mIEp0JiZcInpvb21cIj09PXQuaW5wdXQubmFtZSYmKG49dCk7cmV0dXJuIG4gaW5zdGFuY2VvZiBudHx8dC5lYWNoQ2hpbGQodD0+e2NvbnN0IGk9ZSh0KTtpIGluc3RhbmNlb2YgbnQ/bj1pOiFuJiZpP249bmV3IG50KFwiXCIsJ1wiem9vbVwiIGV4cHJlc3Npb24gbWF5IG9ubHkgYmUgdXNlZCBhcyBpbnB1dCB0byBhIHRvcC1sZXZlbCBcInN0ZXBcIiBvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbi4nKTpuJiZpJiZuIT09aSYmKG49bmV3IG50KFwiXCIsJ09ubHkgb25lIHpvb20tYmFzZWQgXCJzdGVwXCIgb3IgXCJpbnRlcnBvbGF0ZVwiIHN1YmV4cHJlc3Npb24gbWF5IGJlIHVzZWQgaW4gYW4gZXhwcmVzc2lvbi4nKSl9KSxufShuKTtyZXR1cm4gb3x8cj9vIGluc3RhbmNlb2YgbnQ/TWkoW29dKTpvIGluc3RhbmNlb2YgV24mJiFraSh0KT9NaShbbmV3IG50KFwiXCIsJ1wiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9ucyBjYW5ub3QgYmUgdXNlZCB3aXRoIHRoaXMgcHJvcGVydHknKV0pOlNpKG8/bmV3IFZpKGk/XCJjYW1lcmFcIjpcImNvbXBvc2l0ZVwiLGUudmFsdWUsby5sYWJlbHMsbyBpbnN0YW5jZW9mIFduP28uaW50ZXJwb2xhdGlvbjp2b2lkIDApOm5ldyBVaShpP1wiY29uc3RhbnRcIjpcInNvdXJjZVwiLGUudmFsdWUpKTpNaShbbmV3IG50KFwiXCIsJ1wiem9vbVwiIGV4cHJlc3Npb24gbWF5IG9ubHkgYmUgdXNlZCBhcyBpbnB1dCB0byBhIHRvcC1sZXZlbCBcInN0ZXBcIiBvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbi4nKV0pfWNsYXNzIFppe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fcGFyYW1ldGVycz1lLHRoaXMuX3NwZWNpZmljYXRpb249dCxRZSh0aGlzLGZ1bmN0aW9uIGUodCxuKXtjb25zdCBpPVwiY29sb3JcIj09PW4udHlwZSxyPXQuc3RvcHMmJlwib2JqZWN0XCI9PXR5cGVvZiB0LnN0b3BzWzBdWzBdLG89cnx8IShyfHx2b2lkIDAhPT10LnByb3BlcnR5KSxhPXQudHlwZXx8KGtpKG4pP1wiZXhwb25lbnRpYWxcIjpcImludGVydmFsXCIpO2lmKGkmJigodD1RZSh7fSx0KSkuc3RvcHMmJih0LnN0b3BzPXQuc3RvcHMubWFwKGU9PltlWzBdLEN0LnBhcnNlKGVbMV0pXSkpLHQuZGVmYXVsdD1DdC5wYXJzZSh0LmRlZmF1bHQ/dC5kZWZhdWx0Om4uZGVmYXVsdCkpLHQuY29sb3JTcGFjZSYmXCJyZ2JcIiE9PXQuY29sb3JTcGFjZSYmIVZuW3QuY29sb3JTcGFjZV0pdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb2xvciBzcGFjZTogXCIrdC5jb2xvclNwYWNlKTtsZXQgcyxsLGM7aWYoXCJleHBvbmVudGlhbFwiPT09YSlzPVJpO2Vsc2UgaWYoXCJpbnRlcnZhbFwiPT09YSlzPU9pO2Vsc2UgaWYoXCJjYXRlZ29yaWNhbFwiPT09YSl7cz1MaSxsPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0IGUgb2YgdC5zdG9wcylsW2VbMF1dPWVbMV07Yz10eXBlb2YgdC5zdG9wc1swXVswXX1lbHNle2lmKFwiaWRlbnRpdHlcIiE9PWEpdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZ1bmN0aW9uIHR5cGUgXCIke2F9XCJgKTtzPUJpfWlmKHIpe2NvbnN0IGk9e30scj1bXTtmb3IobGV0IGU9MDtlPHQuc3RvcHMubGVuZ3RoO2UrKyl7Y29uc3Qgbj10LnN0b3BzW2VdLG89blswXS56b29tO3ZvaWQgMD09PWlbb10mJihpW29dPXt6b29tOm8sdHlwZTp0LnR5cGUscHJvcGVydHk6dC5wcm9wZXJ0eSxkZWZhdWx0OnQuZGVmYXVsdCxzdG9wczpbXX0sci5wdXNoKG8pKSxpW29dLnN0b3BzLnB1c2goW25bMF0udmFsdWUsblsxXV0pfWNvbnN0IG89W107Zm9yKGNvbnN0IHQgb2YgcilvLnB1c2goW2lbdF0uem9vbSxlKGlbdF0sbildKTtjb25zdCBhPXtuYW1lOlwibGluZWFyXCJ9O3JldHVybntraW5kOlwiY29tcG9zaXRlXCIsaW50ZXJwb2xhdGlvblR5cGU6YSxpbnRlcnBvbGF0aW9uRmFjdG9yOlduLmludGVycG9sYXRpb25GYWN0b3IuYmluZCh2b2lkIDAsYSksem9vbVN0b3BzOm8ubWFwKGU9PmVbMF0pLGV2YWx1YXRlOih7em9vbTplfSxpKT0+Umkoe3N0b3BzOm8sYmFzZTp0LmJhc2V9LG4sZSkuZXZhbHVhdGUoZSxpKX19aWYobyl7Y29uc3QgZT1cImV4cG9uZW50aWFsXCI9PT1hP3tuYW1lOlwiZXhwb25lbnRpYWxcIixiYXNlOnZvaWQgMCE9PXQuYmFzZT90LmJhc2U6MX06bnVsbDtyZXR1cm57a2luZDpcImNhbWVyYVwiLGludGVycG9sYXRpb25UeXBlOmUsaW50ZXJwb2xhdGlvbkZhY3RvcjpXbi5pbnRlcnBvbGF0aW9uRmFjdG9yLmJpbmQodm9pZCAwLGUpLHpvb21TdG9wczp0LnN0b3BzLm1hcChlPT5lWzBdKSxldmFsdWF0ZTooe3pvb206ZX0pPT5zKHQsbixlLGwsYyl9fXJldHVybntraW5kOlwic291cmNlXCIsZXZhbHVhdGUoZSxpKXtjb25zdCByPWkmJmkucHJvcGVydGllcz9pLnByb3BlcnRpZXNbdC5wcm9wZXJ0eV06dm9pZCAwO3JldHVybiB2b2lkIDA9PT1yP0RpKHQuZGVmYXVsdCxuLmRlZmF1bHQpOnModCxuLHIsbCxjKX19fSh0aGlzLl9wYXJhbWV0ZXJzLHRoaXMuX3NwZWNpZmljYXRpb24pKX1zdGF0aWMgZGVzZXJpYWxpemUoZSl7cmV0dXJuIG5ldyBaaShlLl9wYXJhbWV0ZXJzLGUuX3NwZWNpZmljYXRpb24pfXN0YXRpYyBzZXJpYWxpemUoZSl7cmV0dXJue19wYXJhbWV0ZXJzOmUuX3BhcmFtZXRlcnMsX3NwZWNpZmljYXRpb246ZS5fc3BlY2lmaWNhdGlvbn19fWNsYXNzIFdpe2NvbnN0cnVjdG9yKGUsdCxuLGkpe3RoaXMubWVzc2FnZT0oZT9lK1wiOiBcIjpcIlwiKStuLGkmJih0aGlzLmlkZW50aWZpZXI9aSksbnVsbCE9dCYmdC5fX2xpbmVfXyYmKHRoaXMubGluZT10Ll9fbGluZV9fKX19ZnVuY3Rpb24gcWkoZSl7Y29uc3QgdD1lLmtleSxuPWUudmFsdWUsaT1lLnZhbHVlU3BlY3x8e30scj1lLm9iamVjdEVsZW1lbnRWYWxpZGF0b3JzfHx7fSxvPWUuc3R5bGUsYT1lLnN0eWxlU3BlYztsZXQgcz1bXTtjb25zdCBsPUFpKG4pO2lmKFwib2JqZWN0XCIhPT1sKXJldHVybltuZXcgV2kodCxuLGBvYmplY3QgZXhwZWN0ZWQsICR7bH0gZm91bmRgKV07Zm9yKGNvbnN0IGUgaW4gbil7Y29uc3QgbD1lLnNwbGl0KFwiLlwiKVswXSxjPWlbbF18fGlbXCIqXCJdO2xldCB1O3JbbF0/dT1yW2xdOmlbbF0/dT13cjpyW1wiKlwiXT91PXJbXCIqXCJdOmlbXCIqXCJdJiYodT13ciksdT9zPXMuY29uY2F0KHUoe2tleToodD90K1wiLlwiOnQpK2UsdmFsdWU6bltlXSx2YWx1ZVNwZWM6YyxzdHlsZTpvLHN0eWxlU3BlYzphLG9iamVjdDpuLG9iamVjdEtleTplfSxuKSk6cy5wdXNoKG5ldyBXaSh0LG5bZV0sYHVua25vd24gcHJvcGVydHkgXCIke2V9XCJgKSl9Zm9yKGNvbnN0IGUgaW4gaSlyW2VdfHxpW2VdLnJlcXVpcmVkJiZ2b2lkIDA9PT1pW2VdLmRlZmF1bHQmJnZvaWQgMD09PW5bZV0mJnMucHVzaChuZXcgV2kodCxuLGBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiJHtlfVwiYCkpO3JldHVybiBzfWZ1bmN0aW9uICRpKGUpe2NvbnN0IHQ9ZS52YWx1ZSxuPWUudmFsdWVTcGVjLGk9ZS5zdHlsZSxyPWUuc3R5bGVTcGVjLG89ZS5rZXksYT1lLmFycmF5RWxlbWVudFZhbGlkYXRvcnx8d3I7aWYoXCJhcnJheVwiIT09QWkodCkpcmV0dXJuW25ldyBXaShvLHQsYGFycmF5IGV4cGVjdGVkLCAke0FpKHQpfSBmb3VuZGApXTtpZihuLmxlbmd0aCYmdC5sZW5ndGghPT1uLmxlbmd0aClyZXR1cm5bbmV3IFdpKG8sdCxgYXJyYXkgbGVuZ3RoICR7bi5sZW5ndGh9IGV4cGVjdGVkLCBsZW5ndGggJHt0Lmxlbmd0aH0gZm91bmRgKV07aWYobltcIm1pbi1sZW5ndGhcIl0mJnQubGVuZ3RoPG5bXCJtaW4tbGVuZ3RoXCJdKXJldHVybltuZXcgV2kobyx0LGBhcnJheSBsZW5ndGggYXQgbGVhc3QgJHtuW1wibWluLWxlbmd0aFwiXX0gZXhwZWN0ZWQsIGxlbmd0aCAke3QubGVuZ3RofSBmb3VuZGApXTtsZXQgcz17dHlwZTpuLnZhbHVlLHZhbHVlczpuLnZhbHVlcyxtaW5pbXVtOm4ubWluaW11bSxtYXhpbXVtOm4ubWF4aW11bSxmdW5jdGlvbjp2b2lkIDB9O3IuJHZlcnNpb248NyYmKHMuZnVuY3Rpb249bi5mdW5jdGlvbiksXCJvYmplY3RcIj09PUFpKG4udmFsdWUpJiYocz1uLnZhbHVlKTtsZXQgbD1bXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylsPWwuY29uY2F0KGEoe2FycmF5OnQsYXJyYXlJbmRleDplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOnMsc3R5bGU6aSxzdHlsZVNwZWM6cixrZXk6YCR7b31bJHtlfV1gfSkpO3JldHVybiBsfWZ1bmN0aW9uIEhpKGUpe2NvbnN0IHQ9ZS5rZXksbj1lLnZhbHVlLGk9ZS52YWx1ZVNwZWM7bGV0IHI9QWkobik7aWYoXCJudW1iZXJcIj09PXImJm4hPW4mJihyPVwiTmFOXCIpLFwibnVtYmVyXCIhPT1yKXJldHVybltuZXcgV2kodCxuLGBudW1iZXIgZXhwZWN0ZWQsICR7cn0gZm91bmRgKV07aWYoXCJtaW5pbXVtXCJpbiBpKXtsZXQgcj1pLm1pbmltdW07aWYoXCJhcnJheVwiPT09QWkoaS5taW5pbXVtKSYmKHI9aS5taW5pbXVtW2UuYXJyYXlJbmRleF0pLG48cilyZXR1cm5bbmV3IFdpKHQsbixgJHtufSBpcyBsZXNzIHRoYW4gdGhlIG1pbmltdW0gdmFsdWUgJHtyfWApXX1pZihcIm1heGltdW1cImluIGkpe2xldCByPWkubWF4aW11bTtpZihcImFycmF5XCI9PT1BaShpLm1heGltdW0pJiYocj1pLm1heGltdW1bZS5hcnJheUluZGV4XSksbj5yKXJldHVybltuZXcgV2kodCxuLGAke259IGlzIGdyZWF0ZXIgdGhhbiB0aGUgbWF4aW11bSB2YWx1ZSAke3J9YCldfXJldHVybltdfWZ1bmN0aW9uIFhpKGUpe2NvbnN0IHQ9ZS52YWx1ZVNwZWMsbj1LZShlLnZhbHVlLnR5cGUpO2xldCBpLHIsbyxhPXt9O2NvbnN0IHM9XCJjYXRlZ29yaWNhbFwiIT09biYmdm9pZCAwPT09ZS52YWx1ZS5wcm9wZXJ0eSxsPSFzLGM9XCJhcnJheVwiPT09QWkoZS52YWx1ZS5zdG9wcykmJlwiYXJyYXlcIj09PUFpKGUudmFsdWUuc3RvcHNbMF0pJiZcIm9iamVjdFwiPT09QWkoZS52YWx1ZS5zdG9wc1swXVswXSksdT1xaSh7a2V5OmUua2V5LHZhbHVlOmUudmFsdWUsdmFsdWVTcGVjOmUuc3R5bGVTcGVjLmZ1bmN0aW9uLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntzdG9wczpmdW5jdGlvbihlKXtpZihcImlkZW50aXR5XCI9PT1uKXJldHVybltuZXcgV2koZS5rZXksZS52YWx1ZSwnaWRlbnRpdHkgZnVuY3Rpb24gbWF5IG5vdCBoYXZlIGEgXCJzdG9wc1wiIHByb3BlcnR5JyldO2xldCB0PVtdO2NvbnN0IGk9ZS52YWx1ZTtyZXR1cm4gdD10LmNvbmNhdCgkaSh7a2V5OmUua2V5LHZhbHVlOmksdmFsdWVTcGVjOmUudmFsdWVTcGVjLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLGFycmF5RWxlbWVudFZhbGlkYXRvcjpofSkpLFwiYXJyYXlcIj09PUFpKGkpJiYwPT09aS5sZW5ndGgmJnQucHVzaChuZXcgV2koZS5rZXksaSxcImFycmF5IG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgc3RvcFwiKSksdH0sZGVmYXVsdDpmdW5jdGlvbihlKXtyZXR1cm4gd3Ioe2tleTplLmtleSx2YWx1ZTplLnZhbHVlLHZhbHVlU3BlYzp0LHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjfSl9fX0pO3JldHVyblwiaWRlbnRpdHlcIj09PW4mJnMmJnUucHVzaChuZXcgV2koZS5rZXksZS52YWx1ZSwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcInByb3BlcnR5XCInKSksXCJpZGVudGl0eVwiPT09bnx8ZS52YWx1ZS5zdG9wc3x8dS5wdXNoKG5ldyBXaShlLmtleSxlLnZhbHVlLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwic3RvcHNcIicpKSxcImV4cG9uZW50aWFsXCI9PT1uJiZlLnZhbHVlU3BlYy5leHByZXNzaW9uJiYha2koZS52YWx1ZVNwZWMpJiZ1LnB1c2gobmV3IFdpKGUua2V5LGUudmFsdWUsXCJleHBvbmVudGlhbCBmdW5jdGlvbnMgbm90IHN1cHBvcnRlZFwiKSksZS5zdHlsZVNwZWMuJHZlcnNpb24+PTgmJihsJiYhSWkoZS52YWx1ZVNwZWMpP3UucHVzaChuZXcgV2koZS5rZXksZS52YWx1ZSxcInByb3BlcnR5IGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKTpzJiYhQ2koZS52YWx1ZVNwZWMpJiZ1LnB1c2gobmV3IFdpKGUua2V5LGUudmFsdWUsXCJ6b29tIGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKSksXCJjYXRlZ29yaWNhbFwiIT09biYmIWN8fHZvaWQgMCE9PWUudmFsdWUucHJvcGVydHl8fHUucHVzaChuZXcgV2koZS5rZXksZS52YWx1ZSwnXCJwcm9wZXJ0eVwiIHByb3BlcnR5IGlzIHJlcXVpcmVkJykpLHU7ZnVuY3Rpb24gaChlKXtsZXQgbj1bXTtjb25zdCBpPWUudmFsdWUscz1lLmtleTtpZihcImFycmF5XCIhPT1BaShpKSlyZXR1cm5bbmV3IFdpKHMsaSxgYXJyYXkgZXhwZWN0ZWQsICR7QWkoaSl9IGZvdW5kYCldO2lmKDIhPT1pLmxlbmd0aClyZXR1cm5bbmV3IFdpKHMsaSxgYXJyYXkgbGVuZ3RoIDIgZXhwZWN0ZWQsIGxlbmd0aCAke2kubGVuZ3RofSBmb3VuZGApXTtpZihjKXtpZihcIm9iamVjdFwiIT09QWkoaVswXSkpcmV0dXJuW25ldyBXaShzLGksYG9iamVjdCBleHBlY3RlZCwgJHtBaShpWzBdKX0gZm91bmRgKV07aWYodm9pZCAwPT09aVswXS56b29tKXJldHVybltuZXcgV2kocyxpLFwib2JqZWN0IHN0b3Aga2V5IG11c3QgaGF2ZSB6b29tXCIpXTtpZih2b2lkIDA9PT1pWzBdLnZhbHVlKXJldHVybltuZXcgV2kocyxpLFwib2JqZWN0IHN0b3Aga2V5IG11c3QgaGF2ZSB2YWx1ZVwiKV07Y29uc3QgdD1LZShpWzBdLnpvb20pO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXJldHVybltuZXcgV2kocyxpWzBdLnpvb20sXCJzdG9wIHpvb20gdmFsdWVzIG11c3QgYmUgbnVtYmVyc1wiKV07aWYobyYmbz50KXJldHVybltuZXcgV2kocyxpWzBdLnpvb20sXCJzdG9wIHpvb20gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlclwiKV07dCE9PW8mJihvPXQscj12b2lkIDAsYT17fSksbj1uLmNvbmNhdChxaSh7a2V5OnMrXCJbMF1cIix2YWx1ZTppWzBdLHZhbHVlU3BlYzp7em9vbTp7fX0sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e3pvb206SGksdmFsdWU6ZH19KSl9ZWxzZSBuPW4uY29uY2F0KGQoe2tleTpzK1wiWzBdXCIsdmFsdWU6aVswXSx2YWx1ZVNwZWM6e30sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9LGkpKTtyZXR1cm4gRmkoZXQoaVsxXSkpP24uY29uY2F0KFtuZXcgV2kocytcIlsxXVwiLGlbMV0sXCJleHByZXNzaW9ucyBhcmUgbm90IGFsbG93ZWQgaW4gZnVuY3Rpb24gc3RvcHMuXCIpXSk6bi5jb25jYXQod3Ioe2tleTpzK1wiWzFdXCIsdmFsdWU6aVsxXSx2YWx1ZVNwZWM6dCxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlY30pKX1mdW5jdGlvbiBkKGUsbyl7Y29uc3Qgcz1BaShlLnZhbHVlKSxsPUtlKGUudmFsdWUpLGM9bnVsbCE9PWUudmFsdWU/ZS52YWx1ZTpvO2lmKGkpe2lmKHMhPT1pKXJldHVybltuZXcgV2koZS5rZXksYyxgJHtzfSBzdG9wIGRvbWFpbiB0eXBlIG11c3QgbWF0Y2ggcHJldmlvdXMgc3RvcCBkb21haW4gdHlwZSAke2l9YCldfWVsc2UgaT1zO2lmKFwibnVtYmVyXCIhPT1zJiZcInN0cmluZ1wiIT09cyYmXCJib29sZWFuXCIhPT1zJiZcIm51bWJlclwiIT10eXBlb2YgbCYmXCJzdHJpbmdcIiE9dHlwZW9mIGwmJlwiYm9vbGVhblwiIT10eXBlb2YgbClyZXR1cm5bbmV3IFdpKGUua2V5LGMsXCJzdG9wIGRvbWFpbiB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyLCBzdHJpbmcsIG9yIGJvb2xlYW5cIildO2lmKFwibnVtYmVyXCIhPT1zJiZcImNhdGVnb3JpY2FsXCIhPT1uKXtsZXQgaT1gbnVtYmVyIGV4cGVjdGVkLCAke3N9IGZvdW5kYDtyZXR1cm4gSWkodCkmJnZvaWQgMD09PW4mJihpKz0nXFxuSWYgeW91IGludGVuZGVkIHRvIHVzZSBhIGNhdGVnb3JpY2FsIGZ1bmN0aW9uLCBzcGVjaWZ5IGBcInR5cGVcIjogXCJjYXRlZ29yaWNhbFwiYC4nKSxbbmV3IFdpKGUua2V5LGMsaSldfXJldHVyblwiY2F0ZWdvcmljYWxcIiE9PW58fFwibnVtYmVyXCIhPT1zfHxcIm51bWJlclwiPT10eXBlb2YgbCYmaXNGaW5pdGUobCkmJk1hdGguZmxvb3IobCk9PT1sP1wiY2F0ZWdvcmljYWxcIiE9PW4mJlwibnVtYmVyXCI9PT1zJiZcIm51bWJlclwiPT10eXBlb2YgbCYmXCJudW1iZXJcIj09dHlwZW9mIHImJnZvaWQgMCE9PXImJmw8cj9bbmV3IFdpKGUua2V5LGMsXCJzdG9wIGRvbWFpbiB2YWx1ZXMgbXVzdCBhcHBlYXIgaW4gYXNjZW5kaW5nIG9yZGVyXCIpXToocj1sLFwiY2F0ZWdvcmljYWxcIj09PW4mJmwgaW4gYT9bbmV3IFdpKGUua2V5LGMsXCJzdG9wIGRvbWFpbiB2YWx1ZXMgbXVzdCBiZSB1bmlxdWVcIildOihhW2xdPSEwLFtdKSk6W25ldyBXaShlLmtleSxjLFwiaW50ZWdlciBleHBlY3RlZCwgZm91bmQgXCIrU3RyaW5nKGwpKV19fWZ1bmN0aW9uIFlpKGUpe2NvbnN0IHQ9KFwicHJvcGVydHlcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQ/R2k6TmkpKGV0KGUudmFsdWUpLGUudmFsdWVTcGVjKTtpZihcImVycm9yXCI9PT10LnJlc3VsdClyZXR1cm4gdC52YWx1ZS5tYXAodD0+bmV3IFdpKGAke2Uua2V5fSR7dC5rZXl9YCxlLnZhbHVlLHQubWVzc2FnZSkpO2NvbnN0IG49dC52YWx1ZS5leHByZXNzaW9ufHx0LnZhbHVlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbjtpZihcInByb3BlcnR5XCI9PT1lLmV4cHJlc3Npb25Db250ZXh0JiZcInRleHQtZm9udFwiPT09ZS5wcm9wZXJ0eUtleSYmIW4ub3V0cHV0RGVmaW5lZCgpKXJldHVybltuZXcgV2koZS5rZXksZS52YWx1ZSxgSW52YWxpZCBkYXRhIGV4cHJlc3Npb24gZm9yIFwiJHtlLnByb3BlcnR5S2V5fVwiLiBPdXRwdXQgdmFsdWVzIG11c3QgYmUgY29udGFpbmVkIGFzIGxpdGVyYWxzIHdpdGhpbiB0aGUgZXhwcmVzc2lvbi5gKV07aWYoXCJwcm9wZXJ0eVwiPT09ZS5leHByZXNzaW9uQ29udGV4dCYmXCJsYXlvdXRcIj09PWUucHJvcGVydHlUeXBlJiYhdm4obikpcmV0dXJuW25ldyBXaShlLmtleSxlLnZhbHVlLCdcImZlYXR1cmUtc3RhdGVcIiBkYXRhIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbGF5b3V0IHByb3BlcnRpZXMuJyldO2lmKFwiZmlsdGVyXCI9PT1lLmV4cHJlc3Npb25Db250ZXh0KXJldHVybiBmdW5jdGlvbiBlKHQsbil7Y29uc3QgaT1uZXcgU2V0KFtcInpvb21cIixcImZlYXR1cmUtc3RhdGVcIixcInBpdGNoXCIsXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiXSk7aWYobi52YWx1ZVNwZWMmJm4udmFsdWVTcGVjLmV4cHJlc3Npb24pZm9yKGNvbnN0IGUgb2Ygbi52YWx1ZVNwZWMuZXhwcmVzc2lvbi5wYXJhbWV0ZXJzKWkuZGVsZXRlKGUpO2lmKDA9PT1pLnNpemUpcmV0dXJuW107Y29uc3Qgcj1bXTtyZXR1cm4gdCBpbnN0YW5jZW9mIEp0JiZpLmhhcyh0Lm5hbWUpP1tuZXcgV2kobi5rZXksbi52YWx1ZSxgW1wiJHt0Lm5hbWV9XCJdIGV4cHJlc3Npb24gaXMgbm90IHN1cHBvcnRlZCBpbiBhIGZpbHRlciBmb3IgYSAke24ub2JqZWN0LnR5cGV9IGxheWVyIHdpdGggaWQ6ICR7bi5vYmplY3QuaWR9YCldOih0LmVhY2hDaGlsZCh0PT57ci5wdXNoKC4uLmUodCxuKSl9KSxyKX0obixlKTtpZihlLmV4cHJlc3Npb25Db250ZXh0JiYwPT09ZS5leHByZXNzaW9uQ29udGV4dC5pbmRleE9mKFwiY2x1c3RlclwiKSl7aWYoIXhuKG4sW1wiem9vbVwiLFwiZmVhdHVyZS1zdGF0ZVwiXSkpcmV0dXJuW25ldyBXaShlLmtleSxlLnZhbHVlLCdcInpvb21cIiBhbmQgXCJmZWF0dXJlLXN0YXRlXCIgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBjbHVzdGVyIHByb3BlcnRpZXMuJyldO2lmKFwiY2x1c3Rlci1pbml0aWFsXCI9PT1lLmV4cHJlc3Npb25Db250ZXh0JiYhX24obikpcmV0dXJuW25ldyBXaShlLmtleSxlLnZhbHVlLFwiRmVhdHVyZSBkYXRhIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggaW5pdGlhbCBleHByZXNzaW9uIHBhcnQgb2YgY2x1c3RlciBwcm9wZXJ0aWVzLlwiKV19cmV0dXJuW119ZnVuY3Rpb24gSmkoZSl7Y29uc3QgdD1lLmtleSxuPWUudmFsdWUsaT1lLnZhbHVlU3BlYyxyPVtdO3JldHVybiBBcnJheS5pc0FycmF5KGkudmFsdWVzKT8tMT09PWkudmFsdWVzLmluZGV4T2YoS2UobikpJiZyLnB1c2gobmV3IFdpKHQsbixgZXhwZWN0ZWQgb25lIG9mIFske2kudmFsdWVzLmpvaW4oXCIsIFwiKX1dLCAke0pTT04uc3RyaW5naWZ5KG4pfSBmb3VuZGApKTotMT09PU9iamVjdC5rZXlzKGkudmFsdWVzKS5pbmRleE9mKEtlKG4pKSYmci5wdXNoKG5ldyBXaSh0LG4sYGV4cGVjdGVkIG9uZSBvZiBbJHtPYmplY3Qua2V5cyhpLnZhbHVlcykuam9pbihcIiwgXCIpfV0sICR7SlNPTi5zdHJpbmdpZnkobil9IGZvdW5kYCkpLHJ9ZnVuY3Rpb24gUWkoZSl7aWYoITA9PT1lfHwhMT09PWUpcmV0dXJuITA7aWYoIUFycmF5LmlzQXJyYXkoZSl8fDA9PT1lLmxlbmd0aClyZXR1cm4hMTtzd2l0Y2goZVswXSl7Y2FzZVwiaGFzXCI6cmV0dXJuIGUubGVuZ3RoPj0yJiZcIiRpZFwiIT09ZVsxXSYmXCIkdHlwZVwiIT09ZVsxXTtjYXNlXCJpblwiOnJldHVybiBlLmxlbmd0aD49MyYmKFwic3RyaW5nXCIhPXR5cGVvZiBlWzFdfHxBcnJheS5pc0FycmF5KGVbMl0pKTtjYXNlXCIhaW5cIjpjYXNlXCIhaGFzXCI6Y2FzZVwibm9uZVwiOnJldHVybiExO2Nhc2VcIj09XCI6Y2FzZVwiIT1cIjpjYXNlXCI+XCI6Y2FzZVwiPj1cIjpjYXNlXCI8XCI6Y2FzZVwiPD1cIjpyZXR1cm4gMyE9PWUubGVuZ3RofHxBcnJheS5pc0FycmF5KGVbMV0pfHxBcnJheS5pc0FycmF5KGVbMl0pO2Nhc2VcImFueVwiOmNhc2VcImFsbFwiOmZvcihjb25zdCB0IG9mIGUuc2xpY2UoMSkpaWYoIVFpKHQpJiZcImJvb2xlYW5cIiE9dHlwZW9mIHQpcmV0dXJuITE7cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMH19ZnVuY3Rpb24gS2koZSx0PVwiZmlsbFwiKXtpZihudWxsPT1lKXJldHVybntmaWx0ZXI6KCk9PiEwLG5lZWRHZW9tZXRyeTohMSxuZWVkRmVhdHVyZTohMX07UWkoZSl8fChlPXJyKGUpKTtjb25zdCBuPWU7bGV0IGk9ITA7dHJ5e2k9ZnVuY3Rpb24oZSl7aWYoIWVyKGUpKXJldHVybiBlO2xldCB0PWV0KGUpO3JldHVybiBmdW5jdGlvbiBlKHQpe2xldCBuPSExO2NvbnN0IGk9W107aWYoXCJjYXNlXCI9PT10WzBdKXtmb3IobGV0IGU9MTtlPHQubGVuZ3RoLTE7ZSs9MiluPW58fGVyKHRbZV0pLGkucHVzaCh0W2UrMV0pO2kucHVzaCh0W3QubGVuZ3RoLTFdKX1lbHNlIGlmKFwibWF0Y2hcIj09PXRbMF0pe249bnx8ZXIodFsxXSk7Zm9yKGxldCBlPTI7ZTx0Lmxlbmd0aC0xO2UrPTIpaS5wdXNoKHRbZSsxXSk7aS5wdXNoKHRbdC5sZW5ndGgtMV0pfWVsc2UgaWYoXCJzdGVwXCI9PT10WzBdKXtuPW58fGVyKHRbMV0pO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGgtMTtlKz0yKWkucHVzaCh0W2UrMV0pfW4mJih0Lmxlbmd0aD0wLHQucHVzaChcImFueVwiLC4uLmkpKTtmb3IobGV0IG49MTtuPHQubGVuZ3RoO24rKyllKHRbbl0pfSh0KSx0PWZ1bmN0aW9uIGUodCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7Y29uc3Qgbj1mdW5jdGlvbihlKXtpZih0ci5oYXMoZVswXSkpZm9yKGxldCB0PTE7dDxlLmxlbmd0aDt0KyspaWYoZXIoZVt0XSkpcmV0dXJuITA7cmV0dXJuIGV9KHQpO3JldHVybiEwPT09bj9uOm4ubWFwKHQ9PmUodCkpfSh0KSx0fShuKX1jYXRjaChlKXtjb25zb2xlLndhcm4oYEZhaWxlZCB0byBleHRyYWN0IHN0YXRpYyBmaWx0ZXIuIEZpbHRlciB3aWxsIGNvbnRpbnVlIHdvcmtpbmcsIGJ1dCBhdCBoaWdoZXIgbWVtb3J5IHVzYWdlIGFuZCBzbG93ZXIgZnJhbWVyYXRlLlxcblRoaXMgaXMgbW9zdCBsaWtlbHkgYSBidWcsIHBsZWFzZSByZXBvcnQgdGhpcyB2aWEgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzL25ldz9hc3NpZ25lZXM9JmxhYmVscz0mdGVtcGxhdGU9QnVnX3JlcG9ydC5tZFxcbmFuZCBwYXN0ZSB0aGUgY29udGVudHMgb2YgdGhpcyBtZXNzYWdlIGluIHRoZSByZXBvcnQuXFxuVGhhbmsgeW91IVxcbkZpbHRlciBFeHByZXNzaW9uOlxcbiR7SlNPTi5zdHJpbmdpZnkobixudWxsLDIpfVxcbiAgICAgICAgYCl9Y29uc3Qgcj1KZVtcImZpbHRlcl9cIit0XSxvPU5pKGkscik7bGV0IGE9bnVsbDtpZihcImVycm9yXCI9PT1vLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Ioby52YWx1ZS5tYXAoZT0+YCR7ZS5rZXl9OiAke2UubWVzc2FnZX1gKS5qb2luKFwiLCBcIikpO2E9KGUsdCxuKT0+by52YWx1ZS5ldmFsdWF0ZShlLHQse30sbik7bGV0IHM9bnVsbCxsPW51bGw7aWYoaSE9PW4pe2NvbnN0IGU9TmkobixyKTtpZihcImVycm9yXCI9PT1lLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3IoZS52YWx1ZS5tYXAoZT0+YCR7ZS5rZXl9OiAke2UubWVzc2FnZX1gKS5qb2luKFwiLCBcIikpO3M9KHQsbixpLHIsbyk9PmUudmFsdWUuZXZhbHVhdGUodCxuLHt9LGksdm9pZCAwLHZvaWQgMCxyLG8pLGw9IV9uKGUudmFsdWUuZXhwcmVzc2lvbil9cmV0dXJue2ZpbHRlcjphLGR5bmFtaWNGaWx0ZXI6c3x8dm9pZCAwLG5lZWRHZW9tZXRyeTppcihpKSxuZWVkRmVhdHVyZTohIWx9fWZ1bmN0aW9uIGVyKGUpe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiExO2lmKFwicGl0Y2hcIj09PSh0PWVbMF0pfHxcImRpc3RhbmNlLWZyb20tY2VudGVyXCI9PT10KXJldHVybiEwO3ZhciB0O2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKWlmKGVyKGVbdF0pKXJldHVybiEwO3JldHVybiExfWNvbnN0IHRyPW5ldyBTZXQoW1wiaW5cIixcIj09XCIsXCIhPVwiLFwiPlwiLFwiPj1cIixcIjxcIixcIjw9XCIsXCJ0by1ib29sZWFuXCJdKTtmdW5jdGlvbiBucihlLHQpe3JldHVybiBlPHQ/LTE6ZT50PzE6MH1mdW5jdGlvbiBpcihlKXtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4hMTtpZihcIndpdGhpblwiPT09ZVswXSlyZXR1cm4hMDtmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKylpZihpcihlW3RdKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBycihlKXtpZighZSlyZXR1cm4hMDtjb25zdCB0PWVbMF07cmV0dXJuIGUubGVuZ3RoPD0xP1wiYW55XCIhPT10OlwiPT1cIj09PXQ/b3IoZVsxXSxlWzJdLFwiPT1cIik6XCIhPVwiPT09dD9scihvcihlWzFdLGVbMl0sXCI9PVwiKSk6XCI8XCI9PT10fHxcIj5cIj09PXR8fFwiPD1cIj09PXR8fFwiPj1cIj09PXQ/b3IoZVsxXSxlWzJdLHQpOlwiYW55XCI9PT10PyhuPWUuc2xpY2UoMSksW1wiYW55XCJdLmNvbmNhdChuLm1hcChycikpKTpcImFsbFwiPT09dD9bXCJhbGxcIl0uY29uY2F0KGUuc2xpY2UoMSkubWFwKHJyKSk6XCJub25lXCI9PT10P1tcImFsbFwiXS5jb25jYXQoZS5zbGljZSgxKS5tYXAocnIpLm1hcChscikpOlwiaW5cIj09PXQ/YXIoZVsxXSxlLnNsaWNlKDIpKTpcIiFpblwiPT09dD9scihhcihlWzFdLGUuc2xpY2UoMikpKTpcImhhc1wiPT09dD9zcihlWzFdKTpcIiFoYXNcIj09PXQ/bHIoc3IoZVsxXSkpOlwid2l0aGluXCIhPT10fHxlO3ZhciBufWZ1bmN0aW9uIG9yKGUsdCxuKXtzd2l0Y2goZSl7Y2FzZVwiJHR5cGVcIjpyZXR1cm5bXCJmaWx0ZXItdHlwZS1cIituLHRdO2Nhc2VcIiRpZFwiOnJldHVybltcImZpbHRlci1pZC1cIituLHRdO2RlZmF1bHQ6cmV0dXJuW1wiZmlsdGVyLVwiK24sZSx0XX19ZnVuY3Rpb24gYXIoZSx0KXtpZigwPT09dC5sZW5ndGgpcmV0dXJuITE7c3dpdGNoKGUpe2Nhc2VcIiR0eXBlXCI6cmV0dXJuW1wiZmlsdGVyLXR5cGUtaW5cIixbXCJsaXRlcmFsXCIsdF1dO2Nhc2VcIiRpZFwiOnJldHVybltcImZpbHRlci1pZC1pblwiLFtcImxpdGVyYWxcIix0XV07ZGVmYXVsdDpyZXR1cm4gdC5sZW5ndGg+MjAwJiYhdC5zb21lKGU9PnR5cGVvZiBlIT10eXBlb2YgdFswXSk/W1wiZmlsdGVyLWluLWxhcmdlXCIsZSxbXCJsaXRlcmFsXCIsdC5zb3J0KG5yKV1dOltcImZpbHRlci1pbi1zbWFsbFwiLGUsW1wibGl0ZXJhbFwiLHRdXX19ZnVuY3Rpb24gc3IoZSl7c3dpdGNoKGUpe2Nhc2VcIiR0eXBlXCI6cmV0dXJuITA7Y2FzZVwiJGlkXCI6cmV0dXJuW1wiZmlsdGVyLWhhcy1pZFwiXTtkZWZhdWx0OnJldHVybltcImZpbHRlci1oYXNcIixlXX19ZnVuY3Rpb24gbHIoZSl7cmV0dXJuW1wiIVwiLGVdfWZ1bmN0aW9uIGNyKGUpe3JldHVybiBRaShldChlLnZhbHVlKSk/WWkoUWUoe30sZSx7ZXhwcmVzc2lvbkNvbnRleHQ6XCJmaWx0ZXJcIix2YWx1ZVNwZWM6ZS5zdHlsZVNwZWNbXCJmaWx0ZXJfXCIrKGUubGF5ZXJUeXBlfHxcImZpbGxcIildfSkpOmZ1bmN0aW9uIGUodCl7Y29uc3Qgbj10LnZhbHVlLGk9dC5rZXk7aWYoXCJhcnJheVwiIT09QWkobikpcmV0dXJuW25ldyBXaShpLG4sYGFycmF5IGV4cGVjdGVkLCAke0FpKG4pfSBmb3VuZGApXTtjb25zdCByPXQuc3R5bGVTcGVjO2xldCBvLGE9W107aWYobi5sZW5ndGg8MSlyZXR1cm5bbmV3IFdpKGksbixcImZpbHRlciBhcnJheSBtdXN0IGhhdmUgYXQgbGVhc3QgMSBlbGVtZW50XCIpXTtzd2l0Y2goYT1hLmNvbmNhdChKaSh7a2V5OmkrXCJbMF1cIix2YWx1ZTpuWzBdLHZhbHVlU3BlYzpyLmZpbHRlcl9vcGVyYXRvcixzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30pKSxLZShuWzBdKSl7Y2FzZVwiPFwiOmNhc2VcIjw9XCI6Y2FzZVwiPlwiOmNhc2VcIj49XCI6bi5sZW5ndGg+PTImJlwiJHR5cGVcIj09PUtlKG5bMV0pJiZhLnB1c2gobmV3IFdpKGksbixgXCIkdHlwZVwiIGNhbm5vdCBiZSB1c2Ugd2l0aCBvcGVyYXRvciBcIiR7blswXX1cImApKTtjYXNlXCI9PVwiOmNhc2VcIiE9XCI6MyE9PW4ubGVuZ3RoJiZhLnB1c2gobmV3IFdpKGksbixgZmlsdGVyIGFycmF5IGZvciBvcGVyYXRvciBcIiR7blswXX1cIiBtdXN0IGhhdmUgMyBlbGVtZW50c2ApKTtjYXNlXCJpblwiOmNhc2VcIiFpblwiOm4ubGVuZ3RoPj0yJiYobz1BaShuWzFdKSxcInN0cmluZ1wiIT09byYmYS5wdXNoKG5ldyBXaShpK1wiWzFdXCIsblsxXSxgc3RyaW5nIGV4cGVjdGVkLCAke299IGZvdW5kYCkpKTtmb3IobGV0IGU9MjtlPG4ubGVuZ3RoO2UrKylvPUFpKG5bZV0pLFwiJHR5cGVcIj09PUtlKG5bMV0pP2E9YS5jb25jYXQoSmkoe2tleTpgJHtpfVske2V9XWAsdmFsdWU6bltlXSx2YWx1ZVNwZWM6ci5nZW9tZXRyeV90eXBlLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpOlwic3RyaW5nXCIhPT1vJiZcIm51bWJlclwiIT09byYmXCJib29sZWFuXCIhPT1vJiZhLnB1c2gobmV3IFdpKGAke2l9WyR7ZX1dYCxuW2VdLGBzdHJpbmcsIG51bWJlciwgb3IgYm9vbGVhbiBleHBlY3RlZCwgJHtvfSBmb3VuZGApKTticmVhaztjYXNlXCJhbnlcIjpjYXNlXCJhbGxcIjpjYXNlXCJub25lXCI6Zm9yKGxldCByPTE7cjxuLmxlbmd0aDtyKyspYT1hLmNvbmNhdChlKHtrZXk6YCR7aX1bJHtyfV1gLHZhbHVlOm5bcl0sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWN9KSk7YnJlYWs7Y2FzZVwiaGFzXCI6Y2FzZVwiIWhhc1wiOm89QWkoblsxXSksMiE9PW4ubGVuZ3RoP2EucHVzaChuZXcgV2koaSxuLGBmaWx0ZXIgYXJyYXkgZm9yIFwiJHtuWzBdfVwiIG9wZXJhdG9yIG11c3QgaGF2ZSAyIGVsZW1lbnRzYCkpOlwic3RyaW5nXCIhPT1vJiZhLnB1c2gobmV3IFdpKGkrXCJbMV1cIixuWzFdLGBzdHJpbmcgZXhwZWN0ZWQsICR7b30gZm91bmRgKSk7YnJlYWs7Y2FzZVwid2l0aGluXCI6bz1BaShuWzFdKSwyIT09bi5sZW5ndGg/YS5wdXNoKG5ldyBXaShpLG4sYGZpbHRlciBhcnJheSBmb3IgXCIke25bMF19XCIgb3BlcmF0b3IgbXVzdCBoYXZlIDIgZWxlbWVudHNgKSk6XCJvYmplY3RcIiE9PW8mJmEucHVzaChuZXcgV2koaStcIlsxXVwiLG5bMV0sYG9iamVjdCBleHBlY3RlZCwgJHtvfSBmb3VuZGApKX1yZXR1cm4gYX0oZSl9ZnVuY3Rpb24gdXIoZSx0KXtjb25zdCBuPWUua2V5LGk9ZS5zdHlsZSxyPWUuc3R5bGVTcGVjLG89ZS52YWx1ZSxhPWUub2JqZWN0S2V5LHM9cltgJHt0fV8ke2UubGF5ZXJUeXBlfWBdO2lmKCFzKXJldHVybltdO2NvbnN0IGw9YS5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtpZihcInBhaW50XCI9PT10JiZsJiZzW2xbMV1dJiZzW2xbMV1dLnRyYW5zaXRpb24pcmV0dXJuIHdyKHtrZXk6bix2YWx1ZTpvLHZhbHVlU3BlYzpyLnRyYW5zaXRpb24sc3R5bGU6aSxzdHlsZVNwZWM6cn0pO2NvbnN0IGM9ZS52YWx1ZVNwZWN8fHNbYV07aWYoIWMpcmV0dXJuW25ldyBXaShuLG8sYHVua25vd24gcHJvcGVydHkgXCIke2F9XCJgKV07bGV0IHU7aWYoXCJzdHJpbmdcIj09PUFpKG8pJiZJaShjKSYmIWMudG9rZW5zJiYodT0vXnsoW159XSspfSQvLmV4ZWMobykpKXJldHVybltuZXcgV2kobixvLGBcIiR7YX1cIiBkb2VzIG5vdCBzdXBwb3J0IGludGVycG9sYXRpb24gc3ludGF4XFxuVXNlIGFuIGlkZW50aXR5IHByb3BlcnR5IGZ1bmN0aW9uIGluc3RlYWQ6IFxcYHsgXCJ0eXBlXCI6IFwiaWRlbnRpdHlcIiwgXCJwcm9wZXJ0eVwiOiAke0pTT04uc3RyaW5naWZ5KHVbMV0pfSB9XFxgLmApXTtjb25zdCBoPVtdO3JldHVyblwic3ltYm9sXCI9PT1lLmxheWVyVHlwZSYmKFwidGV4dC1maWVsZFwiPT09YSYmaSYmIWkuZ2x5cGhzJiZoLnB1c2gobmV3IFdpKG4sbywndXNlIG9mIFwidGV4dC1maWVsZFwiIHJlcXVpcmVzIGEgc3R5bGUgXCJnbHlwaHNcIiBwcm9wZXJ0eScpKSxcInRleHQtZm9udFwiPT09YSYmUGkoZXQobykpJiZcImlkZW50aXR5XCI9PT1LZShvLnR5cGUpJiZoLnB1c2gobmV3IFdpKG4sbywnXCJ0ZXh0LWZvbnRcIiBkb2VzIG5vdCBzdXBwb3J0IGlkZW50aXR5IGZ1bmN0aW9ucycpKSksaC5jb25jYXQod3Ioe2tleTplLmtleSx2YWx1ZTpvLHZhbHVlU3BlYzpjLHN0eWxlOmksc3R5bGVTcGVjOnIsZXhwcmVzc2lvbkNvbnRleHQ6XCJwcm9wZXJ0eVwiLHByb3BlcnR5VHlwZTp0LHByb3BlcnR5S2V5OmF9KSl9ZnVuY3Rpb24gaHIoZSl7cmV0dXJuIHVyKGUsXCJwYWludFwiKX1mdW5jdGlvbiBkcihlKXtyZXR1cm4gdXIoZSxcImxheW91dFwiKX1mdW5jdGlvbiBwcihlKXtsZXQgdD1bXTtjb25zdCBuPWUudmFsdWUsaT1lLmtleSxyPWUuc3R5bGUsbz1lLnN0eWxlU3BlYztuLnR5cGV8fG4ucmVmfHx0LnB1c2gobmV3IFdpKGksbiwnZWl0aGVyIFwidHlwZVwiIG9yIFwicmVmXCIgaXMgcmVxdWlyZWQnKSk7bGV0IGE9S2Uobi50eXBlKTtjb25zdCBzPUtlKG4ucmVmKTtpZihuLmlkKXtjb25zdCBvPUtlKG4uaWQpO2ZvcihsZXQgYT0wO2E8ZS5hcnJheUluZGV4O2ErKyl7Y29uc3QgZT1yLmxheWVyc1thXTtLZShlLmlkKT09PW8mJnQucHVzaChuZXcgV2koaSxuLmlkLGBkdXBsaWNhdGUgbGF5ZXIgaWQgXCIke24uaWR9XCIsIHByZXZpb3VzbHkgdXNlZCBhdCBsaW5lICR7ZS5pZC5fX2xpbmVfX31gKSl9fWlmKFwicmVmXCJpbiBuKXtsZXQgZTtbXCJ0eXBlXCIsXCJzb3VyY2VcIixcInNvdXJjZS1sYXllclwiLFwiZmlsdGVyXCIsXCJsYXlvdXRcIl0uZm9yRWFjaChlPT57ZSBpbiBuJiZ0LnB1c2gobmV3IFdpKGksbltlXSxgXCIke2V9XCIgaXMgcHJvaGliaXRlZCBmb3IgcmVmIGxheWVyc2ApKX0pLHIubGF5ZXJzLmZvckVhY2godD0+e0tlKHQuaWQpPT09cyYmKGU9dCl9KSxlP2UucmVmP3QucHVzaChuZXcgV2koaSxuLnJlZixcInJlZiBjYW5ub3QgcmVmZXJlbmNlIGFub3RoZXIgcmVmIGxheWVyXCIpKTphPUtlKGUudHlwZSk6XCJzdHJpbmdcIj09dHlwZW9mIHMmJnQucHVzaChuZXcgV2koaSxuLnJlZixgcmVmIGxheWVyIFwiJHtzfVwiIG5vdCBmb3VuZGApKX1lbHNlIGlmKFwiYmFja2dyb3VuZFwiIT09YSYmXCJza3lcIiE9PWEpaWYobi5zb3VyY2Upe2NvbnN0IGU9ci5zb3VyY2VzJiZyLnNvdXJjZXNbbi5zb3VyY2VdLG89ZSYmS2UoZS50eXBlKTtlP1widmVjdG9yXCI9PT1vJiZcInJhc3RlclwiPT09YT90LnB1c2gobmV3IFdpKGksbi5zb3VyY2UsYGxheWVyIFwiJHtuLmlkfVwiIHJlcXVpcmVzIGEgcmFzdGVyIHNvdXJjZWApKTpcInJhc3RlclwiPT09byYmXCJyYXN0ZXJcIiE9PWE/dC5wdXNoKG5ldyBXaShpLG4uc291cmNlLGBsYXllciBcIiR7bi5pZH1cIiByZXF1aXJlcyBhIHZlY3RvciBzb3VyY2VgKSk6XCJ2ZWN0b3JcIiE9PW98fG5bXCJzb3VyY2UtbGF5ZXJcIl0/XCJyYXN0ZXItZGVtXCI9PT1vJiZcImhpbGxzaGFkZVwiIT09YT90LnB1c2gobmV3IFdpKGksbi5zb3VyY2UsXCJyYXN0ZXItZGVtIHNvdXJjZSBjYW4gb25seSBiZSB1c2VkIHdpdGggbGF5ZXIgdHlwZSAnaGlsbHNoYWRlJy5cIikpOlwibGluZVwiIT09YXx8IW4ucGFpbnR8fCFuLnBhaW50W1wibGluZS1ncmFkaWVudFwiXSYmIW4ucGFpbnRbXCJsaW5lLXRyaW0tb2Zmc2V0XCJdfHxcImdlb2pzb25cIj09PW8mJmUubGluZU1ldHJpY3N8fHQucHVzaChuZXcgV2koaSxuLGBsYXllciBcIiR7bi5pZH1cIiBzcGVjaWZpZXMgYSBsaW5lLWdyYWRpZW50LCB3aGljaCByZXF1aXJlcyBhIEdlb0pTT04gc291cmNlIHdpdGggXFxgbGluZU1ldHJpY3NcXGAgZW5hYmxlZC5gKSk6dC5wdXNoKG5ldyBXaShpLG4sYGxheWVyIFwiJHtuLmlkfVwiIG11c3Qgc3BlY2lmeSBhIFwic291cmNlLWxheWVyXCJgKSk6dC5wdXNoKG5ldyBXaShpLG4uc291cmNlLGBzb3VyY2UgXCIke24uc291cmNlfVwiIG5vdCBmb3VuZGApKX1lbHNlIHQucHVzaChuZXcgV2koaSxuLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwic291cmNlXCInKSk7cmV0dXJuIHQ9dC5jb25jYXQocWkoe2tleTppLHZhbHVlOm4sdmFsdWVTcGVjOm8ubGF5ZXIsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e1wiKlwiOigpPT5bXSx0eXBlOigpPT53cih7a2V5OmkrXCIudHlwZVwiLHZhbHVlOm4udHlwZSx2YWx1ZVNwZWM6by5sYXllci50eXBlLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLG9iamVjdDpuLG9iamVjdEtleTpcInR5cGVcIn0pLGZpbHRlcjplPT5jcihRZSh7bGF5ZXJUeXBlOmF9LGUpKSxsYXlvdXQ6ZT0+cWkoe2xheWVyOm4sa2V5OmUua2V5LHZhbHVlOmUudmFsdWUsdmFsdWVTcGVjOnt9LHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntcIipcIjplPT5kcihRZSh7bGF5ZXJUeXBlOmF9LGUpKX19KSxwYWludDplPT5xaSh7bGF5ZXI6bixrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZSx2YWx1ZVNwZWM6e30sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e1wiKlwiOmU9PmhyKFFlKHtsYXllclR5cGU6YX0sZSkpfX0pfX0pKSx0fWZ1bmN0aW9uIGZyKGUpe2NvbnN0IHQ9ZS52YWx1ZSxuPWUua2V5LGk9QWkodCk7cmV0dXJuXCJzdHJpbmdcIiE9PWk/W25ldyBXaShuLHQsYHN0cmluZyBleHBlY3RlZCwgJHtpfSBmb3VuZGApXTpbXX1jb25zdCBtcj17cHJvbW90ZUlkOmZ1bmN0aW9uKHtrZXk6ZSx2YWx1ZTp0fSl7aWYoXCJzdHJpbmdcIj09PUFpKHQpKXJldHVybiBmcih7a2V5OmUsdmFsdWU6dH0pO3tjb25zdCBuPVtdO2Zvcihjb25zdCBpIGluIHQpbi5wdXNoKC4uLmZyKHtrZXk6YCR7ZX0uJHtpfWAsdmFsdWU6dFtpXX0pKTtyZXR1cm4gbn19fTtmdW5jdGlvbiBncihlKXtjb25zdCB0PWUudmFsdWUsbj1lLmtleSxpPWUuc3R5bGVTcGVjLHI9ZS5zdHlsZTtpZighdC50eXBlKXJldHVybltuZXcgV2kobix0LCdcInR5cGVcIiBpcyByZXF1aXJlZCcpXTtjb25zdCBvPUtlKHQudHlwZSk7bGV0IGE7c3dpdGNoKG8pe2Nhc2VcInZlY3RvclwiOmNhc2VcInJhc3RlclwiOmNhc2VcInJhc3Rlci1kZW1cIjpyZXR1cm4gYT1xaSh7a2V5Om4sdmFsdWU6dCx2YWx1ZVNwZWM6aVtcInNvdXJjZV9cIitvLnJlcGxhY2UoXCItXCIsXCJfXCIpXSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzppLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOm1yfSksYTtjYXNlXCJnZW9qc29uXCI6aWYoYT1xaSh7a2V5Om4sdmFsdWU6dCx2YWx1ZVNwZWM6aS5zb3VyY2VfZ2VvanNvbixzdHlsZTpyLHN0eWxlU3BlYzppLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOm1yfSksdC5jbHVzdGVyKWZvcihjb25zdCBlIGluIHQuY2x1c3RlclByb3BlcnRpZXMpe2NvbnN0W2kscl09dC5jbHVzdGVyUHJvcGVydGllc1tlXSxvPVwic3RyaW5nXCI9PXR5cGVvZiBpP1tpLFtcImFjY3VtdWxhdGVkXCJdLFtcImdldFwiLGVdXTppO2EucHVzaCguLi5ZaSh7a2V5OmAke259LiR7ZX0ubWFwYCx2YWx1ZTpyLGV4cHJlc3Npb25Db250ZXh0OlwiY2x1c3Rlci1tYXBcIn0pKSxhLnB1c2goLi4uWWkoe2tleTpgJHtufS4ke2V9LnJlZHVjZWAsdmFsdWU6byxleHByZXNzaW9uQ29udGV4dDpcImNsdXN0ZXItcmVkdWNlXCJ9KSl9cmV0dXJuIGE7Y2FzZVwidmlkZW9cIjpyZXR1cm4gcWkoe2tleTpuLHZhbHVlOnQsdmFsdWVTcGVjOmkuc291cmNlX3ZpZGVvLHN0eWxlOnIsc3R5bGVTcGVjOml9KTtjYXNlXCJpbWFnZVwiOnJldHVybiBxaSh7a2V5Om4sdmFsdWU6dCx2YWx1ZVNwZWM6aS5zb3VyY2VfaW1hZ2Usc3R5bGU6cixzdHlsZVNwZWM6aX0pO2Nhc2VcImNhbnZhc1wiOnJldHVybltuZXcgV2kobixudWxsLFwiUGxlYXNlIHVzZSBydW50aW1lIEFQSXMgdG8gYWRkIGNhbnZhcyBzb3VyY2VzLCByYXRoZXIgdGhhbiBpbmNsdWRpbmcgdGhlbSBpbiBzdHlsZXNoZWV0cy5cIixcInNvdXJjZS5jYW52YXNcIildO2RlZmF1bHQ6cmV0dXJuIEppKHtrZXk6bitcIi50eXBlXCIsdmFsdWU6dC50eXBlLHZhbHVlU3BlYzp7dmFsdWVzOnlyKGkpfSxzdHlsZTpyLHN0eWxlU3BlYzppfSl9fWZ1bmN0aW9uIHlyKGUpe3JldHVybiBlLnNvdXJjZS5yZWR1Y2UoKHQsbik9Pntjb25zdCBpPWVbbl07cmV0dXJuXCJlbnVtXCI9PT1pLnR5cGUudHlwZSYmKHQ9dC5jb25jYXQoT2JqZWN0LmtleXMoaS50eXBlLnZhbHVlcykpKSx0fSxbXSl9ZnVuY3Rpb24gX3IoZSl7Y29uc3QgdD1lLnZhbHVlLG49ZS5zdHlsZVNwZWMsaT1uLmxpZ2h0LHI9ZS5zdHlsZTtsZXQgbz1bXTtjb25zdCBhPUFpKHQpO2lmKHZvaWQgMD09PXQpcmV0dXJuIG87aWYoXCJvYmplY3RcIiE9PWEpcmV0dXJuIG89by5jb25jYXQoW25ldyBXaShcImxpZ2h0XCIsdCxgb2JqZWN0IGV4cGVjdGVkLCAke2F9IGZvdW5kYCldKSxvO2Zvcihjb25zdCBlIGluIHQpe2NvbnN0IGE9ZS5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtvPW8uY29uY2F0KGEmJmlbYVsxXV0mJmlbYVsxXV0udHJhbnNpdGlvbj93cih7a2V5OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6bi50cmFuc2l0aW9uLHN0eWxlOnIsc3R5bGVTcGVjOm59KTppW2VdP3dyKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzppW2VdLHN0eWxlOnIsc3R5bGVTcGVjOm59KTpbbmV3IFdpKGUsdFtlXSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7ZX1cImApXSl9cmV0dXJuIG99ZnVuY3Rpb24gdnIoZSl7Y29uc3QgdD1lLnZhbHVlLG49ZS5rZXksaT1lLnN0eWxlLHI9ZS5zdHlsZVNwZWMsbz1yLnRlcnJhaW47bGV0IGE9W107Y29uc3Qgcz1BaSh0KTtpZih2b2lkIDA9PT10KXJldHVybiBhO2lmKFwib2JqZWN0XCIhPT1zKXJldHVybiBhPWEuY29uY2F0KFtuZXcgV2koXCJ0ZXJyYWluXCIsdCxgb2JqZWN0IGV4cGVjdGVkLCAke3N9IGZvdW5kYCldKSxhO2Zvcihjb25zdCBlIGluIHQpe2NvbnN0IG49ZS5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTthPWEuY29uY2F0KG4mJm9bblsxXV0mJm9bblsxXV0udHJhbnNpdGlvbj93cih7a2V5OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6ci50cmFuc2l0aW9uLHN0eWxlOmksc3R5bGVTcGVjOnJ9KTpvW2VdP3dyKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzpvW2VdLHN0eWxlOmksc3R5bGVTcGVjOnJ9KTpbbmV3IFdpKGUsdFtlXSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7ZX1cImApXSl9aWYodC5zb3VyY2Upe2NvbnN0IGU9aS5zb3VyY2VzJiZpLnNvdXJjZXNbdC5zb3VyY2VdLHI9ZSYmS2UoZS50eXBlKTtlP1wicmFzdGVyLWRlbVwiIT09ciYmYS5wdXNoKG5ldyBXaShuLHQuc291cmNlLGB0ZXJyYWluIGNhbm5vdCBiZSB1c2VkIHdpdGggYSBzb3VyY2Ugb2YgdHlwZSAke1N0cmluZyhyKX0sIGl0IG9ubHkgYmUgdXNlZCB3aXRoIGEgXCJyYXN0ZXItZGVtXCIgc291cmNlIHR5cGVgKSk6YS5wdXNoKG5ldyBXaShuLHQuc291cmNlLGBzb3VyY2UgXCIke3Quc291cmNlfVwiIG5vdCBmb3VuZGApKX1lbHNlIGEucHVzaChuZXcgV2kobix0LCd0ZXJyYWluIGlzIG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzb3VyY2VcIicpKTtyZXR1cm4gYX1mdW5jdGlvbiB4cihlKXtjb25zdCB0PWUudmFsdWUsbj1lLnN0eWxlLGk9ZS5zdHlsZVNwZWMscj1pLmZvZztsZXQgbz1bXTtjb25zdCBhPUFpKHQpO2lmKHZvaWQgMD09PXQpcmV0dXJuIG87aWYoXCJvYmplY3RcIiE9PWEpcmV0dXJuIG89by5jb25jYXQoW25ldyBXaShcImZvZ1wiLHQsYG9iamVjdCBleHBlY3RlZCwgJHthfSBmb3VuZGApXSksbztmb3IoY29uc3QgZSBpbiB0KXtjb25zdCBhPWUubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7bz1vLmNvbmNhdChhJiZyW2FbMV1dJiZyW2FbMV1dLnRyYW5zaXRpb24/d3Ioe2tleTplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOmkudHJhbnNpdGlvbixzdHlsZTpuLHN0eWxlU3BlYzppfSk6cltlXT93cih7a2V5OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6cltlXSxzdHlsZTpuLHN0eWxlU3BlYzppfSk6W25ldyBXaShlLHRbZV0sYHVua25vd24gcHJvcGVydHkgXCIke2V9XCJgKV0pfXJldHVybiBvfWNvbnN0IGJyPXtcIipcIjooKT0+W10sYXJyYXk6JGksYm9vbGVhbjpmdW5jdGlvbihlKXtjb25zdCB0PWUudmFsdWUsbj1lLmtleSxpPUFpKHQpO3JldHVyblwiYm9vbGVhblwiIT09aT9bbmV3IFdpKG4sdCxgYm9vbGVhbiBleHBlY3RlZCwgJHtpfSBmb3VuZGApXTpbXX0sbnVtYmVyOkhpLGNvbG9yOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5rZXksbj1lLnZhbHVlLGk9QWkobik7cmV0dXJuXCJzdHJpbmdcIiE9PWk/W25ldyBXaSh0LG4sYGNvbG9yIGV4cGVjdGVkLCAke2l9IGZvdW5kYCldOm51bGw9PT1idChuKT9bbmV3IFdpKHQsbixgY29sb3IgZXhwZWN0ZWQsIFwiJHtufVwiIGZvdW5kYCldOltdfSxlbnVtOkppLGZpbHRlcjpjcixmdW5jdGlvbjpYaSxsYXllcjpwcixvYmplY3Q6cWksc291cmNlOmdyLGxpZ2h0Ol9yLHRlcnJhaW46dnIsZm9nOnhyLHN0cmluZzpmcixmb3JtYXR0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1mcihlKS5sZW5ndGg/W106WWkoZSl9LHJlc29sdmVkSW1hZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1mcihlKS5sZW5ndGg/W106WWkoZSl9LHByb2plY3Rpb246ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnZhbHVlLG49ZS5zdHlsZVNwZWMsaT1uLnByb2plY3Rpb24scj1lLnN0eWxlO2xldCBvPVtdO2NvbnN0IGE9QWkodCk7aWYoXCJvYmplY3RcIj09PWEpZm9yKGNvbnN0IGUgaW4gdClvPW8uY29uY2F0KHdyKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzppW2VdLHN0eWxlOnIsc3R5bGVTcGVjOm59KSk7ZWxzZVwic3RyaW5nXCIhPT1hJiYobz1vLmNvbmNhdChbbmV3IFdpKFwicHJvamVjdGlvblwiLHQsYG9iamVjdCBvciBzdHJpbmcgZXhwZWN0ZWQsICR7YX0gZm91bmRgKV0pKTtyZXR1cm4gb319O2Z1bmN0aW9uIHdyKGUpe2NvbnN0IHQ9ZS52YWx1ZSxuPWUudmFsdWVTcGVjLGk9ZS5zdHlsZVNwZWM7cmV0dXJuIG4uZXhwcmVzc2lvbiYmUGkoS2UodCkpP1hpKGUpOm4uZXhwcmVzc2lvbiYmRmkoZXQodCkpP1lpKGUpOm4udHlwZSYmYnJbbi50eXBlXT9icltuLnR5cGVdKGUpOnFpKFFlKHt9LGUse3ZhbHVlU3BlYzpuLnR5cGU/aVtuLnR5cGVdOm59KSl9ZnVuY3Rpb24gVHIoZSl7Y29uc3QgdD1lLnZhbHVlLG49ZS5rZXksaT1mcihlKTtyZXR1cm4gaS5sZW5ndGh8fCgtMT09PXQuaW5kZXhPZihcIntmb250c3RhY2t9XCIpJiZpLnB1c2gobmV3IFdpKG4sdCwnXCJnbHlwaHNcIiB1cmwgbXVzdCBpbmNsdWRlIGEgXCJ7Zm9udHN0YWNrfVwiIHRva2VuJykpLC0xPT09dC5pbmRleE9mKFwie3JhbmdlfVwiKSYmaS5wdXNoKG5ldyBXaShuLHQsJ1wiZ2x5cGhzXCIgdXJsIG11c3QgaW5jbHVkZSBhIFwie3JhbmdlfVwiIHRva2VuJykpKSxpfWZ1bmN0aW9uIEVyKGUsdD1KZSl7cmV0dXJuIElyKHdyKHtrZXk6XCJcIix2YWx1ZTplLHZhbHVlU3BlYzp0LiRyb290LHN0eWxlU3BlYzp0LHN0eWxlOmUsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e2dseXBoczpUcixcIipcIjooKT0+W119fSkpfWNvbnN0IFNyPWU9PklyKGhyKGUpKSxNcj1lPT5JcihkcihlKSk7ZnVuY3Rpb24gSXIoZSl7cmV0dXJuIGUuc2xpY2UoKS5zb3J0KChlLHQpPT5lLmxpbmUmJnQubGluZT9lLmxpbmUtdC5saW5lOjApfWZ1bmN0aW9uIENyKGUsdCl7bGV0IG49ITE7aWYodCYmdC5sZW5ndGgpZm9yKGNvbnN0IGkgb2YgdCllLmZpcmUobmV3IFhlKG5ldyBFcnJvcihpLm1lc3NhZ2UpKSksbj0hMDtyZXR1cm4gbn12YXIga3I9QXI7ZnVuY3Rpb24gQXIoZSx0LG4pe3ZhciBpPXRoaXMuY2VsbHM9W107aWYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt0aGlzLmFycmF5QnVmZmVyPWU7dmFyIHI9bmV3IEludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7ZT1yWzBdLHRoaXMuZD0odD1yWzFdKSsyKihuPXJbMl0pO2Zvcih2YXIgbz0wO288dGhpcy5kKnRoaXMuZDtvKyspe3ZhciBhPXJbMytvXSxzPXJbMytvKzFdO2kucHVzaChhPT09cz9udWxsOnIuc3ViYXJyYXkoYSxzKSl9dmFyIGw9clszK2kubGVuZ3RoKzFdO3RoaXMua2V5cz1yLnN1YmFycmF5KHJbMytpLmxlbmd0aF0sbCksdGhpcy5iYm94ZXM9ci5zdWJhcnJheShsKSx0aGlzLmluc2VydD10aGlzLl9pbnNlcnRSZWFkb25seX1lbHNle3RoaXMuZD10KzIqbjtmb3IodmFyIGM9MDtjPHRoaXMuZCp0aGlzLmQ7YysrKWkucHVzaChbXSk7dGhpcy5rZXlzPVtdLHRoaXMuYmJveGVzPVtdfXRoaXMubj10LHRoaXMuZXh0ZW50PWUsdGhpcy5wYWRkaW5nPW4sdGhpcy5zY2FsZT10L2UsdGhpcy51aWQ9MDt2YXIgdT1uL3QqZTt0aGlzLm1pbj0tdSx0aGlzLm1heD1lK3V9QXIucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbihlLHQsbixpLHIpe3RoaXMuX2ZvckVhY2hDZWxsKHQsbixpLHIsdGhpcy5faW5zZXJ0Q2VsbCx0aGlzLnVpZCsrKSx0aGlzLmtleXMucHVzaChlKSx0aGlzLmJib3hlcy5wdXNoKHQpLHRoaXMuYmJveGVzLnB1c2gobiksdGhpcy5iYm94ZXMucHVzaChpKSx0aGlzLmJib3hlcy5wdXNoKHIpfSxBci5wcm90b3R5cGUuX2luc2VydFJlYWRvbmx5PWZ1bmN0aW9uKCl7dGhyb3dcIkNhbm5vdCBpbnNlcnQgaW50byBhIEdyaWRJbmRleCBjcmVhdGVkIGZyb20gYW4gQXJyYXlCdWZmZXIuXCJ9LEFyLnByb3RvdHlwZS5faW5zZXJ0Q2VsbD1mdW5jdGlvbihlLHQsbixpLHIsbyl7dGhpcy5jZWxsc1tyXS5wdXNoKG8pfSxBci5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24oZSx0LG4saSxyKXt2YXIgbz10aGlzLm1pbixhPXRoaXMubWF4O2lmKGU8PW8mJnQ8PW8mJmE8PW4mJmE8PWkmJiFyKXJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmtleXMpO3ZhciBzPVtdO3JldHVybiB0aGlzLl9mb3JFYWNoQ2VsbChlLHQsbixpLHRoaXMuX3F1ZXJ5Q2VsbCxzLHt9LHIpLHN9LEFyLnByb3RvdHlwZS5fcXVlcnlDZWxsPWZ1bmN0aW9uKGUsdCxuLGkscixvLGEscyl7dmFyIGw9dGhpcy5jZWxsc1tyXTtpZihudWxsIT09bClmb3IodmFyIGM9dGhpcy5rZXlzLHU9dGhpcy5iYm94ZXMsaD0wO2g8bC5sZW5ndGg7aCsrKXt2YXIgZD1sW2hdO2lmKHZvaWQgMD09PWFbZF0pe3ZhciBwPTQqZDsocz9zKHVbcCswXSx1W3ArMV0sdVtwKzJdLHVbcCszXSk6ZTw9dVtwKzJdJiZ0PD11W3ArM10mJm4+PXVbcCswXSYmaT49dVtwKzFdKT8oYVtkXT0hMCxvLnB1c2goY1tkXSkpOmFbZF09ITF9fX0sQXIucHJvdG90eXBlLl9mb3JFYWNoQ2VsbD1mdW5jdGlvbihlLHQsbixpLHIsbyxhLHMpe2Zvcih2YXIgbD10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQoZSksYz10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQodCksdT10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQobiksaD10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQoaSksZD1sO2Q8PXU7ZCsrKWZvcih2YXIgcD1jO3A8PWg7cCsrKXt2YXIgZj10aGlzLmQqcCtkO2lmKCghc3x8cyh0aGlzLl9jb252ZXJ0RnJvbUNlbGxDb29yZChkKSx0aGlzLl9jb252ZXJ0RnJvbUNlbGxDb29yZChwKSx0aGlzLl9jb252ZXJ0RnJvbUNlbGxDb29yZChkKzEpLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKHArMSkpKSYmci5jYWxsKHRoaXMsZSx0LG4saSxmLG8sYSxzKSlyZXR1cm59fSxBci5wcm90b3R5cGUuX2NvbnZlcnRGcm9tQ2VsbENvb3JkPWZ1bmN0aW9uKGUpe3JldHVybihlLXRoaXMucGFkZGluZykvdGhpcy5zY2FsZX0sQXIucHJvdG90eXBlLl9jb252ZXJ0VG9DZWxsQ29vcmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy5kLTEsTWF0aC5mbG9vcihlKnRoaXMuc2NhbGUpK3RoaXMucGFkZGluZykpfSxBci5wcm90b3R5cGUudG9BcnJheUJ1ZmZlcj1mdW5jdGlvbigpe2lmKHRoaXMuYXJyYXlCdWZmZXIpcmV0dXJuIHRoaXMuYXJyYXlCdWZmZXI7Zm9yKHZhciBlPXRoaXMuY2VsbHMsdD0zK3RoaXMuY2VsbHMubGVuZ3RoKzErMSxuPTAsaT0wO2k8dGhpcy5jZWxscy5sZW5ndGg7aSsrKW4rPXRoaXMuY2VsbHNbaV0ubGVuZ3RoO3ZhciByPW5ldyBJbnQzMkFycmF5KHQrbit0aGlzLmtleXMubGVuZ3RoK3RoaXMuYmJveGVzLmxlbmd0aCk7clswXT10aGlzLmV4dGVudCxyWzFdPXRoaXMubixyWzJdPXRoaXMucGFkZGluZztmb3IodmFyIG89dCxhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBzPWVbYV07clszK2FdPW8sci5zZXQocyxvKSxvKz1zLmxlbmd0aH1yZXR1cm4gclszK2UubGVuZ3RoXT1vLHIuc2V0KHRoaXMua2V5cyxvKSxyWzMrZS5sZW5ndGgrMV09bys9dGhpcy5rZXlzLmxlbmd0aCxyLnNldCh0aGlzLmJib3hlcyxvKSxvKz10aGlzLmJib3hlcy5sZW5ndGgsci5idWZmZXJ9O2NvbnN0IFByPXt9O2Z1bmN0aW9uIHpyKGUsdCxuPXt9KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9jbGFzc1JlZ2lzdHJ5S2V5XCIse3ZhbHVlOnQsd3JpdGVhYmxlOiExfSksUHJbdF09e2tsYXNzOmUsb21pdDpuLm9taXR8fFtdfX16cihPYmplY3QsXCJPYmplY3RcIiksa3Iuc2VyaWFsaXplPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1lLnRvQXJyYXlCdWZmZXIoKTtyZXR1cm4gdCYmdC5wdXNoKG4pLHtidWZmZXI6bn19LGtyLmRlc2VyaWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcga3IoZS5idWZmZXIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoa3IsXCJuYW1lXCIse3ZhbHVlOlwiR3JpZFwifSksenIoa3IsXCJHcmlkXCIpLHpyKEN0LFwiQ29sb3JcIiksenIoRXJyb3IsXCJFcnJvclwiKSx6cihzZSxcIkFKQVhFcnJvclwiKSx6cih6dCxcIlJlc29sdmVkSW1hZ2VcIiksenIoWmksXCJTdHlsZVByb3BlcnR5RnVuY3Rpb25cIiksenIoamksXCJTdHlsZUV4cHJlc3Npb25cIix7b21pdDpbXCJfZXZhbHVhdG9yXCJdfSksenIoVmksXCJab29tRGVwZW5kZW50RXhwcmVzc2lvblwiKSx6cihVaSxcIlpvb21Db25zdGFudEV4cHJlc3Npb25cIiksenIoSnQsXCJDb21wb3VuZEV4cHJlc3Npb25cIix7b21pdDpbXCJfZXZhbHVhdGVcIl19KTtmb3IoY29uc3QgZSBpbiBFaSlQcltFaVtlXS5fY2xhc3NSZWdpc3RyeUtleV18fHpyKEVpW2VdLFwiRXhwcmVzc2lvblwiK2UpO2Z1bmN0aW9uIERyKGUpe3JldHVybiBlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fGUuY29uc3RydWN0b3ImJlwiQXJyYXlCdWZmZXJcIj09PWUuY29uc3RydWN0b3IubmFtZSl9ZnVuY3Rpb24gTHIoZSl7cmV0dXJuIG4uSW1hZ2VCaXRtYXAmJmUgaW5zdGFuY2VvZiBuLkltYWdlQml0bWFwfWZ1bmN0aW9uIE9yKGUsdCl7aWYobnVsbD09ZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBCb29sZWFufHxlIGluc3RhbmNlb2YgTnVtYmVyfHxlIGluc3RhbmNlb2YgU3RyaW5nfHxlIGluc3RhbmNlb2YgRGF0ZXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cClyZXR1cm4gZTtpZihEcihlKXx8THIoZSkpcmV0dXJuIHQmJnQucHVzaChlKSxlO2lmKEFycmF5QnVmZmVyLmlzVmlldyhlKSl7Y29uc3Qgbj1lO3JldHVybiB0JiZ0LnB1c2gobi5idWZmZXIpLG59aWYoZSBpbnN0YW5jZW9mIG4uSW1hZ2VEYXRhKXJldHVybiB0JiZ0LnB1c2goZS5kYXRhLmJ1ZmZlciksZTtpZihBcnJheS5pc0FycmF5KGUpKXtjb25zdCBuPVtdO2Zvcihjb25zdCBpIG9mIGUpbi5wdXNoKE9yKGksdCkpO3JldHVybiBufWlmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtjb25zdCBuPWUuY29uc3RydWN0b3IsaT1uLl9jbGFzc1JlZ2lzdHJ5S2V5O2lmKCFpKXRocm93IG5ldyBFcnJvcihcImNhbid0IHNlcmlhbGl6ZSBvYmplY3Qgb2YgdW5yZWdpc3RlcmVkIGNsYXNzIFwiK2kpO2NvbnN0IHI9bi5zZXJpYWxpemU/bi5zZXJpYWxpemUoZSx0KTp7fTtpZighbi5zZXJpYWxpemUpe2Zvcihjb25zdCBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKFByW2ldLm9taXQuaW5kZXhPZihuKT49MHx8KHJbbl09T3IoZVtuXSx0KSkpO2UgaW5zdGFuY2VvZiBFcnJvciYmKHIubWVzc2FnZT1lLm1lc3NhZ2UpfWlmKHIuJG5hbWUpdGhyb3cgbmV3IEVycm9yKFwiJG5hbWUgcHJvcGVydHkgaXMgcmVzZXJ2ZWQgZm9yIHdvcmtlciBzZXJpYWxpemF0aW9uIGxvZ2ljLlwiKTtyZXR1cm5cIk9iamVjdFwiIT09aSYmKHIuJG5hbWU9aSkscn10aHJvdyBuZXcgRXJyb3IoXCJjYW4ndCBzZXJpYWxpemUgb2JqZWN0IG9mIHR5cGUgXCIrdHlwZW9mIGUpfWZ1bmN0aW9uIFJyKGUpe2lmKG51bGw9PWV8fFwiYm9vbGVhblwiPT10eXBlb2YgZXx8XCJudW1iZXJcIj09dHlwZW9mIGV8fFwic3RyaW5nXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgQm9vbGVhbnx8ZSBpbnN0YW5jZW9mIE51bWJlcnx8ZSBpbnN0YW5jZW9mIFN0cmluZ3x8ZSBpbnN0YW5jZW9mIERhdGV8fGUgaW5zdGFuY2VvZiBSZWdFeHB8fERyKGUpfHxMcihlKXx8QXJyYXlCdWZmZXIuaXNWaWV3KGUpfHxlIGluc3RhbmNlb2Ygbi5JbWFnZURhdGEpcmV0dXJuIGU7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5tYXAoUnIpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtjb25zdCB0PWUuJG5hbWV8fFwiT2JqZWN0XCIse2tsYXNzOm59PVByW3RdO2lmKCFuKXRocm93IG5ldyBFcnJvcihcImNhbid0IGRlc2VyaWFsaXplIHVucmVnaXN0ZXJlZCBjbGFzcyBcIit0KTtpZihuLmRlc2VyaWFsaXplKXJldHVybiBuLmRlc2VyaWFsaXplKGUpO2NvbnN0IGk9T2JqZWN0LmNyZWF0ZShuLnByb3RvdHlwZSk7Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXMoZSkpXCIkbmFtZVwiIT09dCYmKGlbdF09UnIoZVt0XSkpO3JldHVybiBpfXRocm93IG5ldyBFcnJvcihcImNhbid0IGRlc2VyaWFsaXplIG9iamVjdCBvZiB0eXBlIFwiK3R5cGVvZiBlKX1jb25zdCBCcj1lPT5lPj0xNTM2JiZlPD0xNzkxLGpyPWU9PmU+PTE4NzImJmU8PTE5MTksRnI9ZT0+ZT49MjIwOCYmZTw9MjMwMyxOcj1lPT5lPj0xMTkwNCYmZTw9MTIwMzEsVXI9ZT0+ZT49MTIwMzImJmU8PTEyMjU1LFZyPWU9PmU+PTEyMjcyJiZlPD0xMjI4NyxHcj1lPT5lPj0xMjI4OCYmZTw9MTIzNTEsWnI9ZT0+ZT49MTIzNTImJmU8PTEyNDQ3LFdyPWU9PmU+PTEyNDQ4JiZlPD0xMjU0Myxxcj1lPT5lPj0xMjU0NCYmZTw9MTI1OTEsJHI9ZT0+ZT49MTI3MDQmJmU8PTEyNzM1LEhyPWU9PmU+PTEyNzM2JiZlPD0xMjc4MyxYcj1lPT5lPj0xMjc4NCYmZTw9MTI3OTksWXI9ZT0+ZT49MTI4MDAmJmU8PTEzMDU1LEpyPWU9PmU+PTEzMDU2JiZlPD0xMzMxMSxRcj1lPT5lPj0xMzMxMiYmZTw9MTk5MDMsS3I9ZT0+ZT49MTk5NjgmJmU8PTQwOTU5LGVvPWU9PmU+PTQwOTYwJiZlPD00MjEyNyx0bz1lPT5lPj00MjEyOCYmZTw9NDIxOTEsbm89ZT0+ZT49NDQwMzImJmU8PTU1MjE1LGlvPWU9PmU+PTYzNzQ0JiZlPD02NDI1NSxybz1lPT5lPj02NDMzNiYmZTw9NjUwMjMsb289ZT0+ZT49NjUwNDAmJmU8PTY1MDU1LGFvPWU9PmU+PTY1MDcyJiZlPD02NTEwMyxzbz1lPT5lPj02NTEwNCYmZTw9NjUxMzUsbG89ZT0+ZT49NjUxMzYmJmU8PTY1Mjc5LGNvPWU9PmU+PTY1MjgwJiZlPD02NTUxOTtmdW5jdGlvbiB1byhlKXtmb3IoY29uc3QgdCBvZiBlKWlmKGZvKHQuY2hhckNvZGVBdCgwKSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gaG8oZSl7Zm9yKGNvbnN0IHQgb2YgZSlpZighcG8odC5jaGFyQ29kZUF0KDApKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBwbyhlKXtyZXR1cm4hKEJyKGUpfHxqcihlKXx8RnIoZSl8fHJvKGUpfHxsbyhlKSl9ZnVuY3Rpb24gZm8oZSl7cmV0dXJuISg3NDYhPT1lJiY3NDchPT1lJiYoZTw0MzUyfHwhKCRyKGUpfHxxcihlKXx8YW8oZSkmJiEoZT49NjUwOTcmJmU8PTY1MTAzKXx8aW8oZSl8fEpyKGUpfHxOcihlKXx8SHIoZSl8fCEoIUdyKGUpfHxlPj0xMjI5NiYmZTw9MTIzMDV8fGU+PTEyMzA4JiZlPD0xMjMxOXx8MTIzMzY9PT1lKXx8UXIoZSl8fEtyKGUpfHxZcihlKXx8KGU9PmU+PTEyNTkyJiZlPD0xMjY4NykoZSl8fChlPT5lPj00MzM2MCYmZTw9NDMzOTEpKGUpfHwoZT0+ZT49NTUyMTYmJmU8PTU1Mjk1KShlKXx8KGU9PmU+PTQzNTImJmU8PTQ2MDcpKGUpfHxubyhlKXx8WnIoZSl8fFZyKGUpfHwoZT0+ZT49MTI2ODgmJmU8PTEyNzAzKShlKXx8VXIoZSl8fFhyKGUpfHxXcihlKSYmMTI1NDAhPT1lfHwhKCFjbyhlKXx8NjUyODg9PT1lfHw2NTI4OT09PWV8fDY1MjkzPT09ZXx8ZT49NjUzMDYmJmU8PTY1MzEwfHw2NTMzOT09PWV8fDY1MzQxPT09ZXx8NjUzNDM9PT1lfHxlPj02NTM3MSYmZTw9NjU1MDN8fDY1NTA3PT09ZXx8ZT49NjU1MTImJmU8PTY1NTE5KXx8ISghc28oZSl8fGU+PTY1MTEyJiZlPD02NTExOHx8ZT49NjUxMjMmJmU8PTY1MTI2KXx8KGU9PmU+PTUxMjAmJmU8PTU3NTkpKGUpfHwoZT0+ZT49NjMyMCYmZTw9NjM5OSkoZSl8fG9vKGUpfHwoZT0+ZT49MTk5MDQmJmU8PTE5OTY3KShlKXx8ZW8oZSl8fHRvKGUpKSkpfWZ1bmN0aW9uIG1vKGUpe3JldHVybiEoZm8oZSl8fGZ1bmN0aW9uKGUpe3JldHVybiEhKChlPT5lPj0xMjgmJmU8PTI1NSkoZSkmJigxNjc9PT1lfHwxNjk9PT1lfHwxNzQ9PT1lfHwxNzc9PT1lfHwxODg9PT1lfHwxODk9PT1lfHwxOTA9PT1lfHwyMTU9PT1lfHwyNDc9PT1lKXx8KGU9PmU+PTgxOTImJmU8PTgzMDMpKGUpJiYoODIxND09PWV8fDgyMjQ9PT1lfHw4MjI1PT09ZXx8ODI0MD09PWV8fDgyNDE9PT1lfHw4MjUxPT09ZXx8ODI1Mj09PWV8fDgyNTg9PT1lfHw4MjYzPT09ZXx8ODI2ND09PWV8fDgyNjU9PT1lfHw4MjczPT09ZSl8fChlPT5lPj04NDQ4JiZlPD04NTI3KShlKXx8KGU9PmU+PTg1MjgmJmU8PTg1OTEpKGUpfHwoZT0+ZT49ODk2MCYmZTw9OTIxNSkoZSkmJihlPj04OTYwJiZlPD04OTY3fHxlPj04OTcyJiZlPD04OTkxfHxlPj04OTk2JiZlPD05ZTN8fDkwMDM9PT1lfHxlPj05MDg1JiZlPD05MTE0fHxlPj05MTUwJiZlPD05MTY1fHw5MTY3PT09ZXx8ZT49OTE2OSYmZTw9OTE3OXx8ZT49OTE4NiYmZTw9OTIxNSl8fChlPT5lPj05MjE2JiZlPD05Mjc5KShlKSYmOTI1MSE9PWV8fChlPT5lPj05MjgwJiZlPD05MzExKShlKXx8KGU9PmU+PTkzMTImJmU8PTk0NzEpKGUpfHwoZT0+ZT49OTYzMiYmZTw9OTcyNykoZSl8fChlPT5lPj05NzI4JiZlPD05OTgzKShlKSYmIShlPj05NzU0JiZlPD05NzU5KXx8KGU9PmU+PTExMDA4JiZlPD0xMTI2MykoZSkmJihlPj0xMTAyNiYmZTw9MTEwNTV8fGU+PTExMDg4JiZlPD0xMTA5N3x8ZT49MTExOTImJmU8PTExMjQzKXx8R3IoZSl8fFdyKGUpfHwoZT0+ZT49NTczNDQmJmU8PTYzNzQzKShlKXx8YW8oZSl8fHNvKGUpfHxjbyhlKXx8ODczND09PWV8fDg3NTY9PT1lfHw4NzU3PT09ZXx8ZT49OTk4NCYmZTw9MTAwODd8fGU+PTEwMTAyJiZlPD0xMDEzMXx8NjU1MzI9PT1lfHw2NTUzMz09PWUpfShlKSl9ZnVuY3Rpb24gZ28oZSl7cmV0dXJuIGU+PTE0MjQmJmU8PTIzMDN8fHJvKGUpfHxsbyhlKX1mdW5jdGlvbiB5byhlLHQpe3JldHVybiEoIXQmJmdvKGUpfHxlPj0yMzA0JiZlPD0zNTgzfHxlPj0zODQwJiZlPD00MjU1fHwoZT0+ZT49NjAxNiYmZTw9NjE0MykoZSkpfWZ1bmN0aW9uIF9vKGUpe2Zvcihjb25zdCB0IG9mIGUpaWYoZ28odC5jaGFyQ29kZUF0KDApKSlyZXR1cm4hMDtyZXR1cm4hMX1jb25zdCB2bz1cImRlZmVycmVkXCIseG89XCJsb2FkaW5nXCIsYm89XCJsb2FkZWRcIjtsZXQgd289bnVsbCxUbz1cInVuYXZhaWxhYmxlXCIsRW89bnVsbDtjb25zdCBTbz1mdW5jdGlvbihlKXtlJiZcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5pbmRleE9mKFwiTmV0d29ya0Vycm9yXCIpPi0xJiYoVG89XCJlcnJvclwiKSx3byYmd28oZSl9O2Z1bmN0aW9uIE1vKCl7SW8uZmlyZShuZXcgSGUoXCJwbHVnaW5TdGF0ZUNoYW5nZVwiLHtwbHVnaW5TdGF0dXM6VG8scGx1Z2luVVJMOkVvfSkpfWNvbnN0IElvPW5ldyBZZSxDbz1mdW5jdGlvbigpe3JldHVybiBUb30sa289ZnVuY3Rpb24oKXtpZihUbyE9PXZvfHwhRW8pdGhyb3cgbmV3IEVycm9yKFwicnRsLXRleHQtcGx1Z2luIGNhbm5vdCBiZSBkb3dubG9hZGVkIHVubGVzcyBhIHBsdWdpblVSTCBpcyBzcGVjaWZpZWRcIik7VG89eG8sTW8oKSxFbyYmdWUoe3VybDpFb30sZT0+e2U/U28oZSk6KFRvPWJvLE1vKCkpfSl9LEFvPXthcHBseUFyYWJpY1NoYXBpbmc6bnVsbCxwcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQ6bnVsbCxwcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ6bnVsbCxpc0xvYWRlZDooKT0+VG89PT1ib3x8bnVsbCE9QW8uYXBwbHlBcmFiaWNTaGFwaW5nLGlzTG9hZGluZzooKT0+VG89PT14byxzZXRTdGF0ZShlKXtUbz1lLnBsdWdpblN0YXR1cyxFbz1lLnBsdWdpblVSTH0saXNQYXJzZWQ6KCk9Pm51bGwhPUFvLmFwcGx5QXJhYmljU2hhcGluZyYmbnVsbCE9QW8ucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0JiZudWxsIT1Bby5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQsZ2V0UGx1Z2luVVJMOigpPT5Fb307Y2xhc3MgUG97Y29uc3RydWN0b3IoZSx0KXt0aGlzLnpvb209ZSx0Pyh0aGlzLm5vdz10Lm5vdyx0aGlzLmZhZGVEdXJhdGlvbj10LmZhZGVEdXJhdGlvbix0aGlzLnRyYW5zaXRpb249dC50cmFuc2l0aW9uLHRoaXMucGl0Y2g9dC5waXRjaCk6KHRoaXMubm93PTAsdGhpcy5mYWRlRHVyYXRpb249MCx0aGlzLnRyYW5zaXRpb249e30sdGhpcy5waXRjaD0wKX1pc1N1cHBvcnRlZFNjcmlwdChlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IoY29uc3QgbiBvZiBlKWlmKCF5byhuLmNoYXJDb2RlQXQoMCksdCkpcmV0dXJuITE7cmV0dXJuITB9KGUsQW8uaXNMb2FkZWQoKSl9fWNsYXNzIHpve2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wcm9wZXJ0eT1lLHRoaXMudmFsdWU9dCx0aGlzLmV4cHJlc3Npb249ZnVuY3Rpb24oZSx0KXtpZihQaShlKSlyZXR1cm4gbmV3IFppKGUsdCk7aWYoRmkoZSkpe2NvbnN0IG49R2koZSx0KTtpZihcImVycm9yXCI9PT1uLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Iobi52YWx1ZS5tYXAoZT0+YCR7ZS5rZXl9OiAke2UubWVzc2FnZX1gKS5qb2luKFwiLCBcIikpO3JldHVybiBuLnZhbHVlfXtsZXQgbj1lO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiZcImNvbG9yXCI9PT10LnR5cGUmJihuPUN0LnBhcnNlKGUpKSx7a2luZDpcImNvbnN0YW50XCIsZXZhbHVhdGU6KCk9Pm59fX0odm9pZCAwPT09dD9lLnNwZWNpZmljYXRpb24uZGVmYXVsdDp0LGUuc3BlY2lmaWNhdGlvbil9aXNEYXRhRHJpdmVuKCl7cmV0dXJuXCJzb3VyY2VcIj09PXRoaXMuZXhwcmVzc2lvbi5raW5kfHxcImNvbXBvc2l0ZVwiPT09dGhpcy5leHByZXNzaW9uLmtpbmR9cG9zc2libHlFdmFsdWF0ZShlLHQsbil7cmV0dXJuIHRoaXMucHJvcGVydHkucG9zc2libHlFdmFsdWF0ZSh0aGlzLGUsdCxuKX19Y2xhc3MgRG97Y29uc3RydWN0b3IoZSl7dGhpcy5wcm9wZXJ0eT1lLHRoaXMudmFsdWU9bmV3IHpvKGUsdm9pZCAwKX10cmFuc2l0aW9uZWQoZSx0KXtyZXR1cm4gbmV3IE9vKHRoaXMucHJvcGVydHksdGhpcy52YWx1ZSx0LEEoe30sZS50cmFuc2l0aW9uLHRoaXMudHJhbnNpdGlvbiksZS5ub3cpfXVudHJhbnNpdGlvbmVkKCl7cmV0dXJuIG5ldyBPbyh0aGlzLnByb3BlcnR5LHRoaXMudmFsdWUsbnVsbCx7fSwwKX19Y2xhc3MgTG97Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJvcGVydGllcz1lLHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKGUuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXMpfWdldFZhbHVlKGUpe3JldHVybiBOKHRoaXMuX3ZhbHVlc1tlXS52YWx1ZS52YWx1ZSl9c2V0VmFsdWUoZSx0KXt0aGlzLl92YWx1ZXMuaGFzT3duUHJvcGVydHkoZSl8fCh0aGlzLl92YWx1ZXNbZV09bmV3IERvKHRoaXMuX3ZhbHVlc1tlXS5wcm9wZXJ0eSkpLHRoaXMuX3ZhbHVlc1tlXS52YWx1ZT1uZXcgem8odGhpcy5fdmFsdWVzW2VdLnByb3BlcnR5LG51bGw9PT10P3ZvaWQgMDpOKHQpKX1nZXRUcmFuc2l0aW9uKGUpe3JldHVybiBOKHRoaXMuX3ZhbHVlc1tlXS50cmFuc2l0aW9uKX1zZXRUcmFuc2l0aW9uKGUsdCl7dGhpcy5fdmFsdWVzLmhhc093blByb3BlcnR5KGUpfHwodGhpcy5fdmFsdWVzW2VdPW5ldyBEbyh0aGlzLl92YWx1ZXNbZV0ucHJvcGVydHkpKSx0aGlzLl92YWx1ZXNbZV0udHJhbnNpdGlvbj1OKHQpfHx2b2lkIDB9c2VyaWFsaXplKCl7Y29uc3QgZT17fTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKXtjb25zdCBuPXRoaXMuZ2V0VmFsdWUodCk7dm9pZCAwIT09biYmKGVbdF09bik7Y29uc3QgaT10aGlzLmdldFRyYW5zaXRpb24odCk7dm9pZCAwIT09aSYmKGVbdCtcIi10cmFuc2l0aW9uXCJdPWkpfXJldHVybiBlfXRyYW5zaXRpb25lZChlLHQpe2NvbnN0IG49bmV3IFJvKHRoaXMuX3Byb3BlcnRpZXMpO2Zvcihjb25zdCBpIG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpbi5fdmFsdWVzW2ldPXRoaXMuX3ZhbHVlc1tpXS50cmFuc2l0aW9uZWQoZSx0Ll92YWx1ZXNbaV0pO3JldHVybiBufXVudHJhbnNpdGlvbmVkKCl7Y29uc3QgZT1uZXcgUm8odGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSllLl92YWx1ZXNbdF09dGhpcy5fdmFsdWVzW3RdLnVudHJhbnNpdGlvbmVkKCk7cmV0dXJuIGV9fWNsYXNzIE9ve2NvbnN0cnVjdG9yKGUsdCxuLGkscil7Y29uc3Qgbz1pLmRlbGF5fHwwLGE9aS5kdXJhdGlvbnx8MDtyPXJ8fDAsdGhpcy5wcm9wZXJ0eT1lLHRoaXMudmFsdWU9dCx0aGlzLmJlZ2luPXIrbyx0aGlzLmVuZD10aGlzLmJlZ2luK2EsZS5zcGVjaWZpY2F0aW9uLnRyYW5zaXRpb24mJihpLmRlbGF5fHxpLmR1cmF0aW9uKSYmKHRoaXMucHJpb3I9bil9cG9zc2libHlFdmFsdWF0ZShlLHQsbil7Y29uc3QgaT1lLm5vd3x8MCxyPXRoaXMudmFsdWUucG9zc2libHlFdmFsdWF0ZShlLHQsbiksbz10aGlzLnByaW9yO2lmKG8pe2lmKGk+dGhpcy5lbmQpcmV0dXJuIHRoaXMucHJpb3I9bnVsbCxyO2lmKHRoaXMudmFsdWUuaXNEYXRhRHJpdmVuKCkpcmV0dXJuIHRoaXMucHJpb3I9bnVsbCxyO2lmKGk8dGhpcy5iZWdpbilyZXR1cm4gby5wb3NzaWJseUV2YWx1YXRlKGUsdCxuKTt7Y29uc3QgYT0oaS10aGlzLmJlZ2luKS8odGhpcy5lbmQtdGhpcy5iZWdpbik7cmV0dXJuIHRoaXMucHJvcGVydHkuaW50ZXJwb2xhdGUoby5wb3NzaWJseUV2YWx1YXRlKGUsdCxuKSxyLHcoYSkpfX1yZXR1cm4gcn19Y2xhc3MgUm97Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJvcGVydGllcz1lLHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKGUuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlcyl9cG9zc2libHlFdmFsdWF0ZShlLHQsbil7Y29uc3QgaT1uZXcgRm8odGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IHIgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSlpLl92YWx1ZXNbcl09dGhpcy5fdmFsdWVzW3JdLnBvc3NpYmx5RXZhbHVhdGUoZSx0LG4pO3JldHVybiBpfWhhc1RyYW5zaXRpb24oKXtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKWlmKHRoaXMuX3ZhbHVlc1tlXS5wcmlvcilyZXR1cm4hMDtyZXR1cm4hMX19Y2xhc3MgQm97Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJvcGVydGllcz1lLHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKGUuZGVmYXVsdFByb3BlcnR5VmFsdWVzKX1nZXRWYWx1ZShlKXtyZXR1cm4gTih0aGlzLl92YWx1ZXNbZV0udmFsdWUpfXNldFZhbHVlKGUsdCl7dGhpcy5fdmFsdWVzW2VdPW5ldyB6byh0aGlzLl92YWx1ZXNbZV0ucHJvcGVydHksbnVsbD09PXQ/dm9pZCAwOk4odCkpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSl7Y29uc3Qgbj10aGlzLmdldFZhbHVlKHQpO3ZvaWQgMCE9PW4mJihlW3RdPW4pfXJldHVybiBlfXBvc3NpYmx5RXZhbHVhdGUoZSx0LG4pe2NvbnN0IGk9bmV3IEZvKHRoaXMuX3Byb3BlcnRpZXMpO2Zvcihjb25zdCByIG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpaS5fdmFsdWVzW3JdPXRoaXMuX3ZhbHVlc1tyXS5wb3NzaWJseUV2YWx1YXRlKGUsdCxuKTtyZXR1cm4gaX19Y2xhc3Mgam97Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMucHJvcGVydHk9ZSx0aGlzLnZhbHVlPXQsdGhpcy5wYXJhbWV0ZXJzPW59aXNDb25zdGFudCgpe3JldHVyblwiY29uc3RhbnRcIj09PXRoaXMudmFsdWUua2luZH1jb25zdGFudE9yKGUpe3JldHVyblwiY29uc3RhbnRcIj09PXRoaXMudmFsdWUua2luZD90aGlzLnZhbHVlLnZhbHVlOmV9ZXZhbHVhdGUoZSx0LG4saSl7cmV0dXJuIHRoaXMucHJvcGVydHkuZXZhbHVhdGUodGhpcy52YWx1ZSx0aGlzLnBhcmFtZXRlcnMsZSx0LG4saSl9fWNsYXNzIEZve2NvbnN0cnVjdG9yKGUpe3RoaXMuX3Byb3BlcnRpZXM9ZSx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZShlLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlcyl9Z2V0KGUpe3JldHVybiB0aGlzLl92YWx1ZXNbZV19fWNsYXNzIE5ve2NvbnN0cnVjdG9yKGUpe3RoaXMuc3BlY2lmaWNhdGlvbj1lfXBvc3NpYmx5RXZhbHVhdGUoZSx0KXtyZXR1cm4gZS5leHByZXNzaW9uLmV2YWx1YXRlKHQpfWludGVycG9sYXRlKGUsdCxuKXtjb25zdCBpPWtuW3RoaXMuc3BlY2lmaWNhdGlvbi50eXBlXTtyZXR1cm4gaT9pKGUsdCxuKTplfX1jbGFzcyBVb3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuc3BlY2lmaWNhdGlvbj1lLHRoaXMub3ZlcnJpZGVzPXR9cG9zc2libHlFdmFsdWF0ZShlLHQsbixpKXtyZXR1cm4gbmV3IGpvKHRoaXMsXCJjb25zdGFudFwiPT09ZS5leHByZXNzaW9uLmtpbmR8fFwiY2FtZXJhXCI9PT1lLmV4cHJlc3Npb24ua2luZD97a2luZDpcImNvbnN0YW50XCIsdmFsdWU6ZS5leHByZXNzaW9uLmV2YWx1YXRlKHQsbnVsbCx7fSxuLGkpfTplLmV4cHJlc3Npb24sdCl9aW50ZXJwb2xhdGUoZSx0LG4pe2lmKFwiY29uc3RhbnRcIiE9PWUudmFsdWUua2luZHx8XCJjb25zdGFudFwiIT09dC52YWx1ZS5raW5kKXJldHVybiBlO2lmKHZvaWQgMD09PWUudmFsdWUudmFsdWV8fHZvaWQgMD09PXQudmFsdWUudmFsdWUpcmV0dXJuIG5ldyBqbyh0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTp2b2lkIDB9LGUucGFyYW1ldGVycyk7Y29uc3QgaT1rblt0aGlzLnNwZWNpZmljYXRpb24udHlwZV07cmV0dXJuIGk/bmV3IGpvKHRoaXMse2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOmkoZS52YWx1ZS52YWx1ZSx0LnZhbHVlLnZhbHVlLG4pfSxlLnBhcmFtZXRlcnMpOmV9ZXZhbHVhdGUoZSx0LG4saSxyLG8pe3JldHVyblwiY29uc3RhbnRcIj09PWUua2luZD9lLnZhbHVlOmUuZXZhbHVhdGUodCxuLGkscixvKX19Y2xhc3MgVm97Y29uc3RydWN0b3IoZSl7dGhpcy5zcGVjaWZpY2F0aW9uPWV9cG9zc2libHlFdmFsdWF0ZShlLHQsbixpKXtyZXR1cm4hIWUuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0LG51bGwse30sbixpKX1pbnRlcnBvbGF0ZSgpe3JldHVybiExfX1jbGFzcyBHb3tjb25zdHJ1Y3RvcihlKXt0aGlzLnByb3BlcnRpZXM9ZSx0aGlzLmRlZmF1bHRQcm9wZXJ0eVZhbHVlcz17fSx0aGlzLmRlZmF1bHRUcmFuc2l0aW9uYWJsZVByb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlcz17fSx0aGlzLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlcz17fSx0aGlzLm92ZXJyaWRhYmxlUHJvcGVydGllcz1bXTtjb25zdCB0PW5ldyBQbygwLHt9KTtmb3IoY29uc3QgbiBpbiBlKXtjb25zdCBpPWVbbl07aS5zcGVjaWZpY2F0aW9uLm92ZXJyaWRhYmxlJiZ0aGlzLm92ZXJyaWRhYmxlUHJvcGVydGllcy5wdXNoKG4pO2NvbnN0IHI9dGhpcy5kZWZhdWx0UHJvcGVydHlWYWx1ZXNbbl09bmV3IHpvKGksdm9pZCAwKSxvPXRoaXMuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXNbbl09bmV3IERvKGkpO3RoaXMuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlc1tuXT1vLnVudHJhbnNpdGlvbmVkKCksdGhpcy5kZWZhdWx0UG9zc2libHlFdmFsdWF0ZWRWYWx1ZXNbbl09ci5wb3NzaWJseUV2YWx1YXRlKHQpfX19ZnVuY3Rpb24gWm8oZSx0KXtyZXR1cm4gMjU2KihlPVMoTWF0aC5mbG9vcihlKSwwLDI1NSkpK1MoTWF0aC5mbG9vcih0KSwwLDI1NSl9enIoVW8sXCJEYXRhRHJpdmVuUHJvcGVydHlcIiksenIoTm8sXCJEYXRhQ29uc3RhbnRQcm9wZXJ0eVwiKSx6cihWbyxcIkNvbG9yUmFtcFByb3BlcnR5XCIpO2NvbnN0IFdvPXtJbnQ4OkludDhBcnJheSxVaW50ODpVaW50OEFycmF5LEludDE2OkludDE2QXJyYXksVWludDE2OlVpbnQxNkFycmF5LEludDMyOkludDMyQXJyYXksVWludDMyOlVpbnQzMkFycmF5LEZsb2F0MzI6RmxvYXQzMkFycmF5fTtjbGFzcyBxb3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX3N0cnVjdEFycmF5PWUsdGhpcy5fcG9zMT10KnRoaXMuc2l6ZSx0aGlzLl9wb3MyPXRoaXMuX3BvczEvMix0aGlzLl9wb3M0PXRoaXMuX3BvczEvNCx0aGlzLl9wb3M4PXRoaXMuX3BvczEvOH19Y2xhc3MgJG97Y29uc3RydWN0b3IoKXt0aGlzLmlzVHJhbnNmZXJyZWQ9ITEsdGhpcy5jYXBhY2l0eT0tMSx0aGlzLnJlc2l6ZSgwKX1zdGF0aWMgc2VyaWFsaXplKGUsdCl7cmV0dXJuIGUuX3RyaW0oKSx0JiYoZS5pc1RyYW5zZmVycmVkPSEwLHQucHVzaChlLmFycmF5QnVmZmVyKSkse2xlbmd0aDplLmxlbmd0aCxhcnJheUJ1ZmZlcjplLmFycmF5QnVmZmVyfX1zdGF0aWMgZGVzZXJpYWxpemUoZSl7Y29uc3QgdD1PYmplY3QuY3JlYXRlKHRoaXMucHJvdG90eXBlKTtyZXR1cm4gdC5hcnJheUJ1ZmZlcj1lLmFycmF5QnVmZmVyLHQubGVuZ3RoPWUubGVuZ3RoLHQuY2FwYWNpdHk9ZS5hcnJheUJ1ZmZlci5ieXRlTGVuZ3RoL3QuYnl0ZXNQZXJFbGVtZW50LHQuX3JlZnJlc2hWaWV3cygpLHR9X3RyaW0oKXt0aGlzLmxlbmd0aCE9PXRoaXMuY2FwYWNpdHkmJih0aGlzLmNhcGFjaXR5PXRoaXMubGVuZ3RoLHRoaXMuYXJyYXlCdWZmZXI9dGhpcy5hcnJheUJ1ZmZlci5zbGljZSgwLHRoaXMubGVuZ3RoKnRoaXMuYnl0ZXNQZXJFbGVtZW50KSx0aGlzLl9yZWZyZXNoVmlld3MoKSl9Y2xlYXIoKXt0aGlzLmxlbmd0aD0wfXJlc2l6ZShlKXt0aGlzLnJlc2VydmUoZSksdGhpcy5sZW5ndGg9ZX1yZXNlcnZlKGUpe2lmKGU+dGhpcy5jYXBhY2l0eSl7dGhpcy5jYXBhY2l0eT1NYXRoLm1heChlLE1hdGguZmxvb3IoNSp0aGlzLmNhcGFjaXR5KSwxMjgpLHRoaXMuYXJyYXlCdWZmZXI9bmV3IEFycmF5QnVmZmVyKHRoaXMuY2FwYWNpdHkqdGhpcy5ieXRlc1BlckVsZW1lbnQpO2NvbnN0IHQ9dGhpcy51aW50ODt0aGlzLl9yZWZyZXNoVmlld3MoKSx0JiZ0aGlzLnVpbnQ4LnNldCh0KX19X3JlZnJlc2hWaWV3cygpe3Rocm93IG5ldyBFcnJvcihcIl9yZWZyZXNoVmlld3MoKSBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggY29uY3JldGUgU3RydWN0QXJyYXkgbGF5b3V0XCIpfWRlc3Ryb3koKXt0aGlzLmludDg9dGhpcy51aW50OD10aGlzLmludDE2PXRoaXMudWludDE2PXRoaXMuaW50MzI9dGhpcy51aW50MzI9dGhpcy5mbG9hdDMyPW51bGwsdGhpcy5hcnJheUJ1ZmZlcj1udWxsfX1mdW5jdGlvbiBIbyhlLHQ9MSl7bGV0IG49MCxpPTA7cmV0dXJue21lbWJlcnM6ZS5tYXAoZT0+e2NvbnN0IHI9V29bZS50eXBlXS5CWVRFU19QRVJfRUxFTUVOVCxvPW49WG8obixNYXRoLm1heCh0LHIpKSxhPWUuY29tcG9uZW50c3x8MTtyZXR1cm4gaT1NYXRoLm1heChpLHIpLG4rPXIqYSx7bmFtZTplLm5hbWUsdHlwZTplLnR5cGUsY29tcG9uZW50czphLG9mZnNldDpvfX0pLHNpemU6WG8obixNYXRoLm1heChpLHQpKSxhbGlnbm1lbnQ6dH19ZnVuY3Rpb24gWG8oZSx0KXtyZXR1cm4gTWF0aC5jZWlsKGUvdCkqdH1jbGFzcyBZbyBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0KXtjb25zdCBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLGUsdCl9ZW1wbGFjZShlLHQsbil7Y29uc3QgaT0yKmU7cmV0dXJuIHRoaXMuaW50MTZbaSswXT10LHRoaXMuaW50MTZbaSsxXT1uLGV9fVlvLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCx6cihZbyxcIlN0cnVjdEFycmF5TGF5b3V0Mmk0XCIpO2NsYXNzIEpvIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbil7Y29uc3QgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSxlLHQsbil9ZW1wbGFjZShlLHQsbixpKXtjb25zdCByPTMqZTtyZXR1cm4gdGhpcy5pbnQxNltyKzBdPXQsdGhpcy5pbnQxNltyKzFdPW4sdGhpcy5pbnQxNltyKzJdPWksZX19Sm8ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD02LHpyKEpvLFwiU3RydWN0QXJyYXlMYXlvdXQzaTZcIik7Y2xhc3MgUW8gZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxuLGkpe2NvbnN0IHI9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHIrMSksdGhpcy5lbXBsYWNlKHIsZSx0LG4saSl9ZW1wbGFjZShlLHQsbixpLHIpe2NvbnN0IG89NCplO3JldHVybiB0aGlzLmludDE2W28rMF09dCx0aGlzLmludDE2W28rMV09bix0aGlzLmludDE2W28rMl09aSx0aGlzLmludDE2W28rM109cixlfX1Rby5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgsenIoUW8sXCJTdHJ1Y3RBcnJheUxheW91dDRpOFwiKTtjbGFzcyBLbyBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4saSxyLG8sYSl7Y29uc3Qgcz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocysxKSx0aGlzLmVtcGxhY2UocyxlLHQsbixpLHIsbyxhKX1lbXBsYWNlKGUsdCxuLGkscixvLGEscyl7Y29uc3QgbD02KmUsYz0xMiplLHU9MyplO3JldHVybiB0aGlzLmludDE2W2wrMF09dCx0aGlzLmludDE2W2wrMV09bix0aGlzLnVpbnQ4W2MrNF09aSx0aGlzLnVpbnQ4W2MrNV09cix0aGlzLnVpbnQ4W2MrNl09byx0aGlzLnVpbnQ4W2MrN109YSx0aGlzLmZsb2F0MzJbdSsyXT1zLGV9fUtvLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsenIoS28sXCJTdHJ1Y3RBcnJheUxheW91dDJpNHViMWYxMlwiKTtjbGFzcyBlYSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxuLGkpe2NvbnN0IHI9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHIrMSksdGhpcy5lbXBsYWNlKHIsZSx0LG4saSl9ZW1wbGFjZShlLHQsbixpLHIpe2NvbnN0IG89NCplO3JldHVybiB0aGlzLmZsb2F0MzJbbyswXT10LHRoaXMuZmxvYXQzMltvKzFdPW4sdGhpcy5mbG9hdDMyW28rMl09aSx0aGlzLmZsb2F0MzJbbyszXT1yLGV9fWVhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTYsenIoZWEsXCJTdHJ1Y3RBcnJheUxheW91dDRmMTZcIik7Y2xhc3MgdGEgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4saSxyKXtjb25zdCBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLGUsdCxuLGkscil9ZW1wbGFjZShlLHQsbixpLHIsbyl7Y29uc3QgYT02KmUscz0zKmU7cmV0dXJuIHRoaXMudWludDE2W2ErMF09dCx0aGlzLnVpbnQxNlthKzFdPW4sdGhpcy51aW50MTZbYSsyXT1pLHRoaXMudWludDE2W2ErM109cix0aGlzLmZsb2F0MzJbcysyXT1vLGV9fXRhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsenIodGEsXCJTdHJ1Y3RBcnJheUxheW91dDR1aTFmMTJcIik7Y2xhc3MgbmEgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4saSl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2UocixlLHQsbixpKX1lbXBsYWNlKGUsdCxuLGkscil7Y29uc3Qgbz00KmU7cmV0dXJuIHRoaXMudWludDE2W28rMF09dCx0aGlzLnVpbnQxNltvKzFdPW4sdGhpcy51aW50MTZbbysyXT1pLHRoaXMudWludDE2W28rM109cixlfX1uYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgsenIobmEsXCJTdHJ1Y3RBcnJheUxheW91dDR1aThcIik7Y2xhc3MgaWEgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxuLGkscixvKXtjb25zdCBhPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShhKzEpLHRoaXMuZW1wbGFjZShhLGUsdCxuLGkscixvKX1lbXBsYWNlKGUsdCxuLGkscixvLGEpe2NvbnN0IHM9NiplO3JldHVybiB0aGlzLmludDE2W3MrMF09dCx0aGlzLmludDE2W3MrMV09bix0aGlzLmludDE2W3MrMl09aSx0aGlzLmludDE2W3MrM109cix0aGlzLmludDE2W3MrNF09byx0aGlzLmludDE2W3MrNV09YSxlfX1pYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLHpyKGlhLFwiU3RydWN0QXJyYXlMYXlvdXQ2aTEyXCIpO2NsYXNzIHJhIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgpe2NvbnN0IGQ9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGQrMSksdGhpcy5lbXBsYWNlKGQsZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgpfWVtcGxhY2UoZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCl7Y29uc3QgcD0xMiplO3JldHVybiB0aGlzLmludDE2W3ArMF09dCx0aGlzLmludDE2W3ArMV09bix0aGlzLmludDE2W3ArMl09aSx0aGlzLmludDE2W3ArM109cix0aGlzLnVpbnQxNltwKzRdPW8sdGhpcy51aW50MTZbcCs1XT1hLHRoaXMudWludDE2W3ArNl09cyx0aGlzLnVpbnQxNltwKzddPWwsdGhpcy5pbnQxNltwKzhdPWMsdGhpcy5pbnQxNltwKzldPXUsdGhpcy5pbnQxNltwKzEwXT1oLHRoaXMuaW50MTZbcCsxMV09ZCxlfX1yYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTI0LHpyKHJhLFwiU3RydWN0QXJyYXlMYXlvdXQ0aTR1aTRpMjRcIik7Y2xhc3Mgb2EgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxuLGkscixvKXtjb25zdCBhPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShhKzEpLHRoaXMuZW1wbGFjZShhLGUsdCxuLGkscixvKX1lbXBsYWNlKGUsdCxuLGkscixvLGEpe2NvbnN0IHM9MTAqZSxsPTUqZTtyZXR1cm4gdGhpcy5pbnQxNltzKzBdPXQsdGhpcy5pbnQxNltzKzFdPW4sdGhpcy5pbnQxNltzKzJdPWksdGhpcy5mbG9hdDMyW2wrMl09cix0aGlzLmZsb2F0MzJbbCszXT1vLHRoaXMuZmxvYXQzMltsKzRdPWEsZX19b2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yMCx6cihvYSxcIlN0cnVjdEFycmF5TGF5b3V0M2kzZjIwXCIpO2NsYXNzIGFhIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUpe2NvbnN0IHQ9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHQrMSksdGhpcy5lbXBsYWNlKHQsZSl9ZW1wbGFjZShlLHQpe3JldHVybiB0aGlzLnVpbnQzMlsxKmUrMF09dCxlfX1hYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsenIoYWEsXCJTdHJ1Y3RBcnJheUxheW91dDF1bDRcIik7Y2xhc3Mgc2EgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCl7Y29uc3QgcD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocCsxKSx0aGlzLmVtcGxhY2UocCxlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkKX1lbXBsYWNlKGUsdCxuLGkscixvLGEscyxsLGMsdSxoLGQscCl7Y29uc3QgZj0yMCplLG09MTAqZTtyZXR1cm4gdGhpcy5pbnQxNltmKzBdPXQsdGhpcy5pbnQxNltmKzFdPW4sdGhpcy5pbnQxNltmKzJdPWksdGhpcy5pbnQxNltmKzNdPXIsdGhpcy5pbnQxNltmKzRdPW8sdGhpcy5mbG9hdDMyW20rM109YSx0aGlzLmZsb2F0MzJbbSs0XT1zLHRoaXMuZmxvYXQzMlttKzVdPWwsdGhpcy5mbG9hdDMyW20rNl09Yyx0aGlzLmludDE2W2YrMTRdPXUsdGhpcy51aW50MzJbbSs4XT1oLHRoaXMudWludDE2W2YrMThdPWQsdGhpcy51aW50MTZbZisxOV09cCxlfX1zYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQwLHpyKHNhLFwiU3RydWN0QXJyYXlMYXlvdXQ1aTRmMWkxdWwydWk0MFwiKTtjbGFzcyBsYSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4saSxyLG8sYSl7Y29uc3Qgcz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocysxKSx0aGlzLmVtcGxhY2UocyxlLHQsbixpLHIsbyxhKX1lbXBsYWNlKGUsdCxuLGkscixvLGEscyl7Y29uc3QgbD04KmU7cmV0dXJuIHRoaXMuaW50MTZbbCswXT10LHRoaXMuaW50MTZbbCsxXT1uLHRoaXMuaW50MTZbbCsyXT1pLHRoaXMuaW50MTZbbCs0XT1yLHRoaXMuaW50MTZbbCs1XT1vLHRoaXMuaW50MTZbbCs2XT1hLHRoaXMuaW50MTZbbCs3XT1zLGV9fWxhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTYsenIobGEsXCJTdHJ1Y3RBcnJheUxheW91dDNpMmkyaTE2XCIpO2NsYXNzIGNhIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbixpLHIpe2NvbnN0IG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sZSx0LG4saSxyKX1lbXBsYWNlKGUsdCxuLGkscixvKXtjb25zdCBhPTQqZSxzPTgqZTtyZXR1cm4gdGhpcy5mbG9hdDMyW2ErMF09dCx0aGlzLmZsb2F0MzJbYSsxXT1uLHRoaXMuZmxvYXQzMlthKzJdPWksdGhpcy5pbnQxNltzKzZdPXIsdGhpcy5pbnQxNltzKzddPW8sZX19Y2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNix6cihjYSxcIlN0cnVjdEFycmF5TGF5b3V0MmYxZjJpMTZcIik7Y2xhc3MgdWEgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbixpKXtjb25zdCByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLGUsdCxuLGkpfWVtcGxhY2UoZSx0LG4saSxyKXtjb25zdCBvPTEyKmUsYT0zKmU7cmV0dXJuIHRoaXMudWludDhbbyswXT10LHRoaXMudWludDhbbysxXT1uLHRoaXMuZmxvYXQzMlthKzFdPWksdGhpcy5mbG9hdDMyW2ErMl09cixlfX11YS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLHpyKHVhLFwiU3RydWN0QXJyYXlMYXlvdXQydWIyZjEyXCIpO2NsYXNzIGhhIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4pe2NvbnN0IGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksZSx0LG4pfWVtcGxhY2UoZSx0LG4saSl7Y29uc3Qgcj0zKmU7cmV0dXJuIHRoaXMuZmxvYXQzMltyKzBdPXQsdGhpcy5mbG9hdDMyW3IrMV09bix0aGlzLmZsb2F0MzJbcisyXT1pLGV9fWhhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsenIoaGEsXCJTdHJ1Y3RBcnJheUxheW91dDNmMTJcIik7Y2xhc3MgZGEgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4pe2NvbnN0IGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksZSx0LG4pfWVtcGxhY2UoZSx0LG4saSl7Y29uc3Qgcj0zKmU7cmV0dXJuIHRoaXMudWludDE2W3IrMF09dCx0aGlzLnVpbnQxNltyKzFdPW4sdGhpcy51aW50MTZbcisyXT1pLGV9fWRhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9Nix6cihkYSxcIlN0cnVjdEFycmF5TGF5b3V0M3VpNlwiKTtjbGFzcyBwYSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcseSxfLHYseCl7Y29uc3QgYj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYisxKSx0aGlzLmVtcGxhY2UoYixlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcseSxfLHYseCl9ZW1wbGFjZShlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcseSxfLHYseCxiKXtjb25zdCB3PTMwKmUsVD0xNSplLEU9NjAqZTtyZXR1cm4gdGhpcy5pbnQxNlt3KzBdPXQsdGhpcy5pbnQxNlt3KzFdPW4sdGhpcy5pbnQxNlt3KzJdPWksdGhpcy5mbG9hdDMyW1QrMl09cix0aGlzLmZsb2F0MzJbVCszXT1vLHRoaXMudWludDE2W3crOF09YSx0aGlzLnVpbnQxNlt3KzldPXMsdGhpcy51aW50MzJbVCs1XT1sLHRoaXMudWludDMyW1QrNl09Yyx0aGlzLnVpbnQzMltUKzddPXUsdGhpcy51aW50MTZbdysxNl09aCx0aGlzLnVpbnQxNlt3KzE3XT1kLHRoaXMudWludDE2W3crMThdPXAsdGhpcy5mbG9hdDMyW1QrMTBdPWYsdGhpcy5mbG9hdDMyW1QrMTFdPW0sdGhpcy51aW50OFtFKzQ4XT1nLHRoaXMudWludDhbRSs0OV09eSx0aGlzLnVpbnQ4W0UrNTBdPV8sdGhpcy51aW50MzJbVCsxM109dix0aGlzLmludDE2W3crMjhdPXgsdGhpcy51aW50OFtFKzU4XT1iLGV9fXBhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NjAsenIocGEsXCJTdHJ1Y3RBcnJheUxheW91dDNpMmYydWkzdWwzdWkyZjN1YjF1bDFpMXViNjBcIik7Y2xhc3MgZmEgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLHksXyx2LHgsYix3LFQsRSxTLE0sSSxDLGspe2NvbnN0IEE9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKEErMSksdGhpcy5lbXBsYWNlKEEsZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLHksXyx2LHgsYix3LFQsRSxTLE0sSSxDLGspfWVtcGxhY2UoZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLHksXyx2LHgsYix3LFQsRSxTLE0sSSxDLGssQSl7Y29uc3QgUD0zOCplLHo9MTkqZTtyZXR1cm4gdGhpcy5pbnQxNltQKzBdPXQsdGhpcy5pbnQxNltQKzFdPW4sdGhpcy5pbnQxNltQKzJdPWksdGhpcy5mbG9hdDMyW3orMl09cix0aGlzLmZsb2F0MzJbeiszXT1vLHRoaXMuaW50MTZbUCs4XT1hLHRoaXMuaW50MTZbUCs5XT1zLHRoaXMuaW50MTZbUCsxMF09bCx0aGlzLmludDE2W1ArMTFdPWMsdGhpcy5pbnQxNltQKzEyXT11LHRoaXMuaW50MTZbUCsxM109aCx0aGlzLnVpbnQxNltQKzE0XT1kLHRoaXMudWludDE2W1ArMTVdPXAsdGhpcy51aW50MTZbUCsxNl09Zix0aGlzLnVpbnQxNltQKzE3XT1tLHRoaXMudWludDE2W1ArMThdPWcsdGhpcy51aW50MTZbUCsxOV09eSx0aGlzLnVpbnQxNltQKzIwXT1fLHRoaXMudWludDE2W1ArMjFdPXYsdGhpcy51aW50MTZbUCsyMl09eCx0aGlzLnVpbnQxNltQKzIzXT1iLHRoaXMudWludDE2W1ArMjRdPXcsdGhpcy51aW50MTZbUCsyNV09VCx0aGlzLnVpbnQxNltQKzI2XT1FLHRoaXMudWludDE2W1ArMjddPVMsdGhpcy51aW50MTZbUCsyOF09TSx0aGlzLnVpbnQzMlt6KzE1XT1JLHRoaXMuZmxvYXQzMlt6KzE2XT1DLHRoaXMuZmxvYXQzMlt6KzE3XT1rLHRoaXMuZmxvYXQzMlt6KzE4XT1BLGV9fWZhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NzYsenIoZmEsXCJTdHJ1Y3RBcnJheUxheW91dDNpMmY2aTE1dWkxdWwzZjc2XCIpO2NsYXNzIG1hIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSl7Y29uc3QgdD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUodCsxKSx0aGlzLmVtcGxhY2UodCxlKX1lbXBsYWNlKGUsdCl7cmV0dXJuIHRoaXMuZmxvYXQzMlsxKmUrMF09dCxlfX1tYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsenIobWEsXCJTdHJ1Y3RBcnJheUxheW91dDFmNFwiKTtjbGFzcyBnYSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxuLGkscil7Y29uc3Qgbz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobysxKSx0aGlzLmVtcGxhY2UobyxlLHQsbixpLHIpfWVtcGxhY2UoZSx0LG4saSxyLG8pe2NvbnN0IGE9NSplO3JldHVybiB0aGlzLmZsb2F0MzJbYSswXT10LHRoaXMuZmxvYXQzMlthKzFdPW4sdGhpcy5mbG9hdDMyW2ErMl09aSx0aGlzLmZsb2F0MzJbYSszXT1yLHRoaXMuZmxvYXQzMlthKzRdPW8sZX19Z2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yMCx6cihnYSxcIlN0cnVjdEFycmF5TGF5b3V0NWYyMFwiKTtjbGFzcyB5YSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4saSl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2UocixlLHQsbixpKX1lbXBsYWNlKGUsdCxuLGkscil7Y29uc3Qgbz02KmU7cmV0dXJuIHRoaXMudWludDMyWzMqZSswXT10LHRoaXMudWludDE2W28rMl09bix0aGlzLnVpbnQxNltvKzNdPWksdGhpcy51aW50MTZbbys0XT1yLGV9fXlhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsenIoeWEsXCJTdHJ1Y3RBcnJheUxheW91dDF1bDN1aTEyXCIpO2NsYXNzIF9hIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCl7Y29uc3Qgbj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobisxKSx0aGlzLmVtcGxhY2UobixlLHQpfWVtcGxhY2UoZSx0LG4pe2NvbnN0IGk9MiplO3JldHVybiB0aGlzLnVpbnQxNltpKzBdPXQsdGhpcy51aW50MTZbaSsxXT1uLGV9fV9hLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCx6cihfYSxcIlN0cnVjdEFycmF5TGF5b3V0MnVpNFwiKTtjbGFzcyB2YSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlKXtjb25zdCB0PXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZSh0KzEpLHRoaXMuZW1wbGFjZSh0LGUpfWVtcGxhY2UoZSx0KXtyZXR1cm4gdGhpcy51aW50MTZbMSplKzBdPXQsZX19dmEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yLHpyKHZhLFwiU3RydWN0QXJyYXlMYXlvdXQxdWkyXCIpO2NsYXNzIHhhIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0KXtjb25zdCBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLGUsdCl9ZW1wbGFjZShlLHQsbil7Y29uc3QgaT0yKmU7cmV0dXJuIHRoaXMuZmxvYXQzMltpKzBdPXQsdGhpcy5mbG9hdDMyW2krMV09bixlfX14YS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgsenIoeGEsXCJTdHJ1Y3RBcnJheUxheW91dDJmOFwiKTtjbGFzcyBiYSBleHRlbmRzIHFve2dldCBwcm9qZWN0ZWRBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19Z2V0IHByb2plY3RlZEFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX1nZXQgcHJvamVjdGVkQW5jaG9yWigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzJdfWdldCB0aWxlQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzNdfWdldCB0aWxlQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzRdfWdldCB4MSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrM119Z2V0IHkxKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCs0XX1nZXQgeDIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzVdfWdldCB5Migpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrNl19Z2V0IHBhZGRpbmcoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxNF19Z2V0IGZlYXR1cmVJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCs4XX1nZXQgc291cmNlTGF5ZXJJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOF19Z2V0IGJ1Y2tldEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE5XX19YmEucHJvdG90eXBlLnNpemU9NDA7Y2xhc3Mgd2EgZXh0ZW5kcyBzYXtnZXQoZSl7cmV0dXJuIG5ldyBiYSh0aGlzLGUpfX16cih3YSxcIkNvbGxpc2lvbkJveEFycmF5XCIpO2NsYXNzIFRhIGV4dGVuZHMgcW97Z2V0IHByb2plY3RlZEFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX1nZXQgcHJvamVjdGVkQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzFdfWdldCBwcm9qZWN0ZWRBbmNob3JaKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19Z2V0IHRpbGVBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsyXX1nZXQgdGlsZUFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzNdfWdldCBnbHlwaFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrOF19Z2V0IG51bUdseXBocygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis5XX1nZXQgdmVydGV4U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCs1XX1nZXQgbGluZVN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrNl19Z2V0IGxpbmVMZW5ndGgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrN119Z2V0IHNlZ21lbnQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTZdfWdldCBsb3dlclNpemUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTddfWdldCB1cHBlclNpemUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMThdfWdldCBsaW5lT2Zmc2V0WCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTBdfWdldCBsaW5lT2Zmc2V0WSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTFdfWdldCB3cml0aW5nTW9kZSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzQ4XX1nZXQgcGxhY2VkT3JpZW50YXRpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs0OV19c2V0IHBsYWNlZE9yaWVudGF0aW9uKGUpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNDldPWV9Z2V0IGhpZGRlbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzUwXX1zZXQgaGlkZGVuKGUpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNTBdPWV9Z2V0IGNyb3NzVGlsZUlEKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzEzXX1zZXQgY3Jvc3NUaWxlSUQoZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTNdPWV9Z2V0IGFzc29jaWF0ZWRJY29uSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyOF19Z2V0IGZsaXBTdGF0ZSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzU4XX1zZXQgZmxpcFN0YXRlKGUpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNThdPWV9fVRhLnByb3RvdHlwZS5zaXplPTYwO2NsYXNzIEVhIGV4dGVuZHMgcGF7Z2V0KGUpe3JldHVybiBuZXcgVGEodGhpcyxlKX19enIoRWEsXCJQbGFjZWRTeW1ib2xBcnJheVwiKTtjbGFzcyBTYSBleHRlbmRzIHFve2dldCBwcm9qZWN0ZWRBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19Z2V0IHByb2plY3RlZEFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX1nZXQgcHJvamVjdGVkQW5jaG9yWigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzJdfWdldCB0aWxlQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMl19Z2V0IHRpbGVBbmNob3JZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCszXX1nZXQgcmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis4XX1nZXQgY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrOV19Z2V0IGxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxMF19Z2V0IHZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTFdfWdldCBwbGFjZWRJY29uU3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxMl19Z2V0IHZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTNdfWdldCBrZXkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTRdfWdldCB0ZXh0Qm94U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNV19Z2V0IHRleHRCb3hFbmRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNl19Z2V0IHZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTddfWdldCB2ZXJ0aWNhbFRleHRCb3hFbmRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOF19Z2V0IGljb25Cb3hTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE5XX1nZXQgaWNvbkJveEVuZEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIwXX1nZXQgdmVydGljYWxJY29uQm94U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyMV19Z2V0IHZlcnRpY2FsSWNvbkJveEVuZEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIyXX1nZXQgZmVhdHVyZUluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIzXX1nZXQgbnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjRdfWdldCBudW1WZXJ0aWNhbEdseXBoVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjVdfWdldCBudW1JY29uVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjZdfWdldCBudW1WZXJ0aWNhbEljb25WZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyN119Z2V0IHVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzI4XX1nZXQgY3Jvc3NUaWxlSUQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTVdfXNldCBjcm9zc1RpbGVJRChlKXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxNV09ZX1nZXQgdGV4dE9mZnNldDAoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzE2XX1nZXQgdGV4dE9mZnNldDEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzE3XX1nZXQgY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzE4XX19U2EucHJvdG90eXBlLnNpemU9NzY7Y2xhc3MgTWEgZXh0ZW5kcyBmYXtnZXQoZSl7cmV0dXJuIG5ldyBTYSh0aGlzLGUpfX16cihNYSxcIlN5bWJvbEluc3RhbmNlQXJyYXlcIik7Y2xhc3MgSWEgZXh0ZW5kcyBtYXtnZXRvZmZzZXRYKGUpe3JldHVybiB0aGlzLmZsb2F0MzJbMSplKzBdfX16cihJYSxcIkdseXBoT2Zmc2V0QXJyYXlcIik7Y2xhc3MgQ2EgZXh0ZW5kcyBZb3tnZXR4KGUpe3JldHVybiB0aGlzLmludDE2WzIqZSswXX1nZXR5KGUpe3JldHVybiB0aGlzLmludDE2WzIqZSsxXX19enIoQ2EsXCJTeW1ib2xMaW5lVmVydGV4QXJyYXlcIik7Y2xhc3Mga2EgZXh0ZW5kcyBxb3tnZXQgZmVhdHVyZUluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzBdfWdldCBzb3VyY2VMYXllckluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzJdfWdldCBidWNrZXRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMiszXX1nZXQgbGF5b3V0VmVydGV4QXJyYXlPZmZzZXQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrNF19fWthLnByb3RvdHlwZS5zaXplPTEyO2NsYXNzIEFhIGV4dGVuZHMgeWF7Z2V0KGUpe3JldHVybiBuZXcga2EodGhpcyxlKX19enIoQWEsXCJGZWF0dXJlSW5kZXhBcnJheVwiKTtjbGFzcyBQYSBleHRlbmRzIF9he2dldGFfY2VudHJvaWRfcG9zMChlKXtyZXR1cm4gdGhpcy51aW50MTZbMiplKzBdfWdldGFfY2VudHJvaWRfcG9zMShlKXtyZXR1cm4gdGhpcy51aW50MTZbMiplKzFdfX16cihQYSxcIkZpbGxFeHRydXNpb25DZW50cm9pZEFycmF5XCIpO2NvbnN0IHphPUhvKFt7bmFtZTpcImFfcGF0dGVyblwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9LHtuYW1lOlwiYV9waXhlbF9yYXRpb1wiLGNvbXBvbmVudHM6MSx0eXBlOlwiRmxvYXQzMlwifV0pLERhPUhvKFt7bmFtZTpcImFfZGFzaFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9XSk7dmFyIExhPXtleHBvcnRzOnt9fSxPYT17ZXhwb3J0czp7fX07T2EuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGkscixvLGEscyxsLGM7Zm9yKGk9ZS5sZW5ndGgtKG49MyZlLmxlbmd0aCkscj10LGE9MzQzMjkxODM1MyxzPTQ2MTg0NTkwNyxjPTA7YzxpOylsPTI1NSZlLmNoYXJDb2RlQXQoYyl8KDI1NSZlLmNoYXJDb2RlQXQoKytjKSk8PDh8KDI1NSZlLmNoYXJDb2RlQXQoKytjKSk8PDE2fCgyNTUmZS5jaGFyQ29kZUF0KCsrYykpPDwyNCwrK2Mscj0yNzQ5MisoNjU1MzUmKG89NSooNjU1MzUmKHI9KHJePWw9KDY1NTM1JihsPShsPSg2NTUzNSZsKSphKygoKGw+Pj4xNikqYSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTV8bD4+PjE3KSkqcysoKChsPj4+MTYpKnMmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSk8PDEzfHI+Pj4xOSkpKygoNSoocj4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KSkrKCg1ODk2NCsobz4+PjE2KSY2NTUzNSk8PDE2KTtzd2l0Y2gobD0wLG4pe2Nhc2UgMzpsXj0oMjU1JmUuY2hhckNvZGVBdChjKzIpKTw8MTY7Y2FzZSAyOmxePSgyNTUmZS5jaGFyQ29kZUF0KGMrMSkpPDw4O2Nhc2UgMTpyXj1sPSg2NTUzNSYobD0obD0oNjU1MzUmKGxePTI1NSZlLmNoYXJDb2RlQXQoYykpKSphKygoKGw+Pj4xNikqYSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTV8bD4+PjE3KSkqcysoKChsPj4+MTYpKnMmNjU1MzUpPDwxNikmNDI5NDk2NzI5NX1yZXR1cm4gcl49ZS5sZW5ndGgscj0yMjQ2ODIyNTA3Kig2NTUzNSYocl49cj4+PjE2KSkrKCgyMjQ2ODIyNTA3KihyPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUscj0zMjY2NDg5OTA5Kig2NTUzNSYocl49cj4+PjEzKSkrKCgzMjY2NDg5OTA5KihyPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsKHJePXI+Pj4xNik+Pj4wfTt2YXIgUmE9e2V4cG9ydHM6e319O1JhLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4saT1lLmxlbmd0aCxyPXReaSxvPTA7aT49NDspbj0xNTQwNDgzNDc3Kig2NTUzNSYobj0yNTUmZS5jaGFyQ29kZUF0KG8pfCgyNTUmZS5jaGFyQ29kZUF0KCsrbykpPDw4fCgyNTUmZS5jaGFyQ29kZUF0KCsrbykpPDwxNnwoMjU1JmUuY2hhckNvZGVBdCgrK28pKTw8MjQpKSsoKDE1NDA0ODM0NzcqKG4+Pj4xNikmNjU1MzUpPDwxNikscj0xNTQwNDgzNDc3Kig2NTUzNSZyKSsoKDE1NDA0ODM0NzcqKHI+Pj4xNikmNjU1MzUpPDwxNileKG49MTU0MDQ4MzQ3NyooNjU1MzUmKG5ePW4+Pj4yNCkpKygoMTU0MDQ4MzQ3Nyoobj4+PjE2KSY2NTUzNSk8PDE2KSksaS09NCwrK287c3dpdGNoKGkpe2Nhc2UgMzpyXj0oMjU1JmUuY2hhckNvZGVBdChvKzIpKTw8MTY7Y2FzZSAyOnJePSgyNTUmZS5jaGFyQ29kZUF0KG8rMSkpPDw4O2Nhc2UgMTpyPTE1NDA0ODM0NzcqKDY1NTM1JihyXj0yNTUmZS5jaGFyQ29kZUF0KG8pKSkrKCgxNTQwNDgzNDc3KihyPj4+MTYpJjY1NTM1KTw8MTYpfXJldHVybiByPTE1NDA0ODM0NzcqKDY1NTM1JihyXj1yPj4+MTMpKSsoKDE1NDA0ODM0NzcqKHI+Pj4xNikmNjU1MzUpPDwxNiksKHJePXI+Pj4xNSk+Pj4wfTt2YXIgQmE9T2EuZXhwb3J0cyxqYT1SYS5leHBvcnRzO0xhLmV4cG9ydHM9QmEsTGEuZXhwb3J0cy5tdXJtdXIzPUJhLExhLmV4cG9ydHMubXVybXVyMj1qYTtjbGFzcyBGYXtjb25zdHJ1Y3Rvcigpe3RoaXMuaWRzPVtdLHRoaXMucG9zaXRpb25zPVtdLHRoaXMuaW5kZXhlZD0hMX1hZGQoZSx0LG4saSl7dGhpcy5pZHMucHVzaChOYShlKSksdGhpcy5wb3NpdGlvbnMucHVzaCh0LG4saSl9Z2V0UG9zaXRpb25zKGUpe2NvbnN0IHQ9TmEoZSk7bGV0IG49MCxpPXRoaXMuaWRzLmxlbmd0aC0xO2Zvcig7bjxpOyl7Y29uc3QgZT1uK2k+PjE7dGhpcy5pZHNbZV0+PXQ/aT1lOm49ZSsxfWNvbnN0IHI9W107Zm9yKDt0aGlzLmlkc1tuXT09PXQ7KXIucHVzaCh7aW5kZXg6dGhpcy5wb3NpdGlvbnNbMypuXSxzdGFydDp0aGlzLnBvc2l0aW9uc1szKm4rMV0sZW5kOnRoaXMucG9zaXRpb25zWzMqbisyXX0pLG4rKztyZXR1cm4gcn1zdGF0aWMgc2VyaWFsaXplKGUsdCl7Y29uc3Qgbj1uZXcgRmxvYXQ2NEFycmF5KGUuaWRzKSxpPW5ldyBVaW50MzJBcnJheShlLnBvc2l0aW9ucyk7cmV0dXJuIGZ1bmN0aW9uIGUodCxuLGkscil7Zm9yKDtpPHI7KXtjb25zdCBvPXRbaStyPj4xXTtsZXQgYT1pLTEscz1yKzE7Zm9yKDs7KXtkb3thKyt9d2hpbGUodFthXTxvKTtkb3tzLS19d2hpbGUodFtzXT5vKTtpZihhPj1zKWJyZWFrO1VhKHQsYSxzKSxVYShuLDMqYSwzKnMpLFVhKG4sMyphKzEsMypzKzEpLFVhKG4sMyphKzIsMypzKzIpfXMtaTxyLXM/KGUodCxuLGkscyksaT1zKzEpOihlKHQsbixzKzEscikscj1zKX19KG4saSwwLG4ubGVuZ3RoLTEpLHQmJnQucHVzaChuLmJ1ZmZlcixpLmJ1ZmZlcikse2lkczpuLHBvc2l0aW9uczppfX1zdGF0aWMgZGVzZXJpYWxpemUoZSl7Y29uc3QgdD1uZXcgRmE7cmV0dXJuIHQuaWRzPWUuaWRzLHQucG9zaXRpb25zPWUucG9zaXRpb25zLHQuaW5kZXhlZD0hMCx0fX1mdW5jdGlvbiBOYShlKXtjb25zdCB0PStlO3JldHVybiFpc05hTih0KSYmTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVI8PXQmJnQ8PU51bWJlci5NQVhfU0FGRV9JTlRFR0VSP3Q6TGEuZXhwb3J0cyhTdHJpbmcoZSkpfWZ1bmN0aW9uIFVhKGUsdCxuKXtjb25zdCBpPWVbdF07ZVt0XT1lW25dLGVbbl09aX16cihGYSxcIkZlYXR1cmVQb3NpdGlvbk1hcFwiKTtjbGFzcyBWYXtjb25zdHJ1Y3RvcihlKXt0aGlzLmdsPWUuZ2wsdGhpcy5pbml0aWFsaXplZD0hMX1mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpe3JldHVybiB0aGlzLmxvY2F0aW9ufHx0aGlzLmluaXRpYWxpemVkfHwodGhpcy5sb2NhdGlvbj10aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihlLHQpLHRoaXMuaW5pdGlhbGl6ZWQ9ITApLCEhdGhpcy5sb2NhdGlvbn19Y2xhc3MgR2EgZXh0ZW5kcyBWYXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmN1cnJlbnQ9MH1zZXQoZSx0LG4pe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmdGhpcy5jdXJyZW50IT09biYmKHRoaXMuY3VycmVudD1uLHRoaXMuZ2wudW5pZm9ybTFmKHRoaXMubG9jYXRpb24sbikpfX1jbGFzcyBaYSBleHRlbmRzIFZhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1bMCwwLDAsMF19c2V0KGUsdCxuKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkmJihuWzBdPT09dGhpcy5jdXJyZW50WzBdJiZuWzFdPT09dGhpcy5jdXJyZW50WzFdJiZuWzJdPT09dGhpcy5jdXJyZW50WzJdJiZuWzNdPT09dGhpcy5jdXJyZW50WzNdfHwodGhpcy5jdXJyZW50PW4sdGhpcy5nbC51bmlmb3JtNGYodGhpcy5sb2NhdGlvbixuWzBdLG5bMV0sblsyXSxuWzNdKSkpfX1jbGFzcyBXYSBleHRlbmRzIFZhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1DdC50cmFuc3BhcmVudH1zZXQoZSx0LG4pe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmKG4ucj09PXRoaXMuY3VycmVudC5yJiZuLmc9PT10aGlzLmN1cnJlbnQuZyYmbi5iPT09dGhpcy5jdXJyZW50LmImJm4uYT09PXRoaXMuY3VycmVudC5hfHwodGhpcy5jdXJyZW50PW4sdGhpcy5nbC51bmlmb3JtNGYodGhpcy5sb2NhdGlvbixuLnIsbi5nLG4uYixuLmEpKSl9fWNvbnN0IHFhPW5ldyBGbG9hdDMyQXJyYXkoMTYpLCRhPW5ldyBGbG9hdDMyQXJyYXkoOSksSGE9bmV3IEZsb2F0MzJBcnJheSg0KTtmdW5jdGlvbiBYYShlKXtyZXR1cm5bWm8oMjU1KmUuciwyNTUqZS5nKSxabygyNTUqZS5iLDI1NSplLmEpXX1jbGFzcyBZYXtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy52YWx1ZT1lLHRoaXMudW5pZm9ybU5hbWVzPXQubWFwKGU9PlwidV9cIitlKSx0aGlzLnR5cGU9bn1zZXRVbmlmb3JtKGUsdCxuLGkscil7dC5zZXQoZSxyLGkuY29uc3RhbnRPcih0aGlzLnZhbHVlKSl9Z2V0QmluZGluZyhlLHQpe3JldHVyblwiY29sb3JcIj09PXRoaXMudHlwZT9uZXcgV2EoZSk6bmV3IEdhKGUpfX1jbGFzcyBKYXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMudW5pZm9ybU5hbWVzPXQubWFwKGU9PlwidV9cIitlKSx0aGlzLnBhdHRlcm49bnVsbCx0aGlzLnBpeGVsUmF0aW89MX1zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoZSl7dGhpcy5waXhlbFJhdGlvPWUucGl4ZWxSYXRpb3x8MSx0aGlzLnBhdHRlcm49ZS50bC5jb25jYXQoZS5icil9c2V0VW5pZm9ybShlLHQsbixpLHIpe2NvbnN0IG89XCJ1X3BhdHRlcm5cIj09PXJ8fFwidV9kYXNoXCI9PT1yP3RoaXMucGF0dGVybjpcInVfcGl4ZWxfcmF0aW9cIj09PXI/dGhpcy5waXhlbFJhdGlvOm51bGw7byYmdC5zZXQoZSxyLG8pfWdldEJpbmRpbmcoZSx0KXtyZXR1cm5cInVfcGF0dGVyblwiPT09dHx8XCJ1X2Rhc2hcIj09PXQ/bmV3IFphKGUpOm5ldyBHYShlKX19Y2xhc3MgUWF7Y29uc3RydWN0b3IoZSx0LG4saSl7dGhpcy5leHByZXNzaW9uPWUsdGhpcy50eXBlPW4sdGhpcy5tYXhWYWx1ZT0wLHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzPXQubWFwKGU9Pih7bmFtZTpcImFfXCIrZSx0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6XCJjb2xvclwiPT09bj8yOjEsb2Zmc2V0OjB9KSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBpfXBvcHVsYXRlUGFpbnRBcnJheShlLHQsbixpLHIsbyl7Y29uc3QgYT10aGlzLnBhaW50VmVydGV4QXJyYXkubGVuZ3RoLHM9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBQbygwKSx0LHt9LHIsaSxvKTt0aGlzLnBhaW50VmVydGV4QXJyYXkucmVzaXplKGUpLHRoaXMuX3NldFBhaW50VmFsdWUoYSxlLHMpfXVwZGF0ZVBhaW50QXJyYXkoZSx0LG4saSxyKXtjb25zdCBvPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTowfSxuLGksdm9pZCAwLHIpO3RoaXMuX3NldFBhaW50VmFsdWUoZSx0LG8pfV9zZXRQYWludFZhbHVlKGUsdCxuKXtpZihcImNvbG9yXCI9PT10aGlzLnR5cGUpe2NvbnN0IGk9WGEobik7Zm9yKGxldCBuPWU7bjx0O24rKyl0aGlzLnBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShuLGlbMF0saVsxXSl9ZWxzZXtmb3IobGV0IGk9ZTtpPHQ7aSsrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKGksbik7dGhpcy5tYXhWYWx1ZT1NYXRoLm1heCh0aGlzLm1heFZhbHVlLE1hdGguYWJzKG4pKX19dXBsb2FkKGUpe3RoaXMucGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy5wYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5idWZmZXI/dGhpcy5wYWludFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSk6dGhpcy5wYWludFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKX1kZXN0cm95KCl7dGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCl9fWNsYXNzIEthe2NvbnN0cnVjdG9yKGUsdCxuLGkscixvKXt0aGlzLmV4cHJlc3Npb249ZSx0aGlzLnVuaWZvcm1OYW1lcz10Lm1hcChlPT5gdV8ke2V9X3RgKSx0aGlzLnR5cGU9bix0aGlzLnVzZUludGVnZXJab29tPWksdGhpcy56b29tPXIsdGhpcy5tYXhWYWx1ZT0wLHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzPXQubWFwKGU9Pih7bmFtZTpcImFfXCIrZSx0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6XCJjb2xvclwiPT09bj80OjIsb2Zmc2V0OjB9KSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBvfXBvcHVsYXRlUGFpbnRBcnJheShlLHQsbixpLHIsbyl7Y29uc3QgYT10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IFBvKHRoaXMuem9vbSksdCx7fSxyLGksbykscz10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IFBvKHRoaXMuem9vbSsxKSx0LHt9LHIsaSxvKSxsPXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGg7dGhpcy5wYWludFZlcnRleEFycmF5LnJlc2l6ZShlKSx0aGlzLl9zZXRQYWludFZhbHVlKGwsZSxhLHMpfXVwZGF0ZVBhaW50QXJyYXkoZSx0LG4saSxyKXtjb25zdCBvPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTp0aGlzLnpvb219LG4saSx2b2lkIDAsciksYT10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206dGhpcy56b29tKzF9LG4saSx2b2lkIDAscik7dGhpcy5fc2V0UGFpbnRWYWx1ZShlLHQsbyxhKX1fc2V0UGFpbnRWYWx1ZShlLHQsbixpKXtpZihcImNvbG9yXCI9PT10aGlzLnR5cGUpe2NvbnN0IHI9WGEobiksbz1YYShpKTtmb3IobGV0IG49ZTtuPHQ7bisrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKG4sclswXSxyWzFdLG9bMF0sb1sxXSl9ZWxzZXtmb3IobGV0IHI9ZTtyPHQ7cisrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKHIsbixpKTt0aGlzLm1heFZhbHVlPU1hdGgubWF4KHRoaXMubWF4VmFsdWUsTWF0aC5hYnMobiksTWF0aC5hYnMoaSkpfX11cGxvYWQoZSl7dGhpcy5wYWludFZlcnRleEFycmF5JiZ0aGlzLnBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmJ1ZmZlcj90aGlzLnBhaW50VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5wYWludFZlcnRleEFycmF5KTp0aGlzLnBhaW50VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCkpfWRlc3Ryb3koKXt0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmRlc3Ryb3koKX1zZXRVbmlmb3JtKGUsdCxuLGkscil7Y29uc3Qgbz10aGlzLnVzZUludGVnZXJab29tP01hdGguZmxvb3Iobi56b29tKTpuLnpvb20sYT1TKHRoaXMuZXhwcmVzc2lvbi5pbnRlcnBvbGF0aW9uRmFjdG9yKG8sdGhpcy56b29tLHRoaXMuem9vbSsxKSwwLDEpO3Quc2V0KGUscixhKX1nZXRCaW5kaW5nKGUsdCl7cmV0dXJuIG5ldyBHYShlKX19Y2xhc3MgZXN7Y29uc3RydWN0b3IoZSx0LG4saSxyKXt0aGlzLmV4cHJlc3Npb249ZSx0aGlzLmxheWVySWQ9cix0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcz0oXCJhcnJheVwiPT09bj9EYTp6YSkubWVtYmVycztmb3IobGV0IGU9MDtlPHQubGVuZ3RoOysrZSk7dGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBpfXBvcHVsYXRlUGFpbnRBcnJheShlLHQsbil7Y29uc3QgaT10aGlzLnBhaW50VmVydGV4QXJyYXkubGVuZ3RoO3RoaXMucGFpbnRWZXJ0ZXhBcnJheS5yZXNpemUoZSksdGhpcy5fc2V0UGFpbnRWYWx1ZXMoaSxlLHQucGF0dGVybnMmJnQucGF0dGVybnNbdGhpcy5sYXllcklkXSxuKX11cGRhdGVQYWludEFycmF5KGUsdCxuLGkscixvKXt0aGlzLl9zZXRQYWludFZhbHVlcyhlLHQsbi5wYXR0ZXJucyYmbi5wYXR0ZXJuc1t0aGlzLmxheWVySWRdLG8pfV9zZXRQYWludFZhbHVlcyhlLHQsbixpKXtpZighaXx8IW4pcmV0dXJuO2NvbnN0IHI9aVtuXTtpZighcilyZXR1cm47Y29uc3R7dGw6byxicjphLHBpeGVsUmF0aW86c309cjtmb3IobGV0IG49ZTtuPHQ7bisrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKG4sb1swXSxvWzFdLGFbMF0sYVsxXSxzKX11cGxvYWQoZSl7dGhpcy5wYWludFZlcnRleEFycmF5JiZ0aGlzLnBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnBhaW50VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCkpfWRlc3Ryb3koKXt0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmRlc3Ryb3koKX19Y2xhc3MgdHN7Y29uc3RydWN0b3IoZSx0LG49KCgpPT4hMCkpe3RoaXMuYmluZGVycz17fSx0aGlzLl9idWZmZXJzPVtdO2NvbnN0IGk9W107Zm9yKGNvbnN0IHIgaW4gZS5wYWludC5fdmFsdWVzKXtpZighbihyKSljb250aW51ZTtjb25zdCBvPWUucGFpbnQuZ2V0KHIpO2lmKCEobyBpbnN0YW5jZW9mIGpvJiZJaShvLnByb3BlcnR5LnNwZWNpZmljYXRpb24pKSljb250aW51ZTtjb25zdCBhPXJzKHIsZS50eXBlKSxzPW8udmFsdWUsbD1vLnByb3BlcnR5LnNwZWNpZmljYXRpb24udHlwZSxjPW8ucHJvcGVydHkudXNlSW50ZWdlclpvb20sdT1cImxpbmUtZGFzaGFycmF5XCI9PT1yfHxyLmVuZHNXaXRoKFwicGF0dGVyblwiKSxoPVwibGluZS1kYXNoYXJyYXlcIj09PXImJlwiY29uc3RhbnRcIiE9PWUubGF5b3V0LmdldChcImxpbmUtY2FwXCIpLnZhbHVlLmtpbmQ7aWYoXCJjb25zdGFudFwiIT09cy5raW5kfHxoKWlmKFwic291cmNlXCI9PT1zLmtpbmR8fGh8fHUpe2NvbnN0IHQ9c3MocixsLFwic291cmNlXCIpO3RoaXMuYmluZGVyc1tyXT11P25ldyBlcyhzLGEsbCx0LGUuaWQpOm5ldyBRYShzLGEsbCx0KSxpLnB1c2goXCIvYV9cIityKX1lbHNle2NvbnN0IGU9c3MocixsLFwiY29tcG9zaXRlXCIpO3RoaXMuYmluZGVyc1tyXT1uZXcgS2EocyxhLGwsYyx0LGUpLGkucHVzaChcIi96X1wiK3IpfWVsc2UgdGhpcy5iaW5kZXJzW3JdPXU/bmV3IEphKHMudmFsdWUsYSk6bmV3IFlhKHMudmFsdWUsYSxsKSxpLnB1c2goXCIvdV9cIityKX10aGlzLmNhY2hlS2V5PWkuc29ydCgpLmpvaW4oXCJcIil9Z2V0TWF4VmFsdWUoZSl7Y29uc3QgdD10aGlzLmJpbmRlcnNbZV07cmV0dXJuIHQgaW5zdGFuY2VvZiBRYXx8dCBpbnN0YW5jZW9mIEthP3QubWF4VmFsdWU6MH1wb3B1bGF0ZVBhaW50QXJyYXlzKGUsdCxuLGkscixvKXtmb3IoY29uc3QgYSBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHM9dGhpcy5iaW5kZXJzW2FdOyhzIGluc3RhbmNlb2YgUWF8fHMgaW5zdGFuY2VvZiBLYXx8cyBpbnN0YW5jZW9mIGVzKSYmcy5wb3B1bGF0ZVBhaW50QXJyYXkoZSx0LG4saSxyLG8pfX1zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBuPXRoaXMuYmluZGVyc1t0XTtuIGluc3RhbmNlb2YgSmEmJm4uc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUpfX11cGRhdGVQYWludEFycmF5cyhlLHQsbixpLHIsbyl7bGV0IGE9ITE7Zm9yKGNvbnN0IHMgaW4gZSl7Y29uc3QgbD10LmdldFBvc2l0aW9ucyhzKTtmb3IoY29uc3QgdCBvZiBsKXtjb25zdCBsPW4uZmVhdHVyZSh0LmluZGV4KTtmb3IoY29uc3QgbiBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IGM9dGhpcy5iaW5kZXJzW25dO2lmKChjIGluc3RhbmNlb2YgUWF8fGMgaW5zdGFuY2VvZiBLYXx8YyBpbnN0YW5jZW9mIGVzKSYmITA9PT1jLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCl7Y29uc3QgdT1pLnBhaW50LmdldChuKTtjLmV4cHJlc3Npb249dS52YWx1ZSxjLnVwZGF0ZVBhaW50QXJyYXkodC5zdGFydCx0LmVuZCxsLGVbc10scixvKSxhPSEwfX19fXJldHVybiBhfWRlZmluZXMoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IGluIHRoaXMuYmluZGVycyl7Y29uc3Qgbj10aGlzLmJpbmRlcnNbdF07KG4gaW5zdGFuY2VvZiBZYXx8biBpbnN0YW5jZW9mIEphKSYmZS5wdXNoKC4uLm4udW5pZm9ybU5hbWVzLm1hcChlPT5cIiNkZWZpbmUgSEFTX1VOSUZPUk1fXCIrZSkpfXJldHVybiBlfWdldEJpbmRlckF0dHJpYnV0ZXMoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IGluIHRoaXMuYmluZGVycyl7Y29uc3Qgbj10aGlzLmJpbmRlcnNbdF07aWYobiBpbnN0YW5jZW9mIFFhfHxuIGluc3RhbmNlb2YgS2F8fG4gaW5zdGFuY2VvZiBlcylmb3IobGV0IHQ9MDt0PG4ucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzLmxlbmd0aDt0KyspZS5wdXNoKG4ucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzW3RdLm5hbWUpfXJldHVybiBlfWdldEJpbmRlclVuaWZvcm1zKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IG49dGhpcy5iaW5kZXJzW3RdO2lmKG4gaW5zdGFuY2VvZiBZYXx8biBpbnN0YW5jZW9mIEphfHxuIGluc3RhbmNlb2YgS2EpZm9yKGNvbnN0IHQgb2Ygbi51bmlmb3JtTmFtZXMpZS5wdXNoKHQpfXJldHVybiBlfWdldFBhaW50VmVydGV4QnVmZmVycygpe3JldHVybiB0aGlzLl9idWZmZXJzfWdldFVuaWZvcm1zKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IG4gaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBpPXRoaXMuYmluZGVyc1tuXTtpZihpIGluc3RhbmNlb2YgWWF8fGkgaW5zdGFuY2VvZiBKYXx8aSBpbnN0YW5jZW9mIEthKWZvcihjb25zdCByIG9mIGkudW5pZm9ybU5hbWVzKXQucHVzaCh7bmFtZTpyLHByb3BlcnR5Om4sYmluZGluZzppLmdldEJpbmRpbmcoZSxyKX0pfXJldHVybiB0fXNldFVuaWZvcm1zKGUsdCxuLGkscil7Zm9yKGNvbnN0e25hbWU6dCxwcm9wZXJ0eTpvLGJpbmRpbmc6YX1vZiBuKXRoaXMuYmluZGVyc1tvXS5zZXRVbmlmb3JtKGUsYSxyLGkuZ2V0KG8pLHQpfXVwZGF0ZVBhaW50QnVmZmVycygpe3RoaXMuX2J1ZmZlcnM9W107Zm9yKGNvbnN0IGUgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCB0PXRoaXMuYmluZGVyc1tlXTsodCBpbnN0YW5jZW9mIFFhfHx0IGluc3RhbmNlb2YgS2F8fHQgaW5zdGFuY2VvZiBlcykmJnQucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMuX2J1ZmZlcnMucHVzaCh0LnBhaW50VmVydGV4QnVmZmVyKX19dXBsb2FkKGUpe2Zvcihjb25zdCB0IGluIHRoaXMuYmluZGVycyl7Y29uc3Qgbj10aGlzLmJpbmRlcnNbdF07KG4gaW5zdGFuY2VvZiBRYXx8biBpbnN0YW5jZW9mIEthfHxuIGluc3RhbmNlb2YgZXMpJiZuLnVwbG9hZChlKX10aGlzLnVwZGF0ZVBhaW50QnVmZmVycygpfWRlc3Ryb3koKXtmb3IoY29uc3QgZSBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHQ9dGhpcy5iaW5kZXJzW2VdOyh0IGluc3RhbmNlb2YgUWF8fHQgaW5zdGFuY2VvZiBLYXx8dCBpbnN0YW5jZW9mIGVzKSYmdC5kZXN0cm95KCl9fX1jbGFzcyBuc3tjb25zdHJ1Y3RvcihlLHQsbj0oKCk9PiEwKSl7dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9e307Zm9yKGNvbnN0IGkgb2YgZSl0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tpLmlkXT1uZXcgdHMoaSx0LG4pO3RoaXMubmVlZHNVcGxvYWQ9ITEsdGhpcy5fZmVhdHVyZU1hcD1uZXcgRmEsdGhpcy5fYnVmZmVyT2Zmc2V0PTB9cG9wdWxhdGVQYWludEFycmF5cyhlLHQsbixpLHIsbyxhKXtmb3IoY29uc3QgbiBpbiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucyl0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tuXS5wb3B1bGF0ZVBhaW50QXJyYXlzKGUsdCxpLHIsbyxhKTt2b2lkIDAhPT10LmlkJiZ0aGlzLl9mZWF0dXJlTWFwLmFkZCh0LmlkLG4sdGhpcy5fYnVmZmVyT2Zmc2V0LGUpLHRoaXMuX2J1ZmZlck9mZnNldD1lLHRoaXMubmVlZHNVcGxvYWQ9ITB9dXBkYXRlUGFpbnRBcnJheXMoZSx0LG4saSxyKXtmb3IoY29uc3QgbyBvZiBuKXRoaXMubmVlZHNVcGxvYWQ9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbby5pZF0udXBkYXRlUGFpbnRBcnJheXMoZSx0aGlzLl9mZWF0dXJlTWFwLHQsbyxpLHIpfHx0aGlzLm5lZWRzVXBsb2FkfWdldChlKXtyZXR1cm4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbZV19dXBsb2FkKGUpe2lmKHRoaXMubmVlZHNVcGxvYWQpe2Zvcihjb25zdCB0IGluIHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zKXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zW3RdLnVwbG9hZChlKTt0aGlzLm5lZWRzVXBsb2FkPSExfX1kZXN0cm95KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbZV0uZGVzdHJveSgpfX1jb25zdCBpcz17XCJ0ZXh0LW9wYWNpdHlcIjpbXCJvcGFjaXR5XCJdLFwiaWNvbi1vcGFjaXR5XCI6W1wib3BhY2l0eVwiXSxcInRleHQtY29sb3JcIjpbXCJmaWxsX2NvbG9yXCJdLFwiaWNvbi1jb2xvclwiOltcImZpbGxfY29sb3JcIl0sXCJ0ZXh0LWhhbG8tY29sb3JcIjpbXCJoYWxvX2NvbG9yXCJdLFwiaWNvbi1oYWxvLWNvbG9yXCI6W1wiaGFsb19jb2xvclwiXSxcInRleHQtaGFsby1ibHVyXCI6W1wiaGFsb19ibHVyXCJdLFwiaWNvbi1oYWxvLWJsdXJcIjpbXCJoYWxvX2JsdXJcIl0sXCJ0ZXh0LWhhbG8td2lkdGhcIjpbXCJoYWxvX3dpZHRoXCJdLFwiaWNvbi1oYWxvLXdpZHRoXCI6W1wiaGFsb193aWR0aFwiXSxcImxpbmUtZ2FwLXdpZHRoXCI6W1wiZ2Fwd2lkdGhcIl0sXCJsaW5lLXBhdHRlcm5cIjpbXCJwYXR0ZXJuXCIsXCJwaXhlbF9yYXRpb1wiXSxcImZpbGwtcGF0dGVyblwiOltcInBhdHRlcm5cIixcInBpeGVsX3JhdGlvXCJdLFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiOltcInBhdHRlcm5cIixcInBpeGVsX3JhdGlvXCJdLFwibGluZS1kYXNoYXJyYXlcIjpbXCJkYXNoXCJdfTtmdW5jdGlvbiBycyhlLHQpe3JldHVybiBpc1tlXXx8W2UucmVwbGFjZSh0K1wiLVwiLFwiXCIpLnJlcGxhY2UoLy0vZyxcIl9cIildfWNvbnN0IG9zPXtcImxpbmUtcGF0dGVyblwiOntzb3VyY2U6dGEsY29tcG9zaXRlOnRhfSxcImZpbGwtcGF0dGVyblwiOntzb3VyY2U6dGEsY29tcG9zaXRlOnRhfSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjp7c291cmNlOnRhLGNvbXBvc2l0ZTp0YX0sXCJsaW5lLWRhc2hhcnJheVwiOntzb3VyY2U6bmEsY29tcG9zaXRlOm5hfX0sYXM9e2NvbG9yOntzb3VyY2U6eGEsY29tcG9zaXRlOmVhfSxudW1iZXI6e3NvdXJjZTptYSxjb21wb3NpdGU6eGF9fTtmdW5jdGlvbiBzcyhlLHQsbil7Y29uc3QgaT1vc1tlXTtyZXR1cm4gaSYmaVtuXXx8YXNbdF1bbl19enIoWWEsXCJDb25zdGFudEJpbmRlclwiKSx6cihKYSxcIlBhdHRlcm5Db25zdGFudEJpbmRlclwiKSx6cihRYSxcIlNvdXJjZUV4cHJlc3Npb25CaW5kZXJcIiksenIoZXMsXCJQYXR0ZXJuQ29tcG9zaXRlQmluZGVyXCIpLHpyKEthLFwiQ29tcG9zaXRlRXhwcmVzc2lvbkJpbmRlclwiKSx6cih0cyxcIlByb2dyYW1Db25maWd1cmF0aW9uXCIse29taXQ6W1wiX2J1ZmZlcnNcIl19KSx6cihucyxcIlByb2dyYW1Db25maWd1cmF0aW9uU2V0XCIpO2NvbnN0IGxzPVwiLXRyYW5zaXRpb25cIjtjbGFzcyBjcyBleHRlbmRzIFlle2NvbnN0cnVjdG9yKGUsdCl7aWYoc3VwZXIoKSx0aGlzLmlkPWUuaWQsdGhpcy50eXBlPWUudHlwZSx0aGlzLl9mZWF0dXJlRmlsdGVyPXtmaWx0ZXI6KCk9PiEwLG5lZWRHZW9tZXRyeTohMSxuZWVkRmVhdHVyZTohMX0sdGhpcy5fZmlsdGVyQ29tcGlsZWQ9ITEsXCJjdXN0b21cIiE9PWUudHlwZSYmKHRoaXMubWV0YWRhdGE9ZS5tZXRhZGF0YSx0aGlzLm1pbnpvb209ZS5taW56b29tLHRoaXMubWF4em9vbT1lLm1heHpvb20sXCJiYWNrZ3JvdW5kXCIhPT1lLnR5cGUmJlwic2t5XCIhPT1lLnR5cGUmJih0aGlzLnNvdXJjZT1lLnNvdXJjZSx0aGlzLnNvdXJjZUxheWVyPWVbXCJzb3VyY2UtbGF5ZXJcIl0sdGhpcy5maWx0ZXI9ZS5maWx0ZXIpLHQubGF5b3V0JiYodGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQ9bmV3IEJvKHQubGF5b3V0KSksdC5wYWludCkpe3RoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQ9bmV3IExvKHQucGFpbnQpO2Zvcihjb25zdCB0IGluIGUucGFpbnQpdGhpcy5zZXRQYWludFByb3BlcnR5KHQsZS5wYWludFt0XSx7dmFsaWRhdGU6ITF9KTtmb3IoY29uc3QgdCBpbiBlLmxheW91dCl0aGlzLnNldExheW91dFByb3BlcnR5KHQsZS5sYXlvdXRbdF0se3ZhbGlkYXRlOiExfSk7dGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50PXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQudW50cmFuc2l0aW9uZWQoKSx0aGlzLnBhaW50PW5ldyBGbyh0LnBhaW50KX19Z2V0TGF5b3V0UHJvcGVydHkoZSl7cmV0dXJuXCJ2aXNpYmlsaXR5XCI9PT1lP3RoaXMudmlzaWJpbGl0eTp0aGlzLl91bmV2YWx1YXRlZExheW91dC5nZXRWYWx1ZShlKX1zZXRMYXlvdXRQcm9wZXJ0eShlLHQsbj17fSl7bnVsbCE9dCYmdGhpcy5fdmFsaWRhdGUoTXIsYGxheWVycy4ke3RoaXMuaWR9LmxheW91dC4ke2V9YCxlLHQsbil8fChcInZpc2liaWxpdHlcIiE9PWU/dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuc2V0VmFsdWUoZSx0KTp0aGlzLnZpc2liaWxpdHk9dCl9Z2V0UGFpbnRQcm9wZXJ0eShlKXtyZXR1cm4gQihlLGxzKT90aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LmdldFRyYW5zaXRpb24oZS5zbGljZSgwLC1scy5sZW5ndGgpKTp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LmdldFZhbHVlKGUpfXNldFBhaW50UHJvcGVydHkoZSx0LG49e30pe2lmKG51bGwhPXQmJnRoaXMuX3ZhbGlkYXRlKFNyLGBsYXllcnMuJHt0aGlzLmlkfS5wYWludC4ke2V9YCxlLHQsbikpcmV0dXJuITE7aWYoQihlLGxzKSlyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5zZXRUcmFuc2l0aW9uKGUuc2xpY2UoMCwtbHMubGVuZ3RoKSx0fHx2b2lkIDApLCExO3tjb25zdCBuPXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tlXSxpPW4udmFsdWUuaXNEYXRhRHJpdmVuKCkscj1uLnZhbHVlO3RoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuc2V0VmFsdWUoZSx0KSx0aGlzLl9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZShlKTtjb25zdCBvPXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tlXS52YWx1ZSxhPW8uaXNEYXRhRHJpdmVuKCkscz1CKGUsXCJwYXR0ZXJuXCIpfHxcImxpbmUtZGFzaGFycmF5XCI9PT1lO3JldHVybiBhfHxpfHxzfHx0aGlzLl9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGUoZSxyLG8pfX1faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUoZSl7fWdldFByb2dyYW1JZHMoKXtyZXR1cm4gbnVsbH1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihlKXtyZXR1cm4gbnVsbH1faGFuZGxlT3ZlcnJpZGFibGVQYWludFByb3BlcnR5VXBkYXRlKGUsdCxuKXtyZXR1cm4hMX1pc0hpZGRlbihlKXtyZXR1cm4hISh0aGlzLm1pbnpvb20mJmU8dGhpcy5taW56b29tKXx8ISEodGhpcy5tYXh6b29tJiZlPj10aGlzLm1heHpvb20pfHxcIm5vbmVcIj09PXRoaXMudmlzaWJpbGl0eX11cGRhdGVUcmFuc2l0aW9ucyhlKXt0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC50cmFuc2l0aW9uZWQoZSx0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQpfWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50Lmhhc1RyYW5zaXRpb24oKX1yZWNhbGN1bGF0ZShlLHQpe3RoaXMuX3VuZXZhbHVhdGVkTGF5b3V0JiYodGhpcy5sYXlvdXQ9dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQucG9zc2libHlFdmFsdWF0ZShlLHZvaWQgMCx0KSksdGhpcy5wYWludD10aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQucG9zc2libHlFdmFsdWF0ZShlLHZvaWQgMCx0KX1zZXJpYWxpemUoKXtjb25zdCBlPXtpZDp0aGlzLmlkLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLnNvdXJjZSxcInNvdXJjZS1sYXllclwiOnRoaXMuc291cmNlTGF5ZXIsbWV0YWRhdGE6dGhpcy5tZXRhZGF0YSxtaW56b29tOnRoaXMubWluem9vbSxtYXh6b29tOnRoaXMubWF4em9vbSxmaWx0ZXI6dGhpcy5maWx0ZXIsbGF5b3V0OnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0JiZ0aGlzLl91bmV2YWx1YXRlZExheW91dC5zZXJpYWxpemUoKSxwYWludDp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50JiZ0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnNlcmlhbGl6ZSgpfTtyZXR1cm4gdGhpcy52aXNpYmlsaXR5JiYoZS5sYXlvdXQ9ZS5sYXlvdXR8fHt9LGUubGF5b3V0LnZpc2liaWxpdHk9dGhpcy52aXNpYmlsaXR5KSxGKGUsKGUsdCk9PiEodm9pZCAwPT09ZXx8XCJsYXlvdXRcIj09PXQmJiFPYmplY3Qua2V5cyhlKS5sZW5ndGh8fFwicGFpbnRcIj09PXQmJiFPYmplY3Qua2V5cyhlKS5sZW5ndGgpKX1fdmFsaWRhdGUoZSx0LG4saSxyPXt9KXtyZXR1cm4oIXJ8fCExIT09ci52YWxpZGF0ZSkmJkNyKHRoaXMsZS5jYWxsKEVyLHtrZXk6dCxsYXllclR5cGU6dGhpcy50eXBlLG9iamVjdEtleTpuLHZhbHVlOmksc3R5bGVTcGVjOkplLHN0eWxlOntnbHlwaHM6ITAsc3ByaXRlOiEwfX0pKX1pczNEKCl7cmV0dXJuITF9aXNTa3koKXtyZXR1cm4hMX1pc1RpbGVDbGlwcGVkKCl7cmV0dXJuITF9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiExfXJlc2l6ZSgpe31pc1N0YXRlRGVwZW5kZW50KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5wYWludC5fdmFsdWVzKXtjb25zdCB0PXRoaXMucGFpbnQuZ2V0KGUpO2lmKHQgaW5zdGFuY2VvZiBqbyYmSWkodC5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uKSYmKFwic291cmNlXCI9PT10LnZhbHVlLmtpbmR8fFwiY29tcG9zaXRlXCI9PT10LnZhbHVlLmtpbmQpJiZ0LnZhbHVlLmlzU3RhdGVEZXBlbmRlbnQpcmV0dXJuITB9cmV0dXJuITF9Y29tcGlsZUZpbHRlcigpe3RoaXMuX2ZpbHRlckNvbXBpbGVkfHwodGhpcy5fZmVhdHVyZUZpbHRlcj1LaSh0aGlzLmZpbHRlciksdGhpcy5fZmlsdGVyQ29tcGlsZWQ9ITApfWludmFsaWRhdGVDb21waWxlZEZpbHRlcigpe3RoaXMuX2ZpbHRlckNvbXBpbGVkPSExfWR5bmFtaWNGaWx0ZXIoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUZpbHRlci5keW5hbWljRmlsdGVyfWR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmUoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUZpbHRlci5uZWVkRmVhdHVyZX19Y29uc3QgdXM9SG8oW3tuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9XSw0KSxocz1Ibyhbe25hbWU6XCJhX3Bvc18zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfcG9zX25vcm1hbF8zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifV0pO2NsYXNzIGRze2NvbnN0cnVjdG9yKGU9W10pe3RoaXMuc2VnbWVudHM9ZX1wcmVwYXJlU2VnbWVudChlLHQsbixpKXtsZXQgcj10aGlzLnNlZ21lbnRzW3RoaXMuc2VnbWVudHMubGVuZ3RoLTFdO3JldHVybiBlPmRzLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIJiZWKGBNYXggdmVydGljZXMgcGVyIHNlZ21lbnQgaXMgJHtkcy5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSH06IGJ1Y2tldCByZXF1ZXN0ZWQgJHtlfWApLCghcnx8ci52ZXJ0ZXhMZW5ndGgrZT5kcy5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSHx8ci5zb3J0S2V5IT09aSkmJihyPXt2ZXJ0ZXhPZmZzZXQ6dC5sZW5ndGgscHJpbWl0aXZlT2Zmc2V0Om4ubGVuZ3RoLHZlcnRleExlbmd0aDowLHByaW1pdGl2ZUxlbmd0aDowfSx2b2lkIDAhPT1pJiYoci5zb3J0S2V5PWkpLHRoaXMuc2VnbWVudHMucHVzaChyKSkscn1nZXQoKXtyZXR1cm4gdGhpcy5zZWdtZW50c31kZXN0cm95KCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5zZWdtZW50cylmb3IoY29uc3QgdCBpbiBlLnZhb3MpZS52YW9zW3RdLmRlc3Ryb3koKX1zdGF0aWMgc2ltcGxlU2VnbWVudChlLHQsbixpKXtyZXR1cm4gbmV3IGRzKFt7dmVydGV4T2Zmc2V0OmUscHJpbWl0aXZlT2Zmc2V0OnQsdmVydGV4TGVuZ3RoOm4scHJpbWl0aXZlTGVuZ3RoOmksdmFvczp7fSxzb3J0S2V5OjB9XSl9fWRzLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIPU1hdGgucG93KDIsMTYpLTEsenIoZHMsXCJTZWdtZW50VmVjdG9yXCIpO3ZhciBwcz04MTkyO2NsYXNzIGZze2NvbnN0cnVjdG9yKGUsdCl7ZSYmKHQ/dGhpcy5zZXRTb3V0aFdlc3QoZSkuc2V0Tm9ydGhFYXN0KHQpOjQ9PT1lLmxlbmd0aD90aGlzLnNldFNvdXRoV2VzdChbZVswXSxlWzFdXSkuc2V0Tm9ydGhFYXN0KFtlWzJdLGVbM11dKTp0aGlzLnNldFNvdXRoV2VzdChlWzBdKS5zZXROb3J0aEVhc3QoZVsxXSkpfXNldE5vcnRoRWFzdChlKXtyZXR1cm4gdGhpcy5fbmU9ZSBpbnN0YW5jZW9mIGdzP25ldyBncyhlLmxuZyxlLmxhdCk6Z3MuY29udmVydChlKSx0aGlzfXNldFNvdXRoV2VzdChlKXtyZXR1cm4gdGhpcy5fc3c9ZSBpbnN0YW5jZW9mIGdzP25ldyBncyhlLmxuZyxlLmxhdCk6Z3MuY29udmVydChlKSx0aGlzfWV4dGVuZChlKXtjb25zdCB0PXRoaXMuX3N3LG49dGhpcy5fbmU7bGV0IGkscjtpZihlIGluc3RhbmNlb2YgZ3MpaT1lLHI9ZTtlbHNle2lmKCEoZSBpbnN0YW5jZW9mIGZzKSlyZXR1cm4gQXJyYXkuaXNBcnJheShlKT80PT09ZS5sZW5ndGh8fGUuZXZlcnkoQXJyYXkuaXNBcnJheSk/dGhpcy5leHRlbmQoZnMuY29udmVydChlKSk6dGhpcy5leHRlbmQoZ3MuY29udmVydChlKSk6XCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZlLmhhc093blByb3BlcnR5KFwibGF0XCIpJiZlLmhhc093blByb3BlcnR5KFwibG9uXCIpP3RoaXMuZXh0ZW5kKGdzLmNvbnZlcnQoZSkpOnRoaXM7aWYoaT1lLl9zdyxyPWUuX25lLCFpfHwhcilyZXR1cm4gdGhpc31yZXR1cm4gdHx8bj8odC5sbmc9TWF0aC5taW4oaS5sbmcsdC5sbmcpLHQubGF0PU1hdGgubWluKGkubGF0LHQubGF0KSxuLmxuZz1NYXRoLm1heChyLmxuZyxuLmxuZyksbi5sYXQ9TWF0aC5tYXgoci5sYXQsbi5sYXQpKToodGhpcy5fc3c9bmV3IGdzKGkubG5nLGkubGF0KSx0aGlzLl9uZT1uZXcgZ3Moci5sbmcsci5sYXQpKSx0aGlzfWdldENlbnRlcigpe3JldHVybiBuZXcgZ3MoKHRoaXMuX3N3LmxuZyt0aGlzLl9uZS5sbmcpLzIsKHRoaXMuX3N3LmxhdCt0aGlzLl9uZS5sYXQpLzIpfWdldFNvdXRoV2VzdCgpe3JldHVybiB0aGlzLl9zd31nZXROb3J0aEVhc3QoKXtyZXR1cm4gdGhpcy5fbmV9Z2V0Tm9ydGhXZXN0KCl7cmV0dXJuIG5ldyBncyh0aGlzLmdldFdlc3QoKSx0aGlzLmdldE5vcnRoKCkpfWdldFNvdXRoRWFzdCgpe3JldHVybiBuZXcgZ3ModGhpcy5nZXRFYXN0KCksdGhpcy5nZXRTb3V0aCgpKX1nZXRXZXN0KCl7cmV0dXJuIHRoaXMuX3N3LmxuZ31nZXRTb3V0aCgpe3JldHVybiB0aGlzLl9zdy5sYXR9Z2V0RWFzdCgpe3JldHVybiB0aGlzLl9uZS5sbmd9Z2V0Tm9ydGgoKXtyZXR1cm4gdGhpcy5fbmUubGF0fXRvQXJyYXkoKXtyZXR1cm5bdGhpcy5fc3cudG9BcnJheSgpLHRoaXMuX25lLnRvQXJyYXkoKV19dG9TdHJpbmcoKXtyZXR1cm5gTG5nTGF0Qm91bmRzKCR7dGhpcy5fc3cudG9TdHJpbmcoKX0sICR7dGhpcy5fbmUudG9TdHJpbmcoKX0pYH1pc0VtcHR5KCl7cmV0dXJuISh0aGlzLl9zdyYmdGhpcy5fbmUpfWNvbnRhaW5zKGUpe2NvbnN0e2xuZzp0LGxhdDpufT1ncy5jb252ZXJ0KGUpO2xldCBpPXRoaXMuX3N3LmxuZzw9dCYmdDw9dGhpcy5fbmUubG5nO3JldHVybiB0aGlzLl9zdy5sbmc+dGhpcy5fbmUubG5nJiYoaT10aGlzLl9zdy5sbmc+PXQmJnQ+PXRoaXMuX25lLmxuZyksdGhpcy5fc3cubGF0PD1uJiZuPD10aGlzLl9uZS5sYXQmJml9c3RhdGljIGNvbnZlcnQoZSl7cmV0dXJuIWV8fGUgaW5zdGFuY2VvZiBmcz9lOm5ldyBmcyhlKX19Y29uc3QgbXM9NjM3MTAwOC44O2NsYXNzIGdze2NvbnN0cnVjdG9yKGUsdCl7aWYoaXNOYU4oZSl8fGlzTmFOKHQpKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBMbmdMYXQgb2JqZWN0OiAoJHtlfSwgJHt0fSlgKTtpZih0aGlzLmxuZz0rZSx0aGlzLmxhdD0rdCx0aGlzLmxhdD45MHx8dGhpcy5sYXQ8LTkwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgTG5nTGF0IGxhdGl0dWRlIHZhbHVlOiBtdXN0IGJlIGJldHdlZW4gLTkwIGFuZCA5MFwiKX13cmFwKCl7cmV0dXJuIG5ldyBncyhJKHRoaXMubG5nLC0xODAsMTgwKSx0aGlzLmxhdCl9dG9BcnJheSgpe3JldHVyblt0aGlzLmxuZyx0aGlzLmxhdF19dG9TdHJpbmcoKXtyZXR1cm5gTG5nTGF0KCR7dGhpcy5sbmd9LCAke3RoaXMubGF0fSlgfWRpc3RhbmNlVG8oZSl7Y29uc3QgdD1NYXRoLlBJLzE4MCxuPXRoaXMubGF0KnQsaT1lLmxhdCp0LHI9TWF0aC5zaW4obikqTWF0aC5zaW4oaSkrTWF0aC5jb3MobikqTWF0aC5jb3MoaSkqTWF0aC5jb3MoKGUubG5nLXRoaXMubG5nKSp0KTtyZXR1cm4gbXMqTWF0aC5hY29zKE1hdGgubWluKHIsMSkpfXRvQm91bmRzKGU9MCl7Y29uc3QgdD0zNjAqZS80MDA3NTAxNyxuPXQvTWF0aC5jb3MoTWF0aC5QSS8xODAqdGhpcy5sYXQpO3JldHVybiBuZXcgZnMobmV3IGdzKHRoaXMubG5nLW4sdGhpcy5sYXQtdCksbmV3IGdzKHRoaXMubG5nK24sdGhpcy5sYXQrdCkpfXN0YXRpYyBjb252ZXJ0KGUpe2lmKGUgaW5zdGFuY2VvZiBncylyZXR1cm4gZTtpZihBcnJheS5pc0FycmF5KGUpJiYoMj09PWUubGVuZ3RofHwzPT09ZS5sZW5ndGgpKXJldHVybiBuZXcgZ3MoTnVtYmVyKGVbMF0pLE51bWJlcihlWzFdKSk7aWYoIUFycmF5LmlzQXJyYXkoZSkmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSlyZXR1cm4gbmV3IGdzKE51bWJlcihcImxuZ1wiaW4gZT9lLmxuZzplLmxvbiksTnVtYmVyKGUubGF0KSk7dGhyb3cgbmV3IEVycm9yKFwiYExuZ0xhdExpa2VgIGFyZ3VtZW50IG11c3QgYmUgc3BlY2lmaWVkIGFzIGEgTG5nTGF0IGluc3RhbmNlLCBhbiBvYmplY3Qge2xuZzogPGxuZz4sIGxhdDogPGxhdD59LCBhbiBvYmplY3Qge2xvbjogPGxuZz4sIGxhdDogPGxhdD59LCBvciBhbiBhcnJheSBvZiBbPGxuZz4sIDxsYXQ+XVwiKX19Y29uc3QgeXM9MipNYXRoLlBJKm1zO2Z1bmN0aW9uIF9zKGUpe3JldHVybiB5cypNYXRoLmNvcyhlKk1hdGguUEkvMTgwKX1mdW5jdGlvbiB2cyhlKXtyZXR1cm4oMTgwK2UpLzM2MH1mdW5jdGlvbiB4cyhlKXtyZXR1cm4oMTgwLTE4MC9NYXRoLlBJKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCtlKk1hdGguUEkvMzYwKSkpLzM2MH1mdW5jdGlvbiBicyhlLHQpe3JldHVybiBlL19zKHQpfWZ1bmN0aW9uIHdzKGUpe3JldHVybiAzNjAqZS0xODB9ZnVuY3Rpb24gVHMoZSl7cmV0dXJuIDM2MC9NYXRoLlBJKk1hdGguYXRhbihNYXRoLmV4cCgoMTgwLTM2MCplKSpNYXRoLlBJLzE4MCkpLTkwfWZ1bmN0aW9uIEVzKGUsdCl7cmV0dXJuIGUqX3MoVHModCkpfWNvbnN0IFNzPTg1LjA1MTEyOTtmdW5jdGlvbiBNcyhlKXtyZXR1cm4gMS9NYXRoLmNvcyhlKk1hdGguUEkvMTgwKX1jbGFzcyBJc3tjb25zdHJ1Y3RvcihlLHQsbj0wKXt0aGlzLng9K2UsdGhpcy55PSt0LHRoaXMuej0rbn1zdGF0aWMgZnJvbUxuZ0xhdChlLHQ9MCl7Y29uc3Qgbj1ncy5jb252ZXJ0KGUpO3JldHVybiBuZXcgSXModnMobi5sbmcpLHhzKG4ubGF0KSxicyh0LG4ubGF0KSl9dG9MbmdMYXQoKXtyZXR1cm4gbmV3IGdzKHdzKHRoaXMueCksVHModGhpcy55KSl9dG9BbHRpdHVkZSgpe3JldHVybiBFcyh0aGlzLnosdGhpcy55KX1tZXRlckluTWVyY2F0b3JDb29yZGluYXRlVW5pdHMoKXtyZXR1cm4gMS95cypNcyhUcyh0aGlzLnkpKX19ZnVuY3Rpb24gQ3MoZSx0LG4saSxyLG8sYSxzLGwpe2NvbnN0IGM9KHQraSkvMix1PShuK3IpLzIsaD1uZXcgbShjLHUpO3MoaCksZnVuY3Rpb24oZSx0LG4saSxyLG8pe2NvbnN0IGE9bi1yLHM9aS1vO3JldHVybiBNYXRoLmFicygoaS10KSphLShuLWUpKnMpL01hdGguaHlwb3QoYSxzKX0oaC54LGgueSxvLngsby55LGEueCxhLnkpPj1sPyhDcyhlLHQsbixjLHUsbyxoLHMsbCksQ3MoZSxjLHUsaSxyLGgsYSxzLGwpKTplLnB1c2goYSl9ZnVuY3Rpb24ga3MoZSx0LG4pe2xldCBpPWVbMF0scj1pLngsbz1pLnk7dChpKTtjb25zdCBhPVtpXTtmb3IobGV0IHM9MTtzPGUubGVuZ3RoO3MrKyl7Y29uc3QgbD1lW3NdLHt4OmMseTp1fT1sO3QobCksQ3MoYSxyLG8sYyx1LGksbCx0LG4pLHI9YyxvPXUsaT1sfXJldHVybiBhfWZ1bmN0aW9uIEFzKGUsdCxuLGkpe2lmKGkodCxuKSl7Y29uc3Qgcj10LmFkZChuKS5fbXVsdCguNSk7QXMoZSx0LHIsaSksQXMoZSxyLG4saSl9ZWxzZSBlLnB1c2gobil9ZnVuY3Rpb24gUHMoZSx0KXtsZXQgbj1lWzBdO2NvbnN0IGk9W25dO2ZvcihsZXQgcj0xO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBvPWVbcl07QXMoaSxuLG8sdCksbj1vfXJldHVybiBpfWNvbnN0IHpzPU1hdGgucG93KDIsMTQpLTEsRHM9LXpzLTE7ZnVuY3Rpb24gTHMoZSx0KXtjb25zdCBuPU1hdGgucm91bmQoZS54KnQpLGk9TWF0aC5yb3VuZChlLnkqdCk7cmV0dXJuIGUueD1TKG4sRHMsenMpLGUueT1TKGksRHMsenMpLChuPGUueHx8bj5lLngrMXx8aTxlLnl8fGk+ZS55KzEpJiZWKFwiR2VvbWV0cnkgZXhjZWVkcyBhbGxvd2VkIGV4dGVudCwgcmVkdWNlIHlvdXIgdmVjdG9yIHRpbGUgYnVmZmVyIHNpemVcIiksZX1mdW5jdGlvbiBPcyhlLHQsbil7Y29uc3QgaT1lLmxvYWRHZW9tZXRyeSgpLHI9ZS5leHRlbnQsbz1wcy9yO2lmKHQmJm4mJm4ucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2Upe2NvbnN0IG89MTw8dC56LHtzY2FsZTphLHg6cyx5OmwscHJvamVjdGlvbjpjfT1uLHU9ZT0+e2NvbnN0IG49d3MoKHQueCtlLngvcikvbyksaT1UcygodC55K2UueS9yKS9vKSx1PWMucHJvamVjdChuLGkpO2UueD0odS54KmEtcykqcixlLnk9KHUueSphLWwpKnJ9O2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKWlmKDEhPT1lLnR5cGUpaVt0XT1rcyhpW3RdLHUsMSk7ZWxzZXtjb25zdCBlPVtdO2Zvcihjb25zdCBuIG9mIGlbdF0pbi54PDB8fG4ueD49cnx8bi55PDB8fG4ueT49cnx8KHUobiksZS5wdXNoKG4pKTtpW3RdPWV9fWZvcihjb25zdCBlIG9mIGkpZm9yKGNvbnN0IHQgb2YgZSlMcyh0LG8pO3JldHVybiBpfWZ1bmN0aW9uIFJzKGUsdCl7cmV0dXJue3R5cGU6ZS50eXBlLGlkOmUuaWQscHJvcGVydGllczplLnByb3BlcnRpZXMsZ2VvbWV0cnk6dD9PcyhlKTpbXX19ZnVuY3Rpb24gQnMoZSx0LG4saSxyKXtlLmVtcGxhY2VCYWNrKDIqdCsoaSsxKS8yLDIqbisocisxKS8yKX1mdW5jdGlvbiBqcyhlLHQsbil7Y29uc3QgaT0xNjM4NDtlLmVtcGxhY2VCYWNrKHQueCx0LnksdC56LG5bMF0qaSxuWzFdKmksblsyXSppKX1jbGFzcyBGc3tjb25zdHJ1Y3RvcihlKXt0aGlzLnpvb209ZS56b29tLHRoaXMub3ZlcnNjYWxpbmc9ZS5vdmVyc2NhbGluZyx0aGlzLmxheWVycz1lLmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcChlPT5lLmlkKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb24sdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgWW8sdGhpcy5pbmRleEFycmF5PW5ldyBkYSx0aGlzLnNlZ21lbnRzPW5ldyBkcyx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgbnMoZS5sYXllcnMsZS56b29tKSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKS5tYXAoZT0+ZS5pZCl9cG9wdWxhdGUoZSx0LG4saSl7Y29uc3Qgcj10aGlzLmxheWVyc1swXSxvPVtdO2xldCBhPW51bGw7XCJjaXJjbGVcIj09PXIudHlwZSYmKGE9ci5sYXlvdXQuZ2V0KFwiY2lyY2xlLXNvcnQta2V5XCIpKTtmb3IoY29uc3R7ZmVhdHVyZTp0LGlkOnIsaW5kZXg6cyxzb3VyY2VMYXllckluZGV4Omx9b2YgZSl7Y29uc3QgZT10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksYz1Scyh0LGUpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IFBvKHRoaXMuem9vbSksYyxuKSljb250aW51ZTtjb25zdCB1PWE/YS5ldmFsdWF0ZShjLHt9LG4pOnZvaWQgMCxoPXtpZDpyLHByb3BlcnRpZXM6dC5wcm9wZXJ0aWVzLHR5cGU6dC50eXBlLHNvdXJjZUxheWVySW5kZXg6bCxpbmRleDpzLGdlb21ldHJ5OmU/Yy5nZW9tZXRyeTpPcyh0LG4saSkscGF0dGVybnM6e30sc29ydEtleTp1fTtvLnB1c2goaCl9YSYmby5zb3J0KChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KTtsZXQgcz1udWxsO1wiZ2xvYmVcIj09PWkucHJvamVjdGlvbi5uYW1lJiYodGhpcy5nbG9iZUV4dFZlcnRleEFycmF5PW5ldyBpYSxzPWkucHJvamVjdGlvbik7Zm9yKGNvbnN0IGkgb2Ygbyl7Y29uc3R7Z2VvbWV0cnk6cixpbmRleDpvLHNvdXJjZUxheWVySW5kZXg6YX09aSxsPWVbb10uZmVhdHVyZTt0aGlzLmFkZEZlYXR1cmUoaSxyLG8sdC5hdmFpbGFibGVJbWFnZXMsbixzKSx0LmZlYXR1cmVJbmRleC5pbnNlcnQobCxyLG8sYSx0aGlzLmluZGV4KX19dXBkYXRlKGUsdCxuLGkpe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyhlLHQsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxuLGkpfWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofXVwbG9hZFBlbmRpbmcoKXtyZXR1cm4hdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9dXBsb2FkKGUpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHVzLm1lbWJlcnMpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheSYmKHRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5nbG9iZUV4dFZlcnRleEFycmF5LGhzLm1lbWJlcnMpKSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKGUpLHRoaXMudXBsb2FkZWQ9ITB9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyJiZ0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSl9YWRkRmVhdHVyZShlLHQsbixpLHIsbyl7Zm9yKGNvbnN0IG4gb2YgdClmb3IoY29uc3QgdCBvZiBuKXtjb25zdCBuPXQueCxpPXQueTtpZihuPDB8fG4+PXBzfHxpPDB8fGk+PXBzKWNvbnRpbnVlO2lmKG8pe2NvbnN0IGU9by5wcm9qZWN0VGlsZVBvaW50KG4saSxyKSx0PW8udXBWZWN0b3IocixuLGkpLGE9dGhpcy5nbG9iZUV4dFZlcnRleEFycmF5O2pzKGEsZSx0KSxqcyhhLGUsdCksanMoYSxlLHQpLGpzKGEsZSx0KX1jb25zdCBhPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSxlLnNvcnRLZXkpLHM9YS52ZXJ0ZXhMZW5ndGg7QnModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxuLGksLTEsLTEpLEJzKHRoaXMubGF5b3V0VmVydGV4QXJyYXksbixpLDEsLTEpLEJzKHRoaXMubGF5b3V0VmVydGV4QXJyYXksbixpLDEsMSksQnModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxuLGksLTEsMSksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHMscysxLHMrMiksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHMscysyLHMrMyksYS52ZXJ0ZXhMZW5ndGgrPTQsYS5wcmltaXRpdmVMZW5ndGgrPTJ9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCxlLG4se30saSxyKX19ZnVuY3Rpb24gTnMoZSx0KXtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKylpZihYcyh0LGVbbl0pKXJldHVybiEwO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlmKFhzKGUsdFtuXSkpcmV0dXJuITA7cmV0dXJuISFacyhlLHQpfWZ1bmN0aW9uIFVzKGUsdCxuKXtyZXR1cm4hIVhzKGUsdCl8fCEhcXModCxlLG4pfWZ1bmN0aW9uIFZzKGUsdCl7aWYoMT09PWUubGVuZ3RoKXJldHVybiBIcyh0LGVbMF0pO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCBpPXRbbl07Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0KyspaWYoWHMoZSxpW3RdKSlyZXR1cm4hMH1mb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKylpZihIcyh0LGVbbl0pKXJldHVybiEwO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlmKFpzKGUsdFtuXSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gR3MoZSx0LG4pe2lmKGUubGVuZ3RoPjEpe2lmKFpzKGUsdCkpcmV0dXJuITA7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspaWYocXModFtpXSxlLG4pKXJldHVybiEwfWZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKHFzKGVbaV0sdCxuKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBacyhlLHQpe2lmKDA9PT1lLmxlbmd0aHx8MD09PXQubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgbj0wO248ZS5sZW5ndGgtMTtuKyspe2NvbnN0IGk9ZVtuXSxyPWVbbisxXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKWlmKFdzKGkscix0W2VdLHRbZSsxXSkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gV3MoZSx0LG4saSl7cmV0dXJuIEcoZSxuLGkpIT09Ryh0LG4saSkmJkcoZSx0LG4pIT09RyhlLHQsaSl9ZnVuY3Rpb24gcXMoZSx0LG4pe2NvbnN0IGk9bipuO2lmKDE9PT10Lmxlbmd0aClyZXR1cm4gZS5kaXN0U3FyKHRbMF0pPGk7Zm9yKGxldCBuPTE7bjx0Lmxlbmd0aDtuKyspaWYoJHMoZSx0W24tMV0sdFtuXSk8aSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiAkcyhlLHQsbil7Y29uc3QgaT10LmRpc3RTcXIobik7aWYoMD09PWkpcmV0dXJuIGUuZGlzdFNxcih0KTtjb25zdCByPSgoZS54LXQueCkqKG4ueC10LngpKyhlLnktdC55KSoobi55LXQueSkpL2k7cmV0dXJuIGUuZGlzdFNxcihyPDA/dDpyPjE/bjpuLnN1Yih0KS5fbXVsdChyKS5fYWRkKHQpKX1mdW5jdGlvbiBIcyhlLHQpe2xldCBuLGkscixvPSExO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKXtuPWVbYV07Zm9yKGxldCBlPTAsYT1uLmxlbmd0aC0xO2U8bi5sZW5ndGg7YT1lKyspaT1uW2VdLHI9blthXSxpLnk+dC55IT1yLnk+dC55JiZ0Lng8KHIueC1pLngpKih0LnktaS55KS8oci55LWkueSkraS54JiYobz0hbyl9cmV0dXJuIG99ZnVuY3Rpb24gWHMoZSx0KXtsZXQgbj0hMTtmb3IobGV0IGk9MCxyPWUubGVuZ3RoLTE7aTxlLmxlbmd0aDtyPWkrKyl7Y29uc3Qgbz1lW2ldLGE9ZVtyXTtvLnk+dC55IT1hLnk+dC55JiZ0Lng8KGEueC1vLngpKih0Lnktby55KS8oYS55LW8ueSkrby54JiYobj0hbil9cmV0dXJuIG59ZnVuY3Rpb24gWXMoZSx0LG4saSxyKXtmb3IoY29uc3QgbyBvZiBlKWlmKHQ8PW8ueCYmbjw9by55JiZpPj1vLngmJnI+PW8ueSlyZXR1cm4hMDtjb25zdCBvPVtuZXcgbSh0LG4pLG5ldyBtKHQsciksbmV3IG0oaSxyKSxuZXcgbShpLG4pXTtpZihlLmxlbmd0aD4yKWZvcihjb25zdCB0IG9mIG8paWYoWHMoZSx0KSlyZXR1cm4hMDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoLTE7dCsrKWlmKEpzKGVbdF0sZVt0KzFdLG8pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIEpzKGUsdCxuKXtjb25zdCBpPW5bMF0scj1uWzJdO2lmKGUueDxpLngmJnQueDxpLnh8fGUueD5yLngmJnQueD5yLnh8fGUueTxpLnkmJnQueTxpLnl8fGUueT5yLnkmJnQueT5yLnkpcmV0dXJuITE7Y29uc3Qgbz1HKGUsdCxuWzBdKTtyZXR1cm4gbyE9PUcoZSx0LG5bMV0pfHxvIT09RyhlLHQsblsyXSl8fG8hPT1HKGUsdCxuWzNdKX1mdW5jdGlvbiBRcyhlLHQsbil7Y29uc3QgaT10LnBhaW50LmdldChlKS52YWx1ZTtyZXR1cm5cImNvbnN0YW50XCI9PT1pLmtpbmQ/aS52YWx1ZTpuLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQodC5pZCkuZ2V0TWF4VmFsdWUoZSl9ZnVuY3Rpb24gS3MoZSl7cmV0dXJuIE1hdGguc3FydChlWzBdKmVbMF0rZVsxXSplWzFdKX1mdW5jdGlvbiBlbChlLHQsbixpLHIpe2lmKCF0WzBdJiYhdFsxXSlyZXR1cm4gZTtjb25zdCBvPW0uY29udmVydCh0KS5fbXVsdChyKTtcInZpZXdwb3J0XCI9PT1uJiZvLl9yb3RhdGUoLWkpO2NvbnN0IGE9W107Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspYS5wdXNoKGVbdF0uc3ViKG8pKTtyZXR1cm4gYX1mdW5jdGlvbiB0bChlLHQsbixpKXtjb25zdCByPW0uY29udmVydChlKS5fbXVsdChpKTtyZXR1cm5cInZpZXdwb3J0XCI9PT10JiZyLl9yb3RhdGUoLW4pLHJ9enIoRnMsXCJDaXJjbGVCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIl19KTtjb25zdCBubD1uZXcgR28oe1wiY2lyY2xlLXNvcnQta2V5XCI6bmV3IFVvKEplLmxheW91dF9jaXJjbGVbXCJjaXJjbGUtc29ydC1rZXlcIl0pfSk7dmFyIGlsPXtwYWludDpuZXcgR28oe1wiY2lyY2xlLXJhZGl1c1wiOm5ldyBVbyhKZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtcmFkaXVzXCJdKSxcImNpcmNsZS1jb2xvclwiOm5ldyBVbyhKZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtY29sb3JcIl0pLFwiY2lyY2xlLWJsdXJcIjpuZXcgVW8oSmUucGFpbnRfY2lyY2xlW1wiY2lyY2xlLWJsdXJcIl0pLFwiY2lyY2xlLW9wYWNpdHlcIjpuZXcgVW8oSmUucGFpbnRfY2lyY2xlW1wiY2lyY2xlLW9wYWNpdHlcIl0pLFwiY2lyY2xlLXRyYW5zbGF0ZVwiOm5ldyBObyhKZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtdHJhbnNsYXRlXCJdKSxcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IE5vKEplLnBhaW50X2NpcmNsZVtcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImNpcmNsZS1waXRjaC1zY2FsZVwiOm5ldyBObyhKZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIl0pLFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiOm5ldyBObyhKZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCJdKSxcImNpcmNsZS1zdHJva2Utd2lkdGhcIjpuZXcgVW8oSmUucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXN0cm9rZS13aWR0aFwiXSksXCJjaXJjbGUtc3Ryb2tlLWNvbG9yXCI6bmV3IFVvKEplLnBhaW50X2NpcmNsZVtcImNpcmNsZS1zdHJva2UtY29sb3JcIl0pLFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCI6bmV3IFVvKEplLnBhaW50X2NpcmNsZVtcImNpcmNsZS1zdHJva2Utb3BhY2l0eVwiXSl9KSxsYXlvdXQ6bmx9LHJsPTFlLTYsb2w9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0MzJBcnJheT9GbG9hdDMyQXJyYXk6QXJyYXk7ZnVuY3Rpb24gYWwoKXt2YXIgZT1uZXcgb2woOSk7cmV0dXJuIG9sIT1GbG9hdDMyQXJyYXkmJihlWzFdPTAsZVsyXT0wLGVbM109MCxlWzVdPTAsZVs2XT0wLGVbN109MCksZVswXT0xLGVbNF09MSxlWzhdPTEsZX1mdW5jdGlvbiBzbChlLHQsbil7dmFyIGk9dFswXSxyPXRbMV0sbz10WzJdLGE9dFszXSxzPXRbNF0sbD10WzVdLGM9dFs2XSx1PXRbN10saD10WzhdLGQ9blswXSxwPW5bMV0sZj1uWzJdLG09blszXSxnPW5bNF0seT1uWzVdLF89bls2XSx2PW5bN10seD1uWzhdO3JldHVybiBlWzBdPWQqaStwKmErZipjLGVbMV09ZCpyK3AqcytmKnUsZVsyXT1kKm8rcCpsK2YqaCxlWzNdPW0qaStnKmEreSpjLGVbNF09bSpyK2cqcyt5KnUsZVs1XT1tKm8rZypsK3kqaCxlWzZdPV8qaSt2KmEreCpjLGVbN109XypyK3Yqcyt4KnUsZVs4XT1fKm8rdipsK3gqaCxlfWZ1bmN0aW9uIGxsKGUpe3JldHVybiBlWzBdPTEsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09MSxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMF09MSxlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsZX1mdW5jdGlvbiBjbChlLHQpe3ZhciBuPXRbMF0saT10WzFdLHI9dFsyXSxvPXRbM10sYT10WzRdLHM9dFs1XSxsPXRbNl0sYz10WzddLHU9dFs4XSxoPXRbOV0sZD10WzEwXSxwPXRbMTFdLGY9dFsxMl0sbT10WzEzXSxnPXRbMTRdLHk9dFsxNV0sXz1uKnMtaSphLHY9bipsLXIqYSx4PW4qYy1vKmEsYj1pKmwtcipzLHc9aSpjLW8qcyxUPXIqYy1vKmwsRT11Km0taCpmLFM9dSpnLWQqZixNPXUqeS1wKmYsST1oKmctZCptLEM9aCp5LXAqbSxrPWQqeS1wKmcsQT1fKmstdipDK3gqSStiKk0tdypTK1QqRTtyZXR1cm4gQT8oZVswXT0ocyprLWwqQytjKkkpKihBPTEvQSksZVsxXT0ocipDLWkqay1vKkkpKkEsZVsyXT0obSpULWcqdyt5KmIpKkEsZVszXT0oZCp3LWgqVC1wKmIpKkEsZVs0XT0obCpNLWEqay1jKlMpKkEsZVs1XT0obiprLXIqTStvKlMpKkEsZVs2XT0oZyp4LWYqVC15KnYpKkEsZVs3XT0odSpULWQqeCtwKnYpKkEsZVs4XT0oYSpDLXMqTStjKkUpKkEsZVs5XT0oaSpNLW4qQy1vKkUpKkEsZVsxMF09KGYqdy1tKngreSpfKSpBLGVbMTFdPShoKngtdSp3LXAqXykqQSxlWzEyXT0ocypTLWEqSS1sKkUpKkEsZVsxM109KG4qSS1pKlMrcipFKSpBLGVbMTRdPShtKnYtZipiLWcqXykqQSxlWzE1XT0odSpiLWgqditkKl8pKkEsZSk6bnVsbH1mdW5jdGlvbiB1bChlLHQsbil7dmFyIGk9dFswXSxyPXRbMV0sbz10WzJdLGE9dFszXSxzPXRbNF0sbD10WzVdLGM9dFs2XSx1PXRbN10saD10WzhdLGQ9dFs5XSxwPXRbMTBdLGY9dFsxMV0sbT10WzEyXSxnPXRbMTNdLHk9dFsxNF0sXz10WzE1XSx2PW5bMF0seD1uWzFdLGI9blsyXSx3PW5bM107cmV0dXJuIGVbMF09dippK3gqcytiKmgrdyptLGVbMV09dipyK3gqbCtiKmQrdypnLGVbMl09dipvK3gqYytiKnArdyp5LGVbM109diphK3gqdStiKmYrdypfLGVbNF09KHY9bls0XSkqaSsoeD1uWzVdKSpzKyhiPW5bNl0pKmgrKHc9bls3XSkqbSxlWzVdPXYqcit4KmwrYipkK3cqZyxlWzZdPXYqbyt4KmMrYipwK3cqeSxlWzddPXYqYSt4KnUrYipmK3cqXyxlWzhdPSh2PW5bOF0pKmkrKHg9bls5XSkqcysoYj1uWzEwXSkqaCsodz1uWzExXSkqbSxlWzldPXYqcit4KmwrYipkK3cqZyxlWzEwXT12Km8reCpjK2IqcCt3KnksZVsxMV09diphK3gqdStiKmYrdypfLGVbMTJdPSh2PW5bMTJdKSppKyh4PW5bMTNdKSpzKyhiPW5bMTRdKSpoKyh3PW5bMTVdKSptLGVbMTNdPXYqcit4KmwrYipkK3cqZyxlWzE0XT12Km8reCpjK2IqcCt3KnksZVsxNV09diphK3gqdStiKmYrdypfLGV9ZnVuY3Rpb24gaGwoZSx0LG4pe3ZhciBpLHIsbyxhLHMsbCxjLHUsaCxkLHAsZixtPW5bMF0sZz1uWzFdLHk9blsyXTtyZXR1cm4gdD09PWU/KGVbMTJdPXRbMF0qbSt0WzRdKmcrdFs4XSp5K3RbMTJdLGVbMTNdPXRbMV0qbSt0WzVdKmcrdFs5XSp5K3RbMTNdLGVbMTRdPXRbMl0qbSt0WzZdKmcrdFsxMF0qeSt0WzE0XSxlWzE1XT10WzNdKm0rdFs3XSpnK3RbMTFdKnkrdFsxNV0pOihyPXRbMV0sbz10WzJdLGE9dFszXSxzPXRbNF0sbD10WzVdLGM9dFs2XSx1PXRbN10saD10WzhdLGQ9dFs5XSxwPXRbMTBdLGY9dFsxMV0sZVswXT1pPXRbMF0sZVsxXT1yLGVbMl09byxlWzNdPWEsZVs0XT1zLGVbNV09bCxlWzZdPWMsZVs3XT11LGVbOF09aCxlWzldPWQsZVsxMF09cCxlWzExXT1mLGVbMTJdPWkqbStzKmcraCp5K3RbMTJdLGVbMTNdPXIqbStsKmcrZCp5K3RbMTNdLGVbMTRdPW8qbStjKmcrcCp5K3RbMTRdLGVbMTVdPWEqbSt1KmcrZip5K3RbMTVdKSxlfWZ1bmN0aW9uIGRsKGUsdCxuKXt2YXIgaT1uWzBdLHI9blsxXSxvPW5bMl07cmV0dXJuIGVbMF09dFswXSppLGVbMV09dFsxXSppLGVbMl09dFsyXSppLGVbM109dFszXSppLGVbNF09dFs0XSpyLGVbNV09dFs1XSpyLGVbNl09dFs2XSpyLGVbN109dFs3XSpyLGVbOF09dFs4XSpvLGVbOV09dFs5XSpvLGVbMTBdPXRbMTBdKm8sZVsxMV09dFsxMV0qbyxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSxlfWZ1bmN0aW9uIHBsKGUsdCxuKXt2YXIgaT1NYXRoLnNpbihuKSxyPU1hdGguY29zKG4pLG89dFs0XSxhPXRbNV0scz10WzZdLGw9dFs3XSxjPXRbOF0sdT10WzldLGg9dFsxMF0sZD10WzExXTtyZXR1cm4gdCE9PWUmJihlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0pLGVbNF09bypyK2MqaSxlWzVdPWEqcit1KmksZVs2XT1zKnIraCppLGVbN109bCpyK2QqaSxlWzhdPWMqci1vKmksZVs5XT11KnItYSppLGVbMTBdPWgqci1zKmksZVsxMV09ZCpyLWwqaSxlfWZ1bmN0aW9uIGZsKGUsdCxuKXt2YXIgaT1NYXRoLnNpbihuKSxyPU1hdGguY29zKG4pLG89dFswXSxhPXRbMV0scz10WzJdLGw9dFszXSxjPXRbOF0sdT10WzldLGg9dFsxMF0sZD10WzExXTtyZXR1cm4gdCE9PWUmJihlWzRdPXRbNF0sZVs1XT10WzVdLGVbNl09dFs2XSxlWzddPXRbN10sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0pLGVbMF09bypyLWMqaSxlWzFdPWEqci11KmksZVsyXT1zKnItaCppLGVbM109bCpyLWQqaSxlWzhdPW8qaStjKnIsZVs5XT1hKmkrdSpyLGVbMTBdPXMqaStoKnIsZVsxMV09bCppK2QqcixlfWZ1bmN0aW9uIG1sKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT10WzFdLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT10WzJdLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfWZ1bmN0aW9uIGdsKGUsdCxuKXt2YXIgaSxyLG8sYT1uWzBdLHM9blsxXSxsPW5bMl0sYz1NYXRoLmh5cG90KGEscyxsKTtyZXR1cm4gYzxybD9udWxsOihhKj1jPTEvYyxzKj1jLGwqPWMsaT1NYXRoLnNpbih0KSxyPU1hdGguY29zKHQpLGVbMF09YSphKihvPTEtcikrcixlWzFdPXMqYSpvK2wqaSxlWzJdPWwqYSpvLXMqaSxlWzNdPTAsZVs0XT1hKnMqby1sKmksZVs1XT1zKnMqbytyLGVbNl09bCpzKm8rYSppLGVbN109MCxlWzhdPWEqbCpvK3MqaSxlWzldPXMqbCpvLWEqaSxlWzEwXT1sKmwqbytyLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlKX1NYXRoLmh5cG90fHwoTWF0aC5oeXBvdD1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9YXJndW1lbnRzLmxlbmd0aDt0LS07KWUrPWFyZ3VtZW50c1t0XSphcmd1bWVudHNbdF07cmV0dXJuIE1hdGguc3FydChlKX0pO3ZhciB5bD11bDtmdW5jdGlvbiBfbCgpe3ZhciBlPW5ldyBvbCgzKTtyZXR1cm4gb2whPUZsb2F0MzJBcnJheSYmKGVbMF09MCxlWzFdPTAsZVsyXT0wKSxlfWZ1bmN0aW9uIHZsKGUpe3ZhciB0PW5ldyBvbCgzKTtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdH1mdW5jdGlvbiB4bChlKXtyZXR1cm4gTWF0aC5oeXBvdChlWzBdLGVbMV0sZVsyXSl9ZnVuY3Rpb24gYmwoZSx0LG4pe3ZhciBpPW5ldyBvbCgzKTtyZXR1cm4gaVswXT1lLGlbMV09dCxpWzJdPW4saX1mdW5jdGlvbiB3bChlLHQsbil7cmV0dXJuIGVbMF09dFswXStuWzBdLGVbMV09dFsxXStuWzFdLGVbMl09dFsyXStuWzJdLGV9ZnVuY3Rpb24gVGwoZSx0LG4pe3JldHVybiBlWzBdPXRbMF0tblswXSxlWzFdPXRbMV0tblsxXSxlWzJdPXRbMl0tblsyXSxlfWZ1bmN0aW9uIEVsKGUsdCxuKXtyZXR1cm4gZVswXT10WzBdKm5bMF0sZVsxXT10WzFdKm5bMV0sZVsyXT10WzJdKm5bMl0sZX1mdW5jdGlvbiBTbChlLHQsbil7cmV0dXJuIGVbMF09TWF0aC5taW4odFswXSxuWzBdKSxlWzFdPU1hdGgubWluKHRbMV0sblsxXSksZVsyXT1NYXRoLm1pbih0WzJdLG5bMl0pLGV9ZnVuY3Rpb24gTWwoZSx0LG4pe3JldHVybiBlWzBdPU1hdGgubWF4KHRbMF0sblswXSksZVsxXT1NYXRoLm1heCh0WzFdLG5bMV0pLGVbMl09TWF0aC5tYXgodFsyXSxuWzJdKSxlfWZ1bmN0aW9uIElsKGUsdCxuKXtyZXR1cm4gZVswXT10WzBdKm4sZVsxXT10WzFdKm4sZVsyXT10WzJdKm4sZX1mdW5jdGlvbiBDbChlLHQsbixpKXtyZXR1cm4gZVswXT10WzBdK25bMF0qaSxlWzFdPXRbMV0rblsxXSppLGVbMl09dFsyXStuWzJdKmksZX1mdW5jdGlvbiBrbChlLHQpe3ZhciBuPXRbMF0saT10WzFdLHI9dFsyXSxvPW4qbitpKmkrcipyO3JldHVybiBvPjAmJihvPTEvTWF0aC5zcXJ0KG8pKSxlWzBdPXRbMF0qbyxlWzFdPXRbMV0qbyxlWzJdPXRbMl0qbyxlfWZ1bmN0aW9uIEFsKGUsdCl7cmV0dXJuIGVbMF0qdFswXStlWzFdKnRbMV0rZVsyXSp0WzJdfWZ1bmN0aW9uIFBsKGUsdCxuKXt2YXIgaT10WzBdLHI9dFsxXSxvPXRbMl0sYT1uWzBdLHM9blsxXSxsPW5bMl07cmV0dXJuIGVbMF09cipsLW8qcyxlWzFdPW8qYS1pKmwsZVsyXT1pKnMtciphLGV9ZnVuY3Rpb24gemwoZSx0LG4pe3ZhciBpPXRbMF0scj10WzFdLG89dFsyXSxhPW5bM10qaStuWzddKnIrblsxMV0qbytuWzE1XTtyZXR1cm4gZVswXT0oblswXSppK25bNF0qcituWzhdKm8rblsxMl0pLyhhPWF8fDEpLGVbMV09KG5bMV0qaStuWzVdKnIrbls5XSpvK25bMTNdKS9hLGVbMl09KG5bMl0qaStuWzZdKnIrblsxMF0qbytuWzE0XSkvYSxlfWZ1bmN0aW9uIERsKGUsdCxuKXt2YXIgaT1uWzBdLHI9blsxXSxvPW5bMl0sYT10WzBdLHM9dFsxXSxsPXRbMl0sYz1yKmwtbypzLHU9byphLWkqbCxoPWkqcy1yKmEsZD1yKmgtbyp1LHA9bypjLWkqaCxmPWkqdS1yKmMsbT0yKm5bM107cmV0dXJuIHUqPW0saCo9bSxwKj0yLGYqPTIsZVswXT1hKyhjKj1tKSsoZCo9MiksZVsxXT1zK3UrcCxlWzJdPWwraCtmLGV9dmFyIExsLE9sPVRsLFJsPUVsLEJsPXhsO2Z1bmN0aW9uIGpsKGUsdCxuKXtyZXR1cm4gZVswXT10WzBdKm4sZVsxXT10WzFdKm4sZVsyXT10WzJdKm4sZVszXT10WzNdKm4sZX1mdW5jdGlvbiBGbChlLHQpe3ZhciBuPXRbMF0saT10WzFdLHI9dFsyXSxvPXRbM10sYT1uKm4raSppK3IqcitvKm87cmV0dXJuIGE+MCYmKGE9MS9NYXRoLnNxcnQoYSkpLGVbMF09biphLGVbMV09aSphLGVbMl09ciphLGVbM109byphLGV9ZnVuY3Rpb24gTmwoZSx0LG4pe3ZhciBpPXRbMF0scj10WzFdLG89dFsyXSxhPXRbM107cmV0dXJuIGVbMF09blswXSppK25bNF0qcituWzhdKm8rblsxMl0qYSxlWzFdPW5bMV0qaStuWzVdKnIrbls5XSpvK25bMTNdKmEsZVsyXT1uWzJdKmkrbls2XSpyK25bMTBdKm8rblsxNF0qYSxlWzNdPW5bM10qaStuWzddKnIrblsxMV0qbytuWzE1XSphLGV9ZnVuY3Rpb24gVWwoKXt2YXIgZT1uZXcgb2woNCk7cmV0dXJuIG9sIT1GbG9hdDMyQXJyYXkmJihlWzBdPTAsZVsxXT0wLGVbMl09MCksZVszXT0xLGV9ZnVuY3Rpb24gVmwoZSl7cmV0dXJuIGVbMF09MCxlWzFdPTAsZVsyXT0wLGVbM109MSxlfWZ1bmN0aW9uIEdsKGUsdCxuKXtuKj0uNTt2YXIgaT10WzBdLHI9dFsxXSxvPXRbMl0sYT10WzNdLHM9TWF0aC5zaW4obiksbD1NYXRoLmNvcyhuKTtyZXR1cm4gZVswXT1pKmwrYSpzLGVbMV09cipsK28qcyxlWzJdPW8qbC1yKnMsZVszXT1hKmwtaSpzLGV9ZnVuY3Rpb24gWmwoZSx0LG4pe24qPS41O3ZhciBpPXRbMF0scj10WzFdLG89dFsyXSxhPXRbM10scz1NYXRoLnNpbihuKSxsPU1hdGguY29zKG4pO3JldHVybiBlWzBdPWkqbC1vKnMsZVsxXT1yKmwrYSpzLGVbMl09bypsK2kqcyxlWzNdPWEqbC1yKnMsZX1fbCgpLExsPW5ldyBvbCg0KSxvbCE9RmxvYXQzMkFycmF5JiYoTGxbMF09MCxMbFsxXT0wLExsWzJdPTAsTGxbM109MCk7dmFyIFdsPUZsO19sKCksYmwoMSwwLDApLGJsKDAsMSwwKSxVbCgpLFVsKCksYWwoKTtjbGFzcyBxbHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucG9zPWUsdGhpcy5kaXI9dH1pbnRlcnNlY3RzUGxhbmUoZSx0LG4pe2NvbnN0IGk9QWwodCx0aGlzLmRpcik7aWYoTWF0aC5hYnMoaSk8MWUtNilyZXR1cm4hMTtjb25zdCByPSgoZVswXS10aGlzLnBvc1swXSkqdFswXSsoZVsxXS10aGlzLnBvc1sxXSkqdFsxXSsoZVsyXS10aGlzLnBvc1syXSkqdFsyXSkvaTtyZXR1cm4gblswXT10aGlzLnBvc1swXSt0aGlzLmRpclswXSpyLG5bMV09dGhpcy5wb3NbMV0rdGhpcy5kaXJbMV0qcixuWzJdPXRoaXMucG9zWzJdK3RoaXMuZGlyWzJdKnIsITB9Y2xvc2VzdFBvaW50T25TcGhlcmUoZSx0LG4pe2lmKGZ1bmN0aW9uKGUsdCl7dmFyIG49ZVswXSxpPWVbMV0scj1lWzJdLG89dFswXSxhPXRbMV0scz10WzJdO3JldHVybiBNYXRoLmFicyhuLW8pPD1ybCpNYXRoLm1heCgxLE1hdGguYWJzKG4pLE1hdGguYWJzKG8pKSYmTWF0aC5hYnMoaS1hKTw9cmwqTWF0aC5tYXgoMSxNYXRoLmFicyhpKSxNYXRoLmFicyhhKSkmJk1hdGguYWJzKHItcyk8PXJsKk1hdGgubWF4KDEsTWF0aC5hYnMociksTWF0aC5hYnMocykpfSh0aGlzLnBvcyxlKXx8MD09PXQpcmV0dXJuIG5bMF09blsxXT1uWzJdPTAsITE7Y29uc3RbaSxyLG9dPXRoaXMuZGlyLGE9dGhpcy5wb3NbMF0tZVswXSxzPXRoaXMucG9zWzFdLWVbMV0sbD10aGlzLnBvc1syXS1lWzJdLGM9aSppK3IqcitvKm8sdT0yKihhKmkrcypyK2wqbyksaD11KnUtNCpjKihhKmErcypzK2wqbC10KnQpO2lmKGg8MCl7Y29uc3QgZT1NYXRoLm1heCgtdS8yLDApLGM9YStpKmUsaD1zK3IqZSxkPWwrbyplLHA9TWF0aC5oeXBvdChjLGgsZCk7cmV0dXJuIG5bMF09Yyp0L3AsblsxXT1oKnQvcCxuWzJdPWQqdC9wLCExfXtjb25zdCBlPSgtdS1NYXRoLnNxcnQoaCkpLygyKmMpO2lmKGU8MCl7Y29uc3QgZT1NYXRoLmh5cG90KGEscyxsKTtyZXR1cm4gblswXT1hKnQvZSxuWzFdPXMqdC9lLG5bMl09bCp0L2UsITF9cmV0dXJuIG5bMF09YStpKmUsblsxXT1zK3IqZSxuWzJdPWwrbyplLCEwfX19Y2xhc3MgJGx7Y29uc3RydWN0b3IoZSx0LG4saSxyKXt0aGlzLlRMPWUsdGhpcy5UUj10LHRoaXMuQlI9bix0aGlzLkJMPWksdGhpcy5ob3Jpem9uPXJ9c3RhdGljIGZyb21JbnZQcm9qZWN0aW9uTWF0cml4KGUsdCxuKXtjb25zdCBpPVstMSwxLDFdLHI9WzEsMSwxXSxvPVsxLC0xLDFdLGE9Wy0xLC0xLDFdLHM9emwoaSxpLGUpLGw9emwocixyLGUpLGM9emwobyxvLGUpLHU9emwoYSxhLGUpO3JldHVybiBuZXcgJGwocyxsLGMsdSx0L24pfX1jbGFzcyBIbHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucG9pbnRzPWUsdGhpcy5wbGFuZXM9dH1zdGF0aWMgZnJvbUludlByb2plY3Rpb25NYXRyaXgoZSx0LG4saSl7Y29uc3Qgcj1NYXRoLnBvdygyLG4pLG89W1stMSwxLC0xLDFdLFsxLDEsLTEsMV0sWzEsLTEsLTEsMV0sWy0xLC0xLC0xLDFdLFstMSwxLDEsMV0sWzEsMSwxLDFdLFsxLC0xLDEsMV0sWy0xLC0xLDEsMV1dLm1hcChuPT57Y29uc3Qgbz1ObChbXSxuLGUpLGE9MS9vWzNdL3QqcjtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlWzBdPXRbMF0qblswXSxlWzFdPXRbMV0qblsxXSxlWzJdPXRbMl0qblsyXSxlWzNdPXRbM10qblszXSxlfShvLG8sW2EsYSxpPzEvb1szXTphLGFdKX0pLGE9W1swLDEsMl0sWzYsNSw0XSxbMCwzLDddLFsyLDEsNV0sWzMsMiw2XSxbMCw0LDVdXS5tYXAoZT0+e2NvbnN0IHQ9a2woW10sUGwoW10sT2woW10sb1tlWzBdXSxvW2VbMV1dKSxPbChbXSxvW2VbMl1dLG9bZVsxXV0pKSksbj0tQWwodCxvW2VbMV1dKTtyZXR1cm4gdC5jb25jYXQobil9KTtyZXR1cm4gbmV3IEhsKG8sYSl9fWNsYXNzIFhse3N0YXRpYyBmcm9tUG9pbnRzKGUpe2NvbnN0IHQ9WzEvMCwxLzAsMS8wXSxuPVstMS8wLC0xLzAsLTEvMF07Zm9yKGNvbnN0IGkgb2YgZSlTbCh0LHQsaSksTWwobixuLGkpO3JldHVybiBuZXcgWGwodCxuKX1zdGF0aWMgYXBwbHlUcmFuc2Zvcm0oZSx0KXtjb25zdCBuPWUuZ2V0Q29ybmVycygpO2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7KytlKXpsKG5bZV0sbltlXSx0KTtyZXR1cm4gWGwuZnJvbVBvaW50cyhuKX1jb25zdHJ1Y3RvcihlLHQpe3RoaXMubWluPWUsdGhpcy5tYXg9dCx0aGlzLmNlbnRlcj1JbChbXSx3bChbXSx0aGlzLm1pbix0aGlzLm1heCksLjUpfXF1YWRyYW50KGUpe2NvbnN0IHQ9W2UlMj09MCxlPDJdLG49dmwodGhpcy5taW4pLGk9dmwodGhpcy5tYXgpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKW5bZV09dFtlXT90aGlzLm1pbltlXTp0aGlzLmNlbnRlcltlXSxpW2VdPXRbZV0/dGhpcy5jZW50ZXJbZV06dGhpcy5tYXhbZV07cmV0dXJuIGlbMl09dGhpcy5tYXhbMl0sbmV3IFhsKG4saSl9ZGlzdGFuY2VYKGUpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFswXSxlWzBdKSx0aGlzLm1pblswXSktZVswXX1kaXN0YW5jZVkoZSl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzFdLGVbMV0pLHRoaXMubWluWzFdKS1lWzFdfWRpc3RhbmNlWihlKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5tYXhbMl0sZVsyXSksdGhpcy5taW5bMl0pLWVbMl19Z2V0Q29ybmVycygpe2NvbnN0IGU9dGhpcy5taW4sdD10aGlzLm1heDtyZXR1cm5bW2VbMF0sZVsxXSxlWzJdXSxbdFswXSxlWzFdLGVbMl1dLFt0WzBdLHRbMV0sZVsyXV0sW2VbMF0sdFsxXSxlWzJdXSxbZVswXSxlWzFdLHRbMl1dLFt0WzBdLGVbMV0sdFsyXV0sW3RbMF0sdFsxXSx0WzJdXSxbZVswXSx0WzFdLHRbMl1dXX1pbnRlcnNlY3RzKGUpe2NvbnN0IHQ9dGhpcy5nZXRDb3JuZXJzKCk7bGV0IG49ITA7Zm9yKGxldCBpPTA7aTxlLnBsYW5lcy5sZW5ndGg7aSsrKXtjb25zdCByPWUucGxhbmVzW2ldO2xldCBvPTA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspbys9QWwocix0W2VdKStyWzNdPj0wO2lmKDA9PT1vKXJldHVybiAwO28hPT10Lmxlbmd0aCYmKG49ITEpfWlmKG4pcmV0dXJuIDI7Zm9yKGxldCB0PTA7dDwzO3QrKyl7bGV0IG49TnVtYmVyLk1BWF9WQUxVRSxpPS1OdW1iZXIuTUFYX1ZBTFVFO2ZvcihsZXQgcj0wO3I8ZS5wb2ludHMubGVuZ3RoO3IrKyl7Y29uc3Qgbz1lLnBvaW50c1tyXVt0XS10aGlzLm1pblt0XTtuPU1hdGgubWluKG4sbyksaT1NYXRoLm1heChpLG8pfWlmKGk8MHx8bj50aGlzLm1heFt0XS10aGlzLm1pblt0XSlyZXR1cm4gMH1yZXR1cm4gMX19ZnVuY3Rpb24gWWwoZSx0LG4saSxyLG8sYSxzLGwpe2lmKG8mJmUucXVlcnlHZW9tZXRyeS5pc0Fib3ZlSG9yaXpvbilyZXR1cm4hMTtvJiYobCo9ZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKTtjb25zdCBjPWUudGlsZUlELmNhbm9uaWNhbCx1PW4ucHJvamVjdGlvbi51cFZlY3RvclNjYWxlKGMsbi5jZW50ZXIubGF0LG4ud29ybGRTaXplKS5tZXRlcnNUb1RpbGU7Zm9yKGNvbnN0IGggb2YgdClmb3IoY29uc3QgdCBvZiBoKXtjb25zdCBoPXQuYWRkKHMpLGQ9ciYmbi5lbGV2YXRpb24/bi5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkqci5nZXRFbGV2YXRpb25BdChoLngsaC55LCEwKTowLHA9bi5wcm9qZWN0aW9uLnByb2plY3RUaWxlUG9pbnQoaC54LGgueSxjKTtpZihkPjApe2NvbnN0IGU9bi5wcm9qZWN0aW9uLnVwVmVjdG9yKGMsaC54LGgueSk7cC54Kz1lWzBdKnUqZCxwLnkrPWVbMV0qdSpkLHAueis9ZVsyXSp1KmR9Y29uc3QgZj1vP2g6SmwocC54LHAueSxwLnosaSksbT1vP2UudGlsZXNwYWNlUmF5cy5tYXAoZT0+ZWMoZSxkKSk6ZS5xdWVyeUdlb21ldHJ5LnNjcmVlbkdlb21ldHJ5LGc9TmwoW10sW3AueCxwLnkscC56LDFdLGkpO2lmKCFhJiZvP2wqPWdbM10vbi5jYW1lcmFUb0NlbnRlckRpc3RhbmNlOmEmJiFvJiYobCo9bi5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL2dbM10pLG8pe2NvbnN0IGU9VHMoKHQueS9wcytjLnkpLygxPDxjLnopKTtsLz1uLnByb2plY3Rpb24ucGl4ZWxzUGVyTWV0ZXIoZSwxKS9icygxLGUpfWlmKFVzKG0sZixsKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBKbChlLHQsbixpKXtjb25zdCByPU5sKFtdLFtlLHQsbiwxXSxpKTtyZXR1cm4gbmV3IG0oclswXS9yWzNdLHJbMV0vclszXSl9Y29uc3QgUWw9YmwoMCwwLDApLEtsPWJsKDAsMCwxKTtmdW5jdGlvbiBlYyhlLHQpe2NvbnN0IG49X2woKTtyZXR1cm4gUWxbMl09dCxlLmludGVyc2VjdHNQbGFuZShRbCxLbCxuKSxuZXcgbShuWzBdLG5bMV0pfWNsYXNzIHRjIGV4dGVuZHMgRnN7fWZ1bmN0aW9uIG5jKGUse3dpZHRoOnQsaGVpZ2h0Om59LGkscil7aWYocil7aWYociBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5KXI9bmV3IFVpbnQ4QXJyYXkoci5idWZmZXIpO2Vsc2UgaWYoci5sZW5ndGghPT10Km4qaSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm1pc21hdGNoZWQgaW1hZ2Ugc2l6ZVwiKX1lbHNlIHI9bmV3IFVpbnQ4QXJyYXkodCpuKmkpO3JldHVybiBlLndpZHRoPXQsZS5oZWlnaHQ9bixlLmRhdGE9cixlfWZ1bmN0aW9uIGljKGUsdCxuKXtjb25zdHt3aWR0aDppLGhlaWdodDpyfT10O2k9PT1lLndpZHRoJiZyPT09ZS5oZWlnaHR8fChyYyhlLHQse3g6MCx5OjB9LHt4OjAseTowfSx7d2lkdGg6TWF0aC5taW4oZS53aWR0aCxpKSxoZWlnaHQ6TWF0aC5taW4oZS5oZWlnaHQscil9LG4pLGUud2lkdGg9aSxlLmhlaWdodD1yLGUuZGF0YT10LmRhdGEpfWZ1bmN0aW9uIHJjKGUsdCxuLGkscixvKXtpZigwPT09ci53aWR0aHx8MD09PXIuaGVpZ2h0KXJldHVybiB0O2lmKHIud2lkdGg+ZS53aWR0aHx8ci5oZWlnaHQ+ZS5oZWlnaHR8fG4ueD5lLndpZHRoLXIud2lkdGh8fG4ueT5lLmhlaWdodC1yLmhlaWdodCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBzb3VyY2UgY29vcmRpbmF0ZXMgZm9yIGltYWdlIGNvcHlcIik7aWYoci53aWR0aD50LndpZHRofHxyLmhlaWdodD50LmhlaWdodHx8aS54PnQud2lkdGgtci53aWR0aHx8aS55PnQuaGVpZ2h0LXIuaGVpZ2h0KXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGRlc3RpbmF0aW9uIGNvb3JkaW5hdGVzIGZvciBpbWFnZSBjb3B5XCIpO2NvbnN0IGE9ZS5kYXRhLHM9dC5kYXRhO2ZvcihsZXQgbD0wO2w8ci5oZWlnaHQ7bCsrKXtjb25zdCBjPSgobi55K2wpKmUud2lkdGgrbi54KSpvLHU9KChpLnkrbCkqdC53aWR0aCtpLngpKm87Zm9yKGxldCBlPTA7ZTxyLndpZHRoKm87ZSsrKXNbdStlXT1hW2MrZV19cmV0dXJuIHR9enIodGMsXCJIZWF0bWFwQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCJdfSk7Y2xhc3Mgb2N7Y29uc3RydWN0b3IoZSx0KXtuYyh0aGlzLGUsMSx0KX1yZXNpemUoZSl7aWModGhpcyxuZXcgb2MoZSksMSl9Y2xvbmUoKXtyZXR1cm4gbmV3IG9jKHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0sbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhKSl9c3RhdGljIGNvcHkoZSx0LG4saSxyKXtyYyhlLHQsbixpLHIsMSl9fWNsYXNzIGFje2NvbnN0cnVjdG9yKGUsdCl7bmModGhpcyxlLDQsdCl9cmVzaXplKGUpe2ljKHRoaXMsbmV3IGFjKGUpLDQpfXJlcGxhY2UoZSx0KXt0P3RoaXMuZGF0YS5zZXQoZSk6dGhpcy5kYXRhPWUgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheT9uZXcgVWludDhBcnJheShlLmJ1ZmZlcik6ZX1jbG9uZSgpe3JldHVybiBuZXcgYWMoe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSxuZXcgVWludDhBcnJheSh0aGlzLmRhdGEpKX1zdGF0aWMgY29weShlLHQsbixpLHIpe3JjKGUsdCxuLGksciw0KX19enIob2MsXCJBbHBoYUltYWdlXCIpLHpyKGFjLFwiUkdCQUltYWdlXCIpO3ZhciBzYz17cGFpbnQ6bmV3IEdvKHtcImhlYXRtYXAtcmFkaXVzXCI6bmV3IFVvKEplLnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLXJhZGl1c1wiXSksXCJoZWF0bWFwLXdlaWdodFwiOm5ldyBVbyhKZS5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC13ZWlnaHRcIl0pLFwiaGVhdG1hcC1pbnRlbnNpdHlcIjpuZXcgTm8oSmUucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtaW50ZW5zaXR5XCJdKSxcImhlYXRtYXAtY29sb3JcIjpuZXcgVm8oSmUucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtY29sb3JcIl0pLFwiaGVhdG1hcC1vcGFjaXR5XCI6bmV3IE5vKEplLnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLW9wYWNpdHlcIl0pfSl9O2Z1bmN0aW9uIGxjKGUpe2NvbnN0IHQ9e30sbj1lLnJlc29sdXRpb258fDI1NixpPWUuY2xpcHM/ZS5jbGlwcy5sZW5ndGg6MSxyPWUuaW1hZ2V8fG5ldyBhYyh7d2lkdGg6bixoZWlnaHQ6aX0pLG89KG4saSxvKT0+e3RbZS5ldmFsdWF0aW9uS2V5XT1vO2NvbnN0IGE9ZS5leHByZXNzaW9uLmV2YWx1YXRlKHQpO3IuZGF0YVtuK2krMF09TWF0aC5mbG9vcigyNTUqYS5yL2EuYSksci5kYXRhW24raSsxXT1NYXRoLmZsb29yKDI1NSphLmcvYS5hKSxyLmRhdGFbbitpKzJdPU1hdGguZmxvb3IoMjU1KmEuYi9hLmEpLHIuZGF0YVtuK2krM109TWF0aC5mbG9vcigyNTUqYS5hKX07aWYoZS5jbGlwcylmb3IobGV0IHQ9MCxyPTA7dDxpOysrdCxyKz00Km4pZm9yKGxldCBpPTAsYT0wO2k8bjtpKyssYSs9NCl7Y29uc3Qgcz1pLyhuLTEpLHtzdGFydDpsLGVuZDpjfT1lLmNsaXBzW3RdO28ocixhLGwqKDEtcykrYypzKX1lbHNlIGZvcihsZXQgZT0wLHQ9MDtlPG47ZSsrLHQrPTQpbygwLHQsZS8obi0xKSk7cmV0dXJuIHJ9dmFyIGNjPXtwYWludDpuZXcgR28oe1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIjpuZXcgTm8oSmUucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIl0pLFwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3JcIjpuZXcgTm8oSmUucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3JcIl0pLFwiaGlsbHNoYWRlLWV4YWdnZXJhdGlvblwiOm5ldyBObyhKZS5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCJdKSxcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIjpuZXcgTm8oSmUucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiXSksXCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yXCI6bmV3IE5vKEplLnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIl0pLFwiaGlsbHNoYWRlLWFjY2VudC1jb2xvclwiOm5ldyBObyhKZS5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCJdKX0pfTtjb25zdCB1Yz1Ibyhbe25hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpLHttZW1iZXJzOmhjfT11Yzt2YXIgZGM9e2V4cG9ydHM6e319O2Z1bmN0aW9uIHBjKGUsdCxuKXtuPW58fDI7dmFyIGkscixvLGEscyxsLGMsdT10JiZ0Lmxlbmd0aCxoPXU/dFswXSpuOmUubGVuZ3RoLGQ9ZmMoZSwwLGgsbiwhMCkscD1bXTtpZighZHx8ZC5uZXh0PT09ZC5wcmV2KXJldHVybiBwO2lmKHUmJihkPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByLG8sYSxzPVtdO2ZvcihyPTAsbz10Lmxlbmd0aDtyPG87cisrKShhPWZjKGUsdFtyXSppLHI8by0xP3RbcisxXSppOmUubGVuZ3RoLGksITEpKT09PWEubmV4dCYmKGEuc3RlaW5lcj0hMCkscy5wdXNoKFNjKGEpKTtmb3Iocy5zb3J0KGJjKSxyPTA7cjxzLmxlbmd0aDtyKyspbj13YyhzW3JdLG4pO3JldHVybiBufShlLHQsZCxuKSksZS5sZW5ndGg+ODAqbil7aT1vPWVbMF0scj1hPWVbMV07Zm9yKHZhciBmPW47ZjxoO2YrPW4pKHM9ZVtmXSk8aSYmKGk9cyksKGw9ZVtmKzFdKTxyJiYocj1sKSxzPm8mJihvPXMpLGw+YSYmKGE9bCk7Yz0wIT09KGM9TWF0aC5tYXgoby1pLGEtcikpPzMyNzY3L2M6MH1yZXR1cm4gZ2MoZCxwLG4saSxyLGMsMCkscH1mdW5jdGlvbiBmYyhlLHQsbixpLHIpe3ZhciBvLGE7aWYocj09PWpjKGUsdCxuLGkpPjApZm9yKG89dDtvPG47bys9aSlhPU9jKG8sZVtvXSxlW28rMV0sYSk7ZWxzZSBmb3Iobz1uLWk7bz49dDtvLT1pKWE9T2MobyxlW29dLGVbbysxXSxhKTtyZXR1cm4gYSYma2MoYSxhLm5leHQpJiYoUmMoYSksYT1hLm5leHQpLGF9ZnVuY3Rpb24gbWMoZSx0KXtpZighZSlyZXR1cm4gZTt0fHwodD1lKTt2YXIgbixpPWU7ZG97aWYobj0hMSxpLnN0ZWluZXJ8fCFrYyhpLGkubmV4dCkmJjAhPT1DYyhpLnByZXYsaSxpLm5leHQpKWk9aS5uZXh0O2Vsc2V7aWYoUmMoaSksKGk9dD1pLnByZXYpPT09aS5uZXh0KWJyZWFrO249ITB9fXdoaWxlKG58fGkhPT10KTtyZXR1cm4gdH1mdW5jdGlvbiBnYyhlLHQsbixpLHIsbyxhKXtpZihlKXshYSYmbyYmZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9ZTtkb3swPT09ci56JiYoci56PUVjKHIueCxyLnksdCxuLGkpKSxyLnByZXZaPXIucHJldixyLm5leHRaPXIubmV4dCxyPXIubmV4dH13aGlsZShyIT09ZSk7ci5wcmV2Wi5uZXh0Wj1udWxsLHIucHJldlo9bnVsbCxmdW5jdGlvbihlKXt2YXIgdCxuLGkscixvLGEscyxsLGM9MTtkb3tmb3Iobj1lLGU9bnVsbCxvPW51bGwsYT0wO247KXtmb3IoYSsrLGk9bixzPTAsdD0wO3Q8YyYmKHMrKyxpPWkubmV4dFopO3QrKyk7Zm9yKGw9YztzPjB8fGw+MCYmaTspMCE9PXMmJigwPT09bHx8IWl8fG4uejw9aS56KT8ocj1uLG49bi5uZXh0WixzLS0pOihyPWksaT1pLm5leHRaLGwtLSksbz9vLm5leHRaPXI6ZT1yLHIucHJldlo9byxvPXI7bj1pfW8ubmV4dFo9bnVsbCxjKj0yfXdoaWxlKGE+MSl9KHIpfShlLGkscixvKTtmb3IodmFyIHMsbCxjPWU7ZS5wcmV2IT09ZS5uZXh0OylpZihzPWUucHJldixsPWUubmV4dCxvP19jKGUsaSxyLG8pOnljKGUpKXQucHVzaChzLmkvbnwwKSx0LnB1c2goZS5pL258MCksdC5wdXNoKGwuaS9ufDApLFJjKGUpLGU9bC5uZXh0LGM9bC5uZXh0O2Vsc2UgaWYoKGU9bCk9PT1jKXthPzE9PT1hP2djKGU9dmMobWMoZSksdCxuKSx0LG4saSxyLG8sMik6Mj09PWEmJnhjKGUsdCxuLGkscixvKTpnYyhtYyhlKSx0LG4saSxyLG8sMSk7YnJlYWt9fX1mdW5jdGlvbiB5YyhlKXt2YXIgdD1lLnByZXYsbj1lLGk9ZS5uZXh0O2lmKENjKHQsbixpKT49MClyZXR1cm4hMTtmb3IodmFyIHI9dC54LG89bi54LGE9aS54LHM9dC55LGw9bi55LGM9aS55LHU9cjxvP3I8YT9yOmE6bzxhP286YSxoPXM8bD9zPGM/czpjOmw8Yz9sOmMsZD1yPm8/cj5hP3I6YTpvPmE/bzphLHA9cz5sP3M+Yz9zOmM6bD5jP2w6YyxmPWkubmV4dDtmIT09dDspe2lmKGYueD49dSYmZi54PD1kJiZmLnk+PWgmJmYueTw9cCYmTWMocixzLG8sbCxhLGMsZi54LGYueSkmJkNjKGYucHJldixmLGYubmV4dCk+PTApcmV0dXJuITE7Zj1mLm5leHR9cmV0dXJuITB9ZnVuY3Rpb24gX2MoZSx0LG4saSl7dmFyIHI9ZS5wcmV2LG89ZSxhPWUubmV4dDtpZihDYyhyLG8sYSk+PTApcmV0dXJuITE7Zm9yKHZhciBzPXIueCxsPW8ueCxjPWEueCx1PXIueSxoPW8ueSxkPWEueSxwPXM8bD9zPGM/czpjOmw8Yz9sOmMsZj11PGg/dTxkP3U6ZDpoPGQ/aDpkLG09cz5sP3M+Yz9zOmM6bD5jP2w6YyxnPXU+aD91PmQ/dTpkOmg+ZD9oOmQseT1FYyhwLGYsdCxuLGkpLF89RWMobSxnLHQsbixpKSx2PWUucHJldloseD1lLm5leHRaO3YmJnYuej49eSYmeCYmeC56PD1fOyl7aWYodi54Pj1wJiZ2Lng8PW0mJnYueT49ZiYmdi55PD1nJiZ2IT09ciYmdiE9PWEmJk1jKHMsdSxsLGgsYyxkLHYueCx2LnkpJiZDYyh2LnByZXYsdix2Lm5leHQpPj0wKXJldHVybiExO2lmKHY9di5wcmV2Wix4Lng+PXAmJngueDw9bSYmeC55Pj1mJiZ4Lnk8PWcmJnghPT1yJiZ4IT09YSYmTWMocyx1LGwsaCxjLGQseC54LHgueSkmJkNjKHgucHJldix4LHgubmV4dCk+PTApcmV0dXJuITE7eD14Lm5leHRafWZvcig7diYmdi56Pj15Oyl7aWYodi54Pj1wJiZ2Lng8PW0mJnYueT49ZiYmdi55PD1nJiZ2IT09ciYmdiE9PWEmJk1jKHMsdSxsLGgsYyxkLHYueCx2LnkpJiZDYyh2LnByZXYsdix2Lm5leHQpPj0wKXJldHVybiExO3Y9di5wcmV2Wn1mb3IoO3gmJnguejw9Xzspe2lmKHgueD49cCYmeC54PD1tJiZ4Lnk+PWYmJngueTw9ZyYmeCE9PXImJnghPT1hJiZNYyhzLHUsbCxoLGMsZCx4LngseC55KSYmQ2MoeC5wcmV2LHgseC5uZXh0KT49MClyZXR1cm4hMTt4PXgubmV4dFp9cmV0dXJuITB9ZnVuY3Rpb24gdmMoZSx0LG4pe3ZhciBpPWU7ZG97dmFyIHI9aS5wcmV2LG89aS5uZXh0Lm5leHQ7IWtjKHIsbykmJkFjKHIsaSxpLm5leHQsbykmJkRjKHIsbykmJkRjKG8scikmJih0LnB1c2goci5pL258MCksdC5wdXNoKGkuaS9ufDApLHQucHVzaChvLmkvbnwwKSxSYyhpKSxSYyhpLm5leHQpLGk9ZT1vKSxpPWkubmV4dH13aGlsZShpIT09ZSk7cmV0dXJuIG1jKGkpfWZ1bmN0aW9uIHhjKGUsdCxuLGkscixvKXt2YXIgYT1lO2Rve2Zvcih2YXIgcz1hLm5leHQubmV4dDtzIT09YS5wcmV2Oyl7aWYoYS5pIT09cy5pJiZJYyhhLHMpKXt2YXIgbD1MYyhhLHMpO3JldHVybiBhPW1jKGEsYS5uZXh0KSxsPW1jKGwsbC5uZXh0KSxnYyhhLHQsbixpLHIsbywwKSx2b2lkIGdjKGwsdCxuLGkscixvLDApfXM9cy5uZXh0fWE9YS5uZXh0fXdoaWxlKGEhPT1lKX1mdW5jdGlvbiBiYyhlLHQpe3JldHVybiBlLngtdC54fWZ1bmN0aW9uIHdjKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgbixpPXQscj1lLngsbz1lLnksYT0tMS8wO2Rve2lmKG88PWkueSYmbz49aS5uZXh0LnkmJmkubmV4dC55IT09aS55KXt2YXIgcz1pLngrKG8taS55KSooaS5uZXh0LngtaS54KS8oaS5uZXh0LnktaS55KTtpZihzPD1yJiZzPmEmJihhPXMsbj1pLng8aS5uZXh0Lng/aTppLm5leHQscz09PXIpKXJldHVybiBufWk9aS5uZXh0fXdoaWxlKGkhPT10KTtpZighbilyZXR1cm4gbnVsbDt2YXIgbCxjPW4sdT1uLngsaD1uLnksZD0xLzA7aT1uO2Rve3I+PWkueCYmaS54Pj11JiZyIT09aS54JiZNYyhvPGg/cjphLG8sdSxoLG88aD9hOnIsbyxpLngsaS55KSYmKGw9TWF0aC5hYnMoby1pLnkpLyhyLWkueCksRGMoaSxlKSYmKGw8ZHx8bD09PWQmJihpLng+bi54fHxpLng9PT1uLngmJlRjKG4saSkpKSYmKG49aSxkPWwpKSxpPWkubmV4dH13aGlsZShpIT09Yyk7cmV0dXJuIG59KGUsdCk7aWYoIW4pcmV0dXJuIHQ7dmFyIGk9TGMobixlKTtyZXR1cm4gbWMoaSxpLm5leHQpLG1jKG4sbi5uZXh0KX1mdW5jdGlvbiBUYyhlLHQpe3JldHVybiBDYyhlLnByZXYsZSx0LnByZXYpPDAmJkNjKHQubmV4dCxlLGUubmV4dCk8MH1mdW5jdGlvbiBFYyhlLHQsbixpLHIpe3JldHVybihlPTE0MzE2NTU3NjUmKChlPTg1ODk5MzQ1OSYoKGU9MjUyNjQ1MTM1JigoZT0xNjcxMTkzNSYoKGU9KGUtbikqcnwwKXxlPDw4KSl8ZTw8NCkpfGU8PDIpKXxlPDwxKSl8KHQ9MTQzMTY1NTc2NSYoKHQ9ODU4OTkzNDU5JigodD0yNTI2NDUxMzUmKCh0PTE2NzExOTM1JigodD0odC1pKSpyfDApfHQ8PDgpKXx0PDw0KSl8dDw8MikpfHQ8PDEpKTw8MX1mdW5jdGlvbiBTYyhlKXt2YXIgdD1lLG49ZTtkb3sodC54PG4ueHx8dC54PT09bi54JiZ0Lnk8bi55KSYmKG49dCksdD10Lm5leHR9d2hpbGUodCE9PWUpO3JldHVybiBufWZ1bmN0aW9uIE1jKGUsdCxuLGkscixvLGEscyl7cmV0dXJuKHItYSkqKHQtcyk+PShlLWEpKihvLXMpJiYoZS1hKSooaS1zKT49KG4tYSkqKHQtcykmJihuLWEpKihvLXMpPj0oci1hKSooaS1zKX1mdW5jdGlvbiBJYyhlLHQpe3JldHVybiBlLm5leHQuaSE9PXQuaSYmZS5wcmV2LmkhPT10LmkmJiFmdW5jdGlvbihlLHQpe3ZhciBuPWU7ZG97aWYobi5pIT09ZS5pJiZuLm5leHQuaSE9PWUuaSYmbi5pIT09dC5pJiZuLm5leHQuaSE9PXQuaSYmQWMobixuLm5leHQsZSx0KSlyZXR1cm4hMDtuPW4ubmV4dH13aGlsZShuIT09ZSk7cmV0dXJuITF9KGUsdCkmJihEYyhlLHQpJiZEYyh0LGUpJiZmdW5jdGlvbihlLHQpe3ZhciBuPWUsaT0hMSxyPShlLngrdC54KS8yLG89KGUueSt0LnkpLzI7ZG97bi55Pm8hPW4ubmV4dC55Pm8mJm4ubmV4dC55IT09bi55JiZyPChuLm5leHQueC1uLngpKihvLW4ueSkvKG4ubmV4dC55LW4ueSkrbi54JiYoaT0haSksbj1uLm5leHR9d2hpbGUobiE9PWUpO3JldHVybiBpfShlLHQpJiYoQ2MoZS5wcmV2LGUsdC5wcmV2KXx8Q2MoZSx0LnByZXYsdCkpfHxrYyhlLHQpJiZDYyhlLnByZXYsZSxlLm5leHQpPjAmJkNjKHQucHJldix0LHQubmV4dCk+MCl9ZnVuY3Rpb24gQ2MoZSx0LG4pe3JldHVybih0LnktZS55KSoobi54LXQueCktKHQueC1lLngpKihuLnktdC55KX1mdW5jdGlvbiBrYyhlLHQpe3JldHVybiBlLng9PT10LngmJmUueT09PXQueX1mdW5jdGlvbiBBYyhlLHQsbixpKXt2YXIgcj16YyhDYyhlLHQsbikpLG89emMoQ2MoZSx0LGkpKSxhPXpjKENjKG4saSxlKSkscz16YyhDYyhuLGksdCkpO3JldHVybiByIT09byYmYSE9PXN8fCEoMCE9PXJ8fCFQYyhlLG4sdCkpfHwhKDAhPT1vfHwhUGMoZSxpLHQpKXx8ISgwIT09YXx8IVBjKG4sZSxpKSl8fCEoMCE9PXN8fCFQYyhuLHQsaSkpfWZ1bmN0aW9uIFBjKGUsdCxuKXtyZXR1cm4gdC54PD1NYXRoLm1heChlLngsbi54KSYmdC54Pj1NYXRoLm1pbihlLngsbi54KSYmdC55PD1NYXRoLm1heChlLnksbi55KSYmdC55Pj1NYXRoLm1pbihlLnksbi55KX1mdW5jdGlvbiB6YyhlKXtyZXR1cm4gZT4wPzE6ZTwwPy0xOjB9ZnVuY3Rpb24gRGMoZSx0KXtyZXR1cm4gQ2MoZS5wcmV2LGUsZS5uZXh0KTwwP0NjKGUsdCxlLm5leHQpPj0wJiZDYyhlLGUucHJldix0KT49MDpDYyhlLHQsZS5wcmV2KTwwfHxDYyhlLGUubmV4dCx0KTwwfWZ1bmN0aW9uIExjKGUsdCl7dmFyIG49bmV3IEJjKGUuaSxlLngsZS55KSxpPW5ldyBCYyh0LmksdC54LHQueSkscj1lLm5leHQsbz10LnByZXY7cmV0dXJuIGUubmV4dD10LHQucHJldj1lLG4ubmV4dD1yLHIucHJldj1uLGkubmV4dD1uLG4ucHJldj1pLG8ubmV4dD1pLGkucHJldj1vLGl9ZnVuY3Rpb24gT2MoZSx0LG4saSl7dmFyIHI9bmV3IEJjKGUsdCxuKTtyZXR1cm4gaT8oci5uZXh0PWkubmV4dCxyLnByZXY9aSxpLm5leHQucHJldj1yLGkubmV4dD1yKTooci5wcmV2PXIsci5uZXh0PXIpLHJ9ZnVuY3Rpb24gUmMoZSl7ZS5uZXh0LnByZXY9ZS5wcmV2LGUucHJldi5uZXh0PWUubmV4dCxlLnByZXZaJiYoZS5wcmV2Wi5uZXh0Wj1lLm5leHRaKSxlLm5leHRaJiYoZS5uZXh0Wi5wcmV2Wj1lLnByZXZaKX1mdW5jdGlvbiBCYyhlLHQsbil7dGhpcy5pPWUsdGhpcy54PXQsdGhpcy55PW4sdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PTAsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITF9ZnVuY3Rpb24gamMoZSx0LG4saSl7Zm9yKHZhciByPTAsbz10LGE9bi1pO288bjtvKz1pKXIrPShlW2FdLWVbb10pKihlW28rMV0rZVthKzFdKSxhPW87cmV0dXJuIHJ9ZnVuY3Rpb24gRmMoZSx0LG4saSxyKXshZnVuY3Rpb24gZSh0LG4saSxyLG8pe2Zvcig7cj5pOyl7aWYoci1pPjYwMCl7dmFyIGE9ci1pKzEscz1uLWkrMSxsPU1hdGgubG9nKGEpLGM9LjUqTWF0aC5leHAoMipsLzMpLHU9LjUqTWF0aC5zcXJ0KGwqYyooYS1jKS9hKSoocy1hLzI8MD8tMToxKTtlKHQsbixNYXRoLm1heChpLE1hdGguZmxvb3Iobi1zKmMvYSt1KSksTWF0aC5taW4ocixNYXRoLmZsb29yKG4rKGEtcykqYy9hK3UpKSxvKX12YXIgaD10W25dLGQ9aSxwPXI7Zm9yKE5jKHQsaSxuKSxvKHRbcl0saCk+MCYmTmModCxpLHIpO2Q8cDspe2ZvcihOYyh0LGQscCksZCsrLHAtLTtvKHRbZF0saCk8MDspZCsrO2Zvcig7byh0W3BdLGgpPjA7KXAtLX0wPT09byh0W2ldLGgpP05jKHQsaSxwKTpOYyh0LCsrcCxyKSxwPD1uJiYoaT1wKzEpLG48PXAmJihyPXAtMSl9fShlLHQsbnx8MCxpfHxlLmxlbmd0aC0xLHJ8fFVjKX1mdW5jdGlvbiBOYyhlLHQsbil7dmFyIGk9ZVt0XTtlW3RdPWVbbl0sZVtuXT1pfWZ1bmN0aW9uIFVjKGUsdCl7cmV0dXJuIGU8dD8tMTplPnQ/MTowfWZ1bmN0aW9uIFZjKGUsdCl7Y29uc3Qgbj1lLmxlbmd0aDtpZihuPD0xKXJldHVybltlXTtjb25zdCBpPVtdO2xldCByLG87Zm9yKGxldCB0PTA7dDxuO3QrKyl7Y29uc3Qgbj1aKGVbdF0pOzAhPT1uJiYoZVt0XS5hcmVhPU1hdGguYWJzKG4pLHZvaWQgMD09PW8mJihvPW48MCksbz09PW48MD8ociYmaS5wdXNoKHIpLHI9W2VbdF1dKTpyLnB1c2goZVt0XSkpfWlmKHImJmkucHVzaChyKSx0PjEpZm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspaVtlXS5sZW5ndGg8PXR8fChGYyhpW2VdLHQsMSxpW2VdLmxlbmd0aC0xLEdjKSxpW2VdPWlbZV0uc2xpY2UoMCx0KSk7cmV0dXJuIGl9ZnVuY3Rpb24gR2MoZSx0KXtyZXR1cm4gdC5hcmVhLWUuYXJlYX1mdW5jdGlvbiBaYyhlLHQsbil7Y29uc3QgaT1uLnBhdHRlcm5EZXBlbmRlbmNpZXM7bGV0IHI9ITE7Zm9yKGNvbnN0IG4gb2YgdCl7Y29uc3QgdD1uLnBhaW50LmdldChlK1wiLXBhdHRlcm5cIik7dC5pc0NvbnN0YW50KCl8fChyPSEwKTtjb25zdCBvPXQuY29uc3RhbnRPcihudWxsKTtvJiYocj0hMCxpW29dPSEwKX1yZXR1cm4gcn1mdW5jdGlvbiBXYyhlLHQsbixpLHIpe2NvbnN0IG89ci5wYXR0ZXJuRGVwZW5kZW5jaWVzO2Zvcihjb25zdCBhIG9mIHQpe2NvbnN0IHQ9YS5wYWludC5nZXQoZStcIi1wYXR0ZXJuXCIpLnZhbHVlO2lmKFwiY29uc3RhbnRcIiE9PXQua2luZCl7bGV0IGU9dC5ldmFsdWF0ZSh7em9vbTppfSxuLHt9LHIuYXZhaWxhYmxlSW1hZ2VzKTtlPWUmJmUubmFtZT9lLm5hbWU6ZSxvW2VdPSEwLG4ucGF0dGVybnNbYS5pZF09ZX19cmV0dXJuIG59ZGMuZXhwb3J0cz1wYyxkYy5leHBvcnRzLmRlZmF1bHQ9cGMscGMuZGV2aWF0aW9uPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByPXQmJnQubGVuZ3RoLG89TWF0aC5hYnMoamMoZSwwLHI/dFswXSpuOmUubGVuZ3RoLG4pKTtpZihyKWZvcih2YXIgYT0wLHM9dC5sZW5ndGg7YTxzO2ErKylvLT1NYXRoLmFicyhqYyhlLHRbYV0qbixhPHMtMT90W2ErMV0qbjplLmxlbmd0aCxuKSk7dmFyIGw9MDtmb3IoYT0wO2E8aS5sZW5ndGg7YSs9Myl7dmFyIGM9aVthXSpuLHU9aVthKzFdKm4saD1pW2ErMl0qbjtsKz1NYXRoLmFicygoZVtjXS1lW2hdKSooZVt1KzFdLWVbYysxXSktKGVbY10tZVt1XSkqKGVbaCsxXS1lW2MrMV0pKX1yZXR1cm4gMD09PW8mJjA9PT1sPzA6TWF0aC5hYnMoKGwtbykvbyl9LHBjLmZsYXR0ZW49ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWVbMF1bMF0ubGVuZ3RoLG49e3ZlcnRpY2VzOltdLGhvbGVzOltdLGRpbWVuc2lvbnM6dH0saT0wLHI9MDtyPGUubGVuZ3RoO3IrKyl7Zm9yKHZhciBvPTA7bzxlW3JdLmxlbmd0aDtvKyspZm9yKHZhciBhPTA7YTx0O2ErKyluLnZlcnRpY2VzLnB1c2goZVtyXVtvXVthXSk7cj4wJiZuLmhvbGVzLnB1c2goaSs9ZVtyLTFdLmxlbmd0aCl9cmV0dXJuIG59O2NsYXNzIHFje2NvbnN0cnVjdG9yKGUpe3RoaXMuem9vbT1lLnpvb20sdGhpcy5vdmVyc2NhbGluZz1lLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKGU9PmUuaWQpLHRoaXMuaW5kZXg9ZS5pbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5wYXR0ZXJuRmVhdHVyZXM9W10sdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgWW8sdGhpcy5pbmRleEFycmF5PW5ldyBkYSx0aGlzLmluZGV4QXJyYXkyPW5ldyBfYSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgbnMoZS5sYXllcnMsZS56b29tKSx0aGlzLnNlZ21lbnRzPW5ldyBkcyx0aGlzLnNlZ21lbnRzMj1uZXcgZHMsdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcihlPT5lLmlzU3RhdGVEZXBlbmRlbnQoKSkubWFwKGU9PmUuaWQpLHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb259cG9wdWxhdGUoZSx0LG4saSl7dGhpcy5oYXNQYXR0ZXJuPVpjKFwiZmlsbFwiLHRoaXMubGF5ZXJzLHQpO2NvbnN0IHI9dGhpcy5sYXllcnNbMF0ubGF5b3V0LmdldChcImZpbGwtc29ydC1rZXlcIiksbz1bXTtmb3IoY29uc3R7ZmVhdHVyZTphLGlkOnMsaW5kZXg6bCxzb3VyY2VMYXllckluZGV4OmN9b2YgZSl7Y29uc3QgZT10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksdT1ScyhhLGUpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IFBvKHRoaXMuem9vbSksdSxuKSljb250aW51ZTtjb25zdCBoPXI/ci5ldmFsdWF0ZSh1LHt9LG4sdC5hdmFpbGFibGVJbWFnZXMpOnZvaWQgMCxkPXtpZDpzLHByb3BlcnRpZXM6YS5wcm9wZXJ0aWVzLHR5cGU6YS50eXBlLHNvdXJjZUxheWVySW5kZXg6YyxpbmRleDpsLGdlb21ldHJ5OmU/dS5nZW9tZXRyeTpPcyhhLG4saSkscGF0dGVybnM6e30sc29ydEtleTpofTtvLnB1c2goZCl9ciYmby5zb3J0KChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KTtmb3IoY29uc3QgaSBvZiBvKXtjb25zdHtnZW9tZXRyeTpyLGluZGV4Om8sc291cmNlTGF5ZXJJbmRleDphfT1pO2lmKHRoaXMuaGFzUGF0dGVybil7Y29uc3QgZT1XYyhcImZpbGxcIix0aGlzLmxheWVycyxpLHRoaXMuem9vbSx0KTt0aGlzLnBhdHRlcm5GZWF0dXJlcy5wdXNoKGUpfWVsc2UgdGhpcy5hZGRGZWF0dXJlKGkscixvLG4se30sdC5hdmFpbGFibGVJbWFnZXMpO3QuZmVhdHVyZUluZGV4Lmluc2VydChlW29dLmZlYXR1cmUscixvLGEsdGhpcy5pbmRleCl9fXVwZGF0ZShlLHQsbixpKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXMoZSx0LHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMsbixpKX1hZGRGZWF0dXJlcyhlLHQsbixpLHIpe2Zvcihjb25zdCBlIG9mIHRoaXMucGF0dGVybkZlYXR1cmVzKXRoaXMuYWRkRmVhdHVyZShlLGUuZ2VvbWV0cnksZS5pbmRleCx0LG4saSl9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGh9dXBsb2FkUGVuZGluZygpe3JldHVybiF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksaGMpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMuaW5kZXhCdWZmZXIyPWUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5MikpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZChlKSx0aGlzLnVwbG9hZGVkPSEwfWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyMi5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMyLmRlc3Ryb3koKSl9YWRkRmVhdHVyZShlLHQsbixpLHIsbz1bXSl7Zm9yKGNvbnN0IGUgb2YgVmModCw1MDApKXtsZXQgdD0wO2Zvcihjb25zdCBuIG9mIGUpdCs9bi5sZW5ndGg7Y29uc3Qgbj10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KHQsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXkpLGk9bi52ZXJ0ZXhMZW5ndGgscj1bXSxvPVtdO2Zvcihjb25zdCB0IG9mIGUpe2lmKDA9PT10Lmxlbmd0aCljb250aW51ZTt0IT09ZVswXSYmby5wdXNoKHIubGVuZ3RoLzIpO2NvbnN0IG49dGhpcy5zZWdtZW50czIucHJlcGFyZVNlZ21lbnQodC5sZW5ndGgsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXkyKSxpPW4udmVydGV4TGVuZ3RoO3RoaXMubGF5b3V0VmVydGV4QXJyYXkuZW1wbGFjZUJhY2sodFswXS54LHRbMF0ueSksdGhpcy5pbmRleEFycmF5Mi5lbXBsYWNlQmFjayhpK3QubGVuZ3RoLTEsaSksci5wdXNoKHRbMF0ueCksci5wdXNoKHRbMF0ueSk7Zm9yKGxldCBlPTE7ZTx0Lmxlbmd0aDtlKyspdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayh0W2VdLngsdFtlXS55KSx0aGlzLmluZGV4QXJyYXkyLmVtcGxhY2VCYWNrKGkrZS0xLGkrZSksci5wdXNoKHRbZV0ueCksci5wdXNoKHRbZV0ueSk7bi52ZXJ0ZXhMZW5ndGgrPXQubGVuZ3RoLG4ucHJpbWl0aXZlTGVuZ3RoKz10Lmxlbmd0aH1jb25zdCBhPWRjLmV4cG9ydHMocixvKTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrPTMpdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKGkrYVtlXSxpK2FbZSsxXSxpK2FbZSsyXSk7bi52ZXJ0ZXhMZW5ndGgrPXQsbi5wcmltaXRpdmVMZW5ndGgrPWEubGVuZ3RoLzN9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCxlLG4scixvLGkpfX16cihxYyxcIkZpbGxCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIixcInBhdHRlcm5GZWF0dXJlc1wiXX0pO2NvbnN0ICRjPW5ldyBHbyh7XCJmaWxsLXNvcnQta2V5XCI6bmV3IFVvKEplLmxheW91dF9maWxsW1wiZmlsbC1zb3J0LWtleVwiXSl9KTt2YXIgSGM9e3BhaW50Om5ldyBHbyh7XCJmaWxsLWFudGlhbGlhc1wiOm5ldyBObyhKZS5wYWludF9maWxsW1wiZmlsbC1hbnRpYWxpYXNcIl0pLFwiZmlsbC1vcGFjaXR5XCI6bmV3IFVvKEplLnBhaW50X2ZpbGxbXCJmaWxsLW9wYWNpdHlcIl0pLFwiZmlsbC1jb2xvclwiOm5ldyBVbyhKZS5wYWludF9maWxsW1wiZmlsbC1jb2xvclwiXSksXCJmaWxsLW91dGxpbmUtY29sb3JcIjpuZXcgVW8oSmUucGFpbnRfZmlsbFtcImZpbGwtb3V0bGluZS1jb2xvclwiXSksXCJmaWxsLXRyYW5zbGF0ZVwiOm5ldyBObyhKZS5wYWludF9maWxsW1wiZmlsbC10cmFuc2xhdGVcIl0pLFwiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IE5vKEplLnBhaW50X2ZpbGxbXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIl0pLFwiZmlsbC1wYXR0ZXJuXCI6bmV3IFVvKEplLnBhaW50X2ZpbGxbXCJmaWxsLXBhdHRlcm5cIl0pfSksbGF5b3V0OiRjfTtjb25zdCBYYz1Ibyhbe25hbWU6XCJhX3Bvc19ub3JtYWxfZWRcIixjb21wb25lbnRzOjQsdHlwZTpcIkludDE2XCJ9XSksWWM9SG8oW3tuYW1lOlwiYV9jZW50cm9pZF9wb3NcIixjb21wb25lbnRzOjIsdHlwZTpcIlVpbnQxNlwifV0pLEpjPUhvKFt7bmFtZTpcImFfcG9zXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9wb3Nfbm9ybWFsXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9XSkse21lbWJlcnM6UWN9PVhjO3ZhciBLYz17fSxldT1tLHR1PW51O2Z1bmN0aW9uIG51KGUsdCxuLGkscil7dGhpcy5wcm9wZXJ0aWVzPXt9LHRoaXMuZXh0ZW50PW4sdGhpcy50eXBlPTAsdGhpcy5fcGJmPWUsdGhpcy5fZ2VvbWV0cnk9LTEsdGhpcy5fa2V5cz1pLHRoaXMuX3ZhbHVlcz1yLGUucmVhZEZpZWxkcyhpdSx0aGlzLHQpfWZ1bmN0aW9uIGl1KGUsdCxuKXsxPT1lP3QuaWQ9bi5yZWFkVmFyaW50KCk6Mj09ZT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLnJlYWRWYXJpbnQoKStlLnBvcztlLnBvczxuOyl7dmFyIGk9dC5fa2V5c1tlLnJlYWRWYXJpbnQoKV0scj10Ll92YWx1ZXNbZS5yZWFkVmFyaW50KCldO3QucHJvcGVydGllc1tpXT1yfX0obix0KTozPT1lP3QudHlwZT1uLnJlYWRWYXJpbnQoKTo0PT1lJiYodC5fZ2VvbWV0cnk9bi5wb3MpfWZ1bmN0aW9uIHJ1KGUpe2Zvcih2YXIgdCxuLGk9MCxyPTAsbz1lLmxlbmd0aCxhPW8tMTtyPG87YT1yKyspaSs9KChuPWVbYV0pLngtKHQ9ZVtyXSkueCkqKHQueStuLnkpO3JldHVybiBpfW51LnR5cGVzPVtcIlVua25vd25cIixcIlBvaW50XCIsXCJMaW5lU3RyaW5nXCIsXCJQb2x5Z29uXCJdLG51LnByb3RvdHlwZS5sb2FkR2VvbWV0cnk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9wYmY7ZS5wb3M9dGhpcy5fZ2VvbWV0cnk7Zm9yKHZhciB0LG49ZS5yZWFkVmFyaW50KCkrZS5wb3MsaT0xLHI9MCxvPTAsYT0wLHM9W107ZS5wb3M8bjspe2lmKHI8PTApe3ZhciBsPWUucmVhZFZhcmludCgpO2k9NyZsLHI9bD4+M31pZihyLS0sMT09PWl8fDI9PT1pKW8rPWUucmVhZFNWYXJpbnQoKSxhKz1lLnJlYWRTVmFyaW50KCksMT09PWkmJih0JiZzLnB1c2godCksdD1bXSksdC5wdXNoKG5ldyBldShvLGEpKTtlbHNle2lmKDchPT1pKXRocm93IG5ldyBFcnJvcihcInVua25vd24gY29tbWFuZCBcIitpKTt0JiZ0LnB1c2godFswXS5jbG9uZSgpKX19cmV0dXJuIHQmJnMucHVzaCh0KSxzfSxudS5wcm90b3R5cGUuYmJveD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3BiZjtlLnBvcz10aGlzLl9nZW9tZXRyeTtmb3IodmFyIHQ9ZS5yZWFkVmFyaW50KCkrZS5wb3Msbj0xLGk9MCxyPTAsbz0wLGE9MS8wLHM9LTEvMCxsPTEvMCxjPS0xLzA7ZS5wb3M8dDspe2lmKGk8PTApe3ZhciB1PWUucmVhZFZhcmludCgpO249NyZ1LGk9dT4+M31pZihpLS0sMT09PW58fDI9PT1uKShyKz1lLnJlYWRTVmFyaW50KCkpPGEmJihhPXIpLHI+cyYmKHM9ciksKG8rPWUucmVhZFNWYXJpbnQoKSk8bCYmKGw9byksbz5jJiYoYz1vKTtlbHNlIGlmKDchPT1uKXRocm93IG5ldyBFcnJvcihcInVua25vd24gY29tbWFuZCBcIituKX1yZXR1cm5bYSxsLHMsY119LG51LnByb3RvdHlwZS50b0dlb0pTT049ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbz10aGlzLmV4dGVudCpNYXRoLnBvdygyLG4pLGE9dGhpcy5leHRlbnQqZSxzPXRoaXMuZXh0ZW50KnQsbD10aGlzLmxvYWRHZW9tZXRyeSgpLGM9bnUudHlwZXNbdGhpcy50eXBlXTtmdW5jdGlvbiB1KGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO2VbdF09WzM2MCoobi54K2EpL28tMTgwLDM2MC9NYXRoLlBJKk1hdGguYXRhbihNYXRoLmV4cCgoMTgwLTM2MCoobi55K3MpL28pKk1hdGguUEkvMTgwKSktOTBdfX1zd2l0Y2godGhpcy50eXBlKXtjYXNlIDE6dmFyIGg9W107Zm9yKGk9MDtpPGwubGVuZ3RoO2krKyloW2ldPWxbaV1bMF07dShsPWgpO2JyZWFrO2Nhc2UgMjpmb3IoaT0wO2k8bC5sZW5ndGg7aSsrKXUobFtpXSk7YnJlYWs7Y2FzZSAzOmZvcihsPWZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO2lmKHQ8PTEpcmV0dXJuW2VdO2Zvcih2YXIgbixpLHI9W10sbz0wO288dDtvKyspe3ZhciBhPXJ1KGVbb10pOzAhPT1hJiYodm9pZCAwPT09aSYmKGk9YTwwKSxpPT09YTwwPyhuJiZyLnB1c2gobiksbj1bZVtvXV0pOm4ucHVzaChlW29dKSl9cmV0dXJuIG4mJnIucHVzaChuKSxyfShsKSxpPTA7aTxsLmxlbmd0aDtpKyspZm9yKHI9MDtyPGxbaV0ubGVuZ3RoO3IrKyl1KGxbaV1bcl0pfTE9PT1sLmxlbmd0aD9sPWxbMF06Yz1cIk11bHRpXCIrYzt2YXIgZD17dHlwZTpcIkZlYXR1cmVcIixnZW9tZXRyeTp7dHlwZTpjLGNvb3JkaW5hdGVzOmx9LHByb3BlcnRpZXM6dGhpcy5wcm9wZXJ0aWVzfTtyZXR1cm5cImlkXCJpbiB0aGlzJiYoZC5pZD10aGlzLmlkKSxkfTt2YXIgb3U9dHUsYXU9c3U7ZnVuY3Rpb24gc3UoZSx0KXt0aGlzLnZlcnNpb249MSx0aGlzLm5hbWU9bnVsbCx0aGlzLmV4dGVudD00MDk2LHRoaXMubGVuZ3RoPTAsdGhpcy5fcGJmPWUsdGhpcy5fa2V5cz1bXSx0aGlzLl92YWx1ZXM9W10sdGhpcy5fZmVhdHVyZXM9W10sZS5yZWFkRmllbGRzKGx1LHRoaXMsdCksdGhpcy5sZW5ndGg9dGhpcy5fZmVhdHVyZXMubGVuZ3RofWZ1bmN0aW9uIGx1KGUsdCxuKXsxNT09PWU/dC52ZXJzaW9uPW4ucmVhZFZhcmludCgpOjE9PT1lP3QubmFtZT1uLnJlYWRTdHJpbmcoKTo1PT09ZT90LmV4dGVudD1uLnJlYWRWYXJpbnQoKToyPT09ZT90Ll9mZWF0dXJlcy5wdXNoKG4ucG9zKTozPT09ZT90Ll9rZXlzLnB1c2gobi5yZWFkU3RyaW5nKCkpOjQ9PT1lJiZ0Ll92YWx1ZXMucHVzaChmdW5jdGlvbihlKXtmb3IodmFyIHQ9bnVsbCxuPWUucmVhZFZhcmludCgpK2UucG9zO2UucG9zPG47KXt2YXIgaT1lLnJlYWRWYXJpbnQoKT4+Mzt0PTE9PT1pP2UucmVhZFN0cmluZygpOjI9PT1pP2UucmVhZEZsb2F0KCk6Mz09PWk/ZS5yZWFkRG91YmxlKCk6ND09PWk/ZS5yZWFkVmFyaW50NjQoKTo1PT09aT9lLnJlYWRWYXJpbnQoKTo2PT09aT9lLnJlYWRTVmFyaW50KCk6Nz09PWk/ZS5yZWFkQm9vbGVhbigpOm51bGx9cmV0dXJuIHR9KG4pKX1zdS5wcm90b3R5cGUuZmVhdHVyZT1mdW5jdGlvbihlKXtpZihlPDB8fGU+PXRoaXMuX2ZlYXR1cmVzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJmZWF0dXJlIGluZGV4IG91dCBvZiBib3VuZHNcIik7dGhpcy5fcGJmLnBvcz10aGlzLl9mZWF0dXJlc1tlXTt2YXIgdD10aGlzLl9wYmYucmVhZFZhcmludCgpK3RoaXMuX3BiZi5wb3M7cmV0dXJuIG5ldyBvdSh0aGlzLl9wYmYsdCx0aGlzLmV4dGVudCx0aGlzLl9rZXlzLHRoaXMuX3ZhbHVlcyl9O3ZhciBjdT1hdTtmdW5jdGlvbiB1dShlLHQsbil7aWYoMz09PWUpe3ZhciBpPW5ldyBjdShuLG4ucmVhZFZhcmludCgpK24ucG9zKTtpLmxlbmd0aCYmKHRbaS5uYW1lXT1pKX19dmFyIGh1PUtjLlZlY3RvclRpbGU9ZnVuY3Rpb24oZSx0KXt0aGlzLmxheWVycz1lLnJlYWRGaWVsZHModXUse30sdCl9LGR1PUtjLlZlY3RvclRpbGVGZWF0dXJlPXR1O2Z1bmN0aW9uIHB1KGUsdCxuLGkpe2NvbnN0IHI9W10sbz0wPT09aT8oZSx0LG4saSxyLG8pPT57ZS5wdXNoKG5ldyBtKG8sbisoby10KS8oaS10KSooci1uKSkpfTooZSx0LG4saSxyLG8pPT57ZS5wdXNoKG5ldyBtKHQrKG8tbikvKHItbikqKGktdCksbykpfTtmb3IoY29uc3QgYSBvZiBlKXtjb25zdCBlPVtdO2Zvcihjb25zdCByIG9mIGEpe2lmKHIubGVuZ3RoPD0yKWNvbnRpbnVlO2NvbnN0IGE9W107Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aC0xO2UrKyl7Y29uc3Qgcz1yW2VdLngsbD1yW2VdLnksYz1yW2UrMV0ueCx1PXJbZSsxXS55LGg9MD09PWk/czpsLGQ9MD09PWk/Yzp1O2g8dD9kPnQmJm8oYSxzLGwsYyx1LHQpOmg+bj9kPG4mJm8oYSxzLGwsYyx1LG4pOmEucHVzaChyW2VdKSxkPHQmJmg+PXQmJm8oYSxzLGwsYyx1LHQpLGQ+biYmaDw9biYmbyhhLHMsbCxjLHUsbil9bGV0IHM9cltyLmxlbmd0aC0xXTtjb25zdCBsPTA9PT1pP3MueDpzLnk7bD49dCYmbDw9biYmYS5wdXNoKHMpLGEubGVuZ3RoJiYocz1hW2EubGVuZ3RoLTFdLGFbMF0ueD09PXMueCYmYVswXS55PT09cy55fHxhLnB1c2goYVswXSksZS5wdXNoKGEpKX1lLmxlbmd0aCYmci5wdXNoKGUpfXJldHVybiByfUtjLlZlY3RvclRpbGVMYXllcj1hdTtjb25zdCBmdT1kdS50eXBlcyxtdT1NYXRoLnBvdygyLDEzKTtmdW5jdGlvbiBndShlLHQsbixpLHIsbyxhLHMpe2UuZW1wbGFjZUJhY2soKHQ8PDEpK2EsKG48PDEpK28sKE1hdGguZmxvb3IoaSptdSk8PDEpK3IsTWF0aC5yb3VuZChzKSl9ZnVuY3Rpb24geXUoZSx0LG4pe2NvbnN0IGk9MTYzODQ7ZS5lbXBsYWNlQmFjayh0LngsdC55LHQueixuWzBdKmksblsxXSppLG5bMl0qaSl9Y2xhc3MgX3V7Y29uc3RydWN0b3IoKXt0aGlzLmFjYz1uZXcgbSgwLDApLHRoaXMucG9seUNvdW50PVtdfXN0YXJ0UmluZyhlKXt0aGlzLmN1cnJlbnRQb2x5Q291bnQ9e2VkZ2VzOjAsdG9wOjB9LHRoaXMucG9seUNvdW50LnB1c2godGhpcy5jdXJyZW50UG9seUNvdW50KSx0aGlzLm1pbnx8KHRoaXMubWluPW5ldyBtKGUueCxlLnkpLHRoaXMubWF4PW5ldyBtKGUueCxlLnkpKX1hcHBlbmQoZSx0KXt0aGlzLmN1cnJlbnRQb2x5Q291bnQuZWRnZXMrKyx0aGlzLmFjYy5fYWRkKGUpO2NvbnN0IG49dGhpcy5taW4saT10aGlzLm1heDtlLng8bi54P24ueD1lLng6ZS54PmkueCYmKGkueD1lLngpLGUueTxuLnk/bi55PWUueTplLnk+aS55JiYoaS55PWUueSksKCgwPT09ZS54fHxlLng9PT1wcykmJmUueD09PXQueCkhPSgoMD09PWUueXx8ZS55PT09cHMpJiZlLnk9PT10LnkpJiZ0aGlzLnByb2Nlc3NCb3JkZXJPdmVybGFwKGUsdCksdC54PDAhPWUueDwwJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigwLENuKHQueSxlLnksKDAtdC54KS8oZS54LXQueCkpKSx0Lng+cHMhPWUueD5wcyYmdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24oMSxDbih0LnksZS55LChwcy10LngpLyhlLngtdC54KSkpLHQueTwwIT1lLnk8MCYmdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24oMixDbih0LngsZS54LCgwLXQueSkvKGUueS10LnkpKSksdC55PnBzIT1lLnk+cHMmJnRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKDMsQ24odC54LGUueCwocHMtdC55KS8oZS55LXQueSkpKX1hZGRCb3JkZXJJbnRlcnNlY3Rpb24oZSx0KXt0aGlzLmJvcmRlcnN8fCh0aGlzLmJvcmRlcnM9W1tOdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFXSxbTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRV0sW051bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUVdLFtOdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFXV0pO2NvbnN0IG49dGhpcy5ib3JkZXJzW2VdO3Q8blswXSYmKG5bMF09dCksdD5uWzFdJiYoblsxXT10KX1wcm9jZXNzQm9yZGVyT3ZlcmxhcChlLHQpe2lmKGUueD09PXQueCl7aWYoZS55PT09dC55KXJldHVybjtjb25zdCBuPTA9PT1lLng/MDoxO3RoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKG4sdC55KSx0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbihuLGUueSl9ZWxzZXtjb25zdCBuPTA9PT1lLnk/MjozO3RoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKG4sdC54KSx0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbihuLGUueCl9fWNlbnRyb2lkKCl7Y29uc3QgZT10aGlzLnBvbHlDb3VudC5yZWR1Y2UoKGUsdCk9PmUrdC5lZGdlcywwKTtyZXR1cm4gMCE9PWU/dGhpcy5hY2MuZGl2KGUpLl9yb3VuZCgpOm5ldyBtKDAsMCl9c3Bhbigpe3JldHVybiBuZXcgbSh0aGlzLm1heC54LXRoaXMubWluLngsdGhpcy5tYXgueS10aGlzLm1pbi55KX1pbnRlcnNlY3RzQ291bnQoKXtyZXR1cm4gdGhpcy5ib3JkZXJzLnJlZHVjZSgoZSx0KT0+ZSsgKyh0WzBdIT09TnVtYmVyLk1BWF9WQUxVRSksMCl9fWNsYXNzIHZ1e2NvbnN0cnVjdG9yKGUpe3RoaXMuem9vbT1lLnpvb20sdGhpcy5jYW5vbmljYWw9ZS5jYW5vbmljYWwsdGhpcy5vdmVyc2NhbGluZz1lLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKGU9PmUuaWQpLHRoaXMuaW5kZXg9ZS5pbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5lZGdlUmFkaXVzPTAsdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbix0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBRbyx0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXk9bmV3IFBhLHRoaXMuaW5kZXhBcnJheT1uZXcgZGEsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9bmV3IG5zKGUubGF5ZXJzLGUuem9vbSksdGhpcy5zZWdtZW50cz1uZXcgZHMsdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcihlPT5lLmlzU3RhdGVEZXBlbmRlbnQoKSkubWFwKGU9PmUuaWQpLHRoaXMuZW5hYmxlVGVycmFpbj1lLmVuYWJsZVRlcnJhaW59cG9wdWxhdGUoZSx0LG4saSl7dGhpcy5mZWF0dXJlcz1bXSx0aGlzLmhhc1BhdHRlcm49WmMoXCJmaWxsLWV4dHJ1c2lvblwiLHRoaXMubGF5ZXJzLHQpLHRoaXMuZmVhdHVyZXNPbkJvcmRlcj1bXSx0aGlzLmJvcmRlcnM9W1tdLFtdLFtdLFtdXSx0aGlzLmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaPVstMSwtMSwtMSwtMV0sdGhpcy50aWxlVG9NZXRlcj1mdW5jdGlvbihlKXtjb25zdCB0PU1hdGguZXhwKE1hdGguUEkqKDEtZS55LygxPDxlLnopKjIpKTtyZXR1cm4gODAxNTAwMzQqdC8odCp0KzEpL3BzLygxPDxlLnopfShuKSx0aGlzLmVkZ2VSYWRpdXM9dGhpcy5sYXllcnNbMF0ubGF5b3V0LmdldChcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCIpL3RoaXMudGlsZVRvTWV0ZXI7Zm9yKGNvbnN0e2ZlYXR1cmU6cixpZDpvLGluZGV4OmEsc291cmNlTGF5ZXJJbmRleDpzfW9mIGUpe2NvbnN0IGU9dGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIubmVlZEdlb21ldHJ5LGw9UnMocixlKTtpZighdGhpcy5sYXllcnNbMF0uX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKG5ldyBQbyh0aGlzLnpvb20pLGwsbikpY29udGludWU7Y29uc3QgYz17aWQ6byxzb3VyY2VMYXllckluZGV4OnMsaW5kZXg6YSxnZW9tZXRyeTplP2wuZ2VvbWV0cnk6T3MocixuLGkpLHByb3BlcnRpZXM6ci5wcm9wZXJ0aWVzLHR5cGU6ci50eXBlLHBhdHRlcm5zOnt9fSx1PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoO3RoaXMuaGFzUGF0dGVybj90aGlzLmZlYXR1cmVzLnB1c2goV2MoXCJmaWxsLWV4dHJ1c2lvblwiLHRoaXMubGF5ZXJzLGMsdGhpcy56b29tLHQpKTp0aGlzLmFkZEZlYXR1cmUoYyxjLmdlb21ldHJ5LGEsbix7fSx0LmF2YWlsYWJsZUltYWdlcyxpKSx0LmZlYXR1cmVJbmRleC5pbnNlcnQocixjLmdlb21ldHJ5LGEscyx0aGlzLmluZGV4LHUpfXRoaXMuc29ydEJvcmRlcnMoKX1hZGRGZWF0dXJlcyhlLHQsbixpLHIpe2Zvcihjb25zdCBlIG9mIHRoaXMuZmVhdHVyZXMpe2NvbnN0e2dlb21ldHJ5Om99PWU7dGhpcy5hZGRGZWF0dXJlKGUsbyxlLmluZGV4LHQsbixpLHIpfXRoaXMuc29ydEJvcmRlcnMoKX11cGRhdGUoZSx0LG4saSl7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLG4saSl9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGh9dXBsb2FkUGVuZGluZygpe3JldHVybiF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksUWMpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXkmJih0aGlzLmxheW91dFZlcnRleEV4dEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEV4dEFycmF5LEpjLm1lbWJlcnMsITApKSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKGUpLHRoaXMudXBsb2FkZWQ9ITB9dXBsb2FkQ2VudHJvaWQoZSl7MCE9PXRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGgmJih0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyP3RoaXMubmVlZHNDZW50cm9pZFVwZGF0ZSYmdGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheSk6dGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXksWWMubWVtYmVycywhMCksdGhpcy5uZWVkc0NlbnRyb2lkVXBkYXRlPSExKX1kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlciYmdGhpcy5jZW50cm9pZFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXImJnRoaXMubGF5b3V0VmVydGV4RXh0QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCkpfWFkZEZlYXR1cmUoZSx0LG4saSxyLG8sYSl7Y29uc3Qgcz1bbmV3IG0oMCwwKSxuZXcgbShwcyxwcyldLGw9YS5wcm9qZWN0aW9uLGM9XCJnbG9iZVwiPT09bC5uYW1lLHU9dGhpcy5lbmFibGVUZXJyYWluJiYhYz9uZXcgX3U6bnVsbCxoPVwiUG9seWdvblwiPT09ZnVbZS50eXBlXTtjJiYhdGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSYmKHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXk9bmV3IGlhKTtjb25zdCBkPVZjKHQsNTAwKTtmb3IobGV0IGU9ZC5sZW5ndGgtMTtlPj0wO2UtLSl7Y29uc3QgdD1kW2VdOygwPT09dC5sZW5ndGh8fChwPXRbMF0pLmV2ZXJ5KGU9PmUueDw9MCl8fHAuZXZlcnkoZT0+ZS54Pj1wcyl8fHAuZXZlcnkoZT0+ZS55PD0wKXx8cC5ldmVyeShlPT5lLnk+PXBzKSkmJmQuc3BsaWNlKGUsMSl9dmFyIHA7bGV0IGY7aWYoYylmPUl1KGQscyxpKTtlbHNle2Y9W107Zm9yKGNvbnN0IGUgb2YgZClmLnB1c2goe3BvbHlnb246ZSxib3VuZHM6c30pfWNvbnN0IGc9aD90aGlzLmVkZ2VSYWRpdXM6MDtmb3IoY29uc3R7cG9seWdvbjplLGJvdW5kczp0fW9mIGYpe2xldCBuPTAscj0wO2Zvcihjb25zdCB0IG9mIGUpaCYmIXRbMF0uZXF1YWxzKHRbdC5sZW5ndGgtMV0pJiZ0LnB1c2godFswXSkscis9aD90Lmxlbmd0aC0xOnQubGVuZ3RoO2NvbnN0IG89dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCgoaD81OjQpKnIsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXkpO2lmKGgpe2NvbnN0IHQ9W10scj1bXTtuPW8udmVydGV4TGVuZ3RoO2Zvcihjb25zdCBuIG9mIGUpe2xldCBhLHM7bi5sZW5ndGgmJm4hPT1lWzBdJiZyLnB1c2godC5sZW5ndGgvMiksYT1uWzFdLnN1YihuWzBdKS5fcGVycCgpLl91bml0KCk7Zm9yKGxldCBlPTE7ZTxuLmxlbmd0aDtlKyspe2NvbnN0IHI9bltlXSx1PW5bZT09PW4ubGVuZ3RoLTE/MTplKzFdO2xldHt4OmgseTpkfT1yO2lmKGcpe3M9dS5zdWIocikuX3BlcnAoKS5fdW5pdCgpO2NvbnN0IGU9YS5hZGQocykuX3VuaXQoKSx0PWcqTWF0aC5taW4oNCwxLyhhLngqZS54K2EueSplLnkpKTtoKz10KmUueCxkKz10KmUueSxhPXN9Z3UodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxoLGQsMCwwLDEsMSwwKSxvLnZlcnRleExlbmd0aCsrLHQucHVzaChyLngsci55KSxjJiZ5dSh0aGlzLmxheW91dFZlcnRleEV4dEFycmF5LGwucHJvamVjdFRpbGVQb2ludChoLGQsaSksbC51cFZlY3RvcihpLGgsZCkpfX1jb25zdCBhPWRjLmV4cG9ydHModCxyKTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrPTMpdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKG4rYVtlXSxuK2FbZSsyXSxuK2FbZSsxXSksby5wcmltaXRpdmVMZW5ndGgrK31mb3IoY29uc3QgciBvZiBlKXt1JiZyLmxlbmd0aCYmdS5zdGFydFJpbmcoclswXSk7bGV0IGUsYSxzLGQ9ci5sZW5ndGg+NCYmRXUocltyLmxlbmd0aC0yXSxyWzBdLHJbMV0pLHA9Zz9idShyW3IubGVuZ3RoLTJdLHJbMF0sclsxXSxnKTowO2E9clsxXS5zdWIoclswXSkuX3BlcnAoKS5fdW5pdCgpO2xldCBmPSEwO2ZvcihsZXQgbT0xLHk9MDttPHIubGVuZ3RoO20rKyl7bGV0IF89clttLTFdLHY9clttXTtjb25zdCB4PXJbbT09PXIubGVuZ3RoLTE/MTptKzFdO2lmKHUmJmgmJnUuY3VycmVudFBvbHlDb3VudC50b3ArKyxUdSh2LF8sdCkpe2cmJihhPXguc3ViKHYpLl9wZXJwKCkuX3VuaXQoKSxmPSFmKTtjb250aW51ZX11JiZ1LmFwcGVuZCh2LF8pO2NvbnN0IGI9di5zdWIoXykuX3BlcnAoKSx3PWIueC8oTWF0aC5hYnMoYi54KStNYXRoLmFicyhiLnkpKSxUPWIueT4wPzE6MCxFPV8uZGlzdCh2KTtpZih5K0U+MzI3NjgmJih5PTApLGcpe3M9eC5zdWIodikuX3BlcnAoKS5fdW5pdCgpO2xldCBlPXd1KF8sdix4LHh1KGEscyksZyk7aXNOYU4oZSkmJihlPTApO2NvbnN0IHQ9di5zdWIoXykuX3VuaXQoKTtfPV8uYWRkKHQubXVsdChwKSkuX3JvdW5kKCksdj12LmFkZCh0Lm11bHQoLWUpKS5fcm91bmQoKSxwPWUsYT1zfWNvbnN0IFM9by52ZXJ0ZXhMZW5ndGgsTT1yLmxlbmd0aD40JiZFdShfLHYseCk7bGV0IEk9U3UoeSxkLGYpO2lmKGd1KHRoaXMubGF5b3V0VmVydGV4QXJyYXksXy54LF8ueSx3LFQsMCwwLEkpLGd1KHRoaXMubGF5b3V0VmVydGV4QXJyYXksXy54LF8ueSx3LFQsMCwxLEkpLHkrPUUsST1TdSh5LE0sIWYpLGQ9TSxndSh0aGlzLmxheW91dFZlcnRleEFycmF5LHYueCx2LnksdyxULDAsMCxJKSxndSh0aGlzLmxheW91dFZlcnRleEFycmF5LHYueCx2LnksdyxULDAsMSxJKSxvLnZlcnRleExlbmd0aCs9NCx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soUyswLFMrMSxTKzIpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhTKzEsUyszLFMrMiksby5wcmltaXRpdmVMZW5ndGgrPTIsZyl7Y29uc3QgaT1uKygxPT09bT9yLmxlbmd0aC0yOm0tMiksYT0xPT09bT9uOmkrMTtpZih0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soUysxLGksUyszKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soaSxhLFMrMyksby5wcmltaXRpdmVMZW5ndGgrPTIsdm9pZCAwPT09ZSYmKGU9UyksIVR1KHgsclttXSx0KSl7Y29uc3QgdD1tPT09ci5sZW5ndGgtMT9lOm8udmVydGV4TGVuZ3RoO3RoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhTKzIsUyszLHQpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhTKzMsdCsxLHQpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhTKzMsYSx0KzEpLG8ucHJpbWl0aXZlTGVuZ3RoKz0zfWY9IWZ9aWYoYyl7Y29uc3QgZT10aGlzLmxheW91dFZlcnRleEV4dEFycmF5LHQ9bC5wcm9qZWN0VGlsZVBvaW50KF8ueCxfLnksaSksbj1sLnByb2plY3RUaWxlUG9pbnQodi54LHYueSxpKSxyPWwudXBWZWN0b3IoaSxfLngsXy55KSxvPWwudXBWZWN0b3IoaSx2Lngsdi55KTt5dShlLHQscikseXUoZSx0LHIpLHl1KGUsbixvKSx5dShlLG4sbyl9fWgmJihuKz1yLmxlbmd0aC0xKX19aWYodSYmdS5wb2x5Q291bnQubGVuZ3RoPjApe2lmKHUuYm9yZGVycyl7dS52ZXJ0ZXhBcnJheU9mZnNldD10aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkubGVuZ3RoO2NvbnN0IGU9dS5ib3JkZXJzLHQ9dGhpcy5mZWF0dXJlc09uQm9yZGVyLnB1c2godSktMTtmb3IobGV0IG49MDtuPDQ7bisrKWVbbl1bMF0hPT1OdW1iZXIuTUFYX1ZBTFVFJiZ0aGlzLmJvcmRlcnNbbl0ucHVzaCh0KX10aGlzLmVuY29kZUNlbnRyb2lkKHUuYm9yZGVycz92b2lkIDA6dS5jZW50cm9pZCgpLHUpfXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsZSxuLHIsbyxpKX1zb3J0Qm9yZGVycygpe2ZvcihsZXQgZT0wO2U8NDtlKyspdGhpcy5ib3JkZXJzW2VdLnNvcnQoKHQsbik9PnRoaXMuZmVhdHVyZXNPbkJvcmRlclt0XS5ib3JkZXJzW2VdWzBdLXRoaXMuZmVhdHVyZXNPbkJvcmRlcltuXS5ib3JkZXJzW2VdWzBdKX1lbmNvZGVDZW50cm9pZChlLHQsbj0hMCl7bGV0IGkscjtpZihlKWlmKDAhPT1lLnkpe2NvbnN0IG49dC5zcGFuKCkuX211bHQodGhpcy50aWxlVG9NZXRlcik7aT0oTWF0aC5tYXgoZS54LDEpPDwzKStNYXRoLm1pbig3LE1hdGgucm91bmQobi54LzEwKSkscj0oTWF0aC5tYXgoZS55LDEpPDwzKStNYXRoLm1pbig3LE1hdGgucm91bmQobi55LzEwKSl9ZWxzZSBpPU1hdGguY2VpbCg3KihlLngrNDUwKSkscj0wO2Vsc2UgaT0wLHI9K247bGV0IG89bj90aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkubGVuZ3RoOnQudmVydGV4QXJyYXlPZmZzZXQ7Zm9yKGNvbnN0IGUgb2YgdC5wb2x5Q291bnQpe24mJnRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5yZXNpemUodGhpcy5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aCs0KmUuZWRnZXMrZS50b3ApO2ZvcihsZXQgdD0wO3Q8ZS50b3A7dCsrKXRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5lbXBsYWNlKG8rKyxpLHIpO2ZvcihsZXQgdD0wO3Q8MiplLmVkZ2VzO3QrKyl0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkuZW1wbGFjZShvKyssMCxyKSx0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkuZW1wbGFjZShvKyssaSxyKX19fWZ1bmN0aW9uIHh1KGUsdCl7Y29uc3Qgbj1lLmFkZCh0KS5fdW5pdCgpO3JldHVybiBlLngqbi54K2UueSpuLnl9ZnVuY3Rpb24gYnUoZSx0LG4saSl7Y29uc3Qgcj10LnN1YihlKS5fcGVycCgpLl91bml0KCksbz1uLnN1Yih0KS5fcGVycCgpLl91bml0KCk7cmV0dXJuIHd1KGUsdCxuLHh1KHIsbyksaSl9ZnVuY3Rpb24gd3UoZSx0LG4saSxyKXtjb25zdCBvPU1hdGguc3FydCgxLWkqaSk7cmV0dXJuIE1hdGgubWluKGUuZGlzdCh0KS8zLHQuZGlzdChuKS8zLHIqby9pKX1mdW5jdGlvbiBUdShlLHQsbil7cmV0dXJuIGUueDxuWzBdLngmJnQueDxuWzBdLnh8fGUueD5uWzFdLngmJnQueD5uWzFdLnh8fGUueTxuWzBdLnkmJnQueTxuWzBdLnl8fGUueT5uWzFdLnkmJnQueT5uWzFdLnl9ZnVuY3Rpb24gRXUoZSx0LG4pe2lmKGUueDwwfHxlLng+PXBzfHx0Lng8MHx8dC54Pj1wc3x8bi54PDB8fG4ueD49cHMpcmV0dXJuITE7Y29uc3QgaT1uLnN1Yih0KSxyPWkucGVycCgpLG89ZS5zdWIodCk7cmV0dXJuKGkueCpvLngraS55Km8ueSkvTWF0aC5zcXJ0KChpLngqaS54K2kueSppLnkpKihvLngqby54K28ueSpvLnkpKT4tLjg2NiYmci54Km8ueCtyLnkqby55PDB9ZnVuY3Rpb24gU3UoZSx0LG4pe2NvbnN0IGk9dD8yfGU6LTMmZTtyZXR1cm4gbj8xfGk6LTImaX1mdW5jdGlvbiBNdSgpe2NvbnN0IGU9TWF0aC5QSS8zMix0PU1hdGgudGFuKGUpLG49bXM7cmV0dXJuIG4qTWF0aC5zcXJ0KDErMip0KnQpLW59ZnVuY3Rpb24gSXUoZSx0LG4pe2NvbnN0IGk9MTw8bi56LHI9d3Mobi54L2kpLG89d3MoKG4ueCsxKS9pKSxhPVRzKG4ueS9pKSxzPVRzKChuLnkrMSkvaSk7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLGkscj0wLG8pe2NvbnN0IGE9W107aWYoIWUubGVuZ3RofHwhbnx8IWkpcmV0dXJuIGE7Y29uc3Qgcz0oZSx0KT0+e2Zvcihjb25zdCBuIG9mIGUpYS5wdXNoKHtwb2x5Z29uOm4sYm91bmRzOnR9KX0sbD1NYXRoLmNlaWwoTWF0aC5sb2cyKG4pKSxjPU1hdGguY2VpbChNYXRoLmxvZzIoaSkpLHU9bC1jLGg9W107Zm9yKGxldCBlPTA7ZTxNYXRoLmFicyh1KTtlKyspaC5wdXNoKHU+MD8wOjEpO2ZvcihsZXQgZT0wO2U8TWF0aC5taW4obCxjKTtlKyspaC5wdXNoKDApLGgucHVzaCgxKTtsZXQgZD1lO2lmKGQ9cHUoZCx0WzBdLnktcix0WzFdLnkrciwxKSxkPXB1KGQsdFswXS54LXIsdFsxXS54K3IsMCksIWQubGVuZ3RoKXJldHVybiBhO2NvbnN0IHA9W107Zm9yKGgubGVuZ3RoP3AucHVzaCh7cG9seWdvbnM6ZCxib3VuZHM6dCxkZXB0aDowfSk6cyhkLHQpO3AubGVuZ3RoOyl7Y29uc3QgZT1wLnBvcCgpLHQ9ZS5kZXB0aCxuPWhbdF0saT1lLmJvdW5kc1swXSxhPWUuYm91bmRzWzFdLGw9MD09PW4/aS54OmkueSxjPTA9PT1uP2EueDphLnksdT1vP28obixsLGMpOi41KihsK2MpLGQ9cHUoZS5wb2x5Z29ucyxsLXIsdStyLG4pLGY9cHUoZS5wb2x5Z29ucyx1LXIsYytyLG4pO2lmKGQubGVuZ3RoKXtjb25zdCBlPVtpLG5ldyBtKDA9PT1uP3U6YS54LDE9PT1uP3U6YS55KV07aC5sZW5ndGg+dCsxP3AucHVzaCh7cG9seWdvbnM6ZCxib3VuZHM6ZSxkZXB0aDp0KzF9KTpzKGQsZSl9aWYoZi5sZW5ndGgpe2NvbnN0IGU9W25ldyBtKDA9PT1uP3U6aS54LDE9PT1uP3U6aS55KSxhXTtoLmxlbmd0aD50KzE/cC5wdXNoKHtwb2x5Z29uczpmLGJvdW5kczplLGRlcHRoOnQrMX0pOnMoZixlKX19cmV0dXJuIGF9KGUsdCxNYXRoLmNlaWwoKG8tcikvMTEuMjUpLE1hdGguY2VpbCgoYS1zKS8xMS4yNSksMSwoZSx0LHIpPT57aWYoMD09PWUpcmV0dXJuLjUqKHQrcik7e2NvbnN0IGU9VHMoKG4ueSt0L3BzKS9pKTtyZXR1cm4oeHMoLjUqKFRzKChuLnkrci9wcykvaSkrZSkpKmktbi55KSpwc319KX16cih2dSxcIkZpbGxFeHRydXNpb25CdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIixcImZlYXR1cmVzXCJdfSksenIoX3UsXCJQYXJ0TWV0YWRhdGFcIik7Y29uc3QgQ3U9bmV3IEdvKHtcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCI6bmV3IE5vKEplW1wibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIl0pfSk7dmFyIGt1PXtwYWludDpuZXcgR28oe1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiOm5ldyBObyhKZVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiXSksXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiOm5ldyBVbyhKZVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tY29sb3JcIl0pLFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCI6bmV3IE5vKEplW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIl0pLFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBObyhKZVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiXSksXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCI6bmV3IFVvKEplW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCJdKSxcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiOm5ldyBVbyhKZVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24taGVpZ2h0XCJdKSxcImZpbGwtZXh0cnVzaW9uLWJhc2VcIjpuZXcgVW8oSmVbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLWJhc2VcIl0pLFwiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnRcIjpuZXcgTm8oSmVbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50XCJdKSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiOm5ldyBObyhKZVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCJdKSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXJhZGl1c1wiOm5ldyBObyhKZVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCJdKX0pLGxheW91dDpDdX07ZnVuY3Rpb24gQXUoZSx0LG4pe3ZhciBpPTIqTWF0aC5QSSo2Mzc4MTM3LzI1Ni9NYXRoLnBvdygyLG4pO3JldHVybltlKmktMipNYXRoLlBJKjYzNzgxMzcvMix0KmktMipNYXRoLlBJKjYzNzgxMzcvMl19Y2xhc3MgUHV7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuej1lLHRoaXMueD10LHRoaXMueT1uLHRoaXMua2V5PUx1KDAsZSxlLHQsbil9ZXF1YWxzKGUpe3JldHVybiB0aGlzLno9PT1lLnomJnRoaXMueD09PWUueCYmdGhpcy55PT09ZS55fXVybChlLHQpe2NvbnN0IG49ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPUF1KDI1NiplLDI1NioodD1NYXRoLnBvdygyLG4pLXQtMSksbikscj1BdSgyNTYqKGUrMSksMjU2Kih0KzEpLG4pO3JldHVybiBpWzBdK1wiLFwiK2lbMV0rXCIsXCIrclswXStcIixcIityWzFdfSh0aGlzLngsdGhpcy55LHRoaXMueiksaT1mdW5jdGlvbihlLHQsbil7bGV0IGkscj1cIlwiO2ZvcihsZXQgbz1lO28+MDtvLS0paT0xPDxvLTEscis9KHQmaT8xOjApKyhuJmk/MjowKTtyZXR1cm4gcn0odGhpcy56LHRoaXMueCx0aGlzLnkpO3JldHVybiBlWyh0aGlzLngrdGhpcy55KSVlLmxlbmd0aF0ucmVwbGFjZShcIntwcmVmaXh9XCIsKHRoaXMueCUxNikudG9TdHJpbmcoMTYpKyh0aGlzLnklMTYpLnRvU3RyaW5nKDE2KSkucmVwbGFjZSgve3p9L2csU3RyaW5nKHRoaXMueikpLnJlcGxhY2UoL3t4fS9nLFN0cmluZyh0aGlzLngpKS5yZXBsYWNlKC97eX0vZyxTdHJpbmcoXCJ0bXNcIj09PXQ/TWF0aC5wb3coMix0aGlzLnopLXRoaXMueS0xOnRoaXMueSkpLnJlcGxhY2UoXCJ7cXVhZGtleX1cIixpKS5yZXBsYWNlKFwie2Jib3gtZXBzZy0zODU3fVwiLG4pfXRvU3RyaW5nKCl7cmV0dXJuYCR7dGhpcy56fS8ke3RoaXMueH0vJHt0aGlzLnl9YH19Y2xhc3MgenV7Y29uc3RydWN0b3IoZSx0KXt0aGlzLndyYXA9ZSx0aGlzLmNhbm9uaWNhbD10LHRoaXMua2V5PUx1KGUsdC56LHQueix0LngsdC55KX19Y2xhc3MgRHV7Y29uc3RydWN0b3IoZSx0LG4saSxyKXt0aGlzLm92ZXJzY2FsZWRaPWUsdGhpcy53cmFwPXQsdGhpcy5jYW5vbmljYWw9bmV3IFB1KG4sK2ksK3IpLHRoaXMua2V5PTA9PT10JiZlPT09bj90aGlzLmNhbm9uaWNhbC5rZXk6THUodCxlLG4saSxyKX1lcXVhbHMoZSl7cmV0dXJuIHRoaXMub3ZlcnNjYWxlZFo9PT1lLm92ZXJzY2FsZWRaJiZ0aGlzLndyYXA9PT1lLndyYXAmJnRoaXMuY2Fub25pY2FsLmVxdWFscyhlLmNhbm9uaWNhbCl9c2NhbGVkVG8oZSl7Y29uc3QgdD10aGlzLmNhbm9uaWNhbC56LWU7cmV0dXJuIGU+dGhpcy5jYW5vbmljYWwuej9uZXcgRHUoZSx0aGlzLndyYXAsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpOm5ldyBEdShlLHRoaXMud3JhcCxlLHRoaXMuY2Fub25pY2FsLng+PnQsdGhpcy5jYW5vbmljYWwueT4+dCl9Y2FsY3VsYXRlU2NhbGVkS2V5KGUsdD0hMCl7aWYodGhpcy5vdmVyc2NhbGVkWj09PWUmJnQpcmV0dXJuIHRoaXMua2V5O2lmKGU+dGhpcy5jYW5vbmljYWwueilyZXR1cm4gTHUodGhpcy53cmFwKit0LGUsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpO3tjb25zdCBuPXRoaXMuY2Fub25pY2FsLnotZTtyZXR1cm4gTHUodGhpcy53cmFwKit0LGUsZSx0aGlzLmNhbm9uaWNhbC54Pj5uLHRoaXMuY2Fub25pY2FsLnk+Pm4pfX1pc0NoaWxkT2YoZSl7aWYoZS53cmFwIT09dGhpcy53cmFwKXJldHVybiExO2NvbnN0IHQ9dGhpcy5jYW5vbmljYWwuei1lLmNhbm9uaWNhbC56O3JldHVybiAwPT09ZS5vdmVyc2NhbGVkWnx8ZS5vdmVyc2NhbGVkWjx0aGlzLm92ZXJzY2FsZWRaJiZlLmNhbm9uaWNhbC54PT09dGhpcy5jYW5vbmljYWwueD4+dCYmZS5jYW5vbmljYWwueT09PXRoaXMuY2Fub25pY2FsLnk+PnR9Y2hpbGRyZW4oZSl7aWYodGhpcy5vdmVyc2NhbGVkWj49ZSlyZXR1cm5bbmV3IER1KHRoaXMub3ZlcnNjYWxlZForMSx0aGlzLndyYXAsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpXTtjb25zdCB0PXRoaXMuY2Fub25pY2FsLnorMSxuPTIqdGhpcy5jYW5vbmljYWwueCxpPTIqdGhpcy5jYW5vbmljYWwueTtyZXR1cm5bbmV3IER1KHQsdGhpcy53cmFwLHQsbixpKSxuZXcgRHUodCx0aGlzLndyYXAsdCxuKzEsaSksbmV3IER1KHQsdGhpcy53cmFwLHQsbixpKzEpLG5ldyBEdSh0LHRoaXMud3JhcCx0LG4rMSxpKzEpXX1pc0xlc3NUaGFuKGUpe3JldHVybiB0aGlzLndyYXA8ZS53cmFwfHwhKHRoaXMud3JhcD5lLndyYXApJiYodGhpcy5vdmVyc2NhbGVkWjxlLm92ZXJzY2FsZWRafHwhKHRoaXMub3ZlcnNjYWxlZFo+ZS5vdmVyc2NhbGVkWikmJih0aGlzLmNhbm9uaWNhbC54PGUuY2Fub25pY2FsLnh8fCEodGhpcy5jYW5vbmljYWwueD5lLmNhbm9uaWNhbC54KSYmdGhpcy5jYW5vbmljYWwueTxlLmNhbm9uaWNhbC55KSl9d3JhcHBlZCgpe3JldHVybiBuZXcgRHUodGhpcy5vdmVyc2NhbGVkWiwwLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KX11bndyYXBUbyhlKXtyZXR1cm4gbmV3IER1KHRoaXMub3ZlcnNjYWxlZFosZSx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSl9b3ZlcnNjYWxlRmFjdG9yKCl7cmV0dXJuIE1hdGgucG93KDIsdGhpcy5vdmVyc2NhbGVkWi10aGlzLmNhbm9uaWNhbC56KX10b1Vud3JhcHBlZCgpe3JldHVybiBuZXcgenUodGhpcy53cmFwLHRoaXMuY2Fub25pY2FsKX10b1N0cmluZygpe3JldHVybmAke3RoaXMub3ZlcnNjYWxlZFp9LyR7dGhpcy5jYW5vbmljYWwueH0vJHt0aGlzLmNhbm9uaWNhbC55fWB9fWZ1bmN0aW9uIEx1KGUsdCxuLGkscil7Y29uc3Qgbz0xPDxNYXRoLm1pbihuLDIyKTtsZXQgYT1vKihyJW8pK2klbztyZXR1cm4gZSYmbjwyMiYmKGErPW8qbyooKGU8MD8tMiplLTE6MiplKSUoMTw8MiooMjItbikpKSksMTYqKDMyKmErbikrKHQtbil9enIoUHUsXCJDYW5vbmljYWxUaWxlSURcIiksenIoRHUsXCJPdmVyc2NhbGVkVGlsZUlEXCIse29taXQ6W1wicHJvak1hdHJpeFwiXX0pO2NsYXNzIE91IGV4dGVuZHMgbXtjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoZSx0KSx0aGlzLno9bn19ZnVuY3Rpb24gUnUoZSx0KXtyZXR1cm4gZS54KnQueCtlLnkqdC55fWZ1bmN0aW9uIEJ1KGUsdCl7aWYoMT09PWUubGVuZ3RoKXtsZXQgbj0wO2NvbnN0IGk9dFtuKytdO2xldCByO2Zvcig7IXJ8fGkuZXF1YWxzKHIpOylpZihyPXRbbisrXSwhcilyZXR1cm4gMS8wO2Zvcig7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IG89dFtuXSxhPWVbMF0scz1yLnN1YihpKSxsPW8uc3ViKGkpLGM9YS5zdWIoaSksdT1SdShzLHMpLGg9UnUocyxsKSxkPVJ1KGwsbCkscD1SdShjLHMpLGY9UnUoYyxsKSxtPXUqZC1oKmgsZz0oZCpwLWgqZikvbSx5PSh1KmYtaCpwKS9tLF89aS56KigxLWcteSkrci56Kmcrby56Knk7aWYoaXNGaW5pdGUoXykpcmV0dXJuIF99cmV0dXJuIDEvMH17bGV0IGU9MS8wO2Zvcihjb25zdCBuIG9mIHQpZT1NYXRoLm1pbihlLG4ueik7cmV0dXJuIGV9fWZ1bmN0aW9uIGp1KGUsdCxuLGkscixvLGEscyl7Y29uc3QgbD1hKnIuZ2V0RWxldmF0aW9uQXQoZSx0LCEwLCEwKSxjPTAhPT1vWzBdLHU9Yz8wPT09b1sxXT9hKihvWzBdLzctNDUwKTphKmZ1bmN0aW9uKGUsdCxuKXtjb25zdCBpPU1hdGguZmxvb3IodFswXS84KSxyPU1hdGguZmxvb3IodFsxXS84KSxvPTEwKih0WzBdLTgqaSksYT0xMCoodFsxXS04KnIpLHM9ZS5nZXRFbGV2YXRpb25BdChpLHIsITAsITApLGw9ZS5nZXRNZXRlclRvREVNKG4pLGM9TWF0aC5mbG9vciguNSoobypsLTEpKSx1PU1hdGguZmxvb3IoLjUqKGEqbC0xKSksaD1lLnRpbGVDb29yZFRvUGl4ZWwoaSxyKSxkPTIqYysxLHA9Mip1KzEsZj1mdW5jdGlvbihlLHQsbixpLHIpe3JldHVybltlLmdldEVsZXZhdGlvbkF0UGl4ZWwodCxuLCEwKSxlLmdldEVsZXZhdGlvbkF0UGl4ZWwodCtyLG4sITApLGUuZ2V0RWxldmF0aW9uQXRQaXhlbCh0LG4rciwhMCksZS5nZXRFbGV2YXRpb25BdFBpeGVsKHQraSxuK3IsITApXX0oZSxoLngtYyxoLnktdSxkLHApLG09TWF0aC5hYnMoZlswXS1mWzFdKSxnPU1hdGguYWJzKGZbMl0tZlszXSkseT1NYXRoLmFicyhmWzBdLWZbMl0pK01hdGguYWJzKGZbMV0tZlszXSksXz1NYXRoLm1pbiguMjUsLjUqbCoobStnKS9kKSx2PU1hdGgubWluKC4yNSwuNSpsKnkvcCk7cmV0dXJuIHMrTWF0aC5tYXgoXypvLHYqYSl9KHIsbyxzKTpsO3JldHVybntiYXNlOmwrKDA9PT1uKT8tMTpuLHRvcDpjP01hdGgubWF4KHUraSxsK24rMik6bCtpfX1jb25zdCBGdT1Ibyhbe25hbWU6XCJhX3Bvc19ub3JtYWxcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9kYXRhXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50OFwifSx7bmFtZTpcImFfbGluZXNvZmFyXCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9XSw0KSx7bWVtYmVyczpOdX09RnUsVXU9SG8oW3tuYW1lOlwiYV9wYWNrZWRcIixjb21wb25lbnRzOjQsdHlwZTpcIkZsb2F0MzJcIn1dKSx7bWVtYmVyczpWdX09VXUsR3U9ZHUudHlwZXMsWnU9TWF0aC5jb3MoTWF0aC5QSS8xODAqMzcuNSk7Y2xhc3MgV3V7Y29uc3RydWN0b3IoZSl7dGhpcy56b29tPWUuem9vbSx0aGlzLm92ZXJzY2FsaW5nPWUub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9ZS5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoZT0+ZS5pZCksdGhpcy5pbmRleD1lLmluZGV4LHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb24sdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucGF0dGVybkZlYXR1cmVzPVtdLHRoaXMubGluZUNsaXBzQXJyYXk9W10sdGhpcy5ncmFkaWVudHM9e30sdGhpcy5sYXllcnMuZm9yRWFjaChlPT57dGhpcy5ncmFkaWVudHNbZS5pZF09e319KSx0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBLbyx0aGlzLmxheW91dFZlcnRleEFycmF5Mj1uZXcgZWEsdGhpcy5pbmRleEFycmF5PW5ldyBkYSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgbnMoZS5sYXllcnMsZS56b29tKSx0aGlzLnNlZ21lbnRzPW5ldyBkcyx0aGlzLm1heExpbmVMZW5ndGg9MCx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKS5tYXAoZT0+ZS5pZCl9cG9wdWxhdGUoZSx0LG4saSl7dGhpcy5oYXNQYXR0ZXJuPVpjKFwibGluZVwiLHRoaXMubGF5ZXJzLHQpO2NvbnN0IHI9dGhpcy5sYXllcnNbMF0ubGF5b3V0LmdldChcImxpbmUtc29ydC1rZXlcIiksbz1bXTtmb3IoY29uc3R7ZmVhdHVyZTp0LGlkOmEsaW5kZXg6cyxzb3VyY2VMYXllckluZGV4Omx9b2YgZSl7Y29uc3QgZT10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksYz1Scyh0LGUpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IFBvKHRoaXMuem9vbSksYyxuKSljb250aW51ZTtjb25zdCB1PXI/ci5ldmFsdWF0ZShjLHt9LG4pOnZvaWQgMCxoPXtpZDphLHByb3BlcnRpZXM6dC5wcm9wZXJ0aWVzLHR5cGU6dC50eXBlLHNvdXJjZUxheWVySW5kZXg6bCxpbmRleDpzLGdlb21ldHJ5OmU/Yy5nZW9tZXRyeTpPcyh0LG4saSkscGF0dGVybnM6e30sc29ydEtleTp1fTtvLnB1c2goaCl9ciYmby5zb3J0KChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KTtjb25zdHtsaW5lQXRsYXM6YSxmZWF0dXJlSW5kZXg6c309dCxsPXRoaXMuYWRkQ29uc3RhbnREYXNoZXMoYSk7Zm9yKGNvbnN0IGkgb2Ygbyl7Y29uc3R7Z2VvbWV0cnk6cixpbmRleDpvLHNvdXJjZUxheWVySW5kZXg6Y309aTtpZihsJiZ0aGlzLmFkZEZlYXR1cmVEYXNoZXMoaSxhKSx0aGlzLmhhc1BhdHRlcm4pe2NvbnN0IGU9V2MoXCJsaW5lXCIsdGhpcy5sYXllcnMsaSx0aGlzLnpvb20sdCk7dGhpcy5wYXR0ZXJuRmVhdHVyZXMucHVzaChlKX1lbHNlIHRoaXMuYWRkRmVhdHVyZShpLHIsbyxuLGEucG9zaXRpb25zLHQuYXZhaWxhYmxlSW1hZ2VzKTtzLmluc2VydChlW29dLmZlYXR1cmUscixvLGMsdGhpcy5pbmRleCl9fWFkZENvbnN0YW50RGFzaGVzKGUpe2xldCB0PSExO2Zvcihjb25zdCBuIG9mIHRoaXMubGF5ZXJzKXtjb25zdCBpPW4ucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIikudmFsdWUscj1uLmxheW91dC5nZXQoXCJsaW5lLWNhcFwiKS52YWx1ZTtpZihcImNvbnN0YW50XCIhPT1pLmtpbmR8fFwiY29uc3RhbnRcIiE9PXIua2luZCl0PSEwO2Vsc2V7Y29uc3QgdD1yLnZhbHVlLG49aS52YWx1ZTtpZighbiljb250aW51ZTtlLmFkZERhc2gobix0KX19cmV0dXJuIHR9YWRkRmVhdHVyZURhc2hlcyhlLHQpe2NvbnN0IG49dGhpcy56b29tO2Zvcihjb25zdCBpIG9mIHRoaXMubGF5ZXJzKXtjb25zdCByPWkucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIikudmFsdWUsbz1pLmxheW91dC5nZXQoXCJsaW5lLWNhcFwiKS52YWx1ZTtpZihcImNvbnN0YW50XCI9PT1yLmtpbmQmJlwiY29uc3RhbnRcIj09PW8ua2luZCljb250aW51ZTtsZXQgYSxzO2lmKFwiY29uc3RhbnRcIj09PXIua2luZCl7aWYoYT1yLnZhbHVlLCFhKWNvbnRpbnVlfWVsc2UgYT1yLmV2YWx1YXRlKHt6b29tOm59LGUpO3M9XCJjb25zdGFudFwiPT09by5raW5kP28udmFsdWU6by5ldmFsdWF0ZSh7em9vbTpufSxlKSx0LmFkZERhc2goYSxzKSxlLnBhdHRlcm5zW2kuaWRdPXQuZ2V0S2V5KGEscyl9fXVwZGF0ZShlLHQsbixpKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXMoZSx0LHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMsbixpKX1hZGRGZWF0dXJlcyhlLHQsbixpLHIpe2Zvcihjb25zdCBlIG9mIHRoaXMucGF0dGVybkZlYXR1cmVzKXRoaXMuYWRkRmVhdHVyZShlLGUuZ2VvbWV0cnksZS5pbmRleCx0LG4saSl9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGh9dXBsb2FkUGVuZGluZygpe3JldHVybiF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7dGhpcy51cGxvYWRlZHx8KDAhPT10aGlzLmxheW91dFZlcnRleEFycmF5Mi5sZW5ndGgmJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlcjI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheTIsVnUpKSx0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LE51KSx0aGlzLmluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5KSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKGUpLHRoaXMudXBsb2FkZWQ9ITB9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSl9bGluZUZlYXR1cmVDbGlwcyhlKXtpZihlLnByb3BlcnRpZXMmJmUucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcIm1hcGJveF9jbGlwX3N0YXJ0XCIpJiZlLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJtYXBib3hfY2xpcF9lbmRcIikpcmV0dXJue3N0YXJ0OitlLnByb3BlcnRpZXMubWFwYm94X2NsaXBfc3RhcnQsZW5kOitlLnByb3BlcnRpZXMubWFwYm94X2NsaXBfZW5kfX1hZGRGZWF0dXJlKGUsdCxuLGkscixvKXtjb25zdCBhPXRoaXMubGF5ZXJzWzBdLmxheW91dCxzPWEuZ2V0KFwibGluZS1qb2luXCIpLmV2YWx1YXRlKGUse30pLGw9YS5nZXQoXCJsaW5lLWNhcFwiKS5ldmFsdWF0ZShlLHt9KSxjPWEuZ2V0KFwibGluZS1taXRlci1saW1pdFwiKSx1PWEuZ2V0KFwibGluZS1yb3VuZC1saW1pdFwiKTt0aGlzLmxpbmVDbGlwcz10aGlzLmxpbmVGZWF0dXJlQ2xpcHMoZSk7Zm9yKGNvbnN0IG4gb2YgdCl0aGlzLmFkZExpbmUobixlLHMsbCxjLHUpO3RoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgsZSxuLHIsbyxpKX1hZGRMaW5lKGUsdCxuLGkscixvKXtpZih0aGlzLmRpc3RhbmNlPTAsdGhpcy5zY2FsZWREaXN0YW5jZT0wLHRoaXMudG90YWxEaXN0YW5jZT0wLHRoaXMubGluZVNvRmFyPTAsdGhpcy5saW5lQ2xpcHMpe3RoaXMubGluZUNsaXBzQXJyYXkucHVzaCh0aGlzLmxpbmVDbGlwcyk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aC0xO3QrKyl0aGlzLnRvdGFsRGlzdGFuY2UrPWVbdF0uZGlzdChlW3QrMV0pO3RoaXMudXBkYXRlU2NhbGVkRGlzdGFuY2UoKSx0aGlzLm1heExpbmVMZW5ndGg9TWF0aC5tYXgodGhpcy5tYXhMaW5lTGVuZ3RoLHRoaXMudG90YWxEaXN0YW5jZSl9Y29uc3QgYT1cIlBvbHlnb25cIj09PUd1W3QudHlwZV07bGV0IHM9ZS5sZW5ndGg7Zm9yKDtzPj0yJiZlW3MtMV0uZXF1YWxzKGVbcy0yXSk7KXMtLTtsZXQgbD0wO2Zvcig7bDxzLTEmJmVbbF0uZXF1YWxzKGVbbCsxXSk7KWwrKztpZihzPChhPzM6MikpcmV0dXJuO1wiYmV2ZWxcIj09PW4mJihyPTEuMDUpO2NvbnN0IGM9dGhpcy5vdmVyc2NhbGluZzw9MTY/MTIyODgwLyg1MTIqdGhpcy5vdmVyc2NhbGluZyk6MCx1PXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoMTAqcyx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSk7bGV0IGgsZCxwLGYsbTt0aGlzLmUxPXRoaXMuZTI9LTEsYSYmKGg9ZVtzLTJdLG09ZVtsXS5zdWIoaCkuX3VuaXQoKS5fcGVycCgpKTtmb3IobGV0IHQ9bDt0PHM7dCsrKXtpZihwPXQ9PT1zLTE/YT9lW2wrMV06dm9pZCAwOmVbdCsxXSxwJiZlW3RdLmVxdWFscyhwKSljb250aW51ZTttJiYoZj1tKSxoJiYoZD1oKSxoPWVbdF0sbT1wP3Auc3ViKGgpLl91bml0KCkuX3BlcnAoKTpmLGY9Znx8bTtsZXQgZz1mLmFkZChtKTswPT09Zy54JiYwPT09Zy55fHxnLl91bml0KCk7Y29uc3QgeT1mLngqbS54K2YueSptLnksXz1nLngqbS54K2cueSptLnksdj0wIT09Xz8xL186MS8wLHg9MipNYXRoLnNxcnQoMi0yKl8pLGI9XzxadSYmZCYmcCx3PWYueCptLnktZi55Km0ueD4wO2lmKGImJnQ+bCl7Y29uc3QgZT1oLmRpc3QoZCk7aWYoZT4yKmMpe2NvbnN0IHQ9aC5zdWIoaC5zdWIoZCkuX211bHQoYy9lKS5fcm91bmQoKSk7dGhpcy51cGRhdGVEaXN0YW5jZShkLHQpLHRoaXMuYWRkQ3VycmVudFZlcnRleCh0LGYsMCwwLHUpLGQ9dH19Y29uc3QgVD1kJiZwO2xldCBFPVQ/bjphP1wiYnV0dFwiOmk7aWYoVCYmXCJyb3VuZFwiPT09RSYmKHY8bz9FPVwibWl0ZXJcIjp2PD0yJiYoRT1cImZha2Vyb3VuZFwiKSksXCJtaXRlclwiPT09RSYmdj5yJiYoRT1cImJldmVsXCIpLFwiYmV2ZWxcIj09PUUmJih2PjImJihFPVwiZmxpcGJldmVsXCIpLHY8ciYmKEU9XCJtaXRlclwiKSksZCYmdGhpcy51cGRhdGVEaXN0YW5jZShkLGgpLFwibWl0ZXJcIj09PUUpZy5fbXVsdCh2KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxnLDAsMCx1KTtlbHNlIGlmKFwiZmxpcGJldmVsXCI9PT1FKXtpZih2PjEwMClnPW0ubXVsdCgtMSk7ZWxzZXtjb25zdCBlPXYqZi5hZGQobSkubWFnKCkvZi5zdWIobSkubWFnKCk7Zy5fcGVycCgpLl9tdWx0KGUqKHc/LTE6MSkpfXRoaXMuYWRkQ3VycmVudFZlcnRleChoLGcsMCwwLHUpLHRoaXMuYWRkQ3VycmVudFZlcnRleChoLGcubXVsdCgtMSksMCwwLHUpfWVsc2UgaWYoXCJiZXZlbFwiPT09RXx8XCJmYWtlcm91bmRcIj09PUUpe2NvbnN0IGU9LU1hdGguc3FydCh2KnYtMSksdD13P2U6MCxuPXc/MDplO2lmKGQmJnRoaXMuYWRkQ3VycmVudFZlcnRleChoLGYsdCxuLHUpLFwiZmFrZXJvdW5kXCI9PT1FKXtjb25zdCBlPU1hdGgucm91bmQoMTgwKngvTWF0aC5QSS8yMCk7Zm9yKGxldCB0PTE7dDxlO3QrKyl7bGV0IG49dC9lO2lmKC41IT09bil7Y29uc3QgZT1uLS41O24rPW4qZSoobi0xKSooKDEuMDkwNCt5Kih5KigzLjU1NjQ1LTEuNDM1MTkqeSktMy4yNDUyKSkqZSplKyguODQ4MDEzK3kqKC4yMTU2MzgqeS0xLjA2MDIxKSkpfWNvbnN0IGk9bS5zdWIoZikuX211bHQobikuX2FkZChmKS5fdW5pdCgpLl9tdWx0KHc/LTE6MSk7dGhpcy5hZGRIYWxmVmVydGV4KGgsaS54LGkueSwhMSx3LDAsdSl9fXAmJnRoaXMuYWRkQ3VycmVudFZlcnRleChoLG0sLXQsLW4sdSl9ZWxzZSBpZihcImJ1dHRcIj09PUUpdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZywwLDAsdSk7ZWxzZSBpZihcInNxdWFyZVwiPT09RSl7Y29uc3QgZT1kPzE6LTE7ZHx8dGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZyxlLGUsdSksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZywwLDAsdSksZCYmdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZyxlLGUsdSl9ZWxzZVwicm91bmRcIj09PUUmJihkJiYodGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZiwwLDAsdSksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZiwxLDEsdSwhMCkpLHAmJih0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxtLC0xLC0xLHUsITApLHRoaXMuYWRkQ3VycmVudFZlcnRleChoLG0sMCwwLHUpKSk7aWYoYiYmdDxzLTEpe2NvbnN0IGU9aC5kaXN0KHApO2lmKGU+MipjKXtjb25zdCB0PWguYWRkKHAuc3ViKGgpLl9tdWx0KGMvZSkuX3JvdW5kKCkpO3RoaXMudXBkYXRlRGlzdGFuY2UoaCx0KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodCxtLDAsMCx1KSxoPXR9fX19YWRkQ3VycmVudFZlcnRleChlLHQsbixpLHIsbz0hMSl7Y29uc3QgYT10LnkqaS10Lngscz0tdC55LXQueCppO3RoaXMuYWRkSGFsZlZlcnRleChlLHQueCt0Lnkqbix0LnktdC54Km4sbywhMSxuLHIpLHRoaXMuYWRkSGFsZlZlcnRleChlLGEscyxvLCEwLC1pLHIpfWFkZEhhbGZWZXJ0ZXgoe3g6ZSx5OnR9LG4saSxyLG8sYSxzKXt0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKChlPDwxKSsocj8xOjApLCh0PDwxKSsobz8xOjApLE1hdGgucm91bmQoNjMqbikrMTI4LE1hdGgucm91bmQoNjMqaSkrMTI4LDErKDA9PT1hPzA6YTwwPy0xOjEpLDAsdGhpcy5saW5lU29GYXIpLHRoaXMubGluZUNsaXBzJiZ0aGlzLmxheW91dFZlcnRleEFycmF5Mi5lbXBsYWNlQmFjayh0aGlzLnNjYWxlZERpc3RhbmNlLHRoaXMubGluZUNsaXBzQXJyYXkubGVuZ3RoLHRoaXMubGluZUNsaXBzLnN0YXJ0LHRoaXMubGluZUNsaXBzLmVuZCk7Y29uc3QgbD1zLnZlcnRleExlbmd0aCsrO3RoaXMuZTE+PTAmJnRoaXMuZTI+PTAmJih0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sodGhpcy5lMSx0aGlzLmUyLGwpLHMucHJpbWl0aXZlTGVuZ3RoKyspLG8/dGhpcy5lMj1sOnRoaXMuZTE9bH11cGRhdGVTY2FsZWREaXN0YW5jZSgpe2lmKHRoaXMubGluZUNsaXBzKXtjb25zdCBlPXRoaXMudG90YWxEaXN0YW5jZS8odGhpcy5saW5lQ2xpcHMuZW5kLXRoaXMubGluZUNsaXBzLnN0YXJ0KTt0aGlzLnNjYWxlZERpc3RhbmNlPXRoaXMuZGlzdGFuY2UvdGhpcy50b3RhbERpc3RhbmNlLHRoaXMubGluZVNvRmFyPWUqdGhpcy5saW5lQ2xpcHMuc3RhcnQrdGhpcy5kaXN0YW5jZX1lbHNlIHRoaXMubGluZVNvRmFyPXRoaXMuZGlzdGFuY2V9dXBkYXRlRGlzdGFuY2UoZSx0KXt0aGlzLmRpc3RhbmNlKz1lLmRpc3QodCksdGhpcy51cGRhdGVTY2FsZWREaXN0YW5jZSgpfX16cihXdSxcIkxpbmVCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIixcInBhdHRlcm5GZWF0dXJlc1wiXX0pO2NvbnN0IHF1PW5ldyBHbyh7XCJsaW5lLWNhcFwiOm5ldyBVbyhKZS5sYXlvdXRfbGluZVtcImxpbmUtY2FwXCJdKSxcImxpbmUtam9pblwiOm5ldyBVbyhKZS5sYXlvdXRfbGluZVtcImxpbmUtam9pblwiXSksXCJsaW5lLW1pdGVyLWxpbWl0XCI6bmV3IE5vKEplLmxheW91dF9saW5lW1wibGluZS1taXRlci1saW1pdFwiXSksXCJsaW5lLXJvdW5kLWxpbWl0XCI6bmV3IE5vKEplLmxheW91dF9saW5lW1wibGluZS1yb3VuZC1saW1pdFwiXSksXCJsaW5lLXNvcnQta2V5XCI6bmV3IFVvKEplLmxheW91dF9saW5lW1wibGluZS1zb3J0LWtleVwiXSl9KTt2YXIgJHU9e3BhaW50Om5ldyBHbyh7XCJsaW5lLW9wYWNpdHlcIjpuZXcgVW8oSmUucGFpbnRfbGluZVtcImxpbmUtb3BhY2l0eVwiXSksXCJsaW5lLWNvbG9yXCI6bmV3IFVvKEplLnBhaW50X2xpbmVbXCJsaW5lLWNvbG9yXCJdKSxcImxpbmUtdHJhbnNsYXRlXCI6bmV3IE5vKEplLnBhaW50X2xpbmVbXCJsaW5lLXRyYW5zbGF0ZVwiXSksXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgTm8oSmUucGFpbnRfbGluZVtcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiXSksXCJsaW5lLXdpZHRoXCI6bmV3IFVvKEplLnBhaW50X2xpbmVbXCJsaW5lLXdpZHRoXCJdKSxcImxpbmUtZ2FwLXdpZHRoXCI6bmV3IFVvKEplLnBhaW50X2xpbmVbXCJsaW5lLWdhcC13aWR0aFwiXSksXCJsaW5lLW9mZnNldFwiOm5ldyBVbyhKZS5wYWludF9saW5lW1wibGluZS1vZmZzZXRcIl0pLFwibGluZS1ibHVyXCI6bmV3IFVvKEplLnBhaW50X2xpbmVbXCJsaW5lLWJsdXJcIl0pLFwibGluZS1kYXNoYXJyYXlcIjpuZXcgVW8oSmUucGFpbnRfbGluZVtcImxpbmUtZGFzaGFycmF5XCJdKSxcImxpbmUtcGF0dGVyblwiOm5ldyBVbyhKZS5wYWludF9saW5lW1wibGluZS1wYXR0ZXJuXCJdKSxcImxpbmUtZ3JhZGllbnRcIjpuZXcgVm8oSmUucGFpbnRfbGluZVtcImxpbmUtZ3JhZGllbnRcIl0pLFwibGluZS10cmltLW9mZnNldFwiOm5ldyBObyhKZS5wYWludF9saW5lW1wibGluZS10cmltLW9mZnNldFwiXSl9KSxsYXlvdXQ6cXV9O2NvbnN0IEh1PW5ldyBjbGFzcyBleHRlbmRzIFVve3Bvc3NpYmx5RXZhbHVhdGUoZSx0KXtyZXR1cm4gdD1uZXcgUG8oTWF0aC5mbG9vcih0Lnpvb20pLHtub3c6dC5ub3csZmFkZUR1cmF0aW9uOnQuZmFkZUR1cmF0aW9uLHRyYW5zaXRpb246dC50cmFuc2l0aW9ufSksc3VwZXIucG9zc2libHlFdmFsdWF0ZShlLHQpfWV2YWx1YXRlKGUsdCxuLGkpe3JldHVybiB0PUEoe30sdCx7em9vbTpNYXRoLmZsb29yKHQuem9vbSl9KSxzdXBlci5ldmFsdWF0ZShlLHQsbixpKX19KCR1LnBhaW50LnByb3BlcnRpZXNbXCJsaW5lLXdpZHRoXCJdLnNwZWNpZmljYXRpb24pO2Z1bmN0aW9uIFh1KGUsdCl7cmV0dXJuIHQ+MD90KzIqZTplfUh1LnVzZUludGVnZXJab29tPSEwO2NvbnN0IFl1PUhvKFt7bmFtZTpcImFfcG9zX29mZnNldFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX3RleF9zaXplXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn0se25hbWU6XCJhX3BpeGVsb2Zmc2V0XCIsY29tcG9uZW50czo0LHR5cGU6XCJJbnQxNlwifV0sNCksSnU9SG8oW3tuYW1lOlwiYV9nbG9iZV9hbmNob3JcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9nbG9iZV9ub3JtYWxcIixjb21wb25lbnRzOjMsdHlwZTpcIkZsb2F0MzJcIn1dLDQpLFF1PUhvKFt7bmFtZTpcImFfcHJvamVjdGVkX3Bvc1wiLGNvbXBvbmVudHM6NCx0eXBlOlwiRmxvYXQzMlwifV0sNCk7SG8oW3tuYW1lOlwiYV9mYWRlX29wYWNpdHlcIixjb21wb25lbnRzOjEsdHlwZTpcIlVpbnQzMlwifV0sNCk7Y29uc3QgS3U9SG8oW3tuYW1lOlwiYV9wbGFjZWRcIixjb21wb25lbnRzOjIsdHlwZTpcIlVpbnQ4XCJ9LHtuYW1lOlwiYV9zaGlmdFwiLGNvbXBvbmVudHM6Mix0eXBlOlwiRmxvYXQzMlwifV0pLGVoPUhvKFt7bmFtZTpcImFfc2l6ZV9zY2FsZVwiLGNvbXBvbmVudHM6MSx0eXBlOlwiRmxvYXQzMlwifSx7bmFtZTpcImFfcGFkZGluZ1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiRmxvYXQzMlwifV0pO0hvKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWlwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInRpbGVBbmNob3JYXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidGlsZUFuY2hvcllcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcIngxXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ5MVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieDJcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInkyXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicGFkZGluZ1wifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJmZWF0dXJlSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwic291cmNlTGF5ZXJJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJidWNrZXRJbmRleFwifV0pO2NvbnN0IHRoPUhvKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfYW5jaG9yX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2V4dHJ1ZGVcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9XSw0KSxuaD1Ibyhbe25hbWU6XCJhX3Bvc18yZlwiLGNvbXBvbmVudHM6Mix0eXBlOlwiRmxvYXQzMlwifSx7bmFtZTpcImFfcmFkaXVzXCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9LHtuYW1lOlwiYV9mbGFnc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpO0hvKFt7bmFtZTpcInRyaWFuZ2xlXCIsY29tcG9uZW50czozLHR5cGU6XCJVaW50MTZcIn1dKSxIbyhbe3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JYXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclpcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JYXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ0aWxlQW5jaG9yWVwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJnbHlwaFN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtR2x5cGhzXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcInZlcnRleFN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwibGluZVN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwibGluZUxlbmd0aFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJzZWdtZW50XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImxvd2VyU2l6ZVwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ1cHBlclNpemVcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImxpbmVPZmZzZXRYXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJsaW5lT2Zmc2V0WVwifSx7dHlwZTpcIlVpbnQ4XCIsbmFtZTpcIndyaXRpbmdNb2RlXCJ9LHt0eXBlOlwiVWludDhcIixuYW1lOlwicGxhY2VkT3JpZW50YXRpb25cIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJoaWRkZW5cIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwiY3Jvc3NUaWxlSURcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJhc3NvY2lhdGVkSWNvbkluZGV4XCJ9LHt0eXBlOlwiVWludDhcIixuYW1lOlwiZmxpcFN0YXRlXCJ9XSksSG8oW3t0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvcllcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JaXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ0aWxlQW5jaG9yWFwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwidGlsZUFuY2hvcllcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcImNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcImxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInBsYWNlZEljb25TeW1ib2xJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImtleVwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ0ZXh0Qm94U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ0ZXh0Qm94RW5kSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidmVydGljYWxUZXh0Qm94U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbFRleHRCb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJpY29uQm94U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJpY29uQm94RW5kSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidmVydGljYWxJY29uQm94U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbEljb25Cb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJmZWF0dXJlSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXNcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtVmVydGljYWxHbHlwaFZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcIm51bUljb25WZXJ0aWNlc1wifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1WZXJ0aWNhbEljb25WZXJ0aWNlc1wifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ1c2VSdW50aW1lQ29sbGlzaW9uQ2lyY2xlc1wifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJjcm9zc1RpbGVJRFwifSx7dHlwZTpcIkZsb2F0MzJcIixjb21wb25lbnRzOjIsbmFtZTpcInRleHRPZmZzZXRcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImNvbGxpc2lvbkNpcmNsZURpYW1ldGVyXCJ9XSksSG8oW3t0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJvZmZzZXRYXCJ9XSksSG8oW3t0eXBlOlwiSW50MTZcIixuYW1lOlwieFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInlcIn1dKTtjb25zdCBpaD0xMjg7ZnVuY3Rpb24gcmgoZSx0KXtjb25zdHtleHByZXNzaW9uOm59PXQ7aWYoXCJjb25zdGFudFwiPT09bi5raW5kKXJldHVybntraW5kOlwiY29uc3RhbnRcIixsYXlvdXRTaXplOm4uZXZhbHVhdGUobmV3IFBvKGUrMSkpfTtpZihcInNvdXJjZVwiPT09bi5raW5kKXJldHVybntraW5kOlwic291cmNlXCJ9O3tjb25zdHt6b29tU3RvcHM6dCxpbnRlcnBvbGF0aW9uVHlwZTppfT1uO2xldCByPTA7Zm9yKDtyPHQubGVuZ3RoJiZ0W3JdPD1lOylyKys7cj1NYXRoLm1heCgwLHItMSk7bGV0IG89cjtmb3IoO288dC5sZW5ndGgmJnRbb108ZSsxOylvKys7bz1NYXRoLm1pbih0Lmxlbmd0aC0xLG8pO2NvbnN0IGE9dFtyXSxzPXRbb107cmV0dXJuXCJjb21wb3NpdGVcIj09PW4ua2luZD97a2luZDpcImNvbXBvc2l0ZVwiLG1pblpvb206YSxtYXhab29tOnMsaW50ZXJwb2xhdGlvblR5cGU6aX06e2tpbmQ6XCJjYW1lcmFcIixtaW5ab29tOmEsbWF4Wm9vbTpzLG1pblNpemU6bi5ldmFsdWF0ZShuZXcgUG8oYSkpLG1heFNpemU6bi5ldmFsdWF0ZShuZXcgUG8ocykpLGludGVycG9sYXRpb25UeXBlOml9fX1mdW5jdGlvbiBvaChlLHt1U2l6ZTp0LHVTaXplVDpufSx7bG93ZXJTaXplOmksdXBwZXJTaXplOnJ9KXtyZXR1cm5cInNvdXJjZVwiPT09ZS5raW5kP2kvaWg6XCJjb21wb3NpdGVcIj09PWUua2luZD9DbihpL2loLHIvaWgsbik6dH1mdW5jdGlvbiBhaChlLHQpe2xldCBuPTAsaT0wO2lmKFwiY29uc3RhbnRcIj09PWUua2luZClpPWUubGF5b3V0U2l6ZTtlbHNlIGlmKFwic291cmNlXCIhPT1lLmtpbmQpe2NvbnN0e2ludGVycG9sYXRpb25UeXBlOnIsbWluWm9vbTpvLG1heFpvb206YX09ZSxzPXI/UyhXbi5pbnRlcnBvbGF0aW9uRmFjdG9yKHIsdCxvLGEpLDAsMSk6MDtcImNhbWVyYVwiPT09ZS5raW5kP2k9Q24oZS5taW5TaXplLGUubWF4U2l6ZSxzKTpuPXN9cmV0dXJue3VTaXplVDpuLHVTaXplOml9fXZhciBzaD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxnZXRTaXplRGF0YTpyaCxldmFsdWF0ZVNpemVGb3JGZWF0dXJlOm9oLGV2YWx1YXRlU2l6ZUZvclpvb206YWgsU0laRV9QQUNLX0ZBQ1RPUjppaH0pO2Z1bmN0aW9uIGxoKGUsdCxuKXtyZXR1cm4gZS5zZWN0aW9ucy5mb3JFYWNoKGU9PntlLnRleHQ9ZnVuY3Rpb24oZSx0LG4pe2NvbnN0IGk9dC5sYXlvdXQuZ2V0KFwidGV4dC10cmFuc2Zvcm1cIikuZXZhbHVhdGUobix7fSk7cmV0dXJuXCJ1cHBlcmNhc2VcIj09PWk/ZT1lLnRvTG9jYWxlVXBwZXJDYXNlKCk6XCJsb3dlcmNhc2VcIj09PWkmJihlPWUudG9Mb2NhbGVMb3dlckNhc2UoKSksQW8uYXBwbHlBcmFiaWNTaGFwaW5nJiYoZT1Bby5hcHBseUFyYWJpY1NoYXBpbmcoZSkpLGV9KGUudGV4dCx0LG4pfSksZX1jb25zdCBjaD17XCIhXCI6XCLvuJVcIixcIiNcIjpcIu+8g1wiLCQ6XCLvvIRcIixcIiVcIjpcIu+8hVwiLFwiJlwiOlwi77yGXCIsXCIoXCI6XCLvuLVcIixcIilcIjpcIu+4tlwiLFwiKlwiOlwi77yKXCIsXCIrXCI6XCLvvItcIixcIixcIjpcIu+4kFwiLFwiLVwiOlwi77iyXCIsXCIuXCI6XCLjg7tcIixcIi9cIjpcIu+8j1wiLFwiOlwiOlwi77iTXCIsXCI7XCI6XCLvuJRcIixcIjxcIjpcIu+4v1wiLFwiPVwiOlwi77ydXCIsXCI+XCI6XCLvuYBcIixcIj9cIjpcIu+4llwiLFwiQFwiOlwi77ygXCIsXCJbXCI6XCLvuYdcIixcIlxcXFxcIjpcIu+8vFwiLFwiXVwiOlwi77mIXCIsXCJeXCI6XCLvvL5cIixfOlwi77izXCIsXCJgXCI6XCLvvYBcIixcIntcIjpcIu+4t1wiLFwifFwiOlwi4oCVXCIsXCJ9XCI6XCLvuLhcIixcIn5cIjpcIu+9nlwiLFwiwqJcIjpcIu+/oFwiLFwiwqNcIjpcIu+/oVwiLFwiwqVcIjpcIu+/pVwiLFwiwqZcIjpcIu+/pFwiLFwiwqxcIjpcIu+/olwiLFwiwq9cIjpcIu+/o1wiLFwi4oCTXCI6XCLvuLJcIixcIuKAlFwiOlwi77ixXCIsXCLigJhcIjpcIu+5g1wiLFwi4oCZXCI6XCLvuYRcIixcIuKAnFwiOlwi77mBXCIsXCLigJ1cIjpcIu+5glwiLFwi4oCmXCI6XCLvuJlcIixcIuKAp1wiOlwi44O7XCIsXCLigqlcIjpcIu+/plwiLFwi44CBXCI6XCLvuJFcIixcIuOAglwiOlwi77iSXCIsXCLjgIhcIjpcIu+4v1wiLFwi44CJXCI6XCLvuYBcIixcIuOAilwiOlwi77i9XCIsXCLjgItcIjpcIu+4vlwiLFwi44CMXCI6XCLvuYFcIixcIuOAjVwiOlwi77mCXCIsXCLjgI5cIjpcIu+5g1wiLFwi44CPXCI6XCLvuYRcIixcIuOAkFwiOlwi77i7XCIsXCLjgJFcIjpcIu+4vFwiLFwi44CUXCI6XCLvuLlcIixcIuOAlVwiOlwi77i6XCIsXCLjgJZcIjpcIu+4l1wiLFwi44CXXCI6XCLvuJhcIixcIu+8gVwiOlwi77iVXCIsXCLvvIhcIjpcIu+4tVwiLFwi77yJXCI6XCLvuLZcIixcIu+8jFwiOlwi77iQXCIsXCLvvI1cIjpcIu+4slwiLFwi77yOXCI6XCLjg7tcIixcIu+8mlwiOlwi77iTXCIsXCLvvJtcIjpcIu+4lFwiLFwi77ycXCI6XCLvuL9cIixcIu+8nlwiOlwi77mAXCIsXCLvvJ9cIjpcIu+4llwiLFwi77y7XCI6XCLvuYdcIixcIu+8vVwiOlwi77mIXCIsXCLvvL9cIjpcIu+4s1wiLFwi772bXCI6XCLvuLdcIixcIu+9nFwiOlwi4oCVXCIsXCLvvZ1cIjpcIu+4uFwiLFwi772fXCI6XCLvuLVcIixcIu+9oFwiOlwi77i2XCIsXCLvvaFcIjpcIu+4klwiLFwi772iXCI6XCLvuYFcIixcIu+9o1wiOlwi77mCXCJ9O2Z1bmN0aW9uIHVoKGUpe3JldHVyblwi77i2XCI9PT1lfHxcIu+5iFwiPT09ZXx8XCLvuLhcIj09PWV8fFwi77mEXCI9PT1lfHxcIu+5glwiPT09ZXx8XCLvuL5cIj09PWV8fFwi77i8XCI9PT1lfHxcIu+4ulwiPT09ZXx8XCLvuJhcIj09PWV8fFwi77mAXCI9PT1lfHxcIu+4kFwiPT09ZXx8XCLvuJNcIj09PWV8fFwi77iUXCI9PT1lfHxcIu+9gFwiPT09ZXx8XCLvv6NcIj09PWV8fFwi77iRXCI9PT1lfHxcIu+4klwiPT09ZX1mdW5jdGlvbiBoaChlKXtyZXR1cm5cIu+4tVwiPT09ZXx8XCLvuYdcIj09PWV8fFwi77i3XCI9PT1lfHxcIu+5g1wiPT09ZXx8XCLvuYFcIj09PWV8fFwi77i9XCI9PT1lfHxcIu+4u1wiPT09ZXx8XCLvuLlcIj09PWV8fFwi77iXXCI9PT1lfHxcIu+4v1wiPT09ZX12YXIgZGg9bWgscGg9ZnVuY3Rpb24oZSx0LG4saSxyKXt2YXIgbyxhLHM9OCpyLWktMSxsPSgxPDxzKS0xLGM9bD4+MSx1PS03LGg9bj9yLTE6MCxkPW4/LTE6MSxwPWVbdCtoXTtmb3IoaCs9ZCxvPXAmKDE8PC11KS0xLHA+Pj0tdSx1Kz1zO3U+MDtvPTI1NipvK2VbdCtoXSxoKz1kLHUtPTgpO2ZvcihhPW8mKDE8PC11KS0xLG8+Pj0tdSx1Kz1pO3U+MDthPTI1NiphK2VbdCtoXSxoKz1kLHUtPTgpO2lmKDA9PT1vKW89MS1jO2Vsc2V7aWYobz09PWwpcmV0dXJuIGE/TmFOOjEvMCoocD8tMToxKTthKz1NYXRoLnBvdygyLGkpLG8tPWN9cmV0dXJuKHA/LTE6MSkqYSpNYXRoLnBvdygyLG8taSl9LGZoPWZ1bmN0aW9uKGUsdCxuLGkscixvKXt2YXIgYSxzLGwsYz04Km8tci0xLHU9KDE8PGMpLTEsaD11Pj4xLGQ9MjM9PT1yP01hdGgucG93KDIsLTI0KS1NYXRoLnBvdygyLC03Nyk6MCxwPWk/MDpvLTEsZj1pPzE6LTEsbT10PDB8fDA9PT10JiYxL3Q8MD8xOjA7Zm9yKHQ9TWF0aC5hYnModCksaXNOYU4odCl8fHQ9PT0xLzA/KHM9aXNOYU4odCk/MTowLGE9dSk6KGE9TWF0aC5mbG9vcihNYXRoLmxvZyh0KS9NYXRoLkxOMiksdCoobD1NYXRoLnBvdygyLC1hKSk8MSYmKGEtLSxsKj0yKSwodCs9YStoPj0xP2QvbDpkKk1hdGgucG93KDIsMS1oKSkqbD49MiYmKGErKyxsLz0yKSxhK2g+PXU/KHM9MCxhPXUpOmEraD49MT8ocz0odCpsLTEpKk1hdGgucG93KDIsciksYSs9aCk6KHM9dCpNYXRoLnBvdygyLGgtMSkqTWF0aC5wb3coMixyKSxhPTApKTtyPj04O2VbbitwXT0yNTUmcyxwKz1mLHMvPTI1NixyLT04KTtmb3IoYT1hPDxyfHMsYys9cjtjPjA7ZVtuK3BdPTI1NSZhLHArPWYsYS89MjU2LGMtPTgpO2VbbitwLWZdfD0xMjgqbX07ZnVuY3Rpb24gbWgoZSl7dGhpcy5idWY9QXJyYXlCdWZmZXIuaXNWaWV3JiZBcnJheUJ1ZmZlci5pc1ZpZXcoZSk/ZTpuZXcgVWludDhBcnJheShlfHwwKSx0aGlzLnBvcz0wLHRoaXMudHlwZT0wLHRoaXMubGVuZ3RoPXRoaXMuYnVmLmxlbmd0aH1taC5WYXJpbnQ9MCxtaC5GaXhlZDY0PTEsbWguQnl0ZXM9MixtaC5GaXhlZDMyPTU7dmFyIGdoPTQyOTQ5NjcyOTYseWg9MS9naCxfaD1cInVuZGVmaW5lZFwiPT10eXBlb2YgVGV4dERlY29kZXI/bnVsbDpuZXcgVGV4dERlY29kZXIoXCJ1dGY4XCIpO2Z1bmN0aW9uIHZoKGUpe3JldHVybiBlLnR5cGU9PT1taC5CeXRlcz9lLnJlYWRWYXJpbnQoKStlLnBvczplLnBvcysxfWZ1bmN0aW9uIHhoKGUsdCxuKXtyZXR1cm4gbj80Mjk0OTY3Mjk2KnQrKGU+Pj4wKTo0Mjk0OTY3Mjk2Kih0Pj4+MCkrKGU+Pj4wKX1mdW5jdGlvbiBiaChlLHQsbil7dmFyIGk9dDw9MTYzODM/MTp0PD0yMDk3MTUxPzI6dDw9MjY4NDM1NDU1PzM6TWF0aC5mbG9vcihNYXRoLmxvZyh0KS8oNypNYXRoLkxOMikpO24ucmVhbGxvYyhpKTtmb3IodmFyIHI9bi5wb3MtMTtyPj1lO3ItLSluLmJ1ZltyK2ldPW4uYnVmW3JdfWZ1bmN0aW9uIHdoKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC53cml0ZVZhcmludChlW25dKX1mdW5jdGlvbiBUaChlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQud3JpdGVTVmFyaW50KGVbbl0pfWZ1bmN0aW9uIEVoKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC53cml0ZUZsb2F0KGVbbl0pfWZ1bmN0aW9uIFNoKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC53cml0ZURvdWJsZShlW25dKX1mdW5jdGlvbiBNaChlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQud3JpdGVCb29sZWFuKGVbbl0pfWZ1bmN0aW9uIEloKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC53cml0ZUZpeGVkMzIoZVtuXSl9ZnVuY3Rpb24gQ2goZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LndyaXRlU0ZpeGVkMzIoZVtuXSl9ZnVuY3Rpb24ga2goZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LndyaXRlRml4ZWQ2NChlW25dKX1mdW5jdGlvbiBBaChlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQud3JpdGVTRml4ZWQ2NChlW25dKX1mdW5jdGlvbiBQaChlLHQpe3JldHVybihlW3RdfGVbdCsxXTw8OHxlW3QrMl08PDE2KSsxNjc3NzIxNiplW3QrM119ZnVuY3Rpb24gemgoZSx0LG4pe2Vbbl09dCxlW24rMV09dD4+PjgsZVtuKzJdPXQ+Pj4xNixlW24rM109dD4+PjI0fWZ1bmN0aW9uIERoKGUsdCl7cmV0dXJuKGVbdF18ZVt0KzFdPDw4fGVbdCsyXTw8MTYpKyhlW3QrM108PDI0KX1mdW5jdGlvbiBMaChlLHQsbil7dC5nbHlwaHM9W10sMT09PWUmJm4ucmVhZE1lc3NhZ2UoT2gsdCl9ZnVuY3Rpb24gT2goZSx0LG4pe2lmKDM9PT1lKXtjb25zdHtpZDplLGJpdG1hcDppLHdpZHRoOnIsaGVpZ2h0Om8sbGVmdDphLHRvcDpzLGFkdmFuY2U6bH09bi5yZWFkTWVzc2FnZShSaCx7fSk7dC5nbHlwaHMucHVzaCh7aWQ6ZSxiaXRtYXA6bmV3IG9jKHt3aWR0aDpyKzYsaGVpZ2h0Om8rNn0saSksbWV0cmljczp7d2lkdGg6cixoZWlnaHQ6byxsZWZ0OmEsdG9wOnMsYWR2YW5jZTpsfX0pfWVsc2UgND09PWU/dC5hc2NlbmRlcj1uLnJlYWRTVmFyaW50KCk6NT09PWUmJih0LmRlc2NlbmRlcj1uLnJlYWRTVmFyaW50KCkpfWZ1bmN0aW9uIFJoKGUsdCxuKXsxPT09ZT90LmlkPW4ucmVhZFZhcmludCgpOjI9PT1lP3QuYml0bWFwPW4ucmVhZEJ5dGVzKCk6Mz09PWU/dC53aWR0aD1uLnJlYWRWYXJpbnQoKTo0PT09ZT90LmhlaWdodD1uLnJlYWRWYXJpbnQoKTo1PT09ZT90LmxlZnQ9bi5yZWFkU1ZhcmludCgpOjY9PT1lP3QudG9wPW4ucmVhZFNWYXJpbnQoKTo3PT09ZSYmKHQuYWR2YW5jZT1uLnJlYWRWYXJpbnQoKSl9ZnVuY3Rpb24gQmgoZSl7bGV0IHQ9MCxuPTA7Zm9yKGNvbnN0IGkgb2YgZSl0Kz1pLncqaS5oLG49TWF0aC5tYXgobixpLncpO2Uuc29ydCgoZSx0KT0+dC5oLWUuaCk7Y29uc3QgaT1be3g6MCx5OjAsdzpNYXRoLm1heChNYXRoLmNlaWwoTWF0aC5zcXJ0KHQvLjk1KSksbiksaDoxLzB9XTtsZXQgcj0wLG89MDtmb3IoY29uc3QgdCBvZiBlKWZvcihsZXQgZT1pLmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdCBuPWlbZV07aWYoISh0Lnc+bi53fHx0Lmg+bi5oKSl7aWYodC54PW4ueCx0Lnk9bi55LG89TWF0aC5tYXgobyx0LnkrdC5oKSxyPU1hdGgubWF4KHIsdC54K3QudyksdC53PT09bi53JiZ0Lmg9PT1uLmgpe2NvbnN0IHQ9aS5wb3AoKTtlPGkubGVuZ3RoJiYoaVtlXT10KX1lbHNlIHQuaD09PW4uaD8obi54Kz10Lncsbi53LT10LncpOnQudz09PW4udz8obi55Kz10Lmgsbi5oLT10LmgpOihpLnB1c2goe3g6bi54K3Qudyx5Om4ueSx3Om4udy10LncsaDp0Lmh9KSxuLnkrPXQuaCxuLmgtPXQuaCk7YnJlYWt9fXJldHVybnt3OnIsaDpvLGZpbGw6dC8ocipvKXx8MH19bWgucHJvdG90eXBlPXtkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5idWY9bnVsbH0scmVhZEZpZWxkczpmdW5jdGlvbihlLHQsbil7Zm9yKG49bnx8dGhpcy5sZW5ndGg7dGhpcy5wb3M8bjspe3ZhciBpPXRoaXMucmVhZFZhcmludCgpLHI9aT4+MyxvPXRoaXMucG9zO3RoaXMudHlwZT03JmksZShyLHQsdGhpcyksdGhpcy5wb3M9PT1vJiZ0aGlzLnNraXAoaSl9cmV0dXJuIHR9LHJlYWRNZXNzYWdlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMucmVhZEZpZWxkcyhlLHQsdGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MpfSxyZWFkRml4ZWQzMjpmdW5jdGlvbigpe3ZhciBlPVBoKHRoaXMuYnVmLHRoaXMucG9zKTtyZXR1cm4gdGhpcy5wb3MrPTQsZX0scmVhZFNGaXhlZDMyOmZ1bmN0aW9uKCl7dmFyIGU9RGgodGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCxlfSxyZWFkRml4ZWQ2NDpmdW5jdGlvbigpe3ZhciBlPVBoKHRoaXMuYnVmLHRoaXMucG9zKStQaCh0aGlzLmJ1Zix0aGlzLnBvcys0KSpnaDtyZXR1cm4gdGhpcy5wb3MrPTgsZX0scmVhZFNGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIGU9UGgodGhpcy5idWYsdGhpcy5wb3MpK0RoKHRoaXMuYnVmLHRoaXMucG9zKzQpKmdoO3JldHVybiB0aGlzLnBvcys9OCxlfSxyZWFkRmxvYXQ6ZnVuY3Rpb24oKXt2YXIgZT1waCh0aGlzLmJ1Zix0aGlzLnBvcywhMCwyMyw0KTtyZXR1cm4gdGhpcy5wb3MrPTQsZX0scmVhZERvdWJsZTpmdW5jdGlvbigpe3ZhciBlPXBoKHRoaXMuYnVmLHRoaXMucG9zLCEwLDUyLDgpO3JldHVybiB0aGlzLnBvcys9OCxlfSxyZWFkVmFyaW50OmZ1bmN0aW9uKGUpe3ZhciB0LG4saT10aGlzLmJ1ZjtyZXR1cm4gdD0xMjcmKG49aVt0aGlzLnBvcysrXSksbjwxMjg/dDoodHw9KDEyNyYobj1pW3RoaXMucG9zKytdKSk8PDcsbjwxMjg/dDoodHw9KDEyNyYobj1pW3RoaXMucG9zKytdKSk8PDE0LG48MTI4P3Q6KHR8PSgxMjcmKG49aVt0aGlzLnBvcysrXSkpPDwyMSxuPDEyOD90OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLG89bi5idWY7aWYoaT0oMTEyJihyPW9bbi5wb3MrK10pKT4+NCxyPDEyOClyZXR1cm4geGgoZSxpLHQpO2lmKGl8PSgxMjcmKHI9b1tuLnBvcysrXSkpPDwzLHI8MTI4KXJldHVybiB4aChlLGksdCk7aWYoaXw9KDEyNyYocj1vW24ucG9zKytdKSk8PDEwLHI8MTI4KXJldHVybiB4aChlLGksdCk7aWYoaXw9KDEyNyYocj1vW24ucG9zKytdKSk8PDE3LHI8MTI4KXJldHVybiB4aChlLGksdCk7aWYoaXw9KDEyNyYocj1vW24ucG9zKytdKSk8PDI0LHI8MTI4KXJldHVybiB4aChlLGksdCk7aWYoaXw9KDEmKHI9b1tuLnBvcysrXSkpPDwzMSxyPDEyOClyZXR1cm4geGgoZSxpLHQpO3Rocm93IG5ldyBFcnJvcihcIkV4cGVjdGVkIHZhcmludCBub3QgbW9yZSB0aGFuIDEwIGJ5dGVzXCIpfSh0fD0oMTUmKG49aVt0aGlzLnBvc10pKTw8MjgsZSx0aGlzKSkpKX0scmVhZFZhcmludDY0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVhZFZhcmludCghMCl9LHJlYWRTVmFyaW50OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkVmFyaW50KCk7cmV0dXJuIGUlMj09MT8oZSsxKS8tMjplLzJ9LHJlYWRCb29sZWFuOmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4odGhpcy5yZWFkVmFyaW50KCkpfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsdD10aGlzLnBvcztyZXR1cm4gdGhpcy5wb3M9ZSxlLXQ+PTEyJiZfaD9mdW5jdGlvbihlLHQsbil7cmV0dXJuIF9oLmRlY29kZShlLnN1YmFycmF5KHQsbikpfSh0aGlzLmJ1Zix0LGUpOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGk9XCJcIixyPXQ7cjxuOyl7dmFyIG8sYSxzLGw9ZVtyXSxjPW51bGwsdT1sPjIzOT80Omw+MjIzPzM6bD4xOTE/MjoxO2lmKHIrdT5uKWJyZWFrOzE9PT11P2w8MTI4JiYoYz1sKToyPT09dT8xMjg9PSgxOTImKG89ZVtyKzFdKSkmJihjPSgzMSZsKTw8Nnw2MyZvKTw9MTI3JiYoYz1udWxsKTozPT09dT8oYT1lW3IrMl0sMTI4PT0oMTkyJihvPWVbcisxXSkpJiYxMjg9PSgxOTImYSkmJigoYz0oMTUmbCk8PDEyfCg2MyZvKTw8Nnw2MyZhKTw9MjA0N3x8Yz49NTUyOTYmJmM8PTU3MzQzKSYmKGM9bnVsbCkpOjQ9PT11JiYoYT1lW3IrMl0scz1lW3IrM10sMTI4PT0oMTkyJihvPWVbcisxXSkpJiYxMjg9PSgxOTImYSkmJjEyOD09KDE5MiZzKSYmKChjPSgxNSZsKTw8MTh8KDYzJm8pPDwxMnwoNjMmYSk8PDZ8NjMmcyk8PTY1NTM1fHxjPj0xMTE0MTEyKSYmKGM9bnVsbCkpLG51bGw9PT1jPyhjPTY1NTMzLHU9MSk6Yz42NTUzNSYmKGMtPTY1NTM2LGkrPVN0cmluZy5mcm9tQ2hhckNvZGUoYz4+PjEwJjEwMjN8NTUyOTYpLGM9NTYzMjB8MTAyMyZjKSxpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGMpLHIrPXV9cmV0dXJuIGl9KHRoaXMuYnVmLHQsZSl9LHJlYWRCeXRlczpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zLHQ9dGhpcy5idWYuc3ViYXJyYXkodGhpcy5wb3MsZSk7cmV0dXJuIHRoaXMucG9zPWUsdH0scmVhZFBhY2tlZFZhcmludDpmdW5jdGlvbihlLHQpe2lmKHRoaXMudHlwZSE9PW1oLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkVmFyaW50KHQpKTt2YXIgbj12aCh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczxuOyllLnB1c2godGhpcy5yZWFkVmFyaW50KHQpKTtyZXR1cm4gZX0scmVhZFBhY2tlZFNWYXJpbnQ6ZnVuY3Rpb24oZSl7aWYodGhpcy50eXBlIT09bWguQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO3ZhciB0PXZoKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWRTVmFyaW50KCkpO3JldHVybiBlfSxyZWFkUGFja2VkQm9vbGVhbjpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1taC5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7dmFyIHQ9dmgodGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZEJvb2xlYW4oKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRGbG9hdDpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1taC5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO3ZhciB0PXZoKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWRGbG9hdCgpKTtyZXR1cm4gZX0scmVhZFBhY2tlZERvdWJsZTpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1taC5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZERvdWJsZSgpKTt2YXIgdD12aCh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkRG91YmxlKCkpO3JldHVybiBlfSxyZWFkUGFja2VkRml4ZWQzMjpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1taC5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7dmFyIHQ9dmgodGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZEZpeGVkMzIoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRTRml4ZWQzMjpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1taC5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO3ZhciB0PXZoKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWRTRml4ZWQzMigpKTtyZXR1cm4gZX0scmVhZFBhY2tlZEZpeGVkNjQ6ZnVuY3Rpb24oZSl7aWYodGhpcy50eXBlIT09bWguQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO3ZhciB0PXZoKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWRGaXhlZDY0KCkpO3JldHVybiBlfSxyZWFkUGFja2VkU0ZpeGVkNjQ6ZnVuY3Rpb24oZSl7aWYodGhpcy50eXBlIT09bWguQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTt2YXIgdD12aCh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkU0ZpeGVkNjQoKSk7cmV0dXJuIGV9LHNraXA6ZnVuY3Rpb24oZSl7dmFyIHQ9NyZlO2lmKHQ9PT1taC5WYXJpbnQpZm9yKDt0aGlzLmJ1Zlt0aGlzLnBvcysrXT4xMjc7KTtlbHNlIGlmKHQ9PT1taC5CeXRlcyl0aGlzLnBvcz10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcztlbHNlIGlmKHQ9PT1taC5GaXhlZDMyKXRoaXMucG9zKz00O2Vsc2V7aWYodCE9PW1oLkZpeGVkNjQpdGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZCB0eXBlOiBcIit0KTt0aGlzLnBvcys9OH19LHdyaXRlVGFnOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVZhcmludChlPDwzfHQpfSxyZWFsbG9jOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmxlbmd0aHx8MTY7dDx0aGlzLnBvcytlOyl0Kj0yO2lmKHQhPT10aGlzLmxlbmd0aCl7dmFyIG49bmV3IFVpbnQ4QXJyYXkodCk7bi5zZXQodGhpcy5idWYpLHRoaXMuYnVmPW4sdGhpcy5sZW5ndGg9dH19LGZpbmlzaDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aD10aGlzLnBvcyx0aGlzLnBvcz0wLHRoaXMuYnVmLnN1YmFycmF5KDAsdGhpcy5sZW5ndGgpfSx3cml0ZUZpeGVkMzI6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDQpLHpoKHRoaXMuYnVmLGUsdGhpcy5wb3MpLHRoaXMucG9zKz00fSx3cml0ZVNGaXhlZDMyOmZ1bmN0aW9uKGUpe3RoaXMucmVhbGxvYyg0KSx6aCh0aGlzLmJ1ZixlLHRoaXMucG9zKSx0aGlzLnBvcys9NH0sd3JpdGVGaXhlZDY0OmZ1bmN0aW9uKGUpe3RoaXMucmVhbGxvYyg4KSx6aCh0aGlzLmJ1ZiwtMSZlLHRoaXMucG9zKSx6aCh0aGlzLmJ1ZixNYXRoLmZsb29yKGUqeWgpLHRoaXMucG9zKzQpLHRoaXMucG9zKz04fSx3cml0ZVNGaXhlZDY0OmZ1bmN0aW9uKGUpe3RoaXMucmVhbGxvYyg4KSx6aCh0aGlzLmJ1ZiwtMSZlLHRoaXMucG9zKSx6aCh0aGlzLmJ1ZixNYXRoLmZsb29yKGUqeWgpLHRoaXMucG9zKzQpLHRoaXMucG9zKz04fSx3cml0ZVZhcmludDpmdW5jdGlvbihlKXsoZT0rZXx8MCk+MjY4NDM1NDU1fHxlPDA/ZnVuY3Rpb24oZSx0KXt2YXIgbixpO2lmKGU+PTA/KG49ZSU0Mjk0OTY3Mjk2fDAsaT1lLzQyOTQ5NjcyOTZ8MCk6KGk9figtZS80Mjk0OTY3Mjk2KSw0Mjk0OTY3Mjk1XihuPX4oLWUlNDI5NDk2NzI5NikpP249bisxfDA6KG49MCxpPWkrMXwwKSksZT49MHgxMDAwMDAwMDAwMDAwMDAwMHx8ZTwtMHgxMDAwMDAwMDAwMDAwMDAwMCl0aHJvdyBuZXcgRXJyb3IoXCJHaXZlbiB2YXJpbnQgZG9lc24ndCBmaXQgaW50byAxMCBieXRlc1wiKTt0LnJlYWxsb2MoMTApLGZ1bmN0aW9uKGUsdCxuKXtuLmJ1ZltuLnBvcysrXT0xMjcmZXwxMjgsZT4+Pj03LG4uYnVmW24ucG9zKytdPTEyNyZlfDEyOCxlPj4+PTcsbi5idWZbbi5wb3MrK109MTI3JmV8MTI4LGU+Pj49NyxuLmJ1ZltuLnBvcysrXT0xMjcmZXwxMjgsbi5idWZbbi5wb3NdPTEyNyYoZT4+Pj03KX0obiwwLHQpLGZ1bmN0aW9uKGUsdCl7dmFyIG49KDcmZSk8PDQ7dC5idWZbdC5wb3MrK118PW58KChlPj4+PTMpPzEyODowKSxlJiYodC5idWZbdC5wb3MrK109MTI3JmV8KChlPj4+PTcpPzEyODowKSxlJiYodC5idWZbdC5wb3MrK109MTI3JmV8KChlPj4+PTcpPzEyODowKSxlJiYodC5idWZbdC5wb3MrK109MTI3JmV8KChlPj4+PTcpPzEyODowKSxlJiYodC5idWZbdC5wb3MrK109MTI3JmV8KChlPj4+PTcpPzEyODowKSxlJiYodC5idWZbdC5wb3MrK109MTI3JmUpKSkpKX0oaSx0KX0oZSx0aGlzKToodGhpcy5yZWFsbG9jKDQpLHRoaXMuYnVmW3RoaXMucG9zKytdPTEyNyZlfChlPjEyNz8xMjg6MCksZTw9MTI3fHwodGhpcy5idWZbdGhpcy5wb3MrK109MTI3JihlPj4+PTcpfChlPjEyNz8xMjg6MCksZTw9MTI3fHwodGhpcy5idWZbdGhpcy5wb3MrK109MTI3JihlPj4+PTcpfChlPjEyNz8xMjg6MCksZTw9MTI3fHwodGhpcy5idWZbdGhpcy5wb3MrK109ZT4+PjcmMTI3KSkpKX0sd3JpdGVTVmFyaW50OmZ1bmN0aW9uKGUpe3RoaXMud3JpdGVWYXJpbnQoZTwwPzIqLWUtMToyKmUpfSx3cml0ZUJvb2xlYW46ZnVuY3Rpb24oZSl7dGhpcy53cml0ZVZhcmludChCb29sZWFuKGUpKX0sd3JpdGVTdHJpbmc6ZnVuY3Rpb24oZSl7ZT1TdHJpbmcoZSksdGhpcy5yZWFsbG9jKDQqZS5sZW5ndGgpLHRoaXMucG9zKys7dmFyIHQ9dGhpcy5wb3M7dGhpcy5wb3M9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaSxyLG89MDtvPHQubGVuZ3RoO28rKyl7aWYoKGk9dC5jaGFyQ29kZUF0KG8pKT41NTI5NSYmaTw1NzM0NCl7aWYoIXIpe2k+NTYzMTl8fG8rMT09PXQubGVuZ3RoPyhlW24rK109MjM5LGVbbisrXT0xOTEsZVtuKytdPTE4OSk6cj1pO2NvbnRpbnVlfWlmKGk8NTYzMjApe2VbbisrXT0yMzksZVtuKytdPTE5MSxlW24rK109MTg5LHI9aTtjb250aW51ZX1pPXItNTUyOTY8PDEwfGktNTYzMjB8NjU1MzYscj1udWxsfWVsc2UgciYmKGVbbisrXT0yMzksZVtuKytdPTE5MSxlW24rK109MTg5LHI9bnVsbCk7aTwxMjg/ZVtuKytdPWk6KGk8MjA0OD9lW24rK109aT4+NnwxOTI6KGk8NjU1MzY/ZVtuKytdPWk+PjEyfDIyNDooZVtuKytdPWk+PjE4fDI0MCxlW24rK109aT4+MTImNjN8MTI4KSxlW24rK109aT4+NiY2M3wxMjgpLGVbbisrXT02MyZpfDEyOCl9cmV0dXJuIG59KHRoaXMuYnVmLGUsdGhpcy5wb3MpO3ZhciBuPXRoaXMucG9zLXQ7bj49MTI4JiZiaCh0LG4sdGhpcyksdGhpcy5wb3M9dC0xLHRoaXMud3JpdGVWYXJpbnQobiksdGhpcy5wb3MrPW59LHdyaXRlRmxvYXQ6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDQpLGZoKHRoaXMuYnVmLGUsdGhpcy5wb3MsITAsMjMsNCksdGhpcy5wb3MrPTR9LHdyaXRlRG91YmxlOmZ1bmN0aW9uKGUpe3RoaXMucmVhbGxvYyg4KSxmaCh0aGlzLmJ1ZixlLHRoaXMucG9zLCEwLDUyLDgpLHRoaXMucG9zKz04fSx3cml0ZUJ5dGVzOmZ1bmN0aW9uKGUpe3ZhciB0PWUubGVuZ3RoO3RoaXMud3JpdGVWYXJpbnQodCksdGhpcy5yZWFsbG9jKHQpO2Zvcih2YXIgbj0wO248dDtuKyspdGhpcy5idWZbdGhpcy5wb3MrK109ZVtuXX0sd3JpdGVSYXdNZXNzYWdlOmZ1bmN0aW9uKGUsdCl7dGhpcy5wb3MrKzt2YXIgbj10aGlzLnBvcztlKHQsdGhpcyk7dmFyIGk9dGhpcy5wb3MtbjtpPj0xMjgmJmJoKG4saSx0aGlzKSx0aGlzLnBvcz1uLTEsdGhpcy53cml0ZVZhcmludChpKSx0aGlzLnBvcys9aX0sd3JpdGVNZXNzYWdlOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLndyaXRlVGFnKGUsbWguQnl0ZXMpLHRoaXMud3JpdGVSYXdNZXNzYWdlKHQsbil9LHdyaXRlUGFja2VkVmFyaW50OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsd2gsdCl9LHdyaXRlUGFja2VkU1ZhcmludDpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLFRoLHQpfSx3cml0ZVBhY2tlZEJvb2xlYW46ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxNaCx0KX0sd3JpdGVQYWNrZWRGbG9hdDpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLEVoLHQpfSx3cml0ZVBhY2tlZERvdWJsZTpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLFNoLHQpfSx3cml0ZVBhY2tlZEZpeGVkMzI6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxJaCx0KX0sd3JpdGVQYWNrZWRTRml4ZWQzMjpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLENoLHQpfSx3cml0ZVBhY2tlZEZpeGVkNjQ6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxraCx0KX0sd3JpdGVQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLEFoLHQpfSx3cml0ZUJ5dGVzRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsbWguQnl0ZXMpLHRoaXMud3JpdGVCeXRlcyh0KX0sd3JpdGVGaXhlZDMyRmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsbWguRml4ZWQzMiksdGhpcy53cml0ZUZpeGVkMzIodCl9LHdyaXRlU0ZpeGVkMzJGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxtaC5GaXhlZDMyKSx0aGlzLndyaXRlU0ZpeGVkMzIodCl9LHdyaXRlRml4ZWQ2NEZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLG1oLkZpeGVkNjQpLHRoaXMud3JpdGVGaXhlZDY0KHQpfSx3cml0ZVNGaXhlZDY0RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsbWguRml4ZWQ2NCksdGhpcy53cml0ZVNGaXhlZDY0KHQpfSx3cml0ZVZhcmludEZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLG1oLlZhcmludCksdGhpcy53cml0ZVZhcmludCh0KX0sd3JpdGVTVmFyaW50RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsbWguVmFyaW50KSx0aGlzLndyaXRlU1ZhcmludCh0KX0sd3JpdGVTdHJpbmdGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxtaC5CeXRlcyksdGhpcy53cml0ZVN0cmluZyh0KX0sd3JpdGVGbG9hdEZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLG1oLkZpeGVkMzIpLHRoaXMud3JpdGVGbG9hdCh0KX0sd3JpdGVEb3VibGVGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxtaC5GaXhlZDY0KSx0aGlzLndyaXRlRG91YmxlKHQpfSx3cml0ZUJvb2xlYW5GaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVWYXJpbnRGaWVsZChlLEJvb2xlYW4odCkpfX07Y2xhc3Mgamh7Y29uc3RydWN0b3IoZSx7cGl4ZWxSYXRpbzp0LHZlcnNpb246bixzdHJldGNoWDppLHN0cmV0Y2hZOnIsY29udGVudDpvfSl7dGhpcy5wYWRkZWRSZWN0PWUsdGhpcy5waXhlbFJhdGlvPXQsdGhpcy5zdHJldGNoWD1pLHRoaXMuc3RyZXRjaFk9cix0aGlzLmNvbnRlbnQ9byx0aGlzLnZlcnNpb249bn1nZXQgdGwoKXtyZXR1cm5bdGhpcy5wYWRkZWRSZWN0LngrMSx0aGlzLnBhZGRlZFJlY3QueSsxXX1nZXQgYnIoKXtyZXR1cm5bdGhpcy5wYWRkZWRSZWN0LngrdGhpcy5wYWRkZWRSZWN0LnctMSx0aGlzLnBhZGRlZFJlY3QueSt0aGlzLnBhZGRlZFJlY3QuaC0xXX1nZXQgZGlzcGxheVNpemUoKXtyZXR1cm5bKHRoaXMucGFkZGVkUmVjdC53LTIpL3RoaXMucGl4ZWxSYXRpbywodGhpcy5wYWRkZWRSZWN0LmgtMikvdGhpcy5waXhlbFJhdGlvXX19Y2xhc3MgRmh7Y29uc3RydWN0b3IoZSx0KXtjb25zdCBuPXt9LGk9e307dGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzPVtdO2NvbnN0IHI9W107dGhpcy5hZGRJbWFnZXMoZSxuLHIpLHRoaXMuYWRkSW1hZ2VzKHQsaSxyKTtjb25zdHt3Om8saDphfT1CaChyKSxzPW5ldyBhYyh7d2lkdGg6b3x8MSxoZWlnaHQ6YXx8MX0pO2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IGk9ZVt0XSxyPW5bdF0ucGFkZGVkUmVjdDthYy5jb3B5KGkuZGF0YSxzLHt4OjAseTowfSx7eDpyLngrMSx5OnIueSsxfSxpLmRhdGEpfWZvcihjb25zdCBlIGluIHQpe2NvbnN0IG49dFtlXSxyPWlbZV0ucGFkZGVkUmVjdCxvPXIueCsxLGE9ci55KzEsbD1uLmRhdGEud2lkdGgsYz1uLmRhdGEuaGVpZ2h0O2FjLmNvcHkobi5kYXRhLHMse3g6MCx5OjB9LHt4Om8seTphfSxuLmRhdGEpLGFjLmNvcHkobi5kYXRhLHMse3g6MCx5OmMtMX0se3g6byx5OmEtMX0se3dpZHRoOmwsaGVpZ2h0OjF9KSxhYy5jb3B5KG4uZGF0YSxzLHt4OjAseTowfSx7eDpvLHk6YStjfSx7d2lkdGg6bCxoZWlnaHQ6MX0pLGFjLmNvcHkobi5kYXRhLHMse3g6bC0xLHk6MH0se3g6by0xLHk6YX0se3dpZHRoOjEsaGVpZ2h0OmN9KSxhYy5jb3B5KG4uZGF0YSxzLHt4OjAseTowfSx7eDpvK2wseTphfSx7d2lkdGg6MSxoZWlnaHQ6Y30pfXRoaXMuaW1hZ2U9cyx0aGlzLmljb25Qb3NpdGlvbnM9bix0aGlzLnBhdHRlcm5Qb3NpdGlvbnM9aX1hZGRJbWFnZXMoZSx0LG4pe2Zvcihjb25zdCBpIGluIGUpe2NvbnN0IHI9ZVtpXSxvPXt4OjAseTowLHc6ci5kYXRhLndpZHRoKzIsaDpyLmRhdGEuaGVpZ2h0KzJ9O24ucHVzaChvKSx0W2ldPW5ldyBqaChvLHIpLHIuaGFzUmVuZGVyQ2FsbGJhY2smJnRoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcy5wdXNoKGkpfX1wYXRjaFVwZGF0ZWRJbWFnZXMoZSx0KXt0aGlzLmhhdmVSZW5kZXJDYWxsYmFja3M9dGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzLmZpbHRlcih0PT5lLmhhc0ltYWdlKHQpKSxlLmRpc3BhdGNoUmVuZGVyQ2FsbGJhY2tzKHRoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcyk7Zm9yKGNvbnN0IG4gaW4gZS51cGRhdGVkSW1hZ2VzKXRoaXMucGF0Y2hVcGRhdGVkSW1hZ2UodGhpcy5pY29uUG9zaXRpb25zW25dLGUuZ2V0SW1hZ2UobiksdCksdGhpcy5wYXRjaFVwZGF0ZWRJbWFnZSh0aGlzLnBhdHRlcm5Qb3NpdGlvbnNbbl0sZS5nZXRJbWFnZShuKSx0KX1wYXRjaFVwZGF0ZWRJbWFnZShlLHQsbil7aWYoIWV8fCF0KXJldHVybjtpZihlLnZlcnNpb249PT10LnZlcnNpb24pcmV0dXJuO2UudmVyc2lvbj10LnZlcnNpb247Y29uc3RbaSxyXT1lLnRsO24udXBkYXRlKHQuZGF0YSx2b2lkIDAse3g6aSx5OnJ9KX19enIoamgsXCJJbWFnZVBvc2l0aW9uXCIpLHpyKEZoLFwiSW1hZ2VBdGxhc1wiKTtjb25zdCBOaD17aG9yaXpvbnRhbDoxLHZlcnRpY2FsOjIsaG9yaXpvbnRhbE9ubHk6M307Y2xhc3MgVWh7Y29uc3RydWN0b3IoKXt0aGlzLnNjYWxlPTEsdGhpcy5mb250U3RhY2s9XCJcIix0aGlzLmltYWdlTmFtZT1udWxsfXN0YXRpYyBmb3JUZXh0KGUsdCl7Y29uc3Qgbj1uZXcgVWg7cmV0dXJuIG4uc2NhbGU9ZXx8MSxuLmZvbnRTdGFjaz10LG59c3RhdGljIGZvckltYWdlKGUpe2NvbnN0IHQ9bmV3IFVoO3JldHVybiB0LmltYWdlTmFtZT1lLHR9fWNsYXNzIFZoe2NvbnN0cnVjdG9yKCl7dGhpcy50ZXh0PVwiXCIsdGhpcy5zZWN0aW9uSW5kZXg9W10sdGhpcy5zZWN0aW9ucz1bXSx0aGlzLmltYWdlU2VjdGlvbklEPW51bGx9c3RhdGljIGZyb21GZWF0dXJlKGUsdCl7Y29uc3Qgbj1uZXcgVmg7Zm9yKGxldCBpPTA7aTxlLnNlY3Rpb25zLmxlbmd0aDtpKyspe2NvbnN0IHI9ZS5zZWN0aW9uc1tpXTtyLmltYWdlP24uYWRkSW1hZ2VTZWN0aW9uKHIpOm4uYWRkVGV4dFNlY3Rpb24ocix0KX1yZXR1cm4gbn1sZW5ndGgoKXtyZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aH1nZXRTZWN0aW9uKGUpe3JldHVybiB0aGlzLnNlY3Rpb25zW3RoaXMuc2VjdGlvbkluZGV4W2VdXX1nZXRTZWN0aW9ucygpe3JldHVybiB0aGlzLnNlY3Rpb25zfWdldFNlY3Rpb25JbmRleChlKXtyZXR1cm4gdGhpcy5zZWN0aW9uSW5kZXhbZV19Z2V0Q2hhckNvZGUoZSl7cmV0dXJuIHRoaXMudGV4dC5jaGFyQ29kZUF0KGUpfXZlcnRpY2FsaXplUHVuY3R1YXRpb24oZSl7dGhpcy50ZXh0PWZ1bmN0aW9uKGUsdCl7bGV0IG49XCJcIjtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgcj1lLmNoYXJDb2RlQXQoaSsxKXx8bnVsbCxvPWUuY2hhckNvZGVBdChpLTEpfHxudWxsO24rPSF0JiYociYmbW8ocikmJiFjaFtlW2krMV1dfHxvJiZtbyhvKSYmIWNoW2VbaS0xXV0pfHwhY2hbZVtpXV0/ZVtpXTpjaFtlW2ldXX1yZXR1cm4gbn0odGhpcy50ZXh0LGUpfXRyaW0oKXtsZXQgZT0wO2ZvcihsZXQgdD0wO3Q8dGhpcy50ZXh0Lmxlbmd0aCYmWmhbdGhpcy50ZXh0LmNoYXJDb2RlQXQodCldO3QrKyllKys7bGV0IHQ9dGhpcy50ZXh0Lmxlbmd0aDtmb3IobGV0IG49dGhpcy50ZXh0Lmxlbmd0aC0xO24+PTAmJm4+PWUmJlpoW3RoaXMudGV4dC5jaGFyQ29kZUF0KG4pXTtuLS0pdC0tO3RoaXMudGV4dD10aGlzLnRleHQuc3Vic3RyaW5nKGUsdCksdGhpcy5zZWN0aW9uSW5kZXg9dGhpcy5zZWN0aW9uSW5kZXguc2xpY2UoZSx0KX1zdWJzdHJpbmcoZSx0KXtjb25zdCBuPW5ldyBWaDtyZXR1cm4gbi50ZXh0PXRoaXMudGV4dC5zdWJzdHJpbmcoZSx0KSxuLnNlY3Rpb25JbmRleD10aGlzLnNlY3Rpb25JbmRleC5zbGljZShlLHQpLG4uc2VjdGlvbnM9dGhpcy5zZWN0aW9ucyxufXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMudGV4dH1nZXRNYXhTY2FsZSgpe3JldHVybiB0aGlzLnNlY3Rpb25JbmRleC5yZWR1Y2UoKGUsdCk9Pk1hdGgubWF4KGUsdGhpcy5zZWN0aW9uc1t0XS5zY2FsZSksMCl9YWRkVGV4dFNlY3Rpb24oZSx0KXt0aGlzLnRleHQrPWUudGV4dCx0aGlzLnNlY3Rpb25zLnB1c2goVWguZm9yVGV4dChlLnNjYWxlLGUuZm9udFN0YWNrfHx0KSk7Y29uc3Qgbj10aGlzLnNlY3Rpb25zLmxlbmd0aC0xO2ZvcihsZXQgdD0wO3Q8ZS50ZXh0Lmxlbmd0aDsrK3QpdGhpcy5zZWN0aW9uSW5kZXgucHVzaChuKX1hZGRJbWFnZVNlY3Rpb24oZSl7Y29uc3QgdD1lLmltYWdlP2UuaW1hZ2UubmFtZTpcIlwiO2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gdm9pZCBWKFwiQ2FuJ3QgYWRkIEZvcm1hdHRlZFNlY3Rpb24gd2l0aCBhbiBlbXB0eSBpbWFnZS5cIik7Y29uc3Qgbj10aGlzLmdldE5leHRJbWFnZVNlY3Rpb25DaGFyQ29kZSgpO24/KHRoaXMudGV4dCs9U3RyaW5nLmZyb21DaGFyQ29kZShuKSx0aGlzLnNlY3Rpb25zLnB1c2goVWguZm9ySW1hZ2UodCkpLHRoaXMuc2VjdGlvbkluZGV4LnB1c2godGhpcy5zZWN0aW9ucy5sZW5ndGgtMSkpOlYoXCJSZWFjaGVkIG1heGltdW0gbnVtYmVyIG9mIGltYWdlcyA2NDAxXCIpfWdldE5leHRJbWFnZVNlY3Rpb25DaGFyQ29kZSgpe3JldHVybiB0aGlzLmltYWdlU2VjdGlvbklEP3RoaXMuaW1hZ2VTZWN0aW9uSUQ+PTYzNzQzP251bGw6Kyt0aGlzLmltYWdlU2VjdGlvbklEOih0aGlzLmltYWdlU2VjdGlvbklEPTU3MzQ0LHRoaXMuaW1hZ2VTZWN0aW9uSUQpfX1mdW5jdGlvbiBHaChlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkLHAsZil7Y29uc3QgbT1WaC5mcm9tRmVhdHVyZShlLHIpO2g9PT1OaC52ZXJ0aWNhbCYmbS52ZXJ0aWNhbGl6ZVB1bmN0dWF0aW9uKGQpO2xldCBnPVtdO2NvbnN0IHk9ZnVuY3Rpb24oZSx0LG4saSxyLG8pe2lmKCFlKXJldHVybltdO2NvbnN0IGE9W10scz1mdW5jdGlvbihlLHQsbixpLHIsbyl7bGV0IGE9MDtmb3IobGV0IG49MDtuPGUubGVuZ3RoKCk7bisrKXtjb25zdCBzPWUuZ2V0U2VjdGlvbihuKTthKz1xaChlLmdldENoYXJDb2RlKG4pLHMsaSxyLHQsbyl9cmV0dXJuIGEvTWF0aC5tYXgoMSxNYXRoLmNlaWwoYS9uKSl9KGUsdCxuLGkscixvKSxsPWUudGV4dC5pbmRleE9mKFwi4oCLXCIpPj0wO2xldCBjPTA7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aCgpO24rKyl7Y29uc3QgaD1lLmdldFNlY3Rpb24obiksZD1lLmdldENoYXJDb2RlKG4pO2lmKFpoW2RdfHwoYys9cWgoZCxoLGkscix0LG8pKSxuPGUubGVuZ3RoKCktMSl7Y29uc3QgdD0hKCh1PWQpPDExOTA0fHwhKCRyKHUpfHxxcih1KXx8YW8odSl8fGlvKHUpfHxKcih1KXx8TnIodSl8fEhyKHUpfHxHcih1KXx8UXIodSl8fEtyKHUpfHxZcih1KXx8Y28odSl8fFpyKHUpfHxWcih1KXx8VXIodSl8fFhyKHUpfHxXcih1KXx8b28odSl8fHRvKHUpfHxlbyh1KSkpOyhXaFtkXXx8dHx8aC5pbWFnZU5hbWUpJiZhLnB1c2goWGgobisxLGMscyxhLEhoKGQsZS5nZXRDaGFyQ29kZShuKzEpLHQmJmwpLCExKSl9fXZhciB1O3JldHVybiBmdW5jdGlvbiBlKHQpe3JldHVybiB0P2UodC5wcmlvckJyZWFrKS5jb25jYXQodC5pbmRleCk6W119KFhoKGUubGVuZ3RoKCksYyxzLGEsMCwhMCkpfShtLGMsbyx0LGkscCkse3Byb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dDpfLHByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dDp2fT1BbztpZihfJiYxPT09bS5zZWN0aW9ucy5sZW5ndGgpe2NvbnN0IGU9XyhtLnRvU3RyaW5nKCkseSk7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1uZXcgVmg7ZS50ZXh0PXQsZS5zZWN0aW9ucz1tLnNlY3Rpb25zO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWUuc2VjdGlvbkluZGV4LnB1c2goMCk7Zy5wdXNoKGUpfX1lbHNlIGlmKHYpe2NvbnN0IGU9dihtLnRleHQsbS5zZWN0aW9uSW5kZXgseSk7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1uZXcgVmg7ZS50ZXh0PXRbMF0sZS5zZWN0aW9uSW5kZXg9dFsxXSxlLnNlY3Rpb25zPW0uc2VjdGlvbnMsZy5wdXNoKGUpfX1lbHNlIGc9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPVtdLGk9ZS50ZXh0O2xldCByPTA7Zm9yKGNvbnN0IGkgb2YgdCluLnB1c2goZS5zdWJzdHJpbmcocixpKSkscj1pO3JldHVybiByPGkubGVuZ3RoJiZuLnB1c2goZS5zdWJzdHJpbmcocixpLmxlbmd0aCkpLG59KG0seSk7Y29uc3QgeD1bXSxiPXtwb3NpdGlvbmVkTGluZXM6eCx0ZXh0Om0udG9TdHJpbmcoKSx0b3A6dVsxXSxib3R0b206dVsxXSxsZWZ0OnVbMF0scmlnaHQ6dVswXSx3cml0aW5nTW9kZTpoLGljb25zSW5UZXh0OiExLHZlcnRpY2FsaXphYmxlOiExLGhhc0Jhc2VsaW5lOiExfTtyZXR1cm4gZnVuY3Rpb24oZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgpe2xldCBkPTAscD0wLGY9MDtjb25zdCBtPVwicmlnaHRcIj09PXM/MTpcImxlZnRcIj09PXM/MDouNTtsZXQgZz0hMTtmb3IoY29uc3QgZSBvZiByKXtjb25zdCBuPWUuZ2V0U2VjdGlvbnMoKTtmb3IoY29uc3QgZSBvZiBuKXtpZihlLmltYWdlTmFtZSljb250aW51ZTtjb25zdCBuPXRbZS5mb250U3RhY2tdO2lmKG4mJihnPXZvaWQgMCE9PW4uYXNjZW5kZXImJnZvaWQgMCE9PW4uZGVzY2VuZGVyLCFnKSlicmVha31pZighZylicmVha31sZXQgeT0wO2Zvcihjb25zdCBhIG9mIHIpe2EudHJpbSgpO2NvbnN0IHI9YS5nZXRNYXhTY2FsZSgpLHM9MjQqKHItMSksdj17cG9zaXRpb25lZEdseXBoczpbXSxsaW5lT2Zmc2V0OjB9O2UucG9zaXRpb25lZExpbmVzW3ldPXY7Y29uc3QgeD12LnBvc2l0aW9uZWRHbHlwaHM7bGV0IGI9MDtpZighYS5sZW5ndGgoKSl7cCs9bywrK3k7Y29udGludWV9bGV0IHc9MCxUPTA7Zm9yKGxldCBvPTA7bzxhLmxlbmd0aCgpO28rKyl7Y29uc3Qgcz1hLmdldFNlY3Rpb24obyksZj1hLmdldFNlY3Rpb25JbmRleChvKSxtPWEuZ2V0Q2hhckNvZGUobyk7bGV0IHk9cy5zY2FsZSx2PW51bGwsRT1udWxsLFM9bnVsbCxNPTI0LEk9MDtjb25zdCBDPSEobD09PU5oLmhvcml6b250YWx8fCF1JiYhZm8obSl8fHUmJihaaFttXXx8KF89bSxCcihfKXx8anIoXyl8fEZyKF8pfHxybyhfKXx8bG8oXykpKSk7aWYocy5pbWFnZU5hbWUpe2NvbnN0IHQ9aVtzLmltYWdlTmFtZV07aWYoIXQpY29udGludWU7Uz1zLmltYWdlTmFtZSxlLmljb25zSW5UZXh0PWUuaWNvbnNJblRleHR8fCEwLEU9dC5wYWRkZWRSZWN0O2NvbnN0IG49dC5kaXNwbGF5U2l6ZTt5PTI0KnkvaCx2PXt3aWR0aDpuWzBdLGhlaWdodDpuWzFdLGxlZnQ6MSx0b3A6LTMsYWR2YW5jZTpDP25bMV06blswXSxsb2NhbEdseXBoOiExfSxJPWc/LXYuaGVpZ2h0Knk6MjQqci0xNy1uWzFdKnksTT12LmFkdmFuY2U7Y29uc3Qgbz0oQz9uWzBdOm5bMV0pKnktMjQqcjtvPjAmJm8+YiYmKGI9byl9ZWxzZXtjb25zdCBlPW5bcy5mb250U3RhY2tdO2lmKCFlKWNvbnRpbnVlO2VbbV0mJihFPWVbbV0pO2NvbnN0IGk9dFtzLmZvbnRTdGFja107aWYoIWkpY29udGludWU7Y29uc3Qgbz1pLmdseXBoc1ttXTtpZighbyljb250aW51ZTtpZih2PW8ubWV0cmljcyxNPTgyMDMhPT1tPzI0OjAsZyl7Y29uc3QgZT12b2lkIDAhPT1pLmFzY2VuZGVyP01hdGguYWJzKGkuYXNjZW5kZXIpOjAsdD12b2lkIDAhPT1pLmRlc2NlbmRlcj9NYXRoLmFicyhpLmRlc2NlbmRlcik6MCxuPShlK3QpKnk7dzxuJiYodz1uLFQ9KGUtdCkvMip5KSxJPS1lKnl9ZWxzZSBJPTI0KihyLXkpLTE3fUM/KGUudmVydGljYWxpemFibGU9ITAseC5wdXNoKHtnbHlwaDptLGltYWdlTmFtZTpTLHg6ZCx5OnArSSx2ZXJ0aWNhbDpDLHNjYWxlOnksbG9jYWxHbHlwaDp2LmxvY2FsR2x5cGgsZm9udFN0YWNrOnMuZm9udFN0YWNrLHNlY3Rpb25JbmRleDpmLG1ldHJpY3M6dixyZWN0OkV9KSxkKz1NKnkrYyk6KHgucHVzaCh7Z2x5cGg6bSxpbWFnZU5hbWU6Uyx4OmQseTpwK0ksdmVydGljYWw6QyxzY2FsZTp5LGxvY2FsR2x5cGg6di5sb2NhbEdseXBoLGZvbnRTdGFjazpzLmZvbnRTdGFjayxzZWN0aW9uSW5kZXg6ZixtZXRyaWNzOnYscmVjdDpFfSksZCs9di5hZHZhbmNlKnkrYyl9MCE9PXgubGVuZ3RoJiYoZj1NYXRoLm1heChkLWMsZiksZz9KaCh4LG0sYixULG8qci8yKTpKaCh4LG0sYiwwLG8vMikpLGQ9MDtjb25zdCBFPW8qcitiO3YubGluZU9mZnNldD1NYXRoLm1heChiLHMpLHArPUUsKyt5fXZhciBfO2NvbnN0IHY9cCx7aG9yaXpvbnRhbEFsaWduOngsdmVydGljYWxBbGlnbjpifT1ZaChhKTsoZnVuY3Rpb24oZSx0LG4saSxyLG8pe2NvbnN0IGE9KHQtbikqcixzPS1vKmk7Zm9yKGNvbnN0IHQgb2YgZSlmb3IoY29uc3QgZSBvZiB0LnBvc2l0aW9uZWRHbHlwaHMpZS54Kz1hLGUueSs9c30pKGUucG9zaXRpb25lZExpbmVzLG0seCxiLGYsdiksZS50b3ArPS1iKnYsZS5ib3R0b209ZS50b3ArdixlLmxlZnQrPS14KmYsZS5yaWdodD1lLmxlZnQrZixlLmhhc0Jhc2VsaW5lPWd9KGIsdCxuLGksZyxhLHMsbCxoLGMsZCxmKSwhZnVuY3Rpb24oZSl7Zm9yKGNvbnN0IHQgb2YgZSlpZigwIT09dC5wb3NpdGlvbmVkR2x5cGhzLmxlbmd0aClyZXR1cm4hMTtyZXR1cm4hMH0oeCkmJmJ9Y29uc3QgWmg9ezk6ITAsMTA6ITAsMTE6ITAsMTI6ITAsMTM6ITAsMzI6ITB9LFdoPXsxMDohMCwzMjohMCwzODohMCw0MDohMCw0MTohMCw0MzohMCw0NTohMCw0NzohMCwxNzM6ITAsMTgzOiEwLDgyMDM6ITAsODIwODohMCw4MjExOiEwLDgyMzE6ITB9O2Z1bmN0aW9uIHFoKGUsdCxuLGkscixvKXtpZih0LmltYWdlTmFtZSl7Y29uc3QgZT1pW3QuaW1hZ2VOYW1lXTtyZXR1cm4gZT9lLmRpc3BsYXlTaXplWzBdKnQuc2NhbGUqMjQvbytyOjB9e2NvbnN0IGk9blt0LmZvbnRTdGFja10sbz1pJiZpLmdseXBoc1tlXTtyZXR1cm4gbz9vLm1ldHJpY3MuYWR2YW5jZSp0LnNjYWxlK3I6MH19ZnVuY3Rpb24gJGgoZSx0LG4saSl7Y29uc3Qgcj1NYXRoLnBvdyhlLXQsMik7cmV0dXJuIGk/ZTx0P3IvMjoyKnI6citNYXRoLmFicyhuKSpufWZ1bmN0aW9uIEhoKGUsdCxuKXtsZXQgaT0wO3JldHVybiAxMD09PWUmJihpLT0xZTQpLG4mJihpKz0xNTApLDQwIT09ZSYmNjUyODghPT1lfHwoaSs9NTApLDQxIT09dCYmNjUyODkhPT10fHwoaSs9NTApLGl9ZnVuY3Rpb24gWGgoZSx0LG4saSxyLG8pe2xldCBhPW51bGwscz0kaCh0LG4scixvKTtmb3IoY29uc3QgZSBvZiBpKXtjb25zdCBpPSRoKHQtZS54LG4scixvKStlLmJhZG5lc3M7aTw9cyYmKGE9ZSxzPWkpfXJldHVybntpbmRleDplLHg6dCxwcmlvckJyZWFrOmEsYmFkbmVzczpzfX1mdW5jdGlvbiBZaChlKXtsZXQgdD0uNSxuPS41O3N3aXRjaChlKXtjYXNlXCJyaWdodFwiOmNhc2VcInRvcC1yaWdodFwiOmNhc2VcImJvdHRvbS1yaWdodFwiOnQ9MTticmVhaztjYXNlXCJsZWZ0XCI6Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJib3R0b20tbGVmdFwiOnQ9MH1zd2l0Y2goZSl7Y2FzZVwiYm90dG9tXCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpuPTE7YnJlYWs7Y2FzZVwidG9wXCI6Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwidG9wLWxlZnRcIjpuPTB9cmV0dXJue2hvcml6b250YWxBbGlnbjp0LHZlcnRpY2FsQWxpZ246bn19ZnVuY3Rpb24gSmgoZSx0LG4saSxyKXtpZighKHR8fG58fGl8fHIpKXJldHVybjtjb25zdCBvPWUubGVuZ3RoLTEsYT1lW29dLHM9KGEueCthLm1ldHJpY3MuYWR2YW5jZSphLnNjYWxlKSp0O2ZvcihsZXQgdD0wO3Q8PW87dCsrKWVbdF0ueC09cyxlW3RdLnkrPW4raStyfWZ1bmN0aW9uIFFoKGUsdCxuKXtjb25zdHtob3Jpem9udGFsQWxpZ246aSx2ZXJ0aWNhbEFsaWduOnJ9PVloKG4pLG89dFswXS1lLmRpc3BsYXlTaXplWzBdKmksYT10WzFdLWUuZGlzcGxheVNpemVbMV0qcjtyZXR1cm57aW1hZ2U6ZSx0b3A6YSxib3R0b206YStlLmRpc3BsYXlTaXplWzFdLGxlZnQ6byxyaWdodDpvK2UuZGlzcGxheVNpemVbMF19fWZ1bmN0aW9uIEtoKGUsdCxuLGkscixvKXtjb25zdCBhPWUuaW1hZ2U7bGV0IHM7aWYoYS5jb250ZW50KXtjb25zdCBlPWEuY29udGVudCx0PWEucGl4ZWxSYXRpb3x8MTtzPVtlWzBdL3QsZVsxXS90LGEuZGlzcGxheVNpemVbMF0tZVsyXS90LGEuZGlzcGxheVNpemVbMV0tZVszXS90XX1jb25zdCBsPXQubGVmdCpvLGM9dC5yaWdodCpvO2xldCB1LGgsZCxwO1wid2lkdGhcIj09PW58fFwiYm90aFwiPT09bj8ocD1yWzBdK2wtaVszXSxoPXJbMF0rYytpWzFdKToocD1yWzBdKyhsK2MtYS5kaXNwbGF5U2l6ZVswXSkvMixoPXArYS5kaXNwbGF5U2l6ZVswXSk7Y29uc3QgZj10LnRvcCpvLG09dC5ib3R0b20qbztyZXR1cm5cImhlaWdodFwiPT09bnx8XCJib3RoXCI9PT1uPyh1PXJbMV0rZi1pWzBdLGQ9clsxXSttK2lbMl0pOih1PXJbMV0rKGYrbS1hLmRpc3BsYXlTaXplWzFdKS8yLGQ9dSthLmRpc3BsYXlTaXplWzFdKSx7aW1hZ2U6YSx0b3A6dSxyaWdodDpoLGJvdHRvbTpkLGxlZnQ6cCxjb2xsaXNpb25QYWRkaW5nOnN9fWNsYXNzIGVkIGV4dGVuZHMgbXtjb25zdHJ1Y3RvcihlLHQsbixpLHIpe3N1cGVyKGUsdCksdGhpcy5hbmdsZT1pLHRoaXMuej1uLHZvaWQgMCE9PXImJih0aGlzLnNlZ21lbnQ9cil9Y2xvbmUoKXtyZXR1cm4gbmV3IGVkKHRoaXMueCx0aGlzLnksdGhpcy56LHRoaXMuYW5nbGUsdGhpcy5zZWdtZW50KX19ZnVuY3Rpb24gdGQoZSx0LG4saSxyKXtpZih2b2lkIDA9PT10LnNlZ21lbnQpcmV0dXJuITA7bGV0IG89dCxhPXQuc2VnbWVudCsxLHM9MDtmb3IoO3M+LW4vMjspe2lmKGEtLSxhPDApcmV0dXJuITE7cy09ZVthXS5kaXN0KG8pLG89ZVthXX1zKz1lW2FdLmRpc3QoZVthKzFdKSxhKys7Y29uc3QgbD1bXTtsZXQgYz0wO2Zvcig7czxuLzI7KXtjb25zdCB0PWVbYV0sbj1lW2ErMV07aWYoIW4pcmV0dXJuITE7bGV0IG89ZVthLTFdLmFuZ2xlVG8odCktdC5hbmdsZVRvKG4pO2ZvcihvPU1hdGguYWJzKChvKzMqTWF0aC5QSSklKDIqTWF0aC5QSSktTWF0aC5QSSksbC5wdXNoKHtkaXN0YW5jZTpzLGFuZ2xlRGVsdGE6b30pLGMrPW87cy1sWzBdLmRpc3RhbmNlPmk7KWMtPWwuc2hpZnQoKS5hbmdsZURlbHRhO2lmKGM+cilyZXR1cm4hMTthKysscys9dC5kaXN0KG4pfXJldHVybiEwfWZ1bmN0aW9uIG5kKGUpe2xldCB0PTA7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aC0xO24rKyl0Kz1lW25dLmRpc3QoZVtuKzFdKTtyZXR1cm4gdH1mdW5jdGlvbiBpZChlLHQsbil7cmV0dXJuIGU/LjYqdCpuOjB9ZnVuY3Rpb24gcmQoZSx0KXtyZXR1cm4gTWF0aC5tYXgoZT9lLnJpZ2h0LWUubGVmdDowLHQ/dC5yaWdodC10LmxlZnQ6MCl9ZnVuY3Rpb24gb2QoZSx0LG4saSxyLG8pe2NvbnN0IGE9aWQobixyLG8pLHM9cmQobixpKSpvO2xldCBsPTA7Y29uc3QgYz1uZChlKS8yO2ZvcihsZXQgbj0wO248ZS5sZW5ndGgtMTtuKyspe2NvbnN0IGk9ZVtuXSxyPWVbbisxXSxvPWkuZGlzdChyKTtpZihsK28+Yyl7Y29uc3QgdT0oYy1sKS9vLGg9Q24oaS54LHIueCx1KSxkPUNuKGkueSxyLnksdSkscD1uZXcgZWQoaCxkLDAsci5hbmdsZVRvKGkpLG4pO3JldHVybiFhfHx0ZChlLHAscyxhLHQpP3A6dm9pZCAwfWwrPW99fWZ1bmN0aW9uIGFkKGUsdCxuLGkscixvLGEscyxsKXtjb25zdCBjPWlkKGksbyxhKSx1PXJkKGksciksaD11KmEsZD0wPT09ZVswXS54fHxlWzBdLng9PT1sfHwwPT09ZVswXS55fHxlWzBdLnk9PT1sO3JldHVybiB0LWg8dC80JiYodD1oK3QvNCksZnVuY3Rpb24gZSh0LG4saSxyLG8sYSxzLGwsYyl7Y29uc3QgdT1hLzIsaD1uZCh0KTtsZXQgZD0wLHA9bi1pLGY9W107Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aC0xO2UrKyl7Y29uc3Qgbj10W2VdLHM9dFtlKzFdLGw9bi5kaXN0KHMpLG09cy5hbmdsZVRvKG4pO2Zvcig7cCtpPGQrbDspe3ArPWk7Y29uc3QgZz0ocC1kKS9sLHk9Q24obi54LHMueCxnKSxfPUNuKG4ueSxzLnksZyk7aWYoeT49MCYmeTxjJiZfPj0wJiZfPGMmJnAtdT49MCYmcCt1PD1oKXtjb25zdCBuPW5ldyBlZCh5LF8sMCxtLGUpO24uX3JvdW5kKCksciYmIXRkKHQsbixhLHIsbyl8fGYucHVzaChuKX19ZCs9bH1yZXR1cm4gbHx8Zi5sZW5ndGh8fHN8fChmPWUodCxkLzIsaSxyLG8sYSxzLCEwLGMpKSxmfShlLGQ/dC8yKnMldDoodS8yKzIqbykqYSpzJXQsdCxjLG4saCxkLCExLGwpfWZ1bmN0aW9uIHNkKGUsdCxuLGkscil7Y29uc3Qgbz1bXTtmb3IobGV0IGE9MDthPGUubGVuZ3RoO2ErKyl7Y29uc3Qgcz1lW2FdO2xldCBsO2ZvcihsZXQgZT0wO2U8cy5sZW5ndGgtMTtlKyspe2xldCBhPXNbZV0sYz1zW2UrMV07YS54PHQmJmMueDx0fHwoYS54PHQ/YT1uZXcgbSh0LGEueSsodC1hLngpLyhjLngtYS54KSooYy55LWEueSkpLl9yb3VuZCgpOmMueDx0JiYoYz1uZXcgbSh0LGEueSsodC1hLngpLyhjLngtYS54KSooYy55LWEueSkpLl9yb3VuZCgpKSxhLnk8biYmYy55PG58fChhLnk8bj9hPW5ldyBtKGEueCsobi1hLnkpLyhjLnktYS55KSooYy54LWEueCksbikuX3JvdW5kKCk6Yy55PG4mJihjPW5ldyBtKGEueCsobi1hLnkpLyhjLnktYS55KSooYy54LWEueCksbikuX3JvdW5kKCkpLGEueD49aSYmYy54Pj1pfHwoYS54Pj1pP2E9bmV3IG0oaSxhLnkrKGktYS54KS8oYy54LWEueCkqKGMueS1hLnkpKS5fcm91bmQoKTpjLng+PWkmJihjPW5ldyBtKGksYS55KyhpLWEueCkvKGMueC1hLngpKihjLnktYS55KSkuX3JvdW5kKCkpLGEueT49ciYmYy55Pj1yfHwoYS55Pj1yP2E9bmV3IG0oYS54KyhyLWEueSkvKGMueS1hLnkpKihjLngtYS54KSxyKS5fcm91bmQoKTpjLnk+PXImJihjPW5ldyBtKGEueCsoci1hLnkpLyhjLnktYS55KSooYy54LWEueCkscikuX3JvdW5kKCkpLGwmJmEuZXF1YWxzKGxbbC5sZW5ndGgtMV0pfHwobD1bYV0sby5wdXNoKGwpKSxsLnB1c2goYykpKSkpfX1yZXR1cm4gb316cihlZCxcIkFuY2hvclwiKTtjb25zdCBsZD0xZTIwO2Z1bmN0aW9uIGNkKGUsdCxuLGkscixvLGEscyxsKXtmb3IobGV0IGM9dDtjPHQraTtjKyspdWQoZSxuKm8rYyxvLHIsYSxzLGwpO2ZvcihsZXQgYz1uO2M8bityO2MrKyl1ZChlLGMqbyt0LDEsaSxhLHMsbCl9ZnVuY3Rpb24gdWQoZSx0LG4saSxyLG8sYSl7b1swXT0wLGFbMF09LWxkLGFbMV09bGQsclswXT1lW3RdO2ZvcihsZXQgcz0xLGw9MCxjPTA7czxpO3MrKyl7cltzXT1lW3QrcypuXTtjb25zdCBpPXMqcztkb3tjb25zdCBlPW9bbF07Yz0ocltzXS1yW2VdK2ktZSplKS8ocy1lKS8yfXdoaWxlKGM8PWFbbF0mJi0tbD4tMSk7bCsrLG9bbF09cyxhW2xdPWMsYVtsKzFdPWxkfWZvcihsZXQgcz0wLGw9MDtzPGk7cysrKXtmb3IoO2FbbCsxXTxzOylsKys7Y29uc3QgaT1vW2xdLGM9cy1pO2VbdCtzKm5dPXJbaV0rYypjfX1jb25zdCBoZD17bm9uZTowLGlkZW9ncmFwaHM6MSxhbGw6Mn07Y2xhc3MgZGR7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMucmVxdWVzdE1hbmFnZXI9ZSx0aGlzLmxvY2FsR2x5cGhNb2RlPXQsdGhpcy5sb2NhbEZvbnRGYW1pbHk9bix0aGlzLmVudHJpZXM9e30sdGhpcy5sb2NhbEdseXBocz17MjAwOnt9LDQwMDp7fSw1MDA6e30sOTAwOnt9fX1zZXRVUkwoZSl7dGhpcy51cmw9ZX1nZXRHbHlwaHMoZSx0KXtjb25zdCBuPVtdO2Zvcihjb25zdCB0IGluIGUpZm9yKGNvbnN0IGkgb2YgZVt0XSluLnB1c2goe3N0YWNrOnQsaWQ6aX0pO0Mobiwoe3N0YWNrOmUsaWQ6dH0sbik9PntsZXQgaT10aGlzLmVudHJpZXNbZV07aXx8KGk9dGhpcy5lbnRyaWVzW2VdPXtnbHlwaHM6e30scmVxdWVzdHM6e30scmFuZ2VzOnt9LGFzY2VuZGVyOnZvaWQgMCxkZXNjZW5kZXI6dm9pZCAwfSk7bGV0IHI9aS5nbHlwaHNbdF07aWYodm9pZCAwIT09cilyZXR1cm4gdm9pZCBuKG51bGwse3N0YWNrOmUsaWQ6dCxnbHlwaDpyfSk7aWYocj10aGlzLl90aW55U0RGKGksZSx0KSxyKXJldHVybiBpLmdseXBoc1t0XT1yLHZvaWQgbihudWxsLHtzdGFjazplLGlkOnQsZ2x5cGg6cn0pO2NvbnN0IG89TWF0aC5mbG9vcih0LzI1Nik7aWYoMjU2Km8+NjU1MzUpcmV0dXJuIHZvaWQgbihuZXcgRXJyb3IoXCJnbHlwaHMgPiA2NTUzNSBub3Qgc3VwcG9ydGVkXCIpKTtpZihpLnJhbmdlc1tvXSlyZXR1cm4gdm9pZCBuKG51bGwse3N0YWNrOmUsaWQ6dCxnbHlwaDpyfSk7bGV0IGE9aS5yZXF1ZXN0c1tvXTthfHwoYT1pLnJlcXVlc3RzW29dPVtdLGRkLmxvYWRHbHlwaFJhbmdlKGUsbyx0aGlzLnVybCx0aGlzLnJlcXVlc3RNYW5hZ2VyLChlLHQpPT57aWYodCl7aS5hc2NlbmRlcj10LmFzY2VuZGVyLGkuZGVzY2VuZGVyPXQuZGVzY2VuZGVyO2Zvcihjb25zdCBlIGluIHQuZ2x5cGhzKXRoaXMuX2RvZXNDaGFyU3VwcG9ydExvY2FsR2x5cGgoK2UpfHwoaS5nbHlwaHNbK2VdPXQuZ2x5cGhzWytlXSk7aS5yYW5nZXNbb109ITB9Zm9yKGNvbnN0IG4gb2YgYSluKGUsdCk7ZGVsZXRlIGkucmVxdWVzdHNbb119KSksYS5wdXNoKChpLHIpPT57aT9uKGkpOnImJm4obnVsbCx7c3RhY2s6ZSxpZDp0LGdseXBoOnIuZ2x5cGhzW3RdfHxudWxsfSl9KX0sKGUsbik9PntpZihlKXQoZSk7ZWxzZSBpZihuKXtjb25zdCBlPXt9O2Zvcihjb25zdHtzdGFjazp0LGlkOmksZ2x5cGg6cn1vZiBuKXZvaWQgMD09PWVbdF0mJihlW3RdPXt9KSx2b2lkIDA9PT1lW3RdLmdseXBocyYmKGVbdF0uZ2x5cGhzPXt9KSxlW3RdLmdseXBoc1tpXT1yJiZ7aWQ6ci5pZCxiaXRtYXA6ci5iaXRtYXAuY2xvbmUoKSxtZXRyaWNzOnIubWV0cmljc30sZVt0XS5hc2NlbmRlcj10aGlzLmVudHJpZXNbdF0uYXNjZW5kZXIsZVt0XS5kZXNjZW5kZXI9dGhpcy5lbnRyaWVzW3RdLmRlc2NlbmRlcjt0KG51bGwsZSl9fSl9X2RvZXNDaGFyU3VwcG9ydExvY2FsR2x5cGgoZSl7cmV0dXJuIHRoaXMubG9jYWxHbHlwaE1vZGUhPT1oZC5ub25lJiYodGhpcy5sb2NhbEdseXBoTW9kZT09PWhkLmFsbD8hIXRoaXMubG9jYWxGb250RmFtaWx5OiEhdGhpcy5sb2NhbEZvbnRGYW1pbHkmJihLcihlKXx8bm8oZSl8fFpyKGUpfHxXcihlKXx8R3IoZSkpKX1fdGlueVNERihlLHQsbil7Y29uc3QgaT10aGlzLmxvY2FsRm9udEZhbWlseTtpZighaXx8IXRoaXMuX2RvZXNDaGFyU3VwcG9ydExvY2FsR2x5cGgobikpcmV0dXJuO2xldCByPWUudGlueVNERjtpZighcil7bGV0IG49XCI0MDBcIjsvYm9sZC9pLnRlc3QodCk/bj1cIjkwMFwiOi9tZWRpdW0vaS50ZXN0KHQpP249XCI1MDBcIjovbGlnaHQvaS50ZXN0KHQpJiYobj1cIjIwMFwiKSxyPWUudGlueVNERj1uZXcgZGQuVGlueVNERih7Zm9udEZhbWlseTppLGZvbnRXZWlnaHQ6bixmb250U2l6ZTo0OCxidWZmZXI6NixyYWRpdXM6MTZ9KSxyLmZvbnRXZWlnaHQ9bn1pZih0aGlzLmxvY2FsR2x5cGhzW3IuZm9udFdlaWdodF1bbl0pcmV0dXJuIHRoaXMubG9jYWxHbHlwaHNbci5mb250V2VpZ2h0XVtuXTtjb25zdCBvPVN0cmluZy5mcm9tQ2hhckNvZGUobikse2RhdGE6YSx3aWR0aDpzLGhlaWdodDpsLGdseXBoV2lkdGg6YyxnbHlwaEhlaWdodDp1LGdseXBoTGVmdDpoLGdseXBoVG9wOmQsZ2x5cGhBZHZhbmNlOnB9PXIuZHJhdyhvKTtyZXR1cm4gdGhpcy5sb2NhbEdseXBoc1tyLmZvbnRXZWlnaHRdW25dPXtpZDpuLGJpdG1hcDpuZXcgb2Moe3dpZHRoOnMsaGVpZ2h0Omx9LGEpLG1ldHJpY3M6e3dpZHRoOmMvMixoZWlnaHQ6dS8yLGxlZnQ6aC8yLHRvcDpkLzItMjcsYWR2YW5jZTpwLzIsbG9jYWxHbHlwaDohMH19fX1mdW5jdGlvbiBwZChlLHQsbixpKXtjb25zdCByPVtdLG89ZS5pbWFnZSxhPW8ucGl4ZWxSYXRpbyxzPW8ucGFkZGVkUmVjdC53LTIsbD1vLnBhZGRlZFJlY3QuaC0yLGM9ZS5yaWdodC1lLmxlZnQsdT1lLmJvdHRvbS1lLnRvcCxoPW8uc3RyZXRjaFh8fFtbMCxzXV0sZD1vLnN0cmV0Y2hZfHxbWzAsbF1dLHA9KGUsdCk9PmUrdFsxXS10WzBdLGY9aC5yZWR1Y2UocCwwKSxnPWQucmVkdWNlKHAsMCkseT1zLWYsXz1sLWc7bGV0IHY9MCx4PWYsYj0wLHc9ZyxUPTAsRT15LFM9MCxNPV87aWYoby5jb250ZW50JiZpKXtjb25zdCBlPW8uY29udGVudDt2PWZkKGgsMCxlWzBdKSxiPWZkKGQsMCxlWzFdKSx4PWZkKGgsZVswXSxlWzJdKSx3PWZkKGQsZVsxXSxlWzNdKSxUPWVbMF0tdixTPWVbMV0tYixFPWVbMl0tZVswXS14LE09ZVszXS1lWzFdLXd9Y29uc3QgST0oaSxyLHMsbCk9Pntjb25zdCBoPWdkKGkuc3RyZXRjaC12LHgsYyxlLmxlZnQpLGQ9eWQoaS5maXhlZC1ULEUsaS5zdHJldGNoLGYpLHA9Z2Qoci5zdHJldGNoLWIsdyx1LGUudG9wKSx5PXlkKHIuZml4ZWQtUyxNLHIuc3RyZXRjaCxnKSxfPWdkKHMuc3RyZXRjaC12LHgsYyxlLmxlZnQpLEk9eWQocy5maXhlZC1ULEUscy5zdHJldGNoLGYpLEM9Z2QobC5zdHJldGNoLWIsdyx1LGUudG9wKSxrPXlkKGwuZml4ZWQtUyxNLGwuc3RyZXRjaCxnKSxBPW5ldyBtKGgscCksUD1uZXcgbShfLHApLHo9bmV3IG0oXyxDKSxEPW5ldyBtKGgsQyksTD1uZXcgbShkL2EseS9hKSxPPW5ldyBtKEkvYSxrL2EpLFI9dCpNYXRoLlBJLzE4MDtpZihSKXtjb25zdCBlPU1hdGguc2luKFIpLHQ9TWF0aC5jb3MoUiksbj1bdCwtZSxlLHRdO0EuX21hdE11bHQobiksUC5fbWF0TXVsdChuKSxELl9tYXRNdWx0KG4pLHouX21hdE11bHQobil9Y29uc3QgQj1pLnN0cmV0Y2graS5maXhlZCxqPXIuc3RyZXRjaCtyLmZpeGVkO3JldHVybnt0bDpBLHRyOlAsYmw6RCxicjp6LHRleDp7eDpvLnBhZGRlZFJlY3QueCsxK0IseTpvLnBhZGRlZFJlY3QueSsxK2osdzpzLnN0cmV0Y2grcy5maXhlZC1CLGg6bC5zdHJldGNoK2wuZml4ZWQtan0sd3JpdGluZ01vZGU6dm9pZCAwLGdseXBoT2Zmc2V0OlswLDBdLHNlY3Rpb25JbmRleDowLHBpeGVsT2Zmc2V0VEw6TCxwaXhlbE9mZnNldEJSOk8sbWluRm9udFNjYWxlWDpFL2EvYyxtaW5Gb250U2NhbGVZOk0vYS91LGlzU0RGOm59fTtpZihpJiYoby5zdHJldGNoWHx8by5zdHJldGNoWSkpe2NvbnN0IGU9bWQoaCx5LGYpLHQ9bWQoZCxfLGcpO2ZvcihsZXQgbj0wO248ZS5sZW5ndGgtMTtuKyspe2NvbnN0IGk9ZVtuXSxvPWVbbisxXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKXIucHVzaChJKGksdFtlXSxvLHRbZSsxXSkpfX1lbHNlIHIucHVzaChJKHtmaXhlZDowLHN0cmV0Y2g6LTF9LHtmaXhlZDowLHN0cmV0Y2g6LTF9LHtmaXhlZDowLHN0cmV0Y2g6cysxfSx7Zml4ZWQ6MCxzdHJldGNoOmwrMX0pKTtyZXR1cm4gcn1mdW5jdGlvbiBmZChlLHQsbil7bGV0IGk9MDtmb3IoY29uc3QgciBvZiBlKWkrPU1hdGgubWF4KHQsTWF0aC5taW4obixyWzFdKSktTWF0aC5tYXgodCxNYXRoLm1pbihuLHJbMF0pKTtyZXR1cm4gaX1mdW5jdGlvbiBtZChlLHQsbil7Y29uc3QgaT1be2ZpeGVkOi0xLHN0cmV0Y2g6MH1dO2Zvcihjb25zdFt0LG5db2YgZSl7Y29uc3QgZT1pW2kubGVuZ3RoLTFdO2kucHVzaCh7Zml4ZWQ6dC1lLnN0cmV0Y2gsc3RyZXRjaDplLnN0cmV0Y2h9KSxpLnB1c2goe2ZpeGVkOnQtZS5zdHJldGNoLHN0cmV0Y2g6ZS5zdHJldGNoKyhuLXQpfSl9cmV0dXJuIGkucHVzaCh7Zml4ZWQ6dCsxLHN0cmV0Y2g6bn0pLGl9ZnVuY3Rpb24gZ2QoZSx0LG4saSl7cmV0dXJuIGUvdCpuK2l9ZnVuY3Rpb24geWQoZSx0LG4saSl7cmV0dXJuIGUtdCpuL2l9ZnVuY3Rpb24gX2QoZSx0LG4saSl7Y29uc3Qgcj10K2UucG9zaXRpb25lZExpbmVzW2ldLmxpbmVPZmZzZXQ7cmV0dXJuIDA9PT1pP24rci8yOm4rKHIrKHQrZS5wb3NpdGlvbmVkTGluZXNbaS0xXS5saW5lT2Zmc2V0KSkvMn1kZC5sb2FkR2x5cGhSYW5nZT1mdW5jdGlvbihlLHQsbixpLHIpe2NvbnN0IG89MjU2KnQsYT1vKzI1NSxzPWkudHJhbnNmb3JtUmVxdWVzdChpLm5vcm1hbGl6ZUdseXBoc1VSTChuKS5yZXBsYWNlKFwie2ZvbnRzdGFja31cIixlKS5yZXBsYWNlKFwie3JhbmdlfVwiLGAke299LSR7YX1gKSxhZS5HbHlwaHMpO3VlKHMsKGUsdCk9PntpZihlKXIoZSk7ZWxzZSBpZih0KXtjb25zdCBlPXt9LG49ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBkaChlKS5yZWFkRmllbGRzKExoLHt9KX0odCk7Zm9yKGNvbnN0IHQgb2Ygbi5nbHlwaHMpZVt0LmlkXT10O3IobnVsbCx7Z2x5cGhzOmUsYXNjZW5kZXI6bi5hc2NlbmRlcixkZXNjZW5kZXI6bi5kZXNjZW5kZXJ9KX19KX0sZGQuVGlueVNERj1jbGFzc3tjb25zdHJ1Y3Rvcih7Zm9udFNpemU6ZT0yNCxidWZmZXI6dD0zLHJhZGl1czpuPTgsY3V0b2ZmOmk9LjI1LGZvbnRGYW1pbHk6cj1cInNhbnMtc2VyaWZcIixmb250V2VpZ2h0Om89XCJub3JtYWxcIixmb250U3R5bGU6YT1cIm5vcm1hbFwifT17fSl7dGhpcy5idWZmZXI9dCx0aGlzLmN1dG9mZj1pLHRoaXMucmFkaXVzPW47Y29uc3Qgcz10aGlzLnNpemU9ZSs0KnQsbD10aGlzLl9jcmVhdGVDYW52YXMocyksYz10aGlzLmN0eD1sLmdldENvbnRleHQoXCIyZFwiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KTtjLmZvbnQ9YCR7YX0gJHtvfSAke2V9cHggJHtyfWAsYy50ZXh0QmFzZWxpbmU9XCJhbHBoYWJldGljXCIsYy50ZXh0QWxpZ249XCJsZWZ0XCIsYy5maWxsU3R5bGU9XCJibGFja1wiLHRoaXMuZ3JpZE91dGVyPW5ldyBGbG9hdDY0QXJyYXkocypzKSx0aGlzLmdyaWRJbm5lcj1uZXcgRmxvYXQ2NEFycmF5KHMqcyksdGhpcy5mPW5ldyBGbG9hdDY0QXJyYXkocyksdGhpcy56PW5ldyBGbG9hdDY0QXJyYXkocysxKSx0aGlzLnY9bmV3IFVpbnQxNkFycmF5KHMpfV9jcmVhdGVDYW52YXMoZSl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3JldHVybiB0LndpZHRoPXQuaGVpZ2h0PWUsdH1kcmF3KGUpe2NvbnN0e3dpZHRoOnQsYWN0dWFsQm91bmRpbmdCb3hBc2NlbnQ6bixhY3R1YWxCb3VuZGluZ0JveERlc2NlbnQ6aSxhY3R1YWxCb3VuZGluZ0JveExlZnQ6cixhY3R1YWxCb3VuZGluZ0JveFJpZ2h0Om99PXRoaXMuY3R4Lm1lYXN1cmVUZXh0KGUpLGE9TWF0aC5jZWlsKG4pLHM9TWF0aC5taW4odGhpcy5zaXplLXRoaXMuYnVmZmVyLE1hdGguY2VpbChvLXIpKSxsPU1hdGgubWluKHRoaXMuc2l6ZS10aGlzLmJ1ZmZlcixhK01hdGguY2VpbChpKSksYz1zKzIqdGhpcy5idWZmZXIsdT1sKzIqdGhpcy5idWZmZXIsaD1NYXRoLm1heChjKnUsMCksZD1uZXcgVWludDhDbGFtcGVkQXJyYXkoaCkscD17ZGF0YTpkLHdpZHRoOmMsaGVpZ2h0OnUsZ2x5cGhXaWR0aDpzLGdseXBoSGVpZ2h0OmwsZ2x5cGhUb3A6YSxnbHlwaExlZnQ6MCxnbHlwaEFkdmFuY2U6dH07aWYoMD09PXN8fDA9PT1sKXJldHVybiBwO2NvbnN0e2N0eDpmLGJ1ZmZlcjptLGdyaWRJbm5lcjpnLGdyaWRPdXRlcjp5fT10aGlzO2YuY2xlYXJSZWN0KG0sbSxzLGwpLGYuZmlsbFRleHQoZSxtLG0rYSk7Y29uc3QgXz1mLmdldEltYWdlRGF0YShtLG0scyxsKTt5LmZpbGwobGQsMCxoKSxnLmZpbGwoMCwwLGgpO2ZvcihsZXQgZT0wO2U8bDtlKyspZm9yKGxldCB0PTA7dDxzO3QrKyl7Y29uc3Qgbj1fLmRhdGFbNCooZSpzK3QpKzNdLzI1NTtpZigwPT09biljb250aW51ZTtjb25zdCBpPShlK20pKmMrdCttO2lmKDE9PT1uKXlbaV09MCxnW2ldPWxkO2Vsc2V7Y29uc3QgZT0uNS1uO3lbaV09ZT4wP2UqZTowLGdbaV09ZTwwP2UqZTowfX1jZCh5LDAsMCxjLHUsYyx0aGlzLmYsdGhpcy52LHRoaXMueiksY2QoZyxtLG0scyxsLGMsdGhpcy5mLHRoaXMudix0aGlzLnopO2ZvcihsZXQgZT0wO2U8aDtlKyspe2NvbnN0IHQ9TWF0aC5zcXJ0KHlbZV0pLU1hdGguc3FydChnW2VdKTtkW2VdPU1hdGgucm91bmQoMjU1LTI1NSoodC90aGlzLnJhZGl1cyt0aGlzLmN1dG9mZikpfXJldHVybiBwfX07Y2xhc3MgdmR7Y29uc3RydWN0b3IoZT1bXSx0PXhkKXtpZih0aGlzLmRhdGE9ZSx0aGlzLmxlbmd0aD10aGlzLmRhdGEubGVuZ3RoLHRoaXMuY29tcGFyZT10LHRoaXMubGVuZ3RoPjApZm9yKGxldCBlPSh0aGlzLmxlbmd0aD4+MSktMTtlPj0wO2UtLSl0aGlzLl9kb3duKGUpfXB1c2goZSl7dGhpcy5kYXRhLnB1c2goZSksdGhpcy5sZW5ndGgrKyx0aGlzLl91cCh0aGlzLmxlbmd0aC0xKX1wb3AoKXtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuO2NvbnN0IGU9dGhpcy5kYXRhWzBdLHQ9dGhpcy5kYXRhLnBvcCgpO3JldHVybiB0aGlzLmxlbmd0aC0tLHRoaXMubGVuZ3RoPjAmJih0aGlzLmRhdGFbMF09dCx0aGlzLl9kb3duKDApKSxlfXBlZWsoKXtyZXR1cm4gdGhpcy5kYXRhWzBdfV91cChlKXtjb25zdHtkYXRhOnQsY29tcGFyZTpufT10aGlzLGk9dFtlXTtmb3IoO2U+MDspe2NvbnN0IHI9ZS0xPj4xLG89dFtyXTtpZihuKGksbyk+PTApYnJlYWs7dFtlXT1vLGU9cn10W2VdPWl9X2Rvd24oZSl7Y29uc3R7ZGF0YTp0LGNvbXBhcmU6bn09dGhpcyxpPXRoaXMubGVuZ3RoPj4xLHI9dFtlXTtmb3IoO2U8aTspe2xldCBpPTErKGU8PDEpLG89dFtpXTtjb25zdCBhPWkrMTtpZihhPHRoaXMubGVuZ3RoJiZuKHRbYV0sbyk8MCYmKGk9YSxvPXRbYV0pLG4obyxyKT49MClicmVhazt0W2VdPW8sZT1pfXRbZV09cn19ZnVuY3Rpb24geGQoZSx0KXtyZXR1cm4gZTx0Py0xOmU+dD8xOjB9ZnVuY3Rpb24gYmQoZSx0PTEsbj0hMSl7bGV0IGk9MS8wLHI9MS8wLG89LTEvMCxhPS0xLzA7Y29uc3Qgcz1lWzBdO2ZvcihsZXQgZT0wO2U8cy5sZW5ndGg7ZSsrKXtjb25zdCB0PXNbZV07KCFlfHx0Lng8aSkmJihpPXQueCksKCFlfHx0Lnk8cikmJihyPXQueSksKCFlfHx0Lng+bykmJihvPXQueCksKCFlfHx0Lnk+YSkmJihhPXQueSl9Y29uc3QgbD1NYXRoLm1pbihvLWksYS1yKTtsZXQgYz1sLzI7Y29uc3QgdT1uZXcgdmQoW10sd2QpO2lmKDA9PT1sKXJldHVybiBuZXcgbShpLHIpO2ZvcihsZXQgdD1pO3Q8bzt0Kz1sKWZvcihsZXQgbj1yO248YTtuKz1sKXUucHVzaChuZXcgVGQodCtjLG4rYyxjLGUpKTtsZXQgaD1mdW5jdGlvbihlKXtsZXQgdD0wLG49MCxpPTA7Y29uc3Qgcj1lWzBdO2ZvcihsZXQgZT0wLG89ci5sZW5ndGgsYT1vLTE7ZTxvO2E9ZSsrKXtjb25zdCBvPXJbZV0scz1yW2FdLGw9by54KnMueS1zLngqby55O24rPShvLngrcy54KSpsLGkrPShvLnkrcy55KSpsLHQrPTMqbH1yZXR1cm4gbmV3IFRkKG4vdCxpL3QsMCxlKX0oZSksZD11Lmxlbmd0aDtmb3IoO3UubGVuZ3RoOyl7Y29uc3QgaT11LnBvcCgpOyhpLmQ+aC5kfHwhaC5kKSYmKGg9aSxuJiZjb25zb2xlLmxvZyhcImZvdW5kIGJlc3QgJWQgYWZ0ZXIgJWQgcHJvYmVzXCIsTWF0aC5yb3VuZCgxZTQqaS5kKS8xZTQsZCkpLGkubWF4LWguZDw9dHx8KGM9aS5oLzIsdS5wdXNoKG5ldyBUZChpLnAueC1jLGkucC55LWMsYyxlKSksdS5wdXNoKG5ldyBUZChpLnAueCtjLGkucC55LWMsYyxlKSksdS5wdXNoKG5ldyBUZChpLnAueC1jLGkucC55K2MsYyxlKSksdS5wdXNoKG5ldyBUZChpLnAueCtjLGkucC55K2MsYyxlKSksZCs9NCl9cmV0dXJuIG4mJihjb25zb2xlLmxvZyhcIm51bSBwcm9iZXM6IFwiK2QpLGNvbnNvbGUubG9nKFwiYmVzdCBkaXN0YW5jZTogXCIraC5kKSksaC5wfWZ1bmN0aW9uIHdkKGUsdCl7cmV0dXJuIHQubWF4LWUubWF4fWZ1bmN0aW9uIFRkKGUsdCxuLGkpe3RoaXMucD1uZXcgbShlLHQpLHRoaXMuaD1uLHRoaXMuZD1mdW5jdGlvbihlLHQpe2xldCBuPSExLGk9MS8wO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBvPXRbcl07Zm9yKGxldCB0PTAscj1vLmxlbmd0aCxhPXItMTt0PHI7YT10Kyspe2NvbnN0IHI9b1t0XSxzPW9bYV07ci55PmUueSE9cy55PmUueSYmZS54PChzLngtci54KSooZS55LXIueSkvKHMueS1yLnkpK3IueCYmKG49IW4pLGk9TWF0aC5taW4oaSwkcyhlLHIscykpfX1yZXR1cm4obj8xOi0xKSpNYXRoLnNxcnQoaSl9KHRoaXMucCxpKSx0aGlzLm1heD10aGlzLmQrdGhpcy5oKk1hdGguU1FSVDJ9Y29uc3QgRWQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFNkPU1hdGguc3FydCgyKTtmdW5jdGlvbiBNZChlLFt0LG5dKXtsZXQgaT0wLHI9MDtpZihuPT09RWQpe3Q8MCYmKHQ9MCk7Y29uc3Qgbj10L1NkO3N3aXRjaChlKXtjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJ0b3AtbGVmdFwiOnI9bi03O2JyZWFrO2Nhc2VcImJvdHRvbS1yaWdodFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6cj03LW47YnJlYWs7Y2FzZVwiYm90dG9tXCI6cj03LXQ7YnJlYWs7Y2FzZVwidG9wXCI6cj10LTd9c3dpdGNoKGUpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcImJvdHRvbS1yaWdodFwiOmk9LW47YnJlYWs7Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJib3R0b20tbGVmdFwiOmk9bjticmVhaztjYXNlXCJsZWZ0XCI6aT10O2JyZWFrO2Nhc2VcInJpZ2h0XCI6aT0tdH19ZWxzZXtzd2l0Y2godD1NYXRoLmFicyh0KSxuPU1hdGguYWJzKG4pLGUpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcInRvcC1sZWZ0XCI6Y2FzZVwidG9wXCI6cj1uLTc7YnJlYWs7Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpjYXNlXCJib3R0b21cIjpyPTctbn1zd2l0Y2goZSl7Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwicmlnaHRcIjppPS10O2JyZWFrO2Nhc2VcInRvcC1sZWZ0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpjYXNlXCJsZWZ0XCI6aT10fX1yZXR1cm5baSxyXX1mdW5jdGlvbiBJZChlLHQsbixpLHIsbyxhLHMsbCxjKXtlLmNyZWF0ZUFycmF5cygpLGUudGlsZVBpeGVsUmF0aW89cHMvKDUxMiplLm92ZXJzY2FsaW5nKSxlLmNvbXBhcmVUZXh0PXt9LGUuaWNvbnNOZWVkTGluZWFyPSExO2NvbnN0IHU9ZS5sYXllcnNbMF0ubGF5b3V0LGg9ZS5sYXllcnNbMF0uX3VuZXZhbHVhdGVkTGF5b3V0Ll92YWx1ZXMsZD17fTtpZihcImNvbXBvc2l0ZVwiPT09ZS50ZXh0U2l6ZURhdGEua2luZCl7Y29uc3R7bWluWm9vbTp0LG1heFpvb206bn09ZS50ZXh0U2l6ZURhdGE7ZC5jb21wb3NpdGVUZXh0U2l6ZXM9W2hbXCJ0ZXh0LXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgUG8odCkscyksaFtcInRleHQtc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBQbyhuKSxzKV19aWYoXCJjb21wb3NpdGVcIj09PWUuaWNvblNpemVEYXRhLmtpbmQpe2NvbnN0e21pblpvb206dCxtYXhab29tOm59PWUuaWNvblNpemVEYXRhO2QuY29tcG9zaXRlSWNvblNpemVzPVtoW1wiaWNvbi1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IFBvKHQpLHMpLGhbXCJpY29uLXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgUG8obikscyldfWQubGF5b3V0VGV4dFNpemU9aFtcInRleHQtc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBQbyhsKzEpLHMpLGQubGF5b3V0SWNvblNpemU9aFtcImljb24tc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBQbyhsKzEpLHMpLGQudGV4dE1heFNpemU9aFtcInRleHQtc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBQbygxOCkscyk7Y29uc3QgcD1cIm1hcFwiPT09dS5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09dS5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLGY9dS5nZXQoXCJ0ZXh0LXNpemVcIik7Zm9yKGNvbnN0IG8gb2YgZS5mZWF0dXJlcyl7Y29uc3QgbD11LmdldChcInRleHQtZm9udFwiKS5ldmFsdWF0ZShvLHt9LHMpLmpvaW4oXCIsXCIpLGg9Zi5ldmFsdWF0ZShvLHt9LHMpLG09ZC5sYXlvdXRUZXh0U2l6ZS5ldmFsdWF0ZShvLHt9LHMpLGc9KGQubGF5b3V0SWNvblNpemUuZXZhbHVhdGUobyx7fSxzKSx7aG9yaXpvbnRhbDp7fSx2ZXJ0aWNhbDp2b2lkIDB9KSx5PW8udGV4dDtsZXQgXyx2PVswLDBdO2lmKHkpe2NvbnN0IGk9eS50b1N0cmluZygpLGE9MjQqdS5nZXQoXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCIpLmV2YWx1YXRlKG8se30scyksYz0yNCp1LmdldChcInRleHQtbGluZS1oZWlnaHRcIikuZXZhbHVhdGUobyx7fSxzKSxkPWhvKGkpP2E6MCxmPXUuZ2V0KFwidGV4dC1hbmNob3JcIikuZXZhbHVhdGUobyx7fSxzKSxfPXUuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIik7aWYoIV8pe2NvbnN0IGU9dS5nZXQoXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIikuZXZhbHVhdGUobyx7fSxzKTt2PWU/TWQoZixbMjQqZSxFZF0pOnUuZ2V0KFwidGV4dC1vZmZzZXRcIikuZXZhbHVhdGUobyx7fSxzKS5tYXAoZT0+MjQqZSl9bGV0IHg9cD9cImNlbnRlclwiOnUuZ2V0KFwidGV4dC1qdXN0aWZ5XCIpLmV2YWx1YXRlKG8se30scyk7Y29uc3QgYj1cInBvaW50XCI9PT11LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksdz1iPzI0KnUuZ2V0KFwidGV4dC1tYXgtd2lkdGhcIikuZXZhbHVhdGUobyx7fSxzKToxLzAsVD1vPT57ZS5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZ1byhpKSYmKGcudmVydGljYWw9R2goeSx0LG4scixsLHcsYyxmLG8sZCx2LE5oLnZlcnRpY2FsLCEwLG0saCkpfTtpZighcCYmXyl7Y29uc3QgZT1cImF1dG9cIj09PXg/Xy5tYXAoZT0+Q2QoZSkpOlt4XTtsZXQgaT0hMTtmb3IobGV0IG89MDtvPGUubGVuZ3RoO28rKyl7Y29uc3QgYT1lW29dO2lmKCFnLmhvcml6b250YWxbYV0paWYoaSlnLmhvcml6b250YWxbYV09Zy5ob3Jpem9udGFsWzBdO2Vsc2V7Y29uc3QgZT1HaCh5LHQsbixyLGwsdyxjLFwiY2VudGVyXCIsYSxkLHYsTmguaG9yaXpvbnRhbCwhMSxtLGgpO2UmJihnLmhvcml6b250YWxbYV09ZSxpPTE9PT1lLnBvc2l0aW9uZWRMaW5lcy5sZW5ndGgpfX1UKFwibGVmdFwiKX1lbHNle2lmKFwiYXV0b1wiPT09eCYmKHg9Q2QoZikpLGJ8fHUuZ2V0KFwidGV4dC13cml0aW5nLW1vZGVcIikuaW5kZXhPZihcImhvcml6b250YWxcIik+PTB8fCF1byhpKSl7Y29uc3QgZT1HaCh5LHQsbixyLGwsdyxjLGYseCxkLHYsTmguaG9yaXpvbnRhbCwhMSxtLGgpO2UmJihnLmhvcml6b250YWxbeF09ZSl9VChiP1wibGVmdFwiOngpfX1sZXQgeD0hMTtpZihvLmljb24mJm8uaWNvbi5uYW1lKXtjb25zdCB0PWlbby5pY29uLm5hbWVdO3QmJihfPVFoKHJbby5pY29uLm5hbWVdLHUuZ2V0KFwiaWNvbi1vZmZzZXRcIikuZXZhbHVhdGUobyx7fSxzKSx1LmdldChcImljb24tYW5jaG9yXCIpLmV2YWx1YXRlKG8se30scykpLHg9dC5zZGYsdm9pZCAwPT09ZS5zZGZJY29ucz9lLnNkZkljb25zPXQuc2RmOmUuc2RmSWNvbnMhPT10LnNkZiYmVihcIlN0eWxlIHNoZWV0IHdhcm5pbmc6IENhbm5vdCBtaXggU0RGIGFuZCBub24tU0RGIGljb25zIGluIG9uZSBidWZmZXJcIiksKHQucGl4ZWxSYXRpbyE9PWUucGl4ZWxSYXRpb3x8MCE9PXUuZ2V0KFwiaWNvbi1yb3RhdGVcIikuY29uc3RhbnRPcigxKSkmJihlLmljb25zTmVlZExpbmVhcj0hMCkpfWNvbnN0IGI9emQoZy5ob3Jpem9udGFsKXx8Zy52ZXJ0aWNhbDtlLmljb25zSW5UZXh0fHwoZS5pY29uc0luVGV4dD0hIWImJmIuaWNvbnNJblRleHQpLChifHxfKSYma2QoZSxvLGcsXyxpLGQsbSwwLHYseCxhLHMsYyl9byYmZS5nZW5lcmF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyhsLGUuY29sbGlzaW9uQm94QXJyYXkpfWZ1bmN0aW9uIENkKGUpe3N3aXRjaChlKXtjYXNlXCJyaWdodFwiOmNhc2VcInRvcC1yaWdodFwiOmNhc2VcImJvdHRvbS1yaWdodFwiOnJldHVyblwicmlnaHRcIjtjYXNlXCJsZWZ0XCI6Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJib3R0b20tbGVmdFwiOnJldHVyblwibGVmdFwifXJldHVyblwiY2VudGVyXCJ9ZnVuY3Rpb24ga2QoZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCl7bGV0IHA9by50ZXh0TWF4U2l6ZS5ldmFsdWF0ZSh0LHt9LGgpO3ZvaWQgMD09PXAmJihwPWEpO2NvbnN0IGY9ZS5sYXllcnNbMF0ubGF5b3V0LG09Zi5nZXQoXCJpY29uLW9mZnNldFwiKS5ldmFsdWF0ZSh0LHt9LGgpLGc9emQobi5ob3Jpem9udGFsKXx8bi52ZXJ0aWNhbCx5PVwiZ2xvYmVcIj09PWQubmFtZSxfPWEvMjQseD1lLnRpbGVQaXhlbFJhdGlvKnAvMjQsYj0oaz1lLm92ZXJzY2FsaW5nLGUuem9vbT4xOCYmaz4yJiYoaz4+PTEpLE1hdGgubWF4KHBzLyg1MTIqayksMSkqZi5nZXQoXCJzeW1ib2wtc3BhY2luZ1wiKSksdz1mLmdldChcInRleHQtcGFkZGluZ1wiKSplLnRpbGVQaXhlbFJhdGlvLFQ9Zi5nZXQoXCJpY29uLXBhZGRpbmdcIikqZS50aWxlUGl4ZWxSYXRpbyxFPXYoZi5nZXQoXCJ0ZXh0LW1heC1hbmdsZVwiKSksUz1cIm1hcFwiPT09Zi5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09Zi5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLE09XCJtYXBcIj09PWYuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJlwicG9pbnRcIiE9PWYuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSxJPWYuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSxDPWIvMjt2YXIgaztjb25zdCBBPWYuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKTtsZXQgUDtpJiZcIm5vbmVcIiE9PUEmJihlLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJm4udmVydGljYWwmJihQPUtoKGksbi52ZXJ0aWNhbCxBLGYuZ2V0KFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCIpLG0sXykpLGcmJihpPUtoKGksZyxBLGYuZ2V0KFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCIpLG0sXykpKTtjb25zdCB6PShhLHMscCk9PntpZihzLng8MHx8cy54Pj1wc3x8cy55PDB8fHMueT49cHMpcmV0dXJuO2xldCBmPW51bGw7aWYoeSl7Y29uc3R7eDplLHk6dCx6Om59PWQucHJvamVjdFRpbGVQb2ludChzLngscy55LHApO2Y9e2FuY2hvcjpuZXcgZWQoZSx0LG4sMCx2b2lkIDApLHVwOmQudXBWZWN0b3IocCxzLngscy55KX19IWZ1bmN0aW9uKGUsdCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmLG0sZyx5LF8sdix4LGIsdyxULEUpe2NvbnN0IFM9ZS5hZGRUb0xpbmVWZXJ0ZXhBcnJheSh0LGkpO2xldCBNLEksQyxrLEEsUCx6LEQ9MCxMPTAsTz0wLFI9MCxCPS0xLGo9LTE7Y29uc3QgRj17fTtsZXQgTj1MYS5leHBvcnRzKFwiXCIpO2NvbnN0IFU9bj9uLmFuY2hvcjp0O2xldCBHPTAsWj0wO2lmKHZvaWQgMD09PWwuX3VuZXZhbHVhdGVkTGF5b3V0LmdldFZhbHVlKFwidGV4dC1yYWRpYWwtb2Zmc2V0XCIpP1tHLFpdPWwubGF5b3V0LmdldChcInRleHQtb2Zmc2V0XCIpLmV2YWx1YXRlKHgse30sRSkubWFwKGU9PjI0KmUpOihHPTI0KmwubGF5b3V0LmdldChcInRleHQtcmFkaWFsLW9mZnNldFwiKS5ldmFsdWF0ZSh4LHt9LEUpLFo9RWQpLGUuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmci52ZXJ0aWNhbCl7Y29uc3QgZT1yLnZlcnRpY2FsO2lmKGYpUD1MZChlKSxzJiYoej1MZChzKSk7ZWxzZXtjb25zdCBuPWwubGF5b3V0LmdldChcInRleHQtcm90YXRlXCIpLmV2YWx1YXRlKHgse30sRSkrOTA7Qz1EZChjLFUsdCx1LGgsZCxlLHAsbixtKSxzJiYoaz1EZChjLFUsdCx1LGgsZCxzLHksbikpfX1pZihvKXtjb25zdCBpPWwubGF5b3V0LmdldChcImljb24tcm90YXRlXCIpLmV2YWx1YXRlKHgse30sRSkscj1cIm5vbmVcIiE9PWwubGF5b3V0LmdldChcImljb24tdGV4dC1maXRcIiksYT1wZChvLGksdyxyKSxwPXM/cGQocyxpLHcscik6dm9pZCAwO0k9RGQoYyxVLHQsdSxoLGQsbyx5LGkpLEQ9NCphLmxlbmd0aDtjb25zdCBmPWUuaWNvblNpemVEYXRhO2xldCBtPW51bGw7XCJzb3VyY2VcIj09PWYua2luZD8obT1baWgqbC5sYXlvdXQuZ2V0KFwiaWNvbi1zaXplXCIpLmV2YWx1YXRlKHgse30sRSldLG1bMF0+QWQmJlYoZS5sYXllcklkc1swXSsnOiBWYWx1ZSBmb3IgXCJpY29uLXNpemVcIiBpcyA+PSAyNTUuIFJlZHVjZSB5b3VyIFwiaWNvbi1zaXplXCIuJykpOlwiY29tcG9zaXRlXCI9PT1mLmtpbmQmJihtPVtpaCpiLmNvbXBvc2l0ZUljb25TaXplc1swXS5ldmFsdWF0ZSh4LHt9LEUpLGloKmIuY29tcG9zaXRlSWNvblNpemVzWzFdLmV2YWx1YXRlKHgse30sRSldLChtWzBdPkFkfHxtWzFdPkFkKSYmVihlLmxheWVySWRzWzBdKyc6IFZhbHVlIGZvciBcImljb24tc2l6ZVwiIGlzID49IDI1NS4gUmVkdWNlIHlvdXIgXCJpY29uLXNpemVcIi4nKSksZS5hZGRTeW1ib2xzKGUuaWNvbixhLG0sdixfLHgsITEsbix0LFMubGluZVN0YXJ0SW5kZXgsUy5saW5lTGVuZ3RoLC0xLFQsRSksQj1lLmljb24ucGxhY2VkU3ltYm9sQXJyYXkubGVuZ3RoLTEscCYmKEw9NCpwLmxlbmd0aCxlLmFkZFN5bWJvbHMoZS5pY29uLHAsbSx2LF8seCxOaC52ZXJ0aWNhbCxuLHQsUy5saW5lU3RhcnRJbmRleCxTLmxpbmVMZW5ndGgsLTEsVCxFKSxqPWUuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMSl9Zm9yKGNvbnN0IGkgaW4gci5ob3Jpem9udGFsKXtjb25zdCBvPXIuaG9yaXpvbnRhbFtpXTtNfHwoTj1MYS5leHBvcnRzKG8udGV4dCksZj9BPUxkKG8pOk09RGQoYyxVLHQsdSxoLGQsbyxwLGwubGF5b3V0LmdldChcInRleHQtcm90YXRlXCIpLmV2YWx1YXRlKHgse30sRSksbSkpO2NvbnN0IHM9MT09PW8ucG9zaXRpb25lZExpbmVzLmxlbmd0aDtpZihPKz1QZChlLG4sdCxvLGEsbCxmLHgsbSxTLHIudmVydGljYWw/TmguaG9yaXpvbnRhbDpOaC5ob3Jpem9udGFsT25seSxzP09iamVjdC5rZXlzKHIuaG9yaXpvbnRhbCk6W2ldLEYsQixiLFQsRSkscylicmVha31yLnZlcnRpY2FsJiYoUis9UGQoZSxuLHQsci52ZXJ0aWNhbCxhLGwsZix4LG0sUyxOaC52ZXJ0aWNhbCxbXCJ2ZXJ0aWNhbFwiXSxGLGosYixULEUpKTtsZXQgVz0tMTtjb25zdCBxPShlLHQpPT5lP01hdGgubWF4KGUsdCk6dDtXPXEoQSxXKSxXPXEoUCxXKSxXPXEoeixXKTtjb25zdCAkPVc+LTE/MTowO2UuZ2x5cGhPZmZzZXRBcnJheS5sZW5ndGg+PXFwLk1BWF9HTFlQSFMmJlYoXCJUb28gbWFueSBnbHlwaHMgYmVpbmcgcmVuZGVyZWQgaW4gYSB0aWxlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzI5MDdcIiksdm9pZCAwIT09eC5zb3J0S2V5JiZlLmFkZFRvU29ydEtleVJhbmdlcyhlLnN5bWJvbEluc3RhbmNlcy5sZW5ndGgseC5zb3J0S2V5KSxlLnN5bWJvbEluc3RhbmNlcy5lbXBsYWNlQmFjayhVLngsVS55LFUueix0LngsdC55LEYucmlnaHQ+PTA/Ri5yaWdodDotMSxGLmNlbnRlcj49MD9GLmNlbnRlcjotMSxGLmxlZnQ+PTA/Ri5sZWZ0Oi0xLEYudmVydGljYWw+PTA/Ri52ZXJ0aWNhbDotMSxCLGosTix2b2lkIDAhPT1NP006ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09TT9NKzE6ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09Qz9DOmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PUM/QysxOmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PUk/STplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT1JP0krMTplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxrfHxlLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCxrP2srMTplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx1LE8sUixELEwsJCwwLEcsWixXKX0oZSxzLGYsYSxuLGkscixQLGUubGF5ZXJzWzBdLGUuY29sbGlzaW9uQm94QXJyYXksdC5pbmRleCx0LnNvdXJjZUxheWVySW5kZXgsZS5pbmRleCx3LFMsbCwwLFQsTSxtLHQsbyxjLHUsaCl9O2lmKFwibGluZVwiPT09SSlmb3IoY29uc3QgciBvZiBzZCh0Lmdlb21ldHJ5LDAsMCxwcyxwcykpe2NvbnN0IHQ9YWQocixiLEUsbi52ZXJ0aWNhbHx8ZyxpLDI0LHgsZS5vdmVyc2NhbGluZyxwcyk7Zm9yKGNvbnN0IG4gb2YgdCl7Y29uc3QgdD1nO3QmJk9kKGUsdC50ZXh0LEMsbil8fHoocixuLGgpfX1lbHNlIGlmKFwibGluZS1jZW50ZXJcIj09PUkpe2Zvcihjb25zdCBlIG9mIHQuZ2VvbWV0cnkpaWYoZS5sZW5ndGg+MSl7Y29uc3QgdD1vZChlLEUsbi52ZXJ0aWNhbHx8ZyxpLDI0LHgpO3QmJnooZSx0LGgpfX1lbHNlIGlmKFwiUG9seWdvblwiPT09dC50eXBlKWZvcihjb25zdCBlIG9mIFZjKHQuZ2VvbWV0cnksMCkpe2NvbnN0IHQ9YmQoZSwxNik7eihlWzBdLG5ldyBlZCh0LngsdC55LDAsMCx2b2lkIDApLGgpfWVsc2UgaWYoXCJMaW5lU3RyaW5nXCI9PT10LnR5cGUpZm9yKGNvbnN0IGUgb2YgdC5nZW9tZXRyeSl6KGUsbmV3IGVkKGVbMF0ueCxlWzBdLnksMCwwLHZvaWQgMCksaCk7ZWxzZSBpZihcIlBvaW50XCI9PT10LnR5cGUpZm9yKGNvbnN0IGUgb2YgdC5nZW9tZXRyeSlmb3IoY29uc3QgdCBvZiBlKXooW3RdLG5ldyBlZCh0LngsdC55LDAsMCx2b2lkIDApLGgpfWNvbnN0IEFkPTMyNjQwO2Z1bmN0aW9uIFBkKGUsdCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmLGcseSl7Y29uc3QgXz1mdW5jdGlvbihlLHQsbixpLHIsbyxhLHMpe2NvbnN0IGw9W107aWYoMD09PXQucG9zaXRpb25lZExpbmVzLmxlbmd0aClyZXR1cm4gbDtjb25zdCBjPWkubGF5b3V0LmdldChcInRleHQtcm90YXRlXCIpLmV2YWx1YXRlKG8se30pKk1hdGguUEkvMTgwLHU9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lWzBdLG49ZVsxXSxpPXQqbjtyZXR1cm4gaT4wP1t0LC1uXTppPDA/Wy10LG5dOjA9PT10P1tuLHRdOltuLC10XX0obik7bGV0IGg9TWF0aC5hYnModC50b3AtdC5ib3R0b20pO2Zvcihjb25zdCBlIG9mIHQucG9zaXRpb25lZExpbmVzKWgtPWUubGluZU9mZnNldDtjb25zdCBkPXQucG9zaXRpb25lZExpbmVzLmxlbmd0aCxwPWgvZDtsZXQgZj10LnRvcC1uWzFdO2ZvcihsZXQgZT0wO2U8ZDsrK2Upe2NvbnN0IGk9dC5wb3NpdGlvbmVkTGluZXNbZV07Zj1fZCh0LHAsZixlKTtmb3IoY29uc3QgZSBvZiBpLnBvc2l0aW9uZWRHbHlwaHMpe2lmKCFlLnJlY3QpY29udGludWU7Y29uc3QgaT1lLnJlY3R8fHt9O2xldCBvPTQsaD0hMCxkPTEscD0wO2lmKGUuaW1hZ2VOYW1lKXtjb25zdCB0PWFbZS5pbWFnZU5hbWVdO2lmKCF0KWNvbnRpbnVlO2lmKHQuc2RmKXtWKFwiU0RGIGltYWdlcyBhcmUgbm90IHN1cHBvcnRlZCBpbiBmb3JtYXR0ZWQgdGV4dCBhbmQgd2lsbCBiZSBpZ25vcmVkLlwiKTtjb250aW51ZX1oPSExLGQ9dC5waXhlbFJhdGlvLG89MS9kfWNvbnN0IGc9KHJ8fHMpJiZlLnZlcnRpY2FsLHk9ZS5tZXRyaWNzLmFkdmFuY2UqZS5zY2FsZS8yLF89ZS5tZXRyaWNzLHY9ZS5yZWN0O2lmKG51bGw9PT12KWNvbnRpbnVlO3MmJnQudmVydGljYWxpemFibGUmJihwPWUuaW1hZ2VOYW1lP3ktZS5tZXRyaWNzLndpZHRoKmUuc2NhbGUvMjowKTtjb25zdCB4PXI/W2UueCt5LGUueV06WzAsMF07bGV0IGI9WzAsMF0sdz1bMCwwXSxUPSExO3J8fChnPyh3PVtlLngreSt1WzBdLGUueSt1WzFdLXBdLFQ9ITApOmI9W2UueCt5K25bMF0sZS55K25bMV0tcF0pO2NvbnN0IEU9di53KmUuc2NhbGUvKGQqKGUubG9jYWxHbHlwaD8yOjEpKSxTPXYuaCplLnNjYWxlLyhkKihlLmxvY2FsR2x5cGg/MjoxKSk7bGV0IE0sSSxDLGs7aWYoZyl7Y29uc3QgdD1lLnktZixuPW5ldyBtKC15LHktdCksaT0tTWF0aC5QSS8yLHI9bmV3IG0oLi4udyk7TT1uZXcgbSgteStiWzBdLGJbMV0pLE0uX3JvdGF0ZUFyb3VuZChpLG4pLl9hZGQociksTS54Kz0tdCt5LE0ueS09KF8ubGVmdC1vKSplLnNjYWxlO2NvbnN0IGE9ZS5pbWFnZU5hbWU/Xy5hZHZhbmNlKmUuc2NhbGU6MjQqZS5zY2FsZSxzPVN0cmluZy5mcm9tQ2hhckNvZGUoZS5nbHlwaCk7dWgocyk/TS54Kz0oMS1vKSplLnNjYWxlOmhoKHMpP00ueCs9YS1fLmhlaWdodCplLnNjYWxlKygtby0xKSplLnNjYWxlOk0ueCs9ZS5pbWFnZU5hbWV8fF8ud2lkdGgrMipvPT09di53JiZfLmhlaWdodCsyKm89PT12Lmg/KGEtUykvMjooYS0oXy5oZWlnaHQrMipvKSplLnNjYWxlKS8yLEk9bmV3IG0oTS54LE0ueS1FKSxDPW5ldyBtKE0ueCtTLE0ueSksaz1uZXcgbShNLngrUyxNLnktRSl9ZWxzZXtjb25zdCB0PShfLmxlZnQtbykqZS5zY2FsZS15K2JbMF0sbj0oLV8udG9wLW8pKmUuc2NhbGUrYlsxXSxpPXQrRSxyPW4rUztNPW5ldyBtKHQsbiksST1uZXcgbShpLG4pLEM9bmV3IG0odCxyKSxrPW5ldyBtKGkscil9aWYoYyl7bGV0IGU7ZT1yP25ldyBtKDAsMCk6VD9uZXcgbSh1WzBdLHVbMV0pOm5ldyBtKG5bMF0sblsxXSksTS5fcm90YXRlQXJvdW5kKGMsZSksSS5fcm90YXRlQXJvdW5kKGMsZSksQy5fcm90YXRlQXJvdW5kKGMsZSksay5fcm90YXRlQXJvdW5kKGMsZSl9Y29uc3QgQT1uZXcgbSgwLDApLFA9bmV3IG0oMCwwKTtsLnB1c2goe3RsOk0sdHI6SSxibDpDLGJyOmssdGV4Omksd3JpdGluZ01vZGU6dC53cml0aW5nTW9kZSxnbHlwaE9mZnNldDp4LHNlY3Rpb25JbmRleDplLnNlY3Rpb25JbmRleCxpc1NERjpoLHBpeGVsT2Zmc2V0VEw6QSxwaXhlbE9mZnNldEJSOlAsbWluRm9udFNjYWxlWDowLG1pbkZvbnRTY2FsZVk6MH0pfX1yZXR1cm4gbH0oMCxpLGwsbyxhLHMscixlLmFsbG93VmVydGljYWxQbGFjZW1lbnQpLHY9ZS50ZXh0U2l6ZURhdGE7bGV0IHg9bnVsbDtcInNvdXJjZVwiPT09di5raW5kPyh4PVtpaCpvLmxheW91dC5nZXQoXCJ0ZXh0LXNpemVcIikuZXZhbHVhdGUocyx7fSx5KV0seFswXT5BZCYmVihlLmxheWVySWRzWzBdKyc6IFZhbHVlIGZvciBcInRleHQtc2l6ZVwiIGlzID49IDI1NS4gUmVkdWNlIHlvdXIgXCJ0ZXh0LXNpemVcIi4nKSk6XCJjb21wb3NpdGVcIj09PXYua2luZCYmKHg9W2loKmYuY29tcG9zaXRlVGV4dFNpemVzWzBdLmV2YWx1YXRlKHMse30seSksaWgqZi5jb21wb3NpdGVUZXh0U2l6ZXNbMV0uZXZhbHVhdGUocyx7fSx5KV0sKHhbMF0+QWR8fHhbMV0+QWQpJiZWKGUubGF5ZXJJZHNbMF0rJzogVmFsdWUgZm9yIFwidGV4dC1zaXplXCIgaXMgPj0gMjU1LiBSZWR1Y2UgeW91ciBcInRleHQtc2l6ZVwiLicpKSxlLmFkZFN5bWJvbHMoZS50ZXh0LF8seCxsLGEscyx1LHQsbixjLmxpbmVTdGFydEluZGV4LGMubGluZUxlbmd0aCxwLGcseSk7Zm9yKGNvbnN0IHQgb2YgaClkW3RdPWUudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMTtyZXR1cm4gNCpfLmxlbmd0aH1mdW5jdGlvbiB6ZChlKXtmb3IoY29uc3QgdCBpbiBlKXJldHVybiBlW3RdO3JldHVybiBudWxsfWZ1bmN0aW9uIERkKGUsdCxuLGkscixvLGEscyxsLGMpe2xldCB1PWEudG9wLGg9YS5ib3R0b20sZD1hLmxlZnQscD1hLnJpZ2h0O2NvbnN0IGY9YS5jb2xsaXNpb25QYWRkaW5nO2lmKGYmJihkLT1mWzBdLHUtPWZbMV0scCs9ZlsyXSxoKz1mWzNdKSxsKXtjb25zdCBlPW5ldyBtKGQsdSksdD1uZXcgbShwLHUpLG49bmV3IG0oZCxoKSxpPW5ldyBtKHAsaCkscj12KGwpO2xldCBvPW5ldyBtKDAsMCk7YyYmKG89bmV3IG0oY1swXSxjWzFdKSksZS5fcm90YXRlQXJvdW5kKHIsbyksdC5fcm90YXRlQXJvdW5kKHIsbyksbi5fcm90YXRlQXJvdW5kKHIsbyksaS5fcm90YXRlQXJvdW5kKHIsbyksZD1NYXRoLm1pbihlLngsdC54LG4ueCxpLngpLHA9TWF0aC5tYXgoZS54LHQueCxuLngsaS54KSx1PU1hdGgubWluKGUueSx0Lnksbi55LGkueSksaD1NYXRoLm1heChlLnksdC55LG4ueSxpLnkpfXJldHVybiBlLmVtcGxhY2VCYWNrKHQueCx0LnksdC56LG4ueCxuLnksZCx1LHAsaCxzLGkscixvKSxlLmxlbmd0aC0xfWZ1bmN0aW9uIExkKGUpe2UuY29sbGlzaW9uUGFkZGluZyYmKGUudG9wLT1lLmNvbGxpc2lvblBhZGRpbmdbMV0sZS5ib3R0b20rPWUuY29sbGlzaW9uUGFkZGluZ1szXSk7Y29uc3QgdD1lLmJvdHRvbS1lLnRvcDtyZXR1cm4gdD4wP01hdGgubWF4KDEwLHQpOm51bGx9ZnVuY3Rpb24gT2QoZSx0LG4saSl7Y29uc3Qgcj1lLmNvbXBhcmVUZXh0O2lmKHQgaW4gcil7Y29uc3QgZT1yW3RdO2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKGkuZGlzdChlW3RdKTxuKXJldHVybiEwfWVsc2Ugclt0XT1bXTtyZXR1cm4gclt0XS5wdXNoKGkpLCExfWNvbnN0IFJkPUhvKFt7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV9nbG9iZV9wb3NcIixjb21wb25lbnRzOjN9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX3V2XCIsY29tcG9uZW50czoyfV0pLHttZW1iZXJzOkJkfT1SZCxqZD1Ibyhbe25hbWU6XCJhX3Bvc18zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifV0pO3ZhciBGZD1Ibyhbe25hbWU6XCJhX3Bvc1wiLHR5cGU6XCJJbnQxNlwiLGNvbXBvbmVudHM6Mn1dKTtjb25zdCBOZD1wcy9NYXRoLlBJLzIsVWQ9MipicygxLDApKk5kKk1hdGguUEksVmQ9WzY0LDMyLDE2XSxHZD0tTmQsWmQ9TmQsV2Q9W25ldyBYbChbR2QsR2QsR2RdLFtaZCxaZCxaZF0pLG5ldyBYbChbR2QsR2QsR2RdLFswLDAsWmRdKSxuZXcgWGwoWzAsR2QsR2RdLFtaZCwwLFpkXSksbmV3IFhsKFtHZCwwLEdkXSxbMCxaZCxaZF0pLG5ldyBYbChbMCwwLEdkXSxbWmQsWmQsWmRdKV07ZnVuY3Rpb24gcWQoZSx0LG4saT0hMCl7Y29uc3Qgcj1JbChbXSxlLl9jYW1lcmEucG9zaXRpb24sZS53b3JsZFNpemUpLG89W3QsbiwxLDFdO05sKG8sbyxlLnBpeGVsTWF0cml4SW52ZXJzZSksamwobyxvLDEvb1szXSk7Y29uc3QgYT1rbChbXSxPbChbXSxvLHIpKSxzPWUuZ2xvYmVNYXRyaXgsbD1bc1sxMl0sc1sxM10sc1sxNF1dLGM9T2woW10sbCxyKSx1PXhsKGMpLGg9a2woW10sYyksZD1lLndvcmxkU2l6ZS8oMipNYXRoLlBJKSxwPUFsKGgsYSksZj1NYXRoLmFzaW4oZC91KTtpZihmPE1hdGguYWNvcyhwKSl7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3QgZT1bXSx0PVtdO0lsKGUsYSx1L3ApLGtsKHQsT2wodCxlLGMpKSxrbChhLHdsKGEsYyxJbChhLHQsTWF0aC50YW4oZikqdSkpKX1jb25zdCBtPVtdO25ldyBxbChyLGEpLmNsb3Nlc3RQb2ludE9uU3BoZXJlKGwsZCxtKTtjb25zdCBnPWtsKFtdLFkocywwKSkseT1rbChbXSxZKHMsMSkpLF89a2woW10sWShzLDIpKSx2PUFsKGcsbSksYj1BbCh5LG0pLHc9QWwoXyxtKSxUPXgoTWF0aC5hc2luKC1iL2QpKTtsZXQgRT14KE1hdGguYXRhbjIodix3KSk7RT1lLmNlbnRlci5sbmcrZnVuY3Rpb24oZSx0KXtjb25zdCBuPSh0LWUrMTgwKSUzNjAtMTgwO3JldHVybiBuPC0xODA/biszNjA6bn0oZS5jZW50ZXIubG5nLEUpO2NvbnN0IE09dnMoRSksST1TKHhzKFQpLDAsMSk7cmV0dXJuIG5ldyBJcyhNLEkpfWNsYXNzICRke2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLmE9T2woW10sZSxuKSx0aGlzLmI9T2woW10sdCxuKSx0aGlzLmNlbnRlcj1uO2NvbnN0IGk9a2woW10sdGhpcy5hKSxyPWtsKFtdLHRoaXMuYik7dGhpcy5hbmdsZT1NYXRoLmFjb3MoQWwoaSxyKSl9fWZ1bmN0aW9uIEhkKGUsdCl7aWYoMD09PWUuYW5nbGUpcmV0dXJuIG51bGw7bGV0IG47cmV0dXJuIG49MD09PWUuYVt0XT8xL2UuYW5nbGUqLjUqTWF0aC5QSToxL2UuYW5nbGUqTWF0aC5hdGFuKGUuYlt0XS9lLmFbdF0vTWF0aC5zaW4oZS5hbmdsZSktMS9NYXRoLnRhbihlLmFuZ2xlKSksbjwwfHxuPjE/bnVsbDpmdW5jdGlvbihlLHQsbixpKXtjb25zdCByPU1hdGguc2luKG4pO3JldHVybiBlKihNYXRoLnNpbigoMS1pKSpuKS9yKSt0KihNYXRoLnNpbihpKm4pL3IpfShlLmFbdF0sZS5iW3RdLGUuYW5nbGUsUyhuLDAsMSkpK2UuY2VudGVyW3RdfWZ1bmN0aW9uIFhkKGUpe2lmKGUuejw9MSlyZXR1cm4gV2RbZS56KzIqZS55K2UueF07Y29uc3QgdD1lcChLZChlKSk7cmV0dXJuIFhsLmZyb21Qb2ludHModCl9ZnVuY3Rpb24gWWQoZSx0LG4pe3JldHVybiBJbChlLGUsMS1uKSxDbChlLGUsdCxuKX1mdW5jdGlvbiBKZChlLHQpe2NvbnN0IG49Y3AodC56b29tKTtpZigwPT09bilyZXR1cm4gWGQoZSk7Y29uc3QgaT1LZChlKSxyPWVwKGkpLG89dnMoaS5nZXRXZXN0KCkpKnQud29ybGRTaXplLGE9dnMoaS5nZXRFYXN0KCkpKnQud29ybGRTaXplLHM9eHMoaS5nZXROb3J0aCgpKSp0LndvcmxkU2l6ZSxsPXhzKGkuZ2V0U291dGgoKSkqdC53b3JsZFNpemUsYz1bbyxzLDBdLHU9W2EscywwXSxoPVtvLGwsMF0sZD1bYSxsLDBdLHA9Y2woW10sdC5nbG9iZU1hdHJpeCk7cmV0dXJuIHpsKGMsYyxwKSx6bCh1LHUscCksemwoaCxoLHApLHpsKGQsZCxwKSxyWzBdPVlkKHJbMF0saCxuKSxyWzFdPVlkKHJbMV0sZCxuKSxyWzJdPVlkKHJbMl0sdSxuKSxyWzNdPVlkKHJbM10sYyxuKSxYbC5mcm9tUG9pbnRzKHIpfWZ1bmN0aW9uIFFkKGUsdCxuKXtmb3IoY29uc3QgaSBvZiBlKXpsKGksaSx0KSxJbChpLGksbil9ZnVuY3Rpb24gS2Qoe3g6ZSx5OnQsejpufSl7Y29uc3QgaT0xLygxPDxuKSxyPW5ldyBncyh3cyhlKmkpLFRzKCh0KzEpKmkpKSxvPW5ldyBncyh3cygoZSsxKSppKSxUcyh0KmkpKTtyZXR1cm4gbmV3IGZzKHIsbyl9ZnVuY3Rpb24gZXAoZSl7Y29uc3QgdD12KGUuZ2V0Tm9ydGgoKSksbj12KGUuZ2V0U291dGgoKSksaT1NYXRoLmNvcyh0KSxyPU1hdGguY29zKG4pLG89TWF0aC5zaW4odCksYT1NYXRoLnNpbihuKSxzPWUuZ2V0V2VzdCgpLGw9ZS5nZXRFYXN0KCk7cmV0dXJuW3RwKHIsYSxzKSx0cChyLGEsbCksdHAoaSxvLGwpLHRwKGksbyxzKV19ZnVuY3Rpb24gdHAoZSx0LG4saT1OZCl7cmV0dXJuIG49dihuKSxbZSpNYXRoLnNpbihuKSppLC10KmksZSpNYXRoLmNvcyhuKSppXX1mdW5jdGlvbiBucChlLHQsbil7cmV0dXJuIHRwKE1hdGguY29zKHYoZSkpLE1hdGguc2luKHYoZSkpLHQsbil9ZnVuY3Rpb24gaXAoZSx0LG4saSl7Y29uc3Qgcj0xPDxuLnosbz0oZS9wcytuLngpL3I7cmV0dXJuIG5wKFRzKCh0L3BzK24ueSkvciksd3MobyksaSl9ZnVuY3Rpb24gcnAoe21pbjplLG1heDp0fSl7cmV0dXJuIDE2MzgzL01hdGgubWF4KHRbMF0tZVswXSx0WzFdLWVbMV0sdFsyXS1lWzJdKX1jb25zdCBvcD1uZXcgRmxvYXQ2NEFycmF5KDE2KTtmdW5jdGlvbiBhcChlKXtjb25zdCB0PXJwKGUpLG49bWwob3AsW3QsdCx0XSk7cmV0dXJuIGhsKG4sbiwoKGk9W10pWzBdPS0ocj1lLm1pbilbMF0saVsxXT0tclsxXSxpWzJdPS1yWzJdLGkpKTt2YXIgaSxyfWZ1bmN0aW9uIHNwKGUpe2NvbnN0IHQ9KGk9ZS5taW4sKG49b3ApWzBdPTEsblsxXT0wLG5bMl09MCxuWzNdPTAsbls0XT0wLG5bNV09MSxuWzZdPTAsbls3XT0wLG5bOF09MCxuWzldPTAsblsxMF09MSxuWzExXT0wLG5bMTJdPWlbMF0sblsxM109aVsxXSxuWzE0XT1pWzJdLG5bMTVdPTEsbik7dmFyIG4saTtjb25zdCByPTEvcnAoZSk7cmV0dXJuIGRsKHQsdCxbcixyLHJdKX1mdW5jdGlvbiBscChlLHQsbixpLHIpe2NvbnN0IG89ZnVuY3Rpb24oZSl7Y29uc3QgdD1wcy8oMipNYXRoLlBJKTtyZXR1cm4gZS8oMipNYXRoLlBJKS90fShuKSxhPVtlLHQsLW4vKDIqTWF0aC5QSSldLHM9bGwobmV3IEZsb2F0NjRBcnJheSgxNikpO3JldHVybiBobChzLHMsYSksZGwocyxzLFtvLG8sb10pLHBsKHMscyx2KC1yKSksZmwocyxzLHYoLWkpKSxzfWZ1bmN0aW9uIGNwKGUpe3JldHVybiBNKDUsNixlKX1mdW5jdGlvbiB1cChlLHQpe2NvbnN0IG49bnAodC5sYXQsdC5sbmcpO3JldHVybiBvPShpPVRsKFtdLGZ1bmN0aW9uKGUpe2NvbnN0IHQ9bnAoZS5fY2VudGVyLmxhdCxlLl9jZW50ZXIubG5nKTtsZXQgbj1QbChbXSxibCgwLDEsMCksdCk7Y29uc3QgaT1nbChbXSwtZS5hbmdsZSx0KTtuPXpsKG4sbixpKSxnbChpLC1lLl9waXRjaCxuKTtjb25zdCByPWtsKFtdLHQpO3JldHVybiBJbChyLHIsZS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL2UucGl4ZWxzUGVyTWV0ZXIqVWQpLHpsKHIscixpKSx3bChbXSx0LHIpfShlKSxuKSlbMF0sYT1pWzFdLHM9aVsyXSxsPShyPW4pWzBdLGM9clsxXSx1PXJbMl0sZD0oaD1NYXRoLnNxcnQobypvK2EqYStzKnMpKk1hdGguc3FydChsKmwrYypjK3UqdSkpJiZBbChpLHIpL2gsTWF0aC5hY29zKE1hdGgubWluKE1hdGgubWF4KGQsLTEpLDEpKTt2YXIgaSxyLG8sYSxzLGwsYyx1LGgsZH1mdW5jdGlvbiBocChlLHQpe3JldHVybiB1cChlLHQpPk1hdGguUEkvMioxLjAxfWNvbnN0IGRwPXYoODUpLHBwPU1hdGguY29zKGRwKSxmcD1NYXRoLnNpbihkcCk7ZnVuY3Rpb24gbXAoZSx0KXtjb25zdCBuPWUuZm92QWJvdmVDZW50ZXIsaT1lLmVsZXZhdGlvbj9lLmVsZXZhdGlvbi5nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpKnQ6MCxyPShlLl9jYW1lcmEucG9zaXRpb25bMl0qZS53b3JsZFNpemUtaSkvTWF0aC5jb3MoZS5fcGl0Y2gpLG89TWF0aC5zaW4obikqci9NYXRoLnNpbihNYXRoLm1heChNYXRoLlBJLzItZS5fcGl0Y2gtbiwuMDEpKSxhPU1hdGguc2luKGUuX3BpdGNoKSpvK3I7cmV0dXJuIE1hdGgubWluKDEuMDEqYSxyKigxL2UuX2hvcml6b25TaGlmdCkpfWZ1bmN0aW9uIGdwKGUsdCl7aWYoIXQuaXNSZXByb2plY3RlZEluVGlsZVNwYWNlKXJldHVybntzY2FsZToxPDxlLnoseDplLngseTplLnkseDI6ZS54KzEseTI6ZS55KzEscHJvamVjdGlvbjp0fTtjb25zdCBuPU1hdGgucG93KDIsLWUueiksaT1lLngqbixyPShlLngrMSkqbixvPWUueSpuLGE9KGUueSsxKSpuLHM9d3MoaSksbD13cyhyKSxjPVRzKG8pLHU9VHMoYSksaD10LnByb2plY3QocyxjKSxkPXQucHJvamVjdChsLGMpLHA9dC5wcm9qZWN0KGwsdSksZj10LnByb2plY3Qocyx1KTtsZXQgbT1NYXRoLm1pbihoLngsZC54LHAueCxmLngpLGc9TWF0aC5taW4oaC55LGQueSxwLnksZi55KSx5PU1hdGgubWF4KGgueCxkLngscC54LGYueCksXz1NYXRoLm1heChoLnksZC55LHAueSxmLnkpO2NvbnN0IHY9bi8xNjtmdW5jdGlvbiB4KGUsbixpLHIsbyxhKXtjb25zdCBzPShpK28pLzIsbD0ocithKS8yLGM9dC5wcm9qZWN0KHdzKHMpLFRzKGwpKSx1PU1hdGgubWF4KDAsbS1jLngsZy1jLnksYy54LXksYy55LV8pO209TWF0aC5taW4obSxjLngpLHk9TWF0aC5tYXgoeSxjLngpLGc9TWF0aC5taW4oZyxjLnkpLF89TWF0aC5tYXgoXyxjLnkpLHU+diYmKHgoZSxjLGkscixzLGwpLHgoYyxuLHMsbCxvLGEpKX14KGgsZCxpLG8scixvKSx4KGQscCxyLG8scixhKSx4KHAsZixyLGEsaSxhKSx4KGYsaCxpLGEsaSxvKSxtLT12LGctPXYseSs9dixfKz12O2NvbnN0IGI9MS9NYXRoLm1heCh5LW0sXy1nKTtyZXR1cm57c2NhbGU6Yix4Om0qYix5OmcqYix4Mjp5KmIseTI6XypiLHByb2plY3Rpb246dH19Y29uc3QgeXA9bGwobmV3IEZsb2F0MzJBcnJheSgxNikpO2NsYXNzIF9we2NvbnN0cnVjdG9yKGUpe3RoaXMuc3BlYz1lLHRoaXMubmFtZT1lLm5hbWUsdGhpcy53cmFwPSExLHRoaXMucmVxdWlyZXNEcmFwaW5nPSExLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMSx0aGlzLnN1cHBvcnRzVGVycmFpbj0hMSx0aGlzLnN1cHBvcnRzRm9nPSExLHRoaXMuc3VwcG9ydHNGcmVlQ2FtZXJhPSExLHRoaXMuekF4aXNVbml0PVwibWV0ZXJzXCIsdGhpcy5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U9ITAsdGhpcy51bnN1cHBvcnRlZExheWVycz1bXCJjdXN0b21cIl0sdGhpcy5jZW50ZXI9WzAsMF0sdGhpcy5yYW5nZT1bMy41LDddfXByb2plY3QoZSx0KXtyZXR1cm57eDowLHk6MCx6OjB9fXVucHJvamVjdChlLHQpe3JldHVybiBuZXcgZ3MoMCwwKX1wcm9qZWN0VGlsZVBvaW50KGUsdCxuKXtyZXR1cm57eDplLHk6dCx6OjB9fWxvY2F0aW9uUG9pbnQoZSx0LG49ITApe3JldHVybiBlLl9jb29yZGluYXRlUG9pbnQoZS5sb2NhdGlvbkNvb3JkaW5hdGUodCksbil9cGl4ZWxzUGVyTWV0ZXIoZSx0KXtyZXR1cm4gYnMoMSxlKSp0fXBpeGVsU3BhY2VDb252ZXJzaW9uKGUsdCxuKXtyZXR1cm4gMX1mYXJ0aGVzdFBpeGVsRGlzdGFuY2UoZSl7cmV0dXJuIG1wKGUsZS5waXhlbHNQZXJNZXRlcil9cG9pbnRDb29yZGluYXRlKGUsdCxuLGkpe2NvbnN0IHI9ZS5ob3Jpem9uTGluZUZyb21Ub3AoITEpLG89bmV3IG0odCxNYXRoLm1heChyLG4pKTtyZXR1cm4gZS5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKGUucG9pbnRSYXlJbnRlcnNlY3Rpb24obyxpKSl9cG9pbnRDb29yZGluYXRlM0QoZSx0LG4pe2NvbnN0IGk9bmV3IG0odCxuKTtpZihlLmVsZXZhdGlvbilyZXR1cm4gZS5lbGV2YXRpb24ucG9pbnRDb29yZGluYXRlKGkpO3tjb25zdCB0PXRoaXMucG9pbnRDb29yZGluYXRlKGUsaS54LGkueSwwKTtyZXR1cm5bdC54LHQueSx0LnpdfX1pc1BvaW50QWJvdmVIb3Jpem9uKGUsdCl7aWYoZS5lbGV2YXRpb24pcmV0dXJuIXRoaXMucG9pbnRDb29yZGluYXRlM0QoZSx0LngsdC55KTtjb25zdCBuPWUuaG9yaXpvbkxpbmVGcm9tVG9wKCk7cmV0dXJuIHQueTxufWNyZWF0ZUludmVyc2lvbk1hdHJpeChlLHQpe3JldHVybiB5cH1jcmVhdGVUaWxlTWF0cml4KGUsdCxuKXtsZXQgaSxyLG87Y29uc3QgYT1uLmNhbm9uaWNhbCxzPWxsKG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtpZih0aGlzLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZSl7Y29uc3QgbD1ncChhLHRoaXMpO2k9MSxyPWwueCtuLndyYXAqbC5zY2FsZSxvPWwueSxkbChzLHMsW2kvbC5zY2FsZSxpL2wuc2NhbGUsZS5waXhlbHNQZXJNZXRlci90XSl9ZWxzZSBpPXQvZS56b29tU2NhbGUoYS56KSxyPShhLngrTWF0aC5wb3coMixhLnopKm4ud3JhcCkqaSxvPWEueSppO3JldHVybiBobChzLHMsW3IsbywwXSksZGwocyxzLFtpL3BzLGkvcHMsMV0pLHN9dXBWZWN0b3IoZSx0LG4pe3JldHVyblswLDAsMV19dXBWZWN0b3JTY2FsZShlLHQsbil7cmV0dXJue21ldGVyc1RvVGlsZToxfX19Y2xhc3MgdnAgZXh0ZW5kcyBfcHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnJhbmdlPVs0LDddLHRoaXMuY2VudGVyPWUuY2VudGVyfHxbLTk2LDM3LjVdO2NvbnN0W3Qsbl09dGhpcy5wYXJhbGxlbHM9ZS5wYXJhbGxlbHN8fFsyOS41LDQ1LjVdLGk9TWF0aC5zaW4odih0KSk7dGhpcy5uPShpK01hdGguc2luKHYobikpKS8yLHRoaXMuYz0xK2kqKDIqdGhpcy5uLWkpLHRoaXMucjA9TWF0aC5zcXJ0KHRoaXMuYykvdGhpcy5ufXByb2plY3QoZSx0KXtjb25zdHtuOm4sYzppLHIwOnJ9PXRoaXMsbz12KGUtdGhpcy5jZW50ZXJbMF0pLGE9dih0KSxzPU1hdGguc3FydChpLTIqbipNYXRoLnNpbihhKSkvbjtyZXR1cm57eDpzKk1hdGguc2luKG8qbikseTpzKk1hdGguY29zKG8qbiktcix6OjB9fXVucHJvamVjdChlLHQpe2NvbnN0e246bixjOmkscjA6cn09dGhpcyxvPXIrdDtsZXQgYT1NYXRoLmF0YW4yKGUsTWF0aC5hYnMobykpKk1hdGguc2lnbihvKTtvKm48MCYmKGEtPU1hdGguUEkqTWF0aC5zaWduKGUpKk1hdGguc2lnbihvKSk7Y29uc3Qgcz12KHRoaXMuY2VudGVyWzBdKSpuO2E9SShhLC1NYXRoLlBJLXMsTWF0aC5QSS1zKTtjb25zdCBsPVMoeChhL24pK3RoaXMuY2VudGVyWzBdLC0xODAsMTgwKSxjPU1hdGguYXNpbihTKChpLShlKmUrbypvKSpuKm4pLygyKm4pLC0xLDEpKSx1PVMoeChjKSwtODUuMDUxMTI5LFNzKTtyZXR1cm4gbmV3IGdzKGwsdSl9fWNvbnN0IHhwPTEuMzQwMjY0LGJwPS0uMDgxMTA2LHdwPTg5M2UtNixUcD0uMDAzNzk2LEVwPU1hdGguc3FydCgzKS8yO2NsYXNzIFNwIGV4dGVuZHMgX3B7cHJvamVjdChlLHQpe3Q9dC8xODAqTWF0aC5QSSxlPWUvMTgwKk1hdGguUEk7Y29uc3Qgbj1NYXRoLmFzaW4oRXAqTWF0aC5zaW4odCkpLGk9bipuLHI9aSppKmk7cmV0dXJue3g6LjUqKGUqTWF0aC5jb3MobikvKEVwKih4cCszKmJwKmkrciooNyp3cCs5KlRwKmkpKSkvTWF0aC5QSSsuNSkseToxLS41KihuKih4cCticCppK3IqKHdwK1RwKmkpKS9NYXRoLlBJKzEpLHo6MH19dW5wcm9qZWN0KGUsdCl7ZT0oMiplLS41KSpNYXRoLlBJO2xldCBuPXQ9KDIqKDEtdCktMSkqTWF0aC5QSSxpPW4qbixyPWkqaSppO2ZvcihsZXQgZSxvLGEscz0wO3M8MTImJihvPW4qKHhwK2JwKmkrciood3ArVHAqaSkpLXQsYT14cCszKmJwKmkrciooNyp3cCs5KlRwKmkpLGU9by9hLG49UyhuLWUsLU1hdGguUEkvMyxNYXRoLlBJLzMpLGk9bipuLHI9aSppKmksIShNYXRoLmFicyhlKTwxZS0xMikpOysrcyk7Y29uc3Qgbz1FcCplKih4cCszKmJwKmkrciooNyp3cCs5KlRwKmkpKS9NYXRoLmNvcyhuKSxhPU1hdGguYXNpbihNYXRoLnNpbihuKS9FcCkscz1TKDE4MCpvL01hdGguUEksLTE4MCwxODApLGw9UygxODAqYS9NYXRoLlBJLC04NS4wNTExMjksU3MpO3JldHVybiBuZXcgZ3MocyxsKX19Y2xhc3MgTXAgZXh0ZW5kcyBfcHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLndyYXA9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSEwfXByb2plY3QoZSx0KXtyZXR1cm57eDouNStlLzM2MCx5Oi41LXQvMzYwLHo6MH19dW5wcm9qZWN0KGUsdCl7Y29uc3Qgbj0zNjAqKGUtLjUpLGk9UygzNjAqKC41LXQpLC04NS4wNTExMjksU3MpO3JldHVybiBuZXcgZ3MobixpKX19Y29uc3QgSXA9TWF0aC5QSS8yO2Z1bmN0aW9uIENwKGUpe3JldHVybiBNYXRoLnRhbigoSXArZSkvMil9Y2xhc3Mga3AgZXh0ZW5kcyBfcHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmNlbnRlcj1lLmNlbnRlcnx8WzAsMzBdO2NvbnN0W3Qsbl09dGhpcy5wYXJhbGxlbHM9ZS5wYXJhbGxlbHN8fFszMCwzMF07bGV0IGk9dih0KSxyPXYobik7dGhpcy5zb3V0aGVybkNlbnRlcj1pK3I8MCx0aGlzLnNvdXRoZXJuQ2VudGVyJiYoaT0taSxyPS1yKTtjb25zdCBvPU1hdGguY29zKGkpLGE9Q3AoaSk7dGhpcy5uPWk9PT1yP01hdGguc2luKGkpOk1hdGgubG9nKG8vTWF0aC5jb3MocikpL01hdGgubG9nKENwKHIpL2EpLHRoaXMuZj1vKk1hdGgucG93KENwKGkpLHRoaXMubikvdGhpcy5ufXByb2plY3QoZSx0KXt0PXYodCksdGhpcy5zb3V0aGVybkNlbnRlciYmKHQ9LXQpLGU9dihlLXRoaXMuY2VudGVyWzBdKTtjb25zdCBuPTFlLTYse246aSxmOnJ9PXRoaXM7cj4wP3Q8LUlwK24mJih0PS1JcCtuKTp0PklwLW4mJih0PUlwLW4pO2NvbnN0IG89ci9NYXRoLnBvdyhDcCh0KSxpKTtsZXQgYT1vKk1hdGguc2luKGkqZSkscz1yLW8qTWF0aC5jb3MoaSplKTtyZXR1cm4gYT0uNSooYS9NYXRoLlBJKy41KSxzPS41KihzL01hdGguUEkrLjUpLHt4OmEseTp0aGlzLnNvdXRoZXJuQ2VudGVyP3M6MS1zLHo6MH19dW5wcm9qZWN0KGUsdCl7ZT0oMiplLS41KSpNYXRoLlBJLHRoaXMuc291dGhlcm5DZW50ZXImJih0PTEtdCksdD0oMiooMS10KS0uNSkqTWF0aC5QSTtjb25zdHtuOm4sZjppfT10aGlzLHI9aS10LG89TWF0aC5zaWduKHIpLGE9TWF0aC5zaWduKG4pKk1hdGguc3FydChlKmUrcipyKTtsZXQgcz1NYXRoLmF0YW4yKGUsTWF0aC5hYnMocikpKm87cipuPDAmJihzLT1NYXRoLlBJKk1hdGguc2lnbihlKSpvKTtjb25zdCBsPVMoeChzL24pK3RoaXMuY2VudGVyWzBdLC0xODAsMTgwKSxjPVMoeCgyKk1hdGguYXRhbihNYXRoLnBvdyhpL2EsMS9uKSktSXApLC04NS4wNTExMjksU3MpO3JldHVybiBuZXcgZ3MobCx0aGlzLnNvdXRoZXJuQ2VudGVyPy1jOmMpfX1jbGFzcyBBcCBleHRlbmRzIF9we2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMud3JhcD0hMCx0aGlzLnN1cHBvcnRzV29ybGRDb3BpZXM9ITAsdGhpcy5zdXBwb3J0c1RlcnJhaW49ITAsdGhpcy5zdXBwb3J0c0ZvZz0hMCx0aGlzLnN1cHBvcnRzRnJlZUNhbWVyYT0hMCx0aGlzLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT0hMSx0aGlzLnVuc3VwcG9ydGVkTGF5ZXJzPVtdLHRoaXMucmFuZ2U9bnVsbH1wcm9qZWN0KGUsdCl7cmV0dXJue3g6dnMoZSkseTp4cyh0KSx6OjB9fXVucHJvamVjdChlLHQpe2NvbnN0IG49d3MoZSksaT1Ucyh0KTtyZXR1cm4gbmV3IGdzKG4saSl9fWNvbnN0IFBwPXYoU3MpO2NsYXNzIHpwIGV4dGVuZHMgX3B7cHJvamVjdChlLHQpe2NvbnN0IG49KHQ9dih0KSkqdCxpPW4qbjtyZXR1cm57eDouNSooKGU9dihlKSkqKC44NzA3LS4xMzE5NzkqbitpKihpKiguMDAzOTcxKm4tLjAwMTUyOSppKS0uMDEzNzkxKSkvTWF0aC5QSSsuNSkseToxLS41Kih0KigxLjAwNzIyNituKiguMDE1MDg1K2kqKC4wMjg4NzQqbi0uMDQ0NDc1LS4wMDU5MTYqaSkpKS9NYXRoLlBJKzEpLHo6MH19dW5wcm9qZWN0KGUsdCl7ZT0oMiplLS41KSpNYXRoLlBJO2xldCBuPXQ9KDIqKDEtdCktMSkqTWF0aC5QSSxpPTI1LHI9MCxvPW4qbjtkb3tvPW4qbjtjb25zdCBlPW8qbztyPShuKigxLjAwNzIyNitvKiguMDE1MDg1K2UqKC4wMjg4NzQqby0uMDQ0NDc1LS4wMDU5MTYqZSkpKS10KS8oMS4wMDcyMjYrbyooLjA0NTI1NStlKiguMjU5ODY2Km8tLjMxMTMyNS0uMDA1OTE2KjExKmUpKSksbj1TKG4tciwtUHAsUHApfXdoaWxlKE1hdGguYWJzKHIpPjFlLTYmJi0taT4wKTtvPW4qbjtjb25zdCBhPVMoeChlLyguODcwNytvKihvKihvKm8qbyooLjAwMzk3MS0uMDAxNTI5Km8pLS4wMTM3OTEpLS4xMzE5NzkpKSksLTE4MCwxODApLHM9eChuKTtyZXR1cm4gbmV3IGdzKGEscyl9fWNvbnN0IERwPXYoU3MpO2NsYXNzIExwIGV4dGVuZHMgX3B7cHJvamVjdChlLHQpe3Q9dih0KSxlPXYoZSk7Y29uc3Qgbj1NYXRoLmNvcyh0KSxpPTIvTWF0aC5QSSxyPU1hdGguYWNvcyhuKk1hdGguY29zKGUvMikpLG89TWF0aC5zaW4ocikvcixhPS41KihlKmkrMipuKk1hdGguc2luKGUvMikvbyl8fDAscz0uNSoodCtNYXRoLnNpbih0KS9vKXx8MDtyZXR1cm57eDouNSooYS9NYXRoLlBJKy41KSx5OjEtLjUqKHMvTWF0aC5QSSsxKSx6OjB9fXVucHJvamVjdChlLHQpe2xldCBuPWU9KDIqZS0uNSkqTWF0aC5QSSxpPXQ9KDIqKDEtdCktMSkqTWF0aC5QSSxyPTI1O2NvbnN0IG89MWUtNjtsZXQgYT0wLHM9MDtkb3tjb25zdCByPU1hdGguY29zKGkpLG89TWF0aC5zaW4oaSksbD0yKm8qcixjPW8qbyx1PXIqcixoPU1hdGguY29zKG4vMiksZD1NYXRoLnNpbihuLzIpLHA9MipoKmQsZj1kKmQsbT0xLXUqaCpoLGc9bT8xL206MCx5PW0/TWF0aC5hY29zKHIqaCkqTWF0aC5zcXJ0KDEvbSk6MCxfPS41KigyKnkqcipkKzIqbi9NYXRoLlBJKS1lLHY9LjUqKHkqbytpKS10LHg9LjUqZyoodSpmK3kqcipoKmMpKzEvTWF0aC5QSSxiPWcqKHAqbC80LXkqbypkKSx3PS4xMjUqZyoobCpkLXkqbyp1KnApLFQ9LjUqZyooYypoK3kqZipyKSsuNSxFPWIqdy1UKng7YT0odipiLV8qVCkvRSxzPShfKnctdip4KS9FLG49UyhuLWEsLU1hdGguUEksTWF0aC5QSSksaT1TKGktcywtRHAsRHApfXdoaWxlKChNYXRoLmFicyhhKT5vfHxNYXRoLmFicyhzKT5vKSYmLS1yPjApO3JldHVybiBuZXcgZ3MoeChuKSx4KGkpKX19Y2xhc3MgT3AgZXh0ZW5kcyBfcHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmNlbnRlcj1lLmNlbnRlcnx8WzAsMF0sdGhpcy5wYXJhbGxlbHM9ZS5wYXJhbGxlbHN8fFswLDBdLHRoaXMuY29zUGhpPU1hdGgubWF4KC4wMSxNYXRoLmNvcyh2KHRoaXMucGFyYWxsZWxzWzBdKSkpLHRoaXMuc2NhbGU9MS8oMipNYXRoLm1heChNYXRoLlBJKnRoaXMuY29zUGhpLDEvdGhpcy5jb3NQaGkpKSx0aGlzLndyYXA9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSEwfXByb2plY3QoZSx0KXtjb25zdHtzY2FsZTpuLGNvc1BoaTppfT10aGlzO3JldHVybnt4OnYoZSkqaSpuKy41LHk6LU1hdGguc2luKHYodCkpL2kqbisuNSx6OjB9fXVucHJvamVjdChlLHQpe2NvbnN0e3NjYWxlOm4sY29zUGhpOml9PXRoaXMscj0tKHQtLjUpL24sbz1TKHgoKGUtLjUpL24pL2ksLTE4MCwxODApLGE9TWF0aC5hc2luKFMocippLC0xLDEpKSxzPVMoeChhKSwtODUuMDUxMTI5LFNzKTtyZXR1cm4gbmV3IGdzKG8scyl9fWNsYXNzIFJwIGV4dGVuZHMgQXB7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5yZXF1aXJlc0RyYXBpbmc9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSExLHRoaXMuc3VwcG9ydHNGb2c9ITAsdGhpcy56QXhpc1VuaXQ9XCJwaXhlbHNcIix0aGlzLnVuc3VwcG9ydGVkTGF5ZXJzPVtcImRlYnVnXCIsXCJjdXN0b21cIl0sdGhpcy5yYW5nZT1bMyw1XX1wcm9qZWN0VGlsZVBvaW50KGUsdCxuKXtjb25zdCBpPWlwKGUsdCxuKTtyZXR1cm4gemwoaSxpLGFwKFhkKG4pKSkse3g6aVswXSx5OmlbMV0sejppWzJdfX1sb2NhdGlvblBvaW50KGUsdCl7Y29uc3Qgbj1ucCh0LmxhdCx0LmxuZyksaT1rbChbXSxuKSxyPWUuZWxldmF0aW9uP2UuZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8oZS5sb2NhdGlvbkNvb3JkaW5hdGUodCksZS5fY2VudGVyQWx0aXR1ZGUpOmUuX2NlbnRlckFsdGl0dWRlO0NsKG4sbixpLGJzKDEsMCkqcHMqcik7Y29uc3Qgbz1sbChuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIHVsKG8sZS5waXhlbE1hdHJpeCxlLmdsb2JlTWF0cml4KSx6bChuLG4sbyksbmV3IG0oblswXSxuWzFdKX1waXhlbHNQZXJNZXRlcihlLHQpe3JldHVybiBicygxLDApKnR9cGl4ZWxTcGFjZUNvbnZlcnNpb24oZSx0LG4pe2NvbnN0IGk9YnMoMSxlKSp0LHI9Q24oYnMoMSw0NSkqdCxpLG4pO3JldHVybiB0aGlzLnBpeGVsc1Blck1ldGVyKGUsdCkvcn1jcmVhdGVUaWxlTWF0cml4KGUsdCxuKXtjb25zdCBpPXNwKFhkKG4uY2Fub25pY2FsKSk7cmV0dXJuIHVsKG5ldyBGbG9hdDY0QXJyYXkoMTYpLGUuZ2xvYmVNYXRyaXgsaSl9Y3JlYXRlSW52ZXJzaW9uTWF0cml4KGUsdCl7Y29uc3R7Y2VudGVyOm59PWUsaT1hcChYZCh0KSk7cmV0dXJuIGZsKGksaSx2KG4ubG5nKSkscGwoaSxpLHYobi5sYXQpKSxkbChpLGksW2UuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsZS5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCwxXSksRmxvYXQzMkFycmF5LmZyb20oaSl9cG9pbnRDb29yZGluYXRlKGUsdCxuLGkpe3JldHVybiBxZChlLHQsbiwhMCl8fG5ldyBJcygwLDApfXBvaW50Q29vcmRpbmF0ZTNEKGUsdCxuKXtjb25zdCBpPXRoaXMucG9pbnRDb29yZGluYXRlKGUsdCxuLDApO3JldHVybltpLngsaS55LGkuel19aXNQb2ludEFib3ZlSG9yaXpvbihlLHQpe3JldHVybiFxZChlLHQueCx0LnksITEpfWZhcnRoZXN0UGl4ZWxEaXN0YW5jZShlKXtjb25zdCB0PWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1lLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsaT1lLl9jZW50ZXJBbHRpdHVkZSp0LHI9ZS5fY2FtZXJhLG89ZS5fY2FtZXJhLmZvcndhcmQoKSxhPXdsKFtdLElsKFtdLG8sLW4pLFswLDAsaV0pLHM9ZS53b3JsZFNpemUvKDIqTWF0aC5QSSksbD1bMCwwLC1zXSxjPWUud2lkdGgvZS5oZWlnaHQsdT1NYXRoLnRhbihlLmZvdkFib3ZlQ2VudGVyKSxoPUlsKFtdLHIudXAoKSx1KSxkPUlsKFtdLHIucmlnaHQoKSx1KmMpLHA9a2woW10sd2woW10sd2woW10sbyxoKSxkKSksZj1bXTtsZXQgbTtpZihuZXcgcWwoYSxwKS5jbG9zZXN0UG9pbnRPblNwaGVyZShsLHMsZikpe2NvbnN0IHQ9d2woW10sZixsKSxuPU9sKFtdLHQsYSk7bT1NYXRoLmNvcyhlLmZvdkFib3ZlQ2VudGVyKSp4bChuKX1lbHNle2NvbnN0IGU9T2woW10sYSxsKSx0PU9sKFtdLGwsYSk7a2wodCx0KTtjb25zdCBuPXhsKGUpLXM7bT1NYXRoLnNxcnQobioobisyKnMpKTtjb25zdCBpPU1hdGguYWNvcyhtLyhzK24pKS1NYXRoLmFjb3MoQWwobyx0KSk7bSo9TWF0aC5jb3MoaSl9cmV0dXJuIDEuMDEqbX0oZSx0aGlzLnBpeGVsc1Blck1ldGVyKGUuY2VudGVyLmxhdCxlLndvcmxkU2l6ZSkpLG49Y3AoZS56b29tKTtpZihuPjApe2NvbnN0IGk9bXAoZSxicygxLGUuY2VudGVyLmxhdCkqZS53b3JsZFNpemUpLHI9ZS53b3JsZFNpemUvKDIqTWF0aC5QSSksbz1NYXRoLm1heChlLndpZHRoLGUuaGVpZ2h0KS9lLndvcmxkU2l6ZSpNYXRoLlBJO3JldHVybiBDbih0LGkrciooMS1NYXRoLmNvcyhvKSksTWF0aC5wb3cobiwxMCkpfXJldHVybiB0fXVwVmVjdG9yKGUsdCxuKXtyZXR1cm4gaXAodCxuLGUsMSl9dXBWZWN0b3JTY2FsZShlKXtyZXR1cm57bWV0ZXJzVG9UaWxlOlVkKnJwKFhkKGUpKX19fWZ1bmN0aW9uIEJwKGUpe2NvbnN0IHQ9ZS5wYXJhbGxlbHMsbj0hIXQmJk1hdGguYWJzKHRbMF0rdFsxXSk8LjAxO3N3aXRjaChlLm5hbWUpe2Nhc2VcIm1lcmNhdG9yXCI6cmV0dXJuIG5ldyBBcChlKTtjYXNlXCJlcXVpcmVjdGFuZ3VsYXJcIjpyZXR1cm4gbmV3IE1wKGUpO2Nhc2VcIm5hdHVyYWxFYXJ0aFwiOnJldHVybiBuZXcgenAoZSk7Y2FzZVwiZXF1YWxFYXJ0aFwiOnJldHVybiBuZXcgU3AoZSk7Y2FzZVwid2lua2VsVHJpcGVsXCI6cmV0dXJuIG5ldyBMcChlKTtjYXNlXCJhbGJlcnNcIjpyZXR1cm4gbj9uZXcgT3AoZSk6bmV3IHZwKGUpO2Nhc2VcImxhbWJlcnRDb25mb3JtYWxDb25pY1wiOnJldHVybiBuP25ldyBPcChlKTpuZXcga3AoZSk7Y2FzZVwiZ2xvYmVcIjpyZXR1cm4gbmV3IFJwKGUpfXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJvamVjdGlvbiBuYW1lOiBcIitlLm5hbWUpfWNvbnN0IGpwPWR1LnR5cGVzLEZwPVt7bmFtZTpcImFfZmFkZV9vcGFjaXR5XCIsY29tcG9uZW50czoxLHR5cGU6XCJVaW50OFwiLG9mZnNldDowfV07ZnVuY3Rpb24gTnAoZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCl7Y29uc3QgcD1zP01hdGgubWluKEFkLE1hdGgucm91bmQoc1swXSkpOjAsZj1zP01hdGgubWluKEFkLE1hdGgucm91bmQoc1sxXSkpOjA7ZS5lbXBsYWNlQmFjayh0LG4sTWF0aC5yb3VuZCgzMippKSxNYXRoLnJvdW5kKDMyKnIpLG8sYSwocDw8MSkrKGw/MTowKSxmLDE2KmMsMTYqdSwyNTYqaCwyNTYqZCl9ZnVuY3Rpb24gVXAoZSx0LG4saSxyLG8sYSl7ZS5lbXBsYWNlQmFjayh0LG4saSxyLG8sYSl9ZnVuY3Rpb24gVnAoZSx0LG4saSxyKXtlLmVtcGxhY2VCYWNrKHQsbixpLHIpLGUuZW1wbGFjZUJhY2sodCxuLGksciksZS5lbXBsYWNlQmFjayh0LG4saSxyKSxlLmVtcGxhY2VCYWNrKHQsbixpLHIpfWZ1bmN0aW9uIEdwKGUpe2Zvcihjb25zdCB0IG9mIGUuc2VjdGlvbnMpaWYoX28odC50ZXh0KSlyZXR1cm4hMDtyZXR1cm4hMX1jbGFzcyBacHtjb25zdHJ1Y3RvcihlKXt0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyByYSx0aGlzLmluZGV4QXJyYXk9bmV3IGRhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPWUsdGhpcy5zZWdtZW50cz1uZXcgZHMsdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk9bmV3IGVhLHRoaXMub3BhY2l0eVZlcnRleEFycmF5PW5ldyBhYSx0aGlzLnBsYWNlZFN5bWJvbEFycmF5PW5ldyBFYSx0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXk9bmV3IG9hfWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoJiYwPT09dGhpcy5pbmRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMuZHluYW1pY0xheW91dFZlcnRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMub3BhY2l0eVZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWQoZSx0LG4saSl7dGhpcy5pc0VtcHR5KCl8fChuJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxZdS5tZW1iZXJzKSx0aGlzLmluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5LHQpLHRoaXMuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxRdS5tZW1iZXJzLCEwKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5vcGFjaXR5VmVydGV4QXJyYXksRnAsITApLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheS5sZW5ndGg+MCYmKHRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5nbG9iZUV4dFZlcnRleEFycmF5LEp1Lm1lbWJlcnMsITApKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXIuaXRlbVNpemU9MSksKG58fGkpJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQoZSkpfWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXImJnRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpKX19enIoWnAsXCJTeW1ib2xCdWZmZXJzXCIpO2NsYXNzIFdwe2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBlLHRoaXMubGF5b3V0QXR0cmlidXRlcz10LHRoaXMuaW5kZXhBcnJheT1uZXcgbix0aGlzLnNlZ21lbnRzPW5ldyBkcyx0aGlzLmNvbGxpc2lvblZlcnRleEFycmF5PW5ldyB1YSx0aGlzLmNvbGxpc2lvblZlcnRleEFycmF5RXh0PW5ldyBoYX11cGxvYWQoZSl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmxheW91dEF0dHJpYnV0ZXMpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMuY29sbGlzaW9uVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXksS3UubWVtYmVycywhMCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQ9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCxlaC5tZW1iZXJzLCEwKX1kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0LmRlc3Ryb3koKSl9fXpyKFdwLFwiQ29sbGlzaW9uQnVmZmVyc1wiKTtjbGFzcyBxcHtjb25zdHJ1Y3RvcihlKXt0aGlzLmNvbGxpc2lvbkJveEFycmF5PWUuY29sbGlzaW9uQm94QXJyYXksdGhpcy56b29tPWUuem9vbSx0aGlzLm92ZXJzY2FsaW5nPWUub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9ZS5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoZT0+ZS5pZCksdGhpcy5pbmRleD1lLmluZGV4LHRoaXMucGl4ZWxSYXRpbz1lLnBpeGVsUmF0aW8sdGhpcy5zb3VyY2VMYXllckluZGV4PWUuc291cmNlTGF5ZXJJbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5oYXNSVExUZXh0PSExLHRoaXMuZnVsbHlDbGlwcGVkPSExLHRoaXMuc29ydEtleVJhbmdlcz1bXSx0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5PVtdLHRoaXMucGxhY2VtZW50SW52UHJvak1hdHJpeD1sbChbXSksdGhpcy5wbGFjZW1lbnRWaWV3cG9ydE1hdHJpeD1sbChbXSk7Y29uc3QgdD10aGlzLmxheWVyc1swXS5fdW5ldmFsdWF0ZWRMYXlvdXQuX3ZhbHVlczt0aGlzLnRleHRTaXplRGF0YT1yaCh0aGlzLnpvb20sdFtcInRleHQtc2l6ZVwiXSksdGhpcy5pY29uU2l6ZURhdGE9cmgodGhpcy56b29tLHRbXCJpY29uLXNpemVcIl0pO2NvbnN0IG49dGhpcy5sYXllcnNbMF0ubGF5b3V0LGk9bi5nZXQoXCJzeW1ib2wtc29ydC1rZXlcIikscj1uLmdldChcInN5bWJvbC16LW9yZGVyXCIpO3RoaXMuY2FuT3ZlcmxhcD1uLmdldChcInRleHQtYWxsb3ctb3ZlcmxhcFwiKXx8bi5nZXQoXCJpY29uLWFsbG93LW92ZXJsYXBcIil8fG4uZ2V0KFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCIpfHxuLmdldChcImljb24taWdub3JlLXBsYWNlbWVudFwiKSx0aGlzLnNvcnRGZWF0dXJlc0J5S2V5PVwidmlld3BvcnQteVwiIT09ciYmdm9pZCAwIT09aS5jb25zdGFudE9yKDEpLHRoaXMuc29ydEZlYXR1cmVzQnlZPShcInZpZXdwb3J0LXlcIj09PXJ8fFwiYXV0b1wiPT09ciYmIXRoaXMuc29ydEZlYXR1cmVzQnlLZXkpJiZ0aGlzLmNhbk92ZXJsYXAsdGhpcy53cml0aW5nTW9kZXM9bi5nZXQoXCJ0ZXh0LXdyaXRpbmctbW9kZVwiKS5tYXAoZT0+TmhbZV0pLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoZT0+ZS5pc1N0YXRlRGVwZW5kZW50KCkpLm1hcChlPT5lLmlkKSx0aGlzLnNvdXJjZUlEPWUuc291cmNlSUQsdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbn1jcmVhdGVBcnJheXMoKXt0aGlzLnRleHQ9bmV3IFpwKG5ldyBucyh0aGlzLmxheWVycyx0aGlzLnpvb20sZT0+L150ZXh0Ly50ZXN0KGUpKSksdGhpcy5pY29uPW5ldyBacChuZXcgbnModGhpcy5sYXllcnMsdGhpcy56b29tLGU9Pi9eaWNvbi8udGVzdChlKSkpLHRoaXMuZ2x5cGhPZmZzZXRBcnJheT1uZXcgSWEsdGhpcy5saW5lVmVydGV4QXJyYXk9bmV3IENhLHRoaXMuc3ltYm9sSW5zdGFuY2VzPW5ldyBNYX1jYWxjdWxhdGVHbHlwaERlcGVuZGVuY2llcyhlLHQsbixpLHIpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKWlmKHRbZS5jaGFyQ29kZUF0KG4pXT0hMCxpJiZyKXtjb25zdCBpPWNoW2UuY2hhckF0KG4pXTtpJiYodFtpLmNoYXJDb2RlQXQoMCldPSEwKX19cG9wdWxhdGUoZSx0LG4saSl7Y29uc3Qgcj10aGlzLmxheWVyc1swXSxvPXIubGF5b3V0LGE9XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUscz1vLmdldChcInRleHQtZm9udFwiKSxsPW8uZ2V0KFwidGV4dC1maWVsZFwiKSxjPW8uZ2V0KFwiaWNvbi1pbWFnZVwiKSx1PShcImNvbnN0YW50XCIhPT1sLnZhbHVlLmtpbmR8fGwudmFsdWUudmFsdWUgaW5zdGFuY2VvZiBQdCYmIWwudmFsdWUudmFsdWUuaXNFbXB0eSgpfHxsLnZhbHVlLnZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoPjApJiYoXCJjb25zdGFudFwiIT09cy52YWx1ZS5raW5kfHxzLnZhbHVlLnZhbHVlLmxlbmd0aD4wKSxoPVwiY29uc3RhbnRcIiE9PWMudmFsdWUua2luZHx8ISFjLnZhbHVlLnZhbHVlfHxPYmplY3Qua2V5cyhjLnBhcmFtZXRlcnMpLmxlbmd0aD4wLGQ9by5nZXQoXCJzeW1ib2wtc29ydC1rZXlcIik7aWYodGhpcy5mZWF0dXJlcz1bXSwhdSYmIWgpcmV0dXJuO2NvbnN0IHA9dC5pY29uRGVwZW5kZW5jaWVzLGY9dC5nbHlwaERlcGVuZGVuY2llcyxtPXQuYXZhaWxhYmxlSW1hZ2VzLGc9bmV3IFBvKHRoaXMuem9vbSk7Zm9yKGNvbnN0e2ZlYXR1cmU6dCxpZDpsLGluZGV4OmMsc291cmNlTGF5ZXJJbmRleDp5fW9mIGUpe2NvbnN0IGU9ci5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksXz1Scyh0LGUpO2lmKCFyLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihnLF8sbikpY29udGludWU7aWYoZXx8KF8uZ2VvbWV0cnk9T3ModCxuLGkpKSxhJiYxIT09dC50eXBlJiZuLno8PTUpe2NvbnN0IGU9Xy5nZW9tZXRyeSx0PS45ODA3ODUyODA1NixpPShlLGkpPT5BbChpcChlLngsZS55LG4sMSksaXAoaS54LGkueSxuLDEpKTx0O2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF09UHMoZVt0XSxpKX1sZXQgdix4O2lmKHUpe2NvbnN0IGU9ci5nZXRWYWx1ZUFuZFJlc29sdmVUb2tlbnMoXCJ0ZXh0LWZpZWxkXCIsXyxuLG0pLHQ9UHQuZmFjdG9yeShlKTtHcCh0KSYmKHRoaXMuaGFzUlRMVGV4dD0hMCksKCF0aGlzLmhhc1JUTFRleHR8fFwidW5hdmFpbGFibGVcIj09PUNvKCl8fHRoaXMuaGFzUlRMVGV4dCYmQW8uaXNQYXJzZWQoKSkmJih2PWxoKHQscixfKSl9aWYoaCl7Y29uc3QgZT1yLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhcImljb24taW1hZ2VcIixfLG4sbSk7eD1lIGluc3RhbmNlb2YgenQ/ZTp6dC5mcm9tU3RyaW5nKGUpfWlmKCF2JiYheCljb250aW51ZTtjb25zdCBiPXRoaXMuc29ydEZlYXR1cmVzQnlLZXk/ZC5ldmFsdWF0ZShfLHt9LG4pOnZvaWQgMDtpZih0aGlzLmZlYXR1cmVzLnB1c2goe2lkOmwsdGV4dDp2LGljb246eCxpbmRleDpjLHNvdXJjZUxheWVySW5kZXg6eSxnZW9tZXRyeTpfLmdlb21ldHJ5LHByb3BlcnRpZXM6dC5wcm9wZXJ0aWVzLHR5cGU6anBbdC50eXBlXSxzb3J0S2V5OmJ9KSx4JiYocFt4Lm5hbWVdPSEwKSx2KXtjb25zdCBlPXMuZXZhbHVhdGUoXyx7fSxuKS5qb2luKFwiLFwiKSx0PVwibWFwXCI9PT1vLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT1vLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik7dGhpcy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50PXRoaXMud3JpdGluZ01vZGVzJiZ0aGlzLndyaXRpbmdNb2Rlcy5pbmRleE9mKE5oLnZlcnRpY2FsKT49MDtmb3IoY29uc3QgbiBvZiB2LnNlY3Rpb25zKWlmKG4uaW1hZ2UpcFtuLmltYWdlLm5hbWVdPSEwO2Vsc2V7Y29uc3QgaT11byh2LnRvU3RyaW5nKCkpLHI9bi5mb250U3RhY2t8fGUsbz1mW3JdPWZbcl18fHt9O3RoaXMuY2FsY3VsYXRlR2x5cGhEZXBlbmRlbmNpZXMobi50ZXh0LG8sdCx0aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQsaSl9fX1cImxpbmVcIj09PW8uZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSYmKHRoaXMuZmVhdHVyZXM9ZnVuY3Rpb24oZSl7Y29uc3QgdD17fSxuPXt9LGk9W107bGV0IHI9MDtmdW5jdGlvbiBvKHQpe2kucHVzaChlW3RdKSxyKyt9ZnVuY3Rpb24gYShlLHQscil7Y29uc3Qgbz1uW2VdO3JldHVybiBkZWxldGUgbltlXSxuW3RdPW8saVtvXS5nZW9tZXRyeVswXS5wb3AoKSxpW29dLmdlb21ldHJ5WzBdPWlbb10uZ2VvbWV0cnlbMF0uY29uY2F0KHJbMF0pLG99ZnVuY3Rpb24gcyhlLG4scil7Y29uc3Qgbz10W25dO3JldHVybiBkZWxldGUgdFtuXSx0W2VdPW8saVtvXS5nZW9tZXRyeVswXS5zaGlmdCgpLGlbb10uZ2VvbWV0cnlbMF09clswXS5jb25jYXQoaVtvXS5nZW9tZXRyeVswXSksb31mdW5jdGlvbiBsKGUsdCxuKXtjb25zdCBpPW4/dFswXVt0WzBdLmxlbmd0aC0xXTp0WzBdWzBdO3JldHVybmAke2V9OiR7aS54fToke2kueX1gfWZvcihsZXQgYz0wO2M8ZS5sZW5ndGg7YysrKXtjb25zdCB1PWVbY10saD11Lmdlb21ldHJ5LGQ9dS50ZXh0P3UudGV4dC50b1N0cmluZygpOm51bGw7aWYoIWQpe28oYyk7Y29udGludWV9Y29uc3QgcD1sKGQsaCksZj1sKGQsaCwhMCk7aWYocCBpbiBuJiZmIGluIHQmJm5bcF0hPT10W2ZdKXtjb25zdCBlPXMocCxmLGgpLHI9YShwLGYsaVtlXS5nZW9tZXRyeSk7ZGVsZXRlIHRbcF0sZGVsZXRlIG5bZl0sbltsKGQsaVtyXS5nZW9tZXRyeSwhMCldPXIsaVtlXS5nZW9tZXRyeT1udWxsfWVsc2UgcCBpbiBuP2EocCxmLGgpOmYgaW4gdD9zKHAsZixoKToobyhjKSx0W3BdPXItMSxuW2ZdPXItMSl9cmV0dXJuIGkuZmlsdGVyKGU9PmUuZ2VvbWV0cnkpfSh0aGlzLmZlYXR1cmVzKSksdGhpcy5zb3J0RmVhdHVyZXNCeUtleSYmdGhpcy5mZWF0dXJlcy5zb3J0KChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KX11cGRhdGUoZSx0LG4saSl7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJih0aGlzLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCx0aGlzLmxheWVycyxuLGkpLHRoaXMuaWNvbi5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXMoZSx0LHRoaXMubGF5ZXJzLG4saSkpfWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCYmIXRoaXMuaGFzUlRMVGV4dH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuIXRoaXMudXBsb2FkZWR8fHRoaXMudGV4dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR8fHRoaXMuaWNvbi5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9dXBsb2FkKGUpeyF0aGlzLnVwbG9hZGVkJiZ0aGlzLmhhc0RlYnVnRGF0YSgpJiYodGhpcy50ZXh0Q29sbGlzaW9uQm94LnVwbG9hZChlKSx0aGlzLmljb25Db2xsaXNpb25Cb3gudXBsb2FkKGUpKSx0aGlzLnRleHQudXBsb2FkKGUsdGhpcy5zb3J0RmVhdHVyZXNCeVksIXRoaXMudXBsb2FkZWQsdGhpcy50ZXh0LnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZCksdGhpcy5pY29uLnVwbG9hZChlLHRoaXMuc29ydEZlYXR1cmVzQnlZLCF0aGlzLnVwbG9hZGVkLHRoaXMuaWNvbi5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWQpLHRoaXMudXBsb2FkZWQ9ITB9ZGVzdHJveURlYnVnRGF0YSgpe3RoaXMudGV4dENvbGxpc2lvbkJveC5kZXN0cm95KCksdGhpcy5pY29uQ29sbGlzaW9uQm94LmRlc3Ryb3koKX1nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbkluc3RhbmNlfHwodGhpcy5wcm9qZWN0aW9uSW5zdGFuY2U9QnAodGhpcy5wcm9qZWN0aW9uKSksdGhpcy5wcm9qZWN0aW9uSW5zdGFuY2V9ZGVzdHJveSgpe3RoaXMudGV4dC5kZXN0cm95KCksdGhpcy5pY29uLmRlc3Ryb3koKSx0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmRlc3Ryb3lEZWJ1Z0RhdGEoKX1hZGRUb0xpbmVWZXJ0ZXhBcnJheShlLHQpe2NvbnN0IG49dGhpcy5saW5lVmVydGV4QXJyYXkubGVuZ3RoO2lmKHZvaWQgMCE9PWUuc2VnbWVudClmb3IoY29uc3R7eDplLHk6bn1vZiB0KXRoaXMubGluZVZlcnRleEFycmF5LmVtcGxhY2VCYWNrKGUsbik7cmV0dXJue2xpbmVTdGFydEluZGV4Om4sbGluZUxlbmd0aDp0aGlzLmxpbmVWZXJ0ZXhBcnJheS5sZW5ndGgtbn19YWRkU3ltYm9scyhlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkLHApe2NvbnN0IGY9ZS5pbmRleEFycmF5LG09ZS5sYXlvdXRWZXJ0ZXhBcnJheSxnPWUuZ2xvYmVFeHRWZXJ0ZXhBcnJheSx5PWUuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCp0Lmxlbmd0aCxtLGYsdGhpcy5jYW5PdmVybGFwP28uc29ydEtleTp2b2lkIDApLF89dGhpcy5nbHlwaE9mZnNldEFycmF5Lmxlbmd0aCx2PXkudmVydGV4TGVuZ3RoLHg9dGhpcy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZhPT09TmgudmVydGljYWw/TWF0aC5QSS8yOjAsYj1vLnRleHQmJm8udGV4dC5zZWN0aW9ucztmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3R7dGw6cix0cjphLGJsOmMsYnI6dSx0ZXg6aCxwaXhlbE9mZnNldFRMOl8scGl4ZWxPZmZzZXRCUjp2LG1pbkZvbnRTY2FsZVg6dyxtaW5Gb250U2NhbGVZOlQsZ2x5cGhPZmZzZXQ6RSxpc1NERjpTLHNlY3Rpb25JbmRleDpNfT10W2ldLEk9eS52ZXJ0ZXhMZW5ndGgsQz1FWzFdO2lmKE5wKG0sbC54LGwueSxyLngsQytyLnksaC54LGgueSxuLFMsXy54LF8ueSx3LFQpLE5wKG0sbC54LGwueSxhLngsQythLnksaC54K2gudyxoLnksbixTLHYueCxfLnksdyxUKSxOcChtLGwueCxsLnksYy54LEMrYy55LGgueCxoLnkraC5oLG4sUyxfLngsdi55LHcsVCksTnAobSxsLngsbC55LHUueCxDK3UueSxoLngraC53LGgueStoLmgsbixTLHYueCx2LnksdyxUKSxzKXtjb25zdHt4OnQseTpuLHo6aX09cy5hbmNob3IsW3IsbyxhXT1zLnVwO1VwKGcsdCxuLGkscixvLGEpLFVwKGcsdCxuLGkscixvLGEpLFVwKGcsdCxuLGkscixvLGEpLFVwKGcsdCxuLGkscixvLGEpLFZwKGUuZHluYW1pY0xheW91dFZlcnRleEFycmF5LHQsbixpLHgpfWVsc2UgVnAoZS5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksbC54LGwueSxsLnoseCk7Zi5lbXBsYWNlQmFjayhJLEkrMSxJKzIpLGYuZW1wbGFjZUJhY2soSSsxLEkrMixJKzMpLHkudmVydGV4TGVuZ3RoKz00LHkucHJpbWl0aXZlTGVuZ3RoKz0yLHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5lbXBsYWNlQmFjayhFWzBdKSxpIT09dC5sZW5ndGgtMSYmTT09PXRbaSsxXS5zZWN0aW9uSW5kZXh8fGUucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnBvcHVsYXRlUGFpbnRBcnJheXMobS5sZW5ndGgsbyxvLmluZGV4LHt9LGQscCxiJiZiW01dKX1jb25zdCB3PXM/cy5hbmNob3I6bDtlLnBsYWNlZFN5bWJvbEFycmF5LmVtcGxhY2VCYWNrKHcueCx3Lnksdy56LGwueCxsLnksXyx0aGlzLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoLV8sdixjLHUsbC5zZWdtZW50LG4/blswXTowLG4/blsxXTowLGlbMF0saVsxXSxhLDAsITEsMCxoLDApfV9jb21taXRMYXlvdXRWZXJ0ZXgoZSx0LG4saSxyLG8sYSl7ZS5lbXBsYWNlQmFjayh0LG4saSxyLG8sTWF0aC5yb3VuZChhLngpLE1hdGgucm91bmQoYS55KSl9X2FkZENvbGxpc2lvbkRlYnVnVmVydGljZXMoZSx0LG4saSxyLG8sYSl7Y29uc3Qgcz1uLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDQsbi5sYXlvdXRWZXJ0ZXhBcnJheSxuLmluZGV4QXJyYXkpLGw9cy52ZXJ0ZXhMZW5ndGgsYz1hLnRpbGVBbmNob3JYLHU9YS50aWxlQW5jaG9yWTtmb3IobGV0IGU9MDtlPDQ7ZSsrKW4uY29sbGlzaW9uVmVydGV4QXJyYXkuZW1wbGFjZUJhY2soMCwwLDAsMCk7bi5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5lbXBsYWNlQmFjayh0LC1lLnBhZGRpbmcsLWUucGFkZGluZyksbi5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5lbXBsYWNlQmFjayh0LGUucGFkZGluZywtZS5wYWRkaW5nKSxuLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmVtcGxhY2VCYWNrKHQsZS5wYWRkaW5nLGUucGFkZGluZyksbi5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5lbXBsYWNlQmFjayh0LC1lLnBhZGRpbmcsZS5wYWRkaW5nKSx0aGlzLl9jb21taXRMYXlvdXRWZXJ0ZXgobi5sYXlvdXRWZXJ0ZXhBcnJheSxpLHIsbyxjLHUsbmV3IG0oZS54MSxlLnkxKSksdGhpcy5fY29tbWl0TGF5b3V0VmVydGV4KG4ubGF5b3V0VmVydGV4QXJyYXksaSxyLG8sYyx1LG5ldyBtKGUueDIsZS55MSkpLHRoaXMuX2NvbW1pdExheW91dFZlcnRleChuLmxheW91dFZlcnRleEFycmF5LGkscixvLGMsdSxuZXcgbShlLngyLGUueTIpKSx0aGlzLl9jb21taXRMYXlvdXRWZXJ0ZXgobi5sYXlvdXRWZXJ0ZXhBcnJheSxpLHIsbyxjLHUsbmV3IG0oZS54MSxlLnkyKSkscy52ZXJ0ZXhMZW5ndGgrPTQ7Y29uc3QgaD1uLmluZGV4QXJyYXk7aC5lbXBsYWNlQmFjayhsLGwrMSksaC5lbXBsYWNlQmFjayhsKzEsbCsyKSxoLmVtcGxhY2VCYWNrKGwrMixsKzMpLGguZW1wbGFjZUJhY2sobCszLGwpLHMucHJpbWl0aXZlTGVuZ3RoKz00fV9hZGRUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhlLHQsbixpLHIsbyl7Zm9yKGxldCBhPWk7YTxyO2ErKyl7Y29uc3QgaT1uLmdldChhKSxyPXRoaXMuZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShlLG8sdCxhKTt0aGlzLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRpY2VzKGkscix0aGlzLnRleHRDb2xsaXNpb25Cb3gsaS5wcm9qZWN0ZWRBbmNob3JYLGkucHJvamVjdGVkQW5jaG9yWSxpLnByb2plY3RlZEFuY2hvclosbyl9fV9hZGRJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhlLHQsbixpLHIsbyl7Zm9yKGxldCBhPWk7YTxyO2ErKyl7Y29uc3QgaT1uLmdldChhKSxyPXRoaXMuZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShlLHQsby5wbGFjZWRJY29uU3ltYm9sSW5kZXgpO3RoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGljZXMoaSxyLHRoaXMuaWNvbkNvbGxpc2lvbkJveCxpLnByb2plY3RlZEFuY2hvclgsaS5wcm9qZWN0ZWRBbmNob3JZLGkucHJvamVjdGVkQW5jaG9yWixvKX19Z2VuZXJhdGVDb2xsaXNpb25EZWJ1Z0J1ZmZlcnMoZSx0KXt0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmRlc3Ryb3lEZWJ1Z0RhdGEoKSx0aGlzLnRleHRDb2xsaXNpb25Cb3g9bmV3IFdwKGxhLHRoLm1lbWJlcnMsX2EpLHRoaXMuaWNvbkNvbGxpc2lvbkJveD1uZXcgV3AobGEsdGgubWVtYmVycyxfYSk7Y29uc3Qgbj1haCh0aGlzLmljb25TaXplRGF0YSxlKSxpPWFoKHRoaXMudGV4dFNpemVEYXRhLGUpO2ZvcihsZXQgcj0wO3I8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO3IrKyl7Y29uc3Qgbz10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQocik7dGhpcy5fYWRkVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMoaSxlLHQsby50ZXh0Qm94U3RhcnRJbmRleCxvLnRleHRCb3hFbmRJbmRleCxvKSx0aGlzLl9hZGRUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhpLGUsdCxvLnZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXgsby52ZXJ0aWNhbFRleHRCb3hFbmRJbmRleCxvKSx0aGlzLl9hZGRJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhuLGUsdCxvLmljb25Cb3hTdGFydEluZGV4LG8uaWNvbkJveEVuZEluZGV4LG8pLHRoaXMuX2FkZEljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKG4sZSx0LG8udmVydGljYWxJY29uQm94U3RhcnRJbmRleCxvLnZlcnRpY2FsSWNvbkJveEVuZEluZGV4LG8pfX1nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKGUsdCxuLGkpe2NvbnN0IHI9dGhpcy50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldCh0LnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Pj0wP3QucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6dC5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/dC5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6dC5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Pj0wP3QubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDp0LnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4Pj0wP3QudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6aSksbz1vaCh0aGlzLnRleHRTaXplRGF0YSxlLHIpLzI0O3JldHVybiB0aGlzLnRpbGVQaXhlbFJhdGlvKm99Z2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShlLHQsbil7Y29uc3QgaT10aGlzLmljb24ucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KG4pLHI9b2godGhpcy5pY29uU2l6ZURhdGEsZSxpKTtyZXR1cm4gdGhpcy50aWxlUGl4ZWxSYXRpbypyfV9jb21taXREZWJ1Z0NvbGxpc2lvblZlcnRleFVwZGF0ZShlLHQsbil7ZS5lbXBsYWNlQmFjayh0LC1uLC1uKSxlLmVtcGxhY2VCYWNrKHQsbiwtbiksZS5lbXBsYWNlQmFjayh0LG4sbiksZS5lbXBsYWNlQmFjayh0LC1uLG4pfV91cGRhdGVUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhlLHQsbixpLHIsbyl7Zm9yKGxldCBhPWk7YTxyO2ErKyl7Y29uc3QgaT1uLmdldChhKSxyPXRoaXMuZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShlLG8sdCxhKTt0aGlzLl9jb21taXREZWJ1Z0NvbGxpc2lvblZlcnRleFVwZGF0ZSh0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQscixpLnBhZGRpbmcpfX1fdXBkYXRlSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMoZSx0LG4saSxyLG8pe2ZvcihsZXQgYT1pO2E8cjthKyspe2NvbnN0IGk9bi5nZXQoYSkscj10aGlzLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUoZSx0LG8pO3RoaXMuX2NvbW1pdERlYnVnQ29sbGlzaW9uVmVydGV4VXBkYXRlKHRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCxyLGkucGFkZGluZyl9fXVwZGF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyhlLHQpe2lmKCF0aGlzLmhhc0RlYnVnRGF0YSgpKXJldHVybjt0aGlzLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5jbGVhcigpLHRoaXMuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmNsZWFyKCk7Y29uc3Qgbj1haCh0aGlzLmljb25TaXplRGF0YSxlKSxpPWFoKHRoaXMudGV4dFNpemVEYXRhLGUpO2ZvcihsZXQgcj0wO3I8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO3IrKyl7Y29uc3Qgbz10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQocik7dGhpcy5fdXBkYXRlVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMoaSxlLHQsby50ZXh0Qm94U3RhcnRJbmRleCxvLnRleHRCb3hFbmRJbmRleCxvKSx0aGlzLl91cGRhdGVUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhpLGUsdCxvLnZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXgsby52ZXJ0aWNhbFRleHRCb3hFbmRJbmRleCxvKSx0aGlzLl91cGRhdGVJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhuLGUsdCxvLmljb25Cb3hTdGFydEluZGV4LG8uaWNvbkJveEVuZEluZGV4LG8ucGxhY2VkSWNvblN5bWJvbEluZGV4KSx0aGlzLl91cGRhdGVJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhuLGUsdCxvLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgsby52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCxvLnBsYWNlZEljb25TeW1ib2xJbmRleCl9dGhpcy5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZ0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0JiZ0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0LnVwZGF0ZURhdGEodGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0KSx0aGlzLmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQudXBkYXRlRGF0YSh0aGlzLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQpfV9kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzRm9yU3ltYm9sKGUsdCxuLGkscixvLGEscyxsKXtjb25zdCBjPXt9O2lmKHQ8bil7Y29uc3R7eDE6bix5MTppLHgyOnIseTI6byxwYWRkaW5nOmEscHJvamVjdGVkQW5jaG9yWDpzLHByb2plY3RlZEFuY2hvclk6bCxwcm9qZWN0ZWRBbmNob3JaOnUsdGlsZUFuY2hvclg6aCx0aWxlQW5jaG9yWTpkLGZlYXR1cmVJbmRleDpwfT1lLmdldCh0KTtjLnRleHRCb3g9e3gxOm4seTE6aSx4MjpyLHkyOm8scGFkZGluZzphLHByb2plY3RlZEFuY2hvclg6cyxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjp1LHRpbGVBbmNob3JYOmgsdGlsZUFuY2hvclk6ZH0sYy50ZXh0RmVhdHVyZUluZGV4PXB9aWYoaTxyKXtjb25zdHt4MTp0LHkxOm4seDI6cix5MjpvLHBhZGRpbmc6YSxwcm9qZWN0ZWRBbmNob3JYOnMscHJvamVjdGVkQW5jaG9yWTpsLHByb2plY3RlZEFuY2hvclo6dSx0aWxlQW5jaG9yWDpoLHRpbGVBbmNob3JZOmQsZmVhdHVyZUluZGV4OnB9PWUuZ2V0KGkpO2MudmVydGljYWxUZXh0Qm94PXt4MTp0LHkxOm4seDI6cix5MjpvLHBhZGRpbmc6YSxwcm9qZWN0ZWRBbmNob3JYOnMscHJvamVjdGVkQW5jaG9yWTpsLHByb2plY3RlZEFuY2hvclo6dSx0aWxlQW5jaG9yWDpoLHRpbGVBbmNob3JZOmR9LGMudmVydGljYWxUZXh0RmVhdHVyZUluZGV4PXB9aWYobzxhKXtjb25zdHt4MTp0LHkxOm4seDI6aSx5MjpyLHBhZGRpbmc6YSxwcm9qZWN0ZWRBbmNob3JYOnMscHJvamVjdGVkQW5jaG9yWTpsLHByb2plY3RlZEFuY2hvclo6dSx0aWxlQW5jaG9yWDpoLHRpbGVBbmNob3JZOmQsZmVhdHVyZUluZGV4OnB9PWUuZ2V0KG8pO2MuaWNvbkJveD17eDE6dCx5MTpuLHgyOmkseTI6cixwYWRkaW5nOmEscHJvamVjdGVkQW5jaG9yWDpzLHByb2plY3RlZEFuY2hvclk6bCxwcm9qZWN0ZWRBbmNob3JaOnUsdGlsZUFuY2hvclg6aCx0aWxlQW5jaG9yWTpkfSxjLmljb25GZWF0dXJlSW5kZXg9cH1pZihzPGwpe2NvbnN0e3gxOnQseTE6bix4MjppLHkyOnIscGFkZGluZzpvLHByb2plY3RlZEFuY2hvclg6YSxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjp1LHRpbGVBbmNob3JYOmgsdGlsZUFuY2hvclk6ZCxmZWF0dXJlSW5kZXg6cH09ZS5nZXQocyk7Yy52ZXJ0aWNhbEljb25Cb3g9e3gxOnQseTE6bix4MjppLHkyOnIscGFkZGluZzpvLHByb2plY3RlZEFuY2hvclg6YSxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjp1LHRpbGVBbmNob3JYOmgsdGlsZUFuY2hvclk6ZH0sYy52ZXJ0aWNhbEljb25GZWF0dXJlSW5kZXg9cH1yZXR1cm4gY31kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKGUpe3RoaXMuY29sbGlzaW9uQXJyYXlzPVtdO2ZvcihsZXQgdD0wO3Q8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO3QrKyl7Y29uc3Qgbj10aGlzLnN5bWJvbEluc3RhbmNlcy5nZXQodCk7dGhpcy5jb2xsaXNpb25BcnJheXMucHVzaCh0aGlzLl9kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzRm9yU3ltYm9sKGUsbi50ZXh0Qm94U3RhcnRJbmRleCxuLnRleHRCb3hFbmRJbmRleCxuLnZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXgsbi52ZXJ0aWNhbFRleHRCb3hFbmRJbmRleCxuLmljb25Cb3hTdGFydEluZGV4LG4uaWNvbkJveEVuZEluZGV4LG4udmVydGljYWxJY29uQm94U3RhcnRJbmRleCxuLnZlcnRpY2FsSWNvbkJveEVuZEluZGV4KSl9fWhhc1RleHREYXRhKCl7cmV0dXJuIHRoaXMudGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1oYXNJY29uRGF0YSgpe3JldHVybiB0aGlzLmljb24uc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9aGFzRGVidWdEYXRhKCl7cmV0dXJuIHRoaXMudGV4dENvbGxpc2lvbkJveCYmdGhpcy5pY29uQ29sbGlzaW9uQm94fWhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCl7cmV0dXJuIHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMudGV4dENvbGxpc2lvbkJveC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpe3JldHVybiB0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmljb25Db2xsaXNpb25Cb3guc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjB9YWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbChlLHQpe2NvbnN0IG49ZS5wbGFjZWRTeW1ib2xBcnJheS5nZXQodCksaT1uLnZlcnRleFN0YXJ0SW5kZXgrNCpuLm51bUdseXBocztmb3IobGV0IHQ9bi52ZXJ0ZXhTdGFydEluZGV4O3Q8aTt0Kz00KWUuaW5kZXhBcnJheS5lbXBsYWNlQmFjayh0LHQrMSx0KzIpLGUuaW5kZXhBcnJheS5lbXBsYWNlQmFjayh0KzEsdCsyLHQrMyl9Z2V0U29ydGVkU3ltYm9sSW5kZXhlcyhlKXtpZih0aGlzLnNvcnRlZEFuZ2xlPT09ZSYmdm9pZCAwIT09dGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXMpcmV0dXJuIHRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzO2NvbnN0IHQ9TWF0aC5zaW4oZSksbj1NYXRoLmNvcyhlKSxpPVtdLHI9W10sbz1bXTtmb3IobGV0IGU9MDtlPHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDsrK2Upe28ucHVzaChlKTtjb25zdCBhPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChlKTtpLnB1c2goMHxNYXRoLnJvdW5kKHQqYS50aWxlQW5jaG9yWCtuKmEudGlsZUFuY2hvclkpKSxyLnB1c2goYS5mZWF0dXJlSW5kZXgpfXJldHVybiBvLnNvcnQoKGUsdCk9PmlbZV0taVt0XXx8clt0XS1yW2VdKSxvfWFkZFRvU29ydEtleVJhbmdlcyhlLHQpe2NvbnN0IG49dGhpcy5zb3J0S2V5UmFuZ2VzW3RoaXMuc29ydEtleVJhbmdlcy5sZW5ndGgtMV07biYmbi5zb3J0S2V5PT09dD9uLnN5bWJvbEluc3RhbmNlRW5kPWUrMTp0aGlzLnNvcnRLZXlSYW5nZXMucHVzaCh7c29ydEtleTp0LHN5bWJvbEluc3RhbmNlU3RhcnQ6ZSxzeW1ib2xJbnN0YW5jZUVuZDplKzF9KX1zb3J0RmVhdHVyZXMoZSl7aWYodGhpcy5zb3J0RmVhdHVyZXNCeVkmJnRoaXMuc29ydGVkQW5nbGUhPT1lJiYhKHRoaXMudGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MXx8dGhpcy5pY29uLnNlZ21lbnRzLmdldCgpLmxlbmd0aD4xKSl7dGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM9dGhpcy5nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKGUpLHRoaXMuc29ydGVkQW5nbGU9ZSx0aGlzLnRleHQuaW5kZXhBcnJheS5jbGVhcigpLHRoaXMuaWNvbi5pbmRleEFycmF5LmNsZWFyKCksdGhpcy5mZWF0dXJlU29ydE9yZGVyPVtdO2Zvcihjb25zdCBlIG9mIHRoaXMuc3ltYm9sSW5zdGFuY2VJbmRleGVzKXtjb25zdCB0PXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChlKTt0aGlzLmZlYXR1cmVTb3J0T3JkZXIucHVzaCh0LmZlYXR1cmVJbmRleCk7Y29uc3R7cmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6bixjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6aSxsZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OnIsdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6byxwbGFjZWRJY29uU3ltYm9sSW5kZXg6YSx2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleDpzfT10O24+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsbiksaT49MCYmaSE9PW4mJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsaSkscj49MCYmciE9PWkmJnIhPT1uJiZ0aGlzLmFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2wodGhpcy50ZXh0LHIpLG8+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsbyksYT49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMuaWNvbixhKSxzPj0wJiZ0aGlzLmFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2wodGhpcy5pY29uLHMpfXRoaXMudGV4dC5pbmRleEJ1ZmZlciYmdGhpcy50ZXh0LmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy50ZXh0LmluZGV4QXJyYXkpLHRoaXMuaWNvbi5pbmRleEJ1ZmZlciYmdGhpcy5pY29uLmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5pY29uLmluZGV4QXJyYXkpfX19enIocXAsXCJTeW1ib2xCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIixcImNvbGxpc2lvbkJveEFycmF5XCIsXCJmZWF0dXJlc1wiLFwiY29tcGFyZVRleHRcIl19KSxxcC5NQVhfR0xZUEhTPTY1NTM1LHFwLmFkZER5bmFtaWNBdHRyaWJ1dGVzPVZwO2NvbnN0ICRwPW5ldyBHbyh7XCJzeW1ib2wtcGxhY2VtZW50XCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJzeW1ib2wtcGxhY2VtZW50XCJdKSxcInN5bWJvbC1zcGFjaW5nXCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJzeW1ib2wtc3BhY2luZ1wiXSksXCJzeW1ib2wtYXZvaWQtZWRnZXNcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1hdm9pZC1lZGdlc1wiXSksXCJzeW1ib2wtc29ydC1rZXlcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1zb3J0LWtleVwiXSksXCJzeW1ib2wtei1vcmRlclwiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLXotb3JkZXJcIl0pLFwiaWNvbi1hbGxvdy1vdmVybGFwXCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJpY29uLWFsbG93LW92ZXJsYXBcIl0pLFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIl0pLFwiaWNvbi1vcHRpb25hbFwiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1vcHRpb25hbFwiXSksXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIl0pLFwiaWNvbi1zaXplXCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJpY29uLXNpemVcIl0pLFwiaWNvbi10ZXh0LWZpdFwiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi10ZXh0LWZpdFwiXSksXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcImljb24tdGV4dC1maXQtcGFkZGluZ1wiXSksXCJpY29uLWltYWdlXCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJpY29uLWltYWdlXCJdKSxcImljb24tcm90YXRlXCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJpY29uLXJvdGF0ZVwiXSksXCJpY29uLXBhZGRpbmdcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcImljb24tcGFkZGluZ1wiXSksXCJpY29uLWtlZXAtdXByaWdodFwiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1rZWVwLXVwcmlnaHRcIl0pLFwiaWNvbi1vZmZzZXRcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcImljb24tb2Zmc2V0XCJdKSxcImljb24tYW5jaG9yXCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJpY29uLWFuY2hvclwiXSksXCJpY29uLXBpdGNoLWFsaWdubWVudFwiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1waXRjaC1hbGlnbm1lbnRcIl0pLFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtcGl0Y2gtYWxpZ25tZW50XCJdKSxcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiXSksXCJ0ZXh0LWZpZWxkXCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWZpZWxkXCJdKSxcInRleHQtZm9udFwiOm5ldyBVbyhKZS5sYXlvdXRfc3ltYm9sW1widGV4dC1mb250XCJdKSxcInRleHQtc2l6ZVwiOm5ldyBVbyhKZS5sYXlvdXRfc3ltYm9sW1widGV4dC1zaXplXCJdKSxcInRleHQtbWF4LXdpZHRoXCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LW1heC13aWR0aFwiXSksXCJ0ZXh0LWxpbmUtaGVpZ2h0XCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWxpbmUtaGVpZ2h0XCJdKSxcInRleHQtbGV0dGVyLXNwYWNpbmdcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtbGV0dGVyLXNwYWNpbmdcIl0pLFwidGV4dC1qdXN0aWZ5XCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWp1c3RpZnlcIl0pLFwidGV4dC1yYWRpYWwtb2Zmc2V0XCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIl0pLFwidGV4dC12YXJpYWJsZS1hbmNob3JcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtdmFyaWFibGUtYW5jaG9yXCJdKSxcInRleHQtYW5jaG9yXCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWFuY2hvclwiXSksXCJ0ZXh0LW1heC1hbmdsZVwiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1widGV4dC1tYXgtYW5nbGVcIl0pLFwidGV4dC13cml0aW5nLW1vZGVcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtd3JpdGluZy1tb2RlXCJdKSxcInRleHQtcm90YXRlXCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJvdGF0ZVwiXSksXCJ0ZXh0LXBhZGRpbmdcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtcGFkZGluZ1wiXSksXCJ0ZXh0LWtlZXAtdXByaWdodFwiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1widGV4dC1rZWVwLXVwcmlnaHRcIl0pLFwidGV4dC10cmFuc2Zvcm1cIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtdHJhbnNmb3JtXCJdKSxcInRleHQtb2Zmc2V0XCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LW9mZnNldFwiXSksXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtYWxsb3ctb3ZlcmxhcFwiXSksXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtaWdub3JlLXBsYWNlbWVudFwiXSksXCJ0ZXh0LW9wdGlvbmFsXCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LW9wdGlvbmFsXCJdKX0pO3ZhciBIcD17cGFpbnQ6bmV3IEdvKHtcImljb24tb3BhY2l0eVwiOm5ldyBVbyhKZS5wYWludF9zeW1ib2xbXCJpY29uLW9wYWNpdHlcIl0pLFwiaWNvbi1jb2xvclwiOm5ldyBVbyhKZS5wYWludF9zeW1ib2xbXCJpY29uLWNvbG9yXCJdKSxcImljb24taGFsby1jb2xvclwiOm5ldyBVbyhKZS5wYWludF9zeW1ib2xbXCJpY29uLWhhbG8tY29sb3JcIl0pLFwiaWNvbi1oYWxvLXdpZHRoXCI6bmV3IFVvKEplLnBhaW50X3N5bWJvbFtcImljb24taGFsby13aWR0aFwiXSksXCJpY29uLWhhbG8tYmx1clwiOm5ldyBVbyhKZS5wYWludF9zeW1ib2xbXCJpY29uLWhhbG8tYmx1clwiXSksXCJpY29uLXRyYW5zbGF0ZVwiOm5ldyBObyhKZS5wYWludF9zeW1ib2xbXCJpY29uLXRyYW5zbGF0ZVwiXSksXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgTm8oSmUucGFpbnRfc3ltYm9sW1wiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCJdKSxcInRleHQtb3BhY2l0eVwiOm5ldyBVbyhKZS5wYWludF9zeW1ib2xbXCJ0ZXh0LW9wYWNpdHlcIl0pLFwidGV4dC1jb2xvclwiOm5ldyBVbyhKZS5wYWludF9zeW1ib2xbXCJ0ZXh0LWNvbG9yXCJdLHtydW50aW1lVHlwZTpjdCxnZXRPdmVycmlkZTplPT5lLnRleHRDb2xvcixoYXNPdmVycmlkZTplPT4hIWUudGV4dENvbG9yfSksXCJ0ZXh0LWhhbG8tY29sb3JcIjpuZXcgVW8oSmUucGFpbnRfc3ltYm9sW1widGV4dC1oYWxvLWNvbG9yXCJdKSxcInRleHQtaGFsby13aWR0aFwiOm5ldyBVbyhKZS5wYWludF9zeW1ib2xbXCJ0ZXh0LWhhbG8td2lkdGhcIl0pLFwidGV4dC1oYWxvLWJsdXJcIjpuZXcgVW8oSmUucGFpbnRfc3ltYm9sW1widGV4dC1oYWxvLWJsdXJcIl0pLFwidGV4dC10cmFuc2xhdGVcIjpuZXcgTm8oSmUucGFpbnRfc3ltYm9sW1widGV4dC10cmFuc2xhdGVcIl0pLFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IE5vKEplLnBhaW50X3N5bWJvbFtcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiXSl9KSxsYXlvdXQ6JHB9O2NsYXNzIFhwe2NvbnN0cnVjdG9yKGUpe3RoaXMudHlwZT1lLnByb3BlcnR5Lm92ZXJyaWRlcz9lLnByb3BlcnR5Lm92ZXJyaWRlcy5ydW50aW1lVHlwZTpvdCx0aGlzLmRlZmF1bHRWYWx1ZT1lfWV2YWx1YXRlKGUpe2lmKGUuZm9ybWF0dGVkU2VjdGlvbil7Y29uc3QgdD10aGlzLmRlZmF1bHRWYWx1ZS5wcm9wZXJ0eS5vdmVycmlkZXM7aWYodCYmdC5oYXNPdmVycmlkZShlLmZvcm1hdHRlZFNlY3Rpb24pKXJldHVybiB0LmdldE92ZXJyaWRlKGUuZm9ybWF0dGVkU2VjdGlvbil9cmV0dXJuIGUuZmVhdHVyZSYmZS5mZWF0dXJlU3RhdGU/dGhpcy5kZWZhdWx0VmFsdWUuZXZhbHVhdGUoZS5mZWF0dXJlLGUuZmVhdHVyZVN0YXRlKTp0aGlzLmRlZmF1bHRWYWx1ZS5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uLmRlZmF1bHR9ZWFjaENoaWxkKGUpe3RoaXMuZGVmYXVsdFZhbHVlLmlzQ29uc3RhbnQoKXx8ZSh0aGlzLmRlZmF1bHRWYWx1ZS52YWx1ZS5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb24pfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtyZXR1cm4gbnVsbH19enIoWHAsXCJGb3JtYXRTZWN0aW9uT3ZlcnJpZGVcIix7b21pdDpbXCJkZWZhdWx0VmFsdWVcIl19KTtjbGFzcyBZcCBleHRlbmRzIGNze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsSHApfXJlY2FsY3VsYXRlKGUsdCl7c3VwZXIucmVjYWxjdWxhdGUoZSx0KSxcImF1dG9cIj09PXRoaXMubGF5b3V0LmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1tcImljb24tcm90YXRpb24tYWxpZ25tZW50XCJdPVwicG9pbnRcIiE9PXRoaXMubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik/XCJtYXBcIjpcInZpZXdwb3J0XCIpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJih0aGlzLmxheW91dC5fdmFsdWVzW1widGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIl09XCJwb2ludFwiIT09dGhpcy5sYXlvdXQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKT9cIm1hcFwiOlwidmlld3BvcnRcIiksXCJhdXRvXCI9PT10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiXT10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSksXCJhdXRvXCI9PT10aGlzLmxheW91dC5nZXQoXCJpY29uLXBpdGNoLWFsaWdubWVudFwiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJpY29uLXBpdGNoLWFsaWdubWVudFwiXT10aGlzLmxheW91dC5nZXQoXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiKSk7Y29uc3Qgbj10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXdyaXRpbmctbW9kZVwiKTtpZihuKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIG4pZS5pbmRleE9mKHQpPDAmJmUucHVzaCh0KTt0aGlzLmxheW91dC5fdmFsdWVzW1widGV4dC13cml0aW5nLW1vZGVcIl09ZX1lbHNlIHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXdyaXRpbmctbW9kZVwiXT1cInBvaW50XCI9PT10aGlzLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpP1tcImhvcml6b250YWxcIl06W1wiaG9yaXpvbnRhbFwiLFwidmVydGljYWxcIl07dGhpcy5fc2V0UGFpbnRPdmVycmlkZXMoKX1nZXRWYWx1ZUFuZFJlc29sdmVUb2tlbnMoZSx0LG4saSl7Y29uc3Qgcj10aGlzLmxheW91dC5nZXQoZSkuZXZhbHVhdGUodCx7fSxuLGkpLG89dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuX3ZhbHVlc1tlXTtyZXR1cm4gby5pc0RhdGFEcml2ZW4oKXx8Rmkoby52YWx1ZSl8fCFyP3I6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yZXBsYWNlKC97KFtee31dKyl9L2csKHQsbik9Pm4gaW4gZT9TdHJpbmcoZVtuXSk6XCJcIil9KHQucHJvcGVydGllcyxyKX1jcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBxcChlKX1xdWVyeVJhZGl1cygpe3JldHVybiAwfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoKXtyZXR1cm4hMX1fc2V0UGFpbnRPdmVycmlkZXMoKXtmb3IoY29uc3QgZSBvZiBIcC5wYWludC5vdmVycmlkYWJsZVByb3BlcnRpZXMpe2lmKCFZcC5oYXNQYWludE92ZXJyaWRlKHRoaXMubGF5b3V0LGUpKWNvbnRpbnVlO2NvbnN0IHQ9dGhpcy5wYWludC5nZXQoZSksbj1uZXcgWHAodCksaT1uZXcgamkobix0LnByb3BlcnR5LnNwZWNpZmljYXRpb24pO2xldCByPW51bGw7cj1cImNvbnN0YW50XCI9PT10LnZhbHVlLmtpbmR8fFwic291cmNlXCI9PT10LnZhbHVlLmtpbmQ/bmV3IFVpKFwic291cmNlXCIsaSk6bmV3IFZpKFwiY29tcG9zaXRlXCIsaSx0LnZhbHVlLnpvb21TdG9wcyx0LnZhbHVlLl9pbnRlcnBvbGF0aW9uVHlwZSksdGhpcy5wYWludC5fdmFsdWVzW2VdPW5ldyBqbyh0LnByb3BlcnR5LHIsdC5wYXJhbWV0ZXJzKX19X2hhbmRsZU92ZXJyaWRhYmxlUGFpbnRQcm9wZXJ0eVVwZGF0ZShlLHQsbil7cmV0dXJuISghdGhpcy5sYXlvdXR8fHQuaXNEYXRhRHJpdmVuKCl8fG4uaXNEYXRhRHJpdmVuKCkpJiZZcC5oYXNQYWludE92ZXJyaWRlKHRoaXMubGF5b3V0LGUpfXN0YXRpYyBoYXNQYWludE92ZXJyaWRlKGUsdCl7Y29uc3Qgbj1lLmdldChcInRleHQtZmllbGRcIiksaT1IcC5wYWludC5wcm9wZXJ0aWVzW3RdO2xldCByPSExO2NvbnN0IG89ZT0+e2Zvcihjb25zdCB0IG9mIGUpaWYoaS5vdmVycmlkZXMmJmkub3ZlcnJpZGVzLmhhc092ZXJyaWRlKHQpKXJldHVybiB2b2lkKHI9ITApfTtpZihcImNvbnN0YW50XCI9PT1uLnZhbHVlLmtpbmQmJm4udmFsdWUudmFsdWUgaW5zdGFuY2VvZiBQdClvKG4udmFsdWUudmFsdWUuc2VjdGlvbnMpO2Vsc2UgaWYoXCJzb3VyY2VcIj09PW4udmFsdWUua2luZCl7Y29uc3QgZT10PT57cnx8KHQgaW5zdGFuY2VvZiBqdCYmT3QodC52YWx1ZSk9PT1wdD9vKHQudmFsdWUuc2VjdGlvbnMpOnQgaW5zdGFuY2VvZiBHdD9vKHQuc2VjdGlvbnMpOnQuZWFjaENoaWxkKGUpKX0sdD1uLnZhbHVlO3QuX3N0eWxlRXhwcmVzc2lvbiYmZSh0Ll9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbil9cmV0dXJuIHJ9Z2V0UHJvZ3JhbUNvbmZpZ3VyYXRpb24oZSl7cmV0dXJuIG5ldyB0cyh0aGlzLGUpfX12YXIgSnA9e3BhaW50Om5ldyBHbyh7XCJiYWNrZ3JvdW5kLWNvbG9yXCI6bmV3IE5vKEplLnBhaW50X2JhY2tncm91bmRbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdKSxcImJhY2tncm91bmQtcGF0dGVyblwiOm5ldyBObyhKZS5wYWludF9iYWNrZ3JvdW5kW1wiYmFja2dyb3VuZC1wYXR0ZXJuXCJdKSxcImJhY2tncm91bmQtb3BhY2l0eVwiOm5ldyBObyhKZS5wYWludF9iYWNrZ3JvdW5kW1wiYmFja2dyb3VuZC1vcGFjaXR5XCJdKX0pfSxRcD17cGFpbnQ6bmV3IEdvKHtcInJhc3Rlci1vcGFjaXR5XCI6bmV3IE5vKEplLnBhaW50X3Jhc3RlcltcInJhc3Rlci1vcGFjaXR5XCJdKSxcInJhc3Rlci1odWUtcm90YXRlXCI6bmV3IE5vKEplLnBhaW50X3Jhc3RlcltcInJhc3Rlci1odWUtcm90YXRlXCJdKSxcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiOm5ldyBObyhKZS5wYWludF9yYXN0ZXJbXCJyYXN0ZXItYnJpZ2h0bmVzcy1taW5cIl0pLFwicmFzdGVyLWJyaWdodG5lc3MtbWF4XCI6bmV3IE5vKEplLnBhaW50X3Jhc3RlcltcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiXSksXCJyYXN0ZXItc2F0dXJhdGlvblwiOm5ldyBObyhKZS5wYWludF9yYXN0ZXJbXCJyYXN0ZXItc2F0dXJhdGlvblwiXSksXCJyYXN0ZXItY29udHJhc3RcIjpuZXcgTm8oSmUucGFpbnRfcmFzdGVyW1wicmFzdGVyLWNvbnRyYXN0XCJdKSxcInJhc3Rlci1yZXNhbXBsaW5nXCI6bmV3IE5vKEplLnBhaW50X3Jhc3RlcltcInJhc3Rlci1yZXNhbXBsaW5nXCJdKSxcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCI6bmV3IE5vKEplLnBhaW50X3Jhc3RlcltcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCJdKX0pfTtjbGFzcyBLcCBleHRlbmRzIGNze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUse30pLHRoaXMuaW1wbGVtZW50YXRpb249ZX1pczNEKCl7cmV0dXJuXCIzZFwiPT09dGhpcy5pbXBsZW1lbnRhdGlvbi5yZW5kZXJpbmdNb2RlfWhhc09mZnNjcmVlblBhc3MoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5pbXBsZW1lbnRhdGlvbi5wcmVyZW5kZXJ9cmVjYWxjdWxhdGUoKXt9dXBkYXRlVHJhbnNpdGlvbnMoKXt9aGFzVHJhbnNpdGlvbigpe3JldHVybiExfXNlcmlhbGl6ZSgpe31vbkFkZChlKXt0aGlzLmltcGxlbWVudGF0aW9uLm9uQWRkJiZ0aGlzLmltcGxlbWVudGF0aW9uLm9uQWRkKGUsZS5wYWludGVyLmNvbnRleHQuZ2wpfW9uUmVtb3ZlKGUpe3RoaXMuaW1wbGVtZW50YXRpb24ub25SZW1vdmUmJnRoaXMuaW1wbGVtZW50YXRpb24ub25SZW1vdmUoZSxlLnBhaW50ZXIuY29udGV4dC5nbCl9fXZhciBlZj17cGFpbnQ6bmV3IEdvKHtcInNreS10eXBlXCI6bmV3IE5vKEplLnBhaW50X3NreVtcInNreS10eXBlXCJdKSxcInNreS1hdG1vc3BoZXJlLXN1blwiOm5ldyBObyhKZS5wYWludF9za3lbXCJza3ktYXRtb3NwaGVyZS1zdW5cIl0pLFwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiOm5ldyBObyhKZS5wYWludF9za3lbXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCJdKSxcInNreS1ncmFkaWVudC1jZW50ZXJcIjpuZXcgTm8oSmUucGFpbnRfc2t5W1wic2t5LWdyYWRpZW50LWNlbnRlclwiXSksXCJza3ktZ3JhZGllbnQtcmFkaXVzXCI6bmV3IE5vKEplLnBhaW50X3NreVtcInNreS1ncmFkaWVudC1yYWRpdXNcIl0pLFwic2t5LWdyYWRpZW50XCI6bmV3IFZvKEplLnBhaW50X3NreVtcInNreS1ncmFkaWVudFwiXSksXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCI6bmV3IE5vKEplLnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIl0pLFwic2t5LWF0bW9zcGhlcmUtY29sb3JcIjpuZXcgTm8oSmUucGFpbnRfc2t5W1wic2t5LWF0bW9zcGhlcmUtY29sb3JcIl0pLFwic2t5LW9wYWNpdHlcIjpuZXcgTm8oSmUucGFpbnRfc2t5W1wic2t5LW9wYWNpdHlcIl0pfSl9O2Z1bmN0aW9uIHRmKGUsdCxuKXtjb25zdCBpPVswLDAsMV0scj1WbChbXSk7cmV0dXJuIFpsKHIscixuPy12KGUpK01hdGguUEk6dihlKSksR2wocixyLC12KHQpKSxEbChpLGksciksa2woaSxpKX1jb25zdCBuZj17Y2lyY2xlOmNsYXNzIGV4dGVuZHMgY3N7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxpbCl9Y3JlYXRlQnVja2V0KGUpe3JldHVybiBuZXcgRnMoZSl9cXVlcnlSYWRpdXMoZSl7Y29uc3QgdD1lO3JldHVybiBRcyhcImNpcmNsZS1yYWRpdXNcIix0aGlzLHQpK1FzKFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiLHRoaXMsdCkrS3ModGhpcy5wYWludC5nZXQoXCJjaXJjbGUtdHJhbnNsYXRlXCIpKX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKGUsdCxuLGkscixvLGEscyl7Y29uc3QgbD10bCh0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGVcIiksdGhpcy5wYWludC5nZXQoXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiKSxvLmFuZ2xlLGUucGl4ZWxUb1RpbGVVbml0c0ZhY3RvciksYz10aGlzLnBhaW50LmdldChcImNpcmNsZS1yYWRpdXNcIikuZXZhbHVhdGUodCxuKSt0aGlzLnBhaW50LmdldChcImNpcmNsZS1zdHJva2Utd2lkdGhcIikuZXZhbHVhdGUodCxuKTtyZXR1cm4gWWwoZSxpLG8sYSxzLFwibWFwXCI9PT10aGlzLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIiksXCJtYXBcIj09PXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLXNjYWxlXCIpLGwsYyl9Z2V0UHJvZ3JhbUlkcygpe3JldHVybltcImNpcmNsZVwiXX1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihlKXtyZXR1cm4gbmV3IHRzKHRoaXMsZSl9fSxoZWF0bWFwOmNsYXNzIGV4dGVuZHMgY3N7Y3JlYXRlQnVja2V0KGUpe3JldHVybiBuZXcgdGMoZSl9Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxzYyksdGhpcy5fdXBkYXRlQ29sb3JSYW1wKCl9X2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKGUpe1wiaGVhdG1hcC1jb2xvclwiPT09ZSYmdGhpcy5fdXBkYXRlQ29sb3JSYW1wKCl9X3VwZGF0ZUNvbG9yUmFtcCgpe3RoaXMuY29sb3JSYW1wPWxjKHtleHByZXNzaW9uOnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcImhlYXRtYXAtY29sb3JcIl0udmFsdWUuZXhwcmVzc2lvbixldmFsdWF0aW9uS2V5OlwiaGVhdG1hcERlbnNpdHlcIixpbWFnZTp0aGlzLmNvbG9yUmFtcH0pLHRoaXMuY29sb3JSYW1wVGV4dHVyZT1udWxsfXJlc2l6ZSgpe3RoaXMuaGVhdG1hcEZibyYmKHRoaXMuaGVhdG1hcEZiby5kZXN0cm95KCksdGhpcy5oZWF0bWFwRmJvPW51bGwpfXF1ZXJ5UmFkaXVzKGUpe3JldHVybiBRcyhcImhlYXRtYXAtcmFkaXVzXCIsdGhpcyxlKX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKGUsdCxuLGkscixvLGEscyl7Y29uc3QgbD10aGlzLnBhaW50LmdldChcImhlYXRtYXAtcmFkaXVzXCIpLmV2YWx1YXRlKHQsbik7cmV0dXJuIFlsKGUsaSxvLGEscywhMCwhMCxuZXcgbSgwLDApLGwpfWhhc09mZnNjcmVlblBhc3MoKXtyZXR1cm4gMCE9PXRoaXMucGFpbnQuZ2V0KFwiaGVhdG1hcC1vcGFjaXR5XCIpJiZcIm5vbmVcIiE9PXRoaXMudmlzaWJpbGl0eX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuW1wiaGVhdG1hcFwiLFwiaGVhdG1hcFRleHR1cmVcIl19Z2V0UHJvZ3JhbUNvbmZpZ3VyYXRpb24oZSl7cmV0dXJuIG5ldyB0cyh0aGlzLGUpfX0saGlsbHNoYWRlOmNsYXNzIGV4dGVuZHMgY3N7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxjYyl9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiAwIT09dGhpcy5wYWludC5nZXQoXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCIpJiZcIm5vbmVcIiE9PXRoaXMudmlzaWJpbGl0eX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuW1wiaGlsbHNoYWRlXCIsXCJoaWxsc2hhZGVQcmVwYXJlXCJdfX0sZmlsbDpjbGFzcyBleHRlbmRzIGNze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsSGMpfWdldFByb2dyYW1JZHMoKXtjb25zdCBlPXRoaXMucGFpbnQuZ2V0KFwiZmlsbC1wYXR0ZXJuXCIpLHQ9ZSYmZS5jb25zdGFudE9yKDEpLG49W3Q/XCJmaWxsUGF0dGVyblwiOlwiZmlsbFwiXTtyZXR1cm4gdGhpcy5wYWludC5nZXQoXCJmaWxsLWFudGlhbGlhc1wiKSYmbi5wdXNoKHQmJiF0aGlzLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/XCJmaWxsT3V0bGluZVBhdHRlcm5cIjpcImZpbGxPdXRsaW5lXCIpLG59Z2V0UHJvZ3JhbUNvbmZpZ3VyYXRpb24oZSl7cmV0dXJuIG5ldyB0cyh0aGlzLGUpfXJlY2FsY3VsYXRlKGUsdCl7c3VwZXIucmVjYWxjdWxhdGUoZSx0KTtjb25zdCBuPXRoaXMucGFpbnQuX3ZhbHVlc1tcImZpbGwtb3V0bGluZS1jb2xvclwiXTtcImNvbnN0YW50XCI9PT1uLnZhbHVlLmtpbmQmJnZvaWQgMD09PW4udmFsdWUudmFsdWUmJih0aGlzLnBhaW50Ll92YWx1ZXNbXCJmaWxsLW91dGxpbmUtY29sb3JcIl09dGhpcy5wYWludC5fdmFsdWVzW1wiZmlsbC1jb2xvclwiXSl9Y3JlYXRlQnVja2V0KGUpe3JldHVybiBuZXcgcWMoZSl9cXVlcnlSYWRpdXMoKXtyZXR1cm4gS3ModGhpcy5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZVwiKSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZShlLHQsbixpLHIsbyl7cmV0dXJuIWUucXVlcnlHZW9tZXRyeS5pc0Fib3ZlSG9yaXpvbiYmVnMoZWwoZS50aWxlc3BhY2VHZW9tZXRyeSx0aGlzLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlXCIpLHRoaXMucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCIpLG8uYW5nbGUsZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSxpKX1pc1RpbGVDbGlwcGVkKCl7cmV0dXJuITB9fSxcImZpbGwtZXh0cnVzaW9uXCI6Y2xhc3MgZXh0ZW5kcyBjc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlLGt1KX1jcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyB2dShlKX1xdWVyeVJhZGl1cygpe3JldHVybiBLcyh0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiKSl9aXMzRCgpe3JldHVybiEwfWdldFByb2dyYW1JZHMoKXtyZXR1cm5bdGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCIpLmNvbnN0YW50T3IoMSk/XCJmaWxsRXh0cnVzaW9uUGF0dGVyblwiOlwiZmlsbEV4dHJ1c2lvblwiXX1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihlKXtyZXR1cm4gbmV3IHRzKHRoaXMsZSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZShlLHQsbixpLHIsbyxhLHMsbCl7Y29uc3QgYz10bCh0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIiksby5hbmdsZSxlLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpLHU9dGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIikuZXZhbHVhdGUodCxuKSxoPXRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYmFzZVwiKS5ldmFsdWF0ZSh0LG4pLGQ9WzAsMF0scD1zJiZvLmVsZXZhdGlvbixmPW8uZWxldmF0aW9uP28uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpOjEsZz1lLnRpbGUuZ2V0QnVja2V0KHRoaXMpO2lmKHAmJmcgaW5zdGFuY2VvZiB2dSl7Y29uc3QgZT1nLmNlbnRyb2lkVmVydGV4QXJyYXksdD1sKzE7dDxlLmxlbmd0aCYmKGRbMF09ZS5nZXRhX2NlbnRyb2lkX3BvczAodCksZFsxXT1lLmdldGFfY2VudHJvaWRfcG9zMSh0KSl9aWYoMD09PWRbMF0mJjE9PT1kWzFdKXJldHVybiExO1wiZ2xvYmVcIj09PW8ucHJvamVjdGlvbi5uYW1lJiYoaT1JdShbaV0sW25ldyBtKDAsMCksbmV3IG0ocHMscHMpXSxlLnRpbGVJRC5jYW5vbmljYWwpLm1hcChlPT5lLnBvbHlnb24pLmZsYXQoKSk7Y29uc3QgeT1wP3M6bnVsbCxbXyx2XT1mdW5jdGlvbihlLHQsbixpLHIsbyxhLHMsbCxjLHUpe3JldHVyblwiZ2xvYmVcIj09PWUucHJvamVjdGlvbi5uYW1lP2Z1bmN0aW9uKGUsdCxuLGkscixvLGEscyxsLGMsdSl7Y29uc3QgaD1bXSxkPVtdLHA9ZS5wcm9qZWN0aW9uLnVwVmVjdG9yU2NhbGUodSxlLmNlbnRlci5sYXQsZS53b3JsZFNpemUpLm1ldGVyc1RvVGlsZSxmPVswLDAsMCwxXSxtPVswLDAsMCwxXSxnPShlLHQsbixpKT0+e2VbMF09dCxlWzFdPW4sZVsyXT1pLGVbM109MX0seT1NdSgpO24+MCYmKG4rPXkpLGkrPXk7Zm9yKGNvbnN0IHkgb2YgdCl7Y29uc3QgdD1bXSxfPVtdO2Zvcihjb25zdCBoIG9mIHkpe2NvbnN0IGQ9aC54K3IueCx5PWgueStyLnksdj1lLnByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludChkLHksdSkseD1lLnByb2plY3Rpb24udXBWZWN0b3IodSxoLngsaC55KTtsZXQgYj1uLHc9aTtpZihhKXtjb25zdCBlPWp1KGQseSxuLGksYSxzLGwsYyk7Yis9ZS5iYXNlLHcrPWUudG9wfTAhPT1uP2coZix2LngreFswXSpwKmIsdi55K3hbMV0qcCpiLHYueit4WzJdKnAqYik6ZyhmLHYueCx2Lnksdi56KSxnKG0sdi54K3hbMF0qcCp3LHYueSt4WzFdKnAqdyx2LnoreFsyXSpwKncpLHpsKGYsZixvKSx6bChtLG0sbyksdC5wdXNoKG5ldyBPdShmWzBdLGZbMV0sZlsyXSkpLF8ucHVzaChuZXcgT3UobVswXSxtWzFdLG1bMl0pKX1oLnB1c2godCksZC5wdXNoKF8pfXJldHVybltoLGRdfShlLHQsbixpLHIsbyxhLHMsbCxjLHUpOmE/ZnVuY3Rpb24oZSx0LG4saSxyLG8sYSxzLGwpe2NvbnN0IGM9W10sdT1bXSxoPVswLDAsMCwxXTtmb3IoY29uc3QgZCBvZiBlKXtjb25zdCBlPVtdLHA9W107Zm9yKGNvbnN0IGMgb2YgZCl7Y29uc3QgdT1jLngraS54LGQ9Yy55K2kueSxmPWp1KHUsZCx0LG4sbyxhLHMsbCk7aFswXT11LGhbMV09ZCxoWzJdPWYuYmFzZSxoWzNdPTEsTmwoaCxoLHIpLGhbM109TWF0aC5tYXgoaFszXSwxZS01KTtjb25zdCBtPW5ldyBPdShoWzBdL2hbM10saFsxXS9oWzNdLGhbMl0vaFszXSk7aFswXT11LGhbMV09ZCxoWzJdPWYudG9wLGhbM109MSxObChoLGgsciksaFszXT1NYXRoLm1heChoWzNdLDFlLTUpO2NvbnN0IGc9bmV3IE91KGhbMF0vaFszXSxoWzFdL2hbM10saFsyXS9oWzNdKTtlLnB1c2gobSkscC5wdXNoKGcpfWMucHVzaChlKSx1LnB1c2gocCl9cmV0dXJuW2MsdV19KHQsbixpLHIsbyxhLHMsbCxjKTpmdW5jdGlvbihlLHQsbixpLHIpe2NvbnN0IG89W10sYT1bXSxzPXJbOF0qdCxsPXJbOV0qdCxjPXJbMTBdKnQsdT1yWzExXSp0LGg9cls4XSpuLGQ9cls5XSpuLHA9clsxMF0qbixmPXJbMTFdKm47Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1bXSxuPVtdO2Zvcihjb25zdCBvIG9mIHQpe2NvbnN0IHQ9by54K2kueCxhPW8ueStpLnksbT1yWzBdKnQrcls0XSphK3JbMTJdLGc9clsxXSp0K3JbNV0qYStyWzEzXSx5PXJbMl0qdCtyWzZdKmErclsxNF0sXz1yWzNdKnQrcls3XSphK3JbMTVdLHY9bStzLHg9ZytsLGI9eStjLHc9TWF0aC5tYXgoXyt1LDFlLTUpLFQ9bStoLEU9ZytkLFM9eStwLE09TWF0aC5tYXgoXytmLDFlLTUpO2UucHVzaChuZXcgT3Uodi93LHgvdyxiL3cpKSxuLnB1c2gobmV3IE91KFQvTSxFL00sUy9NKSl9by5wdXNoKGUpLGEucHVzaChuKX1yZXR1cm5bbyxhXX0odCxuLGkscixvKX0obyxpLGgsdSxjLGEseSxkLGYsby5jZW50ZXIubGF0LGUudGlsZUlELmNhbm9uaWNhbCkseD1lLnF1ZXJ5R2VvbWV0cnk7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtsZXQgaT0xLzA7VnMobix0KSYmKGk9QnUobix0WzBdKSk7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG89dFtyXSxhPWVbcl07Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aC0xO2UrKyl7Y29uc3QgdD1vW2VdLHI9W3Qsb1tlKzFdLGFbZSsxXSxhW2VdLHRdO05zKG4scikmJihpPU1hdGgubWluKGksQnUobixyKSkpfX1yZXR1cm4gaSE9PTEvMCYmaX0oXyx2LHguaXNQb2ludFF1ZXJ5KCk/eC5zY3JlZW5Cb3VuZHM6eC5zY3JlZW5HZW9tZXRyeSl9fSxsaW5lOmNsYXNzIGV4dGVuZHMgY3N7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSwkdSksdGhpcy5ncmFkaWVudFZlcnNpb249MH1faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUoZSl7aWYoXCJsaW5lLWdyYWRpZW50XCI9PT1lKXtjb25zdCBlPXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcImxpbmUtZ3JhZGllbnRcIl0udmFsdWUuZXhwcmVzc2lvbjt0aGlzLnN0ZXBJbnRlcnBvbGFudD1lLl9zdHlsZUV4cHJlc3Npb24mJmUuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uIGluc3RhbmNlb2YgSW4sdGhpcy5ncmFkaWVudFZlcnNpb249KHRoaXMuZ3JhZGllbnRWZXJzaW9uKzEpJU51bWJlci5NQVhfU0FGRV9JTlRFR0VSfX1ncmFkaWVudEV4cHJlc3Npb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wibGluZS1ncmFkaWVudFwiXS52YWx1ZS5leHByZXNzaW9ufXJlY2FsY3VsYXRlKGUsdCl7c3VwZXIucmVjYWxjdWxhdGUoZSx0KSx0aGlzLnBhaW50Ll92YWx1ZXNbXCJsaW5lLWZsb29yd2lkdGhcIl09SHUucG9zc2libHlFdmFsdWF0ZSh0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQuX3ZhbHVlc1tcImxpbmUtd2lkdGhcIl0udmFsdWUsZSl9Y3JlYXRlQnVja2V0KGUpe3JldHVybiBuZXcgV3UoZSl9Z2V0UHJvZ3JhbUlkcygpe3JldHVyblt0aGlzLnBhaW50LmdldChcImxpbmUtcGF0dGVyblwiKS5jb25zdGFudE9yKDEpP1wibGluZVBhdHRlcm5cIjpcImxpbmVcIl19Z2V0UHJvZ3JhbUNvbmZpZ3VyYXRpb24oZSl7cmV0dXJuIG5ldyB0cyh0aGlzLGUpfXF1ZXJ5UmFkaXVzKGUpe2NvbnN0IHQ9ZSxuPVh1KFFzKFwibGluZS13aWR0aFwiLHRoaXMsdCksUXMoXCJsaW5lLWdhcC13aWR0aFwiLHRoaXMsdCkpLGk9UXMoXCJsaW5lLW9mZnNldFwiLHRoaXMsdCk7cmV0dXJuIG4vMitNYXRoLmFicyhpKStLcyh0aGlzLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlXCIpKX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKGUsdCxuLGkscixvKXtpZihlLnF1ZXJ5R2VvbWV0cnkuaXNBYm92ZUhvcml6b24pcmV0dXJuITE7Y29uc3QgYT1lbChlLnRpbGVzcGFjZUdlb21ldHJ5LHRoaXMucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGVcIiksdGhpcy5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIiksby5hbmdsZSxlLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpLHM9ZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yLzIqWHUodGhpcy5wYWludC5nZXQoXCJsaW5lLXdpZHRoXCIpLmV2YWx1YXRlKHQsbiksdGhpcy5wYWludC5nZXQoXCJsaW5lLWdhcC13aWR0aFwiKS5ldmFsdWF0ZSh0LG4pKSxsPXRoaXMucGFpbnQuZ2V0KFwibGluZS1vZmZzZXRcIikuZXZhbHVhdGUodCxuKTtyZXR1cm4gbCYmKGk9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPVtdLGk9bmV3IG0oMCwwKTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl7Y29uc3Qgbz1lW3JdLGE9W107Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKyspe2NvbnN0IG49b1tlLTFdLHI9b1tlXSxzPW9bZSsxXSxsPTA9PT1lP2k6ci5zdWIobikuX3VuaXQoKS5fcGVycCgpLGM9ZT09PW8ubGVuZ3RoLTE/aTpzLnN1YihyKS5fdW5pdCgpLl9wZXJwKCksdT1sLl9hZGQoYykuX3VuaXQoKTt1Ll9tdWx0KDEvKHUueCpjLngrdS55KmMueSkpLGEucHVzaCh1Ll9tdWx0KHQpLl9hZGQocikpfW4ucHVzaChhKX1yZXR1cm4gbn0oaSxsKmUucGl4ZWxUb1RpbGVVbml0c0ZhY3RvcikpLGZ1bmN0aW9uKGUsdCxuKXtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcj10W2ldO2lmKGUubGVuZ3RoPj0zKWZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKWlmKFhzKGUsclt0XSkpcmV0dXJuITA7aWYoR3MoZSxyLG4pKXJldHVybiEwfXJldHVybiExfShhLGkscyl9aXNUaWxlQ2xpcHBlZCgpe3JldHVybiEwfX0sc3ltYm9sOllwLGJhY2tncm91bmQ6Y2xhc3MgZXh0ZW5kcyBjc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlLEpwKX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuW3RoaXMucGFpbnQuZ2V0KFwiYmFja2dyb3VuZC1wYXR0ZXJuXCIpP1wiYmFja2dyb3VuZFBhdHRlcm5cIjpcImJhY2tncm91bmRcIl19fSxyYXN0ZXI6Y2xhc3MgZXh0ZW5kcyBjc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlLFFwKX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuW1wicmFzdGVyXCJdfX0sc2t5OmNsYXNzIGV4dGVuZHMgY3N7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxlZiksdGhpcy5fdXBkYXRlQ29sb3JSYW1wKCl9X2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKGUpe1wic2t5LWdyYWRpZW50XCI9PT1lP3RoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpOlwic2t5LWF0bW9zcGhlcmUtc3VuXCIhPT1lJiZcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIiE9PWUmJlwic2t5LWF0bW9zcGhlcmUtY29sb3JcIiE9PWUmJlwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiIT09ZXx8KHRoaXMuX3NreWJveEludmFsaWRhdGVkPSEwKX1fdXBkYXRlQ29sb3JSYW1wKCl7dGhpcy5jb2xvclJhbXA9bGMoe2V4cHJlc3Npb246dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wic2t5LWdyYWRpZW50XCJdLnZhbHVlLmV4cHJlc3Npb24sZXZhbHVhdGlvbktleTpcInNreVJhZGlhbFByb2dyZXNzXCJ9KSx0aGlzLmNvbG9yUmFtcFRleHR1cmUmJih0aGlzLmNvbG9yUmFtcFRleHR1cmUuZGVzdHJveSgpLHRoaXMuY29sb3JSYW1wVGV4dHVyZT1udWxsKX1uZWVkc1NreWJveENhcHR1cmUoZSl7aWYodGhpcy5fc2t5Ym94SW52YWxpZGF0ZWR8fCF0aGlzLnNreWJveFRleHR1cmV8fCF0aGlzLnNreWJveEdlb21ldHJ5KXJldHVybiEwO2lmKCF0aGlzLnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLXN1blwiKSl7Y29uc3QgdD1lLnN0eWxlLmxpZ2h0LnByb3BlcnRpZXMuZ2V0KFwicG9zaXRpb25cIik7cmV0dXJuIHRoaXMuX2xpZ2h0UG9zaXRpb24uYXppbXV0aGFsIT09dC5hemltdXRoYWx8fHRoaXMuX2xpZ2h0UG9zaXRpb24ucG9sYXIhPT10LnBvbGFyfXJldHVybiExfWdldENlbnRlcihlLHQpe2lmKFwiYXRtb3NwaGVyZVwiPT09dGhpcy5wYWludC5nZXQoXCJza3ktdHlwZVwiKSl7Y29uc3Qgbj10aGlzLnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLXN1blwiKSxpPSFuLHI9ZS5zdHlsZS5saWdodCxvPXIucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKTtyZXR1cm4gaSYmXCJ2aWV3cG9ydFwiPT09ci5wcm9wZXJ0aWVzLmdldChcImFuY2hvclwiKSYmVihcIlRoZSBzdW4gZGlyZWN0aW9uIGlzIGF0dGFjaGVkIHRvIGEgbGlnaHQgd2l0aCB2aWV3cG9ydCBhbmNob3IsIGxpZ2h0aW5nIG1heSBiZWhhdmUgdW5leHBlY3RlZGx5LlwiKSxpP3RmKG8uYXppbXV0aGFsLDkwLW8ucG9sYXIsdCk6dGYoblswXSw5MC1uWzFdLHQpfWNvbnN0IG49dGhpcy5wYWludC5nZXQoXCJza3ktZ3JhZGllbnQtY2VudGVyXCIpO3JldHVybiB0ZihuWzBdLDkwLW5bMV0sdCl9aXMzRCgpe3JldHVybiExfWlzU2t5KCl7cmV0dXJuITB9bWFya1NreWJveFZhbGlkKGUpe3RoaXMuX3NreWJveEludmFsaWRhdGVkPSExLHRoaXMuX2xpZ2h0UG9zaXRpb249ZS5zdHlsZS5saWdodC5wcm9wZXJ0aWVzLmdldChcInBvc2l0aW9uXCIpfWhhc09mZnNjcmVlblBhc3MoKXtyZXR1cm4hMH1nZXRQcm9ncmFtSWRzKCl7Y29uc3QgZT10aGlzLnBhaW50LmdldChcInNreS10eXBlXCIpO3JldHVyblwiYXRtb3NwaGVyZVwiPT09ZT9bXCJza3lib3hDYXB0dXJlXCIsXCJza3lib3hcIl06XCJncmFkaWVudFwiPT09ZT9bXCJza3lib3hHcmFkaWVudFwiXTpudWxsfX19O2NsYXNzIHJme2NvbnN0cnVjdG9yKGUsdCxuLGkpe3RoaXMuY29udGV4dD1lLHRoaXMuZm9ybWF0PW4sdGhpcy50ZXh0dXJlPWUuZ2wuY3JlYXRlVGV4dHVyZSgpLHRoaXMudXBkYXRlKHQsaSl9dXBkYXRlKGUsdCxpKXtjb25zdHt3aWR0aDpyLGhlaWdodDpvfT1lLHtjb250ZXh0OmF9PXRoaXMse2dsOnN9PWEse0hUTUxJbWFnZUVsZW1lbnQ6bCxIVE1MQ2FudmFzRWxlbWVudDpjLEhUTUxWaWRlb0VsZW1lbnQ6dSxJbWFnZURhdGE6aCxJbWFnZUJpdG1hcDpkfT1uO2lmKHMuYmluZFRleHR1cmUocy5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksYS5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0KCExKSxhLnBpeGVsU3RvcmVVbnBhY2suc2V0KDEpLGEucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0KHRoaXMuZm9ybWF0PT09cy5SR0JBJiYoIXR8fCExIT09dC5wcmVtdWx0aXBseSkpLGl8fHRoaXMuc2l6ZSYmdGhpcy5zaXplWzBdPT09ciYmdGhpcy5zaXplWzFdPT09byl7Y29uc3R7eDp0LHk6bn09aXx8e3g6MCx5OjB9O2UgaW5zdGFuY2VvZiBsfHxlIGluc3RhbmNlb2YgY3x8ZSBpbnN0YW5jZW9mIHV8fGUgaW5zdGFuY2VvZiBofHxkJiZlIGluc3RhbmNlb2YgZD9zLnRleFN1YkltYWdlMkQocy5URVhUVVJFXzJELDAsdCxuLHMuUkdCQSxzLlVOU0lHTkVEX0JZVEUsZSk6cy50ZXhTdWJJbWFnZTJEKHMuVEVYVFVSRV8yRCwwLHQsbixyLG8scy5SR0JBLHMuVU5TSUdORURfQllURSxlLmRhdGEpfWVsc2UgdGhpcy5zaXplPVtyLG9dLGUgaW5zdGFuY2VvZiBsfHxlIGluc3RhbmNlb2YgY3x8ZSBpbnN0YW5jZW9mIHV8fGUgaW5zdGFuY2VvZiBofHxkJiZlIGluc3RhbmNlb2YgZD9zLnRleEltYWdlMkQocy5URVhUVVJFXzJELDAsdGhpcy5mb3JtYXQsdGhpcy5mb3JtYXQscy5VTlNJR05FRF9CWVRFLGUpOnMudGV4SW1hZ2UyRChzLlRFWFRVUkVfMkQsMCx0aGlzLmZvcm1hdCxyLG8sMCx0aGlzLmZvcm1hdCxzLlVOU0lHTkVEX0JZVEUsZS5kYXRhKTt0aGlzLnVzZU1pcG1hcD1Cb29sZWFuKHQmJnQudXNlTWlwbWFwJiZ0aGlzLmlzU2l6ZVBvd2VyT2ZUd28oKSksdGhpcy51c2VNaXBtYXAmJnMuZ2VuZXJhdGVNaXBtYXAocy5URVhUVVJFXzJEKX1iaW5kKGUsdCl7Y29uc3R7Y29udGV4dDpufT10aGlzLHtnbDppfT1uO2kuYmluZFRleHR1cmUoaS5URVhUVVJFXzJELHRoaXMudGV4dHVyZSksZSE9PXRoaXMuZmlsdGVyJiYoaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfTUFHX0ZJTFRFUixlKSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9NSU5fRklMVEVSLHRoaXMudXNlTWlwbWFwP2U9PT1pLk5FQVJFU1Q/aS5ORUFSRVNUX01JUE1BUF9ORUFSRVNUOmkuTElORUFSX01JUE1BUF9ORUFSRVNUOmUpLHRoaXMuZmlsdGVyPWUpLHQhPT10aGlzLndyYXAmJihpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9XUkFQX1MsdCksaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfV1JBUF9ULHQpLHRoaXMud3JhcD10KX1pc1NpemVQb3dlck9mVHdvKCl7cmV0dXJuIHRoaXMuc2l6ZVswXT09PXRoaXMuc2l6ZVsxXSYmTWF0aC5sb2codGhpcy5zaXplWzBdKS9NYXRoLkxOMiUxPT0wfWRlc3Ryb3koKXtjb25zdHtnbDplfT10aGlzLmNvbnRleHQ7ZS5kZWxldGVUZXh0dXJlKHRoaXMudGV4dHVyZSksdGhpcy50ZXh0dXJlPW51bGx9fWNsYXNzIG9me2NvbnN0cnVjdG9yKGUpe3RoaXMuX2NhbGxiYWNrPWUsdGhpcy5fdHJpZ2dlcmVkPSExLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBNZXNzYWdlQ2hhbm5lbCYmKHRoaXMuX2NoYW5uZWw9bmV3IE1lc3NhZ2VDaGFubmVsLHRoaXMuX2NoYW5uZWwucG9ydDIub25tZXNzYWdlPSgpPT57dGhpcy5fdHJpZ2dlcmVkPSExLHRoaXMuX2NhbGxiYWNrKCl9KX10cmlnZ2VyKCl7dGhpcy5fdHJpZ2dlcmVkfHwodGhpcy5fdHJpZ2dlcmVkPSEwLHRoaXMuX2NoYW5uZWw/dGhpcy5fY2hhbm5lbC5wb3J0MS5wb3N0TWVzc2FnZSghMCk6c2V0VGltZW91dCgoKT0+e3RoaXMuX3RyaWdnZXJlZD0hMSx0aGlzLl9jYWxsYmFjaygpfSwwKSl9cmVtb3ZlKCl7dGhpcy5fY2hhbm5lbD12b2lkIDAsdGhpcy5fY2FsbGJhY2s9KCk9Pnt9fX1jbGFzcyBhZntjb25zdHJ1Y3Rvcigpe3RoaXMudGFza3M9e30sdGhpcy50YXNrUXVldWU9W10sUihbXCJwcm9jZXNzXCJdLHRoaXMpLHRoaXMuaW52b2tlcj1uZXcgb2YodGhpcy5wcm9jZXNzKSx0aGlzLm5leHRJZD0wfWFkZChlLHQpe2NvbnN0IG49dGhpcy5uZXh0SWQrKyxpPWZ1bmN0aW9uKHt0eXBlOmUsaXNTeW1ib2xUaWxlOnQsem9vbTpufSl7cmV0dXJuIG49bnx8MCxcIm1lc3NhZ2VcIj09PWU/MDpcIm1heWJlUHJlcGFyZVwiIT09ZXx8dD9cInBhcnNlVGlsZVwiIT09ZXx8dD9cInBhcnNlVGlsZVwiPT09ZSYmdD8zMDAtbjpcIm1heWJlUHJlcGFyZVwiPT09ZSYmdD80MDAtbjo1MDA6MjAwLW46MTAwLW59KHQpO2lmKDA9PT1pKXtXKCk7dHJ5e2UoKX1maW5hbGx5e31yZXR1cm57Y2FuY2VsOigpPT57fX19cmV0dXJuIHRoaXMudGFza3Nbbl09e2ZuOmUsbWV0YWRhdGE6dCxwcmlvcml0eTppLGlkOm59LHRoaXMudGFza1F1ZXVlLnB1c2gobiksdGhpcy5pbnZva2VyLnRyaWdnZXIoKSx7Y2FuY2VsOigpPT57ZGVsZXRlIHRoaXMudGFza3Nbbl19fX1wcm9jZXNzKCl7VygpO3RyeXtpZih0aGlzLnRhc2tRdWV1ZT10aGlzLnRhc2tRdWV1ZS5maWx0ZXIoZT0+ISF0aGlzLnRhc2tzW2VdKSwhdGhpcy50YXNrUXVldWUubGVuZ3RoKXJldHVybjtjb25zdCBlPXRoaXMucGljaygpO2lmKG51bGw9PT1lKXJldHVybjtjb25zdCB0PXRoaXMudGFza3NbZV07aWYoZGVsZXRlIHRoaXMudGFza3NbZV0sdGhpcy50YXNrUXVldWUubGVuZ3RoJiZ0aGlzLmludm9rZXIudHJpZ2dlcigpLCF0KXJldHVybjt0LmZuKCl9ZmluYWxseXt9fXBpY2soKXtsZXQgZT1udWxsLHQ9MS8wO2ZvcihsZXQgbj0wO248dGhpcy50YXNrUXVldWUubGVuZ3RoO24rKyl7Y29uc3QgaT10aGlzLnRhc2tzW3RoaXMudGFza1F1ZXVlW25dXTtpLnByaW9yaXR5PHQmJih0PWkucHJpb3JpdHksZT1uKX1pZihudWxsPT09ZSlyZXR1cm4gbnVsbDtjb25zdCBuPXRoaXMudGFza1F1ZXVlW2VdO3JldHVybiB0aGlzLnRhc2tRdWV1ZS5zcGxpY2UoZSwxKSxufXJlbW92ZSgpe3RoaXMuaW52b2tlci5yZW1vdmUoKX19Y2xhc3Mgc2Z7Y29uc3RydWN0b3IoZSl7dGhpcy5fc3RyaW5nVG9OdW1iZXI9e30sdGhpcy5fbnVtYmVyVG9TdHJpbmc9W107Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49ZVt0XTt0aGlzLl9zdHJpbmdUb051bWJlcltuXT10LHRoaXMuX251bWJlclRvU3RyaW5nW3RdPW59fWVuY29kZShlKXtyZXR1cm4gdGhpcy5fc3RyaW5nVG9OdW1iZXJbZV19ZGVjb2RlKGUpe3JldHVybiB0aGlzLl9udW1iZXJUb1N0cmluZ1tlXX19Y29uc3QgbGY9W1widGlsZVwiLFwibGF5ZXJcIixcInNvdXJjZVwiLFwic291cmNlTGF5ZXJcIixcInN0YXRlXCJdO2NsYXNzIGNme2NvbnN0cnVjdG9yKGUsdCxuLGkscil7dGhpcy50eXBlPVwiRmVhdHVyZVwiLHRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlPWUsdGhpcy5fej10LHRoaXMuX3g9bix0aGlzLl95PWksdGhpcy5wcm9wZXJ0aWVzPWUucHJvcGVydGllcyx0aGlzLmlkPXJ9Z2V0IGdlb21ldHJ5KCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2dlb21ldHJ5JiYodGhpcy5fZ2VvbWV0cnk9dGhpcy5fdmVjdG9yVGlsZUZlYXR1cmUudG9HZW9KU09OKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KS5nZW9tZXRyeSksdGhpcy5fZ2VvbWV0cnl9c2V0IGdlb21ldHJ5KGUpe3RoaXMuX2dlb21ldHJ5PWV9dG9KU09OKCl7Y29uc3QgZT17dHlwZTpcIkZlYXR1cmVcIixnZW9tZXRyeTp0aGlzLmdlb21ldHJ5LHByb3BlcnRpZXM6dGhpcy5wcm9wZXJ0aWVzfTt2b2lkIDAhPT10aGlzLmlkJiYoZS5pZD10aGlzLmlkKTtmb3IoY29uc3QgdCBvZiBsZil2b2lkIDAhPT10aGlzW3RdJiYoZVt0XT10aGlzW3RdKTtyZXR1cm4gZX19Y29uc3QgdWY9bmV3IFVpbnQxNkFycmF5KDgxODQpO2ZvcihsZXQgZT0wO2U8MjA0NjtlKyspe2xldCB0PWUrMixuPTAsaT0wLHI9MCxvPTAsYT0wLHM9MDtmb3IoMSZ0P3I9bz1hPTMyOm49aT1zPTMyOyh0Pj49MSk+MTspe2NvbnN0IGU9bityPj4xLGw9aStvPj4xOzEmdD8ocj1uLG89aSxuPWEsaT1zKToobj1yLGk9byxyPWEsbz1zKSxhPWUscz1sfWNvbnN0IGw9NCplO3VmW2wrMF09bix1ZltsKzFdPWksdWZbbCsyXT1yLHVmW2wrM109b31jb25zdCBoZj1uZXcgVWludDE2QXJyYXkoMjE3OCksZGY9bmV3IFVpbnQ4QXJyYXkoMTA4OSkscGY9bmV3IFVpbnQxNkFycmF5KDEwODkpO2Z1bmN0aW9uIGZmKGUpe3JldHVybiAwPT09ZT8tLjAzMTI1OjMyPT09ZT8uMDMxMjU6MH12YXIgbWY9SG8oW3tuYW1lOlwiYV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9LHtuYW1lOlwiYV90ZXh0dXJlX3Bvc1wiLHR5cGU6XCJJbnQxNlwiLGNvbXBvbmVudHM6Mn1dKTtjb25zdCBnZj17dHlwZToyLGV4dGVudDpwcyxsb2FkR2VvbWV0cnk6KCk9PltbbmV3IG0oMCwwKSxuZXcgbSg4MTkzLDApLG5ldyBtKDgxOTMsODE5MyksbmV3IG0oMCw4MTkzKSxuZXcgbSgwLDApXV19O2NsYXNzIHlme2NvbnN0cnVjdG9yKGUsdCxuLGkscil7dGhpcy50aWxlSUQ9ZSx0aGlzLnVpZD16KCksdGhpcy51c2VzPTAsdGhpcy50aWxlU2l6ZT10LHRoaXMudGlsZVpvb209bix0aGlzLmJ1Y2tldHM9e30sdGhpcy5leHBpcmF0aW9uVGltZT1udWxsLHRoaXMucXVlcnlQYWRkaW5nPTAsdGhpcy5oYXNTeW1ib2xCdWNrZXRzPSExLHRoaXMuaGFzUlRMVGV4dD0hMSx0aGlzLmRlcGVuZGVuY2llcz17fSx0aGlzLmlzUmFzdGVyPXIsdGhpcy5leHBpcmVkUmVxdWVzdENvdW50PTAsdGhpcy5zdGF0ZT1cImxvYWRpbmdcIixpJiZpLnRyYW5zZm9ybSYmKHRoaXMucHJvamVjdGlvbj1pLnRyYW5zZm9ybS5wcm9qZWN0aW9uKX1yZWdpc3RlckZhZGVEdXJhdGlvbihlKXtjb25zdCB0PWUrdGhpcy50aW1lQWRkZWQ7dDxXZS5ub3coKXx8dGhpcy5mYWRlRW5kVGltZSYmdDx0aGlzLmZhZGVFbmRUaW1lfHwodGhpcy5mYWRlRW5kVGltZT10KX13YXNSZXF1ZXN0ZWQoKXtyZXR1cm5cImVycm9yZWRcIj09PXRoaXMuc3RhdGV8fFwibG9hZGVkXCI9PT10aGlzLnN0YXRlfHxcInJlbG9hZGluZ1wiPT09dGhpcy5zdGF0ZX1nZXQgdGlsZVRyYW5zZm9ybSgpe3JldHVybiB0aGlzLl90aWxlVHJhbnNmb3JtfHwodGhpcy5fdGlsZVRyYW5zZm9ybT1ncCh0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy5wcm9qZWN0aW9uKSksdGhpcy5fdGlsZVRyYW5zZm9ybX1sb2FkVmVjdG9yRGF0YShlLHQsbil7aWYodGhpcy51bmxvYWRWZWN0b3JEYXRhKCksdGhpcy5zdGF0ZT1cImxvYWRlZFwiLGUpe2UuZmVhdHVyZUluZGV4JiYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXg9ZS5mZWF0dXJlSW5kZXgsZS5yYXdUaWxlRGF0YT8odGhpcy5sYXRlc3RSYXdUaWxlRGF0YT1lLnJhd1RpbGVEYXRhLHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhPWUucmF3VGlsZURhdGEpOnRoaXMubGF0ZXN0UmF3VGlsZURhdGEmJih0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT10aGlzLmxhdGVzdFJhd1RpbGVEYXRhKSksdGhpcy5jb2xsaXNpb25Cb3hBcnJheT1lLmNvbGxpc2lvbkJveEFycmF5LHRoaXMuYnVja2V0cz1mdW5jdGlvbihlLHQpe2NvbnN0IG49e307aWYoIXQpcmV0dXJuIG47Zm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgZT1pLmxheWVySWRzLm1hcChlPT50LmdldExheWVyKGUpKS5maWx0ZXIoQm9vbGVhbik7aWYoMCE9PWUubGVuZ3RoKXtpLmxheWVycz1lLGkuc3RhdGVEZXBlbmRlbnRMYXllcklkcyYmKGkuc3RhdGVEZXBlbmRlbnRMYXllcnM9aS5zdGF0ZURlcGVuZGVudExheWVySWRzLm1hcCh0PT5lLmZpbHRlcihlPT5lLmlkPT09dClbMF0pKTtmb3IoY29uc3QgdCBvZiBlKW5bdC5pZF09aX19cmV0dXJuIG59KGUuYnVja2V0cyx0LnN0eWxlKSx0aGlzLmhhc1N5bWJvbEJ1Y2tldHM9ITE7Zm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKXtjb25zdCB0PXRoaXMuYnVja2V0c1tlXTtpZih0IGluc3RhbmNlb2YgcXApe2lmKHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMCwhbilicmVhazt0Lmp1c3RSZWxvYWRlZD0hMH19aWYodGhpcy5oYXNSVExUZXh0PSExLHRoaXMuaGFzU3ltYm9sQnVja2V0cylmb3IoY29uc3QgZSBpbiB0aGlzLmJ1Y2tldHMpe2NvbnN0IHQ9dGhpcy5idWNrZXRzW2VdO2lmKHQgaW5zdGFuY2VvZiBxcCYmdC5oYXNSVExUZXh0KXt0aGlzLmhhc1JUTFRleHQ9ITAsQW8uaXNMb2FkaW5nKCl8fEFvLmlzTG9hZGVkKCl8fFwiZGVmZXJyZWRcIiE9PUNvKCl8fGtvKCk7YnJlYWt9fXRoaXMucXVlcnlQYWRkaW5nPTA7Zm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKXtjb25zdCBuPXRoaXMuYnVja2V0c1tlXTt0aGlzLnF1ZXJ5UGFkZGluZz1NYXRoLm1heCh0aGlzLnF1ZXJ5UGFkZGluZyx0LnN0eWxlLmdldExheWVyKGUpLnF1ZXJ5UmFkaXVzKG4pKX1lLmltYWdlQXRsYXMmJih0aGlzLmltYWdlQXRsYXM9ZS5pbWFnZUF0bGFzKSxlLmdseXBoQXRsYXNJbWFnZSYmKHRoaXMuZ2x5cGhBdGxhc0ltYWdlPWUuZ2x5cGhBdGxhc0ltYWdlKSxlLmxpbmVBdGxhcyYmKHRoaXMubGluZUF0bGFzPWUubGluZUF0bGFzKX1lbHNlIHRoaXMuY29sbGlzaW9uQm94QXJyYXk9bmV3IHdhfXVubG9hZFZlY3RvckRhdGEoKXtpZih0aGlzLmhhc0RhdGEoKSl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKXRoaXMuYnVja2V0c1tlXS5kZXN0cm95KCk7dGhpcy5idWNrZXRzPXt9LHRoaXMuaW1hZ2VBdGxhcyYmKHRoaXMuaW1hZ2VBdGxhcz1udWxsKSx0aGlzLmxpbmVBdGxhcyYmKHRoaXMubGluZUF0bGFzPW51bGwpLHRoaXMuaW1hZ2VBdGxhc1RleHR1cmUmJnRoaXMuaW1hZ2VBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMuZ2x5cGhBdGxhc1RleHR1cmUmJnRoaXMuZ2x5cGhBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMubGluZUF0bGFzVGV4dHVyZSYmdGhpcy5saW5lQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzQnVmZmVyJiYodGhpcy5fdGlsZUJvdW5kc0J1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZUJvdW5kc0luZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzU2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVCb3VuZHNCdWZmZXI9bnVsbCksdGhpcy5fdGlsZURlYnVnQnVmZmVyJiYodGhpcy5fdGlsZURlYnVnQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdTZWdtZW50cy5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyJiYodGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyPW51bGwpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyJiYodGhpcy5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdUZXh0U2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXImJih0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcj1udWxsKSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleD1udWxsLHRoaXMuc3RhdGU9XCJ1bmxvYWRlZFwifX1nZXRCdWNrZXQoZSl7cmV0dXJuIHRoaXMuYnVja2V0c1tlLmlkXX11cGxvYWQoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5idWNrZXRzKXtjb25zdCBuPXRoaXMuYnVja2V0c1t0XTtuLnVwbG9hZFBlbmRpbmcoKSYmbi51cGxvYWQoZSl9Y29uc3QgdD1lLmdsO3RoaXMuaW1hZ2VBdGxhcyYmIXRoaXMuaW1hZ2VBdGxhcy51cGxvYWRlZCYmKHRoaXMuaW1hZ2VBdGxhc1RleHR1cmU9bmV3IHJmKGUsdGhpcy5pbWFnZUF0bGFzLmltYWdlLHQuUkdCQSksdGhpcy5pbWFnZUF0bGFzLnVwbG9hZGVkPSEwKSx0aGlzLmdseXBoQXRsYXNJbWFnZSYmKHRoaXMuZ2x5cGhBdGxhc1RleHR1cmU9bmV3IHJmKGUsdGhpcy5nbHlwaEF0bGFzSW1hZ2UsdC5BTFBIQSksdGhpcy5nbHlwaEF0bGFzSW1hZ2U9bnVsbCksdGhpcy5saW5lQXRsYXMmJiF0aGlzLmxpbmVBdGxhcy51cGxvYWRlZCYmKHRoaXMubGluZUF0bGFzVGV4dHVyZT1uZXcgcmYoZSx0aGlzLmxpbmVBdGxhcy5pbWFnZSx0LkFMUEhBKSx0aGlzLmxpbmVBdGxhcy51cGxvYWRlZD0hMCl9cHJlcGFyZShlKXt0aGlzLmltYWdlQXRsYXMmJnRoaXMuaW1hZ2VBdGxhcy5wYXRjaFVwZGF0ZWRJbWFnZXMoZSx0aGlzLmltYWdlQXRsYXNUZXh0dXJlKX1xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZSx0LG4saSxyLG8sYSxzKXtyZXR1cm4gdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgmJnRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhP3RoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnF1ZXJ5KHt0aWxlUmVzdWx0OmkscGl4ZWxQb3NNYXRyaXg6YSx0cmFuc2Zvcm06byxwYXJhbXM6cix0aWxlVHJhbnNmb3JtOnRoaXMudGlsZVRyYW5zZm9ybX0sZSx0LG4pOnt9fXF1ZXJ5U291cmNlRmVhdHVyZXMoZSx0KXtjb25zdCBuPXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4O2lmKCFufHwhbi5yYXdUaWxlRGF0YSlyZXR1cm47Y29uc3QgaT1uLmxvYWRWVExheWVycygpLHI9dD90LnNvdXJjZUxheWVyOlwiXCIsbz1pLl9nZW9qc29uVGlsZUxheWVyfHxpW3JdO2lmKCFvKXJldHVybjtjb25zdCBhPUtpKHQmJnQuZmlsdGVyKSx7ejpzLHg6bCx5OmN9PXRoaXMudGlsZUlELmNhbm9uaWNhbCx1PXt6OnMseDpsLHk6Y307Zm9yKGxldCB0PTA7dDxvLmxlbmd0aDt0Kyspe2NvbnN0IGk9by5mZWF0dXJlKHQpO2lmKGEubmVlZEdlb21ldHJ5KXtjb25zdCBlPVJzKGksITApO2lmKCFhLmZpbHRlcihuZXcgUG8odGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLGUsdGhpcy50aWxlSUQuY2Fub25pY2FsKSljb250aW51ZX1lbHNlIGlmKCFhLmZpbHRlcihuZXcgUG8odGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLGkpKWNvbnRpbnVlO2NvbnN0IGg9bi5nZXRJZChpLHIpLGQ9bmV3IGNmKGkscyxsLGMsaCk7ZC50aWxlPXUsZS5wdXNoKGQpfX1oYXNEYXRhKCl7cmV0dXJuXCJsb2FkZWRcIj09PXRoaXMuc3RhdGV8fFwicmVsb2FkaW5nXCI9PT10aGlzLnN0YXRlfHxcImV4cGlyZWRcIj09PXRoaXMuc3RhdGV9cGF0dGVybnNMb2FkZWQoKXtyZXR1cm4hIXRoaXMuaW1hZ2VBdGxhcyYmISFPYmplY3Qua2V5cyh0aGlzLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9ucykubGVuZ3RofXNldEV4cGlyeURhdGEoZSl7Y29uc3QgdD10aGlzLmV4cGlyYXRpb25UaW1lO2lmKGUuY2FjaGVDb250cm9sKXtjb25zdCB0PXEoZS5jYWNoZUNvbnRyb2wpO3RbXCJtYXgtYWdlXCJdJiYodGhpcy5leHBpcmF0aW9uVGltZT1EYXRlLm5vdygpKzFlMyp0W1wibWF4LWFnZVwiXSl9ZWxzZSBlLmV4cGlyZXMmJih0aGlzLmV4cGlyYXRpb25UaW1lPW5ldyBEYXRlKGUuZXhwaXJlcykuZ2V0VGltZSgpKTtpZih0aGlzLmV4cGlyYXRpb25UaW1lKXtjb25zdCBlPURhdGUubm93KCk7bGV0IG49ITE7aWYodGhpcy5leHBpcmF0aW9uVGltZT5lKW49ITE7ZWxzZSBpZih0KWlmKHRoaXMuZXhwaXJhdGlvblRpbWU8dCluPSEwO2Vsc2V7Y29uc3QgaT10aGlzLmV4cGlyYXRpb25UaW1lLXQ7aT90aGlzLmV4cGlyYXRpb25UaW1lPWUrTWF0aC5tYXgoaSwzZTQpOm49ITB9ZWxzZSBuPSEwO24/KHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudCsrLHRoaXMuc3RhdGU9XCJleHBpcmVkXCIpOnRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD0wfX1nZXRFeHBpcnlUaW1lb3V0KCl7aWYodGhpcy5leHBpcmF0aW9uVGltZSlyZXR1cm4gdGhpcy5leHBpcmVkUmVxdWVzdENvdW50PzFlMyooMTw8TWF0aC5taW4odGhpcy5leHBpcmVkUmVxdWVzdENvdW50LTEsMzEpKTpNYXRoLm1pbih0aGlzLmV4cGlyYXRpb25UaW1lLShuZXcgRGF0ZSkuZ2V0VGltZSgpLE1hdGgucG93KDIsMzEpLTEpfXNldEZlYXR1cmVTdGF0ZShlLHQpe2lmKCF0aGlzLmxhdGVzdEZlYXR1cmVJbmRleHx8IXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhfHwwPT09T2JqZWN0LmtleXMoZSkubGVuZ3RofHwhdClyZXR1cm47Y29uc3Qgbj10aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5sb2FkVlRMYXllcnMoKSxpPXQuc3R5bGUubGlzdEltYWdlcygpO2Zvcihjb25zdCByIGluIHRoaXMuYnVja2V0cyl7aWYoIXQuc3R5bGUuaGFzTGF5ZXIocikpY29udGludWU7Y29uc3Qgbz10aGlzLmJ1Y2tldHNbcl0sYT1vLmxheWVyc1swXS5zb3VyY2VMYXllcnx8XCJfZ2VvanNvblRpbGVMYXllclwiLHM9blthXSxsPWVbYV07aWYoIXN8fCFsfHwwPT09T2JqZWN0LmtleXMobCkubGVuZ3RoKWNvbnRpbnVlO2lmKG8udXBkYXRlKGwscyxpLHRoaXMuaW1hZ2VBdGxhcyYmdGhpcy5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnN8fHt9KSxvIGluc3RhbmNlb2YgV3V8fG8gaW5zdGFuY2VvZiBxYyl7Y29uc3QgZT10LnN0eWxlLl9nZXRTb3VyY2VDYWNoZShvLmxheWVyc1swXS5zb3VyY2UpO3QuX3RlcnJhaW4mJnQuX3RlcnJhaW4uZW5hYmxlZCYmZSYmby5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWQmJnQuX3RlcnJhaW4uX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKGUuaWQsdGhpcy50aWxlSUQpfWNvbnN0IGM9dCYmdC5zdHlsZSYmdC5zdHlsZS5nZXRMYXllcihyKTtjJiYodGhpcy5xdWVyeVBhZGRpbmc9TWF0aC5tYXgodGhpcy5xdWVyeVBhZGRpbmcsYy5xdWVyeVJhZGl1cyhvKSkpfX1ob2xkaW5nRm9yRmFkZSgpe3JldHVybiB2b2lkIDAhPT10aGlzLnN5bWJvbEZhZGVIb2xkVW50aWx9c3ltYm9sRmFkZUZpbmlzaGVkKCl7cmV0dXJuIXRoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbHx8dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPFdlLm5vdygpfWNsZWFyRmFkZUhvbGQoKXt0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw9dm9pZCAwfXNldEhvbGREdXJhdGlvbihlKXt0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw9V2Uubm93KCkrZX1zZXRUZXh0dXJlKGUsdCl7Y29uc3Qgbj10LmNvbnRleHQsaT1uLmdsO3RoaXMudGV4dHVyZT10aGlzLnRleHR1cmV8fHQuZ2V0VGlsZVRleHR1cmUoZS53aWR0aCksdGhpcy50ZXh0dXJlP3RoaXMudGV4dHVyZS51cGRhdGUoZSx7dXNlTWlwbWFwOiEwfSk6KHRoaXMudGV4dHVyZT1uZXcgcmYobixlLGkuUkdCQSx7dXNlTWlwbWFwOiEwfSksdGhpcy50ZXh0dXJlLmJpbmQoaS5MSU5FQVIsaS5DTEFNUF9UT19FREdFKSxuLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmaS50ZXhQYXJhbWV0ZXJmKGkuVEVYVFVSRV8yRCxuLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCxuLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCkpfXNldERlcGVuZGVuY2llcyhlLHQpe2NvbnN0IG49e307Zm9yKGNvbnN0IGUgb2YgdCluW2VdPSEwO3RoaXMuZGVwZW5kZW5jaWVzW2VdPW59aGFzRGVwZW5kZW5jeShlLHQpe2Zvcihjb25zdCBuIG9mIGUpe2NvbnN0IGU9dGhpcy5kZXBlbmRlbmNpZXNbbl07aWYoZSlmb3IoY29uc3QgbiBvZiB0KWlmKGVbbl0pcmV0dXJuITB9cmV0dXJuITF9Y2xlYXJRdWVyeURlYnVnVml6KCl7fV9tYWtlRGVidWdUaWxlQm91bmRzQnVmZmVycyhlLHQpe2lmKCF0fHxcIm1lcmNhdG9yXCI9PT10Lm5hbWV8fHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlcilyZXR1cm47Y29uc3Qgbj1PcyhnZix0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy50aWxlVHJhbnNmb3JtKVswXSxpPW5ldyBZbyxyPW5ldyB2YTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyl7Y29uc3R7eDp0LHk6b309bltlXTtpLmVtcGxhY2VCYWNrKHQsbyksci5lbXBsYWNlQmFjayhlKX1yLmVtcGxhY2VCYWNrKDApLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIociksdGhpcy5fdGlsZURlYnVnQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGksRmQubWVtYmVycyksdGhpcy5fdGlsZURlYnVnU2VnbWVudHM9ZHMuc2ltcGxlU2VnbWVudCgwLDAsaS5sZW5ndGgsci5sZW5ndGgpfV9tYWtlVGlsZUJvdW5kc0J1ZmZlcnMoZSx0KXtpZih0aGlzLl90aWxlQm91bmRzQnVmZmVyfHwhdHx8XCJtZXJjYXRvclwiPT09dC5uYW1lKXJldHVybjtjb25zdCBuPU9zKGdmLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVUcmFuc2Zvcm0pWzBdO2xldCBpLHI7aWYodGhpcy5pc1Jhc3Rlcil7Y29uc3QgZT1mdW5jdGlvbihlLHQpe2NvbnN0IG49Z3AoZSx0KSxpPU1hdGgucG93KDIsZS56KTtmb3IobGV0IHI9MDtyPDMzO3IrKylmb3IobGV0IG89MDtvPDMzO28rKyl7Y29uc3QgYT13cygoZS54KyhvK2ZmKG8pKS8zMikvaSkscz1UcygoZS55KyhyK2ZmKHIpKS8zMikvaSksbD10LnByb2plY3QoYSxzKSxjPTMzKnIrbztoZlsyKmMrMF09TWF0aC5yb3VuZCgobC54Km4uc2NhbGUtbi54KSpwcyksaGZbMipjKzFdPU1hdGgucm91bmQoKGwueSpuLnNjYWxlLW4ueSkqcHMpfWRmLmZpbGwoMCkscGYuZmlsbCgwKTtmb3IobGV0IGU9MjA0NTtlPj0wO2UtLSl7Y29uc3QgdD00KmUsbj11Zlt0KzBdLGk9dWZbdCsxXSxyPXVmW3QrMl0sbz11Zlt0KzNdLGE9bityPj4xLHM9aStvPj4xLGw9YStzLWksYz1zK24tYSx1PTMzKmkrbixoPTMzKm8rcixkPTMzKnMrYSxwPU1hdGguaHlwb3QoKGhmWzIqdSswXStoZlsyKmgrMF0pLzItaGZbMipkKzBdLChoZlsyKnUrMV0raGZbMipoKzFdKS8yLWhmWzIqZCsxXSk+PTE2O2lmKGRmW2RdPWRmW2RdfHwocD8xOjApLGU8MTAyMil7Y29uc3QgZT0zMyooaStjPj4xKSsobitsPj4xKSx0PTMzKihvK2M+PjEpKyhyK2w+PjEpO2RmW2RdPWRmW2RdfHxkZltlXXx8ZGZbdF19fWNvbnN0IHI9bmV3IFFvLG89bmV3IGRhO2xldCBhPTA7ZnVuY3Rpb24gcyhlLHQpe2NvbnN0IG49MzMqdCtlO3JldHVybiAwPT09cGZbbl0mJihyLmVtcGxhY2VCYWNrKGhmWzIqbiswXSxoZlsyKm4rMV0sZSpwcy8zMix0KnBzLzMyKSxwZltuXT0rK2EpLHBmW25dLTF9ZnVuY3Rpb24gbChlLHQsbixpLHIsYSl7Y29uc3QgYz1lK24+PjEsdT10K2k+PjE7aWYoTWF0aC5hYnMoZS1yKStNYXRoLmFicyh0LWEpPjEmJmRmWzMzKnUrY10pbChyLGEsZSx0LGMsdSksbChuLGkscixhLGMsdSk7ZWxzZXtjb25zdCBsPXMoZSx0KSxjPXMobixpKSx1PXMocixhKTtvLmVtcGxhY2VCYWNrKGwsYyx1KX19cmV0dXJuIGwoMCwwLDMyLDMyLDMyLDApLGwoMzIsMzIsMCwwLDAsMzIpLHt2ZXJ0aWNlczpyLGluZGljZXM6b319KHRoaXMudGlsZUlELmNhbm9uaWNhbCx0KTtpPWUudmVydGljZXMscj1lLmluZGljZXN9ZWxzZXtpPW5ldyBRbyxyPW5ldyBkYTtmb3IoY29uc3R7eDplLHk6dH1vZiBuKWkuZW1wbGFjZUJhY2soZSx0LDAsMCk7Y29uc3QgZT1kYy5leHBvcnRzKGkuaW50MTYsdm9pZCAwLDQpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9MylyLmVtcGxhY2VCYWNrKGVbdF0sZVt0KzFdLGVbdCsyXSl9dGhpcy5fdGlsZUJvdW5kc0J1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihpLG1mLm1lbWJlcnMpLHRoaXMuX3RpbGVCb3VuZHNJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHIpLHRoaXMuX3RpbGVCb3VuZHNTZWdtZW50cz1kcy5zaW1wbGVTZWdtZW50KDAsMCxpLmxlbmd0aCxyLmxlbmd0aCl9X21ha2VHbG9iZVRpbGVEZWJ1Z0J1ZmZlcnMoZSx0KXtjb25zdCBuPXQucHJvamVjdGlvbjtpZighbnx8XCJnbG9iZVwiIT09bi5uYW1lfHx0LmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47Y29uc3QgaT10aGlzLnRpbGVJRC5jYW5vbmljYWwscj1hcChKZChpLHQpKSxvPWNwKHQuem9vbSk7bGV0IGE7bz4wJiYoYT1jbChuZXcgRmxvYXQ2NEFycmF5KDE2KSx0Lmdsb2JlTWF0cml4KSksdGhpcy5fbWFrZUdsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyKGUsaSx0LHIsYSxvKSx0aGlzLl9tYWtlR2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyKGUsaSx0LHIsYSxvKX1fZ2xvYmVQb2ludChlLHQsbixpLHIsbyxhKXtsZXQgcz1pcChlLHQsbik7aWYobyl7Y29uc3Qgcj0xPDxuLnosbD12cyhpLmNlbnRlci5sbmcpLGM9eHMoaS5jZW50ZXIubGF0KSx1PShuLngrLjUpL3ItbDtsZXQgaD0wO3U+LjU/aD0tMTp1PC0uNSYmKGg9MSk7bGV0IGQ9KGUvcHMrbi54KS9yK2gscD0odC9wcytuLnkpL3I7ZD0oZC1sKSppLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsK2wscD0ocC1jKSppLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsK2M7Y29uc3QgZj1bZCppLndvcmxkU2l6ZSxwKmkud29ybGRTaXplLDBdO3psKGYsZixvKSxzPVlkKHMsZixhKX1yZXR1cm4gemwocyxzLHIpfV9tYWtlR2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIoZSx0LG4saSxyLG8pe2NvbnN0IGE9bmV3IFlvLHM9bmV3IHZhLGw9bmV3IEpvLGM9KGUsYyx1LGgsZCk9Pntjb25zdCBwPSh1LWUpLyhkLTEpLGY9KGgtYykvKGQtMSksbT1hLmxlbmd0aDtmb3IobGV0IHU9MDt1PGQ7dSsrKXtjb25zdCBoPWUrdSpwLGQ9Yyt1KmY7YS5lbXBsYWNlQmFjayhoLGQpO2NvbnN0IGc9dGhpcy5fZ2xvYmVQb2ludChoLGQsdCxuLGkscixvKTtsLmVtcGxhY2VCYWNrKGdbMF0sZ1sxXSxnWzJdKSxzLmVtcGxhY2VCYWNrKG0rdSl9fSx1PXBzO2MoMCwwLHUsMCwxNiksYyh1LDAsdSx1LDE2KSxjKHUsdSwwLHUsMTYpLGMoMCx1LDAsMCwxNiksdGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihzKSx0aGlzLl90aWxlRGVidWdCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIoYSxGZC5tZW1iZXJzKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihsLGpkLm1lbWJlcnMpLHRoaXMuX3RpbGVEZWJ1Z1NlZ21lbnRzPWRzLnNpbXBsZVNlZ21lbnQoMCwwLGEubGVuZ3RoLHMubGVuZ3RoKX1fbWFrZUdsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcihlLHQsbixpLHIsbyl7Y29uc3QgYT1uZXcgWW8scz1uZXcgZGEsbD1uZXcgSm8sYz0yNTtzLnJlc2VydmUoMzIpLGEucmVzZXJ2ZShjKSxsLnJlc2VydmUoYyk7Y29uc3QgdT0oZSx0KT0+YyplK3Q7Zm9yKGxldCBlPTA7ZTxjO2UrKyl7Y29uc3Qgcz0yMDQ4KmU7Zm9yKGxldCBlPTA7ZTxjO2UrKyl7Y29uc3QgYz0yMDQ4KmU7YS5lbXBsYWNlQmFjayhjLHMpO2NvbnN0IHU9dGhpcy5fZ2xvYmVQb2ludChjLHMsdCxuLGkscixvKTtsLmVtcGxhY2VCYWNrKHVbMF0sdVsxXSx1WzJdKX19Zm9yKGxldCBlPTA7ZTw0O2UrKylmb3IobGV0IHQ9MDt0PDQ7dCsrKXtjb25zdCBuPXUoZSx0KSxpPXUoZSx0KzEpLHI9dShlKzEsdCksbz11KGUrMSx0KzEpO3MuZW1wbGFjZUJhY2sobixpLHIpLHMuZW1wbGFjZUJhY2socixpLG8pfXRoaXMuX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHMpLHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIoYSxGZC5tZW1iZXJzKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIobCxqZC5tZW1iZXJzKSx0aGlzLl90aWxlRGVidWdUZXh0U2VnbWVudHM9ZHMuc2ltcGxlU2VnbWVudCgwLDAsYywzMil9fWNsYXNzIF9me2NvbnN0cnVjdG9yKCl7dGhpcy5zdGF0ZT17fSx0aGlzLnN0YXRlQ2hhbmdlcz17fSx0aGlzLmRlbGV0ZWRTdGF0ZXM9e319dXBkYXRlU3RhdGUoZSx0LG4pe2NvbnN0IGk9U3RyaW5nKHQpO2lmKHRoaXMuc3RhdGVDaGFuZ2VzW2VdPXRoaXMuc3RhdGVDaGFuZ2VzW2VdfHx7fSx0aGlzLnN0YXRlQ2hhbmdlc1tlXVtpXT10aGlzLnN0YXRlQ2hhbmdlc1tlXVtpXXx8e30sQSh0aGlzLnN0YXRlQ2hhbmdlc1tlXVtpXSxuKSxudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdKXt0aGlzLmRlbGV0ZWRTdGF0ZXNbZV09e307Zm9yKGNvbnN0IHQgaW4gdGhpcy5zdGF0ZVtlXSl0IT09aSYmKHRoaXMuZGVsZXRlZFN0YXRlc1tlXVt0XT1udWxsKX1lbHNlIGlmKHRoaXMuZGVsZXRlZFN0YXRlc1tlXSYmbnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1tlXVtpXSl7dGhpcy5kZWxldGVkU3RhdGVzW2VdW2ldPXt9O2Zvcihjb25zdCB0IGluIHRoaXMuc3RhdGVbZV1baV0pblt0XXx8KHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtpXVt0XT1udWxsKX1lbHNlIGZvcihjb25zdCB0IGluIG4pdGhpcy5kZWxldGVkU3RhdGVzW2VdJiZ0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1baV0mJm51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1baV1bdF0mJmRlbGV0ZSB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1baV1bdF19cmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCxuKXtpZihudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdKXJldHVybjtjb25zdCBpPVN0cmluZyh0KTtpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV09dGhpcy5kZWxldGVkU3RhdGVzW2VdfHx7fSxuJiZ2b2lkIDAhPT10KW51bGwhPT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1baV0mJih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1baV09dGhpcy5kZWxldGVkU3RhdGVzW2VdW2ldfHx7fSx0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1baV1bbl09bnVsbCk7ZWxzZSBpZih2b2lkIDAhPT10KWlmKHRoaXMuc3RhdGVDaGFuZ2VzW2VdJiZ0aGlzLnN0YXRlQ2hhbmdlc1tlXVtpXSlmb3IobiBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1baV09e30sdGhpcy5zdGF0ZUNoYW5nZXNbZV1baV0pdGhpcy5kZWxldGVkU3RhdGVzW2VdW2ldW25dPW51bGw7ZWxzZSB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1baV09bnVsbDtlbHNlIHRoaXMuZGVsZXRlZFN0YXRlc1tlXT1udWxsfWdldFN0YXRlKGUsdCl7Y29uc3Qgbj1TdHJpbmcodCksaT1BKHt9LCh0aGlzLnN0YXRlW2VdfHx7fSlbbl0sKHRoaXMuc3RhdGVDaGFuZ2VzW2VdfHx7fSlbbl0pO2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pcmV0dXJue307aWYodGhpcy5kZWxldGVkU3RhdGVzW2VdKXtjb25zdCBuPXRoaXMuZGVsZXRlZFN0YXRlc1tlXVt0XTtpZihudWxsPT09bilyZXR1cm57fTtmb3IoY29uc3QgZSBpbiBuKWRlbGV0ZSBpW2VdfXJldHVybiBpfWluaXRpYWxpemVUaWxlU3RhdGUoZSx0KXtlLnNldEZlYXR1cmVTdGF0ZSh0aGlzLnN0YXRlLHQpfWNvYWxlc2NlQ2hhbmdlcyhlLHQpe2NvbnN0IG49e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5zdGF0ZUNoYW5nZXMpe3RoaXMuc3RhdGVbZV09dGhpcy5zdGF0ZVtlXXx8e307Y29uc3QgdD17fTtmb3IoY29uc3QgbiBpbiB0aGlzLnN0YXRlQ2hhbmdlc1tlXSl0aGlzLnN0YXRlW2VdW25dfHwodGhpcy5zdGF0ZVtlXVtuXT17fSksQSh0aGlzLnN0YXRlW2VdW25dLHRoaXMuc3RhdGVDaGFuZ2VzW2VdW25dKSx0W25dPXRoaXMuc3RhdGVbZV1bbl07bltlXT10fWZvcihjb25zdCBlIGluIHRoaXMuZGVsZXRlZFN0YXRlcyl7dGhpcy5zdGF0ZVtlXT10aGlzLnN0YXRlW2VdfHx7fTtjb25zdCB0PXt9O2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pZm9yKGNvbnN0IG4gaW4gdGhpcy5zdGF0ZVtlXSl0W25dPXt9LHRoaXMuc3RhdGVbZV1bbl09e307ZWxzZSBmb3IoY29uc3QgbiBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pe2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bbl0pdGhpcy5zdGF0ZVtlXVtuXT17fTtlbHNlIGZvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtuXSkpZGVsZXRlIHRoaXMuc3RhdGVbZV1bbl1bdF07dFtuXT10aGlzLnN0YXRlW2VdW25dfW5bZV09bltlXXx8e30sQShuW2VdLHQpfWlmKHRoaXMuc3RhdGVDaGFuZ2VzPXt9LHRoaXMuZGVsZXRlZFN0YXRlcz17fSwwIT09T2JqZWN0LmtleXMobikubGVuZ3RoKWZvcihjb25zdCBpIGluIGUpZVtpXS5zZXRGZWF0dXJlU3RhdGUobix0KX19Y2xhc3MgdmZ7Y29uc3RydWN0b3IoZSl7dGhpcy5zaXplPWUsdGhpcy5taW5pbXVtcz1bXSx0aGlzLm1heGltdW1zPVtdLHRoaXMubGVhdmVzPVtdfWdldEVsZXZhdGlvbihlLHQpe2NvbnN0IG49dGhpcy50b0lkeChlLHQpO3JldHVybnttaW46dGhpcy5taW5pbXVtc1tuXSxtYXg6dGhpcy5tYXhpbXVtc1tuXX19aXNMZWFmKGUsdCl7cmV0dXJuIHRoaXMubGVhdmVzW3RoaXMudG9JZHgoZSx0KV19dG9JZHgoZSx0KXtyZXR1cm4gdCp0aGlzLnNpemUrZX19ZnVuY3Rpb24geGYoZSx0LG4saSl7bGV0IHI9MCxvPU51bWJlci5NQVhfVkFMVUU7Zm9yKGxldCBhPTA7YTwzO2ErKylpZihNYXRoLmFicyhpW2FdKTwxZS0xNSl7aWYoblthXTxlW2FdfHxuW2FdPnRbYV0pcmV0dXJuIG51bGx9ZWxzZXtjb25zdCBzPTEvaVthXTtsZXQgbD0oZVthXS1uW2FdKSpzLGM9KHRbYV0tblthXSkqcztpZihsPmMpe2NvbnN0IGU9bDtsPWMsYz1lfWlmKGw+ciYmKHI9bCksYzxvJiYobz1jKSxyPm8pcmV0dXJuIG51bGx9cmV0dXJuIHJ9ZnVuY3Rpb24gYmYoZSx0LG4saSxyLG8sYSxzLGwsYyx1KXtjb25zdCBoPWktZSxkPXItdCxwPW8tbixmPWEtZSxtPXMtdCxnPWwtbix5PXVbMV0qZy11WzJdKm0sXz11WzJdKmYtdVswXSpnLHY9dVswXSptLXVbMV0qZix4PWgqeStkKl8rcCp2O2lmKE1hdGguYWJzKHgpPDFlLTE1KXJldHVybiBudWxsO2NvbnN0IGI9MS94LHc9Y1swXS1lLFQ9Y1sxXS10LEU9Y1syXS1uLFM9KHcqeStUKl8rRSp2KSpiO2lmKFM8MHx8Uz4xKXJldHVybiBudWxsO2NvbnN0IE09VCpwLUUqZCxJPUUqaC13KnAsQz13KmQtVCpoLGs9KHVbMF0qTSt1WzFdKkkrdVsyXSpDKSpiO3JldHVybiBrPDB8fFMraz4xP251bGw6KGYqTSttKkkrZypDKSpifWZ1bmN0aW9uIHdmKGUsdCxuKXtyZXR1cm4oZS10KS8obi10KX1mdW5jdGlvbiBUZihlLHQsbixpLHIsbyxhLHMsbCl7Y29uc3QgYz0xPDxuLHU9by1pLGg9YS1yLGQ9KGUrMSkvYyp1K2kscD0odCswKS9jKmgrcixmPSh0KzEpL2MqaCtyO3NbMF09KGUrMCkvYyp1K2ksc1sxXT1wLGxbMF09ZCxsWzFdPWZ9Y2xhc3MgRWZ7Y29uc3RydWN0b3IoZSl7aWYodGhpcy5tYXhpbXVtcz1bXSx0aGlzLm1pbmltdW1zPVtdLHRoaXMubGVhdmVzPVtdLHRoaXMuY2hpbGRPZmZzZXRzPVtdLHRoaXMubm9kZUNvdW50PTAsdGhpcy5kZW09ZSx0aGlzLl9zaWJsaW5nT2Zmc2V0PVtbMCwwXSxbMSwwXSxbMCwxXSxbMSwxXV0sIXRoaXMuZGVtKXJldHVybjtjb25zdCB0PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9TWF0aC5jZWlsKE1hdGgubG9nMihlLmRpbS84KSksbj1bXTtsZXQgaT1NYXRoLmNlaWwoTWF0aC5wb3coMix0KSk7Y29uc3Qgcj0xL2ksbz0oZSx0LG4saSxyKT0+e2NvbnN0IG89aT8xOjAsYT0oZSsxKSpuLW8scz10Km4sbD0odCsxKSpuLW87clswXT1lKm4sclsxXT1zLHJbMl09YSxyWzNdPWx9O2xldCBhPW5ldyB2ZihpKTtjb25zdCBzPVtdO2ZvcihsZXQgdD0wO3Q8aSppO3QrKyl7byh0JWksTWF0aC5mbG9vcih0L2kpLHIsITEscyk7Y29uc3Qgbj1NZihzWzBdLHNbMV0sZSksbD1NZihzWzJdLHNbMV0sZSksYz1NZihzWzJdLHNbM10sZSksdT1NZihzWzBdLHNbM10sZSk7YS5taW5pbXVtcy5wdXNoKE1hdGgubWluKG4sbCxjLHUpKSxhLm1heGltdW1zLnB1c2goTWF0aC5tYXgobixsLGMsdSkpLGEubGVhdmVzLnB1c2goMSl9Zm9yKG4ucHVzaChhKSxpLz0yO2k+PTE7aS89Mil7Y29uc3QgZT1uW24ubGVuZ3RoLTFdO2E9bmV3IHZmKGkpO2ZvcihsZXQgdD0wO3Q8aSppO3QrKyl7byh0JWksTWF0aC5mbG9vcih0L2kpLDIsITAscyk7Y29uc3Qgbj1lLmdldEVsZXZhdGlvbihzWzBdLHNbMV0pLHI9ZS5nZXRFbGV2YXRpb24oc1syXSxzWzFdKSxsPWUuZ2V0RWxldmF0aW9uKHNbMl0sc1szXSksYz1lLmdldEVsZXZhdGlvbihzWzBdLHNbM10pLHU9ZS5pc0xlYWYoc1swXSxzWzFdKSxoPWUuaXNMZWFmKHNbMl0sc1sxXSksZD1lLmlzTGVhZihzWzJdLHNbM10pLHA9ZS5pc0xlYWYoc1swXSxzWzNdKSxmPU1hdGgubWluKG4ubWluLHIubWluLGwubWluLGMubWluKSxtPU1hdGgubWF4KG4ubWF4LHIubWF4LGwubWF4LGMubWF4KSxnPXUmJmgmJmQmJnA7YS5tYXhpbXVtcy5wdXNoKG0pLGEubWluaW11bXMucHVzaChmKSxhLmxlYXZlcy5wdXNoKG0tZjw9NSYmZz8xOjApfW4ucHVzaChhKX1yZXR1cm4gbn0odGhpcy5kZW0pLG49dC5sZW5ndGgtMSxpPXRbbl07dGhpcy5fYWRkTm9kZShpLm1pbmltdW1zWzBdLGkubWF4aW11bXNbMF0saS5sZWF2ZXNbMF0pLHRoaXMuX2NvbnN0cnVjdCh0LDAsMCxuLDApfXJheWNhc3RSb290KGUsdCxuLGkscixvLGE9MSl7cmV0dXJuIHhmKFtlLHQsLTEwMF0sW24saSx0aGlzLm1heGltdW1zWzBdKmFdLHIsbyl9cmF5Y2FzdChlLHQsbixpLHIsbyxhPTEpe2lmKCF0aGlzLm5vZGVDb3VudClyZXR1cm4gbnVsbDtjb25zdCBzPXRoaXMucmF5Y2FzdFJvb3QoZSx0LG4saSxyLG8sYSk7aWYobnVsbD09cylyZXR1cm4gbnVsbDtjb25zdCBsPVtdLGM9W10sdT1bXSxoPVtdLGQ9W3tpZHg6MCx0OnMsbm9kZXg6MCxub2RleTowLGRlcHRoOjB9XTtmb3IoO2QubGVuZ3RoPjA7KXtjb25zdHtpZHg6cyx0OnAsbm9kZXg6Zixub2RleTptLGRlcHRoOmd9PWQucG9wKCk7aWYodGhpcy5sZWF2ZXNbc10pe1RmKGYsbSxnLGUsdCxuLGksdSxoKTtjb25zdCBzPTE8PGcsbD0oZiswKS9zLGM9KGYrMSkvcyxkPShtKzApL3MseT0obSsxKS9zLF89TWYobCxkLHRoaXMuZGVtKSphLHY9TWYoYyxkLHRoaXMuZGVtKSphLHg9TWYoYyx5LHRoaXMuZGVtKSphLGI9TWYobCx5LHRoaXMuZGVtKSphLHc9YmYodVswXSx1WzFdLF8saFswXSx1WzFdLHYsaFswXSxoWzFdLHgscixvKSxUPWJmKGhbMF0saFsxXSx4LHVbMF0saFsxXSxiLHVbMF0sdVsxXSxfLHIsbyksRT1NYXRoLm1pbihudWxsIT09dz93Ok51bWJlci5NQVhfVkFMVUUsbnVsbCE9PVQ/VDpOdW1iZXIuTUFYX1ZBTFVFKTtpZihFIT09TnVtYmVyLk1BWF9WQUxVRSlyZXR1cm4gRTt7Y29uc3QgZT1DbChbXSxyLG8scCk7aWYoU2YoXyx2LGIseCx3ZihlWzBdLHVbMF0saFswXSksd2YoZVsxXSx1WzFdLGhbMV0pKT49ZVsyXSlyZXR1cm4gcH1jb250aW51ZX1sZXQgeT0wO2ZvcihsZXQgZD0wO2Q8dGhpcy5fc2libGluZ09mZnNldC5sZW5ndGg7ZCsrKXtUZigoZjw8MSkrdGhpcy5fc2libGluZ09mZnNldFtkXVswXSwobTw8MSkrdGhpcy5fc2libGluZ09mZnNldFtkXVsxXSxnKzEsZSx0LG4saSx1LGgpLHVbMl09LTEwMCxoWzJdPXRoaXMubWF4aW11bXNbdGhpcy5jaGlsZE9mZnNldHNbc10rZF0qYTtjb25zdCBwPXhmKHUsaCxyLG8pO2lmKG51bGwhPXApe2NvbnN0IGU9cDtsW2RdPWU7bGV0IHQ9ITE7Zm9yKGxldCBuPTA7bjx5JiYhdDtuKyspZT49bFtjW25dXSYmKGMuc3BsaWNlKG4sMCxkKSx0PSEwKTt0fHwoY1t5XT1kKSx5Kyt9fWZvcihsZXQgZT0wO2U8eTtlKyspe2NvbnN0IHQ9Y1tlXTtkLnB1c2goe2lkeDp0aGlzLmNoaWxkT2Zmc2V0c1tzXSt0LHQ6bFt0XSxub2RleDooZjw8MSkrdGhpcy5fc2libGluZ09mZnNldFt0XVswXSxub2RleToobTw8MSkrdGhpcy5fc2libGluZ09mZnNldFt0XVsxXSxkZXB0aDpnKzF9KX19cmV0dXJuIG51bGx9X2FkZE5vZGUoZSx0LG4pe3JldHVybiB0aGlzLm1pbmltdW1zLnB1c2goZSksdGhpcy5tYXhpbXVtcy5wdXNoKHQpLHRoaXMubGVhdmVzLnB1c2gobiksdGhpcy5jaGlsZE9mZnNldHMucHVzaCgwKSx0aGlzLm5vZGVDb3VudCsrfV9jb25zdHJ1Y3QoZSx0LG4saSxyKXtpZigxPT09ZVtpXS5pc0xlYWYodCxuKSlyZXR1cm47dGhpcy5jaGlsZE9mZnNldHNbcl18fCh0aGlzLmNoaWxkT2Zmc2V0c1tyXT10aGlzLm5vZGVDb3VudCk7Y29uc3Qgbz1pLTEsYT1lW29dO2xldCBzPTAsbD0wO2ZvcihsZXQgZT0wO2U8dGhpcy5fc2libGluZ09mZnNldC5sZW5ndGg7ZSsrKXtjb25zdCBpPTIqdCt0aGlzLl9zaWJsaW5nT2Zmc2V0W2VdWzBdLHI9MipuK3RoaXMuX3NpYmxpbmdPZmZzZXRbZV1bMV0sbz1hLmdldEVsZXZhdGlvbihpLHIpLGM9YS5pc0xlYWYoaSxyKSx1PXRoaXMuX2FkZE5vZGUoby5taW4sby5tYXgsYyk7YyYmKHN8PTE8PGUpLGx8fChsPXUpfWZvcihsZXQgaT0wO2k8dGhpcy5fc2libGluZ09mZnNldC5sZW5ndGg7aSsrKXMmMTw8aXx8dGhpcy5fY29uc3RydWN0KGUsMip0K3RoaXMuX3NpYmxpbmdPZmZzZXRbaV1bMF0sMipuK3RoaXMuX3NpYmxpbmdPZmZzZXRbaV1bMV0sbyxsK2kpfX1mdW5jdGlvbiBTZihlLHQsbixpLHIsbyl7cmV0dXJuIENuKENuKGUsbixvKSxDbih0LGksbykscil9ZnVuY3Rpb24gTWYoZSx0LG4pe2NvbnN0IGk9bi5kaW0scj1TKGUqaS0uNSwwLGktMSksbz1TKHQqaS0uNSwwLGktMSksYT1NYXRoLmZsb29yKHIpLHM9TWF0aC5mbG9vcihvKSxsPU1hdGgubWluKGErMSxpLTEpLGM9TWF0aC5taW4ocysxLGktMSk7cmV0dXJuIFNmKG4uZ2V0KGEscyksbi5nZXQobCxzKSxuLmdldChhLGMpLG4uZ2V0KGwsYyksci1hLG8tcyl9Y29uc3QgSWY9e21hcGJveDpbNjU1My42LDI1LjYsLjEsMWU0XSx0ZXJyYXJpdW06WzI1NiwxLDEvMjU2LDMyNzY4XX07Y2xhc3MgQ2Z7Z2V0IHRyZWUoKXtyZXR1cm4gdGhpcy5fdHJlZXx8dGhpcy5fYnVpbGRRdWFkVHJlZSgpLHRoaXMuX3RyZWV9Y29uc3RydWN0b3IoZSx0LG4saT0hMSxyPSExKXtpZih0aGlzLnVpZD1lLHQuaGVpZ2h0IT09dC53aWR0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkRFTSB0aWxlcyBtdXN0IGJlIHNxdWFyZVwiKTtpZihuJiZcIm1hcGJveFwiIT09biYmXCJ0ZXJyYXJpdW1cIiE9PW4pcmV0dXJuIFYoYFwiJHtufVwiIGlzIG5vdCBhIHZhbGlkIGVuY29kaW5nIHR5cGUuIFZhbGlkIHR5cGVzIGluY2x1ZGUgXCJtYXBib3hcIiBhbmQgXCJ0ZXJyYXJpdW1cIi5gKTt0aGlzLnN0cmlkZT10LmhlaWdodDtjb25zdCBvPXRoaXMuZGltPXQuaGVpZ2h0LTIsYT1uZXcgVWludDMyQXJyYXkodC5kYXRhLmJ1ZmZlcik7aWYodGhpcy5waXhlbHM9bmV3IFVpbnQ4QXJyYXkodC5kYXRhLmJ1ZmZlciksdGhpcy5lbmNvZGluZz1ufHxcIm1hcGJveFwiLHRoaXMuYm9yZGVyUmVhZHk9aSwhaSl7Zm9yKGxldCBlPTA7ZTxvO2UrKylhW3RoaXMuX2lkeCgtMSxlKV09YVt0aGlzLl9pZHgoMCxlKV0sYVt0aGlzLl9pZHgobyxlKV09YVt0aGlzLl9pZHgoby0xLGUpXSxhW3RoaXMuX2lkeChlLC0xKV09YVt0aGlzLl9pZHgoZSwwKV0sYVt0aGlzLl9pZHgoZSxvKV09YVt0aGlzLl9pZHgoZSxvLTEpXTthW3RoaXMuX2lkeCgtMSwtMSldPWFbdGhpcy5faWR4KDAsMCldLGFbdGhpcy5faWR4KG8sLTEpXT1hW3RoaXMuX2lkeChvLTEsMCldLGFbdGhpcy5faWR4KC0xLG8pXT1hW3RoaXMuX2lkeCgwLG8tMSldLGFbdGhpcy5faWR4KG8sbyldPWFbdGhpcy5faWR4KG8tMSxvLTEpXSxyJiZ0aGlzLl9idWlsZFF1YWRUcmVlKCl9fV9idWlsZFF1YWRUcmVlKCl7dGhpcy5fdHJlZT1uZXcgRWYodGhpcyl9Z2V0KGUsdCxuPSExKXtuJiYoZT1TKGUsLTEsdGhpcy5kaW0pLHQ9Uyh0LC0xLHRoaXMuZGltKSk7Y29uc3QgaT00KnRoaXMuX2lkeChlLHQpO3JldHVybihcInRlcnJhcml1bVwiPT09dGhpcy5lbmNvZGluZz90aGlzLl91bnBhY2tUZXJyYXJpdW06dGhpcy5fdW5wYWNrTWFwYm94KSh0aGlzLnBpeGVsc1tpXSx0aGlzLnBpeGVsc1tpKzFdLHRoaXMucGl4ZWxzW2krMl0pfXN0YXRpYyBnZXRVbnBhY2tWZWN0b3IoZSl7cmV0dXJuIElmW2VdfWdldCB1bnBhY2tWZWN0b3IoKXtyZXR1cm4gSWZbdGhpcy5lbmNvZGluZ119X2lkeChlLHQpe2lmKGU8LTF8fGU+PXRoaXMuZGltKzF8fHQ8LTF8fHQ+PXRoaXMuZGltKzEpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2Ugc291cmNlIGNvb3JkaW5hdGVzIGZvciBERU0gZGF0YVwiKTtyZXR1cm4odCsxKSp0aGlzLnN0cmlkZSsoZSsxKX1fdW5wYWNrTWFwYm94KGUsdCxuKXtyZXR1cm4oMjU2KmUqMjU2KzI1Nip0K24pLzEwLTFlNH1fdW5wYWNrVGVycmFyaXVtKGUsdCxuKXtyZXR1cm4gMjU2KmUrdCtuLzI1Ni0zMjc2OH1zdGF0aWMgcGFjayhlLHQpe2NvbnN0IG49WzAsMCwwLDBdLGk9Q2YuZ2V0VW5wYWNrVmVjdG9yKHQpO2xldCByPU1hdGguZmxvb3IoKGUraVszXSkvaVsyXSk7cmV0dXJuIG5bMl09ciUyNTYscj1NYXRoLmZsb29yKHIvMjU2KSxuWzFdPXIlMjU2LHI9TWF0aC5mbG9vcihyLzI1NiksblswXT1yLG59Z2V0UGl4ZWxzKCl7cmV0dXJuIG5ldyBhYyh7d2lkdGg6dGhpcy5zdHJpZGUsaGVpZ2h0OnRoaXMuc3RyaWRlfSx0aGlzLnBpeGVscyl9YmFja2ZpbGxCb3JkZXIoZSx0LG4pe2lmKHRoaXMuZGltIT09ZS5kaW0pdGhyb3cgbmV3IEVycm9yKFwiZGVtIGRpbWVuc2lvbiBtaXNtYXRjaFwiKTtsZXQgaT10KnRoaXMuZGltLHI9dCp0aGlzLmRpbSt0aGlzLmRpbSxvPW4qdGhpcy5kaW0sYT1uKnRoaXMuZGltK3RoaXMuZGltO3N3aXRjaCh0KXtjYXNlLTE6aT1yLTE7YnJlYWs7Y2FzZSAxOnI9aSsxfXN3aXRjaChuKXtjYXNlLTE6bz1hLTE7YnJlYWs7Y2FzZSAxOmE9bysxfWNvbnN0IHM9LXQqdGhpcy5kaW0sbD0tbip0aGlzLmRpbTtmb3IobGV0IHQ9bzt0PGE7dCsrKWZvcihsZXQgbj1pO248cjtuKyspe2NvbnN0IGk9NCp0aGlzLl9pZHgobix0KSxyPTQqdGhpcy5faWR4KG4rcyx0K2wpO3RoaXMucGl4ZWxzW2krMF09ZS5waXhlbHNbciswXSx0aGlzLnBpeGVsc1tpKzFdPWUucGl4ZWxzW3IrMV0sdGhpcy5waXhlbHNbaSsyXT1lLnBpeGVsc1tyKzJdLHRoaXMucGl4ZWxzW2krM109ZS5waXhlbHNbciszXX19b25EZXNlcmlhbGl6ZSgpe3RoaXMuX3RyZWUmJih0aGlzLl90cmVlLmRlbT10aGlzKX19enIoQ2YsXCJERU1EYXRhXCIpLHpyKEVmLFwiRGVtTWluTWF4UXVhZFRyZWVcIix7b21pdDpbXCJkZW1cIl19KTtjbGFzcyBrZntjb25zdHJ1Y3RvcihlLHQpe3RoaXMubWF4PWUsdGhpcy5vblJlbW92ZT10LHRoaXMucmVzZXQoKX1yZXNldCgpe2Zvcihjb25zdCBlIGluIHRoaXMuZGF0YSlmb3IoY29uc3QgdCBvZiB0aGlzLmRhdGFbZV0pdC50aW1lb3V0JiZjbGVhclRpbWVvdXQodC50aW1lb3V0KSx0aGlzLm9uUmVtb3ZlKHQudmFsdWUpO3JldHVybiB0aGlzLmRhdGE9e30sdGhpcy5vcmRlcj1bXSx0aGlzfWFkZChlLHQsbil7Y29uc3QgaT1lLndyYXBwZWQoKS5rZXk7dm9pZCAwPT09dGhpcy5kYXRhW2ldJiYodGhpcy5kYXRhW2ldPVtdKTtjb25zdCByPXt2YWx1ZTp0LHRpbWVvdXQ6dm9pZCAwfTtpZih2b2lkIDAhPT1uJiYoci50aW1lb3V0PXNldFRpbWVvdXQoKCk9Pnt0aGlzLnJlbW92ZShlLHIpfSxuKSksdGhpcy5kYXRhW2ldLnB1c2gociksdGhpcy5vcmRlci5wdXNoKGkpLHRoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4KXtjb25zdCBlPXRoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHRoaXMub3JkZXJbMF0pO2UmJnRoaXMub25SZW1vdmUoZSl9cmV0dXJuIHRoaXN9aGFzKGUpe3JldHVybiBlLndyYXBwZWQoKS5rZXkgaW4gdGhpcy5kYXRhfWdldEFuZFJlbW92ZShlKXtyZXR1cm4gdGhpcy5oYXMoZSk/dGhpcy5fZ2V0QW5kUmVtb3ZlQnlLZXkoZS53cmFwcGVkKCkua2V5KTpudWxsfV9nZXRBbmRSZW1vdmVCeUtleShlKXtjb25zdCB0PXRoaXMuZGF0YVtlXS5zaGlmdCgpO3JldHVybiB0LnRpbWVvdXQmJmNsZWFyVGltZW91dCh0LnRpbWVvdXQpLDA9PT10aGlzLmRhdGFbZV0ubGVuZ3RoJiZkZWxldGUgdGhpcy5kYXRhW2VdLHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZihlKSwxKSx0LnZhbHVlfWdldEJ5S2V5KGUpe2NvbnN0IHQ9dGhpcy5kYXRhW2VdO3JldHVybiB0P3RbMF0udmFsdWU6bnVsbH1nZXQoZSl7cmV0dXJuIHRoaXMuaGFzKGUpP3RoaXMuZGF0YVtlLndyYXBwZWQoKS5rZXldWzBdLnZhbHVlOm51bGx9cmVtb3ZlKGUsdCl7aWYoIXRoaXMuaGFzKGUpKXJldHVybiB0aGlzO2NvbnN0IG49ZS53cmFwcGVkKCkua2V5LGk9dm9pZCAwPT09dD8wOnRoaXMuZGF0YVtuXS5pbmRleE9mKHQpLHI9dGhpcy5kYXRhW25dW2ldO3JldHVybiB0aGlzLmRhdGFbbl0uc3BsaWNlKGksMSksci50aW1lb3V0JiZjbGVhclRpbWVvdXQoci50aW1lb3V0KSwwPT09dGhpcy5kYXRhW25dLmxlbmd0aCYmZGVsZXRlIHRoaXMuZGF0YVtuXSx0aGlzLm9uUmVtb3ZlKHIudmFsdWUpLHRoaXMub3JkZXIuc3BsaWNlKHRoaXMub3JkZXIuaW5kZXhPZihuKSwxKSx0aGlzfXNldE1heFNpemUoZSl7Zm9yKHRoaXMubWF4PWU7dGhpcy5vcmRlci5sZW5ndGg+dGhpcy5tYXg7KXtjb25zdCBlPXRoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KHRoaXMub3JkZXJbMF0pO2UmJnRoaXMub25SZW1vdmUoZSl9cmV0dXJuIHRoaXN9ZmlsdGVyKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IG4gaW4gdGhpcy5kYXRhKWZvcihjb25zdCBpIG9mIHRoaXMuZGF0YVtuXSllKGkudmFsdWUpfHx0LnB1c2goaSk7Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLnJlbW92ZShlLnZhbHVlLnRpbGVJRCxlKX19Y2xhc3MgQWZ7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuZnVuYz1lLHRoaXMubWFzaz10LHRoaXMucmFuZ2U9bn19QWYuUmVhZE9ubHk9ITEsQWYuUmVhZFdyaXRlPSEwLEFmLmRpc2FibGVkPW5ldyBBZig1MTksQWYuUmVhZE9ubHksWzAsMV0pO2NsYXNzIFBme2NvbnN0cnVjdG9yKGUsdCxuLGkscixvKXt0aGlzLnRlc3Q9ZSx0aGlzLnJlZj10LHRoaXMubWFzaz1uLHRoaXMuZmFpbD1pLHRoaXMuZGVwdGhGYWlsPXIsdGhpcy5wYXNzPW99fVBmLmRpc2FibGVkPW5ldyBQZih7ZnVuYzo1MTksbWFzazowfSwwLDAsNzY4MCw3NjgwLDc2ODApO2NsYXNzIHpme2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLmJsZW5kRnVuY3Rpb249ZSx0aGlzLmJsZW5kQ29sb3I9dCx0aGlzLm1hc2s9bn19emYuUmVwbGFjZT1bMSwwXSx6Zi5kaXNhYmxlZD1uZXcgemYoemYuUmVwbGFjZSxDdC50cmFuc3BhcmVudCxbITEsITEsITEsITFdKSx6Zi51bmJsZW5kZWQ9bmV3IHpmKHpmLlJlcGxhY2UsQ3QudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSksemYuYWxwaGFCbGVuZGVkPW5ldyB6ZihbMSw3NzFdLEN0LnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pO2NsYXNzIERme2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLmVuYWJsZT1lLHRoaXMubW9kZT10LHRoaXMuZnJvbnRGYWNlPW59fURmLmRpc2FibGVkPW5ldyBEZighMSwxMDI5LDIzMDUpLERmLmJhY2tDQ1c9bmV3IERmKCEwLDEwMjksMjMwNSksRGYuYmFja0NXPW5ldyBEZighMCwxMDI5LDIzMDQpLERmLmZyb250Q1c9bmV3IERmKCEwLDEwMjgsMjMwNCksRGYuZnJvbnRDQ1c9bmV3IERmKCEwLDEwMjgsMjMwNSk7Y2xhc3MgTGYgZXh0ZW5kcyBZZXtjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoKSx0aGlzLmlkPWUsdGhpcy5fb25seVN5bWJvbHM9bix0Lm9uKFwiZGF0YVwiLGU9PntcInNvdXJjZVwiPT09ZS5kYXRhVHlwZSYmXCJtZXRhZGF0YVwiPT09ZS5zb3VyY2VEYXRhVHlwZSYmKHRoaXMuX3NvdXJjZUxvYWRlZD0hMCksdGhpcy5fc291cmNlTG9hZGVkJiYhdGhpcy5fcGF1c2VkJiZcInNvdXJjZVwiPT09ZS5kYXRhVHlwZSYmXCJjb250ZW50XCI9PT1lLnNvdXJjZURhdGFUeXBlJiYodGhpcy5yZWxvYWQoKSx0aGlzLnRyYW5zZm9ybSYmdGhpcy51cGRhdGUodGhpcy50cmFuc2Zvcm0pKX0pLHQub24oXCJlcnJvclwiLCgpPT57dGhpcy5fc291cmNlRXJyb3JlZD0hMH0pLHRoaXMuX3NvdXJjZT10LHRoaXMuX3RpbGVzPXt9LHRoaXMuX2NhY2hlPW5ldyBrZigwLHRoaXMuX3VubG9hZFRpbGUuYmluZCh0aGlzKSksdGhpcy5fdGltZXJzPXt9LHRoaXMuX2NhY2hlVGltZXJzPXt9LHRoaXMuX21pblRpbGVDYWNoZVNpemU9dC5taW5UaWxlQ2FjaGVTaXplLHRoaXMuX21heFRpbGVDYWNoZVNpemU9dC5tYXhUaWxlQ2FjaGVTaXplLHRoaXMuX2xvYWRlZFBhcmVudFRpbGVzPXt9LHRoaXMuX2NvdmVyZWRUaWxlcz17fSx0aGlzLl9zdGF0ZT1uZXcgX2YsdGhpcy5faXNSYXN0ZXI9XCJyYXN0ZXJcIj09PXRoaXMuX3NvdXJjZS50eXBlfHxcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlfHxcImN1c3RvbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJlwicmFzdGVyXCI9PT10aGlzLl9zb3VyY2UuX2RhdGFUeXBlfW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5fbWluVGlsZUNhY2hlU2l6ZT12b2lkIDA9PT10aGlzLl9taW5UaWxlQ2FjaGVTaXplJiZlP2UuX21pblRpbGVDYWNoZVNpemU6dGhpcy5fbWluVGlsZUNhY2hlU2l6ZSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPXZvaWQgMD09PXRoaXMuX21heFRpbGVDYWNoZVNpemUmJmU/ZS5fbWF4VGlsZUNhY2hlU2l6ZTp0aGlzLl9tYXhUaWxlQ2FjaGVTaXplfWxvYWRlZCgpe2lmKHRoaXMuX3NvdXJjZUVycm9yZWQpcmV0dXJuITA7aWYoIXRoaXMuX3NvdXJjZUxvYWRlZClyZXR1cm4hMTtpZighdGhpcy5fc291cmNlLmxvYWRlZCgpKXJldHVybiExO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXtjb25zdCB0PXRoaXMuX3RpbGVzW2VdO2lmKFwibG9hZGVkXCIhPT10LnN0YXRlJiZcImVycm9yZWRcIiE9PXQuc3RhdGUpcmV0dXJuITF9cmV0dXJuITB9Z2V0U291cmNlKCl7cmV0dXJuIHRoaXMuX3NvdXJjZX1wYXVzZSgpe3RoaXMuX3BhdXNlZD0hMH1yZXN1bWUoKXtpZighdGhpcy5fcGF1c2VkKXJldHVybjtjb25zdCBlPXRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lO3RoaXMuX3BhdXNlZD0hMSx0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMSxlJiZ0aGlzLnJlbG9hZCgpLHRoaXMudHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSl9X2xvYWRUaWxlKGUsdCl7cmV0dXJuIGUuaXNTeW1ib2xUaWxlPXRoaXMuX29ubHlTeW1ib2xzLHRoaXMuX3NvdXJjZS5sb2FkVGlsZShlLHQpfV91bmxvYWRUaWxlKGUpe2lmKHRoaXMuX3NvdXJjZS51bmxvYWRUaWxlKXJldHVybiB0aGlzLl9zb3VyY2UudW5sb2FkVGlsZShlLCgpPT57fSl9X2Fib3J0VGlsZShlKXtpZih0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKXJldHVybiB0aGlzLl9zb3VyY2UuYWJvcnRUaWxlKGUsKCk9Pnt9KX1zZXJpYWxpemUoKXtyZXR1cm4gdGhpcy5fc291cmNlLnNlcmlhbGl6ZSgpfXByZXBhcmUoZSl7dGhpcy5fc291cmNlLnByZXBhcmUmJnRoaXMuX3NvdXJjZS5wcmVwYXJlKCksdGhpcy5fc3RhdGUuY29hbGVzY2VDaGFuZ2VzKHRoaXMuX3RpbGVzLHRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IG49dGhpcy5fdGlsZXNbdF07bi51cGxvYWQoZSksbi5wcmVwYXJlKHRoaXMubWFwLnN0eWxlLmltYWdlTWFuYWdlcil9fWdldElkcygpe3JldHVybiBrKHRoaXMuX3RpbGVzKS5tYXAoZT0+ZS50aWxlSUQpLnNvcnQoT2YpLm1hcChlPT5lLmtleSl9Z2V0UmVuZGVyYWJsZUlkcyhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIGluIHRoaXMuX3RpbGVzKXRoaXMuX2lzSWRSZW5kZXJhYmxlKCtuLGUpJiZ0LnB1c2godGhpcy5fdGlsZXNbbl0pO3JldHVybiBlP3Quc29ydCgoZSx0KT0+e2NvbnN0IG49ZS50aWxlSUQsaT10LnRpbGVJRCxyPW5ldyBtKG4uY2Fub25pY2FsLngsbi5jYW5vbmljYWwueSkuX3JvdGF0ZSh0aGlzLnRyYW5zZm9ybS5hbmdsZSksbz1uZXcgbShpLmNhbm9uaWNhbC54LGkuY2Fub25pY2FsLnkpLl9yb3RhdGUodGhpcy50cmFuc2Zvcm0uYW5nbGUpO3JldHVybiBuLm92ZXJzY2FsZWRaLWkub3ZlcnNjYWxlZFp8fG8ueS1yLnl8fG8ueC1yLnh9KS5tYXAoZT0+ZS50aWxlSUQua2V5KTp0Lm1hcChlPT5lLnRpbGVJRCkuc29ydChPZikubWFwKGU9PmUua2V5KX1oYXNSZW5kZXJhYmxlUGFyZW50KGUpe2NvbnN0IHQ9dGhpcy5maW5kTG9hZGVkUGFyZW50KGUsMCk7cmV0dXJuISF0JiZ0aGlzLl9pc0lkUmVuZGVyYWJsZSh0LnRpbGVJRC5rZXkpfV9pc0lkUmVuZGVyYWJsZShlLHQpe3JldHVybiB0aGlzLl90aWxlc1tlXSYmdGhpcy5fdGlsZXNbZV0uaGFzRGF0YSgpJiYhdGhpcy5fY292ZXJlZFRpbGVzW2VdJiYodHx8IXRoaXMuX3RpbGVzW2VdLmhvbGRpbmdGb3JGYWRlKCkpfXJlbG9hZCgpe2lmKHRoaXMuX3BhdXNlZCl0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMDtlbHNle3RoaXMuX2NhY2hlLnJlc2V0KCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpXCJlcnJvcmVkXCIhPT10aGlzLl90aWxlc1tlXS5zdGF0ZSYmdGhpcy5fcmVsb2FkVGlsZSgrZSxcInJlbG9hZGluZ1wiKX19X3JlbG9hZFRpbGUoZSx0KXtjb25zdCBuPXRoaXMuX3RpbGVzW2VdO24mJihcImxvYWRpbmdcIiE9PW4uc3RhdGUmJihuLnN0YXRlPXQpLHRoaXMuX2xvYWRUaWxlKG4sdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsbixlLHQpKSl9X3RpbGVMb2FkZWQoZSx0LG4saSl7aWYoaSlpZihlLnN0YXRlPVwiZXJyb3JlZFwiLDQwNCE9PWkuc3RhdHVzKXRoaXMuX3NvdXJjZS5maXJlKG5ldyBYZShpLHt0aWxlOmV9KSk7ZWxzZSBpZihcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZ0aGlzLnVzZWRGb3JUZXJyYWluJiZ0aGlzLm1hcC5wYWludGVyLnRlcnJhaW4pe2NvbnN0IGU9dGhpcy5tYXAucGFpbnRlci50ZXJyYWluO3RoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtLGUuZ2V0U2NhbGVkRGVtVGlsZVNpemUoKSwhMCksZS5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLmlkKX1lbHNlIHRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKTtlbHNlIGUudGltZUFkZGVkPVdlLm5vdygpLFwiZXhwaXJlZFwiPT09biYmKGUucmVmcmVzaGVkVXBvbkV4cGlyYXRpb249ITApLHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcih0LGUpLFwicmFzdGVyLWRlbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJmUuZGVtJiZ0aGlzLl9iYWNrZmlsbERFTShlKSx0aGlzLl9zdGF0ZS5pbml0aWFsaXplVGlsZVN0YXRlKGUsdGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsKSx0aGlzLl9zb3VyY2UuZmlyZShuZXcgSGUoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsdGlsZTplLGNvb3JkOmUudGlsZUlELHNvdXJjZUNhY2hlSWQ6dGhpcy5pZH0pKX1fYmFja2ZpbGxERU0oZSl7Y29uc3QgdD10aGlzLmdldFJlbmRlcmFibGVJZHMoKTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcj10W2ldO2lmKGUubmVpZ2hib3JpbmdUaWxlcyYmZS5uZWlnaGJvcmluZ1RpbGVzW3JdKXtjb25zdCB0PXRoaXMuZ2V0VGlsZUJ5SUQocik7bihlLHQpLG4odCxlKX19ZnVuY3Rpb24gbihlLHQpe2lmKCFlLmRlbXx8ZS5kZW0uYm9yZGVyUmVhZHkpcmV0dXJuO2UubmVlZHNIaWxsc2hhZGVQcmVwYXJlPSEwLGUubmVlZHNERU1UZXh0dXJlVXBsb2FkPSEwO2xldCBuPXQudGlsZUlELmNhbm9uaWNhbC54LWUudGlsZUlELmNhbm9uaWNhbC54O2NvbnN0IGk9dC50aWxlSUQuY2Fub25pY2FsLnktZS50aWxlSUQuY2Fub25pY2FsLnkscj1NYXRoLnBvdygyLGUudGlsZUlELmNhbm9uaWNhbC56KSxvPXQudGlsZUlELmtleTswPT09biYmMD09PWl8fE1hdGguYWJzKGkpPjF8fChNYXRoLmFicyhuKT4xJiYoMT09PU1hdGguYWJzKG4rcik/bis9cjoxPT09TWF0aC5hYnMobi1yKSYmKG4tPXIpKSx0LmRlbSYmZS5kZW0mJihlLmRlbS5iYWNrZmlsbEJvcmRlcih0LmRlbSxuLGkpLGUubmVpZ2hib3JpbmdUaWxlcyYmZS5uZWlnaGJvcmluZ1RpbGVzW29dJiYoZS5uZWlnaGJvcmluZ1RpbGVzW29dLmJhY2tmaWxsZWQ9ITApKSl9fWdldFRpbGUoZSl7cmV0dXJuIHRoaXMuZ2V0VGlsZUJ5SUQoZS5rZXkpfWdldFRpbGVCeUlEKGUpe3JldHVybiB0aGlzLl90aWxlc1tlXX1fcmV0YWluTG9hZGVkQ2hpbGRyZW4oZSx0LG4saSl7Zm9yKGNvbnN0IHIgaW4gdGhpcy5fdGlsZXMpe2xldCBvPXRoaXMuX3RpbGVzW3JdO2lmKGlbcl18fCFvLmhhc0RhdGEoKXx8by50aWxlSUQub3ZlcnNjYWxlZFo8PXR8fG8udGlsZUlELm92ZXJzY2FsZWRaPm4pY29udGludWU7bGV0IGE9by50aWxlSUQ7Zm9yKDtvJiZvLnRpbGVJRC5vdmVyc2NhbGVkWj50KzE7KXtjb25zdCBlPW8udGlsZUlELnNjYWxlZFRvKG8udGlsZUlELm92ZXJzY2FsZWRaLTEpO289dGhpcy5fdGlsZXNbZS5rZXldLG8mJm8uaGFzRGF0YSgpJiYoYT1lKX1sZXQgcz1hO2Zvcig7cy5vdmVyc2NhbGVkWj50OylpZihzPXMuc2NhbGVkVG8ocy5vdmVyc2NhbGVkWi0xKSxlW3Mua2V5XSl7aVthLmtleV09YTticmVha319fWZpbmRMb2FkZWRQYXJlbnQoZSx0KXtpZihlLmtleSBpbiB0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcyl7Y29uc3Qgbj10aGlzLl9sb2FkZWRQYXJlbnRUaWxlc1tlLmtleV07cmV0dXJuIG4mJm4udGlsZUlELm92ZXJzY2FsZWRaPj10P246bnVsbH1mb3IobGV0IG49ZS5vdmVyc2NhbGVkWi0xO24+PXQ7bi0tKXtjb25zdCB0PWUuc2NhbGVkVG8obiksaT10aGlzLl9nZXRMb2FkZWRUaWxlKHQpO2lmKGkpcmV0dXJuIGl9fV9nZXRMb2FkZWRUaWxlKGUpe2NvbnN0IHQ9dGhpcy5fdGlsZXNbZS5rZXldO3JldHVybiB0JiZ0Lmhhc0RhdGEoKT90OnRoaXMuX2NhY2hlLmdldEJ5S2V5KHRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZD9lLndyYXBwZWQoKS5rZXk6ZS5jYW5vbmljYWwua2V5KX11cGRhdGVDYWNoZVNpemUoZSx0KXt0PXR8fHRoaXMuX3NvdXJjZS50aWxlU2l6ZTtjb25zdCBuPU1hdGguY2VpbChlLndpZHRoL3QpKzEsaT1NYXRoLmNlaWwoZS5oZWlnaHQvdCkrMSxyPU1hdGguZmxvb3IobippKjUpLG89XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX21pblRpbGVDYWNoZVNpemU/TWF0aC5tYXgodGhpcy5fbWluVGlsZUNhY2hlU2l6ZSxyKTpyLGE9XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX21heFRpbGVDYWNoZVNpemU/TWF0aC5taW4odGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSxvKTpvO3RoaXMuX2NhY2hlLnNldE1heFNpemUoYSl9aGFuZGxlV3JhcEp1bXAoZSl7Y29uc3QgdD1NYXRoLnJvdW5kKChlLSh2b2lkIDA9PT10aGlzLl9wcmV2TG5nP2U6dGhpcy5fcHJldkxuZykpLzM2MCk7aWYodGhpcy5fcHJldkxuZz1lLHQpe2NvbnN0IGU9e307Zm9yKGNvbnN0IG4gaW4gdGhpcy5fdGlsZXMpe2NvbnN0IGk9dGhpcy5fdGlsZXNbbl07aS50aWxlSUQ9aS50aWxlSUQudW53cmFwVG8oaS50aWxlSUQud3JhcCt0KSxlW2kudGlsZUlELmtleV09aX10aGlzLl90aWxlcz1lO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbWVycyljbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW2VdKSxkZWxldGUgdGhpcy5fdGltZXJzW2VdO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcigrZSx0aGlzLl90aWxlc1tlXSl9fXVwZGF0ZShlLHQsbil7aWYodGhpcy50cmFuc2Zvcm09ZSwhdGhpcy5fc291cmNlTG9hZGVkfHx0aGlzLl9wYXVzZWR8fHRoaXMudHJhbnNmb3JtLmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47aWYodGhpcy51c2VkRm9yVGVycmFpbiYmIW4pcmV0dXJuO2xldCBpO3RoaXMudXBkYXRlQ2FjaGVTaXplKGUsdCksXCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lJiZ0aGlzLmhhbmRsZVdyYXBKdW1wKHRoaXMudHJhbnNmb3JtLmNlbnRlci5sbmcpLHRoaXMuX2NvdmVyZWRUaWxlcz17fSx0aGlzLnVzZWR8fHRoaXMudXNlZEZvclRlcnJhaW4/dGhpcy5fc291cmNlLnRpbGVJRD9pPWUuZ2V0VmlzaWJsZVVud3JhcHBlZENvb3JkaW5hdGVzKHRoaXMuX3NvdXJjZS50aWxlSUQpLm1hcChlPT5uZXcgRHUoZS5jYW5vbmljYWwueixlLndyYXAsZS5jYW5vbmljYWwueixlLmNhbm9uaWNhbC54LGUuY2Fub25pY2FsLnkpKTooaT1lLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplOnR8fHRoaXMuX3NvdXJjZS50aWxlU2l6ZSxtaW56b29tOnRoaXMuX3NvdXJjZS5taW56b29tLG1heHpvb206dGhpcy5fc291cmNlLm1heHpvb20scm91bmRab29tOnRoaXMuX3NvdXJjZS5yb3VuZFpvb20mJiFuLHJlcGFyc2VPdmVyc2NhbGVkOnRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZCxpc1RlcnJhaW5ERU06dGhpcy51c2VkRm9yVGVycmFpbn0pLHRoaXMuX3NvdXJjZS5oYXNUaWxlJiYoaT1pLmZpbHRlcihlPT50aGlzLl9zb3VyY2UuaGFzVGlsZShlKSkpKTppPVtdO2NvbnN0IHI9dGhpcy5fdXBkYXRlUmV0YWluZWRUaWxlcyhpKTtpZihSZih0aGlzLl9zb3VyY2UudHlwZSkmJjAhPT1pLmxlbmd0aCl7Y29uc3QgZT17fSx0PXt9LG49T2JqZWN0LmtleXMocik7Zm9yKGNvbnN0IGkgb2Ygbil7Y29uc3Qgbj1yW2ldLG89dGhpcy5fdGlsZXNbaV07aWYoIW98fG8uZmFkZUVuZFRpbWUmJm8uZmFkZUVuZFRpbWU8PVdlLm5vdygpKWNvbnRpbnVlO2NvbnN0IGE9dGhpcy5maW5kTG9hZGVkUGFyZW50KG4sTWF0aC5tYXgobi5vdmVyc2NhbGVkWi1MZi5tYXhPdmVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSkpO2EmJih0aGlzLl9hZGRUaWxlKGEudGlsZUlEKSxlW2EudGlsZUlELmtleV09YS50aWxlSUQpLHRbaV09bn1jb25zdCBvPWlbaS5sZW5ndGgtMV0ub3ZlcnNjYWxlZFo7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IG49dGhpcy5fdGlsZXNbZV07aWYocltlXXx8IW4uaGFzRGF0YSgpKWNvbnRpbnVlO2xldCBpPW4udGlsZUlEO2Zvcig7aS5vdmVyc2NhbGVkWj5vOyl7aT1pLnNjYWxlZFRvKGkub3ZlcnNjYWxlZFotMSk7Y29uc3Qgbz10aGlzLl90aWxlc1tpLmtleV07aWYobyYmby5oYXNEYXRhKCkmJnRbaS5rZXldKXtyW2VdPW4udGlsZUlEO2JyZWFrfX19Zm9yKGNvbnN0IHQgaW4gZSlyW3RdfHwodGhpcy5fY292ZXJlZFRpbGVzW3RdPSEwLHJbdF09ZVt0XSl9Zm9yKGNvbnN0IGUgaW4gcil0aGlzLl90aWxlc1tlXS5jbGVhckZhZGVIb2xkKCk7Y29uc3Qgbz1mdW5jdGlvbihlLHQpe2NvbnN0IG49W107Zm9yKGNvbnN0IGkgaW4gZSlpIGluIHR8fG4ucHVzaChpKTtyZXR1cm4gbn0odGhpcy5fdGlsZXMscik7Zm9yKGNvbnN0IGUgb2Ygbyl7Y29uc3QgdD10aGlzLl90aWxlc1tlXTt0Lmhhc1N5bWJvbEJ1Y2tldHMmJiF0LmhvbGRpbmdGb3JGYWRlKCk/dC5zZXRIb2xkRHVyYXRpb24odGhpcy5tYXAuX2ZhZGVEdXJhdGlvbik6dC5oYXNTeW1ib2xCdWNrZXRzJiYhdC5zeW1ib2xGYWRlRmluaXNoZWQoKXx8dGhpcy5fcmVtb3ZlVGlsZSgrZSl9dGhpcy5fdXBkYXRlTG9hZGVkUGFyZW50VGlsZUNhY2hlKCksdGhpcy5fb25seVN5bWJvbHMmJnRoaXMuX3NvdXJjZS5hZnRlclVwZGF0ZSYmdGhpcy5fc291cmNlLmFmdGVyVXBkYXRlKCl9cmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpe2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXRoaXMuX3RpbGVzW2VdLmhvbGRpbmdGb3JGYWRlKCkmJnRoaXMuX3JlbW92ZVRpbGUoK2UpfV91cGRhdGVSZXRhaW5lZFRpbGVzKGUpe2NvbnN0IHQ9e307aWYoMD09PWUubGVuZ3RoKXJldHVybiB0O2NvbnN0IG49e30saT1lLnJlZHVjZSgoZSx0KT0+TWF0aC5taW4oZSx0Lm92ZXJzY2FsZWRaKSwxLzApLHI9ZVswXS5vdmVyc2NhbGVkWixvPU1hdGgubWF4KHItTGYubWF4T3Zlcnpvb21pbmcsdGhpcy5fc291cmNlLm1pbnpvb20pLGE9TWF0aC5tYXgocitMZi5tYXhVbmRlcnpvb21pbmcsdGhpcy5fc291cmNlLm1pbnpvb20pLHM9e307Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT10aGlzLl9hZGRUaWxlKG4pO3Rbbi5rZXldPW4sZS5oYXNEYXRhKCl8fGk8dGhpcy5fc291cmNlLm1heHpvb20mJihzW24ua2V5XT1uKX10aGlzLl9yZXRhaW5Mb2FkZWRDaGlsZHJlbihzLGksYSx0KTtmb3IoY29uc3QgaSBvZiBlKXtsZXQgZT10aGlzLl90aWxlc1tpLmtleV07aWYoZS5oYXNEYXRhKCkpY29udGludWU7aWYoaS5jYW5vbmljYWwuej49dGhpcy5fc291cmNlLm1heHpvb20pe2NvbnN0IGU9aS5jaGlsZHJlbih0aGlzLl9zb3VyY2UubWF4em9vbSlbMF0sbj10aGlzLmdldFRpbGUoZSk7aWYobiYmbi5oYXNEYXRhKCkpe3RbZS5rZXldPWU7Y29udGludWV9fWVsc2V7Y29uc3QgZT1pLmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKTtpZih0W2VbMF0ua2V5XSYmdFtlWzFdLmtleV0mJnRbZVsyXS5rZXldJiZ0W2VbM10ua2V5XSljb250aW51ZX1sZXQgcj1lLndhc1JlcXVlc3RlZCgpO2ZvcihsZXQgYT1pLm92ZXJzY2FsZWRaLTE7YT49bzstLWEpe2NvbnN0IG89aS5zY2FsZWRUbyhhKTtpZihuW28ua2V5XSlicmVhaztpZihuW28ua2V5XT0hMCxlPXRoaXMuZ2V0VGlsZShvKSwhZSYmciYmKGU9dGhpcy5fYWRkVGlsZShvKSksZSYmKHRbby5rZXldPW8scj1lLndhc1JlcXVlc3RlZCgpLGUuaGFzRGF0YSgpKSlicmVha319cmV0dXJuIHR9X3VwZGF0ZUxvYWRlZFBhcmVudFRpbGVDYWNoZSgpe3RoaXMuX2xvYWRlZFBhcmVudFRpbGVzPXt9O2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXtjb25zdCB0PVtdO2xldCBuLGk9dGhpcy5fdGlsZXNbZV0udGlsZUlEO2Zvcig7aS5vdmVyc2NhbGVkWj4wOyl7aWYoaS5rZXkgaW4gdGhpcy5fbG9hZGVkUGFyZW50VGlsZXMpe249dGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbaS5rZXldO2JyZWFrfXQucHVzaChpLmtleSk7Y29uc3QgZT1pLnNjYWxlZFRvKGkub3ZlcnNjYWxlZFotMSk7aWYobj10aGlzLl9nZXRMb2FkZWRUaWxlKGUpLG4pYnJlYWs7aT1lfWZvcihjb25zdCBlIG9mIHQpdGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbZV09bn19X2FkZFRpbGUoZSl7bGV0IHQ9dGhpcy5fdGlsZXNbZS5rZXldO2lmKHQpcmV0dXJuIHQ7dD10aGlzLl9jYWNoZS5nZXRBbmRSZW1vdmUoZSksdCYmKHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcihlLmtleSx0KSx0LnRpbGVJRD1lLHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUodCx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpLHRoaXMuX2NhY2hlVGltZXJzW2Uua2V5XSYmKGNsZWFyVGltZW91dCh0aGlzLl9jYWNoZVRpbWVyc1tlLmtleV0pLGRlbGV0ZSB0aGlzLl9jYWNoZVRpbWVyc1tlLmtleV0sdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGUua2V5LHQpKSk7Y29uc3Qgbj1Cb29sZWFuKHQpO2lmKCFuKXtjb25zdCBuPXRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbDt0PW5ldyB5ZihlLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSplLm92ZXJzY2FsZUZhY3RvcigpLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLG4sdGhpcy5faXNSYXN0ZXIpLHRoaXMuX2xvYWRUaWxlKHQsdGhpcy5fdGlsZUxvYWRlZC5iaW5kKHRoaXMsdCxlLmtleSx0LnN0YXRlKSl9cmV0dXJuIHQ/KHQudXNlcysrLHRoaXMuX3RpbGVzW2Uua2V5XT10LG58fHRoaXMuX3NvdXJjZS5maXJlKG5ldyBIZShcImRhdGFsb2FkaW5nXCIse3RpbGU6dCxjb29yZDp0LnRpbGVJRCxkYXRhVHlwZTpcInNvdXJjZVwifSkpLHQpOm51bGx9X3NldFRpbGVSZWxvYWRUaW1lcihlLHQpe2UgaW4gdGhpcy5fdGltZXJzJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1tlXSksZGVsZXRlIHRoaXMuX3RpbWVyc1tlXSk7Y29uc3Qgbj10LmdldEV4cGlyeVRpbWVvdXQoKTtuJiYodGhpcy5fdGltZXJzW2VdPXNldFRpbWVvdXQoKCk9Pnt0aGlzLl9yZWxvYWRUaWxlKGUsXCJleHBpcmVkXCIpLGRlbGV0ZSB0aGlzLl90aW1lcnNbZV19LG4pKX1fcmVtb3ZlVGlsZShlKXtjb25zdCB0PXRoaXMuX3RpbGVzW2VdO3QmJih0LnVzZXMtLSxkZWxldGUgdGhpcy5fdGlsZXNbZV0sdGhpcy5fdGltZXJzW2VdJiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1tlXSksZGVsZXRlIHRoaXMuX3RpbWVyc1tlXSksdC51c2VzPjB8fCh0Lmhhc0RhdGEoKSYmXCJyZWxvYWRpbmdcIiE9PXQuc3RhdGU/dGhpcy5fY2FjaGUuYWRkKHQudGlsZUlELHQsdC5nZXRFeHBpcnlUaW1lb3V0KCkpOih0LmFib3J0ZWQ9ITAsdGhpcy5fYWJvcnRUaWxlKHQpLHRoaXMuX3VubG9hZFRpbGUodCkpKSl9Y2xlYXJUaWxlcygpe3RoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lPSExLHRoaXMuX3BhdXNlZD0hMTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl0aGlzLl9yZW1vdmVUaWxlKCtlKTt0aGlzLl9zb3VyY2UuX2NsZWFyJiZ0aGlzLl9zb3VyY2UuX2NsZWFyKCksdGhpcy5fY2FjaGUucmVzZXQoKSx0aGlzLm1hcCYmdGhpcy51c2VkRm9yVGVycmFpbiYmdGhpcy5tYXAucGFpbnRlci50ZXJyYWluJiZ0aGlzLm1hcC5wYWludGVyLnRlcnJhaW4ucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5pZCl9dGlsZXNJbihlLHQsbil7Y29uc3QgaT1bXSxyPXRoaXMudHJhbnNmb3JtO2lmKCFyKXJldHVybiBpO2NvbnN0IG89XCJnbG9iZVwiPT09ci5wcm9qZWN0aW9uLm5hbWUsYT12cyhyLmNlbnRlci5sbmcpO2Zvcihjb25zdCBzIGluIHRoaXMuX3RpbGVzKXtjb25zdCBsPXRoaXMuX3RpbGVzW3NdO2lmKG4mJmwuY2xlYXJRdWVyeURlYnVnVml6KCksbC5ob2xkaW5nRm9yRmFkZSgpKWNvbnRpbnVlO2xldCBjO2lmKG8pe2NvbnN0IGU9bC50aWxlSUQuY2Fub25pY2FsO2lmKDA9PT1lLnope2NvbnN0IHQ9W01hdGguYWJzKFMoYSwuLi5CZihlLC0xKSktYSksTWF0aC5hYnMoUyhhLC4uLkJmKGUsMSkpLWEpXTtjPVswLDIqdC5pbmRleE9mKE1hdGgubWluKC4uLnQpKS0xXX1lbHNle2NvbnN0IHQ9W01hdGguYWJzKFMoYSwuLi5CZihlLC0xKSktYSksTWF0aC5hYnMoUyhhLC4uLkJmKGUsMCkpLWEpLE1hdGguYWJzKFMoYSwuLi5CZihlLDEpKS1hKV07Yz1bdC5pbmRleE9mKE1hdGgubWluKC4uLnQpKS0xXX19ZWxzZSBjPVswXTtmb3IoY29uc3QgbiBvZiBjKXtjb25zdCBvPWUuY29udGFpbnNUaWxlKGwscix0LG4pO28mJmkucHVzaChvKX19cmV0dXJuIGl9Z2V0VmlzaWJsZUNvb3JkaW5hdGVzKGUpe2NvbnN0IHQ9dGhpcy5nZXRSZW5kZXJhYmxlSWRzKGUpLm1hcChlPT50aGlzLl90aWxlc1tlXS50aWxlSUQpO2Zvcihjb25zdCBlIG9mIHQpZS5wcm9qTWF0cml4PXRoaXMudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgoZS50b1Vud3JhcHBlZCgpKTtyZXR1cm4gdH1oYXNUcmFuc2l0aW9uKCl7aWYodGhpcy5fc291cmNlLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4hMDtpZihSZih0aGlzLl9zb3VyY2UudHlwZSkpZm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IHQ9dGhpcy5fdGlsZXNbZV07aWYodm9pZCAwIT09dC5mYWRlRW5kVGltZSYmdC5mYWRlRW5kVGltZT49V2Uubm93KCkpcmV0dXJuITB9cmV0dXJuITF9c2V0RmVhdHVyZVN0YXRlKGUsdCxuKXt0aGlzLl9zdGF0ZS51cGRhdGVTdGF0ZShlPWV8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIix0LG4pfXJlbW92ZUZlYXR1cmVTdGF0ZShlLHQsbil7dGhpcy5fc3RhdGUucmVtb3ZlRmVhdHVyZVN0YXRlKGU9ZXx8XCJfZ2VvanNvblRpbGVMYXllclwiLHQsbil9Z2V0RmVhdHVyZVN0YXRlKGUsdCl7cmV0dXJuIHRoaXMuX3N0YXRlLmdldFN0YXRlKGU9ZXx8XCJfZ2VvanNvblRpbGVMYXllclwiLHQpfXNldERlcGVuZGVuY2llcyhlLHQsbil7Y29uc3QgaT10aGlzLl90aWxlc1tlXTtpJiZpLnNldERlcGVuZGVuY2llcyh0LG4pfXJlbG9hZFRpbGVzRm9yRGVwZW5kZW5jaWVzKGUsdCl7Zm9yKGNvbnN0IG4gaW4gdGhpcy5fdGlsZXMpdGhpcy5fdGlsZXNbbl0uaGFzRGVwZW5kZW5jeShlLHQpJiZ0aGlzLl9yZWxvYWRUaWxlKCtuLFwicmVsb2FkaW5nXCIpO3RoaXMuX2NhY2hlLmZpbHRlcihuPT4hbi5oYXNEZXBlbmRlbmN5KGUsdCkpfV9wcmVsb2FkVGlsZXMoZSx0KXtjb25zdCBuPW5ldyBNYXAsaT1BcnJheS5pc0FycmF5KGUpP2U6W2VdLHI9dGhpcy5tYXAucGFpbnRlci50ZXJyYWluLG89dGhpcy51c2VkRm9yVGVycmFpbiYmcj9yLmdldFNjYWxlZERlbVRpbGVTaXplKCk6dGhpcy5fc291cmNlLnRpbGVTaXplO2Zvcihjb25zdCBlIG9mIGkpe2NvbnN0IHQ9ZS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTpvLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSYmIXRoaXMudXNlZEZvclRlcnJhaW4scmVwYXJzZU92ZXJzY2FsZWQ6dGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkLGlzVGVycmFpbkRFTTp0aGlzLnVzZWRGb3JUZXJyYWlufSk7Zm9yKGNvbnN0IGUgb2YgdCluLnNldChlLmtleSxlKTt0aGlzLnVzZWRGb3JUZXJyYWluJiZlLnVwZGF0ZUVsZXZhdGlvbighMSl9QyhBcnJheS5mcm9tKG4udmFsdWVzKCkpLChlLHQpPT57Y29uc3Qgbj1uZXcgeWYoZSx0aGlzLl9zb3VyY2UudGlsZVNpemUqZS5vdmVyc2NhbGVGYWN0b3IoKSx0aGlzLnRyYW5zZm9ybS50aWxlWm9vbSx0aGlzLm1hcC5wYWludGVyLHRoaXMuX2lzUmFzdGVyKTt0aGlzLl9sb2FkVGlsZShuLGU9PntcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZuLmRlbSYmdGhpcy5fYmFja2ZpbGxERU0obiksdChlLG4pfSl9LHQpfX1mdW5jdGlvbiBPZihlLHQpe2NvbnN0IG49TWF0aC5hYnMoMiplLndyYXApLSsoZS53cmFwPDApLGk9TWF0aC5hYnMoMip0LndyYXApLSsodC53cmFwPDApO3JldHVybiBlLm92ZXJzY2FsZWRaLXQub3ZlcnNjYWxlZFp8fGktbnx8dC5jYW5vbmljYWwueS1lLmNhbm9uaWNhbC55fHx0LmNhbm9uaWNhbC54LWUuY2Fub25pY2FsLnh9ZnVuY3Rpb24gUmYoZSl7cmV0dXJuXCJyYXN0ZXJcIj09PWV8fFwiaW1hZ2VcIj09PWV8fFwidmlkZW9cIj09PWV8fFwiY3VzdG9tXCI9PT1lfWZ1bmN0aW9uIEJmKGUsdCl7Y29uc3Qgbj0xPDxlLno7cmV0dXJuW2UueC9uK3QsKGUueCsxKS9uK3RdfUxmLm1heE92ZXJ6b29taW5nPTEwLExmLm1heFVuZGVyem9vbWluZz0zO2NsYXNzIGpme2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLl9kZW1UaWxlPWUsdGhpcy5fZGVtPXRoaXMuX2RlbVRpbGUuZGVtLHRoaXMuX3NjYWxlPXQsdGhpcy5fb2Zmc2V0PW59c3RhdGljIGNyZWF0ZShlLHQsbil7Y29uc3QgaT1ufHxlLmZpbmRERU1UaWxlRm9yKHQpO2lmKCFpfHwhaS5kZW0pcmV0dXJuO2NvbnN0IHI9aS5kZW0sbz1pLnRpbGVJRCxhPTE8PHQuY2Fub25pY2FsLnotby5jYW5vbmljYWwuejtyZXR1cm4gbmV3IGpmKGksaS50aWxlU2l6ZS9wcy9hLFsodC5jYW5vbmljYWwueC9hLW8uY2Fub25pY2FsLngpKnIuZGltLCh0LmNhbm9uaWNhbC55L2Etby5jYW5vbmljYWwueSkqci5kaW1dKX10aWxlQ29vcmRUb1BpeGVsKGUsdCl7Y29uc3Qgbj10KnRoaXMuX3NjYWxlK3RoaXMuX29mZnNldFsxXSxpPU1hdGguZmxvb3IoZSp0aGlzLl9zY2FsZSt0aGlzLl9vZmZzZXRbMF0pLHI9TWF0aC5mbG9vcihuKTtyZXR1cm4gbmV3IG0oaSxyKX1nZXRFbGV2YXRpb25BdChlLHQsbixpKXtjb25zdCByPWUqdGhpcy5fc2NhbGUrdGhpcy5fb2Zmc2V0WzBdLG89dCp0aGlzLl9zY2FsZSt0aGlzLl9vZmZzZXRbMV0sYT1NYXRoLmZsb29yKHIpLHM9TWF0aC5mbG9vcihvKSxsPXRoaXMuX2RlbTtyZXR1cm4gaT0hIWksbj9DbihDbihsLmdldChhLHMsaSksbC5nZXQoYSxzKzEsaSksby1zKSxDbihsLmdldChhKzEscyxpKSxsLmdldChhKzEscysxLGkpLG8tcyksci1hKTpsLmdldChhLHMsaSl9Z2V0RWxldmF0aW9uQXRQaXhlbChlLHQsbil7cmV0dXJuIHRoaXMuX2RlbS5nZXQoZSx0LCEhbil9Z2V0TWV0ZXJUb0RFTShlKXtyZXR1cm4oMTw8dGhpcy5fZGVtVGlsZS50aWxlSUQuY2Fub25pY2FsLnopKmJzKDEsZSkqdGhpcy5fZGVtLnN0cmlkZX19Y2xhc3MgRmZ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnRpbGVJRD1lLHRoaXMueD1lLmNhbm9uaWNhbC54LHRoaXMueT1lLmNhbm9uaWNhbC55LHRoaXMuej1lLmNhbm9uaWNhbC56LHRoaXMuZ3JpZD1uZXcga3IocHMsMTYsMCksdGhpcy5mZWF0dXJlSW5kZXhBcnJheT1uZXcgQWEsdGhpcy5wcm9tb3RlSWQ9dH1pbnNlcnQoZSx0LG4saSxyLG89MCl7Y29uc3QgYT10aGlzLmZlYXR1cmVJbmRleEFycmF5Lmxlbmd0aDt0aGlzLmZlYXR1cmVJbmRleEFycmF5LmVtcGxhY2VCYWNrKG4saSxyLG8pO2NvbnN0IHM9dGhpcy5ncmlkO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBuPXRbZV0saT1bMS8wLDEvMCwtMS8wLC0xLzBdO2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKXtjb25zdCB0PW5bZV07aVswXT1NYXRoLm1pbihpWzBdLHQueCksaVsxXT1NYXRoLm1pbihpWzFdLHQueSksaVsyXT1NYXRoLm1heChpWzJdLHQueCksaVszXT1NYXRoLm1heChpWzNdLHQueSl9aVswXTxwcyYmaVsxXTxwcyYmaVsyXT49MCYmaVszXT49MCYmcy5pbnNlcnQoYSxpWzBdLGlbMV0saVsyXSxpWzNdKX19bG9hZFZUTGF5ZXJzKCl7aWYoIXRoaXMudnRMYXllcnMpe3RoaXMudnRMYXllcnM9bmV3IGh1KG5ldyBkaCh0aGlzLnJhd1RpbGVEYXRhKSkubGF5ZXJzLHRoaXMuc291cmNlTGF5ZXJDb2Rlcj1uZXcgc2YodGhpcy52dExheWVycz9PYmplY3Qua2V5cyh0aGlzLnZ0TGF5ZXJzKS5zb3J0KCk6W1wiX2dlb2pzb25UaWxlTGF5ZXJcIl0pLHRoaXMudnRGZWF0dXJlcz17fTtmb3IoY29uc3QgZSBpbiB0aGlzLnZ0TGF5ZXJzKXRoaXMudnRGZWF0dXJlc1tlXT1bXX1yZXR1cm4gdGhpcy52dExheWVyc31xdWVyeShlLHQsbixpKXt0aGlzLmxvYWRWVExheWVycygpO2NvbnN0IHI9ZS5wYXJhbXN8fHt9LG89S2koci5maWx0ZXIpLGE9ZS50aWxlUmVzdWx0LHM9ZS50cmFuc2Zvcm0sbD1hLmJ1ZmZlcmVkVGlsZXNwYWNlQm91bmRzLGM9dGhpcy5ncmlkLnF1ZXJ5KGwubWluLngsbC5taW4ueSxsLm1heC54LGwubWF4LnksKGUsdCxuLGkpPT5ZcyhhLmJ1ZmZlcmVkVGlsZXNwYWNlR2VvbWV0cnksZSx0LG4saSkpO2Muc29ydChVZik7bGV0IHU9bnVsbDtzLmVsZXZhdGlvbiYmYy5sZW5ndGg+MCYmKHU9amYuY3JlYXRlKHMuZWxldmF0aW9uLHRoaXMudGlsZUlEKSk7Y29uc3QgaD17fTtsZXQgZDtmb3IobGV0IHM9MDtzPGMubGVuZ3RoO3MrKyl7Y29uc3QgbD1jW3NdO2lmKGw9PT1kKWNvbnRpbnVlO2Q9bDtjb25zdCBwPXRoaXMuZmVhdHVyZUluZGV4QXJyYXkuZ2V0KGwpO2xldCBmPW51bGw7dGhpcy5sb2FkTWF0Y2hpbmdGZWF0dXJlKGgscCxvLHIubGF5ZXJzLHIuYXZhaWxhYmxlSW1hZ2VzLHQsbixpLCh0LG4saSxyPTApPT4oZnx8KGY9T3ModCx0aGlzLnRpbGVJRC5jYW5vbmljYWwsZS50aWxlVHJhbnNmb3JtKSksbi5xdWVyeUludGVyc2VjdHNGZWF0dXJlKGEsdCxpLGYsdGhpcy56LGUudHJhbnNmb3JtLGUucGl4ZWxQb3NNYXRyaXgsdSxyKSkpfXJldHVybiBofWxvYWRNYXRjaGluZ0ZlYXR1cmUoZSx0LG4saSxyLG8sYSxzLGwpe2NvbnN0e2ZlYXR1cmVJbmRleDpjLGJ1Y2tldEluZGV4OnUsc291cmNlTGF5ZXJJbmRleDpoLGxheW91dFZlcnRleEFycmF5T2Zmc2V0OmR9PXQscD10aGlzLmJ1Y2tldExheWVySURzW3VdO2lmKGkmJiFmdW5jdGlvbihlLHQpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKWlmKHQuaW5kZXhPZihlW25dKT49MClyZXR1cm4hMDtyZXR1cm4hMX0oaSxwKSlyZXR1cm47Y29uc3QgZj10aGlzLnNvdXJjZUxheWVyQ29kZXIuZGVjb2RlKGgpLG09dGhpcy52dExheWVyc1tmXS5mZWF0dXJlKGMpO2lmKG4ubmVlZEdlb21ldHJ5KXtjb25zdCBlPVJzKG0sITApO2lmKCFuLmZpbHRlcihuZXcgUG8odGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLGUsdGhpcy50aWxlSUQuY2Fub25pY2FsKSlyZXR1cm59ZWxzZSBpZighbi5maWx0ZXIobmV3IFBvKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSxtKSlyZXR1cm47Y29uc3QgZz10aGlzLmdldElkKG0sZik7Zm9yKGxldCB0PTA7dDxwLmxlbmd0aDt0Kyspe2NvbnN0IG49cFt0XTtpZihpJiZpLmluZGV4T2Yobik8MCljb250aW51ZTtjb25zdCB1PW9bbl07aWYoIXUpY29udGludWU7bGV0IGg9e307dm9pZCAwIT09ZyYmcyYmKGg9cy5nZXRTdGF0ZSh1LnNvdXJjZUxheWVyfHxcIl9nZW9qc29uVGlsZUxheWVyXCIsZykpO2NvbnN0IGY9QSh7fSxhW25dKTtmLnBhaW50PU5mKGYucGFpbnQsdS5wYWludCxtLGgsciksZi5sYXlvdXQ9TmYoZi5sYXlvdXQsdS5sYXlvdXQsbSxoLHIpO2NvbnN0IHk9IWx8fGwobSx1LGgsZCk7aWYoIXkpY29udGludWU7Y29uc3QgXz1uZXcgY2YobSx0aGlzLnosdGhpcy54LHRoaXMueSxnKTtfLmxheWVyPWY7bGV0IHY9ZVtuXTt2b2lkIDA9PT12JiYodj1lW25dPVtdKSx2LnB1c2goe2ZlYXR1cmVJbmRleDpjLGZlYXR1cmU6XyxpbnRlcnNlY3Rpb25aOnl9KX19bG9va3VwU3ltYm9sRmVhdHVyZXMoZSx0LG4saSxyLG8sYSxzKXtjb25zdCBsPXt9O3RoaXMubG9hZFZUTGF5ZXJzKCk7Y29uc3QgYz1LaShyKTtmb3IoY29uc3QgciBvZiBlKXRoaXMubG9hZE1hdGNoaW5nRmVhdHVyZShsLHtidWNrZXRJbmRleDpuLHNvdXJjZUxheWVySW5kZXg6aSxmZWF0dXJlSW5kZXg6cixsYXlvdXRWZXJ0ZXhBcnJheU9mZnNldDowfSxjLG8sYSxzLHQpO3JldHVybiBsfWxvYWRGZWF0dXJlKGUpe2NvbnN0e2ZlYXR1cmVJbmRleDp0LHNvdXJjZUxheWVySW5kZXg6bn09ZTt0aGlzLmxvYWRWVExheWVycygpO2NvbnN0IGk9dGhpcy5zb3VyY2VMYXllckNvZGVyLmRlY29kZShuKSxyPXRoaXMudnRGZWF0dXJlc1tpXTtpZihyW3RdKXJldHVybiByW3RdO2NvbnN0IG89dGhpcy52dExheWVyc1tpXS5mZWF0dXJlKHQpO3JldHVybiByW3RdPW8sb31oYXNMYXllcihlKXtmb3IoY29uc3QgdCBvZiB0aGlzLmJ1Y2tldExheWVySURzKWZvcihjb25zdCBuIG9mIHQpaWYoZT09PW4pcmV0dXJuITA7cmV0dXJuITF9Z2V0SWQoZSx0KXtsZXQgbj1lLmlkO2lmKHRoaXMucHJvbW90ZUlkKXtjb25zdCBpPVwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLnByb21vdGVJZD90aGlzLnByb21vdGVJZDp0aGlzLnByb21vdGVJZFt0XTtudWxsIT1pJiYobj1lLnByb3BlcnRpZXNbaV0pLFwiYm9vbGVhblwiPT10eXBlb2YgbiYmKG49TnVtYmVyKG4pKX1yZXR1cm4gbn19ZnVuY3Rpb24gTmYoZSx0LG4saSxyKXtyZXR1cm4gaihlLChlLG8pPT57Y29uc3QgYT10IGluc3RhbmNlb2YgRm8/dC5nZXQobyk6bnVsbDtyZXR1cm4gYSYmYS5ldmFsdWF0ZT9hLmV2YWx1YXRlKG4saSxyKTphfSl9ZnVuY3Rpb24gVWYoZSx0KXtyZXR1cm4gdC1lfXpyKEZmLFwiRmVhdHVyZUluZGV4XCIse29taXQ6W1wicmF3VGlsZURhdGFcIixcInNvdXJjZUxheWVyQ29kZXJcIl19KTtjbGFzcyBWZntjb25zdHJ1Y3RvcihlLHQpe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMubmV4dFJvdz0wLHRoaXMuaW1hZ2U9bmV3IG9jKHt3aWR0aDplLGhlaWdodDp0fSksdGhpcy5wb3NpdGlvbnM9e30sdGhpcy51cGxvYWRlZD0hMX1nZXREYXNoKGUsdCl7Y29uc3Qgbj10aGlzLmdldEtleShlLHQpO3JldHVybiB0aGlzLnBvc2l0aW9uc1tuXX10cmltKCl7Y29uc3QgZT10aGlzLndpZHRoLHQ9dGhpcy5oZWlnaHQ9TCh0aGlzLm5leHRSb3cpO3RoaXMuaW1hZ2UucmVzaXplKHt3aWR0aDplLGhlaWdodDp0fSl9Z2V0S2V5KGUsdCl7cmV0dXJuIGUuam9pbihcIixcIikrdH1nZXREYXNoUmFuZ2VzKGUsdCxuKXtjb25zdCBpPVtdO2xldCByPWUubGVuZ3RoJTI9PTE/LWVbZS5sZW5ndGgtMV0qbjowLG89ZVswXSpuLGE9ITA7aS5wdXNoKHtsZWZ0OnIscmlnaHQ6byxpc0Rhc2g6YSx6ZXJvTGVuZ3RoOjA9PT1lWzBdfSk7bGV0IHM9ZVswXTtmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKyl7YT0hYTtjb25zdCBsPWVbdF07cj1zKm4scys9bCxvPXMqbixpLnB1c2goe2xlZnQ6cixyaWdodDpvLGlzRGFzaDphLHplcm9MZW5ndGg6MD09PWx9KX1yZXR1cm4gaX1hZGRSb3VuZERhc2goZSx0LG4pe2NvbnN0IGk9dC8yO2ZvcihsZXQgdD0tbjt0PD1uO3QrKyl7Y29uc3Qgcj10aGlzLndpZHRoKih0aGlzLm5leHRSb3crbit0KTtsZXQgbz0wLGE9ZVtvXTtmb3IobGV0IHM9MDtzPHRoaXMud2lkdGg7cysrKXtzL2EucmlnaHQ+MSYmKGE9ZVsrK29dKTtjb25zdCBsPU1hdGguYWJzKHMtYS5sZWZ0KSxjPU1hdGguYWJzKHMtYS5yaWdodCksdT1NYXRoLm1pbihsLGMpO2xldCBoO2NvbnN0IGQ9dC9uKihpKzEpO2lmKGEuaXNEYXNoKXtjb25zdCBlPWktTWF0aC5hYnMoZCk7aD1NYXRoLnNxcnQodSp1K2UqZSl9ZWxzZSBoPWktTWF0aC5zcXJ0KHUqdStkKmQpO3RoaXMuaW1hZ2UuZGF0YVtyK3NdPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LGgrMTI4KSl9fX1hZGRSZWd1bGFyRGFzaChlLHQpe2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7LS10KXtjb25zdCBuPWVbdF0saT1lW3QrMV07bi56ZXJvTGVuZ3RoP2Uuc3BsaWNlKHQsMSk6aSYmaS5pc0Rhc2g9PT1uLmlzRGFzaCYmKGkubGVmdD1uLmxlZnQsZS5zcGxpY2UodCwxKSl9Y29uc3Qgbj1lWzBdLGk9ZVtlLmxlbmd0aC0xXTtuLmlzRGFzaD09PWkuaXNEYXNoJiYobi5sZWZ0PWkubGVmdC10aGlzLndpZHRoLGkucmlnaHQ9bi5yaWdodCt0aGlzLndpZHRoKTtjb25zdCByPXRoaXMud2lkdGgqdGhpcy5uZXh0Um93O2xldCBvPTAsYT1lW29dO2ZvcihsZXQgbj0wO248dGhpcy53aWR0aDtuKyspe24vYS5yaWdodD4xJiYoYT1lWysrb10pO2NvbnN0IGk9TWF0aC5hYnMobi1hLmxlZnQpLHM9TWF0aC5hYnMobi1hLnJpZ2h0KSxsPU1hdGgubWluKGkscyk7dGhpcy5pbWFnZS5kYXRhW3Irbl09TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsKGEuaXNEYXNoP2w6LWwpK3QrMTI4KSl9fWFkZERhc2goZSx0KXtjb25zdCBuPXRoaXMuZ2V0S2V5KGUsdCk7aWYodGhpcy5wb3NpdGlvbnNbbl0pcmV0dXJuIHRoaXMucG9zaXRpb25zW25dO2NvbnN0IGk9XCJyb3VuZFwiPT09dCxyPWk/NzowLG89MipyKzE7aWYodGhpcy5uZXh0Um93K28+dGhpcy5oZWlnaHQpcmV0dXJuIFYoXCJMaW5lQXRsYXMgb3V0IG9mIHNwYWNlXCIpLG51bGw7MD09PWUubGVuZ3RoJiZlLnB1c2goMSk7bGV0IGE9MDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdPDAmJihWKFwiTmVnYXRpdmUgdmFsdWUgaXMgZm91bmQgaW4gbGluZSBkYXNoYXJyYXksIHJlcGxhY2luZyB2YWx1ZXMgd2l0aCAwXCIpLGVbdF09MCksYSs9ZVt0XTtpZigwIT09YSl7Y29uc3Qgbj10aGlzLndpZHRoL2Esbz10aGlzLmdldERhc2hSYW5nZXMoZSx0aGlzLndpZHRoLG4pO2k/dGhpcy5hZGRSb3VuZERhc2gobyxuLHIpOnRoaXMuYWRkUmVndWxhckRhc2gobyxcInNxdWFyZVwiPT09dD8uNSpuOjApfWNvbnN0IHM9dGhpcy5uZXh0Um93K3I7dGhpcy5uZXh0Um93Kz1vO2NvbnN0IGw9e3RsOltzLHJdLGJyOlthLDBdfTtyZXR1cm4gdGhpcy5wb3NpdGlvbnNbbl09bCxsfX16cihWZixcIkxpbmVBdGxhc1wiKTtjbGFzcyBHZntjb25zdHJ1Y3RvcihlKXtjb25zdCB0PXt9LG49W107Zm9yKGNvbnN0IGkgaW4gZSl7Y29uc3Qgcj1lW2ldLG89dFtpXT17fTtmb3IoY29uc3QgZSBpbiByLmdseXBocyl7Y29uc3QgdD1yLmdseXBoc1srZV07aWYoIXR8fDA9PT10LmJpdG1hcC53aWR0aHx8MD09PXQuYml0bWFwLmhlaWdodCljb250aW51ZTtjb25zdCBpPXQubWV0cmljcy5sb2NhbEdseXBoPzI6MSxhPXt4OjAseTowLHc6dC5iaXRtYXAud2lkdGgrMippLGg6dC5iaXRtYXAuaGVpZ2h0KzIqaX07bi5wdXNoKGEpLG9bZV09YX19Y29uc3R7dzppLGg6cn09Qmgobiksbz1uZXcgb2Moe3dpZHRoOml8fDEsaGVpZ2h0OnJ8fDF9KTtmb3IoY29uc3QgbiBpbiBlKXtjb25zdCBpPWVbbl07Zm9yKGNvbnN0IGUgaW4gaS5nbHlwaHMpe2NvbnN0IHI9aS5nbHlwaHNbK2VdO2lmKCFyfHwwPT09ci5iaXRtYXAud2lkdGh8fDA9PT1yLmJpdG1hcC5oZWlnaHQpY29udGludWU7Y29uc3QgYT10W25dW2VdLHM9ci5tZXRyaWNzLmxvY2FsR2x5cGg/MjoxO29jLmNvcHkoci5iaXRtYXAsbyx7eDowLHk6MH0se3g6YS54K3MseTphLnkrc30sci5iaXRtYXApfX10aGlzLmltYWdlPW8sdGhpcy5wb3NpdGlvbnM9dH19enIoR2YsXCJHbHlwaEF0bGFzXCIpO2NsYXNzIFpme2NvbnN0cnVjdG9yKGUpe3RoaXMudGlsZUlEPW5ldyBEdShlLnRpbGVJRC5vdmVyc2NhbGVkWixlLnRpbGVJRC53cmFwLGUudGlsZUlELmNhbm9uaWNhbC56LGUudGlsZUlELmNhbm9uaWNhbC54LGUudGlsZUlELmNhbm9uaWNhbC55KSx0aGlzLnRpbGVab29tPWUudGlsZVpvb20sdGhpcy51aWQ9ZS51aWQsdGhpcy56b29tPWUuem9vbSx0aGlzLmNhbm9uaWNhbD1lLnRpbGVJRC5jYW5vbmljYWwsdGhpcy5waXhlbFJhdGlvPWUucGl4ZWxSYXRpbyx0aGlzLnRpbGVTaXplPWUudGlsZVNpemUsdGhpcy5zb3VyY2U9ZS5zb3VyY2UsdGhpcy5vdmVyc2NhbGluZz10aGlzLnRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKSx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcz1lLnNob3dDb2xsaXNpb25Cb3hlcyx0aGlzLmNvbGxlY3RSZXNvdXJjZVRpbWluZz0hIWUuY29sbGVjdFJlc291cmNlVGltaW5nLHRoaXMucmV0dXJuRGVwZW5kZW5jaWVzPSEhZS5yZXR1cm5EZXBlbmRlbmNpZXMsdGhpcy5wcm9tb3RlSWQ9ZS5wcm9tb3RlSWQsdGhpcy5lbmFibGVUZXJyYWluPSEhZS5lbmFibGVUZXJyYWluLHRoaXMuaXNTeW1ib2xUaWxlPWUuaXNTeW1ib2xUaWxlLHRoaXMudGlsZVRyYW5zZm9ybT1ncChlLnRpbGVJRC5jYW5vbmljYWwsZS5wcm9qZWN0aW9uKSx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9ufXBhcnNlKGUsdCxuLGkscil7dGhpcy5zdGF0dXM9XCJwYXJzaW5nXCIsdGhpcy5kYXRhPWUsdGhpcy5jb2xsaXNpb25Cb3hBcnJheT1uZXcgd2E7Y29uc3Qgbz1uZXcgc2YoT2JqZWN0LmtleXMoZS5sYXllcnMpLnNvcnQoKSksYT1uZXcgRmYodGhpcy50aWxlSUQsdGhpcy5wcm9tb3RlSWQpO2EuYnVja2V0TGF5ZXJJRHM9W107Y29uc3Qgcz17fSxsPW5ldyBWZigyNTYsMjU2KSxjPXtmZWF0dXJlSW5kZXg6YSxpY29uRGVwZW5kZW5jaWVzOnt9LHBhdHRlcm5EZXBlbmRlbmNpZXM6e30sZ2x5cGhEZXBlbmRlbmNpZXM6e30sbGluZUF0bGFzOmwsYXZhaWxhYmxlSW1hZ2VzOm59LHU9dC5mYW1pbGllc0J5U291cmNlW3RoaXMuc291cmNlXTtmb3IoY29uc3QgdCBpbiB1KXtjb25zdCBpPWUubGF5ZXJzW3RdO2lmKCFpKWNvbnRpbnVlO2xldCByPSExLGw9ITE7Zm9yKGNvbnN0IGUgb2YgdVt0XSlcInN5bWJvbFwiPT09ZVswXS50eXBlP3I9ITA6bD0hMDtpZighMD09PXRoaXMuaXNTeW1ib2xUaWxlJiYhciljb250aW51ZTtpZighMT09PXRoaXMuaXNTeW1ib2xUaWxlJiYhbCljb250aW51ZTsxPT09aS52ZXJzaW9uJiZWKGBWZWN0b3IgdGlsZSBzb3VyY2UgXCIke3RoaXMuc291cmNlfVwiIGxheWVyIFwiJHt0fVwiIGRvZXMgbm90IHVzZSB2ZWN0b3IgdGlsZSBzcGVjIHYyIGFuZCB0aGVyZWZvcmUgbWF5IGhhdmUgc29tZSByZW5kZXJpbmcgZXJyb3JzLmApO2NvbnN0IGg9by5lbmNvZGUodCksZD1bXTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7Y29uc3Qgbj1pLmZlYXR1cmUoZSkscj1hLmdldElkKG4sdCk7ZC5wdXNoKHtmZWF0dXJlOm4saWQ6cixpbmRleDplLHNvdXJjZUxheWVySW5kZXg6aH0pfWZvcihjb25zdCBlIG9mIHVbdF0pe2NvbnN0IHQ9ZVswXTt2b2lkIDAhPT10aGlzLmlzU3ltYm9sVGlsZSYmXCJzeW1ib2xcIj09PXQudHlwZSE9PXRoaXMuaXNTeW1ib2xUaWxlfHx0Lm1pbnpvb20mJnRoaXMuem9vbTxNYXRoLmZsb29yKHQubWluem9vbSl8fHQubWF4em9vbSYmdGhpcy56b29tPj10Lm1heHpvb218fFwibm9uZVwiIT09dC52aXNpYmlsaXR5JiYoV2YoZSx0aGlzLnpvb20sbiksKHNbdC5pZF09dC5jcmVhdGVCdWNrZXQoe2luZGV4OmEuYnVja2V0TGF5ZXJJRHMubGVuZ3RoLGxheWVyczplLHpvb206dGhpcy56b29tLGNhbm9uaWNhbDp0aGlzLmNhbm9uaWNhbCxwaXhlbFJhdGlvOnRoaXMucGl4ZWxSYXRpbyxvdmVyc2NhbGluZzp0aGlzLm92ZXJzY2FsaW5nLGNvbGxpc2lvbkJveEFycmF5OnRoaXMuY29sbGlzaW9uQm94QXJyYXksc291cmNlTGF5ZXJJbmRleDpoLHNvdXJjZUlEOnRoaXMuc291cmNlLGVuYWJsZVRlcnJhaW46dGhpcy5lbmFibGVUZXJyYWluLHByb2plY3Rpb246dGhpcy5wcm9qZWN0aW9uLnNwZWMsYXZhaWxhYmxlSW1hZ2VzOm59KSkucG9wdWxhdGUoZCxjLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVUcmFuc2Zvcm0pLGEuYnVja2V0TGF5ZXJJRHMucHVzaChlLm1hcChlPT5lLmlkKSkpfX1sZXQgaCxkLHAsZjtsLnRyaW0oKTtjb25zdCBtPXt0eXBlOlwibWF5YmVQcmVwYXJlXCIsaXNTeW1ib2xUaWxlOnRoaXMuaXNTeW1ib2xUaWxlLHpvb206dGhpcy56b29tfSxnPWooYy5nbHlwaERlcGVuZGVuY2llcyxlPT5PYmplY3Qua2V5cyhlKS5tYXAoTnVtYmVyKSk7T2JqZWN0LmtleXMoZykubGVuZ3RoP2kuc2VuZChcImdldEdseXBoc1wiLHt1aWQ6dGhpcy51aWQsc3RhY2tzOmd9LChlLHQpPT57aHx8KGg9ZSxkPXQsdi5jYWxsKHRoaXMpKX0sdm9pZCAwLCExLG0pOmQ9e307Y29uc3QgeT1PYmplY3Qua2V5cyhjLmljb25EZXBlbmRlbmNpZXMpO3kubGVuZ3RoP2kuc2VuZChcImdldEltYWdlc1wiLHtpY29uczp5LHNvdXJjZTp0aGlzLnNvdXJjZSx0aWxlSUQ6dGhpcy50aWxlSUQsdHlwZTpcImljb25zXCJ9LChlLHQpPT57aHx8KGg9ZSxwPXQsdi5jYWxsKHRoaXMpKX0sdm9pZCAwLCExLG0pOnA9e307Y29uc3QgXz1PYmplY3Qua2V5cyhjLnBhdHRlcm5EZXBlbmRlbmNpZXMpO2Z1bmN0aW9uIHYoKXtpZihoKXJldHVybiByKGgpO2lmKGQmJnAmJmYpe2NvbnN0IGU9bmV3IEdmKGQpLHQ9bmV3IEZoKHAsZik7Zm9yKGNvbnN0IGkgaW4gcyl7Y29uc3Qgcj1zW2ldO3IgaW5zdGFuY2VvZiBxcD8oV2Yoci5sYXllcnMsdGhpcy56b29tLG4pLElkKHIsZCxlLnBvc2l0aW9ucyxwLHQuaWNvblBvc2l0aW9ucyx0aGlzLnNob3dDb2xsaXNpb25Cb3hlcyxuLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVab29tLHRoaXMucHJvamVjdGlvbikpOnIuaGFzUGF0dGVybiYmKHIgaW5zdGFuY2VvZiBXdXx8ciBpbnN0YW5jZW9mIHFjfHxyIGluc3RhbmNlb2YgdnUpJiYoV2Yoci5sYXllcnMsdGhpcy56b29tLG4pLHIuYWRkRmVhdHVyZXMoYyx0aGlzLnRpbGVJRC5jYW5vbmljYWwsdC5wYXR0ZXJuUG9zaXRpb25zLG4sdGhpcy50aWxlVHJhbnNmb3JtKSl9dGhpcy5zdGF0dXM9XCJkb25lXCIscihudWxsLHtidWNrZXRzOmsocykuZmlsdGVyKGU9PiFlLmlzRW1wdHkoKSksZmVhdHVyZUluZGV4OmEsY29sbGlzaW9uQm94QXJyYXk6dGhpcy5jb2xsaXNpb25Cb3hBcnJheSxnbHlwaEF0bGFzSW1hZ2U6ZS5pbWFnZSxsaW5lQXRsYXM6bCxpbWFnZUF0bGFzOnQsZ2x5cGhNYXA6dGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM/ZDpudWxsLGljb25NYXA6dGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM/cDpudWxsLGdseXBoUG9zaXRpb25zOnRoaXMucmV0dXJuRGVwZW5kZW5jaWVzP2UucG9zaXRpb25zOm51bGx9KX19Xy5sZW5ndGg/aS5zZW5kKFwiZ2V0SW1hZ2VzXCIse2ljb25zOl8sc291cmNlOnRoaXMuc291cmNlLHRpbGVJRDp0aGlzLnRpbGVJRCx0eXBlOlwicGF0dGVybnNcIn0sKGUsdCk9PntofHwoaD1lLGY9dCx2LmNhbGwodGhpcykpfSx2b2lkIDAsITEsbSk6Zj17fSx2LmNhbGwodGhpcyl9fWZ1bmN0aW9uIFdmKGUsdCxuKXtjb25zdCBpPW5ldyBQbyh0KTtmb3IoY29uc3QgdCBvZiBlKXQucmVjYWxjdWxhdGUoaSxuKX1jbGFzcyBxZntjb25zdHJ1Y3RvcihlKXt0aGlzLmVudHJpZXM9e30sdGhpcy5zY2hlZHVsZXI9ZX1yZXF1ZXN0KGUsdCxuLGkpe2NvbnN0IHI9dGhpcy5lbnRyaWVzW2VdPXRoaXMuZW50cmllc1tlXXx8e2NhbGxiYWNrczpbXX07aWYoci5yZXN1bHQpe2NvbnN0W2Usbl09ci5yZXN1bHQ7cmV0dXJuIHRoaXMuc2NoZWR1bGVyP3RoaXMuc2NoZWR1bGVyLmFkZCgoKT0+e2koZSxuKX0sdCk6aShlLG4pLCgpPT57fX1yZXR1cm4gci5jYWxsYmFja3MucHVzaChpKSxyLmNhbmNlbHx8KHIuY2FuY2VsPW4oKG4saSk9PntyLnJlc3VsdD1bbixpXTtmb3IoY29uc3QgZSBvZiByLmNhbGxiYWNrcyl0aGlzLnNjaGVkdWxlcj90aGlzLnNjaGVkdWxlci5hZGQoKCk9PntlKG4saSl9LHQpOmUobixpKTtzZXRUaW1lb3V0KCgpPT5kZWxldGUgdGhpcy5lbnRyaWVzW2VdLDNlMyl9KSksKCk9PntyLnJlc3VsdHx8KHIuY2FsbGJhY2tzPXIuY2FsbGJhY2tzLmZpbHRlcihlPT5lIT09aSksci5jYWxsYmFja3MubGVuZ3RofHwoci5jYW5jZWwoKSxkZWxldGUgdGhpcy5lbnRyaWVzW2VdKSl9fX1mdW5jdGlvbiAkZihlLHQsbil7Y29uc3QgaT1KU09OLnN0cmluZ2lmeShlLnJlcXVlc3QpO3JldHVybiBlLmRhdGEmJih0aGlzLmRlZHVwZWQuZW50cmllc1tpXT17cmVzdWx0OltudWxsLGUuZGF0YV19KSx0aGlzLmRlZHVwZWQucmVxdWVzdChpLHt0eXBlOlwicGFyc2VUaWxlXCIsaXNTeW1ib2xUaWxlOmUuaXNTeW1ib2xUaWxlLHpvb206ZS50aWxlWm9vbX0sdD0+e2NvbnN0IGk9dWUoZS5yZXF1ZXN0LChlLGkscixvKT0+e2U/dChlKTppJiZ0KG51bGwse3ZlY3RvclRpbGU6bj92b2lkIDA6bmV3IGh1KG5ldyBkaChpKSkscmF3RGF0YTppLGNhY2hlQ29udHJvbDpyLGV4cGlyZXM6b30pfSk7cmV0dXJuKCk9PntpLmNhbmNlbCgpLHQoKX19LHQpfWUuQVJSQVlfVFlQRT1vbCxlLkFVVEhfRVJSX01TRz1nZSxlLkFhYmI9WGwsZS5BY3Rvcj1jbGFzc3tjb25zdHJ1Y3RvcihlLHQsaSl7dGhpcy50YXJnZXQ9ZSx0aGlzLnBhcmVudD10LHRoaXMubWFwSWQ9aSx0aGlzLmNhbGxiYWNrcz17fSx0aGlzLmNhbmNlbENhbGxiYWNrcz17fSxSKFtcInJlY2VpdmVcIl0sdGhpcyksdGhpcy50YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLnJlY2VpdmUsITEpLHRoaXMuZ2xvYmFsU2NvcGU9VygpP2U6bix0aGlzLnNjaGVkdWxlcj1uZXcgYWZ9c2VuZChlLHQsbixpLHI9ITEsbyl7Y29uc3QgYT1NYXRoLnJvdW5kKDFlMTgqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygwLDEwKTtuJiYobi5tZXRhZGF0YT1vLHRoaXMuY2FsbGJhY2tzW2FdPW4pO2NvbnN0IHM9SCh0aGlzLmdsb2JhbFNjb3BlKT92b2lkIDA6W107cmV0dXJuIHRoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDphLHR5cGU6ZSxoYXNDYWxsYmFjazohIW4sdGFyZ2V0TWFwSWQ6aSxtdXN0UXVldWU6cixzb3VyY2VNYXBJZDp0aGlzLm1hcElkLGRhdGE6T3IodCxzKX0scykse2NhbmNlbDooKT0+e24mJmRlbGV0ZSB0aGlzLmNhbGxiYWNrc1thXSx0aGlzLnRhcmdldC5wb3N0TWVzc2FnZSh7aWQ6YSx0eXBlOlwiPGNhbmNlbD5cIix0YXJnZXRNYXBJZDppLHNvdXJjZU1hcElkOnRoaXMubWFwSWR9KX19fXJlY2VpdmUoZSl7Y29uc3QgdD1lLmRhdGEsbj10LmlkO2lmKG4mJighdC50YXJnZXRNYXBJZHx8dGhpcy5tYXBJZD09PXQudGFyZ2V0TWFwSWQpKWlmKFwiPGNhbmNlbD5cIj09PXQudHlwZSl7Y29uc3QgZT10aGlzLmNhbmNlbENhbGxiYWNrc1tuXTtkZWxldGUgdGhpcy5jYW5jZWxDYWxsYmFja3Nbbl0sZSYmZS5jYW5jZWwoKX1lbHNlIGlmKHQubXVzdFF1ZXVlfHxXKCkpe2NvbnN0IGU9dGhpcy5jYWxsYmFja3Nbbl07dGhpcy5jYW5jZWxDYWxsYmFja3Nbbl09dGhpcy5zY2hlZHVsZXIuYWRkKCgpPT50aGlzLnByb2Nlc3NUYXNrKG4sdCksZSYmZS5tZXRhZGF0YXx8e3R5cGU6XCJtZXNzYWdlXCJ9KX1lbHNlIHRoaXMucHJvY2Vzc1Rhc2sobix0KX1wcm9jZXNzVGFzayhlLHQpe2lmKFwiPHJlc3BvbnNlPlwiPT09dC50eXBlKXtjb25zdCBuPXRoaXMuY2FsbGJhY2tzW2VdO2RlbGV0ZSB0aGlzLmNhbGxiYWNrc1tlXSxuJiYodC5lcnJvcj9uKFJyKHQuZXJyb3IpKTpuKG51bGwsUnIodC5kYXRhKSkpfWVsc2V7Y29uc3Qgbj1IKHRoaXMuZ2xvYmFsU2NvcGUpP3ZvaWQgMDpbXSxpPXQuaGFzQ2FsbGJhY2s/KHQsaSk9PntkZWxldGUgdGhpcy5jYW5jZWxDYWxsYmFja3NbZV0sdGhpcy50YXJnZXQucG9zdE1lc3NhZ2Uoe2lkOmUsdHlwZTpcIjxyZXNwb25zZT5cIixzb3VyY2VNYXBJZDp0aGlzLm1hcElkLGVycm9yOnQ/T3IodCk6bnVsbCxkYXRhOk9yKGksbil9LG4pfTplPT57fSxyPVJyKHQuZGF0YSk7aWYodGhpcy5wYXJlbnRbdC50eXBlXSl0aGlzLnBhcmVudFt0LnR5cGVdKHQuc291cmNlTWFwSWQscixpKTtlbHNlIGlmKHRoaXMucGFyZW50LmdldFdvcmtlclNvdXJjZSl7Y29uc3QgZT10LnR5cGUuc3BsaXQoXCIuXCIpO3RoaXMucGFyZW50LmdldFdvcmtlclNvdXJjZSh0LnNvdXJjZU1hcElkLGVbMF0sci5zb3VyY2UpW2VbMV1dKHIsaSl9ZWxzZSBpKG5ldyBFcnJvcihcIkNvdWxkIG5vdCBmaW5kIGZ1bmN0aW9uIFwiK3QudHlwZSkpfX1yZW1vdmUoKXt0aGlzLnNjaGVkdWxlci5yZW1vdmUoKSx0aGlzLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMucmVjZWl2ZSwhMSl9fSxlLkNhbm9uaWNhbFRpbGVJRD1QdSxlLkNvbG9yPUN0LGUuQ29sb3JNb2RlPXpmLGUuQ3VsbEZhY2VNb2RlPURmLGUuREVNRGF0YT1DZixlLkRhdGFDb25zdGFudFByb3BlcnR5PU5vLGUuRGVkdXBlZFJlcXVlc3Q9cWYsZS5EZXB0aE1vZGU9QWYsZS5FWFRFTlQ9cHMsZS5FbGV2YXRpb249Y2xhc3N7aXNEYXRhQXZhaWxhYmxlQXRQb2ludChlKXtjb25zdCB0PXRoaXMuX3NvdXJjZSgpO2lmKHRoaXMuaXNVc2luZ01vY2tTb3VyY2UoKXx8IXR8fGUueTwwfHxlLnk+MSlyZXR1cm4hMTtjb25zdCBuPXQuZ2V0U291cmNlKCkubWF4em9vbSxpPTE8PG4scj1NYXRoLmZsb29yKGUueCksbz1NYXRoLmZsb29yKChlLngtcikqaSksYT1NYXRoLmZsb29yKGUueSppKSxzPXRoaXMuZmluZERFTVRpbGVGb3IobmV3IER1KG4scixuLG8sYSkpO3JldHVybiEoIXN8fCFzLmRlbSl9Z2V0QXRQb2ludE9yWmVybyhlLHQ9MCl7cmV0dXJuIHRoaXMuZ2V0QXRQb2ludChlLHQpfHwwfWdldEF0UG9pbnQoZSx0LG49ITApe2lmKHRoaXMuaXNVc2luZ01vY2tTb3VyY2UoKSlyZXR1cm4gbnVsbDtudWxsPT10JiYodD1udWxsKTtjb25zdCBpPXRoaXMuX3NvdXJjZSgpO2lmKCFpKXJldHVybiB0O2lmKGUueTwwfHxlLnk+MSlyZXR1cm4gdDtjb25zdCByPWkuZ2V0U291cmNlKCkubWF4em9vbSxvPTE8PHIsYT1NYXRoLmZsb29yKGUueCkscz1lLngtYSxsPW5ldyBEdShyLGEscixNYXRoLmZsb29yKHMqbyksTWF0aC5mbG9vcihlLnkqbykpLGM9dGhpcy5maW5kREVNVGlsZUZvcihsKTtpZighY3x8IWMuZGVtKXJldHVybiB0O2NvbnN0IHU9Yy5kZW0saD0xPDxjLnRpbGVJRC5jYW5vbmljYWwueixkPShzKmgtYy50aWxlSUQuY2Fub25pY2FsLngpKnUuZGltLHA9KGUueSpoLWMudGlsZUlELmNhbm9uaWNhbC55KSp1LmRpbSxmPU1hdGguZmxvb3IoZCksbT1NYXRoLmZsb29yKHApO3JldHVybihuP3RoaXMuZXhhZ2dlcmF0aW9uKCk6MSkqQ24oQ24odS5nZXQoZixtKSx1LmdldChmLG0rMSkscC1tKSxDbih1LmdldChmKzEsbSksdS5nZXQoZisxLG0rMSkscC1tKSxkLWYpfWdldEF0VGlsZU9mZnNldChlLHQsbil7Y29uc3QgaT0xPDxlLmNhbm9uaWNhbC56O3JldHVybiB0aGlzLmdldEF0UG9pbnRPclplcm8obmV3IElzKGUud3JhcCsoZS5jYW5vbmljYWwueCt0L3BzKS9pLChlLmNhbm9uaWNhbC55K24vcHMpL2kpKX1nZXRBdFRpbGVPZmZzZXRGdW5jKGUsdCxuLGkpe3JldHVybiByPT57Y29uc3Qgbz10aGlzLmdldEF0VGlsZU9mZnNldChlLHIueCxyLnkpLGE9aS51cFZlY3RvcihlLmNhbm9uaWNhbCxyLngsci55KTtyZXR1cm4gSWwoYSxhLG8qaS51cFZlY3RvclNjYWxlKGUuY2Fub25pY2FsLHQsbikubWV0ZXJzVG9UaWxlKSxhfX1nZXRGb3JUaWxlUG9pbnRzKGUsdCxuLGkpe2lmKHRoaXMuaXNVc2luZ01vY2tTb3VyY2UoKSlyZXR1cm4hMTtjb25zdCByPWpmLmNyZWF0ZSh0aGlzLGUsaSk7cmV0dXJuISFyJiYodC5mb3JFYWNoKGU9PntlWzJdPXRoaXMuZXhhZ2dlcmF0aW9uKCkqci5nZXRFbGV2YXRpb25BdChlWzBdLGVbMV0sbil9KSwhMCl9Z2V0TWluTWF4Rm9yVGlsZShlKXtpZih0aGlzLmlzVXNpbmdNb2NrU291cmNlKCkpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLmZpbmRERU1UaWxlRm9yKGUpO2lmKCF0fHwhdC5kZW0pcmV0dXJuIG51bGw7Y29uc3Qgbj10LmRlbS50cmVlLGk9dC50aWxlSUQscj0xPDxlLmNhbm9uaWNhbC56LWkuY2Fub25pY2FsLno7bGV0IG89ZS5jYW5vbmljYWwueC9yLWkuY2Fub25pY2FsLngsYT1lLmNhbm9uaWNhbC55L3ItaS5jYW5vbmljYWwueSxzPTA7Zm9yKGxldCB0PTA7dDxlLmNhbm9uaWNhbC56LWkuY2Fub25pY2FsLnomJiFuLmxlYXZlc1tzXTt0Kyspe28qPTIsYSo9Mjtjb25zdCBlPTIqTWF0aC5mbG9vcihhKStNYXRoLmZsb29yKG8pO3M9bi5jaGlsZE9mZnNldHNbc10rZSxvJT0xLGElPTF9cmV0dXJue21pbjp0aGlzLmV4YWdnZXJhdGlvbigpKm4ubWluaW11bXNbc10sbWF4OnRoaXMuZXhhZ2dlcmF0aW9uKCkqbi5tYXhpbXVtc1tzXX19Z2V0TWluRWxldmF0aW9uQmVsb3dNU0woKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9cmF5Y2FzdChlLHQsbil7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfXBvaW50Q29vcmRpbmF0ZShlKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9X3NvdXJjZSgpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1pc1VzaW5nTW9ja1NvdXJjZSgpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1leGFnZ2VyYXRpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9ZmluZERFTVRpbGVGb3IoZSl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfWdldCB2aXNpYmxlRGVtVGlsZXMoKXt0aHJvdyBuZXcgRXJyb3IoXCJHZXR0ZXIgbXVzdCBiZSBpbXBsZW1lbnRlZCBpbiBzdWJjbGFzcy5cIil9fSxlLkVycm9yRXZlbnQ9WGUsZS5FdmFsdWF0aW9uUGFyYW1ldGVycz1QbyxlLkV2ZW50PUhlLGUuRXZlbnRlZD1ZZSxlLkZpbGxFeHRydXNpb25CdWNrZXQ9dnUsZS5GcnVzdHVtPUhsLGUuRnJ1c3R1bUNvcm5lcnM9JGwsZS5HTE9CRV9NRVRFUlNfVE9fRUNFRj1VZCxlLkdMT0JFX1JBRElVUz1OZCxlLkdMT0JFX1NDQUxFX01BVENIX0xBVElUVURFPTQ1LGUuR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYPTYsZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NSU49NSxlLkdsb2JlU2hhcmVkQnVmZmVycz1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9jcmVhdGVHcmlkKGUpLHRoaXMuX2NyZWF0ZVBvbGVzKGUpfWRlc3Ryb3koKXt0aGlzLl9wb2xlSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dyaWRCdWZmZXIuZGVzdHJveSgpLHRoaXMuX2dyaWRJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fcG9sZU5vcnRoVmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9wb2xlU291dGhWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpO2Zvcihjb25zdCBlIG9mIHRoaXMuX3BvbGVTZWdtZW50cyllLmRlc3Ryb3koKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9ncmlkU2VnbWVudHMpZS5kZXN0cm95KCk7aWYodGhpcy5fd2lyZWZyYW1lSW5kZXhCdWZmZXIpe3RoaXMuX3dpcmVmcmFtZUluZGV4QnVmZmVyLmRlc3Ryb3koKTtmb3IoY29uc3QgZSBvZiB0aGlzLl93aXJlZnJhbWVTZWdtZW50cyllLmRlc3Ryb3koKX19X2NyZWF0ZUdyaWQoZSl7Y29uc3QgdD1uZXcgWW8sbj1uZXcgZGEsaT02NTtmb3IobGV0IGU9MDtlPGk7ZSsrKWZvcihsZXQgbj0wO248aTtuKyspdC5lbXBsYWNlQmFjayhuLGUpO3RoaXMuX2dyaWRTZWdtZW50cz1bXTtmb3IobGV0IGU9MCx0PTA7ZTxWZC5sZW5ndGg7ZSsrKXtjb25zdCByPVZkW2VdO2ZvcihsZXQgZT0wO2U8cjtlKyspZm9yKGxldCB0PTA7dDw2NDt0Kyspe2NvbnN0IHI9ZSppK3Q7bi5lbXBsYWNlQmFjayhyKzEscixyK2kpLG4uZW1wbGFjZUJhY2socitpLHIraSsxLHIrMSl9Y29uc3Qgbz02NCpyKjI7dGhpcy5fZ3JpZFNlZ21lbnRzLnB1c2goZHMuc2ltcGxlU2VnbWVudCgwLHQsKHIrMSkqaSxvKSksdCs9b310aGlzLl9ncmlkQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHQsRmQubWVtYmVycyksdGhpcy5fZ3JpZEluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIobiwhMCl9X2NyZWF0ZVBvbGVzKGUpe2NvbnN0IHQ9bmV3IGRhO2ZvcihsZXQgZT0wO2U8PTY0O2UrKyl0LmVtcGxhY2VCYWNrKDAsZSsxLGUrMik7dGhpcy5fcG9sZUluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodCwhMCk7Y29uc3Qgbj1uZXcgZ2EsaT1uZXcgZ2E7dGhpcy5fcG9sZVNlZ21lbnRzPVtdO2ZvcihsZXQgZT0wLHQ9MDtlPDU7ZSsrKXtjb25zdCByPTM2MC8oMTw8ZSk7bi5lbXBsYWNlQmFjaygwLC1OZCwwLC41LDApLGkuZW1wbGFjZUJhY2soMCwtTmQsMCwuNSwxKTtmb3IobGV0IGU9MDtlPD02NDtlKyspe2NvbnN0IHQ9ZS82NCxvPUNuKDAscix0KSxbYSxzLGxdPXRwKHBwLGZwLG8sTmQpO24uZW1wbGFjZUJhY2soYSxzLGwsdCwwKSxpLmVtcGxhY2VCYWNrKGEscyxsLHQsMSl9dGhpcy5fcG9sZVNlZ21lbnRzLnB1c2goZHMuc2ltcGxlU2VnbWVudCh0LDAsNjYsNjQpKSx0Kz02Nn10aGlzLl9wb2xlTm9ydGhWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIobixCZCwhMSksdGhpcy5fcG9sZVNvdXRoVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGksQmQsITEpfWdldEdyaWRCdWZmZXJzKGUpe3JldHVyblt0aGlzLl9ncmlkQnVmZmVyLHRoaXMuX2dyaWRJbmRleEJ1ZmZlcix0aGlzLl9ncmlkU2VnbWVudHNbZV1dfWdldFBvbGVCdWZmZXJzKGUpe3JldHVyblt0aGlzLl9wb2xlTm9ydGhWZXJ0ZXhCdWZmZXIsdGhpcy5fcG9sZVNvdXRoVmVydGV4QnVmZmVyLHRoaXMuX3BvbGVJbmRleEJ1ZmZlcix0aGlzLl9wb2xlU2VnbWVudHNbZV1dfWdldFdpcmVmYW1lQnVmZmVycyhlLHQpe2lmKCF0aGlzLl93aXJlZnJhbWVTZWdtZW50cyl7Y29uc3QgdD1uZXcgX2Esbj02NCxpPW4rMTt0aGlzLl93aXJlZnJhbWVTZWdtZW50cz1bXTtmb3IobGV0IGU9MCxyPTA7ZTxWZC5sZW5ndGg7ZSsrKXtjb25zdCBvPVZkW2VdO2ZvcihsZXQgZT0wO2U8bztlKyspZm9yKGxldCByPTA7cjxuO3IrKyl7Y29uc3Qgbj1lKmkrcjt0LmVtcGxhY2VCYWNrKG4sbisxKSx0LmVtcGxhY2VCYWNrKG4sbitpKSx0LmVtcGxhY2VCYWNrKG4sbitpKzEpfWNvbnN0IGE9bypuKjM7dGhpcy5fd2lyZWZyYW1lU2VnbWVudHMucHVzaChkcy5zaW1wbGVTZWdtZW50KDAsciwobysxKSppLGEpKSxyKz1hfXRoaXMuX3dpcmVmcmFtZUluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodCl9cmV0dXJuW3RoaXMuX2dyaWRCdWZmZXIsdGhpcy5fd2lyZWZyYW1lSW5kZXhCdWZmZXIsdGhpcy5fd2lyZWZyYW1lU2VnbWVudHNbdF1dfX0sZS5HbHlwaE1hbmFnZXI9ZGQsZS5JbWFnZVBvc2l0aW9uPWpoLGUuTGl2ZVBlcmZvcm1hbmNlVXRpbHM9QmUsZS5MbmdMYXQ9Z3MsZS5MbmdMYXRCb3VuZHM9ZnMsZS5Mb2NhbEdseXBoTW9kZT1oZCxlLk1BWF9NRVJDQVRPUl9MQVRJVFVERT1TcyxlLk1lcmNhdG9yQ29vcmRpbmF0ZT1JcyxlLk9ORV9FTT0yNCxlLk92ZXJzY2FsZWRUaWxlSUQ9RHUsZS5QZXJmb3JtYW5jZU1hcmtlcnM9UmUsZS5Qcm9wZXJ0aWVzPUdvLGUuUkdCQUltYWdlPWFjLGUuUmF5PXFsLGUuUmVxdWVzdE1hbmFnZXI9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuX3RyYW5zZm9ybVJlcXVlc3RGbj1lLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VuPXQsdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnM9ISFuLHRoaXMuX2NyZWF0ZVNrdVRva2VuKCl9X2NyZWF0ZVNrdVRva2VuKCl7Y29uc3QgZT1mdW5jdGlvbigpe2xldCBlPVwiXCI7Zm9yKGxldCB0PTA7dDwxMDt0KyspZSs9XCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWlwiW01hdGguZmxvb3IoNjIqTWF0aC5yYW5kb20oKSldO3JldHVybnt0b2tlbjpbXCIxXCIsZCxlXS5qb2luKFwiXCIpLHRva2VuRXhwaXJlc0F0OkRhdGUubm93KCkrNDMyZTV9fSgpO3RoaXMuX3NrdVRva2VuPWUudG9rZW4sdGhpcy5fc2t1VG9rZW5FeHBpcmVzQXQ9ZS50b2tlbkV4cGlyZXNBdH1faXNTa3VUb2tlbkV4cGlyZWQoKXtyZXR1cm4gRGF0ZS5ub3coKT50aGlzLl9za3VUb2tlbkV4cGlyZXNBdH10cmFuc2Zvcm1SZXF1ZXN0KGUsdCl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybVJlcXVlc3RGbiYmdGhpcy5fdHJhbnNmb3JtUmVxdWVzdEZuKGUsdCl8fHt1cmw6ZX19bm9ybWFsaXplU3R5bGVVUkwoZSx0KXtpZigheWUoZSkpcmV0dXJuIGU7Y29uc3Qgbj1UZShlKTtyZXR1cm4gbi5wYXRoPVwiL3N0eWxlcy92MVwiK24ucGF0aCx0aGlzLl9tYWtlQVBJVVJMKG4sdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fHQpfW5vcm1hbGl6ZUdseXBoc1VSTChlLHQpe2lmKCF5ZShlKSlyZXR1cm4gZTtjb25zdCBuPVRlKGUpO3JldHVybiBuLnBhdGg9XCIvZm9udHMvdjFcIituLnBhdGgsdGhpcy5fbWFrZUFQSVVSTChuLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHx0KX1ub3JtYWxpemVTb3VyY2VVUkwoZSx0LG4saSl7aWYoIXllKGUpKXJldHVybiBlO2NvbnN0IHI9VGUoZSk7cmV0dXJuIHIucGF0aD1gL3Y0LyR7ci5hdXRob3JpdHl9Lmpzb25gLHIucGFyYW1zLnB1c2goXCJzZWN1cmVcIiksbiYmci5wYXJhbXMucHVzaChcImxhbmd1YWdlPVwiK24pLGkmJnIucGFyYW1zLnB1c2goXCJ3b3JsZHZpZXc9XCIraSksdGhpcy5fbWFrZUFQSVVSTChyLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHx0KX1ub3JtYWxpemVTcHJpdGVVUkwoZSx0LG4saSl7Y29uc3Qgcj1UZShlKTtyZXR1cm4geWUoZSk/KHIucGF0aD1gL3N0eWxlcy92MSR7ci5wYXRofS9zcHJpdGUke3R9JHtufWAsdGhpcy5fbWFrZUFQSVVSTChyLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHxpKSk6KHIucGF0aCs9YCR7dH0ke259YCxFZShyKSl9bm9ybWFsaXplVGlsZVVSTChlLHQsbil7aWYodGhpcy5faXNTa3VUb2tlbkV4cGlyZWQoKSYmdGhpcy5fY3JlYXRlU2t1VG9rZW4oKSxlJiYheWUoZSkpcmV0dXJuIGU7Y29uc3QgaT1UZShlKTtpLnBhdGg9aS5wYXRoLnJlcGxhY2UoLyhcXC4ocG5nfGpwZylcXGQqKSg/PSQpLyxgJHt0fHxuJiZcInJhc3RlclwiIT09aS5hdXRob3JpdHkmJjUxMj09PW4/XCJAMnhcIjpcIlwifSR7YS5zdXBwb3J0ZWQ/XCIud2VicFwiOlwiJDFcIn1gKSxcInJhc3RlclwiPT09aS5hdXRob3JpdHk/aS5wYXRoPWAvJHtvLlJBU1RFUl9VUkxfUFJFRklYfSR7aS5wYXRofWA6KGkucGF0aD1pLnBhdGgucmVwbGFjZSgvXi4rXFwvdjRcXC8vLFwiL1wiKSxpLnBhdGg9YC8ke28uVElMRV9VUkxfVkVSU0lPTn0ke2kucGF0aH1gKTtjb25zdCByPXRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHxmdW5jdGlvbihlKXtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXQubWF0Y2goL15hY2Nlc3NfdG9rZW49KC4qKSQvKTtpZihlKXJldHVybiBlWzFdfXJldHVybiBudWxsfShpLnBhcmFtcyl8fG8uQUNDRVNTX1RPS0VOO3JldHVybiBvLlJFUVVJUkVfQUNDRVNTX1RPS0VOJiZyJiZ0aGlzLl9za3VUb2tlbiYmaS5wYXJhbXMucHVzaChcInNrdT1cIit0aGlzLl9za3VUb2tlbiksdGhpcy5fbWFrZUFQSVVSTChpLHIpfWNhbm9uaWNhbGl6ZVRpbGVVUkwoZSx0KXtjb25zdCBuPVRlKGUpO2lmKCFuLnBhdGgubWF0Y2goL14oXFwvdjRcXC98XFwvcmFzdGVyXFwvdjFcXC8pLyl8fCFuLnBhdGgubWF0Y2goL1xcLltcXHddKyQvKSlyZXR1cm4gZTtsZXQgaT1cIm1hcGJveDovL1wiO24ucGF0aC5tYXRjaCgvXlxcL3Jhc3RlclxcL3YxXFwvLyk/aSs9XCJyYXN0ZXIvXCIrbi5wYXRoLnJlcGxhY2UoYC8ke28uUkFTVEVSX1VSTF9QUkVGSVh9L2AsXCJcIik6aSs9XCJ0aWxlcy9cIituLnBhdGgucmVwbGFjZShgLyR7by5USUxFX1VSTF9WRVJTSU9OfS9gLFwiXCIpO2xldCByPW4ucGFyYW1zO3JldHVybiB0JiYocj1yLmZpbHRlcihlPT4hZS5tYXRjaCgvXmFjY2Vzc190b2tlbj0vKSkpLHIubGVuZ3RoJiYoaSs9XCI/XCIrci5qb2luKFwiJlwiKSksaX1jYW5vbmljYWxpemVUaWxlc2V0KGUsdCl7Y29uc3Qgbj0hIXQmJnllKHQpLGk9W107Zm9yKGNvbnN0IHQgb2YgZS50aWxlc3x8W10pX2UodCk/aS5wdXNoKHRoaXMuY2Fub25pY2FsaXplVGlsZVVSTCh0LG4pKTppLnB1c2godCk7cmV0dXJuIGl9X21ha2VBUElVUkwoZSx0KXtjb25zdCBuPVwiU2VlIGh0dHBzOi8vZG9jcy5tYXBib3guY29tL2FwaS9vdmVydmlldy8jYWNjZXNzLXRva2Vucy1hbmQtdG9rZW4tc2NvcGVzXCIsaT1UZShvLkFQSV9VUkwpO2lmKGUucHJvdG9jb2w9aS5wcm90b2NvbCxlLmF1dGhvcml0eT1pLmF1dGhvcml0eSxcImh0dHBcIj09PWUucHJvdG9jb2wpe2NvbnN0IHQ9ZS5wYXJhbXMuaW5kZXhPZihcInNlY3VyZVwiKTt0Pj0wJiZlLnBhcmFtcy5zcGxpY2UodCwxKX1pZihcIi9cIiE9PWkucGF0aCYmKGUucGF0aD1gJHtpLnBhdGh9JHtlLnBhdGh9YCksIW8uUkVRVUlSRV9BQ0NFU1NfVE9LRU4pcmV0dXJuIEVlKGUpO2lmKHQ9dHx8by5BQ0NFU1NfVE9LRU4sIXRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJBbiBBUEkgYWNjZXNzIHRva2VuIGlzIHJlcXVpcmVkIHRvIHVzZSBNYXBib3ggR0wuIFwiK24pO2lmKFwic1wiPT09dFswXSl0aHJvdyBuZXcgRXJyb3IoXCJVc2UgYSBwdWJsaWMgYWNjZXNzIHRva2VuIChway4qKSB3aXRoIE1hcGJveCBHTCwgbm90IGEgc2VjcmV0IGFjY2VzcyB0b2tlbiAoc2suKikuIFwiK24pfXJldHVybiBlLnBhcmFtcz1lLnBhcmFtcy5maWx0ZXIoZT0+LTE9PT1lLmluZGV4T2YoXCJhY2Nlc3NfdG9rZW5cIikpLGUucGFyYW1zLnB1c2goXCJhY2Nlc3NfdG9rZW49XCIrKHR8fFwiXCIpKSxFZShlKX19LGUuUmVzb3VyY2VUeXBlPWFlLGUuU2VnbWVudFZlY3Rvcj1kcyxlLlNvdXJjZUNhY2hlPUxmLGUuU3RlbmNpbE1vZGU9UGYsZS5TdHJ1Y3RBcnJheUxheW91dDF1aTI9dmEsZS5TdHJ1Y3RBcnJheUxheW91dDJmMWYyaTE2PWNhLGUuU3RydWN0QXJyYXlMYXlvdXQyaTQ9WW8sZS5TdHJ1Y3RBcnJheUxheW91dDJ1aTQ9X2EsZS5TdHJ1Y3RBcnJheUxheW91dDNmMTI9aGEsZS5TdHJ1Y3RBcnJheUxheW91dDN1aTY9ZGEsZS5TdHJ1Y3RBcnJheUxheW91dDRpOD1RbyxlLlN0cnVjdEFycmF5TGF5b3V0NWYyMD1nYSxlLlRleHR1cmU9cmYsZS5UaWxlPXlmLGUuVHJhbnNpdGlvbmFibGU9TG8sZS5Vbmlmb3JtMWY9R2EsZS5Vbmlmb3JtMWk9Y2xhc3MgZXh0ZW5kcyBWYXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmN1cnJlbnQ9MH1zZXQoZSx0LG4pe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmdGhpcy5jdXJyZW50IT09biYmKHRoaXMuY3VycmVudD1uLHRoaXMuZ2wudW5pZm9ybTFpKHRoaXMubG9jYXRpb24sbikpfX0sZS5Vbmlmb3JtMmY9Y2xhc3MgZXh0ZW5kcyBWYXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmN1cnJlbnQ9WzAsMF19c2V0KGUsdCxuKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkmJihuWzBdPT09dGhpcy5jdXJyZW50WzBdJiZuWzFdPT09dGhpcy5jdXJyZW50WzFdfHwodGhpcy5jdXJyZW50PW4sdGhpcy5nbC51bmlmb3JtMmYodGhpcy5sb2NhdGlvbixuWzBdLG5bMV0pKSl9fSxlLlVuaWZvcm0zZj1jbGFzcyBleHRlbmRzIFZhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1bMCwwLDBdfXNldChlLHQsbil7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpJiYoblswXT09PXRoaXMuY3VycmVudFswXSYmblsxXT09PXRoaXMuY3VycmVudFsxXSYmblsyXT09PXRoaXMuY3VycmVudFsyXXx8KHRoaXMuY3VycmVudD1uLHRoaXMuZ2wudW5pZm9ybTNmKHRoaXMubG9jYXRpb24sblswXSxuWzFdLG5bMl0pKSl9fSxlLlVuaWZvcm00Zj1aYSxlLlVuaWZvcm1Db2xvcj1XYSxlLlVuaWZvcm1NYXRyaXgyZj1jbGFzcyBleHRlbmRzIFZhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1IYX1zZXQoZSx0LG4pe2lmKHRoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSlmb3IobGV0IGU9MDtlPDQ7ZSsrKWlmKG5bZV0hPT10aGlzLmN1cnJlbnRbZV0pe3RoaXMuY3VycmVudD1uLHRoaXMuZ2wudW5pZm9ybU1hdHJpeDJmdih0aGlzLmxvY2F0aW9uLCExLG4pO2JyZWFrfX19LGUuVW5pZm9ybU1hdHJpeDNmPWNsYXNzIGV4dGVuZHMgVmF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PSRhfXNldChlLHQsbil7aWYodGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpKWZvcihsZXQgZT0wO2U8OTtlKyspaWYobltlXSE9PXRoaXMuY3VycmVudFtlXSl7dGhpcy5jdXJyZW50PW4sdGhpcy5nbC51bmlmb3JtTWF0cml4M2Z2KHRoaXMubG9jYXRpb24sITEsbik7YnJlYWt9fX0sZS5Vbmlmb3JtTWF0cml4NGY9Y2xhc3MgZXh0ZW5kcyBWYXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmN1cnJlbnQ9cWF9c2V0KGUsdCxuKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkpe2lmKG5bMTJdIT09dGhpcy5jdXJyZW50WzEyXXx8blswXSE9PXRoaXMuY3VycmVudFswXSlyZXR1cm4gdGhpcy5jdXJyZW50PW4sdm9pZCB0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5sb2NhdGlvbiwhMSxuKTtmb3IobGV0IGU9MTtlPDE2O2UrKylpZihuW2VdIT09dGhpcy5jdXJyZW50W2VdKXt0aGlzLmN1cnJlbnQ9bix0aGlzLmdsLnVuaWZvcm1NYXRyaXg0ZnYodGhpcy5sb2NhdGlvbiwhMSxuKTticmVha319fX0sZS5VbndyYXBwZWRUaWxlSUQ9enUsZS5WYWxpZGF0aW9uRXJyb3I9V2ksZS5WZWN0b3JUaWxlRmVhdHVyZT1kdSxlLlZlY3RvclRpbGVXb3JrZXJTb3VyY2U9Y2xhc3MgZXh0ZW5kcyBZZXtjb25zdHJ1Y3RvcihlLHQsbixpLHIpe3N1cGVyKCksdGhpcy5hY3Rvcj1lLHRoaXMubGF5ZXJJbmRleD10LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPW4sdGhpcy5sb2FkVmVjdG9yRGF0YT1yfHwkZix0aGlzLmxvYWRpbmc9e30sdGhpcy5sb2FkZWQ9e30sdGhpcy5kZWR1cGVkPW5ldyBxZihlLnNjaGVkdWxlciksdGhpcy5pc1Nwcml0ZUxvYWRlZD1pLHRoaXMuc2NoZWR1bGVyPWUuc2NoZWR1bGVyfWxvYWRUaWxlKGUsdCl7Y29uc3Qgbj1lLnVpZCxpPWUmJmUucmVxdWVzdCxyPWkmJmkuY29sbGVjdFJlc291cmNlVGltaW5nLG89dGhpcy5sb2FkaW5nW25dPW5ldyBaZihlKTtvLmFib3J0PXRoaXMubG9hZFZlY3RvckRhdGEoZSwoYSxzKT0+e2NvbnN0IGw9IXRoaXMubG9hZGluZ1tuXTtpZihkZWxldGUgdGhpcy5sb2FkaW5nW25dLGx8fGF8fCFzKXJldHVybiBvLnN0YXR1cz1cImRvbmVcIixsfHwodGhpcy5sb2FkZWRbbl09byksdChhKTtjb25zdCBjPXMucmF3RGF0YSx1PXt9O3MuZXhwaXJlcyYmKHUuZXhwaXJlcz1zLmV4cGlyZXMpLHMuY2FjaGVDb250cm9sJiYodS5jYWNoZUNvbnRyb2w9cy5jYWNoZUNvbnRyb2wpLG8udmVjdG9yVGlsZT1zLnZlY3RvclRpbGV8fG5ldyBodShuZXcgZGgoYykpO2NvbnN0IGg9KCk9PntvLnBhcnNlKG8udmVjdG9yVGlsZSx0aGlzLmxheWVySW5kZXgsdGhpcy5hdmFpbGFibGVJbWFnZXMsdGhpcy5hY3RvciwoZSxuKT0+e2lmKGV8fCFuKXJldHVybiB0KGUpO2NvbnN0IG89e307aWYocil7Y29uc3QgZT1OZShpKTtlLmxlbmd0aD4wJiYoby5yZXNvdXJjZVRpbWluZz1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSl9dChudWxsLEEoe3Jhd1RpbGVEYXRhOmMuc2xpY2UoMCl9LG4sdSxvKSl9KX07dGhpcy5pc1Nwcml0ZUxvYWRlZD9oKCk6dGhpcy5vbmNlKFwiaXNTcHJpdGVMb2FkZWRcIiwoKT0+e3RoaXMuc2NoZWR1bGVyP3RoaXMuc2NoZWR1bGVyLmFkZChoLHt0eXBlOlwicGFyc2VUaWxlXCIsaXNTeW1ib2xUaWxlOmUuaXNTeW1ib2xUaWxlLHpvb206ZS50aWxlWm9vbX0pOmgoKX0pLHRoaXMubG9hZGVkPXRoaXMubG9hZGVkfHx7fSx0aGlzLmxvYWRlZFtuXT1vfSl9cmVsb2FkVGlsZShlLHQpe2NvbnN0IG49dGhpcy5sb2FkZWQsaT1lLnVpZCxyPXRoaXM7aWYobiYmbltpXSl7Y29uc3Qgbz1uW2ldO28uc2hvd0NvbGxpc2lvbkJveGVzPWUuc2hvd0NvbGxpc2lvbkJveGVzLG8uZW5hYmxlVGVycmFpbj0hIWUuZW5hYmxlVGVycmFpbixvLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLG8udGlsZVRyYW5zZm9ybT1ncChlLnRpbGVJRC5jYW5vbmljYWwsZS5wcm9qZWN0aW9uKTtjb25zdCBhPShlLG4pPT57Y29uc3QgaT1vLnJlbG9hZENhbGxiYWNrO2kmJihkZWxldGUgby5yZWxvYWRDYWxsYmFjayxvLnBhcnNlKG8udmVjdG9yVGlsZSxyLmxheWVySW5kZXgsdGhpcy5hdmFpbGFibGVJbWFnZXMsci5hY3RvcixpKSksdChlLG4pfTtcInBhcnNpbmdcIj09PW8uc3RhdHVzP28ucmVsb2FkQ2FsbGJhY2s9YTpcImRvbmVcIj09PW8uc3RhdHVzJiYoby52ZWN0b3JUaWxlP28ucGFyc2Uoby52ZWN0b3JUaWxlLHRoaXMubGF5ZXJJbmRleCx0aGlzLmF2YWlsYWJsZUltYWdlcyx0aGlzLmFjdG9yLGEpOmEoKSl9fWFib3J0VGlsZShlLHQpe2NvbnN0IG49ZS51aWQsaT10aGlzLmxvYWRpbmdbbl07aSYmKGkuYWJvcnQmJmkuYWJvcnQoKSxkZWxldGUgdGhpcy5sb2FkaW5nW25dKSx0KCl9cmVtb3ZlVGlsZShlLHQpe2NvbnN0IG49dGhpcy5sb2FkZWQsaT1lLnVpZDtuJiZuW2ldJiZkZWxldGUgbltpXSx0KCl9fSxlLldyaXRpbmdNb2RlPU5oLGUuYWRkPXdsLGUuYWRkRHluYW1pY0F0dHJpYnV0ZXM9VnAsZS5hZGpvaW50PWZ1bmN0aW9uKGUsdCl7dmFyIG49dFswXSxpPXRbMV0scj10WzJdLG89dFszXSxhPXRbNF0scz10WzVdLGw9dFs2XSxjPXRbN10sdT10WzhdO3JldHVybiBlWzBdPWEqdS1zKmMsZVsxXT1yKmMtaSp1LGVbMl09aSpzLXIqYSxlWzNdPXMqbC1vKnUsZVs0XT1uKnUtcipsLGVbNV09cipvLW4qcyxlWzZdPW8qYy1hKmwsZVs3XT1pKmwtbipjLGVbOF09biphLWkqbyxlfSxlLmFzeW5jQWxsPUMsZS5iZXppZXI9VCxlLmJpbmRBbGw9UixlLmJvdW5kc0F0dHJpYnV0ZXM9bWYsZS5idWZmZXJDb252ZXhQb2x5Z29uPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bXTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgcj1JKGktMSwtMSxlLmxlbmd0aC0xKSxvPUkoaSsxLC0xLGUubGVuZ3RoLTEpLGE9ZVtpXSxzPWVbb10sbD1lW3JdLnN1YihhKS51bml0KCksYz1zLnN1YihhKS51bml0KCksdT1jLmFuZ2xlV2l0aFNlcChsLngsbC55KSxoPWwuYWRkKGMpLnVuaXQoKS5tdWx0KC0xKnQvTWF0aC5zaW4odS8yKSk7bi5wdXNoKGEuYWRkKGgpKX1yZXR1cm4gbn0sZS5jYWNoZUVudHJ5UG9zc2libHlBZGRlZD1mdW5jdGlvbihlKXtvZSsrLG9lPnRlJiYoZS5nZXRBY3RvcigpLnNlbmQoXCJlbmZvcmNlQ2FjaGVTaXplTGltaXRcIixlZSksb2U9MCl9LGUuY2FsY3VsYXRlR2xvYmVMYWJlbE1hdHJpeD1mdW5jdGlvbihlLHQpe2NvbnN0e3g6bix5Oml9PWUucG9pbnQscj1scChuLGksZS53b3JsZFNpemUvZS5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCwwLDApO3JldHVybiB1bChyLHIsc3AoWGQodCkpKX0sZS5jYWxjdWxhdGVHbG9iZU1hdHJpeD1mdW5jdGlvbihlKXtjb25zdHt4OnQseTpufT1lLnBvaW50LHtsbmc6aSxsYXQ6cn09ZS5fY2VudGVyO3JldHVybiBscCh0LG4sZS53b3JsZFNpemUsaSxyKX0sZS5jYWxjdWxhdGVHbG9iZU1lcmNhdG9yTWF0cml4PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5waXhlbHNQZXJNZXRlcixuPXQvYnMoMSxlLmNlbnRlci5sYXQpLGk9bGwobmV3IEZsb2F0NjRBcnJheSgxNikpO3JldHVybiBobChpLGksW2UucG9pbnQueCxlLnBvaW50LnksMF0pLGRsKGksaSxbbixuLHRdKSxGbG9hdDMyQXJyYXkuZnJvbShpKX0sZS5jaXJjdW1mZXJlbmNlQXRMYXRpdHVkZT1fcyxlLmNsYW1wPVMsZS5jbGVhclRpbGVDYWNoZT1mdW5jdGlvbihlKXtpZighbmUoKSlyZXR1cm47Y29uc3QgdD1uLmNhY2hlcy5kZWxldGUoSik7ZSYmdC5jYXRjaChlKS50aGVuKCgpPT5lKCkpfSxlLmNsaXBMaW5lPXNkLGUuY2xvbmU9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IG9sKDE2KTtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdFszXT1lWzNdLHRbNF09ZVs0XSx0WzVdPWVbNV0sdFs2XT1lWzZdLHRbN109ZVs3XSx0WzhdPWVbOF0sdFs5XT1lWzldLHRbMTBdPWVbMTBdLHRbMTFdPWVbMTFdLHRbMTJdPWVbMTJdLHRbMTNdPWVbMTNdLHRbMTRdPWVbMTRdLHRbMTVdPWVbMTVdLHR9LGUuY2xvbmUkMT1OLGUuY29sbGlzaW9uQ2lyY2xlTGF5b3V0PW5oLGUuY29uZmlnPW8sZS5jb25qdWdhdGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT0tdFswXSxlWzFdPS10WzFdLGVbMl09LXRbMl0sZVszXT10WzNdLGV9LGUuY3JlYXRlPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG9sKDE2KTtyZXR1cm4gb2whPUZsb2F0MzJBcnJheSYmKGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCksZVswXT0xLGVbNV09MSxlWzEwXT0xLGVbMTVdPTEsZX0sZS5jcmVhdGUkMT1hbCxlLmNyZWF0ZUV4cHJlc3Npb249TmksZS5jcmVhdGVMYXlvdXQ9SG8sZS5jcmVhdGVTdHlsZUxheWVyPWZ1bmN0aW9uKGUpe3JldHVyblwiY3VzdG9tXCI9PT1lLnR5cGU/bmV3IEtwKGUpOm5ldyBuZltlLnR5cGVdKGUpfSxlLmNyb3NzPVBsLGUuZGVnVG9SYWQ9dixlLmRpc3RhbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE1hdGguaHlwb3QodFswXS1lWzBdLHRbMV0tZVsxXSx0WzJdLWVbMl0pfSxlLmRpdj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbMF09dFswXS9uWzBdLGVbMV09dFsxXS9uWzFdLGVbMl09dFsyXS9uWzJdLGV9LGUuZG90PUFsLGUuZWFydGhSYWRpdXM9bXMsZS5lYXNlPUUsZS5lYXNlQ3ViaWNJbk91dD13LGUuZWNlZlRvTGF0TG5nPWZ1bmN0aW9uKFtlLHQsbl0pe2NvbnN0IGk9TWF0aC5oeXBvdChlLHQsbikscj1NYXRoLmF0YW4yKGUsbiksbz0uNSpNYXRoLlBJLU1hdGguYWNvcygtdC9pKTtyZXR1cm4gbmV3IGdzKHgocikseChvKSl9LGUuZW1pdFZhbGlkYXRpb25FcnJvcnM9Q3IsZS5lbmRzV2l0aD1CLGUuZW5mb3JjZUNhY2hlU2l6ZUxpbWl0PWZ1bmN0aW9uKGUpe2llKCksUSYmUS50aGVuKHQ9Pnt0LmtleXMoKS50aGVuKG49Pntmb3IobGV0IGk9MDtpPG4ubGVuZ3RoLWU7aSsrKXQuZGVsZXRlKG5baV0pfSl9KX0sZS5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlPW9oLGUuZXZhbHVhdGVTaXplRm9yWm9vbT1haCxlLmV2YWx1YXRlVmFyaWFibGVPZmZzZXQ9TWQsZS5ldmVudGVkPUlvLGUuZXhhY3RFcXVhbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT09PXRbMF0mJmVbMV09PT10WzFdJiZlWzJdPT09dFsyXSYmZVszXT09PXRbM119LGUuZXhhY3RFcXVhbHMkMT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV0mJmVbMl09PT10WzJdfSxlLmV4cG9ydGVkPVdlLGUuZXhwb3J0ZWQkMT1hLGUuZXh0ZW5kPUEsZS5leHRlbmQkMT1RZSxlLmZpbGxFeHRydXNpb25IZWlnaHRMaWZ0PU11LGUuZmlsdGVyT2JqZWN0PUYsZS5mcm9tTWF0ND1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbNF0sZVs0XT10WzVdLGVbNV09dFs2XSxlWzZdPXRbOF0sZVs3XT10WzldLGVbOF09dFsxMF0sZX0sZS5mcm9tUXVhdD1mdW5jdGlvbihlLHQpe3ZhciBuPXRbMF0saT10WzFdLHI9dFsyXSxvPXRbM10sYT1uK24scz1pK2ksbD1yK3IsYz1uKmEsdT1pKmEsaD1pKnMsZD1yKmEscD1yKnMsZj1yKmwsbT1vKmEsZz1vKnMseT1vKmw7cmV0dXJuIGVbMF09MS1oLWYsZVsxXT11K3ksZVsyXT1kLWcsZVszXT0wLGVbNF09dS15LGVbNV09MS1jLWYsZVs2XT1wK20sZVs3XT0wLGVbOF09ZCtnLGVbOV09cC1tLGVbMTBdPTEtYy1oLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfSxlLmZyb21Sb3RhdGlvbj1mdW5jdGlvbihlLHQpe3ZhciBuPU1hdGguc2luKHQpLGk9TWF0aC5jb3ModCk7cmV0dXJuIGVbMF09aSxlWzFdPW4sZVsyXT0wLGVbM109LW4sZVs0XT1pLGVbNV09MCxlWzZdPTAsZVs3XT0wLGVbOF09MSxlfSxlLmZyb21TY2FsaW5nPW1sLGUuZnVydGhlc3RUaWxlQ29ybmVyPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9TWF0aC5yb3VuZCgoZSs0NSszNjApJTM2MC85MCklNDtyZXR1cm4gYlt0XX0sZS5nZXRBQUJCUG9pbnRTcXVhcmVEaXN0PWZ1bmN0aW9uKGUsdCxuKXtsZXQgaT0wO2ZvcihsZXQgcj0wO3I8MjsrK3Ipe2NvbnN0IG89bj9uW3JdOjA7ZVtyXT5vJiYoaSs9KGVbcl0tbykqKGVbcl0tbykpLHRbcl08byYmKGkrPShvLXRbcl0pKihvLXRbcl0pKX1yZXR1cm4gaX0sZS5nZXRBbmNob3JBbGlnbm1lbnQ9WWgsZS5nZXRBbmNob3JKdXN0aWZpY2F0aW9uPUNkLGUuZ2V0Qm91bmRzPWZ1bmN0aW9uKGUpe2xldCB0PTEvMCxuPTEvMCxpPS0xLzAscj0tMS8wO2Zvcihjb25zdCBvIG9mIGUpdD1NYXRoLm1pbih0LG8ueCksbj1NYXRoLm1pbihuLG8ueSksaT1NYXRoLm1heChpLG8ueCkscj1NYXRoLm1heChyLG8ueSk7cmV0dXJue21pbjpuZXcgbSh0LG4pLG1heDpuZXcgbShpLHIpfX0sZS5nZXRDb2x1bW49WSxlLmdldEdyaWRNYXRyaXg9ZnVuY3Rpb24oZSx0LG4saSl7Y29uc3Qgcj10LmdldE5vcnRoKCksbz10LmdldFNvdXRoKCksYT10LmdldFdlc3QoKSxzPXQuZ2V0RWFzdCgpLGw9MTw8ZS56LGM9cy1hLHU9ci1vLGg9Yy82NCxkPS11L1ZkW25dLHA9WzAsaCwwLGQsMCwwLHIsYSwwXTtpZihlLno+MCl7Y29uc3QgZT0xODAvaTtzbChwLHAsW2UvYysxLDAsMCwwLGUvdSsxLDAsLS41KmUvaCwuNSplL2QsMV0pfXJldHVybiBwWzJdPWwscFs1XT1lLngscFs4XT1lLnkscH0sZS5nZXRJbWFnZT1tZSxlLmdldEpTT049ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY2UoQShlLHt0eXBlOlwianNvblwifSksdCl9LGUuZ2V0TGF0aXR1ZGluYWxMb2Q9ZnVuY3Rpb24oZSl7Y29uc3QgdD04MC4wNTExMjk7ZT1TKGUsLTgwLjA1MTEyOSx0KS90KjkwO2NvbnN0IG49TWF0aC5wb3coTWF0aC5hYnMoTWF0aC5zaW4odihlKSkpLDMpO3JldHVybiBNYXRoLnJvdW5kKG4qKFZkLmxlbmd0aC0xKSl9LGUuZ2V0TWFwU2Vzc2lvbkFQST1MZSxlLmdldFBlcmZvcm1hbmNlTWVhc3VyZW1lbnQ9TmUsZS5nZXRQcm9qZWN0aW9uPUJwLGUuZ2V0UlRMVGV4dFBsdWdpblN0YXR1cz1DbyxlLmdldFJlZmVycmVyPWxlLGUuZ2V0VGlsZVBvaW50PWZ1bmN0aW9uKGUse3g6dCx5Om59LGk9MCl7cmV0dXJuIG5ldyBtKCgodC1pKSplLnNjYWxlLWUueCkqcHMsKG4qZS5zY2FsZS1lLnkpKnBzKX0sZS5nZXRUaWxlVmVjMz1mdW5jdGlvbihlLHQsbj0wKXtyZXR1cm4gYmwoKCh0LngtbikqZS5zY2FsZS1lLngpKnBzLCh0LnkqZS5zY2FsZS1lLnkpKnBzLEVzKHQueix0LnkpKX0sZS5nZXRWaWRlbz1mdW5jdGlvbihlLHQpe2NvbnN0IGk9bi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIik7aS5tdXRlZD0hMCxpLm9ubG9hZHN0YXJ0PWZ1bmN0aW9uKCl7dChudWxsLGkpfTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgcj1uLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzb3VyY2VcIik7aGUoZVt0XSl8fChpLmNyb3NzT3JpZ2luPVwiQW5vbnltb3VzXCIpLHIuc3JjPWVbdF0saS5hcHBlbmRDaGlsZChyKX1yZXR1cm57Y2FuY2VsOigpPT57fX19LGUuZ2xvYmVDZW50ZXJUb1NjcmVlblBvaW50PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9WzAsMCwwXSxuPWxsKG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtyZXR1cm4gdWwobixlLnBpeGVsTWF0cml4LGUuZ2xvYmVNYXRyaXgpLHpsKHQsdCxuKSxuZXcgbSh0WzBdLHRbMV0pfSxlLmdsb2JlRGVub3JtYWxpemVFQ0VGPXNwLGUuZ2xvYmVFQ0VGT3JpZ2luPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bMCwwLDBdO3JldHVybiB6bChuLG4sYXAoWGQodC5jYW5vbmljYWwpKSksemwobixuLGUpLG59LGUuZ2xvYmVOb3JtYWxpemVFQ0VGPWFwLGUuZ2xvYmVQaXhlbHNUb1RpbGVVbml0cz1mdW5jdGlvbihlLHQpe3JldHVybiBwcy8oNTEyKk1hdGgucG93KDIsZSkpKnJwKFhkKHQpKX0sZS5nbG9iZVBvbGVNYXRyaXhGb3JUaWxlPWZ1bmN0aW9uKGUsdCxuKXtjb25zdCBpPWxsKG5ldyBGbG9hdDY0QXJyYXkoMTYpKSxyPSh0LygxPDxlKS0uNSkqTWF0aC5QSSoyO3JldHVybiBmbChpLG4uZ2xvYmVNYXRyaXgsciksRmxvYXQzMkFycmF5LmZyb20oaSl9LGUuZ2xvYmVUaWxlQm91bmRzPVhkLGUuZ2xvYmVUaWx0QXRMbmdMYXQ9dXAsZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uPWNwLGUuZ2xvYmVVc2VDdXN0b21BbnRpQWxpYXNpbmc9ZnVuY3Rpb24oZSx0LG4pe2NvbnN0IGk9Y3Aobi56b29tKSxyPWUuc3R5bGUubWFwLl9hbnRpYWxpYXMsbz0hIXQuZXh0U3RhbmRhcmREZXJpdmF0aXZlcyxhPXQuZXh0U3RhbmRhcmREZXJpdmF0aXZlc0ZvcmNlT2ZmfHxlLnRlcnJhaW4mJmUudGVycmFpbi5leGFnZ2VyYXRpb24oKT4wO3JldHVybiAwPT09aSYmIXImJiFhJiZvfSxlLmlkZW50aXR5PWxsLGUuaWRlbnRpdHkkMT1WbCxlLmludmVydD1jbCxlLmlzRnVsbHNjcmVlbj1mdW5jdGlvbigpe3JldHVybiEhbi5kb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudHx8ISFuLmRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50fSxlLmlzTG5nTGF0QmVoaW5kR2xvYmU9aHAsZS5pc01hcEF1dGhlbnRpY2F0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE9lLmhhcyhlKX0sZS5pc01hcGJveFVSTD15ZSxlLmlzU2FmYXJpV2l0aEFudGlhbGlhc2luZ0J1Zz1mdW5jdGlvbihlKXtjb25zdCB0PWUubmF2aWdhdG9yP2UubmF2aWdhdG9yLnVzZXJBZ2VudDpudWxsO3JldHVybiEhSChlKSYmdCYmKHQubWF0Y2goXCJWZXJzaW9uLzE1LjRcIil8fHQubWF0Y2goXCJWZXJzaW9uLzE1LjVcIil8fHQubWF0Y2goL0NQVSAoT1N8aVBob25lIE9TKSAoMTVfNHwxNV81KSBsaWtlIE1hYyBPUyBYLykpfSxlLmxhdEZyb21NZXJjYXRvclk9VHMsZS5sYXRMbmdUb0VDRUY9bnAsZS5sZW49QmwsZS5sZW5ndGg9eGwsZS5sZW5ndGgkMT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5oeXBvdChlWzBdLGVbMV0sZVsyXSxlWzNdKX0sZS5sbmdGcm9tTWVyY2F0b3JYPXdzLGUubG9hZFZlY3RvclRpbGU9JGYsZS5tYWtlUmVxdWVzdD1jZSxlLm1hcFZhbHVlPWZ1bmN0aW9uKGUsdCxuLGkscil7cmV0dXJuIFMoKGUtdCkvKG4tdCkqKHItaSkraSxpLHIpfSxlLm1lcmNhdG9yU2NhbGU9TXMsZS5tZXJjYXRvclhmcm9tTG5nPXZzLGUubWVyY2F0b3JZZnJvbUxhdD14cyxlLm1lcmNhdG9yWmZyb21BbHRpdHVkZT1icyxlLm11bD15bCxlLm11bCQxPVJsLGUubXVsdGlwbHk9dWwsZS5tdWx0aXBseSQxPXNsLGUubXVsdGlwbHkkMj1FbCxlLm5leHRQb3dlck9mVHdvPUwsZS5ub3JtYWxpemU9a2wsZS5ub3JtYWxpemUkMT1XbCxlLm5vcm1hbGl6ZSQyPUZsLGUubnVtYmVyPUNuLGUub3J0aG89ZnVuY3Rpb24oZSx0LG4saSxyLG8sYSl7dmFyIHM9MS8odC1uKSxsPTEvKGktciksYz0xLyhvLWEpO3JldHVybiBlWzBdPS0yKnMsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09LTIqbCxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMF09MipjLGVbMTFdPTAsZVsxMl09KHQrbikqcyxlWzEzXT0ocitpKSpsLGVbMTRdPShhK28pKmMsZVsxNV09MSxlfSxlLnBiZj1kaCxlLnBlcnNwZWN0aXZlPWZ1bmN0aW9uKGUsdCxuLGkscil7dmFyIG8sYT0xL01hdGgudGFuKHQvMik7cmV0dXJuIGVbMF09YS9uLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPWEsZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTFdPS0xLGVbMTJdPTAsZVsxM109MCxlWzE1XT0wLG51bGwhPXImJnIhPT0xLzA/KGVbMTBdPShyK2kpKihvPTEvKGktcikpLGVbMTRdPTIqcippKm8pOihlWzEwXT0tMSxlWzE0XT0tMippKSxlfSxlLnBpY2s9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPXt9O2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCByPXRbaV07ciBpbiBlJiYobltyXT1lW3JdKX1yZXR1cm4gbn0sZS5wbHVnaW49QW8sZS5wb2ludEdlb21ldHJ5PW0sZS5wb2xlc0luVmlld3BvcnQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1sbChuZXcgRmxvYXQ2NEFycmF5KDE2KSk7dWwodCxlLnBpeGVsTWF0cml4LGUuZ2xvYmVNYXRyaXgpO2NvbnN0IG49WzAsR2QsMF0saT1bMCxaZCwwXTtyZXR1cm4gemwobixuLHQpLHpsKGksaSx0KSxbblswXT4wJiZuWzBdPD1lLndpZHRoJiZuWzFdPjAmJm5bMV08PWUuaGVpZ2h0JiYhaHAoZSxuZXcgZ3MoZS5jZW50ZXIubGF0LDkwKSksaVswXT4wJiZpWzBdPD1lLndpZHRoJiZpWzFdPjAmJmlbMV08PWUuaGVpZ2h0JiYhaHAoZSxuZXcgZ3MoZS5jZW50ZXIubGF0LC05MCkpXX0sZS5wb2x5Z29uQ29udGFpbnNQb2ludD1YcyxlLnBvbHlnb25JbnRlcnNlY3RzQm94PVlzLGUucG9seWdvbkludGVyc2VjdHNQb2x5Z29uPU5zLGUucG9seWdvbml6ZUJvdW5kcz1mdW5jdGlvbihlLHQsbj0wLGk9ITApe2NvbnN0IHI9bmV3IG0obixuKSxvPWUuc3ViKHIpLGE9dC5hZGQocikscz1bbyxuZXcgbShhLngsby55KSxhLG5ldyBtKG8ueCxhLnkpXTtyZXR1cm4gaSYmcy5wdXNoKG8uY2xvbmUoKSksc30sZS5wb3NBdHRyaWJ1dGVzPUZkLGUucG9zdE1hcExvYWRFdmVudD1BZSxlLnBvc3RQZXJmb3JtYW5jZUV2ZW50PXplLGUucG9zdFR1cm5zdGlsZUV2ZW50PUNlLGUucG90cGFjaz1CaCxlLnByZXZQb3dlck9mVHdvPWZ1bmN0aW9uKGUpe3JldHVybiBlPD0xPzE6TWF0aC5wb3coMixNYXRoLmZsb29yKE1hdGgubG9nKGUpL01hdGguTE4yKSl9LGUucmFkVG9EZWc9eCxlLnJlZlByb3BlcnRpZXM9W1widHlwZVwiLFwic291cmNlXCIsXCJzb3VyY2UtbGF5ZXJcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcImZpbHRlclwiLFwibGF5b3V0XCJdLGUucmVnaXN0ZXJGb3JQbHVnaW5TdGF0ZUNoYW5nZT1mdW5jdGlvbihlKXtyZXR1cm4gZSh7cGx1Z2luU3RhdHVzOlRvLHBsdWdpblVSTDpFb30pLElvLm9uKFwicGx1Z2luU3RhdGVDaGFuZ2VcIixlKSxlfSxlLnJlbW92ZUF1dGhTdGF0ZT1mdW5jdGlvbihlKXtPZS5kZWxldGUoZSl9LGUucmVuZGVyQ29sb3JSYW1wPWxjLGUucmVzYW1wbGU9a3MsZS5yb3RhdGVYPXBsLGUucm90YXRlWCQxPUdsLGUucm90YXRlWT1mbCxlLnJvdGF0ZVkkMT1abCxlLnJvdGF0ZVo9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPU1hdGguc2luKG4pLHI9TWF0aC5jb3Mobiksbz10WzBdLGE9dFsxXSxzPXRbMl0sbD10WzNdLGM9dFs0XSx1PXRbNV0saD10WzZdLGQ9dFs3XTtyZXR1cm4gdCE9PWUmJihlWzhdPXRbOF0sZVs5XT10WzldLGVbMTBdPXRbMTBdLGVbMTFdPXRbMTFdLGVbMTJdPXRbMTJdLGVbMTNdPXRbMTNdLGVbMTRdPXRbMTRdLGVbMTVdPXRbMTVdKSxlWzBdPW8qcitjKmksZVsxXT1hKnIrdSppLGVbMl09cypyK2gqaSxlWzNdPWwqcitkKmksZVs0XT1jKnItbyppLGVbNV09dSpyLWEqaSxlWzZdPWgqci1zKmksZVs3XT1kKnItbCppLGV9LGUucm90YXRlWiQxPWZ1bmN0aW9uKGUsdCxuKXtuKj0uNTt2YXIgaT10WzBdLHI9dFsxXSxvPXRbMl0sYT10WzNdLHM9TWF0aC5zaW4obiksbD1NYXRoLmNvcyhuKTtyZXR1cm4gZVswXT1pKmwrcipzLGVbMV09cipsLWkqcyxlWzJdPW8qbCthKnMsZVszXT1hKmwtbypzLGV9LGUuc2NhbGU9ZGwsZS5zY2FsZSQxPWpsLGUuc2NhbGUkMj1JbCxlLnNjYWxlQW5kQWRkPUNsLGUuc2V0PWZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBlWzBdPXQsZVsxXT1uLGVbMl09aSxlfSxlLnNldENhY2hlTGltaXRzPWZ1bmN0aW9uKGUsdCl7ZWU9ZSx0ZT10fSxlLnNldENvbHVtbj1mdW5jdGlvbihlLHQsbil7ZVs0KnQrMF09blswXSxlWzQqdCsxXT1uWzFdLGVbNCp0KzJdPW5bMl0sZVs0KnQrM109blszXX0sZS5zZXRSVExUZXh0UGx1Z2luPWZ1bmN0aW9uKGUsdCxuPSExKXtpZihUbz09PXZvfHxUbz09PXhvfHxUbz09PWJvKXRocm93IG5ldyBFcnJvcihcInNldFJUTFRleHRQbHVnaW4gY2Fubm90IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cIik7RW89V2UucmVzb2x2ZVVSTChlKSxUbz12byx3bz10LE1vKCksbnx8a28oKX0sZS5zbW9vdGhzdGVwPU0sZS5zcGVjPUplLGUuc3F1YXJlZExlbmd0aD1mdW5jdGlvbihlKXt2YXIgdD1lWzBdLG49ZVsxXSxpPWVbMl07cmV0dXJuIHQqdCtuKm4raSppfSxlLnN0b3JlQXV0aFN0YXRlPWZ1bmN0aW9uKGUsdCl7dD9PZS5hZGQoZSk6T2UuZGVsZXRlKGUpfSxlLnN1Yj1PbCxlLnN1YnRyYWN0PVRsLGUuc3ltYm9sU2l6ZT1zaCxlLnRpbGVBQUJCPWZ1bmN0aW9uKGUsdCxuLGkscixvLGEscyxsKXtpZihcImdsb2JlXCI9PT1sLm5hbWUpcmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXtjb25zdCBpPXQvZS53b3JsZFNpemUscj1lLmdsb2JlTWF0cml4O2lmKG4uejw9MSl7Y29uc3QgZT1YZChuKS5nZXRDb3JuZXJzKCk7cmV0dXJuIFFkKGUscixpKSxYbC5mcm9tUG9pbnRzKGUpfWNvbnN0IG89S2QobiksYT1lcChvKTtRZChhLHIsaSk7Y29uc3Qgcz1OdW1iZXIuTUFYX1ZBTFVFLGw9Wy1zLC1zLC1zXSxjPVtzLHMsc107aWYoby5jb250YWlucyhlLmNlbnRlcikpe2Zvcihjb25zdCBlIG9mIGEpU2woYyxjLGUpLE1sKGwsbCxlKTtsWzJdPTA7Y29uc3QgdD1lLnBvaW50LG49W3QueCppLHQueSppLDBdO3JldHVybiBTbChjLGMsbiksTWwobCxsLG4pLG5ldyBYbChjLGwpfWNvbnN0IHU9W3JbMTJdKmksclsxM10qaSxyWzE0XSppXSxoPW8uZ2V0Q2VudGVyKCksZD1TKGUuY2VudGVyLmxhdCwtODUuMDUxMTI5LFNzKSxwPVMoaC5sYXQsLTg1LjA1MTEyOSxTcyksZj12cyhlLmNlbnRlci5sbmcpLG09eHMoZCk7bGV0IGc9Zi12cyhoLmxuZyk7Y29uc3QgeT1tLXhzKHApO2c+LjU/Zy09MTpnPC0uNSYmKGcrPTEpO2xldCBfPTA7TWF0aC5hYnMoZyk+TWF0aC5hYnMoeSk/Xz1nPj0wPzE6MzooXz15Pj0wPzA6MixDbCh1LHUsW3JbNF0qaSxyWzVdKmkscls2XSppXSwtTWF0aC5zaW4odih5Pj0wP28uZ2V0U291dGgoKTpvLmdldE5vcnRoKCkpKSpOZCkpO2NvbnN0IHg9YVtfXSxiPWFbKF8rMSklNF0sdz1uZXcgJGQoeCxiLHUpLFQ9W0hkKHcsMCl8fHhbMF0sSGQodywxKXx8eFsxXSxIZCh3LDIpfHx4WzJdXSxFPWNwKGUuem9vbSk7aWYoRT4wKXtjb25zdCBpPWZ1bmN0aW9uKHt4OmUseTp0LHo6bn0saSxyLG8sYSl7Y29uc3Qgcz0xLygxPDxuKTtsZXQgbD1lKnMsYz1sK3MsdT10KnMsaD11K3MsZD0wO2NvbnN0IHA9KGwrYykvMi1vO3JldHVybiBwPi41P2Q9LTE6cDwtLjUmJihkPTEpLGw9KChsK2QpKmktKG8qPWkpKSpyK28sYz0oKGMrZCkqaS1vKSpyK28sdT0odSppLShhKj1pKSkqcithLGg9KGgqaS1hKSpyK2EsW1tsLGgsMF0sW2MsaCwwXSxbYyx1LDBdLFtsLHUsMF1dfShuLHQsZS5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxmLG0pO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSsrKVlkKGFbZV0saVtlXSxFKTtjb25zdCByPXdsKFtdLGlbX10saVsoXysxKSU0XSk7SWwocixyLC41KSxZZChULHIsRSl9Zm9yKGNvbnN0IGUgb2YgYSlTbChjLGMsZSksTWwobCxsLGUpO3JldHVybiBjWzJdPU1hdGgubWluKHhbMl0sYlsyXSksU2woYyxjLFQpLE1sKGwsbCxUKSxuZXcgWGwoYyxsKX0oZSx0LG5ldyBQdShuLGkscikpO2NvbnN0IGM9Z3Aoe3o6bix4OmkseTpyfSxsKTtyZXR1cm4gbmV3IFhsKFsobytjLngvYy5zY2FsZSkqdCx0KihjLnkvYy5zY2FsZSksYV0sWyhvK2MueDIvYy5zY2FsZSkqdCx0KihjLnkyL2Muc2NhbGUpLHNdKX0sZS50aWxlQ29ybmVyc1RvQm91bmRzPUtkLGUudGlsZVRyYW5zZm9ybT1ncCxlLnRyYW5zZm9ybU1hdDM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRbMF0scj10WzFdLG89dFsyXTtyZXR1cm4gZVswXT1pKm5bMF0rcipuWzNdK28qbls2XSxlWzFdPWkqblsxXStyKm5bNF0rbypuWzddLGVbMl09aSpuWzJdK3Iqbls1XStvKm5bOF0sZX0sZS50cmFuc2Zvcm1NYXQ0PXpsLGUudHJhbnNmb3JtTWF0NCQxPU5sLGUudHJhbnNmb3JtUXVhdD1EbCxlLnRyYW5zaXRpb25UaWxlQUFCQmluRUNFRj1KZCxlLnRyYW5zbGF0ZT1obCxlLnRyYW5zcG9zZT1mdW5jdGlvbihlLHQpe2lmKGU9PT10KXt2YXIgbj10WzFdLGk9dFsyXSxyPXRbNV07ZVsxXT10WzNdLGVbMl09dFs2XSxlWzNdPW4sZVs1XT10WzddLGVbNl09aSxlWzddPXJ9ZWxzZSBlWzBdPXRbMF0sZVsxXT10WzNdLGVbMl09dFs2XSxlWzNdPXRbMV0sZVs0XT10WzRdLGVbNV09dFs3XSxlWzZdPXRbMl0sZVs3XT10WzVdLGVbOF09dFs4XTtyZXR1cm4gZX0sZS50cmlnZ2VyUGx1Z2luQ29tcGxldGlvbkV2ZW50PVNvLGUudW5pcXVlSWQ9eixlLnVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsPWZ1bmN0aW9uKGUsdCxuLGkscil7Y29uc3Qgbz01KnQrMjtlLmZsb2F0MzJbbyswXT1uLGUuZmxvYXQzMltvKzFdPWksZS5mbG9hdDMyW28rMl09cn0sZS52YWxpZGF0ZUN1c3RvbVN0eWxlTGF5ZXI9ZnVuY3Rpb24oZSl7Y29uc3QgdD1bXSxuPWUuaWQ7cmV0dXJuIHZvaWQgMD09PW4mJnQucHVzaCh7bWVzc2FnZTpgbGF5ZXJzLiR7bn06IG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJpZFwiYH0pLHZvaWQgMD09PWUucmVuZGVyJiZ0LnB1c2goe21lc3NhZ2U6YGxheWVycy4ke259OiBtaXNzaW5nIHJlcXVpcmVkIG1ldGhvZCBcInJlbmRlclwiYH0pLGUucmVuZGVyaW5nTW9kZSYmXCIyZFwiIT09ZS5yZW5kZXJpbmdNb2RlJiZcIjNkXCIhPT1lLnJlbmRlcmluZ01vZGUmJnQucHVzaCh7bWVzc2FnZTpgbGF5ZXJzLiR7bn06IHByb3BlcnR5IFwicmVuZGVyaW5nTW9kZVwiIG11c3QgYmUgZWl0aGVyIFwiMmRcIiBvciBcIjNkXCJgfSksdH0sZS52YWxpZGF0ZUZpbHRlcj1lPT5JcihjcihlKSksZS52YWxpZGF0ZUZvZz1lPT5Jcih4cihlKSksZS52YWxpZGF0ZUxheWVyPWU9PklyKHByKGUpKSxlLnZhbGlkYXRlTGlnaHQ9ZT0+SXIoX3IoZSkpLGUudmFsaWRhdGVTb3VyY2U9ZT0+SXIoZ3IoZSkpLGUudmFsaWRhdGVTdHlsZT1FcixlLnZhbGlkYXRlVGVycmFpbj1lPT5Jcih2cihlKSksZS52YWx1ZXM9ayxlLnZlY3RvclRpbGU9S2MsZS52ZXJzaW9uPWksZS53YXJuT25jZT1WLGUud2luZG93PW4sZS53cmFwPUl9KSkscihbXCIuL3NoYXJlZFwiXSwoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8bnVsbD09ZSlyZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSk7aWYoQXJyYXkuaXNBcnJheShlKSl7bGV0IG49XCJbXCI7Zm9yKGNvbnN0IGkgb2YgZSluKz10KGkpK1wiLFwiO3JldHVybiBuK1wiXVwifWxldCBuPVwie1wiO2Zvcihjb25zdCBpIG9mIE9iamVjdC5rZXlzKGUpLnNvcnQoKSluKz1gJHtpfToke3QoZVtpXSl9LGA7cmV0dXJuIG4rXCJ9XCJ9ZnVuY3Rpb24gbihuKXtsZXQgaT1cIlwiO2Zvcihjb25zdCByIG9mIGUucmVmUHJvcGVydGllcylpKz1cIi9cIit0KG5bcl0pO3JldHVybiBpfWNsYXNzIGl7Y29uc3RydWN0b3IoZSl7dGhpcy5rZXlDYWNoZT17fSxlJiZ0aGlzLnJlcGxhY2UoZSl9cmVwbGFjZShlKXt0aGlzLl9sYXllckNvbmZpZ3M9e30sdGhpcy5fbGF5ZXJzPXt9LHRoaXMudXBkYXRlKGUsW10pfXVwZGF0ZSh0LGkpe2Zvcihjb25zdCBuIG9mIHQpdGhpcy5fbGF5ZXJDb25maWdzW24uaWRdPW4sKHRoaXMuX2xheWVyc1tuLmlkXT1lLmNyZWF0ZVN0eWxlTGF5ZXIobikpLmNvbXBpbGVGaWx0ZXIoKSx0aGlzLmtleUNhY2hlW24uaWRdJiZkZWxldGUgdGhpcy5rZXlDYWNoZVtuLmlkXTtmb3IoY29uc3QgZSBvZiBpKWRlbGV0ZSB0aGlzLmtleUNhY2hlW2VdLGRlbGV0ZSB0aGlzLl9sYXllckNvbmZpZ3NbZV0sZGVsZXRlIHRoaXMuX2xheWVyc1tlXTt0aGlzLmZhbWlsaWVzQnlTb3VyY2U9e307Y29uc3Qgcj1mdW5jdGlvbihlLHQpe2NvbnN0IGk9e307Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IG89dCYmdFtlW3JdLmlkXXx8bihlW3JdKTt0JiYodFtlW3JdLmlkXT1vKTtsZXQgYT1pW29dO2F8fChhPWlbb109W10pLGEucHVzaChlW3JdKX1jb25zdCByPVtdO2Zvcihjb25zdCBlIGluIGkpci5wdXNoKGlbZV0pO3JldHVybiByfShlLnZhbHVlcyh0aGlzLl9sYXllckNvbmZpZ3MpLHRoaXMua2V5Q2FjaGUpO2Zvcihjb25zdCBlIG9mIHIpe2NvbnN0IHQ9ZS5tYXAoZT0+dGhpcy5fbGF5ZXJzW2UuaWRdKSxuPXRbMF07aWYoXCJub25lXCI9PT1uLnZpc2liaWxpdHkpY29udGludWU7Y29uc3QgaT1uLnNvdXJjZXx8XCJcIjtsZXQgcj10aGlzLmZhbWlsaWVzQnlTb3VyY2VbaV07cnx8KHI9dGhpcy5mYW1pbGllc0J5U291cmNlW2ldPXt9KTtjb25zdCBvPW4uc291cmNlTGF5ZXJ8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIjtsZXQgYT1yW29dO2F8fChhPXJbb109W10pLGEucHVzaCh0KX19fWNsYXNzIHJ7bG9hZFRpbGUodCxuKXtjb25zdHt1aWQ6aSxlbmNvZGluZzpyLHJhd0ltYWdlRGF0YTpvLHBhZGRpbmc6YSxidWlsZFF1YWRUcmVlOnN9PXQsbD1lLndpbmRvdy5JbWFnZUJpdG1hcCYmbyBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlQml0bWFwP3RoaXMuZ2V0SW1hZ2VEYXRhKG8sYSk6bztuKG51bGwsbmV3IGUuREVNRGF0YShpLGwscixhPDEscykpfWdldEltYWdlRGF0YShlLHQpe3RoaXMub2Zmc2NyZWVuQ2FudmFzJiZ0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHR8fCh0aGlzLm9mZnNjcmVlbkNhbnZhcz1uZXcgT2Zmc2NyZWVuQ2FudmFzKGUud2lkdGgsZS5oZWlnaHQpLHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dD10aGlzLm9mZnNjcmVlbkNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIix7d2lsbFJlYWRGcmVxdWVudGx5OiEwfSkpLHRoaXMub2Zmc2NyZWVuQ2FudmFzLndpZHRoPWUud2lkdGgsdGhpcy5vZmZzY3JlZW5DYW52YXMuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5kcmF3SW1hZ2UoZSwwLDAsZS53aWR0aCxlLmhlaWdodCk7Y29uc3Qgbj10aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuZ2V0SW1hZ2VEYXRhKC10LC10LGUud2lkdGgrMip0LGUuaGVpZ2h0KzIqdCk7cmV0dXJuIHRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5jbGVhclJlY3QoMCwwLHRoaXMub2Zmc2NyZWVuQ2FudmFzLndpZHRoLHRoaXMub2Zmc2NyZWVuQ2FudmFzLmhlaWdodCksbn19dmFyIG89ZnVuY3Rpb24gZSh0LG4pe3ZhciBpLHI9dCYmdC50eXBlO2lmKFwiRmVhdHVyZUNvbGxlY3Rpb25cIj09PXIpZm9yKGk9MDtpPHQuZmVhdHVyZXMubGVuZ3RoO2krKyllKHQuZmVhdHVyZXNbaV0sbik7ZWxzZSBpZihcIkdlb21ldHJ5Q29sbGVjdGlvblwiPT09cilmb3IoaT0wO2k8dC5nZW9tZXRyaWVzLmxlbmd0aDtpKyspZSh0Lmdlb21ldHJpZXNbaV0sbik7ZWxzZSBpZihcIkZlYXR1cmVcIj09PXIpZSh0Lmdlb21ldHJ5LG4pO2Vsc2UgaWYoXCJQb2x5Z29uXCI9PT1yKWEodC5jb29yZGluYXRlcyxuKTtlbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1yKWZvcihpPTA7aTx0LmNvb3JkaW5hdGVzLmxlbmd0aDtpKyspYSh0LmNvb3JkaW5hdGVzW2ldLG4pO3JldHVybiB0fTtmdW5jdGlvbiBhKGUsdCl7aWYoMCE9PWUubGVuZ3RoKXtzKGVbMF0sdCk7Zm9yKHZhciBuPTE7bjxlLmxlbmd0aDtuKyspcyhlW25dLCF0KX19ZnVuY3Rpb24gcyhlLHQpe2Zvcih2YXIgbj0wLGk9MCxyPTAsbz1lLmxlbmd0aCxhPW8tMTtyPG87YT1yKyspe3ZhciBzPShlW3JdWzBdLWVbYV1bMF0pKihlW2FdWzFdK2Vbcl1bMV0pLGw9bitzO2krPU1hdGguYWJzKG4pPj1NYXRoLmFicyhzKT9uLWwrczpzLWwrbixuPWx9bitpPj0wIT0hIXQmJmUucmV2ZXJzZSgpfWNvbnN0IGw9ZS5WZWN0b3JUaWxlRmVhdHVyZS5wcm90b3R5cGUudG9HZW9KU09OO2NsYXNzIGN7Y29uc3RydWN0b3IodCl7dGhpcy5fZmVhdHVyZT10LHRoaXMuZXh0ZW50PWUuRVhURU5ULHRoaXMudHlwZT10LnR5cGUsdGhpcy5wcm9wZXJ0aWVzPXQudGFncyxcImlkXCJpbiB0JiYhaXNOYU4odC5pZCkmJih0aGlzLmlkPXBhcnNlSW50KHQuaWQsMTApKX1sb2FkR2VvbWV0cnkoKXtpZigxPT09dGhpcy5fZmVhdHVyZS50eXBlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIG9mIHRoaXMuX2ZlYXR1cmUuZ2VvbWV0cnkpdC5wdXNoKFtuZXcgZS5wb2ludEdlb21ldHJ5KG5bMF0sblsxXSldKTtyZXR1cm4gdH17Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBvZiB0aGlzLl9mZWF0dXJlLmdlb21ldHJ5KXtjb25zdCBpPVtdO2Zvcihjb25zdCB0IG9mIG4paS5wdXNoKG5ldyBlLnBvaW50R2VvbWV0cnkodFswXSx0WzFdKSk7dC5wdXNoKGkpfXJldHVybiB0fX10b0dlb0pTT04oZSx0LG4pe3JldHVybiBsLmNhbGwodGhpcyxlLHQsbil9fWNsYXNzIHV7Y29uc3RydWN0b3IodCl7dGhpcy5sYXllcnM9e19nZW9qc29uVGlsZUxheWVyOnRoaXN9LHRoaXMubmFtZT1cIl9nZW9qc29uVGlsZUxheWVyXCIsdGhpcy5leHRlbnQ9ZS5FWFRFTlQsdGhpcy5sZW5ndGg9dC5sZW5ndGgsdGhpcy5fZmVhdHVyZXM9dH1mZWF0dXJlKGUpe3JldHVybiBuZXcgYyh0aGlzLl9mZWF0dXJlc1tlXSl9fXZhciBoPXtleHBvcnRzOnt9fSxkPWUucG9pbnRHZW9tZXRyeSxwPWUudmVjdG9yVGlsZS5WZWN0b3JUaWxlRmVhdHVyZSxmPW07ZnVuY3Rpb24gbShlLHQpe3RoaXMub3B0aW9ucz10fHx7fSx0aGlzLmZlYXR1cmVzPWUsdGhpcy5sZW5ndGg9ZS5sZW5ndGh9ZnVuY3Rpb24gZyhlLHQpe3RoaXMuaWQ9XCJudW1iZXJcIj09dHlwZW9mIGUuaWQ/ZS5pZDp2b2lkIDAsdGhpcy50eXBlPWUudHlwZSx0aGlzLnJhd0dlb21ldHJ5PTE9PT1lLnR5cGU/W2UuZ2VvbWV0cnldOmUuZ2VvbWV0cnksdGhpcy5wcm9wZXJ0aWVzPWUudGFncyx0aGlzLmV4dGVudD10fHw0MDk2fW0ucHJvdG90eXBlLmZlYXR1cmU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBnKHRoaXMuZmVhdHVyZXNbZV0sdGhpcy5vcHRpb25zLmV4dGVudCl9LGcucHJvdG90eXBlLmxvYWRHZW9tZXRyeT1mdW5jdGlvbigpe3ZhciBlPXRoaXMucmF3R2VvbWV0cnk7dGhpcy5nZW9tZXRyeT1bXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7Zm9yKHZhciBuPWVbdF0saT1bXSxyPTA7cjxuLmxlbmd0aDtyKyspaS5wdXNoKG5ldyBkKG5bcl1bMF0sbltyXVsxXSkpO3RoaXMuZ2VvbWV0cnkucHVzaChpKX1yZXR1cm4gdGhpcy5nZW9tZXRyeX0sZy5wcm90b3R5cGUuYmJveD1mdW5jdGlvbigpe3RoaXMuZ2VvbWV0cnl8fHRoaXMubG9hZEdlb21ldHJ5KCk7Zm9yKHZhciBlPXRoaXMuZ2VvbWV0cnksdD0xLzAsbj0tMS8wLGk9MS8wLHI9LTEvMCxvPTA7bzxlLmxlbmd0aDtvKyspZm9yKHZhciBhPWVbb10scz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgbD1hW3NdO3Q9TWF0aC5taW4odCxsLngpLG49TWF0aC5tYXgobixsLngpLGk9TWF0aC5taW4oaSxsLnkpLHI9TWF0aC5tYXgocixsLnkpfXJldHVyblt0LGksbixyXX0sZy5wcm90b3R5cGUudG9HZW9KU09OPXAucHJvdG90eXBlLnRvR2VvSlNPTjt2YXIgeT1lLnBiZixfPWY7ZnVuY3Rpb24gdihlKXt2YXIgdD1uZXcgeTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZS5sYXllcnMpdC53cml0ZU1lc3NhZ2UoMyx4LGUubGF5ZXJzW25dKX0oZSx0KSx0LmZpbmlzaCgpfWZ1bmN0aW9uIHgoZSx0KXt2YXIgbjt0LndyaXRlVmFyaW50RmllbGQoMTUsZS52ZXJzaW9ufHwxKSx0LndyaXRlU3RyaW5nRmllbGQoMSxlLm5hbWV8fFwiXCIpLHQud3JpdGVWYXJpbnRGaWVsZCg1LGUuZXh0ZW50fHw0MDk2KTt2YXIgaT17a2V5czpbXSx2YWx1ZXM6W10sa2V5Y2FjaGU6e30sdmFsdWVjYWNoZTp7fX07Zm9yKG49MDtuPGUubGVuZ3RoO24rKylpLmZlYXR1cmU9ZS5mZWF0dXJlKG4pLHQud3JpdGVNZXNzYWdlKDIsYixpKTt2YXIgcj1pLmtleXM7Zm9yKG49MDtuPHIubGVuZ3RoO24rKyl0LndyaXRlU3RyaW5nRmllbGQoMyxyW25dKTt2YXIgbz1pLnZhbHVlcztmb3Iobj0wO248by5sZW5ndGg7bisrKXQud3JpdGVNZXNzYWdlKDQsTSxvW25dKX1mdW5jdGlvbiBiKGUsdCl7dmFyIG49ZS5mZWF0dXJlO3ZvaWQgMCE9PW4uaWQmJnQud3JpdGVWYXJpbnRGaWVsZCgxLG4uaWQpLHQud3JpdGVNZXNzYWdlKDIsdyxlKSx0LndyaXRlVmFyaW50RmllbGQoMyxuLnR5cGUpLHQud3JpdGVNZXNzYWdlKDQsUyxuKX1mdW5jdGlvbiB3KGUsdCl7dmFyIG49ZS5mZWF0dXJlLGk9ZS5rZXlzLHI9ZS52YWx1ZXMsbz1lLmtleWNhY2hlLGE9ZS52YWx1ZWNhY2hlO2Zvcih2YXIgcyBpbiBuLnByb3BlcnRpZXMpe3ZhciBsPW4ucHJvcGVydGllc1tzXSxjPW9bc107aWYobnVsbCE9PWwpe3ZvaWQgMD09PWMmJihpLnB1c2gocyksb1tzXT1jPWkubGVuZ3RoLTEpLHQud3JpdGVWYXJpbnQoYyk7dmFyIHU9dHlwZW9mIGw7XCJzdHJpbmdcIiE9PXUmJlwiYm9vbGVhblwiIT09dSYmXCJudW1iZXJcIiE9PXUmJihsPUpTT04uc3RyaW5naWZ5KGwpKTt2YXIgaD11K1wiOlwiK2wsZD1hW2hdO3ZvaWQgMD09PWQmJihyLnB1c2gobCksYVtoXT1kPXIubGVuZ3RoLTEpLHQud3JpdGVWYXJpbnQoZCl9fX1mdW5jdGlvbiBUKGUsdCl7cmV0dXJuKHQ8PDMpKyg3JmUpfWZ1bmN0aW9uIEUoZSl7cmV0dXJuIGU8PDFeZT4+MzF9ZnVuY3Rpb24gUyhlLHQpe2Zvcih2YXIgbj1lLmxvYWRHZW9tZXRyeSgpLGk9ZS50eXBlLHI9MCxvPTAsYT1uLmxlbmd0aCxzPTA7czxhO3MrKyl7dmFyIGw9bltzXSxjPTE7MT09PWkmJihjPWwubGVuZ3RoKSx0LndyaXRlVmFyaW50KFQoMSxjKSk7Zm9yKHZhciB1PTM9PT1pP2wubGVuZ3RoLTE6bC5sZW5ndGgsaD0wO2g8dTtoKyspezE9PT1oJiYxIT09aSYmdC53cml0ZVZhcmludChUKDIsdS0xKSk7dmFyIGQ9bFtoXS54LXIscD1sW2hdLnktbzt0LndyaXRlVmFyaW50KEUoZCkpLHQud3JpdGVWYXJpbnQoRShwKSkscis9ZCxvKz1wfTM9PT1pJiZ0LndyaXRlVmFyaW50KFQoNywxKSl9fWZ1bmN0aW9uIE0oZSx0KXt2YXIgbj10eXBlb2YgZTtcInN0cmluZ1wiPT09bj90LndyaXRlU3RyaW5nRmllbGQoMSxlKTpcImJvb2xlYW5cIj09PW4/dC53cml0ZUJvb2xlYW5GaWVsZCg3LGUpOlwibnVtYmVyXCI9PT1uJiYoZSUxIT0wP3Qud3JpdGVEb3VibGVGaWVsZCgzLGUpOmU8MD90LndyaXRlU1ZhcmludEZpZWxkKDYsZSk6dC53cml0ZVZhcmludEZpZWxkKDUsZSkpfWZ1bmN0aW9uIEkoZSx0LG4saSxyLG8pe2lmKHItaTw9bilyZXR1cm47Y29uc3QgYT1pK3I+PjE7KGZ1bmN0aW9uIGUodCxuLGkscixvLGEpe2Zvcig7bz5yOyl7aWYoby1yPjYwMCl7Y29uc3Qgcz1vLXIrMSxsPWktcisxLGM9TWF0aC5sb2cocyksdT0uNSpNYXRoLmV4cCgyKmMvMyksaD0uNSpNYXRoLnNxcnQoYyp1KihzLXUpL3MpKihsLXMvMjwwPy0xOjEpO2UodCxuLGksTWF0aC5tYXgocixNYXRoLmZsb29yKGktbCp1L3MraCkpLE1hdGgubWluKG8sTWF0aC5mbG9vcihpKyhzLWwpKnUvcytoKSksYSl9Y29uc3Qgcz1uWzIqaSthXTtsZXQgbD1yLGM9bztmb3IoQyh0LG4scixpKSxuWzIqbythXT5zJiZDKHQsbixyLG8pO2w8Yzspe2ZvcihDKHQsbixsLGMpLGwrKyxjLS07blsyKmwrYV08czspbCsrO2Zvcig7blsyKmMrYV0+czspYy0tfW5bMipyK2FdPT09cz9DKHQsbixyLGMpOihjKyssQyh0LG4sYyxvKSksYzw9aSYmKHI9YysxKSxpPD1jJiYobz1jLTEpfX0pKGUsdCxhLGkscixvJTIpLEkoZSx0LG4saSxhLTEsbysxKSxJKGUsdCxuLGErMSxyLG8rMSl9ZnVuY3Rpb24gQyhlLHQsbixpKXtrKGUsbixpKSxrKHQsMipuLDIqaSksayh0LDIqbisxLDIqaSsxKX1mdW5jdGlvbiBrKGUsdCxuKXtjb25zdCBpPWVbdF07ZVt0XT1lW25dLGVbbl09aX1mdW5jdGlvbiBBKGUsdCxuLGkpe2NvbnN0IHI9ZS1uLG89dC1pO3JldHVybiByKnIrbypvfWguZXhwb3J0cz12LGguZXhwb3J0cy5mcm9tVmVjdG9yVGlsZUpzPXYsaC5leHBvcnRzLmZyb21HZW9qc29uVnQ9ZnVuY3Rpb24oZSx0KXt0PXR8fHt9O3ZhciBuPXt9O2Zvcih2YXIgaSBpbiBlKW5baV09bmV3IF8oZVtpXS5mZWF0dXJlcyx0KSxuW2ldLm5hbWU9aSxuW2ldLnZlcnNpb249dC52ZXJzaW9uLG5baV0uZXh0ZW50PXQuZXh0ZW50O3JldHVybiB2KHtsYXllcnM6bn0pfSxoLmV4cG9ydHMuR2VvSlNPTldyYXBwZXI9Xztjb25zdCBQPWU9PmVbMF0sej1lPT5lWzFdO2NsYXNzIER7Y29uc3RydWN0b3IoZSx0PVAsbj16LGk9NjQscj1GbG9hdDY0QXJyYXkpe3RoaXMubm9kZVNpemU9aSx0aGlzLnBvaW50cz1lO2NvbnN0IG89ZS5sZW5ndGg8NjU1MzY/VWludDE2QXJyYXk6VWludDMyQXJyYXksYT10aGlzLmlkcz1uZXcgbyhlLmxlbmd0aCkscz10aGlzLmNvb3Jkcz1uZXcgcigyKmUubGVuZ3RoKTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKylhW2ldPWksc1syKmldPXQoZVtpXSksc1syKmkrMV09bihlW2ldKTtJKGEscyxpLDAsYS5sZW5ndGgtMSwwKX1yYW5nZShlLHQsbixpKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4saSxyLG8sYSl7Y29uc3Qgcz1bMCxlLmxlbmd0aC0xLDBdLGw9W107bGV0IGMsdTtmb3IoO3MubGVuZ3RoOyl7Y29uc3QgaD1zLnBvcCgpLGQ9cy5wb3AoKSxwPXMucG9wKCk7aWYoZC1wPD1hKXtmb3IobGV0IGE9cDthPD1kO2ErKyljPXRbMiphXSx1PXRbMiphKzFdLGM+PW4mJmM8PXImJnU+PWkmJnU8PW8mJmwucHVzaChlW2FdKTtjb250aW51ZX1jb25zdCBmPU1hdGguZmxvb3IoKHArZCkvMik7Yz10WzIqZl0sdT10WzIqZisxXSxjPj1uJiZjPD1yJiZ1Pj1pJiZ1PD1vJiZsLnB1c2goZVtmXSk7Y29uc3QgbT0oaCsxKSUyOygwPT09aD9uPD1jOmk8PXUpJiYocy5wdXNoKHApLHMucHVzaChmLTEpLHMucHVzaChtKSksKDA9PT1oP3I+PWM6bz49dSkmJihzLnB1c2goZisxKSxzLnB1c2goZCkscy5wdXNoKG0pKX1yZXR1cm4gbH0odGhpcy5pZHMsdGhpcy5jb29yZHMsZSx0LG4saSx0aGlzLm5vZGVTaXplKX13aXRoaW4oZSx0LG4pe3JldHVybiBmdW5jdGlvbihlLHQsbixpLHIsbyl7Y29uc3QgYT1bMCxlLmxlbmd0aC0xLDBdLHM9W10sbD1yKnI7Zm9yKDthLmxlbmd0aDspe2NvbnN0IGM9YS5wb3AoKSx1PWEucG9wKCksaD1hLnBvcCgpO2lmKHUtaDw9byl7Zm9yKGxldCByPWg7cjw9dTtyKyspQSh0WzIqcl0sdFsyKnIrMV0sbixpKTw9bCYmcy5wdXNoKGVbcl0pO2NvbnRpbnVlfWNvbnN0IGQ9TWF0aC5mbG9vcigoaCt1KS8yKSxwPXRbMipkXSxmPXRbMipkKzFdO0EocCxmLG4saSk8PWwmJnMucHVzaChlW2RdKTtjb25zdCBtPShjKzEpJTI7KDA9PT1jP24tcjw9cDppLXI8PWYpJiYoYS5wdXNoKGgpLGEucHVzaChkLTEpLGEucHVzaChtKSksKDA9PT1jP24rcj49cDppK3I+PWYpJiYoYS5wdXNoKGQrMSksYS5wdXNoKHUpLGEucHVzaChtKSl9cmV0dXJuIHN9KHRoaXMuaWRzLHRoaXMuY29vcmRzLGUsdCxuLHRoaXMubm9kZVNpemUpfX1jb25zdCBMPXttaW5ab29tOjAsbWF4Wm9vbToxNixtaW5Qb2ludHM6MixyYWRpdXM6NDAsZXh0ZW50OjUxMixub2RlU2l6ZTo2NCxsb2c6ITEsZ2VuZXJhdGVJZDohMSxyZWR1Y2U6bnVsbCxtYXA6ZT0+ZX0sTz1NYXRoLmZyb3VuZHx8KFI9bmV3IEZsb2F0MzJBcnJheSgxKSxlPT4oUlswXT0rZSxSWzBdKSk7dmFyIFI7Y2xhc3MgQntjb25zdHJ1Y3RvcihlKXt0aGlzLm9wdGlvbnM9VyhPYmplY3QuY3JlYXRlKEwpLGUpLHRoaXMudHJlZXM9bmV3IEFycmF5KHRoaXMub3B0aW9ucy5tYXhab29tKzEpfWxvYWQoZSl7Y29uc3R7bG9nOnQsbWluWm9vbTpuLG1heFpvb206aSxub2RlU2l6ZTpyfT10aGlzLm9wdGlvbnM7dCYmY29uc29sZS50aW1lKFwidG90YWwgdGltZVwiKTtjb25zdCBvPWBwcmVwYXJlICR7ZS5sZW5ndGh9IHBvaW50c2A7dCYmY29uc29sZS50aW1lKG8pLHRoaXMucG9pbnRzPWU7bGV0IGE9W107Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XS5nZW9tZXRyeSYmYS5wdXNoKEYoZVt0XSx0KSk7dGhpcy50cmVlc1tpKzFdPW5ldyBEKGEscSwkLHIsRmxvYXQzMkFycmF5KSx0JiZjb25zb2xlLnRpbWVFbmQobyk7Zm9yKGxldCBlPWk7ZT49bjtlLS0pe2NvbnN0IG49K0RhdGUubm93KCk7YT10aGlzLl9jbHVzdGVyKGEsZSksdGhpcy50cmVlc1tlXT1uZXcgRChhLHEsJCxyLEZsb2F0MzJBcnJheSksdCYmY29uc29sZS5sb2coXCJ6JWQ6ICVkIGNsdXN0ZXJzIGluICVkbXNcIixlLGEubGVuZ3RoLCtEYXRlLm5vdygpLW4pfXJldHVybiB0JiZjb25zb2xlLnRpbWVFbmQoXCJ0b3RhbCB0aW1lXCIpLHRoaXN9Z2V0Q2x1c3RlcnMoZSx0KXtsZXQgbj0oKGVbMF0rMTgwKSUzNjArMzYwKSUzNjAtMTgwO2NvbnN0IGk9TWF0aC5tYXgoLTkwLE1hdGgubWluKDkwLGVbMV0pKTtsZXQgcj0xODA9PT1lWzJdPzE4MDooKGVbMl0rMTgwKSUzNjArMzYwKSUzNjAtMTgwO2NvbnN0IG89TWF0aC5tYXgoLTkwLE1hdGgubWluKDkwLGVbM10pKTtpZihlWzJdLWVbMF0+PTM2MCluPS0xODAscj0xODA7ZWxzZSBpZihuPnIpe2NvbnN0IGU9dGhpcy5nZXRDbHVzdGVycyhbbixpLDE4MCxvXSx0KSxhPXRoaXMuZ2V0Q2x1c3RlcnMoWy0xODAsaSxyLG9dLHQpO3JldHVybiBlLmNvbmNhdChhKX1jb25zdCBhPXRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKHQpXSxzPWEucmFuZ2UoVihuKSxHKG8pLFYociksRyhpKSksbD1bXTtmb3IoY29uc3QgZSBvZiBzKXtjb25zdCB0PWEucG9pbnRzW2VdO2wucHVzaCh0Lm51bVBvaW50cz9OKHQpOnRoaXMucG9pbnRzW3QuaW5kZXhdKX1yZXR1cm4gbH1nZXRDaGlsZHJlbihlKXtjb25zdCB0PXRoaXMuX2dldE9yaWdpbklkKGUpLG49dGhpcy5fZ2V0T3JpZ2luWm9vbShlKSxpPVwiTm8gY2x1c3RlciB3aXRoIHRoZSBzcGVjaWZpZWQgaWQuXCIscj10aGlzLnRyZWVzW25dO2lmKCFyKXRocm93IG5ldyBFcnJvcihpKTtjb25zdCBvPXIucG9pbnRzW3RdO2lmKCFvKXRocm93IG5ldyBFcnJvcihpKTtjb25zdCBhPXRoaXMub3B0aW9ucy5yYWRpdXMvKHRoaXMub3B0aW9ucy5leHRlbnQqTWF0aC5wb3coMixuLTEpKSxzPXIud2l0aGluKG8ueCxvLnksYSksbD1bXTtmb3IoY29uc3QgdCBvZiBzKXtjb25zdCBuPXIucG9pbnRzW3RdO24ucGFyZW50SWQ9PT1lJiZsLnB1c2gobi5udW1Qb2ludHM/TihuKTp0aGlzLnBvaW50c1tuLmluZGV4XSl9aWYoMD09PWwubGVuZ3RoKXRocm93IG5ldyBFcnJvcihpKTtyZXR1cm4gbH1nZXRMZWF2ZXMoZSx0LG4pe2NvbnN0IGk9W107cmV0dXJuIHRoaXMuX2FwcGVuZExlYXZlcyhpLGUsdD10fHwxMCxuPW58fDAsMCksaX1nZXRUaWxlKGUsdCxuKXtjb25zdCBpPXRoaXMudHJlZXNbdGhpcy5fbGltaXRab29tKGUpXSxyPU1hdGgucG93KDIsZSkse2V4dGVudDpvLHJhZGl1czphfT10aGlzLm9wdGlvbnMscz1hL28sbD0obi1zKS9yLGM9KG4rMStzKS9yLHU9e2ZlYXR1cmVzOltdfTtyZXR1cm4gdGhpcy5fYWRkVGlsZUZlYXR1cmVzKGkucmFuZ2UoKHQtcykvcixsLCh0KzErcykvcixjKSxpLnBvaW50cyx0LG4scix1KSwwPT09dCYmdGhpcy5fYWRkVGlsZUZlYXR1cmVzKGkucmFuZ2UoMS1zL3IsbCwxLGMpLGkucG9pbnRzLHIsbixyLHUpLHQ9PT1yLTEmJnRoaXMuX2FkZFRpbGVGZWF0dXJlcyhpLnJhbmdlKDAsbCxzL3IsYyksaS5wb2ludHMsLTEsbixyLHUpLHUuZmVhdHVyZXMubGVuZ3RoP3U6bnVsbH1nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShlKXtsZXQgdD10aGlzLl9nZXRPcmlnaW5ab29tKGUpLTE7Zm9yKDt0PD10aGlzLm9wdGlvbnMubWF4Wm9vbTspe2NvbnN0IG49dGhpcy5nZXRDaGlsZHJlbihlKTtpZih0KyssMSE9PW4ubGVuZ3RoKWJyZWFrO2U9blswXS5wcm9wZXJ0aWVzLmNsdXN0ZXJfaWR9cmV0dXJuIHR9X2FwcGVuZExlYXZlcyhlLHQsbixpLHIpe2NvbnN0IG89dGhpcy5nZXRDaGlsZHJlbih0KTtmb3IoY29uc3QgdCBvZiBvKXtjb25zdCBvPXQucHJvcGVydGllcztpZihvJiZvLmNsdXN0ZXI/citvLnBvaW50X2NvdW50PD1pP3IrPW8ucG9pbnRfY291bnQ6cj10aGlzLl9hcHBlbmRMZWF2ZXMoZSxvLmNsdXN0ZXJfaWQsbixpLHIpOnI8aT9yKys6ZS5wdXNoKHQpLGUubGVuZ3RoPT09bilicmVha31yZXR1cm4gcn1fYWRkVGlsZUZlYXR1cmVzKGUsdCxuLGkscixvKXtmb3IoY29uc3QgYSBvZiBlKXtjb25zdCBlPXRbYV0scz1lLm51bVBvaW50cztsZXQgbCxjLHU7aWYocylsPVUoZSksYz1lLngsdT1lLnk7ZWxzZXtjb25zdCB0PXRoaXMucG9pbnRzW2UuaW5kZXhdO2w9dC5wcm9wZXJ0aWVzLGM9Vih0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdKSx1PUcodC5nZW9tZXRyeS5jb29yZGluYXRlc1sxXSl9Y29uc3QgaD17dHlwZToxLGdlb21ldHJ5OltbTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50KihjKnItbikpLE1hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCoodSpyLWkpKV1dLHRhZ3M6bH07bGV0IGQ7cz9kPWUuaWQ6dGhpcy5vcHRpb25zLmdlbmVyYXRlSWQ/ZD1lLmluZGV4OnRoaXMucG9pbnRzW2UuaW5kZXhdLmlkJiYoZD10aGlzLnBvaW50c1tlLmluZGV4XS5pZCksdm9pZCAwIT09ZCYmKGguaWQ9ZCksby5mZWF0dXJlcy5wdXNoKGgpfX1fbGltaXRab29tKGUpe3JldHVybiBNYXRoLm1heCh0aGlzLm9wdGlvbnMubWluWm9vbSxNYXRoLm1pbihNYXRoLmZsb29yKCtlKSx0aGlzLm9wdGlvbnMubWF4Wm9vbSsxKSl9X2NsdXN0ZXIoZSx0KXtjb25zdCBuPVtdLHtyYWRpdXM6aSxleHRlbnQ6cixyZWR1Y2U6byxtaW5Qb2ludHM6YX09dGhpcy5vcHRpb25zLHM9aS8ocipNYXRoLnBvdygyLHQpKTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgcj1lW2ldO2lmKHIuem9vbTw9dCljb250aW51ZTtyLnpvb209dDtjb25zdCBsPXRoaXMudHJlZXNbdCsxXSxjPWwud2l0aGluKHIueCxyLnkscyksdT1yLm51bVBvaW50c3x8MTtsZXQgaD11O2Zvcihjb25zdCBlIG9mIGMpe2NvbnN0IG49bC5wb2ludHNbZV07bi56b29tPnQmJihoKz1uLm51bVBvaW50c3x8MSl9aWYoaD51JiZoPj1hKXtsZXQgZT1yLngqdSxhPXIueSp1LHM9byYmdT4xP3RoaXMuX21hcChyLCEwKTpudWxsO2NvbnN0IGQ9KGk8PDUpKyh0KzEpK3RoaXMucG9pbnRzLmxlbmd0aDtmb3IoY29uc3QgbiBvZiBjKXtjb25zdCBpPWwucG9pbnRzW25dO2lmKGkuem9vbTw9dCljb250aW51ZTtpLnpvb209dDtjb25zdCBjPWkubnVtUG9pbnRzfHwxO2UrPWkueCpjLGErPWkueSpjLGkucGFyZW50SWQ9ZCxvJiYoc3x8KHM9dGhpcy5fbWFwKHIsITApKSxvKHMsdGhpcy5fbWFwKGkpKSl9ci5wYXJlbnRJZD1kLG4ucHVzaChqKGUvaCxhL2gsZCxoLHMpKX1lbHNlIGlmKG4ucHVzaChyKSxoPjEpZm9yKGNvbnN0IGUgb2YgYyl7Y29uc3QgaT1sLnBvaW50c1tlXTtpLnpvb208PXR8fChpLnpvb209dCxuLnB1c2goaSkpfX1yZXR1cm4gbn1fZ2V0T3JpZ2luSWQoZSl7cmV0dXJuIGUtdGhpcy5wb2ludHMubGVuZ3RoPj41fV9nZXRPcmlnaW5ab29tKGUpe3JldHVybihlLXRoaXMucG9pbnRzLmxlbmd0aCklMzJ9X21hcChlLHQpe2lmKGUubnVtUG9pbnRzKXJldHVybiB0P1coe30sZS5wcm9wZXJ0aWVzKTplLnByb3BlcnRpZXM7Y29uc3Qgbj10aGlzLnBvaW50c1tlLmluZGV4XS5wcm9wZXJ0aWVzLGk9dGhpcy5vcHRpb25zLm1hcChuKTtyZXR1cm4gdCYmaT09PW4/Vyh7fSxpKTppfX1mdW5jdGlvbiBqKGUsdCxuLGkscil7cmV0dXJue3g6TyhlKSx5Ok8odCksem9vbToxLzAsaWQ6bixwYXJlbnRJZDotMSxudW1Qb2ludHM6aSxwcm9wZXJ0aWVzOnJ9fWZ1bmN0aW9uIEYoZSx0KXtjb25zdFtuLGldPWUuZ2VvbWV0cnkuY29vcmRpbmF0ZXM7cmV0dXJue3g6TyhWKG4pKSx5Ok8oRyhpKSksem9vbToxLzAsaW5kZXg6dCxwYXJlbnRJZDotMX19ZnVuY3Rpb24gTihlKXtyZXR1cm57dHlwZTpcIkZlYXR1cmVcIixpZDplLmlkLHByb3BlcnRpZXM6VShlKSxnZW9tZXRyeTp7dHlwZTpcIlBvaW50XCIsY29vcmRpbmF0ZXM6Wyh0PWUueCwzNjAqKHQtLjUpKSxaKGUueSldfX07dmFyIHR9ZnVuY3Rpb24gVShlKXtjb25zdCB0PWUubnVtUG9pbnRzLG49dD49MWU0P01hdGgucm91bmQodC8xZTMpK1wia1wiOnQ+PTFlMz9NYXRoLnJvdW5kKHQvMTAwKS8xMCtcImtcIjp0O3JldHVybiBXKFcoe30sZS5wcm9wZXJ0aWVzKSx7Y2x1c3RlcjohMCxjbHVzdGVyX2lkOmUuaWQscG9pbnRfY291bnQ6dCxwb2ludF9jb3VudF9hYmJyZXZpYXRlZDpufSl9ZnVuY3Rpb24gVihlKXtyZXR1cm4gZS8zNjArLjV9ZnVuY3Rpb24gRyhlKXtjb25zdCB0PU1hdGguc2luKGUqTWF0aC5QSS8xODApLG49LjUtLjI1Kk1hdGgubG9nKCgxK3QpLygxLXQpKS9NYXRoLlBJO3JldHVybiBuPDA/MDpuPjE/MTpufWZ1bmN0aW9uIFooZSl7Y29uc3QgdD0oMTgwLTM2MCplKSpNYXRoLlBJLzE4MDtyZXR1cm4gMzYwKk1hdGguYXRhbihNYXRoLmV4cCh0KSkvTWF0aC5QSS05MH1mdW5jdGlvbiBXKGUsdCl7Zm9yKGNvbnN0IG4gaW4gdCllW25dPXRbbl07cmV0dXJuIGV9ZnVuY3Rpb24gcShlKXtyZXR1cm4gZS54fWZ1bmN0aW9uICQoZSl7cmV0dXJuIGUueX1mdW5jdGlvbiBIKGUsdCxuLGkscixvKXt2YXIgYT1yLW4scz1vLWk7aWYoMCE9PWF8fDAhPT1zKXt2YXIgbD0oKGUtbikqYSsodC1pKSpzKS8oYSphK3Mqcyk7bD4xPyhuPXIsaT1vKTpsPjAmJihuKz1hKmwsaSs9cypsKX1yZXR1cm4oYT1lLW4pKmErKHM9dC1pKSpzfWZ1bmN0aW9uIFgoZSx0LG4saSl7dmFyIHI9e2lkOnZvaWQgMD09PWU/bnVsbDplLHR5cGU6dCxnZW9tZXRyeTpuLHRhZ3M6aSxtaW5YOjEvMCxtaW5ZOjEvMCxtYXhYOi0xLzAsbWF4WTotMS8wfTtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5nZW9tZXRyeSxuPWUudHlwZTtpZihcIlBvaW50XCI9PT1ufHxcIk11bHRpUG9pbnRcIj09PW58fFwiTGluZVN0cmluZ1wiPT09bilZKGUsdCk7ZWxzZSBpZihcIlBvbHlnb25cIj09PW58fFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1uKWZvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKVkoZSx0W2ldKTtlbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1uKWZvcihpPTA7aTx0Lmxlbmd0aDtpKyspZm9yKHZhciByPTA7cjx0W2ldLmxlbmd0aDtyKyspWShlLHRbaV1bcl0pfShyKSxyfWZ1bmN0aW9uIFkoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rPTMpZS5taW5YPU1hdGgubWluKGUubWluWCx0W25dKSxlLm1pblk9TWF0aC5taW4oZS5taW5ZLHRbbisxXSksZS5tYXhYPU1hdGgubWF4KGUubWF4WCx0W25dKSxlLm1heFk9TWF0aC5tYXgoZS5tYXhZLHRbbisxXSl9ZnVuY3Rpb24gSihlLHQsbixpKXtpZih0Lmdlb21ldHJ5KXt2YXIgcj10Lmdlb21ldHJ5LmNvb3JkaW5hdGVzLG89dC5nZW9tZXRyeS50eXBlLGE9TWF0aC5wb3cobi50b2xlcmFuY2UvKCgxPDxuLm1heFpvb20pKm4uZXh0ZW50KSwyKSxzPVtdLGw9dC5pZDtpZihuLnByb21vdGVJZD9sPXQucHJvcGVydGllc1tuLnByb21vdGVJZF06bi5nZW5lcmF0ZUlkJiYobD1pfHwwKSxcIlBvaW50XCI9PT1vKVEocixzKTtlbHNlIGlmKFwiTXVsdGlQb2ludFwiPT09bylmb3IodmFyIGM9MDtjPHIubGVuZ3RoO2MrKylRKHJbY10scyk7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PW8pSyhyLHMsYSwhMSk7ZWxzZSBpZihcIk11bHRpTGluZVN0cmluZ1wiPT09byl7aWYobi5saW5lTWV0cmljcyl7Zm9yKGM9MDtjPHIubGVuZ3RoO2MrKylLKHJbY10scz1bXSxhLCExKSxlLnB1c2goWChsLFwiTGluZVN0cmluZ1wiLHMsdC5wcm9wZXJ0aWVzKSk7cmV0dXJufWVlKHIscyxhLCExKX1lbHNlIGlmKFwiUG9seWdvblwiPT09byllZShyLHMsYSwhMCk7ZWxzZXtpZihcIk11bHRpUG9seWdvblwiIT09byl7aWYoXCJHZW9tZXRyeUNvbGxlY3Rpb25cIj09PW8pe2ZvcihjPTA7Yzx0Lmdlb21ldHJ5Lmdlb21ldHJpZXMubGVuZ3RoO2MrKylKKGUse2lkOmwsZ2VvbWV0cnk6dC5nZW9tZXRyeS5nZW9tZXRyaWVzW2NdLHByb3BlcnRpZXM6dC5wcm9wZXJ0aWVzfSxuLGkpO3JldHVybn10aHJvdyBuZXcgRXJyb3IoXCJJbnB1dCBkYXRhIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LlwiKX1mb3IoYz0wO2M8ci5sZW5ndGg7YysrKXt2YXIgdT1bXTtlZShyW2NdLHUsYSwhMCkscy5wdXNoKHUpfX1lLnB1c2goWChsLG8scyx0LnByb3BlcnRpZXMpKX19ZnVuY3Rpb24gUShlLHQpe3QucHVzaCh0ZShlWzBdKSksdC5wdXNoKG5lKGVbMV0pKSx0LnB1c2goMCl9ZnVuY3Rpb24gSyhlLHQsbixpKXtmb3IodmFyIHIsbyxhPTAscz0wO3M8ZS5sZW5ndGg7cysrKXt2YXIgbD10ZShlW3NdWzBdKSxjPW5lKGVbc11bMV0pO3QucHVzaChsKSx0LnB1c2goYyksdC5wdXNoKDApLHM+MCYmKGErPWk/KHIqYy1sKm8pLzI6TWF0aC5zcXJ0KE1hdGgucG93KGwtciwyKStNYXRoLnBvdyhjLW8sMikpKSxyPWwsbz1jfXZhciB1PXQubGVuZ3RoLTM7dFsyXT0xLGZ1bmN0aW9uIGUodCxuLGkscil7Zm9yKHZhciBvLGE9cixzPWktbj4+MSxsPWktbixjPXRbbl0sdT10W24rMV0saD10W2ldLGQ9dFtpKzFdLHA9biszO3A8aTtwKz0zKXt2YXIgZj1IKHRbcF0sdFtwKzFdLGMsdSxoLGQpO2lmKGY+YSlvPXAsYT1mO2Vsc2UgaWYoZj09PWEpe3ZhciBtPU1hdGguYWJzKHAtcyk7bTxsJiYobz1wLGw9bSl9fWE+ciYmKG8tbj4zJiZlKHQsbixvLHIpLHRbbysyXT1hLGktbz4zJiZlKHQsbyxpLHIpKX0odCwwLHUsbiksdFt1KzJdPTEsdC5zaXplPU1hdGguYWJzKGEpLHQuc3RhcnQ9MCx0LmVuZD10LnNpemV9ZnVuY3Rpb24gZWUoZSx0LG4saSl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBvPVtdO0soZVtyXSxvLG4saSksdC5wdXNoKG8pfX1mdW5jdGlvbiB0ZShlKXtyZXR1cm4gZS8zNjArLjV9ZnVuY3Rpb24gbmUoZSl7dmFyIHQ9TWF0aC5zaW4oZSpNYXRoLlBJLzE4MCksbj0uNS0uMjUqTWF0aC5sb2coKDErdCkvKDEtdCkpL01hdGguUEk7cmV0dXJuIG48MD8wOm4+MT8xOm59ZnVuY3Rpb24gaWUoZSx0LG4saSxyLG8sYSxzKXtpZihpLz10LG8+PShuLz10KSYmYTxpKXJldHVybiBlO2lmKGE8bnx8bz49aSlyZXR1cm4gbnVsbDtmb3IodmFyIGw9W10sYz0wO2M8ZS5sZW5ndGg7YysrKXt2YXIgdT1lW2NdLGg9dS5nZW9tZXRyeSxkPXUudHlwZSxwPTA9PT1yP3UubWluWDp1Lm1pblksZj0wPT09cj91Lm1heFg6dS5tYXhZO2lmKHA+PW4mJmY8aSlsLnB1c2godSk7ZWxzZSBpZighKGY8bnx8cD49aSkpe3ZhciBtPVtdO2lmKFwiUG9pbnRcIj09PWR8fFwiTXVsdGlQb2ludFwiPT09ZClyZShoLG0sbixpLHIpO2Vsc2UgaWYoXCJMaW5lU3RyaW5nXCI9PT1kKW9lKGgsbSxuLGksciwhMSxzLmxpbmVNZXRyaWNzKTtlbHNlIGlmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1kKXNlKGgsbSxuLGksciwhMSk7ZWxzZSBpZihcIlBvbHlnb25cIj09PWQpc2UoaCxtLG4saSxyLCEwKTtlbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1kKWZvcih2YXIgZz0wO2c8aC5sZW5ndGg7ZysrKXt2YXIgeT1bXTtzZShoW2ddLHksbixpLHIsITApLHkubGVuZ3RoJiZtLnB1c2goeSl9aWYobS5sZW5ndGgpe2lmKHMubGluZU1ldHJpY3MmJlwiTGluZVN0cmluZ1wiPT09ZCl7Zm9yKGc9MDtnPG0ubGVuZ3RoO2crKylsLnB1c2goWCh1LmlkLGQsbVtnXSx1LnRhZ3MpKTtjb250aW51ZX1cIkxpbmVTdHJpbmdcIiE9PWQmJlwiTXVsdGlMaW5lU3RyaW5nXCIhPT1kfHwoMT09PW0ubGVuZ3RoPyhkPVwiTGluZVN0cmluZ1wiLG09bVswXSk6ZD1cIk11bHRpTGluZVN0cmluZ1wiKSxcIlBvaW50XCIhPT1kJiZcIk11bHRpUG9pbnRcIiE9PWR8fChkPTM9PT1tLmxlbmd0aD9cIlBvaW50XCI6XCJNdWx0aVBvaW50XCIpLGwucHVzaChYKHUuaWQsZCxtLHUudGFncykpfX19cmV0dXJuIGwubGVuZ3RoP2w6bnVsbH1mdW5jdGlvbiByZShlLHQsbixpLHIpe2Zvcih2YXIgbz0wO288ZS5sZW5ndGg7bys9Myl7dmFyIGE9ZVtvK3JdO2E+PW4mJmE8PWkmJih0LnB1c2goZVtvXSksdC5wdXNoKGVbbysxXSksdC5wdXNoKGVbbysyXSkpfX1mdW5jdGlvbiBvZShlLHQsbixpLHIsbyxhKXtmb3IodmFyIHMsbCxjPWFlKGUpLHU9MD09PXI/Y2U6dWUsaD1lLnN0YXJ0LGQ9MDtkPGUubGVuZ3RoLTM7ZCs9Myl7dmFyIHA9ZVtkXSxmPWVbZCsxXSxtPWVbZCsyXSxnPWVbZCszXSx5PWVbZCs0XSxfPTA9PT1yP3A6Zix2PTA9PT1yP2c6eSx4PSExO2EmJihzPU1hdGguc3FydChNYXRoLnBvdyhwLWcsMikrTWF0aC5wb3coZi15LDIpKSksXzxuP3Y+biYmKGw9dShjLHAsZixnLHksbiksYSYmKGMuc3RhcnQ9aCtzKmwpKTpfPmk/djxpJiYobD11KGMscCxmLGcseSxpKSxhJiYoYy5zdGFydD1oK3MqbCkpOmxlKGMscCxmLG0pLHY8biYmXz49biYmKGw9dShjLHAsZixnLHksbikseD0hMCksdj5pJiZfPD1pJiYobD11KGMscCxmLGcseSxpKSx4PSEwKSwhbyYmeCYmKGEmJihjLmVuZD1oK3MqbCksdC5wdXNoKGMpLGM9YWUoZSkpLGEmJihoKz1zKX12YXIgYj1lLmxlbmd0aC0zO3A9ZVtiXSxmPWVbYisxXSxtPWVbYisyXSwoXz0wPT09cj9wOmYpPj1uJiZfPD1pJiZsZShjLHAsZixtKSxiPWMubGVuZ3RoLTMsbyYmYj49MyYmKGNbYl0hPT1jWzBdfHxjW2IrMV0hPT1jWzFdKSYmbGUoYyxjWzBdLGNbMV0sY1syXSksYy5sZW5ndGgmJnQucHVzaChjKX1mdW5jdGlvbiBhZShlKXt2YXIgdD1bXTtyZXR1cm4gdC5zaXplPWUuc2l6ZSx0LnN0YXJ0PWUuc3RhcnQsdC5lbmQ9ZS5lbmQsdH1mdW5jdGlvbiBzZShlLHQsbixpLHIsbyl7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspb2UoZVthXSx0LG4saSxyLG8sITEpfWZ1bmN0aW9uIGxlKGUsdCxuLGkpe2UucHVzaCh0KSxlLnB1c2gobiksZS5wdXNoKGkpfWZ1bmN0aW9uIGNlKGUsdCxuLGkscixvKXt2YXIgYT0oby10KS8oaS10KTtyZXR1cm4gZS5wdXNoKG8pLGUucHVzaChuKyhyLW4pKmEpLGUucHVzaCgxKSxhfWZ1bmN0aW9uIHVlKGUsdCxuLGkscixvKXt2YXIgYT0oby1uKS8oci1uKTtyZXR1cm4gZS5wdXNoKHQrKGktdCkqYSksZS5wdXNoKG8pLGUucHVzaCgxKSxhfWZ1bmN0aW9uIGhlKGUsdCl7Zm9yKHZhciBuPVtdLGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIHIsbz1lW2ldLGE9by50eXBlO2lmKFwiUG9pbnRcIj09PWF8fFwiTXVsdGlQb2ludFwiPT09YXx8XCJMaW5lU3RyaW5nXCI9PT1hKXI9ZGUoby5nZW9tZXRyeSx0KTtlbHNlIGlmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1hfHxcIlBvbHlnb25cIj09PWEpe3I9W107Zm9yKHZhciBzPTA7czxvLmdlb21ldHJ5Lmxlbmd0aDtzKyspci5wdXNoKGRlKG8uZ2VvbWV0cnlbc10sdCkpfWVsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PWEpZm9yKHI9W10scz0wO3M8by5nZW9tZXRyeS5sZW5ndGg7cysrKXtmb3IodmFyIGw9W10sYz0wO2M8by5nZW9tZXRyeVtzXS5sZW5ndGg7YysrKWwucHVzaChkZShvLmdlb21ldHJ5W3NdW2NdLHQpKTtyLnB1c2gobCl9bi5wdXNoKFgoby5pZCxhLHIsby50YWdzKSl9cmV0dXJuIG59ZnVuY3Rpb24gZGUoZSx0KXt2YXIgbj1bXTtuLnNpemU9ZS5zaXplLHZvaWQgMCE9PWUuc3RhcnQmJihuLnN0YXJ0PWUuc3RhcnQsbi5lbmQ9ZS5lbmQpO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSs9MyluLnB1c2goZVtpXSt0LGVbaSsxXSxlW2krMl0pO3JldHVybiBufWZ1bmN0aW9uIHBlKGUsdCl7aWYoZS50cmFuc2Zvcm1lZClyZXR1cm4gZTt2YXIgbixpLHIsbz0xPDxlLnosYT1lLngscz1lLnk7Zm9yKG49MDtuPGUuZmVhdHVyZXMubGVuZ3RoO24rKyl7dmFyIGw9ZS5mZWF0dXJlc1tuXSxjPWwuZ2VvbWV0cnksdT1sLnR5cGU7aWYobC5nZW9tZXRyeT1bXSwxPT09dSlmb3IoaT0wO2k8Yy5sZW5ndGg7aSs9MilsLmdlb21ldHJ5LnB1c2goZmUoY1tpXSxjW2krMV0sdCxvLGEscykpO2Vsc2UgZm9yKGk9MDtpPGMubGVuZ3RoO2krKyl7dmFyIGg9W107Zm9yKHI9MDtyPGNbaV0ubGVuZ3RoO3IrPTIpaC5wdXNoKGZlKGNbaV1bcl0sY1tpXVtyKzFdLHQsbyxhLHMpKTtsLmdlb21ldHJ5LnB1c2goaCl9fXJldHVybiBlLnRyYW5zZm9ybWVkPSEwLGV9ZnVuY3Rpb24gZmUoZSx0LG4saSxyLG8pe3JldHVybltNYXRoLnJvdW5kKG4qKGUqaS1yKSksTWF0aC5yb3VuZChuKih0KmktbykpXX1mdW5jdGlvbiBtZShlLHQsbixpLHIpe2Zvcih2YXIgbz10PT09ci5tYXhab29tPzA6ci50b2xlcmFuY2UvKCgxPDx0KSpyLmV4dGVudCksYT17ZmVhdHVyZXM6W10sbnVtUG9pbnRzOjAsbnVtU2ltcGxpZmllZDowLG51bUZlYXR1cmVzOjAsc291cmNlOm51bGwseDpuLHk6aSx6OnQsdHJhbnNmb3JtZWQ6ITEsbWluWDoyLG1pblk6MSxtYXhYOi0xLG1heFk6MH0scz0wO3M8ZS5sZW5ndGg7cysrKXthLm51bUZlYXR1cmVzKyssZ2UoYSxlW3NdLG8scik7dmFyIGw9ZVtzXS5taW5YLGM9ZVtzXS5taW5ZLHU9ZVtzXS5tYXhYLGg9ZVtzXS5tYXhZO2w8YS5taW5YJiYoYS5taW5YPWwpLGM8YS5taW5ZJiYoYS5taW5ZPWMpLHU+YS5tYXhYJiYoYS5tYXhYPXUpLGg+YS5tYXhZJiYoYS5tYXhZPWgpfXJldHVybiBhfWZ1bmN0aW9uIGdlKGUsdCxuLGkpe3ZhciByPXQuZ2VvbWV0cnksbz10LnR5cGUsYT1bXTtpZihcIlBvaW50XCI9PT1vfHxcIk11bHRpUG9pbnRcIj09PW8pZm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKz0zKWEucHVzaChyW3NdKSxhLnB1c2gocltzKzFdKSxlLm51bVBvaW50cysrLGUubnVtU2ltcGxpZmllZCsrO2Vsc2UgaWYoXCJMaW5lU3RyaW5nXCI9PT1vKXllKGEscixlLG4sITEsITEpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PW98fFwiUG9seWdvblwiPT09bylmb3Iocz0wO3M8ci5sZW5ndGg7cysrKXllKGEscltzXSxlLG4sXCJQb2x5Z29uXCI9PT1vLDA9PT1zKTtlbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1vKWZvcih2YXIgbD0wO2w8ci5sZW5ndGg7bCsrKXt2YXIgYz1yW2xdO2ZvcihzPTA7czxjLmxlbmd0aDtzKyspeWUoYSxjW3NdLGUsbiwhMCwwPT09cyl9aWYoYS5sZW5ndGgpe3ZhciB1PXQudGFnc3x8bnVsbDtpZihcIkxpbmVTdHJpbmdcIj09PW8mJmkubGluZU1ldHJpY3Mpe2Zvcih2YXIgaCBpbiB1PXt9LHQudGFncyl1W2hdPXQudGFnc1toXTt1Lm1hcGJveF9jbGlwX3N0YXJ0PXIuc3RhcnQvci5zaXplLHUubWFwYm94X2NsaXBfZW5kPXIuZW5kL3Iuc2l6ZX12YXIgZD17Z2VvbWV0cnk6YSx0eXBlOlwiUG9seWdvblwiPT09b3x8XCJNdWx0aVBvbHlnb25cIj09PW8/MzpcIkxpbmVTdHJpbmdcIj09PW98fFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1vPzI6MSx0YWdzOnV9O251bGwhPT10LmlkJiYoZC5pZD10LmlkKSxlLmZlYXR1cmVzLnB1c2goZCl9fWZ1bmN0aW9uIHllKGUsdCxuLGkscixvKXt2YXIgYT1pKmk7aWYoaT4wJiZ0LnNpemU8KHI/YTppKSluLm51bVBvaW50cys9dC5sZW5ndGgvMztlbHNle2Zvcih2YXIgcz1bXSxsPTA7bDx0Lmxlbmd0aDtsKz0zKSgwPT09aXx8dFtsKzJdPmEpJiYobi5udW1TaW1wbGlmaWVkKysscy5wdXNoKHRbbF0pLHMucHVzaCh0W2wrMV0pKSxuLm51bVBvaW50cysrO3ImJmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAsaT0wLHI9ZS5sZW5ndGgsbz1yLTI7aTxyO289aSxpKz0yKW4rPShlW2ldLWVbb10pKihlW2krMV0rZVtvKzFdKTtpZihuPjA9PT10KWZvcihpPTAscj1lLmxlbmd0aDtpPHIvMjtpKz0yKXt2YXIgYT1lW2ldLHM9ZVtpKzFdO2VbaV09ZVtyLTItaV0sZVtpKzFdPWVbci0xLWldLGVbci0yLWldPWEsZVtyLTEtaV09c319KHMsbyksZS5wdXNoKHMpfX1mdW5jdGlvbiBfZShlLHQpe3ZhciBuPSh0PXRoaXMub3B0aW9ucz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiB0KWVbbl09dFtuXTtyZXR1cm4gZX0oT2JqZWN0LmNyZWF0ZSh0aGlzLm9wdGlvbnMpLHQpKS5kZWJ1ZztpZihuJiZjb25zb2xlLnRpbWUoXCJwcmVwcm9jZXNzIGRhdGFcIiksdC5tYXhab29tPDB8fHQubWF4Wm9vbT4yNCl0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIHNob3VsZCBiZSBpbiB0aGUgMC0yNCByYW5nZVwiKTtpZih0LnByb21vdGVJZCYmdC5nZW5lcmF0ZUlkKXRocm93IG5ldyBFcnJvcihcInByb21vdGVJZCBhbmQgZ2VuZXJhdGVJZCBjYW5ub3QgYmUgdXNlZCB0b2dldGhlci5cIik7dmFyIGk9ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtpZihcIkZlYXR1cmVDb2xsZWN0aW9uXCI9PT1lLnR5cGUpZm9yKHZhciBpPTA7aTxlLmZlYXR1cmVzLmxlbmd0aDtpKyspSihuLGUuZmVhdHVyZXNbaV0sdCxpKTtlbHNlIEoobixcIkZlYXR1cmVcIj09PWUudHlwZT9lOntnZW9tZXRyeTplfSx0KTtyZXR1cm4gbn0oZSx0KTt0aGlzLnRpbGVzPXt9LHRoaXMudGlsZUNvb3Jkcz1bXSxuJiYoY29uc29sZS50aW1lRW5kKFwicHJlcHJvY2VzcyBkYXRhXCIpLGNvbnNvbGUubG9nKFwiaW5kZXg6IG1heFpvb206ICVkLCBtYXhQb2ludHM6ICVkXCIsdC5pbmRleE1heFpvb20sdC5pbmRleE1heFBvaW50cyksY29uc29sZS50aW1lKFwiZ2VuZXJhdGUgdGlsZXNcIiksdGhpcy5zdGF0cz17fSx0aGlzLnRvdGFsPTApLChpPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5idWZmZXIvdC5leHRlbnQsaT1lLHI9aWUoZSwxLC0xLW4sbiwwLC0xLDIsdCksbz1pZShlLDEsMS1uLDIrbiwwLC0xLDIsdCk7cmV0dXJuKHJ8fG8pJiYoaT1pZShlLDEsLW4sMStuLDAsLTEsMix0KXx8W10sciYmKGk9aGUociwxKS5jb25jYXQoaSkpLG8mJihpPWkuY29uY2F0KGhlKG8sLTEpKSkpLGl9KGksdCkpLmxlbmd0aCYmdGhpcy5zcGxpdFRpbGUoaSwwLDAsMCksbiYmKGkubGVuZ3RoJiZjb25zb2xlLmxvZyhcImZlYXR1cmVzOiAlZCwgcG9pbnRzOiAlZFwiLHRoaXMudGlsZXNbMF0ubnVtRmVhdHVyZXMsdGhpcy50aWxlc1swXS5udW1Qb2ludHMpLGNvbnNvbGUudGltZUVuZChcImdlbmVyYXRlIHRpbGVzXCIpLGNvbnNvbGUubG9nKFwidGlsZXMgZ2VuZXJhdGVkOlwiLHRoaXMudG90YWwsSlNPTi5zdHJpbmdpZnkodGhpcy5zdGF0cykpKX1mdW5jdGlvbiB2ZShlLHQsbil7cmV0dXJuIDMyKigoMTw8ZSkqbit0KStlfWZ1bmN0aW9uIHhlKGUsdCl7Y29uc3Qgbj1lLnRpbGVJRC5jYW5vbmljYWw7aWYoIXRoaXMuX2dlb0pTT05JbmRleClyZXR1cm4gdChudWxsLG51bGwpO2NvbnN0IGk9dGhpcy5fZ2VvSlNPTkluZGV4LmdldFRpbGUobi56LG4ueCxuLnkpO2lmKCFpKXJldHVybiB0KG51bGwsbnVsbCk7Y29uc3Qgcj1uZXcgdShpLmZlYXR1cmVzKTtsZXQgbz1oLmV4cG9ydHMocik7MD09PW8uYnl0ZU9mZnNldCYmby5ieXRlTGVuZ3RoPT09by5idWZmZXIuYnl0ZUxlbmd0aHx8KG89bmV3IFVpbnQ4QXJyYXkobykpLHQobnVsbCx7dmVjdG9yVGlsZTpyLHJhd0RhdGE6by5idWZmZXJ9KX1fZS5wcm90b3R5cGUub3B0aW9ucz17bWF4Wm9vbToxNCxpbmRleE1heFpvb206NSxpbmRleE1heFBvaW50czoxZTUsdG9sZXJhbmNlOjMsZXh0ZW50OjQwOTYsYnVmZmVyOjY0LGxpbmVNZXRyaWNzOiExLHByb21vdGVJZDpudWxsLGdlbmVyYXRlSWQ6ITEsZGVidWc6MH0sX2UucHJvdG90eXBlLnNwbGl0VGlsZT1mdW5jdGlvbihlLHQsbixpLHIsbyxhKXtmb3IodmFyIHM9W2UsdCxuLGldLGw9dGhpcy5vcHRpb25zLGM9bC5kZWJ1ZztzLmxlbmd0aDspe2k9cy5wb3AoKSxuPXMucG9wKCksdD1zLnBvcCgpLGU9cy5wb3AoKTt2YXIgdT0xPDx0LGg9dmUodCxuLGkpLGQ9dGhpcy50aWxlc1toXTtpZighZCYmKGM+MSYmY29uc29sZS50aW1lKFwiY3JlYXRpb25cIiksZD10aGlzLnRpbGVzW2hdPW1lKGUsdCxuLGksbCksdGhpcy50aWxlQ29vcmRzLnB1c2goe3o6dCx4Om4seTppfSksYykpe2M+MSYmKGNvbnNvbGUubG9nKFwidGlsZSB6JWQtJWQtJWQgKGZlYXR1cmVzOiAlZCwgcG9pbnRzOiAlZCwgc2ltcGxpZmllZDogJWQpXCIsdCxuLGksZC5udW1GZWF0dXJlcyxkLm51bVBvaW50cyxkLm51bVNpbXBsaWZpZWQpLGNvbnNvbGUudGltZUVuZChcImNyZWF0aW9uXCIpKTt2YXIgcD1cInpcIit0O3RoaXMuc3RhdHNbcF09KHRoaXMuc3RhdHNbcF18fDApKzEsdGhpcy50b3RhbCsrfWlmKGQuc291cmNlPWUscil7aWYodD09PWwubWF4Wm9vbXx8dD09PXIpY29udGludWU7dmFyIGY9MTw8ci10O2lmKG4hPT1NYXRoLmZsb29yKG8vZil8fGkhPT1NYXRoLmZsb29yKGEvZikpY29udGludWV9ZWxzZSBpZih0PT09bC5pbmRleE1heFpvb218fGQubnVtUG9pbnRzPD1sLmluZGV4TWF4UG9pbnRzKWNvbnRpbnVlO2lmKGQuc291cmNlPW51bGwsMCE9PWUubGVuZ3RoKXtjPjEmJmNvbnNvbGUudGltZShcImNsaXBwaW5nXCIpO3ZhciBtLGcseSxfLHYseCxiPS41KmwuYnVmZmVyL2wuZXh0ZW50LHc9LjUtYixUPS41K2IsRT0xK2I7bT1nPXk9Xz1udWxsLHY9aWUoZSx1LG4tYixuK1QsMCxkLm1pblgsZC5tYXhYLGwpLHg9aWUoZSx1LG4rdyxuK0UsMCxkLm1pblgsZC5tYXhYLGwpLGU9bnVsbCx2JiYobT1pZSh2LHUsaS1iLGkrVCwxLGQubWluWSxkLm1heFksbCksZz1pZSh2LHUsaSt3LGkrRSwxLGQubWluWSxkLm1heFksbCksdj1udWxsKSx4JiYoeT1pZSh4LHUsaS1iLGkrVCwxLGQubWluWSxkLm1heFksbCksXz1pZSh4LHUsaSt3LGkrRSwxLGQubWluWSxkLm1heFksbCkseD1udWxsKSxjPjEmJmNvbnNvbGUudGltZUVuZChcImNsaXBwaW5nXCIpLHMucHVzaChtfHxbXSx0KzEsMipuLDIqaSkscy5wdXNoKGd8fFtdLHQrMSwyKm4sMippKzEpLHMucHVzaCh5fHxbXSx0KzEsMipuKzEsMippKSxzLnB1c2goX3x8W10sdCsxLDIqbisxLDIqaSsxKX19fSxfZS5wcm90b3R5cGUuZ2V0VGlsZT1mdW5jdGlvbihlLHQsbil7dmFyIGk9dGhpcy5vcHRpb25zLHI9aS5leHRlbnQsbz1pLmRlYnVnO2lmKGU8MHx8ZT4yNClyZXR1cm4gbnVsbDt2YXIgYT0xPDxlLHM9dmUoZSx0PSh0JWErYSklYSxuKTtpZih0aGlzLnRpbGVzW3NdKXJldHVybiBwZSh0aGlzLnRpbGVzW3NdLHIpO28+MSYmY29uc29sZS5sb2coXCJkcmlsbGluZyBkb3duIHRvIHolZC0lZC0lZFwiLGUsdCxuKTtmb3IodmFyIGwsYz1lLHU9dCxoPW47IWwmJmM+MDspYy0tLHU9TWF0aC5mbG9vcih1LzIpLGg9TWF0aC5mbG9vcihoLzIpLGw9dGhpcy50aWxlc1t2ZShjLHUsaCldO3JldHVybiBsJiZsLnNvdXJjZT8obz4xJiZjb25zb2xlLmxvZyhcImZvdW5kIHBhcmVudCB0aWxlIHolZC0lZC0lZFwiLGMsdSxoKSxvPjEmJmNvbnNvbGUudGltZShcImRyaWxsaW5nIGRvd25cIiksdGhpcy5zcGxpdFRpbGUobC5zb3VyY2UsYyx1LGgsZSx0LG4pLG8+MSYmY29uc29sZS50aW1lRW5kKFwiZHJpbGxpbmcgZG93blwiKSx0aGlzLnRpbGVzW3NdP3BlKHRoaXMudGlsZXNbc10scik6bnVsbCk6bnVsbH07Y2xhc3MgYmUgZXh0ZW5kcyBlLlZlY3RvclRpbGVXb3JrZXJTb3VyY2V7Y29uc3RydWN0b3IoZSx0LG4saSxyKXtzdXBlcihlLHQsbixpLHhlKSxyJiYodGhpcy5sb2FkR2VvSlNPTj1yKX1sb2FkRGF0YSh0LG4pe2NvbnN0IGk9dCYmdC5yZXF1ZXN0LHI9aSYmaS5jb2xsZWN0UmVzb3VyY2VUaW1pbmc7dGhpcy5sb2FkR2VvSlNPTih0LChhLHMpPT57aWYoYXx8IXMpcmV0dXJuIG4oYSk7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHMpcmV0dXJuIG4obmV3IEVycm9yKGBJbnB1dCBkYXRhIGdpdmVuIHRvICcke3Quc291cmNlfScgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuYCkpO3tvKHMsITApO3RyeXtpZih0LmZpbHRlcil7Y29uc3Qgbj1lLmNyZWF0ZUV4cHJlc3Npb24odC5maWx0ZXIse3R5cGU6XCJib29sZWFuXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLG92ZXJyaWRhYmxlOiExLHRyYW5zaXRpb246ITF9KTtpZihcImVycm9yXCI9PT1uLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Iobi52YWx1ZS5tYXAoZT0+YCR7ZS5rZXl9OiAke2UubWVzc2FnZX1gKS5qb2luKFwiLCBcIikpO2NvbnN0IGk9cy5mZWF0dXJlcy5maWx0ZXIoZT0+bi52YWx1ZS5ldmFsdWF0ZSh7em9vbTowfSxlKSk7cz17dHlwZTpcIkZlYXR1cmVDb2xsZWN0aW9uXCIsZmVhdHVyZXM6aX19dGhpcy5fZ2VvSlNPTkluZGV4PXQuY2x1c3Rlcj9uZXcgQihmdW5jdGlvbih7c3VwZXJjbHVzdGVyT3B0aW9uczp0LGNsdXN0ZXJQcm9wZXJ0aWVzOm59KXtpZighbnx8IXQpcmV0dXJuIHQ7Y29uc3QgaT17fSxyPXt9LG89e2FjY3VtdWxhdGVkOm51bGwsem9vbTowfSxhPXtwcm9wZXJ0aWVzOm51bGx9LHM9T2JqZWN0LmtleXMobik7Zm9yKGNvbnN0IHQgb2Ygcyl7Y29uc3RbbyxhXT1uW3RdLHM9ZS5jcmVhdGVFeHByZXNzaW9uKGEpLGw9ZS5jcmVhdGVFeHByZXNzaW9uKFwic3RyaW5nXCI9PXR5cGVvZiBvP1tvLFtcImFjY3VtdWxhdGVkXCJdLFtcImdldFwiLHRdXTpvKTtpW3RdPXMudmFsdWUsclt0XT1sLnZhbHVlfXJldHVybiB0Lm1hcD1lPT57YS5wcm9wZXJ0aWVzPWU7Y29uc3QgdD17fTtmb3IoY29uc3QgZSBvZiBzKXRbZV09aVtlXS5ldmFsdWF0ZShvLGEpO3JldHVybiB0fSx0LnJlZHVjZT0oZSx0KT0+e2EucHJvcGVydGllcz10O2Zvcihjb25zdCB0IG9mIHMpby5hY2N1bXVsYXRlZD1lW3RdLGVbdF09clt0XS5ldmFsdWF0ZShvLGEpfSx0fSh0KSkubG9hZChzLmZlYXR1cmVzKTpmdW5jdGlvbihlLHQpe3JldHVybiBuZXcgX2UoZSx0KX0ocyx0Lmdlb2pzb25WdE9wdGlvbnMpfWNhdGNoKGEpe3JldHVybiBuKGEpfXRoaXMubG9hZGVkPXt9O2NvbnN0IGw9e307aWYocil7Y29uc3Qgbj1lLmdldFBlcmZvcm1hbmNlTWVhc3VyZW1lbnQoaSk7biYmKGwucmVzb3VyY2VUaW1pbmc9e30sbC5yZXNvdXJjZVRpbWluZ1t0LnNvdXJjZV09SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuKSkpfW4obnVsbCxsKX19KX1yZWxvYWRUaWxlKGUsdCl7Y29uc3Qgbj10aGlzLmxvYWRlZDtyZXR1cm4gbiYmbltlLnVpZF0/c3VwZXIucmVsb2FkVGlsZShlLHQpOnRoaXMubG9hZFRpbGUoZSx0KX1sb2FkR2VvSlNPTih0LG4pe2lmKHQucmVxdWVzdCllLmdldEpTT04odC5yZXF1ZXN0LG4pO2Vsc2V7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQuZGF0YSlyZXR1cm4gbihuZXcgRXJyb3IoYElucHV0IGRhdGEgZ2l2ZW4gdG8gJyR7dC5zb3VyY2V9JyBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC5gKSk7dHJ5e3JldHVybiBuKG51bGwsSlNPTi5wYXJzZSh0LmRhdGEpKX1jYXRjaChlKXtyZXR1cm4gbihuZXcgRXJyb3IoYElucHV0IGRhdGEgZ2l2ZW4gdG8gJyR7dC5zb3VyY2V9JyBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC5gKSl9fX1nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShlLHQpe3RyeXt0KG51bGwsdGhpcy5fZ2VvSlNPTkluZGV4LmdldENsdXN0ZXJFeHBhbnNpb25ab29tKGUuY2x1c3RlcklkKSl9Y2F0Y2goZSl7dChlKX19Z2V0Q2x1c3RlckNoaWxkcmVuKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2hpbGRyZW4oZS5jbHVzdGVySWQpKX1jYXRjaChlKXt0KGUpfX1nZXRDbHVzdGVyTGVhdmVzKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0TGVhdmVzKGUuY2x1c3RlcklkLGUubGltaXQsZS5vZmZzZXQpKX1jYXRjaChlKXt0KGUpfX19Y2xhc3Mgd2V7Y29uc3RydWN0b3IodCl7dGhpcy5zZWxmPXQsdGhpcy5hY3Rvcj1uZXcgZS5BY3Rvcih0LHRoaXMpLHRoaXMubGF5ZXJJbmRleGVzPXt9LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPXt9LHRoaXMuaXNTcHJpdGVMb2FkZWQ9e30sdGhpcy5wcm9qZWN0aW9ucz17fSx0aGlzLmRlZmF1bHRQcm9qZWN0aW9uPWUuZ2V0UHJvamVjdGlvbih7bmFtZTpcIm1lcmNhdG9yXCJ9KSx0aGlzLndvcmtlclNvdXJjZVR5cGVzPXt2ZWN0b3I6ZS5WZWN0b3JUaWxlV29ya2VyU291cmNlLGdlb2pzb246YmV9LHRoaXMud29ya2VyU291cmNlcz17fSx0aGlzLmRlbVdvcmtlclNvdXJjZXM9e30sdGhpcy5zZWxmLnJlZ2lzdGVyV29ya2VyU291cmNlPShlLHQpPT57aWYodGhpcy53b3JrZXJTb3VyY2VUeXBlc1tlXSl0aHJvdyBuZXcgRXJyb3IoYFdvcmtlciBzb3VyY2Ugd2l0aCBuYW1lIFwiJHtlfVwiIGFscmVhZHkgcmVnaXN0ZXJlZC5gKTt0aGlzLndvcmtlclNvdXJjZVR5cGVzW2VdPXR9LHRoaXMuc2VsZi5yZWdpc3RlclJUTFRleHRQbHVnaW49dD0+e2lmKGUucGx1Z2luLmlzUGFyc2VkKCkpdGhyb3cgbmV3IEVycm9yKFwiUlRMIHRleHQgcGx1Z2luIGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7ZS5wbHVnaW4uYXBwbHlBcmFiaWNTaGFwaW5nPXQuYXBwbHlBcmFiaWNTaGFwaW5nLGUucGx1Z2luLnByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dD10LnByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dCxlLnBsdWdpbi5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ9dC5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHR9fWNsZWFyQ2FjaGVzKGUsdCxuKXtkZWxldGUgdGhpcy5sYXllckluZGV4ZXNbZV0sZGVsZXRlIHRoaXMuYXZhaWxhYmxlSW1hZ2VzW2VdLGRlbGV0ZSB0aGlzLndvcmtlclNvdXJjZXNbZV0sZGVsZXRlIHRoaXMuZGVtV29ya2VyU291cmNlc1tlXSxuKCl9Y2hlY2tJZlJlYWR5KGUsdCxuKXtuKCl9c2V0UmVmZXJyZXIoZSx0KXt0aGlzLnJlZmVycmVyPXR9c3ByaXRlTG9hZGVkKHQsbil7dGhpcy5pc1Nwcml0ZUxvYWRlZFt0XT1uO2Zvcihjb25zdCBpIGluIHRoaXMud29ya2VyU291cmNlc1t0XSl7Y29uc3Qgcj10aGlzLndvcmtlclNvdXJjZXNbdF1baV07Zm9yKGNvbnN0IHQgaW4gcilyW3RdaW5zdGFuY2VvZiBlLlZlY3RvclRpbGVXb3JrZXJTb3VyY2UmJihyW3RdLmlzU3ByaXRlTG9hZGVkPW4sclt0XS5maXJlKG5ldyBlLkV2ZW50KFwiaXNTcHJpdGVMb2FkZWRcIikpKX19c2V0SW1hZ2VzKGUsdCxuKXt0aGlzLmF2YWlsYWJsZUltYWdlc1tlXT10O2Zvcihjb25zdCBuIGluIHRoaXMud29ya2VyU291cmNlc1tlXSl7Y29uc3QgaT10aGlzLndvcmtlclNvdXJjZXNbZV1bbl07Zm9yKGNvbnN0IGUgaW4gaSlpW2VdLmF2YWlsYWJsZUltYWdlcz10fW4oKX1lbmFibGVUZXJyYWluKGUsdCxuKXt0aGlzLnRlcnJhaW49dCxuKCl9c2V0UHJvamVjdGlvbih0LG4pe3RoaXMucHJvamVjdGlvbnNbdF09ZS5nZXRQcm9qZWN0aW9uKG4pfXNldExheWVycyhlLHQsbil7dGhpcy5nZXRMYXllckluZGV4KGUpLnJlcGxhY2UodCksbigpfXVwZGF0ZUxheWVycyhlLHQsbil7dGhpcy5nZXRMYXllckluZGV4KGUpLnVwZGF0ZSh0LmxheWVycyx0LnJlbW92ZWRJZHMpLG4oKX1sb2FkVGlsZSh0LG4saSl7Y29uc3Qgcj10aGlzLmVuYWJsZVRlcnJhaW4/ZS5leHRlbmQoe2VuYWJsZVRlcnJhaW46dGhpcy50ZXJyYWlufSxuKTpuO3IucHJvamVjdGlvbj10aGlzLnByb2plY3Rpb25zW3RdfHx0aGlzLmRlZmF1bHRQcm9qZWN0aW9uLHRoaXMuZ2V0V29ya2VyU291cmNlKHQsbi50eXBlLG4uc291cmNlKS5sb2FkVGlsZShyLGkpfWxvYWRERU1UaWxlKHQsbixpKXtjb25zdCByPXRoaXMuZW5hYmxlVGVycmFpbj9lLmV4dGVuZCh7YnVpbGRRdWFkVHJlZTp0aGlzLnRlcnJhaW59LG4pOm47dGhpcy5nZXRERU1Xb3JrZXJTb3VyY2UodCxuLnNvdXJjZSkubG9hZFRpbGUocixpKX1yZWxvYWRUaWxlKHQsbixpKXtjb25zdCByPXRoaXMuZW5hYmxlVGVycmFpbj9lLmV4dGVuZCh7ZW5hYmxlVGVycmFpbjp0aGlzLnRlcnJhaW59LG4pOm47ci5wcm9qZWN0aW9uPXRoaXMucHJvamVjdGlvbnNbdF18fHRoaXMuZGVmYXVsdFByb2plY3Rpb24sdGhpcy5nZXRXb3JrZXJTb3VyY2UodCxuLnR5cGUsbi5zb3VyY2UpLnJlbG9hZFRpbGUocixpKX1hYm9ydFRpbGUoZSx0LG4pe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlKS5hYm9ydFRpbGUodCxuKX1yZW1vdmVUaWxlKGUsdCxuKXt0aGlzLmdldFdvcmtlclNvdXJjZShlLHQudHlwZSx0LnNvdXJjZSkucmVtb3ZlVGlsZSh0LG4pfXJlbW92ZVNvdXJjZShlLHQsbil7aWYoIXRoaXMud29ya2VyU291cmNlc1tlXXx8IXRoaXMud29ya2VyU291cmNlc1tlXVt0LnR5cGVdfHwhdGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV1bdC5zb3VyY2VdKXJldHVybjtjb25zdCBpPXRoaXMud29ya2VyU291cmNlc1tlXVt0LnR5cGVdW3Quc291cmNlXTtkZWxldGUgdGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV1bdC5zb3VyY2VdLHZvaWQgMCE9PWkucmVtb3ZlU291cmNlP2kucmVtb3ZlU291cmNlKHQsbik6bigpfWxvYWRXb3JrZXJTb3VyY2UoZSx0LG4pe3RyeXt0aGlzLnNlbGYuaW1wb3J0U2NyaXB0cyh0LnVybCksbigpfWNhdGNoKGUpe24oZS50b1N0cmluZygpKX19c3luY1JUTFBsdWdpblN0YXRlKHQsbixpKXt0cnl7ZS5wbHVnaW4uc2V0U3RhdGUobik7Y29uc3QgdD1lLnBsdWdpbi5nZXRQbHVnaW5VUkwoKTtpZihlLnBsdWdpbi5pc0xvYWRlZCgpJiYhZS5wbHVnaW4uaXNQYXJzZWQoKSYmbnVsbCE9dCl7dGhpcy5zZWxmLmltcG9ydFNjcmlwdHModCk7Y29uc3Qgbj1lLnBsdWdpbi5pc1BhcnNlZCgpO2kobj92b2lkIDA6bmV3IEVycm9yKFwiUlRMIFRleHQgUGx1Z2luIGZhaWxlZCB0byBpbXBvcnQgc2NyaXB0cyBmcm9tIFwiK3QpLG4pfX1jYXRjaChlKXtpKGUudG9TdHJpbmcoKSl9fWdldEF2YWlsYWJsZUltYWdlcyhlKXtsZXQgdD10aGlzLmF2YWlsYWJsZUltYWdlc1tlXTtyZXR1cm4gdHx8KHQ9W10pLHR9Z2V0TGF5ZXJJbmRleChlKXtsZXQgdD10aGlzLmxheWVySW5kZXhlc1tlXTtyZXR1cm4gdHx8KHQ9dGhpcy5sYXllckluZGV4ZXNbZV09bmV3IGkpLHR9Z2V0V29ya2VyU291cmNlKGUsdCxuKXtpZih0aGlzLndvcmtlclNvdXJjZXNbZV18fCh0aGlzLndvcmtlclNvdXJjZXNbZV09e30pLHRoaXMud29ya2VyU291cmNlc1tlXVt0XXx8KHRoaXMud29ya2VyU291cmNlc1tlXVt0XT17fSksIXRoaXMud29ya2VyU291cmNlc1tlXVt0XVtuXSl7Y29uc3QgaT17c2VuZDoodCxuLGkscixvLGEpPT57dGhpcy5hY3Rvci5zZW5kKHQsbixpLGUsbyxhKX0sc2NoZWR1bGVyOnRoaXMuYWN0b3Iuc2NoZWR1bGVyfTt0aGlzLndvcmtlclNvdXJjZXNbZV1bdF1bbl09bmV3IHRoaXMud29ya2VyU291cmNlVHlwZXNbdF0oaSx0aGlzLmdldExheWVySW5kZXgoZSksdGhpcy5nZXRBdmFpbGFibGVJbWFnZXMoZSksdGhpcy5pc1Nwcml0ZUxvYWRlZFtlXSl9cmV0dXJuIHRoaXMud29ya2VyU291cmNlc1tlXVt0XVtuXX1nZXRERU1Xb3JrZXJTb3VyY2UoZSx0KXtyZXR1cm4gdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdfHwodGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdPXt9KSx0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bdF18fCh0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bdF09bmV3IHIpLHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVt0XX1lbmZvcmNlQ2FjaGVTaXplTGltaXQodCxuKXtlLmVuZm9yY2VDYWNoZVNpemVMaW1pdChuKX1nZXRXb3JrZXJQZXJmb3JtYW5jZU1ldHJpY3MoZSx0LG4pe24odm9pZCAwLHZvaWQgMCl9fXJldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSYmKHNlbGYud29ya2VyPW5ldyB3ZShzZWxmKSksd2V9KSkscihbXCIuL3NoYXJlZFwiXSwoZnVuY3Rpb24oZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdChlLG4pe2lmKEFycmF5LmlzQXJyYXkoZSkpe2lmKCFBcnJheS5pc0FycmF5KG4pfHxlLmxlbmd0aCE9PW4ubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKCF0KGVbaV0sbltpXSkpcmV0dXJuITE7cmV0dXJuITB9aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZudWxsIT09bil7aWYoXCJvYmplY3RcIiE9dHlwZW9mIG4pcmV0dXJuITE7aWYoT2JqZWN0LmtleXMoZSkubGVuZ3RoIT09T2JqZWN0LmtleXMobikubGVuZ3RoKXJldHVybiExO2Zvcihjb25zdCBpIGluIGUpaWYoIXQoZVtpXSxuW2ldKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gZT09PW59dmFyIG49aTtmdW5jdGlvbiBpKGUpe3JldHVybiFmdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgZG9jdW1lbnQ/XCJub3QgYSBicm93c2VyXCI6QXJyYXkucHJvdG90eXBlJiZBcnJheS5wcm90b3R5cGUuZXZlcnkmJkFycmF5LnByb3RvdHlwZS5maWx0ZXImJkFycmF5LnByb3RvdHlwZS5mb3JFYWNoJiZBcnJheS5wcm90b3R5cGUuaW5kZXhPZiYmQXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mJiZBcnJheS5wcm90b3R5cGUubWFwJiZBcnJheS5wcm90b3R5cGUuc29tZSYmQXJyYXkucHJvdG90eXBlLnJlZHVjZSYmQXJyYXkucHJvdG90eXBlLnJlZHVjZVJpZ2h0JiZBcnJheS5pc0FycmF5P0Z1bmN0aW9uLnByb3RvdHlwZSYmRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ/T2JqZWN0LmtleXMmJk9iamVjdC5jcmVhdGUmJk9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMmJk9iamVjdC5pc1NlYWxlZCYmT2JqZWN0LmlzRnJvemVuJiZPYmplY3QuaXNFeHRlbnNpYmxlJiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yJiZPYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzJiZPYmplY3Quc2VhbCYmT2JqZWN0LmZyZWV6ZSYmT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zP1wiSlNPTlwiaW4gd2luZG93JiZcInBhcnNlXCJpbiBKU09OJiZcInN0cmluZ2lmeVwiaW4gSlNPTj9mdW5jdGlvbigpe2lmKCEoXCJXb3JrZXJcImluIHdpbmRvdyYmXCJCbG9iXCJpbiB3aW5kb3cmJlwiVVJMXCJpbiB3aW5kb3cpKXJldHVybiExO3ZhciBlLHQsbj1uZXcgQmxvYihbXCJcIl0se3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIn0pLGk9VVJMLmNyZWF0ZU9iamVjdFVSTChuKTt0cnl7dD1uZXcgV29ya2VyKGkpLGU9ITB9Y2F0Y2godCl7ZT0hMX1yZXR1cm4gdCYmdC50ZXJtaW5hdGUoKSxVUkwucmV2b2tlT2JqZWN0VVJMKGkpLGV9KCk/XCJVaW50OENsYW1wZWRBcnJheVwiaW4gd2luZG93P0FycmF5QnVmZmVyLmlzVmlldz9mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7ZS53aWR0aD1lLmhlaWdodD0xO3ZhciB0PWUuZ2V0Q29udGV4dChcIjJkXCIpO2lmKCF0KXJldHVybiExO3ZhciBuPXQuZ2V0SW1hZ2VEYXRhKDAsMCwxLDEpO3JldHVybiBuJiZuLndpZHRoPT09ZS53aWR0aH0oKT8odm9pZCAwPT09clt0PWUmJmUuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdF0mJihyW3RdPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSxuPU9iamVjdC5jcmVhdGUoaS53ZWJHTENvbnRleHRBdHRyaWJ1dGVzKTtyZXR1cm4gbi5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PWUsdC5nZXRDb250ZXh0KFwid2ViZ2xcIixuKXx8dC5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsbil9KGUpO2lmKCFuKXJldHVybiExO3RyeXt0PW4uY3JlYXRlU2hhZGVyKG4uVkVSVEVYX1NIQURFUil9Y2F0Y2goZSl7cmV0dXJuITF9cmV0dXJuISghdHx8bi5pc0NvbnRleHRMb3N0KCkpJiYobi5zaGFkZXJTb3VyY2UodCxcInZvaWQgbWFpbigpIHt9XCIpLG4uY29tcGlsZVNoYWRlcih0KSwhMD09PW4uZ2V0U2hhZGVyUGFyYW1ldGVyKHQsbi5DT01QSUxFX1NUQVRVUykpfSh0KSksclt0XT9kb2N1bWVudC5kb2N1bWVudE1vZGU/XCJpbnN1ZmZpY2llbnQgRUNNQVNjcmlwdCA2IHN1cHBvcnRcIjp2b2lkIDA6XCJpbnN1ZmZpY2llbnQgV2ViR0wgc3VwcG9ydFwiKTpcImluc3VmZmljaWVudCBDYW52YXMvZ2V0SW1hZ2VEYXRhIHN1cHBvcnRcIjpcImluc3VmZmljaWVudCBBcnJheUJ1ZmZlciBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgVWludDhDbGFtcGVkQXJyYXkgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IHdvcmtlciBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgSlNPTiBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgT2JqZWN0IHN1cHBvcnRcIjpcImluc3VmZmljaWVudCBGdW5jdGlvbiBzdXBwb3J0XCI6XCJpbnN1ZmZpY2VudCBBcnJheSBzdXBwb3J0XCI7dmFyIHR9KGUpfXZhciByPXt9O2Z1bmN0aW9uIG8odCxuLGkpe2NvbnN0IHI9ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KTtyZXR1cm4gdm9pZCAwIT09biYmKHIuY2xhc3NOYW1lPW4pLGkmJmkuYXBwZW5kQ2hpbGQocikscn1mdW5jdGlvbiBhKHQsbixpKXtjb25zdCByPWUud2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsdCk7Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXMobikpci5zZXRBdHRyaWJ1dGVOUyhudWxsLGUsbltlXSk7cmV0dXJuIGkmJmkuYXBwZW5kQ2hpbGQocikscn1pLndlYkdMQ29udGV4dEF0dHJpYnV0ZXM9e2FudGlhbGlhczohMSxhbHBoYTohMCxzdGVuY2lsOiEwLGRlcHRoOiEwfTtjb25zdCBzPWUud2luZG93LmRvY3VtZW50JiZlLndpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsbD1zJiZ2b2lkIDAhPT1zLnVzZXJTZWxlY3Q/XCJ1c2VyU2VsZWN0XCI6XCJXZWJraXRVc2VyU2VsZWN0XCI7bGV0IGM7ZnVuY3Rpb24gdSgpe3MmJmwmJihjPXNbbF0sc1tsXT1cIm5vbmVcIil9ZnVuY3Rpb24gaCgpe3MmJmwmJihzW2xdPWMpfWZ1bmN0aW9uIGQodCl7dC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZCwhMCl9ZnVuY3Rpb24gcCgpe2Uud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGQsITApLGUud2luZG93LnNldFRpbWVvdXQoKCk9PntlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixkLCEwKX0sMCl9ZnVuY3Rpb24gZihlLHQpe2NvbnN0IG49ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4geShlLG4sdCl9ZnVuY3Rpb24gbShlLHQpe2NvbnN0IG49ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxpPVtdO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWkucHVzaCh5KGUsbix0W3JdKSk7cmV0dXJuIGl9ZnVuY3Rpb24gZyh0KXtyZXR1cm4gdm9pZCAwIT09ZS53aW5kb3cuSW5zdGFsbFRyaWdnZXImJjI9PT10LmJ1dHRvbiYmdC5jdHJsS2V5JiZlLndpbmRvdy5uYXZpZ2F0b3IucGxhdGZvcm0udG9VcHBlckNhc2UoKS5pbmRleE9mKFwiTUFDXCIpPj0wPzA6dC5idXR0b259ZnVuY3Rpb24geSh0LG4saSl7Y29uc3Qgcj10Lm9mZnNldFdpZHRoPT09bi53aWR0aD8xOnQub2Zmc2V0V2lkdGgvbi53aWR0aDtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgoaS5jbGllbnRYLW4ubGVmdCkqciwoaS5jbGllbnRZLW4udG9wKSpyKX1mdW5jdGlvbiBfKGUsdCl7dmFyIG49dFswXSxpPXRbMV0scj10WzJdLG89dFszXSxhPW4qby1yKmk7cmV0dXJuIGE/KGVbMF09byooYT0xL2EpLGVbMV09LWkqYSxlWzJdPS1yKmEsZVszXT1uKmEsZSk6bnVsbH1mdW5jdGlvbiB2KGUpe2NvbnN0e3VzZXJJbWFnZTp0fT1lO3JldHVybiEhKHQmJnQucmVuZGVyJiZ0LnJlbmRlcigpKSYmKGUuZGF0YS5yZXBsYWNlKG5ldyBVaW50OEFycmF5KHQuZGF0YS5idWZmZXIpKSwhMCl9Y2xhc3MgeCBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5pbWFnZXM9e30sdGhpcy51cGRhdGVkSW1hZ2VzPXt9LHRoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lPXt9LHRoaXMubG9hZGVkPSExLHRoaXMucmVxdWVzdG9ycz1bXSx0aGlzLnBhdHRlcm5zPXt9LHRoaXMuYXRsYXNJbWFnZT1uZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOjEsaGVpZ2h0OjF9KSx0aGlzLmRpcnR5PSEwfWlzTG9hZGVkKCl7cmV0dXJuIHRoaXMubG9hZGVkfXNldExvYWRlZChlKXtpZih0aGlzLmxvYWRlZCE9PWUmJih0aGlzLmxvYWRlZD1lLGUpKXtmb3IoY29uc3R7aWRzOmUsY2FsbGJhY2s6dH1vZiB0aGlzLnJlcXVlc3RvcnMpdGhpcy5fbm90aWZ5KGUsdCk7dGhpcy5yZXF1ZXN0b3JzPVtdfX1oYXNJbWFnZShlKXtyZXR1cm4hIXRoaXMuZ2V0SW1hZ2UoZSl9Z2V0SW1hZ2UoZSl7cmV0dXJuIHRoaXMuaW1hZ2VzW2VdfWFkZEltYWdlKGUsdCl7dGhpcy5fdmFsaWRhdGUoZSx0KSYmKHRoaXMuaW1hZ2VzW2VdPXQpfV92YWxpZGF0ZSh0LG4pe2xldCBpPSEwO3JldHVybiB0aGlzLl92YWxpZGF0ZVN0cmV0Y2gobi5zdHJldGNoWCxuLmRhdGEmJm4uZGF0YS53aWR0aCl8fCh0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYEltYWdlIFwiJHt0fVwiIGhhcyBpbnZhbGlkIFwic3RyZXRjaFhcIiB2YWx1ZWApKSksaT0hMSksdGhpcy5fdmFsaWRhdGVTdHJldGNoKG4uc3RyZXRjaFksbi5kYXRhJiZuLmRhdGEuaGVpZ2h0KXx8KHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgSW1hZ2UgXCIke3R9XCIgaGFzIGludmFsaWQgXCJzdHJldGNoWVwiIHZhbHVlYCkpKSxpPSExKSx0aGlzLl92YWxpZGF0ZUNvbnRlbnQobi5jb250ZW50LG4pfHwodGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBJbWFnZSBcIiR7dH1cIiBoYXMgaW52YWxpZCBcImNvbnRlbnRcIiB2YWx1ZWApKSksaT0hMSksaX1fdmFsaWRhdGVTdHJldGNoKGUsdCl7aWYoIWUpcmV0dXJuITA7bGV0IG49MDtmb3IoY29uc3QgaSBvZiBlKXtpZihpWzBdPG58fGlbMV08aVswXXx8dDxpWzFdKXJldHVybiExO249aVsxXX1yZXR1cm4hMH1fdmFsaWRhdGVDb250ZW50KGUsdCl7cmV0dXJuIShlJiYoNCE9PWUubGVuZ3RofHxlWzBdPDB8fHQuZGF0YS53aWR0aDxlWzBdfHxlWzFdPDB8fHQuZGF0YS5oZWlnaHQ8ZVsxXXx8ZVsyXTwwfHx0LmRhdGEud2lkdGg8ZVsyXXx8ZVszXTwwfHx0LmRhdGEuaGVpZ2h0PGVbM118fGVbMl08ZVswXXx8ZVszXTxlWzFdKSl9dXBkYXRlSW1hZ2UoZSx0KXt0LnZlcnNpb249dGhpcy5pbWFnZXNbZV0udmVyc2lvbisxLHRoaXMuaW1hZ2VzW2VdPXQsdGhpcy51cGRhdGVkSW1hZ2VzW2VdPSEwfXJlbW92ZUltYWdlKGUpe2NvbnN0IHQ9dGhpcy5pbWFnZXNbZV07ZGVsZXRlIHRoaXMuaW1hZ2VzW2VdLGRlbGV0ZSB0aGlzLnBhdHRlcm5zW2VdLHQudXNlckltYWdlJiZ0LnVzZXJJbWFnZS5vblJlbW92ZSYmdC51c2VySW1hZ2Uub25SZW1vdmUoKX1saXN0SW1hZ2VzKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaW1hZ2VzKX1nZXRJbWFnZXMoZSx0KXtsZXQgbj0hMDtpZighdGhpcy5pc0xvYWRlZCgpKWZvcihjb25zdCB0IG9mIGUpdGhpcy5pbWFnZXNbdF18fChuPSExKTt0aGlzLmlzTG9hZGVkKCl8fG4/dGhpcy5fbm90aWZ5KGUsdCk6dGhpcy5yZXF1ZXN0b3JzLnB1c2goe2lkczplLGNhbGxiYWNrOnR9KX1fbm90aWZ5KHQsbil7Y29uc3QgaT17fTtmb3IoY29uc3QgbiBvZiB0KXt0aGlzLmltYWdlc1tuXXx8dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwic3R5bGVpbWFnZW1pc3NpbmdcIix7aWQ6bn0pKTtjb25zdCB0PXRoaXMuaW1hZ2VzW25dO3Q/aVtuXT17ZGF0YTp0LmRhdGEuY2xvbmUoKSxwaXhlbFJhdGlvOnQucGl4ZWxSYXRpbyxzZGY6dC5zZGYsdmVyc2lvbjp0LnZlcnNpb24sc3RyZXRjaFg6dC5zdHJldGNoWCxzdHJldGNoWTp0LnN0cmV0Y2hZLGNvbnRlbnQ6dC5jb250ZW50LGhhc1JlbmRlckNhbGxiYWNrOkJvb2xlYW4odC51c2VySW1hZ2UmJnQudXNlckltYWdlLnJlbmRlcil9OmUud2Fybk9uY2UoYEltYWdlIFwiJHtufVwiIGNvdWxkIG5vdCBiZSBsb2FkZWQuIFBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgYWRkZWQgdGhlIGltYWdlIHdpdGggbWFwLmFkZEltYWdlKCkgb3IgYSBcInNwcml0ZVwiIHByb3BlcnR5IGluIHlvdXIgc3R5bGUuIFlvdSBjYW4gcHJvdmlkZSBtaXNzaW5nIGltYWdlcyBieSBsaXN0ZW5pbmcgZm9yIHRoZSBcInN0eWxlaW1hZ2VtaXNzaW5nXCIgbWFwIGV2ZW50LmApfW4obnVsbCxpKX1nZXRQaXhlbFNpemUoKXtjb25zdHt3aWR0aDplLGhlaWdodDp0fT10aGlzLmF0bGFzSW1hZ2U7cmV0dXJue3dpZHRoOmUsaGVpZ2h0OnR9fWdldFBhdHRlcm4odCl7Y29uc3Qgbj10aGlzLnBhdHRlcm5zW3RdLGk9dGhpcy5nZXRJbWFnZSh0KTtpZighaSlyZXR1cm4gbnVsbDtpZihuJiZuLnBvc2l0aW9uLnZlcnNpb249PT1pLnZlcnNpb24pcmV0dXJuIG4ucG9zaXRpb247aWYobiluLnBvc2l0aW9uLnZlcnNpb249aS52ZXJzaW9uO2Vsc2V7Y29uc3Qgbj17dzppLmRhdGEud2lkdGgrMixoOmkuZGF0YS5oZWlnaHQrMix4OjAseTowfSxyPW5ldyBlLkltYWdlUG9zaXRpb24obixpKTt0aGlzLnBhdHRlcm5zW3RdPXtiaW46bixwb3NpdGlvbjpyfX1yZXR1cm4gdGhpcy5fdXBkYXRlUGF0dGVybkF0bGFzKCksdGhpcy5wYXR0ZXJuc1t0XS5wb3NpdGlvbn1iaW5kKHQpe2NvbnN0IG49dC5nbDt0aGlzLmF0bGFzVGV4dHVyZT90aGlzLmRpcnR5JiYodGhpcy5hdGxhc1RleHR1cmUudXBkYXRlKHRoaXMuYXRsYXNJbWFnZSksdGhpcy5kaXJ0eT0hMSk6dGhpcy5hdGxhc1RleHR1cmU9bmV3IGUuVGV4dHVyZSh0LHRoaXMuYXRsYXNJbWFnZSxuLlJHQkEpLHRoaXMuYXRsYXNUZXh0dXJlLmJpbmQobi5MSU5FQVIsbi5DTEFNUF9UT19FREdFKX1fdXBkYXRlUGF0dGVybkF0bGFzKCl7Y29uc3QgdD1bXTtmb3IoY29uc3QgZSBpbiB0aGlzLnBhdHRlcm5zKXQucHVzaCh0aGlzLnBhdHRlcm5zW2VdLmJpbik7Y29uc3R7dzpuLGg6aX09ZS5wb3RwYWNrKHQpLHI9dGhpcy5hdGxhc0ltYWdlO3IucmVzaXplKHt3aWR0aDpufHwxLGhlaWdodDppfHwxfSk7Zm9yKGNvbnN0IHQgaW4gdGhpcy5wYXR0ZXJucyl7Y29uc3R7YmluOm59PXRoaXMucGF0dGVybnNbdF0saT1uLngrMSxvPW4ueSsxLGE9dGhpcy5pbWFnZXNbdF0uZGF0YSxzPWEud2lkdGgsbD1hLmhlaWdodDtlLlJHQkFJbWFnZS5jb3B5KGEscix7eDowLHk6MH0se3g6aSx5Om99LHt3aWR0aDpzLGhlaWdodDpsfSksZS5SR0JBSW1hZ2UuY29weShhLHIse3g6MCx5OmwtMX0se3g6aSx5Om8tMX0se3dpZHRoOnMsaGVpZ2h0OjF9KSxlLlJHQkFJbWFnZS5jb3B5KGEscix7eDowLHk6MH0se3g6aSx5Om8rbH0se3dpZHRoOnMsaGVpZ2h0OjF9KSxlLlJHQkFJbWFnZS5jb3B5KGEscix7eDpzLTEseTowfSx7eDppLTEseTpvfSx7d2lkdGg6MSxoZWlnaHQ6bH0pLGUuUkdCQUltYWdlLmNvcHkoYSxyLHt4OjAseTowfSx7eDppK3MseTpvfSx7d2lkdGg6MSxoZWlnaHQ6bH0pfXRoaXMuZGlydHk9ITB9YmVnaW5GcmFtZSgpe3RoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lPXt9fWRpc3BhdGNoUmVuZGVyQ2FsbGJhY2tzKGUpe2Zvcihjb25zdCB0IG9mIGUpe2lmKHRoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lW3RdKWNvbnRpbnVlO3RoaXMuY2FsbGJhY2tEaXNwYXRjaGVkVGhpc0ZyYW1lW3RdPSEwO2NvbnN0IGU9dGhpcy5pbWFnZXNbdF07dihlKSYmdGhpcy51cGRhdGVJbWFnZSh0LGUpfX19Y29uc3QgYj1uZXcgZS5Qcm9wZXJ0aWVzKHthbmNob3I6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmxpZ2h0LmFuY2hvcikscG9zaXRpb246bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5zcGVjaWZpY2F0aW9uPWUuc3BlYy5saWdodC5wb3NpdGlvbn1wb3NzaWJseUV2YWx1YXRlKHQsbil7cmV0dXJuIGZ1bmN0aW9uKFt0LG4saV0pe2NvbnN0IHI9ZS5kZWdUb1JhZChuKzkwKSxvPWUuZGVnVG9SYWQoaSk7cmV0dXJue3g6dCpNYXRoLmNvcyhyKSpNYXRoLnNpbihvKSx5OnQqTWF0aC5zaW4ocikqTWF0aC5zaW4obyksejp0Kk1hdGguY29zKG8pLGF6aW11dGhhbDpuLHBvbGFyOml9fSh0LmV4cHJlc3Npb24uZXZhbHVhdGUobikpfWludGVycG9sYXRlKHQsbixpKXtyZXR1cm57eDplLm51bWJlcih0Lngsbi54LGkpLHk6ZS5udW1iZXIodC55LG4ueSxpKSx6OmUubnVtYmVyKHQueixuLnosaSksYXppbXV0aGFsOmUubnVtYmVyKHQuYXppbXV0aGFsLG4uYXppbXV0aGFsLGkpLHBvbGFyOmUubnVtYmVyKHQucG9sYXIsbi5wb2xhcixpKX19fSxjb2xvcjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMubGlnaHQuY29sb3IpLGludGVuc2l0eTpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMubGlnaHQuaW50ZW5zaXR5KX0pLHc9XCItdHJhbnNpdGlvblwiO2NsYXNzIFQgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLl90cmFuc2l0aW9uYWJsZT1uZXcgZS5UcmFuc2l0aW9uYWJsZShiKSx0aGlzLnNldExpZ2h0KHQpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKX1nZXRMaWdodCgpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKX1zZXRMaWdodCh0LG49e30pe2lmKCF0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlTGlnaHQsdCxuKSlmb3IoY29uc3QgbiBpbiB0KXtjb25zdCBpPXRbbl07ZS5lbmRzV2l0aChuLHcpP3RoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24obi5zbGljZSgwLC13Lmxlbmd0aCksaSk6dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VmFsdWUobixpKX19dXBkYXRlVHJhbnNpdGlvbnMoZSl7dGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQoZSx0aGlzLl90cmFuc2l0aW9uaW5nKX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpfXJlY2FsY3VsYXRlKGUpe3RoaXMucHJvcGVydGllcz10aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUoZSl9X3ZhbGlkYXRlKHQsbixpKXtyZXR1cm4oIWl8fCExIT09aS52YWxpZGF0ZSkmJmUuZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcyx0LmNhbGwoZS52YWxpZGF0ZVN0eWxlLGUuZXh0ZW5kKHt2YWx1ZTpuLHN0eWxlOntnbHlwaHM6ITAsc3ByaXRlOiEwfSxzdHlsZVNwZWM6ZS5zcGVjfSkpKX19Y29uc3QgRT1uZXcgZS5Qcm9wZXJ0aWVzKHtzb3VyY2U6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLnRlcnJhaW4uc291cmNlKSxleGFnZ2VyYXRpb246bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLnRlcnJhaW4uZXhhZ2dlcmF0aW9uKX0pLFM9XCItdHJhbnNpdGlvblwiO2NsYXNzIE0gZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxuKXtzdXBlcigpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyBlLlRyYW5zaXRpb25hYmxlKEUpLHRoaXMuc2V0KHQpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKSx0aGlzLmRyYXBlUmVuZGVyTW9kZT1ufWdldCgpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKX1zZXQodCl7Zm9yKGNvbnN0IG4gaW4gdCl7Y29uc3QgaT10W25dO2UuZW5kc1dpdGgobixTKT90aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRUcmFuc2l0aW9uKG4uc2xpY2UoMCwtUy5sZW5ndGgpLGkpOnRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFZhbHVlKG4saSl9fXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyl9aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLmhhc1RyYW5zaXRpb24oKX1yZWNhbGN1bGF0ZShlKXt0aGlzLnByb3BlcnRpZXM9dGhpcy5fdHJhbnNpdGlvbmluZy5wb3NzaWJseUV2YWx1YXRlKGUpfX1mdW5jdGlvbiBJKHQsbixpLHIpe2NvbnN0IG89ZS5zbW9vdGhzdGVwKDQ1LDY1LGkpLFthLHNdPUModCxyKSxsPWUubGVuZ3RoKG4pO2xldCBjPTEtTWF0aC5taW4oMSxNYXRoLmV4cCgobC1hKS8ocy1hKSotNikpO3JldHVybiBjKj1jKmMsYz1NYXRoLm1pbigxLDEuMDA3NDcqYyksYypvKnQuYWxwaGF9ZnVuY3Rpb24gQyhlLHQpe2NvbnN0IG49LjUvTWF0aC50YW4oLjUqdCk7cmV0dXJuW2UucmFuZ2VbMF0rbixlLnJhbmdlWzFdK25dfWNvbnN0IGs9bmV3IGUuUHJvcGVydGllcyh7cmFuZ2U6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZy5yYW5nZSksY29sb3I6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZy5jb2xvciksXCJoaWdoLWNvbG9yXCI6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZ1tcImhpZ2gtY29sb3JcIl0pLFwic3BhY2UtY29sb3JcIjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMuZm9nW1wic3BhY2UtY29sb3JcIl0pLFwiaG9yaXpvbi1ibGVuZFwiOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5mb2dbXCJob3Jpem9uLWJsZW5kXCJdKSxcInN0YXItaW50ZW5zaXR5XCI6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZ1tcInN0YXItaW50ZW5zaXR5XCJdKX0pLEE9XCItdHJhbnNpdGlvblwiO2NsYXNzIFAgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxuKXtzdXBlcigpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyBlLlRyYW5zaXRpb25hYmxlKGspLHRoaXMuc2V0KHQpLHRoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudW50cmFuc2l0aW9uZWQoKSx0aGlzLl90cmFuc2Zvcm09bn1nZXQgc3RhdGUoKXtjb25zdCB0PXRoaXMuX3RyYW5zZm9ybSxuPVwiZ2xvYmVcIj09PXQucHJvamVjdGlvbi5uYW1lLGk9ZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKHQuem9vbSkscj10aGlzLnByb3BlcnRpZXMuZ2V0KFwicmFuZ2VcIiksbz1bLjUsM107cmV0dXJue3JhbmdlOm4/W2UubnVtYmVyKG9bMF0sclswXSxpKSxlLm51bWJlcihvWzFdLHJbMV0saSldOnIsaG9yaXpvbkJsZW5kOnRoaXMucHJvcGVydGllcy5nZXQoXCJob3Jpem9uLWJsZW5kXCIpLGFscGhhOnRoaXMucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS5hfX1nZXQoKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCl9c2V0KHQsbj17fSl7aWYoIXRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVGb2csdCxuKSl7Zm9yKGNvbnN0IG4gb2YgT2JqZWN0LmtleXMoZS5zcGVjLmZvZykpdCYmdm9pZCAwPT09dFtuXSYmKHRbbl09ZS5zcGVjLmZvZ1tuXS5kZWZhdWx0KTtmb3IoY29uc3QgbiBpbiB0KXtjb25zdCBpPXRbbl07ZS5lbmRzV2l0aChuLEEpP3RoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24obi5zbGljZSgwLC1BLmxlbmd0aCksaSk6dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VmFsdWUobixpKX19fWdldE9wYWNpdHkodCl7aWYoIXRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nKXJldHVybiAwO2NvbnN0IG49dGhpcy5wcm9wZXJ0aWVzJiZ0aGlzLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIil8fDE7cmV0dXJuKFwiZ2xvYmVcIj09PXRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWU/MTplLnNtb290aHN0ZXAoNDUsNjUsdCkpKm4uYX1nZXRPcGFjaXR5QXRMYXRMbmcodCxuKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2c/ZnVuY3Rpb24odCxuLGkpe2NvbnN0IHI9ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChuKSxvPWkuZWxldmF0aW9uP2kuZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8ocik6MCxhPVtyLngsci55LG9dO3JldHVybiBlLnRyYW5zZm9ybU1hdDQoYSxhLGkubWVyY2F0b3JGb2dNYXRyaXgpLEkodCxhLGkucGl0Y2gsaS5fZm92KX0odGhpcy5zdGF0ZSx0LG4pOjB9Z2V0Rm92QWRqdXN0ZWRSYW5nZShlKXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2c/Qyh0aGlzLnN0YXRlLGUpOlswLDFdfXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyl9aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLmhhc1RyYW5zaXRpb24oKX1yZWNhbGN1bGF0ZShlKXt0aGlzLnByb3BlcnRpZXM9dGhpcy5fdHJhbnNpdGlvbmluZy5wb3NzaWJseUV2YWx1YXRlKGUpfV92YWxpZGF0ZSh0LG4saSl7cmV0dXJuKCFpfHwhMSE9PWkudmFsaWRhdGUpJiZlLmVtaXRWYWxpZGF0aW9uRXJyb3JzKHRoaXMsdC5jYWxsKGUudmFsaWRhdGVTdHlsZSxlLmV4dGVuZCh7dmFsdWU6bixzdHlsZTp7Z2x5cGhzOiEwLHNwcml0ZTohMH0sc3R5bGVTcGVjOmUuc3BlY30pKSl9fWNsYXNzIHp7Y29uc3RydWN0b3IodCxuKXt0aGlzLndvcmtlclBvb2w9dCx0aGlzLmFjdG9ycz1bXSx0aGlzLmN1cnJlbnRBY3Rvcj0wLHRoaXMuaWQ9ZS51bmlxdWVJZCgpO2NvbnN0IGk9dGhpcy53b3JrZXJQb29sLmFjcXVpcmUodGhpcy5pZCk7Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspe2NvbnN0IHQ9bmV3IHouQWN0b3IoaVtlXSxuLHRoaXMuaWQpO3QubmFtZT1cIldvcmtlciBcIitlLHRoaXMuYWN0b3JzLnB1c2godCl9dGhpcy5yZWFkeT0hMSx0aGlzLmJyb2FkY2FzdChcImNoZWNrSWZSZWFkeVwiLG51bGwsKCk9Pnt0aGlzLnJlYWR5PSEwfSl9YnJvYWRjYXN0KHQsbixpKXtlLmFzeW5jQWxsKHRoaXMuYWN0b3JzLChlLGkpPT57ZS5zZW5kKHQsbixpKX0saT1pfHxmdW5jdGlvbigpe30pfWdldEFjdG9yKCl7cmV0dXJuIHRoaXMuY3VycmVudEFjdG9yPSh0aGlzLmN1cnJlbnRBY3RvcisxKSV0aGlzLmFjdG9ycy5sZW5ndGgsdGhpcy5hY3RvcnNbdGhpcy5jdXJyZW50QWN0b3JdfXJlbW92ZSgpe3RoaXMuYWN0b3JzLmZvckVhY2goZT0+e2UucmVtb3ZlKCl9KSx0aGlzLmFjdG9ycz1bXSx0aGlzLndvcmtlclBvb2wucmVsZWFzZSh0aGlzLmlkKX19ZnVuY3Rpb24gRCh0LG4saSl7cmV0dXJuIG4qKGUuRVhURU5ULyh0LnRpbGVTaXplKk1hdGgucG93KDIsaS10LnRpbGVJRC5vdmVyc2NhbGVkWikpKX16LkFjdG9yPWUuQWN0b3I7Y2xhc3MgTHtjb25zdHJ1Y3RvcihlLHQsbixpKXt0aGlzLnNjcmVlbkJvdW5kcz1lLHRoaXMuY2FtZXJhUG9pbnQ9dCx0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGU9e30sdGhpcy5fY2FtZXJhUmF5Y2FzdENhY2hlPXt9LHRoaXMuaXNBYm92ZUhvcml6b249bix0aGlzLnNjcmVlbkdlb21ldHJ5PXRoaXMuYnVmZmVyZWRTY3JlZW5HZW9tZXRyeSgwKSx0aGlzLnNjcmVlbkdlb21ldHJ5TWVyY2F0b3I9dGhpcy5fYnVmZmVyZWRTY3JlZW5NZXJjYXRvcigwLGkpfXN0YXRpYyBjcmVhdGVGcm9tU2NyZWVuUG9pbnRzKHQsbil7bGV0IGkscjtpZih0IGluc3RhbmNlb2YgZS5wb2ludEdlb21ldHJ5fHxcIm51bWJlclwiPT10eXBlb2YgdFswXSl7Y29uc3Qgbz1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0KTtpPVtvXSxyPW4uaXNQb2ludEFib3ZlSG9yaXpvbihvKX1lbHNle2NvbnN0IG89ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodFswXSksYT1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0WzFdKTtpPVtvLGFdLHI9ZS5wb2x5Z29uaXplQm91bmRzKG8sYSkuZXZlcnkoZT0+bi5pc1BvaW50QWJvdmVIb3Jpem9uKGUpKX1yZXR1cm4gbmV3IEwoaSxuLmdldENhbWVyYVBvaW50KCkscixuKX1pc1BvaW50UXVlcnkoKXtyZXR1cm4gMT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aH1idWZmZXJlZFNjcmVlbkdlb21ldHJ5KHQpe3JldHVybiBlLnBvbHlnb25pemVCb3VuZHModGhpcy5zY3JlZW5Cb3VuZHNbMF0sMT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aD90aGlzLnNjcmVlbkJvdW5kc1swXTp0aGlzLnNjcmVlbkJvdW5kc1sxXSx0KX1idWZmZXJlZENhbWVyYUdlb21ldHJ5KHQpe2NvbnN0IG49dGhpcy5zY3JlZW5Cb3VuZHNbMF0saT0xPT09dGhpcy5zY3JlZW5Cb3VuZHMubGVuZ3RoP3RoaXMuc2NyZWVuQm91bmRzWzBdLmFkZChuZXcgZS5wb2ludEdlb21ldHJ5KDEsMSkpOnRoaXMuc2NyZWVuQm91bmRzWzFdLHI9ZS5wb2x5Z29uaXplQm91bmRzKG4saSwwLCExKTtyZXR1cm4gdGhpcy5jYW1lcmFQb2ludC55PmkueSYmKHRoaXMuY2FtZXJhUG9pbnQueD5uLngmJnRoaXMuY2FtZXJhUG9pbnQueDxpLng/ci5zcGxpY2UoMywwLHRoaXMuY2FtZXJhUG9pbnQpOnRoaXMuY2FtZXJhUG9pbnQueD49aS54P3JbMl09dGhpcy5jYW1lcmFQb2ludDp0aGlzLmNhbWVyYVBvaW50Lng8PW4ueCYmKHJbM109dGhpcy5jYW1lcmFQb2ludCkpLGUuYnVmZmVyQ29udmV4UG9seWdvbihyLHQpfWJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnlHbG9iZSh0KXtjb25zdCBuPXRoaXMuc2NyZWVuQm91bmRzWzBdLGk9MT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aD90aGlzLnNjcmVlbkJvdW5kc1swXS5hZGQobmV3IGUucG9pbnRHZW9tZXRyeSgxLDEpKTp0aGlzLnNjcmVlbkJvdW5kc1sxXSxyPWUucG9seWdvbml6ZUJvdW5kcyhuLGksdCksbz10aGlzLmNhbWVyYVBvaW50LmNsb25lKCk7c3dpdGNoKDMqKChvLnk+bi55KSsoby55PmkueSkpKygoby54Pm4ueCkrKG8ueD5pLngpKSl7Y2FzZSAwOnJbMF09byxyWzRdPW8uY2xvbmUoKTticmVhaztjYXNlIDE6ci5zcGxpY2UoMSwwLG8pO2JyZWFrO2Nhc2UgMjpyWzFdPW87YnJlYWs7Y2FzZSAzOnIuc3BsaWNlKDQsMCxvKTticmVhaztjYXNlIDU6ci5zcGxpY2UoMiwwLG8pO2JyZWFrO2Nhc2UgNjpyWzNdPW87YnJlYWs7Y2FzZSA3OnIuc3BsaWNlKDMsMCxvKTticmVhaztjYXNlIDg6clsyXT1vfXJldHVybiByfWNvbnRhaW5zVGlsZSh0LG4saSxyPTApe2NvbnN0IG89dC5xdWVyeVBhZGRpbmcvbi5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCsxLGE9aT90aGlzLl9idWZmZXJlZENhbWVyYU1lcmNhdG9yKG8sbik6dGhpcy5fYnVmZmVyZWRTY3JlZW5NZXJjYXRvcihvLG4pO2xldCBzPXQudGlsZUlELndyYXArKGEudW53cmFwcGVkP3I6MCk7Y29uc3QgbD1hLnBvbHlnb24ubWFwKG49PmUuZ2V0VGlsZVBvaW50KHQudGlsZVRyYW5zZm9ybSxuLHMpKTtpZighZS5wb2x5Z29uSW50ZXJzZWN0c0JveChsLDAsMCxlLkVYVEVOVCxlLkVYVEVOVCkpcmV0dXJuO3M9dC50aWxlSUQud3JhcCsodGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yLnVud3JhcHBlZD9yOjApO2NvbnN0IGM9dGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yLnBvbHlnb24ubWFwKG49PmUuZ2V0VGlsZVZlYzModC50aWxlVHJhbnNmb3JtLG4scykpLHU9Yy5tYXAodD0+bmV3IGUucG9pbnRHZW9tZXRyeSh0WzBdLHRbMV0pKSxoPW4uZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKS5wb3NpdGlvbnx8bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKDAsMCwwKSxkPWUuZ2V0VGlsZVZlYzModC50aWxlVHJhbnNmb3JtLGgscykscD1jLm1hcCh0PT57Y29uc3Qgbj1lLnN1Yih0LHQsZCk7cmV0dXJuIGUubm9ybWFsaXplKG4sbiksbmV3IGUuUmF5KGQsbil9KSxmPUQodCwxLG4uem9vbSkqbi5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtyZXR1cm57cXVlcnlHZW9tZXRyeTp0aGlzLHRpbGVzcGFjZUdlb21ldHJ5OnUsdGlsZXNwYWNlUmF5czpwLGJ1ZmZlcmVkVGlsZXNwYWNlR2VvbWV0cnk6bCxidWZmZXJlZFRpbGVzcGFjZUJvdW5kczoobT1lLmdldEJvdW5kcyhsKSxtLm1pbi54PWUuY2xhbXAobS5taW4ueCwwLGUuRVhURU5UKSxtLm1pbi55PWUuY2xhbXAobS5taW4ueSwwLGUuRVhURU5UKSxtLm1heC54PWUuY2xhbXAobS5tYXgueCwwLGUuRVhURU5UKSxtLm1heC55PWUuY2xhbXAobS5tYXgueSwwLGUuRVhURU5UKSxtKSx0aWxlOnQsdGlsZUlEOnQudGlsZUlELHBpeGVsVG9UaWxlVW5pdHNGYWN0b3I6Zn07dmFyIG19X2J1ZmZlcmVkU2NyZWVuTWVyY2F0b3IoZSx0KXtjb25zdCBuPUIoZSk7aWYodGhpcy5fc2NyZWVuUmF5Y2FzdENhY2hlW25dKXJldHVybiB0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGVbbl07e2xldCBpO3JldHVybiBpPVwiZ2xvYmVcIj09PXQucHJvamVjdGlvbi5uYW1lP3RoaXMuX3Byb2plY3RBbmRSZXNhbXBsZSh0aGlzLmJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkoZSksdCk6e3BvbHlnb246dGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KGUpLm1hcChlPT50LnBvaW50Q29vcmRpbmF0ZTNEKGUpKSx1bndyYXBwZWQ6ITB9LHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZVtuXT1pLGl9fV9idWZmZXJlZENhbWVyYU1lcmNhdG9yKGUsdCl7Y29uc3Qgbj1CKGUpO2lmKHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZVtuXSlyZXR1cm4gdGhpcy5fY2FtZXJhUmF5Y2FzdENhY2hlW25dO3tsZXQgaTtyZXR1cm4gaT1cImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZT90aGlzLl9wcm9qZWN0QW5kUmVzYW1wbGUodGhpcy5idWZmZXJlZENhbWVyYUdlb21ldHJ5R2xvYmUoZSksdCk6e3BvbHlnb246dGhpcy5idWZmZXJlZENhbWVyYUdlb21ldHJ5KGUpLm1hcChlPT50LnBvaW50Q29vcmRpbmF0ZTNEKGUpKSx1bndyYXBwZWQ6ITB9LHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZVtuXT1pLGl9fV9wcm9qZWN0QW5kUmVzYW1wbGUodCxuKXtjb25zdCBpPWZ1bmN0aW9uKHQsbil7Y29uc3QgaT1lLm11bHRpcGx5KFtdLG4ucGl4ZWxNYXRyaXgsbi5nbG9iZU1hdHJpeCkscj1bMCwtZS5HTE9CRV9SQURJVVMsMCwxXSxvPVswLGUuR0xPQkVfUkFESVVTLDAsMV0sYT1bMCwwLDAsMV07ZS50cmFuc2Zvcm1NYXQ0JDEocixyLGkpLGUudHJhbnNmb3JtTWF0NCQxKG8sbyxpKSxlLnRyYW5zZm9ybU1hdDQkMShhLGEsaSk7Y29uc3Qgcz1uZXcgZS5wb2ludEdlb21ldHJ5KHJbMF0vclszXSxyWzFdL3JbM10pLGw9bmV3IGUucG9pbnRHZW9tZXRyeShvWzBdL29bM10sb1sxXS9vWzNdKSxjPWUucG9seWdvbkNvbnRhaW5zUG9pbnQodCxzKSYmclszXTxhWzNdLHU9ZS5wb2x5Z29uQ29udGFpbnNQb2ludCh0LGwpJiZvWzNdPGFbM107aWYoIWMmJiF1KXJldHVybiBudWxsO2NvbnN0IGg9ZnVuY3Rpb24oZSx0LG4pe2ZvcihsZXQgaT0xO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCByPVIodC5wb2ludENvb3JkaW5hdGUzRChlW2ktMV0pLngpLG89Uih0LnBvaW50Q29vcmRpbmF0ZTNEKGVbaV0pLngpO2lmKG48MCl7aWYocjxvKXJldHVybntpZHg6aSx0Oi1yLyhvLTEtcil9fWVsc2UgaWYobzxyKXJldHVybntpZHg6aSx0OigxLXIpLyhvKzEtcil9fXJldHVybiBudWxsfSh0LG4sYz8tMToxKTtpZighaClyZXR1cm4gbnVsbDtjb25zdHtpZHg6ZCx0OnB9PWg7bGV0IGY9ZD4xP08odC5zbGljZSgwLGQpLG4pOltdLG09ZDx0Lmxlbmd0aD9PKHQuc2xpY2UoZCksbik6W107Zj1mLm1hcCh0PT5uZXcgZS5wb2ludEdlb21ldHJ5KFIodC54KSx0LnkpKSxtPW0ubWFwKHQ9Pm5ldyBlLnBvaW50R2VvbWV0cnkoUih0LngpLHQueSkpO2NvbnN0IGc9Wy4uLmZdOzA9PT1nLmxlbmd0aCYmZy5wdXNoKG1bbS5sZW5ndGgtMV0pO2NvbnN0IHk9ZS5udW1iZXIoZ1tnLmxlbmd0aC0xXS55LCgwPT09bS5sZW5ndGg/ZlswXTptWzBdKS55LHApO2xldCBfO3JldHVybiBfPWM/W25ldyBlLnBvaW50R2VvbWV0cnkoMCx5KSxuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCksbmV3IGUucG9pbnRHZW9tZXRyeSgxLDApLG5ldyBlLnBvaW50R2VvbWV0cnkoMSx5KV06W25ldyBlLnBvaW50R2VvbWV0cnkoMSx5KSxuZXcgZS5wb2ludEdlb21ldHJ5KDEsMSksbmV3IGUucG9pbnRHZW9tZXRyeSgwLDEpLG5ldyBlLnBvaW50R2VvbWV0cnkoMCx5KV0sZy5wdXNoKC4uLl8pLDA9PT1tLmxlbmd0aD9nLnB1c2goZlswXSk6Zy5wdXNoKC4uLm0pLHtwb2x5Z29uOmcubWFwKHQ9Pm5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0LngsdC55KSksdW53cmFwcGVkOiExfX0odCxuKTtpZihpKXJldHVybiBpO2NvbnN0IHI9ZnVuY3Rpb24odCxuKXtsZXQgaT0hMSxyPS0xLzAsbz0wO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspdFtlXS54PnImJihyPXRbZV0ueCxvPWUpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspe2NvbnN0IG49KG8rZSklKHQubGVuZ3RoLTEpLHI9dFtuXSxhPXRbbisxXTtNYXRoLmFicyhyLngtYS54KT4uNSYmKHIueDxhLng/KHIueCs9MSwwPT09biYmKHRbdC5sZW5ndGgtMV0ueCs9MSkpOihhLngrPTEsbisxPT09dC5sZW5ndGgtMSYmKHRbMF0ueCs9MSkpLGk9ITApfWNvbnN0IGE9ZS5tZXJjYXRvclhmcm9tTG5nKG4uY2VudGVyLmxuZyk7cmV0dXJuIGkmJmE8TWF0aC5hYnMoYS0xKSYmdC5mb3JFYWNoKGU9PntlLngtPTF9KSx7cG9seWdvbjp0LHVud3JhcHBlZDppfX0oTyh0LG4pLm1hcCh0PT5uZXcgZS5wb2ludEdlb21ldHJ5KFIodC54KSx0LnkpKSxuKTtyZXR1cm57cG9seWdvbjpyLnBvbHlnb24ubWFwKHQ9Pm5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0LngsdC55KSksdW53cmFwcGVkOnIudW53cmFwcGVkfX19ZnVuY3Rpb24gTyh0LG4pe3JldHVybiBlLnJlc2FtcGxlKHQsZT0+e2NvbnN0IHQ9bi5wb2ludENvb3JkaW5hdGUzRChlKTtlLng9dC54LGUueT10Lnl9LDEvMjU2KX1mdW5jdGlvbiBSKGUpe3JldHVybiBlPDA/MStlJTE6ZSUxfWZ1bmN0aW9uIEIoZSl7cmV0dXJuIDEwMCplfDB9ZnVuY3Rpb24gaih0LG4saSxyLG8pe2NvbnN0IGE9ZnVuY3Rpb24oaSxyKXtpZihpKXJldHVybiBvKGkpO2lmKHIpe3QudXJsJiZyLnRpbGVzJiZ0LnRpbGVzJiZkZWxldGUgdC50aWxlcztjb25zdCBpPWUucGljayhlLmV4dGVuZChyLHQpLFtcInRpbGVzXCIsXCJtaW56b29tXCIsXCJtYXh6b29tXCIsXCJhdHRyaWJ1dGlvblwiLFwibWFwYm94X2xvZ29cIixcImJvdW5kc1wiLFwic2NoZW1lXCIsXCJ0aWxlU2l6ZVwiLFwiZW5jb2RpbmdcIl0pO3IudmVjdG9yX2xheWVycyYmKGkudmVjdG9yTGF5ZXJzPXIudmVjdG9yX2xheWVycyxpLnZlY3RvckxheWVySWRzPWkudmVjdG9yTGF5ZXJzLm1hcChlPT5lLmlkKSksaS50aWxlcz1uLmNhbm9uaWNhbGl6ZVRpbGVzZXQoaSx0LnVybCksbyhudWxsLGkpfX07cmV0dXJuIHQudXJsP2UuZ2V0SlNPTihuLnRyYW5zZm9ybVJlcXVlc3Qobi5ub3JtYWxpemVTb3VyY2VVUkwodC51cmwsbnVsbCxpLHIpLGUuUmVzb3VyY2VUeXBlLlNvdXJjZSksYSk6ZS5leHBvcnRlZC5mcmFtZSgoKT0+YShudWxsLHQpKX1jbGFzcyBGe2NvbnN0cnVjdG9yKHQsbixpKXt0aGlzLmJvdW5kcz1lLkxuZ0xhdEJvdW5kcy5jb252ZXJ0KHRoaXMudmFsaWRhdGVCb3VuZHModCkpLHRoaXMubWluem9vbT1ufHwwLHRoaXMubWF4em9vbT1pfHwyNH12YWxpZGF0ZUJvdW5kcyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmND09PWUubGVuZ3RoP1tNYXRoLm1heCgtMTgwLGVbMF0pLE1hdGgubWF4KC05MCxlWzFdKSxNYXRoLm1pbigxODAsZVsyXSksTWF0aC5taW4oOTAsZVszXSldOlstMTgwLC05MCwxODAsOTBdfWNvbnRhaW5zKHQpe2NvbnN0IG49TWF0aC5wb3coMix0LnopLGk9TWF0aC5mbG9vcihlLm1lcmNhdG9yWGZyb21MbmcodGhpcy5ib3VuZHMuZ2V0V2VzdCgpKSpuKSxyPU1hdGguZmxvb3IoZS5tZXJjYXRvcllmcm9tTGF0KHRoaXMuYm91bmRzLmdldE5vcnRoKCkpKm4pLG89TWF0aC5jZWlsKGUubWVyY2F0b3JYZnJvbUxuZyh0aGlzLmJvdW5kcy5nZXRFYXN0KCkpKm4pLGE9TWF0aC5jZWlsKGUubWVyY2F0b3JZZnJvbUxhdCh0aGlzLmJvdW5kcy5nZXRTb3V0aCgpKSpuKTtyZXR1cm4gdC54Pj1pJiZ0Lng8byYmdC55Pj1yJiZ0Lnk8YX19Y2xhc3MgTntjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5jb250ZXh0PWU7Y29uc3QgaT1lLmdsO3RoaXMuYnVmZmVyPWkuY3JlYXRlQnVmZmVyKCksdGhpcy5keW5hbWljRHJhdz1Cb29sZWFuKG4pLHRoaXMuY29udGV4dC51bmJpbmRWQU8oKSxlLmJpbmRFbGVtZW50QnVmZmVyLnNldCh0aGlzLmJ1ZmZlciksaS5idWZmZXJEYXRhKGkuRUxFTUVOVF9BUlJBWV9CVUZGRVIsdC5hcnJheUJ1ZmZlcix0aGlzLmR5bmFtaWNEcmF3P2kuRFlOQU1JQ19EUkFXOmkuU1RBVElDX0RSQVcpLHRoaXMuZHluYW1pY0RyYXd8fHQuZGVzdHJveSgpfWJpbmQoKXt0aGlzLmNvbnRleHQuYmluZEVsZW1lbnRCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKX11cGRhdGVEYXRhKGUpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LmdsO3RoaXMuY29udGV4dC51bmJpbmRWQU8oKSx0aGlzLmJpbmQoKSx0LmJ1ZmZlclN1YkRhdGEodC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwwLGUuYXJyYXlCdWZmZXIpfWRlc3Ryb3koKXt0aGlzLmJ1ZmZlciYmKHRoaXMuY29udGV4dC5nbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpLGRlbGV0ZSB0aGlzLmJ1ZmZlcil9fWNvbnN0IFU9e0ludDg6XCJCWVRFXCIsVWludDg6XCJVTlNJR05FRF9CWVRFXCIsSW50MTY6XCJTSE9SVFwiLFVpbnQxNjpcIlVOU0lHTkVEX1NIT1JUXCIsSW50MzI6XCJJTlRcIixVaW50MzI6XCJVTlNJR05FRF9JTlRcIixGbG9hdDMyOlwiRkxPQVRcIn07Y2xhc3MgVntjb25zdHJ1Y3RvcihlLHQsbixpKXt0aGlzLmxlbmd0aD10Lmxlbmd0aCx0aGlzLmF0dHJpYnV0ZXM9bix0aGlzLml0ZW1TaXplPXQuYnl0ZXNQZXJFbGVtZW50LHRoaXMuZHluYW1pY0RyYXc9aSx0aGlzLmNvbnRleHQ9ZTtjb25zdCByPWUuZ2w7dGhpcy5idWZmZXI9ci5jcmVhdGVCdWZmZXIoKSxlLmJpbmRWZXJ0ZXhCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKSxyLmJ1ZmZlckRhdGEoci5BUlJBWV9CVUZGRVIsdC5hcnJheUJ1ZmZlcix0aGlzLmR5bmFtaWNEcmF3P3IuRFlOQU1JQ19EUkFXOnIuU1RBVElDX0RSQVcpLHRoaXMuZHluYW1pY0RyYXd8fHQuZGVzdHJveSgpfWJpbmQoKXt0aGlzLmNvbnRleHQuYmluZFZlcnRleEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpfXVwZGF0ZURhdGEoZSl7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2w7dGhpcy5iaW5kKCksdC5idWZmZXJTdWJEYXRhKHQuQVJSQVlfQlVGRkVSLDAsZS5hcnJheUJ1ZmZlcil9ZW5hYmxlQXR0cmlidXRlcyhlLHQpe2ZvcihsZXQgbj0wO248dGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDtuKyspe2NvbnN0IGk9dC5hdHRyaWJ1dGVzW3RoaXMuYXR0cmlidXRlc1tuXS5uYW1lXTt2b2lkIDAhPT1pJiZlLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGkpfX1zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhlLHQsbil7Zm9yKGxldCBpPTA7aTx0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoO2krKyl7Y29uc3Qgcj10aGlzLmF0dHJpYnV0ZXNbaV0sbz10LmF0dHJpYnV0ZXNbci5uYW1lXTt2b2lkIDAhPT1vJiZlLnZlcnRleEF0dHJpYlBvaW50ZXIobyxyLmNvbXBvbmVudHMsZVtVW3IudHlwZV1dLCExLHRoaXMuaXRlbVNpemUsci5vZmZzZXQrdGhpcy5pdGVtU2l6ZSoobnx8MCkpfX1kZXN0cm95KCl7dGhpcy5idWZmZXImJih0aGlzLmNvbnRleHQuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKSxkZWxldGUgdGhpcy5idWZmZXIpfX1jbGFzcyBHe2NvbnN0cnVjdG9yKGUpe3RoaXMuZ2w9ZS5nbCx0aGlzLmRlZmF1bHQ9dGhpcy5nZXREZWZhdWx0KCksdGhpcy5jdXJyZW50PXRoaXMuZGVmYXVsdCx0aGlzLmRpcnR5PSExfWdldCgpe3JldHVybiB0aGlzLmN1cnJlbnR9c2V0KGUpe31nZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZGVmYXVsdH1zZXREZWZhdWx0KCl7dGhpcy5zZXQodGhpcy5kZWZhdWx0KX19Y2xhc3MgWiBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiBlLkNvbG9yLnRyYW5zcGFyZW50fXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZS5yIT09dC5yfHxlLmchPT10Lmd8fGUuYiE9PXQuYnx8ZS5hIT09dC5hfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY2xlYXJDb2xvcihlLnIsZS5nLGUuYixlLmEpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBXIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIDF9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY2xlYXJEZXB0aChlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgcSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiAwfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNsZWFyU3RlbmNpbChlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgJCBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVyblshMCwhMCwhMCwhMF19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHxlWzNdIT09dFszXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNvbG9yTWFzayhlWzBdLGVbMV0sZVsyXSxlWzNdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgSCBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiEwfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmRlcHRoTWFzayhlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgWCBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiAyNTV9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuc3RlbmNpbE1hc2soZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIFkgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm57ZnVuYzp0aGlzLmdsLkFMV0FZUyxyZWY6MCxtYXNrOjI1NX19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlLmZ1bmMhPT10LmZ1bmN8fGUucmVmIT09dC5yZWZ8fGUubWFzayE9PXQubWFza3x8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxGdW5jKGUuZnVuYyxlLnJlZixlLm1hc2spLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBKIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7Y29uc3QgZT10aGlzLmdsO3JldHVybltlLktFRVAsZS5LRUVQLGUuS0VFUF19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuc3RlbmNpbE9wKGVbMF0sZVsxXSxlWzJdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgUSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO2U/dC5lbmFibGUodC5TVEVOQ0lMX1RFU1QpOnQuZGlzYWJsZSh0LlNURU5DSUxfVEVTVCksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgSyBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVyblswLDFdfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZGVwdGhSYW5nZShlWzBdLGVbMV0pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBlZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO2U/dC5lbmFibGUodC5ERVBUSF9URVNUKTp0LmRpc2FibGUodC5ERVBUSF9URVNUKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyB0ZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLkxFU1N9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZGVwdGhGdW5jKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBuZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO2U/dC5lbmFibGUodC5CTEVORCk6dC5kaXNhYmxlKHQuQkxFTkQpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIGllIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7Y29uc3QgZT10aGlzLmdsO3JldHVybltlLk9ORSxlLlpFUk9dfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYmxlbmRGdW5jKGVbMF0sZVsxXSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIHJlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIGUuQ29sb3IudHJhbnNwYXJlbnR9c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlLnIhPT10LnJ8fGUuZyE9PXQuZ3x8ZS5iIT09dC5ifHxlLmEhPT10LmF8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZENvbG9yKGUucixlLmcsZS5iLGUuYSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIG9lIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuRlVOQ19BRER9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYmxlbmRFcXVhdGlvbihlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgYWUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4hMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDtlP3QuZW5hYmxlKHQuQ1VMTF9GQUNFKTp0LmRpc2FibGUodC5DVUxMX0ZBQ0UpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIHNlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuQkFDS31zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jdWxsRmFjZShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgbGUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5nbC5DQ1d9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZnJvbnRGYWNlKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBjZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnVzZVByb2dyYW0oZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIHVlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuVEVYVFVSRTB9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYWN0aXZlVGV4dHVyZShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgaGUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtjb25zdCBlPXRoaXMuZ2w7cmV0dXJuWzAsMCxlLmRyYXdpbmdCdWZmZXJXaWR0aCxlLmRyYXdpbmdCdWZmZXJIZWlnaHRdfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHxlWzJdIT09dFsyXXx8ZVszXSE9PXRbM118fHRoaXMuZGlydHkpJiYodGhpcy5nbC52aWV3cG9ydChlWzBdLGVbMV0sZVsyXSxlWzNdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgZGUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIHBlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kUmVuZGVyYnVmZmVyKHQuUkVOREVSQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIGZlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kVGV4dHVyZSh0LlRFWFRVUkVfMkQsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgbWUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRCdWZmZXIodC5BUlJBWV9CVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgZ2UgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7Y29uc3QgdD10aGlzLmdsO3QuYmluZEJ1ZmZlcih0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIHllIGV4dGVuZHMgR3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnZhbz1lLmV4dFZlcnRleEFycmF5T2JqZWN0fWdldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7dGhpcy52YW8mJihlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMudmFvLmJpbmRWZXJ0ZXhBcnJheU9FUyhlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgX2UgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gNH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX0FMSUdOTUVOVCxlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyB2ZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QucGl4ZWxTdG9yZWkodC5VTlBBQ0tfUFJFTVVMVElQTFlfQUxQSEFfV0VCR0wsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgeGUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4hMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX0ZMSVBfWV9XRUJHTCxlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyBiZSBleHRlbmRzIEd7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlKSx0aGlzLmNvbnRleHQ9ZSx0aGlzLnBhcmVudD10fWdldERlZmF1bHQoKXtyZXR1cm4gbnVsbH19Y2xhc3Mgd2UgZXh0ZW5kcyBiZXtzZXREaXJ0eSgpe3RoaXMuZGlydHk9ITB9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjt0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLnBhcmVudCk7Y29uc3QgdD10aGlzLmdsO3QuZnJhbWVidWZmZXJUZXh0dXJlMkQodC5GUkFNRUJVRkZFUix0LkNPTE9SX0FUVEFDSE1FTlQwLHQuVEVYVFVSRV8yRCxlLDApLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIFRlIGV4dGVuZHMgYmV7YXR0YWNobWVudCgpe3JldHVybiB0aGlzLmdsLkRFUFRIX0FUVEFDSE1FTlR9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjt0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldCh0aGlzLnBhcmVudCk7Y29uc3QgdD10aGlzLmdsO3QuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIodC5GUkFNRUJVRkZFUix0aGlzLmF0dGFjaG1lbnQoKSx0LlJFTkRFUkJVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyBFZSBleHRlbmRzIFRle2F0dGFjaG1lbnQoKXtyZXR1cm4gdGhpcy5nbC5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlR9fWNsYXNzIFNle2NvbnN0cnVjdG9yKGUsdCxuLGkpe3RoaXMuY29udGV4dD1lLHRoaXMud2lkdGg9dCx0aGlzLmhlaWdodD1uO2NvbnN0IHI9dGhpcy5mcmFtZWJ1ZmZlcj1lLmdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7dGhpcy5jb2xvckF0dGFjaG1lbnQ9bmV3IHdlKGUsciksaSYmKHRoaXMuZGVwdGhBdHRhY2htZW50PW5ldyBUZShlLHIpKX1kZXN0cm95KCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2wsdD10aGlzLmNvbG9yQXR0YWNobWVudC5nZXQoKTtpZih0JiZlLmRlbGV0ZVRleHR1cmUodCksdGhpcy5kZXB0aEF0dGFjaG1lbnQpe2NvbnN0IHQ9dGhpcy5kZXB0aEF0dGFjaG1lbnQuZ2V0KCk7dCYmZS5kZWxldGVSZW5kZXJidWZmZXIodCl9ZS5kZWxldGVGcmFtZWJ1ZmZlcih0aGlzLmZyYW1lYnVmZmVyKX19Y2xhc3MgTWV7Y29uc3RydWN0b3IoZSl7dGhpcy5nbD1lLHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3Q9dGhpcy5nbC5nZXRFeHRlbnNpb24oXCJPRVNfdmVydGV4X2FycmF5X29iamVjdFwiKSx0aGlzLmNsZWFyQ29sb3I9bmV3IFoodGhpcyksdGhpcy5jbGVhckRlcHRoPW5ldyBXKHRoaXMpLHRoaXMuY2xlYXJTdGVuY2lsPW5ldyBxKHRoaXMpLHRoaXMuY29sb3JNYXNrPW5ldyAkKHRoaXMpLHRoaXMuZGVwdGhNYXNrPW5ldyBIKHRoaXMpLHRoaXMuc3RlbmNpbE1hc2s9bmV3IFgodGhpcyksdGhpcy5zdGVuY2lsRnVuYz1uZXcgWSh0aGlzKSx0aGlzLnN0ZW5jaWxPcD1uZXcgSih0aGlzKSx0aGlzLnN0ZW5jaWxUZXN0PW5ldyBRKHRoaXMpLHRoaXMuZGVwdGhSYW5nZT1uZXcgSyh0aGlzKSx0aGlzLmRlcHRoVGVzdD1uZXcgZWUodGhpcyksdGhpcy5kZXB0aEZ1bmM9bmV3IHRlKHRoaXMpLHRoaXMuYmxlbmQ9bmV3IG5lKHRoaXMpLHRoaXMuYmxlbmRGdW5jPW5ldyBpZSh0aGlzKSx0aGlzLmJsZW5kQ29sb3I9bmV3IHJlKHRoaXMpLHRoaXMuYmxlbmRFcXVhdGlvbj1uZXcgb2UodGhpcyksdGhpcy5jdWxsRmFjZT1uZXcgYWUodGhpcyksdGhpcy5jdWxsRmFjZVNpZGU9bmV3IHNlKHRoaXMpLHRoaXMuZnJvbnRGYWNlPW5ldyBsZSh0aGlzKSx0aGlzLnByb2dyYW09bmV3IGNlKHRoaXMpLHRoaXMuYWN0aXZlVGV4dHVyZT1uZXcgdWUodGhpcyksdGhpcy52aWV3cG9ydD1uZXcgaGUodGhpcyksdGhpcy5iaW5kRnJhbWVidWZmZXI9bmV3IGRlKHRoaXMpLHRoaXMuYmluZFJlbmRlcmJ1ZmZlcj1uZXcgcGUodGhpcyksdGhpcy5iaW5kVGV4dHVyZT1uZXcgZmUodGhpcyksdGhpcy5iaW5kVmVydGV4QnVmZmVyPW5ldyBtZSh0aGlzKSx0aGlzLmJpbmRFbGVtZW50QnVmZmVyPW5ldyBnZSh0aGlzKSx0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUz10aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0JiZuZXcgeWUodGhpcyksdGhpcy5waXhlbFN0b3JlVW5wYWNrPW5ldyBfZSh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhPW5ldyB2ZSh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWT1uZXcgeGUodGhpcyksdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWM9ZS5nZXRFeHRlbnNpb24oXCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIil8fGUuZ2V0RXh0ZW5zaW9uKFwiTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKXx8ZS5nZXRFeHRlbnNpb24oXCJXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpLHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljJiYodGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXg9ZS5nZXRQYXJhbWV0ZXIodGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMuTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUKSksdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNGb3JjZU9mZj0hMSx0aGlzLmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXNGb3JjZU9mZj0hMSx0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvPWUuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfZGVidWdfcmVuZGVyZXJfaW5mb1wiKSx0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvJiYodGhpcy5yZW5kZXJlcj1lLmdldFBhcmFtZXRlcih0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKSx0aGlzLnZlbmRvcj1lLmdldFBhcmFtZXRlcih0aGlzLmV4dERlYnVnUmVuZGVyZXJJbmZvLlVOTUFTS0VEX1ZFTkRPUl9XRUJHTCkpLHRoaXMuZXh0VGV4dHVyZUhhbGZGbG9hdD1lLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRcIiksdGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0JiYoZS5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhclwiKSx0aGlzLmV4dFJlbmRlclRvVGV4dHVyZUhhbGZGbG9hdD1lLmdldEV4dGVuc2lvbihcIkVYVF9jb2xvcl9idWZmZXJfaGFsZl9mbG9hdFwiKSksdGhpcy5leHRTdGFuZGFyZERlcml2YXRpdmVzPWUuZ2V0RXh0ZW5zaW9uKFwiT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzXCIpLHRoaXMuZXh0VGltZXJRdWVyeT1lLmdldEV4dGVuc2lvbihcIkVYVF9kaXNqb2ludF90aW1lcl9xdWVyeVwiKSx0aGlzLm1heFRleHR1cmVTaXplPWUuZ2V0UGFyYW1ldGVyKGUuTUFYX1RFWFRVUkVfU0laRSl9c2V0RGVmYXVsdCgpe3RoaXMudW5iaW5kVkFPKCksdGhpcy5jbGVhckNvbG9yLnNldERlZmF1bHQoKSx0aGlzLmNsZWFyRGVwdGguc2V0RGVmYXVsdCgpLHRoaXMuY2xlYXJTdGVuY2lsLnNldERlZmF1bHQoKSx0aGlzLmNvbG9yTWFzay5zZXREZWZhdWx0KCksdGhpcy5kZXB0aE1hc2suc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbE1hc2suc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbE9wLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxUZXN0LnNldERlZmF1bHQoKSx0aGlzLmRlcHRoUmFuZ2Uuc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhUZXN0LnNldERlZmF1bHQoKSx0aGlzLmRlcHRoRnVuYy5zZXREZWZhdWx0KCksdGhpcy5ibGVuZC5zZXREZWZhdWx0KCksdGhpcy5ibGVuZEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRDb2xvci5zZXREZWZhdWx0KCksdGhpcy5ibGVuZEVxdWF0aW9uLnNldERlZmF1bHQoKSx0aGlzLmN1bGxGYWNlLnNldERlZmF1bHQoKSx0aGlzLmN1bGxGYWNlU2lkZS5zZXREZWZhdWx0KCksdGhpcy5mcm9udEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMucHJvZ3JhbS5zZXREZWZhdWx0KCksdGhpcy5hY3RpdmVUZXh0dXJlLnNldERlZmF1bHQoKSx0aGlzLmJpbmRGcmFtZWJ1ZmZlci5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXREZWZhdWx0KCl9c2V0RGlydHkoKXt0aGlzLmNsZWFyQ29sb3IuZGlydHk9ITAsdGhpcy5jbGVhckRlcHRoLmRpcnR5PSEwLHRoaXMuY2xlYXJTdGVuY2lsLmRpcnR5PSEwLHRoaXMuY29sb3JNYXNrLmRpcnR5PSEwLHRoaXMuZGVwdGhNYXNrLmRpcnR5PSEwLHRoaXMuc3RlbmNpbE1hc2suZGlydHk9ITAsdGhpcy5zdGVuY2lsRnVuYy5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxPcC5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxUZXN0LmRpcnR5PSEwLHRoaXMuZGVwdGhSYW5nZS5kaXJ0eT0hMCx0aGlzLmRlcHRoVGVzdC5kaXJ0eT0hMCx0aGlzLmRlcHRoRnVuYy5kaXJ0eT0hMCx0aGlzLmJsZW5kLmRpcnR5PSEwLHRoaXMuYmxlbmRGdW5jLmRpcnR5PSEwLHRoaXMuYmxlbmRDb2xvci5kaXJ0eT0hMCx0aGlzLmJsZW5kRXF1YXRpb24uZGlydHk9ITAsdGhpcy5jdWxsRmFjZS5kaXJ0eT0hMCx0aGlzLmN1bGxGYWNlU2lkZS5kaXJ0eT0hMCx0aGlzLmZyb250RmFjZS5kaXJ0eT0hMCx0aGlzLnByb2dyYW0uZGlydHk9ITAsdGhpcy5hY3RpdmVUZXh0dXJlLmRpcnR5PSEwLHRoaXMudmlld3BvcnQuZGlydHk9ITAsdGhpcy5iaW5kRnJhbWVidWZmZXIuZGlydHk9ITAsdGhpcy5iaW5kUmVuZGVyYnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZFRleHR1cmUuZGlydHk9ITAsdGhpcy5iaW5kVmVydGV4QnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZEVsZW1lbnRCdWZmZXIuZGlydHk9ITAsdGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCYmKHRoaXMuYmluZFZlcnRleEFycmF5T0VTLmRpcnR5PSEwKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2suZGlydHk9ITAsdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5kaXJ0eT0hMCx0aGlzLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5kaXJ0eT0hMH1jcmVhdGVJbmRleEJ1ZmZlcihlLHQpe3JldHVybiBuZXcgTih0aGlzLGUsdCl9Y3JlYXRlVmVydGV4QnVmZmVyKGUsdCxuKXtyZXR1cm4gbmV3IFYodGhpcyxlLHQsbil9Y3JlYXRlUmVuZGVyYnVmZmVyKGUsdCxuKXtjb25zdCBpPXRoaXMuZ2wscj1pLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3JldHVybiB0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KHIpLGkucmVuZGVyYnVmZmVyU3RvcmFnZShpLlJFTkRFUkJVRkZFUixlLHQsbiksdGhpcy5iaW5kUmVuZGVyYnVmZmVyLnNldChudWxsKSxyfWNyZWF0ZUZyYW1lYnVmZmVyKGUsdCxuKXtyZXR1cm4gbmV3IFNlKHRoaXMsZSx0LG4pfWNsZWFyKHtjb2xvcjplLGRlcHRoOnQsc3RlbmNpbDpufSl7Y29uc3QgaT10aGlzLmdsO2xldCByPTA7ZSYmKHJ8PWkuQ09MT1JfQlVGRkVSX0JJVCx0aGlzLmNsZWFyQ29sb3Iuc2V0KGUpLHRoaXMuY29sb3JNYXNrLnNldChbITAsITAsITAsITBdKSksdm9pZCAwIT09dCYmKHJ8PWkuREVQVEhfQlVGRkVSX0JJVCx0aGlzLmRlcHRoUmFuZ2Uuc2V0KFswLDFdKSx0aGlzLmNsZWFyRGVwdGguc2V0KHQpLHRoaXMuZGVwdGhNYXNrLnNldCghMCkpLHZvaWQgMCE9PW4mJihyfD1pLlNURU5DSUxfQlVGRkVSX0JJVCx0aGlzLmNsZWFyU3RlbmNpbC5zZXQobiksdGhpcy5zdGVuY2lsTWFzay5zZXQoMjU1KSksaS5jbGVhcihyKX1zZXRDdWxsRmFjZShlKXshMT09PWUuZW5hYmxlP3RoaXMuY3VsbEZhY2Uuc2V0KCExKToodGhpcy5jdWxsRmFjZS5zZXQoITApLHRoaXMuY3VsbEZhY2VTaWRlLnNldChlLm1vZGUpLHRoaXMuZnJvbnRGYWNlLnNldChlLmZyb250RmFjZSkpfXNldERlcHRoTW9kZShlKXtlLmZ1bmMhPT10aGlzLmdsLkFMV0FZU3x8ZS5tYXNrPyh0aGlzLmRlcHRoVGVzdC5zZXQoITApLHRoaXMuZGVwdGhGdW5jLnNldChlLmZ1bmMpLHRoaXMuZGVwdGhNYXNrLnNldChlLm1hc2spLHRoaXMuZGVwdGhSYW5nZS5zZXQoZS5yYW5nZSkpOnRoaXMuZGVwdGhUZXN0LnNldCghMSl9c2V0U3RlbmNpbE1vZGUoZSl7ZS50ZXN0LmZ1bmMhPT10aGlzLmdsLkFMV0FZU3x8ZS5tYXNrPyh0aGlzLnN0ZW5jaWxUZXN0LnNldCghMCksdGhpcy5zdGVuY2lsTWFzay5zZXQoZS5tYXNrKSx0aGlzLnN0ZW5jaWxPcC5zZXQoW2UuZmFpbCxlLmRlcHRoRmFpbCxlLnBhc3NdKSx0aGlzLnN0ZW5jaWxGdW5jLnNldCh7ZnVuYzplLnRlc3QuZnVuYyxyZWY6ZS5yZWYsbWFzazplLnRlc3QubWFza30pKTp0aGlzLnN0ZW5jaWxUZXN0LnNldCghMSl9c2V0Q29sb3JNb2RlKG4pe3Qobi5ibGVuZEZ1bmN0aW9uLGUuQ29sb3JNb2RlLlJlcGxhY2UpP3RoaXMuYmxlbmQuc2V0KCExKToodGhpcy5ibGVuZC5zZXQoITApLHRoaXMuYmxlbmRGdW5jLnNldChuLmJsZW5kRnVuY3Rpb24pLHRoaXMuYmxlbmRDb2xvci5zZXQobi5ibGVuZENvbG9yKSksdGhpcy5jb2xvck1hc2suc2V0KG4ubWFzayl9dW5iaW5kVkFPKCl7dGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCYmdGhpcy5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KG51bGwpfX1jbGFzcyBJZSBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LG4saSxyKXtzdXBlcigpLHRoaXMuaWQ9dCx0aGlzLmRpc3BhdGNoZXI9aSx0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy50eXBlPVwicmFzdGVyXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMucm91bmRab29tPSEwLHRoaXMuc2NoZW1lPVwieHl6XCIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5fbG9hZGVkPSExLHRoaXMuX29wdGlvbnM9ZS5leHRlbmQoe3R5cGU6XCJyYXN0ZXJcIn0sbiksZS5leHRlbmQodGhpcyxlLnBpY2sobixbXCJ1cmxcIixcInNjaGVtZVwiLFwidGlsZVNpemVcIl0pKX1sb2FkKCl7dGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy5fdGlsZUpTT05SZXF1ZXN0PWoodGhpcy5fb3B0aW9ucyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsbnVsbCxudWxsLCh0LG4pPT57dGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwsdGhpcy5fbG9hZGVkPSEwLHQ/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpOm4mJihlLmV4dGVuZCh0aGlzLG4pLG4uYm91bmRzJiYodGhpcy50aWxlQm91bmRzPW5ldyBGKG4uYm91bmRzLHRoaXMubWluem9vbSx0aGlzLm1heHpvb20pKSxlLnBvc3RUdXJuc3RpbGVFdmVudChuLnRpbGVzKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKSl9KX1sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5sb2FkKCl9b25SZW1vdmUoKXt0aGlzLl90aWxlSlNPTlJlcXVlc3QmJih0aGlzLl90aWxlSlNPTlJlcXVlc3QuY2FuY2VsKCksdGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwpfXNlcmlhbGl6ZSgpe3JldHVybiBlLmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zKX1oYXNUaWxlKGUpe3JldHVybiF0aGlzLnRpbGVCb3VuZHN8fHRoaXMudGlsZUJvdW5kcy5jb250YWlucyhlLmNhbm9uaWNhbCl9bG9hZFRpbGUodCxuKXtjb25zdCBpPWUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbz49MixyPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKHQudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSksaSx0aGlzLnRpbGVTaXplKTt0LnJlcXVlc3Q9ZS5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChyLGUuUmVzb3VyY2VUeXBlLlRpbGUpLChpLHIsbyxhKT0+KGRlbGV0ZSB0LnJlcXVlc3QsdC5hYm9ydGVkPyh0LnN0YXRlPVwidW5sb2FkZWRcIixuKG51bGwpKTppPyh0LnN0YXRlPVwiZXJyb3JlZFwiLG4oaSkpOnI/KHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZ0LnNldEV4cGlyeURhdGEoe2NhY2hlQ29udHJvbDpvLGV4cGlyZXM6YX0pLHQuc2V0VGV4dHVyZShyLHRoaXMubWFwLnBhaW50ZXIpLHQuc3RhdGU9XCJsb2FkZWRcIixlLmNhY2hlRW50cnlQb3NzaWJseUFkZGVkKHRoaXMuZGlzcGF0Y2hlciksdm9pZCBuKG51bGwpKTpuKG51bGwpKSl9c3RhdGljIGxvYWRUaWxlRGF0YShlLHQsbil7ZS5zZXRUZXh0dXJlKHQsbil9c3RhdGljIHVubG9hZFRpbGVEYXRhKGUsdCl7ZS50ZXh0dXJlJiZ0LnNhdmVUaWxlVGV4dHVyZShlLnRleHR1cmUpfWFib3J0VGlsZShlLHQpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSx0KCl9dW5sb2FkVGlsZShlLHQpe2UudGV4dHVyZSYmdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUoZS50ZXh0dXJlKSx0KCl9aGFzVHJhbnNpdGlvbigpe3JldHVybiExfX1sZXQgQ2U7ZnVuY3Rpb24ga2UodCxuLGkscixvLGEscyxsKXtjb25zdCBjPVt0LGksbyxuLHIsYSwxLDEsMV0sdT1bcyxsLDFdLGg9ZS5hZGpvaW50KFtdLGMpLFtkLHAsZl09ZS50cmFuc2Zvcm1NYXQzKHUsdSxlLnRyYW5zcG9zZShoLGgpKTtyZXR1cm4gZS5tdWx0aXBseSQxKGMsW2QsMCwwLDAscCwwLDAsMCxmXSxjKX1jbGFzcyBBZSBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3RvcihlLHQsbixpKXtzdXBlcigpLHRoaXMuaWQ9ZSx0aGlzLmRpc3BhdGNoZXI9bix0aGlzLmNvb3JkaW5hdGVzPXQuY29vcmRpbmF0ZXMsdGhpcy50eXBlPVwiaW1hZ2VcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy50aWxlcz17fSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5zZXRFdmVudGVkUGFyZW50KGkpLHRoaXMub3B0aW9ucz10LHRoaXMuX2RpcnR5PSExfWxvYWQodCxuKXt0aGlzLl9sb2FkZWQ9bnx8ITEsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pKSx0aGlzLnVybD10aGlzLm9wdGlvbnMudXJsLHRoaXMuX2ltYWdlUmVxdWVzdD1lLmdldEltYWdlKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHRoaXMudXJsLGUuUmVzb3VyY2VUeXBlLkltYWdlKSwobixpKT0+e2lmKHRoaXMuX2ltYWdlUmVxdWVzdD1udWxsLHRoaXMuX2xvYWRlZD0hMCxuKXRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG4pKTtlbHNlIGlmKGkpe2NvbnN0e0hUTUxJbWFnZUVsZW1lbnQ6bn09ZS53aW5kb3c7dGhpcy5pbWFnZT1pIGluc3RhbmNlb2Ygbj9lLmV4cG9ydGVkLmdldEltYWdlRGF0YShpKTppLHRoaXMuX2RpcnR5PSEwLHRoaXMud2lkdGg9dGhpcy5pbWFnZS53aWR0aCx0aGlzLmhlaWdodD10aGlzLmltYWdlLmhlaWdodCx0JiYodGhpcy5jb29yZGluYXRlcz10KSx0aGlzLl9maW5pc2hMb2FkaW5nKCl9fSl9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH11cGRhdGVJbWFnZShlKXtyZXR1cm4gdGhpcy5pbWFnZSYmZS51cmw/KHRoaXMuX2ltYWdlUmVxdWVzdCYmZS51cmwhPT10aGlzLm9wdGlvbnMudXJsJiYodGhpcy5faW1hZ2VSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX2ltYWdlUmVxdWVzdD1udWxsKSx0aGlzLm9wdGlvbnMudXJsPWUudXJsLHRoaXMubG9hZChlLmNvb3JkaW5hdGVzLHRoaXMuX2xvYWRlZCksdGhpcyk6dGhpc31fZmluaXNoTG9hZGluZygpe3RoaXMubWFwJiYodGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpKX1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpfW9uUmVtb3ZlKCl7dGhpcy5faW1hZ2VSZXF1ZXN0JiYodGhpcy5faW1hZ2VSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX2ltYWdlUmVxdWVzdD1udWxsKSx0aGlzLnRleHR1cmUmJnRoaXMudGV4dHVyZS5kZXN0cm95KCl9c2V0Q29vcmRpbmF0ZXModCl7dGhpcy5jb29yZGluYXRlcz10LHRoaXMuX2JvdW5kc0FycmF5PXZvaWQgMDtjb25zdCBuPXQubWFwKGUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQpO3JldHVybiB0aGlzLnRpbGVJRD1mdW5jdGlvbih0KXtsZXQgbj0xLzAsaT0xLzAscj0tMS8wLG89LTEvMDtmb3IoY29uc3QgZSBvZiB0KW49TWF0aC5taW4obixlLngpLGk9TWF0aC5taW4oaSxlLnkpLHI9TWF0aC5tYXgocixlLngpLG89TWF0aC5tYXgobyxlLnkpO2NvbnN0IGE9TWF0aC5tYXgoci1uLG8taSkscz1NYXRoLm1heCgwLE1hdGguZmxvb3IoLU1hdGgubG9nKGEpL01hdGguTE4yKSksbD1NYXRoLnBvdygyLHMpO3JldHVybiBuZXcgZS5DYW5vbmljYWxUaWxlSUQocyxNYXRoLmZsb29yKChuK3IpLzIqbCksTWF0aC5mbG9vcigoaStvKS8yKmwpKX0obiksdGhpcy5taW56b29tPXRoaXMubWF4em9vbT10aGlzLnRpbGVJRC56LHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKSx0aGlzfV9jbGVhcigpe3RoaXMuX2JvdW5kc0FycmF5PXZvaWQgMH1fcHJlcGFyZURhdGEodCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy50aWxlcyl7Y29uc3QgdD10aGlzLnRpbGVzW2VdO1wibG9hZGVkXCIhPT10LnN0YXRlJiYodC5zdGF0ZT1cImxvYWRlZFwiLHQudGV4dHVyZT10aGlzLnRleHR1cmUpfWlmKHRoaXMuX2JvdW5kc0FycmF5KXJldHVybjtjb25zdCBuPWUudGlsZVRyYW5zZm9ybSh0aGlzLnRpbGVJRCx0aGlzLm1hcC50cmFuc2Zvcm0ucHJvamVjdGlvbiksW2kscixvLGFdPXRoaXMuY29vcmRpbmF0ZXMubWFwKHQ9Pntjb25zdCBpPW4ucHJvamVjdGlvbi5wcm9qZWN0KHRbMF0sdFsxXSk7cmV0dXJuIGUuZ2V0VGlsZVBvaW50KG4saSkuX3JvdW5kKCl9KTt0aGlzLnBlcnNwZWN0aXZlVHJhbnNmb3JtPWZ1bmN0aW9uKHQsbixpLHIsbyxhLHMsbCxjLHUpe2NvbnN0IGg9a2UoMCwwLHQsMCwwLG4sdCxuKSxkPWtlKGkscixvLGEscyxsLGMsdSk7cmV0dXJuIGUubXVsdGlwbHkkMShkLGUuYWRqb2ludChoLGgpLGQpLFtkWzZdL2RbOF0qdC9lLkVYVEVOVCxkWzddL2RbOF0qbi9lLkVYVEVOVF19KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsaS54LGkueSxyLngsci55LGEueCxhLnksby54LG8ueSk7Y29uc3Qgcz10aGlzLl9ib3VuZHNBcnJheT1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDRpODtzLmVtcGxhY2VCYWNrKGkueCxpLnksMCwwKSxzLmVtcGxhY2VCYWNrKHIueCxyLnksZS5FWFRFTlQsMCkscy5lbXBsYWNlQmFjayhhLngsYS55LDAsZS5FWFRFTlQpLHMuZW1wbGFjZUJhY2soby54LG8ueSxlLkVYVEVOVCxlLkVYVEVOVCksdGhpcy5ib3VuZHNCdWZmZXImJnRoaXMuYm91bmRzQnVmZmVyLmRlc3Ryb3koKSx0aGlzLmJvdW5kc0J1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihzLGUuYm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLmJvdW5kc1NlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpfXByZXBhcmUoKXtpZigwPT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RofHwhdGhpcy5pbWFnZSlyZXR1cm47Y29uc3QgdD10aGlzLm1hcC5wYWludGVyLmNvbnRleHQsbj10LmdsO3RoaXMuX2RpcnR5JiYodGhpcy50ZXh0dXJlP3RoaXMudGV4dHVyZS51cGRhdGUodGhpcy5pbWFnZSk6KHRoaXMudGV4dHVyZT1uZXcgZS5UZXh0dXJlKHQsdGhpcy5pbWFnZSxuLlJHQkEpLHRoaXMudGV4dHVyZS5iaW5kKG4uTElORUFSLG4uQ0xBTVBfVE9fRURHRSkpLHRoaXMuX2RpcnR5PSExKSx0aGlzLl9wcmVwYXJlRGF0YSh0KX1sb2FkVGlsZShlLHQpe3RoaXMudGlsZUlEJiZ0aGlzLnRpbGVJRC5lcXVhbHMoZS50aWxlSUQuY2Fub25pY2FsKT8odGhpcy50aWxlc1tTdHJpbmcoZS50aWxlSUQud3JhcCldPWUsZS5idWNrZXRzPXt9LHQobnVsbCkpOihlLnN0YXRlPVwiZXJyb3JlZFwiLHQobnVsbCkpfXNlcmlhbGl6ZSgpe3JldHVybnt0eXBlOlwiaW1hZ2VcIix1cmw6dGhpcy5vcHRpb25zLnVybCxjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuITF9fWNvbnN0IFBlPXt2ZWN0b3I6Y2xhc3MgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxuLGkscil7aWYoc3VwZXIoKSx0aGlzLmlkPXQsdGhpcy5kaXNwYXRjaGVyPWksdGhpcy50eXBlPVwidmVjdG9yXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMuc2NoZW1lPVwieHl6XCIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZD0hMCx0aGlzLmlzVGlsZUNsaXBwZWQ9ITAsdGhpcy5fbG9hZGVkPSExLGUuZXh0ZW5kKHRoaXMsZS5waWNrKG4sW1widXJsXCIsXCJzY2hlbWVcIixcInRpbGVTaXplXCIsXCJwcm9tb3RlSWRcIl0pKSx0aGlzLl9vcHRpb25zPWUuZXh0ZW5kKHt0eXBlOlwidmVjdG9yXCJ9LG4pLHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZz1uLmNvbGxlY3RSZXNvdXJjZVRpbWluZyw1MTIhPT10aGlzLnRpbGVTaXplKXRocm93IG5ldyBFcnJvcihcInZlY3RvciB0aWxlIHNvdXJjZXMgbXVzdCBoYXZlIGEgdGlsZVNpemUgb2YgNTEyXCIpO3RoaXMuc2V0RXZlbnRlZFBhcmVudChyKSx0aGlzLl90aWxlV29ya2Vycz17fSx0aGlzLl9kZWR1cGVkPW5ldyBlLkRlZHVwZWRSZXF1ZXN0fWxvYWQodCl7dGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSk7Y29uc3Qgbj1BcnJheS5pc0FycmF5KHRoaXMubWFwLl9sYW5ndWFnZSk/dGhpcy5tYXAuX2xhbmd1YWdlLmpvaW4oKTp0aGlzLm1hcC5fbGFuZ3VhZ2UsaT10aGlzLm1hcC5fd29ybGR2aWV3O3RoaXMuX3RpbGVKU09OUmVxdWVzdD1qKHRoaXMuX29wdGlvbnMsdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLG4saSwocixvKT0+e3RoaXMuX3RpbGVKU09OUmVxdWVzdD1udWxsLHRoaXMuX2xvYWRlZD0hMCxyPyhuJiZjb25zb2xlLndhcm4oXCJFbnN1cmUgdGhhdCB5b3VyIHJlcXVlc3RlZCBsYW5ndWFnZSBzdHJpbmcgaXMgYSB2YWxpZCBCQ1AtNDcgY29kZSBvciBsaXN0IG9mIGNvZGVzLiBGb3VuZDogXCIrbiksaSYmMiE9PWkubGVuZ3RoJiZjb25zb2xlLndhcm4oXCJSZXF1ZXN0ZWQgd29ybGR2aWV3IHN0cmluZ3MgbXVzdCBiZSBhIHZhbGlkIElTTyBhbHBoYS0yIGNvZGUuIEZvdW5kOiBcIitpKSx0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChyKSkpOm8mJihlLmV4dGVuZCh0aGlzLG8pLG8uYm91bmRzJiYodGhpcy50aWxlQm91bmRzPW5ldyBGKG8uYm91bmRzLHRoaXMubWluem9vbSx0aGlzLm1heHpvb20pKSxlLnBvc3RUdXJuc3RpbGVFdmVudChvLnRpbGVzLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4pLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCJ9KSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpKSx0JiZ0KHIpfSl9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1oYXNUaWxlKGUpe3JldHVybiF0aGlzLnRpbGVCb3VuZHN8fHRoaXMudGlsZUJvdW5kcy5jb250YWlucyhlLmNhbm9uaWNhbCl9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKX1yZWxvYWQoKXt0aGlzLmNhbmNlbFRpbGVKU09OUmVxdWVzdCgpLHRoaXMubG9hZCgoKT0+e2NvbnN0IGU9dGhpcy5tYXAuc3R5bGUuX2dldFNvdXJjZUNhY2hlcyh0aGlzLmlkKTtmb3IoY29uc3QgdCBvZiBlKXQuY2xlYXJUaWxlcygpfSl9c2V0U291cmNlUHJvcGVydHkoZSl7ZSgpLHRoaXMucmVsb2FkKCl9c2V0VGlsZXMoZSl7cmV0dXJuIHRoaXMuX29wdGlvbnMudGlsZXM9ZSx0aGlzLnJlbG9hZCgpLHRoaXN9c2V0VXJsKGUpe3JldHVybiB0aGlzLnVybD1lLHRoaXMuX29wdGlvbnMudXJsPWUsdGhpcy5yZWxvYWQoKSx0aGlzfW9uUmVtb3ZlKCl7dGhpcy5jYW5jZWxUaWxlSlNPTlJlcXVlc3QoKX1zZXJpYWxpemUoKXtyZXR1cm4gZS5leHRlbmQoe30sdGhpcy5fb3B0aW9ucyl9bG9hZFRpbGUodCxuKXtjb25zdCBpPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKHQudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSkpLHI9e3JlcXVlc3Q6dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QoaSxlLlJlc291cmNlVHlwZS5UaWxlKSxkYXRhOnZvaWQgMCx1aWQ6dC51aWQsdGlsZUlEOnQudGlsZUlELHRpbGVab29tOnQudGlsZVpvb20sem9vbTp0LnRpbGVJRC5vdmVyc2NhbGVkWix0aWxlU2l6ZTp0aGlzLnRpbGVTaXplKnQudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkLHBpeGVsUmF0aW86ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHNob3dDb2xsaXNpb25Cb3hlczp0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMscHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkLGlzU3ltYm9sVGlsZTp0LmlzU3ltYm9sVGlsZX07aWYoci5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdC5hY3RvciYmXCJleHBpcmVkXCIhPT10LnN0YXRlKVwibG9hZGluZ1wiPT09dC5zdGF0ZT90LnJlbG9hZENhbGxiYWNrPW46dC5yZXF1ZXN0PXQuYWN0b3Iuc2VuZChcInJlbG9hZFRpbGVcIixyLG8uYmluZCh0aGlzKSk7ZWxzZSBpZih0LmFjdG9yPXRoaXMuX3RpbGVXb3JrZXJzW2ldPXRoaXMuX3RpbGVXb3JrZXJzW2ldfHx0aGlzLmRpc3BhdGNoZXIuZ2V0QWN0b3IoKSx0aGlzLmRpc3BhdGNoZXIucmVhZHkpdC5yZXF1ZXN0PXQuYWN0b3Iuc2VuZChcImxvYWRUaWxlXCIscixvLmJpbmQodGhpcyksdm9pZCAwLCEwKTtlbHNle2NvbnN0IG49ZS5sb2FkVmVjdG9yVGlsZS5jYWxsKHtkZWR1cGVkOnRoaXMuX2RlZHVwZWR9LHIsKGUsbik9PntlfHwhbj9vLmNhbGwodGhpcyxlKTooci5kYXRhPXtjYWNoZUNvbnRyb2w6bi5jYWNoZUNvbnRyb2wsZXhwaXJlczpuLmV4cGlyZXMscmF3RGF0YTpuLnJhd0RhdGEuc2xpY2UoMCl9LHQuYWN0b3ImJnQuYWN0b3Iuc2VuZChcImxvYWRUaWxlXCIscixvLmJpbmQodGhpcyksdm9pZCAwLCEwKSl9LCEwKTt0LnJlcXVlc3Q9e2NhbmNlbDpufX1mdW5jdGlvbiBvKGkscil7cmV0dXJuIGRlbGV0ZSB0LnJlcXVlc3QsdC5hYm9ydGVkP24obnVsbCk6aSYmNDA0IT09aS5zdGF0dXM/bihpKToociYmci5yZXNvdXJjZVRpbWluZyYmKHQucmVzb3VyY2VUaW1pbmc9ci5yZXNvdXJjZVRpbWluZyksdGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMmJnImJnQuc2V0RXhwaXJ5RGF0YShyKSx0LmxvYWRWZWN0b3JEYXRhKHIsdGhpcy5tYXAucGFpbnRlciksZS5jYWNoZUVudHJ5UG9zc2libHlBZGRlZCh0aGlzLmRpc3BhdGNoZXIpLG4obnVsbCksdm9pZCh0LnJlbG9hZENhbGxiYWNrJiYodGhpcy5sb2FkVGlsZSh0LHQucmVsb2FkQ2FsbGJhY2spLHQucmVsb2FkQ2FsbGJhY2s9bnVsbCkpKX19YWJvcnRUaWxlKGUpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSxlLmFjdG9yJiZlLmFjdG9yLnNlbmQoXCJhYm9ydFRpbGVcIix7dWlkOmUudWlkLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkfSl9dW5sb2FkVGlsZShlKXtlLnVubG9hZFZlY3RvckRhdGEoKSxlLmFjdG9yJiZlLmFjdG9yLnNlbmQoXCJyZW1vdmVUaWxlXCIse3VpZDplLnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZH0pfWhhc1RyYW5zaXRpb24oKXtyZXR1cm4hMX1hZnRlclVwZGF0ZSgpe3RoaXMuX3RpbGVXb3JrZXJzPXt9fWNhbmNlbFRpbGVKU09OUmVxdWVzdCgpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCl9fSxyYXN0ZXI6SWUsXCJyYXN0ZXItZGVtXCI6Y2xhc3MgZXh0ZW5kcyBJZXtjb25zdHJ1Y3Rvcih0LG4saSxyKXtzdXBlcih0LG4saSxyKSx0aGlzLnR5cGU9XCJyYXN0ZXItZGVtXCIsdGhpcy5tYXh6b29tPTIyLHRoaXMuX29wdGlvbnM9ZS5leHRlbmQoe3R5cGU6XCJyYXN0ZXItZGVtXCJ9LG4pLHRoaXMuZW5jb2Rpbmc9bi5lbmNvZGluZ3x8XCJtYXBib3hcIn1sb2FkVGlsZSh0LG4pe2NvbnN0IGk9dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVRpbGVVUkwodC50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLHRoaXMuc2NoZW1lKSwhMSx0aGlzLnRpbGVTaXplKTtmdW5jdGlvbiByKGUsaSl7ZSYmKHQuc3RhdGU9XCJlcnJvcmVkXCIsbihlKSksaSYmKHQuZGVtPWksdC5kZW0ub25EZXNlcmlhbGl6ZSgpLHQubmVlZHNIaWxsc2hhZGVQcmVwYXJlPSEwLHQubmVlZHNERU1UZXh0dXJlVXBsb2FkPSEwLHQuc3RhdGU9XCJsb2FkZWRcIixuKG51bGwpKX10LnJlcXVlc3Q9ZS5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChpLGUuUmVzb3VyY2VUeXBlLlRpbGUpLGZ1bmN0aW9uKGksbyxhLHMpe2lmKGRlbGV0ZSB0LnJlcXVlc3QsdC5hYm9ydGVkKXQuc3RhdGU9XCJ1bmxvYWRlZFwiLG4obnVsbCk7ZWxzZSBpZihpKXQuc3RhdGU9XCJlcnJvcmVkXCIsbihpKTtlbHNlIGlmKG8pe3RoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZ0LnNldEV4cGlyeURhdGEoe2NhY2hlQ29udHJvbDphLGV4cGlyZXM6c30pO2NvbnN0IG49ZS53aW5kb3cuSW1hZ2VCaXRtYXAmJm8gaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZUJpdG1hcCYmKG51bGw9PUNlJiYoQ2U9ZS53aW5kb3cuT2Zmc2NyZWVuQ2FudmFzJiZuZXcgZS53aW5kb3cuT2Zmc2NyZWVuQ2FudmFzKDEsMSkuZ2V0Q29udGV4dChcIjJkXCIpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLndpbmRvdy5jcmVhdGVJbWFnZUJpdG1hcCksQ2UpLGk9MS0oby53aWR0aC1lLnByZXZQb3dlck9mVHdvKG8ud2lkdGgpKS8yO2k8MXx8dC5uZWlnaGJvcmluZ1RpbGVzfHwodC5uZWlnaGJvcmluZ1RpbGVzPXRoaXMuX2dldE5laWdoYm9yaW5nVGlsZXModC50aWxlSUQpKTtjb25zdCBsPW4/bzplLmV4cG9ydGVkLmdldEltYWdlRGF0YShvLGkpLGM9e3VpZDp0LnVpZCxjb29yZDp0LnRpbGVJRCxzb3VyY2U6dGhpcy5pZCxyYXdJbWFnZURhdGE6bCxlbmNvZGluZzp0aGlzLmVuY29kaW5nLHBhZGRpbmc6aX07dC5hY3RvciYmXCJleHBpcmVkXCIhPT10LnN0YXRlfHwodC5hY3Rvcj10aGlzLmRpc3BhdGNoZXIuZ2V0QWN0b3IoKSx0LmFjdG9yLnNlbmQoXCJsb2FkREVNVGlsZVwiLGMsci5iaW5kKHRoaXMpLHZvaWQgMCwhMCkpfX0uYmluZCh0aGlzKSl9X2dldE5laWdoYm9yaW5nVGlsZXModCl7Y29uc3Qgbj10LmNhbm9uaWNhbCxpPU1hdGgucG93KDIsbi56KSxyPShuLngtMStpKSVpLG89MD09PW4ueD90LndyYXAtMTp0LndyYXAsYT0obi54KzEraSklaSxzPW4ueCsxPT09aT90LndyYXArMTp0LndyYXAsbD17fTtyZXR1cm4gbFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosbyxuLnoscixuLnkpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHMsbi56LGEsbi55KS5rZXldPXtiYWNrZmlsbGVkOiExfSxuLnk+MCYmKGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLG8sbi56LHIsbi55LTEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHQud3JhcCxuLnosbi54LG4ueS0xKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixzLG4ueixhLG4ueS0xKS5rZXldPXtiYWNrZmlsbGVkOiExfSksbi55KzE8aSYmKGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLG8sbi56LHIsbi55KzEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHQud3JhcCxuLnosbi54LG4ueSsxKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixzLG4ueixhLG4ueSsxKS5rZXldPXtiYWNrZmlsbGVkOiExfSksbH11bmxvYWRUaWxlKGUpe2UuZGVtVGV4dHVyZSYmdGhpcy5tYXAucGFpbnRlci5zYXZlVGlsZVRleHR1cmUoZS5kZW1UZXh0dXJlKSxlLmZibyYmKGUuZmJvLmRlc3Ryb3koKSxkZWxldGUgZS5mYm8pLGUuZGVtJiZkZWxldGUgZS5kZW0sZGVsZXRlIGUubmVpZ2hib3JpbmdUaWxlcyxlLnN0YXRlPVwidW5sb2FkZWRcIn19LGdlb2pzb246Y2xhc3MgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxuLGkscil7c3VwZXIoKSx0aGlzLmlkPXQsdGhpcy50eXBlPVwiZ2VvanNvblwiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0xOCx0aGlzLnRpbGVTaXplPTUxMix0aGlzLmlzVGlsZUNsaXBwZWQ9ITAsdGhpcy5yZXBhcnNlT3ZlcnNjYWxlZD0hMCx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5hY3Rvcj1pLmdldEFjdG9yKCksdGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMuX2RhdGE9bi5kYXRhLHRoaXMuX29wdGlvbnM9ZS5leHRlbmQoe30sbiksdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nPW4uY29sbGVjdFJlc291cmNlVGltaW5nLHZvaWQgMCE9PW4ubWF4em9vbSYmKHRoaXMubWF4em9vbT1uLm1heHpvb20pLG4udHlwZSYmKHRoaXMudHlwZT1uLnR5cGUpLG4uYXR0cmlidXRpb24mJih0aGlzLmF0dHJpYnV0aW9uPW4uYXR0cmlidXRpb24pLHRoaXMucHJvbW90ZUlkPW4ucHJvbW90ZUlkO2NvbnN0IG89ZS5FWFRFTlQvdGhpcy50aWxlU2l6ZTt0aGlzLndvcmtlck9wdGlvbnM9ZS5leHRlbmQoe3NvdXJjZTp0aGlzLmlkLGNsdXN0ZXI6bi5jbHVzdGVyfHwhMSxnZW9qc29uVnRPcHRpb25zOntidWZmZXI6KHZvaWQgMCE9PW4uYnVmZmVyP24uYnVmZmVyOjEyOCkqbyx0b2xlcmFuY2U6KHZvaWQgMCE9PW4udG9sZXJhbmNlP24udG9sZXJhbmNlOi4zNzUpKm8sZXh0ZW50OmUuRVhURU5ULG1heFpvb206dGhpcy5tYXh6b29tLGxpbmVNZXRyaWNzOm4ubGluZU1ldHJpY3N8fCExLGdlbmVyYXRlSWQ6bi5nZW5lcmF0ZUlkfHwhMX0sc3VwZXJjbHVzdGVyT3B0aW9uczp7bWF4Wm9vbTp2b2lkIDAhPT1uLmNsdXN0ZXJNYXhab29tP24uY2x1c3Rlck1heFpvb206dGhpcy5tYXh6b29tLTEsbWluUG9pbnRzOk1hdGgubWF4KDIsbi5jbHVzdGVyTWluUG9pbnRzfHwyKSxleHRlbnQ6ZS5FWFRFTlQscmFkaXVzOih2b2lkIDAhPT1uLmNsdXN0ZXJSYWRpdXM/bi5jbHVzdGVyUmFkaXVzOjUwKSpvLGxvZzohMSxnZW5lcmF0ZUlkOm4uZ2VuZXJhdGVJZHx8ITF9LGNsdXN0ZXJQcm9wZXJ0aWVzOm4uY2x1c3RlclByb3BlcnRpZXMsZmlsdGVyOm4uZmlsdGVyfSxuLndvcmtlck9wdGlvbnMpfW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5zZXREYXRhKHRoaXMuX2RhdGEpfXNldERhdGEoZSl7cmV0dXJuIHRoaXMuX2RhdGE9ZSx0aGlzLl91cGRhdGVXb3JrZXJEYXRhKCksdGhpc31nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShlLHQpe3JldHVybiB0aGlzLmFjdG9yLnNlbmQoXCJnZW9qc29uLmdldENsdXN0ZXJFeHBhbnNpb25ab29tXCIse2NsdXN0ZXJJZDplLHNvdXJjZTp0aGlzLmlkfSx0KSx0aGlzfWdldENsdXN0ZXJDaGlsZHJlbihlLHQpe3JldHVybiB0aGlzLmFjdG9yLnNlbmQoXCJnZW9qc29uLmdldENsdXN0ZXJDaGlsZHJlblwiLHtjbHVzdGVySWQ6ZSxzb3VyY2U6dGhpcy5pZH0sdCksdGhpc31nZXRDbHVzdGVyTGVhdmVzKGUsdCxuLGkpe3JldHVybiB0aGlzLmFjdG9yLnNlbmQoXCJnZW9qc29uLmdldENsdXN0ZXJMZWF2ZXNcIix7c291cmNlOnRoaXMuaWQsY2x1c3RlcklkOmUsbGltaXQ6dCxvZmZzZXQ6bn0saSksdGhpc31fdXBkYXRlV29ya2VyRGF0YSgpe2lmKHRoaXMuX3BlbmRpbmdMb2FkKXJldHVybiB2b2lkKHRoaXMuX2NvYWxlc2NlPSEwKTt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMuX2xvYWRlZD0hMTtjb25zdCB0PWUuZXh0ZW5kKHt9LHRoaXMud29ya2VyT3B0aW9ucyksbj10aGlzLl9kYXRhO1wic3RyaW5nXCI9PXR5cGVvZiBuPyh0LnJlcXVlc3Q9dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QoZS5leHBvcnRlZC5yZXNvbHZlVVJMKG4pLGUuUmVzb3VyY2VUeXBlLlNvdXJjZSksdC5yZXF1ZXN0LmNvbGxlY3RSZXNvdXJjZVRpbWluZz10aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcpOnQuZGF0YT1KU09OLnN0cmluZ2lmeShuKSx0aGlzLl9wZW5kaW5nTG9hZD10aGlzLmFjdG9yLnNlbmQodGhpcy50eXBlK1wiLmxvYWREYXRhXCIsdCwodCxuKT0+e2lmKHRoaXMuX2xvYWRlZD0hMCx0aGlzLl9wZW5kaW5nTG9hZD1udWxsLHQpdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpO2Vsc2V7Y29uc3QgdD17ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTp0aGlzLl9tZXRhZGF0YUZpcmVkP1wiY29udGVudFwiOlwibWV0YWRhdGFcIn07dGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nJiZuJiZuLnJlc291cmNlVGltaW5nJiZuLnJlc291cmNlVGltaW5nW3RoaXMuaWRdJiYodC5yZXNvdXJjZVRpbWluZz1uLnJlc291cmNlVGltaW5nW3RoaXMuaWRdKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIsdCkpLHRoaXMuX21ldGFkYXRhRmlyZWQ9ITB9dGhpcy5fY29hbGVzY2UmJih0aGlzLl91cGRhdGVXb3JrZXJEYXRhKCksdGhpcy5fY29hbGVzY2U9ITEpfSl9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1sb2FkVGlsZSh0LG4pe2NvbnN0IGk9dC5hY3Rvcj9cInJlbG9hZFRpbGVcIjpcImxvYWRUaWxlXCI7dC5hY3Rvcj10aGlzLmFjdG9yLHQucmVxdWVzdD10aGlzLmFjdG9yLnNlbmQoaSx7dHlwZTp0aGlzLnR5cGUsdWlkOnQudWlkLHRpbGVJRDp0LnRpbGVJRCx0aWxlWm9vbTp0LnRpbGVab29tLHpvb206dC50aWxlSUQub3ZlcnNjYWxlZFosbWF4Wm9vbTp0aGlzLm1heHpvb20sdGlsZVNpemU6dGhpcy50aWxlU2l6ZSxzb3VyY2U6dGhpcy5pZCxwaXhlbFJhdGlvOmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyxzaG93Q29sbGlzaW9uQm94ZXM6dGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzLHByb21vdGVJZDp0aGlzLnByb21vdGVJZH0sKGUscik9PihkZWxldGUgdC5yZXF1ZXN0LHQudW5sb2FkVmVjdG9yRGF0YSgpLHQuYWJvcnRlZD9uKG51bGwpOmU/bihlKToodC5sb2FkVmVjdG9yRGF0YShyLHRoaXMubWFwLnBhaW50ZXIsXCJyZWxvYWRUaWxlXCI9PT1pKSxuKG51bGwpKSksdm9pZCAwLFwibG9hZFRpbGVcIj09PWkpfWFib3J0VGlsZShlKXtlLnJlcXVlc3QmJihlLnJlcXVlc3QuY2FuY2VsKCksZGVsZXRlIGUucmVxdWVzdCksZS5hYm9ydGVkPSEwfXVubG9hZFRpbGUoZSl7ZS51bmxvYWRWZWN0b3JEYXRhKCksdGhpcy5hY3Rvci5zZW5kKFwicmVtb3ZlVGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9KX1vblJlbW92ZSgpe3RoaXMuX3BlbmRpbmdMb2FkJiZ0aGlzLl9wZW5kaW5nTG9hZC5jYW5jZWwoKX1zZXJpYWxpemUoKXtyZXR1cm4gZS5leHRlbmQoe30sdGhpcy5fb3B0aW9ucyx7dHlwZTp0aGlzLnR5cGUsZGF0YTp0aGlzLl9kYXRhfSl9aGFzVHJhbnNpdGlvbigpe3JldHVybiExfX0sdmlkZW86Y2xhc3MgZXh0ZW5kcyBBZXtjb25zdHJ1Y3RvcihlLHQsbixpKXtzdXBlcihlLHQsbixpKSx0aGlzLnJvdW5kWm9vbT0hMCx0aGlzLnR5cGU9XCJ2aWRlb1wiLHRoaXMub3B0aW9ucz10fWxvYWQoKXt0aGlzLl9sb2FkZWQ9ITE7Y29uc3QgdD10aGlzLm9wdGlvbnM7dGhpcy51cmxzPVtdO2Zvcihjb25zdCBuIG9mIHQudXJscyl0aGlzLnVybHMucHVzaCh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChuLGUuUmVzb3VyY2VUeXBlLlNvdXJjZSkudXJsKTtlLmdldFZpZGVvKHRoaXMudXJscywodCxuKT0+e3RoaXMuX2xvYWRlZD0hMCx0P3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHQpKTpuJiYodGhpcy52aWRlbz1uLHRoaXMudmlkZW8ubG9vcD0hMCx0aGlzLnZpZGVvLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksdGhpcy52aWRlby5hZGRFdmVudExpc3RlbmVyKFwicGxheWluZ1wiLCgpPT57dGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKX0pLHRoaXMubWFwJiZ0aGlzLnZpZGVvLnBsYXkoKSx0aGlzLl9maW5pc2hMb2FkaW5nKCkpfSl9cGF1c2UoKXt0aGlzLnZpZGVvJiZ0aGlzLnZpZGVvLnBhdXNlKCl9cGxheSgpe3RoaXMudmlkZW8mJnRoaXMudmlkZW8ucGxheSgpfXNlZWsodCl7aWYodGhpcy52aWRlbyl7Y29uc3Qgbj10aGlzLnZpZGVvLnNlZWthYmxlO3Q8bi5zdGFydCgwKXx8dD5uLmVuZCgwKT90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoXCJzb3VyY2VzLlwiK3RoaXMuaWQsbnVsbCxgUGxheWJhY2sgZm9yIHRoaXMgdmlkZW8gY2FuIGJlIHNldCBvbmx5IGJldHdlZW4gdGhlICR7bi5zdGFydCgwKX0gYW5kICR7bi5lbmQoMCl9LXNlY29uZCBtYXJrLmApKSk6dGhpcy52aWRlby5jdXJyZW50VGltZT10fX1nZXRWaWRlbygpe3JldHVybiB0aGlzLnZpZGVvfW9uQWRkKGUpe3RoaXMubWFwfHwodGhpcy5tYXA9ZSx0aGlzLmxvYWQoKSx0aGlzLnZpZGVvJiYodGhpcy52aWRlby5wbGF5KCksdGhpcy5zZXRDb29yZGluYXRlcyh0aGlzLmNvb3JkaW5hdGVzKSkpfXByZXBhcmUoKXtpZigwPT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RofHx0aGlzLnZpZGVvLnJlYWR5U3RhdGU8MilyZXR1cm47Y29uc3QgdD10aGlzLm1hcC5wYWludGVyLmNvbnRleHQsbj10LmdsO3RoaXMudGV4dHVyZT90aGlzLnZpZGVvLnBhdXNlZHx8KHRoaXMudGV4dHVyZS5iaW5kKG4uTElORUFSLG4uQ0xBTVBfVE9fRURHRSksbi50ZXhTdWJJbWFnZTJEKG4uVEVYVFVSRV8yRCwwLDAsMCxuLlJHQkEsbi5VTlNJR05FRF9CWVRFLHRoaXMudmlkZW8pKToodGhpcy50ZXh0dXJlPW5ldyBlLlRleHR1cmUodCx0aGlzLnZpZGVvLG4uUkdCQSksdGhpcy50ZXh0dXJlLmJpbmQobi5MSU5FQVIsbi5DTEFNUF9UT19FREdFKSx0aGlzLndpZHRoPXRoaXMudmlkZW8udmlkZW9XaWR0aCx0aGlzLmhlaWdodD10aGlzLnZpZGVvLnZpZGVvSGVpZ2h0KSx0aGlzLl9wcmVwYXJlRGF0YSh0KX1zZXJpYWxpemUoKXtyZXR1cm57dHlwZTpcInZpZGVvXCIsdXJsczp0aGlzLnVybHMsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLnZpZGVvJiYhdGhpcy52aWRlby5wYXVzZWR9fSxpbWFnZTpBZSxjYW52YXM6Y2xhc3MgZXh0ZW5kcyBBZXtjb25zdHJ1Y3Rvcih0LG4saSxyKXtzdXBlcih0LG4saSxyKSxuLmNvb3JkaW5hdGVzP0FycmF5LmlzQXJyYXkobi5jb29yZGluYXRlcykmJjQ9PT1uLmNvb3JkaW5hdGVzLmxlbmd0aCYmIW4uY29vcmRpbmF0ZXMuc29tZShlPT4hQXJyYXkuaXNBcnJheShlKXx8MiE9PWUubGVuZ3RofHxlLnNvbWUoZT0+XCJudW1iZXJcIiE9dHlwZW9mIGUpKXx8dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IGUuVmFsaWRhdGlvbkVycm9yKFwic291cmNlcy5cIit0LG51bGwsJ1wiY29vcmRpbmF0ZXNcIiBwcm9wZXJ0eSBtdXN0IGJlIGFuIGFycmF5IG9mIDQgbG9uZ2l0dWRlL2xhdGl0dWRlIGFycmF5IHBhaXJzJykpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoXCJzb3VyY2VzLlwiK3QsbnVsbCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImNvb3JkaW5hdGVzXCInKSkpLG4uYW5pbWF0ZSYmXCJib29sZWFuXCIhPXR5cGVvZiBuLmFuaW1hdGUmJnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBlLlZhbGlkYXRpb25FcnJvcihcInNvdXJjZXMuXCIrdCxudWxsLCdvcHRpb25hbCBcImFuaW1hdGVcIiBwcm9wZXJ0eSBtdXN0IGJlIGEgYm9vbGVhbiB2YWx1ZScpKSksbi5jYW52YXM/XCJzdHJpbmdcIj09dHlwZW9mIG4uY2FudmFzfHxuLmNhbnZhcyBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxDYW52YXNFbGVtZW50fHx0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoXCJzb3VyY2VzLlwiK3QsbnVsbCwnXCJjYW52YXNcIiBtdXN0IGJlIGVpdGhlciBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIElEIG9mIHRoZSBjYW52YXMgZWxlbWVudCBmcm9tIHdoaWNoIHRvIHJlYWQsIG9yIGFuIEhUTUxDYW52YXNFbGVtZW50IGluc3RhbmNlJykpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoXCJzb3VyY2VzLlwiK3QsbnVsbCwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImNhbnZhc1wiJykpKSx0aGlzLm9wdGlvbnM9bix0aGlzLmFuaW1hdGU9dm9pZCAwPT09bi5hbmltYXRlfHxuLmFuaW1hdGV9bG9hZCgpe3RoaXMuX2xvYWRlZD0hMCx0aGlzLmNhbnZhc3x8KHRoaXMuY2FudmFzPXRoaXMub3B0aW9ucy5jYW52YXMgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MQ2FudmFzRWxlbWVudD90aGlzLm9wdGlvbnMuY2FudmFzOmUud2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMub3B0aW9ucy5jYW52YXMpKSx0aGlzLndpZHRoPXRoaXMuY2FudmFzLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuY2FudmFzLmhlaWdodCx0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucygpP3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkNhbnZhcyBkaW1lbnNpb25zIGNhbm5vdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gemVyby5cIikpKToodGhpcy5wbGF5PWZ1bmN0aW9uKCl7dGhpcy5fcGxheWluZz0hMCx0aGlzLm1hcC50cmlnZ2VyUmVwYWludCgpfSx0aGlzLnBhdXNlPWZ1bmN0aW9uKCl7dGhpcy5fcGxheWluZyYmKHRoaXMucHJlcGFyZSgpLHRoaXMuX3BsYXlpbmc9ITEpfSx0aGlzLl9maW5pc2hMb2FkaW5nKCkpfWdldENhbnZhcygpe3JldHVybiB0aGlzLmNhbnZhc31vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpLHRoaXMuY2FudmFzJiZ0aGlzLmFuaW1hdGUmJnRoaXMucGxheSgpfW9uUmVtb3ZlKCl7dGhpcy5wYXVzZSgpfXByZXBhcmUoKXtsZXQgdD0hMTtpZih0aGlzLmNhbnZhcy53aWR0aCE9PXRoaXMud2lkdGgmJih0aGlzLndpZHRoPXRoaXMuY2FudmFzLndpZHRoLHQ9ITApLHRoaXMuY2FudmFzLmhlaWdodCE9PXRoaXMuaGVpZ2h0JiYodGhpcy5oZWlnaHQ9dGhpcy5jYW52YXMuaGVpZ2h0LHQ9ITApLHRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCkpcmV0dXJuO2lmKDA9PT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGgpcmV0dXJuO2NvbnN0IG49dGhpcy5tYXAucGFpbnRlci5jb250ZXh0O3RoaXMudGV4dHVyZT8odHx8dGhpcy5fcGxheWluZykmJnRoaXMudGV4dHVyZS51cGRhdGUodGhpcy5jYW52YXMse3ByZW11bHRpcGx5OiEwfSk6dGhpcy50ZXh0dXJlPW5ldyBlLlRleHR1cmUobix0aGlzLmNhbnZhcyxuLmdsLlJHQkEse3ByZW11bHRpcGx5OiEwfSksdGhpcy5fcHJlcGFyZURhdGEobil9c2VyaWFsaXplKCl7cmV0dXJue3R5cGU6XCJjYW52YXNcIixjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3BsYXlpbmd9X2hhc0ludmFsaWREaW1lbnNpb25zKCl7Zm9yKGNvbnN0IGUgb2ZbdGhpcy5jYW52YXMud2lkdGgsdGhpcy5jYW52YXMuaGVpZ2h0XSlpZihpc05hTihlKXx8ZTw9MClyZXR1cm4hMDtyZXR1cm4hMX19LGN1c3RvbTpjbGFzcyBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LG4saSxyKXtzdXBlcigpLHRoaXMuaWQ9dCx0aGlzLnR5cGU9XCJjdXN0b21cIix0aGlzLl9kYXRhVHlwZT1cInJhc3RlclwiLHRoaXMuX2Rpc3BhdGNoZXI9aSx0aGlzLl9pbXBsZW1lbnRhdGlvbj1uLHRoaXMuc2V0RXZlbnRlZFBhcmVudChyKSx0aGlzLnNjaGVtZT1cInh5elwiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0yMix0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9sb2FkZWQ9ITEsdGhpcy5yb3VuZFpvb209ITAsdGhpcy5faW1wbGVtZW50YXRpb258fHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgTWlzc2luZyBpbXBsZW1lbnRhdGlvbiBmb3IgJHt0aGlzLmlkfSBjdXN0b20gc291cmNlYCkpKSx0aGlzLl9pbXBsZW1lbnRhdGlvbi5sb2FkVGlsZXx8dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBNaXNzaW5nIGxvYWRUaWxlIGltcGxlbWVudGF0aW9uIGZvciAke3RoaXMuaWR9IGN1c3RvbSBzb3VyY2VgKSkpLHRoaXMuX2ltcGxlbWVudGF0aW9uLmJvdW5kcyYmKHRoaXMudGlsZUJvdW5kcz1uZXcgRih0aGlzLl9pbXBsZW1lbnRhdGlvbi5ib3VuZHMsdGhpcy5taW56b29tLHRoaXMubWF4em9vbSkpLG4udXBkYXRlPXRoaXMuX3VwZGF0ZS5iaW5kKHRoaXMpLG4uY2xlYXJUaWxlcz10aGlzLl9jbGVhclRpbGVzLmJpbmQodGhpcyksbi5jb3ZlcmluZ1RpbGVzPXRoaXMuX2NvdmVyaW5nVGlsZXMuYmluZCh0aGlzKSxlLmV4dGVuZCh0aGlzLGUucGljayhuLFtcImRhdGFUeXBlXCIsXCJzY2hlbWVcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcInRpbGVTaXplXCIsXCJhdHRyaWJ1dGlvblwiLFwibWluVGlsZUNhY2hlU2l6ZVwiLFwibWF4VGlsZUNhY2hlU2l6ZVwiXSkpfXNlcmlhbGl6ZSgpe3JldHVybiBlLnBpY2sodGhpcyxbXCJ0eXBlXCIsXCJzY2hlbWVcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcInRpbGVTaXplXCIsXCJhdHRyaWJ1dGlvblwiXSl9bG9hZCgpe3RoaXMuX2xvYWRlZD0hMCx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKX1sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfW9uQWRkKHQpe3RoaXMuX21hcD10LHRoaXMuX2xvYWRlZD0hMSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMuX2ltcGxlbWVudGF0aW9uLm9uQWRkJiZ0aGlzLl9pbXBsZW1lbnRhdGlvbi5vbkFkZCh0KSx0aGlzLmxvYWQoKX1vblJlbW92ZShlKXt0aGlzLl9pbXBsZW1lbnRhdGlvbi5vblJlbW92ZSYmdGhpcy5faW1wbGVtZW50YXRpb24ub25SZW1vdmUoZSl9aGFzVGlsZShlKXtpZih0aGlzLl9pbXBsZW1lbnRhdGlvbi5oYXNUaWxlKXtjb25zdHt4OnQseTpuLHo6aX09ZS5jYW5vbmljYWw7cmV0dXJuIHRoaXMuX2ltcGxlbWVudGF0aW9uLmhhc1RpbGUoe3g6dCx5Om4sejppfSl9cmV0dXJuIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKGUuY2Fub25pY2FsKX1sb2FkVGlsZSh0LG4pe2NvbnN0e3g6aSx5OnIsejpvfT10LnRpbGVJRC5jYW5vbmljYWwsYT1uZXcgZS53aW5kb3cuQWJvcnRDb250cm9sbGVyO3QucmVxdWVzdD1Qcm9taXNlLnJlc29sdmUodGhpcy5faW1wbGVtZW50YXRpb24ubG9hZFRpbGUoe3g6aSx5OnIsejpvfSx7c2lnbmFsOmEuc2lnbmFsfSkpLnRoZW4oZnVuY3Rpb24oaSl7cmV0dXJuIGRlbGV0ZSB0LnJlcXVlc3QsdC5hYm9ydGVkPyh0LnN0YXRlPVwidW5sb2FkZWRcIixuKG51bGwpKTp2b2lkIDA9PT1pPyh0LnN0YXRlPVwiZXJyb3JlZFwiLG4obnVsbCkpOm51bGw9PT1pPyh0aGlzLmxvYWRUaWxlRGF0YSh0LHt3aWR0aDp0aGlzLnRpbGVTaXplLGhlaWdodDp0aGlzLnRpbGVTaXplLGRhdGE6bnVsbH0pLHQuc3RhdGU9XCJsb2FkZWRcIixuKG51bGwpKTpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlRGF0YXx8dCBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxDYW52YXNFbGVtZW50fHx0IGluc3RhbmNlb2YgZS53aW5kb3cuSW1hZ2VCaXRtYXB8fHQgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50fShpKT8odGhpcy5sb2FkVGlsZURhdGEodCxpKSx0LnN0YXRlPVwibG9hZGVkXCIsdm9pZCBuKG51bGwpKToodC5zdGF0ZT1cImVycm9yZWRcIixuKG5ldyBFcnJvcihgQ2FuJ3QgaW5mZXIgZGF0YSB0eXBlIGZvciAke3RoaXMuaWR9LCBvbmx5IHJhc3RlciBkYXRhIHN1cHBvcnRlZCBhdCB0aGUgbW9tZW50YCkpKX0uYmluZCh0aGlzKSkuY2F0Y2goZT0+ezIwIT09ZS5jb2RlJiYodC5zdGF0ZT1cImVycm9yZWRcIixuKGUpKX0pLHQucmVxdWVzdC5jYW5jZWw9KCk9PmEuYWJvcnQoKX1sb2FkVGlsZURhdGEoZSx0KXtJZS5sb2FkVGlsZURhdGEoZSx0LHRoaXMuX21hcC5wYWludGVyKX11bmxvYWRUaWxlRGF0YShlKXtJZS51bmxvYWRUaWxlRGF0YShlLHRoaXMuX21hcC5wYWludGVyKX11bmxvYWRUaWxlKGUsdCl7aWYodGhpcy51bmxvYWRUaWxlRGF0YShlKSx0aGlzLl9pbXBsZW1lbnRhdGlvbi51bmxvYWRUaWxlKXtjb25zdHt4OnQseTpuLHo6aX09ZS50aWxlSUQuY2Fub25pY2FsO3RoaXMuX2ltcGxlbWVudGF0aW9uLnVubG9hZFRpbGUoe3g6dCx5Om4sejppfSl9dCgpfWFib3J0VGlsZShlLHQpe2UucmVxdWVzdCYmZS5yZXF1ZXN0LmNhbmNlbCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSx0KCl9aGFzVHJhbnNpdGlvbigpe3JldHVybiExfV9jb3ZlcmluZ1RpbGVzKCl7cmV0dXJuIHRoaXMuX21hcC50cmFuc2Zvcm0uY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6dGhpcy50aWxlU2l6ZSxtaW56b29tOnRoaXMubWluem9vbSxtYXh6b29tOnRoaXMubWF4em9vbSxyb3VuZFpvb206dGhpcy5yb3VuZFpvb219KS5tYXAoZT0+KHt4OmUuY2Fub25pY2FsLngseTplLmNhbm9uaWNhbC55LHo6ZS5jYW5vbmljYWwuen0pKX1fY2xlYXJUaWxlcygpe3RoaXMuX21hcC5zdHlsZS5fY2xlYXJTb3VyY2UodGhpcy5pZCl9X3VwZGF0ZSgpe3RoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKX19fSx6ZT1mdW5jdGlvbih0LG4saSxyKXtjb25zdCBvPW5ldyBQZVtuLnR5cGVdKHQsbixpLHIpO2lmKG8uaWQhPT10KXRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgU291cmNlIGlkIHRvIGJlICR7dH0gaW5zdGVhZCBvZiAke28uaWR9YCk7cmV0dXJuIGUuYmluZEFsbChbXCJsb2FkXCIsXCJhYm9ydFwiLFwidW5sb2FkXCIsXCJzZXJpYWxpemVcIixcInByZXBhcmVcIl0sbyksb307ZnVuY3Rpb24gRGUodCxuKXtjb25zdCBpPWUuaWRlbnRpdHkoW10pO3JldHVybiBlLnNjYWxlKGksaSxbLjUqdC53aWR0aCwuNSotdC5oZWlnaHQsMV0pLGUudHJhbnNsYXRlKGksaSxbMSwtMSwwXSksZS5tdWx0aXBseShpLGksdC5jYWxjdWxhdGVQcm9qTWF0cml4KG4udG9VbndyYXBwZWQoKSkpLEZsb2F0MzJBcnJheS5mcm9tKGkpfWZ1bmN0aW9uIExlKGUsdCxuLGkscixvLGEscz0hMSl7Y29uc3QgbD1lLnRpbGVzSW4oaSxhLHMpO2wuc29ydChSZSk7Y29uc3QgYz1bXTtmb3IoY29uc3QgaSBvZiBsKWMucHVzaCh7d3JhcHBlZFRpbGVJRDppLnRpbGUudGlsZUlELndyYXBwZWQoKS5rZXkscXVlcnlSZXN1bHRzOmkudGlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXModCxuLGUuX3N0YXRlLGkscixvLERlKGUudHJhbnNmb3JtLGkudGlsZS50aWxlSUQpLHMpfSk7Y29uc3QgdT1mdW5jdGlvbihlKXtjb25zdCB0PXt9LG49e307Zm9yKGNvbnN0IGkgb2YgZSl7Y29uc3QgZT1pLnF1ZXJ5UmVzdWx0cyxyPWkud3JhcHBlZFRpbGVJRCxvPW5bcl09bltyXXx8e307Zm9yKGNvbnN0IG4gaW4gZSl7Y29uc3QgaT1lW25dLHI9b1tuXT1vW25dfHx7fSxhPXRbbl09dFtuXXx8W107Zm9yKGNvbnN0IGUgb2YgaSlyW2UuZmVhdHVyZUluZGV4XXx8KHJbZS5mZWF0dXJlSW5kZXhdPSEwLGEucHVzaChlKSl9fXJldHVybiB0fShjKTtmb3IoY29uc3QgdCBpbiB1KXVbdF0uZm9yRWFjaCh0PT57Y29uc3Qgbj10LmZlYXR1cmUsaT1uLmxheWVyO2kmJlwiYmFja2dyb3VuZFwiIT09aS50eXBlJiZcInNreVwiIT09aS50eXBlJiYobi5zb3VyY2U9aS5zb3VyY2UsaVtcInNvdXJjZS1sYXllclwiXSYmKG4uc291cmNlTGF5ZXI9aVtcInNvdXJjZS1sYXllclwiXSksbi5zdGF0ZT12b2lkIDAhPT1uLmlkP2UuZ2V0RmVhdHVyZVN0YXRlKGlbXCJzb3VyY2UtbGF5ZXJcIl0sbi5pZCk6e30pfSk7cmV0dXJuIHV9ZnVuY3Rpb24gT2UoZSx0KXtjb25zdCBuPWUuZ2V0UmVuZGVyYWJsZUlkcygpLm1hcCh0PT5lLmdldFRpbGVCeUlEKHQpKSxpPVtdLHI9e307Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspe2NvbnN0IG89bltlXSxhPW8udGlsZUlELmNhbm9uaWNhbC5rZXk7clthXXx8KHJbYV09ITAsby5xdWVyeVNvdXJjZUZlYXR1cmVzKGksdCkpfXJldHVybiBpfWZ1bmN0aW9uIFJlKGUsdCl7Y29uc3Qgbj1lLnRpbGVJRCxpPXQudGlsZUlEO3JldHVybiBuLm92ZXJzY2FsZWRaLWkub3ZlcnNjYWxlZFp8fG4uY2Fub25pY2FsLnktaS5jYW5vbmljYWwueXx8bi53cmFwLWkud3JhcHx8bi5jYW5vbmljYWwueC1pLmNhbm9uaWNhbC54fWZ1bmN0aW9uIEJlKCl7cmV0dXJuIG51bGwhPWZvLndvcmtlckNsYXNzP25ldyBmby53b3JrZXJDbGFzczpuZXcgZS53aW5kb3cuV29ya2VyKGZvLndvcmtlclVybCl9Y29uc3QgamU9XCJtYXBib3hnbF9wcmVsb2FkZWRfd29ya2VyX3Bvb2xcIjtjbGFzcyBGZXtjb25zdHJ1Y3Rvcigpe3RoaXMuYWN0aXZlPXt9fWFjcXVpcmUoZSl7aWYoIXRoaXMud29ya2Vycylmb3IodGhpcy53b3JrZXJzPVtdO3RoaXMud29ya2Vycy5sZW5ndGg8RmUud29ya2VyQ291bnQ7KXRoaXMud29ya2Vycy5wdXNoKG5ldyBCZSk7cmV0dXJuIHRoaXMuYWN0aXZlW2VdPSEwLHRoaXMud29ya2Vycy5zbGljZSgpfXJlbGVhc2UoZSl7ZGVsZXRlIHRoaXMuYWN0aXZlW2VdLDA9PT10aGlzLm51bUFjdGl2ZSgpJiYodGhpcy53b3JrZXJzLmZvckVhY2goZT0+e2UudGVybWluYXRlKCl9KSx0aGlzLndvcmtlcnM9bnVsbCl9aXNQcmVsb2FkZWQoKXtyZXR1cm4hIXRoaXMuYWN0aXZlW2plXX1udW1BY3RpdmUoKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5hY3RpdmUpLmxlbmd0aH19bGV0IE5lO2Z1bmN0aW9uIFVlKCl7cmV0dXJuIE5lfHwoTmU9bmV3IEZlKSxOZX1mdW5jdGlvbiBWZSh0LG4pe2NvbnN0IGk9e307Zm9yKGNvbnN0IGUgaW4gdClcInJlZlwiIT09ZSYmKGlbZV09dFtlXSk7cmV0dXJuIGUucmVmUHJvcGVydGllcy5mb3JFYWNoKGU9PntlIGluIG4mJihpW2VdPW5bZV0pfSksaX1mdW5jdGlvbiBHZShlKXtlPWUuc2xpY2UoKTtjb25zdCB0PU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspdFtlW25dLmlkXT1lW25dO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKVwicmVmXCJpbiBlW25dJiYoZVtuXT1WZShlW25dLHRbZVtuXS5yZWZdKSk7cmV0dXJuIGV9RmUud29ya2VyQ291bnQ9Mjtjb25zdCBaZT17c2V0U3R5bGU6XCJzZXRTdHlsZVwiLGFkZExheWVyOlwiYWRkTGF5ZXJcIixyZW1vdmVMYXllcjpcInJlbW92ZUxheWVyXCIsc2V0UGFpbnRQcm9wZXJ0eTpcInNldFBhaW50UHJvcGVydHlcIixzZXRMYXlvdXRQcm9wZXJ0eTpcInNldExheW91dFByb3BlcnR5XCIsc2V0RmlsdGVyOlwic2V0RmlsdGVyXCIsYWRkU291cmNlOlwiYWRkU291cmNlXCIscmVtb3ZlU291cmNlOlwicmVtb3ZlU291cmNlXCIsc2V0R2VvSlNPTlNvdXJjZURhdGE6XCJzZXRHZW9KU09OU291cmNlRGF0YVwiLHNldExheWVyWm9vbVJhbmdlOlwic2V0TGF5ZXJab29tUmFuZ2VcIixzZXRMYXllclByb3BlcnR5Olwic2V0TGF5ZXJQcm9wZXJ0eVwiLHNldENlbnRlcjpcInNldENlbnRlclwiLHNldFpvb206XCJzZXRab29tXCIsc2V0QmVhcmluZzpcInNldEJlYXJpbmdcIixzZXRQaXRjaDpcInNldFBpdGNoXCIsc2V0U3ByaXRlOlwic2V0U3ByaXRlXCIsc2V0R2x5cGhzOlwic2V0R2x5cGhzXCIsc2V0VHJhbnNpdGlvbjpcInNldFRyYW5zaXRpb25cIixzZXRMaWdodDpcInNldExpZ2h0XCIsc2V0VGVycmFpbjpcInNldFRlcnJhaW5cIixzZXRGb2c6XCJzZXRGb2dcIixzZXRQcm9qZWN0aW9uOlwic2V0UHJvamVjdGlvblwifTtmdW5jdGlvbiBXZShlLHQsbil7bi5wdXNoKHtjb21tYW5kOlplLmFkZFNvdXJjZSxhcmdzOltlLHRbZV1dfSl9ZnVuY3Rpb24gcWUoZSx0LG4pe3QucHVzaCh7Y29tbWFuZDpaZS5yZW1vdmVTb3VyY2UsYXJnczpbZV19KSxuW2VdPSEwfWZ1bmN0aW9uICRlKGUsdCxuLGkpe3FlKGUsbixpKSxXZShlLHQsbil9ZnVuY3Rpb24gSGUoZSxuLGkpe2xldCByO2ZvcihyIGluIGVbaV0paWYoZVtpXS5oYXNPd25Qcm9wZXJ0eShyKSYmXCJkYXRhXCIhPT1yJiYhdChlW2ldW3JdLG5baV1bcl0pKXJldHVybiExO2ZvcihyIGluIG5baV0paWYobltpXS5oYXNPd25Qcm9wZXJ0eShyKSYmXCJkYXRhXCIhPT1yJiYhdChlW2ldW3JdLG5baV1bcl0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFhlKGUsbixpLHIsbyxhKXtsZXQgcztmb3IocyBpbiBuPW58fHt9LGU9ZXx8e30pZS5oYXNPd25Qcm9wZXJ0eShzKSYmKHQoZVtzXSxuW3NdKXx8aS5wdXNoKHtjb21tYW5kOmEsYXJnczpbcixzLG5bc10sb119KSk7Zm9yKHMgaW4gbiluLmhhc093blByb3BlcnR5KHMpJiYhZS5oYXNPd25Qcm9wZXJ0eShzKSYmKHQoZVtzXSxuW3NdKXx8aS5wdXNoKHtjb21tYW5kOmEsYXJnczpbcixzLG5bc10sb119KSl9ZnVuY3Rpb24gWWUoZSl7cmV0dXJuIGUuaWR9ZnVuY3Rpb24gSmUoZSx0KXtyZXR1cm4gZVt0LmlkXT10LGV9Y2xhc3MgUWV7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnJlc2V0KGUsdCl9cmVzZXQoZSx0KXt0aGlzLnBvaW50cz1lfHxbXSx0aGlzLl9kaXN0YW5jZXM9WzBdO2ZvcihsZXQgZT0xO2U8dGhpcy5wb2ludHMubGVuZ3RoO2UrKyl0aGlzLl9kaXN0YW5jZXNbZV09dGhpcy5fZGlzdGFuY2VzW2UtMV0rdGhpcy5wb2ludHNbZV0uZGlzdCh0aGlzLnBvaW50c1tlLTFdKTt0aGlzLmxlbmd0aD10aGlzLl9kaXN0YW5jZXNbdGhpcy5fZGlzdGFuY2VzLmxlbmd0aC0xXSx0aGlzLnBhZGRpbmc9TWF0aC5taW4odHx8MCwuNSp0aGlzLmxlbmd0aCksdGhpcy5wYWRkZWRMZW5ndGg9dGhpcy5sZW5ndGgtMip0aGlzLnBhZGRpbmd9bGVycCh0KXtpZigxPT09dGhpcy5wb2ludHMubGVuZ3RoKXJldHVybiB0aGlzLnBvaW50c1swXTt0PWUuY2xhbXAodCwwLDEpO2xldCBuPTEsaT10aGlzLl9kaXN0YW5jZXNbbl07Y29uc3Qgcj10KnRoaXMucGFkZGVkTGVuZ3RoK3RoaXMucGFkZGluZztmb3IoO2k8ciYmbjx0aGlzLl9kaXN0YW5jZXMubGVuZ3RoOylpPXRoaXMuX2Rpc3RhbmNlc1srK25dO2NvbnN0IG89bi0xLGE9dGhpcy5fZGlzdGFuY2VzW29dLHM9aS1hLGw9cz4wPyhyLWEpL3M6MDtyZXR1cm4gdGhpcy5wb2ludHNbb10ubXVsdCgxLWwpLmFkZCh0aGlzLnBvaW50c1tuXS5tdWx0KGwpKX19Y2xhc3MgS2V7Y29uc3RydWN0b3IoZSx0LG4pe2NvbnN0IGk9dGhpcy5ib3hDZWxscz1bXSxyPXRoaXMuY2lyY2xlQ2VsbHM9W107dGhpcy54Q2VsbENvdW50PU1hdGguY2VpbChlL24pLHRoaXMueUNlbGxDb3VudD1NYXRoLmNlaWwodC9uKTtmb3IobGV0IGU9MDtlPHRoaXMueENlbGxDb3VudCp0aGlzLnlDZWxsQ291bnQ7ZSsrKWkucHVzaChbXSksci5wdXNoKFtdKTt0aGlzLmNpcmNsZUtleXM9W10sdGhpcy5ib3hLZXlzPVtdLHRoaXMuYmJveGVzPVtdLHRoaXMuY2lyY2xlcz1bXSx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLnhTY2FsZT10aGlzLnhDZWxsQ291bnQvZSx0aGlzLnlTY2FsZT10aGlzLnlDZWxsQ291bnQvdCx0aGlzLmJveFVpZD0wLHRoaXMuY2lyY2xlVWlkPTB9a2V5c0xlbmd0aCgpe3JldHVybiB0aGlzLmJveEtleXMubGVuZ3RoK3RoaXMuY2lyY2xlS2V5cy5sZW5ndGh9aW5zZXJ0KGUsdCxuLGkscil7dGhpcy5fZm9yRWFjaENlbGwodCxuLGkscix0aGlzLl9pbnNlcnRCb3hDZWxsLHRoaXMuYm94VWlkKyspLHRoaXMuYm94S2V5cy5wdXNoKGUpLHRoaXMuYmJveGVzLnB1c2godCksdGhpcy5iYm94ZXMucHVzaChuKSx0aGlzLmJib3hlcy5wdXNoKGkpLHRoaXMuYmJveGVzLnB1c2gocil9aW5zZXJ0Q2lyY2xlKGUsdCxuLGkpe3RoaXMuX2ZvckVhY2hDZWxsKHQtaSxuLWksdCtpLG4raSx0aGlzLl9pbnNlcnRDaXJjbGVDZWxsLHRoaXMuY2lyY2xlVWlkKyspLHRoaXMuY2lyY2xlS2V5cy5wdXNoKGUpLHRoaXMuY2lyY2xlcy5wdXNoKHQpLHRoaXMuY2lyY2xlcy5wdXNoKG4pLHRoaXMuY2lyY2xlcy5wdXNoKGkpfV9pbnNlcnRCb3hDZWxsKGUsdCxuLGkscixvKXt0aGlzLmJveENlbGxzW3JdLnB1c2gobyl9X2luc2VydENpcmNsZUNlbGwoZSx0LG4saSxyLG8pe3RoaXMuY2lyY2xlQ2VsbHNbcl0ucHVzaChvKX1fcXVlcnkoZSx0LG4saSxyLG8pe2lmKG48MHx8ZT50aGlzLndpZHRofHxpPDB8fHQ+dGhpcy5oZWlnaHQpcmV0dXJuIXImJltdO2NvbnN0IGE9W107aWYoZTw9MCYmdDw9MCYmdGhpcy53aWR0aDw9biYmdGhpcy5oZWlnaHQ8PWkpe2lmKHIpcmV0dXJuITA7Zm9yKGxldCBlPTA7ZTx0aGlzLmJveEtleXMubGVuZ3RoO2UrKylhLnB1c2goe2tleTp0aGlzLmJveEtleXNbZV0seDE6dGhpcy5iYm94ZXNbNCplXSx5MTp0aGlzLmJib3hlc1s0KmUrMV0seDI6dGhpcy5iYm94ZXNbNCplKzJdLHkyOnRoaXMuYmJveGVzWzQqZSszXX0pO2ZvcihsZXQgZT0wO2U8dGhpcy5jaXJjbGVLZXlzLmxlbmd0aDtlKyspe2NvbnN0IHQ9dGhpcy5jaXJjbGVzWzMqZV0sbj10aGlzLmNpcmNsZXNbMyplKzFdLGk9dGhpcy5jaXJjbGVzWzMqZSsyXTthLnB1c2goe2tleTp0aGlzLmNpcmNsZUtleXNbZV0seDE6dC1pLHkxOm4taSx4Mjp0K2kseTI6bitpfSl9cmV0dXJuIG8/YS5maWx0ZXIobyk6YX1yZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwoZSx0LG4saSx0aGlzLl9xdWVyeUNlbGwsYSx7aGl0VGVzdDpyLHNlZW5VaWRzOntib3g6e30sY2lyY2xlOnt9fX0sbykscj9hLmxlbmd0aD4wOmF9X3F1ZXJ5Q2lyY2xlKGUsdCxuLGkscil7Y29uc3Qgbz1lLW4sYT1lK24scz10LW4sbD10K247aWYoYTwwfHxvPnRoaXMud2lkdGh8fGw8MHx8cz50aGlzLmhlaWdodClyZXR1cm4haSYmW107Y29uc3QgYz1bXTtyZXR1cm4gdGhpcy5fZm9yRWFjaENlbGwobyxzLGEsbCx0aGlzLl9xdWVyeUNlbGxDaXJjbGUsYyx7aGl0VGVzdDppLGNpcmNsZTp7eDplLHk6dCxyYWRpdXM6bn0sc2VlblVpZHM6e2JveDp7fSxjaXJjbGU6e319fSxyKSxpP2MubGVuZ3RoPjA6Y31xdWVyeShlLHQsbixpLHIpe3JldHVybiB0aGlzLl9xdWVyeShlLHQsbixpLCExLHIpfWhpdFRlc3QoZSx0LG4saSxyKXtyZXR1cm4gdGhpcy5fcXVlcnkoZSx0LG4saSwhMCxyKX1oaXRUZXN0Q2lyY2xlKGUsdCxuLGkpe3JldHVybiB0aGlzLl9xdWVyeUNpcmNsZShlLHQsbiwhMCxpKX1fcXVlcnlDZWxsKGUsdCxuLGkscixvLGEscyl7Y29uc3QgbD1hLnNlZW5VaWRzLGM9dGhpcy5ib3hDZWxsc1tyXTtpZihudWxsIT09Yyl7Y29uc3Qgcj10aGlzLmJib3hlcztmb3IoY29uc3QgdSBvZiBjKWlmKCFsLmJveFt1XSl7bC5ib3hbdV09ITA7Y29uc3QgYz00KnU7aWYoZTw9cltjKzJdJiZ0PD1yW2MrM10mJm4+PXJbYyswXSYmaT49cltjKzFdJiYoIXN8fHModGhpcy5ib3hLZXlzW3VdKSkpe2lmKGEuaGl0VGVzdClyZXR1cm4gby5wdXNoKCEwKSwhMDtvLnB1c2goe2tleTp0aGlzLmJveEtleXNbdV0seDE6cltjXSx5MTpyW2MrMV0seDI6cltjKzJdLHkyOnJbYyszXX0pfX19Y29uc3QgdT10aGlzLmNpcmNsZUNlbGxzW3JdO2lmKG51bGwhPT11KXtjb25zdCByPXRoaXMuY2lyY2xlcztmb3IoY29uc3QgYyBvZiB1KWlmKCFsLmNpcmNsZVtjXSl7bC5jaXJjbGVbY109ITA7Y29uc3QgdT0zKmM7aWYodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUoclt1XSxyW3UrMV0sclt1KzJdLGUsdCxuLGkpJiYoIXN8fHModGhpcy5jaXJjbGVLZXlzW2NdKSkpe2lmKGEuaGl0VGVzdClyZXR1cm4gby5wdXNoKCEwKSwhMDt7Y29uc3QgZT1yW3VdLHQ9clt1KzFdLG49clt1KzJdO28ucHVzaCh7a2V5OnRoaXMuY2lyY2xlS2V5c1tjXSx4MTplLW4seTE6dC1uLHgyOmUrbix5Mjp0K259KX19fX19X3F1ZXJ5Q2VsbENpcmNsZShlLHQsbixpLHIsbyxhLHMpe2NvbnN0IGw9YS5jaXJjbGUsYz1hLnNlZW5VaWRzLHU9dGhpcy5ib3hDZWxsc1tyXTtpZihudWxsIT09dSl7Y29uc3QgZT10aGlzLmJib3hlcztmb3IoY29uc3QgdCBvZiB1KWlmKCFjLmJveFt0XSl7Yy5ib3hbdF09ITA7Y29uc3Qgbj00KnQ7aWYodGhpcy5fY2lyY2xlQW5kUmVjdENvbGxpZGUobC54LGwueSxsLnJhZGl1cyxlW24rMF0sZVtuKzFdLGVbbisyXSxlW24rM10pJiYoIXN8fHModGhpcy5ib3hLZXlzW3RdKSkpcmV0dXJuIG8ucHVzaCghMCksITB9fWNvbnN0IGg9dGhpcy5jaXJjbGVDZWxsc1tyXTtpZihudWxsIT09aCl7Y29uc3QgZT10aGlzLmNpcmNsZXM7Zm9yKGNvbnN0IHQgb2YgaClpZighYy5jaXJjbGVbdF0pe2MuY2lyY2xlW3RdPSEwO2NvbnN0IG49Myp0O2lmKHRoaXMuX2NpcmNsZXNDb2xsaWRlKGVbbl0sZVtuKzFdLGVbbisyXSxsLngsbC55LGwucmFkaXVzKSYmKCFzfHxzKHRoaXMuY2lyY2xlS2V5c1t0XSkpKXJldHVybiBvLnB1c2goITApLCEwfX19X2ZvckVhY2hDZWxsKGUsdCxuLGkscixvLGEscyl7Y29uc3QgbD10aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKGUpLGM9dGhpcy5fY29udmVydFRvWUNlbGxDb29yZCh0KSx1PXRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQobiksaD10aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKGkpO2ZvcihsZXQgZD1sO2Q8PXU7ZCsrKWZvcihsZXQgbD1jO2w8PWg7bCsrKWlmKHIuY2FsbCh0aGlzLGUsdCxuLGksdGhpcy54Q2VsbENvdW50KmwrZCxvLGEscykpcmV0dXJufV9jb252ZXJ0VG9YQ2VsbENvb3JkKGUpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMueENlbGxDb3VudC0xLE1hdGguZmxvb3IoZSp0aGlzLnhTY2FsZSkpKX1fY29udmVydFRvWUNlbGxDb29yZChlKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLnlDZWxsQ291bnQtMSxNYXRoLmZsb29yKGUqdGhpcy55U2NhbGUpKSl9X2NpcmNsZXNDb2xsaWRlKGUsdCxuLGkscixvKXtjb25zdCBhPWktZSxzPXItdCxsPW4rbztyZXR1cm4gbCpsPmEqYStzKnN9X2NpcmNsZUFuZFJlY3RDb2xsaWRlKGUsdCxuLGkscixvLGEpe2NvbnN0IHM9KG8taSkvMixsPU1hdGguYWJzKGUtKGkrcykpO2lmKGw+cytuKXJldHVybiExO2NvbnN0IGM9KGEtcikvMix1PU1hdGguYWJzKHQtKHIrYykpO2lmKHU+YytuKXJldHVybiExO2lmKGw8PXN8fHU8PWMpcmV0dXJuITA7Y29uc3QgaD1sLXMsZD11LWM7cmV0dXJuIGgqaCtkKmQ8PW4qbn19Y29uc3QgZXQ9TWF0aC50YW4oODUqTWF0aC5QSS8xODApO2Z1bmN0aW9uIHR0KHQsbixpLHIsbyxhLHMpe2NvbnN0IGw9ZS5jcmVhdGUoKTtpZihpKWlmKFwiZ2xvYmVcIj09PWEubmFtZSl7Y29uc3QgdD1lLmNhbGN1bGF0ZUdsb2JlTGFiZWxNYXRyaXgobyxuKTtlLm11bHRpcGx5KGwsbCx0KX1lbHNle2NvbnN0IHQ9XyhbXSxzKTtsWzBdPXRbMF0sbFsxXT10WzFdLGxbNF09dFsyXSxsWzVdPXRbM10scnx8ZS5yb3RhdGVaKGwsbCxvLmFuZ2xlKX1lbHNlIGUubXVsdGlwbHkobCxvLmxhYmVsUGxhbmVNYXRyaXgsdCk7cmV0dXJuIGx9ZnVuY3Rpb24gbnQoZSx0LG4saSxyLG8sYSl7Y29uc3Qgcz10dChlLHQsbixpLHIsbyxhKTtyZXR1cm5cImdsb2JlXCI9PT1vLm5hbWUmJm58fChzWzJdPXNbNl09c1sxMF09c1sxNF09MCksc31mdW5jdGlvbiBpdCh0LG4saSxyLG8sYSxzKXtpZihpKXtpZihcImdsb2JlXCI9PT1hLm5hbWUpe2NvbnN0IGw9dHQodCxuLGkscixvLGEscyk7cmV0dXJuIGUuaW52ZXJ0KGwsbCksZS5tdWx0aXBseShsLHQsbCksbH17Y29uc3Qgbj1lLmNsb25lKHQpLGk9ZS5pZGVudGl0eShbXSk7cmV0dXJuIGlbMF09c1swXSxpWzFdPXNbMV0saVs0XT1zWzJdLGlbNV09c1szXSxlLm11bHRpcGx5KG4sbixpKSxyfHxlLnJvdGF0ZVoobixuLC1vLmFuZ2xlKSxufX1yZXR1cm4gby5nbENvb3JkTWF0cml4fWZ1bmN0aW9uIHJ0KHQsbixpLHIpe2NvbnN0IG89W3QsbixpLDFdO2k/ZS50cmFuc2Zvcm1NYXQ0JDEobyxvLHIpOm10KG8sbyxyKTtjb25zdCBhPW9bM107cmV0dXJuIG9bMF0vPWEsb1sxXS89YSxvWzJdLz1hLG99ZnVuY3Rpb24gb3QoZSx0KXtyZXR1cm4gTWF0aC5taW4oLjUrZS90Ki41LDEuNSl9ZnVuY3Rpb24gYXQoZSx0KXtjb25zdCBuPWVbMF0vZVszXSxpPWVbMV0vZVszXTtyZXR1cm4gbj49LXRbMF0mJm48PXRbMF0mJmk+PS10WzFdJiZpPD10WzFdfWZ1bmN0aW9uIHN0KHQsbixpLHIsbyxhLHMsbCxjLHUpe2NvbnN0IGg9aS50cmFuc2Zvcm0sZD1yP3QudGV4dFNpemVEYXRhOnQuaWNvblNpemVEYXRhLHA9ZS5ldmFsdWF0ZVNpemVGb3Jab29tKGQsaS50cmFuc2Zvcm0uem9vbSksZj1cImdsb2JlXCI9PT1oLnByb2plY3Rpb24ubmFtZSxtPVsyNTYvaS53aWR0aCoyKzEsMjU2L2kuaGVpZ2h0KjIrMV0sZz1yP3QudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk6dC5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTtnLmNsZWFyKCk7bGV0IHk9bnVsbDtmJiYoeT1yP3QudGV4dC5nbG9iZUV4dFZlcnRleEFycmF5OnQuaWNvbi5nbG9iZUV4dFZlcnRleEFycmF5KTtjb25zdCBfPXQubGluZVZlcnRleEFycmF5LHY9cj90LnRleHQucGxhY2VkU3ltYm9sQXJyYXk6dC5pY29uLnBsYWNlZFN5bWJvbEFycmF5LHg9aS50cmFuc2Zvcm0ud2lkdGgvaS50cmFuc2Zvcm0uaGVpZ2h0O2xldCBiLHc9ITE7Zm9yKGxldCByPTA7cjx2Lmxlbmd0aDtyKyspe2NvbnN0IGY9di5nZXQocikse251bUdseXBoczpULHdyaXRpbmdNb2RlOkV9PWY7aWYoRSE9PWUuV3JpdGluZ01vZGUudmVydGljYWx8fHd8fGI9PT1lLldyaXRpbmdNb2RlLmhvcml6b250YWx8fCh3PSEwKSxiPUUsKGYuaGlkZGVufHxFPT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbCkmJiF3KXtmdChULGcpO2NvbnRpbnVlfXc9ITE7Y29uc3QgUz1uZXcgZS5wb2ludEdlb21ldHJ5KGYudGlsZUFuY2hvclgsZi50aWxlQW5jaG9yWSk7bGV0e3g6TSx5OkksejpDfT1oLnByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludChTLngsUy55LHUuY2Fub25pY2FsKTtpZihjKXtjb25zdFtlLHQsbl09YyhTKTtNKz1lLEkrPXQsQys9bn1jb25zdCBrPVtNLEksQywxXTtpZihlLnRyYW5zZm9ybU1hdDQkMShrLGssbiksIWF0KGssbSkpe2Z0KFQsZyk7Y29udGludWV9Y29uc3QgQT1vdChpLnRyYW5zZm9ybS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLGtbM10pLFA9ZS5ldmFsdWF0ZVNpemVGb3JGZWF0dXJlKGQscCxmKSx6PXM/UC9BOlAqQSxEPXJ0KE0sSSxDLG8pO2lmKERbM108PTApe2Z0KFQsZyk7Y29udGludWV9bGV0IEw9e307Y29uc3QgTz1zP251bGw6YyxSPXV0KGYseiwhMSxsLG4sbyxhLHQuZ2x5cGhPZmZzZXRBcnJheSxfLGcseSxELFMsTCx4LE8saC5wcm9qZWN0aW9uLHUscyk7dz1SLnVzZVZlcnRpY2FsLE8mJlIubmVlZHNGbGlwcGluZyYmKEw9e30pLChSLm5vdEVub3VnaFJvb218fHd8fFIubmVlZHNGbGlwcGluZyYmdXQoZix6LCEwLGwsbixvLGEsdC5nbHlwaE9mZnNldEFycmF5LF8sZyx5LEQsUyxMLHgsTyxoLnByb2plY3Rpb24sdSxzKS5ub3RFbm91Z2hSb29tKSYmZnQoVCxnKX1yPyh0LnRleHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGcpLHkmJnQudGV4dC5nbG9iZUV4dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHkpKToodC5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShnKSx5JiZ0Lmljb24uZ2xvYmVFeHRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh5KSl9ZnVuY3Rpb24gbHQoZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSl7Y29uc3R7bGluZVN0YXJ0SW5kZXg6ZyxnbHlwaFN0YXJ0SW5kZXg6eSxzZWdtZW50Ol99PXMsdj15K3MubnVtR2x5cGhzLHg9ZytzLmxpbmVMZW5ndGgsYj10LmdldG9mZnNldFgoeSksdz10LmdldG9mZnNldFgodi0xKSxUPXB0KGUqYixuLGkscixvLGEsXyxnLHgsbCxjLHUsaCxkLCEwLHAsZixtKTtpZighVClyZXR1cm4gbnVsbDtjb25zdCBFPXB0KGUqdyxuLGkscixvLGEsXyxnLHgsbCxjLHUsaCxkLCEwLHAsZixtKTtyZXR1cm4gRT97Zmlyc3Q6VCxsYXN0OkV9Om51bGx9ZnVuY3Rpb24gY3QodCxuLGkscil7cmV0dXJuIHQ9PT1lLldyaXRpbmdNb2RlLmhvcml6b250YWwmJk1hdGguYWJzKHIpPk1hdGguYWJzKGkpP3t1c2VWZXJ0aWNhbDohMH06dD09PWUuV3JpdGluZ01vZGUudmVydGljYWw/cj4wP3tuZWVkc0ZsaXBwaW5nOiEwfTpudWxsOjAhPT1uJiZmdW5jdGlvbihlLHQpe3JldHVybiAwPT09ZXx8TWF0aC5hYnModC9lKT5ldH0oaSxyKT8xPT09bj97bmVlZHNGbGlwcGluZzohMH06bnVsbDppPDA/e25lZWRzRmxpcHBpbmc6ITB9Om51bGx9ZnVuY3Rpb24gdXQodCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmLG0sZyx5LF8sdil7Y29uc3QgeD1uLzI0LGI9dC5saW5lT2Zmc2V0WCp4LHc9dC5saW5lT2Zmc2V0WSp4LHtsaW5lU3RhcnRJbmRleDpULGdseXBoU3RhcnRJbmRleDpFLG51bUdseXBoczpTLHNlZ21lbnQ6TSx3cml0aW5nTW9kZTpJLGZsaXBTdGF0ZTpDfT10LGs9VCt0LmxpbmVMZW5ndGgsQT10PT57aWYoaCl7Y29uc3RbbixpLHJdPXQudXAsbz11Lmxlbmd0aDtlLnVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsKGgsbyswLG4saSxyKSxlLnVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsKGgsbysxLG4saSxyKSxlLnVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsKGgsbysyLG4saSxyKSxlLnVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsKGgsbyszLG4saSxyKX1jb25zdFtuLGkscl09dC5wb2ludDtlLmFkZER5bmFtaWNBdHRyaWJ1dGVzKHUsbixpLHIsdC5hbmdsZSl9O2lmKFM+MSl7Y29uc3QgZT1sdCh4LGwsYix3LGksZCxwLHQsYyxhLGYsZywhMSx5LF8sdik7aWYoIWUpcmV0dXJue25vdEVub3VnaFJvb206ITB9O2lmKHImJiFpKXtsZXRbbixpLHJdPWUuZmlyc3QucG9pbnQsW28sYSxsXT1lLmxhc3QucG9pbnQ7W24saV09cnQobixpLHIscyksW28sYV09cnQobyxhLGwscyk7Y29uc3QgYz1jdChJLEMsKG8tbikqbSxhLWkpO2lmKHQuZmxpcFN0YXRlPWMmJmMubmVlZHNGbGlwcGluZz8xOjIsYylyZXR1cm4gY31BKGUuZmlyc3QpO2ZvcihsZXQgZT1FKzE7ZTxFK1MtMTtlKyspe2NvbnN0IHQ9cHQoeCpsLmdldG9mZnNldFgoZSksYix3LGksZCxwLE0sVCxrLGMsYSxmLGcsITEsITEseSxfLHYpO2lmKCF0KXJldHVybiB1Lmxlbmd0aC09NCooZS1FKSx7bm90RW5vdWdoUm9vbTohMH07QSh0KX1BKGUubGFzdCl9ZWxzZXtpZihyJiYhaSl7Y29uc3Qgbj1ydChwLngscC55LDAsbyksaT1UK00rMSxyPW5ldyBlLnBvaW50R2VvbWV0cnkoYy5nZXR4KGkpLGMuZ2V0eShpKSksYT1ydChyLngsci55LDAsbykscz1hWzNdPjA/YTpkdChwLHIsbiwxLG8sdm9pZCAwLHksXy5jYW5vbmljYWwpLGw9Y3QoSSxDLChzWzBdLW5bMF0pKm0sc1sxXS1uWzFdKTtpZih0LmZsaXBTdGF0ZT1sJiZsLm5lZWRzRmxpcHBpbmc/MToyLGwpcmV0dXJuIGx9Y29uc3Qgbj1wdCh4KmwuZ2V0b2Zmc2V0WChFKSxiLHcsaSxkLHAsTSxULGssYyxhLGYsZywhMSwhMSx5LF8sdik7aWYoIW4pcmV0dXJue25vdEVub3VnaFJvb206ITB9O0Eobil9cmV0dXJue319ZnVuY3Rpb24gaHQoZSx0LG4saSxyKXtjb25zdHt4Om8seTphLHo6c309aS5wcm9qZWN0VGlsZVBvaW50KGUueCxlLnksdCk7aWYoIXIpcmV0dXJuIHJ0KG8sYSxzLG4pO2NvbnN0W2wsYyx1XT1yKGUpO3JldHVybiBydChvK2wsYStjLHMrdSxuKX1mdW5jdGlvbiBkdCh0LG4saSxyLG8sYSxzLGwpe2NvbnN0IGM9aHQodC5zdWIobikuX3VuaXQoKS5fYWRkKHQpLGwsbyxzLGEpO3JldHVybiBlLnN1YihjLGksYyksZS5ub3JtYWxpemUoYyxjKSxlLnNjYWxlQW5kQWRkKGMsaSxjLHIpfWZ1bmN0aW9uIHB0KHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcseSxfKXtjb25zdCB2PXI/dC1uOnQrbjtsZXQgeD12PjA/MTotMSxiPTA7ciYmKHgqPS0xLGI9TWF0aC5QSSkseDwwJiYoYis9TWF0aC5QSSk7bGV0IHc9bCtzKyh4PjA/MDoxKXwwLFQ9byxFPW8sUz0wLE09MDtjb25zdCBJPU1hdGguYWJzKHYpLEM9W10saz1bXTtsZXQgQT1hLFA9QTtjb25zdCB6PSgpPT5kdChQLEEsRSxJLVMrMSxoLHAsZyx5LmNhbm9uaWNhbCk7Zm9yKDtTK008PUk7KXtpZih3Kz14LHc8bHx8dz49YylyZXR1cm4gbnVsbDtpZihFPVQsUD1BLEMucHVzaChFKSxmJiZrLnB1c2goUCksQT1uZXcgZS5wb2ludEdlb21ldHJ5KHUuZ2V0eCh3KSx1LmdldHkodykpLFQ9ZFt3XSwhVCl7Y29uc3QgZT1odChBLHkuY2Fub25pY2FsLGgsZyxwKTtUPWVbM10+MD9kW3ddPWU6eigpfVMrPU0sTT1lLmRpc3RhbmNlKEUsVCl9bSYmcCYmKGRbd10mJihUPXooKSxNPWUuZGlzdGFuY2UoRSxUKSksZFt3XT1UKTtjb25zdCBEPShJLVMpL00sTD1BLnN1YihQKS5fbXVsdChEKS5fYWRkKFApLE89ZS5zdWIoW10sVCxFKSxSPWUuc2NhbGVBbmRBZGQoW10sRSxPLEQpO2xldCBCPVswLDAsMV0saj1PWzBdLEY9T1sxXTtpZihfJiYoQj1nLnVwVmVjdG9yKHkuY2Fub25pY2FsLEwueCxMLnkpLDAhPT1CWzBdfHwwIT09QlsxXXx8MSE9PUJbMl0pKXtjb25zdCB0PVtCWzJdLDAsLUJbMF1dLG49ZS5jcm9zcyhbXSxCLHQpO2Uubm9ybWFsaXplKHQsdCksZS5ub3JtYWxpemUobixuKSxqPWUuZG90KE8sdCksRj1lLmRvdChPLG4pfWlmKGkpe2NvbnN0IHQ9ZS5jcm9zcyhbXSxCLE8pO2Uubm9ybWFsaXplKHQsdCksZS5zY2FsZUFuZEFkZChSLFIsdCxpKngpfWNvbnN0IE49YitNYXRoLmF0YW4yKEYsaik7cmV0dXJuIEMucHVzaChSKSxmJiZrLnB1c2goTCkse3BvaW50OlIsYW5nbGU6TixwYXRoOkMsdGlsZVBhdGg6ayx1cDpCfX1mdW5jdGlvbiBmdChlLHQpe2NvbnN0IG49dC5sZW5ndGgsaT1uKzQqZTt0LnJlc2l6ZShpKSx0LmZsb2F0MzIuZmlsbCgtMS8wLDQqbiw0KmkpfWZ1bmN0aW9uIG10KGUsdCxuKXtjb25zdCBpPXRbMF0scj10WzFdO3JldHVybiBlWzBdPW5bMF0qaStuWzRdKnIrblsxMl0sZVsxXT1uWzFdKmkrbls1XSpyK25bMTNdLGVbM109blszXSppK25bN10qcituWzE1XSxlfWNvbnN0IGd0PTEwMDtjbGFzcyB5dHtjb25zdHJ1Y3RvcihlLHQsbj1uZXcgS2UoZS53aWR0aCsyMDAsZS5oZWlnaHQrMjAwLDI1KSxpPW5ldyBLZShlLndpZHRoKzIwMCxlLmhlaWdodCsyMDAsMjUpKXt0aGlzLnRyYW5zZm9ybT1lLHRoaXMuZ3JpZD1uLHRoaXMuaWdub3JlZEdyaWQ9aSx0aGlzLnBpdGNoZmFjdG9yPU1hdGguY29zKGUuX3BpdGNoKSplLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsdGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5PWUud2lkdGgrZ3QsdGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeT1lLmhlaWdodCtndCx0aGlzLmdyaWRSaWdodEJvdW5kYXJ5PWUud2lkdGgrMjAwLHRoaXMuZ3JpZEJvdHRvbUJvdW5kYXJ5PWUuaGVpZ2h0KzIwMCx0aGlzLmZvZ1N0YXRlPXR9cGxhY2VDb2xsaXNpb25Cb3goZSx0LG4saSxyLG8sYSxzKXtsZXQgbD1uLnByb2plY3RlZEFuY2hvclgsYz1uLnByb2plY3RlZEFuY2hvclksdT1uLnByb2plY3RlZEFuY2hvclo7Y29uc3QgaD1uLmVsZXZhdGlvbixkPW4udGlsZUlELHA9ZS5nZXRQcm9qZWN0aW9uKCk7aWYoaCYmZCl7Y29uc3RbZSx0LGldPXAudXBWZWN0b3IoZC5jYW5vbmljYWwsbi50aWxlQW5jaG9yWCxuLnRpbGVBbmNob3JZKSxyPXAudXBWZWN0b3JTY2FsZShkLmNhbm9uaWNhbCx0aGlzLnRyYW5zZm9ybS5jZW50ZXIubGF0LHRoaXMudHJhbnNmb3JtLndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlO2wrPWUqaCpyLGMrPXQqaCpyLHUrPWkqaCpyfWNvbnN0IGY9dGhpcy5wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhhLGwsYyx1LG4udGlsZUlELFwiZ2xvYmVcIj09PXAubmFtZXx8ISFofHx0aGlzLnRyYW5zZm9ybS5waXRjaD4wLHApLG09bypmLnBlcnNwZWN0aXZlUmF0aW8sZz0obi54MSp0K2kueC1uLnBhZGRpbmcpKm0rZi5wb2ludC54LHk9KG4ueTEqdCtpLnktbi5wYWRkaW5nKSptK2YucG9pbnQueSxfPShuLngyKnQraS54K24ucGFkZGluZykqbStmLnBvaW50Lngsdj0obi55Mip0K2kueStuLnBhZGRpbmcpKm0rZi5wb2ludC55LHg9Zi5wZXJzcGVjdGl2ZVJhdGlvPD0uNTV8fGYub2NjbHVkZWQ7cmV0dXJuIXRoaXMuaXNJbnNpZGVHcmlkKGcseSxfLHYpfHwhciYmdGhpcy5ncmlkLmhpdFRlc3QoZyx5LF8sdixzKXx8eD97Ym94OltdLG9mZnNjcmVlbjohMSxvY2NsdWRlZDpmLm9jY2x1ZGVkfTp7Ym94OltnLHksXyx2XSxvZmZzY3JlZW46dGhpcy5pc09mZnNjcmVlbihnLHksXyx2KSxvY2NsdWRlZDohMX19cGxhY2VDb2xsaXNpb25DaXJjbGVzKHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkLHAsZixtKXtjb25zdCBnPVtdLHk9dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uLF89dC5nZXRQcm9qZWN0aW9uKCksdj15P3kuZ2V0QXRUaWxlT2Zmc2V0RnVuYyhtLHRoaXMudHJhbnNmb3JtLmNlbnRlci5sYXQsdGhpcy50cmFuc2Zvcm0ud29ybGRTaXplLF8pOm51bGwseD1uZXcgZS5wb2ludEdlb21ldHJ5KGkudGlsZUFuY2hvclgsaS50aWxlQW5jaG9yWSk7bGV0e3g6Yix5OncsejpUfT1fLnByb2plY3RUaWxlUG9pbnQoeC54LHgueSxtLmNhbm9uaWNhbCk7aWYodil7Y29uc3RbZSx0LG5dPXYoeCk7Yis9ZSx3Kz10LFQrPW59Y29uc3QgRT1cImdsb2JlXCI9PT1fLm5hbWUsUz10aGlzLnByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvKHMsYix3LFQsbSxFfHwhIXl8fHRoaXMudHJhbnNmb3JtLnBpdGNoPjAsXykse3BlcnNwZWN0aXZlUmF0aW86TX09UyxJPShoP2EvTTphKk0pL2UuT05FX0VNLEM9cnQoYix3LFQsbCksaz1TLnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYT4wP2x0KEksbyxpLmxpbmVPZmZzZXRYKkksaS5saW5lT2Zmc2V0WSpJLCExLEMseCxpLHIsbCx7fSx5JiYhaD92Om51bGwsaCYmISF5LF8sbSxoKTpudWxsO2xldCBBPSExLFA9ITEsej0hMDtpZihrJiYhUy5vY2NsdWRlZCl7Y29uc3QgdD0uNSpwKk0rZixpPW5ldyBlLnBvaW50R2VvbWV0cnkoLTEwMCwtMTAwKSxyPW5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5LHRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnkpLG89bmV3IFFlLHtmaXJzdDphLGxhc3Q6c309ayxsPWEucGF0aC5sZW5ndGg7bGV0IGg9W107Zm9yKGxldCBlPWwtMTtlPj0xO2UtLSloLnB1c2goYS5wYXRoW2VdKTtmb3IobGV0IGU9MTtlPHMucGF0aC5sZW5ndGg7ZSsrKWgucHVzaChzLnBhdGhbZV0pO2NvbnN0IG09Mi41KnQ7YyYmKGg9aC5tYXAoKFtlLHQsbl0saSk9Pih2JiYhRSYmKG49dihpPGwtMT9hLnRpbGVQYXRoW2wtMS1pXTpzLnRpbGVQYXRoW2ktbCsyXSlbMl0pLHJ0KGUsdCxuLGMpKSksaC5zb21lKGU9PmVbM108PTApJiYoaD1bXSkpO2xldCB5PVtdO2lmKGgubGVuZ3RoPjApe2xldCB0PTEvMCxuPS0xLzAsbz0xLzAsYT0tMS8wO2Zvcihjb25zdCBlIG9mIGgpdD1NYXRoLm1pbih0LGVbMF0pLG89TWF0aC5taW4obyxlWzFdKSxuPU1hdGgubWF4KG4sZVswXSksYT1NYXRoLm1heChhLGVbMV0pO24+PWkueCYmdDw9ci54JiZhPj1pLnkmJm88PXIueSYmKHk9W2gubWFwKHQ9Pm5ldyBlLnBvaW50R2VvbWV0cnkodFswXSx0WzFdKSldLCh0PGkueHx8bj5yLnh8fG88aS55fHxhPnIueSkmJih5PWUuY2xpcExpbmUoeSxpLngsaS55LHIueCxyLnkpKSl9Zm9yKGNvbnN0IGUgb2YgeSl7by5yZXNldChlLC4yNSp0KTtsZXQgaT0wO2k9by5sZW5ndGg8PS41KnQ/MTpNYXRoLmNlaWwoby5wYWRkZWRMZW5ndGgvbSkrMTtmb3IobGV0IGU9MDtlPGk7ZSsrKXtjb25zdCByPWUvTWF0aC5tYXgoaS0xLDEpLGE9by5sZXJwKHIpLHM9YS54K2d0LGw9YS55K2d0O2cucHVzaChzLGwsdCwwKTtjb25zdCBjPXMtdCxoPWwtdCxwPXMrdCxmPWwrdDtpZih6PXomJnRoaXMuaXNPZmZzY3JlZW4oYyxoLHAsZiksUD1QfHx0aGlzLmlzSW5zaWRlR3JpZChjLGgscCxmKSwhbiYmdGhpcy5ncmlkLmhpdFRlc3RDaXJjbGUocyxsLHQsZCkmJihBPSEwLCF1KSlyZXR1cm57Y2lyY2xlczpbXSxvZmZzY3JlZW46ITEsY29sbGlzaW9uRGV0ZWN0ZWQ6QSxvY2NsdWRlZDohMX19fX1yZXR1cm57Y2lyY2xlczohdSYmQXx8IVA/W106ZyxvZmZzY3JlZW46eixjb2xsaXNpb25EZXRlY3RlZDpBLG9jY2x1ZGVkOlMub2NjbHVkZWR9fXF1ZXJ5UmVuZGVyZWRTeW1ib2xzKHQpe2lmKDA9PT10Lmxlbmd0aHx8MD09PXRoaXMuZ3JpZC5rZXlzTGVuZ3RoKCkmJjA9PT10aGlzLmlnbm9yZWRHcmlkLmtleXNMZW5ndGgoKSlyZXR1cm57fTtjb25zdCBuPVtdO2xldCBpPTEvMCxyPTEvMCxvPS0xLzAsYT0tMS8wO2Zvcihjb25zdCBzIG9mIHQpe2NvbnN0IHQ9bmV3IGUucG9pbnRHZW9tZXRyeShzLngrZ3Qscy55K2d0KTtpPU1hdGgubWluKGksdC54KSxyPU1hdGgubWluKHIsdC55KSxvPU1hdGgubWF4KG8sdC54KSxhPU1hdGgubWF4KGEsdC55KSxuLnB1c2godCl9Y29uc3Qgcz10aGlzLmdyaWQucXVlcnkoaSxyLG8sYSkuY29uY2F0KHRoaXMuaWdub3JlZEdyaWQucXVlcnkoaSxyLG8sYSkpLGw9e30sYz17fTtmb3IoY29uc3QgdCBvZiBzKXtjb25zdCBpPXQua2V5O2lmKHZvaWQgMD09PWxbaS5idWNrZXRJbnN0YW5jZUlkXSYmKGxbaS5idWNrZXRJbnN0YW5jZUlkXT17fSksbFtpLmJ1Y2tldEluc3RhbmNlSWRdW2kuZmVhdHVyZUluZGV4XSljb250aW51ZTtjb25zdCByPVtuZXcgZS5wb2ludEdlb21ldHJ5KHQueDEsdC55MSksbmV3IGUucG9pbnRHZW9tZXRyeSh0LngyLHQueTEpLG5ldyBlLnBvaW50R2VvbWV0cnkodC54Mix0LnkyKSxuZXcgZS5wb2ludEdlb21ldHJ5KHQueDEsdC55MildO2UucG9seWdvbkludGVyc2VjdHNQb2x5Z29uKG4scikmJihsW2kuYnVja2V0SW5zdGFuY2VJZF1baS5mZWF0dXJlSW5kZXhdPSEwLHZvaWQgMD09PWNbaS5idWNrZXRJbnN0YW5jZUlkXSYmKGNbaS5idWNrZXRJbnN0YW5jZUlkXT1bXSksY1tpLmJ1Y2tldEluc3RhbmNlSWRdLnB1c2goaS5mZWF0dXJlSW5kZXgpKX1yZXR1cm4gY31pbnNlcnRDb2xsaXNpb25Cb3goZSx0LG4saSxyKXsodD90aGlzLmlnbm9yZWRHcmlkOnRoaXMuZ3JpZCkuaW5zZXJ0KHtidWNrZXRJbnN0YW5jZUlkOm4sZmVhdHVyZUluZGV4OmksY29sbGlzaW9uR3JvdXBJRDpyfSxlWzBdLGVbMV0sZVsyXSxlWzNdKX1pbnNlcnRDb2xsaXNpb25DaXJjbGVzKGUsdCxuLGkscil7Y29uc3Qgbz10P3RoaXMuaWdub3JlZEdyaWQ6dGhpcy5ncmlkLGE9e2J1Y2tldEluc3RhbmNlSWQ6bixmZWF0dXJlSW5kZXg6aSxjb2xsaXNpb25Hcm91cElEOnJ9O2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9NClvLmluc2VydENpcmNsZShhLGVbdF0sZVt0KzFdLGVbdCsyXSl9cHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8odCxuLGkscixvLGEscyl7Y29uc3QgbD1bbixpLHIsMV07bGV0IGM9ITE7aWYocnx8dGhpcy50cmFuc2Zvcm0ucGl0Y2g+MCl7ZS50cmFuc2Zvcm1NYXQ0JDEobCxsLHQpO2NvbnN0IGE9XCJnbG9iZVwiPT09cy5uYW1lO2lmKHRoaXMuZm9nU3RhdGUmJm8mJiFhKXtjPWZ1bmN0aW9uKHQsbixpLHIsbyxhKXtjb25zdCBzPWEuY2FsY3VsYXRlRm9nVGlsZU1hdHJpeChvKSxsPVtuLGkscl07cmV0dXJuIGUudHJhbnNmb3JtTWF0NChsLGwscyksSSh0LGwsYS5waXRjaCxhLl9mb3YpfSh0aGlzLmZvZ1N0YXRlLG4saSxyLG8udG9VbndyYXBwZWQoKSx0aGlzLnRyYW5zZm9ybSk+Ljl9fWVsc2UgbXQobCxsLHQpO2NvbnN0IHU9bFszXTtyZXR1cm57cG9pbnQ6bmV3IGUucG9pbnRHZW9tZXRyeSgobFswXS91KzEpLzIqdGhpcy50cmFuc2Zvcm0ud2lkdGgrZ3QsKC1sWzFdL3UrMSkvMip0aGlzLnRyYW5zZm9ybS5oZWlnaHQrZ3QpLHBlcnNwZWN0aXZlUmF0aW86TWF0aC5taW4oLjUrdGhpcy50cmFuc2Zvcm0uZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShzKS91Ki41LDEuNSksc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhOnUsb2NjbHVkZWQ6YSYmbFsyXT51fHxjfX1pc09mZnNjcmVlbihlLHQsbixpKXtyZXR1cm4gbjxndHx8ZT49dGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5fHxpPGd0fHx0PnRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnl9aXNJbnNpZGVHcmlkKGUsdCxuLGkpe3JldHVybiBuPj0wJiZlPHRoaXMuZ3JpZFJpZ2h0Qm91bmRhcnkmJmk+PTAmJnQ8dGhpcy5ncmlkQm90dG9tQm91bmRhcnl9Z2V0Vmlld3BvcnRNYXRyaXgoKXtjb25zdCB0PWUuaWRlbnRpdHkoW10pO3JldHVybiBlLnRyYW5zbGF0ZSh0LHQsWy0xMDAsLTEwMCwwXSksdH19ZnVuY3Rpb24gX3QodCxuLGkpe2NvbnN0IHI9bi5jcmVhdGVUaWxlTWF0cml4KHQsdC53b3JsZFNpemUsaS50b1Vud3JhcHBlZCgpKTtyZXR1cm4gZS5tdWx0aXBseShuZXcgRmxvYXQzMkFycmF5KDE2KSx0LnByb2pNYXRyaXgscil9ZnVuY3Rpb24gdnQoZSx0LG4pe2lmKHQucHJvamVjdGlvbi5uYW1lPT09bi5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuIGUucHJvak1hdHJpeDtjb25zdCBpPW4uY2xvbmUoKTtyZXR1cm4gaS5zZXRQcm9qZWN0aW9uKHQucHJvamVjdGlvbiksX3QoaSx0LmdldFByb2plY3Rpb24oKSxlKX1mdW5jdGlvbiB4dChlLHQsbil7cmV0dXJuIHQubmFtZT09PW4ucHJvamVjdGlvbi5uYW1lP2UucHJvak1hdHJpeDpfdChuLHQsZSl9Y2xhc3MgYnR7Y29uc3RydWN0b3IoZSx0LG4saSl7dGhpcy5vcGFjaXR5PWU/TWF0aC5tYXgoMCxNYXRoLm1pbigxLGUub3BhY2l0eSsoZS5wbGFjZWQ/dDotdCkpKTppJiZuPzE6MCx0aGlzLnBsYWNlZD1ufWlzSGlkZGVuKCl7cmV0dXJuIDA9PT10aGlzLm9wYWNpdHkmJiF0aGlzLnBsYWNlZH19Y2xhc3Mgd3R7Y29uc3RydWN0b3IoZSx0LG4saSxyLG89ITEpe3RoaXMudGV4dD1uZXcgYnQoZT9lLnRleHQ6bnVsbCx0LG4sciksdGhpcy5pY29uPW5ldyBidChlP2UuaWNvbjpudWxsLHQsaSxyKSx0aGlzLmNsaXBwZWQ9b31pc0hpZGRlbigpe3JldHVybiB0aGlzLnRleHQuaXNIaWRkZW4oKSYmdGhpcy5pY29uLmlzSGlkZGVuKCl9fWNsYXNzIFR0e2NvbnN0cnVjdG9yKGUsdCxuLGk9ITEpe3RoaXMudGV4dD1lLHRoaXMuaWNvbj10LHRoaXMuc2tpcEZhZGU9bix0aGlzLmNsaXBwZWQ9aX19Y2xhc3MgRXR7Y29uc3RydWN0b3IoKXt0aGlzLmludlByb2pNYXRyaXg9ZS5jcmVhdGUoKSx0aGlzLnZpZXdwb3J0TWF0cml4PWUuY3JlYXRlKCksdGhpcy5jaXJjbGVzPVtdfX1jbGFzcyBTdHtjb25zdHJ1Y3RvcihlLHQsbixpLHIpe3RoaXMuYnVja2V0SW5zdGFuY2VJZD1lLHRoaXMuZmVhdHVyZUluZGV4PXQsdGhpcy5zb3VyY2VMYXllckluZGV4PW4sdGhpcy5idWNrZXRJbmRleD1pLHRoaXMudGlsZUlEPXJ9fWNsYXNzIE10e2NvbnN0cnVjdG9yKGUpe3RoaXMuY3Jvc3NTb3VyY2VDb2xsaXNpb25zPWUsdGhpcy5tYXhHcm91cElEPTAsdGhpcy5jb2xsaXNpb25Hcm91cHM9e319Z2V0KGUpe2lmKHRoaXMuY3Jvc3NTb3VyY2VDb2xsaXNpb25zKXJldHVybntJRDowLHByZWRpY2F0ZTpudWxsfTtpZighdGhpcy5jb2xsaXNpb25Hcm91cHNbZV0pe2NvbnN0IHQ9Kyt0aGlzLm1heEdyb3VwSUQ7dGhpcy5jb2xsaXNpb25Hcm91cHNbZV09e0lEOnQscHJlZGljYXRlOmU9PmUuY29sbGlzaW9uR3JvdXBJRD09PXR9fXJldHVybiB0aGlzLmNvbGxpc2lvbkdyb3Vwc1tlXX19ZnVuY3Rpb24gSXQodCxuLGkscixvKXtjb25zdHtob3Jpem9udGFsQWxpZ246YSx2ZXJ0aWNhbEFsaWduOnN9PWUuZ2V0QW5jaG9yQWxpZ25tZW50KHQpLGw9LShhLS41KSpuLGM9LShzLS41KSppLHU9ZS5ldmFsdWF0ZVZhcmlhYmxlT2Zmc2V0KHQscik7cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkobCt1WzBdKm8sYyt1WzFdKm8pfWZ1bmN0aW9uIEN0KHQsbixpLHIsbyl7Y29uc3QgYT1uZXcgZS5wb2ludEdlb21ldHJ5KHQsbik7cmV0dXJuIGkmJmEuX3JvdGF0ZShyP286LW8pLGF9Y2xhc3Mga3R7Y29uc3RydWN0b3IoZSx0LG4saSxyKXt0aGlzLnRyYW5zZm9ybT1lLmNsb25lKCksdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbi5uYW1lLHRoaXMuY29sbGlzaW9uSW5kZXg9bmV3IHl0KHRoaXMudHJhbnNmb3JtLHIpLHRoaXMucGxhY2VtZW50cz17fSx0aGlzLm9wYWNpdGllcz17fSx0aGlzLnZhcmlhYmxlT2Zmc2V0cz17fSx0aGlzLnN0YWxlPSExLHRoaXMuY29tbWl0VGltZT0wLHRoaXMuZmFkZUR1cmF0aW9uPXQsdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YT17fSx0aGlzLmNvbGxpc2lvbkdyb3Vwcz1uZXcgTXQobiksdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXM9e30sdGhpcy5wcmV2UGxhY2VtZW50PWksaSYmKGkucHJldlBsYWNlbWVudD12b2lkIDApLHRoaXMucGxhY2VkT3JpZW50YXRpb25zPXt9fWdldEJ1Y2tldFBhcnRzKHQsbixpLHIpe2NvbnN0IG89aS5nZXRCdWNrZXQobiksYT1pLmxhdGVzdEZlYXR1cmVJbmRleDtpZighb3x8IWF8fG4uaWQhPT1vLmxheWVySWRzWzBdKXJldHVybjtjb25zdCBzPW8ubGF5ZXJzWzBdLmxheW91dCxsPWkuY29sbGlzaW9uQm94QXJyYXksYz1NYXRoLnBvdygyLHRoaXMudHJhbnNmb3JtLnpvb20taS50aWxlSUQub3ZlcnNjYWxlZFopLHU9aS50aWxlU2l6ZS9lLkVYVEVOVCxoPWkudGlsZUlELnRvVW53cmFwcGVkKCk7dGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihvLnByb2plY3Rpb24pO2NvbnN0IGQ9KHA9aS50aWxlSUQsZj1vLmdldFByb2plY3Rpb24oKSxtPXRoaXMudHJhbnNmb3JtLGYubmFtZT09PXRoaXMucHJvamVjdGlvbj9tLmNhbGN1bGF0ZVByb2pNYXRyaXgocC50b1Vud3JhcHBlZCgpKTpfdChtLGYscCkpO3ZhciBwLGYsbTtjb25zdCBnPVwibWFwXCI9PT1zLmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLHk9XCJtYXBcIj09PXMuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIik7bi5jb21waWxlRmlsdGVyKCk7Y29uc3QgXz1uLmR5bmFtaWNGaWx0ZXIoKSx2PW4uZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZSgpLHg9dGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgoaSksYj1udChkLGkudGlsZUlELmNhbm9uaWNhbCxnLHksdGhpcy50cmFuc2Zvcm0sby5nZXRQcm9qZWN0aW9uKCkseCk7bGV0IHc9bnVsbDtpZihnKXtjb25zdCB0PWl0KGQsaS50aWxlSUQuY2Fub25pY2FsLGcseSx0aGlzLnRyYW5zZm9ybSxvLmdldFByb2plY3Rpb24oKSx4KTt3PWUubXVsdGlwbHkoW10sdGhpcy50cmFuc2Zvcm0ubGFiZWxQbGFuZU1hdHJpeCx0KX1sZXQgVD1udWxsO18mJmkubGF0ZXN0RmVhdHVyZUluZGV4JiYoVD17dW53cmFwcGVkVGlsZUlEOmgsZHluYW1pY0ZpbHRlcjpfLGR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmU6dixmZWF0dXJlSW5kZXg6aS5sYXRlc3RGZWF0dXJlSW5kZXh9KSx0aGlzLnJldGFpbmVkUXVlcnlEYXRhW28uYnVja2V0SW5zdGFuY2VJZF09bmV3IFN0KG8uYnVja2V0SW5zdGFuY2VJZCxhLG8uc291cmNlTGF5ZXJJbmRleCxvLmluZGV4LGkudGlsZUlEKTtjb25zdCBFPXtidWNrZXQ6byxsYXlvdXQ6cyxwb3NNYXRyaXg6ZCx0ZXh0TGFiZWxQbGFuZU1hdHJpeDpiLGxhYmVsVG9TY3JlZW5NYXRyaXg6dyxjbGlwcGluZ0RhdGE6VCxzY2FsZTpjLHRleHRQaXhlbFJhdGlvOnUsaG9sZGluZ0ZvckZhZGU6aS5ob2xkaW5nRm9yRmFkZSgpLGNvbGxpc2lvbkJveEFycmF5OmwscGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemU6ZS5ldmFsdWF0ZVNpemVGb3Jab29tKG8udGV4dFNpemVEYXRhLHRoaXMudHJhbnNmb3JtLnpvb20pLHBhcnRpYWxseUV2YWx1YXRlZEljb25TaXplOmUuZXZhbHVhdGVTaXplRm9yWm9vbShvLmljb25TaXplRGF0YSx0aGlzLnRyYW5zZm9ybS56b29tKSxjb2xsaXNpb25Hcm91cDp0aGlzLmNvbGxpc2lvbkdyb3Vwcy5nZXQoby5zb3VyY2VJRCl9O2lmKHIpZm9yKGNvbnN0IGUgb2Ygby5zb3J0S2V5UmFuZ2VzKXtjb25zdHtzb3J0S2V5Om4sc3ltYm9sSW5zdGFuY2VTdGFydDppLHN5bWJvbEluc3RhbmNlRW5kOnJ9PWU7dC5wdXNoKHtzb3J0S2V5Om4sc3ltYm9sSW5zdGFuY2VTdGFydDppLHN5bWJvbEluc3RhbmNlRW5kOnIscGFyYW1ldGVyczpFfSl9ZWxzZSB0LnB1c2goe3N5bWJvbEluc3RhbmNlU3RhcnQ6MCxzeW1ib2xJbnN0YW5jZUVuZDpvLnN5bWJvbEluc3RhbmNlcy5sZW5ndGgscGFyYW1ldGVyczpFfSl9YXR0ZW1wdEFuY2hvclBsYWNlbWVudChlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcseSl7Y29uc3R7dGV4dE9mZnNldDA6Xyx0ZXh0T2Zmc2V0MTp2LGNyb3NzVGlsZUlEOnh9PWgsYj1bXyx2XSx3PUl0KGUsbixpLGIsciksVD10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KHAscix0LEN0KHcueCx3LnksbyxhLHRoaXMudHJhbnNmb3JtLmFuZ2xlKSx1LHMsbCxjLnByZWRpY2F0ZSk7aWYobSl7Y29uc3QgZT1wLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUoeSx0aGlzLnRyYW5zZm9ybS56b29tLGgucGxhY2VkSWNvblN5bWJvbEluZGV4KTtpZigwPT09dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChwLGUsbSxDdCh3Lngsdy55LG8sYSx0aGlzLnRyYW5zZm9ybS5hbmdsZSksdSxzLGwsYy5wcmVkaWNhdGUpLmJveC5sZW5ndGgpcmV0dXJufWlmKFQuYm94Lmxlbmd0aD4wKXtsZXQgdDtyZXR1cm4gdGhpcy5wcmV2UGxhY2VtZW50JiZ0aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW3hdJiZ0aGlzLnByZXZQbGFjZW1lbnQucGxhY2VtZW50c1t4XSYmdGhpcy5wcmV2UGxhY2VtZW50LnBsYWNlbWVudHNbeF0udGV4dCYmKHQ9dGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1t4XS5hbmNob3IpLHRoaXMudmFyaWFibGVPZmZzZXRzW3hdPXt0ZXh0T2Zmc2V0OmIsd2lkdGg6bixoZWlnaHQ6aSxhbmNob3I6ZSx0ZXh0U2NhbGU6cixwcmV2QW5jaG9yOnR9LHRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKHAsZSxoLGYpLHAuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmKHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihwLGYsaCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbeF09Zikse3NoaWZ0OncscGxhY2VkR2x5cGhCb3hlczpUfX19cGxhY2VMYXllckJ1Y2tldFBhcnQodCxuLGkscil7Y29uc3R7YnVja2V0Om8sbGF5b3V0OmEscG9zTWF0cml4OnMsdGV4dExhYmVsUGxhbmVNYXRyaXg6bCxsYWJlbFRvU2NyZWVuTWF0cml4OmMsY2xpcHBpbmdEYXRhOnUsdGV4dFBpeGVsUmF0aW86aCxob2xkaW5nRm9yRmFkZTpkLGNvbGxpc2lvbkJveEFycmF5OnAscGFydGlhbGx5RXZhbHVhdGVkVGV4dFNpemU6ZixwYXJ0aWFsbHlFdmFsdWF0ZWRJY29uU2l6ZTptLGNvbGxpc2lvbkdyb3VwOmd9PXQucGFyYW1ldGVycyx5PWEuZ2V0KFwidGV4dC1vcHRpb25hbFwiKSxfPWEuZ2V0KFwiaWNvbi1vcHRpb25hbFwiKSx2PWEuZ2V0KFwidGV4dC1hbGxvdy1vdmVybGFwXCIpLHg9YS5nZXQoXCJpY29uLWFsbG93LW92ZXJsYXBcIiksYj1cIm1hcFwiPT09YS5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSx3PVwibWFwXCI9PT1hLmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLFQ9XCJub25lXCIhPT1hLmdldChcImljb24tdGV4dC1maXRcIiksRT1cInZpZXdwb3J0LXlcIj09PWEuZ2V0KFwic3ltYm9sLXotb3JkZXJcIik7dGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbihvLnByb2plY3Rpb24pO2xldCBTPXYmJih4fHwhby5oYXNJY29uRGF0YSgpfHxfKSxNPXgmJih2fHwhby5oYXNUZXh0RGF0YSgpfHx5KTshby5jb2xsaXNpb25BcnJheXMmJnAmJm8uZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhwKSxpJiZyJiZvLnVwZGF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyh0aGlzLnRyYW5zZm9ybS56b29tLHApO2NvbnN0IEk9KHQscixwKT0+e2NvbnN0e2Nyb3NzVGlsZUlEOkUsbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzOkl9PXQ7aWYodSl7Y29uc3QgaT17em9vbTp0aGlzLnRyYW5zZm9ybS56b29tLHBpdGNoOnRoaXMudHJhbnNmb3JtLnBpdGNofTtsZXQgcj1udWxsO2lmKHUuZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZSl7Y29uc3QgZT10aGlzLnJldGFpbmVkUXVlcnlEYXRhW28uYnVja2V0SW5zdGFuY2VJZF07cj11LmZlYXR1cmVJbmRleC5sb2FkRmVhdHVyZSh7ZmVhdHVyZUluZGV4OnQuZmVhdHVyZUluZGV4LGJ1Y2tldEluZGV4OmUuYnVja2V0SW5kZXgsc291cmNlTGF5ZXJJbmRleDplLnNvdXJjZUxheWVySW5kZXgsbGF5b3V0VmVydGV4QXJyYXlPZmZzZXQ6MH0pfWlmKCEoMCx1LmR5bmFtaWNGaWx0ZXIpKGkscix0aGlzLnJldGFpbmVkUXVlcnlEYXRhW28uYnVja2V0SW5zdGFuY2VJZF0udGlsZUlELmNhbm9uaWNhbCxuZXcgZS5wb2ludEdlb21ldHJ5KHQudGlsZUFuY2hvclgsdC50aWxlQW5jaG9yWSksdGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlRGlzdGFuY2VUaWxlRGF0YSh1LnVud3JhcHBlZFRpbGVJRCkpKXJldHVybiB0aGlzLnBsYWNlbWVudHNbRV09bmV3IFR0KCExLCExLCExLCEwKSx2b2lkKG5bRV09ITApfWlmKG5bRV0pcmV0dXJuO2lmKGQpcmV0dXJuIHZvaWQodGhpcy5wbGFjZW1lbnRzW0VdPW5ldyBUdCghMSwhMSwhMSkpO2xldCBDPSExLGs9ITEsQT0hMCxQPSExLHo9ITEsRD1udWxsLEw9e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9LE89e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9LFI9bnVsbCxCPW51bGwsaj1udWxsLEY9MCxOPTAsVT0wO3AudGV4dEZlYXR1cmVJbmRleD9GPXAudGV4dEZlYXR1cmVJbmRleDp0LnVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzJiYoRj10LmZlYXR1cmVJbmRleCkscC52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgmJihOPXAudmVydGljYWxUZXh0RmVhdHVyZUluZGV4KTtjb25zdCBWPWU9PntlLnRpbGVJRD10aGlzLnJldGFpbmVkUXVlcnlEYXRhW28uYnVja2V0SW5zdGFuY2VJZF0udGlsZUlEO2NvbnN0IHQ9dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uOyh0fHxlLmVsZXZhdGlvbikmJihlLmVsZXZhdGlvbj10P3QuZ2V0QXRUaWxlT2Zmc2V0KGUudGlsZUlELGUudGlsZUFuY2hvclgsZS50aWxlQW5jaG9yWSk6MCl9LEc9cC50ZXh0Qm94O2lmKEcpe1YoRyk7Y29uc3Qgbj1uPT57bGV0IGk9ZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsO2lmKG8uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmIW4mJnRoaXMucHJldlBsYWNlbWVudCl7Y29uc3QgZT10aGlzLnByZXZQbGFjZW1lbnQucGxhY2VkT3JpZW50YXRpb25zW0VdO2UmJih0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tFXT1lLGk9ZSx0aGlzLm1hcmtVc2VkT3JpZW50YXRpb24obyxpLHQpKX1yZXR1cm4gaX0saT0odCxuKT0+e2lmKG8uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmST4wJiZwLnZlcnRpY2FsVGV4dEJveCl7Zm9yKGNvbnN0IGkgb2Ygby53cml0aW5nTW9kZXMpaWYoaT09PWUuV3JpdGluZ01vZGUudmVydGljYWw/KEw9bigpLE89TCk6TD10KCksTCYmTC5ib3gmJkwuYm94Lmxlbmd0aClicmVha31lbHNlIEw9dCgpfTtpZihhLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpKXtsZXQgbD1hLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpO2lmKHRoaXMucHJldlBsYWNlbWVudCYmdGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tFXSl7Y29uc3QgZT10aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW0VdO2wuaW5kZXhPZihlLmFuY2hvcik+MCYmKGw9bC5maWx0ZXIodD0+dCE9PWUuYW5jaG9yKSxsLnVuc2hpZnQoZS5hbmNob3IpKX1jb25zdCBjPShlLG4saSk9Pntjb25zdCBhPW8uZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShmLHQsdGhpcy50cmFuc2Zvcm0uem9vbSxyKSxjPShlLngyLWUueDEpKmErMiplLnBhZGRpbmcsdT0oZS55Mi1lLnkxKSphKzIqZS5wYWRkaW5nLGQ9VCYmIXg/bjpudWxsO2QmJlYoZCk7bGV0IHA9e2JveDpbXSxvZmZzY3JlZW46ITEsb2NjbHVkZWQ6ITF9O2NvbnN0IHk9dj8yKmwubGVuZ3RoOmwubGVuZ3RoO2ZvcihsZXQgbj0wO248eTsrK24pe2NvbnN0IHk9dGhpcy5hdHRlbXB0QW5jaG9yUGxhY2VtZW50KGxbbiVsLmxlbmd0aF0sZSxjLHUsYSxiLHcsaCxzLGcsbj49bC5sZW5ndGgsdCxyLG8saSxkLGYsbSk7aWYoeSYmKHA9eS5wbGFjZWRHbHlwaEJveGVzLHAmJnAuYm94JiZwLmJveC5sZW5ndGgpKXtDPSEwLEQ9eS5zaGlmdDticmVha319cmV0dXJuIHB9O2koKCk9PmMoRyxwLmljb25Cb3gsZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsKSwoKT0+e2NvbnN0IHQ9cC52ZXJ0aWNhbFRleHRCb3g7cmV0dXJuIHQmJlYodCksby5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYhKEwmJkwuYm94JiZMLmJveC5sZW5ndGgpJiZJPjAmJnQ/Yyh0LHAudmVydGljYWxJY29uQm94LGUuV3JpdGluZ01vZGUudmVydGljYWwpOntib3g6bnVsbCxvZmZzY3JlZW46bnVsbCxvY2NsdWRlZDpudWxsfX0pLEwmJihDPUwuYm94LEE9TC5vZmZzY3JlZW4sUD1MLm9jY2x1ZGVkKTtjb25zdCB1PW4oTCYmTC5ib3gpO2lmKCFDJiZ0aGlzLnByZXZQbGFjZW1lbnQpe2NvbnN0IGU9dGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1tFXTtlJiYodGhpcy52YXJpYWJsZU9mZnNldHNbRV09ZSx0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbihvLGUuYW5jaG9yLHQsdSkpfX1lbHNle2NvbnN0IGE9KG4saSk9Pntjb25zdCBhPW8uZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShmLHQsdGhpcy50cmFuc2Zvcm0uem9vbSxyKSxsPXRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3gobyxhLG4sbmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLHYsaCxzLGcucHJlZGljYXRlKTtyZXR1cm4gbCYmbC5ib3gmJmwuYm94Lmxlbmd0aCYmKHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihvLGksdCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbRV09aSksbH07aSgoKT0+YShHLGUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbCksKCk9Pntjb25zdCB0PXAudmVydGljYWxUZXh0Qm94O3JldHVybiBvLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJkk+MCYmdD8oVih0KSxhKHQsZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbCkpOntib3g6bnVsbCxvZmZzY3JlZW46bnVsbCxvY2NsdWRlZDpudWxsfX0pLG4oTCYmTC5ib3gmJkwuYm94Lmxlbmd0aCl9fWlmKFI9TCxDPVImJlIuYm94JiZSLmJveC5sZW5ndGg+MCxBPVImJlIub2Zmc2NyZWVuLFA9UiYmUi5vY2NsdWRlZCx0LnVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzKXtjb25zdCBuPW8udGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQodC5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/dC5jZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6dC52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleCkscj1lLmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUoby50ZXh0U2l6ZURhdGEsZixuKSx1PWEuZ2V0KFwidGV4dC1wYWRkaW5nXCIpO0I9dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkNpcmNsZXMobyx2LG4sby5saW5lVmVydGV4QXJyYXksby5nbHlwaE9mZnNldEFycmF5LHIscyxsLGMsaSx3LGcucHJlZGljYXRlLHQuY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXIqci9lLk9ORV9FTSx1LHRoaXMucmV0YWluZWRRdWVyeURhdGFbby5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQpLEM9dnx8Qi5jaXJjbGVzLmxlbmd0aD4wJiYhQi5jb2xsaXNpb25EZXRlY3RlZCxBPUEmJkIub2Zmc2NyZWVuLFA9Qi5vY2NsdWRlZH1pZihwLmljb25GZWF0dXJlSW5kZXgmJihVPXAuaWNvbkZlYXR1cmVJbmRleCkscC5pY29uQm94KXtjb25zdCBuPW49PntWKG4pO2NvbnN0IGk9VCYmRD9DdChELngsRC55LGIsdyx0aGlzLnRyYW5zZm9ybS5hbmdsZSk6bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLHI9by5nZXRTeW1ib2xJbnN0YW5jZUljb25TaXplKG0sdGhpcy50cmFuc2Zvcm0uem9vbSx0LnBsYWNlZEljb25TeW1ib2xJbmRleCk7cmV0dXJuIHRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3gobyxyLG4saSx4LGgscyxnLnByZWRpY2F0ZSl9O08mJk8uYm94JiZPLmJveC5sZW5ndGgmJnAudmVydGljYWxJY29uQm94PyhqPW4ocC52ZXJ0aWNhbEljb25Cb3gpLGs9ai5ib3gubGVuZ3RoPjApOihqPW4ocC5pY29uQm94KSxrPWouYm94Lmxlbmd0aD4wKSxBPUEmJmoub2Zmc2NyZWVuLHo9ai5vY2NsdWRlZH1jb25zdCBaPXl8fDA9PT10Lm51bUhvcml6b250YWxHbHlwaFZlcnRpY2VzJiYwPT09SSxXPV98fDA9PT10Lm51bUljb25WZXJ0aWNlcztpZihafHxXP1c/Wnx8KGs9ayYmQyk6Qz1rJiZDOms9Qz1rJiZDLEMmJlImJlIuYm94JiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChSLmJveCxhLmdldChcInRleHQtaWdub3JlLXBsYWNlbWVudFwiKSxvLmJ1Y2tldEluc3RhbmNlSWQsTyYmTy5ib3gmJk4/TjpGLGcuSUQpLGsmJmomJnRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQm94KGouYm94LGEuZ2V0KFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCIpLG8uYnVja2V0SW5zdGFuY2VJZCxVLGcuSUQpLEImJihDJiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkNpcmNsZXMoQi5jaXJjbGVzLGEuZ2V0KFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCIpLG8uYnVja2V0SW5zdGFuY2VJZCxGLGcuSUQpLGkpKXtjb25zdCBlPW8uYnVja2V0SW5zdGFuY2VJZDtsZXQgdD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tlXTt2b2lkIDA9PT10JiYodD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tlXT1uZXcgRXQpO2ZvcihsZXQgZT0wO2U8Qi5jaXJjbGVzLmxlbmd0aDtlKz00KXQuY2lyY2xlcy5wdXNoKEIuY2lyY2xlc1tlKzBdKSx0LmNpcmNsZXMucHVzaChCLmNpcmNsZXNbZSsxXSksdC5jaXJjbGVzLnB1c2goQi5jaXJjbGVzW2UrMl0pLHQuY2lyY2xlcy5wdXNoKEIuY29sbGlzaW9uRGV0ZWN0ZWQ/MTowKX1jb25zdCBxPVwiZ2xvYmVcIiE9PW8ucHJvamVjdGlvbi5uYW1lO1M9UyYmKHF8fCFQKSxNPU0mJihxfHwheiksdGhpcy5wbGFjZW1lbnRzW0VdPW5ldyBUdChDfHxTLGt8fE0sQXx8by5qdXN0UmVsb2FkZWQpLG5bRV09ITB9O2lmKEUpe2NvbnN0IGU9by5nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKHRoaXMudHJhbnNmb3JtLmFuZ2xlKTtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wOy0tdCl7Y29uc3Qgbj1lW3RdO0koby5zeW1ib2xJbnN0YW5jZXMuZ2V0KG4pLG4sby5jb2xsaXNpb25BcnJheXNbbl0pfX1lbHNlIGZvcihsZXQgZT10LnN5bWJvbEluc3RhbmNlU3RhcnQ7ZTx0LnN5bWJvbEluc3RhbmNlRW5kO2UrKylJKG8uc3ltYm9sSW5zdGFuY2VzLmdldChlKSxlLG8uY29sbGlzaW9uQXJyYXlzW2VdKTtpZihpJiZvLmJ1Y2tldEluc3RhbmNlSWQgaW4gdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXMpe2NvbnN0IHQ9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbby5idWNrZXRJbnN0YW5jZUlkXTtlLmludmVydCh0LmludlByb2pNYXRyaXgscyksdC52aWV3cG9ydE1hdHJpeD10aGlzLmNvbGxpc2lvbkluZGV4LmdldFZpZXdwb3J0TWF0cml4KCl9by5qdXN0UmVsb2FkZWQ9ITF9bWFya1VzZWRKdXN0aWZpY2F0aW9uKHQsbixpLHIpe2NvbnN0e2xlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6byxjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6YSxyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpzLHZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4OmwsY3Jvc3NUaWxlSUQ6Y309aSx1PWUuZ2V0QW5jaG9ySnVzdGlmaWNhdGlvbihuKSxoPXI9PT1lLldyaXRpbmdNb2RlLnZlcnRpY2FsP2w6XCJsZWZ0XCI9PT11P286XCJjZW50ZXJcIj09PXU/YTpcInJpZ2h0XCI9PT11P3M6LTE7bz49MCYmKHQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQobykuY3Jvc3NUaWxlSUQ9aD49MCYmbyE9PWg/MDpjKSxhPj0wJiYodC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChhKS5jcm9zc1RpbGVJRD1oPj0wJiZhIT09aD8wOmMpLHM+PTAmJih0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHMpLmNyb3NzVGlsZUlEPWg+PTAmJnMhPT1oPzA6YyksbD49MCYmKHQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQobCkuY3Jvc3NUaWxlSUQ9aD49MCYmbCE9PWg/MDpjKX1tYXJrVXNlZE9yaWVudGF0aW9uKHQsbixpKXtjb25zdCByPW49PT1lLldyaXRpbmdNb2RlLmhvcml6b250YWx8fG49PT1lLldyaXRpbmdNb2RlLmhvcml6b250YWxPbmx5P246MCxvPW49PT1lLldyaXRpbmdNb2RlLnZlcnRpY2FsP246MCx7bGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDphLGNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpzLHJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OmwsdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6Y309aSx1PXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheTthPj0wJiYodS5nZXQoYSkucGxhY2VkT3JpZW50YXRpb249cikscz49MCYmKHUuZ2V0KHMpLnBsYWNlZE9yaWVudGF0aW9uPXIpLGw+PTAmJih1LmdldChsKS5wbGFjZWRPcmllbnRhdGlvbj1yKSxjPj0wJiYodS5nZXQoYykucGxhY2VkT3JpZW50YXRpb249byl9Y29tbWl0KGUpe3RoaXMuY29tbWl0VGltZT1lLHRoaXMuem9vbUF0TGFzdFJlY2VuY3lDaGVjaz10aGlzLnRyYW5zZm9ybS56b29tO2NvbnN0IHQ9dGhpcy5wcmV2UGxhY2VtZW50O2xldCBuPSExO3RoaXMucHJldlpvb21BZGp1c3RtZW50PXQ/dC56b29tQWRqdXN0bWVudCh0aGlzLnRyYW5zZm9ybS56b29tKTowO2NvbnN0IGk9dD90LnN5bWJvbEZhZGVDaGFuZ2UoZSk6MSxyPXQ/dC5vcGFjaXRpZXM6e30sbz10P3QudmFyaWFibGVPZmZzZXRzOnt9LGE9dD90LnBsYWNlZE9yaWVudGF0aW9uczp7fTtmb3IoY29uc3QgZSBpbiB0aGlzLnBsYWNlbWVudHMpe2NvbnN0IHQ9dGhpcy5wbGFjZW1lbnRzW2VdLG89cltlXTtvPyh0aGlzLm9wYWNpdGllc1tlXT1uZXcgd3QobyxpLHQudGV4dCx0Lmljb24sbnVsbCx0LmNsaXBwZWQpLG49bnx8dC50ZXh0IT09by50ZXh0LnBsYWNlZHx8dC5pY29uIT09by5pY29uLnBsYWNlZCk6KHRoaXMub3BhY2l0aWVzW2VdPW5ldyB3dChudWxsLGksdC50ZXh0LHQuaWNvbix0LnNraXBGYWRlLHQuY2xpcHBlZCksbj1ufHx0LnRleHR8fHQuaWNvbil9Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD1yW2VdO2lmKCF0aGlzLm9wYWNpdGllc1tlXSl7Y29uc3Qgcj1uZXcgd3QodCxpLCExLCExKTtyLmlzSGlkZGVuKCl8fCh0aGlzLm9wYWNpdGllc1tlXT1yLG49bnx8dC50ZXh0LnBsYWNlZHx8dC5pY29uLnBsYWNlZCl9fWZvcihjb25zdCBlIGluIG8pdGhpcy52YXJpYWJsZU9mZnNldHNbZV18fCF0aGlzLm9wYWNpdGllc1tlXXx8dGhpcy5vcGFjaXRpZXNbZV0uaXNIaWRkZW4oKXx8KHRoaXMudmFyaWFibGVPZmZzZXRzW2VdPW9bZV0pO2Zvcihjb25zdCBlIGluIGEpdGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbZV18fCF0aGlzLm9wYWNpdGllc1tlXXx8dGhpcy5vcGFjaXRpZXNbZV0uaXNIaWRkZW4oKXx8KHRoaXMucGxhY2VkT3JpZW50YXRpb25zW2VdPWFbZV0pO24/dGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZT1lOlwibnVtYmVyXCIhPXR5cGVvZiB0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lJiYodGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZT10P3QubGFzdFBsYWNlbWVudENoYW5nZVRpbWU6ZSl9dXBkYXRlTGF5ZXJPcGFjaXRpZXMoZSx0KXtjb25zdCBuPXt9O2Zvcihjb25zdCBpIG9mIHQpe2NvbnN0IHQ9aS5nZXRCdWNrZXQoZSk7dCYmaS5sYXRlc3RGZWF0dXJlSW5kZXgmJmUuaWQ9PT10LmxheWVySWRzWzBdJiZ0aGlzLnVwZGF0ZUJ1Y2tldE9wYWNpdGllcyh0LG4saS5jb2xsaXNpb25Cb3hBcnJheSl9fXVwZGF0ZUJ1Y2tldE9wYWNpdGllcyh0LG4saSl7dC5oYXNUZXh0RGF0YSgpJiZ0LnRleHQub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCksdC5oYXNJY29uRGF0YSgpJiZ0Lmljb24ub3BhY2l0eVZlcnRleEFycmF5LmNsZWFyKCksdC5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpJiZ0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkuY2xlYXIoKSx0Lmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJnQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpO2NvbnN0IHI9dC5sYXllcnNbMF0ubGF5b3V0LG89ISF0LmxheWVyc1swXS5keW5hbWljRmlsdGVyKCksYT1uZXcgd3QobnVsbCwwLCExLCExLCEwKSxzPXIuZ2V0KFwidGV4dC1hbGxvdy1vdmVybGFwXCIpLGw9ci5nZXQoXCJpY29uLWFsbG93LW92ZXJsYXBcIiksYz1yLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpLHU9XCJtYXBcIj09PXIuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIiksaD1cIm1hcFwiPT09ci5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxkPVwibm9uZVwiIT09ci5nZXQoXCJpY29uLXRleHQtZml0XCIpLHA9bmV3IHd0KG51bGwsMCxzJiYobHx8IXQuaGFzSWNvbkRhdGEoKXx8ci5nZXQoXCJpY29uLW9wdGlvbmFsXCIpKSxsJiYoc3x8IXQuaGFzVGV4dERhdGEoKXx8ci5nZXQoXCJ0ZXh0LW9wdGlvbmFsXCIpKSwhMCk7IXQuY29sbGlzaW9uQXJyYXlzJiZpJiYodC5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpfHx0Lmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkpJiZ0LmRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMoaSk7Y29uc3QgZj0oZSx0LG4pPT57Zm9yKGxldCBpPTA7aTx0LzQ7aSsrKWUub3BhY2l0eVZlcnRleEFycmF5LmVtcGxhY2VCYWNrKG4pfTtsZXQgbT0wO2ZvcihsZXQgaT0wO2k8dC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2krKyl7Y29uc3Qgcj10LnN5bWJvbEluc3RhbmNlcy5nZXQoaSkse251bUhvcml6b250YWxHbHlwaFZlcnRpY2VzOnMsbnVtVmVydGljYWxHbHlwaFZlcnRpY2VzOmwsY3Jvc3NUaWxlSUQ6ZyxudW1JY29uVmVydGljZXM6eX09cjtsZXQgXz10aGlzLm9wYWNpdGllc1tnXTtuW2ddP189YTpffHwoXz1wLHRoaXMub3BhY2l0aWVzW2ddPV8pLG5bZ109ITA7Y29uc3Qgdj1zPjB8fGw+MCx4PXk+MCxiPXRoaXMucGxhY2VkT3JpZW50YXRpb25zW2ddLHc9Yj09PWUuV3JpdGluZ01vZGUudmVydGljYWwsVD1iPT09ZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsfHxiPT09ZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsT25seTtpZighdiYmIXh8fF8uaXNIaWRkZW4oKXx8bSsrLHYpe2NvbnN0IGU9anQoXy50ZXh0KTtmKHQudGV4dCxzLHc/RnQ6ZSksZih0LnRleHQsbCxUP0Z0OmUpO2NvbnN0IG49Xy50ZXh0LmlzSGlkZGVuKCkse2xlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6aSxjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6byxyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDphLHZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4OmN9PXIsdT10LnRleHQucGxhY2VkU3ltYm9sQXJyYXksaD1ufHx3PzE6MDtpPj0wJiYodS5nZXQoaSkuaGlkZGVuPWgpLG8+PTAmJih1LmdldChvKS5oaWRkZW49aCksYT49MCYmKHUuZ2V0KGEpLmhpZGRlbj1oKSxjPj0wJiYodS5nZXQoYykuaGlkZGVuPW58fFQ/MTowKTtjb25zdCBkPXRoaXMudmFyaWFibGVPZmZzZXRzW2ddO2QmJnRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKHQsZC5hbmNob3IscixiKTtjb25zdCBwPXRoaXMucGxhY2VkT3JpZW50YXRpb25zW2ddO3AmJih0aGlzLm1hcmtVc2VkSnVzdGlmaWNhdGlvbih0LFwibGVmdFwiLHIscCksdGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKHQscCxyKSl9aWYoeCl7Y29uc3QgZT1qdChfLmljb24pLHtwbGFjZWRJY29uU3ltYm9sSW5kZXg6bix2ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleDppfT1yLG89dC5pY29uLnBsYWNlZFN5bWJvbEFycmF5LGE9Xy5pY29uLmlzSGlkZGVuKCk/MTowO24+PTAmJihmKHQuaWNvbix5LHc/RnQ6ZSksby5nZXQobikuaGlkZGVuPWEpLGk+PTAmJihmKHQuaWNvbixyLm51bVZlcnRpY2FsSWNvblZlcnRpY2VzLFQ/RnQ6ZSksby5nZXQoaSkuaGlkZGVuPWEpfWlmKHQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKXx8dC5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpKXtjb25zdCBuPXQuY29sbGlzaW9uQXJyYXlzW2ldO2lmKG4pe2xldCBpPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxyPSEwO2lmKG4udGV4dEJveHx8bi52ZXJ0aWNhbFRleHRCb3gpe2lmKGMpe2NvbnN0IGU9dGhpcy52YXJpYWJsZU9mZnNldHNbZ107ZT8oaT1JdChlLmFuY2hvcixlLndpZHRoLGUuaGVpZ2h0LGUudGV4dE9mZnNldCxlLnRleHRTY2FsZSksdSYmaS5fcm90YXRlKGg/dGhpcy50cmFuc2Zvcm0uYW5nbGU6LXRoaXMudHJhbnNmb3JtLmFuZ2xlKSk6cj0hMX1vJiYocj0hXy5jbGlwcGVkKSxuLnRleHRCb3gmJkF0KHQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxfLnRleHQucGxhY2VkLCFyfHx3LGkueCxpLnkpLG4udmVydGljYWxUZXh0Qm94JiZBdCh0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksXy50ZXh0LnBsYWNlZCwhcnx8VCxpLngsaS55KX1jb25zdCBhPXImJkJvb2xlYW4oIVQmJm4udmVydGljYWxJY29uQm94KTtuLmljb25Cb3gmJkF0KHQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxfLmljb24ucGxhY2VkLGEsZD9pLng6MCxkP2kueTowKSxuLnZlcnRpY2FsSWNvbkJveCYmQXQodC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LF8uaWNvbi5wbGFjZWQsIWEsZD9pLng6MCxkP2kueTowKX19fWlmKHQuZnVsbHlDbGlwcGVkPTA9PT1tLHQuc29ydEZlYXR1cmVzKHRoaXMudHJhbnNmb3JtLmFuZ2xlKSx0aGlzLnJldGFpbmVkUXVlcnlEYXRhW3QuYnVja2V0SW5zdGFuY2VJZF0mJih0aGlzLnJldGFpbmVkUXVlcnlEYXRhW3QuYnVja2V0SW5zdGFuY2VJZF0uZmVhdHVyZVNvcnRPcmRlcj10LmZlYXR1cmVTb3J0T3JkZXIpLHQuaGFzVGV4dERhdGEoKSYmdC50ZXh0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXImJnQudGV4dC5vcGFjaXR5VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheSksdC5oYXNJY29uRGF0YSgpJiZ0Lmljb24ub3BhY2l0eVZlcnRleEJ1ZmZlciYmdC5pY29uLm9wYWNpdHlWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0Lmljb24ub3BhY2l0eVZlcnRleEFycmF5KSx0Lmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkmJnQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXImJnQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkpLHQuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSYmdC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlciYmdC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSksdC5idWNrZXRJbnN0YW5jZUlkIGluIHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzKXtjb25zdCBlPXRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW3QuYnVja2V0SW5zdGFuY2VJZF07dC5wbGFjZW1lbnRJbnZQcm9qTWF0cml4PWUuaW52UHJvak1hdHJpeCx0LnBsYWNlbWVudFZpZXdwb3J0TWF0cml4PWUudmlld3BvcnRNYXRyaXgsdC5jb2xsaXNpb25DaXJjbGVBcnJheT1lLmNpcmNsZXMsZGVsZXRlIHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW3QuYnVja2V0SW5zdGFuY2VJZF19fXN5bWJvbEZhZGVDaGFuZ2UoZSl7cmV0dXJuIDA9PT10aGlzLmZhZGVEdXJhdGlvbj8xOihlLXRoaXMuY29tbWl0VGltZSkvdGhpcy5mYWRlRHVyYXRpb24rdGhpcy5wcmV2Wm9vbUFkanVzdG1lbnR9em9vbUFkanVzdG1lbnQoZSl7cmV0dXJuIE1hdGgubWF4KDAsKHRoaXMudHJhbnNmb3JtLnpvb20tZSkvMS41KX1oYXNUcmFuc2l0aW9ucyhlKXtyZXR1cm4gdGhpcy5zdGFsZXx8ZS10aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPHRoaXMuZmFkZUR1cmF0aW9ufXN0aWxsUmVjZW50KGUsdCl7Y29uc3Qgbj10aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9PT10PzEtdGhpcy56b29tQWRqdXN0bWVudCh0KToxO3JldHVybiB0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9dCx0aGlzLmNvbW1pdFRpbWUrdGhpcy5mYWRlRHVyYXRpb24qbj5lfXNldFN0YWxlKCl7dGhpcy5zdGFsZT0hMH19ZnVuY3Rpb24gQXQoZSx0LG4saSxyKXtlLmVtcGxhY2VCYWNrKHQ/MTowLG4/MTowLGl8fDAscnx8MCksZS5lbXBsYWNlQmFjayh0PzE6MCxuPzE6MCxpfHwwLHJ8fDApLGUuZW1wbGFjZUJhY2sodD8xOjAsbj8xOjAsaXx8MCxyfHwwKSxlLmVtcGxhY2VCYWNrKHQ/MTowLG4/MTowLGl8fDAscnx8MCl9Y29uc3QgUHQ9TWF0aC5wb3coMiwyNSksenQ9TWF0aC5wb3coMiwyNCksRHQ9TWF0aC5wb3coMiwxNyksTHQ9TWF0aC5wb3coMiwxNiksT3Q9TWF0aC5wb3coMiw5KSxSdD1NYXRoLnBvdygyLDgpLEJ0PU1hdGgucG93KDIsMSk7ZnVuY3Rpb24ganQoZSl7aWYoMD09PWUub3BhY2l0eSYmIWUucGxhY2VkKXJldHVybiAwO2lmKDE9PT1lLm9wYWNpdHkmJmUucGxhY2VkKXJldHVybiA0Mjk0OTY3Mjk1O2NvbnN0IHQ9ZS5wbGFjZWQ/MTowLG49TWF0aC5mbG9vcigxMjcqZS5vcGFjaXR5KTtyZXR1cm4gbipQdCt0Knp0K24qRHQrdCpMdCtuKk90K3QqUnQrbipCdCt0fWNvbnN0IEZ0PTA7Y2xhc3MgTnR7Y29uc3RydWN0b3IoZSl7dGhpcy5fc29ydEFjcm9zc1RpbGVzPVwidmlld3BvcnQteVwiIT09ZS5sYXlvdXQuZ2V0KFwic3ltYm9sLXotb3JkZXJcIikmJnZvaWQgMCE9PWUubGF5b3V0LmdldChcInN5bWJvbC1zb3J0LWtleVwiKS5jb25zdGFudE9yKDEpLHRoaXMuX2N1cnJlbnRUaWxlSW5kZXg9MCx0aGlzLl9jdXJyZW50UGFydEluZGV4PTAsdGhpcy5fc2VlbkNyb3NzVGlsZUlEcz17fSx0aGlzLl9idWNrZXRQYXJ0cz1bXX1jb250aW51ZVBsYWNlbWVudChlLHQsbixpLHIpe2NvbnN0IG89dGhpcy5fYnVja2V0UGFydHM7Zm9yKDt0aGlzLl9jdXJyZW50VGlsZUluZGV4PGUubGVuZ3RoOylpZih0LmdldEJ1Y2tldFBhcnRzKG8saSxlW3RoaXMuX2N1cnJlbnRUaWxlSW5kZXhdLHRoaXMuX3NvcnRBY3Jvc3NUaWxlcyksdGhpcy5fY3VycmVudFRpbGVJbmRleCsrLHIoKSlyZXR1cm4hMDtmb3IodGhpcy5fc29ydEFjcm9zc1RpbGVzJiYodGhpcy5fc29ydEFjcm9zc1RpbGVzPSExLG8uc29ydCgoZSx0KT0+ZS5zb3J0S2V5LXQuc29ydEtleSkpO3RoaXMuX2N1cnJlbnRQYXJ0SW5kZXg8by5sZW5ndGg7KXtjb25zdCBlPW9bdGhpcy5fY3VycmVudFBhcnRJbmRleF07aWYodC5wbGFjZUxheWVyQnVja2V0UGFydChlLHRoaXMuX3NlZW5Dcm9zc1RpbGVJRHMsbiwwPT09ZS5zeW1ib2xJbnN0YW5jZVN0YXJ0KSx0aGlzLl9jdXJyZW50UGFydEluZGV4KysscigpKXJldHVybiEwfXJldHVybiExfX1jbGFzcyBVdHtjb25zdHJ1Y3RvcihlLHQsbixpLHIsbyxhLHMpe3RoaXMucGxhY2VtZW50PW5ldyBrdChlLHIsbyxhLHMpLHRoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleD10Lmxlbmd0aC0xLHRoaXMuX2ZvcmNlRnVsbFBsYWNlbWVudD1uLHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcz1pLHRoaXMuX2RvbmU9ITF9aXNEb25lKCl7cmV0dXJuIHRoaXMuX2RvbmV9Y29udGludWVQbGFjZW1lbnQodCxuLGkpe2NvbnN0IHI9ZS5leHBvcnRlZC5ub3coKSxvPSgpPT57Y29uc3QgdD1lLmV4cG9ydGVkLm5vdygpLXI7cmV0dXJuIXRoaXMuX2ZvcmNlRnVsbFBsYWNlbWVudCYmdD4yfTtmb3IoO3RoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleD49MDspe2NvbnN0IGU9blt0W3RoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleF1dLHI9dGhpcy5wbGFjZW1lbnQuY29sbGlzaW9uSW5kZXgudHJhbnNmb3JtLnpvb207aWYoXCJzeW1ib2xcIj09PWUudHlwZSYmKCFlLm1pbnpvb218fGUubWluem9vbTw9cikmJighZS5tYXh6b29tfHxlLm1heHpvb20+cikpe2lmKHRoaXMuX2luUHJvZ3Jlc3NMYXllcnx8KHRoaXMuX2luUHJvZ3Jlc3NMYXllcj1uZXcgTnQoZSkpLHRoaXMuX2luUHJvZ3Jlc3NMYXllci5jb250aW51ZVBsYWNlbWVudChpW2Uuc291cmNlXSx0aGlzLnBsYWNlbWVudCx0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMsZSxvKSlyZXR1cm47ZGVsZXRlIHRoaXMuX2luUHJvZ3Jlc3NMYXllcn10aGlzLl9jdXJyZW50UGxhY2VtZW50SW5kZXgtLX10aGlzLl9kb25lPSEwfWNvbW1pdChlKXtyZXR1cm4gdGhpcy5wbGFjZW1lbnQuY29tbWl0KGUpLHRoaXMucGxhY2VtZW50fX1jb25zdCBWdD01MTIvZS5FWFRFTlQvMjtjbGFzcyBHdHtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy50aWxlSUQ9ZSx0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXM9e30sdGhpcy5idWNrZXRJbnN0YW5jZUlkPW47Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGk9dC5nZXQobikscj1pLmtleTt0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbcl18fCh0aGlzLmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbcl09W10pLHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1tyXS5wdXNoKHtjcm9zc1RpbGVJRDppLmNyb3NzVGlsZUlELGNvb3JkOnRoaXMuZ2V0U2NhbGVkQ29vcmRpbmF0ZXMoaSxlKX0pfX1nZXRTY2FsZWRDb29yZGluYXRlcyh0LG4pe2NvbnN0IGk9VnQvTWF0aC5wb3coMixuLmNhbm9uaWNhbC56LXRoaXMudGlsZUlELmNhbm9uaWNhbC56KTtyZXR1cm57eDpNYXRoLmZsb29yKChuLmNhbm9uaWNhbC54KmUuRVhURU5UK3QudGlsZUFuY2hvclgpKmkpLHk6TWF0aC5mbG9vcigobi5jYW5vbmljYWwueSplLkVYVEVOVCt0LnRpbGVBbmNob3JZKSppKX19ZmluZE1hdGNoZXMoZSx0LG4pe2NvbnN0IGk9dGhpcy50aWxlSUQuY2Fub25pY2FsLno8dC5jYW5vbmljYWwuej8xOk1hdGgucG93KDIsdGhpcy50aWxlSUQuY2Fub25pY2FsLnotdC5jYW5vbmljYWwueik7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IG89ZS5nZXQocik7aWYoby5jcm9zc1RpbGVJRCljb250aW51ZTtjb25zdCBhPXRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1tvLmtleV07aWYoIWEpY29udGludWU7Y29uc3Qgcz10aGlzLmdldFNjYWxlZENvb3JkaW5hdGVzKG8sdCk7Zm9yKGNvbnN0IGUgb2YgYSlpZihNYXRoLmFicyhlLmNvb3JkLngtcy54KTw9aSYmTWF0aC5hYnMoZS5jb29yZC55LXMueSk8PWkmJiFuW2UuY3Jvc3NUaWxlSURdKXtuW2UuY3Jvc3NUaWxlSURdPSEwLG8uY3Jvc3NUaWxlSUQ9ZS5jcm9zc1RpbGVJRDticmVha319fX1jbGFzcyBadHtjb25zdHJ1Y3Rvcigpe3RoaXMubWF4Q3Jvc3NUaWxlSUQ9MH1nZW5lcmF0ZSgpe3JldHVybisrdGhpcy5tYXhDcm9zc1RpbGVJRH19Y2xhc3MgV3R7Y29uc3RydWN0b3IoKXt0aGlzLmluZGV4ZXM9e30sdGhpcy51c2VkQ3Jvc3NUaWxlSURzPXt9LHRoaXMubG5nPTB9aGFuZGxlV3JhcEp1bXAoZSl7Y29uc3QgdD1NYXRoLnJvdW5kKChlLXRoaXMubG5nKS8zNjApO2lmKDAhPT10KWZvcihjb25zdCBlIGluIHRoaXMuaW5kZXhlcyl7Y29uc3Qgbj10aGlzLmluZGV4ZXNbZV0saT17fTtmb3IoY29uc3QgZSBpbiBuKXtjb25zdCByPW5bZV07ci50aWxlSUQ9ci50aWxlSUQudW53cmFwVG8oci50aWxlSUQud3JhcCt0KSxpW3IudGlsZUlELmtleV09cn10aGlzLmluZGV4ZXNbZV09aX10aGlzLmxuZz1lfWFkZEJ1Y2tldChlLHQsbil7aWYodGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdJiZ0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl1bZS5rZXldKXtpZih0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl1bZS5rZXldLmJ1Y2tldEluc3RhbmNlSWQ9PT10LmJ1Y2tldEluc3RhbmNlSWQpcmV0dXJuITE7dGhpcy5yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMoZS5vdmVyc2NhbGVkWix0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl1bZS5rZXldKX1mb3IobGV0IGU9MDtlPHQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtlKyspdC5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpLmNyb3NzVGlsZUlEPTA7dGhpcy51c2VkQ3Jvc3NUaWxlSURzW2Uub3ZlcnNjYWxlZFpdfHwodGhpcy51c2VkQ3Jvc3NUaWxlSURzW2Uub3ZlcnNjYWxlZFpdPXt9KTtjb25zdCBpPXRoaXMudXNlZENyb3NzVGlsZUlEc1tlLm92ZXJzY2FsZWRaXTtmb3IoY29uc3QgbiBpbiB0aGlzLmluZGV4ZXMpe2NvbnN0IHI9dGhpcy5pbmRleGVzW25dO2lmKE51bWJlcihuKT5lLm92ZXJzY2FsZWRaKWZvcihjb25zdCBuIGluIHIpe2NvbnN0IG89cltuXTtvLnRpbGVJRC5pc0NoaWxkT2YoZSkmJm8uZmluZE1hdGNoZXModC5zeW1ib2xJbnN0YW5jZXMsZSxpKX1lbHNle2NvbnN0IG89cltlLnNjYWxlZFRvKE51bWJlcihuKSkua2V5XTtvJiZvLmZpbmRNYXRjaGVzKHQuc3ltYm9sSW5zdGFuY2VzLGUsaSl9fWZvcihsZXQgZT0wO2U8dC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2UrKyl7Y29uc3Qgcj10LnN5bWJvbEluc3RhbmNlcy5nZXQoZSk7ci5jcm9zc1RpbGVJRHx8KHIuY3Jvc3NUaWxlSUQ9bi5nZW5lcmF0ZSgpLGlbci5jcm9zc1RpbGVJRF09ITApfXJldHVybiB2b2lkIDA9PT10aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl0mJih0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl09e30pLHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXVtlLmtleV09bmV3IEd0KGUsdC5zeW1ib2xJbnN0YW5jZXMsdC5idWNrZXRJbnN0YW5jZUlkKSwhMH1yZW1vdmVCdWNrZXRDcm9zc1RpbGVJRHMoZSx0KXtmb3IoY29uc3QgbiBpbiB0LmluZGV4ZWRTeW1ib2xJbnN0YW5jZXMpZm9yKGNvbnN0IGkgb2YgdC5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW25dKWRlbGV0ZSB0aGlzLnVzZWRDcm9zc1RpbGVJRHNbZV1baS5jcm9zc1RpbGVJRF19cmVtb3ZlU3RhbGVCdWNrZXRzKGUpe2xldCB0PSExO2Zvcihjb25zdCBuIGluIHRoaXMuaW5kZXhlcyl7Y29uc3QgaT10aGlzLmluZGV4ZXNbbl07Zm9yKGNvbnN0IHIgaW4gaSllW2lbcl0uYnVja2V0SW5zdGFuY2VJZF18fCh0aGlzLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyhuLGlbcl0pLGRlbGV0ZSBpW3JdLHQ9ITApfXJldHVybiB0fX1jbGFzcyBxdHtjb25zdHJ1Y3Rvcigpe3RoaXMubGF5ZXJJbmRleGVzPXt9LHRoaXMuY3Jvc3NUaWxlSURzPW5ldyBadCx0aGlzLm1heEJ1Y2tldEluc3RhbmNlSWQ9MCx0aGlzLmJ1Y2tldHNJbkN1cnJlbnRQbGFjZW1lbnQ9e319YWRkTGF5ZXIoZSx0LG4saSl7bGV0IHI9dGhpcy5sYXllckluZGV4ZXNbZS5pZF07dm9pZCAwPT09ciYmKHI9dGhpcy5sYXllckluZGV4ZXNbZS5pZF09bmV3IFd0KTtsZXQgbz0hMTtjb25zdCBhPXt9O1wiZ2xvYmVcIiE9PWkubmFtZSYmci5oYW5kbGVXcmFwSnVtcChuKTtmb3IoY29uc3QgbiBvZiB0KXtjb25zdCB0PW4uZ2V0QnVja2V0KGUpO3QmJmUuaWQ9PT10LmxheWVySWRzWzBdJiYodC5idWNrZXRJbnN0YW5jZUlkfHwodC5idWNrZXRJbnN0YW5jZUlkPSsrdGhpcy5tYXhCdWNrZXRJbnN0YW5jZUlkKSxyLmFkZEJ1Y2tldChuLnRpbGVJRCx0LHRoaXMuY3Jvc3NUaWxlSURzKSYmKG89ITApLGFbdC5idWNrZXRJbnN0YW5jZUlkXT0hMCl9cmV0dXJuIHIucmVtb3ZlU3RhbGVCdWNrZXRzKGEpJiYobz0hMCksb31wcnVuZVVudXNlZExheWVycyhlKXtjb25zdCB0PXt9O2UuZm9yRWFjaChlPT57dFtlXT0hMH0pO2Zvcihjb25zdCBlIGluIHRoaXMubGF5ZXJJbmRleGVzKXRbZV18fGRlbGV0ZSB0aGlzLmxheWVySW5kZXhlc1tlXX19Y29uc3QgJHQ9KHQsbik9PmUuZW1pdFZhbGlkYXRpb25FcnJvcnModCxuJiZuLmZpbHRlcihlPT5cInNvdXJjZS5jYW52YXNcIiE9PWUuaWRlbnRpZmllcikpLEh0PWUucGljayhaZSxbXCJhZGRMYXllclwiLFwicmVtb3ZlTGF5ZXJcIixcInNldFBhaW50UHJvcGVydHlcIixcInNldExheW91dFByb3BlcnR5XCIsXCJzZXRGaWx0ZXJcIixcImFkZFNvdXJjZVwiLFwicmVtb3ZlU291cmNlXCIsXCJzZXRMYXllclpvb21SYW5nZVwiLFwic2V0TGlnaHRcIixcInNldFRyYW5zaXRpb25cIixcInNldEdlb0pTT05Tb3VyY2VEYXRhXCIsXCJzZXRUZXJyYWluXCIsXCJzZXRGb2dcIixcInNldFByb2plY3Rpb25cIl0pLFh0PWUucGljayhaZSxbXCJzZXRDZW50ZXJcIixcInNldFpvb21cIixcInNldEJlYXJpbmdcIixcInNldFBpdGNoXCJdKSxZdD17dmVyc2lvbjo4LGxheWVyczpbXSxzb3VyY2VzOnt9fSxKdD17ZmlsbDohMCxsaW5lOiEwLGJhY2tncm91bmQ6ITAsaGlsbHNoYWRlOiEwLHJhc3RlcjohMH07Y2xhc3MgUXQgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxuPXt9KXtzdXBlcigpLHRoaXMubWFwPXQsdGhpcy5kaXNwYXRjaGVyPW5ldyB6KFVlKCksdGhpcyksdGhpcy5pbWFnZU1hbmFnZXI9bmV3IHgsdGhpcy5pbWFnZU1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudCh0aGlzKSx0aGlzLmdseXBoTWFuYWdlcj1uZXcgZS5HbHlwaE1hbmFnZXIodC5fcmVxdWVzdE1hbmFnZXIsbi5sb2NhbEZvbnRGYW1pbHk/ZS5Mb2NhbEdseXBoTW9kZS5hbGw6bi5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk/ZS5Mb2NhbEdseXBoTW9kZS5pZGVvZ3JhcGhzOmUuTG9jYWxHbHlwaE1vZGUubm9uZSxuLmxvY2FsRm9udEZhbWlseXx8bi5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHkpLHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXg9bmV3IHF0LHRoaXMuX2xheWVycz17fSx0aGlzLl9udW0zRExheWVycz0wLHRoaXMuX251bVN5bWJvbExheWVycz0wLHRoaXMuX251bUNpcmNsZUxheWVycz0wLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnM9e30sdGhpcy5fc291cmNlQ2FjaGVzPXt9LHRoaXMuX290aGVyU291cmNlQ2FjaGVzPXt9LHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlcz17fSx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5fYXZhaWxhYmxlSW1hZ2VzPVtdLHRoaXMuX29yZGVyPVtdLHRoaXMuX2RyYXBlZEZpcnN0T3JkZXI9W10sdGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITEsdGhpcy5fcmVzZXRVcGRhdGVzKCksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldFJlZmVycmVyXCIsZS5nZXRSZWZlcnJlcigpKTtjb25zdCBpPXRoaXM7dGhpcy5fcnRsVGV4dFBsdWdpbkNhbGxiYWNrPVF0LnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2UodD0+e2kuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzeW5jUlRMUGx1Z2luU3RhdGVcIix7cGx1Z2luU3RhdHVzOnQucGx1Z2luU3RhdHVzLHBsdWdpblVSTDp0LnBsdWdpblVSTH0sKHQsbik9PntpZihlLnRyaWdnZXJQbHVnaW5Db21wbGV0aW9uRXZlbnQodCksbiYmbi5ldmVyeShlPT5lKSlmb3IoY29uc3QgZSBpbiBpLl9zb3VyY2VDYWNoZXMpe2NvbnN0IHQ9aS5fc291cmNlQ2FjaGVzW2VdLG49dC5nZXRTb3VyY2UoKS50eXBlO1widmVjdG9yXCIhPT1uJiZcImdlb2pzb25cIiE9PW58fHQucmVsb2FkKCl9fSl9KSx0aGlzLm9uKFwiZGF0YVwiLGU9PntpZihcInNvdXJjZVwiIT09ZS5kYXRhVHlwZXx8XCJtZXRhZGF0YVwiIT09ZS5zb3VyY2VEYXRhVHlwZSlyZXR1cm47Y29uc3QgdD10aGlzLmdldFNvdXJjZShlLnNvdXJjZUlkKTtpZih0JiZ0LnZlY3RvckxheWVySWRzKWZvcihjb25zdCBlIGluIHRoaXMuX2xheWVycyl7Y29uc3Qgbj10aGlzLl9sYXllcnNbZV07bi5zb3VyY2U9PT10LmlkJiZ0aGlzLl92YWxpZGF0ZUxheWVyKG4pfX0pfWxvYWRVUkwodCxuPXt9KXt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSk7Y29uc3QgaT1cImJvb2xlYW5cIj09dHlwZW9mIG4udmFsaWRhdGU/bi52YWxpZGF0ZTohZS5pc01hcGJveFVSTCh0KTt0PXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTCh0LG4uYWNjZXNzVG9rZW4pO2NvbnN0IHI9dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodCxlLlJlc291cmNlVHlwZS5TdHlsZSk7dGhpcy5fcmVxdWVzdD1lLmdldEpTT04ociwodCxuKT0+e3RoaXMuX3JlcXVlc3Q9bnVsbCx0P3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHQpKTpuJiZ0aGlzLl9sb2FkKG4saSl9KX1sb2FkSlNPTih0LG49e30pe3RoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKSx0aGlzLl9yZXF1ZXN0PWUuZXhwb3J0ZWQuZnJhbWUoKCk9Pnt0aGlzLl9yZXF1ZXN0PW51bGwsdGhpcy5fbG9hZCh0LCExIT09bi52YWxpZGF0ZSl9KX1sb2FkRW1wdHkoKXt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSksdGhpcy5fbG9hZChZdCwhMSl9X3VwZGF0ZUxheWVyQ291bnQoZSx0KXtjb25zdCBuPXQ/MTotMTtlLmlzM0QoKSYmKHRoaXMuX251bTNETGF5ZXJzKz1uKSxcImNpcmNsZVwiPT09ZS50eXBlJiYodGhpcy5fbnVtQ2lyY2xlTGF5ZXJzKz1uKSxcInN5bWJvbFwiPT09ZS50eXBlJiYodGhpcy5fbnVtU3ltYm9sTGF5ZXJzKz1uKX1fbG9hZCh0LG4pe2lmKG4mJiR0KHRoaXMsZS52YWxpZGF0ZVN0eWxlKHQpKSlyZXR1cm47dGhpcy5fbG9hZGVkPSEwLHRoaXMuc3R5bGVzaGVldD1lLmNsb25lJDEodCksdGhpcy5fdXBkYXRlTWFwUHJvamVjdGlvbigpO2Zvcihjb25zdCBlIGluIHQuc291cmNlcyl0aGlzLmFkZFNvdXJjZShlLHQuc291cmNlc1tlXSx7dmFsaWRhdGU6ITF9KTt0aGlzLl9jaGFuZ2VkPSExLHQuc3ByaXRlP3RoaXMuX2xvYWRTcHJpdGUodC5zcHJpdGUpOih0aGlzLmltYWdlTWFuYWdlci5zZXRMb2FkZWQoITApLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzcHJpdGVMb2FkZWRcIiwhMCkpLHRoaXMuZ2x5cGhNYW5hZ2VyLnNldFVSTCh0LmdseXBocyk7Y29uc3QgaT1HZSh0aGlzLnN0eWxlc2hlZXQubGF5ZXJzKTt0aGlzLl9vcmRlcj1pLm1hcChlPT5lLmlkKSx0aGlzLl9sYXllcnM9e30sdGhpcy5fc2VyaWFsaXplZExheWVycz17fTtmb3IobGV0IHQgb2YgaSl0PWUuY3JlYXRlU3R5bGVMYXllcih0KSx0LnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7bGF5ZXI6e2lkOnQuaWR9fSksdGhpcy5fbGF5ZXJzW3QuaWRdPXQsdGhpcy5fc2VyaWFsaXplZExheWVyc1t0LmlkXT10LnNlcmlhbGl6ZSgpLHRoaXMuX3VwZGF0ZUxheWVyQ291bnQodCwhMCk7dGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldExheWVyc1wiLHRoaXMuX3NlcmlhbGl6ZUxheWVycyh0aGlzLl9vcmRlcikpLHRoaXMubGlnaHQ9bmV3IFQodGhpcy5zdHlsZXNoZWV0LmxpZ2h0KSx0aGlzLnN0eWxlc2hlZXQudGVycmFpbiYmIXRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkmJnRoaXMuX2NyZWF0ZVRlcnJhaW4odGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4sMSksdGhpcy5zdHlsZXNoZWV0LmZvZyYmdGhpcy5fY3JlYXRlRm9nKHRoaXMuc3R5bGVzaGVldC5mb2cpLHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJzdHlsZS5sb2FkXCIpKX10ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKXtyZXR1cm4hIXRoaXMudGVycmFpbiYmMD09PXRoaXMudGVycmFpbi5kcmFwZVJlbmRlck1vZGV9c2V0UHJvamVjdGlvbihlKXtlP3RoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uPWU6ZGVsZXRlIHRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLHRoaXMuX3VwZGF0ZU1hcFByb2plY3Rpb24oKX1hcHBseVByb2plY3Rpb25VcGRhdGUoKXt0aGlzLl9sb2FkZWQmJih0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0UHJvamVjdGlvblwiLHRoaXMubWFwLnRyYW5zZm9ybS5wcm9qZWN0aW9uT3B0aW9ucyksdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb24ucmVxdWlyZXNEcmFwaW5nP3RoaXMuZ2V0VGVycmFpbigpfHx0aGlzLnN0eWxlc2hlZXQudGVycmFpbnx8dGhpcy5zZXRUZXJyYWluRm9yRHJhcGluZygpOnRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkmJnRoaXMuc2V0VGVycmFpbihudWxsKSl9X3VwZGF0ZU1hcFByb2plY3Rpb24oKXt0aGlzLm1hcC5fdXNlRXhwbGljaXRQcm9qZWN0aW9uP3RoaXMuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCk6dGhpcy5tYXAuX3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uKG51bGwsdGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24pfV9sb2FkU3ByaXRlKHQpe3RoaXMuX3Nwcml0ZVJlcXVlc3Q9ZnVuY3Rpb24odCxuLGkpe2xldCByLG8sYTtjb25zdCBzPWUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbz4xP1wiQDJ4XCI6XCJcIjtsZXQgbD1lLmdldEpTT04obi50cmFuc2Zvcm1SZXF1ZXN0KG4ubm9ybWFsaXplU3ByaXRlVVJMKHQscyxcIi5qc29uXCIpLGUuUmVzb3VyY2VUeXBlLlNwcml0ZUpTT04pLChlLHQpPT57bD1udWxsLGF8fChhPWUscj10LHUoKSl9KSxjPWUuZ2V0SW1hZ2Uobi50cmFuc2Zvcm1SZXF1ZXN0KG4ubm9ybWFsaXplU3ByaXRlVVJMKHQscyxcIi5wbmdcIiksZS5SZXNvdXJjZVR5cGUuU3ByaXRlSW1hZ2UpLChlLHQpPT57Yz1udWxsLGF8fChhPWUsbz10LHUoKSl9KTtmdW5jdGlvbiB1KCl7aWYoYSlpKGEpO2Vsc2UgaWYociYmbyl7Y29uc3QgdD1lLmV4cG9ydGVkLmdldEltYWdlRGF0YShvKSxuPXt9O2Zvcihjb25zdCBpIGluIHIpe2NvbnN0e3dpZHRoOm8saGVpZ2h0OmEseDpzLHk6bCxzZGY6YyxwaXhlbFJhdGlvOnUsc3RyZXRjaFg6aCxzdHJldGNoWTpkLGNvbnRlbnQ6cH09cltpXSxmPW5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6byxoZWlnaHQ6YX0pO2UuUkdCQUltYWdlLmNvcHkodCxmLHt4OnMseTpsfSx7eDowLHk6MH0se3dpZHRoOm8saGVpZ2h0OmF9KSxuW2ldPXtkYXRhOmYscGl4ZWxSYXRpbzp1LHNkZjpjLHN0cmV0Y2hYOmgsc3RyZXRjaFk6ZCxjb250ZW50OnB9fWkobnVsbCxuKX19cmV0dXJue2NhbmNlbCgpe2wmJihsLmNhbmNlbCgpLGw9bnVsbCksYyYmKGMuY2FuY2VsKCksYz1udWxsKX19fSh0LHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlciwodCxuKT0+e2lmKHRoaXMuX3Nwcml0ZVJlcXVlc3Q9bnVsbCx0KXRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHQpKTtlbHNlIGlmKG4pZm9yKGNvbnN0IGUgaW4gbil0aGlzLmltYWdlTWFuYWdlci5hZGRJbWFnZShlLG5bZV0pO3RoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCghMCksdGhpcy5fYXZhaWxhYmxlSW1hZ2VzPXRoaXMuaW1hZ2VNYW5hZ2VyLmxpc3RJbWFnZXMoKSx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0SW1hZ2VzXCIsdGhpcy5fYXZhaWxhYmxlSW1hZ2VzKSx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic3ByaXRlTG9hZGVkXCIsITApLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpfSl9X3ZhbGlkYXRlTGF5ZXIodCl7Y29uc3Qgbj10aGlzLmdldFNvdXJjZSh0LnNvdXJjZSk7aWYoIW4pcmV0dXJuO2NvbnN0IGk9dC5zb3VyY2VMYXllcjtpJiYoXCJnZW9qc29uXCI9PT1uLnR5cGV8fG4udmVjdG9yTGF5ZXJJZHMmJi0xPT09bi52ZWN0b3JMYXllcklkcy5pbmRleE9mKGkpKSYmdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBTb3VyY2UgbGF5ZXIgXCIke2l9XCIgZG9lcyBub3QgZXhpc3Qgb24gc291cmNlIFwiJHtuLmlkfVwiIGFzIHNwZWNpZmllZCBieSBzdHlsZSBsYXllciBcIiR7dC5pZH1cImApKSl9bG9hZGVkKCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm4hMTtpZihPYmplY3Qua2V5cyh0aGlzLl91cGRhdGVkU291cmNlcykubGVuZ3RoKXJldHVybiExO2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcylpZighdGhpcy5fc291cmNlQ2FjaGVzW2VdLmxvYWRlZCgpKXJldHVybiExO3JldHVybiEhdGhpcy5pbWFnZU1hbmFnZXIuaXNMb2FkZWQoKX1fc2VyaWFsaXplTGF5ZXJzKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT10aGlzLl9sYXllcnNbbl07XCJjdXN0b21cIiE9PWUudHlwZSYmdC5wdXNoKGUuc2VyaWFsaXplKCkpfXJldHVybiB0fWhhc1RyYW5zaXRpb25zKCl7aWYodGhpcy5saWdodCYmdGhpcy5saWdodC5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuITA7aWYodGhpcy5mb2cmJnRoaXMuZm9nLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4hMDtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpaWYodGhpcy5fc291cmNlQ2FjaGVzW2VdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4hMDtmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpaWYodGhpcy5fbGF5ZXJzW2VdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4hMDtyZXR1cm4hMX1nZXQgb3JkZXIoKXtyZXR1cm4gdGhpcy5tYXAuX29wdGltaXplRm9yVGVycmFpbiYmdGhpcy50ZXJyYWluP3RoaXMuX2RyYXBlZEZpcnN0T3JkZXI6dGhpcy5fb3JkZXJ9aXNMYXllckRyYXBlZChlKXtyZXR1cm4hIXRoaXMudGVycmFpbiYmSnRbZS50eXBlXX1fY2hlY2tMb2FkZWQoKXtpZighdGhpcy5fbG9hZGVkKXRocm93IG5ldyBFcnJvcihcIlN0eWxlIGlzIG5vdCBkb25lIGxvYWRpbmdcIil9dXBkYXRlKHQpe2lmKCF0aGlzLl9sb2FkZWQpcmV0dXJuO2NvbnN0IG49dGhpcy5fY2hhbmdlZDtpZih0aGlzLl9jaGFuZ2VkKXtjb25zdCBlPU9iamVjdC5rZXlzKHRoaXMuX3VwZGF0ZWRMYXllcnMpLG49T2JqZWN0LmtleXModGhpcy5fcmVtb3ZlZExheWVycyk7KGUubGVuZ3RofHxuLmxlbmd0aCkmJnRoaXMuX3VwZGF0ZVdvcmtlckxheWVycyhlLG4pO2Zvcihjb25zdCBlIGluIHRoaXMuX3VwZGF0ZWRTb3VyY2VzKXtjb25zdCB0PXRoaXMuX3VwZGF0ZWRTb3VyY2VzW2VdO1wicmVsb2FkXCI9PT10P3RoaXMuX3JlbG9hZFNvdXJjZShlKTpcImNsZWFyXCI9PT10JiZ0aGlzLl9jbGVhclNvdXJjZShlKX10aGlzLl91cGRhdGVUaWxlc0ZvckNoYW5nZWRJbWFnZXMoKTtmb3IoY29uc3QgZSBpbiB0aGlzLl91cGRhdGVkUGFpbnRQcm9wcyl0aGlzLl9sYXllcnNbZV0udXBkYXRlVHJhbnNpdGlvbnModCk7dGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyh0KSx0aGlzLmZvZyYmdGhpcy5mb2cudXBkYXRlVHJhbnNpdGlvbnModCksdGhpcy5fcmVzZXRVcGRhdGVzKCl9Y29uc3QgaT17fTtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpe2NvbnN0IHQ9dGhpcy5fc291cmNlQ2FjaGVzW2VdO2lbZV09dC51c2VkLHQudXNlZD0hMX1mb3IoY29uc3QgZSBvZiB0aGlzLl9vcmRlcil7Y29uc3Qgbj10aGlzLl9sYXllcnNbZV07aWYobi5yZWNhbGN1bGF0ZSh0LHRoaXMuX2F2YWlsYWJsZUltYWdlcyksIW4uaXNIaWRkZW4odC56b29tKSl7Y29uc3QgZT10aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlKG4pO2UmJihlLnVzZWQ9ITApfWNvbnN0IGk9dGhpcy5tYXAucGFpbnRlcjtpZihpKXtjb25zdCBlPW4uZ2V0UHJvZ3JhbUlkcygpO2lmKCFlKWNvbnRpbnVlO2NvbnN0IHI9bi5nZXRQcm9ncmFtQ29uZmlndXJhdGlvbih0Lnpvb20pO2Zvcihjb25zdCB0IG9mIGUpaS51c2VQcm9ncmFtKHQscil9fWZvcihjb25zdCB0IGluIGkpe2NvbnN0IG49dGhpcy5fc291cmNlQ2FjaGVzW3RdO2lbdF0hPT1uLnVzZWQmJm4uZ2V0U291cmNlKCkuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7c291cmNlRGF0YVR5cGU6XCJ2aXNpYmlsaXR5XCIsZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VJZDpuLmdldFNvdXJjZSgpLmlkfSkpfXRoaXMubGlnaHQucmVjYWxjdWxhdGUodCksdGhpcy50ZXJyYWluJiZ0aGlzLnRlcnJhaW4ucmVjYWxjdWxhdGUodCksdGhpcy5mb2cmJnRoaXMuZm9nLnJlY2FsY3VsYXRlKHQpLHRoaXMuej10Lnpvb20sdGhpcy5fbWFya2Vyc05lZWRVcGRhdGUmJih0aGlzLl91cGRhdGVNYXJrZXJzT3BhY2l0eSgpLHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSExKSxuJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKX1fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCl7Y29uc3QgZT1PYmplY3Qua2V5cyh0aGlzLl9jaGFuZ2VkSW1hZ2VzKTtpZihlLmxlbmd0aCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1t0XS5yZWxvYWRUaWxlc0ZvckRlcGVuZGVuY2llcyhbXCJpY29uc1wiLFwicGF0dGVybnNcIl0sZSk7dGhpcy5fY2hhbmdlZEltYWdlcz17fX19X3VwZGF0ZVdvcmtlckxheWVycyhlLHQpe3RoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJ1cGRhdGVMYXllcnNcIix7bGF5ZXJzOnRoaXMuX3NlcmlhbGl6ZUxheWVycyhlKSxyZW1vdmVkSWRzOnR9KX1fcmVzZXRVcGRhdGVzKCl7dGhpcy5fY2hhbmdlZD0hMSx0aGlzLl91cGRhdGVkTGF5ZXJzPXt9LHRoaXMuX3JlbW92ZWRMYXllcnM9e30sdGhpcy5fdXBkYXRlZFNvdXJjZXM9e30sdGhpcy5fdXBkYXRlZFBhaW50UHJvcHM9e30sdGhpcy5fY2hhbmdlZEltYWdlcz17fX1zZXRTdGF0ZShuKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLCR0KHRoaXMsZS52YWxpZGF0ZVN0eWxlKG4pKSlyZXR1cm4hMTsobj1lLmNsb25lJDEobikpLmxheWVycz1HZShuLmxheWVycyk7Y29uc3QgaT1mdW5jdGlvbihlLG4pe2lmKCFlKXJldHVyblt7Y29tbWFuZDpaZS5zZXRTdHlsZSxhcmdzOltuXX1dO2xldCBpPVtdO3RyeXtpZighdChlLnZlcnNpb24sbi52ZXJzaW9uKSlyZXR1cm5be2NvbW1hbmQ6WmUuc2V0U3R5bGUsYXJnczpbbl19XTt0KGUuY2VudGVyLG4uY2VudGVyKXx8aS5wdXNoKHtjb21tYW5kOlplLnNldENlbnRlcixhcmdzOltuLmNlbnRlcl19KSx0KGUuem9vbSxuLnpvb20pfHxpLnB1c2goe2NvbW1hbmQ6WmUuc2V0Wm9vbSxhcmdzOltuLnpvb21dfSksdChlLmJlYXJpbmcsbi5iZWFyaW5nKXx8aS5wdXNoKHtjb21tYW5kOlplLnNldEJlYXJpbmcsYXJnczpbbi5iZWFyaW5nXX0pLHQoZS5waXRjaCxuLnBpdGNoKXx8aS5wdXNoKHtjb21tYW5kOlplLnNldFBpdGNoLGFyZ3M6W24ucGl0Y2hdfSksdChlLnNwcml0ZSxuLnNwcml0ZSl8fGkucHVzaCh7Y29tbWFuZDpaZS5zZXRTcHJpdGUsYXJnczpbbi5zcHJpdGVdfSksdChlLmdseXBocyxuLmdseXBocyl8fGkucHVzaCh7Y29tbWFuZDpaZS5zZXRHbHlwaHMsYXJnczpbbi5nbHlwaHNdfSksdChlLnRyYW5zaXRpb24sbi50cmFuc2l0aW9uKXx8aS5wdXNoKHtjb21tYW5kOlplLnNldFRyYW5zaXRpb24sYXJnczpbbi50cmFuc2l0aW9uXX0pLHQoZS5saWdodCxuLmxpZ2h0KXx8aS5wdXNoKHtjb21tYW5kOlplLnNldExpZ2h0LGFyZ3M6W24ubGlnaHRdfSksdChlLmZvZyxuLmZvZyl8fGkucHVzaCh7Y29tbWFuZDpaZS5zZXRGb2csYXJnczpbbi5mb2ddfSksdChlLnByb2plY3Rpb24sbi5wcm9qZWN0aW9uKXx8aS5wdXNoKHtjb21tYW5kOlplLnNldFByb2plY3Rpb24sYXJnczpbbi5wcm9qZWN0aW9uXX0pO2NvbnN0IHI9e30sbz1bXTshZnVuY3Rpb24oZSxuLGkscil7bGV0IG87Zm9yKG8gaW4gbj1ufHx7fSxlPWV8fHt9KWUuaGFzT3duUHJvcGVydHkobykmJihuLmhhc093blByb3BlcnR5KG8pfHxxZShvLGkscikpO2ZvcihvIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShvKSYmKGUuaGFzT3duUHJvcGVydHkobyk/dChlW29dLG5bb10pfHwoXCJnZW9qc29uXCI9PT1lW29dLnR5cGUmJlwiZ2VvanNvblwiPT09bltvXS50eXBlJiZIZShlLG4sbyk/aS5wdXNoKHtjb21tYW5kOlplLnNldEdlb0pTT05Tb3VyY2VEYXRhLGFyZ3M6W28sbltvXS5kYXRhXX0pOiRlKG8sbixpLHIpKTpXZShvLG4saSkpfShlLnNvdXJjZXMsbi5zb3VyY2VzLG8scik7Y29uc3QgYT1bXTtlLmxheWVycyYmZS5sYXllcnMuZm9yRWFjaChlPT57ZS5zb3VyY2UmJnJbZS5zb3VyY2VdP2kucHVzaCh7Y29tbWFuZDpaZS5yZW1vdmVMYXllcixhcmdzOltlLmlkXX0pOmEucHVzaChlKX0pO2xldCBzPWUudGVycmFpbjtzJiZyW3Muc291cmNlXSYmKGkucHVzaCh7Y29tbWFuZDpaZS5zZXRUZXJyYWluLGFyZ3M6W3ZvaWQgMF19KSxzPXZvaWQgMCksaT1pLmNvbmNhdChvKSx0KHMsbi50ZXJyYWluKXx8aS5wdXNoKHtjb21tYW5kOlplLnNldFRlcnJhaW4sYXJnczpbbi50ZXJyYWluXX0pLGZ1bmN0aW9uKGUsbixpKXtuPW58fFtdO2NvbnN0IHI9KGU9ZXx8W10pLm1hcChZZSksbz1uLm1hcChZZSksYT1lLnJlZHVjZShKZSx7fSkscz1uLnJlZHVjZShKZSx7fSksbD1yLnNsaWNlKCksYz1PYmplY3QuY3JlYXRlKG51bGwpO2xldCB1LGgsZCxwLGYsbSxnO2Zvcih1PTAsaD0wO3U8ci5sZW5ndGg7dSsrKWQ9clt1XSxzLmhhc093blByb3BlcnR5KGQpP2grKzooaS5wdXNoKHtjb21tYW5kOlplLnJlbW92ZUxheWVyLGFyZ3M6W2RdfSksbC5zcGxpY2UobC5pbmRleE9mKGQsaCksMSkpO2Zvcih1PTAsaD0wO3U8by5sZW5ndGg7dSsrKWQ9b1tvLmxlbmd0aC0xLXVdLGxbbC5sZW5ndGgtMS11XSE9PWQmJihhLmhhc093blByb3BlcnR5KGQpPyhpLnB1c2goe2NvbW1hbmQ6WmUucmVtb3ZlTGF5ZXIsYXJnczpbZF19KSxsLnNwbGljZShsLmxhc3RJbmRleE9mKGQsbC5sZW5ndGgtaCksMSkpOmgrKyxtPWxbbC5sZW5ndGgtdV0saS5wdXNoKHtjb21tYW5kOlplLmFkZExheWVyLGFyZ3M6W3NbZF0sbV19KSxsLnNwbGljZShsLmxlbmd0aC11LDAsZCksY1tkXT0hMCk7Zm9yKHU9MDt1PG8ubGVuZ3RoO3UrKylpZihkPW9bdV0scD1hW2RdLGY9c1tkXSwhY1tkXSYmIXQocCxmKSlpZih0KHAuc291cmNlLGYuc291cmNlKSYmdChwW1wic291cmNlLWxheWVyXCJdLGZbXCJzb3VyY2UtbGF5ZXJcIl0pJiZ0KHAudHlwZSxmLnR5cGUpKXtmb3IoZyBpbiBYZShwLmxheW91dCxmLmxheW91dCxpLGQsbnVsbCxaZS5zZXRMYXlvdXRQcm9wZXJ0eSksWGUocC5wYWludCxmLnBhaW50LGksZCxudWxsLFplLnNldFBhaW50UHJvcGVydHkpLHQocC5maWx0ZXIsZi5maWx0ZXIpfHxpLnB1c2goe2NvbW1hbmQ6WmUuc2V0RmlsdGVyLGFyZ3M6W2QsZi5maWx0ZXJdfSksdChwLm1pbnpvb20sZi5taW56b29tKSYmdChwLm1heHpvb20sZi5tYXh6b29tKXx8aS5wdXNoKHtjb21tYW5kOlplLnNldExheWVyWm9vbVJhbmdlLGFyZ3M6W2QsZi5taW56b29tLGYubWF4em9vbV19KSxwKXAuaGFzT3duUHJvcGVydHkoZykmJlwibGF5b3V0XCIhPT1nJiZcInBhaW50XCIhPT1nJiZcImZpbHRlclwiIT09ZyYmXCJtZXRhZGF0YVwiIT09ZyYmXCJtaW56b29tXCIhPT1nJiZcIm1heHpvb21cIiE9PWcmJigwPT09Zy5pbmRleE9mKFwicGFpbnQuXCIpP1hlKHBbZ10sZltnXSxpLGQsZy5zbGljZSg2KSxaZS5zZXRQYWludFByb3BlcnR5KTp0KHBbZ10sZltnXSl8fGkucHVzaCh7Y29tbWFuZDpaZS5zZXRMYXllclByb3BlcnR5LGFyZ3M6W2QsZyxmW2ddXX0pKTtmb3IoZyBpbiBmKWYuaGFzT3duUHJvcGVydHkoZykmJiFwLmhhc093blByb3BlcnR5KGcpJiZcImxheW91dFwiIT09ZyYmXCJwYWludFwiIT09ZyYmXCJmaWx0ZXJcIiE9PWcmJlwibWV0YWRhdGFcIiE9PWcmJlwibWluem9vbVwiIT09ZyYmXCJtYXh6b29tXCIhPT1nJiYoMD09PWcuaW5kZXhPZihcInBhaW50LlwiKT9YZShwW2ddLGZbZ10saSxkLGcuc2xpY2UoNiksWmUuc2V0UGFpbnRQcm9wZXJ0eSk6dChwW2ddLGZbZ10pfHxpLnB1c2goe2NvbW1hbmQ6WmUuc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOltkLGcsZltnXV19KSl9ZWxzZSBpLnB1c2goe2NvbW1hbmQ6WmUucmVtb3ZlTGF5ZXIsYXJnczpbZF19KSxtPWxbbC5sYXN0SW5kZXhPZihkKSsxXSxpLnB1c2goe2NvbW1hbmQ6WmUuYWRkTGF5ZXIsYXJnczpbZixtXX0pfShhLG4ubGF5ZXJzLGkpfWNhdGNoKGUpe2NvbnNvbGUud2FybihcIlVuYWJsZSB0byBjb21wdXRlIHN0eWxlIGRpZmY6XCIsZSksaT1be2NvbW1hbmQ6WmUuc2V0U3R5bGUsYXJnczpbbl19XX1yZXR1cm4gaX0odGhpcy5zZXJpYWxpemUoKSxuKS5maWx0ZXIoZT0+IShlLmNvbW1hbmQgaW4gWHQpKTtpZigwPT09aS5sZW5ndGgpcmV0dXJuITE7Y29uc3Qgcj1pLmZpbHRlcihlPT4hKGUuY29tbWFuZCBpbiBIdCkpO2lmKHIubGVuZ3RoPjApdGhyb3cgbmV3IEVycm9yKGBVbmltcGxlbWVudGVkOiAke3IubWFwKGU9PmUuY29tbWFuZCkuam9pbihcIiwgXCIpfS5gKTtyZXR1cm4gaS5mb3JFYWNoKGU9PntcInNldFRyYW5zaXRpb25cIiE9PWUuY29tbWFuZCYmXCJzZXRQcm9qZWN0aW9uXCIhPT1lLmNvbW1hbmQmJnRoaXNbZS5jb21tYW5kXS5hcHBseSh0aGlzLGUuYXJncyl9KSx0aGlzLnN0eWxlc2hlZXQ9bix0aGlzLl91cGRhdGVNYXBQcm9qZWN0aW9uKCksITB9YWRkSW1hZ2UodCxuKXtyZXR1cm4gdGhpcy5nZXRJbWFnZSh0KT90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJBbiBpbWFnZSB3aXRoIHRoaXMgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIikpKToodGhpcy5pbWFnZU1hbmFnZXIuYWRkSW1hZ2UodCxuKSx0aGlzLl9hZnRlckltYWdlVXBkYXRlZCh0KSx0aGlzKX11cGRhdGVJbWFnZShlLHQpe3RoaXMuaW1hZ2VNYW5hZ2VyLnVwZGF0ZUltYWdlKGUsdCl9Z2V0SW1hZ2UoZSl7cmV0dXJuIHRoaXMuaW1hZ2VNYW5hZ2VyLmdldEltYWdlKGUpfXJlbW92ZUltYWdlKHQpe3JldHVybiB0aGlzLmdldEltYWdlKHQpPyh0aGlzLmltYWdlTWFuYWdlci5yZW1vdmVJbWFnZSh0KSx0aGlzLl9hZnRlckltYWdlVXBkYXRlZCh0KSx0aGlzKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJObyBpbWFnZSB3aXRoIHRoaXMgbmFtZSBleGlzdHMuXCIpKSl9X2FmdGVySW1hZ2VVcGRhdGVkKHQpe3RoaXMuX2F2YWlsYWJsZUltYWdlcz10aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKCksdGhpcy5fY2hhbmdlZEltYWdlc1t0XT0hMCx0aGlzLl9jaGFuZ2VkPSEwLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRJbWFnZXNcIix0aGlzLl9hdmFpbGFibGVJbWFnZXMpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpfWxpc3RJbWFnZXMoKXtyZXR1cm4gdGhpcy5fY2hlY2tMb2FkZWQoKSx0aGlzLl9hdmFpbGFibGVJbWFnZXMuc2xpY2UoKX1hZGRTb3VyY2UodCxuLGk9e30pe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksdm9pZCAwIT09dGhpcy5nZXRTb3VyY2UodCkpdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgaXMgYWxyZWFkeSBhIHNvdXJjZSB3aXRoIHRoaXMgSURcIik7aWYoIW4udHlwZSl0aHJvdyBuZXcgRXJyb3IoYFRoZSB0eXBlIHByb3BlcnR5IG11c3QgYmUgZGVmaW5lZCwgYnV0IG9ubHkgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIHdlcmUgZ2l2ZW46ICR7T2JqZWN0LmtleXMobikuam9pbihcIiwgXCIpfS5gKTtpZihbXCJ2ZWN0b3JcIixcInJhc3RlclwiLFwiZ2VvanNvblwiLFwidmlkZW9cIixcImltYWdlXCJdLmluZGV4T2Yobi50eXBlKT49MCYmdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZVNvdXJjZSxcInNvdXJjZXMuXCIrdCxuLG51bGwsaSkpcmV0dXJuO3RoaXMubWFwJiZ0aGlzLm1hcC5fY29sbGVjdFJlc291cmNlVGltaW5nJiYobi5jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ITApO2NvbnN0IHI9emUodCxuLHRoaXMuZGlzcGF0Y2hlcix0aGlzKTtyLnNldEV2ZW50ZWRQYXJlbnQodGhpcywoKT0+KHtpc1NvdXJjZUxvYWRlZDp0aGlzLl9pc1NvdXJjZUNhY2hlTG9hZGVkKHQpLHNvdXJjZTpyLnNlcmlhbGl6ZSgpLHNvdXJjZUlkOnR9KSk7Y29uc3Qgbz1uPT57Y29uc3QgaT0obj9cInN5bWJvbDpcIjpcIm90aGVyOlwiKSt0LG89dGhpcy5fc291cmNlQ2FjaGVzW2ldPW5ldyBlLlNvdXJjZUNhY2hlKGkscixuKTsobj90aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXM6dGhpcy5fb3RoZXJTb3VyY2VDYWNoZXMpW3RdPW8sby5zdHlsZT10aGlzLG8ub25BZGQodGhpcy5tYXApfTtvKCExKSxcInZlY3RvclwiIT09bi50eXBlJiZcImdlb2pzb25cIiE9PW4udHlwZXx8byghMCksci5vbkFkZCYmci5vbkFkZCh0aGlzLm1hcCksdGhpcy5fY2hhbmdlZD0hMH1yZW1vdmVTb3VyY2UodCl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBuPXRoaXMuZ2V0U291cmNlKHQpO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIHRoaXMgSURcIik7Zm9yKGNvbnN0IG4gaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVyc1tuXS5zb3VyY2U9PT10KXJldHVybiB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFNvdXJjZSBcIiR7dH1cIiBjYW5ub3QgYmUgcmVtb3ZlZCB3aGlsZSBsYXllciBcIiR7bn1cIiBpcyB1c2luZyBpdC5gKSkpO2lmKHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLmdldCgpLnNvdXJjZT09PXQpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgU291cmNlIFwiJHt0fVwiIGNhbm5vdCBiZSByZW1vdmVkIHdoaWxlIHRlcnJhaW4gaXMgdXNpbmcgaXQuYCkpKTtjb25zdCBpPXRoaXMuX2dldFNvdXJjZUNhY2hlcyh0KTtmb3IoY29uc3QgdCBvZiBpKWRlbGV0ZSB0aGlzLl9zb3VyY2VDYWNoZXNbdC5pZF0sZGVsZXRlIHRoaXMuX3VwZGF0ZWRTb3VyY2VzW3QuaWRdLHQuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7c291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwiLGRhdGFUeXBlOlwic291cmNlXCIsc291cmNlSWQ6dC5nZXRTb3VyY2UoKS5pZH0pKSx0LnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdC5jbGVhclRpbGVzKCk7cmV0dXJuIGRlbGV0ZSB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1t0XSxkZWxldGUgdGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW3RdLG4uc2V0RXZlbnRlZFBhcmVudChudWxsKSxuLm9uUmVtb3ZlJiZuLm9uUmVtb3ZlKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwLHRoaXN9c2V0R2VvSlNPTlNvdXJjZURhdGEoZSx0KXt0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuZ2V0U291cmNlKGUpLnNldERhdGEodCksdGhpcy5fY2hhbmdlZD0hMH1nZXRTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9nZXRTb3VyY2VDYWNoZShlKTtyZXR1cm4gdCYmdC5nZXRTb3VyY2UoKX1fZ2V0U291cmNlcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXMpe2NvbnN0IG49dGhpcy5fZ2V0U291cmNlQ2FjaGUodCk7biYmZS5wdXNoKG4uZ2V0U291cmNlKCkpfXJldHVybiBlfWFkZExheWVyKHQsbixpPXt9KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IHI9dC5pZDtpZih0aGlzLmdldExheWVyKHIpKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7cn1cIiBhbHJlYWR5IGV4aXN0cyBvbiB0aGlzIG1hcGApKSk7bGV0IG87aWYoXCJjdXN0b21cIj09PXQudHlwZSl7aWYoJHQodGhpcyxlLnZhbGlkYXRlQ3VzdG9tU3R5bGVMYXllcih0KSkpcmV0dXJuO289ZS5jcmVhdGVTdHlsZUxheWVyKHQpfWVsc2V7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQuc291cmNlJiYodGhpcy5hZGRTb3VyY2Uocix0LnNvdXJjZSksdD1lLmNsb25lJDEodCksdD1lLmV4dGVuZCh0LHtzb3VyY2U6cn0pKSx0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlTGF5ZXIsXCJsYXllcnMuXCIrcix0LHthcnJheUluZGV4Oi0xfSxpKSlyZXR1cm47bz1lLmNyZWF0ZVN0eWxlTGF5ZXIodCksdGhpcy5fdmFsaWRhdGVMYXllcihvKSxvLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7bGF5ZXI6e2lkOnJ9fSksdGhpcy5fc2VyaWFsaXplZExheWVyc1tvLmlkXT1vLnNlcmlhbGl6ZSgpLHRoaXMuX3VwZGF0ZUxheWVyQ291bnQobywhMCl9Y29uc3QgYT1uP3RoaXMuX29yZGVyLmluZGV4T2Yobik6dGhpcy5fb3JkZXIubGVuZ3RoO2lmKG4mJi0xPT09YSlyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYExheWVyIHdpdGggaWQgXCIke259XCIgZG9lcyBub3QgZXhpc3Qgb24gdGhpcyBtYXAuYCkpKTt0aGlzLl9vcmRlci5zcGxpY2UoYSwwLHIpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwLHRoaXMuX2xheWVyc1tyXT1vO2NvbnN0IHM9dGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShvKTtpZih0aGlzLl9yZW1vdmVkTGF5ZXJzW3JdJiZvLnNvdXJjZSYmcyYmXCJjdXN0b21cIiE9PW8udHlwZSl7Y29uc3QgZT10aGlzLl9yZW1vdmVkTGF5ZXJzW3JdO2RlbGV0ZSB0aGlzLl9yZW1vdmVkTGF5ZXJzW3JdLGUudHlwZSE9PW8udHlwZT90aGlzLl91cGRhdGVkU291cmNlc1tvLnNvdXJjZV09XCJjbGVhclwiOih0aGlzLl91cGRhdGVkU291cmNlc1tvLnNvdXJjZV09XCJyZWxvYWRcIixzLnBhdXNlKCkpfXRoaXMuX3VwZGF0ZUxheWVyKG8pLG8ub25BZGQmJm8ub25BZGQodGhpcy5tYXApLHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKX1tb3ZlTGF5ZXIodCxuKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuX2NoYW5nZWQ9ITAsIXRoaXMuX2xheWVyc1t0XSlyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHt0fScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgbW92ZWQuYCkpKTtpZih0PT09bilyZXR1cm47Y29uc3QgaT10aGlzLl9vcmRlci5pbmRleE9mKHQpO3RoaXMuX29yZGVyLnNwbGljZShpLDEpO2NvbnN0IHI9bj90aGlzLl9vcmRlci5pbmRleE9mKG4pOnRoaXMuX29yZGVyLmxlbmd0aDtuJiYtMT09PXI/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtufVwiIGRvZXMgbm90IGV4aXN0IG9uIHRoaXMgbWFwLmApKSk6KHRoaXMuX29yZGVyLnNwbGljZShyLDAsdCksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fdXBkYXRlRHJhcGVGaXJzdExheWVycygpKX1yZW1vdmVMYXllcih0KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IG49dGhpcy5fbGF5ZXJzW3RdO2lmKCFuKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke3R9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSByZW1vdmVkLmApKSk7bi5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuX3VwZGF0ZUxheWVyQ291bnQobiwhMSk7Y29uc3QgaT10aGlzLl9vcmRlci5pbmRleE9mKHQpO3RoaXMuX29yZGVyLnNwbGljZShpLDEpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fcmVtb3ZlZExheWVyc1t0XT1uLGRlbGV0ZSB0aGlzLl9sYXllcnNbdF0sZGVsZXRlIHRoaXMuX3NlcmlhbGl6ZWRMYXllcnNbdF0sZGVsZXRlIHRoaXMuX3VwZGF0ZWRMYXllcnNbdF0sZGVsZXRlIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzW3RdLG4ub25SZW1vdmUmJm4ub25SZW1vdmUodGhpcy5tYXApLHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKX1nZXRMYXllcihlKXtyZXR1cm4gdGhpcy5fbGF5ZXJzW2VdfWhhc0xheWVyKGUpe3JldHVybiBlIGluIHRoaXMuX2xheWVyc31oYXNMYXllclR5cGUoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVyc1t0XS50eXBlPT09ZSlyZXR1cm4hMDtyZXR1cm4hMX1zZXRMYXllclpvb21SYW5nZSh0LG4saSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCByPXRoaXMuZ2V0TGF5ZXIodCk7cj9yLm1pbnpvb209PT1uJiZyLm1heHpvb209PT1pfHwobnVsbCE9biYmKHIubWluem9vbT1uKSxudWxsIT1pJiYoci5tYXh6b29tPWkpLHRoaXMuX3VwZGF0ZUxheWVyKHIpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHt0fScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgaGF2ZSB6b29tIGV4dGVudC5gKSkpfXNldEZpbHRlcihuLGkscj17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBvPXRoaXMuZ2V0TGF5ZXIobik7aWYobyl7aWYoIXQoby5maWx0ZXIsaSkpcmV0dXJuIG51bGw9PWk/KG8uZmlsdGVyPXZvaWQgMCx2b2lkIHRoaXMuX3VwZGF0ZUxheWVyKG8pKTp2b2lkKHRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVGaWx0ZXIsYGxheWVycy4ke28uaWR9LmZpbHRlcmAsaSx7bGF5ZXJUeXBlOm8udHlwZX0scil8fChvLmZpbHRlcj1lLmNsb25lJDEoaSksdGhpcy5fdXBkYXRlTGF5ZXIobykpKX1lbHNlIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke259JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBmaWx0ZXJlZC5gKSkpfWdldEZpbHRlcih0KXtjb25zdCBuPXRoaXMuZ2V0TGF5ZXIodCk7cmV0dXJuIG4mJmUuY2xvbmUkMShuLmZpbHRlcil9c2V0TGF5b3V0UHJvcGVydHkobixpLHIsbz17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBhPXRoaXMuZ2V0TGF5ZXIobik7YT90KGEuZ2V0TGF5b3V0UHJvcGVydHkoaSkscil8fChhLnNldExheW91dFByb3BlcnR5KGkscixvKSx0aGlzLl91cGRhdGVMYXllcihhKSk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7bn0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHN0eWxlZC5gKSkpfWdldExheW91dFByb3BlcnR5KHQsbil7Y29uc3QgaT10aGlzLmdldExheWVyKHQpO2lmKGkpcmV0dXJuIGkuZ2V0TGF5b3V0UHJvcGVydHkobik7dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7dH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpfXNldFBhaW50UHJvcGVydHkobixpLHIsbz17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBhPXRoaXMuZ2V0TGF5ZXIobik7YT90KGEuZ2V0UGFpbnRQcm9wZXJ0eShpKSxyKXx8KGEuc2V0UGFpbnRQcm9wZXJ0eShpLHIsbykmJnRoaXMuX3VwZGF0ZUxheWVyKGEpLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbbl09ITApOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke259JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBzdHlsZWQuYCkpKX1nZXRQYWludFByb3BlcnR5KGUsdCl7Y29uc3Qgbj10aGlzLmdldExheWVyKGUpO3JldHVybiBuJiZuLmdldFBhaW50UHJvcGVydHkodCl9c2V0RmVhdHVyZVN0YXRlKHQsbil7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBpPXQuc291cmNlLHI9dC5zb3VyY2VMYXllcixvPXRoaXMuZ2V0U291cmNlKGkpO2lmKCFvKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZSAnJHtpfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLmApKSk7Y29uc3QgYT1vLnR5cGU7aWYoXCJnZW9qc29uXCI9PT1hJiZyKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkdlb0pTT04gc291cmNlcyBjYW5ub3QgaGF2ZSBhIHNvdXJjZUxheWVyIHBhcmFtZXRlci5cIikpKTtpZihcInZlY3RvclwiPT09YSYmIXIpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLlwiKSkpO3ZvaWQgMD09PXQuaWQmJnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBmZWF0dXJlIGlkIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkLlwiKSkpO2NvbnN0IHM9dGhpcy5fZ2V0U291cmNlQ2FjaGVzKGkpO2Zvcihjb25zdCBlIG9mIHMpZS5zZXRGZWF0dXJlU3RhdGUocix0LmlkLG4pfXJlbW92ZUZlYXR1cmVTdGF0ZSh0LG4pe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10LnNvdXJjZSxyPXRoaXMuZ2V0U291cmNlKGkpO2lmKCFyKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZSAnJHtpfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLmApKSk7Y29uc3Qgbz1yLnR5cGUsYT1cInZlY3RvclwiPT09bz90LnNvdXJjZUxheWVyOnZvaWQgMDtpZihcInZlY3RvclwiPT09byYmIWEpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLlwiKSkpO2lmKG4mJlwic3RyaW5nXCIhPXR5cGVvZiB0LmlkJiZcIm51bWJlclwiIT10eXBlb2YgdC5pZClyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJBIGZlYXR1cmUgaWQgaXMgcmVxdWlyZWQgdG8gcmVtb3ZlIGl0cyBzcGVjaWZpYyBzdGF0ZSBwcm9wZXJ0eS5cIikpKTtjb25zdCBzPXRoaXMuX2dldFNvdXJjZUNhY2hlcyhpKTtmb3IoY29uc3QgZSBvZiBzKWUucmVtb3ZlRmVhdHVyZVN0YXRlKGEsdC5pZCxuKX1nZXRGZWF0dXJlU3RhdGUodCl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBuPXQuc291cmNlLGk9dC5zb3VyY2VMYXllcixyPXRoaXMuZ2V0U291cmNlKG4pO2lmKHIpe2lmKFwidmVjdG9yXCIhPT1yLnR5cGV8fGkpcmV0dXJuIHZvaWQgMD09PXQuaWQmJnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBmZWF0dXJlIGlkIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkLlwiKSkpLHRoaXMuX2dldFNvdXJjZUNhY2hlcyhuKVswXS5nZXRGZWF0dXJlU3RhdGUoaSx0LmlkKTt0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuXCIpKSl9ZWxzZSB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBzb3VyY2UgJyR7bn0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpfWdldFRyYW5zaXRpb24oKXtyZXR1cm4gZS5leHRlbmQoe2R1cmF0aW9uOjMwMCxkZWxheTowfSx0aGlzLnN0eWxlc2hlZXQmJnRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKX1zZXJpYWxpemUoKXtjb25zdCB0PXt9O2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcyl7Y29uc3Qgbj10aGlzLl9zb3VyY2VDYWNoZXNbZV0uZ2V0U291cmNlKCk7dFtuLmlkXXx8KHRbbi5pZF09bi5zZXJpYWxpemUoKSl9cmV0dXJuIGUuZmlsdGVyT2JqZWN0KHt2ZXJzaW9uOnRoaXMuc3R5bGVzaGVldC52ZXJzaW9uLG5hbWU6dGhpcy5zdHlsZXNoZWV0Lm5hbWUsbWV0YWRhdGE6dGhpcy5zdHlsZXNoZWV0Lm1ldGFkYXRhLGxpZ2h0OnRoaXMuc3R5bGVzaGVldC5saWdodCx0ZXJyYWluOnRoaXMuZ2V0VGVycmFpbigpfHx2b2lkIDAsZm9nOnRoaXMuc3R5bGVzaGVldC5mb2csY2VudGVyOnRoaXMuc3R5bGVzaGVldC5jZW50ZXIsem9vbTp0aGlzLnN0eWxlc2hlZXQuem9vbSxiZWFyaW5nOnRoaXMuc3R5bGVzaGVldC5iZWFyaW5nLHBpdGNoOnRoaXMuc3R5bGVzaGVldC5waXRjaCxzcHJpdGU6dGhpcy5zdHlsZXNoZWV0LnNwcml0ZSxnbHlwaHM6dGhpcy5zdHlsZXNoZWV0LmdseXBocyx0cmFuc2l0aW9uOnRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uLHByb2plY3Rpb246dGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24sc291cmNlczp0LGxheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpfSxlPT52b2lkIDAhPT1lKX1fdXBkYXRlTGF5ZXIoZSl7dGhpcy5fdXBkYXRlZExheWVyc1tlLmlkXT0hMDtjb25zdCB0PXRoaXMuX2dldExheWVyU291cmNlQ2FjaGUoZSk7ZS5zb3VyY2UmJiF0aGlzLl91cGRhdGVkU291cmNlc1tlLnNvdXJjZV0mJnQmJlwicmFzdGVyXCIhPT10LmdldFNvdXJjZSgpLnR5cGUmJih0aGlzLl91cGRhdGVkU291cmNlc1tlLnNvdXJjZV09XCJyZWxvYWRcIix0LnBhdXNlKCkpLHRoaXMuX2NoYW5nZWQ9ITAsZS5pbnZhbGlkYXRlQ29tcGlsZWRGaWx0ZXIoKX1fZmxhdHRlbkFuZFNvcnRSZW5kZXJlZEZlYXR1cmVzKGUpe2NvbnN0IHQ9ZT0+XCJmaWxsLWV4dHJ1c2lvblwiPT09dGhpcy5fbGF5ZXJzW2VdLnR5cGUsbj17fSxpPVtdO2ZvcihsZXQgcj10aGlzLl9vcmRlci5sZW5ndGgtMTtyPj0wO3ItLSl7Y29uc3Qgbz10aGlzLl9vcmRlcltyXTtpZih0KG8pKXtuW29dPXI7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10W29dO2lmKGUpZm9yKGNvbnN0IHQgb2YgZSlpLnB1c2godCl9fX1pLnNvcnQoKGUsdCk9PnQuaW50ZXJzZWN0aW9uWi1lLmludGVyc2VjdGlvblopO2NvbnN0IHI9W107Zm9yKGxldCBvPXRoaXMuX29yZGVyLmxlbmd0aC0xO28+PTA7by0tKXtjb25zdCBhPXRoaXMuX29yZGVyW29dO2lmKHQoYSkpZm9yKGxldCBlPWkubGVuZ3RoLTE7ZT49MDtlLS0pe2NvbnN0IHQ9aVtlXS5mZWF0dXJlO2lmKG5bdC5sYXllci5pZF08bylicmVhaztyLnB1c2godCksaS5wb3AoKX1lbHNlIGZvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dFthXTtpZihlKWZvcihjb25zdCB0IG9mIGUpci5wdXNoKHQuZmVhdHVyZSl9fXJldHVybiByfXF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyh0LG4saSl7biYmbi5maWx0ZXImJnRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVGaWx0ZXIsXCJxdWVyeVJlbmRlcmVkRmVhdHVyZXMuZmlsdGVyXCIsbi5maWx0ZXIsbnVsbCxuKTtjb25zdCByPXt9O2lmKG4mJm4ubGF5ZXJzKXtpZighQXJyYXkuaXNBcnJheShuLmxheWVycykpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcInBhcmFtZXRlcnMubGF5ZXJzIG11c3QgYmUgYW4gQXJyYXkuXCIpKSksW107Zm9yKGNvbnN0IHQgb2Ygbi5sYXllcnMpe2NvbnN0IG49dGhpcy5fbGF5ZXJzW3RdO2lmKCFuKXJldHVybiB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHt0fScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgcXVlcmllZCBmb3IgZmVhdHVyZXMuYCkpKSxbXTtyW24uc291cmNlXT0hMH19Y29uc3Qgbz1bXTtuLmF2YWlsYWJsZUltYWdlcz10aGlzLl9hdmFpbGFibGVJbWFnZXM7Y29uc3QgYT1uJiZuLmxheWVycz9uLmxheWVycy5zb21lKGU9Pntjb25zdCB0PXRoaXMuZ2V0TGF5ZXIoZSk7cmV0dXJuIHQmJnQuaXMzRCgpfSk6dGhpcy5oYXMzRExheWVycygpLHM9TC5jcmVhdGVGcm9tU2NyZWVuUG9pbnRzKHQsaSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXtjb25zdCB0PXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5nZXRTb3VyY2UoKS5pZDtuLmxheWVycyYmIXJbdF18fG8ucHVzaChMZSh0aGlzLl9zb3VyY2VDYWNoZXNbZV0sdGhpcy5fbGF5ZXJzLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnMscyxuLGksYSwhIXRoaXMubWFwLl9zaG93UXVlcnlHZW9tZXRyeSkpfXJldHVybiB0aGlzLnBsYWNlbWVudCYmby5wdXNoKGZ1bmN0aW9uKGUsdCxuLGkscixvLGEpe2NvbnN0IHM9e30sbD1vLnF1ZXJ5UmVuZGVyZWRTeW1ib2xzKGkpLGM9W107Zm9yKGNvbnN0IGUgb2YgT2JqZWN0LmtleXMobCkubWFwKE51bWJlcikpYy5wdXNoKGFbZV0pO2Muc29ydChSZSk7Zm9yKGNvbnN0IG4gb2YgYyl7Y29uc3QgaT1uLmZlYXR1cmVJbmRleC5sb29rdXBTeW1ib2xGZWF0dXJlcyhsW24uYnVja2V0SW5zdGFuY2VJZF0sdCxuLmJ1Y2tldEluZGV4LG4uc291cmNlTGF5ZXJJbmRleCxyLmZpbHRlcixyLmxheWVycyxyLmF2YWlsYWJsZUltYWdlcyxlKTtmb3IoY29uc3QgZSBpbiBpKXtjb25zdCB0PXNbZV09c1tlXXx8W10scj1pW2VdO3Iuc29ydCgoZSx0KT0+e2NvbnN0IGk9bi5mZWF0dXJlU29ydE9yZGVyO2lmKGkpe2NvbnN0IG49aS5pbmRleE9mKGUuZmVhdHVyZUluZGV4KTtyZXR1cm4gaS5pbmRleE9mKHQuZmVhdHVyZUluZGV4KS1ufXJldHVybiB0LmZlYXR1cmVJbmRleC1lLmZlYXR1cmVJbmRleH0pO2Zvcihjb25zdCBlIG9mIHIpdC5wdXNoKGUpfX1mb3IoY29uc3QgdCBpbiBzKXNbdF0uZm9yRWFjaChpPT57Y29uc3Qgcj1pLmZlYXR1cmUsbz1uKGVbdF0pLmdldEZlYXR1cmVTdGF0ZShyLmxheWVyW1wic291cmNlLWxheWVyXCJdLHIuaWQpO3Iuc291cmNlPXIubGF5ZXIuc291cmNlLHIubGF5ZXJbXCJzb3VyY2UtbGF5ZXJcIl0mJihyLnNvdXJjZUxheWVyPXIubGF5ZXJbXCJzb3VyY2UtbGF5ZXJcIl0pLHIuc3RhdGU9b30pO3JldHVybiBzfSh0aGlzLl9sYXllcnMsdGhpcy5fc2VyaWFsaXplZExheWVycyx0aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlLmJpbmQodGhpcykscy5zY3JlZW5HZW9tZXRyeSxuLHRoaXMucGxhY2VtZW50LmNvbGxpc2lvbkluZGV4LHRoaXMucGxhY2VtZW50LnJldGFpbmVkUXVlcnlEYXRhKSksdGhpcy5fZmxhdHRlbkFuZFNvcnRSZW5kZXJlZEZlYXR1cmVzKG8pfXF1ZXJ5U291cmNlRmVhdHVyZXModCxuKXtuJiZuLmZpbHRlciYmdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZUZpbHRlcixcInF1ZXJ5U291cmNlRmVhdHVyZXMuZmlsdGVyXCIsbi5maWx0ZXIsbnVsbCxuKTtjb25zdCBpPXRoaXMuX2dldFNvdXJjZUNhY2hlcyh0KTtsZXQgcj1bXTtmb3IoY29uc3QgZSBvZiBpKXI9ci5jb25jYXQoT2UoZSxuKSk7cmV0dXJuIHJ9YWRkU291cmNlVHlwZShlLHQsbil7cmV0dXJuIFF0LmdldFNvdXJjZVR5cGUoZSk/bihuZXcgRXJyb3IoYEEgc291cmNlIHR5cGUgY2FsbGVkIFwiJHtlfVwiIGFscmVhZHkgZXhpc3RzLmApKTooUXQuc2V0U291cmNlVHlwZShlLHQpLHQud29ya2VyU291cmNlVVJMP3ZvaWQgdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcImxvYWRXb3JrZXJTb3VyY2VcIix7bmFtZTplLHVybDp0LndvcmtlclNvdXJjZVVSTH0sbik6bihudWxsLG51bGwpKX1nZXRMaWdodCgpe3JldHVybiB0aGlzLmxpZ2h0LmdldExpZ2h0KCl9c2V0TGlnaHQoZSxuPXt9KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IGk9dGhpcy5saWdodC5nZXRMaWdodCgpO2xldCByPSExO2Zvcihjb25zdCBuIGluIGUpaWYoIXQoZVtuXSxpW25dKSl7cj0hMDticmVha31pZighcilyZXR1cm47Y29uc3Qgbz10aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MzAwLGRlbGF5OjB9KTt0aGlzLmxpZ2h0LnNldExpZ2h0KGUsbiksdGhpcy5saWdodC51cGRhdGVUcmFuc2l0aW9ucyhvKX1nZXRUZXJyYWluKCl7cmV0dXJuIHRoaXMudGVycmFpbiYmMT09PXRoaXMudGVycmFpbi5kcmFwZVJlbmRlck1vZGU/dGhpcy50ZXJyYWluLmdldCgpOm51bGx9c2V0VGVycmFpbkZvckRyYXBpbmcoKXt0aGlzLnNldFRlcnJhaW4oe3NvdXJjZTpcIlwiLGV4YWdnZXJhdGlvbjowfSwwKX1zZXRUZXJyYWluKG4saT0xKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLCFuKXJldHVybiBkZWxldGUgdGhpcy50ZXJyYWluLGRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQudGVycmFpbix0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwiZW5hYmxlVGVycmFpblwiLCExKSx0aGlzLl9mb3JjZTNETGF5ZXJVcGRhdGUoKSx2b2lkKHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwKTtpZigxPT09aSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIG4uc291cmNlKXtjb25zdCB0PVwidGVycmFpbi1kZW0tc3JjXCI7dGhpcy5hZGRTb3VyY2UodCxuLnNvdXJjZSksbj1lLmNsb25lJDEobiksbj1lLmV4dGVuZChuLHtzb3VyY2U6dH0pfWlmKHRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVUZXJyYWluLFwidGVycmFpblwiLG4pKXJldHVybn1pZighdGhpcy50ZXJyYWlufHx0aGlzLnRlcnJhaW4mJmkhPT10aGlzLnRlcnJhaW4uZHJhcGVSZW5kZXJNb2RlKXRoaXMuX2NyZWF0ZVRlcnJhaW4obixpKTtlbHNle2NvbnN0IGk9dGhpcy50ZXJyYWluLHI9aS5nZXQoKTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhlLnNwZWMudGVycmFpbikpIW4uaGFzT3duUHJvcGVydHkodCkmJmUuc3BlYy50ZXJyYWluW3RdLmRlZmF1bHQmJihuW3RdPWUuc3BlYy50ZXJyYWluW3RdLmRlZmF1bHQpO2Zvcihjb25zdCBlIGluIG4paWYoIXQobltlXSxyW2VdKSl7aS5zZXQobiksdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW49bjtjb25zdCBlPXRoaXMuX3NldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjowfSk7aS51cGRhdGVUcmFuc2l0aW9ucyhlKTticmVha319dGhpcy5fdXBkYXRlRHJhcGVGaXJzdExheWVycygpLHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwfV9jcmVhdGVGb2coZSl7Y29uc3QgdD10aGlzLmZvZz1uZXcgUChlLHRoaXMubWFwLnRyYW5zZm9ybSk7dGhpcy5zdHlsZXNoZWV0LmZvZz1lO2NvbnN0IG49dGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjB9KTt0LnVwZGF0ZVRyYW5zaXRpb25zKG4pfV91cGRhdGVNYXJrZXJzT3BhY2l0eSgpezAhPT10aGlzLm1hcC5fbWFya2Vycy5sZW5ndGgmJnRoaXMubWFwLl9yZXF1ZXN0RG9tVGFzaygoKT0+e2Zvcihjb25zdCBlIG9mIHRoaXMubWFwLl9tYXJrZXJzKWUuX2V2YWx1YXRlT3BhY2l0eSgpfSl9Z2V0Rm9nKCl7cmV0dXJuIHRoaXMuZm9nP3RoaXMuZm9nLmdldCgpOm51bGx9c2V0Rm9nKGUpe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksIWUpcmV0dXJuIGRlbGV0ZSB0aGlzLmZvZyxkZWxldGUgdGhpcy5zdHlsZXNoZWV0LmZvZyx2b2lkKHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwKTtpZih0aGlzLmZvZyl7Y29uc3Qgbj10aGlzLmZvZyxpPW4uZ2V0KCk7MD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmbi5zZXQoZSk7Zm9yKGNvbnN0IHIgaW4gZSlpZighdChlW3JdLGlbcl0pKXtuLnNldChlKSx0aGlzLnN0eWxlc2hlZXQuZm9nPWU7Y29uc3QgdD10aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MH0pO24udXBkYXRlVHJhbnNpdGlvbnModCk7YnJlYWt9fWVsc2UgdGhpcy5fY3JlYXRlRm9nKGUpO3RoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSEwfV9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh0KXtyZXR1cm57bm93OmUuZXhwb3J0ZWQubm93KCksdHJhbnNpdGlvbjplLmV4dGVuZCh0LHRoaXMuc3R5bGVzaGVldC50cmFuc2l0aW9uKX19X3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKXtpZighdGhpcy5tYXAuX29wdGltaXplRm9yVGVycmFpbnx8IXRoaXMudGVycmFpbilyZXR1cm47Y29uc3QgZT10aGlzLl9vcmRlci5maWx0ZXIoZT0+dGhpcy5pc0xheWVyRHJhcGVkKHRoaXMuX2xheWVyc1tlXSkpLHQ9dGhpcy5fb3JkZXIuZmlsdGVyKGU9PiF0aGlzLmlzTGF5ZXJEcmFwZWQodGhpcy5fbGF5ZXJzW2VdKSk7dGhpcy5fZHJhcGVkRmlyc3RPcmRlcj1bXSx0aGlzLl9kcmFwZWRGaXJzdE9yZGVyLnB1c2goLi4uZSksdGhpcy5fZHJhcGVkRmlyc3RPcmRlci5wdXNoKC4uLnQpfV9jcmVhdGVUZXJyYWluKGUsdCl7Y29uc3Qgbj10aGlzLnRlcnJhaW49bmV3IE0oZSx0KTt0aGlzLnN0eWxlc2hlZXQudGVycmFpbj1lLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJlbmFibGVUZXJyYWluXCIsIXRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkpLHRoaXMuX2ZvcmNlM0RMYXllclVwZGF0ZSgpO2NvbnN0IGk9dGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjB9KTtuLnVwZGF0ZVRyYW5zaXRpb25zKGkpfV9mb3JjZTNETGF5ZXJVcGRhdGUoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpe2NvbnN0IHQ9dGhpcy5fbGF5ZXJzW2VdO1wiZmlsbC1leHRydXNpb25cIj09PXQudHlwZSYmdGhpcy5fdXBkYXRlTGF5ZXIodCl9fV9mb3JjZVN5bWJvbExheWVyVXBkYXRlKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbGF5ZXJzKXtjb25zdCB0PXRoaXMuX2xheWVyc1tlXTtcInN5bWJvbFwiPT09dC50eXBlJiZ0aGlzLl91cGRhdGVMYXllcih0KX19X3ZhbGlkYXRlKHQsbixpLHIsbz17fSl7cmV0dXJuKCFvfHwhMSE9PW8udmFsaWRhdGUpJiYkdCh0aGlzLHQuY2FsbChlLnZhbGlkYXRlU3R5bGUsZS5leHRlbmQoe2tleTpuLHN0eWxlOnRoaXMuc2VyaWFsaXplKCksdmFsdWU6aSxzdHlsZVNwZWM6ZS5zcGVjfSxyKSkpfV9yZW1vdmUoKXt0aGlzLl9yZXF1ZXN0JiYodGhpcy5fcmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9yZXF1ZXN0PW51bGwpLHRoaXMuX3Nwcml0ZVJlcXVlc3QmJih0aGlzLl9zcHJpdGVSZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3Nwcml0ZVJlcXVlc3Q9bnVsbCksZS5ldmVudGVkLm9mZihcInBsdWdpblN0YXRlQ2hhbmdlXCIsdGhpcy5fcnRsVGV4dFBsdWdpbkNhbGxiYWNrKTtmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpdGhpcy5fbGF5ZXJzW2VdLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5jbGVhclRpbGVzKCksdGhpcy5fc291cmNlQ2FjaGVzW2VdLnNldEV2ZW50ZWRQYXJlbnQobnVsbCk7dGhpcy5pbWFnZU1hbmFnZXIuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5kaXNwYXRjaGVyLnJlbW92ZSgpfV9jbGVhclNvdXJjZShlKXtjb25zdCB0PXRoaXMuX2dldFNvdXJjZUNhY2hlcyhlKTtmb3IoY29uc3QgZSBvZiB0KWUuY2xlYXJUaWxlcygpfV9yZWxvYWRTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9nZXRTb3VyY2VDYWNoZXMoZSk7Zm9yKGNvbnN0IGUgb2YgdCllLnJlc3VtZSgpLGUucmVsb2FkKCl9X3JlbG9hZFNvdXJjZXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLl9nZXRTb3VyY2VzKCkpZS5yZWxvYWQmJmUucmVsb2FkKCl9X3VwZGF0ZVNvdXJjZXMoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1t0XS51cGRhdGUoZSl9X2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpe2NvbnN0IHQ9dGhpcy5fc291cmNlQ2FjaGVzW2VdO3QucmVzdW1lKCksdC5yZWxvYWQoKX19X3VwZGF0ZVBsYWNlbWVudCh0LG4saSxyLG89ITEpe2xldCBhPSExLHM9ITE7Y29uc3QgbD17fTtmb3IoY29uc3QgZSBvZiB0aGlzLl9vcmRlcil7Y29uc3Qgbj10aGlzLl9sYXllcnNbZV07aWYoXCJzeW1ib2xcIiE9PW4udHlwZSljb250aW51ZTtpZighbFtuLnNvdXJjZV0pe2NvbnN0IGU9dGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShuKTtpZighZSljb250aW51ZTtsW24uc291cmNlXT1lLmdldFJlbmRlcmFibGVJZHMoITApLm1hcCh0PT5lLmdldFRpbGVCeUlEKHQpKS5zb3J0KChlLHQpPT50LnRpbGVJRC5vdmVyc2NhbGVkWi1lLnRpbGVJRC5vdmVyc2NhbGVkWnx8KGUudGlsZUlELmlzTGVzc1RoYW4odC50aWxlSUQpPy0xOjEpKX1jb25zdCBpPXRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXguYWRkTGF5ZXIobixsW24uc291cmNlXSx0LmNlbnRlci5sbmcsdC5wcm9qZWN0aW9uKTthPWF8fGl9aWYodGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5wcnVuZVVudXNlZExheWVycyh0aGlzLl9vcmRlciksbz1vfHx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZHx8MD09PWksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcIm5ld29yZGVyXCIpKSwob3x8IXRoaXMucGF1c2VhYmxlUGxhY2VtZW50fHx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSYmIXRoaXMucGxhY2VtZW50LnN0aWxsUmVjZW50KGUuZXhwb3J0ZWQubm93KCksdC56b29tKSkmJih0aGlzLnBhdXNlYWJsZVBsYWNlbWVudD1uZXcgVXQodCx0aGlzLl9vcmRlcixvLG4saSxyLHRoaXMucGxhY2VtZW50LHRoaXMuZm9nJiZ0LnByb2plY3Rpb24uc3VwcG9ydHNGb2c/dGhpcy5mb2cuc3RhdGU6bnVsbCksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITEpLHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpP3RoaXMucGxhY2VtZW50LnNldFN0YWxlKCk6KHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmNvbnRpbnVlUGxhY2VtZW50KHRoaXMuX29yZGVyLHRoaXMuX2xheWVycyxsKSx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKSYmKHRoaXMucGxhY2VtZW50PXRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmNvbW1pdChlLmV4cG9ydGVkLm5vdygpKSxzPSEwKSxhJiZ0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5wbGFjZW1lbnQuc2V0U3RhbGUoKSksc3x8YSlmb3IoY29uc3QgZSBvZiB0aGlzLl9vcmRlcil7Y29uc3QgdD10aGlzLl9sYXllcnNbZV07XCJzeW1ib2xcIj09PXQudHlwZSYmdGhpcy5wbGFjZW1lbnQudXBkYXRlTGF5ZXJPcGFjaXRpZXModCxsW3Quc291cmNlXSl9cmV0dXJuIXRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpfHx0aGlzLnBsYWNlbWVudC5oYXNUcmFuc2l0aW9ucyhlLmV4cG9ydGVkLm5vdygpKX1fcmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpe2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcyl0aGlzLl9zb3VyY2VDYWNoZXNbZV0ucmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpfWdldEltYWdlcyhlLHQsbil7dGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2VzKHQuaWNvbnMsbiksdGhpcy5fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCk7Y29uc3QgaT1lPT57ZSYmZS5zZXREZXBlbmRlbmNpZXModC50aWxlSUQua2V5LHQudHlwZSx0Lmljb25zKX07aSh0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1t0LnNvdXJjZV0pLGkodGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW3Quc291cmNlXSl9Z2V0R2x5cGhzKGUsdCxuKXt0aGlzLmdseXBoTWFuYWdlci5nZXRHbHlwaHModC5zdGFja3Msbil9Z2V0UmVzb3VyY2UodCxuLGkpe3JldHVybiBlLm1ha2VSZXF1ZXN0KG4saSl9X2dldFNvdXJjZUNhY2hlKGUpe3JldHVybiB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlXX1fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKXtyZXR1cm5cInN5bWJvbFwiPT09ZS50eXBlP3RoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tlLnNvdXJjZV06dGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbZS5zb3VyY2VdfV9nZXRTb3VyY2VDYWNoZXMoZSl7Y29uc3QgdD1bXTtyZXR1cm4gdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbZV0mJnQucHVzaCh0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlXSksdGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW2VdJiZ0LnB1c2godGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW2VdKSx0fV9pc1NvdXJjZUNhY2hlTG9hZGVkKHQpe2NvbnN0IG49dGhpcy5fZ2V0U291cmNlQ2FjaGVzKHQpO3JldHVybiAwPT09bi5sZW5ndGg/KHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlcmUgaXMgbm8gc291cmNlIHdpdGggSUQgJyR7dH0nYCkpKSwhMSk6bi5ldmVyeShlPT5lLmxvYWRlZCgpKX1oYXMzRExheWVycygpe3JldHVybiB0aGlzLl9udW0zRExheWVycz4wfWhhc1N5bWJvbExheWVycygpe3JldHVybiB0aGlzLl9udW1TeW1ib2xMYXllcnM+MH1oYXNDaXJjbGVMYXllcnMoKXtyZXR1cm4gdGhpcy5fbnVtQ2lyY2xlTGF5ZXJzPjB9X2NsZWFyV29ya2VyQ2FjaGVzKCl7dGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcImNsZWFyQ2FjaGVzXCIpfWRlc3Ryb3koKXt0aGlzLl9jbGVhcldvcmtlckNhY2hlcygpLHRoaXMudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkmJihkZWxldGUgdGhpcy50ZXJyYWluLGRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQudGVycmFpbil9fVF0LmdldFNvdXJjZVR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuIFBlW2VdfSxRdC5zZXRTb3VyY2VUeXBlPWZ1bmN0aW9uKGUsdCl7UGVbZV09dH0sUXQucmVnaXN0ZXJGb3JQbHVnaW5TdGF0ZUNoYW5nZT1lLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2U7dmFyIEt0PVwiXFxuI2RlZmluZSBFUFNJTE9OIDAuMDAwMDAwMVxcbiNkZWZpbmUgUEkgMy4xNDE1OTI2NTM1ODk3OTNcXG4jZGVmaW5lIEVYVEVOVCA4MTkyLjBcXG4jZGVmaW5lIEhBTEZfUEkgUEkvMi4wXFxuI2RlZmluZSBRVUFSVEVSX1BJIFBJLzQuMFxcbiNkZWZpbmUgUkFEX1RPX0RFRyAxODAuMC9QSVxcbiNkZWZpbmUgREVHX1RPX1JBRCBQSS8xODAuMFxcbiNkZWZpbmUgR0xPQkVfUkFESVVTIEVYVEVOVC9QSS8yLjBcIixlbj1cImF0dHJpYnV0ZSBoaWdocCB2ZWMzIGFfcG9zXzNmO3VuaWZvcm0gbG93cCBtYXQ0IHVfbWF0cml4O3ZhcnlpbmcgaGlnaHAgdmVjMyB2X3V2O3ZvaWQgbWFpbigpIHtjb25zdCBtYXQzIGhhbGZfbmVnX3BpX2Fyb3VuZF94PW1hdDMoMS4wLDAuMCwgMC4wLDAuMCwwLjAsLTEuMCwwLjAsMS4wLCAwLjApO3ZfdXY9aGFsZl9uZWdfcGlfYXJvdW5kX3gqYV9wb3NfM2Y7dmVjNCBwb3M9dV9tYXRyaXgqdmVjNChhX3Bvc18zZiwxLjApO2dsX1Bvc2l0aW9uPXBvcy54eXd3O31cIix0bj1cIlxcbiNkZWZpbmUgRUxFVkFUSU9OX1NDQUxFIDcuMFxcbiNkZWZpbmUgRUxFVkFUSU9OX09GRlNFVCA0NTAuMFxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX3RsX3VwO3VuaWZvcm0gdmVjMyB1X3RpbGVfdHJfdXA7dW5pZm9ybSB2ZWMzIHVfdGlsZV9icl91cDt1bmlmb3JtIHZlYzMgdV90aWxlX2JsX3VwO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VwX3NjYWxlO3ZlYzMgZWxldmF0aW9uVmVjdG9yKHZlYzIgcG9zKSB7dmVjMiB1dj1wb3MvRVhURU5UO3ZlYzMgdXA9bm9ybWFsaXplKG1peChcXG5taXgodV90aWxlX3RsX3VwLHVfdGlsZV90cl91cCx1di54eHgpLG1peCh1X3RpbGVfYmxfdXAsdV90aWxlX2JyX3VwLHV2Lnh4eCksdXYueXl5KSk7cmV0dXJuIHVwKnVfdGlsZV91cF9zY2FsZTt9XFxuI2Vsc2VcXG52ZWMzIGVsZXZhdGlvblZlY3Rvcih2ZWMyIHBvcykgeyByZXR1cm4gdmVjMygwLDAsMSk7IH1cXG4jZW5kaWZcXG4jaWZkZWYgVEVSUkFJTlxcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG51bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCB1X2RlbTt1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyRCB1X2RlbV9wcmV2O1xcbiNlbHNlXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9kZW07dW5pZm9ybSBzYW1wbGVyMkQgdV9kZW1fcHJldjtcXG4jZW5kaWZcXG51bmlmb3JtIHZlYzQgdV9kZW1fdW5wYWNrO3VuaWZvcm0gdmVjMiB1X2RlbV90bDt1bmlmb3JtIHZlYzIgdV9kZW1fdGxfcHJldjt1bmlmb3JtIGZsb2F0IHVfZGVtX3NjYWxlO3VuaWZvcm0gZmxvYXQgdV9kZW1fc2NhbGVfcHJldjt1bmlmb3JtIGZsb2F0IHVfZGVtX3NpemU7dW5pZm9ybSBmbG9hdCB1X2RlbV9sZXJwO3VuaWZvcm0gZmxvYXQgdV9leGFnZ2VyYXRpb247dW5pZm9ybSBmbG9hdCB1X21ldGVyX3RvX2RlbTt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52O3VuaWZvcm0gc2FtcGxlcjJEIHVfZGVwdGg7dW5pZm9ybSB2ZWMyIHVfZGVwdGhfc2l6ZV9pbnY7dmVjNCB0aWxlVXZUb0RlbVNhbXBsZSh2ZWMyIHV2LGZsb2F0IGRlbV9zaXplLGZsb2F0IGRlbV9zY2FsZSx2ZWMyIGRlbV90bCkge3ZlYzIgcG9zPWRlbV9zaXplKih1dipkZW1fc2NhbGUrZGVtX3RsKSsxLjA7dmVjMiBmPWZyYWN0KHBvcyk7cmV0dXJuIHZlYzQoKHBvcy1mKzAuNSkvKGRlbV9zaXplKzIuMCksZik7fWZsb2F0IGRlY29kZUVsZXZhdGlvbih2ZWM0IHYpIHtyZXR1cm4gZG90KHZlYzQodi54eXoqMjU1LjAsLTEuMCksdV9kZW1fdW5wYWNrKTt9ZmxvYXQgY3VycmVudEVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxudmVjMiBwb3M9KHVfZGVtX3NpemUqKGFwb3MvODE5Mi4wKnVfZGVtX3NjYWxlK3VfZGVtX3RsKSsxLjUpLyh1X2RlbV9zaXplKzIuMCk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKnRleHR1cmUyRCh1X2RlbSxwb3MpLmE7XFxuI2Vsc2VcXG5mbG9hdCBkZD0xLjAvKHVfZGVtX3NpemUrMi4wKTt2ZWM0IHI9dGlsZVV2VG9EZW1TYW1wbGUoYXBvcy84MTkyLjAsdV9kZW1fc2l6ZSx1X2RlbV9zY2FsZSx1X2RlbV90bCk7dmVjMiBwb3M9ci54eTt2ZWMyIGY9ci56dztmbG9hdCB0bD1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcykpO1xcbiNpZmRlZiBURVJSQUlOX0RFTV9ORUFSRVNUX0ZJTFRFUlxcbnJldHVybiB1X2V4YWdnZXJhdGlvbip0bDtcXG4jZW5kaWZcXG5mbG9hdCB0cj1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKGRkLDAuMCkpKTtmbG9hdCBibD1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKDAuMCxkZCkpKTtmbG9hdCBicj1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKGRkLGRkKSkpO3JldHVybiB1X2V4YWdnZXJhdGlvbiptaXgobWl4KHRsLHRyLGYueCksbWl4KGJsLGJyLGYueCksZi55KTtcXG4jZW5kaWZcXG59ZmxvYXQgcHJldkVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxudmVjMiBwb3M9KHVfZGVtX3NpemUqKGFwb3MvODE5Mi4wKnVfZGVtX3NjYWxlX3ByZXYrdV9kZW1fdGxfcHJldikrMS41KS8odV9kZW1fc2l6ZSsyLjApO3JldHVybiB1X2V4YWdnZXJhdGlvbip0ZXh0dXJlMkQodV9kZW1fcHJldixwb3MpLmE7XFxuI2Vsc2VcXG5mbG9hdCBkZD0xLjAvKHVfZGVtX3NpemUrMi4wKTt2ZWM0IHI9dGlsZVV2VG9EZW1TYW1wbGUoYXBvcy84MTkyLjAsdV9kZW1fc2l6ZSx1X2RlbV9zY2FsZV9wcmV2LHVfZGVtX3RsX3ByZXYpO3ZlYzIgcG9zPXIueHk7dmVjMiBmPXIuenc7ZmxvYXQgdGw9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbV9wcmV2LHBvcykpO2Zsb2F0IHRyPWRlY29kZUVsZXZhdGlvbih0ZXh0dXJlMkQodV9kZW1fcHJldixwb3MrdmVjMihkZCwwLjApKSk7ZmxvYXQgYmw9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbV9wcmV2LHBvcyt2ZWMyKDAuMCxkZCkpKTtmbG9hdCBicj1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtX3ByZXYscG9zK3ZlYzIoZGQsZGQpKSk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKm1peChtaXgodGwsdHIsZi54KSxtaXgoYmwsYnIsZi54KSxmLnkpO1xcbiNlbmRpZlxcbn1cXG4jaWZkZWYgVEVSUkFJTl9WRVJURVhfTU9SUEhJTkdcXG5mbG9hdCBlbGV2YXRpb24odmVjMiBhcG9zKSB7XFxuI2lmZGVmIFpFUk9fRVhBR0dFUkFUSU9OXFxucmV0dXJuIDAuMDtcXG4jZW5kaWZcXG5mbG9hdCBuZXh0RWxldmF0aW9uPWN1cnJlbnRFbGV2YXRpb24oYXBvcyk7ZmxvYXQgcHJldkVsZXZhdGlvbj1wcmV2RWxldmF0aW9uKGFwb3MpO3JldHVybiBtaXgocHJldkVsZXZhdGlvbixuZXh0RWxldmF0aW9uLHVfZGVtX2xlcnApO31cXG4jZWxzZVxcbmZsb2F0IGVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgWkVST19FWEFHR0VSQVRJT05cXG5yZXR1cm4gMC4wO1xcbiNlbmRpZlxcbnJldHVybiBjdXJyZW50RWxldmF0aW9uKGFwb3MpO31cXG4jZW5kaWZcXG5oaWdocCBmbG9hdCB1bnBhY2tfZGVwdGgoaGlnaHAgdmVjNCByZ2JhX2RlcHRoKVxcbntjb25zdCBoaWdocCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDEuMC8oMjU1LjAqMjU1LjAqMjU1LjApLDEuMC8oMjU1LjAqMjU1LjApLDEuMC8yNTUuMCwxLjApO3JldHVybiBkb3QocmdiYV9kZXB0aCxiaXRfc2hpZnQpKjIuMC0xLjA7fWJvb2wgaXNPY2NsdWRlZCh2ZWM0IGZyYWcpIHt2ZWMzIGNvb3JkPWZyYWcueHl6L2ZyYWcudztmbG9hdCBkZXB0aD11bnBhY2tfZGVwdGgodGV4dHVyZTJEKHVfZGVwdGgsKGNvb3JkLnh5KzEuMCkqMC41KSk7cmV0dXJuIGNvb3JkLnogPiBkZXB0aCswLjAwMDU7fWZsb2F0IG9jY2x1c2lvbkZhZGUodmVjNCBmcmFnKSB7dmVjMyBjb29yZD1mcmFnLnh5ei9mcmFnLnc7dmVjMyBkZj12ZWMzKDUuMCp1X2RlcHRoX3NpemVfaW52LDAuMCk7dmVjMiB1dj0wLjUqY29vcmQueHkrMC41O3ZlYzQgZGVwdGg9dmVjNChcXG51bnBhY2tfZGVwdGgodGV4dHVyZTJEKHVfZGVwdGgsdXYtZGYueHopKSx1bnBhY2tfZGVwdGgodGV4dHVyZTJEKHVfZGVwdGgsdXYrZGYueHopKSx1bnBhY2tfZGVwdGgodGV4dHVyZTJEKHVfZGVwdGgsdXYtZGYuenkpKSx1bnBhY2tfZGVwdGgodGV4dHVyZTJEKHVfZGVwdGgsdXYrZGYuenkpKVxcbik7cmV0dXJuIGRvdCh2ZWM0KDAuMjUpLHZlYzQoMS4wKS1jbGFtcCgzMDAuMCoodmVjNChjb29yZC56LTAuMDAxKS1kZXB0aCksMC4wLDEuMCkpO312ZWM0IGZvdXJTYW1wbGUodmVjMiBwb3MsdmVjMiBvZmYpIHtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxuZmxvYXQgdGw9dGV4dHVyZTJEKHVfZGVtLHBvcykuYTtmbG9hdCB0cj10ZXh0dXJlMkQodV9kZW0scG9zK3ZlYzIob2ZmLngsMC4wKSkuYTtmbG9hdCBibD10ZXh0dXJlMkQodV9kZW0scG9zK3ZlYzIoMC4wLG9mZi55KSkuYTtmbG9hdCBicj10ZXh0dXJlMkQodV9kZW0scG9zK29mZikuYTtcXG4jZWxzZVxcbnZlYzQgZGVtdGw9dmVjNCh0ZXh0dXJlMkQodV9kZW0scG9zKS54eXoqMjU1LjAsLTEuMCk7ZmxvYXQgdGw9ZG90KGRlbXRsLHVfZGVtX3VucGFjayk7dmVjNCBkZW10cj12ZWM0KHRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMihvZmYueCwwLjApKS54eXoqMjU1LjAsLTEuMCk7ZmxvYXQgdHI9ZG90KGRlbXRyLHVfZGVtX3VucGFjayk7dmVjNCBkZW1ibD12ZWM0KHRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMigwLjAsb2ZmLnkpKS54eXoqMjU1LjAsLTEuMCk7ZmxvYXQgYmw9ZG90KGRlbWJsLHVfZGVtX3VucGFjayk7dmVjNCBkZW1icj12ZWM0KHRleHR1cmUyRCh1X2RlbSxwb3Mrb2ZmKS54eXoqMjU1LjAsLTEuMCk7ZmxvYXQgYnI9ZG90KGRlbWJyLHVfZGVtX3VucGFjayk7XFxuI2VuZGlmXFxucmV0dXJuIHZlYzQodGwsdHIsYmwsYnIpO31mbG9hdCBmbGF0RWxldmF0aW9uKHZlYzIgcGFjaykge3ZlYzIgYXBvcz1mbG9vcihwYWNrLzguMCk7dmVjMiBzcGFuPTEwLjAqKHBhY2stYXBvcyo4LjApO3ZlYzIgdXZUZXg9KGFwb3MtdmVjMigxLjAsMS4wKSkvODE5MC4wO2Zsb2F0IHNpemU9dV9kZW1fc2l6ZSsyLjA7ZmxvYXQgZGQ9MS4wL3NpemU7dmVjMiBwb3M9dV9kZW1fc2l6ZSoodXZUZXgqdV9kZW1fc2NhbGUrdV9kZW1fdGwpKzEuMDt2ZWMyIGY9ZnJhY3QocG9zKTtwb3M9KHBvcy1mKzAuNSkqZGQ7dmVjNCBoPWZvdXJTYW1wbGUocG9zLHZlYzIoZGQpKTtmbG9hdCB6PW1peChtaXgoaC54LGgueSxmLngpLG1peChoLnosaC53LGYueCksZi55KTt2ZWMyIHc9Zmxvb3IoMC41KihzcGFuKnVfbWV0ZXJfdG9fZGVtLTEuMCkpO3ZlYzIgZD1kZCp3O2g9Zm91clNhbXBsZShwb3MtZCwyLjAqZCt2ZWMyKGRkKSk7dmVjNCBkaWZmPWFicyhoLnh6eHktaC55d3p3KTt2ZWMyIHNsb3BlPW1pbih2ZWMyKDAuMjUpLHVfbWV0ZXJfdG9fZGVtKjAuNSooZGlmZi54eitkaWZmLnl3KS8oMi4wKncrdmVjMigxLjApKSk7dmVjMiBmaXg9c2xvcGUqc3BhbjtmbG9hdCBiYXNlPXorbWF4KGZpeC54LGZpeC55KTtyZXR1cm4gdV9leGFnZ2VyYXRpb24qYmFzZTt9ZmxvYXQgZWxldmF0aW9uRnJvbVVpbnQxNihmbG9hdCB3b3JkKSB7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKih3b3JkL0VMRVZBVElPTl9TQ0FMRS1FTEVWQVRJT05fT0ZGU0VUKTt9XFxuI2Vsc2VcXG5mbG9hdCBlbGV2YXRpb24odmVjMiBwb3MpIHsgcmV0dXJuIDAuMDsgfWJvb2wgaXNPY2NsdWRlZCh2ZWM0IGZyYWcpIHsgcmV0dXJuIGZhbHNlOyB9ZmxvYXQgb2NjbHVzaW9uRmFkZSh2ZWM0IGZyYWcpIHsgcmV0dXJuIDEuMDsgfVxcbiNlbmRpZlwiLG5uPVwiI2lmZGVmIEZPR1xcbnVuaWZvcm0gbWVkaXVtcCB2ZWM0IHVfZm9nX2NvbG9yO3VuaWZvcm0gbWVkaXVtcCB2ZWMyIHVfZm9nX3JhbmdlO3VuaWZvcm0gbWVkaXVtcCBmbG9hdCB1X2ZvZ19ob3Jpem9uX2JsZW5kO3VuaWZvcm0gbWVkaXVtcCBtYXQ0IHVfZm9nX21hdHJpeDt2YXJ5aW5nIHZlYzMgdl9mb2dfcG9zO2Zsb2F0IGZvZ19yYW5nZShmbG9hdCBkZXB0aCkge3JldHVybiAoZGVwdGgtdV9mb2dfcmFuZ2VbMF0pLyh1X2ZvZ19yYW5nZVsxXS11X2ZvZ19yYW5nZVswXSk7fWZsb2F0IGZvZ19ob3Jpem9uX2JsZW5kaW5nKHZlYzMgY2FtZXJhX2Rpcikge2Zsb2F0IHQ9bWF4KDAuMCxjYW1lcmFfZGlyLnovdV9mb2dfaG9yaXpvbl9ibGVuZCk7cmV0dXJuIHVfZm9nX2NvbG9yLmEqZXhwKC0zLjAqdCp0KTt9ZmxvYXQgZm9nX29wYWNpdHkoZmxvYXQgdCkge2NvbnN0IGZsb2F0IGRlY2F5PTYuMDtmbG9hdCBmYWxsb2ZmPTEuMC1taW4oMS4wLGV4cCgtZGVjYXkqdCkpO2ZhbGxvZmYqPWZhbGxvZmYqZmFsbG9mZjtyZXR1cm4gdV9mb2dfY29sb3IuYSptaW4oMS4wLDEuMDA3NDcqZmFsbG9mZik7fXZlYzMgZm9nX3Bvc2l0aW9uKHZlYzMgcG9zKSB7cmV0dXJuICh1X2ZvZ19tYXRyaXgqdmVjNChwb3MsMS4wKSkueHl6O312ZWMzIGZvZ19wb3NpdGlvbih2ZWMyIHBvcykge3JldHVybiBmb2dfcG9zaXRpb24odmVjMyhwb3MsMC4wKSk7fWZsb2F0IGZvZyh2ZWMzIHBvcykge2Zsb2F0IGRlcHRoPWxlbmd0aChwb3MpO2Zsb2F0IG9wYWNpdHk9Zm9nX29wYWNpdHkoZm9nX3JhbmdlKGRlcHRoKSk7cmV0dXJuIG9wYWNpdHkqZm9nX2hvcml6b25fYmxlbmRpbmcocG9zL2RlcHRoKTt9XFxuI2VuZGlmXCIscm49XCIjaWZkZWYgRk9HXFxudW5pZm9ybSBtZWRpdW1wIHZlYzQgdV9mb2dfY29sb3I7dW5pZm9ybSBtZWRpdW1wIHZlYzIgdV9mb2dfcmFuZ2U7dW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfZm9nX2hvcml6b25fYmxlbmQ7dW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfZm9nX3RlbXBvcmFsX29mZnNldDt2YXJ5aW5nIHZlYzMgdl9mb2dfcG9zO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fdGw7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV90cjt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX2JyO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fYmw7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZ2xvYmVfcG9zO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nbG9iZV9yYWRpdXM7dW5pZm9ybSBoaWdocCB2ZWMyIHVfdmlld3BvcnQ7dW5pZm9ybSBmbG9hdCB1X2dsb2JlX3RyYW5zaXRpb247dW5pZm9ybSBpbnQgdV9pc19nbG9iZTtmbG9hdCBmb2dfcmFuZ2UoZmxvYXQgZGVwdGgpIHtyZXR1cm4gKGRlcHRoLXVfZm9nX3JhbmdlWzBdKS8odV9mb2dfcmFuZ2VbMV0tdV9mb2dfcmFuZ2VbMF0pO31mbG9hdCBmb2dfaG9yaXpvbl9ibGVuZGluZyh2ZWMzIGNhbWVyYV9kaXIpIHtmbG9hdCB0PW1heCgwLjAsY2FtZXJhX2Rpci56L3VfZm9nX2hvcml6b25fYmxlbmQpO3JldHVybiB1X2ZvZ19jb2xvci5hKmV4cCgtMy4wKnQqdCk7fWZsb2F0IGZvZ19vcGFjaXR5KGZsb2F0IHQpIHtjb25zdCBmbG9hdCBkZWNheT02LjA7ZmxvYXQgZmFsbG9mZj0xLjAtbWluKDEuMCxleHAoLWRlY2F5KnQpKTtmYWxsb2ZmKj1mYWxsb2ZmKmZhbGxvZmY7cmV0dXJuIHVfZm9nX2NvbG9yLmEqbWluKDEuMCwxLjAwNzQ3KmZhbGxvZmYpO31mbG9hdCBnbG9iZV9nbG93X3Byb2dyZXNzKCkge2hpZ2hwIHZlYzIgdXY9Z2xfRnJhZ0Nvb3JkLnh5L3Vfdmlld3BvcnQ7aGlnaHAgdmVjMyByYXlfZGlyPW1peChcXG5taXgodV9mcnVzdHVtX3RsLHVfZnJ1c3R1bV90cix1di54KSxtaXgodV9mcnVzdHVtX2JsLHVfZnJ1c3R1bV9icix1di54KSwxLjAtdXYueSk7aGlnaHAgdmVjMyBkaXI9bm9ybWFsaXplKHJheV9kaXIpO2hpZ2hwIHZlYzMgY2xvc2VzdF9wb2ludD1kb3QodV9nbG9iZV9wb3MsZGlyKSpkaXI7aGlnaHAgZmxvYXQgc2RmPWxlbmd0aChjbG9zZXN0X3BvaW50LXVfZ2xvYmVfcG9zKS91X2dsb2JlX3JhZGl1cztyZXR1cm4gc2RmK1BJKjAuNTt9ZmxvYXQgZm9nX29wYWNpdHkodmVjMyBwb3MpIHtmbG9hdCBkZXB0aD1sZW5ndGgocG9zKTtyZXR1cm4gZm9nX29wYWNpdHkoZm9nX3JhbmdlKGRlcHRoKSk7fXZlYzMgZm9nX2FwcGx5KHZlYzMgY29sb3IsdmVjMyBwb3MpIHtmbG9hdCBkZXB0aD1sZW5ndGgocG9zKTtmbG9hdCBvcGFjaXR5O2lmICh1X2lzX2dsb2JlPT0xKSB7ZmxvYXQgZ2xvd19wcm9ncmVzcz1nbG9iZV9nbG93X3Byb2dyZXNzKCk7ZmxvYXQgdD1taXgoZ2xvd19wcm9ncmVzcyxkZXB0aCx1X2dsb2JlX3RyYW5zaXRpb24pO29wYWNpdHk9Zm9nX29wYWNpdHkoZm9nX3JhbmdlKHQpKTt9IGVsc2Uge29wYWNpdHk9Zm9nX29wYWNpdHkoZm9nX3JhbmdlKGRlcHRoKSk7b3BhY2l0eSo9Zm9nX2hvcml6b25fYmxlbmRpbmcocG9zL2RlcHRoKTt9cmV0dXJuIG1peChjb2xvcix1X2ZvZ19jb2xvci5yZ2Isb3BhY2l0eSk7fXZlYzQgZm9nX2FwcGx5X2Zyb21fdmVydCh2ZWM0IGNvbG9yLGZsb2F0IGZvZ19vcGFjKSB7ZmxvYXQgYWxwaGE9RVBTSUxPTitjb2xvci5hO2NvbG9yLnJnYj1taXgoY29sb3IucmdiL2FscGhhLHVfZm9nX2NvbG9yLnJnYixmb2dfb3BhYykqYWxwaGE7cmV0dXJuIGNvbG9yO312ZWMzIGZvZ19hcHBseV9za3lfZ3JhZGllbnQodmVjMyBjYW1lcmFfcmF5LHZlYzMgc2t5X2NvbG9yKSB7ZmxvYXQgaG9yaXpvbl9ibGVuZD1mb2dfaG9yaXpvbl9ibGVuZGluZyhub3JtYWxpemUoY2FtZXJhX3JheSkpO3JldHVybiBtaXgoc2t5X2NvbG9yLHVfZm9nX2NvbG9yLnJnYixob3Jpem9uX2JsZW5kKTt9dmVjNCBmb2dfYXBwbHlfcHJlbXVsdGlwbGllZCh2ZWM0IGNvbG9yLHZlYzMgcG9zKSB7ZmxvYXQgYWxwaGE9RVBTSUxPTitjb2xvci5hO2NvbG9yLnJnYj1mb2dfYXBwbHkoY29sb3IucmdiL2FscGhhLHBvcykqYWxwaGE7cmV0dXJuIGNvbG9yO312ZWMzIGZvZ19kaXRoZXIodmVjMyBjb2xvcikge3ZlYzIgZGl0aGVyX3NlZWQ9Z2xfRnJhZ0Nvb3JkLnh5K3VfZm9nX3RlbXBvcmFsX29mZnNldDtyZXR1cm4gZGl0aGVyKGNvbG9yLGRpdGhlcl9zZWVkKTt9dmVjNCBmb2dfZGl0aGVyKHZlYzQgY29sb3IpIHtyZXR1cm4gdmVjNChmb2dfZGl0aGVyKGNvbG9yLnJnYiksY29sb3IuYSk7fVxcbiNlbmRpZlwiO2xldCBvbj17fSxhbj17fTtjb25zdCBzbj1bXTtkbihLdCxzbiksZG4odG4sc24pLGRuKG5uLHNuKSxkbihybixzbiksb249cG4oXCJcIix0biksYW49cG4ocm4sbm4pO2NvbnN0IGxuPXBuKFwiXFxuaGlnaHAgdmVjMyBoYXNoKGhpZ2hwIHZlYzIgcCkge2hpZ2hwIHZlYzMgcDM9ZnJhY3QocC54eXgqdmVjMyg0NDMuODk3NSwzOTcuMjk3Myw0OTEuMTg3MSkpO3AzKz1kb3QocDMscDMueXh6KzE5LjE5KTtyZXR1cm4gZnJhY3QoKHAzLnh4eStwMy55enopKnAzLnp5eCk7fXZlYzMgZGl0aGVyKHZlYzMgY29sb3IsaGlnaHAgdmVjMiBzZWVkKSB7dmVjMyBybmQ9aGFzaChzZWVkKStoYXNoKHNlZWQrMC41OTM3NCktMC41O3JldHVybiBjb2xvcitybmQvMjU1LjA7fWhpZ2hwIGZsb2F0IHVucGFja19kZXB0aChoaWdocCB2ZWM0IHJnYmFfZGVwdGgpXFxue2NvbnN0IGhpZ2hwIHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7cmV0dXJuIGRvdChyZ2JhX2RlcHRoLGJpdF9zaGlmdCkqMi4wLTEuMDt9aGlnaHAgdmVjNCBwYWNrX2RlcHRoKGhpZ2hwIGZsb2F0IG5kY196KSB7aGlnaHAgZmxvYXQgZGVwdGg9bmRjX3oqMC41KzAuNTtjb25zdCBoaWdocCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDI1NS4wKjI1NS4wKjI1NS4wLDI1NS4wKjI1NS4wLDI1NS4wLDEuMCk7Y29uc3QgaGlnaHAgdmVjNCBiaXRfbWFzayA9dmVjNCgwLjAsMS4wLzI1NS4wLDEuMC8yNTUuMCwxLjAvMjU1LjApO2hpZ2hwIHZlYzQgcmVzPWZyYWN0KGRlcHRoKmJpdF9zaGlmdCk7cmVzLT1yZXMueHh5eipiaXRfbWFzaztyZXR1cm4gcmVzO31cIixcIlxcbmZsb2F0IHdyYXAoZmxvYXQgbixmbG9hdCBtaW4sZmxvYXQgbWF4KSB7ZmxvYXQgZD1tYXgtbWluO2Zsb2F0IHc9bW9kKG1vZChuLW1pbixkKStkLGQpK21pbjtyZXR1cm4gKHc9PW1pbikgPyBtYXggOiB3O31cXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBtZXJjYXRvcl90aWxlX3Bvc2l0aW9uKG1hdDQgbWF0cml4LHZlYzIgdGlsZV9hbmNob3IsdmVjMyB0aWxlX2lkLHZlYzIgbWVyY2F0b3JfY2VudGVyKSB7XFxuI2lmbmRlZiBQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUXFxuZmxvYXQgdGlsZXM9dGlsZV9pZC56O3ZlYzIgbWVyY2F0b3I9KHRpbGVfYW5jaG9yL0VYVEVOVCt0aWxlX2lkLnh5KS90aWxlczttZXJjYXRvci09bWVyY2F0b3JfY2VudGVyO21lcmNhdG9yLng9d3JhcChtZXJjYXRvci54LC0wLjUsMC41KTt2ZWM0IG1lcmNhdG9yX3RpbGU9dmVjNChtZXJjYXRvci54eSpFWFRFTlQsRVhURU5ULygyLjAqUEkpLDEuMCk7bWVyY2F0b3JfdGlsZT1tYXRyaXgqbWVyY2F0b3JfdGlsZTtyZXR1cm4gbWVyY2F0b3JfdGlsZS54eXo7XFxuI2Vsc2VcXG5yZXR1cm4gdmVjMygwLjApO1xcbiNlbmRpZlxcbn12ZWMzIG1peF9nbG9iZV9tZXJjYXRvcih2ZWMzIGdsb2JlLHZlYzMgbWVyY2F0b3IsZmxvYXQgdCkge3JldHVybiBtaXgoZ2xvYmUsbWVyY2F0b3IsdCk7fW1hdDMgZ2xvYmVfbWVyY2F0b3Jfc3VyZmFjZV92ZWN0b3JzKHZlYzMgcG9zX25vcm1hbCx2ZWMzIHVwX2RpcixmbG9hdCB6b29tX3RyYW5zaXRpb24pIHt2ZWMzIG5vcm1hbD16b29tX3RyYW5zaXRpb249PTAuMCA/IHBvc19ub3JtYWwgOiBub3JtYWxpemUobWl4KHBvc19ub3JtYWwsdXBfZGlyLHpvb21fdHJhbnNpdGlvbikpO3ZlYzMgeEF4aXM9bm9ybWFsaXplKHZlYzMobm9ybWFsLnosMC4wLC1ub3JtYWwueCkpO3ZlYzMgeUF4aXM9bm9ybWFsaXplKGNyb3NzKG5vcm1hbCx4QXhpcykpO3JldHVybiBtYXQzKHhBeGlzLHlBeGlzLG5vcm1hbCk7fVxcbiNlbmRpZlxcbnZlYzIgdW5wYWNrX2Zsb2F0KGNvbnN0IGZsb2F0IHBhY2tlZFZhbHVlKSB7aW50IHBhY2tlZEludFZhbHVlPWludChwYWNrZWRWYWx1ZSk7aW50IHYwPXBhY2tlZEludFZhbHVlLzI1NjtyZXR1cm4gdmVjMih2MCxwYWNrZWRJbnRWYWx1ZS12MCoyNTYpO312ZWMyIHVucGFja19vcGFjaXR5KGNvbnN0IGZsb2F0IHBhY2tlZE9wYWNpdHkpIHtpbnQgaW50T3BhY2l0eT1pbnQocGFja2VkT3BhY2l0eSkvMjtyZXR1cm4gdmVjMihmbG9hdChpbnRPcGFjaXR5KS8xMjcuMCxtb2QocGFja2VkT3BhY2l0eSwyLjApKTt9dmVjNCBkZWNvZGVfY29sb3IoY29uc3QgdmVjMiBlbmNvZGVkQ29sb3IpIHtyZXR1cm4gdmVjNChcXG51bnBhY2tfZmxvYXQoZW5jb2RlZENvbG9yWzBdKS8yNTUuMCx1bnBhY2tfZmxvYXQoZW5jb2RlZENvbG9yWzFdKS8yNTUuMFxcbik7fWZsb2F0IHVucGFja19taXhfdmVjMihjb25zdCB2ZWMyIHBhY2tlZFZhbHVlLGNvbnN0IGZsb2F0IHQpIHtyZXR1cm4gbWl4KHBhY2tlZFZhbHVlWzBdLHBhY2tlZFZhbHVlWzFdLHQpO312ZWM0IHVucGFja19taXhfY29sb3IoY29uc3QgdmVjNCBwYWNrZWRDb2xvcnMsY29uc3QgZmxvYXQgdCkge3ZlYzQgbWluQ29sb3I9ZGVjb2RlX2NvbG9yKHZlYzIocGFja2VkQ29sb3JzWzBdLHBhY2tlZENvbG9yc1sxXSkpO3ZlYzQgbWF4Q29sb3I9ZGVjb2RlX2NvbG9yKHZlYzIocGFja2VkQ29sb3JzWzJdLHBhY2tlZENvbG9yc1szXSkpO3JldHVybiBtaXgobWluQ29sb3IsbWF4Q29sb3IsdCk7fXZlYzIgZ2V0X3BhdHRlcm5fcG9zKGNvbnN0IHZlYzIgcGl4ZWxfY29vcmRfdXBwZXIsY29uc3QgdmVjMiBwaXhlbF9jb29yZF9sb3dlcixjb25zdCB2ZWMyIHBhdHRlcm5fc2l6ZSxjb25zdCBmbG9hdCB0aWxlX3VuaXRzX3RvX3BpeGVscyxjb25zdCB2ZWMyIHBvcykge3ZlYzIgb2Zmc2V0PW1vZChtb2QobW9kKHBpeGVsX2Nvb3JkX3VwcGVyLHBhdHRlcm5fc2l6ZSkqMjU2LjAscGF0dGVybl9zaXplKSoyNTYuMCtwaXhlbF9jb29yZF9sb3dlcixwYXR0ZXJuX3NpemUpO3JldHVybiAodGlsZV91bml0c190b19waXhlbHMqcG9zK29mZnNldCkvcGF0dGVybl9zaXplO31jb25zdCB2ZWM0IEFXQVk9dmVjNCgtMTAwMC4wLC0xMDAwLjAsLTEwMDAuMCwxKTsvL05vcm1hbGl6ZWQgZGV2aWNlIGNvb3JkaW5hdGUgdGhhdCBpcyBub3QgcmVuZGVyZWQuXCIpLGNuPUt0LHVuPVwiXFxuI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxuI2Vsc2VcXG5cXG4jaWYgIWRlZmluZWQobG93cClcXG4jZGVmaW5lIGxvd3BcXG4jZW5kaWZcXG5cXG4jaWYgIWRlZmluZWQobWVkaXVtcClcXG4jZGVmaW5lIG1lZGl1bXBcXG4jZW5kaWZcXG5cXG4jaWYgIWRlZmluZWQoaGlnaHApXFxuI2RlZmluZSBoaWdocFxcbiNlbmRpZlxcblxcbiNlbmRpZlwiO3ZhciBobj17YmFja2dyb3VuZDpwbihcInVuaWZvcm0gdmVjNCB1X2NvbG9yO3VuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxudmFyeWluZyB2ZWM0IHZfY29sb3I7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge3ZlYzQgb3V0X2NvbG9yO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPXZfY29sb3I7XFxuI2Vsc2VcXG5vdXRfY29sb3I9dV9jb2xvcjtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqdV9vcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnVuaWZvcm0gdmVjNCB1X2NvbG9yO3ZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG52X2NvbG9yPWFwcGx5X2xpZ2h0aW5nKHVfY29sb3IpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLGJhY2tncm91bmRQYXR0ZXJuOnBuKFwidW5pZm9ybSB2ZWMyIHVfcGF0dGVybl90bDt1bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX2JyO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3MsMS4wKTt2ZWMyIHBvcz1taXgodV9wYXR0ZXJuX3RsL3VfdGV4c2l6ZSx1X3BhdHRlcm5fYnIvdV90ZXhzaXplLGltYWdlY29vcmQpO3ZlYzQgb3V0X2NvbG9yPXRleHR1cmUyRCh1X2ltYWdlLHBvcyk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmcob3V0X2NvbG9yKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqdV9vcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3NpemU7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSBmbG9hdCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdV9wYXR0ZXJuX3NpemUsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxhX3Bvcyk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksY2lyY2xlOnBuKFwidmFyeWluZyB2ZWMzIHZfZGF0YTt2YXJ5aW5nIGZsb2F0IHZfdmlzaWJpbGl0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudmVjMiBleHRydWRlPXZfZGF0YS54eTtmbG9hdCBleHRydWRlX2xlbmd0aD1sZW5ndGgoZXh0cnVkZSk7bG93cCBmbG9hdCBhbnRpYWxpYXNibHVyPXZfZGF0YS56O2Zsb2F0IGFudGlhbGlhc2VkX2JsdXI9LW1heChibHVyLGFudGlhbGlhc2JsdXIpO2Zsb2F0IG9wYWNpdHlfdD1zbW9vdGhzdGVwKDAuMCxhbnRpYWxpYXNlZF9ibHVyLGV4dHJ1ZGVfbGVuZ3RoLTEuMCk7ZmxvYXQgY29sb3JfdD1zdHJva2Vfd2lkdGggPCAwLjAxID8gMC4wIDogc21vb3Roc3RlcChcXG5hbnRpYWxpYXNlZF9ibHVyLDAuMCxleHRydWRlX2xlbmd0aC1yYWRpdXMvKHJhZGl1cytzdHJva2Vfd2lkdGgpXFxuKTt2ZWM0IG91dF9jb2xvcj1taXgoY29sb3Iqb3BhY2l0eSxzdHJva2VfY29sb3Iqc3Ryb2tlX29wYWNpdHksY29sb3JfdCk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmcob3V0X2NvbG9yKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqKHZfdmlzaWJpbGl0eSpvcGFjaXR5X3QpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcIiNkZWZpbmUgTlVNX1ZJU0lCSUxJVFlfUklOR1MgMlxcbiNkZWZpbmUgSU5WX1NRUlQyIDAuNzA3MTA2NzhcXG4jZGVmaW5lIEVMRVZBVElPTl9CSUFTIDAuMDAwMVxcbiNkZWZpbmUgTlVNX1NBTVBMRVNfUEVSX1JJTkcgMTZcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQyIHVfZXh0cnVkZV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBoaWdocCBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7YXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzM7YXR0cmlidXRlIHZlYzMgYV9wb3Nfbm9ybWFsXzM7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X3VwX2RpcjtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzMgdl9kYXRhO3ZhcnlpbmcgZmxvYXQgdl92aXNpYmlsaXR5O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG52ZWMyIGNhbGNfb2Zmc2V0KHZlYzIgZXh0cnVzaW9uLGZsb2F0IHJhZGl1cyxmbG9hdCBzdHJva2Vfd2lkdGgsIGZsb2F0IHZpZXdfc2NhbGUpIHtyZXR1cm4gZXh0cnVzaW9uKihyYWRpdXMrc3Ryb2tlX3dpZHRoKSp1X2V4dHJ1ZGVfc2NhbGUqdmlld19zY2FsZTt9ZmxvYXQgY2FudGlsZXZlcmVkX2VsZXZhdGlvbih2ZWMyIHBvcyxmbG9hdCByYWRpdXMsZmxvYXQgc3Ryb2tlX3dpZHRoLGZsb2F0IHZpZXdfc2NhbGUpIHt2ZWMyIGMxPXBvcytjYWxjX29mZnNldCh2ZWMyKC0xLC0xKSxyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO3ZlYzIgYzI9cG9zK2NhbGNfb2Zmc2V0KHZlYzIoMSwtMSkscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTt2ZWMyIGMzPXBvcytjYWxjX29mZnNldCh2ZWMyKDEsMSkscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTt2ZWMyIGM0PXBvcytjYWxjX29mZnNldCh2ZWMyKC0xLDEpLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7ZmxvYXQgaDE9ZWxldmF0aW9uKGMxKStFTEVWQVRJT05fQklBUztmbG9hdCBoMj1lbGV2YXRpb24oYzIpK0VMRVZBVElPTl9CSUFTO2Zsb2F0IGgzPWVsZXZhdGlvbihjMykrRUxFVkFUSU9OX0JJQVM7ZmxvYXQgaDQ9ZWxldmF0aW9uKGM0KStFTEVWQVRJT05fQklBUztyZXR1cm4gbWF4KGg0LG1heChoMyxtYXgoaDEsaDIpKSk7fWZsb2F0IGNpcmNsZV9lbGV2YXRpb24odmVjMiBwb3MpIHtcXG4jaWYgZGVmaW5lZChURVJSQUlOKVxcbnJldHVybiBlbGV2YXRpb24ocG9zKStFTEVWQVRJT05fQklBUztcXG4jZWxzZVxcbnJldHVybiAwLjA7XFxuI2VuZGlmXFxufXZlYzQgcHJvamVjdF92ZXJ0ZXgodmVjMiBleHRydXNpb24sdmVjNCB3b3JsZF9jZW50ZXIsdmVjNCBwcm9qZWN0ZWRfY2VudGVyLGZsb2F0IHJhZGl1cyxmbG9hdCBzdHJva2Vfd2lkdGgsIGZsb2F0IHZpZXdfc2NhbGUsbWF0MyBzdXJmYWNlX3ZlY3RvcnMpIHt2ZWMyIHNhbXBsZV9vZmZzZXQ9Y2FsY19vZmZzZXQoZXh0cnVzaW9uLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7XFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnJldHVybiB1X21hdHJpeCooIHdvcmxkX2NlbnRlcit2ZWM0KHNhbXBsZV9vZmZzZXQueCpzdXJmYWNlX3ZlY3RvcnNbMF0rc2FtcGxlX29mZnNldC55KnN1cmZhY2VfdmVjdG9yc1sxXSwwKSApO1xcbiNlbHNlXFxucmV0dXJuIHVfbWF0cml4Kiggd29ybGRfY2VudGVyK3ZlYzQoc2FtcGxlX29mZnNldCwwLDApICk7XFxuI2VuZGlmXFxuI2Vsc2VcXG5yZXR1cm4gcHJvamVjdGVkX2NlbnRlcit2ZWM0KHNhbXBsZV9vZmZzZXQsMCwwKTtcXG4jZW5kaWZcXG59ZmxvYXQgZ2V0X3NhbXBsZV9zdGVwKCkge1xcbiNpZmRlZiBQSVRDSF9XSVRIX01BUFxcbnJldHVybiAyLjAqUEkvZmxvYXQoTlVNX1NBTVBMRVNfUEVSX1JJTkcpO1xcbiNlbHNlXFxucmV0dXJuIFBJL2Zsb2F0KE5VTV9TQU1QTEVTX1BFUl9SSU5HKTtcXG4jZW5kaWZcXG59dm9pZCBtYWluKHZvaWQpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBzdHJva2Vfb3BhY2l0eVxcbnZlYzIgZXh0cnVkZT12ZWMyKG1vZChhX3BvcywyLjApKjIuMC0xLjApO3ZlYzIgY2lyY2xlX2NlbnRlcj1mbG9vcihhX3BvcyowLjUpO3ZlYzQgd29ybGRfY2VudGVyO21hdDMgc3VyZmFjZV92ZWN0b3JzO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHBvc19ub3JtYWxfMz1hX3Bvc19ub3JtYWxfMy8xNjM4NC4wO3N1cmZhY2VfdmVjdG9ycz1nbG9iZV9tZXJjYXRvcl9zdXJmYWNlX3ZlY3RvcnMocG9zX25vcm1hbF8zLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKTt2ZWMzIHN1cmZhY2VfZXh0cnVzaW9uPWV4dHJ1ZGUueCpzdXJmYWNlX3ZlY3RvcnNbMF0rZXh0cnVkZS55KnN1cmZhY2VfdmVjdG9yc1sxXTt2ZWMzIGdsb2JlX2VsZXZhdGlvbj1lbGV2YXRpb25WZWN0b3IoY2lyY2xlX2NlbnRlcikqY2lyY2xlX2VsZXZhdGlvbihjaXJjbGVfY2VudGVyKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK3N1cmZhY2VfZXh0cnVzaW9uK2dsb2JlX2VsZXZhdGlvbjt2ZWMzIG1lcmNhdG9yX2VsZXZhdGlvbj11X3VwX2Rpcip1X3RpbGVfdXBfc2NhbGUqY2lyY2xlX2VsZXZhdGlvbihjaXJjbGVfY2VudGVyKTt2ZWMzIG1lcmNfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCxjaXJjbGVfY2VudGVyLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKStzdXJmYWNlX2V4dHJ1c2lvbittZXJjYXRvcl9lbGV2YXRpb247dmVjMyBwb3M9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7d29ybGRfY2VudGVyPXZlYzQocG9zLDEpO1xcbiNlbHNlIFxcbnN1cmZhY2VfdmVjdG9ycz1tYXQzKDEuMCk7ZmxvYXQgaGVpZ2h0PWNpcmNsZV9lbGV2YXRpb24oY2lyY2xlX2NlbnRlcik7d29ybGRfY2VudGVyPXZlYzQoY2lyY2xlX2NlbnRlcixoZWlnaHQsMSk7XFxuI2VuZGlmXFxudmVjNCBwcm9qZWN0ZWRfY2VudGVyPXVfbWF0cml4KndvcmxkX2NlbnRlcjtmbG9hdCB2aWV3X3NjYWxlPTAuMDtcXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBcXG4jaWZkZWYgU0NBTEVfV0lUSF9NQVBcXG52aWV3X3NjYWxlPTEuMDtcXG4jZWxzZVxcbnZpZXdfc2NhbGU9cHJvamVjdGVkX2NlbnRlci53L3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTtcXG4jZW5kaWZcXG4jZWxzZVxcbiNpZmRlZiBTQ0FMRV9XSVRIX01BUFxcbnZpZXdfc2NhbGU9dV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO1xcbiNlbHNlXFxudmlld19zY2FsZT1wcm9qZWN0ZWRfY2VudGVyLnc7XFxuI2VuZGlmXFxuI2VuZGlmXFxuZ2xfUG9zaXRpb249cHJvamVjdF92ZXJ0ZXgoZXh0cnVkZSx3b3JsZF9jZW50ZXIscHJvamVjdGVkX2NlbnRlcixyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUsc3VyZmFjZV92ZWN0b3JzKTtmbG9hdCB2aXNpYmlsaXR5PTAuMDtcXG4jaWZkZWYgVEVSUkFJTlxcbmZsb2F0IHN0ZXA9Z2V0X3NhbXBsZV9zdGVwKCk7dmVjNCBvY2NsdXNpb25fd29ybGRfY2VudGVyO3ZlYzQgb2NjbHVzaW9uX3Byb2plY3RlZF9jZW50ZXI7XFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQXFxuZmxvYXQgY2FudGlsZXZlcmVkX2hlaWdodD1jYW50aWxldmVyZWRfZWxldmF0aW9uKGNpcmNsZV9jZW50ZXIscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTtvY2NsdXNpb25fd29ybGRfY2VudGVyPXZlYzQoY2lyY2xlX2NlbnRlcixjYW50aWxldmVyZWRfaGVpZ2h0LDEpO29jY2x1c2lvbl9wcm9qZWN0ZWRfY2VudGVyPXVfbWF0cml4Km9jY2x1c2lvbl93b3JsZF9jZW50ZXI7XFxuI2Vsc2VcXG5vY2NsdXNpb25fd29ybGRfY2VudGVyPXdvcmxkX2NlbnRlcjtvY2NsdXNpb25fcHJvamVjdGVkX2NlbnRlcj1wcm9qZWN0ZWRfY2VudGVyO1xcbiNlbmRpZlxcbmZvcihpbnQgcmluZz0wOyByaW5nIDwgTlVNX1ZJU0lCSUxJVFlfUklOR1M7IHJpbmcrKykge2Zsb2F0IHNjYWxlPShmbG9hdChyaW5nKSsxLjApL2Zsb2F0KE5VTV9WSVNJQklMSVRZX1JJTkdTKTtmb3IoaW50IGk9MDsgaSA8IE5VTV9TQU1QTEVTX1BFUl9SSU5HOyBpKyspIHt2ZWMyIGV4dHJ1c2lvbj12ZWMyKGNvcyhzdGVwKmZsb2F0KGkpKSwtc2luKHN0ZXAqZmxvYXQoaSkpKSpzY2FsZTt2ZWM0IGZyYWdfcG9zPXByb2plY3RfdmVydGV4KGV4dHJ1c2lvbixvY2NsdXNpb25fd29ybGRfY2VudGVyLG9jY2x1c2lvbl9wcm9qZWN0ZWRfY2VudGVyLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSxzdXJmYWNlX3ZlY3RvcnMpO3Zpc2liaWxpdHkrPWZsb2F0KCFpc09jY2x1ZGVkKGZyYWdfcG9zKSk7fX12aXNpYmlsaXR5Lz1mbG9hdChOVU1fVklTSUJJTElUWV9SSU5HUykqZmxvYXQoTlVNX1NBTVBMRVNfUEVSX1JJTkcpO1xcbiNlbHNlXFxudmlzaWJpbGl0eT0xLjA7XFxuI2VuZGlmXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZpc2liaWxpdHk9MS4wO1xcbiNlbmRpZlxcbnZfdmlzaWJpbGl0eT12aXNpYmlsaXR5O2xvd3AgZmxvYXQgYW50aWFsaWFzYmx1cj0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vKHJhZGl1cytzdHJva2Vfd2lkdGgpO3ZfZGF0YT12ZWMzKGV4dHJ1ZGUueCxleHRydWRlLnksYW50aWFsaWFzYmx1cik7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24od29ybGRfY2VudGVyLnh5eik7XFxuI2VuZGlmXFxufVwiKSxjbGlwcGluZ01hc2s6cG4oXCJ2b2lkIG1haW4oKSB7Z2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTt9XCIsXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt9XCIpLGhlYXRtYXA6cG4oXCJ1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfaW50ZW5zaXR5O3ZhcnlpbmcgdmVjMiB2X2V4dHJ1ZGU7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCB3ZWlnaHRcXG4jZGVmaW5lIEdBVVNTX0NPRUYgMC4zOTg5NDIyODA0MDE0MzI3XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IHdlaWdodFxcbmZsb2F0IGQ9LTAuNSozLjAqMy4wKmRvdCh2X2V4dHJ1ZGUsdl9leHRydWRlKTtmbG9hdCB2YWw9d2VpZ2h0KnVfaW50ZW5zaXR5KkdBVVNTX0NPRUYqZXhwKGQpO2dsX0ZyYWdDb2xvcj12ZWM0KHZhbCwxLjAsMS4wLDEuMCk7XFxuI2lmZGVmIEZPR1xcbmlmICh1X2lzX2dsb2JlPT0wKSB7Z2xfRnJhZ0NvbG9yLnIqPXBvdygxLjAtZm9nX29wYWNpdHkodl9mb2dfcG9zKSwyLjApO31cXG4jZW5kaWZcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBmbG9hdCB1X2ludGVuc2l0eTthdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NfMzthdHRyaWJ1dGUgdmVjMyBhX3Bvc19ub3JtYWxfMzt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfdXBfZGlyO1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMiB2X2V4dHJ1ZGU7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCBmbG9hdCB3ZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuY29uc3QgaGlnaHAgZmxvYXQgWkVSTz0xLjAvMjU1LjAvMTYuMDtcXG4jZGVmaW5lIEdBVVNTX0NPRUYgMC4zOTg5NDIyODA0MDE0MzI3XFxudm9pZCBtYWluKHZvaWQpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCB3ZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbnZlYzIgdW5zY2FsZWRfZXh0cnVkZT12ZWMyKG1vZChhX3BvcywyLjApKjIuMC0xLjApO2Zsb2F0IFM9c3FydCgtMi4wKmxvZyhaRVJPL3dlaWdodC91X2ludGVuc2l0eS9HQVVTU19DT0VGKSkvMy4wO3ZfZXh0cnVkZT1TKnVuc2NhbGVkX2V4dHJ1ZGU7dmVjMiBleHRydWRlPXZfZXh0cnVkZSpyYWRpdXMqdV9leHRydWRlX3NjYWxlO3ZlYzIgdGlsZVBvcz1mbG9vcihhX3BvcyowLjUpO3ZlYzMgcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHBvc19ub3JtYWxfMz1hX3Bvc19ub3JtYWxfMy8xNjM4NC4wO21hdDMgc3VyZmFjZV92ZWN0b3JzPWdsb2JlX21lcmNhdG9yX3N1cmZhY2VfdmVjdG9ycyhwb3Nfbm9ybWFsXzMsdV91cF9kaXIsdV96b29tX3RyYW5zaXRpb24pO3ZlYzMgc3VyZmFjZV9leHRydXNpb249ZXh0cnVkZS54KnN1cmZhY2VfdmVjdG9yc1swXStleHRydWRlLnkqc3VyZmFjZV92ZWN0b3JzWzFdO3ZlYzMgZ2xvYmVfZWxldmF0aW9uPWVsZXZhdGlvblZlY3Rvcih0aWxlUG9zKSplbGV2YXRpb24odGlsZVBvcyk7dmVjMyBnbG9iZV9wb3M9YV9wb3NfMytzdXJmYWNlX2V4dHJ1c2lvbitnbG9iZV9lbGV2YXRpb247dmVjMyBtZXJjYXRvcl9lbGV2YXRpb249dV91cF9kaXIqdV90aWxlX3VwX3NjYWxlKmVsZXZhdGlvbih0aWxlUG9zKTt2ZWMzIG1lcmNfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCx0aWxlUG9zLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKStzdXJmYWNlX2V4dHJ1c2lvbittZXJjYXRvcl9lbGV2YXRpb247cG9zPW1peF9nbG9iZV9tZXJjYXRvcihnbG9iZV9wb3MsbWVyY19wb3MsdV96b29tX3RyYW5zaXRpb24pO1xcbiNlbHNlXFxucG9zPXZlYzModGlsZVBvcytleHRydWRlLGVsZXZhdGlvbih0aWxlUG9zKSk7XFxuI2VuZGlmXFxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChwb3MsMSk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocG9zKTtcXG4jZW5kaWZcXG59XCIpLGhlYXRtYXBUZXh0dXJlOnBuKFwidW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2NvbG9yX3JhbXA7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dmFyeWluZyB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtmbG9hdCB0PXRleHR1cmUyRCh1X2ltYWdlLHZfcG9zKS5yO3ZlYzQgY29sb3I9dGV4dHVyZTJEKHVfY29sb3JfcmFtcCx2ZWMyKHQsMC41KSk7Z2xfRnJhZ0NvbG9yPWNvbG9yKnVfb3BhY2l0eTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMC4wKTtcXG4jZW5kaWZcXG59XCIsXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXZlYzQoYV9wb3MsMCwxKTt2X3Bvcz1hX3BvcyowLjUrMC41O31cIiksY29sbGlzaW9uQm94OnBuKFwidmFyeWluZyBmbG9hdCB2X3BsYWNlZDt2YXJ5aW5nIGZsb2F0IHZfbm90VXNlZDt2b2lkIG1haW4oKSB7dmVjNCByZWQgPXZlYzQoMS4wLDAuMCwwLjAsMS4wKTt2ZWM0IGJsdWU9dmVjNCgwLjAsMC4wLDEuMCwwLjUpO2dsX0ZyYWdDb2xvciA9bWl4KHJlZCxibHVlLHN0ZXAoMC41LHZfcGxhY2VkKSkqMC41O2dsX0ZyYWdDb2xvcio9bWl4KDEuMCwwLjEsc3RlcCgwLjUsdl9ub3RVc2VkKSk7fVwiLFwiYXR0cmlidXRlIHZlYzMgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV9hbmNob3JfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfZXh0cnVkZTthdHRyaWJ1dGUgdmVjMiBhX3BsYWNlZDthdHRyaWJ1dGUgdmVjMiBhX3NoaWZ0O2F0dHJpYnV0ZSBmbG9hdCBhX3NpemVfc2NhbGU7YXR0cmlidXRlIHZlYzIgYV9wYWRkaW5nO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9leHRydWRlX3NjYWxlO3VuaWZvcm0gZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3ZhcnlpbmcgZmxvYXQgdl9wbGFjZWQ7dmFyeWluZyBmbG9hdCB2X25vdFVzZWQ7dm9pZCBtYWluKCkge3ZlYzQgcHJvamVjdGVkUG9pbnQ9dV9tYXRyaXgqdmVjNChhX3BvcytlbGV2YXRpb25WZWN0b3IoYV9hbmNob3JfcG9zKSplbGV2YXRpb24oYV9hbmNob3JfcG9zKSwxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZFBvaW50Lnc7aGlnaHAgZmxvYXQgY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqKHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlKSwwLjAsMS41KTtnbF9Qb3NpdGlvbj1wcm9qZWN0ZWRQb2ludDtnbF9Qb3NpdGlvbi54eSs9KGFfZXh0cnVkZSphX3NpemVfc2NhbGUrYV9zaGlmdCthX3BhZGRpbmcpKnVfZXh0cnVkZV9zY2FsZSpnbF9Qb3NpdGlvbi53KmNvbGxpc2lvbl9wZXJzcGVjdGl2ZV9yYXRpbzt2X3BsYWNlZD1hX3BsYWNlZC54O3Zfbm90VXNlZD1hX3BsYWNlZC55O31cIiksY29sbGlzaW9uQ2lyY2xlOnBuKFwidmFyeWluZyBmbG9hdCB2X3JhZGl1czt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO3ZhcnlpbmcgZmxvYXQgdl9wZXJzcGVjdGl2ZV9yYXRpbzt2YXJ5aW5nIGZsb2F0IHZfY29sbGlzaW9uO3ZvaWQgbWFpbigpIHtmbG9hdCBhbHBoYT0wLjUqbWluKHZfcGVyc3BlY3RpdmVfcmF0aW8sMS4wKTtmbG9hdCBzdHJva2VfcmFkaXVzPTAuOSptYXgodl9wZXJzcGVjdGl2ZV9yYXRpbywxLjApO2Zsb2F0IGRpc3RhbmNlX3RvX2NlbnRlcj1sZW5ndGgodl9leHRydWRlKTtmbG9hdCBkaXN0YW5jZV90b19lZGdlPWFicyhkaXN0YW5jZV90b19jZW50ZXItdl9yYWRpdXMpO2Zsb2F0IG9wYWNpdHlfdD1zbW9vdGhzdGVwKC1zdHJva2VfcmFkaXVzLDAuMCwtZGlzdGFuY2VfdG9fZWRnZSk7dmVjNCBjb2xvcj1taXgodmVjNCgwLjAsMC4wLDEuMCwwLjUpLHZlYzQoMS4wLDAuMCwwLjAsMS4wKSx2X2NvbGxpc2lvbik7Z2xfRnJhZ0NvbG9yPWNvbG9yKmFscGhhKm9wYWNpdHlfdDt9XCIsXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvc18yZjthdHRyaWJ1dGUgZmxvYXQgYV9yYWRpdXM7YXR0cmlidXRlIHZlYzIgYV9mbGFnczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfaW52X21hdHJpeDt1bmlmb3JtIHZlYzIgdV92aWV3cG9ydF9zaXplO3VuaWZvcm0gZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3ZhcnlpbmcgZmxvYXQgdl9yYWRpdXM7dmFyeWluZyB2ZWMyIHZfZXh0cnVkZTt2YXJ5aW5nIGZsb2F0IHZfcGVyc3BlY3RpdmVfcmF0aW87dmFyeWluZyBmbG9hdCB2X2NvbGxpc2lvbjt2ZWMzIHRvVGlsZVBvc2l0aW9uKHZlYzIgc2NyZWVuUG9zKSB7dmVjNCByYXlTdGFydD11X2ludl9tYXRyaXgqdmVjNChzY3JlZW5Qb3MsLTEuMCwxLjApO3ZlYzQgcmF5RW5kICA9dV9pbnZfbWF0cml4KnZlYzQoc2NyZWVuUG9zLCAxLjAsMS4wKTtyYXlTdGFydC54eXovPXJheVN0YXJ0Lnc7cmF5RW5kLnh5eiAgLz1yYXlFbmQudztoaWdocCBmbG9hdCB0PSgwLjAtcmF5U3RhcnQueikvKHJheUVuZC56LXJheVN0YXJ0LnopO3JldHVybiBtaXgocmF5U3RhcnQueHl6LHJheUVuZC54eXosdCk7fXZvaWQgbWFpbigpIHt2ZWMyIHF1YWRDZW50ZXJQb3M9YV9wb3NfMmY7ZmxvYXQgcmFkaXVzPWFfcmFkaXVzO2Zsb2F0IGNvbGxpc2lvbj1hX2ZsYWdzLng7ZmxvYXQgdmVydGV4SWR4PWFfZmxhZ3MueTt2ZWMyIHF1YWRWZXJ0ZXhPZmZzZXQ9dmVjMihcXG5taXgoLTEuMCwxLjAsZmxvYXQodmVydGV4SWR4ID49Mi4wKSksbWl4KC0xLjAsMS4wLGZsb2F0KHZlcnRleElkeCA+PTEuMCAmJiB2ZXJ0ZXhJZHggPD0yLjApKSk7dmVjMiBxdWFkVmVydGV4RXh0ZW50PXF1YWRWZXJ0ZXhPZmZzZXQqcmFkaXVzO3ZlYzMgdGlsZVBvcz10b1RpbGVQb3NpdGlvbihxdWFkQ2VudGVyUG9zKTt2ZWM0IGNsaXBQb3M9dV9tYXRyaXgqdmVjNCh0aWxlUG9zLDEuMCk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1jbGlwUG9zLnc7aGlnaHAgZmxvYXQgY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqKHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlKSwwLjAsNC4wKTtmbG9hdCBwYWRkaW5nX2ZhY3Rvcj0xLjI7dl9yYWRpdXM9cmFkaXVzO3ZfZXh0cnVkZT1xdWFkVmVydGV4RXh0ZW50KnBhZGRpbmdfZmFjdG9yO3ZfcGVyc3BlY3RpdmVfcmF0aW89Y29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvO3ZfY29sbGlzaW9uPWNvbGxpc2lvbjtnbF9Qb3NpdGlvbj12ZWM0KGNsaXBQb3MueHl6L2NsaXBQb3MudywxLjApK3ZlYzQocXVhZFZlcnRleEV4dGVudCpwYWRkaW5nX2ZhY3Rvci91X3ZpZXdwb3J0X3NpemUqMi4wLDAuMCwwLjApO31cIiksZGVidWc6cG4oXCJ1bmlmb3JtIGhpZ2hwIHZlYzQgdV9jb2xvcjt1bmlmb3JtIHNhbXBsZXIyRCB1X292ZXJsYXk7dmFyeWluZyB2ZWMyIHZfdXY7dm9pZCBtYWluKCkge3ZlYzQgb3ZlcmxheV9jb2xvcj10ZXh0dXJlMkQodV9vdmVybGF5LHZfdXYpO2dsX0ZyYWdDb2xvcj1taXgodV9jb2xvcixvdmVybGF5X2NvbG9yLG92ZXJsYXlfY29sb3IuYSk7fVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzM7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfdXY7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9vdmVybGF5X3NjYWxlO3ZvaWQgbWFpbigpIHtmbG9hdCBoPWVsZXZhdGlvbihhX3Bvcyk7dl91dj1hX3Bvcy84MTkyLjA7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3NfMytlbGV2YXRpb25WZWN0b3IoYV9wb3MpKmgsMSk7XFxuI2Vsc2VcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zKnVfb3ZlcmxheV9zY2FsZSxoLDEpO1xcbiNlbmRpZlxcbn1cIiksZmlsbDpwbihcIiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52ZWM0IG91dF9jb2xvcj1jb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZyhvdXRfY29sb3IpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcipvcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLGZpbGxPdXRsaW5lOnBuKFwidmFyeWluZyB2ZWMyIHZfcG9zO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuZmxvYXQgZGlzdD1sZW5ndGgodl9wb3MtZ2xfRnJhZ0Nvb3JkLnh5KTtmbG9hdCBhbHBoYT0xLjAtc21vb3Roc3RlcCgwLjAsMS4wLGRpc3QpO3ZlYzQgb3V0X2NvbG9yPW91dGxpbmVfY29sb3I7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmcob3V0X2NvbG9yKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqKGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV93b3JsZDt2YXJ5aW5nIHZlYzIgdl9wb3M7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3M9KGdsX1Bvc2l0aW9uLnh5L2dsX1Bvc2l0aW9uLncrMS4wKS8yLjAqdV93b3JsZDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxmaWxsT3V0bGluZVBhdHRlcm46cG4oXCJ1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvc193b3JsZDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG52ZWMyIHBhdHRlcm5fdGw9cGF0dGVybi54eTt2ZWMyIHBhdHRlcm5fYnI9cGF0dGVybi56dzt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zLDEuMCk7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGwvdV90ZXhzaXplLHBhdHRlcm5fYnIvdV90ZXhzaXplLGltYWdlY29vcmQpO2Zsb2F0IGRpc3Q9bGVuZ3RoKHZfcG9zX3dvcmxkLWdsX0ZyYWdDb29yZC54eSk7ZmxvYXQgYWxwaGE9MS4wLXNtb290aHN0ZXAoMC4wLDEuMCxkaXN0KTt2ZWM0IG91dF9jb2xvcj10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nKG91dF9jb2xvcik7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKihhbHBoYSpvcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfd29ybGQ7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSBmbG9hdCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3Nfd29ybGQ7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbnZlYzIgcGF0dGVybl90bD1wYXR0ZXJuLnh5O3ZlYzIgcGF0dGVybl9icj1wYXR0ZXJuLnp3O2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2ZWMyIGRpc3BsYXlfc2l6ZT0ocGF0dGVybl9ici1wYXR0ZXJuX3RsKS9waXhlbF9yYXRpbzt2X3Bvcz1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLGRpc3BsYXlfc2l6ZSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGFfcG9zKTt2X3Bvc193b3JsZD0oZ2xfUG9zaXRpb24ueHkvZ2xfUG9zaXRpb24udysxLjApLzIuMCp1X3dvcmxkO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLGZpbGxQYXR0ZXJuOnBuKFwidW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3BvcztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG52ZWMyIHBhdHRlcm5fdGw9cGF0dGVybi54eTt2ZWMyIHBhdHRlcm5fYnI9cGF0dGVybi56dzt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zLDEuMCk7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGwvdV90ZXhzaXplLHBhdHRlcm5fYnIvdV90ZXhzaXplLGltYWdlY29vcmQpO3ZlYzQgb3V0X2NvbG9yPXRleHR1cmUyRCh1X2ltYWdlLHBvcyk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmcob3V0X2NvbG9yKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3Iqb3BhY2l0eTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSBmbG9hdCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMiB2X3BvcztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7dmVjMiBkaXNwbGF5X3NpemU9KHBhdHRlcm5fYnItcGF0dGVybl90bCkvcGl4ZWxfcmF0aW87Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsZGlzcGxheV9zaXplLHVfdGlsZV91bml0c190b19waXhlbHMsYV9wb3MpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLGZpbGxFeHRydXNpb246cG4oXCJ2YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG52YXJ5aW5nIGhpZ2hwIHZlYzQgdl9wb3NfbGlnaHRfdmlld18wO3ZhcnlpbmcgaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzE7dmFyeWluZyBmbG9hdCB2X2RlcHRoO1xcbiNlbmRpZlxcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbzt2YXJ5aW5nIHZlYzMgdl9hbztcXG4jZW5kaWZcXG4jaWZkZWYgWkVST19ST09GX1JBRElVU1xcbnZhcnlpbmcgdmVjNCB2X3Jvb2ZfY29sb3I7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgfHwgZGVmaW5lZChSRU5ERVJfU0hBRE9XUylcXG52YXJ5aW5nIGhpZ2hwIHZlYzMgdl9ub3JtYWw7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge1xcbiNpZiBkZWZpbmVkKFpFUk9fUk9PRl9SQURJVVMpIHx8IGRlZmluZWQoUkVOREVSX1NIQURPV1MpXFxudmVjMyBub3JtYWw9dl9ub3JtYWw7XFxuI2VuZGlmXFxuZmxvYXQgejt2ZWM0IGNvbG9yO1xcbiNpZmRlZiBaRVJPX1JPT0ZfUkFESVVTXFxuej1mbG9hdChub3JtYWwueiA+IDAuMDAwMDEpO2NvbG9yPW1peCh2X2NvbG9yLHZfcm9vZl9jb2xvcix6KTtcXG4jZWxzZVxcbmNvbG9yPXZfY29sb3I7XFxuI2VuZGlmXFxuI2lmZGVmIEZBVVhfQU9cXG5mbG9hdCBpbnRlbnNpdHk9dV9hb1swXTtmbG9hdCBoPW1heCgwLjAsdl9hby56KTtmbG9hdCBoX2Zsb29ycz1oL3VfYW9bMV07ZmxvYXQgeV9zaGFkZT0xLjAtMC45KmludGVuc2l0eSptaW4odl9hby55LDEuMCk7ZmxvYXQgc2hhZGU9KDEuMC0wLjA4KmludGVuc2l0eSkqKHlfc2hhZGUrKDEuMC15X3NoYWRlKSooMS4wLXBvdygxLjAtbWluKGhfZmxvb3JzLzE2LjAsMS4wKSwxNi4wKSkpKzAuMDgqaW50ZW5zaXR5Km1pbihoX2Zsb29ycy8xNjAuMCwxLjApO2Zsb2F0IGNvbmNhdmU9dl9hby54KnZfYW8ueDtcXG4jaWZkZWYgWkVST19ST09GX1JBRElVU1xcbmNvbmNhdmUqPSgxLjAteik7XFxuI2VuZGlmXFxuZmxvYXQgeF9zaGFkZT1taXgoMS4wLG1peCgwLjYsMC43NSxtaW4oaF9mbG9vcnMvMzAuMCwxLjApKSxpbnRlbnNpdHkpKzAuMSppbnRlbnNpdHkqbWluKGgsMS4wKTtzaGFkZSo9bWl4KDEuMCx4X3NoYWRlKnhfc2hhZGUqeF9zaGFkZSxjb25jYXZlKTtjb2xvci5yZ2I9Y29sb3IucmdiKnNoYWRlO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbiNpZmRlZiBaRVJPX1JPT0ZfUkFESVVTXFxubm9ybWFsPW1peChub3JtYWwsdmVjMygwLjAsMC4wLDEuMCkseik7XFxuI2VuZGlmXFxuY29sb3IueHl6PXNoYWRvd2VkX2NvbG9yX25vcm1hbChjb2xvci54eXosbm9ybWFsaXplKG5vcm1hbCksdl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSx2X2RlcHRoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxuY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChjb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9Y29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMyB1X2xpZ2h0Y29sb3I7dW5pZm9ybSBsb3dwIHZlYzMgdV9saWdodHBvczt1bmlmb3JtIGxvd3AgZmxvYXQgdV9saWdodGludGVuc2l0eTt1bmlmb3JtIGZsb2F0IHVfdmVydGljYWxfZ3JhZGllbnQ7dW5pZm9ybSBsb3dwIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGZsb2F0IHVfZWRnZV9yYWRpdXM7YXR0cmlidXRlIHZlYzQgYV9wb3Nfbm9ybWFsX2VkO2F0dHJpYnV0ZSB2ZWMyIGFfY2VudHJvaWRfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc18zO2F0dHJpYnV0ZSB2ZWMzIGFfcG9zX25vcm1hbF8zO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV91cF9kaXI7dW5pZm9ybSBmbG9hdCB1X2hlaWdodF9saWZ0O1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnVuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8wO3VuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8xO3ZhcnlpbmcgaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyBoaWdocCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxuI2lmZGVmIFpFUk9fUk9PRl9SQURJVVNcXG52YXJ5aW5nIHZlYzQgdl9yb29mX2NvbG9yO1xcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKFpFUk9fUk9PRl9SQURJVVMpIHx8IGRlZmluZWQoUkVOREVSX1NIQURPV1MpXFxudmFyeWluZyBoaWdocCB2ZWMzIHZfbm9ybWFsO1xcbiNlbmRpZlxcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbzt2YXJ5aW5nIHZlYzMgdl9hbztcXG4jZW5kaWZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbnZlYzQgcG9zX254PWZsb29yKGFfcG9zX25vcm1hbF9lZCowLjUpO3ZlYzQgdG9wX3VwX255X3N0YXJ0PWFfcG9zX25vcm1hbF9lZC0yLjAqcG9zX254O3ZlYzMgdG9wX3VwX255PXRvcF91cF9ueV9zdGFydC54eXo7ZmxvYXQgeF9ub3JtYWw9cG9zX254LnovODE5Mi4wO3ZlYzMgbm9ybWFsPXRvcF91cF9ueS55PT0xLjAgPyB2ZWMzKDAuMCwwLjAsMS4wKSA6IG5vcm1hbGl6ZSh2ZWMzKHhfbm9ybWFsLCgyLjAqdG9wX3VwX255LnotMS4wKSooMS4wLWFicyh4X25vcm1hbCkpLDAuMCkpO1xcbiNpZiBkZWZpbmVkKFpFUk9fUk9PRl9SQURJVVMpIHx8IGRlZmluZWQoUkVOREVSX1NIQURPV1MpXFxudl9ub3JtYWw9bm9ybWFsO1xcbiNlbmRpZlxcbmJhc2U9bWF4KDAuMCxiYXNlKTtoZWlnaHQ9bWF4KDAuMCx0b3BfdXBfbnkueT09MC4wICYmIHRvcF91cF9ueS54PT0xLjAgPyBoZWlnaHQtdV9lZGdlX3JhZGl1cyA6IGhlaWdodCk7ZmxvYXQgdD10b3BfdXBfbnkueDt2ZWMyIGNlbnRyb2lkX3Bvcz12ZWMyKDAuMCk7XFxuI2lmIGRlZmluZWQoSEFTX0NFTlRST0lEKSB8fCBkZWZpbmVkKFRFUlJBSU4pXFxuY2VudHJvaWRfcG9zPWFfY2VudHJvaWRfcG9zO1xcbiNlbmRpZlxcbmZsb2F0IGVsZT0wLjA7ZmxvYXQgaD0wLjA7ZmxvYXQgY19lbGU7dmVjMyBwb3M7XFxuI2lmZGVmIFRFUlJBSU5cXG5ib29sIGZsYXRfcm9vZj1jZW50cm9pZF9wb3MueCAhPTAuMCAmJiB0ID4gMC4wO2VsZT1lbGV2YXRpb24ocG9zX254Lnh5KTtjX2VsZT1mbGF0X3Jvb2YgPyBjZW50cm9pZF9wb3MueT09MC4wID8gZWxldmF0aW9uRnJvbVVpbnQxNihjZW50cm9pZF9wb3MueCkgOiBmbGF0RWxldmF0aW9uKGNlbnRyb2lkX3BvcykgOiBlbGU7aD1mbGF0X3Jvb2YgPyBtYXgoY19lbGUraGVpZ2h0LGVsZStiYXNlKzIuMCkgOiBlbGUrKHQgPiAwLjAgPyBoZWlnaHQgOiBiYXNlPT0wLjAgPy01LjAgOiBiYXNlKTtwb3M9dmVjMyhwb3NfbngueHksaCk7XFxuI2Vsc2VcXG5oPXQgPiAwLjAgPyBoZWlnaHQgOiBiYXNlO3Bvcz12ZWMzKHBvc19ueC54eSxoKTtcXG4jZW5kaWZcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuZmxvYXQgbGlmdD1mbG9hdCgodCtiYXNlKSA+IDAuMCkqdV9oZWlnaHRfbGlmdDtoKz1saWZ0O3ZlYzMgZ2xvYmVfbm9ybWFsPW5vcm1hbGl6ZShtaXgoYV9wb3Nfbm9ybWFsXzMvMTYzODQuMCx1X3VwX2Rpcix1X3pvb21fdHJhbnNpdGlvbikpO3ZlYzMgZ2xvYmVfcG9zPWFfcG9zXzMrZ2xvYmVfbm9ybWFsKih1X3RpbGVfdXBfc2NhbGUqaCk7dmVjMyBtZXJjX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgscG9zLnh5LHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKSt1X3VwX2Rpcip1X3RpbGVfdXBfc2NhbGUqcG9zLno7cG9zPW1peF9nbG9iZV9tZXJjYXRvcihnbG9iZV9wb3MsbWVyY19wb3MsdV96b29tX3RyYW5zaXRpb24pO1xcbiNlbmRpZlxcbmZsb2F0IGhpZGRlbj1mbG9hdChjZW50cm9pZF9wb3MueD09MC4wICYmIGNlbnRyb2lkX3Bvcy55PT0xLjApO2dsX1Bvc2l0aW9uPW1peCh1X21hdHJpeCp2ZWM0KHBvcywxKSxBV0FZLGhpZGRlbik7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudl9wb3NfbGlnaHRfdmlld18wPXVfbGlnaHRfbWF0cml4XzAqdmVjNChwb3MsMSk7dl9wb3NfbGlnaHRfdmlld18xPXVfbGlnaHRfbWF0cml4XzEqdmVjNChwb3MsMSk7dl9kZXB0aD1nbF9Qb3NpdGlvbi53O1xcbiNlbmRpZlxcbmZsb2F0IE5kb3RMPTAuMDtmbG9hdCBjb2xvcnZhbHVlPTAuMDtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbk5kb3RMPWNhbGN1bGF0ZV9OZG90TChub3JtYWwpO1xcbiNlbHNlXFxuY29sb3J2YWx1ZT1jb2xvci5yKjAuMjEyNitjb2xvci5nKjAuNzE1Mitjb2xvci5iKjAuMDcyMjt2ZWM0IGFtYmllbnRsaWdodD12ZWM0KDAuMDMsMC4wMywwLjAzLDEuMCk7Y29sb3IrPWFtYmllbnRsaWdodDtOZG90TD1jbGFtcChkb3Qobm9ybWFsLHVfbGlnaHRwb3MpLDAuMCwxLjApO05kb3RMPW1peCgoMS4wLXVfbGlnaHRpbnRlbnNpdHkpLG1heCgoMS4wLWNvbG9ydmFsdWUrdV9saWdodGludGVuc2l0eSksMS4wKSxOZG90TCk7XFxuI2VuZGlmXFxuaWYgKG5vcm1hbC55ICE9MC4wKSB7ZmxvYXQgcj0wLjg0O1xcbiNpZm5kZWYgTElHSFRJTkdfM0RfTU9ERVxcbnI9bWl4KDAuNywwLjk4LDEuMC11X2xpZ2h0aW50ZW5zaXR5KTtcXG4jZW5kaWZcXG5OZG90TCo9KFxcbigxLjAtdV92ZXJ0aWNhbF9ncmFkaWVudCkrKHVfdmVydGljYWxfZ3JhZGllbnQqY2xhbXAoKHQrYmFzZSkqcG93KGhlaWdodC8xNTAuMCwwLjUpLHIsMS4wKSkpO312X2NvbG9yPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtcXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGNvbmNhdmU9cG9zX254LnctZmxvb3IocG9zX254LncqMC41KSoyLjA7ZmxvYXQgc3RhcnQ9dG9wX3VwX255X3N0YXJ0Lnc7ZmxvYXQgeV9ncm91bmQ9MS4wLWNsYW1wKHQrYmFzZSwwLjAsMS4wKTtmbG9hdCB0b3BfaGVpZ2h0PWhlaWdodDtcXG4jaWZkZWYgVEVSUkFJTlxcbnRvcF9oZWlnaHQ9bWl4KG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSxlbGUraGVpZ2h0LGZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjApKS1lbGU7eV9ncm91bmQrPXlfZ3JvdW5kKjUuMC9tYXgoMy4wLHRvcF9oZWlnaHQpO1xcbiNlbmRpZlxcbnZfYW89dmVjMyhtaXgoY29uY2F2ZSwtY29uY2F2ZSxzdGFydCkseV9ncm91bmQsaC1lbGUpO05kb3RMKj0oMS4wKzAuMDUqKDEuMC10b3BfdXBfbnkueSkqdV9hb1swXSk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnRvcF9oZWlnaHQrPXVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxuZ2xfUG9zaXRpb24uei09KDAuMDAwMDAwNioobWluKHRvcF9oZWlnaHQsNTAwLikrMi4wKm1pbihiYXNlLDUwMC4wKSs2MC4wKmNvbmNhdmUrMy4wKnN0YXJ0KSkqZ2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnZfY29sb3I9YXBwbHlfbGlnaHRpbmcoY29sb3IsTmRvdEwpO1xcbiNlbHNlXFxudl9jb2xvci5yZ2IrPWNsYW1wKGNvbG9yLnJnYipOZG90TCp1X2xpZ2h0Y29sb3IsbWl4KHZlYzMoMC4wKSx2ZWMzKDAuMyksMS4wLXVfbGlnaHRjb2xvciksdmVjMygxLjApKTtcXG4jZW5kaWZcXG52X2NvbG9yKj11X29wYWNpdHk7XFxuI2lmZGVmIFpFUk9fUk9PRl9SQURJVVNcXG52X3Jvb2ZfY29sb3I9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxudl9yb29mX2NvbG9yPWFwcGx5X2xpZ2h0aW5nKGNvbG9yLGNhbGN1bGF0ZV9OZG90TCh2ZWMzKDAuMCwwLjAsMS4wKSkpO1xcbiNlbHNlXFxuZmxvYXQgcm9vZk5kb3RMPWNsYW1wKHVfbGlnaHRwb3MueiwwLjAsMS4wKTtyb29mTmRvdEw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgxLjAtY29sb3J2YWx1ZSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLHJvb2ZOZG90TCk7dl9yb29mX2NvbG9yLnJnYis9Y2xhbXAoY29sb3IucmdiKnJvb2ZOZG90TCp1X2xpZ2h0Y29sb3IsbWl4KHZlYzMoMC4wKSx2ZWMzKDAuMyksMS4wLXVfbGlnaHRjb2xvciksdmVjMygxLjApKTtcXG4jZW5kaWZcXG52X3Jvb2ZfY29sb3IqPXVfb3BhY2l0eTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwb3MpO1xcbiNlbmRpZlxcbn1cIiksZmlsbEV4dHJ1c2lvblBhdHRlcm46cG4oXCJ1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7XFxuI2lmZGVmIEZBVVhfQU9cXG51bmlmb3JtIGxvd3AgdmVjMiB1X2FvO3ZhcnlpbmcgdmVjMyB2X2FvO1xcbiNlbmRpZlxcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxudmFyeWluZyBmbG9hdCB2X05kb3RMO1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMiB2X3Bvczt2YXJ5aW5nIHZlYzQgdl9saWdodGluZzt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG52ZWMyIHBhdHRlcm5fdGw9cGF0dGVybi54eTt2ZWMyIHBhdHRlcm5fYnI9cGF0dGVybi56dzt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zLDEuMCk7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGwvdV90ZXhzaXplLHBhdHRlcm5fYnIvdV90ZXhzaXplLGltYWdlY29vcmQpO3ZlYzQgb3V0X2NvbG9yPXRleHR1cmUyRCh1X2ltYWdlLHBvcyk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmcob3V0X2NvbG9yLHZfTmRvdEwpKnVfb3BhY2l0eTtcXG4jZWxzZVxcbm91dF9jb2xvcj1vdXRfY29sb3Iqdl9saWdodGluZztcXG4jZW5kaWZcXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGludGVuc2l0eT11X2FvWzBdO2Zsb2F0IGg9bWF4KDAuMCx2X2FvLnopO2Zsb2F0IGhfZmxvb3JzPWgvdV9hb1sxXTtmbG9hdCB5X3NoYWRlPTEuMC0wLjkqaW50ZW5zaXR5Km1pbih2X2FvLnksMS4wKTtmbG9hdCBzaGFkZT0oMS4wLTAuMDgqaW50ZW5zaXR5KSooeV9zaGFkZSsoMS4wLXlfc2hhZGUpKigxLjAtcG93KDEuMC1taW4oaF9mbG9vcnMvMTYuMCwxLjApLDE2LjApKSkrMC4wOCppbnRlbnNpdHkqbWluKGhfZmxvb3JzLzE2MC4wLDEuMCk7ZmxvYXQgY29uY2F2ZT12X2FvLngqdl9hby54O2Zsb2F0IHhfc2hhZGU9bWl4KDEuMCxtaXgoMC42LDAuNzUsbWluKGhfZmxvb3JzLzMwLjAsMS4wKSksaW50ZW5zaXR5KSswLjEqaW50ZW5zaXR5Km1pbihoLDEuMCk7c2hhZGUqPW1peCgxLjAseF9zaGFkZSp4X3NoYWRlKnhfc2hhZGUsY29uY2F2ZSk7b3V0X2NvbG9yLnJnYj1vdXRfY29sb3IucmdiKnNoYWRlO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfdXBwZXI7dW5pZm9ybSB2ZWMyIHVfcGl4ZWxfY29vcmRfbG93ZXI7dW5pZm9ybSBmbG9hdCB1X2hlaWdodF9mYWN0b3I7dW5pZm9ybSBmbG9hdCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzO3VuaWZvcm0gZmxvYXQgdV92ZXJ0aWNhbF9ncmFkaWVudDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gdmVjMyB1X2xpZ2h0Y29sb3I7dW5pZm9ybSBsb3dwIHZlYzMgdV9saWdodHBvczt1bmlmb3JtIGxvd3AgZmxvYXQgdV9saWdodGludGVuc2l0eTthdHRyaWJ1dGUgdmVjNCBhX3Bvc19ub3JtYWxfZWQ7YXR0cmlidXRlIHZlYzIgYV9jZW50cm9pZF9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzM7YXR0cmlidXRlIHZlYzMgYV9wb3Nfbm9ybWFsXzM7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X3VwX2Rpcjt1bmlmb3JtIGZsb2F0IHVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfcG9zO3ZhcnlpbmcgdmVjNCB2X2xpZ2h0aW5nO1xcbiNpZmRlZiBGQVVYX0FPXFxudW5pZm9ybSBsb3dwIHZlYzIgdV9hbzt2YXJ5aW5nIHZlYzMgdl9hbztcXG4jZW5kaWZcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnZhcnlpbmcgZmxvYXQgdl9OZG90TDtcXG4jZW5kaWZcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7dmVjNCBwb3Nfbng9Zmxvb3IoYV9wb3Nfbm9ybWFsX2VkKjAuNSk7bWVkaXVtcCB2ZWM0IHRvcF91cF9ueV9zdGFydD1hX3Bvc19ub3JtYWxfZWQtMi4wKnBvc19ueDttZWRpdW1wIHZlYzMgdG9wX3VwX255PXRvcF91cF9ueV9zdGFydC54eXo7ZmxvYXQgeF9ub3JtYWw9cG9zX254LnovODE5Mi4wO3ZlYzMgbm9ybWFsPXRvcF91cF9ueS55PT0xLjAgPyB2ZWMzKDAuMCwwLjAsMS4wKSA6IG5vcm1hbGl6ZSh2ZWMzKHhfbm9ybWFsLCgyLjAqdG9wX3VwX255LnotMS4wKSooMS4wLWFicyh4X25vcm1hbCkpLDAuMCkpO2Zsb2F0IGVkZ2VkaXN0YW5jZT1hX3Bvc19ub3JtYWxfZWQudzt2ZWMyIGRpc3BsYXlfc2l6ZT0ocGF0dGVybl9ici1wYXR0ZXJuX3RsKS9waXhlbF9yYXRpbztiYXNlPW1heCgwLjAsYmFzZSk7aGVpZ2h0PW1heCgwLjAsaGVpZ2h0KTtmbG9hdCB0PXRvcF91cF9ueS54O2Zsb2F0IHo9dCA+IDAuMCA/IGhlaWdodCA6IGJhc2U7dmVjMiBjZW50cm9pZF9wb3M9dmVjMigwLjApO1xcbiNpZiBkZWZpbmVkKEhBU19DRU5UUk9JRCkgfHwgZGVmaW5lZChURVJSQUlOKVxcbmNlbnRyb2lkX3Bvcz1hX2NlbnRyb2lkX3BvcztcXG4jZW5kaWZcXG5mbG9hdCBlbGU9MC4wO2Zsb2F0IGg9ejt2ZWMzIHA7ZmxvYXQgY19lbGU7XFxuI2lmZGVmIFRFUlJBSU5cXG5ib29sIGZsYXRfcm9vZj1jZW50cm9pZF9wb3MueCAhPTAuMCAmJiB0ID4gMC4wO2VsZT1lbGV2YXRpb24ocG9zX254Lnh5KTtjX2VsZT1mbGF0X3Jvb2YgPyBjZW50cm9pZF9wb3MueT09MC4wID8gZWxldmF0aW9uRnJvbVVpbnQxNihjZW50cm9pZF9wb3MueCkgOiBmbGF0RWxldmF0aW9uKGNlbnRyb2lkX3BvcykgOiBlbGU7aD1mbGF0X3Jvb2YgPyBtYXgoY19lbGUraGVpZ2h0LGVsZStiYXNlKzIuMCkgOiBlbGUrKHQgPiAwLjAgPyBoZWlnaHQgOiBiYXNlPT0wLjAgPy01LjAgOiBiYXNlKTtwPXZlYzMocG9zX254Lnh5LGgpO1xcbiNlbHNlXFxucD12ZWMzKHBvc19ueC54eSx6KTtcXG4jZW5kaWZcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuZmxvYXQgbGlmdD1mbG9hdCgodCtiYXNlKSA+IDAuMCkqdV9oZWlnaHRfbGlmdDtoKz1saWZ0O3ZlYzMgZ2xvYmVfbm9ybWFsPW5vcm1hbGl6ZShtaXgoYV9wb3Nfbm9ybWFsXzMvMTYzODQuMCx1X3VwX2Rpcix1X3pvb21fdHJhbnNpdGlvbikpO3ZlYzMgZ2xvYmVfcG9zPWFfcG9zXzMrZ2xvYmVfbm9ybWFsKih1X3RpbGVfdXBfc2NhbGUqKHAueitsaWZ0KSk7dmVjMyBtZXJjX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgscC54eSx1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcikrdV91cF9kaXIqdV90aWxlX3VwX3NjYWxlKnAuejtwPW1peF9nbG9iZV9tZXJjYXRvcihnbG9iZV9wb3MsbWVyY19wb3MsdV96b29tX3RyYW5zaXRpb24pO1xcbiNlbmRpZlxcbmZsb2F0IGhpZGRlbj1mbG9hdChjZW50cm9pZF9wb3MueD09MC4wICYmIGNlbnRyb2lkX3Bvcy55PT0xLjApO2dsX1Bvc2l0aW9uPW1peCh1X21hdHJpeCp2ZWM0KHAsMSksQVdBWSxoaWRkZW4pO3ZlYzIgcG9zPW5vcm1hbC56PT0xLjBcXG4/IHBvc19ueC54eVxcbjogdmVjMihlZGdlZGlzdGFuY2Useip1X2hlaWdodF9mYWN0b3IpO3ZfcG9zPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsZGlzcGxheV9zaXplLHVfdGlsZV91bml0c190b19waXhlbHMscG9zKTt2X2xpZ2h0aW5nPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtmbG9hdCBOZG90TD0wLjA7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5OZG90TD1jYWxjdWxhdGVfTmRvdEwobm9ybWFsKTtcXG4jZWxzZVxcbk5kb3RMPWNsYW1wKGRvdChub3JtYWwsdV9saWdodHBvcyksMC4wLDEuMCk7TmRvdEw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgwLjUrdV9saWdodGludGVuc2l0eSksMS4wKSxOZG90TCk7XFxuI2VuZGlmXFxuaWYgKG5vcm1hbC55ICE9MC4wKSB7ZmxvYXQgcj0wLjg0O1xcbiNpZm5kZWYgTElHSFRJTkdfM0RfTU9ERVxcbnI9bWl4KDAuNywwLjk4LDEuMC11X2xpZ2h0aW50ZW5zaXR5KTtcXG4jZW5kaWZcXG5OZG90TCo9KFxcbigxLjAtdV92ZXJ0aWNhbF9ncmFkaWVudCkrKHVfdmVydGljYWxfZ3JhZGllbnQqY2xhbXAoKHQrYmFzZSkqcG93KGhlaWdodC8xNTAuMCwwLjUpLHIsMS4wKSkpO31cXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGNvbmNhdmU9cG9zX254LnctZmxvb3IocG9zX254LncqMC41KSoyLjA7ZmxvYXQgc3RhcnQ9dG9wX3VwX255X3N0YXJ0Lnc7ZmxvYXQgeV9ncm91bmQ9MS4wLWNsYW1wKHQrYmFzZSwwLjAsMS4wKTtmbG9hdCB0b3BfaGVpZ2h0PWhlaWdodDtcXG4jaWZkZWYgVEVSUkFJTlxcbnRvcF9oZWlnaHQ9bWl4KG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSxlbGUraGVpZ2h0LGZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjApKS1lbGU7eV9ncm91bmQrPXlfZ3JvdW5kKjUuMC9tYXgoMy4wLHRvcF9oZWlnaHQpO1xcbiNlbmRpZlxcbnZfYW89dmVjMyhtaXgoY29uY2F2ZSwtY29uY2F2ZSxzdGFydCkseV9ncm91bmQsaC1lbGUpO05kb3RMKj0oMS4wKzAuMDUqKDEuMC10b3BfdXBfbnkueSkqdV9hb1swXSk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnRvcF9oZWlnaHQrPXVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxuZ2xfUG9zaXRpb24uei09KDAuMDAwMDAwNioobWluKHRvcF9oZWlnaHQsNTAwLikrMi4wKm1pbihiYXNlLDUwMC4wKSs2MC4wKmNvbmNhdmUrMy4wKnN0YXJ0KSkqZ2xfUG9zaXRpb24udztcXG4jZW5kaWZcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnZfTmRvdEw9TmRvdEw7XFxuI2Vsc2VcXG52X2xpZ2h0aW5nLnJnYis9Y2xhbXAoTmRvdEwqdV9saWdodGNvbG9yLG1peCh2ZWMzKDAuMCksdmVjMygwLjMpLDEuMC11X2xpZ2h0Y29sb3IpLHZlYzMoMS4wKSk7dl9saWdodGluZyo9dV9vcGFjaXR5O1xcbiNlbmRpZiBcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwKTtcXG4jZW5kaWZcXG59XCIpLGhpbGxzaGFkZVByZXBhcmU6cG4oXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2VuZGlmXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9wb3M7dW5pZm9ybSB2ZWMyIHVfZGltZW5zaW9uO3VuaWZvcm0gZmxvYXQgdV96b29tO3VuaWZvcm0gdmVjNCB1X3VucGFjaztmbG9hdCBnZXRFbGV2YXRpb24odmVjMiBjb29yZCkge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG5yZXR1cm4gdGV4dHVyZTJEKHVfaW1hZ2UsY29vcmQpLmEvNC4wO1xcbiNlbHNlXFxudmVjNCBkYXRhPXRleHR1cmUyRCh1X2ltYWdlLGNvb3JkKSoyNTUuMDtkYXRhLmE9LTEuMDtyZXR1cm4gZG90KGRhdGEsdV91bnBhY2spLzQuMDtcXG4jZW5kaWZcXG59dm9pZCBtYWluKCkge3ZlYzIgZXBzaWxvbj0xLjAvdV9kaW1lbnNpb247ZmxvYXQgYT1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LC1lcHNpbG9uLnkpKTtmbG9hdCBiPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKDAsLWVwc2lsb24ueSkpO2Zsb2F0IGM9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoZXBzaWxvbi54LC1lcHNpbG9uLnkpKTtmbG9hdCBkPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKC1lcHNpbG9uLngsMCkpO2Zsb2F0IGU9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoZXBzaWxvbi54LDApKTtmbG9hdCBmPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKC1lcHNpbG9uLngsZXBzaWxvbi55KSk7ZmxvYXQgZz1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigwLGVwc2lsb24ueSkpO2Zsb2F0IGg9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoZXBzaWxvbi54LGVwc2lsb24ueSkpO2Zsb2F0IGV4YWdnZXJhdGlvbkZhY3Rvcj11X3pvb20gPCAyLjAgPyAwLjQgOiB1X3pvb20gPCA0LjUgPyAwLjM1IDogMC4zO2Zsb2F0IGV4YWdnZXJhdGlvbj11X3pvb20gPCAxNS4wID8gKHVfem9vbS0xNS4wKSpleGFnZ2VyYXRpb25GYWN0b3IgOiAwLjA7dmVjMiBkZXJpdj12ZWMyKFxcbihjK2UrZStoKS0oYStkK2QrZiksKGYrZytnK2gpLShhK2IrYitjKVxcbikvcG93KDIuMCxleGFnZ2VyYXRpb24rKDE5LjI1NjItdV96b29tKSk7Z2xfRnJhZ0NvbG9yPWNsYW1wKHZlYzQoXFxuZGVyaXYueC8yLjArMC41LGRlcml2LnkvMi4wKzAuNSwxLjAsMS4wKSwwLjAsMS4wKTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfZGltZW5zaW9uO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdGV4dHVyZV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7aGlnaHAgdmVjMiBlcHNpbG9uPTEuMC91X2RpbWVuc2lvbjtmbG9hdCBzY2FsZT0odV9kaW1lbnNpb24ueC0yLjApL3VfZGltZW5zaW9uLng7dl9wb3M9KGFfdGV4dHVyZV9wb3MvODE5Mi4wKSpzY2FsZStlcHNpbG9uO31cIiksaGlsbHNoYWRlOnBuKFwidW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9wb3M7dW5pZm9ybSB2ZWMyIHVfbGF0cmFuZ2U7dW5pZm9ybSB2ZWMyIHVfbGlnaHQ7dW5pZm9ybSB2ZWM0IHVfc2hhZG93O3VuaWZvcm0gdmVjNCB1X2hpZ2hsaWdodDt1bmlmb3JtIHZlYzQgdV9hY2NlbnQ7dm9pZCBtYWluKCkge3ZlYzQgcGl4ZWw9dGV4dHVyZTJEKHVfaW1hZ2Usdl9wb3MpO3ZlYzIgZGVyaXY9KChwaXhlbC5yZyoyLjApLTEuMCk7ZmxvYXQgc2NhbGVGYWN0b3I9Y29zKHJhZGlhbnMoKHVfbGF0cmFuZ2VbMF0tdV9sYXRyYW5nZVsxXSkqKDEuMC12X3Bvcy55KSt1X2xhdHJhbmdlWzFdKSk7ZmxvYXQgc2xvcGU9YXRhbigxLjI1Kmxlbmd0aChkZXJpdikvc2NhbGVGYWN0b3IpO2Zsb2F0IGFzcGVjdD1kZXJpdi54ICE9MC4wID8gYXRhbihkZXJpdi55LC1kZXJpdi54KSA6IFBJLzIuMCooZGVyaXYueSA+IDAuMCA/IDEuMCA6LTEuMCk7ZmxvYXQgaW50ZW5zaXR5PXVfbGlnaHQueDtmbG9hdCBhemltdXRoPXVfbGlnaHQueStQSTtmbG9hdCBiYXNlPTEuODc1LWludGVuc2l0eSoxLjc1O2Zsb2F0IG1heFZhbHVlPTAuNSpQSTtmbG9hdCBzY2FsZWRTbG9wZT1pbnRlbnNpdHkgIT0wLjUgPyAoKHBvdyhiYXNlLHNsb3BlKS0xLjApLyhwb3coYmFzZSxtYXhWYWx1ZSktMS4wKSkqbWF4VmFsdWUgOiBzbG9wZTtmbG9hdCBhY2NlbnQ9Y29zKHNjYWxlZFNsb3BlKTt2ZWM0IGFjY2VudF9jb2xvcj0oMS4wLWFjY2VudCkqdV9hY2NlbnQqY2xhbXAoaW50ZW5zaXR5KjIuMCwwLjAsMS4wKTtmbG9hdCBzaGFkZT1hYnMobW9kKChhc3BlY3QrYXppbXV0aCkvUEkrMC41LDIuMCktMS4wKTt2ZWM0IHNoYWRlX2NvbG9yPW1peCh1X3NoYWRvdyx1X2hpZ2hsaWdodCxzaGFkZSkqc2luKHNjYWxlZFNsb3BlKSpjbGFtcChpbnRlbnNpdHkqMi4wLDAuMCwxLjApO2dsX0ZyYWdDb2xvcj1hY2NlbnRfY29sb3IqKDEuMC1zaGFkZV9jb2xvci5hKStzaGFkZV9jb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbmdsX0ZyYWdDb2xvcj1hcHBseV9saWdodGluZyhnbF9GcmFnQ29sb3IpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5nbF9GcmFnQ29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChnbF9GcmFnQ29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdGV4dHVyZV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3M9YV90ZXh0dXJlX3Bvcy84MTkyLjA7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksbGluZTpwbihcInVuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIGZsb2F0IHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ7dW5pZm9ybSBoaWdocCB2ZWMyIHVfdHJpbV9vZmZzZXQ7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBoaWdocCB2ZWM0IHZfdXY7XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2Rhc2hfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfdGV4O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZ3JhZGllbnRfaW1hZ2U7XFxuI2VuZGlmXFxudW5pZm9ybSBmbG9hdCB1X2JvcmRlcl93aWR0aDt1bmlmb3JtIHZlYzQgdV9ib3JkZXJfY29sb3I7ZmxvYXQgbHVtaW5hbmNlKHZlYzMgYykge3JldHVybiAoYy5yK2MucitjLmIrYy5nK2MuZytjLmcpKjAuMTY2Nzt9XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBkYXNoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbmZsb2F0IGxpbmVhcnN0ZXAoZmxvYXQgZWRnZTAsZmxvYXQgZWRnZTEsZmxvYXQgeCkge3JldHVybiAgY2xhbXAoKHgtZWRnZTApLyhlZGdlMS1lZGdlMCksMC4wLDEuMCk7fXZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCB2ZWM0IGRhc2hcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5mbG9hdCBkaXN0PWxlbmd0aCh2X25vcm1hbCkqdl93aWR0aDIucztmbG9hdCBibHVyMj0oYmx1cisxLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8pKnZfZ2FtbWFfc2NhbGU7ZmxvYXQgYWxwaGE9Y2xhbXAobWluKGRpc3QtKHZfd2lkdGgyLnQtYmx1cjIpLHZfd2lkdGgyLnMtZGlzdCkvYmx1cjIsMC4wLDEuMCk7XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG5mbG9hdCBzZGZkaXN0PXRleHR1cmUyRCh1X2Rhc2hfaW1hZ2Usdl90ZXgpLmE7ZmxvYXQgc2RmZ2FtbWE9MS4wLygyLjAqdV9kZXZpY2VfcGl4ZWxfcmF0aW8pL2Rhc2guejthbHBoYSo9bGluZWFyc3RlcCgwLjUtc2RmZ2FtbWEvZmxvb3J3aWR0aCwwLjUrc2RmZ2FtbWEvZmxvb3J3aWR0aCxzZGZkaXN0KTtcXG4jZW5kaWZcXG5oaWdocCB2ZWM0IG91dF9jb2xvcjtcXG4jaWZkZWYgUkVOREVSX0xJTkVfR1JBRElFTlRcXG5vdXRfY29sb3I9dGV4dHVyZTJEKHVfZ3JhZGllbnRfaW1hZ2Usdl91di54eSk7XFxuI2Vsc2VcXG5vdXRfY29sb3I9Y29sb3I7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX1RSSU1fT0ZGU0VUXFxuaGlnaHAgZmxvYXQgc3RhcnQ9dl91dlsyXTtoaWdocCBmbG9hdCBlbmQ9dl91dlszXTtoaWdocCBmbG9hdCB0cmltX3N0YXJ0PXVfdHJpbV9vZmZzZXRbMF07aGlnaHAgZmxvYXQgdHJpbV9lbmQ9dV90cmltX29mZnNldFsxXTtoaWdocCBmbG9hdCBsaW5lX3Byb2dyZXNzPShzdGFydCsodl91di54KSooZW5kLXN0YXJ0KSk7aWYgKHRyaW1fZW5kID4gdHJpbV9zdGFydCkge2lmIChsaW5lX3Byb2dyZXNzIDw9dHJpbV9lbmQgJiYgbGluZV9wcm9ncmVzcyA+PXRyaW1fc3RhcnQpIHtvdXRfY29sb3I9dmVjNCgwLDAsMCwwKTt9fVxcbiNlbmRpZlxcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nKG91dF9jb2xvcik7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfQUxQSEFfRElTQ0FSRFxcbmlmIChhbHBoYSA8IHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQpIHtkaXNjYXJkO31cXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfQk9SREVSXFxuZmxvYXQgZWRnZUJsdXI9KHVfYm9yZGVyX3dpZHRoKzEuMC91X2RldmljZV9waXhlbF9yYXRpbyk7ZmxvYXQgYWxwaGEyPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWVkZ2VCbHVyKSx2X3dpZHRoMi5zLWRpc3QpL2VkZ2VCbHVyLDAuMCwxLjApO2lmIChhbHBoYTIgPCAxLikge2Zsb2F0IHNtb290aEFscGhhPXNtb290aHN0ZXAoMC42LDEuMCxhbHBoYTIpO1xcbiNpZmRlZiBSRU5ERVJfTElORV9CT1JERVJfQVVUT1xcbmZsb2F0IFk9KG91dF9jb2xvci5hID4gMC4wMSkgPyBsdW1pbmFuY2Uob3V0X2NvbG9yLnJnYi9vdXRfY29sb3IuYSkgOiAxLjtmbG9hdCBhZGp1c3RtZW50PShZID4gMC4pID8gMC41L1kgOiAwLjQ1O2lmIChvdXRfY29sb3IuYSA+IDAuMjUgJiYgWSA8IDAuMjUpIHt2ZWMzIGJvcmRlckNvbG9yPShZID4gMC4pID8gb3V0X2NvbG9yLnJnYiA6IHZlYzMoMSwxLDEpKm91dF9jb2xvci5hO291dF9jb2xvci5yZ2I9b3V0X2NvbG9yLnJnYitib3JkZXJDb2xvciooYWRqdXN0bWVudCooMS4wLXNtb290aEFscGhhKSk7fSBlbHNlIHtvdXRfY29sb3IucmdiKj0oMC42ICswLjQqc21vb3RoQWxwaGEpO31cXG4jZWxzZVxcbm91dF9jb2xvci5yZ2I9bWl4KHVfYm9yZGVyX2NvbG9yLnJnYixvdXRfY29sb3IucmdiLHNtb290aEFscGhhKTtcXG4jZW5kaWZcXG59XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvciooYWxwaGEqb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiXFxuI2RlZmluZSBFWFRSVURFX1NDQUxFIDAuMDE1ODczMDE2XFxuYXR0cmlidXRlIHZlYzIgYV9wb3Nfbm9ybWFsO2F0dHJpYnV0ZSB2ZWM0IGFfZGF0YTtcXG4jaWYgZGVmaW5lZChSRU5ERVJfTElORV9HUkFESUVOVCkgfHwgZGVmaW5lZChSRU5ERVJfTElORV9UUklNX09GRlNFVClcXG5hdHRyaWJ1dGUgaGlnaHAgdmVjNCBhX3BhY2tlZDtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbmF0dHJpYnV0ZSBmbG9hdCBhX2xpbmVzb2ZhcjtcXG4jZW5kaWZcXG51bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQyIHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM7dW5pZm9ybSB2ZWMyIHVfdW5pdHNfdG9fcGl4ZWxzO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl91djtcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbnVuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzO3ZhcnlpbmcgdmVjMiB2X3RleDtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfR1JBRElFTlRcXG51bmlmb3JtIGZsb2F0IHVfaW1hZ2VfaGVpZ2h0O1xcbiNlbmRpZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgZGFzaFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgZGFzaFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9mZnNldFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgd2lkdGhcXG5mbG9hdCBBTlRJQUxJQVNJTkc9MS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvLzIuMDt2ZWMyIGFfZXh0cnVkZT1hX2RhdGEueHktMTI4LjA7ZmxvYXQgYV9kaXJlY3Rpb249bW9kKGFfZGF0YS56LDQuMCktMS4wO3ZlYzIgcG9zPWZsb29yKGFfcG9zX25vcm1hbCowLjUpO21lZGl1bXAgdmVjMiBub3JtYWw9YV9wb3Nfbm9ybWFsLTIuMCpwb3M7bm9ybWFsLnk9bm9ybWFsLnkqMi4wLTEuMDt2X25vcm1hbD1ub3JtYWw7Z2Fwd2lkdGg9Z2Fwd2lkdGgvMi4wO2Zsb2F0IGhhbGZ3aWR0aD13aWR0aC8yLjA7b2Zmc2V0PS0xLjAqb2Zmc2V0O2Zsb2F0IGluc2V0PWdhcHdpZHRoKyhnYXB3aWR0aCA+IDAuMCA/IEFOVElBTElBU0lORyA6IDAuMCk7ZmxvYXQgb3V0c2V0PWdhcHdpZHRoK2hhbGZ3aWR0aCooZ2Fwd2lkdGggPiAwLjAgPyAyLjAgOiAxLjApKyhoYWxmd2lkdGg9PTAuMCA/IDAuMCA6IEFOVElBTElBU0lORyk7bWVkaXVtcCB2ZWMyIGRpc3Q9b3V0c2V0KmFfZXh0cnVkZSpFWFRSVURFX1NDQUxFO21lZGl1bXAgZmxvYXQgdT0wLjUqYV9kaXJlY3Rpb247bWVkaXVtcCBmbG9hdCB0PTEuMC1hYnModSk7bWVkaXVtcCB2ZWMyIG9mZnNldDI9b2Zmc2V0KmFfZXh0cnVkZSpFWFRSVURFX1NDQUxFKm5vcm1hbC55Km1hdDIodCwtdSx1LHQpO3ZlYzQgcHJvamVjdGVkX2V4dHJ1ZGU9dV9tYXRyaXgqdmVjNChkaXN0KnVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMsMC4wLDAuMCk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChwb3Mrb2Zmc2V0Mip1X3BpeGVsc190b190aWxlX3VuaXRzLDAuMCwxLjApK3Byb2plY3RlZF9leHRydWRlO1xcbiNpZm5kZWYgUkVOREVSX1RPX1RFWFRVUkVcXG5mbG9hdCBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlPWxlbmd0aChkaXN0KTtmbG9hdCBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlPWxlbmd0aChwcm9qZWN0ZWRfZXh0cnVkZS54eS9nbF9Qb3NpdGlvbi53KnVfdW5pdHNfdG9fcGl4ZWxzKTt2X2dhbW1hX3NjYWxlPWV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmUvZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZTtcXG4jZWxzZVxcbnZfZ2FtbWFfc2NhbGU9MS4wO1xcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKFJFTkRFUl9MSU5FX0dSQURJRU5UKSB8fCBkZWZpbmVkKFJFTkRFUl9MSU5FX1RSSU1fT0ZGU0VUKVxcbmZsb2F0IGFfdXZfeD1hX3BhY2tlZFswXTtmbG9hdCBhX3NwbGl0X2luZGV4PWFfcGFja2VkWzFdO2hpZ2hwIGZsb2F0IGFfY2xpcF9zdGFydD1hX3BhY2tlZFsyXTtoaWdocCBmbG9hdCBhX2NsaXBfZW5kPWFfcGFja2VkWzNdO1xcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbmhpZ2hwIGZsb2F0IHRleGVsX2hlaWdodD0xLjAvdV9pbWFnZV9oZWlnaHQ7aGlnaHAgZmxvYXQgaGFsZl90ZXhlbF9oZWlnaHQ9MC41KnRleGVsX2hlaWdodDt2X3V2PXZlYzQoYV91dl94LGFfc3BsaXRfaW5kZXgqdGV4ZWxfaGVpZ2h0LWhhbGZfdGV4ZWxfaGVpZ2h0LGFfY2xpcF9zdGFydCxhX2NsaXBfZW5kKTtcXG4jZWxzZVxcbnZfdXY9dmVjNChhX3V2X3gsMC4wLGFfY2xpcF9zdGFydCxhX2NsaXBfZW5kKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbmZsb2F0IHNjYWxlPWRhc2guej09MC4wID8gMC4wIDogdV90aWxlX3VuaXRzX3RvX3BpeGVscy9kYXNoLno7ZmxvYXQgaGVpZ2h0PWRhc2gueTt2X3RleD12ZWMyKGFfbGluZXNvZmFyKnNjYWxlL2Zsb29yd2lkdGgsKC1ub3JtYWwueSpoZWlnaHQrZGFzaC54KzAuNSkvdV90ZXhzaXplLnkpO1xcbiNlbmRpZlxcbnZfd2lkdGgyPXZlYzIob3V0c2V0LGluc2V0KTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwb3MpO1xcbiNlbmRpZlxcbn1cIiksbGluZVBhdHRlcm46cG4oXCJ1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgZmxvYXQgdl9saW5lc29mYXI7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO3ZhcnlpbmcgZmxvYXQgdl93aWR0aDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52ZWMyIHBhdHRlcm5fdGw9cGF0dGVybi54eTt2ZWMyIHBhdHRlcm5fYnI9cGF0dGVybi56dzt2ZWMyIGRpc3BsYXlfc2l6ZT0ocGF0dGVybl9ici1wYXR0ZXJuX3RsKS9waXhlbF9yYXRpbzt2ZWMyIHBhdHRlcm5fc2l6ZT12ZWMyKGRpc3BsYXlfc2l6ZS54L3VfdGlsZV91bml0c190b19waXhlbHMsZGlzcGxheV9zaXplLnkpO2Zsb2F0IGFzcGVjdD1kaXNwbGF5X3NpemUueS92X3dpZHRoO2Zsb2F0IGRpc3Q9bGVuZ3RoKHZfbm9ybWFsKSp2X3dpZHRoMi5zO2Zsb2F0IGJsdXIyPShibHVyKzEuMC91X2RldmljZV9waXhlbF9yYXRpbykqdl9nYW1tYV9zY2FsZTtmbG9hdCBhbHBoYT1jbGFtcChtaW4oZGlzdC0odl93aWR0aDIudC1ibHVyMiksdl93aWR0aDIucy1kaXN0KS9ibHVyMiwwLjAsMS4wKTtmbG9hdCB4PW1vZCh2X2xpbmVzb2Zhci9wYXR0ZXJuX3NpemUueCphc3BlY3QsMS4wKTtmbG9hdCB5PTAuNSp2X25vcm1hbC55KzAuNTt2ZWMyIHRleGVsX3NpemU9MS4wL3VfdGV4c2l6ZTt2ZWMyIHBvcz1taXgocGF0dGVybl90bCp0ZXhlbF9zaXplLXRleGVsX3NpemUscGF0dGVybl9icip0ZXhlbF9zaXplK3RleGVsX3NpemUsdmVjMih4LHkpKTt2ZWM0IGNvbG9yPXRleHR1cmUyRCh1X2ltYWdlLHBvcyk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5jb2xvcj1hcHBseV9saWdodGluZyhjb2xvcik7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPWNvbG9yKihhbHBoYSpvcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJcXG4jZGVmaW5lIHNjYWxlIDAuMDE1ODczMDE2XFxuYXR0cmlidXRlIHZlYzIgYV9wb3Nfbm9ybWFsO2F0dHJpYnV0ZSB2ZWM0IGFfZGF0YTthdHRyaWJ1dGUgZmxvYXQgYV9saW5lc29mYXI7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3VuaXRzX3RvX3BpeGVsczt1bmlmb3JtIG1hdDIgdV9waXhlbHNfdG9fdGlsZV91bml0czt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgdmVjMiB2X3dpZHRoMjt2YXJ5aW5nIGZsb2F0IHZfbGluZXNvZmFyO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGZsb2F0IHZfd2lkdGg7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvZmZzZXRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvZmZzZXRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IGdhcHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7dmVjMiBwb3M9Zmxvb3IoYV9wb3Nfbm9ybWFsKjAuNSk7bWVkaXVtcCB2ZWMyIG5vcm1hbD1hX3Bvc19ub3JtYWwtMi4wKnBvcztub3JtYWwueT1ub3JtYWwueSoyLjAtMS4wO3Zfbm9ybWFsPW5vcm1hbDtnYXB3aWR0aD1nYXB3aWR0aC8yLjA7ZmxvYXQgaGFsZndpZHRoPXdpZHRoLzIuMDtvZmZzZXQ9LTEuMCpvZmZzZXQ7ZmxvYXQgaW5zZXQ9Z2Fwd2lkdGgrKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtmbG9hdCBvdXRzZXQ9Z2Fwd2lkdGgraGFsZndpZHRoKihnYXB3aWR0aCA+IDAuMCA/IDIuMCA6IDEuMCkrKGhhbGZ3aWR0aD09MC4wID8gMC4wIDogQU5USUFMSUFTSU5HKTttZWRpdW1wIHZlYzIgZGlzdD1vdXRzZXQqYV9leHRydWRlKnNjYWxlO21lZGl1bXAgZmxvYXQgdT0wLjUqYV9kaXJlY3Rpb247bWVkaXVtcCBmbG9hdCB0PTEuMC1hYnModSk7bWVkaXVtcCB2ZWMyIG9mZnNldDI9b2Zmc2V0KmFfZXh0cnVkZSpzY2FsZSpub3JtYWwueSptYXQyKHQsLXUsdSx0KTt2ZWM0IHByb2plY3RlZF9leHRydWRlPXVfbWF0cml4KnZlYzQoZGlzdCp1X3BpeGVsc190b190aWxlX3VuaXRzLDAuMCwwLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zK29mZnNldDIqdV9waXhlbHNfdG9fdGlsZV91bml0cywwLjAsMS4wKStwcm9qZWN0ZWRfZXh0cnVkZTtcXG4jaWZuZGVmIFJFTkRFUl9UT19URVhUVVJFXFxuZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZT1sZW5ndGgoZGlzdCk7ZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZT1sZW5ndGgocHJvamVjdGVkX2V4dHJ1ZGUueHkvZ2xfUG9zaXRpb24udyp1X3VuaXRzX3RvX3BpeGVscyk7dl9nYW1tYV9zY2FsZT1leHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlL2V4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU7XFxuI2Vsc2VcXG52X2dhbW1hX3NjYWxlPTEuMDtcXG4jZW5kaWZcXG52X2xpbmVzb2Zhcj1hX2xpbmVzb2Zhcjt2X3dpZHRoMj12ZWMyKG91dHNldCxpbnNldCk7dl93aWR0aD1mbG9vcndpZHRoO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHBvcyk7XFxuI2VuZGlmXFxufVwiKSxyYXN0ZXI6cG4oXCJ1bmlmb3JtIGZsb2F0IHVfZmFkZV90O3VuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UwO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UxO3ZhcnlpbmcgdmVjMiB2X3BvczA7dmFyeWluZyB2ZWMyIHZfcG9zMTt1bmlmb3JtIGZsb2F0IHVfYnJpZ2h0bmVzc19sb3c7dW5pZm9ybSBmbG9hdCB1X2JyaWdodG5lc3NfaGlnaDt1bmlmb3JtIGZsb2F0IHVfc2F0dXJhdGlvbl9mYWN0b3I7dW5pZm9ybSBmbG9hdCB1X2NvbnRyYXN0X2ZhY3Rvcjt1bmlmb3JtIHZlYzMgdV9zcGluX3dlaWdodHM7dm9pZCBtYWluKCkge3ZlYzQgY29sb3IwPXRleHR1cmUyRCh1X2ltYWdlMCx2X3BvczApO3ZlYzQgY29sb3IxPXRleHR1cmUyRCh1X2ltYWdlMSx2X3BvczEpO2lmIChjb2xvcjAuYSA+IDAuMCkge2NvbG9yMC5yZ2I9Y29sb3IwLnJnYi9jb2xvcjAuYTt9aWYgKGNvbG9yMS5hID4gMC4wKSB7Y29sb3IxLnJnYj1jb2xvcjEucmdiL2NvbG9yMS5hO312ZWM0IGNvbG9yPW1peChjb2xvcjAsY29sb3IxLHVfZmFkZV90KTtjb2xvci5hKj11X29wYWNpdHk7dmVjMyByZ2I9Y29sb3IucmdiO3JnYj12ZWMzKFxcbmRvdChyZ2IsdV9zcGluX3dlaWdodHMueHl6KSxkb3QocmdiLHVfc3Bpbl93ZWlnaHRzLnp4eSksZG90KHJnYix1X3NwaW5fd2VpZ2h0cy55engpKTtmbG9hdCBhdmVyYWdlPShjb2xvci5yK2NvbG9yLmcrY29sb3IuYikvMy4wO3JnYis9KGF2ZXJhZ2UtcmdiKSp1X3NhdHVyYXRpb25fZmFjdG9yO3JnYj0ocmdiLTAuNSkqdV9jb250cmFzdF9mYWN0b3IrMC41O3ZlYzMgdV9oaWdoX3ZlYz12ZWMzKHVfYnJpZ2h0bmVzc19sb3csdV9icmlnaHRuZXNzX2xvdyx1X2JyaWdodG5lc3NfbG93KTt2ZWMzIHVfbG93X3ZlYz12ZWMzKHVfYnJpZ2h0bmVzc19oaWdoLHVfYnJpZ2h0bmVzc19oaWdoLHVfYnJpZ2h0bmVzc19oaWdoKTt2ZWMzIG91dF9jb2xvcj1taXgodV9oaWdoX3ZlYyx1X2xvd192ZWMscmdiKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZyhvdXRfY29sb3IpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHkob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj12ZWM0KG91dF9jb2xvcipjb2xvci5hLGNvbG9yLmEpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV90bF9wYXJlbnQ7dW5pZm9ybSBmbG9hdCB1X3NjYWxlX3BhcmVudDt1bmlmb3JtIHZlYzIgdV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm07YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3MwO3ZhcnlpbmcgdmVjMiB2X3BvczE7dm9pZCBtYWluKCkge2Zsb2F0IHc9MS4wK2RvdChhX3RleHR1cmVfcG9zLHVfcGVyc3BlY3RpdmVfdHJhbnNmb3JtKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zKncsMCx3KTt2X3BvczA9YV90ZXh0dXJlX3Bvcy84MTkyLjA7dl9wb3MxPSh2X3BvczAqdV9zY2FsZV9wYXJlbnQpK3VfdGxfcGFyZW50O1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLHN5bWJvbEljb246cG4oXCJ1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7dmFyeWluZyB2ZWMyIHZfdGV4O3ZhcnlpbmcgZmxvYXQgdl9mYWRlX29wYWNpdHk7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxubG93cCBmbG9hdCBhbHBoYT1vcGFjaXR5KnZfZmFkZV9vcGFjaXR5O2dsX0ZyYWdDb2xvcj10ZXh0dXJlMkQodV90ZXh0dXJlLHZfdGV4KSphbHBoYTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJhdHRyaWJ1dGUgdmVjNCBhX3Bvc19vZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV90ZXhfc2l6ZTthdHRyaWJ1dGUgdmVjNCBhX3BpeGVsb2Zmc2V0O2F0dHJpYnV0ZSB2ZWM0IGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfYW5jaG9yO2F0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfbm9ybWFsO1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGJvb2wgdV9yb3RhdGVfc3ltYm9sO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9hc3BlY3RfcmF0aW87dW5pZm9ybSBmbG9hdCB1X2ZhZGVfY2hhbmdlO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfY29vcmRfbWF0cml4O3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHZlYzMgdV91cF92ZWN0b3I7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnVuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfY2FtZXJhX2ZvcndhcmQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV9lY2VmX29yaWdpbjt1bmlmb3JtIG1hdDQgdV90aWxlX21hdHJpeDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl90ZXg7dmFyeWluZyBmbG9hdCB2X2ZhZGVfb3BhY2l0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52ZWMyIGFfcG9zPWFfcG9zX29mZnNldC54eTt2ZWMyIGFfb2Zmc2V0PWFfcG9zX29mZnNldC56dzt2ZWMyIGFfdGV4PWFfdGV4X3NpemUueHk7dmVjMiBhX3NpemU9YV90ZXhfc2l6ZS56dztmbG9hdCBhX3NpemVfbWluPWZsb29yKGFfc2l6ZVswXSowLjUpO3ZlYzIgYV9weG9mZnNldD1hX3BpeGVsb2Zmc2V0Lnh5O3ZlYzIgYV9taW5fZm9udF9zY2FsZT1hX3BpeGVsb2Zmc2V0Lnp3LzI1Ni4wO2hpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGU9LWFfcHJvamVjdGVkX3Bvc1szXTtmbG9hdCBzaXplO2lmICghdV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1taXgoYV9zaXplX21pbixhX3NpemVbMV0sdV9zaXplX3QpLzEyOC4wO30gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1hX3NpemVfbWluLzEyOC4wO30gZWxzZSB7c2l6ZT11X3NpemU7fXZlYzIgdGlsZV9hbmNob3I9YV9wb3M7dmVjMyBoPWVsZXZhdGlvblZlY3Rvcih0aWxlX2FuY2hvcikqZWxldmF0aW9uKHRpbGVfYW5jaG9yKTtmbG9hdCBnbG9iZV9vY2NsdXNpb25fZmFkZTt2ZWMzIHdvcmxkX3Bvczt2ZWMzIG1lcmNhdG9yX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxubWVyY2F0b3JfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCx0aWxlX2FuY2hvcix1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcik7d29ybGRfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX2dsb2JlX2FuY2hvcitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7dmVjNCBlY2VmX3BvaW50PXVfdGlsZV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMS4wKTt2ZWMzIG9yaWdpbl90b19wb2ludD1lY2VmX3BvaW50Lnh5ei11X2VjZWZfb3JpZ2luO2dsb2JlX29jY2x1c2lvbl9mYWRlPWRvdChvcmlnaW5fdG9fcG9pbnQsdV9jYW1lcmFfZm9yd2FyZCkgPj0wLjAgPyAwLjAgOiAxLjA7XFxuI2Vsc2VcXG53b3JsZF9wb3M9dmVjMyh0aWxlX2FuY2hvciwwKStoO2dsb2JlX29jY2x1c2lvbl9mYWRlPTEuMDtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZF9wb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xcbmNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIDpcXG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCwxLjUpO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRfc2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb249MC4wO2lmICh1X3JvdGF0ZV9zeW1ib2wpIHt2ZWM0IG9mZnNldFByb2plY3RlZF9wb2ludDtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBkaXNwbGFjZW1lbnQ9dmVjMyhhX2dsb2JlX25vcm1hbC56LDAsLWFfZ2xvYmVfbm9ybWFsLngpO29mZnNldFByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KGFfZ2xvYmVfYW5jaG9yK2Rpc3BsYWNlbWVudCwxKTtcXG4jZWxzZVxcbm9mZnNldFByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHRpbGVfYW5jaG9yK3ZlYzIoMSwwKSwwLDEpO1xcbiNlbmRpZlxcbnZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldFByb2plY3RlZF9wb2ludC54eS9vZmZzZXRQcm9qZWN0ZWRfcG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fXZlYzQgcHJvamVjdGVkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwcm9qX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9wcm9qZWN0ZWRfcG9zLnh5eitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7cHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KHByb2pfcG9zLDEuMCk7XFxuI2Vsc2VcXG5wcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LGgueiwxLjApO1xcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO2Zsb2F0IHo9MC4wO3ZlYzIgb2Zmc2V0PXJvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCptYXgoYV9taW5fZm9udF9zY2FsZSxmb250X3NjYWxlKSthX3B4b2Zmc2V0LzE2LjApO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyB4QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHVfdXBfdmVjdG9yKSkgOiB2ZWMzKDEsMCwwKTt2ZWMzIHlBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwseEF4aXMpKSA6IHZlYzMoMCwxLDApO2dsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHl6L3Byb2plY3RlZF9wb3Mudyt4QXhpcypvZmZzZXQueCt5QXhpcypvZmZzZXQueSwxLjApLEFXQVksZmxvYXQocHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCkpO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrb2Zmc2V0LHosMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZW5kaWZcXG5mbG9hdCBwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjA7XFxuI2lmIGRlZmluZWQoUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVCkgJiYgZGVmaW5lZChQUk9KRUNUSU9OX0dMT0JFX1ZJRVcpXFxucHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wLXN0ZXAoRVBTSUxPTix1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxudl90ZXg9YV90ZXgvdV90ZXhzaXplO3ZlYzIgZmFkZV9vcGFjaXR5PXVucGFja19vcGFjaXR5KGFfZmFkZV9vcGFjaXR5KTtmbG9hdCBmYWRlX2NoYW5nZT1mYWRlX29wYWNpdHlbMV0gPiAwLjUgPyB1X2ZhZGVfY2hhbmdlIDotdV9mYWRlX2NoYW5nZTt2X2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbihvY2NsdXNpb25fZmFkZSxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKSpwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZTt9XCIpLHN5bWJvbFNERjpwbihcIiNkZWZpbmUgU0RGX1BYIDguMFxcbnVuaWZvcm0gYm9vbCB1X2lzX2hhbG87dW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nYW1tYV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dW5pZm9ybSBib29sIHVfaXNfdGV4dDt2YXJ5aW5nIHZlYzIgdl9kYXRhMDt2YXJ5aW5nIHZlYzMgdl9kYXRhMTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG5mbG9hdCBFREdFX0dBTU1BPTAuMTA1L3VfZGV2aWNlX3BpeGVsX3JhdGlvO3ZlYzIgdGV4PXZfZGF0YTAueHk7ZmxvYXQgZ2FtbWFfc2NhbGU9dl9kYXRhMS54O2Zsb2F0IHNpemU9dl9kYXRhMS55O2Zsb2F0IGZhZGVfb3BhY2l0eT12X2RhdGExWzJdO2Zsb2F0IGZvbnRTY2FsZT11X2lzX3RleHQgPyBzaXplLzI0LjAgOiBzaXplO2xvd3AgdmVjNCBjb2xvcj1maWxsX2NvbG9yO2hpZ2hwIGZsb2F0IGdhbW1hPUVER0VfR0FNTUEvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtsb3dwIGZsb2F0IGJ1ZmY9KDI1Ni4wLTY0LjApLzI1Ni4wO2lmICh1X2lzX2hhbG8pIHtjb2xvcj1oYWxvX2NvbG9yO2dhbW1hPShoYWxvX2JsdXIqMS4xOS9TREZfUFgrRURHRV9HQU1NQSkvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtidWZmPSg2LjAtaGFsb193aWR0aC9mb250U2NhbGUpL1NERl9QWDt9bG93cCBmbG9hdCBkaXN0PXRleHR1cmUyRCh1X3RleHR1cmUsdGV4KS5hO2hpZ2hwIGZsb2F0IGdhbW1hX3NjYWxlZD1nYW1tYSpnYW1tYV9zY2FsZTtoaWdocCBmbG9hdCBhbHBoYT1zbW9vdGhzdGVwKGJ1ZmYtZ2FtbWFfc2NhbGVkLGJ1ZmYrZ2FtbWFfc2NhbGVkLGRpc3QpO2dsX0ZyYWdDb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSpmYWRlX29wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDthdHRyaWJ1dGUgdmVjNCBhX3RleF9zaXplO2F0dHJpYnV0ZSB2ZWM0IGFfcGl4ZWxvZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV9wcm9qZWN0ZWRfcG9zO2F0dHJpYnV0ZSBmbG9hdCBhX2ZhZGVfb3BhY2l0eTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9nbG9iZV9hbmNob3I7YXR0cmlidXRlIHZlYzMgYV9nbG9iZV9ub3JtYWw7XFxuI2VuZGlmXFxudW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfY29vcmRfbWF0cml4O3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7dW5pZm9ybSBib29sIHVfcm90YXRlX3N5bWJvbDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfYXNwZWN0X3JhdGlvO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3VuaWZvcm0gZmxvYXQgdV9mYWRlX2NoYW5nZTt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gdmVjMyB1X3VwX3ZlY3RvcjtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV9jYW1lcmFfZm9yd2FyZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X2VjZWZfb3JpZ2luO3VuaWZvcm0gbWF0NCB1X3RpbGVfbWF0cml4O1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMiB2X2RhdGEwO3ZhcnlpbmcgdmVjMyB2X2RhdGExO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbnZlYzIgYV9wb3M9YV9wb3Nfb2Zmc2V0Lnh5O3ZlYzIgYV9vZmZzZXQ9YV9wb3Nfb2Zmc2V0Lnp3O3ZlYzIgYV90ZXg9YV90ZXhfc2l6ZS54eTt2ZWMyIGFfc2l6ZT1hX3RleF9zaXplLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7dmVjMiBhX3B4b2Zmc2V0PWFfcGl4ZWxvZmZzZXQueHk7aGlnaHAgZmxvYXQgc2VnbWVudF9hbmdsZT0tYV9wcm9qZWN0ZWRfcG9zWzNdO2Zsb2F0IHNpemU7aWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPW1peChhX3NpemVfbWluLGFfc2l6ZVsxXSx1X3NpemVfdCkvMTI4LjA7fSBlbHNlIGlmICh1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPWFfc2l6ZV9taW4vMTI4LjA7fSBlbHNlIHtzaXplPXVfc2l6ZTt9dmVjMiB0aWxlX2FuY2hvcj1hX3Bvczt2ZWMzIGg9ZWxldmF0aW9uVmVjdG9yKHRpbGVfYW5jaG9yKSplbGV2YXRpb24odGlsZV9hbmNob3IpO2Zsb2F0IGdsb2JlX29jY2x1c2lvbl9mYWRlO3ZlYzMgd29ybGRfcG9zO3ZlYzMgbWVyY2F0b3JfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5tZXJjYXRvcl9wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVfYW5jaG9yLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKTt3b3JsZF9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfZ2xvYmVfYW5jaG9yK2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTt2ZWM0IGVjZWZfcG9pbnQ9dV90aWxlX21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxLjApO3ZlYzMgb3JpZ2luX3RvX3BvaW50PWVjZWZfcG9pbnQueHl6LXVfZWNlZl9vcmlnaW47Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9ZG90KG9yaWdpbl90b19wb2ludCx1X2NhbWVyYV9mb3J3YXJkKSA+PTAuMCA/IDAuMCA6IDEuMDtcXG4jZWxzZVxcbndvcmxkX3Bvcz12ZWMzKHRpbGVfYW5jaG9yLDApK2g7Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9MS4wO1xcbiNlbmRpZlxcbnZlYzQgcHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkX3BvaW50Lnc7aGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW89dV9waXRjaF93aXRoX21hcCA/XFxuY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZS91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxcbnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlO2hpZ2hwIGZsb2F0IHBlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqZGlzdGFuY2VfcmF0aW8sMC4wLDEuNSk7c2l6ZSo9cGVyc3BlY3RpdmVfcmF0aW87ZmxvYXQgZm9udFNjYWxlPXVfaXNfdGV4dCA/IHNpemUvMjQuMCA6IHNpemU7aGlnaHAgZmxvYXQgc3ltYm9sX3JvdGF0aW9uPTAuMDtpZiAodV9yb3RhdGVfc3ltYm9sKSB7dmVjNCBvZmZzZXRwcm9qZWN0ZWRfcG9pbnQ7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgZGlzcGxhY2VtZW50PXZlYzMoYV9nbG9iZV9ub3JtYWwueiwwLC1hX2dsb2JlX25vcm1hbC54KTtvZmZzZXRwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNChhX2dsb2JlX2FuY2hvcitkaXNwbGFjZW1lbnQsMSk7XFxuI2Vsc2VcXG5vZmZzZXRwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNCh0aWxlX2FuY2hvcit2ZWMyKDEsMCksMCwxKTtcXG4jZW5kaWZcXG52ZWMyIGE9cHJvamVjdGVkX3BvaW50Lnh5L3Byb2plY3RlZF9wb2ludC53O3ZlYzIgYj1vZmZzZXRwcm9qZWN0ZWRfcG9pbnQueHkvb2Zmc2V0cHJvamVjdGVkX3BvaW50Lnc7c3ltYm9sX3JvdGF0aW9uPWF0YW4oKGIueS1hLnkpL3VfYXNwZWN0X3JhdGlvLGIueC1hLngpO312ZWM0IHByb2plY3RlZF9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcHJval9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfcHJvamVjdGVkX3Bvcy54eXoraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3Byb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChwcm9qX3BvcywxLjApO1xcbiNlbHNlXFxucHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eSxoLnosMS4wKTtcXG4jZW5kaWZcXG5oaWdocCBmbG9hdCBhbmdsZV9zaW49c2luKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTtoaWdocCBmbG9hdCBhbmdsZV9jb3M9Y29zKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTttYXQyIHJvdGF0aW9uX21hdHJpeD1tYXQyKGFuZ2xlX2NvcywtMS4wKmFuZ2xlX3NpbixhbmdsZV9zaW4sYW5nbGVfY29zKTtmbG9hdCB6PTAuMDt2ZWMyIG9mZnNldD1yb3RhdGlvbl9tYXRyaXgqKGFfb2Zmc2V0LzMyLjAqZm9udFNjYWxlK2FfcHhvZmZzZXQpO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyB4QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHVfdXBfdmVjdG9yKSkgOiB2ZWMzKDEsMCwwKTt2ZWMzIHlBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwseEF4aXMpKSA6IHZlYzMoMCwxLDApO2dsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHl6L3Byb2plY3RlZF9wb3Mudyt4QXhpcypvZmZzZXQueCt5QXhpcypvZmZzZXQueSwxLjApLEFXQVksZmxvYXQocHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCkpO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrb2Zmc2V0LHosMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZW5kaWZcXG5mbG9hdCBnYW1tYV9zY2FsZT1nbF9Qb3NpdGlvbi53O2Zsb2F0IHByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMDtcXG4jaWYgZGVmaW5lZChQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUKSAmJiBkZWZpbmVkKFBST0pFQ1RJT05fR0xPQkVfVklFVylcXG5wcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjAtc3RlcChFUFNJTE9OLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG52ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7ZmxvYXQgaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbihvY2NsdXNpb25fZmFkZSxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKTt2X2RhdGEwPWFfdGV4L3VfdGV4c2l6ZTt2X2RhdGExPXZlYzMoZ2FtbWFfc2NhbGUsc2l6ZSxpbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5KnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlKTt9XCIpLHN5bWJvbFRleHRBbmRJY29uOnBuKFwiI2RlZmluZSBTREZfUFggOC4wXFxuI2RlZmluZSBTREYgMS4wXFxuI2RlZmluZSBJQ09OIDAuMFxcbnVuaWZvcm0gYm9vbCB1X2lzX2hhbG87dW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3VuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZV9pY29uO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nYW1tYV9zY2FsZTt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmFyeWluZyB2ZWM0IHZfZGF0YTA7dmFyeWluZyB2ZWM0IHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuZmxvYXQgZmFkZV9vcGFjaXR5PXZfZGF0YTFbMl07aWYgKHZfZGF0YTEudz09SUNPTikge3ZlYzIgdGV4X2ljb249dl9kYXRhMC56dztsb3dwIGZsb2F0IGFscGhhPW9wYWNpdHkqZmFkZV9vcGFjaXR5O2dsX0ZyYWdDb2xvcj10ZXh0dXJlMkQodV90ZXh0dXJlX2ljb24sdGV4X2ljb24pKmFscGhhO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbnJldHVybjt9dmVjMiB0ZXg9dl9kYXRhMC54eTtmbG9hdCBFREdFX0dBTU1BPTAuMTA1L3VfZGV2aWNlX3BpeGVsX3JhdGlvO2Zsb2F0IGdhbW1hX3NjYWxlPXZfZGF0YTEueDtmbG9hdCBzaXplPXZfZGF0YTEueTtmbG9hdCBmb250U2NhbGU9c2l6ZS8yNC4wO2xvd3AgdmVjNCBjb2xvcj1maWxsX2NvbG9yO2hpZ2hwIGZsb2F0IGdhbW1hPUVER0VfR0FNTUEvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtsb3dwIGZsb2F0IGJ1ZmY9KDI1Ni4wLTY0LjApLzI1Ni4wO2lmICh1X2lzX2hhbG8pIHtjb2xvcj1oYWxvX2NvbG9yO2dhbW1hPShoYWxvX2JsdXIqMS4xOS9TREZfUFgrRURHRV9HQU1NQSkvKGZvbnRTY2FsZSp1X2dhbW1hX3NjYWxlKTtidWZmPSg2LjAtaGFsb193aWR0aC9mb250U2NhbGUpL1NERl9QWDt9bG93cCBmbG9hdCBkaXN0PXRleHR1cmUyRCh1X3RleHR1cmUsdGV4KS5hO2hpZ2hwIGZsb2F0IGdhbW1hX3NjYWxlZD1nYW1tYSpnYW1tYV9zY2FsZTtoaWdocCBmbG9hdCBhbHBoYT1zbW9vdGhzdGVwKGJ1ZmYtZ2FtbWFfc2NhbGVkLGJ1ZmYrZ2FtbWFfc2NhbGVkLGRpc3QpO2dsX0ZyYWdDb2xvcj1jb2xvciooYWxwaGEqb3BhY2l0eSpmYWRlX29wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDthdHRyaWJ1dGUgdmVjNCBhX3RleF9zaXplO2F0dHJpYnV0ZSB2ZWM0IGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfYW5jaG9yO2F0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfbm9ybWFsO1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHZlYzMgdV91cF92ZWN0b3I7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZV9pY29uO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X2NhbWVyYV9mb3J3YXJkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfZWNlZl9vcmlnaW47dW5pZm9ybSBtYXQ0IHVfdGlsZV9tYXRyaXg7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWM0IHZfZGF0YTA7dmFyeWluZyB2ZWM0IHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudmVjMiBhX3Bvcz1hX3Bvc19vZmZzZXQueHk7dmVjMiBhX29mZnNldD1hX3Bvc19vZmZzZXQuenc7dmVjMiBhX3RleD1hX3RleF9zaXplLnh5O3ZlYzIgYV9zaXplPWFfdGV4X3NpemUuenc7ZmxvYXQgYV9zaXplX21pbj1mbG9vcihhX3NpemVbMF0qMC41KTtmbG9hdCBpc19zZGY9YV9zaXplWzBdLTIuMCphX3NpemVfbWluO2hpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGU9LWFfcHJvamVjdGVkX3Bvc1szXTtmbG9hdCBzaXplO2lmICghdV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1taXgoYV9zaXplX21pbixhX3NpemVbMV0sdV9zaXplX3QpLzEyOC4wO30gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1hX3NpemVfbWluLzEyOC4wO30gZWxzZSB7c2l6ZT11X3NpemU7fXZlYzIgdGlsZV9hbmNob3I9YV9wb3M7dmVjMyBoPWVsZXZhdGlvblZlY3Rvcih0aWxlX2FuY2hvcikqZWxldmF0aW9uKHRpbGVfYW5jaG9yKTtmbG9hdCBnbG9iZV9vY2NsdXNpb25fZmFkZTt2ZWMzIHdvcmxkX3Bvczt2ZWMzIG1lcmNhdG9yX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxubWVyY2F0b3JfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCx0aWxlX2FuY2hvcix1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcik7d29ybGRfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX2dsb2JlX2FuY2hvcitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7dmVjNCBlY2VmX3BvaW50PXVfdGlsZV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMS4wKTt2ZWMzIG9yaWdpbl90b19wb2ludD1lY2VmX3BvaW50Lnh5ei11X2VjZWZfb3JpZ2luO2dsb2JlX29jY2x1c2lvbl9mYWRlPWRvdChvcmlnaW5fdG9fcG9pbnQsdV9jYW1lcmFfZm9yd2FyZCkgPj0wLjAgPyAwLjAgOiAxLjA7XFxuI2Vsc2VcXG53b3JsZF9wb3M9dmVjMyh0aWxlX2FuY2hvciwwKStoO2dsb2JlX29jY2x1c2lvbl9mYWRlPTEuMDtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZF9wb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xcbmNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIDpcXG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCwxLjUpO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRfc2NhbGU9c2l6ZS8yNC4wO2hpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbj0wLjA7aWYgKHVfcm90YXRlX3N5bWJvbCkge3ZlYzQgb2Zmc2V0X3Byb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zK3ZlYzIoMSwwKSwwLDEpO3ZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldF9wcm9qZWN0ZWRfcG9pbnQueHkvb2Zmc2V0X3Byb2plY3RlZF9wb2ludC53O3N5bWJvbF9yb3RhdGlvbj1hdGFuKChiLnktYS55KS91X2FzcGVjdF9yYXRpbyxiLngtYS54KTt9dmVjNCBwcm9qZWN0ZWRfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHByb2pfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX3Byb2plY3RlZF9wb3MueHl6K2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtwcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQocHJval9wb3MsMS4wKTtcXG4jZWxzZVxcbnByb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChhX3Byb2plY3RlZF9wb3MueHksaC56LDEuMCk7XFxuI2VuZGlmXFxuaGlnaHAgZmxvYXQgYW5nbGVfc2luPXNpbihzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7aGlnaHAgZmxvYXQgYW5nbGVfY29zPWNvcyhzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7bWF0MiByb3RhdGlvbl9tYXRyaXg9bWF0MihhbmdsZV9jb3MsLTEuMCphbmdsZV9zaW4sYW5nbGVfc2luLGFuZ2xlX2Nvcyk7ZmxvYXQgej0wLjA7dmVjMiBvZmZzZXQ9cm90YXRpb25fbWF0cml4KihhX29mZnNldC8zMi4wKmZvbnRfc2NhbGUpO1xcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQX1RFUlJBSU5cXG52ZWM0IHRpbGVfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4X2ludip2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eStvZmZzZXQsMC4wLDEuMCk7ej1lbGV2YXRpb24odGlsZV9wb3MueHkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmZsb2F0IG9jY2x1c2lvbl9mYWRlPW9jY2x1c2lvbkZhZGUocHJvamVjdGVkX3BvaW50KSpnbG9iZV9vY2NsdXNpb25fZmFkZTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyB4QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHVfdXBfdmVjdG9yKSkgOiB2ZWMzKDEsMCwwKTt2ZWMzIHlBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwseEF4aXMpKSA6IHZlYzMoMCwxLDApO2dsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHl6L3Byb2plY3RlZF9wb3Mudyt4QXhpcypvZmZzZXQueCt5QXhpcypvZmZzZXQueSwxLjApLEFXQVksZmxvYXQocHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCkpO1xcbiNlbHNlXFxuZ2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eS9wcm9qZWN0ZWRfcG9zLncrb2Zmc2V0LHosMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZW5kaWZcXG5mbG9hdCBnYW1tYV9zY2FsZT1nbF9Qb3NpdGlvbi53O3ZlYzIgZmFkZV9vcGFjaXR5PXVucGFja19vcGFjaXR5KGFfZmFkZV9vcGFjaXR5KTtmbG9hdCBmYWRlX2NoYW5nZT1mYWRlX29wYWNpdHlbMV0gPiAwLjUgPyB1X2ZhZGVfY2hhbmdlIDotdV9mYWRlX2NoYW5nZTtmbG9hdCBpbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5PW1heCgwLjAsbWluKG9jY2x1c2lvbl9mYWRlLGZhZGVfb3BhY2l0eVswXStmYWRlX2NoYW5nZSkpO2Zsb2F0IHByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMDtcXG4jaWYgZGVmaW5lZChQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUKSAmJiBkZWZpbmVkKFBST0pFQ1RJT05fR0xPQkVfVklFVylcXG5wcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjAtc3RlcChFUFNJTE9OLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG52X2RhdGEwLnh5PWFfdGV4L3VfdGV4c2l6ZTt2X2RhdGEwLnp3PWFfdGV4L3VfdGV4c2l6ZV9pY29uO3ZfZGF0YTE9dmVjNChnYW1tYV9zY2FsZSxzaXplLGludGVycG9sYXRlZF9mYWRlX29wYWNpdHkqcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGUsaXNfc2RmKTt9XCIpLHRlcnJhaW5SYXN0ZXI6cG4oXCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDt2YXJ5aW5nIHZlYzIgdl9wb3MwO1xcbiNpZmRlZiBGT0dcXG52YXJ5aW5nIGZsb2F0IHZfZm9nX29wYWNpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDt2YXJ5aW5nIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7dmVjNCBjb2xvcj10ZXh0dXJlMkQodV9pbWFnZTAsdl9wb3MwKTtcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG5jb2xvci54eXo9c2hhZG93ZWRfY29sb3IoY29sb3IueHl6LHZfcG9zX2xpZ2h0X3ZpZXdfMCx2X3Bvc19saWdodF92aWV3XzEsdl9kZXB0aCk7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbiNpZmRlZiBaRVJPX0VYQUdHRVJBVElPTlxcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoY29sb3Isdl9mb2dfcG9zKSk7XFxuI2Vsc2VcXG5jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9mcm9tX3ZlcnQoY29sb3Isdl9mb2dfb3BhY2l0eSkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgVEVSUkFJTl9XSVJFRlJBTUVcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjAsMC4wLDAuMCwwLjgpO1xcbiNlbmRpZlxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfc2tpcnRfaGVpZ2h0O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdGV4dHVyZV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zMDtcXG4jaWZkZWYgRk9HXFxudmFyeWluZyBmbG9hdCB2X2ZvZ19vcGFjaXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnVuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8wO3VuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8xO3ZhcnlpbmcgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxuY29uc3QgZmxvYXQgc2tpcnRPZmZzZXQ9MjQ1NzUuMDtjb25zdCBmbG9hdCB3aXJlZnJhbWVPZmZzZXQ9MC4wMDAxNTt2b2lkIG1haW4oKSB7dl9wb3MwPWFfdGV4dHVyZV9wb3MvODE5Mi4wO2Zsb2F0IHNraXJ0PWZsb2F0KGFfcG9zLnggPj1za2lydE9mZnNldCk7ZmxvYXQgZWxldmF0aW9uPWVsZXZhdGlvbihhX3RleHR1cmVfcG9zKS1za2lydCp1X3NraXJ0X2hlaWdodDtcXG4jaWZkZWYgVEVSUkFJTl9XSVJFRlJBTUVcXG5lbGV2YXRpb24rPXVfc2tpcnRfaGVpZ2h0KnVfc2tpcnRfaGVpZ2h0KndpcmVmcmFtZU9mZnNldDtcXG4jZW5kaWZcXG52ZWMyIGRlY29kZWRQb3M9YV9wb3MtdmVjMihza2lydCpza2lydE9mZnNldCwwLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoZGVjb2RlZFBvcyxlbGV2YXRpb24sMS4wKTtcXG4jaWZkZWYgRk9HXFxuI2lmZGVmIFpFUk9fRVhBR0dFUkFUSU9OXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihkZWNvZGVkUG9zKTtcXG4jZWxzZVxcbnZfZm9nX29wYWNpdHk9Zm9nKGZvZ19wb3NpdGlvbih2ZWMzKGRlY29kZWRQb3MsZWxldmF0aW9uKSkpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZlYzMgcG9zPXZlYzMoZGVjb2RlZFBvcyxlbGV2YXRpb24pO3ZfcG9zX2xpZ2h0X3ZpZXdfMD11X2xpZ2h0X21hdHJpeF8wKnZlYzQocG9zLDEuKTt2X3Bvc19saWdodF92aWV3XzE9dV9saWdodF9tYXRyaXhfMSp2ZWM0KHBvcywxLik7dl9kZXB0aD1nbF9Qb3NpdGlvbi53O1xcbiNlbmRpZlxcbn1cIiksdGVycmFpbkRlcHRoOnBuKFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNlbmRpZlxcbnZhcnlpbmcgZmxvYXQgdl9kZXB0aDt2b2lkIG1haW4oKSB7Z2xfRnJhZ0NvbG9yPXBhY2tfZGVwdGgodl9kZXB0aCk7fVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdGV4dHVyZV9wb3M7dmFyeWluZyBmbG9hdCB2X2RlcHRoO3ZvaWQgbWFpbigpIHtmbG9hdCBlbGV2YXRpb249ZWxldmF0aW9uKGFfdGV4dHVyZV9wb3MpO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsZWxldmF0aW9uLDEuMCk7dl9kZXB0aD1nbF9Qb3NpdGlvbi56L2dsX1Bvc2l0aW9uLnc7fVwiKSxza3lib3g6cG4oXCJcXG52YXJ5aW5nIGxvd3AgdmVjMyB2X3V2O3VuaWZvcm0gbG93cCBzYW1wbGVyQ3ViZSB1X2N1YmVtYXA7dW5pZm9ybSBsb3dwIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfdGVtcG9yYWxfb2Zmc2V0O3VuaWZvcm0gaGlnaHAgdmVjMyB1X3N1bl9kaXJlY3Rpb247ZmxvYXQgc3VuX2Rpc2soaGlnaHAgdmVjMyByYXlfZGlyZWN0aW9uLGhpZ2hwIHZlYzMgc3VuX2RpcmVjdGlvbikge2hpZ2hwIGZsb2F0IGNvc19hbmdsZT1kb3Qobm9ybWFsaXplKHJheV9kaXJlY3Rpb24pLHN1bl9kaXJlY3Rpb24pO2NvbnN0IGhpZ2hwIGZsb2F0IGNvc19zdW5fYW5ndWxhcl9kaWFtZXRlcj0wLjk5OTk2MTkyMzA2O2NvbnN0IGhpZ2hwIGZsb2F0IHNtb290aHN0ZXBfZGVsdGE9MWUtNTtyZXR1cm4gc21vb3Roc3RlcChcXG5jb3Nfc3VuX2FuZ3VsYXJfZGlhbWV0ZXItc21vb3Roc3RlcF9kZWx0YSxjb3Nfc3VuX2FuZ3VsYXJfZGlhbWV0ZXIrc21vb3Roc3RlcF9kZWx0YSxjb3NfYW5nbGUpO31mbG9hdCBtYXAoZmxvYXQgdmFsdWUsZmxvYXQgc3RhcnQsZmxvYXQgZW5kLGZsb2F0IG5ld19zdGFydCxmbG9hdCBuZXdfZW5kKSB7cmV0dXJuICgodmFsdWUtc3RhcnQpKihuZXdfZW5kLW5ld19zdGFydCkpLyhlbmQtc3RhcnQpK25ld19zdGFydDt9dm9pZCBtYWluKCkge3ZlYzMgdXY9dl91djtjb25zdCBmbG9hdCB5X2JpYXM9MC4wMTU7dXYueSs9eV9iaWFzO3V2Lnk9cG93KGFicyh1di55KSwxLjAvNS4wKTt1di55PW1hcCh1di55LDAuMCwxLjAsLTEuMCwxLjApO3ZlYzMgc2t5X2NvbG9yPXRleHR1cmVDdWJlKHVfY3ViZW1hcCx1dikucmdiO1xcbiNpZmRlZiBGT0dcXG5za3lfY29sb3I9Zm9nX2FwcGx5X3NreV9ncmFkaWVudCh2X3V2Lnh6eSxza3lfY29sb3IpO1xcbiNlbmRpZlxcbnNreV9jb2xvci5yZ2I9ZGl0aGVyKHNreV9jb2xvci5yZ2IsZ2xfRnJhZ0Nvb3JkLnh5K3VfdGVtcG9yYWxfb2Zmc2V0KTtza3lfY29sb3IrPTAuMSpzdW5fZGlzayh2X3V2LHVfc3VuX2RpcmVjdGlvbik7Z2xfRnJhZ0NvbG9yPXZlYzQoc2t5X2NvbG9yKnVfb3BhY2l0eSx1X29wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixlbiksc2t5Ym94R3JhZGllbnQ6cG4oXCJ2YXJ5aW5nIGhpZ2hwIHZlYzMgdl91djt1bmlmb3JtIGxvd3Agc2FtcGxlcjJEIHVfY29sb3JfcmFtcDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9jZW50ZXJfZGlyZWN0aW9uO3VuaWZvcm0gbG93cCBmbG9hdCB1X3JhZGl1czt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV90ZW1wb3JhbF9vZmZzZXQ7dm9pZCBtYWluKCkge2Zsb2F0IHByb2dyZXNzPWFjb3MoZG90KG5vcm1hbGl6ZSh2X3V2KSx1X2NlbnRlcl9kaXJlY3Rpb24pKS91X3JhZGl1czt2ZWM0IGNvbG9yPXRleHR1cmUyRCh1X2NvbG9yX3JhbXAsdmVjMihwcm9ncmVzcywwLjUpKTtcXG4jaWZkZWYgRk9HXFxuY29sb3IucmdiPWZvZ19hcHBseV9za3lfZ3JhZGllbnQodl91di54enksY29sb3IucmdiL2NvbG9yLmEpKmNvbG9yLmE7XFxuI2VuZGlmXFxuY29sb3IqPXVfb3BhY2l0eTtjb2xvci5yZ2I9ZGl0aGVyKGNvbG9yLnJnYixnbF9GcmFnQ29vcmQueHkrdV90ZW1wb3JhbF9vZmZzZXQpO2dsX0ZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsZW4pLHNreWJveENhcHR1cmU6cG4oXCJcXG52YXJ5aW5nIGhpZ2hwIHZlYzMgdl9wb3NpdGlvbjt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc3VuX2ludGVuc2l0eTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfbHVtaW5hbmNlO3VuaWZvcm0gbG93cCB2ZWMzIHVfc3VuX2RpcmVjdGlvbjt1bmlmb3JtIGhpZ2hwIHZlYzQgdV9jb2xvcl90aW50X3I7dW5pZm9ybSBoaWdocCB2ZWM0IHVfY29sb3JfdGludF9tO1xcbiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZW5kaWZcXG4jZGVmaW5lIEJFVEFfUiAgICAgICAgICAgICAgICAgIHZlYzMoNS41ZS02LDEzLjBlLTYsMjIuNGUtNilcXG4jZGVmaW5lIEJFVEFfTSAgICAgICAgICAgICAgICAgIHZlYzMoMjFlLTYsMjFlLTYsMjFlLTYpXFxuI2RlZmluZSBNSUVfRyAgICAgICAgICAgICAgICAgICAwLjc2XFxuI2RlZmluZSBERU5TSVRZX0hFSUdIVF9TQ0FMRV9SICA4MDAwLjBcXG4jZGVmaW5lIERFTlNJVFlfSEVJR0hUX1NDQUxFX00gIDEyMDAuMFxcbiNkZWZpbmUgUExBTkVUX1JBRElVUyAgICAgICAgICAgNjM2MGUzXFxuI2RlZmluZSBBVE1PU1BIRVJFX1JBRElVUyAgICAgICA2NDIwZTNcXG4jZGVmaW5lIFNBTVBMRV9TVEVQUyAgICAgICAgICAgIDEwXFxuI2RlZmluZSBERU5TSVRZX1NURVBTICAgICAgICAgICA0XFxuZmxvYXQgcmF5X3NwaGVyZV9leGl0KHZlYzMgb3JpZyx2ZWMzIGRpcixmbG9hdCByYWRpdXMpIHtmbG9hdCBhPWRvdChkaXIsZGlyKTtmbG9hdCBiPTIuMCpkb3QoZGlyLG9yaWcpO2Zsb2F0IGM9ZG90KG9yaWcsb3JpZyktcmFkaXVzKnJhZGl1cztmbG9hdCBkPXNxcnQoYipiLTQuMCphKmMpO3JldHVybiAoLWIrZCkvKDIuMCphKTt9dmVjMyBleHRpbmN0aW9uKHZlYzIgZGVuc2l0eSkge3JldHVybiBleHAoLXZlYzMoQkVUQV9SKnVfY29sb3JfdGludF9yLmEqZGVuc2l0eS54K0JFVEFfTSp1X2NvbG9yX3RpbnRfbS5hKmRlbnNpdHkueSkpO312ZWMyIGxvY2FsX2RlbnNpdHkodmVjMyBwb2ludCkge2Zsb2F0IGhlaWdodD1tYXgobGVuZ3RoKHBvaW50KS1QTEFORVRfUkFESVVTLDAuMCk7ZmxvYXQgZXhwX3I9ZXhwKC1oZWlnaHQvREVOU0lUWV9IRUlHSFRfU0NBTEVfUik7ZmxvYXQgZXhwX209ZXhwKC1oZWlnaHQvREVOU0lUWV9IRUlHSFRfU0NBTEVfTSk7cmV0dXJuIHZlYzIoZXhwX3IsZXhwX20pO31mbG9hdCBwaGFzZV9yYXkoZmxvYXQgY29zX2FuZ2xlKSB7cmV0dXJuICgzLjAvKDE2LjAqUEkpKSooMS4wK2Nvc19hbmdsZSpjb3NfYW5nbGUpO31mbG9hdCBwaGFzZV9taWUoZmxvYXQgY29zX2FuZ2xlKSB7cmV0dXJuICgzLjAvKDguMCpQSSkpKigoMS4wLU1JRV9HKk1JRV9HKSooMS4wK2Nvc19hbmdsZSpjb3NfYW5nbGUpKS8oKDIuMCtNSUVfRypNSUVfRykqcG93KDEuMCtNSUVfRypNSUVfRy0yLjAqTUlFX0cqY29zX2FuZ2xlLDEuNSkpO312ZWMyIGRlbnNpdHlfdG9fYXRtb3NwaGVyZSh2ZWMzIHBvaW50LHZlYzMgbGlnaHRfZGlyKSB7ZmxvYXQgcmF5X2xlbj1yYXlfc3BoZXJlX2V4aXQocG9pbnQsbGlnaHRfZGlyLEFUTU9TUEhFUkVfUkFESVVTKTtmbG9hdCBzdGVwX2xlbj1yYXlfbGVuL2Zsb2F0KERFTlNJVFlfU1RFUFMpO3ZlYzIgZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlPXZlYzIoMC4wKTtmb3IgKGludCBpPTA7IGkgPCBERU5TSVRZX1NURVBTOysraSkge3ZlYzMgcG9pbnRfb25fcmF5PXBvaW50K2xpZ2h0X2RpciooKGZsb2F0KGkpKzAuNSkqc3RlcF9sZW4pO2RlbnNpdHlfcG9pbnRfdG9fYXRtb3NwaGVyZSs9bG9jYWxfZGVuc2l0eShwb2ludF9vbl9yYXkpKnN0ZXBfbGVuOzt9cmV0dXJuIGRlbnNpdHlfcG9pbnRfdG9fYXRtb3NwaGVyZTt9dmVjMyBhdG1vc3BoZXJlKHZlYzMgcmF5X2Rpcix2ZWMzIHN1bl9kaXJlY3Rpb24sZmxvYXQgc3VuX2ludGVuc2l0eSkge3ZlYzIgZGVuc2l0eV9vcmlnX3RvX3BvaW50PXZlYzIoMC4wKTt2ZWMzIHNjYXR0ZXJfcj12ZWMzKDAuMCk7dmVjMyBzY2F0dGVyX209dmVjMygwLjApO3ZlYzMgb3JpZ2luPXZlYzMoMC4wLFBMQU5FVF9SQURJVVMsMC4wKTtmbG9hdCByYXlfbGVuPXJheV9zcGhlcmVfZXhpdChvcmlnaW4scmF5X2RpcixBVE1PU1BIRVJFX1JBRElVUyk7ZmxvYXQgc3RlcF9sZW49cmF5X2xlbi9mbG9hdChTQU1QTEVfU1RFUFMpO2ZvciAoaW50IGk9MDsgaSA8IFNBTVBMRV9TVEVQUzsrK2kpIHt2ZWMzIHBvaW50X29uX3JheT1vcmlnaW4rcmF5X2RpciooKGZsb2F0KGkpKzAuNSkqc3RlcF9sZW4pO3ZlYzIgZGVuc2l0eT1sb2NhbF9kZW5zaXR5KHBvaW50X29uX3JheSkqc3RlcF9sZW47ZGVuc2l0eV9vcmlnX3RvX3BvaW50Kz1kZW5zaXR5O3ZlYzIgZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlPWRlbnNpdHlfdG9fYXRtb3NwaGVyZShwb2ludF9vbl9yYXksc3VuX2RpcmVjdGlvbik7dmVjMiBkZW5zaXR5X29yaWdfdG9fYXRtb3NwaGVyZT1kZW5zaXR5X29yaWdfdG9fcG9pbnQrZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlO3ZlYzMgZXh0aW5jdGlvbj1leHRpbmN0aW9uKGRlbnNpdHlfb3JpZ190b19hdG1vc3BoZXJlKTtzY2F0dGVyX3IrPWRlbnNpdHkueCpleHRpbmN0aW9uO3NjYXR0ZXJfbSs9ZGVuc2l0eS55KmV4dGluY3Rpb247fWZsb2F0IGNvc19hbmdsZT1kb3QocmF5X2RpcixzdW5fZGlyZWN0aW9uKTtmbG9hdCBwaGFzZV9yPXBoYXNlX3JheShjb3NfYW5nbGUpO2Zsb2F0IHBoYXNlX209cGhhc2VfbWllKGNvc19hbmdsZSk7dmVjMyBiZXRhX3I9QkVUQV9SKnVfY29sb3JfdGludF9yLnJnYip1X2NvbG9yX3RpbnRfci5hO3ZlYzMgYmV0YV9tPUJFVEFfTSp1X2NvbG9yX3RpbnRfbS5yZ2IqdV9jb2xvcl90aW50X20uYTtyZXR1cm4gKHNjYXR0ZXJfcipwaGFzZV9yKmJldGFfcitzY2F0dGVyX20qcGhhc2VfbSpiZXRhX20pKnN1bl9pbnRlbnNpdHk7fWNvbnN0IGZsb2F0IEE9MC4xNTtjb25zdCBmbG9hdCBCPTAuNTA7Y29uc3QgZmxvYXQgQz0wLjEwO2NvbnN0IGZsb2F0IEQ9MC4yMDtjb25zdCBmbG9hdCBFPTAuMDI7Y29uc3QgZmxvYXQgRj0wLjMwO3ZlYzMgdW5jaGFydGVkMl90b25lbWFwKHZlYzMgeCkge3JldHVybiAoKHgqKEEqeCtDKkIpK0QqRSkvKHgqKEEqeCtCKStEKkYpKS1FL0Y7fXZvaWQgbWFpbigpIHt2ZWMzIHJheV9kaXJlY3Rpb249dl9wb3NpdGlvbjtyYXlfZGlyZWN0aW9uLnk9cG93KHJheV9kaXJlY3Rpb24ueSw1LjApO2NvbnN0IGZsb2F0IHlfYmlhcz0wLjAxNTtyYXlfZGlyZWN0aW9uLnkrPXlfYmlhczt2ZWMzIGNvbG9yPWF0bW9zcGhlcmUobm9ybWFsaXplKHJheV9kaXJlY3Rpb24pLHVfc3VuX2RpcmVjdGlvbix1X3N1bl9pbnRlbnNpdHkpO2Zsb2F0IHdoaXRlX3NjYWxlPTEuMDc0ODcyNDY3NTYzMzg1NDtjb2xvcj11bmNoYXJ0ZWQyX3RvbmVtYXAoKGxvZzIoMi4wL3Bvdyh1X2x1bWluYW5jZSw0LjApKSkqY29sb3IpKndoaXRlX3NjYWxlO2dsX0ZyYWdDb2xvcj12ZWM0KGNvbG9yLDEuMCk7fVwiLFwiYXR0cmlidXRlIGhpZ2hwIHZlYzMgYV9wb3NfM2Y7dW5pZm9ybSBtYXQzIHVfbWF0cml4XzNmO3ZhcnlpbmcgaGlnaHAgdmVjMyB2X3Bvc2l0aW9uO2Zsb2F0IG1hcChmbG9hdCB2YWx1ZSxmbG9hdCBzdGFydCxmbG9hdCBlbmQsZmxvYXQgbmV3X3N0YXJ0LGZsb2F0IG5ld19lbmQpIHtyZXR1cm4gKCh2YWx1ZS1zdGFydCkqKG5ld19lbmQtbmV3X3N0YXJ0KSkvKGVuZC1zdGFydCkrbmV3X3N0YXJ0O312b2lkIG1haW4oKSB7dmVjNCBwb3M9dmVjNCh1X21hdHJpeF8zZiphX3Bvc18zZiwxLjApO3ZfcG9zaXRpb249cG9zLnh5ejt2X3Bvc2l0aW9uLnkqPS0xLjA7dl9wb3NpdGlvbi55PW1hcCh2X3Bvc2l0aW9uLnksLTEuMCwxLjAsMC4wLDEuMCk7Z2xfUG9zaXRpb249dmVjNChhX3Bvc18zZi54eSwwLjAsMS4wKTt9XCIpLGdsb2JlUmFzdGVyOnBuKFwidW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTA7dmFyeWluZyB2ZWMyIHZfcG9zMDtcXG4jaWZuZGVmIEZPR1xcbnVuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fdGw7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV90cjt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX2JyO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fYmw7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZ2xvYmVfcG9zO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9nbG9iZV9yYWRpdXM7dW5pZm9ybSB2ZWMyIHVfdmlld3BvcnQ7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge3ZlYzQgY29sb3I7XFxuI2lmZGVmIENVU1RPTV9BTlRJQUxJQVNJTkdcXG52ZWMyIHV2PWdsX0ZyYWdDb29yZC54eS91X3ZpZXdwb3J0O2hpZ2hwIHZlYzMgcmF5X2Rpcj1taXgoXFxubWl4KHVfZnJ1c3R1bV90bCx1X2ZydXN0dW1fdHIsdXYueCksbWl4KHVfZnJ1c3R1bV9ibCx1X2ZydXN0dW1fYnIsdXYueCksMS4wLXV2LnkpO3ZlYzMgZGlyPW5vcm1hbGl6ZShyYXlfZGlyKTt2ZWMzIGNsb3Nlc3RfcG9pbnQ9ZG90KHVfZ2xvYmVfcG9zLGRpcikqZGlyO2Zsb2F0IG5vcm1fZGlzdF9mcm9tX2NlbnRlcj0xLjAtbGVuZ3RoKGNsb3Nlc3RfcG9pbnQtdV9nbG9iZV9wb3MpL3VfZ2xvYmVfcmFkaXVzO2NvbnN0IGZsb2F0IGFudGlhbGlhc19waXhlbD0yLjA7ZmxvYXQgYW50aWFsaWFzX2ZhY3Rvcj1hbnRpYWxpYXNfcGl4ZWwqZndpZHRoKG5vcm1fZGlzdF9mcm9tX2NlbnRlcik7ZmxvYXQgYW50aWFsaWFzPXNtb290aHN0ZXAoMC4wLGFudGlhbGlhc19mYWN0b3Isbm9ybV9kaXN0X2Zyb21fY2VudGVyKTt2ZWM0IHJhc3Rlcj10ZXh0dXJlMkQodV9pbWFnZTAsdl9wb3MwKTtjb2xvcj12ZWM0KHJhc3Rlci5yZ2IqYW50aWFsaWFzLHJhc3Rlci5hKmFudGlhbGlhcyk7XFxuI2Vsc2VcXG5jb2xvcj10ZXh0dXJlMkQodV9pbWFnZTAsdl9wb3MwKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxuY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChjb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9Y29sb3I7XFxuI2lmZGVmIFRFUlJBSU5fV0lSRUZSQU1FXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wLDAuMCwwLjAsMC44KTtcXG4jZW5kaWZcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9wcm9qX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9ub3JtYWxpemVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2dsb2JlX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9tZXJjX21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gbWF0MyB1X2dyaWRfbWF0cml4O1xcbiNpZmRlZiBHTE9CRV9QT0xFU1xcbmF0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdXY7XFxuI2Vsc2VcXG5hdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9wb3MwO2NvbnN0IGZsb2F0IHdpcmVmcmFtZU9mZnNldD0xZTM7ZmxvYXQgbWVyY2F0b3JYZnJvbUxuZyhmbG9hdCBsbmcpIHtyZXR1cm4gKDE4MC4wK2xuZykvMzYwLjA7fWZsb2F0IG1lcmNhdG9yWWZyb21MYXQoZmxvYXQgbGF0KSB7cmV0dXJuICgxODAuMC0oUkFEX1RPX0RFRypsb2codGFuKFFVQVJURVJfUEkrbGF0LzIuMCpERUdfVE9fUkFEKSkpKS8zNjAuMDt9dmVjMyBsYXRMbmdUb0VDRUYodmVjMiBsYXRMbmcpIHtsYXRMbmc9REVHX1RPX1JBRCpsYXRMbmc7ZmxvYXQgY29zTGF0PWNvcyhsYXRMbmdbMF0pO2Zsb2F0IHNpbkxhdD1zaW4obGF0TG5nWzBdKTtmbG9hdCBjb3NMbmc9Y29zKGxhdExuZ1sxXSk7ZmxvYXQgc2luTG5nPXNpbihsYXRMbmdbMV0pO2Zsb2F0IHN4PWNvc0xhdCpzaW5MbmcqR0xPQkVfUkFESVVTO2Zsb2F0IHN5PS1zaW5MYXQqR0xPQkVfUkFESVVTO2Zsb2F0IHN6PWNvc0xhdCpjb3NMbmcqR0xPQkVfUkFESVVTO3JldHVybiB2ZWMzKHN4LHN5LHN6KTt9dm9pZCBtYWluKCkge1xcbiNpZmRlZiBHTE9CRV9QT0xFU1xcbnZlYzMgZ2xvYmVfcG9zPWFfZ2xvYmVfcG9zO3ZlYzIgdXY9YV91djtcXG4jZWxzZVxcbmZsb2F0IHRpbGVzPXVfZ3JpZF9tYXRyaXhbMF1bMl07ZmxvYXQgaWR4PXVfZ3JpZF9tYXRyaXhbMV1bMl07ZmxvYXQgaWR5PXVfZ3JpZF9tYXRyaXhbMl1bMl07dmVjMyBsYXRMbmc9dV9ncmlkX21hdHJpeCp2ZWMzKGFfcG9zLDEuMCk7ZmxvYXQgbWVyY2F0b3JZPW1lcmNhdG9yWWZyb21MYXQobGF0TG5nWzBdKTtmbG9hdCB1dlk9bWVyY2F0b3JZKnRpbGVzLWlkeTtmbG9hdCBtZXJjYXRvclg9bWVyY2F0b3JYZnJvbUxuZyhsYXRMbmdbMV0pO2Zsb2F0IHV2WD1tZXJjYXRvclgqdGlsZXMtaWR4O3ZlYzMgZ2xvYmVfcG9zPWxhdExuZ1RvRUNFRihsYXRMbmcueHkpO3ZlYzIgbWVyY19wb3M9dmVjMihtZXJjYXRvclgsbWVyY2F0b3JZKTt2ZWMyIHV2PXZlYzIodXZYLHV2WSk7XFxuI2VuZGlmXFxudl9wb3MwPXV2O3ZlYzIgdGlsZV9wb3M9dXYqRVhURU5UO1xcbiNpZmRlZiBHTE9CRV9QT0xFU1xcbnZlYzMgdXBfdmVjdG9yPW5vcm1hbGl6ZShnbG9iZV9wb3MpKnVfdGlsZV91cF9zY2FsZTtcXG4jZWxzZVxcbnZlYzMgdXBfdmVjdG9yPWVsZXZhdGlvblZlY3Rvcih0aWxlX3Bvcyk7XFxuI2VuZGlmXFxuZmxvYXQgaGVpZ2h0PWVsZXZhdGlvbih0aWxlX3Bvcyk7XFxuI2lmZGVmIFRFUlJBSU5fV0lSRUZSQU1FXFxuaGVpZ2h0Kz13aXJlZnJhbWVPZmZzZXQ7XFxuI2VuZGlmXFxuZ2xvYmVfcG9zKz11cF92ZWN0b3IqaGVpZ2h0O1xcbiNpZmRlZiBHTE9CRV9QT0xFU1xcbnZlYzQgaW50ZXJwb2xhdGVkX3Bvcz11X2dsb2JlX21hdHJpeCp2ZWM0KGdsb2JlX3BvcywxLjApO1xcbiNlbHNlXFxudmVjNCBnbG9iZV93b3JsZF9wb3M9dV9nbG9iZV9tYXRyaXgqdmVjNChnbG9iZV9wb3MsMS4wKTt2ZWM0IG1lcmNfd29ybGRfcG9zPXZlYzQoMC4wKTtpZiAodV96b29tX3RyYW5zaXRpb24gPiAwLjApIHttZXJjX3dvcmxkX3Bvcz12ZWM0KG1lcmNfcG9zLGhlaWdodCwxLjApO21lcmNfd29ybGRfcG9zLnh5LT11X21lcmNfY2VudGVyO21lcmNfd29ybGRfcG9zLng9d3JhcChtZXJjX3dvcmxkX3Bvcy54LC0wLjUsMC41KTttZXJjX3dvcmxkX3Bvcz11X21lcmNfbWF0cml4Km1lcmNfd29ybGRfcG9zO312ZWM0IGludGVycG9sYXRlZF9wb3M9dmVjNChtaXgoZ2xvYmVfd29ybGRfcG9zLnh5eixtZXJjX3dvcmxkX3Bvcy54eXosdV96b29tX3RyYW5zaXRpb24pLDEuMCk7XFxuI2VuZGlmXFxuZ2xfUG9zaXRpb249dV9wcm9qX21hdHJpeCppbnRlcnBvbGF0ZWRfcG9zO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKCh1X25vcm1hbGl6ZV9tYXRyaXgqdmVjNChnbG9iZV9wb3MsMS4wKSkueHl6KTtcXG4jZW5kaWZcXG59XCIpLGdsb2JlQXRtb3NwaGVyZTpwbihcInVuaWZvcm0gZmxvYXQgdV90cmFuc2l0aW9uO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9mYWRlb3V0X3JhbmdlO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV90ZW1wb3JhbF9vZmZzZXQ7dW5pZm9ybSB2ZWMzIHVfc3RhcnRfY29sb3I7dW5pZm9ybSB2ZWM0IHVfY29sb3I7dW5pZm9ybSB2ZWM0IHVfc3BhY2VfY29sb3I7dW5pZm9ybSB2ZWM0IHVfaGlnaF9jb2xvcjt1bmlmb3JtIGZsb2F0IHVfc3Rhcl9pbnRlbnNpdHk7dW5pZm9ybSBmbG9hdCB1X3N0YXJfc2l6ZTt1bmlmb3JtIGZsb2F0IHVfc3Rhcl9kZW5zaXR5O3VuaWZvcm0gZmxvYXQgdV9ob3Jpem9uX2FuZ2xlO3VuaWZvcm0gbWF0NCB1X3JvdGF0aW9uX21hdHJpeDt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl9yYXlfZGlyO3ZhcnlpbmcgaGlnaHAgdmVjMyB2X2hvcml6b25fZGlyO2hpZ2hwIGZsb2F0IHJhbmRvbShoaWdocCB2ZWMzIHApIHtwPWZyYWN0KHAqdmVjMygyMy4yMzQyLDk3LjEyMzEsOTEuMjM0MikpO3ArPWRvdChwLnp4eSxwLnl4eisxMjMuMTIzNCk7cmV0dXJuIGZyYWN0KHAueCpwLnkpO31mbG9hdCBzdGFycyh2ZWMzIHAsZmxvYXQgc2NhbGUsdmVjMiBvZmZzZXQpIHt2ZWMyIHV2X3NjYWxlPSh1X3ZpZXdwb3J0L3Vfc3Rhcl9zaXplKSpzY2FsZTt2ZWMzIHBvc2l0aW9uPXZlYzMocC54eSp1dl9zY2FsZStvZmZzZXQqdV92aWV3cG9ydCxwLnopO3ZlYzMgcT1mcmFjdChwb3NpdGlvbiktMC41O3ZlYzMgaWQ9Zmxvb3IocG9zaXRpb24pO2Zsb2F0IHJhbmRvbV92aXNpYmlsaXR5PXN0ZXAocmFuZG9tKGlkKSx1X3N0YXJfZGVuc2l0eSk7ZmxvYXQgY2lyY2xlPXNtb290aHN0ZXAoMC41K3Vfc3Rhcl9pbnRlbnNpdHksMC41LGxlbmd0aChxKSk7cmV0dXJuIGNpcmNsZSpyYW5kb21fdmlzaWJpbGl0eTt9dm9pZCBtYWluKCkge2hpZ2hwIHZlYzMgZGlyPW5vcm1hbGl6ZSh2X3JheV9kaXIpO2Zsb2F0IGdsb2JlX3Bvc19kb3RfZGlyO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5nbG9iZV9wb3NfZG90X2Rpcj1kb3QodV9nbG9iZV9wb3MsZGlyKTtoaWdocCB2ZWMzIGNsb3Nlc3RfcG9pbnRfZm9yd2FyZD1hYnMoZ2xvYmVfcG9zX2RvdF9kaXIpKmRpcjtmbG9hdCBub3JtX2Rpc3RfZnJvbV9jZW50ZXI9bGVuZ3RoKGNsb3Nlc3RfcG9pbnRfZm9yd2FyZC11X2dsb2JlX3BvcykvdV9nbG9iZV9yYWRpdXM7aWYgKG5vcm1fZGlzdF9mcm9tX2NlbnRlciA8IDAuOTgpIHtkaXNjYXJkO3JldHVybjt9XFxuI2VuZGlmXFxuaGlnaHAgdmVjMyBob3Jpem9uX2Rpcj1ub3JtYWxpemUodl9ob3Jpem9uX2Rpcik7ZmxvYXQgaG9yaXpvbl9hbmdsZV9tZXJjYXRvcj1kaXIueSA8IGhvcml6b25fZGlyLnkgP1xcbjAuMCA6IG1heChhY29zKGRvdChkaXIsaG9yaXpvbl9kaXIpKSwwLjApO2Zsb2F0IGhvcml6b25fYW5nbGU7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmhpZ2hwIHZlYzMgY2xvc2VzdF9wb2ludD1nbG9iZV9wb3NfZG90X2RpcipkaXI7ZmxvYXQgY2xvc2VzdF9wb2ludF90b19jZW50ZXI9bGVuZ3RoKGNsb3Nlc3RfcG9pbnQtdV9nbG9iZV9wb3MpO2Zsb2F0IHRoZXRhPWFzaW4oY2xhbXAoY2xvc2VzdF9wb2ludF90b19jZW50ZXIvbGVuZ3RoKHVfZ2xvYmVfcG9zKSwtMS4wLDEuMCkpO2hvcml6b25fYW5nbGU9Z2xvYmVfcG9zX2RvdF9kaXIgPCAwLjAgP1xcblBJLXRoZXRhLXVfaG9yaXpvbl9hbmdsZSA6IHRoZXRhLXVfaG9yaXpvbl9hbmdsZTtmbG9hdCBhbmdsZV90PXBvdyh1X3RyYW5zaXRpb24sMTAuMCk7aG9yaXpvbl9hbmdsZT1taXgoaG9yaXpvbl9hbmdsZSxob3Jpem9uX2FuZ2xlX21lcmNhdG9yLGFuZ2xlX3QpO1xcbiNlbHNlXFxuaG9yaXpvbl9hbmdsZT1ob3Jpem9uX2FuZ2xlX21lcmNhdG9yO1xcbiNlbmRpZlxcbmhvcml6b25fYW5nbGUvPVBJO2Zsb2F0IHQ9ZXhwKC1ob3Jpem9uX2FuZ2xlL3VfZmFkZW91dF9yYW5nZSk7ZmxvYXQgYWxwaGFfMD11X2NvbG9yLmE7ZmxvYXQgYWxwaGFfMT11X2hpZ2hfY29sb3IuYTtmbG9hdCBhbHBoYV8yPXVfc3BhY2VfY29sb3IuYTt2ZWMzIGNvbG9yX3N0b3BfMD11X2NvbG9yLnJnYjt2ZWMzIGNvbG9yX3N0b3BfMT11X2hpZ2hfY29sb3IucmdiO3ZlYzMgY29sb3Jfc3RvcF8yPXVfc3BhY2VfY29sb3IucmdiO3ZlYzMgYzA9bWl4KGNvbG9yX3N0b3BfMixjb2xvcl9zdG9wXzEsYWxwaGFfMSk7dmVjMyBjMT1taXgoYzAsY29sb3Jfc3RvcF8wLGFscGhhXzApO3ZlYzMgYzI9bWl4KGMwLGMxLHQpO3ZlYzMgYyA9bWl4KGNvbG9yX3N0b3BfMixjMix0KTtmbG9hdCBhMD1taXgoYWxwaGFfMiwxLjAsYWxwaGFfMSk7ZmxvYXQgYTE9bWl4KGEwLDEuMCxhbHBoYV8wKTtmbG9hdCBhMj1taXgoYTAsYTEsdCk7ZmxvYXQgYSA9bWl4KGFscGhhXzIsYTIsdCk7dmVjMiB1dj1nbF9GcmFnQ29vcmQueHkvdV92aWV3cG9ydC0wLjU7ZmxvYXQgYXNwZWN0X3JhdGlvPXVfdmlld3BvcnQueC91X3ZpZXdwb3J0Lnk7dmVjNCB1dl9kaXI9dmVjNChub3JtYWxpemUodmVjMyh1di54KmFzcGVjdF9yYXRpbyx1di55LDEuMCkpLDEuMCk7dXZfZGlyPXVfcm90YXRpb25fbWF0cml4KnV2X2Rpcjt2ZWMzIG49YWJzKHV2X2Rpci54eXopO3ZlYzIgdXZfcmVtYXA9KG4ueCA+IG4ueSAmJiBuLnggPiBuLnopID8gdXZfZGlyLnl6L3V2X2Rpci54OlxcbihuLnkgPiBuLnggJiYgbi55ID4gbi56KSA/IHV2X2Rpci56eC91dl9kaXIueTpcXG51dl9kaXIueHkvdXZfZGlyLno7dXZfcmVtYXAueC89YXNwZWN0X3JhdGlvO3ZlYzMgRD12ZWMzKHV2X3JlbWFwLDEuMCk7aGlnaHAgZmxvYXQgc3Rhcl9maWVsZD0wLjA7aWYgKHVfc3Rhcl9pbnRlbnNpdHkgPiAwLjApIHtzdGFyX2ZpZWxkKz1zdGFycyhELDEuMix2ZWMyKDAuMCwwLjApKTtzdGFyX2ZpZWxkKz1zdGFycyhELDEuMCx2ZWMyKDEuMCwwLjApKTtzdGFyX2ZpZWxkKz1zdGFycyhELDAuOCx2ZWMyKDAuMCwxLjApKTtzdGFyX2ZpZWxkKz1zdGFycyhELDAuNix2ZWMyKDEuMCwxLjApKTtzdGFyX2ZpZWxkKj0oMS4wLXBvdyh0LDAuMjUrKDEuMC11X2hpZ2hfY29sb3IuYSkqMC43NSkpO2MrPXN0YXJfZmllbGQqYWxwaGFfMjt9Yz1kaXRoZXIoYyxnbF9GcmFnQ29vcmQueHkrdV90ZW1wb3JhbF9vZmZzZXQpO2dsX0ZyYWdDb2xvcj12ZWM0KGMsYSk7fVwiLFwiYXR0cmlidXRlIHZlYzMgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV91djt1bmlmb3JtIHZlYzMgdV9mcnVzdHVtX3RsO3VuaWZvcm0gdmVjMyB1X2ZydXN0dW1fdHI7dW5pZm9ybSB2ZWMzIHVfZnJ1c3R1bV9icjt1bmlmb3JtIHZlYzMgdV9mcnVzdHVtX2JsO3VuaWZvcm0gZmxvYXQgdV9ob3Jpem9uO3ZhcnlpbmcgaGlnaHAgdmVjMyB2X3JheV9kaXI7dmFyeWluZyBoaWdocCB2ZWMzIHZfaG9yaXpvbl9kaXI7dm9pZCBtYWluKCkge3ZfcmF5X2Rpcj1taXgoXFxubWl4KHVfZnJ1c3R1bV90bCx1X2ZydXN0dW1fdHIsYV91di54KSxtaXgodV9mcnVzdHVtX2JsLHVfZnJ1c3R1bV9icixhX3V2LngpLGFfdXYueSk7dl9ob3Jpem9uX2Rpcj1taXgoXFxubWl4KHVfZnJ1c3R1bV90bCx1X2ZydXN0dW1fYmwsdV9ob3Jpem9uKSxtaXgodV9mcnVzdHVtX3RyLHVfZnJ1c3R1bV9icix1X2hvcml6b24pLGFfdXYueCk7Z2xfUG9zaXRpb249dmVjNChhX3BvcywxLjApO31cIil9O2Z1bmN0aW9uIGRuKGUsdCl7Y29uc3Qgbj1lLnJlcGxhY2UoL1xccypcXC9cXC9bXlxcbl0qXFxuL2csXCJcXG5cIikuc3BsaXQoXCJcXG5cIik7Zm9yKGxldCBlIG9mIG4paWYoZT1lLnRyaW0oKSxcIiNcIj09PWVbMF0mJmUuaW5jbHVkZXMoXCJpZlwiKSYmIWUuaW5jbHVkZXMoXCJlbmRpZlwiKSl7ZT1lLnJlcGxhY2UoXCIjXCIsXCJcIikucmVwbGFjZSgvaWZkZWZ8aWZuZGVmfGVsaWZ8aWYvZyxcIlwiKS5yZXBsYWNlKC8hfGRlZmluZWR8XFwofFxcKXxcXHxcXHx8JiYvZyxcIlwiKS5yZXBsYWNlKC9cXHMrL2csXCIgXCIpLnRyaW0oKTtjb25zdCBuPWUuc3BsaXQoXCIgXCIpO2Zvcihjb25zdCBlIG9mIG4pdC5pbmNsdWRlcyhlKXx8dC5wdXNoKGUpfX1mdW5jdGlvbiBwbihlLHQpe2NvbnN0IG49LyNwcmFnbWEgbWFwYm94OiAoW1xcd10rKSAoW1xcd10rKSAoW1xcd10rKSAoW1xcd10rKS9nLGk9dC5tYXRjaCgvYXR0cmlidXRlIChoaWdocCB8bWVkaXVtcCB8bG93cCApPyhbXFx3XSspIChbXFx3XSspL2cpLHI9e30sbz1bLi4uc25dO3JldHVybiBkbihlLG8pLGRuKHQsbykse2ZyYWdtZW50U291cmNlOmU9ZS5yZXBsYWNlKG4sKGUsdCxuLGksbyk9PihyW29dPSEwLFwiZGVmaW5lXCI9PT10P2BcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtvfVxcbnZhcnlpbmcgJHtufSAke2l9ICR7b307XFxuI2Vsc2VcXG51bmlmb3JtICR7bn0gJHtpfSB1XyR7b307XFxuI2VuZGlmXFxuYDpgXFxuI2lmZGVmIEhBU19VTklGT1JNX3VfJHtvfVxcbiAgICAke259ICR7aX0gJHtvfSA9IHVfJHtvfTtcXG4jZW5kaWZcXG5gKSksdmVydGV4U291cmNlOnQ9dC5yZXBsYWNlKG4sKGUsdCxuLGksbyk9Pntjb25zdCBhPVwiZmxvYXRcIj09PWk/XCJ2ZWMyXCI6XCJ2ZWM0XCIscz1vLm1hdGNoKC9jb2xvci8pP1wiY29sb3JcIjphO3JldHVybiByW29dP1wiZGVmaW5lXCI9PT10P2BcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtvfVxcbnVuaWZvcm0gbG93cCBmbG9hdCB1XyR7b31fdDtcXG5hdHRyaWJ1dGUgJHtufSAke2F9IGFfJHtvfTtcXG52YXJ5aW5nICR7bn0gJHtpfSAke299O1xcbiNlbHNlXFxudW5pZm9ybSAke259ICR7aX0gdV8ke299O1xcbiNlbmRpZlxcbmA6XCJ2ZWM0XCI9PT1zP2BcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtvfVxcbiAgICAke299ID0gYV8ke299O1xcbiNlbHNlXFxuICAgICR7bn0gJHtpfSAke299ID0gdV8ke299O1xcbiNlbmRpZlxcbmA6YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke299XFxuICAgICR7b30gPSB1bnBhY2tfbWl4XyR7c30oYV8ke299LCB1XyR7b31fdCk7XFxuI2Vsc2VcXG4gICAgJHtufSAke2l9ICR7b30gPSB1XyR7b307XFxuI2VuZGlmXFxuYDpcImRlZmluZVwiPT09dD9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7b31cXG51bmlmb3JtIGxvd3AgZmxvYXQgdV8ke299X3Q7XFxuYXR0cmlidXRlICR7bn0gJHthfSBhXyR7b307XFxuI2Vsc2VcXG51bmlmb3JtICR7bn0gJHtpfSB1XyR7b307XFxuI2VuZGlmXFxuYDpcInZlYzRcIj09PXM/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke299XFxuICAgICR7bn0gJHtpfSAke299ID0gYV8ke299O1xcbiNlbHNlXFxuICAgICR7bn0gJHtpfSAke299ID0gdV8ke299O1xcbiNlbmRpZlxcbmA6YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke299XFxuICAgICR7bn0gJHtpfSAke299ID0gdW5wYWNrX21peF8ke3N9KGFfJHtvfSwgdV8ke299X3QpO1xcbiNlbHNlXFxuICAgICR7bn0gJHtpfSAke299ID0gdV8ke299O1xcbiNlbmRpZlxcbmB9KSxzdGF0aWNBdHRyaWJ1dGVzOmksdXNlZERlZmluZXM6b319Y2xhc3MgZm57Y29uc3RydWN0b3IoKXt0aGlzLmJvdW5kUHJvZ3JhbT1udWxsLHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXI9bnVsbCx0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzPVtdLHRoaXMuYm91bmRJbmRleEJ1ZmZlcj1udWxsLHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQ9bnVsbCx0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnM9W10sdGhpcy52YW89bnVsbH1iaW5kKGUsdCxuLGkscixvLGEpe3RoaXMuY29udGV4dD1lO2xldCBzPXRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnMubGVuZ3RoIT09aS5sZW5ndGg7Zm9yKGxldCBlPTA7IXMmJmU8aS5sZW5ndGg7ZSsrKXRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnNbZV0hPT1pW2VdJiYocz0hMCk7bGV0IGw9dGhpcy5ib3VuZER5bmFtaWNWZXJ0ZXhCdWZmZXJzLmxlbmd0aCE9PWEubGVuZ3RoO2ZvcihsZXQgZT0wOyFsJiZlPGEubGVuZ3RoO2UrKyl0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnNbZV0hPT1hW2VdJiYobD0hMCk7aWYoIWUuZXh0VmVydGV4QXJyYXlPYmplY3R8fCF0aGlzLnZhb3x8dGhpcy5ib3VuZFByb2dyYW0hPT10fHx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyIT09bnx8c3x8bHx8dGhpcy5ib3VuZEluZGV4QnVmZmVyIT09cnx8dGhpcy5ib3VuZFZlcnRleE9mZnNldCE9PW8pdGhpcy5mcmVzaEJpbmQodCxuLGkscixvLGEpO2Vsc2V7ZS5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KHRoaXMudmFvKTtmb3IoY29uc3QgZSBvZiBhKWUmJmUuYmluZCgpO3ImJnIuZHluYW1pY0RyYXcmJnIuYmluZCgpfX1mcmVzaEJpbmQoZSx0LG4saSxyLG8pe2xldCBhO2NvbnN0IHM9ZS5udW1BdHRyaWJ1dGVzLGw9dGhpcy5jb250ZXh0LGM9bC5nbDtpZihsLmV4dFZlcnRleEFycmF5T2JqZWN0KXRoaXMudmFvJiZ0aGlzLmRlc3Ryb3koKSx0aGlzLnZhbz1sLmV4dFZlcnRleEFycmF5T2JqZWN0LmNyZWF0ZVZlcnRleEFycmF5T0VTKCksbC5iaW5kVmVydGV4QXJyYXlPRVMuc2V0KHRoaXMudmFvKSxhPTAsdGhpcy5ib3VuZFByb2dyYW09ZSx0aGlzLmJvdW5kTGF5b3V0VmVydGV4QnVmZmVyPXQsdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycz1uLHRoaXMuYm91bmRJbmRleEJ1ZmZlcj1pLHRoaXMuYm91bmRWZXJ0ZXhPZmZzZXQ9cix0aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnM9bztlbHNle2E9bC5jdXJyZW50TnVtQXR0cmlidXRlc3x8MDtmb3IobGV0IGU9cztlPGE7ZSsrKWMuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpfXQuZW5hYmxlQXR0cmlidXRlcyhjLGUpLHQuYmluZCgpLHQuc2V0VmVydGV4QXR0cmliUG9pbnRlcnMoYyxlLHIpO2Zvcihjb25zdCB0IG9mIG4pdC5lbmFibGVBdHRyaWJ1dGVzKGMsZSksdC5iaW5kKCksdC5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhjLGUscik7Zm9yKGNvbnN0IHQgb2Ygbyl0JiYodC5lbmFibGVBdHRyaWJ1dGVzKGMsZSksdC5iaW5kKCksdC5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhjLGUscikpO2kmJmkuYmluZCgpLGwuY3VycmVudE51bUF0dHJpYnV0ZXM9c31kZXN0cm95KCl7dGhpcy52YW8mJih0aGlzLmNvbnRleHQuZXh0VmVydGV4QXJyYXlPYmplY3QuZGVsZXRlVmVydGV4QXJyYXlPRVModGhpcy52YW8pLHRoaXMudmFvPW51bGwpfX1mdW5jdGlvbiBtbih0LG4pe2NvbnN0IGk9TWF0aC5wb3coMixuLmNhbm9uaWNhbC56KSxyPW4uY2Fub25pY2FsLnk7cmV0dXJuW25ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSgwLHIvaSkudG9MbmdMYXQoKS5sYXQsbmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKDAsKHIrMSkvaSkudG9MbmdMYXQoKS5sYXRdfWZ1bmN0aW9uIGduKHQsbixpLHIsbyxhLHMpe2NvbnN0IGw9dC5jb250ZXh0LGM9bC5nbCx1PWkuZmJvO2lmKCF1KXJldHVybjt0LnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IGg9dC51c2VQcm9ncmFtKFwiaGlsbHNoYWRlXCIpO2wuYWN0aXZlVGV4dHVyZS5zZXQoYy5URVhUVVJFMCksYy5iaW5kVGV4dHVyZShjLlRFWFRVUkVfMkQsdS5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpO2NvbnN0IGQ9KChlLHQsbixpKT0+e2NvbnN0IHI9bi5wYWludC5nZXQoXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCIpLG89bi5wYWludC5nZXQoXCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yXCIpLGE9bi5wYWludC5nZXQoXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCIpO2xldCBzPW4ucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIikqKE1hdGguUEkvMTgwKTtcInZpZXdwb3J0XCI9PT1uLnBhaW50LmdldChcImhpbGxzaGFkZS1pbGx1bWluYXRpb24tYW5jaG9yXCIpJiYocy09ZS50cmFuc2Zvcm0uYW5nbGUpO2NvbnN0IGw9IWUub3B0aW9ucy5tb3Zpbmc7cmV0dXJue3VfbWF0cml4Oml8fGUudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgodC50aWxlSUQudG9VbndyYXBwZWQoKSxsKSx1X2ltYWdlOjAsdV9sYXRyYW5nZTptbigwLHQudGlsZUlEKSx1X2xpZ2h0OltuLnBhaW50LmdldChcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIiksc10sdV9zaGFkb3c6cix1X2hpZ2hsaWdodDpvLHVfYWNjZW50OmF9fSkodCxpLHIsdC50ZXJyYWluP24ucHJvak1hdHJpeDpudWxsKTt0LnByZXBhcmVEcmF3UHJvZ3JhbShsLGgsbi50b1Vud3JhcHBlZCgpKTtjb25zdHt0aWxlQm91bmRzQnVmZmVyOnAsdGlsZUJvdW5kc0luZGV4QnVmZmVyOmYsdGlsZUJvdW5kc1NlZ21lbnRzOm19PXQuZ2V0VGlsZUJvdW5kc0J1ZmZlcnMoaSk7aC5kcmF3KGwsYy5UUklBTkdMRVMsbyxhLHMsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsZCxyLmlkLHAsZixtKX1mdW5jdGlvbiB5bih0LG4saSl7aWYoIW4ubmVlZHNERU1UZXh0dXJlVXBsb2FkKXJldHVybjtjb25zdCByPXQuY29udGV4dCxvPXIuZ2w7ci5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXQoITEpLG4uZGVtVGV4dHVyZT1uLmRlbVRleHR1cmV8fHQuZ2V0VGlsZVRleHR1cmUoaS5zdHJpZGUpO2NvbnN0IGE9aS5nZXRQaXhlbHMoKTtuLmRlbVRleHR1cmU/bi5kZW1UZXh0dXJlLnVwZGF0ZShhLHtwcmVtdWx0aXBseTohMX0pOm4uZGVtVGV4dHVyZT1uZXcgZS5UZXh0dXJlKHIsYSxvLlJHQkEse3ByZW11bHRpcGx5OiExfSksbi5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITF9ZnVuY3Rpb24gX24odCxuLGkscixvLGEpe2NvbnN0IHM9dC5jb250ZXh0LGw9cy5nbDtpZighbi5kZW0pcmV0dXJuO2NvbnN0IGM9bi5kZW07aWYocy5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUxKSx5bih0LG4sYyksIW4uZGVtVGV4dHVyZSlyZXR1cm47bi5kZW1UZXh0dXJlLmJpbmQobC5ORUFSRVNULGwuQ0xBTVBfVE9fRURHRSk7Y29uc3QgdT1jLmRpbTtzLmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTApO2xldCBoPW4uZmJvO2lmKCFoKXtjb25zdCB0PW5ldyBlLlRleHR1cmUocyx7d2lkdGg6dSxoZWlnaHQ6dSxkYXRhOm51bGx9LGwuUkdCQSk7dC5iaW5kKGwuTElORUFSLGwuQ0xBTVBfVE9fRURHRSksaD1uLmZibz1zLmNyZWF0ZUZyYW1lYnVmZmVyKHUsdSwhMCksaC5jb2xvckF0dGFjaG1lbnQuc2V0KHQudGV4dHVyZSl9cy5iaW5kRnJhbWVidWZmZXIuc2V0KGguZnJhbWVidWZmZXIpLHMudmlld3BvcnQuc2V0KFswLDAsdSx1XSk7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjpkLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpwLHRpbGVCb3VuZHNTZWdtZW50czpmfT10LmdldE1lcmNhdG9yVGlsZUJvdW5kc0J1ZmZlcnMoKTt0LnVzZVByb2dyYW0oXCJoaWxsc2hhZGVQcmVwYXJlXCIpLmRyYXcocyxsLlRSSUFOR0xFUyxyLG8sYSxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCwoKHQsbik9Pntjb25zdCBpPW4uc3RyaWRlLHI9ZS5jcmVhdGUoKTtyZXR1cm4gZS5vcnRobyhyLDAsZS5FWFRFTlQsLWUuRVhURU5ULDAsMCwxKSxlLnRyYW5zbGF0ZShyLHIsWzAsLWUuRVhURU5ULDBdKSx7dV9tYXRyaXg6cix1X2ltYWdlOjEsdV9kaW1lbnNpb246W2ksaV0sdV96b29tOnQub3ZlcnNjYWxlZFosdV91bnBhY2s6bi51bnBhY2tWZWN0b3J9fSkobi50aWxlSUQsYyksaS5pZCxkLHAsZiksbi5uZWVkc0hpbGxzaGFkZVByZXBhcmU9ITF9Y29uc3Qgdm49dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbWFnZTA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfc2tpcnRfaGVpZ2h0Om5ldyBlLlVuaWZvcm0xZih0KX0pLHhuPShlLHQpPT4oe3VfbWF0cml4OmUsdV9pbWFnZTA6MCx1X3NraXJ0X2hlaWdodDp0fSksYm49KGUsdCxuLGkscixvLGEscyxsLGMsdSxoLGQscCk9Pih7dV9wcm9qX21hdHJpeDpGbG9hdDMyQXJyYXkuZnJvbShlKSx1X2dsb2JlX21hdHJpeDp0LHVfbm9ybWFsaXplX21hdHJpeDpGbG9hdDMyQXJyYXkuZnJvbShpKSx1X21lcmNfbWF0cml4Om4sdV96b29tX3RyYW5zaXRpb246cix1X21lcmNfY2VudGVyOm8sdV9pbWFnZTA6MCx1X2ZydXN0dW1fdGw6YSx1X2ZydXN0dW1fdHI6cyx1X2ZydXN0dW1fYnI6bCx1X2ZydXN0dW1fYmw6Yyx1X2dsb2JlX3Bvczp1LHVfZ2xvYmVfcmFkaXVzOmgsdV92aWV3cG9ydDpkLHVfZ3JpZF9tYXRyaXg6cD9GbG9hdDMyQXJyYXkuZnJvbShwKTpuZXcgRmxvYXQzMkFycmF5KDkpfSk7ZnVuY3Rpb24gd24oZSx0KXtyZXR1cm4gbnVsbCE9ZSYmbnVsbCE9dCYmISghZS5oYXNEYXRhKCl8fCF0Lmhhc0RhdGEoKSkmJm51bGwhPWUuZGVtVGV4dHVyZSYmbnVsbCE9dC5kZW1UZXh0dXJlJiZlLnRpbGVJRC5rZXkhPT10LnRpbGVJRC5rZXl9Y29uc3QgVG49bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7dGhpcy5vcGVyYXRpb25zPXt9fW5ld01vcnBoaW5nKGUsdCxuLGkscil7aWYoZSBpbiB0aGlzLm9wZXJhdGlvbnMpe2NvbnN0IHQ9dGhpcy5vcGVyYXRpb25zW2VdO3QudG8udGlsZUlELmtleSE9PW4udGlsZUlELmtleSYmKHQucXVldWVkPW4pfWVsc2UgdGhpcy5vcGVyYXRpb25zW2VdPXtzdGFydFRpbWU6aSxwaGFzZTowLGR1cmF0aW9uOnIsZnJvbTp0LHRvOm4scXVldWVkOm51bGx9fWdldE1vcnBoVmFsdWVzRm9yUHJveHkoZSl7aWYoIShlIGluIHRoaXMub3BlcmF0aW9ucykpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLm9wZXJhdGlvbnNbZV07cmV0dXJue2Zyb206dC5mcm9tLHRvOnQudG8scGhhc2U6dC5waGFzZX19dXBkYXRlKGUpe2Zvcihjb25zdCB0IGluIHRoaXMub3BlcmF0aW9ucyl7Y29uc3Qgbj10aGlzLm9wZXJhdGlvbnNbdF07Zm9yKG4ucGhhc2U9KGUtbi5zdGFydFRpbWUpL24uZHVyYXRpb247bi5waGFzZT49MXx8IXRoaXMuX3ZhbGlkT3Aobik7KWlmKCF0aGlzLl9uZXh0T3AobixlKSl7ZGVsZXRlIHRoaXMub3BlcmF0aW9uc1t0XTticmVha319fV9uZXh0T3AoZSx0KXtyZXR1cm4hIWUucXVldWVkJiYoZS5mcm9tPWUudG8sZS50bz1lLnF1ZXVlZCxlLnF1ZXVlZD1udWxsLGUucGhhc2U9MCxlLnN0YXJ0VGltZT10LCEwKX1fdmFsaWRPcChlKXtyZXR1cm4gZS5mcm9tLmhhc0RhdGEoKSYmZS50by5oYXNEYXRhKCl9fSxFbj17MDpudWxsLDE6XCJURVJSQUlOX1ZFUlRFWF9NT1JQSElOR1wiLDI6XCJURVJSQUlOX1dJUkVGUkFNRVwifTtmdW5jdGlvbiBTbihlLHQpe2NvbnN0IG49MTw8ZS56O3JldHVybiF0JiYoMD09PWUueHx8ZS54PT09bi0xKXx8MD09PWUueXx8ZS55PT09bi0xfWNvbnN0IE1uPWU9Pih7dV9tYXRyaXg6ZX0pO2Z1bmN0aW9uIEluKHQsbixpLHIsbyl7aWYobz4wKXtjb25zdCBhPWUuZXhwb3J0ZWQubm93KCkscz0oYS10LnRpbWVBZGRlZCkvbyxsPW4/KGEtbi50aW1lQWRkZWQpL286LTEsYz1pLmdldFNvdXJjZSgpLHU9ci5jb3ZlcmluZ1pvb21MZXZlbCh7dGlsZVNpemU6Yy50aWxlU2l6ZSxyb3VuZFpvb206Yy5yb3VuZFpvb219KSxoPSFufHxNYXRoLmFicyhuLnRpbGVJRC5vdmVyc2NhbGVkWi11KT5NYXRoLmFicyh0LnRpbGVJRC5vdmVyc2NhbGVkWi11KSxkPWgmJnQucmVmcmVzaGVkVXBvbkV4cGlyYXRpb24/MTplLmNsYW1wKGg/czoxLWwsMCwxKTtyZXR1cm4gdC5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbiYmcz49MSYmKHQucmVmcmVzaGVkVXBvbkV4cGlyYXRpb249ITEpLG4/e29wYWNpdHk6MSxtaXg6MS1kfTp7b3BhY2l0eTpkLG1peDowfX1yZXR1cm57b3BhY2l0eToxLG1peDowfX1jbGFzcyBDbiBleHRlbmRzIGUuU291cmNlQ2FjaGV7Y29uc3RydWN0b3IoZSl7Y29uc3QgdD17dHlwZTpcInJhc3Rlci1kZW1cIixtYXh6b29tOmUudHJhbnNmb3JtLm1heFpvb219LG49bmV3IHooVWUoKSxudWxsKSxpPXplKFwibW9jay1kZW1cIix0LG4sZS5zdHlsZSk7c3VwZXIoXCJtb2NrLWRlbVwiLGksITEpLGkuc2V0RXZlbnRlZFBhcmVudCh0aGlzKSx0aGlzLl9zb3VyY2VMb2FkZWQ9ITB9X2xvYWRUaWxlKGUsdCl7ZS5zdGF0ZT1cImxvYWRlZFwiLHQobnVsbCl9fWNsYXNzIGtuIGV4dGVuZHMgZS5Tb3VyY2VDYWNoZXtjb25zdHJ1Y3RvcihlKXtjb25zdCB0PXplKFwicHJveHlcIix7dHlwZTpcImdlb2pzb25cIixtYXh6b29tOmUudHJhbnNmb3JtLm1heFpvb219LG5ldyB6KFVlKCksbnVsbCksZS5zdHlsZSk7c3VwZXIoXCJwcm94eVwiLHQsITEpLHQuc2V0RXZlbnRlZFBhcmVudCh0aGlzKSx0aGlzLm1hcD10aGlzLmdldFNvdXJjZSgpLm1hcD1lLHRoaXMudXNlZD10aGlzLl9zb3VyY2VMb2FkZWQ9ITAsdGhpcy5yZW5kZXJDYWNoZT1bXSx0aGlzLnJlbmRlckNhY2hlUG9vbD1bXSx0aGlzLnByb3h5Q2FjaGVkRkJPPXt9fXVwZGF0ZSh0LG4saSl7aWYodC5mcmVlemVUaWxlQ292ZXJhZ2UpcmV0dXJuO3RoaXMudHJhbnNmb3JtPXQ7Y29uc3Qgcj10LmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplOnRoaXMuX3NvdXJjZS50aWxlU2l6ZSxtaW56b29tOnRoaXMuX3NvdXJjZS5taW56b29tLG1heHpvb206dGhpcy5fc291cmNlLm1heHpvb20scm91bmRab29tOnRoaXMuX3NvdXJjZS5yb3VuZFpvb20scmVwYXJzZU92ZXJzY2FsZWQ6dGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkfSkucmVkdWNlKChuLGkpPT57aWYobltpLmtleV09XCJcIiwhdGhpcy5fdGlsZXNbaS5rZXldKXtjb25zdCBuPW5ldyBlLlRpbGUoaSx0aGlzLl9zb3VyY2UudGlsZVNpemUqaS5vdmVyc2NhbGVGYWN0b3IoKSx0LnRpbGVab29tKTtuLnN0YXRlPVwibG9hZGVkXCIsdGhpcy5fdGlsZXNbaS5rZXldPW59cmV0dXJuIG59LHt9KTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyllIGluIHJ8fCh0aGlzLmZyZWVGQk8oZSksdGhpcy5fdGlsZXNbZV0udW5sb2FkVmVjdG9yRGF0YSgpLGRlbGV0ZSB0aGlzLl90aWxlc1tlXSl9ZnJlZUZCTyhlKXtjb25zdCB0PXRoaXMucHJveHlDYWNoZWRGQk9bZV07aWYodm9pZCAwIT09dCl7Y29uc3Qgbj1PYmplY3QudmFsdWVzKHQpO3RoaXMucmVuZGVyQ2FjaGVQb29sLnB1c2goLi4ubiksZGVsZXRlIHRoaXMucHJveHlDYWNoZWRGQk9bZV19fWRlYWxsb2NSZW5kZXJDYWNoZSgpe3RoaXMucmVuZGVyQ2FjaGUuZm9yRWFjaChlPT5lLmZiLmRlc3Ryb3koKSksdGhpcy5yZW5kZXJDYWNoZT1bXSx0aGlzLnJlbmRlckNhY2hlUG9vbD1bXSx0aGlzLnByb3h5Q2FjaGVkRkJPPXt9fX1jbGFzcyBBbiBleHRlbmRzIGUuT3ZlcnNjYWxlZFRpbGVJRHtjb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoZS5vdmVyc2NhbGVkWixlLndyYXAsZS5jYW5vbmljYWwueixlLmNhbm9uaWNhbC54LGUuY2Fub25pY2FsLnkpLHRoaXMucHJveHlUaWxlS2V5PXQsdGhpcy5wcm9qTWF0cml4PW59fWNsYXNzIFBuIGV4dGVuZHMgZS5FbGV2YXRpb257Y29uc3RydWN0b3IodCxuKXtzdXBlcigpLHRoaXMucGFpbnRlcj10LHRoaXMudGVycmFpblRpbGVGb3JUaWxlPXt9LHRoaXMucHJldlRlcnJhaW5UaWxlRm9yVGlsZT17fTtjb25zdFtpLHIsb109ZnVuY3Rpb24odCl7Y29uc3Qgbj1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDRpOCxpPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0M3VpNixyPTEzMTtuLnJlc2VydmUoMTcxNjEpLGkucmVzZXJ2ZSgzMzgwMCk7Y29uc3Qgbz1lLkVYVEVOVC8xMjgsYT1lLkVYVEVOVCtvLzIscz1hK287Zm9yKGxldCB0PS1vO3Q8czt0Kz1vKWZvcihsZXQgaT0tbztpPHM7aSs9byl7Y29uc3Qgcj1pPDB8fGk+YXx8dDwwfHx0PmE/MjQ1NzU6MCxvPWUuY2xhbXAoTWF0aC5yb3VuZChpKSwwLGUuRVhURU5UKSxzPWUuY2xhbXAoTWF0aC5yb3VuZCh0KSwwLGUuRVhURU5UKTtuLmVtcGxhY2VCYWNrKG8rcixzLG8scyl9Y29uc3QgbD0oZSx0KT0+e2NvbnN0IG49dCpyK2U7aS5lbXBsYWNlQmFjayhuKzEsbixuK3IpLGkuZW1wbGFjZUJhY2sobityLG4rcisxLG4rMSl9O2ZvcihsZXQgZT0xO2U8MTI5O2UrKylmb3IobGV0IHQ9MTt0PDEyOTt0KyspbCh0LGUpO3JldHVyblswLDEyOV0uZm9yRWFjaChlPT57Zm9yKGxldCB0PTA7dDwxMzA7dCsrKWwodCxlKSxsKGUsdCl9KSxbbixpLDMyNzY4XX0oKSxhPXQuY29udGV4dDt0aGlzLmdyaWRCdWZmZXI9YS5jcmVhdGVWZXJ0ZXhCdWZmZXIoaSxlLmJvdW5kc0F0dHJpYnV0ZXMubWVtYmVycyksdGhpcy5ncmlkSW5kZXhCdWZmZXI9YS5jcmVhdGVJbmRleEJ1ZmZlcihyKSx0aGlzLmdyaWRTZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsaS5sZW5ndGgsci5sZW5ndGgpLHRoaXMuZ3JpZE5vU2tpcnRTZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsaS5sZW5ndGgsbyksdGhpcy5wcm94eUNvb3Jkcz1bXSx0aGlzLnByb3hpZWRDb29yZHM9e30sdGhpcy5fdmlzaWJsZURlbVRpbGVzPVtdLHRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXM9W10sdGhpcy5fc291cmNlVGlsZXNPdmVybGFwPXt9LHRoaXMucHJveHlTb3VyY2VDYWNoZT1uZXcga24obi5tYXApLHRoaXMub3J0aG9NYXRyaXg9ZS5jcmVhdGUoKSxlLm9ydGhvKHRoaXMub3J0aG9NYXRyaXgsXCJnbG9iZVwiPT09dGhpcy5wYWludGVyLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWU/LjAxNTowLGUuRVhURU5ULDAsZS5FWFRFTlQsMCwxKTtjb25zdCBzPWEuZ2w7dGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlPW5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOnMuR0VRVUFMLG1hc2s6MjU1fSwwLDI1NSxzLktFRVAscy5LRUVQLHMuUkVQTEFDRSksdGhpcy5fcHJldmlvdXNab29tPXQudHJhbnNmb3JtLnpvb20sdGhpcy5wb29sPVtdLHRoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZT17fSx0aGlzLl90aWxlc0RpcnR5PXt9LHRoaXMuc3R5bGU9bix0aGlzLl91c2VWZXJ0ZXhNb3JwaGluZz0hMCx0aGlzLl9leGFnZ2VyYXRpb249MSx0aGlzLl9tb2NrU291cmNlQ2FjaGU9bmV3IENuKG4ubWFwKX1zZXQgc3R5bGUoZSl7ZS5vbihcImRhdGFcIix0aGlzLl9vblN0eWxlRGF0YUV2ZW50LmJpbmQodGhpcykpLGUub24oXCJuZXdvcmRlclwiLHRoaXMuX2NoZWNrUmVuZGVyQ2FjaGVFZmZpY2llbmN5LmJpbmQodGhpcykpLHRoaXMuX3N0eWxlPWUsdGhpcy5fY2hlY2tSZW5kZXJDYWNoZUVmZmljaWVuY3koKX11cGRhdGUodCxuLGkpe2lmKHQmJnQudGVycmFpbil7dGhpcy5fc3R5bGUhPT10JiYodGhpcy5zdHlsZT10KSx0aGlzLmVuYWJsZWQ9ITA7Y29uc3Qgcj10LnRlcnJhaW4ucHJvcGVydGllczt0aGlzLnNvdXJjZUNhY2hlPTA9PT10LnRlcnJhaW4uZHJhcGVSZW5kZXJNb2RlP3RoaXMuX21vY2tTb3VyY2VDYWNoZTp0Ll9nZXRTb3VyY2VDYWNoZShyLmdldChcInNvdXJjZVwiKSksdGhpcy5fZXhhZ2dlcmF0aW9uPXIuZ2V0KFwiZXhhZ2dlcmF0aW9uXCIpO2NvbnN0IG89KCk9Pnt0aGlzLnNvdXJjZUNhY2hlLnVzZWQmJmUud2Fybk9uY2UoYFJhc3RlciBERU0gc291cmNlICcke3RoaXMuc291cmNlQ2FjaGUuaWR9JyBpcyB1c2VkIGJvdGggZm9yIHRlcnJhaW4gYW5kIGFzIGxheWVyIHNvdXJjZS5cXG5UaGlzIGxlYWRzIHRvIGxvd2VyIHJlc29sdXRpb24gb2YgaGlsbHNoYWRlLiBGb3IgZnVsbCBoaWxsc2hhZGUgcmVzb2x1dGlvbiBidXQgaGlnaGVyIG1lbW9yeSBjb25zdW1wdGlvbiwgZGVmaW5lIGFub3RoZXIgcmFzdGVyIERFTSBzb3VyY2UuYCk7Y29uc3QgdD10aGlzLmdldFNjYWxlZERlbVRpbGVTaXplKCk7dGhpcy5zb3VyY2VDYWNoZS51cGRhdGUobix0LCEwKSx0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMuc291cmNlQ2FjaGUuaWQpfTt0aGlzLnNvdXJjZUNhY2hlLnVzZWRGb3JUZXJyYWlufHwodGhpcy5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLnNvdXJjZUNhY2hlLmlkKSx0aGlzLnNvdXJjZUNhY2hlLnVzZWRGb3JUZXJyYWluPSEwLG8oKSx0aGlzLl9pbml0aWFsaXppbmc9ITApLG8oKSxuLnVwZGF0ZUVsZXZhdGlvbighMCxpKSx0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMucHJveHlTb3VyY2VDYWNoZS5pZCksdGhpcy5wcm94eVNvdXJjZUNhY2hlLnVwZGF0ZShuKSx0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eT0hMH1lbHNlIHRoaXMuX2Rpc2FibGUoKX1yZXNldFRpbGVMb29rdXBDYWNoZShlKXt0aGlzLl9maW5kQ292ZXJpbmdUaWxlQ2FjaGVbZV09e319Z2V0U2NhbGVkRGVtVGlsZVNpemUoKXtyZXR1cm4gdGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZS8xMjgqdGhpcy5wcm94eVNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplfV9jaGVja1JlbmRlckNhY2hlRWZmaWNpZW5jeSgpe2NvbnN0IHQ9dGhpcy5yZW5kZXJDYWNoZUVmZmljaWVuY3kodGhpcy5fc3R5bGUpO3RoaXMuX3N0eWxlLm1hcC5fb3B0aW1pemVGb3JUZXJyYWlufHwxMDAhPT10LmVmZmljaWVuY3kmJmUud2Fybk9uY2UoYFRlcnJhaW4gcmVuZGVyIGNhY2hlIGVmZmljaWVuY3kgaXMgbm90IG9wdGltYWwgKCR7dC5lZmZpY2llbmN5fSUpIGFuZCBwZXJmb3JtYW5jZVxcbiAgICAgICAgICAgICAgICBtYXkgYmUgYWZmZWN0ZWQgbmVnYXRpdmVseSwgY29uc2lkZXIgcGxhY2luZyBhbGwgYmFja2dyb3VuZCwgZmlsbCBhbmQgbGluZSBsYXllcnMgYmVmb3JlIGxheWVyXFxuICAgICAgICAgICAgICAgIHdpdGggaWQgJyR7dC5maXJzdFVuZHJhcGVkTGF5ZXJ9JyBvciBjcmVhdGUgYSBtYXAgdXNpbmcgb3B0aW1pemVGb3JUZXJyYWluOiB0cnVlIG9wdGlvbi5gKX1fb25TdHlsZURhdGFFdmVudChlKXtlLmNvb3JkJiZcInNvdXJjZVwiPT09ZS5kYXRhVHlwZT90aGlzLl9jbGVhclJlbmRlckNhY2hlRm9yVGlsZShlLnNvdXJjZUNhY2hlSWQsZS5jb29yZCk6XCJzdHlsZVwiPT09ZS5kYXRhVHlwZSYmKHRoaXMuX2ludmFsaWRhdGVSZW5kZXJDYWNoZT0hMCl9X2Rpc2FibGUoKXtpZih0aGlzLmVuYWJsZWQmJih0aGlzLmVuYWJsZWQ9ITEsdGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsPXZvaWQgMCx0aGlzLnByb3h5U291cmNlQ2FjaGUuZGVhbGxvY1JlbmRlckNhY2hlKCksdGhpcy5fc3R5bGUpKWZvcihjb25zdCBlIGluIHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXMpdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlc1tlXS51c2VkRm9yVGVycmFpbj0hMX1kZXN0cm95KCl7dGhpcy5fZGlzYWJsZSgpLHRoaXMuX2VtcHR5REVNVGV4dHVyZSYmdGhpcy5fZW1wdHlERU1UZXh0dXJlLmRlc3Ryb3koKSx0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZSYmdGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUuZGVzdHJveSgpLHRoaXMucG9vbC5mb3JFYWNoKGU9PmUuZmIuZGVzdHJveSgpKSx0aGlzLnBvb2w9W10sdGhpcy5fZGVwdGhGQk8mJih0aGlzLl9kZXB0aEZCTy5kZXN0cm95KCksdGhpcy5fZGVwdGhGQk89dm9pZCAwLHRoaXMuX2RlcHRoVGV4dHVyZT12b2lkIDApfV9zb3VyY2UoKXtyZXR1cm4gdGhpcy5lbmFibGVkP3RoaXMuc291cmNlQ2FjaGU6bnVsbH1pc1VzaW5nTW9ja1NvdXJjZSgpe3JldHVybiB0aGlzLnNvdXJjZUNhY2hlPT09dGhpcy5fbW9ja1NvdXJjZUNhY2hlfWV4YWdnZXJhdGlvbigpe3JldHVybiB0aGlzLl9leGFnZ2VyYXRpb259Z2V0IHZpc2libGVEZW1UaWxlcygpe3JldHVybiB0aGlzLl92aXNpYmxlRGVtVGlsZXN9Z2V0IGRyYXBlQnVmZmVyU2l6ZSgpe2NvbnN0IGU9Mip0aGlzLnByb3h5U291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemU7cmV0dXJuW2UsZV19c2V0IHVzZVZlcnRleE1vcnBoaW5nKGUpe3RoaXMuX3VzZVZlcnRleE1vcnBoaW5nPWV9dXBkYXRlVGlsZUJpbmRpbmcodCl7aWYoIXRoaXMuZW5hYmxlZClyZXR1cm47dGhpcy5wcmV2VGVycmFpblRpbGVGb3JUaWxlPXRoaXMudGVycmFpblRpbGVGb3JUaWxlO2NvbnN0IG49dGhpcy5wcm94eVNvdXJjZUNhY2hlLGk9dGhpcy5wYWludGVyLnRyYW5zZm9ybTt0aGlzLl9pbml0aWFsaXppbmcmJih0aGlzLl9pbml0aWFsaXppbmc9MD09PWkuX2NlbnRlckFsdGl0dWRlJiYtMT09PXRoaXMuZ2V0QXRQb2ludE9yWmVybyhlLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KGkuY2VudGVyKSwtMSksdGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHk9IXRoaXMuX2luaXRpYWxpemluZyk7Y29uc3Qgcj10aGlzLnByb3h5Q29vcmRzPW4uZ2V0SWRzKCkubWFwKGU9Pntjb25zdCB0PW4uZ2V0VGlsZUJ5SUQoZSkudGlsZUlEO3JldHVybiB0LnByb2pNYXRyaXg9aS5jYWxjdWxhdGVQcm9qTWF0cml4KHQudG9VbndyYXBwZWQoKSksdH0pOyFmdW5jdGlvbih0LG4pe2NvbnN0IGk9bi50cmFuc2Zvcm0ucG9pbnRDb29yZGluYXRlKG4udHJhbnNmb3JtLmdldENhbWVyYVBvaW50KCkpLHI9bmV3IGUucG9pbnRHZW9tZXRyeShpLngsaS55KTt0LnNvcnQoKHQsbik9PntpZihuLm92ZXJzY2FsZWRaLXQub3ZlcnNjYWxlZFopcmV0dXJuIG4ub3ZlcnNjYWxlZFotdC5vdmVyc2NhbGVkWjtjb25zdCBpPW5ldyBlLnBvaW50R2VvbWV0cnkodC5jYW5vbmljYWwueCsoMTw8dC5jYW5vbmljYWwueikqdC53cmFwLHQuY2Fub25pY2FsLnkpLG89bmV3IGUucG9pbnRHZW9tZXRyeShuLmNhbm9uaWNhbC54KygxPDxuLmNhbm9uaWNhbC56KSpuLndyYXAsbi5jYW5vbmljYWwueSksYT1yLm11bHQoMTw8dC5jYW5vbmljYWwueik7cmV0dXJuIGEueC09LjUsYS55LT0uNSxhLmRpc3RTcXIoaSktYS5kaXN0U3FyKG8pfSl9KHIsdGhpcy5wYWludGVyKSx0aGlzLl9wcmV2aW91c1pvb209aS56b29tO2NvbnN0IG89dGhpcy5wcm94eVRvU291cmNlfHx7fTt0aGlzLnByb3h5VG9Tb3VyY2U9e30sci5mb3JFYWNoKGU9Pnt0aGlzLnByb3h5VG9Tb3VyY2VbZS5rZXldPXt9fSksdGhpcy50ZXJyYWluVGlsZUZvclRpbGU9e307Y29uc3QgYT10aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzO2Zvcihjb25zdCBlIGluIGEpe2NvbnN0IG49YVtlXTtpZighbi51c2VkKWNvbnRpbnVlO2lmKG4hPT10aGlzLnNvdXJjZUNhY2hlJiZ0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKG4uaWQpLHRoaXMuX3NldHVwUHJveGllZENvb3Jkc0Zvck9ydGhvKG4sdFtlXSxvKSxuLnVzZWRGb3JUZXJyYWluKWNvbnRpbnVlO2NvbnN0IGk9dFtlXTtuLmdldFNvdXJjZSgpLnJlcGFyc2VPdmVyc2NhbGVkJiZ0aGlzLl9hc3NpZ25UZXJyYWluVGlsZXMoaSl9dGhpcy5wcm94aWVkQ29vcmRzW24uaWRdPXIubWFwKGU9Pm5ldyBBbihlLGUua2V5LHRoaXMub3J0aG9NYXRyaXgpKSx0aGlzLl9hc3NpZ25UZXJyYWluVGlsZXMociksdGhpcy5fcHJlcGFyZURFTVRleHR1cmVzKCksdGhpcy5fc2V0dXBEcmFwZWRSZW5kZXJCYXRjaGVzKCksdGhpcy5faW5pdEZCT1Bvb2woKSx0aGlzLl9zZXR1cFJlbmRlckNhY2hlKG8pLHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSExLHRoaXMuX3VwZGF0ZVRpbWVzdGFtcD1lLmV4cG9ydGVkLm5vdygpO2NvbnN0IHM9e307dGhpcy5fdmlzaWJsZURlbVRpbGVzPVtdO2Zvcihjb25zdCBlIG9mIHRoaXMucHJveHlDb29yZHMpe2NvbnN0IHQ9dGhpcy50ZXJyYWluVGlsZUZvclRpbGVbZS5rZXldO2lmKCF0KWNvbnRpbnVlO2NvbnN0IG49dC50aWxlSUQua2V5O24gaW4gc3x8KHRoaXMuX3Zpc2libGVEZW1UaWxlcy5wdXNoKHQpLHNbbl09bil9fV9hc3NpZ25UZXJyYWluVGlsZXMoZSl7dGhpcy5faW5pdGlhbGl6aW5nfHxlLmZvckVhY2goZT0+e2lmKHRoaXMudGVycmFpblRpbGVGb3JUaWxlW2Uua2V5XSlyZXR1cm47Y29uc3QgdD10aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKGUsdGhpcy5zb3VyY2VDYWNoZSk7dCYmKHRoaXMudGVycmFpblRpbGVGb3JUaWxlW2Uua2V5XT10KX0pfV9wcmVwYXJlREVNVGV4dHVyZXMoKXtjb25zdCBlPXRoaXMucGFpbnRlci5jb250ZXh0LHQ9ZS5nbDtmb3IoY29uc3QgbiBpbiB0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZSl7Y29uc3QgaT10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtuXSxyPWkuZGVtOyFyfHxpLmRlbVRleHR1cmUmJiFpLm5lZWRzREVNVGV4dHVyZVVwbG9hZHx8KGUuYWN0aXZlVGV4dHVyZS5zZXQodC5URVhUVVJFMSkseW4odGhpcy5wYWludGVyLGkscikpfX1fcHJlcGFyZURlbVRpbGVVbmlmb3JtcyhlLHQsbixpKXtpZighdHx8bnVsbD09dC5kZW1UZXh0dXJlKXJldHVybiExO2NvbnN0IHI9ZS50aWxlSUQuY2Fub25pY2FsLG89TWF0aC5wb3coMix0LnRpbGVJRC5jYW5vbmljYWwuei1yLnopLGE9aXx8XCJcIjtyZXR1cm4gbltcInVfZGVtX3RsXCIrYV09W3IueCpvJTEsci55Km8lMV0sbltcInVfZGVtX3NjYWxlXCIrYV09bywhMH1nZXQgZW1wdHlERU1UZXh0dXJlKCl7cmV0dXJuIXRoaXMuX2VtcHR5REVNVGV4dHVyZURpcnR5JiZ0aGlzLl9lbXB0eURFTVRleHR1cmU/dGhpcy5fZW1wdHlERU1UZXh0dXJlOnRoaXMuX3VwZGF0ZUVtcHR5REVNVGV4dHVyZSgpfWdldCBlbXB0eURlcHRoQnVmZmVyVGV4dHVyZSgpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQsbj10LmdsO2lmKCF0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZSl7Y29uc3QgaT1uZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOjEsaGVpZ2h0OjF9LFVpbnQ4QXJyYXkub2YoMjU1LDI1NSwyNTUsMjU1KSk7dGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmU9bmV3IGUuVGV4dHVyZSh0LGksbi5SR0JBLHtwcmVtdWx0aXBseTohMX0pfXJldHVybiB0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZX1fZ2V0TG9hZGVkQXJlYU1pbmltdW0oKXtsZXQgZT0wO2NvbnN0IHQ9dGhpcy5fdmlzaWJsZURlbVRpbGVzLnJlZHVjZSgodCxuKT0+e2lmKCFuLmRlbSlyZXR1cm4gdDtjb25zdCBpPW4uZGVtLnRyZWUubWluaW11bXNbMF07cmV0dXJuIGk+MCYmZSsrLHQraX0sMCk7cmV0dXJuIGU/dC9lOjB9X3VwZGF0ZUVtcHR5REVNVGV4dHVyZSgpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQsbj10LmdsO3QuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMik7Y29uc3QgaT10aGlzLl9nZXRMb2FkZWRBcmVhTWluaW11bSgpLHI9bmV3IGUuUkdCQUltYWdlKHt3aWR0aDoxLGhlaWdodDoxfSxuZXcgVWludDhBcnJheShlLkRFTURhdGEucGFjayhpLHRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkuZW5jb2RpbmcpKSk7dGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHk9ITE7bGV0IG89dGhpcy5fZW1wdHlERU1UZXh0dXJlO3JldHVybiBvP28udXBkYXRlKHIse3ByZW11bHRpcGx5OiExfSk6bz10aGlzLl9lbXB0eURFTVRleHR1cmU9bmV3IGUuVGV4dHVyZSh0LHIsbi5SR0JBLHtwcmVtdWx0aXBseTohMX0pLG99c2V0dXBFbGV2YXRpb25EcmF3KHQsbixpKXtjb25zdCByPXRoaXMucGFpbnRlci5jb250ZXh0LG89ci5nbCxhPShzPXRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkuZW5jb2Rpbmcse3VfZGVtOjIsdV9kZW1fcHJldjo0LHVfZGVtX3VucGFjazplLkRFTURhdGEuZ2V0VW5wYWNrVmVjdG9yKHMpLHVfZGVtX3RsOlswLDBdLHVfZGVtX3RsX3ByZXY6WzAsMF0sdV9kZW1fc2NhbGU6MCx1X2RlbV9zY2FsZV9wcmV2OjAsdV9kZW1fc2l6ZTowLHVfZGVtX2xlcnA6MSx1X2RlcHRoOjMsdV9kZXB0aF9zaXplX2ludjpbMCwwXSx1X2V4YWdnZXJhdGlvbjowfSk7dmFyIHM7YS51X2RlbV9zaXplPXRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemUsYS51X2V4YWdnZXJhdGlvbj10aGlzLmV4YWdnZXJhdGlvbigpO2xldCBsPW51bGwsYz1udWxsLHU9MTtpZihpJiZpLm1vcnBoaW5nJiZ0aGlzLl91c2VWZXJ0ZXhNb3JwaGluZyl7Y29uc3QgZT1pLm1vcnBoaW5nLnNyY0RlbVRpbGUsbj1pLm1vcnBoaW5nLmRzdERlbVRpbGU7dT1pLm1vcnBoaW5nLnBoYXNlLGUmJm4mJih0aGlzLl9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKHQsZSxhLFwiX3ByZXZcIikmJihjPWUpLHRoaXMuX3ByZXBhcmVEZW1UaWxlVW5pZm9ybXModCxuLGEpJiYobD1uKSl9aWYoYyYmbD8oci5hY3RpdmVUZXh0dXJlLnNldChvLlRFWFRVUkUyKSxsLmRlbVRleHR1cmUuYmluZChvLk5FQVJFU1Qsby5DTEFNUF9UT19FREdFLG8uTkVBUkVTVCksci5hY3RpdmVUZXh0dXJlLnNldChvLlRFWFRVUkU0KSxjLmRlbVRleHR1cmUuYmluZChvLk5FQVJFU1Qsby5DTEFNUF9UT19FREdFLG8uTkVBUkVTVCksYS51X2RlbV9sZXJwPXUpOihsPXRoaXMudGVycmFpblRpbGVGb3JUaWxlW3QudGlsZUlELmtleV0sci5hY3RpdmVUZXh0dXJlLnNldChvLlRFWFRVUkUyKSwodGhpcy5fcHJlcGFyZURlbVRpbGVVbmlmb3Jtcyh0LGwsYSk/bC5kZW1UZXh0dXJlOnRoaXMuZW1wdHlERU1UZXh0dXJlKS5iaW5kKG8uTkVBUkVTVCxvLkNMQU1QX1RPX0VER0UpKSxyLmFjdGl2ZVRleHR1cmUuc2V0KG8uVEVYVFVSRTMpLGkmJmkudXNlRGVwdGhGb3JPY2NsdXNpb24/KHRoaXMuX2RlcHRoVGV4dHVyZSYmdGhpcy5fZGVwdGhUZXh0dXJlLmJpbmQoby5ORUFSRVNULG8uQ0xBTVBfVE9fRURHRSksdGhpcy5fZGVwdGhGQk8mJihhLnVfZGVwdGhfc2l6ZV9pbnY9WzEvdGhpcy5fZGVwdGhGQk8ud2lkdGgsMS90aGlzLl9kZXB0aEZCTy5oZWlnaHRdKSk6KHRoaXMuZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUuYmluZChvLk5FQVJFU1Qsby5DTEFNUF9UT19FREdFKSxhLnVfZGVwdGhfc2l6ZV9pbnY9WzEsMV0pLGkmJmkudXNlTWV0ZXJUb0RlbSYmbCl7Y29uc3QgdD0oMTw8bC50aWxlSUQuY2Fub25pY2FsLnopKmUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5wYWludGVyLnRyYW5zZm9ybS5jZW50ZXIubGF0KSp0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplO2EudV9tZXRlcl90b19kZW09dH1pZihpJiZpLmxhYmVsUGxhbmVNYXRyaXhJbnYmJihhLnVfbGFiZWxfcGxhbmVfbWF0cml4X2ludj1pLmxhYmVsUGxhbmVNYXRyaXhJbnYpLG4uc2V0VGVycmFpblVuaWZvcm1WYWx1ZXMocixhKSxcImdsb2JlXCI9PT10aGlzLnBhaW50ZXIudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgZT10aGlzLmdsb2JlVW5pZm9ybVZhbHVlcyh0aGlzLnBhaW50ZXIudHJhbnNmb3JtLHQudGlsZUlELmNhbm9uaWNhbCxpJiZpLnVzZURlbm9ybWFsaXplZFVwVmVjdG9yU2NhbGUpO24uc2V0R2xvYmVVbmlmb3JtVmFsdWVzKHIsZSl9fWdsb2JlVW5pZm9ybVZhbHVlcyh0LG4saSl7Y29uc3Qgcj10LnByb2plY3Rpb247cmV0dXJue3VfdGlsZV90bF91cDpyLnVwVmVjdG9yKG4sMCwwKSx1X3RpbGVfdHJfdXA6ci51cFZlY3RvcihuLGUuRVhURU5ULDApLHVfdGlsZV9icl91cDpyLnVwVmVjdG9yKG4sZS5FWFRFTlQsZS5FWFRFTlQpLHVfdGlsZV9ibF91cDpyLnVwVmVjdG9yKG4sMCxlLkVYVEVOVCksdV90aWxlX3VwX3NjYWxlOmk/ZS5HTE9CRV9NRVRFUlNfVE9fRUNFRjpyLnVwVmVjdG9yU2NhbGUobix0LmNlbnRlci5sYXQsdC53b3JsZFNpemUpLm1ldGVyc1RvVGlsZX19cmVuZGVyVG9CYWNrQnVmZmVyKHQpe2NvbnN0IG49dGhpcy5wYWludGVyLGk9dGhpcy5wYWludGVyLmNvbnRleHQ7MCE9PXQubGVuZ3RoJiYoaS5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLGkudmlld3BvcnQuc2V0KFswLDAsbi53aWR0aCxuLmhlaWdodF0pLG4uZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXJTdGFydCgpLHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSExLGZ1bmN0aW9uKHQsbixpLHIsbyl7aWYoXCJnbG9iZVwiPT09dC50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKSFmdW5jdGlvbih0LG4saSxyLG8pe2NvbnN0IGE9dC5jb250ZXh0LHM9YS5nbDtsZXQgbCxjO2NvbnN0IHU9dC5vcHRpb25zLnNob3dUZXJyYWluV2lyZWZyYW1lPzI6MCxoPXQudHJhbnNmb3JtLGQ9ZS5nbG9iZVVzZUN1c3RvbUFudGlBbGlhc2luZyh0LGEsaCkscD0oZSxuKT0+e2lmKGM9PT1lKXJldHVybjtjb25zdCBpPVtFbltlXSxcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiXTtkJiZpLnB1c2goXCJDVVNUT01fQU5USUFMSUFTSU5HXCIpLG4mJmkucHVzaChFblt1XSksbD10LnVzZVByb2dyYW0oXCJnbG9iZVJhc3RlclwiLG51bGwsaSksYz1lfSxmPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLG09bmV3IGUuRGVwdGhNb2RlKHMuTEVRVUFMLGUuRGVwdGhNb2RlLlJlYWRXcml0ZSx0LmRlcHRoUmFuZ2VGb3IzRCk7VG4udXBkYXRlKG8pO2NvbnN0IGc9ZS5jYWxjdWxhdGVHbG9iZU1lcmNhdG9yTWF0cml4KGgpLHk9W2UubWVyY2F0b3JYZnJvbUxuZyhoLmNlbnRlci5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdChoLmNlbnRlci5sYXQpXSxfPXU/WyExLCEwXTpbITFdLHY9dC5nbG9iZVNoYXJlZEJ1ZmZlcnMseD1baC53aWR0aCplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8saC5oZWlnaHQqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvXSxiPUZsb2F0MzJBcnJheS5mcm9tKGguZ2xvYmVNYXRyaXgpLHc9e3VzZURlbm9ybWFsaXplZFVwVmVjdG9yU2NhbGU6ITB9O2lmKF8uZm9yRWFjaCh1PT57Yz0tMTtjb25zdCBkPXU/cy5MSU5FUzpzLlRSSUFOR0xFUztmb3IoY29uc3QgYyBvZiByKXtjb25zdCByPWkuZ2V0VGlsZShjKSxfPWUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsVD1uLnByZXZUZXJyYWluVGlsZUZvclRpbGVbYy5rZXldLEU9bi50ZXJyYWluVGlsZUZvclRpbGVbYy5rZXldO3duKFQsRSkmJlRuLm5ld01vcnBoaW5nKGMua2V5LFQsRSxvLDI1MCksYS5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKSxyLnRleHR1cmUuYmluZChzLkxJTkVBUixzLkNMQU1QX1RPX0VER0UpO2NvbnN0IFM9VG4uZ2V0TW9ycGhWYWx1ZXNGb3JQcm94eShjLmtleSksTT1TPzE6MDtTJiZlLmV4dGVuZCQxKHcse21vcnBoaW5nOntzcmNEZW1UaWxlOlMuZnJvbSxkc3REZW1UaWxlOlMudG8scGhhc2U6ZS5lYXNlQ3ViaWNJbk91dChTLnBoYXNlKX19KTtjb25zdCBJPWUudGlsZUNvcm5lcnNUb0JvdW5kcyhjLmNhbm9uaWNhbCksQz1lLmdldExhdGl0dWRpbmFsTG9kKEkuZ2V0Q2VudGVyKCkubGF0KSxrPWUuZ2V0R3JpZE1hdHJpeChjLmNhbm9uaWNhbCxJLEMsaC53b3JsZFNpemUvaC5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCksQT1lLmdsb2JlTm9ybWFsaXplRUNFRihlLmdsb2JlVGlsZUJvdW5kcyhjLmNhbm9uaWNhbCkpLFA9Ym4oaC5wcm9qTWF0cml4LGIsZyxBLGUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihoLnpvb20pLHksaC5mcnVzdHVtQ29ybmVycy5UTCxoLmZydXN0dW1Db3JuZXJzLlRSLGguZnJ1c3R1bUNvcm5lcnMuQlIsaC5mcnVzdHVtQ29ybmVycy5CTCxoLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsaC5nbG9iZVJhZGl1cyx4LGspO2lmKHAoTSx1KSxuLnNldHVwRWxldmF0aW9uRHJhdyhyLGwsdyksdC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxsLGMudG9VbndyYXBwZWQoKSksdil7Y29uc3RbbixpLHJdPXU/di5nZXRXaXJlZmFtZUJ1ZmZlcnModC5jb250ZXh0LEMpOnYuZ2V0R3JpZEJ1ZmZlcnMoQyk7bC5kcmF3KGEsZCxtLF8sZixlLkN1bGxGYWNlTW9kZS5iYWNrQ0NXLFAsXCJnbG9iZV9yYXN0ZXJcIixuLGkscil9fX0pLHYpe2NvbnN0IG89W1wiR0xPQkVfUE9MRVNcIixcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiXTtkJiZvLnB1c2goXCJDVVNUT01fQU5USUFMSUFTSU5HXCIpLGw9dC51c2VQcm9ncmFtKFwiZ2xvYmVSYXN0ZXJcIixudWxsLG8pO2Zvcihjb25zdCBvIG9mIHIpe2NvbnN0e3g6cix5OmMsejp1fT1vLmNhbm9uaWNhbCxkPTA9PT1jLHA9Yz09PSgxPDx1KS0xLFtnLF8sYixUXT12LmdldFBvbGVCdWZmZXJzKHUpO2lmKFQmJihkfHxwKSl7Y29uc3QgYz1pLmdldFRpbGUobyk7YS5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKSxjLnRleHR1cmUuYmluZChzLkxJTkVBUixzLkNMQU1QX1RPX0VER0UpO2xldCB2PWUuZ2xvYmVQb2xlTWF0cml4Rm9yVGlsZSh1LHIsaCk7Y29uc3QgRT1lLmdsb2JlTm9ybWFsaXplRUNFRihlLmdsb2JlVGlsZUJvdW5kcyhvLmNhbm9uaWNhbCkpLFM9KHQsbik9PnQuZHJhdyhhLHMuVFJJQU5HTEVTLG0sZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxmLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLGJuKGgucHJvak1hdHJpeCx2LHYsRSwwLHksaC5mcnVzdHVtQ29ybmVycy5UTCxoLmZydXN0dW1Db3JuZXJzLlRSLGguZnJ1c3R1bUNvcm5lcnMuQlIsaC5mcnVzdHVtQ29ybmVycy5CTCxoLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsaC5nbG9iZVJhZGl1cyx4KSxcImdsb2JlX3BvbGVfcmFzdGVyXCIsbixiLFQpO24uc2V0dXBFbGV2YXRpb25EcmF3KGMsbCx3KSx0LnByZXBhcmVEcmF3UHJvZ3JhbShhLGwsby50b1Vud3JhcHBlZCgpKSxkJiZTKGwsZykscCYmKHY9ZS5zY2FsZShlLmNyZWF0ZSgpLHYsWzEsLTEsMV0pLFMobCxfKSl9fX19KHQsbixpLHIsbyk7ZWxzZXtjb25zdCBhPXQuY29udGV4dCxzPWEuZ2w7bGV0IGwsYztjb25zdCB1PXQub3B0aW9ucy5zaG93VGVycmFpbldpcmVmcmFtZT8yOjAsaD0oZSxuKT0+e2lmKGM9PT1lKXJldHVybjtjb25zdCBpPVtFbltlXV07biYmaS5wdXNoKEVuW3VdKSxsPXQudXNlUHJvZ3JhbShcInRlcnJhaW5SYXN0ZXJcIixudWxsLGkpLGM9ZX0sZD10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxwPW5ldyBlLkRlcHRoTW9kZShzLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpO1RuLnVwZGF0ZShvKTtjb25zdCBmPXQudHJhbnNmb3JtLG09NipNYXRoLnBvdygxLjUsMjItZi56b29tKSpuLmV4YWdnZXJhdGlvbigpOyh1P1shMSwhMF06WyExXSkuZm9yRWFjaCh1PT57Yz0tMTtjb25zdCBnPXU/cy5MSU5FUzpzLlRSSUFOR0xFUyxbeSxfXT11P24uZ2V0V2lyZWZhbWVCdWZmZXIoKTpbbi5ncmlkSW5kZXhCdWZmZXIsbi5ncmlkU2VnbWVudHNdO2Zvcihjb25zdCBjIG9mIHIpe2NvbnN0IHI9aS5nZXRUaWxlKGMpLHY9ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCx4PW4ucHJldlRlcnJhaW5UaWxlRm9yVGlsZVtjLmtleV0sYj1uLnRlcnJhaW5UaWxlRm9yVGlsZVtjLmtleV07d24oeCxiKSYmVG4ubmV3TW9ycGhpbmcoYy5rZXkseCxiLG8sMjUwKSxhLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApLHIudGV4dHVyZS5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSxzLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCk7Y29uc3Qgdz1Ubi5nZXRNb3JwaFZhbHVlc0ZvclByb3h5KGMua2V5KSxUPXc/MTowO2xldCBFO3cmJihFPXttb3JwaGluZzp7c3JjRGVtVGlsZTp3LmZyb20sZHN0RGVtVGlsZTp3LnRvLHBoYXNlOmUuZWFzZUN1YmljSW5PdXQody5waGFzZSl9fSk7Y29uc3QgUz14bihjLnByb2pNYXRyaXgsU24oYy5jYW5vbmljYWwsZi5yZW5kZXJXb3JsZENvcGllcyk/bS8xMDptKTtoKFQsdSksbi5zZXR1cEVsZXZhdGlvbkRyYXcocixsLEUpLHQucHJlcGFyZURyYXdQcm9ncmFtKGEsbCxjLnRvVW53cmFwcGVkKCkpLGwuZHJhdyhhLGcscCx2LGQsZS5DdWxsRmFjZU1vZGUuYmFja0NDVyxTLFwidGVycmFpbl9yYXN0ZXJcIixuLmdyaWRCdWZmZXIseSxfKX19KX19KG4sdGhpcyx0aGlzLnByb3h5U291cmNlQ2FjaGUsdCx0aGlzLl91cGRhdGVUaW1lc3RhbXApLHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSEwLG4uZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXJFbmQoKSx0LnNwbGljZSgwLHQubGVuZ3RoKSl9cmVuZGVyQmF0Y2godCl7aWYoMD09PXRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXMubGVuZ3RoKXJldHVybiB0KzE7dGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITA7Y29uc3Qgbj10aGlzLnBhaW50ZXIsaT10aGlzLnBhaW50ZXIuY29udGV4dCxyPXRoaXMucHJveHlTb3VyY2VDYWNoZSxvPXRoaXMucHJveGllZENvb3Jkc1tyLmlkXSxhPXRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXMuc2hpZnQoKSxzPVtdLGw9bi5zdHlsZS5vcmRlcjtsZXQgYz0wO2Zvcihjb25zdCB1IG9mIG8pe2NvbnN0IG89ci5nZXRUaWxlQnlJRCh1LnByb3h5VGlsZUtleSksaD1yLnByb3h5Q2FjaGVkRkJPW3Uua2V5XT9yLnByb3h5Q2FjaGVkRkJPW3Uua2V5XVt0XTp2b2lkIDAsZD12b2lkIDAhPT1oP3IucmVuZGVyQ2FjaGVbaF06dGhpcy5wb29sW2MrK10scD12b2lkIDAhPT1oO2lmKG8udGV4dHVyZT1kLnRleCxwJiYhZC5kaXJ0eSl7cy5wdXNoKG8udGlsZUlEKTtjb250aW51ZX1sZXQgZjtpLmJpbmRGcmFtZWJ1ZmZlci5zZXQoZC5mYi5mcmFtZWJ1ZmZlciksdGhpcy5yZW5kZXJlZFRvVGlsZT0hMSxkLmRpcnR5JiYoaS5jbGVhcih7Y29sb3I6ZS5Db2xvci50cmFuc3BhcmVudCxzdGVuY2lsOjB9KSxkLmRpcnR5PSExKTtmb3IobGV0IGU9YS5zdGFydDtlPD1hLmVuZDsrK2Upe2NvbnN0IHQ9bi5zdHlsZS5fbGF5ZXJzW2xbZV1dO2lmKHQuaXNIaWRkZW4obi50cmFuc2Zvcm0uem9vbSkpY29udGludWU7Y29uc3Qgcj1uLnN0eWxlLl9nZXRMYXllclNvdXJjZUNhY2hlKHQpLG89cj90aGlzLnByb3h5VG9Tb3VyY2VbdS5rZXldW3IuaWRdOlt1XTtpZighbyljb250aW51ZTtjb25zdCBhPW87aS52aWV3cG9ydC5zZXQoWzAsMCxkLmZiLndpZHRoLGQuZmIuaGVpZ2h0XSksZiE9PShyP3IuaWQ6bnVsbCkmJih0aGlzLl9zZXR1cFN0ZW5jaWwoZCxvLHQsciksZj1yP3IuaWQ6bnVsbCksbi5yZW5kZXJMYXllcihuLHIsdCxhKX10aGlzLnJlbmRlcmVkVG9UaWxlPyhkLmRpcnR5PSEwLHMucHVzaChvLnRpbGVJRCkpOnB8fC0tYyw1PT09YyYmKGM9MCx0aGlzLnJlbmRlclRvQmFja0J1ZmZlcihzKSl9cmV0dXJuIHRoaXMucmVuZGVyVG9CYWNrQnVmZmVyKHMpLHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSExLGkuYmluZEZyYW1lYnVmZmVyLnNldChudWxsKSxpLnZpZXdwb3J0LnNldChbMCwwLG4ud2lkdGgsbi5oZWlnaHRdKSxhLmVuZCsxfXBvc3RSZW5kZXIoKXt9cmVuZGVyQ2FjaGVFZmZpY2llbmN5KGUpe2NvbnN0IHQ9ZS5vcmRlci5sZW5ndGg7aWYoMD09PXQpcmV0dXJue2VmZmljaWVuY3k6MTAwfTtsZXQgbixpPTAscj0wLG89ITE7Zm9yKGxldCBhPTA7YTx0OysrYSl7Y29uc3QgdD1lLl9sYXllcnNbZS5vcmRlclthXV07dGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZCh0KT8obyYmKytpLCsrcik6b3x8KG89ITAsbj10LmlkKX1yZXR1cm4gMD09PXI/e2VmZmljaWVuY3k6MTAwfTp7ZWZmaWNpZW5jeToxMDAqKDEtaS9yKSxmaXJzdFVuZHJhcGVkTGF5ZXI6bn19Z2V0TWluRWxldmF0aW9uQmVsb3dNU0woKXtsZXQgZT0wO3JldHVybiB0aGlzLl92aXNpYmxlRGVtVGlsZXMuZmlsdGVyKGU9PmUuZGVtKS5mb3JFYWNoKHQ9PntlPU1hdGgubWluKGUsdC5kZW0udHJlZS5taW5pbXVtc1swXSl9KSwwPT09ZT9lOihlLTMwKSp0aGlzLl9leGFnZ2VyYXRpb259cmF5Y2FzdChlLHQsbil7aWYoIXRoaXMuX3Zpc2libGVEZW1UaWxlcylyZXR1cm4gbnVsbDtjb25zdCBpPXRoaXMuX3Zpc2libGVEZW1UaWxlcy5maWx0ZXIoZT0+ZS5kZW0pLm1hcChpPT57Y29uc3Qgcj1pLnRpbGVJRCxvPTE8PHIub3ZlcnNjYWxlZFose3g6YSx5OnN9PXIuY2Fub25pY2FsLGw9YS9vLGM9KGErMSkvbyx1PXMvbyxoPShzKzEpL287cmV0dXJue21pbng6bCxtaW55OnUsbWF4eDpjLG1heHk6aCx0OmkuZGVtLnRyZWUucmF5Y2FzdFJvb3QobCx1LGMsaCxlLHQsbiksdGlsZTppfX0pO2kuc29ydCgoZSx0KT0+KG51bGwhPT1lLnQ/ZS50Ok51bWJlci5NQVhfVkFMVUUpLShudWxsIT09dC50P3QudDpOdW1iZXIuTUFYX1ZBTFVFKSk7Zm9yKGNvbnN0IHIgb2YgaSl7aWYobnVsbD09ci50KXJldHVybiBudWxsO2NvbnN0IGk9ci50aWxlLmRlbS50cmVlLnJheWNhc3Qoci5taW54LHIubWlueSxyLm1heHgsci5tYXh5LGUsdCxuKTtpZihudWxsIT1pKXJldHVybiBpfXJldHVybiBudWxsfV9jcmVhdGVGQk8oKXtjb25zdCB0PXRoaXMucGFpbnRlci5jb250ZXh0LG49dC5nbCxpPXRoaXMuZHJhcGVCdWZmZXJTaXplO3QuYWN0aXZlVGV4dHVyZS5zZXQobi5URVhUVVJFMCk7Y29uc3Qgcj1uZXcgZS5UZXh0dXJlKHQse3dpZHRoOmlbMF0saGVpZ2h0OmlbMV0sZGF0YTpudWxsfSxuLlJHQkEpO3IuYmluZChuLkxJTkVBUixuLkNMQU1QX1RPX0VER0UpO2NvbnN0IG89dC5jcmVhdGVGcmFtZWJ1ZmZlcihpWzBdLGlbMV0sITEpO3JldHVybiBvLmNvbG9yQXR0YWNobWVudC5zZXQoci50ZXh0dXJlKSxvLmRlcHRoQXR0YWNobWVudD1uZXcgRWUodCxvLmZyYW1lYnVmZmVyKSx2b2lkIDA9PT10aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWw/KHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbD10LmNyZWF0ZVJlbmRlcmJ1ZmZlcih0LmdsLkRFUFRIX1NURU5DSUwsaVswXSxpWzFdKSx0aGlzLl9zdGVuY2lsUmVmPTAsby5kZXB0aEF0dGFjaG1lbnQuc2V0KHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbCksdC5jbGVhcih7c3RlbmNpbDowfSkpOm8uZGVwdGhBdHRhY2htZW50LnNldCh0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWwpLHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljJiYhdC5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNGb3JjZU9mZiYmbi50ZXhQYXJhbWV0ZXJmKG4uVEVYVFVSRV8yRCx0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCx0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCkse2ZiOm8sdGV4OnIsZGlydHk6ITF9fV9pbml0RkJPUG9vbCgpe2Zvcig7dGhpcy5wb29sLmxlbmd0aDxNYXRoLm1pbig1LHRoaXMucHJveHlDb29yZHMubGVuZ3RoKTspdGhpcy5wb29sLnB1c2godGhpcy5fY3JlYXRlRkJPKCkpfV9zaG91bGREaXNhYmxlUmVuZGVyQ2FjaGUoKXtpZih0aGlzLl9zdHlsZS5saWdodCYmdGhpcy5fc3R5bGUubGlnaHQuaGFzVHJhbnNpdGlvbigpKXJldHVybiEwO2Zvcihjb25zdCBlIGluIHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXMpaWYodGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlc1tlXS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuITA7cmV0dXJuIHRoaXMuX3N0eWxlLm9yZGVyLnNvbWUoZT0+e2NvbnN0IHQ9dGhpcy5fc3R5bGUuX2xheWVyc1tlXSxuPXQuaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKTtyZXR1cm5cImN1c3RvbVwiIT09dC50eXBlJiYhbiYmdC5oYXNUcmFuc2l0aW9uKCl9KX1fY2xlYXJSYXN0ZXJGYWRlRnJvbVJlbmRlckNhY2hlKCl7bGV0IGU9ITE7Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlcylpZih0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzW3RdLl9zb3VyY2UgaW5zdGFuY2VvZiBJZSl7ZT0hMDticmVha31pZihlKWZvcihsZXQgZT0wO2U8dGhpcy5fc3R5bGUub3JkZXIubGVuZ3RoOysrZSl7Y29uc3QgdD10aGlzLl9zdHlsZS5fbGF5ZXJzW3RoaXMuX3N0eWxlLm9yZGVyW2VdXSxuPXQuaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKSxpPXRoaXMuX3N0eWxlLl9nZXRMYXllclNvdXJjZUNhY2hlKHQpO2lmKFwicmFzdGVyXCIhPT10LnR5cGV8fG58fCFpKWNvbnRpbnVlO2NvbnN0IHI9dC5wYWludC5nZXQoXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiKTtmb3IoY29uc3QgZSBvZiB0aGlzLnByb3h5Q29vcmRzKXtjb25zdCB0PXRoaXMucHJveHlUb1NvdXJjZVtlLmtleV1baS5pZF07aWYodClmb3IoY29uc3QgZSBvZiB0KXtjb25zdCB0PUluKGkuZ2V0VGlsZShlKSxpLmZpbmRMb2FkZWRQYXJlbnQoZSwwKSxpLHRoaXMucGFpbnRlci50cmFuc2Zvcm0scik7KDEhPT10Lm9wYWNpdHl8fDAhPT10Lm1peCkmJnRoaXMuX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKGkuaWQsZSl9fX19X3NldHVwRHJhcGVkUmVuZGVyQmF0Y2hlcygpe2NvbnN0IGU9dGhpcy5fc3R5bGUub3JkZXIsdD1lLmxlbmd0aDtpZigwPT09dClyZXR1cm47Y29uc3Qgbj1bXTtsZXQgaSxyPTAsbz10aGlzLl9zdHlsZS5fbGF5ZXJzW2Vbcl1dO2Zvcig7IXRoaXMuX3N0eWxlLmlzTGF5ZXJEcmFwZWQobykmJm8uaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKSYmKytyPHQ7KW89dGhpcy5fc3R5bGUuX2xheWVyc1tlW3JdXTtmb3IoO3I8dDsrK3Ipe2NvbnN0IHQ9dGhpcy5fc3R5bGUuX2xheWVyc1tlW3JdXTt0LmlzSGlkZGVuKHRoaXMucGFpbnRlci50cmFuc2Zvcm0uem9vbSl8fCh0aGlzLl9zdHlsZS5pc0xheWVyRHJhcGVkKHQpP3ZvaWQgMD09PWkmJihpPXIpOnZvaWQgMCE9PWkmJihuLnB1c2goe3N0YXJ0OmksZW5kOnItMX0pLGk9dm9pZCAwKSl9dm9pZCAwIT09aSYmbi5wdXNoKHtzdGFydDppLGVuZDpyLTF9KSx0aGlzLl9kcmFwZWRSZW5kZXJCYXRjaGVzPW59X3NldHVwUmVuZGVyQ2FjaGUoZSl7Y29uc3QgdD10aGlzLnByb3h5U291cmNlQ2FjaGU7aWYodGhpcy5fc2hvdWxkRGlzYWJsZVJlbmRlckNhY2hlKCl8fHRoaXMuX2ludmFsaWRhdGVSZW5kZXJDYWNoZSl7aWYodGhpcy5faW52YWxpZGF0ZVJlbmRlckNhY2hlPSExLHQucmVuZGVyQ2FjaGUubGVuZ3RoPnQucmVuZGVyQ2FjaGVQb29sLmxlbmd0aCl7Y29uc3QgZT1PYmplY3QudmFsdWVzKHQucHJveHlDYWNoZWRGQk8pO3QucHJveHlDYWNoZWRGQk89e307Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDsrK24pe2NvbnN0IGk9T2JqZWN0LnZhbHVlcyhlW25dKTt0LnJlbmRlckNhY2hlUG9vbC5wdXNoKC4uLmkpfX1yZXR1cm59dGhpcy5fY2xlYXJSYXN0ZXJGYWRlRnJvbVJlbmRlckNhY2hlKCk7Y29uc3Qgbj10aGlzLnByb3h5Q29vcmRzLGk9dGhpcy5fdGlsZXNEaXJ0eTtmb3IobGV0IHI9bi5sZW5ndGgtMTtyPj0wO3ItLSl7Y29uc3Qgbz1uW3JdO2lmKHQuZ2V0VGlsZUJ5SUQoby5rZXkpLHZvaWQgMCE9PXQucHJveHlDYWNoZWRGQk9bby5rZXldKXtjb25zdCBuPWVbby5rZXldLHI9dGhpcy5wcm94eVRvU291cmNlW28ua2V5XTtsZXQgYT0wO2Zvcihjb25zdCBlIGluIHIpe2NvbnN0IHQ9cltlXSxvPW5bZV07aWYoIW98fG8ubGVuZ3RoIT09dC5sZW5ndGh8fHQuc29tZSgodCxuKT0+dCE9PW9bbl18fGlbZV0mJmlbZV0uaGFzT3duUHJvcGVydHkodC5rZXkpKSl7YT0tMTticmVha30rK2F9Zm9yKGNvbnN0IGUgaW4gdC5wcm94eUNhY2hlZEZCT1tvLmtleV0pdC5yZW5kZXJDYWNoZVt0LnByb3h5Q2FjaGVkRkJPW28ua2V5XVtlXV0uZGlydHk9YTwwfHxhIT09T2JqZWN0LnZhbHVlcyhuKS5sZW5ndGh9fWNvbnN0IHI9Wy4uLnRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXNdO3Iuc29ydCgoZSx0KT0+dC5lbmQtdC5zdGFydC0oZS5lbmQtZS5zdGFydCkpO2Zvcihjb25zdCBlIG9mIHIpZm9yKGNvbnN0IGkgb2Ygbil7aWYodC5wcm94eUNhY2hlZEZCT1tpLmtleV0pY29udGludWU7bGV0IG49dC5yZW5kZXJDYWNoZVBvb2wucG9wKCk7dm9pZCAwPT09biYmdC5yZW5kZXJDYWNoZS5sZW5ndGg8NTAmJihuPXQucmVuZGVyQ2FjaGUubGVuZ3RoLHQucmVuZGVyQ2FjaGUucHVzaCh0aGlzLl9jcmVhdGVGQk8oKSkpLHZvaWQgMCE9PW4mJih0LnByb3h5Q2FjaGVkRkJPW2kua2V5XT17fSx0LnByb3h5Q2FjaGVkRkJPW2kua2V5XVtlLnN0YXJ0XT1uLHQucmVuZGVyQ2FjaGVbbl0uZGlydHk9ITApfXRoaXMuX3RpbGVzRGlydHk9e319X3NldHVwU3RlbmNpbChlLHQsbixpKXtpZighaXx8IXRoaXMuX3NvdXJjZVRpbGVzT3ZlcmxhcFtpLmlkXSlyZXR1cm4gdm9pZCh0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGUmJih0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9ITEpKTtjb25zdCByPXRoaXMucGFpbnRlci5jb250ZXh0LG89ci5nbDtpZih0Lmxlbmd0aDw9MSlyZXR1cm4gdm9pZCh0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9ITEpO2xldCBhO2lmKG4uaXNUaWxlQ2xpcHBlZCgpKWE9dC5sZW5ndGgsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnRlc3Q9e2Z1bmM6by5FUVVBTCxtYXNrOjI1NX0sdGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPVwiQ2xpcFwiO2Vsc2V7aWYoISh0WzBdLm92ZXJzY2FsZWRaPnRbdC5sZW5ndGgtMV0ub3ZlcnNjYWxlZFopKXJldHVybiB2b2lkKHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT0hMSk7YT0xLHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZS50ZXN0PXtmdW5jOm8uR1JFQVRFUixtYXNrOjI1NX0sdGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPVwiTWFza1wifXRoaXMuX3N0ZW5jaWxSZWYrYT4yNTUmJihyLmNsZWFyKHtzdGVuY2lsOjB9KSx0aGlzLl9zdGVuY2lsUmVmPTApLHRoaXMuX3N0ZW5jaWxSZWYrPWEsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZj10aGlzLl9zdGVuY2lsUmVmLG4uaXNUaWxlQ2xpcHBlZCgpJiZ0aGlzLl9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyh0LHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZS5yZWYpfWNsaXBPck1hc2tPdmVybGFwU3RlbmNpbFR5cGUoKXtyZXR1cm5cIkNsaXBcIj09PXRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZXx8XCJNYXNrXCI9PT10aGlzLl9vdmVybGFwU3RlbmNpbFR5cGV9c3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwKHQpe3JldHVybiB0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZSYmdGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPyhcIkNsaXBcIj09PXRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZSYmKHRoaXMuX292ZXJsYXBTdGVuY2lsTW9kZS5yZWY9dGhpcy5wYWludGVyLl90aWxlQ2xpcHBpbmdNYXNrSURzW3Qua2V5XSksdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlKTplLlN0ZW5jaWxNb2RlLmRpc2FibGVkfV9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyh0LG4pe2NvbnN0IGk9dGhpcy5wYWludGVyLHI9dGhpcy5wYWludGVyLmNvbnRleHQsbz1yLmdsO2kuX3RpbGVDbGlwcGluZ01hc2tJRHM9e30sci5zZXRDb2xvck1vZGUoZS5Db2xvck1vZGUuZGlzYWJsZWQpLHIuc2V0RGVwdGhNb2RlKGUuRGVwdGhNb2RlLmRpc2FibGVkKTtjb25zdCBhPWkudXNlUHJvZ3JhbShcImNsaXBwaW5nTWFza1wiKTtmb3IoY29uc3QgcyBvZiB0KXtjb25zdCB0PWkuX3RpbGVDbGlwcGluZ01hc2tJRHNbcy5rZXldPS0tbjthLmRyYXcocixvLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxuZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzpvLkFMV0FZUyxtYXNrOjB9LHQsMjU1LG8uS0VFUCxvLktFRVAsby5SRVBMQUNFKSxlLkNvbG9yTW9kZS5kaXNhYmxlZCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxNbihzLnByb2pNYXRyaXgpLFwiJGNsaXBwaW5nXCIsaS50aWxlRXh0ZW50QnVmZmVyLGkucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsaS50aWxlRXh0ZW50U2VnbWVudHMpfX1wb2ludENvb3JkaW5hdGUodCl7Y29uc3Qgbj10aGlzLnBhaW50ZXIudHJhbnNmb3JtO2lmKHQueDwwfHx0Lng+bi53aWR0aHx8dC55PDB8fHQueT5uLmhlaWdodClyZXR1cm4gbnVsbDtjb25zdCBpPVt0LngsdC55LDEsMV07ZS50cmFuc2Zvcm1NYXQ0JDEoaSxpLG4ucGl4ZWxNYXRyaXhJbnZlcnNlKSxlLnNjYWxlJDEoaSxpLDEvaVszXSksaVswXS89bi53b3JsZFNpemUsaVsxXS89bi53b3JsZFNpemU7Y29uc3Qgcj1uLl9jYW1lcmEucG9zaXRpb24sbz1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLG4uY2VudGVyLmxhdCksYT1bclswXSxyWzFdLHJbMl0vbywwXSxzPWUuc3VidHJhY3QoW10saS5zbGljZSgwLDMpLGEpO2Uubm9ybWFsaXplKHMscyk7Y29uc3QgbD10aGlzLnJheWNhc3QoYSxzLHRoaXMuX2V4YWdnZXJhdGlvbik7cmV0dXJuIG51bGwhPT1sJiZsPyhlLnNjYWxlQW5kQWRkKGEsYSxzLGwpLGFbM109YVsyXSxhWzJdKj1vLGEpOm51bGx9ZHJhd0RlcHRoKCl7Y29uc3QgdD10aGlzLnBhaW50ZXIsbj10LmNvbnRleHQsaT10aGlzLnByb3h5U291cmNlQ2FjaGUscj1NYXRoLmNlaWwodC53aWR0aCksbz1NYXRoLmNlaWwodC5oZWlnaHQpO2lmKCF0aGlzLl9kZXB0aEZCT3x8dGhpcy5fZGVwdGhGQk8ud2lkdGg9PT1yJiZ0aGlzLl9kZXB0aEZCTy5oZWlnaHQ9PT1vfHwodGhpcy5fZGVwdGhGQk8uZGVzdHJveSgpLHRoaXMuX2RlcHRoRkJPPXZvaWQgMCx0aGlzLl9kZXB0aFRleHR1cmU9dm9pZCAwKSwhdGhpcy5fZGVwdGhGQk8pe2NvbnN0IHQ9bi5nbCxpPW4uY3JlYXRlRnJhbWVidWZmZXIocixvLCEwKTtuLmFjdGl2ZVRleHR1cmUuc2V0KHQuVEVYVFVSRTApO2NvbnN0IGE9bmV3IGUuVGV4dHVyZShuLHt3aWR0aDpyLGhlaWdodDpvLGRhdGE6bnVsbH0sdC5SR0JBKTthLmJpbmQodC5ORUFSRVNULHQuQ0xBTVBfVE9fRURHRSksaS5jb2xvckF0dGFjaG1lbnQuc2V0KGEudGV4dHVyZSk7Y29uc3Qgcz1uLmNyZWF0ZVJlbmRlcmJ1ZmZlcihuLmdsLkRFUFRIX0NPTVBPTkVOVDE2LHIsbyk7aS5kZXB0aEF0dGFjaG1lbnQuc2V0KHMpLHRoaXMuX2RlcHRoRkJPPWksdGhpcy5fZGVwdGhUZXh0dXJlPWF9bi5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMuX2RlcHRoRkJPLmZyYW1lYnVmZmVyKSxuLnZpZXdwb3J0LnNldChbMCwwLHIsb10pLGZ1bmN0aW9uKHQsbixpLHIpe2lmKFwiZ2xvYmVcIj09PXQudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSlyZXR1cm47Y29uc3Qgbz10LmNvbnRleHQsYT1vLmdsO28uY2xlYXIoe2RlcHRoOjF9KTtjb25zdCBzPXQudXNlUHJvZ3JhbShcInRlcnJhaW5EZXB0aFwiKSxsPW5ldyBlLkRlcHRoTW9kZShhLkxFU1MsZS5EZXB0aE1vZGUuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTtmb3IoY29uc3QgdCBvZiByKXtjb25zdCByPWkuZ2V0VGlsZSh0KSxjPXhuKHQucHJvak1hdHJpeCwwKTtuLnNldHVwRWxldmF0aW9uRHJhdyhyLHMpLHMuZHJhdyhvLGEuVFJJQU5HTEVTLGwsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxlLkNvbG9yTW9kZS51bmJsZW5kZWQsZS5DdWxsRmFjZU1vZGUuYmFja0NDVyxjLFwidGVycmFpbl9kZXB0aFwiLG4uZ3JpZEJ1ZmZlcixuLmdyaWRJbmRleEJ1ZmZlcixuLmdyaWROb1NraXJ0U2VnbWVudHMpfX0odCx0aGlzLGksdGhpcy5wcm94eUNvb3Jkcyl9X3NldHVwUHJveGllZENvb3Jkc0Zvck9ydGhvKGUsdCxuKXtpZihlLmdldFNvdXJjZSgpaW5zdGFuY2VvZiBBZSlyZXR1cm4gdGhpcy5fc2V0dXBQcm94aWVkQ29vcmRzRm9ySW1hZ2VTb3VyY2UoZSx0LG4pO3RoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtlLmlkXT10aGlzLl9maW5kQ292ZXJpbmdUaWxlQ2FjaGVbZS5pZF18fHt9O2NvbnN0IGk9dGhpcy5wcm94aWVkQ29vcmRzW2UuaWRdPVtdLHI9dGhpcy5wcm94eUNvb3Jkcztmb3IobGV0IHQ9MDt0PHIubGVuZ3RoO3QrKyl7Y29uc3Qgbz1yW3RdLGE9dGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRChvLGUpO2lmKGEpe2NvbnN0IHQ9dGhpcy5fY3JlYXRlUHJveGllZElkKG8sYSxuW28ua2V5XSYmbltvLmtleV1bZS5pZF0pO2kucHVzaCh0KSx0aGlzLnByb3h5VG9Tb3VyY2Vbby5rZXldW2UuaWRdPVt0XX19bGV0IG89ITE7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IGE9ZS5nZXRUaWxlKHRbcl0pO2lmKCFhfHwhYS5oYXNEYXRhKCkpY29udGludWU7Y29uc3Qgcz10aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKGEudGlsZUlELHRoaXMucHJveHlTb3VyY2VDYWNoZSk7aWYocyYmcy50aWxlSUQuY2Fub25pY2FsLnohPT1hLnRpbGVJRC5jYW5vbmljYWwueil7Y29uc3QgdD10aGlzLnByb3h5VG9Tb3VyY2Vbcy50aWxlSUQua2V5XVtlLmlkXSxyPXRoaXMuX2NyZWF0ZVByb3hpZWRJZChzLnRpbGVJRCxhLG5bcy50aWxlSUQua2V5XSYmbltzLnRpbGVJRC5rZXldW2UuaWRdKTt0P3Quc3BsaWNlKHQubGVuZ3RoLTEsMCxyKTp0aGlzLnByb3h5VG9Tb3VyY2Vbcy50aWxlSUQua2V5XVtlLmlkXT1bcl0saS5wdXNoKHIpLG89ITB9fXRoaXMuX3NvdXJjZVRpbGVzT3ZlcmxhcFtlLmlkXT1vfV9zZXR1cFByb3hpZWRDb29yZHNGb3JJbWFnZVNvdXJjZSh0LG4saSl7aWYoIXQuZ2V0U291cmNlKCkubG9hZGVkKCkpcmV0dXJuO2NvbnN0IHI9dGhpcy5wcm94aWVkQ29vcmRzW3QuaWRdPVtdLG89dGhpcy5wcm94eUNvb3JkcyxhPXQuZ2V0U291cmNlKCkscz1uZXcgZS5wb2ludEdlb21ldHJ5KGEudGlsZUlELngsYS50aWxlSUQueSkuX2RpdigxPDxhLnRpbGVJRC56KSxsPWEuY29vcmRpbmF0ZXMubWFwKGUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQpLnJlZHVjZSgoZSx0KT0+KGUubWluLng9TWF0aC5taW4oZS5taW4ueCx0Lngtcy54KSxlLm1pbi55PU1hdGgubWluKGUubWluLnksdC55LXMueSksZS5tYXgueD1NYXRoLm1heChlLm1heC54LHQueC1zLngpLGUubWF4Lnk9TWF0aC5tYXgoZS5tYXgueSx0Lnktcy55KSxlKSx7bWluOm5ldyBlLnBvaW50R2VvbWV0cnkoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxtYXg6bmV3IGUucG9pbnRHZW9tZXRyeSgtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSl9KSxjPSh0LG4pPT57Y29uc3QgaT10LndyYXArdC5jYW5vbmljYWwueC8oMTw8dC5jYW5vbmljYWwueikscj10LmNhbm9uaWNhbC55LygxPDx0LmNhbm9uaWNhbC56KSxvPWUuRVhURU5ULygxPDx0LmNhbm9uaWNhbC56KSxhPW4ud3JhcCtuLmNhbm9uaWNhbC54LygxPDxuLmNhbm9uaWNhbC56KSxzPW4uY2Fub25pY2FsLnkvKDE8PG4uY2Fub25pY2FsLnopO3JldHVybiBpK288YStsLm1pbi54fHxpPmErbC5tYXgueHx8citvPHMrbC5taW4ueXx8cj5zK2wubWF4Lnl9O2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXtjb25zdCBhPW9bZV07Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspe2NvbnN0IG89dC5nZXRUaWxlKG5bZV0pO2lmKCFvfHwhby5oYXNEYXRhKCkpY29udGludWU7aWYoYyhhLG8udGlsZUlEKSljb250aW51ZTtjb25zdCBzPXRoaXMuX2NyZWF0ZVByb3hpZWRJZChhLG8saVthLmtleV0mJmlbYS5rZXldW3QuaWRdKSxsPXRoaXMucHJveHlUb1NvdXJjZVthLmtleV1bdC5pZF07bD9sLnB1c2gocyk6dGhpcy5wcm94eVRvU291cmNlW2Eua2V5XVt0LmlkXT1bc10sci5wdXNoKHMpfX19X2NyZWF0ZVByb3hpZWRJZCh0LG4saSl7bGV0IHI9dGhpcy5vcnRob01hdHJpeDtpZihpKXtjb25zdCBlPWkuZmluZChlPT5lLmtleT09PW4udGlsZUlELmtleSk7aWYoZSlyZXR1cm4gZX1pZihuLnRpbGVJRC5rZXkhPT10LmtleSl7Y29uc3QgaT10LmNhbm9uaWNhbC56LW4udGlsZUlELmNhbm9uaWNhbC56O2xldCBvLGEscztyPWUuY3JlYXRlKCk7Y29uc3QgbD1uLnRpbGVJRC53cmFwLXQud3JhcDw8dC5vdmVyc2NhbGVkWjtpPjA/KG89ZS5FWFRFTlQ+PmksYT1vKigobi50aWxlSUQuY2Fub25pY2FsLng8PGkpLXQuY2Fub25pY2FsLngrbCkscz1vKigobi50aWxlSUQuY2Fub25pY2FsLnk8PGkpLXQuY2Fub25pY2FsLnkpKToobz1lLkVYVEVOVDw8LWksYT1lLkVYVEVOVCoobi50aWxlSUQuY2Fub25pY2FsLngtKHQuY2Fub25pY2FsLngrbDw8LWkpKSxzPWUuRVhURU5UKihuLnRpbGVJRC5jYW5vbmljYWwueS0odC5jYW5vbmljYWwueTw8LWkpKSksZS5vcnRobyhyLDAsbywwLG8sMCwxKSxlLnRyYW5zbGF0ZShyLHIsW2EscywwXSl9cmV0dXJuIG5ldyBBbihuLnRpbGVJRCx0LmtleSxyKX1fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRCh0LG4pe2xldCBpPW4uZ2V0VGlsZSh0KTtpZihpJiZpLmhhc0RhdGEoKSlyZXR1cm4gaTtjb25zdCByPXRoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtuLmlkXSxvPXJbdC5rZXldO2lmKGk9bz9uLmdldFRpbGVCeUlEKG8pOm51bGwsaSYmaS5oYXNEYXRhKCl8fG51bGw9PT1vKXJldHVybiBpO2xldCBhPWk/aS50aWxlSUQ6dCxzPWEub3ZlcnNjYWxlZFo7Y29uc3QgbD1uLmdldFNvdXJjZSgpLm1pbnpvb20sYz1bXTtpZighbyl7Y29uc3Qgcj1uLmdldFNvdXJjZSgpLm1heHpvb207aWYodC5jYW5vbmljYWwuej49cil7Y29uc3QgaT10LmNhbm9uaWNhbC56LXI7bi5nZXRTb3VyY2UoKS5yZXBhcnNlT3ZlcnNjYWxlZD8ocz1NYXRoLm1heCh0LmNhbm9uaWNhbC56KzIsbi50cmFuc2Zvcm0udGlsZVpvb20pLGE9bmV3IGUuT3ZlcnNjYWxlZFRpbGVJRChzLHQud3JhcCxyLHQuY2Fub25pY2FsLng+PmksdC5jYW5vbmljYWwueT4+aSkpOjAhPT1pJiYocz1yLGE9bmV3IGUuT3ZlcnNjYWxlZFRpbGVJRChzLHQud3JhcCxyLHQuY2Fub25pY2FsLng+PmksdC5jYW5vbmljYWwueT4+aSkpfWEua2V5IT09dC5rZXkmJihjLnB1c2goYS5rZXkpLGk9bi5nZXRUaWxlKGEpKX1jb25zdCB1PWU9PntjLmZvckVhY2godD0+e3JbdF09ZX0pLGMubGVuZ3RoPTB9O2ZvcihzLT0xO3M+PWwmJighaXx8IWkuaGFzRGF0YSgpKTtzLS0pe2kmJnUoaS50aWxlSUQua2V5KTtjb25zdCBlPWEuY2FsY3VsYXRlU2NhbGVkS2V5KHMpO2lmKGk9bi5nZXRUaWxlQnlJRChlKSxpJiZpLmhhc0RhdGEoKSlicmVhaztjb25zdCB0PXJbZV07aWYobnVsbD09PXQpYnJlYWs7dm9pZCAwPT09dD9jLnB1c2goZSk6aT1uLmdldFRpbGVCeUlEKHQpfXJldHVybiB1KGk/aS50aWxlSUQua2V5Om51bGwpLGkmJmkuaGFzRGF0YSgpP2k6bnVsbH1maW5kREVNVGlsZUZvcihlKXtyZXR1cm4gdGhpcy5lbmFibGVkP3RoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQoZSx0aGlzLnNvdXJjZUNhY2hlKTpudWxsfXByZXBhcmVEcmF3VGlsZSgpe3RoaXMucmVuZGVyZWRUb1RpbGU9ITB9X2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKGUsdCl7bGV0IG49dGhpcy5fdGlsZXNEaXJ0eVtlXTtufHwobj10aGlzLl90aWxlc0RpcnR5W2VdPXt9KSxuW3Qua2V5XT0hMH1nZXRXaXJlZmFtZUJ1ZmZlcigpe2lmKCF0aGlzLndpcmVmcmFtZVNlZ21lbnRzKXtjb25zdCB0PWZ1bmN0aW9uKHQpe2xldCBuPTA7Y29uc3QgaT1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDJ1aTQscj0xMzE7Zm9yKGxldCBlPTE7ZTwxMjk7ZSsrKXtmb3IobGV0IHQ9MTt0PDEyOTt0Kyspbj1lKnIrdCxpLmVtcGxhY2VCYWNrKG4sbisxKSxpLmVtcGxhY2VCYWNrKG4sbityKSxpLmVtcGxhY2VCYWNrKG4rMSxuK3IpLDEyOD09PWUmJmkuZW1wbGFjZUJhY2sobityLG4rcisxKTtpLmVtcGxhY2VCYWNrKG4rMSxuKzErcil9cmV0dXJuIGl9KCk7dGhpcy53aXJlZnJhbWVJbmRleEJ1ZmZlcj10aGlzLnBhaW50ZXIuY29udGV4dC5jcmVhdGVJbmRleEJ1ZmZlcih0KSx0aGlzLndpcmVmcmFtZVNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCx0aGlzLmdyaWRCdWZmZXIubGVuZ3RoLHQubGVuZ3RoKX1yZXR1cm5bdGhpcy53aXJlZnJhbWVJbmRleEJ1ZmZlcix0aGlzLndpcmVmcmFtZVNlZ21lbnRzXX19Y2xhc3Mgem57c3RhdGljIGNhY2hlS2V5KGUsdCxuLGkpe2xldCByPWAke3R9JHtpP2kuY2FjaGVLZXk6XCJcIn1gO2Zvcihjb25zdCB0IG9mIG4pZS51c2VkRGVmaW5lcy5pbmNsdWRlcyh0KSYmKHIrPVwiL1wiK3QpO3JldHVybiByfWNvbnN0cnVjdG9yKHQsbixpLHIsbyxhKXtjb25zdCBzPXQuZ2w7dGhpcy5wcm9ncmFtPXMuY3JlYXRlUHJvZ3JhbSgpO2NvbnN0IGw9ZnVuY3Rpb24oZSl7Y29uc3QgdD1bXTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7aWYobnVsbD09PWVbbl0pY29udGludWU7Y29uc3QgaT1lW25dLnNwbGl0KFwiIFwiKTt0LnB1c2goaS5wb3AoKSl9cmV0dXJuIHR9KGkuc3RhdGljQXR0cmlidXRlcyksYz1yP3IuZ2V0QmluZGVyQXR0cmlidXRlcygpOltdLHU9bC5jb25jYXQoYyk7bGV0IGg9cj9yLmRlZmluZXMoKTpbXTtoPWguY29uY2F0KGEubWFwKGU9PlwiI2RlZmluZSBcIitlKSk7Y29uc3QgZD1oLmNvbmNhdCh0LmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXM/XCIjZXh0ZW5zaW9uIEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyA6IGVuYWJsZVxcblwiLmNvbmNhdCh1bik6dW4sdW4sY24sbG4uZnJhZ21lbnRTb3VyY2UsYW4uZnJhZ21lbnRTb3VyY2UsaS5mcmFnbWVudFNvdXJjZSkuam9pbihcIlxcblwiKSxwPWguY29uY2F0KFwiXFxuI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNlbHNlXFxuXFxuI2lmICFkZWZpbmVkKGxvd3ApXFxuI2RlZmluZSBsb3dwXFxuI2VuZGlmXFxuXFxuI2lmICFkZWZpbmVkKG1lZGl1bXApXFxuI2RlZmluZSBtZWRpdW1wXFxuI2VuZGlmXFxuXFxuI2lmICFkZWZpbmVkKGhpZ2hwKVxcbiNkZWZpbmUgaGlnaHBcXG4jZW5kaWZcXG5cXG4jZW5kaWZcIixjbixsbi52ZXJ0ZXhTb3VyY2UsYW4udmVydGV4U291cmNlLG9uLnZlcnRleFNvdXJjZSxpLnZlcnRleFNvdXJjZSkuam9pbihcIlxcblwiKSxmPXMuY3JlYXRlU2hhZGVyKHMuRlJBR01FTlRfU0hBREVSKTtpZihzLmlzQ29udGV4dExvc3QoKSlyZXR1cm4gdm9pZCh0aGlzLmZhaWxlZFRvQ3JlYXRlPSEwKTtzLnNoYWRlclNvdXJjZShmLGQpLHMuY29tcGlsZVNoYWRlcihmKSxzLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sZik7Y29uc3QgbT1zLmNyZWF0ZVNoYWRlcihzLlZFUlRFWF9TSEFERVIpO2lmKHMuaXNDb250ZXh0TG9zdCgpKXRoaXMuZmFpbGVkVG9DcmVhdGU9ITA7ZWxzZXtzLnNoYWRlclNvdXJjZShtLHApLHMuY29tcGlsZVNoYWRlcihtKSxzLmF0dGFjaFNoYWRlcih0aGlzLnByb2dyYW0sbSksdGhpcy5hdHRyaWJ1dGVzPXt9LHRoaXMubnVtQXR0cmlidXRlcz11Lmxlbmd0aDtmb3IobGV0IGU9MDtlPHRoaXMubnVtQXR0cmlidXRlcztlKyspdVtlXSYmKHMuYmluZEF0dHJpYkxvY2F0aW9uKHRoaXMucHJvZ3JhbSxlLHVbZV0pLHRoaXMuYXR0cmlidXRlc1t1W2VdXT1lKTtzLmxpbmtQcm9ncmFtKHRoaXMucHJvZ3JhbSkscy5kZWxldGVTaGFkZXIobSkscy5kZWxldGVTaGFkZXIoZiksdGhpcy5maXhlZFVuaWZvcm1zPW8odCksdGhpcy5iaW5kZXJVbmlmb3Jtcz1yP3IuZ2V0VW5pZm9ybXModCk6W10sYS5pbmNsdWRlcyhcIlRFUlJBSU5cIikmJih0aGlzLnRlcnJhaW5Vbmlmb3Jtcz0odD0+KHt1X2RlbTpuZXcgZS5Vbmlmb3JtMWkodCksdV9kZW1fcHJldjpuZXcgZS5Vbmlmb3JtMWkodCksdV9kZW1fdW5wYWNrOm5ldyBlLlVuaWZvcm00Zih0KSx1X2RlbV90bDpuZXcgZS5Vbmlmb3JtMmYodCksdV9kZW1fc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZGVtX3RsX3ByZXY6bmV3IGUuVW5pZm9ybTJmKHQpLHVfZGVtX3NjYWxlX3ByZXY6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZGVtX3NpemU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZGVtX2xlcnA6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZXhhZ2dlcmF0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2RlcHRoOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2RlcHRoX3NpemVfaW52Om5ldyBlLlVuaWZvcm0yZih0KSx1X21ldGVyX3RvX2RlbTpuZXcgZS5Vbmlmb3JtMWYodCksdV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KX0pKSh0KSksYS5pbmNsdWRlcyhcIkdMT0JFXCIpJiYodGhpcy5nbG9iZVVuaWZvcm1zPSh0PT4oe3VfdGlsZV90bF91cDpuZXcgZS5Vbmlmb3JtM2YodCksdV90aWxlX3RyX3VwOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfYnJfdXA6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdGlsZV9ibF91cDpuZXcgZS5Vbmlmb3JtM2YodCksdV90aWxlX3VwX3NjYWxlOm5ldyBlLlVuaWZvcm0xZih0KX0pKSh0KSksYS5pbmNsdWRlcyhcIkZPR1wiKSYmKHRoaXMuZm9nVW5pZm9ybXM9KHQ9Pih7dV9mb2dfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ZvZ19yYW5nZTpuZXcgZS5Vbmlmb3JtMmYodCksdV9mb2dfY29sb3I6bmV3IGUuVW5pZm9ybTRmKHQpLHVfZm9nX2hvcml6b25fYmxlbmQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZm9nX3RlbXBvcmFsX29mZnNldDpuZXcgZS5Vbmlmb3JtMWYodCksdV9mcnVzdHVtX3RsOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fdHI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV9icjpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX2JsOm5ldyBlLlVuaWZvcm0zZih0KSx1X2dsb2JlX3BvczpuZXcgZS5Vbmlmb3JtM2YodCksdV9nbG9iZV9yYWRpdXM6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZ2xvYmVfdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9pc19nbG9iZTpuZXcgZS5Vbmlmb3JtMWkodCksdV92aWV3cG9ydDpuZXcgZS5Vbmlmb3JtMmYodCl9KSkodCkpfX1zZXRUZXJyYWluVW5pZm9ybVZhbHVlcyhlLHQpe2lmKCF0aGlzLnRlcnJhaW5Vbmlmb3JtcylyZXR1cm47Y29uc3Qgbj10aGlzLnRlcnJhaW5Vbmlmb3JtcztpZighdGhpcy5mYWlsZWRUb0NyZWF0ZSl7ZS5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pO2Zvcihjb25zdCBlIGluIHQpbltlXSYmbltlXS5zZXQodGhpcy5wcm9ncmFtLGUsdFtlXSl9fXNldEdsb2JlVW5pZm9ybVZhbHVlcyhlLHQpe2lmKCF0aGlzLmdsb2JlVW5pZm9ybXMpcmV0dXJuO2NvbnN0IG49dGhpcy5nbG9iZVVuaWZvcm1zO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7Zm9yKGNvbnN0IGUgaW4gdCluW2VdJiZuW2VdLnNldCh0aGlzLnByb2dyYW0sZSx0W2VdKX19c2V0Rm9nVW5pZm9ybVZhbHVlcyhlLHQpe2lmKCF0aGlzLmZvZ1VuaWZvcm1zKXJldHVybjtjb25zdCBuPXRoaXMuZm9nVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KW5bZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pfX1kcmF3KGUsdCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmKXtjb25zdCBtPWUuZ2w7aWYodGhpcy5mYWlsZWRUb0NyZWF0ZSlyZXR1cm47ZS5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pLGUuc2V0RGVwdGhNb2RlKG4pLGUuc2V0U3RlbmNpbE1vZGUoaSksZS5zZXRDb2xvck1vZGUociksZS5zZXRDdWxsRmFjZShvKTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyh0aGlzLmZpeGVkVW5pZm9ybXMpKXRoaXMuZml4ZWRVbmlmb3Jtc1tlXS5zZXQodGhpcy5wcm9ncmFtLGUsYVtlXSk7cCYmcC5zZXRVbmlmb3Jtcyh0aGlzLnByb2dyYW0sZSx0aGlzLmJpbmRlclVuaWZvcm1zLGgse3pvb206ZH0pO2NvbnN0IGc9e1ttLkxJTkVTXToyLFttLlRSSUFOR0xFU106MyxbbS5MSU5FX1NUUklQXToxfVt0XTtmb3IoY29uc3QgbiBvZiB1LmdldCgpKXtjb25zdCBpPW4udmFvc3x8KG4udmFvcz17fSk7KGlbc118fChpW3NdPW5ldyBmbikpLmJpbmQoZSx0aGlzLGwscD9wLmdldFBhaW50VmVydGV4QnVmZmVycygpOltdLGMsbi52ZXJ0ZXhPZmZzZXQsZnx8W10pLG0uZHJhd0VsZW1lbnRzKHQsbi5wcmltaXRpdmVMZW5ndGgqZyxtLlVOU0lHTkVEX1NIT1JULG4ucHJpbWl0aXZlT2Zmc2V0KmcqMil9fX1mdW5jdGlvbiBEbihlLHQpe2NvbnN0IG49TWF0aC5wb3coMix0LnRpbGVJRC5vdmVyc2NhbGVkWiksaT10LnRpbGVTaXplKk1hdGgucG93KDIsZS50cmFuc2Zvcm0udGlsZVpvb20pL24scj1pKih0LnRpbGVJRC5jYW5vbmljYWwueCt0LnRpbGVJRC53cmFwKm4pLG89aSp0LnRpbGVJRC5jYW5vbmljYWwueTtyZXR1cm57dV9pbWFnZTowLHVfdGV4c2l6ZTp0LmltYWdlQXRsYXNUZXh0dXJlLnNpemUsdV90aWxlX3VuaXRzX3RvX3BpeGVsczoxL0QodCwxLGUudHJhbnNmb3JtLnRpbGVab29tKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOltyPj4xNixvPj4xNl0sdV9waXhlbF9jb29yZF9sb3dlcjpbNjU1MzUmciw2NTUzNSZvXX19Y29uc3QgTG49ZS5jcmVhdGUoKSxPbj0odCxuLGkscixvLGEscyxsLGMsdSxoKT0+e2NvbnN0IGQ9bi5zdHlsZS5saWdodCxwPWQucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKSxmPVtwLngscC55LHAuel0sbT1lLmNyZWF0ZSQxKCk7XCJ2aWV3cG9ydFwiPT09ZC5wcm9wZXJ0aWVzLmdldChcImFuY2hvclwiKSYmKGUuZnJvbVJvdGF0aW9uKG0sLW4udHJhbnNmb3JtLmFuZ2xlKSxlLnRyYW5zZm9ybU1hdDMoZixmLG0pKTtjb25zdCBnPWQucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKSx5PW4udHJhbnNmb3JtLF89e3VfbWF0cml4OnQsdV9saWdodHBvczpmLHVfbGlnaHRpbnRlbnNpdHk6ZC5wcm9wZXJ0aWVzLmdldChcImludGVuc2l0eVwiKSx1X2xpZ2h0Y29sb3I6W2cucixnLmcsZy5iXSx1X3ZlcnRpY2FsX2dyYWRpZW50OitpLHVfb3BhY2l0eTpyLHVfdGlsZV9pZDpbMCwwLDBdLHVfem9vbV90cmFuc2l0aW9uOjAsdV9pbnZfcm90X21hdHJpeDpMbix1X21lcmNfY2VudGVyOlswLDBdLHVfdXBfZGlyOlswLDAsMF0sdV9oZWlnaHRfbGlmdDowLHVfYW86byx1X2VkZ2VfcmFkaXVzOmF9O3JldHVyblwiZ2xvYmVcIj09PXkucHJvamVjdGlvbi5uYW1lJiYoXy51X3RpbGVfaWQ9W3MuY2Fub25pY2FsLngscy5jYW5vbmljYWwueSwxPDxzLmNhbm9uaWNhbC56XSxfLnVfem9vbV90cmFuc2l0aW9uPWMsXy51X2ludl9yb3RfbWF0cml4PWgsXy51X21lcmNfY2VudGVyPXUsXy51X3VwX2Rpcj15LnByb2plY3Rpb24udXBWZWN0b3IobmV3IGUuQ2Fub25pY2FsVGlsZUlEKDAsMCwwKSx1WzBdKmUuRVhURU5ULHVbMV0qZS5FWFRFTlQpLF8udV9oZWlnaHRfbGlmdD1sKSxffSxSbj0odCxuLGkscixvLGEscyxsLGMsdSxoLGQpPT57Y29uc3QgcD1Pbih0LG4saSxyLG8sYSxzLGMsdSxoLGQpLGY9e3VfaGVpZ2h0X2ZhY3RvcjotTWF0aC5wb3coMixzLm92ZXJzY2FsZWRaKS9sLnRpbGVTaXplLzh9O3JldHVybiBlLmV4dGVuZChwLERuKG4sbCksZil9LEJuPWU9Pih7dV9tYXRyaXg6ZX0pLGpuPSh0LG4saSk9PmUuZXh0ZW5kKEJuKHQpLERuKG4saSkpLEZuPShlLHQpPT4oe3VfbWF0cml4OmUsdV93b3JsZDp0fSksTm49KHQsbixpLHIpPT5lLmV4dGVuZChqbih0LG4saSkse3Vfd29ybGQ6cn0pLFVuPWUuY3JlYXRlKCksVm49KHQsbixpLHIsbyxhKT0+e2NvbnN0IHM9dC50cmFuc2Zvcm0sbD1cImdsb2JlXCI9PT1zLnByb2plY3Rpb24ubmFtZTtsZXQgYztpZihcIm1hcFwiPT09YS5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCIpKWlmKGwpe2NvbnN0IHQ9ZS5nbG9iZVBpeGVsc1RvVGlsZVVuaXRzKHMuem9vbSxuLmNhbm9uaWNhbCkqcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtjPUZsb2F0MzJBcnJheS5mcm9tKFt0LDAsMCx0XSl9ZWxzZSBjPXMuY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgoaSk7ZWxzZSBjPW5ldyBGbG9hdDMyQXJyYXkoW3MucGl4ZWxzVG9HTFVuaXRzWzBdLDAsMCxzLnBpeGVsc1RvR0xVbml0c1sxXV0pO2NvbnN0IHU9e3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UsdV9tYXRyaXg6dC50cmFuc2xhdGVQb3NNYXRyaXgobi5wcm9qTWF0cml4LGksYS5wYWludC5nZXQoXCJjaXJjbGUtdHJhbnNsYXRlXCIpLGEucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIikpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx1X2V4dHJ1ZGVfc2NhbGU6Yyx1X2ludl9yb3RfbWF0cml4OlVuLHVfbWVyY19jZW50ZXI6WzAsMF0sdV90aWxlX2lkOlswLDAsMF0sdV96b29tX3RyYW5zaXRpb246MCx1X3VwX2RpcjpbMCwwLDBdfTtpZihsKXt1LnVfaW52X3JvdF9tYXRyaXg9cix1LnVfbWVyY19jZW50ZXI9byx1LnVfdGlsZV9pZD1bbi5jYW5vbmljYWwueCxuLmNhbm9uaWNhbC55LDE8PG4uY2Fub25pY2FsLnpdLHUudV96b29tX3RyYW5zaXRpb249ZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKHMuem9vbSk7Y29uc3QgdD1vWzBdKmUuRVhURU5ULGk9b1sxXSplLkVYVEVOVDt1LnVfdXBfZGlyPXMucHJvamVjdGlvbi51cFZlY3RvcihuZXcgZS5DYW5vbmljYWxUaWxlSUQoMCwwLDApLHQsaSl9cmV0dXJuIHV9LEduPWU9Pntjb25zdCB0PVtdO3JldHVyblwibWFwXCI9PT1lLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIikmJnQucHVzaChcIlBJVENIX1dJVEhfTUFQXCIpLFwibWFwXCI9PT1lLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1zY2FsZVwiKSYmdC5wdXNoKFwiU0NBTEVfV0lUSF9NQVBcIiksdH0sWm49KHQsbixpLHIpPT57Y29uc3Qgbz1lLkVYVEVOVC9pLnRpbGVTaXplO3JldHVybnt1X21hdHJpeDp0LHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UociksdV9leHRydWRlX3NjYWxlOltuLnBpeGVsc1RvR0xVbml0c1swXS9vLG4ucGl4ZWxzVG9HTFVuaXRzWzFdL29dfX0sV249KGUsdCxuPTEpPT4oe3VfbWF0cml4OmUsdV9jb2xvcjp0LHVfb3ZlcmxheTowLHVfb3ZlcmxheV9zY2FsZTpufSkscW49ZS5jcmVhdGUoKSwkbj0odCxuLGkscixvLGEscyk9Pntjb25zdCBsPXQudHJhbnNmb3JtLGM9XCJnbG9iZVwiPT09bC5wcm9qZWN0aW9uLm5hbWUsdT1jP2UuZ2xvYmVQaXhlbHNUb1RpbGVVbml0cyhsLnpvb20sbi5jYW5vbmljYWwpKmwuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw6RChpLDEsYSksaD17dV9tYXRyaXg6bi5wcm9qTWF0cml4LHVfZXh0cnVkZV9zY2FsZTp1LHVfaW50ZW5zaXR5OnMsdV9pbnZfcm90X21hdHJpeDpxbix1X21lcmNfY2VudGVyOlswLDBdLHVfdGlsZV9pZDpbMCwwLDBdLHVfem9vbV90cmFuc2l0aW9uOjAsdV91cF9kaXI6WzAsMCwwXX07aWYoYyl7aC51X2ludl9yb3RfbWF0cml4PXIsaC51X21lcmNfY2VudGVyPW8saC51X3RpbGVfaWQ9W24uY2Fub25pY2FsLngsbi5jYW5vbmljYWwueSwxPDxuLmNhbm9uaWNhbC56XSxoLnVfem9vbV90cmFuc2l0aW9uPWUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihsLnpvb20pO2NvbnN0IHQ9b1swXSplLkVYVEVOVCxpPW9bMV0qZS5FWFRFTlQ7aC51X3VwX2Rpcj1sLnByb2plY3Rpb24udXBWZWN0b3IobmV3IGUuQ2Fub25pY2FsVGlsZUlEKDAsMCwwKSx0LGkpfXJldHVybiBofSxIbj0oZSx0LG4saSxyLG8sYSk9Pntjb25zdCBzPWUudHJhbnNmb3JtLGw9cy5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0KTtyZXR1cm57dV9tYXRyaXg6Sm4oZSx0LG4saSksdV9waXhlbHNfdG9fdGlsZV91bml0czpsLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm8sdV91bml0c190b19waXhlbHM6WzEvcy5waXhlbHNUb0dMVW5pdHNbMF0sMS9zLnBpeGVsc1RvR0xVbml0c1sxXV0sdV9kYXNoX2ltYWdlOjAsdV9ncmFkaWVudF9pbWFnZToxLHVfaW1hZ2VfaGVpZ2h0OnIsdV90ZXhzaXplOlFuKG4pP3QubGluZUF0bGFzVGV4dHVyZS5zaXplOlswLDBdLHVfdGlsZV91bml0c190b19waXhlbHM6WW4odCxlLnRyYW5zZm9ybSksdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDowLHVfdHJpbV9vZmZzZXQ6YX19LFhuPShlLHQsbixpLHIpPT57Y29uc3Qgbz1lLnRyYW5zZm9ybTtyZXR1cm57dV9tYXRyaXg6Sm4oZSx0LG4saSksdV90ZXhzaXplOnQuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSx1X3BpeGVsc190b190aWxlX3VuaXRzOm8uY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86cix1X2ltYWdlOjAsdV90aWxlX3VuaXRzX3RvX3BpeGVsczpZbih0LG8pLHVfdW5pdHNfdG9fcGl4ZWxzOlsxL28ucGl4ZWxzVG9HTFVuaXRzWzBdLDEvby5waXhlbHNUb0dMVW5pdHNbMV1dLHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ6MH19O2Z1bmN0aW9uIFluKGUsdCl7cmV0dXJuIDEvRChlLDEsdC50aWxlWm9vbSl9ZnVuY3Rpb24gSm4oZSx0LG4saSl7cmV0dXJuIGUudHJhbnNsYXRlUG9zTWF0cml4KGl8fHQudGlsZUlELnByb2pNYXRyaXgsdCxuLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlXCIpLG4ucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGUtYW5jaG9yXCIpKX1mdW5jdGlvbiBRbihlKXtjb25zdCB0PWUucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIikudmFsdWU7cmV0dXJuIHQudmFsdWV8fFwiY29uc3RhbnRcIiE9PXQua2luZH1jb25zdCBLbj0oZSx0LG4saSxyLG8pPT57cmV0dXJue3VfbWF0cml4OmUsdV90bF9wYXJlbnQ6dCx1X3NjYWxlX3BhcmVudDpuLHVfZmFkZV90OmkubWl4LHVfb3BhY2l0eTppLm9wYWNpdHkqci5wYWludC5nZXQoXCJyYXN0ZXItb3BhY2l0eVwiKSx1X2ltYWdlMDowLHVfaW1hZ2UxOjEsdV9icmlnaHRuZXNzX2xvdzpyLnBhaW50LmdldChcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiKSx1X2JyaWdodG5lc3NfaGlnaDpyLnBhaW50LmdldChcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiKSx1X3NhdHVyYXRpb25fZmFjdG9yOihzPXIucGFpbnQuZ2V0KFwicmFzdGVyLXNhdHVyYXRpb25cIikscz4wPzEtMS8oMS4wMDEtcyk6LXMpLHVfY29udHJhc3RfZmFjdG9yOihhPXIucGFpbnQuZ2V0KFwicmFzdGVyLWNvbnRyYXN0XCIpLGE+MD8xLygxLWEpOjErYSksdV9zcGluX3dlaWdodHM6ZWkoci5wYWludC5nZXQoXCJyYXN0ZXItaHVlLXJvdGF0ZVwiKSksdV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm06b307dmFyIGEsc307ZnVuY3Rpb24gZWkoZSl7ZSo9TWF0aC5QSS8xODA7Y29uc3QgdD1NYXRoLnNpbihlKSxuPU1hdGguY29zKGUpO3JldHVyblsoMipuKzEpLzMsKC1NYXRoLnNxcnQoMykqdC1uKzEpLzMsKE1hdGguc3FydCgzKSp0LW4rMSkvM119Y29uc3QgdGk9ZS5jcmVhdGUoKSxuaT0odCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmLG0sZyk9Pntjb25zdCB5PW8udHJhbnNmb3JtLF89e3VfaXNfc2l6ZV96b29tX2NvbnN0YW50OisoXCJjb25zdGFudFwiPT09dHx8XCJzb3VyY2VcIj09PXQpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50OisoXCJjb25zdGFudFwiPT09dHx8XCJjYW1lcmFcIj09PXQpLHVfc2l6ZV90Om4/bi51U2l6ZVQ6MCx1X3NpemU6bj9uLnVTaXplOjAsdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOnkuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSx1X3JvdGF0ZV9zeW1ib2w6K2ksdV9hc3BlY3RfcmF0aW86eS53aWR0aC95LmhlaWdodCx1X2ZhZGVfY2hhbmdlOm8ub3B0aW9ucy5mYWRlRHVyYXRpb24/by5zeW1ib2xGYWRlQ2hhbmdlOjEsdV9tYXRyaXg6YSx1X2xhYmVsX3BsYW5lX21hdHJpeDpzLHVfY29vcmRfbWF0cml4OmwsdV9pc190ZXh0OitjLHVfcGl0Y2hfd2l0aF9tYXA6K3IsdV90ZXhzaXplOnUsdV90ZXh0dXJlOjAsdV90aWxlX2lkOlswLDAsMF0sdV96b29tX3RyYW5zaXRpb246MCx1X2ludl9yb3RfbWF0cml4OnRpLHVfbWVyY19jZW50ZXI6WzAsMF0sdV9jYW1lcmFfZm9yd2FyZDpbMCwwLDBdLHVfZWNlZl9vcmlnaW46WzAsMCwwXSx1X3RpbGVfbWF0cml4OnRpLHVfdXBfdmVjdG9yOlswLC0xLDBdfTtyZXR1cm5cImdsb2JlXCI9PT1nLm5hbWUmJihfLnVfdGlsZV9pZD1baC5jYW5vbmljYWwueCxoLmNhbm9uaWNhbC55LDE8PGguY2Fub25pY2FsLnpdLF8udV96b29tX3RyYW5zaXRpb249ZCxfLnVfaW52X3JvdF9tYXRyaXg9ZixfLnVfbWVyY19jZW50ZXI9cCxfLnVfY2FtZXJhX2ZvcndhcmQ9eS5fY2FtZXJhLmZvcndhcmQoKSxfLnVfZWNlZl9vcmlnaW49ZS5nbG9iZUVDRUZPcmlnaW4oeS5nbG9iZU1hdHJpeCxoLnRvVW53cmFwcGVkKCkpLF8udV90aWxlX21hdHJpeD1GbG9hdDMyQXJyYXkuZnJvbSh5Lmdsb2JlTWF0cml4KSxfLnVfdXBfdmVjdG9yPW0pLF99LGlpPSh0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLHkpPT5lLmV4dGVuZChuaSh0LG4saSxyLG8sYSxzLGwsYyx1LGQscCxmLG0sZyx5KSx7dV9nYW1tYV9zY2FsZTpyP28udHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UqTWF0aC5jb3Moby50ZXJyYWluPzA6by50cmFuc2Zvcm0uX3BpdGNoKToxLHVfZGV2aWNlX3BpeGVsX3JhdGlvOmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx1X2lzX2hhbG86K2h9KSxyaT0odCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmLG0sZyk9PmUuZXh0ZW5kKGlpKHQsbixpLHIsbyxhLHMsbCwhMCxjLCEwLGgsZCxwLGYsbSxnKSx7dV90ZXhzaXplX2ljb246dSx1X3RleHR1cmVfaWNvbjoxfSksb2k9KGUsdCxuKT0+KHt1X21hdHJpeDplLHVfb3BhY2l0eTp0LHVfY29sb3I6bn0pLGFpPSh0LG4saSxyLG8pPT5lLmV4dGVuZChmdW5jdGlvbihlLHQsbil7Y29uc3QgaT10LmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGUudG9TdHJpbmcoKSkse3dpZHRoOnIsaGVpZ2h0Om99PXQuaW1hZ2VNYW5hZ2VyLmdldFBpeGVsU2l6ZSgpLGE9TWF0aC5wb3coMixuLnRpbGVJRC5vdmVyc2NhbGVkWikscz1uLnRpbGVTaXplKk1hdGgucG93KDIsdC50cmFuc2Zvcm0udGlsZVpvb20pL2EsbD1zKihuLnRpbGVJRC5jYW5vbmljYWwueCtuLnRpbGVJRC53cmFwKmEpLGM9cypuLnRpbGVJRC5jYW5vbmljYWwueTtyZXR1cm57dV9pbWFnZTowLHVfcGF0dGVybl90bDppLnRsLHVfcGF0dGVybl9icjppLmJyLHVfdGV4c2l6ZTpbcixvXSx1X3BhdHRlcm5fc2l6ZTppLmRpc3BsYXlTaXplLHVfdGlsZV91bml0c190b19waXhlbHM6MS9EKG4sMSx0LnRyYW5zZm9ybS50aWxlWm9vbSksdV9waXhlbF9jb29yZF91cHBlcjpbbD4+MTYsYz4+MTZdLHVfcGl4ZWxfY29vcmRfbG93ZXI6WzY1NTM1JmwsNjU1MzUmY119fShyLGksbykse3VfbWF0cml4OnQsdV9vcGFjaXR5Om59KSxzaT17ZmlsbEV4dHJ1c2lvbjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2xpZ2h0cG9zOm5ldyBlLlVuaWZvcm0zZih0KSx1X2xpZ2h0aW50ZW5zaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2xpZ2h0Y29sb3I6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdmVydGljYWxfZ3JhZGllbnQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9lZGdlX3JhZGl1czpuZXcgZS5Vbmlmb3JtMWYodCksdV9hbzpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX2lkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbnZfcm90X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV91cF9kaXI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfaGVpZ2h0X2xpZnQ6bmV3IGUuVW5pZm9ybTFmKHQpfSksZmlsbEV4dHJ1c2lvblBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9saWdodHBvczpuZXcgZS5Vbmlmb3JtM2YodCksdV9saWdodGludGVuc2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9saWdodGNvbG9yOm5ldyBlLlVuaWZvcm0zZih0KSx1X3ZlcnRpY2FsX2dyYWRpZW50Om5ldyBlLlVuaWZvcm0xZih0KSx1X2hlaWdodF9mYWN0b3I6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZWRnZV9yYWRpdXM6bmV3IGUuVW5pZm9ybTFmKHQpLHVfYW86bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV9pZDpuZXcgZS5Vbmlmb3JtM2YodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdXBfZGlyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2hlaWdodF9saWZ0Om5ldyBlLlVuaWZvcm0xZih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV91bml0c190b19waXhlbHM6bmV3IGUuVW5pZm9ybTFmKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCl9KSxmaWxsOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpfSksZmlsbFBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBlLlVuaWZvcm0xZih0KX0pLGZpbGxPdXRsaW5lOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfd29ybGQ6bmV3IGUuVW5pZm9ybTJmKHQpfSksZmlsbE91dGxpbmVQYXR0ZXJuOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfd29ybGQ6bmV3IGUuVW5pZm9ybTJmKHQpLHVfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV9waXhlbF9jb29yZF91cHBlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgZS5Vbmlmb3JtMWYodCl9KSxjaXJjbGU6dD0+KHt1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZXh0cnVkZV9zY2FsZTpuZXcgZS5Vbmlmb3JtTWF0cml4MmYodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X3VwX2RpcjpuZXcgZS5Vbmlmb3JtM2YodCl9KSxjb2xsaXNpb25Cb3g6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLlVuaWZvcm0xZih0KSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IGUuVW5pZm9ybTJmKHQpfSksY29sbGlzaW9uQ2lyY2xlOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaW52X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLlVuaWZvcm0xZih0KSx1X3ZpZXdwb3J0X3NpemU6bmV3IGUuVW5pZm9ybTJmKHQpfSksZGVidWc6dD0+KHt1X2NvbG9yOm5ldyBlLlVuaWZvcm1Db2xvcih0KSx1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9vdmVybGF5Om5ldyBlLlVuaWZvcm0xaSh0KSx1X292ZXJsYXlfc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpfSksY2xpcHBpbmdNYXNrOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpfSksaGVhdG1hcDp0PT4oe3VfZXh0cnVkZV9zY2FsZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbnRlbnNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X3VwX2RpcjpuZXcgZS5Vbmlmb3JtM2YodCl9KSxoZWF0bWFwVGV4dHVyZTp0PT4oe3VfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfY29sb3JfcmFtcDpuZXcgZS5Vbmlmb3JtMWkodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KX0pLGhpbGxzaGFkZTp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2xhdHJhbmdlOm5ldyBlLlVuaWZvcm0yZih0KSx1X2xpZ2h0Om5ldyBlLlVuaWZvcm0yZih0KSx1X3NoYWRvdzpuZXcgZS5Vbmlmb3JtQ29sb3IodCksdV9oaWdobGlnaHQ6bmV3IGUuVW5pZm9ybUNvbG9yKHQpLHVfYWNjZW50Om5ldyBlLlVuaWZvcm1Db2xvcih0KX0pLGhpbGxzaGFkZVByZXBhcmU6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9kaW1lbnNpb246bmV3IGUuVW5pZm9ybTJmKHQpLHVfem9vbTpuZXcgZS5Vbmlmb3JtMWYodCksdV91bnBhY2s6bmV3IGUuVW5pZm9ybTRmKHQpfSksbGluZTp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3BpeGVsc190b190aWxlX3VuaXRzOm5ldyBlLlVuaWZvcm1NYXRyaXgyZih0KSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV91bml0c190b19waXhlbHM6bmV3IGUuVW5pZm9ybTJmKHQpLHVfZGFzaF9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9ncmFkaWVudF9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9pbWFnZV9oZWlnaHQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgZS5Vbmlmb3JtMWYodCksdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDpuZXcgZS5Vbmlmb3JtMWYodCksdV90cmltX29mZnNldDpuZXcgZS5Vbmlmb3JtMmYodCl9KSxsaW5lUGF0dGVybjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM6bmV3IGUuVW5pZm9ybU1hdHJpeDJmKHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3VuaXRzX3RvX3BpeGVsczpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgZS5Vbmlmb3JtMWYodCksdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDpuZXcgZS5Vbmlmb3JtMWYodCl9KSxyYXN0ZXI6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV90bF9wYXJlbnQ6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2NhbGVfcGFyZW50Om5ldyBlLlVuaWZvcm0xZih0KSx1X2ZhZGVfdDpuZXcgZS5Vbmlmb3JtMWYodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2ltYWdlMDpuZXcgZS5Vbmlmb3JtMWkodCksdV9pbWFnZTE6bmV3IGUuVW5pZm9ybTFpKHQpLHVfYnJpZ2h0bmVzc19sb3c6bmV3IGUuVW5pZm9ybTFmKHQpLHVfYnJpZ2h0bmVzc19oaWdoOm5ldyBlLlVuaWZvcm0xZih0KSx1X3NhdHVyYXRpb25fZmFjdG9yOm5ldyBlLlVuaWZvcm0xZih0KSx1X2NvbnRyYXN0X2ZhY3RvcjpuZXcgZS5Vbmlmb3JtMWYodCksdV9zcGluX3dlaWdodHM6bmV3IGUuVW5pZm9ybTNmKHQpLHVfcGVyc3BlY3RpdmVfdHJhbnNmb3JtOm5ldyBlLlVuaWZvcm0yZih0KX0pLHN5bWJvbEljb246dD0+KHt1X2lzX3NpemVfem9vbV9jb25zdGFudDpuZXcgZS5Vbmlmb3JtMWkodCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfc2l6ZV90Om5ldyBlLlVuaWZvcm0xZih0KSx1X3NpemU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9yb3RhdGVfc3ltYm9sOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2FzcGVjdF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV9mYWRlX2NoYW5nZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbGFiZWxfcGxhbmVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2Nvb3JkX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pc190ZXh0Om5ldyBlLlVuaWZvcm0xaSh0KSx1X3BpdGNoX3dpdGhfbWFwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV9pZDpuZXcgZS5Vbmlmb3JtM2YodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfY2FtZXJhX2ZvcndhcmQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdGlsZV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfdXBfdmVjdG9yOm5ldyBlLlVuaWZvcm0zZih0KSx1X2VjZWZfb3JpZ2luOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RleHR1cmU6bmV3IGUuVW5pZm9ybTFpKHQpfSksc3ltYm9sU0RGOnQ9Pih7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyBlLlVuaWZvcm0xaSh0KSx1X3NpemVfdDpuZXcgZS5Vbmlmb3JtMWYodCksdV9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfcm90YXRlX3N5bWJvbDpuZXcgZS5Vbmlmb3JtMWkodCksdV9hc3BlY3RfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfZmFkZV9jaGFuZ2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jb29yZF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaXNfdGV4dDpuZXcgZS5Vbmlmb3JtMWkodCksdV9waXRjaF93aXRoX21hcDpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RleHR1cmU6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZ2FtbWFfc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X2NhbWVyYV9mb3J3YXJkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3VwX3ZlY3RvcjpuZXcgZS5Vbmlmb3JtM2YodCksdV9lY2VmX29yaWdpbjpuZXcgZS5Vbmlmb3JtM2YodCksdV9pc19oYWxvOm5ldyBlLlVuaWZvcm0xaSh0KX0pLHN5bWJvbFRleHRBbmRJY29uOnQ9Pih7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyBlLlVuaWZvcm0xaSh0KSx1X3NpemVfdDpuZXcgZS5Vbmlmb3JtMWYodCksdV9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfcm90YXRlX3N5bWJvbDpuZXcgZS5Vbmlmb3JtMWkodCksdV9hc3BlY3RfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfZmFkZV9jaGFuZ2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jb29yZF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaXNfdGV4dDpuZXcgZS5Vbmlmb3JtMWkodCksdV9waXRjaF93aXRoX21hcDpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RleHNpemVfaWNvbjpuZXcgZS5Vbmlmb3JtMmYodCksdV90ZXh0dXJlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHR1cmVfaWNvbjpuZXcgZS5Vbmlmb3JtMWkodCksdV9nYW1tYV9zY2FsZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfaXNfaGFsbzpuZXcgZS5Vbmlmb3JtMWkodCl9KSxiYWNrZ3JvdW5kOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9jb2xvcjpuZXcgZS5Vbmlmb3JtQ29sb3IodCl9KSxiYWNrZ3JvdW5kUGF0dGVybjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfcGF0dGVybl90bDpuZXcgZS5Vbmlmb3JtMmYodCksdV9wYXR0ZXJuX2JyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGF0dGVybl9zaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBlLlVuaWZvcm0xZih0KX0pLHRlcnJhaW5SYXN0ZXI6dm4sdGVycmFpbkRlcHRoOnZuLHNreWJveDp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3N1bl9kaXJlY3Rpb246bmV3IGUuVW5pZm9ybTNmKHQpLHVfY3ViZW1hcDpuZXcgZS5Vbmlmb3JtMWkodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X3RlbXBvcmFsX29mZnNldDpuZXcgZS5Vbmlmb3JtMWYodCl9KSxza3lib3hHcmFkaWVudDp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2NvbG9yX3JhbXA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfY2VudGVyX2RpcmVjdGlvbjpuZXcgZS5Vbmlmb3JtM2YodCksdV9yYWRpdXM6bmV3IGUuVW5pZm9ybTFmKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV90ZW1wb3JhbF9vZmZzZXQ6bmV3IGUuVW5pZm9ybTFmKHQpfSksc2t5Ym94Q2FwdHVyZTp0PT4oe3VfbWF0cml4XzNmOm5ldyBlLlVuaWZvcm1NYXRyaXgzZih0KSx1X3N1bl9kaXJlY3Rpb246bmV3IGUuVW5pZm9ybTNmKHQpLHVfc3VuX2ludGVuc2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9jb2xvcl90aW50X3I6bmV3IGUuVW5pZm9ybTRmKHQpLHVfY29sb3JfdGludF9tOm5ldyBlLlVuaWZvcm00Zih0KSx1X2x1bWluYW5jZTpuZXcgZS5Vbmlmb3JtMWYodCl9KSxnbG9iZVJhc3Rlcjp0PT4oe3VfcHJval9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfZ2xvYmVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X25vcm1hbGl6ZV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbWVyY19tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X2ltYWdlMDpuZXcgZS5Vbmlmb3JtMWkodCksdV9ncmlkX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4M2YodCksdV9mcnVzdHVtX3RsOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fdHI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV9icjpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX2JsOm5ldyBlLlVuaWZvcm0zZih0KSx1X2dsb2JlX3BvczpuZXcgZS5Vbmlmb3JtM2YodCksdV9nbG9iZV9yYWRpdXM6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdmlld3BvcnQ6bmV3IGUuVW5pZm9ybTJmKHQpfSksZ2xvYmVBdG1vc3BoZXJlOnQ9Pih7dV9mcnVzdHVtX3RsOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fdHI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV9icjpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX2JsOm5ldyBlLlVuaWZvcm0zZih0KSx1X2hvcml6b246bmV3IGUuVW5pZm9ybTFmKHQpLHVfdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9mYWRlb3V0X3JhbmdlOm5ldyBlLlVuaWZvcm0xZih0KSx1X2NvbG9yOm5ldyBlLlVuaWZvcm00Zih0KSx1X2hpZ2hfY29sb3I6bmV3IGUuVW5pZm9ybTRmKHQpLHVfc3BhY2VfY29sb3I6bmV3IGUuVW5pZm9ybTRmKHQpLHVfc3Rhcl9pbnRlbnNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc3Rhcl9kZW5zaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X3N0YXJfc2l6ZTpuZXcgZS5Vbmlmb3JtMWYodCksdV90ZW1wb3JhbF9vZmZzZXQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfaG9yaXpvbl9hbmdsZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9yb3RhdGlvbl9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpfSl9O2xldCBsaTtmdW5jdGlvbiBjaSh0LG4saSxyLG8sYSxzKXtjb25zdCBsPXQuY29udGV4dCxjPWwuZ2wsdT10LnRyYW5zZm9ybSxoPXQudXNlUHJvZ3JhbShcImNvbGxpc2lvbkJveFwiKSxkPVtdO2xldCBwPTAsZj0wO2ZvcihsZXQgbT0wO208ci5sZW5ndGg7bSsrKXtjb25zdCBnPXJbbV0seT1uLmdldFRpbGUoZyksXz15LmdldEJ1Y2tldChpKTtpZighXyljb250aW51ZTtjb25zdCB2PXZ0KGcsXyx1KTtsZXQgeD12OzA9PT1vWzBdJiYwPT09b1sxXXx8KHg9dC50cmFuc2xhdGVQb3NNYXRyaXgodix5LG8sYSkpO2NvbnN0IGI9cz9fLnRleHRDb2xsaXNpb25Cb3g6Xy5pY29uQ29sbGlzaW9uQm94LHc9Xy5jb2xsaXNpb25DaXJjbGVBcnJheTtpZih3Lmxlbmd0aD4wKXtjb25zdCB0PWUuY3JlYXRlKCksbj14O2UubXVsKHQsXy5wbGFjZW1lbnRJbnZQcm9qTWF0cml4LHUuZ2xDb29yZE1hdHJpeCksZS5tdWwodCx0LF8ucGxhY2VtZW50Vmlld3BvcnRNYXRyaXgpLGQucHVzaCh7Y2lyY2xlQXJyYXk6dyxjaXJjbGVPZmZzZXQ6Zix0cmFuc2Zvcm06bixpbnZUcmFuc2Zvcm06dCxwcm9qZWN0aW9uOl8uZ2V0UHJvamVjdGlvbigpfSkscCs9dy5sZW5ndGgvNCxmPXB9YiYmKHQudGVycmFpbiYmdC50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyh5LGgpLGguZHJhdyhsLGMuTElORVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxabih4LHUseSxfLmdldFByb2plY3Rpb24oKSksaS5pZCxiLmxheW91dFZlcnRleEJ1ZmZlcixiLmluZGV4QnVmZmVyLGIuc2VnbWVudHMsbnVsbCx1Lnpvb20sbnVsbCxbYi5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIsYi5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHRdKSl9aWYoIXN8fCFkLmxlbmd0aClyZXR1cm47Y29uc3QgbT10LnVzZVByb2dyYW0oXCJjb2xsaXNpb25DaXJjbGVcIiksZz1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDJmMWYyaTE2O2cucmVzaXplKDQqcCksZy5fdHJpbSgpO2xldCB5PTA7Zm9yKGNvbnN0IGUgb2YgZClmb3IobGV0IHQ9MDt0PGUuY2lyY2xlQXJyYXkubGVuZ3RoLzQ7dCsrKXtjb25zdCBuPTQqdCxpPWUuY2lyY2xlQXJyYXlbbiswXSxyPWUuY2lyY2xlQXJyYXlbbisxXSxvPWUuY2lyY2xlQXJyYXlbbisyXSxhPWUuY2lyY2xlQXJyYXlbbiszXTtnLmVtcGxhY2UoeSsrLGkscixvLGEsMCksZy5lbXBsYWNlKHkrKyxpLHIsbyxhLDEpLGcuZW1wbGFjZSh5KyssaSxyLG8sYSwyKSxnLmVtcGxhY2UoeSsrLGkscixvLGEsMyl9KCFsaXx8bGkubGVuZ3RoPDIqcCkmJihsaT1mdW5jdGlvbih0KXtjb25zdCBuPTIqdCxpPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0M3VpNjtpLnJlc2l6ZShuKSxpLl90cmltKCk7Zm9yKGxldCBlPTA7ZTxuO2UrKyl7Y29uc3QgdD02KmU7aS51aW50MTZbdCswXT00KmUrMCxpLnVpbnQxNlt0KzFdPTQqZSsxLGkudWludDE2W3QrMl09NCplKzIsaS51aW50MTZbdCszXT00KmUrMixpLnVpbnQxNlt0KzRdPTQqZSszLGkudWludDE2W3QrNV09NCplKzB9cmV0dXJuIGl9KHApKTtjb25zdCBfPWwuY3JlYXRlSW5kZXhCdWZmZXIobGksITApLHY9bC5jcmVhdGVWZXJ0ZXhCdWZmZXIoZyxlLmNvbGxpc2lvbkNpcmNsZUxheW91dC5tZW1iZXJzLCEwKTtmb3IoY29uc3QgbiBvZiBkKXtjb25zdCByPXt1X21hdHJpeDpuLnRyYW5zZm9ybSx1X2ludl9tYXRyaXg6bi5pbnZUcmFuc2Zvcm0sdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOih4PXUpLmdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2Uobi5wcm9qZWN0aW9uKSx1X3ZpZXdwb3J0X3NpemU6W3gud2lkdGgseC5oZWlnaHRdfTttLmRyYXcobCxjLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLHIsaS5pZCx2LF8sZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwyKm4uY2lyY2xlT2Zmc2V0LG4uY2lyY2xlQXJyYXkubGVuZ3RoLG4uY2lyY2xlQXJyYXkubGVuZ3RoLzIpLG51bGwsdS56b29tKX12YXIgeDt2LmRlc3Ryb3koKSxfLmRlc3Ryb3koKX1jb25zdCB1aT1lLmNyZWF0ZSgpO2Z1bmN0aW9uIGhpKHt3aWR0aDp0LGhlaWdodDpuLGFuY2hvcjppLHRleHRPZmZzZXQ6cix0ZXh0U2NhbGU6b30sYSl7Y29uc3R7aG9yaXpvbnRhbEFsaWduOnMsdmVydGljYWxBbGlnbjpsfT1lLmdldEFuY2hvckFsaWdubWVudChpKSxjPS0ocy0uNSkqdCx1PS0obC0uNSkqbixoPWUuZXZhbHVhdGVWYXJpYWJsZU9mZnNldChpLHIpO3JldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KChjL28raFswXSkqYSwodS9vK2hbMV0pKmEpfWZ1bmN0aW9uIGRpKHQsbixpLHIsbyxhLHMsbCxjLHUsaCl7Y29uc3QgZD10LnRleHQucGxhY2VkU3ltYm9sQXJyYXkscD10LnRleHQuZHluYW1pY0xheW91dFZlcnRleEFycmF5LGY9dC5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxtPXt9LGc9dC5nZXRQcm9qZWN0aW9uKCkseT14dChsLGcsYSksXz1hLmVsZXZhdGlvbix2PWcudXBWZWN0b3JTY2FsZShsLmNhbm9uaWNhbCxhLmNlbnRlci5sYXQsYS53b3JsZFNpemUpLm1ldGVyc1RvVGlsZTtwLmNsZWFyKCk7Zm9yKGxldCBmPTA7ZjxkLmxlbmd0aDtmKyspe2NvbnN0IHg9ZC5nZXQoZikse3RpbGVBbmNob3JYOmIsdGlsZUFuY2hvclk6dyxudW1HbHlwaHM6VH09eCxFPXQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmIXgucGxhY2VkT3JpZW50YXRpb24sUz14LmhpZGRlbnx8IXguY3Jvc3NUaWxlSUR8fEU/bnVsbDpyW3guY3Jvc3NUaWxlSURdO2lmKFMpe2xldCByPTAsZD0wLGY9MDtpZihfKXtjb25zdCBlPV8/Xy5nZXRBdFRpbGVPZmZzZXQobCxiLHcpOjAsW3QsbixpXT1nLnVwVmVjdG9yKGwuY2Fub25pY2FsLGIsdyk7cj1lKnQqdixkPWUqbip2LGY9ZSppKnZ9bGV0W0UsTSxJLENdPXJ0KHgucHJvamVjdGVkQW5jaG9yWCtyLHgucHJvamVjdGVkQW5jaG9yWStkLHgucHJvamVjdGVkQW5jaG9yWitmLGk/eTpzKTtjb25zdCBrPW90KGEuZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShnKSxDKTtsZXQgQT1vLmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUodC50ZXh0U2l6ZURhdGEsdSx4KSprL2UuT05FX0VNO2kmJihBKj10LnRpbGVQaXhlbFJhdGlvL2MpO2NvbnN0IFA9aGkoUyxBKTtpPygoe3g6RSx5Ok0sejpJfT1nLnByb2plY3RUaWxlUG9pbnQoYitQLngsdytQLnksbC5jYW5vbmljYWwpKSxbRSxNLEldPXJ0KEUrcixNK2QsSStmLHMpKToobiYmUC5fcm90YXRlKC1hLmFuZ2xlKSxFKz1QLngsTSs9UC55LEk9MCk7Y29uc3Qgej10LmFsbG93VmVydGljYWxQbGFjZW1lbnQmJngucGxhY2VkT3JpZW50YXRpb249PT1lLldyaXRpbmdNb2RlLnZlcnRpY2FsP01hdGguUEkvMjowO2ZvcihsZXQgdD0wO3Q8VDt0KyspZS5hZGREeW5hbWljQXR0cmlidXRlcyhwLEUsTSxJLHopO2gmJnguYXNzb2NpYXRlZEljb25JbmRleD49MCYmKG1beC5hc3NvY2lhdGVkSWNvbkluZGV4XT17eDpFLHk6TSx6OkksYW5nbGU6en0pfWVsc2UgZnQoVCxwKX1pZihoKXtmLmNsZWFyKCk7Y29uc3Qgbj10Lmljb24ucGxhY2VkU3ltYm9sQXJyYXk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IGk9bi5nZXQodCkse251bUdseXBoczpyfT1pLG89bVt0XTtpZihpLmhpZGRlbnx8IW8pZnQocixmKTtlbHNle2NvbnN0e3g6dCx5Om4sejppLGFuZ2xlOmF9PW87Zm9yKGxldCBvPTA7bzxyO28rKyllLmFkZER5bmFtaWNBdHRyaWJ1dGVzKGYsdCxuLGksYSl9fXQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZil9dC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShwKX1mdW5jdGlvbiBwaShlLHQsbil7cmV0dXJuIG4uaWNvbnNJblRleHQmJnQ/XCJzeW1ib2xUZXh0QW5kSWNvblwiOmU/XCJzeW1ib2xTREZcIjpcInN5bWJvbEljb25cIn1mdW5jdGlvbiBmaSh0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCl7Y29uc3QgcD10LmNvbnRleHQsZj1wLmdsLG09dC50cmFuc2Zvcm0sZz1cIm1hcFwiPT09bCx5PVwibWFwXCI9PT1jLF89ZyYmXCJwb2ludFwiIT09aS5sYXlvdXQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSx2PWcmJiF5JiYhXyx4PXZvaWQgMCE9PWkubGF5b3V0LmdldChcInN5bWJvbC1zb3J0LWtleVwiKS5jb25zdGFudE9yKDEpO2xldCBiPSExO2NvbnN0IHc9dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLGUuRGVwdGhNb2RlLlJlYWRPbmx5KSxUPVtlLm1lcmNhdG9yWGZyb21MbmcobS5jZW50ZXIubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQobS5jZW50ZXIubGF0KV0sRT1pLmxheW91dC5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKSxTPVwiZ2xvYmVcIj09PW0ucHJvamVjdGlvbi5uYW1lLE09W10sST1bMCwtMSwwXTtsZXQgQz1JOyFTJiYhbS5tZXJjYXRvckZyb21UcmFuc2l0aW9ufHxnfHwoQz1mdW5jdGlvbih0KXtjb25zdCBuPXQuX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhKHQud29ybGRTaXplLDEpLGk9ZS5tdWx0aXBseShbXSxuLHQuZ2xvYmVNYXRyaXgpO2UuaW52ZXJ0KGksaSk7Y29uc3Qgcj1bMCwwLDBdLG89WzAsMSwwLDBdO3JldHVybiBlLnRyYW5zZm9ybU1hdDQkMShvLG8saSksclswXT1vWzBdLHJbMV09b1sxXSxyWzJdPW9bMl0sZS5ub3JtYWxpemUocixyKSxyfShtKSk7Zm9yKGNvbnN0IGwgb2Ygcil7Y29uc3Qgcj1uLmdldFRpbGUobCksYz1yLmdldEJ1Y2tldChpKTtpZighYyljb250aW51ZTtpZihcIm1lcmNhdG9yXCI9PT1jLnByb2plY3Rpb24ubmFtZSYmUyljb250aW51ZTtjb25zdCBoPW8/Yy50ZXh0OmMuaWNvbjtpZighaHx8Yy5mdWxseUNsaXBwZWR8fCFoLnNlZ21lbnRzLmdldCgpLmxlbmd0aCljb250aW51ZTtjb25zdCBkPWgucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSxwPW98fGMuc2RmSWNvbnMsdz1vP2MudGV4dFNpemVEYXRhOmMuaWNvblNpemVEYXRhLGs9eXx8MCE9PW0ucGl0Y2gsQT1lLmV2YWx1YXRlU2l6ZUZvclpvb20odyxtLnpvb20pO2xldCBQLHosRCxMLE89WzAsMF0sUj1udWxsO2lmKG8pe2lmKHo9ci5nbHlwaEF0bGFzVGV4dHVyZSxEPWYuTElORUFSLFA9ci5nbHlwaEF0bGFzVGV4dHVyZS5zaXplLGMuaWNvbnNJblRleHQpe089ci5pbWFnZUF0bGFzVGV4dHVyZS5zaXplLFI9ci5pbWFnZUF0bGFzVGV4dHVyZTtjb25zdCBlPVwiY29tcG9zaXRlXCI9PT13LmtpbmR8fFwiY2FtZXJhXCI9PT13LmtpbmQ7TD1rfHx0Lm9wdGlvbnMucm90YXRpbmd8fHQub3B0aW9ucy56b29taW5nfHxlP2YuTElORUFSOmYuTkVBUkVTVH19ZWxzZXtjb25zdCBlPTEhPT1pLmxheW91dC5nZXQoXCJpY29uLXNpemVcIikuY29uc3RhbnRPcigwKXx8Yy5pY29uc05lZWRMaW5lYXI7ej1yLmltYWdlQXRsYXNUZXh0dXJlLEQ9cHx8dC5vcHRpb25zLnJvdGF0aW5nfHx0Lm9wdGlvbnMuem9vbWluZ3x8ZXx8az9mLkxJTkVBUjpmLk5FQVJFU1QsUD1yLmltYWdlQXRsYXNUZXh0dXJlLnNpemV9Y29uc3QgQj1cImdsb2JlXCI9PT1jLnByb2plY3Rpb24ubmFtZSxqPUI/QzpJLEY9Qj9lLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24obS56b29tKTowLE49eHQobCxjLmdldFByb2plY3Rpb24oKSxtKSxVPW0uY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgociksVj10dChOLHIudGlsZUlELmNhbm9uaWNhbCx5LGcsbSxjLmdldFByb2plY3Rpb24oKSxVKSxHPXQudGVycmFpbiYmeSYmXz9lLmludmVydChlLmNyZWF0ZSgpLFYpOnVpLFo9aXQoTixyLnRpbGVJRC5jYW5vbmljYWwseSxnLG0sYy5nZXRQcm9qZWN0aW9uKCksVSksVz1FJiZjLmhhc1RleHREYXRhKCkscT1cIm5vbmVcIiE9PWkubGF5b3V0LmdldChcImljb24tdGV4dC1maXRcIikmJlcmJmMuaGFzSWNvbkRhdGEoKTtpZihfKXtjb25zdCBlPW0uZWxldmF0aW9uLG49ZT9lLmdldEF0VGlsZU9mZnNldEZ1bmMobCxtLmNlbnRlci5sYXQsbS53b3JsZFNpemUsYy5nZXRQcm9qZWN0aW9uKCkpOm51bGwsaT1udChOLHIudGlsZUlELmNhbm9uaWNhbCx5LGcsbSxjLmdldFByb2plY3Rpb24oKSxVKTtzdChjLE4sdCxvLGksWix5LHUsbixsKX1jb25zdCAkPV98fG8mJkV8fHEsSD10LnRyYW5zbGF0ZVBvc01hdHJpeChOLHIsYSxzKSxYPSQ/dWk6VixZPXQudHJhbnNsYXRlUG9zTWF0cml4KFoscixhLHMsITApLEo9Yy5nZXRQcm9qZWN0aW9uKCkuY3JlYXRlSW52ZXJzaW9uTWF0cml4KG0sbC5jYW5vbmljYWwpLFE9W107dC50ZXJyYWluUmVuZGVyTW9kZUVsZXZhdGVkKCkmJnkmJlEucHVzaChcIlBJVENIX1dJVEhfTUFQX1RFUlJBSU5cIiksQiYmUS5wdXNoKFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIpLCQmJlEucHVzaChcIlBST0pFQ1RFRF9QT1NfT05fVklFV1BPUlRcIik7Y29uc3QgSz1wJiYwIT09aS5wYWludC5nZXQobz9cInRleHQtaGFsby13aWR0aFwiOlwiaWNvbi1oYWxvLXdpZHRoXCIpLmNvbnN0YW50T3IoMSk7bGV0IGVlO2VlPXA/Yy5pY29uc0luVGV4dD9yaSh3LmtpbmQsQSx2LHksdCxILFgsWSxQLE8sbCxGLFQsSixqLGMuZ2V0UHJvamVjdGlvbigpKTppaSh3LmtpbmQsQSx2LHksdCxILFgsWSxvLFAsITAsbCxGLFQsSixqLGMuZ2V0UHJvamVjdGlvbigpKTpuaSh3LmtpbmQsQSx2LHksdCxILFgsWSxvLFAsbCxGLFQsSixqLGMuZ2V0UHJvamVjdGlvbigpKTtjb25zdCB0ZT17cHJvZ3JhbTp0LnVzZVByb2dyYW0ocGkocCxvLGMpLGQsUSksYnVmZmVyczpoLHVuaWZvcm1WYWx1ZXM6ZWUsYXRsYXNUZXh0dXJlOnosYXRsYXNUZXh0dXJlSWNvbjpSLGF0bGFzSW50ZXJwb2xhdGlvbjpELGF0bGFzSW50ZXJwb2xhdGlvbkljb246TCxpc1NERjpwLGhhc0hhbG86Syx0aWxlOnIsbGFiZWxQbGFuZU1hdHJpeEludjpHfTtpZih4JiZjLmNhbk92ZXJsYXApe2I9ITA7Y29uc3QgdD1oLnNlZ21lbnRzLmdldCgpO2Zvcihjb25zdCBuIG9mIHQpTS5wdXNoKHtzZWdtZW50czpuZXcgZS5TZWdtZW50VmVjdG9yKFtuXSksc29ydEtleTpuLnNvcnRLZXksc3RhdGU6dGV9KX1lbHNlIE0ucHVzaCh7c2VnbWVudHM6aC5zZWdtZW50cyxzb3J0S2V5OjAsc3RhdGU6dGV9KX1iJiZNLnNvcnQoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpO2Zvcihjb25zdCBlIG9mIE0pe2NvbnN0IG49ZS5zdGF0ZTtpZih0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcobi50aWxlLG4ucHJvZ3JhbSx7dXNlRGVwdGhGb3JPY2NsdXNpb246IVMsbGFiZWxQbGFuZU1hdHJpeEludjpuLmxhYmVsUGxhbmVNYXRyaXhJbnZ9KSxwLmFjdGl2ZVRleHR1cmUuc2V0KGYuVEVYVFVSRTApLG4uYXRsYXNUZXh0dXJlLmJpbmQobi5hdGxhc0ludGVycG9sYXRpb24sZi5DTEFNUF9UT19FREdFKSxuLmF0bGFzVGV4dHVyZUljb24mJihwLmFjdGl2ZVRleHR1cmUuc2V0KGYuVEVYVFVSRTEpLG4uYXRsYXNUZXh0dXJlSWNvbiYmbi5hdGxhc1RleHR1cmVJY29uLmJpbmQobi5hdGxhc0ludGVycG9sYXRpb25JY29uLGYuQ0xBTVBfVE9fRURHRSkpLG4uaXNTREYpe2NvbnN0IHI9bi51bmlmb3JtVmFsdWVzO24uaGFzSGFsbyYmKHIudV9pc19oYWxvPTEsbWkobi5idWZmZXJzLGUuc2VnbWVudHMsaSx0LG4ucHJvZ3JhbSx3LGgsZCxyKSksci51X2lzX2hhbG89MH1taShuLmJ1ZmZlcnMsZS5zZWdtZW50cyxpLHQsbi5wcm9ncmFtLHcsaCxkLG4udW5pZm9ybVZhbHVlcyl9fWZ1bmN0aW9uIG1pKHQsbixpLHIsbyxhLHMsbCxjKXtjb25zdCB1PXIuY29udGV4dCxoPVt0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIsdC5vcGFjaXR5VmVydGV4QnVmZmVyLHQuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXJdO28uZHJhdyh1LHUuZ2wuVFJJQU5HTEVTLGEscyxsLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLGMsaS5pZCx0LmxheW91dFZlcnRleEJ1ZmZlcix0LmluZGV4QnVmZmVyLG4saS5wYWludCxyLnRyYW5zZm9ybS56b29tLHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSxoKX1mdW5jdGlvbiBnaSh0LG4saSxyLG8sYSxzKXtjb25zdCBsPXQuY29udGV4dC5nbCxjPWkucGFpbnQuZ2V0KFwiZmlsbC1wYXR0ZXJuXCIpLHU9YyYmYy5jb25zdGFudE9yKDEpO2xldCBoLGQscCxmLG07cz8oZD11JiYhaS5nZXRQYWludFByb3BlcnR5KFwiZmlsbC1vdXRsaW5lLWNvbG9yXCIpP1wiZmlsbE91dGxpbmVQYXR0ZXJuXCI6XCJmaWxsT3V0bGluZVwiLGg9bC5MSU5FUyk6KGQ9dT9cImZpbGxQYXR0ZXJuXCI6XCJmaWxsXCIsaD1sLlRSSUFOR0xFUyk7Zm9yKGNvbnN0IGcgb2Ygcil7Y29uc3Qgcj1uLmdldFRpbGUoZyk7aWYodSYmIXIucGF0dGVybnNMb2FkZWQoKSljb250aW51ZTtjb25zdCB5PXIuZ2V0QnVja2V0KGkpO2lmKCF5KWNvbnRpbnVlO3QucHJlcGFyZURyYXdUaWxlKCk7Y29uc3QgXz15LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCksdj10LnVzZVByb2dyYW0oZCxfKTt1JiYodC5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTApLHIuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChsLkxJTkVBUixsLkNMQU1QX1RPX0VER0UpLF8udXBkYXRlUGFpbnRCdWZmZXJzKCkpO2NvbnN0IHg9Yy5jb25zdGFudE9yKG51bGwpO2lmKHgmJnIuaW1hZ2VBdGxhcyl7Y29uc3QgZT1yLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc1t4LnRvU3RyaW5nKCldO2UmJl8uc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUpfWNvbnN0IGI9dC50cmFuc2xhdGVQb3NNYXRyaXgoZy5wcm9qTWF0cml4LHIsaS5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZVwiKSxpLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiKSk7aWYocyl7Zj15LmluZGV4QnVmZmVyMixtPXkuc2VnbWVudHMyO2NvbnN0IGU9dC50ZXJyYWluJiZ0LnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlP3QudGVycmFpbi5kcmFwZUJ1ZmZlclNpemU6W2wuZHJhd2luZ0J1ZmZlcldpZHRoLGwuZHJhd2luZ0J1ZmZlckhlaWdodF07cD1cImZpbGxPdXRsaW5lUGF0dGVyblwiPT09ZCYmdT9ObihiLHQscixlKTpGbihiLGUpfWVsc2UgZj15LmluZGV4QnVmZmVyLG09eS5zZWdtZW50cyxwPXU/am4oYix0LHIpOkJuKGIpO3QucHJlcGFyZURyYXdQcm9ncmFtKHQuY29udGV4dCx2LGcudG9VbndyYXBwZWQoKSksdi5kcmF3KHQuY29udGV4dCxoLG8sdC5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKGcpLGEsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQscCxpLmlkLHkubGF5b3V0VmVydGV4QnVmZmVyLGYsbSxpLnBhaW50LHQudHJhbnNmb3JtLnpvb20sXyl9fWZ1bmN0aW9uIHlpKHQsbixpLHIsbyxhLHMpe2NvbnN0IGw9dC5jb250ZXh0LGM9bC5nbCx1PXQudHJhbnNmb3JtLGg9aS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCIpLGQ9aC5jb25zdGFudE9yKDEpLHA9aS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCIpLGY9W2kucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCIpLGkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCIpXSxtPWkubGF5b3V0LmdldChcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCIpLGc9XCJnbG9iZVwiPT09dS5wcm9qZWN0aW9uLm5hbWU/ZS5maWxsRXh0cnVzaW9uSGVpZ2h0TGlmdCgpOjAseT1cImdsb2JlXCI9PT11LnByb2plY3Rpb24ubmFtZSxfPXk/ZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKHUuem9vbSk6MCx2PVtlLm1lcmNhdG9yWGZyb21MbmcodS5jZW50ZXIubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQodS5jZW50ZXIubGF0KV0seD1bXTt5JiYoeC5wdXNoKFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIpLHQuc3R5bGUudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkmJngucHVzaChcIlRFUlJBSU5cIikpLGZbMF0+MCYmeC5wdXNoKFwiRkFVWF9BT1wiKTtmb3IoY29uc3QgYiBvZiByKXtjb25zdCByPW4uZ2V0VGlsZShiKSx3PXIuZ2V0QnVja2V0KGkpO2lmKCF3fHx3LnByb2plY3Rpb24ubmFtZSE9PXUucHJvamVjdGlvbi5uYW1lKWNvbnRpbnVlO2NvbnN0IFQ9dy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLEU9dC51c2VQcm9ncmFtKGQ/XCJmaWxsRXh0cnVzaW9uUGF0dGVyblwiOlwiZmlsbEV4dHJ1c2lvblwiLFQseCk7aWYodC50ZXJyYWluKXtjb25zdCBlPXQudGVycmFpbjtpZih0LnN0eWxlLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpKWUuc2V0dXBFbGV2YXRpb25EcmF3KHIsRSx7dXNlTWV0ZXJUb0RlbTohMH0pO2Vsc2V7aWYoIXcuZW5hYmxlVGVycmFpbiljb250aW51ZTtpZihlLnNldHVwRWxldmF0aW9uRHJhdyhyLEUse3VzZU1ldGVyVG9EZW06ITB9KSxfaShsLG4sYix3LGksZSksIXcuY2VudHJvaWRWZXJ0ZXhCdWZmZXIpe2NvbnN0IGU9RS5hdHRyaWJ1dGVzLmFfY2VudHJvaWRfcG9zO3ZvaWQgMCE9PWUmJmMudmVydGV4QXR0cmliMmYoZSwwLDApfX19ZCYmKHQuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldChjLlRFWFRVUkUwKSxyLmltYWdlQXRsYXNUZXh0dXJlLmJpbmQoYy5MSU5FQVIsYy5DTEFNUF9UT19FREdFKSxULnVwZGF0ZVBhaW50QnVmZmVycygpKTtjb25zdCBTPWguY29uc3RhbnRPcihudWxsKTtpZihTJiZyLmltYWdlQXRsYXMpe2NvbnN0IGU9ci5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnNbUy50b1N0cmluZygpXTtlJiZULnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhlKX1jb25zdCBNPXQudHJhbnNsYXRlUG9zTWF0cml4KGIucHJvak1hdHJpeCxyLGkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCIpLGkucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiKSksST11LnByb2plY3Rpb24uY3JlYXRlSW52ZXJzaW9uTWF0cml4KHUsYi5jYW5vbmljYWwpLEM9aS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudFwiKSxrPWQ/Um4oTSx0LEMscCxmLG0sYixyLGcsXyx2LEkpOk9uKE0sdCxDLHAsZixtLGIsZyxfLHYsSSk7dC5wcmVwYXJlRHJhd1Byb2dyYW0obCxFLGIudG9VbndyYXBwZWQoKSk7Y29uc3QgQT1bXTt0LnRlcnJhaW4mJkEucHVzaCh3LmNlbnRyb2lkVmVydGV4QnVmZmVyKSx5JiZBLnB1c2gody5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXIpLEUuZHJhdyhsLGwuZ2wuVFJJQU5HTEVTLG8sYSxzLGUuQ3VsbEZhY2VNb2RlLmJhY2tDQ1csayxpLmlkLHcubGF5b3V0VmVydGV4QnVmZmVyLHcuaW5kZXhCdWZmZXIsdy5zZWdtZW50cyxpLnBhaW50LHQudHJhbnNmb3JtLnpvb20sVCxBKX19ZnVuY3Rpb24gX2kodCxuLGkscixvLGEpe2NvbnN0IHM9W3Q9PntsZXQgbj10LmNhbm9uaWNhbC54LTEsaT10LndyYXA7cmV0dXJuIG48MCYmKG49KDE8PHQuY2Fub25pY2FsLnopLTEsaS0tKSxuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosaSx0LmNhbm9uaWNhbC56LG4sdC5jYW5vbmljYWwueSl9LHQ9PntsZXQgbj10LmNhbm9uaWNhbC54KzEsaT10LndyYXA7cmV0dXJuIG49PT0xPDx0LmNhbm9uaWNhbC56JiYobj0wLGkrKyksbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLGksdC5jYW5vbmljYWwueixuLHQuY2Fub25pY2FsLnkpfSx0PT5uZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosdC53cmFwLHQuY2Fub25pY2FsLnosdC5jYW5vbmljYWwueCwoMD09PXQuY2Fub25pY2FsLnk/MTw8dC5jYW5vbmljYWwuejp0LmNhbm9uaWNhbC55KS0xKSx0PT5uZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosdC53cmFwLHQuY2Fub25pY2FsLnosdC5jYW5vbmljYWwueCx0LmNhbm9uaWNhbC55PT09KDE8PHQuY2Fub25pY2FsLnopLTE/MDp0LmNhbm9uaWNhbC55KzEpXSxsPWU9Pntjb25zdCB0PW4uZ2V0U291cmNlKCkubWluem9vbSxpPWU9Pntjb25zdCB0PW4uZ2V0VGlsZUJ5SUQoZSk7aWYodCYmdC5oYXNEYXRhKCkpcmV0dXJuIHQuZ2V0QnVja2V0KG8pfSxyPVswLC0xLDFdO2Zvcihjb25zdCBuIG9mIHIpe2lmKGUub3ZlcnNjYWxlZForbjx0KWNvbnRpbnVlO2NvbnN0IHI9aShlLmNhbGN1bGF0ZVNjYWxlZEtleShlLm92ZXJzY2FsZWRaK24pKTtpZihyKXJldHVybiByfX0sYz1bMCwwLDBdLHU9KHQsbik9PihjWzBdPU1hdGgubWluKHQubWluLnksbi5taW4ueSksY1sxXT1NYXRoLm1heCh0Lm1heC55LG4ubWF4LnkpLGNbMl09ZS5FWFRFTlQtbi5taW4ueD50Lm1heC54P24ubWluLngtZS5FWFRFTlQ6dC5tYXgueCxjKSxoPSh0LG4pPT4oY1swXT1NYXRoLm1pbih0Lm1pbi54LG4ubWluLngpLGNbMV09TWF0aC5tYXgodC5tYXgueCxuLm1heC54KSxjWzJdPWUuRVhURU5ULW4ubWluLnk+dC5tYXgueT9uLm1pbi55LWUuRVhURU5UOnQubWF4LnksYyksZD1bKGUsdCk9PnUoZSx0KSwoZSx0KT0+dSh0LGUpLChlLHQpPT5oKGUsdCksKGUsdCk9PmgodCxlKV0scD1uZXcgZS5wb2ludEdlb21ldHJ5KDAsMCk7bGV0IGYsbSxnO2NvbnN0IHk9KHQsbixyLG8scyk9Pntjb25zdCBsPVtbbz9yOnQsbz90OnIsMF0sW28/cjpuLG8/bjpyLDBdXSxjPXM8MD9lLkVYVEVOVCtzOnMsdT1bbz9jOih0K24pLzIsbz8odCtuKS8yOmMsMF07cmV0dXJuIDA9PT1yJiZzPDB8fDAhPT1yJiZzPjA/YS5nZXRGb3JUaWxlUG9pbnRzKGcsW3VdLCEwLG0pOmwucHVzaCh1KSxhLmdldEZvclRpbGVQb2ludHMoaSxsLCEwLGYpLE1hdGgubWF4KGxbMF1bMl0sbFsxXVsyXSx1WzJdKS9hLmV4YWdnZXJhdGlvbigpfTtmb3IobGV0IHQ9MDt0PDQ7dCsrKXtjb25zdCBuPSh0PDI/MTo1KS10LG89ci5ib3JkZXJzW3RdO2lmKDA9PT1vLmxlbmd0aCljb250aW51ZTtjb25zdCBjPWc9c1t0XShpKSx1PWwoYyk7aWYoISh1JiZ1IGluc3RhbmNlb2YgZS5GaWxsRXh0cnVzaW9uQnVja2V0JiZ1LmVuYWJsZVRlcnJhaW4pKWNvbnRpbnVlO2lmKHIuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbdF09PT11LmNhbm9uaWNhbC56JiZ1LmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW25dPT09ci5jYW5vbmljYWwueiljb250aW51ZTtpZihtPWEuZmluZERFTVRpbGVGb3IoYyksIW18fCFtLmRlbSljb250aW51ZTtpZighZil7Y29uc3QgZT1hLmZpbmRERU1UaWxlRm9yKGkpO2lmKCFlfHwhZS5kZW0pcmV0dXJuO2Y9ZX1jb25zdCBoPXUuYm9yZGVyc1tuXTtsZXQgXz0wO2NvbnN0IHY9dS5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltuXSE9PXIuY2Fub25pY2FsLno7aWYoci5jYW5vbmljYWwuej09PXUuY2Fub25pY2FsLnope2ZvcihsZXQgaT0wO2k8by5sZW5ndGg7aSsrKXtjb25zdCBhPXIuZmVhdHVyZXNPbkJvcmRlcltvW2ldXSxzPWEuYm9yZGVyc1t0XTtsZXQgbDtmb3IoO188aC5sZW5ndGgmJihsPXUuZmVhdHVyZXNPbkJvcmRlcltoW19dXSwhKGwuYm9yZGVyc1tuXVsxXT5zWzBdKzMpKTspdiYmdS5lbmNvZGVDZW50cm9pZCh2b2lkIDAsbCwhMSksXysrO2lmKGwmJl88aC5sZW5ndGgpe2NvbnN0IGk9XztsZXQgbz0wO2Zvcig7IShsLmJvcmRlcnNbbl1bMF0+c1sxXS0zKSYmKG8rKywrK18hPT1oLmxlbmd0aCk7KWw9dS5mZWF0dXJlc09uQm9yZGVyW2hbX11dO2lmKGw9dS5mZWF0dXJlc09uQm9yZGVyW2hbaV1dLGEuaW50ZXJzZWN0c0NvdW50KCk+MXx8bC5pbnRlcnNlY3RzQ291bnQoKT4xfHwxIT09byl7MSE9PW8mJihfPWkpLHIuZW5jb2RlQ2VudHJvaWQodm9pZCAwLGEsITEpLHYmJnUuZW5jb2RlQ2VudHJvaWQodm9pZCAwLGwsITEpO2NvbnRpbnVlfWNvbnN0IGM9ZFt0XShhLGwpLGY9dCUyP2UuRVhURU5ULTE6MDtwLng9eShjWzBdLE1hdGgubWluKGUuRVhURU5ULTEsY1sxXSksZix0PDIsY1syXSkscC55PTAsci5lbmNvZGVDZW50cm9pZChwLGEsITEpLHYmJnUuZW5jb2RlQ2VudHJvaWQocCxsLCExKX1lbHNlIHIuZW5jb2RlQ2VudHJvaWQodm9pZCAwLGEsITEpfXIuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbdF09dS5jYW5vbmljYWwueixyLm5lZWRzQ2VudHJvaWRVcGRhdGU9ITAsdiYmKHUuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbbl09ci5jYW5vbmljYWwueix1Lm5lZWRzQ2VudHJvaWRVcGRhdGU9ITApfWVsc2V7Zm9yKGNvbnN0IGUgb2YgbylyLmVuY29kZUNlbnRyb2lkKHZvaWQgMCxyLmZlYXR1cmVzT25Cb3JkZXJbZV0sITEpO2lmKHYpe2Zvcihjb25zdCBlIG9mIGgpdS5lbmNvZGVDZW50cm9pZCh2b2lkIDAsdS5mZWF0dXJlc09uQm9yZGVyW2VdLCExKTt1LmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW25dPXIuY2Fub25pY2FsLnosdS5uZWVkc0NlbnRyb2lkVXBkYXRlPSEwfXIuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbdF09dS5jYW5vbmljYWwueixyLm5lZWRzQ2VudHJvaWRVcGRhdGU9ITB9fShyLm5lZWRzQ2VudHJvaWRVcGRhdGV8fCFyLmNlbnRyb2lkVmVydGV4QnVmZmVyJiYwIT09ci5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aCkmJnIudXBsb2FkQ2VudHJvaWQodCl9Y29uc3Qgdmk9bmV3IGUuQ29sb3IoMSwwLDAsMSkseGk9bmV3IGUuQ29sb3IoMCwxLDAsMSksYmk9bmV3IGUuQ29sb3IoMCwwLDEsMSksd2k9bmV3IGUuQ29sb3IoMSwwLDEsMSksVGk9bmV3IGUuQ29sb3IoMCwxLDEsMSk7ZnVuY3Rpb24gRWkodCxuLGkpe2NvbnN0IHI9dC5jb250ZXh0LG89dC50cmFuc2Zvcm0sYT1yLmdsLHM9XCJnbG9iZVwiPT09by5wcm9qZWN0aW9uLm5hbWUsbD1zP1tcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiXTpudWxsO2xldCBjPWkucHJvak1hdHJpeDtpZihzJiZlLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24oby56b29tKT4wKXtjb25zdCB0PWUudHJhbnNpdGlvblRpbGVBQUJCaW5FQ0VGKGkuY2Fub25pY2FsLG8pLG49ZS5nbG9iZURlbm9ybWFsaXplRUNFRih0KTtjPWUubXVsdGlwbHkobmV3IEZsb2F0MzJBcnJheSgxNiksby5nbG9iZU1hdHJpeCxuKSxlLm11bHRpcGx5KGMsby5wcm9qTWF0cml4LGMpfWNvbnN0IHU9dC51c2VQcm9ncmFtKFwiZGVidWdcIixudWxsLGwpLGg9bi5nZXRUaWxlQnlJRChpLmtleSk7dC50ZXJyYWluJiZ0LnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KGgsdSk7Y29uc3QgZD1lLkRlcHRoTW9kZS5kaXNhYmxlZCxwPWUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsZj10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxtPVwiJGRlYnVnXCI7ci5hY3RpdmVUZXh0dXJlLnNldChhLlRFWFRVUkUwKSx0LmVtcHR5VGV4dHVyZS5iaW5kKGEuTElORUFSLGEuQ0xBTVBfVE9fRURHRSkscz9oLl9tYWtlR2xvYmVUaWxlRGVidWdCdWZmZXJzKHQuY29udGV4dCxvKTpoLl9tYWtlRGVidWdUaWxlQm91bmRzQnVmZmVycyh0LmNvbnRleHQsby5wcm9qZWN0aW9uKTtjb25zdCBnPWguX3RpbGVEZWJ1Z0J1ZmZlcnx8dC5kZWJ1Z0J1ZmZlcix5PWguX3RpbGVEZWJ1Z0luZGV4QnVmZmVyfHx0LmRlYnVnSW5kZXhCdWZmZXIsXz1oLl90aWxlRGVidWdTZWdtZW50c3x8dC5kZWJ1Z1NlZ21lbnRzO3UuZHJhdyhyLGEuTElORV9TVFJJUCxkLHAsZixlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxXbihjLGUuQ29sb3IucmVkKSxtLGcseSxfLG51bGwsbnVsbCxudWxsLFtoLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcl0pO2NvbnN0IHY9aC5sYXRlc3RSYXdUaWxlRGF0YSx4PU1hdGguZmxvb3IoKHYmJnYuYnl0ZUxlbmd0aHx8MCkvMTAyNCksYj1uLmdldFRpbGUoaSkudGlsZVNpemUsdz01MTIvTWF0aC5taW4oYiw1MTIpKihpLm92ZXJzY2FsZWRaL28uem9vbSkqLjU7bGV0IFQ9aS5jYW5vbmljYWwudG9TdHJpbmcoKTtpLm92ZXJzY2FsZWRaIT09aS5jYW5vbmljYWwueiYmKFQrPVwiID0+IFwiK2kub3ZlcnNjYWxlZFopLFQrPWAgJHt4fWtiYCxmdW5jdGlvbihlLHQpe2UuaW5pdERlYnVnT3ZlcmxheUNhbnZhcygpO2NvbnN0IG49ZS5kZWJ1Z092ZXJsYXlDYW52YXMsaT1lLmNvbnRleHQuZ2wscj1lLmRlYnVnT3ZlcmxheUNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7ci5jbGVhclJlY3QoMCwwLG4ud2lkdGgsbi5oZWlnaHQpLHIuc2hhZG93Q29sb3I9XCJ3aGl0ZVwiLHIuc2hhZG93Qmx1cj0yLHIubGluZVdpZHRoPTEuNSxyLnN0cm9rZVN0eWxlPVwid2hpdGVcIixyLnRleHRCYXNlbGluZT1cInRvcFwiLHIuZm9udD1cImJvbGQgMzZweCBPcGVuIFNhbnMsIHNhbnMtc2VyaWZcIixyLmZpbGxUZXh0KHQsNSw1KSxyLnN0cm9rZVRleHQodCw1LDUpLGUuZGVidWdPdmVybGF5VGV4dHVyZS51cGRhdGUobiksZS5kZWJ1Z092ZXJsYXlUZXh0dXJlLmJpbmQoaS5MSU5FQVIsaS5DTEFNUF9UT19FREdFKX0odCxUKTtjb25zdCBFPWguX3RpbGVEZWJ1Z1RleHRCdWZmZXJ8fHQuZGVidWdCdWZmZXIsUz1oLl90aWxlRGVidWdUZXh0SW5kZXhCdWZmZXJ8fHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsTT1oLl90aWxlRGVidWdUZXh0U2VnbWVudHN8fHQuZGVidWdTZWdtZW50czt1LmRyYXcocixhLlRSSUFOR0xFUyxkLHAsZS5Db2xvck1vZGUuYWxwaGFCbGVuZGVkLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFduKGMsZS5Db2xvci50cmFuc3BhcmVudCx3KSxtLEUsUyxNLG51bGwsbnVsbCxudWxsLFtoLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXJdKX1mdW5jdGlvbiBTaShlLHQsbixpKXtJaShlLDAsdCtuLzIsZS50cmFuc2Zvcm0ud2lkdGgsbixpKX1mdW5jdGlvbiBNaShlLHQsbixpKXtJaShlLHQtbi8yLDAsbixlLnRyYW5zZm9ybS5oZWlnaHQsaSl9ZnVuY3Rpb24gSWkodCxuLGkscixvLGEpe2NvbnN0IHM9dC5jb250ZXh0LGw9cy5nbDtsLmVuYWJsZShsLlNDSVNTT1JfVEVTVCksbC5zY2lzc29yKG4qZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLGkqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHIqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLG8qZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvKSxzLmNsZWFyKHtjb2xvcjphfSksbC5kaXNhYmxlKGwuU0NJU1NPUl9URVNUKX1jb25zdCBDaT1lLmNyZWF0ZUxheW91dChbe25hbWU6XCJhX3Bvc18zZlwiLGNvbXBvbmVudHM6Myx0eXBlOlwiRmxvYXQzMlwifV0pLHttZW1iZXJzOmtpfT1DaTtmdW5jdGlvbiBBaShlLHQsbixpKXtlLmVtcGxhY2VCYWNrKHQsbixpKX1jbGFzcyBQaXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnZlcnRleEFycmF5PW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0M2YxMix0aGlzLmluZGljZXM9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQzdWk2LEFpKHRoaXMudmVydGV4QXJyYXksLTEsLTEsMSksQWkodGhpcy52ZXJ0ZXhBcnJheSwxLC0xLDEpLEFpKHRoaXMudmVydGV4QXJyYXksLTEsMSwxKSxBaSh0aGlzLnZlcnRleEFycmF5LDEsMSwxKSxBaSh0aGlzLnZlcnRleEFycmF5LC0xLC0xLC0xKSxBaSh0aGlzLnZlcnRleEFycmF5LDEsLTEsLTEpLEFpKHRoaXMudmVydGV4QXJyYXksLTEsMSwtMSksQWkodGhpcy52ZXJ0ZXhBcnJheSwxLDEsLTEpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg1LDEsMyksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDMsNyw1KSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNiwyLDApLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygwLDQsNiksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDIsNiw3KSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNywzLDIpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg1LDQsMCksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDAsMSw1KSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMCwyLDMpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygzLDEsMCksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDcsNiw0KSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNCw1LDcpLHRoaXMudmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMudmVydGV4QXJyYXksa2kpLHRoaXMuaW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGljZXMpLHRoaXMuc2VnbWVudD1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsMzYsMTIpfX1mdW5jdGlvbiB6aSh0LG4saSxyLG8sYSl7Y29uc3Qgcz10LmdsLGw9bi5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiKSxjPW4ucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiKSx1PW4ucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiKSxoPSgoZSx0LG4saSxyKT0+KHt1X21hdHJpeF8zZjplLHVfc3VuX2RpcmVjdGlvbjp0LHVfc3VuX2ludGVuc2l0eTpuLHVfY29sb3JfdGludF9yOltpLnIsaS5nLGkuYixpLmFdLHVfY29sb3JfdGludF9tOltyLnIsci5nLHIuYixyLmFdLHVfbHVtaW5hbmNlOjVlLTV9KSkoZS5mcm9tTWF0NChlLmNyZWF0ZSQxKCksciksbyx1LGwsYyk7cy5mcmFtZWJ1ZmZlclRleHR1cmUyRChzLkZSQU1FQlVGRkVSLHMuQ09MT1JfQVRUQUNITUVOVDAscy5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grYSxuLnNreWJveFRleHR1cmUsMCksaS5kcmF3KHQscy5UUklBTkdMRVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxlLkNvbG9yTW9kZS51bmJsZW5kZWQsZS5DdWxsRmFjZU1vZGUuZnJvbnRDVyxoLFwic2t5Ym94Q2FwdHVyZVwiLG4uc2t5Ym94R2VvbWV0cnkudmVydGV4QnVmZmVyLG4uc2t5Ym94R2VvbWV0cnkuaW5kZXhCdWZmZXIsbi5za3lib3hHZW9tZXRyeS5zZWdtZW50KX1jb25zdCBEaT1lLmNyZWF0ZUxheW91dChbe3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfcG9zXCIsY29tcG9uZW50czozfSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV91dlwiLGNvbXBvbmVudHM6Mn1dKTtjbGFzcyBMaXtjb25zdHJ1Y3Rvcih0KXtjb25zdCBuPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0NWYyMDtuLmVtcGxhY2VCYWNrKC0xLDEsMSwwLDApLG4uZW1wbGFjZUJhY2soMSwxLDEsMSwwKSxuLmVtcGxhY2VCYWNrKDEsLTEsMSwxLDEpLG4uZW1wbGFjZUJhY2soLTEsLTEsMSwwLDEpO2NvbnN0IGk9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQzdWk2O2kuZW1wbGFjZUJhY2soMCwxLDIpLGkuZW1wbGFjZUJhY2soMiwzLDApLHRoaXMudmVydGV4QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKG4sRGkubWVtYmVycyksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKGkpLHRoaXMuc2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMil9ZGVzdHJveSgpe3RoaXMudmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKX19Y29uc3QgT2k9e3N5bWJvbDpmdW5jdGlvbih0LG4saSxyLG8pe2lmKFwidHJhbnNsdWNlbnRcIiE9PXQucmVuZGVyUGFzcylyZXR1cm47Y29uc3QgYT1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHM9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7aS5sYXlvdXQuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIikmJmZ1bmN0aW9uKHQsbixpLHIsbyxhLHMpe2NvbnN0IGw9bi50cmFuc2Zvcm0sYz1cIm1hcFwiPT09byx1PVwibWFwXCI9PT1hO2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9ci5nZXRUaWxlKG4pLG89dC5nZXRCdWNrZXQoaSk7aWYoIW98fCFvLnRleHR8fCFvLnRleHQuc2VnbWVudHMuZ2V0KCkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IGE9ZS5ldmFsdWF0ZVNpemVGb3Jab29tKG8udGV4dFNpemVEYXRhLGwuem9vbSksaD14dChuLG8uZ2V0UHJvamVjdGlvbigpLGwpLGQ9bC5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0KSxwPXR0KGgsdC50aWxlSUQuY2Fub25pY2FsLHUsYyxsLG8uZ2V0UHJvamVjdGlvbigpLGQpLGY9XCJub25lXCIhPT1pLmxheW91dC5nZXQoXCJpY29uLXRleHQtZml0XCIpJiZvLmhhc0ljb25EYXRhKCk7aWYoYSl7Y29uc3QgaT1NYXRoLnBvdygyLGwuem9vbS10LnRpbGVJRC5vdmVyc2NhbGVkWik7ZGkobyxjLHUscyxlLnN5bWJvbFNpemUsbCxwLG4saSxhLGYpfX19KHIsdCxpLG4saS5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIiksaS5sYXlvdXQuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIiksbyksMCE9PWkucGFpbnQuZ2V0KFwiaWNvbi1vcGFjaXR5XCIpLmNvbnN0YW50T3IoMSkmJmZpKHQsbixpLHIsITEsaS5wYWludC5nZXQoXCJpY29uLXRyYW5zbGF0ZVwiKSxpLnBhaW50LmdldChcImljb24tdHJhbnNsYXRlLWFuY2hvclwiKSxpLmxheW91dC5nZXQoXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiKSxpLmxheW91dC5nZXQoXCJpY29uLXBpdGNoLWFsaWdubWVudFwiKSxpLmxheW91dC5nZXQoXCJpY29uLWtlZXAtdXByaWdodFwiKSxhLHMpLDAhPT1pLnBhaW50LmdldChcInRleHQtb3BhY2l0eVwiKS5jb25zdGFudE9yKDEpJiZmaSh0LG4saSxyLCEwLGkucGFpbnQuZ2V0KFwidGV4dC10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIiksaS5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIiksaS5sYXlvdXQuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIiksaS5sYXlvdXQuZ2V0KFwidGV4dC1rZWVwLXVwcmlnaHRcIiksYSxzKSxuLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMmJihjaSh0LG4saSxyLGkucGFpbnQuZ2V0KFwidGV4dC10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIiksITApLGNpKHQsbixpLHIsaS5wYWludC5nZXQoXCJpY29uLXRyYW5zbGF0ZVwiKSxpLnBhaW50LmdldChcImljb24tdHJhbnNsYXRlLWFuY2hvclwiKSwhMSkpfSxjaXJjbGU6ZnVuY3Rpb24odCxuLGkscil7aWYoXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtjb25zdCBvPWkucGFpbnQuZ2V0KFwiY2lyY2xlLW9wYWNpdHlcIiksYT1pLnBhaW50LmdldChcImNpcmNsZS1zdHJva2Utd2lkdGhcIikscz1pLnBhaW50LmdldChcImNpcmNsZS1zdHJva2Utb3BhY2l0eVwiKSxsPXZvaWQgMCE9PWkubGF5b3V0LmdldChcImNpcmNsZS1zb3J0LWtleVwiKS5jb25zdGFudE9yKDEpO2lmKDA9PT1vLmNvbnN0YW50T3IoMSkmJigwPT09YS5jb25zdGFudE9yKDEpfHwwPT09cy5jb25zdGFudE9yKDEpKSlyZXR1cm47Y29uc3QgYz10LmNvbnRleHQsdT1jLmdsLGg9dC50cmFuc2Zvcm0sZD10LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsZS5EZXB0aE1vZGUuUmVhZE9ubHkpLHA9ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxmPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLG09XCJnbG9iZVwiPT09aC5wcm9qZWN0aW9uLm5hbWUsZz1bZS5tZXJjYXRvclhmcm9tTG5nKGguY2VudGVyLmxuZyksZS5tZXJjYXRvcllmcm9tTGF0KGguY2VudGVyLmxhdCldLHk9W107Zm9yKGxldCBvPTA7bzxyLmxlbmd0aDtvKyspe2NvbnN0IGE9cltvXSxzPW4uZ2V0VGlsZShhKSxjPXMuZ2V0QnVja2V0KGkpO2lmKCFjfHxjLnByb2plY3Rpb24ubmFtZSE9PWgucHJvamVjdGlvbi5uYW1lKWNvbnRpbnVlO2NvbnN0IHU9Yy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLGQ9R24oaSk7bSYmZC5wdXNoKFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIpO2NvbnN0IHA9dC51c2VQcm9ncmFtKFwiY2lyY2xlXCIsdSxkKSxmPWMubGF5b3V0VmVydGV4QnVmZmVyLF89Yy5nbG9iZUV4dFZlcnRleEJ1ZmZlcix2PWMuaW5kZXhCdWZmZXIseD1oLnByb2plY3Rpb24uY3JlYXRlSW52ZXJzaW9uTWF0cml4KGgsYS5jYW5vbmljYWwpLGI9e3Byb2dyYW1Db25maWd1cmF0aW9uOnUscHJvZ3JhbTpwLGxheW91dFZlcnRleEJ1ZmZlcjpmLGdsb2JlRXh0VmVydGV4QnVmZmVyOl8saW5kZXhCdWZmZXI6dix1bmlmb3JtVmFsdWVzOlZuKHQsYSxzLHgsZyxpKSx0aWxlOnN9O2lmKGwpe2NvbnN0IHQ9Yy5zZWdtZW50cy5nZXQoKTtmb3IoY29uc3QgbiBvZiB0KXkucHVzaCh7c2VnbWVudHM6bmV3IGUuU2VnbWVudFZlY3Rvcihbbl0pLHNvcnRLZXk6bi5zb3J0S2V5LHN0YXRlOmJ9KX1lbHNlIHkucHVzaCh7c2VnbWVudHM6Yy5zZWdtZW50cyxzb3J0S2V5OjAsc3RhdGU6Yn0pfWwmJnkuc29ydCgoZSx0KT0+ZS5zb3J0S2V5LXQuc29ydEtleSk7Y29uc3QgXz17dXNlRGVwdGhGb3JPY2NsdXNpb246IW19O2Zvcihjb25zdCBuIG9mIHkpe2NvbnN0e3Byb2dyYW1Db25maWd1cmF0aW9uOnIscHJvZ3JhbTpvLGxheW91dFZlcnRleEJ1ZmZlcjphLGdsb2JlRXh0VmVydGV4QnVmZmVyOnMsaW5kZXhCdWZmZXI6bCx1bmlmb3JtVmFsdWVzOm0sdGlsZTpnfT1uLnN0YXRlLHk9bi5zZWdtZW50czt0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcoZyxvLF8pLHQucHJlcGFyZURyYXdQcm9ncmFtKGMsbyxnLnRpbGVJRC50b1Vud3JhcHBlZCgpKSxvLmRyYXcoYyx1LlRSSUFOR0xFUyxkLHAsZixlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxtLGkuaWQsYSxsLHksaS5wYWludCxoLnpvb20scixbc10pfX0saGVhdG1hcDpmdW5jdGlvbih0LG4saSxyKXtpZigwIT09aS5wYWludC5nZXQoXCJoZWF0bWFwLW9wYWNpdHlcIikpaWYoXCJvZmZzY3JlZW5cIj09PXQucmVuZGVyUGFzcyl7Y29uc3Qgbz10LmNvbnRleHQsYT1vLmdsLHM9ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxsPW5ldyBlLkNvbG9yTW9kZShbYS5PTkUsYS5PTkVdLGUuQ29sb3IudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSk7IWZ1bmN0aW9uKGUsdCxuLGkpe2NvbnN0IHI9ZS5nbCxvPXQud2lkdGgqaSxhPXQuaGVpZ2h0Kmk7ZS5hY3RpdmVUZXh0dXJlLnNldChyLlRFWFRVUkUxKSxlLnZpZXdwb3J0LnNldChbMCwwLG8sYV0pO2xldCBzPW4uaGVhdG1hcEZibztpZighc3x8cyYmKHMud2lkdGghPT1vfHxzLmhlaWdodCE9PWEpKXtzJiZzLmRlc3Ryb3koKTtjb25zdCB0PXIuY3JlYXRlVGV4dHVyZSgpO3IuYmluZFRleHR1cmUoci5URVhUVVJFXzJELHQpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX1dSQVBfUyxyLkNMQU1QX1RPX0VER0UpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX1dSQVBfVCxyLkNMQU1QX1RPX0VER0UpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX01JTl9GSUxURVIsci5MSU5FQVIpLHIudGV4UGFyYW1ldGVyaShyLlRFWFRVUkVfMkQsci5URVhUVVJFX01BR19GSUxURVIsci5MSU5FQVIpLHM9bi5oZWF0bWFwRmJvPWUuY3JlYXRlRnJhbWVidWZmZXIobyxhLCExKSxmdW5jdGlvbihlLHQsbixpLHIsbyl7Y29uc3QgYT1lLmdsO2EudGV4SW1hZ2UyRChhLlRFWFRVUkVfMkQsMCxhLlJHQkEscixvLDAsYS5SR0JBLGUuZXh0UmVuZGVyVG9UZXh0dXJlSGFsZkZsb2F0P2UuZXh0VGV4dHVyZUhhbGZGbG9hdC5IQUxGX0ZMT0FUX09FUzphLlVOU0lHTkVEX0JZVEUsbnVsbCksaS5jb2xvckF0dGFjaG1lbnQuc2V0KG4pfShlLDAsdCxzLG8sYSl9ZWxzZSByLmJpbmRUZXh0dXJlKHIuVEVYVFVSRV8yRCxzLmNvbG9yQXR0YWNobWVudC5nZXQoKSksZS5iaW5kRnJhbWVidWZmZXIuc2V0KHMuZnJhbWVidWZmZXIpfShvLHQsaSxcImdsb2JlXCI9PT10LnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWU/LjU6LjI1KSxvLmNsZWFyKHtjb2xvcjplLkNvbG9yLnRyYW5zcGFyZW50fSk7Y29uc3QgYz10LnRyYW5zZm9ybSx1PVwiZ2xvYmVcIj09PWMucHJvamVjdGlvbi5uYW1lLGg9dT9bXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIl06bnVsbCxkPXU/ZS5DdWxsRmFjZU1vZGUuZnJvbnRDQ1c6ZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQscD1bZS5tZXJjYXRvclhmcm9tTG5nKGMuY2VudGVyLmxuZyksZS5tZXJjYXRvcllmcm9tTGF0KGMuY2VudGVyLmxhdCldO2ZvcihsZXQgZj0wO2Y8ci5sZW5ndGg7ZisrKXtjb25zdCBtPXJbZl07aWYobi5oYXNSZW5kZXJhYmxlUGFyZW50KG0pKWNvbnRpbnVlO2NvbnN0IGc9bi5nZXRUaWxlKG0pLHk9Zy5nZXRCdWNrZXQoaSk7aWYoIXl8fHkucHJvamVjdGlvbi5uYW1lIT09Yy5wcm9qZWN0aW9uLm5hbWUpY29udGludWU7Y29uc3QgXz15LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCksdj10LnVzZVByb2dyYW0oXCJoZWF0bWFwXCIsXyxoKSx7em9vbTp4fT10LnRyYW5zZm9ybTt0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcoZyx2KSx0LnByZXBhcmVEcmF3UHJvZ3JhbShvLHYsbS50b1Vud3JhcHBlZCgpKTtjb25zdCBiPWMucHJvamVjdGlvbi5jcmVhdGVJbnZlcnNpb25NYXRyaXgoYyxtLmNhbm9uaWNhbCk7di5kcmF3KG8sYS5UUklBTkdMRVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQscyxsLGQsJG4odCxtLGcsYixwLHgsaS5wYWludC5nZXQoXCJoZWF0bWFwLWludGVuc2l0eVwiKSksaS5pZCx5LmxheW91dFZlcnRleEJ1ZmZlcix5LmluZGV4QnVmZmVyLHkuc2VnbWVudHMsaS5wYWludCx0LnRyYW5zZm9ybS56b29tLF8sdT9beS5nbG9iZUV4dFZlcnRleEJ1ZmZlcl06bnVsbCl9by52aWV3cG9ydC5zZXQoWzAsMCx0LndpZHRoLHQuaGVpZ2h0XSl9ZWxzZVwidHJhbnNsdWNlbnRcIj09PXQucmVuZGVyUGFzcyYmKHQuY29udGV4dC5zZXRDb2xvck1vZGUodC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpLGZ1bmN0aW9uKHQsbil7Y29uc3QgaT10LmNvbnRleHQscj1pLmdsLG89bi5oZWF0bWFwRmJvO2lmKCFvKXJldHVybjtpLmFjdGl2ZVRleHR1cmUuc2V0KHIuVEVYVFVSRTApLHIuYmluZFRleHR1cmUoci5URVhUVVJFXzJELG8uY29sb3JBdHRhY2htZW50LmdldCgpKSxpLmFjdGl2ZVRleHR1cmUuc2V0KHIuVEVYVFVSRTEpO2xldCBhPW4uY29sb3JSYW1wVGV4dHVyZTthfHwoYT1uLmNvbG9yUmFtcFRleHR1cmU9bmV3IGUuVGV4dHVyZShpLG4uY29sb3JSYW1wLHIuUkdCQSkpLGEuYmluZChyLkxJTkVBUixyLkNMQU1QX1RPX0VER0UpLHQudXNlUHJvZ3JhbShcImhlYXRtYXBUZXh0dXJlXCIpLmRyYXcoaSxyLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLCgoZSx0LG4saSk9Pih7dV9pbWFnZTowLHVfY29sb3JfcmFtcDoxLHVfb3BhY2l0eTp0LnBhaW50LmdldChcImhlYXRtYXAtb3BhY2l0eVwiKX0pKSgwLG4pLG4uaWQsdC52aWV3cG9ydEJ1ZmZlcix0LnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLHQudmlld3BvcnRTZWdtZW50cyxuLnBhaW50LHQudHJhbnNmb3JtLnpvb20pfSh0LGkpKX0sbGluZTpmdW5jdGlvbih0LG4saSxyKXtpZihcInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IG89aS5wYWludC5nZXQoXCJsaW5lLW9wYWNpdHlcIiksYT1pLnBhaW50LmdldChcImxpbmUtd2lkdGhcIik7aWYoMD09PW8uY29uc3RhbnRPcigxKXx8MD09PWEuY29uc3RhbnRPcigxKSlyZXR1cm47Y29uc3Qgcz10LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsZS5EZXB0aE1vZGUuUmVhZE9ubHkpLGw9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksYz10LnRlcnJhaW4mJnQudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmU/MTplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sdT1pLnBhaW50LmdldChcImxpbmUtZGFzaGFycmF5XCIpLGg9dS5jb25zdGFudE9yKDEpLGQ9aS5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikscD1pLnBhaW50LmdldChcImxpbmUtcGF0dGVyblwiKSxmPXAuY29uc3RhbnRPcigxKSxtPWkucGFpbnQuZ2V0KFwibGluZS1ncmFkaWVudFwiKSxnPWY/XCJsaW5lUGF0dGVyblwiOlwibGluZVwiLHk9dC5jb250ZXh0LF89eS5nbCx2PShlPT57Y29uc3QgdD1bXTtRbihlKSYmdC5wdXNoKFwiUkVOREVSX0xJTkVfREFTSFwiKSxlLnBhaW50LmdldChcImxpbmUtZ3JhZGllbnRcIikmJnQucHVzaChcIlJFTkRFUl9MSU5FX0dSQURJRU5UXCIpO2NvbnN0IG49ZS5wYWludC5nZXQoXCJsaW5lLXRyaW0tb2Zmc2V0XCIpOzA9PT1uWzBdJiYwPT09blsxXXx8dC5wdXNoKFwiUkVOREVSX0xJTkVfVFJJTV9PRkZTRVRcIik7Y29uc3QgaT1lLnBhaW50LmdldChcImxpbmUtcGF0dGVyblwiKS5jb25zdGFudE9yKDEpLHI9MSE9PWUucGFpbnQuZ2V0KFwibGluZS1vcGFjaXR5XCIpLmNvbnN0YW50T3IoMSk7cmV0dXJuIWkmJnImJnQucHVzaChcIlJFTkRFUl9MSU5FX0FMUEhBX0RJU0NBUkRcIiksdH0pKGkpO2xldCB4PXYuaW5jbHVkZXMoXCJSRU5ERVJfTElORV9BTFBIQV9ESVNDQVJEXCIpO3QudGVycmFpbiYmdC50ZXJyYWluLmNsaXBPck1hc2tPdmVybGFwU3RlbmNpbFR5cGUoKSYmKHg9ITEpO2Zvcihjb25zdCBvIG9mIHIpe2NvbnN0IHI9bi5nZXRUaWxlKG8pO2lmKGYmJiFyLnBhdHRlcm5zTG9hZGVkKCkpY29udGludWU7Y29uc3QgYT1yLmdldEJ1Y2tldChpKTtpZighYSljb250aW51ZTt0LnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IGI9YS5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLHc9dC51c2VQcm9ncmFtKGcsYix2KSxUPXAuY29uc3RhbnRPcihudWxsKTtpZihUJiZyLmltYWdlQXRsYXMpe2NvbnN0IGU9ci5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnNbVC50b1N0cmluZygpXTtlJiZiLnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhlKX1jb25zdCBFPXUuY29uc3RhbnRPcihudWxsKSxTPWQuY29uc3RhbnRPcihudWxsKTtpZighZiYmRSYmUyYmci5saW5lQXRsYXMpe2NvbnN0IGU9ci5saW5lQXRsYXMuZ2V0RGFzaChFLFMpO2UmJmIuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUpfWxldFtNLEldPWkucGFpbnQuZ2V0KFwibGluZS10cmltLW9mZnNldFwiKTtpZihcInJvdW5kXCI9PT1TfHxcInNxdWFyZVwiPT09Uyl7Y29uc3QgZT0xO00hPT1JJiYoMD09PU0mJihNLT1lKSwxPT09SSYmKEkrPWUpKX1jb25zdCBDPXQudGVycmFpbj9vLnByb2pNYXRyaXg6bnVsbCxrPWY/WG4odCxyLGksQyxjKTpIbih0LHIsaSxDLGEubGluZUNsaXBzQXJyYXkubGVuZ3RoLGMsW00sSV0pO2lmKG0pe2NvbnN0IHI9YS5ncmFkaWVudHNbaS5pZF07bGV0IHM9ci50ZXh0dXJlO2lmKGkuZ3JhZGllbnRWZXJzaW9uIT09ci52ZXJzaW9uKXtsZXQgbD0yNTY7aWYoaS5zdGVwSW50ZXJwb2xhbnQpe2NvbnN0IGk9bi5nZXRTb3VyY2UoKS5tYXh6b29tLHI9by5jYW5vbmljYWwuej09PWk/TWF0aC5jZWlsKDE8PHQudHJhbnNmb3JtLm1heFpvb20tby5jYW5vbmljYWwueik6MTtsPWUuY2xhbXAoZS5uZXh0UG93ZXJPZlR3byhhLm1heExpbmVMZW5ndGgvZS5FWFRFTlQqMTAyNCpyKSwyNTYseS5tYXhUZXh0dXJlU2l6ZSl9ci5ncmFkaWVudD1lLnJlbmRlckNvbG9yUmFtcCh7ZXhwcmVzc2lvbjppLmdyYWRpZW50RXhwcmVzc2lvbigpLGV2YWx1YXRpb25LZXk6XCJsaW5lUHJvZ3Jlc3NcIixyZXNvbHV0aW9uOmwsaW1hZ2U6ci5ncmFkaWVudHx8dm9pZCAwLGNsaXBzOmEubGluZUNsaXBzQXJyYXl9KSxyLnRleHR1cmU/ci50ZXh0dXJlLnVwZGF0ZShyLmdyYWRpZW50KTpyLnRleHR1cmU9bmV3IGUuVGV4dHVyZSh5LHIuZ3JhZGllbnQsXy5SR0JBKSxyLnZlcnNpb249aS5ncmFkaWVudFZlcnNpb24scz1yLnRleHR1cmV9eS5hY3RpdmVUZXh0dXJlLnNldChfLlRFWFRVUkUxKSxzLmJpbmQoaS5zdGVwSW50ZXJwb2xhbnQ/Xy5ORUFSRVNUOl8uTElORUFSLF8uQ0xBTVBfVE9fRURHRSl9aCYmKHkuYWN0aXZlVGV4dHVyZS5zZXQoXy5URVhUVVJFMCksci5saW5lQXRsYXNUZXh0dXJlLmJpbmQoXy5MSU5FQVIsXy5SRVBFQVQpLGIudXBkYXRlUGFpbnRCdWZmZXJzKCkpLGYmJih5LmFjdGl2ZVRleHR1cmUuc2V0KF8uVEVYVFVSRTApLHIuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChfLkxJTkVBUixfLkNMQU1QX1RPX0VER0UpLGIudXBkYXRlUGFpbnRCdWZmZXJzKCkpLHQucHJlcGFyZURyYXdQcm9ncmFtKHksdyxvLnRvVW53cmFwcGVkKCkpO2NvbnN0IEE9bj0+e3cuZHJhdyh5LF8uVFJJQU5HTEVTLHMsbixsLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLGssaS5pZCxhLmxheW91dFZlcnRleEJ1ZmZlcixhLmluZGV4QnVmZmVyLGEuc2VnbWVudHMsaS5wYWludCx0LnRyYW5zZm9ybS56b29tLGIsW2EubGF5b3V0VmVydGV4QnVmZmVyMl0pfTtpZih4KXtjb25zdCBuPXQuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhvKS5yZWY7MD09PW4mJnQudGVycmFpbiYmeS5jbGVhcih7c3RlbmNpbDowfSk7Y29uc3QgaT17ZnVuYzpfLkVRVUFMLG1hc2s6MjU1fTtrLnVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ9LjgsQShuZXcgZS5TdGVuY2lsTW9kZShpLG4sMjU1LF8uS0VFUCxfLktFRVAsXy5JTlZFUlQpKSxrLnVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ9MCxBKG5ldyBlLlN0ZW5jaWxNb2RlKGksbiwyNTUsXy5LRUVQLF8uS0VFUCxfLktFRVApKX1lbHNlIEEodC5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKG8pKX14JiYodC5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCksdC50ZXJyYWluJiZ5LmNsZWFyKHtzdGVuY2lsOjB9KSl9LGZpbGw6ZnVuY3Rpb24odCxuLGkscil7Y29uc3Qgbz1pLnBhaW50LmdldChcImZpbGwtY29sb3JcIiksYT1pLnBhaW50LmdldChcImZpbGwtb3BhY2l0eVwiKTtpZigwPT09YS5jb25zdGFudE9yKDEpKXJldHVybjtjb25zdCBzPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGw9aS5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksYz10Lm9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKSYmIWwuY29uc3RhbnRPcigxKSYmMT09PW8uY29uc3RhbnRPcihlLkNvbG9yLnRyYW5zcGFyZW50KS5hJiYxPT09YS5jb25zdGFudE9yKDApP1wib3BhcXVlXCI6XCJ0cmFuc2x1Y2VudFwiO2lmKHQucmVuZGVyUGFzcz09PWMpe2NvbnN0IG89dC5kZXB0aE1vZGVGb3JTdWJsYXllcigxLFwib3BhcXVlXCI9PT10LnJlbmRlclBhc3M/ZS5EZXB0aE1vZGUuUmVhZFdyaXRlOmUuRGVwdGhNb2RlLlJlYWRPbmx5KTtnaSh0LG4saSxyLG8scywhMSl9aWYoXCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzJiZpLnBhaW50LmdldChcImZpbGwtYW50aWFsaWFzXCIpKXtjb25zdCBvPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoaS5nZXRQYWludFByb3BlcnR5KFwiZmlsbC1vdXRsaW5lLWNvbG9yXCIpPzI6MCxlLkRlcHRoTW9kZS5SZWFkT25seSk7Z2kodCxuLGkscixvLHMsITApfX0sXCJmaWxsLWV4dHJ1c2lvblwiOmZ1bmN0aW9uKHQsbixpLHIpe2NvbnN0IG89aS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCIpO2lmKDAhPT1vJiZcInRyYW5zbHVjZW50XCI9PT10LnJlbmRlclBhc3Mpe2NvbnN0IGE9bmV3IGUuRGVwdGhNb2RlKHQuY29udGV4dC5nbC5MRVFVQUwsZS5EZXB0aE1vZGUuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTtpZigxIT09b3x8aS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCIpLmNvbnN0YW50T3IoMSkpeWkodCxuLGkscixhLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsZS5Db2xvck1vZGUuZGlzYWJsZWQpLHlpKHQsbixpLHIsYSx0LnN0ZW5jaWxNb2RlRm9yM0QoKSx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksdC5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCk7ZWxzZXtjb25zdCBvPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO3lpKHQsbixpLHIsYSxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLG8pfX19LGhpbGxzaGFkZTpmdW5jdGlvbih0LG4saSxyKXtpZihcIm9mZnNjcmVlblwiIT09dC5yZW5kZXJQYXNzJiZcInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IG89dC5jb250ZXh0LGE9dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLGUuRGVwdGhNb2RlLlJlYWRPbmx5KSxzPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGw9dC50ZXJyYWluJiZ0LnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlLFtjLHVdPVwidHJhbnNsdWNlbnRcIiE9PXQucmVuZGVyUGFzc3x8bD9be30scl06dC5zdGVuY2lsQ29uZmlnRm9yT3ZlcmxhcChyKTtmb3IoY29uc3QgciBvZiB1KXtjb25zdCBvPW4uZ2V0VGlsZShyKTtpZihvLm5lZWRzSGlsbHNoYWRlUHJlcGFyZSYmXCJvZmZzY3JlZW5cIj09PXQucmVuZGVyUGFzcylfbih0LG8saSxhLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQscyk7ZWxzZSBpZihcInRyYW5zbHVjZW50XCI9PT10LnJlbmRlclBhc3Mpe2NvbnN0IGU9bCYmdC50ZXJyYWluP3QudGVycmFpbi5zdGVuY2lsTW9kZUZvclJUVE92ZXJsYXAocik6Y1tyLm92ZXJzY2FsZWRaXTtnbih0LHIsbyxpLGEsZSxzKX19by52aWV3cG9ydC5zZXQoWzAsMCx0LndpZHRoLHQuaGVpZ2h0XSksdC5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCl9LHJhc3RlcjpmdW5jdGlvbih0LG4saSxyLG8sYSl7aWYoXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtpZigwPT09aS5wYWludC5nZXQoXCJyYXN0ZXItb3BhY2l0eVwiKSlyZXR1cm47aWYoIXIubGVuZ3RoKXJldHVybjtjb25zdCBzPXQuY29udGV4dCxsPXMuZ2wsYz1uLmdldFNvdXJjZSgpLHU9dC51c2VQcm9ncmFtKFwicmFzdGVyXCIpLGg9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZD10LnRlcnJhaW4mJnQudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUsW3AsZl09YyBpbnN0YW5jZW9mIEFlfHxkP1t7fSxyXTp0LnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKHIpLG09ZltmLmxlbmd0aC0xXS5vdmVyc2NhbGVkWixnPSF0Lm9wdGlvbnMubW92aW5nO2Zvcihjb25zdCByIG9mIGYpe2NvbnN0IG89ZD9lLkRlcHRoTW9kZS5kaXNhYmxlZDp0LmRlcHRoTW9kZUZvclN1YmxheWVyKHIub3ZlcnNjYWxlZFotbSwxPT09aS5wYWludC5nZXQoXCJyYXN0ZXItb3BhY2l0eVwiKT9lLkRlcHRoTW9kZS5SZWFkV3JpdGU6ZS5EZXB0aE1vZGUuUmVhZE9ubHksbC5MRVNTKSxmPXIudG9VbndyYXBwZWQoKSx5PW4uZ2V0VGlsZShyKTtpZihkJiYoIXl8fCF5Lmhhc0RhdGEoKSkpY29udGludWU7Y29uc3QgXz1kP3IucHJvak1hdHJpeDp0LnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KGYsZyksdj10LnRlcnJhaW4mJmQ/dC50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChyKTpwW3Iub3ZlcnNjYWxlZFpdLHg9YT8wOmkucGFpbnQuZ2V0KFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIik7eS5yZWdpc3RlckZhZGVEdXJhdGlvbih4KTtjb25zdCBiPW4uZmluZExvYWRlZFBhcmVudChyLDApLHc9SW4oeSxiLG4sdC50cmFuc2Zvcm0seCk7bGV0IFQsRTt0LnRlcnJhaW4mJnQudGVycmFpbi5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCBTPVwibmVhcmVzdFwiPT09aS5wYWludC5nZXQoXCJyYXN0ZXItcmVzYW1wbGluZ1wiKT9sLk5FQVJFU1Q6bC5MSU5FQVI7cy5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUwKSx5LnRleHR1cmUuYmluZChTLGwuQ0xBTVBfVE9fRURHRSkscy5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUxKSxiPyhiLnRleHR1cmUuYmluZChTLGwuQ0xBTVBfVE9fRURHRSksVD1NYXRoLnBvdygyLGIudGlsZUlELm92ZXJzY2FsZWRaLXkudGlsZUlELm92ZXJzY2FsZWRaKSxFPVt5LnRpbGVJRC5jYW5vbmljYWwueCpUJTEseS50aWxlSUQuY2Fub25pY2FsLnkqVCUxXSk6eS50ZXh0dXJlLmJpbmQoUyxsLkNMQU1QX1RPX0VER0UpO2NvbnN0IE09S24oXyxFfHxbMCwwXSxUfHwxLHcsaSxjIGluc3RhbmNlb2YgQWU/Yy5wZXJzcGVjdGl2ZVRyYW5zZm9ybTpbMCwwXSk7aWYodC5wcmVwYXJlRHJhd1Byb2dyYW0ocyx1LGYpLGMgaW5zdGFuY2VvZiBBZSljLmJvdW5kc0J1ZmZlciYmYy5ib3VuZHNTZWdtZW50cyYmdS5kcmF3KHMsbC5UUklBTkdMRVMsbyxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGgsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsTSxpLmlkLGMuYm91bmRzQnVmZmVyLHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsYy5ib3VuZHNTZWdtZW50cyk7ZWxzZXtjb25zdHt0aWxlQm91bmRzQnVmZmVyOm4sdGlsZUJvdW5kc0luZGV4QnVmZmVyOnIsdGlsZUJvdW5kc1NlZ21lbnRzOmF9PXQuZ2V0VGlsZUJvdW5kc0J1ZmZlcnMoeSk7dS5kcmF3KHMsbC5UUklBTkdMRVMsbyx2LGgsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsTSxpLmlkLG4scixhKX19dC5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCl9LGJhY2tncm91bmQ6ZnVuY3Rpb24odCxuLGkscil7Y29uc3Qgbz1pLnBhaW50LmdldChcImJhY2tncm91bmQtY29sb3JcIiksYT1pLnBhaW50LmdldChcImJhY2tncm91bmQtb3BhY2l0eVwiKTtpZigwPT09YSlyZXR1cm47Y29uc3Qgcz10LmNvbnRleHQsbD1zLmdsLGM9dC50cmFuc2Zvcm0sdT1jLnRpbGVTaXplLGg9aS5wYWludC5nZXQoXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIik7aWYodC5pc1BhdHRlcm5NaXNzaW5nKGgpKXJldHVybjtjb25zdCBkPSFoJiYxPT09by5hJiYxPT09YSYmdC5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCk/XCJvcGFxdWVcIjpcInRyYW5zbHVjZW50XCI7aWYodC5yZW5kZXJQYXNzIT09ZClyZXR1cm47Y29uc3QgcD1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGY9dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLFwib3BhcXVlXCI9PT1kP2UuRGVwdGhNb2RlLlJlYWRXcml0ZTplLkRlcHRoTW9kZS5SZWFkT25seSksbT10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxnPXQudXNlUHJvZ3JhbShoP1wiYmFja2dyb3VuZFBhdHRlcm5cIjpcImJhY2tncm91bmRcIik7bGV0IHksXz1yO198fCh5PXQuZ2V0QmFja2dyb3VuZFRpbGVzKCksXz1PYmplY3QudmFsdWVzKHkpLm1hcChlPT5lLnRpbGVJRCkpLGgmJihzLmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTApLHQuaW1hZ2VNYW5hZ2VyLmJpbmQodC5jb250ZXh0KSk7Zm9yKGNvbnN0IGQgb2YgXyl7Y29uc3QgXz1kLnRvVW53cmFwcGVkKCksdj1yP2QucHJvak1hdHJpeDp0LnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KF8pO3QucHJlcGFyZURyYXdUaWxlKCk7Y29uc3QgeD1uP24uZ2V0VGlsZShkKTp5P3lbZC5rZXldOm5ldyBlLlRpbGUoZCx1LGMuem9vbSx0KSxiPWg/YWkodixhLHQsaCx7dGlsZUlEOmQsdGlsZVNpemU6dX0pOm9pKHYsYSxvKTt0LnByZXBhcmVEcmF3UHJvZ3JhbShzLGcsXyk7Y29uc3R7dGlsZUJvdW5kc0J1ZmZlcjp3LHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpULHRpbGVCb3VuZHNTZWdtZW50czpFfT10LmdldFRpbGVCb3VuZHNCdWZmZXJzKHgpO2cuZHJhdyhzLGwuVFJJQU5HTEVTLGYscCxtLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLGIsaS5pZCx3LFQsRSl9fSxza3k6ZnVuY3Rpb24odCxuLGkpe2NvbnN0IHI9dC50cmFuc2Zvcm0sbz1cIm1lcmNhdG9yXCI9PT1yLnByb2plY3Rpb24ubmFtZXx8XCJnbG9iZVwiPT09ci5wcm9qZWN0aW9uLm5hbWU/MTplLnNtb290aHN0ZXAoNyw4LHIuem9vbSksYT1pLnBhaW50LmdldChcInNreS1vcGFjaXR5XCIpKm87aWYoMD09PWEpcmV0dXJuO2NvbnN0IHM9dC5jb250ZXh0LGw9aS5wYWludC5nZXQoXCJza3ktdHlwZVwiKSxjPW5ldyBlLkRlcHRoTW9kZShzLmdsLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkT25seSxbMCwxXSksdT10LmZyYW1lQ291bnRlci8xZTMlMTtcImF0bW9zcGhlcmVcIj09PWw/XCJvZmZzY3JlZW5cIj09PXQucmVuZGVyUGFzcz9pLm5lZWRzU2t5Ym94Q2FwdHVyZSh0KSYmKGZ1bmN0aW9uKHQsbixpLHIpe2NvbnN0IG89dC5jb250ZXh0LGE9by5nbDtsZXQgcz1uLnNreWJveEZibztpZighcyl7cz1uLnNreWJveEZibz1vLmNyZWF0ZUZyYW1lYnVmZmVyKDMyLDMyLCExKSxuLnNreWJveEdlb21ldHJ5PW5ldyBQaShvKSxuLnNreWJveFRleHR1cmU9by5nbC5jcmVhdGVUZXh0dXJlKCksYS5iaW5kVGV4dHVyZShhLlRFWFRVUkVfQ1VCRV9NQVAsbi5za3lib3hUZXh0dXJlKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFX0NVQkVfTUFQLGEuVEVYVFVSRV9XUkFQX1MsYS5DTEFNUF9UT19FREdFKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFX0NVQkVfTUFQLGEuVEVYVFVSRV9XUkFQX1QsYS5DTEFNUF9UT19FREdFKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFX0NVQkVfTUFQLGEuVEVYVFVSRV9NSU5fRklMVEVSLGEuTElORUFSKSxhLnRleFBhcmFtZXRlcmkoYS5URVhUVVJFX0NVQkVfTUFQLGEuVEVYVFVSRV9NQUdfRklMVEVSLGEuTElORUFSKTtmb3IobGV0IGU9MDtlPDY7KytlKWEudGV4SW1hZ2UyRChhLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtlLDAsYS5SR0JBLDMyLDMyLDAsYS5SR0JBLGEuVU5TSUdORURfQllURSxudWxsKX1vLmJpbmRGcmFtZWJ1ZmZlci5zZXQocy5mcmFtZWJ1ZmZlciksby52aWV3cG9ydC5zZXQoWzAsMCwzMiwzMl0pO2NvbnN0IGw9bi5nZXRDZW50ZXIodCwhMCksYz10LnVzZVByb2dyYW0oXCJza3lib3hDYXB0dXJlXCIpLHU9bmV3IEZsb2F0NjRBcnJheSgxNik7ZS5pZGVudGl0eSh1KSxlLnJvdGF0ZVkodSx1LC41Ki1NYXRoLlBJKSx6aShvLG4sYyx1LGwsMCksZS5pZGVudGl0eSh1KSxlLnJvdGF0ZVkodSx1LC41Kk1hdGguUEkpLHppKG8sbixjLHUsbCwxKSxlLmlkZW50aXR5KHUpLGUucm90YXRlWCh1LHUsLjUqLU1hdGguUEkpLHppKG8sbixjLHUsbCwyKSxlLmlkZW50aXR5KHUpLGUucm90YXRlWCh1LHUsLjUqTWF0aC5QSSksemkobyxuLGMsdSxsLDMpLGUuaWRlbnRpdHkodSksemkobyxuLGMsdSxsLDQpLGUuaWRlbnRpdHkodSksZS5yb3RhdGVZKHUsdSxNYXRoLlBJKSx6aShvLG4sYyx1LGwsNSksby52aWV3cG9ydC5zZXQoWzAsMCx0LndpZHRoLHQuaGVpZ2h0XSl9KHQsaSksaS5tYXJrU2t5Ym94VmFsaWQodCkpOlwic2t5XCI9PT10LnJlbmRlclBhc3MmJmZ1bmN0aW9uKHQsbixpLHIsbyl7Y29uc3QgYT10LmNvbnRleHQscz1hLmdsLGw9dC50cmFuc2Zvcm0sYz10LnVzZVByb2dyYW0oXCJza3lib3hcIik7YS5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKSxzLmJpbmRUZXh0dXJlKHMuVEVYVFVSRV9DVUJFX01BUCxuLnNreWJveFRleHR1cmUpO2NvbnN0IHU9KChlLHQsbixpLHIpPT4oe3VfbWF0cml4OmUsdV9zdW5fZGlyZWN0aW9uOnQsdV9jdWJlbWFwOjAsdV9vcGFjaXR5OmksdV90ZW1wb3JhbF9vZmZzZXQ6cn0pKShsLnNreWJveE1hdHJpeCxuLmdldENlbnRlcih0LCExKSwwLHIsbyk7dC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxjKSxjLmRyYXcoYSxzLlRSSUFOR0xFUyxpLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZS5DdWxsRmFjZU1vZGUuYmFja0NXLHUsXCJza3lib3hcIixuLnNreWJveEdlb21ldHJ5LnZlcnRleEJ1ZmZlcixuLnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLG4uc2t5Ym94R2VvbWV0cnkuc2VnbWVudCl9KHQsaSxjLGEsdSk6XCJncmFkaWVudFwiPT09bCYmXCJza3lcIj09PXQucmVuZGVyUGFzcyYmZnVuY3Rpb24odCxuLGkscixvKXtjb25zdCBhPXQuY29udGV4dCxzPWEuZ2wsbD10LnRyYW5zZm9ybSxjPXQudXNlUHJvZ3JhbShcInNreWJveEdyYWRpZW50XCIpO24uc2t5Ym94R2VvbWV0cnl8fChuLnNreWJveEdlb21ldHJ5PW5ldyBQaShhKSksYS5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKTtsZXQgdT1uLmNvbG9yUmFtcFRleHR1cmU7dXx8KHU9bi5jb2xvclJhbXBUZXh0dXJlPW5ldyBlLlRleHR1cmUoYSxuLmNvbG9yUmFtcCxzLlJHQkEpKSx1LmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFKTtjb25zdCBoPSgodCxuLGkscixvKT0+KHt1X21hdHJpeDp0LHVfY29sb3JfcmFtcDowLHVfY2VudGVyX2RpcmVjdGlvbjpuLHVfcmFkaXVzOmUuZGVnVG9SYWQoaSksdV9vcGFjaXR5OnIsdV90ZW1wb3JhbF9vZmZzZXQ6b30pKShsLnNreWJveE1hdHJpeCxuLmdldENlbnRlcih0LCExKSxuLnBhaW50LmdldChcInNreS1ncmFkaWVudC1yYWRpdXNcIikscixvKTt0LnByZXBhcmVEcmF3UHJvZ3JhbShhLGMpLGMuZHJhdyhhLHMuVFJJQU5HTEVTLGksZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxlLkN1bGxGYWNlTW9kZS5iYWNrQ1csaCxcInNreWJveEdyYWRpZW50XCIsbi5za3lib3hHZW9tZXRyeS52ZXJ0ZXhCdWZmZXIsbi5za3lib3hHZW9tZXRyeS5pbmRleEJ1ZmZlcixuLnNreWJveEdlb21ldHJ5LnNlZ21lbnQpfSh0LGksYyxhLHUpfSxkZWJ1ZzpmdW5jdGlvbihlLHQsbil7Zm9yKGxldCBpPTA7aTxuLmxlbmd0aDtpKyspRWkoZSx0LG5baV0pfSxjdXN0b206ZnVuY3Rpb24odCxuLGkpe2NvbnN0IHI9dC5jb250ZXh0LG89aS5pbXBsZW1lbnRhdGlvbjtpZih0LnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzJiZ0LnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzLmluY2x1ZGVzKFwiY3VzdG9tXCIpKWUud2Fybk9uY2UoXCJDdXN0b20gbGF5ZXJzIGFyZSBub3QgeWV0IHN1cHBvcnRlZCB3aXRoIG5vbi1tZXJjYXRvciBwcm9qZWN0aW9ucy4gVXNlIG1lcmNhdG9yIHRvIGVuYWJsZSBjdXN0b20gbGF5ZXJzLlwiKTtlbHNlIGlmKFwib2Zmc2NyZWVuXCI9PT10LnJlbmRlclBhc3Mpe2NvbnN0IGU9by5wcmVyZW5kZXI7ZSYmKHQuc2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpLHIuc2V0Q29sb3JNb2RlKHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSxlLmNhbGwobyxyLmdsLHQudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCkpLHIuc2V0RGlydHkoKSx0LnNldEJhc2VTdGF0ZSgpKX1lbHNlIGlmKFwidHJhbnNsdWNlbnRcIj09PXQucmVuZGVyUGFzcyl7dC5zZXRDdXN0b21MYXllckRlZmF1bHRzKCksci5zZXRDb2xvck1vZGUodC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpLHIuc2V0U3RlbmNpbE1vZGUoZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCk7Y29uc3Qgbj1cIjNkXCI9PT1vLnJlbmRlcmluZ01vZGU/bmV3IGUuRGVwdGhNb2RlKHQuY29udGV4dC5nbC5MRVFVQUwsZS5EZXB0aE1vZGUuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTp0LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsZS5EZXB0aE1vZGUuUmVhZE9ubHkpO3Iuc2V0RGVwdGhNb2RlKG4pLG8ucmVuZGVyKHIuZ2wsdC50cmFuc2Zvcm0uY3VzdG9tTGF5ZXJNYXRyaXgoKSksci5zZXREaXJ0eSgpLHQuc2V0QmFzZVN0YXRlKCksci5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpfX19O2NsYXNzIFJpe2NvbnN0cnVjdG9yKHQsbil7dGhpcy5jb250ZXh0PW5ldyBNZSh0KSx0aGlzLnRyYW5zZm9ybT1uLHRoaXMuX3RpbGVUZXh0dXJlcz17fSx0aGlzLmZyYW1lQ29waWVzPVtdLHRoaXMubG9hZFRpbWVTdGFtcHM9W10sdGhpcy5zZXR1cCgpLHRoaXMubnVtU3VibGF5ZXJzPWUuU291cmNlQ2FjaGUubWF4VW5kZXJ6b29taW5nK2UuU291cmNlQ2FjaGUubWF4T3Zlcnpvb21pbmcrMSx0aGlzLmRlcHRoRXBzaWxvbj0xL01hdGgucG93KDIsMTYpLHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXg9bmV3IHF0LHRoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcz1bXSx0aGlzLmdwdVRpbWVycz17fSx0aGlzLmZyYW1lQ291bnRlcj0wLHRoaXMuX2JhY2tncm91bmRUaWxlcz17fX11cGRhdGVUZXJyYWluKGUsdCl7Y29uc3Qgbj0hIWUmJiEhZS50ZXJyYWluJiZ0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzVGVycmFpbjtpZighKG58fHRoaXMuX3RlcnJhaW4mJnRoaXMuX3RlcnJhaW4uZW5hYmxlZCkpcmV0dXJuO3RoaXMuX3RlcnJhaW58fCh0aGlzLl90ZXJyYWluPW5ldyBQbih0aGlzLGUpKTtjb25zdCBpPXRoaXMuX3RlcnJhaW47dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uPW4/aTpudWxsLGkudXBkYXRlKGUsdGhpcy50cmFuc2Zvcm0sdCl9X3VwZGF0ZUZvZyhlKXtjb25zdCB0PWUuZm9nO2lmKCF0fHxcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHQuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCk8MXx8dC5wcm9wZXJ0aWVzLmdldChcImhvcml6b24tYmxlbmRcIik8LjAzKXJldHVybiB2b2lkKHRoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3E9bnVsbCk7Y29uc3RbbixpXT10LmdldEZvdkFkanVzdGVkUmFuZ2UodGhpcy50cmFuc2Zvcm0uX2Zvdik7aWYobj5pKXJldHVybiB2b2lkKHRoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3E9bnVsbCk7Y29uc3Qgcj1uKy43OCooaS1uKTt0aGlzLnRyYW5zZm9ybS5mb2dDdWxsRGlzdFNxPXIqcn1nZXQgdGVycmFpbigpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5fdGVycmFpbkVuYWJsZWQoKSYmdGhpcy5fdGVycmFpbiYmdGhpcy5fdGVycmFpbi5lbmFibGVkP3RoaXMuX3RlcnJhaW46bnVsbH1yZXNpemUodCxuKXtpZih0aGlzLndpZHRoPXQqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHRoaXMuaGVpZ2h0PW4qZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XSksdGhpcy5zdHlsZSlmb3IoY29uc3QgZSBvZiB0aGlzLnN0eWxlLm9yZGVyKXRoaXMuc3R5bGUuX2xheWVyc1tlXS5yZXNpemUoKX1zZXR1cCgpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LG49bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQyaTQ7bi5lbXBsYWNlQmFjaygwLDApLG4uZW1wbGFjZUJhY2soZS5FWFRFTlQsMCksbi5lbXBsYWNlQmFjaygwLGUuRVhURU5UKSxuLmVtcGxhY2VCYWNrKGUuRVhURU5ULGUuRVhURU5UKSx0aGlzLnRpbGVFeHRlbnRCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIobixlLnBvc0F0dHJpYnV0ZXMubWVtYmVycyksdGhpcy50aWxlRXh0ZW50U2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7Y29uc3QgaT1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDJpNDtpLmVtcGxhY2VCYWNrKDAsMCksaS5lbXBsYWNlQmFjayhlLkVYVEVOVCwwKSxpLmVtcGxhY2VCYWNrKDAsZS5FWFRFTlQpLGkuZW1wbGFjZUJhY2soZS5FWFRFTlQsZS5FWFRFTlQpLHRoaXMuZGVidWdCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIoaSxlLnBvc0F0dHJpYnV0ZXMubWVtYmVycyksdGhpcy5kZWJ1Z1NlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDUpO2NvbnN0IHI9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQyaTQ7ci5lbXBsYWNlQmFjaygtMSwtMSksci5lbXBsYWNlQmFjaygxLC0xKSxyLmVtcGxhY2VCYWNrKC0xLDEpLHIuZW1wbGFjZUJhY2soMSwxKSx0aGlzLnZpZXdwb3J0QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHIsZS5wb3NBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMudmlld3BvcnRTZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTtjb25zdCBvPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0NGk4O28uZW1wbGFjZUJhY2soMCwwLDAsMCksby5lbXBsYWNlQmFjayhlLkVYVEVOVCwwLGUuRVhURU5ULDApLG8uZW1wbGFjZUJhY2soMCxlLkVYVEVOVCwwLGUuRVhURU5UKSxvLmVtcGxhY2VCYWNrKGUuRVhURU5ULGUuRVhURU5ULGUuRVhURU5ULGUuRVhURU5UKSx0aGlzLm1lcmNhdG9yQm91bmRzQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKG8sZS5ib3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMubWVyY2F0b3JCb3VuZHNTZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTtjb25zdCBhPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0M3VpNjthLmVtcGxhY2VCYWNrKDAsMSwyKSxhLmVtcGxhY2VCYWNrKDIsMSwzKSx0aGlzLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIoYSk7Y29uc3Qgcz1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDF1aTI7Zm9yKGNvbnN0IGUgb2ZbMCwxLDMsMiwwXSlzLmVtcGxhY2VCYWNrKGUpO3RoaXMuZGVidWdJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHMpLHRoaXMuZW1wdHlUZXh0dXJlPW5ldyBlLlRleHR1cmUodCxuZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOjEsaGVpZ2h0OjF9LFVpbnQ4QXJyYXkub2YoMCwwLDAsMCkpLHQuZ2wuUkdCQSksdGhpcy5pZGVudGl0eU1hdD1lLmNyZWF0ZSgpO2NvbnN0IGw9dGhpcy5jb250ZXh0LmdsO3RoaXMuc3RlbmNpbENsZWFyTW9kZT1uZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzpsLkFMV0FZUyxtYXNrOjB9LDAsMjU1LGwuWkVSTyxsLlpFUk8sbC5aRVJPKSx0aGlzLmxvYWRUaW1lU3RhbXBzLnB1c2goZS53aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpLHRoaXMuYXRtb3NwaGVyZUJ1ZmZlcj1uZXcgTGkodGhpcy5jb250ZXh0KX1nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCl7cmV0dXJue3RpbGVCb3VuZHNCdWZmZXI6dGhpcy5tZXJjYXRvckJvdW5kc0J1ZmZlcix0aWxlQm91bmRzSW5kZXhCdWZmZXI6dGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0aWxlQm91bmRzU2VnbWVudHM6dGhpcy5tZXJjYXRvckJvdW5kc1NlZ21lbnRzfX1nZXRUaWxlQm91bmRzQnVmZmVycyhlKXtyZXR1cm4gZS5fbWFrZVRpbGVCb3VuZHNCdWZmZXJzKHRoaXMuY29udGV4dCx0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uKSxlLl90aWxlQm91bmRzQnVmZmVyP3t0aWxlQm91bmRzQnVmZmVyOmUuX3RpbGVCb3VuZHNCdWZmZXIsdGlsZUJvdW5kc0luZGV4QnVmZmVyOmUuX3RpbGVCb3VuZHNJbmRleEJ1ZmZlcix0aWxlQm91bmRzU2VnbWVudHM6ZS5fdGlsZUJvdW5kc1NlZ21lbnRzfTp0aGlzLmdldE1lcmNhdG9yVGlsZUJvdW5kc0J1ZmZlcnMoKX1jbGVhclN0ZW5jaWwoKXtjb25zdCB0PXRoaXMuY29udGV4dCxuPXQuZ2w7dGhpcy5uZXh0U3RlbmNpbElEPTEsdGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT12b2lkIDAsdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEcz17fSx0aGlzLnVzZVByb2dyYW0oXCJjbGlwcGluZ01hc2tcIikuZHJhdyh0LG4uVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLHRoaXMuc3RlbmNpbENsZWFyTW9kZSxlLkNvbG9yTW9kZS5kaXNhYmxlZCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxNbih0aGlzLmlkZW50aXR5TWF0KSxcIiRjbGlwcGluZ1wiLHRoaXMudmlld3BvcnRCdWZmZXIsdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcix0aGlzLnZpZXdwb3J0U2VnbWVudHMpfXJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKXt0aGlzLnRlcnJhaW58fCh0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9KX1fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3ModCxuLGkpe2lmKCFufHx0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPT09bi5pZHx8IXQuaXNUaWxlQ2xpcHBlZCgpfHwhaXx8MD09PWkubGVuZ3RoKXJldHVybjtpZih0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzJiYhdGhpcy50ZXJyYWluKXtsZXQgZT0hMTtmb3IoY29uc3QgdCBvZiBpKWlmKHZvaWQgMD09PXRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdC5rZXldKXtlPSEwO2JyZWFrfWlmKCFlKXJldHVybn10aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPW4uaWQ7Y29uc3Qgcj10aGlzLmNvbnRleHQsbz1yLmdsO3RoaXMubmV4dFN0ZW5jaWxJRCtpLmxlbmd0aD4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCksci5zZXRDb2xvck1vZGUoZS5Db2xvck1vZGUuZGlzYWJsZWQpLHIuc2V0RGVwdGhNb2RlKGUuRGVwdGhNb2RlLmRpc2FibGVkKTtjb25zdCBhPXRoaXMudXNlUHJvZ3JhbShcImNsaXBwaW5nTWFza1wiKTt0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9O2Zvcihjb25zdCB0IG9mIGkpe2NvbnN0IGk9bi5nZXRUaWxlKHQpLHM9dGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1t0LmtleV09dGhpcy5uZXh0U3RlbmNpbElEKysse3RpbGVCb3VuZHNCdWZmZXI6bCx0aWxlQm91bmRzSW5kZXhCdWZmZXI6Yyx0aWxlQm91bmRzU2VnbWVudHM6dX09dGhpcy5nZXRUaWxlQm91bmRzQnVmZmVycyhpKTthLmRyYXcocixvLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxuZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzpvLkFMV0FZUyxtYXNrOjB9LHMsMjU1LG8uS0VFUCxvLktFRVAsby5SRVBMQUNFKSxlLkNvbG9yTW9kZS5kaXNhYmxlZCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxNbih0LnByb2pNYXRyaXgpLFwiJGNsaXBwaW5nXCIsbCxjLHUpfX1zdGVuY2lsTW9kZUZvcjNEKCl7dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT12b2lkIDAsdGhpcy5uZXh0U3RlbmNpbElEKzE+MjU2JiZ0aGlzLmNsZWFyU3RlbmNpbCgpO2NvbnN0IHQ9dGhpcy5uZXh0U3RlbmNpbElEKyssbj10aGlzLmNvbnRleHQuZ2w7cmV0dXJuIG5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOm4uTk9URVFVQUwsbWFzazoyNTV9LHQsMjU1LG4uS0VFUCxuLktFRVAsbi5SRVBMQUNFKX1zdGVuY2lsTW9kZUZvckNsaXBwaW5nKHQpe2lmKHRoaXMudGVycmFpbilyZXR1cm4gdGhpcy50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcCh0KTtjb25zdCBuPXRoaXMuY29udGV4dC5nbDtyZXR1cm4gbmV3IGUuU3RlbmNpbE1vZGUoe2Z1bmM6bi5FUVVBTCxtYXNrOjI1NX0sdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1t0LmtleV0sMCxuLktFRVAsbi5LRUVQLG4uUkVQTEFDRSl9c3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAodCl7Y29uc3Qgbj10aGlzLmNvbnRleHQuZ2wsaT10LnNvcnQoKGUsdCk9PnQub3ZlcnNjYWxlZFotZS5vdmVyc2NhbGVkWikscj1pW2kubGVuZ3RoLTFdLm92ZXJzY2FsZWRaLG89aVswXS5vdmVyc2NhbGVkWi1yKzE7aWYobz4xKXt0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLm5leHRTdGVuY2lsSUQrbz4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCk7Y29uc3QgdD17fTtmb3IobGV0IGk9MDtpPG87aSsrKXRbaStyXT1uZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzpuLkdFUVVBTCxtYXNrOjI1NX0saSt0aGlzLm5leHRTdGVuY2lsSUQsMjU1LG4uS0VFUCxuLktFRVAsbi5SRVBMQUNFKTtyZXR1cm4gdGhpcy5uZXh0U3RlbmNpbElEKz1vLFt0LGldfXJldHVyblt7W3JdOmUuU3RlbmNpbE1vZGUuZGlzYWJsZWR9LGldfWNvbG9yTW9kZUZvclJlbmRlclBhc3MoKXtjb25zdCB0PXRoaXMuY29udGV4dC5nbDtpZih0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3Ipe2NvbnN0IG49MS84O3JldHVybiBuZXcgZS5Db2xvck1vZGUoW3QuQ09OU1RBTlRfQ09MT1IsdC5PTkVdLG5ldyBlLkNvbG9yKG4sbixuLDApLFshMCwhMCwhMCwhMF0pfXJldHVyblwib3BhcXVlXCI9PT10aGlzLnJlbmRlclBhc3M/ZS5Db2xvck1vZGUudW5ibGVuZGVkOmUuQ29sb3JNb2RlLmFscGhhQmxlbmRlZH1kZXB0aE1vZGVGb3JTdWJsYXllcih0LG4saSl7aWYoIXRoaXMub3BhcXVlUGFzc0VuYWJsZWRGb3JMYXllcigpKXJldHVybiBlLkRlcHRoTW9kZS5kaXNhYmxlZDtjb25zdCByPTEtKCgxK3RoaXMuY3VycmVudExheWVyKSp0aGlzLm51bVN1YmxheWVycyt0KSp0aGlzLmRlcHRoRXBzaWxvbjtyZXR1cm4gbmV3IGUuRGVwdGhNb2RlKGl8fHRoaXMuY29udGV4dC5nbC5MRVFVQUwsbixbcixyXSl9b3BhcXVlUGFzc0VuYWJsZWRGb3JMYXllcigpe3JldHVybiB0aGlzLmN1cnJlbnRMYXllcjx0aGlzLm9wYXF1ZVBhc3NDdXRvZmZ9cmVuZGVyKHQsbil7dGhpcy5zdHlsZT10LHRoaXMub3B0aW9ucz1uLHRoaXMuaW1hZ2VNYW5hZ2VyPXQuaW1hZ2VNYW5hZ2VyLHRoaXMuZ2x5cGhNYW5hZ2VyPXQuZ2x5cGhNYW5hZ2VyLHRoaXMuc3ltYm9sRmFkZUNoYW5nZT10LnBsYWNlbWVudC5zeW1ib2xGYWRlQ2hhbmdlKGUuZXhwb3J0ZWQubm93KCkpLHRoaXMuaW1hZ2VNYW5hZ2VyLmJlZ2luRnJhbWUoKTtjb25zdCBpPXRoaXMuc3R5bGUub3JkZXIscj10aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXM7Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD1yW2VdO3QudXNlZCYmdC5wcmVwYXJlKHRoaXMuY29udGV4dCl9Y29uc3Qgbz17fSxhPXt9LHM9e307Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD1yW2VdO29bZV09dC5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSxhW2VdPW9bZV0uc2xpY2UoKS5yZXZlcnNlKCksc1tlXT10LmdldFZpc2libGVDb29yZGluYXRlcyghMCkucmV2ZXJzZSgpfXRoaXMub3BhcXVlUGFzc0N1dG9mZj0xLzA7Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspaWYodGhpcy5zdHlsZS5fbGF5ZXJzW2lbZV1dLmlzM0QoKSl7dGhpcy5vcGFxdWVQYXNzQ3V0b2ZmPWU7YnJlYWt9aWYodGhpcy50ZXJyYWluJiYodGhpcy50ZXJyYWluLnVwZGF0ZVRpbGVCaW5kaW5nKHMpLHRoaXMub3BhcXVlUGFzc0N1dG9mZj0wKSxcImdsb2JlXCIhPT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV8fHRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzfHwodGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnM9bmV3IGUuR2xvYmVTaGFyZWRCdWZmZXJzKHRoaXMuY29udGV4dCkpLGUuaXNNYXBBdXRoZW50aWNhdGVkKHRoaXMuY29udGV4dC5nbCkpe3RoaXMucmVuZGVyUGFzcz1cIm9mZnNjcmVlblwiO2Zvcihjb25zdCBlIG9mIGkpe2NvbnN0IG49dGhpcy5zdHlsZS5fbGF5ZXJzW2VdLGk9dC5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShuKTtpZighbi5oYXNPZmZzY3JlZW5QYXNzKCl8fG4uaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpY29udGludWU7Y29uc3Qgcj1pP2FbaS5pZF06dm9pZCAwOyhcImN1c3RvbVwiPT09bi50eXBlfHxuLmlzU2t5KCl8fHImJnIubGVuZ3RoKSYmdGhpcy5yZW5kZXJMYXllcih0aGlzLGksbixyKX1pZih0aGlzLmRlcHRoUmFuZ2VGb3IzRD1bMCwxLSh0Lm9yZGVyLmxlbmd0aCsyKSp0aGlzLm51bVN1YmxheWVycyp0aGlzLmRlcHRoRXBzaWxvbl0sdGhpcy50ZXJyYWluJiYodGhpcy5zdHlsZS5oYXNTeW1ib2xMYXllcnMoKXx8dGhpcy5zdHlsZS5oYXNDaXJjbGVMYXllcnMoKSkmJnRoaXMudGVycmFpbi5kcmF3RGVwdGgoKSx0aGlzLmNvbnRleHQuYmluZEZyYW1lYnVmZmVyLnNldChudWxsKSx0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLHRoaXMuY29udGV4dC5jbGVhcih7Y29sb3I6bi5zaG93T3ZlcmRyYXdJbnNwZWN0b3I/ZS5Db2xvci5ibGFjazplLkNvbG9yLnRyYW5zcGFyZW50LGRlcHRoOjF9KSx0aGlzLmNsZWFyU3RlbmNpbCgpLHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcj1uLnNob3dPdmVyZHJhd0luc3BlY3Rvcix0aGlzLnJlbmRlclBhc3M9XCJvcGFxdWVcIiwhdGhpcy50ZXJyYWluKWZvcih0aGlzLmN1cnJlbnRMYXllcj1pLmxlbmd0aC0xO3RoaXMuY3VycmVudExheWVyPj0wO3RoaXMuY3VycmVudExheWVyLS0pe2NvbnN0IGU9dGhpcy5zdHlsZS5fbGF5ZXJzW2lbdGhpcy5jdXJyZW50TGF5ZXJdXSxuPXQuX2dldExheWVyU291cmNlQ2FjaGUoZSk7aWYoZS5pc1NreSgpKWNvbnRpbnVlO2NvbnN0IHI9bj9hW24uaWRdOnZvaWQgMDt0aGlzLl9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyhlLG4sciksdGhpcy5yZW5kZXJMYXllcih0aGlzLG4sZSxyKX1pZih0aGlzLnN0eWxlLmZvZyYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZyYmZnVuY3Rpb24odCxuKXtjb25zdCBpPXQuY29udGV4dCxyPWkuZ2wsbz10LnRyYW5zZm9ybSxhPW5ldyBlLkRlcHRoTW9kZShyLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkT25seSxbMCwxXSkscz10LnVzZVByb2dyYW0oXCJnbG9iZUF0bW9zcGhlcmVcIixudWxsLFwiZ2xvYmVcIj09PW8ucHJvamVjdGlvbi5uYW1lP1tcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiLFwiRk9HXCJdOltcIkZPR1wiXSksbD1lLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24oby56b29tKSxjPW4ucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKS50b0FycmF5MDEoKSx1PW4ucHJvcGVydGllcy5nZXQoXCJoaWdoLWNvbG9yXCIpLnRvQXJyYXkwMSgpLGg9bi5wcm9wZXJ0aWVzLmdldChcInNwYWNlLWNvbG9yXCIpLnRvQXJyYXkwMVByZW11bHRpcGxpZWRBbHBoYSgpLGQ9ZS5pZGVudGl0eSQxKFtdKTtlLnJvdGF0ZVkkMShkLGQsLWUuZGVnVG9SYWQoby5fY2VudGVyLmxuZykpLGUucm90YXRlWCQxKGQsZCxlLmRlZ1RvUmFkKG8uX2NlbnRlci5sYXQpKSxlLnJvdGF0ZVokMShkLGQsby5hbmdsZSksZS5yb3RhdGVYJDEoZCxkLC1vLl9waXRjaCk7Y29uc3QgcD1lLmZyb21RdWF0KG5ldyBGbG9hdDMyQXJyYXkoMTYpLGQpLGY9ZS5tYXBWYWx1ZShuLnByb3BlcnRpZXMuZ2V0KFwic3Rhci1pbnRlbnNpdHlcIiksMCwxLDAsLjI1KSxtPTVlLTQsZz1lLm1hcFZhbHVlKG4ucHJvcGVydGllcy5nZXQoXCJob3Jpem9uLWJsZW5kXCIpLDAsMSxtLC4yNSkseT1lLmdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nKHQsaSxvKSYmZz09PW0/by53b3JsZFNpemUvKDIqTWF0aC5QSSoxLjAyNSktMTpvLmdsb2JlUmFkaXVzLF89dC5mcmFtZUNvdW50ZXIvMWUzJTEsdj1lLmxlbmd0aChvLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UpLHg9TWF0aC5zcXJ0KE1hdGgucG93KHYsMiktTWF0aC5wb3coeSwyKSksYj1NYXRoLmFjb3MoeC92KSx3PSgodCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmKT0+KHt1X2ZydXN0dW1fdGw6dCx1X2ZydXN0dW1fdHI6bix1X2ZydXN0dW1fYnI6aSx1X2ZydXN0dW1fYmw6cix1X2hvcml6b246byx1X3RyYW5zaXRpb246YSx1X2ZhZGVvdXRfcmFuZ2U6cyx1X2NvbG9yOmwsdV9oaWdoX2NvbG9yOmMsdV9zcGFjZV9jb2xvcjp1LHVfc3Rhcl9pbnRlbnNpdHk6aCx1X3N0YXJfc2l6ZTo1KmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx1X3N0YXJfZGVuc2l0eTowLHVfdGVtcG9yYWxfb2Zmc2V0OmQsdV9ob3Jpem9uX2FuZ2xlOnAsdV9yb3RhdGlvbl9tYXRyaXg6Zn0pKShvLmZydXN0dW1Db3JuZXJzLlRMLG8uZnJ1c3R1bUNvcm5lcnMuVFIsby5mcnVzdHVtQ29ybmVycy5CUixvLmZydXN0dW1Db3JuZXJzLkJMLG8uZnJ1c3R1bUNvcm5lcnMuaG9yaXpvbixsLGcsYyx1LGgsZixfLGIscCk7dC5wcmVwYXJlRHJhd1Byb2dyYW0oaSxzKTtjb25zdCBUPXQuYXRtb3NwaGVyZUJ1ZmZlcjtUJiZzLmRyYXcoaSxyLlRSSUFOR0xFUyxhLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsZS5Db2xvck1vZGUuYWxwaGFCbGVuZGVkLGUuQ3VsbEZhY2VNb2RlLmJhY2tDVyx3LFwic2t5Ym94XCIsVC52ZXJ0ZXhCdWZmZXIsVC5pbmRleEJ1ZmZlcixULnNlZ21lbnRzKX0odGhpcyx0aGlzLnN0eWxlLmZvZyksdGhpcy5yZW5kZXJQYXNzPVwic2t5XCIsKGUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih0aGlzLnRyYW5zZm9ybS56b29tKT4wfHxcImdsb2JlXCIhPT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUpJiZ0aGlzLnRyYW5zZm9ybS5pc0hvcml6b25WaXNpYmxlKCkpZm9yKHRoaXMuY3VycmVudExheWVyPTA7dGhpcy5jdXJyZW50TGF5ZXI8aS5sZW5ndGg7dGhpcy5jdXJyZW50TGF5ZXIrKyl7Y29uc3QgZT10aGlzLnN0eWxlLl9sYXllcnNbaVt0aGlzLmN1cnJlbnRMYXllcl1dLG49dC5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtlLmlzU2t5KCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxuLGUsbj9hW24uaWRdOnZvaWQgMCl9Zm9yKHRoaXMucmVuZGVyUGFzcz1cInRyYW5zbHVjZW50XCIsdGhpcy5jdXJyZW50TGF5ZXI9MDt0aGlzLmN1cnJlbnRMYXllcjxpLmxlbmd0aDspe2NvbnN0IGU9dGhpcy5zdHlsZS5fbGF5ZXJzW2lbdGhpcy5jdXJyZW50TGF5ZXJdXSxuPXQuX2dldExheWVyU291cmNlQ2FjaGUoZSk7aWYoZS5pc1NreSgpKXsrK3RoaXMuY3VycmVudExheWVyO2NvbnRpbnVlfWlmKHRoaXMudGVycmFpbiYmdGhpcy5zdHlsZS5pc0xheWVyRHJhcGVkKGUpKXtpZihlLmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pKXsrK3RoaXMuY3VycmVudExheWVyO2NvbnRpbnVlfXRoaXMuY3VycmVudExheWVyPXRoaXMudGVycmFpbi5yZW5kZXJCYXRjaCh0aGlzLmN1cnJlbnRMYXllcik7Y29udGludWV9Y29uc3Qgcj1uPyhcInN5bWJvbFwiPT09ZS50eXBlP3M6YSlbbi5pZF06dm9pZCAwO3RoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGUsbixuP29bbi5pZF06dm9pZCAwKSx0aGlzLnJlbmRlckxheWVyKHRoaXMsbixlLHIpLCsrdGhpcy5jdXJyZW50TGF5ZXJ9aWYodGhpcy50ZXJyYWluJiZ0aGlzLnRlcnJhaW4ucG9zdFJlbmRlcigpLHRoaXMub3B0aW9ucy5zaG93VGlsZUJvdW5kYXJpZXN8fHRoaXMub3B0aW9ucy5zaG93UXVlcnlHZW9tZXRyeXx8dGhpcy5vcHRpb25zLnNob3dUaWxlQUFCQnMpe2xldCBuPW51bGw7ZS52YWx1ZXModGhpcy5zdHlsZS5fbGF5ZXJzKS5mb3JFYWNoKGU9Pntjb25zdCBpPXQuX2dldExheWVyU291cmNlQ2FjaGUoZSk7aSYmIWUuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkmJighbnx8bi5nZXRTb3VyY2UoKS5tYXh6b29tPGkuZ2V0U291cmNlKCkubWF4em9vbSkmJihuPWkpfSksbiYmdGhpcy5vcHRpb25zLnNob3dUaWxlQm91bmRhcmllcyYmT2kuZGVidWcodGhpcyxuLG4uZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCkpfXRoaXMub3B0aW9ucy5zaG93UGFkZGluZyYmZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnRyYW5zZm9ybS5wYWRkaW5nO1NpKGUsZS50cmFuc2Zvcm0uaGVpZ2h0LSh0LnRvcHx8MCksMyx2aSksU2koZSx0LmJvdHRvbXx8MCwzLHhpKSxNaShlLHQubGVmdHx8MCwzLGJpKSxNaShlLGUudHJhbnNmb3JtLndpZHRoLSh0LnJpZ2h0fHwwKSwzLHdpKTtjb25zdCBuPWUudHJhbnNmb3JtLmNlbnRlclBvaW50OyFmdW5jdGlvbihlLHQsbixpKXtJaShlLHQtMSxuLTEwLDIsMjAsaSksSWkoZSx0LTEwLG4tMSwyMCwyLGkpfShlLG4ueCxlLnRyYW5zZm9ybS5oZWlnaHQtbi55LFRpKX0odGhpcyksdGhpcy5jb250ZXh0LnNldERlZmF1bHQoKSx0aGlzLmZyYW1lQ291bnRlcj0odGhpcy5mcmFtZUNvdW50ZXIrMSklTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsdGhpcy50aWxlTG9hZGVkJiZ0aGlzLm9wdGlvbnMuc3BlZWRJbmRleFRpbWluZyYmKHRoaXMubG9hZFRpbWVTdGFtcHMucHVzaChlLndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSksdGhpcy5zYXZlQ2FudmFzQ29weSgpKX19cmVuZGVyTGF5ZXIoZSx0LG4saSl7bi5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKXx8KFwiYmFja2dyb3VuZFwiPT09bi50eXBlfHxcInNreVwiPT09bi50eXBlfHxcImN1c3RvbVwiPT09bi50eXBlfHxpJiZpLmxlbmd0aCkmJih0aGlzLmlkPW4uaWQsdGhpcy5ncHVUaW1pbmdTdGFydChuKSxlLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzJiZlLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnVuc3VwcG9ydGVkTGF5ZXJzLmluY2x1ZGVzKG4udHlwZSl8fE9pW24udHlwZV0oZSx0LG4saSx0aGlzLnN0eWxlLnBsYWNlbWVudC52YXJpYWJsZU9mZnNldHMsdGhpcy5vcHRpb25zLmlzSW5pdGlhbExvYWQpLHRoaXMuZ3B1VGltaW5nRW5kKCkpfWdwdVRpbWluZ1N0YXJ0KGUpe2lmKCF0aGlzLm9wdGlvbnMuZ3B1VGltaW5nKXJldHVybjtjb25zdCB0PXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5O2xldCBuPXRoaXMuZ3B1VGltZXJzW2UuaWRdO258fChuPXRoaXMuZ3B1VGltZXJzW2UuaWRdPXtjYWxsczowLGNwdVRpbWU6MCxxdWVyeTp0LmNyZWF0ZVF1ZXJ5RVhUKCl9KSxuLmNhbGxzKyssdC5iZWdpblF1ZXJ5RVhUKHQuVElNRV9FTEFQU0VEX0VYVCxuLnF1ZXJ5KX1ncHVUaW1pbmdEZWZlcnJlZFJlbmRlclN0YXJ0KCl7aWYodGhpcy5vcHRpb25zLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyKXtjb25zdCBlPXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LHQ9ZS5jcmVhdGVRdWVyeUVYVCgpO3RoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcy5wdXNoKHQpLGUuYmVnaW5RdWVyeUVYVChlLlRJTUVfRUxBUFNFRF9FWFQsdCl9fWdwdVRpbWluZ0RlZmVycmVkUmVuZGVyRW5kKCl7aWYoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlcilyZXR1cm47Y29uc3QgZT10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeTtlLmVuZFF1ZXJ5RVhUKGUuVElNRV9FTEFQU0VEX0VYVCl9Z3B1VGltaW5nRW5kKCl7aWYoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmcpcmV0dXJuO2NvbnN0IGU9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7ZS5lbmRRdWVyeUVYVChlLlRJTUVfRUxBUFNFRF9FWFQpfWNvbGxlY3RHcHVUaW1lcnMoKXtjb25zdCBlPXRoaXMuZ3B1VGltZXJzO3JldHVybiB0aGlzLmdwdVRpbWVycz17fSxlfWNvbGxlY3REZWZlcnJlZFJlbmRlckdwdVF1ZXJpZXMoKXtjb25zdCBlPXRoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcztyZXR1cm4gdGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzPVtdLGV9cXVlcnlHcHVUaW1lcnMoZSl7Y29uc3QgdD17fTtmb3IoY29uc3QgbiBpbiBlKXtjb25zdCBpPWVbbl0scj10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeSxvPXIuZ2V0UXVlcnlPYmplY3RFWFQoaS5xdWVyeSxyLlFVRVJZX1JFU1VMVF9FWFQpLzFlNjtyLmRlbGV0ZVF1ZXJ5RVhUKGkucXVlcnkpLHRbbl09b31yZXR1cm4gdH1xdWVyeUdwdVRpbWVEZWZlcnJlZFJlbmRlcihlKXtpZighdGhpcy5vcHRpb25zLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7bGV0IG49MDtmb3IoY29uc3QgaSBvZiBlKW4rPXQuZ2V0UXVlcnlPYmplY3RFWFQoaSx0LlFVRVJZX1JFU1VMVF9FWFQpLzFlNix0LmRlbGV0ZVF1ZXJ5RVhUKGkpO3JldHVybiBufXRyYW5zbGF0ZVBvc01hdHJpeCh0LG4saSxyLG8pe2lmKCFpWzBdJiYhaVsxXSlyZXR1cm4gdDtjb25zdCBhPW8/XCJtYXBcIj09PXI/dGhpcy50cmFuc2Zvcm0uYW5nbGU6MDpcInZpZXdwb3J0XCI9PT1yPy10aGlzLnRyYW5zZm9ybS5hbmdsZTowO2lmKGEpe2NvbnN0IGU9TWF0aC5zaW4oYSksdD1NYXRoLmNvcyhhKTtpPVtpWzBdKnQtaVsxXSplLGlbMF0qZStpWzFdKnRdfWNvbnN0IHM9W28/aVswXTpEKG4saVswXSx0aGlzLnRyYW5zZm9ybS56b29tKSxvP2lbMV06RChuLGlbMV0sdGhpcy50cmFuc2Zvcm0uem9vbSksMF0sbD1uZXcgRmxvYXQzMkFycmF5KDE2KTtyZXR1cm4gZS50cmFuc2xhdGUobCx0LHMpLGx9c2F2ZVRpbGVUZXh0dXJlKGUpe2NvbnN0IHQ9dGhpcy5fdGlsZVRleHR1cmVzW2Uuc2l6ZVswXV07dD90LnB1c2goZSk6dGhpcy5fdGlsZVRleHR1cmVzW2Uuc2l6ZVswXV09W2VdfWdldFRpbGVUZXh0dXJlKGUpe2NvbnN0IHQ9dGhpcy5fdGlsZVRleHR1cmVzW2VdO3JldHVybiB0JiZ0Lmxlbmd0aD4wP3QucG9wKCk6bnVsbH1pc1BhdHRlcm5NaXNzaW5nKGUpe3JldHVybiBudWxsPT09ZXx8dm9pZCAwIT09ZSYmIXRoaXMuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oZS50b1N0cmluZygpKX10ZXJyYWluUmVuZGVyTW9kZUVsZXZhdGVkKCl7cmV0dXJuIHRoaXMuc3R5bGUmJiEhdGhpcy5zdHlsZS5nZXRUZXJyYWluKCkmJiEhdGhpcy50ZXJyYWluJiYhdGhpcy50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZX1jdXJyZW50R2xvYmFsRGVmaW5lcygpe2NvbnN0IGU9dGhpcy50ZXJyYWluJiZ0aGlzLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlLHQ9dGhpcy50ZXJyYWluJiYwPT09dGhpcy50ZXJyYWluLmV4YWdnZXJhdGlvbigpLG49dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5mb2csaT1bXTtyZXR1cm4gdGhpcy50ZXJyYWluUmVuZGVyTW9kZUVsZXZhdGVkKCkmJmkucHVzaChcIlRFUlJBSU5cIiksXCJnbG9iZVwiPT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lJiZpLnB1c2goXCJHTE9CRVwiKSx0JiZpLnB1c2goXCJaRVJPX0VYQUdHRVJBVElPTlwiKSxuJiYhZSYmMCE9PW4uZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCkmJmkucHVzaChcIkZPR1wiKSxlJiZpLnB1c2goXCJSRU5ERVJfVE9fVEVYVFVSRVwiKSx0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3ImJmkucHVzaChcIk9WRVJEUkFXX0lOU1BFQ1RPUlwiKSxpfXVzZVByb2dyYW0oZSx0LG4pe3RoaXMuY2FjaGU9dGhpcy5jYWNoZXx8e307Y29uc3QgaT1ufHxbXSxyPXRoaXMuY3VycmVudEdsb2JhbERlZmluZXMoKS5jb25jYXQoaSksbz16bi5jYWNoZUtleShobltlXSxlLHIsdCk7cmV0dXJuIHRoaXMuY2FjaGVbb118fCh0aGlzLmNhY2hlW29dPW5ldyB6bih0aGlzLmNvbnRleHQsZSxobltlXSx0LHNpW2VdLHIpKSx0aGlzLmNhY2hlW29dfXNldEN1c3RvbUxheWVyRGVmYXVsdHMoKXt0aGlzLmNvbnRleHQudW5iaW5kVkFPKCksdGhpcy5jb250ZXh0LmN1bGxGYWNlLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQuZnJvbnRGYWNlLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQuY3VsbEZhY2VTaWRlLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LnBpeGVsU3RvcmVVbnBhY2suc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXREZWZhdWx0KCl9c2V0QmFzZVN0YXRlKCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5jb250ZXh0LmN1bGxGYWNlLnNldCghMSksdGhpcy5jb250ZXh0LnZpZXdwb3J0LnNldChbMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHRdKSx0aGlzLmNvbnRleHQuYmxlbmRFcXVhdGlvbi5zZXQoZS5GVU5DX0FERCl9aW5pdERlYnVnT3ZlcmxheUNhbnZhcygpe251bGw9PXRoaXMuZGVidWdPdmVybGF5Q2FudmFzJiYodGhpcy5kZWJ1Z092ZXJsYXlDYW52YXM9ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcy53aWR0aD01MTIsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMuaGVpZ2h0PTUxMix0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmU9bmV3IGUuVGV4dHVyZSh0aGlzLmNvbnRleHQsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMsdGhpcy5jb250ZXh0LmdsLlJHQkEpKX1kZXN0cm95KCl7dGhpcy5fdGVycmFpbiYmdGhpcy5fdGVycmFpbi5kZXN0cm95KCksdGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnMmJnRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzLmRlc3Ryb3koKSx0aGlzLmVtcHR5VGV4dHVyZS5kZXN0cm95KCksdGhpcy5kZWJ1Z092ZXJsYXlUZXh0dXJlJiZ0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmUuZGVzdHJveSgpLHRoaXMuYXRtb3NwaGVyZUJ1ZmZlciYmdGhpcy5hdG1vc3BoZXJlQnVmZmVyLmRlc3Ryb3koKX1wcmVwYXJlRHJhd1RpbGUoKXt0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5wcmVwYXJlRHJhd1RpbGUoKX1wcmVwYXJlRHJhd1Byb2dyYW0odCxuLGkpe2lmKHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSlyZXR1cm47Y29uc3Qgcj10aGlzLnN0eWxlLmZvZztpZihyKXtjb25zdCBvPXIuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCksYT0oKHQsbixpLHIsbyxhLHMsbCxjLHUsaCk9Pntjb25zdCBkPXQudHJhbnNmb3JtLHA9bi5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLnRvQXJyYXkwMSgpO3BbM109cjtjb25zdCBmPXQuZnJhbWVDb3VudGVyLzFlMyUxO3JldHVybnt1X2ZvZ19tYXRyaXg6aT9kLmNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgoaSk6dC5pZGVudGl0eU1hdCx1X2ZvZ19yYW5nZTpuLmdldEZvdkFkanVzdGVkUmFuZ2UoZC5fZm92KSx1X2ZvZ19jb2xvcjpwLHVfZm9nX2hvcml6b25fYmxlbmQ6bi5wcm9wZXJ0aWVzLmdldChcImhvcml6b24tYmxlbmRcIiksdV9mb2dfdGVtcG9yYWxfb2Zmc2V0OmYsdV9mcnVzdHVtX3RsOm8sdV9mcnVzdHVtX3RyOmEsdV9mcnVzdHVtX2JyOnMsdV9mcnVzdHVtX2JsOmwsdV9nbG9iZV9wb3M6Yyx1X2dsb2JlX3JhZGl1czp1LHVfdmlld3BvcnQ6aCx1X2dsb2JlX3RyYW5zaXRpb246ZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKGQuem9vbSksdV9pc19nbG9iZTorKFwiZ2xvYmVcIj09PWQucHJvamVjdGlvbi5uYW1lKX19KSh0aGlzLHIsaSxvLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRMLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRSLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJSLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJMLHRoaXMudHJhbnNmb3JtLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsdGhpcy50cmFuc2Zvcm0uZ2xvYmVSYWRpdXMsW3RoaXMudHJhbnNmb3JtLndpZHRoKmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLnRyYW5zZm9ybS5oZWlnaHQqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvXSk7bi5zZXRGb2dVbmlmb3JtVmFsdWVzKHQsYSl9fXNldFRpbGVMb2FkZWRGbGFnKGUpe3RoaXMudGlsZUxvYWRlZD1lfXNhdmVDYW52YXNDb3B5KCl7dGhpcy5mcmFtZUNvcGllcy5wdXNoKHRoaXMuY2FudmFzQ29weSgpKSx0aGlzLnRpbGVMb2FkZWQ9ITF9Y2FudmFzQ29weSgpe2NvbnN0IGU9dGhpcy5jb250ZXh0LmdsLHQ9ZS5jcmVhdGVUZXh0dXJlKCk7cmV0dXJuIGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHQpLGUuY29weVRleEltYWdlMkQoZS5URVhUVVJFXzJELDAsZS5SR0JBLDAsMCxlLmRyYXdpbmdCdWZmZXJXaWR0aCxlLmRyYXdpbmdCdWZmZXJIZWlnaHQsMCksdH1nZXRDYW52YXNDb3BpZXNBbmRUaW1lc3RhbXBzKCl7cmV0dXJue2NhbnZhc0NvcGllczp0aGlzLmZyYW1lQ29waWVzLHRpbWVTdGFtcHM6dGhpcy5sb2FkVGltZVN0YW1wc319YXZlcmFnZUVsZXZhdGlvbk5lZWRzRWFzaW5nKCl7aWYoIXRoaXMudHJhbnNmb3JtLl9lbGV2YXRpb24pcmV0dXJuITE7Y29uc3QgZT10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmZvZztyZXR1cm4hIWUmJjAhPT1lLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpfWdldEJhY2tncm91bmRUaWxlcygpe2NvbnN0IHQ9dGhpcy5fYmFja2dyb3VuZFRpbGVzLG49dGhpcy5fYmFja2dyb3VuZFRpbGVzPXt9LGk9dGhpcy50cmFuc2Zvcm0uY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6NTEyfSk7Zm9yKGNvbnN0IHIgb2YgaSluW3Iua2V5XT10W3Iua2V5XXx8bmV3IGUuVGlsZShyLDUxMix0aGlzLnRyYW5zZm9ybS50aWxlWm9vbSx0aGlzKTtyZXR1cm4gbn1jbGVhckJhY2tncm91bmRUaWxlcygpe3RoaXMuX2JhY2tncm91bmRUaWxlcz17fX19Y2xhc3MgQml7Y29uc3RydWN0b3IoZT0wLHQ9MCxuPTAsaT0wKXtpZihpc05hTihlKXx8ZTwwfHxpc05hTih0KXx8dDwwfHxpc05hTihuKXx8bjwwfHxpc05hTihpKXx8aTwwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIGVkZ2UtaW5zZXRzLCB0b3AsIGJvdHRvbSwgbGVmdCBhbmQgcmlnaHQgbXVzdCBhbGwgYmUgbnVtYmVyc1wiKTt0aGlzLnRvcD1lLHRoaXMuYm90dG9tPXQsdGhpcy5sZWZ0PW4sdGhpcy5yaWdodD1pfWludGVycG9sYXRlKHQsbixpKXtyZXR1cm4gbnVsbCE9bi50b3AmJm51bGwhPXQudG9wJiYodGhpcy50b3A9ZS5udW1iZXIodC50b3Asbi50b3AsaSkpLG51bGwhPW4uYm90dG9tJiZudWxsIT10LmJvdHRvbSYmKHRoaXMuYm90dG9tPWUubnVtYmVyKHQuYm90dG9tLG4uYm90dG9tLGkpKSxudWxsIT1uLmxlZnQmJm51bGwhPXQubGVmdCYmKHRoaXMubGVmdD1lLm51bWJlcih0LmxlZnQsbi5sZWZ0LGkpKSxudWxsIT1uLnJpZ2h0JiZudWxsIT10LnJpZ2h0JiYodGhpcy5yaWdodD1lLm51bWJlcih0LnJpZ2h0LG4ucmlnaHQsaSkpLHRoaXN9Z2V0Q2VudGVyKHQsbil7Y29uc3QgaT1lLmNsYW1wKCh0aGlzLmxlZnQrdC10aGlzLnJpZ2h0KS8yLDAsdCkscj1lLmNsYW1wKCh0aGlzLnRvcCtuLXRoaXMuYm90dG9tKS8yLDAsbik7cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoaSxyKX1lcXVhbHMoZSl7cmV0dXJuIHRoaXMudG9wPT09ZS50b3AmJnRoaXMuYm90dG9tPT09ZS5ib3R0b20mJnRoaXMubGVmdD09PWUubGVmdCYmdGhpcy5yaWdodD09PWUucmlnaHR9Y2xvbmUoKXtyZXR1cm4gbmV3IEJpKHRoaXMudG9wLHRoaXMuYm90dG9tLHRoaXMubGVmdCx0aGlzLnJpZ2h0KX10b0pTT04oKXtyZXR1cm57dG9wOnRoaXMudG9wLGJvdHRvbTp0aGlzLmJvdHRvbSxsZWZ0OnRoaXMubGVmdCxyaWdodDp0aGlzLnJpZ2h0fX19ZnVuY3Rpb24gamkodCxuKXtjb25zdCBpPWUuZ2V0Q29sdW1uKHQsMyk7ZS5mcm9tUXVhdCh0LG4pLGUuc2V0Q29sdW1uKHQsMyxpKX1mdW5jdGlvbiBGaSh0LG4pe2NvbnN0IGk9ZS5pZGVudGl0eSQxKFtdKTtyZXR1cm4gZS5yb3RhdGVaJDEoaSxpLC1uKSxlLnJvdGF0ZVgkMShpLGksLXQpLGl9ZnVuY3Rpb24gTmkodCxuKXtjb25zdCBpPVt0WzBdLHRbMV0sMF0scj1bblswXSxuWzFdLDBdO2lmKGUubGVuZ3RoKGkpPj0xZS0xNSl7Y29uc3QgdD1lLm5vcm1hbGl6ZShbXSxpKTtlLnNjYWxlJDIocix0LGUuZG90KHIsdCkpLG5bMF09clswXSxuWzFdPXJbMV19Y29uc3Qgbz1lLmNyb3NzKFtdLG4sdCk7aWYoZS5sZW4obyk8MWUtMTUpcmV0dXJuIG51bGw7Y29uc3QgYT1NYXRoLmF0YW4yKC1vWzFdLG9bMF0pO3JldHVybiBGaShNYXRoLmF0YW4yKE1hdGguc3FydCh0WzBdKnRbMF0rdFsxXSp0WzFdKSwtdFsyXSksYSl9Y2xhc3MgVWl7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnBvc2l0aW9uPWUsdGhpcy5vcmllbnRhdGlvbj10fWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn1zZXQgcG9zaXRpb24odCl7aWYodCl7Y29uc3Qgbj10IGluc3RhbmNlb2YgZS5NZXJjYXRvckNvb3JkaW5hdGU/dDpuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodFswXSx0WzFdLHRbMl0pO3RoaXMuX3JlbmRlcldvcmxkQ29waWVzJiYobi54PWUud3JhcChuLngsMCwxKSksdGhpcy5fcG9zaXRpb249bn1lbHNlIHRoaXMuX3Bvc2l0aW9uPW51bGx9bG9va0F0UG9pbnQodCxuKXtpZih0aGlzLm9yaWVudGF0aW9uPW51bGwsIXRoaXMucG9zaXRpb24pcmV0dXJuO2NvbnN0IGk9dGhpcy5fZWxldmF0aW9uP3RoaXMuX2VsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKGUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQodCkpOjAscj10aGlzLnBvc2l0aW9uLG89ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCh0LGkpLGE9W28ueC1yLngsby55LXIueSxvLnotci56XTtufHwobj1bMCwwLDFdKSxuWzJdPU1hdGguYWJzKG5bMl0pLHRoaXMub3JpZW50YXRpb249TmkoYSxuKX1zZXRQaXRjaEJlYXJpbmcodCxuKXt0aGlzLm9yaWVudGF0aW9uPUZpKGUuZGVnVG9SYWQodCksZS5kZWdUb1JhZCgtbikpfX1jbGFzcyBWaXtjb25zdHJ1Y3Rvcih0LG4pe3RoaXMuX3RyYW5zZm9ybT1lLmlkZW50aXR5KFtdKSx0aGlzLm9yaWVudGF0aW9uPW4sdGhpcy5wb3NpdGlvbj10fWdldCBtZXJjYXRvclBvc2l0aW9uKCl7Y29uc3QgdD10aGlzLnBvc2l0aW9uO3JldHVybiBuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodFswXSx0WzFdLHRbMl0pfWdldCBwb3NpdGlvbigpe2NvbnN0IHQ9ZS5nZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLDMpO3JldHVyblt0WzBdLHRbMV0sdFsyXV19c2V0IHBvc2l0aW9uKHQpe3ZhciBuO3QmJmUuc2V0Q29sdW1uKHRoaXMuX3RyYW5zZm9ybSwzLFsobj10KVswXSxuWzFdLG5bMl0sMV0pfWdldCBvcmllbnRhdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvbn1zZXQgb3JpZW50YXRpb24odCl7dGhpcy5fb3JpZW50YXRpb249dHx8ZS5pZGVudGl0eSQxKFtdKSx0JiZqaSh0aGlzLl90cmFuc2Zvcm0sdGhpcy5fb3JpZW50YXRpb24pfWdldFBpdGNoQmVhcmluZygpe2NvbnN0IGU9dGhpcy5mb3J3YXJkKCksdD10aGlzLnJpZ2h0KCk7cmV0dXJue2JlYXJpbmc6TWF0aC5hdGFuMigtdFsxXSx0WzBdKSxwaXRjaDpNYXRoLmF0YW4yKE1hdGguc3FydChlWzBdKmVbMF0rZVsxXSplWzFdKSwtZVsyXSl9fXNldFBpdGNoQmVhcmluZyhlLHQpe3RoaXMuX29yaWVudGF0aW9uPUZpKGUsdCksamkodGhpcy5fdHJhbnNmb3JtLHRoaXMuX29yaWVudGF0aW9uKX1mb3J3YXJkKCl7Y29uc3QgdD1lLmdldENvbHVtbih0aGlzLl90cmFuc2Zvcm0sMik7cmV0dXJuWy10WzBdLC10WzFdLC10WzJdXX11cCgpe2NvbnN0IHQ9ZS5nZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLDEpO3JldHVyblstdFswXSwtdFsxXSwtdFsyXV19cmlnaHQoKXtjb25zdCB0PWUuZ2V0Q29sdW1uKHRoaXMuX3RyYW5zZm9ybSwwKTtyZXR1cm5bdFswXSx0WzFdLHRbMl1dfWdldENhbWVyYVRvV29ybGQodCxuKXtjb25zdCBpPW5ldyBGbG9hdDY0QXJyYXkoMTYpO3JldHVybiBlLmludmVydChpLHRoaXMuZ2V0V29ybGRUb0NhbWVyYSh0LG4pKSxpfWdldFdvcmxkVG9DYW1lcmFQb3NpdGlvbih0LG4saSl7Y29uc3Qgcj10aGlzLnBvc2l0aW9uO2Uuc2NhbGUkMihyLHIsLXQpO2NvbnN0IG89bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIGUuZnJvbVNjYWxpbmcobyxbaSxpLGldKSxlLnRyYW5zbGF0ZShvLG8sciksb1sxMF0qPW4sb31nZXRXb3JsZFRvQ2FtZXJhKHQsbil7Y29uc3QgaT1uZXcgRmxvYXQ2NEFycmF5KDE2KSxyPW5ldyBGbG9hdDY0QXJyYXkoNCksbz10aGlzLnBvc2l0aW9uO3JldHVybiBlLmNvbmp1Z2F0ZShyLHRoaXMuX29yaWVudGF0aW9uKSxlLnNjYWxlJDIobyxvLC10KSxlLmZyb21RdWF0KGksciksZS50cmFuc2xhdGUoaSxpLG8pLGlbMV0qPS0xLGlbNV0qPS0xLGlbOV0qPS0xLGlbMTNdKj0tMSxpWzhdKj1uLGlbOV0qPW4saVsxMF0qPW4saVsxMV0qPW4saX1nZXRDYW1lcmFUb0NsaXBQZXJzcGVjdGl2ZSh0LG4saSxyKXtjb25zdCBvPW5ldyBGbG9hdDY0QXJyYXkoMTYpO3JldHVybiBlLnBlcnNwZWN0aXZlKG8sdCxuLGksciksb31nZXREaXN0YW5jZVRvRWxldmF0aW9uKHQsbj0hMSl7Y29uc3QgaT0wPT09dD8wOmUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKHQsbj9lLmxhdEZyb21NZXJjYXRvclkodGhpcy5wb3NpdGlvblsxXSk6dGhpcy5wb3NpdGlvblsxXSkscj10aGlzLmZvcndhcmQoKTtyZXR1cm4oaS10aGlzLnBvc2l0aW9uWzJdKS9yWzJdfWNsb25lKCl7cmV0dXJuIG5ldyBWaShbLi4udGhpcy5wb3NpdGlvbl0sWy4uLnRoaXMub3JpZW50YXRpb25dKX19ZnVuY3Rpb24gR2kodCxuKXtjb25zdCBpPVdpKHQucHJvamVjdGlvbix0Lnpvb20sdC53aWR0aCx0LmhlaWdodCkscj1mdW5jdGlvbih0LG4saSxyLG8pe2NvbnN0IGE9bmV3IGUuTG5nTGF0KGkubG5nLTE4MCpxaSxpLmxhdCkscz1uZXcgZS5MbmdMYXQoaS5sbmcrMTgwKnFpLGkubGF0KSxsPXQucHJvamVjdChhLmxuZyxhLmxhdCksYz10LnByb2plY3Qocy5sbmcscy5sYXQpLHU9LU1hdGguYXRhbjIoYy55LWwueSxjLngtbC54KSxoPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoaSk7aC55PWUuY2xhbXAoaC55LC0uOTk5OTc1LC45OTk5NzUpO2NvbnN0IGQ9aC50b0xuZ0xhdCgpLHA9dC5wcm9qZWN0KGQubG5nLGQubGF0KSxmPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoZCk7Zi54Kz1xaTtjb25zdCBtPWYudG9MbmdMYXQoKSxnPXQucHJvamVjdChtLmxuZyxtLmxhdCkseT1IaShnLngtcC54LGcueS1wLnksdSksXz1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KGQpO18ueSs9cWk7Y29uc3Qgdj1fLnRvTG5nTGF0KCkseD10LnByb2plY3Qodi5sbmcsdi5sYXQpLGI9SGkoeC54LXAueCx4LnktcC55LHUpLHc9TWF0aC5hYnMoeS54KS9NYXRoLmFicyhiLnkpLFQ9ZS5pZGVudGl0eShbXSk7ZS5yb3RhdGVaKFQsVCwtdSooMS0obz8wOnIpKSk7Y29uc3QgRT1lLmlkZW50aXR5KFtdKTtyZXR1cm4gZS5zY2FsZShFLEUsWzEsMS0oMS13KSpyLDFdKSxFWzRdPS1iLngvYi55KnIsZS5yb3RhdGVaKEUsRSx1KSxlLm11bHRpcGx5KEUsVCxFKSxFfSh0LnByb2plY3Rpb24sMCx0LmNlbnRlcixpLG4pLG89WmkodCk7cmV0dXJuIGUuc2NhbGUocixyLFtvLG8sMV0pLHJ9ZnVuY3Rpb24gWmkodCl7Y29uc3Qgbj10LnByb2plY3Rpb24saT1XaSh0LnByb2plY3Rpb24sdC56b29tLHQud2lkdGgsdC5oZWlnaHQpLHI9JGkobix0LmNlbnRlciksbz0kaShuLGUuTG5nTGF0LmNvbnZlcnQobi5jZW50ZXIpKTtyZXR1cm4gTWF0aC5wb3coMixyKmkrKDEtaSkqbyl9ZnVuY3Rpb24gV2kodCxuLGkscixvPTEvMCl7Y29uc3QgYT10LnJhbmdlO2lmKCFhKXJldHVybiAwO2NvbnN0IHM9TWF0aC5taW4obyxNYXRoLm1heChpLHIpKSxsPU1hdGgubG9nKHMvMTAyNCkvTWF0aC5MTjI7cmV0dXJuIGUuc21vb3Roc3RlcChhWzBdK2wsYVsxXStsLG4pfWNvbnN0IHFpPTEvNGU0O2Z1bmN0aW9uICRpKHQsbil7Y29uc3QgaT1lLmNsYW1wKG4ubGF0LC1lLk1BWF9NRVJDQVRPUl9MQVRJVFVERSxlLk1BWF9NRVJDQVRPUl9MQVRJVFVERSkscj1uZXcgZS5MbmdMYXQobi5sbmctMTgwKnFpLGkpLG89bmV3IGUuTG5nTGF0KG4ubG5nKzE4MCpxaSxpKSxhPXQucHJvamVjdChyLmxuZyxpKSxzPXQucHJvamVjdChvLmxuZyxpKSxsPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQociksYz1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KG8pLHU9cy54LWEueCxoPXMueS1hLnksZD1jLngtbC54LHA9Yy55LWwueSxmPU1hdGguc3FydCgoZCpkK3AqcCkvKHUqdStoKmgpKTtyZXR1cm4gTWF0aC5sb2coZikvTWF0aC5MTjJ9ZnVuY3Rpb24gSGkoZSx0LG4pe2NvbnN0IGk9TWF0aC5jb3Mobikscj1NYXRoLnNpbihuKTtyZXR1cm57eDplKmktdCpyLHk6ZSpyK3QqaX19Y2xhc3MgWGl7Y29uc3RydWN0b3IodCxuLGkscixvLGEscyl7dGhpcy50aWxlU2l6ZT01MTIsdGhpcy5fcmVuZGVyV29ybGRDb3BpZXM9dm9pZCAwPT09b3x8byx0aGlzLl9taW5ab29tPXR8fDAsdGhpcy5fbWF4Wm9vbT1ufHwyMix0aGlzLl9taW5QaXRjaD1udWxsPT1pPzA6aSx0aGlzLl9tYXhQaXRjaD1udWxsPT1yPzYwOnIsdGhpcy5zZXRQcm9qZWN0aW9uKGEpLHRoaXMuc2V0TWF4Qm91bmRzKHMpLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuX2NlbnRlcj1uZXcgZS5MbmdMYXQoMCwwKSx0aGlzLnpvb209MCx0aGlzLmFuZ2xlPTAsdGhpcy5fZm92PS42NDM1MDExMDg3OTMyODQ0LHRoaXMuX3BpdGNoPTAsdGhpcy5fbmVhclo9MCx0aGlzLl9mYXJaPTAsdGhpcy5fdW5tb2RpZmllZD0hMCx0aGlzLl9lZGdlSW5zZXRzPW5ldyBCaSx0aGlzLl9wcm9qTWF0cml4Q2FjaGU9e30sdGhpcy5fYWxpZ25lZFByb2pNYXRyaXhDYWNoZT17fSx0aGlzLl9mb2dUaWxlTWF0cml4Q2FjaGU9e30sdGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlPXt9LHRoaXMuX2NhbWVyYT1uZXcgVmksdGhpcy5fY2VudGVyQWx0aXR1ZGU9MCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uPTAsdGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIix0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsPTEsdGhpcy5nbG9iZVJhZGl1cz0wLHRoaXMuZ2xvYmVDZW50ZXJJblZpZXdTcGFjZT1bMCwwLDBdLHRoaXMuX2hvcml6b25TaGlmdD0uMX1jbG9uZSgpe2NvbnN0IGU9bmV3IFhpKHRoaXMuX21pblpvb20sdGhpcy5fbWF4Wm9vbSx0aGlzLl9taW5QaXRjaCx0aGlzLm1heFBpdGNoLHRoaXMuX3JlbmRlcldvcmxkQ29waWVzLHRoaXMuZ2V0UHJvamVjdGlvbigpKTtyZXR1cm4gZS5fZWxldmF0aW9uPXRoaXMuX2VsZXZhdGlvbixlLl9jZW50ZXJBbHRpdHVkZT10aGlzLl9jZW50ZXJBbHRpdHVkZSxlLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uPXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb24sZS50aWxlU2l6ZT10aGlzLnRpbGVTaXplLGUubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj10aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24sZS53aWR0aD10aGlzLndpZHRoLGUuaGVpZ2h0PXRoaXMuaGVpZ2h0LGUuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPXRoaXMuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlLGUuX2NlbnRlcj10aGlzLl9jZW50ZXIsZS5fc2V0Wm9vbSh0aGlzLnpvb20pLGUuX3NlYUxldmVsWm9vbT10aGlzLl9zZWFMZXZlbFpvb20sZS5hbmdsZT10aGlzLmFuZ2xlLGUuX2Zvdj10aGlzLl9mb3YsZS5fcGl0Y2g9dGhpcy5fcGl0Y2gsZS5fbmVhclo9dGhpcy5fbmVhclosZS5fZmFyWj10aGlzLl9mYXJaLGUuX2F2ZXJhZ2VFbGV2YXRpb249dGhpcy5fYXZlcmFnZUVsZXZhdGlvbixlLl91bm1vZGlmaWVkPXRoaXMuX3VubW9kaWZpZWQsZS5fZWRnZUluc2V0cz10aGlzLl9lZGdlSW5zZXRzLmNsb25lKCksZS5fY2FtZXJhPXRoaXMuX2NhbWVyYS5jbG9uZSgpLGUuX2NhbGNNYXRyaWNlcygpLGUuZnJlZXplVGlsZUNvdmVyYWdlPXRoaXMuZnJlZXplVGlsZUNvdmVyYWdlLGUuZnJ1c3R1bUNvcm5lcnM9dGhpcy5mcnVzdHVtQ29ybmVycyxlfWdldCBlbGV2YXRpb24oKXtyZXR1cm4gdGhpcy5fZWxldmF0aW9ufXNldCBlbGV2YXRpb24oZSl7dGhpcy5fZWxldmF0aW9uIT09ZSYmKHRoaXMuX2VsZXZhdGlvbj1lLHRoaXMuX3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpKX11cGRhdGVFbGV2YXRpb24oZSx0PSExKXtjb25zdCBuPXRoaXMuX2VsZXZhdGlvbiYmdGhpcy5fZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpIT09dGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbjsobnVsbD09dGhpcy5fc2VhTGV2ZWxab29tfHxuKSYmdGhpcy5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCksKGV8fG4pJiZ0aGlzLl9jb25zdHJhaW5DYW1lcmEodCksdGhpcy5fY2FsY01hdHJpY2VzKCl9Z2V0UHJvamVjdGlvbigpe3JldHVybiBlLnBpY2sodGhpcy5wcm9qZWN0aW9uLFtcIm5hbWVcIixcImNlbnRlclwiLFwicGFyYWxsZWxzXCJdKX1zZXRQcm9qZWN0aW9uKG4pe3RoaXMucHJvamVjdGlvbk9wdGlvbnM9bnx8e25hbWU6XCJtZXJjYXRvclwifTtjb25zdCBpPXRoaXMucHJvamVjdGlvbj90aGlzLmdldFByb2plY3Rpb24oKTp2b2lkIDA7dGhpcy5wcm9qZWN0aW9uPWUuZ2V0UHJvamVjdGlvbih0aGlzLnByb2plY3Rpb25PcHRpb25zKTtjb25zdCByPSF0KGksdGhpcy5nZXRQcm9qZWN0aW9uKCkpO3JldHVybiByJiZ0aGlzLl9jYWxjTWF0cmljZXMoKSx0aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb249ITEscn1zZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCl7Y29uc3QgdD10aGlzLnByb2plY3Rpb24ubmFtZTt0aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb249ITAsdGhpcy5wcm9qZWN0aW9uT3B0aW9ucz17bmFtZTpcIm1lcmNhdG9yXCJ9LHRoaXMucHJvamVjdGlvbj1lLmdldFByb2plY3Rpb24oe25hbWU6XCJtZXJjYXRvclwifSk7Y29uc3Qgbj10IT09dGhpcy5wcm9qZWN0aW9uLm5hbWU7cmV0dXJuIG4mJnRoaXMuX2NhbGNNYXRyaWNlcygpLG59Z2V0IG1pblpvb20oKXtyZXR1cm4gdGhpcy5fbWluWm9vbX1zZXQgbWluWm9vbShlKXt0aGlzLl9taW5ab29tIT09ZSYmKHRoaXMuX21pblpvb209ZSx0aGlzLnpvb209TWF0aC5tYXgodGhpcy56b29tLGUpKX1nZXQgbWF4Wm9vbSgpe3JldHVybiB0aGlzLl9tYXhab29tfXNldCBtYXhab29tKGUpe3RoaXMuX21heFpvb20hPT1lJiYodGhpcy5fbWF4Wm9vbT1lLHRoaXMuem9vbT1NYXRoLm1pbih0aGlzLnpvb20sZSkpfWdldCBtaW5QaXRjaCgpe3JldHVybiB0aGlzLl9taW5QaXRjaH1zZXQgbWluUGl0Y2goZSl7dGhpcy5fbWluUGl0Y2ghPT1lJiYodGhpcy5fbWluUGl0Y2g9ZSx0aGlzLnBpdGNoPU1hdGgubWF4KHRoaXMucGl0Y2gsZSkpfWdldCBtYXhQaXRjaCgpe3JldHVybiB0aGlzLl9tYXhQaXRjaH1zZXQgbWF4UGl0Y2goZSl7dGhpcy5fbWF4UGl0Y2ghPT1lJiYodGhpcy5fbWF4UGl0Y2g9ZSx0aGlzLnBpdGNoPU1hdGgubWluKHRoaXMucGl0Y2gsZSkpfWdldCByZW5kZXJXb3JsZENvcGllcygpe3JldHVybiB0aGlzLl9yZW5kZXJXb3JsZENvcGllcyYmITA9PT10aGlzLnByb2plY3Rpb24uc3VwcG9ydHNXb3JsZENvcGllc31zZXQgcmVuZGVyV29ybGRDb3BpZXMoZSl7dm9pZCAwPT09ZT9lPSEwOm51bGw9PT1lJiYoZT0hMSksdGhpcy5fcmVuZGVyV29ybGRDb3BpZXM9ZX1nZXQgd29ybGRTaXplKCl7cmV0dXJuIHRoaXMudGlsZVNpemUqdGhpcy5zY2FsZX1nZXQgY2FtZXJhV29ybGRTaXplRm9yRm9nKCl7Y29uc3QgZT1NYXRoLm1heCh0aGlzLl9jYW1lcmEuZ2V0RGlzdGFuY2VUb0VsZXZhdGlvbih0aGlzLl9hdmVyYWdlRWxldmF0aW9uKSxOdW1iZXIuRVBTSUxPTik7cmV0dXJuIHRoaXMuX3dvcmxkU2l6ZUZyb21ab29tKHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKGUpKX1nZXQgY2FtZXJhV29ybGRTaXplKCl7Y29uc3QgZT1NYXRoLm1heCh0aGlzLl9jYW1lcmEuZ2V0RGlzdGFuY2VUb0VsZXZhdGlvbih0aGlzLl9hdmVyYWdlRWxldmF0aW9uLCEwKSxOdW1iZXIuRVBTSUxPTik7cmV0dXJuIHRoaXMuX3dvcmxkU2l6ZUZyb21ab29tKHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKGUpKX1nZXQgcGl4ZWxzUGVyTWV0ZXIoKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnBpeGVsc1Blck1ldGVyKHRoaXMuY2VudGVyLmxhdCx0aGlzLndvcmxkU2l6ZSl9Z2V0IGNhbWVyYVBpeGVsc1Blck1ldGVyKCl7cmV0dXJuIGUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKHRoaXMuY2VudGVyLmxhdCx0aGlzLmNhbWVyYVdvcmxkU2l6ZUZvckZvZyl9Z2V0IGNlbnRlck9mZnNldCgpe3JldHVybiB0aGlzLmNlbnRlclBvaW50Ll9zdWIodGhpcy5zaXplLl9kaXYoMikpfWdldCBzaXplKCl7cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9Z2V0IGJlYXJpbmcoKXtyZXR1cm4gZS53cmFwKHRoaXMucm90YXRpb24sLTE4MCwxODApfXNldCBiZWFyaW5nKGUpe3RoaXMucm90YXRpb249ZX1nZXQgcm90YXRpb24oKXtyZXR1cm4tdGhpcy5hbmdsZS9NYXRoLlBJKjE4MH1zZXQgcm90YXRpb24odCl7Y29uc3Qgbj0tdCpNYXRoLlBJLzE4MDt2YXIgaTt0aGlzLmFuZ2xlIT09biYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5hbmdsZT1uLHRoaXMuX2NhbGNNYXRyaWNlcygpLHRoaXMucm90YXRpb25NYXRyaXg9KGk9bmV3IGUuQVJSQVlfVFlQRSg0KSxlLkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKGlbMV09MCxpWzJdPTApLGlbMF09MSxpWzNdPTEsaSksZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRbMF0scj10WzFdLG89dFsyXSxhPXRbM10scz1NYXRoLnNpbihuKSxsPU1hdGguY29zKG4pO2VbMF09aSpsK28qcyxlWzFdPXIqbCthKnMsZVsyXT1pKi1zK28qbCxlWzNdPXIqLXMrYSpsfSh0aGlzLnJvdGF0aW9uTWF0cml4LHRoaXMucm90YXRpb25NYXRyaXgsdGhpcy5hbmdsZSkpfWdldCBwaXRjaCgpe3JldHVybiB0aGlzLl9waXRjaC9NYXRoLlBJKjE4MH1zZXQgcGl0Y2godCl7Y29uc3Qgbj1lLmNsYW1wKHQsdGhpcy5taW5QaXRjaCx0aGlzLm1heFBpdGNoKS8xODAqTWF0aC5QSTt0aGlzLl9waXRjaCE9PW4mJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX3BpdGNoPW4sdGhpcy5fY2FsY01hdHJpY2VzKCkpfWdldCBhc3BlY3QoKXtyZXR1cm4gdGhpcy53aWR0aC90aGlzLmhlaWdodH1nZXQgZm92WCgpe3JldHVybiB0aGlzLl9mb3Z9Z2V0IGZvdlkoKXtjb25zdCBlPTEvTWF0aC50YW4oLjUqdGhpcy5mb3ZYKTtyZXR1cm4gMipNYXRoLmF0YW4oMS90aGlzLmFzcGVjdC9lKX1zZXQgZm92KHQpe3Q9TWF0aC5tYXgoLjAxLE1hdGgubWluKDYwLHQpKSx0aGlzLl9mb3YhPT10JiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9mb3Y9ZS5kZWdUb1JhZCh0KSx0aGlzLl9jYWxjTWF0cmljZXMoKSl9Z2V0IGF2ZXJhZ2VFbGV2YXRpb24oKXtyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbn1zZXQgYXZlcmFnZUVsZXZhdGlvbihlKXt0aGlzLl9hdmVyYWdlRWxldmF0aW9uPWUsdGhpcy5fY2FsY0ZvZ01hdHJpY2VzKCksdGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlPXt9fWdldCB6b29tKCl7cmV0dXJuIHRoaXMuX3pvb219c2V0IHpvb20oZSl7Y29uc3QgdD1NYXRoLm1pbihNYXRoLm1heChlLHRoaXMubWluWm9vbSksdGhpcy5tYXhab29tKTt0aGlzLl96b29tIT09dCYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fc2V0Wm9vbSh0KSx0aGlzLl91cGRhdGVTZWFMZXZlbFpvb20oKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSl9X3NldFpvb20oZSl7dGhpcy5fem9vbT1lLHRoaXMuc2NhbGU9dGhpcy56b29tU2NhbGUoZSksdGhpcy50aWxlWm9vbT1NYXRoLmZsb29yKGUpLHRoaXMuem9vbUZyYWN0aW9uPWUtdGhpcy50aWxlWm9vbX1fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCl7aWYoIXRoaXMuX2VsZXZhdGlvbnx8IXRoaXMuX2VsZXZhdGlvbi5pc0RhdGFBdmFpbGFibGVBdFBvaW50KHRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSkpcmV0dXJuIHRoaXMuX2NlbnRlckFsdGl0dWRlPTAsdGhpcy5fc2VhTGV2ZWxab29tPW51bGwsdm9pZCh0aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uPXZvaWQgMCk7Y29uc3QgZT10aGlzLl9lbGV2YXRpb247dGhpcy5fY2VudGVyQWx0aXR1ZGU9ZS5nZXRBdFBvaW50T3JaZXJvKHRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSksdGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbj1lLmV4YWdnZXJhdGlvbigpLHRoaXMuX3VwZGF0ZVNlYUxldmVsWm9vbSgpfV91cGRhdGVTZWFMZXZlbFpvb20oKXt2b2lkIDAhPT10aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uJiYodGhpcy5fc2VhTGV2ZWxab29tPXRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKCh0aGlzLnBpeGVsc1Blck1ldGVyKnRoaXMuX2NlbnRlckFsdGl0dWRlK3RoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSkvdGhpcy53b3JsZFNpemUpKX1zYW1wbGVBdmVyYWdlRWxldmF0aW9uKCl7aWYoIXRoaXMuX2VsZXZhdGlvbilyZXR1cm4gMDtjb25zdCB0PXRoaXMuX2VsZXZhdGlvbixuPVtbLjUsLjJdLFsuMywuNV0sWy41LC41XSxbLjcsLjVdLFsuNSwuOF1dLGk9dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtsZXQgcj0wLG89MDtmb3IobGV0IGE9MDthPG4ubGVuZ3RoO2ErKyl7Y29uc3Qgcz1uZXcgZS5wb2ludEdlb21ldHJ5KG5bYV1bMF0qdGhpcy53aWR0aCxpK25bYV1bMV0qKHRoaXMuaGVpZ2h0LWkpKSxsPXQucG9pbnRDb29yZGluYXRlKHMpO2lmKCFsKWNvbnRpbnVlO2NvbnN0IGM9MS9NYXRoLmh5cG90KGxbMF0tdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzBdLGxbMV0tdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzFdKTtyKz1sWzNdKmMsbys9Y31yZXR1cm4gMD09PW8/TmFOOnIvb31nZXQgY2VudGVyKCl7cmV0dXJuIHRoaXMuX2NlbnRlcn1zZXQgY2VudGVyKGUpe2UubGF0PT09dGhpcy5fY2VudGVyLmxhdCYmZS5sbmc9PT10aGlzLl9jZW50ZXIubG5nfHwodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9jZW50ZXI9ZSx0aGlzLl90ZXJyYWluRW5hYmxlZCgpJiYoXCJncm91bmRcIj09PXRoaXMuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlP3RoaXMuX3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpOnRoaXMuX3VwZGF0ZVpvb21Gcm9tRWxldmF0aW9uKCkpLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpKX1fdXBkYXRlWm9vbUZyb21FbGV2YXRpb24oKXtpZihudWxsPT10aGlzLl9zZWFMZXZlbFpvb218fCF0aGlzLl9lbGV2YXRpb24pcmV0dXJuO2NvbnN0IGU9dGhpcy5fc2VhTGV2ZWxab29tLHQ9dGhpcy5fZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8odGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpKSxuPXRoaXMucGl4ZWxzUGVyTWV0ZXIvdGhpcy53b3JsZFNpemUqdCxpPXRoaXMuX21lcmNhdG9yWmZyb21ab29tKGUpLHI9dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWF4Wm9vbSksbz1NYXRoLm1heChpLW4scik7dGhpcy5fc2V0Wm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihvKSl9Z2V0IHBhZGRpbmcoKXtyZXR1cm4gdGhpcy5fZWRnZUluc2V0cy50b0pTT04oKX1zZXQgcGFkZGluZyhlKXt0aGlzLl9lZGdlSW5zZXRzLmVxdWFscyhlKXx8KHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fZWRnZUluc2V0cy5pbnRlcnBvbGF0ZSh0aGlzLl9lZGdlSW5zZXRzLGUsMSksdGhpcy5fY2FsY01hdHJpY2VzKCkpfWNvbXB1dGVab29tUmVsYXRpdmVUbyh0KXtjb25zdCBuPXRoaXMucmF5SW50ZXJzZWN0aW9uQ29vcmRpbmF0ZSh0aGlzLnBvaW50UmF5SW50ZXJzZWN0aW9uKHRoaXMuY2VudGVyUG9pbnQsdC50b0FsdGl0dWRlKCkpKTtsZXQgaTtpPXQuejx0aGlzLl9jYW1lcmEucG9zaXRpb25bMl0/W24ueCxuLnksbi56XTpbdC54LHQueSx0LnpdO2NvbnN0IHI9ZS5sZW5ndGgoZS5zdWIoW10sdGhpcy5fY2FtZXJhLnBvc2l0aW9uLGkpKTtyZXR1cm4gZS5jbGFtcCh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihyKSx0aGlzLl9taW5ab29tLHRoaXMuX21heFpvb20pfXNldEZyZWVDYW1lcmFPcHRpb25zKHQpe2lmKCF0aGlzLmhlaWdodClyZXR1cm47aWYoIXQucG9zaXRpb24mJiF0Lm9yaWVudGF0aW9uKXJldHVybjt0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2xldCBuPSExO2lmKHQub3JpZW50YXRpb24mJiFlLmV4YWN0RXF1YWxzKHQub3JpZW50YXRpb24sdGhpcy5fY2FtZXJhLm9yaWVudGF0aW9uKSYmKG49dGhpcy5fc2V0Q2FtZXJhT3JpZW50YXRpb24odC5vcmllbnRhdGlvbikpLHQucG9zaXRpb24pe2NvbnN0IGk9W3QucG9zaXRpb24ueCx0LnBvc2l0aW9uLnksdC5wb3NpdGlvbi56XTtlLmV4YWN0RXF1YWxzJDEoaSx0aGlzLl9jYW1lcmEucG9zaXRpb24pfHwodGhpcy5fc2V0Q2FtZXJhUG9zaXRpb24oaSksbj0hMCl9biYmKHRoaXMuX3VwZGF0ZVN0YXRlRnJvbUNhbWVyYSgpLHRoaXMucmVjZW50ZXJPblRlcnJhaW4oKSl9Z2V0RnJlZUNhbWVyYU9wdGlvbnMoKXt0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2NvbnN0IHQ9dGhpcy5fY2FtZXJhLnBvc2l0aW9uLG49bmV3IFVpO3JldHVybiBuLnBvc2l0aW9uPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0WzBdLHRbMV0sdFsyXSksbi5vcmllbnRhdGlvbj10aGlzLl9jYW1lcmEub3JpZW50YXRpb24sbi5fZWxldmF0aW9uPXRoaXMuZWxldmF0aW9uLG4uX3JlbmRlcldvcmxkQ29waWVzPXRoaXMucmVuZGVyV29ybGRDb3BpZXMsbn1fc2V0Q2FtZXJhT3JpZW50YXRpb24odCl7aWYoIWUubGVuZ3RoJDEodCkpcmV0dXJuITE7ZS5ub3JtYWxpemUkMSh0LHQpO2NvbnN0IG49ZS50cmFuc2Zvcm1RdWF0KFtdLFswLDAsLTFdLHQpLGk9ZS50cmFuc2Zvcm1RdWF0KFtdLFswLC0xLDBdLHQpO2lmKGlbMl08MClyZXR1cm4hMTtjb25zdCByPU5pKG4saSk7cmV0dXJuISFyJiYodGhpcy5fY2FtZXJhLm9yaWVudGF0aW9uPXIsITApfV9zZXRDYW1lcmFQb3NpdGlvbih0KXtjb25zdCBuPXRoaXMuem9vbVNjYWxlKHRoaXMubWluWm9vbSkqdGhpcy50aWxlU2l6ZSxpPXRoaXMuem9vbVNjYWxlKHRoaXMubWF4Wm9vbSkqdGhpcy50aWxlU2l6ZSxyPXRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTt0WzJdPWUuY2xhbXAodFsyXSxyL2ksci9uKSx0aGlzLl9jYW1lcmEucG9zaXRpb249dH1nZXQgY2VudGVyUG9pbnQoKXtyZXR1cm4gdGhpcy5fZWRnZUluc2V0cy5nZXRDZW50ZXIodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9Z2V0IGZvdkFib3ZlQ2VudGVyKCl7cmV0dXJuIHRoaXMuX2ZvdiooLjUrdGhpcy5jZW50ZXJPZmZzZXQueS90aGlzLmhlaWdodCl9aXNQYWRkaW5nRXF1YWwoZSl7cmV0dXJuIHRoaXMuX2VkZ2VJbnNldHMuZXF1YWxzKGUpfWludGVycG9sYXRlUGFkZGluZyhlLHQsbil7dGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9lZGdlSW5zZXRzLmludGVycG9sYXRlKGUsdCxuKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKX1jb3ZlcmluZ1pvb21MZXZlbChlKXtjb25zdCB0PShlLnJvdW5kWm9vbT9NYXRoLnJvdW5kOk1hdGguZmxvb3IpKHRoaXMuem9vbSt0aGlzLnNjYWxlWm9vbSh0aGlzLnRpbGVTaXplL2UudGlsZVNpemUpKTtyZXR1cm4gTWF0aC5tYXgoMCx0KX1nZXRWaXNpYmxlVW53cmFwcGVkQ29vcmRpbmF0ZXModCl7Y29uc3Qgbj1bbmV3IGUuVW53cmFwcGVkVGlsZUlEKDAsdCldO2lmKHRoaXMucmVuZGVyV29ybGRDb3BpZXMpe2NvbnN0IGk9dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IGUucG9pbnRHZW9tZXRyeSgwLDApKSxyPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy53aWR0aCwwKSksbz10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKSxhPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBlLnBvaW50R2VvbWV0cnkoMCx0aGlzLmhlaWdodCkpLHM9TWF0aC5mbG9vcihNYXRoLm1pbihpLngsci54LG8ueCxhLngpKSxsPU1hdGguZmxvb3IoTWF0aC5tYXgoaS54LHIueCxvLngsYS54KSksYz0xO2ZvcihsZXQgaT1zLWM7aTw9bCtjO2krKykwIT09aSYmbi5wdXNoKG5ldyBlLlVud3JhcHBlZFRpbGVJRChpLHQpKX1yZXR1cm4gbn1jb3ZlcmluZ1RpbGVzKHQpe2xldCBuPXRoaXMuY292ZXJpbmdab29tTGV2ZWwodCk7Y29uc3QgaT1uLHI9dGhpcy5lbGV2YXRpb24mJiF0LmlzVGVycmFpbkRFTSxvPVwibWVyY2F0b3JcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lO2lmKHZvaWQgMCE9PXQubWluem9vbSYmbjx0Lm1pbnpvb20pcmV0dXJuW107dm9pZCAwIT09dC5tYXh6b29tJiZuPnQubWF4em9vbSYmKG49dC5tYXh6b29tKTtjb25zdCBhPXRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSxzPXRoaXMuY2VudGVyLmxhdCxsPTE8PG4sYz1bbCphLngsbCphLnksMF0sdT1cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSxoPSF1LGQ9ZS5GcnVzdHVtLmZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHRoaXMuaW52UHJvak1hdHJpeCx0aGlzLndvcmxkU2l6ZSxuLGgpLHA9dT90aGlzLl9jYW1lcmEubWVyY2F0b3JQb3NpdGlvbjp0aGlzLnBvaW50Q29vcmRpbmF0ZSh0aGlzLmdldENhbWVyYVBvaW50KCkpLGY9bCplLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuY2VudGVyLmxhdCksbT10aGlzLl9jYW1lcmEucG9zaXRpb25bMl0vZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLmNlbnRlci5sYXQpLGc9W2wqcC54LGwqcC55LG0qKGg/MTpmKV0seT10aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvdC50aWxlU2l6ZSoodC5yb3VuZFpvb20/MTouNTAyKSxfPXRoaXMucGl0Y2g8PTYwJiZ0aGlzLl9lZGdlSW5zZXRzLnRvcDw9dGhpcy5fZWRnZUluc2V0cy5ib3R0b20mJiF0aGlzLl9lbGV2YXRpb24mJiF0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlP246MCx2PXQuaXNUZXJyYWluREVNJiZ0aGlzLl9lbGV2YXRpb24/MWU0KnRoaXMuX2VsZXZhdGlvbi5leGFnZ2VyYXRpb24oKTp0aGlzLl9jZW50ZXJBbHRpdHVkZSx4PXQuaXNUZXJyYWluREVNPy12OnRoaXMuX2VsZXZhdGlvbj90aGlzLl9lbGV2YXRpb24uZ2V0TWluRWxldmF0aW9uQmVsb3dNU0woKTowLGI9dGhpcy5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT9aaSh0aGlzKToxLHc9dD0+e2NvbnN0IG49MS80ZTQsaT1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodC54K24sdC55LHQueikscj1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodC54LHQueStuLHQueiksbz10LnRvTG5nTGF0KCksYT1pLnRvTG5nTGF0KCkscz1yLnRvTG5nTGF0KCksbD10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShvKSxjPXRoaXMubG9jYXRpb25Db29yZGluYXRlKGEpLHU9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUocyksaD1NYXRoLmh5cG90KGMueC1sLngsYy55LWwueSksZD1NYXRoLmh5cG90KHUueC1sLngsdS55LWwueSk7cmV0dXJuIE1hdGguc3FydChoKmQpKmIvbn0sVD10PT57Y29uc3Qgbj12LGk9eDtyZXR1cm57YWFiYjplLnRpbGVBQUJCKHRoaXMsbCwwLDAsMCx0LGksbix0aGlzLnByb2plY3Rpb24pLHpvb206MCx4OjAseTowLG1pblo6aSxtYXhaOm4sd3JhcDp0LGZ1bGx5VmlzaWJsZTohMX19LEU9W107bGV0IFM9W107Y29uc3QgTT1uLEk9dC5yZXBhcnNlT3ZlcnNjYWxlZD9pOm4sQz1lPT5lKmUsaz1DKChtLXRoaXMuX2NlbnRlckFsdGl0dWRlKSpmKSxBPWU9PntpZighdGhpcy5fZWxldmF0aW9ufHwhZS50aWxlSUR8fCFvKXJldHVybjtjb25zdCB0PXRoaXMuX2VsZXZhdGlvbi5nZXRNaW5NYXhGb3JUaWxlKGUudGlsZUlEKSxuPWUuYWFiYjt0PyhuLm1pblsyXT10Lm1pbixuLm1heFsyXT10Lm1heCxuLmNlbnRlclsyXT0obi5taW5bMl0rbi5tYXhbMl0pLzIpOihlLnNob3VsZFNwbGl0PVAoZSksZS5zaG91bGRTcGxpdHx8KG4ubWluWzJdPW4ubWF4WzJdPW4uY2VudGVyWzJdPXRoaXMuX2NlbnRlckFsdGl0dWRlKSl9LFA9dD0+e2lmKHQuem9vbTxfKXJldHVybiEwO2lmKHQuem9vbT09PU0pcmV0dXJuITE7aWYobnVsbCE9dC5zaG91bGRTcGxpdClyZXR1cm4gdC5zaG91bGRTcGxpdDtjb25zdCBuPXQuYWFiYi5kaXN0YW5jZVgoZyksbz10LmFhYmIuZGlzdGFuY2VZKGcpO2xldCBhPWssbD0xO2lmKHUpe2E9Qyh0LmFhYmIuZGlzdGFuY2VaKGcpKTtjb25zdCBuPU1hdGgucG93KDIsdC56b29tKSxpPWUubGF0RnJvbU1lcmNhdG9yWSgodC55KzEpL24pLHI9ZS5sYXRGcm9tTWVyY2F0b3JZKHQueS9uKSxvPU1hdGgubWluKE1hdGgubWF4KHMsaSksciksYz1lLmNpcmN1bWZlcmVuY2VBdExhdGl0dWRlKG8pL2UuY2lyY3VtZmVyZW5jZUF0TGF0aXR1ZGUocyk7aWYobD1vPT09cz8xL01hdGgubWF4KDEsdGhpcy5fbWVyY2F0b3JTY2FsZVJhdGlvLS4zKTpNYXRoLm1pbigxLGMvdGhpcy5fbWVyY2F0b3JTY2FsZVJhdGlvKSx0aGlzLnpvb208PWUuR0xPQkVfWk9PTV9USFJFU0hPTERfTUlOJiZ0Lnpvb209PT1NLTEmJmM+PS45KXJldHVybiEwfWVsc2UgaWYociYmKGE9Qyh0LmFhYmIuZGlzdGFuY2VaKGcpKmYpKSx0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlJiZpPD01KXtjb25zdCBuPU1hdGgucG93KDIsdC56b29tKSxpPXcobmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKCh0LngrLjUpL24sKHQueSsuNSkvbikpO2w9aT4uODU/MTppfWNvbnN0IGM9bipuK28qbythO3JldHVybiBjPEMoKDE8PE0tdC56b29tKSp5KmwqKChlLHQpPT57aWYodCpDKC43MDcpPGUpcmV0dXJuIDE7Y29uc3Qgbj1NYXRoLnNxcnQodC9lKTtyZXR1cm4gbi8oMS40MTQ0MjcxNTcwMDE0MTQ0KyhNYXRoLnBvdygxLjEsbi0xLjQxNDQyNzE1NzAwMTQxNDQrMSktMSkvKDEuMS0xKS0xKX0pKE1hdGgubWF4KGEsayksYykpfTtpZih0aGlzLnJlbmRlcldvcmxkQ29waWVzKWZvcihsZXQgZT0xO2U8PTM7ZSsrKUUucHVzaChUKC1lKSksRS5wdXNoKFQoZSkpO2ZvcihFLnB1c2goVCgwKSk7RS5sZW5ndGg+MDspe2NvbnN0IGk9RS5wb3AoKSxhPWkueCxzPWkueTtsZXQgaD1pLmZ1bGx5VmlzaWJsZTtpZighaCl7Y29uc3QgZT1pLmFhYmIuaW50ZXJzZWN0cyhkKTtpZigwPT09ZSljb250aW51ZTtoPTI9PT1lfWlmKGkuem9vbSE9PU0mJlAoaSkpZm9yKGxldCB0PTA7dDw0O3QrKyl7Y29uc3Qgbj0oYTw8MSkrdCUyLGM9KHM8PDEpKyh0Pj4xKSxkPXthYWJiOm8/aS5hYWJiLnF1YWRyYW50KHQpOmUudGlsZUFBQkIodGhpcyxsLGkuem9vbSsxLG4sYyxpLndyYXAsaS5taW5aLGkubWF4Wix0aGlzLnByb2plY3Rpb24pLHpvb206aS56b29tKzEseDpuLHk6Yyx3cmFwOmkud3JhcCxmdWxseVZpc2libGU6aCx0aWxlSUQ6dm9pZCAwLHNob3VsZFNwbGl0OnZvaWQgMCxtaW5aOmkubWluWixtYXhaOmkubWF4Wn07ciYmIXUmJihkLnRpbGVJRD1uZXcgZS5PdmVyc2NhbGVkVGlsZUlEKGkuem9vbSsxPT09TT9JOmkuem9vbSsxLGkud3JhcCxpLnpvb20rMSxuLGMpLEEoZCkpLEUucHVzaChkKX1lbHNle2NvbnN0IHI9aS56b29tPT09TT9JOmkuem9vbTtpZih0Lm1pbnpvb20mJnQubWluem9vbT5yKWNvbnRpbnVlO2NvbnN0IG89Y1swXS0oLjUrYSsoaS53cmFwPDxpLnpvb20pKSooMTw8bi1pLnpvb20pLGw9Y1sxXS0uNS1zLHU9aS50aWxlSUQ/aS50aWxlSUQ6bmV3IGUuT3ZlcnNjYWxlZFRpbGVJRChyLGkud3JhcCxpLnpvb20sYSxzKTtTLnB1c2goe3RpbGVJRDp1LGRpc3RhbmNlU3E6bypvK2wqbH0pfX1pZih0aGlzLmZvZ0N1bGxEaXN0U3Epe2NvbnN0IG49dGhpcy5mb2dDdWxsRGlzdFNxLGk9dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtTPVMuZmlsdGVyKHI9Pntjb25zdCBvPVswLDAsMCwxXSxhPVtlLkVYVEVOVCxlLkVYVEVOVCwwLDFdLHM9dGhpcy5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KHIudGlsZUlELnRvVW53cmFwcGVkKCkpO2UudHJhbnNmb3JtTWF0NCQxKG8sbyxzKSxlLnRyYW5zZm9ybU1hdDQkMShhLGEscyk7Y29uc3QgbD1lLmdldEFBQkJQb2ludFNxdWFyZURpc3QobyxhKTtpZigwPT09bClyZXR1cm4hMDtsZXQgYz0hMTtjb25zdCB1PXRoaXMuX2VsZXZhdGlvbjtpZih1JiZsPm4mJjAhPT1pKXtjb25zdCBuPXRoaXMuY2FsY3VsYXRlUHJvak1hdHJpeChyLnRpbGVJRC50b1Vud3JhcHBlZCgpKTtsZXQgbzt0LmlzVGVycmFpbkRFTXx8KG89dS5nZXRNaW5NYXhGb3JUaWxlKHIudGlsZUlEKSksb3x8KG89e21pbjp4LG1heDp2fSk7Y29uc3QgYT1lLmZ1cnRoZXN0VGlsZUNvcm5lcih0aGlzLnJvdGF0aW9uKSxzPVthWzBdKmUuRVhURU5ULGFbMV0qZS5FWFRFTlQsby5tYXhdO2UudHJhbnNmb3JtTWF0NChzLHMsbiksYz0oMS1zWzFdKSp0aGlzLmhlaWdodCouNTxpfXJldHVybiBsPG58fGN9KX1yZXR1cm4gUy5zb3J0KChlLHQpPT5lLmRpc3RhbmNlU3EtdC5kaXN0YW5jZVNxKS5tYXAoZT0+ZS50aWxlSUQpfXJlc2l6ZShlLHQpe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMucGl4ZWxzVG9HTFVuaXRzPVsyL2UsLTIvdF0sdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCl9Z2V0IHVubW9kaWZpZWQoKXtyZXR1cm4gdGhpcy5fdW5tb2RpZmllZH16b29tU2NhbGUoZSl7cmV0dXJuIE1hdGgucG93KDIsZSl9c2NhbGVab29tKGUpe3JldHVybiBNYXRoLmxvZyhlKS9NYXRoLkxOMn1wcm9qZWN0KHQpe2NvbnN0IG49ZS5jbGFtcCh0LmxhdCwtZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUsZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUpLGk9dGhpcy5wcm9qZWN0aW9uLnByb2plY3QodC5sbmcsbik7cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoaS54KnRoaXMud29ybGRTaXplLGkueSp0aGlzLndvcmxkU2l6ZSl9dW5wcm9qZWN0KGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KGUueC90aGlzLndvcmxkU2l6ZSxlLnkvdGhpcy53b3JsZFNpemUpfWdldCBwb2ludCgpe3JldHVybiB0aGlzLnByb2plY3QodGhpcy5jZW50ZXIpfXNldExvY2F0aW9uQXRQb2ludCh0LG4pe2xldCBpLHI7Y29uc3Qgbz10aGlzLmNlbnRlclBvaW50O2lmKFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXtjb25zdCBlPXRoaXMud29ybGRTaXplO2k9KG4ueC1vLngpL2Uscj0obi55LW8ueSkvZX1lbHNle2NvbnN0IGU9dGhpcy5wb2ludENvb3JkaW5hdGUobiksdD10aGlzLnBvaW50Q29vcmRpbmF0ZShvKTtpPWUueC10Lngscj1lLnktdC55fWNvbnN0IGE9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodCk7dGhpcy5zZXRMb2NhdGlvbihuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoYS54LWksYS55LXIpKX1zZXRMb2NhdGlvbihlKXt0aGlzLmNlbnRlcj10aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihlKSx0aGlzLnByb2plY3Rpb24ud3JhcCYmKHRoaXMuY2VudGVyPXRoaXMuY2VudGVyLndyYXAoKSl9bG9jYXRpb25Qb2ludChlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmxvY2F0aW9uUG9pbnQodGhpcyxlKX1sb2NhdGlvblBvaW50M0QoZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5sb2NhdGlvblBvaW50KHRoaXMsZSwhMCl9cG9pbnRMb2NhdGlvbihlKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUoZSkpfXBvaW50TG9jYXRpb24zRChlKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUzRChlKSl9bG9jYXRpb25Db29yZGluYXRlKHQsbil7Y29uc3QgaT1uP2UubWVyY2F0b3JaZnJvbUFsdGl0dWRlKG4sdC5sYXQpOnZvaWQgMCxyPXRoaXMucHJvamVjdGlvbi5wcm9qZWN0KHQubG5nLHQubGF0KTtyZXR1cm4gbmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHIueCxyLnksaSl9Y29vcmRpbmF0ZUxvY2F0aW9uKGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KGUueCxlLnkpfXBvaW50UmF5SW50ZXJzZWN0aW9uKHQsbil7Y29uc3QgaT1udWxsIT1uP246dGhpcy5fY2VudGVyQWx0aXR1ZGUscj1bdC54LHQueSwwLDFdLG89W3QueCx0LnksMSwxXTtlLnRyYW5zZm9ybU1hdDQkMShyLHIsdGhpcy5waXhlbE1hdHJpeEludmVyc2UpLGUudHJhbnNmb3JtTWF0NCQxKG8sbyx0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSk7Y29uc3QgYT1vWzNdO2Uuc2NhbGUkMShyLHIsMS9yWzNdKSxlLnNjYWxlJDEobyxvLDEvYSk7Y29uc3Qgcz1yWzJdLGw9b1syXTtyZXR1cm57cDA6cixwMTpvLHQ6cz09PWw/MDooaS1zKS8obC1zKX19c2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5KHQpe2NvbnN0IG49W3QueCx0LnksMCwxXSxpPVt0LngsdC55LDEsMV07cmV0dXJuIGUudHJhbnNmb3JtTWF0NCQxKG4sbix0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSksZS50cmFuc2Zvcm1NYXQ0JDEoaSxpLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKSxlLnNjYWxlJDEobixuLDEvblszXSksZS5zY2FsZSQxKGksaSwxL2lbM10pLG5bMl09ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoblsyXSx0aGlzLl9jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSxpWzJdPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKGlbMl0sdGhpcy5fY2VudGVyLmxhdCkqdGhpcy53b3JsZFNpemUsZS5zY2FsZSQxKG4sbiwxL3RoaXMud29ybGRTaXplKSxlLnNjYWxlJDEoaSxpLDEvdGhpcy53b3JsZFNpemUpLG5ldyBlLlJheShbblswXSxuWzFdLG5bMl1dLGUubm9ybWFsaXplKFtdLGUuc3ViKFtdLGksbikpKX1yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHQpe2NvbnN0e3AwOm4scDE6aSx0OnJ9PXQsbz1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZShuWzJdLHRoaXMuX2NlbnRlci5sYXQpLGE9ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoaVsyXSx0aGlzLl9jZW50ZXIubGF0KTtyZXR1cm4gbmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKGUubnVtYmVyKG5bMF0saVswXSxyKS90aGlzLndvcmxkU2l6ZSxlLm51bWJlcihuWzFdLGlbMV0scikvdGhpcy53b3JsZFNpemUsZS5udW1iZXIobyxhLHIpKX1wb2ludENvb3JkaW5hdGUoZSx0PXRoaXMuX2NlbnRlckFsdGl0dWRlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnBvaW50Q29vcmRpbmF0ZSh0aGlzLGUueCxlLnksdCl9cG9pbnRDb29yZGluYXRlM0QodCl7aWYoIXRoaXMuZWxldmF0aW9uKXJldHVybiB0aGlzLnBvaW50Q29vcmRpbmF0ZSh0KTtsZXQgbj10aGlzLnByb2plY3Rpb24ucG9pbnRDb29yZGluYXRlM0QodGhpcyx0LngsdC55KTtpZihuKXJldHVybiBuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoblswXSxuWzFdLG5bMl0pO2xldCBpPTAscj10aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpO2lmKHQueT5yKXJldHVybiB0aGlzLnBvaW50Q29vcmRpbmF0ZSh0KTtjb25zdCBvPS4wMipyLGE9dC5jbG9uZSgpO2ZvcihsZXQgdD0wO3Q8MTAmJnItaT5vO3QrKyl7YS55PWUubnVtYmVyKGksciwuNjYpO2NvbnN0IHQ9dGhpcy5wcm9qZWN0aW9uLnBvaW50Q29vcmRpbmF0ZTNEKHRoaXMsYS54LGEueSk7dD8ocj1hLnksbj10KTppPWEueX1yZXR1cm4gbj9uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoblswXSxuWzFdLG5bMl0pOnRoaXMucG9pbnRDb29yZGluYXRlKHQpfWlzUG9pbnRBYm92ZUhvcml6b24oZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5pc1BvaW50QWJvdmVIb3Jpem9uKHRoaXMsZSl9X2Nvb3JkaW5hdGVQb2ludCh0LG4pe2NvbnN0IGk9biYmdGhpcy5lbGV2YXRpb24/dGhpcy5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyh0LHRoaXMuX2NlbnRlckFsdGl0dWRlKTp0aGlzLl9jZW50ZXJBbHRpdHVkZSxyPVt0LngqdGhpcy53b3JsZFNpemUsdC55KnRoaXMud29ybGRTaXplLGkrdC50b0FsdGl0dWRlKCksMV07cmV0dXJuIGUudHJhbnNmb3JtTWF0NCQxKHIscix0aGlzLnBpeGVsTWF0cml4KSxyWzNdPjA/bmV3IGUucG9pbnRHZW9tZXRyeShyWzBdL3JbM10sclsxXS9yWzNdKTpuZXcgZS5wb2ludEdlb21ldHJ5KE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSl9X2dldEdsb2JlQm91bmRzKCl7Y29uc3R7dG9wOnQsbGVmdDpufT10aGlzLl9lZGdlSW5zZXRzLGk9dGhpcy5oZWlnaHQtdGhpcy5fZWRnZUluc2V0cy5ib3R0b20scj10aGlzLndpZHRoLXRoaXMuX2VkZ2VJbnNldHMucmlnaHQsbz10aGlzLnBvaW50Q29vcmRpbmF0ZTNEKG5ldyBlLnBvaW50R2VvbWV0cnkobix0KSksYT10aGlzLnBvaW50Q29vcmRpbmF0ZTNEKG5ldyBlLnBvaW50R2VvbWV0cnkocix0KSkscz10aGlzLnBvaW50Q29vcmRpbmF0ZTNEKG5ldyBlLnBvaW50R2VvbWV0cnkocixpKSksbD10aGlzLnBvaW50Q29vcmRpbmF0ZTNEKG5ldyBlLnBvaW50R2VvbWV0cnkobixpKSk7bGV0IGM9TWF0aC5taW4oby54LGwueCksdT1NYXRoLm1heChhLngscy54KSxoPU1hdGgubWluKG8ueSxhLnkpLGQ9TWF0aC5tYXgobC55LHMueSk7Y29uc3QgcD1NYXRoLnBvdygyLC10aGlzLnpvb20pLzE2LGY9KHQsbixpLHIpPT57Y29uc3Qgbz0odCtpKS8yLGE9KG4rcikvMixzPW5ldyBlLnBvaW50R2VvbWV0cnkobyxhKSxsPXRoaXMucG9pbnRDb29yZGluYXRlM0QocyksbT1NYXRoLm1heCgwLGMtbC54LGgtbC55LGwueC11LGwueS1kKTtjPU1hdGgubWluKGMsbC54KSx1PU1hdGgubWF4KHUsbC54KSxoPU1hdGgubWluKGgsbC55KSxkPU1hdGgubWF4KGQsbC55KSxtPnAmJihmKHQsbixvLGEpLGYobyxhLGkscikpfTtmKG4sdCxyLHQpLGYocix0LHIsaSksZihyLGksbixpKSxmKG4saSxuLHQpO2NvbnN0W20sZ109ZS5wb2xlc0luVmlld3BvcnQodGhpcykseT1tfHxnLF89bT85MDplLmxhdEZyb21NZXJjYXRvclkoaCksdj15PzE4MDplLmxuZ0Zyb21NZXJjYXRvclgodSkseD1nPy05MDplLmxhdEZyb21NZXJjYXRvclkoZCksYj15Py0xODA6ZS5sbmdGcm9tTWVyY2F0b3JYKGMpO3JldHVybiBuZXcgZS5MbmdMYXRCb3VuZHMobmV3IGUuTG5nTGF0KGIseCksbmV3IGUuTG5nTGF0KHYsXykpfV9nZXRCb3VuZHModCxuKXtpZihcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSlyZXR1cm4gdGhpcy5fZ2V0R2xvYmVCb3VuZHMoKTtjb25zdCBpPW5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy5fZWRnZUluc2V0cy5sZWZ0LHRoaXMuX2VkZ2VJbnNldHMudG9wKSxyPW5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy53aWR0aC10aGlzLl9lZGdlSW5zZXRzLnJpZ2h0LHRoaXMuX2VkZ2VJbnNldHMudG9wKSxvPW5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy53aWR0aC10aGlzLl9lZGdlSW5zZXRzLnJpZ2h0LHRoaXMuaGVpZ2h0LXRoaXMuX2VkZ2VJbnNldHMuYm90dG9tKSxhPW5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy5fZWRnZUluc2V0cy5sZWZ0LHRoaXMuaGVpZ2h0LXRoaXMuX2VkZ2VJbnNldHMuYm90dG9tKTtsZXQgcz10aGlzLnBvaW50Q29vcmRpbmF0ZShpLHQpLGw9dGhpcy5wb2ludENvb3JkaW5hdGUocix0KTtjb25zdCBjPXRoaXMucG9pbnRDb29yZGluYXRlKG8sbiksdT10aGlzLnBvaW50Q29vcmRpbmF0ZShhLG4pLGg9KGUsdCk9Pih0LnktZS55KS8odC54LWUueCk7cmV0dXJuIHMueT4xJiZsLnk+PTA/cz1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoKDEtdS55KS9oKHUscykrdS54LDEpOnMueTwwJiZsLnk8PTEmJihzPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSgtdS55L2godSxzKSt1LngsMCkpLGwueT4xJiZzLnk+PTA/bD1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoKDEtYy55KS9oKGMsbCkrYy54LDEpOmwueTwwJiZzLnk8PTEmJihsPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSgtYy55L2goYyxsKStjLngsMCkpLChuZXcgZS5MbmdMYXRCb3VuZHMpLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihzKSkuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGwpKS5leHRlbmQodGhpcy5jb29yZGluYXRlTG9jYXRpb24odSkpLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihjKSl9X2dldEJvdW5kczNEKCl7Y29uc3QgZT10aGlzLmVsZXZhdGlvbjtpZighZS52aXNpYmxlRGVtVGlsZXMubGVuZ3RofHxlLmlzVXNpbmdNb2NrU291cmNlKCkpcmV0dXJuIHRoaXMuX2dldEJvdW5kcygwLDApO2NvbnN0IHQ9ZS52aXNpYmxlRGVtVGlsZXMucmVkdWNlKChlLHQpPT57aWYodC5kZW0pe2NvbnN0IG49dC5kZW0udHJlZTtlLm1pbj1NYXRoLm1pbihlLm1pbixuLm1pbmltdW1zWzBdKSxlLm1heD1NYXRoLm1heChlLm1heCxuLm1heGltdW1zWzBdKX1yZXR1cm4gZX0se21pbjpOdW1iZXIuTUFYX1ZBTFVFLG1heDowfSk7cmV0dXJuIHRoaXMuX2dldEJvdW5kcyh0Lm1pbiplLmV4YWdnZXJhdGlvbigpLHQubWF4KmUuZXhhZ2dlcmF0aW9uKCkpfWdldEJvdW5kcygpe3JldHVybiB0aGlzLl90ZXJyYWluRW5hYmxlZCgpP3RoaXMuX2dldEJvdW5kczNEKCk6dGhpcy5fZ2V0Qm91bmRzKDAsMCl9aG9yaXpvbkxpbmVGcm9tVG9wKGU9ITApe2NvbnN0IHQ9dGhpcy5oZWlnaHQvMi9NYXRoLnRhbih0aGlzLl9mb3YvMikvTWF0aC50YW4oTWF0aC5tYXgodGhpcy5fcGl0Y2gsLjEpKSt0aGlzLmNlbnRlck9mZnNldC55LG49dGhpcy5oZWlnaHQvMi10KigxLXRoaXMuX2hvcml6b25TaGlmdCk7cmV0dXJuIGU/TWF0aC5tYXgoMCxuKTpufWdldE1heEJvdW5kcygpe3JldHVybiB0aGlzLm1heEJvdW5kc31zZXRNYXhCb3VuZHModCl7dGhpcy5tYXhCb3VuZHM9dCx0aGlzLm1pbkxhdD0tZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUsdGhpcy5tYXhMYXQ9ZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUsdGhpcy5taW5Mbmc9LTE4MCx0aGlzLm1heExuZz0xODAsdCYmKHRoaXMubWluTGF0PXQuZ2V0U291dGgoKSx0aGlzLm1heExhdD10LmdldE5vcnRoKCksdGhpcy5taW5Mbmc9dC5nZXRXZXN0KCksdGhpcy5tYXhMbmc9dC5nZXRFYXN0KCksdGhpcy5tYXhMbmc8dGhpcy5taW5MbmcmJih0aGlzLm1heExuZys9MzYwKSksdGhpcy53b3JsZE1pblg9ZS5tZXJjYXRvclhmcm9tTG5nKHRoaXMubWluTG5nKSp0aGlzLnRpbGVTaXplLHRoaXMud29ybGRNYXhYPWUubWVyY2F0b3JYZnJvbUxuZyh0aGlzLm1heExuZykqdGhpcy50aWxlU2l6ZSx0aGlzLndvcmxkTWluWT1lLm1lcmNhdG9yWWZyb21MYXQodGhpcy5tYXhMYXQpKnRoaXMudGlsZVNpemUsdGhpcy53b3JsZE1heFk9ZS5tZXJjYXRvcllmcm9tTGF0KHRoaXMubWluTGF0KSp0aGlzLnRpbGVTaXplLHRoaXMuX2NvbnN0cmFpbigpfWNhbGN1bGF0ZVBvc01hdHJpeChlLHQpe3JldHVybiB0aGlzLnByb2plY3Rpb24uY3JlYXRlVGlsZU1hdHJpeCh0aGlzLHQsZSl9Y2FsY3VsYXRlRGlzdGFuY2VUaWxlRGF0YSh0KXtjb25zdCBuPXQua2V5LGk9dGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlO2lmKGlbbl0pcmV0dXJuIGlbbl07Y29uc3Qgcj10LmNhbm9uaWNhbCxvPTEvdGhpcy5oZWlnaHQsYT10aGlzLmNhbWVyYVdvcmxkU2l6ZSxzPWEvdGhpcy56b29tU2NhbGUoci56KSxsPShyLngrTWF0aC5wb3coMixyLnopKnQud3JhcCkqcyxjPXIueSpzLHU9dGhpcy5wb2ludDt1LngqPWEvdGhpcy53b3JsZFNpemUsdS55Kj1hL3RoaXMud29ybGRTaXplO2NvbnN0IGg9dGhpcy5hbmdsZSxkPU1hdGguc2luKC1oKSxwPS1NYXRoLmNvcygtaCk7cmV0dXJuIGlbbl09e2JlYXJpbmc6W2QscF0sY2VudGVyOlsodS54LWwpKm8sKHUueS1jKSpvXSxzY2FsZTpzL2UuRVhURU5UKm99LGlbbl19Y2FsY3VsYXRlRm9nVGlsZU1hdHJpeCh0KXtjb25zdCBuPXQua2V5LGk9dGhpcy5fZm9nVGlsZU1hdHJpeENhY2hlO2lmKGlbbl0pcmV0dXJuIGlbbl07Y29uc3Qgcj10aGlzLnByb2plY3Rpb24uY3JlYXRlVGlsZU1hdHJpeCh0aGlzLHRoaXMuY2FtZXJhV29ybGRTaXplRm9yRm9nLHQpO3JldHVybiBlLm11bHRpcGx5KHIsdGhpcy53b3JsZFRvRm9nTWF0cml4LHIpLGlbbl09bmV3IEZsb2F0MzJBcnJheShyKSxpW25dfWNhbGN1bGF0ZVByb2pNYXRyaXgodCxuPSExKXtjb25zdCBpPXQua2V5LHI9bj90aGlzLl9hbGlnbmVkUHJvak1hdHJpeENhY2hlOnRoaXMuX3Byb2pNYXRyaXhDYWNoZTtpZihyW2ldKXJldHVybiByW2ldO2NvbnN0IG89dGhpcy5jYWxjdWxhdGVQb3NNYXRyaXgodCx0aGlzLndvcmxkU2l6ZSk7cmV0dXJuIGUubXVsdGlwbHkobyx0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlP3RoaXMubWVyY2F0b3JNYXRyaXg6bj90aGlzLmFsaWduZWRQcm9qTWF0cml4OnRoaXMucHJvak1hdHJpeCxvKSxyW2ldPW5ldyBGbG9hdDMyQXJyYXkobykscltpXX1jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0KXtjb25zdCBuPXQudGlsZUlELmtleSxpPXRoaXMuX3BpeGVsc1RvVGlsZVVuaXRzQ2FjaGU7aWYoaVtuXSlyZXR1cm4gaVtuXTtjb25zdCByPWZ1bmN0aW9uKHQsbil7Y29uc3R7c2NhbGU6aX09dC50aWxlVHJhbnNmb3JtLHI9aSplLkVYVEVOVC8odC50aWxlU2l6ZSpNYXRoLnBvdygyLG4uem9vbS10LnRpbGVJRC5vdmVyc2NhbGVkWit0LnRpbGVJRC5jYW5vbmljYWwueikpO3JldHVybiBvPW5ldyBGbG9hdDMyQXJyYXkoNCksbD0oYT1uLmludmVyc2VBZGp1c3RtZW50TWF0cml4KVsxXSxjPWFbMl0sdT1hWzNdLGQ9KHM9W3Iscl0pWzFdLG9bMF09YVswXSooaD1zWzBdKSxvWzFdPWwqaCxvWzJdPWMqZCxvWzNdPXUqZCxvO3ZhciBvLGEscyxsLGMsdSxoLGR9KHQsdGhpcyk7cmV0dXJuIGlbbl09cixpW25dfWN1c3RvbUxheWVyTWF0cml4KCl7cmV0dXJuIHRoaXMubWVyY2F0b3JNYXRyaXguc2xpY2UoKX1yZWNlbnRlck9uVGVycmFpbigpe2lmKCF0aGlzLl9lbGV2YXRpb258fFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXJldHVybjtjb25zdCB0PXRoaXMuX2VsZXZhdGlvbjt0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2NvbnN0IG49ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLl9jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSxpPXRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbihuKSxyPXRoaXMuX2NhbWVyYS5mb3J3YXJkKCksbz1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuX2NlbnRlci5sYXQpO2lbMl0vPW8sclsyXS89byxlLm5vcm1hbGl6ZShyLHIpO2NvbnN0IGE9dC5yYXljYXN0KGkscix0LmV4YWdnZXJhdGlvbigpKTtpZihhKXtjb25zdCB0PWUuc2NhbGVBbmRBZGQoW10saSxyLGEpLG49bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHRbMF0sdFsxXSxlLm1lcmNhdG9yWmZyb21BbHRpdHVkZSh0WzJdLGUubGF0RnJvbU1lcmNhdG9yWSh0WzFdKSkpLHM9KG4ueitlLmxlbmd0aChbbi54LWlbMF0sbi55LWlbMV0sbi56LWlbMl0qb10pKSp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsO3RoaXMuX3NlYUxldmVsWm9vbT10aGlzLl96b29tRnJvbU1lcmNhdG9yWihzKSx0aGlzLl9jZW50ZXJBbHRpdHVkZT1uLnRvQWx0aXR1ZGUoKSx0aGlzLl9jZW50ZXI9dGhpcy5jb29yZGluYXRlTG9jYXRpb24obiksdGhpcy5fdXBkYXRlWm9vbUZyb21FbGV2YXRpb24oKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKX19X2NvbnN0cmFpbkNhbWVyYSh0PSExKXtpZighdGhpcy5fZWxldmF0aW9uKXJldHVybjtjb25zdCBuPXRoaXMuX2VsZXZhdGlvbixpPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5fY2VudGVyLmxhdCkqdGhpcy53b3JsZFNpemUscj10aGlzLl9jb21wdXRlQ2FtZXJhUG9zaXRpb24oaSksbz1uLmdldEF0UG9pbnRPclplcm8obmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKC4uLnIpKSxhPXRoaXMucGl4ZWxzUGVyTWV0ZXIvdGhpcy53b3JsZFNpemUqbyxzPXRoaXMuX21pbmltdW1IZWlnaHRPdmVyVGVycmFpbigpLGw9clsyXS1hO2lmKGw8PXMpaWYobDwwfHx0KXtjb25zdCB0PXRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuX2NlbnRlcix0aGlzLl9jZW50ZXJBbHRpdHVkZSksbj1bclswXSxyWzFdLHQuei1yWzJdXSxpPWUubGVuZ3RoKG4pO25bMl0tPShzLWwpL3RoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7Y29uc3Qgbz1lLmxlbmd0aChuKTtpZigwPT09bylyZXR1cm47ZS5zY2FsZSQyKG4sbixpL28qdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPVtyWzBdLHJbMV0sdC56KnRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwtblsyXV0sdGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCl9ZWxzZSB0aGlzLl9pc0NhbWVyYUNvbnN0cmFpbmVkPSEwfV9jb25zdHJhaW4oKXtpZighdGhpcy5jZW50ZXJ8fCF0aGlzLndpZHRofHwhdGhpcy5oZWlnaHR8fHRoaXMuX2NvbnN0cmFpbmluZylyZXR1cm47dGhpcy5fY29uc3RyYWluaW5nPSEwO2NvbnN0IHQ9XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWV8fHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbjtpZih0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlfHx0KXtjb25zdCBuPXRoaXMuY2VudGVyO3JldHVybiBuLmxhdD1lLmNsYW1wKG4ubGF0LHRoaXMubWluTGF0LHRoaXMubWF4TGF0KSwodGhpcy5tYXhCb3VuZHN8fCF0aGlzLnJlbmRlcldvcmxkQ29waWVzJiYhdCkmJihuLmxuZz1lLmNsYW1wKG4ubG5nLHRoaXMubWluTG5nLHRoaXMubWF4TG5nKSksdGhpcy5jZW50ZXI9bix2b2lkKHRoaXMuX2NvbnN0cmFpbmluZz0hMSl9Y29uc3Qgbj10aGlzLl91bm1vZGlmaWVkLHt4OmkseTpyfT10aGlzLnBvaW50O2xldCBvPTAsYT1pLHM9cjtjb25zdCBsPXRoaXMud2lkdGgvMixjPXRoaXMuaGVpZ2h0LzIsdT10aGlzLndvcmxkTWluWSp0aGlzLnNjYWxlLGg9dGhpcy53b3JsZE1heFkqdGhpcy5zY2FsZTtpZihyLWM8dSYmKHM9dStjKSxyK2M+aCYmKHM9aC1jKSxoLXU8dGhpcy5oZWlnaHQmJihvPU1hdGgubWF4KG8sdGhpcy5oZWlnaHQvKGgtdSkpLHM9KGgrdSkvMiksdGhpcy5tYXhCb3VuZHN8fCF0aGlzLl9yZW5kZXJXb3JsZENvcGllc3x8IXRoaXMucHJvamVjdGlvbi53cmFwKXtjb25zdCBlPXRoaXMud29ybGRNaW5YKnRoaXMuc2NhbGUsdD10aGlzLndvcmxkTWF4WCp0aGlzLnNjYWxlLG49dGhpcy53b3JsZFNpemUvMi0oZSt0KS8yO2E9KGkrbit0aGlzLndvcmxkU2l6ZSkldGhpcy53b3JsZFNpemUtbixhLWw8ZSYmKGE9ZStsKSxhK2w+dCYmKGE9dC1sKSx0LWU8dGhpcy53aWR0aCYmKG89TWF0aC5tYXgobyx0aGlzLndpZHRoLyh0LWUpKSxhPSh0K2UpLzIpfWE9PT1pJiZzPT09cnx8KHRoaXMuY2VudGVyPXRoaXMudW5wcm9qZWN0KG5ldyBlLnBvaW50R2VvbWV0cnkoYSxzKSkpLG8mJih0aGlzLnpvb20rPXRoaXMuc2NhbGVab29tKG8pKSx0aGlzLl9jb25zdHJhaW5DYW1lcmEoKSx0aGlzLl91bm1vZGlmaWVkPW4sdGhpcy5fY29uc3RyYWluaW5nPSExfV9taW5ab29tRm9yQm91bmRzKCl7bGV0IGU9TWF0aC5tYXgoMCx0aGlzLnNjYWxlWm9vbSh0aGlzLmhlaWdodC8odGhpcy53b3JsZE1heFktdGhpcy53b3JsZE1pblkpKSk7cmV0dXJuIHRoaXMubWF4Qm91bmRzJiYoZT1NYXRoLm1heChlLHRoaXMuc2NhbGVab29tKHRoaXMud2lkdGgvKHRoaXMud29ybGRNYXhYLXRoaXMud29ybGRNaW5YKSkpKSxlfV9tYXhDYW1lcmFCb3VuZHNEaXN0YW5jZSgpe3JldHVybiB0aGlzLl9tZXJjYXRvclpmcm9tWm9vbSh0aGlzLl9taW5ab29tRm9yQm91bmRzKCkpfV9jYWxjTWF0cmljZXMoKXtpZighdGhpcy5oZWlnaHQpcmV0dXJuO2NvbnN0IHQ9dGhpcy5jZW50ZXJPZmZzZXQsbj10aGlzLnBpeGVsc1Blck1ldGVyO1wiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lJiYodGhpcy5fbWVyY2F0b3JTY2FsZVJhdGlvPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5jZW50ZXIubGF0KS9lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLGUuR0xPQkVfU0NBTEVfTUFUQ0hfTEFUSVRVREUpKTtjb25zdCBpPVdpKHRoaXMucHJvamVjdGlvbix0aGlzLnpvb20sdGhpcy53aWR0aCx0aGlzLmhlaWdodCwxMDI0KTt0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsPXRoaXMucHJvamVjdGlvbi5waXhlbFNwYWNlQ29udmVyc2lvbih0aGlzLmNlbnRlci5sYXQsdGhpcy53b3JsZFNpemUsaSksdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlPS41L01hdGgudGFuKC41KnRoaXMuX2ZvdikqdGhpcy5oZWlnaHQqdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCx0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpLHRoaXMuX2Zhclo9dGhpcy5wcm9qZWN0aW9uLmZhcnRoZXN0UGl4ZWxEaXN0YW5jZSh0aGlzKSx0aGlzLl9uZWFyWj10aGlzLmhlaWdodC81MDtjb25zdCByPXRoaXMuX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhKHRoaXMud29ybGRTaXplLFwibWV0ZXJzXCI9PT10aGlzLnByb2plY3Rpb24uekF4aXNVbml0P246MSksbz10aGlzLl9jYW1lcmEuZ2V0Q2FtZXJhVG9DbGlwUGVyc3BlY3RpdmUodGhpcy5fZm92LHRoaXMud2lkdGgvdGhpcy5oZWlnaHQsdGhpcy5fbmVhclosdGhpcy5fZmFyWik7b1s4XT0yKi10LngvdGhpcy53aWR0aCxvWzldPTIqdC55L3RoaXMuaGVpZ2h0O2xldCBhPWUubXVsKFtdLG8scik7aWYodGhpcy5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZSl7Y29uc3QgdD10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLmNlbnRlciksbj1lLmlkZW50aXR5KFtdKTtlLnRyYW5zbGF0ZShuLG4sW3QueCp0aGlzLndvcmxkU2l6ZSx0LnkqdGhpcy53b3JsZFNpemUsMF0pLGUubXVsdGlwbHkobixuLEdpKHRoaXMpKSxlLnRyYW5zbGF0ZShuLG4sWy10LngqdGhpcy53b3JsZFNpemUsLXQueSp0aGlzLndvcmxkU2l6ZSwwXSksZS5tdWx0aXBseShhLGEsbiksdGhpcy5pbnZlcnNlQWRqdXN0bWVudE1hdHJpeD1mdW5jdGlvbihlKXtjb25zdCB0PUdpKGUsITApO3JldHVybiBfKFtdLFt0WzBdLHRbMV0sdFs0XSx0WzVdXSl9KHRoaXMpfWVsc2UgdGhpcy5pbnZlcnNlQWRqdXN0bWVudE1hdHJpeD1bMSwwLDAsMV07dGhpcy5tZXJjYXRvck1hdHJpeD1lLnNjYWxlKFtdLGEsW3RoaXMud29ybGRTaXplLHRoaXMud29ybGRTaXplLHRoaXMud29ybGRTaXplL24sMV0pLHRoaXMucHJvak1hdHJpeD1hLHRoaXMuaW52UHJvak1hdHJpeD1lLmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSx0aGlzLnByb2pNYXRyaXgpO2NvbnN0IHM9ZS5pbnZlcnQoW10sbyk7dGhpcy5mcnVzdHVtQ29ybmVycz1lLkZydXN0dW1Db3JuZXJzLmZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHMsdGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKSx0aGlzLmhlaWdodCk7Y29uc3QgbD1uZXcgRmxvYXQzMkFycmF5KDE2KTtlLmlkZW50aXR5KGwpLGUuc2NhbGUobCxsLFsxLC0xLDFdKSxlLnJvdGF0ZVgobCxsLHRoaXMuX3BpdGNoKSxlLnJvdGF0ZVoobCxsLHRoaXMuYW5nbGUpO2NvbnN0IGM9ZS5wZXJzcGVjdGl2ZShuZXcgRmxvYXQzMkFycmF5KDE2KSx0aGlzLl9mb3YsdGhpcy53aWR0aC90aGlzLmhlaWdodCx0aGlzLl9uZWFyWix0aGlzLl9mYXJaKSx1PShNYXRoLlBJLzItdGhpcy5fcGl0Y2gpKih0aGlzLmhlaWdodC90aGlzLl9mb3YpKnRoaXMuX2hvcml6b25TaGlmdDtjWzhdPTIqLXQueC90aGlzLndpZHRoLGNbOV09MioodC55K3UpL3RoaXMuaGVpZ2h0LHRoaXMuc2t5Ym94TWF0cml4PWUubXVsdGlwbHkobCxjLGwpO2NvbnN0IGg9dGhpcy5wb2ludCxkPWgueCxwPWgueSxmPXRoaXMud2lkdGglMi8yLG09dGhpcy5oZWlnaHQlMi8yLGc9TWF0aC5jb3ModGhpcy5hbmdsZSkseT1NYXRoLnNpbih0aGlzLmFuZ2xlKSx2PWQtTWF0aC5yb3VuZChkKStnKmYreSptLHg9cC1NYXRoLnJvdW5kKHApK2cqbSt5KmYsYj1uZXcgRmxvYXQ2NEFycmF5KGEpO2lmKGUudHJhbnNsYXRlKGIsYixbdj4uNT92LTE6dix4Pi41P3gtMTp4LDBdKSx0aGlzLmFsaWduZWRQcm9qTWF0cml4PWIsYT1lLmNyZWF0ZSgpLGUuc2NhbGUoYSxhLFt0aGlzLndpZHRoLzIsLXRoaXMuaGVpZ2h0LzIsMV0pLGUudHJhbnNsYXRlKGEsYSxbMSwtMSwwXSksdGhpcy5sYWJlbFBsYW5lTWF0cml4PWEsYT1lLmNyZWF0ZSgpLGUuc2NhbGUoYSxhLFsxLC0xLDFdKSxlLnRyYW5zbGF0ZShhLGEsWy0xLC0xLDBdKSxlLnNjYWxlKGEsYSxbMi90aGlzLndpZHRoLDIvdGhpcy5oZWlnaHQsMV0pLHRoaXMuZ2xDb29yZE1hdHJpeD1hLHRoaXMucGl4ZWxNYXRyaXg9ZS5tdWx0aXBseShuZXcgRmxvYXQ2NEFycmF5KDE2KSx0aGlzLmxhYmVsUGxhbmVNYXRyaXgsdGhpcy5wcm9qTWF0cml4KSx0aGlzLl9jYWxjRm9nTWF0cmljZXMoKSx0aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGU9e30sYT1lLmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSx0aGlzLnBpeGVsTWF0cml4KSwhYSl0aHJvdyBuZXcgRXJyb3IoXCJmYWlsZWQgdG8gaW52ZXJ0IG1hdHJpeFwiKTtpZih0aGlzLnBpeGVsTWF0cml4SW52ZXJzZT1hLFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lfHx0aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24pe3RoaXMuZ2xvYmVNYXRyaXg9ZS5jYWxjdWxhdGVHbG9iZU1hdHJpeCh0aGlzKTtjb25zdCB0PVt0aGlzLmdsb2JlTWF0cml4WzEyXSx0aGlzLmdsb2JlTWF0cml4WzEzXSx0aGlzLmdsb2JlTWF0cml4WzE0XV07dGhpcy5nbG9iZUNlbnRlckluVmlld1NwYWNlPWUudHJhbnNmb3JtTWF0NCh0LHQsciksdGhpcy5nbG9iZVJhZGl1cz10aGlzLndvcmxkU2l6ZS8yL01hdGguUEktMX1lbHNlIHRoaXMuZ2xvYmVNYXRyaXg9YTt0aGlzLl9wcm9qTWF0cml4Q2FjaGU9e30sdGhpcy5fYWxpZ25lZFByb2pNYXRyaXhDYWNoZT17fSx0aGlzLl9waXhlbHNUb1RpbGVVbml0c0NhY2hlPXt9fV9jYWxjRm9nTWF0cmljZXMoKXt0aGlzLl9mb2dUaWxlTWF0cml4Q2FjaGU9e307Y29uc3QgdD10aGlzLmNhbWVyYVdvcmxkU2l6ZUZvckZvZyxuPXRoaXMuY2FtZXJhUGl4ZWxzUGVyTWV0ZXIsaT10aGlzLl9jYW1lcmEucG9zaXRpb24scj0xL3RoaXMuaGVpZ2h0L3RoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsbz1bdCx0LG5dO2Uuc2NhbGUkMihvLG8sciksZS5zY2FsZSQyKGksaSwtMSksZS5tdWx0aXBseSQyKGksaSxvKTtjb25zdCBhPWUuY3JlYXRlKCk7ZS50cmFuc2xhdGUoYSxhLGkpLGUuc2NhbGUoYSxhLG8pLHRoaXMubWVyY2F0b3JGb2dNYXRyaXg9YSx0aGlzLndvcmxkVG9Gb2dNYXRyaXg9dGhpcy5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmFQb3NpdGlvbih0LG4scil9X2NvbXB1dGVDYW1lcmFQb3NpdGlvbihlKXtjb25zdCB0PShlPWV8fHRoaXMucGl4ZWxzUGVyTWV0ZXIpL3RoaXMucGl4ZWxzUGVyTWV0ZXIsbj10aGlzLl9jYW1lcmEuZm9yd2FyZCgpLGk9dGhpcy5wb2ludCxyPXRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX3NlYUxldmVsWm9vbT90aGlzLl9zZWFMZXZlbFpvb206dGhpcy5fem9vbSkqdC1lL3RoaXMud29ybGRTaXplKnRoaXMuX2NlbnRlckFsdGl0dWRlO3JldHVybltpLngvdGhpcy53b3JsZFNpemUtblswXSpyLGkueS90aGlzLndvcmxkU2l6ZS1uWzFdKnIsZS90aGlzLndvcmxkU2l6ZSp0aGlzLl9jZW50ZXJBbHRpdHVkZS1uWzJdKnJdfV91cGRhdGVDYW1lcmFTdGF0ZSgpe3RoaXMuaGVpZ2h0JiYodGhpcy5fY2FtZXJhLnNldFBpdGNoQmVhcmluZyh0aGlzLl9waXRjaCx0aGlzLmFuZ2xlKSx0aGlzLl9jYW1lcmEucG9zaXRpb249dGhpcy5fY29tcHV0ZUNhbWVyYVBvc2l0aW9uKCkpfV90cmFuc2xhdGVDYW1lcmFDb25zdHJhaW5lZCh0KXtjb25zdCBuPXRoaXMuX21heENhbWVyYUJvdW5kc0Rpc3RhbmNlKCkqTWF0aC5jb3ModGhpcy5fcGl0Y2gpLGk9dGhpcy5fY2FtZXJhLnBvc2l0aW9uWzJdLHI9dFsyXTtsZXQgbz0xO3RoaXMucHJvamVjdGlvbi53cmFwJiYodGhpcy5jZW50ZXI9dGhpcy5jZW50ZXIud3JhcCgpKSxyPjAmJihvPU1hdGgubWluKChuLWkpL3IsMSkpLHRoaXMuX2NhbWVyYS5wb3NpdGlvbj1lLnNjYWxlQW5kQWRkKFtdLHRoaXMuX2NhbWVyYS5wb3NpdGlvbix0LG8pLHRoaXMuX3VwZGF0ZVN0YXRlRnJvbUNhbWVyYSgpfV91cGRhdGVTdGF0ZUZyb21DYW1lcmEoKXtjb25zdCB0PXRoaXMuX2NhbWVyYS5wb3NpdGlvbixuPXRoaXMuX2NhbWVyYS5mb3J3YXJkKCkse3BpdGNoOmksYmVhcmluZzpyfT10aGlzLl9jYW1lcmEuZ2V0UGl0Y2hCZWFyaW5nKCksbz1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSh0aGlzLl9jZW50ZXJBbHRpdHVkZSx0aGlzLmNlbnRlci5sYXQpKnRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsYT10aGlzLl9tZXJjYXRvclpmcm9tWm9vbSh0aGlzLl9tYXhab29tKSpNYXRoLmNvcyhlLmRlZ1RvUmFkKHRoaXMuX21heFBpdGNoKSkscz1NYXRoLm1heCgodFsyXS1vKS9NYXRoLmNvcyhpKSxhKSxsPXRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKHMpO2Uuc2NhbGVBbmRBZGQodCx0LG4scyksdGhpcy5fcGl0Y2g9ZS5jbGFtcChpLGUuZGVnVG9SYWQodGhpcy5taW5QaXRjaCksZS5kZWdUb1JhZCh0aGlzLm1heFBpdGNoKSksdGhpcy5hbmdsZT1lLndyYXAociwtTWF0aC5QSSxNYXRoLlBJKSx0aGlzLl9zZXRab29tKGUuY2xhbXAobCx0aGlzLl9taW5ab29tLHRoaXMuX21heFpvb20pKSx0aGlzLl91cGRhdGVTZWFMZXZlbFpvb20oKSx0aGlzLl9jZW50ZXI9dGhpcy5jb29yZGluYXRlTG9jYXRpb24obmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHRbMF0sdFsxXSx0WzJdKSksdGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKX1fd29ybGRTaXplRnJvbVpvb20oZSl7cmV0dXJuIE1hdGgucG93KDIsZSkqdGhpcy50aWxlU2l6ZX1fbWVyY2F0b3JaZnJvbVpvb20oZSl7cmV0dXJuIHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS90aGlzLl93b3JsZFNpemVGcm9tWm9vbShlKX1fbWluaW11bUhlaWdodE92ZXJUZXJyYWluKCl7Y29uc3QgZT1NYXRoLm1pbigobnVsbCE9dGhpcy5fc2VhTGV2ZWxab29tP3RoaXMuX3NlYUxldmVsWm9vbTp0aGlzLl96b29tKSs0LHRoaXMuX21heFpvb20pO3JldHVybiB0aGlzLl9tZXJjYXRvclpmcm9tWm9vbShlKX1fem9vbUZyb21NZXJjYXRvclooZSl7cmV0dXJuIHRoaXMuc2NhbGVab29tKHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS8oZSp0aGlzLnRpbGVTaXplKSl9em9vbUZyb21NZXJjYXRvclpBZGp1c3RlZChlKXtjb25zdCB0PXQ9Pntjb25zdCBuPXRoaXMuZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZSh0aGlzLnByb2plY3Rpb24sdCk7cmV0dXJuIHRoaXMuc2NhbGVab29tKG4vKGUqdGhpcy50aWxlU2l6ZSkpfTtsZXQgbixpPXQodGhpcy56b29tKSxyPU1hdGguYWJzKGktdChpKSk7Zm9yKDtuIT09cjspaT10KGkpLG49cixyPU1hdGguYWJzKGktdChpKSk7cmV0dXJuIGl9X3RlcnJhaW5FbmFibGVkKCl7cmV0dXJuISghdGhpcy5fZWxldmF0aW9ufHwhdGhpcy5wcm9qZWN0aW9uLnN1cHBvcnRzVGVycmFpbiYmKGUud2Fybk9uY2UoXCJUZXJyYWluIGlzIG5vdCB5ZXQgc3VwcG9ydGVkIHdpdGggYWx0ZXJuYXRlIHByb2plY3Rpb25zLiBVc2UgbWVyY2F0b3Igb3IgZ2xvYmUgdG8gZW5hYmxlIHRlcnJhaW4uXCIpLDEpKX1hbnlDb3JuZXJPZmZFZGdlKHQsbil7Y29uc3QgaT1NYXRoLm1pbih0Lngsbi54KSxyPU1hdGgubWF4KHQueCxuLngpLG89TWF0aC5taW4odC55LG4ueSksYT1NYXRoLm1heCh0Lnksbi55KTtpZihvPHRoaXMuaG9yaXpvbkxpbmVGcm9tVG9wKCExKSlyZXR1cm4hMDtpZihcIm1lcmNhdG9yXCIhPT10aGlzLnByb2plY3Rpb24ubmFtZSlyZXR1cm4hMTtjb25zdCBzPVtuZXcgZS5wb2ludEdlb21ldHJ5KGksbyksbmV3IGUucG9pbnRHZW9tZXRyeShyLGEpLG5ldyBlLnBvaW50R2VvbWV0cnkoaSxhKSxuZXcgZS5wb2ludEdlb21ldHJ5KHIsbyldLGw9dGhpcy5yZW5kZXJXb3JsZENvcGllcz8tMzowLGM9dGhpcy5yZW5kZXJXb3JsZENvcGllcz80OjE7Zm9yKGNvbnN0IGUgb2Ygcyl7Y29uc3QgdD10aGlzLnBvaW50UmF5SW50ZXJzZWN0aW9uKGUpO2lmKHQudDwwKXJldHVybiEwO2NvbnN0IG49dGhpcy5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHQpO2lmKG4ueDxsfHxuLnk8MHx8bi54PmN8fG4ueT4xKXJldHVybiEwfXJldHVybiExfWlzSG9yaXpvblZpc2libGUoKXtyZXR1cm4gdGhpcy5waXRjaCtlLnJhZFRvRGVnKHRoaXMuZm92QWJvdmVDZW50ZXIpPjg4fHx0aGlzLmFueUNvcm5lck9mZkVkZ2UobmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLG5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpfXpvb21EZWx0YVRvTW92ZW1lbnQodCxuKXtjb25zdCBpPWUubGVuZ3RoKGUuc3ViKFtdLHRoaXMuX2NhbWVyYS5wb3NpdGlvbix0KSkscj10aGlzLl96b29tRnJvbU1lcmNhdG9yWihpKStuO3JldHVybiBpLXRoaXMuX21lcmNhdG9yWmZyb21ab29tKHIpfWdldENhbWVyYVBvaW50KCl7aWYoXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IHQ9ZnVuY3Rpb24oW3QsbixpXSxyKXtjb25zdCBvPVt0LG4saSwxXTtlLnRyYW5zZm9ybU1hdDQkMShvLG8scik7Y29uc3QgYT1vWzNdPU1hdGgubWF4KG9bM10sMWUtNik7cmV0dXJuIG9bMF0vPWEsb1sxXS89YSxvWzJdLz1hLG99KFt0aGlzLmdsb2JlTWF0cml4WzEyXSx0aGlzLmdsb2JlTWF0cml4WzEzXSx0aGlzLmdsb2JlTWF0cml4WzE0XV0sdGhpcy5waXhlbE1hdHJpeCk7cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkodFswXSx0WzFdKX17Y29uc3QgdD1NYXRoLnRhbih0aGlzLl9waXRjaCkqKHRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZXx8MSk7cmV0dXJuIHRoaXMuY2VudGVyUG9pbnQuYWRkKG5ldyBlLnBvaW50R2VvbWV0cnkoMCx0KSl9fWdldENhbWVyYVRvQ2VudGVyRGlzdGFuY2UoZSx0PXRoaXMuem9vbSl7Y29uc3Qgbj1XaShlLHQsdGhpcy53aWR0aCx0aGlzLmhlaWdodCwxMDI0KSxpPWUucGl4ZWxTcGFjZUNvbnZlcnNpb24odGhpcy5jZW50ZXIubGF0LHRoaXMud29ybGRTaXplLG4pO3JldHVybi41L01hdGgudGFuKC41KnRoaXMuX2ZvdikqdGhpcy5oZWlnaHQqaX1nZXRXb3JsZFRvQ2FtZXJhTWF0cml4KCl7Y29uc3QgdD10aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYSh0aGlzLndvcmxkU2l6ZSxcIm1ldGVyc1wiPT09dGhpcy5wcm9qZWN0aW9uLnpBeGlzVW5pdD90aGlzLnBpeGVsc1Blck1ldGVyOjEpO3JldHVyblwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lJiZlLm11bHRpcGx5KHQsdCx0aGlzLmdsb2JlTWF0cml4KSx0fX1mdW5jdGlvbiBZaShlLHQpe2xldCBuPSExLGk9bnVsbDtjb25zdCByPSgpPT57aT1udWxsLG4mJihlKCksaT1zZXRUaW1lb3V0KHIsdCksbj0hMSl9O3JldHVybigpPT4obj0hMCxpfHxyKCksaSl9Y2xhc3MgSml7Y29uc3RydWN0b3IodCl7dGhpcy5faGFzaE5hbWU9dCYmZW5jb2RlVVJJQ29tcG9uZW50KHQpLGUuYmluZEFsbChbXCJfZ2V0Q3VycmVudEhhc2hcIixcIl9vbkhhc2hDaGFuZ2VcIixcIl91cGRhdGVIYXNoXCJdLHRoaXMpLHRoaXMuX3VwZGF0ZUhhc2g9WWkodGhpcy5fdXBkYXRlSGFzaFVudGhyb3R0bGVkLmJpbmQodGhpcyksMzAwKX1hZGRUbyh0KXtyZXR1cm4gdGhpcy5fbWFwPXQsZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIix0aGlzLl9vbkhhc2hDaGFuZ2UsITEpLHQub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlSGFzaCksdGhpc31yZW1vdmUoKXtyZXR1cm4gdGhpcy5fbWFwPyh0aGlzLl9tYXAub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUhhc2gpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsdGhpcy5fb25IYXNoQ2hhbmdlLCExKSxjbGVhclRpbWVvdXQodGhpcy5fdXBkYXRlSGFzaCgpKSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMpOnRoaXN9Z2V0SGFzaFN0cmluZygpe2NvbnN0IHQ9dGhpcy5fbWFwO2lmKCF0KXJldHVyblwiXCI7Y29uc3Qgbj1RaSh0KTtpZih0aGlzLl9oYXNoTmFtZSl7Y29uc3QgdD10aGlzLl9oYXNoTmFtZTtsZXQgaT0hMTtjb25zdCByPWUud2luZG93LmxvY2F0aW9uLmhhc2guc2xpY2UoMSkuc3BsaXQoXCImXCIpLm1hcChlPT57Y29uc3Qgcj1lLnNwbGl0KFwiPVwiKVswXTtyZXR1cm4gcj09PXQ/KGk9ITAsYCR7cn09JHtufWApOmV9KS5maWx0ZXIoZT0+ZSk7cmV0dXJuIGl8fHIucHVzaChgJHt0fT0ke259YCksXCIjXCIrci5qb2luKFwiJlwiKX1yZXR1cm5cIiNcIitufV9nZXRDdXJyZW50SGFzaCgpe2NvbnN0IHQ9ZS53aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKFwiI1wiLFwiXCIpO2lmKHRoaXMuX2hhc2hOYW1lKXtsZXQgZTtyZXR1cm4gdC5zcGxpdChcIiZcIikubWFwKGU9PmUuc3BsaXQoXCI9XCIpKS5mb3JFYWNoKHQ9Pnt0WzBdPT09dGhpcy5faGFzaE5hbWUmJihlPXQpfSksKGUmJmVbMV18fFwiXCIpLnNwbGl0KFwiL1wiKX1yZXR1cm4gdC5zcGxpdChcIi9cIil9X29uSGFzaENoYW5nZSgpe2NvbnN0IGU9dGhpcy5fbWFwO2lmKCFlKXJldHVybiExO2NvbnN0IHQ9dGhpcy5fZ2V0Q3VycmVudEhhc2goKTtpZih0Lmxlbmd0aD49MyYmIXQuc29tZShlPT5pc05hTihlKSkpe2NvbnN0IG49ZS5kcmFnUm90YXRlLmlzRW5hYmxlZCgpJiZlLnRvdWNoWm9vbVJvdGF0ZS5pc0VuYWJsZWQoKT8rKHRbM118fDApOmUuZ2V0QmVhcmluZygpO3JldHVybiBlLmp1bXBUbyh7Y2VudGVyOlsrdFsyXSwrdFsxXV0sem9vbTordFswXSxiZWFyaW5nOm4scGl0Y2g6Kyh0WzRdfHwwKX0pLCEwfXJldHVybiExfV91cGRhdGVIYXNoVW50aHJvdHRsZWQoKXtjb25zdCB0PWUud2luZG93LmxvY2F0aW9uLmhyZWYucmVwbGFjZSgvKCMuKyk/JC8sdGhpcy5nZXRIYXNoU3RyaW5nKCkpO2Uud2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKGUud2luZG93Lmhpc3Rvcnkuc3RhdGUsbnVsbCx0KX19ZnVuY3Rpb24gUWkoZSx0KXtjb25zdCBuPWUuZ2V0Q2VudGVyKCksaT1NYXRoLnJvdW5kKDEwMCplLmdldFpvb20oKSkvMTAwLHI9TWF0aC5jZWlsKChpKk1hdGguTE4yK01hdGgubG9nKDUxMi8zNjAvLjUpKS9NYXRoLkxOMTApLG89TWF0aC5wb3coMTAsciksYT1NYXRoLnJvdW5kKG4ubG5nKm8pL28scz1NYXRoLnJvdW5kKG4ubGF0Km8pL28sbD1lLmdldEJlYXJpbmcoKSxjPWUuZ2V0UGl0Y2goKTtsZXQgdT10P2AvJHthfS8ke3N9LyR7aX1gOmAke2l9LyR7c30vJHthfWA7cmV0dXJuKGx8fGMpJiYodSs9XCIvXCIrTWF0aC5yb3VuZCgxMCpsKS8xMCksYyYmKHUrPVwiL1wiK01hdGgucm91bmQoYykpLHV9Y29uc3QgS2k9e2xpbmVhcml0eTouMyxlYXNpbmc6ZS5iZXppZXIoMCwwLC4zLDEpfSxlcj1lLmV4dGVuZCh7ZGVjZWxlcmF0aW9uOjI1MDAsbWF4U3BlZWQ6MTQwMH0sS2kpLHRyPWUuZXh0ZW5kKHtkZWNlbGVyYXRpb246MjAsbWF4U3BlZWQ6MTQwMH0sS2kpLG5yPWUuZXh0ZW5kKHtkZWNlbGVyYXRpb246MWUzLG1heFNwZWVkOjM2MH0sS2kpLGlyPWUuZXh0ZW5kKHtkZWNlbGVyYXRpb246MWUzLG1heFNwZWVkOjkwfSxLaSk7Y2xhc3MgcnJ7Y29uc3RydWN0b3IoZSl7dGhpcy5fbWFwPWUsdGhpcy5jbGVhcigpfWNsZWFyKCl7dGhpcy5faW5lcnRpYUJ1ZmZlcj1bXX1yZWNvcmQodCl7dGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCksdGhpcy5faW5lcnRpYUJ1ZmZlci5wdXNoKHt0aW1lOmUuZXhwb3J0ZWQubm93KCksc2V0dGluZ3M6dH0pfV9kcmFpbkluZXJ0aWFCdWZmZXIoKXtjb25zdCB0PXRoaXMuX2luZXJ0aWFCdWZmZXIsbj1lLmV4cG9ydGVkLm5vdygpO2Zvcig7dC5sZW5ndGg+MCYmbi10WzBdLnRpbWU+MTYwOyl0LnNoaWZ0KCl9X29uTW92ZUVuZCh0KXtpZih0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSx0aGlzLl9pbmVydGlhQnVmZmVyLmxlbmd0aDwyKXJldHVybjtjb25zdCBuPXt6b29tOjAsYmVhcmluZzowLHBpdGNoOjAscGFuOm5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxwaW5jaEFyb3VuZDp2b2lkIDAsYXJvdW5kOnZvaWQgMH07Zm9yKGNvbnN0e3NldHRpbmdzOmV9b2YgdGhpcy5faW5lcnRpYUJ1ZmZlciluLnpvb20rPWUuem9vbURlbHRhfHwwLG4uYmVhcmluZys9ZS5iZWFyaW5nRGVsdGF8fDAsbi5waXRjaCs9ZS5waXRjaERlbHRhfHwwLGUucGFuRGVsdGEmJm4ucGFuLl9hZGQoZS5wYW5EZWx0YSksZS5hcm91bmQmJihuLmFyb3VuZD1lLmFyb3VuZCksZS5waW5jaEFyb3VuZCYmKG4ucGluY2hBcm91bmQ9ZS5waW5jaEFyb3VuZCk7Y29uc3QgaT10aGlzLl9pbmVydGlhQnVmZmVyW3RoaXMuX2luZXJ0aWFCdWZmZXIubGVuZ3RoLTFdLnRpbWUtdGhpcy5faW5lcnRpYUJ1ZmZlclswXS50aW1lLHI9e307aWYobi5wYW4ubWFnKCkpe2NvbnN0IG89YXIobi5wYW4ubWFnKCksaSxlLmV4dGVuZCh7fSxlcix0fHx7fSkpO3Iub2Zmc2V0PW4ucGFuLm11bHQoby5hbW91bnQvbi5wYW4ubWFnKCkpLHIuY2VudGVyPXRoaXMuX21hcC50cmFuc2Zvcm0uY2VudGVyLG9yKHIsbyl9aWYobi56b29tKXtjb25zdCBlPWFyKG4uem9vbSxpLHRyKTtyLnpvb209dGhpcy5fbWFwLnRyYW5zZm9ybS56b29tK2UuYW1vdW50LG9yKHIsZSl9aWYobi5iZWFyaW5nKXtjb25zdCB0PWFyKG4uYmVhcmluZyxpLG5yKTtyLmJlYXJpbmc9dGhpcy5fbWFwLnRyYW5zZm9ybS5iZWFyaW5nK2UuY2xhbXAodC5hbW91bnQsLTE3OSwxNzkpLG9yKHIsdCl9aWYobi5waXRjaCl7Y29uc3QgZT1hcihuLnBpdGNoLGksaXIpO3IucGl0Y2g9dGhpcy5fbWFwLnRyYW5zZm9ybS5waXRjaCtlLmFtb3VudCxvcihyLGUpfWlmKHIuem9vbXx8ci5iZWFyaW5nKXtjb25zdCBlPXZvaWQgMD09PW4ucGluY2hBcm91bmQ/bi5hcm91bmQ6bi5waW5jaEFyb3VuZDtyLmFyb3VuZD1lP3RoaXMuX21hcC51bnByb2plY3QoZSk6dGhpcy5fbWFwLmdldENlbnRlcigpfXJldHVybiB0aGlzLmNsZWFyKCksci5ub01vdmVTdGFydD0hMCxyfX1mdW5jdGlvbiBvcihlLHQpeyghZS5kdXJhdGlvbnx8ZS5kdXJhdGlvbjx0LmR1cmF0aW9uKSYmKGUuZHVyYXRpb249dC5kdXJhdGlvbixlLmVhc2luZz10LmVhc2luZyl9ZnVuY3Rpb24gYXIodCxuLGkpe2NvbnN0e21heFNwZWVkOnIsbGluZWFyaXR5Om8sZGVjZWxlcmF0aW9uOmF9PWkscz1lLmNsYW1wKHQqby8obi8xZTMpLC1yLHIpLGw9TWF0aC5hYnMocykvKGEqbyk7cmV0dXJue2Vhc2luZzppLmVhc2luZyxkdXJhdGlvbjoxZTMqbCxhbW91bnQ6cyoobC8yKX19Y2xhc3Mgc3IgZXh0ZW5kcyBlLkV2ZW50e3ByZXZlbnREZWZhdWx0KCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMH1nZXQgZGVmYXVsdFByZXZlbnRlZCgpe3JldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkfWNvbnN0cnVjdG9yKHQsbixpLHI9e30pe2NvbnN0IG89ZihuLmdldENhbnZhc0NvbnRhaW5lcigpLGkpLGE9bi51bnByb2plY3Qobyk7c3VwZXIodCxlLmV4dGVuZCh7cG9pbnQ6byxsbmdMYXQ6YSxvcmlnaW5hbEV2ZW50Oml9LHIpKSx0aGlzLl9kZWZhdWx0UHJldmVudGVkPSExLHRoaXMudGFyZ2V0PW59fWNsYXNzIGxyIGV4dGVuZHMgZS5FdmVudHtwcmV2ZW50RGVmYXVsdCgpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITB9Z2V0IGRlZmF1bHRQcmV2ZW50ZWQoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH1jb25zdHJ1Y3Rvcih0LG4saSl7Y29uc3Qgcj1cInRvdWNoZW5kXCI9PT10P2kuY2hhbmdlZFRvdWNoZXM6aS50b3VjaGVzLG89bShuLmdldENhbnZhc0NvbnRhaW5lcigpLHIpLGE9by5tYXAoZT0+bi51bnByb2plY3QoZSkpLHM9by5yZWR1Y2UoKGUsdCxuLGkpPT5lLmFkZCh0LmRpdihpLmxlbmd0aCkpLG5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSk7c3VwZXIodCx7cG9pbnRzOm8scG9pbnQ6cyxsbmdMYXRzOmEsbG5nTGF0Om4udW5wcm9qZWN0KHMpLG9yaWdpbmFsRXZlbnQ6aX0pLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITF9fWNsYXNzIGNyIGV4dGVuZHMgZS5FdmVudHtwcmV2ZW50RGVmYXVsdCgpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITB9Z2V0IGRlZmF1bHRQcmV2ZW50ZWQoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH1jb25zdHJ1Y3RvcihlLHQsbil7c3VwZXIoZSx7b3JpZ2luYWxFdmVudDpufSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMX19Y2xhc3MgdXJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9tYXA9ZSx0aGlzLl9jbGlja1RvbGVyYW5jZT10LmNsaWNrVG9sZXJhbmNlfXJlc2V0KCl7dGhpcy5fbW91c2Vkb3duUG9zPXZvaWQgMH13aGVlbChlKXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBjcihlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZWRvd24oZSx0KXtyZXR1cm4gdGhpcy5fbW91c2Vkb3duUG9zPXQsdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBzcihlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZXVwKGUpe3RoaXMuX21hcC5maXJlKG5ldyBzcihlLnR5cGUsdGhpcy5fbWFwLGUpKX1wcmVjbGljayh0KXtjb25zdCBuPWUuZXh0ZW5kKHt9LHQpO24udHlwZT1cInByZWNsaWNrXCIsdGhpcy5fbWFwLmZpcmUobmV3IHNyKG4udHlwZSx0aGlzLl9tYXAsbikpfWNsaWNrKGUsdCl7dGhpcy5fbW91c2Vkb3duUG9zJiZ0aGlzLl9tb3VzZWRvd25Qb3MuZGlzdCh0KT49dGhpcy5fY2xpY2tUb2xlcmFuY2V8fCh0aGlzLnByZWNsaWNrKGUpLHRoaXMuX21hcC5maXJlKG5ldyBzcihlLnR5cGUsdGhpcy5fbWFwLGUpKSl9ZGJsY2xpY2soZSl7cmV0dXJuIHRoaXMuX2ZpcmVQcmV2ZW50YWJsZShuZXcgc3IoZS50eXBlLHRoaXMuX21hcCxlKSl9bW91c2VvdmVyKGUpe3RoaXMuX21hcC5maXJlKG5ldyBzcihlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZW91dChlKXt0aGlzLl9tYXAuZmlyZShuZXcgc3IoZS50eXBlLHRoaXMuX21hcCxlKSl9dG91Y2hzdGFydChlKXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBscihlLnR5cGUsdGhpcy5fbWFwLGUpKX10b3VjaG1vdmUoZSl7dGhpcy5fbWFwLmZpcmUobmV3IGxyKGUudHlwZSx0aGlzLl9tYXAsZSkpfXRvdWNoZW5kKGUpe3RoaXMuX21hcC5maXJlKG5ldyBscihlLnR5cGUsdGhpcy5fbWFwLGUpKX10b3VjaGNhbmNlbChlKXt0aGlzLl9tYXAuZmlyZShuZXcgbHIoZS50eXBlLHRoaXMuX21hcCxlKSl9X2ZpcmVQcmV2ZW50YWJsZShlKXtpZih0aGlzLl9tYXAuZmlyZShlKSxlLmRlZmF1bHRQcmV2ZW50ZWQpcmV0dXJue319aXNFbmFibGVkKCl7cmV0dXJuITB9aXNBY3RpdmUoKXtyZXR1cm4hMX1lbmFibGUoKXt9ZGlzYWJsZSgpe319Y2xhc3MgaHJ7Y29uc3RydWN0b3IoZSl7dGhpcy5fbWFwPWV9cmVzZXQoKXt0aGlzLl9kZWxheUNvbnRleHRNZW51PSExLHRoaXMuX2NvbnRleHRNZW51RXZlbnQ9dm9pZCAwfW1vdXNlbW92ZShlKXt0aGlzLl9tYXAuZmlyZShuZXcgc3IoZS50eXBlLHRoaXMuX21hcCxlKSl9bW91c2Vkb3duKCl7dGhpcy5fZGVsYXlDb250ZXh0TWVudT0hMH1tb3VzZXVwKCl7dGhpcy5fZGVsYXlDb250ZXh0TWVudT0hMSx0aGlzLl9jb250ZXh0TWVudUV2ZW50JiYodGhpcy5fbWFwLmZpcmUobmV3IHNyKFwiY29udGV4dG1lbnVcIix0aGlzLl9tYXAsdGhpcy5fY29udGV4dE1lbnVFdmVudCkpLGRlbGV0ZSB0aGlzLl9jb250ZXh0TWVudUV2ZW50KX1jb250ZXh0bWVudShlKXt0aGlzLl9kZWxheUNvbnRleHRNZW51P3RoaXMuX2NvbnRleHRNZW51RXZlbnQ9ZTp0aGlzLl9tYXAuZmlyZShuZXcgc3IoZS50eXBlLHRoaXMuX21hcCxlKSksdGhpcy5fbWFwLmxpc3RlbnMoXCJjb250ZXh0bWVudVwiKSYmZS5wcmV2ZW50RGVmYXVsdCgpfWlzRW5hYmxlZCgpe3JldHVybiEwfWlzQWN0aXZlKCl7cmV0dXJuITF9ZW5hYmxlKCl7fWRpc2FibGUoKXt9fWNsYXNzIGRye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fbWFwPWUsdGhpcy5fZWw9ZS5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9jb250YWluZXI9ZS5nZXRDb250YWluZXIoKSx0aGlzLl9jbGlja1RvbGVyYW5jZT10LmNsaWNrVG9sZXJhbmNlfHwxfWlzRW5hYmxlZCgpe3JldHVybiEhdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiEhdGhpcy5fYWN0aXZlfWVuYWJsZSgpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbmFibGVkPSEwKX1kaXNhYmxlKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VuYWJsZWQ9ITEpfW1vdXNlZG93bihlLHQpe3RoaXMuaXNFbmFibGVkKCkmJmUuc2hpZnRLZXkmJjA9PT1lLmJ1dHRvbiYmKHUoKSx0aGlzLl9zdGFydFBvcz10aGlzLl9sYXN0UG9zPXQsdGhpcy5fYWN0aXZlPSEwKX1tb3VzZW1vdmVXaW5kb3coZSx0KXtpZighdGhpcy5fYWN0aXZlKXJldHVybjtjb25zdCBuPXQsaT10aGlzLl9zdGFydFBvcyxyPXRoaXMuX2xhc3RQb3M7aWYoIWl8fCFyfHxyLmVxdWFscyhuKXx8IXRoaXMuX2JveCYmbi5kaXN0KGkpPHRoaXMuX2NsaWNrVG9sZXJhbmNlKXJldHVybjt0aGlzLl9sYXN0UG9zPW4sdGhpcy5fYm94fHwodGhpcy5fYm94PW8oXCJkaXZcIixcIm1hcGJveGdsLWJveHpvb21cIix0aGlzLl9jb250YWluZXIpLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3Jvc3NoYWlyXCIpLHRoaXMuX2ZpcmVFdmVudChcImJveHpvb21zdGFydFwiLGUpKTtjb25zdCBhPU1hdGgubWluKGkueCxuLngpLHM9TWF0aC5tYXgoaS54LG4ueCksbD1NYXRoLm1pbihpLnksbi55KSxjPU1hdGgubWF4KGkueSxuLnkpO3RoaXMuX21hcC5fcmVxdWVzdERvbVRhc2soKCk9Pnt0aGlzLl9ib3gmJih0aGlzLl9ib3guc3R5bGUudHJhbnNmb3JtPWB0cmFuc2xhdGUoJHthfXB4LCR7bH1weClgLHRoaXMuX2JveC5zdHlsZS53aWR0aD1zLWErXCJweFwiLHRoaXMuX2JveC5zdHlsZS5oZWlnaHQ9Yy1sK1wicHhcIil9KX1tb3VzZXVwV2luZG93KHQsbil7aWYoIXRoaXMuX2FjdGl2ZSlyZXR1cm47Y29uc3QgaT10aGlzLl9zdGFydFBvcyxyPW47aWYoaSYmMD09PXQuYnV0dG9uKXtpZih0aGlzLnJlc2V0KCkscCgpLGkueCE9PXIueHx8aS55IT09ci55KXJldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgZS5FdmVudChcImJveHpvb21lbmRcIix7b3JpZ2luYWxFdmVudDp0fSkpLHtjYW1lcmFBbmltYXRpb246ZT0+ZS5maXRTY3JlZW5Db29yZGluYXRlcyhpLHIsdGhpcy5fbWFwLmdldEJlYXJpbmcoKSx7bGluZWFyOiExfSl9O3RoaXMuX2ZpcmVFdmVudChcImJveHpvb21jYW5jZWxcIix0KX19a2V5ZG93bihlKXt0aGlzLl9hY3RpdmUmJjI3PT09ZS5rZXlDb2RlJiYodGhpcy5yZXNldCgpLHRoaXMuX2ZpcmVFdmVudChcImJveHpvb21jYW5jZWxcIixlKSl9Ymx1cigpe3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNyb3NzaGFpclwiKSx0aGlzLl9ib3gmJih0aGlzLl9ib3gucmVtb3ZlKCksdGhpcy5fYm94PW51bGwpLGgoKSxkZWxldGUgdGhpcy5fc3RhcnRQb3MsZGVsZXRlIHRoaXMuX2xhc3RQb3N9X2ZpcmVFdmVudCh0LG4pe3JldHVybiB0aGlzLl9tYXAuZmlyZShuZXcgZS5FdmVudCh0LHtvcmlnaW5hbEV2ZW50Om59KSl9fWZ1bmN0aW9uIHByKGUsdCl7Y29uc3Qgbj17fTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyluW2VbaV0uaWRlbnRpZmllcl09dFtpXTtyZXR1cm4gbn1jbGFzcyBmcntjb25zdHJ1Y3RvcihlKXt0aGlzLnJlc2V0KCksdGhpcy5udW1Ub3VjaGVzPWUubnVtVG91Y2hlc31yZXNldCgpe3RoaXMuY2VudHJvaWQ9dm9pZCAwLHRoaXMuc3RhcnRUaW1lPTAsdGhpcy50b3VjaGVzPXt9LHRoaXMuYWJvcnRlZD0hMX10b3VjaHN0YXJ0KHQsbixpKXsodGhpcy5jZW50cm9pZHx8aS5sZW5ndGg+dGhpcy5udW1Ub3VjaGVzKSYmKHRoaXMuYWJvcnRlZD0hMCksdGhpcy5hYm9ydGVkfHwoMD09PXRoaXMuc3RhcnRUaW1lJiYodGhpcy5zdGFydFRpbWU9dC50aW1lU3RhbXApLGkubGVuZ3RoPT09dGhpcy5udW1Ub3VjaGVzJiYodGhpcy5jZW50cm9pZD1mdW5jdGlvbih0KXtjb25zdCBuPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKTtmb3IoY29uc3QgZSBvZiB0KW4uX2FkZChlKTtyZXR1cm4gbi5kaXYodC5sZW5ndGgpfShuKSx0aGlzLnRvdWNoZXM9cHIoaSxuKSkpfXRvdWNobW92ZShlLHQsbil7aWYodGhpcy5hYm9ydGVkfHwhdGhpcy5jZW50cm9pZClyZXR1cm47Y29uc3QgaT1wcihuLHQpO2Zvcihjb25zdCBlIGluIHRoaXMudG91Y2hlcyl7Y29uc3QgdD10aGlzLnRvdWNoZXNbZV0sbj1pW2VdOyghbnx8bi5kaXN0KHQpPjMwKSYmKHRoaXMuYWJvcnRlZD0hMCl9fXRvdWNoZW5kKGUsdCxuKXtpZigoIXRoaXMuY2VudHJvaWR8fGUudGltZVN0YW1wLXRoaXMuc3RhcnRUaW1lPjUwMCkmJih0aGlzLmFib3J0ZWQ9ITApLDA9PT1uLmxlbmd0aCl7Y29uc3QgZT0hdGhpcy5hYm9ydGVkJiZ0aGlzLmNlbnRyb2lkO2lmKHRoaXMucmVzZXQoKSxlKXJldHVybiBlfX19Y2xhc3MgbXJ7Y29uc3RydWN0b3IoZSl7dGhpcy5zaW5nbGVUYXA9bmV3IGZyKGUpLHRoaXMubnVtVGFwcz1lLm51bVRhcHMsdGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5sYXN0VGltZT0xLzAsdGhpcy5sYXN0VGFwPXZvaWQgMCx0aGlzLmNvdW50PTAsdGhpcy5zaW5nbGVUYXAucmVzZXQoKX10b3VjaHN0YXJ0KGUsdCxuKXt0aGlzLnNpbmdsZVRhcC50b3VjaHN0YXJ0KGUsdCxuKX10b3VjaG1vdmUoZSx0LG4pe3RoaXMuc2luZ2xlVGFwLnRvdWNobW92ZShlLHQsbil9dG91Y2hlbmQoZSx0LG4pe2NvbnN0IGk9dGhpcy5zaW5nbGVUYXAudG91Y2hlbmQoZSx0LG4pO2lmKGkpe2NvbnN0IHQ9ZS50aW1lU3RhbXAtdGhpcy5sYXN0VGltZTw1MDAsbj0hdGhpcy5sYXN0VGFwfHx0aGlzLmxhc3RUYXAuZGlzdChpKTwzMDtpZih0JiZufHx0aGlzLnJlc2V0KCksdGhpcy5jb3VudCsrLHRoaXMubGFzdFRpbWU9ZS50aW1lU3RhbXAsdGhpcy5sYXN0VGFwPWksdGhpcy5jb3VudD09PXRoaXMubnVtVGFwcylyZXR1cm4gdGhpcy5yZXNldCgpLGl9fX1jbGFzcyBncntjb25zdHJ1Y3Rvcigpe3RoaXMuX3pvb21Jbj1uZXcgbXIoe251bVRvdWNoZXM6MSxudW1UYXBzOjJ9KSx0aGlzLl96b29tT3V0PW5ldyBtcih7bnVtVG91Y2hlczoyLG51bVRhcHM6MX0pLHRoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl96b29tSW4ucmVzZXQoKSx0aGlzLl96b29tT3V0LnJlc2V0KCl9dG91Y2hzdGFydChlLHQsbil7dGhpcy5fem9vbUluLnRvdWNoc3RhcnQoZSx0LG4pLHRoaXMuX3pvb21PdXQudG91Y2hzdGFydChlLHQsbil9dG91Y2htb3ZlKGUsdCxuKXt0aGlzLl96b29tSW4udG91Y2htb3ZlKGUsdCxuKSx0aGlzLl96b29tT3V0LnRvdWNobW92ZShlLHQsbil9dG91Y2hlbmQoZSx0LG4pe2NvbnN0IGk9dGhpcy5fem9vbUluLnRvdWNoZW5kKGUsdCxuKSxyPXRoaXMuX3pvb21PdXQudG91Y2hlbmQoZSx0LG4pO3JldHVybiBpPyh0aGlzLl9hY3RpdmU9ITAsZS5wcmV2ZW50RGVmYXVsdCgpLHNldFRpbWVvdXQoKCk9PnRoaXMucmVzZXQoKSwwKSx7Y2FtZXJhQW5pbWF0aW9uOnQ9PnQuZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTp0LmdldFpvb20oKSsxLGFyb3VuZDp0LnVucHJvamVjdChpKX0se29yaWdpbmFsRXZlbnQ6ZX0pfSk6cj8odGhpcy5fYWN0aXZlPSEwLGUucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KCgpPT50aGlzLnJlc2V0KCksMCkse2NhbWVyYUFuaW1hdGlvbjp0PT50LmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206dC5nZXRab29tKCktMSxhcm91bmQ6dC51bnByb2plY3Qocil9LHtvcmlnaW5hbEV2ZW50OmV9KX0pOnZvaWQgMH10b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNvbnN0IHlyPXswOjEsMjoyfTtjbGFzcyBfcntjb25zdHJ1Y3RvcihlKXt0aGlzLnJlc2V0KCksdGhpcy5fY2xpY2tUb2xlcmFuY2U9ZS5jbGlja1RvbGVyYW5jZXx8MX1ibHVyKCl7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX21vdmVkPSExLHRoaXMuX2xhc3RQb2ludD12b2lkIDAsdGhpcy5fZXZlbnRCdXR0b249dm9pZCAwfV9jb3JyZWN0QnV0dG9uKGUsdCl7cmV0dXJuITF9X21vdmUoZSx0KXtyZXR1cm57fX1tb3VzZWRvd24oZSx0KXtpZih0aGlzLl9sYXN0UG9pbnQpcmV0dXJuO2NvbnN0IG49ZyhlKTt0aGlzLl9jb3JyZWN0QnV0dG9uKGUsbikmJih0aGlzLl9sYXN0UG9pbnQ9dCx0aGlzLl9ldmVudEJ1dHRvbj1uKX1tb3VzZW1vdmVXaW5kb3coZSx0KXtjb25zdCBuPXRoaXMuX2xhc3RQb2ludDtpZihuKWlmKGUucHJldmVudERlZmF1bHQoKSxudWxsIT10aGlzLl9ldmVudEJ1dHRvbiYmZnVuY3Rpb24oZSx0KXtjb25zdCBuPXlyW3RdO3JldHVybiB2b2lkIDA9PT1lLmJ1dHRvbnN8fChlLmJ1dHRvbnMmbikhPT1ufShlLHRoaXMuX2V2ZW50QnV0dG9uKSl0aGlzLnJlc2V0KCk7ZWxzZSBpZih0aGlzLl9tb3ZlZHx8ISh0LmRpc3Qobik8dGhpcy5fY2xpY2tUb2xlcmFuY2UpKXJldHVybiB0aGlzLl9tb3ZlZD0hMCx0aGlzLl9sYXN0UG9pbnQ9dCx0aGlzLl9tb3ZlKG4sdCl9bW91c2V1cFdpbmRvdyhlKXt0aGlzLl9sYXN0UG9pbnQmJmcoZSk9PT10aGlzLl9ldmVudEJ1dHRvbiYmKHRoaXMuX21vdmVkJiZwKCksdGhpcy5yZXNldCgpKX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNsYXNzIHZyIGV4dGVuZHMgX3J7bW91c2Vkb3duKGUsdCl7c3VwZXIubW91c2Vkb3duKGUsdCksdGhpcy5fbGFzdFBvaW50JiYodGhpcy5fYWN0aXZlPSEwKX1fY29ycmVjdEJ1dHRvbihlLHQpe3JldHVybiAwPT09dCYmIWUuY3RybEtleX1fbW92ZShlLHQpe3JldHVybnthcm91bmQ6dCxwYW5EZWx0YTp0LnN1YihlKX19fWNsYXNzIHhyIGV4dGVuZHMgX3J7X2NvcnJlY3RCdXR0b24oZSx0KXtyZXR1cm4gMD09PXQmJmUuY3RybEtleXx8Mj09PXR9X21vdmUoZSx0KXtjb25zdCBuPS44Kih0LngtZS54KTtpZihuKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse2JlYXJpbmdEZWx0YTpufX1jb250ZXh0bWVudShlKXtlLnByZXZlbnREZWZhdWx0KCl9fWNsYXNzIGJyIGV4dGVuZHMgX3J7X2NvcnJlY3RCdXR0b24oZSx0KXtyZXR1cm4gMD09PXQmJmUuY3RybEtleXx8Mj09PXR9X21vdmUoZSx0KXtjb25zdCBuPS0uNSoodC55LWUueSk7aWYobilyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHtwaXRjaERlbHRhOm59fWNvbnRleHRtZW51KGUpe2UucHJldmVudERlZmF1bHQoKX19Y2xhc3Mgd3J7Y29uc3RydWN0b3IodCxuKXt0aGlzLl9tYXA9dCx0aGlzLl9lbD10LmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX21pblRvdWNoZXM9MSx0aGlzLl9jbGlja1RvbGVyYW5jZT1uLmNsaWNrVG9sZXJhbmNlfHwxLHRoaXMucmVzZXQoKSxlLmJpbmRBbGwoW1wiX2FkZFRvdWNoUGFuQmxvY2tlclwiLFwiX3Nob3dUb3VjaFBhbkJsb2NrZXJBbGVydFwiXSx0aGlzKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl90b3VjaGVzPXt9LHRoaXMuX3N1bT1uZXcgZS5wb2ludEdlb21ldHJ5KDAsMCl9dG91Y2hzdGFydChlLHQsbil7cmV0dXJuIHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybShlLHQsbil9dG91Y2htb3ZlKHQsbixpKXtpZih0aGlzLl9hY3RpdmUmJiEoaS5sZW5ndGg8dGhpcy5fbWluVG91Y2hlcykpe2lmKHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmIXRoaXMuX21hcC5pc01vdmluZygpKXtpZigxPT09aS5sZW5ndGgmJiFlLmlzRnVsbHNjcmVlbigpKXJldHVybiB2b2lkIHRoaXMuX3Nob3dUb3VjaFBhbkJsb2NrZXJBbGVydCgpO1wiaGlkZGVuXCIhPT10aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5JiYodGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSl9cmV0dXJuIHQuY2FuY2VsYWJsZSYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybSh0LG4saSl9fXRvdWNoZW5kKGUsdCxuKXt0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0oZSx0LG4pLHRoaXMuX2FjdGl2ZSYmbi5sZW5ndGg8dGhpcy5fbWluVG91Y2hlcyYmdGhpcy5yZXNldCgpfXRvdWNoY2FuY2VsKCl7dGhpcy5yZXNldCgpfV9jYWxjdWxhdGVUcmFuc2Zvcm0odCxuLGkpe2kubGVuZ3RoPjAmJih0aGlzLl9hY3RpdmU9ITApO2NvbnN0IHI9cHIoaSxuKSxvPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxhPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKTtsZXQgcz0wO2Zvcihjb25zdCBlIGluIHIpe2NvbnN0IHQ9cltlXSxuPXRoaXMuX3RvdWNoZXNbZV07biYmKG8uX2FkZCh0KSxhLl9hZGQodC5zdWIobikpLHMrKyxyW2VdPXQpfWlmKHRoaXMuX3RvdWNoZXM9cixzPHRoaXMuX21pblRvdWNoZXN8fCFhLm1hZygpKXJldHVybjtjb25zdCBsPWEuZGl2KHMpO3JldHVybiB0aGlzLl9zdW0uX2FkZChsKSx0aGlzLl9zdW0ubWFnKCk8dGhpcy5fY2xpY2tUb2xlcmFuY2U/dm9pZCAwOnthcm91bmQ6by5kaXYocykscGFuRGVsdGE6bH19ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJih0aGlzLl9hZGRUb3VjaFBhbkJsb2NrZXIoKSx0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItb3ZlcnJpZGVcIixcIm1hcGJveGdsLXNjcm9sbGFibGUtcGFnZVwiKSl9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1vdmVycmlkZVwiLFwibWFwYm94Z2wtc2Nyb2xsYWJsZS1wYWdlXCIpKSx0aGlzLnJlc2V0KCl9aXNFbmFibGVkKCl7cmV0dXJuISF0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuISF0aGlzLl9hY3RpdmV9X2FkZFRvdWNoUGFuQmxvY2tlcigpe3RoaXMuX21hcCYmIXRoaXMuX2FsZXJ0Q29udGFpbmVyJiYodGhpcy5fYWxlcnRDb250YWluZXI9byhcImRpdlwiLFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXJcIix0aGlzLl9tYXAuX2NvbnRhaW5lciksdGhpcy5fYWxlcnRDb250YWluZXIudGV4dENvbnRlbnQ9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIlRvdWNoUGFuQmxvY2tlci5NZXNzYWdlXCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLmZvbnRTaXplPU1hdGgubWF4KDEwLE1hdGgubWluKDI0LE1hdGguZmxvb3IoLjA1KnRoaXMuX2VsLmNsaWVudFdpZHRoKSkpK1wicHhcIil9X3Nob3dUb3VjaFBhbkJsb2NrZXJBbGVydCgpe3RoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIsdGhpcy5fYWxlcnRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyLXNob3dcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYWxlcnRcIiksY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpLHRoaXMuX2FsZXJ0VGltZXI9c2V0VGltZW91dCgoKT0+e3RoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm51bGxcIil9LDUwMCl9fWNsYXNzIFRye2NvbnN0cnVjdG9yKCl7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX2ZpcnN0VHdvVG91Y2hlcz12b2lkIDB9X3N0YXJ0KGUpe31fbW92ZShlLHQsbil7cmV0dXJue319dG91Y2hzdGFydChlLHQsbil7dGhpcy5fZmlyc3RUd29Ub3VjaGVzfHxuLmxlbmd0aDwyfHwodGhpcy5fZmlyc3RUd29Ub3VjaGVzPVtuWzBdLmlkZW50aWZpZXIsblsxXS5pZGVudGlmaWVyXSx0aGlzLl9zdGFydChbdFswXSx0WzFdXSkpfXRvdWNobW92ZShlLHQsbil7Y29uc3QgaT10aGlzLl9maXJzdFR3b1RvdWNoZXM7aWYoIWkpcmV0dXJuO2UucHJldmVudERlZmF1bHQoKTtjb25zdFtyLG9dPWksYT1FcihuLHQscikscz1FcihuLHQsbyk7aWYoIWF8fCFzKXJldHVybjtjb25zdCBsPXRoaXMuX2Fyb3VuZENlbnRlcj9udWxsOmEuYWRkKHMpLmRpdigyKTtyZXR1cm4gdGhpcy5fbW92ZShbYSxzXSxsLGUpfXRvdWNoZW5kKGUsdCxuKXtpZighdGhpcy5fZmlyc3RUd29Ub3VjaGVzKXJldHVybjtjb25zdFtpLHJdPXRoaXMuX2ZpcnN0VHdvVG91Y2hlcyxvPUVyKG4sdCxpKSxhPUVyKG4sdCxyKTtvJiZhfHwodGhpcy5fYWN0aXZlJiZwKCksdGhpcy5yZXNldCgpKX10b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKX1lbmFibGUoZSl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9hcm91bmRDZW50ZXI9ISFlJiZcImNlbnRlclwiPT09ZS5hcm91bmR9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19ZnVuY3Rpb24gRXIoZSx0LG4pe2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKGVbaV0uaWRlbnRpZmllcj09PW4pcmV0dXJuIHRbaV19ZnVuY3Rpb24gU3IoZSx0KXtyZXR1cm4gTWF0aC5sb2coZS90KS9NYXRoLkxOMn1jbGFzcyBNciBleHRlbmRzIFRye3Jlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl9kaXN0YW5jZT0wLHRoaXMuX3N0YXJ0RGlzdGFuY2U9MH1fc3RhcnQoZSl7dGhpcy5fc3RhcnREaXN0YW5jZT10aGlzLl9kaXN0YW5jZT1lWzBdLmRpc3QoZVsxXSl9X21vdmUoZSx0KXtjb25zdCBuPXRoaXMuX2Rpc3RhbmNlO2lmKHRoaXMuX2Rpc3RhbmNlPWVbMF0uZGlzdChlWzFdKSx0aGlzLl9hY3RpdmV8fCEoTWF0aC5hYnMoU3IodGhpcy5fZGlzdGFuY2UsdGhpcy5fc3RhcnREaXN0YW5jZSkpPC4xKSlyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHt6b29tRGVsdGE6U3IodGhpcy5fZGlzdGFuY2UsbikscGluY2hBcm91bmQ6dH19fWZ1bmN0aW9uIElyKGUsdCl7cmV0dXJuIDE4MCplLmFuZ2xlV2l0aCh0KS9NYXRoLlBJfWNsYXNzIENyIGV4dGVuZHMgVHJ7cmVzZXQoKXtzdXBlci5yZXNldCgpLHRoaXMuX21pbkRpYW1ldGVyPTAsdGhpcy5fc3RhcnRWZWN0b3I9dm9pZCAwLHRoaXMuX3ZlY3Rvcj12b2lkIDB9X3N0YXJ0KGUpe3RoaXMuX3N0YXJ0VmVjdG9yPXRoaXMuX3ZlY3Rvcj1lWzBdLnN1YihlWzFdKSx0aGlzLl9taW5EaWFtZXRlcj1lWzBdLmRpc3QoZVsxXSl9X21vdmUoZSx0KXtjb25zdCBuPXRoaXMuX3ZlY3RvcjtpZih0aGlzLl92ZWN0b3I9ZVswXS5zdWIoZVsxXSksbiYmKHRoaXMuX2FjdGl2ZXx8IXRoaXMuX2lzQmVsb3dUaHJlc2hvbGQodGhpcy5fdmVjdG9yKSkpcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7YmVhcmluZ0RlbHRhOklyKHRoaXMuX3ZlY3RvcixuKSxwaW5jaEFyb3VuZDp0fX1faXNCZWxvd1RocmVzaG9sZChlKXt0aGlzLl9taW5EaWFtZXRlcj1NYXRoLm1pbih0aGlzLl9taW5EaWFtZXRlcixlLm1hZygpKTtjb25zdCB0PTI1LyhNYXRoLlBJKnRoaXMuX21pbkRpYW1ldGVyKSozNjAsbj10aGlzLl9zdGFydFZlY3RvcjtpZighbilyZXR1cm4hMTtjb25zdCBpPUlyKGUsbik7cmV0dXJuIE1hdGguYWJzKGkpPHR9fWZ1bmN0aW9uIGtyKGUpe3JldHVybiBNYXRoLmFicyhlLnkpPk1hdGguYWJzKGUueCl9Y2xhc3MgQXIgZXh0ZW5kcyBUcntjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX21hcD1lfXJlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl92YWxpZD12b2lkIDAsdGhpcy5fZmlyc3RNb3ZlPXZvaWQgMCx0aGlzLl9sYXN0UG9pbnRzPXZvaWQgMH1fc3RhcnQoZSl7dGhpcy5fbGFzdFBvaW50cz1lLGtyKGVbMF0uc3ViKGVbMV0pKSYmKHRoaXMuX3ZhbGlkPSExKX1fbW92ZSh0LG4saSl7Y29uc3Qgcj10aGlzLl9sYXN0UG9pbnRzO2lmKCFyKXJldHVybjtjb25zdCBvPXRbMF0uc3ViKHJbMF0pLGE9dFsxXS5zdWIoclsxXSk7cmV0dXJuIHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmIWUuaXNGdWxsc2NyZWVuKCkmJmkudG91Y2hlcy5sZW5ndGg8M3x8KHRoaXMuX3ZhbGlkPXRoaXMuZ2VzdHVyZUJlZ2luc1ZlcnRpY2FsbHkobyxhLGkudGltZVN0YW1wKSwhdGhpcy5fdmFsaWQpP3ZvaWQgMDoodGhpcy5fbGFzdFBvaW50cz10LHRoaXMuX2FjdGl2ZT0hMCx7cGl0Y2hEZWx0YTooby55K2EueSkvMiotLjV9KX1nZXN0dXJlQmVnaW5zVmVydGljYWxseShlLHQsbil7aWYodm9pZCAwIT09dGhpcy5fdmFsaWQpcmV0dXJuIHRoaXMuX3ZhbGlkO2NvbnN0IGk9ZS5tYWcoKT49MixyPXQubWFnKCk+PTI7aWYoIWkmJiFyKXJldHVybjtpZighaXx8IXIpcmV0dXJuIG51bGw9PXRoaXMuX2ZpcnN0TW92ZSYmKHRoaXMuX2ZpcnN0TW92ZT1uKSxuLXRoaXMuX2ZpcnN0TW92ZTwxMDAmJnZvaWQgMDtjb25zdCBvPWUueT4wPT10Lnk+MDtyZXR1cm4ga3IoZSkmJmtyKHQpJiZvfX1jb25zdCBQcj17cGFuU3RlcDoxMDAsYmVhcmluZ1N0ZXA6MTUscGl0Y2hTdGVwOjEwfTtjbGFzcyB6cntjb25zdHJ1Y3Rvcigpe2NvbnN0IGU9UHI7dGhpcy5fcGFuU3RlcD1lLnBhblN0ZXAsdGhpcy5fYmVhcmluZ1N0ZXA9ZS5iZWFyaW5nU3RlcCx0aGlzLl9waXRjaFN0ZXA9ZS5waXRjaFN0ZXAsdGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMX1ibHVyKCl7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExfWtleWRvd24oZSl7aWYoZS5hbHRLZXl8fGUuY3RybEtleXx8ZS5tZXRhS2V5KXJldHVybjtsZXQgdD0wLG49MCxpPTAscj0wLG89MDtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIDYxOmNhc2UgMTA3OmNhc2UgMTcxOmNhc2UgMTg3OnQ9MTticmVhaztjYXNlIDE4OTpjYXNlIDEwOTpjYXNlIDE3Mzp0PS0xO2JyZWFrO2Nhc2UgMzc6ZS5zaGlmdEtleT9uPS0xOihlLnByZXZlbnREZWZhdWx0KCkscj0tMSk7YnJlYWs7Y2FzZSAzOTplLnNoaWZ0S2V5P249MTooZS5wcmV2ZW50RGVmYXVsdCgpLHI9MSk7YnJlYWs7Y2FzZSAzODplLnNoaWZ0S2V5P2k9MTooZS5wcmV2ZW50RGVmYXVsdCgpLG89LTEpO2JyZWFrO2Nhc2UgNDA6ZS5zaGlmdEtleT9pPS0xOihlLnByZXZlbnREZWZhdWx0KCksbz0xKTticmVhaztkZWZhdWx0OnJldHVybn1yZXR1cm4gdGhpcy5fcm90YXRpb25EaXNhYmxlZCYmKG49MCxpPTApLHtjYW1lcmFBbmltYXRpb246YT0+e2NvbnN0IHM9YS5nZXRab29tKCk7YS5lYXNlVG8oe2R1cmF0aW9uOjMwMCxlYXNlSWQ6XCJrZXlib2FyZEhhbmRsZXJcIixlYXNpbmc6RHIsem9vbTp0P01hdGgucm91bmQocykrdCooZS5zaGlmdEtleT8yOjEpOnMsYmVhcmluZzphLmdldEJlYXJpbmcoKStuKnRoaXMuX2JlYXJpbmdTdGVwLHBpdGNoOmEuZ2V0UGl0Y2goKStpKnRoaXMuX3BpdGNoU3RlcCxvZmZzZXQ6Wy1yKnRoaXMuX3BhblN0ZXAsLW8qdGhpcy5fcGFuU3RlcF0sY2VudGVyOmEuZ2V0Q2VudGVyKCl9LHtvcmlnaW5hbEV2ZW50OmV9KX19fWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITB9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX1kaXNhYmxlUm90YXRpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSEwfWVuYWJsZVJvdGF0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMX19ZnVuY3Rpb24gRHIoZSl7cmV0dXJuIGUqKDItZSl9Y29uc3QgTHI9NC4wMDAyNDQxNDA2MjU7Y2xhc3MgT3J7Y29uc3RydWN0b3IodCxuKXt0aGlzLl9tYXA9dCx0aGlzLl9lbD10LmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX2hhbmRsZXI9bix0aGlzLl9kZWx0YT0wLHRoaXMuX2RlZmF1bHRab29tUmF0ZT0uMDEsdGhpcy5fd2hlZWxab29tUmF0ZT0uMDAyMjIyMjIyMjIyMjIyMjIyMixlLmJpbmRBbGwoW1wiX29uVGltZW91dFwiLFwiX2FkZFNjcm9sbFpvb21CbG9ja2VyXCIsXCJfc2hvd0Jsb2NrZXJBbGVydFwiXSx0aGlzKX1zZXRab29tUmF0ZShlKXt0aGlzLl9kZWZhdWx0Wm9vbVJhdGU9ZX1zZXRXaGVlbFpvb21SYXRlKGUpe3RoaXMuX3doZWVsWm9vbVJhdGU9ZX1pc0VuYWJsZWQoKXtyZXR1cm4hIXRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfHx2b2lkIDAhPT10aGlzLl9maW5pc2hUaW1lb3V0fWlzWm9vbWluZygpe3JldHVybiEhdGhpcy5fem9vbWluZ31lbmFibGUoZSl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITAsdGhpcy5fYXJvdW5kQ2VudGVyPSEhZSYmXCJjZW50ZXJcIj09PWUuYXJvdW5kLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmdGhpcy5fYWRkU2Nyb2xsWm9vbUJsb2NrZXIoKSl9ZGlzYWJsZSgpe3RoaXMuaXNFbmFibGVkKCkmJih0aGlzLl9lbmFibGVkPSExLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmKGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSx0aGlzLl9hbGVydENvbnRhaW5lci5yZW1vdmUoKSkpfXdoZWVsKHQpe2lmKCF0aGlzLmlzRW5hYmxlZCgpKXJldHVybjtpZih0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMpe2lmKCEodC5jdHJsS2V5fHx0Lm1ldGFLZXl8fHRoaXMuaXNab29taW5nKCl8fGUuaXNGdWxsc2NyZWVuKCkpKXJldHVybiB2b2lkIHRoaXMuX3Nob3dCbG9ja2VyQWxlcnQoKTtcImhpZGRlblwiIT09dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSYmKHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcikpfWxldCBuPXQuZGVsdGFNb2RlPT09ZS53aW5kb3cuV2hlZWxFdmVudC5ET01fREVMVEFfTElORT80MCp0LmRlbHRhWTp0LmRlbHRhWTtjb25zdCBpPWUuZXhwb3J0ZWQubm93KCkscj1pLSh0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWV8fDApO3RoaXMuX2xhc3RXaGVlbEV2ZW50VGltZT1pLDAhPT1uJiZuJUxyPT0wP3RoaXMuX3R5cGU9XCJ3aGVlbFwiOjAhPT1uJiZNYXRoLmFicyhuKTw0P3RoaXMuX3R5cGU9XCJ0cmFja3BhZFwiOnI+NDAwPyh0aGlzLl90eXBlPW51bGwsdGhpcy5fbGFzdFZhbHVlPW4sdGhpcy5fdGltZW91dD1zZXRUaW1lb3V0KHRoaXMuX29uVGltZW91dCw0MCx0KSk6dGhpcy5fdHlwZXx8KHRoaXMuX3R5cGU9TWF0aC5hYnMocipuKTwyMDA/XCJ0cmFja3BhZFwiOlwid2hlZWxcIix0aGlzLl90aW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpLHRoaXMuX3RpbWVvdXQ9bnVsbCxuKz10aGlzLl9sYXN0VmFsdWUpKSx0LnNoaWZ0S2V5JiZuJiYobi89NCksdGhpcy5fdHlwZSYmKHRoaXMuX2xhc3RXaGVlbEV2ZW50PXQsdGhpcy5fZGVsdGEtPW4sdGhpcy5fYWN0aXZlfHx0aGlzLl9zdGFydCh0KSksdC5wcmV2ZW50RGVmYXVsdCgpfV9vblRpbWVvdXQoZSl7dGhpcy5fdHlwZT1cIndoZWVsXCIsdGhpcy5fZGVsdGEtPXRoaXMuX2xhc3RWYWx1ZSx0aGlzLl9hY3RpdmV8fHRoaXMuX3N0YXJ0KGUpfV9zdGFydChlKXtpZighdGhpcy5fZGVsdGEpcmV0dXJuO3RoaXMuX2ZyYW1lSWQmJih0aGlzLl9mcmFtZUlkPW51bGwpLHRoaXMuX2FjdGl2ZT0hMCx0aGlzLmlzWm9vbWluZygpfHwodGhpcy5fem9vbWluZz0hMCksdGhpcy5fZmluaXNoVGltZW91dCYmKGNsZWFyVGltZW91dCh0aGlzLl9maW5pc2hUaW1lb3V0KSxkZWxldGUgdGhpcy5fZmluaXNoVGltZW91dCk7Y29uc3QgdD1mKHRoaXMuX2VsLGUpO3RoaXMuX2Fyb3VuZFBvaW50PXRoaXMuX2Fyb3VuZENlbnRlcj90aGlzLl9tYXAudHJhbnNmb3JtLmNlbnRlclBvaW50OnQsdGhpcy5fYXJvdW5kQ29vcmQ9dGhpcy5fbWFwLnRyYW5zZm9ybS5wb2ludENvb3JkaW5hdGUzRCh0aGlzLl9hcm91bmRQb2ludCksdGhpcy5fdGFyZ2V0Wm9vbT12b2lkIDAsdGhpcy5fZnJhbWVJZHx8KHRoaXMuX2ZyYW1lSWQ9ITAsdGhpcy5faGFuZGxlci5fdHJpZ2dlclJlbmRlckZyYW1lKCkpfXJlbmRlckZyYW1lKCl7aWYoIXRoaXMuX2ZyYW1lSWQpcmV0dXJuO2lmKHRoaXMuX2ZyYW1lSWQ9bnVsbCwhdGhpcy5pc0FjdGl2ZSgpKXJldHVybjtjb25zdCB0PXRoaXMuX21hcC50cmFuc2Zvcm07XCJ3aGVlbFwiPT09dGhpcy5fdHlwZSYmdC5wcm9qZWN0aW9uLndyYXAmJih0Ll9jZW50ZXIubG5nPj0xODB8fHQuX2NlbnRlci5sbmc8PS0xODApJiYodGhpcy5fcHJldkVhc2U9bnVsbCx0aGlzLl9lYXNpbmc9bnVsbCx0aGlzLl9sYXN0V2hlZWxFdmVudD1udWxsLHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZT0wKTtjb25zdCBuPSgpPT50Ll90ZXJyYWluRW5hYmxlZCgpJiZ0aGlzLl9hcm91bmRDb29yZD90LmNvbXB1dGVab29tUmVsYXRpdmVUbyh0aGlzLl9hcm91bmRDb29yZCk6dC56b29tO2lmKDAhPT10aGlzLl9kZWx0YSl7Y29uc3QgZT1cIndoZWVsXCI9PT10aGlzLl90eXBlJiZNYXRoLmFicyh0aGlzLl9kZWx0YSk+THI/dGhpcy5fd2hlZWxab29tUmF0ZTp0aGlzLl9kZWZhdWx0Wm9vbVJhdGU7bGV0IGk9Mi8oMStNYXRoLmV4cCgtTWF0aC5hYnModGhpcy5fZGVsdGEqZSkpKTt0aGlzLl9kZWx0YTwwJiYwIT09aSYmKGk9MS9pKTtjb25zdCByPW4oKSxvPU1hdGgucG93KDIsciksYT1cIm51bWJlclwiPT10eXBlb2YgdGhpcy5fdGFyZ2V0Wm9vbT90Lnpvb21TY2FsZSh0aGlzLl90YXJnZXRab29tKTpvO3RoaXMuX3RhcmdldFpvb209TWF0aC5taW4odC5tYXhab29tLE1hdGgubWF4KHQubWluWm9vbSx0LnNjYWxlWm9vbShhKmkpKSksXCJ3aGVlbFwiPT09dGhpcy5fdHlwZSYmKHRoaXMuX3N0YXJ0Wm9vbT1yLHRoaXMuX2Vhc2luZz10aGlzLl9zbW9vdGhPdXRFYXNpbmcoMjAwKSksdGhpcy5fZGVsdGE9MH1jb25zdCBpPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl90YXJnZXRab29tP3RoaXMuX3RhcmdldFpvb206bigpLHI9dGhpcy5fc3RhcnRab29tLG89dGhpcy5fZWFzaW5nO2xldCBhLHM9ITE7aWYoXCJ3aGVlbFwiPT09dGhpcy5fdHlwZSYmciYmbyl7Y29uc3QgdD1NYXRoLm1pbigoZS5leHBvcnRlZC5ub3coKS10aGlzLl9sYXN0V2hlZWxFdmVudFRpbWUpLzIwMCwxKSxuPW8odCk7YT1lLm51bWJlcihyLGksbiksdDwxP3RoaXMuX2ZyYW1lSWR8fCh0aGlzLl9mcmFtZUlkPSEwKTpzPSEwfWVsc2UgYT1pLHM9ITA7cmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCxzJiYodGhpcy5fYWN0aXZlPSExLHRoaXMuX2ZpbmlzaFRpbWVvdXQ9c2V0VGltZW91dCgoKT0+e3RoaXMuX3pvb21pbmc9ITEsdGhpcy5faGFuZGxlci5fdHJpZ2dlclJlbmRlckZyYW1lKCksZGVsZXRlIHRoaXMuX3RhcmdldFpvb20sZGVsZXRlIHRoaXMuX2ZpbmlzaFRpbWVvdXR9LDIwMCkpLHtub0luZXJ0aWE6ITAsbmVlZHNSZW5kZXJGcmFtZTohcyx6b29tRGVsdGE6YS1uKCksYXJvdW5kOnRoaXMuX2Fyb3VuZFBvaW50LGFyb3VuZENvb3JkOnRoaXMuX2Fyb3VuZENvb3JkLG9yaWdpbmFsRXZlbnQ6dGhpcy5fbGFzdFdoZWVsRXZlbnR9fV9zbW9vdGhPdXRFYXNpbmcodCl7bGV0IG49ZS5lYXNlO2lmKHRoaXMuX3ByZXZFYXNlKXtjb25zdCB0PXRoaXMuX3ByZXZFYXNlLGk9KGUuZXhwb3J0ZWQubm93KCktdC5zdGFydCkvdC5kdXJhdGlvbixyPXQuZWFzaW5nKGkrLjAxKS10LmVhc2luZyhpKSxvPS4yNy9NYXRoLnNxcnQocipyKzFlLTQpKi4wMSxhPU1hdGguc3FydCguMDcyOS1vKm8pO249ZS5iZXppZXIobyxhLC4yNSwxKX1yZXR1cm4gdGhpcy5fcHJldkVhc2U9e3N0YXJ0OmUuZXhwb3J0ZWQubm93KCksZHVyYXRpb246dCxlYXNpbmc6bn0sbn1ibHVyKCl7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExfV9hZGRTY3JvbGxab29tQmxvY2tlcigpe3RoaXMuX21hcCYmIXRoaXMuX2FsZXJ0Q29udGFpbmVyJiYodGhpcy5fYWxlcnRDb250YWluZXI9byhcImRpdlwiLFwibWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlclwiLHRoaXMuX21hcC5fY29udGFpbmVyKSx0aGlzLl9hbGVydENvbnRhaW5lci50ZXh0Q29udGVudD0vKE1hY3xpUGFkKS9pLnRlc3QoZS53aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk/dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIlNjcm9sbFpvb21CbG9ja2VyLkNtZE1lc3NhZ2VcIik6dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIlNjcm9sbFpvb21CbG9ja2VyLkN0cmxNZXNzYWdlXCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLmZvbnRTaXplPU1hdGgubWF4KDEwLE1hdGgubWluKDI0LE1hdGguZmxvb3IoLjA1KnRoaXMuX2VsLmNsaWVudFdpZHRoKSkpK1wicHhcIil9X3Nob3dCbG9ja2VyQWxlcnQoKXt0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwiLHRoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1zY3JvbGwtem9vbS1ibG9ja2VyLXNob3dcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYWxlcnRcIiksY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpLHRoaXMuX2FsZXJ0VGltZXI9c2V0VGltZW91dCgoKT0+e3RoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1zY3JvbGwtem9vbS1ibG9ja2VyLXNob3dcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwibnVsbFwiKX0sMjAwKX19Y2xhc3MgUnJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9jbGlja1pvb209ZSx0aGlzLl90YXBab29tPXR9ZW5hYmxlKCl7dGhpcy5fY2xpY2tab29tLmVuYWJsZSgpLHRoaXMuX3RhcFpvb20uZW5hYmxlKCl9ZGlzYWJsZSgpe3RoaXMuX2NsaWNrWm9vbS5kaXNhYmxlKCksdGhpcy5fdGFwWm9vbS5kaXNhYmxlKCl9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2NsaWNrWm9vbS5pc0VuYWJsZWQoKSYmdGhpcy5fdGFwWm9vbS5pc0VuYWJsZWQoKX1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9jbGlja1pvb20uaXNBY3RpdmUoKXx8dGhpcy5fdGFwWm9vbS5pc0FjdGl2ZSgpfX1jbGFzcyBCcntjb25zdHJ1Y3Rvcigpe3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMX1ibHVyKCl7dGhpcy5yZXNldCgpfWRibGNsaWNrKGUsdCl7cmV0dXJuIGUucHJldmVudERlZmF1bHQoKSx7Y2FtZXJhQW5pbWF0aW9uOm49PntuLmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206bi5nZXRab29tKCkrKGUuc2hpZnRLZXk/LTE6MSksYXJvdW5kOm4udW5wcm9qZWN0KHQpfSx7b3JpZ2luYWxFdmVudDplfSl9fX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNsYXNzIGpye2NvbnN0cnVjdG9yKCl7dGhpcy5fdGFwPW5ldyBtcih7bnVtVG91Y2hlczoxLG51bVRhcHM6MX0pLHRoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9zd2lwZVBvaW50PXZvaWQgMCx0aGlzLl9zd2lwZVRvdWNoPTAsdGhpcy5fdGFwVGltZT0wLHRoaXMuX3RhcC5yZXNldCgpfXRvdWNoc3RhcnQoZSx0LG4pe3RoaXMuX3N3aXBlUG9pbnR8fCh0aGlzLl90YXBUaW1lJiZlLnRpbWVTdGFtcC10aGlzLl90YXBUaW1lPjUwMCYmdGhpcy5yZXNldCgpLHRoaXMuX3RhcFRpbWU/bi5sZW5ndGg+MCYmKHRoaXMuX3N3aXBlUG9pbnQ9dFswXSx0aGlzLl9zd2lwZVRvdWNoPW5bMF0uaWRlbnRpZmllcik6dGhpcy5fdGFwLnRvdWNoc3RhcnQoZSx0LG4pKX10b3VjaG1vdmUoZSx0LG4pe2lmKHRoaXMuX3RhcFRpbWUpe2lmKHRoaXMuX3N3aXBlUG9pbnQpe2lmKG5bMF0uaWRlbnRpZmllciE9PXRoaXMuX3N3aXBlVG91Y2gpcmV0dXJuO2NvbnN0IGk9dFswXSxyPWkueS10aGlzLl9zd2lwZVBvaW50Lnk7cmV0dXJuIHRoaXMuX3N3aXBlUG9pbnQ9aSxlLnByZXZlbnREZWZhdWx0KCksdGhpcy5fYWN0aXZlPSEwLHt6b29tRGVsdGE6ci8xMjh9fX1lbHNlIHRoaXMuX3RhcC50b3VjaG1vdmUoZSx0LG4pfXRvdWNoZW5kKGUsdCxuKXt0aGlzLl90YXBUaW1lP3RoaXMuX3N3aXBlUG9pbnQmJjA9PT1uLmxlbmd0aCYmdGhpcy5yZXNldCgpOnRoaXMuX3RhcC50b3VjaGVuZChlLHQsbikmJih0aGlzLl90YXBUaW1lPWUudGltZVN0YW1wKX10b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWNsYXNzIEZye2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLl9lbD1lLHRoaXMuX21vdXNlUGFuPXQsdGhpcy5fdG91Y2hQYW49bn1lbmFibGUoZSl7dGhpcy5faW5lcnRpYU9wdGlvbnM9ZXx8e30sdGhpcy5fbW91c2VQYW4uZW5hYmxlKCksdGhpcy5fdG91Y2hQYW4uZW5hYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRvdWNoLWRyYWctcGFuXCIpfWRpc2FibGUoKXt0aGlzLl9tb3VzZVBhbi5kaXNhYmxlKCksdGhpcy5fdG91Y2hQYW4uZGlzYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC1kcmFnLXBhblwiKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fbW91c2VQYW4uaXNFbmFibGVkKCkmJnRoaXMuX3RvdWNoUGFuLmlzRW5hYmxlZCgpfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX21vdXNlUGFuLmlzQWN0aXZlKCl8fHRoaXMuX3RvdWNoUGFuLmlzQWN0aXZlKCl9fWNsYXNzIE5ye2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLl9waXRjaFdpdGhSb3RhdGU9ZS5waXRjaFdpdGhSb3RhdGUsdGhpcy5fbW91c2VSb3RhdGU9dCx0aGlzLl9tb3VzZVBpdGNoPW59ZW5hYmxlKCl7dGhpcy5fbW91c2VSb3RhdGUuZW5hYmxlKCksdGhpcy5fcGl0Y2hXaXRoUm90YXRlJiZ0aGlzLl9tb3VzZVBpdGNoLmVuYWJsZSgpfWRpc2FibGUoKXt0aGlzLl9tb3VzZVJvdGF0ZS5kaXNhYmxlKCksdGhpcy5fbW91c2VQaXRjaC5kaXNhYmxlKCl9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX21vdXNlUm90YXRlLmlzRW5hYmxlZCgpJiYoIXRoaXMuX3BpdGNoV2l0aFJvdGF0ZXx8dGhpcy5fbW91c2VQaXRjaC5pc0VuYWJsZWQoKSl9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fbW91c2VSb3RhdGUuaXNBY3RpdmUoKXx8dGhpcy5fbW91c2VQaXRjaC5pc0FjdGl2ZSgpfX1jbGFzcyBVcntjb25zdHJ1Y3RvcihlLHQsbixpKXt0aGlzLl9lbD1lLHRoaXMuX3RvdWNoWm9vbT10LHRoaXMuX3RvdWNoUm90YXRlPW4sdGhpcy5fdGFwRHJhZ1pvb209aSx0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExLHRoaXMuX2VuYWJsZWQ9ITB9ZW5hYmxlKGUpe3RoaXMuX3RvdWNoWm9vbS5lbmFibGUoZSksdGhpcy5fcm90YXRpb25EaXNhYmxlZHx8dGhpcy5fdG91Y2hSb3RhdGUuZW5hYmxlKGUpLHRoaXMuX3RhcERyYWdab29tLmVuYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZVwiKX1kaXNhYmxlKCl7dGhpcy5fdG91Y2hab29tLmRpc2FibGUoKSx0aGlzLl90b3VjaFJvdGF0ZS5kaXNhYmxlKCksdGhpcy5fdGFwRHJhZ1pvb20uZGlzYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZVwiKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fdG91Y2hab29tLmlzRW5hYmxlZCgpJiYodGhpcy5fcm90YXRpb25EaXNhYmxlZHx8dGhpcy5fdG91Y2hSb3RhdGUuaXNFbmFibGVkKCkpJiZ0aGlzLl90YXBEcmFnWm9vbS5pc0VuYWJsZWQoKX1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl90b3VjaFpvb20uaXNBY3RpdmUoKXx8dGhpcy5fdG91Y2hSb3RhdGUuaXNBY3RpdmUoKXx8dGhpcy5fdGFwRHJhZ1pvb20uaXNBY3RpdmUoKX1kaXNhYmxlUm90YXRpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSEwLHRoaXMuX3RvdWNoUm90YXRlLmRpc2FibGUoKX1lbmFibGVSb3RhdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITEsdGhpcy5fdG91Y2hab29tLmlzRW5hYmxlZCgpJiZ0aGlzLl90b3VjaFJvdGF0ZS5lbmFibGUoKX19Y29uc3QgVnI9ZT0+ZS56b29tfHxlLmRyYWd8fGUucGl0Y2h8fGUucm90YXRlO2NsYXNzIEdyIGV4dGVuZHMgZS5FdmVudHt9Y2xhc3MgWnJ7Y29uc3RydWN0b3IoKXt0aGlzLmNvbnN0YW50cz1bMSwxLC4wMV0sdGhpcy5yYWRpdXM9MH1zZXR1cCh0LG4pe2NvbnN0IGk9ZS5zdWIoW10sbix0KTt0aGlzLnJhZGl1cz1lLmxlbmd0aChpWzJdPDA/ZS5kaXYoW10saSx0aGlzLmNvbnN0YW50cyk6W2lbMF0saVsxXSwwXSl9cHJvamVjdFJheSh0KXtlLmRpdih0LHQsdGhpcy5jb25zdGFudHMpLGUubm9ybWFsaXplKHQsdCksZS5tdWwkMSh0LHQsdGhpcy5jb25zdGFudHMpO2NvbnN0IG49ZS5zY2FsZSQyKFtdLHQsdGhpcy5yYWRpdXMpO2lmKG5bMl0+MCl7Y29uc3QgdD1lLnNjYWxlJDIoW10sWzAsMCwxXSxlLmRvdChuLFswLDAsMV0pKSxpPWUuc2NhbGUkMihbXSxlLm5vcm1hbGl6ZShbXSxbblswXSxuWzFdLDBdKSx0aGlzLnJhZGl1cykscj1lLmFkZChbXSxuLGUuc2NhbGUkMihbXSxlLnN1YihbXSxlLmFkZChbXSxpLHQpLG4pLDIpKTtuWzBdPXJbMF0sblsxXT1yWzFdfXJldHVybiBufX1mdW5jdGlvbiBXcihlKXtyZXR1cm4gZS5wYW5EZWx0YSYmZS5wYW5EZWx0YS5tYWcoKXx8ZS56b29tRGVsdGF8fGUuYmVhcmluZ0RlbHRhfHxlLnBpdGNoRGVsdGF9Y2xhc3MgcXJ7Y29uc3RydWN0b3IodCxuKXt0aGlzLl9tYXA9dCx0aGlzLl9lbD10aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCksdGhpcy5faGFuZGxlcnM9W10sdGhpcy5faGFuZGxlcnNCeUlkPXt9LHRoaXMuX2NoYW5nZXM9W10sdGhpcy5faW5lcnRpYT1uZXcgcnIodCksdGhpcy5fYmVhcmluZ1NuYXA9bi5iZWFyaW5nU25hcCx0aGlzLl9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzPXt9LHRoaXMuX3RyYWNraW5nRWxsaXBzb2lkPW5ldyBacix0aGlzLl9kcmFnT3JpZ2luPW51bGwsdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcz17fSx0aGlzLl9hZGREZWZhdWx0SGFuZGxlcnMobiksZS5iaW5kQWxsKFtcImhhbmRsZUV2ZW50XCIsXCJoYW5kbGVXaW5kb3dFdmVudFwiXSx0aGlzKTtjb25zdCBpPXRoaXMuX2VsO3RoaXMuX2xpc3RlbmVycz1bW2ksXCJ0b3VjaHN0YXJ0XCIse3Bhc3NpdmU6ITB9XSxbaSxcInRvdWNobW92ZVwiLHtwYXNzaXZlOiExfV0sW2ksXCJ0b3VjaGVuZFwiLHZvaWQgMF0sW2ksXCJ0b3VjaGNhbmNlbFwiLHZvaWQgMF0sW2ksXCJtb3VzZWRvd25cIix2b2lkIDBdLFtpLFwibW91c2Vtb3ZlXCIsdm9pZCAwXSxbaSxcIm1vdXNldXBcIix2b2lkIDBdLFtlLndpbmRvdy5kb2N1bWVudCxcIm1vdXNlbW92ZVwiLHtjYXB0dXJlOiEwfV0sW2Uud2luZG93LmRvY3VtZW50LFwibW91c2V1cFwiLHZvaWQgMF0sW2ksXCJtb3VzZW92ZXJcIix2b2lkIDBdLFtpLFwibW91c2VvdXRcIix2b2lkIDBdLFtpLFwiZGJsY2xpY2tcIix2b2lkIDBdLFtpLFwiY2xpY2tcIix2b2lkIDBdLFtpLFwia2V5ZG93blwiLHtjYXB0dXJlOiExfV0sW2ksXCJrZXl1cFwiLHZvaWQgMF0sW2ksXCJ3aGVlbFwiLHtwYXNzaXZlOiExfV0sW2ksXCJjb250ZXh0bWVudVwiLHZvaWQgMF0sW2Uud2luZG93LFwiYmx1clwiLHZvaWQgMF1dO2Zvcihjb25zdFt0LG4saV1vZiB0aGlzLl9saXN0ZW5lcnMpdC5hZGRFdmVudExpc3RlbmVyKG4sdD09PWUud2luZG93LmRvY3VtZW50P3RoaXMuaGFuZGxlV2luZG93RXZlbnQ6dGhpcy5oYW5kbGVFdmVudCxpKX1kZXN0cm95KCl7Zm9yKGNvbnN0W3QsbixpXW9mIHRoaXMuX2xpc3RlbmVycyl0LnJlbW92ZUV2ZW50TGlzdGVuZXIobix0PT09ZS53aW5kb3cuZG9jdW1lbnQ/dGhpcy5oYW5kbGVXaW5kb3dFdmVudDp0aGlzLmhhbmRsZUV2ZW50LGkpfV9hZGREZWZhdWx0SGFuZGxlcnMoZSl7Y29uc3QgdD10aGlzLl9tYXAsbj10LmdldENhbnZhc0NvbnRhaW5lcigpO3RoaXMuX2FkZChcIm1hcEV2ZW50XCIsbmV3IHVyKHQsZSkpO2NvbnN0IGk9dC5ib3hab29tPW5ldyBkcih0LGUpO3RoaXMuX2FkZChcImJveFpvb21cIixpKTtjb25zdCByPW5ldyBncixvPW5ldyBCcjt0LmRvdWJsZUNsaWNrWm9vbT1uZXcgUnIobyxyKSx0aGlzLl9hZGQoXCJ0YXBab29tXCIsciksdGhpcy5fYWRkKFwiY2xpY2tab29tXCIsbyk7Y29uc3QgYT1uZXcganI7dGhpcy5fYWRkKFwidGFwRHJhZ1pvb21cIixhKTtjb25zdCBzPXQudG91Y2hQaXRjaD1uZXcgQXIodCk7dGhpcy5fYWRkKFwidG91Y2hQaXRjaFwiLHMpO2NvbnN0IGw9bmV3IHhyKGUpLGM9bmV3IGJyKGUpO3QuZHJhZ1JvdGF0ZT1uZXcgTnIoZSxsLGMpLHRoaXMuX2FkZChcIm1vdXNlUm90YXRlXCIsbCxbXCJtb3VzZVBpdGNoXCJdKSx0aGlzLl9hZGQoXCJtb3VzZVBpdGNoXCIsYyxbXCJtb3VzZVJvdGF0ZVwiXSk7Y29uc3QgdT1uZXcgdnIoZSksaD1uZXcgd3IodCxlKTt0LmRyYWdQYW49bmV3IEZyKG4sdSxoKSx0aGlzLl9hZGQoXCJtb3VzZVBhblwiLHUpLHRoaXMuX2FkZChcInRvdWNoUGFuXCIsaCxbXCJ0b3VjaFpvb21cIixcInRvdWNoUm90YXRlXCJdKTtjb25zdCBkPW5ldyBDcixwPW5ldyBNcjt0LnRvdWNoWm9vbVJvdGF0ZT1uZXcgVXIobixwLGQsYSksdGhpcy5fYWRkKFwidG91Y2hSb3RhdGVcIixkLFtcInRvdWNoUGFuXCIsXCJ0b3VjaFpvb21cIl0pLHRoaXMuX2FkZChcInRvdWNoWm9vbVwiLHAsW1widG91Y2hQYW5cIixcInRvdWNoUm90YXRlXCJdKSx0aGlzLl9hZGQoXCJibG9ja2FibGVNYXBFdmVudFwiLG5ldyBocih0KSk7Y29uc3QgZj10LnNjcm9sbFpvb209bmV3IE9yKHQsdGhpcyk7dGhpcy5fYWRkKFwic2Nyb2xsWm9vbVwiLGYsW1wibW91c2VQYW5cIl0pO2NvbnN0IG09dC5rZXlib2FyZD1uZXcgenI7dGhpcy5fYWRkKFwia2V5Ym9hcmRcIixtKTtmb3IoY29uc3QgbiBvZltcImJveFpvb21cIixcImRvdWJsZUNsaWNrWm9vbVwiLFwidGFwRHJhZ1pvb21cIixcInRvdWNoUGl0Y2hcIixcImRyYWdSb3RhdGVcIixcImRyYWdQYW5cIixcInRvdWNoWm9vbVJvdGF0ZVwiLFwic2Nyb2xsWm9vbVwiLFwia2V5Ym9hcmRcIl0pZS5pbnRlcmFjdGl2ZSYmZVtuXSYmdFtuXS5lbmFibGUoZVtuXSl9X2FkZChlLHQsbil7dGhpcy5faGFuZGxlcnMucHVzaCh7aGFuZGxlck5hbWU6ZSxoYW5kbGVyOnQsYWxsb3dlZDpufSksdGhpcy5faGFuZGxlcnNCeUlkW2VdPXR9c3RvcChlKXtpZighdGhpcy5fdXBkYXRpbmdDYW1lcmEpe2Zvcihjb25zdHtoYW5kbGVyOmV9b2YgdGhpcy5faGFuZGxlcnMpZS5yZXNldCgpO3RoaXMuX2luZXJ0aWEuY2xlYXIoKSx0aGlzLl9maXJlRXZlbnRzKHt9LHt9LGUpLHRoaXMuX2NoYW5nZXM9W119fWlzQWN0aXZlKCl7Zm9yKGNvbnN0e2hhbmRsZXI6ZX1vZiB0aGlzLl9oYW5kbGVycylpZihlLmlzQWN0aXZlKCkpcmV0dXJuITA7cmV0dXJuITF9aXNab29taW5nKCl7cmV0dXJuISF0aGlzLl9ldmVudHNJblByb2dyZXNzLnpvb218fHRoaXMuX21hcC5zY3JvbGxab29tLmlzWm9vbWluZygpfWlzUm90YXRpbmcoKXtyZXR1cm4hIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Mucm90YXRlfWlzTW92aW5nKCl7cmV0dXJuISFWcih0aGlzLl9ldmVudHNJblByb2dyZXNzKXx8dGhpcy5pc1pvb21pbmcoKX1faXNEcmFnZ2luZygpe3JldHVybiEhdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy5kcmFnfV9ibG9ja2VkQnlBY3RpdmUoZSx0LG4pe2Zvcihjb25zdCBpIGluIGUpaWYoaSE9PW4mJighdHx8dC5pbmRleE9mKGkpPDApKXJldHVybiEwO3JldHVybiExfWhhbmRsZVdpbmRvd0V2ZW50KGUpe3RoaXMuaGFuZGxlRXZlbnQoZSxlLnR5cGUrXCJXaW5kb3dcIil9X2dldE1hcFRvdWNoZXMoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBvZiBlKXRoaXMuX2VsLmNvbnRhaW5zKG4udGFyZ2V0KSYmdC5wdXNoKG4pO3JldHVybiB0fWhhbmRsZUV2ZW50KGUsdCl7dGhpcy5fdXBkYXRpbmdDYW1lcmE9ITA7Y29uc3Qgbj1cInJlbmRlckZyYW1lXCI9PT1lLnR5cGUsaT1uP3ZvaWQgMDplLHI9e25lZWRzUmVuZGVyRnJhbWU6ITF9LG89e30sYT17fSxzPWUudG91Y2hlcz90aGlzLl9nZXRNYXBUb3VjaGVzKGUudG91Y2hlcyk6dm9pZCAwLGw9cz9tKHRoaXMuX2VsLHMpOm4/dm9pZCAwOmYodGhpcy5fZWwsZSk7Zm9yKGNvbnN0e2hhbmRsZXJOYW1lOm4saGFuZGxlcjpjLGFsbG93ZWQ6dX1vZiB0aGlzLl9oYW5kbGVycyl7aWYoIWMuaXNFbmFibGVkKCkpY29udGludWU7bGV0IGg7dGhpcy5fYmxvY2tlZEJ5QWN0aXZlKGEsdSxuKT9jLnJlc2V0KCk6Y1t0fHxlLnR5cGVdJiYoaD1jW3R8fGUudHlwZV0oZSxsLHMpLHRoaXMubWVyZ2VIYW5kbGVyUmVzdWx0KHIsbyxoLG4saSksaCYmaC5uZWVkc1JlbmRlckZyYW1lJiZ0aGlzLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSksKGh8fGMuaXNBY3RpdmUoKSkmJihhW25dPWMpfWNvbnN0IGM9e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycylhW2VdfHwoY1tlXT1pKTt0aGlzLl9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzPWEsKE9iamVjdC5rZXlzKGMpLmxlbmd0aHx8V3IocikpJiYodGhpcy5fY2hhbmdlcy5wdXNoKFtyLG8sY10pLHRoaXMuX3RyaWdnZXJSZW5kZXJGcmFtZSgpKSwoT2JqZWN0LmtleXMoYSkubGVuZ3RofHxXcihyKSkmJnRoaXMuX21hcC5fc3RvcCghMCksdGhpcy5fdXBkYXRpbmdDYW1lcmE9ITE7Y29uc3R7Y2FtZXJhQW5pbWF0aW9uOnV9PXI7dSYmKHRoaXMuX2luZXJ0aWEuY2xlYXIoKSx0aGlzLl9maXJlRXZlbnRzKHt9LHt9LCEwKSx0aGlzLl9jaGFuZ2VzPVtdLHUodGhpcy5fbWFwKSl9bWVyZ2VIYW5kbGVyUmVzdWx0KHQsbixpLHIsbyl7aWYoIWkpcmV0dXJuO2UuZXh0ZW5kKHQsaSk7Y29uc3QgYT17aGFuZGxlck5hbWU6cixvcmlnaW5hbEV2ZW50Omkub3JpZ2luYWxFdmVudHx8b307dm9pZCAwIT09aS56b29tRGVsdGEmJihuLnpvb209YSksdm9pZCAwIT09aS5wYW5EZWx0YSYmKG4uZHJhZz1hKSx2b2lkIDAhPT1pLnBpdGNoRGVsdGEmJihuLnBpdGNoPWEpLHZvaWQgMCE9PWkuYmVhcmluZ0RlbHRhJiYobi5yb3RhdGU9YSl9X2FwcGx5Q2hhbmdlcygpe2NvbnN0IHQ9e30sbj17fSxpPXt9O2Zvcihjb25zdFtyLG8sYV1vZiB0aGlzLl9jaGFuZ2VzKXIucGFuRGVsdGEmJih0LnBhbkRlbHRhPSh0LnBhbkRlbHRhfHxuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCkpLl9hZGQoci5wYW5EZWx0YSkpLHIuem9vbURlbHRhJiYodC56b29tRGVsdGE9KHQuem9vbURlbHRhfHwwKStyLnpvb21EZWx0YSksci5iZWFyaW5nRGVsdGEmJih0LmJlYXJpbmdEZWx0YT0odC5iZWFyaW5nRGVsdGF8fDApK3IuYmVhcmluZ0RlbHRhKSxyLnBpdGNoRGVsdGEmJih0LnBpdGNoRGVsdGE9KHQucGl0Y2hEZWx0YXx8MCkrci5waXRjaERlbHRhKSx2b2lkIDAhPT1yLmFyb3VuZCYmKHQuYXJvdW5kPXIuYXJvdW5kKSx2b2lkIDAhPT1yLmFyb3VuZENvb3JkJiYodC5hcm91bmRDb29yZD1yLmFyb3VuZENvb3JkKSx2b2lkIDAhPT1yLnBpbmNoQXJvdW5kJiYodC5waW5jaEFyb3VuZD1yLnBpbmNoQXJvdW5kKSxyLm5vSW5lcnRpYSYmKHQubm9JbmVydGlhPXIubm9JbmVydGlhKSxlLmV4dGVuZChuLG8pLGUuZXh0ZW5kKGksYSk7dGhpcy5fdXBkYXRlTWFwVHJhbnNmb3JtKHQsbixpKSx0aGlzLl9jaGFuZ2VzPVtdfV91cGRhdGVNYXBUcmFuc2Zvcm0odCxuLGkpe2NvbnN0IHI9dGhpcy5fbWFwLG89ci50cmFuc2Zvcm0sYT1lPT5bZS54LGUueSxlLnpdO2lmKChlPT57Y29uc3QgdD10aGlzLl9ldmVudHNJblByb2dyZXNzLmRyYWc7cmV0dXJuIHQmJiF0aGlzLl9oYW5kbGVyc0J5SWRbdC5oYW5kbGVyTmFtZV0uaXNBY3RpdmUoKX0pKCkmJiFXcih0KSl7Y29uc3QgZT1vLnpvb207by5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJzZWFcIixvLnJlY2VudGVyT25UZXJyYWluKCksby5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIixlIT09by56b29tJiZ0aGlzLl9tYXAuX3VwZGF0ZSghMCl9aWYoby5faXNDYW1lcmFDb25zdHJhaW5lZCYmci5fc3RvcCghMCksIVdyKHQpKXJldHVybiB2b2lkIHRoaXMuX2ZpcmVFdmVudHMobixpLCEwKTtsZXR7cGFuRGVsdGE6cyx6b29tRGVsdGE6bCxiZWFyaW5nRGVsdGE6YyxwaXRjaERlbHRhOnUsYXJvdW5kOmgsYXJvdW5kQ29vcmQ6ZCxwaW5jaEFyb3VuZDpwfT10O28uX2lzQ2FtZXJhQ29uc3RyYWluZWQmJihsPjAmJihsPTApLG8uX2lzQ2FtZXJhQ29uc3RyYWluZWQ9ITEpLHZvaWQgMCE9PXAmJihoPXApLChlPT5uLmRyYWcmJiF0aGlzLl9ldmVudHNJblByb2dyZXNzLmRyYWcpKCkmJmgmJih0aGlzLl9kcmFnT3JpZ2luPWEoby5wb2ludENvb3JkaW5hdGUzRChoKSksdGhpcy5fdHJhY2tpbmdFbGxpcHNvaWQuc2V0dXAoby5fY2FtZXJhLnBvc2l0aW9uLHRoaXMuX2RyYWdPcmlnaW4pKSxvLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cInNlYVwiLHIuX3N0b3AoITApLGg9aHx8ci50cmFuc2Zvcm0uY2VudGVyUG9pbnQsYyYmKG8uYmVhcmluZys9YyksdSYmKG8ucGl0Y2grPXUpLG8uX3VwZGF0ZUNhbWVyYVN0YXRlKCk7Y29uc3QgZj1bMCwwLDBdO2lmKHMpaWYoXCJtZXJjYXRvclwiPT09by5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9dGhpcy5fdHJhY2tpbmdFbGxpcHNvaWQucHJvamVjdFJheShvLnNjcmVlblBvaW50VG9NZXJjYXRvclJheShoKS5kaXIpLHQ9dGhpcy5fdHJhY2tpbmdFbGxpcHNvaWQucHJvamVjdFJheShvLnNjcmVlblBvaW50VG9NZXJjYXRvclJheShoLnN1YihzKSkuZGlyKTtmWzBdPXRbMF0tZVswXSxmWzFdPXRbMV0tZVsxXX1lbHNle2NvbnN0IHQ9by5wb2ludENvb3JkaW5hdGUoaCk7aWYoXCJnbG9iZVwiPT09by5wcm9qZWN0aW9uLm5hbWUpe3M9cy5yb3RhdGUoLW8uYW5nbGUpO2NvbnN0IG49by5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbC9vLndvcmxkU2l6ZTtmWzBdPS1zLngqZS5tZXJjYXRvclNjYWxlKGUubGF0RnJvbU1lcmNhdG9yWSh0LnkpKSpuLGZbMV09LXMueSplLm1lcmNhdG9yU2NhbGUoby5jZW50ZXIubGF0KSpufWVsc2V7Y29uc3QgZT1vLnBvaW50Q29vcmRpbmF0ZShoLnN1YihzKSk7dCYmZSYmKGZbMF09ZS54LXQueCxmWzFdPWUueS10LnkpfX1jb25zdCBtPW8uem9vbSxnPVswLDAsMF07aWYobCl7Y29uc3QgdD1hKGR8fG8ucG9pbnRDb29yZGluYXRlM0QoaCkpLG49e2RpcjplLm5vcm1hbGl6ZShbXSxlLnN1YihbXSx0LG8uX2NhbWVyYS5wb3NpdGlvbikpfTtpZihuLmRpclsyXTwwKXtjb25zdCBpPW8uem9vbURlbHRhVG9Nb3ZlbWVudCh0LGwpO2Uuc2NhbGUkMihnLG4uZGlyLGkpfX1jb25zdCB5PWUuYWRkKGYsZixnKTtvLl90cmFuc2xhdGVDYW1lcmFDb25zdHJhaW5lZCh5KSxsJiZNYXRoLmFicyhvLnpvb20tbSk+MWUtNCYmby5yZWNlbnRlck9uVGVycmFpbigpLG8uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwiZ3JvdW5kXCIsdGhpcy5fbWFwLl91cGRhdGUoKSx0Lm5vSW5lcnRpYXx8dGhpcy5faW5lcnRpYS5yZWNvcmQodCksdGhpcy5fZmlyZUV2ZW50cyhuLGksITApfV9maXJlRXZlbnRzKHQsbixpKXtjb25zdCByPVZyKHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MpLG89VnIodCksYT17fTtmb3IoY29uc3QgZSBpbiB0KXtjb25zdHtvcmlnaW5hbEV2ZW50Om59PXRbZV07dGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1tlXXx8KGFbZStcInN0YXJ0XCJdPW4pLHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZV09dFtlXX0hciYmbyYmdGhpcy5fZmlyZUV2ZW50KFwibW92ZXN0YXJ0XCIsby5vcmlnaW5hbEV2ZW50KTtmb3IoY29uc3QgZSBpbiBhKXRoaXMuX2ZpcmVFdmVudChlLGFbZV0pO28mJnRoaXMuX2ZpcmVFdmVudChcIm1vdmVcIixvLm9yaWdpbmFsRXZlbnQpO2Zvcihjb25zdCBlIGluIHQpe2NvbnN0e29yaWdpbmFsRXZlbnQ6bn09dFtlXTt0aGlzLl9maXJlRXZlbnQoZSxuKX1jb25zdCBzPXt9O2xldCBsO2Zvcihjb25zdCBlIGluIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Mpe2NvbnN0e2hhbmRsZXJOYW1lOnQsb3JpZ2luYWxFdmVudDppfT10aGlzLl9ldmVudHNJblByb2dyZXNzW2VdO3RoaXMuX2hhbmRsZXJzQnlJZFt0XS5pc0FjdGl2ZSgpfHwoZGVsZXRlIHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZV0sbD1uW3RdfHxpLHNbZStcImVuZFwiXT1sKX1mb3IoY29uc3QgZSBpbiBzKXRoaXMuX2ZpcmVFdmVudChlLHNbZV0pO2NvbnN0IGM9VnIodGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyk7aWYoaSYmKHJ8fG8pJiYhYyl7dGhpcy5fdXBkYXRpbmdDYW1lcmE9ITA7Y29uc3QgdD10aGlzLl9pbmVydGlhLl9vbk1vdmVFbmQodGhpcy5fbWFwLmRyYWdQYW4uX2luZXJ0aWFPcHRpb25zKSxuPWU9PjAhPT1lJiYtdGhpcy5fYmVhcmluZ1NuYXA8ZSYmZTx0aGlzLl9iZWFyaW5nU25hcDt0PyhuKHQuYmVhcmluZ3x8dGhpcy5fbWFwLmdldEJlYXJpbmcoKSkmJih0LmJlYXJpbmc9MCksdGhpcy5fbWFwLmVhc2VUbyh0LHtvcmlnaW5hbEV2ZW50Omx9KSk6KHRoaXMuX21hcC5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLHtvcmlnaW5hbEV2ZW50Omx9KSksbih0aGlzLl9tYXAuZ2V0QmVhcmluZygpKSYmdGhpcy5fbWFwLnJlc2V0Tm9ydGgoKSksdGhpcy5fdXBkYXRpbmdDYW1lcmE9ITF9fV9maXJlRXZlbnQodCxuKXt0aGlzLl9tYXAuZmlyZShuZXcgZS5FdmVudCh0LG4/e29yaWdpbmFsRXZlbnQ6bn06e30pKX1fcmVxdWVzdEZyYW1lKCl7cmV0dXJuIHRoaXMuX21hcC50cmlnZ2VyUmVwYWludCgpLHRoaXMuX21hcC5fcmVuZGVyVGFza1F1ZXVlLmFkZChlPT57dGhpcy5fZnJhbWVJZD12b2lkIDAsdGhpcy5oYW5kbGVFdmVudChuZXcgR3IoXCJyZW5kZXJGcmFtZVwiLHt0aW1lU3RhbXA6ZX0pKSx0aGlzLl9hcHBseUNoYW5nZXMoKX0pfV90cmlnZ2VyUmVuZGVyRnJhbWUoKXt2b2lkIDA9PT10aGlzLl9mcmFtZUlkJiYodGhpcy5fZnJhbWVJZD10aGlzLl9yZXF1ZXN0RnJhbWUoKSl9fWNvbnN0ICRyPVwibWFwLnNldEZyZWVDYW1lcmFPcHRpb25zKC4uLikgYW5kIG1hcC5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpIGFyZSBub3QgeWV0IHN1cHBvcnRlZCBmb3Igbm9uLW1lcmNhdG9yIHByb2plY3Rpb25zLlwiO2NsYXNzIEhyIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQsbil7c3VwZXIoKSx0aGlzLl9tb3Zpbmc9ITEsdGhpcy5fem9vbWluZz0hMSx0aGlzLnRyYW5zZm9ybT10LHRoaXMuX2JlYXJpbmdTbmFwPW4uYmVhcmluZ1NuYXAsZS5iaW5kQWxsKFtcIl9yZW5kZXJGcmFtZUNhbGxiYWNrXCJdLHRoaXMpfWdldENlbnRlcigpe3JldHVybiBuZXcgZS5MbmdMYXQodGhpcy50cmFuc2Zvcm0uY2VudGVyLmxuZyx0aGlzLnRyYW5zZm9ybS5jZW50ZXIubGF0KX1zZXRDZW50ZXIoZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe2NlbnRlcjplfSx0KX1wYW5CeSh0LG4saSl7cmV0dXJuIHQ9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCkubXVsdCgtMSksdGhpcy5wYW5Ubyh0aGlzLnRyYW5zZm9ybS5jZW50ZXIsZS5leHRlbmQoe29mZnNldDp0fSxuKSxpKX1wYW5Ubyh0LG4saSl7cmV0dXJuIHRoaXMuZWFzZVRvKGUuZXh0ZW5kKHtjZW50ZXI6dH0sbiksaSl9Z2V0Wm9vbSgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS56b29tfXNldFpvb20oZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe3pvb206ZX0sdCksdGhpc316b29tVG8odCxuLGkpe3JldHVybiB0aGlzLmVhc2VUbyhlLmV4dGVuZCh7em9vbTp0fSxuKSxpKX16b29tSW4oZSx0KXtyZXR1cm4gdGhpcy56b29tVG8odGhpcy5nZXRab29tKCkrMSxlLHQpLHRoaXN9em9vbU91dChlLHQpe3JldHVybiB0aGlzLnpvb21Ubyh0aGlzLmdldFpvb20oKS0xLGUsdCksdGhpc31nZXRCZWFyaW5nKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmJlYXJpbmd9c2V0QmVhcmluZyhlLHQpe3JldHVybiB0aGlzLmp1bXBUbyh7YmVhcmluZzplfSx0KSx0aGlzfWdldFBhZGRpbmcoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGFkZGluZ31zZXRQYWRkaW5nKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHtwYWRkaW5nOmV9LHQpLHRoaXN9cm90YXRlVG8odCxuLGkpe3JldHVybiB0aGlzLmVhc2VUbyhlLmV4dGVuZCh7YmVhcmluZzp0fSxuKSxpKX1yZXNldE5vcnRoKHQsbil7cmV0dXJuIHRoaXMucm90YXRlVG8oMCxlLmV4dGVuZCh7ZHVyYXRpb246MWUzfSx0KSxuKSx0aGlzfXJlc2V0Tm9ydGhQaXRjaCh0LG4pe3JldHVybiB0aGlzLmVhc2VUbyhlLmV4dGVuZCh7YmVhcmluZzowLHBpdGNoOjAsZHVyYXRpb246MWUzfSx0KSxuKSx0aGlzfXNuYXBUb05vcnRoKGUsdCl7cmV0dXJuIE1hdGguYWJzKHRoaXMuZ2V0QmVhcmluZygpKTx0aGlzLl9iZWFyaW5nU25hcD90aGlzLnJlc2V0Tm9ydGgoZSx0KTp0aGlzfWdldFBpdGNoKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdGNofXNldFBpdGNoKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHtwaXRjaDplfSx0KSx0aGlzfWNhbWVyYUZvckJvdW5kcyh0LG4pe3Q9ZS5MbmdMYXRCb3VuZHMuY29udmVydCh0KTtjb25zdCBpPW4mJm4uYmVhcmluZ3x8MCxyPW4mJm4ucGl0Y2h8fDAsbz10LmdldE5vcnRoV2VzdCgpLGE9dC5nZXRTb3V0aEVhc3QoKTtyZXR1cm4gdGhpcy5fY2FtZXJhRm9yQm91bmRzKHRoaXMudHJhbnNmb3JtLG8sYSxpLHIsbil9X2V4dGVuZENhbWVyYU9wdGlvbnModCl7Y29uc3Qgbj17dG9wOjAsYm90dG9tOjAscmlnaHQ6MCxsZWZ0OjB9O2lmKFwibnVtYmVyXCI9PXR5cGVvZih0PWUuZXh0ZW5kKHtwYWRkaW5nOm4sb2Zmc2V0OlswLDBdLG1heFpvb206dGhpcy50cmFuc2Zvcm0ubWF4Wm9vbX0sdCkpLnBhZGRpbmcpe2NvbnN0IGU9dC5wYWRkaW5nO3QucGFkZGluZz17dG9wOmUsYm90dG9tOmUscmlnaHQ6ZSxsZWZ0OmV9fXJldHVybiB0LnBhZGRpbmc9ZS5leHRlbmQobix0LnBhZGRpbmcpLHR9X21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKGUsdCl7Y29uc3Qgbj10Lm1heFswXS10Lm1pblswXSxpPXQubWF4WzFdLXQubWluWzFdO3JldHVybiBuL2k+ZS5hc3BlY3Q/bi8oMipNYXRoLnRhbiguNSplLmZvdlgpKmUuYXNwZWN0KTppLygyKk1hdGgudGFuKC41KmUuZm92WSkqZS5hc3BlY3QpfV9jYW1lcmFGb3JCb3VuZHNPbkdsb2JlKHQsbixpLHIsbyxhKXtjb25zdCBzPXQuY2xvbmUoKSxsPXRoaXMuX2V4dGVuZENhbWVyYU9wdGlvbnMoYSk7cy5iZWFyaW5nPXIscy5waXRjaD1vO2NvbnN0IGM9ZS5MbmdMYXQuY29udmVydChuKSx1PWUuTG5nTGF0LmNvbnZlcnQoaSksaD0uNSooYy5sYXQrdS5sYXQpLGQ9LjUqKGMubG5nK3UubG5nKSxwPWUubGF0TG5nVG9FQ0VGKGgsZCksZj1lLm5vcm1hbGl6ZShbXSxwKSxtPWUubm9ybWFsaXplKFtdLGUuY3Jvc3MoW10sZixbMCwxLDBdKSksZz1lLmNyb3NzKFtdLG0sZikseT1bbVswXSxtWzFdLG1bMl0sMCxnWzBdLGdbMV0sZ1syXSwwLGZbMF0sZlsxXSxmWzJdLDAsMCwwLDAsMV0sXz1bcCxlLmxhdExuZ1RvRUNFRihjLmxhdCxjLmxuZyksZS5sYXRMbmdUb0VDRUYodS5sYXQsYy5sbmcpLGUubGF0TG5nVG9FQ0VGKHUubGF0LHUubG5nKSxlLmxhdExuZ1RvRUNFRihjLmxhdCx1LmxuZyksZS5sYXRMbmdUb0VDRUYoaCxjLmxuZyksZS5sYXRMbmdUb0VDRUYoaCx1LmxuZyksZS5sYXRMbmdUb0VDRUYoYy5sYXQsZCksZS5sYXRMbmdUb0VDRUYodS5sYXQsZCldO2xldCB2PWUuQWFiYi5mcm9tUG9pbnRzKF8ubWFwKHQ9PltlLmRvdChtLHQpLGUuZG90KGcsdCksZS5kb3QoZix0KV0pKTtjb25zdCB4PWUudHJhbnNmb3JtTWF0NChbXSx2LmNlbnRlcix5KTswPT09ZS5zcXVhcmVkTGVuZ3RoKHgpJiZlLnNldCh4LDAsMCwxKSxlLm5vcm1hbGl6ZSh4LHgpLGUuc2NhbGUkMih4LHgsZS5HTE9CRV9SQURJVVMpLHMuY2VudGVyPWUuZWNlZlRvTGF0TG5nKHgpO2NvbnN0IGI9cy5nZXRXb3JsZFRvQ2FtZXJhTWF0cml4KCksdz1lLmludmVydChuZXcgRmxvYXQ2NEFycmF5KDE2KSxiKTt2PWUuQWFiYi5hcHBseVRyYW5zZm9ybSh2LGUubXVsdGlwbHkoW10sYix5KSksZS50cmFuc2Zvcm1NYXQ0KHgseCxiKTtjb25zdCBUPS41Kih2Lm1heFsyXS12Lm1pblsyXSksRT10aGlzLl9taW5pbXVtQUFCQkZydXN0dW1EaXN0YW5jZShzLHYpLFM9ZS5zY2FsZSQyKFtdLFswLDAsMV0sVCksTT1lLmFkZChTLHgsUyksST1FKygwPT09cy5waXRjaD8wOmUuZGlzdGFuY2UoeCxNKSksQz1zLmdsb2JlQ2VudGVySW5WaWV3U3BhY2Usaz1lLnN1YihbXSx4LFtDWzBdLENbMV0sQ1syXV0pO2Uubm9ybWFsaXplKGssayksZS5zY2FsZSQyKGssayxJKTtjb25zdCBBPWUuYWRkKFtdLHgsayk7ZS50cmFuc2Zvcm1NYXQ0KEEsQSx3KTtjb25zdCBQPWUuZWFydGhSYWRpdXMvZS5HTE9CRV9SQURJVVMsej1lLmxlbmd0aChBKSxEPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKHoqUC1lLmVhcnRoUmFkaXVzLDApLEw9TWF0aC5taW4ocy56b29tRnJvbU1lcmNhdG9yWkFkanVzdGVkKEQpLGwubWF4Wm9vbSk7cmV0dXJuIEw+LjUqKGUuR0xPQkVfWk9PTV9USFJFU0hPTERfTUlOK2UuR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYKT8ocy5zZXRQcm9qZWN0aW9uKHtuYW1lOlwibWVyY2F0b3JcIn0pLHMuem9vbT1MLHRoaXMuX2NhbWVyYUZvckJvdW5kcyhzLG4saSxyLG8sYSkpOntjZW50ZXI6cy5jZW50ZXIsem9vbTpMLGJlYXJpbmc6cixwaXRjaDpvfX1xdWVyeVRlcnJhaW5FbGV2YXRpb24odCxuKXtjb25zdCBpPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbjtyZXR1cm4gaT8obj1lLmV4dGVuZCh7fSx7ZXhhZ2dlcmF0ZWQ6ITB9LG4pLGkuZ2V0QXRQb2ludChlLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHQpLG51bGwsbi5leGFnZ2VyYXRlZCkpOm51bGx9X2NhbWVyYUZvckJvdW5kcyh0LG4saSxyLG8sYSl7aWYoXCJnbG9iZVwiPT09dC5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuIHRoaXMuX2NhbWVyYUZvckJvdW5kc09uR2xvYmUodCxuLGkscixvLGEpO2NvbnN0IHM9dC5jbG9uZSgpLGw9dGhpcy5fZXh0ZW5kQ2FtZXJhT3B0aW9ucyhhKSxjPXMucGFkZGluZztzLmJlYXJpbmc9cixzLnBpdGNoPW87Y29uc3QgdT1lLkxuZ0xhdC5jb252ZXJ0KG4pLGg9ZS5MbmdMYXQuY29udmVydChpKSxkPW5ldyBlLkxuZ0xhdCh1LmxuZyxoLmxhdCkscD1uZXcgZS5MbmdMYXQoaC5sbmcsdS5sYXQpLGY9cy5wcm9qZWN0KHUpLG09cy5wcm9qZWN0KGgpLGc9dGhpcy5xdWVyeVRlcnJhaW5FbGV2YXRpb24odSkseT10aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbihoKSxfPXRoaXMucXVlcnlUZXJyYWluRWxldmF0aW9uKGQpLHY9dGhpcy5xdWVyeVRlcnJhaW5FbGV2YXRpb24ocCkseD1bW2YueCxmLnksTWF0aC5taW4oZ3x8MCx5fHwwLF98fDAsdnx8MCldLFttLngsbS55LE1hdGgubWF4KGd8fDAseXx8MCxffHwwLHZ8fDApXV07bGV0IGI9ZS5BYWJiLmZyb21Qb2ludHMoeCk7Y29uc3Qgdz1zLmdldFdvcmxkVG9DYW1lcmFNYXRyaXgoKSxUPWUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHcpO2I9ZS5BYWJiLmFwcGx5VHJhbnNmb3JtKGIsdyk7Y29uc3QgRT1lLnN1YihbXSxiLm1heCxiLm1pbiksUz1jLmxlZnR8fDAsTT1jLnJpZ2h0fHwwLEk9Yy5ib3R0b218fDAsQz1jLnRvcHx8MCx7bGVmdDprLHJpZ2h0OkEsdG9wOlAsYm90dG9tOnp9PWwucGFkZGluZyxEPS41KihTK00pLEw9LjUqKEMrSSksTz1NYXRoLm1pbihzLnNjYWxlWm9vbShzLnNjYWxlKk1hdGgubWluKChzLndpZHRoLShTK00raytBKSkvRVswXSwocy5oZWlnaHQtKEkrQyt6K1ApKS9FWzFdKSksbC5tYXhab29tKSxSPXMuc2NhbGUvcy56b29tU2NhbGUoTyk7Yj1uZXcgZS5BYWJiKFtiLm1pblswXS0oaytEKSpSLGIubWluWzFdLSh6K0wpKlIsYi5taW5bMl1dLFtiLm1heFswXSsoQStEKSpSLGIubWF4WzFdKyhQK0wpKlIsYi5tYXhbMl1dKTtjb25zdCBCPS41KkVbMl0saj10aGlzLl9taW5pbXVtQUFCQkZydXN0dW1EaXN0YW5jZShzLGIpLEY9WzAsMCwxLDBdO2UudHJhbnNmb3JtTWF0NCQxKEYsRix3KSxlLm5vcm1hbGl6ZSQyKEYsRik7Y29uc3QgTj1lLnNjYWxlJDIoW10sRixqK0IpLFU9ZS5hZGQoW10sYi5jZW50ZXIsTiksVj0oXCJudW1iZXJcIj09dHlwZW9mIGwub2Zmc2V0LngmJlwibnVtYmVyXCI9PXR5cGVvZiBsLm9mZnNldC55P25ldyBlLnBvaW50R2VvbWV0cnkobC5vZmZzZXQueCxsLm9mZnNldC55KTplLnBvaW50R2VvbWV0cnkuY29udmVydChsLm9mZnNldCkpLnJvdGF0ZSgtZS5kZWdUb1JhZChyKSk7Yi5jZW50ZXJbMF0tPVYueCpSLGIuY2VudGVyWzFdKz1WLnkqUixlLnRyYW5zZm9ybU1hdDQoYi5jZW50ZXIsYi5jZW50ZXIsVCksZS50cmFuc2Zvcm1NYXQ0KFUsVSxUKTtjb25zdCBHPVtiLmNlbnRlclswXSxiLmNlbnRlclsxXSxVWzJdKnMucGl4ZWxzUGVyTWV0ZXJdO2Uuc2NhbGUkMihHLEcsMS9zLndvcmxkU2l6ZSk7Y29uc3QgWj1lLmxuZ0Zyb21NZXJjYXRvclgoR1swXSksVz1lLmxhdEZyb21NZXJjYXRvclkoR1sxXSkscT1NYXRoLm1pbihzLl96b29tRnJvbU1lcmNhdG9yWihHWzJdKSxsLm1heFpvb20pLCQ9bmV3IGUuTG5nTGF0KFosVyk7cmV0dXJuIHMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbiYmcTwuNSooZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NSU4rZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NQVgpPyhzLnNldFByb2plY3Rpb24oe25hbWU6XCJnbG9iZVwifSkscy56b29tPXEsdGhpcy5fY2FtZXJhRm9yQm91bmRzKHMsbixpLHIsbyxhKSk6e2NlbnRlcjokLHpvb206cSxiZWFyaW5nOnIscGl0Y2g6b319Zml0Qm91bmRzKGUsdCxuKXtjb25zdCBpPXRoaXMuY2FtZXJhRm9yQm91bmRzKGUsdCk7cmV0dXJuIHRoaXMuX2ZpdEludGVybmFsKGksdCxuKX1maXRTY3JlZW5Db29yZGluYXRlcyh0LG4saSxyLG8pe2NvbnN0IGE9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCkscz1lLnBvaW50R2VvbWV0cnkuY29udmVydChuKSxsPW5ldyBlLnBvaW50R2VvbWV0cnkoTWF0aC5taW4oYS54LHMueCksTWF0aC5taW4oYS55LHMueSkpLGM9bmV3IGUucG9pbnRHZW9tZXRyeShNYXRoLm1heChhLngscy54KSxNYXRoLm1heChhLnkscy55KSk7aWYoXCJtZXJjYXRvclwiPT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lJiZ0aGlzLnRyYW5zZm9ybS5hbnlDb3JuZXJPZmZFZGdlKGEscykpcmV0dXJuIHRoaXM7Y29uc3QgdT10aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uM0QobCksaD10aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uM0QoYyksZD10aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uM0QobmV3IGUucG9pbnRHZW9tZXRyeShsLngsYy55KSkscD10aGlzLnRyYW5zZm9ybS5wb2ludExvY2F0aW9uM0QobmV3IGUucG9pbnRHZW9tZXRyeShjLngsbC55KSksZj1bTWF0aC5taW4odS5sbmcsaC5sbmcsZC5sbmcscC5sbmcpLE1hdGgubWluKHUubGF0LGgubGF0LGQubGF0LHAubGF0KV0sbT1bTWF0aC5tYXgodS5sbmcsaC5sbmcsZC5sbmcscC5sbmcpLE1hdGgubWF4KHUubGF0LGgubGF0LGQubGF0LHAubGF0KV0sZz1yJiZyLnBpdGNoP3IucGl0Y2g6dGhpcy5nZXRQaXRjaCgpLHk9dGhpcy5fY2FtZXJhRm9yQm91bmRzKHRoaXMudHJhbnNmb3JtLGYsbSxpLGcscik7cmV0dXJuIHRoaXMuX2ZpdEludGVybmFsKHkscixvKX1fZml0SW50ZXJuYWwodCxuLGkpe3JldHVybiB0PyhkZWxldGUobj1lLmV4dGVuZCh0LG4pKS5wYWRkaW5nLG4ubGluZWFyP3RoaXMuZWFzZVRvKG4saSk6dGhpcy5mbHlUbyhuLGkpKTp0aGlzfWp1bXBUbyh0LG4pe3RoaXMuc3RvcCgpO2NvbnN0IGk9dC5wcmVsb2FkT25seT90aGlzLnRyYW5zZm9ybS5jbG9uZSgpOnRoaXMudHJhbnNmb3JtO2xldCByPSExLG89ITEsYT0hMTtyZXR1cm5cInpvb21cImluIHQmJmkuem9vbSE9PSt0Lnpvb20mJihyPSEwLGkuem9vbT0rdC56b29tKSx2b2lkIDAhPT10LmNlbnRlciYmKGkuY2VudGVyPWUuTG5nTGF0LmNvbnZlcnQodC5jZW50ZXIpKSxcImJlYXJpbmdcImluIHQmJmkuYmVhcmluZyE9PSt0LmJlYXJpbmcmJihvPSEwLGkuYmVhcmluZz0rdC5iZWFyaW5nKSxcInBpdGNoXCJpbiB0JiZpLnBpdGNoIT09K3QucGl0Y2gmJihhPSEwLGkucGl0Y2g9K3QucGl0Y2gpLG51bGw9PXQucGFkZGluZ3x8aS5pc1BhZGRpbmdFcXVhbCh0LnBhZGRpbmcpfHwoaS5wYWRkaW5nPXQucGFkZGluZyksdC5wcmVsb2FkT25seT8odGhpcy5fcHJlbG9hZFRpbGVzKGkpLHRoaXMpOih0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3Zlc3RhcnRcIixuKSkuZmlyZShuZXcgZS5FdmVudChcIm1vdmVcIixuKSksciYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbXN0YXJ0XCIsbikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIsbikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tZW5kXCIsbikpLG8mJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZXN0YXJ0XCIsbikpLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVcIixuKSkuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZWVuZFwiLG4pKSxhJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaHN0YXJ0XCIsbikpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaFwiLG4pKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hlbmRcIixuKSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLG4pKSl9Z2V0RnJlZUNhbWVyYU9wdGlvbnMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZyZWVDYW1lcmF8fGUud2Fybk9uY2UoJHIpLHRoaXMudHJhbnNmb3JtLmdldEZyZWVDYW1lcmFPcHRpb25zKCl9c2V0RnJlZUNhbWVyYU9wdGlvbnModCxuKXtjb25zdCBpPXRoaXMudHJhbnNmb3JtO2lmKCFpLnByb2plY3Rpb24uc3VwcG9ydHNGcmVlQ2FtZXJhKXJldHVybiBlLndhcm5PbmNlKCRyKSx0aGlzO3RoaXMuc3RvcCgpO2NvbnN0IHI9aS56b29tLG89aS5waXRjaCxhPWkuYmVhcmluZztpLnNldEZyZWVDYW1lcmFPcHRpb25zKHQpO2NvbnN0IHM9ciE9PWkuem9vbSxsPW8hPT1pLnBpdGNoLGM9YSE9PWkuYmVhcmluZztyZXR1cm4gdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZXN0YXJ0XCIsbikpLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlXCIsbikpLHMmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInpvb21zdGFydFwiLG4pKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbVwiLG4pKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiLG4pKSxjJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVzdGFydFwiLG4pKS5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlXCIsbikpLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVlbmRcIixuKSksbCYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hzdGFydFwiLG4pKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hcIixuKSkuZmlyZShuZXcgZS5FdmVudChcInBpdGNoZW5kXCIsbikpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVlbmRcIixuKSksdGhpc31lYXNlVG8odCxuKXt0aGlzLl9zdG9wKCExLHQuZWFzZUlkKSwoITE9PT0odD1lLmV4dGVuZCh7b2Zmc2V0OlswLDBdLGR1cmF0aW9uOjUwMCxlYXNpbmc6ZS5lYXNlfSx0KSkuYW5pbWF0ZXx8IXQuZXNzZW50aWFsJiZlLmV4cG9ydGVkLnByZWZlcnNSZWR1Y2VkTW90aW9uKSYmKHQuZHVyYXRpb249MCk7Y29uc3QgaT10aGlzLnRyYW5zZm9ybSxyPXRoaXMuZ2V0Wm9vbSgpLG89dGhpcy5nZXRCZWFyaW5nKCksYT10aGlzLmdldFBpdGNoKCkscz10aGlzLmdldFBhZGRpbmcoKSxsPVwiem9vbVwiaW4gdD8rdC56b29tOnIsYz1cImJlYXJpbmdcImluIHQ/dGhpcy5fbm9ybWFsaXplQmVhcmluZyh0LmJlYXJpbmcsbyk6byx1PVwicGl0Y2hcImluIHQ/K3QucGl0Y2g6YSxoPVwicGFkZGluZ1wiaW4gdD90LnBhZGRpbmc6aS5wYWRkaW5nLGQ9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodC5vZmZzZXQpO2xldCBwLGYsbTtpZihcImdsb2JlXCI9PT1pLnByb2plY3Rpb24ubmFtZSl7Y29uc3Qgbj1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KGkuY2VudGVyKSxyPWQucm90YXRlKC1pLmFuZ2xlKTtuLngrPXIueC9pLndvcmxkU2l6ZSxuLnkrPXIueS9pLndvcmxkU2l6ZTtjb25zdCBvPW4udG9MbmdMYXQoKSxhPWUuTG5nTGF0LmNvbnZlcnQodC5jZW50ZXJ8fG8pO3RoaXMuX25vcm1hbGl6ZUNlbnRlcihhKSxwPWkuY2VudGVyUG9pbnQuYWRkKHIpLGY9bmV3IGUucG9pbnRHZW9tZXRyeShuLngsbi55KS5tdWx0KGkud29ybGRTaXplKSxtPW5ldyBlLnBvaW50R2VvbWV0cnkoZS5tZXJjYXRvclhmcm9tTG5nKGEubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQoYS5sYXQpKS5tdWx0KGkud29ybGRTaXplKS5zdWIoZil9ZWxzZXtwPWkuY2VudGVyUG9pbnQuYWRkKGQpO2NvbnN0IG49aS5wb2ludExvY2F0aW9uKHApLHI9ZS5MbmdMYXQuY29udmVydCh0LmNlbnRlcnx8bik7dGhpcy5fbm9ybWFsaXplQ2VudGVyKHIpLGY9aS5wcm9qZWN0KG4pLG09aS5wcm9qZWN0KHIpLnN1YihmKX1jb25zdCBnPWkuem9vbVNjYWxlKGwtcik7bGV0IHksXzt0LmFyb3VuZCYmKHk9ZS5MbmdMYXQuY29udmVydCh0LmFyb3VuZCksXz1pLmxvY2F0aW9uUG9pbnQoeSkpO2NvbnN0IHY9dGhpcy5fem9vbWluZ3x8bCE9PXIseD10aGlzLl9yb3RhdGluZ3x8byE9PWMsYj10aGlzLl9waXRjaGluZ3x8dSE9PWEsdz0haS5pc1BhZGRpbmdFcXVhbChoKSxUPWk9PlQ9PntpZih2JiYoaS56b29tPWUubnVtYmVyKHIsbCxUKSkseCYmKGkuYmVhcmluZz1lLm51bWJlcihvLGMsVCkpLGImJihpLnBpdGNoPWUubnVtYmVyKGEsdSxUKSksdyYmKGkuaW50ZXJwb2xhdGVQYWRkaW5nKHMsaCxUKSxwPWkuY2VudGVyUG9pbnQuYWRkKGQpKSx5KWkuc2V0TG9jYXRpb25BdFBvaW50KHksXyk7ZWxzZXtjb25zdCBlPWkuem9vbVNjYWxlKGkuem9vbS1yKSx0PWw+cj9NYXRoLm1pbigyLGcpOk1hdGgubWF4KC41LGcpLG49TWF0aC5wb3codCwxLVQpLG89aS51bnByb2plY3QoZi5hZGQobS5tdWx0KFQqbikpLm11bHQoZSkpO2kuc2V0TG9jYXRpb25BdFBvaW50KGkucmVuZGVyV29ybGRDb3BpZXM/by53cmFwKCk6byxwKX1yZXR1cm4gdC5wcmVsb2FkT25seXx8dGhpcy5fZmlyZU1vdmVFdmVudHMobiksaX07aWYodC5wcmVsb2FkT25seSl7Y29uc3QgZT10aGlzLl9lbXVsYXRlKFQsdC5kdXJhdGlvbixpKTtyZXR1cm4gdGhpcy5fcHJlbG9hZFRpbGVzKGUpLHRoaXN9Y29uc3QgRT17bW92aW5nOnRoaXMuX21vdmluZyx6b29taW5nOnRoaXMuX3pvb21pbmcscm90YXRpbmc6dGhpcy5fcm90YXRpbmcscGl0Y2hpbmc6dGhpcy5fcGl0Y2hpbmd9O3JldHVybiB0aGlzLl96b29taW5nPXYsdGhpcy5fcm90YXRpbmc9eCx0aGlzLl9waXRjaGluZz1iLHRoaXMuX3BhZGRpbmc9dyx0aGlzLl9lYXNlSWQ9dC5lYXNlSWQsdGhpcy5fcHJlcGFyZUVhc2Uobix0Lm5vTW92ZVN0YXJ0LEUpLHRoaXMuX2Vhc2UoVChpKSxlPT57aS5yZWNlbnRlck9uVGVycmFpbigpLHRoaXMuX2FmdGVyRWFzZShuLGUpfSx0KSx0aGlzfV9wcmVwYXJlRWFzZSh0LG4saT17fSl7dGhpcy5fbW92aW5nPSEwLHRoaXMudHJhbnNmb3JtLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cInNlYVwiLG58fGkubW92aW5nfHx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3Zlc3RhcnRcIix0KSksdGhpcy5fem9vbWluZyYmIWkuem9vbWluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbXN0YXJ0XCIsdCkpLHRoaXMuX3JvdGF0aW5nJiYhaS5yb3RhdGluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlc3RhcnRcIix0KSksdGhpcy5fcGl0Y2hpbmcmJiFpLnBpdGNoaW5nJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaHN0YXJ0XCIsdCkpfV9maXJlTW92ZUV2ZW50cyh0KXt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlXCIsdCkpLHRoaXMuX3pvb21pbmcmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInpvb21cIix0KSksdGhpcy5fcm90YXRpbmcmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZVwiLHQpKSx0aGlzLl9waXRjaGluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hcIix0KSl9X2FmdGVyRWFzZSh0LG4pe2lmKHRoaXMuX2Vhc2VJZCYmbiYmdGhpcy5fZWFzZUlkPT09bilyZXR1cm47dGhpcy5fZWFzZUlkPXZvaWQgMCx0aGlzLnRyYW5zZm9ybS5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIjtjb25zdCBpPXRoaXMuX3pvb21pbmcscj10aGlzLl9yb3RhdGluZyxvPXRoaXMuX3BpdGNoaW5nO3RoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMuX3JvdGF0aW5nPSExLHRoaXMuX3BpdGNoaW5nPSExLHRoaXMuX3BhZGRpbmc9ITEsaSYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiLHQpKSxyJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVlbmRcIix0KSksbyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hlbmRcIix0KSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLHQpKX1mbHlUbyh0LG4pe2lmKCF0LmVzc2VudGlhbCYmZS5leHBvcnRlZC5wcmVmZXJzUmVkdWNlZE1vdGlvbil7Y29uc3QgaT1lLnBpY2sodCxbXCJjZW50ZXJcIixcInpvb21cIixcImJlYXJpbmdcIixcInBpdGNoXCIsXCJhcm91bmRcIl0pO3JldHVybiB0aGlzLmp1bXBUbyhpLG4pfXRoaXMuc3RvcCgpLHQ9ZS5leHRlbmQoe29mZnNldDpbMCwwXSxzcGVlZDoxLjIsY3VydmU6MS40MixlYXNpbmc6ZS5lYXNlfSx0KTtjb25zdCBpPXRoaXMudHJhbnNmb3JtLHI9dGhpcy5nZXRab29tKCksbz10aGlzLmdldEJlYXJpbmcoKSxhPXRoaXMuZ2V0UGl0Y2goKSxzPXRoaXMuZ2V0UGFkZGluZygpLGw9XCJ6b29tXCJpbiB0P2UuY2xhbXAoK3Quem9vbSxpLm1pblpvb20saS5tYXhab29tKTpyLGM9XCJiZWFyaW5nXCJpbiB0P3RoaXMuX25vcm1hbGl6ZUJlYXJpbmcodC5iZWFyaW5nLG8pOm8sdT1cInBpdGNoXCJpbiB0Pyt0LnBpdGNoOmEsaD1cInBhZGRpbmdcImluIHQ/dC5wYWRkaW5nOmkucGFkZGluZyxkPWkuem9vbVNjYWxlKGwtcikscD1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0Lm9mZnNldCk7bGV0IGY9aS5jZW50ZXJQb2ludC5hZGQocCk7Y29uc3QgbT1pLnBvaW50TG9jYXRpb24oZiksZz1lLkxuZ0xhdC5jb252ZXJ0KHQuY2VudGVyfHxtKTt0aGlzLl9ub3JtYWxpemVDZW50ZXIoZyk7Y29uc3QgeT1pLnByb2plY3QobSksXz1pLnByb2plY3QoZykuc3ViKHkpO2xldCB2PXQuY3VydmU7Y29uc3QgeD1NYXRoLm1heChpLndpZHRoLGkuaGVpZ2h0KSxiPXgvZCx3PV8ubWFnKCk7aWYoXCJtaW5ab29tXCJpbiB0KXtjb25zdCBuPWUuY2xhbXAoTWF0aC5taW4odC5taW5ab29tLHIsbCksaS5taW5ab29tLGkubWF4Wm9vbSksbz14L2kuem9vbVNjYWxlKG4tcik7dj1NYXRoLnNxcnQoby93KjIpfWNvbnN0IFQ9dip2O2Z1bmN0aW9uIEUoZSl7Y29uc3QgdD0oYipiLXgqeCsoZT8tMToxKSpUKlQqdyp3KS8oMiooZT9iOngpKlQqdyk7cmV0dXJuIE1hdGgubG9nKE1hdGguc3FydCh0KnQrMSktdCl9ZnVuY3Rpb24gUyhlKXtyZXR1cm4oTWF0aC5leHAoZSktTWF0aC5leHAoLWUpKS8yfWZ1bmN0aW9uIE0oZSl7cmV0dXJuKE1hdGguZXhwKGUpK01hdGguZXhwKC1lKSkvMn1jb25zdCBJPUUoMCk7bGV0IEM9ZnVuY3Rpb24oZSl7cmV0dXJuIE0oSSkvTShJK3YqZSl9LGs9ZnVuY3Rpb24oZSl7cmV0dXJuIHgqKChNKEkpKihTKHQ9SSt2KmUpL00odCkpLVMoSSkpL1QpL3c7dmFyIHR9LEE9KEUoMSktSSkvdjtpZihNYXRoLmFicyh3KTwxZS02fHwhaXNGaW5pdGUoQSkpe2lmKE1hdGguYWJzKHgtYik8MWUtNilyZXR1cm4gdGhpcy5lYXNlVG8odCxuKTtjb25zdCBlPWI8eD8tMToxO0E9TWF0aC5hYnMoTWF0aC5sb2coYi94KSkvdixrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9LEM9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguZXhwKGUqdip0KX19dC5kdXJhdGlvbj1cImR1cmF0aW9uXCJpbiB0Pyt0LmR1cmF0aW9uOjFlMypBLyhcInNjcmVlblNwZWVkXCJpbiB0Pyt0LnNjcmVlblNwZWVkL3Y6K3Quc3BlZWQpLHQubWF4RHVyYXRpb24mJnQuZHVyYXRpb24+dC5tYXhEdXJhdGlvbiYmKHQuZHVyYXRpb249MCk7Y29uc3QgUD1vIT09Yyx6PXUhPT1hLEQ9IWkuaXNQYWRkaW5nRXF1YWwoaCksTD1pPT5kPT57Y29uc3QgbT1kKkEsdj0xL0MobSk7aS56b29tPTE9PT1kP2w6citpLnNjYWxlWm9vbSh2KSxQJiYoaS5iZWFyaW5nPWUubnVtYmVyKG8sYyxkKSkseiYmKGkucGl0Y2g9ZS5udW1iZXIoYSx1LGQpKSxEJiYoaS5pbnRlcnBvbGF0ZVBhZGRpbmcocyxoLGQpLGY9aS5jZW50ZXJQb2ludC5hZGQocCkpO2NvbnN0IHg9MT09PWQ/ZzppLnVucHJvamVjdCh5LmFkZChfLm11bHQoayhtKSkpLm11bHQodikpO3JldHVybiBpLnNldExvY2F0aW9uQXRQb2ludChpLnJlbmRlcldvcmxkQ29waWVzP3gud3JhcCgpOngsZiksaS5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCksdC5wcmVsb2FkT25seXx8dGhpcy5fZmlyZU1vdmVFdmVudHMobiksaX07aWYodC5wcmVsb2FkT25seSl7Y29uc3QgZT10aGlzLl9lbXVsYXRlKEwsdC5kdXJhdGlvbixpKTtyZXR1cm4gdGhpcy5fcHJlbG9hZFRpbGVzKGUpLHRoaXN9cmV0dXJuIHRoaXMuX3pvb21pbmc9ITAsdGhpcy5fcm90YXRpbmc9UCx0aGlzLl9waXRjaGluZz16LHRoaXMuX3BhZGRpbmc9RCx0aGlzLl9wcmVwYXJlRWFzZShuLCExKSx0aGlzLl9lYXNlKEwoaSksKCk9PnRoaXMuX2FmdGVyRWFzZShuKSx0KSx0aGlzfWlzRWFzaW5nKCl7cmV0dXJuISF0aGlzLl9lYXNlRnJhbWVJZH1zdG9wKCl7cmV0dXJuIHRoaXMuX3N0b3AoKX1fc3RvcChlLHQpe2lmKHRoaXMuX2Vhc2VGcmFtZUlkJiYodGhpcy5fY2FuY2VsUmVuZGVyRnJhbWUodGhpcy5fZWFzZUZyYW1lSWQpLHRoaXMuX2Vhc2VGcmFtZUlkPXZvaWQgMCx0aGlzLl9vbkVhc2VGcmFtZT12b2lkIDApLHRoaXMuX29uRWFzZUVuZCl7Y29uc3QgZT10aGlzLl9vbkVhc2VFbmQ7dGhpcy5fb25FYXNlRW5kPXZvaWQgMCxlLmNhbGwodGhpcyx0KX1pZighZSl7Y29uc3QgZT10aGlzLmhhbmRsZXJzO2UmJmUuc3RvcCghMSl9cmV0dXJuIHRoaXN9X2Vhc2UodCxuLGkpeyExPT09aS5hbmltYXRlfHwwPT09aS5kdXJhdGlvbj8odCgxKSxuKCkpOih0aGlzLl9lYXNlU3RhcnQ9ZS5leHBvcnRlZC5ub3coKSx0aGlzLl9lYXNlT3B0aW9ucz1pLHRoaXMuX29uRWFzZUZyYW1lPXQsdGhpcy5fb25FYXNlRW5kPW4sdGhpcy5fZWFzZUZyYW1lSWQ9dGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spKX1fcmVuZGVyRnJhbWVDYWxsYmFjaygpe2NvbnN0IHQ9TWF0aC5taW4oKGUuZXhwb3J0ZWQubm93KCktdGhpcy5fZWFzZVN0YXJ0KS90aGlzLl9lYXNlT3B0aW9ucy5kdXJhdGlvbiwxKSxuPXRoaXMuX29uRWFzZUZyYW1lO24mJm4odGhpcy5fZWFzZU9wdGlvbnMuZWFzaW5nKHQpKSx0PDE/dGhpcy5fZWFzZUZyYW1lSWQ9dGhpcy5fcmVxdWVzdFJlbmRlckZyYW1lKHRoaXMuX3JlbmRlckZyYW1lQ2FsbGJhY2spOnRoaXMuc3RvcCgpfV9ub3JtYWxpemVCZWFyaW5nKHQsbil7dD1lLndyYXAodCwtMTgwLDE4MCk7Y29uc3QgaT1NYXRoLmFicyh0LW4pO3JldHVybiBNYXRoLmFicyh0LTM2MC1uKTxpJiYodC09MzYwKSxNYXRoLmFicyh0KzM2MC1uKTxpJiYodCs9MzYwKSx0fV9ub3JtYWxpemVDZW50ZXIoZSl7Y29uc3QgdD10aGlzLnRyYW5zZm9ybTtpZighdC5yZW5kZXJXb3JsZENvcGllc3x8dC5tYXhCb3VuZHMpcmV0dXJuO2NvbnN0IG49ZS5sbmctdC5jZW50ZXIubG5nO2UubG5nKz1uPjE4MD8tMzYwOm48LTE4MD8zNjA6MH1fZW11bGF0ZShlLHQsbil7Y29uc3QgaT1NYXRoLmNlaWwoMTUqdC8xZTMpLHI9W10sbz1lKG4uY2xvbmUoKSk7Zm9yKGxldCBlPTA7ZTw9aTtlKyspe2NvbnN0IHQ9byhlL2kpO3IucHVzaCh0LmNsb25lKCkpfXJldHVybiByfX1jbGFzcyBYcntjb25zdHJ1Y3Rvcih0PXt9KXt0aGlzLm9wdGlvbnM9dCxlLmJpbmRBbGwoW1wiX3RvZ2dsZUF0dHJpYnV0aW9uXCIsXCJfdXBkYXRlRWRpdExpbmtcIixcIl91cGRhdGVEYXRhXCIsXCJfdXBkYXRlQ29tcGFjdFwiXSx0aGlzKX1nZXREZWZhdWx0UG9zaXRpb24oKXtyZXR1cm5cImJvdHRvbS1yaWdodFwifW9uQWRkKGUpe2NvbnN0IHQ9dGhpcy5vcHRpb25zJiZ0aGlzLm9wdGlvbnMuY29tcGFjdDtyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1hdHRyaWJcIiksdGhpcy5fY29tcGFjdEJ1dHRvbj1vKFwiYnV0dG9uXCIsXCJtYXBib3hnbC1jdHJsLWF0dHJpYi1idXR0b25cIix0aGlzLl9jb250YWluZXIpLG8oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl9jb21wYWN0QnV0dG9uKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLl9jb21wYWN0QnV0dG9uLnR5cGU9XCJidXR0b25cIix0aGlzLl9jb21wYWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX3RvZ2dsZUF0dHJpYnV0aW9uKSx0aGlzLl9zZXRFbGVtZW50VGl0bGUodGhpcy5fY29tcGFjdEJ1dHRvbixcIlRvZ2dsZUF0dHJpYnV0aW9uXCIpLHRoaXMuX2lubmVyQ29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwtYXR0cmliLWlubmVyXCIsdGhpcy5fY29udGFpbmVyKSx0aGlzLl9pbm5lckNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJsaXN0XCIpLHQmJnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY29tcGFjdFwiKSx0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKSx0aGlzLl91cGRhdGVFZGl0TGluaygpLHRoaXMuX21hcC5vbihcInN0eWxlZGF0YVwiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vbihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlRWRpdExpbmspLHZvaWQgMD09PXQmJih0aGlzLl9tYXAub24oXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl91cGRhdGVDb21wYWN0KCkpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe3RoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXAub2ZmKFwic3R5bGVkYXRhXCIsdGhpcy5fdXBkYXRlRGF0YSksdGhpcy5fbWFwLm9mZihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKSx0aGlzLl9tYXAub2ZmKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fbWFwPXZvaWQgMCx0aGlzLl9hdHRyaWJIVE1MPXZvaWQgMH1fc2V0RWxlbWVudFRpdGxlKGUsdCl7Y29uc3Qgbj10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiQXR0cmlidXRpb25Db250cm9sLlwiK3QpO2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLG4pLGUucmVtb3ZlQXR0cmlidXRlKFwidGl0bGVcIiksZS5maXJzdEVsZW1lbnRDaGlsZCYmZS5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLG4pfV90b2dnbGVBdHRyaWJ1dGlvbigpe3RoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJtYXBib3hnbC1jb21wYWN0LXNob3dcIik/KHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY29tcGFjdC1zaG93XCIpLHRoaXMuX2NvbXBhY3RCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIikpOih0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWNvbXBhY3Qtc2hvd1wiKSx0aGlzLl9jb21wYWN0QnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIikpfV91cGRhdGVFZGl0TGluaygpe2xldCB0PXRoaXMuX2VkaXRMaW5rO3R8fCh0PXRoaXMuX2VkaXRMaW5rPXRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1hcGJveC1pbXByb3ZlLW1hcFwiKSk7Y29uc3Qgbj1be2tleTpcIm93bmVyXCIsdmFsdWU6dGhpcy5zdHlsZU93bmVyfSx7a2V5OlwiaWRcIix2YWx1ZTp0aGlzLnN0eWxlSWR9LHtrZXk6XCJhY2Nlc3NfdG9rZW5cIix2YWx1ZTp0aGlzLl9tYXAuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbnx8ZS5jb25maWcuQUNDRVNTX1RPS0VOfV07aWYodCl7Y29uc3QgaT1uLnJlZHVjZSgoZSx0LGkpPT4odC52YWx1ZSYmKGUrPWAke3Qua2V5fT0ke3QudmFsdWV9JHtpPG4ubGVuZ3RoLTE/XCImXCI6XCJcIn1gKSxlKSxcIj9cIik7dC5ocmVmPWAke2UuY29uZmlnLkZFRURCQUNLX1VSTH0vJHtpfSMke1FpKHRoaXMuX21hcCwhMCl9YCx0LnJlbD1cIm5vb3BlbmVyIG5vZm9sbG93XCIsdGhpcy5fc2V0RWxlbWVudFRpdGxlKHQsXCJNYXBGZWVkYmFja1wiKX19X3VwZGF0ZURhdGEoZSl7IWV8fFwibWV0YWRhdGFcIiE9PWUuc291cmNlRGF0YVR5cGUmJlwidmlzaWJpbGl0eVwiIT09ZS5zb3VyY2VEYXRhVHlwZSYmXCJzdHlsZVwiIT09ZS5kYXRhVHlwZXx8KHRoaXMuX3VwZGF0ZUF0dHJpYnV0aW9ucygpLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKCkpfV91cGRhdGVBdHRyaWJ1dGlvbnMoKXtpZighdGhpcy5fbWFwLnN0eWxlKXJldHVybjtsZXQgZT1bXTtpZih0aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldCl7Y29uc3QgZT10aGlzLl9tYXAuc3R5bGUuc3R5bGVzaGVldDt0aGlzLnN0eWxlT3duZXI9ZS5vd25lcix0aGlzLnN0eWxlSWQ9ZS5pZH1jb25zdCB0PXRoaXMuX21hcC5zdHlsZS5fc291cmNlQ2FjaGVzO2Zvcihjb25zdCBuIGluIHQpe2NvbnN0IGk9dFtuXTtpZihpLnVzZWQpe2NvbnN0IHQ9aS5nZXRTb3VyY2UoKTt0LmF0dHJpYnV0aW9uJiZlLmluZGV4T2YodC5hdHRyaWJ1dGlvbik8MCYmZS5wdXNoKHQuYXR0cmlidXRpb24pfX1lLnNvcnQoKGUsdCk9PmUubGVuZ3RoLXQubGVuZ3RoKSxlPWUuZmlsdGVyKCh0LG4pPT57Zm9yKGxldCBpPW4rMTtpPGUubGVuZ3RoO2krKylpZihlW2ldLmluZGV4T2YodCk+PTApcmV0dXJuITE7cmV0dXJuITB9KSx0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24mJihBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbik/ZT1bLi4udGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uLC4uLmVdOmUudW5zaGlmdCh0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24pKTtjb25zdCBuPWUuam9pbihcIiB8IFwiKTtuIT09dGhpcy5fYXR0cmliSFRNTCYmKHRoaXMuX2F0dHJpYkhUTUw9bixlLmxlbmd0aD8odGhpcy5faW5uZXJDb250YWluZXIuaW5uZXJIVE1MPW4sdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1hdHRyaWItZW1wdHlcIikpOnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtYXR0cmliLWVtcHR5XCIpLHRoaXMuX2VkaXRMaW5rPW51bGwpfV91cGRhdGVDb21wYWN0KCl7dGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLm9mZnNldFdpZHRoPD02NDA/dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0XCIpOnRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY29tcGFjdFwiLFwibWFwYm94Z2wtY29tcGFjdC1zaG93XCIpfX1jbGFzcyBZcntjb25zdHJ1Y3Rvcigpe2UuYmluZEFsbChbXCJfdXBkYXRlTG9nb1wiLFwiX3VwZGF0ZUNvbXBhY3RcIl0sdGhpcyl9b25BZGQoZSl7dGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmxcIik7Y29uc3QgdD1vKFwiYVwiLFwibWFwYm94Z2wtY3RybC1sb2dvXCIpO3JldHVybiB0LnRhcmdldD1cIl9ibGFua1wiLHQucmVsPVwibm9vcGVuZXIgbm9mb2xsb3dcIix0LmhyZWY9XCJodHRwczovL3d3dy5tYXBib3guY29tL1wiLHQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJMb2dvQ29udHJvbC5UaXRsZVwiKSksdC5zZXRBdHRyaWJ1dGUoXCJyZWxcIixcIm5vb3BlbmVyIG5vZm9sbG93XCIpLHRoaXMuX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0KSx0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheT1cIm5vbmVcIix0aGlzLl9tYXAub24oXCJzb3VyY2VkYXRhXCIsdGhpcy5fdXBkYXRlTG9nbyksdGhpcy5fdXBkYXRlTG9nbygpLHRoaXMuX21hcC5vbihcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZUNvbXBhY3QpLHRoaXMuX3VwZGF0ZUNvbXBhY3QoKSx0aGlzLl9jb250YWluZXJ9b25SZW1vdmUoKXt0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWFwLm9mZihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVMb2dvKSx0aGlzLl9tYXAub2ZmKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCl9Z2V0RGVmYXVsdFBvc2l0aW9uKCl7cmV0dXJuXCJib3R0b20tbGVmdFwifV91cGRhdGVMb2dvKGUpe2UmJlwibWV0YWRhdGFcIiE9PWUuc291cmNlRGF0YVR5cGV8fCh0aGlzLl9jb250YWluZXIuc3R5bGUuZGlzcGxheT10aGlzLl9sb2dvUmVxdWlyZWQoKT9cImJsb2NrXCI6XCJub25lXCIpfV9sb2dvUmVxdWlyZWQoKXtpZighdGhpcy5fbWFwLnN0eWxlKXJldHVybiEwO2NvbnN0IGU9dGhpcy5fbWFwLnN0eWxlLl9zb3VyY2VDYWNoZXM7aWYoMD09PU9iamVjdC5lbnRyaWVzKGUpLmxlbmd0aClyZXR1cm4hMDtmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBuPWVbdF0uZ2V0U291cmNlKCk7aWYobi5oYXNPd25Qcm9wZXJ0eShcIm1hcGJveF9sb2dvXCIpJiYhbi5tYXBib3hfbG9nbylyZXR1cm4hMX1yZXR1cm4hMH1fdXBkYXRlQ29tcGFjdCgpe2NvbnN0IGU9dGhpcy5fY29udGFpbmVyLmNoaWxkcmVuO2lmKGUubGVuZ3RoKXtjb25zdCB0PWVbMF07dGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLm9mZnNldFdpZHRoPDI1MD90LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0XCIpOnQuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNvbXBhY3RcIil9fX1jbGFzcyBKcntjb25zdHJ1Y3Rvcigpe3RoaXMuX3F1ZXVlPVtdLHRoaXMuX2lkPTAsdGhpcy5fY2xlYXJlZD0hMSx0aGlzLl9jdXJyZW50bHlSdW5uaW5nPSExfWFkZChlKXtjb25zdCB0PSsrdGhpcy5faWQ7cmV0dXJuIHRoaXMuX3F1ZXVlLnB1c2goe2NhbGxiYWNrOmUsaWQ6dCxjYW5jZWxsZWQ6ITF9KSx0fXJlbW92ZShlKXtjb25zdCB0PXRoaXMuX2N1cnJlbnRseVJ1bm5pbmcsbj10P3RoaXMuX3F1ZXVlLmNvbmNhdCh0KTp0aGlzLl9xdWV1ZTtmb3IoY29uc3QgdCBvZiBuKWlmKHQuaWQ9PT1lKXJldHVybiB2b2lkKHQuY2FuY2VsbGVkPSEwKX1ydW4oZT0wKXtjb25zdCB0PXRoaXMuX2N1cnJlbnRseVJ1bm5pbmc9dGhpcy5fcXVldWU7dGhpcy5fcXVldWU9W107Zm9yKGNvbnN0IG4gb2YgdClpZighbi5jYW5jZWxsZWQmJihuLmNhbGxiYWNrKGUpLHRoaXMuX2NsZWFyZWQpKWJyZWFrO3RoaXMuX2NsZWFyZWQ9ITEsdGhpcy5fY3VycmVudGx5UnVubmluZz0hMX1jbGVhcigpe3RoaXMuX2N1cnJlbnRseVJ1bm5pbmcmJih0aGlzLl9jbGVhcmVkPSEwKSx0aGlzLl9xdWV1ZT1bXX19ZnVuY3Rpb24gUXIodCxuLGkpe2lmKHQ9bmV3IGUuTG5nTGF0KHQubG5nLHQubGF0KSxuKXtjb25zdCByPW5ldyBlLkxuZ0xhdCh0LmxuZy0zNjAsdC5sYXQpLG89bmV3IGUuTG5nTGF0KHQubG5nKzM2MCx0LmxhdCksYT0zNjAqTWF0aC5jZWlsKE1hdGguYWJzKHQubG5nLWkuY2VudGVyLmxuZykvMzYwKSxzPWkubG9jYXRpb25Qb2ludCh0KS5kaXN0U3FyKG4pLGw9bi54PDB8fG4ueTwwfHxuLng+aS53aWR0aHx8bi55PmkuaGVpZ2h0O2kubG9jYXRpb25Qb2ludChyKS5kaXN0U3FyKG4pPHMmJihsfHxNYXRoLmFicyhyLmxuZy1pLmNlbnRlci5sbmcpPGEpP3Q9cjppLmxvY2F0aW9uUG9pbnQobykuZGlzdFNxcihuKTxzJiYobHx8TWF0aC5hYnMoby5sbmctaS5jZW50ZXIubG5nKTxhKSYmKHQ9byl9Zm9yKDtNYXRoLmFicyh0LmxuZy1pLmNlbnRlci5sbmcpPjE4MDspe2NvbnN0IGU9aS5sb2NhdGlvblBvaW50KHQpO2lmKGUueD49MCYmZS55Pj0wJiZlLng8PWkud2lkdGgmJmUueTw9aS5oZWlnaHQpYnJlYWs7dC5sbmc+aS5jZW50ZXIubG5nP3QubG5nLT0zNjA6dC5sbmcrPTM2MH1yZXR1cm4gdH1jb25zdCBLcj17Y2VudGVyOlwidHJhbnNsYXRlKC01MCUsLTUwJSlcIix0b3A6XCJ0cmFuc2xhdGUoLTUwJSwwKVwiLFwidG9wLWxlZnRcIjpcInRyYW5zbGF0ZSgwLDApXCIsXCJ0b3AtcmlnaHRcIjpcInRyYW5zbGF0ZSgtMTAwJSwwKVwiLGJvdHRvbTpcInRyYW5zbGF0ZSgtNTAlLC0xMDAlKVwiLFwiYm90dG9tLWxlZnRcIjpcInRyYW5zbGF0ZSgwLC0xMDAlKVwiLFwiYm90dG9tLXJpZ2h0XCI6XCJ0cmFuc2xhdGUoLTEwMCUsLTEwMCUpXCIsbGVmdDpcInRyYW5zbGF0ZSgwLC01MCUpXCIscmlnaHQ6XCJ0cmFuc2xhdGUoLTEwMCUsLTUwJSlcIn07Y2xhc3MgZW8gZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxuKXtpZihzdXBlcigpLCh0IGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEVsZW1lbnR8fG4pJiYodD1lLmV4dGVuZCh7ZWxlbWVudDp0fSxuKSksZS5iaW5kQWxsKFtcIl91cGRhdGVcIixcIl9vbk1vdmVcIixcIl9vblVwXCIsXCJfYWRkRHJhZ0hhbmRsZXJcIixcIl9vbk1hcENsaWNrXCIsXCJfb25LZXlQcmVzc1wiLFwiX2NsZWFyRmFkZVRpbWVyXCJdLHRoaXMpLHRoaXMuX2FuY2hvcj10JiZ0LmFuY2hvcnx8XCJjZW50ZXJcIix0aGlzLl9jb2xvcj10JiZ0LmNvbG9yfHxcIiMzRkIxQ0VcIix0aGlzLl9zY2FsZT10JiZ0LnNjYWxlfHwxLHRoaXMuX2RyYWdnYWJsZT10JiZ0LmRyYWdnYWJsZXx8ITEsdGhpcy5fY2xpY2tUb2xlcmFuY2U9dCYmdC5jbGlja1RvbGVyYW5jZXx8MCx0aGlzLl9pc0RyYWdnaW5nPSExLHRoaXMuX3N0YXRlPVwiaW5hY3RpdmVcIix0aGlzLl9yb3RhdGlvbj10JiZ0LnJvdGF0aW9ufHwwLHRoaXMuX3JvdGF0aW9uQWxpZ25tZW50PXQmJnQucm90YXRpb25BbGlnbm1lbnR8fFwiYXV0b1wiLHRoaXMuX3BpdGNoQWxpZ25tZW50PXQmJnQucGl0Y2hBbGlnbm1lbnQmJnQucGl0Y2hBbGlnbm1lbnR8fFwiYXV0b1wiLHRoaXMuX3VwZGF0ZU1vdmluZz0oKT0+dGhpcy5fdXBkYXRlKCEwKSx0aGlzLl9vY2NsdWRlZE9wYWNpdHk9dCYmdC5vY2NsdWRlZE9wYWNpdHl8fC4yLHQmJnQuZWxlbWVudCl0aGlzLl9lbGVtZW50PXQuZWxlbWVudCx0aGlzLl9vZmZzZXQ9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCYmdC5vZmZzZXR8fFswLDBdKTtlbHNle3RoaXMuX2RlZmF1bHRNYXJrZXI9ITAsdGhpcy5fZWxlbWVudD1vKFwiZGl2XCIpO2NvbnN0IG49NDEsaT0yNyxyPWEoXCJzdmdcIix7ZGlzcGxheTpcImJsb2NrXCIsaGVpZ2h0Om4qdGhpcy5fc2NhbGUrXCJweFwiLHdpZHRoOmkqdGhpcy5fc2NhbGUrXCJweFwiLHZpZXdCb3g6YDAgMCAke2l9ICR7bn1gfSx0aGlzLl9lbGVtZW50KSxzPWEoXCJyYWRpYWxHcmFkaWVudFwiLHtpZDpcInNoYWRvd0dyYWRpZW50XCJ9LGEoXCJkZWZzXCIse30scikpO2EoXCJzdG9wXCIse29mZnNldDpcIjEwJVwiLFwic3RvcC1vcGFjaXR5XCI6LjR9LHMpLGEoXCJzdG9wXCIse29mZnNldDpcIjEwMCVcIixcInN0b3Atb3BhY2l0eVwiOi4wNX0scyksYShcImVsbGlwc2VcIix7Y3g6MTMuNSxjeTozNC44LHJ4OjEwLjUscnk6NS4yNSxmaWxsOlwidXJsKCNzaGFkb3dHcmFkaWVudClcIn0sciksYShcInBhdGhcIix7ZmlsbDp0aGlzLl9jb2xvcixkOlwiTTI3LDEzLjVDMjcsMTkuMDcgMjAuMjUsMjcgMTQuNzUsMzQuNUMxNC4wMiwzNS41IDEyLjk4LDM1LjUgMTIuMjUsMzQuNUM2Ljc1LDI3IDAsMTkuMjIgMCwxMy41QzAsNi4wNCA2LjA0LDAgMTMuNSwwQzIwLjk2LDAgMjcsNi4wNCAyNywxMy41WlwifSxyKSxhKFwicGF0aFwiLHtvcGFjaXR5Oi4yNSxkOlwiTTEzLjUsMEM2LjA0LDAgMCw2LjA0IDAsMTMuNUMwLDE5LjIyIDYuNzUsMjcgMTIuMjUsMzQuNUMxMywzNS41MiAxNC4wMiwzNS41IDE0Ljc1LDM0LjVDMjAuMjUsMjcgMjcsMTkuMDcgMjcsMTMuNUMyNyw2LjA0IDIwLjk2LDAgMTMuNSwwWk0xMy41LDFDMjAuNDIsMSAyNiw2LjU4IDI2LDEzLjVDMjYsMTUuOSAyNC41LDE5LjE4IDIyLjIyLDIyLjc0QzE5Ljk1LDI2LjMgMTYuNzEsMzAuMTQgMTMuOTQsMzMuOTFDMTMuNzQsMzQuMTggMTMuNjEsMzQuMzIgMTMuNSwzNC40NEMxMy4zOSwzNC4zMiAxMy4yNiwzNC4xOCAxMy4wNiwzMy45MUMxMC4yOCwzMC4xMyA3LjQxLDI2LjMxIDUuMDIsMjIuNzdDMi42MiwxOS4yMyAxLDE1Ljk1IDEsMTMuNUMxLDYuNTggNi41OCwxIDEzLjUsMVpcIn0sciksYShcImNpcmNsZVwiLHtmaWxsOlwid2hpdGVcIixjeDoxMy41LGN5OjEzLjUscjo1LjV9LHIpLHRoaXMuX29mZnNldD1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0JiZ0Lm9mZnNldHx8WzAsLTE0XSl9dGhpcy5fZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpfHx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixcIk1hcCBtYXJrZXJcIiksdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtbWFya2VyXCIpLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLGU9PntlLnByZXZlbnREZWZhdWx0KCl9KSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixlPT57ZS5wcmV2ZW50RGVmYXVsdCgpfSk7Y29uc3QgaT10aGlzLl9lbGVtZW50LmNsYXNzTGlzdDtmb3IoY29uc3QgZSBpbiBLcilpLnJlbW92ZShcIm1hcGJveGdsLW1hcmtlci1hbmNob3ItXCIrZSk7aS5hZGQoXCJtYXBib3hnbC1tYXJrZXItYW5jaG9yLVwiK3RoaXMuX2FuY2hvciksdGhpcy5fcG9wdXA9bnVsbH1hZGRUbyhlKXtyZXR1cm4gZT09PXRoaXMuX21hcHx8KHRoaXMucmVtb3ZlKCksdGhpcy5fbWFwPWUsZS5nZXRDYW52YXNDb250YWluZXIoKS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KSxlLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZU1vdmluZyksZS5vbihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGUpLGUub24oXCJyZW1vdmVcIix0aGlzLl9jbGVhckZhZGVUaW1lciksZS5fYWRkTWFya2VyKHRoaXMpLHRoaXMuc2V0RHJhZ2dhYmxlKHRoaXMuX2RyYWdnYWJsZSksdGhpcy5fdXBkYXRlKCksZS5vbihcImNsaWNrXCIsdGhpcy5fb25NYXBDbGljaykpLHRoaXN9cmVtb3ZlKCl7Y29uc3QgZT10aGlzLl9tYXA7cmV0dXJuIGUmJihlLm9mZihcImNsaWNrXCIsdGhpcy5fb25NYXBDbGljayksZS5vZmYoXCJtb3ZlXCIsdGhpcy5fdXBkYXRlTW92aW5nKSxlLm9mZihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGUpLGUub2ZmKFwibW91c2Vkb3duXCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLGUub2ZmKFwidG91Y2hzdGFydFwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSxlLm9mZihcIm1vdXNldXBcIix0aGlzLl9vblVwKSxlLm9mZihcInRvdWNoZW5kXCIsdGhpcy5fb25VcCksZS5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLGUub2ZmKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlKSxlLm9mZihcInJlbW92ZVwiLHRoaXMuX2NsZWFyRmFkZVRpbWVyKSxlLl9yZW1vdmVNYXJrZXIodGhpcyksdGhpcy5fbWFwPXZvaWQgMCksdGhpcy5fY2xlYXJGYWRlVGltZXIoKSx0aGlzLl9lbGVtZW50LnJlbW92ZSgpLHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5yZW1vdmUoKSx0aGlzfWdldExuZ0xhdCgpe3JldHVybiB0aGlzLl9sbmdMYXR9c2V0TG5nTGF0KHQpe3JldHVybiB0aGlzLl9sbmdMYXQ9ZS5MbmdMYXQuY29udmVydCh0KSx0aGlzLl9wb3M9bnVsbCx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fdXBkYXRlKCEwKSx0aGlzfWdldEVsZW1lbnQoKXtyZXR1cm4gdGhpcy5fZWxlbWVudH1zZXRQb3B1cChlKXtpZih0aGlzLl9wb3B1cCYmKHRoaXMuX3BvcHVwLnJlbW92ZSgpLHRoaXMuX3BvcHVwPW51bGwsdGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJyb2xlXCIpLHRoaXMuX2VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsdGhpcy5fb25LZXlQcmVzcyksdGhpcy5fb3JpZ2luYWxUYWJJbmRleHx8dGhpcy5fZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSksZSl7aWYoIShcIm9mZnNldFwiaW4gZS5vcHRpb25zKSl7Y29uc3QgdD0zOC4xLG49MTMuNSxpPU1hdGguc3FydChNYXRoLnBvdyhuLDIpLzIpO2Uub3B0aW9ucy5vZmZzZXQ9dGhpcy5fZGVmYXVsdE1hcmtlcj97dG9wOlswLDBdLFwidG9wLWxlZnRcIjpbMCwwXSxcInRvcC1yaWdodFwiOlswLDBdLGJvdHRvbTpbMCwtdF0sXCJib3R0b20tbGVmdFwiOltpLC0xKih0LW4raSldLFwiYm90dG9tLXJpZ2h0XCI6Wy1pLC0xKih0LW4raSldLGxlZnQ6W24sLTEqKHQtbildLHJpZ2h0OlstbiwtMSoodC1uKV19OnRoaXMuX29mZnNldH10aGlzLl9wb3B1cD1lLGUuX21hcmtlcj10aGlzLHRoaXMuX2xuZ0xhdCYmdGhpcy5fcG9wdXAuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJidXR0b25cIiksdGhpcy5fb3JpZ2luYWxUYWJJbmRleD10aGlzLl9lbGVtZW50LmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpLHRoaXMuX29yaWdpbmFsVGFiSW5kZXh8fHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIiksdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIix0aGlzLl9vbktleVByZXNzKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpfXJldHVybiB0aGlzfV9vbktleVByZXNzKGUpe2NvbnN0IHQ9ZS5jb2RlLG49ZS5jaGFyQ29kZXx8ZS5rZXlDb2RlO1wiU3BhY2VcIiE9PXQmJlwiRW50ZXJcIiE9PXQmJjMyIT09biYmMTMhPT1ufHx0aGlzLnRvZ2dsZVBvcHVwKCl9X29uTWFwQ2xpY2soZSl7Y29uc3QgdD1lLm9yaWdpbmFsRXZlbnQudGFyZ2V0LG49dGhpcy5fZWxlbWVudDt0aGlzLl9wb3B1cCYmKHQ9PT1ufHxuLmNvbnRhaW5zKHQpKSYmdGhpcy50b2dnbGVQb3B1cCgpfWdldFBvcHVwKCl7cmV0dXJuIHRoaXMuX3BvcHVwfXRvZ2dsZVBvcHVwKCl7Y29uc3QgZT10aGlzLl9wb3B1cDtyZXR1cm4gZT8oZS5pc09wZW4oKT8oZS5yZW1vdmUoKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpKTp0aGlzLl9tYXAmJihlLmFkZFRvKHRoaXMuX21hcCksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpKSx0aGlzKTp0aGlzfV9iZWhpbmRUZXJyYWluKCl7Y29uc3QgZT10aGlzLl9tYXAsdD10aGlzLl9wb3M7aWYoIWV8fCF0KXJldHVybiExO2NvbnN0IG49ZS51bnByb2plY3QodCksaT1lLmdldEZyZWVDYW1lcmFPcHRpb25zKCk7aWYoIWkucG9zaXRpb24pcmV0dXJuITE7Y29uc3Qgcj1pLnBvc2l0aW9uLnRvTG5nTGF0KCk7cmV0dXJuIHIuZGlzdGFuY2VUbyhuKTwuOSpyLmRpc3RhbmNlVG8odGhpcy5fbG5nTGF0KX1fZXZhbHVhdGVPcGFjaXR5KCl7Y29uc3QgdD10aGlzLl9tYXA7aWYoIXQpcmV0dXJuO2NvbnN0IG49dGhpcy5fcG9zO2lmKCFufHxuLng8MHx8bi54PnQudHJhbnNmb3JtLndpZHRofHxuLnk8MHx8bi55PnQudHJhbnNmb3JtLmhlaWdodClyZXR1cm4gdm9pZCB0aGlzLl9jbGVhckZhZGVUaW1lcigpO2NvbnN0IGk9dC51bnByb2plY3Qobik7bGV0IHI7dC5fc2hvd2luZ0dsb2JlKCkmJmUuaXNMbmdMYXRCZWhpbmRHbG9iZSh0LnRyYW5zZm9ybSx0aGlzLl9sbmdMYXQpP3I9MDoocj0xLXQuX3F1ZXJ5Rm9nT3BhY2l0eShpKSx0LnRyYW5zZm9ybS5fdGVycmFpbkVuYWJsZWQoKSYmdC5nZXRUZXJyYWluKCkmJnRoaXMuX2JlaGluZFRlcnJhaW4oKSYmKHIqPXRoaXMuX29jY2x1ZGVkT3BhY2l0eSkpLHRoaXMuX2VsZW1lbnQuc3R5bGUub3BhY2l0eT1cIlwiK3IsdGhpcy5fZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPXI+MD9cImF1dG9cIjpcIm5vbmVcIix0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAuX3NldE9wYWNpdHkociksdGhpcy5fZmFkZVRpbWVyPW51bGx9X2NsZWFyRmFkZVRpbWVyKCl7dGhpcy5fZmFkZVRpbWVyJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2ZhZGVUaW1lciksdGhpcy5fZmFkZVRpbWVyPW51bGwpfV91cGRhdGVET00oKXtjb25zdCBlPXRoaXMuX3BvcztpZighZXx8IXRoaXMuX21hcClyZXR1cm47Y29uc3QgdD10aGlzLl9vZmZzZXQubXVsdCh0aGlzLl9zY2FsZSk7dGhpcy5fZWxlbWVudC5zdHlsZS50cmFuc2Zvcm09YFxcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgke2UueH1weCwke2UueX1weClcXG4gICAgICAgICAgICAke0tyW3RoaXMuX2FuY2hvcl19XFxuICAgICAgICAgICAgJHt0aGlzLl9jYWxjdWxhdGVYWVRyYW5zZm9ybSgpfSAke3RoaXMuX2NhbGN1bGF0ZVpUcmFuc2Zvcm0oKX1cXG4gICAgICAgICAgICB0cmFuc2xhdGUoJHt0Lnh9cHgsJHt0Lnl9cHgpXFxuICAgICAgICBgfV9jYWxjdWxhdGVYWVRyYW5zZm9ybSgpe2NvbnN0IHQ9dGhpcy5fcG9zLG49dGhpcy5fbWFwLGk9dGhpcy5nZXRQaXRjaEFsaWdubWVudCgpO2lmKCFufHwhdHx8XCJtYXBcIiE9PWkpcmV0dXJuXCJcIjtpZighbi5fc2hvd2luZ0dsb2JlKCkpe2NvbnN0IGU9bi5nZXRQaXRjaCgpO3JldHVybiBlP2Byb3RhdGVYKCR7ZX1kZWcpYDpcIlwifWNvbnN0IHI9ZS5yYWRUb0RlZyhlLmdsb2JlVGlsdEF0TG5nTGF0KG4udHJhbnNmb3JtLHRoaXMuX2xuZ0xhdCkpLG89dC5zdWIoZS5nbG9iZUNlbnRlclRvU2NyZWVuUG9pbnQobi50cmFuc2Zvcm0pKSxhPU1hdGguYWJzKG8ueCkrTWF0aC5hYnMoby55KTtpZigwPT09YSlyZXR1cm5cIlwiO2NvbnN0IHM9ci9hO3JldHVybmByb3RhdGVYKCR7LW8ueSpzfWRlZykgcm90YXRlWSgke28ueCpzfWRlZylgfV9jYWxjdWxhdGVaVHJhbnNmb3JtKCl7Y29uc3QgdD10aGlzLl9wb3Msbj10aGlzLl9tYXA7aWYoIW58fCF0KXJldHVyblwiXCI7bGV0IGk9MDtjb25zdCByPXRoaXMuZ2V0Um90YXRpb25BbGlnbm1lbnQoKTtpZihcIm1hcFwiPT09cilpZihuLl9zaG93aW5nR2xvYmUoKSl7Y29uc3QgdD1uLnByb2plY3QobmV3IGUuTG5nTGF0KHRoaXMuX2xuZ0xhdC5sbmcsdGhpcy5fbG5nTGF0LmxhdCsuMDAxKSkscj1uLnByb2plY3QobmV3IGUuTG5nTGF0KHRoaXMuX2xuZ0xhdC5sbmcsdGhpcy5fbG5nTGF0LmxhdC0uMDAxKSkuc3ViKHQpO2k9ZS5yYWRUb0RlZyhNYXRoLmF0YW4yKHIueSxyLngpKS05MH1lbHNlIGk9LW4uZ2V0QmVhcmluZygpO2Vsc2UgaWYoXCJob3Jpem9uXCI9PT1yKXtjb25zdCByPWUuc21vb3Roc3RlcCg0LDYsbi5nZXRab29tKCkpLG89ZS5nbG9iZUNlbnRlclRvU2NyZWVuUG9pbnQobi50cmFuc2Zvcm0pO28ueSs9cipuLnRyYW5zZm9ybS5oZWlnaHQ7Y29uc3QgYT10LnN1YihvKSxzPWUucmFkVG9EZWcoTWF0aC5hdGFuMihhLnksYS54KSk7aT0ocz45MD9zLTI3MDpzKzkwKSooMS1yKX1yZXR1cm4gaSs9dGhpcy5fcm90YXRpb24saT9gcm90YXRlWigke2l9ZGVnKWA6XCJcIn1fdXBkYXRlKHQpe2Uud2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuX3VwZGF0ZUZyYW1lSWQpO2NvbnN0IG49dGhpcy5fbWFwO24mJihuLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllcyYmKHRoaXMuX2xuZ0xhdD1Rcih0aGlzLl9sbmdMYXQsdGhpcy5fcG9zLG4udHJhbnNmb3JtKSksdGhpcy5fcG9zPW4ucHJvamVjdCh0aGlzLl9sbmdMYXQpLCEwPT09dD90aGlzLl91cGRhdGVGcmFtZUlkPWUud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e3RoaXMuX2VsZW1lbnQmJnRoaXMuX3BvcyYmdGhpcy5fYW5jaG9yJiYodGhpcy5fcG9zPXRoaXMuX3Bvcy5yb3VuZCgpLHRoaXMuX3VwZGF0ZURPTSgpKX0pOnRoaXMuX3Bvcz10aGlzLl9wb3Mucm91bmQoKSxuLl9yZXF1ZXN0RG9tVGFzaygoKT0+e3RoaXMuX21hcCYmKHRoaXMuX2VsZW1lbnQmJnRoaXMuX3BvcyYmdGhpcy5fYW5jaG9yJiZ0aGlzLl91cGRhdGVET00oKSwobi5fc2hvd2luZ0dsb2JlKCl8fG4uZ2V0VGVycmFpbigpfHxuLmdldEZvZygpKSYmIXRoaXMuX2ZhZGVUaW1lciYmKHRoaXMuX2ZhZGVUaW1lcj1zZXRUaW1lb3V0KHRoaXMuX2V2YWx1YXRlT3BhY2l0eS5iaW5kKHRoaXMpLDYwKSkpfSkpfWdldE9mZnNldCgpe3JldHVybiB0aGlzLl9vZmZzZXR9c2V0T2Zmc2V0KHQpe3JldHVybiB0aGlzLl9vZmZzZXQ9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCksdGhpcy5fdXBkYXRlKCksdGhpc31fb25Nb3ZlKHQpe2NvbnN0IG49dGhpcy5fbWFwO2lmKCFuKXJldHVybjtjb25zdCBpPXRoaXMuX3BvaW50ZXJkb3duUG9zLHI9dGhpcy5fcG9zaXRpb25EZWx0YTtpZihpJiZyKXtpZighdGhpcy5faXNEcmFnZ2luZyl7Y29uc3QgZT10aGlzLl9jbGlja1RvbGVyYW5jZXx8bi5fY2xpY2tUb2xlcmFuY2U7aWYodC5wb2ludC5kaXN0KGkpPGUpcmV0dXJuO3RoaXMuX2lzRHJhZ2dpbmc9ITB9dGhpcy5fcG9zPXQucG9pbnQuc3ViKHIpLHRoaXMuX2xuZ0xhdD1uLnVucHJvamVjdCh0aGlzLl9wb3MpLHRoaXMuc2V0TG5nTGF0KHRoaXMuX2xuZ0xhdCksdGhpcy5fZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPVwibm9uZVwiLFwicGVuZGluZ1wiPT09dGhpcy5fc3RhdGUmJih0aGlzLl9zdGF0ZT1cImFjdGl2ZVwiLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRyYWdzdGFydFwiKSkpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRyYWdcIikpfX1fb25VcCgpe3RoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz1cImF1dG9cIix0aGlzLl9wb3NpdGlvbkRlbHRhPW51bGwsdGhpcy5fcG9pbnRlcmRvd25Qb3M9bnVsbCx0aGlzLl9pc0RyYWdnaW5nPSExO2NvbnN0IHQ9dGhpcy5fbWFwO3QmJih0Lm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW92ZSksdC5vZmYoXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUpKSxcImFjdGl2ZVwiPT09dGhpcy5fc3RhdGUmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcImRyYWdlbmRcIikpLHRoaXMuX3N0YXRlPVwiaW5hY3RpdmVcIn1fYWRkRHJhZ0hhbmRsZXIoZSl7Y29uc3QgdD10aGlzLl9tYXAsbj10aGlzLl9wb3M7dCYmbiYmdGhpcy5fZWxlbWVudC5jb250YWlucyhlLm9yaWdpbmFsRXZlbnQudGFyZ2V0KSYmKGUucHJldmVudERlZmF1bHQoKSx0aGlzLl9wb3NpdGlvbkRlbHRhPWUucG9pbnQuc3ViKG4pLHRoaXMuX3BvaW50ZXJkb3duUG9zPWUucG9pbnQsdGhpcy5fc3RhdGU9XCJwZW5kaW5nXCIsdC5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW92ZSksdC5vbihcInRvdWNobW92ZVwiLHRoaXMuX29uTW92ZSksdC5vbmNlKFwibW91c2V1cFwiLHRoaXMuX29uVXApLHQub25jZShcInRvdWNoZW5kXCIsdGhpcy5fb25VcCkpfXNldERyYWdnYWJsZShlKXt0aGlzLl9kcmFnZ2FibGU9ISFlO2NvbnN0IHQ9dGhpcy5fbWFwO3JldHVybiB0JiYoZT8odC5vbihcIm1vdXNlZG93blwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSx0Lm9uKFwidG91Y2hzdGFydFwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSk6KHQub2ZmKFwibW91c2Vkb3duXCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLHQub2ZmKFwidG91Y2hzdGFydFwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSkpLHRoaXN9aXNEcmFnZ2FibGUoKXtyZXR1cm4gdGhpcy5fZHJhZ2dhYmxlfXNldFJvdGF0aW9uKGUpe3JldHVybiB0aGlzLl9yb3RhdGlvbj1lfHwwLHRoaXMuX3VwZGF0ZSgpLHRoaXN9Z2V0Um90YXRpb24oKXtyZXR1cm4gdGhpcy5fcm90YXRpb259c2V0Um90YXRpb25BbGlnbm1lbnQoZSl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uQWxpZ25tZW50PWV8fFwiYXV0b1wiLHRoaXMuX3VwZGF0ZSgpLHRoaXN9Z2V0Um90YXRpb25BbGlnbm1lbnQoKXtyZXR1cm5cImF1dG9cIj09PXRoaXMuX3JvdGF0aW9uQWxpZ25tZW50fHxcImhvcml6b25cIj09PXRoaXMuX3JvdGF0aW9uQWxpZ25tZW50JiZ0aGlzLl9tYXAmJiF0aGlzLl9tYXAuX3Nob3dpbmdHbG9iZSgpP1widmlld3BvcnRcIjp0aGlzLl9yb3RhdGlvbkFsaWdubWVudH1zZXRQaXRjaEFsaWdubWVudChlKXtyZXR1cm4gdGhpcy5fcGl0Y2hBbGlnbm1lbnQ9ZXx8XCJhdXRvXCIsdGhpcy5fdXBkYXRlKCksdGhpc31nZXRQaXRjaEFsaWdubWVudCgpe3JldHVyblwiYXV0b1wiPT09dGhpcy5fcGl0Y2hBbGlnbm1lbnQ/dGhpcy5nZXRSb3RhdGlvbkFsaWdubWVudCgpOnRoaXMuX3BpdGNoQWxpZ25tZW50fXNldE9jY2x1ZGVkT3BhY2l0eShlKXtyZXR1cm4gdGhpcy5fb2NjbHVkZWRPcGFjaXR5PWV8fC4yLHRoaXMuX3VwZGF0ZSgpLHRoaXN9Z2V0T2NjbHVkZWRPcGFjaXR5KCl7cmV0dXJuIHRoaXMuX29jY2x1ZGVkT3BhY2l0eX19Y29uc3QgdG89e2Nsb3NlQnV0dG9uOiEwLGNsb3NlT25DbGljazohMCxmb2N1c0FmdGVyT3BlbjohMCxjbGFzc05hbWU6XCJcIixtYXhXaWR0aDpcIjI0MHB4XCJ9LG5vPVtcImFbaHJlZl1cIixcIlt0YWJpbmRleF06bm90KFt0YWJpbmRleD0nLTEnXSlcIixcIltjb250ZW50ZWRpdGFibGVdOm5vdChbY29udGVudGVkaXRhYmxlPSdmYWxzZSddKVwiLFwiYnV0dG9uOm5vdChbZGlzYWJsZWRdKVwiLFwiaW5wdXQ6bm90KFtkaXNhYmxlZF0pXCIsXCJzZWxlY3Q6bm90KFtkaXNhYmxlZF0pXCIsXCJ0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSlcIl0uam9pbihcIiwgXCIpO2Z1bmN0aW9uIGlvKHQ9bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLG49XCJib3R0b21cIil7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe2NvbnN0IGk9TWF0aC5yb3VuZChNYXRoLnNxcnQoLjUqTWF0aC5wb3codCwyKSkpO3N3aXRjaChuKXtjYXNlXCJ0b3BcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgwLHQpO2Nhc2VcInRvcC1sZWZ0XCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoaSxpKTtjYXNlXCJ0b3AtcmlnaHRcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgtaSxpKTtjYXNlXCJib3R0b21cIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgwLC10KTtjYXNlXCJib3R0b20tbGVmdFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KGksLWkpO2Nhc2VcImJvdHRvbS1yaWdodFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KC1pLC1pKTtjYXNlXCJsZWZ0XCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkodCwwKTtjYXNlXCJyaWdodFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KC10LDApfXJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCl9cmV0dXJuIHQgaW5zdGFuY2VvZiBlLnBvaW50R2VvbWV0cnl8fEFycmF5LmlzQXJyYXkodCk/ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCk6ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodFtuXXx8WzAsMF0pfWNsYXNzIHJve2NvbnN0cnVjdG9yKGUpe3RoaXMuanVtcFRvKGUpfWdldFZhbHVlKHQpe2lmKHQ8PXRoaXMuX3N0YXJ0VGltZSlyZXR1cm4gdGhpcy5fc3RhcnQ7aWYodD49dGhpcy5fZW5kVGltZSlyZXR1cm4gdGhpcy5fZW5kO2NvbnN0IG49ZS5lYXNlQ3ViaWNJbk91dCgodC10aGlzLl9zdGFydFRpbWUpLyh0aGlzLl9lbmRUaW1lLXRoaXMuX3N0YXJ0VGltZSkpO3JldHVybiB0aGlzLl9zdGFydCooMS1uKSt0aGlzLl9lbmQqbn1pc0Vhc2luZyhlKXtyZXR1cm4gZT49dGhpcy5fc3RhcnRUaW1lJiZlPD10aGlzLl9lbmRUaW1lfWp1bXBUbyhlKXt0aGlzLl9zdGFydFRpbWU9LTEvMCx0aGlzLl9lbmRUaW1lPS0xLzAsdGhpcy5fc3RhcnQ9ZSx0aGlzLl9lbmQ9ZX1lYXNlVG8oZSx0LG4pe3RoaXMuX3N0YXJ0PXRoaXMuZ2V0VmFsdWUodCksdGhpcy5fZW5kPWUsdGhpcy5fc3RhcnRUaW1lPXQsdGhpcy5fZW5kVGltZT10K259fWNvbnN0IG9vPXtcIkF0dHJpYnV0aW9uQ29udHJvbC5Ub2dnbGVBdHRyaWJ1dGlvblwiOlwiVG9nZ2xlIGF0dHJpYnV0aW9uXCIsXCJBdHRyaWJ1dGlvbkNvbnRyb2wuTWFwRmVlZGJhY2tcIjpcIk1hcCBmZWVkYmFja1wiLFwiRnVsbHNjcmVlbkNvbnRyb2wuRW50ZXJcIjpcIkVudGVyIGZ1bGxzY3JlZW5cIixcIkZ1bGxzY3JlZW5Db250cm9sLkV4aXRcIjpcIkV4aXQgZnVsbHNjcmVlblwiLFwiR2VvbG9jYXRlQ29udHJvbC5GaW5kTXlMb2NhdGlvblwiOlwiRmluZCBteSBsb2NhdGlvblwiLFwiR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZVwiOlwiTG9jYXRpb24gbm90IGF2YWlsYWJsZVwiLFwiTG9nb0NvbnRyb2wuVGl0bGVcIjpcIk1hcGJveCBsb2dvXCIsXCJNYXAuVGl0bGVcIjpcIk1hcFwiLFwiTmF2aWdhdGlvbkNvbnRyb2wuUmVzZXRCZWFyaW5nXCI6XCJSZXNldCBiZWFyaW5nIHRvIG5vcnRoXCIsXCJOYXZpZ2F0aW9uQ29udHJvbC5ab29tSW5cIjpcIlpvb20gaW5cIixcIk5hdmlnYXRpb25Db250cm9sLlpvb21PdXRcIjpcIlpvb20gb3V0XCIsXCJTY3JvbGxab29tQmxvY2tlci5DdHJsTWVzc2FnZVwiOlwiVXNlIGN0cmwgKyBzY3JvbGwgdG8gem9vbSB0aGUgbWFwXCIsXCJTY3JvbGxab29tQmxvY2tlci5DbWRNZXNzYWdlXCI6XCJVc2Ug4oyYICsgc2Nyb2xsIHRvIHpvb20gdGhlIG1hcFwiLFwiVG91Y2hQYW5CbG9ja2VyLk1lc3NhZ2VcIjpcIlVzZSB0d28gZmluZ2VycyB0byBtb3ZlIHRoZSBtYXBcIn0sYW89e2NlbnRlcjpbMCwwXSx6b29tOjAsYmVhcmluZzowLHBpdGNoOjAsbWluWm9vbTotMixtYXhab29tOjIyLG1pblBpdGNoOjAsbWF4UGl0Y2g6ODUsaW50ZXJhY3RpdmU6ITAsc2Nyb2xsWm9vbTohMCxib3hab29tOiEwLGRyYWdSb3RhdGU6ITAsZHJhZ1BhbjohMCxrZXlib2FyZDohMCxkb3VibGVDbGlja1pvb206ITAsdG91Y2hab29tUm90YXRlOiEwLHRvdWNoUGl0Y2g6ITAsY29vcGVyYXRpdmVHZXN0dXJlczohMSxwZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uOiEwLGJlYXJpbmdTbmFwOjcsY2xpY2tUb2xlcmFuY2U6MyxwaXRjaFdpdGhSb3RhdGU6ITAsaGFzaDohMSxhdHRyaWJ1dGlvbkNvbnRyb2w6ITAsZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDohMSxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITEsdHJhY2tSZXNpemU6ITAsb3B0aW1pemVGb3JUZXJyYWluOiEwLHJlbmRlcldvcmxkQ29waWVzOiEwLHJlZnJlc2hFeHBpcmVkVGlsZXM6ITAsbWluVGlsZUNhY2hlU2l6ZTpudWxsLG1heFRpbGVDYWNoZVNpemU6bnVsbCxsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6XCJzYW5zLXNlcmlmXCIsbG9jYWxGb250RmFtaWx5Om51bGwsdHJhbnNmb3JtUmVxdWVzdDpudWxsLGFjY2Vzc1Rva2VuOm51bGwsZmFkZUR1cmF0aW9uOjMwMCxjcm9zc1NvdXJjZUNvbGxpc2lvbnM6ITB9LHNvPXtzaG93Q29tcGFzczohMCxzaG93Wm9vbTohMCx2aXN1YWxpemVQaXRjaDohMX07Y2xhc3MgbG97Y29uc3RydWN0b3IodCxuLGk9ITEpe3RoaXMuX2NsaWNrVG9sZXJhbmNlPTEwLHRoaXMuZWxlbWVudD1uLHRoaXMubW91c2VSb3RhdGU9bmV3IHhyKHtjbGlja1RvbGVyYW5jZTp0LmRyYWdSb3RhdGUuX21vdXNlUm90YXRlLl9jbGlja1RvbGVyYW5jZX0pLHRoaXMubWFwPXQsaSYmKHRoaXMubW91c2VQaXRjaD1uZXcgYnIoe2NsaWNrVG9sZXJhbmNlOnQuZHJhZ1JvdGF0ZS5fbW91c2VQaXRjaC5fY2xpY2tUb2xlcmFuY2V9KSksZS5iaW5kQWxsKFtcIm1vdXNlZG93blwiLFwibW91c2Vtb3ZlXCIsXCJtb3VzZXVwXCIsXCJ0b3VjaHN0YXJ0XCIsXCJ0b3VjaG1vdmVcIixcInRvdWNoZW5kXCIsXCJyZXNldFwiXSx0aGlzKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLm1vdXNlZG93biksbi5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMudG91Y2hzdGFydCx7cGFzc2l2ZTohMX0pLG4uYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMudG91Y2htb3ZlKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMudG91Y2hlbmQpLG4uYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5yZXNldCl9ZG93bihlLHQpe3RoaXMubW91c2VSb3RhdGUubW91c2Vkb3duKGUsdCksdGhpcy5tb3VzZVBpdGNoJiZ0aGlzLm1vdXNlUGl0Y2gubW91c2Vkb3duKGUsdCksdSgpfW1vdmUoZSx0KXtjb25zdCBuPXRoaXMubWFwLGk9dGhpcy5tb3VzZVJvdGF0ZS5tb3VzZW1vdmVXaW5kb3coZSx0KSxyPWkmJmkuYmVhcmluZ0RlbHRhO2lmKHImJm4uc2V0QmVhcmluZyhuLmdldEJlYXJpbmcoKStyKSx0aGlzLm1vdXNlUGl0Y2gpe2NvbnN0IGk9dGhpcy5tb3VzZVBpdGNoLm1vdXNlbW92ZVdpbmRvdyhlLHQpLHI9aSYmaS5waXRjaERlbHRhO3ImJm4uc2V0UGl0Y2gobi5nZXRQaXRjaCgpK3IpfX1vZmYoKXtjb25zdCBlPXRoaXMuZWxlbWVudDtlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIix0aGlzLm1vdXNlZG93biksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLHRoaXMudG91Y2hzdGFydCx7cGFzc2l2ZTohMX0pLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLHRoaXMudG91Y2htb3ZlKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLHRoaXMudG91Y2hlbmQpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoY2FuY2VsXCIsdGhpcy5yZXNldCksdGhpcy5vZmZUZW1wKCl9b2ZmVGVtcCgpe2goKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5tb3VzZW1vdmUpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5tb3VzZXVwKX1tb3VzZWRvd24odCl7dGhpcy5kb3duKGUuZXh0ZW5kKHt9LHQse2N0cmxLZXk6ITAscHJldmVudERlZmF1bHQ6KCk9PnQucHJldmVudERlZmF1bHQoKX0pLGYodGhpcy5lbGVtZW50LHQpKSxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5tb3VzZW1vdmUpLGUud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsdGhpcy5tb3VzZXVwKX1tb3VzZW1vdmUoZSl7dGhpcy5tb3ZlKGUsZih0aGlzLmVsZW1lbnQsZSkpfW1vdXNldXAoZSl7dGhpcy5tb3VzZVJvdGF0ZS5tb3VzZXVwV2luZG93KGUpLHRoaXMubW91c2VQaXRjaCYmdGhpcy5tb3VzZVBpdGNoLm1vdXNldXBXaW5kb3coZSksdGhpcy5vZmZUZW1wKCl9dG91Y2hzdGFydChlKXsxIT09ZS50YXJnZXRUb3VjaGVzLmxlbmd0aD90aGlzLnJlc2V0KCk6KHRoaXMuX3N0YXJ0UG9zPXRoaXMuX2xhc3RQb3M9bSh0aGlzLmVsZW1lbnQsZS50YXJnZXRUb3VjaGVzKVswXSx0aGlzLmRvd24oe3R5cGU6XCJtb3VzZWRvd25cIixidXR0b246MCxjdHJsS2V5OiEwLHByZXZlbnREZWZhdWx0OigpPT5lLnByZXZlbnREZWZhdWx0KCl9LHRoaXMuX3N0YXJ0UG9zKSl9dG91Y2htb3ZlKGUpezEhPT1lLnRhcmdldFRvdWNoZXMubGVuZ3RoP3RoaXMucmVzZXQoKToodGhpcy5fbGFzdFBvcz1tKHRoaXMuZWxlbWVudCxlLnRhcmdldFRvdWNoZXMpWzBdLHRoaXMubW92ZSh7cHJldmVudERlZmF1bHQ6KCk9PmUucHJldmVudERlZmF1bHQoKX0sdGhpcy5fbGFzdFBvcykpfXRvdWNoZW5kKGUpezA9PT1lLnRhcmdldFRvdWNoZXMubGVuZ3RoJiZ0aGlzLl9zdGFydFBvcyYmdGhpcy5fbGFzdFBvcyYmdGhpcy5fc3RhcnRQb3MuZGlzdCh0aGlzLl9sYXN0UG9zKTx0aGlzLl9jbGlja1RvbGVyYW5jZSYmdGhpcy5lbGVtZW50LmNsaWNrKCksdGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5tb3VzZVJvdGF0ZS5yZXNldCgpLHRoaXMubW91c2VQaXRjaCYmdGhpcy5tb3VzZVBpdGNoLnJlc2V0KCksZGVsZXRlIHRoaXMuX3N0YXJ0UG9zLGRlbGV0ZSB0aGlzLl9sYXN0UG9zLHRoaXMub2ZmVGVtcCgpfX1jb25zdCBjbz17cG9zaXRpb25PcHRpb25zOntlbmFibGVIaWdoQWNjdXJhY3k6ITEsbWF4aW11bUFnZTowLHRpbWVvdXQ6NmUzfSxmaXRCb3VuZHNPcHRpb25zOnttYXhab29tOjE1fSx0cmFja1VzZXJMb2NhdGlvbjohMSxzaG93QWNjdXJhY3lDaXJjbGU6ITAsc2hvd1VzZXJMb2NhdGlvbjohMCxzaG93VXNlckhlYWRpbmc6ITF9LHVvPXttYXhXaWR0aDoxMDAsdW5pdDpcIm1ldHJpY1wifTtmdW5jdGlvbiBobyhlLHQsbil7Y29uc3QgaT1wbyh0KSxyPWkvdCxvPXtraWxvbWV0ZXI6XCJrbVwiLG1ldGVyOlwibVwiLG1pbGU6XCJtaVwiLGZvb3Q6XCJmdFwiLFwibmF1dGljYWwtbWlsZVwiOlwibm1cIn1bbl07dGhpcy5fbWFwLl9yZXF1ZXN0RG9tVGFzaygoKT0+e3RoaXMuX2NvbnRhaW5lci5zdHlsZS53aWR0aD1lKnIrXCJweFwiLHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUw9YCR7aX0mbmJzcDske299YH0pfWZ1bmN0aW9uIHBvKGUpe2NvbnN0IHQ9TWF0aC5wb3coMTAsKFwiXCIrTWF0aC5mbG9vcihlKSkubGVuZ3RoLTEpO2xldCBuPWUvdDtyZXR1cm4gbj1uPj0xMD8xMDpuPj01PzU6bj49Mz8zOm4+PTI/MjpuPj0xPzE6ZnVuY3Rpb24oZSl7Y29uc3QgdD1NYXRoLnBvdygxMCxNYXRoLmNlaWwoLU1hdGgubG9nKGUpL01hdGguTE4xMCkpO3JldHVybiBNYXRoLnJvdW5kKGUqdCkvdH0obiksdCpufWNvbnN0IGZvPXt2ZXJzaW9uOmUudmVyc2lvbixzdXBwb3J0ZWQ6bixzZXRSVExUZXh0UGx1Z2luOmUuc2V0UlRMVGV4dFBsdWdpbixnZXRSVExUZXh0UGx1Z2luU3RhdHVzOmUuZ2V0UlRMVGV4dFBsdWdpblN0YXR1cyxNYXA6Y2xhc3MgZXh0ZW5kcyBIcntjb25zdHJ1Y3Rvcih0KXtpZihlLkxpdmVQZXJmb3JtYW5jZVV0aWxzLm1hcmsoZS5QZXJmb3JtYW5jZU1hcmtlcnMuY3JlYXRlKSxudWxsIT0odD1lLmV4dGVuZCh7fSxhbyx0KSkubWluWm9vbSYmbnVsbCE9dC5tYXhab29tJiZ0Lm1pblpvb20+dC5tYXhab29tKXRocm93IG5ldyBFcnJvcihcIm1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluWm9vbVwiKTtpZihudWxsIT10Lm1pblBpdGNoJiZudWxsIT10Lm1heFBpdGNoJiZ0Lm1pblBpdGNoPnQubWF4UGl0Y2gpdGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hcIik7aWYobnVsbCE9dC5taW5QaXRjaCYmdC5taW5QaXRjaDwwKXRocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDBcIik7aWYobnVsbCE9dC5tYXhQaXRjaCYmdC5tYXhQaXRjaD44NSl0aHJvdyBuZXcgRXJyb3IoXCJtYXhQaXRjaCBtdXN0IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byA4NVwiKTtpZih0LmFudGlhbGlhcyYmZS5pc1NhZmFyaVdpdGhBbnRpYWxpYXNpbmdCdWcoZS53aW5kb3cpJiYodC5hbnRpYWxpYXM9ITEsZS53YXJuT25jZShcIkFudGlhbGlhc2luZyBpcyBkaXNhYmxlZCBmb3IgdGhpcyBXZWJHTCBjb250ZXh0IHRvIGF2b2lkIGJyb3dzZXIgYnVnOiBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMTE2MDlcIikpLHN1cGVyKG5ldyBYaSh0Lm1pblpvb20sdC5tYXhab29tLHQubWluUGl0Y2gsdC5tYXhQaXRjaCx0LnJlbmRlcldvcmxkQ29waWVzKSx0KSx0aGlzLl9pbnRlcmFjdGl2ZT10LmludGVyYWN0aXZlLHRoaXMuX21pblRpbGVDYWNoZVNpemU9dC5taW5UaWxlQ2FjaGVTaXplLHRoaXMuX21heFRpbGVDYWNoZVNpemU9dC5tYXhUaWxlQ2FjaGVTaXplLHRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9dC5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LHRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcj10LnByZXNlcnZlRHJhd2luZ0J1ZmZlcix0aGlzLl9hbnRpYWxpYXM9dC5hbnRpYWxpYXMsdGhpcy5fdHJhY2tSZXNpemU9dC50cmFja1Jlc2l6ZSx0aGlzLl9iZWFyaW5nU25hcD10LmJlYXJpbmdTbmFwLHRoaXMuX3JlZnJlc2hFeHBpcmVkVGlsZXM9dC5yZWZyZXNoRXhwaXJlZFRpbGVzLHRoaXMuX2ZhZGVEdXJhdGlvbj10LmZhZGVEdXJhdGlvbix0aGlzLl9pc0luaXRpYWxMb2FkPSEwLHRoaXMuX2Nyb3NzU291cmNlQ29sbGlzaW9ucz10LmNyb3NzU291cmNlQ29sbGlzaW9ucyx0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc9dC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdGhpcy5fb3B0aW1pemVGb3JUZXJyYWluPXQub3B0aW1pemVGb3JUZXJyYWluLHRoaXMuX2xhbmd1YWdlPXRoaXMuX3BhcnNlTGFuZ3VhZ2UodC5sYW5ndWFnZSksdGhpcy5fd29ybGR2aWV3PXQud29ybGR2aWV3LHRoaXMuX3JlbmRlclRhc2tRdWV1ZT1uZXcgSnIsdGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlPW5ldyBKcix0aGlzLl9jb250cm9scz1bXSx0aGlzLl9tYXJrZXJzPVtdLHRoaXMuX3BvcHVwcz1bXSx0aGlzLl9tYXBJZD1lLnVuaXF1ZUlkKCksdGhpcy5fbG9jYWxlPWUuZXh0ZW5kKHt9LG9vLHQubG9jYWxlKSx0aGlzLl9jbGlja1RvbGVyYW5jZT10LmNsaWNrVG9sZXJhbmNlLHRoaXMuX2Nvb3BlcmF0aXZlR2VzdHVyZXM9dC5jb29wZXJhdGl2ZUdlc3R1cmVzLHRoaXMuX3BlcmZvcm1hbmNlTWV0cmljc0NvbGxlY3Rpb249dC5wZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uLHRoaXMuX2NvbnRhaW5lcldpZHRoPTAsdGhpcy5fY29udGFpbmVySGVpZ2h0PTAsdGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9LTEvMCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uPTAsdGhpcy5fYXZlcmFnZUVsZXZhdGlvbj1uZXcgcm8oMCksdGhpcy5faW50ZXJhY3Rpb25SYW5nZT1bMS8wLC0xLzBdLHRoaXMuX3Zpc2liaWxpdHlIaWRkZW49MCx0aGlzLl91c2VFeHBsaWNpdFByb2plY3Rpb249ITEsdGhpcy5fcmVxdWVzdE1hbmFnZXI9bmV3IGUuUmVxdWVzdE1hbmFnZXIodC50cmFuc2Zvcm1SZXF1ZXN0LHQuYWNjZXNzVG9rZW4sdC50ZXN0TW9kZSksdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnM9ISF0LnRlc3RNb2RlLFwic3RyaW5nXCI9PXR5cGVvZiB0LmNvbnRhaW5lcil7aWYodGhpcy5fY29udGFpbmVyPWUud2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQuY29udGFpbmVyKSwhdGhpcy5fY29udGFpbmVyKXRocm93IG5ldyBFcnJvcihgQ29udGFpbmVyICcke3QuY29udGFpbmVyfScgbm90IGZvdW5kLmApfWVsc2V7aWYoISh0LmNvbnRhaW5lciBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxFbGVtZW50KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHR5cGU6ICdjb250YWluZXInIG11c3QgYmUgYSBTdHJpbmcgb3IgSFRNTEVsZW1lbnQuXCIpO3RoaXMuX2NvbnRhaW5lcj10LmNvbnRhaW5lcn1pZih0aGlzLl9jb250YWluZXIuY2hpbGROb2Rlcy5sZW5ndGg+MCYmZS53YXJuT25jZShcIlRoZSBtYXAgY29udGFpbmVyIGVsZW1lbnQgc2hvdWxkIGJlIGVtcHR5LCBvdGhlcndpc2UgdGhlIG1hcCdzIGludGVyYWN0aXZpdHkgd2lsbCBiZSBuZWdhdGl2ZWx5IGltcGFjdGVkLiBJZiB5b3Ugd2FudCB0byBkaXNwbGF5IGEgbWVzc2FnZSB3aGVuIFdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQsIHVzZSB0aGUgTWFwYm94IEdMIFN1cHBvcnRlZCBwbHVnaW4gaW5zdGVhZC5cIiksdC5tYXhCb3VuZHMmJnRoaXMuc2V0TWF4Qm91bmRzKHQubWF4Qm91bmRzKSxlLmJpbmRBbGwoW1wiX29uV2luZG93T25saW5lXCIsXCJfb25XaW5kb3dSZXNpemVcIixcIl9vblZpc2liaWxpdHlDaGFuZ2VcIixcIl9vbk1hcFNjcm9sbFwiLFwiX2NvbnRleHRMb3N0XCIsXCJfY29udGV4dFJlc3RvcmVkXCJdLHRoaXMpLHRoaXMuX3NldHVwQ29udGFpbmVyKCksdGhpcy5fc2V0dXBQYWludGVyKCksdm9pZCAwPT09dGhpcy5wYWludGVyKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMLlwiKTt0aGlzLm9uKFwibW92ZVwiLCgpPT50aGlzLl91cGRhdGUoITEpKSx0aGlzLm9uKFwibW92ZWVuZFwiLCgpPT50aGlzLl91cGRhdGUoITEpKSx0aGlzLm9uKFwiem9vbVwiLCgpPT50aGlzLl91cGRhdGUoITApKSx2b2lkIDAhPT1lLndpbmRvdyYmKGUud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIix0aGlzLl9vbldpbmRvd09ubGluZSwhMSksZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UsITEpKSx0aGlzLmhhbmRsZXJzPW5ldyBxcih0aGlzLHQpLHRoaXMuX2xvY2FsRm9udEZhbWlseT10LmxvY2FsRm9udEZhbWlseSx0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9dC5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHksdC5zdHlsZSYmdGhpcy5zZXRTdHlsZSh0LnN0eWxlLHtsb2NhbEZvbnRGYW1pbHk6dGhpcy5fbG9jYWxGb250RmFtaWx5LGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTp0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHl9KSx0LnByb2plY3Rpb24mJnRoaXMuc2V0UHJvamVjdGlvbih0LnByb2plY3Rpb24pLHRoaXMuX2hhc2g9dC5oYXNoJiZuZXcgSmkoXCJzdHJpbmdcIj09dHlwZW9mIHQuaGFzaCYmdC5oYXNofHx2b2lkIDApLmFkZFRvKHRoaXMpLHRoaXMuX2hhc2gmJnRoaXMuX2hhc2guX29uSGFzaENoYW5nZSgpfHwodGhpcy5qdW1wVG8oe2NlbnRlcjp0LmNlbnRlcix6b29tOnQuem9vbSxiZWFyaW5nOnQuYmVhcmluZyxwaXRjaDp0LnBpdGNofSksdC5ib3VuZHMmJih0aGlzLnJlc2l6ZSgpLHRoaXMuZml0Qm91bmRzKHQuYm91bmRzLGUuZXh0ZW5kKHt9LHQuZml0Qm91bmRzT3B0aW9ucyx7ZHVyYXRpb246MH0pKSkpLHRoaXMucmVzaXplKCksdC5hdHRyaWJ1dGlvbkNvbnRyb2wmJnRoaXMuYWRkQ29udHJvbChuZXcgWHIoe2N1c3RvbUF0dHJpYnV0aW9uOnQuY3VzdG9tQXR0cmlidXRpb259KSksdGhpcy5fbG9nb0NvbnRyb2w9bmV3IFlyLHRoaXMuYWRkQ29udHJvbCh0aGlzLl9sb2dvQ29udHJvbCx0LmxvZ29Qb3NpdGlvbiksdGhpcy5vbihcInN0eWxlLmxvYWRcIiwoKT0+e3RoaXMudHJhbnNmb3JtLnVubW9kaWZpZWQmJnRoaXMuanVtcFRvKHRoaXMuc3R5bGUuc3R5bGVzaGVldCl9KSx0aGlzLm9uKFwiZGF0YVwiLHQ9Pnt0aGlzLl91cGRhdGUoXCJzdHlsZVwiPT09dC5kYXRhVHlwZSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KHQuZGF0YVR5cGUrXCJkYXRhXCIsdCkpfSksdGhpcy5vbihcImRhdGFsb2FkaW5nXCIsdD0+e3RoaXMuZmlyZShuZXcgZS5FdmVudCh0LmRhdGFUeXBlK1wiZGF0YWxvYWRpbmdcIix0KSl9KX1fZ2V0TWFwSWQoKXtyZXR1cm4gdGhpcy5fbWFwSWR9YWRkQ29udHJvbCh0LG4pe2lmKHZvaWQgMD09PW4mJihuPXQuZ2V0RGVmYXVsdFBvc2l0aW9uP3QuZ2V0RGVmYXVsdFBvc2l0aW9uKCk6XCJ0b3AtcmlnaHRcIiksIXR8fCF0Lm9uQWRkKXJldHVybiB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHRvIG1hcC5hZGRDb250cm9sKCkuIEFyZ3VtZW50IG11c3QgYmUgYSBjb250cm9sIHdpdGggb25BZGQgYW5kIG9uUmVtb3ZlIG1ldGhvZHMuXCIpKSk7Y29uc3QgaT10Lm9uQWRkKHRoaXMpO3RoaXMuX2NvbnRyb2xzLnB1c2godCk7Y29uc3Qgcj10aGlzLl9jb250cm9sUG9zaXRpb25zW25dO3JldHVybi0xIT09bi5pbmRleE9mKFwiYm90dG9tXCIpP3IuaW5zZXJ0QmVmb3JlKGksci5maXJzdENoaWxkKTpyLmFwcGVuZENoaWxkKGkpLHRoaXN9cmVtb3ZlQ29udHJvbCh0KXtpZighdHx8IXQub25SZW1vdmUpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgdG8gbWFwLnJlbW92ZUNvbnRyb2woKS4gQXJndW1lbnQgbXVzdCBiZSBhIGNvbnRyb2wgd2l0aCBvbkFkZCBhbmQgb25SZW1vdmUgbWV0aG9kcy5cIikpKTtjb25zdCBuPXRoaXMuX2NvbnRyb2xzLmluZGV4T2YodCk7cmV0dXJuIG4+LTEmJnRoaXMuX2NvbnRyb2xzLnNwbGljZShuLDEpLHQub25SZW1vdmUodGhpcyksdGhpc31oYXNDb250cm9sKGUpe3JldHVybiB0aGlzLl9jb250cm9scy5pbmRleE9mKGUpPi0xfWdldENvbnRhaW5lcigpe3JldHVybiB0aGlzLl9jb250YWluZXJ9Z2V0Q2FudmFzQ29udGFpbmVyKCl7cmV0dXJuIHRoaXMuX2NhbnZhc0NvbnRhaW5lcn1nZXRDYW52YXMoKXtyZXR1cm4gdGhpcy5fY2FudmFzfXJlc2l6ZSh0KXtpZih0aGlzLl91cGRhdGVDb250YWluZXJEaW1lbnNpb25zKCksdGhpcy5fY29udGFpbmVyV2lkdGg9PT10aGlzLnRyYW5zZm9ybS53aWR0aCYmdGhpcy5fY29udGFpbmVySGVpZ2h0PT09dGhpcy50cmFuc2Zvcm0uaGVpZ2h0KXJldHVybiB0aGlzO3RoaXMuX3Jlc2l6ZUNhbnZhcyh0aGlzLl9jb250YWluZXJXaWR0aCx0aGlzLl9jb250YWluZXJIZWlnaHQpLHRoaXMudHJhbnNmb3JtLnJlc2l6ZSh0aGlzLl9jb250YWluZXJXaWR0aCx0aGlzLl9jb250YWluZXJIZWlnaHQpLHRoaXMucGFpbnRlci5yZXNpemUoTWF0aC5jZWlsKHRoaXMuX2NvbnRhaW5lcldpZHRoKSxNYXRoLmNlaWwodGhpcy5fY29udGFpbmVySGVpZ2h0KSk7Y29uc3Qgbj0hdGhpcy5fbW92aW5nO3JldHVybiBuJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3Zlc3RhcnRcIix0KSkuZmlyZShuZXcgZS5FdmVudChcIm1vdmVcIix0KSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicmVzaXplXCIsdCkpLG4mJnRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVlbmRcIix0KSksdGhpc31nZXRCb3VuZHMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0Qm91bmRzKCl9Z2V0TWF4Qm91bmRzKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmdldE1heEJvdW5kcygpfHxudWxsfXNldE1heEJvdW5kcyh0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2V0TWF4Qm91bmRzKGUuTG5nTGF0Qm91bmRzLmNvbnZlcnQodCkpLHRoaXMuX3VwZGF0ZSgpfXNldE1pblpvb20odCl7aWYoKHQ9bnVsbD09dD8tMjp0KT49LTImJnQ8PXRoaXMudHJhbnNmb3JtLm1heFpvb20pcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblpvb209dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFpvb20oKTx0P3RoaXMuc2V0Wm9vbSh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tc3RhcnRcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIpKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtaW5ab29tIG11c3QgYmUgYmV0d2VlbiAtMiBhbmQgdGhlIGN1cnJlbnQgbWF4Wm9vbSwgaW5jbHVzaXZlXCIpfWdldE1pblpvb20oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbX1zZXRNYXhab29tKHQpe2lmKCh0PW51bGw9PXQ/MjI6dCk+PXRoaXMudHJhbnNmb3JtLm1pblpvb20pcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFpvb209dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFpvb20oKT50P3RoaXMuc2V0Wm9vbSh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tc3RhcnRcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIpKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1pblpvb21cIil9Z2V0TWF4Wm9vbSgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tfXNldE1pblBpdGNoKHQpe2lmKCh0PW51bGw9PXQ/MDp0KTwwKXRocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDBcIik7aWYodD49MCYmdDw9dGhpcy50cmFuc2Zvcm0ubWF4UGl0Y2gpcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblBpdGNoPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRQaXRjaCgpPHQ/dGhpcy5zZXRQaXRjaCh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaHN0YXJ0XCIpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaGVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtaW5QaXRjaCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgdGhlIGN1cnJlbnQgbWF4UGl0Y2gsIGluY2x1c2l2ZVwiKX1nZXRNaW5QaXRjaCgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5taW5QaXRjaH1zZXRNYXhQaXRjaCh0KXtpZigodD1udWxsPT10Pzg1OnQpPjg1KXRocm93IG5ldyBFcnJvcihcIm1heFBpdGNoIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDg1XCIpO2lmKHQ+PXRoaXMudHJhbnNmb3JtLm1pblBpdGNoKXJldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaD10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0UGl0Y2goKT50P3RoaXMuc2V0UGl0Y2godCk6dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hzdGFydFwiKSkuZmlyZShuZXcgZS5FdmVudChcInBpdGNoXCIpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hlbmRcIikpLHRoaXM7dGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hcIil9Z2V0TWF4UGl0Y2goKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4UGl0Y2h9Z2V0UmVuZGVyV29ybGRDb3BpZXMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXN9c2V0UmVuZGVyV29ybGRDb3BpZXMoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzPWUsdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXN8fHRoaXMuX2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoITApLHRoaXMuX3VwZGF0ZSgpfWdldExhbmd1YWdlKCl7cmV0dXJuIHRoaXMuX2xhbmd1YWdlfV9wYXJzZUxhbmd1YWdlKHQpe3JldHVyblwiYXV0b1wiPT09dD9lLndpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2U6QXJyYXkuaXNBcnJheSh0KT8wPT09dC5sZW5ndGg/dm9pZCAwOnQubWFwKHQ9PlwiYXV0b1wiPT09dD9lLndpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2U6dCk6dH1zZXRMYW5ndWFnZShlKXtjb25zdCB0PXRoaXMuX3BhcnNlTGFuZ3VhZ2UoZSk7aWYoIXRoaXMuc3R5bGV8fHQ9PT10aGlzLl9sYW5ndWFnZSlyZXR1cm4gdGhpczt0aGlzLl9sYW5ndWFnZT10LHRoaXMuc3R5bGUuX3JlbG9hZFNvdXJjZXMoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9jb250cm9scyllLl9zZXRMYW5ndWFnZSYmZS5fc2V0TGFuZ3VhZ2UodGhpcy5fbGFuZ3VhZ2UpO3JldHVybiB0aGlzfWdldFdvcmxkdmlldygpe3JldHVybiB0aGlzLl93b3JsZHZpZXd9c2V0V29ybGR2aWV3KGUpe3JldHVybiB0aGlzLnN0eWxlJiZlIT09dGhpcy5fd29ybGR2aWV3Pyh0aGlzLl93b3JsZHZpZXc9ZSx0aGlzLnN0eWxlLl9yZWxvYWRTb3VyY2VzKCksdGhpcyk6dGhpc31nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24/e25hbWU6XCJnbG9iZVwiLGNlbnRlcjpbMCwwXX06dGhpcy50cmFuc2Zvcm0uZ2V0UHJvamVjdGlvbigpfV9zaG93aW5nR2xvYmUoKXtyZXR1cm5cImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV9c2V0UHJvamVjdGlvbihlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksZT9cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9e25hbWU6ZX0pOmU9bnVsbCx0aGlzLl91c2VFeHBsaWNpdFByb2plY3Rpb249ISFlLHRoaXMuX3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uKGUsdGhpcy5zdHlsZS5zdHlsZXNoZWV0P3RoaXMuc3R5bGUuc3R5bGVzaGVldC5wcm9qZWN0aW9uOm51bGwpfV91cGRhdGVQcm9qZWN0aW9uVHJhbnNpdGlvbigpe2lmKFwiZ2xvYmVcIiE9PXRoaXMuZ2V0UHJvamVjdGlvbigpLm5hbWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy50cmFuc2Zvcm0sbj10LnByb2plY3Rpb24ubmFtZTtsZXQgaTtcImdsb2JlXCI9PT1uJiZ0Lnpvb20+PWUuR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYPyh0LnNldE1lcmNhdG9yRnJvbVRyYW5zaXRpb24oKSxpPSEwKTpcIm1lcmNhdG9yXCI9PT1uJiZ0Lnpvb208ZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NQVgmJih0LnNldFByb2plY3Rpb24oe25hbWU6XCJnbG9iZVwifSksaT0hMCksaSYmKHRoaXMuc3R5bGUuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCksdGhpcy5zdHlsZS5fZm9yY2VTeW1ib2xMYXllclVwZGF0ZSgpKX1fcHJpb3JpdGl6ZUFuZFVwZGF0ZVByb2plY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fdXBkYXRlUHJvamVjdGlvbihlfHx0fHx7bmFtZTpcIm1lcmNhdG9yXCJ9KX1fdXBkYXRlUHJvamVjdGlvbih0KXtsZXQgbjtpZihuPVwiZ2xvYmVcIj09PXQubmFtZSYmdGhpcy50cmFuc2Zvcm0uem9vbT49ZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NQVg/dGhpcy50cmFuc2Zvcm0uc2V0TWVyY2F0b3JGcm9tVHJhbnNpdGlvbigpOnRoaXMudHJhbnNmb3JtLnNldFByb2plY3Rpb24odCksdGhpcy5zdHlsZS5hcHBseVByb2plY3Rpb25VcGRhdGUoKSxuKXt0aGlzLnBhaW50ZXIuY2xlYXJCYWNrZ3JvdW5kVGlsZXMoKTtmb3IoY29uc3QgZSBpbiB0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXMpdGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzW2VdLmNsZWFyVGlsZXMoKTt0aGlzLl91cGRhdGUoITApLHRoaXMuX2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoITApfXJldHVybiB0aGlzfXByb2plY3QodCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQzRChlLkxuZ0xhdC5jb252ZXJ0KHQpKX11bnByb2plY3QodCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChlLnBvaW50R2VvbWV0cnkuY29udmVydCh0KSl9aXNNb3ZpbmcoKXtyZXR1cm4gdGhpcy5fbW92aW5nfHx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmlzTW92aW5nKCl8fCExfWlzWm9vbWluZygpe3JldHVybiB0aGlzLl96b29taW5nfHx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmlzWm9vbWluZygpfHwhMX1pc1JvdGF0aW5nKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW5nfHx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmlzUm90YXRpbmcoKXx8ITF9X2lzRHJhZ2dpbmcoKXtyZXR1cm4gdGhpcy5oYW5kbGVycyYmdGhpcy5oYW5kbGVycy5faXNEcmFnZ2luZygpfHwhMX1fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIoZSx0LG4pe2lmKFwibW91c2VlbnRlclwiPT09ZXx8XCJtb3VzZW92ZXJcIj09PWUpe2xldCBpPSExO2NvbnN0IHI9cj0+e2NvbnN0IG89dC5maWx0ZXIoZT0+dGhpcy5nZXRMYXllcihlKSksYT1vLmxlbmd0aD90aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhyLnBvaW50LHtsYXllcnM6b30pOltdO2EubGVuZ3RoP2l8fChpPSEwLG4uY2FsbCh0aGlzLG5ldyBzcihlLHRoaXMsci5vcmlnaW5hbEV2ZW50LHtmZWF0dXJlczphfSkpKTppPSExfSxvPSgpPT57aT0hMX07cmV0dXJue2xheWVyczpuZXcgU2V0KHQpLGxpc3RlbmVyOm4sZGVsZWdhdGVzOnttb3VzZW1vdmU6cixtb3VzZW91dDpvfX19aWYoXCJtb3VzZWxlYXZlXCI9PT1lfHxcIm1vdXNlb3V0XCI9PT1lKXtsZXQgaT0hMTtjb25zdCByPXI9Pntjb25zdCBvPXQuZmlsdGVyKGU9PnRoaXMuZ2V0TGF5ZXIoZSkpOyhvLmxlbmd0aD90aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhyLnBvaW50LHtsYXllcnM6b30pOltdKS5sZW5ndGg/aT0hMDppJiYoaT0hMSxuLmNhbGwodGhpcyxuZXcgc3IoZSx0aGlzLHIub3JpZ2luYWxFdmVudCkpKX0sbz10PT57aSYmKGk9ITEsbi5jYWxsKHRoaXMsbmV3IHNyKGUsdGhpcyx0Lm9yaWdpbmFsRXZlbnQpKSl9O3JldHVybntsYXllcnM6bmV3IFNldCh0KSxsaXN0ZW5lcjpuLGRlbGVnYXRlczp7bW91c2Vtb3ZlOnIsbW91c2VvdXQ6b319fXtjb25zdCBpPWU9Pntjb25zdCBpPXQuZmlsdGVyKGU9PnRoaXMuZ2V0TGF5ZXIoZSkpLHI9aS5sZW5ndGg/dGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCx7bGF5ZXJzOml9KTpbXTtyLmxlbmd0aCYmKGUuZmVhdHVyZXM9cixuLmNhbGwodGhpcyxlKSxkZWxldGUgZS5mZWF0dXJlcyl9O3JldHVybntsYXllcnM6bmV3IFNldCh0KSxsaXN0ZW5lcjpuLGRlbGVnYXRlczp7W2VdOml9fX19b24oZSx0LG4pe2lmKHZvaWQgMD09PW4pcmV0dXJuIHN1cGVyLm9uKGUsdCk7QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKTtjb25zdCBpPXRoaXMuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKGUsdCxuKTt0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnM9dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzfHx7fSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV09dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW2VdfHxbXSx0aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV0ucHVzaChpKTtmb3IoY29uc3QgZSBpbiBpLmRlbGVnYXRlcyl0aGlzLm9uKGUsaS5kZWxlZ2F0ZXNbZV0pO3JldHVybiB0aGlzfW9uY2UoZSx0LG4pe2lmKHZvaWQgMD09PW4pcmV0dXJuIHN1cGVyLm9uY2UoZSx0KTtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO2NvbnN0IGk9dGhpcy5fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIoZSx0LG4pO2Zvcihjb25zdCBlIGluIGkuZGVsZWdhdGVzKXRoaXMub25jZShlLGkuZGVsZWdhdGVzW2VdKTtyZXR1cm4gdGhpc31vZmYoZSx0LG4pe2lmKHZvaWQgMD09PW4pcmV0dXJuIHN1cGVyLm9mZihlLHQpO3Q9bmV3IFNldChBcnJheS5pc0FycmF5KHQpP3Q6W3RdKTtjb25zdCBpPShlLHQpPT57aWYoZS5zaXplIT09dC5zaXplKXJldHVybiExO2Zvcihjb25zdCBuIG9mIGUpaWYoIXQuaGFzKG4pKXJldHVybiExO3JldHVybiEwfSxyPXRoaXMuX2RlbGVnYXRlZExpc3RlbmVycz90aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV06dm9pZCAwO3JldHVybiByJiYoZT0+e2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBvPWVbcl07aWYoby5saXN0ZW5lcj09PW4mJmkoby5sYXllcnMsdCkpe2Zvcihjb25zdCBlIGluIG8uZGVsZWdhdGVzKXRoaXMub2ZmKGUsby5kZWxlZ2F0ZXNbZV0pO3JldHVybiBlLnNwbGljZShyLDEpLHRoaXN9fX0pKHIpLHRoaXN9cXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQsbil7cmV0dXJuIHRoaXMuc3R5bGU/KHZvaWQgMCE9PW58fHZvaWQgMD09PXR8fHQgaW5zdGFuY2VvZiBlLnBvaW50R2VvbWV0cnl8fEFycmF5LmlzQXJyYXkodCl8fChuPXQsdD12b2lkIDApLHRoaXMuc3R5bGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQ9dHx8W1swLDBdLFt0aGlzLnRyYW5zZm9ybS53aWR0aCx0aGlzLnRyYW5zZm9ybS5oZWlnaHRdXSxuPW58fHt9LHRoaXMudHJhbnNmb3JtKSk6W119cXVlcnlTb3VyY2VGZWF0dXJlcyhlLHQpe3JldHVybiB0aGlzLnN0eWxlLnF1ZXJ5U291cmNlRmVhdHVyZXMoZSx0KX1zZXRTdHlsZSh0LG4pe3JldHVybiExIT09KG49ZS5leHRlbmQoe30se2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseTp0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHksbG9jYWxGb250RmFtaWx5OnRoaXMuX2xvY2FsRm9udEZhbWlseX0sbikpLmRpZmYmJm4ubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PT09dGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5JiZuLmxvY2FsRm9udEZhbWlseT09PXRoaXMuX2xvY2FsRm9udEZhbWlseSYmdGhpcy5zdHlsZSYmdD8odGhpcy5fZGlmZlN0eWxlKHQsbiksdGhpcyk6KHRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseT1uLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSx0aGlzLl9sb2NhbEZvbnRGYW1pbHk9bi5sb2NhbEZvbnRGYW1pbHksdGhpcy5fdXBkYXRlU3R5bGUodCxuKSl9X2dldFVJU3RyaW5nKGUpe2NvbnN0IHQ9dGhpcy5fbG9jYWxlW2VdO2lmKG51bGw9PXQpdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIFVJIHN0cmluZyAnJHtlfSdgKTtyZXR1cm4gdH1fdXBkYXRlU3R5bGUoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZSYmKHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLnN0eWxlLl9yZW1vdmUoKSx0aGlzLnN0eWxlPXZvaWQgMCksZSYmKHRoaXMuc3R5bGU9bmV3IFF0KHRoaXMsdHx8e30pLHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudCh0aGlzLHtzdHlsZTp0aGlzLnN0eWxlfSksXCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5zdHlsZS5sb2FkVVJMKGUpOnRoaXMuc3R5bGUubG9hZEpTT04oZSkpLHRoaXMuX3VwZGF0ZVRlcnJhaW4oKSx0aGlzfV9sYXp5SW5pdEVtcHR5U3R5bGUoKXt0aGlzLnN0eWxlfHwodGhpcy5zdHlsZT1uZXcgUXQodGhpcyx7fSksdGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KHRoaXMse3N0eWxlOnRoaXMuc3R5bGV9KSx0aGlzLnN0eWxlLmxvYWRFbXB0eSgpKX1fZGlmZlN0eWxlKHQsbil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpe2NvbnN0IGk9dGhpcy5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU3R5bGVVUkwodCkscj10aGlzLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KGksZS5SZXNvdXJjZVR5cGUuU3R5bGUpO2UuZ2V0SlNPTihyLCh0LGkpPT57dD90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudCh0KSk6aSYmdGhpcy5fdXBkYXRlRGlmZihpLG4pfSl9ZWxzZVwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0aGlzLl91cGRhdGVEaWZmKHQsbil9X3VwZGF0ZURpZmYodCxuKXt0cnl7dGhpcy5zdHlsZS5zZXRTdGF0ZSh0KSYmdGhpcy5fdXBkYXRlKCEwKX1jYXRjaChpKXtlLndhcm5PbmNlKGBVbmFibGUgdG8gcGVyZm9ybSBzdHlsZSBkaWZmOiAke2kubWVzc2FnZXx8aS5lcnJvcnx8aX0uICBSZWJ1aWxkaW5nIHRoZSBzdHlsZSBmcm9tIHNjcmF0Y2guYCksdGhpcy5fdXBkYXRlU3R5bGUodCxuKX19Z2V0U3R5bGUoKXtpZih0aGlzLnN0eWxlKXJldHVybiB0aGlzLnN0eWxlLnNlcmlhbGl6ZSgpfWlzU3R5bGVMb2FkZWQoKXtyZXR1cm4gdGhpcy5zdHlsZT90aGlzLnN0eWxlLmxvYWRlZCgpOihlLndhcm5PbmNlKFwiVGhlcmUgaXMgbm8gc3R5bGUgYWRkZWQgdG8gdGhlIG1hcC5cIiksITEpfWFkZFNvdXJjZShlLHQpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLmFkZFNvdXJjZShlLHQpLHRoaXMuX3VwZGF0ZSghMCl9aXNTb3VyY2VMb2FkZWQoZSl7cmV0dXJuISF0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLl9pc1NvdXJjZUNhY2hlTG9hZGVkKGUpfWFyZVRpbGVzTG9hZGVkKCl7Y29uc3QgZT10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXM7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgbj1lW3RdLl90aWxlcztmb3IoY29uc3QgZSBpbiBuKXtjb25zdCB0PW5bZV07aWYoXCJsb2FkZWRcIiE9PXQuc3RhdGUmJlwiZXJyb3JlZFwiIT09dC5zdGF0ZSlyZXR1cm4hMX19cmV0dXJuITB9YWRkU291cmNlVHlwZShlLHQsbil7dGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5hZGRTb3VyY2VUeXBlKGUsdCxuKX1yZW1vdmVTb3VyY2UoZSl7cmV0dXJuIHRoaXMuc3R5bGUucmVtb3ZlU291cmNlKGUpLHRoaXMuX3VwZGF0ZVRlcnJhaW4oKSx0aGlzLl91cGRhdGUoITApfWdldFNvdXJjZShlKXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRTb3VyY2UoZSl9YWRkSW1hZ2UodCxuLHtwaXhlbFJhdGlvOmk9MSxzZGY6cj0hMSxzdHJldGNoWDpvLHN0cmV0Y2hZOmEsY29udGVudDpzfT17fSl7aWYodGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksbiBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxJbWFnZUVsZW1lbnR8fGUud2luZG93LkltYWdlQml0bWFwJiZuIGluc3RhbmNlb2YgZS53aW5kb3cuSW1hZ2VCaXRtYXApe2NvbnN0e3dpZHRoOmwsaGVpZ2h0OmMsZGF0YTp1fT1lLmV4cG9ydGVkLmdldEltYWdlRGF0YShuKTt0aGlzLnN0eWxlLmFkZEltYWdlKHQse2RhdGE6bmV3IGUuUkdCQUltYWdlKHt3aWR0aDpsLGhlaWdodDpjfSx1KSxwaXhlbFJhdGlvOmksc3RyZXRjaFg6byxzdHJldGNoWTphLGNvbnRlbnQ6cyxzZGY6cix2ZXJzaW9uOjB9KX1lbHNlIGlmKHZvaWQgMD09PW4ud2lkdGh8fHZvaWQgMD09PW4uaGVpZ2h0KXRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHRvIG1hcC5hZGRJbWFnZSgpLiBUaGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBgSW1hZ2VEYXRhYCwgYEltYWdlQml0bWFwYCwgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWAgcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyBgSW1hZ2VEYXRhYFwiKSkpO2Vsc2V7Y29uc3R7d2lkdGg6bCxoZWlnaHQ6Y309bix1PW47dGhpcy5zdHlsZS5hZGRJbWFnZSh0LHtkYXRhOm5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6bCxoZWlnaHQ6Y30sbmV3IFVpbnQ4QXJyYXkodS5kYXRhKSkscGl4ZWxSYXRpbzppLHN0cmV0Y2hYOm8sc3RyZXRjaFk6YSxjb250ZW50OnMsc2RmOnIsdmVyc2lvbjowLHVzZXJJbWFnZTp1fSksdS5vbkFkZCYmdS5vbkFkZCh0aGlzLHQpfX11cGRhdGVJbWFnZSh0LG4pe2NvbnN0IGk9dGhpcy5zdHlsZS5nZXRJbWFnZSh0KTtpZighaSlyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgbWFwIGhhcyBubyBpbWFnZSB3aXRoIHRoYXQgaWQuIElmIHlvdSBhcmUgYWRkaW5nIGEgbmV3IGltYWdlIHVzZSBgbWFwLmFkZEltYWdlKC4uLilgIGluc3RlYWQuXCIpKSk7Y29uc3Qgcj1uIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEltYWdlRWxlbWVudHx8ZS53aW5kb3cuSW1hZ2VCaXRtYXAmJm4gaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZUJpdG1hcD9lLmV4cG9ydGVkLmdldEltYWdlRGF0YShuKTpuLHt3aWR0aDpvLGhlaWdodDphfT1yO3ZvaWQgMCE9PW8mJnZvaWQgMCE9PWE/bz09PWkuZGF0YS53aWR0aCYmYT09PWkuZGF0YS5oZWlnaHQ/KGkuZGF0YS5yZXBsYWNlKHIuZGF0YSwhKG4gaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50fHxlLndpbmRvdy5JbWFnZUJpdG1hcCYmbiBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlQml0bWFwKSksdGhpcy5zdHlsZS51cGRhdGVJbWFnZSh0LGkpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB1cGRhdGVkIGltYWdlICgke299LCAke2F9KVxcbiAgICAgICAgICAgICAgICBtdXN0IGJlIHRoYXQgc2FtZSBhcyB0aGUgcHJldmlvdXMgdmVyc2lvbiBvZiB0aGUgaW1hZ2VcXG4gICAgICAgICAgICAgICAgKCR7aS5kYXRhLndpZHRofSwgJHtpLmRhdGEuaGVpZ2h0fSlgKSkpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnRzIHRvIG1hcC51cGRhdGVJbWFnZSgpLiBUaGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYW4gYEhUTUxJbWFnZUVsZW1lbnRgLCBgSW1hZ2VEYXRhYCwgYEltYWdlQml0bWFwYCwgb3Igb2JqZWN0IHdpdGggYHdpZHRoYCwgYGhlaWdodGAsIGFuZCBgZGF0YWAgcHJvcGVydGllcyB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyBgSW1hZ2VEYXRhYFwiKSkpfWhhc0ltYWdlKHQpe3JldHVybiB0PyEhdGhpcy5zdHlsZS5nZXRJbWFnZSh0KToodGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBpbWFnZSBpZFwiKSkpLCExKX1yZW1vdmVJbWFnZShlKXt0aGlzLnN0eWxlLnJlbW92ZUltYWdlKGUpfWxvYWRJbWFnZSh0LG4pe2UuZ2V0SW1hZ2UodGhpcy5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh0LGUuUmVzb3VyY2VUeXBlLkltYWdlKSwodCxpKT0+e24odCxpIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEltYWdlRWxlbWVudD9lLmV4cG9ydGVkLmdldEltYWdlRGF0YShpKTppKX0pfWxpc3RJbWFnZXMoKXtyZXR1cm4gdGhpcy5zdHlsZS5saXN0SW1hZ2VzKCl9YWRkTGF5ZXIoZSx0KXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5hZGRMYXllcihlLHQpLHRoaXMuX3VwZGF0ZSghMCl9bW92ZUxheWVyKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUubW92ZUxheWVyKGUsdCksdGhpcy5fdXBkYXRlKCEwKX1yZW1vdmVMYXllcihlKXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVMYXllcihlKSx0aGlzLl91cGRhdGUoITApfWdldExheWVyKGUpe3JldHVybiB0aGlzLnN0eWxlLmdldExheWVyKGUpfXNldExheWVyWm9vbVJhbmdlKGUsdCxuKXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRMYXllclpvb21SYW5nZShlLHQsbiksdGhpcy5fdXBkYXRlKCEwKX1zZXRGaWx0ZXIoZSx0LG49e30pe3JldHVybiB0aGlzLnN0eWxlLnNldEZpbHRlcihlLHQsbiksdGhpcy5fdXBkYXRlKCEwKX1nZXRGaWx0ZXIoZSl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0RmlsdGVyKGUpfXNldFBhaW50UHJvcGVydHkoZSx0LG4saT17fSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0UGFpbnRQcm9wZXJ0eShlLHQsbixpKSx0aGlzLl91cGRhdGUoITApfWdldFBhaW50UHJvcGVydHkoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRQYWludFByb3BlcnR5KGUsdCl9c2V0TGF5b3V0UHJvcGVydHkoZSx0LG4saT17fSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0TGF5b3V0UHJvcGVydHkoZSx0LG4saSksdGhpcy5fdXBkYXRlKCEwKX1nZXRMYXlvdXRQcm9wZXJ0eShlLHQpe3JldHVybiB0aGlzLnN0eWxlLmdldExheW91dFByb3BlcnR5KGUsdCl9c2V0TGlnaHQoZSx0PXt9KXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5zZXRMaWdodChlLHQpLHRoaXMuX3VwZGF0ZSghMCl9Z2V0TGlnaHQoKXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRMaWdodCgpfXNldFRlcnJhaW4oZSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLCFlJiZ0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnJlcXVpcmVzRHJhcGluZz90aGlzLnN0eWxlLnNldFRlcnJhaW5Gb3JEcmFwaW5nKCk6dGhpcy5zdHlsZS5zZXRUZXJyYWluKGUpLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0PS0xLzAsdGhpcy5fdXBkYXRlKCEwKX1nZXRUZXJyYWluKCl7cmV0dXJuIHRoaXMuc3R5bGU/dGhpcy5zdHlsZS5nZXRUZXJyYWluKCk6bnVsbH1zZXRGb2coZSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuc2V0Rm9nKGUpLHRoaXMuX3VwZGF0ZSghMCl9Z2V0Rm9nKCl7cmV0dXJuIHRoaXMuc3R5bGU/dGhpcy5zdHlsZS5nZXRGb2coKTpudWxsfV9xdWVyeUZvZ09wYWNpdHkodCl7cmV0dXJuIHRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZm9nP3RoaXMuc3R5bGUuZm9nLmdldE9wYWNpdHlBdExhdExuZyhlLkxuZ0xhdC5jb252ZXJ0KHQpLHRoaXMudHJhbnNmb3JtKTowfXNldEZlYXR1cmVTdGF0ZShlLHQpe3JldHVybiB0aGlzLnN0eWxlLnNldEZlYXR1cmVTdGF0ZShlLHQpLHRoaXMuX3VwZGF0ZSgpfXJlbW92ZUZlYXR1cmVTdGF0ZShlLHQpe3JldHVybiB0aGlzLnN0eWxlLnJlbW92ZUZlYXR1cmVTdGF0ZShlLHQpLHRoaXMuX3VwZGF0ZSgpfWdldEZlYXR1cmVTdGF0ZShlKXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRGZWF0dXJlU3RhdGUoZSl9X3VwZGF0ZUNvbnRhaW5lckRpbWVuc2lvbnMoKXtpZighdGhpcy5fY29udGFpbmVyKXJldHVybjtjb25zdCB0PXRoaXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aHx8NDAwLG49dGhpcy5fY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodHx8MzAwO2xldCBpLHIsbyxhPXRoaXMuX2NvbnRhaW5lcjtmb3IoO2EmJighcnx8IW8pOyl7Y29uc3QgdD1lLndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGEpLnRyYW5zZm9ybTt0JiZcIm5vbmVcIiE9PXQmJihpPXQubWF0Y2goL21hdHJpeC4qXFwoKC4rKVxcKS8pWzFdLnNwbGl0KFwiLCBcIiksaVswXSYmXCIwXCIhPT1pWzBdJiZcIjFcIiE9PWlbMF0mJihyPWlbMF0pLGlbM10mJlwiMFwiIT09aVszXSYmXCIxXCIhPT1pWzNdJiYobz1pWzNdKSksYT1hLnBhcmVudEVsZW1lbnR9dGhpcy5fY29udGFpbmVyV2lkdGg9cj9NYXRoLmFicyh0L3IpOnQsdGhpcy5fY29udGFpbmVySGVpZ2h0PW8/TWF0aC5hYnMobi9vKTpufV9kZXRlY3RNaXNzaW5nQ1NTKCl7XCJyZ2IoMjUwLCAxMjgsIDExNClcIiE9PWUud2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5fbWlzc2luZ0NTU0NhbmFyeSkuZ2V0UHJvcGVydHlWYWx1ZShcImJhY2tncm91bmQtY29sb3JcIikmJmUud2Fybk9uY2UoXCJUaGlzIHBhZ2UgYXBwZWFycyB0byBiZSBtaXNzaW5nIENTUyBkZWNsYXJhdGlvbnMgZm9yIE1hcGJveCBHTCBKUywgd2hpY2ggbWF5IGNhdXNlIHRoZSBtYXAgdG8gZGlzcGxheSBpbmNvcnJlY3RseS4gUGxlYXNlIGVuc3VyZSB5b3VyIHBhZ2UgaW5jbHVkZXMgbWFwYm94LWdsLmNzcywgYXMgZGVzY3JpYmVkIGluIGh0dHBzOi8vd3d3Lm1hcGJveC5jb20vbWFwYm94LWdsLWpzL2FwaS8uXCIpfV9zZXR1cENvbnRhaW5lcigpe2NvbnN0IGU9dGhpcy5fY29udGFpbmVyO2UuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLW1hcFwiKSwodGhpcy5fbWlzc2luZ0NTU0NhbmFyeT1vKFwiZGl2XCIsXCJtYXBib3hnbC1jYW5hcnlcIixlKSkuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLHRoaXMuX2RldGVjdE1pc3NpbmdDU1MoKTtjb25zdCB0PXRoaXMuX2NhbnZhc0NvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1jYW52YXMtY29udGFpbmVyXCIsZSk7dGhpcy5faW50ZXJhY3RpdmUmJnQuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWludGVyYWN0aXZlXCIpLHRoaXMuX2NhbnZhcz1vKFwiY2FudmFzXCIsXCJtYXBib3hnbC1jYW52YXNcIix0KSx0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dGxvc3RcIix0aGlzLl9jb250ZXh0TG9zdCwhMSksdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRyZXN0b3JlZFwiLHRoaXMuX2NvbnRleHRSZXN0b3JlZCwhMSksdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCIwXCIpLHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsdGhpcy5fZ2V0VUlTdHJpbmcoXCJNYXAuVGl0bGVcIikpLHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJyZWdpb25cIiksdGhpcy5fdXBkYXRlQ29udGFpbmVyRGltZW5zaW9ucygpLHRoaXMuX3Jlc2l6ZUNhbnZhcyh0aGlzLl9jb250YWluZXJXaWR0aCx0aGlzLl9jb250YWluZXJIZWlnaHQpO2NvbnN0IG49dGhpcy5fY29udHJvbENvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1jb250cm9sLWNvbnRhaW5lclwiLGUpLGk9dGhpcy5fY29udHJvbFBvc2l0aW9ucz17fTtbXCJ0b3AtbGVmdFwiLFwidG9wLXJpZ2h0XCIsXCJib3R0b20tbGVmdFwiLFwiYm90dG9tLXJpZ2h0XCJdLmZvckVhY2goZT0+e2lbZV09byhcImRpdlwiLFwibWFwYm94Z2wtY3RybC1cIitlLG4pfSksdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLl9vbk1hcFNjcm9sbCwhMSl9X3Jlc2l6ZUNhbnZhcyh0LG4pe2NvbnN0IGk9ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvfHwxO3RoaXMuX2NhbnZhcy53aWR0aD1pKk1hdGguY2VpbCh0KSx0aGlzLl9jYW52YXMuaGVpZ2h0PWkqTWF0aC5jZWlsKG4pLHRoaXMuX2NhbnZhcy5zdHlsZS53aWR0aD10K1wicHhcIix0aGlzLl9jYW52YXMuc3R5bGUuaGVpZ2h0PW4rXCJweFwifV9hZGRNYXJrZXIoZSl7dGhpcy5fbWFya2Vycy5wdXNoKGUpfV9yZW1vdmVNYXJrZXIoZSl7Y29uc3QgdD10aGlzLl9tYXJrZXJzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLl9tYXJrZXJzLnNwbGljZSh0LDEpfV9hZGRQb3B1cChlKXt0aGlzLl9wb3B1cHMucHVzaChlKX1fcmVtb3ZlUG9wdXAoZSl7Y29uc3QgdD10aGlzLl9wb3B1cHMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX3BvcHVwcy5zcGxpY2UodCwxKX1fc2V0dXBQYWludGVyKCl7Y29uc3QgdD1lLmV4dGVuZCh7fSxuLndlYkdMQ29udGV4dEF0dHJpYnV0ZXMse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6dGhpcy5fZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCxwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6dGhpcy5fcHJlc2VydmVEcmF3aW5nQnVmZmVyLGFudGlhbGlhczp0aGlzLl9hbnRpYWxpYXN8fCExfSksaT10aGlzLl9jYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIsdCl8fHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIsdCk7aT8oZS5zdG9yZUF1dGhTdGF0ZShpLCEwKSx0aGlzLnBhaW50ZXI9bmV3IFJpKGksdGhpcy50cmFuc2Zvcm0pLHRoaXMub24oXCJkYXRhXCIsZT0+e1wic291cmNlXCI9PT1lLmRhdGFUeXBlJiZ0aGlzLnBhaW50ZXIuc2V0VGlsZUxvYWRlZEZsYWcoITApfSksZS5leHBvcnRlZCQxLnRlc3RTdXBwb3J0KGkpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBXZWJHTFwiKSkpfV9jb250ZXh0TG9zdCh0KXt0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZS5jYW5jZWwoKSx0aGlzLl9mcmFtZT1udWxsKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ3ZWJnbGNvbnRleHRsb3N0XCIse29yaWdpbmFsRXZlbnQ6dH0pKX1fY29udGV4dFJlc3RvcmVkKHQpe3RoaXMuX3NldHVwUGFpbnRlcigpLHRoaXMucmVzaXplKCksdGhpcy5fdXBkYXRlKCksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwid2ViZ2xjb250ZXh0cmVzdG9yZWRcIix7b3JpZ2luYWxFdmVudDp0fSkpfV9vbk1hcFNjcm9sbChlKXtpZihlLnRhcmdldD09PXRoaXMuX2NvbnRhaW5lcilyZXR1cm4gdGhpcy5fY29udGFpbmVyLnNjcm9sbFRvcD0wLHRoaXMuX2NvbnRhaW5lci5zY3JvbGxMZWZ0PTAsITF9bG9hZGVkKCl7cmV0dXJuIXRoaXMuX3N0eWxlRGlydHkmJiF0aGlzLl9zb3VyY2VzRGlydHkmJiEhdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5sb2FkZWQoKX1fdXBkYXRlKGUpe3JldHVybiB0aGlzLnN0eWxlPyh0aGlzLl9zdHlsZURpcnR5PXRoaXMuX3N0eWxlRGlydHl8fGUsdGhpcy5fc291cmNlc0RpcnR5PSEwLHRoaXMudHJpZ2dlclJlcGFpbnQoKSx0aGlzKTp0aGlzfV9yZXF1ZXN0UmVuZGVyRnJhbWUoZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZSgpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5hZGQoZSl9X2NhbmNlbFJlbmRlckZyYW1lKGUpe3RoaXMuX3JlbmRlclRhc2tRdWV1ZS5yZW1vdmUoZSl9X3JlcXVlc3REb21UYXNrKGUpeyF0aGlzLmxvYWRlZCgpfHx0aGlzLmxvYWRlZCgpJiYhdGhpcy5pc01vdmluZygpP2UoKTp0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUuYWRkKGUpfV9yZW5kZXIodCl7bGV0IG47Y29uc3QgaT10aGlzLnBhaW50ZXIuY29udGV4dC5leHRUaW1lclF1ZXJ5LHI9ZS5leHBvcnRlZC5ub3coKTtpZih0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWZyYW1lXCIpJiYobj1pLmNyZWF0ZVF1ZXJ5RVhUKCksaS5iZWdpblF1ZXJ5RVhUKGkuVElNRV9FTEFQU0VEX0VYVCxuKSksdGhpcy5wYWludGVyLmNvbnRleHQuc2V0RGlydHkoKSx0aGlzLnBhaW50ZXIuc2V0QmFzZVN0YXRlKCksKHRoaXMuaXNNb3ZpbmcoKXx8dGhpcy5pc1JvdGF0aW5nKCl8fHRoaXMuaXNab29taW5nKCkpJiYodGhpcy5faW50ZXJhY3Rpb25SYW5nZVswXT1NYXRoLm1pbih0aGlzLl9pbnRlcmFjdGlvblJhbmdlWzBdLGUud2luZG93LnBlcmZvcm1hbmNlLm5vdygpKSx0aGlzLl9pbnRlcmFjdGlvblJhbmdlWzFdPU1hdGgubWF4KHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMV0sZS53aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpKSx0aGlzLl9yZW5kZXJUYXNrUXVldWUucnVuKHQpLHRoaXMuX2RvbVJlbmRlclRhc2tRdWV1ZS5ydW4odCksdGhpcy5fcmVtb3ZlZClyZXR1cm47dGhpcy5fdXBkYXRlUHJvamVjdGlvblRyYW5zaXRpb24oKTtjb25zdCBvPXRoaXMuX2lzSW5pdGlhbExvYWQ/MDp0aGlzLl9mYWRlRHVyYXRpb247aWYodGhpcy5zdHlsZSYmdGhpcy5fc3R5bGVEaXJ0eSl7dGhpcy5fc3R5bGVEaXJ0eT0hMTtjb25zdCB0PXRoaXMudHJhbnNmb3JtLnpvb20sbj10aGlzLnRyYW5zZm9ybS5waXRjaCxpPWUuZXhwb3J0ZWQubm93KCkscj1uZXcgZS5FdmFsdWF0aW9uUGFyYW1ldGVycyh0LHtub3c6aSxmYWRlRHVyYXRpb246byxwaXRjaDpuLHRyYW5zaXRpb246dGhpcy5zdHlsZS5nZXRUcmFuc2l0aW9uKCl9KTt0aGlzLnN0eWxlLnVwZGF0ZShyKX10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmZvZyYmdGhpcy5zdHlsZS5mb2cuaGFzVHJhbnNpdGlvbigpJiYodGhpcy5zdHlsZS5fbWFya2Vyc05lZWRVcGRhdGU9ITAsdGhpcy5fc291cmNlc0RpcnR5PSEwKTtsZXQgYT0hMTtpZih0aGlzLnN0eWxlJiZ0aGlzLl9zb3VyY2VzRGlydHk/KHRoaXMuX3NvdXJjZXNEaXJ0eT0hMSx0aGlzLnBhaW50ZXIuX3VwZGF0ZUZvZyh0aGlzLnN0eWxlKSx0aGlzLl91cGRhdGVUZXJyYWluKCksYT10aGlzLl91cGRhdGVBdmVyYWdlRWxldmF0aW9uKHIpLHRoaXMuc3R5bGUuX3VwZGF0ZVNvdXJjZXModGhpcy50cmFuc2Zvcm0pLHRoaXMuX2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoKSk6YT10aGlzLl91cGRhdGVBdmVyYWdlRWxldmF0aW9uKHIpLHRoaXMuX3BsYWNlbWVudERpcnR5PXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuX3VwZGF0ZVBsYWNlbWVudCh0aGlzLnBhaW50ZXIudHJhbnNmb3JtLHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzLG8sdGhpcy5fY3Jvc3NTb3VyY2VDb2xsaXNpb25zKSx0aGlzLnN0eWxlJiZ0aGlzLnBhaW50ZXIucmVuZGVyKHRoaXMuc3R5bGUse3Nob3dUaWxlQm91bmRhcmllczp0aGlzLnNob3dUaWxlQm91bmRhcmllcyxzaG93VGVycmFpbldpcmVmcmFtZTp0aGlzLnNob3dUZXJyYWluV2lyZWZyYW1lLHNob3dPdmVyZHJhd0luc3BlY3Rvcjp0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3Isc2hvd1F1ZXJ5R2VvbWV0cnk6ISF0aGlzLl9zaG93UXVlcnlHZW9tZXRyeSxzaG93VGlsZUFBQkJzOnRoaXMuc2hvd1RpbGVBQUJCcyxyb3RhdGluZzp0aGlzLmlzUm90YXRpbmcoKSx6b29taW5nOnRoaXMuaXNab29taW5nKCksbW92aW5nOnRoaXMuaXNNb3ZpbmcoKSxmYWRlRHVyYXRpb246byxpc0luaXRpYWxMb2FkOnRoaXMuX2lzSW5pdGlhbExvYWQsc2hvd1BhZGRpbmc6dGhpcy5zaG93UGFkZGluZyxncHVUaW1pbmc6ISF0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWxheWVyXCIpLGdwdVRpbWluZ0RlZmVycmVkUmVuZGVyOiEhdGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1kZWZlcnJlZC1yZW5kZXJcIiksc3BlZWRJbmRleFRpbWluZzp0aGlzLnNwZWVkSW5kZXhUaW1pbmd9KSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyZW5kZXJcIikpLHRoaXMubG9hZGVkKCkmJiF0aGlzLl9sb2FkZWQmJih0aGlzLl9sb2FkZWQ9ITAsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibG9hZFwiKSkpLHRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuaGFzVHJhbnNpdGlvbnMoKSYmKHRoaXMuX3N0eWxlRGlydHk9ITApLHRoaXMuc3R5bGUmJiF0aGlzLl9wbGFjZW1lbnREaXJ0eSYmdGhpcy5zdHlsZS5fcmVsZWFzZVN5bWJvbEZhZGVUaWxlcygpLG4pe2NvbnN0IHQ9ZS5leHBvcnRlZC5ub3coKS1yO2kuZW5kUXVlcnlFWFQoaS5USU1FX0VMQVBTRURfRVhULG4pLHNldFRpbWVvdXQoKCk9Pntjb25zdCBvPWkuZ2V0UXVlcnlPYmplY3RFWFQobixpLlFVRVJZX1JFU1VMVF9FWFQpLzFlNjtpLmRlbGV0ZVF1ZXJ5RVhUKG4pLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImdwdS10aW1pbmctZnJhbWVcIix7Y3B1VGltZTp0LGdwdVRpbWU6b30pKSxlLndpbmRvdy5wZXJmb3JtYW5jZS5tYXJrKFwiZnJhbWUtZ3B1XCIse3N0YXJ0VGltZTpyLGRldGFpbDp7Z3B1VGltZTpvfX0pfSw1MCl9aWYodGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1sYXllclwiKSl7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29sbGVjdEdwdVRpbWVycygpO3NldFRpbWVvdXQoKCk9Pntjb25zdCBuPXRoaXMucGFpbnRlci5xdWVyeUdwdVRpbWVycyh0KTt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJncHUtdGltaW5nLWxheWVyXCIse2xheWVyVGltZXM6bn0pKX0sNTApfWlmKHRoaXMubGlzdGVucyhcImdwdS10aW1pbmctZGVmZXJyZWQtcmVuZGVyXCIpKXtjb25zdCB0PXRoaXMucGFpbnRlci5jb2xsZWN0RGVmZXJyZWRSZW5kZXJHcHVRdWVyaWVzKCk7c2V0VGltZW91dCgoKT0+e2NvbnN0IG49dGhpcy5wYWludGVyLnF1ZXJ5R3B1VGltZURlZmVycmVkUmVuZGVyKHQpO3RoaXMuZmlyZShuZXcgZS5FdmVudChcImdwdS10aW1pbmctZGVmZXJyZWQtcmVuZGVyXCIse2dwdVRpbWU6bn0pKX0sNTApfWNvbnN0IHM9dGhpcy5fc291cmNlc0RpcnR5fHx0aGlzLl9zdHlsZURpcnR5fHx0aGlzLl9wbGFjZW1lbnREaXJ0eXx8YTtpZihzfHx0aGlzLl9yZXBhaW50KXRoaXMudHJpZ2dlclJlcGFpbnQoKTtlbHNle2NvbnN0IHQ9IXRoaXMuaXNNb3ZpbmcoKSYmdGhpcy5sb2FkZWQoKTtpZih0JiYoYT10aGlzLl91cGRhdGVBdmVyYWdlRWxldmF0aW9uKHIsITApKSxhKXRoaXMudHJpZ2dlclJlcGFpbnQoKTtlbHNlIGlmKHRoaXMuX3RyaWdnZXJGcmFtZSghMSksdCYmKHRoaXMuZmlyZShuZXcgZS5FdmVudChcImlkbGVcIikpLHRoaXMuX2lzSW5pdGlhbExvYWQ9ITEsdGhpcy5zcGVlZEluZGV4VGltaW5nKSl7Y29uc3QgdD10aGlzLl9jYWxjdWxhdGVTcGVlZEluZGV4KCk7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwic3BlZWRpbmRleGNvbXBsZXRlZFwiLHtzcGVlZEluZGV4OnR9KSksdGhpcy5zcGVlZEluZGV4VGltaW5nPSExfX0hdGhpcy5fbG9hZGVkfHx0aGlzLl9mdWxseUxvYWRlZHx8c3x8KHRoaXMuX2Z1bGx5TG9hZGVkPSEwLGUuTGl2ZVBlcmZvcm1hbmNlVXRpbHMubWFyayhlLlBlcmZvcm1hbmNlTWFya2Vycy5mdWxsTG9hZCksdGhpcy5fcGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbiYmZS5wb3N0UGVyZm9ybWFuY2VFdmVudCh0aGlzLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4se3dpZHRoOnRoaXMucGFpbnRlci53aWR0aCxoZWlnaHQ6dGhpcy5wYWludGVyLmhlaWdodCxpbnRlcmFjdGlvblJhbmdlOnRoaXMuX2ludGVyYWN0aW9uUmFuZ2UsdmlzaWJpbGl0eUhpZGRlbjp0aGlzLl92aXNpYmlsaXR5SGlkZGVuLHRlcnJhaW5FbmFibGVkOiEhdGhpcy5wYWludGVyLnN0eWxlLmdldFRlcnJhaW4oKSxmb2dFbmFibGVkOiEhdGhpcy5wYWludGVyLnN0eWxlLmdldEZvZygpLHByb2plY3Rpb246dGhpcy5nZXRQcm9qZWN0aW9uKCkubmFtZSx6b29tOnRoaXMudHJhbnNmb3JtLnpvb20scmVuZGVyZXI6dGhpcy5wYWludGVyLmNvbnRleHQucmVuZGVyZXIsdmVuZG9yOnRoaXMucGFpbnRlci5jb250ZXh0LnZlbmRvcn0pLHRoaXMuX2F1dGhlbnRpY2F0ZSgpKX1fZm9yY2VNYXJrZXJBbmRQb3B1cFVwZGF0ZShlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9tYXJrZXJzKWUmJiF0aGlzLmdldFJlbmRlcldvcmxkQ29waWVzKCkmJih0Ll9sbmdMYXQ9dC5fbG5nTGF0LndyYXAoKSksdC5fdXBkYXRlKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcG9wdXBzKSFlfHx0aGlzLmdldFJlbmRlcldvcmxkQ29waWVzKCl8fHQuX3RyYWNrUG9pbnRlcnx8KHQuX2xuZ0xhdD10Ll9sbmdMYXQud3JhcCgpKSx0Ll91cGRhdGUoKX1fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihlLHQ9ITEpe2NvbnN0IG49ZT0+KHRoaXMudHJhbnNmb3JtLmF2ZXJhZ2VFbGV2YXRpb249ZSx0aGlzLl91cGRhdGUoITEpLCEwKTtpZighdGhpcy5wYWludGVyLmF2ZXJhZ2VFbGV2YXRpb25OZWVkc0Vhc2luZygpKXJldHVybiAwIT09dGhpcy50cmFuc2Zvcm0uYXZlcmFnZUVsZXZhdGlvbiYmbigwKTtpZigodHx8ZS10aGlzLl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdD41MDApJiYhdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5pc0Vhc2luZyhlKSl7Y29uc3QgdD10aGlzLnRyYW5zZm9ybS5hdmVyYWdlRWxldmF0aW9uO2xldCBpPXRoaXMudHJhbnNmb3JtLnNhbXBsZUF2ZXJhZ2VFbGV2YXRpb24oKSxyPSExO3RoaXMudHJhbnNmb3JtLmVsZXZhdGlvbiYmKHI9dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpIT09dGhpcy5fYXZlcmFnZUVsZXZhdGlvbkV4YWdnZXJhdGlvbix0aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbi5leGFnZ2VyYXRpb24oKSksaXNOYU4oaSk/aT0wOnRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0PWU7Y29uc3Qgbz1NYXRoLmFicyh0LWkpO2lmKG8+MSl7aWYodGhpcy5faXNJbml0aWFsTG9hZHx8cilyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5qdW1wVG8oaSksbihpKTt0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmVhc2VUbyhpLGUsMzAwKX1lbHNlIGlmKG8+MWUtNClyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5qdW1wVG8oaSksbihpKX1yZXR1cm4hIXRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24uaXNFYXNpbmcoZSkmJm4odGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5nZXRWYWx1ZShlKSl9X2F1dGhlbnRpY2F0ZSgpe2UuZ2V0TWFwU2Vzc2lvbkFQSSh0aGlzLl9nZXRNYXBJZCgpLHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9za3VUb2tlbix0aGlzLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4sdD0+e2lmKHQmJih0Lm1lc3NhZ2U9PT1lLkFVVEhfRVJSX01TR3x8NDAxPT09dC5zdGF0dXMpKXtjb25zdCB0PXRoaXMucGFpbnRlci5jb250ZXh0LmdsO2Uuc3RvcmVBdXRoU3RhdGUodCwhMSksdGhpcy5fbG9nb0NvbnRyb2wgaW5zdGFuY2VvZiBZciYmdGhpcy5fbG9nb0NvbnRyb2wuX3VwZGF0ZUxvZ28oKSx0JiZ0LmNsZWFyKHQuREVQVEhfQlVGRkVSX0JJVHx0LkNPTE9SX0JVRkZFUl9CSVR8dC5TVEVOQ0lMX0JVRkZFUl9CSVQpLHRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzfHx0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJBIHZhbGlkIE1hcGJveCBhY2Nlc3MgdG9rZW4gaXMgcmVxdWlyZWQgdG8gdXNlIE1hcGJveCBHTCBKUy4gVG8gY3JlYXRlIGFuIGFjY291bnQgb3IgYSBuZXcgYWNjZXNzIHRva2VuLCB2aXNpdCBodHRwczovL2FjY291bnQubWFwYm94LmNvbS9cIikpKX19KSxlLnBvc3RNYXBMb2FkRXZlbnQodGhpcy5fZ2V0TWFwSWQoKSx0aGlzLl9yZXF1ZXN0TWFuYWdlci5fc2t1VG9rZW4sdGhpcy5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuLCgpPT57fSl9X3VwZGF0ZVRlcnJhaW4oKXtjb25zdCBlPXRoaXMuX2lzRHJhZ2dpbmcoKTt0aGlzLnBhaW50ZXIudXBkYXRlVGVycmFpbih0aGlzLnN0eWxlLGUpfV9jYWxjdWxhdGVTcGVlZEluZGV4KCl7Y29uc3QgZT10aGlzLnBhaW50ZXIuY2FudmFzQ29weSgpLHQ9dGhpcy5wYWludGVyLmdldENhbnZhc0NvcGllc0FuZFRpbWVzdGFtcHMoKTt0LnRpbWVTdGFtcHMucHVzaChwZXJmb3JtYW5jZS5ub3coKSk7Y29uc3Qgbj10aGlzLnBhaW50ZXIuY29udGV4dC5nbCxpPW4uY3JlYXRlRnJhbWVidWZmZXIoKTtmdW5jdGlvbiByKGUpe24uZnJhbWVidWZmZXJUZXh0dXJlMkQobi5GUkFNRUJVRkZFUixuLkNPTE9SX0FUVEFDSE1FTlQwLG4uVEVYVFVSRV8yRCxlLDApO2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkobi5kcmF3aW5nQnVmZmVyV2lkdGgqbi5kcmF3aW5nQnVmZmVySGVpZ2h0KjQpO3JldHVybiBuLnJlYWRQaXhlbHMoMCwwLG4uZHJhd2luZ0J1ZmZlcldpZHRoLG4uZHJhd2luZ0J1ZmZlckhlaWdodCxuLlJHQkEsbi5VTlNJR05FRF9CWVRFLHQpLHR9cmV0dXJuIG4uYmluZEZyYW1lYnVmZmVyKG4uRlJBTUVCVUZGRVIsaSksdGhpcy5fY2FudmFzUGl4ZWxDb21wYXJpc29uKHIoZSksdC5jYW52YXNDb3BpZXMubWFwKHIpLHQudGltZVN0YW1wcyl9X2NhbnZhc1BpeGVsQ29tcGFyaXNvbihlLHQsbil7bGV0IGk9blsxXS1uWzBdO2NvbnN0IHI9ZS5sZW5ndGgvNDtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKyl7Y29uc3QgYT10W29dO2xldCBzPTA7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aDt0Kz00KWFbdF09PT1lW3RdJiZhW3QrMV09PT1lW3QrMV0mJmFbdCsyXT09PWVbdCsyXSYmYVt0KzNdPT09ZVt0KzNdJiYocys9MSk7aSs9KG5bbysyXS1uW28rMV0pKigxLXMvcil9cmV0dXJuIGl9cmVtb3ZlKCl7dGhpcy5faGFzaCYmdGhpcy5faGFzaC5yZW1vdmUoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9jb250cm9scyllLm9uUmVtb3ZlKHRoaXMpO3RoaXMuX2NvbnRyb2xzPVtdLHRoaXMuX2ZyYW1lJiYodGhpcy5fZnJhbWUuY2FuY2VsKCksdGhpcy5fZnJhbWU9bnVsbCksdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmNsZWFyKCksdGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlLmNsZWFyKCksdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5kZXN0cm95KCksdGhpcy5wYWludGVyLmRlc3Ryb3koKSx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmRlc3Ryb3koKSx0aGlzLmhhbmRsZXJzPXZvaWQgMCx0aGlzLnNldFN0eWxlKG51bGwpLHZvaWQgMCE9PWUud2luZG93JiYoZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLHRoaXMuX29uV2luZG93T25saW5lLCExKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSwhMSkpO2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQuZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpO3QmJnQubG9zZUNvbnRleHQoKSx0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dGxvc3RcIix0aGlzLl9jb250ZXh0TG9zdCwhMSksdGhpcy5fY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRyZXN0b3JlZFwiLHRoaXMuX2NvbnRleHRSZXN0b3JlZCwhMSksdGhpcy5fY2FudmFzQ29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX2NvbnRyb2xDb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWlzc2luZ0NTU0NhbmFyeS5yZW1vdmUoKSx0aGlzLl9jYW52YXM9dm9pZCAwLHRoaXMuX2NhbnZhc0NvbnRhaW5lcj12b2lkIDAsdGhpcy5fY29udHJvbENvbnRhaW5lcj12b2lkIDAsdGhpcy5fbWlzc2luZ0NTU0NhbmFyeT12b2lkIDAsdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1tYXBcIiksdGhpcy5fY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLl9vbk1hcFNjcm9sbCwhMSksZS5yZW1vdmVBdXRoU3RhdGUodGhpcy5wYWludGVyLmNvbnRleHQuZ2wpLHRoaXMuX3JlbW92ZWQ9ITAsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicmVtb3ZlXCIpKX10cmlnZ2VyUmVwYWludCgpe3RoaXMuX3RyaWdnZXJGcmFtZSghMCl9X3RyaWdnZXJGcmFtZSh0KXt0aGlzLl9yZW5kZXJOZXh0RnJhbWU9dGhpcy5fcmVuZGVyTmV4dEZyYW1lfHx0LHRoaXMuc3R5bGUmJiF0aGlzLl9mcmFtZSYmKHRoaXMuX2ZyYW1lPWUuZXhwb3J0ZWQuZnJhbWUoZT0+e2NvbnN0IHQ9ISF0aGlzLl9yZW5kZXJOZXh0RnJhbWU7dGhpcy5fZnJhbWU9bnVsbCx0aGlzLl9yZW5kZXJOZXh0RnJhbWU9bnVsbCx0JiZ0aGlzLl9yZW5kZXIoZSl9KSl9X3ByZWxvYWRUaWxlcyh0KXtjb25zdCBuPXRoaXMuc3R5bGU/T2JqZWN0LnZhbHVlcyh0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXMpOltdO3JldHVybiBlLmFzeW5jQWxsKG4sKGUsbik9PmUuX3ByZWxvYWRUaWxlcyh0LG4pLCgpPT57dGhpcy50cmlnZ2VyUmVwYWludCgpfSksdGhpc31fb25XaW5kb3dPbmxpbmUoKXt0aGlzLl91cGRhdGUoKX1fb25XaW5kb3dSZXNpemUoZSl7dGhpcy5fdHJhY2tSZXNpemUmJnRoaXMucmVzaXplKHtvcmlnaW5hbEV2ZW50OmV9KS5fdXBkYXRlKCl9X29uVmlzaWJpbGl0eUNoYW5nZSgpe1wiaGlkZGVuXCI9PT1lLndpbmRvdy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUmJnRoaXMuX3Zpc2liaWxpdHlIaWRkZW4rK31nZXQgc2hvd1RpbGVCb3VuZGFyaWVzKCl7cmV0dXJuISF0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXN9c2V0IHNob3dUaWxlQm91bmRhcmllcyhlKXt0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXMhPT1lJiYodGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzPWUsdGhpcy5fdXBkYXRlKCkpfWdldCBzaG93VGVycmFpbldpcmVmcmFtZSgpe3JldHVybiEhdGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWV9c2V0IHNob3dUZXJyYWluV2lyZWZyYW1lKGUpe3RoaXMuX3Nob3dUZXJyYWluV2lyZWZyYW1lIT09ZSYmKHRoaXMuX3Nob3dUZXJyYWluV2lyZWZyYW1lPWUsdGhpcy5fdXBkYXRlKCkpfWdldCBzcGVlZEluZGV4VGltaW5nKCl7cmV0dXJuISF0aGlzLl9zcGVlZEluZGV4VGltaW5nfXNldCBzcGVlZEluZGV4VGltaW5nKGUpe3RoaXMuX3NwZWVkSW5kZXhUaW1pbmchPT1lJiYodGhpcy5fc3BlZWRJbmRleFRpbWluZz1lLHRoaXMuX3VwZGF0ZSgpKX1nZXQgc2hvd1BhZGRpbmcoKXtyZXR1cm4hIXRoaXMuX3Nob3dQYWRkaW5nfXNldCBzaG93UGFkZGluZyhlKXt0aGlzLl9zaG93UGFkZGluZyE9PWUmJih0aGlzLl9zaG93UGFkZGluZz1lLHRoaXMuX3VwZGF0ZSgpKX1nZXQgc2hvd0NvbGxpc2lvbkJveGVzKCl7cmV0dXJuISF0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXN9c2V0IHNob3dDb2xsaXNpb25Cb3hlcyhlKXt0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMhPT1lJiYodGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzPWUsZT90aGlzLnN0eWxlLl9nZW5lcmF0ZUNvbGxpc2lvbkJveGVzKCk6dGhpcy5fdXBkYXRlKCkpfWdldCBzaG93T3ZlcmRyYXdJbnNwZWN0b3IoKXtyZXR1cm4hIXRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcn1zZXQgc2hvd092ZXJkcmF3SW5zcGVjdG9yKGUpe3RoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciE9PWUmJih0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I9ZSx0aGlzLl91cGRhdGUoKSl9Z2V0IHJlcGFpbnQoKXtyZXR1cm4hIXRoaXMuX3JlcGFpbnR9c2V0IHJlcGFpbnQoZSl7dGhpcy5fcmVwYWludCE9PWUmJih0aGlzLl9yZXBhaW50PWUsdGhpcy50cmlnZ2VyUmVwYWludCgpKX1nZXQgdmVydGljZXMoKXtyZXR1cm4hIXRoaXMuX3ZlcnRpY2VzfXNldCB2ZXJ0aWNlcyhlKXt0aGlzLl92ZXJ0aWNlcz1lLHRoaXMuX3VwZGF0ZSgpfWdldCBzaG93VGlsZUFBQkJzKCl7cmV0dXJuISF0aGlzLl9zaG93VGlsZUFBQkJzfXNldCBzaG93VGlsZUFBQkJzKGUpe3RoaXMuX3Nob3dUaWxlQUFCQnMhPT1lJiYodGhpcy5fc2hvd1RpbGVBQUJCcz1lLGUmJnRoaXMuX3VwZGF0ZSgpKX1fc2V0Q2FjaGVMaW1pdHModCxuKXtlLnNldENhY2hlTGltaXRzKHQsbil9Z2V0IHZlcnNpb24oKXtyZXR1cm4gZS52ZXJzaW9ufX0sTmF2aWdhdGlvbkNvbnRyb2w6Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5vcHRpb25zPWUuZXh0ZW5kKHt9LHNvLHQpLHRoaXMuX2NvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBcIiksdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLGU9PmUucHJldmVudERlZmF1bHQoKSksdGhpcy5vcHRpb25zLnNob3dab29tJiYoZS5iaW5kQWxsKFtcIl9zZXRCdXR0b25UaXRsZVwiLFwiX3VwZGF0ZVpvb21CdXR0b25zXCJdLHRoaXMpLHRoaXMuX3pvb21JbkJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24oXCJtYXBib3hnbC1jdHJsLXpvb20taW5cIixlPT57dGhpcy5fbWFwJiZ0aGlzLl9tYXAuem9vbUluKHt9LHtvcmlnaW5hbEV2ZW50OmV9KX0pLG8oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl96b29tSW5CdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMuX3pvb21PdXRCdXR0b249dGhpcy5fY3JlYXRlQnV0dG9uKFwibWFwYm94Z2wtY3RybC16b29tLW91dFwiLGU9Pnt0aGlzLl9tYXAmJnRoaXMuX21hcC56b29tT3V0KHt9LHtvcmlnaW5hbEV2ZW50OmV9KX0pLG8oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl96b29tT3V0QnV0dG9uKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYoZS5iaW5kQWxsKFtcIl9yb3RhdGVDb21wYXNzQXJyb3dcIl0sdGhpcyksdGhpcy5fY29tcGFzcz10aGlzLl9jcmVhdGVCdXR0b24oXCJtYXBib3hnbC1jdHJsLWNvbXBhc3NcIixlPT57Y29uc3QgdD10aGlzLl9tYXA7dCYmKHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaD90LnJlc2V0Tm9ydGhQaXRjaCh7fSx7b3JpZ2luYWxFdmVudDplfSk6dC5yZXNldE5vcnRoKHt9LHtvcmlnaW5hbEV2ZW50OmV9KSl9KSx0aGlzLl9jb21wYXNzSWNvbj1vKFwic3BhblwiLFwibWFwYm94Z2wtY3RybC1pY29uXCIsdGhpcy5fY29tcGFzcyksdGhpcy5fY29tcGFzc0ljb24uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIikpfV91cGRhdGVab29tQnV0dG9ucygpe2NvbnN0IGU9dGhpcy5fbWFwO2lmKCFlKXJldHVybjtjb25zdCB0PWUuZ2V0Wm9vbSgpLG49dD09PWUuZ2V0TWF4Wm9vbSgpLGk9dD09PWUuZ2V0TWluWm9vbSgpO3RoaXMuX3pvb21JbkJ1dHRvbi5kaXNhYmxlZD1uLHRoaXMuX3pvb21PdXRCdXR0b24uZGlzYWJsZWQ9aSx0aGlzLl96b29tSW5CdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLG4udG9TdHJpbmcoKSksdGhpcy5fem9vbU91dEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsaS50b1N0cmluZygpKX1fcm90YXRlQ29tcGFzc0Fycm93KCl7Y29uc3QgZT10aGlzLl9tYXA7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoP2BzY2FsZSgkezEvTWF0aC5wb3coTWF0aC5jb3MoZS50cmFuc2Zvcm0ucGl0Y2gqKE1hdGguUEkvMTgwKSksLjUpfSkgcm90YXRlWCgke2UudHJhbnNmb3JtLnBpdGNofWRlZykgcm90YXRlWigke2UudHJhbnNmb3JtLmFuZ2xlKigxODAvTWF0aC5QSSl9ZGVnKWA6YHJvdGF0ZSgke2UudHJhbnNmb3JtLmFuZ2xlKigxODAvTWF0aC5QSSl9ZGVnKWA7ZS5fcmVxdWVzdERvbVRhc2soKCk9Pnt0aGlzLl9jb21wYXNzSWNvbiYmKHRoaXMuX2NvbXBhc3NJY29uLnN0eWxlLnRyYW5zZm9ybT10KX0pfW9uQWRkKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJih0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl96b29tSW5CdXR0b24sXCJab29tSW5cIiksdGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fem9vbU91dEJ1dHRvbixcIlpvb21PdXRcIiksZS5vbihcInpvb21cIix0aGlzLl91cGRhdGVab29tQnV0dG9ucyksdGhpcy5fdXBkYXRlWm9vbUJ1dHRvbnMoKSksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYodGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fY29tcGFzcyxcIlJlc2V0QmVhcmluZ1wiKSx0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2gmJmUub24oXCJwaXRjaFwiLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyksZS5vbihcInJvdGF0ZVwiLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyksdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KCksdGhpcy5faGFuZGxlcj1uZXcgbG8oZSx0aGlzLl9jb21wYXNzLHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCkpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe2NvbnN0IGU9dGhpcy5fbWFwO2UmJih0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5vcHRpb25zLnNob3dab29tJiZlLm9mZihcInpvb21cIix0aGlzLl91cGRhdGVab29tQnV0dG9ucyksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYodGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoJiZlLm9mZihcInBpdGNoXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSxlLm9mZihcInJvdGF0ZVwiLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyksdGhpcy5faGFuZGxlciYmdGhpcy5faGFuZGxlci5vZmYoKSx0aGlzLl9oYW5kbGVyPXZvaWQgMCksdGhpcy5fbWFwPXZvaWQgMCl9X2NyZWF0ZUJ1dHRvbihlLHQpe2NvbnN0IG49byhcImJ1dHRvblwiLGUsdGhpcy5fY29udGFpbmVyKTtyZXR1cm4gbi50eXBlPVwiYnV0dG9uXCIsbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0KSxufV9zZXRCdXR0b25UaXRsZShlLHQpe2lmKCF0aGlzLl9tYXApcmV0dXJuO2NvbnN0IG49dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIk5hdmlnYXRpb25Db250cm9sLlwiK3QpO2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLG4pLGUuZmlyc3RFbGVtZW50Q2hpbGQmJmUuZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixuKX19LEdlb2xvY2F0ZUNvbnRyb2w6Y2xhc3MgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLm9wdGlvbnM9ZS5leHRlbmQoe2dlb2xvY2F0aW9uOmUud2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbn0sY28sdCksZS5iaW5kQWxsKFtcIl9vblN1Y2Nlc3NcIixcIl9vbkVycm9yXCIsXCJfb25ab29tXCIsXCJfZmluaXNoXCIsXCJfc2V0dXBVSVwiLFwiX3VwZGF0ZUNhbWVyYVwiLFwiX3VwZGF0ZU1hcmtlclwiLFwiX3VwZGF0ZU1hcmtlclJvdGF0aW9uXCIsXCJfb25EZXZpY2VPcmllbnRhdGlvblwiXSx0aGlzKSx0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvblRocm90dGxlZD1ZaSh0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvbiwyMCksdGhpcy5fbnVtYmVyT2ZXYXRjaGVzPTB9b25BZGQoZSl7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMuX2NvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBcIiksdGhpcy5fY2hlY2tHZW9sb2NhdGlvblN1cHBvcnQodGhpcy5fc2V0dXBVSSksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEJiYodGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dm9pZCAwKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyJiZ0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlKCksdGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSYmdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXImJnRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnJlbW92ZSgpLHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXAub2ZmKFwiem9vbVwiLHRoaXMuX29uWm9vbSksdGhpcy5fbWFwPXZvaWQgMCx0aGlzLl9udW1iZXJPZldhdGNoZXM9MCx0aGlzLl9ub1RpbWVvdXQ9ITF9X2NoZWNrR2VvbG9jYXRpb25TdXBwb3J0KHQpe2NvbnN0IG49KGU9ISF0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24pPT57dGhpcy5fc3VwcG9ydHNHZW9sb2NhdGlvbj1lLHQoZSl9O3ZvaWQgMCE9PXRoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb24/dCh0aGlzLl9zdXBwb3J0c0dlb2xvY2F0aW9uKTp2b2lkIDAhPT1lLndpbmRvdy5uYXZpZ2F0b3IucGVybWlzc2lvbnM/ZS53aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHtuYW1lOlwiZ2VvbG9jYXRpb25cIn0pLnRoZW4oZT0+bihcImRlbmllZFwiIT09ZS5zdGF0ZSkpLmNhdGNoKCgpPT5uKCkpOm4oKX1faXNPdXRPZk1hcE1heEJvdW5kcyhlKXtjb25zdCB0PXRoaXMuX21hcC5nZXRNYXhCb3VuZHMoKSxuPWUuY29vcmRzO3JldHVybiEhdCYmKG4ubG9uZ2l0dWRlPHQuZ2V0V2VzdCgpfHxuLmxvbmdpdHVkZT50LmdldEVhc3QoKXx8bi5sYXRpdHVkZTx0LmdldFNvdXRoKCl8fG4ubGF0aXR1ZGU+dC5nZXROb3J0aCgpKX1fc2V0RXJyb3JTdGF0ZSgpe3N3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJXQUlUSU5HX0FDVElWRVwiOnRoaXMuX3dhdGNoU3RhdGU9XCJBQ1RJVkVfRVJST1JcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKTticmVhaztjYXNlXCJBQ1RJVkVfTE9DS1wiOnRoaXMuX3dhdGNoU3RhdGU9XCJBQ1RJVkVfRVJST1JcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIik7YnJlYWs7Y2FzZVwiQkFDS0dST1VORFwiOnRoaXMuX3dhdGNoU3RhdGU9XCJCQUNLR1JPVU5EX0VSUk9SXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIil9fV9vblN1Y2Nlc3ModCl7aWYodGhpcy5fbWFwKXtpZih0aGlzLl9pc091dE9mTWFwTWF4Qm91bmRzKHQpKXJldHVybiB0aGlzLl9zZXRFcnJvclN0YXRlKCksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwib3V0b2ZtYXhib3VuZHNcIix0KSksdGhpcy5fdXBkYXRlTWFya2VyKCksdm9pZCB0aGlzLl9maW5pc2goKTtpZih0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pc3dpdGNoKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uPXQsdGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZVwiV0FJVElOR19BQ1RJVkVcIjpjYXNlXCJBQ1RJVkVfTE9DS1wiOmNhc2VcIkFDVElWRV9FUlJPUlwiOnRoaXMuX3dhdGNoU3RhdGU9XCJBQ1RJVkVfTE9DS1wiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6Y2FzZVwiQkFDS0dST1VORF9FUlJPUlwiOnRoaXMuX3dhdGNoU3RhdGU9XCJCQUNLR1JPVU5EXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIil9dGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJlwiT0ZGXCIhPT10aGlzLl93YXRjaFN0YXRlJiZ0aGlzLl91cGRhdGVNYXJrZXIodCksdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiZcIkFDVElWRV9MT0NLXCIhPT10aGlzLl93YXRjaFN0YXRlfHx0aGlzLl91cGRhdGVDYW1lcmEodCksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlXCIpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImdlb2xvY2F0ZVwiLHQpKSx0aGlzLl9maW5pc2goKX19X3VwZGF0ZUNhbWVyYSh0KXtjb25zdCBuPW5ldyBlLkxuZ0xhdCh0LmNvb3Jkcy5sb25naXR1ZGUsdC5jb29yZHMubGF0aXR1ZGUpLGk9dC5jb29yZHMuYWNjdXJhY3kscj10aGlzLl9tYXAuZ2V0QmVhcmluZygpLG89ZS5leHRlbmQoe2JlYXJpbmc6cn0sdGhpcy5vcHRpb25zLmZpdEJvdW5kc09wdGlvbnMpO3RoaXMuX21hcC5maXRCb3VuZHMobi50b0JvdW5kcyhpKSxvLHtnZW9sb2NhdGVTb3VyY2U6ITB9KX1fdXBkYXRlTWFya2VyKHQpe2lmKHQpe2NvbnN0IG49bmV3IGUuTG5nTGF0KHQuY29vcmRzLmxvbmdpdHVkZSx0LmNvb3Jkcy5sYXRpdHVkZSk7dGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIuc2V0TG5nTGF0KG4pLmFkZFRvKHRoaXMuX21hcCksdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnNldExuZ0xhdChuKS5hZGRUbyh0aGlzLl9tYXApLHRoaXMuX2FjY3VyYWN5PXQuY29vcmRzLmFjY3VyYWN5LHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl91cGRhdGVDaXJjbGVSYWRpdXMoKX1lbHNlIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKSx0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlci5yZW1vdmUoKX1fdXBkYXRlQ2lyY2xlUmFkaXVzKCl7Y29uc3QgdD10aGlzLl9tYXAudHJhbnNmb3JtLG49ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0Ll9jZW50ZXIubGF0KSp0LndvcmxkU2l6ZSxpPU1hdGguY2VpbCgyKnRoaXMuX2FjY3VyYWN5Km4pO3RoaXMuX2NpcmNsZUVsZW1lbnQuc3R5bGUud2lkdGg9aStcInB4XCIsdGhpcy5fY2lyY2xlRWxlbWVudC5zdHlsZS5oZWlnaHQ9aStcInB4XCJ9X29uWm9vbSgpe3RoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl91cGRhdGVDaXJjbGVSYWRpdXMoKX1fdXBkYXRlTWFya2VyUm90YXRpb24oKXt0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXImJlwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9oZWFkaW5nPyh0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0Um90YXRpb24odGhpcy5faGVhZGluZyksdGhpcy5fZG90RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmdcIikpOih0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZ1wiKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0Um90YXRpb24oMCkpfV9vbkVycm9yKHQpe2lmKHRoaXMuX21hcCl7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKWlmKDE9PT10LmNvZGUpe3RoaXMuX3dhdGNoU3RhdGU9XCJPRkZcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uZGlzYWJsZWQ9ITA7Y29uc3QgZT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZVwiKTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGUpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsZSksdm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEJiZ0aGlzLl9jbGVhcldhdGNoKCl9ZWxzZXtpZigzPT09dC5jb2RlJiZ0aGlzLl9ub1RpbWVvdXQpcmV0dXJuO3RoaXMuX3NldEVycm9yU3RhdGUoKX1cIk9GRlwiIT09dGhpcy5fd2F0Y2hTdGF0ZSYmdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlXCIpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImVycm9yXCIsdCkpLHRoaXMuX2ZpbmlzaCgpfX1fZmluaXNoKCl7dGhpcy5fdGltZW91dElkJiZjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dElkKSx0aGlzLl90aW1lb3V0SWQ9dm9pZCAwfV9zZXR1cFVJKHQpe2lmKHZvaWQgMCE9PXRoaXMuX21hcCl7aWYodGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLGU9PmUucHJldmVudERlZmF1bHQoKSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uPW8oXCJidXR0b25cIixcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlXCIsdGhpcy5fY29udGFpbmVyKSxvKFwic3BhblwiLFwibWFwYm94Z2wtY3RybC1pY29uXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24udHlwZT1cImJ1dHRvblwiLCExPT09dCl7ZS53YXJuT25jZShcIkdlb2xvY2F0aW9uIHN1cHBvcnQgaXMgbm90IGF2YWlsYWJsZSBzbyB0aGUgR2VvbG9jYXRlQ29udHJvbCB3aWxsIGJlIGRpc2FibGVkLlwiKTtjb25zdCB0PXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlXCIpO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5kaXNhYmxlZD0hMCx0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHQpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsdCl9ZWxzZXtjb25zdCBlPXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJHZW9sb2NhdGVDb250cm9sLkZpbmRNeUxvY2F0aW9uXCIpO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkJiZ0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixlKX10aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJih0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsXCJmYWxzZVwiKSx0aGlzLl93YXRjaFN0YXRlPVwiT0ZGXCIpLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiYodGhpcy5fZG90RWxlbWVudD1vKFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uXCIpLHRoaXMuX2RvdEVsZW1lbnQuYXBwZW5kQ2hpbGQobyhcImRpdlwiLFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3RcIikpLHRoaXMuX2RvdEVsZW1lbnQuYXBwZW5kQ2hpbGQobyhcImRpdlwiLFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1oZWFkaW5nXCIpKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXI9bmV3IGVvKHtlbGVtZW50OnRoaXMuX2RvdEVsZW1lbnQscm90YXRpb25BbGlnbm1lbnQ6XCJtYXBcIixwaXRjaEFsaWdubWVudDpcIm1hcFwifSksdGhpcy5fY2lyY2xlRWxlbWVudD1vKFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWFjY3VyYWN5LWNpcmNsZVwiKSx0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlcj1uZXcgZW8oe2VsZW1lbnQ6dGhpcy5fY2lyY2xlRWxlbWVudCxwaXRjaEFsaWdubWVudDpcIm1hcFwifSksdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiYodGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiKSx0aGlzLl9tYXAub24oXCJ6b29tXCIsdGhpcy5fb25ab29tKSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMudHJpZ2dlci5iaW5kKHRoaXMpKSx0aGlzLl9zZXR1cD0hMCx0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJnRoaXMuX21hcC5vbihcIm1vdmVzdGFydFwiLHQ9Pnt0Lmdlb2xvY2F0ZVNvdXJjZXx8XCJBQ1RJVkVfTE9DS1wiIT09dGhpcy5fd2F0Y2hTdGF0ZXx8dC5vcmlnaW5hbEV2ZW50JiZcInJlc2l6ZVwiPT09dC5vcmlnaW5hbEV2ZW50LnR5cGV8fCh0aGlzLl93YXRjaFN0YXRlPVwiQkFDS0dST1VORFwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ0cmFja3VzZXJsb2NhdGlvbmVuZFwiKSkpfSl9fV9vbkRldmljZU9yaWVudGF0aW9uKGUpe3RoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlciYmKGUud2Via2l0Q29tcGFzc0hlYWRpbmc/dGhpcy5faGVhZGluZz1lLndlYmtpdENvbXBhc3NIZWFkaW5nOiEwPT09ZS5hYnNvbHV0ZSYmKHRoaXMuX2hlYWRpbmc9LTEqZS5hbHBoYSksdGhpcy5fdXBkYXRlTWFya2VyUm90YXRpb25UaHJvdHRsZWQoKSl9dHJpZ2dlcigpe2lmKCF0aGlzLl9zZXR1cClyZXR1cm4gZS53YXJuT25jZShcIkdlb2xvY2F0ZSBjb250cm9sIHRyaWdnZXJlZCBiZWZvcmUgYWRkZWQgdG8gYSBtYXBcIiksITE7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKXtzd2l0Y2godGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZVwiT0ZGXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIldBSVRJTkdfQUNUSVZFXCIsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwidHJhY2t1c2VybG9jYXRpb25zdGFydFwiKSk7YnJlYWs7Y2FzZVwiV0FJVElOR19BQ1RJVkVcIjpjYXNlXCJBQ1RJVkVfTE9DS1wiOmNhc2VcIkFDVElWRV9FUlJPUlwiOmNhc2VcIkJBQ0tHUk9VTkRfRVJST1JcIjp0aGlzLl9udW1iZXJPZldhdGNoZXMtLSx0aGlzLl9ub1RpbWVvdXQ9ITEsdGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcInRyYWNrdXNlcmxvY2F0aW9uZW5kXCIpKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9MT0NLXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2xhc3RLbm93blBvc2l0aW9uJiZ0aGlzLl91cGRhdGVDYW1lcmEodGhpcy5fbGFzdEtub3duUG9zaXRpb24pLHRoaXMuZmlyZShuZXcgZS5FdmVudChcInRyYWNrdXNlcmxvY2F0aW9uc3RhcnRcIikpfXN3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJXQUlUSU5HX0FDVElWRVwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKTticmVhaztjYXNlXCJBQ1RJVkVfTE9DS1wiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpO2JyZWFrO2Nhc2VcIkFDVElWRV9FUlJPUlwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRfRVJST1JcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpfWlmKFwiT0ZGXCI9PT10aGlzLl93YXRjaFN0YXRlJiZ2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpdGhpcy5fY2xlYXJXYXRjaCgpO2Vsc2UgaWYodm9pZCAwPT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKXtsZXQgZTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLFwidHJ1ZVwiKSx0aGlzLl9udW1iZXJPZldhdGNoZXMrKyx0aGlzLl9udW1iZXJPZldhdGNoZXM+MT8oZT17bWF4aW11bUFnZTo2ZTUsdGltZW91dDowfSx0aGlzLl9ub1RpbWVvdXQ9ITApOihlPXRoaXMub3B0aW9ucy5wb3NpdGlvbk9wdGlvbnMsdGhpcy5fbm9UaW1lb3V0PSExKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24odGhpcy5fb25TdWNjZXNzLHRoaXMuX29uRXJyb3IsZSksdGhpcy5vcHRpb25zLnNob3dVc2VySGVhZGluZyYmdGhpcy5fYWRkRGV2aWNlT3JpZW50YXRpb25MaXN0ZW5lcigpfX1lbHNlIHRoaXMub3B0aW9ucy5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24odGhpcy5fb25TdWNjZXNzLHRoaXMuX29uRXJyb3IsdGhpcy5vcHRpb25zLnBvc2l0aW9uT3B0aW9ucyksdGhpcy5fdGltZW91dElkPXNldFRpbWVvdXQodGhpcy5fZmluaXNoLDFlNCk7cmV0dXJuITB9X2FkZERldmljZU9yaWVudGF0aW9uTGlzdGVuZXIoKXtjb25zdCB0PSgpPT57ZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9uZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZVwiaW4gZS53aW5kb3c/XCJkZXZpY2VvcmllbnRhdGlvbmFic29sdXRlXCI6XCJkZXZpY2VvcmllbnRhdGlvblwiLHRoaXMuX29uRGV2aWNlT3JpZW50YXRpb24pfTt2b2lkIDAhPT1lLndpbmRvdy5EZXZpY2VNb3Rpb25FdmVudCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS53aW5kb3cuRGV2aWNlTW90aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24/RGV2aWNlT3JpZW50YXRpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4oZT0+e1wiZ3JhbnRlZFwiPT09ZSYmdCgpfSkuY2F0Y2goY29uc29sZS5lcnJvcik6dCgpfV9jbGVhcldhdGNoKCl7dGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25cIix0aGlzLl9vbkRldmljZU9yaWVudGF0aW9uKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZVwiLHRoaXMuX29uRGV2aWNlT3JpZW50YXRpb24pLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD12b2lkIDAsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIixcImZhbHNlXCIpLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl91cGRhdGVNYXJrZXIobnVsbCl9fSxBdHRyaWJ1dGlvbkNvbnRyb2w6WHIsU2NhbGVDb250cm9sOmNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMub3B0aW9ucz1lLmV4dGVuZCh7fSx1byx0KSxmdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KFwiZW5cIix7c3R5bGU6XCJ1bml0XCIsdW5pdERpc3BsYXk6XCJuYXJyb3dcIix1bml0OlwibWV0ZXJcIn0pLCEwfWNhdGNoKGUpe3JldHVybiExfX0oKXx8KHRoaXMuX3NldFNjYWxlPWhvLmJpbmQodGhpcykpLGUuYmluZEFsbChbXCJfdXBkYXRlXCIsXCJfc2V0U2NhbGVcIixcInNldFVuaXRcIl0sdGhpcyl9Z2V0RGVmYXVsdFBvc2l0aW9uKCl7cmV0dXJuXCJib3R0b20tbGVmdFwifV91cGRhdGUoKXtjb25zdCBlPXRoaXMub3B0aW9ucy5tYXhXaWR0aHx8MTAwLHQ9dGhpcy5fbWFwLG49dC5fY29udGFpbmVySGVpZ2h0LzIsaT10Ll9jb250YWluZXJXaWR0aC8yLWUvMixyPXQudW5wcm9qZWN0KFtpLG5dKSxvPXQudW5wcm9qZWN0KFtpK2Usbl0pLGE9ci5kaXN0YW5jZVRvKG8pO2lmKFwiaW1wZXJpYWxcIj09PXRoaXMub3B0aW9ucy51bml0KXtjb25zdCB0PTMuMjgwOCphO3Q+NTI4MD90aGlzLl9zZXRTY2FsZShlLHQvNTI4MCxcIm1pbGVcIik6dGhpcy5fc2V0U2NhbGUoZSx0LFwiZm9vdFwiKX1lbHNlXCJuYXV0aWNhbFwiPT09dGhpcy5vcHRpb25zLnVuaXQ/dGhpcy5fc2V0U2NhbGUoZSxhLzE4NTIsXCJuYXV0aWNhbC1taWxlXCIpOmE+PTFlMz90aGlzLl9zZXRTY2FsZShlLGEvMWUzLFwia2lsb21ldGVyXCIpOnRoaXMuX3NldFNjYWxlKGUsYSxcIm1ldGVyXCIpfV9zZXRTY2FsZShlLHQsbil7Y29uc3QgaT1wbyh0KSxyPWkvdDt0aGlzLl9tYXAuX3JlcXVlc3REb21UYXNrKCgpPT57dGhpcy5fY29udGFpbmVyLnN0eWxlLndpZHRoPWUqcitcInB4XCIsdGhpcy5fY29udGFpbmVyLmlubmVySFRNTD1cIm5hdXRpY2FsLW1pbGVcIiE9PW4/bmV3IEludGwuTnVtYmVyRm9ybWF0KHRoaXMuX2xhbmd1YWdlLHtzdHlsZTpcInVuaXRcIix1bml0RGlzcGxheTpcIm5hcnJvd1wiLHVuaXQ6bn0pLmZvcm1hdChpKTppK1wiJm5ic3A7bm1cIn0pfW9uQWRkKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9sYW5ndWFnZT1lLmdldExhbmd1YWdlKCksdGhpcy5fY29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1zY2FsZVwiLGUuZ2V0Q29udGFpbmVyKCkpLHRoaXMuX2NvbnRhaW5lci5kaXI9XCJhdXRvXCIsdGhpcy5fbWFwLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdGhpcy5fdXBkYXRlKCksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSx0aGlzLl9tYXA9dm9pZCAwfV9zZXRMYW5ndWFnZShlKXt0aGlzLl9sYW5ndWFnZT1lLHRoaXMuX3VwZGF0ZSgpfXNldFVuaXQoZSl7dGhpcy5vcHRpb25zLnVuaXQ9ZSx0aGlzLl91cGRhdGUoKX19LEZ1bGxzY3JlZW5Db250cm9sOmNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuX2Z1bGxzY3JlZW49ITEsdCYmdC5jb250YWluZXImJih0LmNvbnRhaW5lciBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxFbGVtZW50P3RoaXMuX2NvbnRhaW5lcj10LmNvbnRhaW5lcjplLndhcm5PbmNlKFwiRnVsbCBzY3JlZW4gY29udHJvbCAnY29udGFpbmVyJyBtdXN0IGJlIGEgRE9NIGVsZW1lbnQuXCIpKSxlLmJpbmRBbGwoW1wiX29uQ2xpY2tGdWxsc2NyZWVuXCIsXCJfY2hhbmdlSWNvblwiXSx0aGlzKSxcIm9uZnVsbHNjcmVlbmNoYW5nZVwiaW4gZS53aW5kb3cuZG9jdW1lbnQ/dGhpcy5fZnVsbHNjcmVlbmNoYW5nZT1cImZ1bGxzY3JlZW5jaGFuZ2VcIjpcIm9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiaW4gZS53aW5kb3cuZG9jdW1lbnQmJih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlPVwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiKX1vbkFkZCh0KXtyZXR1cm4gdGhpcy5fbWFwPXQsdGhpcy5fY29udGFpbmVyfHwodGhpcy5fY29udGFpbmVyPXRoaXMuX21hcC5nZXRDb250YWluZXIoKSksdGhpcy5fY29udHJvbENvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBcIiksdGhpcy5fY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCgpP3RoaXMuX3NldHVwVUkoKToodGhpcy5fY29udHJvbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGUud2Fybk9uY2UoXCJUaGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZ1bGxzY3JlZW4gbW9kZS5cIikpLHRoaXMuX2NvbnRyb2xDb250YWluZXJ9b25SZW1vdmUoKXt0aGlzLl9jb250cm9sQ29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcD1udWxsLGUud2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSx0aGlzLl9jaGFuZ2VJY29uKX1fY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCgpe3JldHVybiEoIWUud2luZG93LmRvY3VtZW50LmZ1bGxzY3JlZW5FbmFibGVkJiYhZS53aW5kb3cuZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVuYWJsZWQpfV9zZXR1cFVJKCl7Y29uc3QgdD10aGlzLl9mdWxsc2NyZWVuQnV0dG9uPW8oXCJidXR0b25cIixcIm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlblwiLHRoaXMuX2NvbnRyb2xDb250YWluZXIpO28oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0KS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0LnR5cGU9XCJidXR0b25cIix0aGlzLl91cGRhdGVUaXRsZSgpLHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25DbGlja0Z1bGxzY3JlZW4pLGUud2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSx0aGlzLl9jaGFuZ2VJY29uKX1fdXBkYXRlVGl0bGUoKXtjb25zdCBlPXRoaXMuX2dldFRpdGxlKCk7dGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGUpfV9nZXRUaXRsZSgpe3JldHVybiB0aGlzLl9tYXAuX2dldFVJU3RyaW5nKHRoaXMuX2lzRnVsbHNjcmVlbigpP1wiRnVsbHNjcmVlbkNvbnRyb2wuRXhpdFwiOlwiRnVsbHNjcmVlbkNvbnRyb2wuRW50ZXJcIil9X2lzRnVsbHNjcmVlbigpe3JldHVybiB0aGlzLl9mdWxsc2NyZWVufV9jaGFuZ2VJY29uKCl7KGUud2luZG93LmRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHxlLndpbmRvdy5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCk9PT10aGlzLl9jb250YWluZXIhPT10aGlzLl9mdWxsc2NyZWVuJiYodGhpcy5fZnVsbHNjcmVlbj0hdGhpcy5fZnVsbHNjcmVlbix0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJtYXBib3hnbC1jdHJsLXNocmlua1wiKSx0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJtYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW5cIiksdGhpcy5fdXBkYXRlVGl0bGUoKSl9X29uQ2xpY2tGdWxsc2NyZWVuKCl7dGhpcy5faXNGdWxsc2NyZWVuKCk/ZS53aW5kb3cuZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4/ZS53aW5kb3cuZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTplLndpbmRvdy5kb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuJiZlLndpbmRvdy5kb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuP3RoaXMuX2NvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbigpOnRoaXMuX2NvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiYmdGhpcy5fY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCl9fSxQb3B1cDpjbGFzcyBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMub3B0aW9ucz1lLmV4dGVuZChPYmplY3QuY3JlYXRlKHRvKSx0KSxlLmJpbmRBbGwoW1wiX3VwZGF0ZVwiLFwiX29uQ2xvc2VcIixcInJlbW92ZVwiLFwiX29uTW91c2VFdmVudFwiXSx0aGlzKSx0aGlzLl9jbGFzc0xpc3Q9bmV3IFNldCh0JiZ0LmNsYXNzTmFtZT90LmNsYXNzTmFtZS50cmltKCkuc3BsaXQoL1xccysvKTpbXSl9YWRkVG8odCl7cmV0dXJuIHRoaXMuX21hcCYmdGhpcy5yZW1vdmUoKSx0aGlzLl9tYXA9dCx0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrJiZ0Lm9uKFwicHJlY2xpY2tcIix0aGlzLl9vbkNsb3NlKSx0aGlzLm9wdGlvbnMuY2xvc2VPbk1vdmUmJnQub24oXCJtb3ZlXCIsdGhpcy5fb25DbG9zZSksdC5vbihcInJlbW92ZVwiLHRoaXMucmVtb3ZlKSx0aGlzLl91cGRhdGUoKSx0Ll9hZGRQb3B1cCh0aGlzKSx0aGlzLl9mb2N1c0ZpcnN0RWxlbWVudCgpLHRoaXMuX3RyYWNrUG9pbnRlcj8odC5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksdC5vbihcIm1vdXNldXBcIix0aGlzLl9vbk1vdXNlRXZlbnQpLHQuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSk6dC5vbihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcIm9wZW5cIikpLHRoaXN9aXNPcGVuKCl7cmV0dXJuISF0aGlzLl9tYXB9cmVtb3ZlKCl7dGhpcy5fY29udGVudCYmdGhpcy5fY29udGVudC5yZW1vdmUoKSx0aGlzLl9jb250YWluZXImJih0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fY29udGFpbmVyPXZvaWQgMCk7Y29uc3QgdD10aGlzLl9tYXA7cmV0dXJuIHQmJih0Lm9mZihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHQub2ZmKFwibW92ZVwiLHRoaXMuX29uQ2xvc2UpLHQub2ZmKFwicHJlY2xpY2tcIix0aGlzLl9vbkNsb3NlKSx0Lm9mZihcImNsaWNrXCIsdGhpcy5fb25DbG9zZSksdC5vZmYoXCJyZW1vdmVcIix0aGlzLnJlbW92ZSksdC5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlRXZlbnQpLHQub2ZmKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VFdmVudCksdC5vZmYoXCJkcmFnXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSx0Ll9jYW52YXNDb250YWluZXImJnQuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSx0Ll9yZW1vdmVQb3B1cCh0aGlzKSx0aGlzLl9tYXA9dm9pZCAwKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJjbG9zZVwiKSksdGhpc31nZXRMbmdMYXQoKXtyZXR1cm4gdGhpcy5fbG5nTGF0fXNldExuZ0xhdCh0KXt0aGlzLl9sbmdMYXQ9ZS5MbmdMYXQuY29udmVydCh0KSx0aGlzLl9wb3M9bnVsbCx0aGlzLl90cmFja1BvaW50ZXI9ITEsdGhpcy5fdXBkYXRlKCk7Y29uc3Qgbj10aGlzLl9tYXA7cmV0dXJuIG4mJihuLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksbi5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlRXZlbnQpLG4uX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSksdGhpc310cmFja1BvaW50ZXIoKXt0aGlzLl90cmFja1BvaW50ZXI9ITAsdGhpcy5fcG9zPW51bGwsdGhpcy5fdXBkYXRlKCk7Y29uc3QgZT10aGlzLl9tYXA7cmV0dXJuIGUmJihlLm9mZihcIm1vdmVcIix0aGlzLl91cGRhdGUpLGUub24oXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlRXZlbnQpLGUub24oXCJkcmFnXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSxlLl9jYW52YXNDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRyYWNrLXBvaW50ZXJcIikpLHRoaXN9Z2V0RWxlbWVudCgpe3JldHVybiB0aGlzLl9jb250YWluZXJ9c2V0VGV4dCh0KXtyZXR1cm4gdGhpcy5zZXRET01Db250ZW50KGUud2luZG93LmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKX1zZXRIVE1MKHQpe2NvbnN0IG49ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGk9ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJvZHlcIik7bGV0IHI7Zm9yKGkuaW5uZXJIVE1MPXQ7cj1pLmZpcnN0Q2hpbGQscjspbi5hcHBlbmRDaGlsZChyKTtyZXR1cm4gdGhpcy5zZXRET01Db250ZW50KG4pfWdldE1heFdpZHRoKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLnN0eWxlLm1heFdpZHRofXNldE1heFdpZHRoKGUpe3JldHVybiB0aGlzLm9wdGlvbnMubWF4V2lkdGg9ZSx0aGlzLl91cGRhdGUoKSx0aGlzfXNldERPTUNvbnRlbnQoZSl7bGV0IHQ9dGhpcy5fY29udGVudDtpZih0KWZvcig7dC5oYXNDaGlsZE5vZGVzKCk7KXQuZmlyc3RDaGlsZCYmdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpO2Vsc2UgdD10aGlzLl9jb250ZW50PW8oXCJkaXZcIixcIm1hcGJveGdsLXBvcHVwLWNvbnRlbnRcIix0aGlzLl9jb250YWluZXJ8fHZvaWQgMCk7aWYodC5hcHBlbmRDaGlsZChlKSx0aGlzLm9wdGlvbnMuY2xvc2VCdXR0b24pe2NvbnN0IGU9dGhpcy5fY2xvc2VCdXR0b249byhcImJ1dHRvblwiLFwibWFwYm94Z2wtcG9wdXAtY2xvc2UtYnV0dG9uXCIsdCk7ZS50eXBlPVwiYnV0dG9uXCIsZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJDbG9zZSBwb3B1cFwiKSxlLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLGUuaW5uZXJIVE1MPVwiJiMyMTU7XCIsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsb3NlKX1yZXR1cm4gdGhpcy5fdXBkYXRlKCksdGhpcy5fZm9jdXNGaXJzdEVsZW1lbnQoKSx0aGlzfWFkZENsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5fY2xhc3NMaXN0LmFkZChlKSx0aGlzLl91cGRhdGVDbGFzc0xpc3QoKSx0aGlzfXJlbW92ZUNsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5fY2xhc3NMaXN0LmRlbGV0ZShlKSx0aGlzLl91cGRhdGVDbGFzc0xpc3QoKSx0aGlzfXNldE9mZnNldChlKXtyZXR1cm4gdGhpcy5vcHRpb25zLm9mZnNldD1lLHRoaXMuX3VwZGF0ZSgpLHRoaXN9dG9nZ2xlQ2xhc3NOYW1lKGUpe2xldCB0O3JldHVybiB0aGlzLl9jbGFzc0xpc3QuZGVsZXRlKGUpP3Q9ITE6KHRoaXMuX2NsYXNzTGlzdC5hZGQoZSksdD0hMCksdGhpcy5fdXBkYXRlQ2xhc3NMaXN0KCksdH1fb25Nb3VzZUV2ZW50KGUpe3RoaXMuX3VwZGF0ZShlLnBvaW50KX1fZ2V0QW5jaG9yKGUpe2lmKHRoaXMub3B0aW9ucy5hbmNob3IpcmV0dXJuIHRoaXMub3B0aW9ucy5hbmNob3I7Y29uc3QgdD10aGlzLl9tYXAsbj10aGlzLl9jb250YWluZXIsaT10aGlzLl9wb3M7aWYoIXR8fCFufHwhaSlyZXR1cm5cImJvdHRvbVwiO2NvbnN0IHI9bi5vZmZzZXRXaWR0aCxvPW4ub2Zmc2V0SGVpZ2h0LGE9aS54PHIvMixzPWkueD50LnRyYW5zZm9ybS53aWR0aC1yLzI7aWYoaS55K2U8bylyZXR1cm4gYT9cInRvcC1sZWZ0XCI6cz9cInRvcC1yaWdodFwiOlwidG9wXCI7aWYoaS55PnQudHJhbnNmb3JtLmhlaWdodC1vKXtpZihhKXJldHVyblwiYm90dG9tLWxlZnRcIjtpZihzKXJldHVyblwiYm90dG9tLXJpZ2h0XCJ9cmV0dXJuIGE/XCJsZWZ0XCI6cz9cInJpZ2h0XCI6XCJib3R0b21cIn1fdXBkYXRlQ2xhc3NMaXN0KCl7Y29uc3QgZT10aGlzLl9jb250YWluZXI7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9Wy4uLnRoaXMuX2NsYXNzTGlzdF07dC5wdXNoKFwibWFwYm94Z2wtcG9wdXBcIiksdGhpcy5fYW5jaG9yJiZ0LnB1c2goXCJtYXBib3hnbC1wb3B1cC1hbmNob3ItXCIrdGhpcy5fYW5jaG9yKSx0aGlzLl90cmFja1BvaW50ZXImJnQucHVzaChcIm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXJcIiksZS5jbGFzc05hbWU9dC5qb2luKFwiIFwiKX1fdXBkYXRlKHQpe2NvbnN0IG49dGhpcy5fbWFwLGk9dGhpcy5fY29udGVudDtpZighbnx8IXRoaXMuX2xuZ0xhdCYmIXRoaXMuX3RyYWNrUG9pbnRlcnx8IWkpcmV0dXJuO2xldCByPXRoaXMuX2NvbnRhaW5lcjtpZihyfHwocj10aGlzLl9jb250YWluZXI9byhcImRpdlwiLFwibWFwYm94Z2wtcG9wdXBcIixuLmdldENvbnRhaW5lcigpKSx0aGlzLl90aXA9byhcImRpdlwiLFwibWFwYm94Z2wtcG9wdXAtdGlwXCIsciksci5hcHBlbmRDaGlsZChpKSksdGhpcy5vcHRpb25zLm1heFdpZHRoJiZyLnN0eWxlLm1heFdpZHRoIT09dGhpcy5vcHRpb25zLm1heFdpZHRoJiYoci5zdHlsZS5tYXhXaWR0aD10aGlzLm9wdGlvbnMubWF4V2lkdGgpLG4udHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzJiYhdGhpcy5fdHJhY2tQb2ludGVyJiYodGhpcy5fbG5nTGF0PVFyKHRoaXMuX2xuZ0xhdCx0aGlzLl9wb3Msbi50cmFuc2Zvcm0pKSwhdGhpcy5fdHJhY2tQb2ludGVyfHx0KXtjb25zdCBlPXRoaXMuX3Bvcz10aGlzLl90cmFja1BvaW50ZXImJnQ/dDpuLnByb2plY3QodGhpcy5fbG5nTGF0KSxpPWlvKHRoaXMub3B0aW9ucy5vZmZzZXQpLHI9dGhpcy5fYW5jaG9yPXRoaXMuX2dldEFuY2hvcihpLnkpLG89aW8odGhpcy5vcHRpb25zLm9mZnNldCxyKSxhPWUuYWRkKG8pLnJvdW5kKCk7bi5fcmVxdWVzdERvbVRhc2soKCk9Pnt0aGlzLl9jb250YWluZXImJnImJih0aGlzLl9jb250YWluZXIuc3R5bGUudHJhbnNmb3JtPWAke0tyW3JdfSB0cmFuc2xhdGUoJHthLnh9cHgsJHthLnl9cHgpYCl9KX1pZighdGhpcy5fbWFya2VyJiZuLl9zaG93aW5nR2xvYmUoKSl7Y29uc3QgdD1lLmlzTG5nTGF0QmVoaW5kR2xvYmUobi50cmFuc2Zvcm0sdGhpcy5fbG5nTGF0KT8wOjE7dGhpcy5fc2V0T3BhY2l0eSh0KX10aGlzLl91cGRhdGVDbGFzc0xpc3QoKX1fZm9jdXNGaXJzdEVsZW1lbnQoKXtpZighdGhpcy5vcHRpb25zLmZvY3VzQWZ0ZXJPcGVufHwhdGhpcy5fY29udGFpbmVyKXJldHVybjtjb25zdCBlPXRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKG5vKTtlJiZlLmZvY3VzKCl9X29uQ2xvc2UoKXt0aGlzLnJlbW92ZSgpfV9zZXRPcGFjaXR5KGUpe3RoaXMuX2NvbnRhaW5lciYmKHRoaXMuX2NvbnRhaW5lci5zdHlsZS5vcGFjaXR5PVwiXCIrZSksdGhpcy5fY29udGVudCYmKHRoaXMuX2NvbnRlbnQuc3R5bGUucG9pbnRlckV2ZW50cz1lP1wiYXV0b1wiOlwibm9uZVwiKX19LE1hcmtlcjplbyxTdHlsZTpRdCxMbmdMYXQ6ZS5MbmdMYXQsTG5nTGF0Qm91bmRzOmUuTG5nTGF0Qm91bmRzLFBvaW50OmUucG9pbnRHZW9tZXRyeSxNZXJjYXRvckNvb3JkaW5hdGU6ZS5NZXJjYXRvckNvb3JkaW5hdGUsRnJlZUNhbWVyYU9wdGlvbnM6VWksRXZlbnRlZDplLkV2ZW50ZWQsY29uZmlnOmUuY29uZmlnLHByZXdhcm06ZnVuY3Rpb24oKXtVZSgpLmFjcXVpcmUoamUpfSxjbGVhclByZXdhcm1lZFJlc291cmNlczpmdW5jdGlvbigpe2NvbnN0IGU9TmU7ZSYmKGUuaXNQcmVsb2FkZWQoKSYmMT09PWUubnVtQWN0aXZlKCk/KGUucmVsZWFzZShqZSksTmU9bnVsbCk6Y29uc29sZS53YXJuKFwiQ291bGQgbm90IGNsZWFyIFdlYldvcmtlcnMgc2luY2UgdGhlcmUgYXJlIGFjdGl2ZSBNYXAgaW5zdGFuY2VzIHRoYXQgc3RpbGwgcmVmZXJlbmNlIGl0LiBUaGUgcHJlLXdhcm1lZCBXZWJXb3JrZXIgcG9vbCBjYW4gb25seSBiZSBjbGVhcmVkIHdoZW4gYWxsIG1hcCBpbnN0YW5jZXMgaGF2ZSBiZWVuIHJlbW92ZWQgd2l0aCBtYXAucmVtb3ZlKClcIikpfSxnZXQgYWNjZXNzVG9rZW4oKXtyZXR1cm4gZS5jb25maWcuQUNDRVNTX1RPS0VOfSxzZXQgYWNjZXNzVG9rZW4odCl7ZS5jb25maWcuQUNDRVNTX1RPS0VOPXR9LGdldCBiYXNlQXBpVXJsKCl7cmV0dXJuIGUuY29uZmlnLkFQSV9VUkx9LHNldCBiYXNlQXBpVXJsKHQpe2UuY29uZmlnLkFQSV9VUkw9dH0sZ2V0IHdvcmtlckNvdW50KCl7cmV0dXJuIEZlLndvcmtlckNvdW50fSxzZXQgd29ya2VyQ291bnQoZSl7RmUud29ya2VyQ291bnQ9ZX0sZ2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cygpe3JldHVybiBlLmNvbmZpZy5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFN9LHNldCBtYXhQYXJhbGxlbEltYWdlUmVxdWVzdHModCl7ZS5jb25maWcuTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTPXR9LGNsZWFyU3RvcmFnZSh0KXtlLmNsZWFyVGlsZUNhY2hlKHQpfSx3b3JrZXJVcmw6XCJcIix3b3JrZXJDbGFzczpudWxsLHNldE5vdzplLmV4cG9ydGVkLnNldE5vdyxyZXN0b3JlTm93OmUuZXhwb3J0ZWQucmVzdG9yZU5vd307cmV0dXJuIGZvfSkpLGl9KCl9KCl9KS5jYWxsKHRoaXMsbigxNDMpKX0sZnVuY3Rpb24oZSx0KXt2YXIgbixpLHI9ZS5leHBvcnRzPXt9O2Z1bmN0aW9uIG8oKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGEoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gcyhlKXtpZihuPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChuPT09b3x8IW4pJiZzZXRUaW1lb3V0KXJldHVybiBuPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gbihlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gbi5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gbi5jYWxsKHRoaXMsZSwwKX19fSFmdW5jdGlvbigpe3RyeXtuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpvfWNhdGNoKGUpe249b310cnl7aT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OmF9Y2F0Y2goZSl7aT1hfX0oKTt2YXIgbCxjPVtdLHU9ITEsaD0tMTtmdW5jdGlvbiBkKCl7dSYmbCYmKHU9ITEsbC5sZW5ndGg/Yz1sLmNvbmNhdChjKTpoPS0xLGMubGVuZ3RoJiZwKCkpfWZ1bmN0aW9uIHAoKXtpZighdSl7dmFyIGU9cyhkKTt1PSEwO2Zvcih2YXIgdD1jLmxlbmd0aDt0Oyl7Zm9yKGw9YyxjPVtdOysraDx0OylsJiZsW2hdLnJ1bigpO2g9LTEsdD1jLmxlbmd0aH1sPW51bGwsdT0hMSxmdW5jdGlvbihlKXtpZihpPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKGk9PT1hfHwhaSkmJmNsZWFyVGltZW91dClyZXR1cm4gaT1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtpKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gaS5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIGkuY2FsbCh0aGlzLGUpfX19KGUpfX1mdW5jdGlvbiBmKGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gbSgpe31yLm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07Yy5wdXNoKG5ldyBmKGUsdCkpLDEhPT1jLmxlbmd0aHx8dXx8cyhwKX0sZi5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sci50aXRsZT1cImJyb3dzZXJcIixyLmJyb3dzZXI9ITAsci5lbnY9e30sci5hcmd2PVtdLHIudmVyc2lvbj1cIlwiLHIudmVyc2lvbnM9e30sci5vbj1tLHIuYWRkTGlzdGVuZXI9bSxyLm9uY2U9bSxyLm9mZj1tLHIucmVtb3ZlTGlzdGVuZXI9bSxyLnJlbW92ZUFsbExpc3RlbmVycz1tLHIuZW1pdD1tLHIucHJlcGVuZExpc3RlbmVyPW0sci5wcmVwZW5kT25jZUxpc3RlbmVyPW0sci5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LHIuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0sci5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0sci5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHIudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LCxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciByPWkobig1KSksbz1pKG4oNCkpLGE9aShuKDIpKSxzPWkobigxKSksbD0oaShuKDMpKSxpKG4oOCkpKSxjPShpKG4oNikpLG4oNyksaShuKDkpKSksdT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5zaGFkb3dzLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7dFtcImVsZXZhdGlvblwiLmNvbmNhdChuKV09e2JveFNoYWRvdzplfX0pKSwoMCxhLmRlZmF1bHQpKHtyb290OntiYWNrZ3JvdW5kQ29sb3I6ZS5wYWxldHRlLmJhY2tncm91bmQucGFwZXJ9LHJvdW5kZWQ6e2JvcmRlclJhZGl1czplLnNoYXBlLmJvcmRlclJhZGl1c319LHQpfTtmdW5jdGlvbiBoKGUpe3ZhciB0PWUuY2xhc3NlcyxuPWUuY2xhc3NOYW1lLGk9ZS5jb21wb25lbnQsYz1lLnNxdWFyZSx1PWUuZWxldmF0aW9uLGg9KDAsby5kZWZhdWx0KShlLFtcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiY29tcG9uZW50XCIsXCJzcXVhcmVcIixcImVsZXZhdGlvblwiXSksZD0oMCxsLmRlZmF1bHQpKHQucm9vdCx0W1wiZWxldmF0aW9uXCIuY29uY2F0KHUpXSwoMCxyLmRlZmF1bHQpKHt9LHQucm91bmRlZCwhYyksbik7cmV0dXJuIHMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGksKDAsYS5kZWZhdWx0KSh7Y2xhc3NOYW1lOmR9LGgpKX10LnN0eWxlcz11LGguZGVmYXVsdFByb3BzPXtjb21wb25lbnQ6XCJkaXZcIixlbGV2YXRpb246MixzcXVhcmU6ITF9O3ZhciBkPSgwLGMuZGVmYXVsdCkodSx7bmFtZTpcIk11aVBhcGVyXCJ9KShoKTt0LmRlZmF1bHQ9ZH0sLGZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKG4pe2UuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbiBlKHQsbixpKXtmdW5jdGlvbiByKGEscyl7aWYoIW5bYV0pe2lmKCF0W2FdKXtpZihvKXJldHVybiBvKGEsITApO3ZhciBsPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrYStcIidcIik7dGhyb3cgbC5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGx9dmFyIGM9blthXT17ZXhwb3J0czp7fX07dFthXVswXS5jYWxsKGMuZXhwb3J0cywoZnVuY3Rpb24oZSl7cmV0dXJuIHIodFthXVsxXVtlXXx8ZSl9KSxjLGMuZXhwb3J0cyxlLHQsbixpKX1yZXR1cm4gblthXS5leHBvcnRzfWZvcih2YXIgbz0hMSxhPTA7YTxpLmxlbmd0aDthKyspcihpW2FdKTtyZXR1cm4gcn19KCkoezE6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgaT1lKFwiLi90b1Byb3BlcnR5S2V5LmpzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7cmV0dXJuKHQ9aSh0KSlpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX0sdC5leHBvcnRzLl9fZXNNb2R1bGU9ITAsdC5leHBvcnRzLmRlZmF1bHQ9dC5leHBvcnRzfSx7XCIuL3RvUHJvcGVydHlLZXkuanNcIjo0fV0sMjpbZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWUoXCIuL2RlZmluZVByb3BlcnR5LmpzXCIpO2Z1bmN0aW9uIHIoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihpPWkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLGkpfXJldHVybiBufXQuZXhwb3J0cz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9yKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7aShlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6cihPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX0sdC5leHBvcnRzLl9fZXNNb2R1bGU9ITAsdC5leHBvcnRzLmRlZmF1bHQ9dC5leHBvcnRzfSx7XCIuL2RlZmluZVByb3BlcnR5LmpzXCI6MX1dLDM6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgaT1lKFwiLi90eXBlb2YuanNcIikuZGVmYXVsdDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT09aShlKXx8bnVsbD09PWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciByPW4uY2FsbChlLHR8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT09aShyKSlyZXR1cm4gcjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT10P1N0cmluZzpOdW1iZXIpKGUpfSx0LmV4cG9ydHMuX19lc01vZHVsZT0hMCx0LmV4cG9ydHMuZGVmYXVsdD10LmV4cG9ydHN9LHtcIi4vdHlwZW9mLmpzXCI6NX1dLDQ6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgaT1lKFwiLi90eXBlb2YuanNcIikuZGVmYXVsdCxyPWUoXCIuL3RvUHJpbWl0aXZlLmpzXCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1yKGUsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09PWkodCk/dDpTdHJpbmcodCl9LHQuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLHQuZXhwb3J0cy5kZWZhdWx0PXQuZXhwb3J0c30se1wiLi90b1ByaW1pdGl2ZS5qc1wiOjMsXCIuL3R5cGVvZi5qc1wiOjV9XSw1OltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gaShlKXtyZXR1cm4gdC5leHBvcnRzPWk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0sdC5leHBvcnRzLl9fZXNNb2R1bGU9ITAsdC5leHBvcnRzLmRlZmF1bHQ9dC5leHBvcnRzLGkoZSl9dC5leHBvcnRzPWksdC5leHBvcnRzLl9fZXNNb2R1bGU9ITAsdC5leHBvcnRzLmRlZmF1bHQ9dC5leHBvcnRzfSx7fV0sNjpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPXt9O2Z1bmN0aW9uIHIoZSl7cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5hYnMoZSkrLjUpKihlPj0wPzE6LTEpfWZ1bmN0aW9uIG8oZSx0LG4pe3ZhciBpPShlPXIoZSpuKSktKHQ9cih0Km4pKTtpPDw9MSxlLXQ8MCYmKGk9fmkpO2Zvcih2YXIgbz1cIlwiO2k+PTMyOylvKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDYzKygzMnwzMSZpKSksaT4+PTU7cmV0dXJuIG8rPVN0cmluZy5mcm9tQ2hhckNvZGUoaSs2Myl9ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9W10sbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgaT1lW25dLnNsaWNlKCk7dC5wdXNoKFtpWzFdLGlbMF1dKX1yZXR1cm4gdH1pLmRlY29kZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbixpPTAscj0wLG89MCxhPVtdLHM9MCxsPTAsYz1udWxsLHU9TWF0aC5wb3coMTAsTnVtYmVyLmlzSW50ZWdlcih0KT90OjUpO2k8ZS5sZW5ndGg7KXtjPW51bGwscz0wLGw9MDtkb3tsfD0oMzEmKGM9ZS5jaGFyQ29kZUF0KGkrKyktNjMpKTw8cyxzKz01fXdoaWxlKGM+PTMyKTtuPTEmbD9+KGw+PjEpOmw+PjEscz1sPTA7ZG97bHw9KDMxJihjPWUuY2hhckNvZGVBdChpKyspLTYzKSk8PHMscys9NX13aGlsZShjPj0zMik7cis9bixvKz0xJmw/fihsPj4xKTpsPj4xLGEucHVzaChbci91LG8vdV0pfXJldHVybiBhfSxpLmVuY29kZT1mdW5jdGlvbihlLHQpe2lmKCFlLmxlbmd0aClyZXR1cm5cIlwiO2Zvcih2YXIgbj1NYXRoLnBvdygxMCxOdW1iZXIuaXNJbnRlZ2VyKHQpP3Q6NSksaT1vKGVbMF1bMF0sMCxuKStvKGVbMF1bMV0sMCxuKSxyPTE7cjxlLmxlbmd0aDtyKyspe3ZhciBhPWVbcl0scz1lW3ItMV07aSs9byhhWzBdLHNbMF0sbiksaSs9byhhWzFdLHNbMV0sbil9cmV0dXJuIGl9LGkuZnJvbUdlb0pTT049ZnVuY3Rpb24oZSx0KXtpZihlJiZcIkZlYXR1cmVcIj09PWUudHlwZSYmKGU9ZS5nZW9tZXRyeSksIWV8fFwiTGluZVN0cmluZ1wiIT09ZS50eXBlKXRocm93IG5ldyBFcnJvcihcIklucHV0IG11c3QgYmUgYSBHZW9KU09OIExpbmVTdHJpbmdcIik7cmV0dXJuIGkuZW5jb2RlKGEoZS5jb29yZGluYXRlcyksdCl9LGkudG9HZW9KU09OPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3R5cGU6XCJMaW5lU3RyaW5nXCIsY29vcmRpbmF0ZXM6YShpLmRlY29kZShlLHQpKX19LFwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0LmV4cG9ydHMmJih0LmV4cG9ydHM9aSl9LHt9XSw3OltmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscj1cIm9iamVjdFwiPT10eXBlb2YgUmVmbGVjdD9SZWZsZWN0Om51bGwsbz1yJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByLmFwcGx5P3IuYXBwbHk6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChlLHQsbil9O2k9ciYmXCJmdW5jdGlvblwiPT10eXBlb2Ygci5vd25LZXlzP3Iub3duS2V5czpPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP2Z1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKSl9OmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKX07dmFyIGE9TnVtYmVyLmlzTmFOfHxmdW5jdGlvbihlKXtyZXR1cm4gZSE9ZX07ZnVuY3Rpb24gcygpe3MuaW5pdC5jYWxsKHRoaXMpfXQuZXhwb3J0cz1zLHQuZXhwb3J0cy5vbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBQcm9taXNlKChmdW5jdGlvbihuLGkpe2Z1bmN0aW9uIHIobil7ZS5yZW1vdmVMaXN0ZW5lcih0LG8pLGkobil9ZnVuY3Rpb24gbygpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUucmVtb3ZlTGlzdGVuZXImJmUucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLHIpLG4oW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKX15KGUsdCxvLHtvbmNlOiEwfSksXCJlcnJvclwiIT09dCYmZnVuY3Rpb24oZSx0LG4pe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUub24mJnkoZSxcImVycm9yXCIsdCxuKX0oZSxyLHtvbmNlOiEwfSl9KSl9LHMuRXZlbnRFbWl0dGVyPXMscy5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAscy5wcm90b3R5cGUuX2V2ZW50c0NvdW50PTAscy5wcm90b3R5cGUuX21heExpc3RlbmVycz12b2lkIDA7dmFyIGw9MTA7ZnVuY3Rpb24gYyhlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIGUpfWZ1bmN0aW9uIHUoZSl7cmV0dXJuIHZvaWQgMD09PWUuX21heExpc3RlbmVycz9zLmRlZmF1bHRNYXhMaXN0ZW5lcnM6ZS5fbWF4TGlzdGVuZXJzfWZ1bmN0aW9uIGgoZSx0LG4saSl7dmFyIHIsbyxhO2lmKGMobiksdm9pZCAwPT09KG89ZS5fZXZlbnRzKT8obz1lLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSxlLl9ldmVudHNDb3VudD0wKToodm9pZCAwIT09by5uZXdMaXN0ZW5lciYmKGUuZW1pdChcIm5ld0xpc3RlbmVyXCIsdCxuLmxpc3RlbmVyP24ubGlzdGVuZXI6biksbz1lLl9ldmVudHMpLGE9b1t0XSksdm9pZCAwPT09YSlhPW9bdF09biwrK2UuX2V2ZW50c0NvdW50O2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYT9hPW9bdF09aT9bbixhXTpbYSxuXTppP2EudW5zaGlmdChuKTphLnB1c2gobiksKHI9dShlKSk+MCYmYS5sZW5ndGg+ciYmIWEud2FybmVkKXthLndhcm5lZD0hMDt2YXIgcz1uZXcgRXJyb3IoXCJQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuIFwiK2EubGVuZ3RoK1wiIFwiK1N0cmluZyh0KStcIiBsaXN0ZW5lcnMgYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0XCIpO3MubmFtZT1cIk1heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZ1wiLHMuZW1pdHRlcj1lLHMudHlwZT10LHMuY291bnQ9YS5sZW5ndGgsZnVuY3Rpb24oZSl7Y29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oZSl9KHMpfXJldHVybiBlfWZ1bmN0aW9uIGQoKXtpZighdGhpcy5maXJlZClyZXR1cm4gdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLHRoaXMud3JhcEZuKSx0aGlzLmZpcmVkPSEwLDA9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk6dGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCxhcmd1bWVudHMpfWZ1bmN0aW9uIHAoZSx0LG4pe3ZhciBpPXtmaXJlZDohMSx3cmFwRm46dm9pZCAwLHRhcmdldDplLHR5cGU6dCxsaXN0ZW5lcjpufSxyPWQuYmluZChpKTtyZXR1cm4gci5saXN0ZW5lcj1uLGkud3JhcEZuPXIscn1mdW5jdGlvbiBmKGUsdCxuKXt2YXIgaT1lLl9ldmVudHM7aWYodm9pZCAwPT09aSlyZXR1cm5bXTt2YXIgcj1pW3RdO3JldHVybiB2b2lkIDA9PT1yP1tdOlwiZnVuY3Rpb25cIj09dHlwZW9mIHI/bj9bci5saXN0ZW5lcnx8cl06W3JdOm4/ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW5ldyBBcnJheShlLmxlbmd0aCksbj0wO248dC5sZW5ndGg7KytuKXRbbl09ZVtuXS5saXN0ZW5lcnx8ZVtuXTtyZXR1cm4gdH0ocik6ZyhyLHIubGVuZ3RoKX1mdW5jdGlvbiBtKGUpe3ZhciB0PXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT10KXt2YXIgbj10W2VdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pcmV0dXJuIDE7aWYodm9pZCAwIT09bilyZXR1cm4gbi5sZW5ndGh9cmV0dXJuIDB9ZnVuY3Rpb24gZyhlLHQpe2Zvcih2YXIgbj1uZXcgQXJyYXkodCksaT0wO2k8dDsrK2kpbltpXT1lW2ldO3JldHVybiBufWZ1bmN0aW9uIHkoZSx0LG4saSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbilpLm9uY2U/ZS5vbmNlKHQsbik6ZS5vbih0LG4pO2Vsc2V7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZS5hZGRFdmVudExpc3RlbmVyKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIGUpO2UuYWRkRXZlbnRMaXN0ZW5lcih0LChmdW5jdGlvbiByKG8pe2kub25jZSYmZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsciksbihvKX0pKX19T2JqZWN0LmRlZmluZVByb3BlcnR5KHMsXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9LHNldDpmdW5jdGlvbihlKXtpZihcIm51bWJlclwiIT10eXBlb2YgZXx8ZTwwfHxhKGUpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJytlK1wiLlwiKTtsPWV9fSkscy5pbml0PWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHMhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH0scy5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlPDB8fGEoZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK2UrXCIuXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9ZSx0aGlzfSxzLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtyZXR1cm4gdSh0aGlzKX0scy5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdC5wdXNoKGFyZ3VtZW50c1tuXSk7dmFyIGk9XCJlcnJvclwiPT09ZSxyPXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT1yKWk9aSYmdm9pZCAwPT09ci5lcnJvcjtlbHNlIGlmKCFpKXJldHVybiExO2lmKGkpe3ZhciBhO2lmKHQubGVuZ3RoPjAmJihhPXRbMF0pLGEgaW5zdGFuY2VvZiBFcnJvcil0aHJvdyBhO3ZhciBzPW5ldyBFcnJvcihcIlVuaGFuZGxlZCBlcnJvci5cIisoYT9cIiAoXCIrYS5tZXNzYWdlK1wiKVwiOlwiXCIpKTt0aHJvdyBzLmNvbnRleHQ9YSxzfXZhciBsPXJbZV07aWYodm9pZCAwPT09bClyZXR1cm4hMTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBsKW8obCx0aGlzLHQpO2Vsc2V7dmFyIGM9bC5sZW5ndGgsdT1nKGwsYyk7Zm9yKG49MDtuPGM7KytuKW8odVtuXSx0aGlzLHQpfXJldHVybiEwfSxzLnByb3RvdHlwZS5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiBoKHRoaXMsZSx0LCExKX0scy5wcm90b3R5cGUub249cy5wcm90b3R5cGUuYWRkTGlzdGVuZXIscy5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGgodGhpcyxlLHQsITApfSxzLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGModCksdGhpcy5vbihlLHAodGhpcyxlLHQpKSx0aGlzfSxzLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGModCksdGhpcy5wcmVwZW5kTGlzdGVuZXIoZSxwKHRoaXMsZSx0KSksdGhpc30scy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbixpLHIsbyxhO2lmKGModCksdm9pZCAwPT09KGk9dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT0obj1pW2VdKSlyZXR1cm4gdGhpcztpZihuPT09dHx8bi5saXN0ZW5lcj09PXQpMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTooZGVsZXRlIGlbZV0saS5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIixlLG4ubGlzdGVuZXJ8fHQpKTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pe2ZvcihyPS0xLG89bi5sZW5ndGgtMTtvPj0wO28tLSlpZihuW29dPT09dHx8bltvXS5saXN0ZW5lcj09PXQpe2E9bltvXS5saXN0ZW5lcixyPW87YnJlYWt9aWYocjwwKXJldHVybiB0aGlzOzA9PT1yP24uc2hpZnQoKTpmdW5jdGlvbihlLHQpe2Zvcig7dCsxPGUubGVuZ3RoO3QrKyllW3RdPWVbdCsxXTtlLnBvcCgpfShuLHIpLDE9PT1uLmxlbmd0aCYmKGlbZV09blswXSksdm9pZCAwIT09aS5yZW1vdmVMaXN0ZW5lciYmdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIixlLGF8fHQpfXJldHVybiB0aGlzfSxzLnByb3RvdHlwZS5vZmY9cy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIscy5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3ZhciB0LG4saTtpZih2b2lkIDA9PT0obj10aGlzLl9ldmVudHMpKXJldHVybiB0aGlzO2lmKHZvaWQgMD09PW4ucmVtb3ZlTGlzdGVuZXIpcmV0dXJuIDA9PT1hcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wKTp2b2lkIDAhPT1uW2VdJiYoMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTpkZWxldGUgbltlXSksdGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aCl7dmFyIHIsbz1PYmplY3Qua2V5cyhuKTtmb3IoaT0wO2k8by5sZW5ndGg7KytpKVwicmVtb3ZlTGlzdGVuZXJcIiE9PShyPW9baV0pJiZ0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhyKTtyZXR1cm4gdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoXCJyZW1vdmVMaXN0ZW5lclwiKSx0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzLl9ldmVudHNDb3VudD0wLHRoaXN9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YodD1uW2VdKSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsdCk7ZWxzZSBpZih2b2lkIDAhPT10KWZvcihpPXQubGVuZ3RoLTE7aT49MDtpLS0pdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHRbaV0pO3JldHVybiB0aGlzfSxzLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGYodGhpcyxlLCEwKX0scy5wcm90b3R5cGUucmF3TGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybiBmKHRoaXMsZSwhMSl9LHMubGlzdGVuZXJDb3VudD1mdW5jdGlvbihlLHQpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUubGlzdGVuZXJDb3VudD9lLmxpc3RlbmVyQ291bnQodCk6bS5jYWxsKGUsdCl9LHMucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9bSxzLnByb3RvdHlwZS5ldmVudE5hbWVzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50PjA/aSh0aGlzLl9ldmVudHMpOltdfX0se31dLDg6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1lKFwiaXMtb2JqXCIpLHI9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxvPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGU7ZnVuY3Rpb24gYShlKXtpZihudWxsPT1lKXRocm93IG5ldyBUeXBlRXJyb3IoXCJTb3VyY2VzIGNhbm5vdCBiZSBudWxsIG9yIHVuZGVmaW5lZFwiKTtyZXR1cm4gT2JqZWN0KGUpfWZ1bmN0aW9uIHMoZSx0LG4pe3ZhciBvPXRbbl07aWYobnVsbCE9byl7aWYoci5jYWxsKGUsbikmJih2b2lkIDA9PT1lW25dfHxudWxsPT09ZVtuXSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCAoXCIrbitcIilcIik7ci5jYWxsKGUsbikmJmkobyk/ZVtuXT1sKE9iamVjdChlW25dKSx0W25dKTplW25dPW99fWZ1bmN0aW9uIGwoZSx0KXtpZihlPT09dClyZXR1cm4gZTtmb3IodmFyIG4gaW4gdD1PYmplY3QodCkpci5jYWxsKHQsbikmJnMoZSx0LG4pO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpZm9yKHZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCksYT0wO2E8aS5sZW5ndGg7YSsrKW8uY2FsbCh0LGlbYV0pJiZzKGUsdCxpW2FdKTtyZXR1cm4gZX10LmV4cG9ydHM9ZnVuY3Rpb24oZSl7ZT1hKGUpO2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspbChlLGFyZ3VtZW50c1t0XSk7cmV0dXJuIGV9fSx7XCJpcy1vYmpcIjoxMH1dLDk6W2Z1bmN0aW9uKGUsdCxuKXshZnVuY3Rpb24oKXt2YXIgZT17fTt2b2lkIDAhPT1uP3QuZXhwb3J0cz1lOnRoaXMuZnV6enk9ZSxlLnNpbXBsZUZpbHRlcj1mdW5jdGlvbih0LG4pe3JldHVybiBuLmZpbHRlcigoZnVuY3Rpb24obil7cmV0dXJuIGUudGVzdCh0LG4pfSkpfSxlLnRlc3Q9ZnVuY3Rpb24odCxuKXtyZXR1cm4gbnVsbCE9PWUubWF0Y2godCxuKX0sZS5tYXRjaD1mdW5jdGlvbihlLHQsbil7bj1ufHx7fTt2YXIgaSxyPTAsbz1bXSxhPXQubGVuZ3RoLHM9MCxsPTAsYz1uLnByZXx8XCJcIix1PW4ucG9zdHx8XCJcIixoPW4uY2FzZVNlbnNpdGl2ZSYmdHx8dC50b0xvd2VyQ2FzZSgpO2U9bi5jYXNlU2Vuc2l0aXZlJiZlfHxlLnRvTG93ZXJDYXNlKCk7Zm9yKHZhciBkPTA7ZDxhO2QrKylpPXRbZF0saFtkXT09PWVbcl0/KGk9YytpK3Uscis9MSxsKz0xK2wpOmw9MCxzKz1sLG9bby5sZW5ndGhdPWk7cmV0dXJuIHI9PT1lLmxlbmd0aD8ocz1oPT09ZT8xLzA6cyx7cmVuZGVyZWQ6by5qb2luKFwiXCIpLHNjb3JlOnN9KTpudWxsfSxlLmZpbHRlcj1mdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJjAhPT1uLmxlbmd0aD9cInN0cmluZ1wiIT10eXBlb2YgdD9uOihpPWl8fHt9LG4ucmVkdWNlKChmdW5jdGlvbihuLHIsbyxhKXt2YXIgcz1yO2kuZXh0cmFjdCYmKHM9aS5leHRyYWN0KHIpKTt2YXIgbD1lLm1hdGNoKHQscyxpKTtyZXR1cm4gbnVsbCE9bCYmKG5bbi5sZW5ndGhdPXtzdHJpbmc6bC5yZW5kZXJlZCxzY29yZTpsLnNjb3JlLGluZGV4Om8sb3JpZ2luYWw6cn0pLG59KSxbXSkuc29ydCgoZnVuY3Rpb24oZSx0KXt2YXIgbj10LnNjb3JlLWUuc2NvcmU7cmV0dXJuIG58fGUuaW5kZXgtdC5pbmRleH0pKSk6W119fSgpfSx7fV0sMTA6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuIG51bGwhPT1lJiYoXCJvYmplY3RcIj09PXR8fFwiZnVuY3Rpb25cIj09PXQpfX0se31dLDExOltmdW5jdGlvbihlLHQsbil7dC5leHBvcnRzPS88JT0oW1xcc1xcU10rPyklPi9nfSx7fV0sMTI6W2Z1bmN0aW9uKGUsbixpKXsoZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKCl7dmFyIHQ9L15cXHMrfFxccyskL2csaT0vXlstK10weFswLTlhLWZdKyQvaSxyPS9eMGJbMDFdKyQvaSxvPS9eMG9bMC03XSskL2ksYT1wYXJzZUludCxzPVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLk9iamVjdD09PU9iamVjdCYmZSxsPVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixjPXN8fGx8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSx1PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsaD1NYXRoLm1heCxkPU1hdGgubWluLHA9ZnVuY3Rpb24oKXtyZXR1cm4gYy5EYXRlLm5vdygpfTtmdW5jdGlvbiBmKGUpe3ZhciB0PXR5cGVvZiBlO3JldHVybiEhZSYmKFwib2JqZWN0XCI9PXR8fFwiZnVuY3Rpb25cIj09dCl9ZnVuY3Rpb24gbShlKXtpZihcIm51bWJlclwiPT10eXBlb2YgZSlyZXR1cm4gZTtpZihmdW5jdGlvbihlKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgZXx8ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZcIm9iamVjdFwiPT10eXBlb2YgZX0oZSkmJlwiW29iamVjdCBTeW1ib2xdXCI9PXUuY2FsbChlKX0oZSkpcmV0dXJuIE5hTjtpZihmKGUpKXt2YXIgbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnZhbHVlT2Y/ZS52YWx1ZU9mKCk6ZTtlPWYobik/bitcIlwiOm59aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIDA9PT1lP2U6K2U7ZT1lLnJlcGxhY2UodCxcIlwiKTt2YXIgcz1yLnRlc3QoZSk7cmV0dXJuIHN8fG8udGVzdChlKT9hKGUuc2xpY2UoMikscz8yOjgpOmkudGVzdChlKT9OYU46K2V9bi5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaSxyLG8sYSxzLGwsYz0wLHU9ITEsZz0hMSx5PSEwO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIGEgZnVuY3Rpb25cIik7ZnVuY3Rpb24gXyh0KXt2YXIgbj1pLG89cjtyZXR1cm4gaT1yPXZvaWQgMCxjPXQsYT1lLmFwcGx5KG8sbil9ZnVuY3Rpb24gdihlKXtyZXR1cm4gYz1lLHM9c2V0VGltZW91dChiLHQpLHU/XyhlKTphfWZ1bmN0aW9uIHgoZSl7dmFyIG49ZS1sO3JldHVybiB2b2lkIDA9PT1sfHxuPj10fHxuPDB8fGcmJmUtYz49b31mdW5jdGlvbiBiKCl7dmFyIGU9cCgpO2lmKHgoZSkpcmV0dXJuIHcoZSk7cz1zZXRUaW1lb3V0KGIsZnVuY3Rpb24oZSl7dmFyIG49dC0oZS1sKTtyZXR1cm4gZz9kKG4sby0oZS1jKSk6bn0oZSkpfWZ1bmN0aW9uIHcoZSl7cmV0dXJuIHM9dm9pZCAwLHkmJmk/XyhlKTooaT1yPXZvaWQgMCxhKX1mdW5jdGlvbiBUKCl7dmFyIGU9cCgpLG49eChlKTtpZihpPWFyZ3VtZW50cyxyPXRoaXMsbD1lLG4pe2lmKHZvaWQgMD09PXMpcmV0dXJuIHYobCk7aWYoZylyZXR1cm4gcz1zZXRUaW1lb3V0KGIsdCksXyhsKX1yZXR1cm4gdm9pZCAwPT09cyYmKHM9c2V0VGltZW91dChiLHQpKSxhfXJldHVybiB0PW0odCl8fDAsZihuKSYmKHU9ISFuLmxlYWRpbmcsbz0oZz1cIm1heFdhaXRcImluIG4pP2gobShuLm1heFdhaXQpfHwwLHQpOm8seT1cInRyYWlsaW5nXCJpbiBuPyEhbi50cmFpbGluZzp5KSxULmNhbmNlbD1mdW5jdGlvbigpe3ZvaWQgMCE9PXMmJmNsZWFyVGltZW91dChzKSxjPTAsaT1sPXI9cz12b2lkIDB9LFQuZmx1c2g9ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwPT09cz9hOncocCgpKX0sVH19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLHZvaWQgMCE9PXQ/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDEzOltmdW5jdGlvbihlLG4saSl7KGZ1bmN0aW9uKGUpeyhmdW5jdGlvbigpe3ZhciB0PVwiW29iamVjdCBBcmd1bWVudHNdXCIscj1cIltvYmplY3QgTWFwXVwiLG89XCJbb2JqZWN0IE9iamVjdF1cIixhPVwiW29iamVjdCBTZXRdXCIscz0vXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvLGw9L14oPzowfFsxLTldXFxkKikkLyxjPXt9O2NbXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIl09Y1tcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiXT1jW1wiW29iamVjdCBJbnQ4QXJyYXldXCJdPWNbXCJbb2JqZWN0IEludDE2QXJyYXldXCJdPWNbXCJbb2JqZWN0IEludDMyQXJyYXldXCJdPWNbXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCJdPWNbXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiXT1jW1wiW29iamVjdCBVaW50MTZBcnJheV1cIl09Y1tcIltvYmplY3QgVWludDMyQXJyYXldXCJdPSEwLGNbdF09Y1tcIltvYmplY3QgQXJyYXldXCJdPWNbXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiXT1jW1wiW29iamVjdCBCb29sZWFuXVwiXT1jW1wiW29iamVjdCBEYXRhVmlld11cIl09Y1tcIltvYmplY3QgRGF0ZV1cIl09Y1tcIltvYmplY3QgRXJyb3JdXCJdPWNbXCJbb2JqZWN0IEZ1bmN0aW9uXVwiXT1jW3JdPWNbXCJbb2JqZWN0IE51bWJlcl1cIl09Y1tvXT1jW1wiW29iamVjdCBSZWdFeHBdXCJdPWNbYV09Y1tcIltvYmplY3QgU3RyaW5nXVwiXT1jW1wiW29iamVjdCBXZWFrTWFwXVwiXT0hMTt2YXIgdT1cIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5PYmplY3Q9PT1PYmplY3QmJmUsaD1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsZD11fHxofHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkscD1cIm9iamVjdFwiPT10eXBlb2YgaSYmaSYmIWkubm9kZVR5cGUmJmksZj1wJiZcIm9iamVjdFwiPT10eXBlb2YgbiYmbiYmIW4ubm9kZVR5cGUmJm4sbT1mJiZmLmV4cG9ydHM9PT1wLGc9bSYmdS5wcm9jZXNzLHk9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIGcmJmcuYmluZGluZyYmZy5iaW5kaW5nKFwidXRpbFwiKX1jYXRjaChlKXt9fSgpLF89eSYmeS5pc1R5cGVkQXJyYXk7ZnVuY3Rpb24gdihlLHQpe2Zvcih2YXIgbj0tMSxpPW51bGw9PWU/MDplLmxlbmd0aDsrK248aTspaWYodChlW25dLG4sZSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24geChlLHQpe3JldHVybiBlLmhhcyh0KX1mdW5jdGlvbiBiKGUpe3ZhciB0PS0xLG49QXJyYXkoZS5zaXplKTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlLGkpe25bKyt0XT1baSxlXX0pKSxufWZ1bmN0aW9uIHcoZSl7dmFyIHQ9LTEsbj1BcnJheShlLnNpemUpO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe25bKyt0XT1lfSkpLG59dmFyIFQ9QXJyYXkucHJvdG90eXBlLEU9RnVuY3Rpb24ucHJvdG90eXBlLFM9T2JqZWN0LnByb3RvdHlwZSxNPWRbXCJfX2NvcmUtanNfc2hhcmVkX19cIl0sST1FLnRvU3RyaW5nLEM9Uy5oYXNPd25Qcm9wZXJ0eSxrPWZ1bmN0aW9uKCl7dmFyIGU9L1teLl0rJC8uZXhlYyhNJiZNLmtleXMmJk0ua2V5cy5JRV9QUk9UT3x8XCJcIik7cmV0dXJuIGU/XCJTeW1ib2woc3JjKV8xLlwiK2U6XCJcIn0oKSxBPVMudG9TdHJpbmcsUD1SZWdFeHAoXCJeXCIrSS5jYWxsKEMpLnJlcGxhY2UoL1tcXFxcXiQuKis/KClbXFxde318XS9nLFwiXFxcXCQmXCIpLnJlcGxhY2UoL2hhc093blByb3BlcnR5fChmdW5jdGlvbikuKj8oPz1cXFxcXFwoKXwgZm9yIC4rPyg/PVxcXFxcXF0pL2csXCIkMS4qP1wiKStcIiRcIiksej1tP2QuQnVmZmVyOnZvaWQgMCxEPWQuU3ltYm9sLEw9ZC5VaW50OEFycmF5LE89Uy5wcm9wZXJ0eUlzRW51bWVyYWJsZSxSPVQuc3BsaWNlLEI9RD9ELnRvU3RyaW5nVGFnOnZvaWQgMCxqPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsRj16P3ouaXNCdWZmZXI6dm9pZCAwLE49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGUodChuKSl9fShPYmplY3Qua2V5cyxPYmplY3QpLFU9bWUoZCxcIkRhdGFWaWV3XCIpLFY9bWUoZCxcIk1hcFwiKSxHPW1lKGQsXCJQcm9taXNlXCIpLFo9bWUoZCxcIlNldFwiKSxXPW1lKGQsXCJXZWFrTWFwXCIpLHE9bWUoT2JqZWN0LFwiY3JlYXRlXCIpLCQ9dmUoVSksSD12ZShWKSxYPXZlKEcpLFk9dmUoWiksSj12ZShXKSxRPUQ/RC5wcm90b3R5cGU6dm9pZCAwLEs9UT9RLnZhbHVlT2Y6dm9pZCAwO2Z1bmN0aW9uIGVlKGUpe3ZhciB0PS0xLG49bnVsbD09ZT8wOmUubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7Kyt0PG47KXt2YXIgaT1lW3RdO3RoaXMuc2V0KGlbMF0saVsxXSl9fWZ1bmN0aW9uIHRlKGUpe3ZhciB0PS0xLG49bnVsbD09ZT8wOmUubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7Kyt0PG47KXt2YXIgaT1lW3RdO3RoaXMuc2V0KGlbMF0saVsxXSl9fWZ1bmN0aW9uIG5lKGUpe3ZhciB0PS0xLG49bnVsbD09ZT8wOmUubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7Kyt0PG47KXt2YXIgaT1lW3RdO3RoaXMuc2V0KGlbMF0saVsxXSl9fWZ1bmN0aW9uIGllKGUpe3ZhciB0PS0xLG49bnVsbD09ZT8wOmUubGVuZ3RoO2Zvcih0aGlzLl9fZGF0YV9fPW5ldyBuZTsrK3Q8bjspdGhpcy5hZGQoZVt0XSl9ZnVuY3Rpb24gcmUoZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXz1uZXcgdGUoZSk7dGhpcy5zaXplPXQuc2l6ZX1mdW5jdGlvbiBvZShlLHQpe3ZhciBuPXdlKGUpLGk9IW4mJmJlKGUpLHI9IW4mJiFpJiZUZShlKSxvPSFuJiYhaSYmIXImJkNlKGUpLGE9bnx8aXx8cnx8byxzPWE/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49LTEsaT1BcnJheShlKTsrK248ZTspaVtuXT10KG4pO3JldHVybiBpfShlLmxlbmd0aCxTdHJpbmcpOltdLGw9cy5sZW5ndGg7Zm9yKHZhciBjIGluIGUpIXQmJiFDLmNhbGwoZSxjKXx8YSYmKFwibGVuZ3RoXCI9PWN8fHImJihcIm9mZnNldFwiPT1jfHxcInBhcmVudFwiPT1jKXx8byYmKFwiYnVmZmVyXCI9PWN8fFwiYnl0ZUxlbmd0aFwiPT1jfHxcImJ5dGVPZmZzZXRcIj09Yyl8fF9lKGMsbCkpfHxzLnB1c2goYyk7cmV0dXJuIHN9ZnVuY3Rpb24gYWUoZSx0KXtmb3IodmFyIG49ZS5sZW5ndGg7bi0tOylpZih4ZShlW25dWzBdLHQpKXJldHVybiBuO3JldHVybi0xfWZ1bmN0aW9uIHNlKGUpe3JldHVybiBudWxsPT1lP3ZvaWQgMD09PWU/XCJbb2JqZWN0IFVuZGVmaW5lZF1cIjpcIltvYmplY3QgTnVsbF1cIjpCJiZCIGluIE9iamVjdChlKT9mdW5jdGlvbihlKXt2YXIgdD1DLmNhbGwoZSxCKSxuPWVbQl07dHJ5e2VbQl09dm9pZCAwO3ZhciBpPSEwfWNhdGNoKGUpe312YXIgcj1BLmNhbGwoZSk7aSYmKHQ/ZVtCXT1uOmRlbGV0ZSBlW0JdKTtyZXR1cm4gcn0oZSk6ZnVuY3Rpb24oZSl7cmV0dXJuIEEuY2FsbChlKX0oZSl9ZnVuY3Rpb24gbGUoZSl7cmV0dXJuIEllKGUpJiZzZShlKT09dH1mdW5jdGlvbiBjZShlLG4saSxzLGwpe3JldHVybiBlPT09bnx8KG51bGw9PWV8fG51bGw9PW58fCFJZShlKSYmIUllKG4pP2UhPWUmJm4hPW46ZnVuY3Rpb24oZSxuLGkscyxsLGMpe3ZhciB1PXdlKGUpLGg9d2UobiksZD11P1wiW29iamVjdCBBcnJheV1cIjp5ZShlKSxwPWg/XCJbb2JqZWN0IEFycmF5XVwiOnllKG4pLGY9KGQ9ZD09dD9vOmQpPT1vLG09KHA9cD09dD9vOnApPT1vLGc9ZD09cDtpZihnJiZUZShlKSl7aWYoIVRlKG4pKXJldHVybiExO3U9ITAsZj0hMX1pZihnJiYhZilyZXR1cm4gY3x8KGM9bmV3IHJlKSx1fHxDZShlKT9kZShlLG4saSxzLGwsYyk6ZnVuY3Rpb24oZSx0LG4saSxvLHMsbCl7c3dpdGNoKG4pe2Nhc2VcIltvYmplY3QgRGF0YVZpZXddXCI6aWYoZS5ieXRlTGVuZ3RoIT10LmJ5dGVMZW5ndGh8fGUuYnl0ZU9mZnNldCE9dC5ieXRlT2Zmc2V0KXJldHVybiExO2U9ZS5idWZmZXIsdD10LmJ1ZmZlcjtjYXNlXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiOnJldHVybiEoZS5ieXRlTGVuZ3RoIT10LmJ5dGVMZW5ndGh8fCFzKG5ldyBMKGUpLG5ldyBMKHQpKSk7Y2FzZVwiW29iamVjdCBCb29sZWFuXVwiOmNhc2VcIltvYmplY3QgRGF0ZV1cIjpjYXNlXCJbb2JqZWN0IE51bWJlcl1cIjpyZXR1cm4geGUoK2UsK3QpO2Nhc2VcIltvYmplY3QgRXJyb3JdXCI6cmV0dXJuIGUubmFtZT09dC5uYW1lJiZlLm1lc3NhZ2U9PXQubWVzc2FnZTtjYXNlXCJbb2JqZWN0IFJlZ0V4cF1cIjpjYXNlXCJbb2JqZWN0IFN0cmluZ11cIjpyZXR1cm4gZT09dCtcIlwiO2Nhc2Ugcjp2YXIgYz1iO2Nhc2UgYTp2YXIgdT0xJmk7aWYoY3x8KGM9dyksZS5zaXplIT10LnNpemUmJiF1KXJldHVybiExO3ZhciBoPWwuZ2V0KGUpO2lmKGgpcmV0dXJuIGg9PXQ7aXw9MixsLnNldChlLHQpO3ZhciBkPWRlKGMoZSksYyh0KSxpLG8scyxsKTtyZXR1cm4gbC5kZWxldGUoZSksZDtjYXNlXCJbb2JqZWN0IFN5bWJvbF1cIjppZihLKXJldHVybiBLLmNhbGwoZSk9PUsuY2FsbCh0KX1yZXR1cm4hMX0oZSxuLGQsaSxzLGwsYyk7aWYoISgxJmkpKXt2YXIgeT1mJiZDLmNhbGwoZSxcIl9fd3JhcHBlZF9fXCIpLF89bSYmQy5jYWxsKG4sXCJfX3dyYXBwZWRfX1wiKTtpZih5fHxfKXt2YXIgdj15P2UudmFsdWUoKTplLHg9Xz9uLnZhbHVlKCk6bjtyZXR1cm4gY3x8KGM9bmV3IHJlKSxsKHYseCxpLHMsYyl9fWlmKCFnKXJldHVybiExO3JldHVybiBjfHwoYz1uZXcgcmUpLGZ1bmN0aW9uKGUsdCxuLGkscixvKXt2YXIgYT0xJm4scz1wZShlKSxsPXMubGVuZ3RoLGM9cGUodCkubGVuZ3RoO2lmKGwhPWMmJiFhKXJldHVybiExO3ZhciB1PWw7Zm9yKDt1LS07KXt2YXIgaD1zW3VdO2lmKCEoYT9oIGluIHQ6Qy5jYWxsKHQsaCkpKXJldHVybiExfXZhciBkPW8uZ2V0KGUpO2lmKGQmJm8uZ2V0KHQpKXJldHVybiBkPT10O3ZhciBwPSEwO28uc2V0KGUsdCksby5zZXQodCxlKTt2YXIgZj1hO2Zvcig7Kyt1PGw7KXtoPXNbdV07dmFyIG09ZVtoXSxnPXRbaF07aWYoaSl2YXIgeT1hP2koZyxtLGgsdCxlLG8pOmkobSxnLGgsZSx0LG8pO2lmKCEodm9pZCAwPT09eT9tPT09Z3x8cihtLGcsbixpLG8pOnkpKXtwPSExO2JyZWFrfWZ8fChmPVwiY29uc3RydWN0b3JcIj09aCl9aWYocCYmIWYpe3ZhciBfPWUuY29uc3RydWN0b3Isdj10LmNvbnN0cnVjdG9yO189PXZ8fCEoXCJjb25zdHJ1Y3RvclwiaW4gZSl8fCEoXCJjb25zdHJ1Y3RvclwiaW4gdCl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIF8mJl8gaW5zdGFuY2VvZiBfJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB2JiZ2IGluc3RhbmNlb2Ygdnx8KHA9ITEpfXJldHVybiBvLmRlbGV0ZShlKSxvLmRlbGV0ZSh0KSxwfShlLG4saSxzLGwsYyl9KGUsbixpLHMsY2UsbCkpfWZ1bmN0aW9uIHVlKGUpe3JldHVybiEoIU1lKGUpfHxmdW5jdGlvbihlKXtyZXR1cm4hIWsmJmsgaW4gZX0oZSkpJiYoRWUoZSk/UDpzKS50ZXN0KHZlKGUpKX1mdW5jdGlvbiBoZShlKXtpZighZnVuY3Rpb24oZSl7dmFyIHQ9ZSYmZS5jb25zdHJ1Y3RvcixuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQucHJvdG90eXBlfHxTO3JldHVybiBlPT09bn0oZSkpcmV0dXJuIE4oZSk7dmFyIHQ9W107Zm9yKHZhciBuIGluIE9iamVjdChlKSlDLmNhbGwoZSxuKSYmXCJjb25zdHJ1Y3RvclwiIT1uJiZ0LnB1c2gobik7cmV0dXJuIHR9ZnVuY3Rpb24gZGUoZSx0LG4saSxyLG8pe3ZhciBhPTEmbixzPWUubGVuZ3RoLGw9dC5sZW5ndGg7aWYocyE9bCYmIShhJiZsPnMpKXJldHVybiExO3ZhciBjPW8uZ2V0KGUpO2lmKGMmJm8uZ2V0KHQpKXJldHVybiBjPT10O3ZhciB1PS0xLGg9ITAsZD0yJm4/bmV3IGllOnZvaWQgMDtmb3Ioby5zZXQoZSx0KSxvLnNldCh0LGUpOysrdTxzOyl7dmFyIHA9ZVt1XSxmPXRbdV07aWYoaSl2YXIgbT1hP2koZixwLHUsdCxlLG8pOmkocCxmLHUsZSx0LG8pO2lmKHZvaWQgMCE9PW0pe2lmKG0pY29udGludWU7aD0hMTticmVha31pZihkKXtpZighdih0LChmdW5jdGlvbihlLHQpe2lmKCF4KGQsdCkmJihwPT09ZXx8cihwLGUsbixpLG8pKSlyZXR1cm4gZC5wdXNoKHQpfSkpKXtoPSExO2JyZWFrfX1lbHNlIGlmKHAhPT1mJiYhcihwLGYsbixpLG8pKXtoPSExO2JyZWFrfX1yZXR1cm4gby5kZWxldGUoZSksby5kZWxldGUodCksaH1mdW5jdGlvbiBwZShlKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXQoZSk7cmV0dXJuIHdlKGUpP2k6ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49LTEsaT10Lmxlbmd0aCxyPWUubGVuZ3RoOysrbjxpOyllW3Irbl09dFtuXTtyZXR1cm4gZX0oaSxuKGUpKX0oZSxrZSxnZSl9ZnVuY3Rpb24gZmUoZSx0KXt2YXIgbj1lLl9fZGF0YV9fO3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm5cInN0cmluZ1wiPT10fHxcIm51bWJlclwiPT10fHxcInN5bWJvbFwiPT10fHxcImJvb2xlYW5cIj09dD9cIl9fcHJvdG9fX1wiIT09ZTpudWxsPT09ZX0odCk/bltcInN0cmluZ1wiPT10eXBlb2YgdD9cInN0cmluZ1wiOlwiaGFzaFwiXTpuLm1hcH1mdW5jdGlvbiBtZShlLHQpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWU/dm9pZCAwOmVbdF19KGUsdCk7cmV0dXJuIHVlKG4pP246dm9pZCAwfWVlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189cT9xKG51bGwpOnt9LHRoaXMuc2l6ZT0wfSxlZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuaGFzKGUpJiZkZWxldGUgdGhpcy5fX2RhdGFfX1tlXTtyZXR1cm4gdGhpcy5zaXplLT10PzE6MCx0fSxlZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX19kYXRhX187aWYocSl7dmFyIG49dFtlXTtyZXR1cm5cIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIj09PW4/dm9pZCAwOm59cmV0dXJuIEMuY2FsbCh0LGUpP3RbZV06dm9pZCAwfSxlZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX19kYXRhX187cmV0dXJuIHE/dm9pZCAwIT09dFtlXTpDLmNhbGwodCxlKX0sZWUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX19kYXRhX187cmV0dXJuIHRoaXMuc2l6ZSs9dGhpcy5oYXMoZSk/MDoxLG5bZV09cSYmdm9pZCAwPT09dD9cIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIjp0LHRoaXN9LHRlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189W10sdGhpcy5zaXplPTB9LHRlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXyxuPWFlKHQsZSk7cmV0dXJuIShuPDApJiYobj09dC5sZW5ndGgtMT90LnBvcCgpOlIuY2FsbCh0LG4sMSksLS10aGlzLnNpemUsITApfSx0ZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX19kYXRhX18sbj1hZSh0LGUpO3JldHVybiBuPDA/dm9pZCAwOnRbbl1bMV19LHRlLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGFlKHRoaXMuX19kYXRhX18sZSk+LTF9LHRlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9fZGF0YV9fLGk9YWUobixlKTtyZXR1cm4gaTwwPygrK3RoaXMuc2l6ZSxuLnB1c2goW2UsdF0pKTpuW2ldWzFdPXQsdGhpc30sbmUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5zaXplPTAsdGhpcy5fX2RhdGFfXz17aGFzaDpuZXcgZWUsbWFwOm5ldyhWfHx0ZSksc3RyaW5nOm5ldyBlZX19LG5lLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZmUodGhpcyxlKS5kZWxldGUoZSk7cmV0dXJuIHRoaXMuc2l6ZS09dD8xOjAsdH0sbmUucHJvdG90eXBlLmdldD1mdW5jdGlvbihlKXtyZXR1cm4gZmUodGhpcyxlKS5nZXQoZSl9LG5lLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZlKHRoaXMsZSkuaGFzKGUpfSxuZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZmUodGhpcyxlKSxpPW4uc2l6ZTtyZXR1cm4gbi5zZXQoZSx0KSx0aGlzLnNpemUrPW4uc2l6ZT09aT8wOjEsdGhpc30saWUucHJvdG90eXBlLmFkZD1pZS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5zZXQoZSxcIl9fbG9kYXNoX2hhc2hfdW5kZWZpbmVkX19cIiksdGhpc30saWUucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoZSl9LHJlLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189bmV3IHRlLHRoaXMuc2l6ZT0wfSxyZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuX19kYXRhX18sbj10LmRlbGV0ZShlKTtyZXR1cm4gdGhpcy5zaXplPXQuc2l6ZSxufSxyZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLmdldChlKX0scmUucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5oYXMoZSl9LHJlLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLl9fZGF0YV9fO2lmKG4gaW5zdGFuY2VvZiB0ZSl7dmFyIGk9bi5fX2RhdGFfXztpZighVnx8aS5sZW5ndGg8MTk5KXJldHVybiBpLnB1c2goW2UsdF0pLHRoaXMuc2l6ZT0rK24uc2l6ZSx0aGlzO249dGhpcy5fX2RhdGFfXz1uZXcgbmUoaSl9cmV0dXJuIG4uc2V0KGUsdCksdGhpcy5zaXplPW4uc2l6ZSx0aGlzfTt2YXIgZ2U9aj9mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9bXTooZT1PYmplY3QoZSksZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49LTEsaT1udWxsPT1lPzA6ZS5sZW5ndGgscj0wLG89W107KytuPGk7KXt2YXIgYT1lW25dO3QoYSxuLGUpJiYob1tyKytdPWEpfXJldHVybiBvfShqKGUpLChmdW5jdGlvbih0KXtyZXR1cm4gTy5jYWxsKGUsdCl9KSkpfTpmdW5jdGlvbigpe3JldHVybltdfSx5ZT1zZTtmdW5jdGlvbiBfZShlLHQpe3JldHVybiEhKHQ9bnVsbD09dD85MDA3MTk5MjU0NzQwOTkxOnQpJiYoXCJudW1iZXJcIj09dHlwZW9mIGV8fGwudGVzdChlKSkmJmU+LTEmJmUlMT09MCYmZTx0fWZ1bmN0aW9uIHZlKGUpe2lmKG51bGwhPWUpe3RyeXtyZXR1cm4gSS5jYWxsKGUpfWNhdGNoKGUpe310cnl7cmV0dXJuIGUrXCJcIn1jYXRjaChlKXt9fXJldHVyblwiXCJ9ZnVuY3Rpb24geGUoZSx0KXtyZXR1cm4gZT09PXR8fGUhPWUmJnQhPXR9KFUmJlwiW29iamVjdCBEYXRhVmlld11cIiE9eWUobmV3IFUobmV3IEFycmF5QnVmZmVyKDEpKSl8fFYmJnllKG5ldyBWKSE9cnx8RyYmXCJbb2JqZWN0IFByb21pc2VdXCIhPXllKEcucmVzb2x2ZSgpKXx8WiYmeWUobmV3IFopIT1hfHxXJiZcIltvYmplY3QgV2Vha01hcF1cIiE9eWUobmV3IFcpKSYmKHllPWZ1bmN0aW9uKGUpe3ZhciB0PXNlKGUpLG49dD09bz9lLmNvbnN0cnVjdG9yOnZvaWQgMCxpPW4/dmUobik6XCJcIjtpZihpKXN3aXRjaChpKXtjYXNlICQ6cmV0dXJuXCJbb2JqZWN0IERhdGFWaWV3XVwiO2Nhc2UgSDpyZXR1cm4gcjtjYXNlIFg6cmV0dXJuXCJbb2JqZWN0IFByb21pc2VdXCI7Y2FzZSBZOnJldHVybiBhO2Nhc2UgSjpyZXR1cm5cIltvYmplY3QgV2Vha01hcF1cIn1yZXR1cm4gdH0pO3ZhciBiZT1sZShmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpP2xlOmZ1bmN0aW9uKGUpe3JldHVybiBJZShlKSYmQy5jYWxsKGUsXCJjYWxsZWVcIikmJiFPLmNhbGwoZSxcImNhbGxlZVwiKX0sd2U9QXJyYXkuaXNBcnJheTt2YXIgVGU9Rnx8ZnVuY3Rpb24oKXtyZXR1cm4hMX07ZnVuY3Rpb24gRWUoZSl7aWYoIU1lKGUpKXJldHVybiExO3ZhciB0PXNlKGUpO3JldHVyblwiW29iamVjdCBGdW5jdGlvbl1cIj09dHx8XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiPT10fHxcIltvYmplY3QgQXN5bmNGdW5jdGlvbl1cIj09dHx8XCJbb2JqZWN0IFByb3h5XVwiPT10fWZ1bmN0aW9uIFNlKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPi0xJiZlJTE9PTAmJmU8PTkwMDcxOTkyNTQ3NDA5OTF9ZnVuY3Rpb24gTWUoZSl7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuIG51bGwhPWUmJihcIm9iamVjdFwiPT10fHxcImZ1bmN0aW9uXCI9PXQpfWZ1bmN0aW9uIEllKGUpe3JldHVybiBudWxsIT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZX12YXIgQ2U9Xz9mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9fShfKTpmdW5jdGlvbihlKXtyZXR1cm4gSWUoZSkmJlNlKGUubGVuZ3RoKSYmISFjW3NlKGUpXX07ZnVuY3Rpb24ga2UoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZTZShlLmxlbmd0aCkmJiFFZShlKX0oZSk/b2UoZSk6aGUoZSl9bi5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNlKGUsdCl9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyx2b2lkIDAhPT10P3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHt9XSwxNDpbZnVuY3Rpb24oZSxuLGkpeyhmdW5jdGlvbih0KXsoZnVuY3Rpb24oKXt2YXIgcj1lKFwibG9kYXNoLl9yZWludGVycG9sYXRlXCIpLG89ZShcImxvZGFzaC50ZW1wbGF0ZXNldHRpbmdzXCIpLGE9L1xcYl9fcCBcXCs9ICcnOy9nLHM9L1xcYihfX3AgXFwrPSkgJycgXFwrL2csbD0vKF9fZVxcKC4qP1xcKXxcXGJfX3RcXCkpIFxcK1xcbicnOy9nLGM9L1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nLHU9L15cXFtvYmplY3QgLis/Q29uc3RydWN0b3JcXF0kLyxoPS9eKD86MHxbMS05XVxcZCopJC8sZD0vKCReKS8scD0vWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2csZj17fTtmW1wiW29iamVjdCBGbG9hdDMyQXJyYXldXCJdPWZbXCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIl09ZltcIltvYmplY3QgSW50OEFycmF5XVwiXT1mW1wiW29iamVjdCBJbnQxNkFycmF5XVwiXT1mW1wiW29iamVjdCBJbnQzMkFycmF5XVwiXT1mW1wiW29iamVjdCBVaW50OEFycmF5XVwiXT1mW1wiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIl09ZltcIltvYmplY3QgVWludDE2QXJyYXldXCJdPWZbXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiXT0hMCxmW1wiW29iamVjdCBBcmd1bWVudHNdXCJdPWZbXCJbb2JqZWN0IEFycmF5XVwiXT1mW1wiW29iamVjdCBBcnJheUJ1ZmZlcl1cIl09ZltcIltvYmplY3QgQm9vbGVhbl1cIl09ZltcIltvYmplY3QgRGF0YVZpZXddXCJdPWZbXCJbb2JqZWN0IERhdGVdXCJdPWZbXCJbb2JqZWN0IEVycm9yXVwiXT1mW1wiW29iamVjdCBGdW5jdGlvbl1cIl09ZltcIltvYmplY3QgTWFwXVwiXT1mW1wiW29iamVjdCBOdW1iZXJdXCJdPWZbXCJbb2JqZWN0IE9iamVjdF1cIl09ZltcIltvYmplY3QgUmVnRXhwXVwiXT1mW1wiW29iamVjdCBTZXRdXCJdPWZbXCJbb2JqZWN0IFN0cmluZ11cIl09ZltcIltvYmplY3QgV2Vha01hcF1cIl09ITE7dmFyIG09e1wiXFxcXFwiOlwiXFxcXFwiLFwiJ1wiOlwiJ1wiLFwiXFxuXCI6XCJuXCIsXCJcXHJcIjpcInJcIixcIlxcdTIwMjhcIjpcInUyMDI4XCIsXCJcXHUyMDI5XCI6XCJ1MjAyOVwifSxnPVwib2JqZWN0XCI9PXR5cGVvZiB0JiZ0JiZ0Lk9iamVjdD09PU9iamVjdCYmdCx5PVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixfPWd8fHl8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSx2PVwib2JqZWN0XCI9PXR5cGVvZiBpJiZpJiYhaS5ub2RlVHlwZSYmaSx4PXYmJlwib2JqZWN0XCI9PXR5cGVvZiBuJiZuJiYhbi5ub2RlVHlwZSYmbixiPXgmJnguZXhwb3J0cz09PXYsdz1iJiZnLnByb2Nlc3MsVD1mdW5jdGlvbigpe3RyeXt2YXIgZT14JiZ4LnJlcXVpcmUmJngucmVxdWlyZShcInV0aWxcIikudHlwZXM7cmV0dXJuIGV8fHcmJncuYmluZGluZyYmdy5iaW5kaW5nKFwidXRpbFwiKX1jYXRjaChlKXt9fSgpLEU9VCYmVC5pc1R5cGVkQXJyYXk7ZnVuY3Rpb24gUyhlLHQsbil7c3dpdGNoKG4ubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGUuY2FsbCh0KTtjYXNlIDE6cmV0dXJuIGUuY2FsbCh0LG5bMF0pO2Nhc2UgMjpyZXR1cm4gZS5jYWxsKHQsblswXSxuWzFdKTtjYXNlIDM6cmV0dXJuIGUuY2FsbCh0LG5bMF0sblsxXSxuWzJdKX1yZXR1cm4gZS5hcHBseSh0LG4pfWZ1bmN0aW9uIE0oZSx0KXtmb3IodmFyIG49LTEsaT1udWxsPT1lPzA6ZS5sZW5ndGgscj1BcnJheShpKTsrK248aTspcltuXT10KGVbbl0sbixlKTtyZXR1cm4gcn1mdW5jdGlvbiBJKGUpe3JldHVyblwiXFxcXFwiK21bZV19ZnVuY3Rpb24gQyhlLHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZSh0KG4pKX19dmFyIGs9RnVuY3Rpb24ucHJvdG90eXBlLEE9T2JqZWN0LnByb3RvdHlwZSxQPV9bXCJfX2NvcmUtanNfc2hhcmVkX19cIl0sej1rLnRvU3RyaW5nLEQ9QS5oYXNPd25Qcm9wZXJ0eSxMPWZ1bmN0aW9uKCl7dmFyIGU9L1teLl0rJC8uZXhlYyhQJiZQLmtleXMmJlAua2V5cy5JRV9QUk9UT3x8XCJcIik7cmV0dXJuIGU/XCJTeW1ib2woc3JjKV8xLlwiK2U6XCJcIn0oKSxPPUEudG9TdHJpbmcsUj16LmNhbGwoT2JqZWN0KSxCPVJlZ0V4cChcIl5cIit6LmNhbGwoRCkucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXCJcXFxcJCZcIikucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZyxcIiQxLio/XCIpK1wiJFwiKSxqPWI/Xy5CdWZmZXI6dm9pZCAwLEY9Xy5TeW1ib2wsTj1DKE9iamVjdC5nZXRQcm90b3R5cGVPZixPYmplY3QpLFU9QS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxWPUY/Ri50b1N0cmluZ1RhZzp2b2lkIDAsRz1mdW5jdGlvbigpe3RyeXt2YXIgZT1mdW5jdGlvbihlLHQpe3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWU/dm9pZCAwOmVbdF19KGUsdCk7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCF5ZShlKXx8ZnVuY3Rpb24oZSl7cmV0dXJuISFMJiZMIGluIGV9KGUpKXJldHVybiExO3JldHVybihtZShlKT9COnUpLnRlc3QoZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSl7dHJ5e3JldHVybiB6LmNhbGwoZSl9Y2F0Y2goZSl7fXRyeXtyZXR1cm4gZStcIlwifWNhdGNoKGUpe319cmV0dXJuXCJcIn0oZSkpfShuKT9uOnZvaWQgMH0oT2JqZWN0LFwiZGVmaW5lUHJvcGVydHlcIik7cmV0dXJuIGUoe30sXCJcIix7fSksZX1jYXRjaChlKXt9fSgpLFo9aj9qLmlzQnVmZmVyOnZvaWQgMCxXPUMoT2JqZWN0LmtleXMsT2JqZWN0KSxxPU1hdGgubWF4LCQ9RGF0ZS5ub3csSD1GP0YucHJvdG90eXBlOnZvaWQgMCxYPUg/SC50b1N0cmluZzp2b2lkIDA7ZnVuY3Rpb24gWShlLHQpe3ZhciBuPWhlKGUpLGk9IW4mJnVlKGUpLHI9IW4mJiFpJiZwZShlKSxvPSFuJiYhaSYmIXImJnZlKGUpLGE9bnx8aXx8cnx8byxzPWE/ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49LTEsaT1BcnJheShlKTsrK248ZTspaVtuXT10KG4pO3JldHVybiBpfShlLmxlbmd0aCxTdHJpbmcpOltdLGw9cy5sZW5ndGg7Zm9yKHZhciBjIGluIGUpIXQmJiFELmNhbGwoZSxjKXx8YSYmKFwibGVuZ3RoXCI9PWN8fHImJihcIm9mZnNldFwiPT1jfHxcInBhcmVudFwiPT1jKXx8byYmKFwiYnVmZmVyXCI9PWN8fFwiYnl0ZUxlbmd0aFwiPT1jfHxcImJ5dGVPZmZzZXRcIj09Yyl8fG9lKGMsbCkpfHxzLnB1c2goYyk7cmV0dXJuIHN9ZnVuY3Rpb24gSihlLHQsbil7dmFyIGk9ZVt0XTtELmNhbGwoZSx0KSYmY2UoaSxuKSYmKHZvaWQgMCE9PW58fHQgaW4gZSl8fFEoZSx0LG4pfWZ1bmN0aW9uIFEoZSx0LG4pe1wiX19wcm90b19fXCI9PXQmJkc/RyhlLHQse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOm4sd3JpdGFibGU6ITB9KTplW3RdPW59ZnVuY3Rpb24gSyhlKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA9PT1lP1wiW29iamVjdCBVbmRlZmluZWRdXCI6XCJbb2JqZWN0IE51bGxdXCI6ViYmViBpbiBPYmplY3QoZSk/ZnVuY3Rpb24oZSl7dmFyIHQ9RC5jYWxsKGUsViksbj1lW1ZdO3RyeXtlW1ZdPXZvaWQgMDt2YXIgaT0hMH1jYXRjaChlKXt9dmFyIHI9Ty5jYWxsKGUpO2kmJih0P2VbVl09bjpkZWxldGUgZVtWXSk7cmV0dXJuIHJ9KGUpOmZ1bmN0aW9uKGUpe3JldHVybiBPLmNhbGwoZSl9KGUpfWZ1bmN0aW9uIGVlKGUpe3JldHVybiBfZShlKSYmXCJbb2JqZWN0IEFyZ3VtZW50c11cIj09SyhlKX1mdW5jdGlvbiB0ZShlKXtpZigheWUoZSkpcmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PVtdO2lmKG51bGwhPWUpZm9yKHZhciBuIGluIE9iamVjdChlKSl0LnB1c2gobik7cmV0dXJuIHR9KGUpO3ZhciB0PXNlKGUpLG49W107Zm9yKHZhciBpIGluIGUpKFwiY29uc3RydWN0b3JcIiE9aXx8IXQmJkQuY2FsbChlLGkpKSYmbi5wdXNoKGkpO3JldHVybiBufWZ1bmN0aW9uIG5lKGUsdCl7cmV0dXJuIGxlKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdD1xKHZvaWQgMD09PXQ/ZS5sZW5ndGgtMTp0LDApLGZ1bmN0aW9uKCl7Zm9yKHZhciBpPWFyZ3VtZW50cyxyPS0xLG89cShpLmxlbmd0aC10LDApLGE9QXJyYXkobyk7KytyPG87KWFbcl09aVt0K3JdO3I9LTE7Zm9yKHZhciBzPUFycmF5KHQrMSk7KytyPHQ7KXNbcl09aVtyXTtyZXR1cm4gc1t0XT1uKGEpLFMoZSx0aGlzLHMpfX0oZSx0LEVlKSxlK1wiXCIpfWZ1bmN0aW9uIGllKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBlO2lmKGhlKGUpKXJldHVybiBNKGUsaWUpK1wiXCI7aWYoZnVuY3Rpb24oZSl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIGV8fF9lKGUpJiZcIltvYmplY3QgU3ltYm9sXVwiPT1LKGUpfShlKSlyZXR1cm4gWD9YLmNhbGwoZSk6XCJcIjt2YXIgdD1lK1wiXCI7cmV0dXJuXCIwXCI9PXQmJjEvZT09LTEvMD9cIi0wXCI6dH1mdW5jdGlvbiByZShlLHQsbixpKXtyZXR1cm4gdm9pZCAwPT09ZXx8Y2UoZSxBW25dKSYmIUQuY2FsbChpLG4pP3Q6ZX1mdW5jdGlvbiBvZShlLHQpe3ZhciBuPXR5cGVvZiBlO3JldHVybiEhKHQ9bnVsbD09dD85MDA3MTk5MjU0NzQwOTkxOnQpJiYoXCJudW1iZXJcIj09bnx8XCJzeW1ib2xcIiE9biYmaC50ZXN0KGUpKSYmZT4tMSYmZSUxPT0wJiZlPHR9ZnVuY3Rpb24gYWUoZSx0LG4pe2lmKCF5ZShuKSlyZXR1cm4hMTt2YXIgaT10eXBlb2YgdDtyZXR1cm4hIShcIm51bWJlclwiPT1pP2RlKG4pJiZvZSh0LG4ubGVuZ3RoKTpcInN0cmluZ1wiPT1pJiZ0IGluIG4pJiZjZShuW3RdLGUpfWZ1bmN0aW9uIHNlKGUpe3ZhciB0PWUmJmUuY29uc3RydWN0b3I7cmV0dXJuIGU9PT0oXCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5wcm90b3R5cGV8fEEpfXZhciBsZT1mdW5jdGlvbihlKXt2YXIgdD0wLG49MDtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaT0kKCkscj0xNi0oaS1uKTtpZihuPWkscj4wKXtpZigrK3Q+PTgwMClyZXR1cm4gYXJndW1lbnRzWzBdfWVsc2UgdD0wO3JldHVybiBlLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfX0oRz9mdW5jdGlvbihlLHQpe3JldHVybiBHKGUsXCJ0b1N0cmluZ1wiLHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZTpUZSh0KSx3cml0YWJsZTohMH0pfTpFZSk7ZnVuY3Rpb24gY2UoZSx0KXtyZXR1cm4gZT09PXR8fGUhPWUmJnQhPXR9dmFyIHVlPWVlKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk/ZWU6ZnVuY3Rpb24oZSl7cmV0dXJuIF9lKGUpJiZELmNhbGwoZSxcImNhbGxlZVwiKSYmIVUuY2FsbChlLFwiY2FsbGVlXCIpfSxoZT1BcnJheS5pc0FycmF5O2Z1bmN0aW9uIGRlKGUpe3JldHVybiBudWxsIT1lJiZnZShlLmxlbmd0aCkmJiFtZShlKX12YXIgcGU9Wnx8ZnVuY3Rpb24oKXtyZXR1cm4hMX07ZnVuY3Rpb24gZmUoZSl7aWYoIV9lKGUpKXJldHVybiExO3ZhciB0PUsoZSk7cmV0dXJuXCJbb2JqZWN0IEVycm9yXVwiPT10fHxcIltvYmplY3QgRE9NRXhjZXB0aW9uXVwiPT10fHxcInN0cmluZ1wiPT10eXBlb2YgZS5tZXNzYWdlJiZcInN0cmluZ1wiPT10eXBlb2YgZS5uYW1lJiYhZnVuY3Rpb24oZSl7aWYoIV9lKGUpfHxcIltvYmplY3QgT2JqZWN0XVwiIT1LKGUpKXJldHVybiExO3ZhciB0PU4oZSk7aWYobnVsbD09PXQpcmV0dXJuITA7dmFyIG49RC5jYWxsKHQsXCJjb25zdHJ1Y3RvclwiKSYmdC5jb25zdHJ1Y3RvcjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuIGluc3RhbmNlb2YgbiYmei5jYWxsKG4pPT1SfShlKX1mdW5jdGlvbiBtZShlKXtpZigheWUoZSkpcmV0dXJuITE7dmFyIHQ9SyhlKTtyZXR1cm5cIltvYmplY3QgRnVuY3Rpb25dXCI9PXR8fFwiW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl1cIj09dHx8XCJbb2JqZWN0IEFzeW5jRnVuY3Rpb25dXCI9PXR8fFwiW29iamVjdCBQcm94eV1cIj09dH1mdW5jdGlvbiBnZShlKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZSYmZT4tMSYmZSUxPT0wJiZlPD05MDA3MTk5MjU0NzQwOTkxfWZ1bmN0aW9uIHllKGUpe3ZhciB0PXR5cGVvZiBlO3JldHVybiBudWxsIT1lJiYoXCJvYmplY3RcIj09dHx8XCJmdW5jdGlvblwiPT10KX1mdW5jdGlvbiBfZShlKXtyZXR1cm4gbnVsbCE9ZSYmXCJvYmplY3RcIj09dHlwZW9mIGV9dmFyIHZlPUU/ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfX0oRSk6ZnVuY3Rpb24oZSl7cmV0dXJuIF9lKGUpJiZnZShlLmxlbmd0aCkmJiEhZltLKGUpXX07dmFyIHhlPWZ1bmN0aW9uKGUpe3JldHVybiBuZSgoZnVuY3Rpb24odCxuKXt2YXIgaT0tMSxyPW4ubGVuZ3RoLG89cj4xP25bci0xXTp2b2lkIDAsYT1yPjI/blsyXTp2b2lkIDA7Zm9yKG89ZS5sZW5ndGg+MyYmXCJmdW5jdGlvblwiPT10eXBlb2Ygbz8oci0tLG8pOnZvaWQgMCxhJiZhZShuWzBdLG5bMV0sYSkmJihvPXI8Mz92b2lkIDA6byxyPTEpLHQ9T2JqZWN0KHQpOysraTxyOyl7dmFyIHM9bltpXTtzJiZlKHQscyxpLG8pfXJldHVybiB0fSkpfSgoZnVuY3Rpb24oZSx0LG4saSl7IWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByPSFuO258fChuPXt9KTtmb3IodmFyIG89LTEsYT10Lmxlbmd0aDsrK288YTspe3ZhciBzPXRbb10sbD1pP2kobltzXSxlW3NdLHMsbixlKTp2b2lkIDA7dm9pZCAwPT09bCYmKGw9ZVtzXSkscj9RKG4scyxsKTpKKG4scyxsKX19KHQsZnVuY3Rpb24oZSl7cmV0dXJuIGRlKGUpP1koZSwhMCk6dGUoZSl9KHQpLGUsaSl9KSk7ZnVuY3Rpb24gYmUoZSl7cmV0dXJuIGRlKGUpP1koZSk6ZnVuY3Rpb24oZSl7aWYoIXNlKGUpKXJldHVybiBXKGUpO3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBPYmplY3QoZSkpRC5jYWxsKGUsbikmJlwiY29uc3RydWN0b3JcIiE9biYmdC5wdXNoKG4pO3JldHVybiB0fShlKX12YXIgd2U9bmUoKGZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBTKGUsdm9pZCAwLHQpfWNhdGNoKGUpe3JldHVybiBmZShlKT9lOm5ldyBFcnJvcihlKX19KSk7ZnVuY3Rpb24gVGUoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fWZ1bmN0aW9uIEVlKGUpe3JldHVybiBlfW4uZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGk9by5pbXBvcnRzLl8udGVtcGxhdGVTZXR0aW5nc3x8bztuJiZhZShlLHQsbikmJih0PXZvaWQgMCksZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT9cIlwiOmllKGUpfShlKSx0PXhlKHt9LHQsaSxyZSk7dmFyIHUsaCxmPXhlKHt9LHQuaW1wb3J0cyxpLmltcG9ydHMscmUpLG09YmUoZiksZz1mdW5jdGlvbihlLHQpe3JldHVybiBNKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSkpfShmLG0pLHk9MCxfPXQuaW50ZXJwb2xhdGV8fGQsdj1cIl9fcCArPSAnXCIseD1SZWdFeHAoKHQuZXNjYXBlfHxkKS5zb3VyY2UrXCJ8XCIrXy5zb3VyY2UrXCJ8XCIrKF89PT1yP2M6ZCkuc291cmNlK1wifFwiKyh0LmV2YWx1YXRlfHxkKS5zb3VyY2UrXCJ8JFwiLFwiZ1wiKSxiPUQuY2FsbCh0LFwic291cmNlVVJMXCIpP1wiLy8jIHNvdXJjZVVSTD1cIisodC5zb3VyY2VVUkwrXCJcIikucmVwbGFjZSgvW1xcclxcbl0vZyxcIiBcIikrXCJcXG5cIjpcIlwiO2UucmVwbGFjZSh4LChmdW5jdGlvbih0LG4saSxyLG8sYSl7cmV0dXJuIGl8fChpPXIpLHYrPWUuc2xpY2UoeSxhKS5yZXBsYWNlKHAsSSksbiYmKHU9ITAsdis9XCInICtcXG5fX2UoXCIrbitcIikgK1xcbidcIiksbyYmKGg9ITAsdis9XCInO1xcblwiK28rXCI7XFxuX19wICs9ICdcIiksaSYmKHYrPVwiJyArXFxuKChfX3QgPSAoXCIraStcIikpID09IG51bGwgPyAnJyA6IF9fdCkgK1xcbidcIikseT1hK3QubGVuZ3RoLHR9KSksdis9XCInO1xcblwiO3ZhciB3PUQuY2FsbCh0LFwidmFyaWFibGVcIikmJnQudmFyaWFibGU7d3x8KHY9XCJ3aXRoIChvYmopIHtcXG5cIit2K1wiXFxufVxcblwiKSx2PShoP3YucmVwbGFjZShhLFwiXCIpOnYpLnJlcGxhY2UocyxcIiQxXCIpLnJlcGxhY2UobCxcIiQxO1wiKSx2PVwiZnVuY3Rpb24oXCIrKHd8fFwib2JqXCIpK1wiKSB7XFxuXCIrKHc/XCJcIjpcIm9iaiB8fCAob2JqID0ge30pO1xcblwiKStcInZhciBfX3QsIF9fcCA9ICcnXCIrKHU/XCIsIF9fZSA9IF8uZXNjYXBlXCI6XCJcIikrKGg/XCIsIF9faiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xcbmZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiOlwiO1xcblwiKSt2K1wicmV0dXJuIF9fcFxcbn1cIjt2YXIgVD13ZSgoZnVuY3Rpb24oKXtyZXR1cm4gRnVuY3Rpb24obSxiK1wicmV0dXJuIFwiK3YpLmFwcGx5KHZvaWQgMCxnKX0pKTtpZihULnNvdXJjZT12LGZlKFQpKXRocm93IFQ7cmV0dXJuIFR9fSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyx2b2lkIDAhPT10P3Q6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcImxvZGFzaC5fcmVpbnRlcnBvbGF0ZVwiOjExLFwibG9kYXNoLnRlbXBsYXRlc2V0dGluZ3NcIjoxNX1dLDE1OltmdW5jdGlvbihlLG4saSl7KGZ1bmN0aW9uKHQpeyhmdW5jdGlvbigpe3ZhciBpPWUoXCJsb2Rhc2guX3JlaW50ZXJwb2xhdGVcIikscj0vWyY8PlwiJ2BdL2csbz1SZWdFeHAoci5zb3VyY2UpLGE9XCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuT2JqZWN0PT09T2JqZWN0JiZ0LHM9XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLGw9YXx8c3x8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO3ZhciBjPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6ZVt0XX19KHtcIiZcIjpcIiZhbXA7XCIsXCI8XCI6XCImbHQ7XCIsXCI+XCI6XCImZ3Q7XCIsJ1wiJzpcIiZxdW90O1wiLFwiJ1wiOlwiJiMzOTtcIixcImBcIjpcIiYjOTY7XCJ9KSx1PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsaD1sLlN5bWJvbCxkPWg/aC5wcm90b3R5cGU6dm9pZCAwLHA9ZD9kLnRvU3RyaW5nOnZvaWQgMCxmPXtlc2NhcGU6LzwlLShbXFxzXFxTXSs/KSU+L2csZXZhbHVhdGU6LzwlKFtcXHNcXFNdKz8pJT4vZyxpbnRlcnBvbGF0ZTppLHZhcmlhYmxlOlwiXCIsaW1wb3J0czp7Xzp7ZXNjYXBlOmZ1bmN0aW9uKGUpe3JldHVybihlPWcoZSkpJiZvLnRlc3QoZSk/ZS5yZXBsYWNlKHIsYyk6ZX19fX07ZnVuY3Rpb24gbShlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gZTtpZihmdW5jdGlvbihlKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgZXx8ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiZcIm9iamVjdFwiPT10eXBlb2YgZX0oZSkmJlwiW29iamVjdCBTeW1ib2xdXCI9PXUuY2FsbChlKX0oZSkpcmV0dXJuIHA/cC5jYWxsKGUpOlwiXCI7dmFyIHQ9ZStcIlwiO3JldHVyblwiMFwiPT10JiYxL2U9PS0xLzA/XCItMFwiOnR9ZnVuY3Rpb24gZyhlKXtyZXR1cm4gbnVsbD09ZT9cIlwiOm0oZSl9bi5leHBvcnRzPWZ9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLHZvaWQgMCE9PXQ/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wibG9kYXNoLl9yZWludGVycG9sYXRlXCI6MTF9XSwxNjpbZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbz10LmV4cG9ydHM9e307ZnVuY3Rpb24gYSgpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gcygpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBsKGUpe2lmKGk9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKGk9PT1hfHwhaSkmJnNldFRpbWVvdXQpcmV0dXJuIGk9c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiBpKGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiBpLmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiBpLmNhbGwodGhpcyxlLDApfX19IWZ1bmN0aW9uKCl7dHJ5e2k9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0OmF9Y2F0Y2goZSl7aT1hfXRyeXtyPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6c31jYXRjaChlKXtyPXN9fSgpO3ZhciBjLHU9W10saD0hMSxkPS0xO2Z1bmN0aW9uIHAoKXtoJiZjJiYoaD0hMSxjLmxlbmd0aD91PWMuY29uY2F0KHUpOmQ9LTEsdS5sZW5ndGgmJmYoKSl9ZnVuY3Rpb24gZigpe2lmKCFoKXt2YXIgZT1sKHApO2g9ITA7Zm9yKHZhciB0PXUubGVuZ3RoO3Q7KXtmb3IoYz11LHU9W107KytkPHQ7KWMmJmNbZF0ucnVuKCk7ZD0tMSx0PXUubGVuZ3RofWM9bnVsbCxoPSExLGZ1bmN0aW9uKGUpe2lmKHI9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigocj09PXN8fCFyKSYmY2xlYXJUaW1lb3V0KXJldHVybiByPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e3IoZSl9Y2F0Y2godCl7dHJ5e3JldHVybiByLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gci5jYWxsKHRoaXMsZSl9fX0oZSl9fWZ1bmN0aW9uIG0oZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBnKCl7fW8ubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTt1LnB1c2gobmV3IG0oZSx0KSksMSE9PXUubGVuZ3RofHxofHxsKGYpfSxtLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxvLnRpdGxlPVwiYnJvd3NlclwiLG8uYnJvd3Nlcj0hMCxvLmVudj17fSxvLmFyZ3Y9W10sby52ZXJzaW9uPVwiXCIsby52ZXJzaW9ucz17fSxvLm9uPWcsby5hZGRMaXN0ZW5lcj1nLG8ub25jZT1nLG8ub2ZmPWcsby5yZW1vdmVMaXN0ZW5lcj1nLG8ucmVtb3ZlQWxsTGlzdGVuZXJzPWcsby5lbWl0PWcsby5wcmVwZW5kTGlzdGVuZXI9ZyxvLnByZXBlbmRPbmNlTGlzdGVuZXI9ZyxvLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0sby5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxvLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxvLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sby51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0se31dLDE3OltmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dC5kaXNwYXRjaCxpPXQuZ2V0U3RhdGU7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByP3IobixpLGUpOnQocil9fX19T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKCk7ci53aXRoRXh0cmFBcmd1bWVudD1pO3ZhciBvPXI7bi5kZWZhdWx0PW99LHt9XSwxODpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0KXsoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3JldHVybiBlJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmXCJkZWZhdWx0XCJpbiBlP2U6e2RlZmF1bHQ6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHI9aShlKFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9vYmplY3RTcHJlYWQyXCIpKTtmdW5jdGlvbiBvKGUpe3JldHVyblwiTWluaWZpZWQgUmVkdXggZXJyb3IgI1wiK2UrXCI7IHZpc2l0IGh0dHBzOi8vcmVkdXguanMub3JnL0Vycm9ycz9jb2RlPVwiK2UrXCIgZm9yIHRoZSBmdWxsIG1lc3NhZ2Ugb3IgdXNlIHRoZSBub24tbWluaWZpZWQgZGV2IGVudmlyb25tZW50IGZvciBmdWxsIGVycm9ycy4gXCJ9dmFyIGE9ZnVuY3Rpb24oKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5vYnNlcnZhYmxlfHxcIkBAb2JzZXJ2YWJsZVwifSgpLHM9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpLnNwbGl0KFwiXCIpLmpvaW4oXCIuXCIpfSxsPXtJTklUOlwiQEByZWR1eC9JTklUXCIrcygpLFJFUExBQ0U6XCJAQHJlZHV4L1JFUExBQ0VcIitzKCksUFJPQkVfVU5LTk9XTl9BQ1RJT046ZnVuY3Rpb24oKXtyZXR1cm5cIkBAcmVkdXgvUFJPQkVfVU5LTk9XTl9BQ1RJT05cIitzKCl9fTtmdW5jdGlvbiBjKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSlyZXR1cm4hMTtmb3IodmFyIHQ9ZTtudWxsIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyl0PU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtyZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpPT09dH1mdW5jdGlvbiB1KGUpe2lmKHZvaWQgMD09PWUpcmV0dXJuXCJ1bmRlZmluZWRcIjtpZihudWxsPT09ZSlyZXR1cm5cIm51bGxcIjt2YXIgdD10eXBlb2YgZTtzd2l0Y2godCl7Y2FzZVwiYm9vbGVhblwiOmNhc2VcInN0cmluZ1wiOmNhc2VcIm51bWJlclwiOmNhc2VcInN5bWJvbFwiOmNhc2VcImZ1bmN0aW9uXCI6cmV0dXJuIHR9aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm5cImFycmF5XCI7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBEYXRlfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRvRGF0ZVN0cmluZyYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5nZXREYXRlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnNldERhdGV9KGUpKXJldHVyblwiZGF0ZVwiO2lmKGZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgRXJyb3J8fFwic3RyaW5nXCI9PXR5cGVvZiBlLm1lc3NhZ2UmJmUuY29uc3RydWN0b3ImJlwibnVtYmVyXCI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yLnN0YWNrVHJhY2VMaW1pdH0oZSkpcmV0dXJuXCJlcnJvclwiO3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5uYW1lOm51bGx9KGUpO3N3aXRjaChuKXtjYXNlXCJTeW1ib2xcIjpjYXNlXCJQcm9taXNlXCI6Y2FzZVwiV2Vha01hcFwiOmNhc2VcIldlYWtTZXRcIjpjYXNlXCJNYXBcIjpjYXNlXCJTZXRcIjpyZXR1cm4gbn1yZXR1cm4gdC5zbGljZSg4LC0xKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccy9nLFwiXCIpfWZ1bmN0aW9uIGgoZSl7dmFyIG49dHlwZW9mIGU7cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT10LmVudi5OT0RFX0VOViYmKG49dShlKSksbn1mdW5jdGlvbiBkKGUsbixpKXt2YXIgcjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd1bWVudHNbM10pdGhyb3cgbmV3IEVycm9yKFwicHJvZHVjdGlvblwiPT09dC5lbnYuTk9ERV9FTlY/bygwKTpcIkl0IGxvb2tzIGxpa2UgeW91IGFyZSBwYXNzaW5nIHNldmVyYWwgc3RvcmUgZW5oYW5jZXJzIHRvIGNyZWF0ZVN0b3JlKCkuIFRoaXMgaXMgbm90IHN1cHBvcnRlZC4gSW5zdGVhZCwgY29tcG9zZSB0aGVtIHRvZ2V0aGVyIHRvIGEgc2luZ2xlIGZ1bmN0aW9uLiBTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvdHV0b3JpYWxzL2Z1bmRhbWVudGFscy9wYXJ0LTQtc3RvcmUjY3JlYXRpbmctYS1zdG9yZS13aXRoLWVuaGFuY2VycyBmb3IgYW4gZXhhbXBsZS5cIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmdm9pZCAwPT09aSYmKGk9bixuPXZvaWQgMCksdm9pZCAwIT09aSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgaSl0aHJvdyBuZXcgRXJyb3IoXCJwcm9kdWN0aW9uXCI9PT10LmVudi5OT0RFX0VOVj9vKDEpOlwiRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQsIHJlY2VpdmVkOiAnXCIraChpKStcIidcIik7cmV0dXJuIGkoZCkoZSxuKX1pZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcInByb2R1Y3Rpb25cIj09PXQuZW52Lk5PREVfRU5WP28oMik6XCJFeHBlY3RlZCB0aGUgcm9vdCByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQsIHJlY2VpdmVkOiAnXCIraChlKStcIidcIik7dmFyIHM9ZSx1PW4scD1bXSxmPXAsbT0hMTtmdW5jdGlvbiBnKCl7Zj09PXAmJihmPXAuc2xpY2UoKSl9ZnVuY3Rpb24geSgpe2lmKG0pdGhyb3cgbmV3IEVycm9yKFwicHJvZHVjdGlvblwiPT09dC5lbnYuTk9ERV9FTlY/bygzKTpcIllvdSBtYXkgbm90IGNhbGwgc3RvcmUuZ2V0U3RhdGUoKSB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuIFRoZSByZWR1Y2VyIGhhcyBhbHJlYWR5IHJlY2VpdmVkIHRoZSBzdGF0ZSBhcyBhbiBhcmd1bWVudC4gUGFzcyBpdCBkb3duIGZyb20gdGhlIHRvcCByZWR1Y2VyIGluc3RlYWQgb2YgcmVhZGluZyBpdCBmcm9tIHRoZSBzdG9yZS5cIik7cmV0dXJuIHV9ZnVuY3Rpb24gXyhlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcInByb2R1Y3Rpb25cIj09PXQuZW52Lk5PREVfRU5WP28oNCk6XCJFeHBlY3RlZCB0aGUgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICdcIitoKGUpK1wiJ1wiKTtpZihtKXRocm93IG5ldyBFcnJvcihcInByb2R1Y3Rpb25cIj09PXQuZW52Lk5PREVfRU5WP28oNSk6XCJZb3UgbWF5IG5vdCBjYWxsIHN0b3JlLnN1YnNjcmliZSgpIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gSWYgeW91IHdvdWxkIGxpa2UgdG8gYmUgbm90aWZpZWQgYWZ0ZXIgdGhlIHN0b3JlIGhhcyBiZWVuIHVwZGF0ZWQsIHN1YnNjcmliZSBmcm9tIGEgY29tcG9uZW50IGFuZCBpbnZva2Ugc3RvcmUuZ2V0U3RhdGUoKSBpbiB0aGUgY2FsbGJhY2sgdG8gYWNjZXNzIHRoZSBsYXRlc3Qgc3RhdGUuIFNlZSBodHRwczovL3JlZHV4LmpzLm9yZy9hcGkvc3RvcmUjc3Vic2NyaWJlbGlzdGVuZXIgZm9yIG1vcmUgZGV0YWlscy5cIik7dmFyIG49ITA7cmV0dXJuIGcoKSxmLnB1c2goZSksZnVuY3Rpb24oKXtpZihuKXtpZihtKXRocm93IG5ldyBFcnJvcihcInByb2R1Y3Rpb25cIj09PXQuZW52Lk5PREVfRU5WP28oNik6XCJZb3UgbWF5IG5vdCB1bnN1YnNjcmliZSBmcm9tIGEgc3RvcmUgbGlzdGVuZXIgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiBTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvYXBpL3N0b3JlI3N1YnNjcmliZWxpc3RlbmVyIGZvciBtb3JlIGRldGFpbHMuXCIpO249ITEsZygpO3ZhciBpPWYuaW5kZXhPZihlKTtmLnNwbGljZShpLDEpLHA9bnVsbH19fWZ1bmN0aW9uIHYoZSl7aWYoIWMoZSkpdGhyb3cgbmV3IEVycm9yKFwicHJvZHVjdGlvblwiPT09dC5lbnYuTk9ERV9FTlY/byg3KTpcIkFjdGlvbnMgbXVzdCBiZSBwbGFpbiBvYmplY3RzLiBJbnN0ZWFkLCB0aGUgYWN0dWFsIHR5cGUgd2FzOiAnXCIraChlKStcIicuIFlvdSBtYXkgbmVlZCB0byBhZGQgbWlkZGxld2FyZSB0byB5b3VyIHN0b3JlIHNldHVwIHRvIGhhbmRsZSBkaXNwYXRjaGluZyBvdGhlciB2YWx1ZXMsIHN1Y2ggYXMgJ3JlZHV4LXRodW5rJyB0byBoYW5kbGUgZGlzcGF0Y2hpbmcgZnVuY3Rpb25zLiBTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvdHV0b3JpYWxzL2Z1bmRhbWVudGFscy9wYXJ0LTQtc3RvcmUjbWlkZGxld2FyZSBhbmQgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvdHV0b3JpYWxzL2Z1bmRhbWVudGFscy9wYXJ0LTYtYXN5bmMtbG9naWMjdXNpbmctdGhlLXJlZHV4LXRodW5rLW1pZGRsZXdhcmUgZm9yIGV4YW1wbGVzLlwiKTtpZih2b2lkIDA9PT1lLnR5cGUpdGhyb3cgbmV3IEVycm9yKFwicHJvZHVjdGlvblwiPT09dC5lbnYuTk9ERV9FTlY/byg4KTonQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiBZb3UgbWF5IGhhdmUgbWlzc3BlbGxlZCBhbiBhY3Rpb24gdHlwZSBzdHJpbmcgY29uc3RhbnQuJyk7aWYobSl0aHJvdyBuZXcgRXJyb3IoXCJwcm9kdWN0aW9uXCI9PT10LmVudi5OT0RFX0VOVj9vKDkpOlwiUmVkdWNlcnMgbWF5IG5vdCBkaXNwYXRjaCBhY3Rpb25zLlwiKTt0cnl7bT0hMCx1PXModSxlKX1maW5hbGx5e209ITF9Zm9yKHZhciBuPXA9ZixpPTA7aTxuLmxlbmd0aDtpKyspeygwLG5baV0pKCl9cmV0dXJuIGV9ZnVuY3Rpb24geChlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcInByb2R1Y3Rpb25cIj09PXQuZW52Lk5PREVfRU5WP28oMTApOlwiRXhwZWN0ZWQgdGhlIG5leHRSZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQsIHJlY2VpdmVkOiAnXCIraChlKSk7cz1lLHYoe3R5cGU6bC5SRVBMQUNFfSl9ZnVuY3Rpb24gYigpe3ZhciBlLG49XztyZXR1cm4oZT17c3Vic2NyaWJlOmZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZSl0aHJvdyBuZXcgRXJyb3IoXCJwcm9kdWN0aW9uXCI9PT10LmVudi5OT0RFX0VOVj9vKDExKTpcIkV4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuIEluc3RlYWQsIHJlY2VpdmVkOiAnXCIraChlKStcIidcIik7ZnVuY3Rpb24gaSgpe2UubmV4dCYmZS5uZXh0KHkoKSl9cmV0dXJuIGkoKSx7dW5zdWJzY3JpYmU6bihpKX19fSlbYV09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sZX1yZXR1cm4gdih7dHlwZTpsLklOSVR9KSwocj17ZGlzcGF0Y2g6dixzdWJzY3JpYmU6XyxnZXRTdGF0ZTp5LHJlcGxhY2VSZWR1Y2VyOnh9KVthXT1iLHJ9dmFyIHA9ZDtmdW5jdGlvbiBmKGUpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLmVycm9yJiZjb25zb2xlLmVycm9yKGUpO3RyeXt0aHJvdyBuZXcgRXJyb3IoZSl9Y2F0Y2goZSl7fX1mdW5jdGlvbiBtKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQoZS5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX1mdW5jdGlvbiBnKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIDA9PT10Lmxlbmd0aD9mdW5jdGlvbihlKXtyZXR1cm4gZX06MT09PXQubGVuZ3RoP3RbMF06dC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUodC5hcHBseSh2b2lkIDAsYXJndW1lbnRzKSl9fSkpfWZ1bmN0aW9uIHkoKXt9XCJwcm9kdWN0aW9uXCIhPT10LmVudi5OT0RFX0VOViYmXCJzdHJpbmdcIj09dHlwZW9mIHkubmFtZSYmXCJpc0NydXNoZWRcIiE9PXkubmFtZSYmZignWW91IGFyZSBjdXJyZW50bHkgdXNpbmcgbWluaWZpZWQgY29kZSBvdXRzaWRlIG9mIE5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIi4gVGhpcyBtZWFucyB0aGF0IHlvdSBhcmUgcnVubmluZyBhIHNsb3dlciBkZXZlbG9wbWVudCBidWlsZCBvZiBSZWR1eC4gWW91IGNhbiB1c2UgbG9vc2UtZW52aWZ5IChodHRwczovL2dpdGh1Yi5jb20vemVydG9zaC9sb29zZS1lbnZpZnkpIGZvciBicm93c2VyaWZ5IG9yIHNldHRpbmcgbW9kZSB0byBwcm9kdWN0aW9uIGluIHdlYnBhY2sgKGh0dHBzOi8vd2VicGFjay5qcy5vcmcvY29uY2VwdHMvbW9kZS8pIHRvIGVuc3VyZSB5b3UgaGF2ZSB0aGUgY29ycmVjdCBjb2RlIGZvciB5b3VyIHByb2R1Y3Rpb24gYnVpbGQuJyksbi5fX0RPX05PVF9VU0VfX0FjdGlvblR5cGVzPWwsbi5hcHBseU1pZGRsZXdhcmU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyluW2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGk9ZS5hcHBseSh2b2lkIDAsYXJndW1lbnRzKSxhPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwicHJvZHVjdGlvblwiPT09dC5lbnYuTk9ERV9FTlY/bygxNSk6XCJEaXNwYXRjaGluZyB3aGlsZSBjb25zdHJ1Y3RpbmcgeW91ciBtaWRkbGV3YXJlIGlzIG5vdCBhbGxvd2VkLiBPdGhlciBtaWRkbGV3YXJlIHdvdWxkIG5vdCBiZSBhcHBsaWVkIHRvIHRoaXMgZGlzcGF0Y2guXCIpfSxzPXtnZXRTdGF0ZTppLmdldFN0YXRlLGRpc3BhdGNoOmZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9fSxsPW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZShzKX0pKTtyZXR1cm4gYT1nLmFwcGx5KHZvaWQgMCxsKShpLmRpc3BhdGNoKSxyLmRlZmF1bHQoci5kZWZhdWx0KHt9LGkpLHt9LHtkaXNwYXRjaDphfSl9fX0sbi5iaW5kQWN0aW9uQ3JlYXRvcnM9ZnVuY3Rpb24oZSxuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBtKGUsbik7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXRocm93IG5ldyBFcnJvcihcInByb2R1Y3Rpb25cIj09PXQuZW52Lk5PREVfRU5WP28oMTYpOlwiYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBidXQgaW5zdGVhZCByZWNlaXZlZDogJ1wiK2goZSkrJ1xcJy4gRGlkIHlvdSB3cml0ZSBcImltcG9ydCBBY3Rpb25DcmVhdG9ycyBmcm9tXCIgaW5zdGVhZCBvZiBcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cIj8nKTt2YXIgaT17fTtmb3IodmFyIHIgaW4gZSl7dmFyIGE9ZVtyXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBhJiYoaVtyXT1tKGEsbikpfXJldHVybiBpfSxuLmNvbWJpbmVSZWR1Y2Vycz1mdW5jdGlvbihlKXtmb3IodmFyIG49T2JqZWN0LmtleXMoZSksaT17fSxyPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBhPW5bcl07XCJwcm9kdWN0aW9uXCIhPT10LmVudi5OT0RFX0VOViYmdm9pZCAwPT09ZVthXSYmZignTm8gcmVkdWNlciBwcm92aWRlZCBmb3Iga2V5IFwiJythKydcIicpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGVbYV0mJihpW2FdPWVbYV0pfXZhciBzLHUsZD1PYmplY3Qua2V5cyhpKTtcInByb2R1Y3Rpb25cIiE9PXQuZW52Lk5PREVfRU5WJiYocz17fSk7dHJ5eyFmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgaT1lW25dO2lmKHZvaWQgMD09PWkodm9pZCAwLHt0eXBlOmwuSU5JVH0pKXRocm93IG5ldyBFcnJvcihcInByb2R1Y3Rpb25cIj09PXQuZW52Lk5PREVfRU5WP28oMTIpOidUaGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFwiJytuK1wiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiBJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZXQgYSB2YWx1ZSBmb3IgdGhpcyByZWR1Y2VyLCB5b3UgY2FuIHVzZSBudWxsIGluc3RlYWQgb2YgdW5kZWZpbmVkLlwiKTtpZih2b2lkIDA9PT1pKHZvaWQgMCx7dHlwZTpsLlBST0JFX1VOS05PV05fQUNUSU9OKCl9KSl0aHJvdyBuZXcgRXJyb3IoXCJwcm9kdWN0aW9uXCI9PT10LmVudi5OT0RFX0VOVj9vKDEzKTonVGhlIHNsaWNlIHJlZHVjZXIgZm9yIGtleSBcIicrbitcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkIHdoZW4gcHJvYmVkIHdpdGggYSByYW5kb20gdHlwZS4gRG9uJ3QgdHJ5IHRvIGhhbmRsZSAnXCIrbC5JTklUKydcXCcgb3Igb3RoZXIgYWN0aW9ucyBpbiBcInJlZHV4LypcIiBuYW1lc3BhY2UuIFRoZXkgYXJlIGNvbnNpZGVyZWQgcHJpdmF0ZS4gSW5zdGVhZCwgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnkgdW5rbm93biBhY3Rpb25zLCB1bmxlc3MgaXQgaXMgdW5kZWZpbmVkLCBpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgYWN0aW9uIHR5cGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLCBidXQgY2FuIGJlIG51bGwuJyl9KSl9KGkpfWNhdGNoKGUpe3U9ZX1yZXR1cm4gZnVuY3Rpb24oZSxuKXtpZih2b2lkIDA9PT1lJiYoZT17fSksdSl0aHJvdyB1O2lmKFwicHJvZHVjdGlvblwiIT09dC5lbnYuTk9ERV9FTlYpe3ZhciByPWZ1bmN0aW9uKGUsdCxuLGkpe3ZhciByPU9iamVjdC5rZXlzKHQpLG89biYmbi50eXBlPT09bC5JTklUP1wicHJlbG9hZGVkU3RhdGUgYXJndW1lbnQgcGFzc2VkIHRvIGNyZWF0ZVN0b3JlXCI6XCJwcmV2aW91cyBzdGF0ZSByZWNlaXZlZCBieSB0aGUgcmVkdWNlclwiO2lmKDA9PT1yLmxlbmd0aClyZXR1cm5cIlN0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCB0byBjb21iaW5lUmVkdWNlcnMgaXMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgcmVkdWNlcnMuXCI7aWYoIWMoZSkpcmV0dXJuXCJUaGUgXCIrbysnIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXCInK2goZSkrJ1wiLiBFeHBlY3RlZCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6IFwiJytyLmpvaW4oJ1wiLCBcIicpKydcIic7dmFyIGE9T2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hdC5oYXNPd25Qcm9wZXJ0eShlKSYmIWlbZV19KSk7cmV0dXJuIGEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aVtlXT0hMH0pKSxuJiZuLnR5cGU9PT1sLlJFUExBQ0U/dm9pZCAwOmEubGVuZ3RoPjA/XCJVbmV4cGVjdGVkIFwiKyhhLmxlbmd0aD4xP1wia2V5c1wiOlwia2V5XCIpKycgXCInK2Euam9pbignXCIsIFwiJykrJ1wiIGZvdW5kIGluICcrbysnLiBFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBrZXlzIGluc3RlYWQ6IFwiJytyLmpvaW4oJ1wiLCBcIicpKydcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC4nOnZvaWQgMH0oZSxpLG4scyk7ciYmZihyKX1mb3IodmFyIGE9ITEscD17fSxtPTA7bTxkLmxlbmd0aDttKyspe3ZhciBnPWRbbV0seT1pW2ddLF89ZVtnXSx2PXkoXyxuKTtpZih2b2lkIDA9PT12KXt2YXIgeD1uJiZuLnR5cGU7dGhyb3cgbmV3IEVycm9yKFwicHJvZHVjdGlvblwiPT09dC5lbnYuTk9ERV9FTlY/bygxNCk6XCJXaGVuIGNhbGxlZCB3aXRoIGFuIGFjdGlvbiBvZiB0eXBlIFwiKyh4PydcIicrU3RyaW5nKHgpKydcIic6XCIodW5rbm93biB0eXBlKVwiKSsnLCB0aGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFwiJytnKydcIiByZXR1cm5lZCB1bmRlZmluZWQuIFRvIGlnbm9yZSBhbiBhY3Rpb24sIHlvdSBtdXN0IGV4cGxpY2l0bHkgcmV0dXJuIHRoZSBwcmV2aW91cyBzdGF0ZS4gSWYgeW91IHdhbnQgdGhpcyByZWR1Y2VyIHRvIGhvbGQgbm8gdmFsdWUsIHlvdSBjYW4gcmV0dXJuIG51bGwgaW5zdGVhZCBvZiB1bmRlZmluZWQuJyl9cFtnXT12LGE9YXx8diE9PV99cmV0dXJuKGE9YXx8ZC5sZW5ndGghPT1PYmplY3Qua2V5cyhlKS5sZW5ndGgpP3A6ZX19LG4uY29tcG9zZT1nLG4uY3JlYXRlU3RvcmU9ZCxuLmxlZ2FjeV9jcmVhdGVTdG9yZT1wfSkuY2FsbCh0aGlzKX0pLmNhbGwodGhpcyxlKFwiX3Byb2Nlc3NcIikpfSx7XCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDJcIjoyLF9wcm9jZXNzOjE2fV0sMTk6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1lKFwiLi9zcmMvc3VnZ2VzdGlvbnNcIik7dC5leHBvcnRzPWksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmKHdpbmRvdy5TdWdnZXN0aW9ucz1pKX0se1wiLi9zcmMvc3VnZ2VzdGlvbnNcIjoyMX1dLDIwOltmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29tcG9uZW50PWUsdGhpcy5pdGVtcz1bXSx0aGlzLmFjdGl2ZT0wLHRoaXMud3JhcHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMud3JhcHBlci5jbGFzc05hbWU9XCJzdWdnZXN0aW9ucy13cmFwcGVyXCIsdGhpcy5lbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKSx0aGlzLmVsZW1lbnQuY2xhc3NOYW1lPVwic3VnZ2VzdGlvbnNcIix0aGlzLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KSx0aGlzLnNlbGVjdGluZ0xpc3RJdGVtPSExLGUuZWwucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy53cmFwcGVyLGUuZWwubmV4dFNpYmxpbmcpLHRoaXN9O2kucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT1cImJsb2NrXCJ9LGkucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIn0saS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGUpe3RoaXMuaXRlbXMucHVzaChlKX0saS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLml0ZW1zPVtdLHRoaXMuYWN0aXZlPTB9LGkucHJvdG90eXBlLmlzRW1wdHk9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pdGVtcy5sZW5ndGh9LGkucHJvdG90eXBlLmlzVmlzaWJsZT1mdW5jdGlvbigpe3JldHVyblwiYmxvY2tcIj09PXRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5fSxpLnByb3RvdHlwZS5kcmF3PWZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtZW50LmlubmVySFRNTD1cIlwiLDAhPT10aGlzLml0ZW1zLmxlbmd0aCl7Zm9yKHZhciBlPTA7ZTx0aGlzLml0ZW1zLmxlbmd0aDtlKyspdGhpcy5kcmF3SXRlbSh0aGlzLml0ZW1zW2VdLHRoaXMuYWN0aXZlPT09ZSk7dGhpcy5zaG93KCl9ZWxzZSB0aGlzLmhpZGUoKX0saS5wcm90b3R5cGUuZHJhd0l0ZW09ZnVuY3Rpb24oZSx0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIiksaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTt0JiYobi5jbGFzc05hbWUrPVwiIGFjdGl2ZVwiKSxpLmlubmVySFRNTD1lLnN0cmluZyxuLmFwcGVuZENoaWxkKGkpLHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChuKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixmdW5jdGlvbigpe3RoaXMuc2VsZWN0aW5nTGlzdEl0ZW09ITB9LmJpbmQodGhpcykpLG4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIixmdW5jdGlvbigpe3RoaXMuaGFuZGxlTW91c2VVcC5jYWxsKHRoaXMsZSl9LmJpbmQodGhpcykpfSxpLnByb3RvdHlwZS5oYW5kbGVNb3VzZVVwPWZ1bmN0aW9uKGUpe3RoaXMuc2VsZWN0aW5nTGlzdEl0ZW09ITEsdGhpcy5jb21wb25lbnQudmFsdWUoZS5vcmlnaW5hbCksdGhpcy5jbGVhcigpLHRoaXMuZHJhdygpfSxpLnByb3RvdHlwZS5tb3ZlPWZ1bmN0aW9uKGUpe3RoaXMuYWN0aXZlPWUsdGhpcy5kcmF3KCl9LGkucHJvdG90eXBlLnByZXZpb3VzPWZ1bmN0aW9uKCl7dGhpcy5tb3ZlKDA9PT10aGlzLmFjdGl2ZT90aGlzLml0ZW1zLmxlbmd0aC0xOnRoaXMuYWN0aXZlLTEpfSxpLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7dGhpcy5tb3ZlKHRoaXMuYWN0aXZlPT09dGhpcy5pdGVtcy5sZW5ndGgtMT8wOnRoaXMuYWN0aXZlKzEpfSxpLnByb3RvdHlwZS5kcmF3RXJyb3I9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO3QuaW5uZXJIVE1MPWUsdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHQpLHRoaXMuc2hvdygpfSx0LmV4cG9ydHM9aX0se31dLDIxOltmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZShcInh0ZW5kXCIpLHI9ZShcImZ1enp5XCIpLG89ZShcIi4vbGlzdFwiKSxhPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbj1ufHx7fSx0aGlzLm9wdGlvbnM9aSh7bWluTGVuZ3RoOjIsbGltaXQ6NSxmaWx0ZXI6ITAsaGlkZU9uQmx1cjohMH0sbiksdGhpcy5lbD1lLHRoaXMuZGF0YT10fHxbXSx0aGlzLmxpc3Q9bmV3IG8odGhpcyksdGhpcy5xdWVyeT1cIlwiLHRoaXMuc2VsZWN0ZWQ9bnVsbCx0aGlzLmxpc3QuZHJhdygpLHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVLZXlVcChlLmtleUNvZGUpfS5iaW5kKHRoaXMpLCExKSx0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVLZXlEb3duKGUpfS5iaW5kKHRoaXMpKSx0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLGZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVGb2N1cygpfS5iaW5kKHRoaXMpKSx0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsZnVuY3Rpb24oKXt0aGlzLmhhbmRsZUJsdXIoKX0uYmluZCh0aGlzKSksdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKFwicGFzdGVcIixmdW5jdGlvbihlKXt0aGlzLmhhbmRsZVBhc3RlKGUpfS5iaW5kKHRoaXMpKSx0aGlzLnJlbmRlcj10aGlzLm9wdGlvbnMucmVuZGVyP3RoaXMub3B0aW9ucy5yZW5kZXIuYmluZCh0aGlzKTp0aGlzLnJlbmRlci5iaW5kKHRoaXMpLHRoaXMuZ2V0SXRlbVZhbHVlPXRoaXMub3B0aW9ucy5nZXRJdGVtVmFsdWU/dGhpcy5vcHRpb25zLmdldEl0ZW1WYWx1ZS5iaW5kKHRoaXMpOnRoaXMuZ2V0SXRlbVZhbHVlLmJpbmQodGhpcyksdGhpc307YS5wcm90b3R5cGUuaGFuZGxlS2V5VXA9ZnVuY3Rpb24oZSl7NDAhPT1lJiYzOCE9PWUmJjI3IT09ZSYmMTMhPT1lJiY5IT09ZSYmdGhpcy5oYW5kbGVJbnB1dENoYW5nZSh0aGlzLmVsLnZhbHVlKX0sYS5wcm90b3R5cGUuaGFuZGxlS2V5RG93bj1mdW5jdGlvbihlKXtzd2l0Y2goZS5rZXlDb2RlKXtjYXNlIDEzOmNhc2UgOTp0aGlzLmxpc3QuaXNFbXB0eSgpfHwodGhpcy5saXN0LmlzVmlzaWJsZSgpJiZlLnByZXZlbnREZWZhdWx0KCksdGhpcy52YWx1ZSh0aGlzLmxpc3QuaXRlbXNbdGhpcy5saXN0LmFjdGl2ZV0ub3JpZ2luYWwpLHRoaXMubGlzdC5oaWRlKCkpO2JyZWFrO2Nhc2UgMjc6dGhpcy5saXN0LmlzRW1wdHkoKXx8dGhpcy5saXN0LmhpZGUoKTticmVhaztjYXNlIDM4OnRoaXMubGlzdC5wcmV2aW91cygpO2JyZWFrO2Nhc2UgNDA6dGhpcy5saXN0Lm5leHQoKX19LGEucHJvdG90eXBlLmhhbmRsZUJsdXI9ZnVuY3Rpb24oKXshdGhpcy5saXN0LnNlbGVjdGluZ0xpc3RJdGVtJiZ0aGlzLm9wdGlvbnMuaGlkZU9uQmx1ciYmdGhpcy5saXN0LmhpZGUoKX0sYS5wcm90b3R5cGUuaGFuZGxlUGFzdGU9ZnVuY3Rpb24oZSl7aWYoZS5jbGlwYm9hcmREYXRhKXRoaXMuaGFuZGxlSW5wdXRDaGFuZ2UoZS5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpKTtlbHNle3ZhciB0PXRoaXM7c2V0VGltZW91dCgoZnVuY3Rpb24oKXt0LmhhbmRsZUlucHV0Q2hhbmdlKGUudGFyZ2V0LnZhbHVlKX0pLDEwMCl9fSxhLnByb3RvdHlwZS5oYW5kbGVJbnB1dENoYW5nZT1mdW5jdGlvbihlKXt0aGlzLnF1ZXJ5PXRoaXMubm9ybWFsaXplKGUpLHRoaXMubGlzdC5jbGVhcigpLHRoaXMucXVlcnkubGVuZ3RoPHRoaXMub3B0aW9ucy5taW5MZW5ndGg/dGhpcy5saXN0LmRyYXcoKTp0aGlzLmdldENhbmRpZGF0ZXMoZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aCYmKHRoaXMubGlzdC5hZGQoZVt0XSksdCE9PXRoaXMub3B0aW9ucy5saW1pdC0xKTt0KyspO3RoaXMubGlzdC5kcmF3KCl9LmJpbmQodGhpcykpfSxhLnByb3RvdHlwZS5oYW5kbGVGb2N1cz1mdW5jdGlvbigpe3RoaXMubGlzdC5pc0VtcHR5KCl8fHRoaXMubGlzdC5zaG93KCksdGhpcy5saXN0LnNlbGVjdGluZ0xpc3RJdGVtPSExfSxhLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oZSl7dGhpcy5kYXRhPWUsdGhpcy5oYW5kbGVLZXlVcCgpfSxhLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuZGF0YT1bXSx0aGlzLmxpc3QuY2xlYXIoKX0sYS5wcm90b3R5cGUubm9ybWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBlPWUudG9Mb3dlckNhc2UoKX0sYS5wcm90b3R5cGUubWF0Y2g9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pbmRleE9mKHQpPi0xfSxhLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbihlKXtpZih0aGlzLnNlbGVjdGVkPWUsdGhpcy5lbC52YWx1ZT10aGlzLmdldEl0ZW1WYWx1ZShlKSxkb2N1bWVudC5jcmVhdGVFdmVudCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJIVE1MRXZlbnRzXCIpO3QuaW5pdEV2ZW50KFwiY2hhbmdlXCIsITAsITEpLHRoaXMuZWwuZGlzcGF0Y2hFdmVudCh0KX1lbHNlIHRoaXMuZWwuZmlyZUV2ZW50KFwib25jaGFuZ2VcIil9LGEucHJvdG90eXBlLmdldENhbmRpZGF0ZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9e3ByZTpcIjxzdHJvbmc+XCIscG9zdDpcIjwvc3Ryb25nPlwiLGV4dHJhY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZ2V0SXRlbVZhbHVlKGUpfS5iaW5kKHRoaXMpfTtlKHRoaXMub3B0aW9ucy5maWx0ZXI/ci5maWx0ZXIodGhpcy5xdWVyeSx0aGlzLmRhdGEsdCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybntvcmlnaW5hbDplLm9yaWdpbmFsLHN0cmluZzp0aGlzLnJlbmRlcihlLm9yaWdpbmFsLGUuc3RyaW5nKX19LmJpbmQodGhpcykpOnRoaXMuZGF0YS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue29yaWdpbmFsOmUsc3RyaW5nOnRoaXMucmVuZGVyKGUpfX0uYmluZCh0aGlzKSkpfSxhLnByb3RvdHlwZS5nZXRJdGVtVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGEucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlLHQpe2lmKHQpcmV0dXJuIHQ7Zm9yKHZhciBuPWUub3JpZ2luYWw/dGhpcy5nZXRJdGVtVmFsdWUoZS5vcmlnaW5hbCk6dGhpcy5nZXRJdGVtVmFsdWUoZSksaT10aGlzLm5vcm1hbGl6ZShuKSxyPWkubGFzdEluZGV4T2YodGhpcy5xdWVyeSk7cj4tMTspe3ZhciBvPXIrdGhpcy5xdWVyeS5sZW5ndGg7bj1uLnNsaWNlKDAscikrXCI8c3Ryb25nPlwiK24uc2xpY2UocixvKStcIjwvc3Ryb25nPlwiK24uc2xpY2Uobykscj1pLnNsaWNlKDAscikubGFzdEluZGV4T2YodGhpcy5xdWVyeSl9cmV0dXJuIG59LGEucHJvdG90eXBlLnJlbmRlckVycm9yPWZ1bmN0aW9uKGUpe3RoaXMubGlzdC5kcmF3RXJyb3IoZSl9LHQuZXhwb3J0cz1hfSx7XCIuL2xpc3RcIjoyMCxmdXp6eTo5LHh0ZW5kOjI0fV0sMjI6W2Z1bmN0aW9uKGUsdCxuKXt2YXIgaT1lKFwidHVyZi1tZXRhXCIpLmNvb3JkRWFjaDt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9WzEvMCwxLzAsLTEvMCwtMS8wXTtyZXR1cm4gaShlLChmdW5jdGlvbihlKXt0WzBdPmVbMF0mJih0WzBdPWVbMF0pLHRbMV0+ZVsxXSYmKHRbMV09ZVsxXSksdFsyXTxlWzBdJiYodFsyXT1lWzBdKSx0WzNdPGVbMV0mJih0WzNdPWVbMV0pfSkpLHR9fSx7XCJ0dXJmLW1ldGFcIjoyM31dLDIzOltmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gaShlLHQsbil7dmFyIGkscixvLGEscyxjLHUsaCxkLHA9MCxmPVwiRmVhdHVyZUNvbGxlY3Rpb25cIj09PWUudHlwZSxtPVwiRmVhdHVyZVwiPT09ZS50eXBlLGc9Zj9lLmZlYXR1cmVzLmxlbmd0aDoxO2ZvcihpPTA7aTxnO2krKylmb3IoYz0oZD1cIkdlb21ldHJ5Q29sbGVjdGlvblwiPT09KGg9Zj9lLmZlYXR1cmVzW2ldLmdlb21ldHJ5Om0/ZS5nZW9tZXRyeTplKS50eXBlKT9oLmdlb21ldHJpZXMubGVuZ3RoOjEsYT0wO2E8YzthKyspaWYodT0ocz1kP2guZ2VvbWV0cmllc1thXTpoKS5jb29yZGluYXRlcyxwPSFufHxcIlBvbHlnb25cIiE9PXMudHlwZSYmXCJNdWx0aVBvbHlnb25cIiE9PXMudHlwZT8wOjEsXCJQb2ludFwiPT09cy50eXBlKXQodSk7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PXMudHlwZXx8XCJNdWx0aVBvaW50XCI9PT1zLnR5cGUpZm9yKHI9MDtyPHUubGVuZ3RoO3IrKyl0KHVbcl0pO2Vsc2UgaWYoXCJQb2x5Z29uXCI9PT1zLnR5cGV8fFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1zLnR5cGUpZm9yKHI9MDtyPHUubGVuZ3RoO3IrKylmb3Iobz0wO288dVtyXS5sZW5ndGgtcDtvKyspdCh1W3JdW29dKTtlbHNle2lmKFwiTXVsdGlQb2x5Z29uXCIhPT1zLnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBHZW9tZXRyeSBUeXBlXCIpO2ZvcihyPTA7cjx1Lmxlbmd0aDtyKyspZm9yKG89MDtvPHVbcl0ubGVuZ3RoO28rKylmb3IobD0wO2w8dVtyXVtvXS5sZW5ndGgtcDtsKyspdCh1W3JdW29dW2xdKX19ZnVuY3Rpb24gcihlLHQpe3ZhciBuO3N3aXRjaChlLnR5cGUpe2Nhc2VcIkZlYXR1cmVDb2xsZWN0aW9uXCI6Zm9yKGZlYXR1cmVzPWUuZmVhdHVyZXMsbj0wO248ZS5mZWF0dXJlcy5sZW5ndGg7bisrKXQoZS5mZWF0dXJlc1tuXS5wcm9wZXJ0aWVzKTticmVhaztjYXNlXCJGZWF0dXJlXCI6dChlLnByb3BlcnRpZXMpfX10LmV4cG9ydHMuY29vcmRFYWNoPWksdC5leHBvcnRzLmNvb3JkUmVkdWNlPWZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiBpKGUsKGZ1bmN0aW9uKGUpe249dChuLGUpfSksciksbn0sdC5leHBvcnRzLnByb3BFYWNoPXIsdC5leHBvcnRzLnByb3BSZWR1Y2U9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByKGUsKGZ1bmN0aW9uKGUpe249dChuLGUpfSkpLG59fSx7fV0sMjQ6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9e30sdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilpLmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9O3ZhciBpPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHl9LHt9XSwyNTpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7cmV0dXJuKGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uYWRkV2F5cG9pbnQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obixpKXt2YXIgcj1pKCksbz1yLmRlc3RpbmF0aW9uLGE9ci53YXlwb2ludHM7YS5zcGxpY2UoZSwwLHAodCkpLG4oaChhKSksby5nZW9tZXRyeSYmbihkKCkpfX0sbi5jbGVhckRlc3RpbmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHMuYWJvcnQoKSxmdW5jdGlvbihlKXtlKHt0eXBlOnIuREVTVElOQVRJT05fQ0xFQVJ9KSxlKHgoXCJjbGVhclwiLHt0eXBlOlwiZGVzdGluYXRpb25cIn0pKSxlKGYobnVsbCkpfX0sbi5jbGVhck9yaWdpbj1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlKXtlKHt0eXBlOnIuT1JJR0lOX0NMRUFSfSksZSh4KFwiY2xlYXJcIix7dHlwZTpcIm9yaWdpblwifSkpLGUoZihudWxsKSl9fSxuLmNyZWF0ZURlc3RpbmF0aW9uPXYsbi5jcmVhdGVPcmlnaW49XyxuLmV2ZW50RW1pdD14LG4uZXZlbnRTdWJzY3JpYmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obixpKXt2YXIgbz1pKCkuZXZlbnRzO3JldHVybiBvW2VdPW9bZV18fFtdLG9bZV0ucHVzaCh0KSx7dHlwZTpyLkVWRU5UUyxldmVudHM6b319fSxuLmhvdmVyTWFya2VyPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt0KGZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOnIuSE9WRVJfTUFSS0VSLGhvdmVyTWFya2VyOmV9fShlP28uZGVmYXVsdC5jcmVhdGVQb2ludChlLHtpZDpcImhvdmVyXCJ9KTp7fSkpfX0sbi5xdWVyeURlc3RpbmF0aW9uPWZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOnIuREVTVElOQVRJT05fUVVFUlkscXVlcnk6ZX19LG4ucXVlcnlEZXN0aW5hdGlvbkNvb3JkaW5hdGVzPWcsbi5xdWVyeU9yaWdpbj1mdW5jdGlvbihlKXtyZXR1cm57dHlwZTpyLk9SSUdJTl9RVUVSWSxxdWVyeTplfX0sbi5xdWVyeU9yaWdpbkNvb3JkaW5hdGVzPW0sbi5yZW1vdmVXYXlwb2ludD1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgaT1uKCkscj1pLmRlc3RpbmF0aW9uLGE9aS53YXlwb2ludHM7dChoKGE9YS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiFvLmRlZmF1bHQuY29vcmRpbmF0ZU1hdGNoKHQsZSl9KSkpKSxyLmdlb21ldHJ5JiZ0KGQoKSl9fSxuLnJldmVyc2U9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj10KCk7bi5kZXN0aW5hdGlvbi5nZW9tZXRyeSYmZShsKG4uZGVzdGluYXRpb24uZ2VvbWV0cnkuY29vcmRpbmF0ZXMpKSxuLm9yaWdpbi5nZW9tZXRyeSYmZShjKG4ub3JpZ2luLmdlb21ldHJ5LmNvb3JkaW5hdGVzKSksbi5vcmlnaW4uZ2VvbWV0cnkmJm4uZGVzdGluYXRpb24uZ2VvbWV0cnkmJmUoZCgpKTtmb3IodmFyIGk9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInN1Z2dlc3Rpb25zXCIpLHI9MDtyPGkubGVuZ3RoO3IrKylpW3JdLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIn19LG4uc2V0RGVzdGluYXRpb25Gcm9tQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKG8uZGVmYXVsdC52YWxpZENvb3JkcyhlKXx8KGU9W28uZGVmYXVsdC53cmFwKGVbMF0pLG8uZGVmYXVsdC53cmFwKGVbMV0pXSksaXNOYU4oZVswXSkmJmlzTmFOKGVbMV0pKXJldHVybiB0KGYobmV3IEVycm9yKFwiQ29vcmRpbmF0ZXMgYXJlIG5vdCB2YWxpZFwiKSkpO3QodihlKSksdChnKGUpKX19LG4uc2V0T3B0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm57dHlwZTpyLlNFVF9PUFRJT05TLG9wdGlvbnM6ZX19LG4uc2V0T3JpZ2luRnJvbUNvb3JkaW5hdGVzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtpZihvLmRlZmF1bHQudmFsaWRDb29yZHMoZSl8fChlPVtvLmRlZmF1bHQud3JhcChlWzBdKSxvLmRlZmF1bHQud3JhcChlWzFdKV0pLGlzTmFOKGVbMF0pJiZpc05hTihlWzFdKSlyZXR1cm4gdChmKG5ldyBFcnJvcihcIkNvb3JkaW5hdGVzIGFyZSBub3QgdmFsaWRcIikpKTt0KG0oZSkpLHQoXyhlKSl9fSxuLnNldFByb2ZpbGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIGk9bigpLG89aS5vcmlnaW4sYT1pLmRlc3RpbmF0aW9uO3Qoe3R5cGU6ci5ESVJFQ1RJT05TX1BST0ZJTEUscHJvZmlsZTplfSksdCh4KFwicHJvZmlsZVwiLHtwcm9maWxlOmV9KSksby5nZW9tZXRyeSYmYS5nZW9tZXRyeSYmdChkKCkpfX0sbi5zZXRSb3V0ZUluZGV4PXksbi5zZXRXYXlwb2ludD1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuLGkpe3ZhciByPWkoKSxvPXIuZGVzdGluYXRpb24sYT1yLndheXBvaW50czthW2VdPXAodCksbihoKGEpKSxvLmdlb21ldHJ5JiZuKGQoKSl9fTt2YXIgcj1mdW5jdGlvbihlLHQpe2lmKCF0JiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPT1pKGUpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybntkZWZhdWx0OmV9O3ZhciBuPWEodCk7aWYobiYmbi5oYXMoZSkpcmV0dXJuIG4uZ2V0KGUpO3ZhciByPXt9LG89T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2Zvcih2YXIgcyBpbiBlKWlmKFwiZGVmYXVsdFwiIT09cyYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscykpe3ZhciBsPW8/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHMpOm51bGw7bCYmKGwuZ2V0fHxsLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KHIscyxsKTpyW3NdPWVbc119ci5kZWZhdWx0PWUsbiYmbi5zZXQoZSxyKTtyZXR1cm4gcn0oZShcIi4uL2NvbnN0YW50cy9hY3Rpb25fdHlwZXNcIikpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShlKFwiLi4vdXRpbHNcIikpO2Z1bmN0aW9uIGEoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgdD1uZXcgV2Vha01hcCxuPW5ldyBXZWFrTWFwO3JldHVybihhPWZ1bmN0aW9uKGUpe3JldHVybiBlP246dH0pKGUpfXZhciBzPW5ldyBYTUxIdHRwUmVxdWVzdDtmdW5jdGlvbiBsKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj1vLmRlZmF1bHQuY3JlYXRlUG9pbnQoZSx7aWQ6XCJvcmlnaW5cIixcIm1hcmtlci1zeW1ib2xcIjpcIkFcIn0pO3Qoe3R5cGU6ci5PUklHSU4sb3JpZ2luOm59KSx0KHgoXCJvcmlnaW5cIix7ZmVhdHVyZTpufSkpfX1mdW5jdGlvbiBjKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj1vLmRlZmF1bHQuY3JlYXRlUG9pbnQoZSx7aWQ6XCJkZXN0aW5hdGlvblwiLFwibWFya2VyLXN5bWJvbFwiOlwiQlwifSk7dCh7dHlwZTpyLkRFU1RJTkFUSU9OLGRlc3RpbmF0aW9uOm59KSx0KHgoXCJkZXN0aW5hdGlvblwiLHtmZWF0dXJlOm59KSl9fWZ1bmN0aW9uIHUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3Qoe3R5cGU6ci5ESVJFQ1RJT05TLGRpcmVjdGlvbnM6ZX0pLHQoeChcInJvdXRlXCIse3JvdXRlOmV9KSl9fWZ1bmN0aW9uIGgoZSl7cmV0dXJue3R5cGU6ci5XQVlQT0lOVFMsd2F5cG9pbnRzOmV9fWZ1bmN0aW9uIGQoKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj10KCksaT1uLmFwaSxyPW4uYWNjZXNzVG9rZW4sbz1uLnJvdXRlSW5kZXgsYT1uLnByb2ZpbGUsaD1uLmFsdGVybmF0aXZlcyxkPW4uY29uZ2VzdGlvbixwPW4uZGVzdGluYXRpb24sbT1uLmxhbmd1YWdlLGc9bi5leGNsdWRlO2lmKHAmJnAuZ2VvbWV0cnkpe3ZhciBfPWZ1bmN0aW9uKGUpe3ZhciB0PWUoKSxuPXQub3JpZ2luLGk9dC5kZXN0aW5hdGlvbixyPXQud2F5cG9pbnRzLG89W107by5wdXNoKG4uZ2VvbWV0cnkuY29vcmRpbmF0ZXMuam9pbihcIixcIikpLG8ucHVzaChcIjtcIiksci5sZW5ndGgmJnIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7by5wdXNoKGUuZ2VvbWV0cnkuY29vcmRpbmF0ZXMuam9pbihcIixcIikpLG8ucHVzaChcIjtcIil9KSk7cmV0dXJuIG8ucHVzaChpLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmpvaW4oXCIsXCIpKSxlbmNvZGVVUklDb21wb25lbnQoby5qb2luKFwiXCIpKX0odCksdj1bXTt2LnB1c2goXCJnZW9tZXRyaWVzPXBvbHlsaW5lXCIpLGgmJnYucHVzaChcImFsdGVybmF0aXZlcz10cnVlXCIpLGQmJnYucHVzaChcImFubm90YXRpb25zPWNvbmdlc3Rpb25cIiksdi5wdXNoKFwic3RlcHM9dHJ1ZVwiKSx2LnB1c2goXCJvdmVydmlldz1mdWxsXCIpLG0mJnYucHVzaChcImxhbmd1YWdlPVwiK20pLGcmJnYucHVzaChcImV4Y2x1ZGU9XCIrZyksciYmdi5wdXNoKFwiYWNjZXNzX3Rva2VuPVwiK3IpLHMuYWJvcnQoKSxzLm9wZW4oXCJHRVRcIixcIlwiLmNvbmNhdChpKS5jb25jYXQoYSxcIi9cIikuY29uY2F0KF8sXCIuanNvbj9cIikuY29uY2F0KHYuam9pbihcIiZcIikpLCEwKSxzLm9ubG9hZD1mdW5jdGlvbigpe2lmKCEocy5zdGF0dXM+PTIwMCYmcy5zdGF0dXM8NDAwKSlyZXR1cm4gZSh1KFtdKSksZShmKEpTT04ucGFyc2Uocy5yZXNwb25zZVRleHQpLm1lc3NhZ2UpKTt2YXIgdD1KU09OLnBhcnNlKHMucmVzcG9uc2VUZXh0KTtyZXR1cm4gdC5lcnJvcj8oZSh1KFtdKSksZShmKHQuZXJyb3IpKSk6XCJObyByb3V0ZSBmb3VuZFwiPT09dC5tZXNzYWdlP2UoZihcIk5vIHJvdXRlIGZvdW5kXCIpKTooZShmKG51bGwpKSx0LnJvdXRlc1tvXXx8ZSh5KDApKSxlKHUodC5yb3V0ZXMpKSxlKGwodC53YXlwb2ludHNbMF0ubG9jYXRpb24pKSx2b2lkIGUoYyh0LndheXBvaW50c1t0LndheXBvaW50cy5sZW5ndGgtMV0ubG9jYXRpb24pKSl9LHMub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiBlKHUoW10pKSxzLnJlc3BvbnNlVGV4dD9lKGYoSlNPTi5wYXJzZShzLnJlc3BvbnNlVGV4dCkubWVzc2FnZSkpOmUoZihcIkVycm9yXCIpKX0scy5zZW5kKCl9fX1mdW5jdGlvbiBwKGUpe3ZhciB0PXtpZDpcIndheXBvaW50XCJ9O3JldHVybiBPYmplY3QuYXNzaWduKGUse3Byb3BlcnRpZXM6ZS5wcm9wZXJ0aWVzP09iamVjdC5hc3NpZ24oZS5wcm9wZXJ0aWVzLHQpOnR9KX1mdW5jdGlvbiBmKGUpe3JldHVybiBmdW5jdGlvbih0KXt0KHt0eXBlOlwiRVJST1JcIixlcnJvcjplfSksZSYmdCh4KFwiZXJyb3JcIix7ZXJyb3I6ZX0pKX19ZnVuY3Rpb24gbShlKXtyZXR1cm57dHlwZTpyLk9SSUdJTl9GUk9NX0NPT1JESU5BVEVTLGNvb3JkaW5hdGVzOmV9fWZ1bmN0aW9uIGcoZSl7cmV0dXJue3R5cGU6ci5ERVNUSU5BVElPTl9GUk9NX0NPT1JESU5BVEVTLGNvb3JkaW5hdGVzOmV9fWZ1bmN0aW9uIHkoZSl7cmV0dXJue3R5cGU6ci5ST1VURV9JTkRFWCxyb3V0ZUluZGV4OmV9fWZ1bmN0aW9uIF8oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIGk9bigpLmRlc3RpbmF0aW9uO3QobChlKSksaS5nZW9tZXRyeSYmdChkKCkpfX1mdW5jdGlvbiB2KGUpe3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciBpPW4oKS5vcmlnaW47dChjKGUpKSxpLmdlb21ldHJ5JiZ0KGQoKSl9fWZ1bmN0aW9uIHgoZSx0KXt2YXIgbj10aGlzO3JldHVybiBmdW5jdGlvbihpLG8pe3ZhciBhPW8oKS5ldmVudHM7aWYoIWFbZV0pcmV0dXJue3R5cGU6ci5FVkVOVFMsZXZlbnRzOmF9O2Zvcih2YXIgcz1hW2VdLnNsaWNlKCksbD0wO2w8cy5sZW5ndGg7bCsrKXNbbF0uY2FsbChuLHQpfX19LHtcIi4uL2NvbnN0YW50cy9hY3Rpb25fdHlwZXNcIjoyNixcIi4uL3V0aWxzXCI6MzR9XSwyNjpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uV0FZUE9JTlRTPW4uU0VUX09QVElPTlM9bi5ST1VURV9JTkRFWD1uLk9SSUdJTl9RVUVSWT1uLk9SSUdJTl9GUk9NX0NPT1JESU5BVEVTPW4uT1JJR0lOX0NMRUFSPW4uT1JJR0lOPW4uSE9WRVJfTUFSS0VSPW4uRVZFTlRTPW4uRVJST1I9bi5ESVJFQ1RJT05TX1BST0ZJTEU9bi5ESVJFQ1RJT05TPW4uREVTVElOQVRJT05fUVVFUlk9bi5ERVNUSU5BVElPTl9GUk9NX0NPT1JESU5BVEVTPW4uREVTVElOQVRJT05fQ0xFQVI9bi5ERVNUSU5BVElPTj12b2lkIDA7bi5ERVNUSU5BVElPTj1cIkRFU1RJTkFUSU9OXCI7bi5ERVNUSU5BVElPTl9DTEVBUj1cIkRFU1RJTkFUSU9OX0NMRUFSXCI7bi5ERVNUSU5BVElPTl9RVUVSWT1cIkRFU1RJTkFUSU9OX1FVRVJZXCI7bi5ERVNUSU5BVElPTl9GUk9NX0NPT1JESU5BVEVTPVwiREVTVElOQVRJT05fRlJPTV9DT09SRElOQVRFU1wiO24uRElSRUNUSU9OUz1cIkRJUkVDVElPTlNcIjtuLkRJUkVDVElPTlNfUFJPRklMRT1cIkRJUkVDVElPTlNfUFJPRklMRVwiO24uRVZFTlRTPVwiRVZFTlRTXCI7bi5FUlJPUj1cIkVSUk9SXCI7bi5IT1ZFUl9NQVJLRVI9XCJIT1ZFUl9NQVJLRVJcIjtuLk9SSUdJTj1cIk9SSUdJTlwiO24uT1JJR0lOX0NMRUFSPVwiT1JJR0lOX0NMRUFSXCI7bi5PUklHSU5fUVVFUlk9XCJPUklHSU5fUVVFUllcIjtuLk9SSUdJTl9GUk9NX0NPT1JESU5BVEVTPVwiT1JJR0lOX0ZST01fQ09PUkRJTkFURVNcIjtuLlJPVVRFX0lOREVYPVwiUk9VVEVfSU5ERVhcIjtuLlNFVF9PUFRJT05TPVwiU0VUX09QVElPTlNcIjtuLldBWVBPSU5UUz1cIldBWVBPSU5UU1wifSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciBpPXMoZShcInN1Z2dlc3Rpb25zXCIpKSxyPXMoZShcImxvZGFzaC5kZWJvdW5jZVwiKSksbz1lKFwiZXZlbnRzXCIpLGE9cyhlKFwiLi4vdXRpbHNcIikpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGwoZSl7cmV0dXJuKGw9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGMoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdShpLmtleSksaSl9fWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT09bChlKXx8bnVsbD09PWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciBpPW4uY2FsbChlLHR8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT09bChpKSlyZXR1cm4gaTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PT1sKHQpP3Q6U3RyaW5nKHQpfXZhciBoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMuX2V2PW5ldyBvLkV2ZW50RW1pdHRlcix0aGlzLm9wdGlvbnM9dCx0aGlzLmFwaT10JiZ0LmFwaXx8XCJodHRwczovL2FwaS5tYXBib3guY29tL2dlb2NvZGluZy92NS9tYXBib3gucGxhY2VzL1wifXJldHVybiBmdW5jdGlvbihlLHQsbil7dCYmYyhlLnByb3RvdHlwZSx0KSxuJiZjKGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KX0oZSxbe2tleTpcIm9uQWRkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fbWFwPWUsdGhpcy5yZXF1ZXN0PW5ldyBYTUxIdHRwUmVxdWVzdDt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuY2xhc3NOYW1lPVwibWFwYm94Z2wtY3RybC1nZW9jb2RlclwiO3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO24uY2xhc3NOYW1lPVwiZ2VvY29kZXItaWNvbiBnZW9jb2Rlci1pY29uLXNlYXJjaFwiO3ZhciBvPXRoaXMuX2lucHV0RWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO28udHlwZT1cInRleHRcIixvLnBsYWNlaG9sZGVyPXRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcixvLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsKDAsci5kZWZhdWx0KShmdW5jdGlvbihlKXtpZighZS50YXJnZXQudmFsdWUpcmV0dXJuIHRoaXMuX2NsZWFyRWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtlLm1ldGFLZXl8fC0xIT09WzksMjcsMzcsMzksMTMsMzgsNDBdLmluZGV4T2YoZS5rZXlDb2RlKXx8dGhpcy5fcXVlcnlGcm9tSW5wdXQoZS50YXJnZXQudmFsdWUpfS5iaW5kKHRoaXMpKSwyMDApLG8uYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLGZ1bmN0aW9uKHQpe3QudGFyZ2V0LnZhbHVlJiZ0aGlzLl9jbGVhckVsLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7dmFyIG49dGhpcy5fdHlwZWFoZWFkLnNlbGVjdGVkO2lmKG4pe2lmKHRoaXMub3B0aW9ucy5mbHlUbylpZihuLmJib3gmJm4uY29udGV4dCYmbi5jb250ZXh0Lmxlbmd0aDw9M3x8bi5iYm94JiYhbi5jb250ZXh0KXt2YXIgaT1uLmJib3g7ZS5maXRCb3VuZHMoW1tpWzBdLGlbMV1dLFtpWzJdLGlbM11dXSl9ZWxzZSBlLmZseVRvKHtjZW50ZXI6bi5jZW50ZXIsem9vbTp0aGlzLm9wdGlvbnMuem9vbX0pO3RoaXMuX2lucHV0PW4sdGhpcy5maXJlKFwicmVzdWx0XCIse3Jlc3VsdDpufSl9fS5iaW5kKHRoaXMpKTt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2EuY2xhc3NMaXN0LmFkZChcImdlb2NvZGVyLXBpbi1yaWdodFwiKTt2YXIgcz10aGlzLl9jbGVhckVsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7cy5jbGFzc05hbWU9XCJnZW9jb2Rlci1pY29uIGdlb2NvZGVyLWljb24tY2xvc2VcIixzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX2NsZWFyLmJpbmQodGhpcykpO3ZhciBsPXRoaXMuX2xvYWRpbmdFbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtyZXR1cm4gbC5jbGFzc05hbWU9XCJnZW9jb2Rlci1pY29uIGdlb2NvZGVyLWljb24tbG9hZGluZ1wiLGEuYXBwZW5kQ2hpbGQocyksYS5hcHBlbmRDaGlsZChsKSx0LmFwcGVuZENoaWxkKG4pLHQuYXBwZW5kQ2hpbGQobyksdC5hcHBlbmRDaGlsZChhKSx0aGlzLm9wdGlvbnMuY29udGFpbmVyJiYodGhpcy5vcHRpb25zLnBvc2l0aW9uPSExKSx0aGlzLl90eXBlYWhlYWQ9bmV3IGkuZGVmYXVsdChvLFtdLHtmaWx0ZXI6ITF9KSx0aGlzLl90eXBlYWhlYWQuZ2V0SXRlbVZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnBsYWNlX25hbWV9LHR9fSx7a2V5OlwiX2dlb2NvZGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMuX2xvYWRpbmdFbC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpLHRoaXMuZmlyZShcImxvYWRpbmdcIik7dmFyIG49dGhpcy5vcHRpb25zLGk9W1wicGxhY2Vob2xkZXJcIixcInpvb21cIixcImZseVRvXCIsXCJhY2Nlc3NUb2tlblwiLFwiYXBpXCJdLHI9T2JqZWN0LmtleXModGhpcy5vcHRpb25zKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09aS5pbmRleE9mKGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUrXCI9XCIrbltlXX0pKSxvPXRoaXMub3B0aW9ucy5hY2Nlc3NUb2tlbj90aGlzLm9wdGlvbnMuYWNjZXNzVG9rZW46bWFwYm94Z2wuYWNjZXNzVG9rZW47ci5wdXNoKFwiYWNjZXNzX3Rva2VuPVwiK28pLHRoaXMucmVxdWVzdC5hYm9ydCgpLHRoaXMucmVxdWVzdC5vcGVuKFwiR0VUXCIsdGhpcy5hcGkrZW5jb2RlVVJJQ29tcG9uZW50KGUudHJpbSgpKStcIi5qc29uP1wiK3Iuam9pbihcIiZcIiksITApLHRoaXMucmVxdWVzdC5vbmxvYWQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9sb2FkaW5nRWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSx0aGlzLnJlcXVlc3Quc3RhdHVzPj0yMDAmJnRoaXMucmVxdWVzdC5zdGF0dXM8NDAwKXt2YXIgZT1KU09OLnBhcnNlKHRoaXMucmVxdWVzdC5yZXNwb25zZVRleHQpO3JldHVybiBlLmZlYXR1cmVzLmxlbmd0aD90aGlzLl9jbGVhckVsLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik6KHRoaXMuX2NsZWFyRWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSx0aGlzLl90eXBlYWhlYWQuc2VsZWN0ZWQ9bnVsbCksdGhpcy5maXJlKFwicmVzdWx0c1wiLHtyZXN1bHRzOmUuZmVhdHVyZXN9KSx0aGlzLl90eXBlYWhlYWQudXBkYXRlKGUuZmVhdHVyZXMpLHQoZS5mZWF0dXJlcyl9dGhpcy5maXJlKFwiZXJyb3JcIix7ZXJyb3I6SlNPTi5wYXJzZSh0aGlzLnJlcXVlc3QucmVzcG9uc2VUZXh0KS5tZXNzYWdlfSl9LmJpbmQodGhpcyksdGhpcy5yZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24oKXt0aGlzLl9sb2FkaW5nRWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSx0aGlzLmZpcmUoXCJlcnJvclwiLHtlcnJvcjpKU09OLnBhcnNlKHRoaXMucmVxdWVzdC5yZXNwb25zZVRleHQpLm1lc3NhZ2V9KX0uYmluZCh0aGlzKSx0aGlzLnJlcXVlc3Quc2VuZCgpfX0se2tleTpcIl9xdWVyeUZyb21JbnB1dFwiLHZhbHVlOmZ1bmN0aW9uKGUpeyhlPWUudHJpbSgpKXx8dGhpcy5fY2xlYXIoKSxlLmxlbmd0aD4yJiZ0aGlzLl9nZW9jb2RlKGUsZnVuY3Rpb24oZSl7dGhpcy5fcmVzdWx0cz1lfS5iaW5kKHRoaXMpKX19LHtrZXk6XCJfY2hhbmdlXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFdmVudChcIkhUTUxFdmVudHNcIik7ZS5pbml0RXZlbnQoXCJjaGFuZ2VcIiwhMCwhMSksdGhpcy5faW5wdXRFbC5kaXNwYXRjaEV2ZW50KGUpfX0se2tleTpcIl9xdWVyeVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2UmJihcIm9iamVjdFwiPT09bChlKSYmZS5sZW5ndGgmJihlPVthLmRlZmF1bHQud3JhcChlWzBdKSxhLmRlZmF1bHQud3JhcChlWzFdKV0uam9pbigpKSx0aGlzLl9nZW9jb2RlKGUsZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGgpe3ZhciB0PWVbMF07dGhpcy5fcmVzdWx0cz1lLHRoaXMuX3R5cGVhaGVhZC5zZWxlY3RlZD10LHRoaXMuX2lucHV0RWwudmFsdWU9dC5wbGFjZV9uYW1lLHRoaXMuX2NoYW5nZSgpfX0uYmluZCh0aGlzKSkpfX0se2tleTpcIl9zZXRJbnB1dFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2UmJihcIm9iamVjdFwiPT09bChlKSYmZS5sZW5ndGgmJihlPVthLmRlZmF1bHQucm91bmRXaXRoT3JpZ2luYWxQcmVjaXNpb24oYS5kZWZhdWx0LndyYXAoZVswXSksZVswXSksYS5kZWZhdWx0LnJvdW5kV2l0aE9yaWdpbmFsUHJlY2lzaW9uKGEuZGVmYXVsdC53cmFwKGVbMV0pLGVbMV0pXS5qb2luKCkpLHRoaXMuX2lucHV0RWwudmFsdWU9ZSx0aGlzLl9pbnB1dD1udWxsLHRoaXMuX3R5cGVhaGVhZC5zZWxlY3RlZD1udWxsLHRoaXMuX3R5cGVhaGVhZC5jbGVhcigpLHRoaXMuX2NoYW5nZSgpKX19LHtrZXk6XCJfY2xlYXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2lucHV0PW51bGwsdGhpcy5faW5wdXRFbC52YWx1ZT1cIlwiLHRoaXMuX3R5cGVhaGVhZC5zZWxlY3RlZD1udWxsLHRoaXMuX3R5cGVhaGVhZC5jbGVhcigpLHRoaXMuX2NoYW5nZSgpLHRoaXMuX2lucHV0RWwuZm9jdXMoKSx0aGlzLl9jbGVhckVsLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIiksdGhpcy5maXJlKFwiY2xlYXJcIil9fSx7a2V5OlwiZ2V0UmVzdWx0XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faW5wdXR9fSx7a2V5OlwicXVlcnlcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5fcXVlcnkoZSksdGhpc319LHtrZXk6XCJzZXRJbnB1dFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zZXRJbnB1dChlKSx0aGlzfX0se2tleTpcIm9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZXYub24oZSx0KSx0aGlzLl9ldi5vbihcImVycm9yXCIsKGZ1bmN0aW9uKGUpe2NvbnNvbGUubG9nKGUpfSkpLHRoaXN9fSx7a2V5OlwiZmlyZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2V2LmVtaXQoZSx0KSx0aGlzfX0se2tleTpcIm9mZlwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2V2LnJlbW92ZUxpc3RlbmVyKGUsdCksdGhpc319XSksZX0oKTtuLmRlZmF1bHQ9aH0se1wiLi4vdXRpbHNcIjozNCxldmVudHM6NyxcImxvZGFzaC5kZWJvdW5jZVwiOjEyLHN1Z2dlc3Rpb25zOjE5fV0sMjg6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciBpPXMoZShcIi4vZ2VvY29kZXJcIikpLHI9cyhlKFwibG9kYXNoLnRlbXBsYXRlXCIpKSxvPXMoZShcImxvZGFzaC5pc2VxdWFsXCIpKSxhPXMoZShcInR1cmYtZXh0ZW50XCIpKTtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBsKGUpe3JldHVybihsPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHUoaS5rZXkpLGkpfX1mdW5jdGlvbiB1KGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIiE9PWwoZSl8fG51bGw9PT1lKXJldHVybiBlO3ZhciBuPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1uKXt2YXIgaT1uLmNhbGwoZSx0fHxcImRlZmF1bHRcIik7aWYoXCJvYmplY3RcIiE9PWwoaSkpcmV0dXJuIGk7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oZSxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT09bCh0KT90OlN0cmluZyh0KX12YXIgaD0oMCxyLmRlZmF1bHQpKFwiPGRpdiBjbGFzcz0nbWFwYm94LWRpcmVjdGlvbnMtY29tcG9uZW50IG1hcGJveC1kaXJlY3Rpb25zLWlucHV0cyc+XFxuICA8ZGl2IGNsYXNzPSdtYXBib3gtZGlyZWN0aW9ucy1jb21wb25lbnQta2V5bGluZSc+XFxuICAgIDxkaXYgY2xhc3M9J21hcGJveC1kaXJlY3Rpb25zLW9yaWdpbic+XFxuICAgICAgPGxhYmVsIGNsYXNzPSdtYXBib3gtZm9ybS1sYWJlbCc+XFxuICAgICAgICA8c3BhbiBjbGFzcz0nZGlyZWN0aW9ucy1pY29uIGRpcmVjdGlvbnMtaWNvbi1kZXBhcnQnPjwvc3Bhbj5cXG4gICAgICA8L2xhYmVsPlxcbiAgICAgIDxkaXYgaWQ9J21hcGJveC1kaXJlY3Rpb25zLW9yaWdpbi1pbnB1dCc+PC9kaXY+XFxuICAgIDwvZGl2PlxcblxcbiAgICA8YnV0dG9uXFxuICAgICAgY2xhc3M9J2RpcmVjdGlvbnMtaWNvbiBkaXJlY3Rpb25zLWljb24tcmV2ZXJzZSBkaXJlY3Rpb25zLXJldmVyc2UganMtcmV2ZXJzZS1pbnB1dHMnXFxuICAgICAgdGl0bGU9J1JldmVyc2Ugb3JpZ2luICZhbXA7IGRlc3RpbmF0aW9uJz5cXG4gICAgPC9idXR0b24+XFxuXFxuICAgIDxkaXYgY2xhc3M9J21hcGJveC1kaXJlY3Rpb25zLWRlc3RpbmF0aW9uJz5cXG4gICAgICA8bGFiZWwgY2xhc3M9J21hcGJveC1mb3JtLWxhYmVsJz5cXG4gICAgICAgIDxzcGFuIGNsYXNzPSdkaXJlY3Rpb25zLWljb24gZGlyZWN0aW9ucy1pY29uLWFycml2ZSc+PC9zcGFuPlxcbiAgICAgIDwvbGFiZWw+XFxuICAgICAgPGRpdiBpZD0nbWFwYm94LWRpcmVjdGlvbnMtZGVzdGluYXRpb24taW5wdXQnPjwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcblxcbiAgPCUgaWYgKGNvbnRyb2xzLnByb2ZpbGVTd2l0Y2hlcikgeyAlPlxcbiAgPGRpdiBjbGFzcz0nbWFwYm94LWRpcmVjdGlvbnMtcHJvZmlsZSBtYXBib3gtZGlyZWN0aW9ucy1jb21wb25lbnQta2V5bGluZSBtYXBib3gtZGlyZWN0aW9ucy1jbGVhcmZpeCc+PGlucHV0XFxuICAgICAgaWQ9J21hcGJveC1kaXJlY3Rpb25zLXByb2ZpbGUtZHJpdmluZy10cmFmZmljJ1xcbiAgICAgIHR5cGU9J3JhZGlvJ1xcbiAgICAgIG5hbWU9J3Byb2ZpbGUnXFxuICAgICAgdmFsdWU9J21hcGJveC9kcml2aW5nLXRyYWZmaWMnXFxuICAgICAgPCUgaWYgKHByb2ZpbGUgPT09ICdtYXBib3gvZHJpdmluZy10cmFmZmljJykgeyAlPmNoZWNrZWQ8JSB9ICU+XFxuICAgIC8+XFxuICAgIDxsYWJlbCBmb3I9J21hcGJveC1kaXJlY3Rpb25zLXByb2ZpbGUtZHJpdmluZy10cmFmZmljJz5UcmFmZmljPC9sYWJlbD5cXG4gICAgPGlucHV0XFxuICAgICAgaWQ9J21hcGJveC1kaXJlY3Rpb25zLXByb2ZpbGUtZHJpdmluZydcXG4gICAgICB0eXBlPSdyYWRpbydcXG4gICAgICBuYW1lPSdwcm9maWxlJ1xcbiAgICAgIHZhbHVlPSdtYXBib3gvZHJpdmluZydcXG4gICAgICA8JSBpZiAocHJvZmlsZSA9PT0gJ21hcGJveC9kcml2aW5nJykgeyAlPmNoZWNrZWQ8JSB9ICU+XFxuICAgIC8+XFxuICAgIDxsYWJlbCBmb3I9J21hcGJveC1kaXJlY3Rpb25zLXByb2ZpbGUtZHJpdmluZyc+RHJpdmluZzwvbGFiZWw+XFxuICAgIDxpbnB1dFxcbiAgICAgIGlkPSdtYXBib3gtZGlyZWN0aW9ucy1wcm9maWxlLXdhbGtpbmcnXFxuICAgICAgdHlwZT0ncmFkaW8nXFxuICAgICAgbmFtZT0ncHJvZmlsZSdcXG4gICAgICB2YWx1ZT0nbWFwYm94L3dhbGtpbmcnXFxuICAgICAgPCUgaWYgKHByb2ZpbGUgPT09ICdtYXBib3gvd2Fsa2luZycpIHsgJT5jaGVja2VkPCUgfSAlPlxcbiAgICAvPlxcbiAgICA8bGFiZWwgZm9yPSdtYXBib3gtZGlyZWN0aW9ucy1wcm9maWxlLXdhbGtpbmcnPldhbGtpbmc8L2xhYmVsPlxcbiAgICA8aW5wdXRcXG4gICAgICBpZD0nbWFwYm94LWRpcmVjdGlvbnMtcHJvZmlsZS1jeWNsaW5nJ1xcbiAgICAgIHR5cGU9J3JhZGlvJ1xcbiAgICAgIG5hbWU9J3Byb2ZpbGUnXFxuICAgICAgdmFsdWU9J21hcGJveC9jeWNsaW5nJ1xcbiAgICAgIDwlIGlmIChwcm9maWxlID09PSAnbWFwYm94L2N5Y2xpbmcnKSB7ICU+Y2hlY2tlZDwlIH0gJT5cXG4gICAgLz5cXG4gICAgPGxhYmVsIGZvcj0nbWFwYm94LWRpcmVjdGlvbnMtcHJvZmlsZS1jeWNsaW5nJz5DeWNsaW5nPC9sYWJlbD5cXG4gIDwvZGl2PlxcbiAgPCUgfSAlPlxcbjwvZGl2PlxcblwiKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4saSxyKXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpO3ZhciBvPW4uZ2V0U3RhdGUoKSxhPW8ub3JpZ2luUXVlcnkscz1vLmRlc3RpbmF0aW9uUXVlcnksbD1vLnByb2ZpbGUsYz1vLmNvbnRyb2xzO3QuaW5uZXJIVE1MPWgoe29yaWdpblF1ZXJ5OmEsZGVzdGluYXRpb25RdWVyeTpzLHByb2ZpbGU6bCxjb250cm9sczpjfSksdGhpcy5jb250YWluZXI9dCx0aGlzLmFjdGlvbnM9aSx0aGlzLnN0b3JlPW4sdGhpcy5fbWFwPXIsdGhpcy5vbkFkZCgpLHRoaXMucmVuZGVyKCl9cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt0JiZjKGUucHJvdG90eXBlLHQpLG4mJmMoZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pfShlLFt7a2V5OlwiYW5pbWF0ZVRvQ29vcmRpbmF0ZXNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuc3RvcmUuZ2V0U3RhdGUoKSxpPW4ub3JpZ2luLHI9bi5kZXN0aW5hdGlvbixzPW4ucm91dGVQYWRkaW5nO2lmKGkuZ2VvbWV0cnkmJnIuZ2VvbWV0cnkmJiEoMCxvLmRlZmF1bHQpKGkuZ2VvbWV0cnksci5nZW9tZXRyeSkpe3ZhciBsPSgwLGEuZGVmYXVsdCkoe3R5cGU6XCJGZWF0dXJlQ29sbGVjdGlvblwiLGZlYXR1cmVzOltpLHJdfSk7dGhpcy5fbWFwLmZpdEJvdW5kcyhbW2xbMF0sbFsxXV0sW2xbMl0sbFszXV1dLHtwYWRkaW5nOnN9KX1lbHNlIHRoaXMuX21hcC5mbHlUbyh7Y2VudGVyOnR9KX19LHtrZXk6XCJvbkFkZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMuYWN0aW9ucyxuPXQuY2xlYXJPcmlnaW4scj10LmNsZWFyRGVzdGluYXRpb24sbz10LmNyZWF0ZU9yaWdpbixhPXQuY3JlYXRlRGVzdGluYXRpb24scz10LnNldFByb2ZpbGUsbD10LnJldmVyc2UsYz10aGlzLnN0b3JlLmdldFN0YXRlKCksdT1jLmdlb2NvZGVyLGg9Yy5hY2Nlc3NUb2tlbixkPWMuZmx5VG8scD1jLnBsYWNlaG9sZGVyT3JpZ2luLGY9Yy5wbGFjZWhvbGRlckRlc3RpbmF0aW9uLG09Yy56b29tO3RoaXMub3JpZ2luSW5wdXQ9bmV3IGkuZGVmYXVsdChPYmplY3QuYXNzaWduKHt9LHthY2Nlc3NUb2tlbjpofSx1LHtmbHlUbzpkLHBsYWNlaG9sZGVyOnAsem9vbTptfSkpO3ZhciBnPXRoaXMub3JpZ2luSW5wdXQub25BZGQodGhpcy5fbWFwKTt0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiI21hcGJveC1kaXJlY3Rpb25zLW9yaWdpbi1pbnB1dFwiKS5hcHBlbmRDaGlsZChnKSx0aGlzLmRlc3RpbmF0aW9uSW5wdXQ9bmV3IGkuZGVmYXVsdChPYmplY3QuYXNzaWduKHt9LHthY2Nlc3NUb2tlbjpofSx1LHtmbHlUbzpkLHBsYWNlaG9sZGVyOmYsem9vbTptfSkpO3ZhciB5PXRoaXMuZGVzdGluYXRpb25JbnB1dC5vbkFkZCh0aGlzLl9tYXApO3RoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIjbWFwYm94LWRpcmVjdGlvbnMtZGVzdGluYXRpb24taW5wdXRcIikuYXBwZW5kQ2hpbGQoeSksdGhpcy5vcmlnaW5JbnB1dC5vbihcInJlc3VsdFwiLChmdW5jdGlvbih0KXt2YXIgbj10LnJlc3VsdC5jZW50ZXI7byhuKSxlLmFuaW1hdGVUb0Nvb3JkaW5hdGVzKFwib3JpZ2luXCIsbil9KSksdGhpcy5vcmlnaW5JbnB1dC5vbihcImNsZWFyXCIsbiksdGhpcy5kZXN0aW5hdGlvbklucHV0Lm9uKFwicmVzdWx0XCIsKGZ1bmN0aW9uKHQpe3ZhciBuPXQucmVzdWx0LmNlbnRlcjthKG4pLGUuYW5pbWF0ZVRvQ29vcmRpbmF0ZXMoXCJkZXN0aW5hdGlvblwiLG4pfSkpLHRoaXMuZGVzdGluYXRpb25JbnB1dC5vbihcImNsZWFyXCIscik7dmFyIF89dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdJyk7QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChfLChmdW5jdGlvbihlKXtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwoZnVuY3Rpb24oKXtzKGUudmFsdWUpfSkpfSkpLHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuanMtcmV2ZXJzZS1pbnB1dHNcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGZ1bmN0aW9uKCl7dmFyIHQ9ZS5zdG9yZS5nZXRTdGF0ZSgpLG49dC5vcmlnaW4saT10LmRlc3RpbmF0aW9uO24mJmUuYWN0aW9ucy5xdWVyeURlc3RpbmF0aW9uKG4uZ2VvbWV0cnkuY29vcmRpbmF0ZXMpLGkmJmUuYWN0aW9ucy5xdWVyeU9yaWdpbihpLmdlb21ldHJ5LmNvb3JkaW5hdGVzKSxsKCl9KSl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuc3RvcmUuc3Vic2NyaWJlKChmdW5jdGlvbigpe3ZhciB0PWUuc3RvcmUuZ2V0U3RhdGUoKSxuPXQub3JpZ2luUXVlcnksaT10LmRlc3RpbmF0aW9uUXVlcnkscj10Lm9yaWdpblF1ZXJ5Q29vcmRpbmF0ZXMsbz10LmRlc3RpbmF0aW9uUXVlcnlDb29yZGluYXRlcztuJiYoZS5vcmlnaW5JbnB1dC5xdWVyeShuKSxlLmFjdGlvbnMucXVlcnlPcmlnaW4obnVsbCkpLGkmJihlLmRlc3RpbmF0aW9uSW5wdXQucXVlcnkoaSksZS5hY3Rpb25zLnF1ZXJ5RGVzdGluYXRpb24obnVsbCkpLHImJihlLm9yaWdpbklucHV0LnNldElucHV0KHIpLGUuYW5pbWF0ZVRvQ29vcmRpbmF0ZXMoXCJvcmlnaW5cIixyKSxlLmFjdGlvbnMucXVlcnlPcmlnaW5Db29yZGluYXRlcyhudWxsKSksbyYmKGUuZGVzdGluYXRpb25JbnB1dC5zZXRJbnB1dChvKSxlLmFuaW1hdGVUb0Nvb3JkaW5hdGVzKFwiZGVzdGluYXRpb25cIixvKSxlLmFjdGlvbnMucXVlcnlEZXN0aW5hdGlvbkNvb3JkaW5hdGVzKG51bGwpKX0pKX19XSksZX0oKTtuLmRlZmF1bHQ9ZH0se1wiLi9nZW9jb2RlclwiOjI3LFwibG9kYXNoLmlzZXF1YWxcIjoxMyxcImxvZGFzaC50ZW1wbGF0ZVwiOjE0LFwidHVyZi1leHRlbnRcIjoyMn1dLDI5OltmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgaT1hKGUoXCIuLi91dGlsc1wiKSkscj1hKGUoXCJsb2Rhc2gudGVtcGxhdGVcIikpLG89YShlKFwibG9kYXNoLmlzZXF1YWxcIikpO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIHMoZSl7cmV0dXJuKHM9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGwoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsYyhpLmtleSksaSl9fWZ1bmN0aW9uIGMoZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT09cyhlKXx8bnVsbD09PWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciBpPW4uY2FsbChlLHR8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT09cyhpKSlyZXR1cm4gaTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PT1zKHQpP3Q6U3RyaW5nKHQpfXZhciB1PSgwLHIuZGVmYXVsdCkoXCI8ZGl2IGNsYXNzPSdkaXJlY3Rpb25zLWNvbnRyb2wgZGlyZWN0aW9ucy1jb250cm9sLWRpcmVjdGlvbnMnPlxcbiAgPGRpdiBjbGFzcz0nbWFwYm94LWRpcmVjdGlvbnMtY29tcG9uZW50IG1hcGJveC1kaXJlY3Rpb25zLXJvdXRlLXN1bW1hcnk8JSBpZiAocm91dGVzID4gMSkgeyAlPiBtYXBib3gtZGlyZWN0aW9ucy1tdWx0aXBsZTwlIH0gJT4nPlxcbiAgICA8JSBpZiAocm91dGVzID4gMSkgeyAlPlxcbiAgICA8ZGl2IGNsYXNzPSdtYXBib3gtZGlyZWN0aW9ucy1yb3V0ZXMgbWFwYm94LWRpcmVjdGlvbnMtY2xlYXJmaXgnPlxcbiAgICAgIDwlIGZvciAodmFyIGkgPSAwOyBpIDwgcm91dGVzOyBpKyspIHsgJT5cXG4gICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbycgbmFtZT0ncm91dGVzJyBpZD0nPCU9IGkgJT4nIDwlIGlmIChpID09PSByb3V0ZUluZGV4KSB7ICU+Y2hlY2tlZDwlIH0gJT4+XFxuICAgICAgICA8bGFiZWwgZm9yPSc8JT0gaSAlPicgY2xhc3M9J21hcGJveC1kaXJlY3Rpb25zLXJvdXRlJz48JT0gaSArIDEgJT48L2xhYmVsPlxcbiAgICAgIDwlIH0gJT5cXG4gICAgPC9kaXY+XFxuICAgIDwlIH0gJT5cXG4gICAgPGgxPjwlLSBkdXJhdGlvbiAlPjwvaDE+XFxuICAgIDxzcGFuPjwlLSBkaXN0YW5jZSAlPjwvc3Bhbj5cXG4gIDwvZGl2PlxcblxcbiAgPGRpdiBjbGFzcz0nbWFwYm94LWRpcmVjdGlvbnMtaW5zdHJ1Y3Rpb25zJz5cXG4gICAgPGRpdiBjbGFzcz0nbWFwYm94LWRpcmVjdGlvbnMtaW5zdHJ1Y3Rpb25zLXdyYXBwZXInPlxcbiAgICAgIDxvbCBjbGFzcz0nbWFwYm94LWRpcmVjdGlvbnMtc3RlcHMnPlxcbiAgICAgICAgPCUgc3RlcHMuZm9yRWFjaChmdW5jdGlvbihzdGVwKSB7ICU+XFxuICAgICAgICAgIDwlXFxuICAgICAgICAgICAgdmFyIGRpc3RhbmNlID0gc3RlcC5kaXN0YW5jZSA/IGZvcm1hdChzdGVwLmRpc3RhbmNlKSA6IGZhbHNlO1xcbiAgICAgICAgICAgIHZhciBpY29uID0gc3RlcC5tYW5ldXZlci5tb2RpZmllciA/IHN0ZXAubWFuZXV2ZXIubW9kaWZpZXIucmVwbGFjZSgvXFxcXHMrL2csICctJykudG9Mb3dlckNhc2UoKSA6IHN0ZXAubWFuZXV2ZXIudHlwZS5yZXBsYWNlKC9cXFxccysvZywgJy0nKS50b0xvd2VyQ2FzZSgpO1xcblxcbiAgICAgICAgICAgIGlmIChzdGVwLm1hbmV1dmVyLnR5cGUgPT09ICdhcnJpdmUnIHx8IHN0ZXAubWFuZXV2ZXIudHlwZSA9PT0gJ2RlcGFydCcpIHtcXG4gICAgICAgICAgICAgIGljb24gPSBzdGVwLm1hbmV1dmVyLnR5cGU7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGlmIChzdGVwLm1hbmV1dmVyLnR5cGUgPT09ICdyb3VuZGFib3V0JyB8fCBzdGVwLm1hbmV1dmVyLnR5cGUgPT09ICdyb3RhcnknKSB7XFxuICAgICAgICAgICAgICBpY29uPSAncm91bmRhYm91dCc7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIHZhciBsbmcgPSBzdGVwLm1hbmV1dmVyLmxvY2F0aW9uWzBdO1xcbiAgICAgICAgICAgIHZhciBsYXQgPSBzdGVwLm1hbmV1dmVyLmxvY2F0aW9uWzFdO1xcbiAgICAgICAgICAlPlxcbiAgICAgICAgICA8bGlcXG4gICAgICAgICAgICBkYXRhLWxhdD0nPCU9IGxhdCAlPidcXG4gICAgICAgICAgICBkYXRhLWxuZz0nPCU9IGxuZyAlPidcXG4gICAgICAgICAgICBjbGFzcz0nbWFwYm94LWRpcmVjdGlvbnMtc3RlcCc+XFxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9J2RpcmVjdGlvbnMtaWNvbiBkaXJlY3Rpb25zLWljb24tPCU9IGljb24gJT4nPjwvc3Bhbj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPSdtYXBib3gtZGlyZWN0aW9ucy1zdGVwLW1hbmV1dmVyJz5cXG4gICAgICAgICAgICAgIDwlPSBzdGVwLm1hbmV1dmVyLmluc3RydWN0aW9uICU+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPCUgaWYgKGRpc3RhbmNlKSB7ICU+XFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSdtYXBib3gtZGlyZWN0aW9ucy1zdGVwLWRpc3RhbmNlJz5cXG4gICAgICAgICAgICAgICAgPCU9IGRpc3RhbmNlICU+XFxuICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8JSB9ICU+XFxuICAgICAgICAgIDwvbGk+XFxuICAgICAgICA8JSB9KTsgJT5cXG4gICAgICA8L29sPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKSxoPSgwLHIuZGVmYXVsdCkoXCI8ZGl2IGNsYXNzPSdkaXJlY3Rpb25zLWNvbnRyb2wgZGlyZWN0aW9ucy1jb250cm9sLWRpcmVjdGlvbnMnPlxcbiAgPGRpdiBjbGFzcz0nbWFwYm94LWRpcmVjdGlvbnMtZXJyb3InPlxcbiAgICA8JT0gZXJyb3IgJT5cXG4gIDwvZGl2PlxcbjwvZGl2PlxcblwiKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4saSxyKXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMuY29udGFpbmVyPXQsdGhpcy5hY3Rpb25zPWksdGhpcy5zdG9yZT1uLHRoaXMuX21hcD1yLHRoaXMuZGlyZWN0aW9ucz17fSx0aGlzLnJlbmRlcigpfXJldHVybiBmdW5jdGlvbihlLHQsbil7dCYmbChlLnByb3RvdHlwZSx0KSxuJiZsKGUsbiksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJwcm90b3R5cGVcIix7d3JpdGFibGU6ITF9KX0oZSxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnN0b3JlLnN1YnNjcmliZSgoZnVuY3Rpb24oKXt2YXIgdD1lLmFjdGlvbnMsbj10LmhvdmVyTWFya2VyLHI9dC5zZXRSb3V0ZUluZGV4LGE9ZS5zdG9yZS5nZXRTdGF0ZSgpLHM9YS5yb3V0ZUluZGV4LGw9YS51bml0LGM9YS5kaXJlY3Rpb25zLGQ9YS5lcnJvcixwPWEuY29tcGlsZSxmPSEoMCxvLmRlZmF1bHQpKGNbc10sZS5kaXJlY3Rpb25zKTtpZihkKWUuY29udGFpbmVyLmlubmVySFRNTD1oKHtlcnJvcjpkfSk7ZWxzZSBpZihjLmxlbmd0aCYmZil7dmFyIG09ZS5kaXJlY3Rpb25zPWNbc107cCYmbS5sZWdzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Uuc3RlcHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5tYW5ldXZlci5pbnN0cnVjdGlvbj1wKFwiZW5cIixlKX0pKX0pKSxlLmNvbnRhaW5lci5pbm5lckhUTUw9dSh7cm91dGVJbmRleDpzLHJvdXRlczpjLmxlbmd0aCxzdGVwczptLmxlZ3NbMF0uc3RlcHMsZm9ybWF0OmkuZGVmYXVsdC5mb3JtYXRbbF0sZHVyYXRpb246aS5kZWZhdWx0LmZvcm1hdC5kdXJhdGlvbihtLmR1cmF0aW9uKSxkaXN0YW5jZTppLmRlZmF1bHQuZm9ybWF0W2xdKG0uZGlzdGFuY2UpfSk7dmFyIGc9ZS5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChcIi5tYXBib3gtZGlyZWN0aW9ucy1zdGVwXCIpO0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZywoZnVuY3Rpb24odCl7dmFyIGk9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxuZ1wiKSxyPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1sYXRcIik7dC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsKGZ1bmN0aW9uKCl7bihbaSxyXSl9KSksdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdXRcIiwoZnVuY3Rpb24oKXtuKG51bGwpfSkpLHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsKGZ1bmN0aW9uKCl7ZS5fbWFwLmZseVRvKHtjZW50ZXI6W2kscl0sem9vbToxNn0pfSkpfSkpO3ZhciB5PWUuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXScpO0FycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoeSwoZnVuY3Rpb24oZSl7ZS5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsKGZ1bmN0aW9uKGUpe3IocGFyc2VJbnQoZS50YXJnZXQuaWQsMTApKX0pKX0pKX1lbHNlIGUuY29udGFpbmVyLmlubmVySFRNTCYmZiYmKGUuY29udGFpbmVyLmlubmVySFRNTD1cIlwiKX0pKX19XSksZX0oKTtuLmRlZmF1bHQ9ZH0se1wiLi4vdXRpbHNcIjozNCxcImxvZGFzaC5pc2VxdWFsXCI6MTMsXCJsb2Rhc2gudGVtcGxhdGVcIjoxNH1dLDMwOltmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgaT1lKFwicmVkdXhcIikscj1wKGUoXCJyZWR1eC10aHVua1wiKSksbz1lKFwiQG1hcGJveC9wb2x5bGluZVwiKSxhPXAoZShcIi4vdXRpbHNcIikpLHM9cChlKFwiLi9yZWR1Y2Vyc1wiKSksbD1mdW5jdGlvbihlLHQpe2lmKCF0JiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPT1mKGUpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybntkZWZhdWx0OmV9O3ZhciBuPWQodCk7aWYobiYmbi5oYXMoZSkpcmV0dXJuIG4uZ2V0KGUpO3ZhciBpPXt9LHI9T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2Zvcih2YXIgbyBpbiBlKWlmKFwiZGVmYXVsdFwiIT09byYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbykpe3ZhciBhPXI/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG8pOm51bGw7YSYmKGEuZ2V0fHxhLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KGksbyxhKTppW29dPWVbb119aS5kZWZhdWx0PWUsbiYmbi5zZXQoZSxpKTtyZXR1cm4gaX0oZShcIi4vYWN0aW9uc1wiKSksYz1wKGUoXCIuL2RpcmVjdGlvbnNfc3R5bGVcIikpLHU9cChlKFwiLi9jb250cm9scy9pbnB1dHNcIikpLGg9cChlKFwiLi9jb250cm9scy9pbnN0cnVjdGlvbnNcIikpO2Z1bmN0aW9uIGQoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgdD1uZXcgV2Vha01hcCxuPW5ldyBXZWFrTWFwO3JldHVybihkPWZ1bmN0aW9uKGUpe3JldHVybiBlP246dH0pKGUpfWZ1bmN0aW9uIHAoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGYoZSl7cmV0dXJuKGY9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIG0oZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsZyhpLmtleSksaSl9fWZ1bmN0aW9uIGcoZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT09ZihlKXx8bnVsbD09PWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciBpPW4uY2FsbChlLHR8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT09ZihpKSlyZXR1cm4gaTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PT1mKHQpP3Q6U3RyaW5nKHQpfXZhciB5PSgwLGkuYXBwbHlNaWRkbGV3YXJlKShyLmRlZmF1bHQpKGkuY3JlYXRlU3RvcmUpKHMuZGVmYXVsdCksXz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmFjdGlvbnM9KDAsaS5iaW5kQWN0aW9uQ3JlYXRvcnMpKGwseS5kaXNwYXRjaCksdGhpcy5hY3Rpb25zLnNldE9wdGlvbnModHx8e30pLHRoaXMub3B0aW9ucz10fHx7fSx0aGlzLm9uRHJhZ0Rvd249dGhpcy5fb25EcmFnRG93bi5iaW5kKHRoaXMpLHRoaXMub25EcmFnTW92ZT10aGlzLl9vbkRyYWdNb3ZlLmJpbmQodGhpcyksdGhpcy5vbkRyYWdVcD10aGlzLl9vbkRyYWdVcC5iaW5kKHRoaXMpLHRoaXMubW92ZT10aGlzLl9tb3ZlLmJpbmQodGhpcyksdGhpcy5vbkNsaWNrPXRoaXMuX2NsaWNrSGFuZGxlcigpLmJpbmQodGhpcyl9cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt0JiZtKGUucHJvdG90eXBlLHQpLG4mJm0oZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pfShlLFt7a2V5Olwib25BZGRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3RoaXMuX21hcD1lO3ZhciBuPXkuZ2V0U3RhdGUoKS5jb250cm9scyxpPXRoaXMuY29udGFpbmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aS5jbGFzc05hbWU9XCJtYXBib3hnbC1jdHJsLWRpcmVjdGlvbnMgbWFwYm94Z2wtY3RybFwiO3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ci5jbGFzc05hbWU9XCJkaXJlY3Rpb25zLWNvbnRyb2wgZGlyZWN0aW9ucy1jb250cm9sLWlucHV0c1wiLG5ldyB1LmRlZmF1bHQocix5LHRoaXMuYWN0aW9ucyx0aGlzLl9tYXApO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cmV0dXJuIG8uY2xhc3NOYW1lPVwiZGlyZWN0aW9ucy1jb250cm9sIGRpcmVjdGlvbnMtY29udHJvbC1pbnN0cnVjdGlvbnNcIixuZXcgaC5kZWZhdWx0KG8seSx7aG92ZXJNYXJrZXI6dGhpcy5hY3Rpb25zLmhvdmVyTWFya2VyLHNldFJvdXRlSW5kZXg6dGhpcy5hY3Rpb25zLnNldFJvdXRlSW5kZXh9LHRoaXMuX21hcCksbi5pbnB1dHMmJmkuYXBwZW5kQ2hpbGQociksbi5pbnN0cnVjdGlvbnMmJmkuYXBwZW5kQ2hpbGQobyksdGhpcy5zdWJzY3JpYmVkQWN0aW9ucygpLHRoaXMuX21hcC5sb2FkZWQoKT90aGlzLm1hcFN0YXRlKCk6dGhpcy5fbWFwLm9uKFwibG9hZFwiLChmdW5jdGlvbigpe3JldHVybiB0Lm1hcFN0YXRlKCl9KSksaX19LHtrZXk6XCJvblJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuY29udGFpbmVyKSx0aGlzLnJlbW92ZVJvdXRlcygpLGUub2ZmKFwibW91c2Vkb3duXCIsdGhpcy5vbkRyYWdEb3duKSxlLm9mZihcIm1vdXNlbW92ZVwiLHRoaXMubW92ZSksZS5vZmYoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkRyYWdEb3duKSxlLm9mZihcInRvdWNoc3RhcnRcIix0aGlzLm1vdmUpLGUub2ZmKFwiY2xpY2tcIix0aGlzLm9uQ2xpY2spLHRoaXMuc3RvcmVVbnN1YnNjcmliZSYmKHRoaXMuc3RvcmVVbnN1YnNjcmliZSgpLGRlbGV0ZSB0aGlzLnN0b3JlVW5zdWJzY3JpYmUpLGMuZGVmYXVsdC5mb3JFYWNoKChmdW5jdGlvbih0KXtlLmdldExheWVyKHQuaWQpJiZlLnJlbW92ZUxheWVyKHQuaWQpfSkpLGUuZ2V0U291cmNlKFwiZGlyZWN0aW9uc1wiKSYmZS5yZW1vdmVTb3VyY2UoXCJkaXJlY3Rpb25zXCIpLHRoaXMuX21hcD1udWxsLHRoaXN9fSx7a2V5OlwibWFwU3RhdGVcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD15LmdldFN0YXRlKCksbj10LnByb2ZpbGUsaT0odC5hbHRlcm5hdGl2ZXMsdC5jb25nZXN0aW9uLHQuc3R5bGVzKSxyPXQuaW50ZXJhY3RpdmU7dC5jb21waWxlO3RoaXMuYWN0aW9ucy5ldmVudEVtaXQoXCJwcm9maWxlXCIse3Byb2ZpbGU6bn0pO3RoaXMuX21hcC5hZGRTb3VyY2UoXCJkaXJlY3Rpb25zXCIse3R5cGU6XCJnZW9qc29uXCIsZGF0YTp7dHlwZTpcIkZlYXR1cmVDb2xsZWN0aW9uXCIsZmVhdHVyZXM6W119fSksaSYmaS5sZW5ndGgmJmkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGUuX21hcC5hZGRMYXllcih0KX0pKSxjLmRlZmF1bHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZS5fbWFwLmdldExheWVyKHQuaWQpfHxlLl9tYXAuYWRkTGF5ZXIodCl9KSksciYmKHRoaXMuX21hcC5vbihcIm1vdXNlZG93blwiLHRoaXMub25EcmFnRG93biksdGhpcy5fbWFwLm9uKFwibW91c2Vtb3ZlXCIsdGhpcy5tb3ZlKSx0aGlzLl9tYXAub24oXCJjbGlja1wiLHRoaXMub25DbGljayksdGhpcy5fbWFwLm9uKFwidG91Y2hzdGFydFwiLHRoaXMubW92ZSksdGhpcy5fbWFwLm9uKFwidG91Y2hzdGFydFwiLHRoaXMub25EcmFnRG93bikpfX0se2tleTpcInN1YnNjcmliZWRBY3Rpb25zXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuc3RvcmVVbnN1YnNjcmliZT15LnN1YnNjcmliZSgoZnVuY3Rpb24oKXt2YXIgdD15LmdldFN0YXRlKCksbj10Lm9yaWdpbixpPXQuZGVzdGluYXRpb24scj10LmhvdmVyTWFya2VyLGE9dC5kaXJlY3Rpb25zLHM9dC5yb3V0ZUluZGV4LGw9e3R5cGU6XCJGZWF0dXJlQ29sbGVjdGlvblwiLGZlYXR1cmVzOltuLGkscl0uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZW9tZXRyeX0pKX07YS5sZW5ndGgmJmEuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTsoMCxvLmRlY29kZSkoZS5nZW9tZXRyeSw1KS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnJldmVyc2UoKX0pKS5mb3JFYWNoKChmdW5jdGlvbihpLHIpe3ZhciBvPW5bbi5sZW5ndGgtMV0sYT1lLmxlZ3NbMF0uYW5ub3RhdGlvbiYmZS5sZWdzWzBdLmFubm90YXRpb24uY29uZ2VzdGlvbiYmZS5sZWdzWzBdLmFubm90YXRpb24uY29uZ2VzdGlvbltyLTFdO2lmKCFvfHxhJiZvLnByb3BlcnRpZXMuY29uZ2VzdGlvbiE9PWEpe3ZhciBsPXtnZW9tZXRyeTp7dHlwZTpcIkxpbmVTdHJpbmdcIixjb29yZGluYXRlczpbXX0scHJvcGVydGllczp7XCJyb3V0ZS1pbmRleFwiOnQscm91dGU6dD09PXM/XCJzZWxlY3RlZFwiOlwiYWx0ZXJuYXRlXCJ9fTtvJiZsLmdlb21ldHJ5LmNvb3JkaW5hdGVzLnB1c2goby5nZW9tZXRyeS5jb29yZGluYXRlc1tvLmdlb21ldHJ5LmNvb3JkaW5hdGVzLmxlbmd0aC0xXSksbC5nZW9tZXRyeS5jb29yZGluYXRlcy5wdXNoKGkpLGEmJihsLnByb3BlcnRpZXMuY29uZ2VzdGlvbj1lLmxlZ3NbMF0uYW5ub3RhdGlvbi5jb25nZXN0aW9uW3ItMV0pLG4ucHVzaChsKX1lbHNlIG8uZ2VvbWV0cnkuY29vcmRpbmF0ZXMucHVzaChpKX0pKSxsLmZlYXR1cmVzPWwuZmVhdHVyZXMuY29uY2F0KG4pLHQ9PT1zJiZlLmxlZ3NbMF0uc3RlcHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7XCJ3YXlwb2ludFwiPT09ZS5tYW5ldXZlci50eXBlJiZsLmZlYXR1cmVzLnB1c2goe3R5cGU6XCJGZWF0dXJlXCIsZ2VvbWV0cnk6ZS5tYW5ldXZlci5sb2NhdGlvbixwcm9wZXJ0aWVzOntpZDpcIndheXBvaW50XCJ9fSl9KSl9KSksZS5fbWFwLnN0eWxlJiZlLl9tYXAuZ2V0U291cmNlKFwiZGlyZWN0aW9uc1wiKSYmZS5fbWFwLmdldFNvdXJjZShcImRpcmVjdGlvbnNcIikuc2V0RGF0YShsKX0pKX19LHtrZXk6XCJfY2xpY2tIYW5kbGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1udWxsO3JldHVybiBmdW5jdGlvbih0KXtpZihlKWNsZWFyVGltZW91dChlKSxlPW51bGwsdGhpcy5fbWFwLnpvb21JbigpO2Vsc2V7dmFyIG49dGhpcy5fb25TaW5nbGVDbGljay5iaW5kKHRoaXMpO2U9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtuKHQpLGU9bnVsbH0pLDI1MCl9fX19LHtrZXk6XCJfb25TaW5nbGVDbGlja1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj15LmdldFN0YXRlKCkub3JpZ2luLGk9W2UubG5nTGF0LmxuZyxlLmxuZ0xhdC5sYXRdO2lmKG4uZ2VvbWV0cnkpe3ZhciByPXRoaXMuX21hcC5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoZS5wb2ludCx7bGF5ZXJzOltcImRpcmVjdGlvbnMtb3JpZ2luLXBvaW50XCIsXCJkaXJlY3Rpb25zLWRlc3RpbmF0aW9uLXBvaW50XCIsXCJkaXJlY3Rpb25zLXdheXBvaW50LXBvaW50XCIsXCJkaXJlY3Rpb25zLXJvdXRlLWxpbmUtYWx0XCJdfSk7aWYoci5sZW5ndGgpe2lmKHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7XCJkaXJlY3Rpb25zLXdheXBvaW50LXBvaW50XCI9PT1lLmxheWVyLmlkJiZ0LmFjdGlvbnMucmVtb3ZlV2F5cG9pbnQoZSl9KSksXCJhbHRlcm5hdGVcIj09PXJbMF0ucHJvcGVydGllcy5yb3V0ZSl7dmFyIG89clswXS5wcm9wZXJ0aWVzW1wicm91dGUtaW5kZXhcIl07dGhpcy5hY3Rpb25zLnNldFJvdXRlSW5kZXgobyl9fWVsc2UgdGhpcy5hY3Rpb25zLnNldERlc3RpbmF0aW9uRnJvbUNvb3JkaW5hdGVzKGkpLHRoaXMuX21hcC5mbHlUbyh7Y2VudGVyOml9KX1lbHNlIHRoaXMuYWN0aW9ucy5zZXRPcmlnaW5Gcm9tQ29vcmRpbmF0ZXMoaSl9fSx7a2V5OlwiX21vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLG49eS5nZXRTdGF0ZSgpLmhvdmVyTWFya2VyLGk9dGhpcy5fbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50LHtsYXllcnM6W1wiZGlyZWN0aW9ucy1yb3V0ZS1saW5lLWFsdFwiLFwiZGlyZWN0aW9ucy1yb3V0ZS1saW5lXCIsXCJkaXJlY3Rpb25zLW9yaWdpbi1wb2ludFwiLFwiZGlyZWN0aW9ucy1kZXN0aW5hdGlvbi1wb2ludFwiLFwiZGlyZWN0aW9ucy1ob3Zlci1wb2ludFwiXX0pO3RoaXMuX21hcC5nZXRDYW52YXMoKS5zdHlsZS5jdXJzb3I9aS5sZW5ndGg/XCJwb2ludGVyXCI6XCJcIixpLmxlbmd0aD8odGhpcy5pc0N1cnNvck92ZXJQb2ludD1pWzBdLHRoaXMuX21hcC5kcmFnUGFuLmRpc2FibGUoKSxpLmZvckVhY2goKGZ1bmN0aW9uKGkpe1wiZGlyZWN0aW9ucy1yb3V0ZS1saW5lXCI9PT1pLmxheWVyLmlkP3QuYWN0aW9ucy5ob3Zlck1hcmtlcihbZS5sbmdMYXQubG5nLGUubG5nTGF0LmxhdF0pOm4uZ2VvbWV0cnkmJnQuYWN0aW9ucy5ob3Zlck1hcmtlcihudWxsKX0pKSk6dGhpcy5pc0N1cnNvck92ZXJQb2ludCYmKHRoaXMuaXNDdXJzb3JPdmVyUG9pbnQ9ITEsdGhpcy5fbWFwLmRyYWdQYW4uZW5hYmxlKCkpfX0se2tleTpcIl9vbkRyYWdEb3duXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmlzQ3Vyc29yT3ZlclBvaW50JiYodGhpcy5pc0RyYWdnaW5nPXRoaXMuaXNDdXJzb3JPdmVyUG9pbnQsdGhpcy5fbWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvcj1cImdyYWJcIix0aGlzLl9tYXAub24oXCJtb3VzZW1vdmVcIix0aGlzLm9uRHJhZ01vdmUpLHRoaXMuX21hcC5vbihcIm1vdXNldXBcIix0aGlzLm9uRHJhZ1VwKSx0aGlzLl9tYXAub24oXCJ0b3VjaG1vdmVcIix0aGlzLm9uRHJhZ01vdmUpLHRoaXMuX21hcC5vbihcInRvdWNoZW5kXCIsdGhpcy5vbkRyYWdVcCkpfX0se2tleTpcIl9vbkRyYWdNb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5pc0RyYWdnaW5nKXt2YXIgdD1bZS5sbmdMYXQubG5nLGUubG5nTGF0LmxhdF07c3dpdGNoKHRoaXMuaXNEcmFnZ2luZy5sYXllci5pZCl7Y2FzZVwiZGlyZWN0aW9ucy1vcmlnaW4tcG9pbnRcIjp0aGlzLmFjdGlvbnMuY3JlYXRlT3JpZ2luKHQpO2JyZWFrO2Nhc2VcImRpcmVjdGlvbnMtZGVzdGluYXRpb24tcG9pbnRcIjp0aGlzLmFjdGlvbnMuY3JlYXRlRGVzdGluYXRpb24odCk7YnJlYWs7Y2FzZVwiZGlyZWN0aW9ucy1ob3Zlci1wb2ludFwiOnRoaXMuYWN0aW9ucy5ob3Zlck1hcmtlcih0KX19fX0se2tleTpcIl9vbkRyYWdVcFwiLHZhbHVlOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0RyYWdnaW5nKXt2YXIgZT15LmdldFN0YXRlKCksdD1lLmhvdmVyTWFya2VyLG49ZS5vcmlnaW4saT1lLmRlc3RpbmF0aW9uO3N3aXRjaCh0aGlzLmlzRHJhZ2dpbmcubGF5ZXIuaWQpe2Nhc2VcImRpcmVjdGlvbnMtb3JpZ2luLXBvaW50XCI6dGhpcy5hY3Rpb25zLnNldE9yaWdpbkZyb21Db29yZGluYXRlcyhuLmdlb21ldHJ5LmNvb3JkaW5hdGVzKTticmVhaztjYXNlXCJkaXJlY3Rpb25zLWRlc3RpbmF0aW9uLXBvaW50XCI6dGhpcy5hY3Rpb25zLnNldERlc3RpbmF0aW9uRnJvbUNvb3JkaW5hdGVzKGkuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpO2JyZWFrO2Nhc2VcImRpcmVjdGlvbnMtaG92ZXItcG9pbnRcIjp0Lmdlb21ldHJ5JiYhYS5kZWZhdWx0LmNvb3JkaW5hdGVNYXRjaCh0aGlzLmlzRHJhZ2dpbmcsdCkmJnRoaXMuYWN0aW9ucy5hZGRXYXlwb2ludCgwLHQpfXRoaXMuaXNEcmFnZ2luZz0hMSx0aGlzLl9tYXAuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yPVwiXCIsdGhpcy5fbWFwLm9mZihcInRvdWNobW92ZVwiLHRoaXMub25EcmFnTW92ZSksdGhpcy5fbWFwLm9mZihcInRvdWNoZW5kXCIsdGhpcy5vbkRyYWdVcCksdGhpcy5fbWFwLm9mZihcIm1vdXNlbW92ZVwiLHRoaXMub25EcmFnTW92ZSksdGhpcy5fbWFwLm9mZihcIm1vdXNldXBcIix0aGlzLm9uRHJhZ1VwKX19fSx7a2V5OlwiaW50ZXJhY3RpdmVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8odGhpcy5fbWFwLm9uKFwidG91Y2hzdGFydFwiLHRoaXMubW92ZSksdGhpcy5fbWFwLm9uKFwidG91Y2hzdGFydFwiLHRoaXMub25EcmFnRG93biksdGhpcy5fbWFwLm9uKFwibW91c2Vkb3duXCIsdGhpcy5vbkRyYWdEb3duKSx0aGlzLl9tYXAub24oXCJtb3VzZW1vdmVcIix0aGlzLm1vdmUpLHRoaXMuX21hcC5vbihcImNsaWNrXCIsdGhpcy5vbkNsaWNrKSk6KHRoaXMuX21hcC5vZmYoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5tb3ZlKSx0aGlzLl9tYXAub2ZmKFwidG91Y2hzdGFydFwiLHRoaXMub25EcmFnRG93biksdGhpcy5fbWFwLm9mZihcIm1vdXNlZG93blwiLHRoaXMub25EcmFnRG93biksdGhpcy5fbWFwLm9mZihcIm1vdXNlbW92ZVwiLHRoaXMubW92ZSksdGhpcy5fbWFwLm9mZihcImNsaWNrXCIsdGhpcy5vbkNsaWNrKSksdGhpc319LHtrZXk6XCJnZXRPcmlnaW5cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB5LmdldFN0YXRlKCkub3JpZ2lufX0se2tleTpcInNldE9yaWdpblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3RoaXMuYWN0aW9ucy5xdWVyeU9yaWdpbihlKTp0aGlzLmFjdGlvbnMuc2V0T3JpZ2luRnJvbUNvb3JkaW5hdGVzKGUpLHRoaXN9fSx7a2V5OlwiZ2V0RGVzdGluYXRpb25cIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB5LmdldFN0YXRlKCkuZGVzdGluYXRpb259fSx7a2V5Olwic2V0RGVzdGluYXRpb25cIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT90aGlzLmFjdGlvbnMucXVlcnlEZXN0aW5hdGlvbihlKTp0aGlzLmFjdGlvbnMuc2V0RGVzdGluYXRpb25Gcm9tQ29vcmRpbmF0ZXMoZSksdGhpc319LHtrZXk6XCJyZXZlcnNlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3Rpb25zLnJldmVyc2UoKSx0aGlzfX0se2tleTpcImFkZFdheXBvaW50XCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC50eXBlfHwodD1hLmRlZmF1bHQuY3JlYXRlUG9pbnQodCx7aWQ6XCJ3YXlwb2ludFwifSkpLHRoaXMuYWN0aW9ucy5hZGRXYXlwb2ludChlLHQpLHRoaXN9fSx7a2V5Olwic2V0V2F5cG9pbnRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0LnR5cGV8fCh0PWEuZGVmYXVsdC5jcmVhdGVQb2ludCh0LHtpZDpcIndheXBvaW50XCJ9KSksdGhpcy5hY3Rpb25zLnNldFdheXBvaW50KGUsdCksdGhpc319LHtrZXk6XCJyZW1vdmVXYXlwb2ludFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXkuZ2V0U3RhdGUoKS53YXlwb2ludHM7cmV0dXJuIHRoaXMuYWN0aW9ucy5yZW1vdmVXYXlwb2ludCh0W2VdKSx0aGlzfX0se2tleTpcImdldFdheXBvaW50c1wiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHkuZ2V0U3RhdGUoKS53YXlwb2ludHN9fSx7a2V5OlwicmVtb3ZlUm91dGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3Rpb25zLmNsZWFyT3JpZ2luKCksdGhpcy5hY3Rpb25zLmNsZWFyRGVzdGluYXRpb24oKSx0aGlzfX0se2tleTpcIm9uXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5hY3Rpb25zLmV2ZW50U3Vic2NyaWJlKGUsdCksdGhpc319XSksZX0oKTtuLmRlZmF1bHQ9X30se1wiLi9hY3Rpb25zXCI6MjUsXCIuL2NvbnRyb2xzL2lucHV0c1wiOjI4LFwiLi9jb250cm9scy9pbnN0cnVjdGlvbnNcIjoyOSxcIi4vZGlyZWN0aW9uc19zdHlsZVwiOjMxLFwiLi9yZWR1Y2Vyc1wiOjMzLFwiLi91dGlsc1wiOjM0LFwiQG1hcGJveC9wb2x5bGluZVwiOjYscmVkdXg6MTgsXCJyZWR1eC10aHVua1wiOjE3fV0sMzE6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciBpPVt7aWQ6XCJkaXJlY3Rpb25zLXJvdXRlLWxpbmUtYWx0XCIsdHlwZTpcImxpbmVcIixzb3VyY2U6XCJkaXJlY3Rpb25zXCIsbGF5b3V0OntcImxpbmUtY2FwXCI6XCJyb3VuZFwiLFwibGluZS1qb2luXCI6XCJyb3VuZFwifSxwYWludDp7XCJsaW5lLWNvbG9yXCI6XCIjYmJiXCIsXCJsaW5lLXdpZHRoXCI6NH0sZmlsdGVyOltcImFsbFwiLFtcImluXCIsXCIkdHlwZVwiLFwiTGluZVN0cmluZ1wiXSxbXCJpblwiLFwicm91dGVcIixcImFsdGVybmF0ZVwiXV19LHtpZDpcImRpcmVjdGlvbnMtcm91dGUtbGluZS1jYXNpbmdcIix0eXBlOlwibGluZVwiLHNvdXJjZTpcImRpcmVjdGlvbnNcIixsYXlvdXQ6e1wibGluZS1jYXBcIjpcInJvdW5kXCIsXCJsaW5lLWpvaW5cIjpcInJvdW5kXCJ9LHBhaW50OntcImxpbmUtY29sb3JcIjpcIiMyZDVmOTlcIixcImxpbmUtd2lkdGhcIjoxMn0sZmlsdGVyOltcImFsbFwiLFtcImluXCIsXCIkdHlwZVwiLFwiTGluZVN0cmluZ1wiXSxbXCJpblwiLFwicm91dGVcIixcInNlbGVjdGVkXCJdXX0se2lkOlwiZGlyZWN0aW9ucy1yb3V0ZS1saW5lXCIsdHlwZTpcImxpbmVcIixzb3VyY2U6XCJkaXJlY3Rpb25zXCIsbGF5b3V0OntcImxpbmUtY2FwXCI6XCJidXR0XCIsXCJsaW5lLWpvaW5cIjpcInJvdW5kXCJ9LHBhaW50OntcImxpbmUtY29sb3JcIjp7cHJvcGVydHk6XCJjb25nZXN0aW9uXCIsdHlwZTpcImNhdGVnb3JpY2FsXCIsZGVmYXVsdDpcIiM0ODgyYzVcIixzdG9wczpbW1widW5rbm93blwiLFwiIzQ4ODJjNVwiXSxbXCJsb3dcIixcIiM0ODgyYzVcIl0sW1wibW9kZXJhdGVcIixcIiNmMDlhNDZcIl0sW1wiaGVhdnlcIixcIiNlMzQzNDFcIl0sW1wic2V2ZXJlXCIsXCIjOGIyMzQyXCJdXX0sXCJsaW5lLXdpZHRoXCI6N30sZmlsdGVyOltcImFsbFwiLFtcImluXCIsXCIkdHlwZVwiLFwiTGluZVN0cmluZ1wiXSxbXCJpblwiLFwicm91dGVcIixcInNlbGVjdGVkXCJdXX0se2lkOlwiZGlyZWN0aW9ucy1ob3Zlci1wb2ludC1jYXNpbmdcIix0eXBlOlwiY2lyY2xlXCIsc291cmNlOlwiZGlyZWN0aW9uc1wiLHBhaW50OntcImNpcmNsZS1yYWRpdXNcIjo4LFwiY2lyY2xlLWNvbG9yXCI6XCIjZmZmXCJ9LGZpbHRlcjpbXCJhbGxcIixbXCJpblwiLFwiJHR5cGVcIixcIlBvaW50XCJdLFtcImluXCIsXCJpZFwiLFwiaG92ZXJcIl1dfSx7aWQ6XCJkaXJlY3Rpb25zLWhvdmVyLXBvaW50XCIsdHlwZTpcImNpcmNsZVwiLHNvdXJjZTpcImRpcmVjdGlvbnNcIixwYWludDp7XCJjaXJjbGUtcmFkaXVzXCI6NixcImNpcmNsZS1jb2xvclwiOlwiIzNiYjJkMFwifSxmaWx0ZXI6W1wiYWxsXCIsW1wiaW5cIixcIiR0eXBlXCIsXCJQb2ludFwiXSxbXCJpblwiLFwiaWRcIixcImhvdmVyXCJdXX0se2lkOlwiZGlyZWN0aW9ucy13YXlwb2ludC1wb2ludC1jYXNpbmdcIix0eXBlOlwiY2lyY2xlXCIsc291cmNlOlwiZGlyZWN0aW9uc1wiLHBhaW50OntcImNpcmNsZS1yYWRpdXNcIjo4LFwiY2lyY2xlLWNvbG9yXCI6XCIjZmZmXCJ9LGZpbHRlcjpbXCJhbGxcIixbXCJpblwiLFwiJHR5cGVcIixcIlBvaW50XCJdLFtcImluXCIsXCJpZFwiLFwid2F5cG9pbnRcIl1dfSx7aWQ6XCJkaXJlY3Rpb25zLXdheXBvaW50LXBvaW50XCIsdHlwZTpcImNpcmNsZVwiLHNvdXJjZTpcImRpcmVjdGlvbnNcIixwYWludDp7XCJjaXJjbGUtcmFkaXVzXCI6NixcImNpcmNsZS1jb2xvclwiOlwiIzhhOGJjOVwifSxmaWx0ZXI6W1wiYWxsXCIsW1wiaW5cIixcIiR0eXBlXCIsXCJQb2ludFwiXSxbXCJpblwiLFwiaWRcIixcIndheXBvaW50XCJdXX0se2lkOlwiZGlyZWN0aW9ucy1vcmlnaW4tcG9pbnRcIix0eXBlOlwiY2lyY2xlXCIsc291cmNlOlwiZGlyZWN0aW9uc1wiLHBhaW50OntcImNpcmNsZS1yYWRpdXNcIjoxOCxcImNpcmNsZS1jb2xvclwiOlwiIzNiYjJkMFwifSxmaWx0ZXI6W1wiYWxsXCIsW1wiaW5cIixcIiR0eXBlXCIsXCJQb2ludFwiXSxbXCJpblwiLFwibWFya2VyLXN5bWJvbFwiLFwiQVwiXV19LHtpZDpcImRpcmVjdGlvbnMtb3JpZ2luLWxhYmVsXCIsdHlwZTpcInN5bWJvbFwiLHNvdXJjZTpcImRpcmVjdGlvbnNcIixsYXlvdXQ6e1widGV4dC1maWVsZFwiOlwiQVwiLFwidGV4dC1mb250XCI6W1wiT3BlbiBTYW5zIEJvbGRcIixcIkFyaWFsIFVuaWNvZGUgTVMgQm9sZFwiXSxcInRleHQtc2l6ZVwiOjEyfSxwYWludDp7XCJ0ZXh0LWNvbG9yXCI6XCIjZmZmXCJ9LGZpbHRlcjpbXCJhbGxcIixbXCJpblwiLFwiJHR5cGVcIixcIlBvaW50XCJdLFtcImluXCIsXCJtYXJrZXItc3ltYm9sXCIsXCJBXCJdXX0se2lkOlwiZGlyZWN0aW9ucy1kZXN0aW5hdGlvbi1wb2ludFwiLHR5cGU6XCJjaXJjbGVcIixzb3VyY2U6XCJkaXJlY3Rpb25zXCIscGFpbnQ6e1wiY2lyY2xlLXJhZGl1c1wiOjE4LFwiY2lyY2xlLWNvbG9yXCI6XCIjOGE4YmM5XCJ9LGZpbHRlcjpbXCJhbGxcIixbXCJpblwiLFwiJHR5cGVcIixcIlBvaW50XCJdLFtcImluXCIsXCJtYXJrZXItc3ltYm9sXCIsXCJCXCJdXX0se2lkOlwiZGlyZWN0aW9ucy1kZXN0aW5hdGlvbi1sYWJlbFwiLHR5cGU6XCJzeW1ib2xcIixzb3VyY2U6XCJkaXJlY3Rpb25zXCIsbGF5b3V0OntcInRleHQtZmllbGRcIjpcIkJcIixcInRleHQtZm9udFwiOltcIk9wZW4gU2FucyBCb2xkXCIsXCJBcmlhbCBVbmljb2RlIE1TIEJvbGRcIl0sXCJ0ZXh0LXNpemVcIjoxMn0scGFpbnQ6e1widGV4dC1jb2xvclwiOlwiI2ZmZlwifSxmaWx0ZXI6W1wiYWxsXCIsW1wiaW5cIixcIiR0eXBlXCIsXCJQb2ludFwiXSxbXCJpblwiLFwibWFya2VyLXN5bWJvbFwiLFwiQlwiXV19XTtuLmRlZmF1bHQ9aX0se31dLDMyOltmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShlKFwiLi9kaXJlY3Rpb25zXCIpKTt0LmV4cG9ydHM9aS5kZWZhdWx0fSx7XCIuL2RpcmVjdGlvbnNcIjozMH1dLDMzOltmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtyZXR1cm4oaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5kZWZhdWx0PXZvaWQgMDt2YXIgcj1mdW5jdGlvbihlLHQpe2lmKCF0JiZlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7aWYobnVsbD09PWV8fFwib2JqZWN0XCIhPT1pKGUpJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXJldHVybntkZWZhdWx0OmV9O3ZhciBuPWEodCk7aWYobiYmbi5oYXMoZSkpcmV0dXJuIG4uZ2V0KGUpO3ZhciByPXt9LG89T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO2Zvcih2YXIgcyBpbiBlKWlmKFwiZGVmYXVsdFwiIT09cyYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscykpe3ZhciBsPW8/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHMpOm51bGw7bCYmKGwuZ2V0fHxsLnNldCk/T2JqZWN0LmRlZmluZVByb3BlcnR5KHIscyxsKTpyW3NdPWVbc119ci5kZWZhdWx0PWUsbiYmbi5zZXQoZSxyKTtyZXR1cm4gcn0oZShcIi4uL2NvbnN0YW50cy9hY3Rpb25fdHlwZXMuanNcIikpLG89ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShlKFwiZGVlcC1hc3NpZ25cIikpO2Z1bmN0aW9uIGEoZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgV2Vha01hcClyZXR1cm4gbnVsbDt2YXIgdD1uZXcgV2Vha01hcCxuPW5ldyBXZWFrTWFwO3JldHVybihhPWZ1bmN0aW9uKGUpe3JldHVybiBlP246dH0pKGUpfXZhciBzPXthcGk6XCJodHRwczovL2FwaS5tYXBib3guY29tL2RpcmVjdGlvbnMvdjUvXCIscHJvZmlsZTpcIm1hcGJveC9kcml2aW5nLXRyYWZmaWNcIixhbHRlcm5hdGl2ZXM6ITEsY29uZ2VzdGlvbjohMSx1bml0OlwiaW1wZXJpYWxcIixmbHlUbzohMCxwbGFjZWhvbGRlck9yaWdpbjpcIkNob29zZSBhIHN0YXJ0aW5nIHBsYWNlXCIscGxhY2Vob2xkZXJEZXN0aW5hdGlvbjpcIkNob29zZSBkZXN0aW5hdGlvblwiLHpvb206MTYsbGFuZ3VhZ2U6XCJlblwiLGNvbXBpbGU6bnVsbCxwcm94aW1pdHk6ITEsc3R5bGVzOltdLGNvbnRyb2xzOntwcm9maWxlU3dpdGNoZXI6ITAsaW5wdXRzOiEwLGluc3RydWN0aW9uczohMH0sZ2VvY29kZXI6e30saW50ZXJhY3RpdmU6ITAsZXZlbnRzOnt9LG9yaWdpbjp7fSxkZXN0aW5hdGlvbjp7fSxob3Zlck1hcmtlcjp7fSx3YXlwb2ludHM6W10sb3JpZ2luUXVlcnk6bnVsbCxkZXN0aW5hdGlvblF1ZXJ5Om51bGwsb3JpZ2luUXVlcnlDb29yZGluYXRlczpudWxsLGRlc3RpbmF0aW9uUXVlcnlDb29yZGluYXRlczpudWxsLGRpcmVjdGlvbnM6W10scm91dGVJbmRleDowLHJvdXRlUGFkZGluZzo4MH07dmFyIGw9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06cyx0PWFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwO3N3aXRjaCh0LnR5cGUpe2Nhc2Ugci5TRVRfT1BUSU9OUzpyZXR1cm4oMCxvLmRlZmF1bHQpKHt9LGUsdC5vcHRpb25zKTtjYXNlIHIuRElSRUNUSU9OU19QUk9GSUxFOnJldHVybiBPYmplY3QuYXNzaWduKHt9LGUse3Byb2ZpbGU6dC5wcm9maWxlfSk7Y2FzZSByLk9SSUdJTjpyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxlLHtvcmlnaW46dC5vcmlnaW4saG92ZXJNYXJrZXI6e319KTtjYXNlIHIuREVTVElOQVRJT046cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7ZGVzdGluYXRpb246dC5kZXN0aW5hdGlvbixob3Zlck1hcmtlcjp7fX0pO2Nhc2Ugci5IT1ZFUl9NQVJLRVI6cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7aG92ZXJNYXJrZXI6dC5ob3Zlck1hcmtlcn0pO2Nhc2Ugci5XQVlQT0lOVFM6cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7d2F5cG9pbnRzOnQud2F5cG9pbnRzfSk7Y2FzZSByLk9SSUdJTl9RVUVSWTpyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxlLHtvcmlnaW5RdWVyeTp0LnF1ZXJ5fSk7Y2FzZSByLkRFU1RJTkFUSU9OX1FVRVJZOnJldHVybiBPYmplY3QuYXNzaWduKHt9LGUse2Rlc3RpbmF0aW9uUXVlcnk6dC5xdWVyeX0pO2Nhc2Ugci5PUklHSU5fRlJPTV9DT09SRElOQVRFUzpyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxlLHtvcmlnaW5RdWVyeUNvb3JkaW5hdGVzOnQuY29vcmRpbmF0ZXN9KTtjYXNlIHIuREVTVElOQVRJT05fRlJPTV9DT09SRElOQVRFUzpyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxlLHtkZXN0aW5hdGlvblF1ZXJ5Q29vcmRpbmF0ZXM6dC5jb29yZGluYXRlc30pO2Nhc2Ugci5PUklHSU5fQ0xFQVI6cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7b3JpZ2luOnt9LG9yaWdpblF1ZXJ5OlwiXCIsd2F5cG9pbnRzOltdLGRpcmVjdGlvbnM6W119KTtjYXNlIHIuREVTVElOQVRJT05fQ0xFQVI6cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7ZGVzdGluYXRpb246e30sZGVzdGluYXRpb25RdWVyeTpcIlwiLHdheXBvaW50czpbXSxkaXJlY3Rpb25zOltdfSk7Y2FzZSByLkRJUkVDVElPTlM6cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7ZGlyZWN0aW9uczp0LmRpcmVjdGlvbnN9KTtjYXNlIHIuUk9VVEVfSU5ERVg6cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7cm91dGVJbmRleDp0LnJvdXRlSW5kZXh9KTtjYXNlIHIuRVJST1I6cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7ZXJyb3I6dC5lcnJvcn0pO2RlZmF1bHQ6cmV0dXJuIGV9fTtuLmRlZmF1bHQ9bH0se1wiLi4vY29uc3RhbnRzL2FjdGlvbl90eXBlcy5qc1wiOjI2LFwiZGVlcC1hc3NpZ25cIjo4fV0sMzQ6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciBpPXtmb3JtYXQ6e2R1cmF0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PU1hdGguZmxvb3IoZS82MCksbj1NYXRoLmZsb29yKHQvNjApO3JldHVybiBlJT02MCx0JT02MCwwPT09biYmMD09PXQ/ZStcInNcIjowPT09bj90K1wibWluXCI6bitcImggXCIrdCtcIm1pblwifSxpbXBlcmlhbDpmdW5jdGlvbihlKXt2YXIgdD1lLzE2MDkuMzQ0O3JldHVybiB0Pj0xMDA/dC50b0ZpeGVkKDApK1wibWlcIjp0Pj0xMD90LnRvRml4ZWQoMSkrXCJtaVwiOnQ+PS4xP3QudG9GaXhlZCgyKStcIm1pXCI6KDUyODAqdCkudG9GaXhlZCgwKStcImZ0XCJ9LG1ldHJpYzpmdW5jdGlvbihlKXtyZXR1cm4gZT49MWU1PyhlLzFlMykudG9GaXhlZCgwKStcImttXCI6ZT49MWU0PyhlLzFlMykudG9GaXhlZCgxKStcImttXCI6ZT49MTAwPyhlLzFlMykudG9GaXhlZCgyKStcImttXCI6ZS50b0ZpeGVkKDApK1wibVwifX0sY29vcmRpbmF0ZU1hdGNoOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9ZS5nZW9tZXRyeS5jb29yZGluYXRlcyx0PXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsZS5qb2luKCk9PT10LmpvaW4oKXx8ZVswXS50b0ZpeGVkKDMpPT09dFswXS50b0ZpeGVkKDMpJiZlWzFdLnRvRml4ZWQoMyk9PT10WzFdLnRvRml4ZWQoMyl9LGNyZWF0ZVBvaW50OmZ1bmN0aW9uKGUsdCl7cmV0dXJue3R5cGU6XCJGZWF0dXJlXCIsZ2VvbWV0cnk6e3R5cGU6XCJQb2ludFwiLGNvb3JkaW5hdGVzOmV9LHByb3BlcnRpZXM6dHx8e319fSx2YWxpZENvb3JkczpmdW5jdGlvbihlKXtyZXR1cm4gZVswXT49LTE4MCYmZVswXTw9MTgwJiZlWzFdPj0tOTAmJmVbMV08PTkwfSx3cmFwOmZ1bmN0aW9uKGUpe3ZhciB0PSgoZS0gLTE4MCklMzYwKzM2MCklMzYwLTE4MDtyZXR1cm4tMTgwPT09dD8xODA6dH0scm91bmRXaXRoT3JpZ2luYWxQcmVjaXNpb246ZnVuY3Rpb24oZSx0KXt2YXIgbj0wO3JldHVybiBNYXRoLmZsb29yKHQpIT09dCYmKG49dC50b1N0cmluZygpLnNwbGl0KFwiLlwiKVsxXS5sZW5ndGgpLGUudG9GaXhlZChNYXRoLm1pbihuLDUpKX19O24uZGVmYXVsdD1pfSx7fV19LHt9LFszMl0pKDMyKX0oKX0oKX0pLmNhbGwodGhpcyxuKDI1KSl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKDE0OSk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbZS5pLGksXCJcIl1dKTt2YXIgcj17aG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMzgpKGkscik7aS5sb2NhbHMmJihlLmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbihlLHQsbil7KGUuZXhwb3J0cz1uKDM3KSghMSkpLnB1c2goW2UuaSxcIi8qIE1hcGJveGdsIEdlb2NvZGVyICovXFxuLyogQmFzaWNzICovXFxuLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIsXFxuLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIgKixcXG4ubWFwYm94Z2wtY3RybC1nZW9jb2RlciAqOmFmdGVyLFxcbi5tYXBib3hnbC1jdHJsLWdlb2NvZGVyICo6YmVmb3JlIHtcXG4gIC13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O1xcbiAgICAgLW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcXG4gIH1cXG4ubWFwYm94Z2wtY3RybC1nZW9jb2RlciB7XFxuICBmb250OjE1cHgvMjBweCAnSGVsdmV0aWNhIE5ldWUnLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xcbiAgcG9zaXRpb246cmVsYXRpdmU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOndoaXRlO1xcbiAgd2lkdGg6Y2FsYygxMDAlIC0gMzYwcHgpOztcXG4gIG1pbi13aWR0aDpjYWxjKDEwMCUgLSA0MHB4KTs7XFxuICBtYXgtd2lkdGg6Y2FsYygxMDAlIC0gNDBweCk7O1xcbiAgbWFyZ2luLWxlZnQ6NDBweDtcXG4gIGJvcmRlci1yYWRpdXM6MCAwIDNweCAwO1xcbiAgfVxcbiAgLm1hcGJveC1kaXJlY3Rpb25zLW9yaWdpbiAubWFwYm94Z2wtY3RybC1nZW9jb2RlciB7XFxuICAgIGJvcmRlci1yYWRpdXM6MCAzcHggMCAwO1xcbiAgICB9XFxuXFxuLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIgaW5wdXRbdHlwZT0ndGV4dCddIHtcXG4gIGZvbnQtc2l6ZToxMnB4O1xcbiAgd2lkdGg6MTAwJTtcXG4gIGJvcmRlcjowO1xcbiAgYmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtcXG4gIGhlaWdodDo0MHB4O1xcbiAgbWFyZ2luOjA7XFxuICBjb2xvcjpyZ2JhKDAsMCwwLC41KTtcXG4gIHBhZGRpbmc6MTBweCA0MHB4IDEwcHggMTBweDtcXG4gIHRleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7XFxuICB3aGl0ZS1zcGFjZTpub3dyYXA7XFxuICBvdmVyZmxvdzpoaWRkZW47XFxuICB9XFxuICAubWFwYm94LWRpcmVjdGlvbnMtb3JpZ2luIGlucHV0W3R5cGU9J3RleHQnXSB7XFxuICAgIGJveC1zaGFkb3c6MCAxcHggMCAwICNkZGQ7XFxuICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xcbiAgICB6LWluZGV4OjE7XFxuICAgIH1cXG4gIC5tYXBib3hnbC1jdHJsLWdlb2NvZGVyIGlucHV0OmZvY3VzIHtcXG4gICAgY29sb3I6cmdiYSgwLDAsMCwuNzUpO1xcbiAgICBvdXRsaW5lOjA7XFxuICAgIG91dGxpbmU6dGhpbiBkb3R0ZWRcXFxcODtcXG4gICAgfVxcblxcbi5tYXBib3hnbC1jdHJsLWdlb2NvZGVyIC5nZW9jb2Rlci1pY29uLXNlYXJjaCB7XFxuICBwb3NpdGlvbjphYnNvbHV0ZTtcXG4gIHRvcDoxMHB4O1xcbiAgbGVmdDoxMHB4O1xcbiAgfVxcbi5tYXBib3hnbC1jdHJsLWdlb2NvZGVyIGJ1dHRvbiB7XFxuICBwYWRkaW5nOjA7XFxuICBtYXJnaW46MDtcXG4gIGJhY2tncm91bmQtY29sb3I6I2ZmZjtcXG4gIGJvcmRlcjpub25lO1xcbiAgY3Vyc29yOnBvaW50ZXI7XFxuICB9XFxuLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIgLmdlb2NvZGVyLXBpbi1yaWdodCAqIHtcXG4gIGJhY2tncm91bmQtY29sb3I6I2ZmZjtcXG4gIHotaW5kZXg6MjtcXG4gIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgcmlnaHQ6MTBweDtcXG4gIHRvcDoxMHB4O1xcbiAgZGlzcGxheTpub25lO1xcbiAgfVxcbiAgLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIgLmdlb2NvZGVyLXBpbi1yaWdodCAqLmFjdGl2ZSB7IGRpc3BsYXk6YmxvY2s7IH1cXG5cXG4ubWFwYm94Z2wtY3RybC1nZW9jb2RlcixcXG4ubWFwYm94Z2wtY3RybC1nZW9jb2RlciB1bCB7XFxuICBib3gtc2hhZG93Om5vbmU7XFxuICB9XFxuXFxuLyogU3VnZ2VzdGlvbnMgKi9cXG4ubWFwYm94Z2wtY3RybC1nZW9jb2RlciB1bCB7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7XFxuICBib3JkZXItcmFkaXVzOiAwIDAgM3B4IDNweDtcXG4gIGxlZnQ6MDtcXG4gIGxpc3Qtc3R5bGU6bm9uZTtcXG4gIG1hcmdpbjowO1xcbiAgcGFkZGluZzowO1xcbiAgcG9zaXRpb246YWJzb2x1dGU7XFxuICB3aWR0aDoxMDAlO1xcbiAgdG9wOjEwMCU7XFxuICB6LWluZGV4OjEwMDA7XFxuICBvdmVyZmxvdzpoaWRkZW47XFxuICBmb250LXNpemU6MTJweDtcXG4gIH1cXG4gIC5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0IC5tYXBib3hnbC1jdHJsLWdlb2NvZGVyIHVsLFxcbiAgLm1hcGJveGdsLWN0cmwtYm90dG9tLXJpZ2h0IC5tYXBib3hnbC1jdHJsLWdlb2NvZGVyIHVsIHtcXG4gICAgdG9wOmF1dG87XFxuICAgIGJvdHRvbToxMDAlO1xcbiAgICB9XFxuICAubWFwYm94Z2wtY3RybC1nZW9jb2RlciB1bCA+IGxpID4gYSB7XFxuICAgIGNsZWFyOmJvdGg7XFxuICAgIGN1cnNvcjpkZWZhdWx0O1xcbiAgICBkaXNwbGF5OmJsb2NrO1xcbiAgICBwYWRkaW5nOjVweCAxMHB4O1xcbiAgICB3aGl0ZS1zcGFjZTpub3dyYXA7XFxuICAgIG92ZXJmbG93OmhpZGRlbjtcXG4gICAgdGV4dC1vdmVyZmxvdzplbGxpcHNpcztcXG4gICAgd2hpdGUtc3BhY2U6bm93cmFwO1xcbiAgICBib3JkZXItYm90dG9tOjFweCBzb2xpZCByZ2JhKDAsMCwwLDAuMSk7XFxuICAgIH1cXG4gICAgLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIgdWwgPiBsaTpsYXN0LWNoaWxkID4gYSB7IGJvcmRlci1ib3R0b206bm9uZTsgfVxcbiAgICAubWFwYm94Z2wtY3RybC1nZW9jb2RlciB1bCA+IGxpLmFjdGl2ZSA+IGEsXFxuICAgIC5tYXBib3hnbC1jdHJsLWdlb2NvZGVyIHVsID4gbGkgPiBhOmhvdmVyIHtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiNlZWU7XFxuICAgICAgdGV4dC1kZWNvcmF0aW9uOm5vbmU7XFxuICAgICAgY3Vyc29yOnBvaW50ZXI7XFxuICAgICAgfVxcblxcbkAtd2Via2l0LWtleWZyYW1lcyByb3RhdGUgeyBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfSB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfSB9XFxuICAgQC1tb3ota2V5ZnJhbWVzIHJvdGF0ZSB7IGZyb20geyAtbW96LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9IHRvIHsgLW1vei10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9IH1cXG4gICAgQC1tcy1rZXlmcmFtZXMgcm90YXRlIHsgZnJvbSB7IC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfSB0byB7IC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9IH1cXG4gICAgICAgIEBrZXlmcmFtZXMgcm90YXRlIHsgZnJvbSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9IHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfSB9XFxuXFxuLyogaWNvbnMgKi9cXG4uZ2VvY29kZXItaWNvbiB7XFxuICBkaXNwbGF5OmlubGluZS1ibG9jaztcXG4gIHdpZHRoOjIwcHg7XFxuICBoZWlnaHQ6MjBweDtcXG4gIHZlcnRpY2FsLWFsaWduOm1pZGRsZTtcXG4gIHNwZWFrOm5vbmU7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7XFxuICB9XFxuICAuZ2VvY29kZXItaWNvbi1zZWFyY2gge1xcbiAgICBkaXNwbGF5Om5vbmU7XFxuICAgIH1cXG4gIC5nZW9jb2Rlci1pY29uLWNsb3NlIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjenB6ZG1jOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIWnBaWGRDYjNnOUlqQWdNQ0F5TUNBeU1DSWdkbVZ5YzJsdmJqMGlNUzR4SWlCb1pXbG5hSFE5SWpJd0lpQjNhV1IwYUQwaU1qQWlQZzBLSUNBOGNHRjBhQ0JrUFNKdE5TQTFJREFnTVM0MUlETXVOU0F6TGpVdE15NDFJRE11TlNBd0lERXVOU0F4TGpVZ01DQXpMalV0TXk0MUlETXVOU0F6TGpVZ01TNDFJREFnTUMweExqVXRNeTQxTFRNdU5TQXpMalV0TXk0MUlEQXRNUzQxTFRFdU5TQXdMVE11TlNBekxqVXRNeTQxTFRNdU5TMHhMalVnTUhvaUlHWnBiR3c5SWlNd01EQWlMejROQ2p3dmMzWm5QZz09KTtcXG4gICAgfVxcbiAgLmdlb2NvZGVyLWljb24tbG9hZGluZyB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3pwemRtYzlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSFpsY25OcGIyNDlJakV1TVNJZ2QybGtkR2c5SWpJd0lpQm9aV2xuYUhROUlqSXdJaUIyYVdWM1FtOTRQU0l3SURBZ01qQWdNakFpUGp4d1lYUm9JR1E5SW0weE1DQXlJREFnTXk0ell6SXVOaUF3SURRdU55QXlMakVnTkM0M0lEUXVOMnd6TGpNZ01HTXdMVFF1TkMwekxqWXRPQzA0TFRoNklpQm1hV3hzUFNJak1EQXdJaTgrUEhCaGRHZ2daRDBpVFRFd0lESkROaTQ0SURJZ015NDNJRFF1TVNBeUxqWWdOeTR4SURFdU5DQXhNQ0F5TGpFZ01UTXVOaUEwTGpVZ01UVXVPR015TGpRZ01pNDBJRFl1TkNBeUxqa2dPUzQwSURFdU1pQXlMalV0TVM0MElEUXVNaTAwTGpJZ05DNHlMVGN0TVM0eElEQXRNaTR5SURBdE15NHpJREFnTUM0eElESXVNaTB4TGpjZ05DNHpMVE11T0NBMExqWkRPQzQzSURFMUlEWXVOQ0F4TXk0NElEVXVOeUF4TVM0M0lEUXVPQ0E1TGpjZ05TNDJJRGN1TVNBM0xqWWdOaUE0TGpNZ05TNDJJRGt1TVNBMUxqTWdNVEFnTlM0ell6QXRNUzR4SURBdE1pNHlJREF0TXk0emVpSWdjM1I1YkdVOUltWnBiR3c2SXpBd01EdHZjR0ZqYVhSNU9qQXVNaUl2UGp3dmMzWm5QZz09KTtcXG4gICAgLXdlYmtpdC1hbmltYXRpb246IHJvdGF0ZSA0MDBtcyBsaW5lYXIgaW5maW5pdGU7XFxuICAgICAgIC1tb3otYW5pbWF0aW9uOiByb3RhdGUgNDAwbXMgbGluZWFyIGluZmluaXRlO1xcbiAgICAgICAgLW1zLWFuaW1hdGlvbjogcm90YXRlIDQwMG1zIGxpbmVhciBpbmZpbml0ZTtcXG4gICAgICAgICAgICBhbmltYXRpb246IHJvdGF0ZSA0MDBtcyBsaW5lYXIgaW5maW5pdGU7XFxuICAgIH1cXG5cXG4vKiBCYXNpY3MgKi9cXG4ubWFwYm94Z2wtY3RybC1kaXJlY3Rpb25zIHtcXG4gIHdpZHRoOiAzMy4zMzMzMyU7XFxuICBtaW4td2lkdGg6IDMwMHB4O1xcbiAgbWF4LXdpZHRoOiAzMDBweDtcXG59XFxuLm1hcGJveC1kaXJlY3Rpb25zLWNvbXBvbmVudCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcbi5tYXBib3gtZGlyZWN0aW9ucy1jb21wb25lbnQsXFxuLm1hcGJveC1kaXJlY3Rpb25zLWNvbXBvbmVudCAqLFxcbi5tYXBib3gtZGlyZWN0aW9ucy1jb21wb25lbnQgKjphZnRlcixcXG4ubWFwYm94LWRpcmVjdGlvbnMtY29tcG9uZW50ICo6YmVmb3JlIHtcXG4gIC13ZWJraXQtYm94LXNpemluZzpib3JkZXItYm94O1xcbiAgICAgLW1vei1ib3gtc2l6aW5nOmJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6Ym9yZGVyLWJveDtcXG4gIH1cXG4ubWFwYm94LWRpcmVjdGlvbnMtY29tcG9uZW50LWtleWxpbmUge1xcbiAgYm94LXNoYWRvdzowIDAgMCAycHggcmdiYSgwLDAsMCwwLjEpO1xcbiAgYm9yZGVyLXJhZGl1czozcHg7XFxuICB9XFxuXFxuLmRpcmVjdGlvbnMtY29udHJvbCB7XFxuICBmb250OjE1cHgvMjBweCAnSGVsdmV0aWNhIE5ldWUnLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmO1xcbiAgfVxcblxcbi8qIExheW91dCBjb250YWluZXJzICovXFxuLmRpcmVjdGlvbnMtY29udHJvbCB7XFxuICB3aWR0aDoxMDAlO1xcbiAgei1pbmRleDoxO1xcbiAgfVxcbiAgLmRpcmVjdGlvbnMtY29udHJvbC5kaXJlY3Rpb25zLWNvbnRyb2wtZGlyZWN0aW9ucyB7XFxuICAgIGJhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjc1KTtcXG4gICAgbWFyZ2luOiA3cHggMCAwO1xcbiAgICBjb2xvcjojZmZmO1xcbiAgICB0b3A6MDtcXG4gICAgcmlnaHQ6MDtcXG4gICAgYm90dG9tOjA7XFxuICAgIG92ZXJmbG93OmF1dG87XFxuICAgIG92ZXJmbG93LXg6aGlkZGVuO1xcbiAgICB9XFxuICAuZGlyZWN0aW9ucy1jb250cm9sLmRpcmVjdGlvbnMtY29udHJvbC1pbnB1dHMge1xcbiAgICB0b3A6MTBweDtcXG4gICAgbGVmdDoxMHB4O1xcbiAgICB9XFxuXFxuLyogSW5wdXRzICovXFxuLm1hcGJveC1kaXJlY3Rpb25zLW9yaWdpbixcXG4ubWFwYm94LWRpcmVjdGlvbnMtZGVzdGluYXRpb24ge1xcbiAgcG9zaXRpb246cmVsYXRpdmU7XFxuICB9XFxuXFxuLm1hcGJveC1mb3JtLWxhYmVsIHtcXG4gIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgdG9wOjA7bGVmdDowO1xcbiAgYmFja2dyb3VuZDojOGE4YWNiO1xcbiAgY29sb3I6I2ZmZjtcXG4gIHBhZGRpbmc6MDtcXG4gIHdpZHRoOjQwcHg7XFxuICBoZWlnaHQ6NDBweDtcXG4gIHRleHQtYWxpZ246Y2VudGVyO1xcbiAgbGluZS1oZWlnaHQ6MzhweDtcXG4gIGJvcmRlci1yYWRpdXM6MCAwIDAgM3B4O1xcbiAgfVxcbiAgLm1hcGJveC1mb3JtLWxhYmVsIC5kaXJlY3Rpb25zLWljb24ge1xcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxuICAgIHdpZHRoOiA0MHB4O1xcbiAgICBoZWlnaHQ6IDQwcHg7XFxuICAgIH1cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1vcmlnaW4gLm1hcGJveC1mb3JtLWxhYmVsIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjojM2JiMmQwO1xcbiAgICBib3JkZXItcmFkaXVzOjNweCAwIDAgMDtcXG4gICAgYm94LXNoYWRvdzowIDFweCAwIDAgcmdiYSgwLDAsMCwwLjEpO1xcbiAgICB6LWluZGV4OjE7XFxuICAgIH1cXG5cXG4uZGlyZWN0aW9ucy1yZXZlcnNlIHtcXG4gIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgei1pbmRleDoxMDtcXG4gIGJhY2tncm91bmQ6d2hpdGU7XFxuICBsZWZ0OjQwcHg7XFxuICB0b3A6MzBweDtcXG4gIGN1cnNvcjpwb2ludGVyO1xcbiAgfVxcblxcbi5tYXBib3gtZGlyZWN0aW9ucy1pbnB1dHMgYnV0dG9uIHtcXG4gIHBhZGRpbmc6MDtcXG4gIG1hcmdpbjowO1xcbiAgYmFja2dyb3VuZC1jb2xvcjojZmZmO1xcbiAgYm9yZGVyOm5vbmU7XFxuICBjdXJzb3I6cG9pbnRlcjtcXG4gIH1cXG4ubWFwYm94LWRpcmVjdGlvbnMtaW5wdXRzIC5kaXJlY3Rpb25zLXBpbi1yaWdodCAqIHtcXG4gIGJhY2tncm91bmQtY29sb3I6I2ZmZjtcXG4gIHotaW5kZXg6MjtcXG4gIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgcmlnaHQ6MTBweDtcXG4gIHRvcDoxMHB4O1xcbiAgZGlzcGxheTpub25lO1xcbiAgfVxcbiAgLm1hcGJveC1kaXJlY3Rpb25zLWlucHV0cyAuZGlyZWN0aW9ucy1waW4tcmlnaHQgKi5hY3RpdmUgeyBkaXNwbGF5OmJsb2NrOyB9XFxuXFxuLm1hcGJveC1kaXJlY3Rpb25zLXByb2ZpbGUge1xcbiAgYmFja2dyb3VuZDojZmZmO1xcbiAgbWFyZ2luOjdweCAwIDA7XFxuICBwYWRkaW5nOjJweDtcXG4gIGJvcmRlci1yYWRpdXM6MTVweDtcXG4gIHZlcnRpY2FsLWFsaWduOm1pZGRsZTtcXG4gIH1cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1wcm9maWxlIGxhYmVsIHtcXG4gICAgY3Vyc29yOnBvaW50ZXI7XFxuICAgIHZlcnRpY2FsLWFsaWduOnRvcDtcXG4gICAgZGlzcGxheTpibG9jaztcXG4gICAgYm9yZGVyLXJhZGl1czoxNnB4O1xcbiAgICBwYWRkaW5nOjNweCA1cHg7XFxuICAgIGZvbnQtc2l6ZToxMnB4O1xcbiAgICBjb2xvcjpyZ2JhKDAsMCwwLC41KTtcXG4gICAgbGluZS1oZWlnaHQ6MjBweDtcXG4gICAgdGV4dC1hbGlnbjpjZW50ZXI7XFxuICAgIHdpZHRoOiAyNSU7XFxuICAgIGZsb2F0OmxlZnQ7XFxuICAgIH1cXG4gICAgLm1hcGJveC1kaXJlY3Rpb25zLXByb2ZpbGUgbGFiZWw6aG92ZXIge1xcbiAgICAgIGNvbG9yOnJnYmEoMCwwLDAsLjc1KTtcXG4gICAgICB9XFxuICAubWFwYm94LWRpcmVjdGlvbnMtcHJvZmlsZSBpbnB1dFt0eXBlPXJhZGlvXSB7XFxuICAgIGRpc3BsYXk6bm9uZTtcXG4gICAgfVxcbiAgLm1hcGJveC1kaXJlY3Rpb25zLXByb2ZpbGUgaW5wdXRbdHlwZT1yYWRpb106Y2hlY2tlZCArIGxhYmVsOmhvdmVyLFxcbiAgLm1hcGJveC1kaXJlY3Rpb25zLXByb2ZpbGUgaW5wdXRbdHlwZT1yYWRpb106Y2hlY2tlZCArIGxhYmVsIHtcXG4gICAgYmFja2dyb3VuZDojZWVlO1xcbiAgICBjb2xvcjpyZ2JhKDAsMCwwLC43NSk7XFxuICAgIH1cXG5cXG4vKiBSb3V0ZXMgKi9cXG4ubWFwYm94LWRpcmVjdGlvbnMtcm91dGVzIHVsIHtcXG4gIGxpc3Qtc3R5bGU6bm9uZTtcXG4gIG1hcmdpbjowO1xcbiAgcGFkZGluZzoxMHB4IDEwcHggMCAxMHB4O1xcbiAgYm9yZGVyLWJvdHRvbToxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMjUpO1xcbiAgfVxcblxcbi5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZXMgbGkge1xcbiAgZm9udC1zaXplOjEycHg7XFxuICBwYWRkaW5nOjEwcHggMTBweCAxMHB4IDgwcHg7XFxuICBkaXNwbGF5OmJsb2NrO1xcbiAgcG9zaXRpb246cmVsYXRpdmU7XFxuICBjdXJzb3I6cG9pbnRlcjtcXG4gIGNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjUpO1xcbiAgbWluLWhlaWdodDo2MHB4O1xcbiAgfVxcblxcbi5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZXMgbGk6aG92ZXIsXFxuLm1hcGJveC1kaXJlY3Rpb25zLXJvdXRlcyAubWFwYm94LWRpcmVjdGlvbnMtcm91dGUtYWN0aXZlIHtcXG4gIGNvbG9yOndoaXRlO1xcbiAgfVxcblxcbi5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZS1oZWFkaW5nIHtcXG4gIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgbGVmdDoxMHB4O1xcbiAgdG9wOjEwcHg7XFxuICB9XFxuXFxuLyogUm91dGUgU3VtbWFyeSAqL1xcbi5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZS1zdW1tYXJ5IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHotaW5kZXg6MTtcXG4gIHdpZHRoOjEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsMC43NSk7XFxuICBjb2xvcjojZmZmO1xcbiAgcGFkZGluZzo1cHggMTBweDtcXG4gIGZvbnQtc2l6ZToxNXB4O1xcbiAgbGluZS1oZWlnaHQ6MjhweDtcXG4gIH1cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZS1zdW1tYXJ5ICsgLm1hcGJveC1kaXJlY3Rpb25zLWluc3RydWN0aW9ucyB7XFxuICAgIH1cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZS1zdW1tYXJ5IGgxIHtcXG4gICAgZm9udC13ZWlnaHQ6NTAwO1xcbiAgICBtYXJnaW46MDtcXG4gICAgZGlzcGxheTppbmxpbmU7XFxuICAgIGZvbnQtc2l6ZTppbmhlcml0O1xcbiAgICBsaW5lLWhlaWdodDppbmhlcml0O1xcbiAgICB9XFxuICAubWFwYm94LWRpcmVjdGlvbnMtcm91dGUtc3VtbWFyeSBzcGFuIHtcXG4gICAgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwwLjUpO1xcbiAgICBtYXJnaW46MCA1cHg7XFxuICAgIH1cXG5cXG4gIC8qIEFsdCByb3V0ZSBzZWxlY3Rpb24gKi9cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1pbnN0cnVjdGlvbnMge1xcbiAgICAgIG92ZXJmbG93OiBzY3JvbGw7XFxuICAgIH1cXG4gICAgLm1hcGJveC1kaXJlY3Rpb25zLWluc3RydWN0aW9ucy13cmFwcGVyIHtcXG4gICAgICBtYXgtaGVpZ2h0OiA1MHZoO1xcbiAgICAgIH1cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZXMge1xcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xcbiAgICBmb250LXNpemU6MTJweDtcXG4gICAgZmxvYXQ6IHJpZ2h0O1xcbiAgICB9XFxuICAubWFwYm94LWRpcmVjdGlvbnMtcm91dGVzIGlucHV0W3R5cGU9cmFkaW9dIHsgZGlzcGxheTogbm9uZTt9XFxuICAubWFwYm94LWRpcmVjdGlvbnMtcm91dGVzIGlucHV0W3R5cGU9cmFkaW9dOm5vdCg6Y2hlY2tlZCkgKyAuYnV0dG9uOmJlZm9yZSB7IHdpZHRoOiAwO31cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZXMgaW5wdXRbdHlwZT1yYWRpb10gKyBsYWJlbCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwwLjEwKTtcXG4gICAgZmxvYXQ6bGVmdDtcXG4gICAgcGFkZGluZzowIDEwcHg7XFxuICAgIGN1cnNvcjpwb2ludGVyO1xcbiAgICB9XFxuICAgIC5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZXMgaW5wdXRbdHlwZT1yYWRpb10gKyBsYWJlbDpob3ZlcixcXG4gICAgLm1hcGJveC1kaXJlY3Rpb25zLXJvdXRlcyBpbnB1dFt0eXBlPXJhZGlvXTpjaGVja2VkICsgbGFiZWwge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwwLjI1KTtcXG4gICAgICB9XFxuXFxuLyogSW5zdHJ1Y3Rpb25zICovXFxuLm1hcGJveC1kaXJlY3Rpb25zLWluc3RydWN0aW9ucyAuZGlyZWN0aW9ucy1pY29uIHtcXG4gIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgbGVmdDoxMnB4O1xcbiAgdG9wOjIwcHg7XFxuICBtYXJnaW46YXV0bztcXG4gIH1cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1pbnN0cnVjdGlvbnMgLmRpcmVjdGlvbnMtaWNvbjpiZWZvcmUge1xcbiAgICB2ZXJ0aWNhbC1hbGlnbjp0b3A7XFxuICAgIH1cXG5cXG4ubWFwYm94LWRpcmVjdGlvbnMtZXJyb3Ige1xcbiAgcGFkZGluZzoyMHB4O1xcbiAgZm9udC1zaXplOjIwcHg7XFxuICBsaW5lLWhlaWdodDoyNXB4O1xcbiAgfVxcbi5tYXBib3gtZGlyZWN0aW9ucy1zdGVwLWRpc3RhbmNlIHtcXG4gIGNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjUpO1xcbiAgcG9zaXRpb246YWJzb2x1dGU7XFxuICBwYWRkaW5nOjVweCAxMHB4O1xcbiAgZm9udC1zaXplOjEycHg7XFxuICBsZWZ0OjMwcHg7XFxuICBib3R0b206LTEwcHg7XFxuICB9XFxuLm1hcGJveC1kaXJlY3Rpb25zLXN0ZXBzIHtcXG4gIHBvc2l0aW9uOnJlbGF0aXZlO1xcbiAgbGlzdC1zdHlsZTpub25lO1xcbiAgbWFyZ2luOjA7XFxuICBwYWRkaW5nOjA7XFxuICB9XFxuICAubWFwYm94LWRpcmVjdGlvbnMtc3RlcCB7XFxuICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xcbiAgICBjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC43NSk7XFxuICAgIGN1cnNvcjpwb2ludGVyO1xcbiAgICBwYWRkaW5nOjIwcHggMjBweCAyMHB4IDQwcHg7XFxuICAgIGZvbnQtc2l6ZToxNHB4O1xcbiAgICBsaW5lLWhlaWdodDoxOHB4O1xcbiAgICBmb250LXdlaWdodDogMzAwO1xcbiAgICBsZXR0ZXItc3BhY2luZzowLjFlbTtcXG4gICAgfVxcbiAgICAubWFwYm94LWRpcmVjdGlvbnMtc3RlcCAqIHsgcG9pbnRlci1ldmVudHM6bm9uZTsgfVxcbiAgICAubWFwYm94LWRpcmVjdGlvbnMtc3RlcDpob3ZlciB7XFxuICAgICAgY29sb3I6d2hpdGU7XFxuICAgICAgfVxcbiAgICAubWFwYm94LWRpcmVjdGlvbnMtc3RlcDphZnRlciB7XFxuICAgICAgY29udGVudDonJztcXG4gICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcXG4gICAgICB0b3A6NDVweDtcXG4gICAgICBib3R0b206LTEwcHg7XFxuICAgICAgYm9yZGVyLWxlZnQ6MnB4IGRvdHRlZCByZ2JhKDI1NSwyNTUsMjU1LC4yKTtcXG4gICAgICBsZWZ0OjIwcHg7XFxuICAgICAgfVxcbiAgICAubWFwYm94LWRpcmVjdGlvbnMtc3RlcDpsYXN0LWNoaWxkOmFmdGVyLFxcbiAgICAubWFwYm94LWRpcmVjdGlvbnMtc3RlcDpsYXN0LWNoaWxkIC5tYXBib3gtZGlyZWN0aW9ucy1zdGVwLWRpc3RhbmNlIHtcXG4gICAgICBkaXNwbGF5Om5vbmU7XFxuICAgICAgfVxcblxcbi5tYXBib3gtbWFya2VyLWRyYWctaWNvbiB7XFxuICBkaXNwbGF5OmJsb2NrO1xcbiAgYmFja2dyb3VuZC1jb2xvcjojNDQ0O1xcbiAgYm9yZGVyLXJhZGl1czo1MCU7XFxuICBib3gtc2hhZG93OjAgMCA1cHggMCByZ2JhKDAsMCwwLDAuNSk7XFxuICB9XFxuICAubWFwYm94LW1hcmtlci1kcmFnLWljb24tc3RlcCB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IzNCQjJEMDtcXG4gICAgfVxcblxcbi5tYXBib3gtZGlyZWN0aW9ucy1jbGVhcmZpeDphZnRlciB7XFxuICBjb250ZW50OicnO1xcbiAgZGlzcGxheTpibG9jaztcXG4gIGhlaWdodDowO1xcbiAgY2xlYXI6Ym90aDtcXG4gIHZpc2liaWxpdHk6aGlkZGVuO1xcbiAgfVxcblxcbi8qIE1vYmlsZSAqL1xcbkBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDo2NDBweCkge1xcblxcbi8qIENvbnRhaW5lcnMgKi9cXG4uZGlyZWN0aW9ucy1jb250cm9sLmRpcmVjdGlvbnMtY29udHJvbCB7IHdpZHRoOjEwMCU7IG1heC13aWR0aDoxMDAlOyB9XFxuXFxuLyogSW5wdXQgY29udGFpbmVyICovXFxuLmRpcmVjdGlvbnMtY29udHJvbC5kaXJlY3Rpb25zLWNvbnRyb2wtaW5wdXRzIHsgdG9wOjA7bGVmdDowOyB9XFxuLm1hcGJveC1kaXJlY3Rpb25zLXByb2ZpbGUgeyBtYXJnaW46MTBweDsgfVxcblxcbi8qIEluc3RydWN0aW9ucyBjb250YWluZXIgKi9cXG4ubWFwYm94LWRpcmVjdGlvbnMtcm91dGVzIHsgZmxvYXQ6cmlnaHQ7IG1hcmdpbi1yaWdodDoxMHB4OyB9XFxuLmRpcmVjdGlvbnMtY29udHJvbC5kaXJlY3Rpb25zLWNvbnRyb2wtZGlyZWN0aW9ucyB7IHRvcDphdXRvOyBtYXgtaGVpZ2h0OjQwJTsgfVxcbi5tYXBib3gtZGlyZWN0aW9ucy1tdWx0aXBsZSB7IG1pbi1oZWlnaHQ6NTBweDsgfVxcblxcbn1cXG5cXG5ALXdlYmtpdC1rZXlmcmFtZXMgcm90YXRlIHsgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH0gdG8geyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH0gfVxcbiAgIEAtbW96LWtleWZyYW1lcyByb3RhdGUgeyBmcm9tIHsgLW1vei10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfSB0byB7IC1tb3otdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfSB9XFxuICAgIEAtbXMta2V5ZnJhbWVzIHJvdGF0ZSB7IGZyb20geyAtbXMtdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH0gdG8geyAtbXMtdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfSB9XFxuICAgICAgICBAa2V5ZnJhbWVzIHJvdGF0ZSB7IGZyb20geyB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfSB0byB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH0gfVxcblxcbi8qIGljb25zICovXFxuLmRpcmVjdGlvbnMtaWNvbiB7XFxuICBkaXNwbGF5OmlubGluZS1ibG9jaztcXG4gIHdpZHRoOjIwcHg7XFxuICBoZWlnaHQ6MjBweDtcXG4gIHZlcnRpY2FsLWFsaWduOm1pZGRsZTtcXG4gIHNwZWFrOm5vbmU7XFxuICBiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1pY29uLWFycml2ZSB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3pwemRtYzlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlNQ0lnYUdWcFoyaDBQU0l5TUNJZ2FXUTlJbk4yWnpVek1qY2lJSFpsY25OcGIyNDlJakV1TVNJZ2RtbGxkMEp2ZUQwaU1DQXdJREl3SURJd0lqNDhaR1ZtY3lCcFpEMGlaR1ZtY3pVek1qa2lMejQ4YldWMFlXUmhkR0VnYVdROUltMWxkR0ZrWVhSaE5UTXpNaUl2UGp4bklHbGtQU0pzWVhsbGNqRWlJSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0Mwek1qQXdMQzA1T1RJdU16WXlNVGdwSWo0OFp5QnBaRDBpWnpVNU16WWlJSFJ5WVc1elptOXliVDBpYldGMGNtbDRLREVzTUN3d0xDMHhMREVzTWpBd05DNDNNalEwS1NJZ2IzQmhZMmwwZVQwaU1DNDFJaTgrUEdjZ2FXUTlJbWMxT1RNeUlpQjBjbUZ1YzJadmNtMDlJblJ5WVc1emJHRjBaU2d4TEMweUtTSXZQanhuSUhSeVlXNXpabTl5YlQwaWJXRjBjbWw0S0RFc01Dd3dMQzB4TERFc01qQXlOQzQzTWpRMEtTSWdhV1E5SW1jMk1ETTRJaUJtYVd4c1BTSWpabVptSWk4K1BHY2dhV1E5SW5SbGVIUTJOakEySWlCemRIbHNaVDBpTFdsdWEzTmpZWEJsTFdadmJuUXRjM0JsWTJsbWFXTmhkR2x2YmpvblQzQmxiaUJUWVc1eklFSnZiR1FuTzJKc2IyTnJMWEJ5YjJkeVpYTnphVzl1T25SaU8yTnZiRzl5T2lOR1JrWTdaR2x5WldOMGFXOXVPbXgwY2p0a2FYTndiR0Y1T21sdWJHbHVaVHRsYm1GaWJHVXRZbUZqYTJkeWIzVnVaRHBoWTJOMWJYVnNZWFJsTzJacGJHd3RjblZzWlRwdWIyNTZaWEp2TzJacGJHdzZJMFpHUmp0bWIyNTBMV1poYldsc2VUb25UM0JsYmlCVFlXNXpKenRtYjI1MExYTnBlbVU2TVRZdU9ERTdabTl1ZEMxM1pXbG5hSFE2WW05c1pEdHNaWFIwWlhJdGMzQmhZMmx1WnpwdWIzSnRZV3c3YkdsdVpTMW9aV2xuYUhRNk1USTFPMjkyWlhKbWJHOTNPblpwYzJsaWJHVTdkR1Y0ZEMxaGJHbG5ianBqWlc1MFpYSTdkR1Y0ZEMxaGJtTm9iM0k2Yldsa1pHeGxPM1JsZUhRdFpHVmpiM0poZEdsdmJpMXNhVzVsT201dmJtVTdkR1Y0ZEMxa1pXTnZjbUYwYVc5dU9tNXZibVU3ZEdWNGRDMXBibVJsYm5RNk1EdDBaWGgwTFhSeVlXNXpabTl5YlRwdWIyNWxPM2R2Y21RdGMzQmhZMmx1WnpwdWIzSnRZV3c3ZDNKcGRHbHVaeTF0YjJSbE9teHlMWFJpSWo0OGNHRjBhQ0JrUFNKdE16SXdOaUE1T1RZdU16WWdNeTQzTXlBd2NUSXVOVFVnTUNBekxqY2dNQzQzTXlBeExqRTJJREF1TnpJZ01TNHhOaUF5TGpNeElEQWdNUzR3T0Mwd0xqVXhJREV1TnpZdE1DNDFJREF1TmprdE1TNHpOQ0F3TGpnemJEQWdNQzR3T0hFeExqRTBJREF1TWpVZ01TNDJOQ0F3TGprMUlEQXVOVEVnTUM0M0lEQXVOVEVnTVM0NE5pQXdJREV1TmpRdE1TNHhPU0F5TGpVMkxURXVNVGdnTUM0NU1pMHpMakl5SURBdU9USnNMVFF1TkRrZ01DQXdMVEV5ZW0weUxqVTBJRFF1TnpVZ01TNDBPQ0F3Y1RFdU1ETWdNQ0F4TGpRNUxUQXVNeklnTUM0ME55MHdMak15SURBdU5EY3RNUzR3TmlBd0xUQXVOamt0TUM0MU1TMHdMams0TFRBdU5TMHdMak10TVM0MU9TMHdMak5zTFRFdU16UWdNQ0F3SURJdU5qZDZiVEFnTWk0d01pQXdJRE11TVRNZ01TNDJOaUF3Y1RFdU1EVWdNQ0F4TGpVMUxUQXVOQ0F3TGpVdE1DNDBJREF1TlMweExqSXpJREF0TVM0ME9TMHlMakV6TFRFdU5EbHNMVEV1TlRnZ01Ib2lJR2xrUFNKd1lYUm9NamN5TVRJaUx6NDhMMmMrUEM5blBqd3ZjM1puUGc9PSk7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1pY29uLXNsaWdodC1sZWZ0IHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjenB6ZG1jOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU1DSWdhR1ZwWjJoMFBTSXlNQ0lnZG1WeWMybHZiajBpTVM0eElpQjJhV1YzUW05NFBTSXdJREFnTWpBZ01qQWlQanhuSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtDMHpNakF3TEMwNU9USXVNell5TVRncElqNDhjR0YwYUNCa1BTSnRNekl3TmlBNU9UWXVOQ0F3SURjdU5TQXpMakV0TXk0eElESXVPU0F6SURBZ05DNDJJRElnTUNBd0xUVXVOQzB6TGpVdE15NDFJRE10TTNvaUlHWnBiR3c5SWlOR1JrWWlMejQ4WnlCMGNtRnVjMlp2Y20wOUltMWhkSEpwZUNneExEQXNNQ3d0TVN3eExESXdNRFF1TnpJME5Da2lJRzl3WVdOcGRIazlJakF1TlNJdlBqeG5JSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0RFc0xUSXBJaTgrUEdjZ2RISmhibk5tYjNKdFBTSnRZWFJ5YVhnb01Td3dMREFzTFRFc01Td3lNREkwTGpjeU5EUXBJaUJtYVd4c1BTSWpabVptSWk4K1BDOW5Qand2YzNablBnPT0pO1xcbiAgfVxcbiAgLmRpcmVjdGlvbnMtaWNvbi1zbGlnaHQtcmlnaHQge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6cHpkbWM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TUNJZ2FHVnBaMmgwUFNJeU1DSWdkbVZ5YzJsdmJqMGlNUzR4SWlCMmFXVjNRbTk0UFNJd0lEQWdNakFnTWpBaVBqeG5JSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0Mwek1qQXdMQzA1T1RJdU16WXlNVGdwSWo0OGNHRjBhQ0JrUFNKdE16SXdOaTQxSURrNU5pNDBJRE1nTXkwekxqVWdNeTQxSURBZ05TNDBJRElnTUNBd0xUUXVOaUF5TGprdE15QXpMakVnTXk0eElEQXROeTQxZWlJZ1ptbHNiRDBpSTBaR1JpSXZQanhuSUhSeVlXNXpabTl5YlQwaWJXRjBjbWw0S0RFc01Dd3dMQzB4TERFc01qQXdOQzQzTWpRMEtTSWdiM0JoWTJsMGVUMGlNQzQxSWk4K1BHY2dkSEpoYm5ObWIzSnRQU0owY21GdWMyeGhkR1VvTVN3dE1pa2lMejQ4WnlCMGNtRnVjMlp2Y20wOUltMWhkSEpwZUNneExEQXNNQ3d0TVN3eExESXdNalF1TnpJME5Da2lJR1pwYkd3OUlpTm1abVlpTHo0OEwyYytQQzl6ZG1jKyk7XFxuICAgIH1cXG4gIC5kaXJlY3Rpb25zLWljb24tc3RyYWlnaHQge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6cHpkbWM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TUNJZ2FHVnBaMmgwUFNJeU1DSWdkbVZ5YzJsdmJqMGlNUzR4SWlCMmFXVjNRbTk0UFNJd0lEQWdNakFnTWpBaVBqeG5JSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0Mwek1qQXdMQzA1T1RJdU16WXlNVGdwSWo0OGNHRjBhQ0JrUFNKdE16SXhOUzQxSURFd01ERXVOQzAxTGpVdE5TNDFMVFV1TlNBMUxqVWdOQzQxSURBZ01DQTNJRElnTUNBd0xUZDZJaUJtYVd4c1BTSWpSa1pHSWk4K1BHY2dkSEpoYm5ObWIzSnRQU0p0WVhSeWFYZ29NU3d3TERBc0xURXNNU3d5TURBMExqY3lORFFwSWlCdmNHRmphWFI1UFNJd0xqVWlMejQ4WnlCMGNtRnVjMlp2Y20wOUluUnlZVzV6YkdGMFpTZ3hMQzB5S1NJdlBqeG5JSFJ5WVc1elptOXliVDBpYldGMGNtbDRLREVzTUN3d0xDMHhMREVzTWpBeU5DNDNNalEwS1NJZ1ptbHNiRDBpSTJabVppSXZQanh3WVhSb0lHUTlJbTB6TkRBM0lEazBOeTQwTFRJZ05pQTNMak1nTUMweUlEWWdNaUF3SURRdE1USXRNUzR5SURCNklpQm1hV3hzUFNJalptWm1JaTgrUEM5blBqd3ZjM1puUGc9PSk7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1pY29uLWRlcGFydCB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3pwemRtYzlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlNQ0lnYUdWcFoyaDBQU0l5TUNJZ2FXUTlJbk4yWnpVek1qY2lJSFpsY25OcGIyNDlJakV1TVNJZ2RtbGxkMEp2ZUQwaU1DQXdJREl3SURJd0lqNDhaR1ZtY3lCcFpEMGlaR1ZtY3pVek1qa2lMejQ4YldWMFlXUmhkR0VnYVdROUltMWxkR0ZrWVhSaE5UTXpNaUl2UGp4bklHbGtQU0pzWVhsbGNqRWlJSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0Mwek1qQXdMQzA1T1RJdU16WXlNVGdwSWo0OFp5QnBaRDBpWnpVNU16WWlJSFJ5WVc1elptOXliVDBpYldGMGNtbDRLREVzTUN3d0xDMHhMREVzTWpBd05DNDNNalEwS1NJZ2IzQmhZMmwwZVQwaU1DNDFJaTgrUEdjZ2FXUTlJbWMxT1RNeUlpQjBjbUZ1YzJadmNtMDlJblJ5WVc1emJHRjBaU2d4TEMweUtTSXZQanhuSUhSeVlXNXpabTl5YlQwaWJXRjBjbWw0S0RFc01Dd3dMQzB4TERFc01qQXlOQzQzTWpRMEtTSWdhV1E5SW1jMk1ETTRJaUJtYVd4c1BTSWpabVptSWk4K1BHY2dhV1E5SW5SbGVIUTJOVGt6SWlCemRIbHNaVDBpTFdsdWEzTmpZWEJsTFdadmJuUXRjM0JsWTJsbWFXTmhkR2x2YmpvblQzQmxiaUJUWVc1eklFSnZiR1FuTzJKc2IyTnJMWEJ5YjJkeVpYTnphVzl1T25SaU8yTnZiRzl5T2lOR1JrWTdaR2x5WldOMGFXOXVPbXgwY2p0a2FYTndiR0Y1T21sdWJHbHVaVHRsYm1GaWJHVXRZbUZqYTJkeWIzVnVaRHBoWTJOMWJYVnNZWFJsTzJacGJHd3RjblZzWlRwdWIyNTZaWEp2TzJacGJHdzZJMFpHUmp0bWIyNTBMV1poYldsc2VUb25UM0JsYmlCVFlXNXpKenRtYjI1MExYTnBlbVU2TVRZdU56UTdabTl1ZEMxM1pXbG5hSFE2WW05c1pEdHNaWFIwWlhJdGMzQmhZMmx1WnpwdWIzSnRZV3c3YkdsdVpTMW9aV2xuYUhRNk1USTFPMjkyWlhKbWJHOTNPblpwYzJsaWJHVTdkR1Y0ZEMxaGJHbG5ianBqWlc1MFpYSTdkR1Y0ZEMxaGJtTm9iM0k2Yldsa1pHeGxPM1JsZUhRdFpHVmpiM0poZEdsdmJpMXNhVzVsT201dmJtVTdkR1Y0ZEMxa1pXTnZjbUYwYVc5dU9tNXZibVU3ZEdWNGRDMXBibVJsYm5RNk1EdDBaWGgwTFhSeVlXNXpabTl5YlRwdWIyNWxPM2R2Y21RdGMzQmhZMmx1WnpwdWIzSnRZV3c3ZDNKcGRHbHVaeTF0YjJSbE9teHlMWFJpSWo0OGNHRjBhQ0JrUFNKdE16SXhNeTR3TkNBeE1EQTRMak0yTFRBdU9EY3RNaTQ0TkMwMExqTTJJREF0TUM0NE55QXlMamcwTFRJdU56TWdNQ0EwTGpJeUxURXlJRE11TVNBd0lEUXVNak1nTVRJdE1pNDNNeUF3ZW0wdE1TNDBOeTAwTGprM2NTMHhMakl0TXk0NE55MHhMak0yTFRRdU16Y3RNQzR4TlMwd0xqVXhMVEF1TWpFdE1DNDRMVEF1TWpjZ01TNHdOUzB4TGpVMElEVXVNVGRzTXk0eE1TQXdlaUlnYVdROUluQmhkR2d5TnpJd09TSXZQand2Wno0OEwyYytQQzl6ZG1jKyk7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1pY29uLXJvdW5kYWJvdXQge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6cHpkbWM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TUNJZ2FHVnBaMmgwUFNJeU1DSWdkbVZ5YzJsdmJqMGlNUzR4SWlCMmFXVjNRbTk0UFNJd0lEQWdNakFnTWpBaVBqeG5JSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0Mwek1qQXdMQzA1T1RJdU16WXlNVGdwSWo0OGNHRjBhQ0JrUFNKdE16SXhNQ0E1T1RVdU5HTXRNUzQxSURBdE15NHhJREF1TmkwMExqSWdNUzQzTFRJdU15QXlMak10TWk0eklEWXVNaUF3SURndU5Xd3hMalF0TVM0MFl5MHhMall0TVM0MkxURXVOaTAwTGpFZ01DMDFMallnTVM0MkxURXVOaUEwTGpFdE1TNDJJRFV1TmlBd0lERXVOaUF4TGpZZ01TNDJJRFF1TVNBd0lEVXVOaTB3TGpnZ01DNDRMVEV1T0NBeExqSXRNaTQ0SURFdU1td3RNU0F3SURBZ05DQXlJREFnTUMweUxqRmpNUzR5TFRBdU1pQXlMalF0TUM0NElETXVNeTB4TGpjZ01pNHpMVEl1TXlBeUxqTXROaTR5SURBdE9DNDFMVEV1TWkweExqSXRNaTQzTFRFdU55MDBMakl0TVM0M2VpSWdjM1I1YkdVOUlpMXBibXR6WTJGd1pTMW1iMjUwTFhOd1pXTnBabWxqWVhScGIyNDZVMkZ1Y3p0aVlYTmxiR2x1WlMxemFHbG1kRHBpWVhObGJHbHVaVHRpYkc5amF5MXdjbTluY21WemMybHZianAwWWp0a2FYSmxZM1JwYjI0NmJIUnlPMlpwYkd3NkkwWkdSanRtYjI1MExXWmhiV2xzZVRwVFlXNXpPMlp2Ym5RdGMybDZaVHB0WldScGRXMDdiR1YwZEdWeUxYTndZV05wYm1jNmJtOXliV0ZzTzJ4cGJtVXRhR1ZwWjJoME9tNXZjbTFoYkR0MFpYaDBMV0ZzYVdkdU9uTjBZWEowTzNSbGVIUXRZVzVqYUc5eU9uTjBZWEowTzNSbGVIUXRaR1ZqYjNKaGRHbHZiaTFzYVc1bE9tNXZibVU3ZEdWNGRDMWtaV052Y21GMGFXOXVPbTV2Ym1VN2RHVjRkQzFwYm1SbGJuUTZNRHQwWlhoMExYUnlZVzV6Wm05eWJUcHViMjVsTzNkdmNtUXRjM0JoWTJsdVp6cHViM0p0WVd3N2QzSnBkR2x1WnkxdGIyUmxPbXh5TFhSaUlpOCtQR2NnZEhKaGJuTm1iM0p0UFNKdFlYUnlhWGdvTVN3d0xEQXNMVEVzTVN3eU1EQTBMamN5TkRRcElpQnZjR0ZqYVhSNVBTSXdMalVpTHo0OFp5QjBjbUZ1YzJadmNtMDlJblJ5WVc1emJHRjBaU2d4TEMweUtTSXZQanhuSUhSeVlXNXpabTl5YlQwaWJXRjBjbWw0S0RFc01Dd3dMQzB4TERFc01qQXlOQzQzTWpRMEtTSWdabWxzYkQwaUkyWm1aaUl2UGp3dlp6NDhMM04yWno0PSk7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1pY29uLWVycm9yIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjenB6ZG1jOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU1DSWdhR1ZwWjJoMFBTSXlNQ0lnZG1WeWMybHZiajBpTVM0eElpQjJhV1YzUW05NFBTSXdJREFnTWpBZ01qQWlQanhuSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtDMHpNakF3TEMwNU9USXVNell5TVRncElqNDhaeUIwY21GdWMyWnZjbTA5SW0xaGRISnBlQ2d4TERBc01Dd3RNU3d4TERJd01EUXVOekkwTkNraUlHOXdZV05wZEhrOUlqQXVOU0l2UGp4bklIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLREVzTFRJcElpOCtQR2NnZEhKaGJuTm1iM0p0UFNKdFlYUnlhWGdvTVN3d0xEQXNMVEVzTVN3eU1ESTBMamN5TkRRcElpQm1hV3hzUFNJalptWm1JaTgrUEhCaGRHZ2daRDBpYlRNeU1UQWdPVGsyTGpSakxUQXVOaUF3TFRFdU1pQXdMak10TVM0MUlEQXVPR3d0TkM0eklEa3VNbU10TUM0MUlEQXVPQ0F3SURJZ01TNHhJREpzTkM0M0lEQWdOQzQzSURCak1TNHhJREFnTVM0MkxURXVNaUF4TGpFdE1td3ROQzR6TFRrdU1tTXRNQzR6TFRBdU5TMHdMamt0TUM0NExURXVOUzB3TGpoNmJUQWdNeUF4SURFZ01DQXpMVElnTUNBd0xUTjZiUzB4SURVZ01pQXdJREFnTWkweUlEQjZJaUJtYVd4c1BTSWpNREF3SWk4K1BDOW5Qand2YzNablBnPT0pO1xcbiAgfVxcbiAgLmRpcmVjdGlvbnMtaWNvbi1yZXZlcnNlIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjenB6ZG1jOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU1DSWdhR1ZwWjJoMFBTSXlNQ0lnZG1WeWMybHZiajBpTVM0eElpQjJhV1YzUW05NFBTSXdJREFnTWpBZ01qQWlQanhuSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtDMHpNakF3TEMwNU9USXVNell5TVRncElqNDhaeUIwY21GdWMyWnZjbTA5SW0xaGRISnBlQ2d4TERBc01Dd3RNU3d4TERJd01EUXVOekkwTkNraUlHOXdZV05wZEhrOUlqQXVOU0l2UGp4bklIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLREVzTFRJcElpOCtQR2NnZEhKaGJuTm1iM0p0UFNKdFlYUnlhWGdvTVN3d0xEQXNMVEVzTVN3eU1ESTBMamN5TkRRcElpQm1hV3hzUFNJalptWm1JaTgrUEhCaGRHZ2daRDBpYlRNeU1UQWdPVGsxTGprdE5DNDFJRFF1TlNBekxqVWdNQ0F3SURRdE15NDFJREFnTkM0MUlEUXVOU0EwTGpVdE5DNDFMVE11TlNBd0lEQXROQ0F6TGpVZ01DMDBMalV0TkM0MWVpSWdabWxzYkQwaUl6QXdNQ0l2UGp3dlp6NDhMM04yWno0PSk7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1pY29uLXNoYXJwLWxlZnQge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6cHpkbWM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TUNJZ2FHVnBaMmgwUFNJeU1DSWdkbVZ5YzJsdmJqMGlNUzR4SWlCMmFXVjNRbTk0UFNJd0lEQWdNakFnTWpBaVBqeG5JSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0Mwek1qQXdMQzA1T1RJdU16WXlNVGdwSWo0OGNHRjBhQ0JrUFNKdE16SXhNeTQySURrNU5pNDBMVFl1TlNBMkxqVXRNeTB6SURBZ055NDFJRGN1TlNBd0xUTXVNUzB6TGpFZ05DNDJMVFF1TlNBd0lEVXVOaUF5SURBZ01DMDRMVEV1TkMweGVpSWdabWxzYkQwaUkwWkdSaUl2UGp4bklIUnlZVzV6Wm05eWJUMGliV0YwY21sNEtERXNNQ3d3TEMweExERXNNakF3TkM0M01qUTBLU0lnYjNCaFkybDBlVDBpTUM0MUlpOCtQR2NnZEhKaGJuTm1iM0p0UFNKMGNtRnVjMnhoZEdVb01Td3RNaWtpTHo0OFp5QjBjbUZ1YzJadmNtMDlJbTFoZEhKcGVDZ3hMREFzTUN3dE1Td3hMREl3TWpRdU56STBOQ2tpSUdacGJHdzlJaU5tWm1ZaUx6NDhMMmMrUEM5emRtYyspO1xcbiAgfVxcbiAgLmRpcmVjdGlvbnMtaWNvbi1zaGFycC1yaWdodCB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3pwemRtYzlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlNQ0lnYUdWcFoyaDBQU0l5TUNJZ2RtVnljMmx2YmowaU1TNHhJaUIyYVdWM1FtOTRQU0l3SURBZ01qQWdNakFpUGp4bklIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLQzB6TWpBd0xDMDVPVEl1TXpZeU1UZ3BJajQ4Y0dGMGFDQmtQU0p0TXpJd05pNDBJRGs1Tmk0MExURXVOQ0F4SURBZ09DQXlJREFnTUMwMUxqWWdOQzQySURRdU5TMHpMakVnTXk0eElEY3VOU0F3SURBdE55NDFMVE1nTXkwMkxqVXROaTQxZWlJZ1ptbHNiRDBpSTBaR1JpSXZQanhuSUhSeVlXNXpabTl5YlQwaWJXRjBjbWw0S0RFc01Dd3dMQzB4TERFc01qQXdOQzQzTWpRMEtTSWdiM0JoWTJsMGVUMGlNQzQxSWk4K1BHY2dkSEpoYm5ObWIzSnRQU0owY21GdWMyeGhkR1VvTVN3dE1pa2lMejQ4WnlCMGNtRnVjMlp2Y20wOUltMWhkSEpwZUNneExEQXNNQ3d0TVN3eExESXdNalF1TnpJME5Da2lJR1pwYkd3OUlpTm1abVlpTHo0OGNHRjBhQ0JrUFNKdE16UXdOeUE1TkRjdU5DMHlJRFlnTnk0eklEQXRNaUEySURJZ01DQTBMVEV5TFRFdU1pQXdlaUlnWm1sc2JEMGlJMlptWmlJdlBqd3ZaejQ4TDNOMlp6ND0pO1xcbiAgfVxcbiAgLmRpcmVjdGlvbnMtaWNvbi1sZWZ0IHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjenB6ZG1jOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU1DSWdhR1ZwWjJoMFBTSXlNQ0lnZG1WeWMybHZiajBpTVM0eElpQjJhV1YzUW05NFBTSXdJREFnTWpBZ01qQWlQanhuSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtDMHpNakF3TEMwNU9USXVNell5TVRncElqNDhjR0YwYUNCa1BTSnRNekl3T1NBNU9UVXVPU0F3SURRdU5TQTFJREFnTVNBeElEQWdOaTB5SURBZ01DMDFMVFFnTUNBd0lEUXVOUzAxTGpVdE5TNDFlaUlnYzNSNWJHVTlJaTFwYm10elkyRndaUzFtYjI1MExYTndaV05wWm1sallYUnBiMjQ2VTJGdWN6dGlZWE5sYkdsdVpTMXphR2xtZERwaVlYTmxiR2x1WlR0aWJHOWpheTF3Y205bmNtVnpjMmx2YmpwMFlqdGthWEpsWTNScGIyNDZiSFJ5TzJacGJHdzZJMFpHUmp0bWIyNTBMV1poYldsc2VUcFRZVzV6TzJadmJuUXRjMmw2WlRwdFpXUnBkVzA3YkdWMGRHVnlMWE53WVdOcGJtYzZibTl5YldGc08yeHBibVV0YUdWcFoyaDBPbTV2Y20xaGJEdDBaWGgwTFdGc2FXZHVPbk4wWVhKME8zUmxlSFF0WVc1amFHOXlPbk4wWVhKME8zUmxlSFF0WkdWamIzSmhkR2x2Ymkxc2FXNWxPbTV2Ym1VN2RHVjRkQzFrWldOdmNtRjBhVzl1T201dmJtVTdkR1Y0ZEMxcGJtUmxiblE2TUR0MFpYaDBMWFJ5WVc1elptOXliVHB1YjI1bE8zZHZjbVF0YzNCaFkybHVaenB1YjNKdFlXdzdkM0pwZEdsdVp5MXRiMlJsT214eUxYUmlJaTgrUEdjZ2RISmhibk5tYjNKdFBTSnRZWFJ5YVhnb01Td3dMREFzTFRFc01Td3lNREEwTGpjeU5EUXBJaUJ2Y0dGamFYUjVQU0l3TGpVaUx6NDhaeUIwY21GdWMyWnZjbTA5SW5SeVlXNXpiR0YwWlNneExDMHlLU0l2UGp4bklIUnlZVzV6Wm05eWJUMGliV0YwY21sNEtERXNNQ3d3TEMweExERXNNakF5TkM0M01qUTBLU0lnWm1sc2JEMGlJMlptWmlJdlBqd3ZaejQ4TDNOMlp6ND0pO1xcbiAgfVxcbiAgLmRpcmVjdGlvbnMtaWNvbi1yaWdodCB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3pwemRtYzlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlNQ0lnYUdWcFoyaDBQU0l5TUNJZ2RtVnljMmx2YmowaU1TNHhJaUIyYVdWM1FtOTRQU0l3SURBZ01qQWdNakFpUGp4bklIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLQzB6TWpBd0xDMDVPVEl1TXpZeU1UZ3BJajQ4Y0dGMGFDQmtQU0p0TXpJeE1TQTVPVFV1T1NBd0lEUXVOUzAxSURBdE1TQXhJREFnTmlBeUlEQWdNQzAxSURRZ01DQXdJRFF1TlNBMUxqVXROUzQxZWlJZ2MzUjViR1U5SWkxcGJtdHpZMkZ3WlMxbWIyNTBMWE53WldOcFptbGpZWFJwYjI0NlUyRnVjenRpWVhObGJHbHVaUzF6YUdsbWREcGlZWE5sYkdsdVpUdGliRzlqYXkxd2NtOW5jbVZ6YzJsdmJqcDBZanRrYVhKbFkzUnBiMjQ2YkhSeU8yWnBiR3c2STBaR1JqdG1iMjUwTFdaaGJXbHNlVHBUWVc1ek8yWnZiblF0YzJsNlpUcHRaV1JwZFcwN2JHVjBkR1Z5TFhOd1lXTnBibWM2Ym05eWJXRnNPMnhwYm1VdGFHVnBaMmgwT201dmNtMWhiRHQwWlhoMExXRnNhV2R1T25OMFlYSjBPM1JsZUhRdFlXNWphRzl5T25OMFlYSjBPM1JsZUhRdFpHVmpiM0poZEdsdmJpMXNhVzVsT201dmJtVTdkR1Y0ZEMxa1pXTnZjbUYwYVc5dU9tNXZibVU3ZEdWNGRDMXBibVJsYm5RNk1EdDBaWGgwTFhSeVlXNXpabTl5YlRwdWIyNWxPM2R2Y21RdGMzQmhZMmx1WnpwdWIzSnRZV3c3ZDNKcGRHbHVaeTF0YjJSbE9teHlMWFJpSWk4K1BHY2dkSEpoYm5ObWIzSnRQU0p0WVhSeWFYZ29NU3d3TERBc0xURXNNU3d5TURBMExqY3lORFFwSWlCdmNHRmphWFI1UFNJd0xqVWlMejQ4WnlCMGNtRnVjMlp2Y20wOUluUnlZVzV6YkdGMFpTZ3hMQzB5S1NJdlBqeG5JSFJ5WVc1elptOXliVDBpYldGMGNtbDRLREVzTUN3d0xDMHhMREVzTWpBeU5DNDNNalEwS1NJZ1ptbHNiRDBpSTJabVppSXZQanh3WVhSb0lHUTlJbTB6TkRBM0lEazBOeTQwTFRJZ05pQTNMak1nTUMweUlEWWdNaUF3SURRdE1USXRNUzR5SURCNklpQm1hV3hzUFNJalptWm1JaTgrUEM5blBqd3ZjM1puUGc9PSk7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1pY29uLXUtdHVybiB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3pwemRtYzlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlNQ0lnYUdWcFoyaDBQU0l5TUNJZ2RtVnljMmx2YmowaU1TNHhJaUIyYVdWM1FtOTRQU0l3SURBZ01qQWdNakFpUGp4bklIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLQzB6TWpBd0xDMDVPVEl1TXpZeU1UZ3BJajQ4Y0dGMGFDQmtQU0p0TXpJd09TQTVPVFl1TkdNdE1TNDNJREF0TXk0eElEQXVOaTB6TGprZ01TNDJMVEF1T0NBeExURXVNU0F5TGpJdE1TNHhJRE11Tkd3d0lEWWdNaUF3SURBdE5tTXdMVEF1T0NBd0xqSXRNUzQySURBdU55MHlMakVnTUM0MExUQXVOU0F4TGpFdE1DNDVJREl1TXkwd0xqa2dNUzR6SURBZ01TNDVJREF1TkNBeUxqTWdNQzQ1SURBdU5DQXdMalVnTUM0M0lERXVNeUF3TGpjZ01pNHhiREFnTWkwMExqVWdNQ0ExTGpVZ05TNDFJRFV1TlMwMUxqVXROQzQxSURBZ01DMHlZekF0TVM0eUxUQXVNeTB5TGpRdE1TNHhMVE11TkMwd0xqZ3RNUzB5TGpJdE1TNDJMVE11T1MweExqWjZJaUJ6ZEhsc1pUMGlMV2x1YTNOallYQmxMV1p2Ym5RdGMzQmxZMmxtYVdOaGRHbHZianBUWVc1ek8ySmhjMlZzYVc1bExYTm9hV1owT21KaGMyVnNhVzVsTzJKc2IyTnJMWEJ5YjJkeVpYTnphVzl1T25SaU8yUnBjbVZqZEdsdmJqcHNkSEk3Wm1sc2JEb2pSa1pHTzJadmJuUXRabUZ0YVd4NU9sTmhibk03Wm05dWRDMXphWHBsT20xbFpHbDFiVHRzWlhSMFpYSXRjM0JoWTJsdVp6cHViM0p0WVd3N2JHbHVaUzFvWldsbmFIUTZibTl5YldGc08zUmxlSFF0WVd4cFoyNDZjM1JoY25RN2RHVjRkQzFoYm1Ob2IzSTZjM1JoY25RN2RHVjRkQzFrWldOdmNtRjBhVzl1TFd4cGJtVTZibTl1WlR0MFpYaDBMV1JsWTI5eVlYUnBiMjQ2Ym05dVpUdDBaWGgwTFdsdVpHVnVkRG93TzNSbGVIUXRkSEpoYm5ObWIzSnRPbTV2Ym1VN2QyOXlaQzF6Y0dGamFXNW5PbTV2Y20xaGJEdDNjbWwwYVc1bkxXMXZaR1U2YkhJdGRHSWlMejQ4WnlCMGNtRnVjMlp2Y20wOUltMWhkSEpwZUNneExEQXNNQ3d0TVN3eExESXdNRFF1TnpJME5Da2lJRzl3WVdOcGRIazlJakF1TlNJdlBqeG5JSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0RFc0xUSXBJaTgrUEdjZ2RISmhibk5tYjNKdFBTSnRZWFJ5YVhnb01Td3dMREFzTFRFc01Td3lNREkwTGpjeU5EUXBJaUJtYVd4c1BTSWpabVptSWk4K1BDOW5Qand2YzNablBnPT0pO1xcbiAgfVxcbiAgLmRpcmVjdGlvbnMtaWNvbi13YXlwb2ludCB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3pwemRtYzlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlNQ0lnYUdWcFoyaDBQU0l5TUNJZ2RtVnljMmx2YmowaU1TNHhJaUIyYVdWM1FtOTRQU0l3SURBZ01qQWdNakFpUGp4bklIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLQzB6TWpBd0xDMDVPVEl1TXpZeU1UZ3BJajQ4WnlCMGNtRnVjMlp2Y20wOUltMWhkSEpwZUNneExEQXNNQ3d0TVN3eExESXdNRFF1TnpJME5Da2lJRzl3WVdOcGRIazlJakF1TlNJdlBqeG5JSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0RFc0xUSXBJaTgrUEdjZ2RISmhibk5tYjNKdFBTSnRZWFJ5YVhnb01Td3dMREFzTFRFc01Td3lNREkwTGpjeU5EUXBJaUJtYVd4c1BTSWpabVptSWk4K1BIQmhkR2dnWkQwaWJUTXlNVFVnTVRBd01TNDBZekFnTWk0NExUVWdPQzAxSURnZ01DQXdMVFV0TlM0eUxUVXRPQ0F3TFRJdU9DQXlMakl0TlNBMUxUVWdNaTQ0SURBZ05TQXlMaklnTlNBMWVpSWdabWxzYkQwaUkwWkdSaUl2UGp3dlp6NDhMM04yWno0PSk7XFxuICB9XFxuXCIsXCJcIl0pfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb247aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7aWYoIWV8fFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiBlO3ZhciBuPXQucHJvdG9jb2wrXCIvL1wiK3QuaG9zdCxpPW4rdC5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sXCIvXCIpO3JldHVybiBlLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLChmdW5jdGlvbihlLHQpe3ZhciByLG89dC50cmltKCkucmVwbGFjZSgvXlwiKC4qKVwiJC8sKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KSkucmVwbGFjZSgvXicoLiopJyQvLChmdW5jdGlvbihlLHQpe3JldHVybiB0fSkpO3JldHVybi9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3Qobyk/ZToocj0wPT09by5pbmRleE9mKFwiLy9cIik/bzowPT09by5pbmRleE9mKFwiL1wiKT9uK286aStvLnJlcGxhY2UoL15cXC5cXC8vLFwiXCIpLFwidXJsKFwiK0pTT04uc3RyaW5naWZ5KHIpK1wiKVwiKX0pKX19LCxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5kZWZhdWx0fX0pO3ZhciByPWkobigxNTMpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDQpKSxhPWkobigxKSkscz0oaShuKDMpKSxpKG4oOCkpKSxsPWkobigxNTQpKSxjPWkobigxNzUpKSx1PWkobigxODMpKSxoPW4oMTYpLGQ9aShuKDkpKSxwPWZ1bmN0aW9uKGUpe3JldHVybntyb290Ontjb2xvcjplLnBhbGV0dGUudGV4dC5zZWNvbmRhcnl9LGNoZWNrZWQ6e30sZGlzYWJsZWQ6e30sY29sb3JQcmltYXJ5OntcIiYkY2hlY2tlZFwiOntjb2xvcjplLnBhbGV0dGUucHJpbWFyeS5tYWlufSxcIiYkZGlzYWJsZWRcIjp7Y29sb3I6ZS5wYWxldHRlLmFjdGlvbi5kaXNhYmxlZH19LGNvbG9yU2Vjb25kYXJ5OntcIiYkY2hlY2tlZFwiOntjb2xvcjplLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW59LFwiJiRkaXNhYmxlZFwiOntjb2xvcjplLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkfX19fTt0LnN0eWxlcz1wO3ZhciBmPWEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGMuZGVmYXVsdCxudWxsKSxtPWEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHUuZGVmYXVsdCxudWxsKTtmdW5jdGlvbiBnKGUpe3ZhciB0PWUuY2xhc3NlcyxuPWUuY29sb3IsaT0oMCxvLmRlZmF1bHQpKGUsW1wiY2xhc3Nlc1wiLFwiY29sb3JcIl0pO3JldHVybiBhLmRlZmF1bHQuY3JlYXRlRWxlbWVudChsLmRlZmF1bHQsKDAsci5kZWZhdWx0KSh7dHlwZTpcInJhZGlvXCIsaWNvbjpmLGNoZWNrZWRJY29uOm0sY2xhc3Nlczp7cm9vdDooMCxzLmRlZmF1bHQpKHQucm9vdCx0W1wiY29sb3JcIi5jb25jYXQoKDAsaC5jYXBpdGFsaXplKShuKSldKSxjaGVja2VkOnQuY2hlY2tlZCxkaXNhYmxlZDp0LmRpc2FibGVkfX0saSkpfWcuZGVmYXVsdFByb3BzPXtjb2xvcjpcInNlY29uZGFyeVwifTt2YXIgeT0oMCxkLmRlZmF1bHQpKHAse25hbWU6XCJNdWlSYWRpb1wifSkoZyk7dC5kZWZhdWx0PXl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnN0eWxlcz12b2lkIDA7dmFyIHI9aShuKDIpKSxvPWkobig1KSksYT1pKG4oNCkpLHM9aShuKDEwKSksbD1pKG4oMTEpKSxjPWkobigxMikpLHU9aShuKDEzKSksaD1pKG4oMTQpKSxkPWkobigxKSkscD0oaShuKDMpKSxpKG4oOCkpKSxmPWkobigzOSkpLG09aShuKDkpKSxnPWkobigxNTUpKSx5PXtyb290OntkaXNwbGF5OlwiaW5saW5lLWZsZXhcIixhbGlnbkl0ZW1zOlwiY2VudGVyXCIsdHJhbnNpdGlvbjpcIm5vbmVcIixcIiY6aG92ZXJcIjp7YmFja2dyb3VuZENvbG9yOlwidHJhbnNwYXJlbnRcIn19LGNoZWNrZWQ6e30sZGlzYWJsZWQ6e30saW5wdXQ6e2N1cnNvcjpcImluaGVyaXRcIixwb3NpdGlvbjpcImFic29sdXRlXCIsb3BhY2l0eTowLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIix0b3A6MCxsZWZ0OjAsbWFyZ2luOjAscGFkZGluZzowfX07dC5zdHlsZXM9eTt2YXIgXz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciBuO3JldHVybigwLHMuZGVmYXVsdCkodGhpcyx0KSwobj0oMCxjLmRlZmF1bHQpKHRoaXMsKDAsdS5kZWZhdWx0KSh0KS5jYWxsKHRoaXMpKSkuaGFuZGxlRm9jdXM9ZnVuY3Rpb24oZSl7bi5wcm9wcy5vbkZvY3VzJiZuLnByb3BzLm9uRm9jdXMoZSk7dmFyIHQ9bi5wcm9wcy5tdWlGb3JtQ29udHJvbDt0JiZ0Lm9uRm9jdXMmJnQub25Gb2N1cyhlKX0sbi5oYW5kbGVCbHVyPWZ1bmN0aW9uKGUpe24ucHJvcHMub25CbHVyJiZuLnByb3BzLm9uQmx1cihlKTt2YXIgdD1uLnByb3BzLm11aUZvcm1Db250cm9sO3QmJnQub25CbHVyJiZ0Lm9uQmx1cihlKX0sbi5oYW5kbGVJbnB1dENoYW5nZT1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC5jaGVja2VkO24uaXNDb250cm9sbGVkfHxuLnNldFN0YXRlKHtjaGVja2VkOnR9KSxuLnByb3BzLm9uQ2hhbmdlJiZuLnByb3BzLm9uQ2hhbmdlKGUsdCl9LG4uaXNDb250cm9sbGVkPW51bGwhPWUuY2hlY2tlZCxuLnN0YXRlPXt9LG4uaXNDb250cm9sbGVkfHwobi5zdGF0ZS5jaGVja2VkPXZvaWQgMCE9PWUuZGVmYXVsdENoZWNrZWQmJmUuZGVmYXVsdENoZWNrZWQpLG59cmV0dXJuKDAsaC5kZWZhdWx0KSh0LGUpLCgwLGwuZGVmYXVsdCkodCxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLnByb3BzLG49dC5hdXRvRm9jdXMsaT10LmNoZWNrZWQscz10LmNoZWNrZWRJY29uLGw9dC5jbGFzc2VzLGM9dC5jbGFzc05hbWUsdT10LmRlZmF1bHRDaGVja2VkLGg9dC5kaXNhYmxlZCxmPXQuaWNvbixtPXQuaWQseT10LmlucHV0UHJvcHMsXz10LmlucHV0UmVmLHY9dC5tdWlGb3JtQ29udHJvbCx4PXQubmFtZSxiPSh0Lm9uQmx1cix0Lm9uQ2hhbmdlLHQub25Gb2N1cyx0LnJlYWRPbmx5KSx3PXQucmVxdWlyZWQsVD10LnRhYkluZGV4LEU9dC50eXBlLFM9dC52YWx1ZSxNPSgwLGEuZGVmYXVsdCkodCxbXCJhdXRvRm9jdXNcIixcImNoZWNrZWRcIixcImNoZWNrZWRJY29uXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImRlZmF1bHRDaGVja2VkXCIsXCJkaXNhYmxlZFwiLFwiaWNvblwiLFwiaWRcIixcImlucHV0UHJvcHNcIixcImlucHV0UmVmXCIsXCJtdWlGb3JtQ29udHJvbFwiLFwibmFtZVwiLFwib25CbHVyXCIsXCJvbkNoYW5nZVwiLFwib25Gb2N1c1wiLFwicmVhZE9ubHlcIixcInJlcXVpcmVkXCIsXCJ0YWJJbmRleFwiLFwidHlwZVwiLFwidmFsdWVcIl0pLEk9aDt2JiZ2b2lkIDA9PT1JJiYoST12LmRpc2FibGVkKTt2YXIgQz10aGlzLmlzQ29udHJvbGxlZD9pOnRoaXMuc3RhdGUuY2hlY2tlZCxrPVwiY2hlY2tib3hcIj09PUV8fFwicmFkaW9cIj09PUU7cmV0dXJuIGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGcuZGVmYXVsdCwoMCxyLmRlZmF1bHQpKHtjb21wb25lbnQ6XCJzcGFuXCIsY2xhc3NOYW1lOigwLHAuZGVmYXVsdCkobC5yb290LChlPXt9LCgwLG8uZGVmYXVsdCkoZSxsLmNoZWNrZWQsQyksKDAsby5kZWZhdWx0KShlLGwuZGlzYWJsZWQsSSksZSksYyksZGlzYWJsZWQ6SSx0YWJJbmRleDpudWxsLHJvbGU6dm9pZCAwLG9uRm9jdXM6dGhpcy5oYW5kbGVGb2N1cyxvbkJsdXI6dGhpcy5oYW5kbGVCbHVyfSxNKSxDP3M6ZixkLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImlucHV0XCIsKDAsci5kZWZhdWx0KSh7YXV0b0ZvY3VzOm4sY2hlY2tlZDppLGRlZmF1bHRDaGVja2VkOnUsY2xhc3NOYW1lOmwuaW5wdXQsZGlzYWJsZWQ6SSxpZDprJiZtLG5hbWU6eCxvbkNoYW5nZTp0aGlzLmhhbmRsZUlucHV0Q2hhbmdlLHJlYWRPbmx5OmIscmVmOl8scmVxdWlyZWQ6dyx0YWJJbmRleDpULHR5cGU6RSx2YWx1ZTpTfSx5KSkpfX1dKSx0fShkLmRlZmF1bHQuQ29tcG9uZW50KSx2PSgwLG0uZGVmYXVsdCkoeSx7bmFtZTpcIk11aVByaXZhdGVTd2l0Y2hCYXNlXCJ9KSgoMCxmLmRlZmF1bHQpKF8pKTt0LmRlZmF1bHQ9dn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZGVmYXVsdH19KTt2YXIgcj1pKG4oMTU2KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnN0eWxlcz12b2lkIDA7dmFyIHI9aShuKDIpKSxvPWkobig1KSksYT1pKG4oNCkpLHM9aShuKDEpKSxsPShpKG4oMykpLGkobig4KSkpLGM9KG4oNyksaShuKDkpKSksdT1uKDQ0KSxoPWkobigxNTcpKSxkPW4oMTYpLHA9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e3RleHRBbGlnbjpcImNlbnRlclwiLGZsZXg6XCIwIDAgYXV0b1wiLGZvbnRTaXplOmUudHlwb2dyYXBoeS5weFRvUmVtKDI0KSxwYWRkaW5nOjEyLGJvcmRlclJhZGl1czpcIjUwJVwiLG92ZXJmbG93OlwidmlzaWJsZVwiLGNvbG9yOmUucGFsZXR0ZS5hY3Rpb24uYWN0aXZlLHRyYW5zaXRpb246ZS50cmFuc2l0aW9ucy5jcmVhdGUoXCJiYWNrZ3JvdW5kLWNvbG9yXCIse2R1cmF0aW9uOmUudHJhbnNpdGlvbnMuZHVyYXRpb24uc2hvcnRlc3R9KSxcIiY6aG92ZXJcIjp7YmFja2dyb3VuZENvbG9yOigwLHUuZmFkZSkoZS5wYWxldHRlLmFjdGlvbi5hY3RpdmUsZS5wYWxldHRlLmFjdGlvbi5ob3Zlck9wYWNpdHkpLFwiQG1lZGlhIChob3Zlcjogbm9uZSlcIjp7YmFja2dyb3VuZENvbG9yOlwidHJhbnNwYXJlbnRcIn0sXCImJGRpc2FibGVkXCI6e2JhY2tncm91bmRDb2xvcjpcInRyYW5zcGFyZW50XCJ9fSxcIiYkZGlzYWJsZWRcIjp7Y29sb3I6ZS5wYWxldHRlLmFjdGlvbi5kaXNhYmxlZH19LGNvbG9ySW5oZXJpdDp7Y29sb3I6XCJpbmhlcml0XCJ9LGNvbG9yUHJpbWFyeTp7Y29sb3I6ZS5wYWxldHRlLnByaW1hcnkubWFpbixcIiY6aG92ZXJcIjp7YmFja2dyb3VuZENvbG9yOigwLHUuZmFkZSkoZS5wYWxldHRlLnByaW1hcnkubWFpbixlLnBhbGV0dGUuYWN0aW9uLmhvdmVyT3BhY2l0eSksXCJAbWVkaWEgKGhvdmVyOiBub25lKVwiOntiYWNrZ3JvdW5kQ29sb3I6XCJ0cmFuc3BhcmVudFwifX19LGNvbG9yU2Vjb25kYXJ5Ontjb2xvcjplLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXCImOmhvdmVyXCI6e2JhY2tncm91bmRDb2xvcjooMCx1LmZhZGUpKGUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixlLnBhbGV0dGUuYWN0aW9uLmhvdmVyT3BhY2l0eSksXCJAbWVkaWEgKGhvdmVyOiBub25lKVwiOntiYWNrZ3JvdW5kQ29sb3I6XCJ0cmFuc3BhcmVudFwifX19LGRpc2FibGVkOnt9LGxhYmVsOnt3aWR0aDpcIjEwMCVcIixkaXNwbGF5OlwiZmxleFwiLGFsaWduSXRlbXM6XCJpbmhlcml0XCIsanVzdGlmeUNvbnRlbnQ6XCJpbmhlcml0XCJ9fX07ZnVuY3Rpb24gZihlKXt2YXIgdCxuPWUuY2hpbGRyZW4saT1lLmNsYXNzZXMsYz1lLmNsYXNzTmFtZSx1PWUuY29sb3IscD1lLmRpc2FibGVkLGY9KDAsYS5kZWZhdWx0KShlLFtcImNoaWxkcmVuXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbG9yXCIsXCJkaXNhYmxlZFwiXSk7cmV0dXJuIHMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGguZGVmYXVsdCwoMCxyLmRlZmF1bHQpKHtjbGFzc05hbWU6KDAsbC5kZWZhdWx0KShpLnJvb3QsKHQ9e30sKDAsby5kZWZhdWx0KSh0LGlbXCJjb2xvclwiLmNvbmNhdCgoMCxkLmNhcGl0YWxpemUpKHUpKV0sXCJkZWZhdWx0XCIhPT11KSwoMCxvLmRlZmF1bHQpKHQsaS5kaXNhYmxlZCxwKSx0KSxjKSxjZW50ZXJSaXBwbGU6ITAsZm9jdXNSaXBwbGU6ITAsZGlzYWJsZWQ6cH0sZikscy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTppLmxhYmVsfSxuKSl9dC5zdHlsZXM9cCxmLmRlZmF1bHRQcm9wcz17Y29sb3I6XCJkZWZhdWx0XCIsZGlzYWJsZWQ6ITF9O3ZhciBtPSgwLGMuZGVmYXVsdCkocCx7bmFtZTpcIk11aUljb25CdXR0b25cIn0pKGYpO3QuZGVmYXVsdD1tfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5kZWZhdWx0fX0pO3ZhciByPWkobigxNTgpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDUpKSxhPWkobig0KSkscz1pKG4oMTApKSxsPWkobigxMSkpLGM9aShuKDEyKSksdT1pKG4oMTMpKSxoPWkobigxNCkpLGQ9aShuKDMzKSkscD1pKG4oMSkpLGY9KGkobigzKSksaShuKDE5KSkpLG09aShuKDgpKSxnPShuKDcpLGkobigxNTkpKSkseT1pKG4oOSkpLF89aShuKDE2MCkpLHY9bigxNjIpLHg9aShuKDE2MykpLGI9aShuKDE3NCkpLHc9e3Jvb3Q6e2Rpc3BsYXk6XCJpbmxpbmUtZmxleFwiLGFsaWduSXRlbXM6XCJjZW50ZXJcIixqdXN0aWZ5Q29udGVudDpcImNlbnRlclwiLHBvc2l0aW9uOlwicmVsYXRpdmVcIixXZWJraXRUYXBIaWdobGlnaHRDb2xvcjpcInRyYW5zcGFyZW50XCIsYmFja2dyb3VuZENvbG9yOlwidHJhbnNwYXJlbnRcIixvdXRsaW5lOlwibm9uZVwiLGJvcmRlcjowLG1hcmdpbjowLGJvcmRlclJhZGl1czowLHBhZGRpbmc6MCxjdXJzb3I6XCJwb2ludGVyXCIsdXNlclNlbGVjdDpcIm5vbmVcIix2ZXJ0aWNhbEFsaWduOlwibWlkZGxlXCIsXCItbW96LWFwcGVhcmFuY2VcIjpcIm5vbmVcIixcIi13ZWJraXQtYXBwZWFyYW5jZVwiOlwibm9uZVwiLHRleHREZWNvcmF0aW9uOlwibm9uZVwiLGNvbG9yOlwiaW5oZXJpdFwiLFwiJjo6LW1vei1mb2N1cy1pbm5lclwiOntib3JkZXJTdHlsZTpcIm5vbmVcIn0sXCImJGRpc2FibGVkXCI6e3BvaW50ZXJFdmVudHM6XCJub25lXCIsY3Vyc29yOlwiZGVmYXVsdFwifX0sZGlzYWJsZWQ6e30sZm9jdXNWaXNpYmxlOnt9fTt0LnN0eWxlcz13O3ZhciBUPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxuOygwLHMuZGVmYXVsdCkodGhpcyx0KTtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShpKSxvPTA7bzxpO28rKylyW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4obj0oMCxjLmRlZmF1bHQpKHRoaXMsKGU9KDAsdS5kZWZhdWx0KSh0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQocikpKSkuc3RhdGU9e30sbi5rZXlEb3duPSExLG4uZm9jdXNWaXNpYmxlQ2hlY2tUaW1lPTUwLG4uZm9jdXNWaXNpYmxlTWF4Q2hlY2tUaW1lcz01LG4uaGFuZGxlTW91c2VEb3duPSgwLGIuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKG4pKSxcIk1vdXNlRG93blwiLFwic3RhcnRcIiwoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQobi5mb2N1c1Zpc2libGVUaW1lb3V0KSxuLnN0YXRlLmZvY3VzVmlzaWJsZSYmbi5zZXRTdGF0ZSh7Zm9jdXNWaXNpYmxlOiExfSl9KSksbi5oYW5kbGVNb3VzZVVwPSgwLGIuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKG4pKSxcIk1vdXNlVXBcIixcInN0b3BcIiksbi5oYW5kbGVNb3VzZUxlYXZlPSgwLGIuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKG4pKSxcIk1vdXNlTGVhdmVcIixcInN0b3BcIiwoZnVuY3Rpb24oZSl7bi5zdGF0ZS5mb2N1c1Zpc2libGUmJmUucHJldmVudERlZmF1bHQoKX0pKSxuLmhhbmRsZVRvdWNoU3RhcnQ9KDAsYi5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkobikpLFwiVG91Y2hTdGFydFwiLFwic3RhcnRcIiksbi5oYW5kbGVUb3VjaEVuZD0oMCxiLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShuKSksXCJUb3VjaEVuZFwiLFwic3RvcFwiKSxuLmhhbmRsZVRvdWNoTW92ZT0oMCxiLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShuKSksXCJUb3VjaE1vdmVcIixcInN0b3BcIiksbi5oYW5kbGVDb250ZXh0TWVudT0oMCxiLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShuKSksXCJDb250ZXh0TWVudVwiLFwic3RvcFwiKSxuLmhhbmRsZUJsdXI9KDAsYi5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkobikpLFwiQmx1clwiLFwic3RvcFwiLChmdW5jdGlvbigpe2NsZWFyVGltZW91dChuLmZvY3VzVmlzaWJsZVRpbWVvdXQpLG4uc3RhdGUuZm9jdXNWaXNpYmxlJiZuLnNldFN0YXRlKHtmb2N1c1Zpc2libGU6ITF9KX0pKSxuLm9uUmlwcGxlUmVmPWZ1bmN0aW9uKGUpe24ucmlwcGxlPWV9LG4ub25Gb2N1c1Zpc2libGVIYW5kbGVyPWZ1bmN0aW9uKGUpe24ua2V5RG93bj0hMSxuLnNldFN0YXRlKHtmb2N1c1Zpc2libGU6ITB9KSxuLnByb3BzLm9uRm9jdXNWaXNpYmxlJiZuLnByb3BzLm9uRm9jdXNWaXNpYmxlKGUpfSxuLmhhbmRsZUtleURvd249ZnVuY3Rpb24oZSl7dmFyIHQ9bi5wcm9wcyxpPXQuY29tcG9uZW50LHI9dC5mb2N1c1JpcHBsZSxvPXQub25LZXlEb3duLGE9dC5vbkNsaWNrO3ImJiFuLmtleURvd24mJm4uc3RhdGUuZm9jdXNWaXNpYmxlJiZuLnJpcHBsZSYmXCIgXCI9PT1lLmtleSYmKG4ua2V5RG93bj0hMCxlLnBlcnNpc3QoKSxuLnJpcHBsZS5zdG9wKGUsKGZ1bmN0aW9uKCl7bi5yaXBwbGUuc3RhcnQoZSl9KSkpLG8mJm8oZSksZS50YXJnZXQhPT1lLmN1cnJlbnRUYXJnZXR8fCFpfHxcImJ1dHRvblwiPT09aXx8XCIgXCIhPT1lLmtleSYmXCJFbnRlclwiIT09ZS5rZXl8fFwiQVwiPT09bi5idXR0b24udGFnTmFtZSYmbi5idXR0b24uaHJlZnx8KGUucHJldmVudERlZmF1bHQoKSxhJiZhKGUpKX0sbi5oYW5kbGVLZXlVcD1mdW5jdGlvbihlKXtuLnByb3BzLmZvY3VzUmlwcGxlJiZcIiBcIj09PWUua2V5JiZuLnJpcHBsZSYmbi5zdGF0ZS5mb2N1c1Zpc2libGUmJihuLmtleURvd249ITEsZS5wZXJzaXN0KCksbi5yaXBwbGUuc3RvcChlLChmdW5jdGlvbigpe24ucmlwcGxlLnB1bHNhdGUoZSl9KSkpLG4ucHJvcHMub25LZXlVcCYmbi5wcm9wcy5vbktleVVwKGUpfSxuLmhhbmRsZUZvY3VzPWZ1bmN0aW9uKGUpe24ucHJvcHMuZGlzYWJsZWR8fChuLmJ1dHRvbnx8KG4uYnV0dG9uPWUuY3VycmVudFRhcmdldCksZS5wZXJzaXN0KCksKDAsdi5kZXRlY3RGb2N1c1Zpc2libGUpKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShuKSksbi5idXR0b24sKGZ1bmN0aW9uKCl7bi5vbkZvY3VzVmlzaWJsZUhhbmRsZXIoZSl9KSksbi5wcm9wcy5vbkZvY3VzJiZuLnByb3BzLm9uRm9jdXMoZSkpfSxufXJldHVybigwLGguZGVmYXVsdCkodCxlKSwoMCxsLmRlZmF1bHQpKHQsW3trZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmJ1dHRvbj1mLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyksKDAsdi5saXN0ZW5Gb3JGb2N1c0tleXMpKCgwLGcuZGVmYXVsdCkodGhpcy5idXR0b24pKSx0aGlzLnByb3BzLmFjdGlvbiYmdGhpcy5wcm9wcy5hY3Rpb24oe2ZvY3VzVmlzaWJsZTpmdW5jdGlvbigpe2Uuc2V0U3RhdGUoe2ZvY3VzVmlzaWJsZTohMH0pLGUuYnV0dG9uLmZvY3VzKCl9fSl9fSx7a2V5OlwiY29tcG9uZW50RGlkVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnByb3BzLmZvY3VzUmlwcGxlJiYhdGhpcy5wcm9wcy5kaXNhYmxlUmlwcGxlJiYhdC5mb2N1c1Zpc2libGUmJnRoaXMuc3RhdGUuZm9jdXNWaXNpYmxlJiZ0aGlzLnJpcHBsZS5wdWxzYXRlKCl9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLmZvY3VzVmlzaWJsZVRpbWVvdXQpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLnByb3BzLG49KHQuYWN0aW9uLHQuYnV0dG9uUmVmKSxpPXQuY2VudGVyUmlwcGxlLHM9dC5jaGlsZHJlbixsPXQuY2xhc3NlcyxjPXQuY2xhc3NOYW1lLHU9dC5jb21wb25lbnQsaD10LmRpc2FibGVkLGQ9dC5kaXNhYmxlUmlwcGxlLGY9KHQuZGlzYWJsZVRvdWNoUmlwcGxlLHQuZm9jdXNSaXBwbGUsdC5mb2N1c1Zpc2libGVDbGFzc05hbWUpLGc9KHQub25CbHVyLHQub25Gb2N1cyx0Lm9uRm9jdXNWaXNpYmxlLHQub25LZXlEb3duLHQub25LZXlVcCx0Lm9uTW91c2VEb3duLHQub25Nb3VzZUxlYXZlLHQub25Nb3VzZVVwLHQub25Ub3VjaEVuZCx0Lm9uVG91Y2hNb3ZlLHQub25Ub3VjaFN0YXJ0LHQudGFiSW5kZXgpLHk9dC5Ub3VjaFJpcHBsZVByb3BzLHY9dC50eXBlLGI9KDAsYS5kZWZhdWx0KSh0LFtcImFjdGlvblwiLFwiYnV0dG9uUmVmXCIsXCJjZW50ZXJSaXBwbGVcIixcImNoaWxkcmVuXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbXBvbmVudFwiLFwiZGlzYWJsZWRcIixcImRpc2FibGVSaXBwbGVcIixcImRpc2FibGVUb3VjaFJpcHBsZVwiLFwiZm9jdXNSaXBwbGVcIixcImZvY3VzVmlzaWJsZUNsYXNzTmFtZVwiLFwib25CbHVyXCIsXCJvbkZvY3VzXCIsXCJvbkZvY3VzVmlzaWJsZVwiLFwib25LZXlEb3duXCIsXCJvbktleVVwXCIsXCJvbk1vdXNlRG93blwiLFwib25Nb3VzZUxlYXZlXCIsXCJvbk1vdXNlVXBcIixcIm9uVG91Y2hFbmRcIixcIm9uVG91Y2hNb3ZlXCIsXCJvblRvdWNoU3RhcnRcIixcInRhYkluZGV4XCIsXCJUb3VjaFJpcHBsZVByb3BzXCIsXCJ0eXBlXCJdKSx3PSgwLG0uZGVmYXVsdCkobC5yb290LChlPXt9LCgwLG8uZGVmYXVsdCkoZSxsLmRpc2FibGVkLGgpLCgwLG8uZGVmYXVsdCkoZSxsLmZvY3VzVmlzaWJsZSx0aGlzLnN0YXRlLmZvY3VzVmlzaWJsZSksKDAsby5kZWZhdWx0KShlLGYsdGhpcy5zdGF0ZS5mb2N1c1Zpc2libGUpLGUpLGMpLFQ9dTtcImJ1dHRvblwiPT09VCYmYi5ocmVmJiYoVD1cImFcIik7dmFyIEU9e307cmV0dXJuXCJidXR0b25cIj09PVQ/KEUudHlwZT12fHxcImJ1dHRvblwiLEUuZGlzYWJsZWQ9aCk6RS5yb2xlPVwiYnV0dG9uXCIscC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVCwoMCxyLmRlZmF1bHQpKHtjbGFzc05hbWU6dyxvbkJsdXI6dGhpcy5oYW5kbGVCbHVyLG9uRm9jdXM6dGhpcy5oYW5kbGVGb2N1cyxvbktleURvd246dGhpcy5oYW5kbGVLZXlEb3duLG9uS2V5VXA6dGhpcy5oYW5kbGVLZXlVcCxvbk1vdXNlRG93bjp0aGlzLmhhbmRsZU1vdXNlRG93bixvbk1vdXNlTGVhdmU6dGhpcy5oYW5kbGVNb3VzZUxlYXZlLG9uTW91c2VVcDp0aGlzLmhhbmRsZU1vdXNlVXAsb25Ub3VjaEVuZDp0aGlzLmhhbmRsZVRvdWNoRW5kLG9uVG91Y2hNb3ZlOnRoaXMuaGFuZGxlVG91Y2hNb3ZlLG9uVG91Y2hTdGFydDp0aGlzLmhhbmRsZVRvdWNoU3RhcnQsb25Db250ZXh0TWVudTp0aGlzLmhhbmRsZUNvbnRleHRNZW51LHJlZjpuLHRhYkluZGV4Omg/XCItMVwiOmd9LEUsYikscyxkfHxoP251bGw6cC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXy5kZWZhdWx0LG51bGwscC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoeC5kZWZhdWx0LCgwLHIuZGVmYXVsdCkoe2lubmVyUmVmOnRoaXMub25SaXBwbGVSZWYsY2VudGVyOml9LHkpKSkpfX1dLFt7a2V5OlwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dC5mb2N1c1Zpc2libGV8fCF0LnByZXZTdGF0ZSYmZS5kaXNhYmxlZCYmdC5mb2N1c1Zpc2libGU/e2ZvY3VzVmlzaWJsZTohMSxsYXN0RGlzYWJsZWQ6ZS5kaXNhYmxlZH06e2xhc3REaXNhYmxlZDplLmRpc2FibGVkfX19XSksdH0ocC5kZWZhdWx0LkNvbXBvbmVudCk7VC5kZWZhdWx0UHJvcHM9e2NlbnRlclJpcHBsZTohMSxjb21wb25lbnQ6XCJidXR0b25cIixkaXNhYmxlUmlwcGxlOiExLGRpc2FibGVUb3VjaFJpcHBsZTohMSxmb2N1c1JpcHBsZTohMSx0YWJJbmRleDpcIjBcIix0eXBlOlwiYnV0dG9uXCJ9O3ZhciBFPSgwLHkuZGVmYXVsdCkodyx7bmFtZTpcIk11aUJ1dHRvbkJhc2VcIn0pKFQpO3QuZGVmYXVsdD1FfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkobig2MCkpO3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp3aW5kb3csbj0oMCxyLmRlZmF1bHQpKGUpO3JldHVybiBuLmRlZmF1bHRWaWV3fHxuLnBhcmVudFZpZXd8fHR9O3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5kZWZhdWx0fX0pO3ZhciByPWkobigxNjEpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKG4oMTApKSxvPWkobigxMSkpLGE9aShuKDEyKSkscz1pKG4oMTMpKSxsPWkobigxNCkpLGM9aShuKDEpKSx1PShpKG4oMykpLG4oNyksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG47KDAsci5kZWZhdWx0KSh0aGlzLHQpO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KGkpLGw9MDtsPGk7bCsrKW9bbF09YXJndW1lbnRzW2xdO3JldHVybihuPSgwLGEuZGVmYXVsdCkodGhpcywoZT0oMCxzLmRlZmF1bHQpKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChvKSkpKS5tb3VudGVkPSExLG4uc3RhdGU9e21vdW50ZWQ6ITF9LG59cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLCgwLG8uZGVmYXVsdCkodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMubW91bnRlZD0hMCx0aGlzLnByb3BzLmRlZmVyP3JlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24oKXtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKGZ1bmN0aW9uKCl7ZS5tb3VudGVkJiZlLnNldFN0YXRlKHttb3VudGVkOiEwfSl9KSl9KSk6dGhpcy5zZXRTdGF0ZSh7bW91bnRlZDohMH0pfX0se2tleTpcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm1vdW50ZWQ9ITF9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS5jaGlsZHJlbixuPWUuZmFsbGJhY2s7cmV0dXJuIHRoaXMuc3RhdGUubW91bnRlZD90Om59fV0pLHR9KGMuZGVmYXVsdC5Db21wb25lbnQpKTt1LmRlZmF1bHRQcm9wcz17ZGVmZXI6ITEsZmFsbGJhY2s6bnVsbH07dmFyIGg9dTt0LmRlZmF1bHQ9aH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZXRlY3RGb2N1c1Zpc2libGU9ZnVuY3Rpb24gZSh0LG4saSl7dmFyIHM9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjE7dC5mb2N1c1Zpc2libGVUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIGw9YSgoMCxyLmRlZmF1bHQpKG4pKTtvLmZvY3VzS2V5UHJlc3NlZCYmKGw9PT1ufHxuLmNvbnRhaW5zKGwpKT9pKCk6czx0LmZvY3VzVmlzaWJsZU1heENoZWNrVGltZXMmJmUodCxuLGkscysxKX0pLHQuZm9jdXNWaXNpYmxlQ2hlY2tUaW1lKX0sdC5saXN0ZW5Gb3JGb2N1c0tleXM9ZnVuY3Rpb24oZSl7ZS5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixsKX07aShuKDYpKTt2YXIgcj1pKG4oNjApKSxvPXtmb2N1c0tleVByZXNzZWQ6ITEsa2V5VXBFdmVudFRpbWVvdXQ6LTF9O2Z1bmN0aW9uIGEoZSl7Zm9yKHZhciB0PWUuYWN0aXZlRWxlbWVudDt0JiZ0LnNoYWRvd1Jvb3QmJnQuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50Oyl0PXQuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50O3JldHVybiB0fXZhciBzPVs5LDEzLDI3LDMyLDM3LDM4LDM5LDQwXTt2YXIgbD1mdW5jdGlvbihlKXsoZnVuY3Rpb24oZSl7cmV0dXJuIHMuaW5kZXhPZihlLmtleUNvZGUpPi0xfSkoZSkmJihvLmZvY3VzS2V5UHJlc3NlZD0hMCxjbGVhclRpbWVvdXQoby5rZXlVcEV2ZW50VGltZW91dCksby5rZXlVcEV2ZW50VGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe28uZm9jdXNLZXlQcmVzc2VkPSExfSksNTAwKSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dC5ERUxBWV9SSVBQTEU9dm9pZCAwO3ZhciByPWkobigyKSksbz1pKG4oNCkpLGE9aShuKDE2NCkpLHM9aShuKDEwKSksbD1pKG4oMTEpKSxjPWkobigxMikpLHU9aShuKDEzKSksaD1pKG4oMTQpKSxkPWkobigzMykpLHA9aShuKDEpKSxmPShpKG4oMykpLGkobigxOSkpKSxtPWkobigxNjkpKSxnPWkobig4KSkseT1pKG4oOSkpLF89aShuKDE3MSkpO3QuREVMQVlfUklQUExFPTgwO3ZhciB2PWZ1bmN0aW9uKGUpe3JldHVybntyb290OntkaXNwbGF5OlwiYmxvY2tcIixwb3NpdGlvbjpcImFic29sdXRlXCIsb3ZlcmZsb3c6XCJoaWRkZW5cIixib3JkZXJSYWRpdXM6XCJpbmhlcml0XCIsd2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLGxlZnQ6MCx0b3A6MCxwb2ludGVyRXZlbnRzOlwibm9uZVwiLHpJbmRleDowfSxyaXBwbGU6e3dpZHRoOjUwLGhlaWdodDo1MCxsZWZ0OjAsdG9wOjAsb3BhY2l0eTowLHBvc2l0aW9uOlwiYWJzb2x1dGVcIn0scmlwcGxlVmlzaWJsZTp7b3BhY2l0eTouMyx0cmFuc2Zvcm06XCJzY2FsZSgxKVwiLGFuaW1hdGlvbjpcIm11aS1yaXBwbGUtZW50ZXIgXCIuY29uY2F0KDU1MCxcIm1zIFwiKS5jb25jYXQoZS50cmFuc2l0aW9ucy5lYXNpbmcuZWFzZUluT3V0KSxhbmltYXRpb25OYW1lOlwiJG11aS1yaXBwbGUtZW50ZXJcIn0scmlwcGxlUHVsc2F0ZTp7YW5pbWF0aW9uRHVyYXRpb246XCJcIi5jb25jYXQoZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5zaG9ydGVyLFwibXNcIil9LGNoaWxkOntvcGFjaXR5OjEsZGlzcGxheTpcImJsb2NrXCIsd2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLGJvcmRlclJhZGl1czpcIjUwJVwiLGJhY2tncm91bmRDb2xvcjpcImN1cnJlbnRDb2xvclwifSxjaGlsZExlYXZpbmc6e29wYWNpdHk6MCxhbmltYXRpb246XCJtdWktcmlwcGxlLWV4aXQgXCIuY29uY2F0KDU1MCxcIm1zIFwiKS5jb25jYXQoZS50cmFuc2l0aW9ucy5lYXNpbmcuZWFzZUluT3V0KSxhbmltYXRpb25OYW1lOlwiJG11aS1yaXBwbGUtZXhpdFwifSxjaGlsZFB1bHNhdGU6e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixsZWZ0OjAsdG9wOjAsYW5pbWF0aW9uOlwibXVpLXJpcHBsZS1wdWxzYXRlIDI1MDBtcyBcIi5jb25jYXQoZS50cmFuc2l0aW9ucy5lYXNpbmcuZWFzZUluT3V0LFwiIDIwMG1zIGluZmluaXRlXCIpLGFuaW1hdGlvbk5hbWU6XCIkbXVpLXJpcHBsZS1wdWxzYXRlXCJ9LFwiQGtleWZyYW1lcyBtdWktcmlwcGxlLWVudGVyXCI6e1wiMCVcIjp7dHJhbnNmb3JtOlwic2NhbGUoMClcIixvcGFjaXR5Oi4xfSxcIjEwMCVcIjp7dHJhbnNmb3JtOlwic2NhbGUoMSlcIixvcGFjaXR5Oi4zfX0sXCJAa2V5ZnJhbWVzIG11aS1yaXBwbGUtZXhpdFwiOntcIjAlXCI6e29wYWNpdHk6MX0sXCIxMDAlXCI6e29wYWNpdHk6MH19LFwiQGtleWZyYW1lcyBtdWktcmlwcGxlLXB1bHNhdGVcIjp7XCIwJVwiOnt0cmFuc2Zvcm06XCJzY2FsZSgxKVwifSxcIjUwJVwiOnt0cmFuc2Zvcm06XCJzY2FsZSgwLjkyKVwifSxcIjEwMCVcIjp7dHJhbnNmb3JtOlwic2NhbGUoMSlcIn19fX07dC5zdHlsZXM9djt2YXIgeD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbjsoMCxzLmRlZmF1bHQpKHRoaXMsdCk7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkoaSksbz0wO288aTtvKyspcltvXT1hcmd1bWVudHNbb107cmV0dXJuKG49KDAsYy5kZWZhdWx0KSh0aGlzLChlPSgwLHUuZGVmYXVsdCkodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KHIpKSkpLnN0YXRlPXtuZXh0S2V5OjAscmlwcGxlczpbXX0sbi5wdWxzYXRlPWZ1bmN0aW9uKCl7bi5zdGFydCh7fSx7cHVsc2F0ZTohMH0pfSxuLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAscj10LnB1bHNhdGUsbz12b2lkIDAhPT1yJiZyLGE9dC5jZW50ZXIscz12b2lkIDA9PT1hP24ucHJvcHMuY2VudGVyfHx0LnB1bHNhdGU6YSxsPXQuZmFrZUVsZW1lbnQsYz12b2lkIDAhPT1sJiZsO2lmKFwibW91c2Vkb3duXCI9PT1lLnR5cGUmJm4uaWdub3JpbmdNb3VzZURvd24pbi5pZ25vcmluZ01vdXNlRG93bj0hMTtlbHNle1widG91Y2hzdGFydFwiPT09ZS50eXBlJiYobi5pZ25vcmluZ01vdXNlRG93bj0hMCk7dmFyIHUsaCxwLG09Yz9udWxsOmYuZGVmYXVsdC5maW5kRE9NTm9kZSgoMCxkLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkobikpKSxnPW0/bS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTp7d2lkdGg6MCxoZWlnaHQ6MCxsZWZ0OjAsdG9wOjB9O2lmKHN8fDA9PT1lLmNsaWVudFgmJjA9PT1lLmNsaWVudFl8fCFlLmNsaWVudFgmJiFlLnRvdWNoZXMpdT1NYXRoLnJvdW5kKGcud2lkdGgvMiksaD1NYXRoLnJvdW5kKGcuaGVpZ2h0LzIpO2Vsc2V7dmFyIHk9ZS5jbGllbnRYP2UuY2xpZW50WDplLnRvdWNoZXNbMF0uY2xpZW50WCxfPWUuY2xpZW50WT9lLmNsaWVudFk6ZS50b3VjaGVzWzBdLmNsaWVudFk7dT1NYXRoLnJvdW5kKHktZy5sZWZ0KSxoPU1hdGgucm91bmQoXy1nLnRvcCl9aWYocykocD1NYXRoLnNxcnQoKDIqTWF0aC5wb3coZy53aWR0aCwyKStNYXRoLnBvdyhnLmhlaWdodCwyKSkvMykpJTI9PTAmJihwKz0xKTtlbHNle3ZhciB2PTIqTWF0aC5tYXgoTWF0aC5hYnMoKG0/bS5jbGllbnRXaWR0aDowKS11KSx1KSsyLHg9MipNYXRoLm1heChNYXRoLmFicygobT9tLmNsaWVudEhlaWdodDowKS1oKSxoKSsyO3A9TWF0aC5zcXJ0KE1hdGgucG93KHYsMikrTWF0aC5wb3coeCwyKSl9ZS50b3VjaGVzPyhuLnN0YXJ0VGltZXJDb21taXQ9ZnVuY3Rpb24oKXtuLnN0YXJ0Q29tbWl0KHtwdWxzYXRlOm8scmlwcGxlWDp1LHJpcHBsZVk6aCxyaXBwbGVTaXplOnAsY2I6aX0pfSxuLnN0YXJ0VGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtuLnN0YXJ0VGltZXJDb21taXQmJihuLnN0YXJ0VGltZXJDb21taXQoKSxuLnN0YXJ0VGltZXJDb21taXQ9bnVsbCl9KSw4MCkpOm4uc3RhcnRDb21taXQoe3B1bHNhdGU6byxyaXBwbGVYOnUscmlwcGxlWTpoLHJpcHBsZVNpemU6cCxjYjppfSl9fSxuLnN0YXJ0Q29tbWl0PWZ1bmN0aW9uKGUpe3ZhciB0PWUucHVsc2F0ZSxpPWUucmlwcGxlWCxyPWUucmlwcGxlWSxvPWUucmlwcGxlU2l6ZSxzPWUuY2I7bi5zZXRTdGF0ZSgoZnVuY3Rpb24oZSl7cmV0dXJue25leHRLZXk6ZS5uZXh0S2V5KzEscmlwcGxlczpbXS5jb25jYXQoKDAsYS5kZWZhdWx0KShlLnJpcHBsZXMpLFtwLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfLmRlZmF1bHQse2tleTplLm5leHRLZXksY2xhc3NlczpuLnByb3BzLmNsYXNzZXMsdGltZW91dDp7ZXhpdDo1NTAsZW50ZXI6NTUwfSxwdWxzYXRlOnQscmlwcGxlWDppLHJpcHBsZVk6cixyaXBwbGVTaXplOm99KV0pfX0pLHMpfSxuLnN0b3A9ZnVuY3Rpb24oZSx0KXtjbGVhclRpbWVvdXQobi5zdGFydFRpbWVyKTt2YXIgaT1uLnN0YXRlLnJpcHBsZXM7aWYoXCJ0b3VjaGVuZFwiPT09ZS50eXBlJiZuLnN0YXJ0VGltZXJDb21taXQpcmV0dXJuIGUucGVyc2lzdCgpLG4uc3RhcnRUaW1lckNvbW1pdCgpLG4uc3RhcnRUaW1lckNvbW1pdD1udWxsLHZvaWQobi5zdGFydFRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bi5zdG9wKGUsdCl9KSkpO24uc3RhcnRUaW1lckNvbW1pdD1udWxsLGkmJmkubGVuZ3RoJiZuLnNldFN0YXRlKHtyaXBwbGVzOmkuc2xpY2UoMSl9LHQpfSxufXJldHVybigwLGguZGVmYXVsdCkodCxlKSwoMCxsLmRlZmF1bHQpKHQsW3trZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuc3RhcnRUaW1lcil9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9KGUuY2VudGVyLGUuY2xhc3Nlcyksbj1lLmNsYXNzTmFtZSxpPSgwLG8uZGVmYXVsdCkoZSxbXCJjZW50ZXJcIixcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiXSk7cmV0dXJuIHAuZGVmYXVsdC5jcmVhdGVFbGVtZW50KG0uZGVmYXVsdCwoMCxyLmRlZmF1bHQpKHtjb21wb25lbnQ6XCJzcGFuXCIsZW50ZXI6ITAsZXhpdDohMCxjbGFzc05hbWU6KDAsZy5kZWZhdWx0KSh0LnJvb3Qsbil9LGkpLHRoaXMuc3RhdGUucmlwcGxlcyl9fV0pLHR9KHAuZGVmYXVsdC5QdXJlQ29tcG9uZW50KTt4LmRlZmF1bHRQcm9wcz17Y2VudGVyOiExfTt2YXIgYj0oMCx5LmRlZmF1bHQpKHYse2ZsaXA6ITEsbmFtZTpcIk11aVRvdWNoUmlwcGxlXCJ9KSh4KTt0LmRlZmF1bHQ9Yn0sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oMTY1KSxyPW4oMTY2KSxvPW4oMTY3KSxhPW4oMTY4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGkoZSl8fHIoZSl8fG8oZSl8fGEoKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7dmFyIGk9big2MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGkoZSl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lW1wiQEBpdGVyYXRvclwiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7dmFyIGk9big2MSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGkoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PW58fFwiU2V0XCI9PT1uP0FycmF5LmZyb20oZSk6XCJBcmd1bWVudHNcIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP2koZSx0KTp2b2lkIDB9fSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPXMobigzKSkscj1zKG4oMSkpLG89big2MiksYT1uKDE3MCk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbCgpe3JldHVybihsPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIGkgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixpKSYmKGVbaV09bltpXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYyhlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gZX12YXIgdT1PYmplY3QudmFsdWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pKX0saD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7dmFyIGkscj0oaT1lLmNhbGwodGhpcyx0LG4pfHx0aGlzKS5oYW5kbGVFeGl0ZWQuYmluZChjKGMoaSkpKTtyZXR1cm4gaS5zdGF0ZT17aGFuZGxlRXhpdGVkOnIsZmlyc3RSZW5kZXI6ITB9LGl9IWZ1bmN0aW9uKGUsdCl7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLl9fcHJvdG9fXz10fSh0LGUpO3ZhciBuPXQucHJvdG90eXBlO3JldHVybiBuLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybnt0cmFuc2l0aW9uR3JvdXA6e2lzTW91bnRpbmc6IXRoaXMuYXBwZWFyZWR9fX0sbi5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3RoaXMuYXBwZWFyZWQ9ITAsdGhpcy5tb3VudGVkPSEwfSxuLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dGhpcy5tb3VudGVkPSExfSx0LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcz1mdW5jdGlvbihlLHQpe3ZhciBuPXQuY2hpbGRyZW4saT10LmhhbmRsZUV4aXRlZDtyZXR1cm57Y2hpbGRyZW46dC5maXJzdFJlbmRlcj8oMCxhLmdldEluaXRpYWxDaGlsZE1hcHBpbmcpKGUsaSk6KDAsYS5nZXROZXh0Q2hpbGRNYXBwaW5nKShlLG4saSksZmlyc3RSZW5kZXI6ITF9fSxuLmhhbmRsZUV4aXRlZD1mdW5jdGlvbihlLHQpe3ZhciBuPSgwLGEuZ2V0Q2hpbGRNYXBwaW5nKSh0aGlzLnByb3BzLmNoaWxkcmVuKTtlLmtleSBpbiBufHwoZS5wcm9wcy5vbkV4aXRlZCYmZS5wcm9wcy5vbkV4aXRlZCh0KSx0aGlzLm1vdW50ZWQmJnRoaXMuc2V0U3RhdGUoKGZ1bmN0aW9uKHQpe3ZhciBuPWwoe30sdC5jaGlsZHJlbik7cmV0dXJuIGRlbGV0ZSBuW2Uua2V5XSx7Y2hpbGRyZW46bn19KSkpfSxuLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLmNvbXBvbmVudCxuPWUuY2hpbGRGYWN0b3J5LGk9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLGkscj17fSxvPU9iamVjdC5rZXlzKGUpO2ZvcihpPTA7aTxvLmxlbmd0aDtpKyspbj1vW2ldLHQuaW5kZXhPZihuKT49MHx8KHJbbl09ZVtuXSk7cmV0dXJuIHJ9KGUsW1wiY29tcG9uZW50XCIsXCJjaGlsZEZhY3RvcnlcIl0pLG89dSh0aGlzLnN0YXRlLmNoaWxkcmVuKS5tYXAobik7cmV0dXJuIGRlbGV0ZSBpLmFwcGVhcixkZWxldGUgaS5lbnRlcixkZWxldGUgaS5leGl0LG51bGw9PT10P286ci5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodCxpLG8pfSx0fShyLmRlZmF1bHQuQ29tcG9uZW50KTtoLmNoaWxkQ29udGV4dFR5cGVzPXt0cmFuc2l0aW9uR3JvdXA6aS5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkfSxoLnByb3BUeXBlcz17fSxoLmRlZmF1bHRQcm9wcz17Y29tcG9uZW50OlwiZGl2XCIsY2hpbGRGYWN0b3J5OmZ1bmN0aW9uKGUpe3JldHVybiBlfX07dmFyIGQ9KDAsby5wb2x5ZmlsbCkoaCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmdldENoaWxkTWFwcGluZz1yLHQubWVyZ2VDaGlsZE1hcHBpbmdzPW8sdC5nZXRJbml0aWFsQ2hpbGRNYXBwaW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIoZS5jaGlsZHJlbiwoZnVuY3Rpb24obil7cmV0dXJuKDAsaS5jbG9uZUVsZW1lbnQpKG4se29uRXhpdGVkOnQuYmluZChudWxsLG4pLGluOiEwLGFwcGVhcjphKG4sXCJhcHBlYXJcIixlKSxlbnRlcjphKG4sXCJlbnRlclwiLGUpLGV4aXQ6YShuLFwiZXhpdFwiLGUpfSl9KSl9LHQuZ2V0TmV4dENoaWxkTWFwcGluZz1mdW5jdGlvbihlLHQsbil7dmFyIHM9cihlLmNoaWxkcmVuKSxsPW8odCxzKTtyZXR1cm4gT2JqZWN0LmtleXMobCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIG89bFtyXTtpZigoMCxpLmlzVmFsaWRFbGVtZW50KShvKSl7dmFyIGM9ciBpbiB0LHU9ciBpbiBzLGg9dFtyXSxkPSgwLGkuaXNWYWxpZEVsZW1lbnQpKGgpJiYhaC5wcm9wcy5pbjshdXx8YyYmIWQ/dXx8IWN8fGQ/dSYmYyYmKDAsaS5pc1ZhbGlkRWxlbWVudCkoaCkmJihsW3JdPSgwLGkuY2xvbmVFbGVtZW50KShvLHtvbkV4aXRlZDpuLmJpbmQobnVsbCxvKSxpbjpoLnByb3BzLmluLGV4aXQ6YShvLFwiZXhpdFwiLGUpLGVudGVyOmEobyxcImVudGVyXCIsZSl9KSk6bFtyXT0oMCxpLmNsb25lRWxlbWVudCkobyx7aW46ITF9KTpsW3JdPSgwLGkuY2xvbmVFbGVtZW50KShvLHtvbkV4aXRlZDpuLmJpbmQobnVsbCxvKSxpbjohMCxleGl0OmEobyxcImV4aXRcIixlKSxlbnRlcjphKG8sXCJlbnRlclwiLGUpfSl9fSkpLGx9O3ZhciBpPW4oMSk7ZnVuY3Rpb24gcihlLHQpe3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGUmJmkuQ2hpbGRyZW4ubWFwKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe25bZS5rZXldPWZ1bmN0aW9uKGUpe3JldHVybiB0JiYoMCxpLmlzVmFsaWRFbGVtZW50KShlKT90KGUpOmV9KGUpfSkpLG59ZnVuY3Rpb24gbyhlLHQpe2Z1bmN0aW9uIG4obil7cmV0dXJuIG4gaW4gdD90W25dOmVbbl19ZT1lfHx7fSx0PXR8fHt9O3ZhciBpLHI9T2JqZWN0LmNyZWF0ZShudWxsKSxvPVtdO2Zvcih2YXIgYSBpbiBlKWEgaW4gdD9vLmxlbmd0aCYmKHJbYV09byxvPVtdKTpvLnB1c2goYSk7dmFyIHM9e307Zm9yKHZhciBsIGluIHQpe2lmKHJbbF0pZm9yKGk9MDtpPHJbbF0ubGVuZ3RoO2krKyl7dmFyIGM9cltsXVtpXTtzW3JbbF1baV1dPW4oYyl9c1tsXT1uKGwpfWZvcihpPTA7aTxvLmxlbmd0aDtpKyspc1tvW2ldXT1uKG9baV0pO3JldHVybiBzfWZ1bmN0aW9uIGEoZSx0LG4pe3JldHVybiBudWxsIT1uW3RdP25bdF06ZS5wcm9wc1t0XX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIHI9aShuKDIpKSxvPWkobig1KSksYT1pKG4oNCkpLHM9aShuKDEwKSksbD1pKG4oMTEpKSxjPWkobigxMikpLHU9aShuKDEzKSksaD1pKG4oMTQpKSxkPWkobigxKSkscD0oaShuKDMpKSxpKG4oOCkpKSxmPWkobigxNzIpKSxtPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxuOygwLHMuZGVmYXVsdCkodGhpcyx0KTtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShpKSxvPTA7bzxpO28rKylyW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4obj0oMCxjLmRlZmF1bHQpKHRoaXMsKGU9KDAsdS5kZWZhdWx0KSh0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQocikpKSkuc3RhdGU9e3Zpc2libGU6ITEsbGVhdmluZzohMX0sbi5oYW5kbGVFbnRlcj1mdW5jdGlvbigpe24uc2V0U3RhdGUoe3Zpc2libGU6ITB9KX0sbi5oYW5kbGVFeGl0PWZ1bmN0aW9uKCl7bi5zZXRTdGF0ZSh7bGVhdmluZzohMH0pfSxufXJldHVybigwLGguZGVmYXVsdCkodCxlKSwoMCxsLmRlZmF1bHQpKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQsbj10aGlzLnByb3BzLGk9bi5jbGFzc2VzLHM9bi5jbGFzc05hbWUsbD1uLnB1bHNhdGUsYz1uLnJpcHBsZVgsdT1uLnJpcHBsZVksaD1uLnJpcHBsZVNpemUsbT0oMCxhLmRlZmF1bHQpKG4sW1wiY2xhc3Nlc1wiLFwiY2xhc3NOYW1lXCIsXCJwdWxzYXRlXCIsXCJyaXBwbGVYXCIsXCJyaXBwbGVZXCIsXCJyaXBwbGVTaXplXCJdKSxnPXRoaXMuc3RhdGUseT1nLnZpc2libGUsXz1nLmxlYXZpbmcsdj0oMCxwLmRlZmF1bHQpKGkucmlwcGxlLChlPXt9LCgwLG8uZGVmYXVsdCkoZSxpLnJpcHBsZVZpc2libGUseSksKDAsby5kZWZhdWx0KShlLGkucmlwcGxlUHVsc2F0ZSxsKSxlKSxzKSx4PXt3aWR0aDpoLGhlaWdodDpoLHRvcDotaC8yK3UsbGVmdDotaC8yK2N9LGI9KDAscC5kZWZhdWx0KShpLmNoaWxkLCh0PXt9LCgwLG8uZGVmYXVsdCkodCxpLmNoaWxkTGVhdmluZyxfKSwoMCxvLmRlZmF1bHQpKHQsaS5jaGlsZFB1bHNhdGUsbCksdCkpO3JldHVybiBkLmRlZmF1bHQuY3JlYXRlRWxlbWVudChmLmRlZmF1bHQsKDAsci5kZWZhdWx0KSh7b25FbnRlcjp0aGlzLmhhbmRsZUVudGVyLG9uRXhpdDp0aGlzLmhhbmRsZUV4aXR9LG0pLGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6dixzdHlsZTp4fSxkLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOmJ9KSkpfX1dKSx0fShkLmRlZmF1bHQuQ29tcG9uZW50KTttLmRlZmF1bHRQcm9wcz17cHVsc2F0ZTohMX07dmFyIGc9bTt0LmRlZmF1bHQ9Z30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dC5FWElUSU5HPXQuRU5URVJFRD10LkVOVEVSSU5HPXQuRVhJVEVEPXQuVU5NT1VOVEVEPXZvaWQgMDt2YXIgaT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSl7dmFyIGk9T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTp7fTtpLmdldHx8aS5zZXQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbixpKTp0W25dPWVbbl19cmV0dXJuIHQuZGVmYXVsdD1lLHR9KG4oMykpLHI9cyhuKDEpKSxvPXMobigxOSkpLGE9big2Mik7bigxNzMpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuVU5NT1VOVEVEPVwidW5tb3VudGVkXCI7dC5FWElURUQ9XCJleGl0ZWRcIjt0LkVOVEVSSU5HPVwiZW50ZXJpbmdcIjt0LkVOVEVSRUQ9XCJlbnRlcmVkXCI7dC5FWElUSU5HPVwiZXhpdGluZ1wiO3ZhciBsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgaTtpPWUuY2FsbCh0aGlzLHQsbil8fHRoaXM7dmFyIHIsbz1uLnRyYW5zaXRpb25Hcm91cCxhPW8mJiFvLmlzTW91bnRpbmc/dC5lbnRlcjp0LmFwcGVhcjtyZXR1cm4gaS5hcHBlYXJTdGF0dXM9bnVsbCx0LmluP2E/KHI9XCJleGl0ZWRcIixpLmFwcGVhclN0YXR1cz1cImVudGVyaW5nXCIpOnI9XCJlbnRlcmVkXCI6cj10LnVubW91bnRPbkV4aXR8fHQubW91bnRPbkVudGVyP1widW5tb3VudGVkXCI6XCJleGl0ZWRcIixpLnN0YXRlPXtzdGF0dXM6cn0saS5uZXh0Q2FsbGJhY2s9bnVsbCxpfSFmdW5jdGlvbihlLHQpe2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5fX3Byb3RvX189dH0odCxlKTt2YXIgbj10LnByb3RvdHlwZTtyZXR1cm4gbi5nZXRDaGlsZENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm57dHJhbnNpdGlvbkdyb3VwOm51bGx9fSx0LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmluJiZcInVubW91bnRlZFwiPT09dC5zdGF0dXM/e3N0YXR1czpcImV4aXRlZFwifTpudWxsfSxuLmNvbXBvbmVudERpZE1vdW50PWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVTdGF0dXMoITAsdGhpcy5hcHBlYXJTdGF0dXMpfSxuLmNvbXBvbmVudERpZFVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO2lmKGUhPT10aGlzLnByb3BzKXt2YXIgbj10aGlzLnN0YXRlLnN0YXR1czt0aGlzLnByb3BzLmluP1wiZW50ZXJpbmdcIiE9PW4mJlwiZW50ZXJlZFwiIT09biYmKHQ9XCJlbnRlcmluZ1wiKTpcImVudGVyaW5nXCIhPT1uJiZcImVudGVyZWRcIiE9PW58fCh0PVwiZXhpdGluZ1wiKX10aGlzLnVwZGF0ZVN0YXR1cyghMSx0KX0sbi5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsTmV4dENhbGxiYWNrKCl9LG4uZ2V0VGltZW91dHM9ZnVuY3Rpb24oKXt2YXIgZSx0LG4saT10aGlzLnByb3BzLnRpbWVvdXQ7cmV0dXJuIGU9dD1uPWksbnVsbCE9aSYmXCJudW1iZXJcIiE9dHlwZW9mIGkmJihlPWkuZXhpdCx0PWkuZW50ZXIsbj12b2lkIDAhPT1pLmFwcGVhcj9pLmFwcGVhcjp0KSx7ZXhpdDplLGVudGVyOnQsYXBwZWFyOm59fSxuLnVwZGF0ZVN0YXR1cz1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUmJihlPSExKSxudWxsIT09dCl7dGhpcy5jYW5jZWxOZXh0Q2FsbGJhY2soKTt2YXIgbj1vLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyk7XCJlbnRlcmluZ1wiPT09dD90aGlzLnBlcmZvcm1FbnRlcihuLGUpOnRoaXMucGVyZm9ybUV4aXQobil9ZWxzZSB0aGlzLnByb3BzLnVubW91bnRPbkV4aXQmJlwiZXhpdGVkXCI9PT10aGlzLnN0YXRlLnN0YXR1cyYmdGhpcy5zZXRTdGF0ZSh7c3RhdHVzOlwidW5tb3VudGVkXCJ9KX0sbi5wZXJmb3JtRW50ZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9dGhpcy5wcm9wcy5lbnRlcixyPXRoaXMuY29udGV4dC50cmFuc2l0aW9uR3JvdXA/dGhpcy5jb250ZXh0LnRyYW5zaXRpb25Hcm91cC5pc01vdW50aW5nOnQsbz10aGlzLmdldFRpbWVvdXRzKCksYT1yP28uYXBwZWFyOm8uZW50ZXI7dHx8aT8odGhpcy5wcm9wcy5vbkVudGVyKGUsciksdGhpcy5zYWZlU2V0U3RhdGUoe3N0YXR1czpcImVudGVyaW5nXCJ9LChmdW5jdGlvbigpe24ucHJvcHMub25FbnRlcmluZyhlLHIpLG4ub25UcmFuc2l0aW9uRW5kKGUsYSwoZnVuY3Rpb24oKXtuLnNhZmVTZXRTdGF0ZSh7c3RhdHVzOlwiZW50ZXJlZFwifSwoZnVuY3Rpb24oKXtuLnByb3BzLm9uRW50ZXJlZChlLHIpfSkpfSkpfSkpKTp0aGlzLnNhZmVTZXRTdGF0ZSh7c3RhdHVzOlwiZW50ZXJlZFwifSwoZnVuY3Rpb24oKXtuLnByb3BzLm9uRW50ZXJlZChlKX0pKX0sbi5wZXJmb3JtRXhpdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49dGhpcy5wcm9wcy5leGl0LGk9dGhpcy5nZXRUaW1lb3V0cygpO24/KHRoaXMucHJvcHMub25FeGl0KGUpLHRoaXMuc2FmZVNldFN0YXRlKHtzdGF0dXM6XCJleGl0aW5nXCJ9LChmdW5jdGlvbigpe3QucHJvcHMub25FeGl0aW5nKGUpLHQub25UcmFuc2l0aW9uRW5kKGUsaS5leGl0LChmdW5jdGlvbigpe3Quc2FmZVNldFN0YXRlKHtzdGF0dXM6XCJleGl0ZWRcIn0sKGZ1bmN0aW9uKCl7dC5wcm9wcy5vbkV4aXRlZChlKX0pKX0pKX0pKSk6dGhpcy5zYWZlU2V0U3RhdGUoe3N0YXR1czpcImV4aXRlZFwifSwoZnVuY3Rpb24oKXt0LnByb3BzLm9uRXhpdGVkKGUpfSkpfSxuLmNhbmNlbE5leHRDYWxsYmFjaz1mdW5jdGlvbigpe251bGwhPT10aGlzLm5leHRDYWxsYmFjayYmKHRoaXMubmV4dENhbGxiYWNrLmNhbmNlbCgpLHRoaXMubmV4dENhbGxiYWNrPW51bGwpfSxuLnNhZmVTZXRTdGF0ZT1mdW5jdGlvbihlLHQpe3Q9dGhpcy5zZXROZXh0Q2FsbGJhY2sodCksdGhpcy5zZXRTdGF0ZShlLHQpfSxuLnNldE5leHRDYWxsYmFjaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLG49ITA7cmV0dXJuIHRoaXMubmV4dENhbGxiYWNrPWZ1bmN0aW9uKGkpe24mJihuPSExLHQubmV4dENhbGxiYWNrPW51bGwsZShpKSl9LHRoaXMubmV4dENhbGxiYWNrLmNhbmNlbD1mdW5jdGlvbigpe249ITF9LHRoaXMubmV4dENhbGxiYWNrfSxuLm9uVHJhbnNpdGlvbkVuZD1mdW5jdGlvbihlLHQsbil7dGhpcy5zZXROZXh0Q2FsbGJhY2sobik7dmFyIGk9bnVsbD09dCYmIXRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXI7ZSYmIWk/KHRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXImJnRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXIoZSx0aGlzLm5leHRDYWxsYmFjayksbnVsbCE9dCYmc2V0VGltZW91dCh0aGlzLm5leHRDYWxsYmFjayx0KSk6c2V0VGltZW91dCh0aGlzLm5leHRDYWxsYmFjaywwKX0sbi5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXRlLnN0YXR1cztpZihcInVubW91bnRlZFwiPT09ZSlyZXR1cm4gbnVsbDt2YXIgdD10aGlzLnByb3BzLG49dC5jaGlsZHJlbixpPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgbixpLHI9e30sbz1PYmplY3Qua2V5cyhlKTtmb3IoaT0wO2k8by5sZW5ndGg7aSsrKW49b1tpXSx0LmluZGV4T2Yobik+PTB8fChyW25dPWVbbl0pO3JldHVybiByfSh0LFtcImNoaWxkcmVuXCJdKTtpZihkZWxldGUgaS5pbixkZWxldGUgaS5tb3VudE9uRW50ZXIsZGVsZXRlIGkudW5tb3VudE9uRXhpdCxkZWxldGUgaS5hcHBlYXIsZGVsZXRlIGkuZW50ZXIsZGVsZXRlIGkuZXhpdCxkZWxldGUgaS50aW1lb3V0LGRlbGV0ZSBpLmFkZEVuZExpc3RlbmVyLGRlbGV0ZSBpLm9uRW50ZXIsZGVsZXRlIGkub25FbnRlcmluZyxkZWxldGUgaS5vbkVudGVyZWQsZGVsZXRlIGkub25FeGl0LGRlbGV0ZSBpLm9uRXhpdGluZyxkZWxldGUgaS5vbkV4aXRlZCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBuKXJldHVybiBuKGUsaSk7dmFyIG89ci5kZWZhdWx0LkNoaWxkcmVuLm9ubHkobik7cmV0dXJuIHIuZGVmYXVsdC5jbG9uZUVsZW1lbnQobyxpKX0sdH0oci5kZWZhdWx0LkNvbXBvbmVudCk7ZnVuY3Rpb24gYygpe31sLmNvbnRleHRUeXBlcz17dHJhbnNpdGlvbkdyb3VwOmkub2JqZWN0fSxsLmNoaWxkQ29udGV4dFR5cGVzPXt0cmFuc2l0aW9uR3JvdXA6ZnVuY3Rpb24oKXt9fSxsLnByb3BUeXBlcz17fSxsLmRlZmF1bHRQcm9wcz17aW46ITEsbW91bnRPbkVudGVyOiExLHVubW91bnRPbkV4aXQ6ITEsYXBwZWFyOiExLGVudGVyOiEwLGV4aXQ6ITAsb25FbnRlcjpjLG9uRW50ZXJpbmc6YyxvbkVudGVyZWQ6YyxvbkV4aXQ6YyxvbkV4aXRpbmc6YyxvbkV4aXRlZDpjfSxsLlVOTU9VTlRFRD0wLGwuRVhJVEVEPTEsbC5FTlRFUklORz0yLGwuRU5URVJFRD0zLGwuRVhJVElORz00O3ZhciB1PSgwLGEucG9seWZpbGwpKGwpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwLHQuY2xhc3NOYW1lc1NoYXBlPXQudGltZW91dHNTaGFwZT12b2lkIDA7IWZ1bmN0aW9uKGUpe2UmJmUuX19lc01vZHVsZX0obigzKSk7dC50aW1lb3V0c1NoYXBlPW51bGw7dC5jbGFzc05hbWVzU2hhcGU9bnVsbH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIGZ1bmN0aW9uKHIpe2kmJmkuY2FsbChlLHIpO3ZhciBvPSExO3JldHVybiByLmRlZmF1bHRQcmV2ZW50ZWQmJihvPSEwKSxlLnByb3BzLmRpc2FibGVUb3VjaFJpcHBsZSYmXCJCbHVyXCIhPT10JiYobz0hMCksIW8mJmUucmlwcGxlJiZlLnJpcHBsZVtuXShyKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnByb3BzW1wib25cIi5jb25jYXQodCldJiZlLnByb3BzW1wib25cIi5jb25jYXQodCldKHIpLCEwfX07XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdyYmKGk9ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt9fSk7dmFyIHI9aTt0LmRlZmF1bHQ9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKG4oMSkpLG89aShuKDYzKSksYT1pKG4oNjYpKSxzPXIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgMThjLTQuNDIgMC04LTMuNTgtOC04czMuNTgtOCA4LTggOCAzLjU4IDggOC0zLjU4IDgtOCA4elwifSksbD1mdW5jdGlvbihlKXtyZXR1cm4gci5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoYS5kZWZhdWx0LGUscyl9OyhsPSgwLG8uZGVmYXVsdCkobCkpLm11aU5hbWU9XCJTdmdJY29uXCI7dmFyIGM9bDt0LmRlZmF1bHQ9Y30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIHI9aShuKDE3NykpLG89bigxKSxhPShpKG4oNjQpKSxpKG4oNjUpKSxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49KDAsby5jcmVhdGVGYWN0b3J5KSh0KTtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gaSgpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc30oMCxyLmRlZmF1bHQpKGksdCk7dmFyIG89aS5wcm90b3R5cGU7cmV0dXJuIG8uc2hvdWxkQ29tcG9uZW50VXBkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMucHJvcHMsdCl9LG8ucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG4odGhpcy5wcm9wcyl9LGl9KG8uQ29tcG9uZW50KX19KTt0LmRlZmF1bHQ9YX0sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oNTgpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsaShlLHQpfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbltlXT10LG59fTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT9lLmRpc3BsYXlOYW1lfHxlLm5hbWV8fFwiQ29tcG9uZW50XCI6dm9pZCAwfTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIHI9aShuKDE4MSkpLmRlZmF1bHQ7dC5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDAhPT10fHwxL2U9PTEvdDplIT1lJiZ0IT10fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKHIoZSx0KSlyZXR1cm4hMDtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiB0fHxudWxsPT09dClyZXR1cm4hMTt2YXIgbj1PYmplY3Qua2V5cyhlKSxvPU9iamVjdC5rZXlzKHQpO2lmKG4ubGVuZ3RoIT09by5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBhPTA7YTxuLmxlbmd0aDthKyspaWYoIWkuY2FsbCh0LG5bYV0pfHwhcihlW25bYV1dLHRbblthXV0pKXJldHVybiExO3JldHVybiEwfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDUpKSxhPWkobig0KSkscz1pKG4oMSkpLGw9KGkobigzKSksaShuKDgpKSksYz0obig3KSxpKG4oOSkpKSx1PW4oMTYpLGg9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e3VzZXJTZWxlY3Q6XCJub25lXCIsd2lkdGg6XCIxZW1cIixoZWlnaHQ6XCIxZW1cIixkaXNwbGF5OlwiaW5saW5lLWJsb2NrXCIsZmlsbDpcImN1cnJlbnRDb2xvclwiLGZsZXhTaHJpbms6MCxmb250U2l6ZToyNCx0cmFuc2l0aW9uOmUudHJhbnNpdGlvbnMuY3JlYXRlKFwiZmlsbFwiLHtkdXJhdGlvbjplLnRyYW5zaXRpb25zLmR1cmF0aW9uLnNob3J0ZXJ9KX0sY29sb3JQcmltYXJ5Ontjb2xvcjplLnBhbGV0dGUucHJpbWFyeS5tYWlufSxjb2xvclNlY29uZGFyeTp7Y29sb3I6ZS5wYWxldHRlLnNlY29uZGFyeS5tYWlufSxjb2xvckFjdGlvbjp7Y29sb3I6ZS5wYWxldHRlLmFjdGlvbi5hY3RpdmV9LGNvbG9yRXJyb3I6e2NvbG9yOmUucGFsZXR0ZS5lcnJvci5tYWlufSxjb2xvckRpc2FibGVkOntjb2xvcjplLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkfSxmb250U2l6ZUluaGVyaXQ6e2ZvbnRTaXplOlwiaW5oZXJpdFwifSxmb250U2l6ZVNtYWxsOntmb250U2l6ZToyMH0sZm9udFNpemVMYXJnZTp7Zm9udFNpemU6MzV9fX07ZnVuY3Rpb24gZChlKXt2YXIgdCxuPWUuY2hpbGRyZW4saT1lLmNsYXNzZXMsYz1lLmNsYXNzTmFtZSxoPWUuY29sb3IsZD1lLmNvbXBvbmVudCxwPWUuZm9udFNpemUsZj1lLm5hdGl2ZUNvbG9yLG09ZS50aXRsZUFjY2VzcyxnPWUudmlld0JveCx5PSgwLGEuZGVmYXVsdCkoZSxbXCJjaGlsZHJlblwiLFwiY2xhc3Nlc1wiLFwiY2xhc3NOYW1lXCIsXCJjb2xvclwiLFwiY29tcG9uZW50XCIsXCJmb250U2l6ZVwiLFwibmF0aXZlQ29sb3JcIixcInRpdGxlQWNjZXNzXCIsXCJ2aWV3Qm94XCJdKTtyZXR1cm4gcy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoZCwoMCxyLmRlZmF1bHQpKHtjbGFzc05hbWU6KDAsbC5kZWZhdWx0KShpLnJvb3QsKHQ9e30sKDAsby5kZWZhdWx0KSh0LGlbXCJjb2xvclwiLmNvbmNhdCgoMCx1LmNhcGl0YWxpemUpKGgpKV0sXCJpbmhlcml0XCIhPT1oKSwoMCxvLmRlZmF1bHQpKHQsaVtcImZvbnRTaXplXCIuY29uY2F0KCgwLHUuY2FwaXRhbGl6ZSkocCkpXSxcImRlZmF1bHRcIiE9PXApLHQpLGMpLGZvY3VzYWJsZTpcImZhbHNlXCIsdmlld0JveDpnLGNvbG9yOmYsXCJhcmlhLWhpZGRlblwiOm0/XCJmYWxzZVwiOlwidHJ1ZVwiLHJvbGU6bT9cImltZ1wiOlwicHJlc2VudGF0aW9uXCJ9LHkpLG4sbT9zLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsbnVsbCxtKTpudWxsKX10LnN0eWxlcz1oLGQuZGVmYXVsdFByb3BzPXtjb2xvcjpcImluaGVyaXRcIixjb21wb25lbnQ6XCJzdmdcIixmb250U2l6ZTpcImRlZmF1bHRcIix2aWV3Qm94OlwiMCAwIDI0IDI0XCJ9LGQubXVpTmFtZT1cIlN2Z0ljb25cIjt2YXIgcD0oMCxjLmRlZmF1bHQpKGgse25hbWU6XCJNdWlTdmdJY29uXCJ9KShkKTt0LmRlZmF1bHQ9cH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKG4oMSkpLG89aShuKDYzKSksYT1pKG4oNjYpKSxzPXIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTEyIDdjLTIuNzYgMC01IDIuMjQtNSA1czIuMjQgNSA1IDUgNS0yLjI0IDUtNS0yLjI0LTUtNS01em0wLTVDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgMThjLTQuNDIgMC04LTMuNTgtOC04czMuNTgtOCA4LTggOCAzLjU4IDggOC0zLjU4IDgtOCA4elwifSksbD1mdW5jdGlvbihlKXtyZXR1cm4gci5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoYS5kZWZhdWx0LGUscyl9OyhsPSgwLG8uZGVmYXVsdCkobCkpLm11aU5hbWU9XCJTdmdJY29uXCI7dmFyIGM9bDt0LmRlZmF1bHQ9Y30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZGVmYXVsdH19KTt2YXIgcj1pKG4oMTg1KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIHI9aShuKDIpKSxvPWkobig0KSksYT1pKG4oMTApKSxzPWkobigxMSkpLGw9aShuKDEyKSksYz1pKG4oMTMpKSx1PWkobigxNCkpLGg9aShuKDEpKSxkPShpKG4oMykpLGkobig2KSksaShuKDE4NikpKSxwPW4oMTYpLGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgbjtyZXR1cm4oMCxhLmRlZmF1bHQpKHRoaXMsdCksKG49KDAsbC5kZWZhdWx0KSh0aGlzLCgwLGMuZGVmYXVsdCkodCkuY2FsbCh0aGlzKSkpLnJhZGlvcz1bXSxuLmZvY3VzPWZ1bmN0aW9uKCl7aWYobi5yYWRpb3MmJm4ucmFkaW9zLmxlbmd0aCl7dmFyIGU9bi5yYWRpb3MuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5kaXNhYmxlZH0pKTtpZihlLmxlbmd0aCl7dmFyIHQ9KDAscC5maW5kKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGVja2VkfSkpO3Q/dC5mb2N1cygpOmVbMF0uZm9jdXMoKX19fSxuLmhhbmRsZUNoYW5nZT1mdW5jdGlvbihlKXtuLmlzQ29udHJvbGxlZHx8bi5zZXRTdGF0ZSh7dmFsdWU6ZS50YXJnZXQudmFsdWV9KSxuLnByb3BzLm9uQ2hhbmdlJiZuLnByb3BzLm9uQ2hhbmdlKGUsZS50YXJnZXQudmFsdWUpfSxuLmlzQ29udHJvbGxlZD1udWxsIT1lLnZhbHVlLG4uaXNDb250cm9sbGVkfHwobi5zdGF0ZT17dmFsdWU6ZS5kZWZhdWx0VmFsdWV9KSxufXJldHVybigwLHUuZGVmYXVsdCkodCxlKSwoMCxzLmRlZmF1bHQpKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnByb3BzLG49dC5jaGlsZHJlbixpPXQubmFtZSxhPXQudmFsdWUscz0odC5vbkNoYW5nZSwoMCxvLmRlZmF1bHQpKHQsW1wiY2hpbGRyZW5cIixcIm5hbWVcIixcInZhbHVlXCIsXCJvbkNoYW5nZVwiXSkpLGw9dGhpcy5pc0NvbnRyb2xsZWQ/YTp0aGlzLnN0YXRlLnZhbHVlO3JldHVybiB0aGlzLnJhZGlvcz1bXSxoLmRlZmF1bHQuY3JlYXRlRWxlbWVudChkLmRlZmF1bHQsKDAsci5kZWZhdWx0KSh7cm9sZTpcInJhZGlvZ3JvdXBcIn0scyksaC5kZWZhdWx0LkNoaWxkcmVuLm1hcChuLChmdW5jdGlvbih0KXtyZXR1cm4gaC5kZWZhdWx0LmlzVmFsaWRFbGVtZW50KHQpP2guZGVmYXVsdC5jbG9uZUVsZW1lbnQodCx7bmFtZTppLGlucHV0UmVmOmZ1bmN0aW9uKHQpe3QmJmUucmFkaW9zLnB1c2godCl9LGNoZWNrZWQ6bD09PXQucHJvcHMudmFsdWUsb25DaGFuZ2U6KDAscC5jcmVhdGVDaGFpbmVkRnVuY3Rpb24pKHQucHJvcHMub25DaGFuZ2UsZS5oYW5kbGVDaGFuZ2UpfSk6bnVsbH0pKSl9fV0pLHR9KGguZGVmYXVsdC5Db21wb25lbnQpO3QuZGVmYXVsdD1mfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5kZWZhdWx0fX0pO3ZhciByPWkobigxODcpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDUpKSxhPWkobig0KSkscz1pKG4oMSkpLGw9KGkobigzKSksaShuKDgpKSksYz1pKG4oOSkpLHU9e3Jvb3Q6e2Rpc3BsYXk6XCJmbGV4XCIsZmxleERpcmVjdGlvbjpcImNvbHVtblwiLGZsZXhXcmFwOlwid3JhcFwifSxyb3c6e2ZsZXhEaXJlY3Rpb246XCJyb3dcIn19O2Z1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5jbGFzc2VzLG49ZS5jbGFzc05hbWUsaT1lLmNoaWxkcmVuLGM9ZS5yb3csdT0oMCxhLmRlZmF1bHQpKGUsW1wiY2xhc3Nlc1wiLFwiY2xhc3NOYW1lXCIsXCJjaGlsZHJlblwiLFwicm93XCJdKTtyZXR1cm4gcy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwoMCxyLmRlZmF1bHQpKHtjbGFzc05hbWU6KDAsbC5kZWZhdWx0KSh0LnJvb3QsKDAsby5kZWZhdWx0KSh7fSx0LnJvdyxjKSxuKX0sdSksaSl9dC5zdHlsZXM9dSxoLmRlZmF1bHRQcm9wcz17cm93OiExfTt2YXIgZD0oMCxjLmRlZmF1bHQpKHUse25hbWU6XCJNdWlGb3JtR3JvdXBcIn0pKGgpO3QuZGVmYXVsdD1kfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5kZWZhdWx0fX0pO3ZhciByPWkobigxODkpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDUpKSxhPWkobig0KSkscz1pKG4oMSkpLGw9KGkobigzKSksaShuKDgpKSksYz1pKG4oMzkpKSx1PWkobig5KSksaD1pKG4oMjcpKSxkPW4oMTYpLHA9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e2Rpc3BsYXk6XCJpbmxpbmUtZmxleFwiLGFsaWduSXRlbXM6XCJjZW50ZXJcIixjdXJzb3I6XCJwb2ludGVyXCIsdmVydGljYWxBbGlnbjpcIm1pZGRsZVwiLFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOlwidHJhbnNwYXJlbnRcIixtYXJnaW5MZWZ0Oi0xNCxtYXJnaW5SaWdodDoxNixcIiYkZGlzYWJsZWRcIjp7Y3Vyc29yOlwiZGVmYXVsdFwifX0sbGFiZWxQbGFjZW1lbnRTdGFydDp7ZmxleERpcmVjdGlvbjpcInJvdy1yZXZlcnNlXCIsbWFyZ2luTGVmdDoxNixtYXJnaW5SaWdodDotMTR9LGxhYmVsUGxhY2VtZW50VG9wOntmbGV4RGlyZWN0aW9uOlwiY29sdW1uLXJldmVyc2VcIixtYXJnaW5MZWZ0OjE2fSxsYWJlbFBsYWNlbWVudEJvdHRvbTp7ZmxleERpcmVjdGlvbjpcImNvbHVtblwiLG1hcmdpbkxlZnQ6MTZ9LGRpc2FibGVkOnt9LGxhYmVsOntcIiYkZGlzYWJsZWRcIjp7Y29sb3I6ZS5wYWxldHRlLnRleHQuZGlzYWJsZWR9fX19O2Z1bmN0aW9uIGYoZSl7ZS5jaGVja2VkO3ZhciB0LG49ZS5jbGFzc2VzLGk9ZS5jbGFzc05hbWUsYz1lLmNvbnRyb2wsdT1lLmRpc2FibGVkLHA9KGUuaW5wdXRSZWYsZS5sYWJlbCksZj1lLmxhYmVsUGxhY2VtZW50LG09ZS5tdWlGb3JtQ29udHJvbCxnPShlLm5hbWUsZS5vbkNoYW5nZSxlLnZhbHVlLCgwLGEuZGVmYXVsdCkoZSxbXCJjaGVja2VkXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbnRyb2xcIixcImRpc2FibGVkXCIsXCJpbnB1dFJlZlwiLFwibGFiZWxcIixcImxhYmVsUGxhY2VtZW50XCIsXCJtdWlGb3JtQ29udHJvbFwiLFwibmFtZVwiLFwib25DaGFuZ2VcIixcInZhbHVlXCJdKSkseT11O3ZvaWQgMD09PXkmJnZvaWQgMCE9PWMucHJvcHMuZGlzYWJsZWQmJih5PWMucHJvcHMuZGlzYWJsZWQpLHZvaWQgMD09PXkmJm0mJih5PW0uZGlzYWJsZWQpO3ZhciBfPXtkaXNhYmxlZDp5fTtyZXR1cm5bXCJjaGVja2VkXCIsXCJuYW1lXCIsXCJvbkNoYW5nZVwiLFwidmFsdWVcIixcImlucHV0UmVmXCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZvaWQgMD09PWMucHJvcHNbdF0mJnZvaWQgMCE9PWVbdF0mJihfW3RdPWVbdF0pfSkpLHMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwoMCxyLmRlZmF1bHQpKHtjbGFzc05hbWU6KDAsbC5kZWZhdWx0KShuLnJvb3QsKHQ9e30sKDAsby5kZWZhdWx0KSh0LG5bXCJsYWJlbFBsYWNlbWVudFwiLmNvbmNhdCgoMCxkLmNhcGl0YWxpemUpKGYpKV0sXCJlbmRcIiE9PWYpLCgwLG8uZGVmYXVsdCkodCxuLmRpc2FibGVkLHkpLHQpLGkpfSxnKSxzLmRlZmF1bHQuY2xvbmVFbGVtZW50KGMsXykscy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoaC5kZWZhdWx0LHtjb21wb25lbnQ6XCJzcGFuXCIsY2xhc3NOYW1lOigwLGwuZGVmYXVsdCkobi5sYWJlbCwoMCxvLmRlZmF1bHQpKHt9LG4uZGlzYWJsZWQseSkpfSxwKSl9dC5zdHlsZXM9cCxmLmRlZmF1bHRQcm9wcz17bGFiZWxQbGFjZW1lbnQ6XCJlbmRcIn07dmFyIG09KDAsdS5kZWZhdWx0KShwLHtuYW1lOlwiTXVpRm9ybUNvbnRyb2xMYWJlbFwifSkoKDAsYy5kZWZhdWx0KShmKSk7dC5kZWZhdWx0PW19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmRlZmF1bHR9fSk7dmFyIHI9aShuKDE5MSkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciByPWkobigyKSksbz1pKG4oNSkpLGE9aShuKDQpKSxzPWkobigxMCkpLGw9aShuKDEyKSksYz1pKG4oMTMpKSx1PWkobigxMSkpLGg9aShuKDE0KSksZD1pKG4oMSkpLHA9KGkobigzKSksaShuKDgpKSksZj0obig3KSxuKDE5MikpLG09aShuKDkpKSxnPW4oMTYpLHk9bigxOTMpLF89aShuKDU5KSksdj17cm9vdDp7ZGlzcGxheTpcImlubGluZS1mbGV4XCIsZmxleERpcmVjdGlvbjpcImNvbHVtblwiLHBvc2l0aW9uOlwicmVsYXRpdmVcIixtaW5XaWR0aDowLHBhZGRpbmc6MCxtYXJnaW46MCxib3JkZXI6MCx2ZXJ0aWNhbEFsaWduOlwidG9wXCJ9LG1hcmdpbk5vcm1hbDp7bWFyZ2luVG9wOjE2LG1hcmdpbkJvdHRvbTo4fSxtYXJnaW5EZW5zZTp7bWFyZ2luVG9wOjgsbWFyZ2luQm90dG9tOjR9LGZ1bGxXaWR0aDp7d2lkdGg6XCIxMDAlXCJ9fTt0LnN0eWxlcz12O3ZhciB4PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIG47KDAscy5kZWZhdWx0KSh0aGlzLHQpLChuPSgwLGwuZGVmYXVsdCkodGhpcywoMCxjLmRlZmF1bHQpKHQpLmNhbGwodGhpcykpKS5oYW5kbGVGb2N1cz1mdW5jdGlvbigpe24uc2V0U3RhdGUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmZvY3VzZWQ/bnVsbDp7Zm9jdXNlZDohMH19KSl9LG4uaGFuZGxlQmx1cj1mdW5jdGlvbigpe24uc2V0U3RhdGUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmZvY3VzZWQ/e2ZvY3VzZWQ6ITF9Om51bGx9KSl9LG4uaGFuZGxlRGlydHk9ZnVuY3Rpb24oKXtuLnN0YXRlLmZpbGxlZHx8bi5zZXRTdGF0ZSh7ZmlsbGVkOiEwfSl9LG4uaGFuZGxlQ2xlYW49ZnVuY3Rpb24oKXtuLnN0YXRlLmZpbGxlZCYmbi5zZXRTdGF0ZSh7ZmlsbGVkOiExfSl9LG4uc3RhdGU9e2Fkb3JuZWRTdGFydDohMSxmaWxsZWQ6ITEsZm9jdXNlZDohMX07dmFyIGk9ZS5jaGlsZHJlbjtyZXR1cm4gaSYmZC5kZWZhdWx0LkNoaWxkcmVuLmZvckVhY2goaSwoZnVuY3Rpb24oZSl7aWYoKDAseS5pc011aUVsZW1lbnQpKGUsW1wiSW5wdXRcIixcIlNlbGVjdFwiXSkpeygwLGYuaXNGaWxsZWQpKGUucHJvcHMsITApJiYobi5zdGF0ZS5maWxsZWQ9ITApO3ZhciB0PSgwLHkuaXNNdWlFbGVtZW50KShlLFtcIlNlbGVjdFwiXSk/ZS5wcm9wcy5pbnB1dDplO3QmJigwLGYuaXNBZG9ybmVkU3RhcnQpKHQucHJvcHMpJiYobi5zdGF0ZS5hZG9ybmVkU3RhcnQ9ITApfX0pKSxufXJldHVybigwLGguZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsbnVsbCxbe2tleTpcImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZGlzYWJsZWQmJnQuZm9jdXNlZD97Zm9jdXNlZDohMX06bnVsbH19XSksKDAsdS5kZWZhdWx0KSh0LFt7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMucHJvcHMsbj10LmNsYXNzZXMsaT10LmNsYXNzTmFtZSxzPXQuY29tcG9uZW50LGw9dC5kaXNhYmxlZCxjPXQuZXJyb3IsdT10LmZ1bGxXaWR0aCxoPXQubWFyZ2luLGY9dC5yZXF1aXJlZCxtPXQudmFyaWFudCx5PSgwLGEuZGVmYXVsdCkodCxbXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbXBvbmVudFwiLFwiZGlzYWJsZWRcIixcImVycm9yXCIsXCJmdWxsV2lkdGhcIixcIm1hcmdpblwiLFwicmVxdWlyZWRcIixcInZhcmlhbnRcIl0pLHY9dGhpcy5zdGF0ZSx4PXthZG9ybmVkU3RhcnQ6di5hZG9ybmVkU3RhcnQsZGlzYWJsZWQ6bCxlcnJvcjpjLGZpbGxlZDp2LmZpbGxlZCxmb2N1c2VkOnYuZm9jdXNlZCxtYXJnaW46aCxvbkJsdXI6dGhpcy5oYW5kbGVCbHVyLG9uRW1wdHk6dGhpcy5oYW5kbGVDbGVhbixvbkZpbGxlZDp0aGlzLmhhbmRsZURpcnR5LG9uRm9jdXM6dGhpcy5oYW5kbGVGb2N1cyxyZXF1aXJlZDpmLHZhcmlhbnQ6bX07cmV0dXJuIGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF8uZGVmYXVsdC5Qcm92aWRlcix7dmFsdWU6eH0sZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQocywoMCxyLmRlZmF1bHQpKHtjbGFzc05hbWU6KDAscC5kZWZhdWx0KShuLnJvb3QsKGU9e30sKDAsby5kZWZhdWx0KShlLG5bXCJtYXJnaW5cIi5jb25jYXQoKDAsZy5jYXBpdGFsaXplKShoKSldLFwibm9uZVwiIT09aCksKDAsby5kZWZhdWx0KShlLG4uZnVsbFdpZHRoLHUpLGUpLGkpfSx5KSkpfX1dKSx0fShkLmRlZmF1bHQuQ29tcG9uZW50KTt4LmRlZmF1bHRQcm9wcz17Y29tcG9uZW50OlwiZGl2XCIsZGlzYWJsZWQ6ITEsZXJyb3I6ITEsZnVsbFdpZHRoOiExLG1hcmdpbjpcIm5vbmVcIixyZXF1aXJlZDohMSx2YXJpYW50Olwic3RhbmRhcmRcIn07dmFyIGI9KDAsbS5kZWZhdWx0KSh2LHtuYW1lOlwiTXVpRm9ybUNvbnRyb2xcIn0pKHgpO3QuZGVmYXVsdD1ifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtyZXR1cm4gbnVsbCE9ZSYmIShBcnJheS5pc0FycmF5KGUpJiYwPT09ZS5sZW5ndGgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaGFzVmFsdWU9aSx0LmlzRmlsbGVkPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIGUmJihpKGUudmFsdWUpJiZcIlwiIT09ZS52YWx1ZXx8dCYmaShlLmRlZmF1bHRWYWx1ZSkmJlwiXCIhPT1lLmRlZmF1bHRWYWx1ZSl9LHQuaXNBZG9ybmVkU3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnRBZG9ybm1lbnR9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNsb25lRWxlbWVudFdpdGhDbGFzc05hbWU9YSx0LmNsb25lQ2hpbGRyZW5XaXRoQ2xhc3NOYW1lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuZGVmYXVsdC5DaGlsZHJlbi5tYXAoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZGVmYXVsdC5pc1ZhbGlkRWxlbWVudChlKSYmYShlLHQpfSkpfSx0LmlzTXVpRWxlbWVudD1mdW5jdGlvbihlLHQpe3JldHVybiByLmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQoZSkmJi0xIT09dC5pbmRleE9mKGUudHlwZS5tdWlOYW1lKX0sdC5zZXRSZWY9ZnVuY3Rpb24oZSx0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UodCk6ZSYmKGUuY3VycmVudD10KX07dmFyIHI9aShuKDEpKSxvPWkobig4KSk7ZnVuY3Rpb24gYShlLHQpe3JldHVybiByLmRlZmF1bHQuY2xvbmVFbGVtZW50KGUse2NsYXNzTmFtZTooMCxvLmRlZmF1bHQpKGUucHJvcHMuY2xhc3NOYW1lLHQpfSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5kZWZhdWx0fX0pO3ZhciByPWkobigxOTUpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDUpKSxhPWkobig0KSkscz1pKG4oMSkpLGw9KGkobigzKSksaShuKDgpKSksYz0obig3KSxpKG4oMTk2KSkpLHU9aShuKDM5KSksaD1pKG4oOSkpLGQ9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e2ZvbnRGYW1pbHk6ZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHksY29sb3I6ZS5wYWxldHRlLnRleHQuc2Vjb25kYXJ5LGZvbnRTaXplOmUudHlwb2dyYXBoeS5weFRvUmVtKDE2KSxsaW5lSGVpZ2h0OjEscGFkZGluZzowLFwiJiRmb2N1c2VkXCI6e2NvbG9yOmUucGFsZXR0ZS5wcmltYXJ5W1wibGlnaHRcIj09PWUucGFsZXR0ZS50eXBlP1wiZGFya1wiOlwibGlnaHRcIl19LFwiJiRkaXNhYmxlZFwiOntjb2xvcjplLnBhbGV0dGUudGV4dC5kaXNhYmxlZH0sXCImJGVycm9yXCI6e2NvbG9yOmUucGFsZXR0ZS5lcnJvci5tYWlufX0sZm9jdXNlZDp7fSxkaXNhYmxlZDp7fSxlcnJvcjp7fSxmaWxsZWQ6e30scmVxdWlyZWQ6e30sYXN0ZXJpc2s6e1wiJiRlcnJvclwiOntjb2xvcjplLnBhbGV0dGUuZXJyb3IubWFpbn19fX07ZnVuY3Rpb24gcChlKXt2YXIgdCxuPWUuY2hpbGRyZW4saT1lLmNsYXNzZXMsdT1lLmNsYXNzTmFtZSxoPWUuY29tcG9uZW50LGQ9KGUuZGlzYWJsZWQsZS5lcnJvcixlLmZpbGxlZCxlLmZvY3VzZWQsZS5tdWlGb3JtQ29udHJvbCkscD0oZS5yZXF1aXJlZCwoMCxhLmRlZmF1bHQpKGUsW1wiY2hpbGRyZW5cIixcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiY29tcG9uZW50XCIsXCJkaXNhYmxlZFwiLFwiZXJyb3JcIixcImZpbGxlZFwiLFwiZm9jdXNlZFwiLFwibXVpRm9ybUNvbnRyb2xcIixcInJlcXVpcmVkXCJdKSksZj0oMCxjLmRlZmF1bHQpKHtwcm9wczplLG11aUZvcm1Db250cm9sOmQsc3RhdGVzOltcInJlcXVpcmVkXCIsXCJmb2N1c2VkXCIsXCJkaXNhYmxlZFwiLFwiZXJyb3JcIixcImZpbGxlZFwiXX0pO3JldHVybiBzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChoLCgwLHIuZGVmYXVsdCkoe2NsYXNzTmFtZTooMCxsLmRlZmF1bHQpKGkucm9vdCwodD17fSwoMCxvLmRlZmF1bHQpKHQsaS5kaXNhYmxlZCxmLmRpc2FibGVkKSwoMCxvLmRlZmF1bHQpKHQsaS5lcnJvcixmLmVycm9yKSwoMCxvLmRlZmF1bHQpKHQsaS5maWxsZWQsZi5maWxsZWQpLCgwLG8uZGVmYXVsdCkodCxpLmZvY3VzZWQsZi5mb2N1c2VkKSwoMCxvLmRlZmF1bHQpKHQsaS5yZXF1aXJlZCxmLnJlcXVpcmVkKSx0KSx1KX0scCksbixmLnJlcXVpcmVkJiZzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOigwLGwuZGVmYXVsdCkoaS5hc3RlcmlzaywoMCxvLmRlZmF1bHQpKHt9LGkuZXJyb3IsZi5lcnJvcikpfSxcIuKAiSpcIikpfXQuc3R5bGVzPWQscC5kZWZhdWx0UHJvcHM9e2NvbXBvbmVudDpcImxhYmVsXCJ9O3ZhciBmPSgwLGguZGVmYXVsdCkoZCx7bmFtZTpcIk11aUZvcm1MYWJlbFwifSkoKDAsdS5kZWZhdWx0KShwKSk7dC5kZWZhdWx0PWZ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wcyxuPWUuc3RhdGVzLGk9ZS5tdWlGb3JtQ29udHJvbDtyZXR1cm4gbi5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGVbbl09dFtuXSxpJiZ2b2lkIDA9PT10W25dJiYoZVtuXT1pW25dKSxlfSkse30pfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oMTk4KTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1tlLmksaSxcIlwiXV0pO3ZhciByPXtobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigzOCkoaSxyKTtpLmxvY2FscyYmKGUuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKGUsdCxuKXsoZS5leHBvcnRzPW4oMzcpKCExKSkucHVzaChbZS5pLFwiLm1hcGJveGdsLW1hcHstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6cmdiKDAgMCAwLzApO2ZvbnQ6MTJweC8yMHB4IEhlbHZldGljYSBOZXVlLEFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjpyZWxhdGl2ZX0ubWFwYm94Z2wtY2FudmFze2xlZnQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MH0ubWFwYm94Z2wtbWFwOi13ZWJraXQtZnVsbC1zY3JlZW57aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJX0ubWFwYm94Z2wtY2FuYXJ5e2JhY2tncm91bmQtY29sb3I6c2FsbW9ufS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLWludGVyYWN0aXZlLC5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWNvbXBhc3N7Y3Vyc29yOmdyYWI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9Lm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtaW50ZXJhY3RpdmUubWFwYm94Z2wtdHJhY2stcG9pbnRlcntjdXJzb3I6cG9pbnRlcn0ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC1pbnRlcmFjdGl2ZTphY3RpdmUsLm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uLm1hcGJveGdsLWN0cmwtY29tcGFzczphY3RpdmV7Y3Vyc29yOmdyYWJiaW5nfS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlLC5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlIC5tYXBib3hnbC1jYW52YXN7dG91Y2gtYWN0aW9uOnBhbi14IHBhbi15fS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLWRyYWctcGFuLC5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLWRyYWctcGFuIC5tYXBib3hnbC1jYW52YXN7dG91Y2gtYWN0aW9uOnBpbmNoLXpvb219Lm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUubWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4sLm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUubWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4gLm1hcGJveGdsLWNhbnZhc3t0b3VjaC1hY3Rpb246bm9uZX0ubWFwYm94Z2wtY3RybC1ib3R0b20tbGVmdCwubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQsLm1hcGJveGdsLWN0cmwtdG9wLWxlZnQsLm1hcGJveGdsLWN0cmwtdG9wLXJpZ2h0e3BvaW50ZXItZXZlbnRzOm5vbmU7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoyfS5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0e2xlZnQ6MDt0b3A6MH0ubWFwYm94Z2wtY3RybC10b3AtcmlnaHR7cmlnaHQ6MDt0b3A6MH0ubWFwYm94Z2wtY3RybC1ib3R0b20tbGVmdHtib3R0b206MDtsZWZ0OjB9Lm1hcGJveGdsLWN0cmwtYm90dG9tLXJpZ2h0e2JvdHRvbTowO3JpZ2h0OjB9Lm1hcGJveGdsLWN0cmx7Y2xlYXI6Ym90aDtwb2ludGVyLWV2ZW50czphdXRvO3RyYW5zZm9ybTp0cmFuc2xhdGUoMCl9Lm1hcGJveGdsLWN0cmwtdG9wLWxlZnQgLm1hcGJveGdsLWN0cmx7ZmxvYXQ6bGVmdDttYXJnaW46MTBweCAwIDAgMTBweH0ubWFwYm94Z2wtY3RybC10b3AtcmlnaHQgLm1hcGJveGdsLWN0cmx7ZmxvYXQ6cmlnaHQ7bWFyZ2luOjEwcHggMTBweCAwIDB9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQgLm1hcGJveGdsLWN0cmx7ZmxvYXQ6bGVmdDttYXJnaW46MCAwIDEwcHggMTBweH0ubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQgLm1hcGJveGdsLWN0cmx7ZmxvYXQ6cmlnaHQ7bWFyZ2luOjAgMTBweCAxMHB4IDB9Lm1hcGJveGdsLWN0cmwtZ3JvdXB7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6NHB4fS5tYXBib3hnbC1jdHJsLWdyb3VwOm5vdCg6ZW1wdHkpe2JveC1zaGFkb3c6MCAwIDAgMnB4IHJnYmEoMCwwLDAsLjEpfUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybC1ncm91cDpub3QoOmVtcHR5KXtib3gtc2hhZG93OjAgMCAwIDJweCBCdXR0b25UZXh0fX0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b257YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXI6MDtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpibG9jaztoZWlnaHQ6MjlweDtvdXRsaW5lOm5vbmU7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MDt3aWR0aDoyOXB4fS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbitidXR0b257Ym9yZGVyLXRvcDoxcHggc29saWQgI2RkZH0ubWFwYm94Z2wtY3RybCBidXR0b24gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7ZGlzcGxheTpibG9jaztoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlfUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uK2J1dHRvbntib3JkZXItdG9wOjFweCBzb2xpZCBCdXR0b25UZXh0fX0ubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9uOmZvY3VzLC5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbjpmb2N1c3tib3gtc2hhZG93OjAgMCAycHggMnB4ICMwMDk2ZmZ9Lm1hcGJveGdsLWN0cmwgYnV0dG9uOmRpc2FibGVke2N1cnNvcjpub3QtYWxsb3dlZH0ubWFwYm94Z2wtY3RybCBidXR0b246ZGlzYWJsZWQgLm1hcGJveGdsLWN0cmwtaWNvbntvcGFjaXR5Oi4yNX0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b246Zmlyc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czo0cHggNHB4IDAgMH0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b246bGFzdC1jaGlsZHtib3JkZXItcmFkaXVzOjAgMCA0cHggNHB4fS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbjpvbmx5LWNoaWxke2JvcmRlci1yYWRpdXM6aW5oZXJpdH0ubWFwYm94Z2wtY3RybCBidXR0b246bm90KDpkaXNhYmxlZCk6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2IoMCAwIDAvNSUpfS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbjpmb2N1czpmb2N1cy12aXNpYmxle2JveC1zaGFkb3c6MCAwIDJweCAycHggIzAwOTZmZn0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b246Zm9jdXM6bm90KDpmb2N1cy12aXNpYmxlKXtib3gtc2hhZG93Om5vbmV9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtem9vbS1vdXQgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzMzMyclM0UlM0NwYXRoIGQ9J00xMCAxM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmg5Yy43NSAwIDEuNS0uNzUgMS41LTEuNVMxOS43NSAxMyAxOSAxM2gtOXonLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLWluIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzMzMnJTNFJTNDcGF0aCBkPSdNMTQuNSA4LjVjLS43NSAwLTEuNS43NS0xLjUgMS41djNoLTNjLS43NSAwLTEuNS43NS0xLjUgMS41UzkuMjUgMTYgMTAgMTZoM3YzYzAgLjc1Ljc1IDEuNSAxLjUgMS41UzE2IDE5Ljc1IDE2IDE5di0zaDNjLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC0zdi0zYzAtLjc1LS43NS0xLjUtMS41LTEuNXonLyUzRSUzQy9zdmclM0VcXFwiKX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtem9vbS1vdXQgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00xMCAxM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmg5Yy43NSAwIDEuNS0uNzUgMS41LTEuNVMxOS43NSAxMyAxOSAxM2gtOXonLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLWluIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMTQuNSA4LjVjLS43NSAwLTEuNS43NS0xLjUgMS41djNoLTNjLS43NSAwLTEuNS43NS0xLjUgMS41UzkuMjUgMTYgMTAgMTZoM3YzYzAgLjc1Ljc1IDEuNSAxLjUgMS41UzE2IDE5Ljc1IDE2IDE5di0zaDNjLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC0zdi0zYzAtLjc1LS43NS0xLjUtMS41LTEuNXonLyUzRSUzQy9zdmclM0VcXFwiKX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtem9vbS1vdXQgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzAwMCclM0UlM0NwYXRoIGQ9J00xMCAxM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmg5Yy43NSAwIDEuNS0uNzUgMS41LTEuNVMxOS43NSAxMyAxOSAxM2gtOXonLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLWluIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMwMDAnJTNFJTNDcGF0aCBkPSdNMTQuNSA4LjVjLS43NSAwLTEuNS43NS0xLjUgMS41djNoLTNjLS43NSAwLTEuNS43NS0xLjUgMS41UzkuMjUgMTYgMTAgMTZoM3YzYzAgLjc1Ljc1IDEuNSAxLjUgMS41UzE2IDE5Ljc1IDE2IDE5di0zaDNjLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC0zdi0zYzAtLjc1LS43NS0xLjUtMS41LTEuNXonLyUzRSUzQy9zdmclM0VcXFwiKX19Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlbiAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzMzJyUzRSUzQ3BhdGggZD0nTTI0IDE2djUuNWMwIDEuNzUtLjc1IDIuNS0yLjUgMi41SDE2di0xbDMtMS41LTQtNS41IDEtMSA1LjUgNCAxLjUtM2gxek02IDE2bDEuNSAzIDUuNS00IDEgMS00IDUuNSAzIDEuNXYxSDcuNUM1Ljc1IDI0IDUgMjMuMjUgNSAyMS41VjE2aDF6bTctMTF2MWwtMyAxLjUgNCA1LjUtMSAxLTUuNS00TDYgMTNINVY3LjVDNSA1Ljc1IDUuNzUgNSA3LjUgNUgxM3ptMTEgMi41YzAtMS43NS0uNzUtMi41LTIuNS0yLjVIMTZ2MWwzIDEuNS00IDUuNSAxIDEgNS41LTQgMS41IDNoMVY3LjV6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtc2hyaW5rIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSUzQ3BhdGggZD0nTTE4LjUgMTZjLTEuNzUgMC0yLjUuNzUtMi41IDIuNVYyNGgxbDEuNS0zIDUuNSA0IDEtMS00LTUuNSAzLTEuNXYtMWgtNS41ek0xMyAxOC41YzAtMS43NS0uNzUtMi41LTIuNS0yLjVINXYxbDMgMS41TDQgMjRsMSAxIDUuNS00IDEuNSAzaDF2LTUuNXptMy04YzAgMS43NS43NSAyLjUgMi41IDIuNUgyNHYtMWwtMy0xLjVMMjUgNWwtMS0xLTUuNSA0TDE3IDVoLTF2NS41ek0xMC41IDEzYzEuNzUgMCAyLjUtLjc1IDIuNS0yLjVWNWgtMWwtMS41IDNMNSA0IDQgNWw0IDUuNUw1IDEydjFoNS41eicvJTNFJTNDL3N2ZyUzRVxcXCIpfUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMjQgMTZ2NS41YzAgMS43NS0uNzUgMi41LTIuNSAyLjVIMTZ2LTFsMy0xLjUtNC01LjUgMS0xIDUuNSA0IDEuNS0zaDF6TTYgMTZsMS41IDMgNS41LTQgMSAxLTQgNS41IDMgMS41djFINy41QzUuNzUgMjQgNSAyMy4yNSA1IDIxLjVWMTZoMXptNy0xMXYxbC0zIDEuNSA0IDUuNS0xIDEtNS41LTRMNiAxM0g1VjcuNUM1IDUuNzUgNS43NSA1IDcuNSA1SDEzem0xMSAyLjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUgxNnYxbDMgMS41LTQgNS41IDEgMSA1LjUtNCAxLjUgM2gxVjcuNXonLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1zaHJpbmsgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00xOC41IDE2Yy0xLjc1IDAtMi41Ljc1LTIuNSAyLjVWMjRoMWwxLjUtMyA1LjUgNCAxLTEtNC01LjUgMy0xLjV2LTFoLTUuNXpNMTMgMTguNWMwLTEuNzUtLjc1LTIuNS0yLjUtMi41SDV2MWwzIDEuNUw0IDI0bDEgMSA1LjUtNCAxLjUgM2gxdi01LjV6bTMtOGMwIDEuNzUuNzUgMi41IDIuNSAyLjVIMjR2LTFsLTMtMS41TDI1IDVsLTEtMS01LjUgNEwxNyA1aC0xdjUuNXpNMTAuNSAxM2MxLjc1IDAgMi41LS43NSAyLjUtMi41VjVoLTFsLTEuNSAzTDUgNCA0IDVsNCA1LjVMNSAxMnYxaDUuNXonLyUzRSUzQy9zdmclM0VcXFwiKX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlbiAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMDAwJyUzRSUzQ3BhdGggZD0nTTI0IDE2djUuNWMwIDEuNzUtLjc1IDIuNS0yLjUgMi41SDE2di0xbDMtMS41LTQtNS41IDEtMSA1LjUgNCAxLjUtM2gxek02IDE2bDEuNSAzIDUuNS00IDEgMS00IDUuNSAzIDEuNXYxSDcuNUM1Ljc1IDI0IDUgMjMuMjUgNSAyMS41VjE2aDF6bTctMTF2MWwtMyAxLjUgNCA1LjUtMSAxLTUuNS00TDYgMTNINVY3LjVDNSA1Ljc1IDUuNzUgNSA3LjUgNUgxM3ptMTEgMi41YzAtMS43NS0uNzUtMi41LTIuNS0yLjVIMTZ2MWwzIDEuNS00IDUuNSAxIDEgNS41LTQgMS41IDNoMVY3LjV6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtc2hyaW5rIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMwMDAnJTNFJTNDcGF0aCBkPSdNMTguNSAxNmMtMS43NSAwLTIuNS43NS0yLjUgMi41VjI0aDFsMS41LTMgNS41IDQgMS0xLTQtNS41IDMtMS41di0xaC01LjV6TTEzIDE4LjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUg1djFsMyAxLjVMNCAyNGwxIDEgNS41LTQgMS41IDNoMXYtNS41em0zLThjMCAxLjc1Ljc1IDIuNSAyLjUgMi41SDI0di0xbC0zLTEuNUwyNSA1bC0xLTEtNS41IDRMMTcgNWgtMXY1LjV6TTEwLjUgMTNjMS43NSAwIDIuNS0uNzUgMi41LTIuNVY1aC0xbC0xLjUgM0w1IDQgNCA1bDQgNS41TDUgMTJ2MWg1LjV6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9fS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWNvbXBhc3MgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzMzMyclM0UlM0NwYXRoIGQ9J00xMC41IDE0bDQtOCA0IDhoLTh6Jy8lM0UlM0NwYXRoIGlkPSdzb3V0aCcgZD0nTTEwLjUgMTZsNCA4IDQtOGgtOHonIGZpbGw9JyUyM2NjYycvJTNFJTNDL3N2ZyUzRVxcXCIpfUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1jb21wYXNzIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMTAuNSAxNGw0LTggNCA4aC04eicvJTNFJTNDcGF0aCBpZD0nc291dGgnIGQ9J00xMC41IDE2bDQgOCA0LThoLTh6JyBmaWxsPSclMjM5OTknLyUzRSUzQy9zdmclM0VcXFwiKX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtY29tcGFzcyAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMDAwJyUzRSUzQ3BhdGggZD0nTTEwLjUgMTRsNC04IDQgOGgtOHonLyUzRSUzQ3BhdGggaWQ9J3NvdXRoJyBkPSdNMTAuNSAxNmw0IDggNC04aC04eicgZmlsbD0nJTIzY2NjJy8lM0UlM0Mvc3ZnJTNFXFxcIil9fS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzMzJyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZTpkaXNhYmxlZCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzYWFhJyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZmlsbD0nJTIzZjAwJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzNiNWU1JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3IgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2U1ODk3OCclM0UlM0NwYXRoIGQ9J00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eicvJTNFJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJy8lM0UlM0NwYXRoIGlkPSdzdHJva2UnIGQ9J00xNCA1bDEgMS05IDktMS0xIDktOXonIGRpc3BsYXk9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzNiNWU1JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInIGRpc3BsYXk9J25vbmUnLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNlNTRlMzMnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicgZGlzcGxheT0nbm9uZScvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcgLm1hcGJveGdsLWN0cmwtaWNvbnthbmltYXRpb246bWFwYm94Z2wtc3BpbiAycyBsaW5lYXIgaW5maW5pdGV9QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZTpkaXNhYmxlZCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzOTk5JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZmlsbD0nJTIzZjAwJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzNiNWU1JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3IgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2U1ODk3OCclM0UlM0NwYXRoIGQ9J00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eicvJTNFJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJy8lM0UlM0NwYXRoIGlkPSdzdHJva2UnIGQ9J00xNCA1bDEgMS05IDktMS0xIDktOXonIGRpc3BsYXk9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzNiNWU1JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInIGRpc3BsYXk9J25vbmUnLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNlNTRlMzMnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicgZGlzcGxheT0nbm9uZScvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9fUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YmxhY2stb24td2hpdGUpey5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMDAwJyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZTpkaXNhYmxlZCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzNjY2JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZmlsbD0nJTIzZjAwJy8lM0UlM0Mvc3ZnJTNFXFxcIil9fUBrZXlmcmFtZXMgbWFwYm94Z2wtc3BpbnswJXt0cmFuc2Zvcm06cm90YXRlKDBkZWcpfXRve3RyYW5zZm9ybTpyb3RhdGUoMXR1cm4pfX1hLm1hcGJveGdsLWN0cmwtbG9nb3tiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSc4OCcgaGVpZ2h0PScyMycgdmlld0JveD0nMCAwIDg4IDIzJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZGVmcyUzRSUzQ3BhdGggaWQ9J2xvZ28nIGQ9J00xMS41IDIuMjVjNS4xMDUgMCA5LjI1IDQuMTQ1IDkuMjUgOS4yNXMtNC4xNDUgOS4yNS05LjI1IDkuMjUtOS4yNS00LjE0NS05LjI1LTkuMjUgNC4xNDUtOS4yNSA5LjI1LTkuMjV6TTYuOTk3IDE1Ljk4M2MtLjA1MS0uMzM4LS44MjgtNS44MDIgMi4yMzMtOC44NzNhNC4zOTUgNC4zOTUgMCAwMTMuMTMtMS4yOGMxLjI3IDAgMi40OS41MSAzLjM5IDEuNDIuOTEuOSAxLjQyIDIuMTIgMS40MiAzLjM5IDAgMS4xOC0uNDQ5IDIuMzAxLTEuMjggMy4xM0MxMi43MiAxNi45MyA3IDE2IDcgMTZsLS4wMDMtLjAxN3pNMTUuMyAxMC41bC0yIC44LS44IDItLjgtMi0yLS44IDItLjguOC0yIC44IDIgMiAuOHonLyUzRSUzQ3BhdGggaWQ9J3RleHQnIGQ9J001MC42MyA4Yy4xMyAwIC4yMy4xLjIzLjIzVjljLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAyLjE3IDAgMy45NSAxLjg1IDMuOTUgNC4xN3MtMS43NyA0LjE5LTMuOTQgNC4xOWMtMS4wNCAwLTIuMDMtLjQzLTIuNzQtMS4xOHYzLjc3YzAgLjEzLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y4LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zLjg2LjAxYy4wMSAwIC4wMSAwIC4wMS0uMDEuMTMgMCAuMjIuMS4yMi4yMnY3LjU1YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1YxNWMtLjcuNzYtMS42OSAxLjE5LTIuNzMgMS4xOS0yLjE3IDAtMy45NC0xLjg3LTMuOTQtNC4xOSAwLTIuMzIgMS43Ny00LjE5IDMuOTQtNC4xOSAxLjAzIDAgMi4wMi40MyAyLjczIDEuMTh2LS43NWMwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0yNi4zNzUtLjE5YTQuMjQgNC4yNCAwIDAwLTQuMTYgMy4yOWMtLjEzLjU5LS4xMyAxLjE5IDAgMS43N2E0LjIzMyA0LjIzMyAwIDAwNC4xNyAzLjNjMi4zNSAwIDQuMjYtMS44NyA0LjI2LTQuMTkgMC0yLjMyLTEuOS00LjE3LTQuMjctNC4xN3pNNjAuNjMgNWMuMTMgMCAuMjMuMS4yMy4yM3YzLjc2Yy43LS43NiAxLjctMS4xOCAyLjczLTEuMTggMS44OCAwIDMuNDUgMS40IDMuODQgMy4yOC4xMy41OS4xMyAxLjIgMCAxLjgtLjM5IDEuODgtMS45NiAzLjI5LTMuODQgMy4yOS0xLjAzIDAtMi4wMi0uNDMtMi43My0xLjE4di43N2MwIC4xMi0uMS4yMy0uMjMuMjNoLTEuNGMtLjEzIDAtLjIzLS4xLS4yMy0uMjNWNS4yM2MwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0tMzQgMTFoLTEuNGMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzVjguMjJjLjAxLS4xMy4xLS4yMi4yMy0uMjJoMS40Yy4xMyAwIC4yMi4xMS4yMy4yMnYuNjhjLjUtLjY4IDEuMy0xLjA5IDIuMTYtMS4xaC4wM2MxLjA5IDAgMi4wOS42IDIuNiAxLjU1LjQ1LS45NSAxLjQtMS41NSAyLjQ0LTEuNTYgMS42MiAwIDIuOTMgMS4yNSAyLjkgMi43OGwuMDMgNS4yYzAgLjEzLS4xLjIzLS4yMy4yM2gtMS40MWMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzdi00LjU5YzAtLjk4LS43NC0xLjcxLTEuNjItMS43MS0uOCAwLTEuNDYuNy0xLjU5IDEuNjJsLjAxIDQuNjhjMCAuMTMtLjExLjIzLS4yMy4yM2gtMS40MWMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzdi00LjU5YzAtLjk4LS43NC0xLjcxLTEuNjItMS43MS0uODUgMC0xLjU0Ljc5LTEuNiAxLjh2NC41YzAgLjEzLS4xLjIzLS4yMy4yM3ptNTMuNjE1IDBoLTEuNjFjLS4wNCAwLS4wOC0uMDEtLjEyLS4wMy0uMDktLjA2LS4xMy0uMTktLjA2LS4yOGwyLjQzLTMuNzEtMi4zOS0zLjY1YS4yMTMuMjEzIDAgMDEtLjAzLS4xMmMwLS4xMi4wOS0uMjEuMjEtLjIxaDEuNjFjLjEzIDAgLjI0LjA2LjMuMTdsMS40MSAyLjM3IDEuNC0yLjM3YS4zNC4zNCAwIDAxLjMtLjE3aDEuNmMuMDQgMCAuMDguMDEuMTIuMDMuMDkuMDYuMTMuMTkuMDYuMjhsLTIuMzcgMy42NSAyLjQzIDMuN2MwIC4wNS4wMS4wOS4wMS4xMyAwIC4xMi0uMDkuMjEtLjIxLjIxaC0xLjYxYy0uMTMgMC0uMjQtLjA2LS4zLS4xN2wtMS40NC0yLjQyLTEuNDQgMi40MmEuMzQuMzQgMCAwMS0uMy4xN3ptLTcuMTItMS40OWMtMS4zMyAwLTIuNDItMS4xMi0yLjQyLTIuNTEgMC0xLjM5IDEuMDgtMi41MiAyLjQyLTIuNTIgMS4zMyAwIDIuNDIgMS4xMiAyLjQyIDIuNTEgMCAxLjM5LTEuMDggMi41MS0yLjQyIDIuNTJ6bS0xOS44NjUgMGMtMS4zMiAwLTIuMzktMS4xMS0yLjQyLTIuNDh2LS4wN2MuMDItMS4zOCAxLjA5LTIuNDkgMi40LTIuNDkgMS4zMiAwIDIuNDEgMS4xMiAyLjQxIDIuNTEgMCAxLjM5LTEuMDcgMi41Mi0yLjM5IDIuNTN6bS04LjExLTIuNDhjLS4wMSAxLjM3LTEuMDkgMi40Ny0yLjQxIDIuNDdzLTIuNDItMS4xMi0yLjQyLTIuNTFjMC0xLjM5IDEuMDgtMi41MiAyLjQtMi41MiAxLjMzIDAgMi4zOSAxLjExIDIuNDEgMi40OGwuMDIuMDh6bTE4LjEyIDIuNDdjLTEuMzIgMC0yLjM5LTEuMTEtMi40MS0yLjQ4di0uMDZjLjAyLTEuMzggMS4wOS0yLjQ4IDIuNDEtMi40OHMyLjQyIDEuMTIgMi40MiAyLjUxYzAgMS4zOS0xLjA5IDIuNTEtMi40MiAyLjUxeicvJTNFJTNDL2RlZnMlM0UlM0NtYXNrIGlkPSdjbGlwJyUzRSUzQ3JlY3QgeD0nMCcgeT0nMCcgd2lkdGg9JzEwMCUyNScgaGVpZ2h0PScxMDAlMjUnIGZpbGw9J3doaXRlJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzbG9nbycvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnLyUzRSUzQy9tYXNrJTNFJTNDZyBpZD0nb3V0bGluZScgb3BhY2l0eT0nMC4zJyBzdHJva2U9JyUyMzAwMCcgc3Ryb2tlLXdpZHRoPSczJyUzRSUzQ2NpcmNsZSBtYXNrPSd1cmwoJTIzY2xpcCknIGN4PScxMS41JyBjeT0nMTEuNScgcj0nOS4yNScvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnIG1hc2s9J3VybCglMjNjbGlwKScvJTNFJTNDL2clM0UlM0NnIGlkPSdmaWxsJyBvcGFjaXR5PScwLjknIGZpbGw9JyUyM2ZmZiclM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzbG9nbycvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnLyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmJsb2NrO2hlaWdodDoyM3B4O21hcmdpbjowIDAgLTRweCAtNHB4O292ZXJmbG93OmhpZGRlbjt3aWR0aDo4OHB4fWEubWFwYm94Z2wtY3RybC1sb2dvLm1hcGJveGdsLWNvbXBhY3R7d2lkdGg6MjNweH1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7YS5tYXBib3hnbC1jdHJsLWxvZ297YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSc4OCcgaGVpZ2h0PScyMycgdmlld0JveD0nMCAwIDg4IDIzJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZGVmcyUzRSUzQ3BhdGggaWQ9J2xvZ28nIGQ9J00xMS41IDIuMjVjNS4xMDUgMCA5LjI1IDQuMTQ1IDkuMjUgOS4yNXMtNC4xNDUgOS4yNS05LjI1IDkuMjUtOS4yNS00LjE0NS05LjI1LTkuMjUgNC4xNDUtOS4yNSA5LjI1LTkuMjV6TTYuOTk3IDE1Ljk4M2MtLjA1MS0uMzM4LS44MjgtNS44MDIgMi4yMzMtOC44NzNhNC4zOTUgNC4zOTUgMCAwMTMuMTMtMS4yOGMxLjI3IDAgMi40OS41MSAzLjM5IDEuNDIuOTEuOSAxLjQyIDIuMTIgMS40MiAzLjM5IDAgMS4xOC0uNDQ5IDIuMzAxLTEuMjggMy4xM0MxMi43MiAxNi45MyA3IDE2IDcgMTZsLS4wMDMtLjAxN3pNMTUuMyAxMC41bC0yIC44LS44IDItLjgtMi0yLS44IDItLjguOC0yIC44IDIgMiAuOHonLyUzRSUzQ3BhdGggaWQ9J3RleHQnIGQ9J001MC42MyA4Yy4xMyAwIC4yMy4xLjIzLjIzVjljLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAyLjE3IDAgMy45NSAxLjg1IDMuOTUgNC4xN3MtMS43NyA0LjE5LTMuOTQgNC4xOWMtMS4wNCAwLTIuMDMtLjQzLTIuNzQtMS4xOHYzLjc3YzAgLjEzLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y4LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zLjg2LjAxYy4wMSAwIC4wMSAwIC4wMS0uMDEuMTMgMCAuMjIuMS4yMi4yMnY3LjU1YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1YxNWMtLjcuNzYtMS42OSAxLjE5LTIuNzMgMS4xOS0yLjE3IDAtMy45NC0xLjg3LTMuOTQtNC4xOSAwLTIuMzIgMS43Ny00LjE5IDMuOTQtNC4xOSAxLjAzIDAgMi4wMi40MyAyLjczIDEuMTh2LS43NWMwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0yNi4zNzUtLjE5YTQuMjQgNC4yNCAwIDAwLTQuMTYgMy4yOWMtLjEzLjU5LS4xMyAxLjE5IDAgMS43N2E0LjIzMyA0LjIzMyAwIDAwNC4xNyAzLjNjMi4zNSAwIDQuMjYtMS44NyA0LjI2LTQuMTkgMC0yLjMyLTEuOS00LjE3LTQuMjctNC4xN3pNNjAuNjMgNWMuMTMgMCAuMjMuMS4yMy4yM3YzLjc2Yy43LS43NiAxLjctMS4xOCAyLjczLTEuMTggMS44OCAwIDMuNDUgMS40IDMuODQgMy4yOC4xMy41OS4xMyAxLjIgMCAxLjgtLjM5IDEuODgtMS45NiAzLjI5LTMuODQgMy4yOS0xLjAzIDAtMi4wMi0uNDMtMi43My0xLjE4di43N2MwIC4xMi0uMS4yMy0uMjMuMjNoLTEuNGMtLjEzIDAtLjIzLS4xLS4yMy0uMjNWNS4yM2MwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0tMzQgMTFoLTEuNGMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzVjguMjJjLjAxLS4xMy4xLS4yMi4yMy0uMjJoMS40Yy4xMyAwIC4yMi4xMS4yMy4yMnYuNjhjLjUtLjY4IDEuMy0xLjA5IDIuMTYtMS4xaC4wM2MxLjA5IDAgMi4wOS42IDIuNiAxLjU1LjQ1LS45NSAxLjQtMS41NSAyLjQ0LTEuNTYgMS42MiAwIDIuOTMgMS4yNSAyLjkgMi43OGwuMDMgNS4yYzAgLjEzLS4xLjIzLS4yMy4yM2gtMS40MWMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzdi00LjU5YzAtLjk4LS43NC0xLjcxLTEuNjItMS43MS0uOCAwLTEuNDYuNy0xLjU5IDEuNjJsLjAxIDQuNjhjMCAuMTMtLjExLjIzLS4yMy4yM2gtMS40MWMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzdi00LjU5YzAtLjk4LS43NC0xLjcxLTEuNjItMS43MS0uODUgMC0xLjU0Ljc5LTEuNiAxLjh2NC41YzAgLjEzLS4xLjIzLS4yMy4yM3ptNTMuNjE1IDBoLTEuNjFjLS4wNCAwLS4wOC0uMDEtLjEyLS4wMy0uMDktLjA2LS4xMy0uMTktLjA2LS4yOGwyLjQzLTMuNzEtMi4zOS0zLjY1YS4yMTMuMjEzIDAgMDEtLjAzLS4xMmMwLS4xMi4wOS0uMjEuMjEtLjIxaDEuNjFjLjEzIDAgLjI0LjA2LjMuMTdsMS40MSAyLjM3IDEuNC0yLjM3YS4zNC4zNCAwIDAxLjMtLjE3aDEuNmMuMDQgMCAuMDguMDEuMTIuMDMuMDkuMDYuMTMuMTkuMDYuMjhsLTIuMzcgMy42NSAyLjQzIDMuN2MwIC4wNS4wMS4wOS4wMS4xMyAwIC4xMi0uMDkuMjEtLjIxLjIxaC0xLjYxYy0uMTMgMC0uMjQtLjA2LS4zLS4xN2wtMS40NC0yLjQyLTEuNDQgMi40MmEuMzQuMzQgMCAwMS0uMy4xN3ptLTcuMTItMS40OWMtMS4zMyAwLTIuNDItMS4xMi0yLjQyLTIuNTEgMC0xLjM5IDEuMDgtMi41MiAyLjQyLTIuNTIgMS4zMyAwIDIuNDIgMS4xMiAyLjQyIDIuNTEgMCAxLjM5LTEuMDggMi41MS0yLjQyIDIuNTJ6bS0xOS44NjUgMGMtMS4zMiAwLTIuMzktMS4xMS0yLjQyLTIuNDh2LS4wN2MuMDItMS4zOCAxLjA5LTIuNDkgMi40LTIuNDkgMS4zMiAwIDIuNDEgMS4xMiAyLjQxIDIuNTEgMCAxLjM5LTEuMDcgMi41Mi0yLjM5IDIuNTN6bS04LjExLTIuNDhjLS4wMSAxLjM3LTEuMDkgMi40Ny0yLjQxIDIuNDdzLTIuNDItMS4xMi0yLjQyLTIuNTFjMC0xLjM5IDEuMDgtMi41MiAyLjQtMi41MiAxLjMzIDAgMi4zOSAxLjExIDIuNDEgMi40OGwuMDIuMDh6bTE4LjEyIDIuNDdjLTEuMzIgMC0yLjM5LTEuMTEtMi40MS0yLjQ4di0uMDZjLjAyLTEuMzggMS4wOS0yLjQ4IDIuNDEtMi40OHMyLjQyIDEuMTIgMi40MiAyLjUxYzAgMS4zOS0xLjA5IDIuNTEtMi40MiAyLjUxeicvJTNFJTNDL2RlZnMlM0UlM0NtYXNrIGlkPSdjbGlwJyUzRSUzQ3JlY3QgeD0nMCcgeT0nMCcgd2lkdGg9JzEwMCUyNScgaGVpZ2h0PScxMDAlMjUnIGZpbGw9J3doaXRlJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzbG9nbycvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnLyUzRSUzQy9tYXNrJTNFJTNDZyBpZD0nb3V0bGluZScgb3BhY2l0eT0nMScgc3Ryb2tlPSclMjMwMDAnIHN0cm9rZS13aWR0aD0nMyclM0UlM0NjaXJjbGUgbWFzaz0ndXJsKCUyM2NsaXApJyBjeD0nMTEuNScgY3k9JzExLjUnIHI9JzkuMjUnLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjN0ZXh0JyBtYXNrPSd1cmwoJTIzY2xpcCknLyUzRSUzQy9nJTNFJTNDZyBpZD0nZmlsbCcgb3BhY2l0eT0nMScgZmlsbD0nJTIzZmZmJyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNsb2dvJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIil9fUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YmxhY2stb24td2hpdGUpe2EubWFwYm94Z2wtY3RybC1sb2dve2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9Jzg4JyBoZWlnaHQ9JzIzJyB2aWV3Qm94PScwIDAgODggMjMnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NkZWZzJTNFJTNDcGF0aCBpZD0nbG9nbycgZD0nTTExLjUgMi4yNWM1LjEwNSAwIDkuMjUgNC4xNDUgOS4yNSA5LjI1cy00LjE0NSA5LjI1LTkuMjUgOS4yNS05LjI1LTQuMTQ1LTkuMjUtOS4yNSA0LjE0NS05LjI1IDkuMjUtOS4yNXpNNi45OTcgMTUuOTgzYy0uMDUxLS4zMzgtLjgyOC01LjgwMiAyLjIzMy04Ljg3M2E0LjM5NSA0LjM5NSAwIDAxMy4xMy0xLjI4YzEuMjcgMCAyLjQ5LjUxIDMuMzkgMS40Mi45MS45IDEuNDIgMi4xMiAxLjQyIDMuMzkgMCAxLjE4LS40NDkgMi4zMDEtMS4yOCAzLjEzQzEyLjcyIDE2LjkzIDcgMTYgNyAxNmwtLjAwMy0uMDE3ek0xNS4zIDEwLjVsLTIgLjgtLjggMi0uOC0yLTItLjggMi0uOC44LTIgLjggMiAyIC44eicvJTNFJTNDcGF0aCBpZD0ndGV4dCcgZD0nTTUwLjYzIDhjLjEzIDAgLjIzLjEuMjMuMjNWOWMuNy0uNzYgMS43LTEuMTggMi43My0xLjE4IDIuMTcgMCAzLjk1IDEuODUgMy45NSA0LjE3cy0xLjc3IDQuMTktMy45NCA0LjE5Yy0xLjA0IDAtMi4wMy0uNDMtMi43NC0xLjE4djMuNzdjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjguMjNjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptLTMuODYuMDFjLjAxIDAgLjAxIDAgLjAxLS4wMS4xMyAwIC4yMi4xLjIyLjIydjcuNTVjMCAuMTItLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjE1Yy0uNy43Ni0xLjY5IDEuMTktMi43MyAxLjE5LTIuMTcgMC0zLjk0LTEuODctMy45NC00LjE5IDAtMi4zMiAxLjc3LTQuMTkgMy45NC00LjE5IDEuMDMgMCAyLjAyLjQzIDIuNzMgMS4xOHYtLjc1YzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bTI2LjM3NS0uMTlhNC4yNCA0LjI0IDAgMDAtNC4xNiAzLjI5Yy0uMTMuNTktLjEzIDEuMTkgMCAxLjc3YTQuMjMzIDQuMjMzIDAgMDA0LjE3IDMuM2MyLjM1IDAgNC4yNi0xLjg3IDQuMjYtNC4xOSAwLTIuMzItMS45LTQuMTctNC4yNy00LjE3ek02MC42MyA1Yy4xMyAwIC4yMy4xLjIzLjIzdjMuNzZjLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAxLjg4IDAgMy40NSAxLjQgMy44NCAzLjI4LjEzLjU5LjEzIDEuMiAwIDEuOC0uMzkgMS44OC0xLjk2IDMuMjktMy44NCAzLjI5LTEuMDMgMC0yLjAyLS40My0yLjczLTEuMTh2Ljc3YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y1LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zNCAxMWgtMS40Yy0uMTMgMC0uMjMtLjExLS4yMy0uMjNWOC4yMmMuMDEtLjEzLjEtLjIyLjIzLS4yMmgxLjRjLjEzIDAgLjIyLjExLjIzLjIydi42OGMuNS0uNjggMS4zLTEuMDkgMi4xNi0xLjFoLjAzYzEuMDkgMCAyLjA5LjYgMi42IDEuNTUuNDUtLjk1IDEuNC0xLjU1IDIuNDQtMS41NiAxLjYyIDAgMi45MyAxLjI1IDIuOSAyLjc4bC4wMyA1LjJjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44IDAtMS40Ni43LTEuNTkgMS42MmwuMDEgNC42OGMwIC4xMy0uMTEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44NSAwLTEuNTQuNzktMS42IDEuOHY0LjVjMCAuMTMtLjEuMjMtLjIzLjIzem01My42MTUgMGgtMS42MWMtLjA0IDAtLjA4LS4wMS0uMTItLjAzLS4wOS0uMDYtLjEzLS4xOS0uMDYtLjI4bDIuNDMtMy43MS0yLjM5LTMuNjVhLjIxMy4yMTMgMCAwMS0uMDMtLjEyYzAtLjEyLjA5LS4yMS4yMS0uMjFoMS42MWMuMTMgMCAuMjQuMDYuMy4xN2wxLjQxIDIuMzcgMS40LTIuMzdhLjM0LjM0IDAgMDEuMy0uMTdoMS42Yy4wNCAwIC4wOC4wMS4xMi4wMy4wOS4wNi4xMy4xOS4wNi4yOGwtMi4zNyAzLjY1IDIuNDMgMy43YzAgLjA1LjAxLjA5LjAxLjEzIDAgLjEyLS4wOS4yMS0uMjEuMjFoLTEuNjFjLS4xMyAwLS4yNC0uMDYtLjMtLjE3bC0xLjQ0LTIuNDItMS40NCAyLjQyYS4zNC4zNCAwIDAxLS4zLjE3em0tNy4xMi0xLjQ5Yy0xLjMzIDAtMi40Mi0xLjEyLTIuNDItMi41MSAwLTEuMzkgMS4wOC0yLjUyIDIuNDItMi41MiAxLjMzIDAgMi40MiAxLjEyIDIuNDIgMi41MSAwIDEuMzktMS4wOCAyLjUxLTIuNDIgMi41MnptLTE5Ljg2NSAwYy0xLjMyIDAtMi4zOS0xLjExLTIuNDItMi40OHYtLjA3Yy4wMi0xLjM4IDEuMDktMi40OSAyLjQtMi40OSAxLjMyIDAgMi40MSAxLjEyIDIuNDEgMi41MSAwIDEuMzktMS4wNyAyLjUyLTIuMzkgMi41M3ptLTguMTEtMi40OGMtLjAxIDEuMzctMS4wOSAyLjQ3LTIuNDEgMi40N3MtMi40Mi0xLjEyLTIuNDItMi41MWMwLTEuMzkgMS4wOC0yLjUyIDIuNC0yLjUyIDEuMzMgMCAyLjM5IDEuMTEgMi40MSAyLjQ4bC4wMi4wOHptMTguMTIgMi40N2MtMS4zMiAwLTIuMzktMS4xMS0yLjQxLTIuNDh2LS4wNmMuMDItMS4zOCAxLjA5LTIuNDggMi40MS0yLjQ4czIuNDIgMS4xMiAyLjQyIDIuNTFjMCAxLjM5LTEuMDkgMi41MS0yLjQyIDIuNTF6Jy8lM0UlM0MvZGVmcyUzRSUzQ21hc2sgaWQ9J2NsaXAnJTNFJTNDcmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMTAwJTI1JyBoZWlnaHQ9JzEwMCUyNScgZmlsbD0nd2hpdGUnLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNsb2dvJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFJTNDL21hc2slM0UlM0NnIGlkPSdvdXRsaW5lJyBvcGFjaXR5PScxJyBzdHJva2U9JyUyM2ZmZicgc3Ryb2tlLXdpZHRoPSczJyBmaWxsPSclMjNmZmYnJTNFJTNDY2lyY2xlIG1hc2s9J3VybCglMjNjbGlwKScgY3g9JzExLjUnIGN5PScxMS41JyByPSc5LjI1Jy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcgbWFzaz0ndXJsKCUyM2NsaXApJy8lM0UlM0MvZyUzRSUzQ2cgaWQ9J2ZpbGwnIG9wYWNpdHk9JzEnIGZpbGw9JyUyMzAwMCclM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzbG9nbycvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnLyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpfX0ubWFwYm94Z2wtY3RybC5tYXBib3hnbC1jdHJsLWF0dHJpYntiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLC41KTttYXJnaW46MDtwYWRkaW5nOjAgNXB4fUBtZWRpYSBzY3JlZW57Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3R7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6MTJweDttYXJnaW46MTBweDttaW4taGVpZ2h0OjIwcHg7cGFkZGluZzoycHggMjRweCAycHggMDtwb3NpdGlvbjpyZWxhdGl2ZX0ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdC1zaG93e3BhZGRpbmc6MnB4IDI4cHggMnB4IDhweDt2aXNpYmlsaXR5OnZpc2libGV9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Qtc2hvdywubWFwYm94Z2wtY3RybC10b3AtbGVmdD4ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdC1zaG93e2JvcmRlci1yYWRpdXM6MTJweDtwYWRkaW5nOjJweCA4cHggMnB4IDI4cHh9Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3QgLm1hcGJveGdsLWN0cmwtYXR0cmliLWlubmVye2Rpc3BsYXk6bm9uZX0ubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9ue2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsLjUpO2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ3BhdGggZD0nTTQgMTBhNiA2IDAgMSAwIDEyIDAgNiA2IDAgMSAwLTEyIDBtNS0zYTEgMSAwIDEgMCAyIDAgMSAxIDAgMSAwLTIgMG0wIDNhMSAxIDAgMSAxIDIgMHYzYTEgMSAwIDEgMS0yIDAnLyUzRSUzQy9zdmclM0VcXFwiKTtib3JkZXI6MDtib3JkZXItcmFkaXVzOjEycHg7Ym94LXNpemluZzpib3JkZXItYm94O2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6bm9uZTtoZWlnaHQ6MjRweDtvdXRsaW5lOm5vbmU7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt0b3A6MDt3aWR0aDoyNHB4fS5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0IC5tYXBib3hnbC1jdHJsLWF0dHJpYi1idXR0b24sLm1hcGJveGdsLWN0cmwtdG9wLWxlZnQgLm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbntsZWZ0OjB9Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3QgLm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbiwubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdC1zaG93IC5tYXBib3hnbC1jdHJsLWF0dHJpYi1pbm5lcntkaXNwbGF5OmJsb2NrfS5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0LXNob3cgLm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOnJnYigwIDAgMC81JSl9Lm1hcGJveGdsLWN0cmwtYm90dG9tLXJpZ2h0Pi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0OmFmdGVye2JvdHRvbTowO3JpZ2h0OjB9Lm1hcGJveGdsLWN0cmwtdG9wLXJpZ2h0Pi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0OmFmdGVye3JpZ2h0OjA7dG9wOjB9Lm1hcGJveGdsLWN0cmwtdG9wLWxlZnQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7bGVmdDowO3RvcDowfS5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0Pi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0OmFmdGVye2JvdHRvbTowO2xlZnQ6MH19QG1lZGlhIHNjcmVlbiBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J000IDEwYTYgNiAwIDEgMCAxMiAwIDYgNiAwIDEgMC0xMiAwbTUtM2ExIDEgMCAxIDAgMiAwIDEgMSAwIDEgMC0yIDBtMCAzYTEgMSAwIDEgMSAyIDB2M2ExIDEgMCAxIDEtMiAwJy8lM0UlM0Mvc3ZnJTNFXFxcIil9fUBtZWRpYSBzY3JlZW4gYW5kICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDcGF0aCBkPSdNNCAxMGE2IDYgMCAxIDAgMTIgMCA2IDYgMCAxIDAtMTIgMG01LTNhMSAxIDAgMSAwIDIgMCAxIDEgMCAxIDAtMiAwbTAgM2ExIDEgMCAxIDEgMiAwdjNhMSAxIDAgMSAxLTIgMCcvJTNFJTNDL3N2ZyUzRVxcXCIpfX0ubWFwYm94Z2wtY3RybC1hdHRyaWIgYXtjb2xvcjpyZ2JhKDAsMCwwLC43NSk7dGV4dC1kZWNvcmF0aW9uOm5vbmV9Lm1hcGJveGdsLWN0cmwtYXR0cmliIGE6aG92ZXJ7Y29sb3I6aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5tYXBib3hnbC1jdHJsLWF0dHJpYiAubWFwYm94LWltcHJvdmUtbWFwe2ZvbnQtd2VpZ2h0OjcwMDttYXJnaW4tbGVmdDoycHh9Lm1hcGJveGdsLWF0dHJpYi1lbXB0eXtkaXNwbGF5Om5vbmV9Lm1hcGJveGdsLWN0cmwtc2NhbGV7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuNzUpO2JvcmRlcjoycHggc29saWQgIzMzMztib3JkZXItdG9wOiMzMzM7Ym94LXNpemluZzpib3JkZXItYm94O2NvbG9yOiMzMzM7Zm9udC1zaXplOjEwcHg7cGFkZGluZzowIDVweDt3aGl0ZS1zcGFjZTpub3dyYXB9Lm1hcGJveGdsLXBvcHVwe2Rpc3BsYXk6ZmxleDtsZWZ0OjA7cG9pbnRlci1ldmVudHM6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19Lm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AsLm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtbGVmdCwubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1yaWdodHtmbGV4LWRpcmVjdGlvbjpjb2x1bW59Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20sLm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tbGVmdCwubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1yaWdodHtmbGV4LWRpcmVjdGlvbjpjb2x1bW4tcmV2ZXJzZX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWxlZnR7ZmxleC1kaXJlY3Rpb246cm93fS5tYXBib3hnbC1wb3B1cC1hbmNob3ItcmlnaHR7ZmxleC1kaXJlY3Rpb246cm93LXJldmVyc2V9Lm1hcGJveGdsLXBvcHVwLXRpcHtib3JkZXI6MTBweCBzb2xpZCB0cmFuc3BhcmVudDtoZWlnaHQ6MDt3aWR0aDowO3otaW5kZXg6MX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6Y2VudGVyO2JvcmRlci1ib3R0b20tY29sb3I6I2ZmZjtib3JkZXItdG9wOm5vbmV9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtbGVmdCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6ZmxleC1zdGFydDtib3JkZXItYm90dG9tLWNvbG9yOiNmZmY7Ym9yZGVyLWxlZnQ6bm9uZTtib3JkZXItdG9wOm5vbmV9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtcmlnaHQgLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmZsZXgtZW5kO2JvcmRlci1ib3R0b20tY29sb3I6I2ZmZjtib3JkZXItcmlnaHQ6bm9uZTtib3JkZXItdG9wOm5vbmV9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20gLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmNlbnRlcjtib3JkZXItYm90dG9tOm5vbmU7Ym9yZGVyLXRvcC1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLWxlZnQgLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmZsZXgtc3RhcnQ7Ym9yZGVyLWJvdHRvbTpub25lO2JvcmRlci1sZWZ0Om5vbmU7Ym9yZGVyLXRvcC1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpmbGV4LWVuZDtib3JkZXItYm90dG9tOm5vbmU7Ym9yZGVyLXJpZ2h0Om5vbmU7Ym9yZGVyLXRvcC1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItbGVmdCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6Y2VudGVyO2JvcmRlci1sZWZ0Om5vbmU7Ym9yZGVyLXJpZ2h0LWNvbG9yOiNmZmZ9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1yaWdodCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6Y2VudGVyO2JvcmRlci1sZWZ0LWNvbG9yOiNmZmY7Ym9yZGVyLXJpZ2h0Om5vbmV9Lm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlcjowO2JvcmRlci1yYWRpdXM6MCAzcHggMCAwO2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7dG9wOjB9Lm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYigwIDAgMC81JSl9Lm1hcGJveGdsLXBvcHVwLWNvbnRlbnR7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6M3B4O2JveC1zaGFkb3c6MCAxcHggMnB4IHJnYmEoMCwwLDAsLjEpO3BhZGRpbmc6MTBweCAxMHB4IDE1cHg7cG9pbnRlci1ldmVudHM6YXV0bztwb3NpdGlvbjpyZWxhdGl2ZX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1sZWZ0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50e2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1yaWdodCAubWFwYm94Z2wtcG9wdXAtY29udGVudHtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLWxlZnQgLm1hcGJveGdsLXBvcHVwLWNvbnRlbnR7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50e2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjB9Lm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXJ7ZGlzcGxheTpub25lfS5tYXBib3hnbC1wb3B1cC10cmFjay1wb2ludGVyICp7cG9pbnRlci1ldmVudHM6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5tYXBib3hnbC1tYXA6aG92ZXIgLm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXJ7ZGlzcGxheTpmbGV4fS5tYXBib3hnbC1tYXA6YWN0aXZlIC5tYXBib3hnbC1wb3B1cC10cmFjay1wb2ludGVye2Rpc3BsYXk6bm9uZX0ubWFwYm94Z2wtbWFya2Vye2xlZnQ6MDtvcGFjaXR5OjE7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7dHJhbnNpdGlvbjpvcGFjaXR5IC4yczt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdDpiZWZvcmV7YmFja2dyb3VuZC1jb2xvcjojMWRhMWYyO2JvcmRlci1yYWRpdXM6NTAlO2hlaWdodDoxNXB4O3dpZHRoOjE1cHh9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90OmJlZm9yZXthbmltYXRpb246bWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3QtcHVsc2UgMnMgaW5maW5pdGU7Y29udGVudDpcXFwiXFxcIjtwb3NpdGlvbjphYnNvbHV0ZX0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Q6YWZ0ZXJ7Ym9yZGVyOjJweCBzb2xpZCAjZmZmO2JvcmRlci1yYWRpdXM6NTAlO2JveC1zaGFkb3c6MCAwIDNweCByZ2JhKDAsMCwwLC4zNSk7Ym94LXNpemluZzpib3JkZXItYm94O2NvbnRlbnQ6XFxcIlxcXCI7aGVpZ2h0OjE5cHg7bGVmdDotMnB4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMnB4O3dpZHRoOjE5cHh9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nIC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWhlYWRpbmd7aGVpZ2h0OjA7d2lkdGg6MH0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcgLm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZzphZnRlciwubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcgLm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZzpiZWZvcmV7Ym9yZGVyLWJvdHRvbTo3LjVweCBzb2xpZCAjNGFhMWViO2NvbnRlbnQ6XFxcIlxcXCI7cG9zaXRpb246YWJzb2x1dGV9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nIC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWhlYWRpbmc6YmVmb3Jle2JvcmRlci1sZWZ0OjcuNXB4IHNvbGlkIHRyYW5zcGFyZW50O3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0yOHB4KSBza2V3WSgtMjBkZWcpfS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZyAubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1oZWFkaW5nOmFmdGVye2JvcmRlci1yaWdodDo3LjVweCBzb2xpZCB0cmFuc3BhcmVudDt0cmFuc2Zvcm06dHJhbnNsYXRlKDcuNXB4LC0yOHB4KSBza2V3WSgyMGRlZyl9QGtleWZyYW1lcyBtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1wdWxzZXswJXtvcGFjaXR5OjE7dHJhbnNmb3JtOnNjYWxlKDEpfTcwJXtvcGFjaXR5OjA7dHJhbnNmb3JtOnNjYWxlKDMpfXRve29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoMSl9fS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZXtiYWNrZ3JvdW5kLWNvbG9yOiNhYWF9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlOmFmdGVye2Rpc3BsYXk6bm9uZX0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1hY2N1cmFjeS1jaXJjbGV7YmFja2dyb3VuZC1jb2xvcjojMWRhMWYyMzM7Ym9yZGVyLXJhZGl1czoxMDAlO2hlaWdodDoxcHg7d2lkdGg6MXB4fS5tYXBib3hnbC1jcm9zc2hhaXIsLm1hcGJveGdsLWNyb3NzaGFpciAubWFwYm94Z2wtaW50ZXJhY3RpdmUsLm1hcGJveGdsLWNyb3NzaGFpciAubWFwYm94Z2wtaW50ZXJhY3RpdmU6YWN0aXZle2N1cnNvcjpjcm9zc2hhaXJ9Lm1hcGJveGdsLWJveHpvb217YmFja2dyb3VuZDojZmZmO2JvcmRlcjoycHggZG90dGVkICMyMDIwMjA7aGVpZ2h0OjA7bGVmdDowO29wYWNpdHk6LjU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7d2lkdGg6MH1AbWVkaWEgcHJpbnR7Lm1hcGJveC1pbXByb3ZlLW1hcHtkaXNwbGF5Om5vbmV9fS5tYXBib3hnbC1zY3JvbGwtem9vbS1ibG9ja2VyLC5tYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlcnthbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC43KTtjb2xvcjojZmZmO2Rpc3BsYXk6ZmxleDtmb250LWZhbWlseTotYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxTZWdvZSBVSSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjtoZWlnaHQ6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2xlZnQ6MDtvcGFjaXR5OjA7cG9pbnRlci1ldmVudHM6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt0ZXh0LWFsaWduOmNlbnRlcjt0b3A6MDt0cmFuc2l0aW9uOm9wYWNpdHkgLjc1cyBlYXNlLWluLW91dDt0cmFuc2l0aW9uLWRlbGF5OjFzO3dpZHRoOjEwMCV9Lm1hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXItc2hvdywubWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItc2hvd3tvcGFjaXR5OjE7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dH0ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1vdmVycmlkZS5tYXBib3hnbC1zY3JvbGxhYmxlLXBhZ2UsLm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItb3ZlcnJpZGUubWFwYm94Z2wtc2Nyb2xsYWJsZS1wYWdlIC5tYXBib3hnbC1jYW52YXN7dG91Y2gtYWN0aW9uOnBhbi14IHBhbi15fVwiLFwiXCJdKX1dXSk7Il0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==