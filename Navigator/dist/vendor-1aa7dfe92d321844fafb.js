(window.webpackJsonp=window.webpackJsonp||[]).push([["vendor"],[function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";e.exports=r(69)},function(e,t){function r(){return e.exports=r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){e.exports=r(125)()},function(e,t,r){var n=r(74);e.exports=function(e,t){if(null==e)return{};var r,i,o=n(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(40);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=function(){};e.exports=n},function(e,t,r){"use strict";r.r(t);var n=r(43),i=r.n(n);r.d(t,"componentPropType",(function(){return i.a}));var o=r(45),a=r.n(o);r.d(t,"chainPropTypes",(function(){return a.a}));var s=r(46),l=r.n(s);r.d(t,"exactProp",(function(){return l.a}));var c=r(47),u=r.n(c);r.d(t,"getDisplayName",(function(){return u.a}));var h=r(48),d=r.n(h);r.d(t,"ponyfillGlobal",(function(){return d.a}))},function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.sheetsManager=void 0;var i=n(r(5)),o=n(r(2)),a=n(r(10)),s=n(r(11)),l=n(r(12)),c=n(r(13)),u=n(r(14)),h=n(r(4)),d=n(r(1)),p=n(r(3)),f=(n(r(6)),n(r(35))),m=r(7),g=r(50),_=n(r(129)),y=n(r(49)),v=n(r(130)),x=n(r(131)),b=n(r(28)),w=n(r(34)),T=n(r(39)),E=n(r(132)),S=n(r(133)),C=(0,g.create)((0,y.default)()),M=(0,T.default)(),k=-1e11,A=new Map;t.sheetsManager=A;var I={},P=(0,b.default)({typography:{suppressWarning:!0}});m.ponyfillGlobal.__MUI_STYLES__||(m.ponyfillGlobal.__MUI_STYLES__={}),m.ponyfillGlobal.__MUI_STYLES__.withStyles||(m.ponyfillGlobal.__MUI_STYLES__.withStyles=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var n,m=t.withTheme,g=void 0!==m&&m,y=t.flip,b=void 0===y?null:y,T=t.name,z=(0,h.default)(t,["withTheme","flip","name"]),D=(0,E.default)(e),R=D.themingEnabled||"string"==typeof T||g;k+=1,D.options.index=k;var L=function(e){function t(e,r){var n;(0,a.default)(this,t),(n=(0,l.default)(this,(0,c.default)(t).call(this,e,r))).jss=r[_.default.jss]||C,n.sheetsManager=A,n.unsubscribeId=null;var i=r.muiThemeProviderOptions;return i&&(i.sheetsManager&&(n.sheetsManager=i.sheetsManager),n.sheetsCache=i.sheetsCache,n.disableStylesGeneration=i.disableStylesGeneration),n.stylesCreatorSaved=D,n.sheetOptions=(0,o.default)({generateClassName:M},r[_.default.sheetOptions]),n.theme=R?w.default.initial(r)||P:I,n.attach(n.theme),n.cacheClasses={value:null,lastProp:null,lastJSS:{}},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;R&&(this.unsubscribeId=w.default.subscribe(this.context,(function(t){var r=e.theme;e.theme=t,e.attach(e.theme),e.setState({},(function(){e.detach(r)}))})))}},{key:"componentDidUpdate",value:function(){this.stylesCreatorSaved}},{key:"componentWillUnmount",value:function(){this.detach(this.theme),null!==this.unsubscribeId&&w.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"getClasses",value:function(){if(this.disableStylesGeneration)return this.props.classes||{};var e=!1,t=x.default.get(this.sheetsManager,this.stylesCreatorSaved,this.theme);return t.sheet.classes!==this.cacheClasses.lastJSS&&(this.cacheClasses.lastJSS=t.sheet.classes,e=!0),this.props.classes!==this.cacheClasses.lastProp&&(this.cacheClasses.lastProp=this.props.classes,e=!0),e&&(this.cacheClasses.value=(0,v.default)({baseClasses:this.cacheClasses.lastJSS,newClasses:this.props.classes,Component:r})),this.cacheClasses.value}},{key:"attach",value:function(e){if(!this.disableStylesGeneration){var t=this.stylesCreatorSaved,r=x.default.get(this.sheetsManager,t,e);if(r||(r={refs:0,sheet:null},x.default.set(this.sheetsManager,t,e,r)),0===r.refs){var n;this.sheetsCache&&(n=x.default.get(this.sheetsCache,t,e)),n||((n=this.createSheet(e)).attach(),this.sheetsCache&&x.default.set(this.sheetsCache,t,e,n)),r.sheet=n;var i=this.context[_.default.sheetsRegistry];i&&i.add(n)}r.refs+=1}}},{key:"createSheet",value:function(e){var t=this.stylesCreatorSaved.create(e,T),n=T;return this.jss.createStyleSheet(t,(0,o.default)({meta:n,classNamePrefix:n,flip:"boolean"==typeof b?b:"rtl"===e.direction,link:!1},this.sheetOptions,this.stylesCreatorSaved.options,{name:T||r.displayName},z))}},{key:"detach",value:function(e){if(!this.disableStylesGeneration){var t=x.default.get(this.sheetsManager,this.stylesCreatorSaved,e);if(t.refs-=1,0===t.refs){x.default.delete(this.sheetsManager,this.stylesCreatorSaved,e),this.jss.removeStyleSheet(t.sheet);var r=this.context[_.default.sheetsRegistry];r&&r.remove(t.sheet)}}}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.innerRef),n=(0,h.default)(e,["classes","innerRef"]),i=(0,S.default)({theme:this.theme,name:T,props:n});return g&&!i.theme&&(i.theme=this.theme),d.default.createElement(r,(0,o.default)({},i,{classes:this.getClasses(),ref:t}))}}]),t}(d.default.Component);return L.contextTypes=(0,o.default)((n={muiThemeProviderOptions:p.default.object},(0,i.default)(n,_.default.jss,p.default.object),(0,i.default)(n,_.default.sheetOptions,p.default.object),(0,i.default)(n,_.default.sheetsRegistry,p.default.object),n),R?w.default.contextTypes:{}),(0,f.default)(L,r),L}});t.default=function(e,t){return m.ponyfillGlobal.__MUI_STYLES__.withStyles(e,(0,o.default)({defaultTheme:P},t))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(40);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}e.exports=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(15).default,i=r(33);e.exports=function(e,t){if(t&&("object"===n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t){return e.exports=r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(56);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function r(t){return e.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.capitalize=function(e){0;return e.charAt(0).toUpperCase()+e.slice(1)},t.contains=o,t.findIndex=a,t.find=function(e,t){var r=a(e,t);return r>-1?e[r]:void 0},t.createChainedFunction=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return null==t?e:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n),t.apply(this,n)}}),(function(){}))};var i=n(r(15));n(r(6));function o(e,t){return Object.keys(t).every((function(r){return e.hasOwnProperty(r)&&e[r]===t[r]}))}function a(e,t){for(var r=(0,i.default)(t),n=0;n<e.length;n+=1){if("function"===r&&!0==!!t(e[n],n,e))return n;if("object"===r&&o(e[n],t))return n;if(-1!==["string","number","boolean"].indexOf(r))return e.indexOf(t)}return-1}},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=c(r(17)),s=c(r(29)),l=c(r(23));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="style",this.isProcessed=!1;var i=n.sheet,o=n.Renderer,a=n.selector;this.key=t,this.options=n,this.style=r,a&&(this.selectorText=a),this.renderer=i?i.renderer:new o}return o(e,[{key:"prop",value:function(e,t){if(void 0===t)return this.style[e];if(this.style[e]===t)return this;var r=null==(t=this.options.jss.plugins.onChangeValue(t,e,this))||!1===t,n=e in this.style;if(r&&!n)return this;var i=r&&n;if(i?delete this.style[e]:this.style[e]=t,this.renderable)return i?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,t),this;var o=this.options.sheet;return o&&o.attached&&(0,a.default)(!1,'Rule is not linked. Missing sheet option "link: true".'),this}},{key:"applyTo",value:function(e){var t=this.toJSON();for(var r in t)this.renderer.setProperty(e,r,t[r]);return this}},{key:"toJSON",value:function(){var e={};for(var t in this.style){var r=this.style[t];"object"!==(void 0===r?"undefined":i(r))?e[t]=r:Array.isArray(r)&&(e[t]=(0,l.default)(r))}return e}},{key:"toString",value:function(e){var t=this.options.sheet,r=!!t&&t.options.link?n({},e,{allowEmpty:!0}):e;return(0,s.default)(this.selector,this.style,r)}},{key:"selector",set:function(e){if(e!==this.selectorText&&(this.selectorText=e,this.renderable&&!this.renderer.setSelector(this.renderable,e)&&this.renderable)){var t=this.renderer.replaceRule(this.renderable,this);t&&(this.renderable=t)}},get:function(){return this.selectorText}}]),e}();t.default=u},function(e,t,r){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=r(70)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=c(r(24)),a=c(r(53)),s=c(r(18)),l=c(r(97));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map={},this.raw={},this.index=[],this.update=function(e,t){var n=r.options,i=n.jss.plugins,o=n.sheet;if("string"==typeof e)i.onUpdate(t,r.get(e),o);else for(var a=0;a<r.index.length;a++)i.onUpdate(e,r.index[a],o)},this.options=t,this.classes=t.classes}return i(e,[{key:"add",value:function(e,t,r){var i=this.options,a=i.parent,c=i.sheet,u=i.jss,h=i.Renderer,d=i.generateClassName;!(r=n({classes:this.classes,parent:a,sheet:c,jss:u,Renderer:h,generateClassName:d},r)).selector&&this.classes[e]&&(r.selector="."+(0,l.default)(this.classes[e])),this.raw[e]=t;var p=(0,o.default)(e,t,r),f=void 0;!r.selector&&p instanceof s.default&&(f=d(p,c),p.selector="."+(0,l.default)(f)),this.register(p,f);var m=void 0===r.index?this.index.length:r.index;return this.index.splice(m,0,p),p}},{key:"get",value:function(e){return this.map[e]}},{key:"remove",value:function(e){this.unregister(e),this.index.splice(this.indexOf(e),1)}},{key:"indexOf",value:function(e){return this.index.indexOf(e)}},{key:"process",value:function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)}},{key:"register",value:function(e,t){this.map[e.key]=e,e instanceof s.default&&(this.map[e.selector]=e,t&&(this.classes[e.key]=t))}},{key:"unregister",value:function(e){delete this.map[e.key],e instanceof s.default&&(delete this.map[e.selector],delete this.classes[e.key])}},{key:"link",value:function(e){for(var t=this.options.sheet.renderer.getUnescapedKeysMap(this.index),r=0;r<e.length;r++){var n=e[r],i=this.options.sheet.renderer.getKey(n);t[i]&&(i=t[i]);var o=this.map[i];o&&(0,a.default)(o,n)}}},{key:"toString",value:function(e){for(var t="",r=this.options.sheet,n=!!r&&r.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(e);(o||n)&&(t&&(t+="\n"),t+=o)}return t}}]),e}();t.default=u},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createGenerateClassName",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"createMuiTheme",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"jssPreset",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"MuiThemeProvider",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"createStyles",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"withStyles",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"withTheme",{enumerable:!0,get:function(){return u.default}});var i=n(r(39)),o=n(r(28)),a=n(r(49)),s=n(r(123)),l=n(r(128)),c=n(r(9)),u=n(r(134))},function(e,t,r){!function(t,r){e.exports=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var r=Object.prototype.toString.call(e);return"[object RegExp]"===r||"[object Date]"===r||function(e){return e.$$typeof===t}(e)}(e)};var t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function n(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function o(e,t,n){var o={};return n.isMergeableObject(e)&&i(e).forEach((function(t){o[t]=r(e[t],n)})),i(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?o[i]=function(e,t){if(!t.customMerge)return a;var r=t.customMerge(e);return"function"==typeof r?r:a}(i,n)(e[i],t[i],n):o[i]=r(t[i],n)})),o}function a(t,i,a){(a=a||{}).arrayMerge=a.arrayMerge||n,a.isMergeableObject=a.isMergeableObject||e;var s=Array.isArray(i);return s===Array.isArray(t)?s?a.arrayMerge(t,i,a):o(t,i,a):r(i,a)}return a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return a(e,r,t)}),{})},a}()}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return e;var r="";if(Array.isArray(e[0]))for(var i=0;i<e.length&&"!important"!==e[i];i++)r&&(r+=", "),r+=n(e[i]," ");else r=n(e,", ");t||"!important"!==e[e.length-1]||(r+=" !important");return r};var n=function(e,t){for(var r="",n=0;n<e.length&&"!important"!==e[n];n++)r&&(r+=t),r+=e[n];return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unnamed",t=arguments[1],r=arguments[2],a=r.jss,s=(0,o.default)(t),l=a.plugins.onCreateRule(e,s,r);if(l)return l;"@"===e[0]&&(0,n.default)(!1,"[JSS] Unknown at-rule %s",e);return new i.default(e,s,r)};var n=a(r(17)),i=a(r(18)),o=a(r(94));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";r.r(t),r.d(t,"isBrowser",(function(){return i}));var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i="object"===("undefined"==typeof window?"undefined":n(window))&&"object"===("undefined"==typeof document?"undefined":n(document))&&9===document.nodeType;t.default=i},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(137))},,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(r(5));var i=n(r(2)),o=n(r(4)),a=n(r(22)),s=n(r(75)),l=(n(r(6)),n(r(77))),c=n(r(78)),u=n(r(79)),h=n(r(84)),d=n(r(86)),p=n(r(87)),f=n(r(88)),m=n(r(89)),g=n(r(90));var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,r=void 0===t?{}:t,n=e.mixins,_=void 0===n?{}:n,y=e.palette,v=void 0===y?{}:y,x=e.shadows,b=e.spacing,w=void 0===b?{}:b,T=e.typography,E=void 0===T?{}:T,S=(0,o.default)(e,["breakpoints","mixins","palette","shadows","spacing","typography"]),C=(0,u.default)(v),M=(0,l.default)(r),k=(0,i.default)({},f.default,w),A=(0,i.default)({breakpoints:M,direction:"ltr",mixins:(0,c.default)(M,k,_),overrides:{},palette:C,props:{},shadows:x||d.default,typography:(0,h.default)(C,E)},(0,a.default)({shape:p.default,spacing:k,transitions:m.default,zIndex:g.default},S,{isMergeableObject:s.default}));return A};t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="";if(!t)return o;var a=r.indent,s=void 0===a?0:a,l=t.fallbacks;if(s++,l)if(Array.isArray(l))for(var c=0;c<l.length;c++){var u=l[c];for(var h in u){var d=u[h];null!=d&&(o+="\n"+i(h+": "+(0,n.default)(d)+";",s))}}else for(var p in l){var f=l[p];null!=f&&(o+="\n"+i(p+": "+(0,n.default)(f)+";",s))}for(var m in t){var g=t[m];null!=g&&"fallbacks"!==m&&(o+="\n"+i(m+": "+(0,n.default)(g)+";",s))}return o||r.allowEmpty?(s--,o=i(e+" {"+o+"\n",s)+i("}",s)):o};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(23));function i(e,t){for(var r="",n=0;n<t;n++)r+="  ";return r+e}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(51));t.default=new n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="",i="";if(function(e){return e&&e.__esModule?e:{default:e}}(r(25)).default){var o={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},a=document.createElement("p").style;for(var s in o)if(s+"Transform"in a){n=s,i=o[s];break}}t.default={js:n,css:i}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CHANNEL=void 0;var i=n(r(5)),o="__THEMING__";t.CHANNEL=o;var a={contextTypes:(0,i.default)({},o,(function(){})),initial:function(e){return e[o]?e[o].getState():null},subscribe:function(e,t){return e[o]?e[o].subscribe(t):null},unsubscribe:function(e,t){e[o]&&e[o].unsubscribe(t)}};t.default=a},function(e,t,r){"use strict";var n=r(44),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?a:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(f){var i=p(r);i&&i!==f&&e(t,i,n)}var a=u(r);h&&(a=a.concat(h(r)));for(var s=l(t),m=l(r),g=0;g<a.length;++g){var _=a[g];if(!(o[_]||n&&n[_]||m&&m[_]||s&&s[_])){var y=d(r,_);try{c(t,_,y)}catch(e){}}}}return t}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(145))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){return o.default.createElement(s.default.Consumer,null,(function(r){return o.default.createElement(e,(0,i.default)({muiFormControl:r},t))}))};0;return(0,a.default)(t,e),t};var i=n(r(2)),o=n(r(1)),a=n(r(35)),s=n(r(57));r(7)},function(e,t,r){"use strict";var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,s,l=a(e),c=1;c<arguments.length;c++){for(var u in r=Object(arguments[c]))i.call(r,u)&&(l[u]=r[u]);if(n){s=n(r);for(var h=0;h<s.length;h++)o.call(r,s[h])&&(l[s[h]]=r[s[h]])}}return l}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dangerouslyUseGlobalCSS,r=void 0!==t&&t,n=e.productionPrefix,i=void 0===n?"jss":n,a=e.seed,s=void 0===a?"":a,l=0;return function(e,t){return l+=1,r&&t&&t.options.name?"".concat(o(t.options.name),"-").concat(e.key):"".concat(i).concat(s).concat(l)}};n(r(6));var i=/([[\].#*$><+~=|^:(),"'`\s])/g;function o(e){return String(e).replace(i,"-")}},function(e,t,r){var n=r(15).default,i=r(73);e.exports=function(e){var t=i(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.convertHexToRGB=o,t.rgbToHex=function(e){if(0===e.indexOf("#"))return e;var t=a(e).values;return t=t.map((function(e){return function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t}(e)})),"#".concat(t.join(""))},t.decomposeColor=a,t.recomposeColor=s,t.getContrastRatio=function(e,t){var r=l(e),n=l(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)},t.getLuminance=l,t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?c(e,t):u(e,t)},t.fade=function(e,t){if(!e)return e;e=a(e),t=i(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a");return e.values[3]=t,s(e)},t.darken=c,t.lighten=u;n(r(6));function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<t?t:e>r?r:e}function o(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),r=e.match(t);return r&&1===r[0].length&&(r=r.map((function(e){return e+e}))),r?"rgb(".concat(r.map((function(e){return parseInt(e,16)})).join(", "),")"):""}function a(e){if("#"===e.charAt(0))return a(o(e));var t=e.indexOf("("),r=e.substring(0,t),n=e.substring(t+1,e.length-1).split(",");return{type:r,values:n=n.map((function(e){return parseFloat(e)}))}}function s(e){var t=e.type,r=e.values;return-1!==t.indexOf("rgb")&&(r=r.map((function(e,t){return t<3?parseInt(e,10):e}))),-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),"".concat(e.type,"(").concat(r.join(", "),")")}function l(e){var t=a(e);if(-1!==t.type.indexOf("rgb")){var r=t.values.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return Number((.2126*r[0]+.7152*r[1]+.0722*r[2]).toFixed(3))}return t.values[2]/100}function c(e,t){if(!e)return e;if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]*=1-t;return s(e)}function u(e,t){if(!e)return e;if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;return s(e)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(r(15)),r(44);function i(e){return function(){return null}}var o=i();o.isRequired=i();var a=o;t.default=a},function(e,t,r){"use strict";e.exports=r(85)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return function(){return null}};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.specialProperty=void 0;n(r(5)),n(r(2));t.specialProperty="exact-prop: â€‹";var i=function(e){return e};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=i,t.default=void 0;var n=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function i(e){var t="".concat(e).match(n);return t&&t[1]||""}var o=function(e){return"string"==typeof e?e:e?e.displayName||e.name||i(e)||"Component":void 0};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(91)),o=n(r(111)),a=n(r(113)),s=n(r(115)),l=n(r(117)),c=n(r(122));var u=function(){return{plugins:[(0,i.default)(),(0,o.default)(),(0,a.default)(),(0,s.default)(),"undefined"==typeof window?null:(0,l.default)(),(0,c.default)()]}};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.createGenerateClassName=t.sheets=t.RuleList=t.SheetsManager=t.SheetsRegistry=t.toCssValue=t.getDynamicStyles=void 0;var n=r(92);Object.defineProperty(t,"getDynamicStyles",{enumerable:!0,get:function(){return h(n).default}});var i=r(23);Object.defineProperty(t,"toCssValue",{enumerable:!0,get:function(){return h(i).default}});var o=r(51);Object.defineProperty(t,"SheetsRegistry",{enumerable:!0,get:function(){return h(o).default}});var a=r(93);Object.defineProperty(t,"SheetsManager",{enumerable:!0,get:function(){return h(a).default}});var s=r(20);Object.defineProperty(t,"RuleList",{enumerable:!0,get:function(){return h(s).default}});var l=r(31);Object.defineProperty(t,"sheets",{enumerable:!0,get:function(){return h(l).default}});var c=r(54);Object.defineProperty(t,"createGenerateClassName",{enumerable:!0,get:function(){return h(c).default}});var u=h(r(99));function h(e){return e&&e.__esModule?e:{default:e}}var d=t.create=function(e){return new u.default(e)};t.default=d()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.registry=[]}return n(e,[{key:"add",value:function(e){var t=this.registry,r=e.options.index;if(-1===t.indexOf(e))if(0===t.length||r>=this.index)t.push(e);else for(var n=0;n<t.length;n++)if(t[n].options.index>r)return void t.splice(n,0,e)}},{key:"reset",value:function(){this.registry=[]}},{key:"remove",value:function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)}},{key:"toString",value:function(e){return this.registry.filter((function(e){return e.attached})).map((function(t){return t.toString(e)})).join("\n")}},{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(95));t.default=function(e){return e&&e[n.default]&&e===e[n.default]()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.renderable=t,e.rules&&t.cssRules&&e.rules.link(t.cssRules)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(17)),i=(o(r(55)),o(r(98)));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=0;return function(t,r){(e+=1)>1e10&&(0,n.default)(!1,"[JSS] You might have a memory leak. Rule counter is at %s.",e);var o="c",a="";return r&&(o=r.options.classNamePrefix||"c",null!=r.options.jss.id&&(a+=r.options.jss.id)),""+o+i.default+a+e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=s(r(53)),a=s(r(20));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,r){var i=this;for(var o in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update=function(e,t){return"string"==typeof e?i.rules.update(e,t):i.rules.update(e),i},this.attached=!1,this.deployed=!1,this.linked=!1,this.classes={},this.options=n({},r,{sheet:this,parent:this,classes:this.classes}),this.renderer=new r.Renderer(this),this.rules=new a.default(this.options),t)this.rules.add(o,t[o]);this.rules.process()}return i(e,[{key:"attach",value:function(){return this.attached||(this.deployed||this.deploy(),this.renderer.attach(),!this.linked&&this.options.link&&this.link(),this.attached=!0),this}},{key:"detach",value:function(){return this.attached?(this.renderer.detach(),this.attached=!1,this):this}},{key:"addRule",value:function(e,t,r){var n=this.queue;this.attached&&!n&&(this.queue=[]);var i=this.rules.add(e,t,r);return this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(n?n.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)}},{key:"insertRule",value:function(e){var t=this.renderer.insertRule(e);t&&this.options.link&&(0,o.default)(e,t)}},{key:"addRules",value:function(e,t){var r=[];for(var n in e)r.push(this.addRule(n,e[n],t));return r}},{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"deleteRule",value:function(e){var t=this.rules.get(e);return!!t&&(this.rules.remove(t),!this.attached||!t.renderable||this.renderer.deleteRule(t.renderable))}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"deploy",value:function(){return this.renderer.deploy(),this.deployed=!0,this}},{key:"link",value:function(){var e=this.renderer.getRules();return e&&this.rules.link(e),this.linked=!0,this}},{key:"toString",value:function(e){return this.rules.toString(e)}}]),e}();t.default=l},function(e,t){function r(t,n){return e.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,r(t,n)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(1)).default.createContext();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.ownerDocument||document};t.default=n},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";function n(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var r=this.constructor.getDerivedStateFromProps(e,t);return null!=r?r:null}.bind(this))}function o(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var r=null,a=null,s=null;if("function"==typeof t.componentWillMount?r="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(r="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==r||null!==a||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==r?"\n  "+r:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=n,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,r){var n=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:r;u.call(this,e,t,n)}}return e}r.r(t),r.d(t,"polyfill",(function(){return a})),n.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var i=n(r(172)),o=n(r(176)),a=(n(r(62)),n(r(63)),function(e){return(0,i.default)((function(e,t){return!(0,o.default)(e,t)}))(e)});t.default=a},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var i=n(r(174)),o=function(e){return(0,i.default)("displayName",e)};t.default=o},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var i=n(r(175)),o=function(e,t){return t+"("+(0,i.default)(e)+")"};t.default=o},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(178))},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(n),o=n.sources.map((function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"}));return[r].concat(o).concat([i]).join("\n")}return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),t.push(a))}},t}},function(e,t,r){var n={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),o=function(e,t){return t?t.querySelector(e):document.querySelector(e)},a=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=o.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),s=null,l=0,c=[],u=r(195);function h(e,t){for(var r=0;r<e.length;r++){var i=e[r],o=n[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(_(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(_(i.parts[a],t));n[i.id]={id:i.id,refs:1,parts:s}}}}function d(e,t){for(var r=[],n={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}function p(e,t){var r=a(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),c.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(e.insertAt.before,r);r.insertBefore(t,i)}}function f(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return r.nc}();n&&(e.attrs.nonce=n)}return g(t,e.attrs),p(e,t),t}function g(e,t){Object.keys(t).forEach((function(r){e.setAttribute(r,t[r])}))}function _(e,t){var r,n,i,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var a=l++;r=s||(s=m(t)),n=v.bind(null,r,a,!1),i=v.bind(null,r,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),p(e,t),t}(t),n=b.bind(null,r,t),i=function(){f(r),r.href&&URL.revokeObjectURL(r.href)}):(r=m(t),n=x.bind(null,r),i=function(){f(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=d(e,t);return h(r,t),function(e){for(var i=[],o=0;o<r.length;o++){var a=r[o];(s=n[a.id]).refs--,i.push(s)}e&&h(d(e,t),t);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete n[s.id]}}}};var y=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}();function v(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function x(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function b(e,t,r){var n=r.css,i=r.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(n=u(n)),i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},,function(e,t,r){"use strict";var n=r(38),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,d=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,f=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function _(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function x(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||y}function b(){}function w(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||y}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(_(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var T=w.prototype=new b;T.constructor=w,n(T,x.prototype),T.isPureReactComponent=!0;var E={current:null},S=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,r){var n,i={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,n)&&!C.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps)void 0===i[n]&&(i[n]=l[n]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:E.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,I=[];function P(e,t,r,n){if(I.length){var i=I.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function z(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function D(e,t,r){return null==e?0:function e(t,r,n,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return n(i,t,""===r?"."+R(t,0):r),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=r+R(s=t[c],c);l+=e(s,u,n,i)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=r+R(s,c++),n,i);else if("object"===s)throw n=""+t,Error(_(31,"[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return l}(e,"",t,r)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function O(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,n,r,(function(e){return e})):null!=e&&(k(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+r)),n.push(e))}function B(e,t,r,n,i){var o="";null!=r&&(o=(""+r).replace(A,"$&/")+"/"),D(e,O,t=P(t,o,n,i)),z(t)}var F={current:null};function j(){var e=F.current;if(null===e)throw Error(_(321));return e}var U={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:n};t.Children={map:function(e,t,r){if(null==e)return e;var n=[];return B(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;D(e,L,t=P(null,null,t,r)),z(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!k(e))throw Error(_(143));return e}},t.Component=x,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,r){if(null==e)throw Error(_(267,e));var i=n({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)S.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return j().useCallback(e,t)},t.useContext=function(e,t){return j().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return j().useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return j().useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return j().useLayoutEffect(e,t)},t.useMemo=function(e,t){return j().useMemo(e,t)},t.useReducer=function(e,t,r){return j().useReducer(e,t,r)},t.useRef=function(e){return j().useRef(e)},t.useState=function(e){return j().useState(e)},t.version="16.14.0"},function(e,t,r){"use strict";var n=r(1),i=r(38),o=r(71);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!n)throw Error(a(227));function s(e,t,r,n,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(e){this.onError(e)}}var l=!1,c=null,u=!1,h=null,d={onError:function(e){l=!0,c=e}};function p(e,t,r,n,i,o,a,u,h){l=!1,c=null,s.apply(d,arguments)}var f=null,m=null,g=null;function _(e,t,r){var n=e.type||"unknown-event";e.currentTarget=g(r),function(e,t,r,n,i,o,s,d,f){if(p.apply(this,arguments),l){if(!l)throw Error(a(198));var m=c;l=!1,c=null,u||(u=!0,h=m)}}(n,t,void 0,e),e.currentTarget=null}var y=null,v={};function x(){if(y)for(var e in v){var t=v[e],r=y.indexOf(e);if(!(-1<r))throw Error(a(96,e));if(!w[r]){if(!t.extractEvents)throw Error(a(97,e));for(var n in w[r]=t,r=t.eventTypes){var i=void 0,o=r[n],s=t,l=n;if(T.hasOwnProperty(l))throw Error(a(99,l));T[l]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&b(c[i],s,l);i=!0}else o.registrationName?(b(o.registrationName,s,l),i=!0):i=!1;if(!i)throw Error(a(98,n,e))}}}}function b(e,t,r){if(E[e])throw Error(a(100,e));E[e]=t,S[e]=t.eventTypes[r].dependencies}var w=[],T={},E={},S={};function C(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!v.hasOwnProperty(t)||v[t]!==n){if(v[t])throw Error(a(102,t));v[t]=n,r=!0}}r&&x()}var M=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),k=null,A=null,I=null;function P(e){if(e=m(e)){if("function"!=typeof k)throw Error(a(280));var t=e.stateNode;t&&(t=f(t),k(e.stateNode,e.type,t))}}function z(e){A?I?I.push(e):I=[e]:A=e}function D(){if(A){var e=A,t=I;if(I=A=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function R(e,t){return e(t)}function L(e,t,r,n,i){return e(t,r,n,i)}function O(){}var B=R,F=!1,j=!1;function U(){null===A&&null===I||(O(),D())}function N(e,t,r){if(j)return e(t,r);j=!0;try{return B(e,t,r)}finally{j=!1,U()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,q={},Z={};function $(e,t,r,n,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){W[e]=new $(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];W[t]=new $(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){W[e]=new $(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){W[e]=new $(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){W[e]=new $(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){W[e]=new $(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){W[e]=new $(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){W[e]=new $(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){W[e]=new $(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function H(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,H);W[t]=new $(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,H);W[t]=new $(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,H);W[t]=new $(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){W[e]=new $(e,1,!1,e.toLowerCase(),null,!1)})),W.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){W[e]=new $(e,1,!1,e.toLowerCase(),null,!0)}));var Y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function K(e,t,r,n){var i=W.hasOwnProperty(t)?W[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!G.call(Z,e)||!G.call(q,e)&&(V.test(e)?Z[e]=!0:(q[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Q="function"==typeof Symbol&&Symbol.for,ee=Q?Symbol.for("react.element"):60103,te=Q?Symbol.for("react.portal"):60106,re=Q?Symbol.for("react.fragment"):60107,ne=Q?Symbol.for("react.strict_mode"):60108,ie=Q?Symbol.for("react.profiler"):60114,oe=Q?Symbol.for("react.provider"):60109,ae=Q?Symbol.for("react.context"):60110,se=Q?Symbol.for("react.concurrent_mode"):60111,le=Q?Symbol.for("react.forward_ref"):60112,ce=Q?Symbol.for("react.suspense"):60113,ue=Q?Symbol.for("react.suspense_list"):60120,he=Q?Symbol.for("react.memo"):60115,de=Q?Symbol.for("react.lazy"):60116,pe=Q?Symbol.for("react.block"):60121,fe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case re:return"Fragment";case te:return"Portal";case ie:return"Profiler";case ne:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return ge(e.type);case pe:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function _e(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,o=ge(e.type);r=null,n&&(r=ge(n.type)),n=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+o}t+=r,e=e.return}while(e);return t}function ye(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xe(e){e._valueTracker||(e._valueTracker=function(e){var t=ve(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function be(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ve(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function we(e,t){var r=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Te(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=ye(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ee(e,t){null!=(t=t.checked)&&K(e,"checked",t,!1)}function Se(e,t){Ee(e,t);var r=ye(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?Me(e,t.type,r):t.hasOwnProperty("defaultValue")&&Me(e,t.type,ye(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function Me(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function ke(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return n.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ye(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(a(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(a(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:ye(r)}}function ze(e,t){var r=ye(t.value),n=ye(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Re="http://www.w3.org/1999/xhtml",Le="http://www.w3.org/2000/svg";function Oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Be(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,je=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if(e.namespaceURI!==Le||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ue(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function Ne(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ve={animationend:Ne("Animation","AnimationEnd"),animationiteration:Ne("Animation","AnimationIteration"),animationstart:Ne("Animation","AnimationStart"),transitionend:Ne("Transition","TransitionEnd")},Ge={},qe={};function Ze(e){if(Ge[e])return Ge[e];if(!Ve[e])return e;var t,r=Ve[e];for(t in r)if(r.hasOwnProperty(t)&&t in qe)return Ge[e]=r[t];return e}M&&(qe=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var $e=Ze("animationend"),We=Ze("animationiteration"),Xe=Ze("animationstart"),He=Ze("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ke=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Ke.get(e);return void 0===t&&(t=new Map,Ke.set(e,t)),t}function Qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Qe(e)!==e)throw Error(a(188))}function rt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return tt(i),e;if(o===n)return tt(i),t;o=o.sibling}throw Error(a(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=o;break}if(l===n){s=!0,n=i,r=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===r){s=!0,r=o,n=i;break}if(l===n){s=!0,n=o,r=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(r.alternate!==n)throw Error(a(190))}if(3!==r.tag)throw Error(a(188));return r.stateNode.current===r?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function nt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)_(e,t[n],r[n]);else t&&_(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=nt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(u)throw e=h,u=!1,h=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!M)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ut=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function dt(e,t,r,n){if(ut.length){var i=ut.pop();return i.topLevelType=e,i.eventSystemFlags=n,i.nativeEvent=t,i.targetInst=r,i}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function pt(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=Cr(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=lt(e.nativeEvent);n=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===r&&(a|=64);for(var s=null,l=0;l<w.length;l++){var c=w[l];c&&(c=c.extractEvents(n,t,o,i,a))&&(s=nt(s,c))}st(s)}}function ft(e,t,r){if(!r.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":ct(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&Wt(e,t)}r.set(e,null)}}var mt,gt,_t,yt=!1,vt=[],xt=null,bt=null,wt=null,Tt=new Map,Et=new Map,St=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Mt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function kt(e,t,r,n,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:i,container:n}}function At(e,t){switch(e){case"focus":case"blur":xt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function It(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e=kt(t,r,n,i,o),null!==t&&(null!==(t=Mr(t))&&gt(t)),e):(e.eventSystemFlags|=n,e)}function Pt(e){var t=Cr(e.target);if(null!==t){var r=Qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=et(r)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){_t(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var r=Mr(t);return null!==r&&gt(r),e.blockedOn=t,!1}return!0}function Dt(e,t,r){zt(e)&&r.delete(t)}function Rt(){for(yt=!1;0<vt.length;){var e=vt[0];if(null!==e.blockedOn){null!==(e=Mr(e.blockedOn))&&mt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:vt.shift()}null!==xt&&zt(xt)&&(xt=null),null!==bt&&zt(bt)&&(bt=null),null!==wt&&zt(wt)&&(wt=null),Tt.forEach(Dt),Et.forEach(Dt)}function Lt(e,t){e.blockedOn===t&&(e.blockedOn=null,yt||(yt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Rt)))}function Ot(e){function t(t){return Lt(t,e)}if(0<vt.length){Lt(vt[0],e);for(var r=1;r<vt.length;r++){var n=vt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==xt&&Lt(xt,e),null!==bt&&Lt(bt,e),null!==wt&&Lt(wt,e),Tt.forEach(t),Et.forEach(t),r=0;r<St.length;r++)(n=St[r]).blockedOn===e&&(n.blockedOn=null);for(;0<St.length&&null===(r=St[0]).blockedOn;)Pt(r),null===r.blockedOn&&St.shift()}var Bt={},Ft=new Map,jt=new Map,Ut=["abort","abort",$e,"animationEnd",We,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",He,"transitionEnd","waiting","waiting"];function Nt(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[n],eventPriority:t},jt.set(n,t),Ft.set(n,o),Bt[i]=o}}Nt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Nt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Nt(Ut,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Gt=0;Gt<Vt.length;Gt++)jt.set(Vt[Gt],0);var qt=o.unstable_UserBlockingPriority,Zt=o.unstable_runWithPriority,$t=!0;function Wt(e,t){Xt(t,e,!1)}function Xt(e,t,r){var n=jt.get(t);switch(void 0===n?2:n){case 0:n=Ht.bind(null,t,1,e);break;case 1:n=Yt.bind(null,t,1,e);break;default:n=Kt.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function Ht(e,t,r,n){F||O();var i=Kt,o=F;F=!0;try{L(i,e,t,r,n)}finally{(F=o)||U()}}function Yt(e,t,r,n){Zt(qt,Kt.bind(null,e,t,r,n))}function Kt(e,t,r,n){if($t)if(0<vt.length&&-1<Ct.indexOf(e))e=kt(null,e,t,r,n),vt.push(e);else{var i=Jt(e,t,r,n);if(null===i)At(e,n);else if(-1<Ct.indexOf(e))e=kt(i,e,t,r,n),vt.push(e);else if(!function(e,t,r,n,i){switch(t){case"focus":return xt=It(xt,e,t,r,n,i),!0;case"dragenter":return bt=It(bt,e,t,r,n,i),!0;case"mouseover":return wt=It(wt,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Tt.set(o,It(Tt.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Et.set(o,It(Et.get(o)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n)){At(e,n),e=dt(e,n,null,t);try{N(pt,e)}finally{ht(e)}}}}function Jt(e,t,r,n){if(null!==(r=Cr(r=lt(n)))){var i=Qe(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(null!==(r=et(i)))return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}e=dt(e,n,r,t);try{N(pt,e)}finally{ht(e)}return null}var Qt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},er=["Webkit","ms","Moz","O"];function tr(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||Qt.hasOwnProperty(e)&&Qt[e]?(""+t).trim():t+"px"}function rr(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=tr(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(Qt).forEach((function(e){er.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qt[t]=Qt[e]}))}));var nr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ir(e,t){if(t){if(nr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function or(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ar=Re;function sr(e,t){var r=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var n=0;n<t.length;n++)ft(t[n],e,r)}function lr(){}function cr(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var r,n=ur(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ur(n)}}function dr(){for(var e=window,t=cr();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=cr((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var fr=null,mr=null;function gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _r(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yr="function"==typeof setTimeout?setTimeout:void 0,vr="function"==typeof clearTimeout?clearTimeout:void 0;function xr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function br(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var wr=Math.random().toString(36).slice(2),Tr="__reactInternalInstance$"+wr,Er="__reactEventHandlers$"+wr,Sr="__reactContainere$"+wr;function Cr(e){var t=e[Tr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sr]||r[Tr]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=br(e);null!==e;){if(r=e[Tr])return r;e=br(e)}return t}r=(e=r).parentNode}return null}function Mr(e){return!(e=e[Tr]||e[Sr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function kr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Ar(e){return e[Er]||null}function Ir(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Pr(e,t){var r=e.stateNode;if(!r)return null;var n=f(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(a(231,t,typeof r));return r}function zr(e,t,r){(t=Pr(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Dr(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=Ir(t);for(t=r.length;0<t--;)zr(r[t],"captured",e);for(t=0;t<r.length;t++)zr(r[t],"bubbled",e)}}function Rr(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=Pr(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=nt(r._dispatchListeners,t),r._dispatchInstances=nt(r._dispatchInstances,e))}function Lr(e){e&&e.dispatchConfig.registrationName&&Rr(e._targetInst,null,e)}function Or(e){it(e,Dr)}var Br=null,Fr=null,jr=null;function Ur(){if(jr)return jr;var e,t,r=Fr,n=r.length,i="value"in Br?Br.value:Br.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return jr=i.slice(e,1<t?1-t:void 0)}function Nr(){return!0}function Vr(){return!1}function Gr(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Nr:Vr,this.isPropagationStopped=Vr,this}function qr(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function Zr(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $r(e){e.eventPool=[],e.getPooled=qr,e.release=Zr}i(Gr.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Nr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Nr)},persist:function(){this.isPersistent=Nr},isPersistent:Vr,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Vr,this._dispatchInstances=this._dispatchListeners=null}}),Gr.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Gr.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var o=new t;return i(o,r.prototype),r.prototype=o,r.prototype.constructor=r,r.Interface=i({},n.Interface,e),r.extend=n.extend,$r(r),r},$r(Gr);var Wr=Gr.extend({data:null}),Xr=Gr.extend({data:null}),Hr=[9,13,27,32],Yr=M&&"CompositionEvent"in window,Kr=null;M&&"documentMode"in document&&(Kr=document.documentMode);var Jr=M&&"TextEvent"in window&&!Kr,Qr=M&&(!Yr||Kr&&8<Kr&&11>=Kr),en=String.fromCharCode(32),tn={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rn=!1;function nn(e,t){switch(e){case"keyup":return-1!==Hr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function on(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var an=!1;var sn={eventTypes:tn,extractEvents:function(e,t,r,n){var i;if(Yr)e:{switch(e){case"compositionstart":var o=tn.compositionStart;break e;case"compositionend":o=tn.compositionEnd;break e;case"compositionupdate":o=tn.compositionUpdate;break e}o=void 0}else an?nn(e,r)&&(o=tn.compositionEnd):"keydown"===e&&229===r.keyCode&&(o=tn.compositionStart);return o?(Qr&&"ko"!==r.locale&&(an||o!==tn.compositionStart?o===tn.compositionEnd&&an&&(i=Ur()):(Fr="value"in(Br=n)?Br.value:Br.textContent,an=!0)),o=Wr.getPooled(o,t,r,n),i?o.data=i:null!==(i=on(r))&&(o.data=i),Or(o),i=o):i=null,(e=Jr?function(e,t){switch(e){case"compositionend":return on(t);case"keypress":return 32!==t.which?null:(rn=!0,en);case"textInput":return(e=t.data)===en&&rn?null:e;default:return null}}(e,r):function(e,t){if(an)return"compositionend"===e||!Yr&&nn(e,t)?(e=Ur(),jr=Fr=Br=null,an=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qr&&"ko"!==t.locale?null:t.data;default:return null}}(e,r))?((t=Xr.getPooled(tn.beforeInput,t,r,n)).data=e,Or(t)):t=null,null===i?t:null===t?i:[i,t]}},ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ln[e.type]:"textarea"===t}var un={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hn(e,t,r){return(e=Gr.getPooled(un.change,e,t,r)).type="change",z(r),Or(e),e}var dn=null,pn=null;function fn(e){st(e)}function mn(e){if(be(kr(e)))return e}function gn(e,t){if("change"===e)return t}var _n=!1;function yn(){dn&&(dn.detachEvent("onpropertychange",vn),pn=dn=null)}function vn(e){if("value"===e.propertyName&&mn(pn))if(e=hn(pn,e,lt(e)),F)st(e);else{F=!0;try{R(fn,e)}finally{F=!1,U()}}}function xn(e,t,r){"focus"===e?(yn(),pn=r,(dn=t).attachEvent("onpropertychange",vn)):"blur"===e&&yn()}function bn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mn(pn)}function wn(e,t){if("click"===e)return mn(t)}function Tn(e,t){if("input"===e||"change"===e)return mn(t)}M&&(_n=ct("input")&&(!document.documentMode||9<document.documentMode));var En={eventTypes:un,_isInputEventSupported:_n,extractEvents:function(e,t,r,n){var i=t?kr(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=gn;else if(cn(i))if(_n)a=Tn;else{a=bn;var s=xn}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=wn);if(a&&(a=a(e,t)))return hn(a,r,n);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Me(i,"number",i.value)}},Sn=Gr.extend({view:null,detail:null}),Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function kn(){return Mn}var An=0,In=0,Pn=!1,zn=!1,Dn=Sn.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:kn,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=An;return An=e.screenX,Pn?"mousemove"===e.type?e.screenX-t:0:(Pn=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=In;return In=e.screenY,zn?"mousemove"===e.type?e.screenY-t:0:(zn=!0,0)}}),Rn=Dn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ln={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},On={eventTypes:Ln,extractEvents:function(e,t,r,n,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(r.relatedTarget||r.fromElement)||!a&&!o)return null;(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=r.relatedTarget||r.toElement)?Cr(t):null)&&(t!==Qe(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Dn,l=Ln.mouseLeave,c=Ln.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Rn,l=Ln.pointerLeave,c=Ln.pointerEnter,u="pointer");if(e=null==a?o:kr(a),o=null==t?o:kr(t),(l=s.getPooled(l,a,r,n)).type=u+"leave",l.target=e,l.relatedTarget=o,(r=s.getPooled(c,t,r,n)).type=u+"enter",r.target=o,r.relatedTarget=e,u=t,(n=a)&&u)e:{for(c=u,a=0,e=s=n;e;e=Ir(e))a++;for(e=0,t=c;t;t=Ir(t))e++;for(;0<a-e;)s=Ir(s),a--;for(;0<e-a;)c=Ir(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Ir(s),c=Ir(c)}s=null}else s=null;for(c=s,s=[];n&&n!==c&&(null===(a=n.alternate)||a!==c);)s.push(n),n=Ir(n);for(n=[];u&&u!==c&&(null===(a=u.alternate)||a!==c);)n.push(u),u=Ir(u);for(u=0;u<s.length;u++)Rr(s[u],"bubbled",l);for(u=n.length;0<u--;)Rr(n[u],"captured",r);return 0==(64&i)?[l]:[l,r]}};var Bn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Fn=Object.prototype.hasOwnProperty;function jn(e,t){if(Bn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Fn.call(t,r[n])||!Bn(e[r[n]],t[r[n]]))return!1;return!0}var Un=M&&"documentMode"in document&&11>=document.documentMode,Nn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vn=null,Gn=null,qn=null,Zn=!1;function $n(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Zn||null==Vn||Vn!==cr(r)?null:("selectionStart"in(r=Vn)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},qn&&jn(qn,r)?null:(qn=r,(e=Gr.getPooled(Nn.select,Gn,e,t)).type="select",e.target=Vn,Or(e),e))}var Wn={eventTypes:Nn,extractEvents:function(e,t,r,n,i,o){if(!(o=!(i=o||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){e:{i=Je(i),o=S.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?kr(t):window,e){case"focus":(cn(i)||"true"===i.contentEditable)&&(Vn=i,Gn=t,qn=null);break;case"blur":qn=Gn=Vn=null;break;case"mousedown":Zn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Zn=!1,$n(r,n);case"selectionchange":if(Un)break;case"keydown":case"keyup":return $n(r,n)}return null}},Xn=Gr.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Hn=Gr.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yn=Sn.extend({relatedTarget:null});function Kn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Sn.extend({key:function(e){if(e.key){var t=Jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Qn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:kn,charCode:function(e){return"keypress"===e.type?Kn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Dn.extend({dataTransfer:null}),ri=Sn.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:kn}),ni=Gr.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Dn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:Bt,extractEvents:function(e,t,r,n){var i=Ft.get(e);if(!i)return null;switch(e){case"keypress":if(0===Kn(r))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Yn;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ri;break;case $e:case We:case Xe:e=Xn;break;case He:e=ni;break;case"scroll":e=Sn;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Rn;break;default:e=Gr}return Or(t=e.getPooled(i,t,r,n)),t}};if(y)throw Error(a(101));y=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),f=Ar,m=Mr,g=kr,C({SimpleEventPlugin:oi,EnterLeaveEventPlugin:On,ChangeEventPlugin:En,SelectEventPlugin:Wn,BeforeInputEventPlugin:sn});var ai=[],si=-1;function li(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ci(e,t){si++,ai[si]=e.current,e.current=t}var ui={},hi={current:ui},di={current:!1},pi=ui;function fi(e,t){var r=e.type.contextTypes;if(!r)return ui;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!=(e=e.childContextTypes)}function gi(){li(di),li(hi)}function _i(e,t,r){if(hi.current!==ui)throw Error(a(168));ci(hi,t),ci(di,r)}function yi(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var o in n=n.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return i({},r,{},n)}function vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ui,pi=hi.current,ci(hi,e),ci(di,di.current),!0}function xi(e,t,r){var n=e.stateNode;if(!n)throw Error(a(169));r?(e=yi(e,t,pi),n.__reactInternalMemoizedMergedChildContext=e,li(di),li(hi),ci(hi,e)):li(di),ci(di,r)}var bi=o.unstable_runWithPriority,wi=o.unstable_scheduleCallback,Ti=o.unstable_cancelCallback,Ei=o.unstable_requestPaint,Si=o.unstable_now,Ci=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,ki=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Ii=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,zi={},Di=o.unstable_shouldYield,Ri=void 0!==Ei?Ei:function(){},Li=null,Oi=null,Bi=!1,Fi=Si(),ji=1e4>Fi?Si:function(){return Si()-Fi};function Ui(){switch(Ci()){case Mi:return 99;case ki:return 98;case Ai:return 97;case Ii:return 96;case Pi:return 95;default:throw Error(a(332))}}function Ni(e){switch(e){case 99:return Mi;case 98:return ki;case 97:return Ai;case 96:return Ii;case 95:return Pi;default:throw Error(a(332))}}function Vi(e,t){return e=Ni(e),bi(e,t)}function Gi(e,t,r){return e=Ni(e),wi(e,t,r)}function qi(e){return null===Li?(Li=[e],Oi=wi(Mi,$i)):Li.push(e),zi}function Zi(){if(null!==Oi){var e=Oi;Oi=null,Ti(e)}$i()}function $i(){if(!Bi&&null!==Li){Bi=!0;var e=0;try{var t=Li;Vi(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),Li=null}catch(t){throw null!==Li&&(Li=Li.slice(e+1)),wi(Mi,Zi),t}finally{Bi=!1}}}function Wi(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function Xi(e,t){if(e&&e.defaultProps)for(var r in t=i({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var Hi={current:null},Yi=null,Ki=null,Ji=null;function Qi(){Ji=Ki=Yi=null}function eo(e){var t=Hi.current;li(Hi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function ro(e,t){Yi=e,Ji=Ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ia=!0),e.firstContext=null)}function no(e,t){if(Ji!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Ji=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ki){if(null===Yi)throw Error(a(308));Ki=t,Yi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Ki=Ki.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function co(e,t){var r=e.alternate;null!==r&&ao(r,e),null===(r=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function uo(e,t,r,n){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var c=o.baseState,u=0,h=null,d=null,p=null;if(null!==l)for(var f=l;;){if((s=f.expirationTime)<n){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===p?(d=p=m,h=c):p=p.next=m,s>u&&(u=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),ol(s,f.suspenseConfig);e:{var g=e,_=f;switch(s=t,m=r,_.tag){case 1:if("function"==typeof(g=_.payload)){c=g.call(m,c,s);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(s="function"==typeof(g=_.payload)?g.call(m,c,s):g))break e;c=i({},c,s);break e;case 2:io=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[f]:s.push(f))}if(null===(f=f.next)||f===l){if(null===(s=o.shared.pending))break;f=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===p?h=c:p.next=d,o.baseState=h,o.baseQueue=p,al(u),e.expirationTime=u,e.memoizedState=c}}function ho(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=i,i=r,"function"!=typeof n)throw Error(a(191,n));n.call(i)}}}var po=Y.ReactCurrentBatchConfig,fo=(new n.Component).refs;function mo(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:i({},t,r),e.memoizedState=r,0===e.expirationTime&&(e.updateQueue.baseState=r)}var go={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=$s(),i=po.suspense;(i=so(n=Ws(n,e,i),i)).payload=t,null!=r&&(i.callback=r),lo(e,i),Xs(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=$s(),i=po.suspense;(i=so(n=Ws(n,e,i),i)).tag=1,i.payload=t,null!=r&&(i.callback=r),lo(e,i),Xs(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=$s(),n=po.suspense;(n=so(r=Ws(r,e,n),n)).tag=2,null!=t&&(n.callback=t),lo(e,n),Xs(e,r)}};function _o(e,t,r,n,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!jn(r,n)||!jn(i,o))}function yo(e,t,r){var n=!1,i=ui,o=t.contextType;return"object"==typeof o&&null!==o?o=no(o):(i=mi(t)?pi:hi.current,o=(n=null!=(n=t.contextTypes))?fi(e,i):ui),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function vo(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function xo(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=fo,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=no(o):(o=mi(t)?pi:hi.current,i.context=fi(e,o)),uo(e,r,i,n),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),uo(e,r,i,n),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var bo=Array.isArray;function wo(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(a(309));var n=r.stateNode}if(!n)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===fo&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(a(284));if(!r._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Eo(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Cl(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Al(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=wo(e,t,r),n.return=e,n):((n=Ml(r.type,r.key,r.props,null,e.mode,n)).ref=wo(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Il(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function h(e,t,r,n,o){return null===t||7!==t.tag?((t=kl(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=Al(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(r=Ml(t.type,t.key,t.props,null,e.mode,r)).ref=wo(e,null,t),r.return=e,r;case te:return(t=Il(t,e.mode,r)).return=e,t}if(bo(t)||me(t))return(t=kl(t,e.mode,r,null)).return=e,t;To(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==i?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ee:return r.key===i?r.type===re?h(e,t,r.props.children,n,i):c(e,t,r,n):null;case te:return r.key===i?u(e,t,r,n):null}if(bo(r)||me(r))return null!==i?null:h(e,t,r,n,null);To(e,r)}return null}function f(e,t,r,n,i){if("string"==typeof n||"number"==typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return e=e.get(null===n.key?r:n.key)||null,n.type===re?h(t,e,n.props.children,i,n.key):c(t,e,n,i);case te:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(bo(n)||me(n))return h(t,e=e.get(r)||null,n,i,null);To(t,n)}return null}function m(i,a,s,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var _=p(i,h,s[m],l);if(null===_){null===h&&(h=g);break}e&&h&&null===_.alternate&&t(i,h),a=o(_,a,m),null===u?c=_:u.sibling=_,u=_,h=g}if(m===s.length)return r(i,h),c;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],l))&&(a=o(h,a,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=n(i,h);m<s.length;m++)null!==(g=f(h,i,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,s,l,c){var u=me(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,m=s,g=s=0,_=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(_=m,m=null):_=m.sibling;var v=p(i,m,y.value,c);if(null===v){null===m&&(m=_);break}e&&m&&null===v.alternate&&t(i,m),s=o(v,s,g),null===h?u=v:h.sibling=v,h=v,m=_}if(y.done)return r(i,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return u}for(m=n(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,n,o,l){var c="object"==typeof o&&null!==o&&o.type===re&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,c=n;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===re){r(e,c.sibling),(n=i(c,o.props.children)).return=e,e=n;break e}break;default:if(c.elementType===o.type){r(e,c.sibling),(n=i(c,o.props)).ref=wo(e,c,o),n.return=e,e=n;break e}}r(e,c);break}t(e,c),c=c.sibling}o.type===re?((n=kl(o.props.children,e.mode,l,o.key)).return=e,e=n):((l=Ml(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,n,o),l.return=e,e=l)}return s(e);case te:e:{for(c=o.key;null!==n;){if(n.key===c){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),(n=i(n,o.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=Il(o,e.mode,l)).return=e,e=n}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,o)).return=e,e=n):(r(e,n),(n=Al(o,e.mode,l)).return=e,e=n),s(e);if(bo(o))return m(e,n,o,l);if(me(o))return g(e,n,o,l);if(u&&To(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return r(e,n)}}var So=Eo(!0),Co=Eo(!1),Mo={},ko={current:Mo},Ao={current:Mo},Io={current:Mo};function Po(e){if(e===Mo)throw Error(a(174));return e}function zo(e,t){switch(ci(Io,t),ci(Ao,e),ci(ko,Mo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Be(null,"");break;default:t=Be(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(ko),ci(ko,t)}function Do(){li(ko),li(Ao),li(Io)}function Ro(e){Po(Io.current);var t=Po(ko.current),r=Be(t,e.type);t!==r&&(ci(Ao,e),ci(ko,r))}function Lo(e){Ao.current===e&&(li(ko),li(Ao))}var Oo={current:0};function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fo(e,t){return{responder:e,props:t}}var jo=Y.ReactCurrentDispatcher,Uo=Y.ReactCurrentBatchConfig,No=0,Vo=null,Go=null,qo=null,Zo=!1;function $o(){throw Error(a(321))}function Wo(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Bn(e[r],t[r]))return!1;return!0}function Xo(e,t,r,n,i,o){if(No=o,Vo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,jo.current=null===e||null===e.memoizedState?_a:ya,e=r(n,i),t.expirationTime===No){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,qo=Go=null,t.updateQueue=null,jo.current=va,e=r(n,i)}while(t.expirationTime===No)}if(jo.current=ga,t=null!==Go&&null!==Go.next,No=0,qo=Go=Vo=null,Zo=!1,t)throw Error(a(300));return e}function Ho(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qo?Vo.memoizedState=qo=e:qo=qo.next=e,qo}function Yo(){if(null===Go){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=Go.next;var t=null===qo?Vo.memoizedState:qo.next;if(null!==t)qo=t,Go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Go=e).memoizedState,baseState:Go.baseState,baseQueue:Go.baseQueue,queue:Go.queue,next:null},null===qo?Vo.memoizedState=qo=e:qo=qo.next=e}return qo}function Ko(e,t){return"function"==typeof t?t(e):t}function Jo(e){var t=Yo(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=Go,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var l=s=o=null,c=i;do{var u=c.expirationTime;if(u<No){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=h,o=n):l=l.next=h,u>Vo.expirationTime&&(Vo.expirationTime=u,al(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ol(u,c.suspenseConfig),n=c.eagerReducer===e?c.eagerState:e(n,c.action);c=c.next}while(null!==c&&c!==i);null===l?o=n:l.next=s,Bn(n,t.memoizedState)||(Ia=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function Qo(e){var t=Yo(),r=t.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Bn(o,t.memoizedState)||(Ia=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ea(e){var t=Ho();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:e}).dispatch=ma.bind(null,Vo,e),[t.memoizedState,e]}function ta(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=Vo.updateQueue)?(t={lastEffect:null},Vo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function ra(){return Yo().memoizedState}function na(e,t,r,n){var i=Ho();Vo.effectTag|=e,i.memoizedState=ta(1|t,r,void 0,void 0===n?null:n)}function ia(e,t,r,n){var i=Yo();n=void 0===n?null:n;var o=void 0;if(null!==Go){var a=Go.memoizedState;if(o=a.destroy,null!==n&&Wo(n,a.deps))return void ta(t,r,o,n)}Vo.effectTag|=e,i.memoizedState=ta(1|t,r,o,n)}function oa(e,t){return na(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function la(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ca(e,t,r){return r=null!=r?r.concat([e]):null,ia(4,2,la.bind(null,t,e),r)}function ua(){}function ha(e,t){return Ho().memoizedState=[e,void 0===t?null:t],e}function da(e,t){var r=Yo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Wo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function pa(e,t){var r=Yo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&Wo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function fa(e,t,r){var n=Ui();Vi(98>n?98:n,(function(){e(!0)})),Vi(97<n?97:n,(function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{e(!1),r()}finally{Uo.suspense=n}}))}function ma(e,t,r){var n=$s(),i=po.suspense;i={expirationTime:n=Ws(n,e,i),suspenseConfig:i,action:r,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Vo||null!==o&&o===Vo)Zo=!0,i.expirationTime=No,Vo.expirationTime=No;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,r);if(i.eagerReducer=o,i.eagerState=s,Bn(s,a))return}catch(e){}Xs(e,n)}}var ga={readContext:no,useCallback:$o,useContext:$o,useEffect:$o,useImperativeHandle:$o,useLayoutEffect:$o,useMemo:$o,useReducer:$o,useRef:$o,useState:$o,useDebugValue:$o,useResponder:$o,useDeferredValue:$o,useTransition:$o},_a={readContext:no,useCallback:ha,useContext:no,useEffect:oa,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,na(4,2,la.bind(null,t,e),r)},useLayoutEffect:function(e,t){return na(4,2,e,t)},useMemo:function(e,t){var r=Ho();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ho();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,Vo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Ho().memoizedState=e},useState:ea,useDebugValue:ua,useResponder:Fo,useDeferredValue:function(e,t){var r=ea(e),n=r[0],i=r[1];return oa((function(){var r=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=r}}),[e,t]),n},useTransition:function(e){var t=ea(!1),r=t[0];return t=t[1],[ha(fa.bind(null,t,e),[t,e]),r]}},ya={readContext:no,useCallback:da,useContext:no,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Jo,useRef:ra,useState:function(){return Jo(Ko)},useDebugValue:ua,useResponder:Fo,useDeferredValue:function(e,t){var r=Jo(Ko),n=r[0],i=r[1];return aa((function(){var r=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Jo(Ko),r=t[0];return t=t[1],[da(fa.bind(null,t,e),[t,e]),r]}},va={readContext:no,useCallback:da,useContext:no,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Qo,useRef:ra,useState:function(){return Qo(Ko)},useDebugValue:ua,useResponder:Fo,useDeferredValue:function(e,t){var r=Qo(Ko),n=r[0],i=r[1];return aa((function(){var r=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=r}}),[e,t]),n},useTransition:function(e){var t=Qo(Ko),r=t[0];return t=t[1],[da(fa.bind(null,t,e),[t,e]),r]}},xa=null,ba=null,wa=!1;function Ta(e,t){var r=El(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Ea(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Sa(e){if(wa){var t=ba;if(t){var r=t;if(!Ea(e,t)){if(!(t=xr(r.nextSibling))||!Ea(e,t))return e.effectTag=-1025&e.effectTag|2,wa=!1,void(xa=e);Ta(xa,r)}xa=e,ba=xr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,wa=!1,xa=e}}function Ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xa=e}function Ma(e){if(e!==xa)return!1;if(!wa)return Ca(e),wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_r(t,e.memoizedProps))for(t=ba;t;)Ta(e,t),t=xr(t.nextSibling);if(Ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ba=xr(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ba=null}}else ba=xa?xr(e.stateNode.nextSibling):null;return!0}function ka(){ba=xa=null,wa=!1}var Aa=Y.ReactCurrentOwner,Ia=!1;function Pa(e,t,r,n){t.child=null===e?Co(t,null,r,n):So(t,e.child,r,n)}function za(e,t,r,n,i){r=r.render;var o=t.ref;return ro(t,i),n=Xo(e,t,r,n,o,i),null===e||Ia?(t.effectTag|=1,Pa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function Da(e,t,r,n,i,o){if(null===e){var a=r.type;return"function"!=typeof a||Sl(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ml(r.type,null,n,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ra(e,t,a,n,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(r=null!==(r=r.compare)?r:jn)(i,n)&&e.ref===t.ref)?Xa(e,t,o):(t.effectTag|=1,(e=Cl(a,n)).ref=t.ref,e.return=t,t.child=e)}function Ra(e,t,r,n,i,o){return null!==e&&jn(e.memoizedProps,n)&&e.ref===t.ref&&(Ia=!1,i<o)?(t.expirationTime=e.expirationTime,Xa(e,t,o)):Oa(e,t,r,n,o)}function La(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function Oa(e,t,r,n,i){var o=mi(r)?pi:hi.current;return o=fi(t,o),ro(t,i),r=Xo(e,t,r,n,o,i),null===e||Ia?(t.effectTag|=1,Pa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Xa(e,t,i))}function Ba(e,t,r,n,i){if(mi(r)){var o=!0;vi(t)}else o=!1;if(ro(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),yo(t,r,n),xo(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=r.contextType;"object"==typeof c&&null!==c?c=no(c):c=fi(t,c=mi(r)?pi:hi.current);var u=r.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==c)&&vo(t,a,n,c),io=!1;var d=t.memoizedState;a.state=d,uo(t,n,a,i),l=t.memoizedState,s!==n||d!==l||di.current||io?("function"==typeof u&&(mo(t,r,u,n),l=t.memoizedState),(s=io||_o(t,r,s,n,d,l,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=c,n=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),n=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Xi(t.type,s),l=a.context,"object"==typeof(c=r.contextType)&&null!==c?c=no(c):c=fi(t,c=mi(r)?pi:hi.current),(h="function"==typeof(u=r.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||l!==c)&&vo(t,a,n,c),io=!1,l=t.memoizedState,a.state=l,uo(t,n,a,i),d=t.memoizedState,s!==n||l!==d||di.current||io?("function"==typeof u&&(mo(t,r,u,n),d=t.memoizedState),(u=io||_o(t,r,s,n,l,d,c))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,d,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,d,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=d),a.props=n,a.state=d,a.context=c,n=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),n=!1);return Fa(e,t,r,n,o,i)}function Fa(e,t,r,n,i,o){La(e,t);var a=0!=(64&t.effectTag);if(!n&&!a)return i&&xi(t,r,!1),Xa(e,t,o);n=t.stateNode,Aa.current=t;var s=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Pa(e,t,s,o),t.memoizedState=n.state,i&&xi(t,r,!0),t.child}function ja(e){var t=e.stateNode;t.pendingContext?_i(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_i(0,t.context,!1),zo(e,t.containerInfo)}var Ua,Na,Va,Ga={dehydrated:null,retryTime:0};function qa(e,t,r){var n,i=t.mode,o=t.pendingProps,a=Oo.current,s=!1;if((n=0!=(64&t.effectTag))||(n=0!=(2&a)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(Oo,1&a),null===e){if(void 0!==o.fallback&&Sa(t),s){if(s=o.fallback,(o=kl(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=kl(s,i,r,null)).return=t,o.sibling=r,t.memoizedState=Ga,t.child=o,r}return i=o.children,t.memoizedState=null,t.child=Co(t,null,i,r)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(r=Cl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=Cl(i,o)).return=t,r.sibling=i,r.childExpirationTime=0,t.memoizedState=Ga,t.child=r,i}return r=So(t,e.child,o.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=o.fallback,(o=kl(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=kl(s,i,r,null)).return=t,o.sibling=r,r.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ga,t.child=o,r}return t.memoizedState=null,t.child=So(t,e,o.children,r)}function Za(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),to(e.return,t)}function $a(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Wa(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Pa(e,t,n.children,r),0!=(2&(n=Oo.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,r);else if(19===e.tag)Za(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ci(Oo,n),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Bo(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),$a(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Bo(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}$a(t,!0,r,null,o,t.lastEffect);break;case"together":$a(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xa(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&al(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(r=Cl(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Cl(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ha(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ya(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&gi(),null;case 3:return Do(),li(di),li(hi),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!Ma(t)||(t.effectTag|=4),null;case 5:Lo(t),r=Po(Io.current);var o=t.type;if(null!==e&&null!=t.stateNode)Na(e,t,o,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(ko.current),Ma(t)){n=t.stateNode,o=t.type;var s=t.memoizedProps;switch(n[Tr]=t,n[Er]=s,o){case"iframe":case"object":case"embed":Wt("load",n);break;case"video":case"audio":for(e=0;e<Ye.length;e++)Wt(Ye[e],n);break;case"source":Wt("error",n);break;case"img":case"image":case"link":Wt("error",n),Wt("load",n);break;case"form":Wt("reset",n),Wt("submit",n);break;case"details":Wt("toggle",n);break;case"input":Te(n,s),Wt("invalid",n),sr(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Wt("invalid",n),sr(r,"onChange");break;case"textarea":Pe(n,s),Wt("invalid",n),sr(r,"onChange")}for(var l in ir(o,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?n.textContent!==c&&(e=["children",c]):"number"==typeof c&&n.textContent!==""+c&&(e=["children",""+c]):E.hasOwnProperty(l)&&null!=c&&sr(r,l)}switch(o){case"input":xe(n),Ce(n,s,!0);break;case"textarea":xe(n),De(n);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(n.onclick=lr)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(l=9===r.nodeType?r:r.ownerDocument,e===ar&&(e=Oe(o)),e===ar?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=l.createElement(o,{is:n.is}):(e=l.createElement(o),"select"===o&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,o),e[Tr]=t,e[Er]=n,Ua(e,t),t.stateNode=e,l=or(o,n),o){case"iframe":case"object":case"embed":Wt("load",e),c=n;break;case"video":case"audio":for(c=0;c<Ye.length;c++)Wt(Ye[c],e);c=n;break;case"source":Wt("error",e),c=n;break;case"img":case"image":case"link":Wt("error",e),Wt("load",e),c=n;break;case"form":Wt("reset",e),Wt("submit",e),c=n;break;case"details":Wt("toggle",e),c=n;break;case"input":Te(e,n),c=we(e,n),Wt("invalid",e),sr(r,"onChange");break;case"option":c=ke(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},c=i({},n,{value:void 0}),Wt("invalid",e),sr(r,"onChange");break;case"textarea":Pe(e,n),c=Ie(e,n),Wt("invalid",e),sr(r,"onChange");break;default:c=n}ir(o,c);var u=c;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];"style"===s?rr(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&je(e,h):"children"===s?"string"==typeof h?("textarea"!==o||""!==h)&&Ue(e,h):"number"==typeof h&&Ue(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?null!=h&&sr(r,s):null!=h&&K(e,s,h,l))}switch(o){case"input":xe(e),Ce(e,n,!1);break;case"textarea":xe(e),De(e);break;case"option":null!=n.value&&e.setAttribute("value",""+ye(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?Ae(e,!!n.multiple,r,!1):null!=n.defaultValue&&Ae(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=lr)}gr(o,n)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Va(0,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(a(166));r=Po(Io.current),Po(ko.current),Ma(t)?(r=t.stateNode,n=t.memoizedProps,r[Tr]=t,r.nodeValue!==n&&(t.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Tr]=t,t.stateNode=r)}return null;case 13:return li(Oo),n=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=r,t):(r=null!==n,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ma(t):(n=null!==(o=e.memoizedState),r||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Oo.current)?Ms===xs&&(Ms=bs):(Ms!==xs&&Ms!==bs||(Ms=ws),0!==zs&&null!==Es&&(Dl(Es,Cs),Rl(Es,zs)))),(r||n)&&(t.effectTag|=4),null);case 4:return Do(),null;case 10:return eo(t),null;case 17:return mi(t.type)&&gi(),null;case 19:if(li(Oo),null===(n=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=n.rendering)){if(o)Ha(n,!1);else if(Ms!==xs||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Bo(s))){for(t.effectTag|=64,Ha(n,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;null!==n;)s=r,(o=n).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;return ci(Oo,1&Oo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Bo(s))){if(t.effectTag|=64,o=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),Ha(n,!0),null===n.tail&&"hidden"===n.tailMode&&!s.alternate)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*ji()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,o=!0,Ha(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(s.sibling=t.child,t.child=s):(null!==(r=n.last)?r.sibling=s:t.child=s,n.last=s)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=ji()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=ji(),r.sibling=null,t=Oo.current,ci(Oo,o?1&t|2:1&t),r):null}throw Error(a(156,t.tag))}function Ka(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Do(),li(di),li(hi),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Lo(e),null;case 13:return li(Oo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return li(Oo),null;case 4:return Do(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:_e(t)}}Ua=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Na=function(e,t,r,n,o){var a=e.memoizedProps;if(a!==n){var s,l,c=t.stateNode;switch(Po(ko.current),e=null,r){case"input":a=we(c,a),n=we(c,n),e=[];break;case"option":a=ke(c,a),n=ke(c,n),e=[];break;case"select":a=i({},a,{value:void 0}),n=i({},n,{value:void 0}),e=[];break;case"textarea":a=Ie(c,a),n=Ie(c,n),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof n.onClick&&(c.onclick=lr)}for(s in ir(r,n),r=null,a)if(!n.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(r||(r={}),r[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in n){var u=n[s];if(c=null!=a?a[s]:void 0,n.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(r||(r={}),r[l]=u[l])}else r||(e||(e=[]),e.push(s,r)),r=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,u)):"children"===s?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(E.hasOwnProperty(s)?(null!=u&&sr(o,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}r&&(e=e||[]).push("style",r),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Va=function(e,t,r,n){r!==n&&(t.effectTag|=4)};var Qa="function"==typeof WeakSet?WeakSet:Set;function es(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=_e(r)),null!==r&&ge(r.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){yl(e,t)}else t.current=null}function rs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:Xi(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ns(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function os(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:return void is(3,r);case 1:if(e=r.stateNode,4&r.effectTag)if(null===t)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:Xi(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=r.updateQueue)&&ho(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}ho(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.effectTag&&gr(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&Ot(r)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,r){switch("function"==typeof wl&&wl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;Vi(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(e){yl(i,e)}}e=e.next}while(e!==n)}))}break;case 1:ts(t),"function"==typeof(r=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){yl(e,t)}}(t,r);break;case 5:ts(t);break;case 4:us(e,t,r)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var r=t;break e}t=t.return}throw Error(a(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(a(161))}16&r.effectTag&&(Ue(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||ls(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}n?function e(t,r,n){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,r?8===n.nodeType?n.parentNode.insertBefore(t,r):n.insertBefore(t,r):(8===n.nodeType?(r=n.parentNode).insertBefore(t,n):(r=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==r.onclick||(r.onclick=lr));else if(4!==i&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t):function e(t,r,n){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,r?n.insertBefore(t,r):n.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,r,n),t=t.sibling;null!==t;)e(t,r,n),t=t.sibling}(e,r,t)}function us(e,t,r){for(var n,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(n=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,u=r,h=c;;)if(as(l,h,u),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break e;for(;null===h.sibling;){if(null===h.return||h.return===c)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i?(l=n,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function hs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ns(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[Er]=n,"input"===e&&"radio"===n.type&&null!=n.name&&Ee(r,n),or(e,i),t=or(e,n),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?rr(r,l):"dangerouslySetInnerHTML"===s?je(r,l):"children"===s?Ue(r,l):K(r,s,l,t)}switch(e){case"input":Se(r,n);break;case"textarea":ze(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?Ae(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?Ae(r,!!n.multiple,n.defaultValue,!0):Ae(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Ot(t.containerInfo)));case 12:return;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,Rs=ji()),null!==r)e:for(e=r;;){if(5===e.tag)o=e.stateNode,n?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=tr("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ds(t);case 19:return void ds(t);case 17:return}throw Error(a(163))}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Qa),t.forEach((function(t){var n=xl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,r){(r=so(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Os||(Os=!0,Bs=n),es(e,t)},r}function ms(e,t,r){(r=so(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return es(e,t),n(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===Fs?Fs=new Set([this]):Fs.add(this),es(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var gs,_s=Math.ceil,ys=Y.ReactCurrentDispatcher,vs=Y.ReactCurrentOwner,xs=0,bs=3,ws=4,Ts=0,Es=null,Ss=null,Cs=0,Ms=xs,ks=null,As=1073741823,Is=1073741823,Ps=null,zs=0,Ds=!1,Rs=0,Ls=null,Os=!1,Bs=null,Fs=null,js=!1,Us=null,Ns=90,Vs=null,Gs=0,qs=null,Zs=0;function $s(){return 0!=(48&Ts)?1073741821-(ji()/10|0):0!==Zs?Zs:Zs=1073741821-(ji()/10|0)}function Ws(e,t,r){if(0==(2&(t=t.mode)))return 1073741823;var n=Ui();if(0==(4&t))return 99===n?1073741823:1073741822;if(0!=(16&Ts))return Cs;if(null!==r)e=Wi(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=Wi(e,150,100);break;case 97:case 96:e=Wi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Es&&e===Cs&&--e,e}function Xs(e,t){if(50<Gs)throw Gs=0,qs=null,Error(a(185));if(null!==(e=Hs(e,t))){var r=Ui();1073741823===t?0!=(8&Ts)&&0==(48&Ts)?Qs(e):(Ks(e),0===Ts&&Zi()):Ks(e),0==(4&Ts)||98!==r&&99!==r||(null===Vs?Vs=new Map([[e,t]]):(void 0===(r=Vs.get(e))||r>t)&&Vs.set(e,t))}}function Hs(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(Es===i&&(al(t),Ms===ws&&Dl(i,Cs)),Rl(i,t)),i}function Ys(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!zl(e,t=e.firstPendingTime))return t;var r=e.lastPingedTime;return 2>=(e=r>(e=e.nextKnownPendingLevel)?r:e)&&t!==e?0:e}function Ks(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=qi(Qs.bind(null,e));else{var t=Ys(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=$s();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==zi&&Ti(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?qi(Qs.bind(null,e)):Gi(n,Js.bind(null,e),{timeout:10*(1073741821-t)-ji()}),e.callbackNode=t}}}function Js(e,t){if(Zs=0,t)return Ll(e,t=$s()),Ks(e),null;var r=Ys(e);if(0!==r){if(t=e.callbackNode,0!=(48&Ts))throw Error(a(327));if(ml(),e===Es&&r===Cs||rl(e,r),null!==Ss){var n=Ts;Ts|=16;for(var i=il();;)try{ll();break}catch(t){nl(e,t)}if(Qi(),Ts=n,ys.current=i,1===Ms)throw t=ks,rl(e,r),Dl(e,r),Ks(e),t;if(null===Ss)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=Ms,Es=null,n){case xs:case 1:throw Error(a(345));case 2:Ll(e,2<r?2:r);break;case bs:if(Dl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(i)),1073741823===As&&10<(i=Rs+500-ji())){if(Ds){var o=e.lastPingedTime;if(0===o||o>=r){e.lastPingedTime=r,rl(e,r);break}}if(0!==(o=Ys(e))&&o!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=yr(dl.bind(null,e),i);break}dl(e);break;case ws:if(Dl(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(i)),Ds&&(0===(i=e.lastPingedTime)||i>=r)){e.lastPingedTime=r,rl(e,r);break}if(0!==(i=Ys(e))&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==Is?n=10*(1073741821-Is)-ji():1073741823===As?n=0:(n=10*(1073741821-As)-5e3,0>(n=(i=ji())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_s(n/1960))-n)&&(n=r)),10<n){e.timeoutHandle=yr(dl.bind(null,e),n);break}dl(e);break;case 5:if(1073741823!==As&&null!==Ps){o=As;var s=Ps;if(0>=(n=0|s.busyMinDurationMs)?n=0:(i=0|s.busyDelayMs,n=(o=ji()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+n-o),10<n){Dl(e,r),e.timeoutHandle=yr(dl.bind(null,e),n);break}}dl(e);break;default:throw Error(a(329))}if(Ks(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function Qs(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ts))throw Error(a(327));if(ml(),e===Es&&t===Cs||rl(e,t),null!==Ss){var r=Ts;Ts|=16;for(var n=il();;)try{sl();break}catch(t){nl(e,t)}if(Qi(),Ts=r,ys.current=n,1===Ms)throw r=ks,rl(e,t),Dl(e,t),Ks(e),r;if(null!==Ss)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Es=null,dl(e),Ks(e)}return null}function el(e,t){var r=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=r)&&Zi()}}function tl(e,t){var r=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=r)&&Zi()}}function rl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,vr(r)),null!==Ss)for(r=Ss.return;null!==r;){var n=r;switch(n.tag){case 1:null!=(n=n.type.childContextTypes)&&gi();break;case 3:Do(),li(di),li(hi);break;case 5:Lo(n);break;case 4:Do();break;case 13:case 19:li(Oo);break;case 10:eo(n)}r=r.return}Es=e,Ss=Cl(e.current,null),Cs=t,Ms=xs,ks=null,Is=As=1073741823,Ps=null,zs=0,Ds=!1}function nl(e,t){for(;;){try{if(Qi(),jo.current=ga,Zo)for(var r=Vo.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}if(No=0,qo=Go=Vo=null,Zo=!1,null===Ss||null===Ss.return)return Ms=1,ks=t,Ss=null;e:{var i=e,o=Ss.return,a=Ss,s=t;if(t=Cs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!=(1&Oo.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var f=h.memoizedProps;d=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!u)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(l),h.updateQueue=g}else m.add(l);if(0==(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var _=so(1073741823,null);_.tag=2,lo(a,_)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new ps,s=new Set,y.set(l,s)):void 0===(s=y.get(l))&&(s=new Set,y.set(l,s)),!s.has(a)){s.add(a);var v=vl.bind(null,i,l,a);l.then(v,v)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+_e(a))}5!==Ms&&(Ms=2),s=Ja(s,a),h=o;do{switch(h.tag){case 3:l=s,h.effectTag|=4096,h.expirationTime=t,co(h,fs(h,l,t));break e;case 1:l=s;var x=h.type,b=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof x.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Fs||!Fs.has(b)))){h.effectTag|=4096,h.expirationTime=t,co(h,ms(h,l,t));break e}}h=h.return}while(null!==h)}Ss=ul(Ss)}catch(e){t=e;continue}break}}function il(){var e=ys.current;return ys.current=ga,null===e?ga:e}function ol(e,t){e<As&&2<e&&(As=e),null!==t&&e<Is&&2<e&&(Is=e,Ps=t)}function al(e){e>zs&&(zs=e)}function sl(){for(;null!==Ss;)Ss=cl(Ss)}function ll(){for(;null!==Ss&&!Di();)Ss=cl(Ss)}function cl(e){var t=gs(e.alternate,e,Cs);return e.memoizedProps=e.pendingProps,null===t&&(t=ul(e)),vs.current=null,t}function ul(e){Ss=e;do{var t=Ss.alternate;if(e=Ss.return,0==(2048&Ss.effectTag)){if(t=Ya(t,Ss,Cs),1===Cs||1!==Ss.childExpirationTime){for(var r=0,n=Ss.child;null!==n;){var i=n.expirationTime,o=n.childExpirationTime;i>r&&(r=i),o>r&&(r=o),n=n.sibling}Ss.childExpirationTime=r}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ss.firstEffect),e.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ss:e.firstEffect=Ss,e.lastEffect=Ss))}else{if(null!==(t=Ka(Ss)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ss.sibling))return t;Ss=e}while(null!==Ss);return Ms===xs&&(Ms=5),null}function hl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function dl(e){var t=Ui();return Vi(99,pl.bind(null,e,t)),null}function pl(e,t){do{ml()}while(null!==Us);if(0!=(48&Ts))throw Error(a(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=hl(r);if(e.firstPendingTime=i,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Es&&(Ss=Es=null,Cs=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var o=Ts;Ts|=32,vs.current=null,fr=$t;var s=dr();if(pr(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{l.nodeType,h.nodeType}catch(e){l=null;break e}var d=0,p=-1,f=-1,m=0,g=0,_=s,y=null;t:for(;;){for(var v;_!==l||0!==u&&3!==_.nodeType||(p=d+u),_!==h||0!==c&&3!==_.nodeType||(f=d+c),3===_.nodeType&&(d+=_.nodeValue.length),null!==(v=_.firstChild);)y=_,_=v;for(;;){if(_===s)break t;if(y===l&&++m===u&&(p=d),y===h&&++g===c&&(f=d),null!==(v=_.nextSibling))break;y=(_=y).parentNode}_=v}l=-1===p||-1===f?null:{start:p,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;mr={activeElementDetached:null,focusedElem:s,selectionRange:l},$t=!1,Ls=i;do{try{fl()}catch(e){if(null===Ls)throw Error(a(330));yl(Ls,e),Ls=Ls.nextEffect}}while(null!==Ls);Ls=i;do{try{for(s=e,l=t;null!==Ls;){var x=Ls.effectTag;if(16&x&&Ue(Ls.stateNode,""),128&x){var b=Ls.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&x){case 2:cs(Ls),Ls.effectTag&=-3;break;case 6:cs(Ls),Ls.effectTag&=-3,hs(Ls.alternate,Ls);break;case 1024:Ls.effectTag&=-1025;break;case 1028:Ls.effectTag&=-1025,hs(Ls.alternate,Ls);break;case 4:hs(Ls.alternate,Ls);break;case 8:us(s,u=Ls,l),ss(u)}Ls=Ls.nextEffect}}catch(e){if(null===Ls)throw Error(a(330));yl(Ls,e),Ls=Ls.nextEffect}}while(null!==Ls);if(w=mr,b=dr(),x=w.focusedElem,l=w.selectionRange,b!==x&&x&&x.ownerDocument&&function e(t,r){return!(!t||!r)&&(t===r||(!t||3!==t.nodeType)&&(r&&3===r.nodeType?e(t,r.parentNode):"contains"in t?t.contains(r):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(r))))}(x.ownerDocument.documentElement,x)){null!==l&&pr(x)&&(b=l.start,void 0===(w=l.end)&&(w=b),"selectionStart"in x?(x.selectionStart=b,x.selectionEnd=Math.min(w,x.value.length)):(w=(b=x.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=x.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!w.extend&&s>l&&(u=l,l=s,s=u),u=hr(x,s),h=hr(x,l),u&&h&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==h.node||w.focusOffset!==h.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),s>l?(w.addRange(b),w.extend(h.node,h.offset)):(b.setEnd(h.node,h.offset),w.addRange(b))))),b=[];for(w=x;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof x.focus&&x.focus(),x=0;x<b.length;x++)(w=b[x]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!fr,mr=fr=null,e.current=r,Ls=i;do{try{for(x=e;null!==Ls;){var T=Ls.effectTag;if(36&T&&os(x,Ls.alternate,Ls),128&T){b=void 0;var E=Ls.ref;if(null!==E){var S=Ls.stateNode;switch(Ls.tag){case 5:b=S;break;default:b=S}"function"==typeof E?E(b):E.current=b}}Ls=Ls.nextEffect}}catch(e){if(null===Ls)throw Error(a(330));yl(Ls,e),Ls=Ls.nextEffect}}while(null!==Ls);Ls=null,Ri(),Ts=o}else e.current=r;if(js)js=!1,Us=e,Ns=t;else for(Ls=i;null!==Ls;)t=Ls.nextEffect,Ls.nextEffect=null,Ls=t;if(0===(t=e.firstPendingTime)&&(Fs=null),1073741823===t?e===qs?Gs++:(Gs=0,qs=e):Gs=0,"function"==typeof bl&&bl(r.stateNode,n),Ks(e),Os)throw Os=!1,e=Bs,Bs=null,e;return 0!=(8&Ts)||Zi(),null}function fl(){for(;null!==Ls;){var e=Ls.effectTag;0!=(256&e)&&rs(Ls.alternate,Ls),0==(512&e)||js||(js=!0,Gi(97,(function(){return ml(),null}))),Ls=Ls.nextEffect}}function ml(){if(90!==Ns){var e=97<Ns?97:Ns;return Ns=90,Vi(e,gl)}}function gl(){if(null===Us)return!1;var e=Us;if(Us=null,0!=(48&Ts))throw Error(a(331));var t=Ts;for(Ts|=32,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:ns(5,r),is(5,r)}}catch(t){if(null===e)throw Error(a(330));yl(e,t)}r=e.nextEffect,e.nextEffect=null,e=r}return Ts=t,Zi(),!0}function _l(e,t,r){lo(e,t=fs(e,t=Ja(r,t),1073741823)),null!==(e=Hs(e,1073741823))&&Ks(e)}function yl(e,t){if(3===e.tag)_l(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){_l(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Fs||!Fs.has(n))){lo(r,e=ms(r,e=Ja(t,e),1073741823)),null!==(r=Hs(r,1073741823))&&Ks(r);break}}r=r.return}}function vl(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),Es===e&&Cs===r?Ms===ws||Ms===bs&&1073741823===As&&ji()-Rs<500?rl(e,Cs):Ds=!0:zl(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,Ks(e)))}function xl(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(t=Ws(t=$s(),e,null)),null!==(e=Hs(e,t))&&Ks(e)}gs=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||di.current)Ia=!0;else{if(n<r){switch(Ia=!1,t.tag){case 3:ja(t),ka();break;case 5:if(Ro(t),4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&vi(t);break;case 4:zo(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,i=t.type._context,ci(Hi,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?qa(e,t,r):(ci(Oo,1&Oo.current),null!==(t=Xa(e,t,r))?t.sibling:null);ci(Oo,1&Oo.current);break;case 19:if(n=t.childExpirationTime>=r,0!=(64&e.effectTag)){if(n)return Wa(e,t,r);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ci(Oo,Oo.current),!n)return null}return Xa(e,t,r)}Ia=!1}}else Ia=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=fi(t,hi.current),ro(t,r),i=Xo(null,t,n,e,i,r),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(n)){var o=!0;vi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=n.getDerivedStateFromProps;"function"==typeof s&&mo(t,n,s,e),i.updater=go,t.stateNode=i,i._reactInternalFiber=t,xo(t,n,e,r),t=Fa(null,t,n,!0,o,r)}else t.tag=0,Pa(null,t,i,r),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"==typeof e)return Sl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===he)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Oa(null,t,i,e,r);break e;case 1:t=Ba(null,t,i,e,r);break e;case 11:t=za(null,t,i,e,r);break e;case 14:t=Da(null,t,i,Xi(i.type,e),n,r);break e}throw Error(a(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,Oa(e,t,n,i=t.elementType===n?i:Xi(n,i),r);case 1:return n=t.type,i=t.pendingProps,Ba(e,t,n,i=t.elementType===n?i:Xi(n,i),r);case 3:if(ja(t),n=t.updateQueue,null===e||null===n)throw Error(a(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),uo(t,n,null,r),(n=t.memoizedState.element)===i)ka(),t=Xa(e,t,r);else{if((i=t.stateNode.hydrate)&&(ba=xr(t.stateNode.containerInfo.firstChild),xa=t,i=wa=!0),i)for(r=Co(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else Pa(e,t,n,r),ka();t=t.child}return t;case 5:return Ro(t),null===e&&Sa(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,_r(n,i)?s=null:null!==o&&_r(n,o)&&(t.effectTag|=16),La(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Pa(e,t,s,r),t=t.child),t;case 6:return null===e&&Sa(t),null;case 13:return qa(e,t,r);case 4:return zo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=So(t,null,n,r):Pa(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,za(e,t,n,i=t.elementType===n?i:Xi(n,i),r);case 7:return Pa(e,t,t.pendingProps,r),t.child;case 8:case 12:return Pa(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(ci(Hi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Bn(l,o)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!di.current){t=Xa(e,t,r);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===n&&0!=(u.observedBits&o)){1===l.tag&&((u=so(r,null)).tag=2,lo(l,u)),l.expirationTime<r&&(l.expirationTime=r),null!==(u=l.alternate)&&u.expirationTime<r&&(u.expirationTime=r),to(l.return,r),c.expirationTime<r&&(c.expirationTime=r);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Pa(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(o=t.pendingProps).children,ro(t,r),n=n(i=no(i,o.unstable_observedBits)),t.effectTag|=1,Pa(e,t,n,r),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Da(e,t,i,o=Xi(i.type,o),n,r);case 15:return Ra(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xi(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(n)?(e=!0,vi(t)):e=!1,ro(t,r),yo(t,n,i),xo(t,n,i,r),Fa(null,t,n,!0,e,r);case 19:return Wa(e,t,r)}throw Error(a(156,t.tag))};var bl=null,wl=null;function Tl(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function El(e,t,r,n){return new Tl(e,t,r,n)}function Sl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cl(e,t){var r=e.alternate;return null===r?((r=El(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ml(e,t,r,n,i,o){var s=2;if(n=e,"function"==typeof e)Sl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case re:return kl(r.children,i,o,t);case se:s=8,i|=7;break;case ne:s=8,i|=1;break;case ie:return(e=El(12,r,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=El(13,r,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case ue:return(e=El(19,r,t,i)).elementType=ue,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case he:s=14;break e;case de:s=16,n=null;break e;case pe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=El(s,r,t,i)).elementType=e,t.type=n,t.expirationTime=o,t}function kl(e,t,r,n){return(e=El(7,e,n,t)).expirationTime=r,e}function Al(e,t,r){return(e=El(6,e,null,t)).expirationTime=r,e}function Il(e,t,r){return(t=El(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pl(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function zl(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function Dl(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Rl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ll(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function Ol(e,t,r,n){var i=t.current,o=$s(),s=po.suspense;o=Ws(o,i,s);e:if(r){t:{if(Qe(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(a(170));var l=r;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===r.tag){var c=r.type;if(mi(c)){r=yi(r,c,l);break e}}r=l}else r=ui;return null===t.context?t.context=r:t.pendingContext=r,(t=so(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),lo(i,t),Xs(i,o),o}function Bl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Fl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function jl(e,t){Fl(e,t),(e=e.alternate)&&Fl(e,t)}function Ul(e,t,r){var n=new Pl(e,t,r=null!=r&&!0===r.hydrate),i=El(3,null,null,2===t?7:1===t?3:0);n.current=i,i.stateNode=n,oo(i),e[Sr]=n.current,r&&0!==t&&function(e,t){var r=Je(t);Ct.forEach((function(e){ft(e,t,r)})),Mt.forEach((function(e){ft(e,t,r)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function Nl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vl(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=Bl(a);s.call(e)}}Ol(t,a,e,i)}else{if(o=r._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new Ul(e,0,t?{hydrate:!0}:void 0)}(r,n),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Bl(a);l.call(e)}}tl((function(){Ol(t,a,e,i)}))}return Bl(a)}function Gl(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function ql(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Nl(t))throw Error(a(200));return Gl(e,t,null,r)}Ul.prototype.render=function(e){Ol(e,this._internalRoot,null,null)},Ul.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Ol(null,e,null,(function(){t[Sr]=null}))},mt=function(e){if(13===e.tag){var t=Wi($s(),150,100);Xs(e,t),jl(e,t)}},gt=function(e){13===e.tag&&(Xs(e,3),jl(e,3))},_t=function(e){if(13===e.tag){var t=$s();Xs(e,t=Ws(t,e,null)),jl(e,t)}},k=function(e,t,r){switch(t){case"input":if(Se(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ar(n);if(!i)throw Error(a(90));be(n),Se(n,i)}}}break;case"textarea":ze(e,r);break;case"select":null!=(t=r.value)&&Ae(e,!!r.multiple,t,!1)}},R=el,L=function(e,t,r,n,i){var o=Ts;Ts|=4;try{return Vi(98,e.bind(null,t,r,n,i))}finally{0===(Ts=o)&&Zi()}},O=function(){0==(49&Ts)&&(function(){if(null!==Vs){var e=Vs;Vs=null,e.forEach((function(e,t){Ll(t,e),Ks(t)})),Zi()}}(),ml())},B=function(e,t){var r=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=r)&&Zi()}};var Zl={Events:[Mr,kr,Ar,C,T,Or,function(e){it(e,Lr)},z,D,Kt,st,ml,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);bl=function(e){try{t.onCommitFiberRoot(r,e,void 0,64==(64&e.current.effectTag))}catch(e){}},wl=function(e){try{t.onCommitFiberUnmount(r,e)}catch(e){}}}catch(e){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Cr,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zl,t.createPortal=ql,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Ts))throw Error(a(187));var r=Ts;Ts|=1;try{return Vi(99,e.bind(null,t))}finally{Ts=r,Zi()}},t.hydrate=function(e,t,r){if(!Nl(t))throw Error(a(200));return Vl(null,e,t,!0,r)},t.render=function(e,t,r){if(!Nl(t))throw Error(a(200));return Vl(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Nl(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Vl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Sr]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return ql(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Nl(r))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Vl(e,t,r,!1,n)},t.version="16.14.0"},function(e,t,r){"use strict";e.exports=r(72)},function(e,t,r){"use strict";var n,i,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(u,0),e}},h=Date.now();t.unstable_now=function(){return Date.now()-h},n=function(e){null!==l?setTimeout(n,0,e):(l=e,setTimeout(u,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var _=p.now();t.unstable_now=function(){return p.now()-_}}var y=!1,v=null,x=-1,b=5,w=0;a=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var T=new MessageChannel,E=T.port2;T.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();w=e+b;try{v(!0,e)?E.postMessage(null):(y=!1,v=null)}catch(e){throw E.postMessage(null),e}}else y=!1},n=function(e){v=e,y||(y=!0,E.postMessage(null))},i=function(e,r){x=f((function(){e(t.unstable_now())}),r)},o=function(){m(x),x=-1}}function S(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<k(i,t)))break e;e[n]=t,e[r]=i,r=n}}function C(e){return void 0===(e=e[0])?null:e}function M(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>k(a,r))void 0!==l&&0>k(l,a)?(e[n]=l,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else{if(!(void 0!==l&&0>k(l,r)))break e;e[n]=l,e[s]=r,n=s}}}return t}return null}function k(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var A=[],I=[],P=1,z=null,D=3,R=!1,L=!1,O=!1;function B(e){for(var t=C(I);null!==t;){if(null===t.callback)M(I);else{if(!(t.startTime<=e))break;M(I),t.sortIndex=t.expirationTime,S(A,t)}t=C(I)}}function F(e){if(O=!1,B(e),!L)if(null!==C(A))L=!0,n(j);else{var t=C(I);null!==t&&i(F,t.startTime-e)}}function j(e,r){L=!1,O&&(O=!1,o()),R=!0;var n=D;try{for(B(r),z=C(A);null!==z&&(!(z.expirationTime>r)||e&&!a());){var s=z.callback;if(null!==s){z.callback=null,D=z.priorityLevel;var l=s(z.expirationTime<=r);r=t.unstable_now(),"function"==typeof l?z.callback=l:z===C(A)&&M(A),B(r)}else M(A);z=C(A)}if(null!==z)var c=!0;else{var u=C(I);null!==u&&i(F,u.startTime-r),c=!1}return c}finally{z=null,D=n,R=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var N=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||R||(L=!0,n(j))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return C(A)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var r=D;D=t;try{return e()}finally{D=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=D;D=e;try{return t()}finally{D=r}},t.unstable_scheduleCallback=function(e,r,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:U(e)}else a=U(e),l=s;return e={id:P++,callback:r,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,S(I,e),null===C(A)&&e===C(I)&&(O?o():O=!0,i(F,l-s))):(e.sortIndex=a,S(A,e),L||R||(L=!0,n(j))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();B(e);var r=C(A);return r!==z&&null!==z&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<z.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=D;return function(){var r=D;D=t;try{return e.apply(this,arguments)}finally{D=r}}}},function(e,t,r){var n=r(15).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(76);function i(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==i(e)&&("function"==typeof(t=e.constructor)&&(!1!==i(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")))}},function(e,t,r){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.values,r=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,n=e.unit,s=void 0===n?"px":n,l=e.step,c=void 0===l?5:l,u=(0,o.default)(e,["values","unit","step"]);function h(e){var t="number"==typeof r[e]?r[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function d(e,t){var n=a.indexOf(t)+1;return n===a.length?h(e):"@media (min-width:".concat(r[e]).concat(s,") and ")+"(max-width:".concat(r[a[n]]-c/100).concat(s,")")}return(0,i.default)({keys:a,values:r,up:h,down:function(e){var t=a.indexOf(e)+1,n=r[a[t]];return t===a.length?h("xs"):"@media (max-width:".concat(("number"==typeof n&&t>0?n:e)-c/100).concat(s,")")},between:d,only:function(e){return d(e,e)},width:function(e){return r[e]}},u)},t.keys=void 0;var i=n(r(2)),o=n(r(4)),a=["xs","sm","md","lg","xl"];t.keys=a},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n;return(0,o.default)({gutters:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({paddingLeft:2*t.unit,paddingRight:2*t.unit},r,(0,i.default)({},e.up("sm"),(0,o.default)({paddingLeft:3*t.unit,paddingRight:3*t.unit},r[e.up("sm")])))},toolbar:(n={minHeight:56},(0,i.default)(n,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,i.default)(n,e.up("sm"),{minHeight:64}),n)},r)};var i=n(r(5)),o=n(r(2))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.primary,r=void 0===t?{light:s.default[300],main:s.default[500],dark:s.default[700]}:t,n=e.secondary,g=void 0===n?{light:l.default.A200,main:l.default.A400,dark:l.default.A700}:n,_=e.error,y=void 0===_?{light:u.default[300],main:u.default[500],dark:u.default[700]}:_,v=e.type,x=void 0===v?"light":v,b=e.contrastThreshold,w=void 0===b?3:b,T=e.tonalOffset,E=void 0===T?.2:T,S=(0,o.default)(e,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function C(e){return(0,d.getContrastRatio)(e,f.text.primary)>=w?f.text.primary:p.text.primary}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!e.main&&e[t]&&(e.main=e[t]),m(e,"light",r,E),m(e,"dark",n,E),e.contrastText||(e.contrastText=C(e.main)),e}M(r),M(g,"A400","A200","A700"),M(y);var k={dark:f,light:p};return(0,a.default)((0,i.default)({common:h.default,type:x,primary:r,secondary:g,error:y,grey:c.default,contrastThreshold:w,getContrastText:C,augmentColor:M,tonalOffset:E},k[x]),S,{clone:!1})},t.dark=t.light=void 0;var i=n(r(2)),o=n(r(4)),a=(n(r(6)),n(r(22))),s=n(r(41)),l=n(r(80)),c=n(r(81)),u=n(r(82)),h=n(r(83)),d=r(42),p={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:h.default.white,default:c.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}};t.light=p;var f={text:{primary:h.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:c.default[800],default:"#303030"},action:{active:h.default.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function m(e,t,r,n){e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:"light"===t?e.light=(0,d.lighten)(e.main,n):"dark"===t&&(e.dark=(0,d.darken)(e.main,1.5*n)))}t.dark=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={black:"#000",white:"#fff"};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r="function"==typeof t?t(e):t,n=r.fontFamily,u=void 0===n?'"Roboto", "Helvetica", "Arial", sans-serif':n,h=r.fontSize,d=void 0===h?14:h,p=r.fontWeightLight,f=void 0===p?300:p,m=r.fontWeightRegular,g=void 0===m?400:m,_=r.fontWeightMedium,y=void 0===_?500:_,v=r.htmlFontSize,x=void 0===v?16:v,b=r.useNextVariants,w=void 0===b?Boolean(s.ponyfillGlobal.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__):b,T=(r.suppressWarning,r.allVariants),E=(0,o.default)(r,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","htmlFontSize","useNextVariants","suppressWarning","allVariants"]);var S=d/14,C=function(e){return"".concat(e/x*S,"rem")},M=function(t,r,n,o,a){return(0,i.default)({color:e.text.primary,fontFamily:u,fontWeight:t,fontSize:C(r),lineHeight:n},'"Roboto", "Helvetica", "Arial", sans-serif'===u?{letterSpacing:"".concat(l(o/r),"em")}:{},a,T)},k={h1:M(f,96,1,-1.5),h2:M(f,60,1,-.5),h3:M(g,48,1.04,0),h4:M(g,34,1.17,.25),h5:M(g,24,1.33,0),h6:M(y,20,1.6,.15),subtitle1:M(g,16,1.75,.15),subtitle2:M(y,14,1.57,.1),body1Next:M(g,16,1.5,.15),body2Next:M(g,14,1.5,.15),buttonNext:M(y,14,1.75,.4,c),captionNext:M(g,12,1.66,.4),overline:M(g,12,2.66,1,c)},A={display4:(0,i.default)({fontSize:C(112),fontWeight:f,fontFamily:u,letterSpacing:"-.04em",lineHeight:"".concat(l(128/112),"em"),marginLeft:"-.04em",color:e.text.secondary},T),display3:(0,i.default)({fontSize:C(56),fontWeight:g,fontFamily:u,letterSpacing:"-.02em",lineHeight:"".concat(l(73/56),"em"),marginLeft:"-.02em",color:e.text.secondary},T),display2:(0,i.default)({fontSize:C(45),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(51/45),"em"),marginLeft:"-.02em",color:e.text.secondary},T),display1:(0,i.default)({fontSize:C(34),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(41/34),"em"),color:e.text.secondary},T),headline:(0,i.default)({fontSize:C(24),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(32.5/24),"em"),color:e.text.primary},T),title:(0,i.default)({fontSize:C(21),fontWeight:y,fontFamily:u,lineHeight:"".concat(l(24.5/21),"em"),color:e.text.primary},T),subheading:(0,i.default)({fontSize:C(16),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(1.5),"em"),color:e.text.primary},T),body2:(0,i.default)({fontSize:C(14),fontWeight:y,fontFamily:u,lineHeight:"".concat(l(24/14),"em"),color:e.text.primary},T),body1:(0,i.default)({fontSize:C(14),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(20.5/14),"em"),color:e.text.primary},T),caption:(0,i.default)({fontSize:C(12),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(1.375),"em"),color:e.text.secondary},T),button:(0,i.default)({fontSize:C(14),textTransform:"uppercase",fontWeight:y,fontFamily:u,color:e.text.primary},T)};return(0,a.default)((0,i.default)({pxToRem:C,round:l,fontFamily:u,fontSize:d,fontWeightLight:f,fontWeightRegular:g,fontWeightMedium:y},A,k,w?{body1:k.body1Next,body2:k.body2Next,button:k.buttonNext,caption:k.captionNext}:{},{useNextVariants:w}),E,{clone:!1})};var i=n(r(2)),o=n(r(4)),a=n(r(22)),s=(n(r(6)),r(7));function l(e){return Math.round(1e5*e)/1e5}var c={textTransform:"uppercase"}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,l=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,h=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case d:case a:case l:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case _:case g:case c:return e;default:return t}}case o:return t}}}function T(e){return w(e)===d}t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=i,t.ForwardRef=p,t.Fragment=a,t.Lazy=_,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return T(e)||w(e)===h},t.isConcurrentMode=T,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===_},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===x||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function n(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var i=["none",n(0,1,3,0,0,1,1,0,0,2,1,-1),n(0,1,5,0,0,2,2,0,0,3,1,-2),n(0,1,8,0,0,3,4,0,0,3,3,-2),n(0,2,4,-1,0,4,5,0,0,1,10,0),n(0,3,5,-1,0,5,8,0,0,1,14,0),n(0,3,5,-1,0,6,10,0,0,1,18,0),n(0,4,5,-2,0,7,10,1,0,2,16,1),n(0,5,5,-3,0,8,10,1,0,3,14,2),n(0,5,6,-3,0,9,12,1,0,3,16,2),n(0,6,6,-3,0,10,14,1,0,4,18,3),n(0,6,7,-4,0,11,15,1,0,4,20,3),n(0,7,8,-4,0,12,17,2,0,5,22,4),n(0,7,8,-4,0,13,19,2,0,5,24,4),n(0,7,9,-4,0,14,21,2,0,5,26,4),n(0,8,9,-5,0,15,22,2,0,6,28,5),n(0,8,10,-5,0,16,24,2,0,6,30,5),n(0,8,11,-5,0,17,26,2,0,6,32,5),n(0,9,11,-5,0,18,28,2,0,7,34,6),n(0,9,12,-6,0,19,29,2,0,7,36,6),n(0,10,13,-6,0,20,31,3,0,8,38,7),n(0,10,13,-6,0,21,33,3,0,8,40,7),n(0,10,14,-6,0,22,35,3,0,8,42,7),n(0,11,14,-7,0,23,36,3,0,9,44,8),n(0,11,15,-7,0,24,38,3,0,9,46,8)];t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={borderRadius:4};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={unit:8};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isNumber=t.isString=t.formatMs=t.duration=t.easing=void 0;var i=n(r(4)),o=(n(r(6)),{easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"});t.easing=o;var a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};t.duration=a;var s=function(e){return"".concat(Math.round(e),"ms")};t.formatMs=s;t.isString=function(e){return"string"==typeof e};t.isNumber=function(e){return!isNaN(parseFloat(e))};var l={easing:o,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.duration,n=void 0===r?a.standard:r,l=t.easing,c=void 0===l?o.easeInOut:l,u=t.delay,h=void 0===u?0:u;(0,i.default)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof n?n:s(n)," ").concat(c," ").concat("string"==typeof h?h:s(h))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={mobileStepper:1e3,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.default=function(){return{onCreateRule:function(e,t,r){if("@global"===e)return new s(e,t,r);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new l(e,t,r);var n=r.parent;return n&&("global"!==n.type&&"global"!==n.options.parent.type||(r.global=!0)),r.global&&(r.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,r=e.style,i=r["@global"];if(!i)return;for(var o in i)t.sheet.addRule(o,i[o],n({},t,{selector:u(o,e.selector)}));delete r["@global"]}(e),function(e){var t=e.options,r=e.style;for(var i in r)if("@global"===i.substr(0,"@global".length)){var o=u(i.substr("@global".length),e.selector);t.sheet.addRule(o,r[i],n({},t,{selector:o})),delete r[i]}}(e))}}};var o=r(50);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t,r,i){for(var s in a(this,e),this.type="global",this.key=t,this.options=i,this.rules=new o.RuleList(n({},i,{parent:this})),r)this.rules.add(s,r[s],{selector:s});this.rules.process()}return i(e,[{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"addRule",value:function(e,t,r){var n=this.rules.add(e,t,r);return this.options.jss.plugins.onProcessRule(n),n}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"toString",value:function(){return this.rules.toString()}}]),e}(),l=function(){function e(t,r,i){a(this,e),this.name=t,this.options=i;var o=t.substr("@global ".length);this.rule=i.jss.createRule(o,r,n({},i,{parent:this,selector:o}))}return i(e,[{key:"toString",value:function(e){return this.rule.toString(e)}}]),e}(),c=/\s*,\s*/g;function u(e,t){for(var r=e.split(c),n="",i=0;i<r.length;i++)n+=t+" "+r[i].trim(),r[i+1]&&(n+=", ");return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t){var r=null;for(var i in t){var o=t[i],a=void 0===o?"undefined":n(o);if("function"===a)r||(r={}),r[i]=o;else if("object"===a&&null!==o&&!Array.isArray(o)){var s=e(o);s&&(r||(r={}),r[i]=s)}}return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(17));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sheets=[],this.refs=[],this.keys=[]}return n(e,[{key:"get",value:function(e){var t=this.keys.indexOf(e);return this.sheets[t]}},{key:"add",value:function(e,t){var r=this.sheets,n=this.refs,i=this.keys,o=r.indexOf(t);return-1!==o?o:(r.push(t),n.push(0),i.push(e),r.length-1)}},{key:"manage",value:function(e){var t=this.keys.indexOf(e),r=this.sheets[t];return 0===this.refs[t]&&r.attach(),this.refs[t]++,this.keys[t]||this.keys.splice(t,0,e),r}},{key:"unmanage",value:function(e){var t=this.keys.indexOf(e);-1!==t?this.refs[t]>0&&(this.refs[t]--,0===this.refs[t]&&this.sheets[t].detach()):(0,i.default)(!1,"SheetsManager: can't find sheet to unmanage")}},{key:"size",get:function(){return this.keys.length}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t){if(null==t)return t;var r=void 0===t?"undefined":n(t);if("string"===r||"number"===r||"function"===r)return t;if(o(t))return t.map(e);if((0,i.default)(t))return t;var a={};for(var s in t){var l=t[s];"object"!==(void 0===l?"undefined":n(l))?a[s]=l:a[s]=e(l)}return a};var i=function(e){return e&&e.__esModule?e:{default:e}}(r(52));var o=Array.isArray},function(e,t,r){"use strict";r.r(t),function(e,n){var i,o=r(67);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var a=Object(o.a)(i);t.default=a}.call(this,r(30),r(96)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});e.CSS;t.default=function(e){return e}}).call(this,r(30))},function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r="2f1acc6c3a606b082e5eef5e54414ffb";null==e[r]&&(e[r]=0),t.default=e[r]++}).call(this,r(30))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=y(r(25)),s=y(r(55)),l=y(r(100)),c=y(r(101)),u=y(r(107)),h=y(r(108)),d=y(r(31)),p=y(r(18)),f=y(r(54)),m=y(r(24)),g=y(r(109)),_=y(r(110));function y(e){return e&&e.__esModule?e:{default:e}}var v=c.default.concat([u.default,h.default]),x=0,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=x++,this.version="9.8.7",this.plugins=new l.default,this.options={createGenerateClassName:f.default,Renderer:a.default?g.default:_.default,plugins:[]},this.generateClassName=(0,f.default)(),this.use.apply(this,v),this.setup(t)}return o(e,[{key:"setup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.createGenerateClassName&&(this.options.createGenerateClassName=e.createGenerateClassName,this.generateClassName=e.createGenerateClassName()),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),(e.virtual||e.Renderer)&&(this.options.Renderer=e.Renderer||(e.virtual?_.default:g.default)),e.plugins&&this.use.apply(this,e.plugins),this}},{key:"createStyleSheet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.index;"number"!=typeof r&&(r=0===d.default.index?0:d.default.index+1);var n=new s.default(e,i({},t,{jss:this,generateClassName:t.generateClassName||this.generateClassName,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:r}));return this.plugins.onProcessSheet(n),n}},{key:"removeStyleSheet",value:function(e){return e.detach(),d.default.remove(e),this}},{key:"createRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===(void 0===e?"undefined":n(e))&&(r=t,t=e,e=void 0);var i=r;i.jss=this,i.Renderer=this.options.Renderer,i.generateClassName||(i.generateClassName=this.generateClassName),i.classes||(i.classes={});var o=(0,m.default)(e,t,i);return!i.selector&&o instanceof p.default&&(o.selector="."+i.generateClassName(o)),this.plugins.onProcessRule(o),o}},{key:"use",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach((function(t){-1===e.options.plugins.indexOf(t)&&(e.options.plugins.push(t),e.plugins.use(t))})),this}}]),e}();t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(17));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks={onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}}return n(e,[{key:"onCreateRule",value:function(e,t,r){for(var n=0;n<this.hooks.onCreateRule.length;n++){var i=this.hooks.onCreateRule[n](e,t,r);if(i)return i}return null}},{key:"onProcessRule",value:function(e){if(!e.isProcessed){for(var t=e.options.sheet,r=0;r<this.hooks.onProcessRule.length;r++)this.hooks.onProcessRule[r](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}}},{key:"onProcessStyle",value:function(e,t,r){for(var n=e,i=0;i<this.hooks.onProcessStyle.length;i++)n=this.hooks.onProcessStyle[i](n,t,r),t.style=n}},{key:"onProcessSheet",value:function(e){for(var t=0;t<this.hooks.onProcessSheet.length;t++)this.hooks.onProcessSheet[t](e)}},{key:"onUpdate",value:function(e,t,r){for(var n=0;n<this.hooks.onUpdate.length;n++)this.hooks.onUpdate[n](e,t,r)}},{key:"onChangeValue",value:function(e,t,r){for(var n=e,i=0;i<this.hooks.onChangeValue.length;i++)n=this.hooks.onChangeValue[i](n,t,r);return n}},{key:"use",value:function(e){for(var t in e)this.hooks[t]?this.hooks[t].push(e[t]):(0,i.default)(!1,'[JSS] Unknown hook "%s".',t)}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(r(102)),i=l(r(103)),o=l(r(104)),a=l(r(105)),s=l(r(106));function l(e){return e&&e.__esModule?e:{default:e}}var c={"@charset":n.default,"@import":n.default,"@namespace":n.default,"@keyframes":i.default,"@media":o.default,"@supports":o.default,"@font-face":a.default,"@viewport":s.default,"@-ms-viewport":s.default},u=Object.keys(c).map((function(e){var t=new RegExp("^"+e),r=c[e];return{onCreateRule:function(e,n,i){return t.test(e)?new r(e,n,i):null}}}));t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="simple",this.isProcessed=!1,this.key=t,this.value=r,this.options=n}return n(e,[{key:"toString",value:function(e){if(Array.isArray(this.value)){for(var t="",r=0;r<this.value.length;r++)t+=this.key+" "+this.value[r]+";",this.value[r+1]&&(t+="\n");return t}return this.key+" "+this.value+";"}}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(r(20));var a=function(){function e(t,r,i){for(var a in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="keyframes",this.isProcessed=!1,this.key=t,this.options=i,this.rules=new o.default(n({},i,{parent:this})),r)this.rules.add(a,r[a],n({},this.options,{parent:this,selector:a}));this.rules.process()}return i(e,[{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},t=this.rules.toString(e);return t&&(t+="\n"),this.key+" {\n"+t+"}"}}]),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(r(20));var a=function(){function e(t,r,i){for(var a in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="conditional",this.isProcessed=!1,this.key=t,this.options=i,this.rules=new o.default(n({},i,{parent:this})),r)this.rules.add(a,r[a]);this.rules.process()}return i(e,[{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"addRule",value:function(e,t,r){var n=this.rules.add(e,t,r);return this.options.jss.plugins.onProcessRule(n),n}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},t=this.rules.toString(e);return t?this.key+" {\n"+t+"\n}":""}}]),e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(29));var o=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="font-face",this.isProcessed=!1,this.key=t,this.style=r,this.options=n}return n(e,[{key:"toString",value:function(e){if(Array.isArray(this.style)){for(var t="",r=0;r<this.style.length;r++)t+=(0,i.default)(this.key,this.style[r]),this.style[r+1]&&(t+="\n");return t}return(0,i.default)(this.key,this.style,e)}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(e){return e&&e.__esModule?e:{default:e}}(r(29));var o=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="viewport",this.isProcessed=!1,this.key=t,this.style=r,this.options=n}return n(e,[{key:"toString",value:function(e){return(0,i.default)(this.key,this.style,e)}}]),e}();t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(18)),i=a(r(24)),o=a(r(52));function a(e){return e&&e.__esModule?e:{default:e}}t.default={onCreateRule:function(e,t,r){if(!(0,o.default)(t))return null;var n=t,a=(0,i.default)(e,{},r);return n.subscribe((function(e){for(var t in e)a.prop(t,e[t])})),a},onProcessRule:function(e){if(e instanceof n.default){var t=e,r=t.style,i=function(e){var n=r[e];if(!(0,o.default)(n))return"continue";delete r[e],n.subscribe({next:function(r){t.prop(e,r)}})};for(var a in r)i(a)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(20)),i=a(r(18)),o=a(r(24));function a(e){return e&&e.__esModule?e:{default:e}}var s=Date.now(),l="fnValues"+s,c="fnStyle"+ ++s;t.default={onCreateRule:function(e,t,r){if("function"!=typeof t)return null;var n=(0,o.default)(e,{},r);return n[c]=t,n},onProcessStyle:function(e,t){var r={};for(var n in e){var i=e[n];"function"==typeof i&&(delete e[n],r[n]=i)}return(t=t)[l]=r,e},onUpdate:function(e,t){if(t.rules instanceof n.default)t.rules.update(e);else if(t instanceof i.default){if((t=t)[l])for(var r in t[l])t.prop(r,t[l][r](e));var o=(t=t)[c];if(o){var a=o(e);for(var s in a)t.prop(s,a[s])}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=l(r(17)),o=l(r(31)),a=l(r(18)),s=l(r(23));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=void 0;return function(){return t||(t=e()),t}};function u(e,t){try{return e.style.getPropertyValue(t)}catch(e){return""}}function h(e,t,r){try{var n=r;if(Array.isArray(r)&&(n=(0,s.default)(r,!0),"!important"===r[r.length-1]))return e.style.setProperty(t,n,"important"),!0;e.style.setProperty(t,n)}catch(e){return!1}return!0}function d(e,t){try{e.style.removeProperty(t)}catch(e){(0,i.default)(!1,'[JSS] DOMException "%s" was thrown. Tried to remove property "%s".',e.message,t)}}var p=1,f=7,m=function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.substr(t,e.indexOf("{")-1)};return function(t){if(t.type===p)return t.selectorText;if(t.type===f){var r=t.name;if(r)return"@keyframes "+r;var n=t.cssText;return"@"+e(n,n.indexOf("keyframes"))}return e(t.cssText)}}();function g(e,t){return e.selectorText=t,e.selectorText===t}var _=c((function(){return document.head||document.getElementsByTagName("head")[0]})),y=function(){var e=void 0,t=!1;return function(r){var n={};e||(e=document.createElement("style"));for(var i=0;i<r.length;i++){var o=r[i];if(o instanceof a.default){var s=o.selector;if(s&&-1!==s.indexOf("\\")){t||(_().appendChild(e),t=!0),e.textContent=s+" {}";var l=e.sheet;if(l){var c=l.cssRules;c&&(n[c[0].selectorText]=o.key)}}}}return t&&(_().removeChild(e),t=!1),n}}();function v(e){var t=o.default.registry;if(t.length>0){var r=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.attached&&n.options.index>t.index&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e);if(r)return r.renderer.element;if(r=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(n.attached&&n.options.insertionPoint===t.insertionPoint)return n}return null}(t,e))return r.renderer.element.nextElementSibling}var n=e.insertionPoint;if(n&&"string"==typeof n){var a=function(e){for(var t=_(),r=0;r<t.childNodes.length;r++){var n=t.childNodes[r];if(8===n.nodeType&&n.nodeValue.trim()===e)return n}return null}(n);if(a)return a.nextSibling;(0,i.default)("jss"===n,'[JSS] Insertion point "%s" not found.',n)}return null}var x=c((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getPropertyValue=u,this.setProperty=h,this.removeProperty=d,this.setSelector=g,this.getKey=m,this.getUnescapedKeysMap=y,this.hasInsertedRules=!1,t&&o.default.add(t),this.sheet=t;var r=this.sheet?this.sheet.options:{},n=r.media,i=r.meta,a=r.element;this.element=a||document.createElement("style"),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),i&&this.element.setAttribute("data-meta",i);var s=x();s&&this.element.setAttribute("nonce",s)}return n(e,[{key:"attach",value:function(){!this.element.parentNode&&this.sheet&&(this.hasInsertedRules&&(this.deploy(),this.hasInsertedRules=!1),function(e,t){var r=t.insertionPoint,n=v(t);if(n){var o=n.parentNode;o&&o.insertBefore(e,n)}else if(r&&"number"==typeof r.nodeType){var a=r,s=a.parentNode;s?s.insertBefore(e,a.nextSibling):(0,i.default)(!1,"[JSS] Insertion point is not in the DOM.")}else _().insertBefore(e,n)}(this.element,this.sheet.options))}},{key:"detach",value:function(){this.element.parentNode.removeChild(this.element)}},{key:"deploy",value:function(){this.sheet&&(this.element.textContent="\n"+this.sheet.toString()+"\n")}},{key:"insertRule",value:function(e,t){var r=this.element.sheet,n=r.cssRules,o=e.toString();if(t||(t=n.length),!o)return!1;try{r.insertRule(o,t)}catch(t){return(0,i.default)(!1,"[JSS] Can not insert an unsupported rule \n\r%s",e),!1}return this.hasInsertedRules=!0,n[t]}},{key:"deleteRule",value:function(e){var t=this.element.sheet,r=this.indexOf(e);return-1!==r&&(t.deleteRule(r),!0)}},{key:"indexOf",value:function(e){for(var t=this.element.sheet.cssRules,r=0;r<t.length;r++)if(e===t[r])return r;return-1}},{key:"replaceRule",value:function(e,t){var r=this.indexOf(e),n=this.insertRule(t,r);return this.element.sheet.deleteRule(r),n}},{key:"getRules",value:function(){return this.element.sheet.cssRules}}]),e}();t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"setProperty",value:function(){return!0}},{key:"getPropertyValue",value:function(){return""}},{key:"removeProperty",value:function(){}},{key:"setSelector",value:function(){return!0}},{key:"getKey",value:function(){return""}},{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"deploy",value:function(){}},{key:"insertRule",value:function(){return!1}},{key:"deleteRule",value:function(){return!0}},{key:"replaceRule",value:function(){return!1}},{key:"getRules",value:function(){}},{key:"indexOf",value:function(){return-1}}]),e}();t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(){function e(e){return function(t,r){var n=e.getRule(r);return n?n.selector:((0,i.default)(!1,"[JSS] Could not find the referenced rule %s in %s.",r,e.options.meta||e),r)}}var t=function(e){return-1!==e.indexOf("&")};function r(e,r){for(var n=r.split(o),i=e.split(o),s="",l=0;l<n.length;l++)for(var c=n[l],u=0;u<i.length;u++){var h=i[u];s&&(s+=", "),s+=t(h)?h.replace(a,c):c+" "+h}return s}function l(e,t,r){if(r)return n({},r,{index:r.index+1});var i=e.options.nestingLevel;return i=void 0===i?1:i+1,n({},e.options,{nestingLevel:i,index:t.indexOf(e)+1})}return{onProcessStyle:function(i,o){if("style"!==o.type)return i;var a=o.options.parent,c=void 0,u=void 0;for(var h in i){var d=t(h),p="@"===h[0];if(d||p){if(c=l(o,a,c),d){var f=r(h,o.selector);u||(u=e(a)),f=f.replace(s,u),a.addRule(f,i[h],n({},c,{selector:f}))}else p&&a.addRule(h,null,c).addRule(o.key,i[h],{selector:o.selector});delete i[h]}}return i}}};var i=function(e){return e&&e.__esModule?e:{default:e}}(r(112));var o=/\s*,\s*/g,a=/&/g,s=/\$([\w-]+)/g},function(e,t,r){"use strict";e.exports=function(){}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=i(e[t]);return e}return i(e)},onChangeValue:function(e,t,r){var i=(0,n.default)(t);return t===i?e:(r.prop(i,e),null)}}};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(114));function i(e){var t={};for(var r in e)t[(0,n.default)(r)]=e[r];return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(i):t.fallbacks=i(e.fallbacks)),t}},function(e,t,r){"use strict";r.r(t);var n=/[A-Z]/g,i=/^ms-/,o={};function a(e){return"-"+e.toLowerCase()}t.default=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(n,a);return o[e]=i.test(t)?"-"+t:t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e){var t=/(-[a-z])/g,r=function(e){return e[1].toUpperCase()},n={};for(var i in e)n[i]=e[i],n[i.replace(t,r)]=e[i];return n}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i(e);function r(e,r){if("style"!==r.type)return e;for(var n in e)e[n]=a(n,e[n],t);return e}function n(e,r){return a(r,e,t)}return{onProcessStyle:r,onChangeValue:n}};var o=i(function(e){return e&&e.__esModule?e:{default:e}}(r(116)).default);function a(e,t,r){if(!t)return t;var i=t,s=void 0===t?"undefined":n(t);switch("object"===s&&Array.isArray(t)&&(s="array"),s){case"object":if("fallbacks"===e){for(var l in t)t[l]=a(l,t[l],r);break}for(var c in t)t[c]=a(e+"-"+c,t[c],r);break;case"array":for(var u=0;u<t.length;u++)t[u]=a(e,t[u],r);break;case"number":0!==t&&(i=t+(r[e]||o[e]||""))}return i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"animation-delay":"ms","animation-duration":"ms","background-position":"px","background-position-x":"px","background-position-y":"px","background-size":"px",border:"px","border-bottom":"px","border-bottom-left-radius":"px","border-bottom-right-radius":"px","border-bottom-width":"px","border-left":"px","border-left-width":"px","border-radius":"px","border-right":"px","border-right-width":"px","border-spacing":"px","border-top":"px","border-top-left-radius":"px","border-top-right-radius":"px","border-top-width":"px","border-width":"px","border-after-width":"px","border-before-width":"px","border-end-width":"px","border-horizontal-spacing":"px","border-start-width":"px","border-vertical-spacing":"px",bottom:"px","box-shadow":"px","column-gap":"px","column-rule":"px","column-rule-width":"px","column-width":"px","flex-basis":"px","font-size":"px","font-size-delta":"px",height:"px",left:"px","letter-spacing":"px","logical-height":"px","logical-width":"px",margin:"px","margin-after":"px","margin-before":"px","margin-bottom":"px","margin-left":"px","margin-right":"px","margin-top":"px","max-height":"px","max-width":"px","margin-end":"px","margin-start":"px","mask-position-x":"px","mask-position-y":"px","mask-size":"px","max-logical-height":"px","max-logical-width":"px","min-height":"px","min-width":"px","min-logical-height":"px","min-logical-width":"px",motion:"px","motion-offset":"px",outline:"px","outline-offset":"px","outline-width":"px",padding:"px","padding-bottom":"px","padding-left":"px","padding-right":"px","padding-top":"px","padding-after":"px","padding-before":"px","padding-end":"px","padding-start":"px","perspective-origin-x":"%","perspective-origin-y":"%",perspective:"px",right:"px","shape-margin":"px",size:"px","text-indent":"px","text-stroke":"px","text-stroke-width":"px",top:"px","transform-origin":"%","transform-origin-x":"%","transform-origin-y":"%","transform-origin-z":"%","transition-delay":"ms","transition-duration":"ms","vertical-align":"px",width:"px","word-spacing":"px","box-shadow-x":"px","box-shadow-y":"px","box-shadow-blur":"px","box-shadow-spread":"px","font-line-height":"px","text-shadow-x":"px","text-shadow-y":"px","text-shadow-blur":"px"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onProcessRule:function(e){"keyframes"===e.type&&(e.key="@"+n.prefix.css+e.key.substr(1))},onProcessStyle:function(e,t){if("style"!==t.type)return e;for(var r in e){var i=e[r],o=!1,a=n.supportedProperty(r);a&&a!==r&&(o=!0);var s=!1,l=n.supportedValue(a,i);l&&l!==i&&(s=!0),(o||s)&&(o&&delete e[r],e[a||r]=l||i)}return e},onChangeValue:function(e,t){return n.supportedValue(t,e)}}};var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(118))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedValue=t.supportedProperty=t.prefix=void 0;var n=a(r(32)),i=a(r(119)),o=a(r(121));function a(e){return e&&e.__esModule?e:{default:e}}t.default={prefix:n.default,supportedProperty:i.default,supportedValue:o.default},t.prefix=n.default,t.supportedProperty=i.default,t.supportedValue=o.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!s)return e;if(null!=l[e])return l[e];(0,o.default)(e)in s.style?l[e]=e:i.default.js+(0,o.default)("-"+e)in s.style?l[e]=i.default.css+e:l[e]=!1;return l[e]};var n=a(r(25)),i=a(r(32)),o=a(r(120));function a(e){return e&&e.__esModule?e:{default:e}}var s=void 0,l={};if(n.default){s=document.createElement("p");var c=window.getComputedStyle(document.documentElement,"");for(var u in c)isNaN(u)||(l[c[u]]=c[u])}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(n,i)};var n=/[-\s]+(.)?/g;function i(e,t){return t?t.toUpperCase():""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!s)return t;if("string"!=typeof t||!isNaN(parseInt(t,10)))return t;var r=e+t;if(null!=a[r])return a[r];try{s.style[e]=t}catch(e){return a[r]=!1,!1}""!==s.style[e]?a[r]=t:("-ms-flex"===(t=i.default.css+t)&&(t="-ms-flexbox"),s.style[e]=t,""!==s.style[e]&&(a[r]=t));a[r]||(a[r]=!1);return s.style[e]="",a[r]};var n=o(r(25)),i=o(r(32));function o(e){return e&&e.__esModule?e:{default:e}}var a={},s=void 0;n.default&&(s=document.createElement("p"))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){return e.length-t.length}return{onProcessStyle:function(t,r){if("style"!==r.type)return t;var n={},i=Object.keys(t).sort(e);for(var o in i)n[i[o]]=t[i[o]];return n}}}},function(e,t,r){"use strict";var n=r(124),i=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MuiThemeProviderOld=void 0;var o=i(r(2)),a=i(r(5)),s=i(r(10)),l=i(r(11)),c=i(r(12)),u=i(r(13)),h=i(r(14)),d=i(r(1)),p=i(r(3)),f=(i(r(6)),i(r(127))),m=r(7),g=n(r(34)),_=function(e){function t(e,r){var n;return(0,s.default)(this,t),(n=(0,c.default)(this,(0,u.default)(t).call(this))).broadcast=(0,f.default)(),n.outerTheme=g.default.initial(r),n.broadcast.setState(n.mergeOuterLocalTheme(e.theme)),n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"getChildContext",value:function(){var e,t=this.props,r=t.disableStylesGeneration,n=t.sheetsCache,i=t.sheetsManager,o=this.context.muiThemeProviderOptions||{};return void 0!==r&&(o.disableStylesGeneration=r),void 0!==n&&(o.sheetsCache=n),void 0!==i&&(o.sheetsManager=i),e={},(0,a.default)(e,g.CHANNEL,this.broadcast),(0,a.default)(e,"muiThemeProviderOptions",o),e}},{key:"componentDidMount",value:function(){var e=this;this.unsubscribeId=g.default.subscribe(this.context,(function(t){e.outerTheme=t,e.broadcast.setState(e.mergeOuterLocalTheme(e.props.theme))}))}},{key:"componentDidUpdate",value:function(e){this.props.theme!==e.theme&&this.broadcast.setState(this.mergeOuterLocalTheme(this.props.theme))}},{key:"componentWillUnmount",value:function(){null!==this.unsubscribeId&&g.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"mergeOuterLocalTheme",value:function(e){return"function"==typeof e?e(this.outerTheme):this.outerTheme?(0,o.default)({},this.outerTheme,e):e}},{key:"render",value:function(){return this.props.children}}]),t}(d.default.Component);t.MuiThemeProviderOld=_,_.childContextTypes=(0,o.default)({},g.default.contextTypes,{muiThemeProviderOptions:p.default.object}),_.contextTypes=(0,o.default)({},g.default.contextTypes,{muiThemeProviderOptions:p.default.object}),m.ponyfillGlobal.__MUI_STYLES__||(m.ponyfillGlobal.__MUI_STYLES__={}),m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider||(m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider=_);var y=m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider;t.default=y},function(e,t,r){var n=r(15).default;function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}return o.default=e,r&&r.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";var n=r(126);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";r.r(t),t.default=function(e){var t={},r=1,n=e;return{getState:function(){return n},setState:function(e){n=e;for(var r=Object.keys(t),i=0,o=r.length;i<o;i++)t[r[i]]&&t[r[i]](e)},subscribe:function(e){if("function"!=typeof e)throw new Error("listener must be a function.");var n=r;return t[n]=e,r+=1,n},unsubscribe:function(e){delete t[e]}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={jss:"64a55d578f856d258dc345b094a2a2b3",sheetsRegistry:"d4bd0baacbc52bbd48bbb9eb24344ecd",sheetOptions:"6fc570d6bd61383819d0f9e7407c452d"};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(2));n(r(6)),r(7);var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,r=e.newClasses;if(e.Component,!r)return t;var n=(0,i.default)({},t);return Object.keys(r).forEach((function(e){r[e]&&(n[e]="".concat(t[e]," ").concat(r[e]))})),n};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={set:function(e,t,r,n){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(r,n)},get:function(e,t,r){var n=e.get(t);return n?n.get(r):void 0},delete:function(e,t,r){e.get(t).delete(r)}};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(2)),o=(n(r(15)),n(r(6)),n(r(22)));function a(e,t){return t}var s=function(e){var t="function"==typeof e;return{create:function(r,n){var s=t?e(r):e;if(!n||!r.overrides||!r.overrides[n])return s;var l=r.overrides[n],c=(0,i.default)({},s);return Object.keys(l).forEach((function(e){c[e]=(0,o.default)(c[e],l[e],{arrayMerge:a})})),c},options:{},themingEnabled:t}};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){var t=e.theme,r=e.name,n=e.props;if(!t.props||!r||!t.props[r])return n;var i,o=t.props[r];for(i in o)void 0===n[i]&&(n[i]=o[i]);return n};t.default=n},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,o=n(r(2)),a=n(r(4)),s=n(r(10)),l=n(r(11)),c=n(r(12)),u=n(r(13)),h=n(r(14)),d=n(r(1)),p=(n(r(3)),n(r(35))),f=r(7),m=n(r(28)),g=n(r(34));function _(){return i||(i=(0,m.default)({typography:{suppressWarning:!0}}))}f.ponyfillGlobal.__MUI_STYLES__||(f.ponyfillGlobal.__MUI_STYLES__={}),f.ponyfillGlobal.__MUI_STYLES__.withTheme||(f.ponyfillGlobal.__MUI_STYLES__.withTheme=function(){return function(e){var t=function(t){function r(e,t){var n;return(0,s.default)(this,r),(n=(0,c.default)(this,(0,u.default)(r).call(this))).state={theme:g.default.initial(t)||_()},n}return(0,h.default)(r,t),(0,l.default)(r,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeId=g.default.subscribe(this.context,(function(t){e.setState({theme:t})}))}},{key:"componentWillUnmount",value:function(){null!==this.unsubscribeId&&g.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"render",value:function(){var t=this.props,r=t.innerRef,n=(0,a.default)(t,["innerRef"]);return d.default.createElement(e,(0,o.default)({theme:this.state.theme,ref:r},n))}}]),r}(d.default.Component);return t.contextTypes=g.default.contextTypes,(0,p.default)(t,e),t}});var y=f.ponyfillGlobal.__MUI_STYLES__.withTheme;t.default=y},,,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=(r(7),n(r(9))),u=r(16),h=function(e){return{root:{display:"block",margin:0},display4:e.typography.display4,display3:e.typography.display3,display2:e.typography.display2,display1:e.typography.display1,headline:e.typography.headline,title:e.typography.title,subheading:e.typography.subheading,body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},inline:{display:"inline"}}};t.styles=h;var d={display4:"h1",display3:"h2",display2:"h3",display1:"h4",headline:"h5",title:"h6",subheading:"subtitle1"};var p={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",display4:"h1",display3:"h1",display2:"h1",display1:"h1",headline:"h1",title:"h2",subheading:"h3"};function f(e){var t,r=e.align,n=e.classes,c=e.className,h=e.color,f=e.component,m=e.gutterBottom,g=e.headlineMapping,_=e.inline,y=(e.internalDeprecatedVariant,e.noWrap),v=e.paragraph,x=e.theme,b=e.variant,w=(0,a.default)(e,["align","classes","className","color","component","gutterBottom","headlineMapping","inline","internalDeprecatedVariant","noWrap","paragraph","theme","variant"]),T=function(e,t){var r=e.typography,n=t;return n||(n=r.useNextVariants?"body2":"body1"),r.useNextVariants&&(n=d[n]||n),n}(x,b),E=(0,l.default)(n.root,(t={},(0,o.default)(t,n[T],"inherit"!==T),(0,o.default)(t,n["color".concat((0,u.capitalize)(h))],"default"!==h),(0,o.default)(t,n.noWrap,y),(0,o.default)(t,n.gutterBottom,m),(0,o.default)(t,n.paragraph,v),(0,o.default)(t,n["align".concat((0,u.capitalize)(r))],"inherit"!==r),(0,o.default)(t,n.inline,_),t),c),S=f||(v?"p":g[T]||p[T])||"span";return s.default.createElement(S,(0,i.default)({className:E},w))}f.defaultProps={align:"inherit",color:"default",gutterBottom:!1,headlineMapping:p,inline:!1,noWrap:!1,paragraph:!1};var m=(0,c.default)(h,{name:"MuiTypography",withTheme:!0})(f);t.default=m},,,,,function(e,t,r){(function(t){!function(r,n){e.exports=function(){"use strict";var e,r,n;function i(t,i){if(e)if(r){var o="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+e+")(sharedChunk); ("+r+")(sharedChunk); self.onerror = null;",a={};e(a),n=i(a),"undefined"!=typeof window&&window&&window.URL&&window.URL.createObjectURL&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else r=i;else e=i}return i(["exports"],(function(e){"use strict";var r="undefined"!=typeof self?self:{},n="2.11.1";let i;const o={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==i){const e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{i=null!=t.env.API_URL_REGEX?new RegExp(t.env.API_URL_REGEX):e}catch(t){i=e}}return i},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},a={supported:!1,testSupport:function(e){!c&&l&&(u?h(e):s=e)}};let s,l,c=!1,u=!1;function h(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,l),e.isContextLost())return;a.supported=!0}catch(e){}e.deleteTexture(t),c=!0}r.document&&(l=r.document.createElement("img"),l.onload=function(){s&&h(s),s=null,u=!0},l.onerror=function(){c=!0,s=null},l.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const d="01";var p=f;function f(e,t,r,n){this.cx=3*e,this.bx=3*(r-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(n-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=r,this.p2y=n}f.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var r=e,n=0;n<8;n++){var i=this.sampleCurveX(r)-e;if(Math.abs(i)<t)return r;var o=this.sampleCurveDerivativeX(r);if(Math.abs(o)<1e-6)break;r-=i/o}var a=0,s=1;for(r=e,n=0;n<20&&(i=this.sampleCurveX(r),!(Math.abs(i-e)<t));n++)e>i?a=r:s=r,r=.5*(s-a)+a;return r},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var m=g;function g(e,t){this.x=e,this.y=t}g.prototype={clone:function(){return new g(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,r=e.y-this.y;return t*t+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),r=Math.sin(e),n=r*this.x+t*this.y;return this.x=t*this.x-r*this.y,this.y=n,this},_rotateAround:function(e,t){var r=Math.cos(e),n=Math.sin(e),i=t.y+n*(this.x-t.x)+r*(this.y-t.y);return this.x=t.x+r*(this.x-t.x)-n*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},g.convert=function(e){return e instanceof g?e:Array.isArray(e)?new g(e[0],e[1]):e};const _=Math.PI/180,y=180/Math.PI;function v(e){return e*_}function x(e){return e*y}const b=[[0,0],[1,0],[1,1],[0,1]];function w(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,r=t*e;return 4*(e<.5?r:3*(e-t)+r-.75)}function T(e,t,r,n){const i=new p(e,t,r,n);return function(e){return i.solve(e)}}const E=T(.25,.1,.25,1);function S(e,t,r){return Math.min(r,Math.max(t,e))}function C(e,t,r){return(r=S((r-e)/(t-e),0,1))*r*(3-2*r)}function M(e,t,r){const n=r-t,i=((e-t)%n+n)%n+t;return i===t?r:i}function k(e,t,r){if(!e.length)return r(null,[]);let n=e.length;const i=new Array(e.length);let o=null;e.forEach((e,a)=>{t(e,(e,t)=>{e&&(o=e),i[a]=t,0==--n&&r(o,i)})})}function A(e){const t=[];for(const r in e)t.push(e[r]);return t}function I(e,...t){for(const r of t)for(const t in r)e[t]=r[t];return e}let P=1;function z(){return P++}function D(){return function e(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function R(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function L(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function O(e,t){e.forEach(e=>{t[e]&&(t[e]=t[e].bind(t))})}function B(e,t){return-1!==e.indexOf(t,e.length-t.length)}function F(e,t,r){const n={};for(const i in e)n[i]=t.call(r||this,e[i],i,e);return n}function j(e,t,r){const n={};for(const i in e)t.call(r||this,e[i],i,e)&&(n[i]=e[i]);return n}function U(e){return Array.isArray(e)?e.map(U):"object"==typeof e&&e?F(e,U):e}const N={};function V(e){N[e]||("undefined"!=typeof console&&console.warn(e),N[e]=!0)}function G(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}function q(e){let t=0;for(let r,n,i=0,o=e.length,a=o-1;i<o;a=i++)r=e[i],n=e[a],t+=(n.x-r.x)*(r.y+n.y);return t}function Z(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function $(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(e,r,n,i)=>{const o=n||i;return t[r]=!o||o.toLowerCase(),""}),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t}let W=null;function X(e){if(null==W){const t=e.navigator?e.navigator.userAgent:null;W=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return W}function H(e){try{const t=r[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}function Y(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}const K="mapbox-tiles";let J,Q,ee=500,te=50;function re(){try{return r.caches}catch(e){}}function ne(){re()&&!J&&(J=r.caches.open(K))}function ie(e){const t=e.indexOf("?");if(t<0)return e;const r=function(e){const t=e.indexOf("?");return t>0?e.slice(t+1).split("&"):[]}(e).filter(e=>{const t=e.split("=");return"language"===t[0]||"worldview"===t[0]});return r.length?`${e.slice(0,t)}?${r.join("&")}`:e.slice(0,t)}let oe=1/0;const ae={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(ae);class se extends Error{constructor(e,t,r){401===t&&ye(r)&&(e+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(e),this.status=t,this.url=r}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const le=Z()?()=>self.worker&&self.worker.referrer:()=>("blob:"===r.location.protocol?r.parent:r).location.href,ce=function(e,t){if(!(/^file:/.test(n=e.url)||/^file:/.test(le())&&!/^\w+:/.test(n))){if(r.fetch&&r.Request&&r.AbortController&&r.Request.prototype.hasOwnProperty("signal"))return function(e,t){const n=new r.AbortController,i=new r.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:le(),signal:n.signal});let o=!1,a=!1;const s=(l=i.url).indexOf("sku=")>0&&ye(l);var l;"json"===e.type&&i.headers.set("Accept","application/json");const c=(n,o,l)=>{if(a)return;if(n&&"SecurityError"!==n.message&&V(n),o&&l)return u(o);const c=Date.now();r.fetch(i).then(r=>{if(r.ok){const e=s?r.clone():null;return u(r,e,c)}return t(new se(r.statusText,r.status,e.url))}).catch(e=>{20!==e.code&&t(new Error(e.message))})},u=(n,s,l)=>{("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then(e=>{a||(s&&l&&function(e,t,n){if(ne(),!J)return;const i={status:t.status,statusText:t.statusText,headers:new r.Headers};t.headers.forEach((e,t)=>i.headers.set(t,e));const o=$(t.headers.get("Cache-Control")||"");if(o["no-store"])return;o["max-age"]&&i.headers.set("Expires",new Date(n+1e3*o["max-age"]).toUTCString());const a=i.headers.get("Expires");a&&(new Date(a).getTime()-n<42e4||function(e,t){if(void 0===Q)try{new Response(new ReadableStream),Q=!0}catch(e){Q=!1}Q?t(e.body):e.blob().then(t)}(t,t=>{const n=new r.Response(t,i);ne(),J&&J.then(t=>t.put(ie(e.url),n)).catch(e=>V(e.message))}))}(i,s,l),o=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))}).catch(e=>{a||t(new Error(e.message))})};return s?function(e,t){if(ne(),!J)return t(null);const r=ie(e.url);J.then(e=>{e.match(r).then(n=>{const i=function(e){if(!e)return!1;const t=new Date(e.headers.get("Expires")||0),r=$(e.headers.get("Cache-Control")||"");return t>Date.now()&&!r["no-cache"]}(n);e.delete(r),i&&e.put(r,n.clone()),t(null,n,i)}).catch(t)}).catch(t)}(i,c):c(null,null),{cancel:()=>{a=!0,o||n.abort()}}}(e,t);if(Z()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){const n=new r.XMLHttpRequest;n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer");for(const t in e.headers)n.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=()=>{t(new Error(n.statusText))},n.onload=()=>{if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){let r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else t(new se(n.statusText,n.status,e.url))},n.send(e.body),{cancel:()=>n.abort()}}(e,t)},ue=function(e,t){return ce(I(e,{type:"arrayBuffer"}),t)};function he(e){const t=r.document.createElement("a");return t.href=e,t.protocol===r.document.location.protocol&&t.host===r.document.location.host}const de="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let pe,fe;pe=[],fe=0;const me=function(e,t){if(a.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),fe>=o.MAX_PARALLEL_IMAGE_REQUESTS){const r={requestParameters:e,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return pe.push(r),r}fe++;let n=!1;const i=()=>{if(!n)for(n=!0,fe--;pe.length&&fe<o.MAX_PARALLEL_IMAGE_REQUESTS;){const e=pe.shift(),{requestParameters:t,callback:r,cancelled:n}=e;n||(e.cancel=me(t,r).cancel)}},s=ue(e,(e,n,o,a)=>{i(),e?t(e):n&&(r.createImageBitmap?function(e,t){const n=new r.Blob([new Uint8Array(e)],{type:"image/png"});r.createImageBitmap(n).then(e=>{t(null,e)}).catch(e=>{t(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(n,(e,r)=>t(e,r,o,a)):function(e,t){const n=new r.Image,i=r.URL;n.onload=()=>{t(null,n),i.revokeObjectURL(n.src),n.onload=null,r.requestAnimationFrame(()=>{n.src=de})},n.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const o=new r.Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?i.createObjectURL(o):de}(n,(e,r)=>t(e,r,o,a)))});return{cancel:()=>{s.cancel(),i()}}},ge="NO_ACCESS_TOKEN";function _e(e){return 0===e.indexOf("mapbox:")}function ye(e){return o.API_URL_REGEX.test(e)}function ve(e){return o.API_STYLE_REGEX.test(e)&&!xe(e)}function xe(e){return o.API_SPRITE_REGEX.test(e)}const be=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function we(e){const t=e.match(be);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Te(e){const t=e.params.length?"?"+e.params.join("&"):"";return`${e.protocol}://${e.authority}${e.path}${t}`}function Ee(e){if(!e)return null;const t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(r.atob(t[1]).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(e){return null}}class Se{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const t=Ee(o.ACCESS_TOKEN);let n="";return n=t&&t.u?r.btoa(encodeURIComponent(t.u).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(Number("0x"+t)))):o.ACCESS_TOKEN||"",e?`mapbox.eventData.${e}:${n}`:"mapbox.eventData:"+n}fetchEventData(){const e=H("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{const e=r.localStorage.getItem(t);e&&(this.eventData=JSON.parse(e));const i=r.localStorage.getItem(n);i&&(this.anonId=i)}catch(e){V("Unable to read from LocalStorage")}}saveEventData(){const e=H("localStorage"),t=this.getStorageKey(),n=this.getStorageKey("uuid");if(e)try{r.localStorage.setItem(n,this.anonId),Object.keys(this.eventData).length>=1&&r.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){V("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,t,r,n){if(!o.EVENTS_URL)return;const i=we(o.EVENTS_URL);i.params.push("access_token="+(n||o.ACCESS_TOKEN||""));const a={event:this.type,created:new Date(e).toISOString()},s=t?I(a,t):a,l={url:Te(i),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=function(e,t){return ce(I(e,{method:"POST"}),t)}(l,e=>{this.pendingRequest=null,r(e),this.saveEventData(),this.processRequests(n)})}queueRequest(e,t){this.queue.push(e),this.processRequests(t)}}const Ce=new class extends Se{constructor(e){super("appUserTurnstile"),this._customAccessToken=e}postTurnstileEvent(e,t){o.EVENTS_URL&&o.ACCESS_TOKEN&&Array.isArray(e)&&e.some(e=>_e(e)||ye(e))&&this.queueRequest(Date.now(),t)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=Ee(o.ACCESS_TOKEN),r=t?t.u:o.ACCESS_TOKEN;let i=r!==this.eventData.tokenU;L(this.anonId)||(this.anonId=D(),i=!0);const a=this.queue.shift();if(this.eventData.lastSuccess){const e=new Date(this.eventData.lastSuccess),t=new Date(a),r=(a-this.eventData.lastSuccess)/864e5;i=i||r>=1||r<-1||e.getDate()!==t.getDate()}else i=!0;i?this.postEvent(a,{sdkIdentifier:"mapbox-gl-js",sdkVersion:n,skuId:d,"enabled.telemetry":!1,userId:this.anonId},e=>{e||(this.eventData.lastSuccess=a,this.eventData.tokenU=r)},e):this.processRequests()}},Me=Ce.postTurnstileEvent.bind(Ce),ke=new class extends Se{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(e,t,r,n){this.skuToken=t,this.errorCb=n,o.EVENTS_URL&&(r||o.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},r):this.errorCb(new Error(ge)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:r}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),L(this.anonId)||(this.anonId=D()),this.postEvent(r,{sdkIdentifier:"mapbox-gl-js",sdkVersion:n,skuId:d,skuToken:this.skuToken,userId:this.anonId},e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e))}},Ae=ke.postMapLoadEvent.bind(ke),Ie=new class extends Se{constructor(){super("gljs.performance")}postPerformanceEvent(e,t){o.EVENTS_URL&&(e||o.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},e)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:t,performanceData:i}=this.queue.shift(),o=function(e){const t=r.performance.getEntriesByType("resource"),i=r.performance.getEntriesByType("mark"),o=function(e){const t={};if(e)for(const r in e)if("other"!==r)for(const n of e[r]){const e=r+"RequestCount",i=r+"ResolveRangeMin",o=r+"ResolveRangeMax";t[i]=Math.min(t[i]||1/0,n.startTime),t[o]=Math.max(t[o]||-1/0,n.responseEnd),void 0===t[e]&&(t[e]=0),++t[e]}return t}(function(e,t){const r={};if(e)for(const n of e){const e=t(n);void 0===r[e]&&(r[e]=[]),r[e].push(n)}return r}(t,Be)),a=r.devicePixelRatio,s=r.navigator.connection||r.navigator.mozConnection||r.navigator.webkitConnection,l={counters:[],metadata:[],attributes:[]},c=(e,t,r)=>{null!=r&&e.push({name:t,value:r.toString()})};for(const e in o)c(l.counters,e,o[e]);if(e.interactionRange[0]!==1/0&&e.interactionRange[1]!==-1/0&&(c(l.counters,"interactionRangeMin",e.interactionRange[0]),c(l.counters,"interactionRangeMax",e.interactionRange[1])),i)for(const e of Object.keys(Le)){const t=Le[e],r=i.find(e=>e.name===t);r&&c(l.counters,t,r.startTime)}return c(l.counters,"visibilityHidden",e.visibilityHidden),c(l.attributes,"style",function(e){if(e)for(const t of e){const e=t.name.split("?")[0];if(ve(e)){const t=e.split("/").slice(-2);if(2===t.length)return`mapbox://styles/${t[0]}/${t[1]}`}}}(t)),c(l.attributes,"terrainEnabled",e.terrainEnabled?"true":"false"),c(l.attributes,"fogEnabled",e.fogEnabled?"true":"false"),c(l.attributes,"projection",e.projection.name),c(l.attributes,"zoom",e.zoom),c(l.metadata,"devicePixelRatio",a),c(l.metadata,"connectionEffectiveType",s?s.effectiveType:void 0),c(l.metadata,"navigatorUserAgent",r.navigator.userAgent),c(l.metadata,"screenWidth",r.screen.width),c(l.metadata,"screenHeight",r.screen.height),c(l.metadata,"windowWidth",r.innerWidth),c(l.metadata,"windowHeight",r.innerHeight),c(l.metadata,"mapWidth",e.width/a),c(l.metadata,"mapHeight",e.height/a),c(l.metadata,"webglRenderer",e.renderer),c(l.metadata,"webglVendor",e.vendor),c(l.metadata,"sdkVersion",n),c(l.metadata,"sdkIdentifier","mapbox-gl-js"),l}(i);for(const e of o.metadata);for(const e of o.counters);for(const e of o.attributes);this.postEvent(t,o,()=>{},e)}},Pe=Ie.postPerformanceEvent.bind(Ie),ze=new class extends Se{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(e,t,r,n){if(!o.API_URL||!o.SESSION_PATH)return;const i=we(o.API_URL+o.SESSION_PATH);i.params.push("sku="+(t||"")),i.params.push("access_token="+(n||o.ACCESS_TOKEN||""));const a={url:Te(i),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(e,t){return ce(I(e,{method:"GET"}),t)}(a,e=>{this.pendingRequest=null,r(e),this.saveEventData(),this.processRequests(n)})}getSessionAPI(e,t,r,n){this.skuToken=t,this.errorCb=n,o.SESSION_PATH&&o.API_URL&&(r||o.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},r):this.errorCb(new Error(ge)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:r}=this.queue.shift();t&&this.success[t]||this.getSession(r,this.skuToken,e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e)}},De=ze.getSessionAPI.bind(ze),Re=new Set,Le={create:"create",load:"load",fullLoad:"fullLoad"},Oe={mark(e){r.performance.mark(e)},measure(e,t,n){r.performance.measure(e,t,n)}};function Be(e){const t=e.name.split("?")[0];return t.includes("mapbox-gl.js")?"javascript":t.includes("mapbox-gl.css")?"css":function(e){return o.API_FONTS_REGEX.test(e)}(t)?"fontRange":xe(t)?"sprite":ve(t)?"style":function(e){return o.API_TILEJSON_REGEX.test(e)}(t)?"tilejson":"other"}const Fe=r.performance;function je(e){const t=e?e.url.toString():void 0;return Fe.getEntriesByName(t)}let Ue,Ne,Ve,Ge;const qe={now:()=>void 0!==Ve?Ve:r.performance.now(),setNow(e){Ve=e},restoreNow(){Ve=void 0},frame(e){const t=r.requestAnimationFrame(e);return{cancel:()=>r.cancelAnimationFrame(t)}},getImageData(e,t=0){const{width:n,height:i}=e;Ge||(Ge=r.document.createElement("canvas"));const o=Ge.getContext("2d");if(!o)throw new Error("failed to create canvas 2d context");return(n>Ge.width||i>Ge.height)&&(Ge.width=n,Ge.height=i),o.clearRect(-t,-t,n+2*t,i+2*t),o.drawImage(e,0,0,n,i),o.getImageData(-t,-t,n+2*t,i+2*t)},resolveURL:e=>(Ue||(Ue=r.document.createElement("a")),Ue.href=e,Ue.href),get devicePixelRatio(){return r.devicePixelRatio},get prefersReducedMotion(){return!!r.matchMedia&&(null==Ne&&(Ne=r.matchMedia("(prefers-reduced-motion: reduce)")),Ne.matches)}};function Ze(e,t,r){r[e]&&-1!==r[e].indexOf(t)||(r[e]=r[e]||[],r[e].push(t))}function $e(e,t,r){if(r&&r[e]){const n=r[e].indexOf(t);-1!==n&&r[e].splice(n,1)}}class We{constructor(e,t={}){I(this,t),this.type=e}}class Xe extends We{constructor(e,t={}){super("error",I({error:e},t))}}class He{on(e,t){return this._listeners=this._listeners||{},Ze(e,t,this._listeners),this}off(e,t){return $e(e,t,this._listeners),$e(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},Ze(e,t,this._oneTimeListeners),this):new Promise(t=>this.once(e,t))}fire(e,t){"string"==typeof e&&(e=new We(e,t||{}));const r=e.type;if(this.listens(r)){e.target=this;const t=this._listeners&&this._listeners[r]?this._listeners[r].slice():[];for(const r of t)r.call(this,e);const n=this._oneTimeListeners&&this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];for(const t of n)$e(r,t,this._oneTimeListeners),t.call(this,e);const i=this._eventedParent;i&&(I(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(e))}else e instanceof Xe&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var Ye=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Ke(e,...t){for(const r of t)for(const t in r)e[t]=r[t];return e}function Je(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Qe(e){if(Array.isArray(e))return e.map(Qe);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const r in e)t[r]=Qe(e[r]);return t}return Je(e)}class et extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var tt=et;class rt{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,r]of t)this.bindings[e]=r}concat(e){return new rt(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var nt=rt;const it={kind:"null"},ot={kind:"number"},at={kind:"string"},st={kind:"boolean"},lt={kind:"color"},ct={kind:"object"},ut={kind:"value"},ht={kind:"collator"},dt={kind:"formatted"},pt={kind:"resolvedImage"};function ft(e,t){return{kind:"array",itemType:e,N:t}}function mt(e){if("array"===e.kind){const t=mt(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const gt=[it,ot,at,st,lt,dt,ct,ft(ut),pt];function _t(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!_t(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of gt)if(!_t(e,t))return null}return`Expected ${mt(e)} but found ${mt(t)} instead.`}function yt(e,t){return t.some(t=>t.kind===e.kind)}function vt(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}var xt,bt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function wt(e){return(e=Math.round(e))<0?0:e>255?255:e}function Tt(e){return wt("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function Et(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function St(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}try{xt={}.parseCSSColor=function(e){var t,r=e.replace(/ /g,"").toLowerCase();if(r in bt)return bt[r].slice();if("#"===r[0])return 4===r.length?(t=parseInt(r.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===r.length&&(t=parseInt(r.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var n=r.indexOf("("),i=r.indexOf(")");if(-1!==n&&i+1===r.length){var o=r.substr(0,n),a=r.substr(n+1,i-(n+1)).split(","),s=1;switch(o){case"rgba":if(4!==a.length)return null;s=Et(a.pop());case"rgb":return 3!==a.length?null:[Tt(a[0]),Tt(a[1]),Tt(a[2]),s];case"hsla":if(4!==a.length)return null;s=Et(a.pop());case"hsl":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=Et(a[1]),u=Et(a[2]),h=u<=.5?u*(c+1):u+c-u*c,d=2*u-h;return[wt(255*St(d,h,l+1/3)),wt(255*St(d,h,l)),wt(255*St(d,h,l-1/3)),s];default:return null}}return null}}catch(e){}class Ct{constructor(e,t,r,n=1){this.r=e,this.g=t,this.b=r,this.a=n}static parse(e){if(!e)return;if(e instanceof Ct)return e;if("string"!=typeof e)return;const t=xt(e);return t?new Ct(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,r,n]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(r)},${n})`}toArray(){const{r:e,g:t,b:r,a:n}=this;return 0===n?[0,0,0,0]:[255*e/n,255*t/n,255*r/n,n]}toArray01(){const{r:e,g:t,b:r,a:n}=this;return 0===n?[0,0,0,0]:[e/n,t/n,r/n,n]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:r,a:n}=this;return[e,t,r,n]}}Ct.black=new Ct(0,0,0,1),Ct.white=new Ct(1,1,1,1),Ct.transparent=new Ct(0,0,0,0),Ct.red=new Ct(1,0,0,1),Ct.blue=new Ct(0,0,1,1);var Mt=Ct;class kt{constructor(e,t,r){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class At{constructor(e,t,r,n,i){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=r,this.fontStack=n,this.textColor=i}}class It{constructor(e){this.sections=e}static fromString(e){return new It([new At(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof It?e:It.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const r={};t.fontStack&&(r["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(r["font-scale"]=t.scale),t.textColor&&(r["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(r)}return e}}class Pt{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Pt({name:e,available:!1}):null}serialize(){return["image",this.name]}}function zt(e,t,r,n){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof r&&r>=0&&r<=255?void 0===n||"number"==typeof n&&n>=0&&n<=1?null:`Invalid rgba value [${[e,t,r,n].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof n?[e,t,r,n]:[e,t,r]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Dt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Mt)return!0;if(e instanceof kt)return!0;if(e instanceof It)return!0;if(e instanceof Pt)return!0;if(Array.isArray(e)){for(const t of e)if(!Dt(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Dt(e[t]))return!1;return!0}return!1}function Rt(e){if(null===e)return it;if("string"==typeof e)return at;if("boolean"==typeof e)return st;if("number"==typeof e)return ot;if(e instanceof Mt)return lt;if(e instanceof kt)return ht;if(e instanceof It)return dt;if(e instanceof Pt)return pt;if(Array.isArray(e)){const t=e.length;let r;for(const t of e){const e=Rt(t);if(r){if(r===e)continue;r=ut;break}r=e}return ft(r||ut,t)}return ct}function Lt(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Mt||e instanceof It||e instanceof Pt?e.toString():JSON.stringify(e)}class Ot{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Dt(e[1]))return t.error("invalid value");const r=e[1];let n=Rt(r);const i=t.expectedType;return"array"!==n.kind||0!==n.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(n=i),new Ot(n,r)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Mt?["rgba"].concat(this.value.toArray()):this.value instanceof It?this.value.serialize():this.value}}var Bt=Ot,Ft=class{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}};const jt={string:at,number:ot,boolean:st,object:ct};class Ut{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let r,n=1;const i=e[0];if("array"===i){let i,o;if(e.length>2){const r=e[1];if("string"!=typeof r||!(r in jt)||"object"===r)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=jt[r],n++}else i=ut;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],n++}r=ft(i,o)}else r=jt[i];const o=[];for(;n<e.length;n++){const r=t.parse(e[n],n,ut);if(!r)return null;o.push(r)}return new Ut(r,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const r=this.args[t].evaluate(e);if(!_t(this.type,Rt(r)))return r;if(t===this.args.length-1)throw new Ft(`Expected value to be of type ${mt(this.type)}, but found ${mt(Rt(r))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const r=e.itemType;if("string"===r.kind||"number"===r.kind||"boolean"===r.kind){t.push(r.kind);const n=e.N;("number"==typeof n||this.args.length>1)&&t.push(n)}}return t.concat(this.args.map(e=>e.serialize()))}}var Nt=Ut;class Vt{constructor(e){this.type=dt,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[1];if(!Array.isArray(r)&&"object"==typeof r)return t.error("First argument must be an image or text section.");const n=[];let i=!1;for(let r=1;r<=e.length-1;++r){const o=e[r];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;let e=null;if(o["font-scale"]&&(e=t.parse(o["font-scale"],1,ot),!e))return null;let r=null;if(o["text-font"]&&(r=t.parse(o["text-font"],1,ft(at)),!r))return null;let a=null;if(o["text-color"]&&(a=t.parse(o["text-color"],1,lt),!a))return null;const s=n[n.length-1];s.scale=e,s.font=r,s.textColor=a}else{const o=t.parse(e[r],1,ut);if(!o)return null;const a=o.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,n.push({content:o,scale:null,font:null,textColor:null})}}return new Vt(n)}evaluate(e){return new It(this.sections.map(t=>{const r=t.content.evaluate(e);return Rt(r)===pt?new At("",r,null,null,null):new At(Lt(r),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const r={};t.scale&&(r["font-scale"]=t.scale.serialize()),t.font&&(r["text-font"]=t.font.serialize()),t.textColor&&(r["text-color"]=t.textColor.serialize()),e.push(r)}return e}}class Gt{constructor(e){this.type=pt,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const r=t.parse(e[1],1,at);return r?new Gt(r):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),r=Pt.fromString(t);return r&&e.availableImages&&(r.available=e.availableImages.indexOf(t)>-1),r}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const qt={"to-boolean":st,"to-color":lt,"to-number":ot,"to-string":at};class Zt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const r=e[0];if(("to-boolean"===r||"to-string"===r)&&2!==e.length)return t.error("Expected one argument.");const n=qt[r],i=[];for(let r=1;r<e.length;r++){const n=t.parse(e[r],r,ut);if(!n)return null;i.push(n)}return new Zt(n,i)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,r;for(const n of this.args){if(t=n.evaluate(e),r=null,t instanceof Mt)return t;if("string"==typeof t){const r=e.parseColor(t);if(r)return r}else if(Array.isArray(t)&&(r=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:zt(t[0],t[1],t[2],t[3]),!r))return new Mt(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ft(r||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const r of this.args){if(t=r.evaluate(e),null===t)return 0;const n=Number(t);if(!isNaN(n))return n}throw new Ft(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?It.fromString(Lt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Pt.fromString(Lt(this.args[0].evaluate(e))):Lt(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Vt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Gt(this.args[0]).serialize();const e=["to-"+this.type.kind];return this.eachChild(t=>{e.push(t.serialize())}),e}}var $t=Zt;const Wt=["Unknown","Point","LineString","Polygon"];var Xt=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Wt[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:r,y:n}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(r*t-e[0])+this.featureDistanceData.bearing[1]*(n*t-e[1])}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Mt.parse(e)),t}};class Ht{constructor(e,t,r,n){this.name=e,this.type=t,this._evaluate=r,this.args=n}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const r=e[0],n=Ht.definitions[r];if(!n)return t.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(n)?n[0]:n.type,o=Array.isArray(n)?[[n[1],n[2]]]:n.overloads,a=o.filter(([t])=>!Array.isArray(t)||t.length===e.length-1);let s=null;for(const[n,o]of a){s=new wr(t.registry,t.path,null,t.scope);const a=[];let l=!1;for(let t=1;t<e.length;t++){const r=e[t],i=Array.isArray(n)?n[t-1]:n.type,o=s.parse(r,1+a.length,i);if(!o){l=!0;break}a.push(o)}if(!l)if(Array.isArray(n)&&n.length!==a.length)s.error(`Expected ${n.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){const t=Array.isArray(n)?n[e]:n.type,r=a[e];s.concat(e+1).checkSubtype(t,r.type)}if(0===s.errors.length)return new Ht(r,i,o,a)}}if(1===a.length)t.errors.push(...s.errors);else{const r=(a.length?a:o).map(([e])=>{return t=e,Array.isArray(t)?`(${t.map(mt).join(", ")})`:`(${mt(t.type)}...)`;var t}).join(" | "),n=[];for(let r=1;r<e.length;r++){const i=t.parse(e[r],1+n.length);if(!i)return null;n.push(mt(i.type))}t.error(`Expected arguments of type ${r}, but found (${n.join(", ")}) instead.`)}return null}static register(e,t){Ht.definitions=t;for(const r in t)e[r]=Ht}}var Yt=Ht;class Kt{constructor(e,t,r){this.type=ht,this.locale=r,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const r=e[1];if("object"!=typeof r||Array.isArray(r))return t.error("Collator options argument must be an object.");const n=t.parse(void 0!==r["case-sensitive"]&&r["case-sensitive"],1,st);if(!n)return null;const i=t.parse(void 0!==r["diacritic-sensitive"]&&r["diacritic-sensitive"],1,st);if(!i)return null;let o=null;return r.locale&&(o=t.parse(r.locale,1,at),!o)?null:new Kt(n,i,o)}evaluate(e){return new kt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Jt=8192;function Qt(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function er(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function tr(e,t){const r=(180+e[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(r*i*Jt),Math.round(n*i*Jt)]}function rr(e,t,r){const n=e[0]-t[0],i=e[1]-t[1],o=e[0]-r[0],a=e[1]-r[1];return n*a-o*i==0&&n*o<=0&&i*a<=0}function nr(e,t){let r=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(rr(e,s[t],s[t+1]))return!1;(i=s[t])[1]>(n=e)[1]!=(o=s[t+1])[1]>n[1]&&n[0]<(o[0]-i[0])*(n[1]-i[1])/(o[1]-i[1])+i[0]&&(r=!r)}}var n,i,o;return r}function ir(e,t){for(let r=0;r<t.length;r++)if(nr(e,t[r]))return!0;return!1}function or(e,t,r,n){const i=n[0]-r[0],o=n[1]-r[1],a=(e[0]-r[0])*o-i*(e[1]-r[1]),s=(t[0]-r[0])*o-i*(t[1]-r[1]);return a>0&&s<0||a<0&&s>0}function ar(e,t,r){for(const c of r)for(let r=0;r<c.length-1;++r)if(0!=(s=[(a=c[r+1])[0]-(o=c[r])[0],a[1]-o[1]])[0]*(l=[(i=t)[0]-(n=e)[0],i[1]-n[1]])[1]-s[1]*l[0]&&or(n,i,o,a)&&or(o,a,n,i))return!0;var n,i,o,a,s,l;return!1}function sr(e,t){for(let r=0;r<e.length;++r)if(!nr(e[r],t))return!1;for(let r=0;r<e.length-1;++r)if(ar(e[r],e[r+1],t))return!1;return!0}function lr(e,t){for(let r=0;r<t.length;r++)if(sr(e,t[r]))return!0;return!1}function cr(e,t,r){const n=[];for(let i=0;i<e.length;i++){const o=[];for(let n=0;n<e[i].length;n++){const a=tr(e[i][n],r);Qt(t,a),o.push(a)}n.push(o)}return n}function ur(e,t,r){const n=[];for(let i=0;i<e.length;i++){const o=cr(e[i],t,r);n.push(o)}return n}function hr(e,t,r,n){if(e[0]<r[0]||e[0]>r[2]){const t=.5*n;let i=e[0]-r[0]>t?-n:r[0]-e[0]>t?n:0;0===i&&(i=e[0]-r[2]>t?-n:r[2]-e[0]>t?n:0),e[0]+=i}Qt(t,e)}function dr(e,t,r,n){const i=Math.pow(2,n.z)*Jt,o=[n.x*Jt,n.y*Jt],a=[];if(!e)return a;for(const n of e)for(const e of n){const n=[e.x+o[0],e.y+o[1]];hr(n,t,r,i),a.push(n)}return a}function pr(e,t,r,n){const i=Math.pow(2,n.z)*Jt,o=[n.x*Jt,n.y*Jt],a=[];if(!e)return a;for(const r of e){const e=[];for(const n of r){const r=[n.x+o[0],n.y+o[1]];Qt(t,r),e.push(r)}a.push(e)}if(t[2]-t[0]<=i/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const n of e)hr(n,t,r,i)}var s;return a}class fr{constructor(e,t){this.type=st,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Dt(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const r=t.features[e].geometry.type;if("Polygon"===r||"MultiPolygon"===r)return new fr(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new fr(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new fr(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){const o=cr(t.coordinates,n,i),a=dr(e.geometry(),r,n,i);if(!er(r,n))return!1;for(const e of a)if(!nr(e,o))return!1}if("MultiPolygon"===t.type){const o=ur(t.coordinates,n,i),a=dr(e.geometry(),r,n,i);if(!er(r,n))return!1;for(const e of a)if(!ir(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if(!i)return!1;if("Polygon"===t.type){const o=cr(t.coordinates,n,i),a=pr(e.geometry(),r,n,i);if(!er(r,n))return!1;for(const e of a)if(!sr(e,o))return!1}if("MultiPolygon"===t.type){const o=ur(t.coordinates,n,i),a=pr(e.geometry(),r,n,i);if(!er(r,n))return!1;for(const e of a)if(!lr(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var mr=fr;function gr(e){if(e instanceof Yt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof mr)return!1;let t=!0;return e.eachChild(e=>{t&&!gr(e)&&(t=!1)}),t}function _r(e){if(e instanceof Yt&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!_r(e)&&(t=!1)}),t}function yr(e,t){if(e instanceof Yt&&t.indexOf(e.name)>=0)return!1;let r=!0;return e.eachChild(e=>{r&&!yr(e,t)&&(r=!1)}),r}class vr{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const r=e[1];return t.scope.has(r)?new vr(r,t.scope.get(r)):t.error(`Unknown variable "${r}". Make sure "${r}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var xr=vr;class br{constructor(e,t=[],r,n=new nt,i=[]){this.registry=e,this.path=t,this.key=t.map(e=>`[${e}]`).join(""),this.scope=n,this.errors=i,this.expectedType=r}parse(e,t,r,n,i={}){return t?this.concat(t,r,n)._parse(e,i):this._parse(e,i)}_parse(e,t){function r(e,t,r){return"assert"===r?new Nt(t,[e]):"coerce"===r?new $t(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const n=e[0];if("string"!=typeof n)return this.error(`Expression name must be a string, but found ${typeof n} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[n];if(i){let n=i.parse(e,this);if(!n)return null;if(this.expectedType){const e=this.expectedType,i=n.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==i.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==i.kind&&"string"!==i.kind){if(this.checkSubtype(e,i))return null}else n=r(n,e,t.typeAnnotation||"coerce");else n=r(n,e,t.typeAnnotation||"assert")}if(!(n instanceof Bt)&&"resolvedImage"!==n.type.kind&&function e(t){if(t instanceof xr)return e(t.boundExpression);if(t instanceof Yt&&"error"===t.name)return!1;if(t instanceof Kt)return!1;if(t instanceof mr)return!1;const r=t instanceof $t||t instanceof Nt;let n=!0;return t.eachChild(t=>{n=r?n&&e(t):n&&t instanceof Bt}),!!n&&gr(t)&&yr(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}(n)){const t=new Xt;try{n=new Bt(n.type,n.evaluate(t))}catch(e){return this.error(e.message),null}}return n}return this.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,r){const n="number"==typeof e?this.path.concat(e):this.path,i=r?this.scope.concat(r):this.scope;return new br(this.registry,n,t||null,i,this.errors)}error(e,...t){const r=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new tt(r,e))}checkSubtype(e,t){const r=_t(e,t);return r&&this.error(r),r}}var wr=br;function Tr(e,t){const r=e.length-1;let n,i,o=0,a=r,s=0;for(;o<=a;)if(s=Math.floor((o+a)/2),n=e[s],i=e[s+1],n<=t){if(s===r||t<i)return s;o=s+1}else{if(!(n>t))throw new Ft("Input is not a number.");a=s-1}return 0}class Er{constructor(e,t,r){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of r)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const r=t.parse(e[1],1,ot);if(!r)return null;const n=[];let i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let r=1;r<e.length;r+=2){const o=1===r?-1/0:e[r],a=e[r+1],s=r,l=r+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(n.length&&n[n.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=t.parse(a,l,i);if(!c)return null;i=i||c.type,n.push([o,c])}return new Er(i,r,n)}evaluate(e){const t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);const i=t.length;return n>=t[i-1]?r[i-1].evaluate(e):r[Tr(t,n)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var Sr=Er;function Cr(e,t,r){return e*(1-r)+t*r}var Mr=Object.freeze({__proto__:null,number:Cr,color:function(e,t,r){return new Mt(Cr(e.r,t.r,r),Cr(e.g,t.g,r),Cr(e.b,t.b,r),Cr(e.a,t.a,r))},array:function(e,t,r){return e.map((e,n)=>Cr(e,t[n],r))}});const kr=6/29*3*(6/29),Ar=Math.PI/180,Ir=180/Math.PI;function Pr(e){return e>.008856451679035631?Math.pow(e,1/3):e/kr+4/29}function zr(e){return e>6/29?e*e*e:kr*(e-4/29)}function Dr(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Rr(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Lr(e){const t=Rr(e.r),r=Rr(e.g),n=Rr(e.b),i=Pr((.4124564*t+.3575761*r+.1804375*n)/.95047),o=Pr((.2126729*t+.7151522*r+.072175*n)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Pr((.0193339*t+.119192*r+.9503041*n)/1.08883)),alpha:e.a}}function Or(e){let t=(e.l+16)/116,r=isNaN(e.a)?t:t+e.a/500,n=isNaN(e.b)?t:t-e.b/200;return t=1*zr(t),r=.95047*zr(r),n=1.08883*zr(n),new Mt(Dr(3.2404542*r-1.5371385*t-.4985314*n),Dr(-.969266*r+1.8760108*t+.041556*n),Dr(.0556434*r-.2040259*t+1.0572252*n),e.alpha)}function Br(e,t,r){const n=t-e;return e+r*(n>180||n<-180?n-360*Math.round(n/360):n)}const Fr={forward:Lr,reverse:Or,interpolate:function(e,t,r){return{l:Cr(e.l,t.l,r),a:Cr(e.a,t.a,r),b:Cr(e.b,t.b,r),alpha:Cr(e.alpha,t.alpha,r)}}},jr={forward:function(e){const{l:t,a:r,b:n}=Lr(e),i=Math.atan2(n,r)*Ir;return{h:i<0?i+360:i,c:Math.sqrt(r*r+n*n),l:t,alpha:e.a}},reverse:function(e){const t=e.h*Ar,r=e.c;return Or({l:e.l,a:Math.cos(t)*r,b:Math.sin(t)*r,alpha:e.alpha})},interpolate:function(e,t,r){return{h:Br(e.h,t.h,r),c:Cr(e.c,t.c,r),l:Cr(e.l,t.l,r),alpha:Cr(e.alpha,t.alpha,r)}}};var Ur=Object.freeze({__proto__:null,lab:Fr,hcl:jr});class Nr{constructor(e,t,r,n,i){this.type=e,this.operator=t,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(const[e,t]of i)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,t,r,n){let i=0;if("exponential"===e.name)i=Vr(t,e.base,r,n);else if("linear"===e.name)i=Vr(t,1,r,n);else if("cubic-bezier"===e.name){const o=e.controlPoints;i=new p(o[0],o[1],o[2],o[3]).solve(Vr(t,1,r,n))}return i}static parse(e,t){let[r,n,i,...o]=e;if(!Array.isArray(n)||0===n.length)return t.error("Expected an interpolation type expression.",1);if("linear"===n[0])n={name:"linear"};else if("exponential"===n[0]){const e=n[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);n={name:"exponential",base:e}}else{if("cubic-bezier"!==n[0])return t.error("Unknown interpolation type "+String(n[0]),1,0);{const e=n.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);n={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(i=t.parse(i,2,ot),!i)return null;const a=[];let s=null;"interpolate-hcl"===r||"interpolate-lab"===r?s=lt:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<o.length;e+=2){const r=o[e],n=o[e+1],i=e+3,l=e+4;if("number"!=typeof r)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=r)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const c=t.parse(n,l,s);if(!c)return null;s=s||c.type,a.push([r,c])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new Nr(s,r,n,i,a):t.error(`Type ${mt(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,r=this.outputs;if(1===t.length)return r[0].evaluate(e);const n=this.input.evaluate(e);if(n<=t[0])return r[0].evaluate(e);const i=t.length;if(n>=t[i-1])return r[i-1].evaluate(e);const o=Tr(t,n),a=Nr.interpolationFactor(this.interpolation,n,t[o],t[o+1]),s=r[o].evaluate(e),l=r[o+1].evaluate(e);return"interpolate"===this.operator?Mr[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?jr.reverse(jr.interpolate(jr.forward(s),jr.forward(l),a)):Fr.reverse(Fr.interpolate(Fr.forward(s),Fr.forward(l),a))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function Vr(e,t,r,n){const i=n-r,o=e-r;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}var Gr=Nr;class qr{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let r=null;const n=t.expectedType;n&&"value"!==n.kind&&(r=n);const i=[];for(const n of e.slice(1)){const e=t.parse(n,1+i.length,r,void 0,{typeAnnotation:"omit"});if(!e)return null;r=r||e.type,i.push(e)}const o=n&&i.some(e=>_t(n,e.type));return new qr(o?ut:r,i)}evaluate(e){let t,r=null,n=0;for(const i of this.args){if(n++,r=i.evaluate(e),r&&r instanceof Pt&&!r.available&&(t||(t=r),r=null,n===this.args.length))return t;if(null!==r)break}return r}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var Zr=qr;class $r{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const r=[];for(let n=1;n<e.length-1;n+=2){const i=e[n];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,n);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",n);const o=t.parse(e[n+1],n+1);if(!o)return null;r.push([i,o])}const n=t.parse(e[e.length-1],e.length-1,t.expectedType,r);return n?new $r(r,n):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,r]of this.bindings)e.push(t,r.serialize());return e.push(this.result.serialize()),e}}var Wr=$r;class Xr{constructor(e,t,r){this.type=e,this.index=t,this.input=r}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,ot),n=t.parse(e[2],2,ft(t.expectedType||ut));return r&&n?new Xr(n.type.itemType,r,n):null}evaluate(e){const t=this.index.evaluate(e),r=this.input.evaluate(e);if(t<0)throw new Ft(`Array index out of bounds: ${t} < 0.`);if(t>=r.length)throw new Ft(`Array index out of bounds: ${t} > ${r.length-1}.`);if(t!==Math.floor(t))throw new Ft(`Array index must be an integer, but found ${t} instead.`);return r[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Hr=Xr;class Yr{constructor(e,t){this.type=st,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,ut),n=t.parse(e[2],2,ut);return r&&n?yt(r.type,[st,at,ot,it,ut])?new Yr(r,n):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${mt(r.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(null==r)return!1;if(!vt(t,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${mt(Rt(t))} instead.`);if(!vt(r,["string","array"]))throw new Ft(`Expected second argument to be of type array or string, but found ${mt(Rt(r))} instead.`);return r.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Kr=Yr;class Jr{constructor(e,t,r){this.type=ot,this.needle=e,this.haystack=t,this.fromIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,ut),n=t.parse(e[2],2,ut);if(!r||!n)return null;if(!yt(r.type,[st,at,ot,it,ut]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${mt(r.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,ot);return i?new Jr(r,n,i):null}return new Jr(r,n)}evaluate(e){const t=this.needle.evaluate(e),r=this.haystack.evaluate(e);if(!vt(t,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${mt(Rt(t))} instead.`);if(!vt(r,["string","array"]))throw new Ft(`Expected second argument to be of type array or string, but found ${mt(Rt(r))} instead.`);if(this.fromIndex){const n=this.fromIndex.evaluate(e);return r.indexOf(t,n)}return r.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var Qr=Jr;class en{constructor(e,t,r,n,i,o){this.inputType=e,this.type=t,this.input=r,this.cases=n,this.outputs=i,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let r,n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i={},o=[];for(let a=2;a<e.length-1;a+=2){let s=e[a];const l=e[a+1];Array.isArray(s)||(s=[s]);const c=t.concat(a);if(0===s.length)return c.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(r){if(c.checkSubtype(r,Rt(e)))return null}else r=Rt(e);if(void 0!==i[String(e)])return c.error("Branch labels must be unique.");i[String(e)]=o.length}const u=t.parse(l,a,n);if(!u)return null;n=n||u.type,o.push(u)}const a=t.parse(e[1],1,ut);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,n);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(r,a.type)?null:new en(r,n,a,i,o,s):null}evaluate(e){const t=this.input.evaluate(e);return(Rt(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),r=[],n={};for(const e of t){const t=n[this.cases[e]];void 0===t?(n[this.cases[e]]=r.length,r.push([this.cases[e],[e]])):r[t][1].push(e)}const i=e=>"number"===this.inputType.kind?Number(e):e;for(const[t,n]of r)e.push(1===n.length?i(n[0]):n.map(i)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}var tn=en;class rn{constructor(e,t,r){this.type=e,this.branches=t,this.otherwise=r}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);const n=[];for(let i=1;i<e.length-1;i+=2){const o=t.parse(e[i],i,st);if(!o)return null;const a=t.parse(e[i+1],i+1,r);if(!a)return null;n.push([o,a]),r=r||a.type}const i=t.parse(e[e.length-1],e.length-1,r);return i?new rn(r,n,i):null}evaluate(e){for(const[t,r]of this.branches)if(t.evaluate(e))return r.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,r]of this.branches)e(t),e(r);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var nn=rn;class on{constructor(e,t,r,n){this.type=e,this.input=t,this.beginIndex=r,this.endIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const r=t.parse(e[1],1,ut),n=t.parse(e[2],2,ot);if(!r||!n)return null;if(!yt(r.type,[ft(ut),at,ut]))return t.error(`Expected first argument to be of type array or string, but found ${mt(r.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,ot);return i?new on(r.type,r,n,i):null}return new on(r.type,r,n)}evaluate(e){const t=this.input.evaluate(e),r=this.beginIndex.evaluate(e);if(!vt(t,["string","array"]))throw new Ft(`Expected first argument to be of type array or string, but found ${mt(Rt(t))} instead.`);if(this.endIndex){const n=this.endIndex.evaluate(e);return t.slice(r,n)}return t.slice(r)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var an=on;function sn(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function ln(e,t,r,n){return 0===n.compare(t,r)}function cn(e,t,r){const n="=="!==e&&"!="!==e;return class i{constructor(e,t,r){this.type=st,this.lhs=e,this.rhs=t,this.collator=r,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const r=e[0];let o=t.parse(e[1],1,ut);if(!o)return null;if(!sn(r,o.type))return t.concat(1).error(`"${r}" comparisons are not supported for type '${mt(o.type)}'.`);let a=t.parse(e[2],2,ut);if(!a)return null;if(!sn(r,a.type))return t.concat(2).error(`"${r}" comparisons are not supported for type '${mt(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${mt(o.type)}' and '${mt(a.type)}'.`);n&&("value"===o.type.kind&&"value"!==a.type.kind?o=new Nt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new Nt(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,ht),!s)return null}return new i(o,a,s)}evaluate(i){const o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(n&&this.hasUntypedArgument){const t=Rt(o),r=Rt(a);if(t.kind!==r.kind||"string"!==t.kind&&"number"!==t.kind)throw new Ft(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${r.kind}) instead.`)}if(this.collator&&!n&&this.hasUntypedArgument){const e=Rt(o),r=Rt(a);if("string"!==e.kind||"string"!==r.kind)return t(i,o,a)}return this.collator?r(i,o,a,this.collator.evaluate(i)):t(i,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild(e=>{t.push(e.serialize())}),t}}}const un=cn("==",(function(e,t,r){return t===r}),ln),hn=cn("!=",(function(e,t,r){return t!==r}),(function(e,t,r,n){return!ln(0,t,r,n)})),dn=cn("<",(function(e,t,r){return t<r}),(function(e,t,r,n){return n.compare(t,r)<0})),pn=cn(">",(function(e,t,r){return t>r}),(function(e,t,r,n){return n.compare(t,r)>0})),fn=cn("<=",(function(e,t,r){return t<=r}),(function(e,t,r,n){return n.compare(t,r)<=0})),mn=cn(">=",(function(e,t,r){return t>=r}),(function(e,t,r,n){return n.compare(t,r)>=0}));class gn{constructor(e,t,r,n,i,o){this.type=at,this.number=e,this.locale=t,this.currency=r,this.unit=n,this.minFractionDigits=i,this.maxFractionDigits=o}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const r=t.parse(e[1],1,ot);if(!r)return null;const n=e[2];if("object"!=typeof n||Array.isArray(n))return t.error("NumberFormat options argument must be an object.");let i=null;if(n.locale&&(i=t.parse(n.locale,1,at),!i))return null;let o=null;if(n.currency&&(o=t.parse(n.currency,1,at),!o))return null;let a=null;if(n.unit&&(a=t.parse(n.unit,1,at),!a))return null;let s=null;if(n["min-fraction-digits"]&&(s=t.parse(n["min-fraction-digits"],1,ot),!s))return null;let l=null;return n["max-fraction-digits"]&&(l=t.parse(n["max-fraction-digits"],1,ot),!l)?null:new gn(r,i,o,a,s,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class _n{constructor(e){this.type=ot,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const r=t.parse(e[1],1);return r?"array"!==r.type.kind&&"string"!==r.type.kind&&"value"!==r.type.kind?t.error(`Expected argument of type string or array, but found ${mt(r.type)} instead.`):new _n(r):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Ft(`Expected value to be of type string or array, but found ${mt(Rt(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}const yn={"==":un,"!=":hn,">":pn,"<":dn,">=":mn,"<=":fn,array:Nt,at:Hr,boolean:Nt,case:nn,coalesce:Zr,collator:Kt,format:Vt,image:Gt,in:Kr,"index-of":Qr,interpolate:Gr,"interpolate-hcl":Gr,"interpolate-lab":Gr,length:_n,let:Wr,literal:Bt,match:tn,number:Nt,"number-format":gn,object:Nt,slice:an,step:Sr,string:Nt,"to-boolean":$t,"to-color":$t,"to-number":$t,"to-string":$t,var:xr,within:mr};function vn(e,[t,r,n,i]){t=t.evaluate(e),r=r.evaluate(e),n=n.evaluate(e);const o=i?i.evaluate(e):1,a=zt(t,r,n,o);if(a)throw new Ft(a);return new Mt(t/255*o,r/255*o,n/255*o,o)}function xn(e,t){return e in t}function bn(e,t){const r=t[e];return void 0===r?null:r}function wn(e){return{type:e}}Yt.register(yn,{error:[{kind:"error"},[at],(e,[t])=>{throw new Ft(t.evaluate(e))}],typeof:[at,[ut],(e,[t])=>mt(Rt(t.evaluate(e)))],"to-rgba":[ft(ot,4),[lt],(e,[t])=>t.evaluate(e).toArray()],rgb:[lt,[ot,ot,ot],vn],rgba:[lt,[ot,ot,ot,ot],vn],has:{type:st,overloads:[[[at],(e,[t])=>xn(t.evaluate(e),e.properties())],[[at,ct],(e,[t,r])=>xn(t.evaluate(e),r.evaluate(e))]]},get:{type:ut,overloads:[[[at],(e,[t])=>bn(t.evaluate(e),e.properties())],[[at,ct],(e,[t,r])=>bn(t.evaluate(e),r.evaluate(e))]]},"feature-state":[ut,[at],(e,[t])=>bn(t.evaluate(e),e.featureState||{})],properties:[ct,[],e=>e.properties()],"geometry-type":[at,[],e=>e.geometryType()],id:[ut,[],e=>e.id()],zoom:[ot,[],e=>e.globals.zoom],pitch:[ot,[],e=>e.globals.pitch||0],"distance-from-center":[ot,[],e=>e.distanceFromCenter()],"heatmap-density":[ot,[],e=>e.globals.heatmapDensity||0],"line-progress":[ot,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[ot,[],e=>e.globals.skyRadialProgress||0],accumulated:[ut,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[ot,wn(ot),(e,t)=>{let r=0;for(const n of t)r+=n.evaluate(e);return r}],"*":[ot,wn(ot),(e,t)=>{let r=1;for(const n of t)r*=n.evaluate(e);return r}],"-":{type:ot,overloads:[[[ot,ot],(e,[t,r])=>t.evaluate(e)-r.evaluate(e)],[[ot],(e,[t])=>-t.evaluate(e)]]},"/":[ot,[ot,ot],(e,[t,r])=>t.evaluate(e)/r.evaluate(e)],"%":[ot,[ot,ot],(e,[t,r])=>t.evaluate(e)%r.evaluate(e)],ln2:[ot,[],()=>Math.LN2],pi:[ot,[],()=>Math.PI],e:[ot,[],()=>Math.E],"^":[ot,[ot,ot],(e,[t,r])=>Math.pow(t.evaluate(e),r.evaluate(e))],sqrt:[ot,[ot],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[ot,[ot],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[ot,[ot],(e,[t])=>Math.log(t.evaluate(e))],log2:[ot,[ot],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[ot,[ot],(e,[t])=>Math.sin(t.evaluate(e))],cos:[ot,[ot],(e,[t])=>Math.cos(t.evaluate(e))],tan:[ot,[ot],(e,[t])=>Math.tan(t.evaluate(e))],asin:[ot,[ot],(e,[t])=>Math.asin(t.evaluate(e))],acos:[ot,[ot],(e,[t])=>Math.acos(t.evaluate(e))],atan:[ot,[ot],(e,[t])=>Math.atan(t.evaluate(e))],min:[ot,wn(ot),(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[ot,wn(ot),(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[ot,[ot],(e,[t])=>Math.abs(t.evaluate(e))],round:[ot,[ot],(e,[t])=>{const r=t.evaluate(e);return r<0?-Math.round(-r):Math.round(r)}],floor:[ot,[ot],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[ot,[ot],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[st,[at,ut],(e,[t,r])=>e.properties()[t.value]===r.value],"filter-id-==":[st,[ut],(e,[t])=>e.id()===t.value],"filter-type-==":[st,[at],(e,[t])=>e.geometryType()===t.value],"filter-<":[st,[at,ut],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n<i}],"filter-id-<":[st,[ut],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r<n}],"filter->":[st,[at,ut],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n>i}],"filter-id->":[st,[ut],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r>n}],"filter-<=":[st,[at,ut],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n<=i}],"filter-id-<=":[st,[ut],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r<=n}],"filter->=":[st,[at,ut],(e,[t,r])=>{const n=e.properties()[t.value],i=r.value;return typeof n==typeof i&&n>=i}],"filter-id->=":[st,[ut],(e,[t])=>{const r=e.id(),n=t.value;return typeof r==typeof n&&r>=n}],"filter-has":[st,[ut],(e,[t])=>t.value in e.properties()],"filter-has-id":[st,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[st,[ft(at)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[st,[ft(ut)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[st,[at,ft(ut)],(e,[t,r])=>r.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[st,[at,ft(ut)],(e,[t,r])=>function(e,t,r,n){for(;r<=n;){const i=r+n>>1;if(t[i]===e)return!0;t[i]>e?n=i-1:r=i+1}return!1}(e.properties()[t.value],r.value,0,r.value.length-1)],all:{type:st,overloads:[[[st,st],(e,[t,r])=>t.evaluate(e)&&r.evaluate(e)],[wn(st),(e,t)=>{for(const r of t)if(!r.evaluate(e))return!1;return!0}]]},any:{type:st,overloads:[[[st,st],(e,[t,r])=>t.evaluate(e)||r.evaluate(e)],[wn(st),(e,t)=>{for(const r of t)if(r.evaluate(e))return!0;return!1}]]},"!":[st,[st],(e,[t])=>!t.evaluate(e)],"is-supported-script":[st,[at],(e,[t])=>{const r=e.globals&&e.globals.isSupportedScript;return!r||r(t.evaluate(e))}],upcase:[at,[at],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[at,[at],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[at,wn(ut),(e,t)=>t.map(t=>Lt(t.evaluate(e))).join("")],"resolved-locale":[at,[ht],(e,[t])=>t.evaluate(e).resolvedLocale()]});var Tn=yn;function En(e){return{result:"success",value:e}}function Sn(e){return{result:"error",value:e}}function Cn(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Mn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function kn(e){return!!e.expression&&e.expression.interpolated}function An(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function In(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Pn(e){return e}function zn(e,t,r){return void 0!==e?e:void 0!==t?t:void 0!==r?r:void 0}function Dn(e,t,r,n,i){return zn(typeof r===i?n[r]:void 0,e.default,t.default)}function Rn(e,t,r){if("number"!==An(r))return zn(e.default,t.default);const n=e.stops.length;if(1===n)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[n-1][0])return e.stops[n-1][1];const i=Tr(e.stops.map(e=>e[0]),r);return e.stops[i][1]}function Ln(e,t,r){const n=void 0!==e.base?e.base:1;if("number"!==An(r))return zn(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(r<=e.stops[0][0])return e.stops[0][1];if(r>=e.stops[i-1][0])return e.stops[i-1][1];const o=Tr(e.stops.map(e=>e[0]),r),a=function(e,t,r,n){const i=n-r,o=e-r;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(r,n,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1];let c=Mr[t.type]||Pn;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=Ur[e.colorSpace];c=(e,r)=>t.reverse(t.interpolate(t.forward(e),t.forward(r),a))}return"function"==typeof s.evaluate?{evaluate(...e){const t=s.evaluate.apply(void 0,e),r=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==r)return c(t,r,a)}}:c(s,l,a)}function On(e,t,r){return"color"===t.type?r=Mt.parse(r):"formatted"===t.type?r=It.fromString(r.toString()):"resolvedImage"===t.type?r=Pt.fromString(r.toString()):An(r)===t.type||"enum"===t.type&&t.values[r]||(r=void 0),zn(r,e.default,t.default)}class Bn{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Xt,this._defaultValue=t?function(e){return"color"===e.type&&(In(e.default)||Array.isArray(e.default))?new Mt(0,0,0,0):"color"===e.type?Mt.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,r,n,i,o,a,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=r,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,r,n,i,o,a,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n||null,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Ft(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function Fn(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Tn}function jn(e,t){const r=new wr(Tn,[],t?function(e){const t={color:lt,string:at,number:ot,enum:at,boolean:st,formatted:dt,resolvedImage:pt};return"array"===e.type?ft(t[e.value]||ut,e.length):t[e.type]}(t):void 0),n=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return n?En(new Bn(n,t)):Sn(r.errors)}class Un{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!_r(t.expression)}evaluateWithoutErrorHandling(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)}evaluate(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)}}class Nn{constructor(e,t,r,n){this.kind=e,this.zoomStops=r,this._styleExpression=t,this.isStateDependent="camera"!==e&&!_r(t.expression),this.interpolationType=n}evaluateWithoutErrorHandling(e,t,r,n,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,r,n,i,o)}evaluate(e,t,r,n,i,o){return this._styleExpression.evaluate(e,t,r,n,i,o)}interpolationFactor(e,t,r){return this.interpolationType?Gr.interpolationFactor(this.interpolationType,e,t,r):0}}function Vn(e,t){if("error"===(e=jn(e,t)).result)return e;const r=e.value.expression,n=gr(r);if(!n&&!Cn(t))return Sn([new tt("","data expressions not supported")]);const i=yr(r,["zoom","pitch","distance-from-center"]);if(!i&&!Mn(t))return Sn([new tt("","zoom expressions not supported")]);const o=function e(t){let r=null;if(t instanceof Wr)r=e(t.result);else if(t instanceof Zr){for(const n of t.args)if(r=e(n),r)break}else(t instanceof Sr||t instanceof Gr)&&t.input instanceof Yt&&"zoom"===t.input.name&&(r=t);return r instanceof tt||t.eachChild(t=>{const n=e(t);n instanceof tt?r=n:!r&&n?r=new tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):r&&n&&r!==n&&(r=new tt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),r}(r);return o||i?o instanceof tt?Sn([o]):o instanceof Gr&&!kn(t)?Sn([new tt("",'"interpolate" expressions cannot be used with this property')]):En(o?new Nn(n?"camera":"composite",e.value,o.labels,o instanceof Gr?o.interpolation:void 0):new Un(n?"constant":"source",e.value)):Sn([new tt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Gn{constructor(e,t){this._parameters=e,this._specification=t,Ke(this,function e(t,r){const n="color"===r.type,i=t.stops&&"object"==typeof t.stops[0][0],o=i||!(i||void 0!==t.property),a=t.type||(kn(r)?"exponential":"interval");if(n&&((t=Ke({},t)).stops&&(t.stops=t.stops.map(e=>[e[0],Mt.parse(e[1])])),t.default=Mt.parse(t.default?t.default:r.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!Ur[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);let s,l,c;if("exponential"===a)s=Ln;else if("interval"===a)s=Rn;else if("categorical"===a){s=Dn,l=Object.create(null);for(const e of t.stops)l[e[0]]=e[1];c=typeof t.stops[0][0]}else{if("identity"!==a)throw new Error(`Unknown function type "${a}"`);s=On}if(i){const n={},i=[];for(let e=0;e<t.stops.length;e++){const r=t.stops[e],o=r[0].zoom;void 0===n[o]&&(n[o]={zoom:o,type:t.type,property:t.property,default:t.default,stops:[]},i.push(o)),n[o].stops.push([r[0].value,r[1]])}const o=[];for(const t of i)o.push([n[t].zoom,e(n[t],r)]);const a={name:"linear"};return{kind:"composite",interpolationType:a,interpolationFactor:Gr.interpolationFactor.bind(void 0,a),zoomStops:o.map(e=>e[0]),evaluate:({zoom:e},n)=>Ln({stops:o,base:t.base},r,e).evaluate(e,n)}}if(o){const e="exponential"===a?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:e,interpolationFactor:Gr.interpolationFactor.bind(void 0,e),zoomStops:t.stops.map(e=>e[0]),evaluate:({zoom:e})=>s(t,r,e,l,c)}}return{kind:"source",evaluate(e,n){const i=n&&n.properties?n.properties[t.property]:void 0;return void 0===i?zn(t.default,r.default):s(t,r,i,l,c)}}}(this._parameters,this._specification))}static deserialize(e){return new Gn(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}class qn{constructor(e,t,r,n){this.message=(e?e+": ":"")+r,n&&(this.identifier=n),null!=t&&t.__line__&&(this.line=t.__line__)}}function Zn(e){const t=e.key,r=e.value,n=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec;let s=[];const l=An(r);if("object"!==l)return[new qn(t,r,`object expected, ${l} found`)];for(const e in r){const l=e.split(".")[0],c=n[l]||n["*"];let u;i[l]?u=i[l]:n[l]?u=xi:i["*"]?u=i["*"]:n["*"]&&(u=xi),u?s=s.concat(u({key:(t?t+".":t)+e,value:r[e],valueSpec:c,style:o,styleSpec:a,object:r,objectKey:e},r)):s.push(new qn(t,r[e],`unknown property "${e}"`))}for(const e in n)i[e]||n[e].required&&void 0===n[e].default&&void 0===r[e]&&s.push(new qn(t,r,`missing required property "${e}"`));return s}function $n(e){const t=e.value,r=e.valueSpec,n=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||xi;if("array"!==An(t))return[new qn(o,t,`array expected, ${An(t)} found`)];if(r.length&&t.length!==r.length)return[new qn(o,t,`array length ${r.length} expected, length ${t.length} found`)];if(r["min-length"]&&t.length<r["min-length"])return[new qn(o,t,`array length at least ${r["min-length"]} expected, length ${t.length} found`)];let s={type:r.value,values:r.values,minimum:r.minimum,maximum:r.maximum,function:void 0};i.$version<7&&(s.function=r.function),"object"===An(r.value)&&(s=r.value);let l=[];for(let e=0;e<t.length;e++)l=l.concat(a({array:t,arrayIndex:e,value:t[e],valueSpec:s,style:n,styleSpec:i,key:`${o}[${e}]`}));return l}function Wn(e){const t=e.key,r=e.value,n=e.valueSpec;let i=An(r);if("number"===i&&r!=r&&(i="NaN"),"number"!==i)return[new qn(t,r,`number expected, ${i} found`)];if("minimum"in n){let i=n.minimum;if("array"===An(n.minimum)&&(i=n.minimum[e.arrayIndex]),r<i)return[new qn(t,r,`${r} is less than the minimum value ${i}`)]}if("maximum"in n){let i=n.maximum;if("array"===An(n.maximum)&&(i=n.maximum[e.arrayIndex]),r>i)return[new qn(t,r,`${r} is greater than the maximum value ${i}`)]}return[]}function Xn(e){const t=e.valueSpec,r=Je(e.value.type);let n,i,o,a={};const s="categorical"!==r&&void 0===e.value.property,l=!s,c="array"===An(e.value.stops)&&"array"===An(e.value.stops[0])&&"object"===An(e.value.stops[0][0]),u=Zn({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===r)return[new qn(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const n=e.value;return t=t.concat($n({key:e.key,value:n,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:h})),"array"===An(n)&&0===n.length&&t.push(new qn(e.key,n,"array must have at least one stop")),t},default:function(e){return xi({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===r&&s&&u.push(new qn(e.key,e.value,'missing required property "property"')),"identity"===r||e.value.stops||u.push(new qn(e.key,e.value,'missing required property "stops"')),"exponential"===r&&e.valueSpec.expression&&!kn(e.valueSpec)&&u.push(new qn(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Cn(e.valueSpec)?u.push(new qn(e.key,e.value,"property functions not supported")):s&&!Mn(e.valueSpec)&&u.push(new qn(e.key,e.value,"zoom functions not supported"))),"categorical"!==r&&!c||void 0!==e.value.property||u.push(new qn(e.key,e.value,'"property" property is required')),u;function h(e){let r=[];const n=e.value,s=e.key;if("array"!==An(n))return[new qn(s,n,`array expected, ${An(n)} found`)];if(2!==n.length)return[new qn(s,n,`array length 2 expected, length ${n.length} found`)];if(c){if("object"!==An(n[0]))return[new qn(s,n,`object expected, ${An(n[0])} found`)];if(void 0===n[0].zoom)return[new qn(s,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new qn(s,n,"object stop key must have value")];const t=Je(n[0].zoom);if("number"!=typeof t)return[new qn(s,n[0].zoom,"stop zoom values must be numbers")];if(o&&o>t)return[new qn(s,n[0].zoom,"stop zoom values must appear in ascending order")];t!==o&&(o=t,i=void 0,a={}),r=r.concat(Zn({key:s+"[0]",value:n[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Wn,value:d}}))}else r=r.concat(d({key:s+"[0]",value:n[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},n));return Fn(Qe(n[1]))?r.concat([new qn(s+"[1]",n[1],"expressions are not allowed in function stops.")]):r.concat(xi({key:s+"[1]",value:n[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function d(e,o){const s=An(e.value),l=Je(e.value),c=null!==e.value?e.value:o;if(n){if(s!==n)return[new qn(e.key,c,`${s} stop domain type must match previous stop domain type ${n}`)]}else n=s;if("number"!==s&&"string"!==s&&"boolean"!==s&&"number"!=typeof l&&"string"!=typeof l&&"boolean"!=typeof l)return[new qn(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==r){let n=`number expected, ${s} found`;return Cn(t)&&void 0===r&&(n+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new qn(e.key,c,n)]}return"categorical"!==r||"number"!==s||"number"==typeof l&&isFinite(l)&&Math.floor(l)===l?"categorical"!==r&&"number"===s&&"number"==typeof l&&"number"==typeof i&&void 0!==i&&l<i?[new qn(e.key,c,"stop domain values must appear in ascending order")]:(i=l,"categorical"===r&&l in a?[new qn(e.key,c,"stop domain values must be unique")]:(a[l]=!0,[])):[new qn(e.key,c,"integer expected, found "+String(l))]}}function Hn(e){const t=("property"===e.expressionContext?Vn:jn)(Qe(e.value),e.valueSpec);if("error"===t.result)return t.value.map(t=>new qn(`${e.key}${t.key}`,e.value,t.message));const r=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!r.outputDefined())return[new qn(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!_r(r))return[new qn(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext)return function e(t,r){const n=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(r.valueSpec&&r.valueSpec.expression)for(const e of r.valueSpec.expression.parameters)n.delete(e);if(0===n.size)return[];const i=[];return t instanceof Yt&&n.has(t.name)?[new qn(r.key,r.value,`["${t.name}"] expression is not supported in a filter for a ${r.object.type} layer with id: ${r.object.id}`)]:(t.eachChild(t=>{i.push(...e(t,r))}),i)}(r,e);if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!yr(r,["zoom","feature-state"]))return[new qn(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!gr(r))return[new qn(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Yn(e){const t=e.key,r=e.value,n=e.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(Je(r))&&i.push(new qn(t,r,`expected one of [${n.values.join(", ")}], ${JSON.stringify(r)} found`)):-1===Object.keys(n.values).indexOf(Je(r))&&i.push(new qn(t,r,`expected one of [${Object.keys(n.values).join(", ")}], ${JSON.stringify(r)} found`)),i}function Kn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!Kn(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}function Jn(e,t="fill"){if(null==e)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Kn(e)||(e=ni(e));const r=e;let n=!0;try{n=function(e){if(!Qn(e))return e;let t=Qe(e);return function e(t){let r=!1;const n=[];if("case"===t[0]){for(let e=1;e<t.length-1;e+=2)r=r||Qn(t[e]),n.push(t[e+1]);n.push(t[t.length-1])}else if("match"===t[0]){r=r||Qn(t[1]);for(let e=2;e<t.length-1;e+=2)n.push(t[e+1]);n.push(t[t.length-1])}else if("step"===t[0]){r=r||Qn(t[1]);for(let e=1;e<t.length-1;e+=2)n.push(t[e+1])}r&&(t.length=0,t.push("any",...n));for(let r=1;r<t.length;r++)e(t[r])}(t),t=function e(t){if(!Array.isArray(t))return t;const r=function(e){if(ei.has(e[0]))for(let t=1;t<e.length;t++)if(Qn(e[t]))return!0;return e}(t);return!0===r?r:r.map(t=>e(t))}(t),t}(r)}catch(e){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(r,null,2)}\n        `)}const i=Ye["filter_"+t],o=jn(n,i);let a=null;if("error"===o.result)throw new Error(o.value.map(e=>`${e.key}: ${e.message}`).join(", "));a=(e,t,r)=>o.value.evaluate(e,t,{},r);let s=null,l=null;if(n!==r){const e=jn(r,i);if("error"===e.result)throw new Error(e.value.map(e=>`${e.key}: ${e.message}`).join(", "));s=(t,r,n,i,o)=>e.value.evaluate(t,r,{},n,void 0,void 0,i,o),l=!gr(e.value.expression)}return{filter:a,dynamicFilter:s||void 0,needGeometry:ri(n),needFeature:!!l}}function Qn(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;var t;for(let t=1;t<e.length;t++)if(Qn(e[t]))return!0;return!1}const ei=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function ti(e,t){return e<t?-1:e>t?1:0}function ri(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(ri(e[t]))return!0;return!1}function ni(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?ii(e[1],e[2],"=="):"!="===t?si(ii(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?ii(e[1],e[2],t):"any"===t?(r=e.slice(1),["any"].concat(r.map(ni))):"all"===t?["all"].concat(e.slice(1).map(ni)):"none"===t?["all"].concat(e.slice(1).map(ni).map(si)):"in"===t?oi(e[1],e.slice(2)):"!in"===t?si(oi(e[1],e.slice(2))):"has"===t?ai(e[1]):"!has"===t?si(ai(e[1])):"within"!==t||e;var r}function ii(e,t,r){switch(e){case"$type":return["filter-type-"+r,t];case"$id":return["filter-id-"+r,t];default:return["filter-"+r,e,t]}}function oi(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",e,["literal",t.sort(ti)]]:["filter-in-small",e,["literal",t]]}}function ai(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function si(e){return["!",e]}function li(e){return Kn(Qe(e.value))?Hn(Ke({},e,{expressionContext:"filter",valueSpec:e.styleSpec["filter_"+(e.layerType||"fill")]})):function e(t){const r=t.value,n=t.key;if("array"!==An(r))return[new qn(n,r,`array expected, ${An(r)} found`)];const i=t.styleSpec;let o,a=[];if(r.length<1)return[new qn(n,r,"filter array must have at least 1 element")];switch(a=a.concat(Yn({key:n+"[0]",value:r[0],valueSpec:i.filter_operator,style:t.style,styleSpec:t.styleSpec})),Je(r[0])){case"<":case"<=":case">":case">=":r.length>=2&&"$type"===Je(r[1])&&a.push(new qn(n,r,`"$type" cannot be use with operator "${r[0]}"`));case"==":case"!=":3!==r.length&&a.push(new qn(n,r,`filter array for operator "${r[0]}" must have 3 elements`));case"in":case"!in":r.length>=2&&(o=An(r[1]),"string"!==o&&a.push(new qn(n+"[1]",r[1],`string expected, ${o} found`)));for(let e=2;e<r.length;e++)o=An(r[e]),"$type"===Je(r[1])?a=a.concat(Yn({key:`${n}[${e}]`,value:r[e],valueSpec:i.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&a.push(new qn(`${n}[${e}]`,r[e],`string, number, or boolean expected, ${o} found`));break;case"any":case"all":case"none":for(let i=1;i<r.length;i++)a=a.concat(e({key:`${n}[${i}]`,value:r[i],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":o=An(r[1]),2!==r.length?a.push(new qn(n,r,`filter array for "${r[0]}" operator must have 2 elements`)):"string"!==o&&a.push(new qn(n+"[1]",r[1],`string expected, ${o} found`));break;case"within":o=An(r[1]),2!==r.length?a.push(new qn(n,r,`filter array for "${r[0]}" operator must have 2 elements`)):"object"!==o&&a.push(new qn(n+"[1]",r[1],`object expected, ${o} found`))}return a}(e)}function ci(e,t){const r=e.key,n=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,s=i[`${t}_${e.layerType}`];if(!s)return[];const l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return xi({key:r,value:o,valueSpec:i.transition,style:n,styleSpec:i});const c=e.valueSpec||s[a];if(!c)return[new qn(r,o,`unknown property "${a}"`)];let u;if("string"===An(o)&&Cn(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new qn(r,o,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)];const h=[];return"symbol"===e.layerType&&("text-field"===a&&n&&!n.glyphs&&h.push(new qn(r,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&In(Qe(o))&&"identity"===Je(o.type)&&h.push(new qn(r,o,'"text-font" does not support identity functions'))),h.concat(xi({key:e.key,value:o,valueSpec:c,style:n,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function ui(e){return ci(e,"paint")}function hi(e){return ci(e,"layout")}function di(e){let t=[];const r=e.value,n=e.key,i=e.style,o=e.styleSpec;r.type||r.ref||t.push(new qn(n,r,'either "type" or "ref" is required'));let a=Je(r.type);const s=Je(r.ref);if(r.id){const o=Je(r.id);for(let a=0;a<e.arrayIndex;a++){const e=i.layers[a];Je(e.id)===o&&t.push(new qn(n,r.id,`duplicate layer id "${r.id}", previously used at line ${e.id.__line__}`))}}if("ref"in r){let e;["type","source","source-layer","filter","layout"].forEach(e=>{e in r&&t.push(new qn(n,r[e],`"${e}" is prohibited for ref layers`))}),i.layers.forEach(t=>{Je(t.id)===s&&(e=t)}),e?e.ref?t.push(new qn(n,r.ref,"ref cannot reference another ref layer")):a=Je(e.type):"string"==typeof s&&t.push(new qn(n,r.ref,`ref layer "${s}" not found`))}else if("background"!==a&&"sky"!==a)if(r.source){const e=i.sources&&i.sources[r.source],o=e&&Je(e.type);e?"vector"===o&&"raster"===a?t.push(new qn(n,r.source,`layer "${r.id}" requires a raster source`)):"raster"===o&&"raster"!==a?t.push(new qn(n,r.source,`layer "${r.id}" requires a vector source`)):"vector"!==o||r["source-layer"]?"raster-dem"===o&&"hillshade"!==a?t.push(new qn(n,r.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!r.paint||!r.paint["line-gradient"]&&!r.paint["line-trim-offset"]||"geojson"===o&&e.lineMetrics||t.push(new qn(n,r,`layer "${r.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new qn(n,r,`layer "${r.id}" must specify a "source-layer"`)):t.push(new qn(n,r.source,`source "${r.source}" not found`))}else t.push(new qn(n,r,'missing required property "source"'));return t=t.concat(Zn({key:n,value:r,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>xi({key:n+".type",value:r.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:r,objectKey:"type"}),filter:e=>li(Ke({layerType:a},e)),layout:e=>Zn({layer:r,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>hi(Ke({layerType:a},e))}}),paint:e=>Zn({layer:r,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>ui(Ke({layerType:a},e))}})}})),t}function pi(e){const t=e.value,r=e.key,n=An(t);return"string"!==n?[new qn(r,t,`string expected, ${n} found`)]:[]}const fi={promoteId:function({key:e,value:t}){if("string"===An(t))return pi({key:e,value:t});{const r=[];for(const n in t)r.push(...pi({key:`${e}.${n}`,value:t[n]}));return r}}};function mi(e){const t=e.value,r=e.key,n=e.styleSpec,i=e.style;if(!t.type)return[new qn(r,t,'"type" is required')];const o=Je(t.type);let a;switch(o){case"vector":case"raster":case"raster-dem":return a=Zn({key:r,value:t,valueSpec:n["source_"+o.replace("-","_")],style:e.style,styleSpec:n,objectElementValidators:fi}),a;case"geojson":if(a=Zn({key:r,value:t,valueSpec:n.source_geojson,style:i,styleSpec:n,objectElementValidators:fi}),t.cluster)for(const e in t.clusterProperties){const[n,i]=t.clusterProperties[e],o="string"==typeof n?[n,["accumulated"],["get",e]]:n;a.push(...Hn({key:`${r}.${e}.map`,value:i,expressionContext:"cluster-map"})),a.push(...Hn({key:`${r}.${e}.reduce`,value:o,expressionContext:"cluster-reduce"}))}return a;case"video":return Zn({key:r,value:t,valueSpec:n.source_video,style:i,styleSpec:n});case"image":return Zn({key:r,value:t,valueSpec:n.source_image,style:i,styleSpec:n});case"canvas":return[new qn(r,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Yn({key:r+".type",value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:n})}}function gi(e){const t=e.value,r=e.styleSpec,n=r.light,i=e.style;let o=[];const a=An(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new qn("light",t,`object expected, ${a} found`)]),o;for(const e in t){const a=e.match(/^(.*)-transition$/);o=o.concat(a&&n[a[1]]&&n[a[1]].transition?xi({key:e,value:t[e],valueSpec:r.transition,style:i,styleSpec:r}):n[e]?xi({key:e,value:t[e],valueSpec:n[e],style:i,styleSpec:r}):[new qn(e,t[e],`unknown property "${e}"`)])}return o}function _i(e){const t=e.value,r=e.key,n=e.style,i=e.styleSpec,o=i.terrain;let a=[];const s=An(t);if(void 0===t)return a;if("object"!==s)return a=a.concat([new qn("terrain",t,`object expected, ${s} found`)]),a;for(const e in t){const r=e.match(/^(.*)-transition$/);a=a.concat(r&&o[r[1]]&&o[r[1]].transition?xi({key:e,value:t[e],valueSpec:i.transition,style:n,styleSpec:i}):o[e]?xi({key:e,value:t[e],valueSpec:o[e],style:n,styleSpec:i}):[new qn(e,t[e],`unknown property "${e}"`)])}if(t.source){const e=n.sources&&n.sources[t.source],i=e&&Je(e.type);e?"raster-dem"!==i&&a.push(new qn(r,t.source,`terrain cannot be used with a source of type ${String(i)}, it only be used with a "raster-dem" source type`)):a.push(new qn(r,t.source,`source "${t.source}" not found`))}else a.push(new qn(r,t,'terrain is missing required property "source"'));return a}function yi(e){const t=e.value,r=e.style,n=e.styleSpec,i=n.fog;let o=[];const a=An(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new qn("fog",t,`object expected, ${a} found`)]),o;for(const e in t){const a=e.match(/^(.*)-transition$/);o=o.concat(a&&i[a[1]]&&i[a[1]].transition?xi({key:e,value:t[e],valueSpec:n.transition,style:r,styleSpec:n}):i[e]?xi({key:e,value:t[e],valueSpec:i[e],style:r,styleSpec:n}):[new qn(e,t[e],`unknown property "${e}"`)])}return o}const vi={"*":()=>[],array:$n,boolean:function(e){const t=e.value,r=e.key,n=An(t);return"boolean"!==n?[new qn(r,t,`boolean expected, ${n} found`)]:[]},number:Wn,color:function(e){const t=e.key,r=e.value,n=An(r);return"string"!==n?[new qn(t,r,`color expected, ${n} found`)]:null===xt(r)?[new qn(t,r,`color expected, "${r}" found`)]:[]},enum:Yn,filter:li,function:Xn,layer:di,object:Zn,source:mi,light:gi,terrain:_i,fog:yi,string:pi,formatted:function(e){return 0===pi(e).length?[]:Hn(e)},resolvedImage:function(e){return 0===pi(e).length?[]:Hn(e)},projection:function(e){const t=e.value,r=e.styleSpec,n=r.projection,i=e.style;let o=[];const a=An(t);if("object"===a)for(const e in t)o=o.concat(xi({key:e,value:t[e],valueSpec:n[e],style:i,styleSpec:r}));else"string"!==a&&(o=o.concat([new qn("projection",t,`object or string expected, ${a} found`)]));return o}};function xi(e){const t=e.value,r=e.valueSpec,n=e.styleSpec;return r.expression&&In(Je(t))?Xn(e):r.expression&&Fn(Qe(t))?Hn(e):r.type&&vi[r.type]?vi[r.type](e):Zn(Ke({},e,{valueSpec:r.type?n[r.type]:r}))}function bi(e){const t=e.value,r=e.key,n=pi(e);return n.length||(-1===t.indexOf("{fontstack}")&&n.push(new qn(r,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&n.push(new qn(r,t,'"glyphs" url must include a "{range}" token'))),n}function wi(e,t=Ye){return Si(xi({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:bi,"*":()=>[]}}))}const Ti=e=>Si(ui(e)),Ei=e=>Si(hi(e));function Si(e){return e.slice().sort((e,t)=>e.line&&t.line?e.line-t.line:0)}function Ci(e,t){let r=!1;if(t&&t.length)for(const n of t)e.fire(new Xe(new Error(n.message))),r=!0;return r}var Mi=ki;function ki(e,t,r){var n=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(r=i[2]);for(var o=0;o<this.d*this.d;o++){var a=i[3+o],s=i[3+o+1];n.push(a===s?null:i.subarray(a,s))}var l=i[3+n.length+1];this.keys=i.subarray(i[3+n.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*r;for(var c=0;c<this.d*this.d;c++)n.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=r,this.scale=t/e,this.uid=0;var u=r/t*e;this.min=-u,this.max=e+u}ki.prototype.insert=function(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)},ki.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ki.prototype._insertCell=function(e,t,r,n,i,o){this.cells[i].push(o)},ki.prototype.query=function(e,t,r,n,i){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=r&&a<=n&&!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,r,n,this._queryCell,s,{},i),s},ki.prototype._queryCell=function(e,t,r,n,i,o,a,s){var l=this.cells[i];if(null!==l)for(var c=this.keys,u=this.bboxes,h=0;h<l.length;h++){var d=l[h];if(void 0===a[d]){var p=4*d;(s?s(u[p+0],u[p+1],u[p+2],u[p+3]):e<=u[p+2]&&t<=u[p+3]&&r>=u[p+0]&&n>=u[p+1])?(a[d]=!0,o.push(c[d])):a[d]=!1}}},ki.prototype._forEachCell=function(e,t,r,n,i,o,a,s){for(var l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(r),h=this._convertToCellCoord(n),d=l;d<=u;d++)for(var p=c;p<=h;p++){var f=this.d*p+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(p),this._convertFromCellCoord(d+1),this._convertFromCellCoord(p+1)))&&i.call(this,e,t,r,n,f,o,a,s))return}},ki.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},ki.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},ki.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,r=0,n=0;n<this.cells.length;n++)r+=this.cells[n].length;var i=new Int32Array(t+r+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];i[3+a]=o,i.set(s,o),o+=s.length}return i[3+e.length]=o,i.set(this.keys,o),i[3+e.length+1]=o+=this.keys.length,i.set(this.bboxes,o),o+=this.bboxes.length,i.buffer};const Ai={};function Ii(e,t,r={}){Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Ai[t]={klass:e,omit:r.omit||[]}}Ii(Object,"Object"),Mi.serialize=function(e,t){const r=e.toArrayBuffer();return t&&t.push(r),{buffer:r}},Mi.deserialize=function(e){return new Mi(e.buffer)},Object.defineProperty(Mi,"name",{value:"Grid"}),Ii(Mi,"Grid"),Ii(Mt,"Color"),Ii(Error,"Error"),Ii(se,"AJAXError"),Ii(Pt,"ResolvedImage"),Ii(Gn,"StylePropertyFunction"),Ii(Bn,"StyleExpression",{omit:["_evaluator"]}),Ii(Nn,"ZoomDependentExpression"),Ii(Un,"ZoomConstantExpression"),Ii(Yt,"CompoundExpression",{omit:["_evaluate"]});for(const e in Tn)Ai[Tn[e]._classRegistryKey]||Ii(Tn[e],"Expression"+e);function Pi(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function zi(e){return r.ImageBitmap&&e instanceof r.ImageBitmap}function Di(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Pi(e)||zi(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){const r=e;return t&&t.push(r.buffer),r}if(e instanceof r.ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const r=[];for(const n of e)r.push(Di(n,t));return r}if("object"==typeof e){const r=e.constructor,n=r._classRegistryKey;if(!n)throw new Error("can't serialize object of unregistered class "+n);const i=r.serialize?r.serialize(e,t):{};if(!r.serialize){for(const r in e)e.hasOwnProperty(r)&&(Ai[n].omit.indexOf(r)>=0||(i[r]=Di(e[r],t)));e instanceof Error&&(i.message=e.message)}if(i.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==n&&(i.$name=n),i}throw new Error("can't serialize object of type "+typeof e)}function Ri(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Pi(e)||zi(e)||ArrayBuffer.isView(e)||e instanceof r.ImageData)return e;if(Array.isArray(e))return e.map(Ri);if("object"==typeof e){const t=e.$name||"Object",{klass:r}=Ai[t];if(!r)throw new Error("can't deserialize unregistered class "+t);if(r.deserialize)return r.deserialize(e);const n=Object.create(r.prototype);for(const t of Object.keys(e))"$name"!==t&&(n[t]=Ri(e[t]));return n}throw new Error("can't deserialize object of type "+typeof e)}class Li{constructor(){this.first=!0}update(e,t){const r=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=r,!0):(this.lastFloorZoom>r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<r&&(this.lastIntegerZoom=r,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=r,!0))}}const Oi=e=>e>=1536&&e<=1791,Bi=e=>e>=1872&&e<=1919,Fi=e=>e>=2208&&e<=2303,ji=e=>e>=11904&&e<=12031,Ui=e=>e>=12032&&e<=12255,Ni=e=>e>=12272&&e<=12287,Vi=e=>e>=12288&&e<=12351,Gi=e=>e>=12352&&e<=12447,qi=e=>e>=12448&&e<=12543,Zi=e=>e>=12544&&e<=12591,$i=e=>e>=12704&&e<=12735,Wi=e=>e>=12736&&e<=12783,Xi=e=>e>=12784&&e<=12799,Hi=e=>e>=12800&&e<=13055,Yi=e=>e>=13056&&e<=13311,Ki=e=>e>=13312&&e<=19903,Ji=e=>e>=19968&&e<=40959,Qi=e=>e>=40960&&e<=42127,eo=e=>e>=42128&&e<=42191,to=e=>e>=44032&&e<=55215,ro=e=>e>=63744&&e<=64255,no=e=>e>=64336&&e<=65023,io=e=>e>=65040&&e<=65055,oo=e=>e>=65072&&e<=65103,ao=e=>e>=65104&&e<=65135,so=e=>e>=65136&&e<=65279,lo=e=>e>=65280&&e<=65519;function co(e){for(const t of e)if(po(t.charCodeAt(0)))return!0;return!1}function uo(e){for(const t of e)if(!ho(t.charCodeAt(0)))return!1;return!0}function ho(e){return!(Oi(e)||Bi(e)||Fi(e)||no(e)||so(e))}function po(e){return!(746!==e&&747!==e&&(e<4352||!($i(e)||Zi(e)||oo(e)&&!(e>=65097&&e<=65103)||ro(e)||Yi(e)||ji(e)||Wi(e)||!(!Vi(e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Ki(e)||Ji(e)||Hi(e)||(e=>e>=12592&&e<=12687)(e)||(e=>e>=43360&&e<=43391)(e)||(e=>e>=55216&&e<=55295)(e)||(e=>e>=4352&&e<=4607)(e)||to(e)||Gi(e)||Ni(e)||(e=>e>=12688&&e<=12703)(e)||Ui(e)||Xi(e)||qi(e)&&12540!==e||!(!lo(e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!ao(e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||(e=>e>=5120&&e<=5759)(e)||(e=>e>=6320&&e<=6399)(e)||io(e)||(e=>e>=19904&&e<=19967)(e)||Qi(e)||eo(e))))}function fo(e){return!(po(e)||function(e){return!!((e=>e>=128&&e<=255)(e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||(e=>e>=8192&&e<=8303)(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||(e=>e>=8448&&e<=8527)(e)||(e=>e>=8528&&e<=8591)(e)||(e=>e>=8960&&e<=9215)(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||(e=>e>=9216&&e<=9279)(e)&&9251!==e||(e=>e>=9280&&e<=9311)(e)||(e=>e>=9312&&e<=9471)(e)||(e=>e>=9632&&e<=9727)(e)||(e=>e>=9728&&e<=9983)(e)&&!(e>=9754&&e<=9759)||(e=>e>=11008&&e<=11263)(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Vi(e)||qi(e)||(e=>e>=57344&&e<=63743)(e)||oo(e)||ao(e)||lo(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function mo(e){return e>=1424&&e<=2303||no(e)||so(e)}function go(e,t){return!(!t&&mo(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||(e=>e>=6016&&e<=6143)(e))}function _o(e){for(const t of e)if(mo(t.charCodeAt(0)))return!0;return!1}const yo="deferred",vo="loading",xo="loaded";let bo=null,wo="unavailable",To=null;const Eo=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(wo="error"),bo&&bo(e)};function So(){Co.fire(new We("pluginStateChange",{pluginStatus:wo,pluginURL:To}))}const Co=new He,Mo=function(){return wo},ko=function(){if(wo!==yo||!To)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");wo=vo,So(),To&&ue({url:To},e=>{e?Eo(e):(wo=xo,So())})},Ao={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>wo===xo||null!=Ao.applyArabicShaping,isLoading:()=>wo===vo,setState(e){wo=e.pluginStatus,To=e.pluginURL},isParsed:()=>null!=Ao.applyArabicShaping&&null!=Ao.processBidirectionalText&&null!=Ao.processStyledBidirectionalText,getPluginURL:()=>To};class Io{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition,this.pitch=t.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Li,this.transition={},this.pitch=0)}isSupportedScript(e){return function(e,t){for(const r of e)if(!go(r.charCodeAt(0),t))return!1;return!0}(e,Ao.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,t=e-Math.floor(e),r=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*t}}}class Po{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(In(e))return new Gn(e,t);if(Fn(e)){const r=Vn(e,t);if("error"===r.result)throw new Error(r.value.map(e=>`${e.key}: ${e.message}`).join(", "));return r.value}{let r=e;return"string"==typeof e&&"color"===t.type&&(r=Mt.parse(e)),{kind:"constant",evaluate:()=>r}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,r){return this.property.possiblyEvaluate(this,e,t,r)}}class zo{constructor(e){this.property=e,this.value=new Po(e,void 0)}transitioned(e,t){return new Ro(this.property,this.value,t,I({},e.transition,this.transition),e.now)}untransitioned(){return new Ro(this.property,this.value,null,{},0)}}class Do{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return U(this._values[e].value.value)}setValue(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new zo(this._values[e].property)),this._values[e].value=new Po(this._values[e].property,null===t?void 0:U(t))}getTransition(e){return U(this._values[e].transition)}setTransition(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new zo(this._values[e].property)),this._values[e].transition=U(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const r=this.getValue(t);void 0!==r&&(e[t]=r);const n=this.getTransition(t);void 0!==n&&(e[t+"-transition"]=n)}return e}transitioned(e,t){const r=new Lo(this._properties);for(const n of Object.keys(this._values))r._values[n]=this._values[n].transitioned(e,t._values[n]);return r}untransitioned(){const e=new Lo(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class Ro{constructor(e,t,r,n,i){const o=n.delay||0,a=n.duration||0;i=i||0,this.property=e,this.value=t,this.begin=i+o,this.end=this.begin+a,e.specification.transition&&(n.delay||n.duration)&&(this.prior=r)}possiblyEvaluate(e,t,r){const n=e.now||0,i=this.value.possiblyEvaluate(e,t,r),o=this.prior;if(o){if(n>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n<this.begin)return o.possiblyEvaluate(e,t,r);{const a=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,r),i,w(a))}}return i}}class Lo{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,r){const n=new Fo(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(e,t,r);return n}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class Oo{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return U(this._values[e].value)}setValue(e,t){this._values[e]=new Po(this._values[e].property,null===t?void 0:U(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const r=this.getValue(t);void 0!==r&&(e[t]=r)}return e}possiblyEvaluate(e,t,r){const n=new Fo(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].possiblyEvaluate(e,t,r);return n}}class Bo{constructor(e,t,r){this.property=e,this.value=t,this.parameters=r}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,r,n){return this.property.evaluate(this.value,this.parameters,e,t,r,n)}}class Fo{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class jo{constructor(e){this.specification=e}possiblyEvaluate(e,t){return e.expression.evaluate(t)}interpolate(e,t,r){const n=Mr[this.specification.type];return n?n(e,t,r):e}}class Uo{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,r,n){return new Bo(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},r,n)}:e.expression,t)}interpolate(e,t,r){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new Bo(this,{kind:"constant",value:void 0},e.parameters);const n=Mr[this.specification.type];return n?new Bo(this,{kind:"constant",value:n(e.value.value,t.value.value,r)},e.parameters):e}evaluate(e,t,r,n,i,o){return"constant"===e.kind?e.value:e.evaluate(t,r,n,i,o)}}class No extends Uo{possiblyEvaluate(e,t,r,n){if(void 0===e.value)return new Bo(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},r,n),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,t);return new Bo(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){const r=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new Bo(this,{kind:"constant",value:r},t)}return new Bo(this,e.expression,t)}evaluate(e,t,r,n,i,o){if("source"===e.kind){const a=e.evaluate(t,r,n,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},r,n),e.evaluate({zoom:Math.floor(t.zoom)},r,n),e.evaluate({zoom:Math.floor(t.zoom)+1},r,n),t):e.value}_calculate(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t,other:r}:{from:r,to:t,other:e}}interpolate(e){return e}}class Vo{constructor(e){this.specification=e}possiblyEvaluate(e,t,r,n){if(void 0!==e.value){if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},r,n);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new Io(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Io(Math.floor(t.zoom),t)),e.expression.evaluate(new Io(Math.floor(t.zoom+1),t)),t)}}_calculate(e,t,r,n){return n.zoom>n.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:r,to:t}}interpolate(e){return e}}class Go{constructor(e){this.specification=e}possiblyEvaluate(e,t,r,n){return!!e.expression.evaluate(t,null,{},r,n)}interpolate(){return!1}}class qo{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const t=new Io(0,{});for(const r in e){const n=e[r];n.specification.overridable&&this.overridableProperties.push(r);const i=this.defaultPropertyValues[r]=new Po(n,void 0),o=this.defaultTransitionablePropertyValues[r]=new zo(n);this.defaultTransitioningPropertyValues[r]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[r]=i.possiblyEvaluate(t)}}}function Zo(e,t){return 256*(e=S(Math.floor(e),0,255))+S(Math.floor(t),0,255)}Ii(Uo,"DataDrivenProperty"),Ii(jo,"DataConstantProperty"),Ii(No,"CrossFadedDataDrivenProperty"),Ii(Vo,"CrossFadedProperty"),Ii(Go,"ColorRampProperty");const $o={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Wo{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Xo{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Ho(e,t=1){let r=0,n=0;return{members:e.map(e=>{const i=$o[e.type].BYTES_PER_ELEMENT,o=r=Yo(r,Math.max(t,i)),a=e.components||1;return n=Math.max(n,i),r+=i*a,{name:e.name,type:e.type,components:a,offset:o}}),size:Yo(r,Math.max(n,t)),alignment:t}}function Yo(e,t){return Math.ceil(e/t)*t}class Ko extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){const n=2*e;return this.int16[n+0]=t,this.int16[n+1]=r,e}}Ko.prototype.bytesPerElement=4,Ii(Ko,"StructArrayLayout2i4");class Jo extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){const i=3*e;return this.int16[i+0]=t,this.int16[i+1]=r,this.int16[i+2]=n,e}}Jo.prototype.bytesPerElement=6,Ii(Jo,"StructArrayLayout3i6");class Qo extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){const o=4*e;return this.int16[o+0]=t,this.int16[o+1]=r,this.int16[o+2]=n,this.int16[o+3]=i,e}}Qo.prototype.bytesPerElement=8,Ii(Qo,"StructArrayLayout4i8");class ea extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,r,n,i,o,a)}emplace(e,t,r,n,i,o,a,s){const l=6*e,c=12*e,u=3*e;return this.int16[l+0]=t,this.int16[l+1]=r,this.uint8[c+4]=n,this.uint8[c+5]=i,this.uint8[c+6]=o,this.uint8[c+7]=a,this.float32[u+2]=s,e}}ea.prototype.bytesPerElement=12,Ii(ea,"StructArrayLayout2i4ub1f12");class ta extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){const o=4*e;return this.float32[o+0]=t,this.float32[o+1]=r,this.float32[o+2]=n,this.float32[o+3]=i,e}}ta.prototype.bytesPerElement=16,Ii(ta,"StructArrayLayout4f16");class ra extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c){const u=this.length;return this.resize(u+1),this.emplace(u,e,t,r,n,i,o,a,s,l,c)}emplace(e,t,r,n,i,o,a,s,l,c,u){const h=10*e;return this.uint16[h+0]=t,this.uint16[h+1]=r,this.uint16[h+2]=n,this.uint16[h+3]=i,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=l,this.uint16[h+8]=c,this.uint16[h+9]=u,e}}ra.prototype.bytesPerElement=20,Ii(ra,"StructArrayLayout10ui20");class na extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s){const l=this.length;return this.resize(l+1),this.emplace(l,e,t,r,n,i,o,a,s)}emplace(e,t,r,n,i,o,a,s,l){const c=8*e;return this.uint16[c+0]=t,this.uint16[c+1]=r,this.uint16[c+2]=n,this.uint16[c+3]=i,this.uint16[c+4]=o,this.uint16[c+5]=a,this.uint16[c+6]=s,this.uint16[c+7]=l,e}}na.prototype.bytesPerElement=16,Ii(na,"StructArrayLayout8ui16");class ia extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)}emplace(e,t,r,n,i,o,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e}}ia.prototype.bytesPerElement=12,Ii(ia,"StructArrayLayout6i12");class oa extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c,u,h){const d=this.length;return this.resize(d+1),this.emplace(d,e,t,r,n,i,o,a,s,l,c,u,h)}emplace(e,t,r,n,i,o,a,s,l,c,u,h,d){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=r,this.int16[p+2]=n,this.int16[p+3]=i,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=h,this.int16[p+11]=d,e}}oa.prototype.bytesPerElement=24,Ii(oa,"StructArrayLayout4i4ui4i24");class aa extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,r,n,i,o)}emplace(e,t,r,n,i,o,a){const s=10*e,l=5*e;return this.int16[s+0]=t,this.int16[s+1]=r,this.int16[s+2]=n,this.float32[l+2]=i,this.float32[l+3]=o,this.float32[l+4]=a,e}}aa.prototype.bytesPerElement=20,Ii(aa,"StructArrayLayout3i3f20");class sa extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}sa.prototype.bytesPerElement=4,Ii(sa,"StructArrayLayout1ul4");class la extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c,u,h,d){const p=this.length;return this.resize(p+1),this.emplace(p,e,t,r,n,i,o,a,s,l,c,u,h,d)}emplace(e,t,r,n,i,o,a,s,l,c,u,h,d,p){const f=20*e,m=10*e;return this.int16[f+0]=t,this.int16[f+1]=r,this.int16[f+2]=n,this.int16[f+3]=i,this.int16[f+4]=o,this.float32[m+3]=a,this.float32[m+4]=s,this.float32[m+5]=l,this.float32[m+6]=c,this.int16[f+14]=u,this.uint32[m+8]=h,this.uint16[f+18]=d,this.uint16[f+19]=p,e}}la.prototype.bytesPerElement=40,Ii(la,"StructArrayLayout5i4f1i1ul2ui40");class ca extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,r,n,i,o,a)}emplace(e,t,r,n,i,o,a,s){const l=8*e;return this.int16[l+0]=t,this.int16[l+1]=r,this.int16[l+2]=n,this.int16[l+4]=i,this.int16[l+5]=o,this.int16[l+6]=a,this.int16[l+7]=s,e}}ca.prototype.bytesPerElement=16,Ii(ca,"StructArrayLayout3i2i2i16");class ua extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i)}emplace(e,t,r,n,i,o){const a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=r,this.float32[a+2]=n,this.int16[s+6]=i,this.int16[s+7]=o,e}}ua.prototype.bytesPerElement=16,Ii(ua,"StructArrayLayout2f1f2i16");class ha extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){const o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=r,this.float32[a+1]=n,this.float32[a+2]=i,e}}ha.prototype.bytesPerElement=12,Ii(ha,"StructArrayLayout2ub2f12");class da extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){const i=3*e;return this.float32[i+0]=t,this.float32[i+1]=r,this.float32[i+2]=n,e}}da.prototype.bytesPerElement=12,Ii(da,"StructArrayLayout3f12");class pa extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r){const n=this.length;return this.resize(n+1),this.emplace(n,e,t,r)}emplace(e,t,r,n){const i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=r,this.uint16[i+2]=n,e}}pa.prototype.bytesPerElement=6,Ii(pa,"StructArrayLayout3ui6");class fa extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x){const b=this.length;return this.resize(b+1),this.emplace(b,e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x)}emplace(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b){const w=30*e,T=15*e,E=60*e;return this.int16[w+0]=t,this.int16[w+1]=r,this.int16[w+2]=n,this.float32[T+2]=i,this.float32[T+3]=o,this.uint16[w+8]=a,this.uint16[w+9]=s,this.uint32[T+5]=l,this.uint32[T+6]=c,this.uint32[T+7]=u,this.uint16[w+16]=h,this.uint16[w+17]=d,this.uint16[w+18]=p,this.float32[T+10]=f,this.float32[T+11]=m,this.uint8[E+48]=g,this.uint8[E+49]=_,this.uint8[E+50]=y,this.uint32[T+13]=v,this.int16[w+28]=x,this.uint8[E+58]=b,e}}fa.prototype.bytesPerElement=60,Ii(fa,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class ma extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b,w,T,E,S,C,M,k,A){const I=this.length;return this.resize(I+1),this.emplace(I,e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b,w,T,E,S,C,M,k,A)}emplace(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b,w,T,E,S,C,M,k,A,I){const P=38*e,z=19*e;return this.int16[P+0]=t,this.int16[P+1]=r,this.int16[P+2]=n,this.float32[z+2]=i,this.float32[z+3]=o,this.int16[P+8]=a,this.int16[P+9]=s,this.int16[P+10]=l,this.int16[P+11]=c,this.int16[P+12]=u,this.int16[P+13]=h,this.uint16[P+14]=d,this.uint16[P+15]=p,this.uint16[P+16]=f,this.uint16[P+17]=m,this.uint16[P+18]=g,this.uint16[P+19]=_,this.uint16[P+20]=y,this.uint16[P+21]=v,this.uint16[P+22]=x,this.uint16[P+23]=b,this.uint16[P+24]=w,this.uint16[P+25]=T,this.uint16[P+26]=E,this.uint16[P+27]=S,this.uint16[P+28]=C,this.uint32[z+15]=M,this.float32[z+16]=k,this.float32[z+17]=A,this.float32[z+18]=I,e}}ma.prototype.bytesPerElement=76,Ii(ma,"StructArrayLayout3i2f6i15ui1ul3f76");class ga extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}ga.prototype.bytesPerElement=4,Ii(ga,"StructArrayLayout1f4");class _a extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,r,n,i){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,r,n,i)}emplace(e,t,r,n,i,o){const a=5*e;return this.float32[a+0]=t,this.float32[a+1]=r,this.float32[a+2]=n,this.float32[a+3]=i,this.float32[a+4]=o,e}}_a.prototype.bytesPerElement=20,Ii(_a,"StructArrayLayout5f20");class ya extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,r,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,r,n)}emplace(e,t,r,n,i){const o=6*e;return this.uint32[3*e+0]=t,this.uint16[o+2]=r,this.uint16[o+3]=n,this.uint16[o+4]=i,e}}ya.prototype.bytesPerElement=12,Ii(ya,"StructArrayLayout1ul3ui12");class va extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){const n=2*e;return this.uint16[n+0]=t,this.uint16[n+1]=r,e}}va.prototype.bytesPerElement=4,Ii(va,"StructArrayLayout2ui4");class xa extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}xa.prototype.bytesPerElement=2,Ii(xa,"StructArrayLayout1ui2");class ba extends Xo{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const r=this.length;return this.resize(r+1),this.emplace(r,e,t)}emplace(e,t,r){const n=2*e;return this.float32[n+0]=t,this.float32[n+1]=r,e}}ba.prototype.bytesPerElement=8,Ii(ba,"StructArrayLayout2f8");class wa extends Wo{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}wa.prototype.size=12;class Ta extends ia{get(e){return new wa(this,e)}}Ii(Ta,"FillExtrusionExtArray");class Ea extends Wo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Ea.prototype.size=40;class Sa extends la{get(e){return new Ea(this,e)}}Ii(Sa,"CollisionBoxArray");class Ca extends Wo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}Ca.prototype.size=60;class Ma extends fa{get(e){return new Ca(this,e)}}Ii(Ma,"PlacedSymbolArray");class ka extends Wo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}ka.prototype.size=76;class Aa extends ma{get(e){return new ka(this,e)}}Ii(Aa,"SymbolInstanceArray");class Ia extends ga{getoffsetX(e){return this.float32[1*e+0]}}Ii(Ia,"GlyphOffsetArray");class Pa extends Jo{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}Ii(Pa,"SymbolLineVertexArray");class za extends Wo{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}za.prototype.size=12;class Da extends ya{get(e){return new za(this,e)}}Ii(Da,"FeatureIndexArray");class Ra extends Wo{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}Ra.prototype.size=4;class La extends va{get(e){return new Ra(this,e)}}Ii(La,"FillExtrusionCentroidArray");class Oa extends Wo{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}Oa.prototype.size=12;class Ba extends ia{get(e){return new Oa(this,e)}}Ii(Ba,"CircleGlobeExtArray");const Fa=Ho([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),ja=Ho([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var Ua={exports:{}},Na={exports:{}};Na.exports=function(e,t){var r,n,i,o,a,s,l,c;for(n=e.length-(r=3&e.length),i=t,a=3432918353,s=461845907,c=0;c<n;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,r){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0};var Va={exports:{}};Va.exports=function(e,t){for(var r,n=e.length,i=t^n,o=0;n>=4;)r=1540483477*(65535&(r=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(r>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(r=1540483477*(65535&(r^=r>>>24))+((1540483477*(r>>>16)&65535)<<16)),n-=4,++o;switch(n){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0};var Ga=Na.exports,qa=Va.exports;Ua.exports=Ga,Ua.exports.murmur3=Ga,Ua.exports.murmur2=qa;class Za{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,r,n){this.ids.push($a(e)),this.positions.push(t,r,n)}getPositions(e){const t=$a(e);let r=0,n=this.ids.length-1;for(;r<n;){const e=r+n>>1;this.ids[e]>=t?n=e:r=e+1}const i=[];for(;this.ids[r]===t;)i.push({index:this.positions[3*r],start:this.positions[3*r+1],end:this.positions[3*r+2]}),r++;return i}static serialize(e,t){const r=new Float64Array(e.ids),n=new Uint32Array(e.positions);return function e(t,r,n,i){for(;n<i;){const o=t[n+i>>1];let a=n-1,s=i+1;for(;;){do{a++}while(t[a]<o);do{s--}while(t[s]>o);if(a>=s)break;Wa(t,a,s),Wa(r,3*a,3*s),Wa(r,3*a+1,3*s+1),Wa(r,3*a+2,3*s+2)}s-n<i-s?(e(t,r,n,s),n=s+1):(e(t,r,s+1,i),i=s)}}(r,n,0,r.length-1),t&&t.push(r.buffer,n.buffer),{ids:r,positions:n}}static deserialize(e){const t=new Za;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function $a(e){const t=+e;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:Ua.exports(String(e))}function Wa(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}Ii(Za,"FeaturePositionMap");class Xa{constructor(e){this.gl=e.gl,this.initialized=!1}fetchUniformLocation(e,t){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,t),this.initialized=!0),!!this.location}}class Ha extends Xa{constructor(e){super(e),this.current=0}set(e,t,r){this.fetchUniformLocation(e,t)&&this.current!==r&&(this.current=r,this.gl.uniform1f(this.location,r))}}class Ya extends Xa{constructor(e){super(e),this.current=[0,0,0,0]}set(e,t,r){this.fetchUniformLocation(e,t)&&(r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]&&r[3]===this.current[3]||(this.current=r,this.gl.uniform4f(this.location,r[0],r[1],r[2],r[3])))}}class Ka extends Xa{constructor(e){super(e),this.current=Mt.transparent}set(e,t,r){this.fetchUniformLocation(e,t)&&(r.r===this.current.r&&r.g===this.current.g&&r.b===this.current.b&&r.a===this.current.a||(this.current=r,this.gl.uniform4f(this.location,r.r,r.g,r.b,r.a)))}}const Ja=new Float32Array(16),Qa=new Float32Array(9),es=new Float32Array(4);function ts(e){return[Zo(255*e.r,255*e.g),Zo(255*e.b,255*e.a)]}class rs{constructor(e,t,r){this.value=e,this.uniformNames=t.map(e=>"u_"+e),this.type=r}setUniform(e,t,r,n,i){t.set(e,i,n.constantOr(this.value))}getBinding(e,t){return"color"===this.type?new Ka(e):new Ha(e)}}class ns{constructor(e,t){this.uniformNames=t.map(e=>"u_"+e),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio||1,this.pixelRatioTo=e.pixelRatio||1,this.patternFrom=t.tl.concat(t.br),this.patternTo=e.tl.concat(e.br)}setUniform(e,t,r,n,i){const o="u_pattern_to"===i||"u_dash_to"===i?this.patternTo:"u_pattern_from"===i||"u_dash_from"===i?this.patternFrom:"u_pixel_ratio_to"===i?this.pixelRatioTo:"u_pixel_ratio_from"===i?this.pixelRatioFrom:null;o&&t.set(e,i,o)}getBinding(e,t){return"u_pattern_from"===t||"u_pattern_to"===t||"u_dash_from"===t||"u_dash_to"===t?new Ya(e):new Ha(e)}}class is{constructor(e,t,r,n){this.expression=e,this.type=r,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===r?2:1,offset:0})),this.paintVertexArray=new n}populatePaintArray(e,t,r,n,i,o){const a=this.paintVertexArray.length,s=this.expression.evaluate(new Io(0),t,{},i,n,o);this.paintVertexArray.resize(e),this._setPaintValue(a,e,s)}updatePaintArray(e,t,r,n,i){const o=this.expression.evaluate({zoom:0},r,n,void 0,i);this._setPaintValue(e,t,o)}_setPaintValue(e,t,r){if("color"===this.type){const n=ts(r);for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n[0],n[1])}else{for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r);this.maxValue=Math.max(this.maxValue,Math.abs(r))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class os{constructor(e,t,r,n,i,o){this.expression=e,this.uniformNames=t.map(e=>`u_${e}_t`),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===r?4:2,offset:0})),this.paintVertexArray=new o}populatePaintArray(e,t,r,n,i,o){const a=this.expression.evaluate(new Io(this.zoom),t,{},i,n,o),s=this.expression.evaluate(new Io(this.zoom+1),t,{},i,n,o),l=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(l,e,a,s)}updatePaintArray(e,t,r,n,i){const o=this.expression.evaluate({zoom:this.zoom},r,n,void 0,i),a=this.expression.evaluate({zoom:this.zoom+1},r,n,void 0,i);this._setPaintValue(e,t,o,a)}_setPaintValue(e,t,r,n){if("color"===this.type){const i=ts(r),o=ts(n);for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,i[0],i[1],o[0],o[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t,r,n,i){const o=this.useIntegerZoom?Math.floor(r.zoom):r.zoom,a=S(this.expression.interpolationFactor(o,this.zoom,this.zoom+1),0,1);t.set(e,i,a)}getBinding(e,t){return new Ha(e)}}class as{constructor(e,t,r,n,i,o,a){this.expression=e,this.type=r,this.useIntegerZoom=n,this.zoom=i,this.layerId=a,this.paintVertexAttributes=("array"===r?ja:Fa).members;for(let e=0;e<t.length;++e);this.zoomInPaintVertexArray=new o,this.zoomOutPaintVertexArray=new o}populatePaintArray(e,t,r){const n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(n,e,t.patterns&&t.patterns[this.layerId],r)}updatePaintArray(e,t,r,n,i,o){this._setPaintValues(e,t,r.patterns&&r.patterns[this.layerId],o)}_setPaintValues(e,t,r,n){if(!n||!r)return;const{min:i,mid:o,max:a}=r,s=n[i],l=n[o],c=n[a];if(s&&l&&c)for(let r=e;r<t;r++)this._setPaintValue(this.zoomInPaintVertexArray,r,l,s),this._setPaintValue(this.zoomOutPaintVertexArray,r,l,c)}_setPaintValue(e,t,r,n){e.emplace(t,r.tl[0],r.tl[1],r.br[0],r.br[1],n.tl[0],n.tl[1],n.br[0],n.br[1],r.pixelRatio,n.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class ss{constructor(e,t,r=(()=>!0)){this.binders={},this._buffers=[];const n=[];for(const i in e.paint._values){if(!r(i))continue;const o=e.paint.get(i);if(!(o instanceof Bo&&Cn(o.property.specification)))continue;const a=us(i,e.type),s=o.value,l=o.property.specification.type,c=o.property.useIntegerZoom,u=o.property.specification["property-type"],h="cross-faded"===u||"cross-faded-data-driven"===u,d="line-dasharray"===String(i)&&"constant"!==e.layout.get("line-cap").value.kind;if("constant"!==s.kind||d)if("source"===s.kind||d||h){const r=ps(i,l,"source");this.binders[i]=h?new as(s,a,l,c,t,r,e.id):new is(s,a,l,r),n.push("/a_"+i)}else{const e=ps(i,l,"composite");this.binders[i]=new os(s,a,l,c,t,e),n.push("/z_"+i)}else this.binders[i]=h?new ns(s.value,a):new rs(s.value,a,l),n.push("/u_"+i)}this.cacheKey=n.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof is||t instanceof os?t.maxValue:0}populatePaintArrays(e,t,r,n,i,o){for(const a in this.binders){const s=this.binders[a];(s instanceof is||s instanceof os||s instanceof as)&&s.populatePaintArray(e,t,r,n,i,o)}}setConstantPatternPositions(e,t){for(const r in this.binders){const n=this.binders[r];n instanceof ns&&n.setConstantPatternPositions(e,t)}}updatePaintArrays(e,t,r,n,i,o){let a=!1;for(const s in e){const l=t.getPositions(s);for(const t of l){const l=r.feature(t.index);for(const r in this.binders){const c=this.binders[r];if((c instanceof is||c instanceof os||c instanceof as)&&!0===c.expression.isStateDependent){const u=n.paint.get(r);c.expression=u.value,c.updatePaintArray(t.start,t.end,l,e[s],i,o),a=!0}}}}return a}defines(){const e=[];for(const t in this.binders){const r=this.binders[t];(r instanceof rs||r instanceof ns)&&e.push(...r.uniformNames.map(e=>"#define HAS_UNIFORM_"+e))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const r=this.binders[t];if(r instanceof is||r instanceof os||r instanceof as)for(let t=0;t<r.paintVertexAttributes.length;t++)e.push(r.paintVertexAttributes[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const r=this.binders[t];if(r instanceof rs||r instanceof ns||r instanceof os)for(const t of r.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){const t=[];for(const r in this.binders){const n=this.binders[r];if(n instanceof rs||n instanceof ns||n instanceof os)for(const i of n.uniformNames)t.push({name:i,property:r,binding:n.getBinding(e,i)})}return t}setUniforms(e,t,r,n,i){for(const{name:t,property:o,binding:a}of r)this.binders[o].setUniform(e,a,i,n.get(o),t)}updatePaintBuffers(e){this._buffers=[];for(const t in this.binders){const r=this.binders[t];if(e&&r instanceof as){const t=2===e.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;t&&this._buffers.push(t)}else(r instanceof is||r instanceof os)&&r.paintVertexBuffer&&this._buffers.push(r.paintVertexBuffer)}}upload(e){for(const t in this.binders){const r=this.binders[t];(r instanceof is||r instanceof os||r instanceof as)&&r.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof is||t instanceof os||t instanceof as)&&t.destroy()}}}class ls{constructor(e,t,r=(()=>!0)){this.programConfigurations={};for(const n of e)this.programConfigurations[n.id]=new ss(n,t,r);this.needsUpload=!1,this._featureMap=new Za,this._bufferOffset=0}populatePaintArrays(e,t,r,n,i,o,a){for(const r in this.programConfigurations)this.programConfigurations[r].populatePaintArrays(e,t,n,i,o,a);void 0!==t.id&&this._featureMap.add(t.id,r,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,r,n,i){for(const o of r)this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,n,i)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}const cs={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function us(e,t){return cs[e]||[e.replace(t+"-","").replace(/-/g,"_")]}const hs={"line-pattern":{source:ra,composite:ra},"fill-pattern":{source:ra,composite:ra},"fill-extrusion-pattern":{source:ra,composite:ra},"line-dasharray":{source:na,composite:na}},ds={color:{source:ba,composite:ta},number:{source:ga,composite:ba}};function ps(e,t,r){const n=hs[e];return n&&n[r]||ds[t][r]}Ii(rs,"ConstantBinder"),Ii(ns,"CrossFadedConstantBinder"),Ii(is,"SourceExpressionBinder"),Ii(as,"CrossFadedCompositeBinder"),Ii(os,"CompositeExpressionBinder"),Ii(ss,"ProgramConfiguration",{omit:["_buffers"]}),Ii(ls,"ProgramConfigurationSet");const fs="-transition";class ms extends He{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new Oo(t.layout)),t.paint)){this._transitionablePaint=new Do(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Fo(t.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,r={}){null!=t&&this._validate(Ei,`layers.${this.id}.layout.${e}`,e,t,r)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return B(e,fs)?this._transitionablePaint.getTransition(e.slice(0,-fs.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,r={}){if(null!=t&&this._validate(Ti,`layers.${this.id}.paint.${e}`,e,t,r))return!1;if(B(e,fs))return this._transitionablePaint.setTransition(e.slice(0,-fs.length),t||void 0),!1;{const r=this._transitionablePaint._values[e],n="cross-faded-data-driven"===r.property.specification["property-type"],i=r.value.isDataDriven(),o=r.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const a=this._transitionablePaint._values[e].value;return a.isDataDriven()||i||n||this._handleOverridablePaintPropertyUpdate(e,o,a)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,t,r){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),j(e,(e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length))}_validate(e,t,r,n,i={}){return(!i||!1!==i.validate)&&Ci(this,e.call(wi,{key:t,layerType:this.type,objectKey:r,value:n,styleSpec:Ye,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof Bo&&Cn(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Jn(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const gs=Ho([{name:"a_pos",components:2,type:"Int16"}],4),_s=Ho([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class ys{constructor(e=[]){this.segments=e}prepareSegment(e,t,r,n){let i=this.segments[this.segments.length-1];return e>ys.MAX_VERTEX_ARRAY_LENGTH&&V(`Max vertices per segment is ${ys.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!i||i.vertexLength+e>ys.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n)&&(i={vertexOffset:t.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&&(i.sortKey=n),this.segments.push(i)),i}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,r,n){return new ys([{vertexOffset:e,primitiveOffset:t,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])}}ys.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ii(ys,"SegmentVector");var vs=8192;class xs{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof ws?new ws(e.lng,e.lat):ws.convert(e),this}setSouthWest(e){return this._sw=e instanceof ws?new ws(e.lng,e.lat):ws.convert(e),this}extend(e){const t=this._sw,r=this._ne;let n,i;if(e instanceof ws)n=e,i=e;else{if(!(e instanceof xs))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(xs.convert(e)):this.extend(ws.convert(e)):"object"==typeof e&&null!==e&&e.hasOwnProperty("lat")&&e.hasOwnProperty("lon")?this.extend(ws.convert(e)):this;if(n=e._sw,i=e._ne,!n||!i)return this}return t||r?(t.lng=Math.min(n.lng,t.lng),t.lat=Math.min(n.lat,t.lat),r.lng=Math.max(i.lng,r.lng),r.lat=Math.max(i.lat,r.lat)):(this._sw=new ws(n.lng,n.lat),this._ne=new ws(i.lng,i.lat)),this}getCenter(){return new ws((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new ws(this.getWest(),this.getNorth())}getSouthEast(){return new ws(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:t,lat:r}=ws.convert(e);let n=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(n=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&n}static convert(e){return!e||e instanceof xs?e:new xs(e)}}const bs=6371008.8;class ws{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new ws(M(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,r=this.lat*t,n=e.lat*t,i=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((e.lng-this.lng)*t);return bs*Math.acos(Math.min(i,1))}toBounds(e=0){const t=360*e/40075017,r=t/Math.cos(Math.PI/180*this.lat);return new xs(new ws(this.lng-r,this.lat-t),new ws(this.lng+r,this.lat+t))}static convert(e){if(e instanceof ws)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new ws(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new ws(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Ts=2*Math.PI*bs;function Es(e){return Ts*Math.cos(e*Math.PI/180)}function Ss(e){return(180+e)/360}function Cs(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Ms(e,t){return e/Es(t)}function ks(e){return 360*e-180}function As(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function Is(e,t){return e*Es(As(t))}const Ps=85.051129;function zs(e){return 1/Math.cos(e*Math.PI/180)}class Ds{constructor(e,t,r=0){this.x=+e,this.y=+t,this.z=+r}static fromLngLat(e,t=0){const r=ws.convert(e);return new Ds(Ss(r.lng),Cs(r.lat),Ms(t,r.lat))}toLngLat(){return new ws(ks(this.x),As(this.y))}toAltitude(){return Is(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Ts*zs(As(this.y))}}function Rs(e,t,r,n,i,o,a,s,l){const c=(t+n)/2,u=(r+i)/2,h=new m(c,u);s(h),function(e,t,r,n,i,o){const a=r-i,s=n-o;return Math.abs((n-t)*a-(r-e)*s)/Math.hypot(a,s)}(h.x,h.y,o.x,o.y,a.x,a.y)>=l?(Rs(e,t,r,c,u,o,h,s,l),Rs(e,c,u,n,i,h,a,s,l)):e.push(a)}function Ls(e,t,r){let n=e[0],i=n.x,o=n.y;t(n);const a=[n];for(let s=1;s<e.length;s++){const l=e[s],{x:c,y:u}=l;t(l),Rs(a,i,o,c,u,n,l,t,r),i=c,o=u,n=l}return a}function Os(e,t,r,n){if(n(t,r)){const i=t.add(r)._mult(.5);Os(e,t,i,n),Os(e,i,r,n)}else e.push(r)}function Bs(e,t){let r=e[0];const n=[r];for(let i=1;i<e.length;i++){const o=e[i];Os(n,r,o,t),r=o}return n}const Fs=Math.pow(2,14)-1,js=-Fs-1;function Us(e,t){const r=Math.round(e.x*t),n=Math.round(e.y*t);return e.x=S(r,js,Fs),e.y=S(n,js,Fs),(r<e.x||r>e.x+1||n<e.y||n>e.y+1)&&V("Geometry exceeds allowed extent, reduce your vector tile buffer size"),e}function Ns(e,t,r){const n=e.loadGeometry(),i=e.extent,o=vs/i;if(t&&r&&r.projection.isReprojectedInTileSpace){const o=1<<t.z,{scale:a,x:s,y:l,projection:c}=r,u=e=>{const r=ks((t.x+e.x/i)/o),n=As((t.y+e.y/i)/o),u=c.project(r,n);e.x=(u.x*a-s)*i,e.y=(u.y*a-l)*i};for(let t=0;t<n.length;t++)if(1!==e.type)n[t]=Ls(n[t],u,1);else{const e=[];for(const r of n[t])r.x<0||r.x>=i||r.y<0||r.y>=i||(u(r),e.push(r));n[t]=e}}for(const e of n)for(const t of e)Us(t,o);return n}function Vs(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Ns(e):[]}}function Gs(e,t,r,n,i){e.emplaceBack(2*t+(n+1)/2,2*r+(i+1)/2)}function qs(e,t,r){const n=16384;e.emplaceBack(t.x,t.y,t.z,r[0]*n,r[1]*n,r[2]*n)}class Zs{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new Ko,this.indexArray=new pa,this.segments=new ys,this.programConfigurations=new ls(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,r,n){const i=this.layers[0],o=[];let a=null;"circle"===i.type&&(a=i.layout.get("circle-sort-key"));for(const{feature:t,id:i,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Vs(t,e);if(!this.layers[0]._featureFilter.filter(new Io(this.zoom),c,r))continue;const u=a?a.evaluate(c,{},r):void 0,h={id:i,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?c.geometry:Ns(t,r,n),patterns:{},sortKey:u};o.push(h)}a&&o.sort((e,t)=>e.sortKey-t.sortKey);let s=null;"globe"===n.projection.name&&(this.globeExtVertexArray=new Ba,s=n.projection);for(const n of o){const{geometry:i,index:o,sourceLayerIndex:a}=n,l=e[o].feature;this.addFeature(n,i,o,t.availableImages,r,s),t.featureIndex.insert(l,i,o,a,this.index)}}update(e,t,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,gs.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,_s.members))),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(e,t,r,n,i,o){for(const r of t)for(const t of r){const r=t.x,n=t.y;if(r<0||r>=vs||n<0||n>=vs)continue;if(o){const e=o.projectTilePoint(r,n,i),t=o.upVector(i,r,n),a=this.globeExtVertexArray;qs(a,e,t),qs(a,e,t),qs(a,e,t),qs(a,e,t)}const a=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),s=a.vertexLength;Gs(this.layoutVertexArray,r,n,-1,-1),Gs(this.layoutVertexArray,r,n,1,-1),Gs(this.layoutVertexArray,r,n,1,1),Gs(this.layoutVertexArray,r,n,-1,1),this.indexArray.emplaceBack(s,s+1,s+2),this.indexArray.emplaceBack(s,s+2,s+3),a.vertexLength+=4,a.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,{},n,i)}}function $s(e,t){for(let r=0;r<e.length;r++)if(tl(t,e[r]))return!0;for(let r=0;r<t.length;r++)if(tl(e,t[r]))return!0;return!!Ys(e,t)}function Ws(e,t,r){return!!tl(e,t)||!!Js(t,e,r)}function Xs(e,t){if(1===e.length)return el(t,e[0]);for(let r=0;r<t.length;r++){const n=t[r];for(let t=0;t<n.length;t++)if(tl(e,n[t]))return!0}for(let r=0;r<e.length;r++)if(el(t,e[r]))return!0;for(let r=0;r<t.length;r++)if(Ys(e,t[r]))return!0;return!1}function Hs(e,t,r){if(e.length>1){if(Ys(e,t))return!0;for(let n=0;n<t.length;n++)if(Js(t[n],e,r))return!0}for(let n=0;n<e.length;n++)if(Js(e[n],t,r))return!0;return!1}function Ys(e,t){if(0===e.length||0===t.length)return!1;for(let r=0;r<e.length-1;r++){const n=e[r],i=e[r+1];for(let e=0;e<t.length-1;e++)if(Ks(n,i,t[e],t[e+1]))return!0}return!1}function Ks(e,t,r,n){return G(e,r,n)!==G(t,r,n)&&G(e,t,r)!==G(e,t,n)}function Js(e,t,r){const n=r*r;if(1===t.length)return e.distSqr(t[0])<n;for(let r=1;r<t.length;r++)if(Qs(e,t[r-1],t[r])<n)return!0;return!1}function Qs(e,t,r){const n=t.distSqr(r);if(0===n)return e.distSqr(t);const i=((e.x-t.x)*(r.x-t.x)+(e.y-t.y)*(r.y-t.y))/n;return e.distSqr(i<0?t:i>1?r:r.sub(t)._mult(i)._add(t))}function el(e,t){let r,n,i,o=!1;for(let a=0;a<e.length;a++){r=e[a];for(let e=0,a=r.length-1;e<r.length;a=e++)n=r[e],i=r[a],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(o=!o)}return o}function tl(e,t){let r=!1;for(let n=0,i=e.length-1;n<e.length;i=n++){const o=e[n],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(r=!r)}return r}function rl(e,t,r,n,i){for(const o of e)if(t<=o.x&&r<=o.y&&n>=o.x&&i>=o.y)return!0;const o=[new m(t,r),new m(t,i),new m(n,i),new m(n,r)];if(e.length>2)for(const t of o)if(tl(e,t))return!0;for(let t=0;t<e.length-1;t++)if(nl(e[t],e[t+1],o))return!0;return!1}function nl(e,t,r){const n=r[0],i=r[2];if(e.x<n.x&&t.x<n.x||e.x>i.x&&t.x>i.x||e.y<n.y&&t.y<n.y||e.y>i.y&&t.y>i.y)return!1;const o=G(e,t,r[0]);return o!==G(e,t,r[1])||o!==G(e,t,r[2])||o!==G(e,t,r[3])}function il(e,t,r){const n=t.paint.get(e).value;return"constant"===n.kind?n.value:r.programConfigurations.get(t.id).getMaxValue(e)}function ol(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function al(e,t,r,n,i){if(!t[0]&&!t[1])return e;const o=m.convert(t)._mult(i);"viewport"===r&&o._rotate(-n);const a=[];for(let t=0;t<e.length;t++)a.push(e[t].sub(o));return a}function sl(e,t,r,n){const i=m.convert(e)._mult(n);return"viewport"===t&&i._rotate(-r),i}Ii(Zs,"CircleBucket",{omit:["layers"]});const ll=new qo({"circle-sort-key":new Uo(Ye.layout_circle["circle-sort-key"])});var cl={paint:new qo({"circle-radius":new Uo(Ye.paint_circle["circle-radius"]),"circle-color":new Uo(Ye.paint_circle["circle-color"]),"circle-blur":new Uo(Ye.paint_circle["circle-blur"]),"circle-opacity":new Uo(Ye.paint_circle["circle-opacity"]),"circle-translate":new jo(Ye.paint_circle["circle-translate"]),"circle-translate-anchor":new jo(Ye.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new jo(Ye.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new jo(Ye.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Uo(Ye.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Uo(Ye.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Uo(Ye.paint_circle["circle-stroke-opacity"])}),layout:ll},ul=1e-6,hl="undefined"!=typeof Float32Array?Float32Array:Array;function dl(){var e=new hl(9);return hl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function pl(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=r[0],p=r[1],f=r[2],m=r[3],g=r[4],_=r[5],y=r[6],v=r[7],x=r[8];return e[0]=d*n+p*a+f*c,e[1]=d*i+p*s+f*u,e[2]=d*o+p*l+f*h,e[3]=m*n+g*a+_*c,e[4]=m*i+g*s+_*u,e[5]=m*o+g*l+_*h,e[6]=y*n+v*a+x*c,e[7]=y*i+v*s+x*u,e[8]=y*o+v*l+x*h,e}function fl(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ml(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=t[9],d=t[10],p=t[11],f=t[12],m=t[13],g=t[14],_=t[15],y=r*s-n*a,v=r*l-i*a,x=r*c-o*a,b=n*l-i*s,w=n*c-o*s,T=i*c-o*l,E=u*m-h*f,S=u*g-d*f,C=u*_-p*f,M=h*g-d*m,k=h*_-p*m,A=d*_-p*g,I=y*A-v*k+x*M+b*C-w*S+T*E;return I?(e[0]=(s*A-l*k+c*M)*(I=1/I),e[1]=(i*k-n*A-o*M)*I,e[2]=(m*T-g*w+_*b)*I,e[3]=(d*w-h*T-p*b)*I,e[4]=(l*C-a*A-c*S)*I,e[5]=(r*A-i*C+o*S)*I,e[6]=(g*x-f*T-_*v)*I,e[7]=(u*T-d*x+p*v)*I,e[8]=(a*k-s*C+c*E)*I,e[9]=(n*C-r*k-o*E)*I,e[10]=(f*w-m*x+_*y)*I,e[11]=(h*x-u*w-p*y)*I,e[12]=(s*S-a*M-l*E)*I,e[13]=(r*M-n*S+i*E)*I,e[14]=(m*v-f*b-g*y)*I,e[15]=(u*b-h*v+d*y)*I,e):null}function gl(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],m=t[12],g=t[13],_=t[14],y=t[15],v=r[0],x=r[1],b=r[2],w=r[3];return e[0]=v*n+x*s+b*h+w*m,e[1]=v*i+x*l+b*d+w*g,e[2]=v*o+x*c+b*p+w*_,e[3]=v*a+x*u+b*f+w*y,e[4]=(v=r[4])*n+(x=r[5])*s+(b=r[6])*h+(w=r[7])*m,e[5]=v*i+x*l+b*d+w*g,e[6]=v*o+x*c+b*p+w*_,e[7]=v*a+x*u+b*f+w*y,e[8]=(v=r[8])*n+(x=r[9])*s+(b=r[10])*h+(w=r[11])*m,e[9]=v*i+x*l+b*d+w*g,e[10]=v*o+x*c+b*p+w*_,e[11]=v*a+x*u+b*f+w*y,e[12]=(v=r[12])*n+(x=r[13])*s+(b=r[14])*h+(w=r[15])*m,e[13]=v*i+x*l+b*d+w*g,e[14]=v*o+x*c+b*p+w*_,e[15]=v*a+x*u+b*f+w*y,e}function _l(e,t,r){var n,i,o,a,s,l,c,u,h,d,p,f,m=r[0],g=r[1],_=r[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*_+t[12],e[13]=t[1]*m+t[5]*g+t[9]*_+t[13],e[14]=t[2]*m+t[6]*g+t[10]*_+t[14],e[15]=t[3]*m+t[7]*g+t[11]*_+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],e[0]=n=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=h,e[9]=d,e[10]=p,e[11]=f,e[12]=n*m+s*g+h*_+t[12],e[13]=i*m+l*g+d*_+t[13],e[14]=o*m+c*g+p*_+t[14],e[15]=a*m+u*g+f*_+t[15]),e}function yl(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function vl(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*n,e[5]=a*i+u*n,e[6]=s*i+h*n,e[7]=l*i+d*n,e[8]=c*i-o*n,e[9]=u*i-a*n,e[10]=h*i-s*n,e[11]=d*i-l*n,e}function xl(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],l=t[3],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*n,e[1]=a*i-u*n,e[2]=s*i-h*n,e[3]=l*i-d*n,e[8]=o*n+c*i,e[9]=a*n+u*i,e[10]=s*n+h*i,e[11]=l*n+d*i,e}function bl(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function wl(e,t,r){var n,i,o,a=r[0],s=r[1],l=r[2],c=Math.hypot(a,s,l);return c<ul?null:(a*=c=1/c,s*=c,l*=c,n=Math.sin(t),i=Math.cos(t),e[0]=a*a*(o=1-i)+i,e[1]=s*a*o+l*n,e[2]=l*a*o-s*n,e[3]=0,e[4]=a*s*o-l*n,e[5]=s*s*o+i,e[6]=l*s*o+a*n,e[7]=0,e[8]=a*l*o+s*n,e[9]=s*l*o-a*n,e[10]=l*l*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Tl=gl;function El(){var e=new hl(3);return hl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function Sl(e){var t=new hl(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Cl(e){return Math.hypot(e[0],e[1],e[2])}function Ml(e,t,r){var n=new hl(3);return n[0]=e,n[1]=t,n[2]=r,n}function kl(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Al(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function Il(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Pl(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function zl(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function Dl(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function Rl(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function Ll(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function Ol(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Bl(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],s=r[1],l=r[2];return e[0]=i*l-o*s,e[1]=o*a-n*l,e[2]=n*s-i*a,e}function Fl(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return e[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/(a=a||1),e[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,e}function jl(e,t,r){var n=r[0],i=r[1],o=r[2],a=t[0],s=t[1],l=t[2],c=i*l-o*s,u=o*a-n*l,h=n*s-i*a,d=i*h-o*u,p=o*c-n*h,f=n*u-i*c,m=2*r[3];return u*=m,h*=m,p*=2,f*=2,e[0]=a+(c*=m)+(d*=2),e[1]=s+u+p,e[2]=l+h+f,e}var Ul,Nl=Al,Vl=Il,Gl=Cl;function ql(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function Zl(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=o*a,e}function $l(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}function Wl(){var e=new hl(4);return hl!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Xl(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Hl(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+a*s,e[1]=i*l+o*s,e[2]=o*l-i*s,e[3]=a*l-n*s,e}function Yl(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l-o*s,e[1]=i*l+a*s,e[2]=o*l+n*s,e[3]=a*l-i*s,e}El(),Ul=new hl(4),hl!=Float32Array&&(Ul[0]=0,Ul[1]=0,Ul[2]=0,Ul[3]=0);var Kl=Zl;El(),Ml(1,0,0),Ml(0,1,0),Wl(),Wl(),dl();class Jl{constructor(e,t){this.pos=e,this.dir=t}intersectsPlane(e,t,r){const n=Ol(t,this.dir);if(Math.abs(n)<1e-6)return!1;const i=((e[0]-this.pos[0])*t[0]+(e[1]-this.pos[1])*t[1]+(e[2]-this.pos[2])*t[2])/n;return r[0]=this.pos[0]+this.dir[0]*i,r[1]=this.pos[1]+this.dir[1]*i,r[2]=this.pos[2]+this.dir[2]*i,!0}closestPointOnSphere(e,t,r){if(function(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],s=t[2];return Math.abs(r-o)<=ul*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=ul*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=ul*Math.max(1,Math.abs(i),Math.abs(s))}(this.pos,e)||0===t)return r[0]=r[1]=r[2]=0,!1;const[n,i,o]=this.dir,a=this.pos[0]-e[0],s=this.pos[1]-e[1],l=this.pos[2]-e[2],c=n*n+i*i+o*o,u=2*(a*n+s*i+l*o),h=u*u-4*c*(a*a+s*s+l*l-t*t);if(h<0){const e=Math.max(-u/2,0),c=a+n*e,h=s+i*e,d=l+o*e,p=Math.hypot(c,h,d);return r[0]=c*t/p,r[1]=h*t/p,r[2]=d*t/p,!1}{const e=(-u-Math.sqrt(h))/(2*c);if(e<0){const e=Math.hypot(a,s,l);return r[0]=a*t/e,r[1]=s*t/e,r[2]=l*t/e,!1}return r[0]=a+n*e,r[1]=s+i*e,r[2]=l+o*e,!0}}}class Ql{constructor(e,t,r,n,i){this.TL=e,this.TR=t,this.BR=r,this.BL=n,this.horizon=i}static fromInvProjectionMatrix(e,t,r){const n=[-1,1,1],i=[1,1,1],o=[1,-1,1],a=[-1,-1,1],s=Fl(n,n,e),l=Fl(i,i,e),c=Fl(o,o,e),u=Fl(a,a,e);return new Ql(s,l,c,u,t/r)}}class ec{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(e,t,r,n){const i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(r=>{const o=$l([],r,e),a=1/o[3]/t*i;return function(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}(o,o,[a,a,n?1/o[3]:a,a])}),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(e=>{const t=Ll([],Bl([],Nl([],o[e[0]],o[e[1]]),Nl([],o[e[2]],o[e[1]]))),r=-Ol(t,o[e[1]]);return t.concat(r)});return new ec(o,a)}}class tc{static fromPoints(e){const t=[1/0,1/0,1/0],r=[-1/0,-1/0,-1/0];for(const n of e)Pl(t,t,n),zl(r,r,n);return new tc(t,r)}static applyTransform(e,t){const r=e.getCorners();for(let e=0;e<r.length;++e)Fl(r[e],r[e],t);return tc.fromPoints(r)}constructor(e,t){this.min=e,this.max=t,this.center=Dl([],kl([],this.min,this.max),.5)}quadrant(e){const t=[e%2==0,e<2],r=Sl(this.min),n=Sl(this.max);for(let e=0;e<t.length;e++)r[e]=t[e]?this.min[e]:this.center[e],n[e]=t[e]?this.center[e]:this.max[e];return n[2]=this.max[2],new tc(r,n)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){const e=this.min,t=this.max;return[[e[0],e[1],e[2]],[t[0],e[1],e[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],t[2]],[e[0],t[1],t[2]]]}intersects(e){const t=this.getCorners();let r=!0;for(let n=0;n<e.planes.length;n++){const i=e.planes[n];let o=0;for(let e=0;e<t.length;e++)o+=Ol(i,t[e])+i[3]>=0;if(0===o)return 0;o!==t.length&&(r=!1)}if(r)return 2;for(let t=0;t<3;t++){let r=Number.MAX_VALUE,n=-Number.MAX_VALUE;for(let i=0;i<e.points.length;i++){const o=e.points[i][t]-this.min[t];r=Math.min(r,o),n=Math.max(n,o)}if(n<0||r>this.max[t]-this.min[t])return 0}return 1}}function rc(e,t,r,n,i,o,a,s,l){if(o&&e.queryGeometry.isAboveHorizon)return!1;o&&(l*=e.pixelToTileUnitsFactor);const c=e.tileID.canonical,u=r.projection.upVectorScale(c,r.center.lat,r.worldSize).metersToTile;for(const h of t)for(const t of h){const h=t.add(s),d=i&&r.elevation?r.elevation.exaggeration()*i.getElevationAt(h.x,h.y,!0):0,p=r.projection.projectTilePoint(h.x,h.y,c);if(d>0){const e=r.projection.upVector(c,h.x,h.y);p.x+=e[0]*u*d,p.y+=e[1]*u*d,p.z+=e[2]*u*d}const f=o?h:nc(p.x,p.y,p.z,n),m=o?e.tilespaceRays.map(e=>ac(e,d)):e.queryGeometry.screenGeometry,g=$l([],[p.x,p.y,p.z,1],n);if(!a&&o?l*=g[3]/r.cameraToCenterDistance:a&&!o&&(l*=r.cameraToCenterDistance/g[3]),o){const e=As((t.y/vs+c.y)/(1<<c.z));l/=r.projection.pixelsPerMeter(e,1)/Ms(1,e)}if(Ws(m,f,l))return!0}return!1}function nc(e,t,r,n){const i=$l([],[e,t,r,1],n);return new m(i[0]/i[3],i[1]/i[3])}const ic=Ml(0,0,0),oc=Ml(0,0,1);function ac(e,t){const r=El();return ic[2]=t,e.intersectsPlane(ic,oc,r),new m(r[0],r[1])}class sc extends Zs{}function lc(e,{width:t,height:r},n,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==t*r*n)throw new RangeError("mismatched image size")}else i=new Uint8Array(t*r*n);return e.width=t,e.height=r,e.data=i,e}function cc(e,t,r){const{width:n,height:i}=t;n===e.width&&i===e.height||(uc(e,t,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,n),height:Math.min(e.height,i)},r),e.width=n,e.height=i,e.data=t.data)}function uc(e,t,r,n,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||r.x>e.width-i.width||r.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||n.x>t.width-i.width||n.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");const a=e.data,s=t.data;for(let l=0;l<i.height;l++){const c=((r.y+l)*e.width+r.x)*o,u=((n.y+l)*t.width+n.x)*o;for(let e=0;e<i.width*o;e++)s[u+e]=a[c+e]}return t}Ii(sc,"HeatmapBucket",{omit:["layers"]});class hc{constructor(e,t){lc(this,e,1,t)}resize(e){cc(this,new hc(e),1)}clone(){return new hc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,r,n,i){uc(e,t,r,n,i,1)}}class dc{constructor(e,t){lc(this,e,4,t)}resize(e){cc(this,new dc(e),4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new dc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,r,n,i){uc(e,t,r,n,i,4)}}Ii(hc,"AlphaImage"),Ii(dc,"RGBAImage");var pc={paint:new qo({"heatmap-radius":new Uo(Ye.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Uo(Ye.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new jo(Ye.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Go(Ye.paint_heatmap["heatmap-color"]),"heatmap-opacity":new jo(Ye.paint_heatmap["heatmap-opacity"])})};function fc(e){const t={},r=e.resolution||256,n=e.clips?e.clips.length:1,i=e.image||new dc({width:r,height:n}),o=(r,n,o)=>{t[e.evaluationKey]=o;const a=e.expression.evaluate(t);i.data[r+n+0]=Math.floor(255*a.r/a.a),i.data[r+n+1]=Math.floor(255*a.g/a.a),i.data[r+n+2]=Math.floor(255*a.b/a.a),i.data[r+n+3]=Math.floor(255*a.a)};if(e.clips)for(let t=0,i=0;t<n;++t,i+=4*r)for(let n=0,a=0;n<r;n++,a+=4){const s=n/(r-1),{start:l,end:c}=e.clips[t];o(i,a,l*(1-s)+c*s)}else for(let e=0,t=0;e<r;e++,t+=4)o(0,t,e/(r-1));return i}var mc={paint:new qo({"hillshade-illumination-direction":new jo(Ye.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new jo(Ye.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new jo(Ye.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new jo(Ye.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new jo(Ye.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new jo(Ye.paint_hillshade["hillshade-accent-color"])})};const gc=Ho([{name:"a_pos",components:2,type:"Int16"}],4),{members:_c}=gc;var yc={exports:{}};function vc(e,t,r){r=r||2;var n,i,o,a,s,l,c,u=t&&t.length,h=u?t[0]*r:e.length,d=xc(e,0,h,r,!0),p=[];if(!d||d.next===d.prev)return p;if(u&&(d=function(e,t,r,n){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=xc(e,t[i]*n,i<o-1?t[i+1]*n:e.length,n,!1))===a.next&&(a.steiner=!0),s.push(Pc(a));for(s.sort(Mc),i=0;i<s.length;i++)r=kc(s[i],r);return r}(e,t,d,r)),e.length>80*r){n=o=e[0],i=a=e[1];for(var f=r;f<h;f+=r)(s=e[f])<n&&(n=s),(l=e[f+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);c=0!==(c=Math.max(o-n,a-i))?32767/c:0}return wc(d,p,r,n,i,c,0),p}function xc(e,t,r,n,i){var o,a;if(i===qc(e,t,r,n)>0)for(o=t;o<r;o+=n)a=Nc(o,e[o],e[o+1],a);else for(o=r-n;o>=t;o-=n)a=Nc(o,e[o],e[o+1],a);return a&&Lc(a,a.next)&&(Vc(a),a=a.next),a}function bc(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!Lc(n,n.next)&&0!==Rc(n.prev,n,n.next))n=n.next;else{if(Vc(n),(n=t=n.prev)===n.next)break;r=!0}}while(r||n!==t);return t}function wc(e,t,r,n,i,o,a){if(e){!a&&o&&function(e,t,r,n){var i=e;do{0===i.z&&(i.z=Ic(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,o,a,s,l,c=1;do{for(r=e,e=null,o=null,a=0;r;){for(a++,n=r,s=0,t=0;t<c&&(s++,n=n.nextZ);t++);for(l=c;s>0||l>0&&n;)0!==s&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,c*=2}while(a>1)}(i)}(e,n,i,o);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Ec(e,n,i,o):Tc(e))t.push(s.i/r|0),t.push(e.i/r|0),t.push(l.i/r|0),Vc(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?wc(e=Sc(bc(e),t,r),t,r,n,i,o,2):2===a&&Cc(e,t,r,n,i,o):wc(bc(e),t,r,n,i,o,1);break}}}function Tc(e){var t=e.prev,r=e,n=e.next;if(Rc(t,r,n)>=0)return!1;for(var i=t.x,o=r.x,a=n.x,s=t.y,l=r.y,c=n.y,u=i<o?i<a?i:a:o<a?o:a,h=s<l?s<c?s:c:l<c?l:c,d=i>o?i>a?i:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c,f=n.next;f!==t;){if(f.x>=u&&f.x<=d&&f.y>=h&&f.y<=p&&zc(i,s,o,l,a,c,f.x,f.y)&&Rc(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function Ec(e,t,r,n){var i=e.prev,o=e,a=e.next;if(Rc(i,o,a)>=0)return!1;for(var s=i.x,l=o.x,c=a.x,u=i.y,h=o.y,d=a.y,p=s<l?s<c?s:c:l<c?l:c,f=u<h?u<d?u:d:h<d?h:d,m=s>l?s>c?s:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,_=Ic(p,f,t,r,n),y=Ic(m,g,t,r,n),v=e.prevZ,x=e.nextZ;v&&v.z>=_&&x&&x.z<=y;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==i&&v!==a&&zc(s,u,l,h,c,d,v.x,v.y)&&Rc(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==i&&x!==a&&zc(s,u,l,h,c,d,x.x,x.y)&&Rc(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;v&&v.z>=_;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==i&&v!==a&&zc(s,u,l,h,c,d,v.x,v.y)&&Rc(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;x&&x.z<=y;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==i&&x!==a&&zc(s,u,l,h,c,d,x.x,x.y)&&Rc(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function Sc(e,t,r){var n=e;do{var i=n.prev,o=n.next.next;!Lc(i,o)&&Oc(i,n,n.next,o)&&jc(i,o)&&jc(o,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(o.i/r|0),Vc(n),Vc(n.next),n=e=o),n=n.next}while(n!==e);return bc(n)}function Cc(e,t,r,n,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Dc(a,s)){var l=Uc(a,s);return a=bc(a,a.next),l=bc(l,l.next),wc(a,t,r,n,i,o,0),void wc(l,t,r,n,i,o,0)}s=s.next}a=a.next}while(a!==e)}function Mc(e,t){return e.x-t.x}function kc(e,t){var r=function(e,t){var r,n=t,i=e.x,o=e.y,a=-1/0;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=i&&s>a&&(a=s,r=n.x<n.next.x?n:n.next,s===i))return r}n=n.next}while(n!==t);if(!r)return null;var l,c=r,u=r.x,h=r.y,d=1/0;n=r;do{i>=n.x&&n.x>=u&&i!==n.x&&zc(o<h?i:a,o,u,h,o<h?a:i,o,n.x,n.y)&&(l=Math.abs(o-n.y)/(i-n.x),jc(n,e)&&(l<d||l===d&&(n.x>r.x||n.x===r.x&&Ac(r,n)))&&(r=n,d=l)),n=n.next}while(n!==c);return r}(e,t);if(!r)return t;var n=Uc(r,e);return bc(n,n.next),bc(r,r.next)}function Ac(e,t){return Rc(e.prev,e,t.prev)<0&&Rc(t.next,e,e.next)<0}function Ic(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-n)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Pc(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function zc(e,t,r,n,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(n-s)>=(r-a)*(t-s)&&(r-a)*(o-s)>=(i-a)*(n-s)}function Dc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Oc(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(jc(e,t)&&jc(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(Rc(e.prev,e,t.prev)||Rc(e,t.prev,t))||Lc(e,t)&&Rc(e.prev,e,e.next)>0&&Rc(t.prev,t,t.next)>0)}function Rc(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Lc(e,t){return e.x===t.x&&e.y===t.y}function Oc(e,t,r,n){var i=Fc(Rc(e,t,r)),o=Fc(Rc(e,t,n)),a=Fc(Rc(r,n,e)),s=Fc(Rc(r,n,t));return i!==o&&a!==s||!(0!==i||!Bc(e,r,t))||!(0!==o||!Bc(e,n,t))||!(0!==a||!Bc(r,e,n))||!(0!==s||!Bc(r,t,n))}function Bc(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Fc(e){return e>0?1:e<0?-1:0}function jc(e,t){return Rc(e.prev,e,e.next)<0?Rc(e,t,e.next)>=0&&Rc(e,e.prev,t)>=0:Rc(e,t,e.prev)<0||Rc(e,e.next,t)<0}function Uc(e,t){var r=new Gc(e.i,e.x,e.y),n=new Gc(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function Nc(e,t,r,n){var i=new Gc(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Vc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Gc(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function qc(e,t,r,n){for(var i=0,o=t,a=r-n;o<r;o+=n)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}function Zc(e,t,r,n,i){!function e(t,r,n,i,o){for(;i>n;){if(i-n>600){var a=i-n+1,s=r-n+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(s-a/2<0?-1:1);e(t,r,Math.max(n,Math.floor(r-s*c/a+u)),Math.min(i,Math.floor(r+(a-s)*c/a+u)),o)}var h=t[r],d=n,p=i;for($c(t,n,r),o(t[i],h)>0&&$c(t,n,i);d<p;){for($c(t,d,p),d++,p--;o(t[d],h)<0;)d++;for(;o(t[p],h)>0;)p--}0===o(t[n],h)?$c(t,n,p):$c(t,++p,i),p<=r&&(n=p+1),r<=p&&(i=p-1)}}(e,t,r||0,n||e.length-1,i||Wc)}function $c(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Wc(e,t){return e<t?-1:e>t?1:0}function Xc(e,t){const r=e.length;if(r<=1)return[e];const n=[];let i,o;for(let t=0;t<r;t++){const r=q(e[t]);0!==r&&(e[t].area=Math.abs(r),void 0===o&&(o=r<0),o===r<0?(i&&n.push(i),i=[e[t]]):i.push(e[t]))}if(i&&n.push(i),t>1)for(let e=0;e<n.length;e++)n[e].length<=t||(Zc(n[e],t,1,n[e].length-1,Hc),n[e]=n[e].slice(0,t));return n}function Hc(e,t){return t.area-e.area}function Yc(e,t,r){const n=r.patternDependencies;let i=!1;for(const r of t){const t=r.paint.get(e+"-pattern");t.isConstant()||(i=!0);const o=t.constantOr(null);o&&(i=!0,n[o.to]=!0,n[o.from]=!0)}return i}function Kc(e,t,r,n,i){const o=i.patternDependencies;for(const a of t){const t=a.paint.get(e+"-pattern").value;if("constant"!==t.kind){let e=t.evaluate({zoom:n-1},r,{},i.availableImages),s=t.evaluate({zoom:n},r,{},i.availableImages),l=t.evaluate({zoom:n+1},r,{},i.availableImages);e=e&&e.name?e.name:e,s=s&&s.name?s.name:s,l=l&&l.name?l.name:l,o[e]=!0,o[s]=!0,o[l]=!0,r.patterns[a.id]={min:e,mid:s,max:l}}}return r}yc.exports=vc,yc.exports.default=vc,vc.deviation=function(e,t,r,n){var i=t&&t.length,o=Math.abs(qc(e,0,i?t[0]*r:e.length,r));if(i)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(qc(e,t[a]*r,a<s-1?t[a+1]*r:e.length,r));var l=0;for(a=0;a<n.length;a+=3){var c=n[a]*r,u=n[a+1]*r,h=n[a+2]*r;l+=Math.abs((e[c]-e[h])*(e[u+1]-e[c+1])-(e[c]-e[u])*(e[h+1]-e[c+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},vc.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)r.vertices.push(e[i][o][a]);i>0&&r.holes.push(n+=e[i-1].length)}return r};class Jc{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ko,this.indexArray=new pa,this.indexArray2=new va,this.programConfigurations=new ls(e.layers,e.zoom),this.segments=new ys,this.segments2=new ys,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.projection=e.projection}populate(e,t,r,n){this.hasPattern=Yc("fill",this.layers,t);const i=this.layers[0].layout.get("fill-sort-key"),o=[];for(const{feature:a,id:s,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,u=Vs(a,e);if(!this.layers[0]._featureFilter.filter(new Io(this.zoom),u,r))continue;const h=i?i.evaluate(u,{},r,t.availableImages):void 0,d={id:s,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:e?u.geometry:Ns(a,r,n),patterns:{},sortKey:h};o.push(d)}i&&o.sort((e,t)=>e.sortKey-t.sortKey);for(const n of o){const{geometry:i,index:o,sourceLayerIndex:a}=n;if(this.hasPattern){const e=Kc("fill",this.layers,n,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(n,i,o,r,{},t.availableImages);t.featureIndex.insert(e[o].feature,i,o,a,this.index)}}update(e,t,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r,n)}addFeatures(e,t,r,n,i){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,r,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,_c),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,r,n,i,o=[]){for(const e of Xc(t,500)){let t=0;for(const r of e)t+=r.length;const r=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),n=r.vertexLength,i=[],o=[];for(const t of e){if(0===t.length)continue;t!==e[0]&&o.push(i.length/2);const r=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),n=r.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(n+t.length-1,n),i.push(t[0].x),i.push(t[0].y);for(let e=1;e<t.length;e++)this.layoutVertexArray.emplaceBack(t[e].x,t[e].y),this.indexArray2.emplaceBack(n+e-1,n+e),i.push(t[e].x),i.push(t[e].y);r.vertexLength+=t.length,r.primitiveLength+=t.length}const a=yc.exports(i,o);for(let e=0;e<a.length;e+=3)this.indexArray.emplaceBack(n+a[e],n+a[e+1],n+a[e+2]);r.vertexLength+=t,r.primitiveLength+=a.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,o,n)}}Ii(Jc,"FillBucket",{omit:["layers","patternFeatures"]});const Qc=new qo({"fill-sort-key":new Uo(Ye.layout_fill["fill-sort-key"])});var eu={paint:new qo({"fill-antialias":new jo(Ye.paint_fill["fill-antialias"]),"fill-opacity":new Uo(Ye.paint_fill["fill-opacity"]),"fill-color":new Uo(Ye.paint_fill["fill-color"]),"fill-outline-color":new Uo(Ye.paint_fill["fill-outline-color"]),"fill-translate":new jo(Ye.paint_fill["fill-translate"]),"fill-translate-anchor":new jo(Ye.paint_fill["fill-translate-anchor"]),"fill-pattern":new No(Ye.paint_fill["fill-pattern"])}),layout:Qc};const tu=Ho([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),ru=Ho([{name:"a_centroid_pos",components:2,type:"Uint16"}]),nu=Ho([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:iu}=tu;var ou={},au=m,su=lu;function lu(e,t,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=e,this._geometry=-1,this._keys=n,this._values=i,e.readFields(cu,this,t)}function cu(e,t,r){1==e?t.id=r.readVarint():2==e?function(e,t){for(var r=e.readVarint()+e.pos;e.pos<r;){var n=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[n]=i}}(r,t):3==e?t.type=r.readVarint():4==e&&(t._geometry=r.pos)}function uu(e){for(var t,r,n=0,i=0,o=e.length,a=o-1;i<o;a=i++)n+=((r=e[a]).x-(t=e[i]).x)*(t.y+r.y);return n}lu.types=["Unknown","Point","LineString","Polygon"],lu.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,n=1,i=0,o=0,a=0,s=[];e.pos<r;){if(i<=0){var l=e.readVarint();n=7&l,i=l>>3}if(i--,1===n||2===n)o+=e.readSVarint(),a+=e.readSVarint(),1===n&&(t&&s.push(t),t=[]),t.push(new au(o,a));else{if(7!==n)throw new Error("unknown command "+n);t&&t.push(t[0].clone())}}return t&&s.push(t),s},lu.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,r=1,n=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,c=-1/0;e.pos<t;){if(n<=0){var u=e.readVarint();r=7&u,n=u>>3}if(n--,1===r||2===r)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<l&&(l=o),o>c&&(c=o);else if(7!==r)throw new Error("unknown command "+r)}return[a,l,s,c]},lu.prototype.toGeoJSON=function(e,t,r){var n,i,o=this.extent*Math.pow(2,r),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),c=lu.types[this.type];function u(e){for(var t=0;t<e.length;t++){var r=e[t];e[t]=[360*(r.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(r.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(n=0;n<l.length;n++)h[n]=l[n][0];u(l=h);break;case 2:for(n=0;n<l.length;n++)u(l[n]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var r,n,i=[],o=0;o<t;o++){var a=uu(e[o]);0!==a&&(void 0===n&&(n=a<0),n===a<0?(r&&i.push(r),r=[e[o]]):r.push(e[o]))}return r&&i.push(r),i}(l),n=0;n<l.length;n++)for(i=0;i<l[n].length;i++)u(l[n][i])}1===l.length?l=l[0]:c="Multi"+c;var d={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var hu=su,du=pu;function pu(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(fu,this,t),this.length=this._features.length}function fu(e,t,r){15===e?t.version=r.readVarint():1===e?t.name=r.readString():5===e?t.extent=r.readVarint():2===e?t._features.push(r.pos):3===e?t._keys.push(r.readString()):4===e&&t._values.push(function(e){for(var t=null,r=e.readVarint()+e.pos;e.pos<r;){var n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}return t}(r))}pu.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new hu(this._pbf,t,this.extent,this._keys,this._values)};var mu=du;function gu(e,t,r){if(3===e){var n=new mu(r,r.readVarint()+r.pos);n.length&&(t[n.name]=n)}}var _u=ou.VectorTile=function(e,t){this.layers=e.readFields(gu,{},t)},yu=ou.VectorTileFeature=su;function vu(e,t,r,n){const i=[],o=0===n?(e,t,r,n,i,o)=>{e.push(new m(o,r+(o-t)/(n-t)*(i-r)))}:(e,t,r,n,i,o)=>{e.push(new m(t+(o-r)/(i-r)*(n-t),o))};for(const a of e){const e=[];for(const i of a){if(i.length<=2)continue;const a=[];for(let e=0;e<i.length-1;e++){const s=i[e].x,l=i[e].y,c=i[e+1].x,u=i[e+1].y,h=0===n?s:l,d=0===n?c:u;h<t?d>t&&o(a,s,l,c,u,t):h>r?d<r&&o(a,s,l,c,u,r):a.push(i[e]),d<t&&h>=t&&o(a,s,l,c,u,t),d>r&&h<=r&&o(a,s,l,c,u,r)}let s=i[i.length-1];const l=0===n?s.x:s.y;l>=t&&l<=r&&a.push(s),a.length&&(s=a[a.length-1],a[0].x===s.x&&a[0].y===s.y||a.push(a[0]),e.push(a))}e.length&&i.push(e)}return i}ou.VectorTileLayer=du;const xu=yu.types,bu=Math.pow(2,13);function wu(e,t,r,n,i,o,a,s){e.emplaceBack((t<<1)+a,(r<<1)+o,(Math.floor(n*bu)<<1)+i,Math.round(s))}function Tu(e,t,r){const n=16384;e.emplaceBack(t.x,t.y,t.z,r[0]*n,r[1]*n,r[2]*n)}class Eu{constructor(){this.acc=new m(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new m(e.x,e.y),this.max=new m(e.x,e.y))}append(e,t){this.currentPolyCount.edges++,this.acc._add(e);const r=this.min,n=this.max;e.x<r.x?r.x=e.x:e.x>n.x&&(n.x=e.x),e.y<r.y?r.y=e.y:e.y>n.y&&(n.y=e.y),((0===e.x||e.x===vs)&&e.x===t.x)!=((0===e.y||e.y===vs)&&e.y===t.y)&&this.processBorderOverlap(e,t),t.x<0!=e.x<0&&this.addBorderIntersection(0,Cr(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>vs!=e.x>vs&&this.addBorderIntersection(1,Cr(t.y,e.y,(vs-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,Cr(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>vs!=e.y>vs&&this.addBorderIntersection(3,Cr(t.x,e.x,(vs-t.y)/(e.y-t.y)))}addBorderIntersection(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const r=this.borders[e];t<r[0]&&(r[0]=t),t>r[1]&&(r[1]=t)}processBorderOverlap(e,t){if(e.x===t.x){if(e.y===t.y)return;const r=0===e.x?0:1;this.addBorderIntersection(r,t.y),this.addBorderIntersection(r,e.y)}else{const r=0===e.y?2:3;this.addBorderIntersection(r,t.x),this.addBorderIntersection(r,e.x)}}centroid(){const e=this.polyCount.reduce((e,t)=>e+t.edges,0);return 0!==e?this.acc.div(e)._round():new m(0,0)}span(){return new m(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,t)=>e+ +(t[0]!==Number.MAX_VALUE),0)}}class Su{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.layoutVertexArray=new Qo,this.centroidVertexArray=new La,this.indexArray=new pa,this.programConfigurations=new ls(e.layers,e.zoom),this.segments=new ys,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.enableTerrain=e.enableTerrain}populate(e,t,r,n){this.features=[],this.hasPattern=Yc("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(e){const t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/vs/(1<<e.z)}(r),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:i,id:o,index:a,sourceLayerIndex:s}of e){const e=this.layers[0]._featureFilter.needGeometry,l=Vs(i,e);if(!this.layers[0]._featureFilter.filter(new Io(this.zoom),l,r))continue;const c={id:o,sourceLayerIndex:s,index:a,geometry:e?l.geometry:Ns(i,r,n),properties:i.properties,type:i.type,patterns:{}},u=this.layoutVertexArray.length;this.hasPattern?this.features.push(Kc("fill-extrusion",this.layers,c,this.zoom,t)):this.addFeature(c,c.geometry,a,r,{},t.availableImages,n),t.featureIndex.insert(i,c.geometry,a,s,this.index,u)}this.sortBorders()}addFeatures(e,t,r,n,i){for(const e of this.features){const{geometry:o}=e;this.addFeature(e,o,e.index,t,r,n,i)}this.sortBorders()}update(e,t,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,iu),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,nu.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,ru.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,r,n,i,o,a){const s=[new m(0,0),new m(vs,vs)],l=a.projection,c="globe"===l.name,u=this.enableTerrain&&!c?new Eu:null,h="Polygon"===xu[e.type];c&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new Ta);const d=Xc(t,500);for(let e=d.length-1;e>=0;e--){const t=d[e];(0===t.length||(p=t[0]).every(e=>e.x<=0)||p.every(e=>e.x>=vs)||p.every(e=>e.y<=0)||p.every(e=>e.y>=vs))&&d.splice(e,1)}var p;let f;if(c)f=Du(d,s,n);else{f=[];for(const e of d)f.push({polygon:e,bounds:s})}const g=h?this.edgeRadius:0;for(const{polygon:e,bounds:t}of f){let r=0,i=0;for(const t of e)h&&!t[0].equals(t[t.length-1])&&t.push(t[0]),i+=h?t.length-1:t.length;const o=this.segments.prepareSegment((h?5:4)*i,this.layoutVertexArray,this.indexArray);if(h){const t=[],i=[];r=o.vertexLength;for(const r of e){let a,s;r.length&&r!==e[0]&&i.push(t.length/2),a=r[1].sub(r[0])._perp()._unit();for(let e=1;e<r.length;e++){const i=r[e],u=r[e===r.length-1?1:e+1];let{x:h,y:d}=i;if(g){s=u.sub(i)._perp()._unit();const e=a.add(s)._unit(),t=g*Math.min(4,1/(a.x*e.x+a.y*e.y));h+=t*e.x,d+=t*e.y,a=s}wu(this.layoutVertexArray,h,d,0,0,1,1,0),o.vertexLength++,t.push(i.x,i.y),c&&Tu(this.layoutVertexExtArray,l.projectTilePoint(h,d,n),l.upVector(n,h,d))}}const a=yc.exports(t,i);for(let e=0;e<a.length;e+=3)this.indexArray.emplaceBack(r+a[e],r+a[e+2],r+a[e+1]),o.primitiveLength++}for(const i of e){u&&i.length&&u.startRing(i[0]);let e,a,s,d=i.length>4&&Iu(i[i.length-2],i[0],i[1]),p=g?Mu(i[i.length-2],i[0],i[1],g):0;a=i[1].sub(i[0])._perp()._unit();let f=!0;for(let m=1,_=0;m<i.length;m++){let y=i[m-1],v=i[m];const x=i[m===i.length-1?1:m+1];if(u&&h&&u.currentPolyCount.top++,Au(v,y,t)){g&&(a=x.sub(v)._perp()._unit(),f=!f);continue}u&&u.append(v,y);const b=v.sub(y)._perp(),w=b.x/(Math.abs(b.x)+Math.abs(b.y)),T=b.y>0?1:0,E=y.dist(v);if(_+E>32768&&(_=0),g){s=x.sub(v)._perp()._unit();let e=ku(y,v,x,Cu(a,s),g);isNaN(e)&&(e=0);const t=v.sub(y)._unit();y=y.add(t.mult(p))._round(),v=v.add(t.mult(-e))._round(),p=e,a=s}const S=o.vertexLength,C=i.length>4&&Iu(y,v,x);let M=Pu(_,d,f);if(wu(this.layoutVertexArray,y.x,y.y,w,T,0,0,M),wu(this.layoutVertexArray,y.x,y.y,w,T,0,1,M),_+=E,M=Pu(_,C,!f),d=C,wu(this.layoutVertexArray,v.x,v.y,w,T,0,0,M),wu(this.layoutVertexArray,v.x,v.y,w,T,0,1,M),o.vertexLength+=4,this.indexArray.emplaceBack(S+0,S+1,S+2),this.indexArray.emplaceBack(S+1,S+3,S+2),o.primitiveLength+=2,g){const n=r+(1===m?i.length-2:m-2),a=1===m?r:n+1;if(this.indexArray.emplaceBack(S+1,n,S+3),this.indexArray.emplaceBack(n,a,S+3),o.primitiveLength+=2,void 0===e&&(e=S),!Au(x,i[m],t)){const t=m===i.length-1?e:o.vertexLength;this.indexArray.emplaceBack(S+2,S+3,t),this.indexArray.emplaceBack(S+3,t+1,t),this.indexArray.emplaceBack(S+3,a,t+1),o.primitiveLength+=3}f=!f}if(c){const e=this.layoutVertexExtArray,t=l.projectTilePoint(y.x,y.y,n),r=l.projectTilePoint(v.x,v.y,n),i=l.upVector(n,y.x,y.y),o=l.upVector(n,v.x,v.y);Tu(e,t,i),Tu(e,t,i),Tu(e,r,o),Tu(e,r,o)}}h&&(r+=i.length-1)}}if(u&&u.polyCount.length>0){if(u.borders){u.vertexArrayOffset=this.centroidVertexArray.length;const e=u.borders,t=this.featuresOnBorder.push(u)-1;for(let r=0;r<4;r++)e[r][0]!==Number.MAX_VALUE&&this.borders[r].push(t)}this.encodeCentroid(u.borders?void 0:u.centroid(),u)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,o,n)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((t,r)=>this.featuresOnBorder[t].borders[e][0]-this.featuresOnBorder[r].borders[e][0])}encodeCentroid(e,t,r=!0){let n,i;if(e)if(0!==e.y){const r=t.span()._mult(this.tileToMeter);n=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(r.x/10)),i=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(r.y/10))}else n=Math.ceil(7*(e.x+450)),i=0;else n=0,i=+r;let o=r?this.centroidVertexArray.length:t.vertexArrayOffset;for(const e of t.polyCount){r&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*e.edges+e.top);for(let t=0;t<e.top;t++)this.centroidVertexArray.emplace(o++,n,i);for(let t=0;t<2*e.edges;t++)this.centroidVertexArray.emplace(o++,0,i),this.centroidVertexArray.emplace(o++,n,i)}}}function Cu(e,t){const r=e.add(t)._unit();return e.x*r.x+e.y*r.y}function Mu(e,t,r,n){const i=t.sub(e)._perp()._unit(),o=r.sub(t)._perp()._unit();return ku(e,t,r,Cu(i,o),n)}function ku(e,t,r,n,i){const o=Math.sqrt(1-n*n);return Math.min(e.dist(t)/3,t.dist(r)/3,i*o/n)}function Au(e,t,r){return e.x<r[0].x&&t.x<r[0].x||e.x>r[1].x&&t.x>r[1].x||e.y<r[0].y&&t.y<r[0].y||e.y>r[1].y&&t.y>r[1].y}function Iu(e,t,r){if(e.x<0||e.x>=vs||t.x<0||t.x>=vs||r.x<0||r.x>=vs)return!1;const n=r.sub(t),i=n.perp(),o=e.sub(t);return(n.x*o.x+n.y*o.y)/Math.sqrt((n.x*n.x+n.y*n.y)*(o.x*o.x+o.y*o.y))>-.866&&i.x*o.x+i.y*o.y<0}function Pu(e,t,r){const n=t?2|e:-3&e;return r?1|n:-2&n}function zu(){const e=Math.PI/32,t=Math.tan(e),r=bs;return r*Math.sqrt(1+2*t*t)-r}function Du(e,t,r){const n=1<<r.z,i=ks(r.x/n),o=ks((r.x+1)/n),a=As(r.y/n),s=As((r.y+1)/n);return function(e,t,r,n,i=0,o){const a=[];if(!e.length||!r||!n)return a;const s=(e,t)=>{for(const r of e)a.push({polygon:r,bounds:t})},l=Math.ceil(Math.log2(r)),c=Math.ceil(Math.log2(n)),u=l-c,h=[];for(let e=0;e<Math.abs(u);e++)h.push(u>0?0:1);for(let e=0;e<Math.min(l,c);e++)h.push(0),h.push(1);let d=e;if(d=vu(d,t[0].y-i,t[1].y+i,1),d=vu(d,t[0].x-i,t[1].x+i,0),!d.length)return a;const p=[];for(h.length?p.push({polygons:d,bounds:t,depth:0}):s(d,t);p.length;){const e=p.pop(),t=e.depth,r=h[t],n=e.bounds[0],a=e.bounds[1],l=0===r?n.x:n.y,c=0===r?a.x:a.y,u=o?o(r,l,c):.5*(l+c),d=vu(e.polygons,l-i,u+i,r),f=vu(e.polygons,u-i,c+i,r);if(d.length){const e=[n,new m(0===r?u:a.x,1===r?u:a.y)];h.length>t+1?p.push({polygons:d,bounds:e,depth:t+1}):s(d,e)}if(f.length){const e=[new m(0===r?u:n.x,1===r?u:n.y),a];h.length>t+1?p.push({polygons:f,bounds:e,depth:t+1}):s(f,e)}}return a}(e,t,Math.ceil((o-i)/11.25),Math.ceil((a-s)/11.25),1,(e,t,i)=>{if(0===e)return.5*(t+i);{const e=As((r.y+t/vs)/n);return(Cs(.5*(As((r.y+i/vs)/n)+e))*n-r.y)*vs}})}Ii(Su,"FillExtrusionBucket",{omit:["layers","features"]}),Ii(Eu,"PartMetadata");const Ru=new qo({"fill-extrusion-edge-radius":new jo(Ye["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var Lu={paint:new qo({"fill-extrusion-opacity":new jo(Ye["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Uo(Ye["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new jo(Ye["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new jo(Ye["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new No(Ye["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Uo(Ye["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Uo(Ye["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new jo(Ye["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new jo(Ye["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new jo(Ye["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:Ru};function Ou(e,t,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[e*n-2*Math.PI*6378137/2,t*n-2*Math.PI*6378137/2]}class Bu{constructor(e,t,r){this.z=e,this.x=t,this.y=r,this.key=Uu(0,e,e,t,r)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t){const r=function(e,t,r){var n=Ou(256*e,256*(t=Math.pow(2,r)-t-1),r),i=Ou(256*(e+1),256*(t+1),r);return n[0]+","+n[1]+","+i[0]+","+i[1]}(this.x,this.y,this.z),n=function(e,t,r){let n,i="";for(let o=e;o>0;o--)n=1<<o-1,i+=(t&n?1:0)+(r&n?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",n).replace("{bbox-epsg-3857}",r)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Fu{constructor(e,t){this.wrap=e,this.canonical=t,this.key=Uu(e,t.z,t.z,t.x,t.y)}}class ju{constructor(e,t,r,n,i){this.overscaledZ=e,this.wrap=t,this.canonical=new Bu(r,+n,+i),this.key=0===t&&e===r?this.canonical.key:Uu(t,e,r,n,i)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const t=this.canonical.z-e;return e>this.canonical.z?new ju(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ju(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t=!0){if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return Uu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);{const r=this.canonical.z-e;return Uu(this.wrap*+t,e,e,this.canonical.x>>r,this.canonical.y>>r)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new ju(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new ju(t,this.wrap,t,r,n),new ju(t,this.wrap,t,r+1,n),new ju(t,this.wrap,t,r,n+1),new ju(t,this.wrap,t,r+1,n+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new ju(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new ju(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Fu(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Uu(e,t,r,n,i){const o=1<<Math.min(r,22);let a=o*(i%o)+n%o;return e&&r<22&&(a+=o*o*((e<0?-2*e-1:2*e)%(1<<2*(22-r)))),16*(32*a+r)+(t-r)}Ii(Bu,"CanonicalTileID"),Ii(ju,"OverscaledTileID",{omit:["projMatrix"]});class Nu extends m{constructor(e,t,r){super(e,t),this.z=r}}function Vu(e,t){return e.x*t.x+e.y*t.y}function Gu(e,t){if(1===e.length){let r=0;const n=t[r++];let i;for(;!i||n.equals(i);)if(i=t[r++],!i)return 1/0;for(;r<t.length;r++){const o=t[r],a=e[0],s=i.sub(n),l=o.sub(n),c=a.sub(n),u=Vu(s,s),h=Vu(s,l),d=Vu(l,l),p=Vu(c,s),f=Vu(c,l),m=u*d-h*h,g=(d*p-h*f)/m,_=(u*f-h*p)/m,y=n.z*(1-g-_)+i.z*g+o.z*_;if(isFinite(y))return y}return 1/0}{let e=1/0;for(const r of t)e=Math.min(e,r.z);return e}}function qu(e,t,r,n,i,o,a,s){const l=a*i.getElevationAt(e,t,!0,!0),c=0!==o[0],u=c?0===o[1]?a*(o[0]/7-450):a*function(e,t,r){const n=Math.floor(t[0]/8),i=Math.floor(t[1]/8),o=10*(t[0]-8*n),a=10*(t[1]-8*i),s=e.getElevationAt(n,i,!0,!0),l=e.getMeterToDEM(r),c=Math.floor(.5*(o*l-1)),u=Math.floor(.5*(a*l-1)),h=e.tileCoordToPixel(n,i),d=2*c+1,p=2*u+1,f=function(e,t,r,n,i){return[e.getElevationAtPixel(t,r,!0),e.getElevationAtPixel(t+i,r,!0),e.getElevationAtPixel(t,r+i,!0),e.getElevationAtPixel(t+n,r+i,!0)]}(e,h.x-c,h.y-u,d,p),m=Math.abs(f[0]-f[1]),g=Math.abs(f[2]-f[3]),_=Math.abs(f[0]-f[2])+Math.abs(f[1]-f[3]),y=Math.min(.25,.5*l*(m+g)/d),v=Math.min(.25,.5*l*_/p);return s+Math.max(y*o,v*a)}(i,o,s):l;return{base:l+(0===r)?-1:r,top:c?Math.max(u+n,l+r+2):l+n}}const Zu=Ho([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:$u}=Zu,Wu=Ho([{name:"a_packed",components:4,type:"Float32"}]),{members:Xu}=Wu,Hu=yu.types,Yu=Math.cos(Math.PI/180*37.5);class Ku{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(e=>{this.gradients[e.id]={}}),this.layoutVertexArray=new ea,this.layoutVertexArray2=new ta,this.indexArray=new pa,this.programConfigurations=new ls(e.layers,e.zoom),this.segments=new ys,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,r,n){this.hasPattern=Yc("line",this.layers,t);const i=this.layers[0].layout.get("line-sort-key"),o=[];for(const{feature:t,id:a,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Vs(t,e);if(!this.layers[0]._featureFilter.filter(new Io(this.zoom),c,r))continue;const u=i?i.evaluate(c,{},r):void 0,h={id:a,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?c.geometry:Ns(t,r,n),patterns:{},sortKey:u};o.push(h)}i&&o.sort((e,t)=>e.sortKey-t.sortKey);const{lineAtlas:a,featureIndex:s}=t,l=this.addConstantDashes(a);for(const n of o){const{geometry:i,index:o,sourceLayerIndex:c}=n;if(l&&this.addFeatureDashes(n,a),this.hasPattern){const e=Kc("line",this.layers,n,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(n,i,o,r,a.positions,t.availableImages);s.insert(e[o].feature,i,o,c,this.index)}}addConstantDashes(e){let t=!1;for(const r of this.layers){const n=r.paint.get("line-dasharray").value,i=r.layout.get("line-cap").value;if("constant"!==n.kind||"constant"!==i.kind)t=!0;else{const t=i.value,r=n.value;if(!r)continue;e.addDash(r.from,t),e.addDash(r.to,t),r.other&&e.addDash(r.other,t)}}return t}addFeatureDashes(e,t){const r=this.zoom;for(const n of this.layers){const i=n.paint.get("line-dasharray").value,o=n.layout.get("line-cap").value;if("constant"===i.kind&&"constant"===o.kind)continue;let a,s,l,c,u,h;if("constant"===i.kind){const e=i.value;if(!e)continue;a=e.other||e.to,s=e.to,l=e.from}else a=i.evaluate({zoom:r-1},e),s=i.evaluate({zoom:r},e),l=i.evaluate({zoom:r+1},e);"constant"===o.kind?c=u=h=o.value:(c=o.evaluate({zoom:r-1},e),u=o.evaluate({zoom:r},e),h=o.evaluate({zoom:r+1},e)),t.addDash(a,c),t.addDash(s,u),t.addDash(l,h);const d=t.getKey(a,c),p=t.getKey(s,u),f=t.getKey(l,h);e.patterns[n.id]={min:d,mid:p,max:f}}}update(e,t,r,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,r,n)}addFeatures(e,t,r,n,i){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,r,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Xu)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,$u),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,r,n,i,o){const a=this.layers[0].layout,s=a.get("line-join").evaluate(e,{}),l=a.get("line-cap").evaluate(e,{}),c=a.get("line-miter-limit"),u=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const r of t)this.addLine(r,e,s,l,c,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,r,i,o,n)}addLine(e,t,r,n,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const a="Polygon"===Hu[t.type];let s=e.length;for(;s>=2&&e[s-1].equals(e[s-2]);)s--;let l=0;for(;l<s-1&&e[l].equals(e[l+1]);)l++;if(s<(a?3:2))return;"bevel"===r&&(i=1.05);const c=this.overscaling<=16?122880/(512*this.overscaling):0,u=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let h,d,p,f,m;this.e1=this.e2=-1,a&&(h=e[s-2],m=e[l].sub(h)._unit()._perp());for(let t=l;t<s;t++){if(p=t===s-1?a?e[l+1]:void 0:e[t+1],p&&e[t].equals(p))continue;m&&(f=m),h&&(d=h),h=e[t],m=p?p.sub(h)._unit()._perp():f,f=f||m;let g=f.add(m);0===g.x&&0===g.y||g._unit();const _=f.x*m.x+f.y*m.y,y=g.x*m.x+g.y*m.y,v=0!==y?1/y:1/0,x=2*Math.sqrt(2-2*y),b=y<Yu&&d&&p,w=f.x*m.y-f.y*m.x>0;if(b&&t>l){const e=h.dist(d);if(e>2*c){const t=h.sub(h.sub(d)._mult(c/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,f,0,0,u),d=t}}const T=d&&p;let E=T?r:a?"butt":n;if(T&&"round"===E&&(v<o?E="miter":v<=2&&(E="fakeround")),"miter"===E&&v>i&&(E="bevel"),"bevel"===E&&(v>2&&(E="flipbevel"),v<i&&(E="miter")),d&&this.updateDistance(d,h),"miter"===E)g._mult(v),this.addCurrentVertex(h,g,0,0,u);else if("flipbevel"===E){if(v>100)g=m.mult(-1);else{const e=v*f.add(m).mag()/f.sub(m).mag();g._perp()._mult(e*(w?-1:1))}this.addCurrentVertex(h,g,0,0,u),this.addCurrentVertex(h,g.mult(-1),0,0,u)}else if("bevel"===E||"fakeround"===E){const e=-Math.sqrt(v*v-1),t=w?e:0,r=w?0:e;if(d&&this.addCurrentVertex(h,f,t,r,u),"fakeround"===E){const e=Math.round(180*x/Math.PI/20);for(let t=1;t<e;t++){let r=t/e;if(.5!==r){const e=r-.5;r+=r*e*(r-1)*((1.0904+_*(_*(3.55645-1.43519*_)-3.2452))*e*e+(.848013+_*(.215638*_-1.06021)))}const n=m.sub(f)._mult(r)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(h,n.x,n.y,!1,w,0,u)}}p&&this.addCurrentVertex(h,m,-t,-r,u)}else if("butt"===E)this.addCurrentVertex(h,g,0,0,u);else if("square"===E){const e=d?1:-1;d||this.addCurrentVertex(h,g,e,e,u),this.addCurrentVertex(h,g,0,0,u),d&&this.addCurrentVertex(h,g,e,e,u)}else"round"===E&&(d&&(this.addCurrentVertex(h,f,0,0,u),this.addCurrentVertex(h,f,1,1,u,!0)),p&&(this.addCurrentVertex(h,m,-1,-1,u,!0),this.addCurrentVertex(h,m,0,0,u)));if(b&&t<s-1){const e=h.dist(p);if(e>2*c){const t=h.add(p.sub(h)._mult(c/e)._round());this.updateDistance(h,t),this.addCurrentVertex(t,m,0,0,u),h=t}}}}addCurrentVertex(e,t,r,n,i,o=!1){const a=t.y*n-t.x,s=-t.y-t.x*n;this.addHalfVertex(e,t.x+t.y*r,t.y-t.x*r,o,!1,r,i),this.addHalfVertex(e,a,s,o,!0,-n,i)}addHalfVertex({x:e,y:t},r,n,i,o,a,s){this.layoutVertexArray.emplaceBack((e<<1)+(i?1:0),(t<<1)+(o?1:0),Math.round(63*r)+128,Math.round(63*n)+128,1+(0===a?0:a<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const l=s.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),s.primitiveLength++),o?this.e2=l:this.e1=l}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}Ii(Ku,"LineBucket",{omit:["layers","patternFeatures"]});const Ju=new qo({"line-cap":new Uo(Ye.layout_line["line-cap"]),"line-join":new Uo(Ye.layout_line["line-join"]),"line-miter-limit":new jo(Ye.layout_line["line-miter-limit"]),"line-round-limit":new jo(Ye.layout_line["line-round-limit"]),"line-sort-key":new Uo(Ye.layout_line["line-sort-key"])});var Qu={paint:new qo({"line-opacity":new Uo(Ye.paint_line["line-opacity"]),"line-color":new Uo(Ye.paint_line["line-color"]),"line-translate":new jo(Ye.paint_line["line-translate"]),"line-translate-anchor":new jo(Ye.paint_line["line-translate-anchor"]),"line-width":new Uo(Ye.paint_line["line-width"]),"line-gap-width":new Uo(Ye.paint_line["line-gap-width"]),"line-offset":new Uo(Ye.paint_line["line-offset"]),"line-blur":new Uo(Ye.paint_line["line-blur"]),"line-dasharray":new No(Ye.paint_line["line-dasharray"]),"line-pattern":new No(Ye.paint_line["line-pattern"]),"line-gradient":new Go(Ye.paint_line["line-gradient"]),"line-trim-offset":new jo(Ye.paint_line["line-trim-offset"])}),layout:Ju};const eh=new class extends Uo{possiblyEvaluate(e,t){return t=new Io(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,r,n){return t=I({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,r,n)}}(Qu.paint.properties["line-width"].specification);function th(e,t){return t>0?t+2*e:e}eh.useIntegerZoom=!0;const rh=Ho([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),nh=Ho([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),ih=Ho([{name:"a_projected_pos",components:4,type:"Float32"}],4);Ho([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const oh=Ho([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),ah=Ho([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const sh=Ho([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),lh=Ho([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ho([{name:"triangle",components:3,type:"Uint16"}]),Ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ho([{type:"Float32",name:"offsetX"}]),Ho([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const ch=128;function uh(e,t){const{expression:r}=t;if("constant"===r.kind)return{kind:"constant",layoutSize:r.evaluate(new Io(e+1))};if("source"===r.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:n}=r;let i=0;for(;i<t.length&&t[i]<=e;)i++;i=Math.max(0,i-1);let o=i;for(;o<t.length&&t[o]<e+1;)o++;o=Math.min(t.length-1,o);const a=t[i],s=t[o];return"composite"===r.kind?{kind:"composite",minZoom:a,maxZoom:s,interpolationType:n}:{kind:"camera",minZoom:a,maxZoom:s,minSize:r.evaluate(new Io(a)),maxSize:r.evaluate(new Io(s)),interpolationType:n}}}function hh(e,{uSize:t,uSizeT:r},{lowerSize:n,upperSize:i}){return"source"===e.kind?n/ch:"composite"===e.kind?Cr(n/ch,i/ch,r):t}function dh(e,t){let r=0,n=0;if("constant"===e.kind)n=e.layoutSize;else if("source"!==e.kind){const{interpolationType:i,minZoom:o,maxZoom:a}=e,s=i?S(Gr.interpolationFactor(i,t,o,a),0,1):0;"camera"===e.kind?n=Cr(e.minSize,e.maxSize,s):r=s}return{uSizeT:r,uSize:n}}var ph=Object.freeze({__proto__:null,getSizeData:uh,evaluateSizeForFeature:hh,evaluateSizeForZoom:dh,SIZE_PACK_FACTOR:ch});function fh(e,t,r){return e.sections.forEach(e=>{e.text=function(e,t,r){const n=t.layout.get("text-transform").evaluate(r,{});return"uppercase"===n?e=e.toLocaleUpperCase():"lowercase"===n&&(e=e.toLocaleLowerCase()),Ao.applyArabicShaping&&(e=Ao.applyArabicShaping(e)),e}(e.text,t,r)}),e}const mh={"!":"ï¸•","#":"ï¼ƒ",$:"ï¼„","%":"ï¼…","&":"ï¼†","(":"ï¸µ",")":"ï¸¶","*":"ï¼Š","+":"ï¼‹",",":"ï¸","-":"ï¸²",".":"ãƒ»","/":"ï¼",":":"ï¸“",";":"ï¸”","<":"ï¸¿","=":"ï¼",">":"ï¹€","?":"ï¸–","@":"ï¼ ","[":"ï¹‡","\\":"ï¼¼","]":"ï¹ˆ","^":"ï¼¾",_:"ï¸³","`":"ï½€","{":"ï¸·","|":"â€•","}":"ï¸¸","~":"ï½ž","Â¢":"ï¿ ","Â£":"ï¿¡","Â¥":"ï¿¥","Â¦":"ï¿¤","Â¬":"ï¿¢","Â¯":"ï¿£","â€“":"ï¸²","â€”":"ï¸±","â€˜":"ï¹ƒ","â€™":"ï¹„","â€œ":"ï¹","â€":"ï¹‚","â€¦":"ï¸™","â€§":"ãƒ»","â‚©":"ï¿¦","ã€":"ï¸‘","ã€‚":"ï¸’","ã€ˆ":"ï¸¿","ã€‰":"ï¹€","ã€Š":"ï¸½","ã€‹":"ï¸¾","ã€Œ":"ï¹","ã€":"ï¹‚","ã€Ž":"ï¹ƒ","ã€":"ï¹„","ã€":"ï¸»","ã€‘":"ï¸¼","ã€”":"ï¸¹","ã€•":"ï¸º","ã€–":"ï¸—","ã€—":"ï¸˜","ï¼":"ï¸•","ï¼ˆ":"ï¸µ","ï¼‰":"ï¸¶","ï¼Œ":"ï¸","ï¼":"ï¸²","ï¼Ž":"ãƒ»","ï¼š":"ï¸“","ï¼›":"ï¸”","ï¼œ":"ï¸¿","ï¼ž":"ï¹€","ï¼Ÿ":"ï¸–","ï¼»":"ï¹‡","ï¼½":"ï¹ˆ","ï¼¿":"ï¸³","ï½›":"ï¸·","ï½œ":"â€•","ï½":"ï¸¸","ï½Ÿ":"ï¸µ","ï½ ":"ï¸¶","ï½¡":"ï¸’","ï½¢":"ï¹","ï½£":"ï¹‚"};function gh(e){return"ï¸¶"===e||"ï¹ˆ"===e||"ï¸¸"===e||"ï¹„"===e||"ï¹‚"===e||"ï¸¾"===e||"ï¸¼"===e||"ï¸º"===e||"ï¸˜"===e||"ï¹€"===e||"ï¸"===e||"ï¸“"===e||"ï¸”"===e||"ï½€"===e||"ï¿£"===e||"ï¸‘"===e||"ï¸’"===e}function _h(e){return"ï¸µ"===e||"ï¹‡"===e||"ï¸·"===e||"ï¹ƒ"===e||"ï¹"===e||"ï¸½"===e||"ï¸»"===e||"ï¸¹"===e||"ï¸—"===e||"ï¸¿"===e}var yh=bh,vh=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,h=r?i-1:0,d=r?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},xh=function(e,t,r,n,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,f=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=f,a/=256,c-=8);e[r+p-f]|=128*m};function bh(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}bh.Varint=0,bh.Fixed64=1,bh.Bytes=2,bh.Fixed32=5;var wh=4294967296,Th=1/wh,Eh="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Sh(e){return e.type===bh.Bytes?e.readVarint()+e.pos:e.pos+1}function Ch(e,t,r){return r?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Mh(e,t,r){var n=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i>=e;i--)r.buf[i+n]=r.buf[i]}function kh(e,t){for(var r=0;r<e.length;r++)t.writeVarint(e[r])}function Ah(e,t){for(var r=0;r<e.length;r++)t.writeSVarint(e[r])}function Ih(e,t){for(var r=0;r<e.length;r++)t.writeFloat(e[r])}function Ph(e,t){for(var r=0;r<e.length;r++)t.writeDouble(e[r])}function zh(e,t){for(var r=0;r<e.length;r++)t.writeBoolean(e[r])}function Dh(e,t){for(var r=0;r<e.length;r++)t.writeFixed32(e[r])}function Rh(e,t){for(var r=0;r<e.length;r++)t.writeSFixed32(e[r])}function Lh(e,t){for(var r=0;r<e.length;r++)t.writeFixed64(e[r])}function Oh(e,t){for(var r=0;r<e.length;r++)t.writeSFixed64(e[r])}function Bh(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Fh(e,t,r){e[r]=t,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24}function jh(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Uh(e,t,r){t.glyphs=[],1===e&&r.readMessage(Nh,t)}function Nh(e,t,r){if(3===e){const{id:e,bitmap:n,width:i,height:o,left:a,top:s,advance:l}=r.readMessage(Vh,{});t.glyphs.push({id:e,bitmap:new hc({width:i+6,height:o+6},n),metrics:{width:i,height:o,left:a,top:s,advance:l}})}else 4===e?t.ascender=r.readSVarint():5===e&&(t.descender=r.readSVarint())}function Vh(e,t,r){1===e?t.id=r.readVarint():2===e?t.bitmap=r.readBytes():3===e?t.width=r.readVarint():4===e?t.height=r.readVarint():5===e?t.left=r.readSVarint():6===e?t.top=r.readSVarint():7===e&&(t.advance=r.readVarint())}function Gh(e){let t=0,r=0;for(const n of e)t+=n.w*n.h,r=Math.max(r,n.w);e.sort((e,t)=>t.h-e.h);const n=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),r),h:1/0}];let i=0,o=0;for(const t of e)for(let e=n.length-1;e>=0;e--){const r=n[e];if(!(t.w>r.w||t.h>r.h)){if(t.x=r.x,t.y=r.y,o=Math.max(o,t.y+t.h),i=Math.max(i,t.x+t.w),t.w===r.w&&t.h===r.h){const t=n.pop();e<n.length&&(n[e]=t)}else t.h===r.h?(r.x+=t.w,r.w-=t.w):t.w===r.w?(r.y+=t.h,r.h-=t.h):(n.push({x:r.x+t.w,y:r.y,w:r.w-t.w,h:t.h}),r.y+=t.h,r.h-=t.h);break}}return{w:i,h:o,fill:t/(i*o)||0}}bh.prototype={destroy:function(){this.buf=null},readFields:function(e,t,r){for(r=r||this.length;this.pos<r;){var n=this.readVarint(),i=n>>3,o=this.pos;this.type=7&n,e(i,t,this),this.pos===o&&this.skip(n)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Bh(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=jh(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Bh(this.buf,this.pos)+Bh(this.buf,this.pos+4)*wh;return this.pos+=8,e},readSFixed64:function(){var e=Bh(this.buf,this.pos)+jh(this.buf,this.pos+4)*wh;return this.pos+=8,e},readFloat:function(){var e=vh(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=vh(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,r,n=this.buf;return t=127&(r=n[this.pos++]),r<128?t:(t|=(127&(r=n[this.pos++]))<<7,r<128?t:(t|=(127&(r=n[this.pos++]))<<14,r<128?t:(t|=(127&(r=n[this.pos++]))<<21,r<128?t:function(e,t,r){var n,i,o=r.buf;if(n=(112&(i=o[r.pos++]))>>4,i<128)return Ch(e,n,t);if(n|=(127&(i=o[r.pos++]))<<3,i<128)return Ch(e,n,t);if(n|=(127&(i=o[r.pos++]))<<10,i<128)return Ch(e,n,t);if(n|=(127&(i=o[r.pos++]))<<17,i<128)return Ch(e,n,t);if(n|=(127&(i=o[r.pos++]))<<24,i<128)return Ch(e,n,t);if(n|=(1&(i=o[r.pos++]))<<31,i<128)return Ch(e,n,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(r=n[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Eh?function(e,t,r){return Eh.decode(e.subarray(t,r))}(this.buf,t,e):function(e,t,r){for(var n="",i=t;i<r;){var o,a,s,l=e[i],c=null,u=l>239?4:l>223?3:l>191?2:1;if(i+u>r)break;1===u?l<128&&(c=l):2===u?128==(192&(o=e[i+1]))&&(c=(31&l)<<6|63&o)<=127&&(c=null):3===u?(a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&((c=(15&l)<<12|(63&o)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,n+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),n+=String.fromCharCode(c),i+=u}return n}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==bh.Bytes)return e.push(this.readVarint(t));var r=Sh(this);for(e=e||[];this.pos<r;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==bh.Bytes)return e.push(this.readSVarint());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==bh.Bytes)return e.push(this.readBoolean());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==bh.Bytes)return e.push(this.readFloat());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==bh.Bytes)return e.push(this.readDouble());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==bh.Bytes)return e.push(this.readFixed32());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==bh.Bytes)return e.push(this.readSFixed32());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==bh.Bytes)return e.push(this.readFixed64());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==bh.Bytes)return e.push(this.readSFixed64());var t=Sh(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===bh.Varint)for(;this.buf[this.pos++]>127;);else if(t===bh.Bytes)this.pos=this.readVarint()+this.pos;else if(t===bh.Fixed32)this.pos+=4;else{if(t!==bh.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var r=new Uint8Array(t);r.set(this.buf),this.buf=r,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Fh(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Fh(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Fh(this.buf,-1&e,this.pos),Fh(this.buf,Math.floor(e*Th),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Fh(this.buf,-1&e,this.pos),Fh(this.buf,Math.floor(e*Th),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var r,n;if(e>=0?(r=e%4294967296|0,n=e/4294967296|0):(n=~(-e/4294967296),4294967295^(r=~(-e%4294967296))?r=r+1|0:(r=0,n=n+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,r){r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,e>>>=7,r.buf[r.pos++]=127&e|128,r.buf[r.pos]=127&(e>>>=7)}(r,0,t),function(e,t){var r=(7&e)<<4;t.buf[t.pos++]|=r|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(n,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,r){for(var n,i,o=0;o<t.length;o++){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){n>56319||o+1===t.length?(e[r++]=239,e[r++]=191,e[r++]=189):i=n;continue}if(n<56320){e[r++]=239,e[r++]=191,e[r++]=189,i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&(e[r++]=239,e[r++]=191,e[r++]=189,i=null);n<128?e[r++]=n:(n<2048?e[r++]=n>>6|192:(n<65536?e[r++]=n>>12|224:(e[r++]=n>>18|240,e[r++]=n>>12&63|128),e[r++]=n>>6&63|128),e[r++]=63&n|128)}return r}(this.buf,e,this.pos);var r=this.pos-t;r>=128&&Mh(t,r,this),this.pos=t-1,this.writeVarint(r),this.pos+=r},writeFloat:function(e){this.realloc(4),xh(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),xh(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var r=0;r<t;r++)this.buf[this.pos++]=e[r]},writeRawMessage:function(e,t){this.pos++;var r=this.pos;e(t,this);var n=this.pos-r;n>=128&&Mh(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(e,t,r){this.writeTag(e,bh.Bytes),this.writeRawMessage(t,r)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,kh,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Ah,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,zh,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Ih,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Ph,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Dh,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Rh,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Lh,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Oh,t)},writeBytesField:function(e,t){this.writeTag(e,bh.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,bh.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,bh.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,bh.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,bh.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,bh.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,bh.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,bh.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,bh.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,bh.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};class qh{constructor(e,{pixelRatio:t,version:r,stretchX:n,stretchY:i,content:o}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=n,this.stretchY=i,this.content=o,this.version=r}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Zh{constructor(e,t){const r={},n={};this.haveRenderCallbacks=[];const i=[];this.addImages(e,r,i),this.addImages(t,n,i);const{w:o,h:a}=Gh(i),s=new dc({width:o||1,height:a||1});for(const t in e){const n=e[t],i=r[t].paddedRect;dc.copy(n.data,s,{x:0,y:0},{x:i.x+1,y:i.y+1},n.data)}for(const e in t){const r=t[e],i=n[e].paddedRect,o=i.x+1,a=i.y+1,l=r.data.width,c=r.data.height;dc.copy(r.data,s,{x:0,y:0},{x:o,y:a},r.data),dc.copy(r.data,s,{x:0,y:c-1},{x:o,y:a-1},{width:l,height:1}),dc.copy(r.data,s,{x:0,y:0},{x:o,y:a+c},{width:l,height:1}),dc.copy(r.data,s,{x:l-1,y:0},{x:o-1,y:a},{width:1,height:c}),dc.copy(r.data,s,{x:0,y:0},{x:o+l,y:a},{width:1,height:c})}this.image=s,this.iconPositions=r,this.patternPositions=n}addImages(e,t,r){for(const n in e){const i=e[n],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};r.push(o),t[n]=new qh(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(n)}}patchUpdatedImages(e,t){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(t=>e.hasImage(t)),e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const r in e.updatedImages)this.patchUpdatedImage(this.iconPositions[r],e.getImage(r),t),this.patchUpdatedImage(this.patternPositions[r],e.getImage(r),t)}patchUpdatedImage(e,t,r){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[n,i]=e.tl;r.update(t.data,void 0,{x:n,y:i})}}Ii(qh,"ImagePosition"),Ii(Zh,"ImageAtlas");const $h={horizontal:1,vertical:2,horizontalOnly:3};class Wh{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const r=new Wh;return r.scale=e||1,r.fontStack=t,r}static forImage(e){const t=new Wh;return t.imageName=e,t}}class Xh{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const r=new Xh;for(let n=0;n<e.sections.length;n++){const i=e.sections[n];i.image?r.addImageSection(i):r.addTextSection(i,t)}return r}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(e,t){let r="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n+1)||null,o=e.charCodeAt(n-1)||null;r+=!t&&(i&&fo(i)&&!mh[e[n+1]]||o&&fo(o)&&!mh[e[n-1]])||!mh[e[n]]?e[n]:mh[e[n]]}return r}(this.text,e)}trim(){let e=0;for(let t=0;t<this.text.length&&Yh[this.text.charCodeAt(t)];t++)e++;let t=this.text.length;for(let r=this.text.length-1;r>=0&&r>=e&&Yh[this.text.charCodeAt(r)];r--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const r=new Xh;return r.text=this.text.substring(e,t),r.sectionIndex=this.sectionIndex.slice(e,t),r.sections=this.sections,r}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,t)=>Math.max(e,this.sections[t].scale),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(Wh.forText(e.scale,e.fontStack||t));const r=this.sections.length-1;for(let t=0;t<e.text.length;++t)this.sectionIndex.push(r)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void V("Can't add FormattedSection with an empty image.");const r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(Wh.forImage(t)),this.sectionIndex.push(this.sections.length-1)):V("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Hh(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f){const m=Xh.fromFeature(e,i);h===$h.vertical&&m.verticalizePunctuation(d);let g=[];const _=function(e,t,r,n,i,o){if(!e)return[];const a=[],s=function(e,t,r,n,i,o){let a=0;for(let r=0;r<e.length();r++){const s=e.getSection(r);a+=Jh(e.getCharCode(r),s,n,i,t,o)}return a/Math.max(1,Math.ceil(a/r))}(e,t,r,n,i,o),l=e.text.indexOf("â€‹")>=0;let c=0;for(let r=0;r<e.length();r++){const h=e.getSection(r),d=e.getCharCode(r);if(Yh[d]||(c+=Jh(d,h,n,i,t,o)),r<e.length()-1){const t=!((u=d)<11904||!($i(u)||Zi(u)||oo(u)||ro(u)||Yi(u)||ji(u)||Wi(u)||Vi(u)||Ki(u)||Ji(u)||Hi(u)||lo(u)||Gi(u)||Ni(u)||Ui(u)||Xi(u)||qi(u)||io(u)||eo(u)||Qi(u)));(Kh[d]||t||h.imageName)&&a.push(td(r+1,c,s,a,ed(d,e.getCharCode(r+1),t&&l),!1))}}var u;return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(td(e.length(),c,s,a,0,!0))}(m,c,o,t,n,p),{processBidirectionalText:y,processStyledBidirectionalText:v}=Ao;if(y&&1===m.sections.length){const e=y(m.toString(),_);for(const t of e){const e=new Xh;e.text=t,e.sections=m.sections;for(let r=0;r<t.length;r++)e.sectionIndex.push(0);g.push(e)}}else if(v){const e=v(m.text,m.sectionIndex,_);for(const t of e){const e=new Xh;e.text=t[0],e.sectionIndex=t[1],e.sections=m.sections,g.push(e)}}else g=function(e,t){const r=[],n=e.text;let i=0;for(const n of t)r.push(e.substring(i,n)),i=n;return i<n.length&&r.push(e.substring(i,n.length)),r}(m,_);const x=[],b={positionedLines:x,text:m.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:h,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,r,n,i,o,a,s,l,c,u,h){let d=0,p=0,f=0;const m="right"===s?1:"left"===s?0:.5;let g=!1;for(const e of i){const r=e.getSections();for(const e of r){if(e.imageName)continue;const r=t[e.fontStack];if(r&&(g=void 0!==r.ascender&&void 0!==r.descender,!g))break}if(!g)break}let _=0;for(const a of i){a.trim();const i=a.getMaxScale(),s=24*(i-1),v={positionedGlyphs:[],lineOffset:0};e.positionedLines[_]=v;const x=v.positionedGlyphs;let b=0;if(!a.length()){p+=o,++_;continue}let w=0,T=0;for(let o=0;o<a.length();o++){const s=a.getSection(o),f=a.getSectionIndex(o),m=a.getCharCode(o);let _=s.scale,v=null,E=null,S=null,C=24,M=0;const k=!(l===$h.horizontal||!u&&!po(m)||u&&(Yh[m]||(y=m,Oi(y)||Bi(y)||Fi(y)||no(y)||so(y))));if(s.imageName){const t=n[s.imageName];if(!t)continue;S=s.imageName,e.iconsInText=e.iconsInText||!0,E=t.paddedRect;const r=t.displaySize;_=24*_/h,v={width:r[0],height:r[1],left:1,top:-3,advance:k?r[1]:r[0],localGlyph:!1},M=g?-v.height*_:24*i-17-r[1]*_,C=v.advance;const o=(k?r[0]:r[1])*_-24*i;o>0&&o>b&&(b=o)}else{const e=r[s.fontStack];if(!e)continue;e[m]&&(E=e[m]);const n=t[s.fontStack];if(!n)continue;const o=n.glyphs[m];if(!o)continue;if(v=o.metrics,C=8203!==m?24:0,g){const e=void 0!==n.ascender?Math.abs(n.ascender):0,t=void 0!==n.descender?Math.abs(n.descender):0,r=(e+t)*_;w<r&&(w=r,T=(e-t)/2*_),M=-e*_}else M=24*(i-_)-17}k?(e.verticalizable=!0,x.push({glyph:m,imageName:S,x:d,y:p+M,vertical:k,scale:_,localGlyph:v.localGlyph,fontStack:s.fontStack,sectionIndex:f,metrics:v,rect:E}),d+=C*_+c):(x.push({glyph:m,imageName:S,x:d,y:p+M,vertical:k,scale:_,localGlyph:v.localGlyph,fontStack:s.fontStack,sectionIndex:f,metrics:v,rect:E}),d+=v.advance*_+c)}0!==x.length&&(f=Math.max(d-c,f),g?nd(x,m,b,T,o*i/2):nd(x,m,b,0,o/2)),d=0;const E=o*i+b;v.lineOffset=Math.max(b,s),p+=E,++_}var y;const v=p,{horizontalAlign:x,verticalAlign:b}=rd(a);(function(e,t,r,n,i,o){const a=(t-r)*i,s=-o*n;for(const t of e)for(const e of t.positionedGlyphs)e.x+=a,e.y+=s})(e.positionedLines,m,x,b,f,v),e.top+=-b*v,e.bottom=e.top+v,e.left+=-x*f,e.right=e.left+f,e.hasBaseline=g}(b,t,r,n,g,a,s,l,h,c,d,f),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(x)&&b}const Yh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Kh={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Jh(e,t,r,n,i,o){if(t.imageName){const e=n[t.imageName];return e?e.displaySize[0]*t.scale*24/o+i:0}{const n=r[t.fontStack],o=n&&n.glyphs[e];return o?o.metrics.advance*t.scale+i:0}}function Qh(e,t,r,n){const i=Math.pow(e-t,2);return n?e<t?i/2:2*i:i+Math.abs(r)*r}function ed(e,t,r){let n=0;return 10===e&&(n-=1e4),r&&(n+=150),40!==e&&65288!==e||(n+=50),41!==t&&65289!==t||(n+=50),n}function td(e,t,r,n,i,o){let a=null,s=Qh(t,r,i,o);for(const e of n){const n=Qh(t-e.x,r,i,o)+e.badness;n<=s&&(a=e,s=n)}return{index:e,x:t,priorBreak:a,badness:s}}function rd(e){let t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0}return{horizontalAlign:t,verticalAlign:r}}function nd(e,t,r,n,i){if(!(t||r||n||i))return;const o=e.length-1,a=e[o],s=(a.x+a.metrics.advance*a.scale)*t;for(let t=0;t<=o;t++)e[t].x-=s,e[t].y+=r+n+i}function id(e,t,r){const{horizontalAlign:n,verticalAlign:i}=rd(r),o=t[0]-e.displaySize[0]*n,a=t[1]-e.displaySize[1]*i;return{image:e,top:a,bottom:a+e.displaySize[1],left:o,right:o+e.displaySize[0]}}function od(e,t,r,n,i,o){const a=e.image;let s;if(a.content){const e=a.content,t=a.pixelRatio||1;s=[e[0]/t,e[1]/t,a.displaySize[0]-e[2]/t,a.displaySize[1]-e[3]/t]}const l=t.left*o,c=t.right*o;let u,h,d,p;"width"===r||"both"===r?(p=i[0]+l-n[3],h=i[0]+c+n[1]):(p=i[0]+(l+c-a.displaySize[0])/2,h=p+a.displaySize[0]);const f=t.top*o,m=t.bottom*o;return"height"===r||"both"===r?(u=i[1]+f-n[0],d=i[1]+m+n[2]):(u=i[1]+(f+m-a.displaySize[1])/2,d=u+a.displaySize[1]),{image:a,top:u,right:h,bottom:d,left:p,collisionPadding:s}}class ad extends m{constructor(e,t,r,n,i){super(e,t),this.angle=n,this.z=r,void 0!==i&&(this.segment=i)}clone(){return new ad(this.x,this.y,this.z,this.angle,this.segment)}}function sd(e,t,r,n,i){if(void 0===t.segment)return!0;let o=t,a=t.segment+1,s=0;for(;s>-r/2;){if(a--,a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;const l=[];let c=0;for(;s<r/2;){const t=e[a],r=e[a+1];if(!r)return!1;let o=e[a-1].angleTo(t)-t.angleTo(r);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:o}),c+=o;s-l[0].distance>n;)c-=l.shift().angleDelta;if(c>i)return!1;a++,s+=t.dist(r)}return!0}function ld(e){let t=0;for(let r=0;r<e.length-1;r++)t+=e[r].dist(e[r+1]);return t}function cd(e,t,r){return e?.6*t*r:0}function ud(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function hd(e,t,r,n,i,o){const a=cd(r,i,o),s=ud(r,n)*o;let l=0;const c=ld(e)/2;for(let r=0;r<e.length-1;r++){const n=e[r],i=e[r+1],o=n.dist(i);if(l+o>c){const u=(c-l)/o,h=Cr(n.x,i.x,u),d=Cr(n.y,i.y,u),p=new ad(h,d,0,i.angleTo(n),r);return!a||sd(e,p,s,a,t)?p:void 0}l+=o}}function dd(e,t,r,n,i,o,a,s,l){const c=cd(n,o,a),u=ud(n,i),h=u*a,d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-h<t/4&&(t=h+t/4),function e(t,r,n,i,o,a,s,l,c){const u=a/2,h=ld(t);let d=0,p=r-n,f=[];for(let e=0;e<t.length-1;e++){const r=t[e],s=t[e+1],l=r.dist(s),m=s.angleTo(r);for(;p+n<d+l;){p+=n;const g=(p-d)/l,_=Cr(r.x,s.x,g),y=Cr(r.y,s.y,g);if(_>=0&&_<c&&y>=0&&y<c&&p-u>=0&&p+u<=h){const r=new ad(_,y,0,m,e);r._round(),i&&!sd(t,r,a,i,o)||f.push(r)}}d+=l}return l||f.length||s||(f=e(t,d/2,n,i,o,a,s,!0,c)),f}(e,d?t/2*s%t:(u/2+2*o)*a*s%t,t,c,r,h,d,!1,l)}function pd(e,t,r,n,i){const o=[];for(let a=0;a<e.length;a++){const s=e[a];let l;for(let e=0;e<s.length-1;e++){let a=s[e],c=s[e+1];a.x<t&&c.x<t||(a.x<t?a=new m(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x<t&&(c=new m(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y<r&&c.y<r||(a.y<r?a=new m(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round():c.y<r&&(c=new m(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round()),a.x>=n&&c.x>=n||(a.x>=n?a=new m(n,a.y+(n-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x>=n&&(c=new m(n,a.y+(n-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y>=i&&c.y>=i||(a.y>=i?a=new m(a.x+(i-a.y)/(c.y-a.y)*(c.x-a.x),i)._round():c.y>=i&&(c=new m(a.x+(i-a.y)/(c.y-a.y)*(c.x-a.x),i)._round()),l&&a.equals(l[l.length-1])||(l=[a],o.push(l)),l.push(c)))))}}return o}Ii(ad,"Anchor");const fd=1e20;function md(e,t,r,n,i,o,a,s,l){for(let c=t;c<t+n;c++)gd(e,r*o+c,o,i,a,s,l);for(let c=r;c<r+i;c++)gd(e,c*o+t,1,n,a,s,l)}function gd(e,t,r,n,i,o,a){o[0]=0,a[0]=-fd,a[1]=fd,i[0]=e[t];for(let s=1,l=0,c=0;s<n;s++){i[s]=e[t+s*r];const n=s*s;do{const e=o[l];c=(i[s]-i[e]+n-e*e)/(s-e)/2}while(c<=a[l]&&--l>-1);l++,o[l]=s,a[l]=c,a[l+1]=fd}for(let s=0,l=0;s<n;s++){for(;a[l+1]<s;)l++;const n=o[l],c=s-n;e[t+s*r]=i[n]+c*c}}const _d={none:0,ideographs:1,all:2};class yd{constructor(e,t,r){this.requestManager=e,this.localGlyphMode=t,this.localFontFamily=r,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,t){const r=[];for(const t in e)for(const n of e[t])r.push({stack:t,id:n});k(r,({stack:e,id:t},r)=>{let n=this.entries[e];n||(n=this.entries[e]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let i=n.glyphs[t];if(void 0!==i)return void r(null,{stack:e,id:t,glyph:i});if(i=this._tinySDF(n,e,t),i)return n.glyphs[t]=i,void r(null,{stack:e,id:t,glyph:i});const o=Math.floor(t/256);if(256*o>65535)return void r(new Error("glyphs > 65535 not supported"));if(n.ranges[o])return void r(null,{stack:e,id:t,glyph:i});let a=n.requests[o];a||(a=n.requests[o]=[],yd.loadGlyphRange(e,o,this.url,this.requestManager,(e,t)=>{if(t){n.ascender=t.ascender,n.descender=t.descender;for(const e in t.glyphs)this._doesCharSupportLocalGlyph(+e)||(n.glyphs[+e]=t.glyphs[+e]);n.ranges[o]=!0}for(const r of a)r(e,t);delete n.requests[o]})),a.push((n,i)=>{n?r(n):i&&r(null,{stack:e,id:t,glyph:i.glyphs[t]||null})})},(e,r)=>{if(e)t(e);else if(r){const e={};for(const{stack:t,id:n,glyph:i}of r)void 0===e[t]&&(e[t]={}),void 0===e[t].glyphs&&(e[t].glyphs={}),e[t].glyphs[n]=i&&{id:i.id,bitmap:i.bitmap.clone(),metrics:i.metrics},e[t].ascender=this.entries[t].ascender,e[t].descender=this.entries[t].descender;t(null,e)}})}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==_d.none&&(this.localGlyphMode===_d.all?!!this.localFontFamily:!!this.localFontFamily&&(Ji(e)||to(e)||Gi(e)||qi(e)||Vi(e)))}_tinySDF(e,t,r){const n=this.localFontFamily;if(!n||!this._doesCharSupportLocalGlyph(r))return;let i=e.tinySDF;if(!i){let r="400";/bold/i.test(t)?r="900":/medium/i.test(t)?r="500":/light/i.test(t)&&(r="200"),i=e.tinySDF=new yd.TinySDF({fontFamily:n,fontWeight:r,fontSize:48,buffer:6,radius:16}),i.fontWeight=r}if(this.localGlyphs[i.fontWeight][r])return this.localGlyphs[i.fontWeight][r];const o=String.fromCharCode(r),{data:a,width:s,height:l,glyphWidth:c,glyphHeight:u,glyphLeft:h,glyphTop:d,glyphAdvance:p}=i.draw(o);return this.localGlyphs[i.fontWeight][r]={id:r,bitmap:new hc({width:s,height:l},a),metrics:{width:c/2,height:u/2,left:h/2,top:d/2-27,advance:p/2,localGlyph:!0}}}}function vd(e,t,r,n){const i=[],o=e.image,a=o.pixelRatio,s=o.paddedRect.w-2,l=o.paddedRect.h-2,c=e.right-e.left,u=e.bottom-e.top,h=o.stretchX||[[0,s]],d=o.stretchY||[[0,l]],p=(e,t)=>e+t[1]-t[0],f=h.reduce(p,0),g=d.reduce(p,0),_=s-f,y=l-g;let v=0,x=f,b=0,w=g,T=0,E=_,S=0,C=y;if(o.content&&n){const e=o.content;v=xd(h,0,e[0]),b=xd(d,0,e[1]),x=xd(h,e[0],e[2]),w=xd(d,e[1],e[3]),T=e[0]-v,S=e[1]-b,E=e[2]-e[0]-x,C=e[3]-e[1]-w}const M=(n,i,s,l)=>{const h=wd(n.stretch-v,x,c,e.left),d=Td(n.fixed-T,E,n.stretch,f),p=wd(i.stretch-b,w,u,e.top),_=Td(i.fixed-S,C,i.stretch,g),y=wd(s.stretch-v,x,c,e.left),M=Td(s.fixed-T,E,s.stretch,f),k=wd(l.stretch-b,w,u,e.top),A=Td(l.fixed-S,C,l.stretch,g),I=new m(h,p),P=new m(y,p),z=new m(y,k),D=new m(h,k),R=new m(d/a,_/a),L=new m(M/a,A/a),O=t*Math.PI/180;if(O){const e=Math.sin(O),t=Math.cos(O),r=[t,-e,e,t];I._matMult(r),P._matMult(r),D._matMult(r),z._matMult(r)}const B=n.stretch+n.fixed,F=i.stretch+i.fixed;return{tl:I,tr:P,bl:D,br:z,tex:{x:o.paddedRect.x+1+B,y:o.paddedRect.y+1+F,w:s.stretch+s.fixed-B,h:l.stretch+l.fixed-F},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:R,pixelOffsetBR:L,minFontScaleX:E/a/c,minFontScaleY:C/a/u,isSDF:r}};if(n&&(o.stretchX||o.stretchY)){const e=bd(h,_,f),t=bd(d,y,g);for(let r=0;r<e.length-1;r++){const n=e[r],o=e[r+1];for(let e=0;e<t.length-1;e++)i.push(M(n,t[e],o,t[e+1]))}}else i.push(M({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return i}function xd(e,t,r){let n=0;for(const i of e)n+=Math.max(t,Math.min(r,i[1]))-Math.max(t,Math.min(r,i[0]));return n}function bd(e,t,r){const n=[{fixed:-1,stretch:0}];for(const[t,r]of e){const e=n[n.length-1];n.push({fixed:t-e.stretch,stretch:e.stretch}),n.push({fixed:t-e.stretch,stretch:e.stretch+(r-t)})}return n.push({fixed:t+1,stretch:r}),n}function wd(e,t,r,n){return e/t*r+n}function Td(e,t,r,n){return e-t*r/n}function Ed(e,t,r,n){const i=t+e.positionedLines[n].lineOffset;return 0===n?r+i/2:r+(i+(t+e.positionedLines[n-1].lineOffset))/2}yd.loadGlyphRange=function(e,t,r,n,i){const o=256*t,a=o+255,s=n.transformRequest(n.normalizeGlyphsURL(r).replace("{fontstack}",e).replace("{range}",`${o}-${a}`),ae.Glyphs);ue(s,(e,t)=>{if(e)i(e);else if(t){const e={},r=function(e){return new yh(e).readFields(Uh,{})}(t);for(const t of r.glyphs)e[t.id]=t;i(null,{glyphs:e,ascender:r.ascender,descender:r.descender})}})},yd.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:r=8,cutoff:n=.25,fontFamily:i="sans-serif",fontWeight:o="normal",fontStyle:a="normal"}={}){this.buffer=t,this.cutoff=n,this.radius=r;const s=this.size=e+4*t,l=this._createCanvas(s),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font=`${a} ${o} ${e}px ${i}`,c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:r,actualBoundingBoxDescent:n,actualBoundingBoxLeft:i,actualBoundingBoxRight:o}=this.ctx.measureText(e),a=Math.ceil(r),s=Math.min(this.size-this.buffer,Math.ceil(o-i)),l=Math.min(this.size-this.buffer,a+Math.ceil(n)),c=s+2*this.buffer,u=l+2*this.buffer,h=Math.max(c*u,0),d=new Uint8ClampedArray(h),p={data:d,width:c,height:u,glyphWidth:s,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:t};if(0===s||0===l)return p;const{ctx:f,buffer:m,gridInner:g,gridOuter:_}=this;f.clearRect(m,m,s,l),f.fillText(e,m,m+a);const y=f.getImageData(m,m,s,l);_.fill(fd,0,h),g.fill(0,0,h);for(let e=0;e<l;e++)for(let t=0;t<s;t++){const r=y.data[4*(e*s+t)+3]/255;if(0===r)continue;const n=(e+m)*c+t+m;if(1===r)_[n]=0,g[n]=fd;else{const e=.5-r;_[n]=e>0?e*e:0,g[n]=e<0?e*e:0}}md(_,0,0,c,u,c,this.f,this.v,this.z),md(g,m,m,s,l,c,this.f,this.v,this.z);for(let e=0;e<h;e++){const t=Math.sqrt(_[e])-Math.sqrt(g[e]);d[e]=Math.round(255-255*(t/this.radius+this.cutoff))}return p}};class Sd{constructor(e=[],t=Cd){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:r}=this,n=t[e];for(;e>0;){const i=e-1>>1,o=t[i];if(r(n,o)>=0)break;t[e]=o,e=i}t[e]=n}_down(e){const{data:t,compare:r}=this,n=this.length>>1,i=t[e];for(;e<n;){let n=1+(e<<1),o=t[n];const a=n+1;if(a<this.length&&r(t[a],o)<0&&(n=a,o=t[a]),r(o,i)>=0)break;t[e]=o,e=n}t[e]=i}}function Cd(e,t){return e<t?-1:e>t?1:0}function Md(e,t=1,r=!1){let n=1/0,i=1/0,o=-1/0,a=-1/0;const s=e[0];for(let e=0;e<s.length;e++){const t=s[e];(!e||t.x<n)&&(n=t.x),(!e||t.y<i)&&(i=t.y),(!e||t.x>o)&&(o=t.x),(!e||t.y>a)&&(a=t.y)}const l=Math.min(o-n,a-i);let c=l/2;const u=new Sd([],kd);if(0===l)return new m(n,i);for(let t=n;t<o;t+=l)for(let r=i;r<a;r+=l)u.push(new Ad(t+c,r+c,c,e));let h=function(e){let t=0,r=0,n=0;const i=e[0];for(let e=0,o=i.length,a=o-1;e<o;a=e++){const o=i[e],s=i[a],l=o.x*s.y-s.x*o.y;r+=(o.x+s.x)*l,n+=(o.y+s.y)*l,t+=3*l}return new Ad(r/t,n/t,0,e)}(e),d=u.length;for(;u.length;){const n=u.pop();(n.d>h.d||!h.d)&&(h=n,r&&console.log("found best %d after %d probes",Math.round(1e4*n.d)/1e4,d)),n.max-h.d<=t||(c=n.h/2,u.push(new Ad(n.p.x-c,n.p.y-c,c,e)),u.push(new Ad(n.p.x+c,n.p.y-c,c,e)),u.push(new Ad(n.p.x-c,n.p.y+c,c,e)),u.push(new Ad(n.p.x+c,n.p.y+c,c,e)),d+=4)}return r&&(console.log("num probes: "+d),console.log("best distance: "+h.d)),h.p}function kd(e,t){return t.max-e.max}function Ad(e,t,r,n){this.p=new m(e,t),this.h=r,this.d=function(e,t){let r=!1,n=1/0;for(let i=0;i<t.length;i++){const o=t[i];for(let t=0,i=o.length,a=i-1;t<i;a=t++){const i=o[t],s=o[a];i.y>e.y!=s.y>e.y&&e.x<(s.x-i.x)*(e.y-i.y)/(s.y-i.y)+i.x&&(r=!r),n=Math.min(n,Qs(e,i,s))}}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}const Id=Number.POSITIVE_INFINITY,Pd=Math.sqrt(2);function zd(e,t){return t[1]!==Id?function(e,t,r){let n=0,i=0;switch(t=Math.abs(t),r=Math.abs(r),e){case"top-right":case"top-left":case"top":i=r-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-r}switch(e){case"top-right":case"bottom-right":case"right":n=-t;break;case"top-left":case"bottom-left":case"left":n=t}return[n,i]}(e,t[0],t[1]):function(e,t){let r=0,n=0;t<0&&(t=0);const i=t/Pd;switch(e){case"top-right":case"top-left":n=i-7;break;case"bottom-right":case"bottom-left":n=7-i;break;case"bottom":n=7-t;break;case"top":n=t-7}switch(e){case"top-right":case"bottom-right":r=-i;break;case"top-left":case"bottom-left":r=i;break;case"left":r=t;break;case"right":r=-t}return[r,n]}(e,t[0])}function Dd(e,t,r,n,i,o,a,s,l,c){e.createArrays(),e.tilePixelRatio=vs/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;const u=e.layers[0].layout,h=e.layers[0]._unevaluatedLayout._values,d={};if("composite"===e.textSizeData.kind){const{minZoom:t,maxZoom:r}=e.textSizeData;d.compositeTextSizes=[h["text-size"].possiblyEvaluate(new Io(t),s),h["text-size"].possiblyEvaluate(new Io(r),s)]}if("composite"===e.iconSizeData.kind){const{minZoom:t,maxZoom:r}=e.iconSizeData;d.compositeIconSizes=[h["icon-size"].possiblyEvaluate(new Io(t),s),h["icon-size"].possiblyEvaluate(new Io(r),s)]}d.layoutTextSize=h["text-size"].possiblyEvaluate(new Io(l+1),s),d.layoutIconSize=h["icon-size"].possiblyEvaluate(new Io(l+1),s),d.textMaxSize=h["text-size"].possiblyEvaluate(new Io(18),s);const p="map"===u.get("text-rotation-alignment")&&"point"!==u.get("symbol-placement"),f=u.get("text-size");for(const o of e.features){const l=u.get("text-font").evaluate(o,{},s).join(","),h=f.evaluate(o,{},s),m=d.layoutTextSize.evaluate(o,{},s),g=(d.layoutIconSize.evaluate(o,{},s),{horizontal:{},vertical:void 0}),_=o.text;let y,v=[0,0];if(_){const n=_.toString(),a=24*u.get("text-letter-spacing").evaluate(o,{},s),c=24*u.get("text-line-height").evaluate(o,{},s),d=uo(n)?a:0,f=u.get("text-anchor").evaluate(o,{},s),y=u.get("text-variable-anchor");if(!y){const e=u.get("text-radial-offset").evaluate(o,{},s);v=e?zd(f,[24*e,Id]):u.get("text-offset").evaluate(o,{},s).map(e=>24*e)}let x=p?"center":u.get("text-justify").evaluate(o,{},s);const b="point"===u.get("symbol-placement"),w=b?24*u.get("text-max-width").evaluate(o,{},s):1/0,T=o=>{e.allowVerticalPlacement&&co(n)&&(g.vertical=Hh(_,t,r,i,l,w,c,f,o,d,v,$h.vertical,!0,m,h))};if(!p&&y){const e="auto"===x?y.map(e=>Rd(e)):[x];let n=!1;for(let o=0;o<e.length;o++){const a=e[o];if(!g.horizontal[a])if(n)g.horizontal[a]=g.horizontal[0];else{const e=Hh(_,t,r,i,l,w,c,"center",a,d,v,$h.horizontal,!1,m,h);e&&(g.horizontal[a]=e,n=1===e.positionedLines.length)}}T("left")}else{if("auto"===x&&(x=Rd(f)),b||u.get("text-writing-mode").indexOf("horizontal")>=0||!co(n)){const e=Hh(_,t,r,i,l,w,c,f,x,d,v,$h.horizontal,!1,m,h);e&&(g.horizontal[x]=e)}T(b?"left":x)}}let x=!1;if(o.icon&&o.icon.name){const t=n[o.icon.name];t&&(y=id(i[o.icon.name],u.get("icon-offset").evaluate(o,{},s),u.get("icon-anchor").evaluate(o,{},s)),x=t.sdf,void 0===e.sdfIcons?e.sdfIcons=t.sdf:e.sdfIcons!==t.sdf&&V("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(t.pixelRatio!==e.pixelRatio||0!==u.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}const b=Fd(g.horizontal)||g.vertical;e.iconsInText||(e.iconsInText=!!b&&b.iconsInText),(b||y)&&Ld(e,o,g,y,n,d,m,0,v,x,a,s,c)}o&&e.generateCollisionDebugBuffers(l,e.collisionBoxArray)}function Rd(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Ld(e,t,r,n,i,o,a,s,l,c,u,h,d){let p=o.textMaxSize.evaluate(t,{},h);void 0===p&&(p=a);const f=e.layers[0].layout,m=f.get("icon-offset").evaluate(t,{},h),g=Fd(r.horizontal)||r.vertical,_="globe"===d.name,y=a/24,x=e.tilePixelRatio*p/24,b=(A=e.overscaling,e.zoom>18&&A>2&&(A>>=1),Math.max(vs/(512*A),1)*f.get("symbol-spacing")),w=f.get("text-padding")*e.tilePixelRatio,T=f.get("icon-padding")*e.tilePixelRatio,E=v(f.get("text-max-angle")),S="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),C="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),M=f.get("symbol-placement"),k=b/2;var A;const I=f.get("icon-text-fit");let P;n&&"none"!==I&&(e.allowVerticalPlacement&&r.vertical&&(P=od(n,r.vertical,I,f.get("icon-text-fit-padding"),m,y)),g&&(n=od(n,g,I,f.get("icon-text-fit-padding"),m,y)));const z=(a,s,p)=>{if(s.x<0||s.x>=vs||s.y<0||s.y>=vs)return;let f=null;if(_){const{x:e,y:t,z:r}=d.projectTilePoint(s.x,s.y,p);f={anchor:new ad(e,t,r,0,void 0),up:d.upVector(p,s.x,s.y)}}!function(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v,x,b,w,T,E){const S=e.addToLineVertexArray(t,n);let C,M,k,A,I,P,z,D=0,R=0,L=0,O=0,B=-1,F=-1;const j={};let U=Ua.exports("");const N=r?r.anchor:t;let G=0,q=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?[G,q]=l.layout.get("text-offset").evaluate(x,{},E).map(e=>24*e):(G=24*l.layout.get("text-radial-offset").evaluate(x,{},E),q=Id),e.allowVerticalPlacement&&i.vertical){const e=i.vertical;if(f)P=Ud(e),s&&(z=Ud(s));else{const r=l.layout.get("text-rotate").evaluate(x,{},E)+90;k=jd(c,N,t,u,h,d,e,p,r,m),s&&(A=jd(c,N,t,u,h,d,s,_,r))}}if(o){const n=l.layout.get("icon-rotate").evaluate(x,{},E),i="none"!==l.layout.get("icon-text-fit"),a=vd(o,n,w,i),p=s?vd(s,n,w,i):void 0;M=jd(c,N,t,u,h,d,o,_,n),D=4*a.length;const f=e.iconSizeData;let m=null;"source"===f.kind?(m=[ch*l.layout.get("icon-size").evaluate(x,{},E)],m[0]>Od&&V(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===f.kind&&(m=[ch*b.compositeIconSizes[0].evaluate(x,{},E),ch*b.compositeIconSizes[1].evaluate(x,{},E)],(m[0]>Od||m[1]>Od)&&V(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')),e.addSymbols(e.icon,a,m,v,y,x,!1,r,t,S.lineStartIndex,S.lineLength,-1,T,E),B=e.icon.placedSymbolArray.length-1,p&&(R=4*p.length,e.addSymbols(e.icon,p,m,v,y,x,$h.vertical,r,t,S.lineStartIndex,S.lineLength,-1,T,E),F=e.icon.placedSymbolArray.length-1)}for(const n in i.horizontal){const o=i.horizontal[n];C||(U=Ua.exports(o.text),f?I=Ud(o):C=jd(c,N,t,u,h,d,o,p,l.layout.get("text-rotate").evaluate(x,{},E),m));const s=1===o.positionedLines.length;if(L+=Bd(e,r,t,o,a,l,f,x,m,S,i.vertical?$h.horizontal:$h.horizontalOnly,s?Object.keys(i.horizontal):[n],j,B,b,T,E),s)break}i.vertical&&(O+=Bd(e,r,t,i.vertical,a,l,f,x,m,S,$h.vertical,["vertical"],j,F,b,T,E));let Z=-1;const $=(e,t)=>e?Math.max(e,t):t;Z=$(I,Z),Z=$(P,Z),Z=$(z,Z);const W=Z>-1?1:0;e.glyphOffsetArray.length>=Kp.MAX_GLYPHS&&V("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,x.sortKey),e.symbolInstances.emplaceBack(N.x,N.y,N.z,t.x,t.y,j.right>=0?j.right:-1,j.center>=0?j.center:-1,j.left>=0?j.left:-1,j.vertical>=0?j.vertical:-1,B,F,U,void 0!==C?C:e.collisionBoxArray.length,void 0!==C?C+1:e.collisionBoxArray.length,void 0!==k?k:e.collisionBoxArray.length,void 0!==k?k+1:e.collisionBoxArray.length,void 0!==M?M:e.collisionBoxArray.length,void 0!==M?M+1:e.collisionBoxArray.length,A||e.collisionBoxArray.length,A?A+1:e.collisionBoxArray.length,u,L,O,D,R,W,0,G,q,Z)}(e,s,f,a,r,n,i,P,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,w,S,l,0,T,C,m,t,o,c,u,h)};if("line"===M)for(const i of pd(t.geometry,0,0,vs,vs)){const t=dd(i,b,E,r.vertical||g,n,24,x,e.overscaling,vs);for(const r of t){const t=g;t&&Nd(e,t.text,k,r)||z(i,r,h)}}else if("line-center"===M){for(const e of t.geometry)if(e.length>1){const t=hd(e,E,r.vertical||g,n,24,x);t&&z(e,t,h)}}else if("Polygon"===t.type)for(const e of Xc(t.geometry,0)){const t=Md(e,16);z(e[0],new ad(t.x,t.y,0,0,void 0),h)}else if("LineString"===t.type)for(const e of t.geometry)z(e,new ad(e[0].x,e[0].y,0,0,void 0),h);else if("Point"===t.type)for(const e of t.geometry)for(const t of e)z([t],new ad(t.x,t.y,0,0,void 0),h)}const Od=32640;function Bd(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,g,_){const y=function(e,t,r,n,i,o,a,s){const l=[];if(0===t.positionedLines.length)return l;const c=n.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,u=function(e){const t=e[0],r=e[1],n=t*r;return n>0?[t,-r]:n<0?[-t,r]:0===t?[r,t]:[r,-t]}(r);let h=Math.abs(t.top-t.bottom);for(const e of t.positionedLines)h-=e.lineOffset;const d=t.positionedLines.length,p=h/d;let f=t.top-r[1];for(let e=0;e<d;++e){const n=t.positionedLines[e];f=Ed(t,p,f,e);for(const e of n.positionedGlyphs){if(!e.rect)continue;const n=e.rect||{};let o=4,h=!0,d=1,p=0;if(e.imageName){const t=a[e.imageName];if(!t)continue;if(t.sdf){V("SDF images are not supported in formatted text and will be ignored.");continue}h=!1,d=t.pixelRatio,o=1/d}const g=(i||s)&&e.vertical,_=e.metrics.advance*e.scale/2,y=e.metrics,v=e.rect;if(null===v)continue;s&&t.verticalizable&&(p=e.imageName?_-e.metrics.width*e.scale/2:0);const x=i?[e.x+_,e.y]:[0,0];let b=[0,0],w=[0,0],T=!1;i||(g?(w=[e.x+_+u[0],e.y+u[1]-p],T=!0):b=[e.x+_+r[0],e.y+r[1]-p]);const E=v.w*e.scale/(d*(e.localGlyph?2:1)),S=v.h*e.scale/(d*(e.localGlyph?2:1));let C,M,k,A;if(g){const t=e.y-f,r=new m(-_,_-t),n=-Math.PI/2,i=new m(...w);C=new m(-_+b[0],b[1]),C._rotateAround(n,r)._add(i),C.x+=-t+_,C.y-=(y.left-o)*e.scale;const a=e.imageName?y.advance*e.scale:24*e.scale,s=String.fromCharCode(e.glyph);gh(s)?C.x+=(1-o)*e.scale:_h(s)?C.x+=a-y.height*e.scale+(-o-1)*e.scale:C.x+=e.imageName||y.width+2*o===v.w&&y.height+2*o===v.h?(a-S)/2:(a-(y.height+2*o)*e.scale)/2,M=new m(C.x,C.y-E),k=new m(C.x+S,C.y),A=new m(C.x+S,C.y-E)}else{const t=(y.left-o)*e.scale-_+b[0],r=(-y.top-o)*e.scale+b[1],n=t+E,i=r+S;C=new m(t,r),M=new m(n,r),k=new m(t,i),A=new m(n,i)}if(c){let e;e=i?new m(0,0):T?new m(u[0],u[1]):new m(r[0],r[1]),C._rotateAround(c,e),M._rotateAround(c,e),k._rotateAround(c,e),A._rotateAround(c,e)}const I=new m(0,0),P=new m(0,0);l.push({tl:C,tr:M,bl:k,br:A,tex:n,writingMode:t.writingMode,glyphOffset:x,sectionIndex:e.sectionIndex,isSDF:h,pixelOffsetTL:I,pixelOffsetBR:P,minFontScaleX:0,minFontScaleY:0})}}return l}(0,n,l,o,a,s,i,e.allowVerticalPlacement),v=e.textSizeData;let x=null;"source"===v.kind?(x=[ch*o.layout.get("text-size").evaluate(s,{},_)],x[0]>Od&&V(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===v.kind&&(x=[ch*f.compositeTextSizes[0].evaluate(s,{},_),ch*f.compositeTextSizes[1].evaluate(s,{},_)],(x[0]>Od||x[1]>Od)&&V(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')),e.addSymbols(e.text,y,x,l,a,s,u,t,r,c.lineStartIndex,c.lineLength,p,g,_);for(const t of h)d[t]=e.text.placedSymbolArray.length-1;return 4*y.length}function Fd(e){for(const t in e)return e[t];return null}function jd(e,t,r,n,i,o,a,s,l,c){let u=a.top,h=a.bottom,d=a.left,p=a.right;const f=a.collisionPadding;if(f&&(d-=f[0],u-=f[1],p+=f[2],h+=f[3]),l){const e=new m(d,u),t=new m(p,u),r=new m(d,h),n=new m(p,h),i=v(l);let o=new m(0,0);c&&(o=new m(c[0],c[1])),e._rotateAround(i,o),t._rotateAround(i,o),r._rotateAround(i,o),n._rotateAround(i,o),d=Math.min(e.x,t.x,r.x,n.x),p=Math.max(e.x,t.x,r.x,n.x),u=Math.min(e.y,t.y,r.y,n.y),h=Math.max(e.y,t.y,r.y,n.y)}return e.emplaceBack(t.x,t.y,t.z,r.x,r.y,d,u,p,h,s,n,i,o),e.length-1}function Ud(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);const t=e.bottom-e.top;return t>0?Math.max(10,t):null}function Nd(e,t,r,n){const i=e.compareText;if(t in i){const e=i[t];for(let t=e.length-1;t>=0;t--)if(n.dist(e[t])<r)return!0}else i[t]=[];return i[t].push(n),!1}const Vd=Ho([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Gd}=Vd,qd=Ho([{name:"a_pos_3",components:3,type:"Int16"}]);var Zd=Ho([{name:"a_pos",type:"Int16",components:2}]);const $d=vs/Math.PI/2,Wd=2*Ms(1,0)*$d*Math.PI,Xd=[64,32,16],Hd=-$d,Yd=$d,Kd=[new tc([Hd,Hd,Hd],[Yd,Yd,Yd]),new tc([Hd,Hd,Hd],[0,0,Yd]),new tc([0,Hd,Hd],[Yd,0,Yd]),new tc([Hd,0,Hd],[0,Yd,Yd]),new tc([0,0,Hd],[Yd,Yd,Yd])];function Jd(e,t,r,n=!0){const i=Dl([],e._camera.position,e.worldSize),o=[t,r,1,1];$l(o,o,e.pixelMatrixInverse),ql(o,o,1/o[3]);const a=Ll([],Nl([],o,i)),s=e.globeMatrix,l=[s[12],s[13],s[14]],c=Nl([],l,i),u=Cl(c),h=Ll([],c),d=e.worldSize/(2*Math.PI),p=Ol(h,a),f=Math.asin(d/u);if(f<Math.acos(p)){if(!n)return null;const e=[],t=[];Dl(e,a,u/p),Ll(t,Nl(t,e,c)),Ll(a,kl(a,c,Dl(a,t,Math.tan(f)*u)))}const m=[];new Jl(i,a).closestPointOnSphere(l,d,m);const g=Ll([],Y(s,0)),_=Ll([],Y(s,1)),y=Ll([],Y(s,2)),v=Ol(g,m),b=Ol(_,m),w=Ol(y,m),T=x(Math.asin(-b/d));let E=x(Math.atan2(v,w));E=e.center.lng+function(e,t){const r=(t-e+180)%360-180;return r<-180?r+360:r}(e.center.lng,E);const C=Ss(E),M=S(Cs(T),0,1);return new Ds(C,M)}class Qd{constructor(e,t,r){this.a=Nl([],e,r),this.b=Nl([],t,r),this.center=r;const n=Ll([],this.a),i=Ll([],this.b);this.angle=Math.acos(Ol(n,i))}}function ep(e,t){if(0===e.angle)return null;let r;return r=0===e.a[t]?1/e.angle*.5*Math.PI:1/e.angle*Math.atan(e.b[t]/e.a[t]/Math.sin(e.angle)-1/Math.tan(e.angle)),r<0||r>1?null:function(e,t,r,n){const i=Math.sin(r);return e*(Math.sin((1-n)*r)/i)+t*(Math.sin(n*r)/i)}(e.a[t],e.b[t],e.angle,S(r,0,1))+e.center[t]}function tp(e){if(e.z<=1)return Kd[e.z+2*e.y+e.x];const t=ap(op(e));return tc.fromPoints(t)}function rp(e,t,r){return Dl(e,e,1-r),Rl(e,e,t,r)}function np(e,t){const r=mp(t.zoom);if(0===r)return tp(e);const n=op(e),i=ap(n),o=Ss(n.getWest())*t.worldSize,a=Ss(n.getEast())*t.worldSize,s=Cs(n.getNorth())*t.worldSize,l=Cs(n.getSouth())*t.worldSize,c=[o,s,0],u=[a,s,0],h=[o,l,0],d=[a,l,0],p=ml([],t.globeMatrix);return Fl(c,c,p),Fl(u,u,p),Fl(h,h,p),Fl(d,d,p),i[0]=rp(i[0],h,r),i[1]=rp(i[1],d,r),i[2]=rp(i[2],u,r),i[3]=rp(i[3],c,r),tc.fromPoints(i)}function ip(e,t,r){for(const n of e)Fl(n,n,t),Dl(n,n,r)}function op({x:e,y:t,z:r}){const n=1/(1<<r),i=new ws(ks(e*n),As((t+1)*n)),o=new ws(ks((e+1)*n),As(t*n));return new xs(i,o)}function ap(e){const t=v(e.getNorth()),r=v(e.getSouth()),n=Math.cos(t),i=Math.cos(r),o=Math.sin(t),a=Math.sin(r),s=e.getWest(),l=e.getEast();return[sp(i,a,s),sp(i,a,l),sp(n,o,l),sp(n,o,s)]}function sp(e,t,r,n=$d){return r=v(r),[e*Math.sin(r)*n,-t*n,e*Math.cos(r)*n]}function lp(e,t,r){return sp(Math.cos(v(e)),Math.sin(v(e)),t,r)}function cp(e,t,r,n){const i=1<<r.z,o=(e/vs+r.x)/i;return lp(As((t/vs+r.y)/i),ks(o),n)}function up({min:e,max:t}){return 16383/Math.max(t[0]-e[0],t[1]-e[1],t[2]-e[2])}const hp=new Float64Array(16);function dp(e){const t=up(e),r=bl(hp,[t,t,t]);return _l(r,r,((n=[])[0]=-(i=e.min)[0],n[1]=-i[1],n[2]=-i[2],n));var n,i}function pp(e){const t=(n=e.min,(r=hp)[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=n[0],r[13]=n[1],r[14]=n[2],r[15]=1,r);var r,n;const i=1/up(e);return yl(t,t,[i,i,i])}function fp(e,t,r,n,i){const o=function(e){const t=vs/(2*Math.PI);return e/(2*Math.PI)/t}(r),a=[e,t,-r/(2*Math.PI)],s=fl(new Float64Array(16));return _l(s,s,a),yl(s,s,[o,o,o]),vl(s,s,v(-i)),xl(s,s,v(-n)),s}function mp(e){return C(5,6,e)}function gp(e,t){const r=lp(t.lat,t.lng);return o=(n=Al([],function(e){const t=lp(e._center.lat,e._center.lng);let r=Bl([],Ml(0,1,0),t);const n=wl([],-e.angle,t);r=Fl(r,r,n),wl(n,-e._pitch,r);const i=Ll([],t);return Dl(i,i,e.cameraToCenterDistance/e.pixelsPerMeter*Wd),Fl(i,i,n),kl([],t,i)}(e),r))[0],a=n[1],s=n[2],l=(i=r)[0],c=i[1],u=i[2],d=(h=Math.sqrt(o*o+a*a+s*s)*Math.sqrt(l*l+c*c+u*u))&&Ol(n,i)/h,Math.acos(Math.min(Math.max(d,-1),1));var n,i,o,a,s,l,c,u,h,d}const _p=v(85),yp=Math.cos(_p),vp=Math.sin(_p);function xp(e,t){const r=e.fovAboveCenter,n=e.elevation?e.elevation.getMinElevationBelowMSL()*t:0,i=(e._camera.position[2]*e.worldSize-n)/Math.cos(e._pitch),o=Math.sin(r)*i/Math.sin(Math.max(Math.PI/2-e._pitch-r,.01)),a=Math.sin(e._pitch)*o+i;return Math.min(1.01*a,i*(1/e._horizonShift))}function bp(e,t){if(!t.isReprojectedInTileSpace)return{scale:1<<e.z,x:e.x,y:e.y,x2:e.x+1,y2:e.y+1,projection:t};const r=Math.pow(2,-e.z),n=e.x*r,i=(e.x+1)*r,o=e.y*r,a=(e.y+1)*r,s=ks(n),l=ks(i),c=As(o),u=As(a),h=t.project(s,c),d=t.project(l,c),p=t.project(l,u),f=t.project(s,u);let m=Math.min(h.x,d.x,p.x,f.x),g=Math.min(h.y,d.y,p.y,f.y),_=Math.max(h.x,d.x,p.x,f.x),y=Math.max(h.y,d.y,p.y,f.y);const v=r/16;function x(e,r,n,i,o,a){const s=(n+o)/2,l=(i+a)/2,c=t.project(ks(s),As(l)),u=Math.max(0,m-c.x,g-c.y,c.x-_,c.y-y);m=Math.min(m,c.x),_=Math.max(_,c.x),g=Math.min(g,c.y),y=Math.max(y,c.y),u>v&&(x(e,c,n,i,s,l),x(c,r,s,l,o,a))}x(h,d,n,o,i,o),x(d,p,i,o,i,a),x(p,f,i,a,n,a),x(f,h,n,a,n,o),m-=v,g-=v,_+=v,y+=v;const b=1/Math.max(_-m,y-g);return{scale:b,x:m*b,y:g*b,x2:_*b,y2:y*b,projection:t}}const wp=fl(new Float32Array(16));class Tp{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(e,t){return{x:0,y:0,z:0}}unproject(e,t){return new ws(0,0)}projectTilePoint(e,t,r){return{x:e,y:t,z:0}}locationPoint(e,t,r=!0){return e._coordinatePoint(e.locationCoordinate(t),r)}pixelsPerMeter(e,t){return Ms(1,e)*t}pixelSpaceConversion(e,t,r){return 1}farthestPixelDistance(e){return xp(e,e.pixelsPerMeter)}pointCoordinate(e,t,r,n){const i=e.horizonLineFromTop(!1),o=new m(t,Math.max(i,r));return e.rayIntersectionCoordinate(e.pointRayIntersection(o,n))}pointCoordinate3D(e,t,r){const n=new m(t,r);if(e.elevation)return e.elevation.pointCoordinate(n);{const t=this.pointCoordinate(e,n.x,n.y,0);return[t.x,t.y,t.z]}}isPointAboveHorizon(e,t){if(e.elevation)return!this.pointCoordinate3D(e,t.x,t.y);const r=e.horizonLineFromTop();return t.y<r}createInversionMatrix(e,t){return wp}createTileMatrix(e,t,r){let n,i,o;const a=r.canonical,s=fl(new Float64Array(16));if(this.isReprojectedInTileSpace){const l=bp(a,this);n=1,i=l.x+r.wrap*l.scale,o=l.y,yl(s,s,[n/l.scale,n/l.scale,e.pixelsPerMeter/t])}else n=t/e.zoomScale(a.z),i=(a.x+Math.pow(2,a.z)*r.wrap)*n,o=a.y*n;return _l(s,s,[i,o,0]),yl(s,s,[n/vs,n/vs,1]),s}upVector(e,t,r){return[0,0,1]}upVectorScale(e,t,r){return{metersToTile:1}}}class Ep extends Tp{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];const[t,r]=this.parallels=e.parallels||[29.5,45.5],n=Math.sin(v(t));this.n=(n+Math.sin(v(r)))/2,this.c=1+n*(2*this.n-n),this.r0=Math.sqrt(this.c)/this.n}project(e,t){const{n:r,c:n,r0:i}=this,o=v(e-this.center[0]),a=v(t),s=Math.sqrt(n-2*r*Math.sin(a))/r;return{x:s*Math.sin(o*r),y:s*Math.cos(o*r)-i,z:0}}unproject(e,t){const{n:r,c:n,r0:i}=this,o=i+t;let a=Math.atan2(e,Math.abs(o))*Math.sign(o);o*r<0&&(a-=Math.PI*Math.sign(e)*Math.sign(o));const s=v(this.center[0])*r;a=M(a,-Math.PI-s,Math.PI-s);const l=S(x(a/r)+this.center[0],-180,180),c=Math.asin(S((n-(e*e+o*o)*r*r)/(2*r),-1,1)),u=S(x(c),-85.051129,Ps);return new ws(l,u)}}const Sp=1.340264,Cp=-.081106,Mp=893e-6,kp=.003796,Ap=Math.sqrt(3)/2;class Ip extends Tp{project(e,t){t=t/180*Math.PI,e=e/180*Math.PI;const r=Math.asin(Ap*Math.sin(t)),n=r*r,i=n*n*n;return{x:.5*(e*Math.cos(r)/(Ap*(Sp+3*Cp*n+i*(7*Mp+9*kp*n)))/Math.PI+.5),y:1-.5*(r*(Sp+Cp*n+i*(Mp+kp*n))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let r=t=(2*(1-t)-1)*Math.PI,n=r*r,i=n*n*n;for(let e,o,a,s=0;s<12&&(o=r*(Sp+Cp*n+i*(Mp+kp*n))-t,a=Sp+3*Cp*n+i*(7*Mp+9*kp*n),e=o/a,r=S(r-e,-Math.PI/3,Math.PI/3),n=r*r,i=n*n*n,!(Math.abs(e)<1e-12));++s);const o=Ap*e*(Sp+3*Cp*n+i*(7*Mp+9*kp*n))/Math.cos(r),a=Math.asin(Math.sin(r)/Ap),s=S(180*o/Math.PI,-180,180),l=S(180*a/Math.PI,-85.051129,Ps);return new ws(s,l)}}class Pp extends Tp{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0}project(e,t){return{x:.5+e/360,y:.5-t/360,z:0}}unproject(e,t){const r=360*(e-.5),n=S(360*(.5-t),-85.051129,Ps);return new ws(r,n)}}const zp=Math.PI/2;function Dp(e){return Math.tan((zp+e)/2)}class Rp extends Tp{constructor(e){super(e),this.center=e.center||[0,30];const[t,r]=this.parallels=e.parallels||[30,30];let n=v(t),i=v(r);this.southernCenter=n+i<0,this.southernCenter&&(n=-n,i=-i);const o=Math.cos(n),a=Dp(n);this.n=n===i?Math.sin(n):Math.log(o/Math.cos(i))/Math.log(Dp(i)/a),this.f=o*Math.pow(Dp(n),this.n)/this.n}project(e,t){t=v(t),this.southernCenter&&(t=-t),e=v(e-this.center[0]);const r=1e-6,{n:n,f:i}=this;i>0?t<-zp+r&&(t=-zp+r):t>zp-r&&(t=zp-r);const o=i/Math.pow(Dp(t),n);let a=o*Math.sin(n*e),s=i-o*Math.cos(n*e);return a=.5*(a/Math.PI+.5),s=.5*(s/Math.PI+.5),{x:a,y:this.southernCenter?s:1-s,z:0}}unproject(e,t){e=(2*e-.5)*Math.PI,this.southernCenter&&(t=1-t),t=(2*(1-t)-.5)*Math.PI;const{n:r,f:n}=this,i=n-t,o=Math.sign(i),a=Math.sign(r)*Math.sqrt(e*e+i*i);let s=Math.atan2(e,Math.abs(i))*o;i*r<0&&(s-=Math.PI*Math.sign(e)*o);const l=S(x(s/r)+this.center[0],-180,180),c=S(x(2*Math.atan(Math.pow(n/a,1/r))-zp),-85.051129,Ps);return new ws(l,this.southernCenter?-c:c)}}class Lp extends Tp{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(e,t){return{x:Ss(e),y:Cs(t),z:0}}unproject(e,t){const r=ks(e),n=As(t);return new ws(r,n)}}const Op=v(Ps);class Bp extends Tp{project(e,t){const r=(t=v(t))*t,n=r*r;return{x:.5*((e=v(e))*(.8707-.131979*r+n*(n*(.003971*r-.001529*n)-.013791))/Math.PI+.5),y:1-.5*(t*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let r=t=(2*(1-t)-1)*Math.PI,n=25,i=0,o=r*r;do{o=r*r;const e=o*o;i=(r*(1.007226+o*(.015085+e*(.028874*o-.044475-.005916*e)))-t)/(1.007226+o*(.045255+e*(.259866*o-.311325-.005916*11*e))),r=S(r-i,-Op,Op)}while(Math.abs(i)>1e-6&&--n>0);o=r*r;const a=S(x(e/(.8707+o*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979))),-180,180),s=x(r);return new ws(a,s)}}const Fp=v(Ps);class jp extends Tp{project(e,t){t=v(t),e=v(e);const r=Math.cos(t),n=2/Math.PI,i=Math.acos(r*Math.cos(e/2)),o=Math.sin(i)/i,a=.5*(e*n+2*r*Math.sin(e/2)/o)||0,s=.5*(t+Math.sin(t)/o)||0;return{x:.5*(a/Math.PI+.5),y:1-.5*(s/Math.PI+1),z:0}}unproject(e,t){let r=e=(2*e-.5)*Math.PI,n=t=(2*(1-t)-1)*Math.PI,i=25;const o=1e-6;let a=0,s=0;do{const i=Math.cos(n),o=Math.sin(n),l=2*o*i,c=o*o,u=i*i,h=Math.cos(r/2),d=Math.sin(r/2),p=2*h*d,f=d*d,m=1-u*h*h,g=m?1/m:0,_=m?Math.acos(i*h)*Math.sqrt(1/m):0,y=.5*(2*_*i*d+2*r/Math.PI)-e,v=.5*(_*o+n)-t,x=.5*g*(u*f+_*i*h*c)+1/Math.PI,b=g*(p*l/4-_*o*d),w=.125*g*(l*d-_*o*u*p),T=.5*g*(c*h+_*f*i)+.5,E=b*w-T*x;a=(v*b-y*T)/E,s=(y*w-v*x)/E,r=S(r-a,-Math.PI,Math.PI),n=S(n-s,-Fp,Fp)}while((Math.abs(a)>o||Math.abs(s)>o)&&--i>0);return new ws(x(r),x(n))}}class Up extends Tp{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(v(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(e,t){const{scale:r,cosPhi:n}=this;return{x:v(e)*n*r+.5,y:-Math.sin(v(t))/n*r+.5,z:0}}unproject(e,t){const{scale:r,cosPhi:n}=this,i=-(t-.5)/r,o=S(x((e-.5)/r)/n,-180,180),a=Math.asin(S(i*n,-1,1)),s=S(x(a),-85.051129,Ps);return new ws(o,s)}}class Np extends Lp{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(e,t,r){const n=cp(e,t,r);return Fl(n,n,dp(tp(r))),{x:n[0],y:n[1],z:n[2]}}locationPoint(e,t){const r=lp(t.lat,t.lng),n=Ll([],r),i=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(t),e._centerAltitude):e._centerAltitude;Rl(r,r,n,Ms(1,0)*vs*i);const o=fl(new Float64Array(16));return gl(o,e.pixelMatrix,e.globeMatrix),Fl(r,r,o),new m(r[0],r[1])}pixelsPerMeter(e,t){return Ms(1,0)*t}pixelSpaceConversion(e,t,r){const n=Ms(1,e)*t,i=Cr(Ms(1,45)*t,n,r);return this.pixelsPerMeter(e,t)/i}createTileMatrix(e,t,r){const n=pp(tp(r.canonical));return gl(new Float64Array(16),e.globeMatrix,n)}createInversionMatrix(e,t){const{center:r}=e,n=dp(tp(t));return xl(n,n,v(r.lng)),vl(n,n,v(r.lat)),yl(n,n,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(n)}pointCoordinate(e,t,r,n){return Jd(e,t,r,!0)||new Ds(0,0)}pointCoordinate3D(e,t,r){const n=this.pointCoordinate(e,t,r,0);return[n.x,n.y,n.z]}isPointAboveHorizon(e,t){return!Jd(e,t.x,t.y,!1)}farthestPixelDistance(e){const t=function(e,t){const r=e.cameraToCenterDistance,n=e._centerAltitude*t,i=e._camera,o=e._camera.forward(),a=kl([],Dl([],o,-r),[0,0,n]),s=e.worldSize/(2*Math.PI),l=[0,0,-s],c=e.width/e.height,u=Math.tan(e.fovAboveCenter),h=Dl([],i.up(),u),d=Dl([],i.right(),u*c),p=Ll([],kl([],kl([],o,h),d)),f=[];let m;if(new Jl(a,p).closestPointOnSphere(l,s,f)){const t=kl([],f,l),r=Nl([],t,a);m=Math.cos(e.fovAboveCenter)*Cl(r)}else{const e=Nl([],a,l),t=Nl([],l,a);Ll(t,t);const r=Cl(e)-s;m=Math.sqrt(r*(r+2*s));const n=Math.acos(m/(s+r))-Math.acos(Ol(o,t));m*=Math.cos(n)}return 1.01*m}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),r=mp(e.zoom);if(r>0){const n=xp(e,Ms(1,e.center.lat)*e.worldSize),i=e.worldSize/(2*Math.PI),o=Math.max(e.width,e.height)/e.worldSize*Math.PI;return Cr(t,n+i*(1-Math.cos(o)),Math.pow(r,10))}return t}upVector(e,t,r){return cp(t,r,e,1)}upVectorScale(e){return{metersToTile:Wd*up(tp(e))}}}function Vp(e){const t=e.parallels,r=!!t&&Math.abs(t[0]+t[1])<.01;switch(e.name){case"mercator":return new Lp(e);case"equirectangular":return new Pp(e);case"naturalEarth":return new Bp(e);case"equalEarth":return new Ip(e);case"winkelTripel":return new jp(e);case"albers":return r?new Up(e):new Ep(e);case"lambertConformalConic":return r?new Up(e):new Rp(e);case"globe":return new Np(e)}throw new Error("Invalid projection name: "+e.name)}const Gp=yu.types,qp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Zp(e,t,r,n,i,o,a,s,l,c,u,h,d){const p=s?Math.min(Od,Math.round(s[0])):0,f=s?Math.min(Od,Math.round(s[1])):0;e.emplaceBack(t,r,Math.round(32*n),Math.round(32*i),o,a,(p<<1)+(l?1:0),f,16*c,16*u,256*h,256*d)}function $p(e,t,r,n,i,o,a){e.emplaceBack(t,r,n,i,o,a)}function Wp(e,t,r,n,i){e.emplaceBack(t,r,n,i),e.emplaceBack(t,r,n,i),e.emplaceBack(t,r,n,i),e.emplaceBack(t,r,n,i)}function Xp(e){for(const t of e.sections)if(_o(t.text))return!0;return!1}class Hp{constructor(e){this.layoutVertexArray=new oa,this.indexArray=new pa,this.programConfigurations=e,this.segments=new ys,this.dynamicLayoutVertexArray=new ta,this.opacityVertexArray=new sa,this.placedSymbolArray=new Ma,this.globeExtVertexArray=new aa}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,r,n){this.isEmpty()||(r&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,rh.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,ih.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,qp,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,nh.members,!0)),this.opacityVertexBuffer.itemSize=1),(r||n)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}Ii(Hp,"SymbolBuffers");class Yp{constructor(e,t,r){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new r,this.segments=new ys,this.collisionVertexArray=new ha,this.collisionVertexArrayExt=new da}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,oh.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,ah.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Ii(Yp,"CollisionBuffers");class Kp{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=fl([]),this.placementViewportMatrix=fl([]);const t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=uh(this.zoom,t["text-size"]),this.iconSizeData=uh(this.zoom,t["icon-size"]);const r=this.layers[0].layout,n=r.get("symbol-sort-key"),i=r.get("symbol-z-order");this.canOverlap=r.get("text-allow-overlap")||r.get("icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==i&&void 0!==n.constantOr(1),this.sortFeaturesByY=("viewport-y"===i||"auto"===i&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=r.get("text-writing-mode").map(e=>$h[e]),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.sourceID=e.sourceID,this.projection=e.projection}createArrays(){this.text=new Hp(new ls(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new Hp(new ls(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new Ia,this.lineVertexArray=new Pa,this.symbolInstances=new Aa}calculateGlyphDependencies(e,t,r,n,i){for(let r=0;r<e.length;r++)if(t[e.charCodeAt(r)]=!0,n&&i){const n=mh[e.charAt(r)];n&&(t[n.charCodeAt(0)]=!0)}}populate(e,t,r,n){const i=this.layers[0],o=i.layout,a="globe"===this.projection.name,s=o.get("text-font"),l=o.get("text-field"),c=o.get("icon-image"),u=("constant"!==l.value.kind||l.value.value instanceof It&&!l.value.value.isEmpty()||l.value.value.toString().length>0)&&("constant"!==s.value.kind||s.value.value.length>0),h="constant"!==c.value.kind||!!c.value.value||Object.keys(c.parameters).length>0,d=o.get("symbol-sort-key");if(this.features=[],!u&&!h)return;const p=t.iconDependencies,f=t.glyphDependencies,m=t.availableImages,g=new Io(this.zoom);for(const{feature:t,id:l,index:c,sourceLayerIndex:_}of e){const e=i._featureFilter.needGeometry,y=Vs(t,e);if(!i._featureFilter.filter(g,y,r))continue;if(e||(y.geometry=Ns(t,r,n)),a&&1!==t.type&&r.z<=5){const e=y.geometry,t=.98078528056,n=(e,n)=>Ol(cp(e.x,e.y,r,1),cp(n.x,n.y,r,1))<t;for(let t=0;t<e.length;t++)e[t]=Bs(e[t],n)}let v,x;if(u){const e=i.getValueAndResolveTokens("text-field",y,r,m),t=It.factory(e);Xp(t)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Mo()||this.hasRTLText&&Ao.isParsed())&&(v=fh(t,i,y))}if(h){const e=i.getValueAndResolveTokens("icon-image",y,r,m);x=e instanceof Pt?e:Pt.fromString(e)}if(!v&&!x)continue;const b=this.sortFeaturesByKey?d.evaluate(y,{},r):void 0;if(this.features.push({id:l,text:v,icon:x,index:c,sourceLayerIndex:_,geometry:y.geometry,properties:t.properties,type:Gp[t.type],sortKey:b}),x&&(p[x.name]=!0),v){const e=s.evaluate(y,{},r).join(","),t="map"===o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf($h.vertical)>=0;for(const r of v.sections)if(r.image)p[r.image.name]=!0;else{const n=co(v.toString()),i=r.fontStack||e,o=f[i]=f[i]||{};this.calculateGlyphDependencies(r.text,o,t,this.allowVerticalPlacement,n)}}}"line"===o.get("symbol-placement")&&(this.features=function(e){const t={},r={},n=[];let i=0;function o(t){n.push(e[t]),i++}function a(e,t,i){const o=r[e];return delete r[e],r[t]=o,n[o].geometry[0].pop(),n[o].geometry[0]=n[o].geometry[0].concat(i[0]),o}function s(e,r,i){const o=t[r];return delete t[r],t[e]=o,n[o].geometry[0].shift(),n[o].geometry[0]=i[0].concat(n[o].geometry[0]),o}function l(e,t,r){const n=r?t[0][t[0].length-1]:t[0][0];return`${e}:${n.x}:${n.y}`}for(let c=0;c<e.length;c++){const u=e[c],h=u.geometry,d=u.text?u.text.toString():null;if(!d){o(c);continue}const p=l(d,h),f=l(d,h,!0);if(p in r&&f in t&&r[p]!==t[f]){const e=s(p,f,h),i=a(p,f,n[e].geometry);delete t[p],delete r[f],r[l(d,n[i].geometry,!0)]=i,n[e].geometry=null}else p in r?a(p,f,h):f in t?s(p,f,h):(o(c),t[p]=i-1,r[f]=i-1)}return n.filter(e=>e.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((e,t)=>e.sortKey-t.sortKey)}update(e,t,r,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,r,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,r,n))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Vp(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const r=this.lineVertexArray.length,n=e.segment;if(void 0!==n){let r=e.dist(t[n+1]),i=e.dist(t[n]);const o={};for(let e=n+1;e<t.length;e++)o[e]={x:t[e].x,y:t[e].y,tileUnitDistanceFromAnchor:r},e<t.length-1&&(r+=t[e+1].dist(t[e]));for(let e=n||0;e>=0;e--)o[e]={x:t[e].x,y:t[e].y,tileUnitDistanceFromAnchor:i},e>0&&(i+=t[e-1].dist(t[e]));for(let e=0;e<t.length;e++){const t=o[e];this.lineVertexArray.emplaceBack(t.x,t.y,t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}}addSymbols(e,t,r,n,i,o,a,s,l,c,u,h,d,p){const f=e.indexArray,m=e.layoutVertexArray,g=e.globeExtVertexArray,_=e.segments.prepareSegment(4*t.length,m,f,this.canOverlap?o.sortKey:void 0),y=this.glyphOffsetArray.length,v=_.vertexLength,x=this.allowVerticalPlacement&&a===$h.vertical?Math.PI/2:0,b=o.text&&o.text.sections;for(let n=0;n<t.length;n++){const{tl:i,tr:a,bl:c,br:u,tex:h,pixelOffsetTL:y,pixelOffsetBR:v,minFontScaleX:w,minFontScaleY:T,glyphOffset:E,isSDF:S,sectionIndex:C}=t[n],M=_.vertexLength,k=E[1];if(Zp(m,l.x,l.y,i.x,k+i.y,h.x,h.y,r,S,y.x,y.y,w,T),Zp(m,l.x,l.y,a.x,k+a.y,h.x+h.w,h.y,r,S,v.x,y.y,w,T),Zp(m,l.x,l.y,c.x,k+c.y,h.x,h.y+h.h,r,S,y.x,v.y,w,T),Zp(m,l.x,l.y,u.x,k+u.y,h.x+h.w,h.y+h.h,r,S,v.x,v.y,w,T),s){const t=s.anchor,r=s.up;$p(g,t.x,t.y,t.z,r[0],r[1],r[2]),$p(g,t.x,t.y,t.z,r[0],r[1],r[2]),$p(g,t.x,t.y,t.z,r[0],r[1],r[2]),$p(g,t.x,t.y,t.z,r[0],r[1],r[2]),Wp(e.dynamicLayoutVertexArray,t.x,t.y,t.z,x)}else Wp(e.dynamicLayoutVertexArray,l.x,l.y,l.z,x);f.emplaceBack(M,M+1,M+2),f.emplaceBack(M+1,M+2,M+3),_.vertexLength+=4,_.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(E[0]),n!==t.length-1&&C===t[n+1].sectionIndex||e.programConfigurations.populatePaintArrays(m.length,o,o.index,{},d,p,b&&b[C])}const w=s?s.anchor:l;e.placedSymbolArray.emplaceBack(w.x,w.y,w.z,l.x,l.y,y,this.glyphOffsetArray.length-y,v,c,u,l.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],a,0,!1,0,h,0)}_commitLayoutVertex(e,t,r,n,i,o,a){e.emplaceBack(t,r,n,i,o,Math.round(a.x),Math.round(a.y))}_addCollisionDebugVertices(e,t,r,n,i,o,a){const s=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),l=s.vertexLength,c=a.tileAnchorX,u=a.tileAnchorY;for(let e=0;e<4;e++)r.collisionVertexArray.emplaceBack(0,0,0,0);r.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),r.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),r.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),r.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(r.layoutVertexArray,n,i,o,c,u,new m(e.x1,e.y1)),this._commitLayoutVertex(r.layoutVertexArray,n,i,o,c,u,new m(e.x2,e.y1)),this._commitLayoutVertex(r.layoutVertexArray,n,i,o,c,u,new m(e.x2,e.y2)),this._commitLayoutVertex(r.layoutVertexArray,n,i,o,c,u,new m(e.x1,e.y2)),s.vertexLength+=4;const h=r.indexArray;h.emplaceBack(l,l+1),h.emplaceBack(l+1,l+2),h.emplaceBack(l+2,l+3),h.emplaceBack(l+3,l),s.primitiveLength+=4}_addTextDebugCollisionBoxes(e,t,r,n,i,o){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceTextSize(e,o,t,a);this._addCollisionDebugVertices(n,i,this.textCollisionBox,n.projectedAnchorX,n.projectedAnchorY,n.projectedAnchorZ,o)}}_addIconDebugCollisionBoxes(e,t,r,n,i,o){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceIconSize(e,t,o.placedIconSymbolIndex);this._addCollisionDebugVertices(n,i,this.iconCollisionBox,n.projectedAnchorX,n.projectedAnchorY,n.projectedAnchorZ,o)}}generateCollisionDebugBuffers(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Yp(ca,sh.members,va),this.iconCollisionBox=new Yp(ca,sh.members,va);const r=dh(this.iconSizeData,e),n=dh(this.textSizeData,e);for(let i=0;i<this.symbolInstances.length;i++){const o=this.symbolInstances.get(i);this._addTextDebugCollisionBoxes(n,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._addTextDebugCollisionBoxes(n,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._addIconDebugCollisionBoxes(r,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._addIconDebugCollisionBoxes(r,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o)}}getSymbolInstanceTextSize(e,t,r,n){const i=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:n),o=hh(this.textSizeData,e,i)/24;return this.tilePixelRatio*o}getSymbolInstanceIconSize(e,t,r){const n=this.icon.placedSymbolArray.get(r),i=hh(this.iconSizeData,e,n);return this.tilePixelRatio*i}_commitDebugCollisionVertexUpdate(e,t,r){e.emplaceBack(t,-r,-r),e.emplaceBack(t,r,-r),e.emplaceBack(t,r,r),e.emplaceBack(t,-r,r)}_updateTextDebugCollisionBoxes(e,t,r,n,i,o){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceTextSize(e,o,t,a);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,i,n.padding)}}_updateIconDebugCollisionBoxes(e,t,r,n,i,o){for(let a=n;a<i;a++){const n=r.get(a),i=this.getSymbolInstanceIconSize(e,t,o);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,i,n.padding)}}updateCollisionDebugBuffers(e,t){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const r=dh(this.iconSizeData,e),n=dh(this.textSizeData,e);for(let i=0;i<this.symbolInstances.length;i++){const o=this.symbolInstances.get(i);this._updateTextDebugCollisionBoxes(n,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._updateTextDebugCollisionBoxes(n,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._updateIconDebugCollisionBoxes(r,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(r,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,t,r,n,i,o,a,s,l){const c={};for(let n=t;n<r;n++){const t=e.get(n);c.textBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,padding:t.padding,projectedAnchorX:t.projectedAnchorX,projectedAnchorY:t.projectedAnchorY,projectedAnchorZ:t.projectedAnchorZ,tileAnchorX:t.tileAnchorX,tileAnchorY:t.tileAnchorY},c.textFeatureIndex=t.featureIndex;break}for(let t=n;t<i;t++){const r=e.get(t);c.verticalTextBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,padding:r.padding,projectedAnchorX:r.projectedAnchorX,projectedAnchorY:r.projectedAnchorY,projectedAnchorZ:r.projectedAnchorZ,tileAnchorX:r.tileAnchorX,tileAnchorY:r.tileAnchorY},c.verticalTextFeatureIndex=r.featureIndex;break}for(let t=o;t<a;t++){const r=e.get(t);c.iconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,padding:r.padding,projectedAnchorX:r.projectedAnchorX,projectedAnchorY:r.projectedAnchorY,projectedAnchorZ:r.projectedAnchorZ,tileAnchorX:r.tileAnchorX,tileAnchorY:r.tileAnchorY},c.iconFeatureIndex=r.featureIndex;break}for(let t=s;t<l;t++){const r=e.get(t);c.verticalIconBox={x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,padding:r.padding,projectedAnchorX:r.projectedAnchorX,projectedAnchorY:r.projectedAnchorY,projectedAnchorZ:r.projectedAnchorZ,tileAnchorX:r.tileAnchorX,tileAnchorY:r.tileAnchorY},c.verticalIconFeatureIndex=r.featureIndex;break}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const r=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const r=e.placedSymbolArray.get(t),n=r.vertexStartIndex+4*r.numGlyphs;for(let t=r.vertexStartIndex;t<n;t+=4)e.indexArray.emplaceBack(t,t+1,t+2),e.indexArray.emplaceBack(t+1,t+2,t+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),r=Math.cos(e),n=[],i=[],o=[];for(let e=0;e<this.symbolInstances.length;++e){o.push(e);const a=this.symbolInstances.get(e);n.push(0|Math.round(t*a.tileAnchorX+r*a.tileAnchorY)),i.push(a.featureIndex)}return o.sort((e,t)=>n[e]-n[t]||i[t]-i[e]),o}addToSortKeyRanges(e,t){const r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&&r.sortKey===t?r.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex),[t.rightJustifiedTextSymbolIndex,t.centerJustifiedTextSymbolIndex,t.leftJustifiedTextSymbolIndex].forEach((e,t,r)=>{e>=0&&r.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)}),t.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,t.verticalPlacedTextSymbolIndex),t.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.placedIconSymbolIndex),t.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Ii(Kp,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Kp.MAX_GLYPHS=65535,Kp.addDynamicAttributes=Wp;const Jp=new qo({"symbol-placement":new jo(Ye.layout_symbol["symbol-placement"]),"symbol-spacing":new jo(Ye.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new jo(Ye.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Uo(Ye.layout_symbol["symbol-sort-key"]),"symbol-z-order":new jo(Ye.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new jo(Ye.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new jo(Ye.layout_symbol["icon-ignore-placement"]),"icon-optional":new jo(Ye.layout_symbol["icon-optional"]),"icon-rotation-alignment":new jo(Ye.layout_symbol["icon-rotation-alignment"]),"icon-size":new Uo(Ye.layout_symbol["icon-size"]),"icon-text-fit":new jo(Ye.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new jo(Ye.layout_symbol["icon-text-fit-padding"]),"icon-image":new Uo(Ye.layout_symbol["icon-image"]),"icon-rotate":new Uo(Ye.layout_symbol["icon-rotate"]),"icon-padding":new jo(Ye.layout_symbol["icon-padding"]),"icon-keep-upright":new jo(Ye.layout_symbol["icon-keep-upright"]),"icon-offset":new Uo(Ye.layout_symbol["icon-offset"]),"icon-anchor":new Uo(Ye.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new jo(Ye.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new jo(Ye.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new jo(Ye.layout_symbol["text-rotation-alignment"]),"text-field":new Uo(Ye.layout_symbol["text-field"]),"text-font":new Uo(Ye.layout_symbol["text-font"]),"text-size":new Uo(Ye.layout_symbol["text-size"]),"text-max-width":new Uo(Ye.layout_symbol["text-max-width"]),"text-line-height":new Uo(Ye.layout_symbol["text-line-height"]),"text-letter-spacing":new Uo(Ye.layout_symbol["text-letter-spacing"]),"text-justify":new Uo(Ye.layout_symbol["text-justify"]),"text-radial-offset":new Uo(Ye.layout_symbol["text-radial-offset"]),"text-variable-anchor":new jo(Ye.layout_symbol["text-variable-anchor"]),"text-anchor":new Uo(Ye.layout_symbol["text-anchor"]),"text-max-angle":new jo(Ye.layout_symbol["text-max-angle"]),"text-writing-mode":new jo(Ye.layout_symbol["text-writing-mode"]),"text-rotate":new Uo(Ye.layout_symbol["text-rotate"]),"text-padding":new jo(Ye.layout_symbol["text-padding"]),"text-keep-upright":new jo(Ye.layout_symbol["text-keep-upright"]),"text-transform":new Uo(Ye.layout_symbol["text-transform"]),"text-offset":new Uo(Ye.layout_symbol["text-offset"]),"text-allow-overlap":new jo(Ye.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new jo(Ye.layout_symbol["text-ignore-placement"]),"text-optional":new jo(Ye.layout_symbol["text-optional"])});var Qp={paint:new qo({"icon-opacity":new Uo(Ye.paint_symbol["icon-opacity"]),"icon-color":new Uo(Ye.paint_symbol["icon-color"]),"icon-halo-color":new Uo(Ye.paint_symbol["icon-halo-color"]),"icon-halo-width":new Uo(Ye.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Uo(Ye.paint_symbol["icon-halo-blur"]),"icon-translate":new jo(Ye.paint_symbol["icon-translate"]),"icon-translate-anchor":new jo(Ye.paint_symbol["icon-translate-anchor"]),"text-opacity":new Uo(Ye.paint_symbol["text-opacity"]),"text-color":new Uo(Ye.paint_symbol["text-color"],{runtimeType:lt,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new Uo(Ye.paint_symbol["text-halo-color"]),"text-halo-width":new Uo(Ye.paint_symbol["text-halo-width"]),"text-halo-blur":new Uo(Ye.paint_symbol["text-halo-blur"]),"text-translate":new jo(Ye.paint_symbol["text-translate"]),"text-translate-anchor":new jo(Ye.paint_symbol["text-translate-anchor"])}),layout:Jp};class ef{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:it,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ii(ef,"FormatSectionOverride",{omit:["defaultValue"]});class tf extends ms{constructor(e){super(e,Qp)}recalculate(e,t){super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const r=this.layout.get("text-writing-mode");if(r){const e=[];for(const t of r)e.indexOf(t)<0&&e.push(t);this.layout._values["text-writing-mode"]=e}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,t,r,n){const i=this.layout.get(e).evaluate(t,{},r,n),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Fn(o.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(t,r)=>r in e?String(e[r]):"")}(t.properties,i)}createBucket(e){return new Kp(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of Qp.paint.overridableProperties){if(!tf.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),r=new ef(t),n=new Bn(r,t.property.specification);let i=null;i="constant"===t.value.kind||"source"===t.value.kind?new Un("source",n):new Nn("composite",n,t.value.zoomStops,t.value._interpolationType),this.paint._values[e]=new Bo(t.property,i,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,r){return!(!this.layout||t.isDataDriven()||r.isDataDriven())&&tf.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const r=e.get("text-field"),n=Qp.paint.properties[t];let i=!1;const o=e=>{for(const t of e)if(n.overrides&&n.overrides.hasOverride(t))return void(i=!0)};if("constant"===r.value.kind&&r.value.value instanceof It)o(r.value.value.sections);else if("source"===r.value.kind){const e=t=>{i||(t instanceof Bt&&Rt(t.value)===dt?o(t.value.sections):t instanceof Vt?o(t.sections):t.eachChild(e))},t=r.value;t._styleExpression&&e(t._styleExpression.expression)}return i}getProgramConfiguration(e){return new ss(this,e)}}var rf={paint:new qo({"background-color":new jo(Ye.paint_background["background-color"]),"background-pattern":new Vo(Ye.paint_background["background-pattern"]),"background-opacity":new jo(Ye.paint_background["background-opacity"])})},nf={paint:new qo({"raster-opacity":new jo(Ye.paint_raster["raster-opacity"]),"raster-hue-rotate":new jo(Ye.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new jo(Ye.paint_raster["raster-brightness-min"]),"raster-brightness-max":new jo(Ye.paint_raster["raster-brightness-max"]),"raster-saturation":new jo(Ye.paint_raster["raster-saturation"]),"raster-contrast":new jo(Ye.paint_raster["raster-contrast"]),"raster-resampling":new jo(Ye.paint_raster["raster-resampling"]),"raster-fade-duration":new jo(Ye.paint_raster["raster-fade-duration"])})};class of extends ms{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var af={paint:new qo({"sky-type":new jo(Ye.paint_sky["sky-type"]),"sky-atmosphere-sun":new jo(Ye.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new jo(Ye.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new jo(Ye.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new jo(Ye.paint_sky["sky-gradient-radius"]),"sky-gradient":new Go(Ye.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new jo(Ye.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new jo(Ye.paint_sky["sky-atmosphere-color"]),"sky-opacity":new jo(Ye.paint_sky["sky-opacity"])})};function sf(e,t,r){const n=[0,0,1],i=Xl([]);return Yl(i,i,r?-v(e)+Math.PI:v(e)),Hl(i,i,-v(t)),jl(n,n,i),Ll(n,n)}const lf={circle:class extends ms{constructor(e){super(e,cl)}createBucket(e){return new Zs(e)}queryRadius(e){const t=e;return il("circle-radius",this,t)+il("circle-stroke-width",this,t)+ol(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,r,n,i,o,a,s){const l=sl(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),c=this.paint.get("circle-radius").evaluate(t,r)+this.paint.get("circle-stroke-width").evaluate(t,r);return rc(e,n,o,a,s,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),l,c)}getProgramIds(){return["circle"]}getProgramConfiguration(e){return new ss(this,e)}},heatmap:class extends ms{createBucket(e){return new sc(e)}constructor(e){super(e,pc),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=fc({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(e){return il("heatmap-radius",this,e)}queryIntersectsFeature(e,t,r,n,i,o,a,s){const l=this.paint.get("heatmap-radius").evaluate(t,r);return rc(e,n,o,a,s,!0,!0,new m(0,0),l)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(e){return new ss(this,e)}},hillshade:class extends ms{constructor(e){super(e,mc)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends ms{constructor(e){super(e,eu)}getProgramIds(){const e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),r=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&r.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),r}getProgramConfiguration(e){return new ss(this,e)}recalculate(e,t){super.recalculate(e,t);const r=this.paint._values["fill-outline-color"];"constant"===r.value.kind&&void 0===r.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new Jc(e)}queryRadius(){return ol(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,r,n,i,o){return!e.queryGeometry.isAboveHorizon&&Xs(al(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),n)}isTileClipped(){return!0}},"fill-extrusion":class extends ms{constructor(e){super(e,Lu)}createBucket(e){return new Su(e)}queryRadius(){return ol(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(e){return new ss(this,e)}queryIntersectsFeature(e,t,r,n,i,o,a,s,l){const c=sl(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),u=this.paint.get("fill-extrusion-height").evaluate(t,r),h=this.paint.get("fill-extrusion-base").evaluate(t,r),d=[0,0],p=s&&o.elevation,f=o.elevation?o.elevation.exaggeration():1,g=e.tile.getBucket(this);if(p&&g instanceof Su){const e=g.centroidVertexArray,t=l+1;if(t<e.length){const r=e.get(t);d[0]=r.a_centroid_pos0,d[1]=r.a_centroid_pos1}}if(0===d[0]&&1===d[1])return!1;"globe"===o.projection.name&&(n=Du([n],[new m(0,0),new m(vs,vs)],e.tileID.canonical).map(e=>e.polygon).flat());const _=p?s:null,[y,v]=function(e,t,r,n,i,o,a,s,l,c,u){return"globe"===e.projection.name?function(e,t,r,n,i,o,a,s,l,c,u){const h=[],d=[],p=e.projection.upVectorScale(u,e.center.lat,e.worldSize).metersToTile,f=[0,0,0,1],m=[0,0,0,1],g=(e,t,r,n)=>{e[0]=t,e[1]=r,e[2]=n,e[3]=1},_=zu();r>0&&(r+=_),n+=_;for(const _ of t){const t=[],y=[];for(const h of _){const d=h.x+i.x,_=h.y+i.y,v=e.projection.projectTilePoint(d,_,u),x=e.projection.upVector(u,h.x,h.y);let b=r,w=n;if(a){const e=qu(d,_,r,n,a,s,l,c);b+=e.base,w+=e.top}0!==r?g(f,v.x+x[0]*p*b,v.y+x[1]*p*b,v.z+x[2]*p*b):g(f,v.x,v.y,v.z),g(m,v.x+x[0]*p*w,v.y+x[1]*p*w,v.z+x[2]*p*w),Fl(f,f,o),Fl(m,m,o),t.push(new Nu(f[0],f[1],f[2])),y.push(new Nu(m[0],m[1],m[2]))}h.push(t),d.push(y)}return[h,d]}(e,t,r,n,i,o,a,s,l,c,u):a?function(e,t,r,n,i,o,a,s,l){const c=[],u=[],h=[0,0,0,1];for(const d of e){const e=[],p=[];for(const c of d){const u=c.x+n.x,d=c.y+n.y,f=qu(u,d,t,r,o,a,s,l);h[0]=u,h[1]=d,h[2]=f.base,h[3]=1,$l(h,h,i),h[3]=Math.max(h[3],1e-5);const m=new Nu(h[0]/h[3],h[1]/h[3],h[2]/h[3]);h[0]=u,h[1]=d,h[2]=f.top,h[3]=1,$l(h,h,i),h[3]=Math.max(h[3],1e-5);const g=new Nu(h[0]/h[3],h[1]/h[3],h[2]/h[3]);e.push(m),p.push(g)}c.push(e),u.push(p)}return[c,u]}(t,r,n,i,o,a,s,l,c):function(e,t,r,n,i){const o=[],a=[],s=i[8]*t,l=i[9]*t,c=i[10]*t,u=i[11]*t,h=i[8]*r,d=i[9]*r,p=i[10]*r,f=i[11]*r;for(const t of e){const e=[],r=[];for(const o of t){const t=o.x+n.x,a=o.y+n.y,m=i[0]*t+i[4]*a+i[12],g=i[1]*t+i[5]*a+i[13],_=i[2]*t+i[6]*a+i[14],y=i[3]*t+i[7]*a+i[15],v=m+s,x=g+l,b=_+c,w=Math.max(y+u,1e-5),T=m+h,E=g+d,S=_+p,C=Math.max(y+f,1e-5);e.push(new Nu(v/w,x/w,b/w)),r.push(new Nu(T/C,E/C,S/C))}o.push(e),a.push(r)}return[o,a]}(t,r,n,i,o)}(o,n,h,u,c,a,_,d,f,o.center.lat,e.tileID.canonical),x=e.queryGeometry;return function(e,t,r){let n=1/0;Xs(r,t)&&(n=Gu(r,t[0]));for(let i=0;i<t.length;i++){const o=t[i],a=e[i];for(let e=0;e<o.length-1;e++){const t=o[e],i=[t,o[e+1],a[e+1],a[e],t];$s(r,i)&&(n=Math.min(n,Gu(r,i)))}}return n!==1/0&&n}(y,v,x.isPointQuery()?x.screenBounds:x.screenGeometry)}},line:class extends ms{constructor(e){super(e,Qu),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(e){if("line-gradient"===e){const e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof Sr,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=eh.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new Ku(e)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(e){return new ss(this,e)}queryRadius(e){const t=e,r=th(il("line-width",this,t),il("line-gap-width",this,t)),n=il("line-offset",this,t);return r/2+Math.abs(n)+ol(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,r,n,i,o){if(e.queryGeometry.isAboveHorizon)return!1;const a=al(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),s=e.pixelToTileUnitsFactor/2*th(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),l=this.paint.get("line-offset").evaluate(t,r);return l&&(n=function(e,t){const r=[],n=new m(0,0);for(let i=0;i<e.length;i++){const o=e[i],a=[];for(let e=0;e<o.length;e++){const r=o[e-1],i=o[e],s=o[e+1],l=0===e?n:i.sub(r)._unit()._perp(),c=e===o.length-1?n:s.sub(i)._unit()._perp(),u=l._add(c)._unit();u._mult(1/(u.x*c.x+u.y*c.y)),a.push(u._mult(t)._add(i))}r.push(a)}return r}(n,l*e.pixelToTileUnitsFactor)),function(e,t,r){for(let n=0;n<t.length;n++){const i=t[n];if(e.length>=3)for(let t=0;t<i.length;t++)if(tl(e,i[t]))return!0;if(Hs(e,i,r))return!0}return!1}(a,n,s)}isTileClipped(){return!0}},symbol:tf,background:class extends ms{constructor(e){super(e,rf)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends ms{constructor(e){super(e,nf)}getProgramIds(){return["raster"]}},sky:class extends ms{constructor(e){super(e,af),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=fc({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}getCenter(e,t){if("atmosphere"===this.paint.get("sky-type")){const r=this.paint.get("sky-atmosphere-sun"),n=!r,i=e.style.light,o=i.properties.get("position");return n&&"viewport"===i.properties.get("anchor")&&V("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),n?sf(o.azimuthal,90-o.polar,t):sf(r[0],90-r[1],t)}const r=this.paint.get("sky-gradient-center");return sf(r[0],90-r[1],t)}is3D(){return!1}isSky(){return!0}markSkyboxValid(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}};class cf{constructor(e,t,r,n){this.context=e,this.format=r,this.texture=e.gl.createTexture(),this.update(t,n)}update(e,t,n){const{width:i,height:o}=e,{context:a}=this,{gl:s}=a,{HTMLImageElement:l,HTMLCanvasElement:c,HTMLVideoElement:u,ImageData:h,ImageBitmap:d}=r;if(s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),n||this.size&&this.size[0]===i&&this.size[1]===o){const{x:t,y:r}=n||{x:0,y:0};e instanceof l||e instanceof c||e instanceof u||e instanceof h||d&&e instanceof d?s.texSubImage2D(s.TEXTURE_2D,0,t,r,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,t,r,i,o,s.RGBA,s.UNSIGNED_BYTE,e.data)}else this.size=[i,o],e instanceof l||e instanceof c||e instanceof u||e instanceof h||d&&e instanceof d?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,i,o,0,this.format,s.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(t&&t.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&s.generateMipmap(s.TEXTURE_2D)}bind(e,t){const{context:r}=this,{gl:n}=r;n.bindTexture(n.TEXTURE_2D,this.texture),e!==this.filter&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.useMipmap?e===n.NEAREST?n.NEAREST_MIPMAP_NEAREST:n.LINEAR_MIPMAP_NEAREST:e),this.filter=e),t!==this.wrap&&(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class uf{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class hf{constructor(){this.tasks={},this.taskQueue=[],O(["process"],this),this.invoker=new uf(this.process),this.nextId=0}add(e,t){const r=this.nextId++,n=function({type:e,isSymbolTile:t,zoom:r}){return r=r||0,"message"===e?0:"maybePrepare"!==e||t?"parseTile"!==e||t?"parseTile"===e&&t?300-r:"maybePrepare"===e&&t?400-r:500:200-r:100-r}(t);if(0===n){Z();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[r]={fn:e,metadata:t,priority:n,id:r},this.taskQueue.push(r),this.invoker.trigger(),{cancel:()=>{delete this.tasks[r]}}}process(){Z();try{if(this.taskQueue=this.taskQueue.filter(e=>!!this.tasks[e]),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const t=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!t)return;t.fn()}finally{}}pick(){let e=null,t=1/0;for(let r=0;r<this.taskQueue.length;r++){const n=this.tasks[this.taskQueue[r]];n.priority<t&&(t=n.priority,e=r)}if(null===e)return null;const r=this.taskQueue[e];return this.taskQueue.splice(e,1),r}remove(){this.invoker.remove()}}class df{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const r=e[t];this._stringToNumber[r]=t,this._numberToString[t]=r}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}const pf=["tile","layer","source","sourceLayer","state"];class ff{constructor(e,t,r,n,i){this.type="Feature",this._vectorTileFeature=e,this._z=t,this._x=r,this._y=n,this.properties=e.properties,this.id=i}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={type:"Feature",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);for(const t of pf)void 0!==this[t]&&(e[t]=this[t]);return e}}const mf=new Uint16Array(8184);for(let e=0;e<2046;e++){let t=e+2,r=0,n=0,i=0,o=0,a=0,s=0;for(1&t?i=o=a=32:r=n=s=32;(t>>=1)>1;){const e=r+i>>1,l=n+o>>1;1&t?(i=r,o=n,r=a,n=s):(r=i,n=o,i=a,o=s),a=e,s=l}const l=4*e;mf[l+0]=r,mf[l+1]=n,mf[l+2]=i,mf[l+3]=o}const gf=new Uint16Array(2178),_f=new Uint8Array(1089),yf=new Uint16Array(1089);function vf(e){return 0===e?-.03125:32===e?.03125:0}var xf=Ho([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const bf={type:2,extent:vs,loadGeometry:()=>[[new m(0,0),new m(8193,0),new m(8193,8193),new m(0,8193),new m(0,0)]]};class wf{constructor(e,t,r,n,i){this.tileID=e,this.uid=z(),this.uses=0,this.tileSize=t,this.tileZoom=r,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=i,this.expiredRequestCount=0,this.state="loading",n&&n.transform&&(this.projection=n.transform.projection)}registerFadeDuration(e){const t=e+this.timeAdded;t<qe.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=bp(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,t,r){if(this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const r={};if(!t)return r;for(const n of e){const e=n.layerIds.map(e=>t.getLayer(e)).filter(Boolean);if(0!==e.length){n.layers=e,n.stateDependentLayerIds&&(n.stateDependentLayers=n.stateDependentLayerIds.map(t=>e.filter(e=>e.id===t)[0]));for(const t of e)r[t.id]=n}}return r}(e.buckets,t.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const t=this.buckets[e];if(t instanceof Kp){if(this.hasSymbolBuckets=!0,!r)break;t.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const t=this.buckets[e];if(t instanceof Kp&&t.hasRTLText){this.hasRTLText=!0,Ao.isLoading()||Ao.isLoaded()||"deferred"!==Mo()||ko();break}}this.queryPadding=0;for(const e in this.buckets){const r=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(e).queryRadius(r))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new Sa}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(e){return this.buckets[e.id]}upload(e){for(const t in this.buckets){const r=this.buckets[t];r.uploadPending()&&r.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new cf(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new cf(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new cf(e,this.lineAtlas.image,t.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,r,n,i,o,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:n,pixelPosMatrix:a,transform:o,params:i,tileTransform:this.tileTransform},e,t,r):{}}querySourceFeatures(e,t){const r=this.latestFeatureIndex;if(!r||!r.rawTileData)return;const n=r.loadVTLayers(),i=t?t.sourceLayer:"",o=n._geojsonTileLayer||n[i];if(!o)return;const a=Jn(t&&t.filter),{z:s,x:l,y:c}=this.tileID.canonical,u={z:s,x:l,y:c};for(let t=0;t<o.length;t++){const n=o.feature(t);if(a.needGeometry){const e=Vs(n,!0);if(!a.filter(new Io(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!a.filter(new Io(this.tileID.overscaledZ),n))continue;const h=r.getId(n,i),d=new ff(n,s,l,c,h);d.tile=u,e.push(d)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const t=this.expirationTime;if(e.cacheControl){const t=$(e.cacheControl);t["max-age"]&&(this.expirationTime=Date.now()+1e3*t["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let r=!1;if(this.expirationTime>e)r=!1;else if(t)if(this.expirationTime<t)r=!0;else{const n=this.expirationTime-t;n?this.expirationTime=e+Math.max(n,3e4):r=!0}else r=!0;r?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length||!t)return;const r=this.latestFeatureIndex.loadVTLayers(),n=t.style.listImages();for(const i in this.buckets){if(!t.style.hasLayer(i))continue;const o=this.buckets[i],a=o.layers[0].sourceLayer||"_geojsonTileLayer",s=r[a],l=e[a];if(!s||!l||0===Object.keys(l).length)continue;if(o.update(l,s,n,this.imageAtlas&&this.imageAtlas.patternPositions||{}),o instanceof Ku||o instanceof Jc){const e=t.style._getSourceCache(o.layers[0].source);t._terrain&&t._terrain.enabled&&e&&o.programConfigurations.needsUpload&&t._terrain._clearRenderCacheForTile(e.id,this.tileID)}const c=t&&t.style&&t.style.getLayer(i);c&&(this.queryPadding=Math.max(this.queryPadding,c.queryRadius(o)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<qe.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=qe.now()+e}setTexture(e,t){const r=t.context,n=r.gl;this.texture=this.texture||t.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new cf(r,e,n.RGBA,{useMipmap:!0}),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),r.extTextureFilterAnisotropic&&n.texParameterf(n.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax))}setDependencies(e,t){const r={};for(const e of t)r[e]=!0;this.dependencies[e]=r}hasDependency(e,t){for(const r of e){const e=this.dependencies[r];if(e)for(const r of t)if(e[r])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,t){if(!t||"mercator"===t.name||this._tileDebugBuffer)return;const r=Ns(bf,this.tileID.canonical,this.tileTransform)[0],n=new Ko,i=new xa;for(let e=0;e<r.length;e++){const{x:t,y:o}=r[e];n.emplaceBack(t,o),i.emplaceBack(e)}i.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(i),this._tileDebugBuffer=e.createVertexBuffer(n,Zd.members),this._tileDebugSegments=ys.simpleSegment(0,0,n.length,i.length)}_makeTileBoundsBuffers(e,t){if(this._tileBoundsBuffer||!t||"mercator"===t.name)return;const r=Ns(bf,this.tileID.canonical,this.tileTransform)[0];let n,i;if(this.isRaster){const e=function(e,t){const r=bp(e,t),n=Math.pow(2,e.z);for(let i=0;i<33;i++)for(let o=0;o<33;o++){const a=ks((e.x+(o+vf(o))/32)/n),s=As((e.y+(i+vf(i))/32)/n),l=t.project(a,s),c=33*i+o;gf[2*c+0]=Math.round((l.x*r.scale-r.x)*vs),gf[2*c+1]=Math.round((l.y*r.scale-r.y)*vs)}_f.fill(0),yf.fill(0);for(let e=2045;e>=0;e--){const t=4*e,r=mf[t+0],n=mf[t+1],i=mf[t+2],o=mf[t+3],a=r+i>>1,s=n+o>>1,l=a+s-n,c=s+r-a,u=33*n+r,h=33*o+i,d=33*s+a,p=Math.hypot((gf[2*u+0]+gf[2*h+0])/2-gf[2*d+0],(gf[2*u+1]+gf[2*h+1])/2-gf[2*d+1])>=16;if(_f[d]=_f[d]||(p?1:0),e<1022){const e=33*(n+c>>1)+(r+l>>1),t=33*(o+c>>1)+(i+l>>1);_f[d]=_f[d]||_f[e]||_f[t]}}const i=new Qo,o=new pa;let a=0;function s(e,t){const r=33*t+e;return 0===yf[r]&&(i.emplaceBack(gf[2*r+0],gf[2*r+1],e*vs/32,t*vs/32),yf[r]=++a),yf[r]-1}function l(e,t,r,n,i,a){const c=e+r>>1,u=t+n>>1;if(Math.abs(e-i)+Math.abs(t-a)>1&&_f[33*u+c])l(i,a,e,t,c,u),l(r,n,i,a,c,u);else{const l=s(e,t),c=s(r,n),u=s(i,a);o.emplaceBack(l,c,u)}}return l(0,0,32,32,32,0),l(32,32,0,0,0,32),{vertices:i,indices:o}}(this.tileID.canonical,t);n=e.vertices,i=e.indices}else{n=new Qo,i=new pa;for(const{x:e,y:t}of r)n.emplaceBack(e,t,0,0);const e=yc.exports(n.int16,void 0,4);for(let t=0;t<e.length;t+=3)i.emplaceBack(e[t],e[t+1],e[t+2])}this._tileBoundsBuffer=e.createVertexBuffer(n,xf.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(i),this._tileBoundsSegments=ys.simpleSegment(0,0,n.length,i.length)}_makeGlobeTileDebugBuffers(e,t){const r=t.projection;if(!r||"globe"!==r.name||t.freezeTileCoverage)return;const n=this.tileID.canonical,i=dp(np(n,t)),o=mp(t.zoom);let a;o>0&&(a=ml(new Float64Array(16),t.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,n,t,i,a,o),this._makeGlobeTileDebugTextBuffer(e,n,t,i,a,o)}_globePoint(e,t,r,n,i,o,a){let s=cp(e,t,r);if(o){const i=1<<r.z,l=Ss(n.center.lng),c=Cs(n.center.lat),u=(r.x+.5)/i-l;let h=0;u>.5?h=-1:u<-.5&&(h=1);let d=(e/vs+r.x)/i+h,p=(t/vs+r.y)/i;d=(d-l)*n._pixelsPerMercatorPixel+l,p=(p-c)*n._pixelsPerMercatorPixel+c;const f=[d*n.worldSize,p*n.worldSize,0];Fl(f,f,o),s=rp(s,f,a)}return Fl(s,s,i)}_makeGlobeTileDebugBorderBuffer(e,t,r,n,i,o){const a=new Ko,s=new xa,l=new Jo,c=(e,c,u,h,d)=>{const p=(u-e)/(d-1),f=(h-c)/(d-1),m=a.length;for(let u=0;u<d;u++){const h=e+u*p,d=c+u*f;a.emplaceBack(h,d);const g=this._globePoint(h,d,t,r,n,i,o);l.emplaceBack(g[0],g[1],g[2]),s.emplaceBack(m+u)}},u=vs;c(0,0,u,0,16),c(u,0,u,u,16),c(u,u,0,u,16),c(0,u,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(s),this._tileDebugBuffer=e.createVertexBuffer(a,Zd.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(l,qd.members),this._tileDebugSegments=ys.simpleSegment(0,0,a.length,s.length)}_makeGlobeTileDebugTextBuffer(e,t,r,n,i,o){const a=new Ko,s=new pa,l=new Jo,c=25;s.reserve(32),a.reserve(c),l.reserve(c);const u=(e,t)=>c*e+t;for(let e=0;e<c;e++){const s=2048*e;for(let e=0;e<c;e++){const c=2048*e;a.emplaceBack(c,s);const u=this._globePoint(c,s,t,r,n,i,o);l.emplaceBack(u[0],u[1],u[2])}}for(let e=0;e<4;e++)for(let t=0;t<4;t++){const r=u(e,t),n=u(e,t+1),i=u(e+1,t),o=u(e+1,t+1);s.emplaceBack(r,n,i),s.emplaceBack(i,n,o)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(s),this._tileDebugTextBuffer=e.createVertexBuffer(a,Zd.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(l,qd.members),this._tileDebugTextSegments=ys.simpleSegment(0,0,c,32)}}class Tf{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,t,r){const n=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][n]=this.stateChanges[e][n]||{},I(this.stateChanges[e][n],r),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==n&&(this.deletedStates[e][t]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][n]){this.deletedStates[e][n]={};for(const t in this.state[e][n])r[t]||(this.deletedStates[e][n][t]=null)}else for(const t in r)this.deletedStates[e]&&this.deletedStates[e][n]&&null===this.deletedStates[e][n][t]&&delete this.deletedStates[e][n][t]}removeFeatureState(e,t,r){if(null===this.deletedStates[e])return;const n=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},r&&void 0!==t)null!==this.deletedStates[e][n]&&(this.deletedStates[e][n]=this.deletedStates[e][n]||{},this.deletedStates[e][n][r]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][n])for(r in this.deletedStates[e][n]={},this.stateChanges[e][n])this.deletedStates[e][n][r]=null;else this.deletedStates[e][n]=null;else this.deletedStates[e]=null}getState(e,t){const r=String(t),n=I({},(this.state[e]||{})[r],(this.stateChanges[e]||{})[r]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const r=this.deletedStates[e][t];if(null===r)return{};for(const e in r)delete n[e]}return n}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(e,t){const r={};for(const e in this.stateChanges){this.state[e]=this.state[e]||{};const t={};for(const r in this.stateChanges[e])this.state[e][r]||(this.state[e][r]={}),I(this.state[e][r],this.stateChanges[e][r]),t[r]=this.state[e][r];r[e]=t}for(const e in this.deletedStates){this.state[e]=this.state[e]||{};const t={};if(null===this.deletedStates[e])for(const r in this.state[e])t[r]={},this.state[e][r]={};else for(const r in this.deletedStates[e]){if(null===this.deletedStates[e][r])this.state[e][r]={};else for(const t of Object.keys(this.deletedStates[e][r]))delete this.state[e][r][t];t[r]=this.state[e][r]}r[e]=r[e]||{},I(r[e],t)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(const n in e)e[n].setFeatureState(r,t)}}class Ef{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,t){const r=this.toIdx(e,t);return{min:this.minimums[r],max:this.maximums[r]}}isLeaf(e,t){return this.leaves[this.toIdx(e,t)]}toIdx(e,t){return t*this.size+e}}function Sf(e,t,r,n){let i=0,o=Number.MAX_VALUE;for(let a=0;a<3;a++)if(Math.abs(n[a])<1e-15){if(r[a]<e[a]||r[a]>t[a])return null}else{const s=1/n[a];let l=(e[a]-r[a])*s,c=(t[a]-r[a])*s;if(l>c){const e=l;l=c,c=e}if(l>i&&(i=l),c<o&&(o=c),i>o)return null}return i}function Cf(e,t,r,n,i,o,a,s,l,c,u){const h=n-e,d=i-t,p=o-r,f=a-e,m=s-t,g=l-r,_=u[1]*g-u[2]*m,y=u[2]*f-u[0]*g,v=u[0]*m-u[1]*f,x=h*_+d*y+p*v;if(Math.abs(x)<1e-15)return null;const b=1/x,w=c[0]-e,T=c[1]-t,E=c[2]-r,S=(w*_+T*y+E*v)*b;if(S<0||S>1)return null;const C=T*p-E*d,M=E*h-w*p,k=w*d-T*h,A=(u[0]*C+u[1]*M+u[2]*k)*b;return A<0||S+A>1?null:(f*C+m*M+g*k)*b}function Mf(e,t,r){return(e-t)/(r-t)}function kf(e,t,r,n,i,o,a,s,l){const c=1<<r,u=o-n,h=a-i,d=(e+1)/c*u+n,p=(t+0)/c*h+i,f=(t+1)/c*h+i;s[0]=(e+0)/c*u+n,s[1]=p,l[0]=d,l[1]=f}class Af{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const t=function(e){const t=Math.ceil(Math.log2(e.dim/8)),r=[];let n=Math.ceil(Math.pow(2,t));const i=1/n,o=(e,t,r,n,i)=>{const o=n?1:0,a=(e+1)*r-o,s=t*r,l=(t+1)*r-o;i[0]=e*r,i[1]=s,i[2]=a,i[3]=l};let a=new Ef(n);const s=[];for(let t=0;t<n*n;t++){o(t%n,Math.floor(t/n),i,!1,s);const r=Pf(s[0],s[1],e),l=Pf(s[2],s[1],e),c=Pf(s[2],s[3],e),u=Pf(s[0],s[3],e);a.minimums.push(Math.min(r,l,c,u)),a.maximums.push(Math.max(r,l,c,u)),a.leaves.push(1)}for(r.push(a),n/=2;n>=1;n/=2){const e=r[r.length-1];a=new Ef(n);for(let t=0;t<n*n;t++){o(t%n,Math.floor(t/n),2,!0,s);const r=e.getElevation(s[0],s[1]),i=e.getElevation(s[2],s[1]),l=e.getElevation(s[2],s[3]),c=e.getElevation(s[0],s[3]),u=e.isLeaf(s[0],s[1]),h=e.isLeaf(s[2],s[1]),d=e.isLeaf(s[2],s[3]),p=e.isLeaf(s[0],s[3]),f=Math.min(r.min,i.min,l.min,c.min),m=Math.max(r.max,i.max,l.max,c.max),g=u&&h&&d&&p;a.maximums.push(m),a.minimums.push(f),a.leaves.push(m-f<=5&&g?1:0)}r.push(a)}return r}(this.dem),r=t.length-1,n=t[r];this._addNode(n.minimums[0],n.maximums[0],n.leaves[0]),this._construct(t,0,0,r,0)}raycastRoot(e,t,r,n,i,o,a=1){return Sf([e,t,-100],[r,n,this.maximums[0]*a],i,o)}raycast(e,t,r,n,i,o,a=1){if(!this.nodeCount)return null;const s=this.raycastRoot(e,t,r,n,i,o,a);if(null==s)return null;const l=[],c=[],u=[],h=[],d=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];for(;d.length>0;){const{idx:s,t:p,nodex:f,nodey:m,depth:g}=d.pop();if(this.leaves[s]){kf(f,m,g,e,t,r,n,u,h);const s=1<<g,l=(f+0)/s,c=(f+1)/s,d=(m+0)/s,_=(m+1)/s,y=Pf(l,d,this.dem)*a,v=Pf(c,d,this.dem)*a,x=Pf(c,_,this.dem)*a,b=Pf(l,_,this.dem)*a,w=Cf(u[0],u[1],y,h[0],u[1],v,h[0],h[1],x,i,o),T=Cf(h[0],h[1],x,u[0],h[1],b,u[0],u[1],y,i,o),E=Math.min(null!==w?w:Number.MAX_VALUE,null!==T?T:Number.MAX_VALUE);if(E!==Number.MAX_VALUE)return E;{const e=Rl([],i,o,p);if(If(y,v,b,x,Mf(e[0],u[0],h[0]),Mf(e[1],u[1],h[1]))>=e[2])return p}continue}let _=0;for(let d=0;d<this._siblingOffset.length;d++){kf((f<<1)+this._siblingOffset[d][0],(m<<1)+this._siblingOffset[d][1],g+1,e,t,r,n,u,h),u[2]=-100,h[2]=this.maximums[this.childOffsets[s]+d]*a;const p=Sf(u,h,i,o);if(null!=p){const e=p;l[d]=e;let t=!1;for(let r=0;r<_&&!t;r++)e>=l[c[r]]&&(c.splice(r,0,d),t=!0);t||(c[_]=d),_++}}for(let e=0;e<_;e++){const t=c[e];d.push({idx:this.childOffsets[s]+t,t:l[t],nodex:(f<<1)+this._siblingOffset[t][0],nodey:(m<<1)+this._siblingOffset[t][1],depth:g+1})}}return null}_addNode(e,t,r){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(r),this.childOffsets.push(0),this.nodeCount++}_construct(e,t,r,n,i){if(1===e[n].isLeaf(t,r))return;this.childOffsets[i]||(this.childOffsets[i]=this.nodeCount);const o=n-1,a=e[o];let s=0,l=0;for(let e=0;e<this._siblingOffset.length;e++){const n=2*t+this._siblingOffset[e][0],i=2*r+this._siblingOffset[e][1],o=a.getElevation(n,i),c=a.isLeaf(n,i),u=this._addNode(o.min,o.max,c);c&&(s|=1<<e),l||(l=u)}for(let n=0;n<this._siblingOffset.length;n++)s&1<<n||this._construct(e,2*t+this._siblingOffset[n][0],2*r+this._siblingOffset[n][1],o,l+n)}}function If(e,t,r,n,i,o){return Cr(Cr(e,r,o),Cr(t,n,o),i)}function Pf(e,t,r){const n=r.dim,i=S(e*n-.5,0,n-1),o=S(t*n-.5,0,n-1),a=Math.floor(i),s=Math.floor(o),l=Math.min(a+1,n-1),c=Math.min(s+1,n-1);return If(r.get(a,s),r.get(l,s),r.get(a,c),r.get(l,c),i-a,o-s)}const zf={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Df{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,t,r,n=!1,i=!1){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(r&&"mapbox"!==r&&"terrarium"!==r)return V(`"${r}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;const o=this.dim=t.height-2,a=new Uint32Array(t.data.buffer);if(this.pixels=new Uint8Array(t.data.buffer),this.encoding=r||"mapbox",this.borderReady=n,!n){for(let e=0;e<o;e++)a[this._idx(-1,e)]=a[this._idx(0,e)],a[this._idx(o,e)]=a[this._idx(o-1,e)],a[this._idx(e,-1)]=a[this._idx(e,0)],a[this._idx(e,o)]=a[this._idx(e,o-1)];a[this._idx(-1,-1)]=a[this._idx(0,0)],a[this._idx(o,-1)]=a[this._idx(o-1,0)],a[this._idx(-1,o)]=a[this._idx(0,o-1)],a[this._idx(o,o)]=a[this._idx(o-1,o-1)],i&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Af(this)}get(e,t,r=!1){r&&(e=S(e,-1,this.dim),t=S(t,-1,this.dim));const n=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[n],this.pixels[n+1],this.pixels[n+2])}static getUnpackVector(e){return zf[e]}get unpackVector(){return zf[this.encoding]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}_unpackMapbox(e,t,r){return(256*e*256+256*t+r)/10-1e4}_unpackTerrarium(e,t,r){return 256*e+t+r/256-32768}static pack(e,t){const r=[0,0,0,0],n=Df.getUnpackVector(t);let i=Math.floor((e+n[3])/n[2]);return r[2]=i%256,i=Math.floor(i/256),r[1]=i%256,i=Math.floor(i/256),r[0]=i,r}getPixels(){return new dc({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,t,r){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let n=t*this.dim,i=t*this.dim+this.dim,o=r*this.dim,a=r*this.dim+this.dim;switch(t){case-1:n=i-1;break;case 1:i=n+1}switch(r){case-1:o=a-1;break;case 1:a=o+1}const s=-t*this.dim,l=-r*this.dim;for(let t=o;t<a;t++)for(let r=n;r<i;r++){const n=4*this._idx(r,t),i=4*this._idx(r+s,t+l);this.pixels[n+0]=e.pixels[i+0],this.pixels[n+1]=e.pixels[i+1],this.pixels[n+2]=e.pixels[i+2],this.pixels[n+3]=e.pixels[i+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Ii(Df,"DEMData"),Ii(Af,"DemMinMaxQuadTree",{omit:["dem"]});class Rf{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,r){const n=e.wrapped().key;void 0===this.data[n]&&(this.data[n]=[]);const i={value:t,timeout:void 0};if(void 0!==r&&(i.timeout=setTimeout(()=>{this.remove(e,i)},r)),this.data[n].push(i),this.order.push(n),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const r=e.wrapped().key,n=void 0===t?0:this.data[r].indexOf(t),i=this.data[r][n];return this.data[r].splice(n,1),i.timeout&&clearTimeout(i.timeout),0===this.data[r].length&&delete this.data[r],this.onRemove(i.value),this.order.splice(this.order.indexOf(r),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const r in this.data)for(const n of this.data[r])e(n.value)||t.push(n);for(const e of t)this.remove(e.value.tileID,e)}}class Lf{constructor(e,t,r){this.func=e,this.mask=t,this.range=r}}Lf.ReadOnly=!1,Lf.ReadWrite=!0,Lf.disabled=new Lf(519,Lf.ReadOnly,[0,1]);class Of{constructor(e,t,r,n,i,o){this.test=e,this.ref=t,this.mask=r,this.fail=n,this.depthFail=i,this.pass=o}}Of.disabled=new Of({func:519,mask:0},0,0,7680,7680,7680);class Bf{constructor(e,t,r){this.blendFunction=e,this.blendColor=t,this.mask=r}}Bf.Replace=[1,0],Bf.disabled=new Bf(Bf.Replace,Mt.transparent,[!1,!1,!1,!1]),Bf.unblended=new Bf(Bf.Replace,Mt.transparent,[!0,!0,!0,!0]),Bf.alphaBlended=new Bf([1,771],Mt.transparent,[!0,!0,!0,!0]);class Ff{constructor(e,t,r){this.enable=e,this.mode=t,this.frontFace=r}}Ff.disabled=new Ff(!1,1029,2305),Ff.backCCW=new Ff(!0,1029,2305),Ff.backCW=new Ff(!0,1029,2304),Ff.frontCW=new Ff(!0,1028,2304),Ff.frontCCW=new Ff(!0,1028,2305);class jf extends He{constructor(e,t,r){super(),this.id=e,this._onlySymbols=r,t.on("data",e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),t.on("error",()=>{this._sourceErrored=!0}),this._source=t,this._tiles={},this._cache=new Rf(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Tf,this._isRaster="raster"===this._source.type||"raster-dem"===this._source.type||"custom"===this._source.type&&"raster"===this._source._dataType}onAdd(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const r=this._tiles[t];r.upload(e),r.prepare(this.map.style.imageManager)}}getIds(){return A(this._tiles).map(e=>e.tileID).sort(Uf).map(e=>e.key)}getRenderableIds(e){const t=[];for(const r in this._tiles)this._isIdRenderable(+r,e)&&t.push(this._tiles[r]);return e?t.sort((e,t)=>{const r=e.tileID,n=t.tileID,i=new m(r.canonical.x,r.canonical.y)._rotate(this.transform.angle),o=new m(n.canonical.x,n.canonical.y)._rotate(this.transform.angle);return r.overscaledZ-n.overscaledZ||o.y-i.y||o.x-i.x}).map(e=>e.tileID.key):t.map(e=>e.tileID).sort(Uf).map(e=>e.key)}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,t){const r=this._tiles[e];r&&("loading"!==r.state&&(r.state=t),this._loadTile(r,this._tileLoaded.bind(this,r,e,t)))}_tileLoaded(e,t,r,n){if(n)if(e.state="errored",404!==n.status)this._source.fire(new Xe(n,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const e=this.map.painter.terrain;this.update(this.transform,e.getScaledDemTileSize(),!0),e.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=qe.now(),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new We("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const t=this.getRenderableIds();for(let n=0;n<t.length;n++){const i=t[n];if(e.neighboringTiles&&e.neighboringTiles[i]){const t=this.getTileByID(i);r(e,t),r(t,e)}}function r(e,t){if(!e.dem||e.dem.borderReady)return;e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;let r=t.tileID.canonical.x-e.tileID.canonical.x;const n=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===r&&0===n||Math.abs(n)>1||(Math.abs(r)>1&&(1===Math.abs(r+i)?r+=i:1===Math.abs(r-i)&&(r-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,n),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,r,n){for(const i in this._tiles){let o=this._tiles[i];if(n[i]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>r)continue;let a=o.tileID;for(;o&&o.tileID.overscaledZ>t+1;){const e=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[e.key],o&&o.hasData()&&(a=e)}let s=a;for(;s.overscaledZ>t;)if(s=s.scaledTo(s.overscaledZ-1),e[s.key]){n[a.key]=a;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const r=this._loadedParentTiles[e.key];return r&&r.tileID.overscaledZ>=t?r:null}for(let r=e.overscaledZ-1;r>=t;r--){const t=e.scaledTo(r),n=this._getLoadedTile(t);if(n)return n}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,t){t=t||this._source.tileSize;const r=Math.ceil(e.width/t)+1,n=Math.ceil(e.height/t)+1,i=Math.floor(r*n*5),o="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,i):i,a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,o):o;this._cache.setMaxSize(a)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const r in this._tiles){const n=this._tiles[r];n.tileID=n.tileID.unwrapTo(n.tileID.wrap+t),e[n.tileID.key]=n}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(+e,this._tiles[e])}}update(e,t,r){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!r)return;let n;this.updateCacheSize(e,t),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?n=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(e=>new ju(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)):(n=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!r,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(n=n.filter(e=>this._source.hasTile(e)))):n=[];const i=this._updateRetainedTiles(n);if(Nf(this._source.type)&&0!==n.length){const e={},t={},r=Object.keys(i);for(const n of r){const r=i[n],o=this._tiles[n];if(!o||o.fadeEndTime&&o.fadeEndTime<=qe.now())continue;const a=this.findLoadedParent(r,Math.max(r.overscaledZ-jf.maxOverzooming,this._source.minzoom));a&&(this._addTile(a.tileID),e[a.tileID.key]=a.tileID),t[n]=r}const o=n[n.length-1].overscaledZ;for(const e in this._tiles){const r=this._tiles[e];if(i[e]||!r.hasData())continue;let n=r.tileID;for(;n.overscaledZ>o;){n=n.scaledTo(n.overscaledZ-1);const o=this._tiles[n.key];if(o&&o.hasData()&&t[n.key]){i[e]=r.tileID;break}}}for(const t in e)i[t]||(this._coveredTiles[t]=!0,i[t]=e[t])}for(const e in i)this._tiles[e].clearFadeHold();const o=function(e,t){const r=[];for(const n in e)n in t||r.push(n);return r}(this._tiles,i);for(const e of o){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(+e)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const t={};if(0===e.length)return t;const r={},n=e.reduce((e,t)=>Math.min(e,t.overscaledZ),1/0),i=e[0].overscaledZ,o=Math.max(i-jf.maxOverzooming,this._source.minzoom),a=Math.max(i+jf.maxUnderzooming,this._source.minzoom),s={};for(const r of e){const e=this._addTile(r);t[r.key]=r,e.hasData()||n<this._source.maxzoom&&(s[r.key]=r)}this._retainLoadedChildren(s,n,a,t);for(const n of e){let e=this._tiles[n.key];if(e.hasData())continue;if(n.canonical.z>=this._source.maxzoom){const e=n.children(this._source.maxzoom)[0],r=this.getTile(e);if(r&&r.hasData()){t[e.key]=e;continue}}else{const e=n.children(this._source.maxzoom);if(t[e[0].key]&&t[e[1].key]&&t[e[2].key]&&t[e[3].key])continue}let i=e.wasRequested();for(let a=n.overscaledZ-1;a>=o;--a){const o=n.scaledTo(a);if(r[o.key])break;if(r[o.key]=!0,e=this.getTile(o),!e&&i&&(e=this._addTile(o)),e&&(t[o.key]=o,i=e.wasRequested(),e.hasData()))break}}return t}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let r,n=this._tiles[e].tileID;for(;n.overscaledZ>0;){if(n.key in this._loadedParentTiles){r=this._loadedParentTiles[n.key];break}t.push(n.key);const e=n.scaledTo(n.overscaledZ-1);if(r=this._getLoadedTile(e),r)break;n=e}for(const e of t)this._loadedParentTiles[e]=r}}_addTile(e){let t=this._tiles[e.key];if(t)return t;t=this._cache.getAndRemove(e),t&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));const r=Boolean(t);if(!r){const r=this.map?this.map.painter:null;t=new wf(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,r,this._isRaster),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))}return t?(t.uses++,this._tiles[e.key]=t,r||this._source.fire(new We("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const r=t.getExpiryTimeout();r&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},r))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(e,t,r){const n=[],i=this.transform;if(!i)return n;const o="globe"===i.projection.name,a=Ss(i.center.lng);for(const s in this._tiles){const l=this._tiles[s];if(r&&l.clearQueryDebugViz(),l.holdingForFade())continue;let c;if(o){const e=l.tileID.canonical;if(0===e.z){const t=[Math.abs(S(a,...Vf(e,-1))-a),Math.abs(S(a,...Vf(e,1))-a)];c=[0,2*t.indexOf(Math.min(...t))-1]}else{const t=[Math.abs(S(a,...Vf(e,-1))-a),Math.abs(S(a,...Vf(e,0))-a),Math.abs(S(a,...Vf(e,1))-a)];c=[t.indexOf(Math.min(...t))-1]}}else c=[0];for(const r of c){const o=e.containsTile(l,i,t,r);o&&n.push(o)}}return n}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map(e=>this._tiles[e].tileID);for(const e of t)e.projMatrix=this.transform.calculateProjMatrix(e.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(Nf(this._source.type))for(const e in this._tiles){const t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=qe.now())return!0}return!1}setFeatureState(e,t,r){this._state.updateState(e=e||"_geojsonTileLayer",t,r)}removeFeatureState(e,t,r){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,r)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,r){const n=this._tiles[e];n&&n.setDependencies(t,r)}reloadTilesForDependencies(e,t){for(const r in this._tiles)this._tiles[r].hasDependency(e,t)&&this._reloadTile(+r,"reloading");this._cache.filter(r=>!r.hasDependency(e,t))}_preloadTiles(e,t){const r=new Map,n=Array.isArray(e)?e:[e],i=this.map.painter.terrain,o=this.usedForTerrain&&i?i.getScaledDemTileSize():this._source.tileSize;for(const e of n){const t=e.coveringTiles({tileSize:o,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const e of t)r.set(e.key,e);this.usedForTerrain&&e.updateElevation(!1)}k(Array.from(r.values()),(e,t)=>{const r=new wf(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(r,e=>{"raster-dem"===this._source.type&&r.dem&&this._backfillDEM(r),t(e,r)})},t)}}function Uf(e,t){const r=Math.abs(2*e.wrap)-+(e.wrap<0),n=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||n-r||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Nf(e){return"raster"===e||"image"===e||"video"===e||"custom"===e}function Vf(e,t){const r=1<<e.z;return[e.x/r+t,(e.x+1)/r+t]}jf.maxOverzooming=10,jf.maxUnderzooming=3;class Gf{constructor(e,t,r){this._demTile=e,this._dem=this._demTile.dem,this._scale=t,this._offset=r}static create(e,t,r){const n=r||e.findDEMTileFor(t);if(!n||!n.dem)return;const i=n.dem,o=n.tileID,a=1<<t.canonical.z-o.canonical.z;return new Gf(n,n.tileSize/vs/a,[(t.canonical.x/a-o.canonical.x)*i.dim,(t.canonical.y/a-o.canonical.y)*i.dim])}tileCoordToPixel(e,t){const r=t*this._scale+this._offset[1],n=Math.floor(e*this._scale+this._offset[0]),i=Math.floor(r);return new m(n,i)}getElevationAt(e,t,r,n){const i=e*this._scale+this._offset[0],o=t*this._scale+this._offset[1],a=Math.floor(i),s=Math.floor(o),l=this._dem;return n=!!n,r?Cr(Cr(l.get(a,s,n),l.get(a,s+1,n),o-s),Cr(l.get(a+1,s,n),l.get(a+1,s+1,n),o-s),i-a):l.get(a,s,n)}getElevationAtPixel(e,t,r){return this._dem.get(e,t,!!r)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*Ms(1,e)*this._dem.stride}}class qf{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Mi(vs,16,0),this.featureIndexArray=new Da,this.promoteId=t}insert(e,t,r,n,i,o=0){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i,o);const s=this.grid;for(let e=0;e<t.length;e++){const r=t[e],n=[1/0,1/0,-1/0,-1/0];for(let e=0;e<r.length;e++){const t=r[e];n[0]=Math.min(n[0],t.x),n[1]=Math.min(n[1],t.y),n[2]=Math.max(n[2],t.x),n[3]=Math.max(n[3],t.y)}n[0]<vs&&n[1]<vs&&n[2]>=0&&n[3]>=0&&s.insert(a,n[0],n[1],n[2],n[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new _u(new yh(this.rawTileData)).layers,this.sourceLayerCoder=new df(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[]}return this.vtLayers}query(e,t,r,n){this.loadVTLayers();const i=e.params||{},o=Jn(i.filter),a=e.tileResult,s=e.transform,l=a.bufferedTilespaceBounds,c=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,(e,t,r,n)=>rl(a.bufferedTilespaceGeometry,e,t,r,n));c.sort($f);let u=null;s.elevation&&c.length>0&&(u=Gf.create(s.elevation,this.tileID));const h={};let d;for(let s=0;s<c.length;s++){const l=c[s];if(l===d)continue;d=l;const p=this.featureIndexArray.get(l);let f=null;this.loadMatchingFeature(h,p,o,i.layers,i.availableImages,t,r,n,(t,r,n,i=0)=>(f||(f=Ns(t,this.tileID.canonical,e.tileTransform)),r.queryIntersectsFeature(a,t,n,f,this.z,e.transform,e.pixelPosMatrix,u,i)))}return h}loadMatchingFeature(e,t,r,n,i,o,a,s,l){const{featureIndex:c,bucketIndex:u,sourceLayerIndex:h,layoutVertexArrayOffset:d}=t,p=this.bucketLayerIDs[u];if(n&&!function(e,t){for(let r=0;r<e.length;r++)if(t.indexOf(e[r])>=0)return!0;return!1}(n,p))return;const f=this.sourceLayerCoder.decode(h),m=this.vtLayers[f].feature(c);if(r.needGeometry){const e=Vs(m,!0);if(!r.filter(new Io(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!r.filter(new Io(this.tileID.overscaledZ),m))return;const g=this.getId(m,f);for(let t=0;t<p.length;t++){const r=p[t];if(n&&n.indexOf(r)<0)continue;const u=o[r];if(!u)continue;let h={};void 0!==g&&s&&(h=s.getState(u.sourceLayer||"_geojsonTileLayer",g));const f=I({},a[r]);f.paint=Zf(f.paint,u.paint,m,h,i),f.layout=Zf(f.layout,u.layout,m,h,i);const _=!l||l(m,u,h,d);if(!_)continue;const y=new ff(m,this.z,this.x,this.y,g);y.layer=f;let v=e[r];void 0===v&&(v=e[r]=[]),v.push({featureIndex:c,feature:y,intersectionZ:_})}}lookupSymbolFeatures(e,t,r,n,i,o,a,s){const l={};this.loadVTLayers();const c=Jn(i);for(const i of e)this.loadMatchingFeature(l,{bucketIndex:r,sourceLayerIndex:n,featureIndex:i,layoutVertexArrayOffset:0},c,o,a,s,t);return l}loadFeature(e){const{featureIndex:t,sourceLayerIndex:r}=e;this.loadVTLayers();const n=this.sourceLayerCoder.decode(r),i=this.vtFeatures[n];if(i[t])return i[t];const o=this.vtLayers[n].feature(t);return i[t]=o,o}hasLayer(e){for(const t of this.bucketLayerIDs)for(const r of t)if(e===r)return!0;return!1}getId(e,t){let r=e.id;if(this.promoteId){const n="string"==typeof this.promoteId?this.promoteId:this.promoteId[t];null!=n&&(r=e.properties[n]),"boolean"==typeof r&&(r=Number(r))}return r}}function Zf(e,t,r,n,i){return F(e,(e,o)=>{const a=t instanceof Fo?t.get(o):null;return a&&a.evaluate?a.evaluate(r,n,i):a})}function $f(e,t){return t-e}Ii(qf,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class Wf{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.image=new hc({width:e,height:t}),this.positions={},this.uploaded=!1}getDash(e,t){const r=this.getKey(e,t);return this.positions[r]}trim(){const e=this.width,t=this.height=R(this.nextRow);this.image.resize({width:e,height:t})}getKey(e,t){return e.join(",")+t}getDashRanges(e,t,r){const n=[];let i=e.length%2==1?-e[e.length-1]*r:0,o=e[0]*r,a=!0;n.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});let s=e[0];for(let t=1;t<e.length;t++){a=!a;const l=e[t];i=s*r,s+=l,o=s*r,n.push({left:i,right:o,isDash:a,zeroLength:0===l})}return n}addRoundDash(e,t,r){const n=t/2;for(let t=-r;t<=r;t++){const i=this.width*(this.nextRow+r+t);let o=0,a=e[o];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++o]);const l=Math.abs(s-a.left),c=Math.abs(s-a.right),u=Math.min(l,c);let h;const d=t/r*(n+1);if(a.isDash){const e=n-Math.abs(d);h=Math.sqrt(u*u+e*e)}else h=n-Math.sqrt(u*u+d*d);this.image.data[i+s]=Math.max(0,Math.min(255,h+128))}}}addRegularDash(e,t){for(let t=e.length-1;t>=0;--t){const r=e[t],n=e[t+1];r.zeroLength?e.splice(t,1):n&&n.isDash===r.isDash&&(n.left=r.left,e.splice(t,1))}const r=e[0],n=e[e.length-1];r.isDash===n.isDash&&(r.left=n.left-this.width,n.right=r.right+this.width);const i=this.width*this.nextRow;let o=0,a=e[o];for(let r=0;r<this.width;r++){r/a.right>1&&(a=e[++o]);const n=Math.abs(r-a.left),s=Math.abs(r-a.right),l=Math.min(n,s);this.image.data[i+r]=Math.max(0,Math.min(255,(a.isDash?l:-l)+t+128))}}addDash(e,t){const r=this.getKey(e,t);if(this.positions[r])return this.positions[r];const n="round"===t,i=n?7:0,o=2*i+1;if(this.nextRow+o>this.height)return V("LineAtlas out of space"),null;0===e.length&&e.push(1);let a=0;for(let t=0;t<e.length;t++)e[t]<0&&(V("Negative value is found in line dasharray, replacing values with 0"),e[t]=0),a+=e[t];if(0!==a){const r=this.width/a,o=this.getDashRanges(e,this.width,r);n?this.addRoundDash(o,r,i):this.addRegularDash(o,"square"===t?.5*r:0)}const s=this.nextRow+i;this.nextRow+=o;const l={tl:[s,i],br:[a,0]};return this.positions[r]=l,l}}Ii(Wf,"LineAtlas");class Xf{constructor(e){const t={},r=[];for(const n in e){const i=e[n],o=t[n]={};for(const e in i.glyphs){const t=i.glyphs[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const n=t.metrics.localGlyph?2:1,a={x:0,y:0,w:t.bitmap.width+2*n,h:t.bitmap.height+2*n};r.push(a),o[e]=a}}const{w:n,h:i}=Gh(r),o=new hc({width:n||1,height:i||1});for(const r in e){const n=e[r];for(const e in n.glyphs){const i=n.glyphs[+e];if(!i||0===i.bitmap.width||0===i.bitmap.height)continue;const a=t[r][e],s=i.metrics.localGlyph?2:1;hc.copy(i.bitmap,o,{x:0,y:0},{x:a.x+s,y:a.y+s},i.bitmap)}}this.image=o,this.positions=t}}Ii(Xf,"GlyphAtlas");class Hf{constructor(e){this.tileID=new ju(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile,this.tileTransform=bp(e.tileID.canonical,e.projection),this.projection=e.projection}parse(e,t,r,n,i){this.status="parsing",this.data=e,this.collisionBoxArray=new Sa;const o=new df(Object.keys(e.layers).sort()),a=new qf(this.tileID,this.promoteId);a.bucketLayerIDs=[];const s={},l=new Wf(256,256),c={featureIndex:a,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:l,availableImages:r},u=t.familiesBySource[this.source];for(const t in u){const n=e.layers[t];if(!n)continue;let i=!1,l=!1;for(const e of u[t])"symbol"===e[0].type?i=!0:l=!0;if(!0===this.isSymbolTile&&!i)continue;if(!1===this.isSymbolTile&&!l)continue;1===n.version&&V(`Vector tile source "${this.source}" layer "${t}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const h=o.encode(t),d=[];for(let e=0;e<n.length;e++){const r=n.feature(e),i=a.getId(r,t);d.push({feature:r,id:i,index:e,sourceLayerIndex:h})}for(const e of u[t]){const t=e[0];void 0!==this.isSymbolTile&&"symbol"===t.type!==this.isSymbolTile||t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||"none"!==t.visibility&&(Yf(e,this.zoom,r),(s[t.id]=t.createBucket({index:a.bucketLayerIDs.length,layers:e,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:h,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:r})).populate(d,c,this.tileID.canonical,this.tileTransform),a.bucketLayerIDs.push(e.map(e=>e.id)))}}let h,d,p,f;l.trim();const m={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},g=F(c.glyphDependencies,e=>Object.keys(e).map(Number));Object.keys(g).length?n.send("getGlyphs",{uid:this.uid,stacks:g},(e,t)=>{h||(h=e,d=t,v.call(this))},void 0,!1,m):d={};const _=Object.keys(c.iconDependencies);_.length?n.send("getImages",{icons:_,source:this.source,tileID:this.tileID,type:"icons"},(e,t)=>{h||(h=e,p=t,v.call(this))},void 0,!1,m):p={};const y=Object.keys(c.patternDependencies);function v(){if(h)return i(h);if(d&&p&&f){const e=new Xf(d),t=new Zh(p,f);for(const n in s){const i=s[n];i instanceof Kp?(Yf(i.layers,this.zoom,r),Dd(i,d,e.positions,p,t.iconPositions,this.showCollisionBoxes,r,this.tileID.canonical,this.tileZoom,this.projection)):i.hasPattern&&(i instanceof Ku||i instanceof Jc||i instanceof Su)&&(Yf(i.layers,this.zoom,r),i.addFeatures(c,this.tileID.canonical,t.patternPositions,r,this.tileTransform))}this.status="done",i(null,{buckets:A(s).filter(e=>!e.isEmpty()),featureIndex:a,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:l,imageAtlas:t,glyphMap:this.returnDependencies?d:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?e.positions:null})}}y.length?n.send("getImages",{icons:y,source:this.source,tileID:this.tileID,type:"patterns"},(e,t)=>{h||(h=e,f=t,v.call(this))},void 0,!1,m):f={},v.call(this)}}function Yf(e,t,r){const n=new Io(t);for(const t of e)t.recalculate(n,r)}class Kf{constructor(e){this.entries={},this.scheduler=e}request(e,t,r,n){const i=this.entries[e]=this.entries[e]||{callbacks:[]};if(i.result){const[e,r]=i.result;return this.scheduler?this.scheduler.add(()=>{n(e,r)},t):n(e,r),()=>{}}return i.callbacks.push(n),i.cancel||(i.cancel=r((r,n)=>{i.result=[r,n];for(const e of i.callbacks)this.scheduler?this.scheduler.add(()=>{e(r,n)},t):e(r,n);setTimeout(()=>delete this.entries[e],3e3)})),()=>{i.result||(i.callbacks=i.callbacks.filter(e=>e!==n),i.callbacks.length||(i.cancel(),delete this.entries[e]))}}}function Jf(e,t,r){const n=JSON.stringify(e.request);return e.data&&(this.deduped.entries[n]={result:[null,e.data]}),this.deduped.request(n,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},t=>{const n=ue(e.request,(e,n,i,o)=>{e?t(e):n&&t(null,{vectorTile:r?void 0:new _u(new yh(n)),rawData:n,cacheControl:i,expires:o})});return()=>{n.cancel(),t()}},t)}e.ARRAY_TYPE=hl,e.AUTH_ERR_MSG=ge,e.Aabb=tc,e.Actor=class{constructor(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.cancelCallbacks={},O(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=Z()?e:r,this.scheduler=new hf}send(e,t,r,n,i=!1,o){const a=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&&(r.metadata=o,this.callbacks[a]=r);const s=X(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!r,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:Di(t,s)},s),{cancel:()=>{r&&delete this.callbacks[a],this.target.postMessage({id:a,type:"<cancel>",targetMapId:n,sourceMapId:this.mapId})}}}receive(e){const t=e.data,r=t.id;if(r&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){const e=this.cancelCallbacks[r];delete this.cancelCallbacks[r],e&&e.cancel()}else if(t.mustQueue||Z()){const e=this.callbacks[r];this.cancelCallbacks[r]=this.scheduler.add(()=>this.processTask(r,t),e&&e.metadata||{type:"message"})}else this.processTask(r,t)}processTask(e,t){if("<response>"===t.type){const r=this.callbacks[e];delete this.callbacks[e],r&&(t.error?r(Ri(t.error)):r(null,Ri(t.data)))}else{const r=X(this.globalScope)?void 0:[],n=t.hasCallback?(t,n)=>{delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:"<response>",sourceMapId:this.mapId,error:t?Di(t):null,data:Di(n,r)},r)}:e=>{},i=Ri(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,i,n);else if(this.parent.getWorkerSource){const e=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,e[0],i.source)[e[1]](i,n)}else n(new Error("Could not find function "+t.type))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.CanonicalTileID=Bu,e.Color=Mt,e.ColorMode=Bf,e.CullFaceMode=Ff,e.DEMData=Df,e.DataConstantProperty=jo,e.DedupedRequest=Kf,e.DepthMode=Lf,e.EXTENT=vs,e.Elevation=class{isDataAvailableAtPoint(e){const t=this._source();if(this.isUsingMockSource()||!t||e.y<0||e.y>1)return!1;const r=t.getSource().maxzoom,n=1<<r,i=Math.floor(e.x),o=Math.floor((e.x-i)*n),a=Math.floor(e.y*n),s=this.findDEMTileFor(new ju(r,i,r,o,a));return!(!s||!s.dem)}getAtPointOrZero(e,t=0){return this.getAtPoint(e,t)||0}getAtPoint(e,t,r=!0){if(this.isUsingMockSource())return null;null==t&&(t=null);const n=this._source();if(!n)return t;if(e.y<0||e.y>1)return t;const i=n.getSource().maxzoom,o=1<<i,a=Math.floor(e.x),s=e.x-a,l=new ju(i,a,i,Math.floor(s*o),Math.floor(e.y*o)),c=this.findDEMTileFor(l);if(!c||!c.dem)return t;const u=c.dem,h=1<<c.tileID.canonical.z,d=(s*h-c.tileID.canonical.x)*u.dim,p=(e.y*h-c.tileID.canonical.y)*u.dim,f=Math.floor(d),m=Math.floor(p);return(r?this.exaggeration():1)*Cr(Cr(u.get(f,m),u.get(f,m+1),p-m),Cr(u.get(f+1,m),u.get(f+1,m+1),p-m),d-f)}getAtTileOffset(e,t,r){const n=1<<e.canonical.z;return this.getAtPointOrZero(new Ds(e.wrap+(e.canonical.x+t/vs)/n,(e.canonical.y+r/vs)/n))}getAtTileOffsetFunc(e,t,r,n){return i=>{const o=this.getAtTileOffset(e,i.x,i.y),a=n.upVector(e.canonical,i.x,i.y);return Dl(a,a,o*n.upVectorScale(e.canonical,t,r).metersToTile),a}}getForTilePoints(e,t,r,n){if(this.isUsingMockSource())return!1;const i=Gf.create(this,e,n);return!!i&&(t.forEach(e=>{e[2]=this.exaggeration()*i.getElevationAt(e[0],e[1],r)}),!0)}getMinMaxForTile(e){if(this.isUsingMockSource())return null;const t=this.findDEMTileFor(e);if(!t||!t.dem)return null;const r=t.dem.tree,n=t.tileID,i=1<<e.canonical.z-n.canonical.z;let o=e.canonical.x/i-n.canonical.x,a=e.canonical.y/i-n.canonical.y,s=0;for(let t=0;t<e.canonical.z-n.canonical.z&&!r.leaves[s];t++){o*=2,a*=2;const e=2*Math.floor(a)+Math.floor(o);s=r.childOffsets[s]+e,o%=1,a%=1}return{min:this.exaggeration()*r.minimums[s],max:this.exaggeration()*r.maximums[s]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(e,t,r){throw new Error("Pure virtual method called.")}pointCoordinate(e){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(e){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},e.ErrorEvent=Xe,e.EvaluationParameters=Io,e.Event=We,e.Evented=He,e.FillExtrusionBucket=Su,e.Frustum=ec,e.FrustumCorners=Ql,e.GLOBE_METERS_TO_ECEF=Wd,e.GLOBE_RADIUS=$d,e.GLOBE_SCALE_MATCH_LATITUDE=45,e.GLOBE_ZOOM_THRESHOLD_MAX=6,e.GLOBE_ZOOM_THRESHOLD_MIN=5,e.GlobeSharedBuffers=class{constructor(e){this._createGrid(e),this._createPoles(e)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const e of this._poleSegments)e.destroy();for(const e of this._gridSegments)e.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const e of this._wireframeSegments)e.destroy()}}_createGrid(e){const t=new Ko,r=new pa,n=65;for(let e=0;e<n;e++)for(let r=0;r<n;r++)t.emplaceBack(r,e);this._gridSegments=[];for(let e=0,t=0;e<Xd.length;e++){const i=Xd[e];for(let e=0;e<i;e++)for(let t=0;t<64;t++){const i=e*n+t;r.emplaceBack(i+1,i,i+n),r.emplaceBack(i+n,i+n+1,i+1)}const o=64*i*2;this._gridSegments.push(ys.simpleSegment(0,t,(i+1)*n,o)),t+=o}this._gridBuffer=e.createVertexBuffer(t,Zd.members),this._gridIndexBuffer=e.createIndexBuffer(r,!0)}_createPoles(e){const t=new pa;for(let e=0;e<=64;e++)t.emplaceBack(0,e+1,e+2);this._poleIndexBuffer=e.createIndexBuffer(t,!0);const r=new _a,n=new _a;this._poleSegments=[];for(let e=0,t=0;e<5;e++){const i=360/(1<<e);r.emplaceBack(0,-$d,0,.5,0),n.emplaceBack(0,-$d,0,.5,1);for(let e=0;e<=64;e++){const t=e/64,o=Cr(0,i,t),[a,s,l]=sp(yp,vp,o,$d);r.emplaceBack(a,s,l,t,0),n.emplaceBack(a,s,l,t,1)}this._poleSegments.push(ys.simpleSegment(t,0,66,64)),t+=66}this._poleNorthVertexBuffer=e.createVertexBuffer(r,Gd,!1),this._poleSouthVertexBuffer=e.createVertexBuffer(n,Gd,!1)}getGridBuffers(e){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[e]]}getPoleBuffers(e){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[e]]}getWirefameBuffers(e,t){if(!this._wireframeSegments){const t=new va,r=64,n=r+1;this._wireframeSegments=[];for(let e=0,i=0;e<Xd.length;e++){const o=Xd[e];for(let e=0;e<o;e++)for(let i=0;i<r;i++){const r=e*n+i;t.emplaceBack(r,r+1),t.emplaceBack(r,r+n),t.emplaceBack(r,r+n+1)}const a=o*r*3;this._wireframeSegments.push(ys.simpleSegment(0,i,(o+1)*n,a)),i+=a}this._wireframeIndexBuffer=e.createIndexBuffer(t)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}},e.GlyphManager=yd,e.ImagePosition=qh,e.LivePerformanceUtils=Oe,e.LngLat=ws,e.LngLatBounds=xs,e.LocalGlyphMode=_d,e.MAX_MERCATOR_LATITUDE=Ps,e.MercatorCoordinate=Ds,e.ONE_EM=24,e.OverscaledTileID=ju,e.PerformanceMarkers=Le,e.Properties=qo,e.RGBAImage=dc,e.Ray=Jl,e.RequestManager=class{constructor(e,t,r){this._transformRequestFn=e,this._customAccessToken=t,this._silenceAuthErrors=!!r,this._createSkuToken()}_createSkuToken(){const e=function(){let e="";for(let t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",d,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeStyleURL(e,t){if(!_e(e))return e;const r=we(e);return r.path="/styles/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)}normalizeGlyphsURL(e,t){if(!_e(e))return e;const r=we(e);return r.path="/fonts/v1"+r.path,this._makeAPIURL(r,this._customAccessToken||t)}normalizeSourceURL(e,t,r,n){if(!_e(e))return e;const i=we(e);return i.path=`/v4/${i.authority}.json`,i.params.push("secure"),r&&i.params.push("language="+r),n&&i.params.push("worldview="+n),this._makeAPIURL(i,this._customAccessToken||t)}normalizeSpriteURL(e,t,r,n){const i=we(e);return _e(e)?(i.path=`/styles/v1${i.path}/sprite${t}${r}`,this._makeAPIURL(i,this._customAccessToken||n)):(i.path+=`${t}${r}`,Te(i))}normalizeTileURL(e,t,r){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!_e(e))return e;const n=we(e);n.path=n.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${t||r&&"raster"!==n.authority&&512===r?"@2x":""}${a.supported?".webp":"$1"}`),"raster"===n.authority?n.path=`/${o.RASTER_URL_PREFIX}${n.path}`:(n.path=n.path.replace(/^.+\/v4\//,"/"),n.path=`/${o.TILE_URL_VERSION}${n.path}`);const i=this._customAccessToken||function(e){for(const t of e){const e=t.match(/^access_token=(.*)$/);if(e)return e[1]}return null}(n.params)||o.ACCESS_TOKEN;return o.REQUIRE_ACCESS_TOKEN&&i&&this._skuToken&&n.params.push("sku="+this._skuToken),this._makeAPIURL(n,i)}canonicalizeTileURL(e,t){const r=we(e);if(!r.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!r.path.match(/\.[\w]+$/))return e;let n="mapbox://";r.path.match(/^\/raster\/v1\//)?n+="raster/"+r.path.replace(`/${o.RASTER_URL_PREFIX}/`,""):n+="tiles/"+r.path.replace(`/${o.TILE_URL_VERSION}/`,"");let i=r.params;return t&&(i=i.filter(e=>!e.match(/^access_token=/))),i.length&&(n+="?"+i.join("&")),n}canonicalizeTileset(e,t){const r=!!t&&_e(t),n=[];for(const t of e.tiles||[])ye(t)?n.push(this.canonicalizeTileURL(t,r)):n.push(t);return n}_makeAPIURL(e,t){const r="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",n=we(o.API_URL);if(e.protocol=n.protocol,e.authority=n.authority,"http"===e.protocol){const t=e.params.indexOf("secure");t>=0&&e.params.splice(t,1)}if("/"!==n.path&&(e.path=`${n.path}${e.path}`),!o.REQUIRE_ACCESS_TOKEN)return Te(e);if(t=t||o.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error("An API access token is required to use Mapbox GL. "+r);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+r)}return e.params=e.params.filter(e=>-1===e.indexOf("access_token")),e.params.push("access_token="+(t||"")),Te(e)}},e.ResourceType=ae,e.SegmentVector=ys,e.SourceCache=jf,e.StencilMode=Of,e.StructArrayLayout1ui2=xa,e.StructArrayLayout2f1f2i16=ua,e.StructArrayLayout2i4=Ko,e.StructArrayLayout2ui4=va,e.StructArrayLayout3f12=da,e.StructArrayLayout3ui6=pa,e.StructArrayLayout4i8=Qo,e.StructArrayLayout5f20=_a,e.Texture=cf,e.Tile=wf,e.Transitionable=Do,e.Uniform1f=Ha,e.Uniform1i=class extends Xa{constructor(e){super(e),this.current=0}set(e,t,r){this.fetchUniformLocation(e,t)&&this.current!==r&&(this.current=r,this.gl.uniform1i(this.location,r))}},e.Uniform2f=class extends Xa{constructor(e){super(e),this.current=[0,0]}set(e,t,r){this.fetchUniformLocation(e,t)&&(r[0]===this.current[0]&&r[1]===this.current[1]||(this.current=r,this.gl.uniform2f(this.location,r[0],r[1])))}},e.Uniform3f=class extends Xa{constructor(e){super(e),this.current=[0,0,0]}set(e,t,r){this.fetchUniformLocation(e,t)&&(r[0]===this.current[0]&&r[1]===this.current[1]&&r[2]===this.current[2]||(this.current=r,this.gl.uniform3f(this.location,r[0],r[1],r[2])))}},e.Uniform4f=Ya,e.UniformColor=Ka,e.UniformMatrix2f=class extends Xa{constructor(e){super(e),this.current=es}set(e,t,r){if(this.fetchUniformLocation(e,t))for(let e=0;e<4;e++)if(r[e]!==this.current[e]){this.current=r,this.gl.uniformMatrix2fv(this.location,!1,r);break}}},e.UniformMatrix3f=class extends Xa{constructor(e){super(e),this.current=Qa}set(e,t,r){if(this.fetchUniformLocation(e,t))for(let e=0;e<9;e++)if(r[e]!==this.current[e]){this.current=r,this.gl.uniformMatrix3fv(this.location,!1,r);break}}},e.UniformMatrix4f=class extends Xa{constructor(e){super(e),this.current=Ja}set(e,t,r){if(this.fetchUniformLocation(e,t)){if(r[12]!==this.current[12]||r[0]!==this.current[0])return this.current=r,void this.gl.uniformMatrix4fv(this.location,!1,r);for(let e=1;e<16;e++)if(r[e]!==this.current[e]){this.current=r,this.gl.uniformMatrix4fv(this.location,!1,r);break}}}},e.UnwrappedTileID=Fu,e.ValidationError=qn,e.VectorTileFeature=yu,e.VectorTileWorkerSource=class extends He{constructor(e,t,r,n,i){super(),this.actor=e,this.layerIndex=t,this.availableImages=r,this.loadVectorData=i||Jf,this.loading={},this.loaded={},this.deduped=new Kf(e.scheduler),this.isSpriteLoaded=n,this.scheduler=e.scheduler}loadTile(e,t){const r=e.uid,n=e&&e.request,i=n&&n.collectResourceTiming,o=this.loading[r]=new Hf(e);o.abort=this.loadVectorData(e,(a,s)=>{const l=!this.loading[r];if(delete this.loading[r],l||a||!s)return o.status="done",l||(this.loaded[r]=o),t(a);const c=s.rawData,u={};s.expires&&(u.expires=s.expires),s.cacheControl&&(u.cacheControl=s.cacheControl),o.vectorTile=s.vectorTile||new _u(new yh(c));const h=()=>{o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,(e,r)=>{if(e||!r)return t(e);const o={};if(i){const e=je(n);e.length>0&&(o.resourceTiming=JSON.parse(JSON.stringify(e)))}t(null,I({rawTileData:c.slice(0)},r,u,o))})};this.isSpriteLoaded?h():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(h,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):h()}),this.loaded=this.loaded||{},this.loaded[r]=o})}reloadTile(e,t){const r=this.loaded,n=e.uid,i=this;if(r&&r[n]){const o=r[n];o.showCollisionBoxes=e.showCollisionBoxes,o.enableTerrain=!!e.enableTerrain,o.projection=e.projection,o.tileTransform=bp(e.tileID.canonical,e.projection);const a=(e,r)=>{const n=o.reloadCallback;n&&(delete o.reloadCallback,o.parse(o.vectorTile,i.layerIndex,this.availableImages,i.actor,n)),t(e,r)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}}abortTile(e,t){const r=e.uid,n=this.loading[r];n&&(n.abort&&n.abort(),delete this.loading[r]),t()}removeTile(e,t){const r=this.loaded,n=e.uid;r&&r[n]&&delete r[n],t()}},e.WritingMode=$h,e.ZoomHistory=Li,e.add=kl,e.addDynamicAttributes=Wp,e.adjoint=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8];return e[0]=a*u-s*c,e[1]=i*c-n*u,e[2]=n*s-i*a,e[3]=s*l-o*u,e[4]=r*u-i*l,e[5]=i*o-r*s,e[6]=o*c-a*l,e[7]=n*l-r*c,e[8]=r*a-n*o,e},e.asyncAll=k,e.bezier=T,e.bindAll=O,e.boundsAttributes=xf,e.bufferConvexPolygon=function(e,t){const r=[];for(let n=0;n<e.length;n++){const i=M(n-1,-1,e.length-1),o=M(n+1,-1,e.length-1),a=e[n],s=e[o],l=e[i].sub(a).unit(),c=s.sub(a).unit(),u=c.angleWithSep(l.x,l.y),h=l.add(c).unit().mult(-1*t/Math.sin(u/2));r.push(a.add(h))}return r},e.cacheEntryPossiblyAdded=function(e){oe++,oe>te&&(e.getActor().send("enforceCacheSizeLimit",ee),oe=0)},e.calculateGlobeLabelMatrix=function(e,t){const{x:r,y:n}=e.point,i=fp(r,n,e.worldSize/e._pixelsPerMercatorPixel,0,0);return gl(i,i,pp(tp(t)))},e.calculateGlobeMatrix=function(e){const{x:t,y:r}=e.point,{lng:n,lat:i}=e._center;return fp(t,r,e.worldSize,n,i)},e.calculateGlobeMercatorMatrix=function(e){const t=e.pixelsPerMeter,r=t/Ms(1,e.center.lat),n=fl(new Float64Array(16));return _l(n,n,[e.point.x,e.point.y,0]),yl(n,n,[r,r,t]),Float32Array.from(n)},e.circumferenceAtLatitude=Es,e.clamp=S,e.clearTileCache=function(e){if(!re())return;const t=r.caches.delete(K);e&&t.catch(e).then(()=>e())},e.clipLine=pd,e.clone=function(e){var t=new hl(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=U,e.collisionCircleLayout=lh,e.config=o,e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.create=function(){var e=new hl(16);return hl!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=dl,e.createExpression=jn,e.createLayout=Ho,e.createStyleLayer=function(e){return"custom"===e.type?new of(e):new lf[e.type](e)},e.cross=Bl,e.degToRad=v,e.distance=function(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2])},e.div=function(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e},e.dot=Ol,e.earthRadius=bs,e.ease=E,e.easeCubicInOut=w,e.ecefToLatLng=function([e,t,r]){const n=Math.hypot(e,t,r),i=Math.atan2(e,r),o=.5*Math.PI-Math.acos(-t/n);return new ws(x(i),x(o))},e.emitValidationErrors=Ci,e.endsWith=B,e.enforceCacheSizeLimit=function(e){ne(),J&&J.then(t=>{t.keys().then(r=>{for(let n=0;n<r.length-e;n++)t.delete(r[n])})})},e.evaluateSizeForFeature=hh,e.evaluateSizeForZoom=dh,e.evaluateVariableOffset=zd,e.evented=Co,e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.exactEquals$1=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.exported=qe,e.exported$1=a,e.extend=I,e.extend$1=Ke,e.fillExtrusionHeightLift=zu,e.filterObject=j,e.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.fromQuat=function(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,s=n+n,l=i+i,c=r*a,u=n*a,h=n*s,d=i*a,p=i*s,f=i*l,m=o*a,g=o*s,_=o*l;return e[0]=1-h-f,e[1]=u+_,e[2]=d-g,e[3]=0,e[4]=u-_,e[5]=1-c-f,e[6]=p+m,e[7]=0,e[8]=d+g,e[9]=p-m,e[10]=1-c-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromRotation=function(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=bl,e.furthestTileCorner=function(e){const t=Math.round((e+45+360)%360/90)%4;return b[t]},e.getAABBPointSquareDist=function(e,t,r){let n=0;for(let i=0;i<2;++i){const o=r?r[i]:0;e[i]>o&&(n+=(e[i]-o)*(e[i]-o)),t[i]<o&&(n+=(o-t[i])*(o-t[i]))}return n},e.getAnchorAlignment=rd,e.getAnchorJustification=Rd,e.getBounds=function(e){let t=1/0,r=1/0,n=-1/0,i=-1/0;for(const o of e)t=Math.min(t,o.x),r=Math.min(r,o.y),n=Math.max(n,o.x),i=Math.max(i,o.y);return{min:new m(t,r),max:new m(n,i)}},e.getColumn=Y,e.getGridMatrix=function(e,t,r,n){const i=t.getNorth(),o=t.getSouth(),a=t.getWest(),s=t.getEast(),l=1<<e.z,c=s-a,u=i-o,h=c/64,d=-u/Xd[r],p=[0,h,0,d,0,0,i,a,0];if(e.z>0){const e=180/n;pl(p,p,[e/c+1,0,0,0,e/u+1,0,-.5*e/h,.5*e/d,1])}return p[2]=l,p[5]=e.x,p[8]=e.y,p},e.getImage=me,e.getJSON=function(e,t){return ce(I(e,{type:"json"}),t)},e.getLatitudinalLod=function(e){const t=80.051129;e=S(e,-80.051129,t)/t*90;const r=Math.pow(Math.abs(Math.sin(v(e))),3);return Math.round(r*(Xd.length-1))},e.getMapSessionAPI=De,e.getPerformanceMeasurement=je,e.getProjection=Vp,e.getRTLTextPluginStatus=Mo,e.getReferrer=le,e.getTilePoint=function(e,{x:t,y:r},n=0){return new m(((t-n)*e.scale-e.x)*vs,(r*e.scale-e.y)*vs)},e.getTileVec3=function(e,t,r=0){return Ml(((t.x-r)*e.scale-e.x)*vs,(t.y*e.scale-e.y)*vs,Is(t.z,t.y))},e.getVideo=function(e,t){const n=r.document.createElement("video");n.muted=!0,n.onloadstart=function(){t(null,n)};for(let t=0;t<e.length;t++){const i=r.document.createElement("source");he(e[t])||(n.crossOrigin="Anonymous"),i.src=e[t],n.appendChild(i)}return{cancel:()=>{}}},e.globeCenterToScreenPoint=function(e){const t=[0,0,0],r=fl(new Float64Array(16));return gl(r,e.pixelMatrix,e.globeMatrix),Fl(t,t,r),new m(t[0],t[1])},e.globeDenormalizeECEF=pp,e.globeECEFOrigin=function(e,t){const r=[0,0,0];return Fl(r,r,dp(tp(t.canonical))),Fl(r,r,e),r},e.globeNormalizeECEF=dp,e.globePixelsToTileUnits=function(e,t){return vs/(512*Math.pow(2,e))*up(tp(t))},e.globePoleMatrixForTile=function(e,t,r){const n=fl(new Float64Array(16)),i=(t/(1<<e)-.5)*Math.PI*2;return xl(n,r.globeMatrix,i),Float32Array.from(n)},e.globeTileBounds=tp,e.globeTiltAtLngLat=gp,e.globeToMercatorTransition=mp,e.globeUseCustomAntiAliasing=function(e,t,r){const n=mp(r.zoom),i=e.style.map._antialias,o=!!t.extStandardDerivatives,a=t.extStandardDerivativesForceOff||e.terrain&&e.terrain.exaggeration()>0;return 0===n&&!i&&!a&&o},e.identity=fl,e.identity$1=Xl,e.invert=ml,e.isFullscreen=function(){return!!r.document.fullscreenElement||!!r.document.webkitFullscreenElement},e.isLngLatBehindGlobe=function(e,t){return gp(e,t)>Math.PI/2*1.01},e.isMapAuthenticated=function(e){return Re.has(e)},e.isMapboxURL=_e,e.isSafariWithAntialiasingBug=function(e){const t=e.navigator?e.navigator.userAgent:null;return!!X(e)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},e.latFromMercatorY=As,e.latLngToECEF=lp,e.len=Gl,e.length=Cl,e.length$1=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},e.lngFromMercatorX=ks,e.loadVectorTile=Jf,e.makeRequest=ce,e.mapValue=function(e,t,r,n,i){return S((e-t)/(r-t)*(i-n)+n,n,i)},e.mercatorScale=zs,e.mercatorXfromLng=Ss,e.mercatorYfromLat=Cs,e.mercatorZfromAltitude=Ms,e.mul=Tl,e.mul$1=Vl,e.multiply=gl,e.multiply$1=pl,e.multiply$2=Il,e.nextPowerOfTwo=R,e.normalize=Ll,e.normalize$1=Kl,e.normalize$2=Zl,e.number=Cr,e.ortho=function(e,t,r,n,i,o,a){var s=1/(t-r),l=1/(n-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*s,e[13]=(i+n)*l,e[14]=(a+o)*c,e[15]=1,e},e.pbf=yh,e.perspective=function(e,t,r,n,i){var o,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+n)*(o=1/(n-i)),e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e},e.pick=function(e,t){const r={};for(let n=0;n<t.length;n++){const i=t[n];i in e&&(r[i]=e[i])}return r},e.plugin=Ao,e.pointGeometry=m,e.polygonContainsPoint=tl,e.polygonIntersectsBox=rl,e.polygonIntersectsPolygon=$s,e.polygonizeBounds=function(e,t,r=0,n=!0){const i=new m(r,r),o=e.sub(i),a=t.add(i),s=[o,new m(a.x,o.y),a,new m(o.x,a.y)];return n&&s.push(o.clone()),s},e.posAttributes=Zd,e.postMapLoadEvent=Ae,e.postPerformanceEvent=Pe,e.postTurnstileEvent=Me,e.potpack=Gh,e.prevPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},e.radToDeg=x,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.registerForPluginStateChange=function(e){return e({pluginStatus:wo,pluginURL:To}),Co.on("pluginStateChange",e),e},e.removeAuthState=function(e){Re.delete(e)},e.renderColorRamp=fc,e.resample=Ls,e.rotateX=vl,e.rotateX$1=Hl,e.rotateY=xl,e.rotateY$1=Yl,e.rotateZ=function(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*n,e[1]=a*i+u*n,e[2]=s*i+h*n,e[3]=l*i+d*n,e[4]=c*i-o*n,e[5]=u*i-a*n,e[6]=h*i-s*n,e[7]=d*i-l*n,e},e.rotateZ$1=function(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*s,e[1]=i*l-n*s,e[2]=o*l+a*s,e[3]=a*l-o*s,e},e.scale=yl,e.scale$1=ql,e.scale$2=Dl,e.scaleAndAdd=Rl,e.set=function(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e},e.setCacheLimits=function(e,t){ee=e,te=t},e.setColumn=function(e,t,r){e[4*t+0]=r[0],e[4*t+1]=r[1],e[4*t+2]=r[2],e[4*t+3]=r[3]},e.setRTLTextPlugin=function(e,t,r=!1){if(wo===yo||wo===vo||wo===xo)throw new Error("setRTLTextPlugin cannot be called multiple times.");To=qe.resolveURL(e),wo=yo,bo=t,So(),r||ko()},e.smoothstep=C,e.spec=Ye,e.squaredLength=function(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n},e.storeAuthState=function(e,t){t?Re.add(e):Re.delete(e)},e.sub=Nl,e.subtract=Al,e.symbolSize=ph,e.tileAABB=function(e,t,r,n,i,o,a,s,l){if("globe"===l.name)return function(e,t,r){const n=t/e.worldSize,i=e.globeMatrix;if(r.z<=1){const e=tp(r).getCorners();return ip(e,i,n),tc.fromPoints(e)}const o=op(r),a=ap(o);ip(a,i,n);const s=Number.MAX_VALUE,l=[-s,-s,-s],c=[s,s,s];if(o.contains(e.center)){for(const e of a)Pl(c,c,e),zl(l,l,e);l[2]=0;const t=e.point,r=[t.x*n,t.y*n,0];return Pl(c,c,r),zl(l,l,r),new tc(c,l)}const u=[i[12]*n,i[13]*n,i[14]*n],h=o.getCenter(),d=S(e.center.lat,-85.051129,Ps),p=S(h.lat,-85.051129,Ps),f=Ss(e.center.lng),m=Cs(d);let g=f-Ss(h.lng);const _=m-Cs(p);g>.5?g-=1:g<-.5&&(g+=1);let y=0;Math.abs(g)>Math.abs(_)?y=g>=0?1:3:(y=_>=0?0:2,Rl(u,u,[i[4]*n,i[5]*n,i[6]*n],-Math.sin(v(_>=0?o.getSouth():o.getNorth()))*$d));const x=a[y],b=a[(y+1)%4],w=new Qd(x,b,u),T=[ep(w,0)||x[0],ep(w,1)||x[1],ep(w,2)||x[2]],E=mp(e.zoom);if(E>0){const n=function({x:e,y:t,z:r},n,i,o,a){const s=1/(1<<r);let l=e*s,c=l+s,u=t*s,h=u+s,d=0;const p=(l+c)/2-o;return p>.5?d=-1:p<-.5&&(d=1),l=((l+d)*n-(o*=n))*i+o,c=((c+d)*n-o)*i+o,u=(u*n-(a*=n))*i+a,h=(h*n-a)*i+a,[[l,h,0],[c,h,0],[c,u,0],[l,u,0]]}(r,t,e._pixelsPerMercatorPixel,f,m);for(let e=0;e<a.length;e++)rp(a[e],n[e],E);const i=kl([],n[y],n[(y+1)%4]);Dl(i,i,.5),rp(T,i,E)}for(const e of a)Pl(c,c,e),zl(l,l,e);return c[2]=Math.min(x[2],b[2]),Pl(c,c,T),zl(l,l,T),new tc(c,l)}(e,t,new Bu(r,n,i));const c=bp({z:r,x:n,y:i},l);return new tc([(o+c.x/c.scale)*t,t*(c.y/c.scale),a],[(o+c.x2/c.scale)*t,t*(c.y2/c.scale),s])},e.tileCornersToBounds=op,e.tileTransform=bp,e.transformMat3=function(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e},e.transformMat4=Fl,e.transformMat4$1=$l,e.transformQuat=jl,e.transitionTileAABBinECEF=np,e.translate=_l,e.transpose=function(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},e.triggerPluginCompletionEvent=Eo,e.uniqueId=z,e.updateGlobeVertexNormal=function(e,t,r,n,i){const o=5*t+2;e.float32[o+0]=r,e.float32[o+1]=n,e.float32[o+2]=i},e.validateCustomStyleLayer=function(e){const t=[],r=e.id;return void 0===r&&t.push({message:`layers.${r}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${r}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${r}: property "renderingMode" must be either "2d" or "3d"`}),t},e.validateFilter=e=>Si(li(e)),e.validateFog=e=>Si(yi(e)),e.validateLayer=e=>Si(di(e)),e.validateLight=e=>Si(gi(e)),e.validateSource=e=>Si(mi(e)),e.validateStyle=wi,e.validateTerrain=e=>Si(_i(e)),e.values=A,e.vectorTile=ou,e.version=n,e.warnOnce=V,e.window=r,e.wrap=M})),i(["./shared"],(function(e){"use strict";function t(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){let r="[";for(const n of e)r+=t(n)+",";return r+"]"}let r="{";for(const n of Object.keys(e).sort())r+=`${n}:${t(e[n])},`;return r+"}"}function r(r){let n="";for(const i of e.refProperties)n+="/"+t(r[i]);return n}class n{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,n){for(const r of t)this._layerConfigs[r.id]=r,(this._layers[r.id]=e.createStyleLayer(r)).compileFilter(),this.keyCache[r.id]&&delete this.keyCache[r.id];for(const e of n)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const i=function(e,t){const n={};for(let i=0;i<e.length;i++){const o=t&&t[e[i].id]||r(e[i]);t&&(t[e[i].id]=o);let a=n[o];a||(a=n[o]=[]),a.push(e[i])}const i=[];for(const e in n)i.push(n[e]);return i}(e.values(this._layerConfigs),this.keyCache);for(const e of i){const t=e.map(e=>this._layers[e.id]),r=t[0];if("none"===r.visibility)continue;const n=r.source||"";let i=this.familiesBySource[n];i||(i=this.familiesBySource[n]={});const o=r.sourceLayer||"_geojsonTileLayer";let a=i[o];a||(a=i[o]=[]),a.push(t)}}}class i{loadTile(t,r){const{uid:n,encoding:i,rawImageData:o,padding:a,buildQuadTree:s}=t,l=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap?this.getImageData(o,a):o;r(null,new e.DEMData(n,l,i,a<1,s))}getImageData(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const r=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),r}}var o=function e(t,r){var n,i=t&&t.type;if("FeatureCollection"===i)for(n=0;n<t.features.length;n++)e(t.features[n],r);else if("GeometryCollection"===i)for(n=0;n<t.geometries.length;n++)e(t.geometries[n],r);else if("Feature"===i)e(t.geometry,r);else if("Polygon"===i)a(t.coordinates,r);else if("MultiPolygon"===i)for(n=0;n<t.coordinates.length;n++)a(t.coordinates[n],r);return t};function a(e,t){if(0!==e.length){s(e[0],t);for(var r=1;r<e.length;r++)s(e[r],!t)}}function s(e,t){for(var r=0,n=0,i=0,o=e.length,a=o-1;i<o;a=i++){var s=(e[i][0]-e[a][0])*(e[a][1]+e[i][1]),l=r+s;n+=Math.abs(r)>=Math.abs(s)?r-l+s:s-l+r,r=l}r+n>=0!=!!t&&e.reverse()}const l=e.VectorTileFeature.prototype.toGeoJSON;class c{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const r of this._feature.geometry)t.push([new e.pointGeometry(r[0],r[1])]);return t}{const t=[];for(const r of this._feature.geometry){const n=[];for(const t of r)n.push(new e.pointGeometry(t[0],t[1]));t.push(n)}return t}}toGeoJSON(e,t,r){return l.call(this,e,t,r)}}class u{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t}feature(e){return new c(this._features[e])}}var h={exports:{}},d=e.pointGeometry,p=e.vectorTile.VectorTileFeature,f=m;function m(e,t){this.options=t||{},this.features=e,this.length=e.length}function g(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}m.prototype.feature=function(e){return new g(this.features[e],this.options.extent)},g.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var r=e[t],n=[],i=0;i<r.length;i++)n.push(new d(r[i][0],r[i][1]));this.geometry.push(n)}return this.geometry},g.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,r=-1/0,n=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),i=Math.max(i,l.y)}return[t,n,r,i]},g.prototype.toGeoJSON=p.prototype.toGeoJSON;var _=e.pbf,y=f;function v(e){var t=new _;return function(e,t){for(var r in e.layers)t.writeMessage(3,x,e.layers[r])}(e,t),t.finish()}function x(e,t){var r;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r<e.length;r++)n.feature=e.feature(r),t.writeMessage(2,b,n);var i=n.keys;for(r=0;r<i.length;r++)t.writeStringField(3,i[r]);var o=n.values;for(r=0;r<o.length;r++)t.writeMessage(4,C,o[r])}function b(e,t){var r=e.feature;void 0!==r.id&&t.writeVarintField(1,r.id),t.writeMessage(2,w,e),t.writeVarintField(3,r.type),t.writeMessage(4,S,r)}function w(e,t){var r=e.feature,n=e.keys,i=e.values,o=e.keycache,a=e.valuecache;for(var s in r.properties){var l=r.properties[s],c=o[s];if(null!==l){void 0===c&&(n.push(s),o[s]=c=n.length-1),t.writeVarint(c);var u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var h=u+":"+l,d=a[h];void 0===d&&(i.push(l),a[h]=d=i.length-1),t.writeVarint(d)}}}function T(e,t){return(t<<3)+(7&e)}function E(e){return e<<1^e>>31}function S(e,t){for(var r=e.loadGeometry(),n=e.type,i=0,o=0,a=r.length,s=0;s<a;s++){var l=r[s],c=1;1===n&&(c=l.length),t.writeVarint(T(1,c));for(var u=3===n?l.length-1:l.length,h=0;h<u;h++){1===h&&1!==n&&t.writeVarint(T(2,u-1));var d=l[h].x-i,p=l[h].y-o;t.writeVarint(E(d)),t.writeVarint(E(p)),i+=d,o+=p}3===n&&t.writeVarint(T(7,1))}}function C(e,t){var r=typeof e;"string"===r?t.writeStringField(1,e):"boolean"===r?t.writeBooleanField(7,e):"number"===r&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function M(e,t,r,n,i,o){if(i-n<=r)return;const a=n+i>>1;(function e(t,r,n,i,o,a){for(;o>i;){if(o-i>600){const s=o-i+1,l=n-i+1,c=Math.log(s),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);e(t,r,n,Math.max(i,Math.floor(n-l*u/s+h)),Math.min(o,Math.floor(n+(s-l)*u/s+h)),a)}const s=r[2*n+a];let l=i,c=o;for(k(t,r,i,n),r[2*o+a]>s&&k(t,r,i,o);l<c;){for(k(t,r,l,c),l++,c--;r[2*l+a]<s;)l++;for(;r[2*c+a]>s;)c--}r[2*i+a]===s?k(t,r,i,c):(c++,k(t,r,c,o)),c<=n&&(i=c+1),n<=c&&(o=c-1)}})(e,t,a,n,i,o%2),M(e,t,r,n,a-1,o+1),M(e,t,r,a+1,i,o+1)}function k(e,t,r,n){A(e,r,n),A(t,2*r,2*n),A(t,2*r+1,2*n+1)}function A(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function I(e,t,r,n){const i=e-r,o=t-n;return i*i+o*o}h.exports=v,h.exports.fromVectorTileJs=v,h.exports.fromGeojsonVt=function(e,t){t=t||{};var r={};for(var n in e)r[n]=new y(e[n].features,t),r[n].name=n,r[n].version=t.version,r[n].extent=t.extent;return v({layers:r})},h.exports.GeoJSONWrapper=y;const P=e=>e[0],z=e=>e[1];class D{constructor(e,t=P,r=z,n=64,i=Float64Array){this.nodeSize=n,this.points=e;const o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new i(2*e.length);for(let n=0;n<e.length;n++)a[n]=n,s[2*n]=t(e[n]),s[2*n+1]=r(e[n]);M(a,s,n,0,a.length-1,0)}range(e,t,r,n){return function(e,t,r,n,i,o,a){const s=[0,e.length-1,0],l=[];let c,u;for(;s.length;){const h=s.pop(),d=s.pop(),p=s.pop();if(d-p<=a){for(let a=p;a<=d;a++)c=t[2*a],u=t[2*a+1],c>=r&&c<=i&&u>=n&&u<=o&&l.push(e[a]);continue}const f=Math.floor((p+d)/2);c=t[2*f],u=t[2*f+1],c>=r&&c<=i&&u>=n&&u<=o&&l.push(e[f]);const m=(h+1)%2;(0===h?r<=c:n<=u)&&(s.push(p),s.push(f-1),s.push(m)),(0===h?i>=c:o>=u)&&(s.push(f+1),s.push(d),s.push(m))}return l}(this.ids,this.coords,e,t,r,n,this.nodeSize)}within(e,t,r){return function(e,t,r,n,i,o){const a=[0,e.length-1,0],s=[],l=i*i;for(;a.length;){const c=a.pop(),u=a.pop(),h=a.pop();if(u-h<=o){for(let i=h;i<=u;i++)I(t[2*i],t[2*i+1],r,n)<=l&&s.push(e[i]);continue}const d=Math.floor((h+u)/2),p=t[2*d],f=t[2*d+1];I(p,f,r,n)<=l&&s.push(e[d]);const m=(c+1)%2;(0===c?r-i<=p:n-i<=f)&&(a.push(h),a.push(d-1),a.push(m)),(0===c?r+i>=p:n+i>=f)&&(a.push(d+1),a.push(u),a.push(m))}return s}(this.ids,this.coords,e,t,r,this.nodeSize)}}const R={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},L=Math.fround||(O=new Float32Array(1),e=>(O[0]=+e,O[0]));var O;class B{constructor(e){this.options=Z(Object.create(R),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:r,maxZoom:n,nodeSize:i}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;let a=[];for(let t=0;t<e.length;t++)e[t].geometry&&a.push(j(e[t],t));this.trees[n+1]=new D(a,$,W,i,Float32Array),t&&console.timeEnd(o);for(let e=n;e>=r;e--){const r=+Date.now();a=this._cluster(a,e),this.trees[e]=new D(a,$,W,i,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,a.length,+Date.now()-r)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let r=((e[0]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){const e=this.getClusters([r,n,180,o],t),a=this.getClusters([-180,n,i,o],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],s=a.range(V(r),G(o),V(i),G(n)),l=[];for(const e of s){const t=a.points[e];l.push(t.numPoints?U(t):this.points[t.index])}return l}getChildren(e){const t=this._getOriginId(e),r=this._getOriginZoom(e),n="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(n);const o=i.points[t];if(!o)throw new Error(n);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=i.within(o.x,o.y,a),l=[];for(const t of s){const r=i.points[t];r.parentId===e&&l.push(r.numPoints?U(r):this.points[r.index])}if(0===l.length)throw new Error(n);return l}getLeaves(e,t,r){const n=[];return this._appendLeaves(n,e,t=t||10,r=r||0,0),n}getTile(e,t,r){const n=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:a}=this.options,s=a/o,l=(r-s)/i,c=(r+1+s)/i,u={features:[]};return this._addTileFeatures(n.range((t-s)/i,l,(t+1+s)/i,c),n.points,t,r,i,u),0===t&&this._addTileFeatures(n.range(1-s/i,l,1,c),n.points,i,r,i,u),t===i-1&&this._addTileFeatures(n.range(0,l,s/i,c),n.points,-1,r,i,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const r=this.getChildren(e);if(t++,1!==r.length)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,n,i){const o=this.getChildren(t);for(const t of o){const o=t.properties;if(o&&o.cluster?i+o.point_count<=n?i+=o.point_count:i=this._appendLeaves(e,o.cluster_id,r,n,i):i<n?i++:e.push(t),e.length===r)break}return i}_addTileFeatures(e,t,r,n,i,o){for(const a of e){const e=t[a],s=e.numPoints;let l,c,u;if(s)l=N(e),c=e.x,u=e.y;else{const t=this.points[e.index];l=t.properties,c=V(t.geometry.coordinates[0]),u=G(t.geometry.coordinates[1])}const h={type:1,geometry:[[Math.round(this.options.extent*(c*i-r)),Math.round(this.options.extent*(u*i-n))]],tags:l};let d;s?d=e.id:this.options.generateId?d=e.index:this.points[e.index].id&&(d=this.points[e.index].id),void 0!==d&&(h.id=d),o.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const r=[],{radius:n,extent:i,reduce:o,minPoints:a}=this.options,s=n/(i*Math.pow(2,t));for(let n=0;n<e.length;n++){const i=e[n];if(i.zoom<=t)continue;i.zoom=t;const l=this.trees[t+1],c=l.within(i.x,i.y,s),u=i.numPoints||1;let h=u;for(const e of c){const r=l.points[e];r.zoom>t&&(h+=r.numPoints||1)}if(h>u&&h>=a){let e=i.x*u,a=i.y*u,s=o&&u>1?this._map(i,!0):null;const d=(n<<5)+(t+1)+this.points.length;for(const r of c){const n=l.points[r];if(n.zoom<=t)continue;n.zoom=t;const c=n.numPoints||1;e+=n.x*c,a+=n.y*c,n.parentId=d,o&&(s||(s=this._map(i,!0)),o(s,this._map(n)))}i.parentId=d,r.push(F(e/h,a/h,d,h,s))}else if(r.push(i),h>1)for(const e of c){const n=l.points[e];n.zoom<=t||(n.zoom=t,r.push(n))}}return r}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?Z({},e.properties):e.properties;const r=this.points[e.index].properties,n=this.options.map(r);return t&&n===r?Z({},n):n}}function F(e,t,r,n,i){return{x:L(e),y:L(t),zoom:1/0,id:r,parentId:-1,numPoints:n,properties:i}}function j(e,t){const[r,n]=e.geometry.coordinates;return{x:L(V(r)),y:L(G(n)),zoom:1/0,index:t,parentId:-1}}function U(e){return{type:"Feature",id:e.id,properties:N(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),q(e.y)]}};var t}function N(e){const t=e.numPoints,r=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return Z(Z({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:r})}function V(e){return e/360+.5}function G(e){const t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function q(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function Z(e,t){for(const r in t)e[r]=t[r];return e}function $(e){return e.x}function W(e){return e.y}function X(e,t,r,n,i,o){var a=i-r,s=o-n;if(0!==a||0!==s){var l=((e-r)*a+(t-n)*s)/(a*a+s*s);l>1?(r=i,n=o):l>0&&(r+=a*l,n+=s*l)}return(a=e-r)*a+(s=t-n)*s}function H(e,t,r,n){var i={id:void 0===e?null:e,type:t,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,r=e.type;if("Point"===r||"MultiPoint"===r||"LineString"===r)Y(e,t);else if("Polygon"===r||"MultiLineString"===r)for(var n=0;n<t.length;n++)Y(e,t[n]);else if("MultiPolygon"===r)for(n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)Y(e,t[n][i])}(i),i}function Y(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function K(e,t,r,n){if(t.geometry){var i=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),s=[],l=t.id;if(r.promoteId?l=t.properties[r.promoteId]:r.generateId&&(l=n||0),"Point"===o)J(i,s);else if("MultiPoint"===o)for(var c=0;c<i.length;c++)J(i[c],s);else if("LineString"===o)Q(i,s,a,!1);else if("MultiLineString"===o){if(r.lineMetrics){for(c=0;c<i.length;c++)Q(i[c],s=[],a,!1),e.push(H(l,"LineString",s,t.properties));return}ee(i,s,a,!1)}else if("Polygon"===o)ee(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(c=0;c<t.geometry.geometries.length;c++)K(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},r,n);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<i.length;c++){var u=[];ee(i[c],u,a,!0),s.push(u)}}e.push(H(l,o,s,t.properties))}}function J(e,t){t.push(te(e[0])),t.push(re(e[1])),t.push(0)}function Q(e,t,r,n){for(var i,o,a=0,s=0;s<e.length;s++){var l=te(e[s][0]),c=re(e[s][1]);t.push(l),t.push(c),t.push(0),s>0&&(a+=n?(i*c-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(c-o,2))),i=l,o=c}var u=t.length-3;t[2]=1,function e(t,r,n,i){for(var o,a=i,s=n-r>>1,l=n-r,c=t[r],u=t[r+1],h=t[n],d=t[n+1],p=r+3;p<n;p+=3){var f=X(t[p],t[p+1],c,u,h,d);if(f>a)o=p,a=f;else if(f===a){var m=Math.abs(p-s);m<l&&(o=p,l=m)}}a>i&&(o-r>3&&e(t,r,o,i),t[o+2]=a,n-o>3&&e(t,o,n,i))}(t,0,u,r),t[u+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function ee(e,t,r,n){for(var i=0;i<e.length;i++){var o=[];Q(e[i],o,r,n),t.push(o)}}function te(e){return e/360+.5}function re(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function ne(e,t,r,n,i,o,a,s){if(n/=t,o>=(r/=t)&&a<n)return e;if(a<r||o>=n)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],h=u.geometry,d=u.type,p=0===i?u.minX:u.minY,f=0===i?u.maxX:u.maxY;if(p>=r&&f<n)l.push(u);else if(!(f<r||p>=n)){var m=[];if("Point"===d||"MultiPoint"===d)ie(h,m,r,n,i);else if("LineString"===d)oe(h,m,r,n,i,!1,s.lineMetrics);else if("MultiLineString"===d)se(h,m,r,n,i,!1);else if("Polygon"===d)se(h,m,r,n,i,!0);else if("MultiPolygon"===d)for(var g=0;g<h.length;g++){var _=[];se(h[g],_,r,n,i,!0),_.length&&m.push(_)}if(m.length){if(s.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)l.push(H(u.id,d,m[g],u.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),l.push(H(u.id,d,m,u.tags))}}}return l.length?l:null}function ie(e,t,r,n,i){for(var o=0;o<e.length;o+=3){var a=e[o+i];a>=r&&a<=n&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function oe(e,t,r,n,i,o,a){for(var s,l,c=ae(e),u=0===i?ce:ue,h=e.start,d=0;d<e.length-3;d+=3){var p=e[d],f=e[d+1],m=e[d+2],g=e[d+3],_=e[d+4],y=0===i?p:f,v=0===i?g:_,x=!1;a&&(s=Math.sqrt(Math.pow(p-g,2)+Math.pow(f-_,2))),y<r?v>r&&(l=u(c,p,f,g,_,r),a&&(c.start=h+s*l)):y>n?v<n&&(l=u(c,p,f,g,_,n),a&&(c.start=h+s*l)):le(c,p,f,m),v<r&&y>=r&&(l=u(c,p,f,g,_,r),x=!0),v>n&&y<=n&&(l=u(c,p,f,g,_,n),x=!0),!o&&x&&(a&&(c.end=h+s*l),t.push(c),c=ae(e)),a&&(h+=s)}var b=e.length-3;p=e[b],f=e[b+1],m=e[b+2],(y=0===i?p:f)>=r&&y<=n&&le(c,p,f,m),b=c.length-3,o&&b>=3&&(c[b]!==c[0]||c[b+1]!==c[1])&&le(c,c[0],c[1],c[2]),c.length&&t.push(c)}function ae(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function se(e,t,r,n,i,o){for(var a=0;a<e.length;a++)oe(e[a],t,r,n,i,o,!1)}function le(e,t,r,n){e.push(t),e.push(r),e.push(n)}function ce(e,t,r,n,i,o){var a=(o-t)/(n-t);return e.push(o),e.push(r+(i-r)*a),e.push(1),a}function ue(e,t,r,n,i,o){var a=(o-r)/(i-r);return e.push(t+(n-t)*a),e.push(o),e.push(1),a}function he(e,t){for(var r=[],n=0;n<e.length;n++){var i,o=e[n],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=de(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(de(o.geometry[s],t))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],c=0;c<o.geometry[s].length;c++)l.push(de(o.geometry[s][c],t));i.push(l)}r.push(H(o.id,a,i,o.tags))}return r}function de(e,t){var r=[];r.size=e.size,void 0!==e.start&&(r.start=e.start,r.end=e.end);for(var n=0;n<e.length;n+=3)r.push(e[n]+t,e[n+1],e[n+2]);return r}function pe(e,t){if(e.transformed)return e;var r,n,i,o=1<<e.z,a=e.x,s=e.y;for(r=0;r<e.features.length;r++){var l=e.features[r],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(n=0;n<c.length;n+=2)l.geometry.push(fe(c[n],c[n+1],t,o,a,s));else for(n=0;n<c.length;n++){var h=[];for(i=0;i<c[n].length;i+=2)h.push(fe(c[n][i],c[n][i+1],t,o,a,s));l.geometry.push(h)}}return e.transformed=!0,e}function fe(e,t,r,n,i,o){return[Math.round(r*(e*n-i)),Math.round(r*(t*n-o))]}function me(e,t,r,n,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,ge(a,e[s],o,i);var l=e[s].minX,c=e[s].minY,u=e[s].maxX,h=e[s].maxY;l<a.minX&&(a.minX=l),c<a.minY&&(a.minY=c),u>a.maxX&&(a.maxX=u),h>a.maxY&&(a.maxY=h)}return a}function ge(e,t,r,n){var i=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)_e(a,i,e,r,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)_e(a,i[s],e,r,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var c=i[l];for(s=0;s<c.length;s++)_e(a,c[s],e,r,!0,0===s)}if(a.length){var u=t.tags||null;if("LineString"===o&&n.lineMetrics){for(var h in u={},t.tags)u[h]=t.tags[h];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size}var d={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:u};null!==t.id&&(d.id=t.id),e.features.push(d)}}function _e(e,t,r,n,i,o){var a=n*n;if(n>0&&t.size<(i?a:n))r.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===n||t[l+2]>a)&&(r.numSimplified++,s.push(t[l]),s.push(t[l+1])),r.numPoints++;i&&function(e,t){for(var r=0,n=0,i=e.length,o=i-2;n<i;o=n,n+=2)r+=(e[n]-e[o])*(e[n+1]+e[o+1]);if(r>0===t)for(n=0,i=e.length;n<i/2;n+=2){var a=e[n],s=e[n+1];e[n]=e[i-2-n],e[n+1]=e[i-1-n],e[i-2-n]=a,e[i-1-n]=s}}(s,o),e.push(s)}}function ye(e,t){var r=(t=this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(Object.create(this.options),t)).debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=function(e,t){var r=[];if("FeatureCollection"===e.type)for(var n=0;n<e.features.length;n++)K(r,e.features[n],t,n);else K(r,"Feature"===e.type?e:{geometry:e},t);return r}(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(n=function(e,t){var r=t.buffer/t.extent,n=e,i=ne(e,1,-1-r,r,0,-1,2,t),o=ne(e,1,1-r,2+r,0,-1,2,t);return(i||o)&&(n=ne(e,1,-r,1+r,0,-1,2,t)||[],i&&(n=he(i,1).concat(n)),o&&(n=n.concat(he(o,-1)))),n}(n,t)).length&&this.splitTile(n,0,0,0),r&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ve(e,t,r){return 32*((1<<e)*r+t)+e}function xe(e,t){const r=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return t(null,null);const i=new u(n.features);let o=h.exports(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:i,rawData:o.buffer})}ye.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ye.prototype.splitTile=function(e,t,r,n,i,o,a){for(var s=[e,t,r,n],l=this.options,c=l.debug;s.length;){n=s.pop(),r=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,h=ve(t,r,n),d=this.tiles[h];if(!d&&(c>1&&console.time("creation"),d=this.tiles[h]=me(e,t,r,n,l),this.tileCoords.push({z:t,x:r,y:n}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,n,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(d.source=e,i){if(t===l.maxZoom||t===i)continue;var f=1<<i-t;if(r!==Math.floor(o/f)||n!==Math.floor(a/f))continue}else if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==e.length){c>1&&console.time("clipping");var m,g,_,y,v,x,b=.5*l.buffer/l.extent,w=.5-b,T=.5+b,E=1+b;m=g=_=y=null,v=ne(e,u,r-b,r+T,0,d.minX,d.maxX,l),x=ne(e,u,r+w,r+E,0,d.minX,d.maxX,l),e=null,v&&(m=ne(v,u,n-b,n+T,1,d.minY,d.maxY,l),g=ne(v,u,n+w,n+E,1,d.minY,d.maxY,l),v=null),x&&(_=ne(x,u,n-b,n+T,1,d.minY,d.maxY,l),y=ne(x,u,n+w,n+E,1,d.minY,d.maxY,l),x=null),c>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*r,2*n),s.push(g||[],t+1,2*r,2*n+1),s.push(_||[],t+1,2*r+1,2*n),s.push(y||[],t+1,2*r+1,2*n+1)}}},ye.prototype.getTile=function(e,t,r){var n=this.options,i=n.extent,o=n.debug;if(e<0||e>24)return null;var a=1<<e,s=ve(e,t=(t%a+a)%a,r);if(this.tiles[s])return pe(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var l,c=e,u=t,h=r;!l&&c>0;)c--,u=Math.floor(u/2),h=Math.floor(h/2),l=this.tiles[ve(c,u,h)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",c,u,h),o>1&&console.time("drilling down"),this.splitTile(l.source,c,u,h,e,t,r),o>1&&console.timeEnd("drilling down"),this.tiles[s]?pe(this.tiles[s],i):null):null};class be extends e.VectorTileWorkerSource{constructor(e,t,r,n,i){super(e,t,r,n,xe),i&&(this.loadGeoJSON=i)}loadData(t,r){const n=t&&t.request,i=n&&n.collectResourceTiming;this.loadGeoJSON(t,(a,s)=>{if(a||!s)return r(a);if("object"!=typeof s)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));{o(s,!0);try{if(t.filter){const r=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===r.result)throw new Error(r.value.map(e=>`${e.key}: ${e.message}`).join(", "));const n=s.features.filter(e=>r.value.evaluate({zoom:0},e));s={type:"FeatureCollection",features:n}}this._geoJSONIndex=t.cluster?new B(function({superclusterOptions:t,clusterProperties:r}){if(!r||!t)return t;const n={},i={},o={accumulated:null,zoom:0},a={properties:null},s=Object.keys(r);for(const t of s){const[o,a]=r[t],s=e.createExpression(a),l=e.createExpression("string"==typeof o?[o,["accumulated"],["get",t]]:o);n[t]=s.value,i[t]=l.value}return t.map=e=>{a.properties=e;const t={};for(const e of s)t[e]=n[e].evaluate(o,a);return t},t.reduce=(e,t)=>{a.properties=t;for(const t of s)o.accumulated=e[t],e[t]=i[t].evaluate(o,a)},t}(t)).load(s.features):function(e,t){return new ye(e,t)}(s,t.geojsonVtOptions)}catch(a){return r(a)}this.loaded={};const l={};if(i){const r=e.getPerformanceMeasurement(n);r&&(l.resourceTiming={},l.resourceTiming[t.source]=JSON.parse(JSON.stringify(r)))}r(null,l)}})}reloadTile(e,t){const r=this.loaded;return r&&r[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,r){if(t.request)e.getJSON(t.request,r);else{if("string"!=typeof t.data)return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return r(null,JSON.parse(t.data))}catch(e){return r(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class we{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.getProjection({name:"mercator"}),this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:be},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}clearCaches(e,t,r){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],r()}checkIfReady(e,t,r){r()}setReferrer(e,t){this.referrer=t}spriteLoaded(t,r){this.isSpriteLoaded[t]=r;for(const n in this.workerSources[t]){const i=this.workerSources[t][n];for(const t in i)i[t]instanceof e.VectorTileWorkerSource&&(i[t].isSpriteLoaded=r,i[t].fire(new e.Event("isSpriteLoaded")))}}setImages(e,t,r){this.availableImages[e]=t;for(const r in this.workerSources[e]){const n=this.workerSources[e][r];for(const e in n)n[e].availableImages=t}r()}enableTerrain(e,t,r){this.terrain=t,r()}setProjection(t,r){this.projections[t]=e.getProjection(r)}setLayers(e,t,r){this.getLayerIndex(e).replace(t),r()}updateLayers(e,t,r){this.getLayerIndex(e).update(t.layers,t.removedIds),r()}loadTile(t,r,n){const i=this.enableTerrain?e.extend({enableTerrain:this.terrain},r):r;i.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,r.type,r.source).loadTile(i,n)}loadDEMTile(t,r,n){const i=this.enableTerrain?e.extend({buildQuadTree:this.terrain},r):r;this.getDEMWorkerSource(t,r.source).loadTile(i,n)}reloadTile(t,r,n){const i=this.enableTerrain?e.extend({enableTerrain:this.terrain},r):r;i.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,r.type,r.source).reloadTile(i,n)}abortTile(e,t,r){this.getWorkerSource(e,t.type,t.source).abortTile(t,r)}removeTile(e,t,r){this.getWorkerSource(e,t.type,t.source).removeTile(t,r)}removeSource(e,t,r){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const n=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==n.removeSource?n.removeSource(t,r):r()}loadWorkerSource(e,t,r){try{this.self.importScripts(t.url),r()}catch(e){r(e.toString())}}syncRTLPluginState(t,r,n){try{e.plugin.setState(r);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const r=e.plugin.isParsed();n(r?void 0:new Error("RTL Text Plugin failed to import scripts from "+t),r)}}catch(e){n(e.toString())}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new n),t}getWorkerSource(e,t,r){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][r]){const n={send:(t,r,n,i,o,a)=>{this.actor.send(t,r,n,e,o,a)},scheduler:this.actor.scheduler};this.workerSources[e][t][r]=new this.workerSourceTypes[t](n,this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded[e])}return this.workerSources[e][t][r]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new i),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,r){e.enforceCacheSizeLimit(r)}getWorkerPerformanceMetrics(e,t,r){r(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new we(self)),we})),i(["./shared"],(function(e){"use strict";function t(e,r){if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(!t(e[n],r[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==r){if("object"!=typeof r)return!1;if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(!t(e[n],r[n]))return!1;return!0}return e===r}var r=n;function n(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,r=new Blob([""],{type:"text/javascript"}),n=URL.createObjectURL(r);try{t=new Worker(n),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(n),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var r=t.getImageData(0,0,1,1);return r&&r.width===e.width}()?(void 0===i[t=e&&e.failIfMajorPerformanceCaveat]&&(i[t]=function(e){var t,r=function(e){var t=document.createElement("canvas"),r=Object.create(n.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,t.getContext("webgl",r)||t.getContext("experimental-webgl",r)}(e);if(!r)return!1;try{t=r.createShader(r.VERTEX_SHADER)}catch(e){return!1}return!(!t||r.isContextLost())&&(r.shaderSource(t,"void main() {}"),r.compileShader(t),!0===r.getShaderParameter(t,r.COMPILE_STATUS))}(t)),i[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var i={};function o(t,r,n){const i=e.window.document.createElement(t);return void 0!==r&&(i.className=r),n&&n.appendChild(i),i}function a(t,r,n){const i=e.window.document.createElementNS("http://www.w3.org/2000/svg",t);for(const e of Object.keys(r))i.setAttributeNS(null,e,r[e]);return n&&n.appendChild(i),i}n.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const s=e.window.document&&e.window.document.documentElement.style,l=s&&void 0!==s.userSelect?"userSelect":"WebkitUserSelect";let c;function u(){s&&l&&(c=s[l],s[l]="none")}function h(){s&&l&&(s[l]=c)}function d(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",d,!0)}function p(){e.window.addEventListener("click",d,!0),e.window.setTimeout(()=>{e.window.removeEventListener("click",d,!0)},0)}function f(e,t){const r=e.getBoundingClientRect();return _(e,r,t)}function m(e,t){const r=e.getBoundingClientRect(),n=[];for(let i=0;i<t.length;i++)n.push(_(e,r,t[i]));return n}function g(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button}function _(t,r,n){const i=t.offsetWidth===r.width?1:t.offsetWidth/r.width;return new e.pointGeometry((n.clientX-r.left)*i,(n.clientY-r.top)*i)}function y(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*o-i*n;return a?(e[0]=o*(a=1/a),e[1]=-n*a,e[2]=-i*a,e[3]=r*a,e):null}function v(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class x extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}hasImage(e){return!!this.getImage(e)}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t)}_validate(t,r){let n=!0;return this._validateStretch(r.stretchX,r.data&&r.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),n=!1),this._validateStretch(r.stretchY,r.data&&r.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),n=!1),this._validateContent(r.content,r)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),n=!1),n}_validateStretch(e,t){if(!e)return!0;let r=0;for(const n of e){if(n[0]<r||n[1]<n[0]||t<n[1])return!1;r=n[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let r=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(r=!1);this.isLoaded()||r?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,r){const n={};for(const r of t){this.images[r]||this.fire(new e.Event("styleimagemissing",{id:r}));const t=this.images[r];t?n[r]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${r}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}r(null,n)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const r=this.patterns[t],n=this.getImage(t);if(!n)return null;if(r&&r.position.version===n.version)return r.position;if(r)r.position.version=n.version;else{const r={w:n.data.width+2,h:n.data.height+2,x:0,y:0},i=new e.ImagePosition(r,n);this.patterns[t]={bin:r,position:i}}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const r=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,r.RGBA),this.atlasTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:r,h:n}=e.potpack(t),i=this.atlasImage;i.resize({width:r||1,height:n||1});for(const t in this.patterns){const{bin:r}=this.patterns[t],n=r.x+1,o=r.y+1,a=this.images[t].data,s=a.width,l=a.height;e.RGBAImage.copy(a,i,{x:0,y:0},{x:n,y:o},{width:s,height:l}),e.RGBAImage.copy(a,i,{x:0,y:l-1},{x:n,y:o-1},{width:s,height:1}),e.RGBAImage.copy(a,i,{x:0,y:0},{x:n,y:o+l},{width:s,height:1}),e.RGBAImage.copy(a,i,{x:s-1,y:0},{x:n-1,y:o},{width:1,height:l}),e.RGBAImage.copy(a,i,{x:0,y:0},{x:n+s,y:o},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];v(e)&&this.updateImage(t,e)}}}const b=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position}possiblyEvaluate(t,r){return function([t,r,n]){const i=e.degToRad(r+90),o=e.degToRad(n);return{x:t*Math.cos(i)*Math.sin(o),y:t*Math.sin(i)*Math.sin(o),z:t*Math.cos(o),azimuthal:r,polar:n}}(t.expression.evaluate(r))}interpolate(t,r,n){return{x:e.number(t.x,r.x,n),y:e.number(t.y,r.y,n),z:e.number(t.z,r.z,n),azimuthal:e.number(t.azimuthal,r.azimuthal,n),polar:e.number(t.polar,r.polar,n)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),w="-transition";class T extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(b),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,r={}){if(!this._validate(e.validateLight,t,r))for(const r in t){const n=t[r];e.endsWith(r,w)?this._transitionable.setTransition(r.slice(0,-w.length),n):this._transitionable.setValue(r,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}const E=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),S="-transition";class C extends e.Evented{constructor(t,r){super(),this._transitionable=new e.Transitionable(E),this.set(t),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=r}get(){return this._transitionable.serialize()}set(t){for(const r in t){const n=t[r];e.endsWith(r,S)?this._transitionable.setTransition(r.slice(0,-S.length),n):this._transitionable.setValue(r,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}}function M(t,r,n,i){const o=e.smoothstep(45,65,n),[a,s]=k(t,i),l=e.length(r);let c=1-Math.min(1,Math.exp((l-a)/(s-a)*-6));return c*=c*c,c=Math.min(1,1.00747*c),c*o*t.alpha}function k(e,t){const r=.5/Math.tan(.5*t);return[e.range[0]+r,e.range[1]+r]}const A=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"high-color":new e.DataConstantProperty(e.spec.fog["high-color"]),"space-color":new e.DataConstantProperty(e.spec.fog["space-color"]),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"]),"star-intensity":new e.DataConstantProperty(e.spec.fog["star-intensity"])}),I="-transition";class P extends e.Evented{constructor(t,r){super(),this._transitionable=new e.Transitionable(A),this.set(t),this._transitioning=this._transitionable.untransitioned(),this._transform=r}get state(){const t=this._transform,r="globe"===t.projection.name,n=e.globeToMercatorTransition(t.zoom),i=this.properties.get("range"),o=[.5,3];return{range:r?[e.number(o[0],i[0],n),e.number(o[1],i[1],n)]:i,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(t,r={}){if(!this._validate(e.validateFog,t,r)){for(const r of Object.keys(e.spec.fog))t&&void 0===t[r]&&(t[r]=e.spec.fog[r].default);for(const r in t){const n=t[r];e.endsWith(r,I)?this._transitionable.setTransition(r.slice(0,-I.length),n):this._transitionable.setValue(r,n)}}}getOpacity(t){if(!this._transform.projection.supportsFog)return 0;const r=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:e.smoothstep(45,65,t))*r.a}getOpacityAtLatLng(t,r){return this._transform.projection.supportsFog?function(t,r,n){const i=e.MercatorCoordinate.fromLngLat(r),o=n.elevation?n.elevation.getAtPointOrZero(i):0,a=[i.x,i.y,o];return e.transformMat4(a,a,n.mercatorFogMatrix),M(t,a,n.pitch,n._fov)}(this.state,t,r):0}getFovAdjustedRange(e){return this._transform.projection.supportsFog?k(this.state,e):[0,1]}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,r,n){return(!n||!1!==n.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:r,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class z{constructor(t,r){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const n=this.workerPool.acquire(this.id);for(let e=0;e<n.length;e++){const t=new z.Actor(n[e],r,this.id);t.name="Worker "+e,this.actors.push(t)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(t,r,n){e.asyncAll(this.actors,(e,n)=>{e.send(t,r,n)},n=n||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(e=>{e.remove()}),this.actors=[],this.workerPool.release(this.id)}}function D(t,r,n){return r*(e.EXTENT/(t.tileSize*Math.pow(2,n-t.tileID.overscaledZ)))}z.Actor=e.Actor;class R{constructor(e,t,r,n){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=r,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,n)}static createFromScreenPoints(t,r){let n,i;if(t instanceof e.pointGeometry||"number"==typeof t[0]){const o=e.pointGeometry.convert(t);n=[o],i=r.isPointAboveHorizon(o)}else{const o=e.pointGeometry.convert(t[0]),a=e.pointGeometry.convert(t[1]);n=[o,a],i=e.polygonizeBounds(o,a).every(e=>r.isPointAboveHorizon(e))}return new R(n,r.getCameraPoint(),i,r)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const r=this.screenBounds[0],n=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],i=e.polygonizeBounds(r,n,0,!1);return this.cameraPoint.y>n.y&&(this.cameraPoint.x>r.x&&this.cameraPoint.x<n.x?i.splice(3,0,this.cameraPoint):this.cameraPoint.x>=n.x?i[2]=this.cameraPoint:this.cameraPoint.x<=r.x&&(i[3]=this.cameraPoint)),e.bufferConvexPolygon(i,t)}bufferedCameraGeometryGlobe(t){const r=this.screenBounds[0],n=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],i=e.polygonizeBounds(r,n,t),o=this.cameraPoint.clone();switch(3*((o.y>r.y)+(o.y>n.y))+((o.x>r.x)+(o.x>n.x))){case 0:i[0]=o,i[4]=o.clone();break;case 1:i.splice(1,0,o);break;case 2:i[1]=o;break;case 3:i.splice(4,0,o);break;case 5:i.splice(2,0,o);break;case 6:i[3]=o;break;case 7:i.splice(3,0,o);break;case 8:i[2]=o}return i}containsTile(t,r,n,i=0){const o=t.queryPadding/r._pixelsPerMercatorPixel+1,a=n?this._bufferedCameraMercator(o,r):this._bufferedScreenMercator(o,r);let s=t.tileID.wrap+(a.unwrapped?i:0);const l=a.polygon.map(r=>e.getTilePoint(t.tileTransform,r,s));if(!e.polygonIntersectsBox(l,0,0,e.EXTENT,e.EXTENT))return;s=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?i:0);const c=this.screenGeometryMercator.polygon.map(r=>e.getTileVec3(t.tileTransform,r,s)),u=c.map(t=>new e.pointGeometry(t[0],t[1])),h=r.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),d=e.getTileVec3(t.tileTransform,h,s),p=c.map(t=>{const r=e.sub(t,t,d);return e.normalize(r,r),new e.Ray(d,r)}),f=D(t,1,r.zoom)*r._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:u,tilespaceRays:p,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(m=e.getBounds(l),m.min.x=e.clamp(m.min.x,0,e.EXTENT),m.min.y=e.clamp(m.min.y,0,e.EXTENT),m.max.x=e.clamp(m.max.x,0,e.EXTENT),m.max.y=e.clamp(m.max.y,0,e.EXTENT),m),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:f};var m}_bufferedScreenMercator(e,t){const r=B(e);if(this._screenRaycastCache[r])return this._screenRaycastCache[r];{let n;return n="globe"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map(e=>t.pointCoordinate3D(e)),unwrapped:!0},this._screenRaycastCache[r]=n,n}}_bufferedCameraMercator(e,t){const r=B(e);if(this._cameraRaycastCache[r])return this._cameraRaycastCache[r];{let n;return n="globe"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map(e=>t.pointCoordinate3D(e)),unwrapped:!0},this._cameraRaycastCache[r]=n,n}}_projectAndResample(t,r){const n=function(t,r){const n=e.multiply([],r.pixelMatrix,r.globeMatrix),i=[0,-e.GLOBE_RADIUS,0,1],o=[0,e.GLOBE_RADIUS,0,1],a=[0,0,0,1];e.transformMat4$1(i,i,n),e.transformMat4$1(o,o,n),e.transformMat4$1(a,a,n);const s=new e.pointGeometry(i[0]/i[3],i[1]/i[3]),l=new e.pointGeometry(o[0]/o[3],o[1]/o[3]),c=e.polygonContainsPoint(t,s)&&i[3]<a[3],u=e.polygonContainsPoint(t,l)&&o[3]<a[3];if(!c&&!u)return null;const h=function(e,t,r){for(let n=1;n<e.length;n++){const i=O(t.pointCoordinate3D(e[n-1]).x),o=O(t.pointCoordinate3D(e[n]).x);if(r<0){if(i<o)return{idx:n,t:-i/(o-1-i)}}else if(o<i)return{idx:n,t:(1-i)/(o+1-i)}}return null}(t,r,c?-1:1);if(!h)return null;const{idx:d,t:p}=h;let f=d>1?L(t.slice(0,d),r):[],m=d<t.length?L(t.slice(d),r):[];f=f.map(t=>new e.pointGeometry(O(t.x),t.y)),m=m.map(t=>new e.pointGeometry(O(t.x),t.y));const g=[...f];0===g.length&&g.push(m[m.length-1]);const _=e.number(g[g.length-1].y,(0===m.length?f[0]:m[0]).y,p);let y;return y=c?[new e.pointGeometry(0,_),new e.pointGeometry(0,0),new e.pointGeometry(1,0),new e.pointGeometry(1,_)]:[new e.pointGeometry(1,_),new e.pointGeometry(1,1),new e.pointGeometry(0,1),new e.pointGeometry(0,_)],g.push(...y),0===m.length?g.push(f[0]):g.push(...m),{polygon:g.map(t=>new e.MercatorCoordinate(t.x,t.y)),unwrapped:!1}}(t,r);if(n)return n;const i=function(t,r){let n=!1,i=-1/0,o=0;for(let e=0;e<t.length-1;e++)t[e].x>i&&(i=t[e].x,o=e);for(let e=0;e<t.length-1;e++){const r=(o+e)%(t.length-1),i=t[r],a=t[r+1];Math.abs(i.x-a.x)>.5&&(i.x<a.x?(i.x+=1,0===r&&(t[t.length-1].x+=1)):(a.x+=1,r+1===t.length-1&&(t[0].x+=1)),n=!0)}const a=e.mercatorXfromLng(r.center.lng);return n&&a<Math.abs(a-1)&&t.forEach(e=>{e.x-=1}),{polygon:t,unwrapped:n}}(L(t,r).map(t=>new e.pointGeometry(O(t.x),t.y)),r);return{polygon:i.polygon.map(t=>new e.MercatorCoordinate(t.x,t.y)),unwrapped:i.unwrapped}}}function L(t,r){return e.resample(t,e=>{const t=r.pointCoordinate3D(e);e.x=t.x,e.y=t.y},1/256)}function O(e){return e<0?1+e%1:e%1}function B(e){return 100*e|0}function F(t,r,n,i,o){const a=function(n,i){if(n)return o(n);if(i){t.url&&i.tiles&&t.tiles&&delete t.tiles;const n=e.pick(e.extend(i,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);i.vector_layers&&(n.vectorLayers=i.vector_layers,n.vectorLayerIds=n.vectorLayers.map(e=>e.id)),n.tiles=r.canonicalizeTileset(n,t.url),o(null,n)}};return t.url?e.getJSON(r.transformRequest(r.normalizeSourceURL(t.url,null,n,i),e.ResourceType.Source),a):e.exported.frame(()=>a(null,t))}class j{constructor(t,r,n){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=r||0,this.maxzoom=n||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const r=Math.pow(2,t.z),n=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*r),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*r),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*r),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*r);return t.x>=n&&t.x<o&&t.y>=i&&t.y<a}}class U{constructor(e,t,r){this.context=e;const n=e.gl;this.buffer=n.createBuffer(),this.dynamicDraw=Boolean(r),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),n.bufferData(n.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?n.DYNAMIC_DRAW:n.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const N={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class V{constructor(e,t,r,n){this.length=t.length,this.attributes=r,this.itemSize=t.bytesPerElement,this.dynamicDraw=n,this.context=e;const i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let r=0;r<this.attributes.length;r++){const n=t.attributes[this.attributes[r].name];void 0!==n&&e.enableVertexAttribArray(n)}}setVertexAttribPointers(e,t,r){for(let n=0;n<this.attributes.length;n++){const i=this.attributes[n],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[N[i.type]],!1,this.itemSize,i.offset+this.itemSize*(r||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class G{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class q extends G{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Z extends G{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class $ extends G{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class W extends G{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class X extends G{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class H extends G{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Y extends G{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class K extends G{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class J extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class Q extends G{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class ee extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class te extends G{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class re extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class ne extends G{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class ie extends G{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class oe extends G{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class ae extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class se extends G{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class le extends G{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class ce extends G{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class ue extends G{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class he extends G{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class de extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class pe extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class fe extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class me extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ge extends G{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class _e extends G{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class ye extends G{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class ve extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class xe extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class be extends G{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class we extends be{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class Te extends be{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Ee extends Te{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Se{constructor(e,t,r,n){this.context=e,this.width=t,this.height=r;const i=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,i),n&&(this.depthAttachment=new Te(e,i))}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class Ce{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new q(this),this.clearDepth=new Z(this),this.clearStencil=new $(this),this.colorMask=new W(this),this.depthMask=new X(this),this.stencilMask=new H(this),this.stencilFunc=new Y(this),this.stencilOp=new K(this),this.stencilTest=new J(this),this.depthRange=new Q(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new re(this),this.blendFunc=new ne(this),this.blendColor=new ie(this),this.blendEquation=new oe(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new le(this),this.program=new ce(this),this.activeTexture=new ue(this),this.viewport=new he(this),this.bindFramebuffer=new de(this),this.bindRenderbuffer=new pe(this),this.bindTexture=new fe(this),this.bindVertexBuffer=new me(this),this.bindElementBuffer=new ge(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new _e(this),this.pixelStoreUnpack=new ye(this),this.pixelStoreUnpackPremultiplyAlpha=new ve(this),this.pixelStoreUnpackFlipY=new xe(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=e.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=e.getExtension("OES_standard_derivatives"),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new U(this,e,t)}createVertexBuffer(e,t,r){return new V(this,e,t,r)}createRenderbuffer(e,t,r){const n=this.gl,i=n.createRenderbuffer();return this.bindRenderbuffer.set(i),n.renderbufferStorage(n.RENDERBUFFER,e,t,r),this.bindRenderbuffer.set(null),i}createFramebuffer(e,t,r){return new Se(this,e,t,r)}clear({color:e,depth:t,stencil:r}){const n=this.gl;let i=0;e&&(i|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(i|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==r&&(i|=n.STENCIL_BUFFER_BIT,this.clearStencil.set(r),this.stencilMask.set(255)),n.clear(i)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(r){t(r.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(r.blendFunction),this.blendColor.set(r.blendColor)),this.colorMask.set(r.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Me extends e.Evented{constructor(t,r,n,i){super(),this.id=t,this.dispatcher=n,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},r),e.extend(this,e.pick(r,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=F(this._options,this.map._requestManager,null,null,(t,r)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):r&&(e.extend(this,r),r.bounds&&(this.tileBounds=new j(r.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(r.tiles),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,r){const n=e.exported.devicePixelRatio>=2,i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),n,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),(n,i,o,a)=>(delete t.request,t.aborted?(t.state="unloaded",r(null)):n?(t.state="errored",r(n)):i?(this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:o,expires:a}),t.setTexture(i,this.map.painter),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),void r(null)):r(null)))}static loadTileData(e,t,r){e.setTexture(t,r)}static unloadTileData(e,t){e.texture&&t.saveTileTexture(e.texture)}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}let ke;function Ae(t,r,n,i,o,a,s,l){const c=[t,n,o,r,i,a,1,1,1],u=[s,l,1],h=e.adjoint([],c),[d,p,f]=e.transformMat3(u,u,e.transpose(h,h));return e.multiply$1(c,[d,0,0,0,p,0,0,0,f],c)}class Ie extends e.Evented{constructor(e,t,r,n){super(),this.id=e,this.dispatcher=r,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(n),this.options=t,this._dirty=!1}load(t,r){this._loaded=r||!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(r,n)=>{if(this._imageRequest=null,this._loaded=!0,r)this.fire(new e.ErrorEvent(r));else if(n){const{HTMLImageElement:r}=e.window;this.image=n instanceof r?e.exported.getImageData(n):n,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,t&&(this.coordinates=t),this._finishLoading()}})}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this._imageRequest&&e.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(t){this.coordinates=t,this._boundsArray=void 0;const r=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){let r=1/0,n=1/0,i=-1/0,o=-1/0;for(const e of t)r=Math.min(r,e.x),n=Math.min(n,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y);const a=Math.max(i-r,o-n),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),l=Math.pow(2,s);return new e.CanonicalTileID(s,Math.floor((r+i)/2*l),Math.floor((n+o)/2*l))}(r),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(t){for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}if(this._boundsArray)return;const r=e.tileTransform(this.tileID,this.map.transform.projection),[n,i,o,a]=this.coordinates.map(t=>{const n=r.projection.project(t[0],t[1]);return e.getTilePoint(r,n)._round()});this.perspectiveTransform=function(t,r,n,i,o,a,s,l,c,u){const h=Ae(0,0,t,0,0,r,t,r),d=Ae(n,i,o,a,s,l,c,u);return e.multiply$1(d,e.adjoint(h,h),d),[d[6]/d[8]*t/e.EXTENT,d[7]/d[8]*r/e.EXTENT]}(this.width,this.height,n.x,n.y,i.x,i.y,a.x,a.y,o.x,o.y);const s=this._boundsArray=new e.StructArrayLayout4i8;s.emplaceBack(n.x,n.y,0,0),s.emplaceBack(i.x,i.y,e.EXTENT,0),s.emplaceBack(a.x,a.y,0,e.EXTENT),s.emplaceBack(o.x,o.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(s,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,r=t.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(t)}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Pe={vector:class extends e.Evented{constructor(t,r,n,i){if(super(),this.id=t,this.dispatcher=n,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(r,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},r),this._collectResourceTiming=r.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i),this._tileWorkers={},this._deduped=new e.DedupedRequest}load(t){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"}));const r=Array.isArray(this.map._language)?this.map._language.join():this.map._language,n=this.map._worldview;this._tileJSONRequest=F(this._options,this.map._requestManager,r,n,(i,o)=>{this._tileJSONRequest=null,this._loaded=!0,i?(r&&console.warn("Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: "+r),n&&2!==n.length&&console.warn("Requested worldview strings must be a valid ISO alpha-2 code. Found: "+n),this.fire(new e.ErrorEvent(i))):o&&(e.extend(this,o),o.bounds&&(this.tileBounds=new j(o.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(o.tiles,this.map._requestManager._customAccessToken),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(i)})}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const e=this.map.style._getSourceCaches(this.id);for(const t of e)t.clearTiles()})}setSourceProperty(e){e(),this.reload()}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return e.extend({},this._options)}loadTile(t,r){const n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),i={request:this.map._requestManager.transformRequest(n,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=r:t.request=t.actor.send("reloadTile",i,o.bind(this));else if(t.actor=this._tileWorkers[n]=this._tileWorkers[n]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",i,o.bind(this),void 0,!0);else{const r=e.loadVectorTile.call({deduped:this._deduped},i,(e,r)=>{e||!r?o.call(this,e):(i.data={cacheControl:r.cacheControl,expires:r.expires,rawData:r.rawData.slice(0)},t.actor&&t.actor.send("loadTile",i,o.bind(this),void 0,!0))},!0);t.request={cancel:r}}function o(n,i){return delete t.request,t.aborted?r(null):n&&404!==n.status?r(n):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),r(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:Me,"raster-dem":class extends Me{constructor(t,r,n,i){super(t,r,n,i),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},r),this.encoding=r.encoding||"mapbox"}loadTile(t,r){const n=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function i(e,n){e&&(t.state="errored",r(e)),n&&(t.dem=n,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",r(null))}t.request=e.getImage(this.map._requestManager.transformRequest(n,e.ResourceType.Tile),function(n,o,a,s){if(delete t.request,t.aborted)t.state="unloaded",r(null);else if(n)t.state="errored",r(n);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:a,expires:s});const r=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&(null==ke&&(ke=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),ke),n=1-(o.width-e.prevPowerOfTwo(o.width))/2;n<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));const l=r?o:e.exported.getImageData(o,n),c={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:l,encoding:this.encoding,padding:n};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",c,i.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(t){const r=t.canonical,n=Math.pow(2,r.z),i=(r.x-1+n)%n,o=0===r.x?t.wrap-1:t.wrap,a=(r.x+1+n)%n,s=r.x+1===n?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y).key]={backfilled:!1},r.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y-1).key]={backfilled:!1}),r.y+1<n&&(l[new e.OverscaledTileID(t.overscaledZ,o,r.z,i,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,r.z,r.x,r.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,r.z,a,r.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}},geojson:class extends e.Evented{constructor(t,r,n,i){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=n.getActor(),this.setEventedParent(i),this._data=r.data,this._options=e.extend({},r),this._collectResourceTiming=r.collectResourceTiming,void 0!==r.maxzoom&&(this.maxzoom=r.maxzoom),r.type&&(this.type=r.type),r.attribution&&(this.attribution=r.attribution),this.promoteId=r.promoteId;const o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:r.cluster||!1,geojsonVtOptions:{buffer:(void 0!==r.buffer?r.buffer:128)*o,tolerance:(void 0!==r.tolerance?r.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:r.lineMetrics||!1,generateId:r.generateId||!1},superclusterOptions:{maxZoom:void 0!==r.clusterMaxZoom?r.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,r.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==r.clusterRadius?r.clusterRadius:50)*o,log:!1,generateId:r.generateId||!1},clusterProperties:r.clusterProperties,filter:r.filter},r.workerOptions)}onAdd(e){this.map=e,this.setData(this._data)}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,r,n){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:r},n),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;const t=e.extend({},this.workerOptions),r=this._data;"string"==typeof r?(t.request=this.map._requestManager.transformRequest(e.exported.resolveURL(r),e.ResourceType.Source),t.request.collectResourceTiming=this._collectResourceTiming):t.data=JSON.stringify(r),this._pendingLoad=this.actor.send(this.type+".loadData",t,(t,r)=>{if(this._loaded=!0,this._pendingLoad=null,t)this.fire(new e.ErrorEvent(t));else{const t={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&r&&r.resourceTiming&&r.resourceTiming[this.id]&&(t.resourceTiming=r.resourceTiming[this.id]),this.fire(new e.Event("data",t)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(t,r){const n=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(n,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(e,i)=>(delete t.request,t.unloadVectorData(),t.aborted?r(null):e?r(e):(t.loadVectorData(i,this.map.painter,"reloadTile"===n),r(null))),void 0,"loadTile"===n)}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Ie{constructor(e,t,r,n){super(e,t,r,n),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const r of t.urls)this.urls.push(this.map._requestManager.transformRequest(r,e.ResourceType.Source).url);e.getVideo(this.urls,(t,r)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):r&&(this.video=r,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const r=this.video.seekable;t<r.start(0)||t>r.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,`Playback for this video can be set only between the ${r.start(0)} and ${r.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,r=t.gl;this.texture?this.video.paused||(this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,r.RGBA),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Ie,canvas:class extends Ie{constructor(t,r,n,i){super(t,r,n,i),r.coordinates?Array.isArray(r.coordinates)&&4===r.coordinates.length&&!r.coordinates.some(e=>!Array.isArray(e)||2!==e.length||e.some(e=>"number"!=typeof e))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "coordinates"'))),r.animate&&"boolean"!=typeof r.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'optional "animate" property must be a boolean value'))),r.canvas?"string"==typeof r.canvas||r.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "canvas"'))),this.options=r,this.animate=void 0===r.animate||r.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const r=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(r,this.canvas,r.gl.RGBA,{premultiply:!0}),this._prepareData(r)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}},custom:class extends e.Evented{constructor(t,r,n,i){super(),this.id=t,this.type="custom",this._dataType="raster",this._dispatcher=n,this._implementation=r,this.setEventedParent(i),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new e.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new e.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new j(this._implementation.bounds,this.minzoom,this.maxzoom)),r.update=this._update.bind(this),r.clearTiles=this._clearTiles.bind(this),r.coveringTiles=this._coveringTiles.bind(this),e.extend(this,e.pick(r,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return e.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(t){this._map=t,this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load()}onRemove(e){this._implementation.onRemove&&this._implementation.onRemove(e)}hasTile(e){if(this._implementation.hasTile){const{x:t,y:r,z:n}=e.canonical;return this._implementation.hasTile({x:t,y:r,z:n})}return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,r){const{x:n,y:i,z:o}=t.tileID.canonical,a=new e.window.AbortController;t.request=Promise.resolve(this._implementation.loadTile({x:n,y:i,z:o},{signal:a.signal})).then(function(n){return delete t.request,t.aborted?(t.state="unloaded",r(null)):void 0===n?(t.state="errored",r(null)):null===n?(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",r(null)):function(t){return t instanceof e.window.ImageData||t instanceof e.window.HTMLCanvasElement||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLImageElement}(n)?(this.loadTileData(t,n),t.state="loaded",void r(null)):(t.state="errored",r(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(e=>{20!==e.code&&(t.state="errored",r(e))}),t.request.cancel=()=>a.abort()}loadTileData(e,t){Me.loadTileData(e,t,this._map.painter)}unloadTileData(e){Me.unloadTileData(e,this._map.painter)}unloadTile(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){const{x:t,y:r,z:n}=e.tileID.canonical;this._implementation.unloadTile({x:t,y:r,z:n})}t()}abortTile(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(e=>({x:e.canonical.x,y:e.canonical.y,z:e.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}}},ze=function(t,r,n,i){const o=new Pe[r.type](t,r,n,i);if(o.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${o.id}`);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o};function De(t,r){const n=e.identity([]);return e.scale(n,n,[.5*t.width,.5*-t.height,1]),e.translate(n,n,[1,-1,0]),e.multiply(n,n,t.calculateProjMatrix(r.toUnwrapped())),Float32Array.from(n)}function Re(e,t,r,n,i,o,a,s=!1){const l=e.tilesIn(n,a,s);l.sort(Oe);const c=[];for(const n of l)c.push({wrappedTileID:n.tile.tileID.wrapped().key,queryResults:n.tile.queryRenderedFeatures(t,r,e._state,n,i,o,De(e.transform,n.tile.tileID),s)});const u=function(e){const t={},r={};for(const n of e){const e=n.queryResults,i=n.wrappedTileID,o=r[i]=r[i]||{};for(const r in e){const n=e[r],i=o[r]=o[r]||{},a=t[r]=t[r]||[];for(const e of n)i[e.featureIndex]||(i[e.featureIndex]=!0,a.push(e))}}return t}(c);for(const t in u)u[t].forEach(t=>{const r=t.feature,n=r.layer;n&&"background"!==n.type&&"sky"!==n.type&&(r.source=n.source,n["source-layer"]&&(r.sourceLayer=n["source-layer"]),r.state=void 0!==r.id?e.getFeatureState(n["source-layer"],r.id):{})});return u}function Le(e,t){const r=e.getRenderableIds().map(t=>e.getTileByID(t)),n=[],i={};for(let e=0;e<r.length;e++){const o=r[e],a=o.tileID.canonical.key;i[a]||(i[a]=!0,o.querySourceFeatures(n,t))}return n}function Oe(e,t){const r=e.tileID,n=t.tileID;return r.overscaledZ-n.overscaledZ||r.canonical.y-n.canonical.y||r.wrap-n.wrap||r.canonical.x-n.canonical.x}function Be(){return null!=_o.workerClass?new _o.workerClass:new e.window.Worker(_o.workerUrl)}const Fe="mapboxgl_preloaded_worker_pool";class je{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<je.workerCount;)this.workers.push(new Be);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach(e=>{e.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Fe]}numActive(){return Object.keys(this.active).length}}let Ue;function Ne(){return Ue||(Ue=new je),Ue}function Ve(t,r){const n={};for(const e in t)"ref"!==e&&(n[e]=t[e]);return e.refProperties.forEach(e=>{e in r&&(n[e]=r[e])}),n}function Ge(e){e=e.slice();const t=Object.create(null);for(let r=0;r<e.length;r++)t[e[r].id]=e[r];for(let r=0;r<e.length;r++)"ref"in e[r]&&(e[r]=Ve(e[r],t[e[r].ref]));return e}je.workerCount=2;const qe={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function Ze(e,t,r){r.push({command:qe.addSource,args:[e,t[e]]})}function $e(e,t,r){t.push({command:qe.removeSource,args:[e]}),r[e]=!0}function We(e,t,r,n){$e(e,r,n),Ze(e,t,r)}function Xe(e,r,n){let i;for(i in e[n])if(e[n].hasOwnProperty(i)&&"data"!==i&&!t(e[n][i],r[n][i]))return!1;for(i in r[n])if(r[n].hasOwnProperty(i)&&"data"!==i&&!t(e[n][i],r[n][i]))return!1;return!0}function He(e,r,n,i,o,a){let s;for(s in r=r||{},e=e||{})e.hasOwnProperty(s)&&(t(e[s],r[s])||n.push({command:a,args:[i,s,r[s],o]}));for(s in r)r.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t(e[s],r[s])||n.push({command:a,args:[i,s,r[s],o]}))}function Ye(e){return e.id}function Ke(e,t){return e[t.id]=t,e}class Je{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let r=1,n=this._distances[r];const i=t*this.paddedLength+this.padding;for(;n<i&&r<this._distances.length;)n=this._distances[++r];const o=r-1,a=this._distances[o],s=n-a,l=s>0?(i-a)/s:0;return this.points[o].mult(1-l).add(this.points[r].mult(l))}}class Qe{constructor(e,t,r){const n=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/r),this.yCellCount=Math.ceil(t/r);for(let e=0;e<this.xCellCount*this.yCellCount;e++)n.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,r,n,i){this._forEachCell(t,r,n,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)}insertCircle(e,t,r,n){this._forEachCell(t-n,r-n,t+n,r+n,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(r),this.circles.push(n)}_insertBoxCell(e,t,r,n,i,o){this.boxCells[i].push(o)}_insertCircleCell(e,t,r,n,i,o){this.circleCells[i].push(o)}_query(e,t,r,n,i,o){if(r<0||e>this.width||n<0||t>this.height)return!i&&[];const a=[];if(e<=0&&t<=0&&this.width<=r&&this.height<=n){if(i)return!0;for(let e=0;e<this.boxKeys.length;e++)a.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],r=this.circles[3*e+1],n=this.circles[3*e+2];a.push({key:this.circleKeys[e],x1:t-n,y1:r-n,x2:t+n,y2:r+n})}return o?a.filter(o):a}return this._forEachCell(e,t,r,n,this._queryCell,a,{hitTest:i,seenUids:{box:{},circle:{}}},o),i?a.length>0:a}_queryCircle(e,t,r,n,i){const o=e-r,a=e+r,s=t-r,l=t+r;if(a<0||o>this.width||l<0||s>this.height)return!n&&[];const c=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,c,{hitTest:n,circle:{x:e,y:t,radius:r},seenUids:{box:{},circle:{}}},i),n?c.length>0:c}query(e,t,r,n,i){return this._query(e,t,r,n,!1,i)}hitTest(e,t,r,n,i){return this._query(e,t,r,n,!0,i)}hitTestCircle(e,t,r,n){return this._queryCircle(e,t,r,!0,n)}_queryCell(e,t,r,n,i,o,a,s){const l=a.seenUids,c=this.boxCells[i];if(null!==c){const i=this.bboxes;for(const u of c)if(!l.box[u]){l.box[u]=!0;const c=4*u;if(e<=i[c+2]&&t<=i[c+3]&&r>=i[c+0]&&n>=i[c+1]&&(!s||s(this.boxKeys[u]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[u],x1:i[c],y1:i[c+1],x2:i[c+2],y2:i[c+3]})}}}const u=this.circleCells[i];if(null!==u){const i=this.circles;for(const c of u)if(!l.circle[c]){l.circle[c]=!0;const u=3*c;if(this._circleAndRectCollide(i[u],i[u+1],i[u+2],e,t,r,n)&&(!s||s(this.circleKeys[c]))){if(a.hitTest)return o.push(!0),!0;{const e=i[u],t=i[u+1],r=i[u+2];o.push({key:this.circleKeys[c],x1:e-r,y1:t-r,x2:e+r,y2:t+r})}}}}}_queryCellCircle(e,t,r,n,i,o,a,s){const l=a.circle,c=a.seenUids,u=this.boxCells[i];if(null!==u){const e=this.bboxes;for(const t of u)if(!c.box[t]){c.box[t]=!0;const r=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[r+0],e[r+1],e[r+2],e[r+3])&&(!s||s(this.boxKeys[t])))return o.push(!0),!0}}const h=this.circleCells[i];if(null!==h){const e=this.circles;for(const t of h)if(!c.circle[t]){c.circle[t]=!0;const r=3*t;if(this._circlesCollide(e[r],e[r+1],e[r+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[t])))return o.push(!0),!0}}}_forEachCell(e,t,r,n,i,o,a,s){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(r),h=this._convertToYCellCoord(n);for(let d=l;d<=u;d++)for(let l=c;l<=h;l++)if(i.call(this,e,t,r,n,this.xCellCount*l+d,o,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,r,n,i,o){const a=n-e,s=i-t,l=r+o;return l*l>a*a+s*s}_circleAndRectCollide(e,t,r,n,i,o,a){const s=(o-n)/2,l=Math.abs(e-(n+s));if(l>s+r)return!1;const c=(a-i)/2,u=Math.abs(t-(i+c));if(u>c+r)return!1;if(l<=s||u<=c)return!0;const h=l-s,d=u-c;return h*h+d*d<=r*r}}const et=Math.tan(85*Math.PI/180);function tt(t,r,n,i,o,a,s){const l=e.create();if(n)if("globe"===a.name){const t=e.calculateGlobeLabelMatrix(o,r);e.multiply(l,l,t)}else{const t=y([],s);l[0]=t[0],l[1]=t[1],l[4]=t[2],l[5]=t[3],i||e.rotateZ(l,l,o.angle)}else e.multiply(l,o.labelPlaneMatrix,t);return l}function rt(e,t,r,n,i,o,a){const s=tt(e,t,r,n,i,o,a);return"globe"===o.name&&r||(s[2]=s[6]=s[10]=s[14]=0),s}function nt(t,r,n,i,o,a,s){if(n){if("globe"===a.name){const l=tt(t,r,n,i,o,a,s);return e.invert(l,l),e.multiply(l,t,l),l}{const r=e.clone(t),n=e.identity([]);return n[0]=s[0],n[1]=s[1],n[4]=s[2],n[5]=s[3],e.multiply(r,r,n),i||e.rotateZ(r,r,-o.angle),r}}return o.glCoordMatrix}function it(t,r,n=0){const i=[t.x,t.y,n,1];n?e.transformMat4$1(i,i,r):_t(i,i,r);const o=i[3];return{point:[i[0]/o,i[1]/o,i[2]/o],signedDistanceFromCamera:o}}function ot(t,r){const n=[t[0],t[1],t[2],1];e.transformMat4$1(n,n,r);const i=n[3];return{point:[n[0]/i,n[1]/i,n[2]/i],signedDistanceFromCamera:i}}function at(e,t){return Math.min(.5+e/t*.5,1.5)}function st(e,t){const r=e[0]/e[3],n=e[1]/e[3];return r>=-t[0]&&r<=t[0]&&n>=-t[1]&&n<=t[1]}function lt(t,r,n,i,o,a,s,l,c,u){const h=n.transform,d=i?t.textSizeData:t.iconSizeData,p=e.evaluateSizeForZoom(d,n.transform.zoom),f="globe"===h.projection.name,m=[256/n.width*2+1,256/n.height*2+1],g=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;g.clear();let _=null;f&&(_=i?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);const y=t.lineVertexArray,v=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,x=n.transform.width/n.transform.height;let b=!1;for(let i=0;i<v.length;i++){const f=v.get(i);if(f.writingMode!==e.WritingMode.vertical||b||0!==i&&v.get(i-1).writingMode===e.WritingMode.horizontal||(b=!0),(f.hidden||f.writingMode===e.WritingMode.vertical)&&!b){gt(f.numGlyphs,g);continue}b=!1;const w=new e.pointGeometry(f.tileAnchorX,f.tileAnchorY),T=c?c(w):[0,0,0],E=h.projection.projectTilePoint(w.x,w.y,u.canonical),S=[E.x+T[0],E.y+T[1],E.z+T[2]],C=[...S,1];if(e.transformMat4$1(C,C,r),!st(C,m)){gt(f.numGlyphs,g);continue}const M=at(n.transform.cameraToCenterDistance,C[3]),k=e.evaluateSizeForFeature(d,p,f),A=s?k/M:k*M,I=it(new e.pointGeometry(S[0],S[1]),o,S[2]);if(I.signedDistanceFromCamera<=0){gt(f.numGlyphs,g);continue}let P={};const z=s?null:c,D=ht(f,A,!1,l,r,o,a,t.glyphOffsetArray,y,g,_,I.point,w,P,x,z,h.projection,u,s);b=D.useVertical,z&&D.needsFlipping&&(P={}),(D.notEnoughRoom||b||D.needsFlipping&&ht(f,A,!0,l,r,o,a,t.glyphOffsetArray,y,g,_,I.point,w,P,x,z,h.projection,u,s).notEnoughRoom)&&gt(f.numGlyphs,g)}i?(t.text.dynamicLayoutVertexBuffer.updateData(g),_&&t.text.globeExtVertexBuffer.updateData(_)):(t.icon.dynamicLayoutVertexBuffer.updateData(g),_&&t.icon.globeExtVertexBuffer.updateData(_))}function ct(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m){const g=s.glyphStartIndex+s.numGlyphs,_=s.lineStartIndex,y=s.lineStartIndex+s.lineLength,v=t.getoffsetX(s.glyphStartIndex),x=t.getoffsetX(g-1),b=ft(e*v,r,n,i,o,a,s.segment,_,y,l,c,u,h,d,!0,p,f,m);if(!b)return null;const w=ft(e*x,r,n,i,o,a,s.segment,_,y,l,c,u,h,d,!0,p,f,m);return w?{first:b,last:w}:null}function ut(t,r,n,i){return t.writingMode===e.WritingMode.horizontal&&Math.abs(n.y-r.y)>Math.abs(n.x-r.x)*i?{useVertical:!0}:t.writingMode===e.WritingMode.vertical?r.y<n.y?{needsFlipping:!0}:null:0!==t.flipState&&function(e,t,r){const n=(t.x-e.x)*r;return 0===n||Math.abs((t.y-e.y)/n)>et}(r,n,i)?1===t.flipState?{needsFlipping:!0}:null:r.x>n.x?{needsFlipping:!0}:null}function ht(t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y,v){const x=r/24,b=t.lineOffsetX*x,w=t.lineOffsetY*x;let T=[];if(t.numGlyphs>1){const r=t.glyphStartIndex+t.numGlyphs,o=t.lineStartIndex,u=t.lineStartIndex+t.lineLength,h=ct(x,l,b,w,n,d,p,t,c,a,f,g,!1,_,y,v);if(!h)return{notEnoughRoom:!0};const E=ot(h.first.point,s).point,S=ot(h.last.point,s).point,C=new e.pointGeometry(E[0],E[1]),M=new e.pointGeometry(S[0],S[1]);if(i&&!n){const e=ut(t,C,M,m);if(t.flipState=e&&e.needsFlipping?1:2,e)return e}T=[h.first];for(let e=t.glyphStartIndex+1;e<r-1;e++){const r=ft(x*l.getoffsetX(e),b,w,n,d,p,t.segment,o,u,c,a,f,g,!1,!1,_,y,v);if(!r)return{notEnoughRoom:!0};T.push(r)}T.push(h.last)}else{if(i&&!n){const r=it(p,o).point,n=t.lineStartIndex+t.segment+1,i=new e.pointGeometry(c.getx(n),c.gety(n)),a=it(i,o),s=a.signedDistanceFromCamera>0?a.point:pt(p,i,r,1,o,void 0,_,y.canonical),l=ut(t,new e.pointGeometry(r[0],r[1]),new e.pointGeometry(s[0],s[1]),m);if(t.flipState=l&&l.needsFlipping?1:2,l)return l}const r=ft(x*l.getoffsetX(t.glyphStartIndex),b,w,n,d,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,a,f,g,!1,!1,_,y,v);if(!r)return{notEnoughRoom:!0};T=[r]}if(h)for(const t of T)e.updateGlobeVertexNormal(h,u.length+0,t.up[0],t.up[1],t.up[2]),e.updateGlobeVertexNormal(h,u.length+1,t.up[0],t.up[1],t.up[2]),e.updateGlobeVertexNormal(h,u.length+2,t.up[0],t.up[1],t.up[2]),e.updateGlobeVertexNormal(h,u.length+3,t.up[0],t.up[1],t.up[2]),e.addDynamicAttributes(u,t.point[0],t.point[1],t.point[2],t.angle);else for(const t of T)e.addDynamicAttributes(u,t.point[0],t.point[1],t.point[2],t.angle);return{}}function dt(t,r,n,i,o){const a=i.projectTilePoint(t.x,t.y,r);if(!o)return it(a,n,a.z);const s=o(t);return it(new e.pointGeometry(a.x+s[0],a.y+s[1]),n,a.z+s[2])}function pt(t,r,n,i,o,a,s,l){const c=dt(t.add(t.sub(r)._unit()),l,o,s,a).point,u=e.sub([],n,c);return e.scaleAndAdd([],n,u,i/e.length(u))}function ft(t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_,y){const v=i?t-r:t+r;let x=v>0?1:-1,b=0;i&&(x*=-1,b=Math.PI),x<0&&(b+=Math.PI);let w=x>0?l+s:l+s+1,T=o,E=o,S=0,C=0;const M=Math.abs(v),k=[],A=[];let I=a;const P=()=>{const t=w-x;return 0===S?a:new e.pointGeometry(u.getx(t),u.gety(t))},z=()=>{const e=P();return pt(e,I||e,E,M-S+1,h,p,g,_.canonical)};for(;S+C<=M;){if(w+=x,w<l||w>=c)return null;if(E=T,k.push(T),f&&A.push(I||P()),T=d[w],void 0===T){I=new e.pointGeometry(u.getx(w),u.gety(w));const t=dt(I,_.canonical,h,g,p);T=t.signedDistanceFromCamera>0?d[w]=t.point:z()}else I=null;S+=C,C=e.distance(E,T)}I=I||new e.pointGeometry(u.getx(w),u.gety(w));const D=P();m&&p&&(d[w]=T=void 0===d[w]?T:z(),C=e.distance(E,T));const R=(M-S)/C,L=I.sub(D).mult(R)._add(D),O=e.sub([],T,E),B=e.scaleAndAdd([],E,O,R);let F=[0,0,1],j=O[0],U=O[1];if(y&&(F=g.upVector(_.canonical,L.x,L.y),0!==F[0]||0!==F[1]||1!==F[2])){const t=[1,0,0],r=[0,1,0];t[0]=F[2],t[1]=0,t[2]=-F[0],e.cross(r,F,t),e.normalize(t,t),e.normalize(r,r),j=e.dot(O,t),U=e.dot(O,r)}if(n){const t=e.cross([],F,O);e.normalize(t,t),e.scaleAndAdd(B,B,t,n*x)}const N=b+Math.atan2(U,j);return k.push(B),f&&A.push(L),{point:B,angle:N,path:k,tilePath:A,up:F}}const mt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function gt(e,t){for(let r=0;r<e;r++){const e=t.length;t.resize(e+4),t.float32.set(mt,4*e)}}function _t(e,t,r){const n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e[3]=r[3]*n+r[7]*i+r[15],e}const yt=100;class vt{constructor(e,t,r=new Qe(e.width+200,e.height+200,25),n=new Qe(e.width+200,e.height+200,25)){this.transform=e,this.grid=r,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+yt,this.screenBottomBoundary=e.height+yt,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t}placeCollisionBox(e,t,r,n,i,o,a,s){let l=r.projectedAnchorX,c=r.projectedAnchorY,u=r.projectedAnchorZ;const h=r.elevation,d=r.tileID;if(h&&d){const t=e.getProjection().upVector(d.canonical,r.tileAnchorX,r.tileAnchorY),n=e.getProjection().upVectorScale(d.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=t[0]*h*n,c+=t[1]*h*n,u+=t[2]*h*n}const p=this.projectAndGetPerspectiveRatio(a,[l,c,u],r.tileID,"globe"===e.projection.name||!!h||this.transform.pitch>0,e.getProjection()),f=o*p.perspectiveRatio,m=(r.x1*t+n.x-r.padding)*f+p.point.x,g=(r.y1*t+n.y-r.padding)*f+p.point.y,_=(r.x2*t+n.x+r.padding)*f+p.point.x,y=(r.y2*t+n.y+r.padding)*f+p.point.y,v=p.perspectiveRatio<=.55||p.occluded;return!this.isInsideGrid(m,g,_,y)||!i&&this.grid.hitTest(m,g,_,y,s)||v?{box:[],offscreen:!1,occluded:p.occluded}:{box:[m,g,_,y],offscreen:this.isOffscreen(m,g,_,y),occluded:!1}}placeCollisionCircles(t,r,n,i,o,a,s,l,c,u,h,d,p,f,m){const g=[],_=this.transform.elevation,y=_?_.getAtTileOffsetFunc(m,this.transform.center.lat,this.transform.worldSize,t.getProjection()):e=>[0,0,0],v=new e.pointGeometry(n.tileAnchorX,n.tileAnchorY),x=t.getProjection().projectTilePoint(n.tileAnchorX,n.tileAnchorY,m.canonical),b=y(v),w=[x.x+b[0],x.y+b[1],x.z+b[2]],T="globe"===t.projection.name,E=this.projectAndGetPerspectiveRatio(s,[w[0],w[1],w[2]],m,T||!!_||this.transform.pitch>0,t.getProjection()),{perspectiveRatio:S}=E,C=(h?a/S:a*S)/e.ONE_EM,M=it(new e.pointGeometry(w[0],w[1]),l,w[2]).point,k=E.signedDistanceFromCamera>0?ct(C,o,n.lineOffsetX*C,n.lineOffsetY*C,!1,M,v,n,i,l,{},_&&!h?y:null,h&&!!_,t.getProjection(),m,h):null;let A=!1,I=!1,P=!0;if(k&&!E.occluded){const t=.5*p*S+f,n=new e.pointGeometry(-100,-100),i=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),o=new Je,a=k.first,s=k.last;let l=[];for(let e=a.path.length-1;e>=1;e--)l.push(a.path[e]);for(let e=1;e<s.path.length;e++)l.push(s.path[e]);const h=2.5*t;if(c){const e=l.map(_&&!T?(e,t)=>{const r=y(t<a.path.length-1?a.tilePath[a.path.length-1-t]:s.tilePath[t-a.path.length+2]);return e[2]=r[2],ot(e,c)}:e=>ot(e,c));l=e.some(e=>e.signedDistanceFromCamera<=0)?[]:e.map(e=>e.point)}let m=[];if(l.length>0){const t=l.map(t=>new e.pointGeometry(t[0],t[1]));let r=1/0,o=-1/0,a=1/0,s=-1/0;for(let e=0;e<t.length;e++)r=Math.min(r,t[e].x),a=Math.min(a,t[e].y),o=Math.max(o,t[e].x),s=Math.max(s,t[e].y);m=r>=n.x&&o<=i.x&&a>=n.y&&s<=i.y?[t]:o<n.x||r>i.x||s<n.y||a>i.y?[]:e.clipLine([t],n.x,n.y,i.x,i.y)}for(const e of m){o.reset(e,.25*t);let n=0;n=o.length<=.5*t?1:Math.ceil(o.paddedLength/h)+1;for(let e=0;e<n;e++){const i=e/Math.max(n-1,1),a=o.lerp(i),s=a.x+yt,l=a.y+yt;g.push(s,l,t,0);const c=s-t,h=l-t,p=s+t,f=l+t;if(P=P&&this.isOffscreen(c,h,p,f),I=I||this.isInsideGrid(c,h,p,f),!r&&this.grid.hitTestCircle(s,l,t,d)&&(A=!0,!u))return{circles:[],offscreen:!1,collisionDetected:A,occluded:!1}}}}return{circles:!u&&A||!I?[]:g,offscreen:P,collisionDetected:A,occluded:E.occluded}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const r=[];let n=1/0,i=1/0,o=-1/0,a=-1/0;for(const s of t){const t=new e.pointGeometry(s.x+yt,s.y+yt);n=Math.min(n,t.x),i=Math.min(i,t.y),o=Math.max(o,t.x),a=Math.max(a,t.y),r.push(t)}const s=this.grid.query(n,i,o,a).concat(this.ignoredGrid.query(n,i,o,a)),l={},c={};for(const t of s){const n=t.key;if(void 0===l[n.bucketInstanceId]&&(l[n.bucketInstanceId]={}),l[n.bucketInstanceId][n.featureIndex])continue;const i=[new e.pointGeometry(t.x1,t.y1),new e.pointGeometry(t.x2,t.y1),new e.pointGeometry(t.x2,t.y2),new e.pointGeometry(t.x1,t.y2)];e.polygonIntersectsPolygon(r,i)&&(l[n.bucketInstanceId][n.featureIndex]=!0,void 0===c[n.bucketInstanceId]&&(c[n.bucketInstanceId]=[]),c[n.bucketInstanceId].push(n.featureIndex))}return c}insertCollisionBox(e,t,r,n,i){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:r,featureIndex:n,collisionGroupID:i},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,r,n,i){const o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:r,featureIndex:n,collisionGroupID:i};for(let t=0;t<e.length;t+=4)o.insertCircle(a,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(t,r,n,i,o){const a=[r[0],r[1],r[2],1];let s=!1;if(r[2]||this.transform.pitch>0){e.transformMat4$1(a,a,t);const i="globe"===o.name;this.fogState&&n&&!i&&(s=function(t,r,n,i,o,a){const s=a.calculateFogTileMatrix(o),l=[r,n,i];return e.transformMat4(l,l,s),M(t,l,a.pitch,a._fov)}(this.fogState,r[0],r[1],r[2],n.toUnwrapped(),this.transform)>.9)}else _t(a,a,t);return{point:new e.pointGeometry((a[0]/a[3]+1)/2*this.transform.width+yt,(-a[1]/a[3]+1)/2*this.transform.height+yt),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(o)/a[3]*.5,1.5),signedDistanceFromCamera:a[3],occluded:i&&a[2]>a[3]||s}}isOffscreen(e,t,r,n){return r<yt||e>=this.screenRightBoundary||n<yt||t>this.screenBottomBoundary}isInsideGrid(e,t,r,n){return r>=0&&e<this.gridRightBoundary&&n>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function xt(t,r,n){const i=r.createTileMatrix(t,t.worldSize,n.toUnwrapped());return e.multiply(new Float32Array(16),t.projMatrix,i)}function bt(e,t,r){if(t.projection.name===r.projection.name)return e.projMatrix;const n=r.clone();return n.setProjection(t.projection),xt(n,t.getProjection(),e)}function wt(e,t,r){return t.name===r.projection.name?e.projMatrix:xt(r,t,e)}class Tt{constructor(e,t,r,n){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):n&&r?1:0,this.placed=r}isHidden(){return 0===this.opacity&&!this.placed}}class Et{constructor(e,t,r,n,i,o=!1){this.text=new Tt(e?e.text:null,t,r,i),this.icon=new Tt(e?e.icon:null,t,n,i),this.clipped=o}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class St{constructor(e,t,r,n=!1){this.text=e,this.icon=t,this.skipFade=r,this.clipped=n}}class Ct{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class Mt{constructor(e,t,r,n,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=r,this.bucketIndex=n,this.tileID=i}}class kt{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function At(t,r,n,i,o){const{horizontalAlign:a,verticalAlign:s}=e.getAnchorAlignment(t),l=-(a-.5)*r,c=-(s-.5)*n,u=e.evaluateVariableOffset(t,i);return new e.pointGeometry(l+u[0]*o,c+u[1]*o)}function It(t,r,n,i,o){const a=new e.pointGeometry(t,r);return n&&a._rotate(i?o:-o),a}class Pt{constructor(e,t,r,n,i){this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new vt(this.transform,i),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new kt(r),this.collisionCircleArrays={},this.prevPlacement=n,n&&(n.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,r,n,i){const o=n.getBucket(r),a=n.latestFeatureIndex;if(!o||!a||r.id!==o.layerIds[0])return;const s=o.layers[0].layout,l=n.collisionBoxArray,c=Math.pow(2,this.transform.zoom-n.tileID.overscaledZ),u=n.tileSize/e.EXTENT,h=n.tileID.toUnwrapped();this.transform.setProjection(o.projection);const d=(p=n.tileID,f=o.getProjection(),m=this.transform,f.name===this.projection?m.calculateProjMatrix(p.toUnwrapped()):xt(m,f,p));var p,f,m;const g="map"===s.get("text-pitch-alignment"),_="map"===s.get("text-rotation-alignment");r.compileFilter();const y=r.dynamicFilter(),v=r.dynamicFilterNeedsFeature(),x=this.transform.calculatePixelsToTileUnitsMatrix(n),b=rt(d,n.tileID.canonical,g,_,this.transform,o.getProjection(),x);let w=null;if(g){const t=nt(d,n.tileID.canonical,g,_,this.transform,o.getProjection(),x);w=e.multiply([],this.transform.labelPlaneMatrix,t)}let T=null;y&&n.latestFeatureIndex&&(T={unwrappedTileID:h,dynamicFilter:y,dynamicFilterNeedsFeature:v,featureIndex:n.latestFeatureIndex}),this.retainedQueryData[o.bucketInstanceId]=new Mt(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,n.tileID);const E={bucket:o,layout:s,posMatrix:d,textLabelPlaneMatrix:b,labelToScreenMatrix:w,clippingData:T,scale:c,textPixelRatio:u,holdingForFade:n.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(o.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(const e of o.sortKeyRanges){const{sortKey:r,symbolInstanceStart:n,symbolInstanceEnd:i}=e;t.push({sortKey:r,symbolInstanceStart:n,symbolInstanceEnd:i,parameters:E})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:E})}attemptAnchorPlacement(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_){const y=[h.textOffset0,h.textOffset1],v=At(e,r,n,y,i),x=this.collisionIndex.placeCollisionBox(p,i,t,It(v.x,v.y,o,a,this.transform.angle),u,s,l,c.predicate);if(m){const e=p.getSymbolInstanceIconSize(_,this.transform.zoom,h.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(p,e,m,It(v.x,v.y,o,a,this.transform.angle),u,s,l,c.predicate).box.length)return}if(x.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(t=this.prevPlacement.variableOffsets[h.crossTileID].anchor),this.variableOffsets[h.crossTileID]={textOffset:y,width:r,height:n,anchor:e,textScale:i,prevAnchor:t},this.markUsedJustification(p,e,h,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,h),this.placedOrientations[h.crossTileID]=f),{shift:v,placedGlyphBoxes:x}}}placeLayerBucketPart(t,r,n,i){const{bucket:o,layout:a,posMatrix:s,textLabelPlaneMatrix:l,labelToScreenMatrix:c,clippingData:u,textPixelRatio:h,holdingForFade:d,collisionBoxArray:p,partiallyEvaluatedTextSize:f,partiallyEvaluatedIconSize:m,collisionGroup:g}=t.parameters,_=a.get("text-optional"),y=a.get("icon-optional"),v=a.get("text-allow-overlap"),x=a.get("icon-allow-overlap"),b="map"===a.get("text-rotation-alignment"),w="map"===a.get("text-pitch-alignment"),T="none"!==a.get("icon-text-fit"),E="viewport-y"===a.get("symbol-z-order");this.transform.setProjection(o.projection);let S=v&&(x||!o.hasIconData()||y),C=x&&(v||!o.hasTextData()||_);!o.collisionArrays&&p&&o.deserializeCollisionBoxes(p),n&&i&&o.updateCollisionDebugBuffers(this.transform.zoom,p);const M=(t,i,p)=>{if(u){const n={zoom:this.transform.zoom,pitch:this.transform.pitch};let i=null;if(u.dynamicFilterNeedsFeature){const e=this.retainedQueryData[o.bucketInstanceId];i=u.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:e.bucketIndex,sourceLayerIndex:e.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,u.dynamicFilter)(n,i,this.retainedQueryData[o.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),this.transform.calculateDistanceTileData(u.unwrappedTileID)))return this.placements[t.crossTileID]=new St(!1,!1,!1,!0),void(r[t.crossTileID]=!0)}if(r[t.crossTileID])return;if(d)return void(this.placements[t.crossTileID]=new St(!1,!1,!1));let E=!1,M=!1,k=!0,A=!1,I=!1,P=null,z={box:null,offscreen:null,occluded:null},D={box:null,offscreen:null,occluded:null},R=null,L=null,O=null,B=0,F=0,j=0;p.textFeatureIndex?B=p.textFeatureIndex:t.useRuntimeCollisionCircles&&(B=t.featureIndex),p.verticalTextFeatureIndex&&(F=p.verticalTextFeatureIndex);const U=e=>{e.tileID=this.retainedQueryData[o.bucketInstanceId].tileID,(this.transform.elevation||e.elevation)&&(e.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[o.bucketInstanceId].tileID,e.tileAnchorX,e.tileAnchorY):0)},N=p.textBox;if(N){U(N);const r=r=>{let n=e.WritingMode.horizontal;if(o.allowVerticalPlacement&&!r&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[t.crossTileID];e&&(this.placedOrientations[t.crossTileID]=e,n=e,this.markUsedOrientation(o,n,t))}return n},n=(r,n)=>{if(o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&p.verticalTextBox){for(const t of o.writingModes)if(t===e.WritingMode.vertical?(z=n(),D=z):z=r(),z&&z.box&&z.box.length)break}else z=r()};if(a.get("text-variable-anchor")){let l=a.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[t.crossTileID]){const e=this.prevPlacement.variableOffsets[t.crossTileID];l.indexOf(e.anchor)>0&&(l=l.filter(t=>t!==e.anchor),l.unshift(e.anchor))}const c=(e,r,n)=>{const a=o.getSymbolInstanceTextSize(f,t,this.transform.zoom,i),c=(e.x2-e.x1)*a+2*e.padding,u=(e.y2-e.y1)*a+2*e.padding,d=T&&!x?r:null;d&&U(d);let p={box:[],offscreen:!1,occluded:!1};const _=v?2*l.length:l.length;for(let r=0;r<_;++r){const _=this.attemptAnchorPlacement(l[r%l.length],e,c,u,a,b,w,h,s,g,r>=l.length,t,i,o,n,d,f,m);if(_&&(p=_.placedGlyphBoxes,p&&p.box&&p.box.length)){E=!0,P=_.shift;break}}return p};n(()=>c(N,p.iconBox,e.WritingMode.horizontal),()=>{const r=p.verticalTextBox;return r&&U(r),o.allowVerticalPlacement&&!(z&&z.box&&z.box.length)&&t.numVerticalGlyphVertices>0&&r?c(r,p.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),z&&(E=z.box,k=z.offscreen,A=z.occluded);const u=r(z&&z.box);if(!E&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[t.crossTileID];e&&(this.variableOffsets[t.crossTileID]=e,this.markUsedJustification(o,e.anchor,t,u))}}else{const a=(r,n)=>{const a=o.getSymbolInstanceTextSize(f,t,this.transform.zoom,i),l=this.collisionIndex.placeCollisionBox(o,a,r,new e.pointGeometry(0,0),v,h,s,g.predicate);return l&&l.box&&l.box.length&&(this.markUsedOrientation(o,n,t),this.placedOrientations[t.crossTileID]=n),l};n(()=>a(N,e.WritingMode.horizontal),()=>{const r=p.verticalTextBox;return o.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&r?(U(r),a(r,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),r(z&&z.box&&z.box.length)}}if(R=z,E=R&&R.box&&R.box.length>0,k=R&&R.offscreen,A=R&&R.occluded,t.useRuntimeCollisionCircles){const r=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),i=e.evaluateSizeForFeature(o.textSizeData,f,r),u=a.get("text-padding");L=this.collisionIndex.placeCollisionCircles(o,v,r,o.lineVertexArray,o.glyphOffsetArray,i,s,l,c,n,w,g.predicate,t.collisionCircleDiameter*i/e.ONE_EM,u,this.retainedQueryData[o.bucketInstanceId].tileID),E=v||L.circles.length>0&&!L.collisionDetected,k=k&&L.offscreen,A=L.occluded}if(p.iconFeatureIndex&&(j=p.iconFeatureIndex),p.iconBox){const r=r=>{U(r);const n=T&&P?It(P.x,P.y,b,w,this.transform.angle):new e.pointGeometry(0,0),i=o.getSymbolInstanceIconSize(m,this.transform.zoom,t.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(o,i,r,n,x,h,s,g.predicate)};D&&D.box&&D.box.length&&p.verticalIconBox?(O=r(p.verticalIconBox),M=O.box.length>0):(O=r(p.iconBox),M=O.box.length>0),k=k&&O.offscreen,I=O.occluded}const V=_||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,G=y||0===t.numIconVertices;if(V||G?G?V||(M=M&&E):E=M&&E:M=E=M&&E,E&&R&&R.box&&this.collisionIndex.insertCollisionBox(R.box,a.get("text-ignore-placement"),o.bucketInstanceId,D&&D.box&&F?F:B,g.ID),M&&O&&this.collisionIndex.insertCollisionBox(O.box,a.get("icon-ignore-placement"),o.bucketInstanceId,j,g.ID),L&&(E&&this.collisionIndex.insertCollisionCircles(L.circles,a.get("text-ignore-placement"),o.bucketInstanceId,B,g.ID),n)){const e=o.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new Ct);for(let e=0;e<L.circles.length;e+=4)t.circles.push(L.circles[e+0]),t.circles.push(L.circles[e+1]),t.circles.push(L.circles[e+2]),t.circles.push(L.collisionDetected?1:0)}const q="globe"!==o.projection.name;S=S&&(q||!A),C=C&&(q||!I),this.placements[t.crossTileID]=new St(E||S,M||C,k||o.justReloaded),r[t.crossTileID]=!0};if(E){const e=o.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const r=e[t];M(o.symbolInstances.get(r),r,o.collisionArrays[r])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)M(o.symbolInstances.get(e),e,o.collisionArrays[e]);if(n&&o.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[o.bucketInstanceId];e.invert(t.invProjMatrix,s),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1}markUsedJustification(t,r,n,i){let o;o=i===e.WritingMode.vertical?n.verticalPlacedTextSymbolIndex:{left:n.leftJustifiedTextSymbolIndex,center:n.centerJustifiedTextSymbolIndex,right:n.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(r)];const a=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex,n.verticalPlacedTextSymbolIndex];for(const e of a)e>=0&&(t.text.placedSymbolArray.get(e).crossTileID=o>=0&&e!==o?0:n.crossTileID)}markUsedOrientation(t,r,n){const i=r===e.WritingMode.horizontal||r===e.WritingMode.horizontalOnly?r:0,o=r===e.WritingMode.vertical?r:0,a=[n.leftJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.rightJustifiedTextSymbolIndex].filter(e=>-1!==e);for(const e of a)t.text.placedSymbolArray.get(e).placedOrientation=i;-1!==n.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).placedOrientation=o)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let r=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const n=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],o=i[e];o?(this.opacities[e]=new Et(o,n,t.text,t.icon,null,t.clipped),r=r||t.text!==o.text.placed||t.icon!==o.icon.placed):(this.opacities[e]=new Et(null,n,t.text,t.icon,t.skipFade,t.clipped),r=r||t.text||t.icon)}for(const e in i){const t=i[e];if(!this.opacities[e]){const i=new Et(t,n,!1,!1);i.isHidden()||(this.opacities[e]=i,r=r||t.text.placed||t.icon.placed)}}for(const e in o)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=o[e]);for(const e in a)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=a[e]);r?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const r={};for(const n of t){const t=n.getBucket(e);t&&n.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,r,n.collisionBoxArray)}}updateBucketOpacities(t,r,n){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const i=t.layers[0].layout,o=!!t.layers[0].dynamicFilter(),a=new Et(null,0,!1,!1,!0),s=i.get("text-allow-overlap"),l=i.get("icon-allow-overlap"),c=i.get("text-variable-anchor"),u="map"===i.get("text-rotation-alignment"),h="map"===i.get("text-pitch-alignment"),d="none"!==i.get("icon-text-fit"),p=new Et(null,0,s&&(l||!t.hasIconData()||i.get("icon-optional")),l&&(s||!t.hasTextData()||i.get("text-optional")),!0);!t.collisionArrays&&n&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(n);const f=(e,t,r)=>{for(let n=0;n<t/4;n++)e.opacityVertexArray.emplaceBack(r)};let m=0;for(let n=0;n<t.symbolInstances.length;n++){const i=t.symbolInstances.get(n),{numHorizontalGlyphVertices:s,numVerticalGlyphVertices:l,crossTileID:g}=i;let _=this.opacities[g];r[g]?_=a:_||(_=p,this.opacities[g]=_),r[g]=!0;const y=s>0||l>0,v=i.numIconVertices>0,x=this.placedOrientations[i.crossTileID],b=x===e.WritingMode.vertical,w=x===e.WritingMode.horizontal||x===e.WritingMode.horizontalOnly;if(!y&&!v||_.isHidden()||m++,y){const e=Ut(_.text);f(t.text,s,b?Nt:e),f(t.text,l,w?Nt:e);const r=_.text.isHidden();[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach(e=>{e>=0&&(t.text.placedSymbolArray.get(e).hidden=r||b?1:0)}),i.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).hidden=r||w?1:0);const n=this.variableOffsets[i.crossTileID];n&&this.markUsedJustification(t,n.anchor,i,x);const o=this.placedOrientations[i.crossTileID];o&&(this.markUsedJustification(t,"left",i,o),this.markUsedOrientation(t,o,i))}if(v){const e=Ut(_.icon);i.placedIconSymbolIndex>=0&&(f(t.icon,i.numIconVertices,b?Nt:e),t.icon.placedSymbolArray.get(i.placedIconSymbolIndex).hidden=_.icon.isHidden()),i.verticalPlacedIconSymbolIndex>=0&&(f(t.icon,i.numVerticalIconVertices,w?Nt:e),t.icon.placedSymbolArray.get(i.verticalPlacedIconSymbolIndex).hidden=_.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const r=t.collisionArrays[n];if(r){let n=new e.pointGeometry(0,0),i=!0;if(r.textBox||r.verticalTextBox){if(c){const e=this.variableOffsets[g];e?(n=At(e.anchor,e.width,e.height,e.textOffset,e.textScale),u&&n._rotate(h?this.transform.angle:-this.transform.angle)):i=!1}o&&(i=!_.clipped),r.textBox&&zt(t.textCollisionBox.collisionVertexArray,_.text.placed,!i||b,n.x,n.y),r.verticalTextBox&&zt(t.textCollisionBox.collisionVertexArray,_.text.placed,!i||w,n.x,n.y)}const a=i&&Boolean(!w&&r.verticalIconBox);r.iconBox&&zt(t.iconCollisionBox.collisionVertexArray,_.icon.placed,a,d?n.x:0,d?n.y:0),r.verticalIconBox&&zt(t.iconCollisionBox.collisionVertexArray,_.icon.placed,!a,d?n.x:0,d?n.y:0)}}}if(t.fullyClipped=0===m,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const r=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*r>e}setStale(){this.stale=!0}}function zt(e,t,r,n,i){e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0),e.emplaceBack(t?1:0,r?1:0,n||0,i||0)}const Dt=Math.pow(2,25),Rt=Math.pow(2,24),Lt=Math.pow(2,17),Ot=Math.pow(2,16),Bt=Math.pow(2,9),Ft=Math.pow(2,8),jt=Math.pow(2,1);function Ut(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,r=Math.floor(127*e.opacity);return r*Dt+t*Rt+r*Lt+t*Ot+r*Bt+t*Ft+r*jt+t}const Nt=0;class Vt{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,r,n,i){const o=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(o,n,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((e,t)=>e.sortKey-t.sortKey));this._currentPartIndex<o.length;){const e=o[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,r,0===e.symbolInstanceStart),this._currentPartIndex++,i())return!0}return!1}}class Gt{constructor(e,t,r,n,i,o,a,s){this.placement=new Pt(e,i,o,a,s),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=n,this._done=!1}isDone(){return this._done}continuePlacement(t,r,n){const i=e.exported.now(),o=()=>{const t=e.exported.now()-i;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=r[t[this._currentPlacementIndex]],i=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=i)&&(!e.maxzoom||e.maxzoom>i)){if(this._inProgressLayer||(this._inProgressLayer=new Vt(e)),this._inProgressLayer.continuePlacement(n[e.source],this.placement,this._showCollisionBoxes,e,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const qt=512/e.EXTENT/2;class Zt{constructor(e,t,r){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=r;for(let r=0;r<t.length;r++){const n=t.get(r),i=n.key;this.indexedSymbolInstances[i]||(this.indexedSymbolInstances[i]=[]),this.indexedSymbolInstances[i].push({crossTileID:n.crossTileID,coord:this.getScaledCoordinates(n,e)})}}getScaledCoordinates(t,r){const n=qt/Math.pow(2,r.canonical.z-this.tileID.canonical.z);return{x:Math.floor((r.canonical.x*e.EXTENT+t.tileAnchorX)*n),y:Math.floor((r.canonical.y*e.EXTENT+t.tileAnchorY)*n)}}findMatches(e,t,r){const n=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let i=0;i<e.length;i++){const o=e.get(i);if(o.crossTileID)continue;const a=this.indexedSymbolInstances[o.key];if(!a)continue;const s=this.getScaledCoordinates(o,t);for(const e of a)if(Math.abs(e.coord.x-s.x)<=n&&Math.abs(e.coord.y-s.y)<=n&&!r[e.crossTileID]){r[e.crossTileID]=!0,o.crossTileID=e.crossTileID;break}}}}class $t{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Wt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const r=this.indexes[e],n={};for(const e in r){const i=r[e];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),n[i.tileID.key]=i}this.indexes[e]=n}this.lng=e}addBucket(e,t,r){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const n=this.usedCrossTileIDs[e.overscaledZ];for(const r in this.indexes){const i=this.indexes[r];if(Number(r)>e.overscaledZ)for(const r in i){const o=i[r];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,n)}else{const o=i[e.scaledTo(Number(r)).key];o&&o.findMatches(t.symbolInstances,e,n)}}for(let e=0;e<t.symbolInstances.length;e++){const i=t.symbolInstances.get(e);i.crossTileID||(i.crossTileID=r.generate(),n[i.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Zt(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const r in t.indexedSymbolInstances)for(const n of t.indexedSymbolInstances[r])delete this.usedCrossTileIDs[e][n.crossTileID]}removeStaleBuckets(e){let t=!1;for(const r in this.indexes){const n=this.indexes[r];for(const i in n)e[n[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(r,n[i]),delete n[i],t=!0)}return t}}class Xt{constructor(){this.layerIndexes={},this.crossTileIDs=new $t,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,r,n){let i=this.layerIndexes[e.id];void 0===i&&(i=this.layerIndexes[e.id]=new Wt);let o=!1;const a={};"globe"!==n.name&&i.handleWrapJump(r);for(const r of t){const t=r.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(r.tileID,t,this.crossTileIDs)&&(o=!0),a[t.bucketInstanceId]=!0)}return i.removeStaleBuckets(a)&&(o=!0),o}pruneUnusedLayers(e){const t={};e.forEach(e=>{t[e]=!0});for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e]}}const Ht=(t,r)=>e.emitValidationErrors(t,r&&r.filter(e=>"source.canvas"!==e.identifier)),Yt=e.pick(qe,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Kt=e.pick(qe,["setCenter","setZoom","setBearing","setPitch"]),Jt={version:8,layers:[],sources:{}},Qt={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class er extends e.Evented{constructor(t,r={}){super(),this.map=t,this.dispatcher=new z(Ne(),this),this.imageManager=new x,this.imageManager.setEventedParent(this),this.glyphManager=new e.GlyphManager(t._requestManager,r.localFontFamily?e.LocalGlyphMode.all:r.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,r.localFontFamily||r.localIdeographFontFamily),this.crossTileSymbolIndex=new Xt,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const n=this;this._rtlTextPluginCallback=er.registerForPluginStateChange(t=>{n.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(t,r)=>{if(e.triggerPluginCompletionEvent(t),r&&r.every(e=>e))for(const e in n._sourceCaches){const t=n._sourceCaches[e],r=t.getSource().type;"vector"!==r&&"geojson"!==r||t.reload()}})}),this.on("data",e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(const e in this._layers){const r=this._layers[e];r.source===t.id&&this._validateLayer(r)}})}loadURL(t,r={}){this.fire(new e.Event("dataloading",{dataType:"style"}));const n="boolean"==typeof r.validate?r.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,r.accessToken);const i=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(i,(t,r)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):r&&this._load(r,n)})}loadJSON(t,r={}){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame(()=>{this._request=null,this._load(t,!1!==r.validate)})}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Jt,!1)}_updateLayerCount(e,t){const r=t?1:-1;e.is3D()&&(this._num3DLayers+=r),"circle"===e.type&&(this._numCircleLayers+=r),"symbol"===e.type&&(this._numSymbolLayers+=r)}_load(t,r){if(r&&Ht(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=e.clone$1(t),this._updateMapProjection();for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);const n=Ge(this.stylesheet.layers);this._order=n.map(e=>e.id),this._layers={},this._serializedLayers={};for(let t of n)t=e.createStyleLayer(t),t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize(),this._updateLayerCount(t,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(t){this._spriteRequest=function(t,r,n){let i,o,a;const s=e.exported.devicePixelRatio>1?"@2x":"";let l=e.getJSON(r.transformRequest(r.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(e,t)=>{l=null,a||(a=e,i=t,u())}),c=e.getImage(r.transformRequest(r.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(e,t)=>{c=null,a||(a=e,o=t,u())});function u(){if(a)n(a);else if(i&&o){const t=e.exported.getImageData(o),r={};for(const n in i){const{width:o,height:a,x:s,y:l,sdf:c,pixelRatio:u,stretchX:h,stretchY:d,content:p}=i[n],f=new e.RGBAImage({width:o,height:a});e.RGBAImage.copy(t,f,{x:s,y:l},{x:0,y:0},{width:o,height:a}),r[n]={data:f,pixelRatio:u,sdf:c,stretchX:h,stretchY:d,content:p}}n(null,r)}}return{cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,(t,r)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(r)for(const e in r)this.imageManager.addImage(e,r[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new e.Event("data",{dataType:"style"}))})}_validateLayer(t){const r=this.getSource(t.source);if(!r)return;const n=t.sourceLayer;n&&("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(n))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${n}" does not exist on source "${r.id}" as specified by style layer "${t.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const r of e){const e=this._layers[r];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(e){return!!this.terrain&&Qt[e.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(t){if(!this._loaded)return;const r=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);(e.length||r.length)&&this._updateWorkerLayers(e,r);for(const e in this._updatedSources){const t=this._updatedSources[e];"reload"===t?this._reloadSource(e):"clear"===t&&this._clearSource(e)}this._updateTilesForChangedImages();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}const n={};for(const e in this._sourceCaches){const t=this._sourceCaches[e];n[e]=t.used,t.used=!1}for(const e of this._order){const r=this._layers[e];if(r.recalculate(t,this._availableImages),!r.isHidden(t.zoom)){const e=this._getLayerSourceCache(r);e&&(e.used=!0)}const n=this.map.painter;if(n){const e=r.getProgramIds();if(!e)continue;const i=r.getProgramConfiguration(t.zoom);for(const t of e)n.useProgram(t,i)}}for(const t in n){const r=this._sourceCaches[t];n[t]!==r.used&&r.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:r.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),r&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(r){if(this._checkLoaded(),Ht(this,e.validateStyle(r)))return!1;(r=e.clone$1(r)).layers=Ge(r.layers);const n=function(e,r){if(!e)return[{command:qe.setStyle,args:[r]}];let n=[];try{if(!t(e.version,r.version))return[{command:qe.setStyle,args:[r]}];t(e.center,r.center)||n.push({command:qe.setCenter,args:[r.center]}),t(e.zoom,r.zoom)||n.push({command:qe.setZoom,args:[r.zoom]}),t(e.bearing,r.bearing)||n.push({command:qe.setBearing,args:[r.bearing]}),t(e.pitch,r.pitch)||n.push({command:qe.setPitch,args:[r.pitch]}),t(e.sprite,r.sprite)||n.push({command:qe.setSprite,args:[r.sprite]}),t(e.glyphs,r.glyphs)||n.push({command:qe.setGlyphs,args:[r.glyphs]}),t(e.transition,r.transition)||n.push({command:qe.setTransition,args:[r.transition]}),t(e.light,r.light)||n.push({command:qe.setLight,args:[r.light]}),t(e.fog,r.fog)||n.push({command:qe.setFog,args:[r.fog]}),t(e.projection,r.projection)||n.push({command:qe.setProjection,args:[r.projection]});const i={},o=[];!function(e,r,n,i){let o;for(o in r=r||{},e=e||{})e.hasOwnProperty(o)&&(r.hasOwnProperty(o)||$e(o,n,i));for(o in r)r.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t(e[o],r[o])||("geojson"===e[o].type&&"geojson"===r[o].type&&Xe(e,r,o)?n.push({command:qe.setGeoJSONSourceData,args:[o,r[o].data]}):We(o,r,n,i)):Ze(o,r,n))}(e.sources,r.sources,o,i);const a=[];e.layers&&e.layers.forEach(e=>{e.source&&i[e.source]?n.push({command:qe.removeLayer,args:[e.id]}):a.push(e)});let s=e.terrain;s&&i[s.source]&&(n.push({command:qe.setTerrain,args:[void 0]}),s=void 0),n=n.concat(o),t(s,r.terrain)||n.push({command:qe.setTerrain,args:[r.terrain]}),function(e,r,n){r=r||[];const i=(e=e||[]).map(Ye),o=r.map(Ye),a=e.reduce(Ke,{}),s=r.reduce(Ke,{}),l=i.slice(),c=Object.create(null);let u,h,d,p,f,m,g;for(u=0,h=0;u<i.length;u++)d=i[u],s.hasOwnProperty(d)?h++:(n.push({command:qe.removeLayer,args:[d]}),l.splice(l.indexOf(d,h),1));for(u=0,h=0;u<o.length;u++)d=o[o.length-1-u],l[l.length-1-u]!==d&&(a.hasOwnProperty(d)?(n.push({command:qe.removeLayer,args:[d]}),l.splice(l.lastIndexOf(d,l.length-h),1)):h++,m=l[l.length-u],n.push({command:qe.addLayer,args:[s[d],m]}),l.splice(l.length-u,0,d),c[d]=!0);for(u=0;u<o.length;u++)if(d=o[u],p=a[d],f=s[d],!c[d]&&!t(p,f))if(t(p.source,f.source)&&t(p["source-layer"],f["source-layer"])&&t(p.type,f.type)){for(g in He(p.layout,f.layout,n,d,null,qe.setLayoutProperty),He(p.paint,f.paint,n,d,null,qe.setPaintProperty),t(p.filter,f.filter)||n.push({command:qe.setFilter,args:[d,f.filter]}),t(p.minzoom,f.minzoom)&&t(p.maxzoom,f.maxzoom)||n.push({command:qe.setLayerZoomRange,args:[d,f.minzoom,f.maxzoom]}),p)p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?He(p[g],f[g],n,d,g.slice(6),qe.setPaintProperty):t(p[g],f[g])||n.push({command:qe.setLayerProperty,args:[d,g,f[g]]}));for(g in f)f.hasOwnProperty(g)&&!p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?He(p[g],f[g],n,d,g.slice(6),qe.setPaintProperty):t(p[g],f[g])||n.push({command:qe.setLayerProperty,args:[d,g,f[g]]}))}else n.push({command:qe.removeLayer,args:[d]}),m=l[l.lastIndexOf(d)+1],n.push({command:qe.addLayer,args:[f,m]})}(a,r.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:qe.setStyle,args:[r]}]}return n}(this.serialize(),r).filter(e=>!(e.command in Kt));if(0===n.length)return!1;const i=n.filter(e=>!(e.command in Yt));if(i.length>0)throw new Error(`Unimplemented: ${i.map(e=>e.command).join(", ")}.`);return n.forEach(e=>{"setTransition"!==e.command&&"setProjection"!==e.command&&this[e.command].apply(this,e.args)}),this.stylesheet=r,this._updateMapProjection(),!0}addImage(t,r){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(t,r),this._afterImageUpdated(t),this)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(t,r,n={}){if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!r.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(r).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(r.type)>=0&&this._validate(e.validateSource,"sources."+t,r,null,n))return;this.map&&this.map._collectResourceTiming&&(r.collectResourceTiming=!0);const i=ze(t,r,this.dispatcher,this);i.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(t),source:i.serialize(),sourceId:t}));const o=r=>{const n=(r?"symbol:":"other:")+t,o=this._sourceCaches[n]=new e.SourceCache(n,i,r);(r?this._symbolSourceCaches:this._otherSourceCaches)[t]=o,o.style=this,o.onAdd(this.map)};o(!1),"vector"!==r.type&&"geojson"!==r.type||o(!0),i.onAdd&&i.onAdd(this.map),this._changed=!0}removeSource(t){this._checkLoaded();const r=this.getSource(t);if(!r)throw new Error("There is no source with this ID");for(const r in this._layers)if(this._layers[r].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${r}" is using it.`)));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while terrain is using it.`)));const n=this._getSourceCaches(t);for(const t of n)delete this._sourceCaches[t.id],delete this._updatedSources[t.id],t.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t.getSource().id})),t.setEventedParent(null),t.clearTiles();return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],r.setEventedParent(null),r.onRemove&&r.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}getSource(e){const t=this._getSourceCache(e);return t&&t.getSource()}_getSources(){const e=[];for(const t in this._otherSourceCaches){const r=this._getSourceCache(t);r&&e.push(r.getSource())}return e}addLayer(t,r,n={}){this._checkLoaded();const i=t.id;if(this.getLayer(i))return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${i}" already exists on this map`)));let o;if("custom"===t.type){if(Ht(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateLayer,"layers."+i,t,{arrayIndex:-1},n))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize(),this._updateLayerCount(o,!0)}const a=r?this._order.indexOf(r):this._order.length;if(r&&-1===a)return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${r}" does not exist on this map.`)));this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o;const s=this._getLayerSourceCache(o);if(this._removedLayers[i]&&o.source&&s&&"custom"!==o.type){const e=this._removedLayers[i];delete this._removedLayers[i],e.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",s.pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(t,r){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===r)return;const n=this._order.indexOf(t);this._order.splice(n,1);const i=r?this._order.indexOf(r):this._order.length;r&&-1===i?this.fire(new e.ErrorEvent(new Error(`Layer with id "${r}" does not exist on this map.`))):(this._order.splice(i,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(t){this._checkLoaded();const r=this._layers[t];if(!r)return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be removed.`)));r.setEventedParent(null),this._updateLayerCount(r,!1);const n=this._order.indexOf(t);this._order.splice(n,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=r,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],r.onRemove&&r.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return!0;return!1}setLayerZoomRange(t,r,n){this._checkLoaded();const i=this.getLayer(t);i?i.minzoom===r&&i.maxzoom===n||(null!=r&&(i.minzoom=r),null!=n&&(i.maxzoom=n),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(r,n,i={}){this._checkLoaded();const o=this.getLayer(r);if(o){if(!t(o.filter,n))return null==n?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(e.validateFilter,`layers.${o.id}.filter`,n,{layerType:o.type},i)||(o.filter=e.clone$1(n),this._updateLayer(o)))}else this.fire(new e.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be filtered.`)))}getFilter(t){const r=this.getLayer(t);return r&&e.clone$1(r.filter)}setLayoutProperty(r,n,i,o={}){this._checkLoaded();const a=this.getLayer(r);a?t(a.getLayoutProperty(n),i)||(a.setLayoutProperty(n,i,o),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(t,r){const n=this.getLayer(t);if(n)return n.getLayoutProperty(r);this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style.`)))}setPaintProperty(r,n,i,o={}){this._checkLoaded();const a=this.getLayer(r);a?t(a.getPaintProperty(n),i)||(a.setPaintProperty(n,i,o)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[r]=!0):this.fire(new e.ErrorEvent(new Error(`The layer '${r}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(e,t){const r=this.getLayer(e);return r&&r.getPaintProperty(t)}setFeatureState(t,r){this._checkLoaded();const n=t.source,i=t.sourceLayer,o=this.getSource(n);if(!o)return void this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const a=o.type;if("geojson"===a&&i)return void this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===a&&!i)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));const s=this._getSourceCaches(n);for(const e of s)e.setFeatureState(i,t.id,r)}removeFeatureState(t,r){this._checkLoaded();const n=t.source,i=this.getSource(n);if(!i)return void this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)));const o=i.type,a="vector"===o?t.sourceLayer:void 0;if("vector"===o&&!a)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(r&&"string"!=typeof t.id&&"number"!=typeof t.id)return void this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const s=this._getSourceCaches(n);for(const e of s)e.removeFeatureState(a,t.id,r)}getFeatureState(t){this._checkLoaded();const r=t.source,n=t.sourceLayer,i=this.getSource(r);if(i){if("vector"!==i.type||n)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(r)[0].getFeatureState(n,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error(`The source '${r}' does not exist in the map's style.`)))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const t={};for(const e in this._sourceCaches){const r=this._sourceCaches[e].getSource();t[r.id]||(t[r.id]=r.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},e=>void 0!==e)}_updateLayer(e){this._updatedLayers[e.id]=!0;const t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0,e.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,r={},n=[];for(let i=this._order.length-1;i>=0;i--){const o=this._order[i];if(t(o)){r[o]=i;for(const t of e){const e=t[o];if(e)for(const t of e)n.push(t)}}}n.sort((e,t)=>t.intersectionZ-e.intersectionZ);const i=[];for(let o=this._order.length-1;o>=0;o--){const a=this._order[o];if(t(a))for(let e=n.length-1;e>=0;e--){const t=n[e].feature;if(r[t.layer.id]<o)break;i.push(t),n.pop()}else for(const t of e){const e=t[a];if(e)for(const t of e)i.push(t.feature)}}return i}queryRenderedFeatures(t,r,n){r&&r.filter&&this._validate(e.validateFilter,"queryRenderedFeatures.filter",r.filter,null,r);const i={};if(r&&r.layers){if(!Array.isArray(r.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of r.layers){const r=this._layers[t];if(!r)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];i[r.source]=!0}}const o=[];r.availableImages=this._availableImages;const a=r&&r.layers?r.layers.some(e=>{const t=this.getLayer(e);return t&&t.is3D()}):this.has3DLayers(),s=R.createFromScreenPoints(t,n);for(const e in this._sourceCaches){const t=this._sourceCaches[e].getSource().id;r.layers&&!i[t]||o.push(Re(this._sourceCaches[e],this._layers,this._serializedLayers,s,r,n,a,!!this.map._showQueryGeometry))}return this.placement&&o.push(function(e,t,r,n,i,o,a){const s={},l=o.queryRenderedSymbols(n),c=[];for(const e of Object.keys(l).map(Number))c.push(a[e]);c.sort(Oe);for(const r of c){const n=r.featureIndex.lookupSymbolFeatures(l[r.bucketInstanceId],t,r.bucketIndex,r.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(const e in n){const t=s[e]=s[e]||[],i=n[e];i.sort((e,t)=>{const n=r.featureSortOrder;if(n){const r=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-r}return t.featureIndex-e.featureIndex});for(const e of i)t.push(e)}}for(const t in s)s[t].forEach(n=>{const i=n.feature,o=r(e[t]).getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o});return s}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),s.screenGeometry,r,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(o)}querySourceFeatures(t,r){r&&r.filter&&this._validate(e.validateFilter,"querySourceFeatures.filter",r.filter,null,r);const n=this._getSourceCaches(t);let i=[];for(const e of n)i=i.concat(Le(e,r));return i}addSourceType(e,t,r){return er.getSourceType(e)?r(new Error(`A source type called "${e}" already exists.`)):(er.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},r):r(null,null))}getLight(){return this.light.getLight()}setLight(e,r={}){this._checkLoaded();const n=this.light.getLight();let i=!1;for(const r in e)if(!t(e[r],n[r])){i=!0;break}if(!i)return;const o=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(e,r),this.light.updateTransitions(o)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(r,n=1){if(this._checkLoaded(),!r)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===n){if("object"==typeof r.source){const t="terrain-dem-src";this.addSource(t,r.source),r=e.clone$1(r),r=e.extend(r,{source:t})}if(this._validate(e.validateTerrain,"terrain",r))return}if(!this.terrain||this.terrain&&n!==this.terrain.drapeRenderMode)this._createTerrain(r,n);else{const n=this.terrain,i=n.get();for(const t of Object.keys(e.spec.terrain))!r.hasOwnProperty(t)&&e.spec.terrain[t].default&&(r[t]=e.spec.terrain[t].default);for(const e in r)if(!t(r[e],i[e])){n.set(r),this.stylesheet.terrain=r;const e=this._setTransitionParameters({duration:0});n.updateTransitions(e);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(e){const t=this.fog=new P(e,this.map.transform);this.stylesheet.fog=e;const r=this._setTransitionParameters({duration:0});t.updateTransitions(r)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const e of this.map._markers)e._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const r=this.fog,n=r.get();0===Object.keys(e).length&&r.set(e);for(const i in e)if(!t(e[i],n[i])){r.set(e),this.stylesheet.fog=e;const t=this._setTransitionParameters({duration:0});r.updateTransitions(t);break}}else this._createFog(e);this._markersNeedUpdate=!0}_setTransitionParameters(t){return{now:e.exported.now(),transition:e.extend(t,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const e=this._order.filter(e=>this.isLayerDraped(this._layers[e])),t=this._order.filter(e=>!this.isLayerDraped(this._layers[e]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t)}_createTerrain(e,t){const r=this.terrain=new C(e,t);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const n=this._setTransitionParameters({duration:0});r.updateTransitions(n)}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}_forceSymbolLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"symbol"===t.type&&this._updateLayer(t)}}_validate(t,r,n,i,o={}){return(!o||!1!==o.validate)&&Ht(this,t.call(e.validateStyle,e.extend({key:r,style:this.serialize(),value:n,styleSpec:e.spec},i)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this._sourceCaches)this._sourceCaches[e].clearTiles(),this._sourceCaches[e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){const t=this._getSourceCaches(e);for(const e of t)e.clearTiles()}_reloadSource(e){const t=this._getSourceCaches(e);for(const e of t)e.resume(),e.reload()}_reloadSources(){for(const e of this._getSources())e.reload&&e.reload()}_updateSources(e){for(const t in this._sourceCaches)this._sourceCaches[t].update(e)}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload()}}_updatePlacement(t,r,n,i,o=!1){let a=!1,s=!1;const l={};for(const e of this._order){const r=this._layers[e];if("symbol"!==r.type)continue;if(!l[r.source]){const e=this._getLayerSourceCache(r);if(!e)continue;l[r.source]=e.getRenderableIds(!0).map(t=>e.getTileByID(t)).sort((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1))}const n=this.crossTileSymbolIndex.addLayer(r,l[r.source],t.center.lng,t.projection);a=a||n}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),o=o||this._layerOrderChanged||0===n,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(o||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Gt(t,this._order,o,r,n,i,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,r){this.imageManager.getImages(t.icons,r),this._updateTilesForChangedImages();const n=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons)};n(this._otherSourceCaches[t.source]),n(this._symbolSourceCaches[t.source])}getGlyphs(e,t,r){this.glyphManager.getGlyphs(t.stacks,r)}getResource(t,r,n){return e.makeRequest(r,n)}_getSourceCache(e){return this._otherSourceCaches[e]}_getLayerSourceCache(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}_getSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}_isSourceCacheLoaded(t){const r=this._getSourceCaches(t);return 0===r.length?(this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`))),!1):r.every(e=>e.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}er.getSourceType=function(e){return Pe[e]},er.setSourceType=function(e,t){Pe[e]=t},er.registerForPluginStateChange=e.registerForPluginStateChange;var tr="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",rr="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",nr="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {return currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",ir="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",or="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let ar={},sr={};const lr=[];pr(tr,lr),pr(nr,lr),pr(ir,lr),pr(or,lr),ar=fr("",nr),sr=fr(or,ir);const cr=fr("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),ur=tr,hr="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var dr={background:fr("uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:fr("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:fr("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:fr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:fr("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:fr("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:fr("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:fr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:fr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:fr("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:fr("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:fr("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:fr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:fr("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\nv_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);float roof_radiance=clamp(u_lightpos.z,0.0,1.0);roof_radiance=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roof_radiance);v_roof_color.rgb+=clamp(color.rgb*roof_radiance*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:fr("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);directional*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\nv_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:fr("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:fr("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:fr("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\n#ifdef RENDER_LINE_GRADIENT\nhighp vec4 out_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nvec4 out_color=color;\n#endif\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash_from\n#pragma mapbox: define lowp vec4 dash_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash_from\n#pragma mapbox: initialize lowp vec4 dash_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:fr("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:fr("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:fr("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:fr("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:fr("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:fr("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:fr("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:fr("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",rr),skyboxGradient:fr("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",rr),skyboxCapture:fr("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:fr("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;\n#ifdef GLOBE_POLES\nvec3 up_vector=normalize(globe_pos)*u_tile_up_scale;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:fr("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function pr(e,t){const r=e.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let e of r)if(e=e.trim(),"#"===e[0]&&e.includes("if")&&!e.includes("endif")){e=e.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const r=e.split(" ");for(const e of r)t.includes(e)||t.push(e)}}function fr(e,t){const r=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,n=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),i={},o=[...lr];return pr(e,o),pr(t,o),{fragmentSource:e=e.replace(r,(e,t,r,n,o)=>(i[o]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nvarying ${r} ${n} ${o};\n#else\nuniform ${r} ${n} u_${o};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${o}\n    ${r} ${n} ${o} = u_${o};\n#endif\n`)),vertexSource:t=t.replace(r,(e,t,r,n,o)=>{const a="float"===n?"vec2":"vec4",s=o.match(/color/)?"color":a;return i[o]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nuniform lowp float u_${o}_t;\nattribute ${r} ${a} a_${o};\nvarying ${r} ${n} ${o};\n#else\nuniform ${r} ${n} u_${o};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${o}\n    ${o} = a_${o};\n#else\n    ${r} ${n} ${o} = u_${o};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${o}\n    ${o} = unpack_mix_${s}(a_${o}, u_${o}_t);\n#else\n    ${r} ${n} ${o} = u_${o};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nuniform lowp float u_${o}_t;\nattribute ${r} ${a} a_${o};\n#else\nuniform ${r} ${n} u_${o};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${o}\n    ${r} ${n} ${o} = a_${o};\n#else\n    ${r} ${n} ${o} = u_${o};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${o}\n    ${r} ${n} ${o} = unpack_mix_${s}(a_${o}, u_${o}_t);\n#else\n    ${r} ${n} ${o} = u_${o};\n#endif\n`}),staticAttributes:n,usedDefines:o}}class mr{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(e,t,r,n,i,o,a){this.context=e;let s=this.boundPaintVertexBuffers.length!==n.length;for(let e=0;!s&&e<n.length;e++)this.boundPaintVertexBuffers[e]!==n[e]&&(s=!0);let l=this.boundDynamicVertexBuffers.length!==a.length;for(let e=0;!l&&e<a.length;e++)this.boundDynamicVertexBuffers[e]!==a[e]&&(l=!0);if(!e.extVertexArrayObject||!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==r||s||l||this.boundIndexBuffer!==i||this.boundVertexOffset!==o)this.freshBind(t,r,n,i,o,a);else{e.bindVertexArrayOES.set(this.vao);for(const e of a)e&&e.bind();i&&i.dynamicDraw&&i.bind()}}freshBind(e,t,r,n,i,o){let a;const s=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),a=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=r,this.boundIndexBuffer=n,this.boundVertexOffset=i,this.boundDynamicVertexBuffers=o;else{a=l.currentNumAttributes||0;for(let e=s;e<a;e++)c.disableVertexAttribArray(e)}t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);for(const t of r)t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i);for(const t of o)t&&(t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,i));n&&n.bind(),l.currentNumAttributes=s}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function gr(t,r){const n=Math.pow(2,r.canonical.z),i=r.canonical.y;return[new e.MercatorCoordinate(0,i/n).toLngLat().lat,new e.MercatorCoordinate(0,(i+1)/n).toLngLat().lat]}function _r(t,r,n,i,o,a,s){const l=t.context,c=l.gl,u=n.fbo;if(!u)return;t.prepareDrawTile();const h=t.useProgram("hillshade");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u.colorAttachment.get());const d=((e,t,r,n)=>{const i=r.paint.get("hillshade-shadow-color"),o=r.paint.get("hillshade-highlight-color"),a=r.paint.get("hillshade-accent-color");let s=r.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===r.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);const l=!e.options.moving;return{u_matrix:n||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:gr(0,t.tileID),u_light:[r.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}})(t,n,i,t.terrain?r.projMatrix:null);t.prepareDrawProgram(l,h,r.toUnwrapped());const{tileBoundsBuffer:p,tileBoundsIndexBuffer:f,tileBoundsSegments:m}=t.getTileBoundsBuffers(n);h.draw(l,c.TRIANGLES,o,a,s,e.CullFaceMode.disabled,d,i.id,p,f,m)}function yr(t,r,n){if(!r.needsDEMTextureUpload)return;const i=t.context,o=i.gl;i.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||t.getTileTexture(n.stride);const a=n.getPixels();r.demTexture?r.demTexture.update(a,{premultiply:!1}):r.demTexture=new e.Texture(i,a,o.RGBA,{premultiply:!1}),r.needsDEMTextureUpload=!1}function vr(t,r,n,i,o,a){const s=t.context,l=s.gl;if(!r.dem)return;const c=r.dem;if(s.activeTexture.set(l.TEXTURE1),yr(t,r,c),!r.demTexture)return;r.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);const u=c.dim;s.activeTexture.set(l.TEXTURE0);let h=r.fbo;if(!h){const t=new e.Texture(s,{width:u,height:u,data:null},l.RGBA);t.bind(l.LINEAR,l.CLAMP_TO_EDGE),h=r.fbo=s.createFramebuffer(u,u,!0),h.colorAttachment.set(t.texture)}s.bindFramebuffer.set(h.framebuffer),s.viewport.set([0,0,u,u]);const{tileBoundsBuffer:d,tileBoundsIndexBuffer:p,tileBoundsSegments:f}=t.getMercatorTileBoundsBuffers();t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,i,o,a,e.CullFaceMode.disabled,((t,r)=>{const n=r.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[n,n],u_zoom:t.overscaledZ,u_unpack:r.unpackVector}})(r.tileID,c),n.id,d,p,f),r.needsHillshadePrepare=!1}const xr=t=>({u_matrix:new e.UniformMatrix4f(t),u_image0:new e.Uniform1i(t),u_skirt_height:new e.Uniform1f(t)}),br=(e,t)=>({u_matrix:e,u_image0:0,u_skirt_height:t}),wr=(e,t,r,n,i,o,a,s,l,c,u,h,d,p)=>({u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(n),u_merc_matrix:r,u_zoom_transition:i,u_merc_center:o,u_image0:0,u_frustum_tl:a,u_frustum_tr:s,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:u,u_globe_radius:h,u_viewport:d,u_grid_matrix:p?Float32Array.from(p):new Float32Array(9)});function Tr(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}const Er=new class{constructor(){this.operations={}}newMorphing(e,t,r,n,i){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==r.tileID.key&&(t.queued=r)}else this.operations[e]={startTime:n,phase:0,duration:i,from:t,to:r,queued:null}}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const r=this.operations[t];for(r.phase=(e-r.startTime)/r.duration;r.phase>=1||!this._validOp(r);)if(!this._nextOp(r,e)){delete this.operations[t];break}}}_nextOp(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},Sr={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Cr(e,t){const r=1<<e.z;return!t&&(0===e.x||e.x===r-1)||0===e.y||e.y===r-1}const Mr=e=>({u_matrix:e});function kr(t,r,n,i,o){if(o>0){const a=e.exported.now(),s=(a-t.timeAdded)/o,l=r?(a-r.timeAdded)/o:-1,c=n.getSource(),u=i.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!r||Math.abs(r.tileID.overscaledZ-u)>Math.abs(t.tileID.overscaledZ-u),d=h&&t.refreshedUponExpiration?1:e.clamp(h?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),r?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}class Ar extends e.SourceCache{constructor(e){const t={type:"raster-dem",maxzoom:e.transform.maxZoom},r=new z(Ne(),null),n=ze("mock-dem",t,r,e.style);super("mock-dem",n,!1),n.setEventedParent(this),this._sourceLoaded=!0}_loadTile(e,t){e.state="loaded",t(null)}}class Ir extends e.SourceCache{constructor(e){const t=ze("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new z(Ne(),null),e.style);super("proxy",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(t,r,n){if(t.freezeTileCoverage)return;this.transform=t;const i=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((r,n)=>{if(r[n.key]="",!this._tiles[n.key]){const r=new e.Tile(n,this._source.tileSize*n.overscaleFactor(),t.tileZoom);r.state="loaded",this._tiles[n.key]=r}return r},{});for(const e in this._tiles)e in i||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e])}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const r=Object.values(t);this.renderCachePool.push(...r),delete this.proxyCachedFBO[e]}}deallocRenderCache(){this.renderCache.forEach(e=>e.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Pr extends e.OverscaledTileID{constructor(e,t,r){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=r}}class zr extends e.Elevation{constructor(t,r){super(),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[n,i,o]=function(t){const r=new e.StructArrayLayout4i8,n=new e.StructArrayLayout3ui6,i=131;r.reserve(17161),n.reserve(33800);const o=e.EXTENT/128,a=e.EXTENT+o/2,s=a+o;for(let t=-o;t<s;t+=o)for(let n=-o;n<s;n+=o){const i=n<0||n>a||t<0||t>a?24575:0,o=e.clamp(Math.round(n),0,e.EXTENT),s=e.clamp(Math.round(t),0,e.EXTENT);r.emplaceBack(o+i,s,o,s)}const l=(e,t)=>{const r=t*i+e;n.emplaceBack(r+1,r,r+i),n.emplaceBack(r+i,r+i+1,r+1)};for(let e=1;e<129;e++)for(let t=1;t<129;t++)l(t,e);return[0,129].forEach(e=>{for(let t=0;t<130;t++)l(t,e),l(e,t)}),[r,n,32768]}(),a=t.context;this.gridBuffer=a.createVertexBuffer(n,e.boundsAttributes.members),this.gridIndexBuffer=a.createIndexBuffer(i),this.gridSegments=e.SegmentVector.simpleSegment(0,0,n.length,i.length),this.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,n.length,o),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Ir(r.map),this.orthoMatrix=e.create(),e.ortho(this.orthoMatrix,"globe"===this.painter.transform.projection.name?.015:0,e.EXTENT,0,e.EXTENT,0,1);const s=a.gl;this._overlapStencilMode=new e.StencilMode({func:s.GEQUAL,mask:255},0,255,s.KEEP,s.KEEP,s.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=r,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Ar(r.map)}set style(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency()}update(t,r,n){if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;const i=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(i.get("source")),this._exaggeration=i.get("exaggeration");const o=()=>{this.sourceCache.used&&e.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const t=this.getScaledDemTileSize();this.sourceCache.update(r,t,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,o(),this._initializing=!0),o(),r.updateElevation(!n),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(r),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(e){this._findCoveringTileCache[e]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce(`Terrain render cache efficiency is not optimal (${t.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${t.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(e=>e.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}set useVertexMorphing(e){this._useVertexMorphing=e}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const r=this.proxySourceCache,n=this.painter.transform;this._initializing&&(this._initializing=0===n._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(n.center),-1),this._emptyDEMTextureDirty=!this._initializing);const i=this.proxyCoords=r.getIds().map(e=>{const t=r.getTileByID(e).tileID;return t.projMatrix=n.calculateProjMatrix(t.toUnwrapped()),t});!function(t,r){const n=r.transform.pointCoordinate(r.transform.getCameraPoint()),i=new e.pointGeometry(n.x,n.y);t.sort((t,r)=>{if(r.overscaledZ-t.overscaledZ)return r.overscaledZ-t.overscaledZ;const n=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),o=new e.pointGeometry(r.canonical.x+(1<<r.canonical.z)*r.wrap,r.canonical.y),a=i.mult(1<<t.canonical.z);return a.x-=.5,a.y-=.5,a.distSqr(n)-a.distSqr(o)})}(i,this.painter),this._previousZoom=n.zoom;const o=this.proxyToSource||{};this.proxyToSource={},i.forEach(e=>{this.proxyToSource[e.key]={}}),this.terrainTileForTile={};const a=this._style._sourceCaches;for(const e in a){const r=a[e];if(!r.used)continue;if(r!==this.sourceCache&&this.resetTileLookupCache(r.id),this._setupProxiedCoordsForOrtho(r,t[e],o),r.usedForTerrain)continue;const n=t[e];r.getSource().reparseOverscaled&&this._assignTerrainTiles(n)}this.proxiedCoords[r.id]=i.map(e=>new Pr(e,e.key,this.orthoMatrix)),this._assignTerrainTiles(i),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(o),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();const s={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const r=t.tileID.key;r in s||(this._visibleDemTiles.push(t),s[r]=r)}}_assignTerrainTiles(e){this._initializing||e.forEach(e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t)})}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const r in this.terrainTileForTile){const n=this.terrainTileForTile[r],i=n.dem;!i||n.demTexture&&!n.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),yr(this.painter,n,i))}}_prepareDemTileUniforms(e,t,r,n){if(!t||null==t.demTexture)return!1;const i=e.tileID.canonical,o=Math.pow(2,t.tileID.canonical.z-i.z),a=n||"";return r["u_dem_tl"+a]=[i.x*o%1,i.y*o%1],r["u_dem_scale"+a]=o,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const t=this.painter.context,r=t.gl;if(!this._emptyDepthBufferTexture){const n=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,n,r.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce((t,r)=>{if(!r.dem)return t;const n=r.dem.tree.minimums[0];return n>0&&e++,t+n},0);return e?t/e:0}_updateEmptyDEMTexture(){const t=this.painter.context,r=t.gl;t.activeTexture.set(r.TEXTURE2);const n=this._getLoadedAreaMinimum(),i=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(n,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let o=this._emptyDEMTexture;return o?o.update(i,{premultiply:!1}):o=this._emptyDEMTexture=new e.Texture(t,i,r.RGBA,{premultiply:!1}),o}setupElevationDraw(t,r,n){const i=this.painter.context,o=i.gl,a=(s=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(s),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var s;a.u_dem_size=this.sourceCache.getSource().tileSize,a.u_exaggeration=this.exaggeration();let l=null,c=null,u=1;if(n&&n.morphing&&this._useVertexMorphing){const e=n.morphing.srcDemTile,r=n.morphing.dstDemTile;u=n.morphing.phase,e&&r&&(this._prepareDemTileUniforms(t,e,a,"_prev")&&(c=e),this._prepareDemTileUniforms(t,r,a)&&(l=r))}if(c&&l?(i.activeTexture.set(o.TEXTURE2),l.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),i.activeTexture.set(o.TEXTURE4),c.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),a.u_dem_lerp=u):(l=this.terrainTileForTile[t.tileID.key],i.activeTexture.set(o.TEXTURE2),(this._prepareDemTileUniforms(t,l,a)?l.demTexture:this.emptyDEMTexture).bind(o.NEAREST,o.CLAMP_TO_EDGE)),i.activeTexture.set(o.TEXTURE3),n&&n.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),this._depthFBO&&(a.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),a.u_depth_size_inv=[1,1]),n&&n.useMeterToDem&&l){const t=(1<<l.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;a.u_meter_to_dem=t}if(n&&n.labelPlaneMatrixInv&&(a.u_label_plane_matrix_inv=n.labelPlaneMatrixInv),r.setTerrainUniformValues(i,a),"globe"===this.painter.transform.projection.name){const e=this.globeUniformValues(this.painter.transform,t.tileID.canonical,n&&n.useDenormalizedUpVectorScale);r.setGlobeUniformValues(i,e)}}globeUniformValues(t,r,n){const i=t.projection;return{u_tile_tl_up:i.upVector(r,0,0),u_tile_tr_up:i.upVector(r,e.EXTENT,0),u_tile_br_up:i.upVector(r,e.EXTENT,e.EXTENT),u_tile_bl_up:i.upVector(r,0,e.EXTENT),u_tile_up_scale:n?e.GLOBE_METERS_TO_ECEF:i.upVectorScale(r,t.center.lat,t.worldSize).metersToTile}}renderToBackBuffer(t){const r=this.painter,n=this.painter.context;0!==t.length&&(n.bindFramebuffer.set(null),n.viewport.set([0,0,r.width,r.height]),r.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,r,n,i,o){if("globe"===t.transform.projection.name)!function(t,r,n,i,o){const a=t.context,s=a.gl;let l,c;const u=t.options.showTerrainWireframe?2:0,h=t.transform,d=e.globeUseCustomAntiAliasing(t,a,h),p=(e,r)=>{if(c===e)return;const n=[Sr[e],"PROJECTION_GLOBE_VIEW"];d&&n.push("CUSTOM_ANTIALIASING"),r&&n.push(Sr[u]),l=t.useProgram("globeRaster",null,n),c=e},f=t.colorModeForRenderPass(),m=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Er.update(o);const g=e.calculateGlobeMercatorMatrix(h),_=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],y=u?[!1,!0]:[!1],v=t.globeSharedBuffers,x=[h.width*e.exported.devicePixelRatio,h.height*e.exported.devicePixelRatio],b=Float32Array.from(h.globeMatrix),w={useDenormalizedUpVectorScale:!0};if(y.forEach(u=>{c=-1;const d=u?s.LINES:s.TRIANGLES;for(const c of i){const i=n.getTile(c),y=e.StencilMode.disabled,T=r.prevTerrainTileForTile[c.key],E=r.terrainTileForTile[c.key];Tr(T,E)&&Er.newMorphing(c.key,T,E,o,250),a.activeTexture.set(s.TEXTURE0),i.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);const S=Er.getMorphValuesForProxy(c.key),C=S?1:0;S&&e.extend$1(w,{morphing:{srcDemTile:S.from,dstDemTile:S.to,phase:e.easeCubicInOut(S.phase)}});const M=e.tileCornersToBounds(c.canonical),k=e.getLatitudinalLod(M.getCenter().lat),A=e.getGridMatrix(c.canonical,M,k,h.worldSize/h._pixelsPerMercatorPixel),I=e.globeNormalizeECEF(e.globeTileBounds(c.canonical)),P=wr(h.projMatrix,b,g,I,e.globeToMercatorTransition(h.zoom),_,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,x,A);if(p(C,u),r.setupElevationDraw(i,l,w),t.prepareDrawProgram(a,l,c.toUnwrapped()),v){const[r,n,i]=u?v.getWirefameBuffers(t.context,k):v.getGridBuffers(k);l.draw(a,d,m,y,f,e.CullFaceMode.backCCW,P,"globe_raster",r,n,i)}}}),v){const o=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];d&&o.push("CUSTOM_ANTIALIASING"),l=t.useProgram("globeRaster",null,o);for(const o of i){const{x:i,y:c,z:u}=o.canonical,d=0===c,p=c===(1<<u)-1,[g,y,b,T]=v.getPoleBuffers(u);if(T&&(d||p)){const c=n.getTile(o);a.activeTexture.set(s.TEXTURE0),c.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);let v=e.globePoleMatrixForTile(u,i,h);const E=e.globeNormalizeECEF(e.globeTileBounds(o.canonical)),S=(t,r)=>t.draw(a,s.TRIANGLES,m,e.StencilMode.disabled,f,e.CullFaceMode.disabled,wr(h.projMatrix,v,v,E,0,_,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,x),"globe_pole_raster",r,b,T);r.setupElevationDraw(c,l,w),t.prepareDrawProgram(a,l,o.toUnwrapped()),d&&S(l,g),p&&(v=e.scale(e.create(),v,[1,-1,1]),S(l,y))}}}}(t,r,n,i,o);else{const a=t.context,s=a.gl;let l,c;const u=t.options.showTerrainWireframe?2:0,h=(e,r)=>{if(c===e)return;const n=[Sr[e]];r&&n.push(Sr[u]),l=t.useProgram("terrainRaster",null,n),c=e},d=t.colorModeForRenderPass(),p=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Er.update(o);const f=t.transform,m=6*Math.pow(1.5,22-f.zoom)*r.exaggeration();(u?[!1,!0]:[!1]).forEach(u=>{c=-1;const g=u?s.LINES:s.TRIANGLES,[_,y]=u?r.getWirefameBuffer():[r.gridIndexBuffer,r.gridSegments];for(const c of i){const i=n.getTile(c),v=e.StencilMode.disabled,x=r.prevTerrainTileForTile[c.key],b=r.terrainTileForTile[c.key];Tr(x,b)&&Er.newMorphing(c.key,x,b,o,250),a.activeTexture.set(s.TEXTURE0),i.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);const w=Er.getMorphValuesForProxy(c.key),T=w?1:0;let E;w&&(E={morphing:{srcDemTile:w.from,dstDemTile:w.to,phase:e.easeCubicInOut(w.phase)}});const S=br(c.projMatrix,Cr(c.canonical,f.renderWorldCopies)?m/10:m);h(T,u),r.setupElevationDraw(i,l,E),t.prepareDrawProgram(a,l,c.toUnwrapped()),l.draw(a,g,p,v,d,e.CullFaceMode.backCCW,S,"terrain_raster",r.gridBuffer,_,y)}})}}(r,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,r.gpuTimingDeferredRenderEnd(),t.splice(0,t.length))}renderBatch(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;const r=this.painter,n=this.painter.context,i=this.proxySourceCache,o=this.proxiedCoords[i.id],a=this._drapedRenderBatches.shift(),s=[],l=r.style.order;let c=0;for(const u of o){const o=i.getTileByID(u.proxyTileKey),h=i.proxyCachedFBO[u.key]?i.proxyCachedFBO[u.key][t]:void 0,d=void 0!==h?i.renderCache[h]:this.pool[c++],p=void 0!==h;if(o.texture=d.tex,p&&!d.dirty){s.push(o.tileID);continue}let f;n.bindFramebuffer.set(d.fb.framebuffer),this.renderedToTile=!1,d.dirty&&(n.clear({color:e.Color.transparent,stencil:0}),d.dirty=!1);for(let e=a.start;e<=a.end;++e){const t=r.style._layers[l[e]];if(t.isHidden(r.transform.zoom))continue;const i=r.style._getLayerSourceCache(t),o=i?this.proxyToSource[u.key][i.id]:[u];if(!o)continue;const a=o;n.viewport.set([0,0,d.fb.width,d.fb.height]),f!==(i?i.id:null)&&(this._setupStencil(d,o,t,i),f=i?i.id:null),r.renderLayer(r,i,t,a)}this.renderedToTile?(d.dirty=!0,s.push(o.tileID)):p||--c,5===c&&(c=0,this.renderToBackBuffer(s))}return this.renderToBackBuffer(s),this.renderingToTexture=!1,n.bindFramebuffer.set(null),n.viewport.set([0,0,r.width,r.height]),a.end+1}postRender(){}renderCacheEfficiency(e){const t=e.order.length;if(0===t)return{efficiency:100};let r,n=0,i=0,o=!1;for(let a=0;a<t;++a){const t=e._layers[e.order[a]];this._style.isLayerDraped(t)?(o&&++n,++i):o||(o=!0,r=t.id)}return 0===i?{efficiency:100}:{efficiency:100*(1-n/i),firstUndrapedLayer:r}}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter(e=>e.dem).forEach(t=>{e=Math.min(e,t.dem.tree.minimums[0])}),0===e?e:(e-30)*this._exaggeration}raycast(e,t,r){if(!this._visibleDemTiles)return null;const n=this._visibleDemTiles.filter(e=>e.dem).map(n=>{const i=n.tileID,o=1<<i.overscaledZ,{x:a,y:s}=i.canonical,l=a/o,c=(a+1)/o,u=s/o,h=(s+1)/o;return{minx:l,miny:u,maxx:c,maxy:h,t:n.dem.tree.raycastRoot(l,u,c,h,e,t,r),tile:n}});n.sort((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE));for(const i of n){if(null==i.t)return null;const n=i.tile.dem.tree.raycast(i.minx,i.miny,i.maxx,i.maxy,e,t,r);if(null!=n)return n}return null}_createFBO(){const t=this.painter.context,r=t.gl,n=this.drapeBufferSize;t.activeTexture.set(r.TEXTURE0);const i=new e.Texture(t,{width:n[0],height:n[1],data:null},r.RGBA);i.bind(r.LINEAR,r.CLAMP_TO_EDGE);const o=t.createFramebuffer(n[0],n[1],!1);return o.colorAttachment.set(i.texture),o.depthAttachment=new Ee(t,o.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,n[0],n[1]),this._stencilRef=0,o.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):o.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&r.texParameterf(r.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:o,tex:i,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e].hasTransition())return!0;return this._style.order.some(e=>{const t=this._style._layers[e],r=t.isHidden(this.painter.transform.zoom),n=t.getCrossfadeParameters(),i=!!n&&1!==n.t,o=t.hasTransition();return"custom"!==t.type&&!r&&(i||o)})}_clearRasterFadeFromRenderCache(){let e=!1;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Me){e=!0;break}if(e)for(let e=0;e<this._style.order.length;++e){const t=this._style._layers[this._style.order[e]],r=t.isHidden(this.painter.transform.zoom),n=this._style._getLayerSourceCache(t);if("raster"!==t.type||r||!n)continue;const i=t.paint.get("raster-fade-duration");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][n.id];if(t)for(const e of t){const t=kr(n.getTile(e),n.findLoadedParent(e,0),n,this.painter.transform,i);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(n.id,e)}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const r=[];let n,i=0,o=this._style._layers[e[i]];for(;!this._style.isLayerDraped(o)&&o.isHidden(this.painter.transform.zoom)&&++i<t;)o=this._style._layers[e[i]];for(;i<t;++i){const t=this._style._layers[e[i]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===n&&(n=i):void 0!==n&&(r.push({start:n,end:i-1}),n=void 0))}void 0!==n&&r.push({start:n,end:i-1}),this._drapedRenderBatches=r}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let r=0;r<e.length;++r){const n=Object.values(e[r]);t.renderCachePool.push(...n)}}return}this._clearRasterFadeFromRenderCache();const r=this.proxyCoords,n=this._tilesDirty;for(let i=r.length-1;i>=0;i--){const o=r[i];if(t.getTileByID(o.key),void 0!==t.proxyCachedFBO[o.key]){const r=e[o.key],i=this.proxyToSource[o.key];let a=0;for(const e in i){const t=i[e],o=r[e];if(!o||o.length!==t.length||t.some((t,r)=>t!==o[r]||n[e]&&n[e].hasOwnProperty(t.key))){a=-1;break}++a}for(const e in t.proxyCachedFBO[o.key])t.renderCache[t.proxyCachedFBO[o.key][e]].dirty=a<0||a!==Object.values(r).length}}const i=[...this._drapedRenderBatches];i.sort((e,t)=>t.end-t.start-(e.end-e.start));for(const e of i)for(const n of r){if(t.proxyCachedFBO[n.key])continue;let r=t.renderCachePool.pop();void 0===r&&t.renderCache.length<50&&(r=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==r&&(t.proxyCachedFBO[n.key]={},t.proxyCachedFBO[n.key][e.start]=r,t.renderCache[r].dirty=!0)}this._tilesDirty={}}_setupStencil(e,t,r,n){if(!n||!this._sourceTilesOverlap[n.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const i=this.painter.context,o=i.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let a;if(r.isTileClipped())a=t.length,this._overlapStencilMode.test={func:o.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);a=1,this._overlapStencilMode.test={func:o.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+a>255&&(i.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=a,this._overlapStencilMode.ref=this._stencilRef,r.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}_renderTileClippingMasks(t,r){const n=this.painter,i=this.painter.context,o=i.gl;n._tileClippingMaskIDs={},i.setColorMode(e.ColorMode.disabled),i.setDepthMode(e.DepthMode.disabled);const a=n.useProgram("clippingMask");for(const s of t){const t=n._tileClippingMaskIDs[s.key]=--r;a.draw(i,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},t,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Mr(s.projMatrix),"$clipping",n.tileExtentBuffer,n.quadTriangleIndexBuffer,n.tileExtentSegments)}}pointCoordinate(t){const r=this.painter.transform;if(t.x<0||t.x>r.width||t.y<0||t.y>r.height)return null;const n=[t.x,t.y,1,1];e.transformMat4$1(n,n,r.pixelMatrixInverse),e.scale$1(n,n,1/n[3]),n[0]/=r.worldSize,n[1]/=r.worldSize;const i=r._camera.position,o=e.mercatorZfromAltitude(1,r.center.lat),a=[i[0],i[1],i[2]/o,0],s=e.subtract([],n.slice(0,3),a);e.normalize(s,s);const l=this.raycast(a,s,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(a,a,s,l),a[3]=a[2],a[2]*=o,a):null}drawDepth(){const t=this.painter,r=t.context,n=this.proxySourceCache,i=Math.ceil(t.width),o=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===i&&this._depthFBO.height===o||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const t=r.gl,n=r.createFramebuffer(i,o,!0);r.activeTexture.set(t.TEXTURE0);const a=new e.Texture(r,{width:i,height:o,data:null},t.RGBA);a.bind(t.NEAREST,t.CLAMP_TO_EDGE),n.colorAttachment.set(a.texture);const s=r.createRenderbuffer(r.gl.DEPTH_COMPONENT16,i,o);n.depthAttachment.set(s),this._depthFBO=n,this._depthTexture=a}r.bindFramebuffer.set(this._depthFBO.framebuffer),r.viewport.set([0,0,i,o]),function(t,r,n,i){if("globe"===t.transform.projection.name)return;const o=t.context,a=o.gl;o.clear({depth:1});const s=t.useProgram("terrainDepth"),l=new e.DepthMode(a.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D);for(const t of i){const i=n.getTile(t),c=br(t.projMatrix,0);r.setupElevationDraw(i,s),s.draw(o,a.TRIANGLES,l,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,c,"terrain_depth",r.gridBuffer,r.gridIndexBuffer,r.gridNoSkirtSegments)}}(t,this,n,this.proxyCoords)}_setupProxiedCoordsForOrtho(e,t,r){if(e.getSource()instanceof Ie)return this._setupProxiedCoordsForImageSource(e,t,r);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const n=this.proxiedCoords[e.id]=[],i=this.proxyCoords;for(let t=0;t<i.length;t++){const o=i[t],a=this._findTileCoveringTileID(o,e);if(a){const t=this._createProxiedId(o,a,r[o.key]&&r[o.key][e.id]);n.push(t),this.proxyToSource[o.key][e.id]=[t]}}let o=!1;for(let i=0;i<t.length;i++){const a=e.getTile(t[i]);if(!a||!a.hasData())continue;const s=this._findTileCoveringTileID(a.tileID,this.proxySourceCache);if(s&&s.tileID.canonical.z!==a.tileID.canonical.z){const t=this.proxyToSource[s.tileID.key][e.id],i=this._createProxiedId(s.tileID,a,r[s.tileID.key]&&r[s.tileID.key][e.id]);t?t.splice(t.length-1,0,i):this.proxyToSource[s.tileID.key][e.id]=[i],n.push(i),o=!0}}this._sourceTilesOverlap[e.id]=o}_setupProxiedCoordsForImageSource(t,r,n){if(!t.getSource().loaded())return;const i=this.proxiedCoords[t.id]=[],o=this.proxyCoords,a=t.getSource(),s=new e.pointGeometry(a.tileID.x,a.tileID.y)._div(1<<a.tileID.z),l=a.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce((e,t)=>(e.min.x=Math.min(e.min.x,t.x-s.x),e.min.y=Math.min(e.min.y,t.y-s.y),e.max.x=Math.max(e.max.x,t.x-s.x),e.max.y=Math.max(e.max.y,t.y-s.y),e),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(t,r)=>{const n=t.wrap+t.canonical.x/(1<<t.canonical.z),i=t.canonical.y/(1<<t.canonical.z),o=e.EXTENT/(1<<t.canonical.z),a=r.wrap+r.canonical.x/(1<<r.canonical.z),s=r.canonical.y/(1<<r.canonical.z);return n+o<a+l.min.x||n>a+l.max.x||i+o<s+l.min.y||i>s+l.max.y};for(let e=0;e<o.length;e++){const a=o[e];for(let e=0;e<r.length;e++){const o=t.getTile(r[e]);if(!o||!o.hasData())continue;if(c(a,o.tileID))continue;const s=this._createProxiedId(a,o,n[a.key]&&n[a.key][t.id]),l=this.proxyToSource[a.key][t.id];l?l.push(s):this.proxyToSource[a.key][t.id]=[s],i.push(s)}}}_createProxiedId(t,r,n){let i=this.orthoMatrix;if(n){const e=n.find(e=>e.key===r.tileID.key);if(e)return e}if(r.tileID.key!==t.key){const n=t.canonical.z-r.tileID.canonical.z;let o,a,s;i=e.create();const l=r.tileID.wrap-t.wrap<<t.overscaledZ;n>0?(o=e.EXTENT>>n,a=o*((r.tileID.canonical.x<<n)-t.canonical.x+l),s=o*((r.tileID.canonical.y<<n)-t.canonical.y)):(o=e.EXTENT<<-n,a=e.EXTENT*(r.tileID.canonical.x-(t.canonical.x+l<<-n)),s=e.EXTENT*(r.tileID.canonical.y-(t.canonical.y<<-n))),e.ortho(i,0,o,0,o,0,1),e.translate(i,i,[a,s,0])}return new Pr(r.tileID,t.key,i)}_findTileCoveringTileID(t,r){let n=r.getTile(t);if(n&&n.hasData())return n;const i=this._findCoveringTileCache[r.id],o=i[t.key];if(n=o?r.getTileByID(o):null,n&&n.hasData()||null===o)return n;let a=n?n.tileID:t,s=a.overscaledZ;const l=r.getSource().minzoom,c=[];if(!o){const i=r.getSource().maxzoom;if(t.canonical.z>=i){const n=t.canonical.z-i;r.getSource().reparseOverscaled?(s=Math.max(t.canonical.z+2,r.transform.tileZoom),a=new e.OverscaledTileID(s,t.wrap,i,t.canonical.x>>n,t.canonical.y>>n)):0!==n&&(s=i,a=new e.OverscaledTileID(s,t.wrap,i,t.canonical.x>>n,t.canonical.y>>n))}a.key!==t.key&&(c.push(a.key),n=r.getTile(a))}const u=e=>{c.forEach(t=>{i[t]=e}),c.length=0};for(s-=1;s>=l&&(!n||!n.hasData());s--){n&&u(n.tileID.key);const e=a.calculateScaledKey(s);if(n=r.getTileByID(e),n&&n.hasData())break;const t=i[e];if(null===t)break;void 0===t?c.push(e):n=r.getTileByID(t)}return u(n?n.tileID.key:null),n&&n.hasData()?n:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(e,t){let r=this._tilesDirty[e];r||(r=this._tilesDirty[e]={}),r[t.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const t=function(t){let r=0;const n=new e.StructArrayLayout2ui4,i=131;for(let e=1;e<129;e++){for(let t=1;t<129;t++)r=e*i+t,n.emplaceBack(r,r+1),n.emplaceBack(r,r+i),n.emplaceBack(r+1,r+i),128===e&&n.emplaceBack(r+i,r+i+1);n.emplaceBack(r+1,r+1+i)}return n}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Dr{static cacheKey(e,t,r,n){let i=`${t}${n?n.cacheKey:""}`;for(const t of r)e.usedDefines.includes(t)&&(i+="/"+t);return i}constructor(t,r,n,i,o,a){const s=t.gl;this.program=s.createProgram();const l=function(e){const t=[];for(let r=0;r<e.length;r++){if(null===e[r])continue;const n=e[r].split(" ");t.push(n.pop())}return t}(n.staticAttributes),c=i?i.getBinderAttributes():[],u=l.concat(c);let h=i?i.defines():[];h=h.concat(a.map(e=>"#define "+e));const d=h.concat(t.extStandardDerivatives?"#extension GL_OES_standard_derivatives : enable\n".concat(hr):hr,hr,ur,cr.fragmentSource,sr.fragmentSource,n.fragmentSource).join("\n"),p=h.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",ur,cr.vertexSource,sr.vertexSource,ar.vertexSource,n.vertexSource).join("\n"),f=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);s.shaderSource(f,d),s.compileShader(f),s.attachShader(this.program,f);const m=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())this.failedToCreate=!0;else{s.shaderSource(m,p),s.compileShader(m),s.attachShader(this.program,m),this.attributes={},this.numAttributes=u.length;for(let e=0;e<this.numAttributes;e++)u[e]&&(s.bindAttribLocation(this.program,e,u[e]),this.attributes[u[e]]=e);s.linkProgram(this.program),s.deleteShader(m),s.deleteShader(f),this.fixedUniforms=o(t),this.binderUniforms=i?i.getUniforms(t):[],a.includes("TERRAIN")&&(this.terrainUniforms=(t=>({u_dem:new e.Uniform1i(t),u_dem_prev:new e.Uniform1i(t),u_dem_unpack:new e.Uniform4f(t),u_dem_tl:new e.Uniform2f(t),u_dem_scale:new e.Uniform1f(t),u_dem_tl_prev:new e.Uniform2f(t),u_dem_scale_prev:new e.Uniform1f(t),u_dem_size:new e.Uniform1f(t),u_dem_lerp:new e.Uniform1f(t),u_exaggeration:new e.Uniform1f(t),u_depth:new e.Uniform1i(t),u_depth_size_inv:new e.Uniform2f(t),u_meter_to_dem:new e.Uniform1f(t),u_label_plane_matrix_inv:new e.UniformMatrix4f(t)}))(t)),a.includes("GLOBE")&&(this.globeUniforms=(t=>({u_tile_tl_up:new e.Uniform3f(t),u_tile_tr_up:new e.Uniform3f(t),u_tile_br_up:new e.Uniform3f(t),u_tile_bl_up:new e.Uniform3f(t),u_tile_up_scale:new e.Uniform1f(t)}))(t)),a.includes("FOG")&&(this.fogUniforms=(t=>({u_fog_matrix:new e.UniformMatrix4f(t),u_fog_range:new e.Uniform2f(t),u_fog_color:new e.Uniform4f(t),u_fog_horizon_blend:new e.Uniform1f(t),u_fog_temporal_offset:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_globe_transition:new e.Uniform1f(t),u_is_globe:new e.Uniform1i(t),u_viewport:new e.Uniform2f(t)}))(t))}}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const r=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)r[e]&&r[e].set(this.program,e,t[e])}}setGlobeUniformValues(e,t){if(!this.globeUniforms)return;const r=this.globeUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)r[e]&&r[e].set(this.program,e,t[e])}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const r=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)r[e].set(this.program,e,t[e])}}draw(e,t,r,n,i,o,a,s,l,c,u,h,d,p,f){const m=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(r),e.setStencilMode(n),e.setColorMode(i),e.setCullFace(o);for(const e of Object.keys(this.fixedUniforms))this.fixedUniforms[e].set(this.program,e,a[e]);p&&p.setUniforms(this.program,e,this.binderUniforms,h,{zoom:d});const g={[m.LINES]:2,[m.TRIANGLES]:3,[m.LINE_STRIP]:1}[t];for(const r of u.get()){const n=r.vaos||(r.vaos={});(n[s]||(n[s]=new mr)).bind(e,this,l,p?p.getPaintVertexBuffers():[],c,r.vertexOffset,f||[]),m.drawElements(t,r.primitiveLength*g,m.UNSIGNED_SHORT,r.primitiveOffset*g*2)}}}function Rr(e,t,r){const n=1/D(r,1,t.transform.tileZoom),i=Math.pow(2,r.tileID.overscaledZ),o=r.tileSize*Math.pow(2,t.transform.tileZoom)/i,a=o*(r.tileID.canonical.x+r.tileID.wrap*i),s=o*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[n,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}const Lr=e.create(),Or=(t,r,n,i,o,a,s,l,c,u,h)=>{const d=r.style.light,p=d.properties.get("position"),f=[p.x,p.y,p.z],m=e.create$1();"viewport"===d.properties.get("anchor")&&(e.fromRotation(m,-r.transform.angle),e.transformMat3(f,f,m));const g=d.properties.get("color"),_=r.transform,y={u_matrix:t,u_lightpos:f,u_lightintensity:d.properties.get("intensity"),u_lightcolor:[g.r,g.g,g.b],u_vertical_gradient:+n,u_opacity:i,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Lr,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:o,u_edge_radius:a};return"globe"===_.projection.name&&(y.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],y.u_zoom_transition=c,y.u_inv_rot_matrix=h,y.u_merc_center=u,y.u_up_dir=_.projection.upVector(new e.CanonicalTileID(0,0,0),u[0]*e.EXTENT,u[1]*e.EXTENT),y.u_height_lift=l),y},Br=(t,r,n,i,o,a,s,l,c,u,h,d,p)=>{const f=Or(t,r,n,i,o,a,s,u,h,d,p),m={u_height_factor:-Math.pow(2,s.overscaledZ)/c.tileSize/8};return e.extend(f,Rr(l,r,c),m)},Fr=e=>({u_matrix:e}),jr=(t,r,n,i)=>e.extend(Fr(t),Rr(n,r,i)),Ur=(e,t)=>({u_matrix:e,u_world:t}),Nr=(t,r,n,i,o)=>e.extend(jr(t,r,n,i),{u_world:o}),Vr=e.create(),Gr=(t,r,n,i,o,a)=>{const s=t.transform,l="globe"===s.projection.name;let c;if("map"===a.paint.get("circle-pitch-alignment"))if(l){const t=e.globePixelsToTileUnits(s.zoom,r.canonical)*s._pixelsPerMercatorPixel;c=Float32Array.from([t,0,0,t])}else c=s.calculatePixelsToTileUnitsMatrix(n);else c=new Float32Array([s.pixelsToGLUnits[0],0,0,s.pixelsToGLUnits[1]]);const u={u_camera_to_center_distance:s.cameraToCenterDistance,u_matrix:t.translatePosMatrix(r.projMatrix,n,a.paint.get("circle-translate"),a.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:c,u_inv_rot_matrix:Vr,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(l){u.u_inv_rot_matrix=i,u.u_merc_center=o,u.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],u.u_zoom_transition=e.globeToMercatorTransition(s.zoom);const t=o[0]*e.EXTENT,n=o[1]*e.EXTENT;u.u_up_dir=s.projection.upVector(new e.CanonicalTileID(0,0,0),t,n)}return u},qr=e=>{const t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},Zr=(t,r,n,i)=>{const o=e.EXTENT/n.tileSize;return{u_matrix:t,u_camera_to_center_distance:r.getCameraToCenterDistance(i),u_extrude_scale:[r.pixelsToGLUnits[0]/o,r.pixelsToGLUnits[1]/o]}},$r=(e,t,r=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:r}),Wr=e.create(),Xr=(t,r,n,i,o,a,s)=>{const l=t.transform,c="globe"===l.projection.name,u=c?e.globePixelsToTileUnits(l.zoom,r.canonical)*l._pixelsPerMercatorPixel:D(n,1,a),h={u_matrix:r.projMatrix,u_extrude_scale:u,u_intensity:s,u_inv_rot_matrix:Wr,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(c){h.u_inv_rot_matrix=i,h.u_merc_center=o,h.u_tile_id=[r.canonical.x,r.canonical.y,1<<r.canonical.z],h.u_zoom_transition=e.globeToMercatorTransition(l.zoom);const t=o[0]*e.EXTENT,n=o[1]*e.EXTENT;h.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),t,n)}return h},Hr=(e,t,r,n,i,o,a,s)=>{const l=e.transform,c=l.calculatePixelsToTileUnitsMatrix(t),u={u_matrix:Jr(e,t,r,i),u_pixels_to_tile_units:c,u_device_pixel_ratio:a,u_units_to_pixels:[1/l.pixelsToGLUnits[0],1/l.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:o,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0,u_trim_offset:s};if(Qr(r)){const r=Kr(t,e.transform);u.u_texsize=t.lineAtlasTexture.size,u.u_scale=[r,n.fromScale,n.toScale],u.u_mix=n.t}return u},Yr=(e,t,r,n,i,o)=>{const a=e.transform,s=Kr(t,a);return{u_matrix:Jr(e,t,r,i),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:a.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:o,u_image:0,u_scale:[s,n.fromScale,n.toScale],u_fade:n.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Kr(e,t){return 1/D(e,1,t.tileZoom)}function Jr(e,t,r,n){return e.translatePosMatrix(n||t.tileID.projMatrix,t,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}function Qr(e){const t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}const en=(e,t,r,n,i,o)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:r,u_fade_t:n.mix,u_opacity:n.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(s=i.paint.get("raster-saturation"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(a=i.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:tn(i.paint.get("raster-hue-rotate")),u_perspective_transform:o};var a,s};function tn(e){e*=Math.PI/180;const t=Math.sin(e),r=Math.cos(e);return[(2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3]}const rn=e.create(),nn=(t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g)=>{const _=o.transform,y={u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:r?r.uSizeT:0,u_size:r?r.uSize:0,u_camera_to_center_distance:_.cameraToCenterDistance,u_rotate_symbol:+n,u_aspect_ratio:_.width/_.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+c,u_pitch_with_map:+i,u_texsize:u,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:rn,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:rn,u_up_vector:[0,-1,0]};return"globe"===g.name&&(y.u_tile_id=[h.canonical.x,h.canonical.y,1<<h.canonical.z],y.u_zoom_transition=d,y.u_inv_rot_matrix=f,y.u_merc_center=p,y.u_camera_forward=_._camera.forward(),y.u_ecef_origin=e.globeECEFOrigin(_.globeMatrix,h.toUnwrapped()),y.u_tile_matrix=Float32Array.from(_.globeMatrix),y.u_up_vector=m),y},on=(t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g,_)=>e.extend(nn(t,r,n,i,o,a,s,l,c,u,d,p,f,m,g,_),{u_gamma_scale:i?o.transform.cameraToCenterDistance*Math.cos(o.terrain?0:o.transform._pitch):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+h}),an=(t,r,n,i,o,a,s,l,c,u,h,d,p,f,m,g)=>e.extend(on(t,r,n,i,o,a,s,l,!0,c,!0,h,d,p,f,m,g),{u_texsize_icon:u,u_texture_icon:1}),sn=(e,t,r)=>({u_matrix:e,u_opacity:t,u_color:r}),ln=(t,r,n,i,o,a)=>e.extend(function(e,t,r,n){const i=r.imageManager.getPattern(e.from.toString()),o=r.imageManager.getPattern(e.to.toString()),{width:a,height:s}=r.imageManager.getPixelSize(),l=Math.pow(2,n.tileID.overscaledZ),c=n.tileSize*Math.pow(2,r.transform.tileZoom)/l,u=c*(n.tileID.canonical.x+n.tileID.wrap*l),h=c*n.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[a,s],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/D(n,1,r.transform.tileZoom),u_pixel_coord_upper:[u>>16,h>>16],u_pixel_coord_lower:[65535&u,65535&h]}}(i,a,n,o),{u_matrix:t,u_opacity:r}),cn={fillExtrusion:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t)}),fillExtrusionPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_height_factor:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t)}),fill:t=>({u_matrix:new e.UniformMatrix4f(t)}),fillPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t)}),fillOutline:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t)}),fillOutlinePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t)}),circle:t=>({u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),collisionBox:t=>({u_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.Uniform2f(t)}),collisionCircle:t=>({u_matrix:new e.UniformMatrix4f(t),u_inv_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_viewport_size:new e.Uniform2f(t)}),debug:t=>({u_color:new e.UniformColor(t),u_matrix:new e.UniformMatrix4f(t),u_overlay:new e.Uniform1i(t),u_overlay_scale:new e.Uniform1f(t)}),clippingMask:t=>({u_matrix:new e.UniformMatrix4f(t)}),heatmap:t=>({u_extrude_scale:new e.Uniform1f(t),u_intensity:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),heatmapTexture:t=>({u_image:new e.Uniform1i(t),u_color_ramp:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t)}),hillshade:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_latrange:new e.Uniform2f(t),u_light:new e.Uniform2f(t),u_shadow:new e.UniformColor(t),u_highlight:new e.UniformColor(t),u_accent:new e.UniformColor(t)}),hillshadePrepare:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_dimension:new e.Uniform2f(t),u_zoom:new e.Uniform1f(t),u_unpack:new e.Uniform4f(t)}),line:t=>({u_matrix:new e.UniformMatrix4f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_units_to_pixels:new e.Uniform2f(t),u_dash_image:new e.Uniform1i(t),u_gradient_image:new e.Uniform1i(t),u_image_height:new e.Uniform1f(t),u_texsize:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_mix:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t),u_trim_offset:new e.Uniform2f(t)}),linePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_texsize:new e.Uniform2f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_units_to_pixels:new e.Uniform2f(t),u_scale:new e.Uniform3f(t),u_fade:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t)}),raster:t=>({u_matrix:new e.UniformMatrix4f(t),u_tl_parent:new e.Uniform2f(t),u_scale_parent:new e.Uniform1f(t),u_fade_t:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_image0:new e.Uniform1i(t),u_image1:new e.Uniform1i(t),u_brightness_low:new e.Uniform1f(t),u_brightness_high:new e.Uniform1f(t),u_saturation_factor:new e.Uniform1f(t),u_contrast_factor:new e.Uniform1f(t),u_spin_weights:new e.Uniform3f(t),u_perspective_transform:new e.Uniform2f(t)}),symbolIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_texture:new e.Uniform1i(t)}),symbolSDF:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_is_halo:new e.Uniform1i(t)}),symbolTextAndIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texsize_icon:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_texture_icon:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_is_halo:new e.Uniform1i(t)}),background:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_color:new e.UniformColor(t)}),backgroundPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_pattern_tl_a:new e.Uniform2f(t),u_pattern_br_a:new e.Uniform2f(t),u_pattern_tl_b:new e.Uniform2f(t),u_pattern_br_b:new e.Uniform2f(t),u_texsize:new e.Uniform2f(t),u_mix:new e.Uniform1f(t),u_pattern_size_a:new e.Uniform2f(t),u_pattern_size_b:new e.Uniform2f(t),u_scale_a:new e.Uniform1f(t),u_scale_b:new e.Uniform1f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),terrainRaster:xr,terrainDepth:xr,skybox:t=>({u_matrix:new e.UniformMatrix4f(t),u_sun_direction:new e.Uniform3f(t),u_cubemap:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxGradient:t=>({u_matrix:new e.UniformMatrix4f(t),u_color_ramp:new e.Uniform1i(t),u_center_direction:new e.Uniform3f(t),u_radius:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxCapture:t=>({u_matrix_3f:new e.UniformMatrix3f(t),u_sun_direction:new e.Uniform3f(t),u_sun_intensity:new e.Uniform1f(t),u_color_tint_r:new e.Uniform4f(t),u_color_tint_m:new e.Uniform4f(t),u_luminance:new e.Uniform1f(t)}),globeRaster:t=>({u_proj_matrix:new e.UniformMatrix4f(t),u_globe_matrix:new e.UniformMatrix4f(t),u_normalize_matrix:new e.UniformMatrix4f(t),u_merc_matrix:new e.UniformMatrix4f(t),u_zoom_transition:new e.Uniform1f(t),u_merc_center:new e.Uniform2f(t),u_image0:new e.Uniform1i(t),u_grid_matrix:new e.UniformMatrix3f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_viewport:new e.Uniform2f(t)}),globeAtmosphere:t=>({u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_horizon:new e.Uniform1f(t),u_transition:new e.Uniform1f(t),u_fadeout_range:new e.Uniform1f(t),u_color:new e.Uniform4f(t),u_high_color:new e.Uniform4f(t),u_space_color:new e.Uniform4f(t),u_star_intensity:new e.Uniform1f(t),u_star_density:new e.Uniform1f(t),u_star_size:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t),u_horizon_angle:new e.Uniform1f(t),u_rotation_matrix:new e.UniformMatrix4f(t)})};let un;function hn(t,r,n,i,o,a,s){const l=t.context,c=l.gl,u=t.transform,h=t.useProgram("collisionBox"),d=[];let p=0,f=0;for(let m=0;m<i.length;m++){const g=i[m],_=r.getTile(g),y=_.getBucket(n);if(!y)continue;const v=bt(g,y,u);let x=v;0===o[0]&&0===o[1]||(x=t.translatePosMatrix(v,_,o,a));const b=s?y.textCollisionBox:y.iconCollisionBox,w=y.collisionCircleArray;if(w.length>0){const t=e.create(),r=x;e.mul(t,y.placementInvProjMatrix,u.glCoordMatrix),e.mul(t,t,y.placementViewportMatrix),d.push({circleArray:w,circleOffset:f,transform:r,invTransform:t,projection:y.getProjection()}),p+=w.length/4,f=p}b&&(t.terrain&&t.terrain.setupElevationDraw(_,h),h.draw(l,c.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,Zr(x,u,_,y.getProjection()),n.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,u.zoom,null,[b.collisionVertexBuffer,b.collisionVertexBufferExt]))}if(!s||!d.length)return;const m=t.useProgram("collisionCircle"),g=new e.StructArrayLayout2f1f2i16;g.resize(4*p),g._trim();let _=0;for(const e of d)for(let t=0;t<e.circleArray.length/4;t++){const r=4*t,n=e.circleArray[r+0],i=e.circleArray[r+1],o=e.circleArray[r+2],a=e.circleArray[r+3];g.emplace(_++,n,i,o,a,0),g.emplace(_++,n,i,o,a,1),g.emplace(_++,n,i,o,a,2),g.emplace(_++,n,i,o,a,3)}(!un||un.length<2*p)&&(un=function(t){const r=2*t,n=new e.StructArrayLayout3ui6;n.resize(r),n._trim();for(let e=0;e<r;e++){const t=6*e;n.uint16[t+0]=4*e+0,n.uint16[t+1]=4*e+1,n.uint16[t+2]=4*e+2,n.uint16[t+3]=4*e+2,n.uint16[t+4]=4*e+3,n.uint16[t+5]=4*e+0}return n}(p));const y=l.createIndexBuffer(un,!0),v=l.createVertexBuffer(g,e.collisionCircleLayout.members,!0);for(const r of d){const i={u_matrix:r.transform,u_inv_matrix:r.invTransform,u_camera_to_center_distance:(x=u).getCameraToCenterDistance(r.projection),u_viewport_size:[x.width,x.height]};m.draw(l,c.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,i,n.id,v,y,e.SegmentVector.simpleSegment(0,2*r.circleOffset,r.circleArray.length,r.circleArray.length/2),null,u.zoom)}var x;v.destroy(),y.destroy()}const dn=e.create();function pn(t,r,n,i,o,a){const{horizontalAlign:s,verticalAlign:l}=e.getAnchorAlignment(t),c=-(s-.5)*r,u=-(l-.5)*n,h=e.evaluateVariableOffset(t,i);return new e.pointGeometry((c/o+h[0])*a,(u/o+h[1])*a)}function fn(t,r,n,i,o,a,s,l,c,u,h){const d=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,f=t.icon.dynamicLayoutVertexArray,m={},g=wt(l,t.getProjection(),a),_=a.elevation,y=t.getProjection().upVectorScale(l.canonical,a.center.lat,a.worldSize);p.clear();for(let f=0;f<d.length;f++){const v=d.get(f),x=t.allowVerticalPlacement&&!v.placedOrientation,b=v.hidden||!v.crossTileID||x?null:i[v.crossTileID];if(b){const i=new e.pointGeometry(v.tileAnchorX,v.tileAnchorY),d=t.getProjection().upVector(l.canonical,i.x,i.y),f=_?_.getAtTileOffset(l,i.x,i.y):0,x=ot([v.projectedAnchorX+f*d[0]*y.metersToTile,v.projectedAnchorY+f*d[1]*y.metersToTile,v.projectedAnchorZ+f*d[2]*y.metersToTile],n?g:s),w=at(a.getCameraToCenterDistance(t.getProjection()),x.signedDistanceFromCamera);let T=o.evaluateSizeForFeature(t.textSizeData,u,v)*w/e.ONE_EM;n&&(T*=t.tilePixelRatio/c);const{width:E,height:S,anchor:C,textOffset:M,textScale:k}=b,A=pn(C,E,S,M,k,T);let I;if(n){const e=i.add(A),{x:r,y:n,z:o}=t.getProjection().projectTilePoint(e.x,e.y,l.canonical);I=ot([r+f*d[0]*y.metersToTile,n+f*d[1]*y.metersToTile,o+f*d[2]*y.metersToTile],s).point}else{const e=r?A.rotate(-a.angle):A;I=[x.point[0]+e.x,x.point[1]+e.y,0]}const P=t.allowVerticalPlacement&&v.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<v.numGlyphs;t++)e.addDynamicAttributes(p,I[0],I[1],I[2],P);h&&v.associatedIconIndex>=0&&(m[v.associatedIconIndex]={shiftedAnchor:I,angle:P})}else gt(v.numGlyphs,p)}if(h){f.clear();const r=t.icon.placedSymbolArray;for(let t=0;t<r.length;t++){const n=r.get(t);if(n.hidden)gt(n.numGlyphs,f);else{const r=m[t];if(r)for(let t=0;t<n.numGlyphs;t++)e.addDynamicAttributes(f,r.shiftedAnchor[0],r.shiftedAnchor[1],r.shiftedAnchor[2],r.angle);else gt(n.numGlyphs,f)}}t.icon.dynamicLayoutVertexBuffer.updateData(f)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function mn(e,t,r){return r.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function gn(t,r,n,i,o,a,s,l,c,u,h,d){const p=t.context,f=p.gl,m=t.transform,g="map"===l,_="map"===c,y=g&&"point"!==n.layout.get("symbol-placement"),v=g&&!_&&!y,x=void 0!==n.layout.get("symbol-sort-key").constantOr(1);let b=!1;const w=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),T=[e.mercatorXfromLng(m.center.lng),e.mercatorYfromLat(m.center.lat)],E=n.layout.get("text-variable-anchor"),S="globe"===m.projection.name,C=[],M=[0,-1,0];let k=M;!S&&!m.mercatorFromTransition||g||(k=function(t){const r=t._camera.getWorldToCamera(t.worldSize,1),n=e.multiply([],r,t.globeMatrix);e.invert(n,n);const i=[0,0,0],o=[0,1,0,0];return e.transformMat4$1(o,o,n),i[0]=o[0],i[1]=o[1],i[2]=o[2],e.normalize(i,i),i}(m));for(const l of i){const i=r.getTile(l),c=i.getBucket(n);if(!c)continue;if("mercator"===c.projection.name&&S)continue;const h=o?c.text:c.icon;if(!h||c.fullyClipped||!h.segments.get().length)continue;const d=h.programConfigurations.get(n.id),p=o||c.sdfIcons,w=o?c.textSizeData:c.iconSizeData,A=_||0!==m.pitch,I=e.evaluateSizeForZoom(w,m.zoom);let P,z,D,R,L=[0,0],O=null;if(o){if(z=i.glyphAtlasTexture,D=f.LINEAR,P=i.glyphAtlasTexture.size,c.iconsInText){L=i.imageAtlasTexture.size,O=i.imageAtlasTexture;const e="composite"===w.kind||"camera"===w.kind;R=A||t.options.rotating||t.options.zooming||e?f.LINEAR:f.NEAREST}}else{const e=1!==n.layout.get("icon-size").constantOr(0)||c.iconsNeedLinear;z=i.imageAtlasTexture,D=p||t.options.rotating||t.options.zooming||e||A?f.LINEAR:f.NEAREST,P=i.imageAtlasTexture.size}const B="globe"===c.projection.name,F=B?k:M,j=B?e.globeToMercatorTransition(m.zoom):0,U=wt(l,c.getProjection(),m),N=m.calculatePixelsToTileUnitsMatrix(i),V=tt(U,i.tileID.canonical,_,g,m,c.getProjection(),N),G=t.terrain&&_&&y?e.invert(e.create(),V):dn,q=nt(U,i.tileID.canonical,_,g,m,c.getProjection(),N),Z=E&&c.hasTextData(),$="none"!==n.layout.get("icon-text-fit")&&Z&&c.hasIconData();if(y){const e=m.elevation,r=e?e.getAtTileOffsetFunc(l,m.center.lat,m.worldSize,c.getProjection()):e=>[0,0,0],n=rt(U,i.tileID.canonical,_,g,m,c.getProjection(),N);lt(c,U,t,o,n,q,_,u,r,l)}const W=y||o&&E||$,X=t.translatePosMatrix(U,i,a,s),H=W?dn:V,Y=t.translatePosMatrix(q,i,a,s,!0),K=c.getProjection().createInversionMatrix(m,l.canonical),J=[];t.terrainRenderModeElevated()&&_&&J.push("PITCH_WITH_MAP_TERRAIN"),B&&J.push("PROJECTION_GLOBE_VIEW"),W&&J.push("PROJECTED_POS_ON_VIEWPORT");const Q=p&&0!==n.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);let ee;ee=p?c.iconsInText?an(w.kind,I,v,_,t,X,H,Y,P,L,l,j,T,K,F,c.getProjection()):on(w.kind,I,v,_,t,X,H,Y,o,P,!0,l,j,T,K,F,c.getProjection()):nn(w.kind,I,v,_,t,X,H,Y,o,P,l,j,T,K,F,c.getProjection());const te={program:t.useProgram(mn(p,o,c),d,J),buffers:h,uniformValues:ee,atlasTexture:z,atlasTextureIcon:O,atlasInterpolation:D,atlasInterpolationIcon:R,isSDF:p,hasHalo:Q,tile:i,labelPlaneMatrixInv:G};if(x&&c.canOverlap){b=!0;const t=h.segments.get();for(const r of t)C.push({segments:new e.SegmentVector([r]),sortKey:r.sortKey,state:te})}else C.push({segments:h.segments,sortKey:0,state:te})}b&&C.sort((e,t)=>e.sortKey-t.sortKey);for(const e of C){const r=e.state;if(t.terrain&&t.terrain.setupElevationDraw(r.tile,r.program,{useDepthForOcclusion:!S,labelPlaneMatrixInv:r.labelPlaneMatrixInv}),p.activeTexture.set(f.TEXTURE0),r.atlasTexture.bind(r.atlasInterpolation,f.CLAMP_TO_EDGE),r.atlasTextureIcon&&(p.activeTexture.set(f.TEXTURE1),r.atlasTextureIcon&&r.atlasTextureIcon.bind(r.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),r.isSDF){const i=r.uniformValues;r.hasHalo&&(i.u_is_halo=1,_n(r.buffers,e.segments,n,t,r.program,w,h,d,i)),i.u_is_halo=0}_n(r.buffers,e.segments,n,t,r.program,w,h,d,r.uniformValues)}}function _n(t,r,n,i,o,a,s,l,c){const u=i.context,h=[t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer,t.globeExtVertexBuffer];o.draw(u,u.gl.TRIANGLES,a,s,l,e.CullFaceMode.disabled,c,n.id,t.layoutVertexBuffer,t.indexBuffer,r,n.paint,i.transform.zoom,t.programConfigurations.get(n.id),h)}function yn(t,r,n,i,o,a,s){const l=t.context.gl,c=n.paint.get("fill-pattern"),u=c&&c.constantOr(1),h=n.getCrossfadeParameters();let d,p,f,m,g;s?(p=u&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",d=l.LINES):(p=u?"fillPattern":"fill",d=l.TRIANGLES);for(const _ of i){const i=r.getTile(_);if(u&&!i.patternsLoaded())continue;const y=i.getBucket(n);if(!y)continue;t.prepareDrawTile();const v=y.programConfigurations.get(n.id),x=t.useProgram(p,v);u&&(t.context.activeTexture.set(l.TEXTURE0),i.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),v.updatePaintBuffers(h));const b=c.constantOr(null);if(b&&i.imageAtlas){const e=i.imageAtlas,t=e.patternPositions[b.to.toString()],r=e.patternPositions[b.from.toString()];t&&r&&v.setConstantPatternPositions(t,r)}const w=t.translatePosMatrix(_.projMatrix,i,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(s){m=y.indexBuffer2,g=y.segments2;const e=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[l.drawingBufferWidth,l.drawingBufferHeight];f="fillOutlinePattern"===p&&u?Nr(w,t,h,i,e):Ur(w,e)}else m=y.indexBuffer,g=y.segments,f=u?jr(w,t,h,i):Fr(w);t.prepareDrawProgram(t.context,x,_.toUnwrapped()),x.draw(t.context,d,o,t.stencilModeForClipping(_),a,e.CullFaceMode.disabled,f,n.id,y.layoutVertexBuffer,m,g,n.paint,t.transform.zoom,v)}}function vn(t,r,n,i,o,a,s){const l=t.context,c=l.gl,u=t.transform,h=n.paint.get("fill-extrusion-pattern"),d=h.constantOr(1),p=n.getCrossfadeParameters(),f=n.paint.get("fill-extrusion-opacity"),m=[n.paint.get("fill-extrusion-ambient-occlusion-intensity"),n.paint.get("fill-extrusion-ambient-occlusion-radius")],g=n.layout.get("fill-extrusion-edge-radius"),_="globe"===u.projection.name?e.fillExtrusionHeightLift():0,y="globe"===u.projection.name,v=y?e.globeToMercatorTransition(u.zoom):0,x=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],b=[];y&&(b.push("PROJECTION_GLOBE_VIEW"),t.style.terrainSetForDrapingOnly()&&b.push("TERRAIN")),m[0]>0&&b.push("FAUX_AO");for(const w of i){const i=r.getTile(w),T=i.getBucket(n);if(!T||T.projection.name!==u.projection.name)continue;const E=T.programConfigurations.get(n.id),S=t.useProgram(d?"fillExtrusionPattern":"fillExtrusion",E,b);if(t.terrain){const e=t.terrain;if(t.style.terrainSetForDrapingOnly())e.setupElevationDraw(i,S,{useMeterToDem:!0});else{if(!T.enableTerrain)continue;if(e.setupElevationDraw(i,S,{useMeterToDem:!0}),xn(l,r,w,T,n,e),!T.centroidVertexBuffer){const e=S.attributes.a_centroid_pos;void 0!==e&&c.vertexAttrib2f(e,0,0)}}}d&&(t.context.activeTexture.set(c.TEXTURE0),i.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),E.updatePaintBuffers(p));const C=h.constantOr(null);if(C&&i.imageAtlas){const e=i.imageAtlas,t=e.patternPositions[C.to.toString()],r=e.patternPositions[C.from.toString()];t&&r&&E.setConstantPatternPositions(t,r)}const M=t.translatePosMatrix(w.projMatrix,i,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),k=u.projection.createInversionMatrix(u,w.canonical),A=n.paint.get("fill-extrusion-vertical-gradient"),I=d?Br(M,t,A,f,m,g,w,p,i,_,v,x,k):Or(M,t,A,f,m,g,w,_,v,x,k);t.prepareDrawProgram(l,S,w.toUnwrapped());const P=[];t.terrain&&P.push(T.centroidVertexBuffer),y&&P.push(T.layoutVertexExtBuffer),S.draw(l,l.gl.TRIANGLES,o,a,s,e.CullFaceMode.backCCW,I,n.id,T.layoutVertexBuffer,T.indexBuffer,T.segments,n.paint,t.transform.zoom,E,P)}}function xn(t,r,n,i,o,a){const s=[t=>{let r=t.canonical.x-1,n=t.wrap;return r<0&&(r=(1<<t.canonical.z)-1,n--),new e.OverscaledTileID(t.overscaledZ,n,t.canonical.z,r,t.canonical.y)},t=>{let r=t.canonical.x+1,n=t.wrap;return r===1<<t.canonical.z&&(r=0,n++),new e.OverscaledTileID(t.overscaledZ,n,t.canonical.z,r,t.canonical.y)},t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1),t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)],l=e=>{const t=r.getSource().minzoom,n=e=>{const t=r.getTileByID(e);if(t&&t.hasData())return t.getBucket(o)},i=[0,-1,1];for(const r of i){if(e.overscaledZ+r<t)continue;const i=n(e.calculateScaledKey(e.overscaledZ+r));if(i)return i}},c=[0,0,0],u=(t,r)=>(c[0]=Math.min(t.min.y,r.min.y),c[1]=Math.max(t.max.y,r.max.y),c[2]=e.EXTENT-r.min.x>t.max.x?r.min.x-e.EXTENT:t.max.x,c),h=(t,r)=>(c[0]=Math.min(t.min.x,r.min.x),c[1]=Math.max(t.max.x,r.max.x),c[2]=e.EXTENT-r.min.y>t.max.y?r.min.y-e.EXTENT:t.max.y,c),d=[(e,t)=>u(e,t),(e,t)=>u(t,e),(e,t)=>h(e,t),(e,t)=>h(t,e)],p=new e.pointGeometry(0,0);let f,m,g;const _=(t,r,i,o,s)=>{const l=[[o?i:t,o?t:i,0],[o?i:r,o?r:i,0]],c=s<0?e.EXTENT+s:s,u=[o?c:(t+r)/2,o?(t+r)/2:c,0];return 0===i&&s<0||0!==i&&s>0?a.getForTilePoints(g,[u],!0,m):l.push(u),a.getForTilePoints(n,l,!0,f),Math.max(l[0][2],l[1][2],u[2])/a.exaggeration()};for(let t=0;t<4;t++){const r=(t<2?1:5)-t,o=i.borders[t];if(0===o.length)continue;const c=g=s[t](n),u=l(c);if(!(u&&u instanceof e.FillExtrusionBucket&&u.enableTerrain))continue;if(i.borderDoneWithNeighborZ[t]===u.canonical.z&&u.borderDoneWithNeighborZ[r]===i.canonical.z)continue;if(m=a.findDEMTileFor(c),!m||!m.dem)continue;if(!f){const e=a.findDEMTileFor(n);if(!e||!e.dem)return;f=e}const h=u.borders[r];let y=0;const v=u.borderDoneWithNeighborZ[r]!==i.canonical.z;if(i.canonical.z===u.canonical.z){for(let n=0;n<o.length;n++){const a=i.featuresOnBorder[o[n]],s=a.borders[t];let l;for(;y<h.length&&(l=u.featuresOnBorder[h[y]],!(l.borders[r][1]>s[0]+3));)v&&u.encodeCentroid(void 0,l,!1),y++;if(l&&y<h.length){const n=y;let o=0;for(;!(l.borders[r][0]>s[1]-3)&&(o++,++y!==h.length);)l=u.featuresOnBorder[h[y]];if(l=u.featuresOnBorder[h[n]],a.intersectsCount()>1||l.intersectsCount()>1||1!==o){1!==o&&(y=n),i.encodeCentroid(void 0,a,!1),v&&u.encodeCentroid(void 0,l,!1);continue}const c=d[t](a,l),f=t%2?e.EXTENT-1:0;p.x=_(c[0],Math.min(e.EXTENT-1,c[1]),f,t<2,c[2]),p.y=0,i.encodeCentroid(p,a,!1),v&&u.encodeCentroid(p,l,!1)}else i.encodeCentroid(void 0,a,!1)}i.borderDoneWithNeighborZ[t]=u.canonical.z,i.needsCentroidUpdate=!0,v&&(u.borderDoneWithNeighborZ[r]=i.canonical.z,u.needsCentroidUpdate=!0)}else{for(const e of o)i.encodeCentroid(void 0,i.featuresOnBorder[e],!1);if(v){for(const e of h)u.encodeCentroid(void 0,u.featuresOnBorder[e],!1);u.borderDoneWithNeighborZ[r]=i.canonical.z,u.needsCentroidUpdate=!0}i.borderDoneWithNeighborZ[t]=u.canonical.z,i.needsCentroidUpdate=!0}}(i.needsCentroidUpdate||!i.centroidVertexBuffer&&0!==i.centroidVertexArray.length)&&i.uploadCentroid(t)}const bn=new e.Color(1,0,0,1),wn=new e.Color(0,1,0,1),Tn=new e.Color(0,0,1,1),En=new e.Color(1,0,1,1),Sn=new e.Color(0,1,1,1);function Cn(t,r,n){const i=t.context,o=t.transform,a=i.gl,s="globe"===o.projection.name,l=s?["PROJECTION_GLOBE_VIEW"]:null;let c=n.projMatrix;if(s&&e.globeToMercatorTransition(o.zoom)>0){const t=e.transitionTileAABBinECEF(n.canonical,o),r=e.globeDenormalizeECEF(t);c=e.multiply(new Float32Array(16),o.globeMatrix,r),e.multiply(c,o.projMatrix,c)}const u=t.useProgram("debug",null,l),h=r.getTileByID(n.key);t.terrain&&t.terrain.setupElevationDraw(h,u);const d=e.DepthMode.disabled,p=e.StencilMode.disabled,f=t.colorModeForRenderPass(),m="$debug";i.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s?h._makeGlobeTileDebugBuffers(t.context,o):h._makeDebugTileBoundsBuffers(t.context,o.projection);const g=h._tileDebugBuffer||t.debugBuffer,_=h._tileDebugIndexBuffer||t.debugIndexBuffer,y=h._tileDebugSegments||t.debugSegments;u.draw(i,a.LINE_STRIP,d,p,f,e.CullFaceMode.disabled,$r(c,e.Color.red),m,g,_,y,null,null,null,[h._globeTileDebugBorderBuffer]);const v=h.latestRawTileData,x=Math.floor((v&&v.byteLength||0)/1024),b=r.getTile(n).tileSize,w=512/Math.min(b,512)*(n.overscaledZ/o.zoom)*.5;let T=n.canonical.toString();n.overscaledZ!==n.canonical.z&&(T+=" => "+n.overscaledZ),T+=` ${x}kb`,function(e,t){e.initDebugOverlayCanvas();const r=e.debugOverlayCanvas,n=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,r.width,r.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(r),e.debugOverlayTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}(t,T);const E=h._tileDebugTextBuffer||t.debugBuffer,S=h._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,C=h._tileDebugTextSegments||t.debugSegments;u.draw(i,a.TRIANGLES,d,p,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,$r(c,e.Color.transparent,w),m,E,S,C,null,null,null,[h._globeTileDebugTextBuffer])}function Mn(e,t,r,n){An(e,0,t+r/2,e.transform.width,r,n)}function kn(e,t,r,n){An(e,t-r/2,0,r,e.transform.height,n)}function An(t,r,n,i,o,a){const s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(r*e.exported.devicePixelRatio,n*e.exported.devicePixelRatio,i*e.exported.devicePixelRatio,o*e.exported.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}const In=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Pn}=In;function zn(e,t,r,n){e.emplaceBack(t,r,n)}class Dn{constructor(t){this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,zn(this.vertexArray,-1,-1,1),zn(this.vertexArray,1,-1,1),zn(this.vertexArray,-1,1,1),zn(this.vertexArray,1,1,1),zn(this.vertexArray,-1,-1,-1),zn(this.vertexArray,1,-1,-1),zn(this.vertexArray,-1,1,-1),zn(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,Pn),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}}function Rn(t,r,n,i,o,a){const s=t.gl,l=r.paint.get("sky-atmosphere-color"),c=r.paint.get("sky-atmosphere-halo-color"),u=r.paint.get("sky-atmosphere-sun-intensity"),h=((e,t,r,n,i)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:r,u_color_tint_r:[n.r,n.g,n.b,n.a],u_color_tint_m:[i.r,i.g,i.b,i.a],u_luminance:5e-5}))(e.fromMat4(e.create$1(),i),o,u,l,c);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+a,r.skyboxTexture,0),n.draw(t,s.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,h,"skyboxCapture",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}const Ln=e.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class On{constructor(t){const r=new e.StructArrayLayout5f20;r.emplaceBack(-1,1,1,0,0),r.emplaceBack(1,1,1,1,0),r.emplaceBack(1,-1,1,1,1),r.emplaceBack(-1,-1,1,0,1);const n=new e.StructArrayLayout3ui6;n.emplaceBack(0,1,2),n.emplaceBack(2,3,0),this.vertexBuffer=t.createVertexBuffer(r,Ln.members),this.indexBuffer=t.createIndexBuffer(n),this.segments=e.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Bn={symbol:function(t,r,n,i,o){if("translucent"!==t.renderPass)return;const a=e.StencilMode.disabled,s=t.colorModeForRenderPass();n.layout.get("text-variable-anchor")&&function(t,r,n,i,o,a,s){const l=r.transform,c="map"===o,u="map"===a;for(const r of t){const t=i.getTile(r),o=t.getBucket(n);if(!o||!o.text||!o.text.segments.get().length)continue;const a=e.evaluateSizeForZoom(o.textSizeData,l.zoom),h=wt(r,o.getProjection(),l),d=l.calculatePixelsToTileUnitsMatrix(t),p=tt(h,t.tileID.canonical,u,c,l,o.getProjection(),d),f="none"!==n.layout.get("icon-text-fit")&&o.hasIconData();if(a){const n=Math.pow(2,l.zoom-t.tileID.overscaledZ);fn(o,c,u,s,e.symbolSize,l,p,r,n,a,f)}}}(i,t,n,r,n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),o),0!==n.paint.get("icon-opacity").constantOr(1)&&gn(t,r,n,i,!1,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),n.layout.get("icon-rotation-alignment"),n.layout.get("icon-pitch-alignment"),n.layout.get("icon-keep-upright"),a,s),0!==n.paint.get("text-opacity").constantOr(1)&&gn(t,r,n,i,!0,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),n.layout.get("text-rotation-alignment"),n.layout.get("text-pitch-alignment"),n.layout.get("text-keep-upright"),a,s),r.map.showCollisionBoxes&&(hn(t,r,n,i,n.paint.get("text-translate"),n.paint.get("text-translate-anchor"),!0),hn(t,r,n,i,n.paint.get("icon-translate"),n.paint.get("icon-translate-anchor"),!1))},circle:function(t,r,n,i){if("translucent"!==t.renderPass)return;const o=n.paint.get("circle-opacity"),a=n.paint.get("circle-stroke-width"),s=n.paint.get("circle-stroke-opacity"),l=void 0!==n.layout.get("circle-sort-key").constantOr(1);if(0===o.constantOr(1)&&(0===a.constantOr(1)||0===s.constantOr(1)))return;const c=t.context,u=c.gl,h=t.transform,d=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),p=e.StencilMode.disabled,f=t.colorModeForRenderPass(),m="globe"===h.projection.name,g=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],_=[];for(let o=0;o<i.length;o++){const a=i[o],s=r.getTile(a),c=s.getBucket(n);if(!c||c.projection.name!==h.projection.name)continue;const u=c.programConfigurations.get(n.id),d=qr(n);m&&d.push("PROJECTION_GLOBE_VIEW");const p=t.useProgram("circle",u,d),f=c.layoutVertexBuffer,y=c.globeExtVertexBuffer,v=c.indexBuffer,x=h.projection.createInversionMatrix(h,a.canonical),b={programConfiguration:u,program:p,layoutVertexBuffer:f,globeExtVertexBuffer:y,indexBuffer:v,uniformValues:Gr(t,a,s,x,g,n),tile:s};if(l){const t=c.segments.get();for(const r of t)_.push({segments:new e.SegmentVector([r]),sortKey:r.sortKey,state:b})}else _.push({segments:c.segments,sortKey:0,state:b})}l&&_.sort((e,t)=>e.sortKey-t.sortKey);const y={useDepthForOcclusion:!m};for(const r of _){const{programConfiguration:i,program:o,layoutVertexBuffer:a,globeExtVertexBuffer:s,indexBuffer:l,uniformValues:m,tile:g}=r.state,_=r.segments;t.terrain&&t.terrain.setupElevationDraw(g,o,y),t.prepareDrawProgram(c,o,g.tileID.toUnwrapped()),o.draw(c,u.TRIANGLES,d,p,f,e.CullFaceMode.disabled,m,n.id,a,l,_,n.paint,h.zoom,i,[s])}},heatmap:function(t,r,n,i){if(0!==n.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const o=t.context,a=o.gl,s=e.StencilMode.disabled,l=new e.ColorMode([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,r,n){const i=e.gl,o=t.width*n,a=t.height*n;e.activeTexture.set(i.TEXTURE1),e.viewport.set([0,0,o,a]);let s=r.heatmapFbo;if(!s||s&&(s.width!==o||s.height!==a)){s&&s.destroy();const t=i.createTexture();i.bindTexture(i.TEXTURE_2D,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),s=r.heatmapFbo=e.createFramebuffer(o,a,!1),function(e,t,r,n,i,o){const a=e.gl;a.texImage2D(a.TEXTURE_2D,0,a.RGBA,i,o,0,a.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:a.UNSIGNED_BYTE,null),n.colorAttachment.set(r)}(e,0,t,s,o,a)}else i.bindTexture(i.TEXTURE_2D,s.colorAttachment.get()),e.bindFramebuffer.set(s.framebuffer)}(o,t,n,"globe"===t.transform.projection.name?.5:.25),o.clear({color:e.Color.transparent});const c=t.transform,u="globe"===c.projection.name,h=u?["PROJECTION_GLOBE_VIEW"]:null,d=u?e.CullFaceMode.frontCCW:e.CullFaceMode.disabled,p=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)];for(let f=0;f<i.length;f++){const m=i[f];if(r.hasRenderableParent(m))continue;const g=r.getTile(m),_=g.getBucket(n);if(!_||_.projection.name!==c.projection.name)continue;const y=_.programConfigurations.get(n.id),v=t.useProgram("heatmap",y,h),{zoom:x}=t.transform;t.terrain&&t.terrain.setupElevationDraw(g,v),t.prepareDrawProgram(o,v,m.toUnwrapped());const b=c.projection.createInversionMatrix(c,m.canonical);v.draw(o,a.TRIANGLES,e.DepthMode.disabled,s,l,d,Xr(t,m,g,b,p,x,n.paint.get("heatmap-intensity")),n.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,n.paint,t.transform.zoom,y,u?[_.globeExtVertexBuffer]:null)}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,r){const n=t.context,i=n.gl,o=r.heatmapFbo;if(!o)return;n.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),n.activeTexture.set(i.TEXTURE1);let a=r.colorRampTexture;a||(a=r.colorRampTexture=new e.Texture(n,r.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(n,i.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,((e,t,r,n)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}))(0,r),r.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,r.paint,t.transform.zoom)}(t,n))},line:function(t,r,n,i){if("translucent"!==t.renderPass)return;const o=n.paint.get("line-opacity"),a=n.paint.get("line-width");if(0===o.constantOr(1)||0===a.constantOr(1))return;const s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),c=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,u=n.paint.get("line-dasharray"),h=u.constantOr(1),d=n.layout.get("line-cap"),p=n.paint.get("line-pattern"),f=p.constantOr(1),m=n.paint.get("line-gradient"),g=n.getCrossfadeParameters(),_=f?"linePattern":"line",y=t.context,v=y.gl,x=(e=>{const t=[];Qr(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT");const r=e.paint.get("line-trim-offset");0===r[0]&&0===r[1]||t.push("RENDER_LINE_TRIM_OFFSET");const n=e.paint.get("line-pattern").constantOr(1),i=1!==e.paint.get("line-opacity").constantOr(1);return!n&&i&&t.push("RENDER_LINE_ALPHA_DISCARD"),t})(n);let b=x.includes("RENDER_LINE_ALPHA_DISCARD");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(b=!1);for(const o of i){const i=r.getTile(o);if(f&&!i.patternsLoaded())continue;const a=i.getBucket(n);if(!a)continue;t.prepareDrawTile();const w=a.programConfigurations.get(n.id),T=t.useProgram(_,w,x),E=p.constantOr(null);if(E&&i.imageAtlas){const e=i.imageAtlas,t=e.patternPositions[E.to.toString()],r=e.patternPositions[E.from.toString()];t&&r&&w.setConstantPatternPositions(t,r)}const S=u.constantOr(null),C=d.constantOr(null);if(!f&&S&&C&&i.lineAtlas){const e=i.lineAtlas,t=e.getDash(S.to,C),r=e.getDash(S.from,C);t&&r&&w.setConstantPatternPositions(t,r)}let[M,k]=n.paint.get("line-trim-offset");if("round"===C||"square"===C){const e=1;M!==k&&(0===M&&(M-=e),1===k&&(k+=e))}const A=t.terrain?o.projMatrix:null,I=f?Yr(t,i,n,g,A,c):Hr(t,i,n,g,A,a.lineClipsArray.length,c,[M,k]);if(m){const i=a.gradients[n.id];let s=i.texture;if(n.gradientVersion!==i.version){let l=256;if(n.stepInterpolant){const n=r.getSource().maxzoom,i=o.canonical.z===n?Math.ceil(1<<t.transform.maxZoom-o.canonical.z):1;l=e.clamp(e.nextPowerOfTwo(a.maxLineLength/e.EXTENT*1024*i),256,y.maxTextureSize)}i.gradient=e.renderColorRamp({expression:n.gradientExpression(),evaluationKey:"lineProgress",resolution:l,image:i.gradient||void 0,clips:a.lineClipsArray}),i.texture?i.texture.update(i.gradient):i.texture=new e.Texture(y,i.gradient,v.RGBA),i.version=n.gradientVersion,s=i.texture}y.activeTexture.set(v.TEXTURE1),s.bind(n.stepInterpolant?v.NEAREST:v.LINEAR,v.CLAMP_TO_EDGE)}h&&(y.activeTexture.set(v.TEXTURE0),i.lineAtlasTexture.bind(v.LINEAR,v.REPEAT),w.updatePaintBuffers(g)),f&&(y.activeTexture.set(v.TEXTURE0),i.imageAtlasTexture.bind(v.LINEAR,v.CLAMP_TO_EDGE),w.updatePaintBuffers(g)),t.prepareDrawProgram(y,T,o.toUnwrapped());const P=r=>{T.draw(y,v.TRIANGLES,s,r,l,e.CullFaceMode.disabled,I,n.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,n.paint,t.transform.zoom,w,[a.layoutVertexBuffer2])};if(b){const r=t.stencilModeForClipping(o).ref;0===r&&t.terrain&&y.clear({stencil:0});const n={func:v.EQUAL,mask:255};I.u_alpha_discard_threshold=.8,P(new e.StencilMode(n,r,255,v.KEEP,v.KEEP,v.INVERT)),I.u_alpha_discard_threshold=0,P(new e.StencilMode(n,r,255,v.KEEP,v.KEEP,v.KEEP))}else P(t.stencilModeForClipping(o))}b&&(t.resetStencilClippingMasks(),t.terrain&&y.clear({stencil:0}))},fill:function(t,r,n,i){const o=n.paint.get("fill-color"),a=n.paint.get("fill-opacity");if(0===a.constantOr(1))return;const s=t.colorModeForRenderPass(),l=n.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){const o=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);yn(t,r,n,i,o,s,!1)}if("translucent"===t.renderPass&&n.paint.get("fill-antialias")){const o=t.depthModeForSublayer(n.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);yn(t,r,n,i,o,s,!0)}},"fill-extrusion":function(t,r,n,i){const o=n.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===t.renderPass){const a=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==o||n.paint.get("fill-extrusion-pattern").constantOr(1))vn(t,r,n,i,a,e.StencilMode.disabled,e.ColorMode.disabled),vn(t,r,n,i,a,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else{const o=t.colorModeForRenderPass();vn(t,r,n,i,a,e.StencilMode.disabled,o)}}},hillshade:function(t,r,n,i){if("offscreen"!==t.renderPass&&"translucent"!==t.renderPass)return;const o=t.context,a=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),s=t.colorModeForRenderPass(),l=t.terrain&&t.terrain.renderingToTexture,[c,u]="translucent"!==t.renderPass||l?[{},i]:t.stencilConfigForOverlap(i);for(const i of u){const o=r.getTile(i);if(o.needsHillshadePrepare&&"offscreen"===t.renderPass)vr(t,o,n,a,e.StencilMode.disabled,s);else if("translucent"===t.renderPass){const e=l&&t.terrain?t.terrain.stencilModeForRTTOverlap(i):c[i.overscaledZ];_r(t,i,o,n,a,e,s)}}o.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks()},raster:function(t,r,n,i,o,a){if("translucent"!==t.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!i.length)return;const s=t.context,l=s.gl,c=r.getSource(),u=t.useProgram("raster"),h=t.colorModeForRenderPass(),d=t.terrain&&t.terrain.renderingToTexture,[p,f]=c instanceof Ie||d?[{},i]:t.stencilConfigForOverlap(i),m=f[f.length-1].overscaledZ,g=!t.options.moving;for(const i of f){const o=d?e.DepthMode.disabled:t.depthModeForSublayer(i.overscaledZ-m,1===n.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,l.LESS),f=i.toUnwrapped(),_=r.getTile(i);if(d&&(!_||!_.hasData()))continue;const y=d?i.projMatrix:t.transform.calculateProjMatrix(f,g),v=t.terrain&&d?t.terrain.stencilModeForRTTOverlap(i):p[i.overscaledZ],x=a?0:n.paint.get("raster-fade-duration");_.registerFadeDuration(x);const b=r.findLoadedParent(i,0),w=kr(_,b,r,t.transform,x);let T,E;t.terrain&&t.terrain.prepareDrawTile();const S="nearest"===n.paint.get("raster-resampling")?l.NEAREST:l.LINEAR;s.activeTexture.set(l.TEXTURE0),_.texture.bind(S,l.CLAMP_TO_EDGE),s.activeTexture.set(l.TEXTURE1),b?(b.texture.bind(S,l.CLAMP_TO_EDGE),T=Math.pow(2,b.tileID.overscaledZ-_.tileID.overscaledZ),E=[_.tileID.canonical.x*T%1,_.tileID.canonical.y*T%1]):_.texture.bind(S,l.CLAMP_TO_EDGE);const C=en(y,E||[0,0],T||1,w,n,c instanceof Ie?c.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(s,u,f),c instanceof Ie)c.boundsBuffer&&c.boundsSegments&&u.draw(s,l.TRIANGLES,o,e.StencilMode.disabled,h,e.CullFaceMode.disabled,C,n.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else{const{tileBoundsBuffer:r,tileBoundsIndexBuffer:i,tileBoundsSegments:a}=t.getTileBoundsBuffers(_);u.draw(s,l.TRIANGLES,o,v,h,e.CullFaceMode.disabled,C,n.id,r,i,a)}}t.resetStencilClippingMasks()},background:function(t,r,n,i){const o=n.paint.get("background-color"),a=n.paint.get("background-opacity");if(0===a)return;const s=t.context,l=s.gl,c=t.transform,u=c.tileSize,h=n.paint.get("background-pattern");if(t.isPatternMissing(h))return;const d=!h&&1===o.a&&1===a&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass!==d)return;const p=e.StencilMode.disabled,f=t.depthModeForSublayer(0,"opaque"===d?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),m=t.colorModeForRenderPass(),g=t.useProgram(h?"backgroundPattern":"background");let _,y=i;y||(_=t.getBackgroundTiles(),y=Object.values(_).map(e=>e.tileID)),h&&(s.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));const v=n.getCrossfadeParameters();for(const d of y){const y=d.toUnwrapped(),x=i?d.projMatrix:t.transform.calculateProjMatrix(y);t.prepareDrawTile();const b=r?r.getTile(d):_?_[d.key]:new e.Tile(d,u,c.zoom,t),w=h?ln(x,a,t,h,{tileID:d,tileSize:u},v):sn(x,a,o);t.prepareDrawProgram(s,g,y);const{tileBoundsBuffer:T,tileBoundsIndexBuffer:E,tileBoundsSegments:S}=t.getTileBoundsBuffers(b);g.draw(s,l.TRIANGLES,f,p,m,e.CullFaceMode.disabled,w,n.id,T,E,S)}},sky:function(t,r,n){const i=t.transform,o="mercator"===i.projection.name||"globe"===i.projection.name?1:e.smoothstep(7,8,i.zoom),a=n.paint.get("sky-opacity")*o;if(0===a)return;const s=t.context,l=n.paint.get("sky-type"),c=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),u=t.frameCounter/1e3%1;"atmosphere"===l?"offscreen"===t.renderPass?n.needsSkyboxCapture(t)&&(function(t,r,n,i){const o=t.context,a=o.gl;let s=r.skyboxFbo;if(!s){s=r.skyboxFbo=o.createFramebuffer(32,32,!1),r.skyboxGeometry=new Dn(o),r.skyboxTexture=o.gl.createTexture(),a.bindTexture(a.TEXTURE_CUBE_MAP,r.skyboxTexture),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);for(let e=0;e<6;++e)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,a.RGBA,32,32,0,a.RGBA,a.UNSIGNED_BYTE,null)}o.bindFramebuffer.set(s.framebuffer),o.viewport.set([0,0,32,32]);const l=r.getCenter(t,!0),c=t.useProgram("skyboxCapture"),u=new Float64Array(16);e.identity(u),e.rotateY(u,u,.5*-Math.PI),Rn(o,r,c,u,l,0),e.identity(u),e.rotateY(u,u,.5*Math.PI),Rn(o,r,c,u,l,1),e.identity(u),e.rotateX(u,u,.5*-Math.PI),Rn(o,r,c,u,l,2),e.identity(u),e.rotateX(u,u,.5*Math.PI),Rn(o,r,c,u,l,3),e.identity(u),Rn(o,r,c,u,l,4),e.identity(u),e.rotateY(u,u,Math.PI),Rn(o,r,c,u,l,5),o.viewport.set([0,0,t.width,t.height])}(t,n),n.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,r,n,i,o){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram("skybox");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,r.skyboxTexture);const u=((e,t,r,n,i)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:n,u_temporal_offset:i}))(l.skyboxMatrix,r.getCenter(t,!1),0,i,o);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,n,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,u,"skybox",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}(t,n,c,a,u):"gradient"===l&&"sky"===t.renderPass&&function(t,r,n,i,o){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram("skyboxGradient");r.skyboxGeometry||(r.skyboxGeometry=new Dn(a)),a.activeTexture.set(s.TEXTURE0);let u=r.colorRampTexture;u||(u=r.colorRampTexture=new e.Texture(a,r.colorRamp,s.RGBA)),u.bind(s.LINEAR,s.CLAMP_TO_EDGE);const h=((t,r,n,i,o)=>({u_matrix:t,u_color_ramp:0,u_center_direction:r,u_radius:e.degToRad(n),u_opacity:i,u_temporal_offset:o}))(l.skyboxMatrix,r.getCenter(t,!1),r.paint.get("sky-gradient-radius"),i,o);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,n,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,h,"skyboxGradient",r.skyboxGeometry.vertexBuffer,r.skyboxGeometry.indexBuffer,r.skyboxGeometry.segment)}(t,n,c,a,u)},debug:function(e,t,r){for(let n=0;n<r.length;n++)Cn(e,t,r[n])},custom:function(t,r,n){const i=t.context,o=n.implementation;if(t.transform.projection.unsupportedLayers&&t.transform.projection.unsupportedLayers.includes("custom"))e.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if("offscreen"===t.renderPass){const e=o.prerender;e&&(t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),e.call(o,i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),i.setColorMode(t.colorModeForRenderPass()),i.setStencilMode(e.StencilMode.disabled);const r="3d"===o.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);i.setDepthMode(r),o.render(i.gl,t.transform.customLayerMatrix()),i.setDirty(),t.setBaseState(),i.bindFramebuffer.set(null)}}};class Fn{constructor(t,r){this.context=new Ce(t),this.transform=r,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Xt,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(e,t){const r=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(!(r||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new zr(this,e));const n=this._terrain;this.transform.elevation=r?n:null,n.update(e,this.transform,t)}_updateFog(e){const t=e.fog;if(!t||"globe"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[r,n]=t.getFovAdjustedRange(this.transform._fov);if(r>n)return void(this.transform.fogCullDistSq=null);const i=r+.78*(n-r);this.transform.fogCullDistSq=i*i}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(t,r){if(this.width=t*e.exported.devicePixelRatio,this.height=r*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._layers[e].resize()}setup(){const t=this.context,r=new e.StructArrayLayout2i4;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(n,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const i=new e.StructArrayLayout2i4;i.emplaceBack(-1,-1),i.emplaceBack(1,-1),i.emplaceBack(-1,1),i.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const o=new e.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(e.EXTENT,0,e.EXTENT,0),o.emplaceBack(0,e.EXTENT,0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(o,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.StructArrayLayout3ui6;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(a);const s=new e.StructArrayLayout1ui2;for(const e of[0,1,3,2,0])s.emplaceBack(e);this.debugIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();const l=this.context.gl;this.stencilClearMode=new e.StencilMode({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(e.window.performance.now()),this.atmosphereBuffer=new On(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const t=this.context,r=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(t,r.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,Mr(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(t,r,n){if(!r||this.currentStencilSource===r.id||!t.isTileClipped()||!n||0===n.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let e=!1;for(const t of n)if(void 0===this._tileClippingMaskIDs[t.key]){e=!0;break}if(!e)return}this.currentStencilSource=r.id;const i=this.context,o=i.gl;this.nextStencilID+n.length>256&&this.clearStencil(),i.setColorMode(e.ColorMode.disabled),i.setDepthMode(e.DepthMode.disabled);const a=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const t of n){const n=r.getTile(t),s=this._tileClippingMaskIDs[t.key]=this.nextStencilID++,{tileBoundsBuffer:l,tileBoundsIndexBuffer:c,tileBoundsSegments:u}=this.getTileBoundsBuffers(n);a.draw(i,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},s,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Mr(t.projMatrix),"$clipping",l,c,u)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,r=this.context.gl;return new e.StencilMode({func:r.NOTEQUAL,mask:255},t,255,r.KEEP,r.KEEP,r.REPLACE)}stencilModeForClipping(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);const r=this.context.gl;return new e.StencilMode({func:r.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,r.KEEP,r.KEEP,r.REPLACE)}stencilConfigForOverlap(t){const r=this.context.gl,n=t.sort((e,t)=>t.overscaledZ-e.overscaledZ),i=n[n.length-1].overscaledZ,o=n[0].overscaledZ-i+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();const t={};for(let n=0;n<o;n++)t[n+i]=new e.StencilMode({func:r.GEQUAL,mask:255},n+this.nextStencilID,255,r.KEEP,r.KEEP,r.REPLACE);return this.nextStencilID+=o,[t,n]}return[{[i]:e.StencilMode.disabled},n]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const r=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(r,r,r,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}depthModeForSublayer(t,r,n){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;const i=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(n||this.context.gl.LEQUAL,r,[i,i])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,r){this.style=t,this.options=r,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const n=this.style.order,i=this.style._sourceCaches;for(const e in i){const t=i[e];t.used&&t.prepare(this.context)}const o={},a={},s={};for(const e in i){const t=i[e];o[e]=t.getVisibleCoordinates(),a[e]=o[e].slice().reverse(),s[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<n.length;e++)if(this.style._layers[n[e]].is3D()){this.opaquePassCutoff=e;break}if(this.terrain&&(this.terrain.updateTileBinding(s),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),e.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const e of n){const r=this.style._layers[e],n=t._getLayerSourceCache(r);if(!r.hasOffscreenPass()||r.isHidden(this.transform.zoom))continue;const i=n?a[n.id]:void 0;("custom"===r.type||r.isSky()||i&&i.length)&&this.renderLayer(this,n,r,i)}if(this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:r.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=r.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=n.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[n[this.currentLayer]],r=t._getLayerSourceCache(e);if(e.isSky())continue;const i=r?a[r.id]:void 0;this._renderTileClippingMasks(e,r,i),this.renderLayer(this,r,e,i)}if(this.style.fog&&this.transform.projection.supportsFog&&function(t,r){const n=t.context,i=n.gl,o=t.transform,a=new e.DepthMode(i.LEQUAL,e.DepthMode.ReadOnly,[0,1]),s=t.useProgram("globeAtmosphere",null,"globe"===o.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),l=e.globeToMercatorTransition(o.zoom),c=r.properties.get("color").toArray01(),u=r.properties.get("high-color").toArray01(),h=r.properties.get("space-color").toArray01PremultipliedAlpha(),d=e.identity$1([]);e.rotateY$1(d,d,-e.degToRad(o._center.lng)),e.rotateX$1(d,d,e.degToRad(o._center.lat)),e.rotateZ$1(d,d,o.angle),e.rotateX$1(d,d,-o._pitch);const p=e.fromQuat(new Float32Array(16),d),f=e.mapValue(r.properties.get("star-intensity"),0,1,0,.25),m=5e-4,g=e.mapValue(r.properties.get("horizon-blend"),0,1,m,.25),_=e.globeUseCustomAntiAliasing(t,n,o)&&g===m?o.worldSize/(2*Math.PI*1.025)-1:o.globeRadius,y=t.frameCounter/1e3%1,v=e.length(o.globeCenterInViewSpace),x=Math.sqrt(Math.pow(v,2)-Math.pow(_,2)),b=Math.acos(x/v),w=((t,r,n,i,o,a,s,l,c,u,h,d,p,f)=>({u_frustum_tl:t,u_frustum_tr:r,u_frustum_br:n,u_frustum_bl:i,u_horizon:o,u_transition:a,u_fadeout_range:s,u_color:l,u_high_color:c,u_space_color:u,u_star_intensity:h,u_star_size:5*e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:d,u_horizon_angle:p,u_rotation_matrix:f}))(o.frustumCorners.TL,o.frustumCorners.TR,o.frustumCorners.BR,o.frustumCorners.BL,o.frustumCorners.horizon,l,g,c,u,h,f,y,b,p);t.prepareDrawProgram(n,s);const T=t.atmosphereBuffer;T&&s.draw(n,i.TRIANGLES,a,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,w,"skybox",T.vertexBuffer,T.indexBuffer,T.segments)}(this,this.style.fog),this.renderPass="sky",(e.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<n.length;this.currentLayer++){const e=this.style._layers[n[this.currentLayer]],r=t._getLayerSourceCache(e);e.isSky()&&this.renderLayer(this,r,e,r?a[r.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<n.length;){const e=this.style._layers[n[this.currentLayer]],r=t._getLayerSourceCache(e);if(e.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(e)){if(e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const i=r?("symbol"===e.type?s:a)[r.id]:void 0;this._renderTileClippingMasks(e,r,r?o[r.id]:void 0),this.renderLayer(this,r,e,i),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let r=null;e.values(this.style._layers).forEach(e=>{const n=t._getLayerSourceCache(e);n&&!e.isHidden(this.transform.zoom)&&(!r||r.getSource().maxzoom<n.getSource().maxzoom)&&(r=n)}),r&&this.options.showTileBoundaries&&Bn.debug(this,r,r.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;Mn(e,e.transform.height-(t.top||0),3,bn),Mn(e,t.bottom||0,3,wn),kn(e,t.left||0,3,Tn),kn(e,e.transform.width-(t.right||0),3,En);const r=e.transform.centerPoint;!function(e,t,r,n){An(e,t-1,r-10,2,20,n),An(e,t-10,r-1,20,2,n)}(e,r.x,e.transform.height-r.y,Sn)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}}renderLayer(e,t,r,n){r.isHidden(this.transform.zoom)||("background"===r.type||"sky"===r.type||"custom"===r.type||n&&n.length)&&(this.id=r.id,this.gpuTimingStart(r),e.transform.projection.unsupportedLayers&&e.transform.projection.unsupportedLayers.includes(r.type)||Bn[r.type](e,t,r,n,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let r=this.gpuTimers[e.id];r||(r=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),r.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,r.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const e=this.context.extTimerQuery,t=e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(t),e.beginQueryEXT(e.TIME_ELAPSED_EXT,t)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}collectDeferredRenderGpuQueries(){const e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}queryGpuTimers(e){const t={};for(const r in e){const n=e[r],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(n.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n.query),t[r]=o}return t}queryGpuTimeDeferredRender(e){if(!this.options.gpuTimingDeferredRender)return 0;const t=this.context.extTimerQuery;let r=0;for(const n of e)r+=t.getQueryObjectEXT(n,t.QUERY_RESULT_EXT)/1e6,t.deleteQueryEXT(n);return r}translatePosMatrix(t,r,n,i,o){if(!n[0]&&!n[1])return t;const a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);n=[n[0]*t-n[1]*e,n[0]*e+n[1]*t]}const s=[o?n[0]:D(r,n[0],this.transform.zoom),o?n[1]:D(r,n[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,s),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const t=this.imageManager.getPattern(e.from.toString()),r=this.imageManager.getPattern(e.to.toString());return!t||!r}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const e=this.terrain&&this.terrain.renderingToTexture,t=this.style&&this.style.fog,r=[];return this.terrainRenderModeElevated()&&r.push("TERRAIN"),"globe"===this.transform.projection.name&&r.push("GLOBE"),t&&!e&&0!==t.getOpacity(this.transform.pitch)&&r.push("FOG"),e&&r.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&r.push("OVERDRAW_INSPECTOR"),r}useProgram(e,t,r){this.cache=this.cache||{};const n=r||[],i=this.currentGlobalDefines().concat(n),o=Dr.cacheKey(dr[e],e,i,t);return this.cache[o]||(this.cache[o]=new Dr(this.context,e,dr[e],t,cn[e],i)),this.cache[o]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(t,r,n){if(this.terrain&&this.terrain.renderingToTexture)return;const i=this.style.fog;if(i){const o=i.getOpacity(this.transform.pitch),a=((t,r,n,i,o,a,s,l,c,u,h)=>{const d=t.transform,p=r.properties.get("color").toArray01();p[3]=i;const f=t.frameCounter/1e3%1;return{u_fog_matrix:n?d.calculateFogTileMatrix(n):t.identityMat,u_fog_range:r.getFovAdjustedRange(d._fov),u_fog_color:p,u_fog_horizon_blend:r.properties.get("horizon-blend"),u_fog_temporal_offset:f,u_frustum_tl:o,u_frustum_tr:a,u_frustum_br:s,u_frustum_bl:l,u_globe_pos:c,u_globe_radius:u,u_viewport:h,u_globe_transition:e.globeToMercatorTransition(d.zoom),u_is_globe:+("globe"===d.projection.name)}})(this,i,n,o,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.exported.devicePixelRatio,this.transform.height*e.exported.devicePixelRatio]);r.setFogUniformValues(t,a)}}setTileLoadedFlag(e){this.tileLoaded=e}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const t=this._backgroundTiles,r=this._backgroundTiles={},n=this.transform.coveringTiles({tileSize:512});for(const i of n)r[i.key]=t[i.key]||new e.Tile(i,512,this.transform.tileZoom,this);return r}clearBackgroundTiles(){this._backgroundTiles={}}}class jn{constructor(e=0,t=0,r=0,n=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(r)||r<0||isNaN(n)||n<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=r,this.right=n}interpolate(t,r,n){return null!=r.top&&null!=t.top&&(this.top=e.number(t.top,r.top,n)),null!=r.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,r.bottom,n)),null!=r.left&&null!=t.left&&(this.left=e.number(t.left,r.left,n)),null!=r.right&&null!=t.right&&(this.right=e.number(t.right,r.right,n)),this}getCenter(t,r){const n=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+r-this.bottom)/2,0,r);return new e.pointGeometry(n,i)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new jn(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Un(t,r){const n=e.getColumn(t,3);e.fromQuat(t,r),e.setColumn(t,3,n)}function Nn(t,r){const n=e.identity$1([]);return e.rotateZ$1(n,n,-r),e.rotateX$1(n,n,-t),n}function Vn(t,r){const n=[t[0],t[1],0],i=[r[0],r[1],0];if(e.length(n)>=1e-15){const t=e.normalize([],n);e.scale$2(i,t,e.dot(i,t)),r[0]=i[0],r[1]=i[1]}const o=e.cross([],r,t);if(e.len(o)<1e-15)return null;const a=Math.atan2(-o[1],o[0]);return Nn(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),a)}class Gn{constructor(e,t){this.position=e,this.orientation=t}get position(){return this._position}set position(t){if(t){const r=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(r.x=e.wrap(r.x,0,1)),this._position=r}else this._position=null}lookAtPoint(t,r){if(this.orientation=null,!this.position)return;const n=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,i=this.position,o=e.MercatorCoordinate.fromLngLat(t,n),a=[o.x-i.x,o.y-i.y,o.z-i.z];r||(r=[0,0,1]),r[2]=Math.abs(r[2]),this.orientation=Vn(a,r)}setPitchBearing(t,r){this.orientation=Nn(e.degToRad(t),e.degToRad(-r))}}class qn{constructor(t,r){this._transform=e.identity([]),this.orientation=r,this.position=t}get mercatorPosition(){const t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}get position(){const t=e.getColumn(this._transform,3);return[t[0],t[1],t[2]]}set position(t){var r;t&&e.setColumn(this._transform,3,[(r=t)[0],r[1],r[2],1])}get orientation(){return this._orientation}set orientation(t){this._orientation=t||e.identity$1([]),t&&Un(this._transform,this._orientation)}getPitchBearing(){const e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=Nn(e,t),Un(this._transform,this._orientation)}forward(){const t=e.getColumn(this._transform,2);return[-t[0],-t[1],-t[2]]}up(){const t=e.getColumn(this._transform,1);return[-t[0],-t[1],-t[2]]}right(){const t=e.getColumn(this._transform,0);return[t[0],t[1],t[2]]}getCameraToWorld(t,r){const n=new Float64Array(16);return e.invert(n,this.getWorldToCamera(t,r)),n}getWorldToCameraPosition(t,r,n){const i=this.position;e.scale$2(i,i,-t);const o=new Float64Array(16);return e.fromScaling(o,[n,n,n]),e.translate(o,o,i),o[10]*=r,o}getWorldToCamera(t,r){const n=new Float64Array(16),i=new Float64Array(4),o=this.position;return e.conjugate(i,this._orientation),e.scale$2(o,o,-t),e.fromQuat(n,i),e.translate(n,n,o),n[1]*=-1,n[5]*=-1,n[9]*=-1,n[13]*=-1,n[8]*=r,n[9]*=r,n[10]*=r,n[11]*=r,n}getCameraToClipPerspective(t,r,n,i){const o=new Float64Array(16);return e.perspective(o,t,r,n,i),o}getDistanceToElevation(t){const r=0===t?0:e.mercatorZfromAltitude(t,this.position[1]),n=this.forward();return(r-this.position[2])/n[2]}clone(){return new qn([...this.position],[...this.orientation])}}function Zn(t,r){const n=Wn(t.projection,t.zoom,t.width,t.height),i=function(t,r,n,i,o){const a=new e.LngLat(n.lng-180*Xn,n.lat),s=new e.LngLat(n.lng+180*Xn,n.lat),l=t.project(a.lng,a.lat),c=t.project(s.lng,s.lat),u=-Math.atan2(c.y-l.y,c.x-l.x),h=e.MercatorCoordinate.fromLngLat(n);h.y=e.clamp(h.y,-.999975,.999975);const d=h.toLngLat(),p=t.project(d.lng,d.lat),f=e.MercatorCoordinate.fromLngLat(d);f.x+=Xn;const m=f.toLngLat(),g=t.project(m.lng,m.lat),_=Yn(g.x-p.x,g.y-p.y,u),y=e.MercatorCoordinate.fromLngLat(d);y.y+=Xn;const v=y.toLngLat(),x=t.project(v.lng,v.lat),b=Yn(x.x-p.x,x.y-p.y,u),w=Math.abs(_.x)/Math.abs(b.y),T=e.identity([]);e.rotateZ(T,T,-u*(1-(o?0:i)));const E=e.identity([]);return e.scale(E,E,[1,1-(1-w)*i,1]),E[4]=-b.x/b.y*i,e.rotateZ(E,E,u),e.multiply(E,T,E),E}(t.projection,0,t.center,n,r),o=$n(t);return e.scale(i,i,[o,o,1]),i}function $n(t){const r=t.projection,n=Wn(t.projection,t.zoom,t.width,t.height),i=Hn(r,t.center),o=Hn(r,e.LngLat.convert(r.center));return Math.pow(2,i*n+(1-n)*o)}function Wn(t,r,n,i,o=1/0){const a=t.range;if(!a)return 0;const s=Math.min(o,Math.max(n,i)),l=Math.log(s/1024)/Math.LN2;return e.smoothstep(a[0]+l,a[1]+l,r)}const Xn=1/4e4;function Hn(t,r){const n=e.clamp(r.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),i=new e.LngLat(r.lng-180*Xn,n),o=new e.LngLat(r.lng+180*Xn,n),a=t.project(i.lng,n),s=t.project(o.lng,n),l=e.MercatorCoordinate.fromLngLat(i),c=e.MercatorCoordinate.fromLngLat(o),u=s.x-a.x,h=s.y-a.y,d=c.x-l.x,p=c.y-l.y,f=Math.sqrt((d*d+p*p)/(u*u+h*h));return Math.log(f)/Math.LN2}function Yn(e,t,r){const n=Math.cos(r),i=Math.sin(r);return{x:e*n-t*i,y:e*i+t*n}}class Kn{constructor(t,r,n,i,o,a,s){this.tileSize=512,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=r||22,this._minPitch=null==n?0:n,this._maxPitch=null==i?60:i,this.setProjection(a),this.setMaxBounds(s),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new jn,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new qn,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const e=new Kn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(e){const t=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||t)&&this._updateCameraOnTerrain(),(e||t)&&this._constrainCameraAltitude(),this._calcMatrices()}getProjection(){return e.pick(this.projection,["name","center","parallels"])}setProjection(r){this.projectionOptions=r||{name:"mercator"};const n=this.projection?this.getProjection():void 0;this.projection=e.getProjection(this.projectionOptions);const i=!t(n,this.getProjection());return i&&this._calcMatrices(),this.mercatorFromTransition=!1,i}setMercatorFromTransition(){const t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=e.getProjection({name:"mercator"});const r=t!==this.projection.name;return r&&this._calcMatrices(),r}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSize)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return e.wrap(this.rotation,-180,180)}set bearing(e){this.rotation=e}get rotation(){return-this.angle/Math.PI*180}set rotation(t){const r=-t*Math.PI/180;var n;this.angle!==r&&(this._unmodified=!1,this.angle=r,this._calcMatrices(),this.rotationMatrix=(n=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(n[1]=0,n[2]=0),n[0]=1,n[3]=1,n),function(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(r),l=Math.cos(r);e[0]=n*l+o*s,e[1]=i*l+a*s,e[2]=n*-s+o*l,e[3]=i*-s+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const r=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==r&&(this._unmodified=!1,this._pitch=r,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=e.degToRad(t),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const t=this._elevation,r=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],n=this.horizonLineFromTop();let i=0,o=0;for(let a=0;a<r.length;a++){const s=new e.pointGeometry(r[a][0]*this.width,n+r[a][1]*(this.height-n)),l=t.pointCoordinate(s);if(!l)continue;const c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);i+=l[3]*c,o+=c}return 0===o?NaN:i/o}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),r=this.pixelsPerMeter/this.worldSize*t,n=this._mercatorZfromZoom(e),i=this._mercatorZfromZoom(this._maxZoom),o=Math.max(n-r,i);this._setZoom(this._zoomFromMercatorZ(o))}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}computeZoomRelativeTo(t){const r=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let n;n=t.z<this._camera.position[2]?[r.x,r.y,r.z]:[t.x,t.y,t.z];const i=e.length(e.sub([],this._camera.position,n));return e.clamp(this._zoomFromMercatorZ(i),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height)return;if(!t.position&&!t.orientation)return;this._updateCameraState();let r=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(r=this._setCameraOrientation(t.orientation)),t.position){const n=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(n,this._camera.position)||(this._setCameraPosition(n),r=!0)}r&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,r=new Gn;return r.position=new e.MercatorCoordinate(t[0],t[1],t[2]),r.orientation=this._camera.orientation,r._elevation=this.elevation,r._renderWorldCopies=this.renderWorldCopies,r}_setCameraOrientation(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);const r=e.transformQuat([],[0,0,-1],t),n=e.transformQuat([],[0,-1,0],t);if(n[2]<0)return!1;const i=Vn(r,n);return!!i&&(this._camera.orientation=i,!0)}_setCameraPosition(t){const r=this.zoomScale(this.minZoom)*this.tileSize,n=this.zoomScale(this.maxZoom)*this.tileSize,i=this.cameraToCenterDistance;t[2]=e.clamp(t[2],i/n,i/r),this._camera.position=t}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,r){this._unmodified=!1,this._edgeInsets.interpolate(e,t,r),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const r=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies){const n=this.pointCoordinate(new e.pointGeometry(0,0)),i=this.pointCoordinate(new e.pointGeometry(this.width,0)),o=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),a=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(n.x,i.x,o.x,a.x)),l=Math.floor(Math.max(n.x,i.x,o.x,a.x)),c=1;for(let n=s-c;n<=l+c;n++)0!==n&&r.push(new e.UnwrappedTileID(n,t))}return r}coveringTiles(t){let r=this.coveringZoomLevel(t);const n=r,i=this.elevation&&!t.isTerrainDEM,o="mercator"===this.projection.name;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);const a=this.locationCoordinate(this.center),s=this.center.lat,l=1<<r,c=[l*a.x,l*a.y,0],u="globe"===this.projection.name,h=!u,d=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r,h),p=u?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),f=l*e.mercatorZfromAltitude(1,this.center.lat),m=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),g=[l*p.x,l*p.y,m*(h?1:f)],_=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),y=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?r:0,v=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,x=t.isTerrainDEM?-v:this._elevation?this._elevation.getMinElevationBelowMSL():0,b=this.projection.isReprojectedInTileSpace?$n(this):1,w=t=>{const r=1/4e4,n=new e.MercatorCoordinate(t.x+r,t.y,t.z),i=new e.MercatorCoordinate(t.x,t.y+r,t.z),o=t.toLngLat(),a=n.toLngLat(),s=i.toLngLat(),l=this.locationCoordinate(o),c=this.locationCoordinate(a),u=this.locationCoordinate(s),h=Math.hypot(c.x-l.x,c.y-l.y),d=Math.hypot(u.x-l.x,u.y-l.y);return Math.sqrt(h*d)*b/r},T=t=>{const r=v,n=x;return{aabb:e.tileAABB(this,l,0,0,0,t,n,r,this.projection),zoom:0,x:0,y:0,minZ:n,maxZ:r,wrap:t,fullyVisible:!1}},E=[];let S=[];const C=r,M=t.reparseOverscaled?n:r,k=e=>e*e,A=k((m-this._centerAltitude)*f),I=e=>{if(!this._elevation||!e.tileID||!o)return;const t=this._elevation.getMinMaxForTile(e.tileID),r=e.aabb;t?(r.min[2]=t.min,r.max[2]=t.max,r.center[2]=(r.min[2]+r.max[2])/2):(e.shouldSplit=P(e),e.shouldSplit||(r.min[2]=r.max[2]=r.center[2]=this._centerAltitude))},P=t=>{if(t.zoom<y)return!0;if(t.zoom===C)return!1;if(null!=t.shouldSplit)return t.shouldSplit;const r=t.aabb.distanceX(g),o=t.aabb.distanceY(g);let a=A,l=1;if(u){a=k(t.aabb.distanceZ(g));const r=Math.pow(2,t.zoom),n=e.latFromMercatorY((t.y+1)/r),i=e.latFromMercatorY(t.y/r),o=Math.min(Math.max(s,n),i),c=e.circumferenceAtLatitude(o)/e.circumferenceAtLatitude(s);if(l=o===s?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,c/this._mercatorScaleRatio),this.zoom<=e.GLOBE_ZOOM_THRESHOLD_MIN&&t.zoom===C-1&&c>=.9)return!0}else if(i&&(a=k(t.aabb.distanceZ(g)*f)),this.projection.isReprojectedInTileSpace&&n<=5){const r=Math.pow(2,t.zoom),n=w(new e.MercatorCoordinate((t.x+.5)/r,(t.y+.5)/r));l=n>.85?1:n}const c=r*r+o*o+a;return c<k((1<<C-t.zoom)*_*l*((e,t)=>{if(t*k(.707)<e)return 1;const r=Math.sqrt(t/e);return r/(1.4144271570014144+(Math.pow(1.1,r-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(a,A),c))};if(this.renderWorldCopies)for(let e=1;e<=3;e++)E.push(T(-e)),E.push(T(e));for(E.push(T(0));E.length>0;){const n=E.pop(),a=n.x,s=n.y;let h=n.fullyVisible;if(!h){const e=n.aabb.intersects(d);if(0===e)continue;h=2===e}if(n.zoom!==C&&P(n))for(let t=0;t<4;t++){const r=(a<<1)+t%2,c=(s<<1)+(t>>1),d={aabb:o?n.aabb.quadrant(t):e.tileAABB(this,l,n.zoom+1,r,c,n.wrap,n.minZ,n.maxZ,this.projection),zoom:n.zoom+1,x:r,y:c,wrap:n.wrap,fullyVisible:h,tileID:void 0,shouldSplit:void 0,minZ:n.minZ,maxZ:n.maxZ};i&&!u&&(d.tileID=new e.OverscaledTileID(n.zoom+1===C?M:n.zoom+1,n.wrap,n.zoom+1,r,c),I(d)),E.push(d)}else{const i=n.zoom===C?M:n.zoom;if(t.minzoom&&t.minzoom>i)continue;const o=c[0]-(.5+a+(n.wrap<<n.zoom))*(1<<r-n.zoom),l=c[1]-.5-s,u=n.tileID?n.tileID:new e.OverscaledTileID(i,n.wrap,n.zoom,a,s);S.push({tileID:u,distanceSq:o*o+l*l})}}if(this.fogCullDistSq){const r=this.fogCullDistSq,n=this.horizonLineFromTop();S=S.filter(i=>{const o=[0,0,0,1],a=[e.EXTENT,e.EXTENT,0,1],s=this.calculateFogTileMatrix(i.tileID.toUnwrapped());e.transformMat4$1(o,o,s),e.transformMat4$1(a,a,s);const l=e.getAABBPointSquareDist(o,a);if(0===l)return!0;let c=!1;const u=this._elevation;if(u&&l>r&&0!==n){const r=this.calculateProjMatrix(i.tileID.toUnwrapped());let o;t.isTerrainDEM||(o=u.getMinMaxForTile(i.tileID)),o||(o={min:x,max:v});const a=e.furthestTileCorner(this.rotation),s=[a[0]*e.EXTENT,a[1]*e.EXTENT,o.max];e.transformMat4(s,s,r),c=(1-s[1])*this.height*.5<n}return l<r||c})}return S.sort((e,t)=>e.distanceSq-t.distanceSq).map(e=>e.tileID)}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const r=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),n=this.projection.project(t.lng,r);return new e.pointGeometry(n.x*this.worldSize,n.y*this.worldSize)}unproject(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(t,r){let n,i;const o=this.centerPoint;if("globe"===this.projection.name){const e=this.worldSize;n=(r.x-o.x)/e,i=(r.y-o.y)/e}else{const e=this.pointCoordinate(r),t=this.pointCoordinate(o);n=e.x-t.x,i=e.y-t.y}const a=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(a.x-n,a.y-i))}setLocation(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(e){return this.projection.locationPoint(this,e)}locationPoint3D(e){return this.projection.locationPoint(this,e,!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(t,r){const n=r?e.mercatorZfromAltitude(r,t.lat):void 0,i=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(i.x,i.y,n)}coordinateLocation(e){return this.projection.unproject(e.x,e.y)}pointRayIntersection(t,r){const n=null!=r?r:this._centerAltitude,i=[t.x,t.y,0,1],o=[t.x,t.y,1,1];e.transformMat4$1(i,i,this.pixelMatrixInverse),e.transformMat4$1(o,o,this.pixelMatrixInverse);const a=o[3];e.scale$1(i,i,1/i[3]),e.scale$1(o,o,1/a);const s=i[2],l=o[2];return{p0:i,p1:o,t:s===l?0:(n-s)/(l-s)}}screenPointToMercatorRay(t){const r=[t.x,t.y,0,1],n=[t.x,t.y,1,1];return e.transformMat4$1(r,r,this.pixelMatrixInverse),e.transformMat4$1(n,n,this.pixelMatrixInverse),e.scale$1(r,r,1/r[3]),e.scale$1(n,n,1/n[3]),r[2]=e.mercatorZfromAltitude(r[2],this._center.lat)*this.worldSize,n[2]=e.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,e.scale$1(r,r,1/this.worldSize),e.scale$1(n,n,1/this.worldSize),new e.Ray([r[0],r[1],r[2]],e.normalize([],e.sub([],n,r)))}rayIntersectionCoordinate(t){const{p0:r,p1:n,t:i}=t,o=e.mercatorZfromAltitude(r[2],this._center.lat),a=e.mercatorZfromAltitude(n[2],this._center.lat);return new e.MercatorCoordinate(e.number(r[0],n[0],i)/this.worldSize,e.number(r[1],n[1],i)/this.worldSize,e.number(o,a,i))}pointCoordinate(e,t=this._centerAltitude){return this.projection.pointCoordinate(this,e.x,e.y,t)}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);let r=this.projection.pointCoordinate3D(this,t.x,t.y);if(r)return new e.MercatorCoordinate(r[0],r[1],r[2]);let n=0,i=this.horizonLineFromTop();if(t.y>i)return this.pointCoordinate(t);const o=.02*i,a=t.clone();for(let t=0;t<10&&i-n>o;t++){a.y=e.number(n,i,.66);const t=this.projection.pointCoordinate3D(this,a.x,a.y);t?(i=a.y,r=t):n=a.y}return r?new e.MercatorCoordinate(r[0],r[1],r[2]):this.pointCoordinate(t)}isPointAboveHorizon(e){return this.projection.isPointAboveHorizon(this,e)}_coordinatePoint(t,r){const n=r&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,i=[t.x*this.worldSize,t.y*this.worldSize,n+t.toAltitude(),1];return e.transformMat4$1(i,i,this.pixelMatrix),i[3]>0?new e.pointGeometry(i[0]/i[3],i[1]/i[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:t,left:r}=this._edgeInsets,n=this.height-this._edgeInsets.bottom,i=this.width-this._edgeInsets.right,o=this.pointCoordinate3D(new e.pointGeometry(r,t)),a=this.pointCoordinate3D(new e.pointGeometry(i,t)),s=this.pointCoordinate3D(new e.pointGeometry(i,n)),l=this.pointCoordinate3D(new e.pointGeometry(r,n));let c=Math.min(o.x,l.x),u=Math.max(a.x,s.x),h=Math.min(o.y,a.y),d=Math.max(l.y,s.y);const p=Math.pow(2,-this.zoom)/16,f=(t,r,n,i)=>{const o=(t+n)/2,a=(r+i)/2,s=new e.pointGeometry(o,a),l=this.pointCoordinate3D(s),m=Math.max(0,c-l.x,h-l.y,l.x-u,l.y-d);c=Math.min(c,l.x),u=Math.max(u,l.x),h=Math.min(h,l.y),d=Math.max(d,l.y),m>p&&(f(t,r,o,a),f(o,a,n,i))};f(r,t,i,t),f(i,t,i,n),f(i,n,r,n),f(r,n,r,t);const m=new e.LngLat(e.lngFromMercatorX(u),e.latFromMercatorY(h)),g=new e.LngLat(e.lngFromMercatorX(c),e.latFromMercatorY(d));return new e.LngLatBounds(g,m)}_getBounds(t,r){if("globe"===this.projection.name)return this._getGlobeBounds();const n=new e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),i=new e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),o=new e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),a=new e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let s=this.pointCoordinate(n,t),l=this.pointCoordinate(i,t);const c=this.pointCoordinate(o,r),u=this.pointCoordinate(a,r),h=(e,t)=>(t.y-e.y)/(t.x-e.x);return s.y>1&&l.y>=0?s=new e.MercatorCoordinate((1-u.y)/h(u,s)+u.x,1):s.y<0&&l.y<=1&&(s=new e.MercatorCoordinate(-u.y/h(u,s)+u.x,0)),l.y>1&&s.y>=0?l=new e.MercatorCoordinate((1-c.y)/h(c,l)+c.x,1):l.y<0&&s.y<=1&&(l=new e.MercatorCoordinate(-c.y/h(c,l)+c.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(s)).extend(this.coordinateLocation(l)).extend(this.coordinateLocation(u)).extend(this.coordinateLocation(c))}_getBounds3D(){const e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBounds(0,0);const t=e.visibleDemTiles.reduce((e,t)=>{if(t.dem){const r=t.dem.tree;e.min=Math.min(e.min,r.minimums[0]),e.max=Math.max(e.max,r.maximums[0])}return e},{min:Number.MAX_VALUE,max:0});return this._getBounds(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,r=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,r):r}getMaxBounds(){return this.maxBounds}setMaxBounds(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(e,t){return this.projection.createTileMatrix(this,t,e)}calculateDistanceTileData(t){const r=t.key,n=this._distanceTileDataCache;if(n[r])return n[r];const i=t.canonical,o=1/this.height,a=this.cameraWorldSize/this.zoomScale(i.z),s=(i.x+Math.pow(2,i.z)*t.wrap)*a,l=i.y*a,c=this.point,u=this.angle,h=Math.sin(-u),d=-Math.cos(-u);return n[r]={bearing:[h,d],center:[(c.x-s)*o,(c.y-l)*o],scale:a/e.EXTENT*o},n[r]}calculateFogTileMatrix(t){const r=t.key,n=this._fogTileMatrixCache;if(n[r])return n[r];const i=this.projection.createTileMatrix(this,this.cameraWorldSize,t);return e.multiply(i,this.worldToFogMatrix,i),n[r]=new Float32Array(i),n[r]}calculateProjMatrix(t,r=!1){const n=t.key,i=r?this._alignedProjMatrixCache:this._projMatrixCache;if(i[n])return i[n];const o=this.calculatePosMatrix(t,this.worldSize);return e.multiply(o,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:r?this.alignedProjMatrix:this.projMatrix,o),i[n]=new Float32Array(o),i[n]}calculatePixelsToTileUnitsMatrix(t){const r=t.tileID.key,n=this._pixelsToTileUnitsCache;if(n[r])return n[r];const i=function(t,r){const{scale:n}=t.tileTransform,i=n*e.EXTENT/(t.tileSize*Math.pow(2,r.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return o=new Float32Array(4),l=(a=r.inverseAdjustmentMatrix)[1],c=a[2],u=a[3],d=(s=[i,i])[1],o[0]=a[0]*(h=s[0]),o[1]=l*h,o[2]=c*d,o[3]=u*d,o;var o,a,s,l,c,u,h,d}(t,this);return n[r]=i,n[r]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const t=this._elevation;this._updateCameraState();const r=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,n=this._computeCameraPosition(r),i=this._camera.forward(),o=e.mercatorZfromAltitude(1,this._center.lat);n[2]/=o,i[2]/=o,e.normalize(i,i);const a=t.raycast(n,i,t.exaggeration());if(a){const t=e.scaleAndAdd([],n,i,a),r=new e.MercatorCoordinate(t[0],t[1],e.mercatorZfromAltitude(t[2],e.latFromMercatorY(t[1]))),s=(r.z+e.length([r.x-n[0],r.y-n[1],r.z-n[2]*o]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(s),this._centerAltitude=r.toAltitude(),this._center=this.coordinateLocation(r),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const t=this._elevation;this._updateCameraState();const r=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,n=this._computeCameraPosition(r),i=t.getAtPointOrZero(new e.MercatorCoordinate(...n)),o=this._minimumHeightOverTerrain()*Math.cos(e.degToRad(this._maxPitch)),a=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*i;if(a<o){const t=this.locationCoordinate(this._center,this._centerAltitude),r=[t.x-n[0],t.y-n[1],t.z-n[2]],i=e.length(r);r[2]-=(o-a)/this._pixelsPerMercatorPixel;const s=e.length(r);if(0===s)return;e.scale$2(r,r,i/s*this._pixelsPerMercatorPixel),this._camera.position=[t.x-r[0],t.y-r[1],t.z*this._pixelsPerMercatorPixel-r[2]],this._camera.orientation=Vn(r,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const t="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){const r=this.center;return r.lat=e.clamp(r.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(r.lng=e.clamp(r.lng,this.minLng,this.maxLng)),this.center=r,void(this._constraining=!1)}const r=this._unmodified,{x:n,y:i}=this.point;let o=0,a=n,s=i;const l=this.width/2,c=this.height/2,u=this.worldMinY*this.scale,h=this.worldMaxY*this.scale;if(i-c<u&&(s=u+c),i+c>h&&(s=h-c),h-u<this.height&&(o=Math.max(o,this.height/(h-u)),s=(h+u)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const e=this.worldMinX*this.scale,t=this.worldMaxX*this.scale,r=this.worldSize/2-(e+t)/2;a=(n+r+this.worldSize)%this.worldSize-r,a-l<e&&(a=e+l),a+l>t&&(a=t-l),t-e<this.width&&(o=Math.max(o,this.width/(t-e)),a=(t+e)/2)}a===n&&s===i||(this.center=this.unproject(new e.pointGeometry(a,s))),o&&(this.zoom+=this.scaleZoom(o)),this._constrainCameraAltitude(),this._unmodified=r,this._constraining=!1}_minZoomForBounds(){let e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,r=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=e.mercatorZfromAltitude(1,this.center.lat)/e.mercatorZfromAltitude(1,e.GLOBE_SCALE_MATCH_LATITUDE));const n=Wn(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,n),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const i=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?r:1),o=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);o[8]=2*-t.x/this.width,o[9]=2*t.y/this.height;let a=e.mul([],o,i);if(this.projection.isReprojectedInTileSpace){const t=this.locationCoordinate(this.center),r=e.identity([]);e.translate(r,r,[t.x*this.worldSize,t.y*this.worldSize,0]),e.multiply(r,r,Zn(this)),e.translate(r,r,[-t.x*this.worldSize,-t.y*this.worldSize,0]),e.multiply(a,a,r),this.inverseAdjustmentMatrix=function(e){const t=Zn(e,!0);return y([],[t[0],t[1],t[4],t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],a,[this.worldSize,this.worldSize,this.worldSize/r,1]),this.projMatrix=a,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);const s=e.invert([],o);this.frustumCorners=e.FrustumCorners.fromInvProjectionMatrix(s,this.horizonLineFromTop(),this.height);const l=new Float32Array(16);e.identity(l),e.scale(l,l,[1,-1,1]),e.rotateX(l,l,this._pitch),e.rotateZ(l,l,this.angle);const c=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),u=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;c[8]=2*-t.x/this.width,c[9]=2*(t.y+u)/this.height,this.skyboxMatrix=e.multiply(l,c,l);const h=this.point,d=h.x,p=h.y,f=this.width%2/2,m=this.height%2/2,g=Math.cos(this.angle),_=Math.sin(this.angle),v=d-Math.round(d)+g*f+_*m,x=p-Math.round(p)+g*m+_*f,b=new Float64Array(a);if(e.translate(b,b,[v>.5?v-1:v,x>.5?x-1:x,0]),this.alignedProjMatrix=b,a=e.create(),e.scale(a,a,[this.width/2,-this.height/2,1]),e.translate(a,a,[1,-1,0]),this.labelPlaneMatrix=a,a=e.create(),e.scale(a,a,[1,-1,1]),e.translate(a,a,[-1,-1,0]),e.scale(a,a,[2/this.width,2/this.height,1]),this.glCoordMatrix=a,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},a=e.invert(new Float64Array(16),this.pixelMatrix),!a)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=a,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.calculateGlobeMatrix(this);const t=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.transformMat4(t,t,i),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=a;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const t=this.cameraWorldSize,r=this.cameraPixelsPerMeter,n=this._camera.position,i=1/this.height/this._pixelsPerMercatorPixel,o=[t,t,r];e.scale$2(o,o,i),e.scale$2(n,n,-1),e.multiply$2(n,n,o);const a=e.create();e.translate(a,a,n),e.scale(a,a,o),this.mercatorFogMatrix=a,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,r,i)}_computeCameraPosition(e){const t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,r=this._camera.forward(),n=this.point,i=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return[n.x/this.worldSize-r[0]*i,n.y/this.worldSize-r[1]*i,e/this.worldSize*this._centerAltitude-r[2]*i]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(t){const r=this._maxCameraBoundsDistance()*Math.cos(this._pitch),n=this._camera.position[2],i=t[2];let o=1;this.projection.wrap&&(this.center=this.center.wrap()),i>0&&(o=Math.min((r-n)/i,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,o),this._updateStateFromCamera()}_updateStateFromCamera(){const t=this._camera.position,r=this._camera.forward(),{pitch:n,bearing:i}=this._camera.getPitchBearing(),o=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,a=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),s=Math.max((t[2]-o)/Math.cos(n),a),l=this._zoomFromMercatorZ(s);e.scaleAndAdd(t,t,r,s),this._pitch=e.clamp(n,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(i,-Math.PI,Math.PI),this._setZoom(e.clamp(l,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}zoomFromMercatorZAdjusted(e){const t=t=>{const r=this.getCameraToCenterDistance(this.projection,t);return this.scaleZoom(r/(e*this.tileSize))};let r,n=t(this.zoom),i=Math.abs(n-t(n));for(;r!==i;)n=t(n),r=i,i=Math.abs(n-t(n));return n}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(t,r){const n=Math.min(t.x,r.x),i=Math.max(t.x,r.x),o=Math.min(t.y,r.y),a=Math.max(t.y,r.y);if(o<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const s=[new e.pointGeometry(n,o),new e.pointGeometry(i,a),new e.pointGeometry(n,a),new e.pointGeometry(i,o)],l=this.renderWorldCopies?-3:0,c=this.renderWorldCopies?4:1;for(const e of s){const t=this.pointRayIntersection(e);if(t.t<0)return!0;const r=this.rayIntersectionCoordinate(t);if(r.x<l||r.y<0||r.x>c||r.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}zoomDeltaToMovement(t,r){const n=e.length(e.sub([],this._camera.position,t)),i=this._zoomFromMercatorZ(n)+r;return n-this._mercatorZfromZoom(i)}getCameraPoint(){if("globe"===this.projection.name){const t=function(t,r){const n=[t[0],t[1],t[2],1];e.transformMat4$1(n,n,r);const i=Math.max(n[3],1e-6);return[n[0]/i,n[1]/i,n[2]/i,i]}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.pointGeometry(t[0],t[1])}{const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}}getCameraToCenterDistance(e,t=this.zoom){const r=Wn(e,t,this.width,this.height,1024),n=e.pixelSpaceConversion(this.center.lat,this.worldSize,r);return.5/Math.tan(.5*this._fov)*this.height*n}getWorldToCameraMatrix(){const t=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&e.multiply(t,t,this.globeMatrix),t}}function Jn(e,t){let r=!1,n=null;const i=()=>{n=null,r&&(e(),n=setTimeout(i,t),r=!1)};return()=>(r=!0,n||i(),n)}class Qn{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Jn(this._updateHashUnthrottled.bind(this),300)}addTo(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),t.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),e.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const t=this._map;if(!t)return"";const r=ei(t);if(this._hashName){const t=this._hashName;let n=!1;const i=e.window.location.hash.slice(1).split("&").map(e=>{const i=e.split("=")[0];return i===t?(n=!0,`${i}=${r}`):e}).filter(e=>e);return n||i.push(`${t}=${r}`),"#"+i.join("&")}return"#"+r}_getCurrentHash(){const t=e.window.location.hash.replace("#","");if(this._hashName){let e;return t.split("&").map(e=>e.split("=")).forEach(t=>{t[0]===this._hashName&&(e=t)}),(e&&e[1]||"").split("/")}return t.split("/")}_onHashChange(){const e=this._map;if(!e)return!1;const t=this._getCurrentHash();if(t.length>=3&&!t.some(e=>isNaN(e))){const r=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:r,pitch:+(t[4]||0)}),!0}return!1}_updateHashUnthrottled(){const t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}function ei(e,t){const r=e.getCenter(),n=Math.round(100*e.getZoom())/100,i=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,i),a=Math.round(r.lng*o)/o,s=Math.round(r.lat*o)/o,l=e.getBearing(),c=e.getPitch();let u=t?`/${a}/${s}/${n}`:`${n}/${s}/${a}`;return(l||c)&&(u+="/"+Math.round(10*l)/10),c&&(u+="/"+Math.round(c)),u}const ti={linearity:.3,easing:e.bezier(0,0,.3,1)},ri=e.extend({deceleration:2500,maxSpeed:1400},ti),ni=e.extend({deceleration:20,maxSpeed:1400},ti),ii=e.extend({deceleration:1e3,maxSpeed:360},ti),oi=e.extend({deceleration:1e3,maxSpeed:90},ti);class ai{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,r=e.exported.now();for(;t.length>0&&r-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const r={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)r.zoom+=e.zoomDelta||0,r.bearing+=e.bearingDelta||0,r.pitch+=e.pitchDelta||0,e.panDelta&&r.pan._add(e.panDelta),e.around&&(r.around=e.around),e.pinchAround&&(r.pinchAround=e.pinchAround);const n=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,i={};if(r.pan.mag()){const o=li(r.pan.mag(),n,e.extend({},ri,t||{}));i.offset=r.pan.mult(o.amount/r.pan.mag()),i.center=this._map.transform.center,si(i,o)}if(r.zoom){const e=li(r.zoom,n,ni);i.zoom=this._map.transform.zoom+e.amount,si(i,e)}if(r.bearing){const t=li(r.bearing,n,ii);i.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),si(i,t)}if(r.pitch){const e=li(r.pitch,n,oi);i.pitch=this._map.transform.pitch+e.amount,si(i,e)}if(i.zoom||i.bearing){const e=void 0===r.pinchAround?r.around:r.pinchAround;i.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),i.noMoveStart=!0,i}}function si(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function li(t,r,n){const{maxSpeed:i,linearity:o,deceleration:a}=n,s=e.clamp(t*o/(r/1e3),-i,i),l=Math.abs(s)/(a*o);return{easing:n.easing,duration:1e3*l,amount:s*(l/2)}}class ci extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,r,n,i={}){const o=f(r.getCanvasContainer(),n),a=r.unproject(o);super(t,e.extend({point:o,lngLat:a,originalEvent:n},i)),this._defaultPrevented=!1,this.target=r}}class ui extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,r,n){const i="touchend"===t?n.changedTouches:n.touches,o=m(r.getCanvasContainer(),i),a=o.map(e=>r.unproject(e)),s=o.reduce((e,t,r,n)=>e.add(t.div(n.length)),new e.pointGeometry(0,0));super(t,{points:o,point:s,lngLats:a,lngLat:r.unproject(s),originalEvent:n}),this._defaultPrevented=!1}}class hi extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,r){super(e,{originalEvent:r}),this._defaultPrevented=!1}}class di{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){this._mousedownPos=void 0}wheel(e){return this._firePreventable(new hi(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new ci(e.type,this._map,e))}mouseup(e){this._map.fire(new ci(e.type,this._map,e))}preclick(t){const r=e.extend({},t);r.type="preclick",this._map.fire(new ci(r.type,this._map,r))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new ci(e.type,this._map,e)))}dblclick(e){return this._firePreventable(new ci(e.type,this._map,e))}mouseover(e){this._map.fire(new ci(e.type,this._map,e))}mouseout(e){this._map.fire(new ci(e.type,this._map,e))}touchstart(e){return this._firePreventable(new ui(e.type,this._map,e))}touchmove(e){this._map.fire(new ui(e.type,this._map,e))}touchend(e){this._map.fire(new ui(e.type,this._map,e))}touchcancel(e){this._map.fire(new ui(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class pi{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(e){this._map.fire(new ci(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ci("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new ci(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class fi{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(u(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const r=t,n=this._startPos,i=this._lastPos;if(!n||!i||i.equals(r)||!this._box&&r.dist(n)<this._clickTolerance)return;this._lastPos=r,this._box||(this._box=o("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const a=Math.min(n.x,r.x),s=Math.max(n.x,r.x),l=Math.min(n.y,r.y),c=Math.max(n.y,r.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${a}px,${l}px)`,this._box.style.width=s-a+"px",this._box.style.height=c-l+"px")})}mouseupWindow(t,r){if(!this._active)return;const n=this._startPos,i=r;if(n&&0===t.button){if(this.reset(),p(),n.x!==i.x||n.y!==i.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(n,i,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",t)}}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),h(),delete this._startPos,delete this._lastPos}_fireEvent(t,r){return this._map.fire(new e.Event(t,{originalEvent:r}))}}function mi(e,t){const r={};for(let n=0;n<e.length;n++)r[e[n].identifier]=t[n];return r}class gi{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(t,r,n){(this.centroid||n.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),n.length===this.numTouches&&(this.centroid=function(t){const r=new e.pointGeometry(0,0);for(const e of t)r._add(e);return r.div(t.length)}(r),this.touches=mi(n,r)))}touchmove(e,t,r){if(this.aborted||!this.centroid)return;const n=mi(r,t);for(const e in this.touches){const t=this.touches[e],r=n[e];(!r||r.dist(t)>30)&&(this.aborted=!0)}}touchend(e,t,r){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===r.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class _i{constructor(e){this.singleTap=new gi(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(e,t,r){this.singleTap.touchstart(e,t,r)}touchmove(e,t,r){this.singleTap.touchmove(e,t,r)}touchend(e,t,r){const n=this.singleTap.touchend(e,t,r);if(n){const t=e.timeStamp-this.lastTime<500,r=!this.lastTap||this.lastTap.dist(n)<30;if(t&&r||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=n,this.count===this.numTaps)return this.reset(),n}}}class yi{constructor(){this._zoomIn=new _i({numTouches:1,numTaps:2}),this._zoomOut=new _i({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,r){this._zoomIn.touchstart(e,t,r),this._zoomOut.touchstart(e,t,r)}touchmove(e,t,r){this._zoomIn.touchmove(e,t,r),this._zoomOut.touchmove(e,t,r)}touchend(e,t,r){const n=this._zoomIn.touchend(e,t,r),i=this._zoomOut.touchend(e,t,r);return n?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(n)},{originalEvent:e})}):i?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(i)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const vi={0:1,2:2};class xi{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const r=g(e);this._correctButton(e,r)&&(this._lastPoint=t,this._eventButton=r)}mousemoveWindow(e,t){const r=this._lastPoint;if(r)if(e.preventDefault(),null!=this._eventButton&&function(e,t){const r=vi[t];return void 0===e.buttons||(e.buttons&r)!==r}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(r)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(r,t)}mouseupWindow(e){this._lastPoint&&g(e)===this._eventButton&&(this._moved&&p(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class bi extends xi{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class wi extends xi{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const r=.8*(t.x-e.x);if(r)return this._active=!0,{bearingDelta:r}}contextmenu(e){e.preventDefault()}}class Ti extends xi{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const r=-.5*(t.y-e.y);if(r)return this._active=!0,{pitchDelta:r}}contextmenu(e){e.preventDefault()}}class Ei{constructor(t,r){this._map=t,this._el=t.getCanvasContainer(),this._minTouches=1,this._clickTolerance=r.clickTolerance||1,this.reset(),e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}touchstart(e,t,r){return this._calculateTransform(e,t,r)}touchmove(t,r,n){if(this._active&&!(n.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===n.length&&!e.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,r,n)}}touchend(e,t,r){this._calculateTransform(e,t,r),this._active&&r.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,r,n){n.length>0&&(this._active=!0);const i=mi(n,r),o=new e.pointGeometry(0,0),a=new e.pointGeometry(0,0);let s=0;for(const e in i){const t=i[e],r=this._touches[e];r&&(o._add(t),a._add(t.sub(r)),s++,i[e]=t)}if(this._touches=i,s<this._minTouches||!a.mag())return;const l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(s),panDelta:l}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=o("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))+"px")}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Si{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(e){}_move(e,t,r){return{}}touchstart(e,t,r){this._firstTwoTouches||r.length<2||(this._firstTwoTouches=[r[0].identifier,r[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,r){const n=this._firstTwoTouches;if(!n)return;e.preventDefault();const[i,o]=n,a=Ci(r,t,i),s=Ci(r,t,o);if(!a||!s)return;const l=this._aroundCenter?null:a.add(s).div(2);return this._move([a,s],l,e)}touchend(e,t,r){if(!this._firstTwoTouches)return;const[n,i]=this._firstTwoTouches,o=Ci(r,t,n),a=Ci(r,t,i);o&&a||(this._active&&p(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Ci(e,t,r){for(let n=0;n<e.length;n++)if(e[n].identifier===r)return t[n]}function Mi(e,t){return Math.log(e/t)/Math.LN2}class ki extends Si{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const r=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Mi(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Mi(this._distance,r),pinchAround:t}}}function Ai(e,t){return 180*e.angleWith(t)/Math.PI}class Ii extends Si{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const r=this._vector;if(this._vector=e[0].sub(e[1]),r&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Ai(this._vector,r),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,r=this._startVector;if(!r)return!1;const n=Ai(e,r);return Math.abs(n)<t}}function Pi(e){return Math.abs(e.y)>Math.abs(e.x)}class zi extends Si{constructor(e){super(),this._map=e}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(e){this._lastPoints=e,Pi(e[0].sub(e[1]))&&(this._valid=!1)}_move(t,r,n){const i=this._lastPoints;if(!i)return;const o=t[0].sub(i[0]),a=t[1].sub(i[1]);return this._map._cooperativeGestures&&!e.isFullscreen()&&n.touches.length<3||(this._valid=this.gestureBeginsVertically(o,a,n.timeStamp),!this._valid)?void 0:(this._lastPoints=t,this._active=!0,{pitchDelta:(o.y+a.y)/2*-.5})}gestureBeginsVertically(e,t,r){if(void 0!==this._valid)return this._valid;const n=e.mag()>=2,i=t.mag()>=2;if(!n&&!i)return;if(!n||!i)return null==this._firstMove&&(this._firstMove=r),r-this._firstMove<100&&void 0;const o=e.y>0==t.y>0;return Pi(e)&&Pi(t)&&o}}const Di={panStep:100,bearingStep:15,pitchStep:10};class Ri{constructor(){const e=Di;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,r=0,n=0,i=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?r=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?r=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?n=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?n=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(r=0,n=0),{cameraAnimation:a=>{const s=a.getZoom();a.easeTo({duration:300,easeId:"keyboardHandler",easing:Li,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+r*this._bearingStep,pitch:a.getPitch()+n*this._pitchStep,offset:[-i*this._panStep,-o*this._panStep],center:a.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Li(e){return e*(2-e)}const Oi=4.000244140625;class Bi{constructor(t,r){this._map=t,this._el=t.getCanvasContainer(),this._handler=r,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let r=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const n=e.exported.now(),i=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==r&&r%Oi==0?this._type="wheel":0!==r&&Math.abs(r)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=r,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*r)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,r+=this._lastValue)),t.shiftKey&&r&&(r/=4),this._type&&(this._lastWheelEvent=t,this._delta-=r,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=f(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;"wheel"===this._type&&t.projection.wrap&&(t._center.lng>=180||t._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const r=()=>t._terrainEnabled()&&this._aroundCoord?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>Oi?this._wheelZoomRate:this._defaultZoomRate;let n=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==n&&(n=1/n);const i=r(),o=Math.pow(2,i),a="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):o;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(a*n))),"wheel"===this._type&&(this._startZoom=i,this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"==typeof this._targetZoom?this._targetZoom:r(),i=this._startZoom,o=this._easing;let a,s=!1;if("wheel"===this._type&&i&&o){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),r=o(t);a=e.number(i,n,r),t<1?this._frameId||(this._frameId=!0):s=!0}else a=n,s=!0;return this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!s,zoomDelta:a-r(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let r=e.ease;if(this._prevEase){const t=this._prevEase,n=(e.exported.now()-t.start)/t.duration,i=t.easing(n+.01)-t.easing(n),o=.27/Math.sqrt(i*i+1e-4)*.01,a=Math.sqrt(.0729-o*o);r=e.bezier(o,a,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:r},r}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=o("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))+"px")}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Fi{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class ji{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(e,t){return e.preventDefault(),{cameraAnimation:r=>{r.easeTo({duration:300,zoom:r.getZoom()+(e.shiftKey?-1:1),around:r.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ui{constructor(){this._tap=new _i({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(e,t,r){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?r.length>0&&(this._swipePoint=t[0],this._swipeTouch=r[0].identifier):this._tap.touchstart(e,t,r))}touchmove(e,t,r){if(this._tapTime){if(this._swipePoint){if(r[0].identifier!==this._swipeTouch)return;const n=t[0],i=n.y-this._swipePoint.y;return this._swipePoint=n,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,r)}touchend(e,t,r){this._tapTime?this._swipePoint&&0===r.length&&this.reset():this._tap.touchend(e,t,r)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ni{constructor(e,t,r){this._el=e,this._mousePan=t,this._touchPan=r}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Vi{constructor(e,t,r){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=r}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Gi{constructor(e,t,r,n){this._el=e,this._touchZoom=t,this._touchRotate=r,this._tapDragZoom=n,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const qi=e=>e.zoom||e.drag||e.pitch||e.rotate;class Zi extends e.Event{}class $i{constructor(){this.constants=[1,1,.01],this.radius=0}setup(t,r){const n=e.sub([],r,t);this.radius=e.length(n[2]<0?e.div([],n,this.constants):[n[0],n[1],0])}projectRay(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);const r=e.scale$2([],t,this.radius);if(r[2]>0){const t=e.scale$2([],[0,0,1],e.dot(r,[0,0,1])),n=e.scale$2([],e.normalize([],[r[0],r[1],0]),this.radius),i=e.add([],r,e.scale$2([],e.sub([],e.add([],n,t),r),2));r[0]=i[0],r[1]=i[1]}return r}}function Wi(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class Xi{constructor(t,r){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ai(t),this._bearingSnap=r.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new $i,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(r),e.bindAll(["handleEvent","handleWindowEvent"],this);const n=this._el;this._listeners=[[n,"touchstart",{passive:!0}],[n,"touchmove",{passive:!1}],[n,"touchend",void 0],[n,"touchcancel",void 0],[n,"mousedown",void 0],[n,"mousemove",void 0],[n,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[n,"mouseover",void 0],[n,"mouseout",void 0],[n,"dblclick",void 0],[n,"click",void 0],[n,"keydown",{capture:!1}],[n,"keyup",void 0],[n,"wheel",{passive:!1}],[n,"contextmenu",void 0],[e.window,"blur",void 0]];for(const[t,r,n]of this._listeners)t.addEventListener(r,t===e.window.document?this.handleWindowEvent:this.handleEvent,n)}destroy(){for(const[t,r,n]of this._listeners)t.removeEventListener(r,t===e.window.document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(e){const t=this._map,r=t.getCanvasContainer();this._add("mapEvent",new di(t,e));const n=t.boxZoom=new fi(t,e);this._add("boxZoom",n);const i=new yi,o=new ji;t.doubleClickZoom=new Fi(o,i),this._add("tapZoom",i),this._add("clickZoom",o);const a=new Ui;this._add("tapDragZoom",a);const s=t.touchPitch=new zi(t);this._add("touchPitch",s);const l=new wi(e),c=new Ti(e);t.dragRotate=new Vi(e,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);const u=new bi(e),h=new Ei(t,e);t.dragPan=new Ni(r,u,h),this._add("mousePan",u),this._add("touchPan",h,["touchZoom","touchRotate"]);const d=new Ii,p=new ki;t.touchZoomRotate=new Gi(r,p,d,a),this._add("touchRotate",d,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]),this._add("blockableMapEvent",new pi(t));const f=t.scrollZoom=new Bi(t,this);this._add("scrollZoom",f,["mousePan"]);const m=t.keyboard=new Ri;this._add("keyboard",m);for(const r of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[r]&&t[r].enable(e[r])}_add(e,t,r){this._handlers.push({handlerName:e,handler:t,allowed:r}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!qi(this._eventsInProgress)||this.isZooming()}_blockedByActive(e,t,r){for(const n in e)if(n!==r&&(!t||t.indexOf(n)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,e.type+"Window")}_getMapTouches(e){const t=[];for(const r of e)this._el.contains(r.target)&&t.push(r);return t}handleEvent(e,t){this._updatingCamera=!0;const r="renderFrame"===e.type,n=r?void 0:e,i={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?m(this._el,s):r?void 0:f(this._el,e);for(const{handlerName:r,handler:c,allowed:u}of this._handlers){if(!c.isEnabled())continue;let h;this._blockedByActive(a,u,r)?c.reset():c[t||e.type]&&(h=c[t||e.type](e,l,s),this.mergeHandlerResult(i,o,h,r,n),h&&h.needsRenderFrame&&this._triggerRenderFrame()),(h||c.isActive())&&(a[r]=c)}const c={};for(const e in this._previousActiveHandlers)a[e]||(c[e]=n);this._previousActiveHandlers=a,(Object.keys(c).length||Wi(i))&&(this._changes.push([i,o,c]),this._triggerRenderFrame()),(Object.keys(a).length||Wi(i))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:u}=i;u&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],u(this._map))}mergeHandlerResult(t,r,n,i,o){if(!n)return;e.extend(t,n);const a={handlerName:i,originalEvent:n.originalEvent||o};void 0!==n.zoomDelta&&(r.zoom=a),void 0!==n.panDelta&&(r.drag=a),void 0!==n.pitchDelta&&(r.pitch=a),void 0!==n.bearingDelta&&(r.rotate=a)}_applyChanges(){const t={},r={},n={};for(const[i,o,a]of this._changes)i.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(i.panDelta)),i.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+i.zoomDelta),i.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+i.bearingDelta),i.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+i.pitchDelta),void 0!==i.around&&(t.around=i.around),void 0!==i.aroundCoord&&(t.aroundCoord=i.aroundCoord),void 0!==i.pinchAround&&(t.pinchAround=i.pinchAround),i.noInertia&&(t.noInertia=i.noInertia),e.extend(r,o),e.extend(n,a);this._updateMapTransform(t,r,n),this._changes=[]}_updateMapTransform(t,r,n){const i=this._map,o=i.transform,a=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!Wi(t)){const e=o.zoom;o.cameraElevationReference="sea",o.recenterOnTerrain(),o.cameraElevationReference="ground",e!==o.zoom&&this._map._update(!0)}if(!Wi(t))return void this._fireEvents(r,n,!0);let{panDelta:s,zoomDelta:l,bearingDelta:c,pitchDelta:u,around:h,aroundCoord:d,pinchAround:p}=t;void 0!==p&&(h=p),(e=>r.drag&&!this._eventsInProgress.drag)()&&h&&(this._dragOrigin=a(o.pointCoordinate3D(h)),this._trackingEllipsoid.setup(o._camera.position,this._dragOrigin)),o.cameraElevationReference="sea",i._stop(!0),h=h||i.transform.centerPoint,c&&(o.bearing+=c),u&&(o.pitch+=u),o._updateCameraState();const f=[0,0,0];if(s)if("mercator"===o.projection.name){const e=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h).dir),t=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h.sub(s)).dir);f[0]=t[0]-e[0],f[1]=t[1]-e[1]}else{const t=o.pointCoordinate(h);if("globe"===o.projection.name){s=s.rotate(-o.angle);const r=o._pixelsPerMercatorPixel/o.worldSize;f[0]=-s.x*e.mercatorScale(e.latFromMercatorY(t.y))*r,f[1]=-s.y*e.mercatorScale(o.center.lat)*r}else{const e=o.pointCoordinate(h.sub(s));t&&e&&(f[0]=e.x-t.x,f[1]=e.y-t.y)}}const m=o.zoom,g=[0,0,0];if(l){const t=a(d||o.pointCoordinate3D(h)),r={dir:e.normalize([],e.sub([],t,o._camera.position))};if(r.dir[2]<0){const n=o.zoomDeltaToMovement(t,l);e.scale$2(g,r.dir,n)}}const _=e.add(f,f,g);o._translateCameraConstrained(_),l&&Math.abs(o.zoom-m)>1e-4&&o.recenterOnTerrain(),o.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(r,n,!0)}_fireEvents(t,r,n){const i=qi(this._eventsInProgress),o=qi(t),a={};for(const e in t){const{originalEvent:r}=t[e];this._eventsInProgress[e]||(a[e+"start"]=r),this._eventsInProgress[e]=t[e]}!i&&o&&this._fireEvent("movestart",o.originalEvent);for(const e in a)this._fireEvent(e,a[e]);o&&this._fireEvent("move",o.originalEvent);for(const e in t){const{originalEvent:r}=t[e];this._fireEvent(e,r)}const s={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:n}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=r[t]||n,s[e+"end"]=l)}for(const e in s)this._fireEvent(e,s[e]);const c=qi(this._eventsInProgress);if(n&&(i||o)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),r=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(r(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event("moveend",{originalEvent:l})),r(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,r){this._map.fire(new e.Event(t,r?{originalEvent:r}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{this._frameId=void 0,this.handleEvent(new Zi("renderFrame",{timeStamp:e})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const Hi="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Yi extends e.Evented{constructor(t,r){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=r.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,r,n){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},r),n)}panTo(t,r,n){return this.easeTo(e.extend({center:t},r),n)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,r,n){return this.easeTo(e.extend({zoom:t},r),n)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,r,n){return this.easeTo(e.extend({bearing:t},r),n)}resetNorth(t,r){return this.rotateTo(0,e.extend({duration:1e3},t),r),this}resetNorthPitch(t,r){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),r),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,r){t=e.LngLatBounds.convert(t);const n=r&&r.bearing||0,i=t.getNorthWest(),o=t.getSouthEast();return this._cameraForBounds(this.transform,i,o,n,r)}_extendCameraOptions(t){const r={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:r,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const e=t.padding;t.padding={top:e,bottom:e,right:e,left:e}}return t.padding=e.extend(r,t.padding),t}_minimumAABBFrustumDistance(e,t){const r=t.max[0]-t.min[0],n=t.max[1]-t.min[1];return r/n>e.aspect?r/(2*Math.tan(.5*e.fovX)*e.aspect):n/(2*Math.tan(.5*e.fovY)*e.aspect)}_cameraForBoundsOnGlobe(t,r,n,i,o){const a=t.clone(),s=this._extendCameraOptions(o);a.bearing=i;const l=e.LngLat.convert(r),c=e.LngLat.convert(n),u=.5*(l.lat+c.lat),h=.5*(l.lng+c.lng),d=e.latLngToECEF(u,h),p=e.normalize([],d),f=e.normalize([],e.cross([],p,[0,1,0])),m=e.cross([],f,p),g=[f[0],f[1],f[2],0,m[0],m[1],m[2],0,p[0],p[1],p[2],0,0,0,0,1],_=[d,e.latLngToECEF(l.lat,l.lng),e.latLngToECEF(c.lat,l.lng),e.latLngToECEF(c.lat,c.lng),e.latLngToECEF(l.lat,c.lng),e.latLngToECEF(u,l.lng),e.latLngToECEF(u,c.lng),e.latLngToECEF(l.lat,h),e.latLngToECEF(c.lat,h)];let y=e.Aabb.fromPoints(_.map(t=>[e.dot(f,t),e.dot(m,t),e.dot(p,t)]));const v=e.transformMat4([],y.center,g);0===e.squaredLength(v)&&e.set(v,0,0,1),e.normalize(v,v),e.scale$2(v,v,e.GLOBE_RADIUS),a.center=e.ecefToLatLng(v);const x=a.getWorldToCameraMatrix(),b=e.invert(new Float64Array(16),x);y=e.Aabb.applyTransform(y,e.multiply([],x,g)),e.transformMat4(v,v,x);const w=.5*(y.max[2]-y.min[2]),T=this._minimumAABBFrustumDistance(a,y),E=e.scale$2([],[0,0,1],w),S=e.add(E,v,E),C=T+(0===a.pitch?0:e.distance(v,S)),M=a.globeCenterInViewSpace,k=e.sub([],v,[M[0],M[1],M[2]]);e.normalize(k,k),e.scale$2(k,k,C);const A=e.add([],v,k);e.transformMat4(A,A,b);const I=e.earthRadius/e.GLOBE_RADIUS,P=e.length(A),z=e.mercatorZfromAltitude(P*I-e.earthRadius,0),D=Math.min(a.zoomFromMercatorZAdjusted(z),s.maxZoom);return D>.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(a.setProjection({name:"mercator"}),a.zoom=D,this._cameraForBounds(a,r,n,i,o)):{center:a.center,zoom:D,bearing:i}}queryTerrainElevation(t,r){const n=this.transform.elevation;return n?(r=e.extend({},{exaggerated:!0},r),n.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,r.exaggerated)):null}_cameraForBounds(t,r,n,i,o){if("globe"===t.projection.name)return this._cameraForBoundsOnGlobe(t,r,n,i,o);const a=t.clone(),s=this._extendCameraOptions(o),l=a.padding;a.bearing=i;const c=e.LngLat.convert(r),u=e.LngLat.convert(n),h=new e.LngLat(c.lng,u.lat),d=new e.LngLat(u.lng,c.lat),p=a.project(c),f=a.project(u),m=this.queryTerrainElevation(c),g=this.queryTerrainElevation(u),_=this.queryTerrainElevation(h),y=this.queryTerrainElevation(d),v=[[p.x,p.y,Math.min(m||0,g||0,_||0,y||0)],[f.x,f.y,Math.max(m||0,g||0,_||0,y||0)]];let x=e.Aabb.fromPoints(v);const b=a.getWorldToCameraMatrix(),w=e.invert(new Float64Array(16),b);x=e.Aabb.applyTransform(x,b);const T=e.sub([],x.max,x.min),E=l.left||0,S=l.right||0,C=l.bottom||0,M=l.top||0,{left:k,right:A,top:I,bottom:P}=s.padding,z=.5*(E+S),D=.5*(M+C),R=Math.min(a.scaleZoom(a.scale*Math.min((a.width-(E+S+k+A))/T[0],(a.height-(C+M+P+I))/T[1])),s.maxZoom),L=a.scale/a.zoomScale(R);x=new e.Aabb([x.min[0]-(k+z)*L,x.min[1]-(P+D)*L,x.min[2]],[x.max[0]+(A+z)*L,x.max[1]+(I+D)*L,x.max[2]]);const O=.5*T[2],B=this._minimumAABBFrustumDistance(a,x),F=[0,0,1,0];e.transformMat4$1(F,F,b),e.normalize$2(F,F);const j=e.scale$2([],F,B+O),U=e.add([],x.center,j),N=("number"==typeof s.offset.x&&"number"==typeof s.offset.y?new e.pointGeometry(s.offset.x,s.offset.y):e.pointGeometry.convert(s.offset)).rotate(-e.degToRad(i));x.center[0]-=N.x*L,x.center[1]+=N.y*L,e.transformMat4(x.center,x.center,w),e.transformMat4(U,U,w);const V=[x.center[0],x.center[1],U[2]*a.pixelsPerMeter];e.scale$2(V,V,1/a.worldSize);const G=e.lngFromMercatorX(V[0]),q=e.latFromMercatorY(V[1]),Z=Math.min(a._zoomFromMercatorZ(V[2]),s.maxZoom),$=new e.LngLat(G,q);return a.mercatorFromTransition&&Z<.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(a.setProjection({name:"globe"}),a.zoom=Z,this._cameraForBounds(a,r,n,i,o)):{center:$,zoom:Z,bearing:i}}fitBounds(e,t,r){const n=this.cameraForBounds(e,t);return this._fitInternal(n,t,r)}fitScreenCoordinates(t,r,n,i,o){const a=e.pointGeometry.convert(t),s=e.pointGeometry.convert(r),l=new e.pointGeometry(Math.min(a.x,s.x),Math.min(a.y,s.y)),c=new e.pointGeometry(Math.max(a.x,s.x),Math.max(a.y,s.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(a,s))return this;const u=this.transform.pointLocation3D(l),h=this.transform.pointLocation3D(c),d=this.transform.pointLocation3D(new e.pointGeometry(l.x,c.y)),p=this.transform.pointLocation3D(new e.pointGeometry(c.x,l.y)),f=[Math.min(u.lng,h.lng,d.lng,p.lng),Math.min(u.lat,h.lat,d.lat,p.lat)],m=[Math.max(u.lng,h.lng,d.lng,p.lng),Math.max(u.lat,h.lat,d.lat,p.lat)],g=this._cameraForBounds(this.transform,f,m,n,i);return this._fitInternal(g,i,o)}_fitInternal(t,r,n){return t?(delete(r=e.extend(t,r)).padding,r.linear?this.easeTo(r,n):this.flyTo(r,n)):this}jumpTo(t,r){this.stop();const n=t.preloadOnly?this.transform.clone():this.transform;let i=!1,o=!1,a=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(i=!0,n.zoom=+t.zoom),void 0!==t.center&&(n.center=e.LngLat.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(o=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(a=!0,n.pitch=+t.pitch),null==t.padding||n.isPaddingEqual(t.padding)||(n.padding=t.padding),t.preloadOnly?(this._preloadTiles(n),this):(this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),i&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),o&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),a&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||e.warnOnce(Hi),this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,r){const n=this.transform;if(!n.projection.supportsFreeCamera)return e.warnOnce(Hi),this;this.stop();const i=n.zoom,o=n.pitch,a=n.bearing;n.setFreeCameraOptions(t);const s=i!==n.zoom,l=o!==n.pitch,c=a!==n.bearing;return this.fire(new e.Event("movestart",r)).fire(new e.Event("move",r)),s&&this.fire(new e.Event("zoomstart",r)).fire(new e.Event("zoom",r)).fire(new e.Event("zoomend",r)),c&&this.fire(new e.Event("rotatestart",r)).fire(new e.Event("rotate",r)).fire(new e.Event("rotateend",r)),l&&this.fire(new e.Event("pitchstart",r)).fire(new e.Event("pitch",r)).fire(new e.Event("pitchend",r)),this.fire(new e.Event("moveend",r)),this}easeTo(t,r){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const n=this.transform,i=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?+t.zoom:i,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:n.padding,d=e.pointGeometry.convert(t.offset);let p,f,m;if("globe"===n.projection.name){const r=e.MercatorCoordinate.fromLngLat(n.center),i=d.rotate(-n.angle);r.x+=i.x/n.worldSize,r.y+=i.y/n.worldSize;const o=r.toLngLat(),a=e.LngLat.convert(t.center||o);this._normalizeCenter(a),p=n.centerPoint.add(i),f=new e.pointGeometry(r.x,r.y).mult(n.worldSize),m=new e.pointGeometry(e.mercatorXfromLng(a.lng),e.mercatorYfromLat(a.lat)).mult(n.worldSize).sub(f)}else{p=n.centerPoint.add(d);const r=n.pointLocation(p),i=e.LngLat.convert(t.center||r);this._normalizeCenter(i),f=n.project(r),m=n.project(i).sub(f)}const g=n.zoomScale(l-i);let _,y;t.around&&(_=e.LngLat.convert(t.around),y=n.locationPoint(_));const v=this._zooming||l!==i,x=this._rotating||o!==c,b=this._pitching||u!==a,w=!n.isPaddingEqual(h),T=n=>T=>{if(v&&(n.zoom=e.number(i,l,T)),x&&(n.bearing=e.number(o,c,T)),b&&(n.pitch=e.number(a,u,T)),w&&(n.interpolatePadding(s,h,T),p=n.centerPoint.add(d)),_)n.setLocationAtPoint(_,y);else{const e=n.zoomScale(n.zoom-i),t=l>i?Math.min(2,g):Math.max(.5,g),r=Math.pow(t,1-T),o=n.unproject(f.add(m.mult(T*r)).mult(e));n.setLocationAtPoint(n.renderWorldCopies?o.wrap():o,p)}return t.preloadOnly||this._fireMoveEvents(r),n};if(t.preloadOnly){const e=this._emulate(T,t.duration,n);return this._preloadTiles(e),this}const E={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=v,this._rotating=x,this._pitching=b,this._padding=w,this._easeId=t.easeId,this._prepareEase(r,t.noMoveStart,E),this._ease(T(n),e=>{n.recenterOnTerrain(),this._afterEase(r,e)},t),this}_prepareEase(t,r,n={}){this._moving=!0,this.transform.cameraElevationReference="sea",r||n.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!n.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!n.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!n.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,r){if(this._easeId&&r&&this._easeId===r)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const n=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,n&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,r){if(!t.essential&&e.exported.prefersReducedMotion){const n=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(n,r)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const n=this.transform,i=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,n.minZoom,n.maxZoom):i,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:n.padding,d=n.zoomScale(l-i),p=e.pointGeometry.convert(t.offset);let f=n.centerPoint.add(p);const m=n.pointLocation(f),g=e.LngLat.convert(t.center||m);this._normalizeCenter(g);const _=n.project(m),y=n.project(g).sub(_);let v=t.curve;const x=Math.max(n.width,n.height),b=x/d,w=y.mag();if("minZoom"in t){const r=e.clamp(Math.min(t.minZoom,i,l),n.minZoom,n.maxZoom),o=x/n.zoomScale(r-i);v=Math.sqrt(o/w*2)}const T=v*v;function E(e){const t=(b*b-x*x+(e?-1:1)*T*T*w*w)/(2*(e?b:x)*T*w);return Math.log(Math.sqrt(t*t+1)-t)}function S(e){return(Math.exp(e)-Math.exp(-e))/2}function C(e){return(Math.exp(e)+Math.exp(-e))/2}const M=E(0);let k=function(e){return C(M)/C(M+v*e)},A=function(e){return x*((C(M)*(S(t=M+v*e)/C(t))-S(M))/T)/w;var t},I=(E(1)-M)/v;if(Math.abs(w)<1e-6||!isFinite(I)){if(Math.abs(x-b)<1e-6)return this.easeTo(t,r);const e=b<x?-1:1;I=Math.abs(Math.log(b/x))/v,A=function(){return 0},k=function(t){return Math.exp(e*v*t)}}t.duration="duration"in t?+t.duration:1e3*I/("screenSpeed"in t?+t.screenSpeed/v:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);const P=o!==c,z=u!==a,D=!n.isPaddingEqual(h),R=n=>d=>{const m=d*I,v=1/k(m);n.zoom=1===d?l:i+n.scaleZoom(v),P&&(n.bearing=e.number(o,c,d)),z&&(n.pitch=e.number(a,u,d)),D&&(n.interpolatePadding(s,h,d),f=n.centerPoint.add(p));const x=1===d?g:n.unproject(_.add(y.mult(A(m))).mult(v));return n.setLocationAtPoint(n.renderWorldCopies?x.wrap():x,f),n._updateCameraOnTerrain(),t.preloadOnly||this._fireMoveEvents(r),n};if(t.preloadOnly){const e=this._emulate(R,t.duration,n);return this._preloadTiles(e),this}return this._zooming=!0,this._rotating=P,this._pitching=z,this._padding=D,this._prepareEase(r,!1),this._ease(R(n),()=>this._afterEase(r),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const e=this._onEaseEnd;this._onEaseEnd=void 0,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,r,n){!1===n.animate||0===n.duration?(t(1),r()):(this._easeStart=e.exported.now(),this._easeOptions=n,this._onEaseFrame=t,this._onEaseEnd=r,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),r=this._onEaseFrame;r&&r(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,r){t=e.wrap(t,-180,180);const n=Math.abs(t-r);return Math.abs(t-360-r)<n&&(t-=360),Math.abs(t+360-r)<n&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.maxBounds)return;const r=e.lng-t.center.lng;e.lng+=r>180?-360:r<-180?360:0}_emulate(e,t,r){const n=Math.ceil(15*t/1e3),i=[],o=e(r.clone());for(let e=0;e<=n;e++){const t=o(e/n);i.push(t.clone())}return i}}class Ki{constructor(t={}){this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=o("button","mapboxgl-ctrl-attrib-button",this._container),o("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=o("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const r=this._map._getUIString("AttributionControl."+t);e.setAttribute("aria-label",r),e.removeAttribute("title"),e.firstElementChild&&e.firstElementChild.setAttribute("title",r)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));const r=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){const n=r.reduce((e,t,n)=>(t.value&&(e+=`${t.key}=${t.value}${n<r.length-1?"&":""}`),e),"?");t.href=`${e.config.FEEDBACK_URL}/${n}#${ei(this._map,!0)}`,t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let e=[];if(this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style._sourceCaches;for(const r in t){const n=t[r];if(n.used){const t=n.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e.sort((e,t)=>e.length-t.length),e=e.filter((t,r)=>{for(let n=r+1;n<e.length;n++)if(e[n].indexOf(t)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[...this.options.customAttribution,...e]:e.unshift(this.options.customAttribution));const r=e.join(" | ");r!==this._attribHTML&&(this._attribHTML=r,e.length?(this._innerContainer.innerHTML=r,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Ji{constructor(){e.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(e){this._map=e,this._container=o("div","mapboxgl-ctrl");const t=o("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(const t in e){const r=e[t].getSource();if(r.hasOwnProperty("mapbox_logo")&&!r.mapbox_logo)return!1}return!0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}class Qi{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,r=t?this._queue.concat(t):this._queue;for(const t of r)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const r of t)if(!r.cancelled&&(r.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function eo(t,r,n){if(t=new e.LngLat(t.lng,t.lat),r){const i=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=360*Math.ceil(Math.abs(t.lng-n.center.lng)/360),s=n.locationPoint(t).distSqr(r),l=r.x<0||r.y<0||r.x>n.width||r.y>n.height;n.locationPoint(i).distSqr(r)<s&&(l||Math.abs(i.lng-n.center.lng)<a)?t=i:n.locationPoint(o).distSqr(r)<s&&(l||Math.abs(o.lng-n.center.lng)<a)&&(t=o)}for(;Math.abs(t.lng-n.center.lng)>180;){const e=n.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=n.width&&e.y<=n.height)break;t.lng>n.center.lng?t.lng-=360:t.lng+=360}return t}const to={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class ro extends e.Evented{constructor(t,r){if(super(),(t instanceof e.window.HTMLElement||r)&&(t=e.extend({element:t},r)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=t&&t.occludedOpacity||.2,t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=o("div");const r=41,n=27,i=a("svg",{display:"block",height:r*this._scale+"px",width:n*this._scale+"px",viewBox:`0 0 ${n} ${r}`},this._element),s=a("radialGradient",{id:"shadowGradient"},a("defs",{},i));a("stop",{offset:"10%","stop-opacity":.4},s),a("stop",{offset:"100%","stop-opacity":.05},s),a("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},i),a("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},i),a("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},i),a("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},i),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",e=>{e.preventDefault()}),this._element.addEventListener("mousedown",e=>{e.preventDefault()});const n=this._element.classList;for(const e in to)n.remove("mapboxgl-marker-anchor-"+e);n.add("mapboxgl-marker-anchor-"+this._anchor),this._popup=null}addTo(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._updateMoving),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on("click",this._onMapClick)),this}remove(){const e=this._map;return e&&(e.off("click",this._onMapClick),e.off("move",this._updateMoving),e.off("moveend",this._update),e.off("mousedown",this._addDragHandler),e.off("touchstart",this._addDragHandler),e.off("mouseup",this._onUp),e.off("touchend",this._onUp),e.off("mousemove",this._onMove),e.off("touchmove",this._onMove),e.off("remove",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,r=13.5,n=Math.sqrt(Math.pow(r,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[n,-1*(t-r+n)],"bottom-right":[-n,-1*(t-r+n)],left:[r,-1*(t-r)],right:[-r,-1*(t-r)]}:this._offset}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(e){const t=e.code,r=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==r&&13!==r||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,r=this._element;this._popup&&(t===r||r.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const e=this._map,t=this._pos;if(!e||!t)return!1;const r=e.unproject(t),n=e.getFreeCameraOptions();if(!n.position)return!1;const i=n.position.toLngLat();return i.distanceTo(r)<.9*i.distanceTo(this._lngLat)}_evaluateOpacity(){const t=this._map;if(!t)return;const r=this._pos;if(!r||r.x<0||r.x>t.transform.width||r.y<0||r.y>t.transform.height)return void this._clearFadeTimer();const n=t.unproject(r);let i;t._showingGlobe()&&e.isLngLatBehindGlobe(t.transform,this._lngLat)?i=0:(i=1-t._queryFogOpacity(n),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(i*=this._occludedOpacity)),this._element.style.opacity=""+i,this._element.style.pointerEvents=i>0?"auto":"none",this._popup&&this._popup._setOpacity(i),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const e=this._pos;if(!e||!this._map)return;const t=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${e.x}px,${e.y}px)\n            ${to[this._anchor]}\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\n            translate(${t.x}px,${t.y}px)\n        `}_calculateXYTransform(){const t=this._pos,r=this._map,n=this.getPitchAlignment();if(!r||!t||"map"!==n)return"";if(!r._showingGlobe()){const e=r.getPitch();return e?`rotateX(${e}deg)`:""}const i=e.radToDeg(e.globeTiltAtLngLat(r.transform,this._lngLat)),o=t.sub(e.globeCenterToScreenPoint(r.transform)),a=Math.abs(o.x)+Math.abs(o.y);if(0===a)return"";const s=i/a;return`rotateX(${-o.y*s}deg) rotateY(${o.x*s}deg)`}_calculateZTransform(){const t=this._pos,r=this._map;if(!r||!t)return"";let n=0;const i=this.getRotationAlignment();if("map"===i)if(r._showingGlobe()){const t=r.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),i=r.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(t);n=e.radToDeg(Math.atan2(i.y,i.x))-90}else n=-r.getBearing();else if("horizon"===i){const i=e.smoothstep(4,6,r.getZoom()),o=e.globeCenterToScreenPoint(r.transform);o.y+=i*r.transform.height;const a=t.sub(o),s=e.radToDeg(Math.atan2(a.y,a.x));n=(s>90?s-270:s+90)*(1-i)}return n+=this._rotation,n?`rotateZ(${n}deg)`:""}_update(t){e.window.cancelAnimationFrame(this._updateFrameId);const r=this._map;r&&(r.transform.renderWorldCopies&&(this._lngLat=eo(this._lngLat,this._pos,r.transform)),this._pos=r.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),r._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(r._showingGlobe()||r.getTerrain()||r.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){const r=this._map;if(!r)return;const n=this._pointerdownPos,i=this._positionDelta;if(n&&i){if(!this._isDragging){const e=this._clickTolerance||r._clickTolerance;if(t.point.dist(n)<e)return;this._isDragging=!0}this._pos=t.point.sub(i),this._lngLat=r.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const t=this._map;t&&(t.off("mousemove",this._onMove),t.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){const t=this._map,r=this._pos;t&&r&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(r),this._pointerdownPos=e.point,this._state="pending",t.on("mousemove",this._onMove),t.on("touchmove",this._onMove),t.once("mouseup",this._onUp),t.once("touchend",this._onUp))}setDraggable(e){this._draggable=!!e;const t=this._map;return t&&(e?(t.on("mousedown",this._addDragHandler),t.on("touchstart",this._addDragHandler)):(t.off("mousedown",this._addDragHandler),t.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(e){return this._occludedOpacity=e||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const no={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},io=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function oo(t=new e.pointGeometry(0,0),r="bottom"){if("number"==typeof t){const n=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(r){case"top":return new e.pointGeometry(0,t);case"top-left":return new e.pointGeometry(n,n);case"top-right":return new e.pointGeometry(-n,n);case"bottom":return new e.pointGeometry(0,-t);case"bottom-left":return new e.pointGeometry(n,-n);case"bottom-right":return new e.pointGeometry(-n,-n);case"left":return new e.pointGeometry(t,0);case"right":return new e.pointGeometry(-t,0)}return new e.pointGeometry(0,0)}return t instanceof e.pointGeometry||Array.isArray(t)?e.pointGeometry.convert(t):e.pointGeometry.convert(t[r]||[0,0])}class ao{constructor(e){this.jumpTo(e)}getValue(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;const r=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-r)+this._end*r}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}easeTo(e,t,r){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+r}}const so={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use âŒ˜ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},lo={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function co(e){e.parentNode&&e.parentNode.removeChild(e)}const uo={showCompass:!0,showZoom:!0,visualizePitch:!1};class ho{constructor(t,r,n=!1){this._clickTolerance=10,this.element=r,this.mouseRotate=new wi({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,n&&(this.mousePitch=new Ti({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),r.addEventListener("mousedown",this.mousedown),r.addEventListener("touchstart",this.touchstart,{passive:!1}),r.addEventListener("touchmove",this.touchmove),r.addEventListener("touchend",this.touchend),r.addEventListener("touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),u()}move(e,t){const r=this.map,n=this.mouseRotate.mousemoveWindow(e,t),i=n&&n.bearingDelta;if(i&&r.setBearing(r.getBearing()+i),this.mousePitch){const n=this.mousePitch.mousemoveWindow(e,t),i=n&&n.pitchDelta;i&&r.setPitch(r.getPitch()+i)}}off(){const e=this.element;e.removeEventListener("mousedown",this.mousedown),e.removeEventListener("touchstart",this.touchstart,{passive:!1}),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchend",this.touchend),e.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){h(),e.window.removeEventListener("mousemove",this.mousemove),e.window.removeEventListener("mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),f(this.element,t)),e.window.addEventListener("mousemove",this.mousemove),e.window.addEventListener("mouseup",this.mouseup)}mousemove(e){this.move(e,f(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=m(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=m(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const po={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},fo={maxWidth:100,unit:"metric"};function mo(e,t,r){const n=go(t),i=n/t,o={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[r];this._map._requestDomTask(()=>{this._container.style.width=e*i+"px",this._container.innerHTML=`${n}&nbsp;${o}`})}function go(e){const t=Math.pow(10,(""+Math.floor(e)).length-1);let r=e/t;return r=r>=10?10:r>=5?5:r>=3?3:r>=2?2:r>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(r),t*r}const _o={version:e.version,supported:r,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends Yi{constructor(t){if(e.LivePerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},lo,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Kn(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t),this._interactive=t.interactive,this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._optimizeForTerrain=t.optimizeForTerrain,this._language=this._parseLanguage(t.language),this._worldview=t.worldview,this._renderTaskQueue=new Qi,this._domRenderTaskQueue=new Qi,this._controls=[],this._markers=[],this._popups=[],this._mapId=e.uniqueId(),this._locale=e.extend({},so,t.locale),this._clickTolerance=t.clickTolerance,this._cooperativeGestures=t.cooperativeGestures,this._performanceMetricsCollection=t.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new ao(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),this._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else{if(!(t.container instanceof e.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(this._container.childNodes.length>0&&e.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new Xi(this,t),this._localFontFamily=t.localFontFamily,this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),t.projection&&this.setProjection(t.projection),this._hash=t.hash&&new Qn("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),t.attributionControl&&this.addControl(new Ki({customAttribution:t.customAttribution})),this._logoControl=new Ji,this.addControl(this._logoControl,t.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",t=>{this._update("style"===t.dataType),this.fire(new e.Event(t.dataType+"data",t))}),this.on("dataloading",t=>{this.fire(new e.Event(t.dataType+"dataloading",t))})}_getMapId(){return this._mapId}addControl(t,r){if(void 0===r&&(r=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const n=t.onAdd(this);this._controls.push(t);const i=this._controlPositions[r];return-1!==r.indexOf("bottom")?i.insertBefore(n,i.firstChild):i.appendChild(n),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const r=this._controls.indexOf(t);return r>-1&&this._controls.splice(r,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const r=!this._moving;return r&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),r&&this.fire(new e.Event("moveend",t)),this}getBounds(){return"globe"===this.transform.projection.name&&e.warnOnce('Globe projection does not support getBounds API, this API may behave unexpectedly when viewing the poles."'),this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(t){return"auto"===t?e.window.navigator.language:Array.isArray(t)?0===t.length?void 0:t.map(t=>"auto"===t?e.window.navigator.language:t):t}setLanguage(e){const t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style._reloadSources();for(const e of this._controls)e._setLanguage&&e._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(e){return this._lazyInitEmptyStyle(),e?"string"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const t=this.transform,r=t.projection.name;let n;"globe"===r&&t.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?(t.setMercatorFromTransition(),n=!0):"mercator"===r&&t.zoom<e.GLOBE_ZOOM_THRESHOLD_MAX&&(t.setProjection({name:"globe"}),n=!0),n&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(e,t){return this._updateProjection(e||t||{name:"mercator"})}_updateProjection(t){let r;if(r="globe"===t.name&&this.transform.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),r){this.painter.clearBackgroundTiles();for(const e in this.style._sourceCaches)this.style._sourceCaches[e].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_createDelegatedListener(e,t,r){if("mouseenter"===e||"mouseover"===e){let n=!1;const i=i=>{const o=t.filter(e=>this.getLayer(e)),a=o.length?this.queryRenderedFeatures(i.point,{layers:o}):[];a.length?n||(n=!0,r.call(this,new ci(e,this,i.originalEvent,{features:a}))):n=!1},o=()=>{n=!1};return{layers:new Set(t),listener:r,delegates:{mousemove:i,mouseout:o}}}if("mouseleave"===e||"mouseout"===e){let n=!1;const i=i=>{const o=t.filter(e=>this.getLayer(e));(o.length?this.queryRenderedFeatures(i.point,{layers:o}):[]).length?n=!0:n&&(n=!1,r.call(this,new ci(e,this,i.originalEvent)))},o=t=>{n&&(n=!1,r.call(this,new ci(e,this,t.originalEvent)))};return{layers:new Set(t),listener:r,delegates:{mousemove:i,mouseout:o}}}{const n=e=>{const n=t.filter(e=>this.getLayer(e)),i=n.length?this.queryRenderedFeatures(e.point,{layers:n}):[];i.length&&(e.features=i,r.call(this,e),delete e.features)};return{layers:new Set(t),listener:r,delegates:{[e]:n}}}}on(e,t,r){if(void 0===r)return super.on(e,t);Array.isArray(t)||(t=[t]);const n=this._createDelegatedListener(e,t,r);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(n);for(const e in n.delegates)this.on(e,n.delegates[e]);return this}once(e,t,r){if(void 0===r)return super.once(e,t);Array.isArray(t)||(t=[t]);const n=this._createDelegatedListener(e,t,r);for(const e in n.delegates)this.once(e,n.delegates[e]);return this}off(e,t,r){if(void 0===r)return super.off(e,t);t=new Set(Array.isArray(t)?t:[t]);const n=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0},i=this._delegatedListeners?this._delegatedListeners[e]:void 0;return i&&(e=>{for(let i=0;i<e.length;i++){const o=e[i];if(o.listener===r&&n(o.layers,t)){for(const e in o.delegates)this.off(e,o.delegates[e]);return e.splice(i,1),this}}})(i),this}queryRenderedFeatures(t,r){return this.style?(void 0!==r||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(r=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],r=r||{},this.transform)):[]}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,r){return!1!==(r=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},r)).diff&&r.localIdeographFontFamily===this._localIdeographFontFamily&&r.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,r),this):(this._localIdeographFontFamily=r.localIdeographFontFamily,this._localFontFamily=r.localFontFamily,this._updateStyle(t,r))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new er(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new er(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,r){if("string"==typeof t){const n=this._requestManager.normalizeStyleURL(t),i=this._requestManager.transformRequest(n,e.ResourceType.Style);e.getJSON(i,(t,n)=>{t?this.fire(new e.ErrorEvent(t)):n&&this._updateDiff(n,r)})}else"object"==typeof t&&this._updateDiff(t,r)}_updateDiff(t,r){try{this.style.setState(t)&&this._update(!0)}catch(n){e.warnOnce(`Unable to perform style diff: ${n.message||n.error||n}.  Rebuilding the style from scratch.`),this._updateStyle(t,r)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(e.warnOnce("There is no style added to the map."),!1)}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){return!!this.style&&this.style._isSourceCacheLoaded(e)}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const r=e[t]._tiles;for(const e in r){const t=r[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,r){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,r)}removeSource(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,r,{pixelRatio:n=1,sdf:i=!1,stretchX:o,stretchY:a,content:s}={}){if(this._lazyInitEmptyStyle(),r instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&r instanceof e.window.ImageBitmap){const{width:l,height:c,data:u}=e.exported.getImageData(r);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},u),pixelRatio:n,stretchX:o,stretchY:a,content:s,sdf:i,version:0})}else if(void 0===r.width||void 0===r.height)this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:l,height:c}=r,u=r;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},new Uint8Array(u.data)),pixelRatio:n,stretchX:o,stretchY:a,content:s,sdf:i,version:0,userImage:u}),u.onAdd&&u.onAdd(this,t)}}updateImage(t,r){const n=this.style.getImage(t);if(!n)return void this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const i=r instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&r instanceof e.window.ImageBitmap?e.exported.getImageData(r):r,{width:o,height:a}=i;void 0!==o&&void 0!==a?o===n.data.width&&a===n.data.height?(n.data.replace(i.data,!(r instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&r instanceof e.window.ImageBitmap)),this.style.updateImage(t,n)):this.fire(new e.ErrorEvent(new Error(`The width and height of the updated image (${o}, ${a})\n                must be that same as the previous version of the image\n                (${n.data.width}, ${n.data.height})`))):this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,r){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),(t,n)=>{r(t,n instanceof e.window.HTMLImageElement?e.exported.getImageData(n):n)})}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,r){return this.style.setLayerZoomRange(e,t,r),this._update(!0)}setFilter(e,t,r={}){return this.style.setFilter(e,t,r),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,r,n={}){return this.style.setPaintProperty(e,t,r,n),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,r,n={}){return this.style.setLayoutProperty(e,t,r,n),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}_updateContainerDimensions(){if(!this._container)return;const t=this._container.getBoundingClientRect().width||400,r=this._container.getBoundingClientRect().height||300;let n,i,o,a=this._container;for(;a&&(!i||!o);){const t=e.window.getComputedStyle(a).transform;t&&"none"!==t&&(n=t.match(/matrix.*\((.+)\)/)[1].split(", "),n[0]&&"0"!==n[0]&&"1"!==n[0]&&(i=n[0]),n[3]&&"0"!==n[3]&&"1"!==n[3]&&(o=n[3])),a=a.parentElement}this._containerWidth=i?Math.abs(t/i):t,this._containerHeight=o?Math.abs(r/o):r}_detectMissingCSS(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=o("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();const t=this._canvasContainer=o("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=o("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const r=this._controlContainer=o("div","mapboxgl-control-container",e),n=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(e=>{n[e]=o("div","mapboxgl-ctrl-"+e,r)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(t,r){const n=e.exported.devicePixelRatio||1;this._canvas.width=n*Math.ceil(t),this._canvas.height=n*Math.ceil(r),this._canvas.style.width=t+"px",this._canvas.style.height=r+"px"}_addMarker(e){this._markers.push(e)}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}_addPopup(e){this._popups.push(e)}_removePopup(e){const t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1)}_setupPainter(){const t=e.extend({},r.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),n=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);n?(e.storeAuthState(n,!0),this.painter=new Fn(n,this.transform),this.on("data",e=>{"source"===e.dataType&&this.painter.setTileLoadedFlag(!0)}),e.exported$1.testSupport(n)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_requestDomTask(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e)}_render(t){let r;const n=this.painter.context.extTimerQuery,i=e.exported.now();if(this.listens("gpu-timing-frame")&&(r=n.createQueryEXT(),n.beginQueryEXT(n.TIME_ELAPSED_EXT,r)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],e.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],e.window.performance.now())),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),this._removed)return;this._updateProjectionTransition();let o=!1;const a=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,r=this.transform.pitch,n=e.exported.now();this.style.zoomHistory.update(t,n);const i=new e.EvaluationParameters(t,{now:n,fadeDuration:a,pitch:r,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),s=i.crossFadingFactor();1===s&&s===this._crossFadingFactor||(o=!0,this._crossFadingFactor=s),this.style.update(i)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let s=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),s=this._updateAverageElevation(i),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):s=this._updateAverageElevation(i),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),r){const t=e.exported.now()-i;n.endQueryEXT(n.TIME_ELAPSED_EXT,r),setTimeout(()=>{const o=n.getQueryObjectEXT(r,n.QUERY_RESULT_EXT)/1e6;n.deleteQueryEXT(r),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:o})),e.window.performance.mark("frame-gpu",{startTime:i,detail:{gpuTime:o}})},50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout(()=>{const r=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:r}))},50)}if(this.listens("gpu-timing-deferred-render")){const t=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const r=this.painter.queryGpuTimeDeferredRender(t);this.fire(new e.Event("gpu-timing-deferred-render",{gpuTime:r}))},50)}const l=this._sourcesDirty||this._styleDirty||this._placementDirty||s;if(l||this._repaint)this.triggerRepaint();else{const t=!this.isMoving()&&this.loaded();if(t&&(s=this._updateAverageElevation(i,!0)),s)this.triggerRepaint();else if(this._triggerFrame(!1),t&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const t=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:t})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||l||(this._fullyLoaded=!0,e.LivePerformanceUtils.mark(e.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&e.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.painter.transform.projection,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(e){for(const t of this._markers)e&&!this.getRenderWorldCopies()&&(t._lngLat=t._lngLat.wrap()),t._update();for(const t of this._popups)!e||this.getRenderWorldCopies()||t._trackPointer||(t._lngLat=t._lngLat.wrap()),t._update()}_updateAverageElevation(e,t=!1){const r=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&r(0);if((t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let n=this.transform.sampleAverageElevation(),i=!1;this.transform.elevation&&(i=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(n)?n=0:this._averageElevationLastSampledAt=e;const o=Math.abs(t-n);if(o>1){if(this._isInitialLoad||i)return this._averageElevation.jumpTo(n),r(n);this._averageElevation.easeTo(n,e,300)}else if(o>1e-4)return this._averageElevation.jumpTo(n),r(n)}return!!this._averageElevation.isEasing(e)&&r(this._averageElevation.getValue(e))}_authenticate(){e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,t=>{if(t&&(t.message===e.AUTH_ERR_MSG||401===t.status)){const t=this.painter.context.gl;e.storeAuthState(t,!1),this._logoControl instanceof Ji&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const r=this.painter.context.gl,n=r.createFramebuffer();function i(e){r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0);const t=new Uint8Array(r.drawingBufferWidth*r.drawingBufferHeight*4);return r.readPixels(0,0,r.drawingBufferWidth,r.drawingBufferHeight,r.RGBA,r.UNSIGNED_BYTE,t),t}return r.bindFramebuffer(r.FRAMEBUFFER,n),this._canvasPixelComparison(i(e),t.canvasCopies.map(i),t.timeStamps)}_canvasPixelComparison(e,t,r){let n=r[1]-r[0];const i=e.length/4;for(let o=0;o<t.length;o++){const a=t[o];let s=0;for(let t=0;t<a.length;t+=4)a[t]===e[t]&&a[t+1]===e[t+1]&&a[t+2]===e[t+2]&&a[t+3]===e[t+3]&&(s+=1);n+=(r[o+2]-r[o+1])*(1-s/i)}return n}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1),e.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),co(this._canvasContainer),co(this._controlContainer),co(this._missingCSSCanary),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(t){this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame(e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e)}))}_preloadTiles(t){const r=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(r,(e,r)=>e._preloadTiles(t,r),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}_onVisibilityChange(){"hidden"===e.window.document.visibilityState&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update())}_setCacheLimits(t,r){e.setCacheLimits(t,r)}get version(){return e.version}},NavigationControl:class{constructor(t){this.options=e.extend({},uo,t),this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",e=>e.preventDefault()),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",e=>{this._map&&this._map.zoomIn({},{originalEvent:e})}),o("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",e=>{this._map&&this._map.zoomOut({},{originalEvent:e})}),o("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",e=>{const t=this._map;t&&(this.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}))}),this._compassIcon=o("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const e=this._map;if(!e)return;const t=e.getZoom(),r=t===e.getMaxZoom(),n=t===e.getMinZoom();this._zoomInButton.disabled=r,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",r.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())}_rotateCompassArrow(){const e=this._map;if(!e)return;const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(e.transform.pitch*(Math.PI/180)),.5)}) rotateX(${e.transform.pitch}deg) rotateZ(${e.transform.angle*(180/Math.PI)}deg)`:`rotate(${e.transform.angle*(180/Math.PI)}deg)`;e._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=t)})}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),e.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&e.on("pitch",this._rotateCompassArrow),e.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ho(e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off("pitch",this._rotateCompassArrow),e.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(e,t){const r=o("button",e,this._container);return r.type="button",r.addEventListener("click",t),r}_setButtonTitle(e,t){if(!this._map)return;const r=this._map._getUIString("NavigationControl."+t);e.setAttribute("aria-label",r),e.firstElementChild&&e.firstElementChild.setAttribute("title",r)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({geolocation:e.window.navigator.geolocation},po,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Jn(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(e){return this._map=e,this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(t){const r=(e=!!this.options.geolocation)=>{this._supportsGeolocation=e,t(e)};void 0!==this._supportsGeolocation?t(this._supportsGeolocation):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then(e=>r("denied"!==e.state)).catch(()=>r()):r()}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),r=e.coords;return!!t&&(r.longitude<t.getWest()||r.longitude>t.getEast()||r.latitude<t.getSouth()||r.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const r=new e.LngLat(t.coords.longitude,t.coords.latitude),n=t.coords.accuracy,i=this._map.getBearing(),o=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(r.toBounds(n),o,{geolocateSource:!0})}_updateMarker(t){if(t){const r=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(r).addTo(this._map),this._userLocationDotMarker.setLngLat(r).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const t=this._map.transform,r=e.mercatorZfromAltitude(1,t._center.lat)*t.worldSize,n=Math.ceil(2*this._accuracy*r);this._circleElement.style.width=n+"px",this._circleElement.style.height=n+"px"}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._geolocateButton=o("button","mapboxgl-ctrl-geolocate",this._container),o("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=o("div","mapboxgl-user-location"),this._dotElement.appendChild(o("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(o("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new ro({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=o("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ro({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))})}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const t=()=>{e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(e=>{"granted"===e&&t()}).catch(console.error):t()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientation),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Ki,ScaleControl:class{constructor(t){this.options=e.extend({},fo,t),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch(e){return!1}}()||(this._setScale=mo.bind(this)),e.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const e=this.options.maxWidth||100,t=this._map,r=t._containerHeight/2,n=t._containerWidth/2-e/2,i=t.unproject([n,r]),o=t.unproject([n+e,r]),a=i.distanceTo(o);if("imperial"===this.options.unit){const t=3.2808*a;t>5280?this._setScale(e,t/5280,"mile"):this._setScale(e,t,"foot")}else"nautical"===this.options.unit?this._setScale(e,a/1852,"nautical-mile"):a>=1e3?this._setScale(e,a/1e3,"kilometer"):this._setScale(e,a,"meter")}_setScale(e,t,r){const n=go(t),i=n/t;this._map._requestDomTask(()=>{this._container.style.width=e*i+"px",this._container.innerHTML="nautical-mile"!==r?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:r}).format(n):n+"&nbsp;nm"})}onAdd(e){return this._map=e,this._language=e.getLanguage(),this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(e){this._language=e,this._update()}setUnit(e){this.options.unit=e,this._update()}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}_setupUI(){const t=this._fullscreenButton=o("button","mapboxgl-ctrl-fullscreen",this._controlContainer);o("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",e)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(no),t),e.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[])}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on("preclick",this._onClose),this.options.closeOnMove&&t.on("move",this._onClose),t.on("remove",this.remove),this._update(),t._addPopup(this),this._focusFirstElement(),this._trackPointer?(t.on("mousemove",this._onMouseEvent),t.on("mouseup",this._onMouseEvent),t._canvasContainer.classList.add("mapboxgl-track-pointer")):t.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const t=this._map;return t&&(t.off("move",this._update),t.off("move",this._onClose),t.off("preclick",this._onClose),t.off("click",this._onClose),t.off("remove",this.remove),t.off("mousemove",this._onMouseEvent),t.off("mouseup",this._onMouseEvent),t.off("drag",this._onMouseEvent),t._canvasContainer&&t._canvasContainer.classList.remove("mapboxgl-track-pointer"),t._removePopup(this),this._map=void 0),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();const r=this._map;return r&&(r.on("move",this._update),r.off("mousemove",this._onMouseEvent),r._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const e=this._map;return e&&(e.off("move",this._update),e.on("mousemove",this._onMouseEvent),e.on("drag",this._onMouseEvent),e._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(t){return this.setDOMContent(e.window.document.createTextNode(t))}setHTML(t){const r=e.window.document.createDocumentFragment(),n=e.window.document.createElement("body");let i;for(n.innerHTML=t;i=n.firstChild,i;)r.appendChild(i);return this.setDOMContent(r)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){let t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=o("div","mapboxgl-popup-content",this._container||void 0);if(t.appendChild(e),this.options.closeButton){const e=this._closeButton=o("button","mapboxgl-popup-close-button",t);e.type="button",e.setAttribute("aria-label","Close popup"),e.setAttribute("aria-hidden","true"),e.innerHTML="&#215;",e.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}_onMouseEvent(e){this._update(e.point)}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._map,r=this._container,n=this._pos;if(!t||!r||!n)return"bottom";const i=r.offsetWidth,o=r.offsetHeight,a=n.x<i/2,s=n.x>t.transform.width-i/2;if(n.y+e<o)return a?"top-left":s?"top-right":"top";if(n.y>t.transform.height-o){if(a)return"bottom-left";if(s)return"bottom-right"}return a?"left":s?"right":"bottom"}_updateClassList(){const e=this._container;if(!e)return;const t=[...this._classList];t.push("mapboxgl-popup"),this._anchor&&t.push("mapboxgl-popup-anchor-"+this._anchor),this._trackPointer&&t.push("mapboxgl-popup-track-pointer"),e.className=t.join(" ")}_update(t){const r=this._map,n=this._content;if(!r||!this._lngLat&&!this._trackPointer||!n)return;let i=this._container;if(i||(i=this._container=o("div","mapboxgl-popup",r.getContainer()),this._tip=o("div","mapboxgl-popup-tip",i),i.appendChild(n)),this.options.maxWidth&&i.style.maxWidth!==this.options.maxWidth&&(i.style.maxWidth=this.options.maxWidth),r.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=eo(this._lngLat,this._pos,r.transform)),!this._trackPointer||t){const e=this._pos=this._trackPointer&&t?t:r.project(this._lngLat),n=oo(this.options.offset),i=this._anchor=this._getAnchor(n.y),o=oo(this.options.offset,i),a=e.add(o).round();r._requestDomTask(()=>{this._container&&i&&(this._container.style.transform=`${to[i]} translate(${a.x}px,${a.y}px)`)})}if(!this._marker&&r._showingGlobe()){const t=e.isLngLatBehindGlobe(r.transform,this._lngLat)?0:1;this._setOpacity(t)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(io);e&&e.focus()}_onClose(){this.remove()}_setOpacity(e){this._container&&(this._container.style.opacity=""+e),this._content&&(this._content.style.pointerEvents=e?"auto":"none")}},Marker:ro,Style:er,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:Gn,Evented:e.Evented,config:e.config,prewarm:function(){Ne().acquire(Fe)},clearPrewarmedResources:function(){const e=Ue;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Fe),Ue=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return je.workerCount},set workerCount(e){je.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return _o})),n}()}()}).call(this,r(143))},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(5)),o=n(r(4)),a=n(r(2)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=(n(r(6)),r(7),n(r(9))),u=function(e){var t={};return e.shadows.forEach((function(e,r){t["elevation".concat(r)]={boxShadow:e}})),(0,a.default)({root:{backgroundColor:e.palette.background.paper},rounded:{borderRadius:e.shape.borderRadius}},t)};function h(e){var t=e.classes,r=e.className,n=e.component,c=e.square,u=e.elevation,h=(0,o.default)(e,["classes","className","component","square","elevation"]),d=(0,l.default)(t.root,t["elevation".concat(u)],(0,i.default)({},t.rounded,!c),r);return s.default.createElement(n,(0,a.default)({className:d},h))}t.styles=u,h.defaultProps={component:"div",elevation:2,square:!1};var d=(0,c.default)(u,{name:"MuiPaper"})(h);t.default=d},,,function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(149))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(4)),a=n(r(1)),s=(n(r(3)),n(r(8))),l=n(r(150)),c=n(r(171)),u=n(r(179)),h=r(16),d=n(r(9)),p=function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.action.disabled}}}};t.styles=p;var f=a.default.createElement(c.default,null),m=a.default.createElement(u.default,null);function g(e){var t=e.classes,r=e.color,n=(0,o.default)(e,["classes","color"]);return a.default.createElement(l.default,(0,i.default)({type:"radio",icon:f,checkedIcon:m,classes:{root:(0,s.default)(t.root,t["color".concat((0,h.capitalize)(r))]),checked:t.checked,disabled:t.disabled}},n))}g.defaultProps={color:"secondary"};var _=(0,d.default)(p,{name:"MuiRadio"})(g);t.default=_},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(10)),l=n(r(11)),c=n(r(12)),u=n(r(13)),h=n(r(14)),d=n(r(1)),p=(n(r(3)),n(r(8))),f=n(r(37)),m=n(r(9)),g=n(r(151)),_={root:{display:"inline-flex",alignItems:"center",transition:"none","&:hover":{backgroundColor:"transparent"}},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0}};t.styles=_;var y=function(e){function t(e){var r;return(0,s.default)(this,t),(r=(0,c.default)(this,(0,u.default)(t).call(this))).handleFocus=function(e){r.props.onFocus&&r.props.onFocus(e);var t=r.props.muiFormControl;t&&t.onFocus&&t.onFocus(e)},r.handleBlur=function(e){r.props.onBlur&&r.props.onBlur(e);var t=r.props.muiFormControl;t&&t.onBlur&&t.onBlur(e)},r.handleInputChange=function(e){var t=e.target.checked;r.isControlled||r.setState({checked:t}),r.props.onChange&&r.props.onChange(e,t)},r.isControlled=null!=e.checked,r.state={},r.isControlled||(r.state.checked=void 0!==e.defaultChecked&&e.defaultChecked),r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t=this.props,r=t.autoFocus,n=t.checked,s=t.checkedIcon,l=t.classes,c=t.className,u=t.defaultChecked,h=t.disabled,f=t.icon,m=t.id,_=t.inputProps,y=t.inputRef,v=t.muiFormControl,x=t.name,b=(t.onBlur,t.onChange,t.onFocus,t.readOnly),w=t.required,T=t.tabIndex,E=t.type,S=t.value,C=(0,a.default)(t,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","muiFormControl","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),M=h;v&&void 0===M&&(M=v.disabled);var k=this.isControlled?n:this.state.checked,A="checkbox"===E||"radio"===E;return d.default.createElement(g.default,(0,i.default)({component:"span",className:(0,p.default)(l.root,(e={},(0,o.default)(e,l.checked,k),(0,o.default)(e,l.disabled,M),e),c),disabled:M,tabIndex:null,role:void 0,onFocus:this.handleFocus,onBlur:this.handleBlur},C),k?s:f,d.default.createElement("input",(0,i.default)({autoFocus:r,checked:n,defaultChecked:u,className:l.input,disabled:M,id:A&&m,name:x,onChange:this.handleInputChange,readOnly:b,ref:y,required:w,tabIndex:T,type:E,value:S},_)))}}]),t}(d.default.Component),v=(0,m.default)(_,{name:"MuiPrivateSwitchBase"})((0,f.default)(y));t.default=v},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(152))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=(r(7),n(r(9))),u=r(42),h=n(r(153)),d=r(16),p=function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,u.fade)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,u.fade)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,u.fade)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}};function f(e){var t,r=e.children,n=e.classes,c=e.className,u=e.color,p=e.disabled,f=(0,a.default)(e,["children","classes","className","color","disabled"]);return s.default.createElement(h.default,(0,i.default)({className:(0,l.default)(n.root,(t={},(0,o.default)(t,n["color".concat((0,d.capitalize)(u))],"default"!==u),(0,o.default)(t,n.disabled,p),t),c),centerRipple:!0,focusRipple:!0,disabled:p},f),s.default.createElement("span",{className:n.label},r))}t.styles=p,f.defaultProps={color:"default",disabled:!1};var m=(0,c.default)(p,{name:"MuiIconButton"})(f);t.default=m},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(154))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(10)),l=n(r(11)),c=n(r(12)),u=n(r(13)),h=n(r(14)),d=n(r(33)),p=n(r(1)),f=(n(r(3)),n(r(19))),m=n(r(8)),g=(r(7),n(r(155))),_=n(r(9)),y=n(r(156)),v=r(158),x=n(r(159)),b=n(r(170)),w={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:"none",border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}};t.styles=w;var T=function(e){function t(){var e,r;(0,s.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=(0,c.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(i)))).state={},r.keyDown=!1,r.focusVisibleCheckTime=50,r.focusVisibleMaxCheckTimes=5,r.handleMouseDown=(0,b.default)((0,d.default)((0,d.default)(r)),"MouseDown","start",(function(){clearTimeout(r.focusVisibleTimeout),r.state.focusVisible&&r.setState({focusVisible:!1})})),r.handleMouseUp=(0,b.default)((0,d.default)((0,d.default)(r)),"MouseUp","stop"),r.handleMouseLeave=(0,b.default)((0,d.default)((0,d.default)(r)),"MouseLeave","stop",(function(e){r.state.focusVisible&&e.preventDefault()})),r.handleTouchStart=(0,b.default)((0,d.default)((0,d.default)(r)),"TouchStart","start"),r.handleTouchEnd=(0,b.default)((0,d.default)((0,d.default)(r)),"TouchEnd","stop"),r.handleTouchMove=(0,b.default)((0,d.default)((0,d.default)(r)),"TouchMove","stop"),r.handleContextMenu=(0,b.default)((0,d.default)((0,d.default)(r)),"ContextMenu","stop"),r.handleBlur=(0,b.default)((0,d.default)((0,d.default)(r)),"Blur","stop",(function(){clearTimeout(r.focusVisibleTimeout),r.state.focusVisible&&r.setState({focusVisible:!1})})),r.onRippleRef=function(e){r.ripple=e},r.onFocusVisibleHandler=function(e){r.keyDown=!1,r.setState({focusVisible:!0}),r.props.onFocusVisible&&r.props.onFocusVisible(e)},r.handleKeyDown=function(e){var t=r.props,n=t.component,i=t.focusRipple,o=t.onKeyDown,a=t.onClick;i&&!r.keyDown&&r.state.focusVisible&&r.ripple&&" "===e.key&&(r.keyDown=!0,e.persist(),r.ripple.stop(e,(function(){r.ripple.start(e)}))),o&&o(e),e.target!==e.currentTarget||!n||"button"===n||" "!==e.key&&"Enter"!==e.key||"A"===r.button.tagName&&r.button.href||(e.preventDefault(),a&&a(e))},r.handleKeyUp=function(e){r.props.focusRipple&&" "===e.key&&r.ripple&&r.state.focusVisible&&(r.keyDown=!1,e.persist(),r.ripple.stop(e,(function(){r.ripple.pulsate(e)}))),r.props.onKeyUp&&r.props.onKeyUp(e)},r.handleFocus=function(e){r.props.disabled||(r.button||(r.button=e.currentTarget),e.persist(),(0,v.detectFocusVisible)((0,d.default)((0,d.default)(r)),r.button,(function(){r.onFocusVisibleHandler(e)})),r.props.onFocus&&r.props.onFocus(e))},r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.button=f.default.findDOMNode(this),(0,v.listenForFocusKeys)((0,g.default)(this.button)),this.props.action&&this.props.action({focusVisible:function(){e.setState({focusVisible:!0}),e.button.focus()}})}},{key:"componentDidUpdate",value:function(e,t){this.props.focusRipple&&!this.props.disableRipple&&!t.focusVisible&&this.state.focusVisible&&this.ripple.pulsate()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.focusVisibleTimeout)}},{key:"render",value:function(){var e,t=this.props,r=(t.action,t.buttonRef),n=t.centerRipple,s=t.children,l=t.classes,c=t.className,u=t.component,h=t.disabled,d=t.disableRipple,f=(t.disableTouchRipple,t.focusRipple,t.focusVisibleClassName),g=(t.onBlur,t.onFocus,t.onFocusVisible,t.onKeyDown,t.onKeyUp,t.onMouseDown,t.onMouseLeave,t.onMouseUp,t.onTouchEnd,t.onTouchMove,t.onTouchStart,t.tabIndex),_=t.TouchRippleProps,v=t.type,b=(0,a.default)(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"]),w=(0,m.default)(l.root,(e={},(0,o.default)(e,l.disabled,h),(0,o.default)(e,l.focusVisible,this.state.focusVisible),(0,o.default)(e,f,this.state.focusVisible),e),c),T=u;"button"===T&&b.href&&(T="a");var E={};return"button"===T?(E.type=v||"button",E.disabled=h):E.role="button",p.default.createElement(T,(0,i.default)({className:w,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onContextMenu:this.handleContextMenu,ref:r,tabIndex:h?"-1":g},E,b),s,d||h?null:p.default.createElement(y.default,null,p.default.createElement(x.default,(0,i.default)({innerRef:this.onRippleRef,center:n},_))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0===t.focusVisible||!t.prevState&&e.disabled&&t.focusVisible?{focusVisible:!1,lastDisabled:e.disabled}:{lastDisabled:e.disabled}}}]),t}(p.default.Component);T.defaultProps={centerRipple:!1,component:"button",disableRipple:!1,disableTouchRipple:!1,focusRipple:!1,tabIndex:"0",type:"button"};var E=(0,_.default)(w,{name:"MuiButtonBase"})(T);t.default=E},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(58));var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=(0,i.default)(e);return r.defaultView||r.parentView||t};t.default=o},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(157))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(10)),o=n(r(11)),a=n(r(12)),s=n(r(13)),l=n(r(14)),c=n(r(1)),u=(n(r(3)),r(7),function(e){function t(){var e,r;(0,i.default)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(r=(0,a.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(o)))).mounted=!1,r.state={mounted:!1},r}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.props.defer?requestAnimationFrame((function(){requestAnimationFrame((function(){e.mounted&&e.setState({mounted:!0})}))})):this.setState({mounted:!0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.fallback;return this.state.mounted?t:r}}]),t}(c.default.Component));u.defaultProps={defer:!1,fallback:null};var h=u;t.default=h},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.detectFocusVisible=function e(t,r,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.focusVisibleTimeout=setTimeout((function(){var l=a((0,i.default)(r));o.focusKeyPressed&&(l===r||r.contains(l))?n():s<t.focusVisibleMaxCheckTimes&&e(t,r,n,s+1)}),t.focusVisibleCheckTime)},t.listenForFocusKeys=function(e){e.addEventListener("keyup",l)};n(r(6));var i=n(r(58)),o={focusKeyPressed:!1,keyUpEventTimeout:-1};function a(e){for(var t=e.activeElement;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}var s=[9,13,27,32,37,38,39,40];var l=function(e){(function(e){return s.indexOf(e.keyCode)>-1})(e)&&(o.focusKeyPressed=!0,clearTimeout(o.keyUpEventTimeout),o.keyUpEventTimeout=setTimeout((function(){o.focusKeyPressed=!1}),500))}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=t.DELAY_RIPPLE=void 0;var i=n(r(2)),o=n(r(4)),a=n(r(160)),s=n(r(10)),l=n(r(11)),c=n(r(12)),u=n(r(13)),h=n(r(14)),d=n(r(33)),p=n(r(1)),f=(n(r(3)),n(r(19))),m=n(r(165)),g=n(r(8)),_=n(r(9)),y=n(r(167));t.DELAY_RIPPLE=80;var v=function(e){return{root:{display:"block",position:"absolute",overflow:"hidden",borderRadius:"inherit",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none",zIndex:0},ripple:{width:50,height:50,left:0,top:0,opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"mui-ripple-enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-enter"},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"mui-ripple-exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-exit"},childPulsate:{position:"absolute",left:0,top:0,animation:"mui-ripple-pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite"),animationName:"$mui-ripple-pulsate"},"@keyframes mui-ripple-enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes mui-ripple-exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes mui-ripple-pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}};t.styles=v;var x=function(e){function t(){var e,r;(0,s.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=(0,c.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(i)))).state={nextKey:0,ripples:[]},r.pulsate=function(){r.start({},{pulsate:!0})},r.start=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=t.pulsate,o=void 0!==i&&i,a=t.center,s=void 0===a?r.props.center||t.pulsate:a,l=t.fakeElement,c=void 0!==l&&l;if("mousedown"===e.type&&r.ignoringMouseDown)r.ignoringMouseDown=!1;else{"touchstart"===e.type&&(r.ignoringMouseDown=!0);var u,h,p,m=c?null:f.default.findDOMNode((0,d.default)((0,d.default)(r))),g=m?m.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(g.width/2),h=Math.round(g.height/2);else{var _=e.clientX?e.clientX:e.touches[0].clientX,y=e.clientY?e.clientY:e.touches[0].clientY;u=Math.round(_-g.left),h=Math.round(y-g.top)}if(s)(p=Math.sqrt((2*Math.pow(g.width,2)+Math.pow(g.height,2))/3))%2==0&&(p+=1);else{var v=2*Math.max(Math.abs((m?m.clientWidth:0)-u),u)+2,x=2*Math.max(Math.abs((m?m.clientHeight:0)-h),h)+2;p=Math.sqrt(Math.pow(v,2)+Math.pow(x,2))}e.touches?(r.startTimerCommit=function(){r.startCommit({pulsate:o,rippleX:u,rippleY:h,rippleSize:p,cb:n})},r.startTimer=setTimeout((function(){r.startTimerCommit&&(r.startTimerCommit(),r.startTimerCommit=null)}),80)):r.startCommit({pulsate:o,rippleX:u,rippleY:h,rippleSize:p,cb:n})}},r.startCommit=function(e){var t=e.pulsate,n=e.rippleX,i=e.rippleY,o=e.rippleSize,s=e.cb;r.setState((function(e){return{nextKey:e.nextKey+1,ripples:[].concat((0,a.default)(e.ripples),[p.default.createElement(y.default,{key:e.nextKey,classes:r.props.classes,timeout:{exit:550,enter:550},pulsate:t,rippleX:n,rippleY:i,rippleSize:o})])}}),s)},r.stop=function(e,t){clearTimeout(r.startTimer);var n=r.state.ripples;if("touchend"===e.type&&r.startTimerCommit)return e.persist(),r.startTimerCommit(),r.startTimerCommit=null,void(r.startTimer=setTimeout((function(){r.stop(e,t)})));r.startTimerCommit=null,n&&n.length&&r.setState({ripples:n.slice(1)},t)},r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.startTimer)}},{key:"render",value:function(){var e=this.props,t=(e.center,e.classes),r=e.className,n=(0,o.default)(e,["center","classes","className"]);return p.default.createElement(m.default,(0,i.default)({component:"span",enter:!0,exit:!0,className:(0,g.default)(t.root,r)},n),this.state.ripples)}}]),t}(p.default.PureComponent);x.defaultProps={center:!1};var b=(0,_.default)(v,{flip:!1,name:"MuiTouchRipple"})(x);t.default=b},function(e,t,r){var n=r(161),i=r(162),o=r(163),a=r(164);e.exports=function(e){return n(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(59);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(59);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=s(r(3)),i=s(r(1)),o=r(60),a=r(166);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},h=function(e){function t(t,r){var n,i=(n=e.call(this,t,r)||this).handleExited.bind(c(c(n)));return n.state={handleExited:i,firstRender:!0},n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},r.componentDidMount=function(){this.appeared=!0,this.mounted=!0},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r=t.children,n=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,n):(0,a.getNextChildMapping)(e,r,n),firstRender:!1}},r.handleExited=function(e,t){var r=(0,a.getChildMapping)(this.props.children);e.key in r||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var r=l({},t.children);return delete r[e.key],{children:r}})))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,n=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,["component","childFactory"]),o=u(this.state.children).map(r);return delete n.appear,delete n.enter,delete n.exit,null===t?o:i.default.createElement(t,n,o)},t}(i.default.Component);h.childContextTypes={transitionGroup:n.default.object.isRequired},h.propTypes={},h.defaultProps={component:"div",childFactory:function(e){return e}};var d=(0,o.polyfill)(h);t.default=d,e.exports=t.default},function(e,t,r){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(r){return(0,n.cloneElement)(r,{onExited:t.bind(null,r),in:!0,appear:a(r,"appear",e),enter:a(r,"enter",e),exit:a(r,"exit",e)})}))},t.getNextChildMapping=function(e,t,r){var s=i(e.children),l=o(t,s);return Object.keys(l).forEach((function(i){var o=l[i];if((0,n.isValidElement)(o)){var c=i in t,u=i in s,h=t[i],d=(0,n.isValidElement)(h)&&!h.props.in;!u||c&&!d?u||!c||d?u&&c&&(0,n.isValidElement)(h)&&(l[i]=(0,n.cloneElement)(o,{onExited:r.bind(null,o),in:h.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):l[i]=(0,n.cloneElement)(o,{in:!1}):l[i]=(0,n.cloneElement)(o,{onExited:r.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}})),l};var n=r(1);function i(e,t){var r=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),r}function o(e,t){function r(r){return r in t?t[r]:e[r]}e=e||{},t=t||{};var n,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(n=0;n<i[l].length;n++){var c=i[l][n];s[i[l][n]]=r(c)}s[l]=r(l)}for(n=0;n<o.length;n++)s[o[n]]=r(o[n]);return s}function a(e,t,r){return null!=r[t]?r[t]:e.props[t]}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(10)),l=n(r(11)),c=n(r(12)),u=n(r(13)),h=n(r(14)),d=n(r(1)),p=(n(r(3)),n(r(8))),f=n(r(168)),m=function(e){function t(){var e,r;(0,s.default)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(r=(0,c.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(i)))).state={visible:!1,leaving:!1},r.handleEnter=function(){r.setState({visible:!0})},r.handleExit=function(){r.setState({leaving:!0})},r}return(0,h.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t,r=this.props,n=r.classes,s=r.className,l=r.pulsate,c=r.rippleX,u=r.rippleY,h=r.rippleSize,m=(0,a.default)(r,["classes","className","pulsate","rippleX","rippleY","rippleSize"]),g=this.state,_=g.visible,y=g.leaving,v=(0,p.default)(n.ripple,(e={},(0,o.default)(e,n.rippleVisible,_),(0,o.default)(e,n.ripplePulsate,l),e),s),x={width:h,height:h,top:-h/2+u,left:-h/2+c},b=(0,p.default)(n.child,(t={},(0,o.default)(t,n.childLeaving,y),(0,o.default)(t,n.childPulsate,l),t));return d.default.createElement(f.default,(0,i.default)({onEnter:this.handleEnter,onExit:this.handleExit},m),d.default.createElement("span",{className:v,style:x},d.default.createElement("span",{className:b})))}}]),t}(d.default.Component);m.defaultProps={pulsate:!1};var g=m;t.default=g},function(e,t,r){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}(r(3)),i=s(r(1)),o=s(r(19)),a=r(60);r(169);function s(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var l=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var i,o=r.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?a?(i="exited",n.appearStatus="entering"):i="entered":i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",n.state={status:i},n.nextCallback=null,n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var r=t.prototype;return r.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null},r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?"entering"!==r&&"entered"!==r&&(t="entering"):"entering"!==r&&"entered"!==r||(t="exiting")}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var r=o.default.findDOMNode(this);"entering"===t?this.performEnter(r,e):this.performExit(r)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},r.performEnter=function(e,t){var r=this,n=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||n?(this.props.onEnter(e,i),this.safeSetState({status:"entering"},(function(){r.props.onEntering(e,i),r.onTransitionEnd(e,a,(function(){r.safeSetState({status:"entered"},(function(){r.props.onEntered(e,i)}))}))}))):this.safeSetState({status:"entered"},(function(){r.props.onEntered(e)}))},r.performExit=function(e){var t=this,r=this.props.exit,n=this.getTimeouts();r?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,n.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t,r){this.setNextCallback(r);var n=null==t&&!this.props.addEndListener;e&&!n?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,r=t.children,n=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(t,["children"]);if(delete n.in,delete n.mountOnEnter,delete n.unmountOnExit,delete n.appear,delete n.enter,delete n.exit,delete n.timeout,delete n.addEndListener,delete n.onEnter,delete n.onEntering,delete n.onEntered,delete n.onExit,delete n.onExiting,delete n.onExited,"function"==typeof r)return r(e,n);var o=i.default.Children.only(r);return i.default.cloneElement(o,n)},t}(i.default.Component);function c(){}l.contextTypes={transitionGroup:n.object},l.childContextTypes={transitionGroup:function(){}},l.propTypes={},l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:c,onEntering:c,onEntered:c,onExit:c,onExiting:c,onExited:c},l.UNMOUNTED=0,l.EXITED=1,l.ENTERING=2,l.ENTERED=3,l.EXITING=4;var u=(0,a.polyfill)(l);t.default=u},function(e,t,r){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;!function(e){e&&e.__esModule}(r(3));t.timeoutsShape=null;t.classNamesShape=null},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t,r,n){return function(i){n&&n.call(e,i);var o=!1;return i.defaultPrevented&&(o=!0),e.props.disableTouchRipple&&"Blur"!==t&&(o=!0),!o&&e.ripple&&e.ripple[r](i),"function"==typeof e.props["on".concat(t)]&&e.props["on".concat(t)](i),!0}};"undefined"==typeof window&&(n=function(){return function(){}});var i=n;t.default=i},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(1)),o=n(r(61)),a=n(r(64)),s=i.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),l=function(e){return i.default.createElement(a.default,e,s)};(l=(0,o.default)(l)).muiName="SvgIcon";var c=l;t.default=c},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var i=n(r(173)),o=r(1),a=(n(r(62)),n(r(63)),function(e){return function(t){var r=(0,o.createFactory)(t);return function(t){function n(){return t.apply(this,arguments)||this}(0,i.default)(n,t);var o=n.prototype;return o.shouldComponentUpdate=function(t){return e(this.props,t)},o.render=function(){return r(this.props)},n}(o.Component)}});t.default=a},function(e,t,r){var n=r(56);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e,t){return function(r){return r[e]=t,r}};t.default=n},function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":void 0};t.default=n},function(e,t,r){"use strict";var n=r(0);t.__esModule=!0,t.default=void 0;var i=n(r(177)).default;t.default=i},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function i(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(i(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!n.call(t,r[a])||!i(e[r[a]],t[r[a]]))return!1;return!0}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=(r(7),n(r(9))),u=r(16),h=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:24,transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:20},fontSizeLarge:{fontSize:35}}};function d(e){var t,r=e.children,n=e.classes,c=e.className,h=e.color,d=e.component,p=e.fontSize,f=e.nativeColor,m=e.titleAccess,g=e.viewBox,_=(0,a.default)(e,["children","classes","className","color","component","fontSize","nativeColor","titleAccess","viewBox"]);return s.default.createElement(d,(0,i.default)({className:(0,l.default)(n.root,(t={},(0,o.default)(t,n["color".concat((0,u.capitalize)(h))],"inherit"!==h),(0,o.default)(t,n["fontSize".concat((0,u.capitalize)(p))],"default"!==p),t),c),focusable:"false",viewBox:g,color:f,"aria-hidden":m?"false":"true",role:m?"img":"presentation"},_),r,m?s.default.createElement("title",null,m):null)}t.styles=h,d.defaultProps={color:"inherit",component:"svg",fontSize:"default",viewBox:"0 0 24 24"},d.muiName="SvgIcon";var p=(0,c.default)(h,{name:"MuiSvgIcon"})(d);t.default=p},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(1)),o=n(r(61)),a=n(r(64)),s=i.default.createElement("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),l=function(e){return i.default.createElement(a.default,e,s)};(l=(0,o.default)(l)).muiName="SvgIcon";var c=l;t.default=c},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(181))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(r(2)),o=n(r(4)),a=n(r(10)),s=n(r(11)),l=n(r(12)),c=n(r(13)),u=n(r(14)),h=n(r(1)),d=(n(r(3)),n(r(6)),n(r(182))),p=r(16),f=function(e){function t(e){var r;return(0,a.default)(this,t),(r=(0,l.default)(this,(0,c.default)(t).call(this))).radios=[],r.focus=function(){if(r.radios&&r.radios.length){var e=r.radios.filter((function(e){return!e.disabled}));if(e.length){var t=(0,p.find)(e,(function(e){return e.checked}));t?t.focus():e[0].focus()}}},r.handleChange=function(e){r.isControlled||r.setState({value:e.target.value}),r.props.onChange&&r.props.onChange(e,e.target.value)},r.isControlled=null!=e.value,r.isControlled||(r.state={value:e.defaultValue}),r}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.children,n=t.name,a=t.value,s=(t.onChange,(0,o.default)(t,["children","name","value","onChange"])),l=this.isControlled?a:this.state.value;return this.radios=[],h.default.createElement(d.default,(0,i.default)({role:"radiogroup"},s),h.default.Children.map(r,(function(t){return h.default.isValidElement(t)?h.default.cloneElement(t,{name:n,inputRef:function(t){t&&e.radios.push(t)},checked:l===t.props.value,onChange:(0,p.createChainedFunction)(t.props.onChange,e.handleChange)}):null})))}}]),t}(h.default.Component);t.default=f},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(183))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=n(r(9)),u={root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}};function h(e){var t=e.classes,r=e.className,n=e.children,c=e.row,u=(0,a.default)(e,["classes","className","children","row"]);return s.default.createElement("div",(0,i.default)({className:(0,l.default)(t.root,(0,o.default)({},t.row,c),r)},u),n)}t.styles=u,h.defaultProps={row:!1};var d=(0,c.default)(u,{name:"MuiFormGroup"})(h);t.default=d},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(185))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=n(r(37)),u=n(r(9)),h=n(r(26)),d=r(16),p=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-14,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-14},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}};function f(e){e.checked;var t,r=e.classes,n=e.className,c=e.control,u=e.disabled,p=(e.inputRef,e.label),f=e.labelPlacement,m=e.muiFormControl,g=(e.name,e.onChange,e.value,(0,a.default)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","muiFormControl","name","onChange","value"])),_=u;void 0===_&&void 0!==c.props.disabled&&(_=c.props.disabled),void 0===_&&m&&(_=m.disabled);var y={disabled:_};return["checked","name","onChange","value","inputRef"].forEach((function(t){void 0===c.props[t]&&void 0!==e[t]&&(y[t]=e[t])})),s.default.createElement("label",(0,i.default)({className:(0,l.default)(r.root,(t={},(0,o.default)(t,r["labelPlacement".concat((0,d.capitalize)(f))],"end"!==f),(0,o.default)(t,r.disabled,_),t),n)},g),s.default.cloneElement(c,y),s.default.createElement(h.default,{component:"span",className:(0,l.default)(r.label,(0,o.default)({},r.disabled,_))},p))}t.styles=p,f.defaultProps={labelPlacement:"end"};var m=(0,u.default)(p,{name:"MuiFormControlLabel"})((0,c.default)(f));t.default=m},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(187))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(10)),l=n(r(12)),c=n(r(13)),u=n(r(11)),h=n(r(14)),d=n(r(1)),p=(n(r(3)),n(r(8))),f=(r(7),r(188)),m=n(r(9)),g=r(16),_=r(189),y=n(r(57)),v={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}};t.styles=v;var x=function(e){function t(e){var r;(0,s.default)(this,t),(r=(0,l.default)(this,(0,c.default)(t).call(this))).handleFocus=function(){r.setState((function(e){return e.focused?null:{focused:!0}}))},r.handleBlur=function(){r.setState((function(e){return e.focused?{focused:!1}:null}))},r.handleDirty=function(){r.state.filled||r.setState({filled:!0})},r.handleClean=function(){r.state.filled&&r.setState({filled:!1})},r.state={adornedStart:!1,filled:!1,focused:!1};var n=e.children;return n&&d.default.Children.forEach(n,(function(e){if((0,_.isMuiElement)(e,["Input","Select"])){(0,f.isFilled)(e.props,!0)&&(r.state.filled=!0);var t=(0,_.isMuiElement)(e,["Select"])?e.props.input:e;t&&(0,f.isAdornedStart)(t.props)&&(r.state.adornedStart=!0)}})),r}return(0,h.default)(t,e),(0,u.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.disabled&&t.focused?{focused:!1}:null}}]),(0,u.default)(t,[{key:"render",value:function(){var e,t=this.props,r=t.classes,n=t.className,s=t.component,l=t.disabled,c=t.error,u=t.fullWidth,h=t.margin,f=t.required,m=t.variant,_=(0,a.default)(t,["classes","className","component","disabled","error","fullWidth","margin","required","variant"]),v=this.state,x={adornedStart:v.adornedStart,disabled:l,error:c,filled:v.filled,focused:v.focused,margin:h,onBlur:this.handleBlur,onEmpty:this.handleClean,onFilled:this.handleDirty,onFocus:this.handleFocus,required:f,variant:m};return d.default.createElement(y.default.Provider,{value:x},d.default.createElement(s,(0,i.default)({className:(0,p.default)(r.root,(e={},(0,o.default)(e,r["margin".concat((0,g.capitalize)(h))],"none"!==h),(0,o.default)(e,r.fullWidth,u),e),n)},_)))}}]),t}(d.default.Component);x.defaultProps={component:"div",disabled:!1,error:!1,fullWidth:!1,margin:"none",required:!1,variant:"standard"};var b=(0,m.default)(v,{name:"MuiFormControl"})(x);t.default=b},function(e,t,r){"use strict";function n(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasValue=n,t.isFilled=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(n(e.value)&&""!==e.value||t&&n(e.defaultValue)&&""!==e.defaultValue)},t.isAdornedStart=function(e){return e.startAdornment}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.cloneElementWithClassName=a,t.cloneChildrenWithClassName=function(e,t){return i.default.Children.map(e,(function(e){return i.default.isValidElement(e)&&a(e,t)}))},t.isMuiElement=function(e,t){return i.default.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)},t.setRef=function(e,t){"function"==typeof e?e(t):e&&(e.current=t)};var i=n(r(1)),o=n(r(8));function a(e,t){return i.default.cloneElement(e,{className:(0,o.default)(e.props.className,t)})}},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var i=n(r(191))},function(e,t,r){"use strict";var n=r(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=n(r(2)),o=n(r(5)),a=n(r(4)),s=n(r(1)),l=(n(r(3)),n(r(8))),c=(r(7),n(r(192))),u=n(r(37)),h=n(r(9)),d=function(e){return{root:{fontFamily:e.typography.fontFamily,color:e.palette.text.secondary,fontSize:e.typography.pxToRem(16),lineHeight:1,padding:0,"&$focused":{color:e.palette.primary["light"===e.palette.type?"dark":"light"]},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}};function p(e){var t,r=e.children,n=e.classes,u=e.className,h=e.component,d=(e.disabled,e.error,e.filled,e.focused,e.muiFormControl),p=(e.required,(0,a.default)(e,["children","classes","className","component","disabled","error","filled","focused","muiFormControl","required"])),f=(0,c.default)({props:e,muiFormControl:d,states:["required","focused","disabled","error","filled"]});return s.default.createElement(h,(0,i.default)({className:(0,l.default)(n.root,(t={},(0,o.default)(t,n.disabled,f.disabled),(0,o.default)(t,n.error,f.error),(0,o.default)(t,n.filled,f.filled),(0,o.default)(t,n.focused,f.focused),(0,o.default)(t,n.required,f.required),t),u)},p),r,f.required&&s.default.createElement("span",{className:(0,l.default)(n.asterisk,(0,o.default)({},n.error,f.error))},"â€‰*"))}t.styles=d,p.defaultProps={component:"label"};var f=(0,h.default)(d,{name:"MuiFormLabel"})((0,u.default)(p));t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.props,r=e.states,n=e.muiFormControl;return r.reduce((function(e,r){return e[r]=t[r],n&&void 0===t[r]&&(e[r]=n[r]),e}),{})}},function(e,t,r){var n=r(194);"string"==typeof n&&(n=[[e.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(66)(n,i);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(65)(!1)).push([e.i,".mapboxgl-map{-webkit-tap-highlight-color:rgb(0 0 0/0);font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative}.mapboxgl-canvas{left:0;position:absolute;top:0}.mapboxgl-map:-webkit-full-screen{height:100%;width:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-webkit-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.mapboxgl-ctrl-top-left{left:0;top:0}.mapboxgl-ctrl-top-right{right:0;top:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{bottom:0;right:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{float:left;margin:10px 0 0 10px}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{float:right;margin:10px 10px 0 0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{float:left;margin:0 0 10px 10px}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{float:right;margin:0 10px 10px 0}.mapboxgl-ctrl-group{background:#fff;border-radius:4px}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;overflow:hidden;padding:0;width:29px}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl-group button:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:only-child{border-radius:inherit}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='%23f00'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='%23f00'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='%23f00'/%3E%3C/svg%3E\")}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='clip'%3E%3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/mask%3E%3Cg id='outline' opacity='0.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E%3C/g%3E%3Cg id='fill' opacity='0.9' fill='%23fff'%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/g%3E%3C/svg%3E\");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='clip'%3E%3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/mask%3E%3Cg id='outline' opacity='1' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E%3C/g%3E%3Cg id='fill' opacity='1' fill='%23fff'%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='clip'%3E%3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/mask%3E%3Cg id='outline' opacity='1' stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E%3C/g%3E%3Cg id='fill' opacity='1' fill='%23000'%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/g%3E%3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{background-color:#fff;border-radius:12px;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{right:0;top:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{left:0;top:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px;white-space:nowrap}.mapboxgl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.mapboxgl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.mapboxgl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.mapboxgl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto;position:relative}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{left:0;opacity:1;position:absolute;top:0;transition:opacity .2s;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.mapboxgl-user-location-dot:before{animation:mapboxgl-user-location-dot-pulse 2s infinite;content:\"\";position:absolute}.mapboxgl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading{height:0;width:0}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after,.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-bottom:7.5px solid #4aa1eb;content:\"\";position:absolute}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-left:7.5px solid transparent;transform:translateY(-28px) skewY(-20deg)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after{border-right:7.5px solid transparent;transform:translate(7.5px,-28px) skewY(20deg)}@keyframes mapboxgl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}@media print{.mapbox-improve-map{display:none}}.mapboxgl-scroll-zoom-blocker,.mapboxgl-touch-pan-blocker{align-items:center;background:rgba(0,0,0,.7);color:#fff;display:flex;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;height:100%;justify-content:center;left:0;opacity:0;pointer-events:none;position:absolute;text-align:center;top:0;transition:opacity .75s ease-in-out;transition-delay:1s;width:100%}.mapboxgl-scroll-zoom-blocker-show,.mapboxgl-touch-pan-blocker-show{opacity:1;transition:opacity .1s ease-in-out}.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page,.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page .mapboxgl-canvas{touch-action:pan-x pan-y}",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}}]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLTFhYTdkZmU5MmQzMjE4NDRmYWZiLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3ZlbmRvci0xYWE3ZGZlOTJkMzIxODQ0ZmFmYi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIod2luZG93LndlYnBhY2tKc29ucD13aW5kb3cud2VicGFja0pzb25wfHxbXSkucHVzaChbW1widmVuZG9yXCJdLFtmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1yKDY5KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKCl7cmV0dXJuIGUuZXhwb3J0cz1yPU9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbi5iaW5kKCk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfWUuZXhwb3J0cz1yLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDEyNSkoKX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNzQpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIHIsaSxvPW4oZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihpPTA7aTxhLmxlbmd0aDtpKyspcj1hW2ldLHQuaW5kZXhPZihyKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUscikmJihvW3JdPWVbcl0pfXJldHVybiBvfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDQwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybih0PW4odCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPWZ1bmN0aW9uKCl7fTtlLmV4cG9ydHM9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3Iucih0KTt2YXIgbj1yKDQzKSxpPXIubihuKTtyLmQodCxcImNvbXBvbmVudFByb3BUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGkuYX0pKTt2YXIgbz1yKDQ1KSxhPXIubihvKTtyLmQodCxcImNoYWluUHJvcFR5cGVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYX0pKTt2YXIgcz1yKDQ2KSxsPXIubihzKTtyLmQodCxcImV4YWN0UHJvcFwiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSk7dmFyIGM9cig0NyksdT1yLm4oYyk7ci5kKHQsXCJnZXREaXNwbGF5TmFtZVwiLChmdW5jdGlvbigpe3JldHVybiB1LmF9KSk7dmFyIGg9cig0OCksZD1yLm4oaCk7ci5kKHQsXCJwb255ZmlsbEdsb2JhbFwiLChmdW5jdGlvbigpe3JldHVybiBkLmF9KSl9LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbjshZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgcj17fS5oYXNPd25Qcm9wZXJ0eTtmdW5jdGlvbiBpKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07aWYobil7dmFyIG89dHlwZW9mIG47aWYoXCJzdHJpbmdcIj09PW98fFwibnVtYmVyXCI9PT1vKWUucHVzaChuKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkobikpe2lmKG4ubGVuZ3RoKXt2YXIgYT1pLmFwcGx5KG51bGwsbik7YSYmZS5wdXNoKGEpfX1lbHNlIGlmKFwib2JqZWN0XCI9PT1vKXtpZihuLnRvU3RyaW5nIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyYmIW4udG9TdHJpbmcudG9TdHJpbmcoKS5pbmNsdWRlcyhcIltuYXRpdmUgY29kZV1cIikpe2UucHVzaChuLnRvU3RyaW5nKCkpO2NvbnRpbnVlfWZvcih2YXIgcyBpbiBuKXIuY2FsbChuLHMpJiZuW3NdJiZlLnB1c2gocyl9fX1yZXR1cm4gZS5qb2luKFwiIFwiKX1lLmV4cG9ydHM/KGkuZGVmYXVsdD1pLGUuZXhwb3J0cz1pKTp2b2lkIDA9PT0obj1mdW5jdGlvbigpe3JldHVybiBpfS5hcHBseSh0LFtdKSl8fChlLmV4cG9ydHM9bil9KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnNoZWV0c01hbmFnZXI9dm9pZCAwO3ZhciBpPW4ocig1KSksbz1uKHIoMikpLGE9bihyKDEwKSkscz1uKHIoMTEpKSxsPW4ocigxMikpLGM9bihyKDEzKSksdT1uKHIoMTQpKSxoPW4ocig0KSksZD1uKHIoMSkpLHA9bihyKDMpKSxmPShuKHIoNikpLG4ocigzNSkpKSxtPXIoNyksZz1yKDUwKSxfPW4ocigxMjkpKSx5PW4ocig0OSkpLHY9bihyKDEzMCkpLHg9bihyKDEzMSkpLGI9bihyKDI4KSksdz1uKHIoMzQpKSxUPW4ocigzOSkpLEU9bihyKDEzMikpLFM9bihyKDEzMykpLEM9KDAsZy5jcmVhdGUpKCgwLHkuZGVmYXVsdCkoKSksTT0oMCxULmRlZmF1bHQpKCksaz0tMWUxMSxBPW5ldyBNYXA7dC5zaGVldHNNYW5hZ2VyPUE7dmFyIEk9e30sUD0oMCxiLmRlZmF1bHQpKHt0eXBvZ3JhcGh5OntzdXBwcmVzc1dhcm5pbmc6ITB9fSk7bS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfX3x8KG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX189e30pLG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFN0eWxlc3x8KG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFN0eWxlcz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBuLG09dC53aXRoVGhlbWUsZz12b2lkIDAhPT1tJiZtLHk9dC5mbGlwLGI9dm9pZCAwPT09eT9udWxsOnksVD10Lm5hbWUsej0oMCxoLmRlZmF1bHQpKHQsW1wid2l0aFRoZW1lXCIsXCJmbGlwXCIsXCJuYW1lXCJdKSxEPSgwLEUuZGVmYXVsdCkoZSksUj1ELnRoZW1pbmdFbmFibGVkfHxcInN0cmluZ1wiPT10eXBlb2YgVHx8ZztrKz0xLEQub3B0aW9ucy5pbmRleD1rO3ZhciBMPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyKXt2YXIgbjsoMCxhLmRlZmF1bHQpKHRoaXMsdCksKG49KDAsbC5kZWZhdWx0KSh0aGlzLCgwLGMuZGVmYXVsdCkodCkuY2FsbCh0aGlzLGUscikpKS5qc3M9cltfLmRlZmF1bHQuanNzXXx8QyxuLnNoZWV0c01hbmFnZXI9QSxuLnVuc3Vic2NyaWJlSWQ9bnVsbDt2YXIgaT1yLm11aVRoZW1lUHJvdmlkZXJPcHRpb25zO3JldHVybiBpJiYoaS5zaGVldHNNYW5hZ2VyJiYobi5zaGVldHNNYW5hZ2VyPWkuc2hlZXRzTWFuYWdlciksbi5zaGVldHNDYWNoZT1pLnNoZWV0c0NhY2hlLG4uZGlzYWJsZVN0eWxlc0dlbmVyYXRpb249aS5kaXNhYmxlU3R5bGVzR2VuZXJhdGlvbiksbi5zdHlsZXNDcmVhdG9yU2F2ZWQ9RCxuLnNoZWV0T3B0aW9ucz0oMCxvLmRlZmF1bHQpKHtnZW5lcmF0ZUNsYXNzTmFtZTpNfSxyW18uZGVmYXVsdC5zaGVldE9wdGlvbnNdKSxuLnRoZW1lPVI/dy5kZWZhdWx0LmluaXRpYWwocil8fFA6SSxuLmF0dGFjaChuLnRoZW1lKSxuLmNhY2hlQ2xhc3Nlcz17dmFsdWU6bnVsbCxsYXN0UHJvcDpudWxsLGxhc3RKU1M6e319LG59cmV0dXJuKDAsdS5kZWZhdWx0KSh0LGUpLCgwLHMuZGVmYXVsdCkodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO1ImJih0aGlzLnVuc3Vic2NyaWJlSWQ9dy5kZWZhdWx0LnN1YnNjcmliZSh0aGlzLmNvbnRleHQsKGZ1bmN0aW9uKHQpe3ZhciByPWUudGhlbWU7ZS50aGVtZT10LGUuYXR0YWNoKGUudGhlbWUpLGUuc2V0U3RhdGUoe30sKGZ1bmN0aW9uKCl7ZS5kZXRhY2gocil9KSl9KSkpfX0se2tleTpcImNvbXBvbmVudERpZFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWR9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGV0YWNoKHRoaXMudGhlbWUpLG51bGwhPT10aGlzLnVuc3Vic2NyaWJlSWQmJncuZGVmYXVsdC51bnN1YnNjcmliZSh0aGlzLmNvbnRleHQsdGhpcy51bnN1YnNjcmliZUlkKX19LHtrZXk6XCJnZXRDbGFzc2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmRpc2FibGVTdHlsZXNHZW5lcmF0aW9uKXJldHVybiB0aGlzLnByb3BzLmNsYXNzZXN8fHt9O3ZhciBlPSExLHQ9eC5kZWZhdWx0LmdldCh0aGlzLnNoZWV0c01hbmFnZXIsdGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQsdGhpcy50aGVtZSk7cmV0dXJuIHQuc2hlZXQuY2xhc3NlcyE9PXRoaXMuY2FjaGVDbGFzc2VzLmxhc3RKU1MmJih0aGlzLmNhY2hlQ2xhc3Nlcy5sYXN0SlNTPXQuc2hlZXQuY2xhc3NlcyxlPSEwKSx0aGlzLnByb3BzLmNsYXNzZXMhPT10aGlzLmNhY2hlQ2xhc3Nlcy5sYXN0UHJvcCYmKHRoaXMuY2FjaGVDbGFzc2VzLmxhc3RQcm9wPXRoaXMucHJvcHMuY2xhc3NlcyxlPSEwKSxlJiYodGhpcy5jYWNoZUNsYXNzZXMudmFsdWU9KDAsdi5kZWZhdWx0KSh7YmFzZUNsYXNzZXM6dGhpcy5jYWNoZUNsYXNzZXMubGFzdEpTUyxuZXdDbGFzc2VzOnRoaXMucHJvcHMuY2xhc3NlcyxDb21wb25lbnQ6cn0pKSx0aGlzLmNhY2hlQ2xhc3Nlcy52YWx1ZX19LHtrZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5kaXNhYmxlU3R5bGVzR2VuZXJhdGlvbil7dmFyIHQ9dGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQscj14LmRlZmF1bHQuZ2V0KHRoaXMuc2hlZXRzTWFuYWdlcix0LGUpO2lmKHJ8fChyPXtyZWZzOjAsc2hlZXQ6bnVsbH0seC5kZWZhdWx0LnNldCh0aGlzLnNoZWV0c01hbmFnZXIsdCxlLHIpKSwwPT09ci5yZWZzKXt2YXIgbjt0aGlzLnNoZWV0c0NhY2hlJiYobj14LmRlZmF1bHQuZ2V0KHRoaXMuc2hlZXRzQ2FjaGUsdCxlKSksbnx8KChuPXRoaXMuY3JlYXRlU2hlZXQoZSkpLmF0dGFjaCgpLHRoaXMuc2hlZXRzQ2FjaGUmJnguZGVmYXVsdC5zZXQodGhpcy5zaGVldHNDYWNoZSx0LGUsbikpLHIuc2hlZXQ9bjt2YXIgaT10aGlzLmNvbnRleHRbXy5kZWZhdWx0LnNoZWV0c1JlZ2lzdHJ5XTtpJiZpLmFkZChuKX1yLnJlZnMrPTF9fX0se2tleTpcImNyZWF0ZVNoZWV0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQuY3JlYXRlKGUsVCksbj1UO3JldHVybiB0aGlzLmpzcy5jcmVhdGVTdHlsZVNoZWV0KHQsKDAsby5kZWZhdWx0KSh7bWV0YTpuLGNsYXNzTmFtZVByZWZpeDpuLGZsaXA6XCJib29sZWFuXCI9PXR5cGVvZiBiP2I6XCJydGxcIj09PWUuZGlyZWN0aW9uLGxpbms6ITF9LHRoaXMuc2hlZXRPcHRpb25zLHRoaXMuc3R5bGVzQ3JlYXRvclNhdmVkLm9wdGlvbnMse25hbWU6VHx8ci5kaXNwbGF5TmFtZX0seikpfX0se2tleTpcImRldGFjaFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmRpc2FibGVTdHlsZXNHZW5lcmF0aW9uKXt2YXIgdD14LmRlZmF1bHQuZ2V0KHRoaXMuc2hlZXRzTWFuYWdlcix0aGlzLnN0eWxlc0NyZWF0b3JTYXZlZCxlKTtpZih0LnJlZnMtPTEsMD09PXQucmVmcyl7eC5kZWZhdWx0LmRlbGV0ZSh0aGlzLnNoZWV0c01hbmFnZXIsdGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQsZSksdGhpcy5qc3MucmVtb3ZlU3R5bGVTaGVldCh0LnNoZWV0KTt2YXIgcj10aGlzLmNvbnRleHRbXy5kZWZhdWx0LnNoZWV0c1JlZ2lzdHJ5XTtyJiZyLnJlbW92ZSh0LnNoZWV0KX19fX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PShlLmNsYXNzZXMsZS5pbm5lclJlZiksbj0oMCxoLmRlZmF1bHQpKGUsW1wiY2xhc3Nlc1wiLFwiaW5uZXJSZWZcIl0pLGk9KDAsUy5kZWZhdWx0KSh7dGhlbWU6dGhpcy50aGVtZSxuYW1lOlQscHJvcHM6bn0pO3JldHVybiBnJiYhaS50aGVtZSYmKGkudGhlbWU9dGhpcy50aGVtZSksZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQociwoMCxvLmRlZmF1bHQpKHt9LGkse2NsYXNzZXM6dGhpcy5nZXRDbGFzc2VzKCkscmVmOnR9KSl9fV0pLHR9KGQuZGVmYXVsdC5Db21wb25lbnQpO3JldHVybiBMLmNvbnRleHRUeXBlcz0oMCxvLmRlZmF1bHQpKChuPXttdWlUaGVtZVByb3ZpZGVyT3B0aW9uczpwLmRlZmF1bHQub2JqZWN0fSwoMCxpLmRlZmF1bHQpKG4sXy5kZWZhdWx0LmpzcyxwLmRlZmF1bHQub2JqZWN0KSwoMCxpLmRlZmF1bHQpKG4sXy5kZWZhdWx0LnNoZWV0T3B0aW9ucyxwLmRlZmF1bHQub2JqZWN0KSwoMCxpLmRlZmF1bHQpKG4sXy5kZWZhdWx0LnNoZWV0c1JlZ2lzdHJ5LHAuZGVmYXVsdC5vYmplY3QpLG4pLFI/dy5kZWZhdWx0LmNvbnRleHRUeXBlczp7fSksKDAsZi5kZWZhdWx0KShMLHIpLEx9fSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFN0eWxlcyhlLCgwLG8uZGVmYXVsdCkoe2RlZmF1bHRUaGVtZTpQfSx0KSl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNDApO2Z1bmN0aW9uIGkoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbihpLmtleSksaSl9fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHQmJmkoZS5wcm90b3R5cGUsdCksciYmaShlLHIpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxNSkuZGVmYXVsdCxpPXIoMzMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKHQmJihcIm9iamVjdFwiPT09bih0KXx8XCJmdW5jdGlvblwiPT10eXBlb2YgdCkpcmV0dXJuIHQ7aWYodm9pZCAwIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIGkoZSl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKHQpe3JldHVybiBlLmV4cG9ydHM9cj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLHIodCl9ZS5leHBvcnRzPXIsZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1Nik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHQmJm4oZSx0KX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIHIodCl7cmV0dXJuIGUuZXhwb3J0cz1yPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0cyxyKHQpfWUuZXhwb3J0cz1yLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jYXBpdGFsaXplPWZ1bmN0aW9uKGUpezA7cmV0dXJuIGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKX0sdC5jb250YWlucz1vLHQuZmluZEluZGV4PWEsdC5maW5kPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YShlLHQpO3JldHVybiByPi0xP2Vbcl06dm9pZCAwfSx0LmNyZWF0ZUNoYWluZWRGdW5jdGlvbj1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKXRbcl09YXJndW1lbnRzW3JdO3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09dD9lOmZ1bmN0aW9uKCl7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkociksaT0wO2k8cjtpKyspbltpXT1hcmd1bWVudHNbaV07ZS5hcHBseSh0aGlzLG4pLHQuYXBwbHkodGhpcyxuKX19KSwoZnVuY3Rpb24oKXt9KSl9O3ZhciBpPW4ocigxNSkpO24ocig2KSk7ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBPYmplY3Qua2V5cyh0KS5ldmVyeSgoZnVuY3Rpb24ocil7cmV0dXJuIGUuaGFzT3duUHJvcGVydHkocikmJmVbcl09PT10W3JdfSkpfWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIHI9KDAsaS5kZWZhdWx0KSh0KSxuPTA7bjxlLmxlbmd0aDtuKz0xKXtpZihcImZ1bmN0aW9uXCI9PT1yJiYhMD09ISF0KGVbbl0sbixlKSlyZXR1cm4gbjtpZihcIm9iamVjdFwiPT09ciYmbyhlW25dLHQpKXJldHVybiBuO2lmKC0xIT09W1wic3RyaW5nXCIsXCJudW1iZXJcIixcImJvb2xlYW5cIl0uaW5kZXhPZihyKSlyZXR1cm4gZS5pbmRleE9mKHQpfXJldHVybi0xfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbigpe319LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxhPWMocigxNykpLHM9YyhyKDI5KSksbD1jKHIoMjMpKTtmdW5jdGlvbiBjKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy50eXBlPVwic3R5bGVcIix0aGlzLmlzUHJvY2Vzc2VkPSExO3ZhciBpPW4uc2hlZXQsbz1uLlJlbmRlcmVyLGE9bi5zZWxlY3Rvcjt0aGlzLmtleT10LHRoaXMub3B0aW9ucz1uLHRoaXMuc3R5bGU9cixhJiYodGhpcy5zZWxlY3RvclRleHQ9YSksdGhpcy5yZW5kZXJlcj1pP2kucmVuZGVyZXI6bmV3IG99cmV0dXJuIG8oZSxbe2tleTpcInByb3BcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuc3R5bGVbZV07aWYodGhpcy5zdHlsZVtlXT09PXQpcmV0dXJuIHRoaXM7dmFyIHI9bnVsbD09KHQ9dGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zLm9uQ2hhbmdlVmFsdWUodCxlLHRoaXMpKXx8ITE9PT10LG49ZSBpbiB0aGlzLnN0eWxlO2lmKHImJiFuKXJldHVybiB0aGlzO3ZhciBpPXImJm47aWYoaT9kZWxldGUgdGhpcy5zdHlsZVtlXTp0aGlzLnN0eWxlW2VdPXQsdGhpcy5yZW5kZXJhYmxlKXJldHVybiBpP3RoaXMucmVuZGVyZXIucmVtb3ZlUHJvcGVydHkodGhpcy5yZW5kZXJhYmxlLGUpOnRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5yZW5kZXJhYmxlLGUsdCksdGhpczt2YXIgbz10aGlzLm9wdGlvbnMuc2hlZXQ7cmV0dXJuIG8mJm8uYXR0YWNoZWQmJigwLGEuZGVmYXVsdCkoITEsJ1J1bGUgaXMgbm90IGxpbmtlZC4gTWlzc2luZyBzaGVldCBvcHRpb24gXCJsaW5rOiB0cnVlXCIuJyksdGhpc319LHtrZXk6XCJhcHBseVRvXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50b0pTT04oKTtmb3IodmFyIHIgaW4gdCl0aGlzLnJlbmRlcmVyLnNldFByb3BlcnR5KGUscix0W3JdKTtyZXR1cm4gdGhpc319LHtrZXk6XCJ0b0pTT05cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXt9O2Zvcih2YXIgdCBpbiB0aGlzLnN0eWxlKXt2YXIgcj10aGlzLnN0eWxlW3RdO1wib2JqZWN0XCIhPT0odm9pZCAwPT09cj9cInVuZGVmaW5lZFwiOmkocikpP2VbdF09cjpBcnJheS5pc0FycmF5KHIpJiYoZVt0XT0oMCxsLmRlZmF1bHQpKHIpKX1yZXR1cm4gZX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub3B0aW9ucy5zaGVldCxyPSEhdCYmdC5vcHRpb25zLmxpbms/bih7fSxlLHthbGxvd0VtcHR5OiEwfSk6ZTtyZXR1cm4oMCxzLmRlZmF1bHQpKHRoaXMuc2VsZWN0b3IsdGhpcy5zdHlsZSxyKX19LHtrZXk6XCJzZWxlY3RvclwiLHNldDpmdW5jdGlvbihlKXtpZihlIT09dGhpcy5zZWxlY3RvclRleHQmJih0aGlzLnNlbGVjdG9yVGV4dD1lLHRoaXMucmVuZGVyYWJsZSYmIXRoaXMucmVuZGVyZXIuc2V0U2VsZWN0b3IodGhpcy5yZW5kZXJhYmxlLGUpJiZ0aGlzLnJlbmRlcmFibGUpKXt2YXIgdD10aGlzLnJlbmRlcmVyLnJlcGxhY2VSdWxlKHRoaXMucmVuZGVyYWJsZSx0aGlzKTt0JiYodGhpcy5yZW5kZXJhYmxlPXQpfX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0b3JUZXh0fX1dKSxlfSgpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uIGUoKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UpezA7dHJ5e19fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRShlKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpfX19KCksZS5leHBvcnRzPXIoNzApfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0saT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLG89YyhyKDI0KSksYT1jKHIoNTMpKSxzPWMocigxOCkpLGw9YyhyKDk3KSk7ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciByPXRoaXM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLm1hcD17fSx0aGlzLnJhdz17fSx0aGlzLmluZGV4PVtdLHRoaXMudXBkYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIG49ci5vcHRpb25zLGk9bi5qc3MucGx1Z2lucyxvPW4uc2hlZXQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpaS5vblVwZGF0ZSh0LHIuZ2V0KGUpLG8pO2Vsc2UgZm9yKHZhciBhPTA7YTxyLmluZGV4Lmxlbmd0aDthKyspaS5vblVwZGF0ZShlLHIuaW5kZXhbYV0sbyl9LHRoaXMub3B0aW9ucz10LHRoaXMuY2xhc3Nlcz10LmNsYXNzZXN9cmV0dXJuIGkoZSxbe2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgaT10aGlzLm9wdGlvbnMsYT1pLnBhcmVudCxjPWkuc2hlZXQsdT1pLmpzcyxoPWkuUmVuZGVyZXIsZD1pLmdlbmVyYXRlQ2xhc3NOYW1lOyEocj1uKHtjbGFzc2VzOnRoaXMuY2xhc3NlcyxwYXJlbnQ6YSxzaGVldDpjLGpzczp1LFJlbmRlcmVyOmgsZ2VuZXJhdGVDbGFzc05hbWU6ZH0scikpLnNlbGVjdG9yJiZ0aGlzLmNsYXNzZXNbZV0mJihyLnNlbGVjdG9yPVwiLlwiKygwLGwuZGVmYXVsdCkodGhpcy5jbGFzc2VzW2VdKSksdGhpcy5yYXdbZV09dDt2YXIgcD0oMCxvLmRlZmF1bHQpKGUsdCxyKSxmPXZvaWQgMDshci5zZWxlY3RvciYmcCBpbnN0YW5jZW9mIHMuZGVmYXVsdCYmKGY9ZChwLGMpLHAuc2VsZWN0b3I9XCIuXCIrKDAsbC5kZWZhdWx0KShmKSksdGhpcy5yZWdpc3RlcihwLGYpO3ZhciBtPXZvaWQgMD09PXIuaW5kZXg/dGhpcy5pbmRleC5sZW5ndGg6ci5pbmRleDtyZXR1cm4gdGhpcy5pbmRleC5zcGxpY2UobSwwLHApLHB9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWFwW2VdfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudW5yZWdpc3RlcihlKSx0aGlzLmluZGV4LnNwbGljZSh0aGlzLmluZGV4T2YoZSksMSl9fSx7a2V5OlwiaW5kZXhPZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluZGV4LmluZGV4T2YoZSl9fSx7a2V5OlwicHJvY2Vzc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zO3RoaXMuaW5kZXguc2xpY2UoMCkuZm9yRWFjaChlLm9uUHJvY2Vzc1J1bGUsZSl9fSx7a2V5OlwicmVnaXN0ZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubWFwW2Uua2V5XT1lLGUgaW5zdGFuY2VvZiBzLmRlZmF1bHQmJih0aGlzLm1hcFtlLnNlbGVjdG9yXT1lLHQmJih0aGlzLmNsYXNzZXNbZS5rZXldPXQpKX19LHtrZXk6XCJ1bnJlZ2lzdGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMubWFwW2Uua2V5XSxlIGluc3RhbmNlb2Ygcy5kZWZhdWx0JiYoZGVsZXRlIHRoaXMubWFwW2Uuc2VsZWN0b3JdLGRlbGV0ZSB0aGlzLmNsYXNzZXNbZS5rZXldKX19LHtrZXk6XCJsaW5rXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMub3B0aW9ucy5zaGVldC5yZW5kZXJlci5nZXRVbmVzY2FwZWRLZXlzTWFwKHRoaXMuaW5kZXgpLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXSxpPXRoaXMub3B0aW9ucy5zaGVldC5yZW5kZXJlci5nZXRLZXkobik7dFtpXSYmKGk9dFtpXSk7dmFyIG89dGhpcy5tYXBbaV07byYmKDAsYS5kZWZhdWx0KShvLG4pfX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLHI9dGhpcy5vcHRpb25zLnNoZWV0LG49ISFyJiZyLm9wdGlvbnMubGluayxpPTA7aTx0aGlzLmluZGV4Lmxlbmd0aDtpKyspe3ZhciBvPXRoaXMuaW5kZXhbaV0udG9TdHJpbmcoZSk7KG98fG4pJiYodCYmKHQrPVwiXFxuXCIpLHQrPW8pfXJldHVybiB0fX1dKSxlfSgpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZU11aVRoZW1lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImpzc1ByZXNldFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJNdWlUaGVtZVByb3ZpZGVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZVN0eWxlc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ3aXRoU3R5bGVzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIndpdGhUaGVtZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1LmRlZmF1bHR9fSk7dmFyIGk9bihyKDM5KSksbz1uKHIoMjgpKSxhPW4ocig0OSkpLHM9bihyKDEyMykpLGw9bihyKDEyOCkpLGM9bihyKDkpKSx1PW4ocigxMzQpKX0sZnVuY3Rpb24oZSx0LHIpeyFmdW5jdGlvbih0LHIpe2UuZXhwb3J0cz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hIWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfShlKSYmIWZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKTtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09cnx8XCJbb2JqZWN0IERhdGVdXCI9PT1yfHxmdW5jdGlvbihlKXtyZXR1cm4gZS4kJHR5cGVvZj09PXR9KGUpfShlKX07dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzO2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm4hMSE9PXQuY2xvbmUmJnQuaXNNZXJnZWFibGVPYmplY3QoZSk/YShmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9bXTp7fX0oZSksZSx0KTplfWZ1bmN0aW9uIG4oZSx0LG4pe3JldHVybiBlLmNvbmNhdCh0KS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByKGUsbil9KSl9ZnVuY3Rpb24gaShlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuY29uY2F0KGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP09iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSh0KX0pKTpbXX0oZSkpfWZ1bmN0aW9uIG8oZSx0LG4pe3ZhciBvPXt9O3JldHVybiBuLmlzTWVyZ2VhYmxlT2JqZWN0KGUpJiZpKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe29bdF09cihlW3RdLG4pfSkpLGkodCkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7bi5pc01lcmdlYWJsZU9iamVjdCh0W2ldKSYmZVtpXT9vW2ldPWZ1bmN0aW9uKGUsdCl7aWYoIXQuY3VzdG9tTWVyZ2UpcmV0dXJuIGE7dmFyIHI9dC5jdXN0b21NZXJnZShlKTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByP3I6YX0oaSxuKShlW2ldLHRbaV0sbik6b1tpXT1yKHRbaV0sbil9KSksb31mdW5jdGlvbiBhKHQsaSxhKXsoYT1hfHx7fSkuYXJyYXlNZXJnZT1hLmFycmF5TWVyZ2V8fG4sYS5pc01lcmdlYWJsZU9iamVjdD1hLmlzTWVyZ2VhYmxlT2JqZWN0fHxlO3ZhciBzPUFycmF5LmlzQXJyYXkoaSk7cmV0dXJuIHM9PT1BcnJheS5pc0FycmF5KHQpP3M/YS5hcnJheU1lcmdlKHQsaSxhKTpvKHQsaSxhKTpyKGksYSl9cmV0dXJuIGEuYWxsPWZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKFwiZmlyc3QgYXJndW1lbnQgc2hvdWxkIGJlIGFuIGFycmF5XCIpO3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gYShlLHIsdCl9KSx7fSl9LGF9KCl9KCl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTt2YXIgcj1cIlwiO2lmKEFycmF5LmlzQXJyYXkoZVswXSkpZm9yKHZhciBpPTA7aTxlLmxlbmd0aCYmXCIhaW1wb3J0YW50XCIhPT1lW2ldO2krKylyJiYocis9XCIsIFwiKSxyKz1uKGVbaV0sXCIgXCIpO2Vsc2Ugcj1uKGUsXCIsIFwiKTt0fHxcIiFpbXBvcnRhbnRcIiE9PWVbZS5sZW5ndGgtMV18fChyKz1cIiAhaW1wb3J0YW50XCIpO3JldHVybiByfTt2YXIgbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1cIlwiLG49MDtuPGUubGVuZ3RoJiZcIiFpbXBvcnRhbnRcIiE9PWVbbl07bisrKXImJihyKz10KSxyKz1lW25dO3JldHVybiByfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcInVubmFtZWRcIix0PWFyZ3VtZW50c1sxXSxyPWFyZ3VtZW50c1syXSxhPXIuanNzLHM9KDAsby5kZWZhdWx0KSh0KSxsPWEucGx1Z2lucy5vbkNyZWF0ZVJ1bGUoZSxzLHIpO2lmKGwpcmV0dXJuIGw7XCJAXCI9PT1lWzBdJiYoMCxuLmRlZmF1bHQpKCExLFwiW0pTU10gVW5rbm93biBhdC1ydWxlICVzXCIsZSk7cmV0dXJuIG5ldyBpLmRlZmF1bHQoZSxzLHIpfTt2YXIgbj1hKHIoMTcpKSxpPWEocigxOCkpLG89YShyKDk0KSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5yKHQpLHIuZCh0LFwiaXNCcm93c2VyXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSk7dmFyIG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0saT1cIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/XCJ1bmRlZmluZWRcIjpuKHdpbmRvdykpJiZcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudD9cInVuZGVmaW5lZFwiOm4oZG9jdW1lbnQpKSYmOT09PWRvY3VtZW50Lm5vZGVUeXBlO3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0fX0pO3ZhciBpPW4ocigxMzcpKX0sLGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7bihyKDUpKTt2YXIgaT1uKHIoMikpLG89bihyKDQpKSxhPW4ocigyMikpLHM9bihyKDc1KSksbD0obihyKDYpKSxuKHIoNzcpKSksYz1uKHIoNzgpKSx1PW4ocig3OSkpLGg9bihyKDg0KSksZD1uKHIoODYpKSxwPW4ocig4NykpLGY9bihyKDg4KSksbT1uKHIoODkpKSxnPW4ocig5MCkpO3ZhciBfPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5icmVha3BvaW50cyxyPXZvaWQgMD09PXQ/e306dCxuPWUubWl4aW5zLF89dm9pZCAwPT09bj97fTpuLHk9ZS5wYWxldHRlLHY9dm9pZCAwPT09eT97fTp5LHg9ZS5zaGFkb3dzLGI9ZS5zcGFjaW5nLHc9dm9pZCAwPT09Yj97fTpiLFQ9ZS50eXBvZ3JhcGh5LEU9dm9pZCAwPT09VD97fTpULFM9KDAsby5kZWZhdWx0KShlLFtcImJyZWFrcG9pbnRzXCIsXCJtaXhpbnNcIixcInBhbGV0dGVcIixcInNoYWRvd3NcIixcInNwYWNpbmdcIixcInR5cG9ncmFwaHlcIl0pLEM9KDAsdS5kZWZhdWx0KSh2KSxNPSgwLGwuZGVmYXVsdCkociksaz0oMCxpLmRlZmF1bHQpKHt9LGYuZGVmYXVsdCx3KSxBPSgwLGkuZGVmYXVsdCkoe2JyZWFrcG9pbnRzOk0sZGlyZWN0aW9uOlwibHRyXCIsbWl4aW5zOigwLGMuZGVmYXVsdCkoTSxrLF8pLG92ZXJyaWRlczp7fSxwYWxldHRlOkMscHJvcHM6e30sc2hhZG93czp4fHxkLmRlZmF1bHQsdHlwb2dyYXBoeTooMCxoLmRlZmF1bHQpKEMsRSl9LCgwLGEuZGVmYXVsdCkoe3NoYXBlOnAuZGVmYXVsdCxzcGFjaW5nOmssdHJhbnNpdGlvbnM6bS5kZWZhdWx0LHpJbmRleDpnLmRlZmF1bHR9LFMse2lzTWVyZ2VhYmxlT2JqZWN0OnMuZGVmYXVsdH0pKTtyZXR1cm4gQX07dC5kZWZhdWx0PV99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbz1cIlwiO2lmKCF0KXJldHVybiBvO3ZhciBhPXIuaW5kZW50LHM9dm9pZCAwPT09YT8wOmEsbD10LmZhbGxiYWNrcztpZihzKyssbClpZihBcnJheS5pc0FycmF5KGwpKWZvcih2YXIgYz0wO2M8bC5sZW5ndGg7YysrKXt2YXIgdT1sW2NdO2Zvcih2YXIgaCBpbiB1KXt2YXIgZD11W2hdO251bGwhPWQmJihvKz1cIlxcblwiK2koaCtcIjogXCIrKDAsbi5kZWZhdWx0KShkKStcIjtcIixzKSl9fWVsc2UgZm9yKHZhciBwIGluIGwpe3ZhciBmPWxbcF07bnVsbCE9ZiYmKG8rPVwiXFxuXCIraShwK1wiOiBcIisoMCxuLmRlZmF1bHQpKGYpK1wiO1wiLHMpKX1mb3IodmFyIG0gaW4gdCl7dmFyIGc9dFttXTtudWxsIT1nJiZcImZhbGxiYWNrc1wiIT09bSYmKG8rPVwiXFxuXCIraShtK1wiOiBcIisoMCxuLmRlZmF1bHQpKGcpK1wiO1wiLHMpKX1yZXR1cm4gb3x8ci5hbGxvd0VtcHR5PyhzLS0sbz1pKGUrXCIge1wiK28rXCJcXG5cIixzKStpKFwifVwiLHMpKTpvfTt2YXIgbj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHIoMjMpKTtmdW5jdGlvbiBpKGUsdCl7Zm9yKHZhciByPVwiXCIsbj0wO248dDtuKyspcis9XCIgIFwiO3JldHVybiByK2V9fSxmdW5jdGlvbihlLHQpe3ZhciByO3I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7cj1yfHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKGUpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihyPXdpbmRvdyl9ZS5leHBvcnRzPXJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHIoNTEpKTt0LmRlZmF1bHQ9bmV3IG4uZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPVwiXCIsaT1cIlwiO2lmKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigyNSkpLmRlZmF1bHQpe3ZhciBvPXtNb3o6XCItbW96LVwiLG1zOlwiLW1zLVwiLE86XCItby1cIixXZWJraXQ6XCItd2Via2l0LVwifSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpLnN0eWxlO2Zvcih2YXIgcyBpbiBvKWlmKHMrXCJUcmFuc2Zvcm1cImluIGEpe249cyxpPW9bc107YnJlYWt9fXQuZGVmYXVsdD17anM6bixjc3M6aX19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LkNIQU5ORUw9dm9pZCAwO3ZhciBpPW4ocig1KSksbz1cIl9fVEhFTUlOR19fXCI7dC5DSEFOTkVMPW87dmFyIGE9e2NvbnRleHRUeXBlczooMCxpLmRlZmF1bHQpKHt9LG8sKGZ1bmN0aW9uKCl7fSkpLGluaXRpYWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbb10/ZVtvXS5nZXRTdGF0ZSgpOm51bGx9LHN1YnNjcmliZTpmdW5jdGlvbihlLHQpe3JldHVybiBlW29dP2Vbb10uc3Vic2NyaWJlKHQpOm51bGx9LHVuc3Vic2NyaWJlOmZ1bmN0aW9uKGUsdCl7ZVtvXSYmZVtvXS51bnN1YnNjcmliZSh0KX19O3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cig0NCksaT17Y2hpbGRDb250ZXh0VHlwZXM6ITAsY29udGV4dFR5cGU6ITAsY29udGV4dFR5cGVzOiEwLGRlZmF1bHRQcm9wczohMCxkaXNwbGF5TmFtZTohMCxnZXREZWZhdWx0UHJvcHM6ITAsZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yOiEwLGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczohMCxtaXhpbnM6ITAscHJvcFR5cGVzOiEwLHR5cGU6ITB9LG89e25hbWU6ITAsbGVuZ3RoOiEwLHByb3RvdHlwZTohMCxjYWxsZXI6ITAsY2FsbGVlOiEwLGFyZ3VtZW50czohMCxhcml0eTohMH0sYT17JCR0eXBlb2Y6ITAsY29tcGFyZTohMCxkZWZhdWx0UHJvcHM6ITAsZGlzcGxheU5hbWU6ITAscHJvcFR5cGVzOiEwLHR5cGU6ITB9LHM9e307ZnVuY3Rpb24gbChlKXtyZXR1cm4gbi5pc01lbW8oZSk/YTpzW2UuJCR0eXBlb2ZdfHxpfXNbbi5Gb3J3YXJkUmVmXT17JCR0eXBlb2Y6ITAscmVuZGVyOiEwLGRlZmF1bHRQcm9wczohMCxkaXNwbGF5TmFtZTohMCxwcm9wVHlwZXM6ITB9LHNbbi5NZW1vXT1hO3ZhciBjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLGg9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IscD1PYmplY3QuZ2V0UHJvdG90eXBlT2YsZj1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbiBlKHQscixuKXtpZihcInN0cmluZ1wiIT10eXBlb2Ygcil7aWYoZil7dmFyIGk9cChyKTtpJiZpIT09ZiYmZSh0LGksbil9dmFyIGE9dShyKTtoJiYoYT1hLmNvbmNhdChoKHIpKSk7Zm9yKHZhciBzPWwodCksbT1sKHIpLGc9MDtnPGEubGVuZ3RoOysrZyl7dmFyIF89YVtnXTtpZighKG9bX118fG4mJm5bX118fG0mJm1bX118fHMmJnNbX10pKXt2YXIgeT1kKHIsXyk7dHJ5e2ModCxfLHkpfWNhdGNoKGUpe319fX1yZXR1cm4gdH19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSk7dmFyIGk9bihyKDE0NSkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIG8uZGVmYXVsdC5jcmVhdGVFbGVtZW50KHMuZGVmYXVsdC5Db25zdW1lcixudWxsLChmdW5jdGlvbihyKXtyZXR1cm4gby5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoZSwoMCxpLmRlZmF1bHQpKHttdWlGb3JtQ29udHJvbDpyfSx0KSl9KSl9OzA7cmV0dXJuKDAsYS5kZWZhdWx0KSh0LGUpLHR9O3ZhciBpPW4ocigyKSksbz1uKHIoMSkpLGE9bihyKDM1KSkscz1uKHIoNTcpKTtyKDcpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxpPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksbz1PYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlO2Z1bmN0aW9uIGEoZSl7aWYobnVsbD09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0LmFzc2lnbiBjYW5ub3QgYmUgY2FsbGVkIHdpdGggbnVsbCBvciB1bmRlZmluZWRcIik7cmV0dXJuIE9iamVjdChlKX1lLmV4cG9ydHM9ZnVuY3Rpb24oKXt0cnl7aWYoIU9iamVjdC5hc3NpZ24pcmV0dXJuITE7dmFyIGU9bmV3IFN0cmluZyhcImFiY1wiKTtpZihlWzVdPVwiZGVcIixcIjVcIj09PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpWzBdKXJldHVybiExO2Zvcih2YXIgdD17fSxyPTA7cjwxMDtyKyspdFtcIl9cIitTdHJpbmcuZnJvbUNoYXJDb2RlKHIpXT1yO2lmKFwiMDEyMzQ1Njc4OVwiIT09T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKS5qb2luKFwiXCIpKXJldHVybiExO3ZhciBuPXt9O3JldHVyblwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIi5zcGxpdChcIlwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXtuW2VdPWV9KSksXCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiPT09T2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSxuKSkuam9pbihcIlwiKX1jYXRjaChlKXtyZXR1cm4hMX19KCk/T2JqZWN0LmFzc2lnbjpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcixzLGw9YShlKSxjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyl7Zm9yKHZhciB1IGluIHI9T2JqZWN0KGFyZ3VtZW50c1tjXSkpaS5jYWxsKHIsdSkmJihsW3VdPXJbdV0pO2lmKG4pe3M9bihyKTtmb3IodmFyIGg9MDtoPHMubGVuZ3RoO2grKylvLmNhbGwocixzW2hdKSYmKGxbc1toXV09cltzW2hdXSl9fXJldHVybiBsfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5kYW5nZXJvdXNseVVzZUdsb2JhbENTUyxyPXZvaWQgMCE9PXQmJnQsbj1lLnByb2R1Y3Rpb25QcmVmaXgsaT12b2lkIDA9PT1uP1wianNzXCI6bixhPWUuc2VlZCxzPXZvaWQgMD09PWE/XCJcIjphLGw9MDtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gbCs9MSxyJiZ0JiZ0Lm9wdGlvbnMubmFtZT9cIlwiLmNvbmNhdChvKHQub3B0aW9ucy5uYW1lKSxcIi1cIikuY29uY2F0KGUua2V5KTpcIlwiLmNvbmNhdChpKS5jb25jYXQocykuY29uY2F0KGwpfX07bihyKDYpKTt2YXIgaT0vKFtbXFxdLiMqJD48K349fF46KCksXCInYFxcc10pL2c7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gU3RyaW5nKGUpLnJlcGxhY2UoaSxcIi1cIil9fSxmdW5jdGlvbihlLHQscil7dmFyIG49cigxNSkuZGVmYXVsdCxpPXIoNzMpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1pKGUsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09PW4odCk/dDpTdHJpbmcodCl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49ezUwOlwiI2U4ZWFmNlwiLDEwMDpcIiNjNWNhZTlcIiwyMDA6XCIjOWZhOGRhXCIsMzAwOlwiIzc5ODZjYlwiLDQwMDpcIiM1YzZiYzBcIiw1MDA6XCIjM2Y1MWI1XCIsNjAwOlwiIzM5NDlhYlwiLDcwMDpcIiMzMDNmOWZcIiw4MDA6XCIjMjgzNTkzXCIsOTAwOlwiIzFhMjM3ZVwiLEExMDA6XCIjOGM5ZWZmXCIsQTIwMDpcIiM1MzZkZmVcIixBNDAwOlwiIzNkNWFmZVwiLEE3MDA6XCIjMzA0ZmZlXCJ9O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNvbnZlcnRIZXhUb1JHQj1vLHQucmdiVG9IZXg9ZnVuY3Rpb24oZSl7aWYoMD09PWUuaW5kZXhPZihcIiNcIikpcmV0dXJuIGU7dmFyIHQ9YShlKS52YWx1ZXM7cmV0dXJuIHQ9dC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLnRvU3RyaW5nKDE2KTtyZXR1cm4gMT09PXQubGVuZ3RoP1wiMFwiLmNvbmNhdCh0KTp0fShlKX0pKSxcIiNcIi5jb25jYXQodC5qb2luKFwiXCIpKX0sdC5kZWNvbXBvc2VDb2xvcj1hLHQucmVjb21wb3NlQ29sb3I9cyx0LmdldENvbnRyYXN0UmF0aW89ZnVuY3Rpb24oZSx0KXt2YXIgcj1sKGUpLG49bCh0KTtyZXR1cm4oTWF0aC5tYXgocixuKSsuMDUpLyhNYXRoLm1pbihyLG4pKy4wNSl9LHQuZ2V0THVtaW5hbmNlPWwsdC5lbXBoYXNpemU9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOi4xNTtyZXR1cm4gbChlKT4uNT9jKGUsdCk6dShlLHQpfSx0LmZhZGU9ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gZTtlPWEoZSksdD1pKHQpLChcInJnYlwiPT09ZS50eXBlfHxcImhzbFwiPT09ZS50eXBlKSYmKGUudHlwZSs9XCJhXCIpO3JldHVybiBlLnZhbHVlc1szXT10LHMoZSl9LHQuZGFya2VuPWMsdC5saWdodGVuPXU7bihyKDYpKTtmdW5jdGlvbiBpKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjE7cmV0dXJuIGU8dD90OmU+cj9yOmV9ZnVuY3Rpb24gbyhlKXtlPWUuc3Vic3RyKDEpO3ZhciB0PW5ldyBSZWdFeHAoXCIuezEsXCIuY29uY2F0KGUubGVuZ3RoLzMsXCJ9XCIpLFwiZ1wiKSxyPWUubWF0Y2godCk7cmV0dXJuIHImJjE9PT1yWzBdLmxlbmd0aCYmKHI9ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlK2V9KSkpLHI/XCJyZ2IoXCIuY29uY2F0KHIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZSwxNil9KSkuam9pbihcIiwgXCIpLFwiKVwiKTpcIlwifWZ1bmN0aW9uIGEoZSl7aWYoXCIjXCI9PT1lLmNoYXJBdCgwKSlyZXR1cm4gYShvKGUpKTt2YXIgdD1lLmluZGV4T2YoXCIoXCIpLHI9ZS5zdWJzdHJpbmcoMCx0KSxuPWUuc3Vic3RyaW5nKHQrMSxlLmxlbmd0aC0xKS5zcGxpdChcIixcIik7cmV0dXJue3R5cGU6cix2YWx1ZXM6bj1uLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlRmxvYXQoZSl9KSl9fWZ1bmN0aW9uIHMoZSl7dmFyIHQ9ZS50eXBlLHI9ZS52YWx1ZXM7cmV0dXJuLTEhPT10LmluZGV4T2YoXCJyZ2JcIikmJihyPXIubWFwKChmdW5jdGlvbihlLHQpe3JldHVybiB0PDM/cGFyc2VJbnQoZSwxMCk6ZX0pKSksLTEhPT10LmluZGV4T2YoXCJoc2xcIikmJihyWzFdPVwiXCIuY29uY2F0KHJbMV0sXCIlXCIpLHJbMl09XCJcIi5jb25jYXQoclsyXSxcIiVcIikpLFwiXCIuY29uY2F0KGUudHlwZSxcIihcIikuY29uY2F0KHIuam9pbihcIiwgXCIpLFwiKVwiKX1mdW5jdGlvbiBsKGUpe3ZhciB0PWEoZSk7aWYoLTEhPT10LnR5cGUuaW5kZXhPZihcInJnYlwiKSl7dmFyIHI9dC52YWx1ZXMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4oZS89MjU1KTw9LjAzOTI4P2UvMTIuOTI6TWF0aC5wb3coKGUrLjA1NSkvMS4wNTUsMi40KX0pKTtyZXR1cm4gTnVtYmVyKCguMjEyNipyWzBdKy43MTUyKnJbMV0rLjA3MjIqclsyXSkudG9GaXhlZCgzKSl9cmV0dXJuIHQudmFsdWVzWzJdLzEwMH1mdW5jdGlvbiBjKGUsdCl7aWYoIWUpcmV0dXJuIGU7aWYoZT1hKGUpLHQ9aSh0KSwtMSE9PWUudHlwZS5pbmRleE9mKFwiaHNsXCIpKWUudmFsdWVzWzJdKj0xLXQ7ZWxzZSBpZigtMSE9PWUudHlwZS5pbmRleE9mKFwicmdiXCIpKWZvcih2YXIgcj0wO3I8MztyKz0xKWUudmFsdWVzW3JdKj0xLXQ7cmV0dXJuIHMoZSl9ZnVuY3Rpb24gdShlLHQpe2lmKCFlKXJldHVybiBlO2lmKGU9YShlKSx0PWkodCksLTEhPT1lLnR5cGUuaW5kZXhPZihcImhzbFwiKSllLnZhbHVlc1syXSs9KDEwMC1lLnZhbHVlc1syXSkqdDtlbHNlIGlmKC0xIT09ZS50eXBlLmluZGV4T2YoXCJyZ2JcIikpZm9yKHZhciByPTA7cjwzO3IrPTEpZS52YWx1ZXNbcl0rPSgyNTUtZS52YWx1ZXNbcl0pKnQ7cmV0dXJuIHMoZSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO24ocigxNSkpLHIoNDQpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fXZhciBvPWkoKTtvLmlzUmVxdWlyZWQ9aSgpO3ZhciBhPW87dC5kZWZhdWx0PWF9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9cig4NSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fTt0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3BlY2lhbFByb3BlcnR5PXZvaWQgMDtuKHIoNSkpLG4ocigyKSk7dC5zcGVjaWFsUHJvcGVydHk9XCJleGFjdC1wcm9wOiDigItcIjt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gZX07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmdldEZ1bmN0aW9uTmFtZT1pLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49L15cXHMqZnVuY3Rpb24oPzpcXHN8XFxzKlxcL1xcKi4qXFwqXFwvXFxzKikrKFteKFxccy9dKilcXHMqLztmdW5jdGlvbiBpKGUpe3ZhciB0PVwiXCIuY29uY2F0KGUpLm1hdGNoKG4pO3JldHVybiB0JiZ0WzFdfHxcIlwifXZhciBvPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT9lLmRpc3BsYXlOYW1lfHxlLm5hbWV8fGkoZSl8fFwiQ29tcG9uZW50XCI6dm9pZCAwfTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLk1hdGg9PU1hdGg/c2VsZjpGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9bihyKDkxKSksbz1uKHIoMTExKSksYT1uKHIoMTEzKSkscz1uKHIoMTE1KSksbD1uKHIoMTE3KSksYz1uKHIoMTIyKSk7dmFyIHU9ZnVuY3Rpb24oKXtyZXR1cm57cGx1Z2luczpbKDAsaS5kZWZhdWx0KSgpLCgwLG8uZGVmYXVsdCkoKSwoMCxhLmRlZmF1bHQpKCksKDAscy5kZWZhdWx0KSgpLFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3c/bnVsbDooMCxsLmRlZmF1bHQpKCksKDAsYy5kZWZhdWx0KSgpXX19O3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jcmVhdGU9dC5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZT10LnNoZWV0cz10LlJ1bGVMaXN0PXQuU2hlZXRzTWFuYWdlcj10LlNoZWV0c1JlZ2lzdHJ5PXQudG9Dc3NWYWx1ZT10LmdldER5bmFtaWNTdHlsZXM9dm9pZCAwO3ZhciBuPXIoOTIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZ2V0RHluYW1pY1N0eWxlc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoKG4pLmRlZmF1bHR9fSk7dmFyIGk9cigyMyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ0b0Nzc1ZhbHVlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGgoaSkuZGVmYXVsdH19KTt2YXIgbz1yKDUxKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlNoZWV0c1JlZ2lzdHJ5XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGgobykuZGVmYXVsdH19KTt2YXIgYT1yKDkzKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlNoZWV0c01hbmFnZXJcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaChhKS5kZWZhdWx0fX0pO3ZhciBzPXIoMjApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiUnVsZUxpc3RcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaChzKS5kZWZhdWx0fX0pO3ZhciBsPXIoMzEpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwic2hlZXRzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGgobCkuZGVmYXVsdH19KTt2YXIgYz1yKDU0KTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGgoYykuZGVmYXVsdH19KTt2YXIgdT1oKHIoOTkpKTtmdW5jdGlvbiBoKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgZD10LmNyZWF0ZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHUuZGVmYXVsdChlKX07dC5kZWZhdWx0PWQoKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnJlZ2lzdHJ5PVtdfXJldHVybiBuKGUsW3trZXk6XCJhZGRcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnJlZ2lzdHJ5LHI9ZS5vcHRpb25zLmluZGV4O2lmKC0xPT09dC5pbmRleE9mKGUpKWlmKDA9PT10Lmxlbmd0aHx8cj49dGhpcy5pbmRleCl0LnB1c2goZSk7ZWxzZSBmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dLm9wdGlvbnMuaW5kZXg+cilyZXR1cm4gdm9pZCB0LnNwbGljZShuLDAsZSl9fSx7a2V5OlwicmVzZXRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMucmVnaXN0cnk9W119fSx7a2V5OlwicmVtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yZWdpc3RyeS5pbmRleE9mKGUpO3RoaXMucmVnaXN0cnkuc3BsaWNlKHQsMSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5yZWdpc3RyeS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmF0dGFjaGVkfSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9TdHJpbmcoZSl9KSkuam9pbihcIlxcblwiKX19LHtrZXk6XCJpbmRleFwiLGdldDpmdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5yZWdpc3RyeS5sZW5ndGg/MDp0aGlzLnJlZ2lzdHJ5W3RoaXMucmVnaXN0cnkubGVuZ3RoLTFdLm9wdGlvbnMuaW5kZXh9fV0pLGV9KCk7dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHIoOTUpKTt0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmVbbi5kZWZhdWx0XSYmZT09PWVbbi5kZWZhdWx0XSgpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2UucmVuZGVyYWJsZT10LGUucnVsZXMmJnQuY3NzUnVsZXMmJmUucnVsZXMubGluayh0LmNzc1J1bGVzKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1vKHIoMTcpKSxpPShvKHIoNTUpKSxvKHIoOTgpKSk7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5kZWZhdWx0PWZ1bmN0aW9uKCl7dmFyIGU9MDtyZXR1cm4gZnVuY3Rpb24odCxyKXsoZSs9MSk+MWUxMCYmKDAsbi5kZWZhdWx0KSghMSxcIltKU1NdIFlvdSBtaWdodCBoYXZlIGEgbWVtb3J5IGxlYWsuIFJ1bGUgY291bnRlciBpcyBhdCAlcy5cIixlKTt2YXIgbz1cImNcIixhPVwiXCI7cmV0dXJuIHImJihvPXIub3B0aW9ucy5jbGFzc05hbWVQcmVmaXh8fFwiY1wiLG51bGwhPXIub3B0aW9ucy5qc3MuaWQmJihhKz1yLm9wdGlvbnMuanNzLmlkKSksXCJcIitvK2kuZGVmYXVsdCthK2V9fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9LGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxvPXMocig1MykpLGE9cyhyKDIwKSk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7dmFyIGk9dGhpcztmb3IodmFyIG8gaW4gZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMudXBkYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/aS5ydWxlcy51cGRhdGUoZSx0KTppLnJ1bGVzLnVwZGF0ZShlKSxpfSx0aGlzLmF0dGFjaGVkPSExLHRoaXMuZGVwbG95ZWQ9ITEsdGhpcy5saW5rZWQ9ITEsdGhpcy5jbGFzc2VzPXt9LHRoaXMub3B0aW9ucz1uKHt9LHIse3NoZWV0OnRoaXMscGFyZW50OnRoaXMsY2xhc3Nlczp0aGlzLmNsYXNzZXN9KSx0aGlzLnJlbmRlcmVyPW5ldyByLlJlbmRlcmVyKHRoaXMpLHRoaXMucnVsZXM9bmV3IGEuZGVmYXVsdCh0aGlzLm9wdGlvbnMpLHQpdGhpcy5ydWxlcy5hZGQobyx0W29dKTt0aGlzLnJ1bGVzLnByb2Nlc3MoKX1yZXR1cm4gaShlLFt7a2V5OlwiYXR0YWNoXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hdHRhY2hlZHx8KHRoaXMuZGVwbG95ZWR8fHRoaXMuZGVwbG95KCksdGhpcy5yZW5kZXJlci5hdHRhY2goKSwhdGhpcy5saW5rZWQmJnRoaXMub3B0aW9ucy5saW5rJiZ0aGlzLmxpbmsoKSx0aGlzLmF0dGFjaGVkPSEwKSx0aGlzfX0se2tleTpcImRldGFjaFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0YWNoZWQ/KHRoaXMucmVuZGVyZXIuZGV0YWNoKCksdGhpcy5hdHRhY2hlZD0hMSx0aGlzKTp0aGlzfX0se2tleTpcImFkZFJ1bGVcIix2YWx1ZTpmdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5xdWV1ZTt0aGlzLmF0dGFjaGVkJiYhbiYmKHRoaXMucXVldWU9W10pO3ZhciBpPXRoaXMucnVsZXMuYWRkKGUsdCxyKTtyZXR1cm4gdGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zLm9uUHJvY2Vzc1J1bGUoaSksdGhpcy5hdHRhY2hlZD90aGlzLmRlcGxveWVkPyhuP24ucHVzaChpKToodGhpcy5pbnNlcnRSdWxlKGkpLHRoaXMucXVldWUmJih0aGlzLnF1ZXVlLmZvckVhY2godGhpcy5pbnNlcnRSdWxlLHRoaXMpLHRoaXMucXVldWU9dm9pZCAwKSksaSk6aToodGhpcy5kZXBsb3llZD0hMSxpKX19LHtrZXk6XCJpbnNlcnRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yZW5kZXJlci5pbnNlcnRSdWxlKGUpO3QmJnRoaXMub3B0aW9ucy5saW5rJiYoMCxvLmRlZmF1bHQpKGUsdCl9fSx7a2V5OlwiYWRkUnVsZXNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPVtdO2Zvcih2YXIgbiBpbiBlKXIucHVzaCh0aGlzLmFkZFJ1bGUobixlW25dLHQpKTtyZXR1cm4gcn19LHtrZXk6XCJnZXRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucnVsZXMuZ2V0KGUpfX0se2tleTpcImRlbGV0ZVJ1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnJ1bGVzLmdldChlKTtyZXR1cm4hIXQmJih0aGlzLnJ1bGVzLnJlbW92ZSh0KSwhdGhpcy5hdHRhY2hlZHx8IXQucmVuZGVyYWJsZXx8dGhpcy5yZW5kZXJlci5kZWxldGVSdWxlKHQucmVuZGVyYWJsZSkpfX0se2tleTpcImluZGV4T2ZcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydWxlcy5pbmRleE9mKGUpfX0se2tleTpcImRlcGxveVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVuZGVyZXIuZGVwbG95KCksdGhpcy5kZXBsb3llZD0hMCx0aGlzfX0se2tleTpcImxpbmtcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucmVuZGVyZXIuZ2V0UnVsZXMoKTtyZXR1cm4gZSYmdGhpcy5ydWxlcy5saW5rKGUpLHRoaXMubGlua2VkPSEwLHRoaXN9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydWxlcy50b1N0cmluZyhlKX19XSksZX0oKTt0LmRlZmF1bHQ9bH0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKHQsbil7cmV0dXJuIGUuZXhwb3J0cz1yPU9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YuYmluZCgpOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX19wcm90b19fPXQsZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLHIodCxuKX1lLmV4cG9ydHM9cixlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9bihyKDEpKS5kZWZhdWx0LmNyZWF0ZUNvbnRleHQoKTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUub3duZXJEb2N1bWVudHx8ZG9jdW1lbnR9O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7dmFyIGU9dGhpcy5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHModGhpcy5wcm9wcyx0aGlzLnN0YXRlKTtudWxsIT1lJiZ0aGlzLnNldFN0YXRlKGUpfWZ1bmN0aW9uIGkoZSl7dGhpcy5zZXRTdGF0ZShmdW5jdGlvbih0KXt2YXIgcj10aGlzLmNvbnN0cnVjdG9yLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhlLHQpO3JldHVybiBudWxsIT1yP3I6bnVsbH0uYmluZCh0aGlzKSl9ZnVuY3Rpb24gbyhlLHQpe3RyeXt2YXIgcj10aGlzLnByb3BzLG49dGhpcy5zdGF0ZTt0aGlzLnByb3BzPWUsdGhpcy5zdGF0ZT10LHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3RGbGFnPSEwLHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3Q9dGhpcy5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShyLG4pfWZpbmFsbHl7dGhpcy5wcm9wcz1yLHRoaXMuc3RhdGU9bn19ZnVuY3Rpb24gYShlKXt2YXIgdD1lLnByb3RvdHlwZTtpZighdHx8IXQuaXNSZWFjdENvbXBvbmVudCl0aHJvdyBuZXcgRXJyb3IoXCJDYW4gb25seSBwb2x5ZmlsbCBjbGFzcyBjb21wb25lbnRzXCIpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKXJldHVybiBlO3ZhciByPW51bGwsYT1udWxsLHM9bnVsbDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbXBvbmVudFdpbGxNb3VudD9yPVwiY29tcG9uZW50V2lsbE1vdW50XCI6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiYocj1cIlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnRcIiksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzP2E9XCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCI6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmKGE9XCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbXBvbmVudFdpbGxVcGRhdGU/cz1cImNvbXBvbmVudFdpbGxVcGRhdGVcIjpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlJiYocz1cIlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlXCIpLG51bGwhPT1yfHxudWxsIT09YXx8bnVsbCE9PXMpe3ZhciBsPWUuZGlzcGxheU5hbWV8fGUubmFtZSxjPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzP1wiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKClcIjpcImdldFNuYXBzaG90QmVmb3JlVXBkYXRlKClcIjt0aHJvdyBFcnJvcihcIlVuc2FmZSBsZWdhY3kgbGlmZWN5Y2xlcyB3aWxsIG5vdCBiZSBjYWxsZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgbmV3IGNvbXBvbmVudCBBUElzLlxcblxcblwiK2wrXCIgdXNlcyBcIitjK1wiIGJ1dCBhbHNvIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgbGVnYWN5IGxpZmVjeWNsZXM6XCIrKG51bGwhPT1yP1wiXFxuICBcIityOlwiXCIpKyhudWxsIT09YT9cIlxcbiAgXCIrYTpcIlwiKSsobnVsbCE9PXM/XCJcXG4gIFwiK3M6XCJcIikrXCJcXG5cXG5UaGUgYWJvdmUgbGlmZWN5Y2xlcyBzaG91bGQgYmUgcmVtb3ZlZC4gTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTpcXG5odHRwczovL2ZiLm1lL3JlYWN0LWFzeW5jLWNvbXBvbmVudC1saWZlY3ljbGUtaG9va3NcIil9aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJih0LmNvbXBvbmVudFdpbGxNb3VudD1uLHQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcz1pKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LmNvbXBvbmVudERpZFVwZGF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcG9seWZpbGwgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBmb3IgY29tcG9uZW50cyB0aGF0IGRvIG5vdCBkZWZpbmUgY29tcG9uZW50RGlkVXBkYXRlKCkgb24gdGhlIHByb3RvdHlwZVwiKTt0LmNvbXBvbmVudFdpbGxVcGRhdGU9bzt2YXIgdT10LmNvbXBvbmVudERpZFVwZGF0ZTt0LmNvbXBvbmVudERpZFVwZGF0ZT1mdW5jdGlvbihlLHQscil7dmFyIG49dGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWc/dGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdDpyO3UuY2FsbCh0aGlzLGUsdCxuKX19cmV0dXJuIGV9ci5yKHQpLHIuZCh0LFwicG9seWZpbGxcIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKSxuLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmc9ITAsaS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nPSEwLG8uX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZz0hMH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9bihyKDE3MikpLG89bihyKDE3NikpLGE9KG4ocig2MikpLG4ocig2MykpLGZ1bmN0aW9uKGUpe3JldHVybigwLGkuZGVmYXVsdCkoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuISgwLG8uZGVmYXVsdCkoZSx0KX0pKShlKX0pO3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1uKHIoMTc0KSksbz1mdW5jdGlvbihlKXtyZXR1cm4oMCxpLmRlZmF1bHQpKFwiZGlzcGxheU5hbWVcIixlKX07dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPW4ocigxNzUpKSxvPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQrXCIoXCIrKDAsaS5kZWZhdWx0KShlKStcIilcIn07dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSk7dmFyIGk9bihyKDE3OCkpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcCgoZnVuY3Rpb24odCl7dmFyIHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1lWzFdfHxcIlwiLG49ZVszXTtpZighbilyZXR1cm4gcjtpZih0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hKXt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm5cIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShlKSkpKStcIiAqL1wifShuKSxvPW4uc291cmNlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIituLnNvdXJjZVJvb3QrZStcIiAqL1wifSkpO3JldHVybltyXS5jb25jYXQobykuY29uY2F0KFtpXSkuam9pbihcIlxcblwiKX1yZXR1cm5bcl0uam9pbihcIlxcblwiKX0odCxlKTtyZXR1cm4gdFsyXT9cIkBtZWRpYSBcIit0WzJdK1wie1wiK3IrXCJ9XCI6cn0pKS5qb2luKFwiXCIpfSx0Lmk9ZnVuY3Rpb24oZSxyKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9W1tudWxsLGUsXCJcIl1dKTtmb3IodmFyIG49e30saT0wO2k8dGhpcy5sZW5ndGg7aSsrKXt2YXIgbz10aGlzW2ldWzBdO1wibnVtYmVyXCI9PXR5cGVvZiBvJiYobltvXT0hMCl9Zm9yKGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIGE9ZVtpXTtcIm51bWJlclwiPT10eXBlb2YgYVswXSYmblthWzBdXXx8KHImJiFhWzJdP2FbMl09cjpyJiYoYVsyXT1cIihcIithWzJdK1wiKSBhbmQgKFwiK3IrXCIpXCIpLHQucHVzaChhKSl9fSx0fX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LGk9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKSx0fX0oKGZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdyYmZG9jdW1lbnQmJmRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9ifSkpLG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD90LnF1ZXJ5U2VsZWN0b3IoZSk6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKX0sYT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZnVuY3Rpb24oZSxyKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBlKCk7aWYodm9pZCAwPT09dFtlXSl7dmFyIG49by5jYWxsKHRoaXMsZSxyKTtpZih3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQmJm4gaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpdHJ5e249bi5jb250ZW50RG9jdW1lbnQuaGVhZH1jYXRjaChlKXtuPW51bGx9dFtlXT1ufXJldHVybiB0W2VdfX0oKSxzPW51bGwsbD0wLGM9W10sdT1yKDE5NSk7ZnVuY3Rpb24gaChlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXt2YXIgaT1lW3JdLG89bltpLmlkXTtpZihvKXtvLnJlZnMrKztmb3IodmFyIGE9MDthPG8ucGFydHMubGVuZ3RoO2ErKylvLnBhcnRzW2FdKGkucGFydHNbYV0pO2Zvcig7YTxpLnBhcnRzLmxlbmd0aDthKyspby5wYXJ0cy5wdXNoKF8oaS5wYXJ0c1thXSx0KSl9ZWxzZXt2YXIgcz1bXTtmb3IoYT0wO2E8aS5wYXJ0cy5sZW5ndGg7YSsrKXMucHVzaChfKGkucGFydHNbYV0sdCkpO25baS5pZF09e2lkOmkuaWQscmVmczoxLHBhcnRzOnN9fX19ZnVuY3Rpb24gZChlLHQpe2Zvcih2YXIgcj1bXSxuPXt9LGk9MDtpPGUubGVuZ3RoO2krKyl7dmFyIG89ZVtpXSxhPXQuYmFzZT9vWzBdK3QuYmFzZTpvWzBdLHM9e2NzczpvWzFdLG1lZGlhOm9bMl0sc291cmNlTWFwOm9bM119O25bYV0/blthXS5wYXJ0cy5wdXNoKHMpOnIucHVzaChuW2FdPXtpZDphLHBhcnRzOltzXX0pfXJldHVybiByfWZ1bmN0aW9uIHAoZSx0KXt2YXIgcj1hKGUuaW5zZXJ0SW50byk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7dmFyIG49Y1tjLmxlbmd0aC0xXTtpZihcInRvcFwiPT09ZS5pbnNlcnRBdCluP24ubmV4dFNpYmxpbmc/ci5pbnNlcnRCZWZvcmUodCxuLm5leHRTaWJsaW5nKTpyLmFwcGVuZENoaWxkKHQpOnIuaW5zZXJ0QmVmb3JlKHQsci5maXJzdENoaWxkKSxjLnB1c2godCk7ZWxzZSBpZihcImJvdHRvbVwiPT09ZS5pbnNlcnRBdClyLmFwcGVuZENoaWxkKHQpO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuaW5zZXJ0QXR8fCFlLmluc2VydEF0LmJlZm9yZSl0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTt2YXIgaT1hKGUuaW5zZXJ0QXQuYmVmb3JlLHIpO3IuaW5zZXJ0QmVmb3JlKHQsaSl9fWZ1bmN0aW9uIGYoZSl7aWYobnVsbD09PWUucGFyZW50Tm9kZSlyZXR1cm4hMTtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7dmFyIHQ9Yy5pbmRleE9mKGUpO3Q+PTAmJmMuc3BsaWNlKHQsMSl9ZnVuY3Rpb24gbShlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7aWYodm9pZCAwPT09ZS5hdHRycy50eXBlJiYoZS5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksdm9pZCAwPT09ZS5hdHRycy5ub25jZSl7dmFyIG49ZnVuY3Rpb24oKXswO3JldHVybiByLm5jfSgpO24mJihlLmF0dHJzLm5vbmNlPW4pfXJldHVybiBnKHQsZS5hdHRycykscChlLHQpLHR9ZnVuY3Rpb24gZyhlLHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKHIpe2Uuc2V0QXR0cmlidXRlKHIsdFtyXSl9KSl9ZnVuY3Rpb24gXyhlLHQpe3ZhciByLG4saSxvO2lmKHQudHJhbnNmb3JtJiZlLmNzcyl7aWYoIShvPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQudHJhbnNmb3JtP3QudHJhbnNmb3JtKGUuY3NzKTp0LnRyYW5zZm9ybS5kZWZhdWx0KGUuY3NzKSkpcmV0dXJuIGZ1bmN0aW9uKCl7fTtlLmNzcz1vfWlmKHQuc2luZ2xldG9uKXt2YXIgYT1sKys7cj1zfHwocz1tKHQpKSxuPXYuYmluZChudWxsLHIsYSwhMSksaT12LmJpbmQobnVsbCxyLGEsITApfWVsc2UgZS5zb3VyY2VNYXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYT8ocj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtyZXR1cm4gdm9pZCAwPT09ZS5hdHRycy50eXBlJiYoZS5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksZS5hdHRycy5yZWw9XCJzdHlsZXNoZWV0XCIsZyh0LGUuYXR0cnMpLHAoZSx0KSx0fSh0KSxuPWIuYmluZChudWxsLHIsdCksaT1mdW5jdGlvbigpe2Yociksci5ocmVmJiZVUkwucmV2b2tlT2JqZWN0VVJMKHIuaHJlZil9KToocj1tKHQpLG49eC5iaW5kKG51bGwsciksaT1mdW5jdGlvbigpe2Yocil9KTtyZXR1cm4gbihlKSxmdW5jdGlvbih0KXtpZih0KXtpZih0LmNzcz09PWUuY3NzJiZ0Lm1lZGlhPT09ZS5tZWRpYSYmdC5zb3VyY2VNYXA9PT1lLnNvdXJjZU1hcClyZXR1cm47bihlPXQpfWVsc2UgaSgpfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgREVCVUcmJkRFQlVHJiZcIm9iamVjdFwiIT10eXBlb2YgZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpOyh0PXR8fHt9KS5hdHRycz1cIm9iamVjdFwiPT10eXBlb2YgdC5hdHRycz90LmF0dHJzOnt9LHQuc2luZ2xldG9ufHxcImJvb2xlYW5cIj09dHlwZW9mIHQuc2luZ2xldG9ufHwodC5zaW5nbGV0b249aSgpKSx0Lmluc2VydEludG98fCh0Lmluc2VydEludG89XCJoZWFkXCIpLHQuaW5zZXJ0QXR8fCh0Lmluc2VydEF0PVwiYm90dG9tXCIpO3ZhciByPWQoZSx0KTtyZXR1cm4gaChyLHQpLGZ1bmN0aW9uKGUpe2Zvcih2YXIgaT1bXSxvPTA7bzxyLmxlbmd0aDtvKyspe3ZhciBhPXJbb107KHM9blthLmlkXSkucmVmcy0tLGkucHVzaChzKX1lJiZoKGQoZSx0KSx0KTtmb3Iobz0wO288aS5sZW5ndGg7bysrKXt2YXIgcztpZigwPT09KHM9aVtvXSkucmVmcyl7Zm9yKHZhciBsPTA7bDxzLnBhcnRzLmxlbmd0aDtsKyspcy5wYXJ0c1tsXSgpO2RlbGV0ZSBuW3MuaWRdfX19fTt2YXIgeT1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBmdW5jdGlvbih0LHIpe3JldHVybiBlW3RdPXIsZS5maWx0ZXIoQm9vbGVhbikuam9pbihcIlxcblwiKX19KCk7ZnVuY3Rpb24gdihlLHQscixuKXt2YXIgaT1yP1wiXCI6bi5jc3M7aWYoZS5zdHlsZVNoZWV0KWUuc3R5bGVTaGVldC5jc3NUZXh0PXkodCxpKTtlbHNle3ZhciBvPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGkpLGE9ZS5jaGlsZE5vZGVzO2FbdF0mJmUucmVtb3ZlQ2hpbGQoYVt0XSksYS5sZW5ndGg/ZS5pbnNlcnRCZWZvcmUobyxhW3RdKTplLmFwcGVuZENoaWxkKG8pfX1mdW5jdGlvbiB4KGUsdCl7dmFyIHI9dC5jc3Msbj10Lm1lZGlhO2lmKG4mJmUuc2V0QXR0cmlidXRlKFwibWVkaWFcIixuKSxlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9cjtlbHNle2Zvcig7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyKSl9fWZ1bmN0aW9uIGIoZSx0LHIpe3ZhciBuPXIuY3NzLGk9ci5zb3VyY2VNYXAsbz12b2lkIDA9PT10LmNvbnZlcnRUb0Fic29sdXRlVXJscyYmaTsodC5jb252ZXJ0VG9BYnNvbHV0ZVVybHN8fG8pJiYobj11KG4pKSxpJiYobis9XCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGkpKSkpK1wiICovXCIpO3ZhciBhPW5ldyBCbG9iKFtuXSx7dHlwZTpcInRleHQvY3NzXCJ9KSxzPWUuaHJlZjtlLmhyZWY9VVJMLmNyZWF0ZU9iamVjdFVSTChhKSxzJiZVUkwucmV2b2tlT2JqZWN0VVJMKHMpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7dmFyIHQscj1lLlN5bWJvbDtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByP3Iub2JzZXJ2YWJsZT90PXIub2JzZXJ2YWJsZToodD1yKFwib2JzZXJ2YWJsZVwiKSxyLm9ic2VydmFibGU9dCk6dD1cIkBAb2JzZXJ2YWJsZVwiLHR9ci5kKHQsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIG59KSl9LCxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigzOCksaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3Isbz1pP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzLGE9aT9TeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpOjYwMTA2LHM9aT9TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIik6NjAxMDcsbD1pP1N5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKTo2MDEwOCxjPWk/U3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpOjYwMTE0LHU9aT9TeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIik6NjAxMDksaD1pP1N5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpOjYwMTEwLGQ9aT9TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIik6NjAxMTIscD1pP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKTo2MDExMyxmPWk/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsbT1pP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2LGc9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3I7ZnVuY3Rpb24gXyhlKXtmb3IodmFyIHQ9XCJodHRwczovL3JlYWN0anMub3JnL2RvY3MvZXJyb3ItZGVjb2Rlci5odG1sP2ludmFyaWFudD1cIitlLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXQrPVwiJmFyZ3NbXT1cIitlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW3JdKTtyZXR1cm5cIk1pbmlmaWVkIFJlYWN0IGVycm9yICNcIitlK1wiOyB2aXNpdCBcIit0K1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIn12YXIgeT17aXNNb3VudGVkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVucXVldWVGb3JjZVVwZGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVJlcGxhY2VTdGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVNldFN0YXRlOmZ1bmN0aW9uKCl7fX0sdj17fTtmdW5jdGlvbiB4KGUsdCxyKXt0aGlzLnByb3BzPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5yZWZzPXYsdGhpcy51cGRhdGVyPXJ8fHl9ZnVuY3Rpb24gYigpe31mdW5jdGlvbiB3KGUsdCxyKXt0aGlzLnByb3BzPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5yZWZzPXYsdGhpcy51cGRhdGVyPXJ8fHl9eC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudD17fSx4LnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT1lKXRocm93IEVycm9yKF8oODUpKTt0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsZSx0LFwic2V0U3RhdGVcIil9LHgucHJvdG90eXBlLmZvcmNlVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcyxlLFwiZm9yY2VVcGRhdGVcIil9LGIucHJvdG90eXBlPXgucHJvdG90eXBlO3ZhciBUPXcucHJvdG90eXBlPW5ldyBiO1QuY29uc3RydWN0b3I9dyxuKFQseC5wcm90b3R5cGUpLFQuaXNQdXJlUmVhY3RDb21wb25lbnQ9ITA7dmFyIEU9e2N1cnJlbnQ6bnVsbH0sUz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEM9e2tleTohMCxyZWY6ITAsX19zZWxmOiEwLF9fc291cmNlOiEwfTtmdW5jdGlvbiBNKGUsdCxyKXt2YXIgbixpPXt9LGE9bnVsbCxzPW51bGw7aWYobnVsbCE9dClmb3IobiBpbiB2b2lkIDAhPT10LnJlZiYmKHM9dC5yZWYpLHZvaWQgMCE9PXQua2V5JiYoYT1cIlwiK3Qua2V5KSx0KVMuY2FsbCh0LG4pJiYhQy5oYXNPd25Qcm9wZXJ0eShuKSYmKGlbbl09dFtuXSk7dmFyIGw9YXJndW1lbnRzLmxlbmd0aC0yO2lmKDE9PT1sKWkuY2hpbGRyZW49cjtlbHNlIGlmKDE8bCl7Zm9yKHZhciBjPUFycmF5KGwpLHU9MDt1PGw7dSsrKWNbdV09YXJndW1lbnRzW3UrMl07aS5jaGlsZHJlbj1jfWlmKGUmJmUuZGVmYXVsdFByb3BzKWZvcihuIGluIGw9ZS5kZWZhdWx0UHJvcHMpdm9pZCAwPT09aVtuXSYmKGlbbl09bFtuXSk7cmV0dXJueyQkdHlwZW9mOm8sdHlwZTplLGtleTphLHJlZjpzLHByb3BzOmksX293bmVyOkUuY3VycmVudH19ZnVuY3Rpb24gayhlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJmUuJCR0eXBlb2Y9PT1vfXZhciBBPS9cXC8rL2csST1bXTtmdW5jdGlvbiBQKGUsdCxyLG4pe2lmKEkubGVuZ3RoKXt2YXIgaT1JLnBvcCgpO3JldHVybiBpLnJlc3VsdD1lLGkua2V5UHJlZml4PXQsaS5mdW5jPXIsaS5jb250ZXh0PW4saS5jb3VudD0wLGl9cmV0dXJue3Jlc3VsdDplLGtleVByZWZpeDp0LGZ1bmM6cixjb250ZXh0Om4sY291bnQ6MH19ZnVuY3Rpb24geihlKXtlLnJlc3VsdD1udWxsLGUua2V5UHJlZml4PW51bGwsZS5mdW5jPW51bGwsZS5jb250ZXh0PW51bGwsZS5jb3VudD0wLDEwPkkubGVuZ3RoJiZJLnB1c2goZSl9ZnVuY3Rpb24gRChlLHQscil7cmV0dXJuIG51bGw9PWU/MDpmdW5jdGlvbiBlKHQscixuLGkpe3ZhciBzPXR5cGVvZiB0O1widW5kZWZpbmVkXCIhPT1zJiZcImJvb2xlYW5cIiE9PXN8fCh0PW51bGwpO3ZhciBsPSExO2lmKG51bGw9PT10KWw9ITA7ZWxzZSBzd2l0Y2gocyl7Y2FzZVwic3RyaW5nXCI6Y2FzZVwibnVtYmVyXCI6bD0hMDticmVhaztjYXNlXCJvYmplY3RcIjpzd2l0Y2godC4kJHR5cGVvZil7Y2FzZSBvOmNhc2UgYTpsPSEwfX1pZihsKXJldHVybiBuKGksdCxcIlwiPT09cj9cIi5cIitSKHQsMCk6ciksMTtpZihsPTAscj1cIlwiPT09cj9cIi5cIjpyK1wiOlwiLEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciBjPTA7Yzx0Lmxlbmd0aDtjKyspe3ZhciB1PXIrUihzPXRbY10sYyk7bCs9ZShzLHUsbixpKX1lbHNlIGlmKG51bGw9PT10fHxcIm9iamVjdFwiIT10eXBlb2YgdD91PW51bGw6dT1cImZ1bmN0aW9uXCI9PXR5cGVvZih1PWcmJnRbZ118fHRbXCJAQGl0ZXJhdG9yXCJdKT91Om51bGwsXCJmdW5jdGlvblwiPT10eXBlb2YgdSlmb3IodD11LmNhbGwodCksYz0wOyEocz10Lm5leHQoKSkuZG9uZTspbCs9ZShzPXMudmFsdWUsdT1yK1IocyxjKyspLG4saSk7ZWxzZSBpZihcIm9iamVjdFwiPT09cyl0aHJvdyBuPVwiXCIrdCxFcnJvcihfKDMxLFwiW29iamVjdCBPYmplY3RdXCI9PT1uP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXModCkuam9pbihcIiwgXCIpK1wifVwiOm4sXCJcIikpO3JldHVybiBsfShlLFwiXCIsdCxyKX1mdW5jdGlvbiBSKGUsdCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZudWxsIT1lLmtleT9mdW5jdGlvbihlKXt2YXIgdD17XCI9XCI6XCI9MFwiLFwiOlwiOlwiPTJcIn07cmV0dXJuXCIkXCIrKFwiXCIrZSkucmVwbGFjZSgvWz06XS9nLChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKX0oZS5rZXkpOnQudG9TdHJpbmcoMzYpfWZ1bmN0aW9uIEwoZSx0KXtlLmZ1bmMuY2FsbChlLmNvbnRleHQsdCxlLmNvdW50KyspfWZ1bmN0aW9uIE8oZSx0LHIpe3ZhciBuPWUucmVzdWx0LGk9ZS5rZXlQcmVmaXg7ZT1lLmZ1bmMuY2FsbChlLmNvbnRleHQsdCxlLmNvdW50KyspLEFycmF5LmlzQXJyYXkoZSk/QihlLG4sciwoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSk6bnVsbCE9ZSYmKGsoZSkmJihlPWZ1bmN0aW9uKGUsdCl7cmV0dXJueyQkdHlwZW9mOm8sdHlwZTplLnR5cGUsa2V5OnQscmVmOmUucmVmLHByb3BzOmUucHJvcHMsX293bmVyOmUuX293bmVyfX0oZSxpKyghZS5rZXl8fHQmJnQua2V5PT09ZS5rZXk/XCJcIjooXCJcIitlLmtleSkucmVwbGFjZShBLFwiJCYvXCIpK1wiL1wiKStyKSksbi5wdXNoKGUpKX1mdW5jdGlvbiBCKGUsdCxyLG4saSl7dmFyIG89XCJcIjtudWxsIT1yJiYobz0oXCJcIityKS5yZXBsYWNlKEEsXCIkJi9cIikrXCIvXCIpLEQoZSxPLHQ9UCh0LG8sbixpKSkseih0KX12YXIgRj17Y3VycmVudDpudWxsfTtmdW5jdGlvbiBqKCl7dmFyIGU9Ri5jdXJyZW50O2lmKG51bGw9PT1lKXRocm93IEVycm9yKF8oMzIxKSk7cmV0dXJuIGV9dmFyIFU9e1JlYWN0Q3VycmVudERpc3BhdGNoZXI6RixSZWFjdEN1cnJlbnRCYXRjaENvbmZpZzp7c3VzcGVuc2U6bnVsbH0sUmVhY3RDdXJyZW50T3duZXI6RSxJc1NvbWVSZW5kZXJlckFjdGluZzp7Y3VycmVudDohMX0sYXNzaWduOm59O3QuQ2hpbGRyZW49e21hcDpmdW5jdGlvbihlLHQscil7aWYobnVsbD09ZSlyZXR1cm4gZTt2YXIgbj1bXTtyZXR1cm4gQihlLG4sbnVsbCx0LHIpLG59LGZvckVhY2g6ZnVuY3Rpb24oZSx0LHIpe2lmKG51bGw9PWUpcmV0dXJuIGU7RChlLEwsdD1QKG51bGwsbnVsbCx0LHIpKSx6KHQpfSxjb3VudDpmdW5jdGlvbihlKXtyZXR1cm4gRChlLChmdW5jdGlvbigpe3JldHVybiBudWxsfSksbnVsbCl9LHRvQXJyYXk6ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIEIoZSx0LG51bGwsKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLHR9LG9ubHk6ZnVuY3Rpb24oZSl7aWYoIWsoZSkpdGhyb3cgRXJyb3IoXygxNDMpKTtyZXR1cm4gZX19LHQuQ29tcG9uZW50PXgsdC5GcmFnbWVudD1zLHQuUHJvZmlsZXI9Yyx0LlB1cmVDb21wb25lbnQ9dyx0LlN0cmljdE1vZGU9bCx0LlN1c3BlbnNlPXAsdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRD1VLHQuY2xvbmVFbGVtZW50PWZ1bmN0aW9uKGUsdCxyKXtpZihudWxsPT1lKXRocm93IEVycm9yKF8oMjY3LGUpKTt2YXIgaT1uKHt9LGUucHJvcHMpLGE9ZS5rZXkscz1lLnJlZixsPWUuX293bmVyO2lmKG51bGwhPXQpe2lmKHZvaWQgMCE9PXQucmVmJiYocz10LnJlZixsPUUuY3VycmVudCksdm9pZCAwIT09dC5rZXkmJihhPVwiXCIrdC5rZXkpLGUudHlwZSYmZS50eXBlLmRlZmF1bHRQcm9wcyl2YXIgYz1lLnR5cGUuZGVmYXVsdFByb3BzO2Zvcih1IGluIHQpUy5jYWxsKHQsdSkmJiFDLmhhc093blByb3BlcnR5KHUpJiYoaVt1XT12b2lkIDA9PT10W3VdJiZ2b2lkIDAhPT1jP2NbdV06dFt1XSl9dmFyIHU9YXJndW1lbnRzLmxlbmd0aC0yO2lmKDE9PT11KWkuY2hpbGRyZW49cjtlbHNlIGlmKDE8dSl7Yz1BcnJheSh1KTtmb3IodmFyIGg9MDtoPHU7aCsrKWNbaF09YXJndW1lbnRzW2grMl07aS5jaGlsZHJlbj1jfXJldHVybnskJHR5cGVvZjpvLHR5cGU6ZS50eXBlLGtleTphLHJlZjpzLHByb3BzOmksX293bmVyOmx9fSx0LmNyZWF0ZUNvbnRleHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksKGU9eyQkdHlwZW9mOmgsX2NhbGN1bGF0ZUNoYW5nZWRCaXRzOnQsX2N1cnJlbnRWYWx1ZTplLF9jdXJyZW50VmFsdWUyOmUsX3RocmVhZENvdW50OjAsUHJvdmlkZXI6bnVsbCxDb25zdW1lcjpudWxsfSkuUHJvdmlkZXI9eyQkdHlwZW9mOnUsX2NvbnRleHQ6ZX0sZS5Db25zdW1lcj1lfSx0LmNyZWF0ZUVsZW1lbnQ9TSx0LmNyZWF0ZUZhY3Rvcnk9ZnVuY3Rpb24oZSl7dmFyIHQ9TS5iaW5kKG51bGwsZSk7cmV0dXJuIHQudHlwZT1lLHR9LHQuY3JlYXRlUmVmPWZ1bmN0aW9uKCl7cmV0dXJue2N1cnJlbnQ6bnVsbH19LHQuZm9yd2FyZFJlZj1mdW5jdGlvbihlKXtyZXR1cm57JCR0eXBlb2Y6ZCxyZW5kZXI6ZX19LHQuaXNWYWxpZEVsZW1lbnQ9ayx0Lmxhenk9ZnVuY3Rpb24oZSl7cmV0dXJueyQkdHlwZW9mOm0sX2N0b3I6ZSxfc3RhdHVzOi0xLF9yZXN1bHQ6bnVsbH19LHQubWVtbz1mdW5jdGlvbihlLHQpe3JldHVybnskJHR5cGVvZjpmLHR5cGU6ZSxjb21wYXJlOnZvaWQgMD09PXQ/bnVsbDp0fX0sdC51c2VDYWxsYmFjaz1mdW5jdGlvbihlLHQpe3JldHVybiBqKCkudXNlQ2FsbGJhY2soZSx0KX0sdC51c2VDb250ZXh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGooKS51c2VDb250ZXh0KGUsdCl9LHQudXNlRGVidWdWYWx1ZT1mdW5jdGlvbigpe30sdC51c2VFZmZlY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaigpLnVzZUVmZmVjdChlLHQpfSx0LnVzZUltcGVyYXRpdmVIYW5kbGU9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBqKCkudXNlSW1wZXJhdGl2ZUhhbmRsZShlLHQscil9LHQudXNlTGF5b3V0RWZmZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGooKS51c2VMYXlvdXRFZmZlY3QoZSx0KX0sdC51c2VNZW1vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGooKS51c2VNZW1vKGUsdCl9LHQudXNlUmVkdWNlcj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGooKS51c2VSZWR1Y2VyKGUsdCxyKX0sdC51c2VSZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIGooKS51c2VSZWYoZSl9LHQudXNlU3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGooKS51c2VTdGF0ZShlKX0sdC52ZXJzaW9uPVwiMTYuMTQuMFwifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigxKSxpPXIoMzgpLG89cig3MSk7ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9XCJodHRwczovL3JlYWN0anMub3JnL2RvY3MvZXJyb3ItZGVjb2Rlci5odG1sP2ludmFyaWFudD1cIitlLHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXQrPVwiJmFyZ3NbXT1cIitlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW3JdKTtyZXR1cm5cIk1pbmlmaWVkIFJlYWN0IGVycm9yICNcIitlK1wiOyB2aXNpdCBcIit0K1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIn1pZighbil0aHJvdyBFcnJvcihhKDIyNykpO2Z1bmN0aW9uIHMoZSx0LHIsbixpLG8sYSxzLGwpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKTt0cnl7dC5hcHBseShyLGMpfWNhdGNoKGUpe3RoaXMub25FcnJvcihlKX19dmFyIGw9ITEsYz1udWxsLHU9ITEsaD1udWxsLGQ9e29uRXJyb3I6ZnVuY3Rpb24oZSl7bD0hMCxjPWV9fTtmdW5jdGlvbiBwKGUsdCxyLG4saSxvLGEsdSxoKXtsPSExLGM9bnVsbCxzLmFwcGx5KGQsYXJndW1lbnRzKX12YXIgZj1udWxsLG09bnVsbCxnPW51bGw7ZnVuY3Rpb24gXyhlLHQscil7dmFyIG49ZS50eXBlfHxcInVua25vd24tZXZlbnRcIjtlLmN1cnJlbnRUYXJnZXQ9ZyhyKSxmdW5jdGlvbihlLHQscixuLGksbyxzLGQsZil7aWYocC5hcHBseSh0aGlzLGFyZ3VtZW50cyksbCl7aWYoIWwpdGhyb3cgRXJyb3IoYSgxOTgpKTt2YXIgbT1jO2w9ITEsYz1udWxsLHV8fCh1PSEwLGg9bSl9fShuLHQsdm9pZCAwLGUpLGUuY3VycmVudFRhcmdldD1udWxsfXZhciB5PW51bGwsdj17fTtmdW5jdGlvbiB4KCl7aWYoeSlmb3IodmFyIGUgaW4gdil7dmFyIHQ9dltlXSxyPXkuaW5kZXhPZihlKTtpZighKC0xPHIpKXRocm93IEVycm9yKGEoOTYsZSkpO2lmKCF3W3JdKXtpZighdC5leHRyYWN0RXZlbnRzKXRocm93IEVycm9yKGEoOTcsZSkpO2Zvcih2YXIgbiBpbiB3W3JdPXQscj10LmV2ZW50VHlwZXMpe3ZhciBpPXZvaWQgMCxvPXJbbl0scz10LGw9bjtpZihULmhhc093blByb3BlcnR5KGwpKXRocm93IEVycm9yKGEoOTksbCkpO1RbbF09bzt2YXIgYz1vLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzO2lmKGMpe2ZvcihpIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShpKSYmYihjW2ldLHMsbCk7aT0hMH1lbHNlIG8ucmVnaXN0cmF0aW9uTmFtZT8oYihvLnJlZ2lzdHJhdGlvbk5hbWUscyxsKSxpPSEwKTppPSExO2lmKCFpKXRocm93IEVycm9yKGEoOTgsbixlKSl9fX19ZnVuY3Rpb24gYihlLHQscil7aWYoRVtlXSl0aHJvdyBFcnJvcihhKDEwMCxlKSk7RVtlXT10LFNbZV09dC5ldmVudFR5cGVzW3JdLmRlcGVuZGVuY2llc312YXIgdz1bXSxUPXt9LEU9e30sUz17fTtmdW5jdGlvbiBDKGUpe3ZhciB0LHI9ITE7Zm9yKHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpKXt2YXIgbj1lW3RdO2lmKCF2Lmhhc093blByb3BlcnR5KHQpfHx2W3RdIT09bil7aWYodlt0XSl0aHJvdyBFcnJvcihhKDEwMix0KSk7dlt0XT1uLHI9ITB9fXImJngoKX12YXIgTT0hKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fHZvaWQgMD09PXdpbmRvdy5kb2N1bWVudHx8dm9pZCAwPT09d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpLGs9bnVsbCxBPW51bGwsST1udWxsO2Z1bmN0aW9uIFAoZSl7aWYoZT1tKGUpKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBrKXRocm93IEVycm9yKGEoMjgwKSk7dmFyIHQ9ZS5zdGF0ZU5vZGU7dCYmKHQ9Zih0KSxrKGUuc3RhdGVOb2RlLGUudHlwZSx0KSl9fWZ1bmN0aW9uIHooZSl7QT9JP0kucHVzaChlKTpJPVtlXTpBPWV9ZnVuY3Rpb24gRCgpe2lmKEEpe3ZhciBlPUEsdD1JO2lmKEk9QT1udWxsLFAoZSksdClmb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKVAodFtlXSl9fWZ1bmN0aW9uIFIoZSx0KXtyZXR1cm4gZSh0KX1mdW5jdGlvbiBMKGUsdCxyLG4saSl7cmV0dXJuIGUodCxyLG4saSl9ZnVuY3Rpb24gTygpe312YXIgQj1SLEY9ITEsaj0hMTtmdW5jdGlvbiBVKCl7bnVsbD09PUEmJm51bGw9PT1JfHwoTygpLEQoKSl9ZnVuY3Rpb24gTihlLHQscil7aWYoailyZXR1cm4gZSh0LHIpO2o9ITA7dHJ5e3JldHVybiBCKGUsdCxyKX1maW5hbGx5e2o9ITEsVSgpfX12YXIgVj0vXls6QS1aX2EtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF1bOkEtWl9hLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRcXC0uMC05XFx1MDBCN1xcdTAzMDAtXFx1MDM2RlxcdTIwM0YtXFx1MjA0MF0qJC8sRz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHE9e30sWj17fTtmdW5jdGlvbiAkKGUsdCxyLG4saSxvKXt0aGlzLmFjY2VwdHNCb29sZWFucz0yPT09dHx8Mz09PXR8fDQ9PT10LHRoaXMuYXR0cmlidXRlTmFtZT1uLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPWksdGhpcy5tdXN0VXNlUHJvcGVydHk9cix0aGlzLnByb3BlcnR5TmFtZT1lLHRoaXMudHlwZT10LHRoaXMuc2FuaXRpemVVUkw9b312YXIgVz17fTtcImNoaWxkcmVuIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIGRlZmF1bHRWYWx1ZSBkZWZhdWx0Q2hlY2tlZCBpbm5lckhUTUwgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZyBzdHlsZVwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXtXW2VdPW5ldyAkKGUsMCwhMSxlLG51bGwsITEpfSkpLFtbXCJhY2NlcHRDaGFyc2V0XCIsXCJhY2NlcHQtY2hhcnNldFwiXSxbXCJjbGFzc05hbWVcIixcImNsYXNzXCJdLFtcImh0bWxGb3JcIixcImZvclwiXSxbXCJodHRwRXF1aXZcIixcImh0dHAtZXF1aXZcIl1dLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF07V1t0XT1uZXcgJCh0LDEsITEsZVsxXSxudWxsLCExKX0pKSxbXCJjb250ZW50RWRpdGFibGVcIixcImRyYWdnYWJsZVwiLFwic3BlbGxDaGVja1wiLFwidmFsdWVcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7V1tlXT1uZXcgJChlLDIsITEsZS50b0xvd2VyQ2FzZSgpLG51bGwsITEpfSkpLFtcImF1dG9SZXZlcnNlXCIsXCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCIsXCJmb2N1c2FibGVcIixcInByZXNlcnZlQWxwaGFcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7V1tlXT1uZXcgJChlLDIsITEsZSxudWxsLCExKX0pKSxcImFsbG93RnVsbFNjcmVlbiBhc3luYyBhdXRvRm9jdXMgYXV0b1BsYXkgY29udHJvbHMgZGVmYXVsdCBkZWZlciBkaXNhYmxlZCBkaXNhYmxlUGljdHVyZUluUGljdHVyZSBmb3JtTm9WYWxpZGF0ZSBoaWRkZW4gbG9vcCBub01vZHVsZSBub1ZhbGlkYXRlIG9wZW4gcGxheXNJbmxpbmUgcmVhZE9ubHkgcmVxdWlyZWQgcmV2ZXJzZWQgc2NvcGVkIHNlYW1sZXNzIGl0ZW1TY29wZVwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXtXW2VdPW5ldyAkKGUsMywhMSxlLnRvTG93ZXJDYXNlKCksbnVsbCwhMSl9KSksW1wiY2hlY2tlZFwiLFwibXVsdGlwbGVcIixcIm11dGVkXCIsXCJzZWxlY3RlZFwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtXW2VdPW5ldyAkKGUsMywhMCxlLG51bGwsITEpfSkpLFtcImNhcHR1cmVcIixcImRvd25sb2FkXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe1dbZV09bmV3ICQoZSw0LCExLGUsbnVsbCwhMSl9KSksW1wiY29sc1wiLFwicm93c1wiLFwic2l6ZVwiLFwic3BhblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXtXW2VdPW5ldyAkKGUsNiwhMSxlLG51bGwsITEpfSkpLFtcInJvd1NwYW5cIixcInN0YXJ0XCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe1dbZV09bmV3ICQoZSw1LCExLGUudG9Mb3dlckNhc2UoKSxudWxsLCExKX0pKTt2YXIgWD0vW1xcLTpdKFthLXpdKS9nO2Z1bmN0aW9uIEgoZSl7cmV0dXJuIGVbMV0udG9VcHBlckNhc2UoKX1cImFjY2VudC1oZWlnaHQgYWxpZ25tZW50LWJhc2VsaW5lIGFyYWJpYy1mb3JtIGJhc2VsaW5lLXNoaWZ0IGNhcC1oZWlnaHQgY2xpcC1wYXRoIGNsaXAtcnVsZSBjb2xvci1pbnRlcnBvbGF0aW9uIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyBjb2xvci1wcm9maWxlIGNvbG9yLXJlbmRlcmluZyBkb21pbmFudC1iYXNlbGluZSBlbmFibGUtYmFja2dyb3VuZCBmaWxsLW9wYWNpdHkgZmlsbC1ydWxlIGZsb29kLWNvbG9yIGZsb29kLW9wYWNpdHkgZm9udC1mYW1pbHkgZm9udC1zaXplIGZvbnQtc2l6ZS1hZGp1c3QgZm9udC1zdHJldGNoIGZvbnQtc3R5bGUgZm9udC12YXJpYW50IGZvbnQtd2VpZ2h0IGdseXBoLW5hbWUgZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCBnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCBob3Jpei1hZHYteCBob3Jpei1vcmlnaW4teCBpbWFnZS1yZW5kZXJpbmcgbGV0dGVyLXNwYWNpbmcgbGlnaHRpbmctY29sb3IgbWFya2VyLWVuZCBtYXJrZXItbWlkIG1hcmtlci1zdGFydCBvdmVybGluZS1wb3NpdGlvbiBvdmVybGluZS10aGlja25lc3MgcGFpbnQtb3JkZXIgcGFub3NlLTEgcG9pbnRlci1ldmVudHMgcmVuZGVyaW5nLWludGVudCBzaGFwZS1yZW5kZXJpbmcgc3RvcC1jb2xvciBzdG9wLW9wYWNpdHkgc3RyaWtldGhyb3VnaC1wb3NpdGlvbiBzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyBzdHJva2UtZGFzaGFycmF5IHN0cm9rZS1kYXNob2Zmc2V0IHN0cm9rZS1saW5lY2FwIHN0cm9rZS1saW5lam9pbiBzdHJva2UtbWl0ZXJsaW1pdCBzdHJva2Utb3BhY2l0eSBzdHJva2Utd2lkdGggdGV4dC1hbmNob3IgdGV4dC1kZWNvcmF0aW9uIHRleHQtcmVuZGVyaW5nIHVuZGVybGluZS1wb3NpdGlvbiB1bmRlcmxpbmUtdGhpY2tuZXNzIHVuaWNvZGUtYmlkaSB1bmljb2RlLXJhbmdlIHVuaXRzLXBlci1lbSB2LWFscGhhYmV0aWMgdi1oYW5naW5nIHYtaWRlb2dyYXBoaWMgdi1tYXRoZW1hdGljYWwgdmVjdG9yLWVmZmVjdCB2ZXJ0LWFkdi15IHZlcnQtb3JpZ2luLXggdmVydC1vcmlnaW4teSB3b3JkLXNwYWNpbmcgd3JpdGluZy1tb2RlIHhtbG5zOnhsaW5rIHgtaGVpZ2h0XCIuc3BsaXQoXCIgXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShYLEgpO1dbdF09bmV3ICQodCwxLCExLGUsbnVsbCwhMSl9KSksXCJ4bGluazphY3R1YXRlIHhsaW5rOmFyY3JvbGUgeGxpbms6cm9sZSB4bGluazpzaG93IHhsaW5rOnRpdGxlIHhsaW5rOnR5cGVcIi5zcGxpdChcIiBcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKFgsSCk7V1t0XT1uZXcgJCh0LDEsITEsZSxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwhMSl9KSksW1wieG1sOmJhc2VcIixcInhtbDpsYW5nXCIsXCJ4bWw6c3BhY2VcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKFgsSCk7V1t0XT1uZXcgJCh0LDEsITEsZSxcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLCExKX0pKSxbXCJ0YWJJbmRleFwiLFwiY3Jvc3NPcmlnaW5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7V1tlXT1uZXcgJChlLDEsITEsZS50b0xvd2VyQ2FzZSgpLG51bGwsITEpfSkpLFcueGxpbmtIcmVmPW5ldyAkKFwieGxpbmtIcmVmXCIsMSwhMSxcInhsaW5rOmhyZWZcIixcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwhMCksW1wic3JjXCIsXCJocmVmXCIsXCJhY3Rpb25cIixcImZvcm1BY3Rpb25cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7V1tlXT1uZXcgJChlLDEsITEsZS50b0xvd2VyQ2FzZSgpLG51bGwsITApfSkpO3ZhciBZPW4uX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7ZnVuY3Rpb24gSyhlLHQscixuKXt2YXIgaT1XLmhhc093blByb3BlcnR5KHQpP1dbdF06bnVsbDsobnVsbCE9PWk/MD09PWkudHlwZTohbiYmKDI8dC5sZW5ndGgmJihcIm9cIj09PXRbMF18fFwiT1wiPT09dFswXSkmJihcIm5cIj09PXRbMV18fFwiTlwiPT09dFsxXSkpKXx8KGZ1bmN0aW9uKGUsdCxyLG4pe2lmKG51bGw9PXR8fGZ1bmN0aW9uKGUsdCxyLG4pe2lmKG51bGwhPT1yJiYwPT09ci50eXBlKXJldHVybiExO3N3aXRjaCh0eXBlb2YgdCl7Y2FzZVwiZnVuY3Rpb25cIjpjYXNlXCJzeW1ib2xcIjpyZXR1cm4hMDtjYXNlXCJib29sZWFuXCI6cmV0dXJuIW4mJihudWxsIT09cj8hci5hY2NlcHRzQm9vbGVhbnM6XCJkYXRhLVwiIT09KGU9ZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsNSkpJiZcImFyaWEtXCIhPT1lKTtkZWZhdWx0OnJldHVybiExfX0oZSx0LHIsbikpcmV0dXJuITA7aWYobilyZXR1cm4hMTtpZihudWxsIT09cilzd2l0Y2goci50eXBlKXtjYXNlIDM6cmV0dXJuIXQ7Y2FzZSA0OnJldHVybiExPT09dDtjYXNlIDU6cmV0dXJuIGlzTmFOKHQpO2Nhc2UgNjpyZXR1cm4gaXNOYU4odCl8fDE+dH1yZXR1cm4hMX0odCxyLGksbikmJihyPW51bGwpLG58fG51bGw9PT1pP2Z1bmN0aW9uKGUpe3JldHVybiEhRy5jYWxsKFosZSl8fCFHLmNhbGwocSxlKSYmKFYudGVzdChlKT9aW2VdPSEwOihxW2VdPSEwLCExKSl9KHQpJiYobnVsbD09PXI/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6ZS5zZXRBdHRyaWJ1dGUodCxcIlwiK3IpKTppLm11c3RVc2VQcm9wZXJ0eT9lW2kucHJvcGVydHlOYW1lXT1udWxsPT09cj8zIT09aS50eXBlJiZcIlwiOnI6KHQ9aS5hdHRyaWJ1dGVOYW1lLG49aS5hdHRyaWJ1dGVOYW1lc3BhY2UsbnVsbD09PXI/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6KHI9Mz09PShpPWkudHlwZSl8fDQ9PT1pJiYhMD09PXI/XCJcIjpcIlwiK3Isbj9lLnNldEF0dHJpYnV0ZU5TKG4sdCxyKTplLnNldEF0dHJpYnV0ZSh0LHIpKSkpfVkuaGFzT3duUHJvcGVydHkoXCJSZWFjdEN1cnJlbnREaXNwYXRjaGVyXCIpfHwoWS5SZWFjdEN1cnJlbnREaXNwYXRjaGVyPXtjdXJyZW50Om51bGx9KSxZLmhhc093blByb3BlcnR5KFwiUmVhY3RDdXJyZW50QmF0Y2hDb25maWdcIil8fChZLlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnPXtzdXNwZW5zZTpudWxsfSk7dmFyIEo9L14oLiopW1xcXFxcXC9dLyxRPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmZvcixlZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzLHRlPVE/U3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKTo2MDEwNixyZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKTo2MDEwNyxuZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKTo2MDEwOCxpZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTo2MDExNCxvZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTo2MDEwOSxhZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpOjYwMTEwLHNlPVE/U3ltYm9sLmZvcihcInJlYWN0LmNvbmN1cnJlbnRfbW9kZVwiKTo2MDExMSxsZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKTo2MDExMixjZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKTo2MDExMyx1ZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpOjYwMTIwLGhlPVE/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsZGU9UT9TeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKTo2MDExNixwZT1RP1N5bWJvbC5mb3IoXCJyZWFjdC5ibG9ja1wiKTo2MDEyMSxmZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcjtmdW5jdGlvbiBtZShlKXtyZXR1cm4gbnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlP251bGw6XCJmdW5jdGlvblwiPT10eXBlb2YoZT1mZSYmZVtmZV18fGVbXCJAQGl0ZXJhdG9yXCJdKT9lOm51bGx9ZnVuY3Rpb24gZ2UoZSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBlLmRpc3BsYXlOYW1lfHxlLm5hbWV8fG51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGU7c3dpdGNoKGUpe2Nhc2UgcmU6cmV0dXJuXCJGcmFnbWVudFwiO2Nhc2UgdGU6cmV0dXJuXCJQb3J0YWxcIjtjYXNlIGllOnJldHVyblwiUHJvZmlsZXJcIjtjYXNlIG5lOnJldHVyblwiU3RyaWN0TW9kZVwiO2Nhc2UgY2U6cmV0dXJuXCJTdXNwZW5zZVwiO2Nhc2UgdWU6cmV0dXJuXCJTdXNwZW5zZUxpc3RcIn1pZihcIm9iamVjdFwiPT10eXBlb2YgZSlzd2l0Y2goZS4kJHR5cGVvZil7Y2FzZSBhZTpyZXR1cm5cIkNvbnRleHQuQ29uc3VtZXJcIjtjYXNlIG9lOnJldHVyblwiQ29udGV4dC5Qcm92aWRlclwiO2Nhc2UgbGU6dmFyIHQ9ZS5yZW5kZXI7cmV0dXJuIHQ9dC5kaXNwbGF5TmFtZXx8dC5uYW1lfHxcIlwiLGUuZGlzcGxheU5hbWV8fChcIlwiIT09dD9cIkZvcndhcmRSZWYoXCIrdCtcIilcIjpcIkZvcndhcmRSZWZcIik7Y2FzZSBoZTpyZXR1cm4gZ2UoZS50eXBlKTtjYXNlIHBlOnJldHVybiBnZShlLnJlbmRlcik7Y2FzZSBkZTppZihlPTE9PT1lLl9zdGF0dXM/ZS5fcmVzdWx0Om51bGwpcmV0dXJuIGdlKGUpfXJldHVybiBudWxsfWZ1bmN0aW9uIF9lKGUpe3ZhciB0PVwiXCI7ZG97ZTpzd2l0Y2goZS50YWcpe2Nhc2UgMzpjYXNlIDQ6Y2FzZSA2OmNhc2UgNzpjYXNlIDEwOmNhc2UgOTp2YXIgcj1cIlwiO2JyZWFrIGU7ZGVmYXVsdDp2YXIgbj1lLl9kZWJ1Z093bmVyLGk9ZS5fZGVidWdTb3VyY2Usbz1nZShlLnR5cGUpO3I9bnVsbCxuJiYocj1nZShuLnR5cGUpKSxuPW8sbz1cIlwiLGk/bz1cIiAoYXQgXCIraS5maWxlTmFtZS5yZXBsYWNlKEosXCJcIikrXCI6XCIraS5saW5lTnVtYmVyK1wiKVwiOnImJihvPVwiIChjcmVhdGVkIGJ5IFwiK3IrXCIpXCIpLHI9XCJcXG4gICAgaW4gXCIrKG58fFwiVW5rbm93blwiKStvfXQrPXIsZT1lLnJldHVybn13aGlsZShlKTtyZXR1cm4gdH1mdW5jdGlvbiB5ZShlKXtzd2l0Y2godHlwZW9mIGUpe2Nhc2VcImJvb2xlYW5cIjpjYXNlXCJudW1iZXJcIjpjYXNlXCJvYmplY3RcIjpjYXNlXCJzdHJpbmdcIjpjYXNlXCJ1bmRlZmluZWRcIjpyZXR1cm4gZTtkZWZhdWx0OnJldHVyblwiXCJ9fWZ1bmN0aW9uIHZlKGUpe3ZhciB0PWUudHlwZTtyZXR1cm4oZT1lLm5vZGVOYW1lKSYmXCJpbnB1dFwiPT09ZS50b0xvd2VyQ2FzZSgpJiYoXCJjaGVja2JveFwiPT09dHx8XCJyYWRpb1wiPT09dCl9ZnVuY3Rpb24geGUoZSl7ZS5fdmFsdWVUcmFja2VyfHwoZS5fdmFsdWVUcmFja2VyPWZ1bmN0aW9uKGUpe3ZhciB0PXZlKGUpP1wiY2hlY2tlZFwiOlwidmFsdWVcIixyPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsdCksbj1cIlwiK2VbdF07aWYoIWUuaGFzT3duUHJvcGVydHkodCkmJnZvaWQgMCE9PXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIuZ2V0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByLnNldCl7dmFyIGk9ci5nZXQsbz1yLnNldDtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmNhbGwodGhpcyl9LHNldDpmdW5jdGlvbihlKXtuPVwiXCIrZSxvLmNhbGwodGhpcyxlKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOnIuZW51bWVyYWJsZX0pLHtnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiBufSxzZXRWYWx1ZTpmdW5jdGlvbihlKXtuPVwiXCIrZX0sc3RvcFRyYWNraW5nOmZ1bmN0aW9uKCl7ZS5fdmFsdWVUcmFja2VyPW51bGwsZGVsZXRlIGVbdF19fX19KGUpKX1mdW5jdGlvbiBiZShlKXtpZighZSlyZXR1cm4hMTt2YXIgdD1lLl92YWx1ZVRyYWNrZXI7aWYoIXQpcmV0dXJuITA7dmFyIHI9dC5nZXRWYWx1ZSgpLG49XCJcIjtyZXR1cm4gZSYmKG49dmUoZSk/ZS5jaGVja2VkP1widHJ1ZVwiOlwiZmFsc2VcIjplLnZhbHVlKSwoZT1uKSE9PXImJih0LnNldFZhbHVlKGUpLCEwKX1mdW5jdGlvbiB3ZShlLHQpe3ZhciByPXQuY2hlY2tlZDtyZXR1cm4gaSh7fSx0LHtkZWZhdWx0Q2hlY2tlZDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMCx2YWx1ZTp2b2lkIDAsY2hlY2tlZDpudWxsIT1yP3I6ZS5fd3JhcHBlclN0YXRlLmluaXRpYWxDaGVja2VkfSl9ZnVuY3Rpb24gVGUoZSx0KXt2YXIgcj1udWxsPT10LmRlZmF1bHRWYWx1ZT9cIlwiOnQuZGVmYXVsdFZhbHVlLG49bnVsbCE9dC5jaGVja2VkP3QuY2hlY2tlZDp0LmRlZmF1bHRDaGVja2VkO3I9eWUobnVsbCE9dC52YWx1ZT90LnZhbHVlOnIpLGUuX3dyYXBwZXJTdGF0ZT17aW5pdGlhbENoZWNrZWQ6bixpbml0aWFsVmFsdWU6cixjb250cm9sbGVkOlwiY2hlY2tib3hcIj09PXQudHlwZXx8XCJyYWRpb1wiPT09dC50eXBlP251bGwhPXQuY2hlY2tlZDpudWxsIT10LnZhbHVlfX1mdW5jdGlvbiBFZShlLHQpe251bGwhPSh0PXQuY2hlY2tlZCkmJksoZSxcImNoZWNrZWRcIix0LCExKX1mdW5jdGlvbiBTZShlLHQpe0VlKGUsdCk7dmFyIHI9eWUodC52YWx1ZSksbj10LnR5cGU7aWYobnVsbCE9cilcIm51bWJlclwiPT09bj8oMD09PXImJlwiXCI9PT1lLnZhbHVlfHxlLnZhbHVlIT1yKSYmKGUudmFsdWU9XCJcIityKTplLnZhbHVlIT09XCJcIityJiYoZS52YWx1ZT1cIlwiK3IpO2Vsc2UgaWYoXCJzdWJtaXRcIj09PW58fFwicmVzZXRcIj09PW4pcmV0dXJuIHZvaWQgZS5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTt0Lmhhc093blByb3BlcnR5KFwidmFsdWVcIik/TWUoZSx0LnR5cGUscik6dC5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSYmTWUoZSx0LnR5cGUseWUodC5kZWZhdWx0VmFsdWUpKSxudWxsPT10LmNoZWNrZWQmJm51bGwhPXQuZGVmYXVsdENoZWNrZWQmJihlLmRlZmF1bHRDaGVja2VkPSEhdC5kZWZhdWx0Q2hlY2tlZCl9ZnVuY3Rpb24gQ2UoZSx0LHIpe2lmKHQuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKXx8dC5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSl7dmFyIG49dC50eXBlO2lmKCEoXCJzdWJtaXRcIiE9PW4mJlwicmVzZXRcIiE9PW58fHZvaWQgMCE9PXQudmFsdWUmJm51bGwhPT10LnZhbHVlKSlyZXR1cm47dD1cIlwiK2UuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUscnx8dD09PWUudmFsdWV8fChlLnZhbHVlPXQpLGUuZGVmYXVsdFZhbHVlPXR9XCJcIiE9PShyPWUubmFtZSkmJihlLm5hbWU9XCJcIiksZS5kZWZhdWx0Q2hlY2tlZD0hIWUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsQ2hlY2tlZCxcIlwiIT09ciYmKGUubmFtZT1yKX1mdW5jdGlvbiBNZShlLHQscil7XCJudW1iZXJcIj09PXQmJmUub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZXx8KG51bGw9PXI/ZS5kZWZhdWx0VmFsdWU9XCJcIitlLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlOmUuZGVmYXVsdFZhbHVlIT09XCJcIityJiYoZS5kZWZhdWx0VmFsdWU9XCJcIityKSl9ZnVuY3Rpb24ga2UoZSx0KXtyZXR1cm4gZT1pKHtjaGlsZHJlbjp2b2lkIDB9LHQpLCh0PWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7cmV0dXJuIG4uQ2hpbGRyZW4uZm9yRWFjaChlLChmdW5jdGlvbihlKXtudWxsIT1lJiYodCs9ZSl9KSksdH0odC5jaGlsZHJlbikpJiYoZS5jaGlsZHJlbj10KSxlfWZ1bmN0aW9uIEFlKGUsdCxyLG4pe2lmKGU9ZS5vcHRpb25zLHQpe3Q9e307Zm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspdFtcIiRcIityW2ldXT0hMDtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKWk9dC5oYXNPd25Qcm9wZXJ0eShcIiRcIitlW3JdLnZhbHVlKSxlW3JdLnNlbGVjdGVkIT09aSYmKGVbcl0uc2VsZWN0ZWQ9aSksaSYmbiYmKGVbcl0uZGVmYXVsdFNlbGVjdGVkPSEwKX1lbHNle2ZvcihyPVwiXCIreWUociksdD1udWxsLGk9MDtpPGUubGVuZ3RoO2krKyl7aWYoZVtpXS52YWx1ZT09PXIpcmV0dXJuIGVbaV0uc2VsZWN0ZWQ9ITAsdm9pZChuJiYoZVtpXS5kZWZhdWx0U2VsZWN0ZWQ9ITApKTtudWxsIT09dHx8ZVtpXS5kaXNhYmxlZHx8KHQ9ZVtpXSl9bnVsbCE9PXQmJih0LnNlbGVjdGVkPSEwKX19ZnVuY3Rpb24gSWUoZSx0KXtpZihudWxsIT10LmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKXRocm93IEVycm9yKGEoOTEpKTtyZXR1cm4gaSh7fSx0LHt2YWx1ZTp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMCxjaGlsZHJlbjpcIlwiK2UuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWV9KX1mdW5jdGlvbiBQZShlLHQpe3ZhciByPXQudmFsdWU7aWYobnVsbD09cil7aWYocj10LmNoaWxkcmVuLHQ9dC5kZWZhdWx0VmFsdWUsbnVsbCE9cil7aWYobnVsbCE9dCl0aHJvdyBFcnJvcihhKDkyKSk7aWYoQXJyYXkuaXNBcnJheShyKSl7aWYoISgxPj1yLmxlbmd0aCkpdGhyb3cgRXJyb3IoYSg5MykpO3I9clswXX10PXJ9bnVsbD09dCYmKHQ9XCJcIikscj10fWUuX3dyYXBwZXJTdGF0ZT17aW5pdGlhbFZhbHVlOnllKHIpfX1mdW5jdGlvbiB6ZShlLHQpe3ZhciByPXllKHQudmFsdWUpLG49eWUodC5kZWZhdWx0VmFsdWUpO251bGwhPXImJigocj1cIlwiK3IpIT09ZS52YWx1ZSYmKGUudmFsdWU9ciksbnVsbD09dC5kZWZhdWx0VmFsdWUmJmUuZGVmYXVsdFZhbHVlIT09ciYmKGUuZGVmYXVsdFZhbHVlPXIpKSxudWxsIT1uJiYoZS5kZWZhdWx0VmFsdWU9XCJcIituKX1mdW5jdGlvbiBEZShlKXt2YXIgdD1lLnRleHRDb250ZW50O3Q9PT1lLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlJiZcIlwiIT09dCYmbnVsbCE9PXQmJihlLnZhbHVlPXQpfXZhciBSZT1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIixMZT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7ZnVuY3Rpb24gT2UoZSl7c3dpdGNoKGUpe2Nhc2VcInN2Z1wiOnJldHVyblwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtjYXNlXCJtYXRoXCI6cmV0dXJuXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI7ZGVmYXVsdDpyZXR1cm5cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIn19ZnVuY3Rpb24gQmUoZSx0KXtyZXR1cm4gbnVsbD09ZXx8XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI9PT1lP09lKHQpOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj09PWUmJlwiZm9yZWlnbk9iamVjdFwiPT09dD9cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIjplfXZhciBGZSxqZT1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgTVNBcHAmJk1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uP2Z1bmN0aW9uKHQscixuLGkpe01TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKChmdW5jdGlvbigpe3JldHVybiBlKHQscil9KSl9OmV9KChmdW5jdGlvbihlLHQpe2lmKGUubmFtZXNwYWNlVVJJIT09TGV8fFwiaW5uZXJIVE1MXCJpbiBlKWUuaW5uZXJIVE1MPXQ7ZWxzZXtmb3IoKEZlPUZlfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5pbm5lckhUTUw9XCI8c3ZnPlwiK3QudmFsdWVPZigpLnRvU3RyaW5nKCkrXCI8L3N2Zz5cIix0PUZlLmZpcnN0Q2hpbGQ7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7Zm9yKDt0LmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQodC5maXJzdENoaWxkKX19KSk7ZnVuY3Rpb24gVWUoZSx0KXtpZih0KXt2YXIgcj1lLmZpcnN0Q2hpbGQ7aWYociYmcj09PWUubGFzdENoaWxkJiYzPT09ci5ub2RlVHlwZSlyZXR1cm4gdm9pZChyLm5vZGVWYWx1ZT10KX1lLnRleHRDb250ZW50PXR9ZnVuY3Rpb24gTmUoZSx0KXt2YXIgcj17fTtyZXR1cm4gcltlLnRvTG93ZXJDYXNlKCldPXQudG9Mb3dlckNhc2UoKSxyW1wiV2Via2l0XCIrZV09XCJ3ZWJraXRcIit0LHJbXCJNb3pcIitlXT1cIm1velwiK3Qscn12YXIgVmU9e2FuaW1hdGlvbmVuZDpOZShcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uRW5kXCIpLGFuaW1hdGlvbml0ZXJhdGlvbjpOZShcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uSXRlcmF0aW9uXCIpLGFuaW1hdGlvbnN0YXJ0Ok5lKFwiQW5pbWF0aW9uXCIsXCJBbmltYXRpb25TdGFydFwiKSx0cmFuc2l0aW9uZW5kOk5lKFwiVHJhbnNpdGlvblwiLFwiVHJhbnNpdGlvbkVuZFwiKX0sR2U9e30scWU9e307ZnVuY3Rpb24gWmUoZSl7aWYoR2VbZV0pcmV0dXJuIEdlW2VdO2lmKCFWZVtlXSlyZXR1cm4gZTt2YXIgdCxyPVZlW2VdO2Zvcih0IGluIHIpaWYoci5oYXNPd25Qcm9wZXJ0eSh0KSYmdCBpbiBxZSlyZXR1cm4gR2VbZV09clt0XTtyZXR1cm4gZX1NJiYocWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxcIkFuaW1hdGlvbkV2ZW50XCJpbiB3aW5kb3d8fChkZWxldGUgVmUuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbixkZWxldGUgVmUuYW5pbWF0aW9uaXRlcmF0aW9uLmFuaW1hdGlvbixkZWxldGUgVmUuYW5pbWF0aW9uc3RhcnQuYW5pbWF0aW9uKSxcIlRyYW5zaXRpb25FdmVudFwiaW4gd2luZG93fHxkZWxldGUgVmUudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uKTt2YXIgJGU9WmUoXCJhbmltYXRpb25lbmRcIiksV2U9WmUoXCJhbmltYXRpb25pdGVyYXRpb25cIiksWGU9WmUoXCJhbmltYXRpb25zdGFydFwiKSxIZT1aZShcInRyYW5zaXRpb25lbmRcIiksWWU9XCJhYm9ydCBjYW5wbGF5IGNhbnBsYXl0aHJvdWdoIGR1cmF0aW9uY2hhbmdlIGVtcHRpZWQgZW5jcnlwdGVkIGVuZGVkIGVycm9yIGxvYWRlZGRhdGEgbG9hZGVkbWV0YWRhdGEgbG9hZHN0YXJ0IHBhdXNlIHBsYXkgcGxheWluZyBwcm9ncmVzcyByYXRlY2hhbmdlIHNlZWtlZCBzZWVraW5nIHN0YWxsZWQgc3VzcGVuZCB0aW1ldXBkYXRlIHZvbHVtZWNoYW5nZSB3YWl0aW5nXCIuc3BsaXQoXCIgXCIpLEtlPW5ldyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWFrTWFwP1dlYWtNYXA6TWFwKTtmdW5jdGlvbiBKZShlKXt2YXIgdD1LZS5nZXQoZSk7cmV0dXJuIHZvaWQgMD09PXQmJih0PW5ldyBNYXAsS2Uuc2V0KGUsdCkpLHR9ZnVuY3Rpb24gUWUoZSl7dmFyIHQ9ZSxyPWU7aWYoZS5hbHRlcm5hdGUpZm9yKDt0LnJldHVybjspdD10LnJldHVybjtlbHNle2U9dDtkb3swIT0oMTAyNiYodD1lKS5lZmZlY3RUYWcpJiYocj10LnJldHVybiksZT10LnJldHVybn13aGlsZShlKX1yZXR1cm4gMz09PXQudGFnP3I6bnVsbH1mdW5jdGlvbiBldChlKXtpZigxMz09PWUudGFnKXt2YXIgdD1lLm1lbW9pemVkU3RhdGU7aWYobnVsbD09PXQmJihudWxsIT09KGU9ZS5hbHRlcm5hdGUpJiYodD1lLm1lbW9pemVkU3RhdGUpKSxudWxsIT09dClyZXR1cm4gdC5kZWh5ZHJhdGVkfXJldHVybiBudWxsfWZ1bmN0aW9uIHR0KGUpe2lmKFFlKGUpIT09ZSl0aHJvdyBFcnJvcihhKDE4OCkpfWZ1bmN0aW9uIHJ0KGUpe2lmKCEoZT1mdW5jdGlvbihlKXt2YXIgdD1lLmFsdGVybmF0ZTtpZighdCl7aWYobnVsbD09PSh0PVFlKGUpKSl0aHJvdyBFcnJvcihhKDE4OCkpO3JldHVybiB0IT09ZT9udWxsOmV9Zm9yKHZhciByPWUsbj10Ozspe3ZhciBpPXIucmV0dXJuO2lmKG51bGw9PT1pKWJyZWFrO3ZhciBvPWkuYWx0ZXJuYXRlO2lmKG51bGw9PT1vKXtpZihudWxsIT09KG49aS5yZXR1cm4pKXtyPW47Y29udGludWV9YnJlYWt9aWYoaS5jaGlsZD09PW8uY2hpbGQpe2ZvcihvPWkuY2hpbGQ7bzspe2lmKG89PT1yKXJldHVybiB0dChpKSxlO2lmKG89PT1uKXJldHVybiB0dChpKSx0O289by5zaWJsaW5nfXRocm93IEVycm9yKGEoMTg4KSl9aWYoci5yZXR1cm4hPT1uLnJldHVybilyPWksbj1vO2Vsc2V7Zm9yKHZhciBzPSExLGw9aS5jaGlsZDtsOyl7aWYobD09PXIpe3M9ITAscj1pLG49bzticmVha31pZihsPT09bil7cz0hMCxuPWkscj1vO2JyZWFrfWw9bC5zaWJsaW5nfWlmKCFzKXtmb3IobD1vLmNoaWxkO2w7KXtpZihsPT09cil7cz0hMCxyPW8sbj1pO2JyZWFrfWlmKGw9PT1uKXtzPSEwLG49byxyPWk7YnJlYWt9bD1sLnNpYmxpbmd9aWYoIXMpdGhyb3cgRXJyb3IoYSgxODkpKX19aWYoci5hbHRlcm5hdGUhPT1uKXRocm93IEVycm9yKGEoMTkwKSl9aWYoMyE9PXIudGFnKXRocm93IEVycm9yKGEoMTg4KSk7cmV0dXJuIHIuc3RhdGVOb2RlLmN1cnJlbnQ9PT1yP2U6dH0oZSkpKXJldHVybiBudWxsO2Zvcih2YXIgdD1lOzspe2lmKDU9PT10LnRhZ3x8Nj09PXQudGFnKXJldHVybiB0O2lmKHQuY2hpbGQpdC5jaGlsZC5yZXR1cm49dCx0PXQuY2hpbGQ7ZWxzZXtpZih0PT09ZSlicmVhaztmb3IoOyF0LnNpYmxpbmc7KXtpZighdC5yZXR1cm58fHQucmV0dXJuPT09ZSlyZXR1cm4gbnVsbDt0PXQucmV0dXJufXQuc2libGluZy5yZXR1cm49dC5yZXR1cm4sdD10LnNpYmxpbmd9fXJldHVybiBudWxsfWZ1bmN0aW9uIG50KGUsdCl7aWYobnVsbD09dCl0aHJvdyBFcnJvcihhKDMwKSk7cmV0dXJuIG51bGw9PWU/dDpBcnJheS5pc0FycmF5KGUpP0FycmF5LmlzQXJyYXkodCk/KGUucHVzaC5hcHBseShlLHQpLGUpOihlLnB1c2godCksZSk6QXJyYXkuaXNBcnJheSh0KT9bZV0uY29uY2F0KHQpOltlLHRdfWZ1bmN0aW9uIGl0KGUsdCxyKXtBcnJheS5pc0FycmF5KGUpP2UuZm9yRWFjaCh0LHIpOmUmJnQuY2FsbChyLGUpfXZhciBvdD1udWxsO2Z1bmN0aW9uIGF0KGUpe2lmKGUpe3ZhciB0PWUuX2Rpc3BhdGNoTGlzdGVuZXJzLHI9ZS5fZGlzcGF0Y2hJbnN0YW5jZXM7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIG49MDtuPHQubGVuZ3RoJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpO24rKylfKGUsdFtuXSxyW25dKTtlbHNlIHQmJl8oZSx0LHIpO2UuX2Rpc3BhdGNoTGlzdGVuZXJzPW51bGwsZS5fZGlzcGF0Y2hJbnN0YW5jZXM9bnVsbCxlLmlzUGVyc2lzdGVudCgpfHxlLmNvbnN0cnVjdG9yLnJlbGVhc2UoZSl9fWZ1bmN0aW9uIHN0KGUpe2lmKG51bGwhPT1lJiYob3Q9bnQob3QsZSkpLGU9b3Qsb3Q9bnVsbCxlKXtpZihpdChlLGF0KSxvdCl0aHJvdyBFcnJvcihhKDk1KSk7aWYodSl0aHJvdyBlPWgsdT0hMSxoPW51bGwsZX19ZnVuY3Rpb24gbHQoZSl7cmV0dXJuKGU9ZS50YXJnZXR8fGUuc3JjRWxlbWVudHx8d2luZG93KS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCYmKGU9ZS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCksMz09PWUubm9kZVR5cGU/ZS5wYXJlbnROb2RlOmV9ZnVuY3Rpb24gY3QoZSl7aWYoIU0pcmV0dXJuITE7dmFyIHQ9KGU9XCJvblwiK2UpaW4gZG9jdW1lbnQ7cmV0dXJuIHR8fCgodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5zZXRBdHRyaWJ1dGUoZSxcInJldHVybjtcIiksdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0W2VdKSx0fXZhciB1dD1bXTtmdW5jdGlvbiBodChlKXtlLnRvcExldmVsVHlwZT1udWxsLGUubmF0aXZlRXZlbnQ9bnVsbCxlLnRhcmdldEluc3Q9bnVsbCxlLmFuY2VzdG9ycy5sZW5ndGg9MCwxMD51dC5sZW5ndGgmJnV0LnB1c2goZSl9ZnVuY3Rpb24gZHQoZSx0LHIsbil7aWYodXQubGVuZ3RoKXt2YXIgaT11dC5wb3AoKTtyZXR1cm4gaS50b3BMZXZlbFR5cGU9ZSxpLmV2ZW50U3lzdGVtRmxhZ3M9bixpLm5hdGl2ZUV2ZW50PXQsaS50YXJnZXRJbnN0PXIsaX1yZXR1cm57dG9wTGV2ZWxUeXBlOmUsZXZlbnRTeXN0ZW1GbGFnczpuLG5hdGl2ZUV2ZW50OnQsdGFyZ2V0SW5zdDpyLGFuY2VzdG9yczpbXX19ZnVuY3Rpb24gcHQoZSl7dmFyIHQ9ZS50YXJnZXRJbnN0LHI9dDtkb3tpZighcil7ZS5hbmNlc3RvcnMucHVzaChyKTticmVha312YXIgbj1yO2lmKDM9PT1uLnRhZyluPW4uc3RhdGVOb2RlLmNvbnRhaW5lckluZm87ZWxzZXtmb3IoO24ucmV0dXJuOyluPW4ucmV0dXJuO249MyE9PW4udGFnP251bGw6bi5zdGF0ZU5vZGUuY29udGFpbmVySW5mb31pZighbilicmVhazs1IT09KHQ9ci50YWcpJiY2IT09dHx8ZS5hbmNlc3RvcnMucHVzaChyKSxyPUNyKG4pfXdoaWxlKHIpO2ZvcihyPTA7cjxlLmFuY2VzdG9ycy5sZW5ndGg7cisrKXt0PWUuYW5jZXN0b3JzW3JdO3ZhciBpPWx0KGUubmF0aXZlRXZlbnQpO249ZS50b3BMZXZlbFR5cGU7dmFyIG89ZS5uYXRpdmVFdmVudCxhPWUuZXZlbnRTeXN0ZW1GbGFnczswPT09ciYmKGF8PTY0KTtmb3IodmFyIHM9bnVsbCxsPTA7bDx3Lmxlbmd0aDtsKyspe3ZhciBjPXdbbF07YyYmKGM9Yy5leHRyYWN0RXZlbnRzKG4sdCxvLGksYSkpJiYocz1udChzLGMpKX1zdChzKX19ZnVuY3Rpb24gZnQoZSx0LHIpe2lmKCFyLmhhcyhlKSl7c3dpdGNoKGUpe2Nhc2VcInNjcm9sbFwiOlh0KHQsXCJzY3JvbGxcIiwhMCk7YnJlYWs7Y2FzZVwiZm9jdXNcIjpjYXNlXCJibHVyXCI6WHQodCxcImZvY3VzXCIsITApLFh0KHQsXCJibHVyXCIsITApLHIuc2V0KFwiYmx1clwiLG51bGwpLHIuc2V0KFwiZm9jdXNcIixudWxsKTticmVhaztjYXNlXCJjYW5jZWxcIjpjYXNlXCJjbG9zZVwiOmN0KGUpJiZYdCh0LGUsITApO2JyZWFrO2Nhc2VcImludmFsaWRcIjpjYXNlXCJzdWJtaXRcIjpjYXNlXCJyZXNldFwiOmJyZWFrO2RlZmF1bHQ6LTE9PT1ZZS5pbmRleE9mKGUpJiZXdChlLHQpfXIuc2V0KGUsbnVsbCl9fXZhciBtdCxndCxfdCx5dD0hMSx2dD1bXSx4dD1udWxsLGJ0PW51bGwsd3Q9bnVsbCxUdD1uZXcgTWFwLEV0PW5ldyBNYXAsU3Q9W10sQ3Q9XCJtb3VzZWRvd24gbW91c2V1cCB0b3VjaGNhbmNlbCB0b3VjaGVuZCB0b3VjaHN0YXJ0IGF1eGNsaWNrIGRibGNsaWNrIHBvaW50ZXJjYW5jZWwgcG9pbnRlcmRvd24gcG9pbnRlcnVwIGRyYWdlbmQgZHJhZ3N0YXJ0IGRyb3AgY29tcG9zaXRpb25lbmQgY29tcG9zaXRpb25zdGFydCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IHRleHRJbnB1dCBjbG9zZSBjYW5jZWwgY29weSBjdXQgcGFzdGUgY2xpY2sgY2hhbmdlIGNvbnRleHRtZW51IHJlc2V0IHN1Ym1pdFwiLnNwbGl0KFwiIFwiKSxNdD1cImZvY3VzIGJsdXIgZHJhZ2VudGVyIGRyYWdsZWF2ZSBtb3VzZW92ZXIgbW91c2VvdXQgcG9pbnRlcm92ZXIgcG9pbnRlcm91dCBnb3Rwb2ludGVyY2FwdHVyZSBsb3N0cG9pbnRlcmNhcHR1cmVcIi5zcGxpdChcIiBcIik7ZnVuY3Rpb24ga3QoZSx0LHIsbixpKXtyZXR1cm57YmxvY2tlZE9uOmUsdG9wTGV2ZWxUeXBlOnQsZXZlbnRTeXN0ZW1GbGFnczozMnxyLG5hdGl2ZUV2ZW50OmksY29udGFpbmVyOm59fWZ1bmN0aW9uIEF0KGUsdCl7c3dpdGNoKGUpe2Nhc2VcImZvY3VzXCI6Y2FzZVwiYmx1clwiOnh0PW51bGw7YnJlYWs7Y2FzZVwiZHJhZ2VudGVyXCI6Y2FzZVwiZHJhZ2xlYXZlXCI6YnQ9bnVsbDticmVhaztjYXNlXCJtb3VzZW92ZXJcIjpjYXNlXCJtb3VzZW91dFwiOnd0PW51bGw7YnJlYWs7Y2FzZVwicG9pbnRlcm92ZXJcIjpjYXNlXCJwb2ludGVyb3V0XCI6VHQuZGVsZXRlKHQucG9pbnRlcklkKTticmVhaztjYXNlXCJnb3Rwb2ludGVyY2FwdHVyZVwiOmNhc2VcImxvc3Rwb2ludGVyY2FwdHVyZVwiOkV0LmRlbGV0ZSh0LnBvaW50ZXJJZCl9fWZ1bmN0aW9uIEl0KGUsdCxyLG4saSxvKXtyZXR1cm4gbnVsbD09PWV8fGUubmF0aXZlRXZlbnQhPT1vPyhlPWt0KHQscixuLGksbyksbnVsbCE9PXQmJihudWxsIT09KHQ9TXIodCkpJiZndCh0KSksZSk6KGUuZXZlbnRTeXN0ZW1GbGFnc3w9bixlKX1mdW5jdGlvbiBQdChlKXt2YXIgdD1DcihlLnRhcmdldCk7aWYobnVsbCE9PXQpe3ZhciByPVFlKHQpO2lmKG51bGwhPT1yKWlmKDEzPT09KHQ9ci50YWcpKXtpZihudWxsIT09KHQ9ZXQocikpKXJldHVybiBlLmJsb2NrZWRPbj10LHZvaWQgby51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHkoZS5wcmlvcml0eSwoZnVuY3Rpb24oKXtfdChyKX0pKX1lbHNlIGlmKDM9PT10JiZyLnN0YXRlTm9kZS5oeWRyYXRlKXJldHVybiB2b2lkKGUuYmxvY2tlZE9uPTM9PT1yLnRhZz9yLnN0YXRlTm9kZS5jb250YWluZXJJbmZvOm51bGwpfWUuYmxvY2tlZE9uPW51bGx9ZnVuY3Rpb24genQoZSl7aWYobnVsbCE9PWUuYmxvY2tlZE9uKXJldHVybiExO3ZhciB0PUp0KGUudG9wTGV2ZWxUeXBlLGUuZXZlbnRTeXN0ZW1GbGFncyxlLmNvbnRhaW5lcixlLm5hdGl2ZUV2ZW50KTtpZihudWxsIT09dCl7dmFyIHI9TXIodCk7cmV0dXJuIG51bGwhPT1yJiZndChyKSxlLmJsb2NrZWRPbj10LCExfXJldHVybiEwfWZ1bmN0aW9uIER0KGUsdCxyKXt6dChlKSYmci5kZWxldGUodCl9ZnVuY3Rpb24gUnQoKXtmb3IoeXQ9ITE7MDx2dC5sZW5ndGg7KXt2YXIgZT12dFswXTtpZihudWxsIT09ZS5ibG9ja2VkT24pe251bGwhPT0oZT1NcihlLmJsb2NrZWRPbikpJiZtdChlKTticmVha312YXIgdD1KdChlLnRvcExldmVsVHlwZSxlLmV2ZW50U3lzdGVtRmxhZ3MsZS5jb250YWluZXIsZS5uYXRpdmVFdmVudCk7bnVsbCE9PXQ/ZS5ibG9ja2VkT249dDp2dC5zaGlmdCgpfW51bGwhPT14dCYmenQoeHQpJiYoeHQ9bnVsbCksbnVsbCE9PWJ0JiZ6dChidCkmJihidD1udWxsKSxudWxsIT09d3QmJnp0KHd0KSYmKHd0PW51bGwpLFR0LmZvckVhY2goRHQpLEV0LmZvckVhY2goRHQpfWZ1bmN0aW9uIEx0KGUsdCl7ZS5ibG9ja2VkT249PT10JiYoZS5ibG9ja2VkT249bnVsbCx5dHx8KHl0PSEwLG8udW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayhvLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LFJ0KSkpfWZ1bmN0aW9uIE90KGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIEx0KHQsZSl9aWYoMDx2dC5sZW5ndGgpe0x0KHZ0WzBdLGUpO2Zvcih2YXIgcj0xO3I8dnQubGVuZ3RoO3IrKyl7dmFyIG49dnRbcl07bi5ibG9ja2VkT249PT1lJiYobi5ibG9ja2VkT249bnVsbCl9fWZvcihudWxsIT09eHQmJkx0KHh0LGUpLG51bGwhPT1idCYmTHQoYnQsZSksbnVsbCE9PXd0JiZMdCh3dCxlKSxUdC5mb3JFYWNoKHQpLEV0LmZvckVhY2godCkscj0wO3I8U3QubGVuZ3RoO3IrKykobj1TdFtyXSkuYmxvY2tlZE9uPT09ZSYmKG4uYmxvY2tlZE9uPW51bGwpO2Zvcig7MDxTdC5sZW5ndGgmJm51bGw9PT0ocj1TdFswXSkuYmxvY2tlZE9uOylQdChyKSxudWxsPT09ci5ibG9ja2VkT24mJlN0LnNoaWZ0KCl9dmFyIEJ0PXt9LEZ0PW5ldyBNYXAsanQ9bmV3IE1hcCxVdD1bXCJhYm9ydFwiLFwiYWJvcnRcIiwkZSxcImFuaW1hdGlvbkVuZFwiLFdlLFwiYW5pbWF0aW9uSXRlcmF0aW9uXCIsWGUsXCJhbmltYXRpb25TdGFydFwiLFwiY2FucGxheVwiLFwiY2FuUGxheVwiLFwiY2FucGxheXRocm91Z2hcIixcImNhblBsYXlUaHJvdWdoXCIsXCJkdXJhdGlvbmNoYW5nZVwiLFwiZHVyYXRpb25DaGFuZ2VcIixcImVtcHRpZWRcIixcImVtcHRpZWRcIixcImVuY3J5cHRlZFwiLFwiZW5jcnlwdGVkXCIsXCJlbmRlZFwiLFwiZW5kZWRcIixcImVycm9yXCIsXCJlcnJvclwiLFwiZ290cG9pbnRlcmNhcHR1cmVcIixcImdvdFBvaW50ZXJDYXB0dXJlXCIsXCJsb2FkXCIsXCJsb2FkXCIsXCJsb2FkZWRkYXRhXCIsXCJsb2FkZWREYXRhXCIsXCJsb2FkZWRtZXRhZGF0YVwiLFwibG9hZGVkTWV0YWRhdGFcIixcImxvYWRzdGFydFwiLFwibG9hZFN0YXJ0XCIsXCJsb3N0cG9pbnRlcmNhcHR1cmVcIixcImxvc3RQb2ludGVyQ2FwdHVyZVwiLFwicGxheWluZ1wiLFwicGxheWluZ1wiLFwicHJvZ3Jlc3NcIixcInByb2dyZXNzXCIsXCJzZWVraW5nXCIsXCJzZWVraW5nXCIsXCJzdGFsbGVkXCIsXCJzdGFsbGVkXCIsXCJzdXNwZW5kXCIsXCJzdXNwZW5kXCIsXCJ0aW1ldXBkYXRlXCIsXCJ0aW1lVXBkYXRlXCIsSGUsXCJ0cmFuc2l0aW9uRW5kXCIsXCJ3YWl0aW5nXCIsXCJ3YWl0aW5nXCJdO2Z1bmN0aW9uIE50KGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKz0yKXt2YXIgbj1lW3JdLGk9ZVtyKzFdLG89XCJvblwiKyhpWzBdLnRvVXBwZXJDYXNlKCkraS5zbGljZSgxKSk7bz17cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6byxjYXB0dXJlZDpvK1wiQ2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6W25dLGV2ZW50UHJpb3JpdHk6dH0sanQuc2V0KG4sdCksRnQuc2V0KG4sbyksQnRbaV09b319TnQoXCJibHVyIGJsdXIgY2FuY2VsIGNhbmNlbCBjbGljayBjbGljayBjbG9zZSBjbG9zZSBjb250ZXh0bWVudSBjb250ZXh0TWVudSBjb3B5IGNvcHkgY3V0IGN1dCBhdXhjbGljayBhdXhDbGljayBkYmxjbGljayBkb3VibGVDbGljayBkcmFnZW5kIGRyYWdFbmQgZHJhZ3N0YXJ0IGRyYWdTdGFydCBkcm9wIGRyb3AgZm9jdXMgZm9jdXMgaW5wdXQgaW5wdXQgaW52YWxpZCBpbnZhbGlkIGtleWRvd24ga2V5RG93biBrZXlwcmVzcyBrZXlQcmVzcyBrZXl1cCBrZXlVcCBtb3VzZWRvd24gbW91c2VEb3duIG1vdXNldXAgbW91c2VVcCBwYXN0ZSBwYXN0ZSBwYXVzZSBwYXVzZSBwbGF5IHBsYXkgcG9pbnRlcmNhbmNlbCBwb2ludGVyQ2FuY2VsIHBvaW50ZXJkb3duIHBvaW50ZXJEb3duIHBvaW50ZXJ1cCBwb2ludGVyVXAgcmF0ZWNoYW5nZSByYXRlQ2hhbmdlIHJlc2V0IHJlc2V0IHNlZWtlZCBzZWVrZWQgc3VibWl0IHN1Ym1pdCB0b3VjaGNhbmNlbCB0b3VjaENhbmNlbCB0b3VjaGVuZCB0b3VjaEVuZCB0b3VjaHN0YXJ0IHRvdWNoU3RhcnQgdm9sdW1lY2hhbmdlIHZvbHVtZUNoYW5nZVwiLnNwbGl0KFwiIFwiKSwwKSxOdChcImRyYWcgZHJhZyBkcmFnZW50ZXIgZHJhZ0VudGVyIGRyYWdleGl0IGRyYWdFeGl0IGRyYWdsZWF2ZSBkcmFnTGVhdmUgZHJhZ292ZXIgZHJhZ092ZXIgbW91c2Vtb3ZlIG1vdXNlTW92ZSBtb3VzZW91dCBtb3VzZU91dCBtb3VzZW92ZXIgbW91c2VPdmVyIHBvaW50ZXJtb3ZlIHBvaW50ZXJNb3ZlIHBvaW50ZXJvdXQgcG9pbnRlck91dCBwb2ludGVyb3ZlciBwb2ludGVyT3ZlciBzY3JvbGwgc2Nyb2xsIHRvZ2dsZSB0b2dnbGUgdG91Y2htb3ZlIHRvdWNoTW92ZSB3aGVlbCB3aGVlbFwiLnNwbGl0KFwiIFwiKSwxKSxOdChVdCwyKTtmb3IodmFyIFZ0PVwiY2hhbmdlIHNlbGVjdGlvbmNoYW5nZSB0ZXh0SW5wdXQgY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCBjb21wb3NpdGlvbnVwZGF0ZVwiLnNwbGl0KFwiIFwiKSxHdD0wO0d0PFZ0Lmxlbmd0aDtHdCsrKWp0LnNldChWdFtHdF0sMCk7dmFyIHF0PW8udW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHksWnQ9by51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHksJHQ9ITA7ZnVuY3Rpb24gV3QoZSx0KXtYdCh0LGUsITEpfWZ1bmN0aW9uIFh0KGUsdCxyKXt2YXIgbj1qdC5nZXQodCk7c3dpdGNoKHZvaWQgMD09PW4/MjpuKXtjYXNlIDA6bj1IdC5iaW5kKG51bGwsdCwxLGUpO2JyZWFrO2Nhc2UgMTpuPVl0LmJpbmQobnVsbCx0LDEsZSk7YnJlYWs7ZGVmYXVsdDpuPUt0LmJpbmQobnVsbCx0LDEsZSl9cj9lLmFkZEV2ZW50TGlzdGVuZXIodCxuLCEwKTplLmFkZEV2ZW50TGlzdGVuZXIodCxuLCExKX1mdW5jdGlvbiBIdChlLHQscixuKXtGfHxPKCk7dmFyIGk9S3Qsbz1GO0Y9ITA7dHJ5e0woaSxlLHQscixuKX1maW5hbGx5eyhGPW8pfHxVKCl9fWZ1bmN0aW9uIFl0KGUsdCxyLG4pe1p0KHF0LEt0LmJpbmQobnVsbCxlLHQscixuKSl9ZnVuY3Rpb24gS3QoZSx0LHIsbil7aWYoJHQpaWYoMDx2dC5sZW5ndGgmJi0xPEN0LmluZGV4T2YoZSkpZT1rdChudWxsLGUsdCxyLG4pLHZ0LnB1c2goZSk7ZWxzZXt2YXIgaT1KdChlLHQscixuKTtpZihudWxsPT09aSlBdChlLG4pO2Vsc2UgaWYoLTE8Q3QuaW5kZXhPZihlKSllPWt0KGksZSx0LHIsbiksdnQucHVzaChlKTtlbHNlIGlmKCFmdW5jdGlvbihlLHQscixuLGkpe3N3aXRjaCh0KXtjYXNlXCJmb2N1c1wiOnJldHVybiB4dD1JdCh4dCxlLHQscixuLGkpLCEwO2Nhc2VcImRyYWdlbnRlclwiOnJldHVybiBidD1JdChidCxlLHQscixuLGkpLCEwO2Nhc2VcIm1vdXNlb3ZlclwiOnJldHVybiB3dD1JdCh3dCxlLHQscixuLGkpLCEwO2Nhc2VcInBvaW50ZXJvdmVyXCI6dmFyIG89aS5wb2ludGVySWQ7cmV0dXJuIFR0LnNldChvLEl0KFR0LmdldChvKXx8bnVsbCxlLHQscixuLGkpKSwhMDtjYXNlXCJnb3Rwb2ludGVyY2FwdHVyZVwiOnJldHVybiBvPWkucG9pbnRlcklkLEV0LnNldChvLEl0KEV0LmdldChvKXx8bnVsbCxlLHQscixuLGkpKSwhMH1yZXR1cm4hMX0oaSxlLHQscixuKSl7QXQoZSxuKSxlPWR0KGUsbixudWxsLHQpO3RyeXtOKHB0LGUpfWZpbmFsbHl7aHQoZSl9fX19ZnVuY3Rpb24gSnQoZSx0LHIsbil7aWYobnVsbCE9PShyPUNyKHI9bHQobikpKSl7dmFyIGk9UWUocik7aWYobnVsbD09PWkpcj1udWxsO2Vsc2V7dmFyIG89aS50YWc7aWYoMTM9PT1vKXtpZihudWxsIT09KHI9ZXQoaSkpKXJldHVybiByO3I9bnVsbH1lbHNlIGlmKDM9PT1vKXtpZihpLnN0YXRlTm9kZS5oeWRyYXRlKXJldHVybiAzPT09aS50YWc/aS5zdGF0ZU5vZGUuY29udGFpbmVySW5mbzpudWxsO3I9bnVsbH1lbHNlIGkhPT1yJiYocj1udWxsKX19ZT1kdChlLG4scix0KTt0cnl7TihwdCxlKX1maW5hbGx5e2h0KGUpfXJldHVybiBudWxsfXZhciBRdD17YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsYm9yZGVySW1hZ2VPdXRzZXQ6ITAsYm9yZGVySW1hZ2VTbGljZTohMCxib3JkZXJJbWFnZVdpZHRoOiEwLGJveEZsZXg6ITAsYm94RmxleEdyb3VwOiEwLGJveE9yZGluYWxHcm91cDohMCxjb2x1bW5Db3VudDohMCxjb2x1bW5zOiEwLGZsZXg6ITAsZmxleEdyb3c6ITAsZmxleFBvc2l0aXZlOiEwLGZsZXhTaHJpbms6ITAsZmxleE5lZ2F0aXZlOiEwLGZsZXhPcmRlcjohMCxncmlkQXJlYTohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1NwYW46ITAsZ3JpZFJvd1N0YXJ0OiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3BhbjohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZm9udFdlaWdodDohMCxsaW5lQ2xhbXA6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsdGFiU2l6ZTohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITAsZmlsbE9wYWNpdHk6ITAsZmxvb2RPcGFjaXR5OiEwLHN0b3BPcGFjaXR5OiEwLHN0cm9rZURhc2hhcnJheTohMCxzdHJva2VEYXNob2Zmc2V0OiEwLHN0cm9rZU1pdGVybGltaXQ6ITAsc3Ryb2tlT3BhY2l0eTohMCxzdHJva2VXaWR0aDohMH0sZXI9W1wiV2Via2l0XCIsXCJtc1wiLFwiTW96XCIsXCJPXCJdO2Z1bmN0aW9uIHRyKGUsdCxyKXtyZXR1cm4gbnVsbD09dHx8XCJib29sZWFuXCI9PXR5cGVvZiB0fHxcIlwiPT09dD9cIlwiOnJ8fFwibnVtYmVyXCIhPXR5cGVvZiB0fHwwPT09dHx8UXQuaGFzT3duUHJvcGVydHkoZSkmJlF0W2VdPyhcIlwiK3QpLnRyaW0oKTp0K1wicHhcIn1mdW5jdGlvbiBycihlLHQpe2Zvcih2YXIgciBpbiBlPWUuc3R5bGUsdClpZih0Lmhhc093blByb3BlcnR5KHIpKXt2YXIgbj0wPT09ci5pbmRleE9mKFwiLS1cIiksaT10cihyLHRbcl0sbik7XCJmbG9hdFwiPT09ciYmKHI9XCJjc3NGbG9hdFwiKSxuP2Uuc2V0UHJvcGVydHkocixpKTplW3JdPWl9fU9iamVjdC5rZXlzKFF0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtlci5mb3JFYWNoKChmdW5jdGlvbih0KXt0PXQrZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnN1YnN0cmluZygxKSxRdFt0XT1RdFtlXX0pKX0pKTt2YXIgbnI9aSh7bWVudWl0ZW06ITB9LHthcmVhOiEwLGJhc2U6ITAsYnI6ITAsY29sOiEwLGVtYmVkOiEwLGhyOiEwLGltZzohMCxpbnB1dDohMCxrZXlnZW46ITAsbGluazohMCxtZXRhOiEwLHBhcmFtOiEwLHNvdXJjZTohMCx0cmFjazohMCx3YnI6ITB9KTtmdW5jdGlvbiBpcihlLHQpe2lmKHQpe2lmKG5yW2VdJiYobnVsbCE9dC5jaGlsZHJlbnx8bnVsbCE9dC5kYW5nZXJvdXNseVNldElubmVySFRNTCkpdGhyb3cgRXJyb3IoYSgxMzcsZSxcIlwiKSk7aWYobnVsbCE9dC5kYW5nZXJvdXNseVNldElubmVySFRNTCl7aWYobnVsbCE9dC5jaGlsZHJlbil0aHJvdyBFcnJvcihhKDYwKSk7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUx8fCEoXCJfX2h0bWxcImluIHQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpKXRocm93IEVycm9yKGEoNjEpKX1pZihudWxsIT10LnN0eWxlJiZcIm9iamVjdFwiIT10eXBlb2YgdC5zdHlsZSl0aHJvdyBFcnJvcihhKDYyLFwiXCIpKX19ZnVuY3Rpb24gb3IoZSx0KXtpZigtMT09PWUuaW5kZXhPZihcIi1cIikpcmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQuaXM7c3dpdGNoKGUpe2Nhc2VcImFubm90YXRpb24teG1sXCI6Y2FzZVwiY29sb3ItcHJvZmlsZVwiOmNhc2VcImZvbnQtZmFjZVwiOmNhc2VcImZvbnQtZmFjZS1zcmNcIjpjYXNlXCJmb250LWZhY2UtdXJpXCI6Y2FzZVwiZm9udC1mYWNlLWZvcm1hdFwiOmNhc2VcImZvbnQtZmFjZS1uYW1lXCI6Y2FzZVwibWlzc2luZy1nbHlwaFwiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuITB9fXZhciBhcj1SZTtmdW5jdGlvbiBzcihlLHQpe3ZhciByPUplKGU9OT09PWUubm9kZVR5cGV8fDExPT09ZS5ub2RlVHlwZT9lOmUub3duZXJEb2N1bWVudCk7dD1TW3RdO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWZ0KHRbbl0sZSxyKX1mdW5jdGlvbiBscigpe31mdW5jdGlvbiBjcihlKXtpZih2b2lkIDA9PT0oZT1lfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50OnZvaWQgMCkpKXJldHVybiBudWxsO3RyeXtyZXR1cm4gZS5hY3RpdmVFbGVtZW50fHxlLmJvZHl9Y2F0Y2godCl7cmV0dXJuIGUuYm9keX19ZnVuY3Rpb24gdXIoZSl7Zm9yKDtlJiZlLmZpcnN0Q2hpbGQ7KWU9ZS5maXJzdENoaWxkO3JldHVybiBlfWZ1bmN0aW9uIGhyKGUsdCl7dmFyIHIsbj11cihlKTtmb3IoZT0wO247KXtpZigzPT09bi5ub2RlVHlwZSl7aWYocj1lK24udGV4dENvbnRlbnQubGVuZ3RoLGU8PXQmJnI+PXQpcmV0dXJue25vZGU6bixvZmZzZXQ6dC1lfTtlPXJ9ZTp7Zm9yKDtuOyl7aWYobi5uZXh0U2libGluZyl7bj1uLm5leHRTaWJsaW5nO2JyZWFrIGV9bj1uLnBhcmVudE5vZGV9bj12b2lkIDB9bj11cihuKX19ZnVuY3Rpb24gZHIoKXtmb3IodmFyIGU9d2luZG93LHQ9Y3IoKTt0IGluc3RhbmNlb2YgZS5IVE1MSUZyYW1lRWxlbWVudDspe3RyeXt2YXIgcj1cInN0cmluZ1wiPT10eXBlb2YgdC5jb250ZW50V2luZG93LmxvY2F0aW9uLmhyZWZ9Y2F0Y2goZSl7cj0hMX1pZighcilicmVhazt0PWNyKChlPXQuY29udGVudFdpbmRvdykuZG9jdW1lbnQpfXJldHVybiB0fWZ1bmN0aW9uIHByKGUpe3ZhciB0PWUmJmUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gdCYmKFwiaW5wdXRcIj09PXQmJihcInRleHRcIj09PWUudHlwZXx8XCJzZWFyY2hcIj09PWUudHlwZXx8XCJ0ZWxcIj09PWUudHlwZXx8XCJ1cmxcIj09PWUudHlwZXx8XCJwYXNzd29yZFwiPT09ZS50eXBlKXx8XCJ0ZXh0YXJlYVwiPT09dHx8XCJ0cnVlXCI9PT1lLmNvbnRlbnRFZGl0YWJsZSl9dmFyIGZyPW51bGwsbXI9bnVsbDtmdW5jdGlvbiBncihlLHQpe3N3aXRjaChlKXtjYXNlXCJidXR0b25cIjpjYXNlXCJpbnB1dFwiOmNhc2VcInNlbGVjdFwiOmNhc2VcInRleHRhcmVhXCI6cmV0dXJuISF0LmF1dG9Gb2N1c31yZXR1cm4hMX1mdW5jdGlvbiBfcihlLHQpe3JldHVyblwidGV4dGFyZWFcIj09PWV8fFwib3B0aW9uXCI9PT1lfHxcIm5vc2NyaXB0XCI9PT1lfHxcInN0cmluZ1wiPT10eXBlb2YgdC5jaGlsZHJlbnx8XCJudW1iZXJcIj09dHlwZW9mIHQuY2hpbGRyZW58fFwib2JqZWN0XCI9PXR5cGVvZiB0LmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MJiZudWxsIT09dC5kYW5nZXJvdXNseVNldElubmVySFRNTCYmbnVsbCE9dC5kYW5nZXJvdXNseVNldElubmVySFRNTC5fX2h0bWx9dmFyIHlyPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDp2b2lkIDAsdnI9XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDp2b2lkIDA7ZnVuY3Rpb24geHIoZSl7Zm9yKDtudWxsIT1lO2U9ZS5uZXh0U2libGluZyl7dmFyIHQ9ZS5ub2RlVHlwZTtpZigxPT09dHx8Mz09PXQpYnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gYnIoZSl7ZT1lLnByZXZpb3VzU2libGluZztmb3IodmFyIHQ9MDtlOyl7aWYoOD09PWUubm9kZVR5cGUpe3ZhciByPWUuZGF0YTtpZihcIiRcIj09PXJ8fFwiJCFcIj09PXJ8fFwiJD9cIj09PXIpe2lmKDA9PT10KXJldHVybiBlO3QtLX1lbHNlXCIvJFwiPT09ciYmdCsrfWU9ZS5wcmV2aW91c1NpYmxpbmd9cmV0dXJuIG51bGx9dmFyIHdyPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLFRyPVwiX19yZWFjdEludGVybmFsSW5zdGFuY2UkXCIrd3IsRXI9XCJfX3JlYWN0RXZlbnRIYW5kbGVycyRcIit3cixTcj1cIl9fcmVhY3RDb250YWluZXJlJFwiK3dyO2Z1bmN0aW9uIENyKGUpe3ZhciB0PWVbVHJdO2lmKHQpcmV0dXJuIHQ7Zm9yKHZhciByPWUucGFyZW50Tm9kZTtyOyl7aWYodD1yW1NyXXx8cltUcl0pe2lmKHI9dC5hbHRlcm5hdGUsbnVsbCE9PXQuY2hpbGR8fG51bGwhPT1yJiZudWxsIT09ci5jaGlsZClmb3IoZT1icihlKTtudWxsIT09ZTspe2lmKHI9ZVtUcl0pcmV0dXJuIHI7ZT1icihlKX1yZXR1cm4gdH1yPShlPXIpLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gTXIoZSl7cmV0dXJuIShlPWVbVHJdfHxlW1NyXSl8fDUhPT1lLnRhZyYmNiE9PWUudGFnJiYxMyE9PWUudGFnJiYzIT09ZS50YWc/bnVsbDplfWZ1bmN0aW9uIGtyKGUpe2lmKDU9PT1lLnRhZ3x8Nj09PWUudGFnKXJldHVybiBlLnN0YXRlTm9kZTt0aHJvdyBFcnJvcihhKDMzKSl9ZnVuY3Rpb24gQXIoZSl7cmV0dXJuIGVbRXJdfHxudWxsfWZ1bmN0aW9uIElyKGUpe2Rve2U9ZS5yZXR1cm59d2hpbGUoZSYmNSE9PWUudGFnKTtyZXR1cm4gZXx8bnVsbH1mdW5jdGlvbiBQcihlLHQpe3ZhciByPWUuc3RhdGVOb2RlO2lmKCFyKXJldHVybiBudWxsO3ZhciBuPWYocik7aWYoIW4pcmV0dXJuIG51bGw7cj1uW3RdO2U6c3dpdGNoKHQpe2Nhc2VcIm9uQ2xpY2tcIjpjYXNlXCJvbkNsaWNrQ2FwdHVyZVwiOmNhc2VcIm9uRG91YmxlQ2xpY2tcIjpjYXNlXCJvbkRvdWJsZUNsaWNrQ2FwdHVyZVwiOmNhc2VcIm9uTW91c2VEb3duXCI6Y2FzZVwib25Nb3VzZURvd25DYXB0dXJlXCI6Y2FzZVwib25Nb3VzZU1vdmVcIjpjYXNlXCJvbk1vdXNlTW92ZUNhcHR1cmVcIjpjYXNlXCJvbk1vdXNlVXBcIjpjYXNlXCJvbk1vdXNlVXBDYXB0dXJlXCI6Y2FzZVwib25Nb3VzZUVudGVyXCI6KG49IW4uZGlzYWJsZWQpfHwobj0hKFwiYnV0dG9uXCI9PT0oZT1lLnR5cGUpfHxcImlucHV0XCI9PT1lfHxcInNlbGVjdFwiPT09ZXx8XCJ0ZXh0YXJlYVwiPT09ZSkpLGU9IW47YnJlYWsgZTtkZWZhdWx0OmU9ITF9aWYoZSlyZXR1cm4gbnVsbDtpZihyJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93IEVycm9yKGEoMjMxLHQsdHlwZW9mIHIpKTtyZXR1cm4gcn1mdW5jdGlvbiB6cihlLHQscil7KHQ9UHIoZSxyLmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3RdKSkmJihyLl9kaXNwYXRjaExpc3RlbmVycz1udChyLl9kaXNwYXRjaExpc3RlbmVycyx0KSxyLl9kaXNwYXRjaEluc3RhbmNlcz1udChyLl9kaXNwYXRjaEluc3RhbmNlcyxlKSl9ZnVuY3Rpb24gRHIoZSl7aWYoZSYmZS5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcyl7Zm9yKHZhciB0PWUuX3RhcmdldEluc3Qscj1bXTt0OylyLnB1c2godCksdD1Jcih0KTtmb3IodD1yLmxlbmd0aDswPHQtLTspenIoclt0XSxcImNhcHR1cmVkXCIsZSk7Zm9yKHQ9MDt0PHIubGVuZ3RoO3QrKyl6cihyW3RdLFwiYnViYmxlZFwiLGUpfX1mdW5jdGlvbiBScihlLHQscil7ZSYmciYmci5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lJiYodD1QcihlLHIuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkpJiYoci5fZGlzcGF0Y2hMaXN0ZW5lcnM9bnQoci5fZGlzcGF0Y2hMaXN0ZW5lcnMsdCksci5fZGlzcGF0Y2hJbnN0YW5jZXM9bnQoci5fZGlzcGF0Y2hJbnN0YW5jZXMsZSkpfWZ1bmN0aW9uIExyKGUpe2UmJmUuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSYmUnIoZS5fdGFyZ2V0SW5zdCxudWxsLGUpfWZ1bmN0aW9uIE9yKGUpe2l0KGUsRHIpfXZhciBCcj1udWxsLEZyPW51bGwsanI9bnVsbDtmdW5jdGlvbiBVcigpe2lmKGpyKXJldHVybiBqcjt2YXIgZSx0LHI9RnIsbj1yLmxlbmd0aCxpPVwidmFsdWVcImluIEJyP0JyLnZhbHVlOkJyLnRleHRDb250ZW50LG89aS5sZW5ndGg7Zm9yKGU9MDtlPG4mJnJbZV09PT1pW2VdO2UrKyk7dmFyIGE9bi1lO2Zvcih0PTE7dDw9YSYmcltuLXRdPT09aVtvLXRdO3QrKyk7cmV0dXJuIGpyPWkuc2xpY2UoZSwxPHQ/MS10OnZvaWQgMCl9ZnVuY3Rpb24gTnIoKXtyZXR1cm4hMH1mdW5jdGlvbiBWcigpe3JldHVybiExfWZ1bmN0aW9uIEdyKGUsdCxyLG4pe2Zvcih2YXIgaSBpbiB0aGlzLmRpc3BhdGNoQ29uZmlnPWUsdGhpcy5fdGFyZ2V0SW5zdD10LHRoaXMubmF0aXZlRXZlbnQ9cixlPXRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlKWUuaGFzT3duUHJvcGVydHkoaSkmJigodD1lW2ldKT90aGlzW2ldPXQocik6XCJ0YXJnZXRcIj09PWk/dGhpcy50YXJnZXQ9bjp0aGlzW2ldPXJbaV0pO3JldHVybiB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD0obnVsbCE9ci5kZWZhdWx0UHJldmVudGVkP3IuZGVmYXVsdFByZXZlbnRlZDohMT09PXIucmV0dXJuVmFsdWUpP05yOlZyLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9VnIsdGhpc31mdW5jdGlvbiBxcihlLHQscixuKXtpZih0aGlzLmV2ZW50UG9vbC5sZW5ndGgpe3ZhciBpPXRoaXMuZXZlbnRQb29sLnBvcCgpO3JldHVybiB0aGlzLmNhbGwoaSxlLHQscixuKSxpfXJldHVybiBuZXcgdGhpcyhlLHQscixuKX1mdW5jdGlvbiBacihlKXtpZighKGUgaW5zdGFuY2VvZiB0aGlzKSl0aHJvdyBFcnJvcihhKDI3OSkpO2UuZGVzdHJ1Y3RvcigpLDEwPnRoaXMuZXZlbnRQb29sLmxlbmd0aCYmdGhpcy5ldmVudFBvb2wucHVzaChlKX1mdW5jdGlvbiAkcihlKXtlLmV2ZW50UG9vbD1bXSxlLmdldFBvb2xlZD1xcixlLnJlbGVhc2U9WnJ9aShHci5wcm90b3R5cGUse3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwO3ZhciBlPXRoaXMubmF0aXZlRXZlbnQ7ZSYmKGUucHJldmVudERlZmF1bHQ/ZS5wcmV2ZW50RGVmYXVsdCgpOlwidW5rbm93blwiIT10eXBlb2YgZS5yZXR1cm5WYWx1ZSYmKGUucmV0dXJuVmFsdWU9ITEpLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPU5yKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5uYXRpdmVFdmVudDtlJiYoZS5zdG9wUHJvcGFnYXRpb24/ZS5zdG9wUHJvcGFnYXRpb24oKTpcInVua25vd25cIiE9dHlwZW9mIGUuY2FuY2VsQnViYmxlJiYoZS5jYW5jZWxCdWJibGU9ITApLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9TnIpfSxwZXJzaXN0OmZ1bmN0aW9uKCl7dGhpcy5pc1BlcnNpc3RlbnQ9TnJ9LGlzUGVyc2lzdGVudDpWcixkZXN0cnVjdG9yOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtmb3IoZSBpbiB0KXRoaXNbZV09bnVsbDt0aGlzLm5hdGl2ZUV2ZW50PXRoaXMuX3RhcmdldEluc3Q9dGhpcy5kaXNwYXRjaENvbmZpZz1udWxsLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9VnIsdGhpcy5fZGlzcGF0Y2hJbnN0YW5jZXM9dGhpcy5fZGlzcGF0Y2hMaXN0ZW5lcnM9bnVsbH19KSxHci5JbnRlcmZhY2U9e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxjdXJyZW50VGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGV2ZW50UGhhc2U6bnVsbCxidWJibGVzOm51bGwsY2FuY2VsYWJsZTpudWxsLHRpbWVTdGFtcDpmdW5jdGlvbihlKXtyZXR1cm4gZS50aW1lU3RhbXB8fERhdGUubm93KCl9LGRlZmF1bHRQcmV2ZW50ZWQ6bnVsbCxpc1RydXN0ZWQ6bnVsbH0sR3IuZXh0ZW5kPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt9ZnVuY3Rpb24gcigpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbj10aGlzO3QucHJvdG90eXBlPW4ucHJvdG90eXBlO3ZhciBvPW5ldyB0O3JldHVybiBpKG8sci5wcm90b3R5cGUpLHIucHJvdG90eXBlPW8sci5wcm90b3R5cGUuY29uc3RydWN0b3I9cixyLkludGVyZmFjZT1pKHt9LG4uSW50ZXJmYWNlLGUpLHIuZXh0ZW5kPW4uZXh0ZW5kLCRyKHIpLHJ9LCRyKEdyKTt2YXIgV3I9R3IuZXh0ZW5kKHtkYXRhOm51bGx9KSxYcj1Hci5leHRlbmQoe2RhdGE6bnVsbH0pLEhyPVs5LDEzLDI3LDMyXSxZcj1NJiZcIkNvbXBvc2l0aW9uRXZlbnRcImluIHdpbmRvdyxLcj1udWxsO00mJlwiZG9jdW1lbnRNb2RlXCJpbiBkb2N1bWVudCYmKEtyPWRvY3VtZW50LmRvY3VtZW50TW9kZSk7dmFyIEpyPU0mJlwiVGV4dEV2ZW50XCJpbiB3aW5kb3cmJiFLcixRcj1NJiYoIVlyfHxLciYmODxLciYmMTE+PUtyKSxlbj1TdHJpbmcuZnJvbUNoYXJDb2RlKDMyKSx0bj17YmVmb3JlSW5wdXQ6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25CZWZvcmVJbnB1dFwiLGNhcHR1cmVkOlwib25CZWZvcmVJbnB1dENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOltcImNvbXBvc2l0aW9uZW5kXCIsXCJrZXlwcmVzc1wiLFwidGV4dElucHV0XCIsXCJwYXN0ZVwiXX0sY29tcG9zaXRpb25FbmQ6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25Db21wb3NpdGlvbkVuZFwiLGNhcHR1cmVkOlwib25Db21wb3NpdGlvbkVuZENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwiYmx1ciBjb21wb3NpdGlvbmVuZCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKX0sY29tcG9zaXRpb25TdGFydDp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNvbXBvc2l0aW9uU3RhcnRcIixjYXB0dXJlZDpcIm9uQ29tcG9zaXRpb25TdGFydENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwiYmx1ciBjb21wb3NpdGlvbnN0YXJ0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpfSxjb21wb3NpdGlvblVwZGF0ZTp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNvbXBvc2l0aW9uVXBkYXRlXCIsY2FwdHVyZWQ6XCJvbkNvbXBvc2l0aW9uVXBkYXRlQ2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6XCJibHVyIGNvbXBvc2l0aW9udXBkYXRlIGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpfX0scm49ITE7ZnVuY3Rpb24gbm4oZSx0KXtzd2l0Y2goZSl7Y2FzZVwia2V5dXBcIjpyZXR1cm4tMSE9PUhyLmluZGV4T2YodC5rZXlDb2RlKTtjYXNlXCJrZXlkb3duXCI6cmV0dXJuIDIyOSE9PXQua2V5Q29kZTtjYXNlXCJrZXlwcmVzc1wiOmNhc2VcIm1vdXNlZG93blwiOmNhc2VcImJsdXJcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YoZT1lLmRldGFpbCkmJlwiZGF0YVwiaW4gZT9lLmRhdGE6bnVsbH12YXIgYW49ITE7dmFyIHNuPXtldmVudFR5cGVzOnRuLGV4dHJhY3RFdmVudHM6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk7aWYoWXIpZTp7c3dpdGNoKGUpe2Nhc2VcImNvbXBvc2l0aW9uc3RhcnRcIjp2YXIgbz10bi5jb21wb3NpdGlvblN0YXJ0O2JyZWFrIGU7Y2FzZVwiY29tcG9zaXRpb25lbmRcIjpvPXRuLmNvbXBvc2l0aW9uRW5kO2JyZWFrIGU7Y2FzZVwiY29tcG9zaXRpb251cGRhdGVcIjpvPXRuLmNvbXBvc2l0aW9uVXBkYXRlO2JyZWFrIGV9bz12b2lkIDB9ZWxzZSBhbj9ubihlLHIpJiYobz10bi5jb21wb3NpdGlvbkVuZCk6XCJrZXlkb3duXCI9PT1lJiYyMjk9PT1yLmtleUNvZGUmJihvPXRuLmNvbXBvc2l0aW9uU3RhcnQpO3JldHVybiBvPyhRciYmXCJrb1wiIT09ci5sb2NhbGUmJihhbnx8byE9PXRuLmNvbXBvc2l0aW9uU3RhcnQ/bz09PXRuLmNvbXBvc2l0aW9uRW5kJiZhbiYmKGk9VXIoKSk6KEZyPVwidmFsdWVcImluKEJyPW4pP0JyLnZhbHVlOkJyLnRleHRDb250ZW50LGFuPSEwKSksbz1Xci5nZXRQb29sZWQobyx0LHIsbiksaT9vLmRhdGE9aTpudWxsIT09KGk9b24ocikpJiYoby5kYXRhPWkpLE9yKG8pLGk9byk6aT1udWxsLChlPUpyP2Z1bmN0aW9uKGUsdCl7c3dpdGNoKGUpe2Nhc2VcImNvbXBvc2l0aW9uZW5kXCI6cmV0dXJuIG9uKHQpO2Nhc2VcImtleXByZXNzXCI6cmV0dXJuIDMyIT09dC53aGljaD9udWxsOihybj0hMCxlbik7Y2FzZVwidGV4dElucHV0XCI6cmV0dXJuKGU9dC5kYXRhKT09PWVuJiZybj9udWxsOmU7ZGVmYXVsdDpyZXR1cm4gbnVsbH19KGUscik6ZnVuY3Rpb24oZSx0KXtpZihhbilyZXR1cm5cImNvbXBvc2l0aW9uZW5kXCI9PT1lfHwhWXImJm5uKGUsdCk/KGU9VXIoKSxqcj1Gcj1Ccj1udWxsLGFuPSExLGUpOm51bGw7c3dpdGNoKGUpe2Nhc2VcInBhc3RlXCI6cmV0dXJuIG51bGw7Y2FzZVwia2V5cHJlc3NcIjppZighKHQuY3RybEtleXx8dC5hbHRLZXl8fHQubWV0YUtleSl8fHQuY3RybEtleSYmdC5hbHRLZXkpe2lmKHQuY2hhciYmMTx0LmNoYXIubGVuZ3RoKXJldHVybiB0LmNoYXI7aWYodC53aGljaClyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh0LndoaWNoKX1yZXR1cm4gbnVsbDtjYXNlXCJjb21wb3NpdGlvbmVuZFwiOnJldHVybiBRciYmXCJrb1wiIT09dC5sb2NhbGU/bnVsbDp0LmRhdGE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19KGUscikpPygodD1Yci5nZXRQb29sZWQodG4uYmVmb3JlSW5wdXQsdCxyLG4pKS5kYXRhPWUsT3IodCkpOnQ9bnVsbCxudWxsPT09aT90Om51bGw9PT10P2k6W2ksdF19fSxsbj17Y29sb3I6ITAsZGF0ZTohMCxkYXRldGltZTohMCxcImRhdGV0aW1lLWxvY2FsXCI6ITAsZW1haWw6ITAsbW9udGg6ITAsbnVtYmVyOiEwLHBhc3N3b3JkOiEwLHJhbmdlOiEwLHNlYXJjaDohMCx0ZWw6ITAsdGV4dDohMCx0aW1lOiEwLHVybDohMCx3ZWVrOiEwfTtmdW5jdGlvbiBjbihlKXt2YXIgdD1lJiZlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09dD8hIWxuW2UudHlwZV06XCJ0ZXh0YXJlYVwiPT09dH12YXIgdW49e2NoYW5nZTp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNoYW5nZVwiLGNhcHR1cmVkOlwib25DaGFuZ2VDYXB0dXJlXCJ9LGRlcGVuZGVuY2llczpcImJsdXIgY2hhbmdlIGNsaWNrIGZvY3VzIGlucHV0IGtleWRvd24ga2V5dXAgc2VsZWN0aW9uY2hhbmdlXCIuc3BsaXQoXCIgXCIpfX07ZnVuY3Rpb24gaG4oZSx0LHIpe3JldHVybihlPUdyLmdldFBvb2xlZCh1bi5jaGFuZ2UsZSx0LHIpKS50eXBlPVwiY2hhbmdlXCIseihyKSxPcihlKSxlfXZhciBkbj1udWxsLHBuPW51bGw7ZnVuY3Rpb24gZm4oZSl7c3QoZSl9ZnVuY3Rpb24gbW4oZSl7aWYoYmUoa3IoZSkpKXJldHVybiBlfWZ1bmN0aW9uIGduKGUsdCl7aWYoXCJjaGFuZ2VcIj09PWUpcmV0dXJuIHR9dmFyIF9uPSExO2Z1bmN0aW9uIHluKCl7ZG4mJihkbi5kZXRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIix2bikscG49ZG49bnVsbCl9ZnVuY3Rpb24gdm4oZSl7aWYoXCJ2YWx1ZVwiPT09ZS5wcm9wZXJ0eU5hbWUmJm1uKHBuKSlpZihlPWhuKHBuLGUsbHQoZSkpLEYpc3QoZSk7ZWxzZXtGPSEwO3RyeXtSKGZuLGUpfWZpbmFsbHl7Rj0hMSxVKCl9fX1mdW5jdGlvbiB4bihlLHQscil7XCJmb2N1c1wiPT09ZT8oeW4oKSxwbj1yLChkbj10KS5hdHRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIix2bikpOlwiYmx1clwiPT09ZSYmeW4oKX1mdW5jdGlvbiBibihlKXtpZihcInNlbGVjdGlvbmNoYW5nZVwiPT09ZXx8XCJrZXl1cFwiPT09ZXx8XCJrZXlkb3duXCI9PT1lKXJldHVybiBtbihwbil9ZnVuY3Rpb24gd24oZSx0KXtpZihcImNsaWNrXCI9PT1lKXJldHVybiBtbih0KX1mdW5jdGlvbiBUbihlLHQpe2lmKFwiaW5wdXRcIj09PWV8fFwiY2hhbmdlXCI9PT1lKXJldHVybiBtbih0KX1NJiYoX249Y3QoXCJpbnB1dFwiKSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDk8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSk7dmFyIEVuPXtldmVudFR5cGVzOnVuLF9pc0lucHV0RXZlbnRTdXBwb3J0ZWQ6X24sZXh0cmFjdEV2ZW50czpmdW5jdGlvbihlLHQscixuKXt2YXIgaT10P2tyKHQpOndpbmRvdyxvPWkubm9kZU5hbWUmJmkubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihcInNlbGVjdFwiPT09b3x8XCJpbnB1dFwiPT09byYmXCJmaWxlXCI9PT1pLnR5cGUpdmFyIGE9Z247ZWxzZSBpZihjbihpKSlpZihfbilhPVRuO2Vsc2V7YT1ibjt2YXIgcz14bn1lbHNlKG89aS5ub2RlTmFtZSkmJlwiaW5wdXRcIj09PW8udG9Mb3dlckNhc2UoKSYmKFwiY2hlY2tib3hcIj09PWkudHlwZXx8XCJyYWRpb1wiPT09aS50eXBlKSYmKGE9d24pO2lmKGEmJihhPWEoZSx0KSkpcmV0dXJuIGhuKGEscixuKTtzJiZzKGUsaSx0KSxcImJsdXJcIj09PWUmJihlPWkuX3dyYXBwZXJTdGF0ZSkmJmUuY29udHJvbGxlZCYmXCJudW1iZXJcIj09PWkudHlwZSYmTWUoaSxcIm51bWJlclwiLGkudmFsdWUpfX0sU249R3IuZXh0ZW5kKHt2aWV3Om51bGwsZGV0YWlsOm51bGx9KSxDbj17QWx0OlwiYWx0S2V5XCIsQ29udHJvbDpcImN0cmxLZXlcIixNZXRhOlwibWV0YUtleVwiLFNoaWZ0Olwic2hpZnRLZXlcIn07ZnVuY3Rpb24gTW4oZSl7dmFyIHQ9dGhpcy5uYXRpdmVFdmVudDtyZXR1cm4gdC5nZXRNb2RpZmllclN0YXRlP3QuZ2V0TW9kaWZpZXJTdGF0ZShlKTohIShlPUNuW2VdKSYmISF0W2VdfWZ1bmN0aW9uIGtuKCl7cmV0dXJuIE1ufXZhciBBbj0wLEluPTAsUG49ITEsem49ITEsRG49U24uZXh0ZW5kKHtzY3JlZW5YOm51bGwsc2NyZWVuWTpudWxsLGNsaWVudFg6bnVsbCxjbGllbnRZOm51bGwscGFnZVg6bnVsbCxwYWdlWTpudWxsLGN0cmxLZXk6bnVsbCxzaGlmdEtleTpudWxsLGFsdEtleTpudWxsLG1ldGFLZXk6bnVsbCxnZXRNb2RpZmllclN0YXRlOmtuLGJ1dHRvbjpudWxsLGJ1dHRvbnM6bnVsbCxyZWxhdGVkVGFyZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlbGF0ZWRUYXJnZXR8fChlLmZyb21FbGVtZW50PT09ZS5zcmNFbGVtZW50P2UudG9FbGVtZW50OmUuZnJvbUVsZW1lbnQpfSxtb3ZlbWVudFg6ZnVuY3Rpb24oZSl7aWYoXCJtb3ZlbWVudFhcImluIGUpcmV0dXJuIGUubW92ZW1lbnRYO3ZhciB0PUFuO3JldHVybiBBbj1lLnNjcmVlblgsUG4/XCJtb3VzZW1vdmVcIj09PWUudHlwZT9lLnNjcmVlblgtdDowOihQbj0hMCwwKX0sbW92ZW1lbnRZOmZ1bmN0aW9uKGUpe2lmKFwibW92ZW1lbnRZXCJpbiBlKXJldHVybiBlLm1vdmVtZW50WTt2YXIgdD1JbjtyZXR1cm4gSW49ZS5zY3JlZW5ZLHpuP1wibW91c2Vtb3ZlXCI9PT1lLnR5cGU/ZS5zY3JlZW5ZLXQ6MDooem49ITAsMCl9fSksUm49RG4uZXh0ZW5kKHtwb2ludGVySWQ6bnVsbCx3aWR0aDpudWxsLGhlaWdodDpudWxsLHByZXNzdXJlOm51bGwsdGFuZ2VudGlhbFByZXNzdXJlOm51bGwsdGlsdFg6bnVsbCx0aWx0WTpudWxsLHR3aXN0Om51bGwscG9pbnRlclR5cGU6bnVsbCxpc1ByaW1hcnk6bnVsbH0pLExuPXttb3VzZUVudGVyOntyZWdpc3RyYXRpb25OYW1lOlwib25Nb3VzZUVudGVyXCIsZGVwZW5kZW5jaWVzOltcIm1vdXNlb3V0XCIsXCJtb3VzZW92ZXJcIl19LG1vdXNlTGVhdmU6e3JlZ2lzdHJhdGlvbk5hbWU6XCJvbk1vdXNlTGVhdmVcIixkZXBlbmRlbmNpZXM6W1wibW91c2VvdXRcIixcIm1vdXNlb3ZlclwiXX0scG9pbnRlckVudGVyOntyZWdpc3RyYXRpb25OYW1lOlwib25Qb2ludGVyRW50ZXJcIixkZXBlbmRlbmNpZXM6W1wicG9pbnRlcm91dFwiLFwicG9pbnRlcm92ZXJcIl19LHBvaW50ZXJMZWF2ZTp7cmVnaXN0cmF0aW9uTmFtZTpcIm9uUG9pbnRlckxlYXZlXCIsZGVwZW5kZW5jaWVzOltcInBvaW50ZXJvdXRcIixcInBvaW50ZXJvdmVyXCJdfX0sT249e2V2ZW50VHlwZXM6TG4sZXh0cmFjdEV2ZW50czpmdW5jdGlvbihlLHQscixuLGkpe3ZhciBvPVwibW91c2VvdmVyXCI9PT1lfHxcInBvaW50ZXJvdmVyXCI9PT1lLGE9XCJtb3VzZW91dFwiPT09ZXx8XCJwb2ludGVyb3V0XCI9PT1lO2lmKG8mJjA9PSgzMiZpKSYmKHIucmVsYXRlZFRhcmdldHx8ci5mcm9tRWxlbWVudCl8fCFhJiYhbylyZXR1cm4gbnVsbDsobz1uLndpbmRvdz09PW4/bjoobz1uLm93bmVyRG9jdW1lbnQpP28uZGVmYXVsdFZpZXd8fG8ucGFyZW50V2luZG93OndpbmRvdyxhKT8oYT10LG51bGwhPT0odD0odD1yLnJlbGF0ZWRUYXJnZXR8fHIudG9FbGVtZW50KT9Dcih0KTpudWxsKSYmKHQhPT1RZSh0KXx8NSE9PXQudGFnJiY2IT09dC50YWcpJiYodD1udWxsKSk6YT1udWxsO2lmKGE9PT10KXJldHVybiBudWxsO2lmKFwibW91c2VvdXRcIj09PWV8fFwibW91c2VvdmVyXCI9PT1lKXZhciBzPURuLGw9TG4ubW91c2VMZWF2ZSxjPUxuLm1vdXNlRW50ZXIsdT1cIm1vdXNlXCI7ZWxzZVwicG9pbnRlcm91dFwiIT09ZSYmXCJwb2ludGVyb3ZlclwiIT09ZXx8KHM9Um4sbD1Mbi5wb2ludGVyTGVhdmUsYz1Mbi5wb2ludGVyRW50ZXIsdT1cInBvaW50ZXJcIik7aWYoZT1udWxsPT1hP286a3IoYSksbz1udWxsPT10P286a3IodCksKGw9cy5nZXRQb29sZWQobCxhLHIsbikpLnR5cGU9dStcImxlYXZlXCIsbC50YXJnZXQ9ZSxsLnJlbGF0ZWRUYXJnZXQ9bywocj1zLmdldFBvb2xlZChjLHQscixuKSkudHlwZT11K1wiZW50ZXJcIixyLnRhcmdldD1vLHIucmVsYXRlZFRhcmdldD1lLHU9dCwobj1hKSYmdSllOntmb3IoYz11LGE9MCxlPXM9bjtlO2U9SXIoZSkpYSsrO2ZvcihlPTAsdD1jO3Q7dD1Jcih0KSllKys7Zm9yKDswPGEtZTspcz1JcihzKSxhLS07Zm9yKDswPGUtYTspYz1JcihjKSxlLS07Zm9yKDthLS07KXtpZihzPT09Y3x8cz09PWMuYWx0ZXJuYXRlKWJyZWFrIGU7cz1JcihzKSxjPUlyKGMpfXM9bnVsbH1lbHNlIHM9bnVsbDtmb3IoYz1zLHM9W107biYmbiE9PWMmJihudWxsPT09KGE9bi5hbHRlcm5hdGUpfHxhIT09Yyk7KXMucHVzaChuKSxuPUlyKG4pO2ZvcihuPVtdO3UmJnUhPT1jJiYobnVsbD09PShhPXUuYWx0ZXJuYXRlKXx8YSE9PWMpOyluLnB1c2godSksdT1Jcih1KTtmb3IodT0wO3U8cy5sZW5ndGg7dSsrKVJyKHNbdV0sXCJidWJibGVkXCIsbCk7Zm9yKHU9bi5sZW5ndGg7MDx1LS07KVJyKG5bdV0sXCJjYXB0dXJlZFwiLHIpO3JldHVybiAwPT0oNjQmaSk/W2xdOltsLHJdfX07dmFyIEJuPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5pcz9PYmplY3QuaXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJigwIT09ZXx8MS9lPT0xL3QpfHxlIT1lJiZ0IT10fSxGbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIGpuKGUsdCl7aWYoQm4oZSx0KSlyZXR1cm4hMDtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiB0fHxudWxsPT09dClyZXR1cm4hMTt2YXIgcj1PYmplY3Qua2V5cyhlKSxuPU9iamVjdC5rZXlzKHQpO2lmKHIubGVuZ3RoIT09bi5sZW5ndGgpcmV0dXJuITE7Zm9yKG49MDtuPHIubGVuZ3RoO24rKylpZighRm4uY2FsbCh0LHJbbl0pfHwhQm4oZVtyW25dXSx0W3Jbbl1dKSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgVW49TSYmXCJkb2N1bWVudE1vZGVcImluIGRvY3VtZW50JiYxMT49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLE5uPXtzZWxlY3Q6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25TZWxlY3RcIixjYXB0dXJlZDpcIm9uU2VsZWN0Q2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6XCJibHVyIGNvbnRleHRtZW51IGRyYWdlbmQgZm9jdXMga2V5ZG93biBrZXl1cCBtb3VzZWRvd24gbW91c2V1cCBzZWxlY3Rpb25jaGFuZ2VcIi5zcGxpdChcIiBcIil9fSxWbj1udWxsLEduPW51bGwscW49bnVsbCxabj0hMTtmdW5jdGlvbiAkbihlLHQpe3ZhciByPXQud2luZG93PT09dD90LmRvY3VtZW50Ojk9PT10Lm5vZGVUeXBlP3Q6dC5vd25lckRvY3VtZW50O3JldHVybiBabnx8bnVsbD09Vm58fFZuIT09Y3Iocik/bnVsbDooXCJzZWxlY3Rpb25TdGFydFwiaW4ocj1WbikmJnByKHIpP3I9e3N0YXJ0OnIuc2VsZWN0aW9uU3RhcnQsZW5kOnIuc2VsZWN0aW9uRW5kfTpyPXthbmNob3JOb2RlOihyPShyLm93bmVyRG9jdW1lbnQmJnIub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld3x8d2luZG93KS5nZXRTZWxlY3Rpb24oKSkuYW5jaG9yTm9kZSxhbmNob3JPZmZzZXQ6ci5hbmNob3JPZmZzZXQsZm9jdXNOb2RlOnIuZm9jdXNOb2RlLGZvY3VzT2Zmc2V0OnIuZm9jdXNPZmZzZXR9LHFuJiZqbihxbixyKT9udWxsOihxbj1yLChlPUdyLmdldFBvb2xlZChObi5zZWxlY3QsR24sZSx0KSkudHlwZT1cInNlbGVjdFwiLGUudGFyZ2V0PVZuLE9yKGUpLGUpKX12YXIgV249e2V2ZW50VHlwZXM6Tm4sZXh0cmFjdEV2ZW50czpmdW5jdGlvbihlLHQscixuLGksbyl7aWYoIShvPSEoaT1vfHwobi53aW5kb3c9PT1uP24uZG9jdW1lbnQ6OT09PW4ubm9kZVR5cGU/bjpuLm93bmVyRG9jdW1lbnQpKSkpe2U6e2k9SmUoaSksbz1TLm9uU2VsZWN0O2Zvcih2YXIgYT0wO2E8by5sZW5ndGg7YSsrKWlmKCFpLmhhcyhvW2FdKSl7aT0hMTticmVhayBlfWk9ITB9bz0haX1pZihvKXJldHVybiBudWxsO3N3aXRjaChpPXQ/a3IodCk6d2luZG93LGUpe2Nhc2VcImZvY3VzXCI6KGNuKGkpfHxcInRydWVcIj09PWkuY29udGVudEVkaXRhYmxlKSYmKFZuPWksR249dCxxbj1udWxsKTticmVhaztjYXNlXCJibHVyXCI6cW49R249Vm49bnVsbDticmVhaztjYXNlXCJtb3VzZWRvd25cIjpabj0hMDticmVhaztjYXNlXCJjb250ZXh0bWVudVwiOmNhc2VcIm1vdXNldXBcIjpjYXNlXCJkcmFnZW5kXCI6cmV0dXJuIFpuPSExLCRuKHIsbik7Y2FzZVwic2VsZWN0aW9uY2hhbmdlXCI6aWYoVW4pYnJlYWs7Y2FzZVwia2V5ZG93blwiOmNhc2VcImtleXVwXCI6cmV0dXJuICRuKHIsbil9cmV0dXJuIG51bGx9fSxYbj1Hci5leHRlbmQoe2FuaW1hdGlvbk5hbWU6bnVsbCxlbGFwc2VkVGltZTpudWxsLHBzZXVkb0VsZW1lbnQ6bnVsbH0pLEhuPUdyLmV4dGVuZCh7Y2xpcGJvYXJkRGF0YTpmdW5jdGlvbihlKXtyZXR1cm5cImNsaXBib2FyZERhdGFcImluIGU/ZS5jbGlwYm9hcmREYXRhOndpbmRvdy5jbGlwYm9hcmREYXRhfX0pLFluPVNuLmV4dGVuZCh7cmVsYXRlZFRhcmdldDpudWxsfSk7ZnVuY3Rpb24gS24oZSl7dmFyIHQ9ZS5rZXlDb2RlO3JldHVyblwiY2hhckNvZGVcImluIGU/MD09PShlPWUuY2hhckNvZGUpJiYxMz09PXQmJihlPTEzKTplPXQsMTA9PT1lJiYoZT0xMyksMzI8PWV8fDEzPT09ZT9lOjB9dmFyIEpuPXtFc2M6XCJFc2NhcGVcIixTcGFjZWJhcjpcIiBcIixMZWZ0OlwiQXJyb3dMZWZ0XCIsVXA6XCJBcnJvd1VwXCIsUmlnaHQ6XCJBcnJvd1JpZ2h0XCIsRG93bjpcIkFycm93RG93blwiLERlbDpcIkRlbGV0ZVwiLFdpbjpcIk9TXCIsTWVudTpcIkNvbnRleHRNZW51XCIsQXBwczpcIkNvbnRleHRNZW51XCIsU2Nyb2xsOlwiU2Nyb2xsTG9ja1wiLE1velByaW50YWJsZUtleTpcIlVuaWRlbnRpZmllZFwifSxRbj17ODpcIkJhY2tzcGFjZVwiLDk6XCJUYWJcIiwxMjpcIkNsZWFyXCIsMTM6XCJFbnRlclwiLDE2OlwiU2hpZnRcIiwxNzpcIkNvbnRyb2xcIiwxODpcIkFsdFwiLDE5OlwiUGF1c2VcIiwyMDpcIkNhcHNMb2NrXCIsMjc6XCJFc2NhcGVcIiwzMjpcIiBcIiwzMzpcIlBhZ2VVcFwiLDM0OlwiUGFnZURvd25cIiwzNTpcIkVuZFwiLDM2OlwiSG9tZVwiLDM3OlwiQXJyb3dMZWZ0XCIsMzg6XCJBcnJvd1VwXCIsMzk6XCJBcnJvd1JpZ2h0XCIsNDA6XCJBcnJvd0Rvd25cIiw0NTpcIkluc2VydFwiLDQ2OlwiRGVsZXRlXCIsMTEyOlwiRjFcIiwxMTM6XCJGMlwiLDExNDpcIkYzXCIsMTE1OlwiRjRcIiwxMTY6XCJGNVwiLDExNzpcIkY2XCIsMTE4OlwiRjdcIiwxMTk6XCJGOFwiLDEyMDpcIkY5XCIsMTIxOlwiRjEwXCIsMTIyOlwiRjExXCIsMTIzOlwiRjEyXCIsMTQ0OlwiTnVtTG9ja1wiLDE0NTpcIlNjcm9sbExvY2tcIiwyMjQ6XCJNZXRhXCJ9LGVpPVNuLmV4dGVuZCh7a2V5OmZ1bmN0aW9uKGUpe2lmKGUua2V5KXt2YXIgdD1KbltlLmtleV18fGUua2V5O2lmKFwiVW5pZGVudGlmaWVkXCIhPT10KXJldHVybiB0fXJldHVyblwia2V5cHJlc3NcIj09PWUudHlwZT8xMz09PShlPUtuKGUpKT9cIkVudGVyXCI6U3RyaW5nLmZyb21DaGFyQ29kZShlKTpcImtleWRvd25cIj09PWUudHlwZXx8XCJrZXl1cFwiPT09ZS50eXBlP1FuW2Uua2V5Q29kZV18fFwiVW5pZGVudGlmaWVkXCI6XCJcIn0sbG9jYXRpb246bnVsbCxjdHJsS2V5Om51bGwsc2hpZnRLZXk6bnVsbCxhbHRLZXk6bnVsbCxtZXRhS2V5Om51bGwscmVwZWF0Om51bGwsbG9jYWxlOm51bGwsZ2V0TW9kaWZpZXJTdGF0ZTprbixjaGFyQ29kZTpmdW5jdGlvbihlKXtyZXR1cm5cImtleXByZXNzXCI9PT1lLnR5cGU/S24oZSk6MH0sa2V5Q29kZTpmdW5jdGlvbihlKXtyZXR1cm5cImtleWRvd25cIj09PWUudHlwZXx8XCJrZXl1cFwiPT09ZS50eXBlP2Uua2V5Q29kZTowfSx3aGljaDpmdW5jdGlvbihlKXtyZXR1cm5cImtleXByZXNzXCI9PT1lLnR5cGU/S24oZSk6XCJrZXlkb3duXCI9PT1lLnR5cGV8fFwia2V5dXBcIj09PWUudHlwZT9lLmtleUNvZGU6MH19KSx0aT1Ebi5leHRlbmQoe2RhdGFUcmFuc2ZlcjpudWxsfSkscmk9U24uZXh0ZW5kKHt0b3VjaGVzOm51bGwsdGFyZ2V0VG91Y2hlczpudWxsLGNoYW5nZWRUb3VjaGVzOm51bGwsYWx0S2V5Om51bGwsbWV0YUtleTpudWxsLGN0cmxLZXk6bnVsbCxzaGlmdEtleTpudWxsLGdldE1vZGlmaWVyU3RhdGU6a259KSxuaT1Hci5leHRlbmQoe3Byb3BlcnR5TmFtZTpudWxsLGVsYXBzZWRUaW1lOm51bGwscHNldWRvRWxlbWVudDpudWxsfSksaWk9RG4uZXh0ZW5kKHtkZWx0YVg6ZnVuY3Rpb24oZSl7cmV0dXJuXCJkZWx0YVhcImluIGU/ZS5kZWx0YVg6XCJ3aGVlbERlbHRhWFwiaW4gZT8tZS53aGVlbERlbHRhWDowfSxkZWx0YVk6ZnVuY3Rpb24oZSl7cmV0dXJuXCJkZWx0YVlcImluIGU/ZS5kZWx0YVk6XCJ3aGVlbERlbHRhWVwiaW4gZT8tZS53aGVlbERlbHRhWTpcIndoZWVsRGVsdGFcImluIGU/LWUud2hlZWxEZWx0YTowfSxkZWx0YVo6bnVsbCxkZWx0YU1vZGU6bnVsbH0pLG9pPXtldmVudFR5cGVzOkJ0LGV4dHJhY3RFdmVudHM6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9RnQuZ2V0KGUpO2lmKCFpKXJldHVybiBudWxsO3N3aXRjaChlKXtjYXNlXCJrZXlwcmVzc1wiOmlmKDA9PT1LbihyKSlyZXR1cm4gbnVsbDtjYXNlXCJrZXlkb3duXCI6Y2FzZVwia2V5dXBcIjplPWVpO2JyZWFrO2Nhc2VcImJsdXJcIjpjYXNlXCJmb2N1c1wiOmU9WW47YnJlYWs7Y2FzZVwiY2xpY2tcIjppZigyPT09ci5idXR0b24pcmV0dXJuIG51bGw7Y2FzZVwiYXV4Y2xpY2tcIjpjYXNlXCJkYmxjbGlja1wiOmNhc2VcIm1vdXNlZG93blwiOmNhc2VcIm1vdXNlbW92ZVwiOmNhc2VcIm1vdXNldXBcIjpjYXNlXCJtb3VzZW91dFwiOmNhc2VcIm1vdXNlb3ZlclwiOmNhc2VcImNvbnRleHRtZW51XCI6ZT1EbjticmVhaztjYXNlXCJkcmFnXCI6Y2FzZVwiZHJhZ2VuZFwiOmNhc2VcImRyYWdlbnRlclwiOmNhc2VcImRyYWdleGl0XCI6Y2FzZVwiZHJhZ2xlYXZlXCI6Y2FzZVwiZHJhZ292ZXJcIjpjYXNlXCJkcmFnc3RhcnRcIjpjYXNlXCJkcm9wXCI6ZT10aTticmVhaztjYXNlXCJ0b3VjaGNhbmNlbFwiOmNhc2VcInRvdWNoZW5kXCI6Y2FzZVwidG91Y2htb3ZlXCI6Y2FzZVwidG91Y2hzdGFydFwiOmU9cmk7YnJlYWs7Y2FzZSAkZTpjYXNlIFdlOmNhc2UgWGU6ZT1YbjticmVhaztjYXNlIEhlOmU9bmk7YnJlYWs7Y2FzZVwic2Nyb2xsXCI6ZT1TbjticmVhaztjYXNlXCJ3aGVlbFwiOmU9aWk7YnJlYWs7Y2FzZVwiY29weVwiOmNhc2VcImN1dFwiOmNhc2VcInBhc3RlXCI6ZT1IbjticmVhaztjYXNlXCJnb3Rwb2ludGVyY2FwdHVyZVwiOmNhc2VcImxvc3Rwb2ludGVyY2FwdHVyZVwiOmNhc2VcInBvaW50ZXJjYW5jZWxcIjpjYXNlXCJwb2ludGVyZG93blwiOmNhc2VcInBvaW50ZXJtb3ZlXCI6Y2FzZVwicG9pbnRlcm91dFwiOmNhc2VcInBvaW50ZXJvdmVyXCI6Y2FzZVwicG9pbnRlcnVwXCI6ZT1SbjticmVhaztkZWZhdWx0OmU9R3J9cmV0dXJuIE9yKHQ9ZS5nZXRQb29sZWQoaSx0LHIsbikpLHR9fTtpZih5KXRocm93IEVycm9yKGEoMTAxKSk7eT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcIlJlc3BvbmRlckV2ZW50UGx1Z2luIFNpbXBsZUV2ZW50UGx1Z2luIEVudGVyTGVhdmVFdmVudFBsdWdpbiBDaGFuZ2VFdmVudFBsdWdpbiBTZWxlY3RFdmVudFBsdWdpbiBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luXCIuc3BsaXQoXCIgXCIpKSx4KCksZj1BcixtPU1yLGc9a3IsQyh7U2ltcGxlRXZlbnRQbHVnaW46b2ksRW50ZXJMZWF2ZUV2ZW50UGx1Z2luOk9uLENoYW5nZUV2ZW50UGx1Z2luOkVuLFNlbGVjdEV2ZW50UGx1Z2luOlduLEJlZm9yZUlucHV0RXZlbnRQbHVnaW46c259KTt2YXIgYWk9W10sc2k9LTE7ZnVuY3Rpb24gbGkoZSl7MD5zaXx8KGUuY3VycmVudD1haVtzaV0sYWlbc2ldPW51bGwsc2ktLSl9ZnVuY3Rpb24gY2koZSx0KXtzaSsrLGFpW3NpXT1lLmN1cnJlbnQsZS5jdXJyZW50PXR9dmFyIHVpPXt9LGhpPXtjdXJyZW50OnVpfSxkaT17Y3VycmVudDohMX0scGk9dWk7ZnVuY3Rpb24gZmkoZSx0KXt2YXIgcj1lLnR5cGUuY29udGV4dFR5cGVzO2lmKCFyKXJldHVybiB1aTt2YXIgbj1lLnN0YXRlTm9kZTtpZihuJiZuLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQ9PT10KXJldHVybiBuLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0O3ZhciBpLG89e307Zm9yKGkgaW4gcilvW2ldPXRbaV07cmV0dXJuIG4mJigoZT1lLnN0YXRlTm9kZSkuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dD10LGUuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQ9byksb31mdW5jdGlvbiBtaShlKXtyZXR1cm4gbnVsbCE9KGU9ZS5jaGlsZENvbnRleHRUeXBlcyl9ZnVuY3Rpb24gZ2koKXtsaShkaSksbGkoaGkpfWZ1bmN0aW9uIF9pKGUsdCxyKXtpZihoaS5jdXJyZW50IT09dWkpdGhyb3cgRXJyb3IoYSgxNjgpKTtjaShoaSx0KSxjaShkaSxyKX1mdW5jdGlvbiB5aShlLHQscil7dmFyIG49ZS5zdGF0ZU5vZGU7aWYoZT10LmNoaWxkQ29udGV4dFR5cGVzLFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4uZ2V0Q2hpbGRDb250ZXh0KXJldHVybiByO2Zvcih2YXIgbyBpbiBuPW4uZ2V0Q2hpbGRDb250ZXh0KCkpaWYoIShvIGluIGUpKXRocm93IEVycm9yKGEoMTA4LGdlKHQpfHxcIlVua25vd25cIixvKSk7cmV0dXJuIGkoe30scix7fSxuKX1mdW5jdGlvbiB2aShlKXtyZXR1cm4gZT0oZT1lLnN0YXRlTm9kZSkmJmUuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHR8fHVpLHBpPWhpLmN1cnJlbnQsY2koaGksZSksY2koZGksZGkuY3VycmVudCksITB9ZnVuY3Rpb24geGkoZSx0LHIpe3ZhciBuPWUuc3RhdGVOb2RlO2lmKCFuKXRocm93IEVycm9yKGEoMTY5KSk7cj8oZT15aShlLHQscGkpLG4uX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQ9ZSxsaShkaSksbGkoaGkpLGNpKGhpLGUpKTpsaShkaSksY2koZGkscil9dmFyIGJpPW8udW5zdGFibGVfcnVuV2l0aFByaW9yaXR5LHdpPW8udW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayxUaT1vLnVuc3RhYmxlX2NhbmNlbENhbGxiYWNrLEVpPW8udW5zdGFibGVfcmVxdWVzdFBhaW50LFNpPW8udW5zdGFibGVfbm93LENpPW8udW5zdGFibGVfZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwsTWk9by51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eSxraT1vLnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5LEFpPW8udW5zdGFibGVfTm9ybWFsUHJpb3JpdHksSWk9by51bnN0YWJsZV9Mb3dQcmlvcml0eSxQaT1vLnVuc3RhYmxlX0lkbGVQcmlvcml0eSx6aT17fSxEaT1vLnVuc3RhYmxlX3Nob3VsZFlpZWxkLFJpPXZvaWQgMCE9PUVpP0VpOmZ1bmN0aW9uKCl7fSxMaT1udWxsLE9pPW51bGwsQmk9ITEsRmk9U2koKSxqaT0xZTQ+Rmk/U2k6ZnVuY3Rpb24oKXtyZXR1cm4gU2koKS1GaX07ZnVuY3Rpb24gVWkoKXtzd2l0Y2goQ2koKSl7Y2FzZSBNaTpyZXR1cm4gOTk7Y2FzZSBraTpyZXR1cm4gOTg7Y2FzZSBBaTpyZXR1cm4gOTc7Y2FzZSBJaTpyZXR1cm4gOTY7Y2FzZSBQaTpyZXR1cm4gOTU7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDMzMikpfX1mdW5jdGlvbiBOaShlKXtzd2l0Y2goZSl7Y2FzZSA5OTpyZXR1cm4gTWk7Y2FzZSA5ODpyZXR1cm4ga2k7Y2FzZSA5NzpyZXR1cm4gQWk7Y2FzZSA5NjpyZXR1cm4gSWk7Y2FzZSA5NTpyZXR1cm4gUGk7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDMzMikpfX1mdW5jdGlvbiBWaShlLHQpe3JldHVybiBlPU5pKGUpLGJpKGUsdCl9ZnVuY3Rpb24gR2koZSx0LHIpe3JldHVybiBlPU5pKGUpLHdpKGUsdCxyKX1mdW5jdGlvbiBxaShlKXtyZXR1cm4gbnVsbD09PUxpPyhMaT1bZV0sT2k9d2koTWksJGkpKTpMaS5wdXNoKGUpLHppfWZ1bmN0aW9uIFppKCl7aWYobnVsbCE9PU9pKXt2YXIgZT1PaTtPaT1udWxsLFRpKGUpfSRpKCl9ZnVuY3Rpb24gJGkoKXtpZighQmkmJm51bGwhPT1MaSl7Qmk9ITA7dmFyIGU9MDt0cnl7dmFyIHQ9TGk7VmkoOTksKGZ1bmN0aW9uKCl7Zm9yKDtlPHQubGVuZ3RoO2UrKyl7dmFyIHI9dFtlXTtkb3tyPXIoITApfXdoaWxlKG51bGwhPT1yKX19KSksTGk9bnVsbH1jYXRjaCh0KXt0aHJvdyBudWxsIT09TGkmJihMaT1MaS5zbGljZShlKzEpKSx3aShNaSxaaSksdH1maW5hbGx5e0JpPSExfX19ZnVuY3Rpb24gV2koZSx0LHIpe3JldHVybiAxMDczNzQxODIxLSgxKygoMTA3Mzc0MTgyMS1lK3QvMTApLyhyLz0xMCl8MCkpKnJ9ZnVuY3Rpb24gWGkoZSx0KXtpZihlJiZlLmRlZmF1bHRQcm9wcylmb3IodmFyIHIgaW4gdD1pKHt9LHQpLGU9ZS5kZWZhdWx0UHJvcHMpdm9pZCAwPT09dFtyXSYmKHRbcl09ZVtyXSk7cmV0dXJuIHR9dmFyIEhpPXtjdXJyZW50Om51bGx9LFlpPW51bGwsS2k9bnVsbCxKaT1udWxsO2Z1bmN0aW9uIFFpKCl7Smk9S2k9WWk9bnVsbH1mdW5jdGlvbiBlbyhlKXt2YXIgdD1IaS5jdXJyZW50O2xpKEhpKSxlLnR5cGUuX2NvbnRleHQuX2N1cnJlbnRWYWx1ZT10fWZ1bmN0aW9uIHRvKGUsdCl7Zm9yKDtudWxsIT09ZTspe3ZhciByPWUuYWx0ZXJuYXRlO2lmKGUuY2hpbGRFeHBpcmF0aW9uVGltZTx0KWUuY2hpbGRFeHBpcmF0aW9uVGltZT10LG51bGwhPT1yJiZyLmNoaWxkRXhwaXJhdGlvblRpbWU8dCYmKHIuY2hpbGRFeHBpcmF0aW9uVGltZT10KTtlbHNle2lmKCEobnVsbCE9PXImJnIuY2hpbGRFeHBpcmF0aW9uVGltZTx0KSlicmVhaztyLmNoaWxkRXhwaXJhdGlvblRpbWU9dH1lPWUucmV0dXJufX1mdW5jdGlvbiBybyhlLHQpe1lpPWUsSmk9S2k9bnVsbCxudWxsIT09KGU9ZS5kZXBlbmRlbmNpZXMpJiZudWxsIT09ZS5maXJzdENvbnRleHQmJihlLmV4cGlyYXRpb25UaW1lPj10JiYoSWE9ITApLGUuZmlyc3RDb250ZXh0PW51bGwpfWZ1bmN0aW9uIG5vKGUsdCl7aWYoSmkhPT1lJiYhMSE9PXQmJjAhPT10KWlmKFwibnVtYmVyXCI9PXR5cGVvZiB0JiYxMDczNzQxODIzIT09dHx8KEppPWUsdD0xMDczNzQxODIzKSx0PXtjb250ZXh0OmUsb2JzZXJ2ZWRCaXRzOnQsbmV4dDpudWxsfSxudWxsPT09S2kpe2lmKG51bGw9PT1ZaSl0aHJvdyBFcnJvcihhKDMwOCkpO0tpPXQsWWkuZGVwZW5kZW5jaWVzPXtleHBpcmF0aW9uVGltZTowLGZpcnN0Q29udGV4dDp0LHJlc3BvbmRlcnM6bnVsbH19ZWxzZSBLaT1LaS5uZXh0PXQ7cmV0dXJuIGUuX2N1cnJlbnRWYWx1ZX12YXIgaW89ITE7ZnVuY3Rpb24gb28oZSl7ZS51cGRhdGVRdWV1ZT17YmFzZVN0YXRlOmUubWVtb2l6ZWRTdGF0ZSxiYXNlUXVldWU6bnVsbCxzaGFyZWQ6e3BlbmRpbmc6bnVsbH0sZWZmZWN0czpudWxsfX1mdW5jdGlvbiBhbyhlLHQpe2U9ZS51cGRhdGVRdWV1ZSx0LnVwZGF0ZVF1ZXVlPT09ZSYmKHQudXBkYXRlUXVldWU9e2Jhc2VTdGF0ZTplLmJhc2VTdGF0ZSxiYXNlUXVldWU6ZS5iYXNlUXVldWUsc2hhcmVkOmUuc2hhcmVkLGVmZmVjdHM6ZS5lZmZlY3RzfSl9ZnVuY3Rpb24gc28oZSx0KXtyZXR1cm4oZT17ZXhwaXJhdGlvblRpbWU6ZSxzdXNwZW5zZUNvbmZpZzp0LHRhZzowLHBheWxvYWQ6bnVsbCxjYWxsYmFjazpudWxsLG5leHQ6bnVsbH0pLm5leHQ9ZX1mdW5jdGlvbiBsbyhlLHQpe2lmKG51bGwhPT0oZT1lLnVwZGF0ZVF1ZXVlKSl7dmFyIHI9KGU9ZS5zaGFyZWQpLnBlbmRpbmc7bnVsbD09PXI/dC5uZXh0PXQ6KHQubmV4dD1yLm5leHQsci5uZXh0PXQpLGUucGVuZGluZz10fX1mdW5jdGlvbiBjbyhlLHQpe3ZhciByPWUuYWx0ZXJuYXRlO251bGwhPT1yJiZhbyhyLGUpLG51bGw9PT0ocj0oZT1lLnVwZGF0ZVF1ZXVlKS5iYXNlUXVldWUpPyhlLmJhc2VRdWV1ZT10Lm5leHQ9dCx0Lm5leHQ9dCk6KHQubmV4dD1yLm5leHQsci5uZXh0PXQpfWZ1bmN0aW9uIHVvKGUsdCxyLG4pe3ZhciBvPWUudXBkYXRlUXVldWU7aW89ITE7dmFyIGE9by5iYXNlUXVldWUscz1vLnNoYXJlZC5wZW5kaW5nO2lmKG51bGwhPT1zKXtpZihudWxsIT09YSl7dmFyIGw9YS5uZXh0O2EubmV4dD1zLm5leHQscy5uZXh0PWx9YT1zLG8uc2hhcmVkLnBlbmRpbmc9bnVsbCxudWxsIT09KGw9ZS5hbHRlcm5hdGUpJiYobnVsbCE9PShsPWwudXBkYXRlUXVldWUpJiYobC5iYXNlUXVldWU9cykpfWlmKG51bGwhPT1hKXtsPWEubmV4dDt2YXIgYz1vLmJhc2VTdGF0ZSx1PTAsaD1udWxsLGQ9bnVsbCxwPW51bGw7aWYobnVsbCE9PWwpZm9yKHZhciBmPWw7Oyl7aWYoKHM9Zi5leHBpcmF0aW9uVGltZSk8bil7dmFyIG09e2V4cGlyYXRpb25UaW1lOmYuZXhwaXJhdGlvblRpbWUsc3VzcGVuc2VDb25maWc6Zi5zdXNwZW5zZUNvbmZpZyx0YWc6Zi50YWcscGF5bG9hZDpmLnBheWxvYWQsY2FsbGJhY2s6Zi5jYWxsYmFjayxuZXh0Om51bGx9O251bGw9PT1wPyhkPXA9bSxoPWMpOnA9cC5uZXh0PW0scz51JiYodT1zKX1lbHNle251bGwhPT1wJiYocD1wLm5leHQ9e2V4cGlyYXRpb25UaW1lOjEwNzM3NDE4MjMsc3VzcGVuc2VDb25maWc6Zi5zdXNwZW5zZUNvbmZpZyx0YWc6Zi50YWcscGF5bG9hZDpmLnBheWxvYWQsY2FsbGJhY2s6Zi5jYWxsYmFjayxuZXh0Om51bGx9KSxvbChzLGYuc3VzcGVuc2VDb25maWcpO2U6e3ZhciBnPWUsXz1mO3N3aXRjaChzPXQsbT1yLF8udGFnKXtjYXNlIDE6aWYoXCJmdW5jdGlvblwiPT10eXBlb2YoZz1fLnBheWxvYWQpKXtjPWcuY2FsbChtLGMscyk7YnJlYWsgZX1jPWc7YnJlYWsgZTtjYXNlIDM6Zy5lZmZlY3RUYWc9LTQwOTcmZy5lZmZlY3RUYWd8NjQ7Y2FzZSAwOmlmKG51bGw9PShzPVwiZnVuY3Rpb25cIj09dHlwZW9mKGc9Xy5wYXlsb2FkKT9nLmNhbGwobSxjLHMpOmcpKWJyZWFrIGU7Yz1pKHt9LGMscyk7YnJlYWsgZTtjYXNlIDI6aW89ITB9fW51bGwhPT1mLmNhbGxiYWNrJiYoZS5lZmZlY3RUYWd8PTMyLG51bGw9PT0ocz1vLmVmZmVjdHMpP28uZWZmZWN0cz1bZl06cy5wdXNoKGYpKX1pZihudWxsPT09KGY9Zi5uZXh0KXx8Zj09PWwpe2lmKG51bGw9PT0ocz1vLnNoYXJlZC5wZW5kaW5nKSlicmVhaztmPWEubmV4dD1zLm5leHQscy5uZXh0PWwsby5iYXNlUXVldWU9YT1zLG8uc2hhcmVkLnBlbmRpbmc9bnVsbH19bnVsbD09PXA/aD1jOnAubmV4dD1kLG8uYmFzZVN0YXRlPWgsby5iYXNlUXVldWU9cCxhbCh1KSxlLmV4cGlyYXRpb25UaW1lPXUsZS5tZW1vaXplZFN0YXRlPWN9fWZ1bmN0aW9uIGhvKGUsdCxyKXtpZihlPXQuZWZmZWN0cyx0LmVmZmVjdHM9bnVsbCxudWxsIT09ZSlmb3IodD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdLGk9bi5jYWxsYmFjaztpZihudWxsIT09aSl7aWYobi5jYWxsYmFjaz1udWxsLG49aSxpPXIsXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBFcnJvcihhKDE5MSxuKSk7bi5jYWxsKGkpfX19dmFyIHBvPVkuUmVhY3RDdXJyZW50QmF0Y2hDb25maWcsZm89KG5ldyBuLkNvbXBvbmVudCkucmVmcztmdW5jdGlvbiBtbyhlLHQscixuKXtyPW51bGw9PShyPXIobix0PWUubWVtb2l6ZWRTdGF0ZSkpP3Q6aSh7fSx0LHIpLGUubWVtb2l6ZWRTdGF0ZT1yLDA9PT1lLmV4cGlyYXRpb25UaW1lJiYoZS51cGRhdGVRdWV1ZS5iYXNlU3RhdGU9cil9dmFyIGdvPXtpc01vdW50ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZT1lLl9yZWFjdEludGVybmFsRmliZXIpJiZRZShlKT09PWV9LGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbihlLHQscil7ZT1lLl9yZWFjdEludGVybmFsRmliZXI7dmFyIG49JHMoKSxpPXBvLnN1c3BlbnNlOyhpPXNvKG49V3MobixlLGkpLGkpKS5wYXlsb2FkPXQsbnVsbCE9ciYmKGkuY2FsbGJhY2s9ciksbG8oZSxpKSxYcyhlLG4pfSxlbnF1ZXVlUmVwbGFjZVN0YXRlOmZ1bmN0aW9uKGUsdCxyKXtlPWUuX3JlYWN0SW50ZXJuYWxGaWJlcjt2YXIgbj0kcygpLGk9cG8uc3VzcGVuc2U7KGk9c28obj1XcyhuLGUsaSksaSkpLnRhZz0xLGkucGF5bG9hZD10LG51bGwhPXImJihpLmNhbGxiYWNrPXIpLGxvKGUsaSksWHMoZSxuKX0sZW5xdWV1ZUZvcmNlVXBkYXRlOmZ1bmN0aW9uKGUsdCl7ZT1lLl9yZWFjdEludGVybmFsRmliZXI7dmFyIHI9JHMoKSxuPXBvLnN1c3BlbnNlOyhuPXNvKHI9V3MocixlLG4pLG4pKS50YWc9MixudWxsIT10JiYobi5jYWxsYmFjaz10KSxsbyhlLG4pLFhzKGUscil9fTtmdW5jdGlvbiBfbyhlLHQscixuLGksbyxhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZihlPWUuc3RhdGVOb2RlKS5zaG91bGRDb21wb25lbnRVcGRhdGU/ZS5zaG91bGRDb21wb25lbnRVcGRhdGUobixvLGEpOiF0LnByb3RvdHlwZXx8IXQucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50fHwoIWpuKHIsbil8fCFqbihpLG8pKX1mdW5jdGlvbiB5byhlLHQscil7dmFyIG49ITEsaT11aSxvPXQuY29udGV4dFR5cGU7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIG8mJm51bGwhPT1vP289bm8obyk6KGk9bWkodCk/cGk6aGkuY3VycmVudCxvPShuPW51bGwhPShuPXQuY29udGV4dFR5cGVzKSk/ZmkoZSxpKTp1aSksdD1uZXcgdChyLG8pLGUubWVtb2l6ZWRTdGF0ZT1udWxsIT09dC5zdGF0ZSYmdm9pZCAwIT09dC5zdGF0ZT90LnN0YXRlOm51bGwsdC51cGRhdGVyPWdvLGUuc3RhdGVOb2RlPXQsdC5fcmVhY3RJbnRlcm5hbEZpYmVyPWUsbiYmKChlPWUuc3RhdGVOb2RlKS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0PWksZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dD1vKSx0fWZ1bmN0aW9uIHZvKGUsdCxyLG4pe2U9dC5zdGF0ZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJnQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhyLG4pLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJnQuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMocixuKSx0LnN0YXRlIT09ZSYmZ28uZW5xdWV1ZVJlcGxhY2VTdGF0ZSh0LHQuc3RhdGUsbnVsbCl9ZnVuY3Rpb24geG8oZSx0LHIsbil7dmFyIGk9ZS5zdGF0ZU5vZGU7aS5wcm9wcz1yLGkuc3RhdGU9ZS5tZW1vaXplZFN0YXRlLGkucmVmcz1mbyxvbyhlKTt2YXIgbz10LmNvbnRleHRUeXBlO1wib2JqZWN0XCI9PXR5cGVvZiBvJiZudWxsIT09bz9pLmNvbnRleHQ9bm8obyk6KG89bWkodCk/cGk6aGkuY3VycmVudCxpLmNvbnRleHQ9ZmkoZSxvKSksdW8oZSxyLGksbiksaS5zdGF0ZT1lLm1lbW9pemVkU3RhdGUsXCJmdW5jdGlvblwiPT10eXBlb2Yobz10LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcykmJihtbyhlLHQsbyxyKSxpLnN0YXRlPWUubWVtb2l6ZWRTdGF0ZSksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHN8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGkuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmXCJmdW5jdGlvblwiIT10eXBlb2YgaS5jb21wb25lbnRXaWxsTW91bnR8fCh0PWkuc3RhdGUsXCJmdW5jdGlvblwiPT10eXBlb2YgaS5jb21wb25lbnRXaWxsTW91bnQmJmkuY29tcG9uZW50V2lsbE1vdW50KCksXCJmdW5jdGlvblwiPT10eXBlb2YgaS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiZpLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSx0IT09aS5zdGF0ZSYmZ28uZW5xdWV1ZVJlcGxhY2VTdGF0ZShpLGkuc3RhdGUsbnVsbCksdW8oZSxyLGksbiksaS5zdGF0ZT1lLm1lbW9pemVkU3RhdGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGkuY29tcG9uZW50RGlkTW91bnQmJihlLmVmZmVjdFRhZ3w9NCl9dmFyIGJvPUFycmF5LmlzQXJyYXk7ZnVuY3Rpb24gd28oZSx0LHIpe2lmKG51bGwhPT0oZT1yLnJlZikmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJlwib2JqZWN0XCIhPXR5cGVvZiBlKXtpZihyLl9vd25lcil7aWYocj1yLl9vd25lcil7aWYoMSE9PXIudGFnKXRocm93IEVycm9yKGEoMzA5KSk7dmFyIG49ci5zdGF0ZU5vZGV9aWYoIW4pdGhyb3cgRXJyb3IoYSgxNDcsZSkpO3ZhciBpPVwiXCIrZTtyZXR1cm4gbnVsbCE9PXQmJm51bGwhPT10LnJlZiYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5yZWYmJnQucmVmLl9zdHJpbmdSZWY9PT1pP3QucmVmOigodD1mdW5jdGlvbihlKXt2YXIgdD1uLnJlZnM7dD09PWZvJiYodD1uLnJlZnM9e30pLG51bGw9PT1lP2RlbGV0ZSB0W2ldOnRbaV09ZX0pLl9zdHJpbmdSZWY9aSx0KX1pZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBFcnJvcihhKDI4NCkpO2lmKCFyLl9vd25lcil0aHJvdyBFcnJvcihhKDI5MCxlKSl9cmV0dXJuIGV9ZnVuY3Rpb24gVG8oZSx0KXtpZihcInRleHRhcmVhXCIhPT1lLnR5cGUpdGhyb3cgRXJyb3IoYSgzMSxcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXModCkuam9pbihcIiwgXCIpK1wifVwiOnQsXCJcIikpfWZ1bmN0aW9uIEVvKGUpe2Z1bmN0aW9uIHQodCxyKXtpZihlKXt2YXIgbj10Lmxhc3RFZmZlY3Q7bnVsbCE9PW4/KG4ubmV4dEVmZmVjdD1yLHQubGFzdEVmZmVjdD1yKTp0LmZpcnN0RWZmZWN0PXQubGFzdEVmZmVjdD1yLHIubmV4dEVmZmVjdD1udWxsLHIuZWZmZWN0VGFnPTh9fWZ1bmN0aW9uIHIocixuKXtpZighZSlyZXR1cm4gbnVsbDtmb3IoO251bGwhPT1uOyl0KHIsbiksbj1uLnNpYmxpbmc7cmV0dXJuIG51bGx9ZnVuY3Rpb24gbihlLHQpe2ZvcihlPW5ldyBNYXA7bnVsbCE9PXQ7KW51bGwhPT10LmtleT9lLnNldCh0LmtleSx0KTplLnNldCh0LmluZGV4LHQpLHQ9dC5zaWJsaW5nO3JldHVybiBlfWZ1bmN0aW9uIGkoZSx0KXtyZXR1cm4oZT1DbChlLHQpKS5pbmRleD0wLGUuc2libGluZz1udWxsLGV9ZnVuY3Rpb24gbyh0LHIsbil7cmV0dXJuIHQuaW5kZXg9bixlP251bGwhPT0obj10LmFsdGVybmF0ZSk/KG49bi5pbmRleCk8cj8odC5lZmZlY3RUYWc9MixyKTpuOih0LmVmZmVjdFRhZz0yLHIpOnJ9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gZSYmbnVsbD09PXQuYWx0ZXJuYXRlJiYodC5lZmZlY3RUYWc9MiksdH1mdW5jdGlvbiBsKGUsdCxyLG4pe3JldHVybiBudWxsPT09dHx8NiE9PXQudGFnPygodD1BbChyLGUubW9kZSxuKSkucmV0dXJuPWUsdCk6KCh0PWkodCxyKSkucmV0dXJuPWUsdCl9ZnVuY3Rpb24gYyhlLHQscixuKXtyZXR1cm4gbnVsbCE9PXQmJnQuZWxlbWVudFR5cGU9PT1yLnR5cGU/KChuPWkodCxyLnByb3BzKSkucmVmPXdvKGUsdCxyKSxuLnJldHVybj1lLG4pOigobj1NbChyLnR5cGUsci5rZXksci5wcm9wcyxudWxsLGUubW9kZSxuKSkucmVmPXdvKGUsdCxyKSxuLnJldHVybj1lLG4pfWZ1bmN0aW9uIHUoZSx0LHIsbil7cmV0dXJuIG51bGw9PT10fHw0IT09dC50YWd8fHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8hPT1yLmNvbnRhaW5lckluZm98fHQuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uIT09ci5pbXBsZW1lbnRhdGlvbj8oKHQ9SWwocixlLm1vZGUsbikpLnJldHVybj1lLHQpOigodD1pKHQsci5jaGlsZHJlbnx8W10pKS5yZXR1cm49ZSx0KX1mdW5jdGlvbiBoKGUsdCxyLG4sbyl7cmV0dXJuIG51bGw9PT10fHw3IT09dC50YWc/KCh0PWtsKHIsZS5tb2RlLG4sbykpLnJldHVybj1lLHQpOigodD1pKHQscikpLnJldHVybj1lLHQpfWZ1bmN0aW9uIGQoZSx0LHIpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0fHxcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4odD1BbChcIlwiK3QsZS5tb2RlLHIpKS5yZXR1cm49ZSx0O2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dCl7c3dpdGNoKHQuJCR0eXBlb2Ype2Nhc2UgZWU6cmV0dXJuKHI9TWwodC50eXBlLHQua2V5LHQucHJvcHMsbnVsbCxlLm1vZGUscikpLnJlZj13byhlLG51bGwsdCksci5yZXR1cm49ZSxyO2Nhc2UgdGU6cmV0dXJuKHQ9SWwodCxlLm1vZGUscikpLnJldHVybj1lLHR9aWYoYm8odCl8fG1lKHQpKXJldHVybih0PWtsKHQsZS5tb2RlLHIsbnVsbCkpLnJldHVybj1lLHQ7VG8oZSx0KX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBwKGUsdCxyLG4pe3ZhciBpPW51bGwhPT10P3Qua2V5Om51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHJ8fFwibnVtYmVyXCI9PXR5cGVvZiByKXJldHVybiBudWxsIT09aT9udWxsOmwoZSx0LFwiXCIrcixuKTtpZihcIm9iamVjdFwiPT10eXBlb2YgciYmbnVsbCE9PXIpe3N3aXRjaChyLiQkdHlwZW9mKXtjYXNlIGVlOnJldHVybiByLmtleT09PWk/ci50eXBlPT09cmU/aChlLHQsci5wcm9wcy5jaGlsZHJlbixuLGkpOmMoZSx0LHIsbik6bnVsbDtjYXNlIHRlOnJldHVybiByLmtleT09PWk/dShlLHQscixuKTpudWxsfWlmKGJvKHIpfHxtZShyKSlyZXR1cm4gbnVsbCE9PWk/bnVsbDpoKGUsdCxyLG4sbnVsbCk7VG8oZSxyKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBmKGUsdCxyLG4saSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG58fFwibnVtYmVyXCI9PXR5cGVvZiBuKXJldHVybiBsKHQsZT1lLmdldChyKXx8bnVsbCxcIlwiK24saSk7aWYoXCJvYmplY3RcIj09dHlwZW9mIG4mJm51bGwhPT1uKXtzd2l0Y2gobi4kJHR5cGVvZil7Y2FzZSBlZTpyZXR1cm4gZT1lLmdldChudWxsPT09bi5rZXk/cjpuLmtleSl8fG51bGwsbi50eXBlPT09cmU/aCh0LGUsbi5wcm9wcy5jaGlsZHJlbixpLG4ua2V5KTpjKHQsZSxuLGkpO2Nhc2UgdGU6cmV0dXJuIHUodCxlPWUuZ2V0KG51bGw9PT1uLmtleT9yOm4ua2V5KXx8bnVsbCxuLGkpfWlmKGJvKG4pfHxtZShuKSlyZXR1cm4gaCh0LGU9ZS5nZXQocil8fG51bGwsbixpLG51bGwpO1RvKHQsbil9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbShpLGEscyxsKXtmb3IodmFyIGM9bnVsbCx1PW51bGwsaD1hLG09YT0wLGc9bnVsbDtudWxsIT09aCYmbTxzLmxlbmd0aDttKyspe2guaW5kZXg+bT8oZz1oLGg9bnVsbCk6Zz1oLnNpYmxpbmc7dmFyIF89cChpLGgsc1ttXSxsKTtpZihudWxsPT09Xyl7bnVsbD09PWgmJihoPWcpO2JyZWFrfWUmJmgmJm51bGw9PT1fLmFsdGVybmF0ZSYmdChpLGgpLGE9byhfLGEsbSksbnVsbD09PXU/Yz1fOnUuc2libGluZz1fLHU9XyxoPWd9aWYobT09PXMubGVuZ3RoKXJldHVybiByKGksaCksYztpZihudWxsPT09aCl7Zm9yKDttPHMubGVuZ3RoO20rKyludWxsIT09KGg9ZChpLHNbbV0sbCkpJiYoYT1vKGgsYSxtKSxudWxsPT09dT9jPWg6dS5zaWJsaW5nPWgsdT1oKTtyZXR1cm4gY31mb3IoaD1uKGksaCk7bTxzLmxlbmd0aDttKyspbnVsbCE9PShnPWYoaCxpLG0sc1ttXSxsKSkmJihlJiZudWxsIT09Zy5hbHRlcm5hdGUmJmguZGVsZXRlKG51bGw9PT1nLmtleT9tOmcua2V5KSxhPW8oZyxhLG0pLG51bGw9PT11P2M9Zzp1LnNpYmxpbmc9Zyx1PWcpO3JldHVybiBlJiZoLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0KGksZSl9KSksY31mdW5jdGlvbiBnKGkscyxsLGMpe3ZhciB1PW1lKGwpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHUpdGhyb3cgRXJyb3IoYSgxNTApKTtpZihudWxsPT0obD11LmNhbGwobCkpKXRocm93IEVycm9yKGEoMTUxKSk7Zm9yKHZhciBoPXU9bnVsbCxtPXMsZz1zPTAsXz1udWxsLHk9bC5uZXh0KCk7bnVsbCE9PW0mJiF5LmRvbmU7ZysrLHk9bC5uZXh0KCkpe20uaW5kZXg+Zz8oXz1tLG09bnVsbCk6Xz1tLnNpYmxpbmc7dmFyIHY9cChpLG0seS52YWx1ZSxjKTtpZihudWxsPT09dil7bnVsbD09PW0mJihtPV8pO2JyZWFrfWUmJm0mJm51bGw9PT12LmFsdGVybmF0ZSYmdChpLG0pLHM9byh2LHMsZyksbnVsbD09PWg/dT12Omguc2libGluZz12LGg9dixtPV99aWYoeS5kb25lKXJldHVybiByKGksbSksdTtpZihudWxsPT09bSl7Zm9yKDsheS5kb25lO2crKyx5PWwubmV4dCgpKW51bGwhPT0oeT1kKGkseS52YWx1ZSxjKSkmJihzPW8oeSxzLGcpLG51bGw9PT1oP3U9eTpoLnNpYmxpbmc9eSxoPXkpO3JldHVybiB1fWZvcihtPW4oaSxtKTsheS5kb25lO2crKyx5PWwubmV4dCgpKW51bGwhPT0oeT1mKG0saSxnLHkudmFsdWUsYykpJiYoZSYmbnVsbCE9PXkuYWx0ZXJuYXRlJiZtLmRlbGV0ZShudWxsPT09eS5rZXk/Zzp5LmtleSkscz1vKHkscyxnKSxudWxsPT09aD91PXk6aC5zaWJsaW5nPXksaD15KTtyZXR1cm4gZSYmbS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdChpLGUpfSkpLHV9cmV0dXJuIGZ1bmN0aW9uKGUsbixvLGwpe3ZhciBjPVwib2JqZWN0XCI9PXR5cGVvZiBvJiZudWxsIT09byYmby50eXBlPT09cmUmJm51bGw9PT1vLmtleTtjJiYobz1vLnByb3BzLmNoaWxkcmVuKTt2YXIgdT1cIm9iamVjdFwiPT10eXBlb2YgbyYmbnVsbCE9PW87aWYodSlzd2l0Y2goby4kJHR5cGVvZil7Y2FzZSBlZTplOntmb3IodT1vLmtleSxjPW47bnVsbCE9PWM7KXtpZihjLmtleT09PXUpe3N3aXRjaChjLnRhZyl7Y2FzZSA3OmlmKG8udHlwZT09PXJlKXtyKGUsYy5zaWJsaW5nKSwobj1pKGMsby5wcm9wcy5jaGlsZHJlbikpLnJldHVybj1lLGU9bjticmVhayBlfWJyZWFrO2RlZmF1bHQ6aWYoYy5lbGVtZW50VHlwZT09PW8udHlwZSl7cihlLGMuc2libGluZyksKG49aShjLG8ucHJvcHMpKS5yZWY9d28oZSxjLG8pLG4ucmV0dXJuPWUsZT1uO2JyZWFrIGV9fXIoZSxjKTticmVha310KGUsYyksYz1jLnNpYmxpbmd9by50eXBlPT09cmU/KChuPWtsKG8ucHJvcHMuY2hpbGRyZW4sZS5tb2RlLGwsby5rZXkpKS5yZXR1cm49ZSxlPW4pOigobD1NbChvLnR5cGUsby5rZXksby5wcm9wcyxudWxsLGUubW9kZSxsKSkucmVmPXdvKGUsbixvKSxsLnJldHVybj1lLGU9bCl9cmV0dXJuIHMoZSk7Y2FzZSB0ZTplOntmb3IoYz1vLmtleTtudWxsIT09bjspe2lmKG4ua2V5PT09Yyl7aWYoND09PW4udGFnJiZuLnN0YXRlTm9kZS5jb250YWluZXJJbmZvPT09by5jb250YWluZXJJbmZvJiZuLnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbj09PW8uaW1wbGVtZW50YXRpb24pe3IoZSxuLnNpYmxpbmcpLChuPWkobixvLmNoaWxkcmVufHxbXSkpLnJldHVybj1lLGU9bjticmVhayBlfXIoZSxuKTticmVha310KGUsbiksbj1uLnNpYmxpbmd9KG49SWwobyxlLm1vZGUsbCkpLnJldHVybj1lLGU9bn1yZXR1cm4gcyhlKX1pZihcInN0cmluZ1wiPT10eXBlb2Ygb3x8XCJudW1iZXJcIj09dHlwZW9mIG8pcmV0dXJuIG89XCJcIitvLG51bGwhPT1uJiY2PT09bi50YWc/KHIoZSxuLnNpYmxpbmcpLChuPWkobixvKSkucmV0dXJuPWUsZT1uKToocihlLG4pLChuPUFsKG8sZS5tb2RlLGwpKS5yZXR1cm49ZSxlPW4pLHMoZSk7aWYoYm8obykpcmV0dXJuIG0oZSxuLG8sbCk7aWYobWUobykpcmV0dXJuIGcoZSxuLG8sbCk7aWYodSYmVG8oZSxvKSx2b2lkIDA9PT1vJiYhYylzd2l0Y2goZS50YWcpe2Nhc2UgMTpjYXNlIDA6dGhyb3cgZT1lLnR5cGUsRXJyb3IoYSgxNTIsZS5kaXNwbGF5TmFtZXx8ZS5uYW1lfHxcIkNvbXBvbmVudFwiKSl9cmV0dXJuIHIoZSxuKX19dmFyIFNvPUVvKCEwKSxDbz1FbyghMSksTW89e30sa289e2N1cnJlbnQ6TW99LEFvPXtjdXJyZW50Ok1vfSxJbz17Y3VycmVudDpNb307ZnVuY3Rpb24gUG8oZSl7aWYoZT09PU1vKXRocm93IEVycm9yKGEoMTc0KSk7cmV0dXJuIGV9ZnVuY3Rpb24gem8oZSx0KXtzd2l0Y2goY2koSW8sdCksY2koQW8sZSksY2koa28sTW8pLGU9dC5ub2RlVHlwZSl7Y2FzZSA5OmNhc2UgMTE6dD0odD10LmRvY3VtZW50RWxlbWVudCk/dC5uYW1lc3BhY2VVUkk6QmUobnVsbCxcIlwiKTticmVhaztkZWZhdWx0OnQ9QmUodD0oZT04PT09ZT90LnBhcmVudE5vZGU6dCkubmFtZXNwYWNlVVJJfHxudWxsLGU9ZS50YWdOYW1lKX1saShrbyksY2koa28sdCl9ZnVuY3Rpb24gRG8oKXtsaShrbyksbGkoQW8pLGxpKElvKX1mdW5jdGlvbiBSbyhlKXtQbyhJby5jdXJyZW50KTt2YXIgdD1Qbyhrby5jdXJyZW50KSxyPUJlKHQsZS50eXBlKTt0IT09ciYmKGNpKEFvLGUpLGNpKGtvLHIpKX1mdW5jdGlvbiBMbyhlKXtBby5jdXJyZW50PT09ZSYmKGxpKGtvKSxsaShBbykpfXZhciBPbz17Y3VycmVudDowfTtmdW5jdGlvbiBCbyhlKXtmb3IodmFyIHQ9ZTtudWxsIT09dDspe2lmKDEzPT09dC50YWcpe3ZhciByPXQubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09ciYmKG51bGw9PT0ocj1yLmRlaHlkcmF0ZWQpfHxcIiQ/XCI9PT1yLmRhdGF8fFwiJCFcIj09PXIuZGF0YSkpcmV0dXJuIHR9ZWxzZSBpZigxOT09PXQudGFnJiZ2b2lkIDAhPT10Lm1lbW9pemVkUHJvcHMucmV2ZWFsT3JkZXIpe2lmKDAhPSg2NCZ0LmVmZmVjdFRhZykpcmV0dXJuIHR9ZWxzZSBpZihudWxsIT09dC5jaGlsZCl7dC5jaGlsZC5yZXR1cm49dCx0PXQuY2hpbGQ7Y29udGludWV9aWYodD09PWUpYnJlYWs7Zm9yKDtudWxsPT09dC5zaWJsaW5nOyl7aWYobnVsbD09PXQucmV0dXJufHx0LnJldHVybj09PWUpcmV0dXJuIG51bGw7dD10LnJldHVybn10LnNpYmxpbmcucmV0dXJuPXQucmV0dXJuLHQ9dC5zaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIEZvKGUsdCl7cmV0dXJue3Jlc3BvbmRlcjplLHByb3BzOnR9fXZhciBqbz1ZLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsVW89WS5SZWFjdEN1cnJlbnRCYXRjaENvbmZpZyxObz0wLFZvPW51bGwsR289bnVsbCxxbz1udWxsLFpvPSExO2Z1bmN0aW9uICRvKCl7dGhyb3cgRXJyb3IoYSgzMjEpKX1mdW5jdGlvbiBXbyhlLHQpe2lmKG51bGw9PT10KXJldHVybiExO2Zvcih2YXIgcj0wO3I8dC5sZW5ndGgmJnI8ZS5sZW5ndGg7cisrKWlmKCFCbihlW3JdLHRbcl0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIFhvKGUsdCxyLG4saSxvKXtpZihObz1vLFZvPXQsdC5tZW1vaXplZFN0YXRlPW51bGwsdC51cGRhdGVRdWV1ZT1udWxsLHQuZXhwaXJhdGlvblRpbWU9MCxqby5jdXJyZW50PW51bGw9PT1lfHxudWxsPT09ZS5tZW1vaXplZFN0YXRlP19hOnlhLGU9cihuLGkpLHQuZXhwaXJhdGlvblRpbWU9PT1Obyl7bz0wO2Rve2lmKHQuZXhwaXJhdGlvblRpbWU9MCwhKDI1Pm8pKXRocm93IEVycm9yKGEoMzAxKSk7bys9MSxxbz1Hbz1udWxsLHQudXBkYXRlUXVldWU9bnVsbCxqby5jdXJyZW50PXZhLGU9cihuLGkpfXdoaWxlKHQuZXhwaXJhdGlvblRpbWU9PT1Obyl9aWYoam8uY3VycmVudD1nYSx0PW51bGwhPT1HbyYmbnVsbCE9PUdvLm5leHQsTm89MCxxbz1Hbz1Wbz1udWxsLFpvPSExLHQpdGhyb3cgRXJyb3IoYSgzMDApKTtyZXR1cm4gZX1mdW5jdGlvbiBIbygpe3ZhciBlPXttZW1vaXplZFN0YXRlOm51bGwsYmFzZVN0YXRlOm51bGwsYmFzZVF1ZXVlOm51bGwscXVldWU6bnVsbCxuZXh0Om51bGx9O3JldHVybiBudWxsPT09cW8/Vm8ubWVtb2l6ZWRTdGF0ZT1xbz1lOnFvPXFvLm5leHQ9ZSxxb31mdW5jdGlvbiBZbygpe2lmKG51bGw9PT1Hbyl7dmFyIGU9Vm8uYWx0ZXJuYXRlO2U9bnVsbCE9PWU/ZS5tZW1vaXplZFN0YXRlOm51bGx9ZWxzZSBlPUdvLm5leHQ7dmFyIHQ9bnVsbD09PXFvP1ZvLm1lbW9pemVkU3RhdGU6cW8ubmV4dDtpZihudWxsIT09dClxbz10LEdvPWU7ZWxzZXtpZihudWxsPT09ZSl0aHJvdyBFcnJvcihhKDMxMCkpO2U9e21lbW9pemVkU3RhdGU6KEdvPWUpLm1lbW9pemVkU3RhdGUsYmFzZVN0YXRlOkdvLmJhc2VTdGF0ZSxiYXNlUXVldWU6R28uYmFzZVF1ZXVlLHF1ZXVlOkdvLnF1ZXVlLG5leHQ6bnVsbH0sbnVsbD09PXFvP1ZvLm1lbW9pemVkU3RhdGU9cW89ZTpxbz1xby5uZXh0PWV9cmV0dXJuIHFvfWZ1bmN0aW9uIEtvKGUsdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90KGUpOnR9ZnVuY3Rpb24gSm8oZSl7dmFyIHQ9WW8oKSxyPXQucXVldWU7aWYobnVsbD09PXIpdGhyb3cgRXJyb3IoYSgzMTEpKTtyLmxhc3RSZW5kZXJlZFJlZHVjZXI9ZTt2YXIgbj1HbyxpPW4uYmFzZVF1ZXVlLG89ci5wZW5kaW5nO2lmKG51bGwhPT1vKXtpZihudWxsIT09aSl7dmFyIHM9aS5uZXh0O2kubmV4dD1vLm5leHQsby5uZXh0PXN9bi5iYXNlUXVldWU9aT1vLHIucGVuZGluZz1udWxsfWlmKG51bGwhPT1pKXtpPWkubmV4dCxuPW4uYmFzZVN0YXRlO3ZhciBsPXM9bz1udWxsLGM9aTtkb3t2YXIgdT1jLmV4cGlyYXRpb25UaW1lO2lmKHU8Tm8pe3ZhciBoPXtleHBpcmF0aW9uVGltZTpjLmV4cGlyYXRpb25UaW1lLHN1c3BlbnNlQ29uZmlnOmMuc3VzcGVuc2VDb25maWcsYWN0aW9uOmMuYWN0aW9uLGVhZ2VyUmVkdWNlcjpjLmVhZ2VyUmVkdWNlcixlYWdlclN0YXRlOmMuZWFnZXJTdGF0ZSxuZXh0Om51bGx9O251bGw9PT1sPyhzPWw9aCxvPW4pOmw9bC5uZXh0PWgsdT5Wby5leHBpcmF0aW9uVGltZSYmKFZvLmV4cGlyYXRpb25UaW1lPXUsYWwodSkpfWVsc2UgbnVsbCE9PWwmJihsPWwubmV4dD17ZXhwaXJhdGlvblRpbWU6MTA3Mzc0MTgyMyxzdXNwZW5zZUNvbmZpZzpjLnN1c3BlbnNlQ29uZmlnLGFjdGlvbjpjLmFjdGlvbixlYWdlclJlZHVjZXI6Yy5lYWdlclJlZHVjZXIsZWFnZXJTdGF0ZTpjLmVhZ2VyU3RhdGUsbmV4dDpudWxsfSksb2wodSxjLnN1c3BlbnNlQ29uZmlnKSxuPWMuZWFnZXJSZWR1Y2VyPT09ZT9jLmVhZ2VyU3RhdGU6ZShuLGMuYWN0aW9uKTtjPWMubmV4dH13aGlsZShudWxsIT09YyYmYyE9PWkpO251bGw9PT1sP289bjpsLm5leHQ9cyxCbihuLHQubWVtb2l6ZWRTdGF0ZSl8fChJYT0hMCksdC5tZW1vaXplZFN0YXRlPW4sdC5iYXNlU3RhdGU9byx0LmJhc2VRdWV1ZT1sLHIubGFzdFJlbmRlcmVkU3RhdGU9bn1yZXR1cm5bdC5tZW1vaXplZFN0YXRlLHIuZGlzcGF0Y2hdfWZ1bmN0aW9uIFFvKGUpe3ZhciB0PVlvKCkscj10LnF1ZXVlO2lmKG51bGw9PT1yKXRocm93IEVycm9yKGEoMzExKSk7ci5sYXN0UmVuZGVyZWRSZWR1Y2VyPWU7dmFyIG49ci5kaXNwYXRjaCxpPXIucGVuZGluZyxvPXQubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09aSl7ci5wZW5kaW5nPW51bGw7dmFyIHM9aT1pLm5leHQ7ZG97bz1lKG8scy5hY3Rpb24pLHM9cy5uZXh0fXdoaWxlKHMhPT1pKTtCbihvLHQubWVtb2l6ZWRTdGF0ZSl8fChJYT0hMCksdC5tZW1vaXplZFN0YXRlPW8sbnVsbD09PXQuYmFzZVF1ZXVlJiYodC5iYXNlU3RhdGU9byksci5sYXN0UmVuZGVyZWRTdGF0ZT1vfXJldHVybltvLG5dfWZ1bmN0aW9uIGVhKGUpe3ZhciB0PUhvKCk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGU9ZSgpKSx0Lm1lbW9pemVkU3RhdGU9dC5iYXNlU3RhdGU9ZSxlPShlPXQucXVldWU9e3BlbmRpbmc6bnVsbCxkaXNwYXRjaDpudWxsLGxhc3RSZW5kZXJlZFJlZHVjZXI6S28sbGFzdFJlbmRlcmVkU3RhdGU6ZX0pLmRpc3BhdGNoPW1hLmJpbmQobnVsbCxWbyxlKSxbdC5tZW1vaXplZFN0YXRlLGVdfWZ1bmN0aW9uIHRhKGUsdCxyLG4pe3JldHVybiBlPXt0YWc6ZSxjcmVhdGU6dCxkZXN0cm95OnIsZGVwczpuLG5leHQ6bnVsbH0sbnVsbD09PSh0PVZvLnVwZGF0ZVF1ZXVlKT8odD17bGFzdEVmZmVjdDpudWxsfSxWby51cGRhdGVRdWV1ZT10LHQubGFzdEVmZmVjdD1lLm5leHQ9ZSk6bnVsbD09PShyPXQubGFzdEVmZmVjdCk/dC5sYXN0RWZmZWN0PWUubmV4dD1lOihuPXIubmV4dCxyLm5leHQ9ZSxlLm5leHQ9bix0Lmxhc3RFZmZlY3Q9ZSksZX1mdW5jdGlvbiByYSgpe3JldHVybiBZbygpLm1lbW9pemVkU3RhdGV9ZnVuY3Rpb24gbmEoZSx0LHIsbil7dmFyIGk9SG8oKTtWby5lZmZlY3RUYWd8PWUsaS5tZW1vaXplZFN0YXRlPXRhKDF8dCxyLHZvaWQgMCx2b2lkIDA9PT1uP251bGw6bil9ZnVuY3Rpb24gaWEoZSx0LHIsbil7dmFyIGk9WW8oKTtuPXZvaWQgMD09PW4/bnVsbDpuO3ZhciBvPXZvaWQgMDtpZihudWxsIT09R28pe3ZhciBhPUdvLm1lbW9pemVkU3RhdGU7aWYobz1hLmRlc3Ryb3ksbnVsbCE9PW4mJldvKG4sYS5kZXBzKSlyZXR1cm4gdm9pZCB0YSh0LHIsbyxuKX1Wby5lZmZlY3RUYWd8PWUsaS5tZW1vaXplZFN0YXRlPXRhKDF8dCxyLG8sbil9ZnVuY3Rpb24gb2EoZSx0KXtyZXR1cm4gbmEoNTE2LDQsZSx0KX1mdW5jdGlvbiBhYShlLHQpe3JldHVybiBpYSg1MTYsNCxlLHQpfWZ1bmN0aW9uIHNhKGUsdCl7cmV0dXJuIGlhKDQsMixlLHQpfWZ1bmN0aW9uIGxhKGUsdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD8oZT1lKCksdChlKSxmdW5jdGlvbigpe3QobnVsbCl9KTpudWxsIT10PyhlPWUoKSx0LmN1cnJlbnQ9ZSxmdW5jdGlvbigpe3QuY3VycmVudD1udWxsfSk6dm9pZCAwfWZ1bmN0aW9uIGNhKGUsdCxyKXtyZXR1cm4gcj1udWxsIT1yP3IuY29uY2F0KFtlXSk6bnVsbCxpYSg0LDIsbGEuYmluZChudWxsLHQsZSkscil9ZnVuY3Rpb24gdWEoKXt9ZnVuY3Rpb24gaGEoZSx0KXtyZXR1cm4gSG8oKS5tZW1vaXplZFN0YXRlPVtlLHZvaWQgMD09PXQ/bnVsbDp0XSxlfWZ1bmN0aW9uIGRhKGUsdCl7dmFyIHI9WW8oKTt0PXZvaWQgMD09PXQ/bnVsbDp0O3ZhciBuPXIubWVtb2l6ZWRTdGF0ZTtyZXR1cm4gbnVsbCE9PW4mJm51bGwhPT10JiZXbyh0LG5bMV0pP25bMF06KHIubWVtb2l6ZWRTdGF0ZT1bZSx0XSxlKX1mdW5jdGlvbiBwYShlLHQpe3ZhciByPVlvKCk7dD12b2lkIDA9PT10P251bGw6dDt2YXIgbj1yLm1lbW9pemVkU3RhdGU7cmV0dXJuIG51bGwhPT1uJiZudWxsIT09dCYmV28odCxuWzFdKT9uWzBdOihlPWUoKSxyLm1lbW9pemVkU3RhdGU9W2UsdF0sZSl9ZnVuY3Rpb24gZmEoZSx0LHIpe3ZhciBuPVVpKCk7VmkoOTg+bj85ODpuLChmdW5jdGlvbigpe2UoITApfSkpLFZpKDk3PG4/OTc6biwoZnVuY3Rpb24oKXt2YXIgbj1Vby5zdXNwZW5zZTtVby5zdXNwZW5zZT12b2lkIDA9PT10P251bGw6dDt0cnl7ZSghMSkscigpfWZpbmFsbHl7VW8uc3VzcGVuc2U9bn19KSl9ZnVuY3Rpb24gbWEoZSx0LHIpe3ZhciBuPSRzKCksaT1wby5zdXNwZW5zZTtpPXtleHBpcmF0aW9uVGltZTpuPVdzKG4sZSxpKSxzdXNwZW5zZUNvbmZpZzppLGFjdGlvbjpyLGVhZ2VyUmVkdWNlcjpudWxsLGVhZ2VyU3RhdGU6bnVsbCxuZXh0Om51bGx9O3ZhciBvPXQucGVuZGluZztpZihudWxsPT09bz9pLm5leHQ9aTooaS5uZXh0PW8ubmV4dCxvLm5leHQ9aSksdC5wZW5kaW5nPWksbz1lLmFsdGVybmF0ZSxlPT09Vm98fG51bGwhPT1vJiZvPT09Vm8pWm89ITAsaS5leHBpcmF0aW9uVGltZT1ObyxWby5leHBpcmF0aW9uVGltZT1ObztlbHNle2lmKDA9PT1lLmV4cGlyYXRpb25UaW1lJiYobnVsbD09PW98fDA9PT1vLmV4cGlyYXRpb25UaW1lKSYmbnVsbCE9PShvPXQubGFzdFJlbmRlcmVkUmVkdWNlcikpdHJ5e3ZhciBhPXQubGFzdFJlbmRlcmVkU3RhdGUscz1vKGEscik7aWYoaS5lYWdlclJlZHVjZXI9byxpLmVhZ2VyU3RhdGU9cyxCbihzLGEpKXJldHVybn1jYXRjaChlKXt9WHMoZSxuKX19dmFyIGdhPXtyZWFkQ29udGV4dDpubyx1c2VDYWxsYmFjazokbyx1c2VDb250ZXh0OiRvLHVzZUVmZmVjdDokbyx1c2VJbXBlcmF0aXZlSGFuZGxlOiRvLHVzZUxheW91dEVmZmVjdDokbyx1c2VNZW1vOiRvLHVzZVJlZHVjZXI6JG8sdXNlUmVmOiRvLHVzZVN0YXRlOiRvLHVzZURlYnVnVmFsdWU6JG8sdXNlUmVzcG9uZGVyOiRvLHVzZURlZmVycmVkVmFsdWU6JG8sdXNlVHJhbnNpdGlvbjokb30sX2E9e3JlYWRDb250ZXh0Om5vLHVzZUNhbGxiYWNrOmhhLHVzZUNvbnRleHQ6bm8sdXNlRWZmZWN0Om9hLHVzZUltcGVyYXRpdmVIYW5kbGU6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiByPW51bGwhPXI/ci5jb25jYXQoW2VdKTpudWxsLG5hKDQsMixsYS5iaW5kKG51bGwsdCxlKSxyKX0sdXNlTGF5b3V0RWZmZWN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5hKDQsMixlLHQpfSx1c2VNZW1vOmZ1bmN0aW9uKGUsdCl7dmFyIHI9SG8oKTtyZXR1cm4gdD12b2lkIDA9PT10P251bGw6dCxlPWUoKSxyLm1lbW9pemVkU3RhdGU9W2UsdF0sZX0sdXNlUmVkdWNlcjpmdW5jdGlvbihlLHQscil7dmFyIG49SG8oKTtyZXR1cm4gdD12b2lkIDAhPT1yP3IodCk6dCxuLm1lbW9pemVkU3RhdGU9bi5iYXNlU3RhdGU9dCxlPShlPW4ucXVldWU9e3BlbmRpbmc6bnVsbCxkaXNwYXRjaDpudWxsLGxhc3RSZW5kZXJlZFJlZHVjZXI6ZSxsYXN0UmVuZGVyZWRTdGF0ZTp0fSkuZGlzcGF0Y2g9bWEuYmluZChudWxsLFZvLGUpLFtuLm1lbW9pemVkU3RhdGUsZV19LHVzZVJlZjpmdW5jdGlvbihlKXtyZXR1cm4gZT17Y3VycmVudDplfSxIbygpLm1lbW9pemVkU3RhdGU9ZX0sdXNlU3RhdGU6ZWEsdXNlRGVidWdWYWx1ZTp1YSx1c2VSZXNwb25kZXI6Rm8sdXNlRGVmZXJyZWRWYWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWVhKGUpLG49clswXSxpPXJbMV07cmV0dXJuIG9hKChmdW5jdGlvbigpe3ZhciByPVVvLnN1c3BlbnNlO1VvLnN1c3BlbnNlPXZvaWQgMD09PXQ/bnVsbDp0O3RyeXtpKGUpfWZpbmFsbHl7VW8uc3VzcGVuc2U9cn19KSxbZSx0XSksbn0sdXNlVHJhbnNpdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1lYSghMSkscj10WzBdO3JldHVybiB0PXRbMV0sW2hhKGZhLmJpbmQobnVsbCx0LGUpLFt0LGVdKSxyXX19LHlhPXtyZWFkQ29udGV4dDpubyx1c2VDYWxsYmFjazpkYSx1c2VDb250ZXh0Om5vLHVzZUVmZmVjdDphYSx1c2VJbXBlcmF0aXZlSGFuZGxlOmNhLHVzZUxheW91dEVmZmVjdDpzYSx1c2VNZW1vOnBhLHVzZVJlZHVjZXI6Sm8sdXNlUmVmOnJhLHVzZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIEpvKEtvKX0sdXNlRGVidWdWYWx1ZTp1YSx1c2VSZXNwb25kZXI6Rm8sdXNlRGVmZXJyZWRWYWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPUpvKEtvKSxuPXJbMF0saT1yWzFdO3JldHVybiBhYSgoZnVuY3Rpb24oKXt2YXIgcj1Vby5zdXNwZW5zZTtVby5zdXNwZW5zZT12b2lkIDA9PT10P251bGw6dDt0cnl7aShlKX1maW5hbGx5e1VvLnN1c3BlbnNlPXJ9fSksW2UsdF0pLG59LHVzZVRyYW5zaXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9Sm8oS28pLHI9dFswXTtyZXR1cm4gdD10WzFdLFtkYShmYS5iaW5kKG51bGwsdCxlKSxbdCxlXSkscl19fSx2YT17cmVhZENvbnRleHQ6bm8sdXNlQ2FsbGJhY2s6ZGEsdXNlQ29udGV4dDpubyx1c2VFZmZlY3Q6YWEsdXNlSW1wZXJhdGl2ZUhhbmRsZTpjYSx1c2VMYXlvdXRFZmZlY3Q6c2EsdXNlTWVtbzpwYSx1c2VSZWR1Y2VyOlFvLHVzZVJlZjpyYSx1c2VTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBRbyhLbyl9LHVzZURlYnVnVmFsdWU6dWEsdXNlUmVzcG9uZGVyOkZvLHVzZURlZmVycmVkVmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj1RbyhLbyksbj1yWzBdLGk9clsxXTtyZXR1cm4gYWEoKGZ1bmN0aW9uKCl7dmFyIHI9VW8uc3VzcGVuc2U7VW8uc3VzcGVuc2U9dm9pZCAwPT09dD9udWxsOnQ7dHJ5e2koZSl9ZmluYWxseXtVby5zdXNwZW5zZT1yfX0pLFtlLHRdKSxufSx1c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PVFvKEtvKSxyPXRbMF07cmV0dXJuIHQ9dFsxXSxbZGEoZmEuYmluZChudWxsLHQsZSksW3QsZV0pLHJdfX0seGE9bnVsbCxiYT1udWxsLHdhPSExO2Z1bmN0aW9uIFRhKGUsdCl7dmFyIHI9RWwoNSxudWxsLG51bGwsMCk7ci5lbGVtZW50VHlwZT1cIkRFTEVURURcIixyLnR5cGU9XCJERUxFVEVEXCIsci5zdGF0ZU5vZGU9dCxyLnJldHVybj1lLHIuZWZmZWN0VGFnPTgsbnVsbCE9PWUubGFzdEVmZmVjdD8oZS5sYXN0RWZmZWN0Lm5leHRFZmZlY3Q9cixlLmxhc3RFZmZlY3Q9cik6ZS5maXJzdEVmZmVjdD1lLmxhc3RFZmZlY3Q9cn1mdW5jdGlvbiBFYShlLHQpe3N3aXRjaChlLnRhZyl7Y2FzZSA1OnZhciByPWUudHlwZTtyZXR1cm4gbnVsbCE9PSh0PTEhPT10Lm5vZGVUeXBlfHxyLnRvTG93ZXJDYXNlKCkhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/bnVsbDp0KSYmKGUuc3RhdGVOb2RlPXQsITApO2Nhc2UgNjpyZXR1cm4gbnVsbCE9PSh0PVwiXCI9PT1lLnBlbmRpbmdQcm9wc3x8MyE9PXQubm9kZVR5cGU/bnVsbDp0KSYmKGUuc3RhdGVOb2RlPXQsITApO2Nhc2UgMTM6ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gU2EoZSl7aWYod2Epe3ZhciB0PWJhO2lmKHQpe3ZhciByPXQ7aWYoIUVhKGUsdCkpe2lmKCEodD14cihyLm5leHRTaWJsaW5nKSl8fCFFYShlLHQpKXJldHVybiBlLmVmZmVjdFRhZz0tMTAyNSZlLmVmZmVjdFRhZ3wyLHdhPSExLHZvaWQoeGE9ZSk7VGEoeGEscil9eGE9ZSxiYT14cih0LmZpcnN0Q2hpbGQpfWVsc2UgZS5lZmZlY3RUYWc9LTEwMjUmZS5lZmZlY3RUYWd8Mix3YT0hMSx4YT1lfX1mdW5jdGlvbiBDYShlKXtmb3IoZT1lLnJldHVybjtudWxsIT09ZSYmNSE9PWUudGFnJiYzIT09ZS50YWcmJjEzIT09ZS50YWc7KWU9ZS5yZXR1cm47eGE9ZX1mdW5jdGlvbiBNYShlKXtpZihlIT09eGEpcmV0dXJuITE7aWYoIXdhKXJldHVybiBDYShlKSx3YT0hMCwhMTt2YXIgdD1lLnR5cGU7aWYoNSE9PWUudGFnfHxcImhlYWRcIiE9PXQmJlwiYm9keVwiIT09dCYmIV9yKHQsZS5tZW1vaXplZFByb3BzKSlmb3IodD1iYTt0OylUYShlLHQpLHQ9eHIodC5uZXh0U2libGluZyk7aWYoQ2EoZSksMTM9PT1lLnRhZyl7aWYoIShlPW51bGwhPT0oZT1lLm1lbW9pemVkU3RhdGUpP2UuZGVoeWRyYXRlZDpudWxsKSl0aHJvdyBFcnJvcihhKDMxNykpO2U6e2ZvcihlPWUubmV4dFNpYmxpbmcsdD0wO2U7KXtpZig4PT09ZS5ub2RlVHlwZSl7dmFyIHI9ZS5kYXRhO2lmKFwiLyRcIj09PXIpe2lmKDA9PT10KXtiYT14cihlLm5leHRTaWJsaW5nKTticmVhayBlfXQtLX1lbHNlXCIkXCIhPT1yJiZcIiQhXCIhPT1yJiZcIiQ/XCIhPT1yfHx0Kyt9ZT1lLm5leHRTaWJsaW5nfWJhPW51bGx9fWVsc2UgYmE9eGE/eHIoZS5zdGF0ZU5vZGUubmV4dFNpYmxpbmcpOm51bGw7cmV0dXJuITB9ZnVuY3Rpb24ga2EoKXtiYT14YT1udWxsLHdhPSExfXZhciBBYT1ZLlJlYWN0Q3VycmVudE93bmVyLElhPSExO2Z1bmN0aW9uIFBhKGUsdCxyLG4pe3QuY2hpbGQ9bnVsbD09PWU/Q28odCxudWxsLHIsbik6U28odCxlLmNoaWxkLHIsbil9ZnVuY3Rpb24gemEoZSx0LHIsbixpKXtyPXIucmVuZGVyO3ZhciBvPXQucmVmO3JldHVybiBybyh0LGkpLG49WG8oZSx0LHIsbixvLGkpLG51bGw9PT1lfHxJYT8odC5lZmZlY3RUYWd8PTEsUGEoZSx0LG4saSksdC5jaGlsZCk6KHQudXBkYXRlUXVldWU9ZS51cGRhdGVRdWV1ZSx0LmVmZmVjdFRhZyY9LTUxNyxlLmV4cGlyYXRpb25UaW1lPD1pJiYoZS5leHBpcmF0aW9uVGltZT0wKSxYYShlLHQsaSkpfWZ1bmN0aW9uIERhKGUsdCxyLG4saSxvKXtpZihudWxsPT09ZSl7dmFyIGE9ci50eXBlO3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIGF8fFNsKGEpfHx2b2lkIDAhPT1hLmRlZmF1bHRQcm9wc3x8bnVsbCE9PXIuY29tcGFyZXx8dm9pZCAwIT09ci5kZWZhdWx0UHJvcHM/KChlPU1sKHIudHlwZSxudWxsLG4sbnVsbCx0Lm1vZGUsbykpLnJlZj10LnJlZixlLnJldHVybj10LHQuY2hpbGQ9ZSk6KHQudGFnPTE1LHQudHlwZT1hLFJhKGUsdCxhLG4saSxvKSl9cmV0dXJuIGE9ZS5jaGlsZCxpPG8mJihpPWEubWVtb2l6ZWRQcm9wcywocj1udWxsIT09KHI9ci5jb21wYXJlKT9yOmpuKShpLG4pJiZlLnJlZj09PXQucmVmKT9YYShlLHQsbyk6KHQuZWZmZWN0VGFnfD0xLChlPUNsKGEsbikpLnJlZj10LnJlZixlLnJldHVybj10LHQuY2hpbGQ9ZSl9ZnVuY3Rpb24gUmEoZSx0LHIsbixpLG8pe3JldHVybiBudWxsIT09ZSYmam4oZS5tZW1vaXplZFByb3BzLG4pJiZlLnJlZj09PXQucmVmJiYoSWE9ITEsaTxvKT8odC5leHBpcmF0aW9uVGltZT1lLmV4cGlyYXRpb25UaW1lLFhhKGUsdCxvKSk6T2EoZSx0LHIsbixvKX1mdW5jdGlvbiBMYShlLHQpe3ZhciByPXQucmVmOyhudWxsPT09ZSYmbnVsbCE9PXJ8fG51bGwhPT1lJiZlLnJlZiE9PXIpJiYodC5lZmZlY3RUYWd8PTEyOCl9ZnVuY3Rpb24gT2EoZSx0LHIsbixpKXt2YXIgbz1taShyKT9waTpoaS5jdXJyZW50O3JldHVybiBvPWZpKHQsbykscm8odCxpKSxyPVhvKGUsdCxyLG4sbyxpKSxudWxsPT09ZXx8SWE/KHQuZWZmZWN0VGFnfD0xLFBhKGUsdCxyLGkpLHQuY2hpbGQpOih0LnVwZGF0ZVF1ZXVlPWUudXBkYXRlUXVldWUsdC5lZmZlY3RUYWcmPS01MTcsZS5leHBpcmF0aW9uVGltZTw9aSYmKGUuZXhwaXJhdGlvblRpbWU9MCksWGEoZSx0LGkpKX1mdW5jdGlvbiBCYShlLHQscixuLGkpe2lmKG1pKHIpKXt2YXIgbz0hMDt2aSh0KX1lbHNlIG89ITE7aWYocm8odCxpKSxudWxsPT09dC5zdGF0ZU5vZGUpbnVsbCE9PWUmJihlLmFsdGVybmF0ZT1udWxsLHQuYWx0ZXJuYXRlPW51bGwsdC5lZmZlY3RUYWd8PTIpLHlvKHQscixuKSx4byh0LHIsbixpKSxuPSEwO2Vsc2UgaWYobnVsbD09PWUpe3ZhciBhPXQuc3RhdGVOb2RlLHM9dC5tZW1vaXplZFByb3BzO2EucHJvcHM9czt2YXIgbD1hLmNvbnRleHQsYz1yLmNvbnRleHRUeXBlO1wib2JqZWN0XCI9PXR5cGVvZiBjJiZudWxsIT09Yz9jPW5vKGMpOmM9ZmkodCxjPW1pKHIpP3BpOmhpLmN1cnJlbnQpO3ZhciB1PXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLGg9XCJmdW5jdGlvblwiPT10eXBlb2YgdXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZTtofHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHN8fChzIT09bnx8bCE9PWMpJiZ2byh0LGEsbixjKSxpbz0hMTt2YXIgZD10Lm1lbW9pemVkU3RhdGU7YS5zdGF0ZT1kLHVvKHQsbixhLGkpLGw9dC5tZW1vaXplZFN0YXRlLHMhPT1ufHxkIT09bHx8ZGkuY3VycmVudHx8aW8/KFwiZnVuY3Rpb25cIj09dHlwZW9mIHUmJihtbyh0LHIsdSxuKSxsPXQubWVtb2l6ZWRTdGF0ZSksKHM9aW98fF9vKHQscixzLG4sZCxsLGMpKT8oaHx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmNvbXBvbmVudFdpbGxNb3VudHx8KFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuY29tcG9uZW50V2lsbE1vdW50JiZhLmNvbXBvbmVudFdpbGxNb3VudCgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmYS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuY29tcG9uZW50RGlkTW91bnQmJih0LmVmZmVjdFRhZ3w9NCkpOihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmNvbXBvbmVudERpZE1vdW50JiYodC5lZmZlY3RUYWd8PTQpLHQubWVtb2l6ZWRQcm9wcz1uLHQubWVtb2l6ZWRTdGF0ZT1sKSxhLnByb3BzPW4sYS5zdGF0ZT1sLGEuY29udGV4dD1jLG49cyk6KFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuY29tcG9uZW50RGlkTW91bnQmJih0LmVmZmVjdFRhZ3w9NCksbj0hMSl9ZWxzZSBhPXQuc3RhdGVOb2RlLGFvKGUsdCkscz10Lm1lbW9pemVkUHJvcHMsYS5wcm9wcz10LnR5cGU9PT10LmVsZW1lbnRUeXBlP3M6WGkodC50eXBlLHMpLGw9YS5jb250ZXh0LFwib2JqZWN0XCI9PXR5cGVvZihjPXIuY29udGV4dFR5cGUpJiZudWxsIT09Yz9jPW5vKGMpOmM9ZmkodCxjPW1pKHIpP3BpOmhpLmN1cnJlbnQpLChoPVwiZnVuY3Rpb25cIj09dHlwZW9mKHU9ci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKXx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmXCJmdW5jdGlvblwiIT10eXBlb2YgYS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzfHwocyE9PW58fGwhPT1jKSYmdm8odCxhLG4sYyksaW89ITEsbD10Lm1lbW9pemVkU3RhdGUsYS5zdGF0ZT1sLHVvKHQsbixhLGkpLGQ9dC5tZW1vaXplZFN0YXRlLHMhPT1ufHxsIT09ZHx8ZGkuY3VycmVudHx8aW8/KFwiZnVuY3Rpb25cIj09dHlwZW9mIHUmJihtbyh0LHIsdSxuKSxkPXQubWVtb2l6ZWRTdGF0ZSksKHU9aW98fF9vKHQscixzLG4sbCxkLGMpKT8oaHx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgYS5jb21wb25lbnRXaWxsVXBkYXRlfHwoXCJmdW5jdGlvblwiPT10eXBlb2YgYS5jb21wb25lbnRXaWxsVXBkYXRlJiZhLmNvbXBvbmVudFdpbGxVcGRhdGUobixkLGMpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUmJmEuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUobixkLGMpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmNvbXBvbmVudERpZFVwZGF0ZSYmKHQuZWZmZWN0VGFnfD00KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlJiYodC5lZmZlY3RUYWd8PTI1NikpOihcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmNvbXBvbmVudERpZFVwZGF0ZXx8cz09PWUubWVtb2l6ZWRQcm9wcyYmbD09PWUubWVtb2l6ZWRTdGF0ZXx8KHQuZWZmZWN0VGFnfD00KSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlfHxzPT09ZS5tZW1vaXplZFByb3BzJiZsPT09ZS5tZW1vaXplZFN0YXRlfHwodC5lZmZlY3RUYWd8PTI1NiksdC5tZW1vaXplZFByb3BzPW4sdC5tZW1vaXplZFN0YXRlPWQpLGEucHJvcHM9bixhLnN0YXRlPWQsYS5jb250ZXh0PWMsbj11KTooXCJmdW5jdGlvblwiIT10eXBlb2YgYS5jb21wb25lbnREaWRVcGRhdGV8fHM9PT1lLm1lbW9pemVkUHJvcHMmJmw9PT1lLm1lbW9pemVkU3RhdGV8fCh0LmVmZmVjdFRhZ3w9NCksXCJmdW5jdGlvblwiIT10eXBlb2YgYS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8cz09PWUubWVtb2l6ZWRQcm9wcyYmbD09PWUubWVtb2l6ZWRTdGF0ZXx8KHQuZWZmZWN0VGFnfD0yNTYpLG49ITEpO3JldHVybiBGYShlLHQscixuLG8saSl9ZnVuY3Rpb24gRmEoZSx0LHIsbixpLG8pe0xhKGUsdCk7dmFyIGE9MCE9KDY0JnQuZWZmZWN0VGFnKTtpZighbiYmIWEpcmV0dXJuIGkmJnhpKHQsciwhMSksWGEoZSx0LG8pO249dC5zdGF0ZU5vZGUsQWEuY3VycmVudD10O3ZhciBzPWEmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHIuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yP251bGw6bi5yZW5kZXIoKTtyZXR1cm4gdC5lZmZlY3RUYWd8PTEsbnVsbCE9PWUmJmE/KHQuY2hpbGQ9U28odCxlLmNoaWxkLG51bGwsbyksdC5jaGlsZD1Tbyh0LG51bGwscyxvKSk6UGEoZSx0LHMsbyksdC5tZW1vaXplZFN0YXRlPW4uc3RhdGUsaSYmeGkodCxyLCEwKSx0LmNoaWxkfWZ1bmN0aW9uIGphKGUpe3ZhciB0PWUuc3RhdGVOb2RlO3QucGVuZGluZ0NvbnRleHQ/X2koMCx0LnBlbmRpbmdDb250ZXh0LHQucGVuZGluZ0NvbnRleHQhPT10LmNvbnRleHQpOnQuY29udGV4dCYmX2koMCx0LmNvbnRleHQsITEpLHpvKGUsdC5jb250YWluZXJJbmZvKX12YXIgVWEsTmEsVmEsR2E9e2RlaHlkcmF0ZWQ6bnVsbCxyZXRyeVRpbWU6MH07ZnVuY3Rpb24gcWEoZSx0LHIpe3ZhciBuLGk9dC5tb2RlLG89dC5wZW5kaW5nUHJvcHMsYT1Pby5jdXJyZW50LHM9ITE7aWYoKG49MCE9KDY0JnQuZWZmZWN0VGFnKSl8fChuPTAhPSgyJmEpJiYobnVsbD09PWV8fG51bGwhPT1lLm1lbW9pemVkU3RhdGUpKSxuPyhzPSEwLHQuZWZmZWN0VGFnJj0tNjUpOm51bGwhPT1lJiZudWxsPT09ZS5tZW1vaXplZFN0YXRlfHx2b2lkIDA9PT1vLmZhbGxiYWNrfHwhMD09PW8udW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2t8fChhfD0xKSxjaShPbywxJmEpLG51bGw9PT1lKXtpZih2b2lkIDAhPT1vLmZhbGxiYWNrJiZTYSh0KSxzKXtpZihzPW8uZmFsbGJhY2ssKG89a2wobnVsbCxpLDAsbnVsbCkpLnJldHVybj10LDA9PSgyJnQubW9kZSkpZm9yKGU9bnVsbCE9PXQubWVtb2l6ZWRTdGF0ZT90LmNoaWxkLmNoaWxkOnQuY2hpbGQsby5jaGlsZD1lO251bGwhPT1lOyllLnJldHVybj1vLGU9ZS5zaWJsaW5nO3JldHVybihyPWtsKHMsaSxyLG51bGwpKS5yZXR1cm49dCxvLnNpYmxpbmc9cix0Lm1lbW9pemVkU3RhdGU9R2EsdC5jaGlsZD1vLHJ9cmV0dXJuIGk9by5jaGlsZHJlbix0Lm1lbW9pemVkU3RhdGU9bnVsbCx0LmNoaWxkPUNvKHQsbnVsbCxpLHIpfWlmKG51bGwhPT1lLm1lbW9pemVkU3RhdGUpe2lmKGk9KGU9ZS5jaGlsZCkuc2libGluZyxzKXtpZihvPW8uZmFsbGJhY2ssKHI9Q2woZSxlLnBlbmRpbmdQcm9wcykpLnJldHVybj10LDA9PSgyJnQubW9kZSkmJihzPW51bGwhPT10Lm1lbW9pemVkU3RhdGU/dC5jaGlsZC5jaGlsZDp0LmNoaWxkKSE9PWUuY2hpbGQpZm9yKHIuY2hpbGQ9cztudWxsIT09czspcy5yZXR1cm49cixzPXMuc2libGluZztyZXR1cm4oaT1DbChpLG8pKS5yZXR1cm49dCxyLnNpYmxpbmc9aSxyLmNoaWxkRXhwaXJhdGlvblRpbWU9MCx0Lm1lbW9pemVkU3RhdGU9R2EsdC5jaGlsZD1yLGl9cmV0dXJuIHI9U28odCxlLmNoaWxkLG8uY2hpbGRyZW4sciksdC5tZW1vaXplZFN0YXRlPW51bGwsdC5jaGlsZD1yfWlmKGU9ZS5jaGlsZCxzKXtpZihzPW8uZmFsbGJhY2ssKG89a2wobnVsbCxpLDAsbnVsbCkpLnJldHVybj10LG8uY2hpbGQ9ZSxudWxsIT09ZSYmKGUucmV0dXJuPW8pLDA9PSgyJnQubW9kZSkpZm9yKGU9bnVsbCE9PXQubWVtb2l6ZWRTdGF0ZT90LmNoaWxkLmNoaWxkOnQuY2hpbGQsby5jaGlsZD1lO251bGwhPT1lOyllLnJldHVybj1vLGU9ZS5zaWJsaW5nO3JldHVybihyPWtsKHMsaSxyLG51bGwpKS5yZXR1cm49dCxvLnNpYmxpbmc9cixyLmVmZmVjdFRhZ3w9MixvLmNoaWxkRXhwaXJhdGlvblRpbWU9MCx0Lm1lbW9pemVkU3RhdGU9R2EsdC5jaGlsZD1vLHJ9cmV0dXJuIHQubWVtb2l6ZWRTdGF0ZT1udWxsLHQuY2hpbGQ9U28odCxlLG8uY2hpbGRyZW4scil9ZnVuY3Rpb24gWmEoZSx0KXtlLmV4cGlyYXRpb25UaW1lPHQmJihlLmV4cGlyYXRpb25UaW1lPXQpO3ZhciByPWUuYWx0ZXJuYXRlO251bGwhPT1yJiZyLmV4cGlyYXRpb25UaW1lPHQmJihyLmV4cGlyYXRpb25UaW1lPXQpLHRvKGUucmV0dXJuLHQpfWZ1bmN0aW9uICRhKGUsdCxyLG4saSxvKXt2YXIgYT1lLm1lbW9pemVkU3RhdGU7bnVsbD09PWE/ZS5tZW1vaXplZFN0YXRlPXtpc0JhY2t3YXJkczp0LHJlbmRlcmluZzpudWxsLHJlbmRlcmluZ1N0YXJ0VGltZTowLGxhc3Q6bix0YWlsOnIsdGFpbEV4cGlyYXRpb246MCx0YWlsTW9kZTppLGxhc3RFZmZlY3Q6b306KGEuaXNCYWNrd2FyZHM9dCxhLnJlbmRlcmluZz1udWxsLGEucmVuZGVyaW5nU3RhcnRUaW1lPTAsYS5sYXN0PW4sYS50YWlsPXIsYS50YWlsRXhwaXJhdGlvbj0wLGEudGFpbE1vZGU9aSxhLmxhc3RFZmZlY3Q9byl9ZnVuY3Rpb24gV2EoZSx0LHIpe3ZhciBuPXQucGVuZGluZ1Byb3BzLGk9bi5yZXZlYWxPcmRlcixvPW4udGFpbDtpZihQYShlLHQsbi5jaGlsZHJlbixyKSwwIT0oMiYobj1Pby5jdXJyZW50KSkpbj0xJm58Mix0LmVmZmVjdFRhZ3w9NjQ7ZWxzZXtpZihudWxsIT09ZSYmMCE9KDY0JmUuZWZmZWN0VGFnKSllOmZvcihlPXQuY2hpbGQ7bnVsbCE9PWU7KXtpZigxMz09PWUudGFnKW51bGwhPT1lLm1lbW9pemVkU3RhdGUmJlphKGUscik7ZWxzZSBpZigxOT09PWUudGFnKVphKGUscik7ZWxzZSBpZihudWxsIT09ZS5jaGlsZCl7ZS5jaGlsZC5yZXR1cm49ZSxlPWUuY2hpbGQ7Y29udGludWV9aWYoZT09PXQpYnJlYWsgZTtmb3IoO251bGw9PT1lLnNpYmxpbmc7KXtpZihudWxsPT09ZS5yZXR1cm58fGUucmV0dXJuPT09dClicmVhayBlO2U9ZS5yZXR1cm59ZS5zaWJsaW5nLnJldHVybj1lLnJldHVybixlPWUuc2libGluZ31uJj0xfWlmKGNpKE9vLG4pLDA9PSgyJnQubW9kZSkpdC5tZW1vaXplZFN0YXRlPW51bGw7ZWxzZSBzd2l0Y2goaSl7Y2FzZVwiZm9yd2FyZHNcIjpmb3Iocj10LmNoaWxkLGk9bnVsbDtudWxsIT09cjspbnVsbCE9PShlPXIuYWx0ZXJuYXRlKSYmbnVsbD09PUJvKGUpJiYoaT1yKSxyPXIuc2libGluZztudWxsPT09KHI9aSk/KGk9dC5jaGlsZCx0LmNoaWxkPW51bGwpOihpPXIuc2libGluZyxyLnNpYmxpbmc9bnVsbCksJGEodCwhMSxpLHIsbyx0Lmxhc3RFZmZlY3QpO2JyZWFrO2Nhc2VcImJhY2t3YXJkc1wiOmZvcihyPW51bGwsaT10LmNoaWxkLHQuY2hpbGQ9bnVsbDtudWxsIT09aTspe2lmKG51bGwhPT0oZT1pLmFsdGVybmF0ZSkmJm51bGw9PT1CbyhlKSl7dC5jaGlsZD1pO2JyZWFrfWU9aS5zaWJsaW5nLGkuc2libGluZz1yLHI9aSxpPWV9JGEodCwhMCxyLG51bGwsbyx0Lmxhc3RFZmZlY3QpO2JyZWFrO2Nhc2VcInRvZ2V0aGVyXCI6JGEodCwhMSxudWxsLG51bGwsdm9pZCAwLHQubGFzdEVmZmVjdCk7YnJlYWs7ZGVmYXVsdDp0Lm1lbW9pemVkU3RhdGU9bnVsbH1yZXR1cm4gdC5jaGlsZH1mdW5jdGlvbiBYYShlLHQscil7bnVsbCE9PWUmJih0LmRlcGVuZGVuY2llcz1lLmRlcGVuZGVuY2llcyk7dmFyIG49dC5leHBpcmF0aW9uVGltZTtpZigwIT09biYmYWwobiksdC5jaGlsZEV4cGlyYXRpb25UaW1lPHIpcmV0dXJuIG51bGw7aWYobnVsbCE9PWUmJnQuY2hpbGQhPT1lLmNoaWxkKXRocm93IEVycm9yKGEoMTUzKSk7aWYobnVsbCE9PXQuY2hpbGQpe2ZvcihyPUNsKGU9dC5jaGlsZCxlLnBlbmRpbmdQcm9wcyksdC5jaGlsZD1yLHIucmV0dXJuPXQ7bnVsbCE9PWUuc2libGluZzspZT1lLnNpYmxpbmcsKHI9ci5zaWJsaW5nPUNsKGUsZS5wZW5kaW5nUHJvcHMpKS5yZXR1cm49dDtyLnNpYmxpbmc9bnVsbH1yZXR1cm4gdC5jaGlsZH1mdW5jdGlvbiBIYShlLHQpe3N3aXRjaChlLnRhaWxNb2RlKXtjYXNlXCJoaWRkZW5cIjp0PWUudGFpbDtmb3IodmFyIHI9bnVsbDtudWxsIT09dDspbnVsbCE9PXQuYWx0ZXJuYXRlJiYocj10KSx0PXQuc2libGluZztudWxsPT09cj9lLnRhaWw9bnVsbDpyLnNpYmxpbmc9bnVsbDticmVhaztjYXNlXCJjb2xsYXBzZWRcIjpyPWUudGFpbDtmb3IodmFyIG49bnVsbDtudWxsIT09cjspbnVsbCE9PXIuYWx0ZXJuYXRlJiYobj1yKSxyPXIuc2libGluZztudWxsPT09bj90fHxudWxsPT09ZS50YWlsP2UudGFpbD1udWxsOmUudGFpbC5zaWJsaW5nPW51bGw6bi5zaWJsaW5nPW51bGx9fWZ1bmN0aW9uIFlhKGUsdCxyKXt2YXIgbj10LnBlbmRpbmdQcm9wcztzd2l0Y2godC50YWcpe2Nhc2UgMjpjYXNlIDE2OmNhc2UgMTU6Y2FzZSAwOmNhc2UgMTE6Y2FzZSA3OmNhc2UgODpjYXNlIDEyOmNhc2UgOTpjYXNlIDE0OnJldHVybiBudWxsO2Nhc2UgMTpyZXR1cm4gbWkodC50eXBlKSYmZ2koKSxudWxsO2Nhc2UgMzpyZXR1cm4gRG8oKSxsaShkaSksbGkoaGkpLChyPXQuc3RhdGVOb2RlKS5wZW5kaW5nQ29udGV4dCYmKHIuY29udGV4dD1yLnBlbmRpbmdDb250ZXh0LHIucGVuZGluZ0NvbnRleHQ9bnVsbCksbnVsbCE9PWUmJm51bGwhPT1lLmNoaWxkfHwhTWEodCl8fCh0LmVmZmVjdFRhZ3w9NCksbnVsbDtjYXNlIDU6TG8odCkscj1QbyhJby5jdXJyZW50KTt2YXIgbz10LnR5cGU7aWYobnVsbCE9PWUmJm51bGwhPXQuc3RhdGVOb2RlKU5hKGUsdCxvLG4sciksZS5yZWYhPT10LnJlZiYmKHQuZWZmZWN0VGFnfD0xMjgpO2Vsc2V7aWYoIW4pe2lmKG51bGw9PT10LnN0YXRlTm9kZSl0aHJvdyBFcnJvcihhKDE2NikpO3JldHVybiBudWxsfWlmKGU9UG8oa28uY3VycmVudCksTWEodCkpe249dC5zdGF0ZU5vZGUsbz10LnR5cGU7dmFyIHM9dC5tZW1vaXplZFByb3BzO3N3aXRjaChuW1RyXT10LG5bRXJdPXMsbyl7Y2FzZVwiaWZyYW1lXCI6Y2FzZVwib2JqZWN0XCI6Y2FzZVwiZW1iZWRcIjpXdChcImxvYWRcIixuKTticmVhaztjYXNlXCJ2aWRlb1wiOmNhc2VcImF1ZGlvXCI6Zm9yKGU9MDtlPFllLmxlbmd0aDtlKyspV3QoWWVbZV0sbik7YnJlYWs7Y2FzZVwic291cmNlXCI6V3QoXCJlcnJvclwiLG4pO2JyZWFrO2Nhc2VcImltZ1wiOmNhc2VcImltYWdlXCI6Y2FzZVwibGlua1wiOld0KFwiZXJyb3JcIixuKSxXdChcImxvYWRcIixuKTticmVhaztjYXNlXCJmb3JtXCI6V3QoXCJyZXNldFwiLG4pLFd0KFwic3VibWl0XCIsbik7YnJlYWs7Y2FzZVwiZGV0YWlsc1wiOld0KFwidG9nZ2xlXCIsbik7YnJlYWs7Y2FzZVwiaW5wdXRcIjpUZShuLHMpLFd0KFwiaW52YWxpZFwiLG4pLHNyKHIsXCJvbkNoYW5nZVwiKTticmVhaztjYXNlXCJzZWxlY3RcIjpuLl93cmFwcGVyU3RhdGU9e3dhc011bHRpcGxlOiEhcy5tdWx0aXBsZX0sV3QoXCJpbnZhbGlkXCIsbiksc3IocixcIm9uQ2hhbmdlXCIpO2JyZWFrO2Nhc2VcInRleHRhcmVhXCI6UGUobixzKSxXdChcImludmFsaWRcIixuKSxzcihyLFwib25DaGFuZ2VcIil9Zm9yKHZhciBsIGluIGlyKG8scyksZT1udWxsLHMpaWYocy5oYXNPd25Qcm9wZXJ0eShsKSl7dmFyIGM9c1tsXTtcImNoaWxkcmVuXCI9PT1sP1wic3RyaW5nXCI9PXR5cGVvZiBjP24udGV4dENvbnRlbnQhPT1jJiYoZT1bXCJjaGlsZHJlblwiLGNdKTpcIm51bWJlclwiPT10eXBlb2YgYyYmbi50ZXh0Q29udGVudCE9PVwiXCIrYyYmKGU9W1wiY2hpbGRyZW5cIixcIlwiK2NdKTpFLmhhc093blByb3BlcnR5KGwpJiZudWxsIT1jJiZzcihyLGwpfXN3aXRjaChvKXtjYXNlXCJpbnB1dFwiOnhlKG4pLENlKG4scywhMCk7YnJlYWs7Y2FzZVwidGV4dGFyZWFcIjp4ZShuKSxEZShuKTticmVhaztjYXNlXCJzZWxlY3RcIjpjYXNlXCJvcHRpb25cIjpicmVhaztkZWZhdWx0OlwiZnVuY3Rpb25cIj09dHlwZW9mIHMub25DbGljayYmKG4ub25jbGljaz1scil9cj1lLHQudXBkYXRlUXVldWU9cixudWxsIT09ciYmKHQuZWZmZWN0VGFnfD00KX1lbHNle3N3aXRjaChsPTk9PT1yLm5vZGVUeXBlP3I6ci5vd25lckRvY3VtZW50LGU9PT1hciYmKGU9T2UobykpLGU9PT1hcj9cInNjcmlwdFwiPT09bz8oKGU9bC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5pbm5lckhUTUw9XCI8c2NyaXB0PjxcXC9zY3JpcHQ+XCIsZT1lLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCkpOlwic3RyaW5nXCI9PXR5cGVvZiBuLmlzP2U9bC5jcmVhdGVFbGVtZW50KG8se2lzOm4uaXN9KTooZT1sLmNyZWF0ZUVsZW1lbnQobyksXCJzZWxlY3RcIj09PW8mJihsPWUsbi5tdWx0aXBsZT9sLm11bHRpcGxlPSEwOm4uc2l6ZSYmKGwuc2l6ZT1uLnNpemUpKSk6ZT1sLmNyZWF0ZUVsZW1lbnROUyhlLG8pLGVbVHJdPXQsZVtFcl09bixVYShlLHQpLHQuc3RhdGVOb2RlPWUsbD1vcihvLG4pLG8pe2Nhc2VcImlmcmFtZVwiOmNhc2VcIm9iamVjdFwiOmNhc2VcImVtYmVkXCI6V3QoXCJsb2FkXCIsZSksYz1uO2JyZWFrO2Nhc2VcInZpZGVvXCI6Y2FzZVwiYXVkaW9cIjpmb3IoYz0wO2M8WWUubGVuZ3RoO2MrKylXdChZZVtjXSxlKTtjPW47YnJlYWs7Y2FzZVwic291cmNlXCI6V3QoXCJlcnJvclwiLGUpLGM9bjticmVhaztjYXNlXCJpbWdcIjpjYXNlXCJpbWFnZVwiOmNhc2VcImxpbmtcIjpXdChcImVycm9yXCIsZSksV3QoXCJsb2FkXCIsZSksYz1uO2JyZWFrO2Nhc2VcImZvcm1cIjpXdChcInJlc2V0XCIsZSksV3QoXCJzdWJtaXRcIixlKSxjPW47YnJlYWs7Y2FzZVwiZGV0YWlsc1wiOld0KFwidG9nZ2xlXCIsZSksYz1uO2JyZWFrO2Nhc2VcImlucHV0XCI6VGUoZSxuKSxjPXdlKGUsbiksV3QoXCJpbnZhbGlkXCIsZSksc3IocixcIm9uQ2hhbmdlXCIpO2JyZWFrO2Nhc2VcIm9wdGlvblwiOmM9a2UoZSxuKTticmVhaztjYXNlXCJzZWxlY3RcIjplLl93cmFwcGVyU3RhdGU9e3dhc011bHRpcGxlOiEhbi5tdWx0aXBsZX0sYz1pKHt9LG4se3ZhbHVlOnZvaWQgMH0pLFd0KFwiaW52YWxpZFwiLGUpLHNyKHIsXCJvbkNoYW5nZVwiKTticmVhaztjYXNlXCJ0ZXh0YXJlYVwiOlBlKGUsbiksYz1JZShlLG4pLFd0KFwiaW52YWxpZFwiLGUpLHNyKHIsXCJvbkNoYW5nZVwiKTticmVhaztkZWZhdWx0OmM9bn1pcihvLGMpO3ZhciB1PWM7Zm9yKHMgaW4gdSlpZih1Lmhhc093blByb3BlcnR5KHMpKXt2YXIgaD11W3NdO1wic3R5bGVcIj09PXM/cnIoZSxoKTpcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1zP251bGwhPShoPWg/aC5fX2h0bWw6dm9pZCAwKSYmamUoZSxoKTpcImNoaWxkcmVuXCI9PT1zP1wic3RyaW5nXCI9PXR5cGVvZiBoPyhcInRleHRhcmVhXCIhPT1vfHxcIlwiIT09aCkmJlVlKGUsaCk6XCJudW1iZXJcIj09dHlwZW9mIGgmJlVlKGUsXCJcIitoKTpcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09cyYmXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIiE9PXMmJlwiYXV0b0ZvY3VzXCIhPT1zJiYoRS5oYXNPd25Qcm9wZXJ0eShzKT9udWxsIT1oJiZzcihyLHMpOm51bGwhPWgmJksoZSxzLGgsbCkpfXN3aXRjaChvKXtjYXNlXCJpbnB1dFwiOnhlKGUpLENlKGUsbiwhMSk7YnJlYWs7Y2FzZVwidGV4dGFyZWFcIjp4ZShlKSxEZShlKTticmVhaztjYXNlXCJvcHRpb25cIjpudWxsIT1uLnZhbHVlJiZlLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIit5ZShuLnZhbHVlKSk7YnJlYWs7Y2FzZVwic2VsZWN0XCI6ZS5tdWx0aXBsZT0hIW4ubXVsdGlwbGUsbnVsbCE9KHI9bi52YWx1ZSk/QWUoZSwhIW4ubXVsdGlwbGUsciwhMSk6bnVsbCE9bi5kZWZhdWx0VmFsdWUmJkFlKGUsISFuLm11bHRpcGxlLG4uZGVmYXVsdFZhbHVlLCEwKTticmVhaztkZWZhdWx0OlwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25DbGljayYmKGUub25jbGljaz1scil9Z3IobyxuKSYmKHQuZWZmZWN0VGFnfD00KX1udWxsIT09dC5yZWYmJih0LmVmZmVjdFRhZ3w9MTI4KX1yZXR1cm4gbnVsbDtjYXNlIDY6aWYoZSYmbnVsbCE9dC5zdGF0ZU5vZGUpVmEoMCx0LGUubWVtb2l6ZWRQcm9wcyxuKTtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuJiZudWxsPT09dC5zdGF0ZU5vZGUpdGhyb3cgRXJyb3IoYSgxNjYpKTtyPVBvKElvLmN1cnJlbnQpLFBvKGtvLmN1cnJlbnQpLE1hKHQpPyhyPXQuc3RhdGVOb2RlLG49dC5tZW1vaXplZFByb3BzLHJbVHJdPXQsci5ub2RlVmFsdWUhPT1uJiYodC5lZmZlY3RUYWd8PTQpKTooKHI9KDk9PT1yLm5vZGVUeXBlP3I6ci5vd25lckRvY3VtZW50KS5jcmVhdGVUZXh0Tm9kZShuKSlbVHJdPXQsdC5zdGF0ZU5vZGU9cil9cmV0dXJuIG51bGw7Y2FzZSAxMzpyZXR1cm4gbGkoT28pLG49dC5tZW1vaXplZFN0YXRlLDAhPSg2NCZ0LmVmZmVjdFRhZyk/KHQuZXhwaXJhdGlvblRpbWU9cix0KToocj1udWxsIT09bixuPSExLG51bGw9PT1lP3ZvaWQgMCE9PXQubWVtb2l6ZWRQcm9wcy5mYWxsYmFjayYmTWEodCk6KG49bnVsbCE9PShvPWUubWVtb2l6ZWRTdGF0ZSkscnx8bnVsbD09PW98fG51bGwhPT0obz1lLmNoaWxkLnNpYmxpbmcpJiYobnVsbCE9PShzPXQuZmlyc3RFZmZlY3QpPyh0LmZpcnN0RWZmZWN0PW8sby5uZXh0RWZmZWN0PXMpOih0LmZpcnN0RWZmZWN0PXQubGFzdEVmZmVjdD1vLG8ubmV4dEVmZmVjdD1udWxsKSxvLmVmZmVjdFRhZz04KSksciYmIW4mJjAhPSgyJnQubW9kZSkmJihudWxsPT09ZSYmITAhPT10Lm1lbW9pemVkUHJvcHMudW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2t8fDAhPSgxJk9vLmN1cnJlbnQpP01zPT09eHMmJihNcz1icyk6KE1zIT09eHMmJk1zIT09YnN8fChNcz13cyksMCE9PXpzJiZudWxsIT09RXMmJihEbChFcyxDcyksUmwoRXMsenMpKSkpLChyfHxuKSYmKHQuZWZmZWN0VGFnfD00KSxudWxsKTtjYXNlIDQ6cmV0dXJuIERvKCksbnVsbDtjYXNlIDEwOnJldHVybiBlbyh0KSxudWxsO2Nhc2UgMTc6cmV0dXJuIG1pKHQudHlwZSkmJmdpKCksbnVsbDtjYXNlIDE5OmlmKGxpKE9vKSxudWxsPT09KG49dC5tZW1vaXplZFN0YXRlKSlyZXR1cm4gbnVsbDtpZihvPTAhPSg2NCZ0LmVmZmVjdFRhZyksbnVsbD09PShzPW4ucmVuZGVyaW5nKSl7aWYobylIYShuLCExKTtlbHNlIGlmKE1zIT09eHN8fG51bGwhPT1lJiYwIT0oNjQmZS5lZmZlY3RUYWcpKWZvcihzPXQuY2hpbGQ7bnVsbCE9PXM7KXtpZihudWxsIT09KGU9Qm8ocykpKXtmb3IodC5lZmZlY3RUYWd8PTY0LEhhKG4sITEpLG51bGwhPT0obz1lLnVwZGF0ZVF1ZXVlKSYmKHQudXBkYXRlUXVldWU9byx0LmVmZmVjdFRhZ3w9NCksbnVsbD09PW4ubGFzdEVmZmVjdCYmKHQuZmlyc3RFZmZlY3Q9bnVsbCksdC5sYXN0RWZmZWN0PW4ubGFzdEVmZmVjdCxuPXQuY2hpbGQ7bnVsbCE9PW47KXM9ciwobz1uKS5lZmZlY3RUYWcmPTIsby5uZXh0RWZmZWN0PW51bGwsby5maXJzdEVmZmVjdD1udWxsLG8ubGFzdEVmZmVjdD1udWxsLG51bGw9PT0oZT1vLmFsdGVybmF0ZSk/KG8uY2hpbGRFeHBpcmF0aW9uVGltZT0wLG8uZXhwaXJhdGlvblRpbWU9cyxvLmNoaWxkPW51bGwsby5tZW1vaXplZFByb3BzPW51bGwsby5tZW1vaXplZFN0YXRlPW51bGwsby51cGRhdGVRdWV1ZT1udWxsLG8uZGVwZW5kZW5jaWVzPW51bGwpOihvLmNoaWxkRXhwaXJhdGlvblRpbWU9ZS5jaGlsZEV4cGlyYXRpb25UaW1lLG8uZXhwaXJhdGlvblRpbWU9ZS5leHBpcmF0aW9uVGltZSxvLmNoaWxkPWUuY2hpbGQsby5tZW1vaXplZFByb3BzPWUubWVtb2l6ZWRQcm9wcyxvLm1lbW9pemVkU3RhdGU9ZS5tZW1vaXplZFN0YXRlLG8udXBkYXRlUXVldWU9ZS51cGRhdGVRdWV1ZSxzPWUuZGVwZW5kZW5jaWVzLG8uZGVwZW5kZW5jaWVzPW51bGw9PT1zP251bGw6e2V4cGlyYXRpb25UaW1lOnMuZXhwaXJhdGlvblRpbWUsZmlyc3RDb250ZXh0OnMuZmlyc3RDb250ZXh0LHJlc3BvbmRlcnM6cy5yZXNwb25kZXJzfSksbj1uLnNpYmxpbmc7cmV0dXJuIGNpKE9vLDEmT28uY3VycmVudHwyKSx0LmNoaWxkfXM9cy5zaWJsaW5nfX1lbHNle2lmKCFvKWlmKG51bGwhPT0oZT1CbyhzKSkpe2lmKHQuZWZmZWN0VGFnfD02NCxvPSEwLG51bGwhPT0ocj1lLnVwZGF0ZVF1ZXVlKSYmKHQudXBkYXRlUXVldWU9cix0LmVmZmVjdFRhZ3w9NCksSGEobiwhMCksbnVsbD09PW4udGFpbCYmXCJoaWRkZW5cIj09PW4udGFpbE1vZGUmJiFzLmFsdGVybmF0ZSlyZXR1cm4gbnVsbCE9PSh0PXQubGFzdEVmZmVjdD1uLmxhc3RFZmZlY3QpJiYodC5uZXh0RWZmZWN0PW51bGwpLG51bGx9ZWxzZSAyKmppKCktbi5yZW5kZXJpbmdTdGFydFRpbWU+bi50YWlsRXhwaXJhdGlvbiYmMTxyJiYodC5lZmZlY3RUYWd8PTY0LG89ITAsSGEobiwhMSksdC5leHBpcmF0aW9uVGltZT10LmNoaWxkRXhwaXJhdGlvblRpbWU9ci0xKTtuLmlzQmFja3dhcmRzPyhzLnNpYmxpbmc9dC5jaGlsZCx0LmNoaWxkPXMpOihudWxsIT09KHI9bi5sYXN0KT9yLnNpYmxpbmc9czp0LmNoaWxkPXMsbi5sYXN0PXMpfXJldHVybiBudWxsIT09bi50YWlsPygwPT09bi50YWlsRXhwaXJhdGlvbiYmKG4udGFpbEV4cGlyYXRpb249amkoKSs1MDApLHI9bi50YWlsLG4ucmVuZGVyaW5nPXIsbi50YWlsPXIuc2libGluZyxuLmxhc3RFZmZlY3Q9dC5sYXN0RWZmZWN0LG4ucmVuZGVyaW5nU3RhcnRUaW1lPWppKCksci5zaWJsaW5nPW51bGwsdD1Pby5jdXJyZW50LGNpKE9vLG8/MSZ0fDI6MSZ0KSxyKTpudWxsfXRocm93IEVycm9yKGEoMTU2LHQudGFnKSl9ZnVuY3Rpb24gS2EoZSl7c3dpdGNoKGUudGFnKXtjYXNlIDE6bWkoZS50eXBlKSYmZ2koKTt2YXIgdD1lLmVmZmVjdFRhZztyZXR1cm4gNDA5NiZ0PyhlLmVmZmVjdFRhZz0tNDA5NyZ0fDY0LGUpOm51bGw7Y2FzZSAzOmlmKERvKCksbGkoZGkpLGxpKGhpKSwwIT0oNjQmKHQ9ZS5lZmZlY3RUYWcpKSl0aHJvdyBFcnJvcihhKDI4NSkpO3JldHVybiBlLmVmZmVjdFRhZz0tNDA5NyZ0fDY0LGU7Y2FzZSA1OnJldHVybiBMbyhlKSxudWxsO2Nhc2UgMTM6cmV0dXJuIGxpKE9vKSw0MDk2Jih0PWUuZWZmZWN0VGFnKT8oZS5lZmZlY3RUYWc9LTQwOTcmdHw2NCxlKTpudWxsO2Nhc2UgMTk6cmV0dXJuIGxpKE9vKSxudWxsO2Nhc2UgNDpyZXR1cm4gRG8oKSxudWxsO2Nhc2UgMTA6cmV0dXJuIGVvKGUpLG51bGw7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gSmEoZSx0KXtyZXR1cm57dmFsdWU6ZSxzb3VyY2U6dCxzdGFjazpfZSh0KX19VWE9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dC5jaGlsZDtudWxsIT09cjspe2lmKDU9PT1yLnRhZ3x8Nj09PXIudGFnKWUuYXBwZW5kQ2hpbGQoci5zdGF0ZU5vZGUpO2Vsc2UgaWYoNCE9PXIudGFnJiZudWxsIT09ci5jaGlsZCl7ci5jaGlsZC5yZXR1cm49cixyPXIuY2hpbGQ7Y29udGludWV9aWYocj09PXQpYnJlYWs7Zm9yKDtudWxsPT09ci5zaWJsaW5nOyl7aWYobnVsbD09PXIucmV0dXJufHxyLnJldHVybj09PXQpcmV0dXJuO3I9ci5yZXR1cm59ci5zaWJsaW5nLnJldHVybj1yLnJldHVybixyPXIuc2libGluZ319LE5hPWZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGE9ZS5tZW1vaXplZFByb3BzO2lmKGEhPT1uKXt2YXIgcyxsLGM9dC5zdGF0ZU5vZGU7c3dpdGNoKFBvKGtvLmN1cnJlbnQpLGU9bnVsbCxyKXtjYXNlXCJpbnB1dFwiOmE9d2UoYyxhKSxuPXdlKGMsbiksZT1bXTticmVhaztjYXNlXCJvcHRpb25cIjphPWtlKGMsYSksbj1rZShjLG4pLGU9W107YnJlYWs7Y2FzZVwic2VsZWN0XCI6YT1pKHt9LGEse3ZhbHVlOnZvaWQgMH0pLG49aSh7fSxuLHt2YWx1ZTp2b2lkIDB9KSxlPVtdO2JyZWFrO2Nhc2VcInRleHRhcmVhXCI6YT1JZShjLGEpLG49SWUoYyxuKSxlPVtdO2JyZWFrO2RlZmF1bHQ6XCJmdW5jdGlvblwiIT10eXBlb2YgYS5vbkNsaWNrJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLm9uQ2xpY2smJihjLm9uY2xpY2s9bHIpfWZvcihzIGluIGlyKHIsbikscj1udWxsLGEpaWYoIW4uaGFzT3duUHJvcGVydHkocykmJmEuaGFzT3duUHJvcGVydHkocykmJm51bGwhPWFbc10paWYoXCJzdHlsZVwiPT09cylmb3IobCBpbiBjPWFbc10pYy5oYXNPd25Qcm9wZXJ0eShsKSYmKHJ8fChyPXt9KSxyW2xdPVwiXCIpO2Vsc2VcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCIhPT1zJiZcImNoaWxkcmVuXCIhPT1zJiZcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09cyYmXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIiE9PXMmJlwiYXV0b0ZvY3VzXCIhPT1zJiYoRS5oYXNPd25Qcm9wZXJ0eShzKT9lfHwoZT1bXSk6KGU9ZXx8W10pLnB1c2gocyxudWxsKSk7Zm9yKHMgaW4gbil7dmFyIHU9bltzXTtpZihjPW51bGwhPWE/YVtzXTp2b2lkIDAsbi5oYXNPd25Qcm9wZXJ0eShzKSYmdSE9PWMmJihudWxsIT11fHxudWxsIT1jKSlpZihcInN0eWxlXCI9PT1zKWlmKGMpe2ZvcihsIGluIGMpIWMuaGFzT3duUHJvcGVydHkobCl8fHUmJnUuaGFzT3duUHJvcGVydHkobCl8fChyfHwocj17fSkscltsXT1cIlwiKTtmb3IobCBpbiB1KXUuaGFzT3duUHJvcGVydHkobCkmJmNbbF0hPT11W2xdJiYocnx8KHI9e30pLHJbbF09dVtsXSl9ZWxzZSByfHwoZXx8KGU9W10pLGUucHVzaChzLHIpKSxyPXU7ZWxzZVwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09PXM/KHU9dT91Ll9faHRtbDp2b2lkIDAsYz1jP2MuX19odG1sOnZvaWQgMCxudWxsIT11JiZjIT09dSYmKGU9ZXx8W10pLnB1c2gocyx1KSk6XCJjaGlsZHJlblwiPT09cz9jPT09dXx8XCJzdHJpbmdcIiE9dHlwZW9mIHUmJlwibnVtYmVyXCIhPXR5cGVvZiB1fHwoZT1lfHxbXSkucHVzaChzLFwiXCIrdSk6XCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIiE9PXMmJlwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCIhPT1zJiYoRS5oYXNPd25Qcm9wZXJ0eShzKT8obnVsbCE9dSYmc3IobyxzKSxlfHxjPT09dXx8KGU9W10pKTooZT1lfHxbXSkucHVzaChzLHUpKX1yJiYoZT1lfHxbXSkucHVzaChcInN0eWxlXCIsciksbz1lLCh0LnVwZGF0ZVF1ZXVlPW8pJiYodC5lZmZlY3RUYWd8PTQpfX0sVmE9ZnVuY3Rpb24oZSx0LHIsbil7ciE9PW4mJih0LmVmZmVjdFRhZ3w9NCl9O3ZhciBRYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWFrU2V0P1dlYWtTZXQ6U2V0O2Z1bmN0aW9uIGVzKGUsdCl7dmFyIHI9dC5zb3VyY2Usbj10LnN0YWNrO251bGw9PT1uJiZudWxsIT09ciYmKG49X2UocikpLG51bGwhPT1yJiZnZShyLnR5cGUpLHQ9dC52YWx1ZSxudWxsIT09ZSYmMT09PWUudGFnJiZnZShlLnR5cGUpO3RyeXtjb25zb2xlLmVycm9yKHQpfWNhdGNoKGUpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dGhyb3cgZX0pKX19ZnVuY3Rpb24gdHMoZSl7dmFyIHQ9ZS5yZWY7aWYobnVsbCE9PXQpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl0cnl7dChudWxsKX1jYXRjaCh0KXt5bChlLHQpfWVsc2UgdC5jdXJyZW50PW51bGx9ZnVuY3Rpb24gcnMoZSx0KXtzd2l0Y2godC50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6Y2FzZSAyMjpyZXR1cm47Y2FzZSAxOmlmKDI1NiZ0LmVmZmVjdFRhZyYmbnVsbCE9PWUpe3ZhciByPWUubWVtb2l6ZWRQcm9wcyxuPWUubWVtb2l6ZWRTdGF0ZTt0PShlPXQuc3RhdGVOb2RlKS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSh0LmVsZW1lbnRUeXBlPT09dC50eXBlP3I6WGkodC50eXBlLHIpLG4pLGUuX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGU9dH1yZXR1cm47Y2FzZSAzOmNhc2UgNTpjYXNlIDY6Y2FzZSA0OmNhc2UgMTc6cmV0dXJufXRocm93IEVycm9yKGEoMTYzKSl9ZnVuY3Rpb24gbnMoZSx0KXtpZihudWxsIT09KHQ9bnVsbCE9PSh0PXQudXBkYXRlUXVldWUpP3QubGFzdEVmZmVjdDpudWxsKSl7dmFyIHI9dD10Lm5leHQ7ZG97aWYoKHIudGFnJmUpPT09ZSl7dmFyIG49ci5kZXN0cm95O3IuZGVzdHJveT12b2lkIDAsdm9pZCAwIT09biYmbigpfXI9ci5uZXh0fXdoaWxlKHIhPT10KX19ZnVuY3Rpb24gaXMoZSx0KXtpZihudWxsIT09KHQ9bnVsbCE9PSh0PXQudXBkYXRlUXVldWUpP3QubGFzdEVmZmVjdDpudWxsKSl7dmFyIHI9dD10Lm5leHQ7ZG97aWYoKHIudGFnJmUpPT09ZSl7dmFyIG49ci5jcmVhdGU7ci5kZXN0cm95PW4oKX1yPXIubmV4dH13aGlsZShyIT09dCl9fWZ1bmN0aW9uIG9zKGUsdCxyKXtzd2l0Y2goci50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6Y2FzZSAyMjpyZXR1cm4gdm9pZCBpcygzLHIpO2Nhc2UgMTppZihlPXIuc3RhdGVOb2RlLDQmci5lZmZlY3RUYWcpaWYobnVsbD09PXQpZS5jb21wb25lbnREaWRNb3VudCgpO2Vsc2V7dmFyIG49ci5lbGVtZW50VHlwZT09PXIudHlwZT90Lm1lbW9pemVkUHJvcHM6WGkoci50eXBlLHQubWVtb2l6ZWRQcm9wcyk7ZS5jb21wb25lbnREaWRVcGRhdGUobix0Lm1lbW9pemVkU3RhdGUsZS5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSl9cmV0dXJuIHZvaWQobnVsbCE9PSh0PXIudXBkYXRlUXVldWUpJiZobyhyLHQsZSkpO2Nhc2UgMzppZihudWxsIT09KHQ9ci51cGRhdGVRdWV1ZSkpe2lmKGU9bnVsbCxudWxsIT09ci5jaGlsZClzd2l0Y2goci5jaGlsZC50YWcpe2Nhc2UgNTplPXIuY2hpbGQuc3RhdGVOb2RlO2JyZWFrO2Nhc2UgMTplPXIuY2hpbGQuc3RhdGVOb2RlfWhvKHIsdCxlKX1yZXR1cm47Y2FzZSA1OnJldHVybiBlPXIuc3RhdGVOb2RlLHZvaWQobnVsbD09PXQmJjQmci5lZmZlY3RUYWcmJmdyKHIudHlwZSxyLm1lbW9pemVkUHJvcHMpJiZlLmZvY3VzKCkpO2Nhc2UgNjpjYXNlIDQ6Y2FzZSAxMjpyZXR1cm47Y2FzZSAxMzpyZXR1cm4gdm9pZChudWxsPT09ci5tZW1vaXplZFN0YXRlJiYocj1yLmFsdGVybmF0ZSxudWxsIT09ciYmKHI9ci5tZW1vaXplZFN0YXRlLG51bGwhPT1yJiYocj1yLmRlaHlkcmF0ZWQsbnVsbCE9PXImJk90KHIpKSkpKTtjYXNlIDE5OmNhc2UgMTc6Y2FzZSAyMDpjYXNlIDIxOnJldHVybn10aHJvdyBFcnJvcihhKDE2MykpfWZ1bmN0aW9uIGFzKGUsdCxyKXtzd2l0Y2goXCJmdW5jdGlvblwiPT10eXBlb2Ygd2wmJndsKHQpLHQudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6Y2FzZSAyMjppZihudWxsIT09KGU9dC51cGRhdGVRdWV1ZSkmJm51bGwhPT0oZT1lLmxhc3RFZmZlY3QpKXt2YXIgbj1lLm5leHQ7VmkoOTc8cj85NzpyLChmdW5jdGlvbigpe3ZhciBlPW47ZG97dmFyIHI9ZS5kZXN0cm95O2lmKHZvaWQgMCE9PXIpe3ZhciBpPXQ7dHJ5e3IoKX1jYXRjaChlKXt5bChpLGUpfX1lPWUubmV4dH13aGlsZShlIT09bil9KSl9YnJlYWs7Y2FzZSAxOnRzKHQpLFwiZnVuY3Rpb25cIj09dHlwZW9mKHI9dC5zdGF0ZU5vZGUpLmNvbXBvbmVudFdpbGxVbm1vdW50JiZmdW5jdGlvbihlLHQpe3RyeXt0LnByb3BzPWUubWVtb2l6ZWRQcm9wcyx0LnN0YXRlPWUubWVtb2l6ZWRTdGF0ZSx0LmNvbXBvbmVudFdpbGxVbm1vdW50KCl9Y2F0Y2godCl7eWwoZSx0KX19KHQscik7YnJlYWs7Y2FzZSA1OnRzKHQpO2JyZWFrO2Nhc2UgNDp1cyhlLHQscil9fWZ1bmN0aW9uIHNzKGUpe3ZhciB0PWUuYWx0ZXJuYXRlO2UucmV0dXJuPW51bGwsZS5jaGlsZD1udWxsLGUubWVtb2l6ZWRTdGF0ZT1udWxsLGUudXBkYXRlUXVldWU9bnVsbCxlLmRlcGVuZGVuY2llcz1udWxsLGUuYWx0ZXJuYXRlPW51bGwsZS5maXJzdEVmZmVjdD1udWxsLGUubGFzdEVmZmVjdD1udWxsLGUucGVuZGluZ1Byb3BzPW51bGwsZS5tZW1vaXplZFByb3BzPW51bGwsZS5zdGF0ZU5vZGU9bnVsbCxudWxsIT09dCYmc3ModCl9ZnVuY3Rpb24gbHMoZSl7cmV0dXJuIDU9PT1lLnRhZ3x8Mz09PWUudGFnfHw0PT09ZS50YWd9ZnVuY3Rpb24gY3MoZSl7ZTp7Zm9yKHZhciB0PWUucmV0dXJuO251bGwhPT10Oyl7aWYobHModCkpe3ZhciByPXQ7YnJlYWsgZX10PXQucmV0dXJufXRocm93IEVycm9yKGEoMTYwKSl9c3dpdGNoKHQ9ci5zdGF0ZU5vZGUsci50YWcpe2Nhc2UgNTp2YXIgbj0hMTticmVhaztjYXNlIDM6Y2FzZSA0OnQ9dC5jb250YWluZXJJbmZvLG49ITA7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDE2MSkpfTE2JnIuZWZmZWN0VGFnJiYoVWUodCxcIlwiKSxyLmVmZmVjdFRhZyY9LTE3KTtlOnQ6Zm9yKHI9ZTs7KXtmb3IoO251bGw9PT1yLnNpYmxpbmc7KXtpZihudWxsPT09ci5yZXR1cm58fGxzKHIucmV0dXJuKSl7cj1udWxsO2JyZWFrIGV9cj1yLnJldHVybn1mb3Ioci5zaWJsaW5nLnJldHVybj1yLnJldHVybixyPXIuc2libGluZzs1IT09ci50YWcmJjYhPT1yLnRhZyYmMTghPT1yLnRhZzspe2lmKDImci5lZmZlY3RUYWcpY29udGludWUgdDtpZihudWxsPT09ci5jaGlsZHx8ND09PXIudGFnKWNvbnRpbnVlIHQ7ci5jaGlsZC5yZXR1cm49cixyPXIuY2hpbGR9aWYoISgyJnIuZWZmZWN0VGFnKSl7cj1yLnN0YXRlTm9kZTticmVhayBlfX1uP2Z1bmN0aW9uIGUodCxyLG4pe3ZhciBpPXQudGFnLG89NT09PWl8fDY9PT1pO2lmKG8pdD1vP3Quc3RhdGVOb2RlOnQuc3RhdGVOb2RlLmluc3RhbmNlLHI/OD09PW4ubm9kZVR5cGU/bi5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LHIpOm4uaW5zZXJ0QmVmb3JlKHQscik6KDg9PT1uLm5vZGVUeXBlPyhyPW4ucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKHQsbik6KHI9bikuYXBwZW5kQ2hpbGQodCksbnVsbCE9PShuPW4uX3JlYWN0Um9vdENvbnRhaW5lcikmJnZvaWQgMCE9PW58fG51bGwhPT1yLm9uY2xpY2t8fChyLm9uY2xpY2s9bHIpKTtlbHNlIGlmKDQhPT1pJiZudWxsIT09KHQ9dC5jaGlsZCkpZm9yKGUodCxyLG4pLHQ9dC5zaWJsaW5nO251bGwhPT10OyllKHQscixuKSx0PXQuc2libGluZ30oZSxyLHQpOmZ1bmN0aW9uIGUodCxyLG4pe3ZhciBpPXQudGFnLG89NT09PWl8fDY9PT1pO2lmKG8pdD1vP3Quc3RhdGVOb2RlOnQuc3RhdGVOb2RlLmluc3RhbmNlLHI/bi5pbnNlcnRCZWZvcmUodCxyKTpuLmFwcGVuZENoaWxkKHQpO2Vsc2UgaWYoNCE9PWkmJm51bGwhPT0odD10LmNoaWxkKSlmb3IoZSh0LHIsbiksdD10LnNpYmxpbmc7bnVsbCE9PXQ7KWUodCxyLG4pLHQ9dC5zaWJsaW5nfShlLHIsdCl9ZnVuY3Rpb24gdXMoZSx0LHIpe2Zvcih2YXIgbixpLG89dCxzPSExOzspe2lmKCFzKXtzPW8ucmV0dXJuO2U6Zm9yKDs7KXtpZihudWxsPT09cyl0aHJvdyBFcnJvcihhKDE2MCkpO3N3aXRjaChuPXMuc3RhdGVOb2RlLHMudGFnKXtjYXNlIDU6aT0hMTticmVhayBlO2Nhc2UgMzpjYXNlIDQ6bj1uLmNvbnRhaW5lckluZm8saT0hMDticmVhayBlfXM9cy5yZXR1cm59cz0hMH1pZig1PT09by50YWd8fDY9PT1vLnRhZyl7ZTpmb3IodmFyIGw9ZSxjPW8sdT1yLGg9Yzs7KWlmKGFzKGwsaCx1KSxudWxsIT09aC5jaGlsZCYmNCE9PWgudGFnKWguY2hpbGQucmV0dXJuPWgsaD1oLmNoaWxkO2Vsc2V7aWYoaD09PWMpYnJlYWsgZTtmb3IoO251bGw9PT1oLnNpYmxpbmc7KXtpZihudWxsPT09aC5yZXR1cm58fGgucmV0dXJuPT09YylicmVhayBlO2g9aC5yZXR1cm59aC5zaWJsaW5nLnJldHVybj1oLnJldHVybixoPWguc2libGluZ31pPyhsPW4sYz1vLnN0YXRlTm9kZSw4PT09bC5ub2RlVHlwZT9sLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyk6bC5yZW1vdmVDaGlsZChjKSk6bi5yZW1vdmVDaGlsZChvLnN0YXRlTm9kZSl9ZWxzZSBpZig0PT09by50YWcpe2lmKG51bGwhPT1vLmNoaWxkKXtuPW8uc3RhdGVOb2RlLmNvbnRhaW5lckluZm8saT0hMCxvLmNoaWxkLnJldHVybj1vLG89by5jaGlsZDtjb250aW51ZX19ZWxzZSBpZihhcyhlLG8sciksbnVsbCE9PW8uY2hpbGQpe28uY2hpbGQucmV0dXJuPW8sbz1vLmNoaWxkO2NvbnRpbnVlfWlmKG89PT10KWJyZWFrO2Zvcig7bnVsbD09PW8uc2libGluZzspe2lmKG51bGw9PT1vLnJldHVybnx8by5yZXR1cm49PT10KXJldHVybjs0PT09KG89by5yZXR1cm4pLnRhZyYmKHM9ITEpfW8uc2libGluZy5yZXR1cm49by5yZXR1cm4sbz1vLnNpYmxpbmd9fWZ1bmN0aW9uIGhzKGUsdCl7c3dpdGNoKHQudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6Y2FzZSAyMjpyZXR1cm4gdm9pZCBucygzLHQpO2Nhc2UgMTpyZXR1cm47Y2FzZSA1OnZhciByPXQuc3RhdGVOb2RlO2lmKG51bGwhPXIpe3ZhciBuPXQubWVtb2l6ZWRQcm9wcyxpPW51bGwhPT1lP2UubWVtb2l6ZWRQcm9wczpuO2U9dC50eXBlO3ZhciBvPXQudXBkYXRlUXVldWU7aWYodC51cGRhdGVRdWV1ZT1udWxsLG51bGwhPT1vKXtmb3IocltFcl09bixcImlucHV0XCI9PT1lJiZcInJhZGlvXCI9PT1uLnR5cGUmJm51bGwhPW4ubmFtZSYmRWUocixuKSxvcihlLGkpLHQ9b3IoZSxuKSxpPTA7aTxvLmxlbmd0aDtpKz0yKXt2YXIgcz1vW2ldLGw9b1tpKzFdO1wic3R5bGVcIj09PXM/cnIocixsKTpcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1zP2plKHIsbCk6XCJjaGlsZHJlblwiPT09cz9VZShyLGwpOksocixzLGwsdCl9c3dpdGNoKGUpe2Nhc2VcImlucHV0XCI6U2UocixuKTticmVhaztjYXNlXCJ0ZXh0YXJlYVwiOnplKHIsbik7YnJlYWs7Y2FzZVwic2VsZWN0XCI6dD1yLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGUsci5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlPSEhbi5tdWx0aXBsZSxudWxsIT0oZT1uLnZhbHVlKT9BZShyLCEhbi5tdWx0aXBsZSxlLCExKTp0IT09ISFuLm11bHRpcGxlJiYobnVsbCE9bi5kZWZhdWx0VmFsdWU/QWUociwhIW4ubXVsdGlwbGUsbi5kZWZhdWx0VmFsdWUsITApOkFlKHIsISFuLm11bHRpcGxlLG4ubXVsdGlwbGU/W106XCJcIiwhMSkpfX19cmV0dXJuO2Nhc2UgNjppZihudWxsPT09dC5zdGF0ZU5vZGUpdGhyb3cgRXJyb3IoYSgxNjIpKTtyZXR1cm4gdm9pZCh0LnN0YXRlTm9kZS5ub2RlVmFsdWU9dC5tZW1vaXplZFByb3BzKTtjYXNlIDM6cmV0dXJuIHZvaWQoKHQ9dC5zdGF0ZU5vZGUpLmh5ZHJhdGUmJih0Lmh5ZHJhdGU9ITEsT3QodC5jb250YWluZXJJbmZvKSkpO2Nhc2UgMTI6cmV0dXJuO2Nhc2UgMTM6aWYocj10LG51bGw9PT10Lm1lbW9pemVkU3RhdGU/bj0hMToobj0hMCxyPXQuY2hpbGQsUnM9amkoKSksbnVsbCE9PXIpZTpmb3IoZT1yOzspe2lmKDU9PT1lLnRhZylvPWUuc3RhdGVOb2RlLG4/XCJmdW5jdGlvblwiPT10eXBlb2Yobz1vLnN0eWxlKS5zZXRQcm9wZXJ0eT9vLnNldFByb3BlcnR5KFwiZGlzcGxheVwiLFwibm9uZVwiLFwiaW1wb3J0YW50XCIpOm8uZGlzcGxheT1cIm5vbmVcIjoobz1lLnN0YXRlTm9kZSxpPW51bGwhPShpPWUubWVtb2l6ZWRQcm9wcy5zdHlsZSkmJmkuaGFzT3duUHJvcGVydHkoXCJkaXNwbGF5XCIpP2kuZGlzcGxheTpudWxsLG8uc3R5bGUuZGlzcGxheT10cihcImRpc3BsYXlcIixpKSk7ZWxzZSBpZig2PT09ZS50YWcpZS5zdGF0ZU5vZGUubm9kZVZhbHVlPW4/XCJcIjplLm1lbW9pemVkUHJvcHM7ZWxzZXtpZigxMz09PWUudGFnJiZudWxsIT09ZS5tZW1vaXplZFN0YXRlJiZudWxsPT09ZS5tZW1vaXplZFN0YXRlLmRlaHlkcmF0ZWQpeyhvPWUuY2hpbGQuc2libGluZykucmV0dXJuPWUsZT1vO2NvbnRpbnVlfWlmKG51bGwhPT1lLmNoaWxkKXtlLmNoaWxkLnJldHVybj1lLGU9ZS5jaGlsZDtjb250aW51ZX19aWYoZT09PXIpYnJlYWs7Zm9yKDtudWxsPT09ZS5zaWJsaW5nOyl7aWYobnVsbD09PWUucmV0dXJufHxlLnJldHVybj09PXIpYnJlYWsgZTtlPWUucmV0dXJufWUuc2libGluZy5yZXR1cm49ZS5yZXR1cm4sZT1lLnNpYmxpbmd9cmV0dXJuIHZvaWQgZHModCk7Y2FzZSAxOTpyZXR1cm4gdm9pZCBkcyh0KTtjYXNlIDE3OnJldHVybn10aHJvdyBFcnJvcihhKDE2MykpfWZ1bmN0aW9uIGRzKGUpe3ZhciB0PWUudXBkYXRlUXVldWU7aWYobnVsbCE9PXQpe2UudXBkYXRlUXVldWU9bnVsbDt2YXIgcj1lLnN0YXRlTm9kZTtudWxsPT09ciYmKHI9ZS5zdGF0ZU5vZGU9bmV3IFFhKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBuPXhsLmJpbmQobnVsbCxlLHQpO3IuaGFzKHQpfHwoci5hZGQodCksdC50aGVuKG4sbikpfSkpfX12YXIgcHM9XCJmdW5jdGlvblwiPT10eXBlb2YgV2Vha01hcD9XZWFrTWFwOk1hcDtmdW5jdGlvbiBmcyhlLHQscil7KHI9c28ocixudWxsKSkudGFnPTMsci5wYXlsb2FkPXtlbGVtZW50Om51bGx9O3ZhciBuPXQudmFsdWU7cmV0dXJuIHIuY2FsbGJhY2s9ZnVuY3Rpb24oKXtPc3x8KE9zPSEwLEJzPW4pLGVzKGUsdCl9LHJ9ZnVuY3Rpb24gbXMoZSx0LHIpeyhyPXNvKHIsbnVsbCkpLnRhZz0zO3ZhciBuPWUudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3I7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbil7dmFyIGk9dC52YWx1ZTtyLnBheWxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZXMoZSx0KSxuKGkpfX12YXIgbz1lLnN0YXRlTm9kZTtyZXR1cm4gbnVsbCE9PW8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8uY29tcG9uZW50RGlkQ2F0Y2gmJihyLmNhbGxiYWNrPWZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiIT10eXBlb2YgbiYmKG51bGw9PT1Gcz9Gcz1uZXcgU2V0KFt0aGlzXSk6RnMuYWRkKHRoaXMpLGVzKGUsdCkpO3ZhciByPXQuc3RhY2s7dGhpcy5jb21wb25lbnREaWRDYXRjaCh0LnZhbHVlLHtjb21wb25lbnRTdGFjazpudWxsIT09cj9yOlwiXCJ9KX0pLHJ9dmFyIGdzLF9zPU1hdGguY2VpbCx5cz1ZLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsdnM9WS5SZWFjdEN1cnJlbnRPd25lcix4cz0wLGJzPTMsd3M9NCxUcz0wLEVzPW51bGwsU3M9bnVsbCxDcz0wLE1zPXhzLGtzPW51bGwsQXM9MTA3Mzc0MTgyMyxJcz0xMDczNzQxODIzLFBzPW51bGwsenM9MCxEcz0hMSxScz0wLExzPW51bGwsT3M9ITEsQnM9bnVsbCxGcz1udWxsLGpzPSExLFVzPW51bGwsTnM9OTAsVnM9bnVsbCxHcz0wLHFzPW51bGwsWnM9MDtmdW5jdGlvbiAkcygpe3JldHVybiAwIT0oNDgmVHMpPzEwNzM3NDE4MjEtKGppKCkvMTB8MCk6MCE9PVpzP1pzOlpzPTEwNzM3NDE4MjEtKGppKCkvMTB8MCl9ZnVuY3Rpb24gV3MoZSx0LHIpe2lmKDA9PSgyJih0PXQubW9kZSkpKXJldHVybiAxMDczNzQxODIzO3ZhciBuPVVpKCk7aWYoMD09KDQmdCkpcmV0dXJuIDk5PT09bj8xMDczNzQxODIzOjEwNzM3NDE4MjI7aWYoMCE9KDE2JlRzKSlyZXR1cm4gQ3M7aWYobnVsbCE9PXIpZT1XaShlLDB8ci50aW1lb3V0TXN8fDVlMywyNTApO2Vsc2Ugc3dpdGNoKG4pe2Nhc2UgOTk6ZT0xMDczNzQxODIzO2JyZWFrO2Nhc2UgOTg6ZT1XaShlLDE1MCwxMDApO2JyZWFrO2Nhc2UgOTc6Y2FzZSA5NjplPVdpKGUsNWUzLDI1MCk7YnJlYWs7Y2FzZSA5NTplPTI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDMyNikpfXJldHVybiBudWxsIT09RXMmJmU9PT1DcyYmLS1lLGV9ZnVuY3Rpb24gWHMoZSx0KXtpZig1MDxHcyl0aHJvdyBHcz0wLHFzPW51bGwsRXJyb3IoYSgxODUpKTtpZihudWxsIT09KGU9SHMoZSx0KSkpe3ZhciByPVVpKCk7MTA3Mzc0MTgyMz09PXQ/MCE9KDgmVHMpJiYwPT0oNDgmVHMpP1FzKGUpOihLcyhlKSwwPT09VHMmJlppKCkpOktzKGUpLDA9PSg0JlRzKXx8OTghPT1yJiY5OSE9PXJ8fChudWxsPT09VnM/VnM9bmV3IE1hcChbW2UsdF1dKToodm9pZCAwPT09KHI9VnMuZ2V0KGUpKXx8cj50KSYmVnMuc2V0KGUsdCkpfX1mdW5jdGlvbiBIcyhlLHQpe2UuZXhwaXJhdGlvblRpbWU8dCYmKGUuZXhwaXJhdGlvblRpbWU9dCk7dmFyIHI9ZS5hbHRlcm5hdGU7bnVsbCE9PXImJnIuZXhwaXJhdGlvblRpbWU8dCYmKHIuZXhwaXJhdGlvblRpbWU9dCk7dmFyIG49ZS5yZXR1cm4saT1udWxsO2lmKG51bGw9PT1uJiYzPT09ZS50YWcpaT1lLnN0YXRlTm9kZTtlbHNlIGZvcig7bnVsbCE9PW47KXtpZihyPW4uYWx0ZXJuYXRlLG4uY2hpbGRFeHBpcmF0aW9uVGltZTx0JiYobi5jaGlsZEV4cGlyYXRpb25UaW1lPXQpLG51bGwhPT1yJiZyLmNoaWxkRXhwaXJhdGlvblRpbWU8dCYmKHIuY2hpbGRFeHBpcmF0aW9uVGltZT10KSxudWxsPT09bi5yZXR1cm4mJjM9PT1uLnRhZyl7aT1uLnN0YXRlTm9kZTticmVha31uPW4ucmV0dXJufXJldHVybiBudWxsIT09aSYmKEVzPT09aSYmKGFsKHQpLE1zPT09d3MmJkRsKGksQ3MpKSxSbChpLHQpKSxpfWZ1bmN0aW9uIFlzKGUpe3ZhciB0PWUubGFzdEV4cGlyZWRUaW1lO2lmKDAhPT10KXJldHVybiB0O2lmKCF6bChlLHQ9ZS5maXJzdFBlbmRpbmdUaW1lKSlyZXR1cm4gdDt2YXIgcj1lLmxhc3RQaW5nZWRUaW1lO3JldHVybiAyPj0oZT1yPihlPWUubmV4dEtub3duUGVuZGluZ0xldmVsKT9yOmUpJiZ0IT09ZT8wOmV9ZnVuY3Rpb24gS3MoZSl7aWYoMCE9PWUubGFzdEV4cGlyZWRUaW1lKWUuY2FsbGJhY2tFeHBpcmF0aW9uVGltZT0xMDczNzQxODIzLGUuY2FsbGJhY2tQcmlvcml0eT05OSxlLmNhbGxiYWNrTm9kZT1xaShRcy5iaW5kKG51bGwsZSkpO2Vsc2V7dmFyIHQ9WXMoZSkscj1lLmNhbGxiYWNrTm9kZTtpZigwPT09dCludWxsIT09ciYmKGUuY2FsbGJhY2tOb2RlPW51bGwsZS5jYWxsYmFja0V4cGlyYXRpb25UaW1lPTAsZS5jYWxsYmFja1ByaW9yaXR5PTkwKTtlbHNle3ZhciBuPSRzKCk7aWYoMTA3Mzc0MTgyMz09PXQ/bj05OToxPT09dHx8Mj09PXQ/bj05NTpuPTA+PShuPTEwKigxMDczNzQxODIxLXQpLTEwKigxMDczNzQxODIxLW4pKT85OToyNTA+PW4/OTg6NTI1MD49bj85Nzo5NSxudWxsIT09cil7dmFyIGk9ZS5jYWxsYmFja1ByaW9yaXR5O2lmKGUuY2FsbGJhY2tFeHBpcmF0aW9uVGltZT09PXQmJmk+PW4pcmV0dXJuO3IhPT16aSYmVGkocil9ZS5jYWxsYmFja0V4cGlyYXRpb25UaW1lPXQsZS5jYWxsYmFja1ByaW9yaXR5PW4sdD0xMDczNzQxODIzPT09dD9xaShRcy5iaW5kKG51bGwsZSkpOkdpKG4sSnMuYmluZChudWxsLGUpLHt0aW1lb3V0OjEwKigxMDczNzQxODIxLXQpLWppKCl9KSxlLmNhbGxiYWNrTm9kZT10fX19ZnVuY3Rpb24gSnMoZSx0KXtpZihacz0wLHQpcmV0dXJuIExsKGUsdD0kcygpKSxLcyhlKSxudWxsO3ZhciByPVlzKGUpO2lmKDAhPT1yKXtpZih0PWUuY2FsbGJhY2tOb2RlLDAhPSg0OCZUcykpdGhyb3cgRXJyb3IoYSgzMjcpKTtpZihtbCgpLGU9PT1FcyYmcj09PUNzfHxybChlLHIpLG51bGwhPT1Tcyl7dmFyIG49VHM7VHN8PTE2O2Zvcih2YXIgaT1pbCgpOzspdHJ5e2xsKCk7YnJlYWt9Y2F0Y2godCl7bmwoZSx0KX1pZihRaSgpLFRzPW4seXMuY3VycmVudD1pLDE9PT1Ncyl0aHJvdyB0PWtzLHJsKGUsciksRGwoZSxyKSxLcyhlKSx0O2lmKG51bGw9PT1Tcylzd2l0Y2goaT1lLmZpbmlzaGVkV29yaz1lLmN1cnJlbnQuYWx0ZXJuYXRlLGUuZmluaXNoZWRFeHBpcmF0aW9uVGltZT1yLG49TXMsRXM9bnVsbCxuKXtjYXNlIHhzOmNhc2UgMTp0aHJvdyBFcnJvcihhKDM0NSkpO2Nhc2UgMjpMbChlLDI8cj8yOnIpO2JyZWFrO2Nhc2UgYnM6aWYoRGwoZSxyKSxyPT09KG49ZS5sYXN0U3VzcGVuZGVkVGltZSkmJihlLm5leHRLbm93blBlbmRpbmdMZXZlbD1obChpKSksMTA3Mzc0MTgyMz09PUFzJiYxMDwoaT1Scys1MDAtamkoKSkpe2lmKERzKXt2YXIgbz1lLmxhc3RQaW5nZWRUaW1lO2lmKDA9PT1vfHxvPj1yKXtlLmxhc3RQaW5nZWRUaW1lPXIscmwoZSxyKTticmVha319aWYoMCE9PShvPVlzKGUpKSYmbyE9PXIpYnJlYWs7aWYoMCE9PW4mJm4hPT1yKXtlLmxhc3RQaW5nZWRUaW1lPW47YnJlYWt9ZS50aW1lb3V0SGFuZGxlPXlyKGRsLmJpbmQobnVsbCxlKSxpKTticmVha31kbChlKTticmVhaztjYXNlIHdzOmlmKERsKGUscikscj09PShuPWUubGFzdFN1c3BlbmRlZFRpbWUpJiYoZS5uZXh0S25vd25QZW5kaW5nTGV2ZWw9aGwoaSkpLERzJiYoMD09PShpPWUubGFzdFBpbmdlZFRpbWUpfHxpPj1yKSl7ZS5sYXN0UGluZ2VkVGltZT1yLHJsKGUscik7YnJlYWt9aWYoMCE9PShpPVlzKGUpKSYmaSE9PXIpYnJlYWs7aWYoMCE9PW4mJm4hPT1yKXtlLmxhc3RQaW5nZWRUaW1lPW47YnJlYWt9aWYoMTA3Mzc0MTgyMyE9PUlzP249MTAqKDEwNzM3NDE4MjEtSXMpLWppKCk6MTA3Mzc0MTgyMz09PUFzP249MDoobj0xMCooMTA3Mzc0MTgyMS1BcyktNWUzLDA+KG49KGk9amkoKSktbikmJihuPTApLChyPTEwKigxMDczNzQxODIxLXIpLWkpPChuPSgxMjA+bj8xMjA6NDgwPm4/NDgwOjEwODA+bj8xMDgwOjE5MjA+bj8xOTIwOjNlMz5uPzNlMzo0MzIwPm4/NDMyMDoxOTYwKl9zKG4vMTk2MCkpLW4pJiYobj1yKSksMTA8bil7ZS50aW1lb3V0SGFuZGxlPXlyKGRsLmJpbmQobnVsbCxlKSxuKTticmVha31kbChlKTticmVhaztjYXNlIDU6aWYoMTA3Mzc0MTgyMyE9PUFzJiZudWxsIT09UHMpe289QXM7dmFyIHM9UHM7aWYoMD49KG49MHxzLmJ1c3lNaW5EdXJhdGlvbk1zKT9uPTA6KGk9MHxzLmJ1c3lEZWxheU1zLG49KG89amkoKS0oMTAqKDEwNzM3NDE4MjEtbyktKDB8cy50aW1lb3V0TXN8fDVlMykpKTw9aT8wOmkrbi1vKSwxMDxuKXtEbChlLHIpLGUudGltZW91dEhhbmRsZT15cihkbC5iaW5kKG51bGwsZSksbik7YnJlYWt9fWRsKGUpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoYSgzMjkpKX1pZihLcyhlKSxlLmNhbGxiYWNrTm9kZT09PXQpcmV0dXJuIEpzLmJpbmQobnVsbCxlKX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gUXMoZSl7dmFyIHQ9ZS5sYXN0RXhwaXJlZFRpbWU7aWYodD0wIT09dD90OjEwNzM3NDE4MjMsMCE9KDQ4JlRzKSl0aHJvdyBFcnJvcihhKDMyNykpO2lmKG1sKCksZT09PUVzJiZ0PT09Q3N8fHJsKGUsdCksbnVsbCE9PVNzKXt2YXIgcj1UcztUc3w9MTY7Zm9yKHZhciBuPWlsKCk7Oyl0cnl7c2woKTticmVha31jYXRjaCh0KXtubChlLHQpfWlmKFFpKCksVHM9cix5cy5jdXJyZW50PW4sMT09PU1zKXRocm93IHI9a3MscmwoZSx0KSxEbChlLHQpLEtzKGUpLHI7aWYobnVsbCE9PVNzKXRocm93IEVycm9yKGEoMjYxKSk7ZS5maW5pc2hlZFdvcms9ZS5jdXJyZW50LmFsdGVybmF0ZSxlLmZpbmlzaGVkRXhwaXJhdGlvblRpbWU9dCxFcz1udWxsLGRsKGUpLEtzKGUpfXJldHVybiBudWxsfWZ1bmN0aW9uIGVsKGUsdCl7dmFyIHI9VHM7VHN8PTE7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7MD09PShUcz1yKSYmWmkoKX19ZnVuY3Rpb24gdGwoZSx0KXt2YXIgcj1UcztUcyY9LTIsVHN8PTg7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7MD09PShUcz1yKSYmWmkoKX19ZnVuY3Rpb24gcmwoZSx0KXtlLmZpbmlzaGVkV29yaz1udWxsLGUuZmluaXNoZWRFeHBpcmF0aW9uVGltZT0wO3ZhciByPWUudGltZW91dEhhbmRsZTtpZigtMSE9PXImJihlLnRpbWVvdXRIYW5kbGU9LTEsdnIocikpLG51bGwhPT1Tcylmb3Iocj1Tcy5yZXR1cm47bnVsbCE9PXI7KXt2YXIgbj1yO3N3aXRjaChuLnRhZyl7Y2FzZSAxOm51bGwhPShuPW4udHlwZS5jaGlsZENvbnRleHRUeXBlcykmJmdpKCk7YnJlYWs7Y2FzZSAzOkRvKCksbGkoZGkpLGxpKGhpKTticmVhaztjYXNlIDU6TG8obik7YnJlYWs7Y2FzZSA0OkRvKCk7YnJlYWs7Y2FzZSAxMzpjYXNlIDE5OmxpKE9vKTticmVhaztjYXNlIDEwOmVvKG4pfXI9ci5yZXR1cm59RXM9ZSxTcz1DbChlLmN1cnJlbnQsbnVsbCksQ3M9dCxNcz14cyxrcz1udWxsLElzPUFzPTEwNzM3NDE4MjMsUHM9bnVsbCx6cz0wLERzPSExfWZ1bmN0aW9uIG5sKGUsdCl7Zm9yKDs7KXt0cnl7aWYoUWkoKSxqby5jdXJyZW50PWdhLFpvKWZvcih2YXIgcj1Wby5tZW1vaXplZFN0YXRlO251bGwhPT1yOyl7dmFyIG49ci5xdWV1ZTtudWxsIT09biYmKG4ucGVuZGluZz1udWxsKSxyPXIubmV4dH1pZihObz0wLHFvPUdvPVZvPW51bGwsWm89ITEsbnVsbD09PVNzfHxudWxsPT09U3MucmV0dXJuKXJldHVybiBNcz0xLGtzPXQsU3M9bnVsbDtlOnt2YXIgaT1lLG89U3MucmV0dXJuLGE9U3Mscz10O2lmKHQ9Q3MsYS5lZmZlY3RUYWd8PTIwNDgsYS5maXJzdEVmZmVjdD1hLmxhc3RFZmZlY3Q9bnVsbCxudWxsIT09cyYmXCJvYmplY3RcIj09dHlwZW9mIHMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHMudGhlbil7dmFyIGw9cztpZigwPT0oMiZhLm1vZGUpKXt2YXIgYz1hLmFsdGVybmF0ZTtjPyhhLnVwZGF0ZVF1ZXVlPWMudXBkYXRlUXVldWUsYS5tZW1vaXplZFN0YXRlPWMubWVtb2l6ZWRTdGF0ZSxhLmV4cGlyYXRpb25UaW1lPWMuZXhwaXJhdGlvblRpbWUpOihhLnVwZGF0ZVF1ZXVlPW51bGwsYS5tZW1vaXplZFN0YXRlPW51bGwpfXZhciB1PTAhPSgxJk9vLmN1cnJlbnQpLGg9bztkb3t2YXIgZDtpZihkPTEzPT09aC50YWcpe3ZhciBwPWgubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09cClkPW51bGwhPT1wLmRlaHlkcmF0ZWQ7ZWxzZXt2YXIgZj1oLm1lbW9pemVkUHJvcHM7ZD12b2lkIDAhPT1mLmZhbGxiYWNrJiYoITAhPT1mLnVuc3RhYmxlX2F2b2lkVGhpc0ZhbGxiYWNrfHwhdSl9fWlmKGQpe3ZhciBtPWgudXBkYXRlUXVldWU7aWYobnVsbD09PW0pe3ZhciBnPW5ldyBTZXQ7Zy5hZGQobCksaC51cGRhdGVRdWV1ZT1nfWVsc2UgbS5hZGQobCk7aWYoMD09KDImaC5tb2RlKSl7aWYoaC5lZmZlY3RUYWd8PTY0LGEuZWZmZWN0VGFnJj0tMjk4MSwxPT09YS50YWcpaWYobnVsbD09PWEuYWx0ZXJuYXRlKWEudGFnPTE3O2Vsc2V7dmFyIF89c28oMTA3Mzc0MTgyMyxudWxsKTtfLnRhZz0yLGxvKGEsXyl9YS5leHBpcmF0aW9uVGltZT0xMDczNzQxODIzO2JyZWFrIGV9cz12b2lkIDAsYT10O3ZhciB5PWkucGluZ0NhY2hlO2lmKG51bGw9PT15Pyh5PWkucGluZ0NhY2hlPW5ldyBwcyxzPW5ldyBTZXQseS5zZXQobCxzKSk6dm9pZCAwPT09KHM9eS5nZXQobCkpJiYocz1uZXcgU2V0LHkuc2V0KGwscykpLCFzLmhhcyhhKSl7cy5hZGQoYSk7dmFyIHY9dmwuYmluZChudWxsLGksbCxhKTtsLnRoZW4odix2KX1oLmVmZmVjdFRhZ3w9NDA5NixoLmV4cGlyYXRpb25UaW1lPXQ7YnJlYWsgZX1oPWgucmV0dXJufXdoaWxlKG51bGwhPT1oKTtzPUVycm9yKChnZShhLnR5cGUpfHxcIkEgUmVhY3QgY29tcG9uZW50XCIpK1wiIHN1c3BlbmRlZCB3aGlsZSByZW5kZXJpbmcsIGJ1dCBubyBmYWxsYmFjayBVSSB3YXMgc3BlY2lmaWVkLlxcblxcbkFkZCBhIDxTdXNwZW5zZSBmYWxsYmFjaz0uLi4+IGNvbXBvbmVudCBoaWdoZXIgaW4gdGhlIHRyZWUgdG8gcHJvdmlkZSBhIGxvYWRpbmcgaW5kaWNhdG9yIG9yIHBsYWNlaG9sZGVyIHRvIGRpc3BsYXkuXCIrX2UoYSkpfTUhPT1NcyYmKE1zPTIpLHM9SmEocyxhKSxoPW87ZG97c3dpdGNoKGgudGFnKXtjYXNlIDM6bD1zLGguZWZmZWN0VGFnfD00MDk2LGguZXhwaXJhdGlvblRpbWU9dCxjbyhoLGZzKGgsbCx0KSk7YnJlYWsgZTtjYXNlIDE6bD1zO3ZhciB4PWgudHlwZSxiPWguc3RhdGVOb2RlO2lmKDA9PSg2NCZoLmVmZmVjdFRhZykmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB4LmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcnx8bnVsbCE9PWImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGIuY29tcG9uZW50RGlkQ2F0Y2gmJihudWxsPT09RnN8fCFGcy5oYXMoYikpKSl7aC5lZmZlY3RUYWd8PTQwOTYsaC5leHBpcmF0aW9uVGltZT10LGNvKGgsbXMoaCxsLHQpKTticmVhayBlfX1oPWgucmV0dXJufXdoaWxlKG51bGwhPT1oKX1Tcz11bChTcyl9Y2F0Y2goZSl7dD1lO2NvbnRpbnVlfWJyZWFrfX1mdW5jdGlvbiBpbCgpe3ZhciBlPXlzLmN1cnJlbnQ7cmV0dXJuIHlzLmN1cnJlbnQ9Z2EsbnVsbD09PWU/Z2E6ZX1mdW5jdGlvbiBvbChlLHQpe2U8QXMmJjI8ZSYmKEFzPWUpLG51bGwhPT10JiZlPElzJiYyPGUmJihJcz1lLFBzPXQpfWZ1bmN0aW9uIGFsKGUpe2U+enMmJih6cz1lKX1mdW5jdGlvbiBzbCgpe2Zvcig7bnVsbCE9PVNzOylTcz1jbChTcyl9ZnVuY3Rpb24gbGwoKXtmb3IoO251bGwhPT1TcyYmIURpKCk7KVNzPWNsKFNzKX1mdW5jdGlvbiBjbChlKXt2YXIgdD1ncyhlLmFsdGVybmF0ZSxlLENzKTtyZXR1cm4gZS5tZW1vaXplZFByb3BzPWUucGVuZGluZ1Byb3BzLG51bGw9PT10JiYodD11bChlKSksdnMuY3VycmVudD1udWxsLHR9ZnVuY3Rpb24gdWwoZSl7U3M9ZTtkb3t2YXIgdD1Tcy5hbHRlcm5hdGU7aWYoZT1Tcy5yZXR1cm4sMD09KDIwNDgmU3MuZWZmZWN0VGFnKSl7aWYodD1ZYSh0LFNzLENzKSwxPT09Q3N8fDEhPT1Tcy5jaGlsZEV4cGlyYXRpb25UaW1lKXtmb3IodmFyIHI9MCxuPVNzLmNoaWxkO251bGwhPT1uOyl7dmFyIGk9bi5leHBpcmF0aW9uVGltZSxvPW4uY2hpbGRFeHBpcmF0aW9uVGltZTtpPnImJihyPWkpLG8+ciYmKHI9byksbj1uLnNpYmxpbmd9U3MuY2hpbGRFeHBpcmF0aW9uVGltZT1yfWlmKG51bGwhPT10KXJldHVybiB0O251bGwhPT1lJiYwPT0oMjA0OCZlLmVmZmVjdFRhZykmJihudWxsPT09ZS5maXJzdEVmZmVjdCYmKGUuZmlyc3RFZmZlY3Q9U3MuZmlyc3RFZmZlY3QpLG51bGwhPT1Tcy5sYXN0RWZmZWN0JiYobnVsbCE9PWUubGFzdEVmZmVjdCYmKGUubGFzdEVmZmVjdC5uZXh0RWZmZWN0PVNzLmZpcnN0RWZmZWN0KSxlLmxhc3RFZmZlY3Q9U3MubGFzdEVmZmVjdCksMTxTcy5lZmZlY3RUYWcmJihudWxsIT09ZS5sYXN0RWZmZWN0P2UubGFzdEVmZmVjdC5uZXh0RWZmZWN0PVNzOmUuZmlyc3RFZmZlY3Q9U3MsZS5sYXN0RWZmZWN0PVNzKSl9ZWxzZXtpZihudWxsIT09KHQ9S2EoU3MpKSlyZXR1cm4gdC5lZmZlY3RUYWcmPTIwNDcsdDtudWxsIT09ZSYmKGUuZmlyc3RFZmZlY3Q9ZS5sYXN0RWZmZWN0PW51bGwsZS5lZmZlY3RUYWd8PTIwNDgpfWlmKG51bGwhPT0odD1Tcy5zaWJsaW5nKSlyZXR1cm4gdDtTcz1lfXdoaWxlKG51bGwhPT1Tcyk7cmV0dXJuIE1zPT09eHMmJihNcz01KSxudWxsfWZ1bmN0aW9uIGhsKGUpe3ZhciB0PWUuZXhwaXJhdGlvblRpbWU7cmV0dXJuIHQ+KGU9ZS5jaGlsZEV4cGlyYXRpb25UaW1lKT90OmV9ZnVuY3Rpb24gZGwoZSl7dmFyIHQ9VWkoKTtyZXR1cm4gVmkoOTkscGwuYmluZChudWxsLGUsdCkpLG51bGx9ZnVuY3Rpb24gcGwoZSx0KXtkb3ttbCgpfXdoaWxlKG51bGwhPT1Vcyk7aWYoMCE9KDQ4JlRzKSl0aHJvdyBFcnJvcihhKDMyNykpO3ZhciByPWUuZmluaXNoZWRXb3JrLG49ZS5maW5pc2hlZEV4cGlyYXRpb25UaW1lO2lmKG51bGw9PT1yKXJldHVybiBudWxsO2lmKGUuZmluaXNoZWRXb3JrPW51bGwsZS5maW5pc2hlZEV4cGlyYXRpb25UaW1lPTAscj09PWUuY3VycmVudCl0aHJvdyBFcnJvcihhKDE3NykpO2UuY2FsbGJhY2tOb2RlPW51bGwsZS5jYWxsYmFja0V4cGlyYXRpb25UaW1lPTAsZS5jYWxsYmFja1ByaW9yaXR5PTkwLGUubmV4dEtub3duUGVuZGluZ0xldmVsPTA7dmFyIGk9aGwocik7aWYoZS5maXJzdFBlbmRpbmdUaW1lPWksbjw9ZS5sYXN0U3VzcGVuZGVkVGltZT9lLmZpcnN0U3VzcGVuZGVkVGltZT1lLmxhc3RTdXNwZW5kZWRUaW1lPWUubmV4dEtub3duUGVuZGluZ0xldmVsPTA6bjw9ZS5maXJzdFN1c3BlbmRlZFRpbWUmJihlLmZpcnN0U3VzcGVuZGVkVGltZT1uLTEpLG48PWUubGFzdFBpbmdlZFRpbWUmJihlLmxhc3RQaW5nZWRUaW1lPTApLG48PWUubGFzdEV4cGlyZWRUaW1lJiYoZS5sYXN0RXhwaXJlZFRpbWU9MCksZT09PUVzJiYoU3M9RXM9bnVsbCxDcz0wKSwxPHIuZWZmZWN0VGFnP251bGwhPT1yLmxhc3RFZmZlY3Q/KHIubGFzdEVmZmVjdC5uZXh0RWZmZWN0PXIsaT1yLmZpcnN0RWZmZWN0KTppPXI6aT1yLmZpcnN0RWZmZWN0LG51bGwhPT1pKXt2YXIgbz1UcztUc3w9MzIsdnMuY3VycmVudD1udWxsLGZyPSR0O3ZhciBzPWRyKCk7aWYocHIocykpe2lmKFwic2VsZWN0aW9uU3RhcnRcImluIHMpdmFyIGw9e3N0YXJ0OnMuc2VsZWN0aW9uU3RhcnQsZW5kOnMuc2VsZWN0aW9uRW5kfTtlbHNlIGU6e3ZhciBjPShsPShsPXMub3duZXJEb2N1bWVudCkmJmwuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0U2VsZWN0aW9uJiZsLmdldFNlbGVjdGlvbigpO2lmKGMmJjAhPT1jLnJhbmdlQ291bnQpe2w9Yy5hbmNob3JOb2RlO3ZhciB1PWMuYW5jaG9yT2Zmc2V0LGg9Yy5mb2N1c05vZGU7Yz1jLmZvY3VzT2Zmc2V0O3RyeXtsLm5vZGVUeXBlLGgubm9kZVR5cGV9Y2F0Y2goZSl7bD1udWxsO2JyZWFrIGV9dmFyIGQ9MCxwPS0xLGY9LTEsbT0wLGc9MCxfPXMseT1udWxsO3Q6Zm9yKDs7KXtmb3IodmFyIHY7XyE9PWx8fDAhPT11JiYzIT09Xy5ub2RlVHlwZXx8KHA9ZCt1KSxfIT09aHx8MCE9PWMmJjMhPT1fLm5vZGVUeXBlfHwoZj1kK2MpLDM9PT1fLm5vZGVUeXBlJiYoZCs9Xy5ub2RlVmFsdWUubGVuZ3RoKSxudWxsIT09KHY9Xy5maXJzdENoaWxkKTspeT1fLF89djtmb3IoOzspe2lmKF89PT1zKWJyZWFrIHQ7aWYoeT09PWwmJisrbT09PXUmJihwPWQpLHk9PT1oJiYrK2c9PT1jJiYoZj1kKSxudWxsIT09KHY9Xy5uZXh0U2libGluZykpYnJlYWs7eT0oXz15KS5wYXJlbnROb2RlfV89dn1sPS0xPT09cHx8LTE9PT1mP251bGw6e3N0YXJ0OnAsZW5kOmZ9fWVsc2UgbD1udWxsfWw9bHx8e3N0YXJ0OjAsZW5kOjB9fWVsc2UgbD1udWxsO21yPXthY3RpdmVFbGVtZW50RGV0YWNoZWQ6bnVsbCxmb2N1c2VkRWxlbTpzLHNlbGVjdGlvblJhbmdlOmx9LCR0PSExLExzPWk7ZG97dHJ5e2ZsKCl9Y2F0Y2goZSl7aWYobnVsbD09PUxzKXRocm93IEVycm9yKGEoMzMwKSk7eWwoTHMsZSksTHM9THMubmV4dEVmZmVjdH19d2hpbGUobnVsbCE9PUxzKTtMcz1pO2Rve3RyeXtmb3Iocz1lLGw9dDtudWxsIT09THM7KXt2YXIgeD1Mcy5lZmZlY3RUYWc7aWYoMTYmeCYmVWUoTHMuc3RhdGVOb2RlLFwiXCIpLDEyOCZ4KXt2YXIgYj1Mcy5hbHRlcm5hdGU7aWYobnVsbCE9PWIpe3ZhciB3PWIucmVmO251bGwhPT13JiYoXCJmdW5jdGlvblwiPT10eXBlb2Ygdz93KG51bGwpOncuY3VycmVudD1udWxsKX19c3dpdGNoKDEwMzgmeCl7Y2FzZSAyOmNzKExzKSxMcy5lZmZlY3RUYWcmPS0zO2JyZWFrO2Nhc2UgNjpjcyhMcyksTHMuZWZmZWN0VGFnJj0tMyxocyhMcy5hbHRlcm5hdGUsTHMpO2JyZWFrO2Nhc2UgMTAyNDpMcy5lZmZlY3RUYWcmPS0xMDI1O2JyZWFrO2Nhc2UgMTAyODpMcy5lZmZlY3RUYWcmPS0xMDI1LGhzKExzLmFsdGVybmF0ZSxMcyk7YnJlYWs7Y2FzZSA0OmhzKExzLmFsdGVybmF0ZSxMcyk7YnJlYWs7Y2FzZSA4OnVzKHMsdT1McyxsKSxzcyh1KX1Mcz1Mcy5uZXh0RWZmZWN0fX1jYXRjaChlKXtpZihudWxsPT09THMpdGhyb3cgRXJyb3IoYSgzMzApKTt5bChMcyxlKSxMcz1Mcy5uZXh0RWZmZWN0fX13aGlsZShudWxsIT09THMpO2lmKHc9bXIsYj1kcigpLHg9dy5mb2N1c2VkRWxlbSxsPXcuc2VsZWN0aW9uUmFuZ2UsYiE9PXgmJngmJngub3duZXJEb2N1bWVudCYmZnVuY3Rpb24gZSh0LHIpe3JldHVybiEoIXR8fCFyKSYmKHQ9PT1yfHwoIXR8fDMhPT10Lm5vZGVUeXBlKSYmKHImJjM9PT1yLm5vZGVUeXBlP2UodCxyLnBhcmVudE5vZGUpOlwiY29udGFpbnNcImluIHQ/dC5jb250YWlucyhyKTohIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJiEhKDE2JnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24ocikpKSl9KHgub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQseCkpe251bGwhPT1sJiZwcih4KSYmKGI9bC5zdGFydCx2b2lkIDA9PT0odz1sLmVuZCkmJih3PWIpLFwic2VsZWN0aW9uU3RhcnRcImluIHg/KHguc2VsZWN0aW9uU3RhcnQ9Yix4LnNlbGVjdGlvbkVuZD1NYXRoLm1pbih3LHgudmFsdWUubGVuZ3RoKSk6KHc9KGI9eC5vd25lckRvY3VtZW50fHxkb2N1bWVudCkmJmIuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0U2VsZWN0aW9uJiYodz13LmdldFNlbGVjdGlvbigpLHU9eC50ZXh0Q29udGVudC5sZW5ndGgscz1NYXRoLm1pbihsLnN0YXJ0LHUpLGw9dm9pZCAwPT09bC5lbmQ/czpNYXRoLm1pbihsLmVuZCx1KSwhdy5leHRlbmQmJnM+bCYmKHU9bCxsPXMscz11KSx1PWhyKHgscyksaD1ocih4LGwpLHUmJmgmJigxIT09dy5yYW5nZUNvdW50fHx3LmFuY2hvck5vZGUhPT11Lm5vZGV8fHcuYW5jaG9yT2Zmc2V0IT09dS5vZmZzZXR8fHcuZm9jdXNOb2RlIT09aC5ub2RlfHx3LmZvY3VzT2Zmc2V0IT09aC5vZmZzZXQpJiYoKGI9Yi5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydCh1Lm5vZGUsdS5vZmZzZXQpLHcucmVtb3ZlQWxsUmFuZ2VzKCkscz5sPyh3LmFkZFJhbmdlKGIpLHcuZXh0ZW5kKGgubm9kZSxoLm9mZnNldCkpOihiLnNldEVuZChoLm5vZGUsaC5vZmZzZXQpLHcuYWRkUmFuZ2UoYikpKSkpLGI9W107Zm9yKHc9eDt3PXcucGFyZW50Tm9kZTspMT09PXcubm9kZVR5cGUmJmIucHVzaCh7ZWxlbWVudDp3LGxlZnQ6dy5zY3JvbGxMZWZ0LHRvcDp3LnNjcm9sbFRvcH0pO2ZvcihcImZ1bmN0aW9uXCI9PXR5cGVvZiB4LmZvY3VzJiZ4LmZvY3VzKCkseD0wO3g8Yi5sZW5ndGg7eCsrKSh3PWJbeF0pLmVsZW1lbnQuc2Nyb2xsTGVmdD13LmxlZnQsdy5lbGVtZW50LnNjcm9sbFRvcD13LnRvcH0kdD0hIWZyLG1yPWZyPW51bGwsZS5jdXJyZW50PXIsTHM9aTtkb3t0cnl7Zm9yKHg9ZTtudWxsIT09THM7KXt2YXIgVD1Mcy5lZmZlY3RUYWc7aWYoMzYmVCYmb3MoeCxMcy5hbHRlcm5hdGUsTHMpLDEyOCZUKXtiPXZvaWQgMDt2YXIgRT1Mcy5yZWY7aWYobnVsbCE9PUUpe3ZhciBTPUxzLnN0YXRlTm9kZTtzd2l0Y2goTHMudGFnKXtjYXNlIDU6Yj1TO2JyZWFrO2RlZmF1bHQ6Yj1TfVwiZnVuY3Rpb25cIj09dHlwZW9mIEU/RShiKTpFLmN1cnJlbnQ9Yn19THM9THMubmV4dEVmZmVjdH19Y2F0Y2goZSl7aWYobnVsbD09PUxzKXRocm93IEVycm9yKGEoMzMwKSk7eWwoTHMsZSksTHM9THMubmV4dEVmZmVjdH19d2hpbGUobnVsbCE9PUxzKTtMcz1udWxsLFJpKCksVHM9b31lbHNlIGUuY3VycmVudD1yO2lmKGpzKWpzPSExLFVzPWUsTnM9dDtlbHNlIGZvcihMcz1pO251bGwhPT1MczspdD1Mcy5uZXh0RWZmZWN0LExzLm5leHRFZmZlY3Q9bnVsbCxMcz10O2lmKDA9PT0odD1lLmZpcnN0UGVuZGluZ1RpbWUpJiYoRnM9bnVsbCksMTA3Mzc0MTgyMz09PXQ/ZT09PXFzP0dzKys6KEdzPTAscXM9ZSk6R3M9MCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBibCYmYmwoci5zdGF0ZU5vZGUsbiksS3MoZSksT3MpdGhyb3cgT3M9ITEsZT1CcyxCcz1udWxsLGU7cmV0dXJuIDAhPSg4JlRzKXx8WmkoKSxudWxsfWZ1bmN0aW9uIGZsKCl7Zm9yKDtudWxsIT09THM7KXt2YXIgZT1Mcy5lZmZlY3RUYWc7MCE9KDI1NiZlKSYmcnMoTHMuYWx0ZXJuYXRlLExzKSwwPT0oNTEyJmUpfHxqc3x8KGpzPSEwLEdpKDk3LChmdW5jdGlvbigpe3JldHVybiBtbCgpLG51bGx9KSkpLExzPUxzLm5leHRFZmZlY3R9fWZ1bmN0aW9uIG1sKCl7aWYoOTAhPT1Ocyl7dmFyIGU9OTc8TnM/OTc6TnM7cmV0dXJuIE5zPTkwLFZpKGUsZ2wpfX1mdW5jdGlvbiBnbCgpe2lmKG51bGw9PT1VcylyZXR1cm4hMTt2YXIgZT1VcztpZihVcz1udWxsLDAhPSg0OCZUcykpdGhyb3cgRXJyb3IoYSgzMzEpKTt2YXIgdD1Ucztmb3IoVHN8PTMyLGU9ZS5jdXJyZW50LmZpcnN0RWZmZWN0O251bGwhPT1lOyl7dHJ5e3ZhciByPWU7aWYoMCE9KDUxMiZyLmVmZmVjdFRhZykpc3dpdGNoKHIudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE1OmNhc2UgMjI6bnMoNSxyKSxpcyg1LHIpfX1jYXRjaCh0KXtpZihudWxsPT09ZSl0aHJvdyBFcnJvcihhKDMzMCkpO3lsKGUsdCl9cj1lLm5leHRFZmZlY3QsZS5uZXh0RWZmZWN0PW51bGwsZT1yfXJldHVybiBUcz10LFppKCksITB9ZnVuY3Rpb24gX2woZSx0LHIpe2xvKGUsdD1mcyhlLHQ9SmEocix0KSwxMDczNzQxODIzKSksbnVsbCE9PShlPUhzKGUsMTA3Mzc0MTgyMykpJiZLcyhlKX1mdW5jdGlvbiB5bChlLHQpe2lmKDM9PT1lLnRhZylfbChlLGUsdCk7ZWxzZSBmb3IodmFyIHI9ZS5yZXR1cm47bnVsbCE9PXI7KXtpZigzPT09ci50YWcpe19sKHIsZSx0KTticmVha31pZigxPT09ci50YWcpe3ZhciBuPXIuc3RhdGVOb2RlO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHIudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3J8fFwiZnVuY3Rpb25cIj09dHlwZW9mIG4uY29tcG9uZW50RGlkQ2F0Y2gmJihudWxsPT09RnN8fCFGcy5oYXMobikpKXtsbyhyLGU9bXMocixlPUphKHQsZSksMTA3Mzc0MTgyMykpLG51bGwhPT0ocj1IcyhyLDEwNzM3NDE4MjMpKSYmS3Mocik7YnJlYWt9fXI9ci5yZXR1cm59fWZ1bmN0aW9uIHZsKGUsdCxyKXt2YXIgbj1lLnBpbmdDYWNoZTtudWxsIT09biYmbi5kZWxldGUodCksRXM9PT1lJiZDcz09PXI/TXM9PT13c3x8TXM9PT1icyYmMTA3Mzc0MTgyMz09PUFzJiZqaSgpLVJzPDUwMD9ybChlLENzKTpEcz0hMDp6bChlLHIpJiYoMCE9PSh0PWUubGFzdFBpbmdlZFRpbWUpJiZ0PHJ8fChlLmxhc3RQaW5nZWRUaW1lPXIsS3MoZSkpKX1mdW5jdGlvbiB4bChlLHQpe3ZhciByPWUuc3RhdGVOb2RlO251bGwhPT1yJiZyLmRlbGV0ZSh0KSwwPT09KHQ9MCkmJih0PVdzKHQ9JHMoKSxlLG51bGwpKSxudWxsIT09KGU9SHMoZSx0KSkmJktzKGUpfWdzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cGlyYXRpb25UaW1lO2lmKG51bGwhPT1lKXt2YXIgaT10LnBlbmRpbmdQcm9wcztpZihlLm1lbW9pemVkUHJvcHMhPT1pfHxkaS5jdXJyZW50KUlhPSEwO2Vsc2V7aWYobjxyKXtzd2l0Y2goSWE9ITEsdC50YWcpe2Nhc2UgMzpqYSh0KSxrYSgpO2JyZWFrO2Nhc2UgNTppZihSbyh0KSw0JnQubW9kZSYmMSE9PXImJmkuaGlkZGVuKXJldHVybiB0LmV4cGlyYXRpb25UaW1lPXQuY2hpbGRFeHBpcmF0aW9uVGltZT0xLG51bGw7YnJlYWs7Y2FzZSAxOm1pKHQudHlwZSkmJnZpKHQpO2JyZWFrO2Nhc2UgNDp6byh0LHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pO2JyZWFrO2Nhc2UgMTA6bj10Lm1lbW9pemVkUHJvcHMudmFsdWUsaT10LnR5cGUuX2NvbnRleHQsY2koSGksaS5fY3VycmVudFZhbHVlKSxpLl9jdXJyZW50VmFsdWU9bjticmVhaztjYXNlIDEzOmlmKG51bGwhPT10Lm1lbW9pemVkU3RhdGUpcmV0dXJuIDAhPT0obj10LmNoaWxkLmNoaWxkRXhwaXJhdGlvblRpbWUpJiZuPj1yP3FhKGUsdCxyKTooY2koT28sMSZPby5jdXJyZW50KSxudWxsIT09KHQ9WGEoZSx0LHIpKT90LnNpYmxpbmc6bnVsbCk7Y2koT28sMSZPby5jdXJyZW50KTticmVhaztjYXNlIDE5OmlmKG49dC5jaGlsZEV4cGlyYXRpb25UaW1lPj1yLDAhPSg2NCZlLmVmZmVjdFRhZykpe2lmKG4pcmV0dXJuIFdhKGUsdCxyKTt0LmVmZmVjdFRhZ3w9NjR9aWYobnVsbCE9PShpPXQubWVtb2l6ZWRTdGF0ZSkmJihpLnJlbmRlcmluZz1udWxsLGkudGFpbD1udWxsKSxjaShPbyxPby5jdXJyZW50KSwhbilyZXR1cm4gbnVsbH1yZXR1cm4gWGEoZSx0LHIpfUlhPSExfX1lbHNlIElhPSExO3N3aXRjaCh0LmV4cGlyYXRpb25UaW1lPTAsdC50YWcpe2Nhc2UgMjppZihuPXQudHlwZSxudWxsIT09ZSYmKGUuYWx0ZXJuYXRlPW51bGwsdC5hbHRlcm5hdGU9bnVsbCx0LmVmZmVjdFRhZ3w9MiksZT10LnBlbmRpbmdQcm9wcyxpPWZpKHQsaGkuY3VycmVudCkscm8odCxyKSxpPVhvKG51bGwsdCxuLGUsaSxyKSx0LmVmZmVjdFRhZ3w9MSxcIm9iamVjdFwiPT10eXBlb2YgaSYmbnVsbCE9PWkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGkucmVuZGVyJiZ2b2lkIDA9PT1pLiQkdHlwZW9mKXtpZih0LnRhZz0xLHQubWVtb2l6ZWRTdGF0ZT1udWxsLHQudXBkYXRlUXVldWU9bnVsbCxtaShuKSl7dmFyIG89ITA7dmkodCl9ZWxzZSBvPSExO3QubWVtb2l6ZWRTdGF0ZT1udWxsIT09aS5zdGF0ZSYmdm9pZCAwIT09aS5zdGF0ZT9pLnN0YXRlOm51bGwsb28odCk7dmFyIHM9bi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XCJmdW5jdGlvblwiPT10eXBlb2YgcyYmbW8odCxuLHMsZSksaS51cGRhdGVyPWdvLHQuc3RhdGVOb2RlPWksaS5fcmVhY3RJbnRlcm5hbEZpYmVyPXQseG8odCxuLGUsciksdD1GYShudWxsLHQsbiwhMCxvLHIpfWVsc2UgdC50YWc9MCxQYShudWxsLHQsaSxyKSx0PXQuY2hpbGQ7cmV0dXJuIHQ7Y2FzZSAxNjplOntpZihpPXQuZWxlbWVudFR5cGUsbnVsbCE9PWUmJihlLmFsdGVybmF0ZT1udWxsLHQuYWx0ZXJuYXRlPW51bGwsdC5lZmZlY3RUYWd8PTIpLGU9dC5wZW5kaW5nUHJvcHMsZnVuY3Rpb24oZSl7aWYoLTE9PT1lLl9zdGF0dXMpe2UuX3N0YXR1cz0wO3ZhciB0PWUuX2N0b3I7dD10KCksZS5fcmVzdWx0PXQsdC50aGVuKChmdW5jdGlvbih0KXswPT09ZS5fc3RhdHVzJiYodD10LmRlZmF1bHQsZS5fc3RhdHVzPTEsZS5fcmVzdWx0PXQpfSksKGZ1bmN0aW9uKHQpezA9PT1lLl9zdGF0dXMmJihlLl9zdGF0dXM9MixlLl9yZXN1bHQ9dCl9KSl9fShpKSwxIT09aS5fc3RhdHVzKXRocm93IGkuX3Jlc3VsdDtzd2l0Y2goaT1pLl9yZXN1bHQsdC50eXBlPWksbz10LnRhZz1mdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBTbChlKT8xOjA7aWYobnVsbCE9ZSl7aWYoKGU9ZS4kJHR5cGVvZik9PT1sZSlyZXR1cm4gMTE7aWYoZT09PWhlKXJldHVybiAxNH1yZXR1cm4gMn0oaSksZT1YaShpLGUpLG8pe2Nhc2UgMDp0PU9hKG51bGwsdCxpLGUscik7YnJlYWsgZTtjYXNlIDE6dD1CYShudWxsLHQsaSxlLHIpO2JyZWFrIGU7Y2FzZSAxMTp0PXphKG51bGwsdCxpLGUscik7YnJlYWsgZTtjYXNlIDE0OnQ9RGEobnVsbCx0LGksWGkoaS50eXBlLGUpLG4scik7YnJlYWsgZX10aHJvdyBFcnJvcihhKDMwNixpLFwiXCIpKX1yZXR1cm4gdDtjYXNlIDA6cmV0dXJuIG49dC50eXBlLGk9dC5wZW5kaW5nUHJvcHMsT2EoZSx0LG4saT10LmVsZW1lbnRUeXBlPT09bj9pOlhpKG4saSkscik7Y2FzZSAxOnJldHVybiBuPXQudHlwZSxpPXQucGVuZGluZ1Byb3BzLEJhKGUsdCxuLGk9dC5lbGVtZW50VHlwZT09PW4/aTpYaShuLGkpLHIpO2Nhc2UgMzppZihqYSh0KSxuPXQudXBkYXRlUXVldWUsbnVsbD09PWV8fG51bGw9PT1uKXRocm93IEVycm9yKGEoMjgyKSk7aWYobj10LnBlbmRpbmdQcm9wcyxpPW51bGwhPT0oaT10Lm1lbW9pemVkU3RhdGUpP2kuZWxlbWVudDpudWxsLGFvKGUsdCksdW8odCxuLG51bGwsciksKG49dC5tZW1vaXplZFN0YXRlLmVsZW1lbnQpPT09aSlrYSgpLHQ9WGEoZSx0LHIpO2Vsc2V7aWYoKGk9dC5zdGF0ZU5vZGUuaHlkcmF0ZSkmJihiYT14cih0LnN0YXRlTm9kZS5jb250YWluZXJJbmZvLmZpcnN0Q2hpbGQpLHhhPXQsaT13YT0hMCksaSlmb3Iocj1Dbyh0LG51bGwsbixyKSx0LmNoaWxkPXI7cjspci5lZmZlY3RUYWc9LTMmci5lZmZlY3RUYWd8MTAyNCxyPXIuc2libGluZztlbHNlIFBhKGUsdCxuLHIpLGthKCk7dD10LmNoaWxkfXJldHVybiB0O2Nhc2UgNTpyZXR1cm4gUm8odCksbnVsbD09PWUmJlNhKHQpLG49dC50eXBlLGk9dC5wZW5kaW5nUHJvcHMsbz1udWxsIT09ZT9lLm1lbW9pemVkUHJvcHM6bnVsbCxzPWkuY2hpbGRyZW4sX3IobixpKT9zPW51bGw6bnVsbCE9PW8mJl9yKG4sbykmJih0LmVmZmVjdFRhZ3w9MTYpLExhKGUsdCksNCZ0Lm1vZGUmJjEhPT1yJiZpLmhpZGRlbj8odC5leHBpcmF0aW9uVGltZT10LmNoaWxkRXhwaXJhdGlvblRpbWU9MSx0PW51bGwpOihQYShlLHQscyxyKSx0PXQuY2hpbGQpLHQ7Y2FzZSA2OnJldHVybiBudWxsPT09ZSYmU2EodCksbnVsbDtjYXNlIDEzOnJldHVybiBxYShlLHQscik7Y2FzZSA0OnJldHVybiB6byh0LHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pLG49dC5wZW5kaW5nUHJvcHMsbnVsbD09PWU/dC5jaGlsZD1Tbyh0LG51bGwsbixyKTpQYShlLHQsbixyKSx0LmNoaWxkO2Nhc2UgMTE6cmV0dXJuIG49dC50eXBlLGk9dC5wZW5kaW5nUHJvcHMsemEoZSx0LG4saT10LmVsZW1lbnRUeXBlPT09bj9pOlhpKG4saSkscik7Y2FzZSA3OnJldHVybiBQYShlLHQsdC5wZW5kaW5nUHJvcHMsciksdC5jaGlsZDtjYXNlIDg6Y2FzZSAxMjpyZXR1cm4gUGEoZSx0LHQucGVuZGluZ1Byb3BzLmNoaWxkcmVuLHIpLHQuY2hpbGQ7Y2FzZSAxMDplOntuPXQudHlwZS5fY29udGV4dCxpPXQucGVuZGluZ1Byb3BzLHM9dC5tZW1vaXplZFByb3BzLG89aS52YWx1ZTt2YXIgbD10LnR5cGUuX2NvbnRleHQ7aWYoY2koSGksbC5fY3VycmVudFZhbHVlKSxsLl9jdXJyZW50VmFsdWU9byxudWxsIT09cylpZihsPXMudmFsdWUsMD09PShvPUJuKGwsbyk/MDowfChcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLl9jYWxjdWxhdGVDaGFuZ2VkQml0cz9uLl9jYWxjdWxhdGVDaGFuZ2VkQml0cyhsLG8pOjEwNzM3NDE4MjMpKSl7aWYocy5jaGlsZHJlbj09PWkuY2hpbGRyZW4mJiFkaS5jdXJyZW50KXt0PVhhKGUsdCxyKTticmVhayBlfX1lbHNlIGZvcihudWxsIT09KGw9dC5jaGlsZCkmJihsLnJldHVybj10KTtudWxsIT09bDspe3ZhciBjPWwuZGVwZW5kZW5jaWVzO2lmKG51bGwhPT1jKXtzPWwuY2hpbGQ7Zm9yKHZhciB1PWMuZmlyc3RDb250ZXh0O251bGwhPT11Oyl7aWYodS5jb250ZXh0PT09biYmMCE9KHUub2JzZXJ2ZWRCaXRzJm8pKXsxPT09bC50YWcmJigodT1zbyhyLG51bGwpKS50YWc9MixsbyhsLHUpKSxsLmV4cGlyYXRpb25UaW1lPHImJihsLmV4cGlyYXRpb25UaW1lPXIpLG51bGwhPT0odT1sLmFsdGVybmF0ZSkmJnUuZXhwaXJhdGlvblRpbWU8ciYmKHUuZXhwaXJhdGlvblRpbWU9ciksdG8obC5yZXR1cm4sciksYy5leHBpcmF0aW9uVGltZTxyJiYoYy5leHBpcmF0aW9uVGltZT1yKTticmVha311PXUubmV4dH19ZWxzZSBzPTEwPT09bC50YWcmJmwudHlwZT09PXQudHlwZT9udWxsOmwuY2hpbGQ7aWYobnVsbCE9PXMpcy5yZXR1cm49bDtlbHNlIGZvcihzPWw7bnVsbCE9PXM7KXtpZihzPT09dCl7cz1udWxsO2JyZWFrfWlmKG51bGwhPT0obD1zLnNpYmxpbmcpKXtsLnJldHVybj1zLnJldHVybixzPWw7YnJlYWt9cz1zLnJldHVybn1sPXN9UGEoZSx0LGkuY2hpbGRyZW4sciksdD10LmNoaWxkfXJldHVybiB0O2Nhc2UgOTpyZXR1cm4gaT10LnR5cGUsbj0obz10LnBlbmRpbmdQcm9wcykuY2hpbGRyZW4scm8odCxyKSxuPW4oaT1ubyhpLG8udW5zdGFibGVfb2JzZXJ2ZWRCaXRzKSksdC5lZmZlY3RUYWd8PTEsUGEoZSx0LG4sciksdC5jaGlsZDtjYXNlIDE0OnJldHVybiBvPVhpKGk9dC50eXBlLHQucGVuZGluZ1Byb3BzKSxEYShlLHQsaSxvPVhpKGkudHlwZSxvKSxuLHIpO2Nhc2UgMTU6cmV0dXJuIFJhKGUsdCx0LnR5cGUsdC5wZW5kaW5nUHJvcHMsbixyKTtjYXNlIDE3OnJldHVybiBuPXQudHlwZSxpPXQucGVuZGluZ1Byb3BzLGk9dC5lbGVtZW50VHlwZT09PW4/aTpYaShuLGkpLG51bGwhPT1lJiYoZS5hbHRlcm5hdGU9bnVsbCx0LmFsdGVybmF0ZT1udWxsLHQuZWZmZWN0VGFnfD0yKSx0LnRhZz0xLG1pKG4pPyhlPSEwLHZpKHQpKTplPSExLHJvKHQscikseW8odCxuLGkpLHhvKHQsbixpLHIpLEZhKG51bGwsdCxuLCEwLGUscik7Y2FzZSAxOTpyZXR1cm4gV2EoZSx0LHIpfXRocm93IEVycm9yKGEoMTU2LHQudGFnKSl9O3ZhciBibD1udWxsLHdsPW51bGw7ZnVuY3Rpb24gVGwoZSx0LHIsbil7dGhpcy50YWc9ZSx0aGlzLmtleT1yLHRoaXMuc2libGluZz10aGlzLmNoaWxkPXRoaXMucmV0dXJuPXRoaXMuc3RhdGVOb2RlPXRoaXMudHlwZT10aGlzLmVsZW1lbnRUeXBlPW51bGwsdGhpcy5pbmRleD0wLHRoaXMucmVmPW51bGwsdGhpcy5wZW5kaW5nUHJvcHM9dCx0aGlzLmRlcGVuZGVuY2llcz10aGlzLm1lbW9pemVkU3RhdGU9dGhpcy51cGRhdGVRdWV1ZT10aGlzLm1lbW9pemVkUHJvcHM9bnVsbCx0aGlzLm1vZGU9bix0aGlzLmVmZmVjdFRhZz0wLHRoaXMubGFzdEVmZmVjdD10aGlzLmZpcnN0RWZmZWN0PXRoaXMubmV4dEVmZmVjdD1udWxsLHRoaXMuY2hpbGRFeHBpcmF0aW9uVGltZT10aGlzLmV4cGlyYXRpb25UaW1lPTAsdGhpcy5hbHRlcm5hdGU9bnVsbH1mdW5jdGlvbiBFbChlLHQscixuKXtyZXR1cm4gbmV3IFRsKGUsdCxyLG4pfWZ1bmN0aW9uIFNsKGUpe3JldHVybiEoIShlPWUucHJvdG90eXBlKXx8IWUuaXNSZWFjdENvbXBvbmVudCl9ZnVuY3Rpb24gQ2woZSx0KXt2YXIgcj1lLmFsdGVybmF0ZTtyZXR1cm4gbnVsbD09PXI/KChyPUVsKGUudGFnLHQsZS5rZXksZS5tb2RlKSkuZWxlbWVudFR5cGU9ZS5lbGVtZW50VHlwZSxyLnR5cGU9ZS50eXBlLHIuc3RhdGVOb2RlPWUuc3RhdGVOb2RlLHIuYWx0ZXJuYXRlPWUsZS5hbHRlcm5hdGU9cik6KHIucGVuZGluZ1Byb3BzPXQsci5lZmZlY3RUYWc9MCxyLm5leHRFZmZlY3Q9bnVsbCxyLmZpcnN0RWZmZWN0PW51bGwsci5sYXN0RWZmZWN0PW51bGwpLHIuY2hpbGRFeHBpcmF0aW9uVGltZT1lLmNoaWxkRXhwaXJhdGlvblRpbWUsci5leHBpcmF0aW9uVGltZT1lLmV4cGlyYXRpb25UaW1lLHIuY2hpbGQ9ZS5jaGlsZCxyLm1lbW9pemVkUHJvcHM9ZS5tZW1vaXplZFByb3BzLHIubWVtb2l6ZWRTdGF0ZT1lLm1lbW9pemVkU3RhdGUsci51cGRhdGVRdWV1ZT1lLnVwZGF0ZVF1ZXVlLHQ9ZS5kZXBlbmRlbmNpZXMsci5kZXBlbmRlbmNpZXM9bnVsbD09PXQ/bnVsbDp7ZXhwaXJhdGlvblRpbWU6dC5leHBpcmF0aW9uVGltZSxmaXJzdENvbnRleHQ6dC5maXJzdENvbnRleHQscmVzcG9uZGVyczp0LnJlc3BvbmRlcnN9LHIuc2libGluZz1lLnNpYmxpbmcsci5pbmRleD1lLmluZGV4LHIucmVmPWUucmVmLHJ9ZnVuY3Rpb24gTWwoZSx0LHIsbixpLG8pe3ZhciBzPTI7aWYobj1lLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpU2woZSkmJihzPTEpO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcz01O2Vsc2UgZTpzd2l0Y2goZSl7Y2FzZSByZTpyZXR1cm4ga2woci5jaGlsZHJlbixpLG8sdCk7Y2FzZSBzZTpzPTgsaXw9NzticmVhaztjYXNlIG5lOnM9OCxpfD0xO2JyZWFrO2Nhc2UgaWU6cmV0dXJuKGU9RWwoMTIscix0LDh8aSkpLmVsZW1lbnRUeXBlPWllLGUudHlwZT1pZSxlLmV4cGlyYXRpb25UaW1lPW8sZTtjYXNlIGNlOnJldHVybihlPUVsKDEzLHIsdCxpKSkudHlwZT1jZSxlLmVsZW1lbnRUeXBlPWNlLGUuZXhwaXJhdGlvblRpbWU9byxlO2Nhc2UgdWU6cmV0dXJuKGU9RWwoMTkscix0LGkpKS5lbGVtZW50VHlwZT11ZSxlLmV4cGlyYXRpb25UaW1lPW8sZTtkZWZhdWx0OmlmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSlzd2l0Y2goZS4kJHR5cGVvZil7Y2FzZSBvZTpzPTEwO2JyZWFrIGU7Y2FzZSBhZTpzPTk7YnJlYWsgZTtjYXNlIGxlOnM9MTE7YnJlYWsgZTtjYXNlIGhlOnM9MTQ7YnJlYWsgZTtjYXNlIGRlOnM9MTYsbj1udWxsO2JyZWFrIGU7Y2FzZSBwZTpzPTIyO2JyZWFrIGV9dGhyb3cgRXJyb3IoYSgxMzAsbnVsbD09ZT9lOnR5cGVvZiBlLFwiXCIpKX1yZXR1cm4odD1FbChzLHIsdCxpKSkuZWxlbWVudFR5cGU9ZSx0LnR5cGU9bix0LmV4cGlyYXRpb25UaW1lPW8sdH1mdW5jdGlvbiBrbChlLHQscixuKXtyZXR1cm4oZT1FbCg3LGUsbix0KSkuZXhwaXJhdGlvblRpbWU9cixlfWZ1bmN0aW9uIEFsKGUsdCxyKXtyZXR1cm4oZT1FbCg2LGUsbnVsbCx0KSkuZXhwaXJhdGlvblRpbWU9cixlfWZ1bmN0aW9uIElsKGUsdCxyKXtyZXR1cm4odD1FbCg0LG51bGwhPT1lLmNoaWxkcmVuP2UuY2hpbGRyZW46W10sZS5rZXksdCkpLmV4cGlyYXRpb25UaW1lPXIsdC5zdGF0ZU5vZGU9e2NvbnRhaW5lckluZm86ZS5jb250YWluZXJJbmZvLHBlbmRpbmdDaGlsZHJlbjpudWxsLGltcGxlbWVudGF0aW9uOmUuaW1wbGVtZW50YXRpb259LHR9ZnVuY3Rpb24gUGwoZSx0LHIpe3RoaXMudGFnPXQsdGhpcy5jdXJyZW50PW51bGwsdGhpcy5jb250YWluZXJJbmZvPWUsdGhpcy5waW5nQ2FjaGU9dGhpcy5wZW5kaW5nQ2hpbGRyZW49bnVsbCx0aGlzLmZpbmlzaGVkRXhwaXJhdGlvblRpbWU9MCx0aGlzLmZpbmlzaGVkV29yaz1udWxsLHRoaXMudGltZW91dEhhbmRsZT0tMSx0aGlzLnBlbmRpbmdDb250ZXh0PXRoaXMuY29udGV4dD1udWxsLHRoaXMuaHlkcmF0ZT1yLHRoaXMuY2FsbGJhY2tOb2RlPW51bGwsdGhpcy5jYWxsYmFja1ByaW9yaXR5PTkwLHRoaXMubGFzdEV4cGlyZWRUaW1lPXRoaXMubGFzdFBpbmdlZFRpbWU9dGhpcy5uZXh0S25vd25QZW5kaW5nTGV2ZWw9dGhpcy5sYXN0U3VzcGVuZGVkVGltZT10aGlzLmZpcnN0U3VzcGVuZGVkVGltZT10aGlzLmZpcnN0UGVuZGluZ1RpbWU9MH1mdW5jdGlvbiB6bChlLHQpe3ZhciByPWUuZmlyc3RTdXNwZW5kZWRUaW1lO3JldHVybiBlPWUubGFzdFN1c3BlbmRlZFRpbWUsMCE9PXImJnI+PXQmJmU8PXR9ZnVuY3Rpb24gRGwoZSx0KXt2YXIgcj1lLmZpcnN0U3VzcGVuZGVkVGltZSxuPWUubGFzdFN1c3BlbmRlZFRpbWU7cjx0JiYoZS5maXJzdFN1c3BlbmRlZFRpbWU9dCksKG4+dHx8MD09PXIpJiYoZS5sYXN0U3VzcGVuZGVkVGltZT10KSx0PD1lLmxhc3RQaW5nZWRUaW1lJiYoZS5sYXN0UGluZ2VkVGltZT0wKSx0PD1lLmxhc3RFeHBpcmVkVGltZSYmKGUubGFzdEV4cGlyZWRUaW1lPTApfWZ1bmN0aW9uIFJsKGUsdCl7dD5lLmZpcnN0UGVuZGluZ1RpbWUmJihlLmZpcnN0UGVuZGluZ1RpbWU9dCk7dmFyIHI9ZS5maXJzdFN1c3BlbmRlZFRpbWU7MCE9PXImJih0Pj1yP2UuZmlyc3RTdXNwZW5kZWRUaW1lPWUubGFzdFN1c3BlbmRlZFRpbWU9ZS5uZXh0S25vd25QZW5kaW5nTGV2ZWw9MDp0Pj1lLmxhc3RTdXNwZW5kZWRUaW1lJiYoZS5sYXN0U3VzcGVuZGVkVGltZT10KzEpLHQ+ZS5uZXh0S25vd25QZW5kaW5nTGV2ZWwmJihlLm5leHRLbm93blBlbmRpbmdMZXZlbD10KSl9ZnVuY3Rpb24gTGwoZSx0KXt2YXIgcj1lLmxhc3RFeHBpcmVkVGltZTsoMD09PXJ8fHI+dCkmJihlLmxhc3RFeHBpcmVkVGltZT10KX1mdW5jdGlvbiBPbChlLHQscixuKXt2YXIgaT10LmN1cnJlbnQsbz0kcygpLHM9cG8uc3VzcGVuc2U7bz1XcyhvLGkscyk7ZTppZihyKXt0OntpZihRZShyPXIuX3JlYWN0SW50ZXJuYWxGaWJlcikhPT1yfHwxIT09ci50YWcpdGhyb3cgRXJyb3IoYSgxNzApKTt2YXIgbD1yO2Rve3N3aXRjaChsLnRhZyl7Y2FzZSAzOmw9bC5zdGF0ZU5vZGUuY29udGV4dDticmVhayB0O2Nhc2UgMTppZihtaShsLnR5cGUpKXtsPWwuc3RhdGVOb2RlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0O2JyZWFrIHR9fWw9bC5yZXR1cm59d2hpbGUobnVsbCE9PWwpO3Rocm93IEVycm9yKGEoMTcxKSl9aWYoMT09PXIudGFnKXt2YXIgYz1yLnR5cGU7aWYobWkoYykpe3I9eWkocixjLGwpO2JyZWFrIGV9fXI9bH1lbHNlIHI9dWk7cmV0dXJuIG51bGw9PT10LmNvbnRleHQ/dC5jb250ZXh0PXI6dC5wZW5kaW5nQ29udGV4dD1yLCh0PXNvKG8scykpLnBheWxvYWQ9e2VsZW1lbnQ6ZX0sbnVsbCE9PShuPXZvaWQgMD09PW4/bnVsbDpuKSYmKHQuY2FsbGJhY2s9biksbG8oaSx0KSxYcyhpLG8pLG99ZnVuY3Rpb24gQmwoZSl7aWYoIShlPWUuY3VycmVudCkuY2hpbGQpcmV0dXJuIG51bGw7c3dpdGNoKGUuY2hpbGQudGFnKXtjYXNlIDU6ZGVmYXVsdDpyZXR1cm4gZS5jaGlsZC5zdGF0ZU5vZGV9fWZ1bmN0aW9uIEZsKGUsdCl7bnVsbCE9PShlPWUubWVtb2l6ZWRTdGF0ZSkmJm51bGwhPT1lLmRlaHlkcmF0ZWQmJmUucmV0cnlUaW1lPHQmJihlLnJldHJ5VGltZT10KX1mdW5jdGlvbiBqbChlLHQpe0ZsKGUsdCksKGU9ZS5hbHRlcm5hdGUpJiZGbChlLHQpfWZ1bmN0aW9uIFVsKGUsdCxyKXt2YXIgbj1uZXcgUGwoZSx0LHI9bnVsbCE9ciYmITA9PT1yLmh5ZHJhdGUpLGk9RWwoMyxudWxsLG51bGwsMj09PXQ/NzoxPT09dD8zOjApO24uY3VycmVudD1pLGkuc3RhdGVOb2RlPW4sb28oaSksZVtTcl09bi5jdXJyZW50LHImJjAhPT10JiZmdW5jdGlvbihlLHQpe3ZhciByPUplKHQpO0N0LmZvckVhY2goKGZ1bmN0aW9uKGUpe2Z0KGUsdCxyKX0pKSxNdC5mb3JFYWNoKChmdW5jdGlvbihlKXtmdChlLHQscil9KSl9KDAsOT09PWUubm9kZVR5cGU/ZTplLm93bmVyRG9jdW1lbnQpLHRoaXMuX2ludGVybmFsUm9vdD1ufWZ1bmN0aW9uIE5sKGUpe3JldHVybiEoIWV8fDEhPT1lLm5vZGVUeXBlJiY5IT09ZS5ub2RlVHlwZSYmMTEhPT1lLm5vZGVUeXBlJiYoOCE9PWUubm9kZVR5cGV8fFwiIHJlYWN0LW1vdW50LXBvaW50LXVuc3RhYmxlIFwiIT09ZS5ub2RlVmFsdWUpKX1mdW5jdGlvbiBWbChlLHQscixuLGkpe3ZhciBvPXIuX3JlYWN0Um9vdENvbnRhaW5lcjtpZihvKXt2YXIgYT1vLl9pbnRlcm5hbFJvb3Q7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaSl7dmFyIHM9aTtpPWZ1bmN0aW9uKCl7dmFyIGU9QmwoYSk7cy5jYWxsKGUpfX1PbCh0LGEsZSxpKX1lbHNle2lmKG89ci5fcmVhY3RSb290Q29udGFpbmVyPWZ1bmN0aW9uKGUsdCl7aWYodHx8KHQ9ISghKHQ9ZT85PT09ZS5ub2RlVHlwZT9lLmRvY3VtZW50RWxlbWVudDplLmZpcnN0Q2hpbGQ6bnVsbCl8fDEhPT10Lm5vZGVUeXBlfHwhdC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXJlYWN0cm9vdFwiKSkpLCF0KWZvcih2YXIgcjtyPWUubGFzdENoaWxkOyllLnJlbW92ZUNoaWxkKHIpO3JldHVybiBuZXcgVWwoZSwwLHQ/e2h5ZHJhdGU6ITB9OnZvaWQgMCl9KHIsbiksYT1vLl9pbnRlcm5hbFJvb3QsXCJmdW5jdGlvblwiPT10eXBlb2YgaSl7dmFyIGw9aTtpPWZ1bmN0aW9uKCl7dmFyIGU9QmwoYSk7bC5jYWxsKGUpfX10bCgoZnVuY3Rpb24oKXtPbCh0LGEsZSxpKX0pKX1yZXR1cm4gQmwoYSl9ZnVuY3Rpb24gR2woZSx0LHIpe3ZhciBuPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpudWxsO3JldHVybnskJHR5cGVvZjp0ZSxrZXk6bnVsbD09bj9udWxsOlwiXCIrbixjaGlsZHJlbjplLGNvbnRhaW5lckluZm86dCxpbXBsZW1lbnRhdGlvbjpyfX1mdW5jdGlvbiBxbChlLHQpe3ZhciByPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsO2lmKCFObCh0KSl0aHJvdyBFcnJvcihhKDIwMCkpO3JldHVybiBHbChlLHQsbnVsbCxyKX1VbC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUpe09sKGUsdGhpcy5faW50ZXJuYWxSb290LG51bGwsbnVsbCl9LFVsLnByb3RvdHlwZS51bm1vdW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5faW50ZXJuYWxSb290LHQ9ZS5jb250YWluZXJJbmZvO09sKG51bGwsZSxudWxsLChmdW5jdGlvbigpe3RbU3JdPW51bGx9KSl9LG10PWZ1bmN0aW9uKGUpe2lmKDEzPT09ZS50YWcpe3ZhciB0PVdpKCRzKCksMTUwLDEwMCk7WHMoZSx0KSxqbChlLHQpfX0sZ3Q9ZnVuY3Rpb24oZSl7MTM9PT1lLnRhZyYmKFhzKGUsMyksamwoZSwzKSl9LF90PWZ1bmN0aW9uKGUpe2lmKDEzPT09ZS50YWcpe3ZhciB0PSRzKCk7WHMoZSx0PVdzKHQsZSxudWxsKSksamwoZSx0KX19LGs9ZnVuY3Rpb24oZSx0LHIpe3N3aXRjaCh0KXtjYXNlXCJpbnB1dFwiOmlmKFNlKGUsciksdD1yLm5hbWUsXCJyYWRpb1wiPT09ci50eXBlJiZudWxsIT10KXtmb3Iocj1lO3IucGFyZW50Tm9kZTspcj1yLnBhcmVudE5vZGU7Zm9yKHI9ci5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbbmFtZT1cIitKU09OLnN0cmluZ2lmeShcIlwiK3QpKyddW3R5cGU9XCJyYWRpb1wiXScpLHQ9MDt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XTtpZihuIT09ZSYmbi5mb3JtPT09ZS5mb3JtKXt2YXIgaT1BcihuKTtpZighaSl0aHJvdyBFcnJvcihhKDkwKSk7YmUobiksU2UobixpKX19fWJyZWFrO2Nhc2VcInRleHRhcmVhXCI6emUoZSxyKTticmVhaztjYXNlXCJzZWxlY3RcIjpudWxsIT0odD1yLnZhbHVlKSYmQWUoZSwhIXIubXVsdGlwbGUsdCwhMSl9fSxSPWVsLEw9ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgbz1UcztUc3w9NDt0cnl7cmV0dXJuIFZpKDk4LGUuYmluZChudWxsLHQscixuLGkpKX1maW5hbGx5ezA9PT0oVHM9bykmJlppKCl9fSxPPWZ1bmN0aW9uKCl7MD09KDQ5JlRzKSYmKGZ1bmN0aW9uKCl7aWYobnVsbCE9PVZzKXt2YXIgZT1WcztWcz1udWxsLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtMbCh0LGUpLEtzKHQpfSkpLFppKCl9fSgpLG1sKCkpfSxCPWZ1bmN0aW9uKGUsdCl7dmFyIHI9VHM7VHN8PTI7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7MD09PShUcz1yKSYmWmkoKX19O3ZhciBabD17RXZlbnRzOltNcixrcixBcixDLFQsT3IsZnVuY3Rpb24oZSl7aXQoZSxMcil9LHosRCxLdCxzdCxtbCx7Y3VycmVudDohMX1dfTshZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maW5kRmliZXJCeUhvc3RJbnN0YW5jZTsoZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXylyZXR1cm4hMTt2YXIgdD1fX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX187aWYodC5pc0Rpc2FibGVkfHwhdC5zdXBwb3J0c0ZpYmVyKXJldHVybiEwO3RyeXt2YXIgcj10LmluamVjdChlKTtibD1mdW5jdGlvbihlKXt0cnl7dC5vbkNvbW1pdEZpYmVyUm9vdChyLGUsdm9pZCAwLDY0PT0oNjQmZS5jdXJyZW50LmVmZmVjdFRhZykpfWNhdGNoKGUpe319LHdsPWZ1bmN0aW9uKGUpe3RyeXt0Lm9uQ29tbWl0RmliZXJVbm1vdW50KHIsZSl9Y2F0Y2goZSl7fX19Y2F0Y2goZSl7fX0pKGkoe30sZSx7b3ZlcnJpZGVIb29rU3RhdGU6bnVsbCxvdmVycmlkZVByb3BzOm51bGwsc2V0U3VzcGVuc2VIYW5kbGVyOm51bGwsc2NoZWR1bGVVcGRhdGU6bnVsbCxjdXJyZW50RGlzcGF0Y2hlclJlZjpZLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsZmluZEhvc3RJbnN0YW5jZUJ5RmliZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT0oZT1ydChlKSk/bnVsbDplLnN0YXRlTm9kZX0sZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHQ/dChlKTpudWxsfSxmaW5kSG9zdEluc3RhbmNlc0ZvclJlZnJlc2g6bnVsbCxzY2hlZHVsZVJlZnJlc2g6bnVsbCxzY2hlZHVsZVJvb3Q6bnVsbCxzZXRSZWZyZXNoSGFuZGxlcjpudWxsLGdldEN1cnJlbnRGaWJlcjpudWxsfSkpfSh7ZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6Q3IsYnVuZGxlVHlwZTowLHZlcnNpb246XCIxNi4xNC4wXCIscmVuZGVyZXJQYWNrYWdlTmFtZTpcInJlYWN0LWRvbVwifSksdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRD1abCx0LmNyZWF0ZVBvcnRhbD1xbCx0LmZpbmRET01Ob2RlPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aWYoMT09PWUubm9kZVR5cGUpcmV0dXJuIGU7dmFyIHQ9ZS5fcmVhY3RJbnRlcm5hbEZpYmVyO2lmKHZvaWQgMD09PXQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUucmVuZGVyKXRocm93IEVycm9yKGEoMTg4KSk7dGhyb3cgRXJyb3IoYSgyNjgsT2JqZWN0LmtleXMoZSkpKX1yZXR1cm4gZT1udWxsPT09KGU9cnQodCkpP251bGw6ZS5zdGF0ZU5vZGV9LHQuZmx1c2hTeW5jPWZ1bmN0aW9uKGUsdCl7aWYoMCE9KDQ4JlRzKSl0aHJvdyBFcnJvcihhKDE4NykpO3ZhciByPVRzO1RzfD0xO3RyeXtyZXR1cm4gVmkoOTksZS5iaW5kKG51bGwsdCkpfWZpbmFsbHl7VHM9cixaaSgpfX0sdC5oeWRyYXRlPWZ1bmN0aW9uKGUsdCxyKXtpZighTmwodCkpdGhyb3cgRXJyb3IoYSgyMDApKTtyZXR1cm4gVmwobnVsbCxlLHQsITAscil9LHQucmVuZGVyPWZ1bmN0aW9uKGUsdCxyKXtpZighTmwodCkpdGhyb3cgRXJyb3IoYSgyMDApKTtyZXR1cm4gVmwobnVsbCxlLHQsITEscil9LHQudW5tb3VudENvbXBvbmVudEF0Tm9kZT1mdW5jdGlvbihlKXtpZighTmwoZSkpdGhyb3cgRXJyb3IoYSg0MCkpO3JldHVybiEhZS5fcmVhY3RSb290Q29udGFpbmVyJiYodGwoKGZ1bmN0aW9uKCl7VmwobnVsbCxudWxsLGUsITEsKGZ1bmN0aW9uKCl7ZS5fcmVhY3RSb290Q29udGFpbmVyPW51bGwsZVtTcl09bnVsbH0pKX0pKSwhMCl9LHQudW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXM9ZWwsdC51bnN0YWJsZV9jcmVhdGVQb3J0YWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcWwoZSx0LDI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsKX0sdC51bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcj1mdW5jdGlvbihlLHQscixuKXtpZighTmwocikpdGhyb3cgRXJyb3IoYSgyMDApKTtpZihudWxsPT1lfHx2b2lkIDA9PT1lLl9yZWFjdEludGVybmFsRmliZXIpdGhyb3cgRXJyb3IoYSgzOCkpO3JldHVybiBWbChlLHQsciwhMSxuKX0sdC52ZXJzaW9uPVwiMTYuMTQuMFwifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPXIoNzIpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG4saSxvLGEscztpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBNZXNzYWdlQ2hhbm5lbCl7dmFyIGw9bnVsbCxjPW51bGwsdT1mdW5jdGlvbigpe2lmKG51bGwhPT1sKXRyeXt2YXIgZT10LnVuc3RhYmxlX25vdygpO2woITAsZSksbD1udWxsfWNhdGNoKGUpe3Rocm93IHNldFRpbWVvdXQodSwwKSxlfX0saD1EYXRlLm5vdygpO3QudW5zdGFibGVfbm93PWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktaH0sbj1mdW5jdGlvbihlKXtudWxsIT09bD9zZXRUaW1lb3V0KG4sMCxlKToobD1lLHNldFRpbWVvdXQodSwwKSl9LGk9ZnVuY3Rpb24oZSx0KXtjPXNldFRpbWVvdXQoZSx0KX0sbz1mdW5jdGlvbigpe2NsZWFyVGltZW91dChjKX0sYT1mdW5jdGlvbigpe3JldHVybiExfSxzPXQudW5zdGFibGVfZm9yY2VGcmFtZVJhdGU9ZnVuY3Rpb24oKXt9fWVsc2V7dmFyIGQ9d2luZG93LnBlcmZvcm1hbmNlLHA9d2luZG93LkRhdGUsZj13aW5kb3cuc2V0VGltZW91dCxtPXdpbmRvdy5jbGVhclRpbWVvdXQ7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUpe3ZhciBnPXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZTtcImZ1bmN0aW9uXCIhPXR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lJiZjb25zb2xlLmVycm9yKFwiVGhpcyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuIE1ha2Ugc3VyZSB0aGF0IHlvdSBsb2FkIGEgcG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vZmIubWUvcmVhY3QtcG9seWZpbGxzXCIpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGcmJmNvbnNvbGUuZXJyb3IoXCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGNhbmNlbEFuaW1hdGlvbkZyYW1lLiBNYWtlIHN1cmUgdGhhdCB5b3UgbG9hZCBhIHBvbHlmaWxsIGluIG9sZGVyIGJyb3dzZXJzLiBodHRwczovL2ZiLm1lL3JlYWN0LXBvbHlmaWxsc1wiKX1pZihcIm9iamVjdFwiPT10eXBlb2YgZCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZC5ub3cpdC51bnN0YWJsZV9ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gZC5ub3coKX07ZWxzZXt2YXIgXz1wLm5vdygpO3QudW5zdGFibGVfbm93PWZ1bmN0aW9uKCl7cmV0dXJuIHAubm93KCktX319dmFyIHk9ITEsdj1udWxsLHg9LTEsYj01LHc9MDthPWZ1bmN0aW9uKCl7cmV0dXJuIHQudW5zdGFibGVfbm93KCk+PXd9LHM9ZnVuY3Rpb24oKXt9LHQudW5zdGFibGVfZm9yY2VGcmFtZVJhdGU9ZnVuY3Rpb24oZSl7MD5lfHwxMjU8ZT9jb25zb2xlLmVycm9yKFwiZm9yY2VGcmFtZVJhdGUgdGFrZXMgYSBwb3NpdGl2ZSBpbnQgYmV0d2VlbiAwIGFuZCAxMjUsIGZvcmNpbmcgZnJhbWVyYXRlcyBoaWdoZXIgdGhhbiAxMjUgZnBzIGlzIG5vdCB1bnN1cHBvcnRlZFwiKTpiPTA8ZT9NYXRoLmZsb29yKDFlMy9lKTo1fTt2YXIgVD1uZXcgTWVzc2FnZUNoYW5uZWwsRT1ULnBvcnQyO1QucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXYpe3ZhciBlPXQudW5zdGFibGVfbm93KCk7dz1lK2I7dHJ5e3YoITAsZSk/RS5wb3N0TWVzc2FnZShudWxsKTooeT0hMSx2PW51bGwpfWNhdGNoKGUpe3Rocm93IEUucG9zdE1lc3NhZ2UobnVsbCksZX19ZWxzZSB5PSExfSxuPWZ1bmN0aW9uKGUpe3Y9ZSx5fHwoeT0hMCxFLnBvc3RNZXNzYWdlKG51bGwpKX0saT1mdW5jdGlvbihlLHIpe3g9ZigoZnVuY3Rpb24oKXtlKHQudW5zdGFibGVfbm93KCkpfSkscil9LG89ZnVuY3Rpb24oKXttKHgpLHg9LTF9fWZ1bmN0aW9uIFMoZSx0KXt2YXIgcj1lLmxlbmd0aDtlLnB1c2godCk7ZTpmb3IoOzspe3ZhciBuPXItMT4+PjEsaT1lW25dO2lmKCEodm9pZCAwIT09aSYmMDxrKGksdCkpKWJyZWFrIGU7ZVtuXT10LGVbcl09aSxyPW59fWZ1bmN0aW9uIEMoZSl7cmV0dXJuIHZvaWQgMD09PShlPWVbMF0pP251bGw6ZX1mdW5jdGlvbiBNKGUpe3ZhciB0PWVbMF07aWYodm9pZCAwIT09dCl7dmFyIHI9ZS5wb3AoKTtpZihyIT09dCl7ZVswXT1yO2U6Zm9yKHZhciBuPTAsaT1lLmxlbmd0aDtuPGk7KXt2YXIgbz0yKihuKzEpLTEsYT1lW29dLHM9bysxLGw9ZVtzXTtpZih2b2lkIDAhPT1hJiYwPmsoYSxyKSl2b2lkIDAhPT1sJiYwPmsobCxhKT8oZVtuXT1sLGVbc109cixuPXMpOihlW25dPWEsZVtvXT1yLG49byk7ZWxzZXtpZighKHZvaWQgMCE9PWwmJjA+ayhsLHIpKSlicmVhayBlO2Vbbl09bCxlW3NdPXIsbj1zfX19cmV0dXJuIHR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gayhlLHQpe3ZhciByPWUuc29ydEluZGV4LXQuc29ydEluZGV4O3JldHVybiAwIT09cj9yOmUuaWQtdC5pZH12YXIgQT1bXSxJPVtdLFA9MSx6PW51bGwsRD0zLFI9ITEsTD0hMSxPPSExO2Z1bmN0aW9uIEIoZSl7Zm9yKHZhciB0PUMoSSk7bnVsbCE9PXQ7KXtpZihudWxsPT09dC5jYWxsYmFjaylNKEkpO2Vsc2V7aWYoISh0LnN0YXJ0VGltZTw9ZSkpYnJlYWs7TShJKSx0LnNvcnRJbmRleD10LmV4cGlyYXRpb25UaW1lLFMoQSx0KX10PUMoSSl9fWZ1bmN0aW9uIEYoZSl7aWYoTz0hMSxCKGUpLCFMKWlmKG51bGwhPT1DKEEpKUw9ITAsbihqKTtlbHNle3ZhciB0PUMoSSk7bnVsbCE9PXQmJmkoRix0LnN0YXJ0VGltZS1lKX19ZnVuY3Rpb24gaihlLHIpe0w9ITEsTyYmKE89ITEsbygpKSxSPSEwO3ZhciBuPUQ7dHJ5e2ZvcihCKHIpLHo9QyhBKTtudWxsIT09eiYmKCEoei5leHBpcmF0aW9uVGltZT5yKXx8ZSYmIWEoKSk7KXt2YXIgcz16LmNhbGxiYWNrO2lmKG51bGwhPT1zKXt6LmNhbGxiYWNrPW51bGwsRD16LnByaW9yaXR5TGV2ZWw7dmFyIGw9cyh6LmV4cGlyYXRpb25UaW1lPD1yKTtyPXQudW5zdGFibGVfbm93KCksXCJmdW5jdGlvblwiPT10eXBlb2YgbD96LmNhbGxiYWNrPWw6ej09PUMoQSkmJk0oQSksQihyKX1lbHNlIE0oQSk7ej1DKEEpfWlmKG51bGwhPT16KXZhciBjPSEwO2Vsc2V7dmFyIHU9QyhJKTtudWxsIT09dSYmaShGLHUuc3RhcnRUaW1lLXIpLGM9ITF9cmV0dXJuIGN9ZmluYWxseXt6PW51bGwsRD1uLFI9ITF9fWZ1bmN0aW9uIFUoZSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4tMTtjYXNlIDI6cmV0dXJuIDI1MDtjYXNlIDU6cmV0dXJuIDEwNzM3NDE4MjM7Y2FzZSA0OnJldHVybiAxZTQ7ZGVmYXVsdDpyZXR1cm4gNWUzfX12YXIgTj1zO3QudW5zdGFibGVfSWRsZVByaW9yaXR5PTUsdC51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eT0xLHQudW5zdGFibGVfTG93UHJpb3JpdHk9NCx0LnVuc3RhYmxlX05vcm1hbFByaW9yaXR5PTMsdC51bnN0YWJsZV9Qcm9maWxpbmc9bnVsbCx0LnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5PTIsdC51bnN0YWJsZV9jYW5jZWxDYWxsYmFjaz1mdW5jdGlvbihlKXtlLmNhbGxiYWNrPW51bGx9LHQudW5zdGFibGVfY29udGludWVFeGVjdXRpb249ZnVuY3Rpb24oKXtMfHxSfHwoTD0hMCxuKGopKX0sdC51bnN0YWJsZV9nZXRDdXJyZW50UHJpb3JpdHlMZXZlbD1mdW5jdGlvbigpe3JldHVybiBEfSx0LnVuc3RhYmxlX2dldEZpcnN0Q2FsbGJhY2tOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIEMoQSl9LHQudW5zdGFibGVfbmV4dD1mdW5jdGlvbihlKXtzd2l0Y2goRCl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6dmFyIHQ9MzticmVhaztkZWZhdWx0OnQ9RH12YXIgcj1EO0Q9dDt0cnl7cmV0dXJuIGUoKX1maW5hbGx5e0Q9cn19LHQudW5zdGFibGVfcGF1c2VFeGVjdXRpb249ZnVuY3Rpb24oKXt9LHQudW5zdGFibGVfcmVxdWVzdFBhaW50PU4sdC51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHk9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpicmVhaztkZWZhdWx0OmU9M312YXIgcj1EO0Q9ZTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e0Q9cn19LHQudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjaz1mdW5jdGlvbihlLHIsYSl7dmFyIHM9dC51bnN0YWJsZV9ub3coKTtpZihcIm9iamVjdFwiPT10eXBlb2YgYSYmbnVsbCE9PWEpe3ZhciBsPWEuZGVsYXk7bD1cIm51bWJlclwiPT10eXBlb2YgbCYmMDxsP3MrbDpzLGE9XCJudW1iZXJcIj09dHlwZW9mIGEudGltZW91dD9hLnRpbWVvdXQ6VShlKX1lbHNlIGE9VShlKSxsPXM7cmV0dXJuIGU9e2lkOlArKyxjYWxsYmFjazpyLHByaW9yaXR5TGV2ZWw6ZSxzdGFydFRpbWU6bCxleHBpcmF0aW9uVGltZTphPWwrYSxzb3J0SW5kZXg6LTF9LGw+cz8oZS5zb3J0SW5kZXg9bCxTKEksZSksbnVsbD09PUMoQSkmJmU9PT1DKEkpJiYoTz9vKCk6Tz0hMCxpKEYsbC1zKSkpOihlLnNvcnRJbmRleD1hLFMoQSxlKSxMfHxSfHwoTD0hMCxuKGopKSksZX0sdC51bnN0YWJsZV9zaG91bGRZaWVsZD1mdW5jdGlvbigpe3ZhciBlPXQudW5zdGFibGVfbm93KCk7QihlKTt2YXIgcj1DKEEpO3JldHVybiByIT09eiYmbnVsbCE9PXomJm51bGwhPT1yJiZudWxsIT09ci5jYWxsYmFjayYmci5zdGFydFRpbWU8PWUmJnIuZXhwaXJhdGlvblRpbWU8ei5leHBpcmF0aW9uVGltZXx8YSgpfSx0LnVuc3RhYmxlX3dyYXBDYWxsYmFjaz1mdW5jdGlvbihlKXt2YXIgdD1EO3JldHVybiBmdW5jdGlvbigpe3ZhciByPUQ7RD10O3RyeXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZmluYWxseXtEPXJ9fX19LGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1yKDE1KS5kZWZhdWx0O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPT1uKGUpfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgcj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09cil7dmFyIGk9ci5jYWxsKGUsdHx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPT1uKGkpKXJldHVybiBpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciByLG4saT17fSxvPU9iamVjdC5rZXlzKGUpO2ZvcihuPTA7bjxvLmxlbmd0aDtuKyspcj1vW25dLHQuaW5kZXhPZihyKT49MHx8KGlbcl09ZVtyXSk7cmV0dXJuIGl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoNzYpO2Z1bmN0aW9uIGkoZSl7cmV0dXJuITA9PT1uKGUpJiZcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxyO3JldHVybiExIT09aShlKSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mKHQ9ZS5jb25zdHJ1Y3RvcikmJighMSE9PWkocj10LnByb3RvdHlwZSkmJiExIT09ci5oYXNPd25Qcm9wZXJ0eShcImlzUHJvdG90eXBlT2ZcIikpKX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYhMT09PUFycmF5LmlzQXJyYXkoZSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZXMscj12b2lkIDA9PT10P3t4czowLHNtOjYwMCxtZDo5NjAsbGc6MTI4MCx4bDoxOTIwfTp0LG49ZS51bml0LHM9dm9pZCAwPT09bj9cInB4XCI6bixsPWUuc3RlcCxjPXZvaWQgMD09PWw/NTpsLHU9KDAsby5kZWZhdWx0KShlLFtcInZhbHVlc1wiLFwidW5pdFwiLFwic3RlcFwiXSk7ZnVuY3Rpb24gaChlKXt2YXIgdD1cIm51bWJlclwiPT10eXBlb2YgcltlXT9yW2VdOmU7cmV0dXJuXCJAbWVkaWEgKG1pbi13aWR0aDpcIi5jb25jYXQodCkuY29uY2F0KHMsXCIpXCIpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj1hLmluZGV4T2YodCkrMTtyZXR1cm4gbj09PWEubGVuZ3RoP2goZSk6XCJAbWVkaWEgKG1pbi13aWR0aDpcIi5jb25jYXQocltlXSkuY29uY2F0KHMsXCIpIGFuZCBcIikrXCIobWF4LXdpZHRoOlwiLmNvbmNhdChyW2Fbbl1dLWMvMTAwKS5jb25jYXQocyxcIilcIil9cmV0dXJuKDAsaS5kZWZhdWx0KSh7a2V5czphLHZhbHVlczpyLHVwOmgsZG93bjpmdW5jdGlvbihlKXt2YXIgdD1hLmluZGV4T2YoZSkrMSxuPXJbYVt0XV07cmV0dXJuIHQ9PT1hLmxlbmd0aD9oKFwieHNcIik6XCJAbWVkaWEgKG1heC13aWR0aDpcIi5jb25jYXQoKFwibnVtYmVyXCI9PXR5cGVvZiBuJiZ0PjA/bjplKS1jLzEwMCkuY29uY2F0KHMsXCIpXCIpfSxiZXR3ZWVuOmQsb25seTpmdW5jdGlvbihlKXtyZXR1cm4gZChlLGUpfSx3aWR0aDpmdW5jdGlvbihlKXtyZXR1cm4gcltlXX19LHUpfSx0LmtleXM9dm9pZCAwO3ZhciBpPW4ocigyKSksbz1uKHIoNCkpLGE9W1wieHNcIixcInNtXCIsXCJtZFwiLFwibGdcIixcInhsXCJdO3Qua2V5cz1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuO3JldHVybigwLG8uZGVmYXVsdCkoe2d1dHRlcnM6ZnVuY3Rpb24oKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuKDAsby5kZWZhdWx0KSh7cGFkZGluZ0xlZnQ6Mip0LnVuaXQscGFkZGluZ1JpZ2h0OjIqdC51bml0fSxyLCgwLGkuZGVmYXVsdCkoe30sZS51cChcInNtXCIpLCgwLG8uZGVmYXVsdCkoe3BhZGRpbmdMZWZ0OjMqdC51bml0LHBhZGRpbmdSaWdodDozKnQudW5pdH0scltlLnVwKFwic21cIildKSkpfSx0b29sYmFyOihuPXttaW5IZWlnaHQ6NTZ9LCgwLGkuZGVmYXVsdCkobixcIlwiLmNvbmNhdChlLnVwKFwieHNcIiksXCIgYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKVwiKSx7bWluSGVpZ2h0OjQ4fSksKDAsaS5kZWZhdWx0KShuLGUudXAoXCJzbVwiKSx7bWluSGVpZ2h0OjY0fSksbil9LHIpfTt2YXIgaT1uKHIoNSkpLG89bihyKDIpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUucHJpbWFyeSxyPXZvaWQgMD09PXQ/e2xpZ2h0OnMuZGVmYXVsdFszMDBdLG1haW46cy5kZWZhdWx0WzUwMF0sZGFyazpzLmRlZmF1bHRbNzAwXX06dCxuPWUuc2Vjb25kYXJ5LGc9dm9pZCAwPT09bj97bGlnaHQ6bC5kZWZhdWx0LkEyMDAsbWFpbjpsLmRlZmF1bHQuQTQwMCxkYXJrOmwuZGVmYXVsdC5BNzAwfTpuLF89ZS5lcnJvcix5PXZvaWQgMD09PV8/e2xpZ2h0OnUuZGVmYXVsdFszMDBdLG1haW46dS5kZWZhdWx0WzUwMF0sZGFyazp1LmRlZmF1bHRbNzAwXX06Xyx2PWUudHlwZSx4PXZvaWQgMD09PXY/XCJsaWdodFwiOnYsYj1lLmNvbnRyYXN0VGhyZXNob2xkLHc9dm9pZCAwPT09Yj8zOmIsVD1lLnRvbmFsT2Zmc2V0LEU9dm9pZCAwPT09VD8uMjpULFM9KDAsby5kZWZhdWx0KShlLFtcInByaW1hcnlcIixcInNlY29uZGFyeVwiLFwiZXJyb3JcIixcInR5cGVcIixcImNvbnRyYXN0VGhyZXNob2xkXCIsXCJ0b25hbE9mZnNldFwiXSk7ZnVuY3Rpb24gQyhlKXtyZXR1cm4oMCxkLmdldENvbnRyYXN0UmF0aW8pKGUsZi50ZXh0LnByaW1hcnkpPj13P2YudGV4dC5wcmltYXJ5OnAudGV4dC5wcmltYXJ5fWZ1bmN0aW9uIE0oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjUwMCxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTozMDAsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106NzAwO3JldHVybiFlLm1haW4mJmVbdF0mJihlLm1haW49ZVt0XSksbShlLFwibGlnaHRcIixyLEUpLG0oZSxcImRhcmtcIixuLEUpLGUuY29udHJhc3RUZXh0fHwoZS5jb250cmFzdFRleHQ9QyhlLm1haW4pKSxlfU0ociksTShnLFwiQTQwMFwiLFwiQTIwMFwiLFwiQTcwMFwiKSxNKHkpO3ZhciBrPXtkYXJrOmYsbGlnaHQ6cH07cmV0dXJuKDAsYS5kZWZhdWx0KSgoMCxpLmRlZmF1bHQpKHtjb21tb246aC5kZWZhdWx0LHR5cGU6eCxwcmltYXJ5OnIsc2Vjb25kYXJ5OmcsZXJyb3I6eSxncmV5OmMuZGVmYXVsdCxjb250cmFzdFRocmVzaG9sZDp3LGdldENvbnRyYXN0VGV4dDpDLGF1Z21lbnRDb2xvcjpNLHRvbmFsT2Zmc2V0OkV9LGtbeF0pLFMse2Nsb25lOiExfSl9LHQuZGFyaz10LmxpZ2h0PXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDQpKSxhPShuKHIoNikpLG4ocigyMikpKSxzPW4ocig0MSkpLGw9bihyKDgwKSksYz1uKHIoODEpKSx1PW4ocig4MikpLGg9bihyKDgzKSksZD1yKDQyKSxwPXt0ZXh0OntwcmltYXJ5OlwicmdiYSgwLCAwLCAwLCAwLjg3KVwiLHNlY29uZGFyeTpcInJnYmEoMCwgMCwgMCwgMC41NClcIixkaXNhYmxlZDpcInJnYmEoMCwgMCwgMCwgMC4zOClcIixoaW50OlwicmdiYSgwLCAwLCAwLCAwLjM4KVwifSxkaXZpZGVyOlwicmdiYSgwLCAwLCAwLCAwLjEyKVwiLGJhY2tncm91bmQ6e3BhcGVyOmguZGVmYXVsdC53aGl0ZSxkZWZhdWx0OmMuZGVmYXVsdFs1MF19LGFjdGlvbjp7YWN0aXZlOlwicmdiYSgwLCAwLCAwLCAwLjU0KVwiLGhvdmVyOlwicmdiYSgwLCAwLCAwLCAwLjA4KVwiLGhvdmVyT3BhY2l0eTouMDgsc2VsZWN0ZWQ6XCJyZ2JhKDAsIDAsIDAsIDAuMTQpXCIsZGlzYWJsZWQ6XCJyZ2JhKDAsIDAsIDAsIDAuMjYpXCIsZGlzYWJsZWRCYWNrZ3JvdW5kOlwicmdiYSgwLCAwLCAwLCAwLjEyKVwifX07dC5saWdodD1wO3ZhciBmPXt0ZXh0OntwcmltYXJ5OmguZGVmYXVsdC53aGl0ZSxzZWNvbmRhcnk6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNylcIixkaXNhYmxlZDpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KVwiLGhpbnQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSlcIixpY29uOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpXCJ9LGRpdmlkZXI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpXCIsYmFja2dyb3VuZDp7cGFwZXI6Yy5kZWZhdWx0WzgwMF0sZGVmYXVsdDpcIiMzMDMwMzBcIn0sYWN0aW9uOnthY3RpdmU6aC5kZWZhdWx0LndoaXRlLGhvdmVyOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpXCIsaG92ZXJPcGFjaXR5Oi4xLHNlbGVjdGVkOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpXCIsZGlzYWJsZWQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMylcIixkaXNhYmxlZEJhY2tncm91bmQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpXCJ9fTtmdW5jdGlvbiBtKGUsdCxyLG4pe2VbdF18fChlLmhhc093blByb3BlcnR5KHIpP2VbdF09ZVtyXTpcImxpZ2h0XCI9PT10P2UubGlnaHQ9KDAsZC5saWdodGVuKShlLm1haW4sbik6XCJkYXJrXCI9PT10JiYoZS5kYXJrPSgwLGQuZGFya2VuKShlLm1haW4sMS41Km4pKSl9dC5kYXJrPWZ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuPXs1MDpcIiNmY2U0ZWNcIiwxMDA6XCIjZjhiYmQwXCIsMjAwOlwiI2Y0OGZiMVwiLDMwMDpcIiNmMDYyOTJcIiw0MDA6XCIjZWM0MDdhXCIsNTAwOlwiI2U5MWU2M1wiLDYwMDpcIiNkODFiNjBcIiw3MDA6XCIjYzIxODViXCIsODAwOlwiI2FkMTQ1N1wiLDkwMDpcIiM4ODBlNGZcIixBMTAwOlwiI2ZmODBhYlwiLEEyMDA6XCIjZmY0MDgxXCIsQTQwMDpcIiNmNTAwNTdcIixBNzAwOlwiI2M1MTE2MlwifTt0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49ezUwOlwiI2ZhZmFmYVwiLDEwMDpcIiNmNWY1ZjVcIiwyMDA6XCIjZWVlZWVlXCIsMzAwOlwiI2UwZTBlMFwiLDQwMDpcIiNiZGJkYmRcIiw1MDA6XCIjOWU5ZTllXCIsNjAwOlwiIzc1NzU3NVwiLDcwMDpcIiM2MTYxNjFcIiw4MDA6XCIjNDI0MjQyXCIsOTAwOlwiIzIxMjEyMVwiLEExMDA6XCIjZDVkNWQ1XCIsQTIwMDpcIiNhYWFhYWFcIixBNDAwOlwiIzMwMzAzMFwiLEE3MDA6XCIjNjE2MTYxXCJ9O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgbj17NTA6XCIjZmZlYmVlXCIsMTAwOlwiI2ZmY2RkMlwiLDIwMDpcIiNlZjlhOWFcIiwzMDA6XCIjZTU3MzczXCIsNDAwOlwiI2VmNTM1MFwiLDUwMDpcIiNmNDQzMzZcIiw2MDA6XCIjZTUzOTM1XCIsNzAwOlwiI2QzMmYyZlwiLDgwMDpcIiNjNjI4MjhcIiw5MDA6XCIjYjcxYzFjXCIsQTEwMDpcIiNmZjhhODBcIixBMjAwOlwiI2ZmNTI1MlwiLEE0MDA6XCIjZmYxNzQ0XCIsQTcwMDpcIiNkNTAwMDBcIn07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuPXtibGFjazpcIiMwMDBcIix3aGl0ZTpcIiNmZmZcIn07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciByPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dChlKTp0LG49ci5mb250RmFtaWx5LHU9dm9pZCAwPT09bj8nXCJSb2JvdG9cIiwgXCJIZWx2ZXRpY2FcIiwgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJzpuLGg9ci5mb250U2l6ZSxkPXZvaWQgMD09PWg/MTQ6aCxwPXIuZm9udFdlaWdodExpZ2h0LGY9dm9pZCAwPT09cD8zMDA6cCxtPXIuZm9udFdlaWdodFJlZ3VsYXIsZz12b2lkIDA9PT1tPzQwMDptLF89ci5mb250V2VpZ2h0TWVkaXVtLHk9dm9pZCAwPT09Xz81MDA6Xyx2PXIuaHRtbEZvbnRTaXplLHg9dm9pZCAwPT09dj8xNjp2LGI9ci51c2VOZXh0VmFyaWFudHMsdz12b2lkIDA9PT1iP0Jvb2xlYW4ocy5wb255ZmlsbEdsb2JhbC5fX01VSV9VU0VfTkVYVF9UWVBPR1JBUEhZX1ZBUklBTlRTX18pOmIsVD0oci5zdXBwcmVzc1dhcm5pbmcsci5hbGxWYXJpYW50cyksRT0oMCxvLmRlZmF1bHQpKHIsW1wiZm9udEZhbWlseVwiLFwiZm9udFNpemVcIixcImZvbnRXZWlnaHRMaWdodFwiLFwiZm9udFdlaWdodFJlZ3VsYXJcIixcImZvbnRXZWlnaHRNZWRpdW1cIixcImh0bWxGb250U2l6ZVwiLFwidXNlTmV4dFZhcmlhbnRzXCIsXCJzdXBwcmVzc1dhcm5pbmdcIixcImFsbFZhcmlhbnRzXCJdKTt2YXIgUz1kLzE0LEM9ZnVuY3Rpb24oZSl7cmV0dXJuXCJcIi5jb25jYXQoZS94KlMsXCJyZW1cIil9LE09ZnVuY3Rpb24odCxyLG4sbyxhKXtyZXR1cm4oMCxpLmRlZmF1bHQpKHtjb2xvcjplLnRleHQucHJpbWFyeSxmb250RmFtaWx5OnUsZm9udFdlaWdodDp0LGZvbnRTaXplOkMociksbGluZUhlaWdodDpufSwnXCJSb2JvdG9cIiwgXCJIZWx2ZXRpY2FcIiwgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJz09PXU/e2xldHRlclNwYWNpbmc6XCJcIi5jb25jYXQobChvL3IpLFwiZW1cIil9Ont9LGEsVCl9LGs9e2gxOk0oZiw5NiwxLC0xLjUpLGgyOk0oZiw2MCwxLC0uNSksaDM6TShnLDQ4LDEuMDQsMCksaDQ6TShnLDM0LDEuMTcsLjI1KSxoNTpNKGcsMjQsMS4zMywwKSxoNjpNKHksMjAsMS42LC4xNSksc3VidGl0bGUxOk0oZywxNiwxLjc1LC4xNSksc3VidGl0bGUyOk0oeSwxNCwxLjU3LC4xKSxib2R5MU5leHQ6TShnLDE2LDEuNSwuMTUpLGJvZHkyTmV4dDpNKGcsMTQsMS41LC4xNSksYnV0dG9uTmV4dDpNKHksMTQsMS43NSwuNCxjKSxjYXB0aW9uTmV4dDpNKGcsMTIsMS42NiwuNCksb3ZlcmxpbmU6TShnLDEyLDIuNjYsMSxjKX0sQT17ZGlzcGxheTQ6KDAsaS5kZWZhdWx0KSh7Zm9udFNpemU6QygxMTIpLGZvbnRXZWlnaHQ6Zixmb250RmFtaWx5OnUsbGV0dGVyU3BhY2luZzpcIi0uMDRlbVwiLGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCgxMjgvMTEyKSxcImVtXCIpLG1hcmdpbkxlZnQ6XCItLjA0ZW1cIixjb2xvcjplLnRleHQuc2Vjb25kYXJ5fSxUKSxkaXNwbGF5MzooMCxpLmRlZmF1bHQpKHtmb250U2l6ZTpDKDU2KSxmb250V2VpZ2h0OmcsZm9udEZhbWlseTp1LGxldHRlclNwYWNpbmc6XCItLjAyZW1cIixsaW5lSGVpZ2h0OlwiXCIuY29uY2F0KGwoNzMvNTYpLFwiZW1cIiksbWFyZ2luTGVmdDpcIi0uMDJlbVwiLGNvbG9yOmUudGV4dC5zZWNvbmRhcnl9LFQpLGRpc3BsYXkyOigwLGkuZGVmYXVsdCkoe2ZvbnRTaXplOkMoNDUpLGZvbnRXZWlnaHQ6Zyxmb250RmFtaWx5OnUsbGluZUhlaWdodDpcIlwiLmNvbmNhdChsKDUxLzQ1KSxcImVtXCIpLG1hcmdpbkxlZnQ6XCItLjAyZW1cIixjb2xvcjplLnRleHQuc2Vjb25kYXJ5fSxUKSxkaXNwbGF5MTooMCxpLmRlZmF1bHQpKHtmb250U2l6ZTpDKDM0KSxmb250V2VpZ2h0OmcsZm9udEZhbWlseTp1LGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCg0MS8zNCksXCJlbVwiKSxjb2xvcjplLnRleHQuc2Vjb25kYXJ5fSxUKSxoZWFkbGluZTooMCxpLmRlZmF1bHQpKHtmb250U2l6ZTpDKDI0KSxmb250V2VpZ2h0OmcsZm9udEZhbWlseTp1LGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCgzMi41LzI0KSxcImVtXCIpLGNvbG9yOmUudGV4dC5wcmltYXJ5fSxUKSx0aXRsZTooMCxpLmRlZmF1bHQpKHtmb250U2l6ZTpDKDIxKSxmb250V2VpZ2h0OnksZm9udEZhbWlseTp1LGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCgyNC41LzIxKSxcImVtXCIpLGNvbG9yOmUudGV4dC5wcmltYXJ5fSxUKSxzdWJoZWFkaW5nOigwLGkuZGVmYXVsdCkoe2ZvbnRTaXplOkMoMTYpLGZvbnRXZWlnaHQ6Zyxmb250RmFtaWx5OnUsbGluZUhlaWdodDpcIlwiLmNvbmNhdChsKDEuNSksXCJlbVwiKSxjb2xvcjplLnRleHQucHJpbWFyeX0sVCksYm9keTI6KDAsaS5kZWZhdWx0KSh7Zm9udFNpemU6QygxNCksZm9udFdlaWdodDp5LGZvbnRGYW1pbHk6dSxsaW5lSGVpZ2h0OlwiXCIuY29uY2F0KGwoMjQvMTQpLFwiZW1cIiksY29sb3I6ZS50ZXh0LnByaW1hcnl9LFQpLGJvZHkxOigwLGkuZGVmYXVsdCkoe2ZvbnRTaXplOkMoMTQpLGZvbnRXZWlnaHQ6Zyxmb250RmFtaWx5OnUsbGluZUhlaWdodDpcIlwiLmNvbmNhdChsKDIwLjUvMTQpLFwiZW1cIiksY29sb3I6ZS50ZXh0LnByaW1hcnl9LFQpLGNhcHRpb246KDAsaS5kZWZhdWx0KSh7Zm9udFNpemU6QygxMiksZm9udFdlaWdodDpnLGZvbnRGYW1pbHk6dSxsaW5lSGVpZ2h0OlwiXCIuY29uY2F0KGwoMS4zNzUpLFwiZW1cIiksY29sb3I6ZS50ZXh0LnNlY29uZGFyeX0sVCksYnV0dG9uOigwLGkuZGVmYXVsdCkoe2ZvbnRTaXplOkMoMTQpLHRleHRUcmFuc2Zvcm06XCJ1cHBlcmNhc2VcIixmb250V2VpZ2h0OnksZm9udEZhbWlseTp1LGNvbG9yOmUudGV4dC5wcmltYXJ5fSxUKX07cmV0dXJuKDAsYS5kZWZhdWx0KSgoMCxpLmRlZmF1bHQpKHtweFRvUmVtOkMscm91bmQ6bCxmb250RmFtaWx5OnUsZm9udFNpemU6ZCxmb250V2VpZ2h0TGlnaHQ6Zixmb250V2VpZ2h0UmVndWxhcjpnLGZvbnRXZWlnaHRNZWRpdW06eX0sQSxrLHc/e2JvZHkxOmsuYm9keTFOZXh0LGJvZHkyOmsuYm9keTJOZXh0LGJ1dHRvbjprLmJ1dHRvbk5leHQsY2FwdGlvbjprLmNhcHRpb25OZXh0fTp7fSx7dXNlTmV4dFZhcmlhbnRzOnd9KSxFLHtjbG9uZTohMX0pfTt2YXIgaT1uKHIoMikpLG89bihyKDQpKSxhPW4ocigyMikpLHM9KG4ocig2KSkscig3KSk7ZnVuY3Rpb24gbChlKXtyZXR1cm4gTWF0aC5yb3VuZCgxZTUqZSkvMWU1fXZhciBjPXt0ZXh0VHJhbnNmb3JtOlwidXBwZXJjYXNlXCJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yLGk9bj9TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKTo2MDEwMyxvPW4/U3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKTo2MDEwNixhPW4/U3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpOjYwMTA3LHM9bj9TeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIik6NjAxMDgsbD1uP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTo2MDExNCxjPW4/U3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpOjYwMTA5LHU9bj9TeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKTo2MDExMCxoPW4/U3ltYm9sLmZvcihcInJlYWN0LmFzeW5jX21vZGVcIik6NjAxMTEsZD1uP1N5bWJvbC5mb3IoXCJyZWFjdC5jb25jdXJyZW50X21vZGVcIik6NjAxMTEscD1uP1N5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKTo2MDExMixmPW4/U3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpOjYwMTEzLG09bj9TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKTo2MDEyMCxnPW4/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsXz1uP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2LHk9bj9TeW1ib2wuZm9yKFwicmVhY3QuYmxvY2tcIik6NjAxMjEsdj1uP1N5bWJvbC5mb3IoXCJyZWFjdC5mdW5kYW1lbnRhbFwiKTo2MDExNyx4PW4/U3ltYm9sLmZvcihcInJlYWN0LnJlc3BvbmRlclwiKTo2MDExOCxiPW4/U3ltYm9sLmZvcihcInJlYWN0LnNjb3BlXCIpOjYwMTE5O2Z1bmN0aW9uIHcoZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lKXt2YXIgdD1lLiQkdHlwZW9mO3N3aXRjaCh0KXtjYXNlIGk6c3dpdGNoKGU9ZS50eXBlKXtjYXNlIGg6Y2FzZSBkOmNhc2UgYTpjYXNlIGw6Y2FzZSBzOmNhc2UgZjpyZXR1cm4gZTtkZWZhdWx0OnN3aXRjaChlPWUmJmUuJCR0eXBlb2Ype2Nhc2UgdTpjYXNlIHA6Y2FzZSBfOmNhc2UgZzpjYXNlIGM6cmV0dXJuIGU7ZGVmYXVsdDpyZXR1cm4gdH19Y2FzZSBvOnJldHVybiB0fX19ZnVuY3Rpb24gVChlKXtyZXR1cm4gdyhlKT09PWR9dC5Bc3luY01vZGU9aCx0LkNvbmN1cnJlbnRNb2RlPWQsdC5Db250ZXh0Q29uc3VtZXI9dSx0LkNvbnRleHRQcm92aWRlcj1jLHQuRWxlbWVudD1pLHQuRm9yd2FyZFJlZj1wLHQuRnJhZ21lbnQ9YSx0Lkxhenk9Xyx0Lk1lbW89Zyx0LlBvcnRhbD1vLHQuUHJvZmlsZXI9bCx0LlN0cmljdE1vZGU9cyx0LlN1c3BlbnNlPWYsdC5pc0FzeW5jTW9kZT1mdW5jdGlvbihlKXtyZXR1cm4gVChlKXx8dyhlKT09PWh9LHQuaXNDb25jdXJyZW50TW9kZT1ULHQuaXNDb250ZXh0Q29uc3VtZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk9PT11fSx0LmlzQ29udGV4dFByb3ZpZGVyPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09Y30sdC5pc0VsZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZlLiQkdHlwZW9mPT09aX0sdC5pc0ZvcndhcmRSZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk9PT1wfSx0LmlzRnJhZ21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk9PT1hfSx0LmlzTGF6eT1mdW5jdGlvbihlKXtyZXR1cm4gdyhlKT09PV99LHQuaXNNZW1vPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09Z30sdC5pc1BvcnRhbD1mdW5jdGlvbihlKXtyZXR1cm4gdyhlKT09PW99LHQuaXNQcm9maWxlcj1mdW5jdGlvbihlKXtyZXR1cm4gdyhlKT09PWx9LHQuaXNTdHJpY3RNb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09c30sdC5pc1N1c3BlbnNlPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09Zn0sdC5pc1ZhbGlkRWxlbWVudFR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGV8fGU9PT1hfHxlPT09ZHx8ZT09PWx8fGU9PT1zfHxlPT09Znx8ZT09PW18fFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmKGUuJCR0eXBlb2Y9PT1ffHxlLiQkdHlwZW9mPT09Z3x8ZS4kJHR5cGVvZj09PWN8fGUuJCR0eXBlb2Y9PT11fHxlLiQkdHlwZW9mPT09cHx8ZS4kJHR5cGVvZj09PXZ8fGUuJCR0eXBlb2Y9PT14fHxlLiQkdHlwZW9mPT09Ynx8ZS4kJHR5cGVvZj09PXkpfSx0LnR5cGVPZj13fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDtmdW5jdGlvbiBuKCl7cmV0dXJuW1wiXCIuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSxcInB4IFwiKS5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9MT92b2lkIDA6YXJndW1lbnRzWzFdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD0yP3ZvaWQgMDphcmd1bWVudHNbMl0sXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTM/dm9pZCAwOmFyZ3VtZW50c1szXSxcInB4IHJnYmEoMCwwLDAsXCIpLmNvbmNhdCguMixcIilcIiksXCJcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9ND92b2lkIDA6YXJndW1lbnRzWzRdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD01P3ZvaWQgMDphcmd1bWVudHNbNV0sXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTY/dm9pZCAwOmFyZ3VtZW50c1s2XSxcInB4IFwiKS5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9Nz92b2lkIDA6YXJndW1lbnRzWzddLFwicHggcmdiYSgwLDAsMCxcIikuY29uY2F0KC4xNCxcIilcIiksXCJcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9OD92b2lkIDA6YXJndW1lbnRzWzhdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD05P3ZvaWQgMDphcmd1bWVudHNbOV0sXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTEwP3ZvaWQgMDphcmd1bWVudHNbMTBdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD0xMT92b2lkIDA6YXJndW1lbnRzWzExXSxcInB4IHJnYmEoMCwwLDAsXCIpLmNvbmNhdCguMTIsXCIpXCIpXS5qb2luKFwiLFwiKX12YXIgaT1bXCJub25lXCIsbigwLDEsMywwLDAsMSwxLDAsMCwyLDEsLTEpLG4oMCwxLDUsMCwwLDIsMiwwLDAsMywxLC0yKSxuKDAsMSw4LDAsMCwzLDQsMCwwLDMsMywtMiksbigwLDIsNCwtMSwwLDQsNSwwLDAsMSwxMCwwKSxuKDAsMyw1LC0xLDAsNSw4LDAsMCwxLDE0LDApLG4oMCwzLDUsLTEsMCw2LDEwLDAsMCwxLDE4LDApLG4oMCw0LDUsLTIsMCw3LDEwLDEsMCwyLDE2LDEpLG4oMCw1LDUsLTMsMCw4LDEwLDEsMCwzLDE0LDIpLG4oMCw1LDYsLTMsMCw5LDEyLDEsMCwzLDE2LDIpLG4oMCw2LDYsLTMsMCwxMCwxNCwxLDAsNCwxOCwzKSxuKDAsNiw3LC00LDAsMTEsMTUsMSwwLDQsMjAsMyksbigwLDcsOCwtNCwwLDEyLDE3LDIsMCw1LDIyLDQpLG4oMCw3LDgsLTQsMCwxMywxOSwyLDAsNSwyNCw0KSxuKDAsNyw5LC00LDAsMTQsMjEsMiwwLDUsMjYsNCksbigwLDgsOSwtNSwwLDE1LDIyLDIsMCw2LDI4LDUpLG4oMCw4LDEwLC01LDAsMTYsMjQsMiwwLDYsMzAsNSksbigwLDgsMTEsLTUsMCwxNywyNiwyLDAsNiwzMiw1KSxuKDAsOSwxMSwtNSwwLDE4LDI4LDIsMCw3LDM0LDYpLG4oMCw5LDEyLC02LDAsMTksMjksMiwwLDcsMzYsNiksbigwLDEwLDEzLC02LDAsMjAsMzEsMywwLDgsMzgsNyksbigwLDEwLDEzLC02LDAsMjEsMzMsMywwLDgsNDAsNyksbigwLDEwLDE0LC02LDAsMjIsMzUsMywwLDgsNDIsNyksbigwLDExLDE0LC03LDAsMjMsMzYsMywwLDksNDQsOCksbigwLDExLDE1LC03LDAsMjQsMzgsMywwLDksNDYsOCldO3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgbj17Ym9yZGVyUmFkaXVzOjR9O3QuZGVmYXVsdD1ufSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgbj17dW5pdDo4fTt0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuaXNOdW1iZXI9dC5pc1N0cmluZz10LmZvcm1hdE1zPXQuZHVyYXRpb249dC5lYXNpbmc9dm9pZCAwO3ZhciBpPW4ocig0KSksbz0obihyKDYpKSx7ZWFzZUluT3V0OlwiY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKVwiLGVhc2VPdXQ6XCJjdWJpYy1iZXppZXIoMC4wLCAwLCAwLjIsIDEpXCIsZWFzZUluOlwiY3ViaWMtYmV6aWVyKDAuNCwgMCwgMSwgMSlcIixzaGFycDpcImN1YmljLWJlemllcigwLjQsIDAsIDAuNiwgMSlcIn0pO3QuZWFzaW5nPW87dmFyIGE9e3Nob3J0ZXN0OjE1MCxzaG9ydGVyOjIwMCxzaG9ydDoyNTAsc3RhbmRhcmQ6MzAwLGNvbXBsZXg6Mzc1LGVudGVyaW5nU2NyZWVuOjIyNSxsZWF2aW5nU2NyZWVuOjE5NX07dC5kdXJhdGlvbj1hO3ZhciBzPWZ1bmN0aW9uKGUpe3JldHVyblwiXCIuY29uY2F0KE1hdGgucm91bmQoZSksXCJtc1wiKX07dC5mb3JtYXRNcz1zO3QuaXNTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9O3QuaXNOdW1iZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQoZSkpfTt2YXIgbD17ZWFzaW5nOm8sZHVyYXRpb246YSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W1wiYWxsXCJdLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9dC5kdXJhdGlvbixuPXZvaWQgMD09PXI/YS5zdGFuZGFyZDpyLGw9dC5lYXNpbmcsYz12b2lkIDA9PT1sP28uZWFzZUluT3V0OmwsdT10LmRlbGF5LGg9dm9pZCAwPT09dT8wOnU7KDAsaS5kZWZhdWx0KSh0LFtcImR1cmF0aW9uXCIsXCJlYXNpbmdcIixcImRlbGF5XCJdKTtyZXR1cm4oQXJyYXkuaXNBcnJheShlKT9lOltlXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm5cIlwiLmNvbmNhdChlLFwiIFwiKS5jb25jYXQoXCJzdHJpbmdcIj09dHlwZW9mIG4/bjpzKG4pLFwiIFwiKS5jb25jYXQoYyxcIiBcIikuY29uY2F0KFwic3RyaW5nXCI9PXR5cGVvZiBoP2g6cyhoKSl9KSkuam9pbihcIixcIil9LGdldEF1dG9IZWlnaHREdXJhdGlvbjpmdW5jdGlvbihlKXtpZighZSlyZXR1cm4gMDt2YXIgdD1lLzM2O3JldHVybiBNYXRoLnJvdW5kKDEwKig0KzE1Kk1hdGgucG93KHQsLjI1KSt0LzUpKX19O3QuZGVmYXVsdD1sfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgbj17bW9iaWxlU3RlcHBlcjoxZTMsYXBwQmFyOjExMDAsZHJhd2VyOjEyMDAsbW9kYWw6MTMwMCxzbmFja2JhcjoxNDAwLHRvb2x0aXA6MTUwMH07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSxpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCk7dC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue29uQ3JlYXRlUnVsZTpmdW5jdGlvbihlLHQscil7aWYoXCJAZ2xvYmFsXCI9PT1lKXJldHVybiBuZXcgcyhlLHQscik7aWYoXCJAXCI9PT1lWzBdJiZcIkBnbG9iYWwgXCI9PT1lLnN1YnN0cigwLFwiQGdsb2JhbCBcIi5sZW5ndGgpKXJldHVybiBuZXcgbChlLHQscik7dmFyIG49ci5wYXJlbnQ7cmV0dXJuIG4mJihcImdsb2JhbFwiIT09bi50eXBlJiZcImdsb2JhbFwiIT09bi5vcHRpb25zLnBhcmVudC50eXBlfHwoci5nbG9iYWw9ITApKSxyLmdsb2JhbCYmKHIuc2VsZWN0b3I9ZSksbnVsbH0sb25Qcm9jZXNzUnVsZTpmdW5jdGlvbihlKXtcInN0eWxlXCI9PT1lLnR5cGUmJihmdW5jdGlvbihlKXt2YXIgdD1lLm9wdGlvbnMscj1lLnN0eWxlLGk9cltcIkBnbG9iYWxcIl07aWYoIWkpcmV0dXJuO2Zvcih2YXIgbyBpbiBpKXQuc2hlZXQuYWRkUnVsZShvLGlbb10sbih7fSx0LHtzZWxlY3Rvcjp1KG8sZS5zZWxlY3Rvcil9KSk7ZGVsZXRlIHJbXCJAZ2xvYmFsXCJdfShlKSxmdW5jdGlvbihlKXt2YXIgdD1lLm9wdGlvbnMscj1lLnN0eWxlO2Zvcih2YXIgaSBpbiByKWlmKFwiQGdsb2JhbFwiPT09aS5zdWJzdHIoMCxcIkBnbG9iYWxcIi5sZW5ndGgpKXt2YXIgbz11KGkuc3Vic3RyKFwiQGdsb2JhbFwiLmxlbmd0aCksZS5zZWxlY3Rvcik7dC5zaGVldC5hZGRSdWxlKG8scltpXSxuKHt9LHQse3NlbGVjdG9yOm99KSksZGVsZXRlIHJbaV19fShlKSl9fX07dmFyIG89cig1MCk7ZnVuY3Rpb24gYShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixpKXtmb3IodmFyIHMgaW4gYSh0aGlzLGUpLHRoaXMudHlwZT1cImdsb2JhbFwiLHRoaXMua2V5PXQsdGhpcy5vcHRpb25zPWksdGhpcy5ydWxlcz1uZXcgby5SdWxlTGlzdChuKHt9LGkse3BhcmVudDp0aGlzfSkpLHIpdGhpcy5ydWxlcy5hZGQocyxyW3NdLHtzZWxlY3RvcjpzfSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIGkoZSxbe2tleTpcImdldFJ1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydWxlcy5nZXQoZSl9fSx7a2V5OlwiYWRkUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLnJ1bGVzLmFkZChlLHQscik7cmV0dXJuIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKG4pLG59fSx7a2V5OlwiaW5kZXhPZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGVzLmluZGV4T2YoZSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ1bGVzLnRvU3RyaW5nKCl9fV0pLGV9KCksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLGkpe2EodGhpcyxlKSx0aGlzLm5hbWU9dCx0aGlzLm9wdGlvbnM9aTt2YXIgbz10LnN1YnN0cihcIkBnbG9iYWwgXCIubGVuZ3RoKTt0aGlzLnJ1bGU9aS5qc3MuY3JlYXRlUnVsZShvLHIsbih7fSxpLHtwYXJlbnQ6dGhpcyxzZWxlY3RvcjpvfSkpfXJldHVybiBpKGUsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGUudG9TdHJpbmcoZSl9fV0pLGV9KCksYz0vXFxzKixcXHMqL2c7ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgcj1lLnNwbGl0KGMpLG49XCJcIixpPTA7aTxyLmxlbmd0aDtpKyspbis9dCtcIiBcIityW2ldLnRyaW0oKSxyW2krMV0mJihuKz1cIiwgXCIpO3JldHVybiBufX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1mdW5jdGlvbiBlKHQpe3ZhciByPW51bGw7Zm9yKHZhciBpIGluIHQpe3ZhciBvPXRbaV0sYT12b2lkIDA9PT1vP1widW5kZWZpbmVkXCI6bihvKTtpZihcImZ1bmN0aW9uXCI9PT1hKXJ8fChyPXt9KSxyW2ldPW87ZWxzZSBpZihcIm9iamVjdFwiPT09YSYmbnVsbCE9PW8mJiFBcnJheS5pc0FycmF5KG8pKXt2YXIgcz1lKG8pO3MmJihyfHwocj17fSkscltpXT1zKX19cmV0dXJuIHJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigxNykpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5zaGVldHM9W10sdGhpcy5yZWZzPVtdLHRoaXMua2V5cz1bXX1yZXR1cm4gbihlLFt7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5rZXlzLmluZGV4T2YoZSk7cmV0dXJuIHRoaXMuc2hlZXRzW3RdfX0se2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5zaGVldHMsbj10aGlzLnJlZnMsaT10aGlzLmtleXMsbz1yLmluZGV4T2YodCk7cmV0dXJuLTEhPT1vP286KHIucHVzaCh0KSxuLnB1c2goMCksaS5wdXNoKGUpLHIubGVuZ3RoLTEpfX0se2tleTpcIm1hbmFnZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMua2V5cy5pbmRleE9mKGUpLHI9dGhpcy5zaGVldHNbdF07cmV0dXJuIDA9PT10aGlzLnJlZnNbdF0mJnIuYXR0YWNoKCksdGhpcy5yZWZzW3RdKyssdGhpcy5rZXlzW3RdfHx0aGlzLmtleXMuc3BsaWNlKHQsMCxlKSxyfX0se2tleTpcInVubWFuYWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5rZXlzLmluZGV4T2YoZSk7LTEhPT10P3RoaXMucmVmc1t0XT4wJiYodGhpcy5yZWZzW3RdLS0sMD09PXRoaXMucmVmc1t0XSYmdGhpcy5zaGVldHNbdF0uZGV0YWNoKCkpOigwLGkuZGVmYXVsdCkoITEsXCJTaGVldHNNYW5hZ2VyOiBjYW4ndCBmaW5kIHNoZWV0IHRvIHVubWFuYWdlXCIpfX0se2tleTpcInNpemVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlzLmxlbmd0aH19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1mdW5jdGlvbiBlKHQpe2lmKG51bGw9PXQpcmV0dXJuIHQ7dmFyIHI9dm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOm4odCk7aWYoXCJzdHJpbmdcIj09PXJ8fFwibnVtYmVyXCI9PT1yfHxcImZ1bmN0aW9uXCI9PT1yKXJldHVybiB0O2lmKG8odCkpcmV0dXJuIHQubWFwKGUpO2lmKCgwLGkuZGVmYXVsdCkodCkpcmV0dXJuIHQ7dmFyIGE9e307Zm9yKHZhciBzIGluIHQpe3ZhciBsPXRbc107XCJvYmplY3RcIiE9PSh2b2lkIDA9PT1sP1widW5kZWZpbmVkXCI6bihsKSk/YVtzXT1sOmFbc109ZShsKX1yZXR1cm4gYX07dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShyKDUyKSk7dmFyIG89QXJyYXkuaXNBcnJheX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3Iucih0KSxmdW5jdGlvbihlLG4pe3ZhciBpLG89cig2Nyk7aT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCE9PWU/ZTpuO3ZhciBhPU9iamVjdChvLmEpKGkpO3QuZGVmYXVsdD1hfS5jYWxsKHRoaXMscigzMCkscig5NikoZSkpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighZS53ZWJwYWNrUG9seWZpbGwpe3ZhciB0PU9iamVjdC5jcmVhdGUoZSk7dC5jaGlsZHJlbnx8KHQuY2hpbGRyZW49W10pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibG9hZGVkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImlkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuaX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImV4cG9ydHNcIix7ZW51bWVyYWJsZTohMH0pLHQud2VicGFja1BvbHlmaWxsPTF9cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuQ1NTO3QuZGVmYXVsdD1mdW5jdGlvbihlKXtyZXR1cm4gZX19KS5jYWxsKHRoaXMscigzMCkpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByPVwiMmYxYWNjNmMzYTYwNmIwODJlNWVlZjVlNTQ0MTRmZmJcIjtudWxsPT1lW3JdJiYoZVtyXT0wKSx0LmRlZmF1bHQ9ZVtyXSsrfSkuY2FsbCh0aGlzLHIoMzApKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0sbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpLGE9eShyKDI1KSkscz15KHIoNTUpKSxsPXkocigxMDApKSxjPXkocigxMDEpKSx1PXkocigxMDcpKSxoPXkocigxMDgpKSxkPXkocigzMSkpLHA9eShyKDE4KSksZj15KHIoNTQpKSxtPXkocigyNCkpLGc9eShyKDEwOSkpLF89eShyKDExMCkpO2Z1bmN0aW9uIHkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciB2PWMuZGVmYXVsdC5jb25jYXQoW3UuZGVmYXVsdCxoLmRlZmF1bHRdKSx4PTAsYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmlkPXgrKyx0aGlzLnZlcnNpb249XCI5LjguN1wiLHRoaXMucGx1Z2lucz1uZXcgbC5kZWZhdWx0LHRoaXMub3B0aW9ucz17Y3JlYXRlR2VuZXJhdGVDbGFzc05hbWU6Zi5kZWZhdWx0LFJlbmRlcmVyOmEuZGVmYXVsdD9nLmRlZmF1bHQ6Xy5kZWZhdWx0LHBsdWdpbnM6W119LHRoaXMuZ2VuZXJhdGVDbGFzc05hbWU9KDAsZi5kZWZhdWx0KSgpLHRoaXMudXNlLmFwcGx5KHRoaXMsdiksdGhpcy5zZXR1cCh0KX1yZXR1cm4gbyhlLFt7a2V5Olwic2V0dXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gZS5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZSYmKHRoaXMub3B0aW9ucy5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZT1lLmNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lLHRoaXMuZ2VuZXJhdGVDbGFzc05hbWU9ZS5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZSgpKSxudWxsIT1lLmluc2VydGlvblBvaW50JiYodGhpcy5vcHRpb25zLmluc2VydGlvblBvaW50PWUuaW5zZXJ0aW9uUG9pbnQpLChlLnZpcnR1YWx8fGUuUmVuZGVyZXIpJiYodGhpcy5vcHRpb25zLlJlbmRlcmVyPWUuUmVuZGVyZXJ8fChlLnZpcnR1YWw/Xy5kZWZhdWx0OmcuZGVmYXVsdCkpLGUucGx1Z2lucyYmdGhpcy51c2UuYXBwbHkodGhpcyxlLnBsdWdpbnMpLHRoaXN9fSx7a2V5OlwiY3JlYXRlU3R5bGVTaGVldFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXQuaW5kZXg7XCJudW1iZXJcIiE9dHlwZW9mIHImJihyPTA9PT1kLmRlZmF1bHQuaW5kZXg/MDpkLmRlZmF1bHQuaW5kZXgrMSk7dmFyIG49bmV3IHMuZGVmYXVsdChlLGkoe30sdCx7anNzOnRoaXMsZ2VuZXJhdGVDbGFzc05hbWU6dC5nZW5lcmF0ZUNsYXNzTmFtZXx8dGhpcy5nZW5lcmF0ZUNsYXNzTmFtZSxpbnNlcnRpb25Qb2ludDp0aGlzLm9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQsUmVuZGVyZXI6dGhpcy5vcHRpb25zLlJlbmRlcmVyLGluZGV4OnJ9KSk7cmV0dXJuIHRoaXMucGx1Z2lucy5vblByb2Nlc3NTaGVldChuKSxufX0se2tleTpcInJlbW92ZVN0eWxlU2hlZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5kZXRhY2goKSxkLmRlZmF1bHQucmVtb3ZlKGUpLHRoaXN9fSx7a2V5OlwiY3JlYXRlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjpuKGUpKSYmKHI9dCx0PWUsZT12b2lkIDApO3ZhciBpPXI7aS5qc3M9dGhpcyxpLlJlbmRlcmVyPXRoaXMub3B0aW9ucy5SZW5kZXJlcixpLmdlbmVyYXRlQ2xhc3NOYW1lfHwoaS5nZW5lcmF0ZUNsYXNzTmFtZT10aGlzLmdlbmVyYXRlQ2xhc3NOYW1lKSxpLmNsYXNzZXN8fChpLmNsYXNzZXM9e30pO3ZhciBvPSgwLG0uZGVmYXVsdCkoZSx0LGkpO3JldHVybiFpLnNlbGVjdG9yJiZvIGluc3RhbmNlb2YgcC5kZWZhdWx0JiYoby5zZWxlY3Rvcj1cIi5cIitpLmdlbmVyYXRlQ2xhc3NOYW1lKG8pKSx0aGlzLnBsdWdpbnMub25Qcm9jZXNzUnVsZShvKSxvfX0se2tleTpcInVzZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkodCksbj0wO248dDtuKyspcltuXT1hcmd1bWVudHNbbl07cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24odCl7LTE9PT1lLm9wdGlvbnMucGx1Z2lucy5pbmRleE9mKHQpJiYoZS5vcHRpb25zLnBsdWdpbnMucHVzaCh0KSxlLnBsdWdpbnMudXNlKHQpKX0pKSx0aGlzfX1dKSxlfSgpO3QuZGVmYXVsdD1ifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigxNykpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5ob29rcz17b25DcmVhdGVSdWxlOltdLG9uUHJvY2Vzc1J1bGU6W10sb25Qcm9jZXNzU3R5bGU6W10sb25Qcm9jZXNzU2hlZXQ6W10sb25DaGFuZ2VWYWx1ZTpbXSxvblVwZGF0ZTpbXX19cmV0dXJuIG4oZSxbe2tleTpcIm9uQ3JlYXRlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49MDtuPHRoaXMuaG9va3Mub25DcmVhdGVSdWxlLmxlbmd0aDtuKyspe3ZhciBpPXRoaXMuaG9va3Mub25DcmVhdGVSdWxlW25dKGUsdCxyKTtpZihpKXJldHVybiBpfXJldHVybiBudWxsfX0se2tleTpcIm9uUHJvY2Vzc1J1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZS5pc1Byb2Nlc3NlZCl7Zm9yKHZhciB0PWUub3B0aW9ucy5zaGVldCxyPTA7cjx0aGlzLmhvb2tzLm9uUHJvY2Vzc1J1bGUubGVuZ3RoO3IrKyl0aGlzLmhvb2tzLm9uUHJvY2Vzc1J1bGVbcl0oZSx0KTtlLnN0eWxlJiZ0aGlzLm9uUHJvY2Vzc1N0eWxlKGUuc3R5bGUsZSx0KSxlLmlzUHJvY2Vzc2VkPSEwfX19LHtrZXk6XCJvblByb2Nlc3NTdHlsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49ZSxpPTA7aTx0aGlzLmhvb2tzLm9uUHJvY2Vzc1N0eWxlLmxlbmd0aDtpKyspbj10aGlzLmhvb2tzLm9uUHJvY2Vzc1N0eWxlW2ldKG4sdCxyKSx0LnN0eWxlPW59fSx7a2V5Olwib25Qcm9jZXNzU2hlZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuaG9va3Mub25Qcm9jZXNzU2hlZXQubGVuZ3RoO3QrKyl0aGlzLmhvb2tzLm9uUHJvY2Vzc1NoZWV0W3RdKGUpfX0se2tleTpcIm9uVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj0wO248dGhpcy5ob29rcy5vblVwZGF0ZS5sZW5ndGg7bisrKXRoaXMuaG9va3Mub25VcGRhdGVbbl0oZSx0LHIpfX0se2tleTpcIm9uQ2hhbmdlVmFsdWVcIix2YWx1ZTpmdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPWUsaT0wO2k8dGhpcy5ob29rcy5vbkNoYW5nZVZhbHVlLmxlbmd0aDtpKyspbj10aGlzLmhvb2tzLm9uQ2hhbmdlVmFsdWVbaV0obix0LHIpO3JldHVybiBufX0se2tleTpcInVzZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXRoaXMuaG9va3NbdF0/dGhpcy5ob29rc1t0XS5wdXNoKGVbdF0pOigwLGkuZGVmYXVsdCkoITEsJ1tKU1NdIFVua25vd24gaG9vayBcIiVzXCIuJyx0KX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWwocigxMDIpKSxpPWwocigxMDMpKSxvPWwocigxMDQpKSxhPWwocigxMDUpKSxzPWwocigxMDYpKTtmdW5jdGlvbiBsKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz17XCJAY2hhcnNldFwiOm4uZGVmYXVsdCxcIkBpbXBvcnRcIjpuLmRlZmF1bHQsXCJAbmFtZXNwYWNlXCI6bi5kZWZhdWx0LFwiQGtleWZyYW1lc1wiOmkuZGVmYXVsdCxcIkBtZWRpYVwiOm8uZGVmYXVsdCxcIkBzdXBwb3J0c1wiOm8uZGVmYXVsdCxcIkBmb250LWZhY2VcIjphLmRlZmF1bHQsXCJAdmlld3BvcnRcIjpzLmRlZmF1bHQsXCJALW1zLXZpZXdwb3J0XCI6cy5kZWZhdWx0fSx1PU9iamVjdC5rZXlzKGMpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFJlZ0V4cChcIl5cIitlKSxyPWNbZV07cmV0dXJue29uQ3JlYXRlUnVsZTpmdW5jdGlvbihlLG4saSl7cmV0dXJuIHQudGVzdChlKT9uZXcgcihlLG4saSk6bnVsbH19fSkpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy50eXBlPVwic2ltcGxlXCIsdGhpcy5pc1Byb2Nlc3NlZD0hMSx0aGlzLmtleT10LHRoaXMudmFsdWU9cix0aGlzLm9wdGlvbnM9bn1yZXR1cm4gbihlLFt7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKXtmb3IodmFyIHQ9XCJcIixyPTA7cjx0aGlzLnZhbHVlLmxlbmd0aDtyKyspdCs9dGhpcy5rZXkrXCIgXCIrdGhpcy52YWx1ZVtyXStcIjtcIix0aGlzLnZhbHVlW3IrMV0mJih0Kz1cIlxcblwiKTtyZXR1cm4gdH1yZXR1cm4gdGhpcy5rZXkrXCIgXCIrdGhpcy52YWx1ZStcIjtcIn19XSksZX0oKTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9LGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigyMCkpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsaSl7Zm9yKHZhciBhIGluIGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnR5cGU9XCJrZXlmcmFtZXNcIix0aGlzLmlzUHJvY2Vzc2VkPSExLHRoaXMua2V5PXQsdGhpcy5vcHRpb25zPWksdGhpcy5ydWxlcz1uZXcgby5kZWZhdWx0KG4oe30saSx7cGFyZW50OnRoaXN9KSkscil0aGlzLnJ1bGVzLmFkZChhLHJbYV0sbih7fSx0aGlzLm9wdGlvbnMse3BhcmVudDp0aGlzLHNlbGVjdG9yOmF9KSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIGkoZSxbe2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2luZGVudDoxfSx0PXRoaXMucnVsZXMudG9TdHJpbmcoZSk7cmV0dXJuIHQmJih0Kz1cIlxcblwiKSx0aGlzLmtleStcIiB7XFxuXCIrdCtcIn1cIn19XSksZX0oKTt0LmRlZmF1bHQ9YX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9LGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigyMCkpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsaSl7Zm9yKHZhciBhIGluIGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnR5cGU9XCJjb25kaXRpb25hbFwiLHRoaXMuaXNQcm9jZXNzZWQ9ITEsdGhpcy5rZXk9dCx0aGlzLm9wdGlvbnM9aSx0aGlzLnJ1bGVzPW5ldyBvLmRlZmF1bHQobih7fSxpLHtwYXJlbnQ6dGhpc30pKSxyKXRoaXMucnVsZXMuYWRkKGEsclthXSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIGkoZSxbe2tleTpcImdldFJ1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydWxlcy5nZXQoZSl9fSx7a2V5OlwiaW5kZXhPZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGVzLmluZGV4T2YoZSl9fSx7a2V5OlwiYWRkUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10aGlzLnJ1bGVzLmFkZChlLHQscik7cmV0dXJuIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKG4pLG59fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7aW5kZW50OjF9LHQ9dGhpcy5ydWxlcy50b1N0cmluZyhlKTtyZXR1cm4gdD90aGlzLmtleStcIiB7XFxuXCIrdCtcIlxcbn1cIjpcIlwifX1dKSxlfSgpO3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIG49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBuPXRbcl07bi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKSxpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigyOSkpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnR5cGU9XCJmb250LWZhY2VcIix0aGlzLmlzUHJvY2Vzc2VkPSExLHRoaXMua2V5PXQsdGhpcy5zdHlsZT1yLHRoaXMub3B0aW9ucz1ufXJldHVybiBuKGUsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkodGhpcy5zdHlsZSkpe2Zvcih2YXIgdD1cIlwiLHI9MDtyPHRoaXMuc3R5bGUubGVuZ3RoO3IrKyl0Kz0oMCxpLmRlZmF1bHQpKHRoaXMua2V5LHRoaXMuc3R5bGVbcl0pLHRoaXMuc3R5bGVbcisxXSYmKHQrPVwiXFxuXCIpO3JldHVybiB0fXJldHVybigwLGkuZGVmYXVsdCkodGhpcy5rZXksdGhpcy5zdHlsZSxlKX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KHIoMjkpKTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyLG4peyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy50eXBlPVwidmlld3BvcnRcIix0aGlzLmlzUHJvY2Vzc2VkPSExLHRoaXMua2V5PXQsdGhpcy5zdHlsZT1yLHRoaXMub3B0aW9ucz1ufXJldHVybiBuKGUsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybigwLGkuZGVmYXVsdCkodGhpcy5rZXksdGhpcy5zdHlsZSxlKX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWEocigxOCkpLGk9YShyKDI0KSksbz1hKHIoNTIpKTtmdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10LmRlZmF1bHQ9e29uQ3JlYXRlUnVsZTpmdW5jdGlvbihlLHQscil7aWYoISgwLG8uZGVmYXVsdCkodCkpcmV0dXJuIG51bGw7dmFyIG49dCxhPSgwLGkuZGVmYXVsdCkoZSx7fSxyKTtyZXR1cm4gbi5zdWJzY3JpYmUoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWEucHJvcCh0LGVbdF0pfSkpLGF9LG9uUHJvY2Vzc1J1bGU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIG4uZGVmYXVsdCl7dmFyIHQ9ZSxyPXQuc3R5bGUsaT1mdW5jdGlvbihlKXt2YXIgbj1yW2VdO2lmKCEoMCxvLmRlZmF1bHQpKG4pKXJldHVyblwiY29udGludWVcIjtkZWxldGUgcltlXSxuLnN1YnNjcmliZSh7bmV4dDpmdW5jdGlvbihyKXt0LnByb3AoZSxyKX19KX07Zm9yKHZhciBhIGluIHIpaShhKX19fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWEocigyMCkpLGk9YShyKDE4KSksbz1hKHIoMjQpKTtmdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgcz1EYXRlLm5vdygpLGw9XCJmblZhbHVlc1wiK3MsYz1cImZuU3R5bGVcIisgKytzO3QuZGVmYXVsdD17b25DcmVhdGVSdWxlOmZ1bmN0aW9uKGUsdCxyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybiBudWxsO3ZhciBuPSgwLG8uZGVmYXVsdCkoZSx7fSxyKTtyZXR1cm4gbltjXT10LG59LG9uUHJvY2Vzc1N0eWxlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9e307Zm9yKHZhciBuIGluIGUpe3ZhciBpPWVbbl07XCJmdW5jdGlvblwiPT10eXBlb2YgaSYmKGRlbGV0ZSBlW25dLHJbbl09aSl9cmV0dXJuKHQ9dClbbF09cixlfSxvblVwZGF0ZTpmdW5jdGlvbihlLHQpe2lmKHQucnVsZXMgaW5zdGFuY2VvZiBuLmRlZmF1bHQpdC5ydWxlcy51cGRhdGUoZSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgaS5kZWZhdWx0KXtpZigodD10KVtsXSlmb3IodmFyIHIgaW4gdFtsXSl0LnByb3Aocix0W2xdW3JdKGUpKTt2YXIgbz0odD10KVtjXTtpZihvKXt2YXIgYT1vKGUpO2Zvcih2YXIgcyBpbiBhKXQucHJvcChzLGFbc10pfX19fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG4mJihuLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuLmtleSxuKX19cmV0dXJuIGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gciYmZSh0LnByb3RvdHlwZSxyKSxuJiZlKHQsbiksdH19KCksaT1sKHIoMTcpKSxvPWwocigzMSkpLGE9bChyKDE4KSkscz1sKHIoMjMpKTtmdW5jdGlvbiBsKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR8fCh0PWUoKSksdH19O2Z1bmN0aW9uIHUoZSx0KXt0cnl7cmV0dXJuIGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSh0KX1jYXRjaChlKXtyZXR1cm5cIlwifX1mdW5jdGlvbiBoKGUsdCxyKXt0cnl7dmFyIG49cjtpZihBcnJheS5pc0FycmF5KHIpJiYobj0oMCxzLmRlZmF1bHQpKHIsITApLFwiIWltcG9ydGFudFwiPT09cltyLmxlbmd0aC0xXSkpcmV0dXJuIGUuc3R5bGUuc2V0UHJvcGVydHkodCxuLFwiaW1wb3J0YW50XCIpLCEwO2Uuc3R5bGUuc2V0UHJvcGVydHkodCxuKX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBkKGUsdCl7dHJ5e2Uuc3R5bGUucmVtb3ZlUHJvcGVydHkodCl9Y2F0Y2goZSl7KDAsaS5kZWZhdWx0KSghMSwnW0pTU10gRE9NRXhjZXB0aW9uIFwiJXNcIiB3YXMgdGhyb3duLiBUcmllZCB0byByZW1vdmUgcHJvcGVydHkgXCIlc1wiLicsZS5tZXNzYWdlLHQpfX12YXIgcD0xLGY9NyxtPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjA7cmV0dXJuIGUuc3Vic3RyKHQsZS5pbmRleE9mKFwie1wiKS0xKX07cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQudHlwZT09PXApcmV0dXJuIHQuc2VsZWN0b3JUZXh0O2lmKHQudHlwZT09PWYpe3ZhciByPXQubmFtZTtpZihyKXJldHVyblwiQGtleWZyYW1lcyBcIityO3ZhciBuPXQuY3NzVGV4dDtyZXR1cm5cIkBcIitlKG4sbi5pbmRleE9mKFwia2V5ZnJhbWVzXCIpKX1yZXR1cm4gZSh0LmNzc1RleHQpfX0oKTtmdW5jdGlvbiBnKGUsdCl7cmV0dXJuIGUuc2VsZWN0b3JUZXh0PXQsZS5zZWxlY3RvclRleHQ9PT10fXZhciBfPWMoKGZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXX0pKSx5PWZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwLHQ9ITE7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBuPXt9O2V8fChlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSk7Zm9yKHZhciBpPTA7aTxyLmxlbmd0aDtpKyspe3ZhciBvPXJbaV07aWYobyBpbnN0YW5jZW9mIGEuZGVmYXVsdCl7dmFyIHM9by5zZWxlY3RvcjtpZihzJiYtMSE9PXMuaW5kZXhPZihcIlxcXFxcIikpe3R8fChfKCkuYXBwZW5kQ2hpbGQoZSksdD0hMCksZS50ZXh0Q29udGVudD1zK1wiIHt9XCI7dmFyIGw9ZS5zaGVldDtpZihsKXt2YXIgYz1sLmNzc1J1bGVzO2MmJihuW2NbMF0uc2VsZWN0b3JUZXh0XT1vLmtleSl9fX19cmV0dXJuIHQmJihfKCkucmVtb3ZlQ2hpbGQoZSksdD0hMSksbn19KCk7ZnVuY3Rpb24gdihlKXt2YXIgdD1vLmRlZmF1bHQucmVnaXN0cnk7aWYodC5sZW5ndGg+MCl7dmFyIHI9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTtpZihuLmF0dGFjaGVkJiZuLm9wdGlvbnMuaW5kZXg+dC5pbmRleCYmbi5vcHRpb25zLmluc2VydGlvblBvaW50PT09dC5pbnNlcnRpb25Qb2ludClyZXR1cm4gbn1yZXR1cm4gbnVsbH0odCxlKTtpZihyKXJldHVybiByLnJlbmRlcmVyLmVsZW1lbnQ7aWYocj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj1lLmxlbmd0aC0xO3I+PTA7ci0tKXt2YXIgbj1lW3JdO2lmKG4uYXR0YWNoZWQmJm4ub3B0aW9ucy5pbnNlcnRpb25Qb2ludD09PXQuaW5zZXJ0aW9uUG9pbnQpcmV0dXJuIG59cmV0dXJuIG51bGx9KHQsZSkpcmV0dXJuIHIucmVuZGVyZXIuZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmd9dmFyIG49ZS5pbnNlcnRpb25Qb2ludDtpZihuJiZcInN0cmluZ1wiPT10eXBlb2Ygbil7dmFyIGE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PV8oKSxyPTA7cjx0LmNoaWxkTm9kZXMubGVuZ3RoO3IrKyl7dmFyIG49dC5jaGlsZE5vZGVzW3JdO2lmKDg9PT1uLm5vZGVUeXBlJiZuLm5vZGVWYWx1ZS50cmltKCk9PT1lKXJldHVybiBufXJldHVybiBudWxsfShuKTtpZihhKXJldHVybiBhLm5leHRTaWJsaW5nOygwLGkuZGVmYXVsdCkoXCJqc3NcIj09PW4sJ1tKU1NdIEluc2VydGlvbiBwb2ludCBcIiVzXCIgbm90IGZvdW5kLicsbil9cmV0dXJuIG51bGx9dmFyIHg9YygoZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW3Byb3BlcnR5PVwiY3NwLW5vbmNlXCJdJyk7cmV0dXJuIGU/ZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpOm51bGx9KSksYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmdldFByb3BlcnR5VmFsdWU9dSx0aGlzLnNldFByb3BlcnR5PWgsdGhpcy5yZW1vdmVQcm9wZXJ0eT1kLHRoaXMuc2V0U2VsZWN0b3I9Zyx0aGlzLmdldEtleT1tLHRoaXMuZ2V0VW5lc2NhcGVkS2V5c01hcD15LHRoaXMuaGFzSW5zZXJ0ZWRSdWxlcz0hMSx0JiZvLmRlZmF1bHQuYWRkKHQpLHRoaXMuc2hlZXQ9dDt2YXIgcj10aGlzLnNoZWV0P3RoaXMuc2hlZXQub3B0aW9uczp7fSxuPXIubWVkaWEsaT1yLm1ldGEsYT1yLmVsZW1lbnQ7dGhpcy5lbGVtZW50PWF8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSx0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1qc3NcIixcIlwiKSxuJiZ0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIixuKSxpJiZ0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1tZXRhXCIsaSk7dmFyIHM9eCgpO3MmJnRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLHMpfXJldHVybiBuKGUsW3trZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbigpeyF0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSYmdGhpcy5zaGVldCYmKHRoaXMuaGFzSW5zZXJ0ZWRSdWxlcyYmKHRoaXMuZGVwbG95KCksdGhpcy5oYXNJbnNlcnRlZFJ1bGVzPSExKSxmdW5jdGlvbihlLHQpe3ZhciByPXQuaW5zZXJ0aW9uUG9pbnQsbj12KHQpO2lmKG4pe3ZhciBvPW4ucGFyZW50Tm9kZTtvJiZvLmluc2VydEJlZm9yZShlLG4pfWVsc2UgaWYociYmXCJudW1iZXJcIj09dHlwZW9mIHIubm9kZVR5cGUpe3ZhciBhPXIscz1hLnBhcmVudE5vZGU7cz9zLmluc2VydEJlZm9yZShlLGEubmV4dFNpYmxpbmcpOigwLGkuZGVmYXVsdCkoITEsXCJbSlNTXSBJbnNlcnRpb24gcG9pbnQgaXMgbm90IGluIHRoZSBET00uXCIpfWVsc2UgXygpLmluc2VydEJlZm9yZShlLG4pfSh0aGlzLmVsZW1lbnQsdGhpcy5zaGVldC5vcHRpb25zKSl9fSx7a2V5OlwiZGV0YWNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpfX0se2tleTpcImRlcGxveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zaGVldCYmKHRoaXMuZWxlbWVudC50ZXh0Q29udGVudD1cIlxcblwiK3RoaXMuc2hlZXQudG9TdHJpbmcoKStcIlxcblwiKX19LHtrZXk6XCJpbnNlcnRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLmVsZW1lbnQuc2hlZXQsbj1yLmNzc1J1bGVzLG89ZS50b1N0cmluZygpO2lmKHR8fCh0PW4ubGVuZ3RoKSwhbylyZXR1cm4hMTt0cnl7ci5pbnNlcnRSdWxlKG8sdCl9Y2F0Y2godCl7cmV0dXJuKDAsaS5kZWZhdWx0KSghMSxcIltKU1NdIENhbiBub3QgaW5zZXJ0IGFuIHVuc3VwcG9ydGVkIHJ1bGUgXFxuXFxyJXNcIixlKSwhMX1yZXR1cm4gdGhpcy5oYXNJbnNlcnRlZFJ1bGVzPSEwLG5bdF19fSx7a2V5OlwiZGVsZXRlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWxlbWVudC5zaGVldCxyPXRoaXMuaW5kZXhPZihlKTtyZXR1cm4tMSE9PXImJih0LmRlbGV0ZVJ1bGUociksITApfX0se2tleTpcImluZGV4T2ZcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5lbGVtZW50LnNoZWV0LmNzc1J1bGVzLHI9MDtyPHQubGVuZ3RoO3IrKylpZihlPT09dFtyXSlyZXR1cm4gcjtyZXR1cm4tMX19LHtrZXk6XCJyZXBsYWNlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy5pbmRleE9mKGUpLG49dGhpcy5pbnNlcnRSdWxlKHQscik7cmV0dXJuIHRoaXMuZWxlbWVudC5zaGVldC5kZWxldGVSdWxlKHIpLG59fSx7a2V5OlwiZ2V0UnVsZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuc2hlZXQuY3NzUnVsZXN9fV0pLGV9KCk7dC5kZWZhdWx0PWJ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBuJiYobi53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbi5rZXksbil9fXJldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuIHImJmUodC5wcm90b3R5cGUsciksbiYmZSh0LG4pLHR9fSgpO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSl9cmV0dXJuIG4oZSxbe2tleTpcInNldFByb3BlcnR5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LHtrZXk6XCJnZXRQcm9wZXJ0eVZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifX0se2tleTpcInJlbW92ZVByb3BlcnR5XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwic2V0U2VsZWN0b3JcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiEwfX0se2tleTpcImdldEtleVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19LHtrZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJkZXRhY2hcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJkZXBsb3lcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJpbnNlcnRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMX19LHtrZXk6XCJkZWxldGVSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LHtrZXk6XCJyZXBsYWNlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSx7a2V5OlwiZ2V0UnVsZXNcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJpbmRleE9mXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4tMX19XSksZX0oKTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9O3QuZGVmYXVsdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIG49ZS5nZXRSdWxlKHIpO3JldHVybiBuP24uc2VsZWN0b3I6KCgwLGkuZGVmYXVsdCkoITEsXCJbSlNTXSBDb3VsZCBub3QgZmluZCB0aGUgcmVmZXJlbmNlZCBydWxlICVzIGluICVzLlwiLHIsZS5vcHRpb25zLm1ldGF8fGUpLHIpfX12YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4tMSE9PWUuaW5kZXhPZihcIiZcIil9O2Z1bmN0aW9uIHIoZSxyKXtmb3IodmFyIG49ci5zcGxpdChvKSxpPWUuc3BsaXQobykscz1cIlwiLGw9MDtsPG4ubGVuZ3RoO2wrKylmb3IodmFyIGM9bltsXSx1PTA7dTxpLmxlbmd0aDt1Kyspe3ZhciBoPWlbdV07cyYmKHMrPVwiLCBcIikscys9dChoKT9oLnJlcGxhY2UoYSxjKTpjK1wiIFwiK2h9cmV0dXJuIHN9ZnVuY3Rpb24gbChlLHQscil7aWYocilyZXR1cm4gbih7fSxyLHtpbmRleDpyLmluZGV4KzF9KTt2YXIgaT1lLm9wdGlvbnMubmVzdGluZ0xldmVsO3JldHVybiBpPXZvaWQgMD09PWk/MTppKzEsbih7fSxlLm9wdGlvbnMse25lc3RpbmdMZXZlbDppLGluZGV4OnQuaW5kZXhPZihlKSsxfSl9cmV0dXJue29uUHJvY2Vzc1N0eWxlOmZ1bmN0aW9uKGksbyl7aWYoXCJzdHlsZVwiIT09by50eXBlKXJldHVybiBpO3ZhciBhPW8ub3B0aW9ucy5wYXJlbnQsYz12b2lkIDAsdT12b2lkIDA7Zm9yKHZhciBoIGluIGkpe3ZhciBkPXQoaCkscD1cIkBcIj09PWhbMF07aWYoZHx8cCl7aWYoYz1sKG8sYSxjKSxkKXt2YXIgZj1yKGgsby5zZWxlY3Rvcik7dXx8KHU9ZShhKSksZj1mLnJlcGxhY2Uocyx1KSxhLmFkZFJ1bGUoZixpW2hdLG4oe30sYyx7c2VsZWN0b3I6Zn0pKX1lbHNlIHAmJmEuYWRkUnVsZShoLG51bGwsYykuYWRkUnVsZShvLmtleSxpW2hdLHtzZWxlY3RvcjpvLnNlbGVjdG9yfSk7ZGVsZXRlIGlbaF19fXJldHVybiBpfX19O3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigxMTIpKTt2YXIgbz0vXFxzKixcXHMqL2csYT0vJi9nLHM9L1xcJChbXFx3LV0rKS9nfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybntvblByb2Nlc3NTdHlsZTpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdPWkoZVt0XSk7cmV0dXJuIGV9cmV0dXJuIGkoZSl9LG9uQ2hhbmdlVmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPSgwLG4uZGVmYXVsdCkodCk7cmV0dXJuIHQ9PT1pP2U6KHIucHJvcChpLGUpLG51bGwpfX19O3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0ocigxMTQpKTtmdW5jdGlvbiBpKGUpe3ZhciB0PXt9O2Zvcih2YXIgciBpbiBlKXRbKDAsbi5kZWZhdWx0KShyKV09ZVtyXTtyZXR1cm4gZS5mYWxsYmFja3MmJihBcnJheS5pc0FycmF5KGUuZmFsbGJhY2tzKT90LmZhbGxiYWNrcz1lLmZhbGxiYWNrcy5tYXAoaSk6dC5mYWxsYmFja3M9aShlLmZhbGxiYWNrcykpLHR9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ci5yKHQpO3ZhciBuPS9bQS1aXS9nLGk9L15tcy0vLG89e307ZnVuY3Rpb24gYShlKXtyZXR1cm5cIi1cIitlLnRvTG93ZXJDYXNlKCl9dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2lmKG8uaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuIG9bZV07dmFyIHQ9ZS5yZXBsYWNlKG4sYSk7cmV0dXJuIG9bZV09aS50ZXN0KHQpP1wiLVwiK3Q6dH19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTtmdW5jdGlvbiBpKGUpe3ZhciB0PS8oLVthLXpdKS9nLHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV0udG9VcHBlckNhc2UoKX0sbj17fTtmb3IodmFyIGkgaW4gZSluW2ldPWVbaV0sbltpLnJlcGxhY2UodCxyKV09ZVtpXTtyZXR1cm4gbn10LmRlZmF1bHQ9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1pKGUpO2Z1bmN0aW9uIHIoZSxyKXtpZihcInN0eWxlXCIhPT1yLnR5cGUpcmV0dXJuIGU7Zm9yKHZhciBuIGluIGUpZVtuXT1hKG4sZVtuXSx0KTtyZXR1cm4gZX1mdW5jdGlvbiBuKGUscil7cmV0dXJuIGEocixlLHQpfXJldHVybntvblByb2Nlc3NTdHlsZTpyLG9uQ2hhbmdlVmFsdWU6bn19O3ZhciBvPWkoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShyKDExNikpLmRlZmF1bHQpO2Z1bmN0aW9uIGEoZSx0LHIpe2lmKCF0KXJldHVybiB0O3ZhciBpPXQscz12b2lkIDA9PT10P1widW5kZWZpbmVkXCI6bih0KTtzd2l0Y2goXCJvYmplY3RcIj09PXMmJkFycmF5LmlzQXJyYXkodCkmJihzPVwiYXJyYXlcIikscyl7Y2FzZVwib2JqZWN0XCI6aWYoXCJmYWxsYmFja3NcIj09PWUpe2Zvcih2YXIgbCBpbiB0KXRbbF09YShsLHRbbF0scik7YnJlYWt9Zm9yKHZhciBjIGluIHQpdFtjXT1hKGUrXCItXCIrYyx0W2NdLHIpO2JyZWFrO2Nhc2VcImFycmF5XCI6Zm9yKHZhciB1PTA7dTx0Lmxlbmd0aDt1KyspdFt1XT1hKGUsdFt1XSxyKTticmVhaztjYXNlXCJudW1iZXJcIjowIT09dCYmKGk9dCsocltlXXx8b1tlXXx8XCJcIikpfXJldHVybiBpfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD17XCJhbmltYXRpb24tZGVsYXlcIjpcIm1zXCIsXCJhbmltYXRpb24tZHVyYXRpb25cIjpcIm1zXCIsXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6XCJweFwiLFwiYmFja2dyb3VuZC1wb3NpdGlvbi14XCI6XCJweFwiLFwiYmFja2dyb3VuZC1wb3NpdGlvbi15XCI6XCJweFwiLFwiYmFja2dyb3VuZC1zaXplXCI6XCJweFwiLGJvcmRlcjpcInB4XCIsXCJib3JkZXItYm90dG9tXCI6XCJweFwiLFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiOlwicHhcIixcImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXCI6XCJweFwiLFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiOlwicHhcIixcImJvcmRlci1sZWZ0XCI6XCJweFwiLFwiYm9yZGVyLWxlZnQtd2lkdGhcIjpcInB4XCIsXCJib3JkZXItcmFkaXVzXCI6XCJweFwiLFwiYm9yZGVyLXJpZ2h0XCI6XCJweFwiLFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCI6XCJweFwiLFwiYm9yZGVyLXNwYWNpbmdcIjpcInB4XCIsXCJib3JkZXItdG9wXCI6XCJweFwiLFwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiOlwicHhcIixcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzXCI6XCJweFwiLFwiYm9yZGVyLXRvcC13aWR0aFwiOlwicHhcIixcImJvcmRlci13aWR0aFwiOlwicHhcIixcImJvcmRlci1hZnRlci13aWR0aFwiOlwicHhcIixcImJvcmRlci1iZWZvcmUtd2lkdGhcIjpcInB4XCIsXCJib3JkZXItZW5kLXdpZHRoXCI6XCJweFwiLFwiYm9yZGVyLWhvcml6b250YWwtc3BhY2luZ1wiOlwicHhcIixcImJvcmRlci1zdGFydC13aWR0aFwiOlwicHhcIixcImJvcmRlci12ZXJ0aWNhbC1zcGFjaW5nXCI6XCJweFwiLGJvdHRvbTpcInB4XCIsXCJib3gtc2hhZG93XCI6XCJweFwiLFwiY29sdW1uLWdhcFwiOlwicHhcIixcImNvbHVtbi1ydWxlXCI6XCJweFwiLFwiY29sdW1uLXJ1bGUtd2lkdGhcIjpcInB4XCIsXCJjb2x1bW4td2lkdGhcIjpcInB4XCIsXCJmbGV4LWJhc2lzXCI6XCJweFwiLFwiZm9udC1zaXplXCI6XCJweFwiLFwiZm9udC1zaXplLWRlbHRhXCI6XCJweFwiLGhlaWdodDpcInB4XCIsbGVmdDpcInB4XCIsXCJsZXR0ZXItc3BhY2luZ1wiOlwicHhcIixcImxvZ2ljYWwtaGVpZ2h0XCI6XCJweFwiLFwibG9naWNhbC13aWR0aFwiOlwicHhcIixtYXJnaW46XCJweFwiLFwibWFyZ2luLWFmdGVyXCI6XCJweFwiLFwibWFyZ2luLWJlZm9yZVwiOlwicHhcIixcIm1hcmdpbi1ib3R0b21cIjpcInB4XCIsXCJtYXJnaW4tbGVmdFwiOlwicHhcIixcIm1hcmdpbi1yaWdodFwiOlwicHhcIixcIm1hcmdpbi10b3BcIjpcInB4XCIsXCJtYXgtaGVpZ2h0XCI6XCJweFwiLFwibWF4LXdpZHRoXCI6XCJweFwiLFwibWFyZ2luLWVuZFwiOlwicHhcIixcIm1hcmdpbi1zdGFydFwiOlwicHhcIixcIm1hc2stcG9zaXRpb24teFwiOlwicHhcIixcIm1hc2stcG9zaXRpb24teVwiOlwicHhcIixcIm1hc2stc2l6ZVwiOlwicHhcIixcIm1heC1sb2dpY2FsLWhlaWdodFwiOlwicHhcIixcIm1heC1sb2dpY2FsLXdpZHRoXCI6XCJweFwiLFwibWluLWhlaWdodFwiOlwicHhcIixcIm1pbi13aWR0aFwiOlwicHhcIixcIm1pbi1sb2dpY2FsLWhlaWdodFwiOlwicHhcIixcIm1pbi1sb2dpY2FsLXdpZHRoXCI6XCJweFwiLG1vdGlvbjpcInB4XCIsXCJtb3Rpb24tb2Zmc2V0XCI6XCJweFwiLG91dGxpbmU6XCJweFwiLFwib3V0bGluZS1vZmZzZXRcIjpcInB4XCIsXCJvdXRsaW5lLXdpZHRoXCI6XCJweFwiLHBhZGRpbmc6XCJweFwiLFwicGFkZGluZy1ib3R0b21cIjpcInB4XCIsXCJwYWRkaW5nLWxlZnRcIjpcInB4XCIsXCJwYWRkaW5nLXJpZ2h0XCI6XCJweFwiLFwicGFkZGluZy10b3BcIjpcInB4XCIsXCJwYWRkaW5nLWFmdGVyXCI6XCJweFwiLFwicGFkZGluZy1iZWZvcmVcIjpcInB4XCIsXCJwYWRkaW5nLWVuZFwiOlwicHhcIixcInBhZGRpbmctc3RhcnRcIjpcInB4XCIsXCJwZXJzcGVjdGl2ZS1vcmlnaW4teFwiOlwiJVwiLFwicGVyc3BlY3RpdmUtb3JpZ2luLXlcIjpcIiVcIixwZXJzcGVjdGl2ZTpcInB4XCIscmlnaHQ6XCJweFwiLFwic2hhcGUtbWFyZ2luXCI6XCJweFwiLHNpemU6XCJweFwiLFwidGV4dC1pbmRlbnRcIjpcInB4XCIsXCJ0ZXh0LXN0cm9rZVwiOlwicHhcIixcInRleHQtc3Ryb2tlLXdpZHRoXCI6XCJweFwiLHRvcDpcInB4XCIsXCJ0cmFuc2Zvcm0tb3JpZ2luXCI6XCIlXCIsXCJ0cmFuc2Zvcm0tb3JpZ2luLXhcIjpcIiVcIixcInRyYW5zZm9ybS1vcmlnaW4teVwiOlwiJVwiLFwidHJhbnNmb3JtLW9yaWdpbi16XCI6XCIlXCIsXCJ0cmFuc2l0aW9uLWRlbGF5XCI6XCJtc1wiLFwidHJhbnNpdGlvbi1kdXJhdGlvblwiOlwibXNcIixcInZlcnRpY2FsLWFsaWduXCI6XCJweFwiLHdpZHRoOlwicHhcIixcIndvcmQtc3BhY2luZ1wiOlwicHhcIixcImJveC1zaGFkb3cteFwiOlwicHhcIixcImJveC1zaGFkb3cteVwiOlwicHhcIixcImJveC1zaGFkb3ctYmx1clwiOlwicHhcIixcImJveC1zaGFkb3ctc3ByZWFkXCI6XCJweFwiLFwiZm9udC1saW5lLWhlaWdodFwiOlwicHhcIixcInRleHQtc2hhZG93LXhcIjpcInB4XCIsXCJ0ZXh0LXNoYWRvdy15XCI6XCJweFwiLFwidGV4dC1zaGFkb3ctYmx1clwiOlwicHhcIn19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57b25Qcm9jZXNzUnVsZTpmdW5jdGlvbihlKXtcImtleWZyYW1lc1wiPT09ZS50eXBlJiYoZS5rZXk9XCJAXCIrbi5wcmVmaXguY3NzK2Uua2V5LnN1YnN0cigxKSl9LG9uUHJvY2Vzc1N0eWxlOmZ1bmN0aW9uKGUsdCl7aWYoXCJzdHlsZVwiIT09dC50eXBlKXJldHVybiBlO2Zvcih2YXIgciBpbiBlKXt2YXIgaT1lW3JdLG89ITEsYT1uLnN1cHBvcnRlZFByb3BlcnR5KHIpO2EmJmEhPT1yJiYobz0hMCk7dmFyIHM9ITEsbD1uLnN1cHBvcnRlZFZhbHVlKGEsaSk7bCYmbCE9PWkmJihzPSEwKSwob3x8cykmJihvJiZkZWxldGUgZVtyXSxlW2F8fHJdPWx8fGkpfXJldHVybiBlfSxvbkNoYW5nZVZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uc3VwcG9ydGVkVmFsdWUodCxlKX19fTt2YXIgbj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHIoMTE4KSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnN1cHBvcnRlZFZhbHVlPXQuc3VwcG9ydGVkUHJvcGVydHk9dC5wcmVmaXg9dm9pZCAwO3ZhciBuPWEocigzMikpLGk9YShyKDExOSkpLG89YShyKDEyMSkpO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuZGVmYXVsdD17cHJlZml4Om4uZGVmYXVsdCxzdXBwb3J0ZWRQcm9wZXJ0eTppLmRlZmF1bHQsc3VwcG9ydGVkVmFsdWU6by5kZWZhdWx0fSx0LnByZWZpeD1uLmRlZmF1bHQsdC5zdXBwb3J0ZWRQcm9wZXJ0eT1pLmRlZmF1bHQsdC5zdXBwb3J0ZWRWYWx1ZT1vLmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7aWYoIXMpcmV0dXJuIGU7aWYobnVsbCE9bFtlXSlyZXR1cm4gbFtlXTsoMCxvLmRlZmF1bHQpKGUpaW4gcy5zdHlsZT9sW2VdPWU6aS5kZWZhdWx0LmpzKygwLG8uZGVmYXVsdCkoXCItXCIrZSlpbiBzLnN0eWxlP2xbZV09aS5kZWZhdWx0LmNzcytlOmxbZV09ITE7cmV0dXJuIGxbZV19O3ZhciBuPWEocigyNSkpLGk9YShyKDMyKSksbz1hKHIoMTIwKSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHM9dm9pZCAwLGw9e307aWYobi5kZWZhdWx0KXtzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO3ZhciBjPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcIlwiKTtmb3IodmFyIHUgaW4gYylpc05hTih1KXx8KGxbY1t1XV09Y1t1XSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UobixpKX07dmFyIG49L1stXFxzXSsoLik/L2c7ZnVuY3Rpb24gaShlLHQpe3JldHVybiB0P3QudG9VcHBlckNhc2UoKTpcIlwifX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCFzKXJldHVybiB0O2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0fHwhaXNOYU4ocGFyc2VJbnQodCwxMCkpKXJldHVybiB0O3ZhciByPWUrdDtpZihudWxsIT1hW3JdKXJldHVybiBhW3JdO3RyeXtzLnN0eWxlW2VdPXR9Y2F0Y2goZSl7cmV0dXJuIGFbcl09ITEsITF9XCJcIiE9PXMuc3R5bGVbZV0/YVtyXT10OihcIi1tcy1mbGV4XCI9PT0odD1pLmRlZmF1bHQuY3NzK3QpJiYodD1cIi1tcy1mbGV4Ym94XCIpLHMuc3R5bGVbZV09dCxcIlwiIT09cy5zdHlsZVtlXSYmKGFbcl09dCkpO2Fbcl18fChhW3JdPSExKTtyZXR1cm4gcy5zdHlsZVtlXT1cIlwiLGFbcl19O3ZhciBuPW8ocigyNSkpLGk9byhyKDMyKSk7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGE9e30scz12b2lkIDA7bi5kZWZhdWx0JiYocz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7cmV0dXJuIGUubGVuZ3RoLXQubGVuZ3RofXJldHVybntvblByb2Nlc3NTdHlsZTpmdW5jdGlvbih0LHIpe2lmKFwic3R5bGVcIiE9PXIudHlwZSlyZXR1cm4gdDt2YXIgbj17fSxpPU9iamVjdC5rZXlzKHQpLnNvcnQoZSk7Zm9yKHZhciBvIGluIGkpbltpW29dXT10W2lbb11dO3JldHVybiBufX19fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigxMjQpLGk9cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5NdWlUaGVtZVByb3ZpZGVyT2xkPXZvaWQgMDt2YXIgbz1pKHIoMikpLGE9aShyKDUpKSxzPWkocigxMCkpLGw9aShyKDExKSksYz1pKHIoMTIpKSx1PWkocigxMykpLGg9aShyKDE0KSksZD1pKHIoMSkpLHA9aShyKDMpKSxmPShpKHIoNikpLGkocigxMjcpKSksbT1yKDcpLGc9bihyKDM0KSksXz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscil7dmFyIG47cmV0dXJuKDAscy5kZWZhdWx0KSh0aGlzLHQpLChuPSgwLGMuZGVmYXVsdCkodGhpcywoMCx1LmRlZmF1bHQpKHQpLmNhbGwodGhpcykpKS5icm9hZGNhc3Q9KDAsZi5kZWZhdWx0KSgpLG4ub3V0ZXJUaGVtZT1nLmRlZmF1bHQuaW5pdGlhbChyKSxuLmJyb2FkY2FzdC5zZXRTdGF0ZShuLm1lcmdlT3V0ZXJMb2NhbFRoZW1lKGUudGhlbWUpKSxufXJldHVybigwLGguZGVmYXVsdCkodCxlKSwoMCxsLmRlZmF1bHQpKHQsW3trZXk6XCJnZXRDaGlsZENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5wcm9wcyxyPXQuZGlzYWJsZVN0eWxlc0dlbmVyYXRpb24sbj10LnNoZWV0c0NhY2hlLGk9dC5zaGVldHNNYW5hZ2VyLG89dGhpcy5jb250ZXh0Lm11aVRoZW1lUHJvdmlkZXJPcHRpb25zfHx7fTtyZXR1cm4gdm9pZCAwIT09ciYmKG8uZGlzYWJsZVN0eWxlc0dlbmVyYXRpb249ciksdm9pZCAwIT09biYmKG8uc2hlZXRzQ2FjaGU9biksdm9pZCAwIT09aSYmKG8uc2hlZXRzTWFuYWdlcj1pKSxlPXt9LCgwLGEuZGVmYXVsdCkoZSxnLkNIQU5ORUwsdGhpcy5icm9hZGNhc3QpLCgwLGEuZGVmYXVsdCkoZSxcIm11aVRoZW1lUHJvdmlkZXJPcHRpb25zXCIsbyksZX19LHtrZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnVuc3Vic2NyaWJlSWQ9Zy5kZWZhdWx0LnN1YnNjcmliZSh0aGlzLmNvbnRleHQsKGZ1bmN0aW9uKHQpe2Uub3V0ZXJUaGVtZT10LGUuYnJvYWRjYXN0LnNldFN0YXRlKGUubWVyZ2VPdXRlckxvY2FsVGhlbWUoZS5wcm9wcy50aGVtZSkpfSkpfX0se2tleTpcImNvbXBvbmVudERpZFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucHJvcHMudGhlbWUhPT1lLnRoZW1lJiZ0aGlzLmJyb2FkY2FzdC5zZXRTdGF0ZSh0aGlzLm1lcmdlT3V0ZXJMb2NhbFRoZW1lKHRoaXMucHJvcHMudGhlbWUpKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMudW5zdWJzY3JpYmVJZCYmZy5kZWZhdWx0LnVuc3Vic2NyaWJlKHRoaXMuY29udGV4dCx0aGlzLnVuc3Vic2NyaWJlSWQpfX0se2tleTpcIm1lcmdlT3V0ZXJMb2NhbFRoZW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKHRoaXMub3V0ZXJUaGVtZSk6dGhpcy5vdXRlclRoZW1lPygwLG8uZGVmYXVsdCkoe30sdGhpcy5vdXRlclRoZW1lLGUpOmV9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbn19XSksdH0oZC5kZWZhdWx0LkNvbXBvbmVudCk7dC5NdWlUaGVtZVByb3ZpZGVyT2xkPV8sXy5jaGlsZENvbnRleHRUeXBlcz0oMCxvLmRlZmF1bHQpKHt9LGcuZGVmYXVsdC5jb250ZXh0VHlwZXMse211aVRoZW1lUHJvdmlkZXJPcHRpb25zOnAuZGVmYXVsdC5vYmplY3R9KSxfLmNvbnRleHRUeXBlcz0oMCxvLmRlZmF1bHQpKHt9LGcuZGVmYXVsdC5jb250ZXh0VHlwZXMse211aVRoZW1lUHJvdmlkZXJPcHRpb25zOnAuZGVmYXVsdC5vYmplY3R9KSxtLnBvbnlmaWxsR2xvYmFsLl9fTVVJX1NUWUxFU19ffHwobS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXz17fSksbS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXy5NdWlUaGVtZVByb3ZpZGVyfHwobS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXy5NdWlUaGVtZVByb3ZpZGVyPV8pO3ZhciB5PW0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18uTXVpVGhlbWVQcm92aWRlcjt0LmRlZmF1bHQ9eX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTUpLmRlZmF1bHQ7ZnVuY3Rpb24gaShlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciB0PW5ldyBXZWFrTWFwLHI9bmV3IFdlYWtNYXA7cmV0dXJuKGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/cjp0fSkoZSl9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PW4oZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJue2RlZmF1bHQ6ZX07dmFyIHI9aSh0KTtpZihyJiZyLmhhcyhlKSlyZXR1cm4gci5nZXQoZSk7dmFyIG89e30sYT1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBzIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1zJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSl7dmFyIGw9YT9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscyk6bnVsbDtsJiYobC5nZXR8fGwuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobyxzLGwpOm9bc109ZVtzXX1yZXR1cm4gby5kZWZhdWx0PWUsciYmci5zZXQoZSxvKSxvfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDEyNik7ZnVuY3Rpb24gaSgpe31mdW5jdGlvbiBvKCl7fW8ucmVzZXRXYXJuaW5nQ2FjaGU9aSxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxyLGksbyxhKXtpZihhIT09bil7dmFyIHM9bmV3IEVycm9yKFwiQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlc1wiKTt0aHJvdyBzLm5hbWU9XCJJbnZhcmlhbnQgVmlvbGF0aW9uXCIsc319ZnVuY3Rpb24gdCgpe3JldHVybiBlfWUuaXNSZXF1aXJlZD1lO3ZhciByPXthcnJheTplLGJpZ2ludDplLGJvb2w6ZSxmdW5jOmUsbnVtYmVyOmUsb2JqZWN0OmUsc3RyaW5nOmUsc3ltYm9sOmUsYW55OmUsYXJyYXlPZjp0LGVsZW1lbnQ6ZSxlbGVtZW50VHlwZTplLGluc3RhbmNlT2Y6dCxub2RlOmUsb2JqZWN0T2Y6dCxvbmVPZjp0LG9uZU9mVHlwZTp0LHNoYXBlOnQsZXhhY3Q6dCxjaGVja1Byb3BUeXBlczpvLHJlc2V0V2FybmluZ0NhY2hlOml9O3JldHVybiByLlByb3BUeXBlcz1yLHJ9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPVwiU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRURcIn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3Iucih0KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj0xLG49ZTtyZXR1cm57Z2V0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gbn0sc2V0U3RhdGU6ZnVuY3Rpb24oZSl7bj1lO2Zvcih2YXIgcj1PYmplY3Qua2V5cyh0KSxpPTAsbz1yLmxlbmd0aDtpPG87aSsrKXRbcltpXV0mJnRbcltpXV0oZSl9LHN1YnNjcmliZTpmdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7dmFyIG49cjtyZXR1cm4gdFtuXT1lLHIrPTEsbn0sdW5zdWJzY3JpYmU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRbZV19fX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgbj17anNzOlwiNjRhNTVkNTc4Zjg1NmQyNThkYzM0NWIwOTRhMmEyYjNcIixzaGVldHNSZWdpc3RyeTpcImQ0YmQwYmFhY2JjNTJiYmQ0OGJiYjllYjI0MzQ0ZWNkXCIsc2hlZXRPcHRpb25zOlwiNmZjNTcwZDZiZDYxMzgzODE5ZDBmOWU3NDA3YzQ1MmRcIn07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9bihyKDIpKTtuKHIoNikpLHIoNyk7dmFyIG89ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmJhc2VDbGFzc2VzLHI9ZS5uZXdDbGFzc2VzO2lmKGUuQ29tcG9uZW50LCFyKXJldHVybiB0O3ZhciBuPSgwLGkuZGVmYXVsdCkoe30sdCk7cmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JbZV0mJihuW2VdPVwiXCIuY29uY2F0KHRbZV0sXCIgXCIpLmNvbmNhdChyW2VdKSl9KSksbn07dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuPXtzZXQ6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9ZS5nZXQodCk7aXx8KGk9bmV3IE1hcCxlLnNldCh0LGkpKSxpLnNldChyLG4pfSxnZXQ6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUuZ2V0KHQpO3JldHVybiBuP24uZ2V0KHIpOnZvaWQgMH0sZGVsZXRlOmZ1bmN0aW9uKGUsdCxyKXtlLmdldCh0KS5kZWxldGUocil9fTt0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1uKHIoMikpLG89KG4ocigxNSkpLG4ocig2KSksbihyKDIyKSkpO2Z1bmN0aW9uIGEoZSx0KXtyZXR1cm4gdH12YXIgcz1mdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlO3JldHVybntjcmVhdGU6ZnVuY3Rpb24ocixuKXt2YXIgcz10P2Uocik6ZTtpZighbnx8IXIub3ZlcnJpZGVzfHwhci5vdmVycmlkZXNbbl0pcmV0dXJuIHM7dmFyIGw9ci5vdmVycmlkZXNbbl0sYz0oMCxpLmRlZmF1bHQpKHt9LHMpO3JldHVybiBPYmplY3Qua2V5cyhsKS5mb3JFYWNoKChmdW5jdGlvbihlKXtjW2VdPSgwLG8uZGVmYXVsdCkoY1tlXSxsW2VdLHthcnJheU1lcmdlOmF9KX0pKSxjfSxvcHRpb25zOnt9LHRoZW1pbmdFbmFibGVkOnR9fTt0LmRlZmF1bHQ9c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50aGVtZSxyPWUubmFtZSxuPWUucHJvcHM7aWYoIXQucHJvcHN8fCFyfHwhdC5wcm9wc1tyXSlyZXR1cm4gbjt2YXIgaSxvPXQucHJvcHNbcl07Zm9yKGkgaW4gbyl2b2lkIDA9PT1uW2ldJiYobltpXT1vW2ldKTtyZXR1cm4gbn07dC5kZWZhdWx0PW59LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGksbz1uKHIoMikpLGE9bihyKDQpKSxzPW4ocigxMCkpLGw9bihyKDExKSksYz1uKHIoMTIpKSx1PW4ocigxMykpLGg9bihyKDE0KSksZD1uKHIoMSkpLHA9KG4ocigzKSksbihyKDM1KSkpLGY9cig3KSxtPW4ocigyOCkpLGc9bihyKDM0KSk7ZnVuY3Rpb24gXygpe3JldHVybiBpfHwoaT0oMCxtLmRlZmF1bHQpKHt0eXBvZ3JhcGh5OntzdXBwcmVzc1dhcm5pbmc6ITB9fSkpfWYucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX198fChmLnBvbnlmaWxsR2xvYmFsLl9fTVVJX1NUWUxFU19fPXt9KSxmLnBvbnlmaWxsR2xvYmFsLl9fTVVJX1NUWUxFU19fLndpdGhUaGVtZXx8KGYucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFRoZW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSx0KXt2YXIgbjtyZXR1cm4oMCxzLmRlZmF1bHQpKHRoaXMsciksKG49KDAsYy5kZWZhdWx0KSh0aGlzLCgwLHUuZGVmYXVsdCkocikuY2FsbCh0aGlzKSkpLnN0YXRlPXt0aGVtZTpnLmRlZmF1bHQuaW5pdGlhbCh0KXx8XygpfSxufXJldHVybigwLGguZGVmYXVsdCkocix0KSwoMCxsLmRlZmF1bHQpKHIsW3trZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnVuc3Vic2NyaWJlSWQ9Zy5kZWZhdWx0LnN1YnNjcmliZSh0aGlzLmNvbnRleHQsKGZ1bmN0aW9uKHQpe2Uuc2V0U3RhdGUoe3RoZW1lOnR9KX0pKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMudW5zdWJzY3JpYmVJZCYmZy5kZWZhdWx0LnVuc3Vic2NyaWJlKHRoaXMuY29udGV4dCx0aGlzLnVuc3Vic2NyaWJlSWQpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxyPXQuaW5uZXJSZWYsbj0oMCxhLmRlZmF1bHQpKHQsW1wiaW5uZXJSZWZcIl0pO3JldHVybiBkLmRlZmF1bHQuY3JlYXRlRWxlbWVudChlLCgwLG8uZGVmYXVsdCkoe3RoZW1lOnRoaXMuc3RhdGUudGhlbWUscmVmOnJ9LG4pKX19XSkscn0oZC5kZWZhdWx0LkNvbXBvbmVudCk7cmV0dXJuIHQuY29udGV4dFR5cGVzPWcuZGVmYXVsdC5jb250ZXh0VHlwZXMsKDAscC5kZWZhdWx0KSh0LGUpLHR9fSk7dmFyIHk9Zi5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXy53aXRoVGhlbWU7dC5kZWZhdWx0PXl9LCwsZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDUpKSxhPW4ocig0KSkscz1uKHIoMSkpLGw9KG4ocigzKSksbihyKDgpKSksYz0ocig3KSxuKHIoOSkpKSx1PXIoMTYpLGg9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e2Rpc3BsYXk6XCJibG9ja1wiLG1hcmdpbjowfSxkaXNwbGF5NDplLnR5cG9ncmFwaHkuZGlzcGxheTQsZGlzcGxheTM6ZS50eXBvZ3JhcGh5LmRpc3BsYXkzLGRpc3BsYXkyOmUudHlwb2dyYXBoeS5kaXNwbGF5MixkaXNwbGF5MTplLnR5cG9ncmFwaHkuZGlzcGxheTEsaGVhZGxpbmU6ZS50eXBvZ3JhcGh5LmhlYWRsaW5lLHRpdGxlOmUudHlwb2dyYXBoeS50aXRsZSxzdWJoZWFkaW5nOmUudHlwb2dyYXBoeS5zdWJoZWFkaW5nLGJvZHkyOmUudHlwb2dyYXBoeS5ib2R5Mixib2R5MTplLnR5cG9ncmFwaHkuYm9keTEsY2FwdGlvbjplLnR5cG9ncmFwaHkuY2FwdGlvbixidXR0b246ZS50eXBvZ3JhcGh5LmJ1dHRvbixoMTplLnR5cG9ncmFwaHkuaDEsaDI6ZS50eXBvZ3JhcGh5LmgyLGgzOmUudHlwb2dyYXBoeS5oMyxoNDplLnR5cG9ncmFwaHkuaDQsaDU6ZS50eXBvZ3JhcGh5Lmg1LGg2OmUudHlwb2dyYXBoeS5oNixzdWJ0aXRsZTE6ZS50eXBvZ3JhcGh5LnN1YnRpdGxlMSxzdWJ0aXRsZTI6ZS50eXBvZ3JhcGh5LnN1YnRpdGxlMixvdmVybGluZTplLnR5cG9ncmFwaHkub3ZlcmxpbmUsc3JPbmx5Ontwb3NpdGlvbjpcImFic29sdXRlXCIsaGVpZ2h0OjEsd2lkdGg6MSxvdmVyZmxvdzpcImhpZGRlblwifSxhbGlnbkxlZnQ6e3RleHRBbGlnbjpcImxlZnRcIn0sYWxpZ25DZW50ZXI6e3RleHRBbGlnbjpcImNlbnRlclwifSxhbGlnblJpZ2h0Ont0ZXh0QWxpZ246XCJyaWdodFwifSxhbGlnbkp1c3RpZnk6e3RleHRBbGlnbjpcImp1c3RpZnlcIn0sbm9XcmFwOntvdmVyZmxvdzpcImhpZGRlblwiLHRleHRPdmVyZmxvdzpcImVsbGlwc2lzXCIsd2hpdGVTcGFjZTpcIm5vd3JhcFwifSxndXR0ZXJCb3R0b206e21hcmdpbkJvdHRvbTpcIjAuMzVlbVwifSxwYXJhZ3JhcGg6e21hcmdpbkJvdHRvbToxNn0sY29sb3JJbmhlcml0Ontjb2xvcjpcImluaGVyaXRcIn0sY29sb3JQcmltYXJ5Ontjb2xvcjplLnBhbGV0dGUucHJpbWFyeS5tYWlufSxjb2xvclNlY29uZGFyeTp7Y29sb3I6ZS5wYWxldHRlLnNlY29uZGFyeS5tYWlufSxjb2xvclRleHRQcmltYXJ5Ontjb2xvcjplLnBhbGV0dGUudGV4dC5wcmltYXJ5fSxjb2xvclRleHRTZWNvbmRhcnk6e2NvbG9yOmUucGFsZXR0ZS50ZXh0LnNlY29uZGFyeX0sY29sb3JFcnJvcjp7Y29sb3I6ZS5wYWxldHRlLmVycm9yLm1haW59LGlubGluZTp7ZGlzcGxheTpcImlubGluZVwifX19O3Quc3R5bGVzPWg7dmFyIGQ9e2Rpc3BsYXk0OlwiaDFcIixkaXNwbGF5MzpcImgyXCIsZGlzcGxheTI6XCJoM1wiLGRpc3BsYXkxOlwiaDRcIixoZWFkbGluZTpcImg1XCIsdGl0bGU6XCJoNlwiLHN1YmhlYWRpbmc6XCJzdWJ0aXRsZTFcIn07dmFyIHA9e2gxOlwiaDFcIixoMjpcImgyXCIsaDM6XCJoM1wiLGg0OlwiaDRcIixoNTpcImg1XCIsaDY6XCJoNlwiLHN1YnRpdGxlMTpcImg2XCIsc3VidGl0bGUyOlwiaDZcIixib2R5MTpcInBcIixib2R5MjpcInBcIixkaXNwbGF5NDpcImgxXCIsZGlzcGxheTM6XCJoMVwiLGRpc3BsYXkyOlwiaDFcIixkaXNwbGF5MTpcImgxXCIsaGVhZGxpbmU6XCJoMVwiLHRpdGxlOlwiaDJcIixzdWJoZWFkaW5nOlwiaDNcIn07ZnVuY3Rpb24gZihlKXt2YXIgdCxyPWUuYWxpZ24sbj1lLmNsYXNzZXMsYz1lLmNsYXNzTmFtZSxoPWUuY29sb3IsZj1lLmNvbXBvbmVudCxtPWUuZ3V0dGVyQm90dG9tLGc9ZS5oZWFkbGluZU1hcHBpbmcsXz1lLmlubGluZSx5PShlLmludGVybmFsRGVwcmVjYXRlZFZhcmlhbnQsZS5ub1dyYXApLHY9ZS5wYXJhZ3JhcGgseD1lLnRoZW1lLGI9ZS52YXJpYW50LHc9KDAsYS5kZWZhdWx0KShlLFtcImFsaWduXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbG9yXCIsXCJjb21wb25lbnRcIixcImd1dHRlckJvdHRvbVwiLFwiaGVhZGxpbmVNYXBwaW5nXCIsXCJpbmxpbmVcIixcImludGVybmFsRGVwcmVjYXRlZFZhcmlhbnRcIixcIm5vV3JhcFwiLFwicGFyYWdyYXBoXCIsXCJ0aGVtZVwiLFwidmFyaWFudFwiXSksVD1mdW5jdGlvbihlLHQpe3ZhciByPWUudHlwb2dyYXBoeSxuPXQ7cmV0dXJuIG58fChuPXIudXNlTmV4dFZhcmlhbnRzP1wiYm9keTJcIjpcImJvZHkxXCIpLHIudXNlTmV4dFZhcmlhbnRzJiYobj1kW25dfHxuKSxufSh4LGIpLEU9KDAsbC5kZWZhdWx0KShuLnJvb3QsKHQ9e30sKDAsby5kZWZhdWx0KSh0LG5bVF0sXCJpbmhlcml0XCIhPT1UKSwoMCxvLmRlZmF1bHQpKHQsbltcImNvbG9yXCIuY29uY2F0KCgwLHUuY2FwaXRhbGl6ZSkoaCkpXSxcImRlZmF1bHRcIiE9PWgpLCgwLG8uZGVmYXVsdCkodCxuLm5vV3JhcCx5KSwoMCxvLmRlZmF1bHQpKHQsbi5ndXR0ZXJCb3R0b20sbSksKDAsby5kZWZhdWx0KSh0LG4ucGFyYWdyYXBoLHYpLCgwLG8uZGVmYXVsdCkodCxuW1wiYWxpZ25cIi5jb25jYXQoKDAsdS5jYXBpdGFsaXplKShyKSldLFwiaW5oZXJpdFwiIT09ciksKDAsby5kZWZhdWx0KSh0LG4uaW5saW5lLF8pLHQpLGMpLFM9Znx8KHY/XCJwXCI6Z1tUXXx8cFtUXSl8fFwic3BhblwiO3JldHVybiBzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChTLCgwLGkuZGVmYXVsdCkoe2NsYXNzTmFtZTpFfSx3KSl9Zi5kZWZhdWx0UHJvcHM9e2FsaWduOlwiaW5oZXJpdFwiLGNvbG9yOlwiZGVmYXVsdFwiLGd1dHRlckJvdHRvbTohMSxoZWFkbGluZU1hcHBpbmc6cCxpbmxpbmU6ITEsbm9XcmFwOiExLHBhcmFncmFwaDohMX07dmFyIG09KDAsYy5kZWZhdWx0KShoLHtuYW1lOlwiTXVpVHlwb2dyYXBoeVwiLHdpdGhUaGVtZTohMH0pKGYpO3QuZGVmYXVsdD1tfSwsLCwsZnVuY3Rpb24oZSx0LHIpeyhmdW5jdGlvbih0KXshZnVuY3Rpb24ocixuKXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZSxyLG47ZnVuY3Rpb24gaSh0LGkpe2lmKGUpaWYocil7dmFyIG89XCJzZWxmLm9uZXJyb3IgPSBmdW5jdGlvbigpIHsgY29uc29sZS5lcnJvcignQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgcGFyc2luZyB0aGUgV2ViV29ya2VyIGJ1bmRsZS4gVGhpcyBpcyBtb3N0IGxpa2VseSBkdWUgdG8gaW1wcm9wZXIgdHJhbnNwaWxhdGlvbiBieSBCYWJlbDsgcGxlYXNlIHNlZSBodHRwczovL2RvY3MubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvZ3VpZGVzL2luc3RhbGwvI3RyYW5zcGlsaW5nJyk7IH07IHZhciBzaGFyZWRDaHVuayA9IHt9OyAoXCIrZStcIikoc2hhcmVkQ2h1bmspOyAoXCIrcitcIikoc2hhcmVkQ2h1bmspOyBzZWxmLm9uZXJyb3IgPSBudWxsO1wiLGE9e307ZShhKSxuPWkoYSksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93JiZ3aW5kb3cuVVJMJiZ3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCYmKG4ud29ya2VyVXJsPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtvXSx7dHlwZTpcInRleHQvamF2YXNjcmlwdFwifSkpKX1lbHNlIHI9aTtlbHNlIGU9aX1yZXR1cm4gaShbXCJleHBvcnRzXCJdLChmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjt2YXIgcj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9LG49XCIyLjExLjFcIjtsZXQgaTtjb25zdCBvPXtBUElfVVJMOlwiaHR0cHM6Ly9hcGkubWFwYm94LmNvbVwiLGdldCBBUElfVVJMX1JFR0VYKCl7aWYobnVsbD09aSl7Y29uc3QgZT0vXigoaHR0cHM/Oik/XFwvXFwvKT8oW15cXC9dK1xcLik/bWFwYm94XFwuYyhufG9tKShcXC98XFw/fCQpL2k7dHJ5e2k9bnVsbCE9dC5lbnYuQVBJX1VSTF9SRUdFWD9uZXcgUmVnRXhwKHQuZW52LkFQSV9VUkxfUkVHRVgpOmV9Y2F0Y2godCl7aT1lfX1yZXR1cm4gaX0sZ2V0IEFQSV9USUxFSlNPTl9SRUdFWCgpe3JldHVybi9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL3ZbMC05XSpcXC8uKlxcLmpzb24uKiQpL2l9LGdldCBBUElfU1BSSVRFX1JFR0VYKCl7cmV0dXJuL14oKGh0dHBzPzopP1xcL1xcLyk/KFteXFwvXStcXC4pP21hcGJveFxcLmMobnxvbSkoXFwvc3R5bGVzXFwvdlswLTldKlxcLykoLipcXC9zcHJpdGUuKlxcLi4qJCkvaX0sZ2V0IEFQSV9GT05UU19SRUdFWCgpe3JldHVybi9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL2ZvbnRzXFwvdlswLTldKlxcLykoLipcXC5wYmYuKiQpL2l9LGdldCBBUElfU1RZTEVfUkVHRVgoKXtyZXR1cm4vXigoaHR0cHM/Oik/XFwvXFwvKT8oW15cXC9dK1xcLik/bWFwYm94XFwuYyhufG9tKShcXC9zdHlsZXNcXC92WzAtOV0qXFwvKSguKiQpL2l9LGdldCBFVkVOVFNfVVJMKCl7cmV0dXJuIHRoaXMuQVBJX1VSTD8wPT09dGhpcy5BUElfVVJMLmluZGV4T2YoXCJodHRwczovL2FwaS5tYXBib3guY25cIik/XCJodHRwczovL2V2ZW50cy5tYXBib3guY24vZXZlbnRzL3YyXCI6MD09PXRoaXMuQVBJX1VSTC5pbmRleE9mKFwiaHR0cHM6Ly9hcGkubWFwYm94LmNvbVwiKT9cImh0dHBzOi8vZXZlbnRzLm1hcGJveC5jb20vZXZlbnRzL3YyXCI6bnVsbDpudWxsfSxTRVNTSU9OX1BBVEg6XCIvbWFwLXNlc3Npb25zL3YxXCIsRkVFREJBQ0tfVVJMOlwiaHR0cHM6Ly9hcHBzLm1hcGJveC5jb20vZmVlZGJhY2tcIixUSUxFX1VSTF9WRVJTSU9OOlwidjRcIixSQVNURVJfVVJMX1BSRUZJWDpcInJhc3Rlci92MVwiLFJFUVVJUkVfQUNDRVNTX1RPS0VOOiEwLEFDQ0VTU19UT0tFTjpudWxsLE1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUzoxNn0sYT17c3VwcG9ydGVkOiExLHRlc3RTdXBwb3J0OmZ1bmN0aW9uKGUpeyFjJiZsJiYodT9oKGUpOnM9ZSl9fTtsZXQgcyxsLGM9ITEsdT0hMTtmdW5jdGlvbiBoKGUpe2NvbnN0IHQ9ZS5jcmVhdGVUZXh0dXJlKCk7ZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdCk7dHJ5e2lmKGUudGV4SW1hZ2UyRChlLlRFWFRVUkVfMkQsMCxlLlJHQkEsZS5SR0JBLGUuVU5TSUdORURfQllURSxsKSxlLmlzQ29udGV4dExvc3QoKSlyZXR1cm47YS5zdXBwb3J0ZWQ9ITB9Y2F0Y2goZSl7fWUuZGVsZXRlVGV4dHVyZSh0KSxjPSEwfXIuZG9jdW1lbnQmJihsPXIuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSxsLm9ubG9hZD1mdW5jdGlvbigpe3MmJmgocykscz1udWxsLHU9ITB9LGwub25lcnJvcj1mdW5jdGlvbigpe2M9ITAscz1udWxsfSxsLnNyYz1cImRhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1JoNEFBQUJYUlVKUVZsQTRUQkVBQUFBdkFRQUFBQWZRLy83M3YvK0JpT2gvQUFBPVwiKTtjb25zdCBkPVwiMDFcIjt2YXIgcD1mO2Z1bmN0aW9uIGYoZSx0LHIsbil7dGhpcy5jeD0zKmUsdGhpcy5ieD0zKihyLWUpLXRoaXMuY3gsdGhpcy5heD0xLXRoaXMuY3gtdGhpcy5ieCx0aGlzLmN5PTMqdCx0aGlzLmJ5PTMqKG4tdCktdGhpcy5jeSx0aGlzLmF5PTEtdGhpcy5jeS10aGlzLmJ5LHRoaXMucDF4PWUsdGhpcy5wMXk9dCx0aGlzLnAyeD1yLHRoaXMucDJ5PW59Zi5wcm90b3R5cGU9e3NhbXBsZUN1cnZlWDpmdW5jdGlvbihlKXtyZXR1cm4oKHRoaXMuYXgqZSt0aGlzLmJ4KSplK3RoaXMuY3gpKmV9LHNhbXBsZUN1cnZlWTpmdW5jdGlvbihlKXtyZXR1cm4oKHRoaXMuYXkqZSt0aGlzLmJ5KSplK3RoaXMuY3kpKmV9LHNhbXBsZUN1cnZlRGVyaXZhdGl2ZVg6ZnVuY3Rpb24oZSl7cmV0dXJuKDMqdGhpcy5heCplKzIqdGhpcy5ieCkqZSt0aGlzLmN4fSxzb2x2ZUN1cnZlWDpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQmJih0PTFlLTYpLGU8MClyZXR1cm4gMDtpZihlPjEpcmV0dXJuIDE7Zm9yKHZhciByPWUsbj0wO248ODtuKyspe3ZhciBpPXRoaXMuc2FtcGxlQ3VydmVYKHIpLWU7aWYoTWF0aC5hYnMoaSk8dClyZXR1cm4gcjt2YXIgbz10aGlzLnNhbXBsZUN1cnZlRGVyaXZhdGl2ZVgocik7aWYoTWF0aC5hYnMobyk8MWUtNilicmVhaztyLT1pL299dmFyIGE9MCxzPTE7Zm9yKHI9ZSxuPTA7bjwyMCYmKGk9dGhpcy5zYW1wbGVDdXJ2ZVgociksIShNYXRoLmFicyhpLWUpPHQpKTtuKyspZT5pP2E9cjpzPXIscj0uNSoocy1hKSthO3JldHVybiByfSxzb2x2ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLnNhbXBsZUN1cnZlWSh0aGlzLnNvbHZlQ3VydmVYKGUsdCkpfX07dmFyIG09ZztmdW5jdGlvbiBnKGUsdCl7dGhpcy54PWUsdGhpcy55PXR9Zy5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnKHRoaXMueCx0aGlzLnkpfSxhZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fYWRkKGUpfSxzdWI6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fc3ViKGUpfSxtdWx0QnlQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9tdWx0QnlQb2ludChlKX0sZGl2QnlQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXZCeVBvaW50KGUpfSxtdWx0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHQoZSl9LGRpdjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9kaXYoZSl9LHJvdGF0ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3RhdGUoZSl9LHJvdGF0ZUFyb3VuZDpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZUFyb3VuZChlLHQpfSxtYXRNdWx0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX21hdE11bHQoZSl9LHVuaXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl91bml0KCl9LHBlcnA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9wZXJwKCl9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm91bmQoKX0sbWFnOmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfSxlcXVhbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueD09PWUueCYmdGhpcy55PT09ZS55fSxkaXN0OmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLnNxcnQodGhpcy5kaXN0U3FyKGUpKX0sZGlzdFNxcjpmdW5jdGlvbihlKXt2YXIgdD1lLngtdGhpcy54LHI9ZS55LXRoaXMueTtyZXR1cm4gdCp0K3Iqcn0sYW5nbGU6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnksdGhpcy54KX0sYW5nbGVUbzpmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLnktZS55LHRoaXMueC1lLngpfSxhbmdsZVdpdGg6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYW5nbGVXaXRoU2VwKGUueCxlLnkpfSxhbmdsZVdpdGhTZXA6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5hdGFuMih0aGlzLngqdC10aGlzLnkqZSx0aGlzLngqZSt0aGlzLnkqdCl9LF9tYXRNdWx0OmZ1bmN0aW9uKGUpe3ZhciB0PWVbMl0qdGhpcy54K2VbM10qdGhpcy55O3JldHVybiB0aGlzLng9ZVswXSp0aGlzLngrZVsxXSp0aGlzLnksdGhpcy55PXQsdGhpc30sX2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kz1lLngsdGhpcy55Kz1lLnksdGhpc30sX3N1YjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54LT1lLngsdGhpcy55LT1lLnksdGhpc30sX211bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpc30sX2RpdjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Lz1lLHRoaXMueS89ZSx0aGlzfSxfbXVsdEJ5UG9pbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXN9LF9kaXZCeVBvaW50OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngvPWUueCx0aGlzLnkvPWUueSx0aGlzfSxfdW5pdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kaXYodGhpcy5tYWcoKSksdGhpc30sX3BlcnA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnk7cmV0dXJuIHRoaXMueT10aGlzLngsdGhpcy54PS1lLHRoaXN9LF9yb3RhdGU6ZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5jb3MoZSkscj1NYXRoLnNpbihlKSxuPXIqdGhpcy54K3QqdGhpcy55O3JldHVybiB0aGlzLng9dCp0aGlzLngtcip0aGlzLnksdGhpcy55PW4sdGhpc30sX3JvdGF0ZUFyb3VuZDpmdW5jdGlvbihlLHQpe3ZhciByPU1hdGguY29zKGUpLG49TWF0aC5zaW4oZSksaT10LnkrbioodGhpcy54LXQueCkrcioodGhpcy55LXQueSk7cmV0dXJuIHRoaXMueD10LngrcioodGhpcy54LXQueCktbioodGhpcy55LXQueSksdGhpcy55PWksdGhpc30sX3JvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueD1NYXRoLnJvdW5kKHRoaXMueCksdGhpcy55PU1hdGgucm91bmQodGhpcy55KSx0aGlzfX0sZy5jb252ZXJ0PWZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgZz9lOkFycmF5LmlzQXJyYXkoZSk/bmV3IGcoZVswXSxlWzFdKTplfTtjb25zdCBfPU1hdGguUEkvMTgwLHk9MTgwL01hdGguUEk7ZnVuY3Rpb24gdihlKXtyZXR1cm4gZSpffWZ1bmN0aW9uIHgoZSl7cmV0dXJuIGUqeX1jb25zdCBiPVtbMCwwXSxbMSwwXSxbMSwxXSxbMCwxXV07ZnVuY3Rpb24gdyhlKXtpZihlPD0wKXJldHVybiAwO2lmKGU+PTEpcmV0dXJuIDE7Y29uc3QgdD1lKmUscj10KmU7cmV0dXJuIDQqKGU8LjU/cjozKihlLXQpK3ItLjc1KX1mdW5jdGlvbiBUKGUsdCxyLG4pe2NvbnN0IGk9bmV3IHAoZSx0LHIsbik7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBpLnNvbHZlKGUpfX1jb25zdCBFPVQoLjI1LC4xLC4yNSwxKTtmdW5jdGlvbiBTKGUsdCxyKXtyZXR1cm4gTWF0aC5taW4ocixNYXRoLm1heCh0LGUpKX1mdW5jdGlvbiBDKGUsdCxyKXtyZXR1cm4ocj1TKChyLWUpLyh0LWUpLDAsMSkpKnIqKDMtMipyKX1mdW5jdGlvbiBNKGUsdCxyKXtjb25zdCBuPXItdCxpPSgoZS10KSVuK24pJW4rdDtyZXR1cm4gaT09PXQ/cjppfWZ1bmN0aW9uIGsoZSx0LHIpe2lmKCFlLmxlbmd0aClyZXR1cm4gcihudWxsLFtdKTtsZXQgbj1lLmxlbmd0aDtjb25zdCBpPW5ldyBBcnJheShlLmxlbmd0aCk7bGV0IG89bnVsbDtlLmZvckVhY2goKGUsYSk9Pnt0KGUsKGUsdCk9PntlJiYobz1lKSxpW2FdPXQsMD09LS1uJiZyKG8saSl9KX0pfWZ1bmN0aW9uIEEoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgciBpbiBlKXQucHVzaChlW3JdKTtyZXR1cm4gdH1mdW5jdGlvbiBJKGUsLi4udCl7Zm9yKGNvbnN0IHIgb2YgdClmb3IoY29uc3QgdCBpbiByKWVbdF09clt0XTtyZXR1cm4gZX1sZXQgUD0xO2Z1bmN0aW9uIHooKXtyZXR1cm4gUCsrfWZ1bmN0aW9uIEQoKXtyZXR1cm4gZnVuY3Rpb24gZSh0KXtyZXR1cm4gdD8odF5NYXRoLnJhbmRvbSgpKigxNj4+dC80KSkudG9TdHJpbmcoMTYpOihbMWU3XSstWzFlM10rLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLGUpfSgpfWZ1bmN0aW9uIFIoZSl7cmV0dXJuIGU8PTE/MTpNYXRoLnBvdygyLE1hdGguY2VpbChNYXRoLmxvZyhlKS9NYXRoLkxOMikpfWZ1bmN0aW9uIEwoZSl7cmV0dXJuISFlJiYvXlswLTlhLWZdezh9LVswLTlhLWZdezR9LVs0XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfSQvaS50ZXN0KGUpfWZ1bmN0aW9uIE8oZSx0KXtlLmZvckVhY2goZT0+e3RbZV0mJih0W2VdPXRbZV0uYmluZCh0KSl9KX1mdW5jdGlvbiBCKGUsdCl7cmV0dXJuLTEhPT1lLmluZGV4T2YodCxlLmxlbmd0aC10Lmxlbmd0aCl9ZnVuY3Rpb24gRihlLHQscil7Y29uc3Qgbj17fTtmb3IoY29uc3QgaSBpbiBlKW5baV09dC5jYWxsKHJ8fHRoaXMsZVtpXSxpLGUpO3JldHVybiBufWZ1bmN0aW9uIGooZSx0LHIpe2NvbnN0IG49e307Zm9yKGNvbnN0IGkgaW4gZSl0LmNhbGwocnx8dGhpcyxlW2ldLGksZSkmJihuW2ldPWVbaV0pO3JldHVybiBufWZ1bmN0aW9uIFUoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5tYXAoVSk6XCJvYmplY3RcIj09dHlwZW9mIGUmJmU/RihlLFUpOmV9Y29uc3QgTj17fTtmdW5jdGlvbiBWKGUpe05bZV18fChcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS53YXJuKGUpLE5bZV09ITApfWZ1bmN0aW9uIEcoZSx0LHIpe3JldHVybihyLnktZS55KSoodC54LWUueCk+KHQueS1lLnkpKihyLngtZS54KX1mdW5jdGlvbiBxKGUpe2xldCB0PTA7Zm9yKGxldCByLG4saT0wLG89ZS5sZW5ndGgsYT1vLTE7aTxvO2E9aSsrKXI9ZVtpXSxuPWVbYV0sdCs9KG4ueC1yLngpKihyLnkrbi55KTtyZXR1cm4gdH1mdW5jdGlvbiBaKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlfWZ1bmN0aW9uICQoZSl7Y29uc3QgdD17fTtpZihlLnJlcGxhY2UoLyg/Ol58KD86XFxzKlxcLFxccyopKShbXlxceDAwLVxceDIwXFwoXFwpPD5AXFwsO1xcOlxcXFxcIlxcL1xcW1xcXVxcP1xcPVxce1xcfVxceDdGXSspKD86XFw9KD86KFteXFx4MDAtXFx4MjBcXChcXCk8PkBcXCw7XFw6XFxcXFwiXFwvXFxbXFxdXFw/XFw9XFx7XFx9XFx4N0ZdKyl8KD86XFxcIigoPzpbXlwiXFxcXF18XFxcXC4pKilcXFwiKSkpPy9nLChlLHIsbixpKT0+e2NvbnN0IG89bnx8aTtyZXR1cm4gdFtyXT0hb3x8by50b0xvd2VyQ2FzZSgpLFwiXCJ9KSx0W1wibWF4LWFnZVwiXSl7Y29uc3QgZT1wYXJzZUludCh0W1wibWF4LWFnZVwiXSwxMCk7aXNOYU4oZSk/ZGVsZXRlIHRbXCJtYXgtYWdlXCJdOnRbXCJtYXgtYWdlXCJdPWV9cmV0dXJuIHR9bGV0IFc9bnVsbDtmdW5jdGlvbiBYKGUpe2lmKG51bGw9PVcpe2NvbnN0IHQ9ZS5uYXZpZ2F0b3I/ZS5uYXZpZ2F0b3IudXNlckFnZW50Om51bGw7Vz0hIWUuc2FmYXJpfHwhKCF0fHwhKC9cXGIoaVBhZHxpUGhvbmV8aVBvZClcXGIvLnRlc3QodCl8fHQubWF0Y2goXCJTYWZhcmlcIikmJiF0Lm1hdGNoKFwiQ2hyb21lXCIpKSl9cmV0dXJuIFd9ZnVuY3Rpb24gSChlKXt0cnl7Y29uc3QgdD1yW2VdO3JldHVybiB0LnNldEl0ZW0oXCJfbWFwYm94X3Rlc3RfXCIsMSksdC5yZW1vdmVJdGVtKFwiX21hcGJveF90ZXN0X1wiKSwhMH1jYXRjaChlKXtyZXR1cm4hMX19ZnVuY3Rpb24gWShlLHQpe3JldHVybltlWzQqdF0sZVs0KnQrMV0sZVs0KnQrMl0sZVs0KnQrM11dfWNvbnN0IEs9XCJtYXBib3gtdGlsZXNcIjtsZXQgSixRLGVlPTUwMCx0ZT01MDtmdW5jdGlvbiByZSgpe3RyeXtyZXR1cm4gci5jYWNoZXN9Y2F0Y2goZSl7fX1mdW5jdGlvbiBuZSgpe3JlKCkmJiFKJiYoSj1yLmNhY2hlcy5vcGVuKEspKX1mdW5jdGlvbiBpZShlKXtjb25zdCB0PWUuaW5kZXhPZihcIj9cIik7aWYodDwwKXJldHVybiBlO2NvbnN0IHI9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmluZGV4T2YoXCI/XCIpO3JldHVybiB0PjA/ZS5zbGljZSh0KzEpLnNwbGl0KFwiJlwiKTpbXX0oZSkuZmlsdGVyKGU9Pntjb25zdCB0PWUuc3BsaXQoXCI9XCIpO3JldHVyblwibGFuZ3VhZ2VcIj09PXRbMF18fFwid29ybGR2aWV3XCI9PT10WzBdfSk7cmV0dXJuIHIubGVuZ3RoP2Ake2Uuc2xpY2UoMCx0KX0/JHtyLmpvaW4oXCImXCIpfWA6ZS5zbGljZSgwLHQpfWxldCBvZT0xLzA7Y29uc3QgYWU9e1Vua25vd246XCJVbmtub3duXCIsU3R5bGU6XCJTdHlsZVwiLFNvdXJjZTpcIlNvdXJjZVwiLFRpbGU6XCJUaWxlXCIsR2x5cGhzOlwiR2x5cGhzXCIsU3ByaXRlSW1hZ2U6XCJTcHJpdGVJbWFnZVwiLFNwcml0ZUpTT046XCJTcHJpdGVKU09OXCIsSW1hZ2U6XCJJbWFnZVwifTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZnJlZXplJiZPYmplY3QuZnJlZXplKGFlKTtjbGFzcyBzZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCxyKXs0MDE9PT10JiZ5ZShyKSYmKGUrPVwiOiB5b3UgbWF5IGhhdmUgcHJvdmlkZWQgYW4gaW52YWxpZCBNYXBib3ggYWNjZXNzIHRva2VuLiBTZWUgaHR0cHM6Ly93d3cubWFwYm94LmNvbS9hcGktZG9jdW1lbnRhdGlvbi8jYWNjZXNzLXRva2Vucy1hbmQtdG9rZW4tc2NvcGVzXCIpLHN1cGVyKGUpLHRoaXMuc3RhdHVzPXQsdGhpcy51cmw9cn10b1N0cmluZygpe3JldHVybmAke3RoaXMubmFtZX06ICR7dGhpcy5tZXNzYWdlfSAoJHt0aGlzLnN0YXR1c30pOiAke3RoaXMudXJsfWB9fWNvbnN0IGxlPVooKT8oKT0+c2VsZi53b3JrZXImJnNlbGYud29ya2VyLnJlZmVycmVyOigpPT4oXCJibG9iOlwiPT09ci5sb2NhdGlvbi5wcm90b2NvbD9yLnBhcmVudDpyKS5sb2NhdGlvbi5ocmVmLGNlPWZ1bmN0aW9uKGUsdCl7aWYoISgvXmZpbGU6Ly50ZXN0KG49ZS51cmwpfHwvXmZpbGU6Ly50ZXN0KGxlKCkpJiYhL15cXHcrOi8udGVzdChuKSkpe2lmKHIuZmV0Y2gmJnIuUmVxdWVzdCYmci5BYm9ydENvbnRyb2xsZXImJnIuUmVxdWVzdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkoXCJzaWduYWxcIikpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1uZXcgci5BYm9ydENvbnRyb2xsZXIsaT1uZXcgci5SZXF1ZXN0KGUudXJsLHttZXRob2Q6ZS5tZXRob2R8fFwiR0VUXCIsYm9keTplLmJvZHksY3JlZGVudGlhbHM6ZS5jcmVkZW50aWFscyxoZWFkZXJzOmUuaGVhZGVycyxyZWZlcnJlcjpsZSgpLHNpZ25hbDpuLnNpZ25hbH0pO2xldCBvPSExLGE9ITE7Y29uc3Qgcz0obD1pLnVybCkuaW5kZXhPZihcInNrdT1cIik+MCYmeWUobCk7dmFyIGw7XCJqc29uXCI9PT1lLnR5cGUmJmkuaGVhZGVycy5zZXQoXCJBY2NlcHRcIixcImFwcGxpY2F0aW9uL2pzb25cIik7Y29uc3QgYz0obixvLGwpPT57aWYoYSlyZXR1cm47aWYobiYmXCJTZWN1cml0eUVycm9yXCIhPT1uLm1lc3NhZ2UmJlYobiksbyYmbClyZXR1cm4gdShvKTtjb25zdCBjPURhdGUubm93KCk7ci5mZXRjaChpKS50aGVuKHI9PntpZihyLm9rKXtjb25zdCBlPXM/ci5jbG9uZSgpOm51bGw7cmV0dXJuIHUocixlLGMpfXJldHVybiB0KG5ldyBzZShyLnN0YXR1c1RleHQsci5zdGF0dXMsZS51cmwpKX0pLmNhdGNoKGU9PnsyMCE9PWUuY29kZSYmdChuZXcgRXJyb3IoZS5tZXNzYWdlKSl9KX0sdT0obixzLGwpPT57KFwiYXJyYXlCdWZmZXJcIj09PWUudHlwZT9uLmFycmF5QnVmZmVyKCk6XCJqc29uXCI9PT1lLnR5cGU/bi5qc29uKCk6bi50ZXh0KCkpLnRoZW4oZT0+e2F8fChzJiZsJiZmdW5jdGlvbihlLHQsbil7aWYobmUoKSwhSilyZXR1cm47Y29uc3QgaT17c3RhdHVzOnQuc3RhdHVzLHN0YXR1c1RleHQ6dC5zdGF0dXNUZXh0LGhlYWRlcnM6bmV3IHIuSGVhZGVyc307dC5oZWFkZXJzLmZvckVhY2goKGUsdCk9PmkuaGVhZGVycy5zZXQodCxlKSk7Y29uc3Qgbz0kKHQuaGVhZGVycy5nZXQoXCJDYWNoZS1Db250cm9sXCIpfHxcIlwiKTtpZihvW1wibm8tc3RvcmVcIl0pcmV0dXJuO29bXCJtYXgtYWdlXCJdJiZpLmhlYWRlcnMuc2V0KFwiRXhwaXJlc1wiLG5ldyBEYXRlKG4rMWUzKm9bXCJtYXgtYWdlXCJdKS50b1VUQ1N0cmluZygpKTtjb25zdCBhPWkuaGVhZGVycy5nZXQoXCJFeHBpcmVzXCIpO2EmJihuZXcgRGF0ZShhKS5nZXRUaW1lKCktbjw0MmU0fHxmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PVEpdHJ5e25ldyBSZXNwb25zZShuZXcgUmVhZGFibGVTdHJlYW0pLFE9ITB9Y2F0Y2goZSl7UT0hMX1RP3QoZS5ib2R5KTplLmJsb2IoKS50aGVuKHQpfSh0LHQ9Pntjb25zdCBuPW5ldyByLlJlc3BvbnNlKHQsaSk7bmUoKSxKJiZKLnRoZW4odD0+dC5wdXQoaWUoZS51cmwpLG4pKS5jYXRjaChlPT5WKGUubWVzc2FnZSkpfSkpfShpLHMsbCksbz0hMCx0KG51bGwsZSxuLmhlYWRlcnMuZ2V0KFwiQ2FjaGUtQ29udHJvbFwiKSxuLmhlYWRlcnMuZ2V0KFwiRXhwaXJlc1wiKSkpfSkuY2F0Y2goZT0+e2F8fHQobmV3IEVycm9yKGUubWVzc2FnZSkpfSl9O3JldHVybiBzP2Z1bmN0aW9uKGUsdCl7aWYobmUoKSwhSilyZXR1cm4gdChudWxsKTtjb25zdCByPWllKGUudXJsKTtKLnRoZW4oZT0+e2UubWF0Y2gocikudGhlbihuPT57Y29uc3QgaT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm4hMTtjb25zdCB0PW5ldyBEYXRlKGUuaGVhZGVycy5nZXQoXCJFeHBpcmVzXCIpfHwwKSxyPSQoZS5oZWFkZXJzLmdldChcIkNhY2hlLUNvbnRyb2xcIil8fFwiXCIpO3JldHVybiB0PkRhdGUubm93KCkmJiFyW1wibm8tY2FjaGVcIl19KG4pO2UuZGVsZXRlKHIpLGkmJmUucHV0KHIsbi5jbG9uZSgpKSx0KG51bGwsbixpKX0pLmNhdGNoKHQpfSkuY2F0Y2godCl9KGksYyk6YyhudWxsLG51bGwpLHtjYW5jZWw6KCk9PnthPSEwLG98fG4uYWJvcnQoKX19fShlLHQpO2lmKFooKSYmc2VsZi53b3JrZXImJnNlbGYud29ya2VyLmFjdG9yKXJldHVybiBzZWxmLndvcmtlci5hY3Rvci5zZW5kKFwiZ2V0UmVzb3VyY2VcIixlLHQsdm9pZCAwLCEwKX12YXIgbjtyZXR1cm4gZnVuY3Rpb24oZSx0KXtjb25zdCBuPW5ldyByLlhNTEh0dHBSZXF1ZXN0O24ub3BlbihlLm1ldGhvZHx8XCJHRVRcIixlLnVybCwhMCksXCJhcnJheUJ1ZmZlclwiPT09ZS50eXBlJiYobi5yZXNwb25zZVR5cGU9XCJhcnJheWJ1ZmZlclwiKTtmb3IoY29uc3QgdCBpbiBlLmhlYWRlcnMpbi5zZXRSZXF1ZXN0SGVhZGVyKHQsZS5oZWFkZXJzW3RdKTtyZXR1cm5cImpzb25cIj09PWUudHlwZSYmKG4ucmVzcG9uc2VUeXBlPVwidGV4dFwiLG4uc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdFwiLFwiYXBwbGljYXRpb24vanNvblwiKSksbi53aXRoQ3JlZGVudGlhbHM9XCJpbmNsdWRlXCI9PT1lLmNyZWRlbnRpYWxzLG4ub25lcnJvcj0oKT0+e3QobmV3IEVycm9yKG4uc3RhdHVzVGV4dCkpfSxuLm9ubG9hZD0oKT0+e2lmKChuLnN0YXR1cz49MjAwJiZuLnN0YXR1czwzMDB8fDA9PT1uLnN0YXR1cykmJm51bGwhPT1uLnJlc3BvbnNlKXtsZXQgcj1uLnJlc3BvbnNlO2lmKFwianNvblwiPT09ZS50eXBlKXRyeXtyPUpTT04ucGFyc2Uobi5yZXNwb25zZSl9Y2F0Y2goZSl7cmV0dXJuIHQoZSl9dChudWxsLHIsbi5nZXRSZXNwb25zZUhlYWRlcihcIkNhY2hlLUNvbnRyb2xcIiksbi5nZXRSZXNwb25zZUhlYWRlcihcIkV4cGlyZXNcIikpfWVsc2UgdChuZXcgc2Uobi5zdGF0dXNUZXh0LG4uc3RhdHVzLGUudXJsKSl9LG4uc2VuZChlLmJvZHkpLHtjYW5jZWw6KCk9Pm4uYWJvcnQoKX19KGUsdCl9LHVlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNlKEkoZSx7dHlwZTpcImFycmF5QnVmZmVyXCJ9KSx0KX07ZnVuY3Rpb24gaGUoZSl7Y29uc3QgdD1yLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3JldHVybiB0LmhyZWY9ZSx0LnByb3RvY29sPT09ci5kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbCYmdC5ob3N0PT09ci5kb2N1bWVudC5sb2NhdGlvbi5ob3N0fWNvbnN0IGRlPVwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFCQ0FZQUFBQWZGY1NKQUFBQUMwbEVRVlFZVjJOZ0FBSUFBQVVBQWFyVnlGRUFBQUFBU1VWT1JLNUNZSUk9XCI7bGV0IHBlLGZlO3BlPVtdLGZlPTA7Y29uc3QgbWU9ZnVuY3Rpb24oZSx0KXtpZihhLnN1cHBvcnRlZCYmKGUuaGVhZGVyc3x8KGUuaGVhZGVycz17fSksZS5oZWFkZXJzLmFjY2VwdD1cImltYWdlL3dlYnAsKi8qXCIpLGZlPj1vLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUyl7Y29uc3Qgcj17cmVxdWVzdFBhcmFtZXRlcnM6ZSxjYWxsYmFjazp0LGNhbmNlbGxlZDohMSxjYW5jZWwoKXt0aGlzLmNhbmNlbGxlZD0hMH19O3JldHVybiBwZS5wdXNoKHIpLHJ9ZmUrKztsZXQgbj0hMTtjb25zdCBpPSgpPT57aWYoIW4pZm9yKG49ITAsZmUtLTtwZS5sZW5ndGgmJmZlPG8uTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTOyl7Y29uc3QgZT1wZS5zaGlmdCgpLHtyZXF1ZXN0UGFyYW1ldGVyczp0LGNhbGxiYWNrOnIsY2FuY2VsbGVkOm59PWU7bnx8KGUuY2FuY2VsPW1lKHQscikuY2FuY2VsKX19LHM9dWUoZSwoZSxuLG8sYSk9PntpKCksZT90KGUpOm4mJihyLmNyZWF0ZUltYWdlQml0bWFwP2Z1bmN0aW9uKGUsdCl7Y29uc3Qgbj1uZXcgci5CbG9iKFtuZXcgVWludDhBcnJheShlKV0se3R5cGU6XCJpbWFnZS9wbmdcIn0pO3IuY3JlYXRlSW1hZ2VCaXRtYXAobikudGhlbihlPT57dChudWxsLGUpfSkuY2F0Y2goZT0+e3QobmV3IEVycm9yKGBDb3VsZCBub3QgbG9hZCBpbWFnZSBiZWNhdXNlIG9mICR7ZS5tZXNzYWdlfS4gUGxlYXNlIG1ha2Ugc3VyZSB0byB1c2UgYSBzdXBwb3J0ZWQgaW1hZ2UgdHlwZSBzdWNoIGFzIFBORyBvciBKUEVHLiBOb3RlIHRoYXQgU1ZHcyBhcmUgbm90IHN1cHBvcnRlZC5gKSl9KX0obiwoZSxyKT0+dChlLHIsbyxhKSk6ZnVuY3Rpb24oZSx0KXtjb25zdCBuPW5ldyByLkltYWdlLGk9ci5VUkw7bi5vbmxvYWQ9KCk9Pnt0KG51bGwsbiksaS5yZXZva2VPYmplY3RVUkwobi5zcmMpLG4ub25sb2FkPW51bGwsci5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9PntuLnNyYz1kZX0pfSxuLm9uZXJyb3I9KCk9PnQobmV3IEVycm9yKFwiQ291bGQgbm90IGxvYWQgaW1hZ2UuIFBsZWFzZSBtYWtlIHN1cmUgdG8gdXNlIGEgc3VwcG9ydGVkIGltYWdlIHR5cGUgc3VjaCBhcyBQTkcgb3IgSlBFRy4gTm90ZSB0aGF0IFNWR3MgYXJlIG5vdCBzdXBwb3J0ZWQuXCIpKTtjb25zdCBvPW5ldyByLkJsb2IoW25ldyBVaW50OEFycmF5KGUpXSx7dHlwZTpcImltYWdlL3BuZ1wifSk7bi5zcmM9ZS5ieXRlTGVuZ3RoP2kuY3JlYXRlT2JqZWN0VVJMKG8pOmRlfShuLChlLHIpPT50KGUscixvLGEpKSl9KTtyZXR1cm57Y2FuY2VsOigpPT57cy5jYW5jZWwoKSxpKCl9fX0sZ2U9XCJOT19BQ0NFU1NfVE9LRU5cIjtmdW5jdGlvbiBfZShlKXtyZXR1cm4gMD09PWUuaW5kZXhPZihcIm1hcGJveDpcIil9ZnVuY3Rpb24geWUoZSl7cmV0dXJuIG8uQVBJX1VSTF9SRUdFWC50ZXN0KGUpfWZ1bmN0aW9uIHZlKGUpe3JldHVybiBvLkFQSV9TVFlMRV9SRUdFWC50ZXN0KGUpJiYheGUoZSl9ZnVuY3Rpb24geGUoZSl7cmV0dXJuIG8uQVBJX1NQUklURV9SRUdFWC50ZXN0KGUpfWNvbnN0IGJlPS9eKFxcdyspOlxcL1xcLyhbXi8/XSopKFxcL1teP10rKT9cXD8/KC4rKT8vO2Z1bmN0aW9uIHdlKGUpe2NvbnN0IHQ9ZS5tYXRjaChiZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHBhcnNlIFVSTCBvYmplY3RcIik7cmV0dXJue3Byb3RvY29sOnRbMV0sYXV0aG9yaXR5OnRbMl0scGF0aDp0WzNdfHxcIi9cIixwYXJhbXM6dFs0XT90WzRdLnNwbGl0KFwiJlwiKTpbXX19ZnVuY3Rpb24gVGUoZSl7Y29uc3QgdD1lLnBhcmFtcy5sZW5ndGg/XCI/XCIrZS5wYXJhbXMuam9pbihcIiZcIik6XCJcIjtyZXR1cm5gJHtlLnByb3RvY29sfTovLyR7ZS5hdXRob3JpdHl9JHtlLnBhdGh9JHt0fWB9ZnVuY3Rpb24gRWUoZSl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3QgdD1lLnNwbGl0KFwiLlwiKTtpZighdHx8MyE9PXQubGVuZ3RoKXJldHVybiBudWxsO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoci5hdG9iKHRbMV0pLnNwbGl0KFwiXCIpLm1hcChlPT5cIiVcIisoXCIwMFwiK2UuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKSkuam9pbihcIlwiKSkpfWNhdGNoKGUpe3JldHVybiBudWxsfX1jbGFzcyBTZXtjb25zdHJ1Y3RvcihlKXt0aGlzLnR5cGU9ZSx0aGlzLmFub25JZD1udWxsLHRoaXMuZXZlbnREYXRhPXt9LHRoaXMucXVldWU9W10sdGhpcy5wZW5kaW5nUmVxdWVzdD1udWxsfWdldFN0b3JhZ2VLZXkoZSl7Y29uc3QgdD1FZShvLkFDQ0VTU19UT0tFTik7bGV0IG49XCJcIjtyZXR1cm4gbj10JiZ0LnU/ci5idG9hKGVuY29kZVVSSUNvbXBvbmVudCh0LnUpLnJlcGxhY2UoLyUoWzAtOUEtRl17Mn0pL2csKGUsdCk9PlN0cmluZy5mcm9tQ2hhckNvZGUoTnVtYmVyKFwiMHhcIit0KSkpKTpvLkFDQ0VTU19UT0tFTnx8XCJcIixlP2BtYXBib3guZXZlbnREYXRhLiR7ZX06JHtufWA6XCJtYXBib3guZXZlbnREYXRhOlwiK259ZmV0Y2hFdmVudERhdGEoKXtjb25zdCBlPUgoXCJsb2NhbFN0b3JhZ2VcIiksdD10aGlzLmdldFN0b3JhZ2VLZXkoKSxuPXRoaXMuZ2V0U3RvcmFnZUtleShcInV1aWRcIik7aWYoZSl0cnl7Y29uc3QgZT1yLmxvY2FsU3RvcmFnZS5nZXRJdGVtKHQpO2UmJih0aGlzLmV2ZW50RGF0YT1KU09OLnBhcnNlKGUpKTtjb25zdCBpPXIubG9jYWxTdG9yYWdlLmdldEl0ZW0obik7aSYmKHRoaXMuYW5vbklkPWkpfWNhdGNoKGUpe1YoXCJVbmFibGUgdG8gcmVhZCBmcm9tIExvY2FsU3RvcmFnZVwiKX19c2F2ZUV2ZW50RGF0YSgpe2NvbnN0IGU9SChcImxvY2FsU3RvcmFnZVwiKSx0PXRoaXMuZ2V0U3RvcmFnZUtleSgpLG49dGhpcy5nZXRTdG9yYWdlS2V5KFwidXVpZFwiKTtpZihlKXRyeXtyLmxvY2FsU3RvcmFnZS5zZXRJdGVtKG4sdGhpcy5hbm9uSWQpLE9iamVjdC5rZXlzKHRoaXMuZXZlbnREYXRhKS5sZW5ndGg+PTEmJnIubG9jYWxTdG9yYWdlLnNldEl0ZW0odCxKU09OLnN0cmluZ2lmeSh0aGlzLmV2ZW50RGF0YSkpfWNhdGNoKGUpe1YoXCJVbmFibGUgdG8gd3JpdGUgdG8gTG9jYWxTdG9yYWdlXCIpfX1wcm9jZXNzUmVxdWVzdHMoZSl7fXBvc3RFdmVudChlLHQscixuKXtpZighby5FVkVOVFNfVVJMKXJldHVybjtjb25zdCBpPXdlKG8uRVZFTlRTX1VSTCk7aS5wYXJhbXMucHVzaChcImFjY2Vzc190b2tlbj1cIisobnx8by5BQ0NFU1NfVE9LRU58fFwiXCIpKTtjb25zdCBhPXtldmVudDp0aGlzLnR5cGUsY3JlYXRlZDpuZXcgRGF0ZShlKS50b0lTT1N0cmluZygpfSxzPXQ/SShhLHQpOmEsbD17dXJsOlRlKGkpLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJ0ZXh0L3BsYWluXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoW3NdKX07dGhpcy5wZW5kaW5nUmVxdWVzdD1mdW5jdGlvbihlLHQpe3JldHVybiBjZShJKGUse21ldGhvZDpcIlBPU1RcIn0pLHQpfShsLGU9Pnt0aGlzLnBlbmRpbmdSZXF1ZXN0PW51bGwscihlKSx0aGlzLnNhdmVFdmVudERhdGEoKSx0aGlzLnByb2Nlc3NSZXF1ZXN0cyhuKX0pfXF1ZXVlUmVxdWVzdChlLHQpe3RoaXMucXVldWUucHVzaChlKSx0aGlzLnByb2Nlc3NSZXF1ZXN0cyh0KX19Y29uc3QgQ2U9bmV3IGNsYXNzIGV4dGVuZHMgU2V7Y29uc3RydWN0b3IoZSl7c3VwZXIoXCJhcHBVc2VyVHVybnN0aWxlXCIpLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VuPWV9cG9zdFR1cm5zdGlsZUV2ZW50KGUsdCl7by5FVkVOVFNfVVJMJiZvLkFDQ0VTU19UT0tFTiYmQXJyYXkuaXNBcnJheShlKSYmZS5zb21lKGU9Pl9lKGUpfHx5ZShlKSkmJnRoaXMucXVldWVSZXF1ZXN0KERhdGUubm93KCksdCl9cHJvY2Vzc1JlcXVlc3RzKGUpe2lmKHRoaXMucGVuZGluZ1JlcXVlc3R8fDA9PT10aGlzLnF1ZXVlLmxlbmd0aClyZXR1cm47dGhpcy5hbm9uSWQmJnRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzJiZ0aGlzLmV2ZW50RGF0YS50b2tlblV8fHRoaXMuZmV0Y2hFdmVudERhdGEoKTtjb25zdCB0PUVlKG8uQUNDRVNTX1RPS0VOKSxyPXQ/dC51Om8uQUNDRVNTX1RPS0VOO2xldCBpPXIhPT10aGlzLmV2ZW50RGF0YS50b2tlblU7TCh0aGlzLmFub25JZCl8fCh0aGlzLmFub25JZD1EKCksaT0hMCk7Y29uc3QgYT10aGlzLnF1ZXVlLnNoaWZ0KCk7aWYodGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3Mpe2NvbnN0IGU9bmV3IERhdGUodGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MpLHQ9bmV3IERhdGUoYSkscj0oYS10aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2VzcykvODY0ZTU7aT1pfHxyPj0xfHxyPC0xfHxlLmdldERhdGUoKSE9PXQuZ2V0RGF0ZSgpfWVsc2UgaT0hMDtpP3RoaXMucG9zdEV2ZW50KGEse3Nka0lkZW50aWZpZXI6XCJtYXBib3gtZ2wtanNcIixzZGtWZXJzaW9uOm4sc2t1SWQ6ZCxcImVuYWJsZWQudGVsZW1ldHJ5XCI6ITEsdXNlcklkOnRoaXMuYW5vbklkfSxlPT57ZXx8KHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzPWEsdGhpcy5ldmVudERhdGEudG9rZW5VPXIpfSxlKTp0aGlzLnByb2Nlc3NSZXF1ZXN0cygpfX0sTWU9Q2UucG9zdFR1cm5zdGlsZUV2ZW50LmJpbmQoQ2UpLGtlPW5ldyBjbGFzcyBleHRlbmRzIFNle2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJtYXAubG9hZFwiKSx0aGlzLnN1Y2Nlc3M9e30sdGhpcy5za3VUb2tlbj1cIlwifXBvc3RNYXBMb2FkRXZlbnQoZSx0LHIsbil7dGhpcy5za3VUb2tlbj10LHRoaXMuZXJyb3JDYj1uLG8uRVZFTlRTX1VSTCYmKHJ8fG8uQUNDRVNTX1RPS0VOP3RoaXMucXVldWVSZXF1ZXN0KHtpZDplLHRpbWVzdGFtcDpEYXRlLm5vdygpfSxyKTp0aGlzLmVycm9yQ2IobmV3IEVycm9yKGdlKSkpfXByb2Nlc3NSZXF1ZXN0cyhlKXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0e2lkOnQsdGltZXN0YW1wOnJ9PXRoaXMucXVldWUuc2hpZnQoKTt0JiZ0aGlzLnN1Y2Nlc3NbdF18fCh0aGlzLmFub25JZHx8dGhpcy5mZXRjaEV2ZW50RGF0YSgpLEwodGhpcy5hbm9uSWQpfHwodGhpcy5hbm9uSWQ9RCgpKSx0aGlzLnBvc3RFdmVudChyLHtzZGtJZGVudGlmaWVyOlwibWFwYm94LWdsLWpzXCIsc2RrVmVyc2lvbjpuLHNrdUlkOmQsc2t1VG9rZW46dGhpcy5za3VUb2tlbix1c2VySWQ6dGhpcy5hbm9uSWR9LGU9PntlP3RoaXMuZXJyb3JDYihlKTp0JiYodGhpcy5zdWNjZXNzW3RdPSEwKX0sZSkpfX0sQWU9a2UucG9zdE1hcExvYWRFdmVudC5iaW5kKGtlKSxJZT1uZXcgY2xhc3MgZXh0ZW5kcyBTZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwiZ2xqcy5wZXJmb3JtYW5jZVwiKX1wb3N0UGVyZm9ybWFuY2VFdmVudChlLHQpe28uRVZFTlRTX1VSTCYmKGV8fG8uQUNDRVNTX1RPS0VOKSYmdGhpcy5xdWV1ZVJlcXVlc3Qoe3RpbWVzdGFtcDpEYXRlLm5vdygpLHBlcmZvcm1hbmNlRGF0YTp0fSxlKX1wcm9jZXNzUmVxdWVzdHMoZSl7aWYodGhpcy5wZW5kaW5nUmVxdWVzdHx8MD09PXRoaXMucXVldWUubGVuZ3RoKXJldHVybjtjb25zdHt0aW1lc3RhbXA6dCxwZXJmb3JtYW5jZURhdGE6aX09dGhpcy5xdWV1ZS5zaGlmdCgpLG89ZnVuY3Rpb24oZSl7Y29uc3QgdD1yLnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJyZXNvdXJjZVwiKSxpPXIucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm1hcmtcIiksbz1mdW5jdGlvbihlKXtjb25zdCB0PXt9O2lmKGUpZm9yKGNvbnN0IHIgaW4gZSlpZihcIm90aGVyXCIhPT1yKWZvcihjb25zdCBuIG9mIGVbcl0pe2NvbnN0IGU9citcIlJlcXVlc3RDb3VudFwiLGk9citcIlJlc29sdmVSYW5nZU1pblwiLG89citcIlJlc29sdmVSYW5nZU1heFwiO3RbaV09TWF0aC5taW4odFtpXXx8MS8wLG4uc3RhcnRUaW1lKSx0W29dPU1hdGgubWF4KHRbb118fC0xLzAsbi5yZXNwb25zZUVuZCksdm9pZCAwPT09dFtlXSYmKHRbZV09MCksKyt0W2VdfXJldHVybiB0fShmdW5jdGlvbihlLHQpe2NvbnN0IHI9e307aWYoZSlmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBlPXQobik7dm9pZCAwPT09cltlXSYmKHJbZV09W10pLHJbZV0ucHVzaChuKX1yZXR1cm4gcn0odCxCZSkpLGE9ci5kZXZpY2VQaXhlbFJhdGlvLHM9ci5uYXZpZ2F0b3IuY29ubmVjdGlvbnx8ci5uYXZpZ2F0b3IubW96Q29ubmVjdGlvbnx8ci5uYXZpZ2F0b3Iud2Via2l0Q29ubmVjdGlvbixsPXtjb3VudGVyczpbXSxtZXRhZGF0YTpbXSxhdHRyaWJ1dGVzOltdfSxjPShlLHQscik9PntudWxsIT1yJiZlLnB1c2goe25hbWU6dCx2YWx1ZTpyLnRvU3RyaW5nKCl9KX07Zm9yKGNvbnN0IGUgaW4gbyljKGwuY291bnRlcnMsZSxvW2VdKTtpZihlLmludGVyYWN0aW9uUmFuZ2VbMF0hPT0xLzAmJmUuaW50ZXJhY3Rpb25SYW5nZVsxXSE9PS0xLzAmJihjKGwuY291bnRlcnMsXCJpbnRlcmFjdGlvblJhbmdlTWluXCIsZS5pbnRlcmFjdGlvblJhbmdlWzBdKSxjKGwuY291bnRlcnMsXCJpbnRlcmFjdGlvblJhbmdlTWF4XCIsZS5pbnRlcmFjdGlvblJhbmdlWzFdKSksaSlmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhMZSkpe2NvbnN0IHQ9TGVbZV0scj1pLmZpbmQoZT0+ZS5uYW1lPT09dCk7ciYmYyhsLmNvdW50ZXJzLHQsci5zdGFydFRpbWUpfXJldHVybiBjKGwuY291bnRlcnMsXCJ2aXNpYmlsaXR5SGlkZGVuXCIsZS52aXNpYmlsaXR5SGlkZGVuKSxjKGwuYXR0cmlidXRlcyxcInN0eWxlXCIsZnVuY3Rpb24oZSl7aWYoZSlmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXQubmFtZS5zcGxpdChcIj9cIilbMF07aWYodmUoZSkpe2NvbnN0IHQ9ZS5zcGxpdChcIi9cIikuc2xpY2UoLTIpO2lmKDI9PT10Lmxlbmd0aClyZXR1cm5gbWFwYm94Oi8vc3R5bGVzLyR7dFswXX0vJHt0WzFdfWB9fX0odCkpLGMobC5hdHRyaWJ1dGVzLFwidGVycmFpbkVuYWJsZWRcIixlLnRlcnJhaW5FbmFibGVkP1widHJ1ZVwiOlwiZmFsc2VcIiksYyhsLmF0dHJpYnV0ZXMsXCJmb2dFbmFibGVkXCIsZS5mb2dFbmFibGVkP1widHJ1ZVwiOlwiZmFsc2VcIiksYyhsLmF0dHJpYnV0ZXMsXCJwcm9qZWN0aW9uXCIsZS5wcm9qZWN0aW9uLm5hbWUpLGMobC5hdHRyaWJ1dGVzLFwiem9vbVwiLGUuem9vbSksYyhsLm1ldGFkYXRhLFwiZGV2aWNlUGl4ZWxSYXRpb1wiLGEpLGMobC5tZXRhZGF0YSxcImNvbm5lY3Rpb25FZmZlY3RpdmVUeXBlXCIscz9zLmVmZmVjdGl2ZVR5cGU6dm9pZCAwKSxjKGwubWV0YWRhdGEsXCJuYXZpZ2F0b3JVc2VyQWdlbnRcIixyLm5hdmlnYXRvci51c2VyQWdlbnQpLGMobC5tZXRhZGF0YSxcInNjcmVlbldpZHRoXCIsci5zY3JlZW4ud2lkdGgpLGMobC5tZXRhZGF0YSxcInNjcmVlbkhlaWdodFwiLHIuc2NyZWVuLmhlaWdodCksYyhsLm1ldGFkYXRhLFwid2luZG93V2lkdGhcIixyLmlubmVyV2lkdGgpLGMobC5tZXRhZGF0YSxcIndpbmRvd0hlaWdodFwiLHIuaW5uZXJIZWlnaHQpLGMobC5tZXRhZGF0YSxcIm1hcFdpZHRoXCIsZS53aWR0aC9hKSxjKGwubWV0YWRhdGEsXCJtYXBIZWlnaHRcIixlLmhlaWdodC9hKSxjKGwubWV0YWRhdGEsXCJ3ZWJnbFJlbmRlcmVyXCIsZS5yZW5kZXJlciksYyhsLm1ldGFkYXRhLFwid2ViZ2xWZW5kb3JcIixlLnZlbmRvciksYyhsLm1ldGFkYXRhLFwic2RrVmVyc2lvblwiLG4pLGMobC5tZXRhZGF0YSxcInNka0lkZW50aWZpZXJcIixcIm1hcGJveC1nbC1qc1wiKSxsfShpKTtmb3IoY29uc3QgZSBvZiBvLm1ldGFkYXRhKTtmb3IoY29uc3QgZSBvZiBvLmNvdW50ZXJzKTtmb3IoY29uc3QgZSBvZiBvLmF0dHJpYnV0ZXMpO3RoaXMucG9zdEV2ZW50KHQsbywoKT0+e30sZSl9fSxQZT1JZS5wb3N0UGVyZm9ybWFuY2VFdmVudC5iaW5kKEllKSx6ZT1uZXcgY2xhc3MgZXh0ZW5kcyBTZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwibWFwLmF1dGhcIiksdGhpcy5zdWNjZXNzPXt9LHRoaXMuc2t1VG9rZW49XCJcIn1nZXRTZXNzaW9uKGUsdCxyLG4pe2lmKCFvLkFQSV9VUkx8fCFvLlNFU1NJT05fUEFUSClyZXR1cm47Y29uc3QgaT13ZShvLkFQSV9VUkwrby5TRVNTSU9OX1BBVEgpO2kucGFyYW1zLnB1c2goXCJza3U9XCIrKHR8fFwiXCIpKSxpLnBhcmFtcy5wdXNoKFwiYWNjZXNzX3Rva2VuPVwiKyhufHxvLkFDQ0VTU19UT0tFTnx8XCJcIikpO2NvbnN0IGE9e3VybDpUZShpKSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwidGV4dC9wbGFpblwifX07dGhpcy5wZW5kaW5nUmVxdWVzdD1mdW5jdGlvbihlLHQpe3JldHVybiBjZShJKGUse21ldGhvZDpcIkdFVFwifSksdCl9KGEsZT0+e3RoaXMucGVuZGluZ1JlcXVlc3Q9bnVsbCxyKGUpLHRoaXMuc2F2ZUV2ZW50RGF0YSgpLHRoaXMucHJvY2Vzc1JlcXVlc3RzKG4pfSl9Z2V0U2Vzc2lvbkFQSShlLHQscixuKXt0aGlzLnNrdVRva2VuPXQsdGhpcy5lcnJvckNiPW4sby5TRVNTSU9OX1BBVEgmJm8uQVBJX1VSTCYmKHJ8fG8uQUNDRVNTX1RPS0VOP3RoaXMucXVldWVSZXF1ZXN0KHtpZDplLHRpbWVzdGFtcDpEYXRlLm5vdygpfSxyKTp0aGlzLmVycm9yQ2IobmV3IEVycm9yKGdlKSkpfXByb2Nlc3NSZXF1ZXN0cyhlKXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0e2lkOnQsdGltZXN0YW1wOnJ9PXRoaXMucXVldWUuc2hpZnQoKTt0JiZ0aGlzLnN1Y2Nlc3NbdF18fHRoaXMuZ2V0U2Vzc2lvbihyLHRoaXMuc2t1VG9rZW4sZT0+e2U/dGhpcy5lcnJvckNiKGUpOnQmJih0aGlzLnN1Y2Nlc3NbdF09ITApfSxlKX19LERlPXplLmdldFNlc3Npb25BUEkuYmluZCh6ZSksUmU9bmV3IFNldCxMZT17Y3JlYXRlOlwiY3JlYXRlXCIsbG9hZDpcImxvYWRcIixmdWxsTG9hZDpcImZ1bGxMb2FkXCJ9LE9lPXttYXJrKGUpe3IucGVyZm9ybWFuY2UubWFyayhlKX0sbWVhc3VyZShlLHQsbil7ci5wZXJmb3JtYW5jZS5tZWFzdXJlKGUsdCxuKX19O2Z1bmN0aW9uIEJlKGUpe2NvbnN0IHQ9ZS5uYW1lLnNwbGl0KFwiP1wiKVswXTtyZXR1cm4gdC5pbmNsdWRlcyhcIm1hcGJveC1nbC5qc1wiKT9cImphdmFzY3JpcHRcIjp0LmluY2x1ZGVzKFwibWFwYm94LWdsLmNzc1wiKT9cImNzc1wiOmZ1bmN0aW9uKGUpe3JldHVybiBvLkFQSV9GT05UU19SRUdFWC50ZXN0KGUpfSh0KT9cImZvbnRSYW5nZVwiOnhlKHQpP1wic3ByaXRlXCI6dmUodCk/XCJzdHlsZVwiOmZ1bmN0aW9uKGUpe3JldHVybiBvLkFQSV9USUxFSlNPTl9SRUdFWC50ZXN0KGUpfSh0KT9cInRpbGVqc29uXCI6XCJvdGhlclwifWNvbnN0IEZlPXIucGVyZm9ybWFuY2U7ZnVuY3Rpb24gamUoZSl7Y29uc3QgdD1lP2UudXJsLnRvU3RyaW5nKCk6dm9pZCAwO3JldHVybiBGZS5nZXRFbnRyaWVzQnlOYW1lKHQpfWxldCBVZSxOZSxWZSxHZTtjb25zdCBxZT17bm93OigpPT52b2lkIDAhPT1WZT9WZTpyLnBlcmZvcm1hbmNlLm5vdygpLHNldE5vdyhlKXtWZT1lfSxyZXN0b3JlTm93KCl7VmU9dm9pZCAwfSxmcmFtZShlKXtjb25zdCB0PXIucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpO3JldHVybntjYW5jZWw6KCk9PnIuY2FuY2VsQW5pbWF0aW9uRnJhbWUodCl9fSxnZXRJbWFnZURhdGEoZSx0PTApe2NvbnN0e3dpZHRoOm4saGVpZ2h0Oml9PWU7R2V8fChHZT1yLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikpO2NvbnN0IG89R2UuZ2V0Q29udGV4dChcIjJkXCIpO2lmKCFvKXRocm93IG5ldyBFcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2FudmFzIDJkIGNvbnRleHRcIik7cmV0dXJuKG4+R2Uud2lkdGh8fGk+R2UuaGVpZ2h0KSYmKEdlLndpZHRoPW4sR2UuaGVpZ2h0PWkpLG8uY2xlYXJSZWN0KC10LC10LG4rMip0LGkrMip0KSxvLmRyYXdJbWFnZShlLDAsMCxuLGkpLG8uZ2V0SW1hZ2VEYXRhKC10LC10LG4rMip0LGkrMip0KX0scmVzb2x2ZVVSTDplPT4oVWV8fChVZT1yLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpKSxVZS5ocmVmPWUsVWUuaHJlZiksZ2V0IGRldmljZVBpeGVsUmF0aW8oKXtyZXR1cm4gci5kZXZpY2VQaXhlbFJhdGlvfSxnZXQgcHJlZmVyc1JlZHVjZWRNb3Rpb24oKXtyZXR1cm4hIXIubWF0Y2hNZWRpYSYmKG51bGw9PU5lJiYoTmU9ci5tYXRjaE1lZGlhKFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb246IHJlZHVjZSlcIikpLE5lLm1hdGNoZXMpfX07ZnVuY3Rpb24gWmUoZSx0LHIpe3JbZV0mJi0xIT09cltlXS5pbmRleE9mKHQpfHwocltlXT1yW2VdfHxbXSxyW2VdLnB1c2godCkpfWZ1bmN0aW9uICRlKGUsdCxyKXtpZihyJiZyW2VdKXtjb25zdCBuPXJbZV0uaW5kZXhPZih0KTstMSE9PW4mJnJbZV0uc3BsaWNlKG4sMSl9fWNsYXNzIFdle2NvbnN0cnVjdG9yKGUsdD17fSl7SSh0aGlzLHQpLHRoaXMudHlwZT1lfX1jbGFzcyBYZSBleHRlbmRzIFdle2NvbnN0cnVjdG9yKGUsdD17fSl7c3VwZXIoXCJlcnJvclwiLEkoe2Vycm9yOmV9LHQpKX19Y2xhc3MgSGV7b24oZSx0KXtyZXR1cm4gdGhpcy5fbGlzdGVuZXJzPXRoaXMuX2xpc3RlbmVyc3x8e30sWmUoZSx0LHRoaXMuX2xpc3RlbmVycyksdGhpc31vZmYoZSx0KXtyZXR1cm4gJGUoZSx0LHRoaXMuX2xpc3RlbmVycyksJGUoZSx0LHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHRoaXN9b25jZShlLHQpe3JldHVybiB0Pyh0aGlzLl9vbmVUaW1lTGlzdGVuZXJzPXRoaXMuX29uZVRpbWVMaXN0ZW5lcnN8fHt9LFplKGUsdCx0aGlzLl9vbmVUaW1lTGlzdGVuZXJzKSx0aGlzKTpuZXcgUHJvbWlzZSh0PT50aGlzLm9uY2UoZSx0KSl9ZmlyZShlLHQpe1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1uZXcgV2UoZSx0fHx7fSkpO2NvbnN0IHI9ZS50eXBlO2lmKHRoaXMubGlzdGVucyhyKSl7ZS50YXJnZXQ9dGhpcztjb25zdCB0PXRoaXMuX2xpc3RlbmVycyYmdGhpcy5fbGlzdGVuZXJzW3JdP3RoaXMuX2xpc3RlbmVyc1tyXS5zbGljZSgpOltdO2Zvcihjb25zdCByIG9mIHQpci5jYWxsKHRoaXMsZSk7Y29uc3Qgbj10aGlzLl9vbmVUaW1lTGlzdGVuZXJzJiZ0aGlzLl9vbmVUaW1lTGlzdGVuZXJzW3JdP3RoaXMuX29uZVRpbWVMaXN0ZW5lcnNbcl0uc2xpY2UoKTpbXTtmb3IoY29uc3QgdCBvZiBuKSRlKHIsdCx0aGlzLl9vbmVUaW1lTGlzdGVuZXJzKSx0LmNhbGwodGhpcyxlKTtjb25zdCBpPXRoaXMuX2V2ZW50ZWRQYXJlbnQ7aSYmKEkoZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGlzLl9ldmVudGVkUGFyZW50RGF0YT90aGlzLl9ldmVudGVkUGFyZW50RGF0YSgpOnRoaXMuX2V2ZW50ZWRQYXJlbnREYXRhKSxpLmZpcmUoZSkpfWVsc2UgZSBpbnN0YW5jZW9mIFhlJiZjb25zb2xlLmVycm9yKGUuZXJyb3IpO3JldHVybiB0aGlzfWxpc3RlbnMoZSl7cmV0dXJuISEodGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnNbZV0mJnRoaXMuX2xpc3RlbmVyc1tlXS5sZW5ndGg+MHx8dGhpcy5fb25lVGltZUxpc3RlbmVycyYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tlXSYmdGhpcy5fb25lVGltZUxpc3RlbmVyc1tlXS5sZW5ndGg+MHx8dGhpcy5fZXZlbnRlZFBhcmVudCYmdGhpcy5fZXZlbnRlZFBhcmVudC5saXN0ZW5zKGUpKX1zZXRFdmVudGVkUGFyZW50KGUsdCl7cmV0dXJuIHRoaXMuX2V2ZW50ZWRQYXJlbnQ9ZSx0aGlzLl9ldmVudGVkUGFyZW50RGF0YT10LHRoaXN9fXZhciBZZT1KU09OLnBhcnNlKCd7XCIkdmVyc2lvblwiOjgsXCIkcm9vdFwiOntcInZlcnNpb25cIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjpbOF19LFwibmFtZVwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifSxcImNlbnRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCJ9LFwiem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwifSxcImJlYXJpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwidW5pdHNcIjpcImRlZ3JlZXNcIn0sXCJwaXRjaFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJ1bml0c1wiOlwiZGVncmVlc1wifSxcImxpZ2h0XCI6e1widHlwZVwiOlwibGlnaHRcIn0sXCJ0ZXJyYWluXCI6e1widHlwZVwiOlwidGVycmFpblwifSxcImZvZ1wiOntcInR5cGVcIjpcImZvZ1wifSxcInNvdXJjZXNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJzb3VyY2VzXCJ9LFwic3ByaXRlXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiZ2x5cGhzXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidHJhbnNpdGlvblwiOntcInR5cGVcIjpcInRyYW5zaXRpb25cIn0sXCJwcm9qZWN0aW9uXCI6e1widHlwZVwiOlwicHJvamVjdGlvblwifSxcImxheWVyc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibGF5ZXJcIn19LFwic291cmNlc1wiOntcIipcIjp7XCJ0eXBlXCI6XCJzb3VyY2VcIn19LFwic291cmNlXCI6W1wic291cmNlX3ZlY3RvclwiLFwic291cmNlX3Jhc3RlclwiLFwic291cmNlX3Jhc3Rlcl9kZW1cIixcInNvdXJjZV9nZW9qc29uXCIsXCJzb3VyY2VfdmlkZW9cIixcInNvdXJjZV9pbWFnZVwiXSxcInNvdXJjZV92ZWN0b3JcIjp7XCJ0eXBlXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmVjdG9yXCI6e319fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOnt9LFwidG1zXCI6e319LFwiZGVmYXVsdFwiOlwieHl6XCJ9LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIyfSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwicHJvbW90ZUlkXCI6e1widHlwZVwiOlwicHJvbW90ZUlkXCJ9LFwidm9sYXRpbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiKlwiOntcInR5cGVcIjpcIipcIn19LFwic291cmNlX3Jhc3RlclwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJyYXN0ZXJcIjp7fX19LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImJvdW5kc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjo0LFwiZGVmYXVsdFwiOlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIyfSxcInRpbGVTaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NTEyLFwidW5pdHNcIjpcInBpeGVsc1wifSxcInNjaGVtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInh5elwiOnt9LFwidG1zXCI6e319LFwiZGVmYXVsdFwiOlwieHl6XCJ9LFwiYXR0cmlidXRpb25cIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJ2b2xhdGlsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZX0sXCIqXCI6e1widHlwZVwiOlwiKlwifX0sXCJzb3VyY2VfcmFzdGVyX2RlbVwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJyYXN0ZXItZGVtXCI6e319fSxcInVybFwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInRpbGVzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJib3VuZHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbLTE4MCwtODUuMDUxMTI5LDE4MCw4NS4wNTExMjldfSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowfSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyMn0sXCJ0aWxlU2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjUxMixcInVuaXRzXCI6XCJwaXhlbHNcIn0sXCJhdHRyaWJ1dGlvblwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcImVuY29kaW5nXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widGVycmFyaXVtXCI6e30sXCJtYXBib3hcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBib3hcIn0sXCJ2b2xhdGlsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZX0sXCIqXCI6e1widHlwZVwiOlwiKlwifX0sXCJzb3VyY2VfZ2VvanNvblwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJnZW9qc29uXCI6e319fSxcImRhdGFcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjE4fSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiYnVmZmVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTI4LFwibWF4aW11bVwiOjUxMixcIm1pbmltdW1cIjowfSxcImZpbHRlclwiOntcInR5cGVcIjpcIipcIn0sXCJ0b2xlcmFuY2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjM3NX0sXCJjbHVzdGVyXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImNsdXN0ZXJSYWRpdXNcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1MCxcIm1pbmltdW1cIjowfSxcImNsdXN0ZXJNYXhab29tXCI6e1widHlwZVwiOlwibnVtYmVyXCJ9LFwiY2x1c3Rlck1pblBvaW50c1wiOntcInR5cGVcIjpcIm51bWJlclwifSxcImNsdXN0ZXJQcm9wZXJ0aWVzXCI6e1widHlwZVwiOlwiKlwifSxcImxpbmVNZXRyaWNzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcImdlbmVyYXRlSWRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwicHJvbW90ZUlkXCI6e1widHlwZVwiOlwicHJvbW90ZUlkXCJ9fSxcInNvdXJjZV92aWRlb1wiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aWRlb1wiOnt9fX0sXCJ1cmxzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJzdHJpbmdcIn0sXCJjb29yZGluYXRlc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjo0LFwidmFsdWVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIn19fSxcInNvdXJjZV9pbWFnZVwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJpbWFnZVwiOnt9fX0sXCJ1cmxcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJjb29yZGluYXRlc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjo0LFwidmFsdWVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIn19fSxcImxheWVyXCI6e1wiaWRcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInJlcXVpcmVkXCI6dHJ1ZX0sXCJ0eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiZmlsbFwiOnt9LFwibGluZVwiOnt9LFwic3ltYm9sXCI6e30sXCJjaXJjbGVcIjp7fSxcImhlYXRtYXBcIjp7fSxcImZpbGwtZXh0cnVzaW9uXCI6e30sXCJyYXN0ZXJcIjp7fSxcImhpbGxzaGFkZVwiOnt9LFwiYmFja2dyb3VuZFwiOnt9LFwic2t5XCI6e319LFwicmVxdWlyZWRcIjp0cnVlfSxcIm1ldGFkYXRhXCI6e1widHlwZVwiOlwiKlwifSxcInNvdXJjZVwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInNvdXJjZS1sYXllclwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcIm1pbnpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0fSxcIm1heHpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0fSxcImZpbHRlclwiOntcInR5cGVcIjpcImZpbHRlclwifSxcImxheW91dFwiOntcInR5cGVcIjpcImxheW91dFwifSxcInBhaW50XCI6e1widHlwZVwiOlwicGFpbnRcIn19LFwibGF5b3V0XCI6W1wibGF5b3V0X2ZpbGxcIixcImxheW91dF9saW5lXCIsXCJsYXlvdXRfY2lyY2xlXCIsXCJsYXlvdXRfaGVhdG1hcFwiLFwibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCIsXCJsYXlvdXRfc3ltYm9sXCIsXCJsYXlvdXRfcmFzdGVyXCIsXCJsYXlvdXRfaGlsbHNoYWRlXCIsXCJsYXlvdXRfYmFja2dyb3VuZFwiLFwibGF5b3V0X3NreVwiXSxcImxheW91dF9iYWNrZ3JvdW5kXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfc2t5XCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfZmlsbFwiOntcImZpbGwtc29ydC1rZXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfY2lyY2xlXCI6e1wiY2lyY2xlLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X2hlYXRtYXBcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9maWxsLWV4dHJ1c2lvblwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJpdmF0ZVwiOnRydWUsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfbGluZVwiOntcImxpbmUtY2FwXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYnV0dFwiOnt9LFwicm91bmRcIjp7fSxcInNxdWFyZVwiOnt9fSxcImRlZmF1bHRcIjpcImJ1dHRcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1qb2luXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYmV2ZWxcIjp7fSxcInJvdW5kXCI6e30sXCJtaXRlclwiOnt9fSxcImRlZmF1bHRcIjpcIm1pdGVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtbWl0ZXItbGltaXRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyLFwicmVxdWlyZXNcIjpbe1wibGluZS1qb2luXCI6XCJtaXRlclwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXJvdW5kLWxpbWl0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MS4wNSxcInJlcXVpcmVzXCI6W3tcImxpbmUtam9pblwiOlwicm91bmRcIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS1zb3J0LWtleVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9zeW1ib2xcIjp7XCJzeW1ib2wtcGxhY2VtZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicG9pbnRcIjp7fSxcImxpbmVcIjp7fSxcImxpbmUtY2VudGVyXCI6e319LFwiZGVmYXVsdFwiOlwicG9pbnRcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJzeW1ib2wtc3BhY2luZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjI1MCxcIm1pbmltdW1cIjoxLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbe1wic3ltYm9sLXBsYWNlbWVudFwiOlwibGluZVwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJzeW1ib2wtYXZvaWQtZWRnZXNcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic3ltYm9sLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInN5bWJvbC16LW9yZGVyXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYXV0b1wiOnt9LFwidmlld3BvcnQteVwiOnt9LFwic291cmNlXCI6e319LFwiZGVmYXVsdFwiOlwiYXV0b1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tYWxsb3ctb3ZlcmxhcFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1vcHRpb25hbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiLFwidGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fSxcImF1dG9cIjp7fX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1zaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcImZhY3RvciBvZiB0aGUgb3JpZ2luYWwgaWNvbiBzaXplXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi10ZXh0LWZpdFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm5vbmVcIjp7fSxcIndpZHRoXCI6e30sXCJoZWlnaHRcIjp7fSxcImJvdGhcIjp7fX0sXCJkZWZhdWx0XCI6XCJub25lXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIixcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjQsXCJkZWZhdWx0XCI6WzAsMCwwLDBdLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIsXCJ0ZXh0LWZpZWxkXCIse1wiaWNvbi10ZXh0LWZpdFwiOltcImJvdGhcIixcIndpZHRoXCIsXCJoZWlnaHRcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24taW1hZ2VcIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0b2tlbnNcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXJvdGF0ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJwZXJpb2RcIjozNjAsXCJ1bml0c1wiOlwiZGVncmVlc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tcGFkZGluZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24ta2VlcC11cHJpZ2h0XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIse1wiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIjpcIm1hcFwifSx7XCJzeW1ib2wtcGxhY2VtZW50XCI6W1wibGluZVwiLFwibGluZS1jZW50ZXJcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiY2VudGVyXCI6e30sXCJsZWZ0XCI6e30sXCJyaWdodFwiOnt9LFwidG9wXCI6e30sXCJib3R0b21cIjp7fSxcInRvcC1sZWZ0XCI6e30sXCJ0b3AtcmlnaHRcIjp7fSxcImJvdHRvbS1sZWZ0XCI6e30sXCJib3R0b20tcmlnaHRcIjp7fX0sXCJkZWZhdWx0XCI6XCJjZW50ZXJcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1waXRjaC1hbGlnbm1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e30sXCJhdXRvXCI6e319LFwiZGVmYXVsdFwiOlwiYXV0b1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcGl0Y2gtYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9LFwiYXV0b1wiOnt9fSxcImRlZmF1bHRcIjpcImF1dG9cIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fSxcImF1dG9cIjp7fX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1maWVsZFwiOntcInR5cGVcIjpcImZvcm1hdHRlZFwiLFwiZGVmYXVsdFwiOlwiXCIsXCJ0b2tlbnNcIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWZvbnRcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wiLFwiZGVmYXVsdFwiOltcIk9wZW4gU2FucyBSZWd1bGFyXCIsXCJBcmlhbCBVbmljb2RlIE1TIFJlZ3VsYXJcIl0sXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtc2l6ZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjE2LFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1tYXgtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxMCxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcImVtc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wic3ltYm9sLXBsYWNlbWVudFwiOltcInBvaW50XCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1saW5lLWhlaWdodFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEuMixcInVuaXRzXCI6XCJlbXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWxldHRlci1zcGFjaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInVuaXRzXCI6XCJlbXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWp1c3RpZnlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJhdXRvXCI6e30sXCJsZWZ0XCI6e30sXCJjZW50ZXJcIjp7fSxcInJpZ2h0XCI6e319LFwiZGVmYXVsdFwiOlwiY2VudGVyXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtcmFkaWFsLW9mZnNldFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwidW5pdHNcIjpcImVtc1wiLFwiZGVmYXVsdFwiOjAsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwidGV4dC12YXJpYWJsZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImNlbnRlclwiOnt9LFwibGVmdFwiOnt9LFwicmlnaHRcIjp7fSxcInRvcFwiOnt9LFwiYm90dG9tXCI6e30sXCJ0b3AtbGVmdFwiOnt9LFwidG9wLXJpZ2h0XCI6e30sXCJib3R0b20tbGVmdFwiOnt9LFwiYm90dG9tLXJpZ2h0XCI6e319LFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wic3ltYm9sLXBsYWNlbWVudFwiOltcInBvaW50XCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJjZW50ZXJcIjp7fSxcImxlZnRcIjp7fSxcInJpZ2h0XCI6e30sXCJ0b3BcIjp7fSxcImJvdHRvbVwiOnt9LFwidG9wLWxlZnRcIjp7fSxcInRvcC1yaWdodFwiOnt9LFwiYm90dG9tLWxlZnRcIjp7fSxcImJvdHRvbS1yaWdodFwiOnt9fSxcImRlZmF1bHRcIjpcImNlbnRlclwiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wiIVwiOlwidGV4dC12YXJpYWJsZS1hbmNob3JcIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LW1heC1hbmdsZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjQ1LFwidW5pdHNcIjpcImRlZ3JlZXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLHtcInN5bWJvbC1wbGFjZW1lbnRcIjpbXCJsaW5lXCIsXCJsaW5lLWNlbnRlclwiXX1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC13cml0aW5nLW1vZGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImhvcml6b250YWxcIjp7fSxcInZlcnRpY2FsXCI6e319LFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcm90YXRlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInBlcmlvZFwiOjM2MCxcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1wYWRkaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MixcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1rZWVwLXVwcmlnaHRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLHtcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCI6XCJtYXBcIn0se1wic3ltYm9sLXBsYWNlbWVudFwiOltcImxpbmVcIixcImxpbmUtY2VudGVyXCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC10cmFuc2Zvcm1cIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJub25lXCI6e30sXCJ1cHBlcmNhc2VcIjp7fSxcImxvd2VyY2FzZVwiOnt9fSxcImRlZmF1bHRcIjpcIm5vbmVcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1vZmZzZXRcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwidW5pdHNcIjpcImVtc1wiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiLHtcIiFcIjpcInRleHQtcmFkaWFsLW9mZnNldFwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1hbGxvdy1vdmVybGFwXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtaWdub3JlLXBsYWNlbWVudFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LW9wdGlvbmFsXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIsXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X3Jhc3RlclwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X2hpbGxzaGFkZVwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwiZmlsdGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCIqXCJ9LFwiZmlsdGVyX3N5bWJvbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdfX0sXCJmaWx0ZXJfZmlsbFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2xpbmVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9jaXJjbGVcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9maWxsLWV4dHJ1c2lvblwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2hlYXRtYXBcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19fSxcImZpbHRlcl9vcGVyYXRvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIj09XCI6e30sXCIhPVwiOnt9LFwiPlwiOnt9LFwiPj1cIjp7fSxcIjxcIjp7fSxcIjw9XCI6e30sXCJpblwiOnt9LFwiIWluXCI6e30sXCJhbGxcIjp7fSxcImFueVwiOnt9LFwibm9uZVwiOnt9LFwiaGFzXCI6e30sXCIhaGFzXCI6e30sXCJ3aXRoaW5cIjp7fX19LFwiZ2VvbWV0cnlfdHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIlBvaW50XCI6e30sXCJMaW5lU3RyaW5nXCI6e30sXCJQb2x5Z29uXCI6e319fSxcImZ1bmN0aW9uXCI6e1wiZXhwcmVzc2lvblwiOntcInR5cGVcIjpcImV4cHJlc3Npb25cIn0sXCJzdG9wc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiZnVuY3Rpb25fc3RvcFwifSxcImJhc2VcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjB9LFwicHJvcGVydHlcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcImRlZmF1bHRcIjpcIiR6b29tXCJ9LFwidHlwZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImlkZW50aXR5XCI6e30sXCJleHBvbmVudGlhbFwiOnt9LFwiaW50ZXJ2YWxcIjp7fSxcImNhdGVnb3JpY2FsXCI6e319LFwiZGVmYXVsdFwiOlwiZXhwb25lbnRpYWxcIn0sXCJjb2xvclNwYWNlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wicmdiXCI6e30sXCJsYWJcIjp7fSxcImhjbFwiOnt9fSxcImRlZmF1bHRcIjpcInJnYlwifSxcImRlZmF1bHRcIjp7XCJ0eXBlXCI6XCIqXCIsXCJyZXF1aXJlZFwiOmZhbHNlfX0sXCJmdW5jdGlvbl9zdG9wXCI6e1widHlwZVwiOlwiYXJyYXlcIixcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjI0LFwidmFsdWVcIjpbXCJudW1iZXJcIixcImNvbG9yXCJdLFwibGVuZ3RoXCI6Mn0sXCJleHByZXNzaW9uXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCIqXCIsXCJtaW5pbXVtXCI6MX0sXCJmb2dcIjp7XCJyYW5nZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJkZWZhdWx0XCI6WzAuNSwxMF0sXCJtaW5pbXVtXCI6LTIwLFwibWF4aW11bVwiOjIwLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwiY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOlwiI2ZmZmZmZlwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJoaWdoLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiMyNDVjZGZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwic3BhY2UtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInpvb21cIl0sNCxcIiMwMTBiMTlcIiw3LFwiIzM2N2FiOVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaG9yaXpvbi1ibGVuZFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInpvb21cIl0sNCwwLjIsNywwLjFdLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwic3Rhci1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJ6b29tXCJdLDUsMC4zNSw2LDBdLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9fSxcImxpZ2h0XCI6e1wiYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwiZGVmYXVsdFwiOlwidmlld3BvcnRcIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX19LFwicG9zaXRpb25cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwiZGVmYXVsdFwiOlsxLjE1LDIxMCwzMF0sXCJsZW5ndGhcIjozLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJjb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6XCIjZmZmZmZmXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOjAuNSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfX0sXCJwcm9qZWN0aW9uXCI6e1wibmFtZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImFsYmVyc1wiOnt9LFwiZXF1YWxFYXJ0aFwiOnt9LFwiZXF1aXJlY3Rhbmd1bGFyXCI6e30sXCJsYW1iZXJ0Q29uZm9ybWFsQ29uaWNcIjp7fSxcIm1lcmNhdG9yXCI6e30sXCJuYXR1cmFsRWFydGhcIjp7fSxcIndpbmtlbFRyaXBlbFwiOnt9LFwiZ2xvYmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJtZXJjYXRvclwiLFwicmVxdWlyZWRcIjp0cnVlfSxcImNlbnRlclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwibWluaW11bVwiOlstMTgwLC05MF0sXCJtYXhpbXVtXCI6WzE4MCw5MF0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCJuYW1lXCI6W1wiYWxiZXJzXCIsXCJsYW1iZXJ0Q29uZm9ybWFsQ29uaWNcIl19XX0sXCJwYXJhbGxlbHNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibGVuZ3RoXCI6MixcInZhbHVlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcIm1pbmltdW1cIjpbLTkwLC05MF0sXCJtYXhpbXVtXCI6WzkwLDkwXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcIm5hbWVcIjpbXCJhbGJlcnNcIixcImxhbWJlcnRDb25mb3JtYWxDb25pY1wiXX1dfX0sXCJ0ZXJyYWluXCI6e1wic291cmNlXCI6e1widHlwZVwiOlwic3RyaW5nXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwiZXhhZ2dlcmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEwMDAsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJzb3VyY2VcIl19fSxcInBhaW50XCI6W1wicGFpbnRfZmlsbFwiLFwicGFpbnRfbGluZVwiLFwicGFpbnRfY2lyY2xlXCIsXCJwYWludF9oZWF0bWFwXCIsXCJwYWludF9maWxsLWV4dHJ1c2lvblwiLFwicGFpbnRfc3ltYm9sXCIsXCJwYWludF9yYXN0ZXJcIixcInBhaW50X2hpbGxzaGFkZVwiLFwicGFpbnRfYmFja2dyb3VuZFwiLFwicGFpbnRfc2t5XCJdLFwicGFpbnRfZmlsbFwiOntcImZpbGwtYW50aWFsaWFzXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwiZmlsbC1wYXR0ZXJuXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLW91dGxpbmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJmaWxsLXBhdHRlcm5cIn0se1wiZmlsbC1hbnRpYWxpYXNcIjp0cnVlfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJmaWxsLXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCJ9fSxcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCI6e1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiOntcInR5cGVcIjpcInJlc29sdmVkSW1hZ2VcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwibWV0ZXJzXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcIm1ldGVyc1wiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjp0cnVlLFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiOntcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInR5cGVcIjpcIm51bWJlclwiLFwicHJpdmF0ZVwiOnRydWUsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXJhZGl1c1wiOntcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInR5cGVcIjpcIm51bWJlclwiLFwicHJpdmF0ZVwiOnRydWUsXCJkZWZhdWx0XCI6MyxcIm1pbmltdW1cIjowLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W1wiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIl19fSxcInBhaW50X2xpbmVcIjp7XCJsaW5lLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJsaW5lLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcInJlcXVpcmVzXCI6W1wibGluZS10cmFuc2xhdGVcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwibGluZS13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtZ2FwLXdpZHRoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1vZmZzZXRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1kYXNoYXJyYXlcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJsaW5lIHdpZHRoc1wiLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwibGluZS1wYXR0ZXJuXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCJ9LFwibGluZS1wYXR0ZXJuXCI6e1widHlwZVwiOlwicmVzb2x2ZWRJbWFnZVwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlblwifSxcImxpbmUtZ3JhZGllbnRcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwibGluZS1wYXR0ZXJuXCJ9LHtcInNvdXJjZVwiOlwiZ2VvanNvblwiLFwiaGFzXCI6e1wibGluZU1ldHJpY3NcIjp0cnVlfX1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wibGluZS1wcm9ncmVzc1wiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb2xvci1yYW1wXCJ9LFwibGluZS10cmltLW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwibWluaW11bVwiOlswLDBdLFwibWF4aW11bVwiOlsxLDFdLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wic291cmNlXCI6XCJnZW9qc29uXCIsXCJoYXNcIjp7XCJsaW5lTWV0cmljc1wiOnRydWV9fV0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJwYWludF9jaXJjbGVcIjp7XCJjaXJjbGUtcmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJjaXJjbGUtdHJhbnNsYXRlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS1waXRjaC1zY2FsZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcInZpZXdwb3J0XCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1zdHJva2UtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn19LFwicGFpbnRfaGVhdG1hcFwiOntcImhlYXRtYXAtcmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzAsXCJtaW5pbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImhlYXRtYXAtd2VpZ2h0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImhlYXRtYXAtaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoZWF0bWFwLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJoZWF0bWFwLWRlbnNpdHlcIl0sMCxcInJnYmEoMCwgMCwgMjU1LCAwKVwiLDAuMSxcInJveWFsYmx1ZVwiLDAuMyxcImN5YW5cIiwwLjUsXCJsaW1lXCIsMC43LFwieWVsbG93XCIsMSxcInJlZFwiXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImhlYXRtYXAtZGVuc2l0eVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb2xvci1yYW1wXCJ9LFwiaGVhdG1hcC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9zeW1ib2xcIjp7XCJpY29uLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1oYWxvLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcInJnYmEoMCwgMCwgMCwgMClcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24taGFsby13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24taGFsby1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIsXCJpY29uLXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJvdmVycmlkYWJsZVwiOnRydWUsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1oYWxvLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcInJnYmEoMCwgMCwgMCwgMClcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtaGFsby13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtaGFsby1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIsXCJ0ZXh0LXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfcmFzdGVyXCI6e1wicmFzdGVyLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWh1ZS1yb3RhdGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwiZGVncmVlc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWJyaWdodG5lc3MtbWluXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItc2F0dXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6LTEsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWNvbnRyYXN0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjotMSxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItcmVzYW1wbGluZ1wiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImxpbmVhclwiOnt9LFwibmVhcmVzdFwiOnt9fSxcImRlZmF1bHRcIjpcImxpbmVhclwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzAwLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJ1bml0c1wiOlwibWlsbGlzZWNvbmRzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfaGlsbHNoYWRlXCI6e1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjozMzUsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjozNTksXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aWV3cG9ydFwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjUsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjRkZGRkZGXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfYmFja2dyb3VuZFwiOntcImJhY2tncm91bmQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJiYWNrZ3JvdW5kLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiYmFja2dyb3VuZC1wYXR0ZXJuXCI6e1widHlwZVwiOlwicmVzb2x2ZWRJbWFnZVwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjcm9zcy1mYWRlZFwifSxcImJhY2tncm91bmQtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfc2t5XCI6e1wic2t5LXR5cGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJncmFkaWVudFwiOnt9LFwiYXRtb3NwaGVyZVwiOnt9fSxcImRlZmF1bHRcIjpcImF0bW9zcGhlcmVcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktYXRtb3NwaGVyZS1zdW5cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJtaW5pbXVtXCI6WzAsMF0sXCJtYXhpbXVtXCI6WzM2MCwxODBdLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImF0bW9zcGhlcmVcIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1hdG1vc3BoZXJlLXN1bi1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJhdG1vc3BoZXJlXCJ9XSxcImRlZmF1bHRcIjoxMCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEwMCxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktZ3JhZGllbnQtY2VudGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJncmFkaWVudFwifV0sXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6WzAsMF0sXCJsZW5ndGhcIjoyLFwidW5pdHNcIjpcImRlZ3JlZXNcIixcIm1pbmltdW1cIjpbMCwwXSxcIm1heGltdW1cIjpbMzYwLDE4MF0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWdyYWRpZW50LXJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImdyYWRpZW50XCJ9XSxcImRlZmF1bHRcIjo5MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjE4MCxcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktZ3JhZGllbnRcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIl0sMC44LFwiIzg3Y2VlYlwiLDEsXCJ3aGl0ZVwiXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJncmFkaWVudFwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJza3ktcmFkaWFsLXByb2dyZXNzXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNvbG9yLXJhbXBcIn0sXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIndoaXRlXCIsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCJza3ktdHlwZVwiOlwiYXRtb3NwaGVyZVwifV0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWF0bW9zcGhlcmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwid2hpdGVcIixcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJhdG1vc3BoZXJlXCJ9XSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwidHJhbnNpdGlvblwiOntcImR1cmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzAwLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwibWlsbGlzZWNvbmRzXCJ9LFwiZGVsYXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwibWlsbGlzZWNvbmRzXCJ9fSxcInByb3BlcnR5LXR5cGVcIjp7XCJkYXRhLWRyaXZlblwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn0sXCJjcm9zcy1mYWRlZFwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn0sXCJjcm9zcy1mYWRlZC1kYXRhLWRyaXZlblwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn0sXCJjb2xvci1yYW1wXCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifSxcImRhdGEtY29uc3RhbnRcIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0eS10eXBlXCJ9LFwiY29uc3RhbnRcIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0eS10eXBlXCJ9fSxcInByb21vdGVJZFwiOntcIipcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn19fScpO2Z1bmN0aW9uIEtlKGUsLi4udCl7Zm9yKGNvbnN0IHIgb2YgdClmb3IoY29uc3QgdCBpbiByKWVbdF09clt0XTtyZXR1cm4gZX1mdW5jdGlvbiBKZShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE51bWJlcnx8ZSBpbnN0YW5jZW9mIFN0cmluZ3x8ZSBpbnN0YW5jZW9mIEJvb2xlYW4/ZS52YWx1ZU9mKCk6ZX1mdW5jdGlvbiBRZShlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLm1hcChRZSk7aWYoZSBpbnN0YW5jZW9mIE9iamVjdCYmIShlIGluc3RhbmNlb2YgTnVtYmVyfHxlIGluc3RhbmNlb2YgU3RyaW5nfHxlIGluc3RhbmNlb2YgQm9vbGVhbikpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IHIgaW4gZSl0W3JdPVFlKGVbcl0pO3JldHVybiB0fXJldHVybiBKZShlKX1jbGFzcyBldCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIodCksdGhpcy5tZXNzYWdlPXQsdGhpcy5rZXk9ZX19dmFyIHR0PWV0O2NsYXNzIHJ0e2NvbnN0cnVjdG9yKGUsdD1bXSl7dGhpcy5wYXJlbnQ9ZSx0aGlzLmJpbmRpbmdzPXt9O2Zvcihjb25zdFtlLHJdb2YgdCl0aGlzLmJpbmRpbmdzW2VdPXJ9Y29uY2F0KGUpe3JldHVybiBuZXcgcnQodGhpcyxlKX1nZXQoZSl7aWYodGhpcy5iaW5kaW5nc1tlXSlyZXR1cm4gdGhpcy5iaW5kaW5nc1tlXTtpZih0aGlzLnBhcmVudClyZXR1cm4gdGhpcy5wYXJlbnQuZ2V0KGUpO3Rocm93IG5ldyBFcnJvcihlK1wiIG5vdCBmb3VuZCBpbiBzY29wZS5cIil9aGFzKGUpe3JldHVybiEhdGhpcy5iaW5kaW5nc1tlXXx8ISF0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuaGFzKGUpfX12YXIgbnQ9cnQ7Y29uc3QgaXQ9e2tpbmQ6XCJudWxsXCJ9LG90PXtraW5kOlwibnVtYmVyXCJ9LGF0PXtraW5kOlwic3RyaW5nXCJ9LHN0PXtraW5kOlwiYm9vbGVhblwifSxsdD17a2luZDpcImNvbG9yXCJ9LGN0PXtraW5kOlwib2JqZWN0XCJ9LHV0PXtraW5kOlwidmFsdWVcIn0saHQ9e2tpbmQ6XCJjb2xsYXRvclwifSxkdD17a2luZDpcImZvcm1hdHRlZFwifSxwdD17a2luZDpcInJlc29sdmVkSW1hZ2VcIn07ZnVuY3Rpb24gZnQoZSx0KXtyZXR1cm57a2luZDpcImFycmF5XCIsaXRlbVR5cGU6ZSxOOnR9fWZ1bmN0aW9uIG10KGUpe2lmKFwiYXJyYXlcIj09PWUua2luZCl7Y29uc3QgdD1tdChlLml0ZW1UeXBlKTtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZS5OP2BhcnJheTwke3R9LCAke2UuTn0+YDpcInZhbHVlXCI9PT1lLml0ZW1UeXBlLmtpbmQ/XCJhcnJheVwiOmBhcnJheTwke3R9PmB9cmV0dXJuIGUua2luZH1jb25zdCBndD1baXQsb3QsYXQsc3QsbHQsZHQsY3QsZnQodXQpLHB0XTtmdW5jdGlvbiBfdChlLHQpe2lmKFwiZXJyb3JcIj09PXQua2luZClyZXR1cm4gbnVsbDtpZihcImFycmF5XCI9PT1lLmtpbmQpe2lmKFwiYXJyYXlcIj09PXQua2luZCYmKDA9PT10Lk4mJlwidmFsdWVcIj09PXQuaXRlbVR5cGUua2luZHx8IV90KGUuaXRlbVR5cGUsdC5pdGVtVHlwZSkpJiYoXCJudW1iZXJcIiE9dHlwZW9mIGUuTnx8ZS5OPT09dC5OKSlyZXR1cm4gbnVsbH1lbHNle2lmKGUua2luZD09PXQua2luZClyZXR1cm4gbnVsbDtpZihcInZhbHVlXCI9PT1lLmtpbmQpZm9yKGNvbnN0IGUgb2YgZ3QpaWYoIV90KGUsdCkpcmV0dXJuIG51bGx9cmV0dXJuYEV4cGVjdGVkICR7bXQoZSl9IGJ1dCBmb3VuZCAke210KHQpfSBpbnN0ZWFkLmB9ZnVuY3Rpb24geXQoZSx0KXtyZXR1cm4gdC5zb21lKHQ9PnQua2luZD09PWUua2luZCl9ZnVuY3Rpb24gdnQoZSx0KXtyZXR1cm4gdC5zb21lKHQ9PlwibnVsbFwiPT09dD9udWxsPT09ZTpcImFycmF5XCI9PT10P0FycmF5LmlzQXJyYXkoZSk6XCJvYmplY3RcIj09PXQ/ZSYmIUFycmF5LmlzQXJyYXkoZSkmJlwib2JqZWN0XCI9PXR5cGVvZiBlOnQ9PT10eXBlb2YgZSl9dmFyIHh0LGJ0PXt0cmFuc3BhcmVudDpbMCwwLDAsMF0sYWxpY2VibHVlOlsyNDAsMjQ4LDI1NSwxXSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1LDFdLGFxdWE6WzAsMjU1LDI1NSwxXSxhcXVhbWFyaW5lOlsxMjcsMjU1LDIxMiwxXSxhenVyZTpbMjQwLDI1NSwyNTUsMV0sYmVpZ2U6WzI0NSwyNDUsMjIwLDFdLGJpc3F1ZTpbMjU1LDIyOCwxOTYsMV0sYmxhY2s6WzAsMCwwLDFdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNSwxXSxibHVlOlswLDAsMjU1LDFdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjYsMV0sYnJvd246WzE2NSw0Miw0MiwxXSxidXJseXdvb2Q6WzIyMiwxODQsMTM1LDFdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MCwxXSxjaGFydHJldXNlOlsxMjcsMjU1LDAsMV0sY2hvY29sYXRlOlsyMTAsMTA1LDMwLDFdLGNvcmFsOlsyNTUsMTI3LDgwLDFdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzNywxXSxjb3Juc2lsazpbMjU1LDI0OCwyMjAsMV0sY3JpbXNvbjpbMjIwLDIwLDYwLDFdLGN5YW46WzAsMjU1LDI1NSwxXSxkYXJrYmx1ZTpbMCwwLDEzOSwxXSxkYXJrY3lhbjpbMCwxMzksMTM5LDFdLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTEsMV0sZGFya2dyYXk6WzE2OSwxNjksMTY5LDFdLGRhcmtncmVlbjpbMCwxMDAsMCwxXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjksMV0sZGFya2toYWtpOlsxODksMTgzLDEwNywxXSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5LDFdLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDcsMV0sZGFya29yYW5nZTpbMjU1LDE0MCwwLDFdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDQsMV0sZGFya3JlZDpbMTM5LDAsMCwxXSxkYXJrc2FsbW9uOlsyMzMsMTUwLDEyMiwxXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzLDFdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOSwxXSxkYXJrc2xhdGVncmF5Ols0Nyw3OSw3OSwxXSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OSwxXSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDksMV0sZGFya3Zpb2xldDpbMTQ4LDAsMjExLDFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3LDFdLGRlZXBza3libHVlOlswLDE5MSwyNTUsMV0sZGltZ3JheTpbMTA1LDEwNSwxMDUsMV0sZGltZ3JleTpbMTA1LDEwNSwxMDUsMV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NSwxXSxmaXJlYnJpY2s6WzE3OCwzNCwzNCwxXSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDAsMV0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNCwxXSxmdWNoc2lhOlsyNTUsMCwyNTUsMV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMCwxXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NSwxXSxnb2xkOlsyNTUsMjE1LDAsMV0sZ29sZGVucm9kOlsyMTgsMTY1LDMyLDFdLGdyYXk6WzEyOCwxMjgsMTI4LDFdLGdyZWVuOlswLDEyOCwwLDFdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3LDFdLGdyZXk6WzEyOCwxMjgsMTI4LDFdLGhvbmV5ZGV3OlsyNDAsMjU1LDI0MCwxXSxob3RwaW5rOlsyNTUsMTA1LDE4MCwxXSxpbmRpYW5yZWQ6WzIwNSw5Miw5MiwxXSxpbmRpZ286Wzc1LDAsMTMwLDFdLGl2b3J5OlsyNTUsMjU1LDI0MCwxXSxraGFraTpbMjQwLDIzMCwxNDAsMV0sbGF2ZW5kZXI6WzIzMCwyMzAsMjUwLDFdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1LDFdLGxhd25ncmVlbjpbMTI0LDI1MiwwLDFdLGxlbW9uY2hpZmZvbjpbMjU1LDI1MCwyMDUsMV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMCwxXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOCwxXSxsaWdodGN5YW46WzIyNCwyNTUsMjU1LDFdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMCwxXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0LDFdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTEsMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5MywxXSxsaWdodHNhbG1vbjpbMjU1LDE2MCwxMjIsMV0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MCwxXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwLDFdLGxpZ2h0c2xhdGVncmF5OlsxMTksMTM2LDE1MywxXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyLDFdLGxpZ2h0eWVsbG93OlsyNTUsMjU1LDIyNCwxXSxsaW1lOlswLDI1NSwwLDFdLGxpbWVncmVlbjpbNTAsMjA1LDUwLDFdLGxpbmVuOlsyNTAsMjQwLDIzMCwxXSxtYWdlbnRhOlsyNTUsMCwyNTUsMV0sbWFyb29uOlsxMjgsMCwwLDFdLG1lZGl1bWFxdWFtYXJpbmU6WzEwMiwyMDUsMTcwLDFdLG1lZGl1bWJsdWU6WzAsMCwyMDUsMV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExLDFdLG1lZGl1bXB1cnBsZTpbMTQ3LDExMiwyMTksMV0sbWVkaXVtc2VhZ3JlZW46WzYwLDE3OSwxMTMsMV0sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOCwxXSxtZWRpdW1zcHJpbmdncmVlbjpbMCwyNTAsMTU0LDFdLG1lZGl1bXR1cnF1b2lzZTpbNzIsMjA5LDIwNCwxXSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzMsMV0sbWlkbmlnaHRibHVlOlsyNSwyNSwxMTIsMV0sbWludGNyZWFtOlsyNDUsMjU1LDI1MCwxXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1LDFdLG1vY2Nhc2luOlsyNTUsMjI4LDE4MSwxXSxuYXZham93aGl0ZTpbMjU1LDIyMiwxNzMsMV0sbmF2eTpbMCwwLDEyOCwxXSxvbGRsYWNlOlsyNTMsMjQ1LDIzMCwxXSxvbGl2ZTpbMTI4LDEyOCwwLDFdLG9saXZlZHJhYjpbMTA3LDE0MiwzNSwxXSxvcmFuZ2U6WzI1NSwxNjUsMCwxXSxvcmFuZ2VyZWQ6WzI1NSw2OSwwLDFdLG9yY2hpZDpbMjE4LDExMiwyMTQsMV0scGFsZWdvbGRlbnJvZDpbMjM4LDIzMiwxNzAsMV0scGFsZWdyZWVuOlsxNTIsMjUxLDE1MiwxXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOCwxXSxwYWxldmlvbGV0cmVkOlsyMTksMTEyLDE0NywxXSxwYXBheWF3aGlwOlsyNTUsMjM5LDIxMywxXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1LDFdLHBlcnU6WzIwNSwxMzMsNjMsMV0scGluazpbMjU1LDE5MiwyMDMsMV0scGx1bTpbMjIxLDE2MCwyMjEsMV0scG93ZGVyYmx1ZTpbMTc2LDIyNCwyMzAsMV0scHVycGxlOlsxMjgsMCwxMjgsMV0scmViZWNjYXB1cnBsZTpbMTAyLDUxLDE1MywxXSxyZWQ6WzI1NSwwLDAsMV0scm9zeWJyb3duOlsxODgsMTQzLDE0MywxXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjUsMV0sc2FkZGxlYnJvd246WzEzOSw2OSwxOSwxXSxzYWxtb246WzI1MCwxMjgsMTE0LDFdLHNhbmR5YnJvd246WzI0NCwxNjQsOTYsMV0sc2VhZ3JlZW46WzQ2LDEzOSw4NywxXSxzZWFzaGVsbDpbMjU1LDI0NSwyMzgsMV0sc2llbm5hOlsxNjAsODIsNDUsMV0sc2lsdmVyOlsxOTIsMTkyLDE5MiwxXSxza3libHVlOlsxMzUsMjA2LDIzNSwxXSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDUsMV0sc2xhdGVncmF5OlsxMTIsMTI4LDE0NCwxXSxzbGF0ZWdyZXk6WzExMiwxMjgsMTQ0LDFdLHNub3c6WzI1NSwyNTAsMjUwLDFdLHNwcmluZ2dyZWVuOlswLDI1NSwxMjcsMV0sc3RlZWxibHVlOls3MCwxMzAsMTgwLDFdLHRhbjpbMjEwLDE4MCwxNDAsMV0sdGVhbDpbMCwxMjgsMTI4LDFdLHRoaXN0bGU6WzIxNiwxOTEsMjE2LDFdLHRvbWF0bzpbMjU1LDk5LDcxLDFdLHR1cnF1b2lzZTpbNjQsMjI0LDIwOCwxXSx2aW9sZXQ6WzIzOCwxMzAsMjM4LDFdLHdoZWF0OlsyNDUsMjIyLDE3OSwxXSx3aGl0ZTpbMjU1LDI1NSwyNTUsMV0sd2hpdGVzbW9rZTpbMjQ1LDI0NSwyNDUsMV0seWVsbG93OlsyNTUsMjU1LDAsMV0seWVsbG93Z3JlZW46WzE1NCwyMDUsNTAsMV19O2Z1bmN0aW9uIHd0KGUpe3JldHVybihlPU1hdGgucm91bmQoZSkpPDA/MDplPjI1NT8yNTU6ZX1mdW5jdGlvbiBUdChlKXtyZXR1cm4gd3QoXCIlXCI9PT1lW2UubGVuZ3RoLTFdP3BhcnNlRmxvYXQoZSkvMTAwKjI1NTpwYXJzZUludChlKSl9ZnVuY3Rpb24gRXQoZSl7cmV0dXJuKHQ9XCIlXCI9PT1lW2UubGVuZ3RoLTFdP3BhcnNlRmxvYXQoZSkvMTAwOnBhcnNlRmxvYXQoZSkpPDA/MDp0PjE/MTp0O3ZhciB0fWZ1bmN0aW9uIFN0KGUsdCxyKXtyZXR1cm4gcjwwP3IrPTE6cj4xJiYoci09MSksNipyPDE/ZSsodC1lKSpyKjY6MipyPDE/dDozKnI8Mj9lKyh0LWUpKigyLzMtcikqNjplfXRyeXt4dD17fS5wYXJzZUNTU0NvbG9yPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZS5yZXBsYWNlKC8gL2csXCJcIikudG9Mb3dlckNhc2UoKTtpZihyIGluIGJ0KXJldHVybiBidFtyXS5zbGljZSgpO2lmKFwiI1wiPT09clswXSlyZXR1cm4gND09PXIubGVuZ3RoPyh0PXBhcnNlSW50KHIuc3Vic3RyKDEpLDE2KSk+PTAmJnQ8PTQwOTU/WygzODQwJnQpPj40fCgzODQwJnQpPj44LDI0MCZ0fCgyNDAmdCk+PjQsMTUmdHwoMTUmdCk8PDQsMV06bnVsbDo3PT09ci5sZW5ndGgmJih0PXBhcnNlSW50KHIuc3Vic3RyKDEpLDE2KSk+PTAmJnQ8PTE2Nzc3MjE1P1soMTY3MTE2ODAmdCk+PjE2LCg2NTI4MCZ0KT4+OCwyNTUmdCwxXTpudWxsO3ZhciBuPXIuaW5kZXhPZihcIihcIiksaT1yLmluZGV4T2YoXCIpXCIpO2lmKC0xIT09biYmaSsxPT09ci5sZW5ndGgpe3ZhciBvPXIuc3Vic3RyKDAsbiksYT1yLnN1YnN0cihuKzEsaS0obisxKSkuc3BsaXQoXCIsXCIpLHM9MTtzd2l0Y2gobyl7Y2FzZVwicmdiYVwiOmlmKDQhPT1hLmxlbmd0aClyZXR1cm4gbnVsbDtzPUV0KGEucG9wKCkpO2Nhc2VcInJnYlwiOnJldHVybiAzIT09YS5sZW5ndGg/bnVsbDpbVHQoYVswXSksVHQoYVsxXSksVHQoYVsyXSksc107Y2FzZVwiaHNsYVwiOmlmKDQhPT1hLmxlbmd0aClyZXR1cm4gbnVsbDtzPUV0KGEucG9wKCkpO2Nhc2VcImhzbFwiOmlmKDMhPT1hLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgbD0ocGFyc2VGbG9hdChhWzBdKSUzNjArMzYwKSUzNjAvMzYwLGM9RXQoYVsxXSksdT1FdChhWzJdKSxoPXU8PS41P3UqKGMrMSk6dStjLXUqYyxkPTIqdS1oO3JldHVyblt3dCgyNTUqU3QoZCxoLGwrMS8zKSksd3QoMjU1KlN0KGQsaCxsKSksd3QoMjU1KlN0KGQsaCxsLTEvMykpLHNdO2RlZmF1bHQ6cmV0dXJuIG51bGx9fXJldHVybiBudWxsfX1jYXRjaChlKXt9Y2xhc3MgQ3R7Y29uc3RydWN0b3IoZSx0LHIsbj0xKXt0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9cix0aGlzLmE9bn1zdGF0aWMgcGFyc2UoZSl7aWYoIWUpcmV0dXJuO2lmKGUgaW5zdGFuY2VvZiBDdClyZXR1cm4gZTtpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm47Y29uc3QgdD14dChlKTtyZXR1cm4gdD9uZXcgQ3QodFswXS8yNTUqdFszXSx0WzFdLzI1NSp0WzNdLHRbMl0vMjU1KnRbM10sdFszXSk6dm9pZCAwfXRvU3RyaW5nKCl7Y29uc3RbZSx0LHIsbl09dGhpcy50b0FycmF5KCk7cmV0dXJuYHJnYmEoJHtNYXRoLnJvdW5kKGUpfSwke01hdGgucm91bmQodCl9LCR7TWF0aC5yb3VuZChyKX0sJHtufSlgfXRvQXJyYXkoKXtjb25zdHtyOmUsZzp0LGI6cixhOm59PXRoaXM7cmV0dXJuIDA9PT1uP1swLDAsMCwwXTpbMjU1KmUvbiwyNTUqdC9uLDI1NSpyL24sbl19dG9BcnJheTAxKCl7Y29uc3R7cjplLGc6dCxiOnIsYTpufT10aGlzO3JldHVybiAwPT09bj9bMCwwLDAsMF06W2Uvbix0L24sci9uLG5dfXRvQXJyYXkwMVByZW11bHRpcGxpZWRBbHBoYSgpe2NvbnN0e3I6ZSxnOnQsYjpyLGE6bn09dGhpcztyZXR1cm5bZSx0LHIsbl19fUN0LmJsYWNrPW5ldyBDdCgwLDAsMCwxKSxDdC53aGl0ZT1uZXcgQ3QoMSwxLDEsMSksQ3QudHJhbnNwYXJlbnQ9bmV3IEN0KDAsMCwwLDApLEN0LnJlZD1uZXcgQ3QoMSwwLDAsMSksQ3QuYmx1ZT1uZXcgQ3QoMCwwLDEsMSk7dmFyIE10PUN0O2NsYXNzIGt0e2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLnNlbnNpdGl2aXR5PWU/dD9cInZhcmlhbnRcIjpcImNhc2VcIjp0P1wiYWNjZW50XCI6XCJiYXNlXCIsdGhpcy5sb2NhbGU9cix0aGlzLmNvbGxhdG9yPW5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdLHtzZW5zaXRpdml0eTp0aGlzLnNlbnNpdGl2aXR5LHVzYWdlOlwic2VhcmNoXCJ9KX1jb21wYXJlKGUsdCl7cmV0dXJuIHRoaXMuY29sbGF0b3IuY29tcGFyZShlLHQpfXJlc29sdmVkTG9jYWxlKCl7cmV0dXJuIG5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdKS5yZXNvbHZlZE9wdGlvbnMoKS5sb2NhbGV9fWNsYXNzIEF0e2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7dGhpcy50ZXh0PWUubm9ybWFsaXplP2Uubm9ybWFsaXplKCk6ZSx0aGlzLmltYWdlPXQsdGhpcy5zY2FsZT1yLHRoaXMuZm9udFN0YWNrPW4sdGhpcy50ZXh0Q29sb3I9aX19Y2xhc3MgSXR7Y29uc3RydWN0b3IoZSl7dGhpcy5zZWN0aW9ucz1lfXN0YXRpYyBmcm9tU3RyaW5nKGUpe3JldHVybiBuZXcgSXQoW25ldyBBdChlLG51bGwsbnVsbCxudWxsLG51bGwpXSl9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGh8fCF0aGlzLnNlY3Rpb25zLnNvbWUoZT0+MCE9PWUudGV4dC5sZW5ndGh8fGUuaW1hZ2UmJjAhPT1lLmltYWdlLm5hbWUubGVuZ3RoKX1zdGF0aWMgZmFjdG9yeShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIEl0P2U6SXQuZnJvbVN0cmluZyhlKX10b1N0cmluZygpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGg/XCJcIjp0aGlzLnNlY3Rpb25zLm1hcChlPT5lLnRleHQpLmpvaW4oXCJcIil9c2VyaWFsaXplKCl7Y29uc3QgZT1bXCJmb3JtYXRcIl07Zm9yKGNvbnN0IHQgb2YgdGhpcy5zZWN0aW9ucyl7aWYodC5pbWFnZSl7ZS5wdXNoKFtcImltYWdlXCIsdC5pbWFnZS5uYW1lXSk7Y29udGludWV9ZS5wdXNoKHQudGV4dCk7Y29uc3Qgcj17fTt0LmZvbnRTdGFjayYmKHJbXCJ0ZXh0LWZvbnRcIl09W1wibGl0ZXJhbFwiLHQuZm9udFN0YWNrLnNwbGl0KFwiLFwiKV0pLHQuc2NhbGUmJihyW1wiZm9udC1zY2FsZVwiXT10LnNjYWxlKSx0LnRleHRDb2xvciYmKHJbXCJ0ZXh0LWNvbG9yXCJdPVtcInJnYmFcIl0uY29uY2F0KHQudGV4dENvbG9yLnRvQXJyYXkoKSkpLGUucHVzaChyKX1yZXR1cm4gZX19Y2xhc3MgUHR7Y29uc3RydWN0b3IoZSl7dGhpcy5uYW1lPWUubmFtZSx0aGlzLmF2YWlsYWJsZT1lLmF2YWlsYWJsZX10b1N0cmluZygpe3JldHVybiB0aGlzLm5hbWV9c3RhdGljIGZyb21TdHJpbmcoZSl7cmV0dXJuIGU/bmV3IFB0KHtuYW1lOmUsYXZhaWxhYmxlOiExfSk6bnVsbH1zZXJpYWxpemUoKXtyZXR1cm5bXCJpbWFnZVwiLHRoaXMubmFtZV19fWZ1bmN0aW9uIHp0KGUsdCxyLG4pe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPj0wJiZlPD0yNTUmJlwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pj0wJiZ0PD0yNTUmJlwibnVtYmVyXCI9PXR5cGVvZiByJiZyPj0wJiZyPD0yNTU/dm9pZCAwPT09bnx8XCJudW1iZXJcIj09dHlwZW9mIG4mJm4+PTAmJm48PTE/bnVsbDpgSW52YWxpZCByZ2JhIHZhbHVlIFske1tlLHQscixuXS5qb2luKFwiLCBcIil9XTogJ2EnIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxLmA6YEludmFsaWQgcmdiYSB2YWx1ZSBbJHsoXCJudW1iZXJcIj09dHlwZW9mIG4/W2UsdCxyLG5dOltlLHQscl0pLmpvaW4oXCIsIFwiKX1dOiAncicsICdnJywgYW5kICdiJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMjU1LmB9ZnVuY3Rpb24gRHQoZSl7aWYobnVsbD09PWUpcmV0dXJuITA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuITA7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlKXJldHVybiEwO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiEwO2lmKGUgaW5zdGFuY2VvZiBNdClyZXR1cm4hMDtpZihlIGluc3RhbmNlb2Yga3QpcmV0dXJuITA7aWYoZSBpbnN0YW5jZW9mIEl0KXJldHVybiEwO2lmKGUgaW5zdGFuY2VvZiBQdClyZXR1cm4hMDtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IoY29uc3QgdCBvZiBlKWlmKCFEdCh0KSlyZXR1cm4hMTtyZXR1cm4hMH1pZihcIm9iamVjdFwiPT10eXBlb2YgZSl7Zm9yKGNvbnN0IHQgaW4gZSlpZighRHQoZVt0XSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gUnQoZSl7aWYobnVsbD09PWUpcmV0dXJuIGl0O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBhdDtpZihcImJvb2xlYW5cIj09dHlwZW9mIGUpcmV0dXJuIHN0O2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiBvdDtpZihlIGluc3RhbmNlb2YgTXQpcmV0dXJuIGx0O2lmKGUgaW5zdGFuY2VvZiBrdClyZXR1cm4gaHQ7aWYoZSBpbnN0YW5jZW9mIEl0KXJldHVybiBkdDtpZihlIGluc3RhbmNlb2YgUHQpcmV0dXJuIHB0O2lmKEFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IHQ9ZS5sZW5ndGg7bGV0IHI7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1SdCh0KTtpZihyKXtpZihyPT09ZSljb250aW51ZTtyPXV0O2JyZWFrfXI9ZX1yZXR1cm4gZnQocnx8dXQsdCl9cmV0dXJuIGN0fWZ1bmN0aW9uIEx0KGUpe2NvbnN0IHQ9dHlwZW9mIGU7cmV0dXJuIG51bGw9PT1lP1wiXCI6XCJzdHJpbmdcIj09PXR8fFwibnVtYmVyXCI9PT10fHxcImJvb2xlYW5cIj09PXQ/U3RyaW5nKGUpOmUgaW5zdGFuY2VvZiBNdHx8ZSBpbnN0YW5jZW9mIEl0fHxlIGluc3RhbmNlb2YgUHQ/ZS50b1N0cmluZygpOkpTT04uc3RyaW5naWZ5KGUpfWNsYXNzIE90e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWUsdGhpcy52YWx1ZT10fXN0YXRpYyBwYXJzZShlLHQpe2lmKDIhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihgJ2xpdGVyYWwnIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7aWYoIUR0KGVbMV0pKXJldHVybiB0LmVycm9yKFwiaW52YWxpZCB2YWx1ZVwiKTtjb25zdCByPWVbMV07bGV0IG49UnQocik7Y29uc3QgaT10LmV4cGVjdGVkVHlwZTtyZXR1cm5cImFycmF5XCIhPT1uLmtpbmR8fDAhPT1uLk58fCFpfHxcImFycmF5XCIhPT1pLmtpbmR8fFwibnVtYmVyXCI9PXR5cGVvZiBpLk4mJjAhPT1pLk58fChuPWkpLG5ldyBPdChuLHIpfWV2YWx1YXRlKCl7cmV0dXJuIHRoaXMudmFsdWV9ZWFjaENoaWxkKCl7fW91dHB1dERlZmluZWQoKXtyZXR1cm4hMH1zZXJpYWxpemUoKXtyZXR1cm5cImFycmF5XCI9PT10aGlzLnR5cGUua2luZHx8XCJvYmplY3RcIj09PXRoaXMudHlwZS5raW5kP1tcImxpdGVyYWxcIix0aGlzLnZhbHVlXTp0aGlzLnZhbHVlIGluc3RhbmNlb2YgTXQ/W1wicmdiYVwiXS5jb25jYXQodGhpcy52YWx1ZS50b0FycmF5KCkpOnRoaXMudmFsdWUgaW5zdGFuY2VvZiBJdD90aGlzLnZhbHVlLnNlcmlhbGl6ZSgpOnRoaXMudmFsdWV9fXZhciBCdD1PdCxGdD1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLm5hbWU9XCJFeHByZXNzaW9uRXZhbHVhdGlvbkVycm9yXCIsdGhpcy5tZXNzYWdlPWV9dG9KU09OKCl7cmV0dXJuIHRoaXMubWVzc2FnZX19O2NvbnN0IGp0PXtzdHJpbmc6YXQsbnVtYmVyOm90LGJvb2xlYW46c3Qsb2JqZWN0OmN0fTtjbGFzcyBVdHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMuYXJncz10fXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDIpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuXCIpO2xldCByLG49MTtjb25zdCBpPWVbMF07aWYoXCJhcnJheVwiPT09aSl7bGV0IGksbztpZihlLmxlbmd0aD4yKXtjb25zdCByPWVbMV07aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHJ8fCEociBpbiBqdCl8fFwib2JqZWN0XCI9PT1yKXJldHVybiB0LmVycm9yKCdUaGUgaXRlbSB0eXBlIGFyZ3VtZW50IG9mIFwiYXJyYXlcIiBtdXN0IGJlIG9uZSBvZiBzdHJpbmcsIG51bWJlciwgYm9vbGVhbicsMSk7aT1qdFtyXSxuKyt9ZWxzZSBpPXV0O2lmKGUubGVuZ3RoPjMpe2lmKG51bGwhPT1lWzJdJiYoXCJudW1iZXJcIiE9dHlwZW9mIGVbMl18fGVbMl08MHx8ZVsyXSE9PU1hdGguZmxvb3IoZVsyXSkpKXJldHVybiB0LmVycm9yKCdUaGUgbGVuZ3RoIGFyZ3VtZW50IHRvIFwiYXJyYXlcIiBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBsaXRlcmFsJywyKTtvPWVbMl0sbisrfXI9ZnQoaSxvKX1lbHNlIHI9anRbaV07Y29uc3Qgbz1bXTtmb3IoO248ZS5sZW5ndGg7bisrKXtjb25zdCByPXQucGFyc2UoZVtuXSxuLHV0KTtpZighcilyZXR1cm4gbnVsbDtvLnB1c2gocil9cmV0dXJuIG5ldyBVdChyLG8pfWV2YWx1YXRlKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5hcmdzLmxlbmd0aDt0Kyspe2NvbnN0IHI9dGhpcy5hcmdzW3RdLmV2YWx1YXRlKGUpO2lmKCFfdCh0aGlzLnR5cGUsUnQocikpKXJldHVybiByO2lmKHQ9PT10aGlzLmFyZ3MubGVuZ3RoLTEpdGhyb3cgbmV3IEZ0KGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvZiB0eXBlICR7bXQodGhpcy50eXBlKX0sIGJ1dCBmb3VuZCAke210KFJ0KHIpKX0gaW5zdGVhZC5gKX1yZXR1cm4gbnVsbH1lYWNoQ2hpbGQoZSl7dGhpcy5hcmdzLmZvckVhY2goZSl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoZT0+ZS5vdXRwdXREZWZpbmVkKCkpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9dGhpcy50eXBlLHQ9W2Uua2luZF07aWYoXCJhcnJheVwiPT09ZS5raW5kKXtjb25zdCByPWUuaXRlbVR5cGU7aWYoXCJzdHJpbmdcIj09PXIua2luZHx8XCJudW1iZXJcIj09PXIua2luZHx8XCJib29sZWFuXCI9PT1yLmtpbmQpe3QucHVzaChyLmtpbmQpO2NvbnN0IG49ZS5OOyhcIm51bWJlclwiPT10eXBlb2Ygbnx8dGhpcy5hcmdzLmxlbmd0aD4xKSYmdC5wdXNoKG4pfX1yZXR1cm4gdC5jb25jYXQodGhpcy5hcmdzLm1hcChlPT5lLnNlcmlhbGl6ZSgpKSl9fXZhciBOdD1VdDtjbGFzcyBWdHtjb25zdHJ1Y3RvcihlKXt0aGlzLnR5cGU9ZHQsdGhpcy5zZWN0aW9ucz1lfXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDIpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuXCIpO2NvbnN0IHI9ZVsxXTtpZighQXJyYXkuaXNBcnJheShyKSYmXCJvYmplY3RcIj09dHlwZW9mIHIpcmV0dXJuIHQuZXJyb3IoXCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGFuIGltYWdlIG9yIHRleHQgc2VjdGlvbi5cIik7Y29uc3Qgbj1bXTtsZXQgaT0hMTtmb3IobGV0IHI9MTtyPD1lLmxlbmd0aC0xOysrcil7Y29uc3Qgbz1lW3JdO2lmKGkmJlwib2JqZWN0XCI9PXR5cGVvZiBvJiYhQXJyYXkuaXNBcnJheShvKSl7aT0hMTtsZXQgZT1udWxsO2lmKG9bXCJmb250LXNjYWxlXCJdJiYoZT10LnBhcnNlKG9bXCJmb250LXNjYWxlXCJdLDEsb3QpLCFlKSlyZXR1cm4gbnVsbDtsZXQgcj1udWxsO2lmKG9bXCJ0ZXh0LWZvbnRcIl0mJihyPXQucGFyc2Uob1tcInRleHQtZm9udFwiXSwxLGZ0KGF0KSksIXIpKXJldHVybiBudWxsO2xldCBhPW51bGw7aWYob1tcInRleHQtY29sb3JcIl0mJihhPXQucGFyc2Uob1tcInRleHQtY29sb3JcIl0sMSxsdCksIWEpKXJldHVybiBudWxsO2NvbnN0IHM9bltuLmxlbmd0aC0xXTtzLnNjYWxlPWUscy5mb250PXIscy50ZXh0Q29sb3I9YX1lbHNle2NvbnN0IG89dC5wYXJzZShlW3JdLDEsdXQpO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IGE9by50eXBlLmtpbmQ7aWYoXCJzdHJpbmdcIiE9PWEmJlwidmFsdWVcIiE9PWEmJlwibnVsbFwiIT09YSYmXCJyZXNvbHZlZEltYWdlXCIhPT1hKXJldHVybiB0LmVycm9yKFwiRm9ybWF0dGVkIHRleHQgdHlwZSBtdXN0IGJlICdzdHJpbmcnLCAndmFsdWUnLCAnaW1hZ2UnIG9yICdudWxsJy5cIik7aT0hMCxuLnB1c2goe2NvbnRlbnQ6byxzY2FsZTpudWxsLGZvbnQ6bnVsbCx0ZXh0Q29sb3I6bnVsbH0pfX1yZXR1cm4gbmV3IFZ0KG4pfWV2YWx1YXRlKGUpe3JldHVybiBuZXcgSXQodGhpcy5zZWN0aW9ucy5tYXAodD0+e2NvbnN0IHI9dC5jb250ZW50LmV2YWx1YXRlKGUpO3JldHVybiBSdChyKT09PXB0P25ldyBBdChcIlwiLHIsbnVsbCxudWxsLG51bGwpOm5ldyBBdChMdChyKSxudWxsLHQuc2NhbGU/dC5zY2FsZS5ldmFsdWF0ZShlKTpudWxsLHQuZm9udD90LmZvbnQuZXZhbHVhdGUoZSkuam9pbihcIixcIik6bnVsbCx0LnRleHRDb2xvcj90LnRleHRDb2xvci5ldmFsdWF0ZShlKTpudWxsKX0pKX1lYWNoQ2hpbGQoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5zZWN0aW9ucyllKHQuY29udGVudCksdC5zY2FsZSYmZSh0LnNjYWxlKSx0LmZvbnQmJmUodC5mb250KSx0LnRleHRDb2xvciYmZSh0LnRleHRDb2xvcil9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wiZm9ybWF0XCJdO2Zvcihjb25zdCB0IG9mIHRoaXMuc2VjdGlvbnMpe2UucHVzaCh0LmNvbnRlbnQuc2VyaWFsaXplKCkpO2NvbnN0IHI9e307dC5zY2FsZSYmKHJbXCJmb250LXNjYWxlXCJdPXQuc2NhbGUuc2VyaWFsaXplKCkpLHQuZm9udCYmKHJbXCJ0ZXh0LWZvbnRcIl09dC5mb250LnNlcmlhbGl6ZSgpKSx0LnRleHRDb2xvciYmKHJbXCJ0ZXh0LWNvbG9yXCJdPXQudGV4dENvbG9yLnNlcmlhbGl6ZSgpKSxlLnB1c2gocil9cmV0dXJuIGV9fWNsYXNzIEd0e2NvbnN0cnVjdG9yKGUpe3RoaXMudHlwZT1wdCx0aGlzLmlucHV0PWV9c3RhdGljIHBhcnNlKGUsdCl7aWYoMiE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgdHdvIGFyZ3VtZW50cy5cIik7Y29uc3Qgcj10LnBhcnNlKGVbMV0sMSxhdCk7cmV0dXJuIHI/bmV3IEd0KHIpOnQuZXJyb3IoXCJObyBpbWFnZSBuYW1lIHByb3ZpZGVkLlwiKX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMuaW5wdXQuZXZhbHVhdGUoZSkscj1QdC5mcm9tU3RyaW5nKHQpO3JldHVybiByJiZlLmF2YWlsYWJsZUltYWdlcyYmKHIuYXZhaWxhYmxlPWUuYXZhaWxhYmxlSW1hZ2VzLmluZGV4T2YodCk+LTEpLHJ9ZWFjaENoaWxkKGUpe2UodGhpcy5pbnB1dCl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe3JldHVybltcImltYWdlXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV19fWNvbnN0IHF0PXtcInRvLWJvb2xlYW5cIjpzdCxcInRvLWNvbG9yXCI6bHQsXCJ0by1udW1iZXJcIjpvdCxcInRvLXN0cmluZ1wiOmF0fTtjbGFzcyBadHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMuYXJncz10fXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDIpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuXCIpO2NvbnN0IHI9ZVswXTtpZigoXCJ0by1ib29sZWFuXCI9PT1yfHxcInRvLXN0cmluZ1wiPT09cikmJjIhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIG9uZSBhcmd1bWVudC5cIik7Y29uc3Qgbj1xdFtyXSxpPVtdO2ZvcihsZXQgcj0xO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBuPXQucGFyc2UoZVtyXSxyLHV0KTtpZighbilyZXR1cm4gbnVsbDtpLnB1c2gobil9cmV0dXJuIG5ldyBadChuLGkpfWV2YWx1YXRlKGUpe2lmKFwiYm9vbGVhblwiPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIEJvb2xlYW4odGhpcy5hcmdzWzBdLmV2YWx1YXRlKGUpKTtpZihcImNvbG9yXCI9PT10aGlzLnR5cGUua2luZCl7bGV0IHQscjtmb3IoY29uc3QgbiBvZiB0aGlzLmFyZ3Mpe2lmKHQ9bi5ldmFsdWF0ZShlKSxyPW51bGwsdCBpbnN0YW5jZW9mIE10KXJldHVybiB0O2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtjb25zdCByPWUucGFyc2VDb2xvcih0KTtpZihyKXJldHVybiByfWVsc2UgaWYoQXJyYXkuaXNBcnJheSh0KSYmKHI9dC5sZW5ndGg8M3x8dC5sZW5ndGg+ND9gSW52YWxpZCByYmdhIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodCl9OiBleHBlY3RlZCBhbiBhcnJheSBjb250YWluaW5nIGVpdGhlciB0aHJlZSBvciBmb3VyIG51bWVyaWMgdmFsdWVzLmA6enQodFswXSx0WzFdLHRbMl0sdFszXSksIXIpKXJldHVybiBuZXcgTXQodFswXS8yNTUsdFsxXS8yNTUsdFsyXS8yNTUsdFszXSl9dGhyb3cgbmV3IEZ0KHJ8fGBDb3VsZCBub3QgcGFyc2UgY29sb3IgZnJvbSB2YWx1ZSAnJHtcInN0cmluZ1wiPT10eXBlb2YgdD90OlN0cmluZyhKU09OLnN0cmluZ2lmeSh0KSl9J2ApfWlmKFwibnVtYmVyXCI9PT10aGlzLnR5cGUua2luZCl7bGV0IHQ9bnVsbDtmb3IoY29uc3QgciBvZiB0aGlzLmFyZ3Mpe2lmKHQ9ci5ldmFsdWF0ZShlKSxudWxsPT09dClyZXR1cm4gMDtjb25zdCBuPU51bWJlcih0KTtpZighaXNOYU4obikpcmV0dXJuIG59dGhyb3cgbmV3IEZ0KGBDb3VsZCBub3QgY29udmVydCAke0pTT04uc3RyaW5naWZ5KHQpfSB0byBudW1iZXIuYCl9cmV0dXJuXCJmb3JtYXR0ZWRcIj09PXRoaXMudHlwZS5raW5kP0l0LmZyb21TdHJpbmcoTHQodGhpcy5hcmdzWzBdLmV2YWx1YXRlKGUpKSk6XCJyZXNvbHZlZEltYWdlXCI9PT10aGlzLnR5cGUua2luZD9QdC5mcm9tU3RyaW5nKEx0KHRoaXMuYXJnc1swXS5ldmFsdWF0ZShlKSkpOkx0KHRoaXMuYXJnc1swXS5ldmFsdWF0ZShlKSl9ZWFjaENoaWxkKGUpe3RoaXMuYXJncy5mb3JFYWNoKGUpfW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5hcmdzLmV2ZXJ5KGU9PmUub3V0cHV0RGVmaW5lZCgpKX1zZXJpYWxpemUoKXtpZihcImZvcm1hdHRlZFwiPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIG5ldyBWdChbe2NvbnRlbnQ6dGhpcy5hcmdzWzBdLHNjYWxlOm51bGwsZm9udDpudWxsLHRleHRDb2xvcjpudWxsfV0pLnNlcmlhbGl6ZSgpO2lmKFwicmVzb2x2ZWRJbWFnZVwiPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIG5ldyBHdCh0aGlzLmFyZ3NbMF0pLnNlcmlhbGl6ZSgpO2NvbnN0IGU9W1widG8tXCIrdGhpcy50eXBlLmtpbmRdO3JldHVybiB0aGlzLmVhY2hDaGlsZCh0PT57ZS5wdXNoKHQuc2VyaWFsaXplKCkpfSksZX19dmFyICR0PVp0O2NvbnN0IFd0PVtcIlVua25vd25cIixcIlBvaW50XCIsXCJMaW5lU3RyaW5nXCIsXCJQb2x5Z29uXCJdO3ZhciBYdD1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuZ2xvYmFscz1udWxsLHRoaXMuZmVhdHVyZT1udWxsLHRoaXMuZmVhdHVyZVN0YXRlPW51bGwsdGhpcy5mb3JtYXR0ZWRTZWN0aW9uPW51bGwsdGhpcy5fcGFyc2VDb2xvckNhY2hlPXt9LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPW51bGwsdGhpcy5jYW5vbmljYWw9bnVsbCx0aGlzLmZlYXR1cmVUaWxlQ29vcmQ9bnVsbCx0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGE9bnVsbH1pZCgpe3JldHVybiB0aGlzLmZlYXR1cmUmJnZvaWQgMCE9PXRoaXMuZmVhdHVyZS5pZD90aGlzLmZlYXR1cmUuaWQ6bnVsbH1nZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5mZWF0dXJlP1wibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmZlYXR1cmUudHlwZT9XdFt0aGlzLmZlYXR1cmUudHlwZV06dGhpcy5mZWF0dXJlLnR5cGU6bnVsbH1nZW9tZXRyeSgpe3JldHVybiB0aGlzLmZlYXR1cmUmJlwiZ2VvbWV0cnlcImluIHRoaXMuZmVhdHVyZT90aGlzLmZlYXR1cmUuZ2VvbWV0cnk6bnVsbH1jYW5vbmljYWxJRCgpe3JldHVybiB0aGlzLmNhbm9uaWNhbH1wcm9wZXJ0aWVzKCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmdGhpcy5mZWF0dXJlLnByb3BlcnRpZXN8fHt9fWRpc3RhbmNlRnJvbUNlbnRlcigpe2lmKHRoaXMuZmVhdHVyZVRpbGVDb29yZCYmdGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhKXtjb25zdCBlPXRoaXMuZmVhdHVyZURpc3RhbmNlRGF0YS5jZW50ZXIsdD10aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEuc2NhbGUse3g6cix5Om59PXRoaXMuZmVhdHVyZVRpbGVDb29yZDtyZXR1cm4gdGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhLmJlYXJpbmdbMF0qKHIqdC1lWzBdKSt0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEuYmVhcmluZ1sxXSoobip0LWVbMV0pfXJldHVybiAwfXBhcnNlQ29sb3IoZSl7bGV0IHQ9dGhpcy5fcGFyc2VDb2xvckNhY2hlW2VdO3JldHVybiB0fHwodD10aGlzLl9wYXJzZUNvbG9yQ2FjaGVbZV09TXQucGFyc2UoZSkpLHR9fTtjbGFzcyBIdHtjb25zdHJ1Y3RvcihlLHQscixuKXt0aGlzLm5hbWU9ZSx0aGlzLnR5cGU9dCx0aGlzLl9ldmFsdWF0ZT1yLHRoaXMuYXJncz1ufWV2YWx1YXRlKGUpe3JldHVybiB0aGlzLl9ldmFsdWF0ZShlLHRoaXMuYXJncyl9ZWFjaENoaWxkKGUpe3RoaXMuYXJncy5mb3JFYWNoKGUpfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtyZXR1cm5bdGhpcy5uYW1lXS5jb25jYXQodGhpcy5hcmdzLm1hcChlPT5lLnNlcmlhbGl6ZSgpKSl9c3RhdGljIHBhcnNlKGUsdCl7Y29uc3Qgcj1lWzBdLG49SHQuZGVmaW5pdGlvbnNbcl07aWYoIW4pcmV0dXJuIHQuZXJyb3IoYFVua25vd24gZXhwcmVzc2lvbiBcIiR7cn1cIi4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbXCJsaXRlcmFsXCIsIFsuLi5dXS5gLDApO2NvbnN0IGk9QXJyYXkuaXNBcnJheShuKT9uWzBdOm4udHlwZSxvPUFycmF5LmlzQXJyYXkobik/W1tuWzFdLG5bMl1dXTpuLm92ZXJsb2FkcyxhPW8uZmlsdGVyKChbdF0pPT4hQXJyYXkuaXNBcnJheSh0KXx8dC5sZW5ndGg9PT1lLmxlbmd0aC0xKTtsZXQgcz1udWxsO2Zvcihjb25zdFtuLG9db2YgYSl7cz1uZXcgd3IodC5yZWdpc3RyeSx0LnBhdGgsbnVsbCx0LnNjb3BlKTtjb25zdCBhPVtdO2xldCBsPSExO2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCByPWVbdF0saT1BcnJheS5pc0FycmF5KG4pP25bdC0xXTpuLnR5cGUsbz1zLnBhcnNlKHIsMSthLmxlbmd0aCxpKTtpZighbyl7bD0hMDticmVha31hLnB1c2gobyl9aWYoIWwpaWYoQXJyYXkuaXNBcnJheShuKSYmbi5sZW5ndGghPT1hLmxlbmd0aClzLmVycm9yKGBFeHBlY3RlZCAke24ubGVuZ3RofSBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2EubGVuZ3RofSBpbnN0ZWFkLmApO2Vsc2V7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKyspe2NvbnN0IHQ9QXJyYXkuaXNBcnJheShuKT9uW2VdOm4udHlwZSxyPWFbZV07cy5jb25jYXQoZSsxKS5jaGVja1N1YnR5cGUodCxyLnR5cGUpfWlmKDA9PT1zLmVycm9ycy5sZW5ndGgpcmV0dXJuIG5ldyBIdChyLGksbyxhKX19aWYoMT09PWEubGVuZ3RoKXQuZXJyb3JzLnB1c2goLi4ucy5lcnJvcnMpO2Vsc2V7Y29uc3Qgcj0oYS5sZW5ndGg/YTpvKS5tYXAoKFtlXSk9PntyZXR1cm4gdD1lLEFycmF5LmlzQXJyYXkodCk/YCgke3QubWFwKG10KS5qb2luKFwiLCBcIil9KWA6YCgke210KHQudHlwZSl9Li4uKWA7dmFyIHR9KS5qb2luKFwiIHwgXCIpLG49W107Zm9yKGxldCByPTE7cjxlLmxlbmd0aDtyKyspe2NvbnN0IGk9dC5wYXJzZShlW3JdLDErbi5sZW5ndGgpO2lmKCFpKXJldHVybiBudWxsO24ucHVzaChtdChpLnR5cGUpKX10LmVycm9yKGBFeHBlY3RlZCBhcmd1bWVudHMgb2YgdHlwZSAke3J9LCBidXQgZm91bmQgKCR7bi5qb2luKFwiLCBcIil9KSBpbnN0ZWFkLmApfXJldHVybiBudWxsfXN0YXRpYyByZWdpc3RlcihlLHQpe0h0LmRlZmluaXRpb25zPXQ7Zm9yKGNvbnN0IHIgaW4gdCllW3JdPUh0fX12YXIgWXQ9SHQ7Y2xhc3MgS3R7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMudHlwZT1odCx0aGlzLmxvY2FsZT1yLHRoaXMuY2FzZVNlbnNpdGl2ZT1lLHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlPXR9c3RhdGljIHBhcnNlKGUsdCl7aWYoMiE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgb25lIGFyZ3VtZW50LlwiKTtjb25zdCByPWVbMV07aWYoXCJvYmplY3RcIiE9dHlwZW9mIHJ8fEFycmF5LmlzQXJyYXkocikpcmV0dXJuIHQuZXJyb3IoXCJDb2xsYXRvciBvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LlwiKTtjb25zdCBuPXQucGFyc2Uodm9pZCAwIT09cltcImNhc2Utc2Vuc2l0aXZlXCJdJiZyW1wiY2FzZS1zZW5zaXRpdmVcIl0sMSxzdCk7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3QgaT10LnBhcnNlKHZvaWQgMCE9PXJbXCJkaWFjcml0aWMtc2Vuc2l0aXZlXCJdJiZyW1wiZGlhY3JpdGljLXNlbnNpdGl2ZVwiXSwxLHN0KTtpZighaSlyZXR1cm4gbnVsbDtsZXQgbz1udWxsO3JldHVybiByLmxvY2FsZSYmKG89dC5wYXJzZShyLmxvY2FsZSwxLGF0KSwhbyk/bnVsbDpuZXcgS3QobixpLG8pfWV2YWx1YXRlKGUpe3JldHVybiBuZXcga3QodGhpcy5jYXNlU2Vuc2l0aXZlLmV2YWx1YXRlKGUpLHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlLmV2YWx1YXRlKGUpLHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKGUpOm51bGwpfWVhY2hDaGlsZChlKXtlKHRoaXMuY2FzZVNlbnNpdGl2ZSksZSh0aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZSksdGhpcy5sb2NhbGUmJmUodGhpcy5sb2NhbGUpfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O3JldHVybiBlW1wiY2FzZS1zZW5zaXRpdmVcIl09dGhpcy5jYXNlU2Vuc2l0aXZlLnNlcmlhbGl6ZSgpLGVbXCJkaWFjcml0aWMtc2Vuc2l0aXZlXCJdPXRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlLnNlcmlhbGl6ZSgpLHRoaXMubG9jYWxlJiYoZS5sb2NhbGU9dGhpcy5sb2NhbGUuc2VyaWFsaXplKCkpLFtcImNvbGxhdG9yXCIsZV19fWNvbnN0IEp0PTgxOTI7ZnVuY3Rpb24gUXQoZSx0KXtlWzBdPU1hdGgubWluKGVbMF0sdFswXSksZVsxXT1NYXRoLm1pbihlWzFdLHRbMV0pLGVbMl09TWF0aC5tYXgoZVsyXSx0WzBdKSxlWzNdPU1hdGgubWF4KGVbM10sdFsxXSl9ZnVuY3Rpb24gZXIoZSx0KXtyZXR1cm4hKGVbMF08PXRbMF18fGVbMl0+PXRbMl18fGVbMV08PXRbMV18fGVbM10+PXRbM10pfWZ1bmN0aW9uIHRyKGUsdCl7Y29uc3Qgcj0oMTgwK2VbMF0pLzM2MCxuPSgxODAtMTgwL01hdGguUEkqTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K2VbMV0qTWF0aC5QSS8zNjApKSkvMzYwLGk9TWF0aC5wb3coMix0LnopO3JldHVybltNYXRoLnJvdW5kKHIqaSpKdCksTWF0aC5yb3VuZChuKmkqSnQpXX1mdW5jdGlvbiBycihlLHQscil7Y29uc3Qgbj1lWzBdLXRbMF0saT1lWzFdLXRbMV0sbz1lWzBdLXJbMF0sYT1lWzFdLXJbMV07cmV0dXJuIG4qYS1vKmk9PTAmJm4qbzw9MCYmaSphPD0wfWZ1bmN0aW9uIG5yKGUsdCl7bGV0IHI9ITE7Zm9yKGxldCBhPTAscz10Lmxlbmd0aDthPHM7YSsrKXtjb25zdCBzPXRbYV07Zm9yKGxldCB0PTAsYT1zLmxlbmd0aDt0PGEtMTt0Kyspe2lmKHJyKGUsc1t0XSxzW3QrMV0pKXJldHVybiExOyhpPXNbdF0pWzFdPihuPWUpWzFdIT0obz1zW3QrMV0pWzFdPm5bMV0mJm5bMF08KG9bMF0taVswXSkqKG5bMV0taVsxXSkvKG9bMV0taVsxXSkraVswXSYmKHI9IXIpfX12YXIgbixpLG87cmV0dXJuIHJ9ZnVuY3Rpb24gaXIoZSx0KXtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKylpZihucihlLHRbcl0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIG9yKGUsdCxyLG4pe2NvbnN0IGk9blswXS1yWzBdLG89blsxXS1yWzFdLGE9KGVbMF0tclswXSkqby1pKihlWzFdLXJbMV0pLHM9KHRbMF0tclswXSkqby1pKih0WzFdLXJbMV0pO3JldHVybiBhPjAmJnM8MHx8YTwwJiZzPjB9ZnVuY3Rpb24gYXIoZSx0LHIpe2Zvcihjb25zdCBjIG9mIHIpZm9yKGxldCByPTA7cjxjLmxlbmd0aC0xOysrcilpZigwIT0ocz1bKGE9Y1tyKzFdKVswXS0obz1jW3JdKVswXSxhWzFdLW9bMV1dKVswXSoobD1bKGk9dClbMF0tKG49ZSlbMF0saVsxXS1uWzFdXSlbMV0tc1sxXSpsWzBdJiZvcihuLGksbyxhKSYmb3IobyxhLG4saSkpcmV0dXJuITA7dmFyIG4saSxvLGEscyxsO3JldHVybiExfWZ1bmN0aW9uIHNyKGUsdCl7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDsrK3IpaWYoIW5yKGVbcl0sdCkpcmV0dXJuITE7Zm9yKGxldCByPTA7cjxlLmxlbmd0aC0xOysrcilpZihhcihlW3JdLGVbcisxXSx0KSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBscihlLHQpe2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWlmKHNyKGUsdFtyXSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gY3IoZSx0LHIpe2NvbnN0IG49W107Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG89W107Zm9yKGxldCBuPTA7bjxlW2ldLmxlbmd0aDtuKyspe2NvbnN0IGE9dHIoZVtpXVtuXSxyKTtRdCh0LGEpLG8ucHVzaChhKX1uLnB1c2gobyl9cmV0dXJuIG59ZnVuY3Rpb24gdXIoZSx0LHIpe2NvbnN0IG49W107Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG89Y3IoZVtpXSx0LHIpO24ucHVzaChvKX1yZXR1cm4gbn1mdW5jdGlvbiBocihlLHQscixuKXtpZihlWzBdPHJbMF18fGVbMF0+clsyXSl7Y29uc3QgdD0uNSpuO2xldCBpPWVbMF0tclswXT50Py1uOnJbMF0tZVswXT50P246MDswPT09aSYmKGk9ZVswXS1yWzJdPnQ/LW46clsyXS1lWzBdPnQ/bjowKSxlWzBdKz1pfVF0KHQsZSl9ZnVuY3Rpb24gZHIoZSx0LHIsbil7Y29uc3QgaT1NYXRoLnBvdygyLG4ueikqSnQsbz1bbi54Kkp0LG4ueSpKdF0sYT1bXTtpZighZSlyZXR1cm4gYTtmb3IoY29uc3QgbiBvZiBlKWZvcihjb25zdCBlIG9mIG4pe2NvbnN0IG49W2UueCtvWzBdLGUueStvWzFdXTtocihuLHQscixpKSxhLnB1c2gobil9cmV0dXJuIGF9ZnVuY3Rpb24gcHIoZSx0LHIsbil7Y29uc3QgaT1NYXRoLnBvdygyLG4ueikqSnQsbz1bbi54Kkp0LG4ueSpKdF0sYT1bXTtpZighZSlyZXR1cm4gYTtmb3IoY29uc3QgciBvZiBlKXtjb25zdCBlPVtdO2Zvcihjb25zdCBuIG9mIHIpe2NvbnN0IHI9W24ueCtvWzBdLG4ueStvWzFdXTtRdCh0LHIpLGUucHVzaChyKX1hLnB1c2goZSl9aWYodFsyXS10WzBdPD1pLzIpeyhzPXQpWzBdPXNbMV09MS8wLHNbMl09c1szXT0tMS8wO2Zvcihjb25zdCBlIG9mIGEpZm9yKGNvbnN0IG4gb2YgZSlocihuLHQscixpKX12YXIgcztyZXR1cm4gYX1jbGFzcyBmcntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1zdCx0aGlzLmdlb2pzb249ZSx0aGlzLmdlb21ldHJpZXM9dH1zdGF0aWMgcGFyc2UoZSx0KXtpZigyIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoYCd3aXRoaW4nIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7aWYoRHQoZVsxXSkpe2NvbnN0IHQ9ZVsxXTtpZihcIkZlYXR1cmVDb2xsZWN0aW9uXCI9PT10LnR5cGUpZm9yKGxldCBlPTA7ZTx0LmZlYXR1cmVzLmxlbmd0aDsrK2Upe2NvbnN0IHI9dC5mZWF0dXJlc1tlXS5nZW9tZXRyeS50eXBlO2lmKFwiUG9seWdvblwiPT09cnx8XCJNdWx0aVBvbHlnb25cIj09PXIpcmV0dXJuIG5ldyBmcih0LHQuZmVhdHVyZXNbZV0uZ2VvbWV0cnkpfWVsc2UgaWYoXCJGZWF0dXJlXCI9PT10LnR5cGUpe2NvbnN0IGU9dC5nZW9tZXRyeS50eXBlO2lmKFwiUG9seWdvblwiPT09ZXx8XCJNdWx0aVBvbHlnb25cIj09PWUpcmV0dXJuIG5ldyBmcih0LHQuZ2VvbWV0cnkpfWVsc2UgaWYoXCJQb2x5Z29uXCI9PT10LnR5cGV8fFwiTXVsdGlQb2x5Z29uXCI9PT10LnR5cGUpcmV0dXJuIG5ldyBmcih0LHQpfXJldHVybiB0LmVycm9yKFwiJ3dpdGhpbicgZXhwcmVzc2lvbiByZXF1aXJlcyB2YWxpZCBnZW9qc29uIG9iamVjdCB0aGF0IGNvbnRhaW5zIHBvbHlnb24gZ2VvbWV0cnkgdHlwZS5cIil9ZXZhbHVhdGUoZSl7aWYobnVsbCE9ZS5nZW9tZXRyeSgpJiZudWxsIT1lLmNhbm9uaWNhbElEKCkpe2lmKFwiUG9pbnRcIj09PWUuZ2VvbWV0cnlUeXBlKCkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1bMS8wLDEvMCwtMS8wLC0xLzBdLG49WzEvMCwxLzAsLTEvMCwtMS8wXSxpPWUuY2Fub25pY2FsSUQoKTtpZighaSlyZXR1cm4hMTtpZihcIlBvbHlnb25cIj09PXQudHlwZSl7Y29uc3Qgbz1jcih0LmNvb3JkaW5hdGVzLG4saSksYT1kcihlLmdlb21ldHJ5KCkscixuLGkpO2lmKCFlcihyLG4pKXJldHVybiExO2Zvcihjb25zdCBlIG9mIGEpaWYoIW5yKGUsbykpcmV0dXJuITF9aWYoXCJNdWx0aVBvbHlnb25cIj09PXQudHlwZSl7Y29uc3Qgbz11cih0LmNvb3JkaW5hdGVzLG4saSksYT1kcihlLmdlb21ldHJ5KCkscixuLGkpO2lmKCFlcihyLG4pKXJldHVybiExO2Zvcihjb25zdCBlIG9mIGEpaWYoIWlyKGUsbykpcmV0dXJuITF9cmV0dXJuITB9KGUsdGhpcy5nZW9tZXRyaWVzKTtpZihcIkxpbmVTdHJpbmdcIj09PWUuZ2VvbWV0cnlUeXBlKCkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1bMS8wLDEvMCwtMS8wLC0xLzBdLG49WzEvMCwxLzAsLTEvMCwtMS8wXSxpPWUuY2Fub25pY2FsSUQoKTtpZighaSlyZXR1cm4hMTtpZihcIlBvbHlnb25cIj09PXQudHlwZSl7Y29uc3Qgbz1jcih0LmNvb3JkaW5hdGVzLG4saSksYT1wcihlLmdlb21ldHJ5KCkscixuLGkpO2lmKCFlcihyLG4pKXJldHVybiExO2Zvcihjb25zdCBlIG9mIGEpaWYoIXNyKGUsbykpcmV0dXJuITF9aWYoXCJNdWx0aVBvbHlnb25cIj09PXQudHlwZSl7Y29uc3Qgbz11cih0LmNvb3JkaW5hdGVzLG4saSksYT1wcihlLmdlb21ldHJ5KCkscixuLGkpO2lmKCFlcihyLG4pKXJldHVybiExO2Zvcihjb25zdCBlIG9mIGEpaWYoIWxyKGUsbykpcmV0dXJuITF9cmV0dXJuITB9KGUsdGhpcy5nZW9tZXRyaWVzKX1yZXR1cm4hMX1lYWNoQ2hpbGQoKXt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiEwfXNlcmlhbGl6ZSgpe3JldHVybltcIndpdGhpblwiLHRoaXMuZ2VvanNvbl19fXZhciBtcj1mcjtmdW5jdGlvbiBncihlKXtpZihlIGluc3RhbmNlb2YgWXQpe2lmKFwiZ2V0XCI9PT1lLm5hbWUmJjE9PT1lLmFyZ3MubGVuZ3RoKXJldHVybiExO2lmKFwiZmVhdHVyZS1zdGF0ZVwiPT09ZS5uYW1lKXJldHVybiExO2lmKFwiaGFzXCI9PT1lLm5hbWUmJjE9PT1lLmFyZ3MubGVuZ3RoKXJldHVybiExO2lmKFwicHJvcGVydGllc1wiPT09ZS5uYW1lfHxcImdlb21ldHJ5LXR5cGVcIj09PWUubmFtZXx8XCJpZFwiPT09ZS5uYW1lKXJldHVybiExO2lmKC9eZmlsdGVyLS8udGVzdChlLm5hbWUpKXJldHVybiExfWlmKGUgaW5zdGFuY2VvZiBtcilyZXR1cm4hMTtsZXQgdD0hMDtyZXR1cm4gZS5lYWNoQ2hpbGQoZT0+e3QmJiFncihlKSYmKHQ9ITEpfSksdH1mdW5jdGlvbiBfcihlKXtpZihlIGluc3RhbmNlb2YgWXQmJlwiZmVhdHVyZS1zdGF0ZVwiPT09ZS5uYW1lKXJldHVybiExO2xldCB0PSEwO3JldHVybiBlLmVhY2hDaGlsZChlPT57dCYmIV9yKGUpJiYodD0hMSl9KSx0fWZ1bmN0aW9uIHlyKGUsdCl7aWYoZSBpbnN0YW5jZW9mIFl0JiZ0LmluZGV4T2YoZS5uYW1lKT49MClyZXR1cm4hMTtsZXQgcj0hMDtyZXR1cm4gZS5lYWNoQ2hpbGQoZT0+e3ImJiF5cihlLHQpJiYocj0hMSl9KSxyfWNsYXNzIHZye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPXQudHlwZSx0aGlzLm5hbWU9ZSx0aGlzLmJvdW5kRXhwcmVzc2lvbj10fXN0YXRpYyBwYXJzZShlLHQpe2lmKDIhPT1lLmxlbmd0aHx8XCJzdHJpbmdcIiE9dHlwZW9mIGVbMV0pcmV0dXJuIHQuZXJyb3IoXCIndmFyJyBleHByZXNzaW9uIHJlcXVpcmVzIGV4YWN0bHkgb25lIHN0cmluZyBsaXRlcmFsIGFyZ3VtZW50LlwiKTtjb25zdCByPWVbMV07cmV0dXJuIHQuc2NvcGUuaGFzKHIpP25ldyB2cihyLHQuc2NvcGUuZ2V0KHIpKTp0LmVycm9yKGBVbmtub3duIHZhcmlhYmxlIFwiJHtyfVwiLiBNYWtlIHN1cmUgXCIke3J9XCIgaGFzIGJlZW4gYm91bmQgaW4gYW4gZW5jbG9zaW5nIFwibGV0XCIgZXhwcmVzc2lvbiBiZWZvcmUgdXNpbmcgaXQuYCwxKX1ldmFsdWF0ZShlKXtyZXR1cm4gdGhpcy5ib3VuZEV4cHJlc3Npb24uZXZhbHVhdGUoZSl9ZWFjaENoaWxkKCl7fW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtyZXR1cm5bXCJ2YXJcIix0aGlzLm5hbWVdfX12YXIgeHI9dnI7Y2xhc3MgYnJ7Y29uc3RydWN0b3IoZSx0PVtdLHIsbj1uZXcgbnQsaT1bXSl7dGhpcy5yZWdpc3RyeT1lLHRoaXMucGF0aD10LHRoaXMua2V5PXQubWFwKGU9PmBbJHtlfV1gKS5qb2luKFwiXCIpLHRoaXMuc2NvcGU9bix0aGlzLmVycm9ycz1pLHRoaXMuZXhwZWN0ZWRUeXBlPXJ9cGFyc2UoZSx0LHIsbixpPXt9KXtyZXR1cm4gdD90aGlzLmNvbmNhdCh0LHIsbikuX3BhcnNlKGUsaSk6dGhpcy5fcGFyc2UoZSxpKX1fcGFyc2UoZSx0KXtmdW5jdGlvbiByKGUsdCxyKXtyZXR1cm5cImFzc2VydFwiPT09cj9uZXcgTnQodCxbZV0pOlwiY29lcmNlXCI9PT1yP25ldyAkdCh0LFtlXSk6ZX1pZihudWxsIT09ZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUmJlwiYm9vbGVhblwiIT10eXBlb2YgZSYmXCJudW1iZXJcIiE9dHlwZW9mIGV8fChlPVtcImxpdGVyYWxcIixlXSksQXJyYXkuaXNBcnJheShlKSl7aWYoMD09PWUubGVuZ3RoKXJldHVybiB0aGlzLmVycm9yKCdFeHBlY3RlZCBhbiBhcnJheSB3aXRoIGF0IGxlYXN0IG9uZSBlbGVtZW50LiBJZiB5b3Ugd2FudGVkIGEgbGl0ZXJhbCBhcnJheSwgdXNlIFtcImxpdGVyYWxcIiwgW11dLicpO2NvbnN0IG49ZVswXTtpZihcInN0cmluZ1wiIT10eXBlb2YgbilyZXR1cm4gdGhpcy5lcnJvcihgRXhwcmVzc2lvbiBuYW1lIG11c3QgYmUgYSBzdHJpbmcsIGJ1dCBmb3VuZCAke3R5cGVvZiBufSBpbnN0ZWFkLiBJZiB5b3Ugd2FudGVkIGEgbGl0ZXJhbCBhcnJheSwgdXNlIFtcImxpdGVyYWxcIiwgWy4uLl1dLmAsMCksbnVsbDtjb25zdCBpPXRoaXMucmVnaXN0cnlbbl07aWYoaSl7bGV0IG49aS5wYXJzZShlLHRoaXMpO2lmKCFuKXJldHVybiBudWxsO2lmKHRoaXMuZXhwZWN0ZWRUeXBlKXtjb25zdCBlPXRoaXMuZXhwZWN0ZWRUeXBlLGk9bi50eXBlO2lmKFwic3RyaW5nXCIhPT1lLmtpbmQmJlwibnVtYmVyXCIhPT1lLmtpbmQmJlwiYm9vbGVhblwiIT09ZS5raW5kJiZcIm9iamVjdFwiIT09ZS5raW5kJiZcImFycmF5XCIhPT1lLmtpbmR8fFwidmFsdWVcIiE9PWkua2luZClpZihcImNvbG9yXCIhPT1lLmtpbmQmJlwiZm9ybWF0dGVkXCIhPT1lLmtpbmQmJlwicmVzb2x2ZWRJbWFnZVwiIT09ZS5raW5kfHxcInZhbHVlXCIhPT1pLmtpbmQmJlwic3RyaW5nXCIhPT1pLmtpbmQpe2lmKHRoaXMuY2hlY2tTdWJ0eXBlKGUsaSkpcmV0dXJuIG51bGx9ZWxzZSBuPXIobixlLHQudHlwZUFubm90YXRpb258fFwiY29lcmNlXCIpO2Vsc2Ugbj1yKG4sZSx0LnR5cGVBbm5vdGF0aW9ufHxcImFzc2VydFwiKX1pZighKG4gaW5zdGFuY2VvZiBCdCkmJlwicmVzb2x2ZWRJbWFnZVwiIT09bi50eXBlLmtpbmQmJmZ1bmN0aW9uIGUodCl7aWYodCBpbnN0YW5jZW9mIHhyKXJldHVybiBlKHQuYm91bmRFeHByZXNzaW9uKTtpZih0IGluc3RhbmNlb2YgWXQmJlwiZXJyb3JcIj09PXQubmFtZSlyZXR1cm4hMTtpZih0IGluc3RhbmNlb2YgS3QpcmV0dXJuITE7aWYodCBpbnN0YW5jZW9mIG1yKXJldHVybiExO2NvbnN0IHI9dCBpbnN0YW5jZW9mICR0fHx0IGluc3RhbmNlb2YgTnQ7bGV0IG49ITA7cmV0dXJuIHQuZWFjaENoaWxkKHQ9PntuPXI/biYmZSh0KTpuJiZ0IGluc3RhbmNlb2YgQnR9KSwhIW4mJmdyKHQpJiZ5cih0LFtcInpvb21cIixcImhlYXRtYXAtZGVuc2l0eVwiLFwibGluZS1wcm9ncmVzc1wiLFwic2t5LXJhZGlhbC1wcm9ncmVzc1wiLFwiYWNjdW11bGF0ZWRcIixcImlzLXN1cHBvcnRlZC1zY3JpcHRcIixcInBpdGNoXCIsXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiXSl9KG4pKXtjb25zdCB0PW5ldyBYdDt0cnl7bj1uZXcgQnQobi50eXBlLG4uZXZhbHVhdGUodCkpfWNhdGNoKGUpe3JldHVybiB0aGlzLmVycm9yKGUubWVzc2FnZSksbnVsbH19cmV0dXJuIG59cmV0dXJuIHRoaXMuZXJyb3IoYFVua25vd24gZXhwcmVzc2lvbiBcIiR7bn1cIi4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbXCJsaXRlcmFsXCIsIFsuLi5dXS5gLDApfXJldHVybiB0aGlzLmVycm9yKHZvaWQgMD09PWU/XCIndW5kZWZpbmVkJyB2YWx1ZSBpbnZhbGlkLiBVc2UgbnVsbCBpbnN0ZWFkLlwiOlwib2JqZWN0XCI9PXR5cGVvZiBlPydCYXJlIG9iamVjdHMgaW52YWxpZC4gVXNlIFtcImxpdGVyYWxcIiwgey4uLn1dIGluc3RlYWQuJzpgRXhwZWN0ZWQgYW4gYXJyYXksIGJ1dCBmb3VuZCAke3R5cGVvZiBlfSBpbnN0ZWFkLmApfWNvbmNhdChlLHQscil7Y29uc3Qgbj1cIm51bWJlclwiPT10eXBlb2YgZT90aGlzLnBhdGguY29uY2F0KGUpOnRoaXMucGF0aCxpPXI/dGhpcy5zY29wZS5jb25jYXQocik6dGhpcy5zY29wZTtyZXR1cm4gbmV3IGJyKHRoaXMucmVnaXN0cnksbix0fHxudWxsLGksdGhpcy5lcnJvcnMpfWVycm9yKGUsLi4udCl7Y29uc3Qgcj1gJHt0aGlzLmtleX0ke3QubWFwKGU9PmBbJHtlfV1gKS5qb2luKFwiXCIpfWA7dGhpcy5lcnJvcnMucHVzaChuZXcgdHQocixlKSl9Y2hlY2tTdWJ0eXBlKGUsdCl7Y29uc3Qgcj1fdChlLHQpO3JldHVybiByJiZ0aGlzLmVycm9yKHIpLHJ9fXZhciB3cj1icjtmdW5jdGlvbiBUcihlLHQpe2NvbnN0IHI9ZS5sZW5ndGgtMTtsZXQgbixpLG89MCxhPXIscz0wO2Zvcig7bzw9YTspaWYocz1NYXRoLmZsb29yKChvK2EpLzIpLG49ZVtzXSxpPWVbcysxXSxuPD10KXtpZihzPT09cnx8dDxpKXJldHVybiBzO289cysxfWVsc2V7aWYoIShuPnQpKXRocm93IG5ldyBGdChcIklucHV0IGlzIG5vdCBhIG51bWJlci5cIik7YT1zLTF9cmV0dXJuIDB9Y2xhc3MgRXJ7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMudHlwZT1lLHRoaXMuaW5wdXQ9dCx0aGlzLmxhYmVscz1bXSx0aGlzLm91dHB1dHM9W107Zm9yKGNvbnN0W2UsdF1vZiByKXRoaXMubGFiZWxzLnB1c2goZSksdGhpcy5vdXRwdXRzLnB1c2godCl9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGgtMTw0KXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgJHtlLmxlbmd0aC0xfS5gKTtpZigoZS5sZW5ndGgtMSklMiE9MClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7Y29uc3Qgcj10LnBhcnNlKGVbMV0sMSxvdCk7aWYoIXIpcmV0dXJuIG51bGw7Y29uc3Qgbj1bXTtsZXQgaT1udWxsO3QuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT10LmV4cGVjdGVkVHlwZS5raW5kJiYoaT10LmV4cGVjdGVkVHlwZSk7Zm9yKGxldCByPTE7cjxlLmxlbmd0aDtyKz0yKXtjb25zdCBvPTE9PT1yPy0xLzA6ZVtyXSxhPWVbcisxXSxzPXIsbD1yKzE7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG8pcmV0dXJuIHQuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJzdGVwXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBkZWZpbmVkIHVzaW5nIGxpdGVyYWwgbnVtZXJpYyB2YWx1ZXMgKG5vdCBjb21wdXRlZCBleHByZXNzaW9ucykgZm9yIHRoZSBpbnB1dCB2YWx1ZXMuJyxzKTtpZihuLmxlbmd0aCYmbltuLmxlbmd0aC0xXVswXT49bylyZXR1cm4gdC5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciBcInN0ZXBcIiBleHByZXNzaW9ucyBtdXN0IGJlIGFycmFuZ2VkIHdpdGggaW5wdXQgdmFsdWVzIGluIHN0cmljdGx5IGFzY2VuZGluZyBvcmRlci4nLHMpO2NvbnN0IGM9dC5wYXJzZShhLGwsaSk7aWYoIWMpcmV0dXJuIG51bGw7aT1pfHxjLnR5cGUsbi5wdXNoKFtvLGNdKX1yZXR1cm4gbmV3IEVyKGkscixuKX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMubGFiZWxzLHI9dGhpcy5vdXRwdXRzO2lmKDE9PT10Lmxlbmd0aClyZXR1cm4gclswXS5ldmFsdWF0ZShlKTtjb25zdCBuPXRoaXMuaW5wdXQuZXZhbHVhdGUoZSk7aWYobjw9dFswXSlyZXR1cm4gclswXS5ldmFsdWF0ZShlKTtjb25zdCBpPXQubGVuZ3RoO3JldHVybiBuPj10W2ktMV0/cltpLTFdLmV2YWx1YXRlKGUpOnJbVHIodCxuKV0uZXZhbHVhdGUoZSl9ZWFjaENoaWxkKGUpe2UodGhpcy5pbnB1dCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5vdXRwdXRzKWUodCl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLm91dHB1dHMuZXZlcnkoZT0+ZS5vdXRwdXREZWZpbmVkKCkpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wic3RlcFwiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldO2ZvcihsZXQgdD0wO3Q8dGhpcy5sYWJlbHMubGVuZ3RoO3QrKyl0PjAmJmUucHVzaCh0aGlzLmxhYmVsc1t0XSksZS5wdXNoKHRoaXMub3V0cHV0c1t0XS5zZXJpYWxpemUoKSk7cmV0dXJuIGV9fXZhciBTcj1FcjtmdW5jdGlvbiBDcihlLHQscil7cmV0dXJuIGUqKDEtcikrdCpyfXZhciBNcj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxudW1iZXI6Q3IsY29sb3I6ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuZXcgTXQoQ3IoZS5yLHQucixyKSxDcihlLmcsdC5nLHIpLENyKGUuYix0LmIsciksQ3IoZS5hLHQuYSxyKSl9LGFycmF5OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZS5tYXAoKGUsbik9PkNyKGUsdFtuXSxyKSl9fSk7Y29uc3Qga3I9Ni8yOSozKig2LzI5KSxBcj1NYXRoLlBJLzE4MCxJcj0xODAvTWF0aC5QSTtmdW5jdGlvbiBQcihlKXtyZXR1cm4gZT4uMDA4ODU2NDUxNjc5MDM1NjMxP01hdGgucG93KGUsMS8zKTplL2tyKzQvMjl9ZnVuY3Rpb24genIoZSl7cmV0dXJuIGU+Ni8yOT9lKmUqZTprciooZS00LzI5KX1mdW5jdGlvbiBEcihlKXtyZXR1cm4gMjU1KihlPD0uMDAzMTMwOD8xMi45MiplOjEuMDU1Kk1hdGgucG93KGUsMS8yLjQpLS4wNTUpfWZ1bmN0aW9uIFJyKGUpe3JldHVybihlLz0yNTUpPD0uMDQwNDU/ZS8xMi45MjpNYXRoLnBvdygoZSsuMDU1KS8xLjA1NSwyLjQpfWZ1bmN0aW9uIExyKGUpe2NvbnN0IHQ9UnIoZS5yKSxyPVJyKGUuZyksbj1ScihlLmIpLGk9UHIoKC40MTI0NTY0KnQrLjM1NzU3NjEqcisuMTgwNDM3NSpuKS8uOTUwNDcpLG89UHIoKC4yMTI2NzI5KnQrLjcxNTE1MjIqcisuMDcyMTc1Km4pLzEpO3JldHVybntsOjExNipvLTE2LGE6NTAwKihpLW8pLGI6MjAwKihvLVByKCguMDE5MzMzOSp0Ky4xMTkxOTIqcisuOTUwMzA0MSpuKS8xLjA4ODgzKSksYWxwaGE6ZS5hfX1mdW5jdGlvbiBPcihlKXtsZXQgdD0oZS5sKzE2KS8xMTYscj1pc05hTihlLmEpP3Q6dCtlLmEvNTAwLG49aXNOYU4oZS5iKT90OnQtZS5iLzIwMDtyZXR1cm4gdD0xKnpyKHQpLHI9Ljk1MDQ3KnpyKHIpLG49MS4wODg4Myp6cihuKSxuZXcgTXQoRHIoMy4yNDA0NTQyKnItMS41MzcxMzg1KnQtLjQ5ODUzMTQqbiksRHIoLS45NjkyNjYqcisxLjg3NjAxMDgqdCsuMDQxNTU2Km4pLERyKC4wNTU2NDM0KnItLjIwNDAyNTkqdCsxLjA1NzIyNTIqbiksZS5hbHBoYSl9ZnVuY3Rpb24gQnIoZSx0LHIpe2NvbnN0IG49dC1lO3JldHVybiBlK3IqKG4+MTgwfHxuPC0xODA/bi0zNjAqTWF0aC5yb3VuZChuLzM2MCk6bil9Y29uc3QgRnI9e2ZvcndhcmQ6THIscmV2ZXJzZTpPcixpbnRlcnBvbGF0ZTpmdW5jdGlvbihlLHQscil7cmV0dXJue2w6Q3IoZS5sLHQubCxyKSxhOkNyKGUuYSx0LmEsciksYjpDcihlLmIsdC5iLHIpLGFscGhhOkNyKGUuYWxwaGEsdC5hbHBoYSxyKX19fSxqcj17Zm9yd2FyZDpmdW5jdGlvbihlKXtjb25zdHtsOnQsYTpyLGI6bn09THIoZSksaT1NYXRoLmF0YW4yKG4scikqSXI7cmV0dXJue2g6aTwwP2krMzYwOmksYzpNYXRoLnNxcnQocipyK24qbiksbDp0LGFscGhhOmUuYX19LHJldmVyc2U6ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmgqQXIscj1lLmM7cmV0dXJuIE9yKHtsOmUubCxhOk1hdGguY29zKHQpKnIsYjpNYXRoLnNpbih0KSpyLGFscGhhOmUuYWxwaGF9KX0saW50ZXJwb2xhdGU6ZnVuY3Rpb24oZSx0LHIpe3JldHVybntoOkJyKGUuaCx0LmgsciksYzpDcihlLmMsdC5jLHIpLGw6Q3IoZS5sLHQubCxyKSxhbHBoYTpDcihlLmFscGhhLHQuYWxwaGEscil9fX07dmFyIFVyPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGxhYjpGcixoY2w6anJ9KTtjbGFzcyBOcntjb25zdHJ1Y3RvcihlLHQscixuLGkpe3RoaXMudHlwZT1lLHRoaXMub3BlcmF0b3I9dCx0aGlzLmludGVycG9sYXRpb249cix0aGlzLmlucHV0PW4sdGhpcy5sYWJlbHM9W10sdGhpcy5vdXRwdXRzPVtdO2Zvcihjb25zdFtlLHRdb2YgaSl0aGlzLmxhYmVscy5wdXNoKGUpLHRoaXMub3V0cHV0cy5wdXNoKHQpfXN0YXRpYyBpbnRlcnBvbGF0aW9uRmFjdG9yKGUsdCxyLG4pe2xldCBpPTA7aWYoXCJleHBvbmVudGlhbFwiPT09ZS5uYW1lKWk9VnIodCxlLmJhc2UscixuKTtlbHNlIGlmKFwibGluZWFyXCI9PT1lLm5hbWUpaT1Wcih0LDEscixuKTtlbHNlIGlmKFwiY3ViaWMtYmV6aWVyXCI9PT1lLm5hbWUpe2NvbnN0IG89ZS5jb250cm9sUG9pbnRzO2k9bmV3IHAob1swXSxvWzFdLG9bMl0sb1szXSkuc29sdmUoVnIodCwxLHIsbikpfXJldHVybiBpfXN0YXRpYyBwYXJzZShlLHQpe2xldFtyLG4saSwuLi5vXT1lO2lmKCFBcnJheS5pc0FycmF5KG4pfHwwPT09bi5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhbiBpbnRlcnBvbGF0aW9uIHR5cGUgZXhwcmVzc2lvbi5cIiwxKTtpZihcImxpbmVhclwiPT09blswXSluPXtuYW1lOlwibGluZWFyXCJ9O2Vsc2UgaWYoXCJleHBvbmVudGlhbFwiPT09blswXSl7Y29uc3QgZT1uWzFdO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXJldHVybiB0LmVycm9yKFwiRXhwb25lbnRpYWwgaW50ZXJwb2xhdGlvbiByZXF1aXJlcyBhIG51bWVyaWMgYmFzZS5cIiwxLDEpO249e25hbWU6XCJleHBvbmVudGlhbFwiLGJhc2U6ZX19ZWxzZXtpZihcImN1YmljLWJlemllclwiIT09blswXSlyZXR1cm4gdC5lcnJvcihcIlVua25vd24gaW50ZXJwb2xhdGlvbiB0eXBlIFwiK1N0cmluZyhuWzBdKSwxLDApO3tjb25zdCBlPW4uc2xpY2UoMSk7aWYoNCE9PWUubGVuZ3RofHxlLnNvbWUoZT0+XCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MHx8ZT4xKSlyZXR1cm4gdC5lcnJvcihcIkN1YmljIGJlemllciBpbnRlcnBvbGF0aW9uIHJlcXVpcmVzIGZvdXIgbnVtZXJpYyBhcmd1bWVudHMgd2l0aCB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAxLlwiLDEpO249e25hbWU6XCJjdWJpYy1iZXppZXJcIixjb250cm9sUG9pbnRzOmV9fX1pZihlLmxlbmd0aC0xPDQpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAke2UubGVuZ3RoLTF9LmApO2lmKChlLmxlbmd0aC0xKSUyIT0wKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgYW4gZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtpZihpPXQucGFyc2UoaSwyLG90KSwhaSlyZXR1cm4gbnVsbDtjb25zdCBhPVtdO2xldCBzPW51bGw7XCJpbnRlcnBvbGF0ZS1oY2xcIj09PXJ8fFwiaW50ZXJwb2xhdGUtbGFiXCI9PT1yP3M9bHQ6dC5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PXQuZXhwZWN0ZWRUeXBlLmtpbmQmJihzPXQuZXhwZWN0ZWRUeXBlKTtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrPTIpe2NvbnN0IHI9b1tlXSxuPW9bZSsxXSxpPWUrMyxsPWUrNDtpZihcIm51bWJlclwiIT10eXBlb2YgcilyZXR1cm4gdC5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBkZWZpbmVkIHVzaW5nIGxpdGVyYWwgbnVtZXJpYyB2YWx1ZXMgKG5vdCBjb21wdXRlZCBleHByZXNzaW9ucykgZm9yIHRoZSBpbnB1dCB2YWx1ZXMuJyxpKTtpZihhLmxlbmd0aCYmYVthLmxlbmd0aC0xXVswXT49cilyZXR1cm4gdC5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBhcnJhbmdlZCB3aXRoIGlucHV0IHZhbHVlcyBpbiBzdHJpY3RseSBhc2NlbmRpbmcgb3JkZXIuJyxpKTtjb25zdCBjPXQucGFyc2UobixsLHMpO2lmKCFjKXJldHVybiBudWxsO3M9c3x8Yy50eXBlLGEucHVzaChbcixjXSl9cmV0dXJuXCJudW1iZXJcIj09PXMua2luZHx8XCJjb2xvclwiPT09cy5raW5kfHxcImFycmF5XCI9PT1zLmtpbmQmJlwibnVtYmVyXCI9PT1zLml0ZW1UeXBlLmtpbmQmJlwibnVtYmVyXCI9PXR5cGVvZiBzLk4/bmV3IE5yKHMscixuLGksYSk6dC5lcnJvcihgVHlwZSAke210KHMpfSBpcyBub3QgaW50ZXJwb2xhdGFibGUuYCl9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmxhYmVscyxyPXRoaXMub3V0cHV0cztpZigxPT09dC5sZW5ndGgpcmV0dXJuIHJbMF0uZXZhbHVhdGUoZSk7Y29uc3Qgbj10aGlzLmlucHV0LmV2YWx1YXRlKGUpO2lmKG48PXRbMF0pcmV0dXJuIHJbMF0uZXZhbHVhdGUoZSk7Y29uc3QgaT10Lmxlbmd0aDtpZihuPj10W2ktMV0pcmV0dXJuIHJbaS0xXS5ldmFsdWF0ZShlKTtjb25zdCBvPVRyKHQsbiksYT1Oci5pbnRlcnBvbGF0aW9uRmFjdG9yKHRoaXMuaW50ZXJwb2xhdGlvbixuLHRbb10sdFtvKzFdKSxzPXJbb10uZXZhbHVhdGUoZSksbD1yW28rMV0uZXZhbHVhdGUoZSk7cmV0dXJuXCJpbnRlcnBvbGF0ZVwiPT09dGhpcy5vcGVyYXRvcj9Nclt0aGlzLnR5cGUua2luZC50b0xvd2VyQ2FzZSgpXShzLGwsYSk6XCJpbnRlcnBvbGF0ZS1oY2xcIj09PXRoaXMub3BlcmF0b3I/anIucmV2ZXJzZShqci5pbnRlcnBvbGF0ZShqci5mb3J3YXJkKHMpLGpyLmZvcndhcmQobCksYSkpOkZyLnJldmVyc2UoRnIuaW50ZXJwb2xhdGUoRnIuZm9yd2FyZChzKSxGci5mb3J3YXJkKGwpLGEpKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0KTtmb3IoY29uc3QgdCBvZiB0aGlzLm91dHB1dHMpZSh0KX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeShlPT5lLm91dHB1dERlZmluZWQoKSl9c2VyaWFsaXplKCl7bGV0IGU7ZT1cImxpbmVhclwiPT09dGhpcy5pbnRlcnBvbGF0aW9uLm5hbWU/W1wibGluZWFyXCJdOlwiZXhwb25lbnRpYWxcIj09PXRoaXMuaW50ZXJwb2xhdGlvbi5uYW1lPzE9PT10aGlzLmludGVycG9sYXRpb24uYmFzZT9bXCJsaW5lYXJcIl06W1wiZXhwb25lbnRpYWxcIix0aGlzLmludGVycG9sYXRpb24uYmFzZV06W1wiY3ViaWMtYmV6aWVyXCJdLmNvbmNhdCh0aGlzLmludGVycG9sYXRpb24uY29udHJvbFBvaW50cyk7Y29uc3QgdD1bdGhpcy5vcGVyYXRvcixlLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldO2ZvcihsZXQgZT0wO2U8dGhpcy5sYWJlbHMubGVuZ3RoO2UrKyl0LnB1c2godGhpcy5sYWJlbHNbZV0sdGhpcy5vdXRwdXRzW2VdLnNlcmlhbGl6ZSgpKTtyZXR1cm4gdH19ZnVuY3Rpb24gVnIoZSx0LHIsbil7Y29uc3QgaT1uLXIsbz1lLXI7cmV0dXJuIDA9PT1pPzA6MT09PXQ/by9pOihNYXRoLnBvdyh0LG8pLTEpLyhNYXRoLnBvdyh0LGkpLTEpfXZhciBHcj1OcjtjbGFzcyBxcntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMuYXJncz10fXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDIpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuXCIpO2xldCByPW51bGw7Y29uc3Qgbj10LmV4cGVjdGVkVHlwZTtuJiZcInZhbHVlXCIhPT1uLmtpbmQmJihyPW4pO2NvbnN0IGk9W107Zm9yKGNvbnN0IG4gb2YgZS5zbGljZSgxKSl7Y29uc3QgZT10LnBhcnNlKG4sMStpLmxlbmd0aCxyLHZvaWQgMCx7dHlwZUFubm90YXRpb246XCJvbWl0XCJ9KTtpZighZSlyZXR1cm4gbnVsbDtyPXJ8fGUudHlwZSxpLnB1c2goZSl9Y29uc3Qgbz1uJiZpLnNvbWUoZT0+X3QobixlLnR5cGUpKTtyZXR1cm4gbmV3IHFyKG8/dXQ6cixpKX1ldmFsdWF0ZShlKXtsZXQgdCxyPW51bGwsbj0wO2Zvcihjb25zdCBpIG9mIHRoaXMuYXJncyl7aWYobisrLHI9aS5ldmFsdWF0ZShlKSxyJiZyIGluc3RhbmNlb2YgUHQmJiFyLmF2YWlsYWJsZSYmKHR8fCh0PXIpLHI9bnVsbCxuPT09dGhpcy5hcmdzLmxlbmd0aCkpcmV0dXJuIHQ7aWYobnVsbCE9PXIpYnJlYWt9cmV0dXJuIHJ9ZWFjaENoaWxkKGUpe3RoaXMuYXJncy5mb3JFYWNoKGUpfW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5hcmdzLmV2ZXJ5KGU9PmUub3V0cHV0RGVmaW5lZCgpKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcImNvYWxlc2NlXCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCh0PT57ZS5wdXNoKHQuc2VyaWFsaXplKCkpfSksZX19dmFyIFpyPXFyO2NsYXNzICRye2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPXQudHlwZSx0aGlzLmJpbmRpbmdzPVtdLmNvbmNhdChlKSx0aGlzLnJlc3VsdD10fWV2YWx1YXRlKGUpe3JldHVybiB0aGlzLnJlc3VsdC5ldmFsdWF0ZShlKX1lYWNoQ2hpbGQoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5iaW5kaW5ncyllKHRbMV0pO2UodGhpcy5yZXN1bHQpfXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDQpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDMgYXJndW1lbnRzLCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IHI9W107Zm9yKGxldCBuPTE7bjxlLmxlbmd0aC0xO24rPTIpe2NvbnN0IGk9ZVtuXTtpZihcInN0cmluZ1wiIT10eXBlb2YgaSlyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgc3RyaW5nLCBidXQgZm91bmQgJHt0eXBlb2YgaX0gaW5zdGVhZC5gLG4pO2lmKC9bXmEtekEtWjAtOV9dLy50ZXN0KGkpKXJldHVybiB0LmVycm9yKFwiVmFyaWFibGUgbmFtZXMgbXVzdCBjb250YWluIG9ubHkgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgb3IgJ18nLlwiLG4pO2NvbnN0IG89dC5wYXJzZShlW24rMV0sbisxKTtpZighbylyZXR1cm4gbnVsbDtyLnB1c2goW2ksb10pfWNvbnN0IG49dC5wYXJzZShlW2UubGVuZ3RoLTFdLGUubGVuZ3RoLTEsdC5leHBlY3RlZFR5cGUscik7cmV0dXJuIG4/bmV3ICRyKHIsbik6bnVsbH1vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMucmVzdWx0Lm91dHB1dERlZmluZWQoKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcImxldFwiXTtmb3IoY29uc3RbdCxyXW9mIHRoaXMuYmluZGluZ3MpZS5wdXNoKHQsci5zZXJpYWxpemUoKSk7cmV0dXJuIGUucHVzaCh0aGlzLnJlc3VsdC5zZXJpYWxpemUoKSksZX19dmFyIFdyPSRyO2NsYXNzIFhye2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLnR5cGU9ZSx0aGlzLmluZGV4PXQsdGhpcy5pbnB1dD1yfXN0YXRpYyBwYXJzZShlLHQpe2lmKDMhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgMiBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgcj10LnBhcnNlKGVbMV0sMSxvdCksbj10LnBhcnNlKGVbMl0sMixmdCh0LmV4cGVjdGVkVHlwZXx8dXQpKTtyZXR1cm4gciYmbj9uZXcgWHIobi50eXBlLml0ZW1UeXBlLHIsbik6bnVsbH1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMuaW5kZXguZXZhbHVhdGUoZSkscj10aGlzLmlucHV0LmV2YWx1YXRlKGUpO2lmKHQ8MCl0aHJvdyBuZXcgRnQoYEFycmF5IGluZGV4IG91dCBvZiBib3VuZHM6ICR7dH0gPCAwLmApO2lmKHQ+PXIubGVuZ3RoKXRocm93IG5ldyBGdChgQXJyYXkgaW5kZXggb3V0IG9mIGJvdW5kczogJHt0fSA+ICR7ci5sZW5ndGgtMX0uYCk7aWYodCE9PU1hdGguZmxvb3IodCkpdGhyb3cgbmV3IEZ0KGBBcnJheSBpbmRleCBtdXN0IGJlIGFuIGludGVnZXIsIGJ1dCBmb3VuZCAke3R9IGluc3RlYWQuYCk7cmV0dXJuIHJbdF19ZWFjaENoaWxkKGUpe2UodGhpcy5pbmRleCksZSh0aGlzLmlucHV0KX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7cmV0dXJuW1wiYXRcIix0aGlzLmluZGV4LnNlcmlhbGl6ZSgpLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldfX12YXIgSHI9WHI7Y2xhc3MgWXJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9c3QsdGhpcy5uZWVkbGU9ZSx0aGlzLmhheXN0YWNrPXR9c3RhdGljIHBhcnNlKGUsdCl7aWYoMyE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCAyIGFyZ3VtZW50cywgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCByPXQucGFyc2UoZVsxXSwxLHV0KSxuPXQucGFyc2UoZVsyXSwyLHV0KTtyZXR1cm4gciYmbj95dChyLnR5cGUsW3N0LGF0LG90LGl0LHV0XSk/bmV3IFlyKHIsbik6dC5lcnJvcihgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBib29sZWFuLCBzdHJpbmcsIG51bWJlciBvciBudWxsLCBidXQgZm91bmQgJHttdChyLnR5cGUpfSBpbnN0ZWFkYCk6bnVsbH1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMubmVlZGxlLmV2YWx1YXRlKGUpLHI9dGhpcy5oYXlzdGFjay5ldmFsdWF0ZShlKTtpZihudWxsPT1yKXJldHVybiExO2lmKCF2dCh0LFtcImJvb2xlYW5cIixcInN0cmluZ1wiLFwibnVtYmVyXCIsXCJudWxsXCJdKSl0aHJvdyBuZXcgRnQoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICR7bXQoUnQodCkpfSBpbnN0ZWFkLmApO2lmKCF2dChyLFtcInN0cmluZ1wiLFwiYXJyYXlcIl0pKXRocm93IG5ldyBGdChgRXhwZWN0ZWQgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgJHttdChSdChyKSl9IGluc3RlYWQuYCk7cmV0dXJuIHIuaW5kZXhPZih0KT49MH1lYWNoQ2hpbGQoZSl7ZSh0aGlzLm5lZWRsZSksZSh0aGlzLmhheXN0YWNrKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITB9c2VyaWFsaXplKCl7cmV0dXJuW1wiaW5cIix0aGlzLm5lZWRsZS5zZXJpYWxpemUoKSx0aGlzLmhheXN0YWNrLnNlcmlhbGl6ZSgpXX19dmFyIEtyPVlyO2NsYXNzIEpye2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLnR5cGU9b3QsdGhpcy5uZWVkbGU9ZSx0aGlzLmhheXN0YWNrPXQsdGhpcy5mcm9tSW5kZXg9cn1zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDw9Mnx8ZS5sZW5ndGg+PTUpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIDMgb3IgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgcj10LnBhcnNlKGVbMV0sMSx1dCksbj10LnBhcnNlKGVbMl0sMix1dCk7aWYoIXJ8fCFuKXJldHVybiBudWxsO2lmKCF5dChyLnR5cGUsW3N0LGF0LG90LGl0LHV0XSkpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICR7bXQoci50eXBlKX0gaW5zdGVhZGApO2lmKDQ9PT1lLmxlbmd0aCl7Y29uc3QgaT10LnBhcnNlKGVbM10sMyxvdCk7cmV0dXJuIGk/bmV3IEpyKHIsbixpKTpudWxsfXJldHVybiBuZXcgSnIocixuKX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMubmVlZGxlLmV2YWx1YXRlKGUpLHI9dGhpcy5oYXlzdGFjay5ldmFsdWF0ZShlKTtpZighdnQodCxbXCJib29sZWFuXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVsbFwiXSkpdGhyb3cgbmV3IEZ0KGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAke210KFJ0KHQpKX0gaW5zdGVhZC5gKTtpZighdnQocixbXCJzdHJpbmdcIixcImFycmF5XCJdKSl0aHJvdyBuZXcgRnQoYEV4cGVjdGVkIHNlY29uZCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGFycmF5IG9yIHN0cmluZywgYnV0IGZvdW5kICR7bXQoUnQocikpfSBpbnN0ZWFkLmApO2lmKHRoaXMuZnJvbUluZGV4KXtjb25zdCBuPXRoaXMuZnJvbUluZGV4LmV2YWx1YXRlKGUpO3JldHVybiByLmluZGV4T2YodCxuKX1yZXR1cm4gci5pbmRleE9mKHQpfWVhY2hDaGlsZChlKXtlKHRoaXMubmVlZGxlKSxlKHRoaXMuaGF5c3RhY2spLHRoaXMuZnJvbUluZGV4JiZlKHRoaXMuZnJvbUluZGV4KX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7aWYobnVsbCE9dGhpcy5mcm9tSW5kZXgmJnZvaWQgMCE9PXRoaXMuZnJvbUluZGV4KXtjb25zdCBlPXRoaXMuZnJvbUluZGV4LnNlcmlhbGl6ZSgpO3JldHVybltcImluZGV4LW9mXCIsdGhpcy5uZWVkbGUuc2VyaWFsaXplKCksdGhpcy5oYXlzdGFjay5zZXJpYWxpemUoKSxlXX1yZXR1cm5bXCJpbmRleC1vZlwiLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCldfX12YXIgUXI9SnI7Y2xhc3MgZW57Y29uc3RydWN0b3IoZSx0LHIsbixpLG8pe3RoaXMuaW5wdXRUeXBlPWUsdGhpcy50eXBlPXQsdGhpcy5pbnB1dD1yLHRoaXMuY2FzZXM9bix0aGlzLm91dHB1dHM9aSx0aGlzLm90aGVyd2lzZT1vfXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDUpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAke2UubGVuZ3RoLTF9LmApO2lmKGUubGVuZ3RoJTIhPTEpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO2xldCByLG47dC5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PXQuZXhwZWN0ZWRUeXBlLmtpbmQmJihuPXQuZXhwZWN0ZWRUeXBlKTtjb25zdCBpPXt9LG89W107Zm9yKGxldCBhPTI7YTxlLmxlbmd0aC0xO2ErPTIpe2xldCBzPWVbYV07Y29uc3QgbD1lW2ErMV07QXJyYXkuaXNBcnJheShzKXx8KHM9W3NdKTtjb25zdCBjPXQuY29uY2F0KGEpO2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gYy5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBicmFuY2ggbGFiZWwuXCIpO2Zvcihjb25zdCBlIG9mIHMpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlJiZcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gYy5lcnJvcihcIkJyYW5jaCBsYWJlbHMgbXVzdCBiZSBudW1iZXJzIG9yIHN0cmluZ3MuXCIpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlJiZNYXRoLmFicyhlKT5OdW1iZXIuTUFYX1NBRkVfSU5URUdFUilyZXR1cm4gYy5lcnJvcihgQnJhbmNoIGxhYmVscyBtdXN0IGJlIGludGVnZXJzIG5vIGxhcmdlciB0aGFuICR7TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJ9LmApO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlJiZNYXRoLmZsb29yKGUpIT09ZSlyZXR1cm4gYy5lcnJvcihcIk51bWVyaWMgYnJhbmNoIGxhYmVscyBtdXN0IGJlIGludGVnZXIgdmFsdWVzLlwiKTtpZihyKXtpZihjLmNoZWNrU3VidHlwZShyLFJ0KGUpKSlyZXR1cm4gbnVsbH1lbHNlIHI9UnQoZSk7aWYodm9pZCAwIT09aVtTdHJpbmcoZSldKXJldHVybiBjLmVycm9yKFwiQnJhbmNoIGxhYmVscyBtdXN0IGJlIHVuaXF1ZS5cIik7aVtTdHJpbmcoZSldPW8ubGVuZ3RofWNvbnN0IHU9dC5wYXJzZShsLGEsbik7aWYoIXUpcmV0dXJuIG51bGw7bj1ufHx1LnR5cGUsby5wdXNoKHUpfWNvbnN0IGE9dC5wYXJzZShlWzFdLDEsdXQpO2lmKCFhKXJldHVybiBudWxsO2NvbnN0IHM9dC5wYXJzZShlW2UubGVuZ3RoLTFdLGUubGVuZ3RoLTEsbik7cmV0dXJuIHM/XCJ2YWx1ZVwiIT09YS50eXBlLmtpbmQmJnQuY29uY2F0KDEpLmNoZWNrU3VidHlwZShyLGEudHlwZSk/bnVsbDpuZXcgZW4ocixuLGEsaSxvLHMpOm51bGx9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmlucHV0LmV2YWx1YXRlKGUpO3JldHVybihSdCh0KT09PXRoaXMuaW5wdXRUeXBlJiZ0aGlzLm91dHB1dHNbdGhpcy5jYXNlc1t0XV18fHRoaXMub3RoZXJ3aXNlKS5ldmFsdWF0ZShlKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0KSx0aGlzLm91dHB1dHMuZm9yRWFjaChlKSxlKHRoaXMub3RoZXJ3aXNlKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeShlPT5lLm91dHB1dERlZmluZWQoKSkmJnRoaXMub3RoZXJ3aXNlLm91dHB1dERlZmluZWQoKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcIm1hdGNoXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV0sdD1PYmplY3Qua2V5cyh0aGlzLmNhc2VzKS5zb3J0KCkscj1bXSxuPXt9O2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9blt0aGlzLmNhc2VzW2VdXTt2b2lkIDA9PT10PyhuW3RoaXMuY2FzZXNbZV1dPXIubGVuZ3RoLHIucHVzaChbdGhpcy5jYXNlc1tlXSxbZV1dKSk6clt0XVsxXS5wdXNoKGUpfWNvbnN0IGk9ZT0+XCJudW1iZXJcIj09PXRoaXMuaW5wdXRUeXBlLmtpbmQ/TnVtYmVyKGUpOmU7Zm9yKGNvbnN0W3Qsbl1vZiByKWUucHVzaCgxPT09bi5sZW5ndGg/aShuWzBdKTpuLm1hcChpKSksZS5wdXNoKHRoaXMub3V0cHV0c1t0XS5zZXJpYWxpemUoKSk7cmV0dXJuIGUucHVzaCh0aGlzLm90aGVyd2lzZS5zZXJpYWxpemUoKSksZX19dmFyIHRuPWVuO2NsYXNzIHJue2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLnR5cGU9ZSx0aGlzLmJyYW5jaGVzPXQsdGhpcy5vdGhlcndpc2U9cn1zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDw0KXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAzIGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgJHtlLmxlbmd0aC0xfS5gKTtpZihlLmxlbmd0aCUyIT0wKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgYW4gb2RkIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO2xldCByO3QuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT10LmV4cGVjdGVkVHlwZS5raW5kJiYocj10LmV4cGVjdGVkVHlwZSk7Y29uc3Qgbj1bXTtmb3IobGV0IGk9MTtpPGUubGVuZ3RoLTE7aSs9Mil7Y29uc3Qgbz10LnBhcnNlKGVbaV0saSxzdCk7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3QgYT10LnBhcnNlKGVbaSsxXSxpKzEscik7aWYoIWEpcmV0dXJuIG51bGw7bi5wdXNoKFtvLGFdKSxyPXJ8fGEudHlwZX1jb25zdCBpPXQucGFyc2UoZVtlLmxlbmd0aC0xXSxlLmxlbmd0aC0xLHIpO3JldHVybiBpP25ldyBybihyLG4saSk6bnVsbH1ldmFsdWF0ZShlKXtmb3IoY29uc3RbdCxyXW9mIHRoaXMuYnJhbmNoZXMpaWYodC5ldmFsdWF0ZShlKSlyZXR1cm4gci5ldmFsdWF0ZShlKTtyZXR1cm4gdGhpcy5vdGhlcndpc2UuZXZhbHVhdGUoZSl9ZWFjaENoaWxkKGUpe2Zvcihjb25zdFt0LHJdb2YgdGhpcy5icmFuY2hlcyllKHQpLGUocik7ZSh0aGlzLm90aGVyd2lzZSl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLmJyYW5jaGVzLmV2ZXJ5KChbZSx0XSk9PnQub3V0cHV0RGVmaW5lZCgpKSYmdGhpcy5vdGhlcndpc2Uub3V0cHV0RGVmaW5lZCgpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wiY2FzZVwiXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQodD0+e2UucHVzaCh0LnNlcmlhbGl6ZSgpKX0pLGV9fXZhciBubj1ybjtjbGFzcyBvbntjb25zdHJ1Y3RvcihlLHQscixuKXt0aGlzLnR5cGU9ZSx0aGlzLmlucHV0PXQsdGhpcy5iZWdpbkluZGV4PXIsdGhpcy5lbmRJbmRleD1ufXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPD0yfHxlLmxlbmd0aD49NSlyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgMyBvciA0IGFyZ3VtZW50cywgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCByPXQucGFyc2UoZVsxXSwxLHV0KSxuPXQucGFyc2UoZVsyXSwyLG90KTtpZighcnx8IW4pcmV0dXJuIG51bGw7aWYoIXl0KHIudHlwZSxbZnQodXQpLGF0LHV0XSkpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgJHttdChyLnR5cGUpfSBpbnN0ZWFkYCk7aWYoND09PWUubGVuZ3RoKXtjb25zdCBpPXQucGFyc2UoZVszXSwzLG90KTtyZXR1cm4gaT9uZXcgb24oci50eXBlLHIsbixpKTpudWxsfXJldHVybiBuZXcgb24oci50eXBlLHIsbil9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmlucHV0LmV2YWx1YXRlKGUpLHI9dGhpcy5iZWdpbkluZGV4LmV2YWx1YXRlKGUpO2lmKCF2dCh0LFtcInN0cmluZ1wiLFwiYXJyYXlcIl0pKXRocm93IG5ldyBGdChgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAke210KFJ0KHQpKX0gaW5zdGVhZC5gKTtpZih0aGlzLmVuZEluZGV4KXtjb25zdCBuPXRoaXMuZW5kSW5kZXguZXZhbHVhdGUoZSk7cmV0dXJuIHQuc2xpY2UocixuKX1yZXR1cm4gdC5zbGljZShyKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0KSxlKHRoaXMuYmVnaW5JbmRleCksdGhpcy5lbmRJbmRleCYmZSh0aGlzLmVuZEluZGV4KX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7aWYobnVsbCE9dGhpcy5lbmRJbmRleCYmdm9pZCAwIT09dGhpcy5lbmRJbmRleCl7Y29uc3QgZT10aGlzLmVuZEluZGV4LnNlcmlhbGl6ZSgpO3JldHVybltcInNsaWNlXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKSx0aGlzLmJlZ2luSW5kZXguc2VyaWFsaXplKCksZV19cmV0dXJuW1wic2xpY2VcIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpLHRoaXMuYmVnaW5JbmRleC5zZXJpYWxpemUoKV19fXZhciBhbj1vbjtmdW5jdGlvbiBzbihlLHQpe3JldHVyblwiPT1cIj09PWV8fFwiIT1cIj09PWU/XCJib29sZWFuXCI9PT10LmtpbmR8fFwic3RyaW5nXCI9PT10LmtpbmR8fFwibnVtYmVyXCI9PT10LmtpbmR8fFwibnVsbFwiPT09dC5raW5kfHxcInZhbHVlXCI9PT10LmtpbmQ6XCJzdHJpbmdcIj09PXQua2luZHx8XCJudW1iZXJcIj09PXQua2luZHx8XCJ2YWx1ZVwiPT09dC5raW5kfWZ1bmN0aW9uIGxuKGUsdCxyLG4pe3JldHVybiAwPT09bi5jb21wYXJlKHQscil9ZnVuY3Rpb24gY24oZSx0LHIpe2NvbnN0IG49XCI9PVwiIT09ZSYmXCIhPVwiIT09ZTtyZXR1cm4gY2xhc3MgaXtjb25zdHJ1Y3RvcihlLHQscil7dGhpcy50eXBlPXN0LHRoaXMubGhzPWUsdGhpcy5yaHM9dCx0aGlzLmNvbGxhdG9yPXIsdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQ9XCJ2YWx1ZVwiPT09ZS50eXBlLmtpbmR8fFwidmFsdWVcIj09PXQudHlwZS5raW5kfXN0YXRpYyBwYXJzZShlLHQpe2lmKDMhPT1lLmxlbmd0aCYmNCE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cIik7Y29uc3Qgcj1lWzBdO2xldCBvPXQucGFyc2UoZVsxXSwxLHV0KTtpZighbylyZXR1cm4gbnVsbDtpZighc24ocixvLnR5cGUpKXJldHVybiB0LmNvbmNhdCgxKS5lcnJvcihgXCIke3J9XCIgY29tcGFyaXNvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHR5cGUgJyR7bXQoby50eXBlKX0nLmApO2xldCBhPXQucGFyc2UoZVsyXSwyLHV0KTtpZighYSlyZXR1cm4gbnVsbDtpZighc24ocixhLnR5cGUpKXJldHVybiB0LmNvbmNhdCgyKS5lcnJvcihgXCIke3J9XCIgY29tcGFyaXNvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHR5cGUgJyR7bXQoYS50eXBlKX0nLmApO2lmKG8udHlwZS5raW5kIT09YS50eXBlLmtpbmQmJlwidmFsdWVcIiE9PW8udHlwZS5raW5kJiZcInZhbHVlXCIhPT1hLnR5cGUua2luZClyZXR1cm4gdC5lcnJvcihgQ2Fubm90IGNvbXBhcmUgdHlwZXMgJyR7bXQoby50eXBlKX0nIGFuZCAnJHttdChhLnR5cGUpfScuYCk7biYmKFwidmFsdWVcIj09PW8udHlwZS5raW5kJiZcInZhbHVlXCIhPT1hLnR5cGUua2luZD9vPW5ldyBOdChhLnR5cGUsW29dKTpcInZhbHVlXCIhPT1vLnR5cGUua2luZCYmXCJ2YWx1ZVwiPT09YS50eXBlLmtpbmQmJihhPW5ldyBOdChvLnR5cGUsW2FdKSkpO2xldCBzPW51bGw7aWYoND09PWUubGVuZ3RoKXtpZihcInN0cmluZ1wiIT09by50eXBlLmtpbmQmJlwic3RyaW5nXCIhPT1hLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09by50eXBlLmtpbmQmJlwidmFsdWVcIiE9PWEudHlwZS5raW5kKXJldHVybiB0LmVycm9yKFwiQ2Fubm90IHVzZSBjb2xsYXRvciB0byBjb21wYXJlIG5vbi1zdHJpbmcgdHlwZXMuXCIpO2lmKHM9dC5wYXJzZShlWzNdLDMsaHQpLCFzKXJldHVybiBudWxsfXJldHVybiBuZXcgaShvLGEscyl9ZXZhbHVhdGUoaSl7Y29uc3Qgbz10aGlzLmxocy5ldmFsdWF0ZShpKSxhPXRoaXMucmhzLmV2YWx1YXRlKGkpO2lmKG4mJnRoaXMuaGFzVW50eXBlZEFyZ3VtZW50KXtjb25zdCB0PVJ0KG8pLHI9UnQoYSk7aWYodC5raW5kIT09ci5raW5kfHxcInN0cmluZ1wiIT09dC5raW5kJiZcIm51bWJlclwiIT09dC5raW5kKXRocm93IG5ldyBGdChgRXhwZWN0ZWQgYXJndW1lbnRzIGZvciBcIiR7ZX1cIiB0byBiZSAoc3RyaW5nLCBzdHJpbmcpIG9yIChudW1iZXIsIG51bWJlciksIGJ1dCBmb3VuZCAoJHt0LmtpbmR9LCAke3Iua2luZH0pIGluc3RlYWQuYCl9aWYodGhpcy5jb2xsYXRvciYmIW4mJnRoaXMuaGFzVW50eXBlZEFyZ3VtZW50KXtjb25zdCBlPVJ0KG8pLHI9UnQoYSk7aWYoXCJzdHJpbmdcIiE9PWUua2luZHx8XCJzdHJpbmdcIiE9PXIua2luZClyZXR1cm4gdChpLG8sYSl9cmV0dXJuIHRoaXMuY29sbGF0b3I/cihpLG8sYSx0aGlzLmNvbGxhdG9yLmV2YWx1YXRlKGkpKTp0KGksbyxhKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmxocyksZSh0aGlzLnJocyksdGhpcy5jb2xsYXRvciYmZSh0aGlzLmNvbGxhdG9yKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITB9c2VyaWFsaXplKCl7Y29uc3QgdD1bZV07cmV0dXJuIHRoaXMuZWFjaENoaWxkKGU9Pnt0LnB1c2goZS5zZXJpYWxpemUoKSl9KSx0fX19Y29uc3QgdW49Y24oXCI9PVwiLChmdW5jdGlvbihlLHQscil7cmV0dXJuIHQ9PT1yfSksbG4pLGhuPWNuKFwiIT1cIiwoZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0IT09cn0pLChmdW5jdGlvbihlLHQscixuKXtyZXR1cm4hbG4oMCx0LHIsbil9KSksZG49Y24oXCI8XCIsKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdDxyfSksKGZ1bmN0aW9uKGUsdCxyLG4pe3JldHVybiBuLmNvbXBhcmUodCxyKTwwfSkpLHBuPWNuKFwiPlwiLChmdW5jdGlvbihlLHQscil7cmV0dXJuIHQ+cn0pLChmdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbi5jb21wYXJlKHQscik+MH0pKSxmbj1jbihcIjw9XCIsKGZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdDw9cn0pLChmdW5jdGlvbihlLHQscixuKXtyZXR1cm4gbi5jb21wYXJlKHQscik8PTB9KSksbW49Y24oXCI+PVwiLChmdW5jdGlvbihlLHQscil7cmV0dXJuIHQ+PXJ9KSwoZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIG4uY29tcGFyZSh0LHIpPj0wfSkpO2NsYXNzIGdue2NvbnN0cnVjdG9yKGUsdCxyLG4saSxvKXt0aGlzLnR5cGU9YXQsdGhpcy5udW1iZXI9ZSx0aGlzLmxvY2FsZT10LHRoaXMuY3VycmVuY3k9cix0aGlzLnVuaXQ9bix0aGlzLm1pbkZyYWN0aW9uRGlnaXRzPWksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cz1vfXN0YXRpYyBwYXJzZShlLHQpe2lmKDMhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIHR3byBhcmd1bWVudHMuXCIpO2NvbnN0IHI9dC5wYXJzZShlWzFdLDEsb3QpO2lmKCFyKXJldHVybiBudWxsO2NvbnN0IG49ZVsyXTtpZihcIm9iamVjdFwiIT10eXBlb2Ygbnx8QXJyYXkuaXNBcnJheShuKSlyZXR1cm4gdC5lcnJvcihcIk51bWJlckZvcm1hdCBvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LlwiKTtsZXQgaT1udWxsO2lmKG4ubG9jYWxlJiYoaT10LnBhcnNlKG4ubG9jYWxlLDEsYXQpLCFpKSlyZXR1cm4gbnVsbDtsZXQgbz1udWxsO2lmKG4uY3VycmVuY3kmJihvPXQucGFyc2Uobi5jdXJyZW5jeSwxLGF0KSwhbykpcmV0dXJuIG51bGw7bGV0IGE9bnVsbDtpZihuLnVuaXQmJihhPXQucGFyc2Uobi51bml0LDEsYXQpLCFhKSlyZXR1cm4gbnVsbDtsZXQgcz1udWxsO2lmKG5bXCJtaW4tZnJhY3Rpb24tZGlnaXRzXCJdJiYocz10LnBhcnNlKG5bXCJtaW4tZnJhY3Rpb24tZGlnaXRzXCJdLDEsb3QpLCFzKSlyZXR1cm4gbnVsbDtsZXQgbD1udWxsO3JldHVybiBuW1wibWF4LWZyYWN0aW9uLWRpZ2l0c1wiXSYmKGw9dC5wYXJzZShuW1wibWF4LWZyYWN0aW9uLWRpZ2l0c1wiXSwxLG90KSwhbCk/bnVsbDpuZXcgZ24ocixpLG8sYSxzLGwpfWV2YWx1YXRlKGUpe3JldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQodGhpcy5sb2NhbGU/dGhpcy5sb2NhbGUuZXZhbHVhdGUoZSk6W10se3N0eWxlOih0aGlzLmN1cnJlbmN5P1wiY3VycmVuY3lcIjp0aGlzLnVuaXQmJlwidW5pdFwiKXx8XCJkZWNpbWFsXCIsY3VycmVuY3k6dGhpcy5jdXJyZW5jeT90aGlzLmN1cnJlbmN5LmV2YWx1YXRlKGUpOnZvaWQgMCx1bml0OnRoaXMudW5pdD90aGlzLnVuaXQuZXZhbHVhdGUoZSk6dm9pZCAwLG1pbmltdW1GcmFjdGlvbkRpZ2l0czp0aGlzLm1pbkZyYWN0aW9uRGlnaXRzP3RoaXMubWluRnJhY3Rpb25EaWdpdHMuZXZhbHVhdGUoZSk6dm9pZCAwLG1heGltdW1GcmFjdGlvbkRpZ2l0czp0aGlzLm1heEZyYWN0aW9uRGlnaXRzP3RoaXMubWF4RnJhY3Rpb25EaWdpdHMuZXZhbHVhdGUoZSk6dm9pZCAwfSkuZm9ybWF0KHRoaXMubnVtYmVyLmV2YWx1YXRlKGUpKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLm51bWJlciksdGhpcy5sb2NhbGUmJmUodGhpcy5sb2NhbGUpLHRoaXMuY3VycmVuY3kmJmUodGhpcy5jdXJyZW5jeSksdGhpcy51bml0JiZlKHRoaXMudW5pdCksdGhpcy5taW5GcmFjdGlvbkRpZ2l0cyYmZSh0aGlzLm1pbkZyYWN0aW9uRGlnaXRzKSx0aGlzLm1heEZyYWN0aW9uRGlnaXRzJiZlKHRoaXMubWF4RnJhY3Rpb25EaWdpdHMpfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLmxvY2FsZSYmKGUubG9jYWxlPXRoaXMubG9jYWxlLnNlcmlhbGl6ZSgpKSx0aGlzLmN1cnJlbmN5JiYoZS5jdXJyZW5jeT10aGlzLmN1cnJlbmN5LnNlcmlhbGl6ZSgpKSx0aGlzLnVuaXQmJihlLnVuaXQ9dGhpcy51bml0LnNlcmlhbGl6ZSgpKSx0aGlzLm1pbkZyYWN0aW9uRGlnaXRzJiYoZVtcIm1pbi1mcmFjdGlvbi1kaWdpdHNcIl09dGhpcy5taW5GcmFjdGlvbkRpZ2l0cy5zZXJpYWxpemUoKSksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyYmKGVbXCJtYXgtZnJhY3Rpb24tZGlnaXRzXCJdPXRoaXMubWF4RnJhY3Rpb25EaWdpdHMuc2VyaWFsaXplKCkpLFtcIm51bWJlci1mb3JtYXRcIix0aGlzLm51bWJlci5zZXJpYWxpemUoKSxlXX19Y2xhc3MgX257Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPW90LHRoaXMuaW5wdXQ9ZX1zdGF0aWMgcGFyc2UoZSx0KXtpZigyIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIDEgYXJndW1lbnQsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgcj10LnBhcnNlKGVbMV0sMSk7cmV0dXJuIHI/XCJhcnJheVwiIT09ci50eXBlLmtpbmQmJlwic3RyaW5nXCIhPT1yLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09ci50eXBlLmtpbmQ/dC5lcnJvcihgRXhwZWN0ZWQgYXJndW1lbnQgb2YgdHlwZSBzdHJpbmcgb3IgYXJyYXksIGJ1dCBmb3VuZCAke210KHIudHlwZSl9IGluc3RlYWQuYCk6bmV3IF9uKHIpOm51bGx9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmlucHV0LmV2YWx1YXRlKGUpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB0Lmxlbmd0aDtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0Lmxlbmd0aDt0aHJvdyBuZXcgRnQoYEV4cGVjdGVkIHZhbHVlIHRvIGJlIG9mIHR5cGUgc3RyaW5nIG9yIGFycmF5LCBidXQgZm91bmQgJHttdChSdCh0KSl9IGluc3RlYWQuYCl9ZWFjaENoaWxkKGUpe2UodGhpcy5pbnB1dCl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wibGVuZ3RoXCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCh0PT57ZS5wdXNoKHQuc2VyaWFsaXplKCkpfSksZX19Y29uc3QgeW49e1wiPT1cIjp1bixcIiE9XCI6aG4sXCI+XCI6cG4sXCI8XCI6ZG4sXCI+PVwiOm1uLFwiPD1cIjpmbixhcnJheTpOdCxhdDpIcixib29sZWFuOk50LGNhc2U6bm4sY29hbGVzY2U6WnIsY29sbGF0b3I6S3QsZm9ybWF0OlZ0LGltYWdlOkd0LGluOktyLFwiaW5kZXgtb2ZcIjpRcixpbnRlcnBvbGF0ZTpHcixcImludGVycG9sYXRlLWhjbFwiOkdyLFwiaW50ZXJwb2xhdGUtbGFiXCI6R3IsbGVuZ3RoOl9uLGxldDpXcixsaXRlcmFsOkJ0LG1hdGNoOnRuLG51bWJlcjpOdCxcIm51bWJlci1mb3JtYXRcIjpnbixvYmplY3Q6TnQsc2xpY2U6YW4sc3RlcDpTcixzdHJpbmc6TnQsXCJ0by1ib29sZWFuXCI6JHQsXCJ0by1jb2xvclwiOiR0LFwidG8tbnVtYmVyXCI6JHQsXCJ0by1zdHJpbmdcIjokdCx2YXI6eHIsd2l0aGluOm1yfTtmdW5jdGlvbiB2bihlLFt0LHIsbixpXSl7dD10LmV2YWx1YXRlKGUpLHI9ci5ldmFsdWF0ZShlKSxuPW4uZXZhbHVhdGUoZSk7Y29uc3Qgbz1pP2kuZXZhbHVhdGUoZSk6MSxhPXp0KHQscixuLG8pO2lmKGEpdGhyb3cgbmV3IEZ0KGEpO3JldHVybiBuZXcgTXQodC8yNTUqbyxyLzI1NSpvLG4vMjU1Km8sbyl9ZnVuY3Rpb24geG4oZSx0KXtyZXR1cm4gZSBpbiB0fWZ1bmN0aW9uIGJuKGUsdCl7Y29uc3Qgcj10W2VdO3JldHVybiB2b2lkIDA9PT1yP251bGw6cn1mdW5jdGlvbiB3bihlKXtyZXR1cm57dHlwZTplfX1ZdC5yZWdpc3Rlcih5bix7ZXJyb3I6W3traW5kOlwiZXJyb3JcIn0sW2F0XSwoZSxbdF0pPT57dGhyb3cgbmV3IEZ0KHQuZXZhbHVhdGUoZSkpfV0sdHlwZW9mOlthdCxbdXRdLChlLFt0XSk9Pm10KFJ0KHQuZXZhbHVhdGUoZSkpKV0sXCJ0by1yZ2JhXCI6W2Z0KG90LDQpLFtsdF0sKGUsW3RdKT0+dC5ldmFsdWF0ZShlKS50b0FycmF5KCldLHJnYjpbbHQsW290LG90LG90XSx2bl0scmdiYTpbbHQsW290LG90LG90LG90XSx2bl0saGFzOnt0eXBlOnN0LG92ZXJsb2FkczpbW1thdF0sKGUsW3RdKT0+eG4odC5ldmFsdWF0ZShlKSxlLnByb3BlcnRpZXMoKSldLFtbYXQsY3RdLChlLFt0LHJdKT0+eG4odC5ldmFsdWF0ZShlKSxyLmV2YWx1YXRlKGUpKV1dfSxnZXQ6e3R5cGU6dXQsb3ZlcmxvYWRzOltbW2F0XSwoZSxbdF0pPT5ibih0LmV2YWx1YXRlKGUpLGUucHJvcGVydGllcygpKV0sW1thdCxjdF0sKGUsW3Qscl0pPT5ibih0LmV2YWx1YXRlKGUpLHIuZXZhbHVhdGUoZSkpXV19LFwiZmVhdHVyZS1zdGF0ZVwiOlt1dCxbYXRdLChlLFt0XSk9PmJuKHQuZXZhbHVhdGUoZSksZS5mZWF0dXJlU3RhdGV8fHt9KV0scHJvcGVydGllczpbY3QsW10sZT0+ZS5wcm9wZXJ0aWVzKCldLFwiZ2VvbWV0cnktdHlwZVwiOlthdCxbXSxlPT5lLmdlb21ldHJ5VHlwZSgpXSxpZDpbdXQsW10sZT0+ZS5pZCgpXSx6b29tOltvdCxbXSxlPT5lLmdsb2JhbHMuem9vbV0scGl0Y2g6W290LFtdLGU9PmUuZ2xvYmFscy5waXRjaHx8MF0sXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiOltvdCxbXSxlPT5lLmRpc3RhbmNlRnJvbUNlbnRlcigpXSxcImhlYXRtYXAtZGVuc2l0eVwiOltvdCxbXSxlPT5lLmdsb2JhbHMuaGVhdG1hcERlbnNpdHl8fDBdLFwibGluZS1wcm9ncmVzc1wiOltvdCxbXSxlPT5lLmdsb2JhbHMubGluZVByb2dyZXNzfHwwXSxcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIjpbb3QsW10sZT0+ZS5nbG9iYWxzLnNreVJhZGlhbFByb2dyZXNzfHwwXSxhY2N1bXVsYXRlZDpbdXQsW10sZT0+dm9pZCAwPT09ZS5nbG9iYWxzLmFjY3VtdWxhdGVkP251bGw6ZS5nbG9iYWxzLmFjY3VtdWxhdGVkXSxcIitcIjpbb3Qsd24ob3QpLChlLHQpPT57bGV0IHI9MDtmb3IoY29uc3QgbiBvZiB0KXIrPW4uZXZhbHVhdGUoZSk7cmV0dXJuIHJ9XSxcIipcIjpbb3Qsd24ob3QpLChlLHQpPT57bGV0IHI9MTtmb3IoY29uc3QgbiBvZiB0KXIqPW4uZXZhbHVhdGUoZSk7cmV0dXJuIHJ9XSxcIi1cIjp7dHlwZTpvdCxvdmVybG9hZHM6W1tbb3Qsb3RdLChlLFt0LHJdKT0+dC5ldmFsdWF0ZShlKS1yLmV2YWx1YXRlKGUpXSxbW290XSwoZSxbdF0pPT4tdC5ldmFsdWF0ZShlKV1dfSxcIi9cIjpbb3QsW290LG90XSwoZSxbdCxyXSk9PnQuZXZhbHVhdGUoZSkvci5ldmFsdWF0ZShlKV0sXCIlXCI6W290LFtvdCxvdF0sKGUsW3Qscl0pPT50LmV2YWx1YXRlKGUpJXIuZXZhbHVhdGUoZSldLGxuMjpbb3QsW10sKCk9Pk1hdGguTE4yXSxwaTpbb3QsW10sKCk9Pk1hdGguUEldLGU6W290LFtdLCgpPT5NYXRoLkVdLFwiXlwiOltvdCxbb3Qsb3RdLChlLFt0LHJdKT0+TWF0aC5wb3codC5ldmFsdWF0ZShlKSxyLmV2YWx1YXRlKGUpKV0sc3FydDpbb3QsW290XSwoZSxbdF0pPT5NYXRoLnNxcnQodC5ldmFsdWF0ZShlKSldLGxvZzEwOltvdCxbb3RdLChlLFt0XSk9Pk1hdGgubG9nKHQuZXZhbHVhdGUoZSkpL01hdGguTE4xMF0sbG46W290LFtvdF0sKGUsW3RdKT0+TWF0aC5sb2codC5ldmFsdWF0ZShlKSldLGxvZzI6W290LFtvdF0sKGUsW3RdKT0+TWF0aC5sb2codC5ldmFsdWF0ZShlKSkvTWF0aC5MTjJdLHNpbjpbb3QsW290XSwoZSxbdF0pPT5NYXRoLnNpbih0LmV2YWx1YXRlKGUpKV0sY29zOltvdCxbb3RdLChlLFt0XSk9Pk1hdGguY29zKHQuZXZhbHVhdGUoZSkpXSx0YW46W290LFtvdF0sKGUsW3RdKT0+TWF0aC50YW4odC5ldmFsdWF0ZShlKSldLGFzaW46W290LFtvdF0sKGUsW3RdKT0+TWF0aC5hc2luKHQuZXZhbHVhdGUoZSkpXSxhY29zOltvdCxbb3RdLChlLFt0XSk9Pk1hdGguYWNvcyh0LmV2YWx1YXRlKGUpKV0sYXRhbjpbb3QsW290XSwoZSxbdF0pPT5NYXRoLmF0YW4odC5ldmFsdWF0ZShlKSldLG1pbjpbb3Qsd24ob3QpLChlLHQpPT5NYXRoLm1pbiguLi50Lm1hcCh0PT50LmV2YWx1YXRlKGUpKSldLG1heDpbb3Qsd24ob3QpLChlLHQpPT5NYXRoLm1heCguLi50Lm1hcCh0PT50LmV2YWx1YXRlKGUpKSldLGFiczpbb3QsW290XSwoZSxbdF0pPT5NYXRoLmFicyh0LmV2YWx1YXRlKGUpKV0scm91bmQ6W290LFtvdF0sKGUsW3RdKT0+e2NvbnN0IHI9dC5ldmFsdWF0ZShlKTtyZXR1cm4gcjwwPy1NYXRoLnJvdW5kKC1yKTpNYXRoLnJvdW5kKHIpfV0sZmxvb3I6W290LFtvdF0sKGUsW3RdKT0+TWF0aC5mbG9vcih0LmV2YWx1YXRlKGUpKV0sY2VpbDpbb3QsW290XSwoZSxbdF0pPT5NYXRoLmNlaWwodC5ldmFsdWF0ZShlKSldLFwiZmlsdGVyLT09XCI6W3N0LFthdCx1dF0sKGUsW3Qscl0pPT5lLnByb3BlcnRpZXMoKVt0LnZhbHVlXT09PXIudmFsdWVdLFwiZmlsdGVyLWlkLT09XCI6W3N0LFt1dF0sKGUsW3RdKT0+ZS5pZCgpPT09dC52YWx1ZV0sXCJmaWx0ZXItdHlwZS09PVwiOltzdCxbYXRdLChlLFt0XSk9PmUuZ2VvbWV0cnlUeXBlKCk9PT10LnZhbHVlXSxcImZpbHRlci08XCI6W3N0LFthdCx1dF0sKGUsW3Qscl0pPT57Y29uc3Qgbj1lLnByb3BlcnRpZXMoKVt0LnZhbHVlXSxpPXIudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbjxpfV0sXCJmaWx0ZXItaWQtPFwiOltzdCxbdXRdLChlLFt0XSk9Pntjb25zdCByPWUuaWQoKSxuPXQudmFsdWU7cmV0dXJuIHR5cGVvZiByPT10eXBlb2YgbiYmcjxufV0sXCJmaWx0ZXItPlwiOltzdCxbYXQsdXRdLChlLFt0LHJdKT0+e2NvbnN0IG49ZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV0saT1yLnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm4+aX1dLFwiZmlsdGVyLWlkLT5cIjpbc3QsW3V0XSwoZSxbdF0pPT57Y29uc3Qgcj1lLmlkKCksbj10LnZhbHVlO3JldHVybiB0eXBlb2Ygcj09dHlwZW9mIG4mJnI+bn1dLFwiZmlsdGVyLTw9XCI6W3N0LFthdCx1dF0sKGUsW3Qscl0pPT57Y29uc3Qgbj1lLnByb3BlcnRpZXMoKVt0LnZhbHVlXSxpPXIudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbjw9aX1dLFwiZmlsdGVyLWlkLTw9XCI6W3N0LFt1dF0sKGUsW3RdKT0+e2NvbnN0IHI9ZS5pZCgpLG49dC52YWx1ZTtyZXR1cm4gdHlwZW9mIHI9PXR5cGVvZiBuJiZyPD1ufV0sXCJmaWx0ZXItPj1cIjpbc3QsW2F0LHV0XSwoZSxbdCxyXSk9Pntjb25zdCBuPWUucHJvcGVydGllcygpW3QudmFsdWVdLGk9ci52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPj1pfV0sXCJmaWx0ZXItaWQtPj1cIjpbc3QsW3V0XSwoZSxbdF0pPT57Y29uc3Qgcj1lLmlkKCksbj10LnZhbHVlO3JldHVybiB0eXBlb2Ygcj09dHlwZW9mIG4mJnI+PW59XSxcImZpbHRlci1oYXNcIjpbc3QsW3V0XSwoZSxbdF0pPT50LnZhbHVlIGluIGUucHJvcGVydGllcygpXSxcImZpbHRlci1oYXMtaWRcIjpbc3QsW10sZT0+bnVsbCE9PWUuaWQoKSYmdm9pZCAwIT09ZS5pZCgpXSxcImZpbHRlci10eXBlLWluXCI6W3N0LFtmdChhdCldLChlLFt0XSk9PnQudmFsdWUuaW5kZXhPZihlLmdlb21ldHJ5VHlwZSgpKT49MF0sXCJmaWx0ZXItaWQtaW5cIjpbc3QsW2Z0KHV0KV0sKGUsW3RdKT0+dC52YWx1ZS5pbmRleE9mKGUuaWQoKSk+PTBdLFwiZmlsdGVyLWluLXNtYWxsXCI6W3N0LFthdCxmdCh1dCldLChlLFt0LHJdKT0+ci52YWx1ZS5pbmRleE9mKGUucHJvcGVydGllcygpW3QudmFsdWVdKT49MF0sXCJmaWx0ZXItaW4tbGFyZ2VcIjpbc3QsW2F0LGZ0KHV0KV0sKGUsW3Qscl0pPT5mdW5jdGlvbihlLHQscixuKXtmb3IoO3I8PW47KXtjb25zdCBpPXIrbj4+MTtpZih0W2ldPT09ZSlyZXR1cm4hMDt0W2ldPmU/bj1pLTE6cj1pKzF9cmV0dXJuITF9KGUucHJvcGVydGllcygpW3QudmFsdWVdLHIudmFsdWUsMCxyLnZhbHVlLmxlbmd0aC0xKV0sYWxsOnt0eXBlOnN0LG92ZXJsb2FkczpbW1tzdCxzdF0sKGUsW3Qscl0pPT50LmV2YWx1YXRlKGUpJiZyLmV2YWx1YXRlKGUpXSxbd24oc3QpLChlLHQpPT57Zm9yKGNvbnN0IHIgb2YgdClpZighci5ldmFsdWF0ZShlKSlyZXR1cm4hMTtyZXR1cm4hMH1dXX0sYW55Ont0eXBlOnN0LG92ZXJsb2FkczpbW1tzdCxzdF0sKGUsW3Qscl0pPT50LmV2YWx1YXRlKGUpfHxyLmV2YWx1YXRlKGUpXSxbd24oc3QpLChlLHQpPT57Zm9yKGNvbnN0IHIgb2YgdClpZihyLmV2YWx1YXRlKGUpKXJldHVybiEwO3JldHVybiExfV1dfSxcIiFcIjpbc3QsW3N0XSwoZSxbdF0pPT4hdC5ldmFsdWF0ZShlKV0sXCJpcy1zdXBwb3J0ZWQtc2NyaXB0XCI6W3N0LFthdF0sKGUsW3RdKT0+e2NvbnN0IHI9ZS5nbG9iYWxzJiZlLmdsb2JhbHMuaXNTdXBwb3J0ZWRTY3JpcHQ7cmV0dXJuIXJ8fHIodC5ldmFsdWF0ZShlKSl9XSx1cGNhc2U6W2F0LFthdF0sKGUsW3RdKT0+dC5ldmFsdWF0ZShlKS50b1VwcGVyQ2FzZSgpXSxkb3duY2FzZTpbYXQsW2F0XSwoZSxbdF0pPT50LmV2YWx1YXRlKGUpLnRvTG93ZXJDYXNlKCldLGNvbmNhdDpbYXQsd24odXQpLChlLHQpPT50Lm1hcCh0PT5MdCh0LmV2YWx1YXRlKGUpKSkuam9pbihcIlwiKV0sXCJyZXNvbHZlZC1sb2NhbGVcIjpbYXQsW2h0XSwoZSxbdF0pPT50LmV2YWx1YXRlKGUpLnJlc29sdmVkTG9jYWxlKCldfSk7dmFyIFRuPXluO2Z1bmN0aW9uIEVuKGUpe3JldHVybntyZXN1bHQ6XCJzdWNjZXNzXCIsdmFsdWU6ZX19ZnVuY3Rpb24gU24oZSl7cmV0dXJue3Jlc3VsdDpcImVycm9yXCIsdmFsdWU6ZX19ZnVuY3Rpb24gQ24oZSl7cmV0dXJuXCJkYXRhLWRyaXZlblwiPT09ZVtcInByb3BlcnR5LXR5cGVcIl18fFwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW5cIj09PWVbXCJwcm9wZXJ0eS10eXBlXCJdfWZ1bmN0aW9uIE1uKGUpe3JldHVybiEhZS5leHByZXNzaW9uJiZlLmV4cHJlc3Npb24ucGFyYW1ldGVycy5pbmRleE9mKFwiem9vbVwiKT4tMX1mdW5jdGlvbiBrbihlKXtyZXR1cm4hIWUuZXhwcmVzc2lvbiYmZS5leHByZXNzaW9uLmludGVycG9sYXRlZH1mdW5jdGlvbiBBbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE51bWJlcj9cIm51bWJlclwiOmUgaW5zdGFuY2VvZiBTdHJpbmc/XCJzdHJpbmdcIjplIGluc3RhbmNlb2YgQm9vbGVhbj9cImJvb2xlYW5cIjpBcnJheS5pc0FycmF5KGUpP1wiYXJyYXlcIjpudWxsPT09ZT9cIm51bGxcIjp0eXBlb2YgZX1mdW5jdGlvbiBJbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJiFBcnJheS5pc0FycmF5KGUpfWZ1bmN0aW9uIFBuKGUpe3JldHVybiBlfWZ1bmN0aW9uIHpuKGUsdCxyKXtyZXR1cm4gdm9pZCAwIT09ZT9lOnZvaWQgMCE9PXQ/dDp2b2lkIDAhPT1yP3I6dm9pZCAwfWZ1bmN0aW9uIERuKGUsdCxyLG4saSl7cmV0dXJuIHpuKHR5cGVvZiByPT09aT9uW3JdOnZvaWQgMCxlLmRlZmF1bHQsdC5kZWZhdWx0KX1mdW5jdGlvbiBSbihlLHQscil7aWYoXCJudW1iZXJcIiE9PUFuKHIpKXJldHVybiB6bihlLmRlZmF1bHQsdC5kZWZhdWx0KTtjb25zdCBuPWUuc3RvcHMubGVuZ3RoO2lmKDE9PT1uKXJldHVybiBlLnN0b3BzWzBdWzFdO2lmKHI8PWUuc3RvcHNbMF1bMF0pcmV0dXJuIGUuc3RvcHNbMF1bMV07aWYocj49ZS5zdG9wc1tuLTFdWzBdKXJldHVybiBlLnN0b3BzW24tMV1bMV07Y29uc3QgaT1UcihlLnN0b3BzLm1hcChlPT5lWzBdKSxyKTtyZXR1cm4gZS5zdG9wc1tpXVsxXX1mdW5jdGlvbiBMbihlLHQscil7Y29uc3Qgbj12b2lkIDAhPT1lLmJhc2U/ZS5iYXNlOjE7aWYoXCJudW1iZXJcIiE9PUFuKHIpKXJldHVybiB6bihlLmRlZmF1bHQsdC5kZWZhdWx0KTtjb25zdCBpPWUuc3RvcHMubGVuZ3RoO2lmKDE9PT1pKXJldHVybiBlLnN0b3BzWzBdWzFdO2lmKHI8PWUuc3RvcHNbMF1bMF0pcmV0dXJuIGUuc3RvcHNbMF1bMV07aWYocj49ZS5zdG9wc1tpLTFdWzBdKXJldHVybiBlLnN0b3BzW2ktMV1bMV07Y29uc3Qgbz1UcihlLnN0b3BzLm1hcChlPT5lWzBdKSxyKSxhPWZ1bmN0aW9uKGUsdCxyLG4pe2NvbnN0IGk9bi1yLG89ZS1yO3JldHVybiAwPT09aT8wOjE9PT10P28vaTooTWF0aC5wb3codCxvKS0xKS8oTWF0aC5wb3codCxpKS0xKX0ocixuLGUuc3RvcHNbb11bMF0sZS5zdG9wc1tvKzFdWzBdKSxzPWUuc3RvcHNbb11bMV0sbD1lLnN0b3BzW28rMV1bMV07bGV0IGM9TXJbdC50eXBlXXx8UG47aWYoZS5jb2xvclNwYWNlJiZcInJnYlwiIT09ZS5jb2xvclNwYWNlKXtjb25zdCB0PVVyW2UuY29sb3JTcGFjZV07Yz0oZSxyKT0+dC5yZXZlcnNlKHQuaW50ZXJwb2xhdGUodC5mb3J3YXJkKGUpLHQuZm9yd2FyZChyKSxhKSl9cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2Ygcy5ldmFsdWF0ZT97ZXZhbHVhdGUoLi4uZSl7Y29uc3QgdD1zLmV2YWx1YXRlLmFwcGx5KHZvaWQgMCxlKSxyPWwuZXZhbHVhdGUuYXBwbHkodm9pZCAwLGUpO2lmKHZvaWQgMCE9PXQmJnZvaWQgMCE9PXIpcmV0dXJuIGModCxyLGEpfX06YyhzLGwsYSl9ZnVuY3Rpb24gT24oZSx0LHIpe3JldHVyblwiY29sb3JcIj09PXQudHlwZT9yPU10LnBhcnNlKHIpOlwiZm9ybWF0dGVkXCI9PT10LnR5cGU/cj1JdC5mcm9tU3RyaW5nKHIudG9TdHJpbmcoKSk6XCJyZXNvbHZlZEltYWdlXCI9PT10LnR5cGU/cj1QdC5mcm9tU3RyaW5nKHIudG9TdHJpbmcoKSk6QW4ocik9PT10LnR5cGV8fFwiZW51bVwiPT09dC50eXBlJiZ0LnZhbHVlc1tyXXx8KHI9dm9pZCAwKSx6bihyLGUuZGVmYXVsdCx0LmRlZmF1bHQpfWNsYXNzIEJue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5leHByZXNzaW9uPWUsdGhpcy5fd2FybmluZ0hpc3Rvcnk9e30sdGhpcy5fZXZhbHVhdG9yPW5ldyBYdCx0aGlzLl9kZWZhdWx0VmFsdWU9dD9mdW5jdGlvbihlKXtyZXR1cm5cImNvbG9yXCI9PT1lLnR5cGUmJihJbihlLmRlZmF1bHQpfHxBcnJheS5pc0FycmF5KGUuZGVmYXVsdCkpP25ldyBNdCgwLDAsMCwwKTpcImNvbG9yXCI9PT1lLnR5cGU/TXQucGFyc2UoZS5kZWZhdWx0KXx8bnVsbDp2b2lkIDA9PT1lLmRlZmF1bHQ/bnVsbDplLmRlZmF1bHR9KHQpOm51bGwsdGhpcy5fZW51bVZhbHVlcz10JiZcImVudW1cIj09PXQudHlwZT90LnZhbHVlczpudWxsfWV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LHIsbixpLG8sYSxzKXtyZXR1cm4gdGhpcy5fZXZhbHVhdG9yLmdsb2JhbHM9ZSx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZT10LHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlU3RhdGU9cix0aGlzLl9ldmFsdWF0b3IuY2Fub25pY2FsPW58fG51bGwsdGhpcy5fZXZhbHVhdG9yLmF2YWlsYWJsZUltYWdlcz1pfHxudWxsLHRoaXMuX2V2YWx1YXRvci5mb3JtYXR0ZWRTZWN0aW9uPW8sdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVUaWxlQ29vcmQ9YXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZURpc3RhbmNlRGF0YT1zfHxudWxsLHRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0aGlzLl9ldmFsdWF0b3IpfWV2YWx1YXRlKGUsdCxyLG4saSxvLGEscyl7dGhpcy5fZXZhbHVhdG9yLmdsb2JhbHM9ZSx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZT10fHxudWxsLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlU3RhdGU9cnx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuY2Fub25pY2FsPW58fG51bGwsdGhpcy5fZXZhbHVhdG9yLmF2YWlsYWJsZUltYWdlcz1pfHxudWxsLHRoaXMuX2V2YWx1YXRvci5mb3JtYXR0ZWRTZWN0aW9uPW98fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVUaWxlQ29vcmQ9YXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZURpc3RhbmNlRGF0YT1zfHxudWxsO3RyeXtjb25zdCBlPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0aGlzLl9ldmFsdWF0b3IpO2lmKG51bGw9PWV8fFwibnVtYmVyXCI9PXR5cGVvZiBlJiZlIT1lKXJldHVybiB0aGlzLl9kZWZhdWx0VmFsdWU7aWYodGhpcy5fZW51bVZhbHVlcyYmIShlIGluIHRoaXMuX2VudW1WYWx1ZXMpKXRocm93IG5ldyBGdChgRXhwZWN0ZWQgdmFsdWUgdG8gYmUgb25lIG9mICR7T2JqZWN0LmtleXModGhpcy5fZW51bVZhbHVlcykubWFwKGU9PkpTT04uc3RyaW5naWZ5KGUpKS5qb2luKFwiLCBcIil9LCBidXQgZm91bmQgJHtKU09OLnN0cmluZ2lmeShlKX0gaW5zdGVhZC5gKTtyZXR1cm4gZX1jYXRjaChlKXtyZXR1cm4gdGhpcy5fd2FybmluZ0hpc3RvcnlbZS5tZXNzYWdlXXx8KHRoaXMuX3dhcm5pbmdIaXN0b3J5W2UubWVzc2FnZV09ITAsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUud2FybihlLm1lc3NhZ2UpKSx0aGlzLl9kZWZhdWx0VmFsdWV9fX1mdW5jdGlvbiBGbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg+MCYmXCJzdHJpbmdcIj09dHlwZW9mIGVbMF0mJmVbMF1pbiBUbn1mdW5jdGlvbiBqbihlLHQpe2NvbnN0IHI9bmV3IHdyKFRuLFtdLHQ/ZnVuY3Rpb24oZSl7Y29uc3QgdD17Y29sb3I6bHQsc3RyaW5nOmF0LG51bWJlcjpvdCxlbnVtOmF0LGJvb2xlYW46c3QsZm9ybWF0dGVkOmR0LHJlc29sdmVkSW1hZ2U6cHR9O3JldHVyblwiYXJyYXlcIj09PWUudHlwZT9mdCh0W2UudmFsdWVdfHx1dCxlLmxlbmd0aCk6dFtlLnR5cGVdfSh0KTp2b2lkIDApLG49ci5wYXJzZShlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHQmJlwic3RyaW5nXCI9PT10LnR5cGU/e3R5cGVBbm5vdGF0aW9uOlwiY29lcmNlXCJ9OnZvaWQgMCk7cmV0dXJuIG4/RW4obmV3IEJuKG4sdCkpOlNuKHIuZXJyb3JzKX1jbGFzcyBVbntjb25zdHJ1Y3RvcihlLHQpe3RoaXMua2luZD1lLHRoaXMuX3N0eWxlRXhwcmVzc2lvbj10LHRoaXMuaXNTdGF0ZURlcGVuZGVudD1cImNvbnN0YW50XCIhPT1lJiYhX3IodC5leHByZXNzaW9uKX1ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKGUsdCxyLG4saSxvKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LHIsbixpLG8pfWV2YWx1YXRlKGUsdCxyLG4saSxvKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlKGUsdCxyLG4saSxvKX19Y2xhc3MgTm57Y29uc3RydWN0b3IoZSx0LHIsbil7dGhpcy5raW5kPWUsdGhpcy56b29tU3RvcHM9cix0aGlzLl9zdHlsZUV4cHJlc3Npb249dCx0aGlzLmlzU3RhdGVEZXBlbmRlbnQ9XCJjYW1lcmFcIiE9PWUmJiFfcih0LmV4cHJlc3Npb24pLHRoaXMuaW50ZXJwb2xhdGlvblR5cGU9bn1ldmFsdWF0ZVdpdGhvdXRFcnJvckhhbmRsaW5nKGUsdCxyLG4saSxvKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LHIsbixpLG8pfWV2YWx1YXRlKGUsdCxyLG4saSxvKXtyZXR1cm4gdGhpcy5fc3R5bGVFeHByZXNzaW9uLmV2YWx1YXRlKGUsdCxyLG4saSxvKX1pbnRlcnBvbGF0aW9uRmFjdG9yKGUsdCxyKXtyZXR1cm4gdGhpcy5pbnRlcnBvbGF0aW9uVHlwZT9Hci5pbnRlcnBvbGF0aW9uRmFjdG9yKHRoaXMuaW50ZXJwb2xhdGlvblR5cGUsZSx0LHIpOjB9fWZ1bmN0aW9uIFZuKGUsdCl7aWYoXCJlcnJvclwiPT09KGU9am4oZSx0KSkucmVzdWx0KXJldHVybiBlO2NvbnN0IHI9ZS52YWx1ZS5leHByZXNzaW9uLG49Z3Iocik7aWYoIW4mJiFDbih0KSlyZXR1cm4gU24oW25ldyB0dChcIlwiLFwiZGF0YSBleHByZXNzaW9ucyBub3Qgc3VwcG9ydGVkXCIpXSk7Y29uc3QgaT15cihyLFtcInpvb21cIixcInBpdGNoXCIsXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiXSk7aWYoIWkmJiFNbih0KSlyZXR1cm4gU24oW25ldyB0dChcIlwiLFwiem9vbSBleHByZXNzaW9ucyBub3Qgc3VwcG9ydGVkXCIpXSk7Y29uc3Qgbz1mdW5jdGlvbiBlKHQpe2xldCByPW51bGw7aWYodCBpbnN0YW5jZW9mIFdyKXI9ZSh0LnJlc3VsdCk7ZWxzZSBpZih0IGluc3RhbmNlb2YgWnIpe2Zvcihjb25zdCBuIG9mIHQuYXJncylpZihyPWUobikscilicmVha31lbHNlKHQgaW5zdGFuY2VvZiBTcnx8dCBpbnN0YW5jZW9mIEdyKSYmdC5pbnB1dCBpbnN0YW5jZW9mIFl0JiZcInpvb21cIj09PXQuaW5wdXQubmFtZSYmKHI9dCk7cmV0dXJuIHIgaW5zdGFuY2VvZiB0dHx8dC5lYWNoQ2hpbGQodD0+e2NvbnN0IG49ZSh0KTtuIGluc3RhbmNlb2YgdHQ/cj1uOiFyJiZuP3I9bmV3IHR0KFwiXCIsJ1wiem9vbVwiIGV4cHJlc3Npb24gbWF5IG9ubHkgYmUgdXNlZCBhcyBpbnB1dCB0byBhIHRvcC1sZXZlbCBcInN0ZXBcIiBvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbi4nKTpyJiZuJiZyIT09biYmKHI9bmV3IHR0KFwiXCIsJ09ubHkgb25lIHpvb20tYmFzZWQgXCJzdGVwXCIgb3IgXCJpbnRlcnBvbGF0ZVwiIHN1YmV4cHJlc3Npb24gbWF5IGJlIHVzZWQgaW4gYW4gZXhwcmVzc2lvbi4nKSl9KSxyfShyKTtyZXR1cm4gb3x8aT9vIGluc3RhbmNlb2YgdHQ/U24oW29dKTpvIGluc3RhbmNlb2YgR3ImJiFrbih0KT9TbihbbmV3IHR0KFwiXCIsJ1wiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9ucyBjYW5ub3QgYmUgdXNlZCB3aXRoIHRoaXMgcHJvcGVydHknKV0pOkVuKG8/bmV3IE5uKG4/XCJjYW1lcmFcIjpcImNvbXBvc2l0ZVwiLGUudmFsdWUsby5sYWJlbHMsbyBpbnN0YW5jZW9mIEdyP28uaW50ZXJwb2xhdGlvbjp2b2lkIDApOm5ldyBVbihuP1wiY29uc3RhbnRcIjpcInNvdXJjZVwiLGUudmFsdWUpKTpTbihbbmV3IHR0KFwiXCIsJ1wiem9vbVwiIGV4cHJlc3Npb24gbWF5IG9ubHkgYmUgdXNlZCBhcyBpbnB1dCB0byBhIHRvcC1sZXZlbCBcInN0ZXBcIiBvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbi4nKV0pfWNsYXNzIEdue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fcGFyYW1ldGVycz1lLHRoaXMuX3NwZWNpZmljYXRpb249dCxLZSh0aGlzLGZ1bmN0aW9uIGUodCxyKXtjb25zdCBuPVwiY29sb3JcIj09PXIudHlwZSxpPXQuc3RvcHMmJlwib2JqZWN0XCI9PXR5cGVvZiB0LnN0b3BzWzBdWzBdLG89aXx8IShpfHx2b2lkIDAhPT10LnByb3BlcnR5KSxhPXQudHlwZXx8KGtuKHIpP1wiZXhwb25lbnRpYWxcIjpcImludGVydmFsXCIpO2lmKG4mJigodD1LZSh7fSx0KSkuc3RvcHMmJih0LnN0b3BzPXQuc3RvcHMubWFwKGU9PltlWzBdLE10LnBhcnNlKGVbMV0pXSkpLHQuZGVmYXVsdD1NdC5wYXJzZSh0LmRlZmF1bHQ/dC5kZWZhdWx0OnIuZGVmYXVsdCkpLHQuY29sb3JTcGFjZSYmXCJyZ2JcIiE9PXQuY29sb3JTcGFjZSYmIVVyW3QuY29sb3JTcGFjZV0pdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb2xvciBzcGFjZTogXCIrdC5jb2xvclNwYWNlKTtsZXQgcyxsLGM7aWYoXCJleHBvbmVudGlhbFwiPT09YSlzPUxuO2Vsc2UgaWYoXCJpbnRlcnZhbFwiPT09YSlzPVJuO2Vsc2UgaWYoXCJjYXRlZ29yaWNhbFwiPT09YSl7cz1EbixsPU9iamVjdC5jcmVhdGUobnVsbCk7Zm9yKGNvbnN0IGUgb2YgdC5zdG9wcylsW2VbMF1dPWVbMV07Yz10eXBlb2YgdC5zdG9wc1swXVswXX1lbHNle2lmKFwiaWRlbnRpdHlcIiE9PWEpdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZ1bmN0aW9uIHR5cGUgXCIke2F9XCJgKTtzPU9ufWlmKGkpe2NvbnN0IG49e30saT1bXTtmb3IobGV0IGU9MDtlPHQuc3RvcHMubGVuZ3RoO2UrKyl7Y29uc3Qgcj10LnN0b3BzW2VdLG89clswXS56b29tO3ZvaWQgMD09PW5bb10mJihuW29dPXt6b29tOm8sdHlwZTp0LnR5cGUscHJvcGVydHk6dC5wcm9wZXJ0eSxkZWZhdWx0OnQuZGVmYXVsdCxzdG9wczpbXX0saS5wdXNoKG8pKSxuW29dLnN0b3BzLnB1c2goW3JbMF0udmFsdWUsclsxXV0pfWNvbnN0IG89W107Zm9yKGNvbnN0IHQgb2YgaSlvLnB1c2goW25bdF0uem9vbSxlKG5bdF0scildKTtjb25zdCBhPXtuYW1lOlwibGluZWFyXCJ9O3JldHVybntraW5kOlwiY29tcG9zaXRlXCIsaW50ZXJwb2xhdGlvblR5cGU6YSxpbnRlcnBvbGF0aW9uRmFjdG9yOkdyLmludGVycG9sYXRpb25GYWN0b3IuYmluZCh2b2lkIDAsYSksem9vbVN0b3BzOm8ubWFwKGU9PmVbMF0pLGV2YWx1YXRlOih7em9vbTplfSxuKT0+TG4oe3N0b3BzOm8sYmFzZTp0LmJhc2V9LHIsZSkuZXZhbHVhdGUoZSxuKX19aWYobyl7Y29uc3QgZT1cImV4cG9uZW50aWFsXCI9PT1hP3tuYW1lOlwiZXhwb25lbnRpYWxcIixiYXNlOnZvaWQgMCE9PXQuYmFzZT90LmJhc2U6MX06bnVsbDtyZXR1cm57a2luZDpcImNhbWVyYVwiLGludGVycG9sYXRpb25UeXBlOmUsaW50ZXJwb2xhdGlvbkZhY3RvcjpHci5pbnRlcnBvbGF0aW9uRmFjdG9yLmJpbmQodm9pZCAwLGUpLHpvb21TdG9wczp0LnN0b3BzLm1hcChlPT5lWzBdKSxldmFsdWF0ZTooe3pvb206ZX0pPT5zKHQscixlLGwsYyl9fXJldHVybntraW5kOlwic291cmNlXCIsZXZhbHVhdGUoZSxuKXtjb25zdCBpPW4mJm4ucHJvcGVydGllcz9uLnByb3BlcnRpZXNbdC5wcm9wZXJ0eV06dm9pZCAwO3JldHVybiB2b2lkIDA9PT1pP3puKHQuZGVmYXVsdCxyLmRlZmF1bHQpOnModCxyLGksbCxjKX19fSh0aGlzLl9wYXJhbWV0ZXJzLHRoaXMuX3NwZWNpZmljYXRpb24pKX1zdGF0aWMgZGVzZXJpYWxpemUoZSl7cmV0dXJuIG5ldyBHbihlLl9wYXJhbWV0ZXJzLGUuX3NwZWNpZmljYXRpb24pfXN0YXRpYyBzZXJpYWxpemUoZSl7cmV0dXJue19wYXJhbWV0ZXJzOmUuX3BhcmFtZXRlcnMsX3NwZWNpZmljYXRpb246ZS5fc3BlY2lmaWNhdGlvbn19fWNsYXNzIHFue2NvbnN0cnVjdG9yKGUsdCxyLG4pe3RoaXMubWVzc2FnZT0oZT9lK1wiOiBcIjpcIlwiKStyLG4mJih0aGlzLmlkZW50aWZpZXI9biksbnVsbCE9dCYmdC5fX2xpbmVfXyYmKHRoaXMubGluZT10Ll9fbGluZV9fKX19ZnVuY3Rpb24gWm4oZSl7Y29uc3QgdD1lLmtleSxyPWUudmFsdWUsbj1lLnZhbHVlU3BlY3x8e30saT1lLm9iamVjdEVsZW1lbnRWYWxpZGF0b3JzfHx7fSxvPWUuc3R5bGUsYT1lLnN0eWxlU3BlYztsZXQgcz1bXTtjb25zdCBsPUFuKHIpO2lmKFwib2JqZWN0XCIhPT1sKXJldHVybltuZXcgcW4odCxyLGBvYmplY3QgZXhwZWN0ZWQsICR7bH0gZm91bmRgKV07Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgbD1lLnNwbGl0KFwiLlwiKVswXSxjPW5bbF18fG5bXCIqXCJdO2xldCB1O2lbbF0/dT1pW2xdOm5bbF0/dT14aTppW1wiKlwiXT91PWlbXCIqXCJdOm5bXCIqXCJdJiYodT14aSksdT9zPXMuY29uY2F0KHUoe2tleToodD90K1wiLlwiOnQpK2UsdmFsdWU6cltlXSx2YWx1ZVNwZWM6YyxzdHlsZTpvLHN0eWxlU3BlYzphLG9iamVjdDpyLG9iamVjdEtleTplfSxyKSk6cy5wdXNoKG5ldyBxbih0LHJbZV0sYHVua25vd24gcHJvcGVydHkgXCIke2V9XCJgKSl9Zm9yKGNvbnN0IGUgaW4gbilpW2VdfHxuW2VdLnJlcXVpcmVkJiZ2b2lkIDA9PT1uW2VdLmRlZmF1bHQmJnZvaWQgMD09PXJbZV0mJnMucHVzaChuZXcgcW4odCxyLGBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiJHtlfVwiYCkpO3JldHVybiBzfWZ1bmN0aW9uICRuKGUpe2NvbnN0IHQ9ZS52YWx1ZSxyPWUudmFsdWVTcGVjLG49ZS5zdHlsZSxpPWUuc3R5bGVTcGVjLG89ZS5rZXksYT1lLmFycmF5RWxlbWVudFZhbGlkYXRvcnx8eGk7aWYoXCJhcnJheVwiIT09QW4odCkpcmV0dXJuW25ldyBxbihvLHQsYGFycmF5IGV4cGVjdGVkLCAke0FuKHQpfSBmb3VuZGApXTtpZihyLmxlbmd0aCYmdC5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm5bbmV3IHFuKG8sdCxgYXJyYXkgbGVuZ3RoICR7ci5sZW5ndGh9IGV4cGVjdGVkLCBsZW5ndGggJHt0Lmxlbmd0aH0gZm91bmRgKV07aWYocltcIm1pbi1sZW5ndGhcIl0mJnQubGVuZ3RoPHJbXCJtaW4tbGVuZ3RoXCJdKXJldHVybltuZXcgcW4obyx0LGBhcnJheSBsZW5ndGggYXQgbGVhc3QgJHtyW1wibWluLWxlbmd0aFwiXX0gZXhwZWN0ZWQsIGxlbmd0aCAke3QubGVuZ3RofSBmb3VuZGApXTtsZXQgcz17dHlwZTpyLnZhbHVlLHZhbHVlczpyLnZhbHVlcyxtaW5pbXVtOnIubWluaW11bSxtYXhpbXVtOnIubWF4aW11bSxmdW5jdGlvbjp2b2lkIDB9O2kuJHZlcnNpb248NyYmKHMuZnVuY3Rpb249ci5mdW5jdGlvbiksXCJvYmplY3RcIj09PUFuKHIudmFsdWUpJiYocz1yLnZhbHVlKTtsZXQgbD1bXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylsPWwuY29uY2F0KGEoe2FycmF5OnQsYXJyYXlJbmRleDplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOnMsc3R5bGU6bixzdHlsZVNwZWM6aSxrZXk6YCR7b31bJHtlfV1gfSkpO3JldHVybiBsfWZ1bmN0aW9uIFduKGUpe2NvbnN0IHQ9ZS5rZXkscj1lLnZhbHVlLG49ZS52YWx1ZVNwZWM7bGV0IGk9QW4ocik7aWYoXCJudW1iZXJcIj09PWkmJnIhPXImJihpPVwiTmFOXCIpLFwibnVtYmVyXCIhPT1pKXJldHVybltuZXcgcW4odCxyLGBudW1iZXIgZXhwZWN0ZWQsICR7aX0gZm91bmRgKV07aWYoXCJtaW5pbXVtXCJpbiBuKXtsZXQgaT1uLm1pbmltdW07aWYoXCJhcnJheVwiPT09QW4obi5taW5pbXVtKSYmKGk9bi5taW5pbXVtW2UuYXJyYXlJbmRleF0pLHI8aSlyZXR1cm5bbmV3IHFuKHQscixgJHtyfSBpcyBsZXNzIHRoYW4gdGhlIG1pbmltdW0gdmFsdWUgJHtpfWApXX1pZihcIm1heGltdW1cImluIG4pe2xldCBpPW4ubWF4aW11bTtpZihcImFycmF5XCI9PT1BbihuLm1heGltdW0pJiYoaT1uLm1heGltdW1bZS5hcnJheUluZGV4XSkscj5pKXJldHVybltuZXcgcW4odCxyLGAke3J9IGlzIGdyZWF0ZXIgdGhhbiB0aGUgbWF4aW11bSB2YWx1ZSAke2l9YCldfXJldHVybltdfWZ1bmN0aW9uIFhuKGUpe2NvbnN0IHQ9ZS52YWx1ZVNwZWMscj1KZShlLnZhbHVlLnR5cGUpO2xldCBuLGksbyxhPXt9O2NvbnN0IHM9XCJjYXRlZ29yaWNhbFwiIT09ciYmdm9pZCAwPT09ZS52YWx1ZS5wcm9wZXJ0eSxsPSFzLGM9XCJhcnJheVwiPT09QW4oZS52YWx1ZS5zdG9wcykmJlwiYXJyYXlcIj09PUFuKGUudmFsdWUuc3RvcHNbMF0pJiZcIm9iamVjdFwiPT09QW4oZS52YWx1ZS5zdG9wc1swXVswXSksdT1abih7a2V5OmUua2V5LHZhbHVlOmUudmFsdWUsdmFsdWVTcGVjOmUuc3R5bGVTcGVjLmZ1bmN0aW9uLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntzdG9wczpmdW5jdGlvbihlKXtpZihcImlkZW50aXR5XCI9PT1yKXJldHVybltuZXcgcW4oZS5rZXksZS52YWx1ZSwnaWRlbnRpdHkgZnVuY3Rpb24gbWF5IG5vdCBoYXZlIGEgXCJzdG9wc1wiIHByb3BlcnR5JyldO2xldCB0PVtdO2NvbnN0IG49ZS52YWx1ZTtyZXR1cm4gdD10LmNvbmNhdCgkbih7a2V5OmUua2V5LHZhbHVlOm4sdmFsdWVTcGVjOmUudmFsdWVTcGVjLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLGFycmF5RWxlbWVudFZhbGlkYXRvcjpofSkpLFwiYXJyYXlcIj09PUFuKG4pJiYwPT09bi5sZW5ndGgmJnQucHVzaChuZXcgcW4oZS5rZXksbixcImFycmF5IG11c3QgaGF2ZSBhdCBsZWFzdCBvbmUgc3RvcFwiKSksdH0sZGVmYXVsdDpmdW5jdGlvbihlKXtyZXR1cm4geGkoe2tleTplLmtleSx2YWx1ZTplLnZhbHVlLHZhbHVlU3BlYzp0LHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjfSl9fX0pO3JldHVyblwiaWRlbnRpdHlcIj09PXImJnMmJnUucHVzaChuZXcgcW4oZS5rZXksZS52YWx1ZSwnbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcInByb3BlcnR5XCInKSksXCJpZGVudGl0eVwiPT09cnx8ZS52YWx1ZS5zdG9wc3x8dS5wdXNoKG5ldyBxbihlLmtleSxlLnZhbHVlLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwic3RvcHNcIicpKSxcImV4cG9uZW50aWFsXCI9PT1yJiZlLnZhbHVlU3BlYy5leHByZXNzaW9uJiYha24oZS52YWx1ZVNwZWMpJiZ1LnB1c2gobmV3IHFuKGUua2V5LGUudmFsdWUsXCJleHBvbmVudGlhbCBmdW5jdGlvbnMgbm90IHN1cHBvcnRlZFwiKSksZS5zdHlsZVNwZWMuJHZlcnNpb24+PTgmJihsJiYhQ24oZS52YWx1ZVNwZWMpP3UucHVzaChuZXcgcW4oZS5rZXksZS52YWx1ZSxcInByb3BlcnR5IGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKTpzJiYhTW4oZS52YWx1ZVNwZWMpJiZ1LnB1c2gobmV3IHFuKGUua2V5LGUudmFsdWUsXCJ6b29tIGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKSksXCJjYXRlZ29yaWNhbFwiIT09ciYmIWN8fHZvaWQgMCE9PWUudmFsdWUucHJvcGVydHl8fHUucHVzaChuZXcgcW4oZS5rZXksZS52YWx1ZSwnXCJwcm9wZXJ0eVwiIHByb3BlcnR5IGlzIHJlcXVpcmVkJykpLHU7ZnVuY3Rpb24gaChlKXtsZXQgcj1bXTtjb25zdCBuPWUudmFsdWUscz1lLmtleTtpZihcImFycmF5XCIhPT1BbihuKSlyZXR1cm5bbmV3IHFuKHMsbixgYXJyYXkgZXhwZWN0ZWQsICR7QW4obil9IGZvdW5kYCldO2lmKDIhPT1uLmxlbmd0aClyZXR1cm5bbmV3IHFuKHMsbixgYXJyYXkgbGVuZ3RoIDIgZXhwZWN0ZWQsIGxlbmd0aCAke24ubGVuZ3RofSBmb3VuZGApXTtpZihjKXtpZihcIm9iamVjdFwiIT09QW4oblswXSkpcmV0dXJuW25ldyBxbihzLG4sYG9iamVjdCBleHBlY3RlZCwgJHtBbihuWzBdKX0gZm91bmRgKV07aWYodm9pZCAwPT09blswXS56b29tKXJldHVybltuZXcgcW4ocyxuLFwib2JqZWN0IHN0b3Aga2V5IG11c3QgaGF2ZSB6b29tXCIpXTtpZih2b2lkIDA9PT1uWzBdLnZhbHVlKXJldHVybltuZXcgcW4ocyxuLFwib2JqZWN0IHN0b3Aga2V5IG11c3QgaGF2ZSB2YWx1ZVwiKV07Y29uc3QgdD1KZShuWzBdLnpvb20pO2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXJldHVybltuZXcgcW4ocyxuWzBdLnpvb20sXCJzdG9wIHpvb20gdmFsdWVzIG11c3QgYmUgbnVtYmVyc1wiKV07aWYobyYmbz50KXJldHVybltuZXcgcW4ocyxuWzBdLnpvb20sXCJzdG9wIHpvb20gdmFsdWVzIG11c3QgYXBwZWFyIGluIGFzY2VuZGluZyBvcmRlclwiKV07dCE9PW8mJihvPXQsaT12b2lkIDAsYT17fSkscj1yLmNvbmNhdChabih7a2V5OnMrXCJbMF1cIix2YWx1ZTpuWzBdLHZhbHVlU3BlYzp7em9vbTp7fX0sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e3pvb206V24sdmFsdWU6ZH19KSl9ZWxzZSByPXIuY29uY2F0KGQoe2tleTpzK1wiWzBdXCIsdmFsdWU6blswXSx2YWx1ZVNwZWM6e30sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9LG4pKTtyZXR1cm4gRm4oUWUoblsxXSkpP3IuY29uY2F0KFtuZXcgcW4ocytcIlsxXVwiLG5bMV0sXCJleHByZXNzaW9ucyBhcmUgbm90IGFsbG93ZWQgaW4gZnVuY3Rpb24gc3RvcHMuXCIpXSk6ci5jb25jYXQoeGkoe2tleTpzK1wiWzFdXCIsdmFsdWU6blsxXSx2YWx1ZVNwZWM6dCxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlY30pKX1mdW5jdGlvbiBkKGUsbyl7Y29uc3Qgcz1BbihlLnZhbHVlKSxsPUplKGUudmFsdWUpLGM9bnVsbCE9PWUudmFsdWU/ZS52YWx1ZTpvO2lmKG4pe2lmKHMhPT1uKXJldHVybltuZXcgcW4oZS5rZXksYyxgJHtzfSBzdG9wIGRvbWFpbiB0eXBlIG11c3QgbWF0Y2ggcHJldmlvdXMgc3RvcCBkb21haW4gdHlwZSAke259YCldfWVsc2Ugbj1zO2lmKFwibnVtYmVyXCIhPT1zJiZcInN0cmluZ1wiIT09cyYmXCJib29sZWFuXCIhPT1zJiZcIm51bWJlclwiIT10eXBlb2YgbCYmXCJzdHJpbmdcIiE9dHlwZW9mIGwmJlwiYm9vbGVhblwiIT10eXBlb2YgbClyZXR1cm5bbmV3IHFuKGUua2V5LGMsXCJzdG9wIGRvbWFpbiB2YWx1ZSBtdXN0IGJlIGEgbnVtYmVyLCBzdHJpbmcsIG9yIGJvb2xlYW5cIildO2lmKFwibnVtYmVyXCIhPT1zJiZcImNhdGVnb3JpY2FsXCIhPT1yKXtsZXQgbj1gbnVtYmVyIGV4cGVjdGVkLCAke3N9IGZvdW5kYDtyZXR1cm4gQ24odCkmJnZvaWQgMD09PXImJihuKz0nXFxuSWYgeW91IGludGVuZGVkIHRvIHVzZSBhIGNhdGVnb3JpY2FsIGZ1bmN0aW9uLCBzcGVjaWZ5IGBcInR5cGVcIjogXCJjYXRlZ29yaWNhbFwiYC4nKSxbbmV3IHFuKGUua2V5LGMsbildfXJldHVyblwiY2F0ZWdvcmljYWxcIiE9PXJ8fFwibnVtYmVyXCIhPT1zfHxcIm51bWJlclwiPT10eXBlb2YgbCYmaXNGaW5pdGUobCkmJk1hdGguZmxvb3IobCk9PT1sP1wiY2F0ZWdvcmljYWxcIiE9PXImJlwibnVtYmVyXCI9PT1zJiZcIm51bWJlclwiPT10eXBlb2YgbCYmXCJudW1iZXJcIj09dHlwZW9mIGkmJnZvaWQgMCE9PWkmJmw8aT9bbmV3IHFuKGUua2V5LGMsXCJzdG9wIGRvbWFpbiB2YWx1ZXMgbXVzdCBhcHBlYXIgaW4gYXNjZW5kaW5nIG9yZGVyXCIpXTooaT1sLFwiY2F0ZWdvcmljYWxcIj09PXImJmwgaW4gYT9bbmV3IHFuKGUua2V5LGMsXCJzdG9wIGRvbWFpbiB2YWx1ZXMgbXVzdCBiZSB1bmlxdWVcIildOihhW2xdPSEwLFtdKSk6W25ldyBxbihlLmtleSxjLFwiaW50ZWdlciBleHBlY3RlZCwgZm91bmQgXCIrU3RyaW5nKGwpKV19fWZ1bmN0aW9uIEhuKGUpe2NvbnN0IHQ9KFwicHJvcGVydHlcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQ/Vm46am4pKFFlKGUudmFsdWUpLGUudmFsdWVTcGVjKTtpZihcImVycm9yXCI9PT10LnJlc3VsdClyZXR1cm4gdC52YWx1ZS5tYXAodD0+bmV3IHFuKGAke2Uua2V5fSR7dC5rZXl9YCxlLnZhbHVlLHQubWVzc2FnZSkpO2NvbnN0IHI9dC52YWx1ZS5leHByZXNzaW9ufHx0LnZhbHVlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbjtpZihcInByb3BlcnR5XCI9PT1lLmV4cHJlc3Npb25Db250ZXh0JiZcInRleHQtZm9udFwiPT09ZS5wcm9wZXJ0eUtleSYmIXIub3V0cHV0RGVmaW5lZCgpKXJldHVybltuZXcgcW4oZS5rZXksZS52YWx1ZSxgSW52YWxpZCBkYXRhIGV4cHJlc3Npb24gZm9yIFwiJHtlLnByb3BlcnR5S2V5fVwiLiBPdXRwdXQgdmFsdWVzIG11c3QgYmUgY29udGFpbmVkIGFzIGxpdGVyYWxzIHdpdGhpbiB0aGUgZXhwcmVzc2lvbi5gKV07aWYoXCJwcm9wZXJ0eVwiPT09ZS5leHByZXNzaW9uQ29udGV4dCYmXCJsYXlvdXRcIj09PWUucHJvcGVydHlUeXBlJiYhX3IocikpcmV0dXJuW25ldyBxbihlLmtleSxlLnZhbHVlLCdcImZlYXR1cmUtc3RhdGVcIiBkYXRhIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbGF5b3V0IHByb3BlcnRpZXMuJyldO2lmKFwiZmlsdGVyXCI9PT1lLmV4cHJlc3Npb25Db250ZXh0KXJldHVybiBmdW5jdGlvbiBlKHQscil7Y29uc3Qgbj1uZXcgU2V0KFtcInpvb21cIixcImZlYXR1cmUtc3RhdGVcIixcInBpdGNoXCIsXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiXSk7aWYoci52YWx1ZVNwZWMmJnIudmFsdWVTcGVjLmV4cHJlc3Npb24pZm9yKGNvbnN0IGUgb2Ygci52YWx1ZVNwZWMuZXhwcmVzc2lvbi5wYXJhbWV0ZXJzKW4uZGVsZXRlKGUpO2lmKDA9PT1uLnNpemUpcmV0dXJuW107Y29uc3QgaT1bXTtyZXR1cm4gdCBpbnN0YW5jZW9mIFl0JiZuLmhhcyh0Lm5hbWUpP1tuZXcgcW4oci5rZXksci52YWx1ZSxgW1wiJHt0Lm5hbWV9XCJdIGV4cHJlc3Npb24gaXMgbm90IHN1cHBvcnRlZCBpbiBhIGZpbHRlciBmb3IgYSAke3Iub2JqZWN0LnR5cGV9IGxheWVyIHdpdGggaWQ6ICR7ci5vYmplY3QuaWR9YCldOih0LmVhY2hDaGlsZCh0PT57aS5wdXNoKC4uLmUodCxyKSl9KSxpKX0ocixlKTtpZihlLmV4cHJlc3Npb25Db250ZXh0JiYwPT09ZS5leHByZXNzaW9uQ29udGV4dC5pbmRleE9mKFwiY2x1c3RlclwiKSl7aWYoIXlyKHIsW1wiem9vbVwiLFwiZmVhdHVyZS1zdGF0ZVwiXSkpcmV0dXJuW25ldyBxbihlLmtleSxlLnZhbHVlLCdcInpvb21cIiBhbmQgXCJmZWF0dXJlLXN0YXRlXCIgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBjbHVzdGVyIHByb3BlcnRpZXMuJyldO2lmKFwiY2x1c3Rlci1pbml0aWFsXCI9PT1lLmV4cHJlc3Npb25Db250ZXh0JiYhZ3IocikpcmV0dXJuW25ldyBxbihlLmtleSxlLnZhbHVlLFwiRmVhdHVyZSBkYXRhIGV4cHJlc3Npb25zIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggaW5pdGlhbCBleHByZXNzaW9uIHBhcnQgb2YgY2x1c3RlciBwcm9wZXJ0aWVzLlwiKV19cmV0dXJuW119ZnVuY3Rpb24gWW4oZSl7Y29uc3QgdD1lLmtleSxyPWUudmFsdWUsbj1lLnZhbHVlU3BlYyxpPVtdO3JldHVybiBBcnJheS5pc0FycmF5KG4udmFsdWVzKT8tMT09PW4udmFsdWVzLmluZGV4T2YoSmUocikpJiZpLnB1c2gobmV3IHFuKHQscixgZXhwZWN0ZWQgb25lIG9mIFske24udmFsdWVzLmpvaW4oXCIsIFwiKX1dLCAke0pTT04uc3RyaW5naWZ5KHIpfSBmb3VuZGApKTotMT09PU9iamVjdC5rZXlzKG4udmFsdWVzKS5pbmRleE9mKEplKHIpKSYmaS5wdXNoKG5ldyBxbih0LHIsYGV4cGVjdGVkIG9uZSBvZiBbJHtPYmplY3Qua2V5cyhuLnZhbHVlcykuam9pbihcIiwgXCIpfV0sICR7SlNPTi5zdHJpbmdpZnkocil9IGZvdW5kYCkpLGl9ZnVuY3Rpb24gS24oZSl7aWYoITA9PT1lfHwhMT09PWUpcmV0dXJuITA7aWYoIUFycmF5LmlzQXJyYXkoZSl8fDA9PT1lLmxlbmd0aClyZXR1cm4hMTtzd2l0Y2goZVswXSl7Y2FzZVwiaGFzXCI6cmV0dXJuIGUubGVuZ3RoPj0yJiZcIiRpZFwiIT09ZVsxXSYmXCIkdHlwZVwiIT09ZVsxXTtjYXNlXCJpblwiOnJldHVybiBlLmxlbmd0aD49MyYmKFwic3RyaW5nXCIhPXR5cGVvZiBlWzFdfHxBcnJheS5pc0FycmF5KGVbMl0pKTtjYXNlXCIhaW5cIjpjYXNlXCIhaGFzXCI6Y2FzZVwibm9uZVwiOnJldHVybiExO2Nhc2VcIj09XCI6Y2FzZVwiIT1cIjpjYXNlXCI+XCI6Y2FzZVwiPj1cIjpjYXNlXCI8XCI6Y2FzZVwiPD1cIjpyZXR1cm4gMyE9PWUubGVuZ3RofHxBcnJheS5pc0FycmF5KGVbMV0pfHxBcnJheS5pc0FycmF5KGVbMl0pO2Nhc2VcImFueVwiOmNhc2VcImFsbFwiOmZvcihjb25zdCB0IG9mIGUuc2xpY2UoMSkpaWYoIUtuKHQpJiZcImJvb2xlYW5cIiE9dHlwZW9mIHQpcmV0dXJuITE7cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMH19ZnVuY3Rpb24gSm4oZSx0PVwiZmlsbFwiKXtpZihudWxsPT1lKXJldHVybntmaWx0ZXI6KCk9PiEwLG5lZWRHZW9tZXRyeTohMSxuZWVkRmVhdHVyZTohMX07S24oZSl8fChlPW5pKGUpKTtjb25zdCByPWU7bGV0IG49ITA7dHJ5e249ZnVuY3Rpb24oZSl7aWYoIVFuKGUpKXJldHVybiBlO2xldCB0PVFlKGUpO3JldHVybiBmdW5jdGlvbiBlKHQpe2xldCByPSExO2NvbnN0IG49W107aWYoXCJjYXNlXCI9PT10WzBdKXtmb3IobGV0IGU9MTtlPHQubGVuZ3RoLTE7ZSs9MilyPXJ8fFFuKHRbZV0pLG4ucHVzaCh0W2UrMV0pO24ucHVzaCh0W3QubGVuZ3RoLTFdKX1lbHNlIGlmKFwibWF0Y2hcIj09PXRbMF0pe3I9cnx8UW4odFsxXSk7Zm9yKGxldCBlPTI7ZTx0Lmxlbmd0aC0xO2UrPTIpbi5wdXNoKHRbZSsxXSk7bi5wdXNoKHRbdC5sZW5ndGgtMV0pfWVsc2UgaWYoXCJzdGVwXCI9PT10WzBdKXtyPXJ8fFFuKHRbMV0pO2ZvcihsZXQgZT0xO2U8dC5sZW5ndGgtMTtlKz0yKW4ucHVzaCh0W2UrMV0pfXImJih0Lmxlbmd0aD0wLHQucHVzaChcImFueVwiLC4uLm4pKTtmb3IobGV0IHI9MTtyPHQubGVuZ3RoO3IrKyllKHRbcl0pfSh0KSx0PWZ1bmN0aW9uIGUodCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7Y29uc3Qgcj1mdW5jdGlvbihlKXtpZihlaS5oYXMoZVswXSkpZm9yKGxldCB0PTE7dDxlLmxlbmd0aDt0KyspaWYoUW4oZVt0XSkpcmV0dXJuITA7cmV0dXJuIGV9KHQpO3JldHVybiEwPT09cj9yOnIubWFwKHQ9PmUodCkpfSh0KSx0fShyKX1jYXRjaChlKXtjb25zb2xlLndhcm4oYEZhaWxlZCB0byBleHRyYWN0IHN0YXRpYyBmaWx0ZXIuIEZpbHRlciB3aWxsIGNvbnRpbnVlIHdvcmtpbmcsIGJ1dCBhdCBoaWdoZXIgbWVtb3J5IHVzYWdlIGFuZCBzbG93ZXIgZnJhbWVyYXRlLlxcblRoaXMgaXMgbW9zdCBsaWtlbHkgYSBidWcsIHBsZWFzZSByZXBvcnQgdGhpcyB2aWEgaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzL25ldz9hc3NpZ25lZXM9JmxhYmVscz0mdGVtcGxhdGU9QnVnX3JlcG9ydC5tZFxcbmFuZCBwYXN0ZSB0aGUgY29udGVudHMgb2YgdGhpcyBtZXNzYWdlIGluIHRoZSByZXBvcnQuXFxuVGhhbmsgeW91IVxcbkZpbHRlciBFeHByZXNzaW9uOlxcbiR7SlNPTi5zdHJpbmdpZnkocixudWxsLDIpfVxcbiAgICAgICAgYCl9Y29uc3QgaT1ZZVtcImZpbHRlcl9cIit0XSxvPWpuKG4saSk7bGV0IGE9bnVsbDtpZihcImVycm9yXCI9PT1vLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Ioby52YWx1ZS5tYXAoZT0+YCR7ZS5rZXl9OiAke2UubWVzc2FnZX1gKS5qb2luKFwiLCBcIikpO2E9KGUsdCxyKT0+by52YWx1ZS5ldmFsdWF0ZShlLHQse30scik7bGV0IHM9bnVsbCxsPW51bGw7aWYobiE9PXIpe2NvbnN0IGU9am4ocixpKTtpZihcImVycm9yXCI9PT1lLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3IoZS52YWx1ZS5tYXAoZT0+YCR7ZS5rZXl9OiAke2UubWVzc2FnZX1gKS5qb2luKFwiLCBcIikpO3M9KHQscixuLGksbyk9PmUudmFsdWUuZXZhbHVhdGUodCxyLHt9LG4sdm9pZCAwLHZvaWQgMCxpLG8pLGw9IWdyKGUudmFsdWUuZXhwcmVzc2lvbil9cmV0dXJue2ZpbHRlcjphLGR5bmFtaWNGaWx0ZXI6c3x8dm9pZCAwLG5lZWRHZW9tZXRyeTpyaShuKSxuZWVkRmVhdHVyZTohIWx9fWZ1bmN0aW9uIFFuKGUpe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiExO2lmKFwicGl0Y2hcIj09PSh0PWVbMF0pfHxcImRpc3RhbmNlLWZyb20tY2VudGVyXCI9PT10KXJldHVybiEwO3ZhciB0O2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKWlmKFFuKGVbdF0pKXJldHVybiEwO3JldHVybiExfWNvbnN0IGVpPW5ldyBTZXQoW1wiaW5cIixcIj09XCIsXCIhPVwiLFwiPlwiLFwiPj1cIixcIjxcIixcIjw9XCIsXCJ0by1ib29sZWFuXCJdKTtmdW5jdGlvbiB0aShlLHQpe3JldHVybiBlPHQ/LTE6ZT50PzE6MH1mdW5jdGlvbiByaShlKXtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4hMTtpZihcIndpdGhpblwiPT09ZVswXSlyZXR1cm4hMDtmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKylpZihyaShlW3RdKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBuaShlKXtpZighZSlyZXR1cm4hMDtjb25zdCB0PWVbMF07cmV0dXJuIGUubGVuZ3RoPD0xP1wiYW55XCIhPT10OlwiPT1cIj09PXQ/aWkoZVsxXSxlWzJdLFwiPT1cIik6XCIhPVwiPT09dD9zaShpaShlWzFdLGVbMl0sXCI9PVwiKSk6XCI8XCI9PT10fHxcIj5cIj09PXR8fFwiPD1cIj09PXR8fFwiPj1cIj09PXQ/aWkoZVsxXSxlWzJdLHQpOlwiYW55XCI9PT10PyhyPWUuc2xpY2UoMSksW1wiYW55XCJdLmNvbmNhdChyLm1hcChuaSkpKTpcImFsbFwiPT09dD9bXCJhbGxcIl0uY29uY2F0KGUuc2xpY2UoMSkubWFwKG5pKSk6XCJub25lXCI9PT10P1tcImFsbFwiXS5jb25jYXQoZS5zbGljZSgxKS5tYXAobmkpLm1hcChzaSkpOlwiaW5cIj09PXQ/b2koZVsxXSxlLnNsaWNlKDIpKTpcIiFpblwiPT09dD9zaShvaShlWzFdLGUuc2xpY2UoMikpKTpcImhhc1wiPT09dD9haShlWzFdKTpcIiFoYXNcIj09PXQ/c2koYWkoZVsxXSkpOlwid2l0aGluXCIhPT10fHxlO3ZhciByfWZ1bmN0aW9uIGlpKGUsdCxyKXtzd2l0Y2goZSl7Y2FzZVwiJHR5cGVcIjpyZXR1cm5bXCJmaWx0ZXItdHlwZS1cIityLHRdO2Nhc2VcIiRpZFwiOnJldHVybltcImZpbHRlci1pZC1cIityLHRdO2RlZmF1bHQ6cmV0dXJuW1wiZmlsdGVyLVwiK3IsZSx0XX19ZnVuY3Rpb24gb2koZSx0KXtpZigwPT09dC5sZW5ndGgpcmV0dXJuITE7c3dpdGNoKGUpe2Nhc2VcIiR0eXBlXCI6cmV0dXJuW1wiZmlsdGVyLXR5cGUtaW5cIixbXCJsaXRlcmFsXCIsdF1dO2Nhc2VcIiRpZFwiOnJldHVybltcImZpbHRlci1pZC1pblwiLFtcImxpdGVyYWxcIix0XV07ZGVmYXVsdDpyZXR1cm4gdC5sZW5ndGg+MjAwJiYhdC5zb21lKGU9PnR5cGVvZiBlIT10eXBlb2YgdFswXSk/W1wiZmlsdGVyLWluLWxhcmdlXCIsZSxbXCJsaXRlcmFsXCIsdC5zb3J0KHRpKV1dOltcImZpbHRlci1pbi1zbWFsbFwiLGUsW1wibGl0ZXJhbFwiLHRdXX19ZnVuY3Rpb24gYWkoZSl7c3dpdGNoKGUpe2Nhc2VcIiR0eXBlXCI6cmV0dXJuITA7Y2FzZVwiJGlkXCI6cmV0dXJuW1wiZmlsdGVyLWhhcy1pZFwiXTtkZWZhdWx0OnJldHVybltcImZpbHRlci1oYXNcIixlXX19ZnVuY3Rpb24gc2koZSl7cmV0dXJuW1wiIVwiLGVdfWZ1bmN0aW9uIGxpKGUpe3JldHVybiBLbihRZShlLnZhbHVlKSk/SG4oS2Uoe30sZSx7ZXhwcmVzc2lvbkNvbnRleHQ6XCJmaWx0ZXJcIix2YWx1ZVNwZWM6ZS5zdHlsZVNwZWNbXCJmaWx0ZXJfXCIrKGUubGF5ZXJUeXBlfHxcImZpbGxcIildfSkpOmZ1bmN0aW9uIGUodCl7Y29uc3Qgcj10LnZhbHVlLG49dC5rZXk7aWYoXCJhcnJheVwiIT09QW4ocikpcmV0dXJuW25ldyBxbihuLHIsYGFycmF5IGV4cGVjdGVkLCAke0FuKHIpfSBmb3VuZGApXTtjb25zdCBpPXQuc3R5bGVTcGVjO2xldCBvLGE9W107aWYoci5sZW5ndGg8MSlyZXR1cm5bbmV3IHFuKG4scixcImZpbHRlciBhcnJheSBtdXN0IGhhdmUgYXQgbGVhc3QgMSBlbGVtZW50XCIpXTtzd2l0Y2goYT1hLmNvbmNhdChZbih7a2V5Om4rXCJbMF1cIix2YWx1ZTpyWzBdLHZhbHVlU3BlYzppLmZpbHRlcl9vcGVyYXRvcixzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30pKSxKZShyWzBdKSl7Y2FzZVwiPFwiOmNhc2VcIjw9XCI6Y2FzZVwiPlwiOmNhc2VcIj49XCI6ci5sZW5ndGg+PTImJlwiJHR5cGVcIj09PUplKHJbMV0pJiZhLnB1c2gobmV3IHFuKG4scixgXCIkdHlwZVwiIGNhbm5vdCBiZSB1c2Ugd2l0aCBvcGVyYXRvciBcIiR7clswXX1cImApKTtjYXNlXCI9PVwiOmNhc2VcIiE9XCI6MyE9PXIubGVuZ3RoJiZhLnB1c2gobmV3IHFuKG4scixgZmlsdGVyIGFycmF5IGZvciBvcGVyYXRvciBcIiR7clswXX1cIiBtdXN0IGhhdmUgMyBlbGVtZW50c2ApKTtjYXNlXCJpblwiOmNhc2VcIiFpblwiOnIubGVuZ3RoPj0yJiYobz1BbihyWzFdKSxcInN0cmluZ1wiIT09byYmYS5wdXNoKG5ldyBxbihuK1wiWzFdXCIsclsxXSxgc3RyaW5nIGV4cGVjdGVkLCAke299IGZvdW5kYCkpKTtmb3IobGV0IGU9MjtlPHIubGVuZ3RoO2UrKylvPUFuKHJbZV0pLFwiJHR5cGVcIj09PUplKHJbMV0pP2E9YS5jb25jYXQoWW4oe2tleTpgJHtufVske2V9XWAsdmFsdWU6cltlXSx2YWx1ZVNwZWM6aS5nZW9tZXRyeV90eXBlLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpOlwic3RyaW5nXCIhPT1vJiZcIm51bWJlclwiIT09byYmXCJib29sZWFuXCIhPT1vJiZhLnB1c2gobmV3IHFuKGAke259WyR7ZX1dYCxyW2VdLGBzdHJpbmcsIG51bWJlciwgb3IgYm9vbGVhbiBleHBlY3RlZCwgJHtvfSBmb3VuZGApKTticmVhaztjYXNlXCJhbnlcIjpjYXNlXCJhbGxcIjpjYXNlXCJub25lXCI6Zm9yKGxldCBpPTE7aTxyLmxlbmd0aDtpKyspYT1hLmNvbmNhdChlKHtrZXk6YCR7bn1bJHtpfV1gLHZhbHVlOnJbaV0sc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWN9KSk7YnJlYWs7Y2FzZVwiaGFzXCI6Y2FzZVwiIWhhc1wiOm89QW4oclsxXSksMiE9PXIubGVuZ3RoP2EucHVzaChuZXcgcW4obixyLGBmaWx0ZXIgYXJyYXkgZm9yIFwiJHtyWzBdfVwiIG9wZXJhdG9yIG11c3QgaGF2ZSAyIGVsZW1lbnRzYCkpOlwic3RyaW5nXCIhPT1vJiZhLnB1c2gobmV3IHFuKG4rXCJbMV1cIixyWzFdLGBzdHJpbmcgZXhwZWN0ZWQsICR7b30gZm91bmRgKSk7YnJlYWs7Y2FzZVwid2l0aGluXCI6bz1BbihyWzFdKSwyIT09ci5sZW5ndGg/YS5wdXNoKG5ldyBxbihuLHIsYGZpbHRlciBhcnJheSBmb3IgXCIke3JbMF19XCIgb3BlcmF0b3IgbXVzdCBoYXZlIDIgZWxlbWVudHNgKSk6XCJvYmplY3RcIiE9PW8mJmEucHVzaChuZXcgcW4obitcIlsxXVwiLHJbMV0sYG9iamVjdCBleHBlY3RlZCwgJHtvfSBmb3VuZGApKX1yZXR1cm4gYX0oZSl9ZnVuY3Rpb24gY2koZSx0KXtjb25zdCByPWUua2V5LG49ZS5zdHlsZSxpPWUuc3R5bGVTcGVjLG89ZS52YWx1ZSxhPWUub2JqZWN0S2V5LHM9aVtgJHt0fV8ke2UubGF5ZXJUeXBlfWBdO2lmKCFzKXJldHVybltdO2NvbnN0IGw9YS5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtpZihcInBhaW50XCI9PT10JiZsJiZzW2xbMV1dJiZzW2xbMV1dLnRyYW5zaXRpb24pcmV0dXJuIHhpKHtrZXk6cix2YWx1ZTpvLHZhbHVlU3BlYzppLnRyYW5zaXRpb24sc3R5bGU6bixzdHlsZVNwZWM6aX0pO2NvbnN0IGM9ZS52YWx1ZVNwZWN8fHNbYV07aWYoIWMpcmV0dXJuW25ldyBxbihyLG8sYHVua25vd24gcHJvcGVydHkgXCIke2F9XCJgKV07bGV0IHU7aWYoXCJzdHJpbmdcIj09PUFuKG8pJiZDbihjKSYmIWMudG9rZW5zJiYodT0vXnsoW159XSspfSQvLmV4ZWMobykpKXJldHVybltuZXcgcW4ocixvLGBcIiR7YX1cIiBkb2VzIG5vdCBzdXBwb3J0IGludGVycG9sYXRpb24gc3ludGF4XFxuVXNlIGFuIGlkZW50aXR5IHByb3BlcnR5IGZ1bmN0aW9uIGluc3RlYWQ6IFxcYHsgXCJ0eXBlXCI6IFwiaWRlbnRpdHlcIiwgXCJwcm9wZXJ0eVwiOiAke0pTT04uc3RyaW5naWZ5KHVbMV0pfSB9XFxgLmApXTtjb25zdCBoPVtdO3JldHVyblwic3ltYm9sXCI9PT1lLmxheWVyVHlwZSYmKFwidGV4dC1maWVsZFwiPT09YSYmbiYmIW4uZ2x5cGhzJiZoLnB1c2gobmV3IHFuKHIsbywndXNlIG9mIFwidGV4dC1maWVsZFwiIHJlcXVpcmVzIGEgc3R5bGUgXCJnbHlwaHNcIiBwcm9wZXJ0eScpKSxcInRleHQtZm9udFwiPT09YSYmSW4oUWUobykpJiZcImlkZW50aXR5XCI9PT1KZShvLnR5cGUpJiZoLnB1c2gobmV3IHFuKHIsbywnXCJ0ZXh0LWZvbnRcIiBkb2VzIG5vdCBzdXBwb3J0IGlkZW50aXR5IGZ1bmN0aW9ucycpKSksaC5jb25jYXQoeGkoe2tleTplLmtleSx2YWx1ZTpvLHZhbHVlU3BlYzpjLHN0eWxlOm4sc3R5bGVTcGVjOmksZXhwcmVzc2lvbkNvbnRleHQ6XCJwcm9wZXJ0eVwiLHByb3BlcnR5VHlwZTp0LHByb3BlcnR5S2V5OmF9KSl9ZnVuY3Rpb24gdWkoZSl7cmV0dXJuIGNpKGUsXCJwYWludFwiKX1mdW5jdGlvbiBoaShlKXtyZXR1cm4gY2koZSxcImxheW91dFwiKX1mdW5jdGlvbiBkaShlKXtsZXQgdD1bXTtjb25zdCByPWUudmFsdWUsbj1lLmtleSxpPWUuc3R5bGUsbz1lLnN0eWxlU3BlYztyLnR5cGV8fHIucmVmfHx0LnB1c2gobmV3IHFuKG4sciwnZWl0aGVyIFwidHlwZVwiIG9yIFwicmVmXCIgaXMgcmVxdWlyZWQnKSk7bGV0IGE9SmUoci50eXBlKTtjb25zdCBzPUplKHIucmVmKTtpZihyLmlkKXtjb25zdCBvPUplKHIuaWQpO2ZvcihsZXQgYT0wO2E8ZS5hcnJheUluZGV4O2ErKyl7Y29uc3QgZT1pLmxheWVyc1thXTtKZShlLmlkKT09PW8mJnQucHVzaChuZXcgcW4obixyLmlkLGBkdXBsaWNhdGUgbGF5ZXIgaWQgXCIke3IuaWR9XCIsIHByZXZpb3VzbHkgdXNlZCBhdCBsaW5lICR7ZS5pZC5fX2xpbmVfX31gKSl9fWlmKFwicmVmXCJpbiByKXtsZXQgZTtbXCJ0eXBlXCIsXCJzb3VyY2VcIixcInNvdXJjZS1sYXllclwiLFwiZmlsdGVyXCIsXCJsYXlvdXRcIl0uZm9yRWFjaChlPT57ZSBpbiByJiZ0LnB1c2gobmV3IHFuKG4scltlXSxgXCIke2V9XCIgaXMgcHJvaGliaXRlZCBmb3IgcmVmIGxheWVyc2ApKX0pLGkubGF5ZXJzLmZvckVhY2godD0+e0plKHQuaWQpPT09cyYmKGU9dCl9KSxlP2UucmVmP3QucHVzaChuZXcgcW4obixyLnJlZixcInJlZiBjYW5ub3QgcmVmZXJlbmNlIGFub3RoZXIgcmVmIGxheWVyXCIpKTphPUplKGUudHlwZSk6XCJzdHJpbmdcIj09dHlwZW9mIHMmJnQucHVzaChuZXcgcW4obixyLnJlZixgcmVmIGxheWVyIFwiJHtzfVwiIG5vdCBmb3VuZGApKX1lbHNlIGlmKFwiYmFja2dyb3VuZFwiIT09YSYmXCJza3lcIiE9PWEpaWYoci5zb3VyY2Upe2NvbnN0IGU9aS5zb3VyY2VzJiZpLnNvdXJjZXNbci5zb3VyY2VdLG89ZSYmSmUoZS50eXBlKTtlP1widmVjdG9yXCI9PT1vJiZcInJhc3RlclwiPT09YT90LnB1c2gobmV3IHFuKG4sci5zb3VyY2UsYGxheWVyIFwiJHtyLmlkfVwiIHJlcXVpcmVzIGEgcmFzdGVyIHNvdXJjZWApKTpcInJhc3RlclwiPT09byYmXCJyYXN0ZXJcIiE9PWE/dC5wdXNoKG5ldyBxbihuLHIuc291cmNlLGBsYXllciBcIiR7ci5pZH1cIiByZXF1aXJlcyBhIHZlY3RvciBzb3VyY2VgKSk6XCJ2ZWN0b3JcIiE9PW98fHJbXCJzb3VyY2UtbGF5ZXJcIl0/XCJyYXN0ZXItZGVtXCI9PT1vJiZcImhpbGxzaGFkZVwiIT09YT90LnB1c2gobmV3IHFuKG4sci5zb3VyY2UsXCJyYXN0ZXItZGVtIHNvdXJjZSBjYW4gb25seSBiZSB1c2VkIHdpdGggbGF5ZXIgdHlwZSAnaGlsbHNoYWRlJy5cIikpOlwibGluZVwiIT09YXx8IXIucGFpbnR8fCFyLnBhaW50W1wibGluZS1ncmFkaWVudFwiXSYmIXIucGFpbnRbXCJsaW5lLXRyaW0tb2Zmc2V0XCJdfHxcImdlb2pzb25cIj09PW8mJmUubGluZU1ldHJpY3N8fHQucHVzaChuZXcgcW4obixyLGBsYXllciBcIiR7ci5pZH1cIiBzcGVjaWZpZXMgYSBsaW5lLWdyYWRpZW50LCB3aGljaCByZXF1aXJlcyBhIEdlb0pTT04gc291cmNlIHdpdGggXFxgbGluZU1ldHJpY3NcXGAgZW5hYmxlZC5gKSk6dC5wdXNoKG5ldyBxbihuLHIsYGxheWVyIFwiJHtyLmlkfVwiIG11c3Qgc3BlY2lmeSBhIFwic291cmNlLWxheWVyXCJgKSk6dC5wdXNoKG5ldyBxbihuLHIuc291cmNlLGBzb3VyY2UgXCIke3Iuc291cmNlfVwiIG5vdCBmb3VuZGApKX1lbHNlIHQucHVzaChuZXcgcW4obixyLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwic291cmNlXCInKSk7cmV0dXJuIHQ9dC5jb25jYXQoWm4oe2tleTpuLHZhbHVlOnIsdmFsdWVTcGVjOm8ubGF5ZXIsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e1wiKlwiOigpPT5bXSx0eXBlOigpPT54aSh7a2V5Om4rXCIudHlwZVwiLHZhbHVlOnIudHlwZSx2YWx1ZVNwZWM6by5sYXllci50eXBlLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLG9iamVjdDpyLG9iamVjdEtleTpcInR5cGVcIn0pLGZpbHRlcjplPT5saShLZSh7bGF5ZXJUeXBlOmF9LGUpKSxsYXlvdXQ6ZT0+Wm4oe2xheWVyOnIsa2V5OmUua2V5LHZhbHVlOmUudmFsdWUsdmFsdWVTcGVjOnt9LHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOntcIipcIjplPT5oaShLZSh7bGF5ZXJUeXBlOmF9LGUpKX19KSxwYWludDplPT5abih7bGF5ZXI6cixrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZSx2YWx1ZVNwZWM6e30sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e1wiKlwiOmU9PnVpKEtlKHtsYXllclR5cGU6YX0sZSkpfX0pfX0pKSx0fWZ1bmN0aW9uIHBpKGUpe2NvbnN0IHQ9ZS52YWx1ZSxyPWUua2V5LG49QW4odCk7cmV0dXJuXCJzdHJpbmdcIiE9PW4/W25ldyBxbihyLHQsYHN0cmluZyBleHBlY3RlZCwgJHtufSBmb3VuZGApXTpbXX1jb25zdCBmaT17cHJvbW90ZUlkOmZ1bmN0aW9uKHtrZXk6ZSx2YWx1ZTp0fSl7aWYoXCJzdHJpbmdcIj09PUFuKHQpKXJldHVybiBwaSh7a2V5OmUsdmFsdWU6dH0pO3tjb25zdCByPVtdO2Zvcihjb25zdCBuIGluIHQpci5wdXNoKC4uLnBpKHtrZXk6YCR7ZX0uJHtufWAsdmFsdWU6dFtuXX0pKTtyZXR1cm4gcn19fTtmdW5jdGlvbiBtaShlKXtjb25zdCB0PWUudmFsdWUscj1lLmtleSxuPWUuc3R5bGVTcGVjLGk9ZS5zdHlsZTtpZighdC50eXBlKXJldHVybltuZXcgcW4ocix0LCdcInR5cGVcIiBpcyByZXF1aXJlZCcpXTtjb25zdCBvPUplKHQudHlwZSk7bGV0IGE7c3dpdGNoKG8pe2Nhc2VcInZlY3RvclwiOmNhc2VcInJhc3RlclwiOmNhc2VcInJhc3Rlci1kZW1cIjpyZXR1cm4gYT1abih7a2V5OnIsdmFsdWU6dCx2YWx1ZVNwZWM6bltcInNvdXJjZV9cIitvLnJlcGxhY2UoXCItXCIsXCJfXCIpXSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzpuLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOmZpfSksYTtjYXNlXCJnZW9qc29uXCI6aWYoYT1abih7a2V5OnIsdmFsdWU6dCx2YWx1ZVNwZWM6bi5zb3VyY2VfZ2VvanNvbixzdHlsZTppLHN0eWxlU3BlYzpuLG9iamVjdEVsZW1lbnRWYWxpZGF0b3JzOmZpfSksdC5jbHVzdGVyKWZvcihjb25zdCBlIGluIHQuY2x1c3RlclByb3BlcnRpZXMpe2NvbnN0W24saV09dC5jbHVzdGVyUHJvcGVydGllc1tlXSxvPVwic3RyaW5nXCI9PXR5cGVvZiBuP1tuLFtcImFjY3VtdWxhdGVkXCJdLFtcImdldFwiLGVdXTpuO2EucHVzaCguLi5Ibih7a2V5OmAke3J9LiR7ZX0ubWFwYCx2YWx1ZTppLGV4cHJlc3Npb25Db250ZXh0OlwiY2x1c3Rlci1tYXBcIn0pKSxhLnB1c2goLi4uSG4oe2tleTpgJHtyfS4ke2V9LnJlZHVjZWAsdmFsdWU6byxleHByZXNzaW9uQ29udGV4dDpcImNsdXN0ZXItcmVkdWNlXCJ9KSl9cmV0dXJuIGE7Y2FzZVwidmlkZW9cIjpyZXR1cm4gWm4oe2tleTpyLHZhbHVlOnQsdmFsdWVTcGVjOm4uc291cmNlX3ZpZGVvLHN0eWxlOmksc3R5bGVTcGVjOm59KTtjYXNlXCJpbWFnZVwiOnJldHVybiBabih7a2V5OnIsdmFsdWU6dCx2YWx1ZVNwZWM6bi5zb3VyY2VfaW1hZ2Usc3R5bGU6aSxzdHlsZVNwZWM6bn0pO2Nhc2VcImNhbnZhc1wiOnJldHVybltuZXcgcW4ocixudWxsLFwiUGxlYXNlIHVzZSBydW50aW1lIEFQSXMgdG8gYWRkIGNhbnZhcyBzb3VyY2VzLCByYXRoZXIgdGhhbiBpbmNsdWRpbmcgdGhlbSBpbiBzdHlsZXNoZWV0cy5cIixcInNvdXJjZS5jYW52YXNcIildO2RlZmF1bHQ6cmV0dXJuIFluKHtrZXk6citcIi50eXBlXCIsdmFsdWU6dC50eXBlLHZhbHVlU3BlYzp7dmFsdWVzOltcInZlY3RvclwiLFwicmFzdGVyXCIsXCJyYXN0ZXItZGVtXCIsXCJnZW9qc29uXCIsXCJ2aWRlb1wiLFwiaW1hZ2VcIl19LHN0eWxlOmksc3R5bGVTcGVjOm59KX19ZnVuY3Rpb24gZ2koZSl7Y29uc3QgdD1lLnZhbHVlLHI9ZS5zdHlsZVNwZWMsbj1yLmxpZ2h0LGk9ZS5zdHlsZTtsZXQgbz1bXTtjb25zdCBhPUFuKHQpO2lmKHZvaWQgMD09PXQpcmV0dXJuIG87aWYoXCJvYmplY3RcIiE9PWEpcmV0dXJuIG89by5jb25jYXQoW25ldyBxbihcImxpZ2h0XCIsdCxgb2JqZWN0IGV4cGVjdGVkLCAke2F9IGZvdW5kYCldKSxvO2Zvcihjb25zdCBlIGluIHQpe2NvbnN0IGE9ZS5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtvPW8uY29uY2F0KGEmJm5bYVsxXV0mJm5bYVsxXV0udHJhbnNpdGlvbj94aSh7a2V5OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6ci50cmFuc2l0aW9uLHN0eWxlOmksc3R5bGVTcGVjOnJ9KTpuW2VdP3hpKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzpuW2VdLHN0eWxlOmksc3R5bGVTcGVjOnJ9KTpbbmV3IHFuKGUsdFtlXSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7ZX1cImApXSl9cmV0dXJuIG99ZnVuY3Rpb24gX2koZSl7Y29uc3QgdD1lLnZhbHVlLHI9ZS5rZXksbj1lLnN0eWxlLGk9ZS5zdHlsZVNwZWMsbz1pLnRlcnJhaW47bGV0IGE9W107Y29uc3Qgcz1Bbih0KTtpZih2b2lkIDA9PT10KXJldHVybiBhO2lmKFwib2JqZWN0XCIhPT1zKXJldHVybiBhPWEuY29uY2F0KFtuZXcgcW4oXCJ0ZXJyYWluXCIsdCxgb2JqZWN0IGV4cGVjdGVkLCAke3N9IGZvdW5kYCldKSxhO2Zvcihjb25zdCBlIGluIHQpe2NvbnN0IHI9ZS5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTthPWEuY29uY2F0KHImJm9bclsxXV0mJm9bclsxXV0udHJhbnNpdGlvbj94aSh7a2V5OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6aS50cmFuc2l0aW9uLHN0eWxlOm4sc3R5bGVTcGVjOml9KTpvW2VdP3hpKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzpvW2VdLHN0eWxlOm4sc3R5bGVTcGVjOml9KTpbbmV3IHFuKGUsdFtlXSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7ZX1cImApXSl9aWYodC5zb3VyY2Upe2NvbnN0IGU9bi5zb3VyY2VzJiZuLnNvdXJjZXNbdC5zb3VyY2VdLGk9ZSYmSmUoZS50eXBlKTtlP1wicmFzdGVyLWRlbVwiIT09aSYmYS5wdXNoKG5ldyBxbihyLHQuc291cmNlLGB0ZXJyYWluIGNhbm5vdCBiZSB1c2VkIHdpdGggYSBzb3VyY2Ugb2YgdHlwZSAke1N0cmluZyhpKX0sIGl0IG9ubHkgYmUgdXNlZCB3aXRoIGEgXCJyYXN0ZXItZGVtXCIgc291cmNlIHR5cGVgKSk6YS5wdXNoKG5ldyBxbihyLHQuc291cmNlLGBzb3VyY2UgXCIke3Quc291cmNlfVwiIG5vdCBmb3VuZGApKX1lbHNlIGEucHVzaChuZXcgcW4ocix0LCd0ZXJyYWluIGlzIG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzb3VyY2VcIicpKTtyZXR1cm4gYX1mdW5jdGlvbiB5aShlKXtjb25zdCB0PWUudmFsdWUscj1lLnN0eWxlLG49ZS5zdHlsZVNwZWMsaT1uLmZvZztsZXQgbz1bXTtjb25zdCBhPUFuKHQpO2lmKHZvaWQgMD09PXQpcmV0dXJuIG87aWYoXCJvYmplY3RcIiE9PWEpcmV0dXJuIG89by5jb25jYXQoW25ldyBxbihcImZvZ1wiLHQsYG9iamVjdCBleHBlY3RlZCwgJHthfSBmb3VuZGApXSksbztmb3IoY29uc3QgZSBpbiB0KXtjb25zdCBhPWUubWF0Y2goL14oLiopLXRyYW5zaXRpb24kLyk7bz1vLmNvbmNhdChhJiZpW2FbMV1dJiZpW2FbMV1dLnRyYW5zaXRpb24/eGkoe2tleTplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOm4udHJhbnNpdGlvbixzdHlsZTpyLHN0eWxlU3BlYzpufSk6aVtlXT94aSh7a2V5OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6aVtlXSxzdHlsZTpyLHN0eWxlU3BlYzpufSk6W25ldyBxbihlLHRbZV0sYHVua25vd24gcHJvcGVydHkgXCIke2V9XCJgKV0pfXJldHVybiBvfWNvbnN0IHZpPXtcIipcIjooKT0+W10sYXJyYXk6JG4sYm9vbGVhbjpmdW5jdGlvbihlKXtjb25zdCB0PWUudmFsdWUscj1lLmtleSxuPUFuKHQpO3JldHVyblwiYm9vbGVhblwiIT09bj9bbmV3IHFuKHIsdCxgYm9vbGVhbiBleHBlY3RlZCwgJHtufSBmb3VuZGApXTpbXX0sbnVtYmVyOlduLGNvbG9yOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5rZXkscj1lLnZhbHVlLG49QW4ocik7cmV0dXJuXCJzdHJpbmdcIiE9PW4/W25ldyBxbih0LHIsYGNvbG9yIGV4cGVjdGVkLCAke259IGZvdW5kYCldOm51bGw9PT14dChyKT9bbmV3IHFuKHQscixgY29sb3IgZXhwZWN0ZWQsIFwiJHtyfVwiIGZvdW5kYCldOltdfSxlbnVtOlluLGZpbHRlcjpsaSxmdW5jdGlvbjpYbixsYXllcjpkaSxvYmplY3Q6Wm4sc291cmNlOm1pLGxpZ2h0OmdpLHRlcnJhaW46X2ksZm9nOnlpLHN0cmluZzpwaSxmb3JtYXR0ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1waShlKS5sZW5ndGg/W106SG4oZSl9LHJlc29sdmVkSW1hZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIDA9PT1waShlKS5sZW5ndGg/W106SG4oZSl9LHByb2plY3Rpb246ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnZhbHVlLHI9ZS5zdHlsZVNwZWMsbj1yLnByb2plY3Rpb24saT1lLnN0eWxlO2xldCBvPVtdO2NvbnN0IGE9QW4odCk7aWYoXCJvYmplY3RcIj09PWEpZm9yKGNvbnN0IGUgaW4gdClvPW8uY29uY2F0KHhpKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzpuW2VdLHN0eWxlOmksc3R5bGVTcGVjOnJ9KSk7ZWxzZVwic3RyaW5nXCIhPT1hJiYobz1vLmNvbmNhdChbbmV3IHFuKFwicHJvamVjdGlvblwiLHQsYG9iamVjdCBvciBzdHJpbmcgZXhwZWN0ZWQsICR7YX0gZm91bmRgKV0pKTtyZXR1cm4gb319O2Z1bmN0aW9uIHhpKGUpe2NvbnN0IHQ9ZS52YWx1ZSxyPWUudmFsdWVTcGVjLG49ZS5zdHlsZVNwZWM7cmV0dXJuIHIuZXhwcmVzc2lvbiYmSW4oSmUodCkpP1huKGUpOnIuZXhwcmVzc2lvbiYmRm4oUWUodCkpP0huKGUpOnIudHlwZSYmdmlbci50eXBlXT92aVtyLnR5cGVdKGUpOlpuKEtlKHt9LGUse3ZhbHVlU3BlYzpyLnR5cGU/bltyLnR5cGVdOnJ9KSl9ZnVuY3Rpb24gYmkoZSl7Y29uc3QgdD1lLnZhbHVlLHI9ZS5rZXksbj1waShlKTtyZXR1cm4gbi5sZW5ndGh8fCgtMT09PXQuaW5kZXhPZihcIntmb250c3RhY2t9XCIpJiZuLnB1c2gobmV3IHFuKHIsdCwnXCJnbHlwaHNcIiB1cmwgbXVzdCBpbmNsdWRlIGEgXCJ7Zm9udHN0YWNrfVwiIHRva2VuJykpLC0xPT09dC5pbmRleE9mKFwie3JhbmdlfVwiKSYmbi5wdXNoKG5ldyBxbihyLHQsJ1wiZ2x5cGhzXCIgdXJsIG11c3QgaW5jbHVkZSBhIFwie3JhbmdlfVwiIHRva2VuJykpKSxufWZ1bmN0aW9uIHdpKGUsdD1ZZSl7cmV0dXJuIFNpKHhpKHtrZXk6XCJcIix2YWx1ZTplLHZhbHVlU3BlYzp0LiRyb290LHN0eWxlU3BlYzp0LHN0eWxlOmUsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e2dseXBoczpiaSxcIipcIjooKT0+W119fSkpfWNvbnN0IFRpPWU9PlNpKHVpKGUpKSxFaT1lPT5TaShoaShlKSk7ZnVuY3Rpb24gU2koZSl7cmV0dXJuIGUuc2xpY2UoKS5zb3J0KChlLHQpPT5lLmxpbmUmJnQubGluZT9lLmxpbmUtdC5saW5lOjApfWZ1bmN0aW9uIENpKGUsdCl7bGV0IHI9ITE7aWYodCYmdC5sZW5ndGgpZm9yKGNvbnN0IG4gb2YgdCllLmZpcmUobmV3IFhlKG5ldyBFcnJvcihuLm1lc3NhZ2UpKSkscj0hMDtyZXR1cm4gcn12YXIgTWk9a2k7ZnVuY3Rpb24ga2koZSx0LHIpe3ZhciBuPXRoaXMuY2VsbHM9W107aWYoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKXt0aGlzLmFycmF5QnVmZmVyPWU7dmFyIGk9bmV3IEludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcik7ZT1pWzBdLHRoaXMuZD0odD1pWzFdKSsyKihyPWlbMl0pO2Zvcih2YXIgbz0wO288dGhpcy5kKnRoaXMuZDtvKyspe3ZhciBhPWlbMytvXSxzPWlbMytvKzFdO24ucHVzaChhPT09cz9udWxsOmkuc3ViYXJyYXkoYSxzKSl9dmFyIGw9aVszK24ubGVuZ3RoKzFdO3RoaXMua2V5cz1pLnN1YmFycmF5KGlbMytuLmxlbmd0aF0sbCksdGhpcy5iYm94ZXM9aS5zdWJhcnJheShsKSx0aGlzLmluc2VydD10aGlzLl9pbnNlcnRSZWFkb25seX1lbHNle3RoaXMuZD10KzIqcjtmb3IodmFyIGM9MDtjPHRoaXMuZCp0aGlzLmQ7YysrKW4ucHVzaChbXSk7dGhpcy5rZXlzPVtdLHRoaXMuYmJveGVzPVtdfXRoaXMubj10LHRoaXMuZXh0ZW50PWUsdGhpcy5wYWRkaW5nPXIsdGhpcy5zY2FsZT10L2UsdGhpcy51aWQ9MDt2YXIgdT1yL3QqZTt0aGlzLm1pbj0tdSx0aGlzLm1heD1lK3V9a2kucHJvdG90eXBlLmluc2VydD1mdW5jdGlvbihlLHQscixuLGkpe3RoaXMuX2ZvckVhY2hDZWxsKHQscixuLGksdGhpcy5faW5zZXJ0Q2VsbCx0aGlzLnVpZCsrKSx0aGlzLmtleXMucHVzaChlKSx0aGlzLmJib3hlcy5wdXNoKHQpLHRoaXMuYmJveGVzLnB1c2gociksdGhpcy5iYm94ZXMucHVzaChuKSx0aGlzLmJib3hlcy5wdXNoKGkpfSxraS5wcm90b3R5cGUuX2luc2VydFJlYWRvbmx5PWZ1bmN0aW9uKCl7dGhyb3dcIkNhbm5vdCBpbnNlcnQgaW50byBhIEdyaWRJbmRleCBjcmVhdGVkIGZyb20gYW4gQXJyYXlCdWZmZXIuXCJ9LGtpLnByb3RvdHlwZS5faW5zZXJ0Q2VsbD1mdW5jdGlvbihlLHQscixuLGksbyl7dGhpcy5jZWxsc1tpXS5wdXNoKG8pfSxraS5wcm90b3R5cGUucXVlcnk9ZnVuY3Rpb24oZSx0LHIsbixpKXt2YXIgbz10aGlzLm1pbixhPXRoaXMubWF4O2lmKGU8PW8mJnQ8PW8mJmE8PXImJmE8PW4mJiFpKXJldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0aGlzLmtleXMpO3ZhciBzPVtdO3JldHVybiB0aGlzLl9mb3JFYWNoQ2VsbChlLHQscixuLHRoaXMuX3F1ZXJ5Q2VsbCxzLHt9LGkpLHN9LGtpLnByb3RvdHlwZS5fcXVlcnlDZWxsPWZ1bmN0aW9uKGUsdCxyLG4saSxvLGEscyl7dmFyIGw9dGhpcy5jZWxsc1tpXTtpZihudWxsIT09bClmb3IodmFyIGM9dGhpcy5rZXlzLHU9dGhpcy5iYm94ZXMsaD0wO2g8bC5sZW5ndGg7aCsrKXt2YXIgZD1sW2hdO2lmKHZvaWQgMD09PWFbZF0pe3ZhciBwPTQqZDsocz9zKHVbcCswXSx1W3ArMV0sdVtwKzJdLHVbcCszXSk6ZTw9dVtwKzJdJiZ0PD11W3ArM10mJnI+PXVbcCswXSYmbj49dVtwKzFdKT8oYVtkXT0hMCxvLnB1c2goY1tkXSkpOmFbZF09ITF9fX0sa2kucHJvdG90eXBlLl9mb3JFYWNoQ2VsbD1mdW5jdGlvbihlLHQscixuLGksbyxhLHMpe2Zvcih2YXIgbD10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQoZSksYz10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQodCksdT10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQociksaD10aGlzLl9jb252ZXJ0VG9DZWxsQ29vcmQobiksZD1sO2Q8PXU7ZCsrKWZvcih2YXIgcD1jO3A8PWg7cCsrKXt2YXIgZj10aGlzLmQqcCtkO2lmKCghc3x8cyh0aGlzLl9jb252ZXJ0RnJvbUNlbGxDb29yZChkKSx0aGlzLl9jb252ZXJ0RnJvbUNlbGxDb29yZChwKSx0aGlzLl9jb252ZXJ0RnJvbUNlbGxDb29yZChkKzEpLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKHArMSkpKSYmaS5jYWxsKHRoaXMsZSx0LHIsbixmLG8sYSxzKSlyZXR1cm59fSxraS5wcm90b3R5cGUuX2NvbnZlcnRGcm9tQ2VsbENvb3JkPWZ1bmN0aW9uKGUpe3JldHVybihlLXRoaXMucGFkZGluZykvdGhpcy5zY2FsZX0sa2kucHJvdG90eXBlLl9jb252ZXJ0VG9DZWxsQ29vcmQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy5kLTEsTWF0aC5mbG9vcihlKnRoaXMuc2NhbGUpK3RoaXMucGFkZGluZykpfSxraS5wcm90b3R5cGUudG9BcnJheUJ1ZmZlcj1mdW5jdGlvbigpe2lmKHRoaXMuYXJyYXlCdWZmZXIpcmV0dXJuIHRoaXMuYXJyYXlCdWZmZXI7Zm9yKHZhciBlPXRoaXMuY2VsbHMsdD0zK3RoaXMuY2VsbHMubGVuZ3RoKzErMSxyPTAsbj0wO248dGhpcy5jZWxscy5sZW5ndGg7bisrKXIrPXRoaXMuY2VsbHNbbl0ubGVuZ3RoO3ZhciBpPW5ldyBJbnQzMkFycmF5KHQrcit0aGlzLmtleXMubGVuZ3RoK3RoaXMuYmJveGVzLmxlbmd0aCk7aVswXT10aGlzLmV4dGVudCxpWzFdPXRoaXMubixpWzJdPXRoaXMucGFkZGluZztmb3IodmFyIG89dCxhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBzPWVbYV07aVszK2FdPW8saS5zZXQocyxvKSxvKz1zLmxlbmd0aH1yZXR1cm4gaVszK2UubGVuZ3RoXT1vLGkuc2V0KHRoaXMua2V5cyxvKSxpWzMrZS5sZW5ndGgrMV09bys9dGhpcy5rZXlzLmxlbmd0aCxpLnNldCh0aGlzLmJib3hlcyxvKSxvKz10aGlzLmJib3hlcy5sZW5ndGgsaS5idWZmZXJ9O2NvbnN0IEFpPXt9O2Z1bmN0aW9uIElpKGUsdCxyPXt9KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9jbGFzc1JlZ2lzdHJ5S2V5XCIse3ZhbHVlOnQsd3JpdGVhYmxlOiExfSksQWlbdF09e2tsYXNzOmUsb21pdDpyLm9taXR8fFtdfX1JaShPYmplY3QsXCJPYmplY3RcIiksTWkuc2VyaWFsaXplPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1lLnRvQXJyYXlCdWZmZXIoKTtyZXR1cm4gdCYmdC5wdXNoKHIpLHtidWZmZXI6cn19LE1pLmRlc2VyaWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgTWkoZS5idWZmZXIpfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTWksXCJuYW1lXCIse3ZhbHVlOlwiR3JpZFwifSksSWkoTWksXCJHcmlkXCIpLElpKE10LFwiQ29sb3JcIiksSWkoRXJyb3IsXCJFcnJvclwiKSxJaShzZSxcIkFKQVhFcnJvclwiKSxJaShQdCxcIlJlc29sdmVkSW1hZ2VcIiksSWkoR24sXCJTdHlsZVByb3BlcnR5RnVuY3Rpb25cIiksSWkoQm4sXCJTdHlsZUV4cHJlc3Npb25cIix7b21pdDpbXCJfZXZhbHVhdG9yXCJdfSksSWkoTm4sXCJab29tRGVwZW5kZW50RXhwcmVzc2lvblwiKSxJaShVbixcIlpvb21Db25zdGFudEV4cHJlc3Npb25cIiksSWkoWXQsXCJDb21wb3VuZEV4cHJlc3Npb25cIix7b21pdDpbXCJfZXZhbHVhdGVcIl19KTtmb3IoY29uc3QgZSBpbiBUbilBaVtUbltlXS5fY2xhc3NSZWdpc3RyeUtleV18fElpKFRuW2VdLFwiRXhwcmVzc2lvblwiK2UpO2Z1bmN0aW9uIFBpKGUpe3JldHVybiBlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fGUuY29uc3RydWN0b3ImJlwiQXJyYXlCdWZmZXJcIj09PWUuY29uc3RydWN0b3IubmFtZSl9ZnVuY3Rpb24gemkoZSl7cmV0dXJuIHIuSW1hZ2VCaXRtYXAmJmUgaW5zdGFuY2VvZiByLkltYWdlQml0bWFwfWZ1bmN0aW9uIERpKGUsdCl7aWYobnVsbD09ZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBCb29sZWFufHxlIGluc3RhbmNlb2YgTnVtYmVyfHxlIGluc3RhbmNlb2YgU3RyaW5nfHxlIGluc3RhbmNlb2YgRGF0ZXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cClyZXR1cm4gZTtpZihQaShlKXx8emkoZSkpcmV0dXJuIHQmJnQucHVzaChlKSxlO2lmKEFycmF5QnVmZmVyLmlzVmlldyhlKSl7Y29uc3Qgcj1lO3JldHVybiB0JiZ0LnB1c2goci5idWZmZXIpLHJ9aWYoZSBpbnN0YW5jZW9mIHIuSW1hZ2VEYXRhKXJldHVybiB0JiZ0LnB1c2goZS5kYXRhLmJ1ZmZlciksZTtpZihBcnJheS5pc0FycmF5KGUpKXtjb25zdCByPVtdO2Zvcihjb25zdCBuIG9mIGUpci5wdXNoKERpKG4sdCkpO3JldHVybiByfWlmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtjb25zdCByPWUuY29uc3RydWN0b3Isbj1yLl9jbGFzc1JlZ2lzdHJ5S2V5O2lmKCFuKXRocm93IG5ldyBFcnJvcihcImNhbid0IHNlcmlhbGl6ZSBvYmplY3Qgb2YgdW5yZWdpc3RlcmVkIGNsYXNzIFwiK24pO2NvbnN0IGk9ci5zZXJpYWxpemU/ci5zZXJpYWxpemUoZSx0KTp7fTtpZighci5zZXJpYWxpemUpe2Zvcihjb25zdCByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKEFpW25dLm9taXQuaW5kZXhPZihyKT49MHx8KGlbcl09RGkoZVtyXSx0KSkpO2UgaW5zdGFuY2VvZiBFcnJvciYmKGkubWVzc2FnZT1lLm1lc3NhZ2UpfWlmKGkuJG5hbWUpdGhyb3cgbmV3IEVycm9yKFwiJG5hbWUgcHJvcGVydHkgaXMgcmVzZXJ2ZWQgZm9yIHdvcmtlciBzZXJpYWxpemF0aW9uIGxvZ2ljLlwiKTtyZXR1cm5cIk9iamVjdFwiIT09biYmKGkuJG5hbWU9biksaX10aHJvdyBuZXcgRXJyb3IoXCJjYW4ndCBzZXJpYWxpemUgb2JqZWN0IG9mIHR5cGUgXCIrdHlwZW9mIGUpfWZ1bmN0aW9uIFJpKGUpe2lmKG51bGw9PWV8fFwiYm9vbGVhblwiPT10eXBlb2YgZXx8XCJudW1iZXJcIj09dHlwZW9mIGV8fFwic3RyaW5nXCI9PXR5cGVvZiBlfHxlIGluc3RhbmNlb2YgQm9vbGVhbnx8ZSBpbnN0YW5jZW9mIE51bWJlcnx8ZSBpbnN0YW5jZW9mIFN0cmluZ3x8ZSBpbnN0YW5jZW9mIERhdGV8fGUgaW5zdGFuY2VvZiBSZWdFeHB8fFBpKGUpfHx6aShlKXx8QXJyYXlCdWZmZXIuaXNWaWV3KGUpfHxlIGluc3RhbmNlb2Ygci5JbWFnZURhdGEpcmV0dXJuIGU7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZS5tYXAoUmkpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlKXtjb25zdCB0PWUuJG5hbWV8fFwiT2JqZWN0XCIse2tsYXNzOnJ9PUFpW3RdO2lmKCFyKXRocm93IG5ldyBFcnJvcihcImNhbid0IGRlc2VyaWFsaXplIHVucmVnaXN0ZXJlZCBjbGFzcyBcIit0KTtpZihyLmRlc2VyaWFsaXplKXJldHVybiByLmRlc2VyaWFsaXplKGUpO2NvbnN0IG49T2JqZWN0LmNyZWF0ZShyLnByb3RvdHlwZSk7Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXMoZSkpXCIkbmFtZVwiIT09dCYmKG5bdF09UmkoZVt0XSkpO3JldHVybiBufXRocm93IG5ldyBFcnJvcihcImNhbid0IGRlc2VyaWFsaXplIG9iamVjdCBvZiB0eXBlIFwiK3R5cGVvZiBlKX1jbGFzcyBMaXtjb25zdHJ1Y3Rvcigpe3RoaXMuZmlyc3Q9ITB9dXBkYXRlKGUsdCl7Y29uc3Qgcj1NYXRoLmZsb29yKGUpO3JldHVybiB0aGlzLmZpcnN0Pyh0aGlzLmZpcnN0PSExLHRoaXMubGFzdEludGVnZXJab29tPXIsdGhpcy5sYXN0SW50ZWdlclpvb21UaW1lPTAsdGhpcy5sYXN0Wm9vbT1lLHRoaXMubGFzdEZsb29yWm9vbT1yLCEwKToodGhpcy5sYXN0Rmxvb3Jab29tPnI/KHRoaXMubGFzdEludGVnZXJab29tPXIrMSx0aGlzLmxhc3RJbnRlZ2VyWm9vbVRpbWU9dCk6dGhpcy5sYXN0Rmxvb3Jab29tPHImJih0aGlzLmxhc3RJbnRlZ2VyWm9vbT1yLHRoaXMubGFzdEludGVnZXJab29tVGltZT10KSxlIT09dGhpcy5sYXN0Wm9vbSYmKHRoaXMubGFzdFpvb209ZSx0aGlzLmxhc3RGbG9vclpvb209ciwhMCkpfX1jb25zdCBPaT1lPT5lPj0xNTM2JiZlPD0xNzkxLEJpPWU9PmU+PTE4NzImJmU8PTE5MTksRmk9ZT0+ZT49MjIwOCYmZTw9MjMwMyxqaT1lPT5lPj0xMTkwNCYmZTw9MTIwMzEsVWk9ZT0+ZT49MTIwMzImJmU8PTEyMjU1LE5pPWU9PmU+PTEyMjcyJiZlPD0xMjI4NyxWaT1lPT5lPj0xMjI4OCYmZTw9MTIzNTEsR2k9ZT0+ZT49MTIzNTImJmU8PTEyNDQ3LHFpPWU9PmU+PTEyNDQ4JiZlPD0xMjU0MyxaaT1lPT5lPj0xMjU0NCYmZTw9MTI1OTEsJGk9ZT0+ZT49MTI3MDQmJmU8PTEyNzM1LFdpPWU9PmU+PTEyNzM2JiZlPD0xMjc4MyxYaT1lPT5lPj0xMjc4NCYmZTw9MTI3OTksSGk9ZT0+ZT49MTI4MDAmJmU8PTEzMDU1LFlpPWU9PmU+PTEzMDU2JiZlPD0xMzMxMSxLaT1lPT5lPj0xMzMxMiYmZTw9MTk5MDMsSmk9ZT0+ZT49MTk5NjgmJmU8PTQwOTU5LFFpPWU9PmU+PTQwOTYwJiZlPD00MjEyNyxlbz1lPT5lPj00MjEyOCYmZTw9NDIxOTEsdG89ZT0+ZT49NDQwMzImJmU8PTU1MjE1LHJvPWU9PmU+PTYzNzQ0JiZlPD02NDI1NSxubz1lPT5lPj02NDMzNiYmZTw9NjUwMjMsaW89ZT0+ZT49NjUwNDAmJmU8PTY1MDU1LG9vPWU9PmU+PTY1MDcyJiZlPD02NTEwMyxhbz1lPT5lPj02NTEwNCYmZTw9NjUxMzUsc289ZT0+ZT49NjUxMzYmJmU8PTY1Mjc5LGxvPWU9PmU+PTY1MjgwJiZlPD02NTUxOTtmdW5jdGlvbiBjbyhlKXtmb3IoY29uc3QgdCBvZiBlKWlmKHBvKHQuY2hhckNvZGVBdCgwKSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gdW8oZSl7Zm9yKGNvbnN0IHQgb2YgZSlpZighaG8odC5jaGFyQ29kZUF0KDApKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBobyhlKXtyZXR1cm4hKE9pKGUpfHxCaShlKXx8RmkoZSl8fG5vKGUpfHxzbyhlKSl9ZnVuY3Rpb24gcG8oZSl7cmV0dXJuISg3NDYhPT1lJiY3NDchPT1lJiYoZTw0MzUyfHwhKCRpKGUpfHxaaShlKXx8b28oZSkmJiEoZT49NjUwOTcmJmU8PTY1MTAzKXx8cm8oZSl8fFlpKGUpfHxqaShlKXx8V2koZSl8fCEoIVZpKGUpfHxlPj0xMjI5NiYmZTw9MTIzMDV8fGU+PTEyMzA4JiZlPD0xMjMxOXx8MTIzMzY9PT1lKXx8S2koZSl8fEppKGUpfHxIaShlKXx8KGU9PmU+PTEyNTkyJiZlPD0xMjY4NykoZSl8fChlPT5lPj00MzM2MCYmZTw9NDMzOTEpKGUpfHwoZT0+ZT49NTUyMTYmJmU8PTU1Mjk1KShlKXx8KGU9PmU+PTQzNTImJmU8PTQ2MDcpKGUpfHx0byhlKXx8R2koZSl8fE5pKGUpfHwoZT0+ZT49MTI2ODgmJmU8PTEyNzAzKShlKXx8VWkoZSl8fFhpKGUpfHxxaShlKSYmMTI1NDAhPT1lfHwhKCFsbyhlKXx8NjUyODg9PT1lfHw2NTI4OT09PWV8fDY1MjkzPT09ZXx8ZT49NjUzMDYmJmU8PTY1MzEwfHw2NTMzOT09PWV8fDY1MzQxPT09ZXx8NjUzNDM9PT1lfHxlPj02NTM3MSYmZTw9NjU1MDN8fDY1NTA3PT09ZXx8ZT49NjU1MTImJmU8PTY1NTE5KXx8ISghYW8oZSl8fGU+PTY1MTEyJiZlPD02NTExOHx8ZT49NjUxMjMmJmU8PTY1MTI2KXx8KGU9PmU+PTUxMjAmJmU8PTU3NTkpKGUpfHwoZT0+ZT49NjMyMCYmZTw9NjM5OSkoZSl8fGlvKGUpfHwoZT0+ZT49MTk5MDQmJmU8PTE5OTY3KShlKXx8UWkoZSl8fGVvKGUpKSkpfWZ1bmN0aW9uIGZvKGUpe3JldHVybiEocG8oZSl8fGZ1bmN0aW9uKGUpe3JldHVybiEhKChlPT5lPj0xMjgmJmU8PTI1NSkoZSkmJigxNjc9PT1lfHwxNjk9PT1lfHwxNzQ9PT1lfHwxNzc9PT1lfHwxODg9PT1lfHwxODk9PT1lfHwxOTA9PT1lfHwyMTU9PT1lfHwyNDc9PT1lKXx8KGU9PmU+PTgxOTImJmU8PTgzMDMpKGUpJiYoODIxND09PWV8fDgyMjQ9PT1lfHw4MjI1PT09ZXx8ODI0MD09PWV8fDgyNDE9PT1lfHw4MjUxPT09ZXx8ODI1Mj09PWV8fDgyNTg9PT1lfHw4MjYzPT09ZXx8ODI2ND09PWV8fDgyNjU9PT1lfHw4MjczPT09ZSl8fChlPT5lPj04NDQ4JiZlPD04NTI3KShlKXx8KGU9PmU+PTg1MjgmJmU8PTg1OTEpKGUpfHwoZT0+ZT49ODk2MCYmZTw9OTIxNSkoZSkmJihlPj04OTYwJiZlPD04OTY3fHxlPj04OTcyJiZlPD04OTkxfHxlPj04OTk2JiZlPD05ZTN8fDkwMDM9PT1lfHxlPj05MDg1JiZlPD05MTE0fHxlPj05MTUwJiZlPD05MTY1fHw5MTY3PT09ZXx8ZT49OTE2OSYmZTw9OTE3OXx8ZT49OTE4NiYmZTw9OTIxNSl8fChlPT5lPj05MjE2JiZlPD05Mjc5KShlKSYmOTI1MSE9PWV8fChlPT5lPj05MjgwJiZlPD05MzExKShlKXx8KGU9PmU+PTkzMTImJmU8PTk0NzEpKGUpfHwoZT0+ZT49OTYzMiYmZTw9OTcyNykoZSl8fChlPT5lPj05NzI4JiZlPD05OTgzKShlKSYmIShlPj05NzU0JiZlPD05NzU5KXx8KGU9PmU+PTExMDA4JiZlPD0xMTI2MykoZSkmJihlPj0xMTAyNiYmZTw9MTEwNTV8fGU+PTExMDg4JiZlPD0xMTA5N3x8ZT49MTExOTImJmU8PTExMjQzKXx8VmkoZSl8fHFpKGUpfHwoZT0+ZT49NTczNDQmJmU8PTYzNzQzKShlKXx8b28oZSl8fGFvKGUpfHxsbyhlKXx8ODczND09PWV8fDg3NTY9PT1lfHw4NzU3PT09ZXx8ZT49OTk4NCYmZTw9MTAwODd8fGU+PTEwMTAyJiZlPD0xMDEzMXx8NjU1MzI9PT1lfHw2NTUzMz09PWUpfShlKSl9ZnVuY3Rpb24gbW8oZSl7cmV0dXJuIGU+PTE0MjQmJmU8PTIzMDN8fG5vKGUpfHxzbyhlKX1mdW5jdGlvbiBnbyhlLHQpe3JldHVybiEoIXQmJm1vKGUpfHxlPj0yMzA0JiZlPD0zNTgzfHxlPj0zODQwJiZlPD00MjU1fHwoZT0+ZT49NjAxNiYmZTw9NjE0MykoZSkpfWZ1bmN0aW9uIF9vKGUpe2Zvcihjb25zdCB0IG9mIGUpaWYobW8odC5jaGFyQ29kZUF0KDApKSlyZXR1cm4hMDtyZXR1cm4hMX1jb25zdCB5bz1cImRlZmVycmVkXCIsdm89XCJsb2FkaW5nXCIseG89XCJsb2FkZWRcIjtsZXQgYm89bnVsbCx3bz1cInVuYXZhaWxhYmxlXCIsVG89bnVsbDtjb25zdCBFbz1mdW5jdGlvbihlKXtlJiZcInN0cmluZ1wiPT10eXBlb2YgZSYmZS5pbmRleE9mKFwiTmV0d29ya0Vycm9yXCIpPi0xJiYod289XCJlcnJvclwiKSxibyYmYm8oZSl9O2Z1bmN0aW9uIFNvKCl7Q28uZmlyZShuZXcgV2UoXCJwbHVnaW5TdGF0ZUNoYW5nZVwiLHtwbHVnaW5TdGF0dXM6d28scGx1Z2luVVJMOlRvfSkpfWNvbnN0IENvPW5ldyBIZSxNbz1mdW5jdGlvbigpe3JldHVybiB3b30sa289ZnVuY3Rpb24oKXtpZih3byE9PXlvfHwhVG8pdGhyb3cgbmV3IEVycm9yKFwicnRsLXRleHQtcGx1Z2luIGNhbm5vdCBiZSBkb3dubG9hZGVkIHVubGVzcyBhIHBsdWdpblVSTCBpcyBzcGVjaWZpZWRcIik7d289dm8sU28oKSxUbyYmdWUoe3VybDpUb30sZT0+e2U/RW8oZSk6KHdvPXhvLFNvKCkpfSl9LEFvPXthcHBseUFyYWJpY1NoYXBpbmc6bnVsbCxwcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQ6bnVsbCxwcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQ6bnVsbCxpc0xvYWRlZDooKT0+d289PT14b3x8bnVsbCE9QW8uYXBwbHlBcmFiaWNTaGFwaW5nLGlzTG9hZGluZzooKT0+d289PT12byxzZXRTdGF0ZShlKXt3bz1lLnBsdWdpblN0YXR1cyxUbz1lLnBsdWdpblVSTH0saXNQYXJzZWQ6KCk9Pm51bGwhPUFvLmFwcGx5QXJhYmljU2hhcGluZyYmbnVsbCE9QW8ucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0JiZudWxsIT1Bby5wcm9jZXNzU3R5bGVkQmlkaXJlY3Rpb25hbFRleHQsZ2V0UGx1Z2luVVJMOigpPT5Ub307Y2xhc3MgSW97Y29uc3RydWN0b3IoZSx0KXt0aGlzLnpvb209ZSx0Pyh0aGlzLm5vdz10Lm5vdyx0aGlzLmZhZGVEdXJhdGlvbj10LmZhZGVEdXJhdGlvbix0aGlzLnpvb21IaXN0b3J5PXQuem9vbUhpc3RvcnksdGhpcy50cmFuc2l0aW9uPXQudHJhbnNpdGlvbix0aGlzLnBpdGNoPXQucGl0Y2gpOih0aGlzLm5vdz0wLHRoaXMuZmFkZUR1cmF0aW9uPTAsdGhpcy56b29tSGlzdG9yeT1uZXcgTGksdGhpcy50cmFuc2l0aW9uPXt9LHRoaXMucGl0Y2g9MCl9aXNTdXBwb3J0ZWRTY3JpcHQoZSl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKGNvbnN0IHIgb2YgZSlpZighZ28oci5jaGFyQ29kZUF0KDApLHQpKXJldHVybiExO3JldHVybiEwfShlLEFvLmlzTG9hZGVkKCkpfWNyb3NzRmFkaW5nRmFjdG9yKCl7cmV0dXJuIDA9PT10aGlzLmZhZGVEdXJhdGlvbj8xOk1hdGgubWluKCh0aGlzLm5vdy10aGlzLnpvb21IaXN0b3J5Lmxhc3RJbnRlZ2VyWm9vbVRpbWUpL3RoaXMuZmFkZUR1cmF0aW9uLDEpfWdldENyb3NzZmFkZVBhcmFtZXRlcnMoKXtjb25zdCBlPXRoaXMuem9vbSx0PWUtTWF0aC5mbG9vcihlKSxyPXRoaXMuY3Jvc3NGYWRpbmdGYWN0b3IoKTtyZXR1cm4gZT50aGlzLnpvb21IaXN0b3J5Lmxhc3RJbnRlZ2VyWm9vbT97ZnJvbVNjYWxlOjIsdG9TY2FsZToxLHQ6dCsoMS10KSpyfTp7ZnJvbVNjYWxlOi41LHRvU2NhbGU6MSx0OjEtKDEtcikqdH19fWNsYXNzIFBve2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wcm9wZXJ0eT1lLHRoaXMudmFsdWU9dCx0aGlzLmV4cHJlc3Npb249ZnVuY3Rpb24oZSx0KXtpZihJbihlKSlyZXR1cm4gbmV3IEduKGUsdCk7aWYoRm4oZSkpe2NvbnN0IHI9Vm4oZSx0KTtpZihcImVycm9yXCI9PT1yLnJlc3VsdCl0aHJvdyBuZXcgRXJyb3Ioci52YWx1ZS5tYXAoZT0+YCR7ZS5rZXl9OiAke2UubWVzc2FnZX1gKS5qb2luKFwiLCBcIikpO3JldHVybiByLnZhbHVlfXtsZXQgcj1lO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiZcImNvbG9yXCI9PT10LnR5cGUmJihyPU10LnBhcnNlKGUpKSx7a2luZDpcImNvbnN0YW50XCIsZXZhbHVhdGU6KCk9PnJ9fX0odm9pZCAwPT09dD9lLnNwZWNpZmljYXRpb24uZGVmYXVsdDp0LGUuc3BlY2lmaWNhdGlvbil9aXNEYXRhRHJpdmVuKCl7cmV0dXJuXCJzb3VyY2VcIj09PXRoaXMuZXhwcmVzc2lvbi5raW5kfHxcImNvbXBvc2l0ZVwiPT09dGhpcy5leHByZXNzaW9uLmtpbmR9cG9zc2libHlFdmFsdWF0ZShlLHQscil7cmV0dXJuIHRoaXMucHJvcGVydHkucG9zc2libHlFdmFsdWF0ZSh0aGlzLGUsdCxyKX19Y2xhc3Mgem97Y29uc3RydWN0b3IoZSl7dGhpcy5wcm9wZXJ0eT1lLHRoaXMudmFsdWU9bmV3IFBvKGUsdm9pZCAwKX10cmFuc2l0aW9uZWQoZSx0KXtyZXR1cm4gbmV3IFJvKHRoaXMucHJvcGVydHksdGhpcy52YWx1ZSx0LEkoe30sZS50cmFuc2l0aW9uLHRoaXMudHJhbnNpdGlvbiksZS5ub3cpfXVudHJhbnNpdGlvbmVkKCl7cmV0dXJuIG5ldyBSbyh0aGlzLnByb3BlcnR5LHRoaXMudmFsdWUsbnVsbCx7fSwwKX19Y2xhc3MgRG97Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJvcGVydGllcz1lLHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKGUuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXMpfWdldFZhbHVlKGUpe3JldHVybiBVKHRoaXMuX3ZhbHVlc1tlXS52YWx1ZS52YWx1ZSl9c2V0VmFsdWUoZSx0KXt0aGlzLl92YWx1ZXMuaGFzT3duUHJvcGVydHkoZSl8fCh0aGlzLl92YWx1ZXNbZV09bmV3IHpvKHRoaXMuX3ZhbHVlc1tlXS5wcm9wZXJ0eSkpLHRoaXMuX3ZhbHVlc1tlXS52YWx1ZT1uZXcgUG8odGhpcy5fdmFsdWVzW2VdLnByb3BlcnR5LG51bGw9PT10P3ZvaWQgMDpVKHQpKX1nZXRUcmFuc2l0aW9uKGUpe3JldHVybiBVKHRoaXMuX3ZhbHVlc1tlXS50cmFuc2l0aW9uKX1zZXRUcmFuc2l0aW9uKGUsdCl7dGhpcy5fdmFsdWVzLmhhc093blByb3BlcnR5KGUpfHwodGhpcy5fdmFsdWVzW2VdPW5ldyB6byh0aGlzLl92YWx1ZXNbZV0ucHJvcGVydHkpKSx0aGlzLl92YWx1ZXNbZV0udHJhbnNpdGlvbj1VKHQpfHx2b2lkIDB9c2VyaWFsaXplKCl7Y29uc3QgZT17fTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKXtjb25zdCByPXRoaXMuZ2V0VmFsdWUodCk7dm9pZCAwIT09ciYmKGVbdF09cik7Y29uc3Qgbj10aGlzLmdldFRyYW5zaXRpb24odCk7dm9pZCAwIT09biYmKGVbdCtcIi10cmFuc2l0aW9uXCJdPW4pfXJldHVybiBlfXRyYW5zaXRpb25lZChlLHQpe2NvbnN0IHI9bmV3IExvKHRoaXMuX3Byb3BlcnRpZXMpO2Zvcihjb25zdCBuIG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpci5fdmFsdWVzW25dPXRoaXMuX3ZhbHVlc1tuXS50cmFuc2l0aW9uZWQoZSx0Ll92YWx1ZXNbbl0pO3JldHVybiByfXVudHJhbnNpdGlvbmVkKCl7Y29uc3QgZT1uZXcgTG8odGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSllLl92YWx1ZXNbdF09dGhpcy5fdmFsdWVzW3RdLnVudHJhbnNpdGlvbmVkKCk7cmV0dXJuIGV9fWNsYXNzIFJve2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7Y29uc3Qgbz1uLmRlbGF5fHwwLGE9bi5kdXJhdGlvbnx8MDtpPWl8fDAsdGhpcy5wcm9wZXJ0eT1lLHRoaXMudmFsdWU9dCx0aGlzLmJlZ2luPWkrbyx0aGlzLmVuZD10aGlzLmJlZ2luK2EsZS5zcGVjaWZpY2F0aW9uLnRyYW5zaXRpb24mJihuLmRlbGF5fHxuLmR1cmF0aW9uKSYmKHRoaXMucHJpb3I9cil9cG9zc2libHlFdmFsdWF0ZShlLHQscil7Y29uc3Qgbj1lLm5vd3x8MCxpPXRoaXMudmFsdWUucG9zc2libHlFdmFsdWF0ZShlLHQsciksbz10aGlzLnByaW9yO2lmKG8pe2lmKG4+dGhpcy5lbmQpcmV0dXJuIHRoaXMucHJpb3I9bnVsbCxpO2lmKHRoaXMudmFsdWUuaXNEYXRhRHJpdmVuKCkpcmV0dXJuIHRoaXMucHJpb3I9bnVsbCxpO2lmKG48dGhpcy5iZWdpbilyZXR1cm4gby5wb3NzaWJseUV2YWx1YXRlKGUsdCxyKTt7Y29uc3QgYT0obi10aGlzLmJlZ2luKS8odGhpcy5lbmQtdGhpcy5iZWdpbik7cmV0dXJuIHRoaXMucHJvcGVydHkuaW50ZXJwb2xhdGUoby5wb3NzaWJseUV2YWx1YXRlKGUsdCxyKSxpLHcoYSkpfX1yZXR1cm4gaX19Y2xhc3MgTG97Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJvcGVydGllcz1lLHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKGUuZGVmYXVsdFRyYW5zaXRpb25pbmdQcm9wZXJ0eVZhbHVlcyl9cG9zc2libHlFdmFsdWF0ZShlLHQscil7Y29uc3Qgbj1uZXcgRm8odGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IGkgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSluLl92YWx1ZXNbaV09dGhpcy5fdmFsdWVzW2ldLnBvc3NpYmx5RXZhbHVhdGUoZSx0LHIpO3JldHVybiBufWhhc1RyYW5zaXRpb24oKXtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKWlmKHRoaXMuX3ZhbHVlc1tlXS5wcmlvcilyZXR1cm4hMDtyZXR1cm4hMX19Y2xhc3MgT297Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJvcGVydGllcz1lLHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKGUuZGVmYXVsdFByb3BlcnR5VmFsdWVzKX1nZXRWYWx1ZShlKXtyZXR1cm4gVSh0aGlzLl92YWx1ZXNbZV0udmFsdWUpfXNldFZhbHVlKGUsdCl7dGhpcy5fdmFsdWVzW2VdPW5ldyBQbyh0aGlzLl92YWx1ZXNbZV0ucHJvcGVydHksbnVsbD09PXQ/dm9pZCAwOlUodCkpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e307Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSl7Y29uc3Qgcj10aGlzLmdldFZhbHVlKHQpO3ZvaWQgMCE9PXImJihlW3RdPXIpfXJldHVybiBlfXBvc3NpYmx5RXZhbHVhdGUoZSx0LHIpe2NvbnN0IG49bmV3IEZvKHRoaXMuX3Byb3BlcnRpZXMpO2Zvcihjb25zdCBpIG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpbi5fdmFsdWVzW2ldPXRoaXMuX3ZhbHVlc1tpXS5wb3NzaWJseUV2YWx1YXRlKGUsdCxyKTtyZXR1cm4gbn19Y2xhc3MgQm97Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMucHJvcGVydHk9ZSx0aGlzLnZhbHVlPXQsdGhpcy5wYXJhbWV0ZXJzPXJ9aXNDb25zdGFudCgpe3JldHVyblwiY29uc3RhbnRcIj09PXRoaXMudmFsdWUua2luZH1jb25zdGFudE9yKGUpe3JldHVyblwiY29uc3RhbnRcIj09PXRoaXMudmFsdWUua2luZD90aGlzLnZhbHVlLnZhbHVlOmV9ZXZhbHVhdGUoZSx0LHIsbil7cmV0dXJuIHRoaXMucHJvcGVydHkuZXZhbHVhdGUodGhpcy52YWx1ZSx0aGlzLnBhcmFtZXRlcnMsZSx0LHIsbil9fWNsYXNzIEZve2NvbnN0cnVjdG9yKGUpe3RoaXMuX3Byb3BlcnRpZXM9ZSx0aGlzLl92YWx1ZXM9T2JqZWN0LmNyZWF0ZShlLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlcyl9Z2V0KGUpe3JldHVybiB0aGlzLl92YWx1ZXNbZV19fWNsYXNzIGpve2NvbnN0cnVjdG9yKGUpe3RoaXMuc3BlY2lmaWNhdGlvbj1lfXBvc3NpYmx5RXZhbHVhdGUoZSx0KXtyZXR1cm4gZS5leHByZXNzaW9uLmV2YWx1YXRlKHQpfWludGVycG9sYXRlKGUsdCxyKXtjb25zdCBuPU1yW3RoaXMuc3BlY2lmaWNhdGlvbi50eXBlXTtyZXR1cm4gbj9uKGUsdCxyKTplfX1jbGFzcyBVb3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuc3BlY2lmaWNhdGlvbj1lLHRoaXMub3ZlcnJpZGVzPXR9cG9zc2libHlFdmFsdWF0ZShlLHQscixuKXtyZXR1cm4gbmV3IEJvKHRoaXMsXCJjb25zdGFudFwiPT09ZS5leHByZXNzaW9uLmtpbmR8fFwiY2FtZXJhXCI9PT1lLmV4cHJlc3Npb24ua2luZD97a2luZDpcImNvbnN0YW50XCIsdmFsdWU6ZS5leHByZXNzaW9uLmV2YWx1YXRlKHQsbnVsbCx7fSxyLG4pfTplLmV4cHJlc3Npb24sdCl9aW50ZXJwb2xhdGUoZSx0LHIpe2lmKFwiY29uc3RhbnRcIiE9PWUudmFsdWUua2luZHx8XCJjb25zdGFudFwiIT09dC52YWx1ZS5raW5kKXJldHVybiBlO2lmKHZvaWQgMD09PWUudmFsdWUudmFsdWV8fHZvaWQgMD09PXQudmFsdWUudmFsdWUpcmV0dXJuIG5ldyBCbyh0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTp2b2lkIDB9LGUucGFyYW1ldGVycyk7Y29uc3Qgbj1Nclt0aGlzLnNwZWNpZmljYXRpb24udHlwZV07cmV0dXJuIG4/bmV3IEJvKHRoaXMse2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOm4oZS52YWx1ZS52YWx1ZSx0LnZhbHVlLnZhbHVlLHIpfSxlLnBhcmFtZXRlcnMpOmV9ZXZhbHVhdGUoZSx0LHIsbixpLG8pe3JldHVyblwiY29uc3RhbnRcIj09PWUua2luZD9lLnZhbHVlOmUuZXZhbHVhdGUodCxyLG4saSxvKX19Y2xhc3MgTm8gZXh0ZW5kcyBVb3twb3NzaWJseUV2YWx1YXRlKGUsdCxyLG4pe2lmKHZvaWQgMD09PWUudmFsdWUpcmV0dXJuIG5ldyBCbyh0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTp2b2lkIDB9LHQpO2lmKFwiY29uc3RhbnRcIj09PWUuZXhwcmVzc2lvbi5raW5kKXtjb25zdCBpPWUuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0LG51bGwse30scixuKSxvPVwicmVzb2x2ZWRJbWFnZVwiPT09ZS5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uLnR5cGUmJlwic3RyaW5nXCIhPXR5cGVvZiBpP2kubmFtZTppLGE9dGhpcy5fY2FsY3VsYXRlKG8sbyxvLHQpO3JldHVybiBuZXcgQm8odGhpcyx7a2luZDpcImNvbnN0YW50XCIsdmFsdWU6YX0sdCl9aWYoXCJjYW1lcmFcIj09PWUuZXhwcmVzc2lvbi5raW5kKXtjb25zdCByPXRoaXMuX2NhbGN1bGF0ZShlLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206dC56b29tLTF9KSxlLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206dC56b29tfSksZS5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOnQuem9vbSsxfSksdCk7cmV0dXJuIG5ldyBCbyh0aGlzLHtraW5kOlwiY29uc3RhbnRcIix2YWx1ZTpyfSx0KX1yZXR1cm4gbmV3IEJvKHRoaXMsZS5leHByZXNzaW9uLHQpfWV2YWx1YXRlKGUsdCxyLG4saSxvKXtpZihcInNvdXJjZVwiPT09ZS5raW5kKXtjb25zdCBhPWUuZXZhbHVhdGUodCxyLG4saSxvKTtyZXR1cm4gdGhpcy5fY2FsY3VsYXRlKGEsYSxhLHQpfXJldHVyblwiY29tcG9zaXRlXCI9PT1lLmtpbmQ/dGhpcy5fY2FsY3VsYXRlKGUuZXZhbHVhdGUoe3pvb206TWF0aC5mbG9vcih0Lnpvb20pLTF9LHIsbiksZS5ldmFsdWF0ZSh7em9vbTpNYXRoLmZsb29yKHQuem9vbSl9LHIsbiksZS5ldmFsdWF0ZSh7em9vbTpNYXRoLmZsb29yKHQuem9vbSkrMX0scixuKSx0KTplLnZhbHVlfV9jYWxjdWxhdGUoZSx0LHIsbil7cmV0dXJuIG4uem9vbT5uLnpvb21IaXN0b3J5Lmxhc3RJbnRlZ2VyWm9vbT97ZnJvbTplLHRvOnQsb3RoZXI6cn06e2Zyb206cix0bzp0LG90aGVyOmV9fWludGVycG9sYXRlKGUpe3JldHVybiBlfX1jbGFzcyBWb3tjb25zdHJ1Y3RvcihlKXt0aGlzLnNwZWNpZmljYXRpb249ZX1wb3NzaWJseUV2YWx1YXRlKGUsdCxyLG4pe2lmKHZvaWQgMCE9PWUudmFsdWUpe2lmKFwiY29uc3RhbnRcIj09PWUuZXhwcmVzc2lvbi5raW5kKXtjb25zdCBpPWUuZXhwcmVzc2lvbi5ldmFsdWF0ZSh0LG51bGwse30scixuKTtyZXR1cm4gdGhpcy5fY2FsY3VsYXRlKGksaSxpLHQpfXJldHVybiB0aGlzLl9jYWxjdWxhdGUoZS5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBJbyhNYXRoLmZsb29yKHQuem9vbS0xKSx0KSksZS5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBJbyhNYXRoLmZsb29yKHQuem9vbSksdCkpLGUuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgSW8oTWF0aC5mbG9vcih0Lnpvb20rMSksdCkpLHQpfX1fY2FsY3VsYXRlKGUsdCxyLG4pe3JldHVybiBuLnpvb20+bi56b29tSGlzdG9yeS5sYXN0SW50ZWdlclpvb20/e2Zyb206ZSx0bzp0fTp7ZnJvbTpyLHRvOnR9fWludGVycG9sYXRlKGUpe3JldHVybiBlfX1jbGFzcyBHb3tjb25zdHJ1Y3RvcihlKXt0aGlzLnNwZWNpZmljYXRpb249ZX1wb3NzaWJseUV2YWx1YXRlKGUsdCxyLG4pe3JldHVybiEhZS5leHByZXNzaW9uLmV2YWx1YXRlKHQsbnVsbCx7fSxyLG4pfWludGVycG9sYXRlKCl7cmV0dXJuITF9fWNsYXNzIHFve2NvbnN0cnVjdG9yKGUpe3RoaXMucHJvcGVydGllcz1lLHRoaXMuZGVmYXVsdFByb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXM9e30sdGhpcy5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFBvc3NpYmx5RXZhbHVhdGVkVmFsdWVzPXt9LHRoaXMub3ZlcnJpZGFibGVQcm9wZXJ0aWVzPVtdO2NvbnN0IHQ9bmV3IElvKDAse30pO2Zvcihjb25zdCByIGluIGUpe2NvbnN0IG49ZVtyXTtuLnNwZWNpZmljYXRpb24ub3ZlcnJpZGFibGUmJnRoaXMub3ZlcnJpZGFibGVQcm9wZXJ0aWVzLnB1c2gocik7Y29uc3QgaT10aGlzLmRlZmF1bHRQcm9wZXJ0eVZhbHVlc1tyXT1uZXcgUG8obix2b2lkIDApLG89dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmFibGVQcm9wZXJ0eVZhbHVlc1tyXT1uZXcgem8obik7dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzW3JdPW8udW50cmFuc2l0aW9uZWQoKSx0aGlzLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlc1tyXT1pLnBvc3NpYmx5RXZhbHVhdGUodCl9fX1mdW5jdGlvbiBabyhlLHQpe3JldHVybiAyNTYqKGU9UyhNYXRoLmZsb29yKGUpLDAsMjU1KSkrUyhNYXRoLmZsb29yKHQpLDAsMjU1KX1JaShVbyxcIkRhdGFEcml2ZW5Qcm9wZXJ0eVwiKSxJaShqbyxcIkRhdGFDb25zdGFudFByb3BlcnR5XCIpLElpKE5vLFwiQ3Jvc3NGYWRlZERhdGFEcml2ZW5Qcm9wZXJ0eVwiKSxJaShWbyxcIkNyb3NzRmFkZWRQcm9wZXJ0eVwiKSxJaShHbyxcIkNvbG9yUmFtcFByb3BlcnR5XCIpO2NvbnN0ICRvPXtJbnQ4OkludDhBcnJheSxVaW50ODpVaW50OEFycmF5LEludDE2OkludDE2QXJyYXksVWludDE2OlVpbnQxNkFycmF5LEludDMyOkludDMyQXJyYXksVWludDMyOlVpbnQzMkFycmF5LEZsb2F0MzI6RmxvYXQzMkFycmF5fTtjbGFzcyBXb3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX3N0cnVjdEFycmF5PWUsdGhpcy5fcG9zMT10KnRoaXMuc2l6ZSx0aGlzLl9wb3MyPXRoaXMuX3BvczEvMix0aGlzLl9wb3M0PXRoaXMuX3BvczEvNCx0aGlzLl9wb3M4PXRoaXMuX3BvczEvOH19Y2xhc3MgWG97Y29uc3RydWN0b3IoKXt0aGlzLmlzVHJhbnNmZXJyZWQ9ITEsdGhpcy5jYXBhY2l0eT0tMSx0aGlzLnJlc2l6ZSgwKX1zdGF0aWMgc2VyaWFsaXplKGUsdCl7cmV0dXJuIGUuX3RyaW0oKSx0JiYoZS5pc1RyYW5zZmVycmVkPSEwLHQucHVzaChlLmFycmF5QnVmZmVyKSkse2xlbmd0aDplLmxlbmd0aCxhcnJheUJ1ZmZlcjplLmFycmF5QnVmZmVyfX1zdGF0aWMgZGVzZXJpYWxpemUoZSl7Y29uc3QgdD1PYmplY3QuY3JlYXRlKHRoaXMucHJvdG90eXBlKTtyZXR1cm4gdC5hcnJheUJ1ZmZlcj1lLmFycmF5QnVmZmVyLHQubGVuZ3RoPWUubGVuZ3RoLHQuY2FwYWNpdHk9ZS5hcnJheUJ1ZmZlci5ieXRlTGVuZ3RoL3QuYnl0ZXNQZXJFbGVtZW50LHQuX3JlZnJlc2hWaWV3cygpLHR9X3RyaW0oKXt0aGlzLmxlbmd0aCE9PXRoaXMuY2FwYWNpdHkmJih0aGlzLmNhcGFjaXR5PXRoaXMubGVuZ3RoLHRoaXMuYXJyYXlCdWZmZXI9dGhpcy5hcnJheUJ1ZmZlci5zbGljZSgwLHRoaXMubGVuZ3RoKnRoaXMuYnl0ZXNQZXJFbGVtZW50KSx0aGlzLl9yZWZyZXNoVmlld3MoKSl9Y2xlYXIoKXt0aGlzLmxlbmd0aD0wfXJlc2l6ZShlKXt0aGlzLnJlc2VydmUoZSksdGhpcy5sZW5ndGg9ZX1yZXNlcnZlKGUpe2lmKGU+dGhpcy5jYXBhY2l0eSl7dGhpcy5jYXBhY2l0eT1NYXRoLm1heChlLE1hdGguZmxvb3IoNSp0aGlzLmNhcGFjaXR5KSwxMjgpLHRoaXMuYXJyYXlCdWZmZXI9bmV3IEFycmF5QnVmZmVyKHRoaXMuY2FwYWNpdHkqdGhpcy5ieXRlc1BlckVsZW1lbnQpO2NvbnN0IHQ9dGhpcy51aW50ODt0aGlzLl9yZWZyZXNoVmlld3MoKSx0JiZ0aGlzLnVpbnQ4LnNldCh0KX19X3JlZnJlc2hWaWV3cygpe3Rocm93IG5ldyBFcnJvcihcIl9yZWZyZXNoVmlld3MoKSBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IGVhY2ggY29uY3JldGUgU3RydWN0QXJyYXkgbGF5b3V0XCIpfWRlc3Ryb3koKXt0aGlzLmludDg9dGhpcy51aW50OD10aGlzLmludDE2PXRoaXMudWludDE2PXRoaXMuaW50MzI9dGhpcy51aW50MzI9dGhpcy5mbG9hdDMyPW51bGwsdGhpcy5hcnJheUJ1ZmZlcj1udWxsfX1mdW5jdGlvbiBIbyhlLHQ9MSl7bGV0IHI9MCxuPTA7cmV0dXJue21lbWJlcnM6ZS5tYXAoZT0+e2NvbnN0IGk9JG9bZS50eXBlXS5CWVRFU19QRVJfRUxFTUVOVCxvPXI9WW8ocixNYXRoLm1heCh0LGkpKSxhPWUuY29tcG9uZW50c3x8MTtyZXR1cm4gbj1NYXRoLm1heChuLGkpLHIrPWkqYSx7bmFtZTplLm5hbWUsdHlwZTplLnR5cGUsY29tcG9uZW50czphLG9mZnNldDpvfX0pLHNpemU6WW8ocixNYXRoLm1heChuLHQpKSxhbGlnbm1lbnQ6dH19ZnVuY3Rpb24gWW8oZSx0KXtyZXR1cm4gTWF0aC5jZWlsKGUvdCkqdH1jbGFzcyBLbyBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0KXtjb25zdCByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLGUsdCl9ZW1wbGFjZShlLHQscil7Y29uc3Qgbj0yKmU7cmV0dXJuIHRoaXMuaW50MTZbbiswXT10LHRoaXMuaW50MTZbbisxXT1yLGV9fUtvLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCxJaShLbyxcIlN0cnVjdEFycmF5TGF5b3V0Mmk0XCIpO2NsYXNzIEpvIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQscil7Y29uc3Qgbj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobisxKSx0aGlzLmVtcGxhY2UobixlLHQscil9ZW1wbGFjZShlLHQscixuKXtjb25zdCBpPTMqZTtyZXR1cm4gdGhpcy5pbnQxNltpKzBdPXQsdGhpcy5pbnQxNltpKzFdPXIsdGhpcy5pbnQxNltpKzJdPW4sZX19Sm8ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD02LElpKEpvLFwiU3RydWN0QXJyYXlMYXlvdXQzaTZcIik7Y2xhc3MgUW8gZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyLG4pe2NvbnN0IGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksZSx0LHIsbil9ZW1wbGFjZShlLHQscixuLGkpe2NvbnN0IG89NCplO3JldHVybiB0aGlzLmludDE2W28rMF09dCx0aGlzLmludDE2W28rMV09cix0aGlzLmludDE2W28rMl09bix0aGlzLmludDE2W28rM109aSxlfX1Rby5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTgsSWkoUW8sXCJTdHJ1Y3RBcnJheUxheW91dDRpOFwiKTtjbGFzcyBlYSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIsbixpLG8sYSl7Y29uc3Qgcz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocysxKSx0aGlzLmVtcGxhY2UocyxlLHQscixuLGksbyxhKX1lbXBsYWNlKGUsdCxyLG4saSxvLGEscyl7Y29uc3QgbD02KmUsYz0xMiplLHU9MyplO3JldHVybiB0aGlzLmludDE2W2wrMF09dCx0aGlzLmludDE2W2wrMV09cix0aGlzLnVpbnQ4W2MrNF09bix0aGlzLnVpbnQ4W2MrNV09aSx0aGlzLnVpbnQ4W2MrNl09byx0aGlzLnVpbnQ4W2MrN109YSx0aGlzLmZsb2F0MzJbdSsyXT1zLGV9fWVhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsSWkoZWEsXCJTdHJ1Y3RBcnJheUxheW91dDJpNHViMWYxMlwiKTtjbGFzcyB0YSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyLG4pe2NvbnN0IGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksZSx0LHIsbil9ZW1wbGFjZShlLHQscixuLGkpe2NvbnN0IG89NCplO3JldHVybiB0aGlzLmZsb2F0MzJbbyswXT10LHRoaXMuZmxvYXQzMltvKzFdPXIsdGhpcy5mbG9hdDMyW28rMl09bix0aGlzLmZsb2F0MzJbbyszXT1pLGV9fXRhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTYsSWkodGEsXCJTdHJ1Y3RBcnJheUxheW91dDRmMTZcIik7Y2xhc3MgcmEgZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIsbixpLG8sYSxzLGwsYyl7Y29uc3QgdT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUodSsxKSx0aGlzLmVtcGxhY2UodSxlLHQscixuLGksbyxhLHMsbCxjKX1lbXBsYWNlKGUsdCxyLG4saSxvLGEscyxsLGMsdSl7Y29uc3QgaD0xMCplO3JldHVybiB0aGlzLnVpbnQxNltoKzBdPXQsdGhpcy51aW50MTZbaCsxXT1yLHRoaXMudWludDE2W2grMl09bix0aGlzLnVpbnQxNltoKzNdPWksdGhpcy51aW50MTZbaCs0XT1vLHRoaXMudWludDE2W2grNV09YSx0aGlzLnVpbnQxNltoKzZdPXMsdGhpcy51aW50MTZbaCs3XT1sLHRoaXMudWludDE2W2grOF09Yyx0aGlzLnVpbnQxNltoKzldPXUsZX19cmEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yMCxJaShyYSxcIlN0cnVjdEFycmF5TGF5b3V0MTB1aTIwXCIpO2NsYXNzIG5hIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyLG4saSxvLGEscyl7Y29uc3QgbD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobCsxKSx0aGlzLmVtcGxhY2UobCxlLHQscixuLGksbyxhLHMpfWVtcGxhY2UoZSx0LHIsbixpLG8sYSxzLGwpe2NvbnN0IGM9OCplO3JldHVybiB0aGlzLnVpbnQxNltjKzBdPXQsdGhpcy51aW50MTZbYysxXT1yLHRoaXMudWludDE2W2MrMl09bix0aGlzLnVpbnQxNltjKzNdPWksdGhpcy51aW50MTZbYys0XT1vLHRoaXMudWludDE2W2MrNV09YSx0aGlzLnVpbnQxNltjKzZdPXMsdGhpcy51aW50MTZbYys3XT1sLGV9fW5hLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTYsSWkobmEsXCJTdHJ1Y3RBcnJheUxheW91dDh1aTE2XCIpO2NsYXNzIGlhIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQscixuLGksbyl7Y29uc3QgYT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYSsxKSx0aGlzLmVtcGxhY2UoYSxlLHQscixuLGksbyl9ZW1wbGFjZShlLHQscixuLGksbyxhKXtjb25zdCBzPTYqZTtyZXR1cm4gdGhpcy5pbnQxNltzKzBdPXQsdGhpcy5pbnQxNltzKzFdPXIsdGhpcy5pbnQxNltzKzJdPW4sdGhpcy5pbnQxNltzKzNdPWksdGhpcy5pbnQxNltzKzRdPW8sdGhpcy5pbnQxNltzKzVdPWEsZX19aWEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixJaShpYSxcIlN0cnVjdEFycmF5TGF5b3V0NmkxMlwiKTtjbGFzcyBvYSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyLG4saSxvLGEscyxsLGMsdSxoKXtjb25zdCBkPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShkKzEpLHRoaXMuZW1wbGFjZShkLGUsdCxyLG4saSxvLGEscyxsLGMsdSxoKX1lbXBsYWNlKGUsdCxyLG4saSxvLGEscyxsLGMsdSxoLGQpe2NvbnN0IHA9MTIqZTtyZXR1cm4gdGhpcy5pbnQxNltwKzBdPXQsdGhpcy5pbnQxNltwKzFdPXIsdGhpcy5pbnQxNltwKzJdPW4sdGhpcy5pbnQxNltwKzNdPWksdGhpcy51aW50MTZbcCs0XT1vLHRoaXMudWludDE2W3ArNV09YSx0aGlzLnVpbnQxNltwKzZdPXMsdGhpcy51aW50MTZbcCs3XT1sLHRoaXMuaW50MTZbcCs4XT1jLHRoaXMuaW50MTZbcCs5XT11LHRoaXMuaW50MTZbcCsxMF09aCx0aGlzLmludDE2W3ArMTFdPWQsZX19b2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0yNCxJaShvYSxcIlN0cnVjdEFycmF5TGF5b3V0NGk0dWk0aTI0XCIpO2NsYXNzIGFhIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQscixuLGksbyl7Y29uc3QgYT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoYSsxKSx0aGlzLmVtcGxhY2UoYSxlLHQscixuLGksbyl9ZW1wbGFjZShlLHQscixuLGksbyxhKXtjb25zdCBzPTEwKmUsbD01KmU7cmV0dXJuIHRoaXMuaW50MTZbcyswXT10LHRoaXMuaW50MTZbcysxXT1yLHRoaXMuaW50MTZbcysyXT1uLHRoaXMuZmxvYXQzMltsKzJdPWksdGhpcy5mbG9hdDMyW2wrM109byx0aGlzLmZsb2F0MzJbbCs0XT1hLGV9fWFhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjAsSWkoYWEsXCJTdHJ1Y3RBcnJheUxheW91dDNpM2YyMFwiKTtjbGFzcyBzYSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlKXtjb25zdCB0PXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZSh0KzEpLHRoaXMuZW1wbGFjZSh0LGUpfWVtcGxhY2UoZSx0KXtyZXR1cm4gdGhpcy51aW50MzJbMSplKzBdPXQsZX19c2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LElpKHNhLFwiU3RydWN0QXJyYXlMYXlvdXQxdWw0XCIpO2NsYXNzIGxhIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyLG4saSxvLGEscyxsLGMsdSxoLGQpe2NvbnN0IHA9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHArMSksdGhpcy5lbXBsYWNlKHAsZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCl9ZW1wbGFjZShlLHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHApe2NvbnN0IGY9MjAqZSxtPTEwKmU7cmV0dXJuIHRoaXMuaW50MTZbZiswXT10LHRoaXMuaW50MTZbZisxXT1yLHRoaXMuaW50MTZbZisyXT1uLHRoaXMuaW50MTZbZiszXT1pLHRoaXMuaW50MTZbZis0XT1vLHRoaXMuZmxvYXQzMlttKzNdPWEsdGhpcy5mbG9hdDMyW20rNF09cyx0aGlzLmZsb2F0MzJbbSs1XT1sLHRoaXMuZmxvYXQzMlttKzZdPWMsdGhpcy5pbnQxNltmKzE0XT11LHRoaXMudWludDMyW20rOF09aCx0aGlzLnVpbnQxNltmKzE4XT1kLHRoaXMudWludDE2W2YrMTldPXAsZX19bGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00MCxJaShsYSxcIlN0cnVjdEFycmF5TGF5b3V0NWk0ZjFpMXVsMnVpNDBcIik7Y2xhc3MgY2EgZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyLG4saSxvLGEpe2NvbnN0IHM9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHMrMSksdGhpcy5lbXBsYWNlKHMsZSx0LHIsbixpLG8sYSl9ZW1wbGFjZShlLHQscixuLGksbyxhLHMpe2NvbnN0IGw9OCplO3JldHVybiB0aGlzLmludDE2W2wrMF09dCx0aGlzLmludDE2W2wrMV09cix0aGlzLmludDE2W2wrMl09bix0aGlzLmludDE2W2wrNF09aSx0aGlzLmludDE2W2wrNV09byx0aGlzLmludDE2W2wrNl09YSx0aGlzLmludDE2W2wrN109cyxlfX1jYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTE2LElpKGNhLFwiU3RydWN0QXJyYXlMYXlvdXQzaTJpMmkxNlwiKTtjbGFzcyB1YSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIsbixpKXtjb25zdCBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLGUsdCxyLG4saSl9ZW1wbGFjZShlLHQscixuLGksbyl7Y29uc3QgYT00KmUscz04KmU7cmV0dXJuIHRoaXMuZmxvYXQzMlthKzBdPXQsdGhpcy5mbG9hdDMyW2ErMV09cix0aGlzLmZsb2F0MzJbYSsyXT1uLHRoaXMuaW50MTZbcys2XT1pLHRoaXMuaW50MTZbcys3XT1vLGV9fXVhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTYsSWkodWEsXCJTdHJ1Y3RBcnJheUxheW91dDJmMWYyaTE2XCIpO2NsYXNzIGhhIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIsbil7Y29uc3QgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSxlLHQscixuKX1lbXBsYWNlKGUsdCxyLG4saSl7Y29uc3Qgbz0xMiplLGE9MyplO3JldHVybiB0aGlzLnVpbnQ4W28rMF09dCx0aGlzLnVpbnQ4W28rMV09cix0aGlzLmZsb2F0MzJbYSsxXT1uLHRoaXMuZmxvYXQzMlthKzJdPWksZX19aGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMixJaShoYSxcIlN0cnVjdEFycmF5TGF5b3V0MnViMmYxMlwiKTtjbGFzcyBkYSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyKXtjb25zdCBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLGUsdCxyKX1lbXBsYWNlKGUsdCxyLG4pe2NvbnN0IGk9MyplO3JldHVybiB0aGlzLmZsb2F0MzJbaSswXT10LHRoaXMuZmxvYXQzMltpKzFdPXIsdGhpcy5mbG9hdDMyW2krMl09bixlfX1kYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLElpKGRhLFwiU3RydWN0QXJyYXlMYXlvdXQzZjEyXCIpO2NsYXNzIHBhIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyKXtjb25zdCBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLGUsdCxyKX1lbXBsYWNlKGUsdCxyLG4pe2NvbnN0IGk9MyplO3JldHVybiB0aGlzLnVpbnQxNltpKzBdPXQsdGhpcy51aW50MTZbaSsxXT1yLHRoaXMudWludDE2W2krMl09bixlfX1wYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTYsSWkocGEsXCJTdHJ1Y3RBcnJheUxheW91dDN1aTZcIik7Y2xhc3MgZmEgZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLF8seSx2LHgpe2NvbnN0IGI9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGIrMSksdGhpcy5lbXBsYWNlKGIsZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLF8seSx2LHgpfWVtcGxhY2UoZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLF8seSx2LHgsYil7Y29uc3Qgdz0zMCplLFQ9MTUqZSxFPTYwKmU7cmV0dXJuIHRoaXMuaW50MTZbdyswXT10LHRoaXMuaW50MTZbdysxXT1yLHRoaXMuaW50MTZbdysyXT1uLHRoaXMuZmxvYXQzMltUKzJdPWksdGhpcy5mbG9hdDMyW1QrM109byx0aGlzLnVpbnQxNlt3KzhdPWEsdGhpcy51aW50MTZbdys5XT1zLHRoaXMudWludDMyW1QrNV09bCx0aGlzLnVpbnQzMltUKzZdPWMsdGhpcy51aW50MzJbVCs3XT11LHRoaXMudWludDE2W3crMTZdPWgsdGhpcy51aW50MTZbdysxN109ZCx0aGlzLnVpbnQxNlt3KzE4XT1wLHRoaXMuZmxvYXQzMltUKzEwXT1mLHRoaXMuZmxvYXQzMltUKzExXT1tLHRoaXMudWludDhbRSs0OF09Zyx0aGlzLnVpbnQ4W0UrNDldPV8sdGhpcy51aW50OFtFKzUwXT15LHRoaXMudWludDMyW1QrMTNdPXYsdGhpcy5pbnQxNlt3KzI4XT14LHRoaXMudWludDhbRSs1OF09YixlfX1mYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTYwLElpKGZhLFwiU3RydWN0QXJyYXlMYXlvdXQzaTJmMnVpM3VsM3VpMmYzdWIxdWwxaTF1YjYwXCIpO2NsYXNzIG1hIGV4dGVuZHMgWG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCxmLG0sZyxfLHksdix4LGIsdyxULEUsUyxDLE0sayxBKXtjb25zdCBJPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShJKzEpLHRoaXMuZW1wbGFjZShJLGUsdCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCxmLG0sZyxfLHksdix4LGIsdyxULEUsUyxDLE0sayxBKX1lbXBsYWNlKGUsdCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCxmLG0sZyxfLHksdix4LGIsdyxULEUsUyxDLE0sayxBLEkpe2NvbnN0IFA9MzgqZSx6PTE5KmU7cmV0dXJuIHRoaXMuaW50MTZbUCswXT10LHRoaXMuaW50MTZbUCsxXT1yLHRoaXMuaW50MTZbUCsyXT1uLHRoaXMuZmxvYXQzMlt6KzJdPWksdGhpcy5mbG9hdDMyW3orM109byx0aGlzLmludDE2W1ArOF09YSx0aGlzLmludDE2W1ArOV09cyx0aGlzLmludDE2W1ArMTBdPWwsdGhpcy5pbnQxNltQKzExXT1jLHRoaXMuaW50MTZbUCsxMl09dSx0aGlzLmludDE2W1ArMTNdPWgsdGhpcy51aW50MTZbUCsxNF09ZCx0aGlzLnVpbnQxNltQKzE1XT1wLHRoaXMudWludDE2W1ArMTZdPWYsdGhpcy51aW50MTZbUCsxN109bSx0aGlzLnVpbnQxNltQKzE4XT1nLHRoaXMudWludDE2W1ArMTldPV8sdGhpcy51aW50MTZbUCsyMF09eSx0aGlzLnVpbnQxNltQKzIxXT12LHRoaXMudWludDE2W1ArMjJdPXgsdGhpcy51aW50MTZbUCsyM109Yix0aGlzLnVpbnQxNltQKzI0XT13LHRoaXMudWludDE2W1ArMjVdPVQsdGhpcy51aW50MTZbUCsyNl09RSx0aGlzLnVpbnQxNltQKzI3XT1TLHRoaXMudWludDE2W1ArMjhdPUMsdGhpcy51aW50MzJbeisxNV09TSx0aGlzLmZsb2F0MzJbeisxNl09ayx0aGlzLmZsb2F0MzJbeisxN109QSx0aGlzLmZsb2F0MzJbeisxOF09SSxlfX1tYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTc2LElpKG1hLFwiU3RydWN0QXJyYXlMYXlvdXQzaTJmNmkxNXVpMXVsM2Y3NlwiKTtjbGFzcyBnYSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUpe2NvbnN0IHQ9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHQrMSksdGhpcy5lbXBsYWNlKHQsZSl9ZW1wbGFjZShlLHQpe3JldHVybiB0aGlzLmZsb2F0MzJbMSplKzBdPXQsZX19Z2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LElpKGdhLFwiU3RydWN0QXJyYXlMYXlvdXQxZjRcIik7Y2xhc3MgX2EgZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQscixuLGkpe2NvbnN0IG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sZSx0LHIsbixpKX1lbXBsYWNlKGUsdCxyLG4saSxvKXtjb25zdCBhPTUqZTtyZXR1cm4gdGhpcy5mbG9hdDMyW2ErMF09dCx0aGlzLmZsb2F0MzJbYSsxXT1yLHRoaXMuZmxvYXQzMlthKzJdPW4sdGhpcy5mbG9hdDMyW2ErM109aSx0aGlzLmZsb2F0MzJbYSs0XT1vLGV9fV9hLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjAsSWkoX2EsXCJTdHJ1Y3RBcnJheUxheW91dDVmMjBcIik7Y2xhc3MgeWEgZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxyLG4pe2NvbnN0IGk9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGkrMSksdGhpcy5lbXBsYWNlKGksZSx0LHIsbil9ZW1wbGFjZShlLHQscixuLGkpe2NvbnN0IG89NiplO3JldHVybiB0aGlzLnVpbnQzMlszKmUrMF09dCx0aGlzLnVpbnQxNltvKzJdPXIsdGhpcy51aW50MTZbbyszXT1uLHRoaXMudWludDE2W28rNF09aSxlfX15YS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTEyLElpKHlhLFwiU3RydWN0QXJyYXlMYXlvdXQxdWwzdWkxMlwiKTtjbGFzcyB2YSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQpe2NvbnN0IHI9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHIrMSksdGhpcy5lbXBsYWNlKHIsZSx0KX1lbXBsYWNlKGUsdCxyKXtjb25zdCBuPTIqZTtyZXR1cm4gdGhpcy51aW50MTZbbiswXT10LHRoaXMudWludDE2W24rMV09cixlfX12YS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTQsSWkodmEsXCJTdHJ1Y3RBcnJheUxheW91dDJ1aTRcIik7Y2xhc3MgeGEgZXh0ZW5kcyBYb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSl7Y29uc3QgdD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUodCsxKSx0aGlzLmVtcGxhY2UodCxlKX1lbXBsYWNlKGUsdCl7cmV0dXJuIHRoaXMudWludDE2WzEqZSswXT10LGV9fXhhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MixJaSh4YSxcIlN0cnVjdEFycmF5TGF5b3V0MXVpMlwiKTtjbGFzcyBiYSBleHRlbmRzIFhve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2UocixlLHQpfWVtcGxhY2UoZSx0LHIpe2NvbnN0IG49MiplO3JldHVybiB0aGlzLmZsb2F0MzJbbiswXT10LHRoaXMuZmxvYXQzMltuKzFdPXIsZX19YmEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD04LElpKGJhLFwiU3RydWN0QXJyYXlMYXlvdXQyZjhcIik7Y2xhc3Mgd2EgZXh0ZW5kcyBXb3tnZXQgYV9wb3NfMzAoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX1nZXQgYV9wb3NfMzEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX1nZXQgYV9wb3NfMzIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX1nZXQgYV9wb3Nfbm9ybWFsXzMwKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrM119Z2V0IGFfcG9zX25vcm1hbF8zMSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzRdfWdldCBhX3Bvc19ub3JtYWxfMzIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis1XX19d2EucHJvdG90eXBlLnNpemU9MTI7Y2xhc3MgVGEgZXh0ZW5kcyBpYXtnZXQoZSl7cmV0dXJuIG5ldyB3YSh0aGlzLGUpfX1JaShUYSxcIkZpbGxFeHRydXNpb25FeHRBcnJheVwiKTtjbGFzcyBFYSBleHRlbmRzIFdve2dldCBwcm9qZWN0ZWRBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19Z2V0IHByb2plY3RlZEFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX1nZXQgcHJvamVjdGVkQW5jaG9yWigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzJdfWdldCB0aWxlQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzNdfWdldCB0aWxlQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzRdfWdldCB4MSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrM119Z2V0IHkxKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCs0XX1nZXQgeDIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzVdfWdldCB5Migpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrNl19Z2V0IHBhZGRpbmcoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxNF19Z2V0IGZlYXR1cmVJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCs4XX1nZXQgc291cmNlTGF5ZXJJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOF19Z2V0IGJ1Y2tldEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE5XX19RWEucHJvdG90eXBlLnNpemU9NDA7Y2xhc3MgU2EgZXh0ZW5kcyBsYXtnZXQoZSl7cmV0dXJuIG5ldyBFYSh0aGlzLGUpfX1JaShTYSxcIkNvbGxpc2lvbkJveEFycmF5XCIpO2NsYXNzIENhIGV4dGVuZHMgV297Z2V0IHByb2plY3RlZEFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX1nZXQgcHJvamVjdGVkQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzFdfWdldCBwcm9qZWN0ZWRBbmNob3JaKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19Z2V0IHRpbGVBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsyXX1nZXQgdGlsZUFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzNdfWdldCBnbHlwaFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrOF19Z2V0IG51bUdseXBocygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis5XX1nZXQgdmVydGV4U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCs1XX1nZXQgbGluZVN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrNl19Z2V0IGxpbmVMZW5ndGgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrN119Z2V0IHNlZ21lbnQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTZdfWdldCBsb3dlclNpemUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTddfWdldCB1cHBlclNpemUoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMThdfWdldCBsaW5lT2Zmc2V0WCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTBdfWdldCBsaW5lT2Zmc2V0WSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTFdfWdldCB3cml0aW5nTW9kZSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzQ4XX1nZXQgcGxhY2VkT3JpZW50YXRpb24oKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs0OV19c2V0IHBsYWNlZE9yaWVudGF0aW9uKGUpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNDldPWV9Z2V0IGhpZGRlbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzUwXX1zZXQgaGlkZGVuKGUpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNTBdPWV9Z2V0IGNyb3NzVGlsZUlEKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzEzXX1zZXQgY3Jvc3NUaWxlSUQoZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTNdPWV9Z2V0IGFzc29jaWF0ZWRJY29uSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyOF19Z2V0IGZsaXBTdGF0ZSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzU4XX1zZXQgZmxpcFN0YXRlKGUpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNThdPWV9fUNhLnByb3RvdHlwZS5zaXplPTYwO2NsYXNzIE1hIGV4dGVuZHMgZmF7Z2V0KGUpe3JldHVybiBuZXcgQ2EodGhpcyxlKX19SWkoTWEsXCJQbGFjZWRTeW1ib2xBcnJheVwiKTtjbGFzcyBrYSBleHRlbmRzIFdve2dldCBwcm9qZWN0ZWRBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19Z2V0IHByb2plY3RlZEFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxXX1nZXQgcHJvamVjdGVkQW5jaG9yWigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzJdfWdldCB0aWxlQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMl19Z2V0IHRpbGVBbmNob3JZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCszXX1nZXQgcmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis4XX1nZXQgY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrOV19Z2V0IGxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxMF19Z2V0IHZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTFdfWdldCBwbGFjZWRJY29uU3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxMl19Z2V0IHZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMTNdfWdldCBrZXkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTRdfWdldCB0ZXh0Qm94U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNV19Z2V0IHRleHRCb3hFbmRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNl19Z2V0IHZlcnRpY2FsVGV4dEJveFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTddfWdldCB2ZXJ0aWNhbFRleHRCb3hFbmRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOF19Z2V0IGljb25Cb3hTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE5XX1nZXQgaWNvbkJveEVuZEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIwXX1nZXQgdmVydGljYWxJY29uQm94U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyMV19Z2V0IHZlcnRpY2FsSWNvbkJveEVuZEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIyXX1nZXQgZmVhdHVyZUluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIzXX1nZXQgbnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjRdfWdldCBudW1WZXJ0aWNhbEdseXBoVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjVdfWdldCBudW1JY29uVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjZdfWdldCBudW1WZXJ0aWNhbEljb25WZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyN119Z2V0IHVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzI4XX1nZXQgY3Jvc3NUaWxlSUQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTVdfXNldCBjcm9zc1RpbGVJRChlKXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxNV09ZX1nZXQgdGV4dE9mZnNldDAoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzE2XX1nZXQgdGV4dE9mZnNldDEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzE3XX1nZXQgY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXIoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzE4XX19a2EucHJvdG90eXBlLnNpemU9NzY7Y2xhc3MgQWEgZXh0ZW5kcyBtYXtnZXQoZSl7cmV0dXJuIG5ldyBrYSh0aGlzLGUpfX1JaShBYSxcIlN5bWJvbEluc3RhbmNlQXJyYXlcIik7Y2xhc3MgSWEgZXh0ZW5kcyBnYXtnZXRvZmZzZXRYKGUpe3JldHVybiB0aGlzLmZsb2F0MzJbMSplKzBdfX1JaShJYSxcIkdseXBoT2Zmc2V0QXJyYXlcIik7Y2xhc3MgUGEgZXh0ZW5kcyBKb3tnZXR4KGUpe3JldHVybiB0aGlzLmludDE2WzMqZSswXX1nZXR5KGUpe3JldHVybiB0aGlzLmludDE2WzMqZSsxXX1nZXR0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvcihlKXtyZXR1cm4gdGhpcy5pbnQxNlszKmUrMl19fUlpKFBhLFwiU3ltYm9sTGluZVZlcnRleEFycmF5XCIpO2NsYXNzIHphIGV4dGVuZHMgV297Z2V0IGZlYXR1cmVJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCswXX1nZXQgc291cmNlTGF5ZXJJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyXX1nZXQgYnVja2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrM119Z2V0IGxheW91dFZlcnRleEFycmF5T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzRdfX16YS5wcm90b3R5cGUuc2l6ZT0xMjtjbGFzcyBEYSBleHRlbmRzIHlhe2dldChlKXtyZXR1cm4gbmV3IHphKHRoaXMsZSl9fUlpKERhLFwiRmVhdHVyZUluZGV4QXJyYXlcIik7Y2xhc3MgUmEgZXh0ZW5kcyBXb3tnZXQgYV9jZW50cm9pZF9wb3MwKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzBdfWdldCBhX2NlbnRyb2lkX3BvczEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMV19fVJhLnByb3RvdHlwZS5zaXplPTQ7Y2xhc3MgTGEgZXh0ZW5kcyB2YXtnZXQoZSl7cmV0dXJuIG5ldyBSYSh0aGlzLGUpfX1JaShMYSxcIkZpbGxFeHRydXNpb25DZW50cm9pZEFycmF5XCIpO2NsYXNzIE9hIGV4dGVuZHMgV297Z2V0IGFfcG9zXzMwKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMF19Z2V0IGFfcG9zXzMxKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMV19Z2V0IGFfcG9zXzMyKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19Z2V0IGFfcG9zX25vcm1hbF8zMCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzNdfWdldCBhX3Bvc19ub3JtYWxfMzEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis0XX1nZXQgYV9wb3Nfbm9ybWFsXzMyKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNV19fU9hLnByb3RvdHlwZS5zaXplPTEyO2NsYXNzIEJhIGV4dGVuZHMgaWF7Z2V0KGUpe3JldHVybiBuZXcgT2EodGhpcyxlKX19SWkoQmEsXCJDaXJjbGVHbG9iZUV4dEFycmF5XCIpO2NvbnN0IEZhPUhvKFt7bmFtZTpcImFfcGF0dGVybl90b1wiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9LHtuYW1lOlwiYV9wYXR0ZXJuX2Zyb21cIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQxNlwifSx7bmFtZTpcImFfcGl4ZWxfcmF0aW9fdG9cIixjb21wb25lbnRzOjEsdHlwZTpcIlVpbnQxNlwifSx7bmFtZTpcImFfcGl4ZWxfcmF0aW9fZnJvbVwiLGNvbXBvbmVudHM6MSx0eXBlOlwiVWludDE2XCJ9XSksamE9SG8oW3tuYW1lOlwiYV9kYXNoX3RvXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn0se25hbWU6XCJhX2Rhc2hfZnJvbVwiLGNvbXBvbmVudHM6NCx0eXBlOlwiVWludDE2XCJ9XSk7dmFyIFVhPXtleHBvcnRzOnt9fSxOYT17ZXhwb3J0czp7fX07TmEuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLG4saSxvLGEscyxsLGM7Zm9yKG49ZS5sZW5ndGgtKHI9MyZlLmxlbmd0aCksaT10LGE9MzQzMjkxODM1MyxzPTQ2MTg0NTkwNyxjPTA7YzxuOylsPTI1NSZlLmNoYXJDb2RlQXQoYyl8KDI1NSZlLmNoYXJDb2RlQXQoKytjKSk8PDh8KDI1NSZlLmNoYXJDb2RlQXQoKytjKSk8PDE2fCgyNTUmZS5jaGFyQ29kZUF0KCsrYykpPDwyNCwrK2MsaT0yNzQ5MisoNjU1MzUmKG89NSooNjU1MzUmKGk9KGlePWw9KDY1NTM1JihsPShsPSg2NTUzNSZsKSphKygoKGw+Pj4xNikqYSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTV8bD4+PjE3KSkqcysoKChsPj4+MTYpKnMmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSk8PDEzfGk+Pj4xOSkpKygoNSooaT4+PjE2KSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KSkrKCg1ODk2NCsobz4+PjE2KSY2NTUzNSk8PDE2KTtzd2l0Y2gobD0wLHIpe2Nhc2UgMzpsXj0oMjU1JmUuY2hhckNvZGVBdChjKzIpKTw8MTY7Y2FzZSAyOmxePSgyNTUmZS5jaGFyQ29kZUF0KGMrMSkpPDw4O2Nhc2UgMTppXj1sPSg2NTUzNSYobD0obD0oNjU1MzUmKGxePTI1NSZlLmNoYXJDb2RlQXQoYykpKSphKygoKGw+Pj4xNikqYSY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTV8bD4+PjE3KSkqcysoKChsPj4+MTYpKnMmNjU1MzUpPDwxNikmNDI5NDk2NzI5NX1yZXR1cm4gaV49ZS5sZW5ndGgsaT0yMjQ2ODIyNTA3Kig2NTUzNSYoaV49aT4+PjE2KSkrKCgyMjQ2ODIyNTA3KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsaT0zMjY2NDg5OTA5Kig2NTUzNSYoaV49aT4+PjEzKSkrKCgzMjY2NDg5OTA5KihpPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUsKGlePWk+Pj4xNik+Pj4wfTt2YXIgVmE9e2V4cG9ydHM6e319O1ZhLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIsbj1lLmxlbmd0aCxpPXRebixvPTA7bj49NDspcj0xNTQwNDgzNDc3Kig2NTUzNSYocj0yNTUmZS5jaGFyQ29kZUF0KG8pfCgyNTUmZS5jaGFyQ29kZUF0KCsrbykpPDw4fCgyNTUmZS5jaGFyQ29kZUF0KCsrbykpPDwxNnwoMjU1JmUuY2hhckNvZGVBdCgrK28pKTw8MjQpKSsoKDE1NDA0ODM0NzcqKHI+Pj4xNikmNjU1MzUpPDwxNiksaT0xNTQwNDgzNDc3Kig2NTUzNSZpKSsoKDE1NDA0ODM0NzcqKGk+Pj4xNikmNjU1MzUpPDwxNileKHI9MTU0MDQ4MzQ3NyooNjU1MzUmKHJePXI+Pj4yNCkpKygoMTU0MDQ4MzQ3Nyoocj4+PjE2KSY2NTUzNSk8PDE2KSksbi09NCwrK287c3dpdGNoKG4pe2Nhc2UgMzppXj0oMjU1JmUuY2hhckNvZGVBdChvKzIpKTw8MTY7Y2FzZSAyOmlePSgyNTUmZS5jaGFyQ29kZUF0KG8rMSkpPDw4O2Nhc2UgMTppPTE1NDA0ODM0NzcqKDY1NTM1JihpXj0yNTUmZS5jaGFyQ29kZUF0KG8pKSkrKCgxNTQwNDgzNDc3KihpPj4+MTYpJjY1NTM1KTw8MTYpfXJldHVybiBpPTE1NDA0ODM0NzcqKDY1NTM1JihpXj1pPj4+MTMpKSsoKDE1NDA0ODM0NzcqKGk+Pj4xNikmNjU1MzUpPDwxNiksKGlePWk+Pj4xNSk+Pj4wfTt2YXIgR2E9TmEuZXhwb3J0cyxxYT1WYS5leHBvcnRzO1VhLmV4cG9ydHM9R2EsVWEuZXhwb3J0cy5tdXJtdXIzPUdhLFVhLmV4cG9ydHMubXVybXVyMj1xYTtjbGFzcyBaYXtjb25zdHJ1Y3Rvcigpe3RoaXMuaWRzPVtdLHRoaXMucG9zaXRpb25zPVtdLHRoaXMuaW5kZXhlZD0hMX1hZGQoZSx0LHIsbil7dGhpcy5pZHMucHVzaCgkYShlKSksdGhpcy5wb3NpdGlvbnMucHVzaCh0LHIsbil9Z2V0UG9zaXRpb25zKGUpe2NvbnN0IHQ9JGEoZSk7bGV0IHI9MCxuPXRoaXMuaWRzLmxlbmd0aC0xO2Zvcig7cjxuOyl7Y29uc3QgZT1yK24+PjE7dGhpcy5pZHNbZV0+PXQ/bj1lOnI9ZSsxfWNvbnN0IGk9W107Zm9yKDt0aGlzLmlkc1tyXT09PXQ7KWkucHVzaCh7aW5kZXg6dGhpcy5wb3NpdGlvbnNbMypyXSxzdGFydDp0aGlzLnBvc2l0aW9uc1szKnIrMV0sZW5kOnRoaXMucG9zaXRpb25zWzMqcisyXX0pLHIrKztyZXR1cm4gaX1zdGF0aWMgc2VyaWFsaXplKGUsdCl7Y29uc3Qgcj1uZXcgRmxvYXQ2NEFycmF5KGUuaWRzKSxuPW5ldyBVaW50MzJBcnJheShlLnBvc2l0aW9ucyk7cmV0dXJuIGZ1bmN0aW9uIGUodCxyLG4saSl7Zm9yKDtuPGk7KXtjb25zdCBvPXRbbitpPj4xXTtsZXQgYT1uLTEscz1pKzE7Zm9yKDs7KXtkb3thKyt9d2hpbGUodFthXTxvKTtkb3tzLS19d2hpbGUodFtzXT5vKTtpZihhPj1zKWJyZWFrO1dhKHQsYSxzKSxXYShyLDMqYSwzKnMpLFdhKHIsMyphKzEsMypzKzEpLFdhKHIsMyphKzIsMypzKzIpfXMtbjxpLXM/KGUodCxyLG4scyksbj1zKzEpOihlKHQscixzKzEsaSksaT1zKX19KHIsbiwwLHIubGVuZ3RoLTEpLHQmJnQucHVzaChyLmJ1ZmZlcixuLmJ1ZmZlcikse2lkczpyLHBvc2l0aW9uczpufX1zdGF0aWMgZGVzZXJpYWxpemUoZSl7Y29uc3QgdD1uZXcgWmE7cmV0dXJuIHQuaWRzPWUuaWRzLHQucG9zaXRpb25zPWUucG9zaXRpb25zLHQuaW5kZXhlZD0hMCx0fX1mdW5jdGlvbiAkYShlKXtjb25zdCB0PStlO3JldHVybiFpc05hTih0KSYmTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVI8PXQmJnQ8PU51bWJlci5NQVhfU0FGRV9JTlRFR0VSP3Q6VWEuZXhwb3J0cyhTdHJpbmcoZSkpfWZ1bmN0aW9uIFdhKGUsdCxyKXtjb25zdCBuPWVbdF07ZVt0XT1lW3JdLGVbcl09bn1JaShaYSxcIkZlYXR1cmVQb3NpdGlvbk1hcFwiKTtjbGFzcyBYYXtjb25zdHJ1Y3RvcihlKXt0aGlzLmdsPWUuZ2wsdGhpcy5pbml0aWFsaXplZD0hMX1mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpe3JldHVybiB0aGlzLmxvY2F0aW9ufHx0aGlzLmluaXRpYWxpemVkfHwodGhpcy5sb2NhdGlvbj10aGlzLmdsLmdldFVuaWZvcm1Mb2NhdGlvbihlLHQpLHRoaXMuaW5pdGlhbGl6ZWQ9ITApLCEhdGhpcy5sb2NhdGlvbn19Y2xhc3MgSGEgZXh0ZW5kcyBYYXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmN1cnJlbnQ9MH1zZXQoZSx0LHIpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmdGhpcy5jdXJyZW50IT09ciYmKHRoaXMuY3VycmVudD1yLHRoaXMuZ2wudW5pZm9ybTFmKHRoaXMubG9jYXRpb24scikpfX1jbGFzcyBZYSBleHRlbmRzIFhhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1bMCwwLDAsMF19c2V0KGUsdCxyKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkmJihyWzBdPT09dGhpcy5jdXJyZW50WzBdJiZyWzFdPT09dGhpcy5jdXJyZW50WzFdJiZyWzJdPT09dGhpcy5jdXJyZW50WzJdJiZyWzNdPT09dGhpcy5jdXJyZW50WzNdfHwodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtNGYodGhpcy5sb2NhdGlvbixyWzBdLHJbMV0sclsyXSxyWzNdKSkpfX1jbGFzcyBLYSBleHRlbmRzIFhhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1NdC50cmFuc3BhcmVudH1zZXQoZSx0LHIpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmKHIucj09PXRoaXMuY3VycmVudC5yJiZyLmc9PT10aGlzLmN1cnJlbnQuZyYmci5iPT09dGhpcy5jdXJyZW50LmImJnIuYT09PXRoaXMuY3VycmVudC5hfHwodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtNGYodGhpcy5sb2NhdGlvbixyLnIsci5nLHIuYixyLmEpKSl9fWNvbnN0IEphPW5ldyBGbG9hdDMyQXJyYXkoMTYpLFFhPW5ldyBGbG9hdDMyQXJyYXkoOSksZXM9bmV3IEZsb2F0MzJBcnJheSg0KTtmdW5jdGlvbiB0cyhlKXtyZXR1cm5bWm8oMjU1KmUuciwyNTUqZS5nKSxabygyNTUqZS5iLDI1NSplLmEpXX1jbGFzcyByc3tjb25zdHJ1Y3RvcihlLHQscil7dGhpcy52YWx1ZT1lLHRoaXMudW5pZm9ybU5hbWVzPXQubWFwKGU9PlwidV9cIitlKSx0aGlzLnR5cGU9cn1zZXRVbmlmb3JtKGUsdCxyLG4saSl7dC5zZXQoZSxpLG4uY29uc3RhbnRPcih0aGlzLnZhbHVlKSl9Z2V0QmluZGluZyhlLHQpe3JldHVyblwiY29sb3JcIj09PXRoaXMudHlwZT9uZXcgS2EoZSk6bmV3IEhhKGUpfX1jbGFzcyBuc3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMudW5pZm9ybU5hbWVzPXQubWFwKGU9PlwidV9cIitlKSx0aGlzLnBhdHRlcm5Gcm9tPW51bGwsdGhpcy5wYXR0ZXJuVG89bnVsbCx0aGlzLnBpeGVsUmF0aW9Gcm9tPTEsdGhpcy5waXhlbFJhdGlvVG89MX1zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoZSx0KXt0aGlzLnBpeGVsUmF0aW9Gcm9tPXQucGl4ZWxSYXRpb3x8MSx0aGlzLnBpeGVsUmF0aW9Ubz1lLnBpeGVsUmF0aW98fDEsdGhpcy5wYXR0ZXJuRnJvbT10LnRsLmNvbmNhdCh0LmJyKSx0aGlzLnBhdHRlcm5Ubz1lLnRsLmNvbmNhdChlLmJyKX1zZXRVbmlmb3JtKGUsdCxyLG4saSl7Y29uc3Qgbz1cInVfcGF0dGVybl90b1wiPT09aXx8XCJ1X2Rhc2hfdG9cIj09PWk/dGhpcy5wYXR0ZXJuVG86XCJ1X3BhdHRlcm5fZnJvbVwiPT09aXx8XCJ1X2Rhc2hfZnJvbVwiPT09aT90aGlzLnBhdHRlcm5Gcm9tOlwidV9waXhlbF9yYXRpb190b1wiPT09aT90aGlzLnBpeGVsUmF0aW9UbzpcInVfcGl4ZWxfcmF0aW9fZnJvbVwiPT09aT90aGlzLnBpeGVsUmF0aW9Gcm9tOm51bGw7byYmdC5zZXQoZSxpLG8pfWdldEJpbmRpbmcoZSx0KXtyZXR1cm5cInVfcGF0dGVybl9mcm9tXCI9PT10fHxcInVfcGF0dGVybl90b1wiPT09dHx8XCJ1X2Rhc2hfZnJvbVwiPT09dHx8XCJ1X2Rhc2hfdG9cIj09PXQ/bmV3IFlhKGUpOm5ldyBIYShlKX19Y2xhc3MgaXN7Y29uc3RydWN0b3IoZSx0LHIsbil7dGhpcy5leHByZXNzaW9uPWUsdGhpcy50eXBlPXIsdGhpcy5tYXhWYWx1ZT0wLHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzPXQubWFwKGU9Pih7bmFtZTpcImFfXCIrZSx0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6XCJjb2xvclwiPT09cj8yOjEsb2Zmc2V0OjB9KSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBufXBvcHVsYXRlUGFpbnRBcnJheShlLHQscixuLGksbyl7Y29uc3QgYT10aGlzLnBhaW50VmVydGV4QXJyYXkubGVuZ3RoLHM9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKG5ldyBJbygwKSx0LHt9LGksbixvKTt0aGlzLnBhaW50VmVydGV4QXJyYXkucmVzaXplKGUpLHRoaXMuX3NldFBhaW50VmFsdWUoYSxlLHMpfXVwZGF0ZVBhaW50QXJyYXkoZSx0LHIsbixpKXtjb25zdCBvPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTowfSxyLG4sdm9pZCAwLGkpO3RoaXMuX3NldFBhaW50VmFsdWUoZSx0LG8pfV9zZXRQYWludFZhbHVlKGUsdCxyKXtpZihcImNvbG9yXCI9PT10aGlzLnR5cGUpe2NvbnN0IG49dHMocik7Zm9yKGxldCByPWU7cjx0O3IrKyl0aGlzLnBhaW50VmVydGV4QXJyYXkuZW1wbGFjZShyLG5bMF0sblsxXSl9ZWxzZXtmb3IobGV0IG49ZTtuPHQ7bisrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKG4scik7dGhpcy5tYXhWYWx1ZT1NYXRoLm1heCh0aGlzLm1heFZhbHVlLE1hdGguYWJzKHIpKX19dXBsb2FkKGUpe3RoaXMucGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy5wYWludFZlcnRleEFycmF5LmFycmF5QnVmZmVyJiYodGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5idWZmZXI/dGhpcy5wYWludFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSk6dGhpcy5wYWludFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnBhaW50VmVydGV4QXJyYXksdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXMsdGhpcy5leHByZXNzaW9uLmlzU3RhdGVEZXBlbmRlbnQpKX1kZXN0cm95KCl7dGhpcy5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5wYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCl9fWNsYXNzIG9ze2NvbnN0cnVjdG9yKGUsdCxyLG4saSxvKXt0aGlzLmV4cHJlc3Npb249ZSx0aGlzLnVuaWZvcm1OYW1lcz10Lm1hcChlPT5gdV8ke2V9X3RgKSx0aGlzLnR5cGU9cix0aGlzLnVzZUludGVnZXJab29tPW4sdGhpcy56b29tPWksdGhpcy5tYXhWYWx1ZT0wLHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzPXQubWFwKGU9Pih7bmFtZTpcImFfXCIrZSx0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6XCJjb2xvclwiPT09cj80OjIsb2Zmc2V0OjB9KSksdGhpcy5wYWludFZlcnRleEFycmF5PW5ldyBvfXBvcHVsYXRlUGFpbnRBcnJheShlLHQscixuLGksbyl7Y29uc3QgYT10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IElvKHRoaXMuem9vbSksdCx7fSxpLG4sbykscz10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IElvKHRoaXMuem9vbSsxKSx0LHt9LGksbixvKSxsPXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGg7dGhpcy5wYWludFZlcnRleEFycmF5LnJlc2l6ZShlKSx0aGlzLl9zZXRQYWludFZhbHVlKGwsZSxhLHMpfXVwZGF0ZVBhaW50QXJyYXkoZSx0LHIsbixpKXtjb25zdCBvPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTp0aGlzLnpvb219LHIsbix2b2lkIDAsaSksYT10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUoe3pvb206dGhpcy56b29tKzF9LHIsbix2b2lkIDAsaSk7dGhpcy5fc2V0UGFpbnRWYWx1ZShlLHQsbyxhKX1fc2V0UGFpbnRWYWx1ZShlLHQscixuKXtpZihcImNvbG9yXCI9PT10aGlzLnR5cGUpe2NvbnN0IGk9dHMociksbz10cyhuKTtmb3IobGV0IHI9ZTtyPHQ7cisrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKHIsaVswXSxpWzFdLG9bMF0sb1sxXSl9ZWxzZXtmb3IobGV0IGk9ZTtpPHQ7aSsrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKGkscixuKTt0aGlzLm1heFZhbHVlPU1hdGgubWF4KHRoaXMubWF4VmFsdWUsTWF0aC5hYnMociksTWF0aC5hYnMobikpfX11cGxvYWQoZSl7dGhpcy5wYWludFZlcnRleEFycmF5JiZ0aGlzLnBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmJ1ZmZlcj90aGlzLnBhaW50VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5wYWludFZlcnRleEFycmF5KTp0aGlzLnBhaW50VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCkpfWRlc3Ryb3koKXt0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmRlc3Ryb3koKX1zZXRVbmlmb3JtKGUsdCxyLG4saSl7Y29uc3Qgbz10aGlzLnVzZUludGVnZXJab29tP01hdGguZmxvb3Ioci56b29tKTpyLnpvb20sYT1TKHRoaXMuZXhwcmVzc2lvbi5pbnRlcnBvbGF0aW9uRmFjdG9yKG8sdGhpcy56b29tLHRoaXMuem9vbSsxKSwwLDEpO3Quc2V0KGUsaSxhKX1nZXRCaW5kaW5nKGUsdCl7cmV0dXJuIG5ldyBIYShlKX19Y2xhc3MgYXN7Y29uc3RydWN0b3IoZSx0LHIsbixpLG8sYSl7dGhpcy5leHByZXNzaW9uPWUsdGhpcy50eXBlPXIsdGhpcy51c2VJbnRlZ2VyWm9vbT1uLHRoaXMuem9vbT1pLHRoaXMubGF5ZXJJZD1hLHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzPShcImFycmF5XCI9PT1yP2phOkZhKS5tZW1iZXJzO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7KytlKTt0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXk9bmV3IG8sdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheT1uZXcgb31wb3B1bGF0ZVBhaW50QXJyYXkoZSx0LHIpe2NvbnN0IG49dGhpcy56b29tSW5QYWludFZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXkucmVzaXplKGUpLHRoaXMuem9vbU91dFBhaW50VmVydGV4QXJyYXkucmVzaXplKGUpLHRoaXMuX3NldFBhaW50VmFsdWVzKG4sZSx0LnBhdHRlcm5zJiZ0LnBhdHRlcm5zW3RoaXMubGF5ZXJJZF0scil9dXBkYXRlUGFpbnRBcnJheShlLHQscixuLGksbyl7dGhpcy5fc2V0UGFpbnRWYWx1ZXMoZSx0LHIucGF0dGVybnMmJnIucGF0dGVybnNbdGhpcy5sYXllcklkXSxvKX1fc2V0UGFpbnRWYWx1ZXMoZSx0LHIsbil7aWYoIW58fCFyKXJldHVybjtjb25zdHttaW46aSxtaWQ6byxtYXg6YX09cixzPW5baV0sbD1uW29dLGM9blthXTtpZihzJiZsJiZjKWZvcihsZXQgcj1lO3I8dDtyKyspdGhpcy5fc2V0UGFpbnRWYWx1ZSh0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXkscixsLHMpLHRoaXMuX3NldFBhaW50VmFsdWUodGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheSxyLGwsYyl9X3NldFBhaW50VmFsdWUoZSx0LHIsbil7ZS5lbXBsYWNlKHQsci50bFswXSxyLnRsWzFdLHIuYnJbMF0sci5iclsxXSxuLnRsWzBdLG4udGxbMV0sbi5iclswXSxuLmJyWzFdLHIucGl4ZWxSYXRpbyxuLnBpeGVsUmF0aW8pfXVwbG9hZChlKXt0aGlzLnpvb21JblBhaW50VmVydGV4QXJyYXkmJnRoaXMuem9vbUluUGFpbnRWZXJ0ZXhBcnJheS5hcnJheUJ1ZmZlciYmdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheSYmdGhpcy56b29tT3V0UGFpbnRWZXJ0ZXhBcnJheS5hcnJheUJ1ZmZlciYmKHRoaXMuem9vbUluUGFpbnRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy56b29tSW5QYWludFZlcnRleEFycmF5LHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KSx0aGlzLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLnpvb21PdXRQYWludFZlcnRleEFycmF5LHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KSl9ZGVzdHJveSgpe3RoaXMuem9vbU91dFBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnpvb21PdXRQYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy56b29tSW5QYWludFZlcnRleEJ1ZmZlciYmdGhpcy56b29tSW5QYWludFZlcnRleEJ1ZmZlci5kZXN0cm95KCl9fWNsYXNzIHNze2NvbnN0cnVjdG9yKGUsdCxyPSgoKT0+ITApKXt0aGlzLmJpbmRlcnM9e30sdGhpcy5fYnVmZmVycz1bXTtjb25zdCBuPVtdO2Zvcihjb25zdCBpIGluIGUucGFpbnQuX3ZhbHVlcyl7aWYoIXIoaSkpY29udGludWU7Y29uc3Qgbz1lLnBhaW50LmdldChpKTtpZighKG8gaW5zdGFuY2VvZiBCbyYmQ24oby5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uKSkpY29udGludWU7Y29uc3QgYT11cyhpLGUudHlwZSkscz1vLnZhbHVlLGw9by5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uLnR5cGUsYz1vLnByb3BlcnR5LnVzZUludGVnZXJab29tLHU9by5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uW1wicHJvcGVydHktdHlwZVwiXSxoPVwiY3Jvc3MtZmFkZWRcIj09PXV8fFwiY3Jvc3MtZmFkZWQtZGF0YS1kcml2ZW5cIj09PXUsZD1cImxpbmUtZGFzaGFycmF5XCI9PT1TdHJpbmcoaSkmJlwiY29uc3RhbnRcIiE9PWUubGF5b3V0LmdldChcImxpbmUtY2FwXCIpLnZhbHVlLmtpbmQ7aWYoXCJjb25zdGFudFwiIT09cy5raW5kfHxkKWlmKFwic291cmNlXCI9PT1zLmtpbmR8fGR8fGgpe2NvbnN0IHI9cHMoaSxsLFwic291cmNlXCIpO3RoaXMuYmluZGVyc1tpXT1oP25ldyBhcyhzLGEsbCxjLHQscixlLmlkKTpuZXcgaXMocyxhLGwsciksbi5wdXNoKFwiL2FfXCIraSl9ZWxzZXtjb25zdCBlPXBzKGksbCxcImNvbXBvc2l0ZVwiKTt0aGlzLmJpbmRlcnNbaV09bmV3IG9zKHMsYSxsLGMsdCxlKSxuLnB1c2goXCIvel9cIitpKX1lbHNlIHRoaXMuYmluZGVyc1tpXT1oP25ldyBucyhzLnZhbHVlLGEpOm5ldyBycyhzLnZhbHVlLGEsbCksbi5wdXNoKFwiL3VfXCIraSl9dGhpcy5jYWNoZUtleT1uLnNvcnQoKS5qb2luKFwiXCIpfWdldE1heFZhbHVlKGUpe2NvbnN0IHQ9dGhpcy5iaW5kZXJzW2VdO3JldHVybiB0IGluc3RhbmNlb2YgaXN8fHQgaW5zdGFuY2VvZiBvcz90Lm1heFZhbHVlOjB9cG9wdWxhdGVQYWludEFycmF5cyhlLHQscixuLGksbyl7Zm9yKGNvbnN0IGEgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBzPXRoaXMuYmluZGVyc1thXTsocyBpbnN0YW5jZW9mIGlzfHxzIGluc3RhbmNlb2Ygb3N8fHMgaW5zdGFuY2VvZiBhcykmJnMucG9wdWxhdGVQYWludEFycmF5KGUsdCxyLG4saSxvKX19c2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUsdCl7Zm9yKGNvbnN0IHIgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBuPXRoaXMuYmluZGVyc1tyXTtuIGluc3RhbmNlb2YgbnMmJm4uc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUsdCl9fXVwZGF0ZVBhaW50QXJyYXlzKGUsdCxyLG4saSxvKXtsZXQgYT0hMTtmb3IoY29uc3QgcyBpbiBlKXtjb25zdCBsPXQuZ2V0UG9zaXRpb25zKHMpO2Zvcihjb25zdCB0IG9mIGwpe2NvbnN0IGw9ci5mZWF0dXJlKHQuaW5kZXgpO2Zvcihjb25zdCByIGluIHRoaXMuYmluZGVycyl7Y29uc3QgYz10aGlzLmJpbmRlcnNbcl07aWYoKGMgaW5zdGFuY2VvZiBpc3x8YyBpbnN0YW5jZW9mIG9zfHxjIGluc3RhbmNlb2YgYXMpJiYhMD09PWMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KXtjb25zdCB1PW4ucGFpbnQuZ2V0KHIpO2MuZXhwcmVzc2lvbj11LnZhbHVlLGMudXBkYXRlUGFpbnRBcnJheSh0LnN0YXJ0LHQuZW5kLGwsZVtzXSxpLG8pLGE9ITB9fX19cmV0dXJuIGF9ZGVmaW5lcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCByPXRoaXMuYmluZGVyc1t0XTsociBpbnN0YW5jZW9mIHJzfHxyIGluc3RhbmNlb2YgbnMpJiZlLnB1c2goLi4uci51bmlmb3JtTmFtZXMubWFwKGU9PlwiI2RlZmluZSBIQVNfVU5JRk9STV9cIitlKSl9cmV0dXJuIGV9Z2V0QmluZGVyQXR0cmlidXRlcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCByPXRoaXMuYmluZGVyc1t0XTtpZihyIGluc3RhbmNlb2YgaXN8fHIgaW5zdGFuY2VvZiBvc3x8ciBpbnN0YW5jZW9mIGFzKWZvcihsZXQgdD0wO3Q8ci5wYWludFZlcnRleEF0dHJpYnV0ZXMubGVuZ3RoO3QrKyllLnB1c2goci5wYWludFZlcnRleEF0dHJpYnV0ZXNbdF0ubmFtZSl9cmV0dXJuIGV9Z2V0QmluZGVyVW5pZm9ybXMoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IGluIHRoaXMuYmluZGVycyl7Y29uc3Qgcj10aGlzLmJpbmRlcnNbdF07aWYociBpbnN0YW5jZW9mIHJzfHxyIGluc3RhbmNlb2YgbnN8fHIgaW5zdGFuY2VvZiBvcylmb3IoY29uc3QgdCBvZiByLnVuaWZvcm1OYW1lcyllLnB1c2godCl9cmV0dXJuIGV9Z2V0UGFpbnRWZXJ0ZXhCdWZmZXJzKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcnN9Z2V0VW5pZm9ybXMoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgciBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IG49dGhpcy5iaW5kZXJzW3JdO2lmKG4gaW5zdGFuY2VvZiByc3x8biBpbnN0YW5jZW9mIG5zfHxuIGluc3RhbmNlb2Ygb3MpZm9yKGNvbnN0IGkgb2Ygbi51bmlmb3JtTmFtZXMpdC5wdXNoKHtuYW1lOmkscHJvcGVydHk6cixiaW5kaW5nOm4uZ2V0QmluZGluZyhlLGkpfSl9cmV0dXJuIHR9c2V0VW5pZm9ybXMoZSx0LHIsbixpKXtmb3IoY29uc3R7bmFtZTp0LHByb3BlcnR5Om8sYmluZGluZzphfW9mIHIpdGhpcy5iaW5kZXJzW29dLnNldFVuaWZvcm0oZSxhLGksbi5nZXQobyksdCl9dXBkYXRlUGFpbnRCdWZmZXJzKGUpe3RoaXMuX2J1ZmZlcnM9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCByPXRoaXMuYmluZGVyc1t0XTtpZihlJiZyIGluc3RhbmNlb2YgYXMpe2NvbnN0IHQ9Mj09PWUuZnJvbVNjYWxlP3Iuem9vbUluUGFpbnRWZXJ0ZXhCdWZmZXI6ci56b29tT3V0UGFpbnRWZXJ0ZXhCdWZmZXI7dCYmdGhpcy5fYnVmZmVycy5wdXNoKHQpfWVsc2UociBpbnN0YW5jZW9mIGlzfHxyIGluc3RhbmNlb2Ygb3MpJiZyLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLl9idWZmZXJzLnB1c2goci5wYWludFZlcnRleEJ1ZmZlcil9fXVwbG9hZChlKXtmb3IoY29uc3QgdCBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHI9dGhpcy5iaW5kZXJzW3RdOyhyIGluc3RhbmNlb2YgaXN8fHIgaW5zdGFuY2VvZiBvc3x8ciBpbnN0YW5jZW9mIGFzKSYmci51cGxvYWQoZSl9dGhpcy51cGRhdGVQYWludEJ1ZmZlcnMoKX1kZXN0cm95KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCB0PXRoaXMuYmluZGVyc1tlXTsodCBpbnN0YW5jZW9mIGlzfHx0IGluc3RhbmNlb2Ygb3N8fHQgaW5zdGFuY2VvZiBhcykmJnQuZGVzdHJveSgpfX19Y2xhc3MgbHN7Y29uc3RydWN0b3IoZSx0LHI9KCgpPT4hMCkpe3RoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPXt9O2Zvcihjb25zdCBuIG9mIGUpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbbi5pZF09bmV3IHNzKG4sdCxyKTt0aGlzLm5lZWRzVXBsb2FkPSExLHRoaXMuX2ZlYXR1cmVNYXA9bmV3IFphLHRoaXMuX2J1ZmZlck9mZnNldD0wfXBvcHVsYXRlUGFpbnRBcnJheXMoZSx0LHIsbixpLG8sYSl7Zm9yKGNvbnN0IHIgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbcl0ucG9wdWxhdGVQYWludEFycmF5cyhlLHQsbixpLG8sYSk7dm9pZCAwIT09dC5pZCYmdGhpcy5fZmVhdHVyZU1hcC5hZGQodC5pZCxyLHRoaXMuX2J1ZmZlck9mZnNldCxlKSx0aGlzLl9idWZmZXJPZmZzZXQ9ZSx0aGlzLm5lZWRzVXBsb2FkPSEwfXVwZGF0ZVBhaW50QXJyYXlzKGUsdCxyLG4saSl7Zm9yKGNvbnN0IG8gb2Ygcil0aGlzLm5lZWRzVXBsb2FkPXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zW28uaWRdLnVwZGF0ZVBhaW50QXJyYXlzKGUsdGhpcy5fZmVhdHVyZU1hcCx0LG8sbixpKXx8dGhpcy5uZWVkc1VwbG9hZH1nZXQoZSl7cmV0dXJuIHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zW2VdfXVwbG9hZChlKXtpZih0aGlzLm5lZWRzVXBsb2FkKXtmb3IoY29uc3QgdCBpbiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucyl0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1t0XS51cGxvYWQoZSk7dGhpcy5uZWVkc1VwbG9hZD0hMX19ZGVzdHJveSgpe2Zvcihjb25zdCBlIGluIHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zKXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zW2VdLmRlc3Ryb3koKX19Y29uc3QgY3M9e1widGV4dC1vcGFjaXR5XCI6W1wib3BhY2l0eVwiXSxcImljb24tb3BhY2l0eVwiOltcIm9wYWNpdHlcIl0sXCJ0ZXh0LWNvbG9yXCI6W1wiZmlsbF9jb2xvclwiXSxcImljb24tY29sb3JcIjpbXCJmaWxsX2NvbG9yXCJdLFwidGV4dC1oYWxvLWNvbG9yXCI6W1wiaGFsb19jb2xvclwiXSxcImljb24taGFsby1jb2xvclwiOltcImhhbG9fY29sb3JcIl0sXCJ0ZXh0LWhhbG8tYmx1clwiOltcImhhbG9fYmx1clwiXSxcImljb24taGFsby1ibHVyXCI6W1wiaGFsb19ibHVyXCJdLFwidGV4dC1oYWxvLXdpZHRoXCI6W1wiaGFsb193aWR0aFwiXSxcImljb24taGFsby13aWR0aFwiOltcImhhbG9fd2lkdGhcIl0sXCJsaW5lLWdhcC13aWR0aFwiOltcImdhcHdpZHRoXCJdLFwibGluZS1wYXR0ZXJuXCI6W1wicGF0dGVybl90b1wiLFwicGF0dGVybl9mcm9tXCIsXCJwaXhlbF9yYXRpb190b1wiLFwicGl4ZWxfcmF0aW9fZnJvbVwiXSxcImZpbGwtcGF0dGVyblwiOltcInBhdHRlcm5fdG9cIixcInBhdHRlcm5fZnJvbVwiLFwicGl4ZWxfcmF0aW9fdG9cIixcInBpeGVsX3JhdGlvX2Zyb21cIl0sXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCI6W1wicGF0dGVybl90b1wiLFwicGF0dGVybl9mcm9tXCIsXCJwaXhlbF9yYXRpb190b1wiLFwicGl4ZWxfcmF0aW9fZnJvbVwiXSxcImxpbmUtZGFzaGFycmF5XCI6W1wiZGFzaF90b1wiLFwiZGFzaF9mcm9tXCJdfTtmdW5jdGlvbiB1cyhlLHQpe3JldHVybiBjc1tlXXx8W2UucmVwbGFjZSh0K1wiLVwiLFwiXCIpLnJlcGxhY2UoLy0vZyxcIl9cIildfWNvbnN0IGhzPXtcImxpbmUtcGF0dGVyblwiOntzb3VyY2U6cmEsY29tcG9zaXRlOnJhfSxcImZpbGwtcGF0dGVyblwiOntzb3VyY2U6cmEsY29tcG9zaXRlOnJhfSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjp7c291cmNlOnJhLGNvbXBvc2l0ZTpyYX0sXCJsaW5lLWRhc2hhcnJheVwiOntzb3VyY2U6bmEsY29tcG9zaXRlOm5hfX0sZHM9e2NvbG9yOntzb3VyY2U6YmEsY29tcG9zaXRlOnRhfSxudW1iZXI6e3NvdXJjZTpnYSxjb21wb3NpdGU6YmF9fTtmdW5jdGlvbiBwcyhlLHQscil7Y29uc3Qgbj1oc1tlXTtyZXR1cm4gbiYmbltyXXx8ZHNbdF1bcl19SWkocnMsXCJDb25zdGFudEJpbmRlclwiKSxJaShucyxcIkNyb3NzRmFkZWRDb25zdGFudEJpbmRlclwiKSxJaShpcyxcIlNvdXJjZUV4cHJlc3Npb25CaW5kZXJcIiksSWkoYXMsXCJDcm9zc0ZhZGVkQ29tcG9zaXRlQmluZGVyXCIpLElpKG9zLFwiQ29tcG9zaXRlRXhwcmVzc2lvbkJpbmRlclwiKSxJaShzcyxcIlByb2dyYW1Db25maWd1cmF0aW9uXCIse29taXQ6W1wiX2J1ZmZlcnNcIl19KSxJaShscyxcIlByb2dyYW1Db25maWd1cmF0aW9uU2V0XCIpO2NvbnN0IGZzPVwiLXRyYW5zaXRpb25cIjtjbGFzcyBtcyBleHRlbmRzIEhle2NvbnN0cnVjdG9yKGUsdCl7aWYoc3VwZXIoKSx0aGlzLmlkPWUuaWQsdGhpcy50eXBlPWUudHlwZSx0aGlzLl9mZWF0dXJlRmlsdGVyPXtmaWx0ZXI6KCk9PiEwLG5lZWRHZW9tZXRyeTohMSxuZWVkRmVhdHVyZTohMX0sdGhpcy5fZmlsdGVyQ29tcGlsZWQ9ITEsXCJjdXN0b21cIiE9PWUudHlwZSYmKHRoaXMubWV0YWRhdGE9ZS5tZXRhZGF0YSx0aGlzLm1pbnpvb209ZS5taW56b29tLHRoaXMubWF4em9vbT1lLm1heHpvb20sXCJiYWNrZ3JvdW5kXCIhPT1lLnR5cGUmJlwic2t5XCIhPT1lLnR5cGUmJih0aGlzLnNvdXJjZT1lLnNvdXJjZSx0aGlzLnNvdXJjZUxheWVyPWVbXCJzb3VyY2UtbGF5ZXJcIl0sdGhpcy5maWx0ZXI9ZS5maWx0ZXIpLHQubGF5b3V0JiYodGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQ9bmV3IE9vKHQubGF5b3V0KSksdC5wYWludCkpe3RoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQ9bmV3IERvKHQucGFpbnQpO2Zvcihjb25zdCB0IGluIGUucGFpbnQpdGhpcy5zZXRQYWludFByb3BlcnR5KHQsZS5wYWludFt0XSx7dmFsaWRhdGU6ITF9KTtmb3IoY29uc3QgdCBpbiBlLmxheW91dCl0aGlzLnNldExheW91dFByb3BlcnR5KHQsZS5sYXlvdXRbdF0se3ZhbGlkYXRlOiExfSk7dGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50PXRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQudW50cmFuc2l0aW9uZWQoKSx0aGlzLnBhaW50PW5ldyBGbyh0LnBhaW50KX19Z2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpe3JldHVybiB0aGlzLl9jcm9zc2ZhZGVQYXJhbWV0ZXJzfWdldExheW91dFByb3BlcnR5KGUpe3JldHVyblwidmlzaWJpbGl0eVwiPT09ZT90aGlzLnZpc2liaWxpdHk6dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuZ2V0VmFsdWUoZSl9c2V0TGF5b3V0UHJvcGVydHkoZSx0LHI9e30pe251bGwhPXQmJnRoaXMuX3ZhbGlkYXRlKEVpLGBsYXllcnMuJHt0aGlzLmlkfS5sYXlvdXQuJHtlfWAsZSx0LHIpfHwoXCJ2aXNpYmlsaXR5XCIhPT1lP3RoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LnNldFZhbHVlKGUsdCk6dGhpcy52aXNpYmlsaXR5PXQpfWdldFBhaW50UHJvcGVydHkoZSl7cmV0dXJuIEIoZSxmcyk/dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5nZXRUcmFuc2l0aW9uKGUuc2xpY2UoMCwtZnMubGVuZ3RoKSk6dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5nZXRWYWx1ZShlKX1zZXRQYWludFByb3BlcnR5KGUsdCxyPXt9KXtpZihudWxsIT10JiZ0aGlzLl92YWxpZGF0ZShUaSxgbGF5ZXJzLiR7dGhpcy5pZH0ucGFpbnQuJHtlfWAsZSx0LHIpKXJldHVybiExO2lmKEIoZSxmcykpcmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuc2V0VHJhbnNpdGlvbihlLnNsaWNlKDAsLWZzLmxlbmd0aCksdHx8dm9pZCAwKSwhMTt7Y29uc3Qgcj10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbZV0sbj1cImNyb3NzLWZhZGVkLWRhdGEtZHJpdmVuXCI9PT1yLnByb3BlcnR5LnNwZWNpZmljYXRpb25bXCJwcm9wZXJ0eS10eXBlXCJdLGk9ci52YWx1ZS5pc0RhdGFEcml2ZW4oKSxvPXIudmFsdWU7dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5zZXRWYWx1ZShlLHQpLHRoaXMuX2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKGUpO2NvbnN0IGE9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW2VdLnZhbHVlO3JldHVybiBhLmlzRGF0YURyaXZlbigpfHxpfHxufHx0aGlzLl9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGUoZSxvLGEpfX1faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUoZSl7fWdldFByb2dyYW1JZHMoKXtyZXR1cm4gbnVsbH1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihlKXtyZXR1cm4gbnVsbH1faGFuZGxlT3ZlcnJpZGFibGVQYWludFByb3BlcnR5VXBkYXRlKGUsdCxyKXtyZXR1cm4hMX1pc0hpZGRlbihlKXtyZXR1cm4hISh0aGlzLm1pbnpvb20mJmU8dGhpcy5taW56b29tKXx8ISEodGhpcy5tYXh6b29tJiZlPj10aGlzLm1heHpvb20pfHxcIm5vbmVcIj09PXRoaXMudmlzaWJpbGl0eX11cGRhdGVUcmFuc2l0aW9ucyhlKXt0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC50cmFuc2l0aW9uZWQoZSx0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQpfWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50Lmhhc1RyYW5zaXRpb24oKX1yZWNhbGN1bGF0ZShlLHQpe2UuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycyYmKHRoaXMuX2Nyb3NzZmFkZVBhcmFtZXRlcnM9ZS5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCkpLHRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0JiYodGhpcy5sYXlvdXQ9dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQucG9zc2libHlFdmFsdWF0ZShlLHZvaWQgMCx0KSksdGhpcy5wYWludD10aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQucG9zc2libHlFdmFsdWF0ZShlLHZvaWQgMCx0KX1zZXJpYWxpemUoKXtjb25zdCBlPXtpZDp0aGlzLmlkLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLnNvdXJjZSxcInNvdXJjZS1sYXllclwiOnRoaXMuc291cmNlTGF5ZXIsbWV0YWRhdGE6dGhpcy5tZXRhZGF0YSxtaW56b29tOnRoaXMubWluem9vbSxtYXh6b29tOnRoaXMubWF4em9vbSxmaWx0ZXI6dGhpcy5maWx0ZXIsbGF5b3V0OnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0JiZ0aGlzLl91bmV2YWx1YXRlZExheW91dC5zZXJpYWxpemUoKSxwYWludDp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50JiZ0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnNlcmlhbGl6ZSgpfTtyZXR1cm4gdGhpcy52aXNpYmlsaXR5JiYoZS5sYXlvdXQ9ZS5sYXlvdXR8fHt9LGUubGF5b3V0LnZpc2liaWxpdHk9dGhpcy52aXNpYmlsaXR5KSxqKGUsKGUsdCk9PiEodm9pZCAwPT09ZXx8XCJsYXlvdXRcIj09PXQmJiFPYmplY3Qua2V5cyhlKS5sZW5ndGh8fFwicGFpbnRcIj09PXQmJiFPYmplY3Qua2V5cyhlKS5sZW5ndGgpKX1fdmFsaWRhdGUoZSx0LHIsbixpPXt9KXtyZXR1cm4oIWl8fCExIT09aS52YWxpZGF0ZSkmJkNpKHRoaXMsZS5jYWxsKHdpLHtrZXk6dCxsYXllclR5cGU6dGhpcy50eXBlLG9iamVjdEtleTpyLHZhbHVlOm4sc3R5bGVTcGVjOlllLHN0eWxlOntnbHlwaHM6ITAsc3ByaXRlOiEwfX0pKX1pczNEKCl7cmV0dXJuITF9aXNTa3koKXtyZXR1cm4hMX1pc1RpbGVDbGlwcGVkKCl7cmV0dXJuITF9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiExfXJlc2l6ZSgpe31pc1N0YXRlRGVwZW5kZW50KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5wYWludC5fdmFsdWVzKXtjb25zdCB0PXRoaXMucGFpbnQuZ2V0KGUpO2lmKHQgaW5zdGFuY2VvZiBCbyYmQ24odC5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uKSYmKFwic291cmNlXCI9PT10LnZhbHVlLmtpbmR8fFwiY29tcG9zaXRlXCI9PT10LnZhbHVlLmtpbmQpJiZ0LnZhbHVlLmlzU3RhdGVEZXBlbmRlbnQpcmV0dXJuITB9cmV0dXJuITF9Y29tcGlsZUZpbHRlcigpe3RoaXMuX2ZpbHRlckNvbXBpbGVkfHwodGhpcy5fZmVhdHVyZUZpbHRlcj1Kbih0aGlzLmZpbHRlciksdGhpcy5fZmlsdGVyQ29tcGlsZWQ9ITApfWludmFsaWRhdGVDb21waWxlZEZpbHRlcigpe3RoaXMuX2ZpbHRlckNvbXBpbGVkPSExfWR5bmFtaWNGaWx0ZXIoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUZpbHRlci5keW5hbWljRmlsdGVyfWR5bmFtaWNGaWx0ZXJOZWVkc0ZlYXR1cmUoKXtyZXR1cm4gdGhpcy5fZmVhdHVyZUZpbHRlci5uZWVkRmVhdHVyZX19Y29uc3QgZ3M9SG8oW3tuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9XSw0KSxfcz1Ibyhbe25hbWU6XCJhX3Bvc18zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfcG9zX25vcm1hbF8zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifV0pO2NsYXNzIHlze2NvbnN0cnVjdG9yKGU9W10pe3RoaXMuc2VnbWVudHM9ZX1wcmVwYXJlU2VnbWVudChlLHQscixuKXtsZXQgaT10aGlzLnNlZ21lbnRzW3RoaXMuc2VnbWVudHMubGVuZ3RoLTFdO3JldHVybiBlPnlzLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIJiZWKGBNYXggdmVydGljZXMgcGVyIHNlZ21lbnQgaXMgJHt5cy5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSH06IGJ1Y2tldCByZXF1ZXN0ZWQgJHtlfWApLCghaXx8aS52ZXJ0ZXhMZW5ndGgrZT55cy5NQVhfVkVSVEVYX0FSUkFZX0xFTkdUSHx8aS5zb3J0S2V5IT09bikmJihpPXt2ZXJ0ZXhPZmZzZXQ6dC5sZW5ndGgscHJpbWl0aXZlT2Zmc2V0OnIubGVuZ3RoLHZlcnRleExlbmd0aDowLHByaW1pdGl2ZUxlbmd0aDowfSx2b2lkIDAhPT1uJiYoaS5zb3J0S2V5PW4pLHRoaXMuc2VnbWVudHMucHVzaChpKSksaX1nZXQoKXtyZXR1cm4gdGhpcy5zZWdtZW50c31kZXN0cm95KCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5zZWdtZW50cylmb3IoY29uc3QgdCBpbiBlLnZhb3MpZS52YW9zW3RdLmRlc3Ryb3koKX1zdGF0aWMgc2ltcGxlU2VnbWVudChlLHQscixuKXtyZXR1cm4gbmV3IHlzKFt7dmVydGV4T2Zmc2V0OmUscHJpbWl0aXZlT2Zmc2V0OnQsdmVydGV4TGVuZ3RoOnIscHJpbWl0aXZlTGVuZ3RoOm4sdmFvczp7fSxzb3J0S2V5OjB9XSl9fXlzLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIPU1hdGgucG93KDIsMTYpLTEsSWkoeXMsXCJTZWdtZW50VmVjdG9yXCIpO3ZhciB2cz04MTkyO2NsYXNzIHhze2NvbnN0cnVjdG9yKGUsdCl7ZSYmKHQ/dGhpcy5zZXRTb3V0aFdlc3QoZSkuc2V0Tm9ydGhFYXN0KHQpOjQ9PT1lLmxlbmd0aD90aGlzLnNldFNvdXRoV2VzdChbZVswXSxlWzFdXSkuc2V0Tm9ydGhFYXN0KFtlWzJdLGVbM11dKTp0aGlzLnNldFNvdXRoV2VzdChlWzBdKS5zZXROb3J0aEVhc3QoZVsxXSkpfXNldE5vcnRoRWFzdChlKXtyZXR1cm4gdGhpcy5fbmU9ZSBpbnN0YW5jZW9mIHdzP25ldyB3cyhlLmxuZyxlLmxhdCk6d3MuY29udmVydChlKSx0aGlzfXNldFNvdXRoV2VzdChlKXtyZXR1cm4gdGhpcy5fc3c9ZSBpbnN0YW5jZW9mIHdzP25ldyB3cyhlLmxuZyxlLmxhdCk6d3MuY29udmVydChlKSx0aGlzfWV4dGVuZChlKXtjb25zdCB0PXRoaXMuX3N3LHI9dGhpcy5fbmU7bGV0IG4saTtpZihlIGluc3RhbmNlb2Ygd3Mpbj1lLGk9ZTtlbHNle2lmKCEoZSBpbnN0YW5jZW9mIHhzKSlyZXR1cm4gQXJyYXkuaXNBcnJheShlKT80PT09ZS5sZW5ndGh8fGUuZXZlcnkoQXJyYXkuaXNBcnJheSk/dGhpcy5leHRlbmQoeHMuY29udmVydChlKSk6dGhpcy5leHRlbmQod3MuY29udmVydChlKSk6XCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZlLmhhc093blByb3BlcnR5KFwibGF0XCIpJiZlLmhhc093blByb3BlcnR5KFwibG9uXCIpP3RoaXMuZXh0ZW5kKHdzLmNvbnZlcnQoZSkpOnRoaXM7aWYobj1lLl9zdyxpPWUuX25lLCFufHwhaSlyZXR1cm4gdGhpc31yZXR1cm4gdHx8cj8odC5sbmc9TWF0aC5taW4obi5sbmcsdC5sbmcpLHQubGF0PU1hdGgubWluKG4ubGF0LHQubGF0KSxyLmxuZz1NYXRoLm1heChpLmxuZyxyLmxuZyksci5sYXQ9TWF0aC5tYXgoaS5sYXQsci5sYXQpKToodGhpcy5fc3c9bmV3IHdzKG4ubG5nLG4ubGF0KSx0aGlzLl9uZT1uZXcgd3MoaS5sbmcsaS5sYXQpKSx0aGlzfWdldENlbnRlcigpe3JldHVybiBuZXcgd3MoKHRoaXMuX3N3LmxuZyt0aGlzLl9uZS5sbmcpLzIsKHRoaXMuX3N3LmxhdCt0aGlzLl9uZS5sYXQpLzIpfWdldFNvdXRoV2VzdCgpe3JldHVybiB0aGlzLl9zd31nZXROb3J0aEVhc3QoKXtyZXR1cm4gdGhpcy5fbmV9Z2V0Tm9ydGhXZXN0KCl7cmV0dXJuIG5ldyB3cyh0aGlzLmdldFdlc3QoKSx0aGlzLmdldE5vcnRoKCkpfWdldFNvdXRoRWFzdCgpe3JldHVybiBuZXcgd3ModGhpcy5nZXRFYXN0KCksdGhpcy5nZXRTb3V0aCgpKX1nZXRXZXN0KCl7cmV0dXJuIHRoaXMuX3N3LmxuZ31nZXRTb3V0aCgpe3JldHVybiB0aGlzLl9zdy5sYXR9Z2V0RWFzdCgpe3JldHVybiB0aGlzLl9uZS5sbmd9Z2V0Tm9ydGgoKXtyZXR1cm4gdGhpcy5fbmUubGF0fXRvQXJyYXkoKXtyZXR1cm5bdGhpcy5fc3cudG9BcnJheSgpLHRoaXMuX25lLnRvQXJyYXkoKV19dG9TdHJpbmcoKXtyZXR1cm5gTG5nTGF0Qm91bmRzKCR7dGhpcy5fc3cudG9TdHJpbmcoKX0sICR7dGhpcy5fbmUudG9TdHJpbmcoKX0pYH1pc0VtcHR5KCl7cmV0dXJuISh0aGlzLl9zdyYmdGhpcy5fbmUpfWNvbnRhaW5zKGUpe2NvbnN0e2xuZzp0LGxhdDpyfT13cy5jb252ZXJ0KGUpO2xldCBuPXRoaXMuX3N3LmxuZzw9dCYmdDw9dGhpcy5fbmUubG5nO3JldHVybiB0aGlzLl9zdy5sbmc+dGhpcy5fbmUubG5nJiYobj10aGlzLl9zdy5sbmc+PXQmJnQ+PXRoaXMuX25lLmxuZyksdGhpcy5fc3cubGF0PD1yJiZyPD10aGlzLl9uZS5sYXQmJm59c3RhdGljIGNvbnZlcnQoZSl7cmV0dXJuIWV8fGUgaW5zdGFuY2VvZiB4cz9lOm5ldyB4cyhlKX19Y29uc3QgYnM9NjM3MTAwOC44O2NsYXNzIHdze2NvbnN0cnVjdG9yKGUsdCl7aWYoaXNOYU4oZSl8fGlzTmFOKHQpKXRocm93IG5ldyBFcnJvcihgSW52YWxpZCBMbmdMYXQgb2JqZWN0OiAoJHtlfSwgJHt0fSlgKTtpZih0aGlzLmxuZz0rZSx0aGlzLmxhdD0rdCx0aGlzLmxhdD45MHx8dGhpcy5sYXQ8LTkwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgTG5nTGF0IGxhdGl0dWRlIHZhbHVlOiBtdXN0IGJlIGJldHdlZW4gLTkwIGFuZCA5MFwiKX13cmFwKCl7cmV0dXJuIG5ldyB3cyhNKHRoaXMubG5nLC0xODAsMTgwKSx0aGlzLmxhdCl9dG9BcnJheSgpe3JldHVyblt0aGlzLmxuZyx0aGlzLmxhdF19dG9TdHJpbmcoKXtyZXR1cm5gTG5nTGF0KCR7dGhpcy5sbmd9LCAke3RoaXMubGF0fSlgfWRpc3RhbmNlVG8oZSl7Y29uc3QgdD1NYXRoLlBJLzE4MCxyPXRoaXMubGF0KnQsbj1lLmxhdCp0LGk9TWF0aC5zaW4ocikqTWF0aC5zaW4obikrTWF0aC5jb3MocikqTWF0aC5jb3MobikqTWF0aC5jb3MoKGUubG5nLXRoaXMubG5nKSp0KTtyZXR1cm4gYnMqTWF0aC5hY29zKE1hdGgubWluKGksMSkpfXRvQm91bmRzKGU9MCl7Y29uc3QgdD0zNjAqZS80MDA3NTAxNyxyPXQvTWF0aC5jb3MoTWF0aC5QSS8xODAqdGhpcy5sYXQpO3JldHVybiBuZXcgeHMobmV3IHdzKHRoaXMubG5nLXIsdGhpcy5sYXQtdCksbmV3IHdzKHRoaXMubG5nK3IsdGhpcy5sYXQrdCkpfXN0YXRpYyBjb252ZXJ0KGUpe2lmKGUgaW5zdGFuY2VvZiB3cylyZXR1cm4gZTtpZihBcnJheS5pc0FycmF5KGUpJiYoMj09PWUubGVuZ3RofHwzPT09ZS5sZW5ndGgpKXJldHVybiBuZXcgd3MoTnVtYmVyKGVbMF0pLE51bWJlcihlWzFdKSk7aWYoIUFycmF5LmlzQXJyYXkoZSkmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSlyZXR1cm4gbmV3IHdzKE51bWJlcihcImxuZ1wiaW4gZT9lLmxuZzplLmxvbiksTnVtYmVyKGUubGF0KSk7dGhyb3cgbmV3IEVycm9yKFwiYExuZ0xhdExpa2VgIGFyZ3VtZW50IG11c3QgYmUgc3BlY2lmaWVkIGFzIGEgTG5nTGF0IGluc3RhbmNlLCBhbiBvYmplY3Qge2xuZzogPGxuZz4sIGxhdDogPGxhdD59LCBhbiBvYmplY3Qge2xvbjogPGxuZz4sIGxhdDogPGxhdD59LCBvciBhbiBhcnJheSBvZiBbPGxuZz4sIDxsYXQ+XVwiKX19Y29uc3QgVHM9MipNYXRoLlBJKmJzO2Z1bmN0aW9uIEVzKGUpe3JldHVybiBUcypNYXRoLmNvcyhlKk1hdGguUEkvMTgwKX1mdW5jdGlvbiBTcyhlKXtyZXR1cm4oMTgwK2UpLzM2MH1mdW5jdGlvbiBDcyhlKXtyZXR1cm4oMTgwLTE4MC9NYXRoLlBJKk1hdGgubG9nKE1hdGgudGFuKE1hdGguUEkvNCtlKk1hdGguUEkvMzYwKSkpLzM2MH1mdW5jdGlvbiBNcyhlLHQpe3JldHVybiBlL0VzKHQpfWZ1bmN0aW9uIGtzKGUpe3JldHVybiAzNjAqZS0xODB9ZnVuY3Rpb24gQXMoZSl7cmV0dXJuIDM2MC9NYXRoLlBJKk1hdGguYXRhbihNYXRoLmV4cCgoMTgwLTM2MCplKSpNYXRoLlBJLzE4MCkpLTkwfWZ1bmN0aW9uIElzKGUsdCl7cmV0dXJuIGUqRXMoQXModCkpfWNvbnN0IFBzPTg1LjA1MTEyOTtmdW5jdGlvbiB6cyhlKXtyZXR1cm4gMS9NYXRoLmNvcyhlKk1hdGguUEkvMTgwKX1jbGFzcyBEc3tjb25zdHJ1Y3RvcihlLHQscj0wKXt0aGlzLng9K2UsdGhpcy55PSt0LHRoaXMuej0rcn1zdGF0aWMgZnJvbUxuZ0xhdChlLHQ9MCl7Y29uc3Qgcj13cy5jb252ZXJ0KGUpO3JldHVybiBuZXcgRHMoU3Moci5sbmcpLENzKHIubGF0KSxNcyh0LHIubGF0KSl9dG9MbmdMYXQoKXtyZXR1cm4gbmV3IHdzKGtzKHRoaXMueCksQXModGhpcy55KSl9dG9BbHRpdHVkZSgpe3JldHVybiBJcyh0aGlzLnosdGhpcy55KX1tZXRlckluTWVyY2F0b3JDb29yZGluYXRlVW5pdHMoKXtyZXR1cm4gMS9Ucyp6cyhBcyh0aGlzLnkpKX19ZnVuY3Rpb24gUnMoZSx0LHIsbixpLG8sYSxzLGwpe2NvbnN0IGM9KHQrbikvMix1PShyK2kpLzIsaD1uZXcgbShjLHUpO3MoaCksZnVuY3Rpb24oZSx0LHIsbixpLG8pe2NvbnN0IGE9ci1pLHM9bi1vO3JldHVybiBNYXRoLmFicygobi10KSphLShyLWUpKnMpL01hdGguaHlwb3QoYSxzKX0oaC54LGgueSxvLngsby55LGEueCxhLnkpPj1sPyhScyhlLHQscixjLHUsbyxoLHMsbCksUnMoZSxjLHUsbixpLGgsYSxzLGwpKTplLnB1c2goYSl9ZnVuY3Rpb24gTHMoZSx0LHIpe2xldCBuPWVbMF0saT1uLngsbz1uLnk7dChuKTtjb25zdCBhPVtuXTtmb3IobGV0IHM9MTtzPGUubGVuZ3RoO3MrKyl7Y29uc3QgbD1lW3NdLHt4OmMseTp1fT1sO3QobCksUnMoYSxpLG8sYyx1LG4sbCx0LHIpLGk9YyxvPXUsbj1sfXJldHVybiBhfWZ1bmN0aW9uIE9zKGUsdCxyLG4pe2lmKG4odCxyKSl7Y29uc3QgaT10LmFkZChyKS5fbXVsdCguNSk7T3MoZSx0LGksbiksT3MoZSxpLHIsbil9ZWxzZSBlLnB1c2gocil9ZnVuY3Rpb24gQnMoZSx0KXtsZXQgcj1lWzBdO2NvbnN0IG49W3JdO2ZvcihsZXQgaT0xO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBvPWVbaV07T3MobixyLG8sdCkscj1vfXJldHVybiBufWNvbnN0IEZzPU1hdGgucG93KDIsMTQpLTEsanM9LUZzLTE7ZnVuY3Rpb24gVXMoZSx0KXtjb25zdCByPU1hdGgucm91bmQoZS54KnQpLG49TWF0aC5yb3VuZChlLnkqdCk7cmV0dXJuIGUueD1TKHIsanMsRnMpLGUueT1TKG4sanMsRnMpLChyPGUueHx8cj5lLngrMXx8bjxlLnl8fG4+ZS55KzEpJiZWKFwiR2VvbWV0cnkgZXhjZWVkcyBhbGxvd2VkIGV4dGVudCwgcmVkdWNlIHlvdXIgdmVjdG9yIHRpbGUgYnVmZmVyIHNpemVcIiksZX1mdW5jdGlvbiBOcyhlLHQscil7Y29uc3Qgbj1lLmxvYWRHZW9tZXRyeSgpLGk9ZS5leHRlbnQsbz12cy9pO2lmKHQmJnImJnIucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2Upe2NvbnN0IG89MTw8dC56LHtzY2FsZTphLHg6cyx5OmwscHJvamVjdGlvbjpjfT1yLHU9ZT0+e2NvbnN0IHI9a3MoKHQueCtlLngvaSkvbyksbj1BcygodC55K2UueS9pKS9vKSx1PWMucHJvamVjdChyLG4pO2UueD0odS54KmEtcykqaSxlLnk9KHUueSphLWwpKml9O2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKDEhPT1lLnR5cGUpblt0XT1McyhuW3RdLHUsMSk7ZWxzZXtjb25zdCBlPVtdO2Zvcihjb25zdCByIG9mIG5bdF0pci54PDB8fHIueD49aXx8ci55PDB8fHIueT49aXx8KHUociksZS5wdXNoKHIpKTtuW3RdPWV9fWZvcihjb25zdCBlIG9mIG4pZm9yKGNvbnN0IHQgb2YgZSlVcyh0LG8pO3JldHVybiBufWZ1bmN0aW9uIFZzKGUsdCl7cmV0dXJue3R5cGU6ZS50eXBlLGlkOmUuaWQscHJvcGVydGllczplLnByb3BlcnRpZXMsZ2VvbWV0cnk6dD9OcyhlKTpbXX19ZnVuY3Rpb24gR3MoZSx0LHIsbixpKXtlLmVtcGxhY2VCYWNrKDIqdCsobisxKS8yLDIqcisoaSsxKS8yKX1mdW5jdGlvbiBxcyhlLHQscil7Y29uc3Qgbj0xNjM4NDtlLmVtcGxhY2VCYWNrKHQueCx0LnksdC56LHJbMF0qbixyWzFdKm4sclsyXSpuKX1jbGFzcyBac3tjb25zdHJ1Y3RvcihlKXt0aGlzLnpvb209ZS56b29tLHRoaXMub3ZlcnNjYWxpbmc9ZS5vdmVyc2NhbGluZyx0aGlzLmxheWVycz1lLmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcChlPT5lLmlkKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5oYXNQYXR0ZXJuPSExLHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb24sdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheT1uZXcgS28sdGhpcy5pbmRleEFycmF5PW5ldyBwYSx0aGlzLnNlZ21lbnRzPW5ldyB5cyx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgbHMoZS5sYXllcnMsZS56b29tKSx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKS5tYXAoZT0+ZS5pZCl9cG9wdWxhdGUoZSx0LHIsbil7Y29uc3QgaT10aGlzLmxheWVyc1swXSxvPVtdO2xldCBhPW51bGw7XCJjaXJjbGVcIj09PWkudHlwZSYmKGE9aS5sYXlvdXQuZ2V0KFwiY2lyY2xlLXNvcnQta2V5XCIpKTtmb3IoY29uc3R7ZmVhdHVyZTp0LGlkOmksaW5kZXg6cyxzb3VyY2VMYXllckluZGV4Omx9b2YgZSl7Y29uc3QgZT10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksYz1Wcyh0LGUpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IElvKHRoaXMuem9vbSksYyxyKSljb250aW51ZTtjb25zdCB1PWE/YS5ldmFsdWF0ZShjLHt9LHIpOnZvaWQgMCxoPXtpZDppLHByb3BlcnRpZXM6dC5wcm9wZXJ0aWVzLHR5cGU6dC50eXBlLHNvdXJjZUxheWVySW5kZXg6bCxpbmRleDpzLGdlb21ldHJ5OmU/Yy5nZW9tZXRyeTpOcyh0LHIsbikscGF0dGVybnM6e30sc29ydEtleTp1fTtvLnB1c2goaCl9YSYmby5zb3J0KChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KTtsZXQgcz1udWxsO1wiZ2xvYmVcIj09PW4ucHJvamVjdGlvbi5uYW1lJiYodGhpcy5nbG9iZUV4dFZlcnRleEFycmF5PW5ldyBCYSxzPW4ucHJvamVjdGlvbik7Zm9yKGNvbnN0IG4gb2Ygbyl7Y29uc3R7Z2VvbWV0cnk6aSxpbmRleDpvLHNvdXJjZUxheWVySW5kZXg6YX09bixsPWVbb10uZmVhdHVyZTt0aGlzLmFkZEZlYXR1cmUobixpLG8sdC5hdmFpbGFibGVJbWFnZXMscixzKSx0LmZlYXR1cmVJbmRleC5pbnNlcnQobCxpLG8sYSx0aGlzLmluZGV4KX19dXBkYXRlKGUsdCxyLG4pe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyhlLHQsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxyLG4pfWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofXVwbG9hZFBlbmRpbmcoKXtyZXR1cm4hdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9dXBsb2FkKGUpe3RoaXMudXBsb2FkZWR8fCh0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LGdzLm1lbWJlcnMpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheSYmKHRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5nbG9iZUV4dFZlcnRleEFycmF5LF9zLm1lbWJlcnMpKSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKGUpLHRoaXMudXBsb2FkZWQ9ITB9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyJiZ0aGlzLmdsb2JlRXh0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSl9YWRkRmVhdHVyZShlLHQscixuLGksbyl7Zm9yKGNvbnN0IHIgb2YgdClmb3IoY29uc3QgdCBvZiByKXtjb25zdCByPXQueCxuPXQueTtpZihyPDB8fHI+PXZzfHxuPDB8fG4+PXZzKWNvbnRpbnVlO2lmKG8pe2NvbnN0IGU9by5wcm9qZWN0VGlsZVBvaW50KHIsbixpKSx0PW8udXBWZWN0b3IoaSxyLG4pLGE9dGhpcy5nbG9iZUV4dFZlcnRleEFycmF5O3FzKGEsZSx0KSxxcyhhLGUsdCkscXMoYSxlLHQpLHFzKGEsZSx0KX1jb25zdCBhPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSxlLnNvcnRLZXkpLHM9YS52ZXJ0ZXhMZW5ndGg7R3ModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxyLG4sLTEsLTEpLEdzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkscixuLDEsLTEpLEdzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkscixuLDEsMSksR3ModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxyLG4sLTEsMSksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHMscysxLHMrMiksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHMscysyLHMrMyksYS52ZXJ0ZXhMZW5ndGgrPTQsYS5wcmltaXRpdmVMZW5ndGgrPTJ9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCxlLHIse30sbixpKX19ZnVuY3Rpb24gJHMoZSx0KXtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylpZih0bCh0LGVbcl0pKXJldHVybiEwO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWlmKHRsKGUsdFtyXSkpcmV0dXJuITA7cmV0dXJuISFZcyhlLHQpfWZ1bmN0aW9uIFdzKGUsdCxyKXtyZXR1cm4hIXRsKGUsdCl8fCEhSnModCxlLHIpfWZ1bmN0aW9uIFhzKGUsdCl7aWYoMT09PWUubGVuZ3RoKXJldHVybiBlbCh0LGVbMF0pO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtjb25zdCBuPXRbcl07Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0KyspaWYodGwoZSxuW3RdKSlyZXR1cm4hMH1mb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylpZihlbCh0LGVbcl0pKXJldHVybiEwO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWlmKFlzKGUsdFtyXSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gSHMoZSx0LHIpe2lmKGUubGVuZ3RoPjEpe2lmKFlzKGUsdCkpcmV0dXJuITA7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoSnModFtuXSxlLHIpKXJldHVybiEwfWZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKWlmKEpzKGVbbl0sdCxyKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBZcyhlLHQpe2lmKDA9PT1lLmxlbmd0aHx8MD09PXQubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGgtMTtyKyspe2NvbnN0IG49ZVtyXSxpPWVbcisxXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKWlmKEtzKG4saSx0W2VdLHRbZSsxXSkpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gS3MoZSx0LHIsbil7cmV0dXJuIEcoZSxyLG4pIT09Ryh0LHIsbikmJkcoZSx0LHIpIT09RyhlLHQsbil9ZnVuY3Rpb24gSnMoZSx0LHIpe2NvbnN0IG49cipyO2lmKDE9PT10Lmxlbmd0aClyZXR1cm4gZS5kaXN0U3FyKHRbMF0pPG47Zm9yKGxldCByPTE7cjx0Lmxlbmd0aDtyKyspaWYoUXMoZSx0W3ItMV0sdFtyXSk8bilyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBRcyhlLHQscil7Y29uc3Qgbj10LmRpc3RTcXIocik7aWYoMD09PW4pcmV0dXJuIGUuZGlzdFNxcih0KTtjb25zdCBpPSgoZS54LXQueCkqKHIueC10LngpKyhlLnktdC55KSooci55LXQueSkpL247cmV0dXJuIGUuZGlzdFNxcihpPDA/dDppPjE/cjpyLnN1Yih0KS5fbXVsdChpKS5fYWRkKHQpKX1mdW5jdGlvbiBlbChlLHQpe2xldCByLG4saSxvPSExO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKXtyPWVbYV07Zm9yKGxldCBlPTAsYT1yLmxlbmd0aC0xO2U8ci5sZW5ndGg7YT1lKyspbj1yW2VdLGk9clthXSxuLnk+dC55IT1pLnk+dC55JiZ0Lng8KGkueC1uLngpKih0Lnktbi55KS8oaS55LW4ueSkrbi54JiYobz0hbyl9cmV0dXJuIG99ZnVuY3Rpb24gdGwoZSx0KXtsZXQgcj0hMTtmb3IobGV0IG49MCxpPWUubGVuZ3RoLTE7bjxlLmxlbmd0aDtpPW4rKyl7Y29uc3Qgbz1lW25dLGE9ZVtpXTtvLnk+dC55IT1hLnk+dC55JiZ0Lng8KGEueC1vLngpKih0Lnktby55KS8oYS55LW8ueSkrby54JiYocj0hcil9cmV0dXJuIHJ9ZnVuY3Rpb24gcmwoZSx0LHIsbixpKXtmb3IoY29uc3QgbyBvZiBlKWlmKHQ8PW8ueCYmcjw9by55JiZuPj1vLngmJmk+PW8ueSlyZXR1cm4hMDtjb25zdCBvPVtuZXcgbSh0LHIpLG5ldyBtKHQsaSksbmV3IG0obixpKSxuZXcgbShuLHIpXTtpZihlLmxlbmd0aD4yKWZvcihjb25zdCB0IG9mIG8paWYodGwoZSx0KSlyZXR1cm4hMDtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoLTE7dCsrKWlmKG5sKGVbdF0sZVt0KzFdLG8pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIG5sKGUsdCxyKXtjb25zdCBuPXJbMF0saT1yWzJdO2lmKGUueDxuLngmJnQueDxuLnh8fGUueD5pLngmJnQueD5pLnh8fGUueTxuLnkmJnQueTxuLnl8fGUueT5pLnkmJnQueT5pLnkpcmV0dXJuITE7Y29uc3Qgbz1HKGUsdCxyWzBdKTtyZXR1cm4gbyE9PUcoZSx0LHJbMV0pfHxvIT09RyhlLHQsclsyXSl8fG8hPT1HKGUsdCxyWzNdKX1mdW5jdGlvbiBpbChlLHQscil7Y29uc3Qgbj10LnBhaW50LmdldChlKS52YWx1ZTtyZXR1cm5cImNvbnN0YW50XCI9PT1uLmtpbmQ/bi52YWx1ZTpyLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQodC5pZCkuZ2V0TWF4VmFsdWUoZSl9ZnVuY3Rpb24gb2woZSl7cmV0dXJuIE1hdGguc3FydChlWzBdKmVbMF0rZVsxXSplWzFdKX1mdW5jdGlvbiBhbChlLHQscixuLGkpe2lmKCF0WzBdJiYhdFsxXSlyZXR1cm4gZTtjb25zdCBvPW0uY29udmVydCh0KS5fbXVsdChpKTtcInZpZXdwb3J0XCI9PT1yJiZvLl9yb3RhdGUoLW4pO2NvbnN0IGE9W107Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspYS5wdXNoKGVbdF0uc3ViKG8pKTtyZXR1cm4gYX1mdW5jdGlvbiBzbChlLHQscixuKXtjb25zdCBpPW0uY29udmVydChlKS5fbXVsdChuKTtyZXR1cm5cInZpZXdwb3J0XCI9PT10JiZpLl9yb3RhdGUoLXIpLGl9SWkoWnMsXCJDaXJjbGVCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIl19KTtjb25zdCBsbD1uZXcgcW8oe1wiY2lyY2xlLXNvcnQta2V5XCI6bmV3IFVvKFllLmxheW91dF9jaXJjbGVbXCJjaXJjbGUtc29ydC1rZXlcIl0pfSk7dmFyIGNsPXtwYWludDpuZXcgcW8oe1wiY2lyY2xlLXJhZGl1c1wiOm5ldyBVbyhZZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtcmFkaXVzXCJdKSxcImNpcmNsZS1jb2xvclwiOm5ldyBVbyhZZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtY29sb3JcIl0pLFwiY2lyY2xlLWJsdXJcIjpuZXcgVW8oWWUucGFpbnRfY2lyY2xlW1wiY2lyY2xlLWJsdXJcIl0pLFwiY2lyY2xlLW9wYWNpdHlcIjpuZXcgVW8oWWUucGFpbnRfY2lyY2xlW1wiY2lyY2xlLW9wYWNpdHlcIl0pLFwiY2lyY2xlLXRyYW5zbGF0ZVwiOm5ldyBqbyhZZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtdHJhbnNsYXRlXCJdKSxcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IGpvKFllLnBhaW50X2NpcmNsZVtcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImNpcmNsZS1waXRjaC1zY2FsZVwiOm5ldyBqbyhZZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIl0pLFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiOm5ldyBqbyhZZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCJdKSxcImNpcmNsZS1zdHJva2Utd2lkdGhcIjpuZXcgVW8oWWUucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXN0cm9rZS13aWR0aFwiXSksXCJjaXJjbGUtc3Ryb2tlLWNvbG9yXCI6bmV3IFVvKFllLnBhaW50X2NpcmNsZVtcImNpcmNsZS1zdHJva2UtY29sb3JcIl0pLFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCI6bmV3IFVvKFllLnBhaW50X2NpcmNsZVtcImNpcmNsZS1zdHJva2Utb3BhY2l0eVwiXSl9KSxsYXlvdXQ6bGx9LHVsPTFlLTYsaGw9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEZsb2F0MzJBcnJheT9GbG9hdDMyQXJyYXk6QXJyYXk7ZnVuY3Rpb24gZGwoKXt2YXIgZT1uZXcgaGwoOSk7cmV0dXJuIGhsIT1GbG9hdDMyQXJyYXkmJihlWzFdPTAsZVsyXT0wLGVbM109MCxlWzVdPTAsZVs2XT0wLGVbN109MCksZVswXT0xLGVbNF09MSxlWzhdPTEsZX1mdW5jdGlvbiBwbChlLHQscil7dmFyIG49dFswXSxpPXRbMV0sbz10WzJdLGE9dFszXSxzPXRbNF0sbD10WzVdLGM9dFs2XSx1PXRbN10saD10WzhdLGQ9clswXSxwPXJbMV0sZj1yWzJdLG09clszXSxnPXJbNF0sXz1yWzVdLHk9cls2XSx2PXJbN10seD1yWzhdO3JldHVybiBlWzBdPWQqbitwKmErZipjLGVbMV09ZCppK3AqcytmKnUsZVsyXT1kKm8rcCpsK2YqaCxlWzNdPW0qbitnKmErXypjLGVbNF09bSppK2cqcytfKnUsZVs1XT1tKm8rZypsK18qaCxlWzZdPXkqbit2KmEreCpjLGVbN109eSppK3Yqcyt4KnUsZVs4XT15Km8rdipsK3gqaCxlfWZ1bmN0aW9uIGZsKGUpe3JldHVybiBlWzBdPTEsZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09MSxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMF09MSxlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsZX1mdW5jdGlvbiBtbChlLHQpe3ZhciByPXRbMF0sbj10WzFdLGk9dFsyXSxvPXRbM10sYT10WzRdLHM9dFs1XSxsPXRbNl0sYz10WzddLHU9dFs4XSxoPXRbOV0sZD10WzEwXSxwPXRbMTFdLGY9dFsxMl0sbT10WzEzXSxnPXRbMTRdLF89dFsxNV0seT1yKnMtbiphLHY9cipsLWkqYSx4PXIqYy1vKmEsYj1uKmwtaSpzLHc9bipjLW8qcyxUPWkqYy1vKmwsRT11Km0taCpmLFM9dSpnLWQqZixDPXUqXy1wKmYsTT1oKmctZCptLGs9aCpfLXAqbSxBPWQqXy1wKmcsST15KkEtdiprK3gqTStiKkMtdypTK1QqRTtyZXR1cm4gST8oZVswXT0ocypBLWwqaytjKk0pKihJPTEvSSksZVsxXT0oaSprLW4qQS1vKk0pKkksZVsyXT0obSpULWcqdytfKmIpKkksZVszXT0oZCp3LWgqVC1wKmIpKkksZVs0XT0obCpDLWEqQS1jKlMpKkksZVs1XT0ocipBLWkqQytvKlMpKkksZVs2XT0oZyp4LWYqVC1fKnYpKkksZVs3XT0odSpULWQqeCtwKnYpKkksZVs4XT0oYSprLXMqQytjKkUpKkksZVs5XT0obipDLXIqay1vKkUpKkksZVsxMF09KGYqdy1tKngrXyp5KSpJLGVbMTFdPShoKngtdSp3LXAqeSkqSSxlWzEyXT0ocypTLWEqTS1sKkUpKkksZVsxM109KHIqTS1uKlMraSpFKSpJLGVbMTRdPShtKnYtZipiLWcqeSkqSSxlWzE1XT0odSpiLWgqditkKnkpKkksZSk6bnVsbH1mdW5jdGlvbiBnbChlLHQscil7dmFyIG49dFswXSxpPXRbMV0sbz10WzJdLGE9dFszXSxzPXRbNF0sbD10WzVdLGM9dFs2XSx1PXRbN10saD10WzhdLGQ9dFs5XSxwPXRbMTBdLGY9dFsxMV0sbT10WzEyXSxnPXRbMTNdLF89dFsxNF0seT10WzE1XSx2PXJbMF0seD1yWzFdLGI9clsyXSx3PXJbM107cmV0dXJuIGVbMF09dipuK3gqcytiKmgrdyptLGVbMV09dippK3gqbCtiKmQrdypnLGVbMl09dipvK3gqYytiKnArdypfLGVbM109diphK3gqdStiKmYrdyp5LGVbNF09KHY9cls0XSkqbisoeD1yWzVdKSpzKyhiPXJbNl0pKmgrKHc9cls3XSkqbSxlWzVdPXYqaSt4KmwrYipkK3cqZyxlWzZdPXYqbyt4KmMrYipwK3cqXyxlWzddPXYqYSt4KnUrYipmK3cqeSxlWzhdPSh2PXJbOF0pKm4rKHg9cls5XSkqcysoYj1yWzEwXSkqaCsodz1yWzExXSkqbSxlWzldPXYqaSt4KmwrYipkK3cqZyxlWzEwXT12Km8reCpjK2IqcCt3Kl8sZVsxMV09diphK3gqdStiKmYrdyp5LGVbMTJdPSh2PXJbMTJdKSpuKyh4PXJbMTNdKSpzKyhiPXJbMTRdKSpoKyh3PXJbMTVdKSptLGVbMTNdPXYqaSt4KmwrYipkK3cqZyxlWzE0XT12Km8reCpjK2IqcCt3Kl8sZVsxNV09diphK3gqdStiKmYrdyp5LGV9ZnVuY3Rpb24gX2woZSx0LHIpe3ZhciBuLGksbyxhLHMsbCxjLHUsaCxkLHAsZixtPXJbMF0sZz1yWzFdLF89clsyXTtyZXR1cm4gdD09PWU/KGVbMTJdPXRbMF0qbSt0WzRdKmcrdFs4XSpfK3RbMTJdLGVbMTNdPXRbMV0qbSt0WzVdKmcrdFs5XSpfK3RbMTNdLGVbMTRdPXRbMl0qbSt0WzZdKmcrdFsxMF0qXyt0WzE0XSxlWzE1XT10WzNdKm0rdFs3XSpnK3RbMTFdKl8rdFsxNV0pOihpPXRbMV0sbz10WzJdLGE9dFszXSxzPXRbNF0sbD10WzVdLGM9dFs2XSx1PXRbN10saD10WzhdLGQ9dFs5XSxwPXRbMTBdLGY9dFsxMV0sZVswXT1uPXRbMF0sZVsxXT1pLGVbMl09byxlWzNdPWEsZVs0XT1zLGVbNV09bCxlWzZdPWMsZVs3XT11LGVbOF09aCxlWzldPWQsZVsxMF09cCxlWzExXT1mLGVbMTJdPW4qbStzKmcraCpfK3RbMTJdLGVbMTNdPWkqbStsKmcrZCpfK3RbMTNdLGVbMTRdPW8qbStjKmcrcCpfK3RbMTRdLGVbMTVdPWEqbSt1KmcrZipfK3RbMTVdKSxlfWZ1bmN0aW9uIHlsKGUsdCxyKXt2YXIgbj1yWzBdLGk9clsxXSxvPXJbMl07cmV0dXJuIGVbMF09dFswXSpuLGVbMV09dFsxXSpuLGVbMl09dFsyXSpuLGVbM109dFszXSpuLGVbNF09dFs0XSppLGVbNV09dFs1XSppLGVbNl09dFs2XSppLGVbN109dFs3XSppLGVbOF09dFs4XSpvLGVbOV09dFs5XSpvLGVbMTBdPXRbMTBdKm8sZVsxMV09dFsxMV0qbyxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSxlfWZ1bmN0aW9uIHZsKGUsdCxyKXt2YXIgbj1NYXRoLnNpbihyKSxpPU1hdGguY29zKHIpLG89dFs0XSxhPXRbNV0scz10WzZdLGw9dFs3XSxjPXRbOF0sdT10WzldLGg9dFsxMF0sZD10WzExXTtyZXR1cm4gdCE9PWUmJihlWzBdPXRbMF0sZVsxXT10WzFdLGVbMl09dFsyXSxlWzNdPXRbM10sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0pLGVbNF09byppK2MqbixlWzVdPWEqaSt1Km4sZVs2XT1zKmkraCpuLGVbN109bCppK2QqbixlWzhdPWMqaS1vKm4sZVs5XT11KmktYSpuLGVbMTBdPWgqaS1zKm4sZVsxMV09ZCppLWwqbixlfWZ1bmN0aW9uIHhsKGUsdCxyKXt2YXIgbj1NYXRoLnNpbihyKSxpPU1hdGguY29zKHIpLG89dFswXSxhPXRbMV0scz10WzJdLGw9dFszXSxjPXRbOF0sdT10WzldLGg9dFsxMF0sZD10WzExXTtyZXR1cm4gdCE9PWUmJihlWzRdPXRbNF0sZVs1XT10WzVdLGVbNl09dFs2XSxlWzddPXRbN10sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0pLGVbMF09byppLWMqbixlWzFdPWEqaS11Km4sZVsyXT1zKmktaCpuLGVbM109bCppLWQqbixlWzhdPW8qbitjKmksZVs5XT1hKm4rdSppLGVbMTBdPXMqbitoKmksZVsxMV09bCpuK2QqaSxlfWZ1bmN0aW9uIGJsKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT10WzFdLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT10WzJdLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfWZ1bmN0aW9uIHdsKGUsdCxyKXt2YXIgbixpLG8sYT1yWzBdLHM9clsxXSxsPXJbMl0sYz1NYXRoLmh5cG90KGEscyxsKTtyZXR1cm4gYzx1bD9udWxsOihhKj1jPTEvYyxzKj1jLGwqPWMsbj1NYXRoLnNpbih0KSxpPU1hdGguY29zKHQpLGVbMF09YSphKihvPTEtaSkraSxlWzFdPXMqYSpvK2wqbixlWzJdPWwqYSpvLXMqbixlWzNdPTAsZVs0XT1hKnMqby1sKm4sZVs1XT1zKnMqbytpLGVbNl09bCpzKm8rYSpuLGVbN109MCxlWzhdPWEqbCpvK3MqbixlWzldPXMqbCpvLWEqbixlWzEwXT1sKmwqbytpLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlKX1NYXRoLmh5cG90fHwoTWF0aC5oeXBvdD1mdW5jdGlvbigpe2Zvcih2YXIgZT0wLHQ9YXJndW1lbnRzLmxlbmd0aDt0LS07KWUrPWFyZ3VtZW50c1t0XSphcmd1bWVudHNbdF07cmV0dXJuIE1hdGguc3FydChlKX0pO3ZhciBUbD1nbDtmdW5jdGlvbiBFbCgpe3ZhciBlPW5ldyBobCgzKTtyZXR1cm4gaGwhPUZsb2F0MzJBcnJheSYmKGVbMF09MCxlWzFdPTAsZVsyXT0wKSxlfWZ1bmN0aW9uIFNsKGUpe3ZhciB0PW5ldyBobCgzKTtyZXR1cm4gdFswXT1lWzBdLHRbMV09ZVsxXSx0WzJdPWVbMl0sdH1mdW5jdGlvbiBDbChlKXtyZXR1cm4gTWF0aC5oeXBvdChlWzBdLGVbMV0sZVsyXSl9ZnVuY3Rpb24gTWwoZSx0LHIpe3ZhciBuPW5ldyBobCgzKTtyZXR1cm4gblswXT1lLG5bMV09dCxuWzJdPXIsbn1mdW5jdGlvbiBrbChlLHQscil7cmV0dXJuIGVbMF09dFswXStyWzBdLGVbMV09dFsxXStyWzFdLGVbMl09dFsyXStyWzJdLGV9ZnVuY3Rpb24gQWwoZSx0LHIpe3JldHVybiBlWzBdPXRbMF0tclswXSxlWzFdPXRbMV0tclsxXSxlWzJdPXRbMl0tclsyXSxlfWZ1bmN0aW9uIElsKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdKnJbMF0sZVsxXT10WzFdKnJbMV0sZVsyXT10WzJdKnJbMl0sZX1mdW5jdGlvbiBQbChlLHQscil7cmV0dXJuIGVbMF09TWF0aC5taW4odFswXSxyWzBdKSxlWzFdPU1hdGgubWluKHRbMV0sclsxXSksZVsyXT1NYXRoLm1pbih0WzJdLHJbMl0pLGV9ZnVuY3Rpb24gemwoZSx0LHIpe3JldHVybiBlWzBdPU1hdGgubWF4KHRbMF0sclswXSksZVsxXT1NYXRoLm1heCh0WzFdLHJbMV0pLGVbMl09TWF0aC5tYXgodFsyXSxyWzJdKSxlfWZ1bmN0aW9uIERsKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdKnIsZVsxXT10WzFdKnIsZVsyXT10WzJdKnIsZX1mdW5jdGlvbiBSbChlLHQscixuKXtyZXR1cm4gZVswXT10WzBdK3JbMF0qbixlWzFdPXRbMV0rclsxXSpuLGVbMl09dFsyXStyWzJdKm4sZX1mdW5jdGlvbiBMbChlLHQpe3ZhciByPXRbMF0sbj10WzFdLGk9dFsyXSxvPXIqcituKm4raSppO3JldHVybiBvPjAmJihvPTEvTWF0aC5zcXJ0KG8pKSxlWzBdPXRbMF0qbyxlWzFdPXRbMV0qbyxlWzJdPXRbMl0qbyxlfWZ1bmN0aW9uIE9sKGUsdCl7cmV0dXJuIGVbMF0qdFswXStlWzFdKnRbMV0rZVsyXSp0WzJdfWZ1bmN0aW9uIEJsKGUsdCxyKXt2YXIgbj10WzBdLGk9dFsxXSxvPXRbMl0sYT1yWzBdLHM9clsxXSxsPXJbMl07cmV0dXJuIGVbMF09aSpsLW8qcyxlWzFdPW8qYS1uKmwsZVsyXT1uKnMtaSphLGV9ZnVuY3Rpb24gRmwoZSx0LHIpe3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXJbM10qbityWzddKmkrclsxMV0qbytyWzE1XTtyZXR1cm4gZVswXT0oclswXSpuK3JbNF0qaStyWzhdKm8rclsxMl0pLyhhPWF8fDEpLGVbMV09KHJbMV0qbityWzVdKmkrcls5XSpvK3JbMTNdKS9hLGVbMl09KHJbMl0qbityWzZdKmkrclsxMF0qbytyWzE0XSkvYSxlfWZ1bmN0aW9uIGpsKGUsdCxyKXt2YXIgbj1yWzBdLGk9clsxXSxvPXJbMl0sYT10WzBdLHM9dFsxXSxsPXRbMl0sYz1pKmwtbypzLHU9byphLW4qbCxoPW4qcy1pKmEsZD1pKmgtbyp1LHA9bypjLW4qaCxmPW4qdS1pKmMsbT0yKnJbM107cmV0dXJuIHUqPW0saCo9bSxwKj0yLGYqPTIsZVswXT1hKyhjKj1tKSsoZCo9MiksZVsxXT1zK3UrcCxlWzJdPWwraCtmLGV9dmFyIFVsLE5sPUFsLFZsPUlsLEdsPUNsO2Z1bmN0aW9uIHFsKGUsdCxyKXtyZXR1cm4gZVswXT10WzBdKnIsZVsxXT10WzFdKnIsZVsyXT10WzJdKnIsZVszXT10WzNdKnIsZX1mdW5jdGlvbiBabChlLHQpe3ZhciByPXRbMF0sbj10WzFdLGk9dFsyXSxvPXRbM10sYT1yKnIrbipuK2kqaStvKm87cmV0dXJuIGE+MCYmKGE9MS9NYXRoLnNxcnQoYSkpLGVbMF09ciphLGVbMV09biphLGVbMl09aSphLGVbM109byphLGV9ZnVuY3Rpb24gJGwoZSx0LHIpe3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXRbM107cmV0dXJuIGVbMF09clswXSpuK3JbNF0qaStyWzhdKm8rclsxMl0qYSxlWzFdPXJbMV0qbityWzVdKmkrcls5XSpvK3JbMTNdKmEsZVsyXT1yWzJdKm4rcls2XSppK3JbMTBdKm8rclsxNF0qYSxlWzNdPXJbM10qbityWzddKmkrclsxMV0qbytyWzE1XSphLGV9ZnVuY3Rpb24gV2woKXt2YXIgZT1uZXcgaGwoNCk7cmV0dXJuIGhsIT1GbG9hdDMyQXJyYXkmJihlWzBdPTAsZVsxXT0wLGVbMl09MCksZVszXT0xLGV9ZnVuY3Rpb24gWGwoZSl7cmV0dXJuIGVbMF09MCxlWzFdPTAsZVsyXT0wLGVbM109MSxlfWZ1bmN0aW9uIEhsKGUsdCxyKXtyKj0uNTt2YXIgbj10WzBdLGk9dFsxXSxvPXRbMl0sYT10WzNdLHM9TWF0aC5zaW4ociksbD1NYXRoLmNvcyhyKTtyZXR1cm4gZVswXT1uKmwrYSpzLGVbMV09aSpsK28qcyxlWzJdPW8qbC1pKnMsZVszXT1hKmwtbipzLGV9ZnVuY3Rpb24gWWwoZSx0LHIpe3IqPS41O3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXRbM10scz1NYXRoLnNpbihyKSxsPU1hdGguY29zKHIpO3JldHVybiBlWzBdPW4qbC1vKnMsZVsxXT1pKmwrYSpzLGVbMl09bypsK24qcyxlWzNdPWEqbC1pKnMsZX1FbCgpLFVsPW5ldyBobCg0KSxobCE9RmxvYXQzMkFycmF5JiYoVWxbMF09MCxVbFsxXT0wLFVsWzJdPTAsVWxbM109MCk7dmFyIEtsPVpsO0VsKCksTWwoMSwwLDApLE1sKDAsMSwwKSxXbCgpLFdsKCksZGwoKTtjbGFzcyBKbHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucG9zPWUsdGhpcy5kaXI9dH1pbnRlcnNlY3RzUGxhbmUoZSx0LHIpe2NvbnN0IG49T2wodCx0aGlzLmRpcik7aWYoTWF0aC5hYnMobik8MWUtNilyZXR1cm4hMTtjb25zdCBpPSgoZVswXS10aGlzLnBvc1swXSkqdFswXSsoZVsxXS10aGlzLnBvc1sxXSkqdFsxXSsoZVsyXS10aGlzLnBvc1syXSkqdFsyXSkvbjtyZXR1cm4gclswXT10aGlzLnBvc1swXSt0aGlzLmRpclswXSppLHJbMV09dGhpcy5wb3NbMV0rdGhpcy5kaXJbMV0qaSxyWzJdPXRoaXMucG9zWzJdK3RoaXMuZGlyWzJdKmksITB9Y2xvc2VzdFBvaW50T25TcGhlcmUoZSx0LHIpe2lmKGZ1bmN0aW9uKGUsdCl7dmFyIHI9ZVswXSxuPWVbMV0saT1lWzJdLG89dFswXSxhPXRbMV0scz10WzJdO3JldHVybiBNYXRoLmFicyhyLW8pPD11bCpNYXRoLm1heCgxLE1hdGguYWJzKHIpLE1hdGguYWJzKG8pKSYmTWF0aC5hYnMobi1hKTw9dWwqTWF0aC5tYXgoMSxNYXRoLmFicyhuKSxNYXRoLmFicyhhKSkmJk1hdGguYWJzKGktcyk8PXVsKk1hdGgubWF4KDEsTWF0aC5hYnMoaSksTWF0aC5hYnMocykpfSh0aGlzLnBvcyxlKXx8MD09PXQpcmV0dXJuIHJbMF09clsxXT1yWzJdPTAsITE7Y29uc3RbbixpLG9dPXRoaXMuZGlyLGE9dGhpcy5wb3NbMF0tZVswXSxzPXRoaXMucG9zWzFdLWVbMV0sbD10aGlzLnBvc1syXS1lWzJdLGM9bipuK2kqaStvKm8sdT0yKihhKm4rcyppK2wqbyksaD11KnUtNCpjKihhKmErcypzK2wqbC10KnQpO2lmKGg8MCl7Y29uc3QgZT1NYXRoLm1heCgtdS8yLDApLGM9YStuKmUsaD1zK2kqZSxkPWwrbyplLHA9TWF0aC5oeXBvdChjLGgsZCk7cmV0dXJuIHJbMF09Yyp0L3AsclsxXT1oKnQvcCxyWzJdPWQqdC9wLCExfXtjb25zdCBlPSgtdS1NYXRoLnNxcnQoaCkpLygyKmMpO2lmKGU8MCl7Y29uc3QgZT1NYXRoLmh5cG90KGEscyxsKTtyZXR1cm4gclswXT1hKnQvZSxyWzFdPXMqdC9lLHJbMl09bCp0L2UsITF9cmV0dXJuIHJbMF09YStuKmUsclsxXT1zK2kqZSxyWzJdPWwrbyplLCEwfX19Y2xhc3MgUWx7Y29uc3RydWN0b3IoZSx0LHIsbixpKXt0aGlzLlRMPWUsdGhpcy5UUj10LHRoaXMuQlI9cix0aGlzLkJMPW4sdGhpcy5ob3Jpem9uPWl9c3RhdGljIGZyb21JbnZQcm9qZWN0aW9uTWF0cml4KGUsdCxyKXtjb25zdCBuPVstMSwxLDFdLGk9WzEsMSwxXSxvPVsxLC0xLDFdLGE9Wy0xLC0xLDFdLHM9RmwobixuLGUpLGw9RmwoaSxpLGUpLGM9RmwobyxvLGUpLHU9RmwoYSxhLGUpO3JldHVybiBuZXcgUWwocyxsLGMsdSx0L3IpfX1jbGFzcyBlY3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMucG9pbnRzPWUsdGhpcy5wbGFuZXM9dH1zdGF0aWMgZnJvbUludlByb2plY3Rpb25NYXRyaXgoZSx0LHIsbil7Y29uc3QgaT1NYXRoLnBvdygyLHIpLG89W1stMSwxLC0xLDFdLFsxLDEsLTEsMV0sWzEsLTEsLTEsMV0sWy0xLC0xLC0xLDFdLFstMSwxLDEsMV0sWzEsMSwxLDFdLFsxLC0xLDEsMV0sWy0xLC0xLDEsMV1dLm1hcChyPT57Y29uc3Qgbz0kbChbXSxyLGUpLGE9MS9vWzNdL3QqaTtyZXR1cm4gZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzBdPXRbMF0qclswXSxlWzFdPXRbMV0qclsxXSxlWzJdPXRbMl0qclsyXSxlWzNdPXRbM10qclszXSxlfShvLG8sW2EsYSxuPzEvb1szXTphLGFdKX0pLGE9W1swLDEsMl0sWzYsNSw0XSxbMCwzLDddLFsyLDEsNV0sWzMsMiw2XSxbMCw0LDVdXS5tYXAoZT0+e2NvbnN0IHQ9TGwoW10sQmwoW10sTmwoW10sb1tlWzBdXSxvW2VbMV1dKSxObChbXSxvW2VbMl1dLG9bZVsxXV0pKSkscj0tT2wodCxvW2VbMV1dKTtyZXR1cm4gdC5jb25jYXQocil9KTtyZXR1cm4gbmV3IGVjKG8sYSl9fWNsYXNzIHRje3N0YXRpYyBmcm9tUG9pbnRzKGUpe2NvbnN0IHQ9WzEvMCwxLzAsMS8wXSxyPVstMS8wLC0xLzAsLTEvMF07Zm9yKGNvbnN0IG4gb2YgZSlQbCh0LHQsbiksemwocixyLG4pO3JldHVybiBuZXcgdGModCxyKX1zdGF0aWMgYXBwbHlUcmFuc2Zvcm0oZSx0KXtjb25zdCByPWUuZ2V0Q29ybmVycygpO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7KytlKUZsKHJbZV0scltlXSx0KTtyZXR1cm4gdGMuZnJvbVBvaW50cyhyKX1jb25zdHJ1Y3RvcihlLHQpe3RoaXMubWluPWUsdGhpcy5tYXg9dCx0aGlzLmNlbnRlcj1EbChbXSxrbChbXSx0aGlzLm1pbix0aGlzLm1heCksLjUpfXF1YWRyYW50KGUpe2NvbnN0IHQ9W2UlMj09MCxlPDJdLHI9U2wodGhpcy5taW4pLG49U2wodGhpcy5tYXgpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXJbZV09dFtlXT90aGlzLm1pbltlXTp0aGlzLmNlbnRlcltlXSxuW2VdPXRbZV0/dGhpcy5jZW50ZXJbZV06dGhpcy5tYXhbZV07cmV0dXJuIG5bMl09dGhpcy5tYXhbMl0sbmV3IHRjKHIsbil9ZGlzdGFuY2VYKGUpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFswXSxlWzBdKSx0aGlzLm1pblswXSktZVswXX1kaXN0YW5jZVkoZSl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzFdLGVbMV0pLHRoaXMubWluWzFdKS1lWzFdfWRpc3RhbmNlWihlKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5tYXhbMl0sZVsyXSksdGhpcy5taW5bMl0pLWVbMl19Z2V0Q29ybmVycygpe2NvbnN0IGU9dGhpcy5taW4sdD10aGlzLm1heDtyZXR1cm5bW2VbMF0sZVsxXSxlWzJdXSxbdFswXSxlWzFdLGVbMl1dLFt0WzBdLHRbMV0sZVsyXV0sW2VbMF0sdFsxXSxlWzJdXSxbZVswXSxlWzFdLHRbMl1dLFt0WzBdLGVbMV0sdFsyXV0sW3RbMF0sdFsxXSx0WzJdXSxbZVswXSx0WzFdLHRbMl1dXX1pbnRlcnNlY3RzKGUpe2NvbnN0IHQ9dGhpcy5nZXRDb3JuZXJzKCk7bGV0IHI9ITA7Zm9yKGxldCBuPTA7bjxlLnBsYW5lcy5sZW5ndGg7bisrKXtjb25zdCBpPWUucGxhbmVzW25dO2xldCBvPTA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspbys9T2woaSx0W2VdKStpWzNdPj0wO2lmKDA9PT1vKXJldHVybiAwO28hPT10Lmxlbmd0aCYmKHI9ITEpfWlmKHIpcmV0dXJuIDI7Zm9yKGxldCB0PTA7dDwzO3QrKyl7bGV0IHI9TnVtYmVyLk1BWF9WQUxVRSxuPS1OdW1iZXIuTUFYX1ZBTFVFO2ZvcihsZXQgaT0wO2k8ZS5wb2ludHMubGVuZ3RoO2krKyl7Y29uc3Qgbz1lLnBvaW50c1tpXVt0XS10aGlzLm1pblt0XTtyPU1hdGgubWluKHIsbyksbj1NYXRoLm1heChuLG8pfWlmKG48MHx8cj50aGlzLm1heFt0XS10aGlzLm1pblt0XSlyZXR1cm4gMH1yZXR1cm4gMX19ZnVuY3Rpb24gcmMoZSx0LHIsbixpLG8sYSxzLGwpe2lmKG8mJmUucXVlcnlHZW9tZXRyeS5pc0Fib3ZlSG9yaXpvbilyZXR1cm4hMTtvJiYobCo9ZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKTtjb25zdCBjPWUudGlsZUlELmNhbm9uaWNhbCx1PXIucHJvamVjdGlvbi51cFZlY3RvclNjYWxlKGMsci5jZW50ZXIubGF0LHIud29ybGRTaXplKS5tZXRlcnNUb1RpbGU7Zm9yKGNvbnN0IGggb2YgdClmb3IoY29uc3QgdCBvZiBoKXtjb25zdCBoPXQuYWRkKHMpLGQ9aSYmci5lbGV2YXRpb24/ci5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkqaS5nZXRFbGV2YXRpb25BdChoLngsaC55LCEwKTowLHA9ci5wcm9qZWN0aW9uLnByb2plY3RUaWxlUG9pbnQoaC54LGgueSxjKTtpZihkPjApe2NvbnN0IGU9ci5wcm9qZWN0aW9uLnVwVmVjdG9yKGMsaC54LGgueSk7cC54Kz1lWzBdKnUqZCxwLnkrPWVbMV0qdSpkLHAueis9ZVsyXSp1KmR9Y29uc3QgZj1vP2g6bmMocC54LHAueSxwLnosbiksbT1vP2UudGlsZXNwYWNlUmF5cy5tYXAoZT0+YWMoZSxkKSk6ZS5xdWVyeUdlb21ldHJ5LnNjcmVlbkdlb21ldHJ5LGc9JGwoW10sW3AueCxwLnkscC56LDFdLG4pO2lmKCFhJiZvP2wqPWdbM10vci5jYW1lcmFUb0NlbnRlckRpc3RhbmNlOmEmJiFvJiYobCo9ci5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL2dbM10pLG8pe2NvbnN0IGU9QXMoKHQueS92cytjLnkpLygxPDxjLnopKTtsLz1yLnByb2plY3Rpb24ucGl4ZWxzUGVyTWV0ZXIoZSwxKS9NcygxLGUpfWlmKFdzKG0sZixsKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBuYyhlLHQscixuKXtjb25zdCBpPSRsKFtdLFtlLHQsciwxXSxuKTtyZXR1cm4gbmV3IG0oaVswXS9pWzNdLGlbMV0vaVszXSl9Y29uc3QgaWM9TWwoMCwwLDApLG9jPU1sKDAsMCwxKTtmdW5jdGlvbiBhYyhlLHQpe2NvbnN0IHI9RWwoKTtyZXR1cm4gaWNbMl09dCxlLmludGVyc2VjdHNQbGFuZShpYyxvYyxyKSxuZXcgbShyWzBdLHJbMV0pfWNsYXNzIHNjIGV4dGVuZHMgWnN7fWZ1bmN0aW9uIGxjKGUse3dpZHRoOnQsaGVpZ2h0OnJ9LG4saSl7aWYoaSl7aWYoaSBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5KWk9bmV3IFVpbnQ4QXJyYXkoaS5idWZmZXIpO2Vsc2UgaWYoaS5sZW5ndGghPT10KnIqbil0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm1pc21hdGNoZWQgaW1hZ2Ugc2l6ZVwiKX1lbHNlIGk9bmV3IFVpbnQ4QXJyYXkodCpyKm4pO3JldHVybiBlLndpZHRoPXQsZS5oZWlnaHQ9cixlLmRhdGE9aSxlfWZ1bmN0aW9uIGNjKGUsdCxyKXtjb25zdHt3aWR0aDpuLGhlaWdodDppfT10O249PT1lLndpZHRoJiZpPT09ZS5oZWlnaHR8fCh1YyhlLHQse3g6MCx5OjB9LHt4OjAseTowfSx7d2lkdGg6TWF0aC5taW4oZS53aWR0aCxuKSxoZWlnaHQ6TWF0aC5taW4oZS5oZWlnaHQsaSl9LHIpLGUud2lkdGg9bixlLmhlaWdodD1pLGUuZGF0YT10LmRhdGEpfWZ1bmN0aW9uIHVjKGUsdCxyLG4saSxvKXtpZigwPT09aS53aWR0aHx8MD09PWkuaGVpZ2h0KXJldHVybiB0O2lmKGkud2lkdGg+ZS53aWR0aHx8aS5oZWlnaHQ+ZS5oZWlnaHR8fHIueD5lLndpZHRoLWkud2lkdGh8fHIueT5lLmhlaWdodC1pLmhlaWdodCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBzb3VyY2UgY29vcmRpbmF0ZXMgZm9yIGltYWdlIGNvcHlcIik7aWYoaS53aWR0aD50LndpZHRofHxpLmhlaWdodD50LmhlaWdodHx8bi54PnQud2lkdGgtaS53aWR0aHx8bi55PnQuaGVpZ2h0LWkuaGVpZ2h0KXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGRlc3RpbmF0aW9uIGNvb3JkaW5hdGVzIGZvciBpbWFnZSBjb3B5XCIpO2NvbnN0IGE9ZS5kYXRhLHM9dC5kYXRhO2ZvcihsZXQgbD0wO2w8aS5oZWlnaHQ7bCsrKXtjb25zdCBjPSgoci55K2wpKmUud2lkdGgrci54KSpvLHU9KChuLnkrbCkqdC53aWR0aCtuLngpKm87Zm9yKGxldCBlPTA7ZTxpLndpZHRoKm87ZSsrKXNbdStlXT1hW2MrZV19cmV0dXJuIHR9SWkoc2MsXCJIZWF0bWFwQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCJdfSk7Y2xhc3MgaGN7Y29uc3RydWN0b3IoZSx0KXtsYyh0aGlzLGUsMSx0KX1yZXNpemUoZSl7Y2ModGhpcyxuZXcgaGMoZSksMSl9Y2xvbmUoKXtyZXR1cm4gbmV3IGhjKHt3aWR0aDp0aGlzLndpZHRoLGhlaWdodDp0aGlzLmhlaWdodH0sbmV3IFVpbnQ4QXJyYXkodGhpcy5kYXRhKSl9c3RhdGljIGNvcHkoZSx0LHIsbixpKXt1YyhlLHQscixuLGksMSl9fWNsYXNzIGRje2NvbnN0cnVjdG9yKGUsdCl7bGModGhpcyxlLDQsdCl9cmVzaXplKGUpe2NjKHRoaXMsbmV3IGRjKGUpLDQpfXJlcGxhY2UoZSx0KXt0P3RoaXMuZGF0YS5zZXQoZSk6dGhpcy5kYXRhPWUgaW5zdGFuY2VvZiBVaW50OENsYW1wZWRBcnJheT9uZXcgVWludDhBcnJheShlLmJ1ZmZlcik6ZX1jbG9uZSgpe3JldHVybiBuZXcgZGMoe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSxuZXcgVWludDhBcnJheSh0aGlzLmRhdGEpKX1zdGF0aWMgY29weShlLHQscixuLGkpe3VjKGUsdCxyLG4saSw0KX19SWkoaGMsXCJBbHBoYUltYWdlXCIpLElpKGRjLFwiUkdCQUltYWdlXCIpO3ZhciBwYz17cGFpbnQ6bmV3IHFvKHtcImhlYXRtYXAtcmFkaXVzXCI6bmV3IFVvKFllLnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLXJhZGl1c1wiXSksXCJoZWF0bWFwLXdlaWdodFwiOm5ldyBVbyhZZS5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC13ZWlnaHRcIl0pLFwiaGVhdG1hcC1pbnRlbnNpdHlcIjpuZXcgam8oWWUucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtaW50ZW5zaXR5XCJdKSxcImhlYXRtYXAtY29sb3JcIjpuZXcgR28oWWUucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtY29sb3JcIl0pLFwiaGVhdG1hcC1vcGFjaXR5XCI6bmV3IGpvKFllLnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLW9wYWNpdHlcIl0pfSl9O2Z1bmN0aW9uIGZjKGUpe2NvbnN0IHQ9e30scj1lLnJlc29sdXRpb258fDI1NixuPWUuY2xpcHM/ZS5jbGlwcy5sZW5ndGg6MSxpPWUuaW1hZ2V8fG5ldyBkYyh7d2lkdGg6cixoZWlnaHQ6bn0pLG89KHIsbixvKT0+e3RbZS5ldmFsdWF0aW9uS2V5XT1vO2NvbnN0IGE9ZS5leHByZXNzaW9uLmV2YWx1YXRlKHQpO2kuZGF0YVtyK24rMF09TWF0aC5mbG9vcigyNTUqYS5yL2EuYSksaS5kYXRhW3IrbisxXT1NYXRoLmZsb29yKDI1NSphLmcvYS5hKSxpLmRhdGFbcituKzJdPU1hdGguZmxvb3IoMjU1KmEuYi9hLmEpLGkuZGF0YVtyK24rM109TWF0aC5mbG9vcigyNTUqYS5hKX07aWYoZS5jbGlwcylmb3IobGV0IHQ9MCxpPTA7dDxuOysrdCxpKz00KnIpZm9yKGxldCBuPTAsYT0wO248cjtuKyssYSs9NCl7Y29uc3Qgcz1uLyhyLTEpLHtzdGFydDpsLGVuZDpjfT1lLmNsaXBzW3RdO28oaSxhLGwqKDEtcykrYypzKX1lbHNlIGZvcihsZXQgZT0wLHQ9MDtlPHI7ZSsrLHQrPTQpbygwLHQsZS8oci0xKSk7cmV0dXJuIGl9dmFyIG1jPXtwYWludDpuZXcgcW8oe1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIjpuZXcgam8oWWUucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIl0pLFwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3JcIjpuZXcgam8oWWUucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3JcIl0pLFwiaGlsbHNoYWRlLWV4YWdnZXJhdGlvblwiOm5ldyBqbyhZZS5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCJdKSxcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIjpuZXcgam8oWWUucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiXSksXCJoaWxsc2hhZGUtaGlnaGxpZ2h0LWNvbG9yXCI6bmV3IGpvKFllLnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIl0pLFwiaGlsbHNoYWRlLWFjY2VudC1jb2xvclwiOm5ldyBqbyhZZS5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCJdKX0pfTtjb25zdCBnYz1Ibyhbe25hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpLHttZW1iZXJzOl9jfT1nYzt2YXIgeWM9e2V4cG9ydHM6e319O2Z1bmN0aW9uIHZjKGUsdCxyKXtyPXJ8fDI7dmFyIG4saSxvLGEscyxsLGMsdT10JiZ0Lmxlbmd0aCxoPXU/dFswXSpyOmUubGVuZ3RoLGQ9eGMoZSwwLGgsciwhMCkscD1bXTtpZighZHx8ZC5uZXh0PT09ZC5wcmV2KXJldHVybiBwO2lmKHUmJihkPWZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpLG8sYSxzPVtdO2ZvcihpPTAsbz10Lmxlbmd0aDtpPG87aSsrKShhPXhjKGUsdFtpXSpuLGk8by0xP3RbaSsxXSpuOmUubGVuZ3RoLG4sITEpKT09PWEubmV4dCYmKGEuc3RlaW5lcj0hMCkscy5wdXNoKFBjKGEpKTtmb3Iocy5zb3J0KE1jKSxpPTA7aTxzLmxlbmd0aDtpKyspcj1rYyhzW2ldLHIpO3JldHVybiByfShlLHQsZCxyKSksZS5sZW5ndGg+ODAqcil7bj1vPWVbMF0saT1hPWVbMV07Zm9yKHZhciBmPXI7ZjxoO2YrPXIpKHM9ZVtmXSk8biYmKG49cyksKGw9ZVtmKzFdKTxpJiYoaT1sKSxzPm8mJihvPXMpLGw+YSYmKGE9bCk7Yz0wIT09KGM9TWF0aC5tYXgoby1uLGEtaSkpPzMyNzY3L2M6MH1yZXR1cm4gd2MoZCxwLHIsbixpLGMsMCkscH1mdW5jdGlvbiB4YyhlLHQscixuLGkpe3ZhciBvLGE7aWYoaT09PXFjKGUsdCxyLG4pPjApZm9yKG89dDtvPHI7bys9bilhPU5jKG8sZVtvXSxlW28rMV0sYSk7ZWxzZSBmb3Iobz1yLW47bz49dDtvLT1uKWE9TmMobyxlW29dLGVbbysxXSxhKTtyZXR1cm4gYSYmTGMoYSxhLm5leHQpJiYoVmMoYSksYT1hLm5leHQpLGF9ZnVuY3Rpb24gYmMoZSx0KXtpZighZSlyZXR1cm4gZTt0fHwodD1lKTt2YXIgcixuPWU7ZG97aWYocj0hMSxuLnN0ZWluZXJ8fCFMYyhuLG4ubmV4dCkmJjAhPT1SYyhuLnByZXYsbixuLm5leHQpKW49bi5uZXh0O2Vsc2V7aWYoVmMobiksKG49dD1uLnByZXYpPT09bi5uZXh0KWJyZWFrO3I9ITB9fXdoaWxlKHJ8fG4hPT10KTtyZXR1cm4gdH1mdW5jdGlvbiB3YyhlLHQscixuLGksbyxhKXtpZihlKXshYSYmbyYmZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9ZTtkb3swPT09aS56JiYoaS56PUljKGkueCxpLnksdCxyLG4pKSxpLnByZXZaPWkucHJldixpLm5leHRaPWkubmV4dCxpPWkubmV4dH13aGlsZShpIT09ZSk7aS5wcmV2Wi5uZXh0Wj1udWxsLGkucHJldlo9bnVsbCxmdW5jdGlvbihlKXt2YXIgdCxyLG4saSxvLGEscyxsLGM9MTtkb3tmb3Iocj1lLGU9bnVsbCxvPW51bGwsYT0wO3I7KXtmb3IoYSsrLG49cixzPTAsdD0wO3Q8YyYmKHMrKyxuPW4ubmV4dFopO3QrKyk7Zm9yKGw9YztzPjB8fGw+MCYmbjspMCE9PXMmJigwPT09bHx8IW58fHIuejw9bi56KT8oaT1yLHI9ci5uZXh0WixzLS0pOihpPW4sbj1uLm5leHRaLGwtLSksbz9vLm5leHRaPWk6ZT1pLGkucHJldlo9byxvPWk7cj1ufW8ubmV4dFo9bnVsbCxjKj0yfXdoaWxlKGE+MSl9KGkpfShlLG4saSxvKTtmb3IodmFyIHMsbCxjPWU7ZS5wcmV2IT09ZS5uZXh0OylpZihzPWUucHJldixsPWUubmV4dCxvP0VjKGUsbixpLG8pOlRjKGUpKXQucHVzaChzLmkvcnwwKSx0LnB1c2goZS5pL3J8MCksdC5wdXNoKGwuaS9yfDApLFZjKGUpLGU9bC5uZXh0LGM9bC5uZXh0O2Vsc2UgaWYoKGU9bCk9PT1jKXthPzE9PT1hP3djKGU9U2MoYmMoZSksdCxyKSx0LHIsbixpLG8sMik6Mj09PWEmJkNjKGUsdCxyLG4saSxvKTp3YyhiYyhlKSx0LHIsbixpLG8sMSk7YnJlYWt9fX1mdW5jdGlvbiBUYyhlKXt2YXIgdD1lLnByZXYscj1lLG49ZS5uZXh0O2lmKFJjKHQscixuKT49MClyZXR1cm4hMTtmb3IodmFyIGk9dC54LG89ci54LGE9bi54LHM9dC55LGw9ci55LGM9bi55LHU9aTxvP2k8YT9pOmE6bzxhP286YSxoPXM8bD9zPGM/czpjOmw8Yz9sOmMsZD1pPm8/aT5hP2k6YTpvPmE/bzphLHA9cz5sP3M+Yz9zOmM6bD5jP2w6YyxmPW4ubmV4dDtmIT09dDspe2lmKGYueD49dSYmZi54PD1kJiZmLnk+PWgmJmYueTw9cCYmemMoaSxzLG8sbCxhLGMsZi54LGYueSkmJlJjKGYucHJldixmLGYubmV4dCk+PTApcmV0dXJuITE7Zj1mLm5leHR9cmV0dXJuITB9ZnVuY3Rpb24gRWMoZSx0LHIsbil7dmFyIGk9ZS5wcmV2LG89ZSxhPWUubmV4dDtpZihSYyhpLG8sYSk+PTApcmV0dXJuITE7Zm9yKHZhciBzPWkueCxsPW8ueCxjPWEueCx1PWkueSxoPW8ueSxkPWEueSxwPXM8bD9zPGM/czpjOmw8Yz9sOmMsZj11PGg/dTxkP3U6ZDpoPGQ/aDpkLG09cz5sP3M+Yz9zOmM6bD5jP2w6YyxnPXU+aD91PmQ/dTpkOmg+ZD9oOmQsXz1JYyhwLGYsdCxyLG4pLHk9SWMobSxnLHQscixuKSx2PWUucHJldloseD1lLm5leHRaO3YmJnYuej49XyYmeCYmeC56PD15Oyl7aWYodi54Pj1wJiZ2Lng8PW0mJnYueT49ZiYmdi55PD1nJiZ2IT09aSYmdiE9PWEmJnpjKHMsdSxsLGgsYyxkLHYueCx2LnkpJiZSYyh2LnByZXYsdix2Lm5leHQpPj0wKXJldHVybiExO2lmKHY9di5wcmV2Wix4Lng+PXAmJngueDw9bSYmeC55Pj1mJiZ4Lnk8PWcmJnghPT1pJiZ4IT09YSYmemMocyx1LGwsaCxjLGQseC54LHgueSkmJlJjKHgucHJldix4LHgubmV4dCk+PTApcmV0dXJuITE7eD14Lm5leHRafWZvcig7diYmdi56Pj1fOyl7aWYodi54Pj1wJiZ2Lng8PW0mJnYueT49ZiYmdi55PD1nJiZ2IT09aSYmdiE9PWEmJnpjKHMsdSxsLGgsYyxkLHYueCx2LnkpJiZSYyh2LnByZXYsdix2Lm5leHQpPj0wKXJldHVybiExO3Y9di5wcmV2Wn1mb3IoO3gmJnguejw9eTspe2lmKHgueD49cCYmeC54PD1tJiZ4Lnk+PWYmJngueTw9ZyYmeCE9PWkmJnghPT1hJiZ6YyhzLHUsbCxoLGMsZCx4LngseC55KSYmUmMoeC5wcmV2LHgseC5uZXh0KT49MClyZXR1cm4hMTt4PXgubmV4dFp9cmV0dXJuITB9ZnVuY3Rpb24gU2MoZSx0LHIpe3ZhciBuPWU7ZG97dmFyIGk9bi5wcmV2LG89bi5uZXh0Lm5leHQ7IUxjKGksbykmJk9jKGksbixuLm5leHQsbykmJmpjKGksbykmJmpjKG8saSkmJih0LnB1c2goaS5pL3J8MCksdC5wdXNoKG4uaS9yfDApLHQucHVzaChvLmkvcnwwKSxWYyhuKSxWYyhuLm5leHQpLG49ZT1vKSxuPW4ubmV4dH13aGlsZShuIT09ZSk7cmV0dXJuIGJjKG4pfWZ1bmN0aW9uIENjKGUsdCxyLG4saSxvKXt2YXIgYT1lO2Rve2Zvcih2YXIgcz1hLm5leHQubmV4dDtzIT09YS5wcmV2Oyl7aWYoYS5pIT09cy5pJiZEYyhhLHMpKXt2YXIgbD1VYyhhLHMpO3JldHVybiBhPWJjKGEsYS5uZXh0KSxsPWJjKGwsbC5uZXh0KSx3YyhhLHQscixuLGksbywwKSx2b2lkIHdjKGwsdCxyLG4saSxvLDApfXM9cy5uZXh0fWE9YS5uZXh0fXdoaWxlKGEhPT1lKX1mdW5jdGlvbiBNYyhlLHQpe3JldHVybiBlLngtdC54fWZ1bmN0aW9uIGtjKGUsdCl7dmFyIHI9ZnVuY3Rpb24oZSx0KXt2YXIgcixuPXQsaT1lLngsbz1lLnksYT0tMS8wO2Rve2lmKG88PW4ueSYmbz49bi5uZXh0LnkmJm4ubmV4dC55IT09bi55KXt2YXIgcz1uLngrKG8tbi55KSoobi5uZXh0Lngtbi54KS8obi5uZXh0Lnktbi55KTtpZihzPD1pJiZzPmEmJihhPXMscj1uLng8bi5uZXh0Lng/bjpuLm5leHQscz09PWkpKXJldHVybiByfW49bi5uZXh0fXdoaWxlKG4hPT10KTtpZighcilyZXR1cm4gbnVsbDt2YXIgbCxjPXIsdT1yLngsaD1yLnksZD0xLzA7bj1yO2Rve2k+PW4ueCYmbi54Pj11JiZpIT09bi54JiZ6YyhvPGg/aTphLG8sdSxoLG88aD9hOmksbyxuLngsbi55KSYmKGw9TWF0aC5hYnMoby1uLnkpLyhpLW4ueCksamMobixlKSYmKGw8ZHx8bD09PWQmJihuLng+ci54fHxuLng9PT1yLngmJkFjKHIsbikpKSYmKHI9bixkPWwpKSxuPW4ubmV4dH13aGlsZShuIT09Yyk7cmV0dXJuIHJ9KGUsdCk7aWYoIXIpcmV0dXJuIHQ7dmFyIG49VWMocixlKTtyZXR1cm4gYmMobixuLm5leHQpLGJjKHIsci5uZXh0KX1mdW5jdGlvbiBBYyhlLHQpe3JldHVybiBSYyhlLnByZXYsZSx0LnByZXYpPDAmJlJjKHQubmV4dCxlLGUubmV4dCk8MH1mdW5jdGlvbiBJYyhlLHQscixuLGkpe3JldHVybihlPTE0MzE2NTU3NjUmKChlPTg1ODk5MzQ1OSYoKGU9MjUyNjQ1MTM1JigoZT0xNjcxMTkzNSYoKGU9KGUtcikqaXwwKXxlPDw4KSl8ZTw8NCkpfGU8PDIpKXxlPDwxKSl8KHQ9MTQzMTY1NTc2NSYoKHQ9ODU4OTkzNDU5JigodD0yNTI2NDUxMzUmKCh0PTE2NzExOTM1JigodD0odC1uKSppfDApfHQ8PDgpKXx0PDw0KSl8dDw8MikpfHQ8PDEpKTw8MX1mdW5jdGlvbiBQYyhlKXt2YXIgdD1lLHI9ZTtkb3sodC54PHIueHx8dC54PT09ci54JiZ0Lnk8ci55KSYmKHI9dCksdD10Lm5leHR9d2hpbGUodCE9PWUpO3JldHVybiByfWZ1bmN0aW9uIHpjKGUsdCxyLG4saSxvLGEscyl7cmV0dXJuKGktYSkqKHQtcyk+PShlLWEpKihvLXMpJiYoZS1hKSoobi1zKT49KHItYSkqKHQtcykmJihyLWEpKihvLXMpPj0oaS1hKSoobi1zKX1mdW5jdGlvbiBEYyhlLHQpe3JldHVybiBlLm5leHQuaSE9PXQuaSYmZS5wcmV2LmkhPT10LmkmJiFmdW5jdGlvbihlLHQpe3ZhciByPWU7ZG97aWYoci5pIT09ZS5pJiZyLm5leHQuaSE9PWUuaSYmci5pIT09dC5pJiZyLm5leHQuaSE9PXQuaSYmT2MocixyLm5leHQsZSx0KSlyZXR1cm4hMDtyPXIubmV4dH13aGlsZShyIT09ZSk7cmV0dXJuITF9KGUsdCkmJihqYyhlLHQpJiZqYyh0LGUpJiZmdW5jdGlvbihlLHQpe3ZhciByPWUsbj0hMSxpPShlLngrdC54KS8yLG89KGUueSt0LnkpLzI7ZG97ci55Pm8hPXIubmV4dC55Pm8mJnIubmV4dC55IT09ci55JiZpPChyLm5leHQueC1yLngpKihvLXIueSkvKHIubmV4dC55LXIueSkrci54JiYobj0hbikscj1yLm5leHR9d2hpbGUociE9PWUpO3JldHVybiBufShlLHQpJiYoUmMoZS5wcmV2LGUsdC5wcmV2KXx8UmMoZSx0LnByZXYsdCkpfHxMYyhlLHQpJiZSYyhlLnByZXYsZSxlLm5leHQpPjAmJlJjKHQucHJldix0LHQubmV4dCk+MCl9ZnVuY3Rpb24gUmMoZSx0LHIpe3JldHVybih0LnktZS55KSooci54LXQueCktKHQueC1lLngpKihyLnktdC55KX1mdW5jdGlvbiBMYyhlLHQpe3JldHVybiBlLng9PT10LngmJmUueT09PXQueX1mdW5jdGlvbiBPYyhlLHQscixuKXt2YXIgaT1GYyhSYyhlLHQscikpLG89RmMoUmMoZSx0LG4pKSxhPUZjKFJjKHIsbixlKSkscz1GYyhSYyhyLG4sdCkpO3JldHVybiBpIT09byYmYSE9PXN8fCEoMCE9PWl8fCFCYyhlLHIsdCkpfHwhKDAhPT1vfHwhQmMoZSxuLHQpKXx8ISgwIT09YXx8IUJjKHIsZSxuKSl8fCEoMCE9PXN8fCFCYyhyLHQsbikpfWZ1bmN0aW9uIEJjKGUsdCxyKXtyZXR1cm4gdC54PD1NYXRoLm1heChlLngsci54KSYmdC54Pj1NYXRoLm1pbihlLngsci54KSYmdC55PD1NYXRoLm1heChlLnksci55KSYmdC55Pj1NYXRoLm1pbihlLnksci55KX1mdW5jdGlvbiBGYyhlKXtyZXR1cm4gZT4wPzE6ZTwwPy0xOjB9ZnVuY3Rpb24gamMoZSx0KXtyZXR1cm4gUmMoZS5wcmV2LGUsZS5uZXh0KTwwP1JjKGUsdCxlLm5leHQpPj0wJiZSYyhlLGUucHJldix0KT49MDpSYyhlLHQsZS5wcmV2KTwwfHxSYyhlLGUubmV4dCx0KTwwfWZ1bmN0aW9uIFVjKGUsdCl7dmFyIHI9bmV3IEdjKGUuaSxlLngsZS55KSxuPW5ldyBHYyh0LmksdC54LHQueSksaT1lLm5leHQsbz10LnByZXY7cmV0dXJuIGUubmV4dD10LHQucHJldj1lLHIubmV4dD1pLGkucHJldj1yLG4ubmV4dD1yLHIucHJldj1uLG8ubmV4dD1uLG4ucHJldj1vLG59ZnVuY3Rpb24gTmMoZSx0LHIsbil7dmFyIGk9bmV3IEdjKGUsdCxyKTtyZXR1cm4gbj8oaS5uZXh0PW4ubmV4dCxpLnByZXY9bixuLm5leHQucHJldj1pLG4ubmV4dD1pKTooaS5wcmV2PWksaS5uZXh0PWkpLGl9ZnVuY3Rpb24gVmMoZSl7ZS5uZXh0LnByZXY9ZS5wcmV2LGUucHJldi5uZXh0PWUubmV4dCxlLnByZXZaJiYoZS5wcmV2Wi5uZXh0Wj1lLm5leHRaKSxlLm5leHRaJiYoZS5uZXh0Wi5wcmV2Wj1lLnByZXZaKX1mdW5jdGlvbiBHYyhlLHQscil7dGhpcy5pPWUsdGhpcy54PXQsdGhpcy55PXIsdGhpcy5wcmV2PW51bGwsdGhpcy5uZXh0PW51bGwsdGhpcy56PTAsdGhpcy5wcmV2Wj1udWxsLHRoaXMubmV4dFo9bnVsbCx0aGlzLnN0ZWluZXI9ITF9ZnVuY3Rpb24gcWMoZSx0LHIsbil7Zm9yKHZhciBpPTAsbz10LGE9ci1uO288cjtvKz1uKWkrPShlW2FdLWVbb10pKihlW28rMV0rZVthKzFdKSxhPW87cmV0dXJuIGl9ZnVuY3Rpb24gWmMoZSx0LHIsbixpKXshZnVuY3Rpb24gZSh0LHIsbixpLG8pe2Zvcig7aT5uOyl7aWYoaS1uPjYwMCl7dmFyIGE9aS1uKzEscz1yLW4rMSxsPU1hdGgubG9nKGEpLGM9LjUqTWF0aC5leHAoMipsLzMpLHU9LjUqTWF0aC5zcXJ0KGwqYyooYS1jKS9hKSoocy1hLzI8MD8tMToxKTtlKHQscixNYXRoLm1heChuLE1hdGguZmxvb3Ioci1zKmMvYSt1KSksTWF0aC5taW4oaSxNYXRoLmZsb29yKHIrKGEtcykqYy9hK3UpKSxvKX12YXIgaD10W3JdLGQ9bixwPWk7Zm9yKCRjKHQsbixyKSxvKHRbaV0saCk+MCYmJGModCxuLGkpO2Q8cDspe2ZvcigkYyh0LGQscCksZCsrLHAtLTtvKHRbZF0saCk8MDspZCsrO2Zvcig7byh0W3BdLGgpPjA7KXAtLX0wPT09byh0W25dLGgpPyRjKHQsbixwKTokYyh0LCsrcCxpKSxwPD1yJiYobj1wKzEpLHI8PXAmJihpPXAtMSl9fShlLHQscnx8MCxufHxlLmxlbmd0aC0xLGl8fFdjKX1mdW5jdGlvbiAkYyhlLHQscil7dmFyIG49ZVt0XTtlW3RdPWVbcl0sZVtyXT1ufWZ1bmN0aW9uIFdjKGUsdCl7cmV0dXJuIGU8dD8tMTplPnQ/MTowfWZ1bmN0aW9uIFhjKGUsdCl7Y29uc3Qgcj1lLmxlbmd0aDtpZihyPD0xKXJldHVybltlXTtjb25zdCBuPVtdO2xldCBpLG87Zm9yKGxldCB0PTA7dDxyO3QrKyl7Y29uc3Qgcj1xKGVbdF0pOzAhPT1yJiYoZVt0XS5hcmVhPU1hdGguYWJzKHIpLHZvaWQgMD09PW8mJihvPXI8MCksbz09PXI8MD8oaSYmbi5wdXNoKGkpLGk9W2VbdF1dKTppLnB1c2goZVt0XSkpfWlmKGkmJm4ucHVzaChpKSx0PjEpZm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspbltlXS5sZW5ndGg8PXR8fChaYyhuW2VdLHQsMSxuW2VdLmxlbmd0aC0xLEhjKSxuW2VdPW5bZV0uc2xpY2UoMCx0KSk7cmV0dXJuIG59ZnVuY3Rpb24gSGMoZSx0KXtyZXR1cm4gdC5hcmVhLWUuYXJlYX1mdW5jdGlvbiBZYyhlLHQscil7Y29uc3Qgbj1yLnBhdHRlcm5EZXBlbmRlbmNpZXM7bGV0IGk9ITE7Zm9yKGNvbnN0IHIgb2YgdCl7Y29uc3QgdD1yLnBhaW50LmdldChlK1wiLXBhdHRlcm5cIik7dC5pc0NvbnN0YW50KCl8fChpPSEwKTtjb25zdCBvPXQuY29uc3RhbnRPcihudWxsKTtvJiYoaT0hMCxuW28udG9dPSEwLG5bby5mcm9tXT0hMCl9cmV0dXJuIGl9ZnVuY3Rpb24gS2MoZSx0LHIsbixpKXtjb25zdCBvPWkucGF0dGVybkRlcGVuZGVuY2llcztmb3IoY29uc3QgYSBvZiB0KXtjb25zdCB0PWEucGFpbnQuZ2V0KGUrXCItcGF0dGVyblwiKS52YWx1ZTtpZihcImNvbnN0YW50XCIhPT10LmtpbmQpe2xldCBlPXQuZXZhbHVhdGUoe3pvb206bi0xfSxyLHt9LGkuYXZhaWxhYmxlSW1hZ2VzKSxzPXQuZXZhbHVhdGUoe3pvb206bn0scix7fSxpLmF2YWlsYWJsZUltYWdlcyksbD10LmV2YWx1YXRlKHt6b29tOm4rMX0scix7fSxpLmF2YWlsYWJsZUltYWdlcyk7ZT1lJiZlLm5hbWU/ZS5uYW1lOmUscz1zJiZzLm5hbWU/cy5uYW1lOnMsbD1sJiZsLm5hbWU/bC5uYW1lOmwsb1tlXT0hMCxvW3NdPSEwLG9bbF09ITAsci5wYXR0ZXJuc1thLmlkXT17bWluOmUsbWlkOnMsbWF4Omx9fX1yZXR1cm4gcn15Yy5leHBvcnRzPXZjLHljLmV4cG9ydHMuZGVmYXVsdD12Yyx2Yy5kZXZpYXRpb249ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9dCYmdC5sZW5ndGgsbz1NYXRoLmFicyhxYyhlLDAsaT90WzBdKnI6ZS5sZW5ndGgscikpO2lmKGkpZm9yKHZhciBhPTAscz10Lmxlbmd0aDthPHM7YSsrKW8tPU1hdGguYWJzKHFjKGUsdFthXSpyLGE8cy0xP3RbYSsxXSpyOmUubGVuZ3RoLHIpKTt2YXIgbD0wO2ZvcihhPTA7YTxuLmxlbmd0aDthKz0zKXt2YXIgYz1uW2FdKnIsdT1uW2ErMV0qcixoPW5bYSsyXSpyO2wrPU1hdGguYWJzKChlW2NdLWVbaF0pKihlW3UrMV0tZVtjKzFdKS0oZVtjXS1lW3VdKSooZVtoKzFdLWVbYysxXSkpfXJldHVybiAwPT09byYmMD09PWw/MDpNYXRoLmFicygobC1vKS9vKX0sdmMuZmxhdHRlbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZVswXVswXS5sZW5ndGgscj17dmVydGljZXM6W10saG9sZXM6W10sZGltZW5zaW9uczp0fSxuPTAsaT0wO2k8ZS5sZW5ndGg7aSsrKXtmb3IodmFyIG89MDtvPGVbaV0ubGVuZ3RoO28rKylmb3IodmFyIGE9MDthPHQ7YSsrKXIudmVydGljZXMucHVzaChlW2ldW29dW2FdKTtpPjAmJnIuaG9sZXMucHVzaChuKz1lW2ktMV0ubGVuZ3RoKX1yZXR1cm4gcn07Y2xhc3MgSmN7Y29uc3RydWN0b3IoZSl7dGhpcy56b29tPWUuem9vbSx0aGlzLm92ZXJzY2FsaW5nPWUub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9ZS5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoZT0+ZS5pZCksdGhpcy5pbmRleD1lLmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLnBhdHRlcm5GZWF0dXJlcz1bXSx0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBLbyx0aGlzLmluZGV4QXJyYXk9bmV3IHBhLHRoaXMuaW5kZXhBcnJheTI9bmV3IHZhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBscyhlLmxheWVycyxlLnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IHlzLHRoaXMuc2VnbWVudHMyPW5ldyB5cyx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKS5tYXAoZT0+ZS5pZCksdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbn1wb3B1bGF0ZShlLHQscixuKXt0aGlzLmhhc1BhdHRlcm49WWMoXCJmaWxsXCIsdGhpcy5sYXllcnMsdCk7Y29uc3QgaT10aGlzLmxheWVyc1swXS5sYXlvdXQuZ2V0KFwiZmlsbC1zb3J0LWtleVwiKSxvPVtdO2Zvcihjb25zdHtmZWF0dXJlOmEsaWQ6cyxpbmRleDpsLHNvdXJjZUxheWVySW5kZXg6Y31vZiBlKXtjb25zdCBlPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSx1PVZzKGEsZSk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgSW8odGhpcy56b29tKSx1LHIpKWNvbnRpbnVlO2NvbnN0IGg9aT9pLmV2YWx1YXRlKHUse30scix0LmF2YWlsYWJsZUltYWdlcyk6dm9pZCAwLGQ9e2lkOnMscHJvcGVydGllczphLnByb3BlcnRpZXMsdHlwZTphLnR5cGUsc291cmNlTGF5ZXJJbmRleDpjLGluZGV4OmwsZ2VvbWV0cnk6ZT91Lmdlb21ldHJ5Ok5zKGEscixuKSxwYXR0ZXJuczp7fSxzb3J0S2V5Omh9O28ucHVzaChkKX1pJiZvLnNvcnQoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpO2Zvcihjb25zdCBuIG9mIG8pe2NvbnN0e2dlb21ldHJ5OmksaW5kZXg6byxzb3VyY2VMYXllckluZGV4OmF9PW47aWYodGhpcy5oYXNQYXR0ZXJuKXtjb25zdCBlPUtjKFwiZmlsbFwiLHRoaXMubGF5ZXJzLG4sdGhpcy56b29tLHQpO3RoaXMucGF0dGVybkZlYXR1cmVzLnB1c2goZSl9ZWxzZSB0aGlzLmFkZEZlYXR1cmUobixpLG8scix7fSx0LmF2YWlsYWJsZUltYWdlcyk7dC5mZWF0dXJlSW5kZXguaW5zZXJ0KGVbb10uZmVhdHVyZSxpLG8sYSx0aGlzLmluZGV4KX19dXBkYXRlKGUsdCxyLG4pe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyhlLHQsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxyLG4pfWFkZEZlYXR1cmVzKGUsdCxyLG4saSl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5wYXR0ZXJuRmVhdHVyZXMpdGhpcy5hZGRGZWF0dXJlKGUsZS5nZW9tZXRyeSxlLmluZGV4LHQscixuKX1pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfXVwbG9hZChlKXt0aGlzLnVwbG9hZGVkfHwodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxfYyksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5pbmRleEJ1ZmZlcjI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkyKSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKGUpLHRoaXMudXBsb2FkZWQ9ITB9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5zZWdtZW50czIuZGVzdHJveSgpKX1hZGRGZWF0dXJlKGUsdCxyLG4saSxvPVtdKXtmb3IoY29uc3QgZSBvZiBYYyh0LDUwMCkpe2xldCB0PTA7Zm9yKGNvbnN0IHIgb2YgZSl0Kz1yLmxlbmd0aDtjb25zdCByPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQodCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSksbj1yLnZlcnRleExlbmd0aCxpPVtdLG89W107Zm9yKGNvbnN0IHQgb2YgZSl7aWYoMD09PXQubGVuZ3RoKWNvbnRpbnVlO3QhPT1lWzBdJiZvLnB1c2goaS5sZW5ndGgvMik7Y29uc3Qgcj10aGlzLnNlZ21lbnRzMi5wcmVwYXJlU2VnbWVudCh0Lmxlbmd0aCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheTIpLG49ci52ZXJ0ZXhMZW5ndGg7dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayh0WzBdLngsdFswXS55KSx0aGlzLmluZGV4QXJyYXkyLmVtcGxhY2VCYWNrKG4rdC5sZW5ndGgtMSxuKSxpLnB1c2godFswXS54KSxpLnB1c2godFswXS55KTtmb3IobGV0IGU9MTtlPHQubGVuZ3RoO2UrKyl0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHRbZV0ueCx0W2VdLnkpLHRoaXMuaW5kZXhBcnJheTIuZW1wbGFjZUJhY2sobitlLTEsbitlKSxpLnB1c2godFtlXS54KSxpLnB1c2godFtlXS55KTtyLnZlcnRleExlbmd0aCs9dC5sZW5ndGgsci5wcmltaXRpdmVMZW5ndGgrPXQubGVuZ3RofWNvbnN0IGE9eWMuZXhwb3J0cyhpLG8pO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSs9Myl0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sobithW2VdLG4rYVtlKzFdLG4rYVtlKzJdKTtyLnZlcnRleExlbmd0aCs9dCxyLnByaW1pdGl2ZUxlbmd0aCs9YS5sZW5ndGgvM310aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5wb3B1bGF0ZVBhaW50QXJyYXlzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLGUscixpLG8sbil9fUlpKEpjLFwiRmlsbEJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwicGF0dGVybkZlYXR1cmVzXCJdfSk7Y29uc3QgUWM9bmV3IHFvKHtcImZpbGwtc29ydC1rZXlcIjpuZXcgVW8oWWUubGF5b3V0X2ZpbGxbXCJmaWxsLXNvcnQta2V5XCJdKX0pO3ZhciBldT17cGFpbnQ6bmV3IHFvKHtcImZpbGwtYW50aWFsaWFzXCI6bmV3IGpvKFllLnBhaW50X2ZpbGxbXCJmaWxsLWFudGlhbGlhc1wiXSksXCJmaWxsLW9wYWNpdHlcIjpuZXcgVW8oWWUucGFpbnRfZmlsbFtcImZpbGwtb3BhY2l0eVwiXSksXCJmaWxsLWNvbG9yXCI6bmV3IFVvKFllLnBhaW50X2ZpbGxbXCJmaWxsLWNvbG9yXCJdKSxcImZpbGwtb3V0bGluZS1jb2xvclwiOm5ldyBVbyhZZS5wYWludF9maWxsW1wiZmlsbC1vdXRsaW5lLWNvbG9yXCJdKSxcImZpbGwtdHJhbnNsYXRlXCI6bmV3IGpvKFllLnBhaW50X2ZpbGxbXCJmaWxsLXRyYW5zbGF0ZVwiXSksXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgam8oWWUucGFpbnRfZmlsbFtcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiXSksXCJmaWxsLXBhdHRlcm5cIjpuZXcgTm8oWWUucGFpbnRfZmlsbFtcImZpbGwtcGF0dGVyblwiXSl9KSxsYXlvdXQ6UWN9O2NvbnN0IHR1PUhvKFt7bmFtZTpcImFfcG9zX25vcm1hbF9lZFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiSW50MTZcIn1dKSxydT1Ibyhbe25hbWU6XCJhX2NlbnRyb2lkX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiVWludDE2XCJ9XSksbnU9SG8oW3tuYW1lOlwiYV9wb3NfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX3Bvc19ub3JtYWxfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn1dKSx7bWVtYmVyczppdX09dHU7dmFyIG91PXt9LGF1PW0sc3U9bHU7ZnVuY3Rpb24gbHUoZSx0LHIsbixpKXt0aGlzLnByb3BlcnRpZXM9e30sdGhpcy5leHRlbnQ9cix0aGlzLnR5cGU9MCx0aGlzLl9wYmY9ZSx0aGlzLl9nZW9tZXRyeT0tMSx0aGlzLl9rZXlzPW4sdGhpcy5fdmFsdWVzPWksZS5yZWFkRmllbGRzKGN1LHRoaXMsdCl9ZnVuY3Rpb24gY3UoZSx0LHIpezE9PWU/dC5pZD1yLnJlYWRWYXJpbnQoKToyPT1lP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUucmVhZFZhcmludCgpK2UucG9zO2UucG9zPHI7KXt2YXIgbj10Ll9rZXlzW2UucmVhZFZhcmludCgpXSxpPXQuX3ZhbHVlc1tlLnJlYWRWYXJpbnQoKV07dC5wcm9wZXJ0aWVzW25dPWl9fShyLHQpOjM9PWU/dC50eXBlPXIucmVhZFZhcmludCgpOjQ9PWUmJih0Ll9nZW9tZXRyeT1yLnBvcyl9ZnVuY3Rpb24gdXUoZSl7Zm9yKHZhciB0LHIsbj0wLGk9MCxvPWUubGVuZ3RoLGE9by0xO2k8bzthPWkrKyluKz0oKHI9ZVthXSkueC0odD1lW2ldKS54KSoodC55K3IueSk7cmV0dXJuIG59bHUudHlwZXM9W1wiVW5rbm93blwiLFwiUG9pbnRcIixcIkxpbmVTdHJpbmdcIixcIlBvbHlnb25cIl0sbHUucHJvdG90eXBlLmxvYWRHZW9tZXRyeT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3BiZjtlLnBvcz10aGlzLl9nZW9tZXRyeTtmb3IodmFyIHQscj1lLnJlYWRWYXJpbnQoKStlLnBvcyxuPTEsaT0wLG89MCxhPTAscz1bXTtlLnBvczxyOyl7aWYoaTw9MCl7dmFyIGw9ZS5yZWFkVmFyaW50KCk7bj03JmwsaT1sPj4zfWlmKGktLSwxPT09bnx8Mj09PW4pbys9ZS5yZWFkU1ZhcmludCgpLGErPWUucmVhZFNWYXJpbnQoKSwxPT09biYmKHQmJnMucHVzaCh0KSx0PVtdKSx0LnB1c2gobmV3IGF1KG8sYSkpO2Vsc2V7aWYoNyE9PW4pdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBjb21tYW5kIFwiK24pO3QmJnQucHVzaCh0WzBdLmNsb25lKCkpfX1yZXR1cm4gdCYmcy5wdXNoKHQpLHN9LGx1LnByb3RvdHlwZS5iYm94PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcGJmO2UucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgdD1lLnJlYWRWYXJpbnQoKStlLnBvcyxyPTEsbj0wLGk9MCxvPTAsYT0xLzAscz0tMS8wLGw9MS8wLGM9LTEvMDtlLnBvczx0Oyl7aWYobjw9MCl7dmFyIHU9ZS5yZWFkVmFyaW50KCk7cj03JnUsbj11Pj4zfWlmKG4tLSwxPT09cnx8Mj09PXIpKGkrPWUucmVhZFNWYXJpbnQoKSk8YSYmKGE9aSksaT5zJiYocz1pKSwobys9ZS5yZWFkU1ZhcmludCgpKTxsJiYobD1vKSxvPmMmJihjPW8pO2Vsc2UgaWYoNyE9PXIpdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBjb21tYW5kIFwiK3IpfXJldHVyblthLGwscyxjXX0sbHUucHJvdG90eXBlLnRvR2VvSlNPTj1mdW5jdGlvbihlLHQscil7dmFyIG4saSxvPXRoaXMuZXh0ZW50Kk1hdGgucG93KDIsciksYT10aGlzLmV4dGVudCplLHM9dGhpcy5leHRlbnQqdCxsPXRoaXMubG9hZEdlb21ldHJ5KCksYz1sdS50eXBlc1t0aGlzLnR5cGVdO2Z1bmN0aW9uIHUoZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciByPWVbdF07ZVt0XT1bMzYwKihyLngrYSkvby0xODAsMzYwL01hdGguUEkqTWF0aC5hdGFuKE1hdGguZXhwKCgxODAtMzYwKihyLnkrcykvbykqTWF0aC5QSS8xODApKS05MF19fXN3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgMTp2YXIgaD1bXTtmb3Iobj0wO248bC5sZW5ndGg7bisrKWhbbl09bFtuXVswXTt1KGw9aCk7YnJlYWs7Y2FzZSAyOmZvcihuPTA7bjxsLmxlbmd0aDtuKyspdShsW25dKTticmVhaztjYXNlIDM6Zm9yKGw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodDw9MSlyZXR1cm5bZV07Zm9yKHZhciByLG4saT1bXSxvPTA7bzx0O28rKyl7dmFyIGE9dXUoZVtvXSk7MCE9PWEmJih2b2lkIDA9PT1uJiYobj1hPDApLG49PT1hPDA/KHImJmkucHVzaChyKSxyPVtlW29dXSk6ci5wdXNoKGVbb10pKX1yZXR1cm4gciYmaS5wdXNoKHIpLGl9KGwpLG49MDtuPGwubGVuZ3RoO24rKylmb3IoaT0wO2k8bFtuXS5sZW5ndGg7aSsrKXUobFtuXVtpXSl9MT09PWwubGVuZ3RoP2w9bFswXTpjPVwiTXVsdGlcIitjO3ZhciBkPXt0eXBlOlwiRmVhdHVyZVwiLGdlb21ldHJ5Ont0eXBlOmMsY29vcmRpbmF0ZXM6bH0scHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O3JldHVyblwiaWRcImluIHRoaXMmJihkLmlkPXRoaXMuaWQpLGR9O3ZhciBodT1zdSxkdT1wdTtmdW5jdGlvbiBwdShlLHQpe3RoaXMudmVyc2lvbj0xLHRoaXMubmFtZT1udWxsLHRoaXMuZXh0ZW50PTQwOTYsdGhpcy5sZW5ndGg9MCx0aGlzLl9wYmY9ZSx0aGlzLl9rZXlzPVtdLHRoaXMuX3ZhbHVlcz1bXSx0aGlzLl9mZWF0dXJlcz1bXSxlLnJlYWRGaWVsZHMoZnUsdGhpcyx0KSx0aGlzLmxlbmd0aD10aGlzLl9mZWF0dXJlcy5sZW5ndGh9ZnVuY3Rpb24gZnUoZSx0LHIpezE1PT09ZT90LnZlcnNpb249ci5yZWFkVmFyaW50KCk6MT09PWU/dC5uYW1lPXIucmVhZFN0cmluZygpOjU9PT1lP3QuZXh0ZW50PXIucmVhZFZhcmludCgpOjI9PT1lP3QuX2ZlYXR1cmVzLnB1c2goci5wb3MpOjM9PT1lP3QuX2tleXMucHVzaChyLnJlYWRTdHJpbmcoKSk6ND09PWUmJnQuX3ZhbHVlcy5wdXNoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1udWxsLHI9ZS5yZWFkVmFyaW50KCkrZS5wb3M7ZS5wb3M8cjspe3ZhciBuPWUucmVhZFZhcmludCgpPj4zO3Q9MT09PW4/ZS5yZWFkU3RyaW5nKCk6Mj09PW4/ZS5yZWFkRmxvYXQoKTozPT09bj9lLnJlYWREb3VibGUoKTo0PT09bj9lLnJlYWRWYXJpbnQ2NCgpOjU9PT1uP2UucmVhZFZhcmludCgpOjY9PT1uP2UucmVhZFNWYXJpbnQoKTo3PT09bj9lLnJlYWRCb29sZWFuKCk6bnVsbH1yZXR1cm4gdH0ocikpfXB1LnByb3RvdHlwZS5mZWF0dXJlPWZ1bmN0aW9uKGUpe2lmKGU8MHx8ZT49dGhpcy5fZmVhdHVyZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kc1wiKTt0aGlzLl9wYmYucG9zPXRoaXMuX2ZlYXR1cmVzW2VdO3ZhciB0PXRoaXMuX3BiZi5yZWFkVmFyaW50KCkrdGhpcy5fcGJmLnBvcztyZXR1cm4gbmV3IGh1KHRoaXMuX3BiZix0LHRoaXMuZXh0ZW50LHRoaXMuX2tleXMsdGhpcy5fdmFsdWVzKX07dmFyIG11PWR1O2Z1bmN0aW9uIGd1KGUsdCxyKXtpZigzPT09ZSl7dmFyIG49bmV3IG11KHIsci5yZWFkVmFyaW50KCkrci5wb3MpO24ubGVuZ3RoJiYodFtuLm5hbWVdPW4pfX12YXIgX3U9b3UuVmVjdG9yVGlsZT1mdW5jdGlvbihlLHQpe3RoaXMubGF5ZXJzPWUucmVhZEZpZWxkcyhndSx7fSx0KX0seXU9b3UuVmVjdG9yVGlsZUZlYXR1cmU9c3U7ZnVuY3Rpb24gdnUoZSx0LHIsbil7Y29uc3QgaT1bXSxvPTA9PT1uPyhlLHQscixuLGksbyk9PntlLnB1c2gobmV3IG0obyxyKyhvLXQpLyhuLXQpKihpLXIpKSl9OihlLHQscixuLGksbyk9PntlLnB1c2gobmV3IG0odCsoby1yKS8oaS1yKSoobi10KSxvKSl9O2Zvcihjb25zdCBhIG9mIGUpe2NvbnN0IGU9W107Zm9yKGNvbnN0IGkgb2YgYSl7aWYoaS5sZW5ndGg8PTIpY29udGludWU7Y29uc3QgYT1bXTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoLTE7ZSsrKXtjb25zdCBzPWlbZV0ueCxsPWlbZV0ueSxjPWlbZSsxXS54LHU9aVtlKzFdLnksaD0wPT09bj9zOmwsZD0wPT09bj9jOnU7aDx0P2Q+dCYmbyhhLHMsbCxjLHUsdCk6aD5yP2Q8ciYmbyhhLHMsbCxjLHUscik6YS5wdXNoKGlbZV0pLGQ8dCYmaD49dCYmbyhhLHMsbCxjLHUsdCksZD5yJiZoPD1yJiZvKGEscyxsLGMsdSxyKX1sZXQgcz1pW2kubGVuZ3RoLTFdO2NvbnN0IGw9MD09PW4/cy54OnMueTtsPj10JiZsPD1yJiZhLnB1c2gocyksYS5sZW5ndGgmJihzPWFbYS5sZW5ndGgtMV0sYVswXS54PT09cy54JiZhWzBdLnk9PT1zLnl8fGEucHVzaChhWzBdKSxlLnB1c2goYSkpfWUubGVuZ3RoJiZpLnB1c2goZSl9cmV0dXJuIGl9b3UuVmVjdG9yVGlsZUxheWVyPWR1O2NvbnN0IHh1PXl1LnR5cGVzLGJ1PU1hdGgucG93KDIsMTMpO2Z1bmN0aW9uIHd1KGUsdCxyLG4saSxvLGEscyl7ZS5lbXBsYWNlQmFjaygodDw8MSkrYSwocjw8MSkrbywoTWF0aC5mbG9vcihuKmJ1KTw8MSkraSxNYXRoLnJvdW5kKHMpKX1mdW5jdGlvbiBUdShlLHQscil7Y29uc3Qgbj0xNjM4NDtlLmVtcGxhY2VCYWNrKHQueCx0LnksdC56LHJbMF0qbixyWzFdKm4sclsyXSpuKX1jbGFzcyBFdXtjb25zdHJ1Y3Rvcigpe3RoaXMuYWNjPW5ldyBtKDAsMCksdGhpcy5wb2x5Q291bnQ9W119c3RhcnRSaW5nKGUpe3RoaXMuY3VycmVudFBvbHlDb3VudD17ZWRnZXM6MCx0b3A6MH0sdGhpcy5wb2x5Q291bnQucHVzaCh0aGlzLmN1cnJlbnRQb2x5Q291bnQpLHRoaXMubWlufHwodGhpcy5taW49bmV3IG0oZS54LGUueSksdGhpcy5tYXg9bmV3IG0oZS54LGUueSkpfWFwcGVuZChlLHQpe3RoaXMuY3VycmVudFBvbHlDb3VudC5lZGdlcysrLHRoaXMuYWNjLl9hZGQoZSk7Y29uc3Qgcj10aGlzLm1pbixuPXRoaXMubWF4O2UueDxyLng/ci54PWUueDplLng+bi54JiYobi54PWUueCksZS55PHIueT9yLnk9ZS55OmUueT5uLnkmJihuLnk9ZS55KSwoKDA9PT1lLnh8fGUueD09PXZzKSYmZS54PT09dC54KSE9KCgwPT09ZS55fHxlLnk9PT12cykmJmUueT09PXQueSkmJnRoaXMucHJvY2Vzc0JvcmRlck92ZXJsYXAoZSx0KSx0Lng8MCE9ZS54PDAmJnRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKDAsQ3IodC55LGUueSwoMC10LngpLyhlLngtdC54KSkpLHQueD52cyE9ZS54PnZzJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigxLENyKHQueSxlLnksKHZzLXQueCkvKGUueC10LngpKSksdC55PDAhPWUueTwwJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigyLENyKHQueCxlLngsKDAtdC55KS8oZS55LXQueSkpKSx0Lnk+dnMhPWUueT52cyYmdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24oMyxDcih0LngsZS54LCh2cy10LnkpLyhlLnktdC55KSkpfWFkZEJvcmRlckludGVyc2VjdGlvbihlLHQpe3RoaXMuYm9yZGVyc3x8KHRoaXMuYm9yZGVycz1bW051bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUVdLFtOdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFXSxbTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRV0sW051bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUVdXSk7Y29uc3Qgcj10aGlzLmJvcmRlcnNbZV07dDxyWzBdJiYoclswXT10KSx0PnJbMV0mJihyWzFdPXQpfXByb2Nlc3NCb3JkZXJPdmVybGFwKGUsdCl7aWYoZS54PT09dC54KXtpZihlLnk9PT10LnkpcmV0dXJuO2NvbnN0IHI9MD09PWUueD8wOjE7dGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24ocix0LnkpLHRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKHIsZS55KX1lbHNle2NvbnN0IHI9MD09PWUueT8yOjM7dGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24ocix0LngpLHRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKHIsZS54KX19Y2VudHJvaWQoKXtjb25zdCBlPXRoaXMucG9seUNvdW50LnJlZHVjZSgoZSx0KT0+ZSt0LmVkZ2VzLDApO3JldHVybiAwIT09ZT90aGlzLmFjYy5kaXYoZSkuX3JvdW5kKCk6bmV3IG0oMCwwKX1zcGFuKCl7cmV0dXJuIG5ldyBtKHRoaXMubWF4LngtdGhpcy5taW4ueCx0aGlzLm1heC55LXRoaXMubWluLnkpfWludGVyc2VjdHNDb3VudCgpe3JldHVybiB0aGlzLmJvcmRlcnMucmVkdWNlKChlLHQpPT5lKyArKHRbMF0hPT1OdW1iZXIuTUFYX1ZBTFVFKSwwKX19Y2xhc3MgU3V7Y29uc3RydWN0b3IoZSl7dGhpcy56b29tPWUuem9vbSx0aGlzLmNhbm9uaWNhbD1lLmNhbm9uaWNhbCx0aGlzLm92ZXJzY2FsaW5nPWUub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9ZS5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoZT0+ZS5pZCksdGhpcy5pbmRleD1lLmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmVkZ2VSYWRpdXM9MCx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IFFvLHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheT1uZXcgTGEsdGhpcy5pbmRleEFycmF5PW5ldyBwYSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgbHMoZS5sYXllcnMsZS56b29tKSx0aGlzLnNlZ21lbnRzPW5ldyB5cyx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKS5tYXAoZT0+ZS5pZCksdGhpcy5lbmFibGVUZXJyYWluPWUuZW5hYmxlVGVycmFpbn1wb3B1bGF0ZShlLHQscixuKXt0aGlzLmZlYXR1cmVzPVtdLHRoaXMuaGFzUGF0dGVybj1ZYyhcImZpbGwtZXh0cnVzaW9uXCIsdGhpcy5sYXllcnMsdCksdGhpcy5mZWF0dXJlc09uQm9yZGVyPVtdLHRoaXMuYm9yZGVycz1bW10sW10sW10sW11dLHRoaXMuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclo9Wy0xLC0xLC0xLC0xXSx0aGlzLnRpbGVUb01ldGVyPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9TWF0aC5leHAoTWF0aC5QSSooMS1lLnkvKDE8PGUueikqMikpO3JldHVybiA4MDE1MDAzNCp0Lyh0KnQrMSkvdnMvKDE8PGUueil9KHIpLHRoaXMuZWRnZVJhZGl1cz10aGlzLmxheWVyc1swXS5sYXlvdXQuZ2V0KFwiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIikvdGhpcy50aWxlVG9NZXRlcjtmb3IoY29uc3R7ZmVhdHVyZTppLGlkOm8saW5kZXg6YSxzb3VyY2VMYXllckluZGV4OnN9b2YgZSl7Y29uc3QgZT10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksbD1WcyhpLGUpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IElvKHRoaXMuem9vbSksbCxyKSljb250aW51ZTtjb25zdCBjPXtpZDpvLHNvdXJjZUxheWVySW5kZXg6cyxpbmRleDphLGdlb21ldHJ5OmU/bC5nZW9tZXRyeTpOcyhpLHIsbikscHJvcGVydGllczppLnByb3BlcnRpZXMsdHlwZTppLnR5cGUscGF0dGVybnM6e319LHU9dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGg7dGhpcy5oYXNQYXR0ZXJuP3RoaXMuZmVhdHVyZXMucHVzaChLYyhcImZpbGwtZXh0cnVzaW9uXCIsdGhpcy5sYXllcnMsYyx0aGlzLnpvb20sdCkpOnRoaXMuYWRkRmVhdHVyZShjLGMuZ2VvbWV0cnksYSxyLHt9LHQuYXZhaWxhYmxlSW1hZ2VzLG4pLHQuZmVhdHVyZUluZGV4Lmluc2VydChpLGMuZ2VvbWV0cnksYSxzLHRoaXMuaW5kZXgsdSl9dGhpcy5zb3J0Qm9yZGVycygpfWFkZEZlYXR1cmVzKGUsdCxyLG4saSl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5mZWF0dXJlcyl7Y29uc3R7Z2VvbWV0cnk6b309ZTt0aGlzLmFkZEZlYXR1cmUoZSxvLGUuaW5kZXgsdCxyLG4saSl9dGhpcy5zb3J0Qm9yZGVycygpfXVwZGF0ZShlLHQscixuKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXMoZSx0LHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMscixuKX1pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfXVwbG9hZChlKXt0aGlzLnVwbG9hZGVkfHwodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxpdSksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSYmKHRoaXMubGF5b3V0VmVydGV4RXh0QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksbnUubWVtYmVycywhMCkpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQoZSksdGhpcy51cGxvYWRlZD0hMH11cGxvYWRDZW50cm9pZChlKXswIT09dGhpcy5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aCYmKHRoaXMuY2VudHJvaWRWZXJ0ZXhCdWZmZXI/dGhpcy5uZWVkc0NlbnRyb2lkVXBkYXRlJiZ0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5jZW50cm9pZFZlcnRleEFycmF5KTp0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheSxydS5tZW1iZXJzLCEwKSx0aGlzLm5lZWRzQ2VudHJvaWRVcGRhdGU9ITEpfWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyJiZ0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmxheW91dFZlcnRleEV4dEJ1ZmZlciYmdGhpcy5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSl9YWRkRmVhdHVyZShlLHQscixuLGksbyxhKXtjb25zdCBzPVtuZXcgbSgwLDApLG5ldyBtKHZzLHZzKV0sbD1hLnByb2plY3Rpb24sYz1cImdsb2JlXCI9PT1sLm5hbWUsdT10aGlzLmVuYWJsZVRlcnJhaW4mJiFjP25ldyBFdTpudWxsLGg9XCJQb2x5Z29uXCI9PT14dVtlLnR5cGVdO2MmJiF0aGlzLmxheW91dFZlcnRleEV4dEFycmF5JiYodGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheT1uZXcgVGEpO2NvbnN0IGQ9WGModCw1MDApO2ZvcihsZXQgZT1kLmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdCB0PWRbZV07KDA9PT10Lmxlbmd0aHx8KHA9dFswXSkuZXZlcnkoZT0+ZS54PD0wKXx8cC5ldmVyeShlPT5lLng+PXZzKXx8cC5ldmVyeShlPT5lLnk8PTApfHxwLmV2ZXJ5KGU9PmUueT49dnMpKSYmZC5zcGxpY2UoZSwxKX12YXIgcDtsZXQgZjtpZihjKWY9RHUoZCxzLG4pO2Vsc2V7Zj1bXTtmb3IoY29uc3QgZSBvZiBkKWYucHVzaCh7cG9seWdvbjplLGJvdW5kczpzfSl9Y29uc3QgZz1oP3RoaXMuZWRnZVJhZGl1czowO2Zvcihjb25zdHtwb2x5Z29uOmUsYm91bmRzOnR9b2YgZil7bGV0IHI9MCxpPTA7Zm9yKGNvbnN0IHQgb2YgZSloJiYhdFswXS5lcXVhbHModFt0Lmxlbmd0aC0xXSkmJnQucHVzaCh0WzBdKSxpKz1oP3QubGVuZ3RoLTE6dC5sZW5ndGg7Y29uc3Qgbz10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KChoPzU6NCkqaSx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSk7aWYoaCl7Y29uc3QgdD1bXSxpPVtdO3I9by52ZXJ0ZXhMZW5ndGg7Zm9yKGNvbnN0IHIgb2YgZSl7bGV0IGEscztyLmxlbmd0aCYmciE9PWVbMF0mJmkucHVzaCh0Lmxlbmd0aC8yKSxhPXJbMV0uc3ViKHJbMF0pLl9wZXJwKCkuX3VuaXQoKTtmb3IobGV0IGU9MTtlPHIubGVuZ3RoO2UrKyl7Y29uc3QgaT1yW2VdLHU9cltlPT09ci5sZW5ndGgtMT8xOmUrMV07bGV0e3g6aCx5OmR9PWk7aWYoZyl7cz11LnN1YihpKS5fcGVycCgpLl91bml0KCk7Y29uc3QgZT1hLmFkZChzKS5fdW5pdCgpLHQ9ZypNYXRoLm1pbig0LDEvKGEueCplLngrYS55KmUueSkpO2grPXQqZS54LGQrPXQqZS55LGE9c313dSh0aGlzLmxheW91dFZlcnRleEFycmF5LGgsZCwwLDAsMSwxLDApLG8udmVydGV4TGVuZ3RoKyssdC5wdXNoKGkueCxpLnkpLGMmJlR1KHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksbC5wcm9qZWN0VGlsZVBvaW50KGgsZCxuKSxsLnVwVmVjdG9yKG4saCxkKSl9fWNvbnN0IGE9eWMuZXhwb3J0cyh0LGkpO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSs9Myl0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2socithW2VdLHIrYVtlKzJdLHIrYVtlKzFdKSxvLnByaW1pdGl2ZUxlbmd0aCsrfWZvcihjb25zdCBpIG9mIGUpe3UmJmkubGVuZ3RoJiZ1LnN0YXJ0UmluZyhpWzBdKTtsZXQgZSxhLHMsZD1pLmxlbmd0aD40JiZJdShpW2kubGVuZ3RoLTJdLGlbMF0saVsxXSkscD1nP011KGlbaS5sZW5ndGgtMl0saVswXSxpWzFdLGcpOjA7YT1pWzFdLnN1YihpWzBdKS5fcGVycCgpLl91bml0KCk7bGV0IGY9ITA7Zm9yKGxldCBtPTEsXz0wO208aS5sZW5ndGg7bSsrKXtsZXQgeT1pW20tMV0sdj1pW21dO2NvbnN0IHg9aVttPT09aS5sZW5ndGgtMT8xOm0rMV07aWYodSYmaCYmdS5jdXJyZW50UG9seUNvdW50LnRvcCsrLEF1KHYseSx0KSl7ZyYmKGE9eC5zdWIodikuX3BlcnAoKS5fdW5pdCgpLGY9IWYpO2NvbnRpbnVlfXUmJnUuYXBwZW5kKHYseSk7Y29uc3QgYj12LnN1Yih5KS5fcGVycCgpLHc9Yi54LyhNYXRoLmFicyhiLngpK01hdGguYWJzKGIueSkpLFQ9Yi55PjA/MTowLEU9eS5kaXN0KHYpO2lmKF8rRT4zMjc2OCYmKF89MCksZyl7cz14LnN1Yih2KS5fcGVycCgpLl91bml0KCk7bGV0IGU9a3UoeSx2LHgsQ3UoYSxzKSxnKTtpc05hTihlKSYmKGU9MCk7Y29uc3QgdD12LnN1Yih5KS5fdW5pdCgpO3k9eS5hZGQodC5tdWx0KHApKS5fcm91bmQoKSx2PXYuYWRkKHQubXVsdCgtZSkpLl9yb3VuZCgpLHA9ZSxhPXN9Y29uc3QgUz1vLnZlcnRleExlbmd0aCxDPWkubGVuZ3RoPjQmJkl1KHksdix4KTtsZXQgTT1QdShfLGQsZik7aWYod3UodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx5LngseS55LHcsVCwwLDAsTSksd3UodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx5LngseS55LHcsVCwwLDEsTSksXys9RSxNPVB1KF8sQywhZiksZD1DLHd1KHRoaXMubGF5b3V0VmVydGV4QXJyYXksdi54LHYueSx3LFQsMCwwLE0pLHd1KHRoaXMubGF5b3V0VmVydGV4QXJyYXksdi54LHYueSx3LFQsMCwxLE0pLG8udmVydGV4TGVuZ3RoKz00LHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhTKzAsUysxLFMrMiksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKFMrMSxTKzMsUysyKSxvLnByaW1pdGl2ZUxlbmd0aCs9MixnKXtjb25zdCBuPXIrKDE9PT1tP2kubGVuZ3RoLTI6bS0yKSxhPTE9PT1tP3I6bisxO2lmKHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhTKzEsbixTKzMpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhuLGEsUyszKSxvLnByaW1pdGl2ZUxlbmd0aCs9Mix2b2lkIDA9PT1lJiYoZT1TKSwhQXUoeCxpW21dLHQpKXtjb25zdCB0PW09PT1pLmxlbmd0aC0xP2U6by52ZXJ0ZXhMZW5ndGg7dGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKFMrMixTKzMsdCksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKFMrMyx0KzEsdCksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKFMrMyxhLHQrMSksby5wcmltaXRpdmVMZW5ndGgrPTN9Zj0hZn1pZihjKXtjb25zdCBlPXRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksdD1sLnByb2plY3RUaWxlUG9pbnQoeS54LHkueSxuKSxyPWwucHJvamVjdFRpbGVQb2ludCh2Lngsdi55LG4pLGk9bC51cFZlY3RvcihuLHkueCx5LnkpLG89bC51cFZlY3RvcihuLHYueCx2LnkpO1R1KGUsdCxpKSxUdShlLHQsaSksVHUoZSxyLG8pLFR1KGUscixvKX19aCYmKHIrPWkubGVuZ3RoLTEpfX1pZih1JiZ1LnBvbHlDb3VudC5sZW5ndGg+MCl7aWYodS5ib3JkZXJzKXt1LnZlcnRleEFycmF5T2Zmc2V0PXRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGg7Y29uc3QgZT11LmJvcmRlcnMsdD10aGlzLmZlYXR1cmVzT25Cb3JkZXIucHVzaCh1KS0xO2ZvcihsZXQgcj0wO3I8NDtyKyspZVtyXVswXSE9PU51bWJlci5NQVhfVkFMVUUmJnRoaXMuYm9yZGVyc1tyXS5wdXNoKHQpfXRoaXMuZW5jb2RlQ2VudHJvaWQodS5ib3JkZXJzP3ZvaWQgMDp1LmNlbnRyb2lkKCksdSl9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCxlLHIsaSxvLG4pfXNvcnRCb3JkZXJzKCl7Zm9yKGxldCBlPTA7ZTw0O2UrKyl0aGlzLmJvcmRlcnNbZV0uc29ydCgodCxyKT0+dGhpcy5mZWF0dXJlc09uQm9yZGVyW3RdLmJvcmRlcnNbZV1bMF0tdGhpcy5mZWF0dXJlc09uQm9yZGVyW3JdLmJvcmRlcnNbZV1bMF0pfWVuY29kZUNlbnRyb2lkKGUsdCxyPSEwKXtsZXQgbixpO2lmKGUpaWYoMCE9PWUueSl7Y29uc3Qgcj10LnNwYW4oKS5fbXVsdCh0aGlzLnRpbGVUb01ldGVyKTtuPShNYXRoLm1heChlLngsMSk8PDMpK01hdGgubWluKDcsTWF0aC5yb3VuZChyLngvMTApKSxpPShNYXRoLm1heChlLnksMSk8PDMpK01hdGgubWluKDcsTWF0aC5yb3VuZChyLnkvMTApKX1lbHNlIG49TWF0aC5jZWlsKDcqKGUueCs0NTApKSxpPTA7ZWxzZSBuPTAsaT0rcjtsZXQgbz1yP3RoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGg6dC52ZXJ0ZXhBcnJheU9mZnNldDtmb3IoY29uc3QgZSBvZiB0LnBvbHlDb3VudCl7ciYmdGhpcy5jZW50cm9pZFZlcnRleEFycmF5LnJlc2l6ZSh0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkubGVuZ3RoKzQqZS5lZGdlcytlLnRvcCk7Zm9yKGxldCB0PTA7dDxlLnRvcDt0KyspdGhpcy5jZW50cm9pZFZlcnRleEFycmF5LmVtcGxhY2UobysrLG4saSk7Zm9yKGxldCB0PTA7dDwyKmUuZWRnZXM7dCsrKXRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5lbXBsYWNlKG8rKywwLGkpLHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5lbXBsYWNlKG8rKyxuLGkpfX19ZnVuY3Rpb24gQ3UoZSx0KXtjb25zdCByPWUuYWRkKHQpLl91bml0KCk7cmV0dXJuIGUueCpyLngrZS55KnIueX1mdW5jdGlvbiBNdShlLHQscixuKXtjb25zdCBpPXQuc3ViKGUpLl9wZXJwKCkuX3VuaXQoKSxvPXIuc3ViKHQpLl9wZXJwKCkuX3VuaXQoKTtyZXR1cm4ga3UoZSx0LHIsQ3UoaSxvKSxuKX1mdW5jdGlvbiBrdShlLHQscixuLGkpe2NvbnN0IG89TWF0aC5zcXJ0KDEtbipuKTtyZXR1cm4gTWF0aC5taW4oZS5kaXN0KHQpLzMsdC5kaXN0KHIpLzMsaSpvL24pfWZ1bmN0aW9uIEF1KGUsdCxyKXtyZXR1cm4gZS54PHJbMF0ueCYmdC54PHJbMF0ueHx8ZS54PnJbMV0ueCYmdC54PnJbMV0ueHx8ZS55PHJbMF0ueSYmdC55PHJbMF0ueXx8ZS55PnJbMV0ueSYmdC55PnJbMV0ueX1mdW5jdGlvbiBJdShlLHQscil7aWYoZS54PDB8fGUueD49dnN8fHQueDwwfHx0Lng+PXZzfHxyLng8MHx8ci54Pj12cylyZXR1cm4hMTtjb25zdCBuPXIuc3ViKHQpLGk9bi5wZXJwKCksbz1lLnN1Yih0KTtyZXR1cm4obi54Km8ueCtuLnkqby55KS9NYXRoLnNxcnQoKG4ueCpuLngrbi55Km4ueSkqKG8ueCpvLngrby55Km8ueSkpPi0uODY2JiZpLngqby54K2kueSpvLnk8MH1mdW5jdGlvbiBQdShlLHQscil7Y29uc3Qgbj10PzJ8ZTotMyZlO3JldHVybiByPzF8bjotMiZufWZ1bmN0aW9uIHp1KCl7Y29uc3QgZT1NYXRoLlBJLzMyLHQ9TWF0aC50YW4oZSkscj1icztyZXR1cm4gcipNYXRoLnNxcnQoMSsyKnQqdCktcn1mdW5jdGlvbiBEdShlLHQscil7Y29uc3Qgbj0xPDxyLnosaT1rcyhyLngvbiksbz1rcygoci54KzEpL24pLGE9QXMoci55L24pLHM9QXMoKHIueSsxKS9uKTtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbixpPTAsbyl7Y29uc3QgYT1bXTtpZighZS5sZW5ndGh8fCFyfHwhbilyZXR1cm4gYTtjb25zdCBzPShlLHQpPT57Zm9yKGNvbnN0IHIgb2YgZSlhLnB1c2goe3BvbHlnb246cixib3VuZHM6dH0pfSxsPU1hdGguY2VpbChNYXRoLmxvZzIocikpLGM9TWF0aC5jZWlsKE1hdGgubG9nMihuKSksdT1sLWMsaD1bXTtmb3IobGV0IGU9MDtlPE1hdGguYWJzKHUpO2UrKyloLnB1c2godT4wPzA6MSk7Zm9yKGxldCBlPTA7ZTxNYXRoLm1pbihsLGMpO2UrKyloLnB1c2goMCksaC5wdXNoKDEpO2xldCBkPWU7aWYoZD12dShkLHRbMF0ueS1pLHRbMV0ueStpLDEpLGQ9dnUoZCx0WzBdLngtaSx0WzFdLngraSwwKSwhZC5sZW5ndGgpcmV0dXJuIGE7Y29uc3QgcD1bXTtmb3IoaC5sZW5ndGg/cC5wdXNoKHtwb2x5Z29uczpkLGJvdW5kczp0LGRlcHRoOjB9KTpzKGQsdCk7cC5sZW5ndGg7KXtjb25zdCBlPXAucG9wKCksdD1lLmRlcHRoLHI9aFt0XSxuPWUuYm91bmRzWzBdLGE9ZS5ib3VuZHNbMV0sbD0wPT09cj9uLng6bi55LGM9MD09PXI/YS54OmEueSx1PW8/byhyLGwsYyk6LjUqKGwrYyksZD12dShlLnBvbHlnb25zLGwtaSx1K2ksciksZj12dShlLnBvbHlnb25zLHUtaSxjK2kscik7aWYoZC5sZW5ndGgpe2NvbnN0IGU9W24sbmV3IG0oMD09PXI/dTphLngsMT09PXI/dTphLnkpXTtoLmxlbmd0aD50KzE/cC5wdXNoKHtwb2x5Z29uczpkLGJvdW5kczplLGRlcHRoOnQrMX0pOnMoZCxlKX1pZihmLmxlbmd0aCl7Y29uc3QgZT1bbmV3IG0oMD09PXI/dTpuLngsMT09PXI/dTpuLnkpLGFdO2gubGVuZ3RoPnQrMT9wLnB1c2goe3BvbHlnb25zOmYsYm91bmRzOmUsZGVwdGg6dCsxfSk6cyhmLGUpfX1yZXR1cm4gYX0oZSx0LE1hdGguY2VpbCgoby1pKS8xMS4yNSksTWF0aC5jZWlsKChhLXMpLzExLjI1KSwxLChlLHQsaSk9PntpZigwPT09ZSlyZXR1cm4uNSoodCtpKTt7Y29uc3QgZT1Bcygoci55K3QvdnMpL24pO3JldHVybihDcyguNSooQXMoKHIueStpL3ZzKS9uKStlKSkqbi1yLnkpKnZzfX0pfUlpKFN1LFwiRmlsbEV4dHJ1c2lvbkJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwiZmVhdHVyZXNcIl19KSxJaShFdSxcIlBhcnRNZXRhZGF0YVwiKTtjb25zdCBSdT1uZXcgcW8oe1wiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIjpuZXcgam8oWWVbXCJsYXlvdXRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiXSl9KTt2YXIgTHU9e3BhaW50Om5ldyBxbyh7XCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCI6bmV3IGpvKFllW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCJdKSxcImZpbGwtZXh0cnVzaW9uLWNvbG9yXCI6bmV3IFVvKFllW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiXSksXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIjpuZXcgam8oWWVbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiXSksXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IGpvKFllW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjpuZXcgTm8oWWVbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIl0pLFwiZmlsbC1leHRydXNpb24taGVpZ2h0XCI6bmV3IFVvKFllW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIl0pLFwiZmlsbC1leHRydXNpb24tYmFzZVwiOm5ldyBVbyhZZVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tYmFzZVwiXSksXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudFwiOm5ldyBqbyhZZVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnRcIl0pLFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCI6bmV3IGpvKFllW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIl0pLFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCI6bmV3IGpvKFllW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1yYWRpdXNcIl0pfSksbGF5b3V0OlJ1fTtmdW5jdGlvbiBPdShlLHQscil7dmFyIG49MipNYXRoLlBJKjYzNzgxMzcvMjU2L01hdGgucG93KDIscik7cmV0dXJuW2Uqbi0yKk1hdGguUEkqNjM3ODEzNy8yLHQqbi0yKk1hdGguUEkqNjM3ODEzNy8yXX1jbGFzcyBCdXtjb25zdHJ1Y3RvcihlLHQscil7dGhpcy56PWUsdGhpcy54PXQsdGhpcy55PXIsdGhpcy5rZXk9VXUoMCxlLGUsdCxyKX1lcXVhbHMoZSl7cmV0dXJuIHRoaXMuej09PWUueiYmdGhpcy54PT09ZS54JiZ0aGlzLnk9PT1lLnl9dXJsKGUsdCl7Y29uc3Qgcj1mdW5jdGlvbihlLHQscil7dmFyIG49T3UoMjU2KmUsMjU2Kih0PU1hdGgucG93KDIsciktdC0xKSxyKSxpPU91KDI1NiooZSsxKSwyNTYqKHQrMSkscik7cmV0dXJuIG5bMF0rXCIsXCIrblsxXStcIixcIitpWzBdK1wiLFwiK2lbMV19KHRoaXMueCx0aGlzLnksdGhpcy56KSxuPWZ1bmN0aW9uKGUsdCxyKXtsZXQgbixpPVwiXCI7Zm9yKGxldCBvPWU7bz4wO28tLSluPTE8PG8tMSxpKz0odCZuPzE6MCkrKHImbj8yOjApO3JldHVybiBpfSh0aGlzLnosdGhpcy54LHRoaXMueSk7cmV0dXJuIGVbKHRoaXMueCt0aGlzLnkpJWUubGVuZ3RoXS5yZXBsYWNlKFwie3ByZWZpeH1cIiwodGhpcy54JTE2KS50b1N0cmluZygxNikrKHRoaXMueSUxNikudG9TdHJpbmcoMTYpKS5yZXBsYWNlKC97en0vZyxTdHJpbmcodGhpcy56KSkucmVwbGFjZSgve3h9L2csU3RyaW5nKHRoaXMueCkpLnJlcGxhY2UoL3t5fS9nLFN0cmluZyhcInRtc1wiPT09dD9NYXRoLnBvdygyLHRoaXMueiktdGhpcy55LTE6dGhpcy55KSkucmVwbGFjZShcIntxdWFka2V5fVwiLG4pLnJlcGxhY2UoXCJ7YmJveC1lcHNnLTM4NTd9XCIscil9dG9TdHJpbmcoKXtyZXR1cm5gJHt0aGlzLnp9LyR7dGhpcy54fS8ke3RoaXMueX1gfX1jbGFzcyBGdXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMud3JhcD1lLHRoaXMuY2Fub25pY2FsPXQsdGhpcy5rZXk9VXUoZSx0LnosdC56LHQueCx0LnkpfX1jbGFzcyBqdXtjb25zdHJ1Y3RvcihlLHQscixuLGkpe3RoaXMub3ZlcnNjYWxlZFo9ZSx0aGlzLndyYXA9dCx0aGlzLmNhbm9uaWNhbD1uZXcgQnUociwrbiwraSksdGhpcy5rZXk9MD09PXQmJmU9PT1yP3RoaXMuY2Fub25pY2FsLmtleTpVdSh0LGUscixuLGkpfWVxdWFscyhlKXtyZXR1cm4gdGhpcy5vdmVyc2NhbGVkWj09PWUub3ZlcnNjYWxlZFomJnRoaXMud3JhcD09PWUud3JhcCYmdGhpcy5jYW5vbmljYWwuZXF1YWxzKGUuY2Fub25pY2FsKX1zY2FsZWRUbyhlKXtjb25zdCB0PXRoaXMuY2Fub25pY2FsLnotZTtyZXR1cm4gZT50aGlzLmNhbm9uaWNhbC56P25ldyBqdShlLHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSk6bmV3IGp1KGUsdGhpcy53cmFwLGUsdGhpcy5jYW5vbmljYWwueD4+dCx0aGlzLmNhbm9uaWNhbC55Pj50KX1jYWxjdWxhdGVTY2FsZWRLZXkoZSx0PSEwKXtpZih0aGlzLm92ZXJzY2FsZWRaPT09ZSYmdClyZXR1cm4gdGhpcy5rZXk7aWYoZT50aGlzLmNhbm9uaWNhbC56KXJldHVybiBVdSh0aGlzLndyYXAqK3QsZSx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSk7e2NvbnN0IHI9dGhpcy5jYW5vbmljYWwuei1lO3JldHVybiBVdSh0aGlzLndyYXAqK3QsZSxlLHRoaXMuY2Fub25pY2FsLng+PnIsdGhpcy5jYW5vbmljYWwueT4+cil9fWlzQ2hpbGRPZihlKXtpZihlLndyYXAhPT10aGlzLndyYXApcmV0dXJuITE7Y29uc3QgdD10aGlzLmNhbm9uaWNhbC56LWUuY2Fub25pY2FsLno7cmV0dXJuIDA9PT1lLm92ZXJzY2FsZWRafHxlLm92ZXJzY2FsZWRaPHRoaXMub3ZlcnNjYWxlZFomJmUuY2Fub25pY2FsLng9PT10aGlzLmNhbm9uaWNhbC54Pj50JiZlLmNhbm9uaWNhbC55PT09dGhpcy5jYW5vbmljYWwueT4+dH1jaGlsZHJlbihlKXtpZih0aGlzLm92ZXJzY2FsZWRaPj1lKXJldHVybltuZXcganUodGhpcy5vdmVyc2NhbGVkWisxLHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSldO2NvbnN0IHQ9dGhpcy5jYW5vbmljYWwueisxLHI9Mip0aGlzLmNhbm9uaWNhbC54LG49Mip0aGlzLmNhbm9uaWNhbC55O3JldHVybltuZXcganUodCx0aGlzLndyYXAsdCxyLG4pLG5ldyBqdSh0LHRoaXMud3JhcCx0LHIrMSxuKSxuZXcganUodCx0aGlzLndyYXAsdCxyLG4rMSksbmV3IGp1KHQsdGhpcy53cmFwLHQscisxLG4rMSldfWlzTGVzc1RoYW4oZSl7cmV0dXJuIHRoaXMud3JhcDxlLndyYXB8fCEodGhpcy53cmFwPmUud3JhcCkmJih0aGlzLm92ZXJzY2FsZWRaPGUub3ZlcnNjYWxlZFp8fCEodGhpcy5vdmVyc2NhbGVkWj5lLm92ZXJzY2FsZWRaKSYmKHRoaXMuY2Fub25pY2FsLng8ZS5jYW5vbmljYWwueHx8ISh0aGlzLmNhbm9uaWNhbC54PmUuY2Fub25pY2FsLngpJiZ0aGlzLmNhbm9uaWNhbC55PGUuY2Fub25pY2FsLnkpKX13cmFwcGVkKCl7cmV0dXJuIG5ldyBqdSh0aGlzLm92ZXJzY2FsZWRaLDAsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpfXVud3JhcFRvKGUpe3JldHVybiBuZXcganUodGhpcy5vdmVyc2NhbGVkWixlLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KX1vdmVyc2NhbGVGYWN0b3IoKXtyZXR1cm4gTWF0aC5wb3coMix0aGlzLm92ZXJzY2FsZWRaLXRoaXMuY2Fub25pY2FsLnopfXRvVW53cmFwcGVkKCl7cmV0dXJuIG5ldyBGdSh0aGlzLndyYXAsdGhpcy5jYW5vbmljYWwpfXRvU3RyaW5nKCl7cmV0dXJuYCR7dGhpcy5vdmVyc2NhbGVkWn0vJHt0aGlzLmNhbm9uaWNhbC54fS8ke3RoaXMuY2Fub25pY2FsLnl9YH19ZnVuY3Rpb24gVXUoZSx0LHIsbixpKXtjb25zdCBvPTE8PE1hdGgubWluKHIsMjIpO2xldCBhPW8qKGklbykrbiVvO3JldHVybiBlJiZyPDIyJiYoYSs9bypvKigoZTwwPy0yKmUtMToyKmUpJSgxPDwyKigyMi1yKSkpKSwxNiooMzIqYStyKSsodC1yKX1JaShCdSxcIkNhbm9uaWNhbFRpbGVJRFwiKSxJaShqdSxcIk92ZXJzY2FsZWRUaWxlSURcIix7b21pdDpbXCJwcm9qTWF0cml4XCJdfSk7Y2xhc3MgTnUgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUsdCxyKXtzdXBlcihlLHQpLHRoaXMuej1yfX1mdW5jdGlvbiBWdShlLHQpe3JldHVybiBlLngqdC54K2UueSp0Lnl9ZnVuY3Rpb24gR3UoZSx0KXtpZigxPT09ZS5sZW5ndGgpe2xldCByPTA7Y29uc3Qgbj10W3IrK107bGV0IGk7Zm9yKDshaXx8bi5lcXVhbHMoaSk7KWlmKGk9dFtyKytdLCFpKXJldHVybiAxLzA7Zm9yKDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbz10W3JdLGE9ZVswXSxzPWkuc3ViKG4pLGw9by5zdWIobiksYz1hLnN1YihuKSx1PVZ1KHMscyksaD1WdShzLGwpLGQ9VnUobCxsKSxwPVZ1KGMscyksZj1WdShjLGwpLG09dSpkLWgqaCxnPShkKnAtaCpmKS9tLF89KHUqZi1oKnApL20seT1uLnoqKDEtZy1fKStpLnoqZytvLnoqXztpZihpc0Zpbml0ZSh5KSlyZXR1cm4geX1yZXR1cm4gMS8wfXtsZXQgZT0xLzA7Zm9yKGNvbnN0IHIgb2YgdCllPU1hdGgubWluKGUsci56KTtyZXR1cm4gZX19ZnVuY3Rpb24gcXUoZSx0LHIsbixpLG8sYSxzKXtjb25zdCBsPWEqaS5nZXRFbGV2YXRpb25BdChlLHQsITAsITApLGM9MCE9PW9bMF0sdT1jPzA9PT1vWzFdP2EqKG9bMF0vNy00NTApOmEqZnVuY3Rpb24oZSx0LHIpe2NvbnN0IG49TWF0aC5mbG9vcih0WzBdLzgpLGk9TWF0aC5mbG9vcih0WzFdLzgpLG89MTAqKHRbMF0tOCpuKSxhPTEwKih0WzFdLTgqaSkscz1lLmdldEVsZXZhdGlvbkF0KG4saSwhMCwhMCksbD1lLmdldE1ldGVyVG9ERU0ociksYz1NYXRoLmZsb29yKC41KihvKmwtMSkpLHU9TWF0aC5mbG9vciguNSooYSpsLTEpKSxoPWUudGlsZUNvb3JkVG9QaXhlbChuLGkpLGQ9MipjKzEscD0yKnUrMSxmPWZ1bmN0aW9uKGUsdCxyLG4saSl7cmV0dXJuW2UuZ2V0RWxldmF0aW9uQXRQaXhlbCh0LHIsITApLGUuZ2V0RWxldmF0aW9uQXRQaXhlbCh0K2ksciwhMCksZS5nZXRFbGV2YXRpb25BdFBpeGVsKHQscitpLCEwKSxlLmdldEVsZXZhdGlvbkF0UGl4ZWwodCtuLHIraSwhMCldfShlLGgueC1jLGgueS11LGQscCksbT1NYXRoLmFicyhmWzBdLWZbMV0pLGc9TWF0aC5hYnMoZlsyXS1mWzNdKSxfPU1hdGguYWJzKGZbMF0tZlsyXSkrTWF0aC5hYnMoZlsxXS1mWzNdKSx5PU1hdGgubWluKC4yNSwuNSpsKihtK2cpL2QpLHY9TWF0aC5taW4oLjI1LC41KmwqXy9wKTtyZXR1cm4gcytNYXRoLm1heCh5Km8sdiphKX0oaSxvLHMpOmw7cmV0dXJue2Jhc2U6bCsoMD09PXIpPy0xOnIsdG9wOmM/TWF0aC5tYXgodStuLGwrcisyKTpsK259fWNvbnN0IFp1PUhvKFt7bmFtZTpcImFfcG9zX25vcm1hbFwiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2RhdGFcIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQ4XCJ9LHtuYW1lOlwiYV9saW5lc29mYXJcIixjb21wb25lbnRzOjEsdHlwZTpcIkZsb2F0MzJcIn1dLDQpLHttZW1iZXJzOiR1fT1adSxXdT1Ibyhbe25hbWU6XCJhX3BhY2tlZFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiRmxvYXQzMlwifV0pLHttZW1iZXJzOlh1fT1XdSxIdT15dS50eXBlcyxZdT1NYXRoLmNvcyhNYXRoLlBJLzE4MCozNy41KTtjbGFzcyBLdXtjb25zdHJ1Y3RvcihlKXt0aGlzLnpvb209ZS56b29tLHRoaXMub3ZlcnNjYWxpbmc9ZS5vdmVyc2NhbGluZyx0aGlzLmxheWVycz1lLmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcChlPT5lLmlkKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbix0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5wYXR0ZXJuRmVhdHVyZXM9W10sdGhpcy5saW5lQ2xpcHNBcnJheT1bXSx0aGlzLmdyYWRpZW50cz17fSx0aGlzLmxheWVycy5mb3JFYWNoKGU9Pnt0aGlzLmdyYWRpZW50c1tlLmlkXT17fX0pLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IGVhLHRoaXMubGF5b3V0VmVydGV4QXJyYXkyPW5ldyB0YSx0aGlzLmluZGV4QXJyYXk9bmV3IHBhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBscyhlLmxheWVycyxlLnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IHlzLHRoaXMubWF4TGluZUxlbmd0aD0wLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoZT0+ZS5pc1N0YXRlRGVwZW5kZW50KCkpLm1hcChlPT5lLmlkKX1wb3B1bGF0ZShlLHQscixuKXt0aGlzLmhhc1BhdHRlcm49WWMoXCJsaW5lXCIsdGhpcy5sYXllcnMsdCk7Y29uc3QgaT10aGlzLmxheWVyc1swXS5sYXlvdXQuZ2V0KFwibGluZS1zb3J0LWtleVwiKSxvPVtdO2Zvcihjb25zdHtmZWF0dXJlOnQsaWQ6YSxpbmRleDpzLHNvdXJjZUxheWVySW5kZXg6bH1vZiBlKXtjb25zdCBlPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxjPVZzKHQsZSk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgSW8odGhpcy56b29tKSxjLHIpKWNvbnRpbnVlO2NvbnN0IHU9aT9pLmV2YWx1YXRlKGMse30scik6dm9pZCAwLGg9e2lkOmEscHJvcGVydGllczp0LnByb3BlcnRpZXMsdHlwZTp0LnR5cGUsc291cmNlTGF5ZXJJbmRleDpsLGluZGV4OnMsZ2VvbWV0cnk6ZT9jLmdlb21ldHJ5Ok5zKHQscixuKSxwYXR0ZXJuczp7fSxzb3J0S2V5OnV9O28ucHVzaChoKX1pJiZvLnNvcnQoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpO2NvbnN0e2xpbmVBdGxhczphLGZlYXR1cmVJbmRleDpzfT10LGw9dGhpcy5hZGRDb25zdGFudERhc2hlcyhhKTtmb3IoY29uc3QgbiBvZiBvKXtjb25zdHtnZW9tZXRyeTppLGluZGV4Om8sc291cmNlTGF5ZXJJbmRleDpjfT1uO2lmKGwmJnRoaXMuYWRkRmVhdHVyZURhc2hlcyhuLGEpLHRoaXMuaGFzUGF0dGVybil7Y29uc3QgZT1LYyhcImxpbmVcIix0aGlzLmxheWVycyxuLHRoaXMuem9vbSx0KTt0aGlzLnBhdHRlcm5GZWF0dXJlcy5wdXNoKGUpfWVsc2UgdGhpcy5hZGRGZWF0dXJlKG4saSxvLHIsYS5wb3NpdGlvbnMsdC5hdmFpbGFibGVJbWFnZXMpO3MuaW5zZXJ0KGVbb10uZmVhdHVyZSxpLG8sYyx0aGlzLmluZGV4KX19YWRkQ29uc3RhbnREYXNoZXMoZSl7bGV0IHQ9ITE7Zm9yKGNvbnN0IHIgb2YgdGhpcy5sYXllcnMpe2NvbnN0IG49ci5wYWludC5nZXQoXCJsaW5lLWRhc2hhcnJheVwiKS52YWx1ZSxpPXIubGF5b3V0LmdldChcImxpbmUtY2FwXCIpLnZhbHVlO2lmKFwiY29uc3RhbnRcIiE9PW4ua2luZHx8XCJjb25zdGFudFwiIT09aS5raW5kKXQ9ITA7ZWxzZXtjb25zdCB0PWkudmFsdWUscj1uLnZhbHVlO2lmKCFyKWNvbnRpbnVlO2UuYWRkRGFzaChyLmZyb20sdCksZS5hZGREYXNoKHIudG8sdCksci5vdGhlciYmZS5hZGREYXNoKHIub3RoZXIsdCl9fXJldHVybiB0fWFkZEZlYXR1cmVEYXNoZXMoZSx0KXtjb25zdCByPXRoaXMuem9vbTtmb3IoY29uc3QgbiBvZiB0aGlzLmxheWVycyl7Y29uc3QgaT1uLnBhaW50LmdldChcImxpbmUtZGFzaGFycmF5XCIpLnZhbHVlLG89bi5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikudmFsdWU7aWYoXCJjb25zdGFudFwiPT09aS5raW5kJiZcImNvbnN0YW50XCI9PT1vLmtpbmQpY29udGludWU7bGV0IGEscyxsLGMsdSxoO2lmKFwiY29uc3RhbnRcIj09PWkua2luZCl7Y29uc3QgZT1pLnZhbHVlO2lmKCFlKWNvbnRpbnVlO2E9ZS5vdGhlcnx8ZS50byxzPWUudG8sbD1lLmZyb219ZWxzZSBhPWkuZXZhbHVhdGUoe3pvb206ci0xfSxlKSxzPWkuZXZhbHVhdGUoe3pvb206cn0sZSksbD1pLmV2YWx1YXRlKHt6b29tOnIrMX0sZSk7XCJjb25zdGFudFwiPT09by5raW5kP2M9dT1oPW8udmFsdWU6KGM9by5ldmFsdWF0ZSh7em9vbTpyLTF9LGUpLHU9by5ldmFsdWF0ZSh7em9vbTpyfSxlKSxoPW8uZXZhbHVhdGUoe3pvb206cisxfSxlKSksdC5hZGREYXNoKGEsYyksdC5hZGREYXNoKHMsdSksdC5hZGREYXNoKGwsaCk7Y29uc3QgZD10LmdldEtleShhLGMpLHA9dC5nZXRLZXkocyx1KSxmPXQuZ2V0S2V5KGwsaCk7ZS5wYXR0ZXJuc1tuLmlkXT17bWluOmQsbWlkOnAsbWF4OmZ9fX11cGRhdGUoZSx0LHIsbil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLHIsbil9YWRkRmVhdHVyZXMoZSx0LHIsbixpKXtmb3IoY29uc3QgZSBvZiB0aGlzLnBhdHRlcm5GZWF0dXJlcyl0aGlzLmFkZEZlYXR1cmUoZSxlLmdlb21ldHJ5LGUuaW5kZXgsdCxyLG4pfWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RofXVwbG9hZFBlbmRpbmcoKXtyZXR1cm4hdGhpcy51cGxvYWRlZHx8dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9dXBsb2FkKGUpe3RoaXMudXBsb2FkZWR8fCgwIT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheTIubGVuZ3RoJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXkyLFh1KSksdGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSwkdSksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSkpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZChlKSx0aGlzLnVwbG9hZGVkPSEwfWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCkpfWxpbmVGZWF0dXJlQ2xpcHMoZSl7aWYoZS5wcm9wZXJ0aWVzJiZlLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJtYXBib3hfY2xpcF9zdGFydFwiKSYmZS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwibWFwYm94X2NsaXBfZW5kXCIpKXJldHVybntzdGFydDorZS5wcm9wZXJ0aWVzLm1hcGJveF9jbGlwX3N0YXJ0LGVuZDorZS5wcm9wZXJ0aWVzLm1hcGJveF9jbGlwX2VuZH19YWRkRmVhdHVyZShlLHQscixuLGksbyl7Y29uc3QgYT10aGlzLmxheWVyc1swXS5sYXlvdXQscz1hLmdldChcImxpbmUtam9pblwiKS5ldmFsdWF0ZShlLHt9KSxsPWEuZ2V0KFwibGluZS1jYXBcIikuZXZhbHVhdGUoZSx7fSksYz1hLmdldChcImxpbmUtbWl0ZXItbGltaXRcIiksdT1hLmdldChcImxpbmUtcm91bmQtbGltaXRcIik7dGhpcy5saW5lQ2xpcHM9dGhpcy5saW5lRmVhdHVyZUNsaXBzKGUpO2Zvcihjb25zdCByIG9mIHQpdGhpcy5hZGRMaW5lKHIsZSxzLGwsYyx1KTt0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5wb3B1bGF0ZVBhaW50QXJyYXlzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLGUscixpLG8sbil9YWRkTGluZShlLHQscixuLGksbyl7aWYodGhpcy5kaXN0YW5jZT0wLHRoaXMuc2NhbGVkRGlzdGFuY2U9MCx0aGlzLnRvdGFsRGlzdGFuY2U9MCx0aGlzLmxpbmVTb0Zhcj0wLHRoaXMubGluZUNsaXBzKXt0aGlzLmxpbmVDbGlwc0FycmF5LnB1c2godGhpcy5saW5lQ2xpcHMpO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGgtMTt0KyspdGhpcy50b3RhbERpc3RhbmNlKz1lW3RdLmRpc3QoZVt0KzFdKTt0aGlzLnVwZGF0ZVNjYWxlZERpc3RhbmNlKCksdGhpcy5tYXhMaW5lTGVuZ3RoPU1hdGgubWF4KHRoaXMubWF4TGluZUxlbmd0aCx0aGlzLnRvdGFsRGlzdGFuY2UpfWNvbnN0IGE9XCJQb2x5Z29uXCI9PT1IdVt0LnR5cGVdO2xldCBzPWUubGVuZ3RoO2Zvcig7cz49MiYmZVtzLTFdLmVxdWFscyhlW3MtMl0pOylzLS07bGV0IGw9MDtmb3IoO2w8cy0xJiZlW2xdLmVxdWFscyhlW2wrMV0pOylsKys7aWYoczwoYT8zOjIpKXJldHVybjtcImJldmVsXCI9PT1yJiYoaT0xLjA1KTtjb25zdCBjPXRoaXMub3ZlcnNjYWxpbmc8PTE2PzEyMjg4MC8oNTEyKnRoaXMub3ZlcnNjYWxpbmcpOjAsdT10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KDEwKnMsdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmluZGV4QXJyYXkpO2xldCBoLGQscCxmLG07dGhpcy5lMT10aGlzLmUyPS0xLGEmJihoPWVbcy0yXSxtPWVbbF0uc3ViKGgpLl91bml0KCkuX3BlcnAoKSk7Zm9yKGxldCB0PWw7dDxzO3QrKyl7aWYocD10PT09cy0xP2E/ZVtsKzFdOnZvaWQgMDplW3QrMV0scCYmZVt0XS5lcXVhbHMocCkpY29udGludWU7bSYmKGY9bSksaCYmKGQ9aCksaD1lW3RdLG09cD9wLnN1YihoKS5fdW5pdCgpLl9wZXJwKCk6ZixmPWZ8fG07bGV0IGc9Zi5hZGQobSk7MD09PWcueCYmMD09PWcueXx8Zy5fdW5pdCgpO2NvbnN0IF89Zi54Km0ueCtmLnkqbS55LHk9Zy54Km0ueCtnLnkqbS55LHY9MCE9PXk/MS95OjEvMCx4PTIqTWF0aC5zcXJ0KDItMip5KSxiPXk8WXUmJmQmJnAsdz1mLngqbS55LWYueSptLng+MDtpZihiJiZ0Pmwpe2NvbnN0IGU9aC5kaXN0KGQpO2lmKGU+MipjKXtjb25zdCB0PWguc3ViKGguc3ViKGQpLl9tdWx0KGMvZSkuX3JvdW5kKCkpO3RoaXMudXBkYXRlRGlzdGFuY2UoZCx0KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgodCxmLDAsMCx1KSxkPXR9fWNvbnN0IFQ9ZCYmcDtsZXQgRT1UP3I6YT9cImJ1dHRcIjpuO2lmKFQmJlwicm91bmRcIj09PUUmJih2PG8/RT1cIm1pdGVyXCI6djw9MiYmKEU9XCJmYWtlcm91bmRcIikpLFwibWl0ZXJcIj09PUUmJnY+aSYmKEU9XCJiZXZlbFwiKSxcImJldmVsXCI9PT1FJiYodj4yJiYoRT1cImZsaXBiZXZlbFwiKSx2PGkmJihFPVwibWl0ZXJcIikpLGQmJnRoaXMudXBkYXRlRGlzdGFuY2UoZCxoKSxcIm1pdGVyXCI9PT1FKWcuX211bHQodiksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZywwLDAsdSk7ZWxzZSBpZihcImZsaXBiZXZlbFwiPT09RSl7aWYodj4xMDApZz1tLm11bHQoLTEpO2Vsc2V7Y29uc3QgZT12KmYuYWRkKG0pLm1hZygpL2Yuc3ViKG0pLm1hZygpO2cuX3BlcnAoKS5fbXVsdChlKih3Py0xOjEpKX10aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxnLDAsMCx1KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxnLm11bHQoLTEpLDAsMCx1KX1lbHNlIGlmKFwiYmV2ZWxcIj09PUV8fFwiZmFrZXJvdW5kXCI9PT1FKXtjb25zdCBlPS1NYXRoLnNxcnQodip2LTEpLHQ9dz9lOjAscj13PzA6ZTtpZihkJiZ0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxmLHQscix1KSxcImZha2Vyb3VuZFwiPT09RSl7Y29uc3QgZT1NYXRoLnJvdW5kKDE4MCp4L01hdGguUEkvMjApO2ZvcihsZXQgdD0xO3Q8ZTt0Kyspe2xldCByPXQvZTtpZiguNSE9PXIpe2NvbnN0IGU9ci0uNTtyKz1yKmUqKHItMSkqKCgxLjA5MDQrXyooXyooMy41NTY0NS0xLjQzNTE5Kl8pLTMuMjQ1MikpKmUqZSsoLjg0ODAxMytfKiguMjE1NjM4Kl8tMS4wNjAyMSkpKX1jb25zdCBuPW0uc3ViKGYpLl9tdWx0KHIpLl9hZGQoZikuX3VuaXQoKS5fbXVsdCh3Py0xOjEpO3RoaXMuYWRkSGFsZlZlcnRleChoLG4ueCxuLnksITEsdywwLHUpfX1wJiZ0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxtLC10LC1yLHUpfWVsc2UgaWYoXCJidXR0XCI9PT1FKXRoaXMuYWRkQ3VycmVudFZlcnRleChoLGcsMCwwLHUpO2Vsc2UgaWYoXCJzcXVhcmVcIj09PUUpe2NvbnN0IGU9ZD8xOi0xO2R8fHRoaXMuYWRkQ3VycmVudFZlcnRleChoLGcsZSxlLHUpLHRoaXMuYWRkQ3VycmVudFZlcnRleChoLGcsMCwwLHUpLGQmJnRoaXMuYWRkQ3VycmVudFZlcnRleChoLGcsZSxlLHUpfWVsc2VcInJvdW5kXCI9PT1FJiYoZCYmKHRoaXMuYWRkQ3VycmVudFZlcnRleChoLGYsMCwwLHUpLHRoaXMuYWRkQ3VycmVudFZlcnRleChoLGYsMSwxLHUsITApKSxwJiYodGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSwtMSwtMSx1LCEwKSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxtLDAsMCx1KSkpO2lmKGImJnQ8cy0xKXtjb25zdCBlPWguZGlzdChwKTtpZihlPjIqYyl7Y29uc3QgdD1oLmFkZChwLnN1YihoKS5fbXVsdChjL2UpLl9yb3VuZCgpKTt0aGlzLnVwZGF0ZURpc3RhbmNlKGgsdCksdGhpcy5hZGRDdXJyZW50VmVydGV4KHQsbSwwLDAsdSksaD10fX19fWFkZEN1cnJlbnRWZXJ0ZXgoZSx0LHIsbixpLG89ITEpe2NvbnN0IGE9dC55Km4tdC54LHM9LXQueS10Lngqbjt0aGlzLmFkZEhhbGZWZXJ0ZXgoZSx0LngrdC55KnIsdC55LXQueCpyLG8sITEscixpKSx0aGlzLmFkZEhhbGZWZXJ0ZXgoZSxhLHMsbywhMCwtbixpKX1hZGRIYWxmVmVydGV4KHt4OmUseTp0fSxyLG4saSxvLGEscyl7dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjaygoZTw8MSkrKGk/MTowKSwodDw8MSkrKG8/MTowKSxNYXRoLnJvdW5kKDYzKnIpKzEyOCxNYXRoLnJvdW5kKDYzKm4pKzEyOCwxKygwPT09YT8wOmE8MD8tMToxKSwwLHRoaXMubGluZVNvRmFyKSx0aGlzLmxpbmVDbGlwcyYmdGhpcy5sYXlvdXRWZXJ0ZXhBcnJheTIuZW1wbGFjZUJhY2sodGhpcy5zY2FsZWREaXN0YW5jZSx0aGlzLmxpbmVDbGlwc0FycmF5Lmxlbmd0aCx0aGlzLmxpbmVDbGlwcy5zdGFydCx0aGlzLmxpbmVDbGlwcy5lbmQpO2NvbnN0IGw9cy52ZXJ0ZXhMZW5ndGgrKzt0aGlzLmUxPj0wJiZ0aGlzLmUyPj0wJiYodGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHRoaXMuZTEsdGhpcy5lMixsKSxzLnByaW1pdGl2ZUxlbmd0aCsrKSxvP3RoaXMuZTI9bDp0aGlzLmUxPWx9dXBkYXRlU2NhbGVkRGlzdGFuY2UoKXtpZih0aGlzLmxpbmVDbGlwcyl7Y29uc3QgZT10aGlzLnRvdGFsRGlzdGFuY2UvKHRoaXMubGluZUNsaXBzLmVuZC10aGlzLmxpbmVDbGlwcy5zdGFydCk7dGhpcy5zY2FsZWREaXN0YW5jZT10aGlzLmRpc3RhbmNlL3RoaXMudG90YWxEaXN0YW5jZSx0aGlzLmxpbmVTb0Zhcj1lKnRoaXMubGluZUNsaXBzLnN0YXJ0K3RoaXMuZGlzdGFuY2V9ZWxzZSB0aGlzLmxpbmVTb0Zhcj10aGlzLmRpc3RhbmNlfXVwZGF0ZURpc3RhbmNlKGUsdCl7dGhpcy5kaXN0YW5jZSs9ZS5kaXN0KHQpLHRoaXMudXBkYXRlU2NhbGVkRGlzdGFuY2UoKX19SWkoS3UsXCJMaW5lQnVja2V0XCIse29taXQ6W1wibGF5ZXJzXCIsXCJwYXR0ZXJuRmVhdHVyZXNcIl19KTtjb25zdCBKdT1uZXcgcW8oe1wibGluZS1jYXBcIjpuZXcgVW8oWWUubGF5b3V0X2xpbmVbXCJsaW5lLWNhcFwiXSksXCJsaW5lLWpvaW5cIjpuZXcgVW8oWWUubGF5b3V0X2xpbmVbXCJsaW5lLWpvaW5cIl0pLFwibGluZS1taXRlci1saW1pdFwiOm5ldyBqbyhZZS5sYXlvdXRfbGluZVtcImxpbmUtbWl0ZXItbGltaXRcIl0pLFwibGluZS1yb3VuZC1saW1pdFwiOm5ldyBqbyhZZS5sYXlvdXRfbGluZVtcImxpbmUtcm91bmQtbGltaXRcIl0pLFwibGluZS1zb3J0LWtleVwiOm5ldyBVbyhZZS5sYXlvdXRfbGluZVtcImxpbmUtc29ydC1rZXlcIl0pfSk7dmFyIFF1PXtwYWludDpuZXcgcW8oe1wibGluZS1vcGFjaXR5XCI6bmV3IFVvKFllLnBhaW50X2xpbmVbXCJsaW5lLW9wYWNpdHlcIl0pLFwibGluZS1jb2xvclwiOm5ldyBVbyhZZS5wYWludF9saW5lW1wibGluZS1jb2xvclwiXSksXCJsaW5lLXRyYW5zbGF0ZVwiOm5ldyBqbyhZZS5wYWludF9saW5lW1wibGluZS10cmFuc2xhdGVcIl0pLFwibGluZS10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IGpvKFllLnBhaW50X2xpbmVbXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIl0pLFwibGluZS13aWR0aFwiOm5ldyBVbyhZZS5wYWludF9saW5lW1wibGluZS13aWR0aFwiXSksXCJsaW5lLWdhcC13aWR0aFwiOm5ldyBVbyhZZS5wYWludF9saW5lW1wibGluZS1nYXAtd2lkdGhcIl0pLFwibGluZS1vZmZzZXRcIjpuZXcgVW8oWWUucGFpbnRfbGluZVtcImxpbmUtb2Zmc2V0XCJdKSxcImxpbmUtYmx1clwiOm5ldyBVbyhZZS5wYWludF9saW5lW1wibGluZS1ibHVyXCJdKSxcImxpbmUtZGFzaGFycmF5XCI6bmV3IE5vKFllLnBhaW50X2xpbmVbXCJsaW5lLWRhc2hhcnJheVwiXSksXCJsaW5lLXBhdHRlcm5cIjpuZXcgTm8oWWUucGFpbnRfbGluZVtcImxpbmUtcGF0dGVyblwiXSksXCJsaW5lLWdyYWRpZW50XCI6bmV3IEdvKFllLnBhaW50X2xpbmVbXCJsaW5lLWdyYWRpZW50XCJdKSxcImxpbmUtdHJpbS1vZmZzZXRcIjpuZXcgam8oWWUucGFpbnRfbGluZVtcImxpbmUtdHJpbS1vZmZzZXRcIl0pfSksbGF5b3V0Okp1fTtjb25zdCBlaD1uZXcgY2xhc3MgZXh0ZW5kcyBVb3twb3NzaWJseUV2YWx1YXRlKGUsdCl7cmV0dXJuIHQ9bmV3IElvKE1hdGguZmxvb3IodC56b29tKSx7bm93OnQubm93LGZhZGVEdXJhdGlvbjp0LmZhZGVEdXJhdGlvbix6b29tSGlzdG9yeTp0Lnpvb21IaXN0b3J5LHRyYW5zaXRpb246dC50cmFuc2l0aW9ufSksc3VwZXIucG9zc2libHlFdmFsdWF0ZShlLHQpfWV2YWx1YXRlKGUsdCxyLG4pe3JldHVybiB0PUkoe30sdCx7em9vbTpNYXRoLmZsb29yKHQuem9vbSl9KSxzdXBlci5ldmFsdWF0ZShlLHQscixuKX19KFF1LnBhaW50LnByb3BlcnRpZXNbXCJsaW5lLXdpZHRoXCJdLnNwZWNpZmljYXRpb24pO2Z1bmN0aW9uIHRoKGUsdCl7cmV0dXJuIHQ+MD90KzIqZTplfWVoLnVzZUludGVnZXJab29tPSEwO2NvbnN0IHJoPUhvKFt7bmFtZTpcImFfcG9zX29mZnNldFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX3RleF9zaXplXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn0se25hbWU6XCJhX3BpeGVsb2Zmc2V0XCIsY29tcG9uZW50czo0LHR5cGU6XCJJbnQxNlwifV0sNCksbmg9SG8oW3tuYW1lOlwiYV9nbG9iZV9hbmNob3JcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9nbG9iZV9ub3JtYWxcIixjb21wb25lbnRzOjMsdHlwZTpcIkZsb2F0MzJcIn1dLDQpLGloPUhvKFt7bmFtZTpcImFfcHJvamVjdGVkX3Bvc1wiLGNvbXBvbmVudHM6NCx0eXBlOlwiRmxvYXQzMlwifV0sNCk7SG8oW3tuYW1lOlwiYV9mYWRlX29wYWNpdHlcIixjb21wb25lbnRzOjEsdHlwZTpcIlVpbnQzMlwifV0sNCk7Y29uc3Qgb2g9SG8oW3tuYW1lOlwiYV9wbGFjZWRcIixjb21wb25lbnRzOjIsdHlwZTpcIlVpbnQ4XCJ9LHtuYW1lOlwiYV9zaGlmdFwiLGNvbXBvbmVudHM6Mix0eXBlOlwiRmxvYXQzMlwifV0pLGFoPUhvKFt7bmFtZTpcImFfc2l6ZV9zY2FsZVwiLGNvbXBvbmVudHM6MSx0eXBlOlwiRmxvYXQzMlwifSx7bmFtZTpcImFfcGFkZGluZ1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiRmxvYXQzMlwifV0pO0hvKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWlwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInRpbGVBbmNob3JYXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidGlsZUFuY2hvcllcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcIngxXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ5MVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieDJcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInkyXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicGFkZGluZ1wifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJmZWF0dXJlSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwic291cmNlTGF5ZXJJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJidWNrZXRJbmRleFwifV0pO2NvbnN0IHNoPUhvKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czozLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfYW5jaG9yX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2V4dHJ1ZGVcIixjb21wb25lbnRzOjIsdHlwZTpcIkludDE2XCJ9XSw0KSxsaD1Ibyhbe25hbWU6XCJhX3Bvc18yZlwiLGNvbXBvbmVudHM6Mix0eXBlOlwiRmxvYXQzMlwifSx7bmFtZTpcImFfcmFkaXVzXCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9LHtuYW1lOlwiYV9mbGFnc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpO0hvKFt7bmFtZTpcInRyaWFuZ2xlXCIsY29tcG9uZW50czozLHR5cGU6XCJVaW50MTZcIn1dKSxIbyhbe3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JYXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclpcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JYXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ0aWxlQW5jaG9yWVwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJnbHlwaFN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtR2x5cGhzXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcInZlcnRleFN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwibGluZVN0YXJ0SW5kZXhcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwibGluZUxlbmd0aFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJzZWdtZW50XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImxvd2VyU2l6ZVwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ1cHBlclNpemVcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImxpbmVPZmZzZXRYXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJsaW5lT2Zmc2V0WVwifSx7dHlwZTpcIlVpbnQ4XCIsbmFtZTpcIndyaXRpbmdNb2RlXCJ9LHt0eXBlOlwiVWludDhcIixuYW1lOlwicGxhY2VkT3JpZW50YXRpb25cIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJoaWRkZW5cIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwiY3Jvc3NUaWxlSURcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJhc3NvY2lhdGVkSWNvbkluZGV4XCJ9LHt0eXBlOlwiVWludDhcIixuYW1lOlwiZmxpcFN0YXRlXCJ9XSksSG8oW3t0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvcllcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JaXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ0aWxlQW5jaG9yWFwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwidGlsZUFuY2hvcllcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcImNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcImxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInBsYWNlZEljb25TeW1ib2xJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImtleVwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ0ZXh0Qm94U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ0ZXh0Qm94RW5kSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidmVydGljYWxUZXh0Qm94U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbFRleHRCb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJpY29uQm94U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJpY29uQm94RW5kSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwidmVydGljYWxJY29uQm94U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbEljb25Cb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJmZWF0dXJlSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXNcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtVmVydGljYWxHbHlwaFZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcIm51bUljb25WZXJ0aWNlc1wifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1WZXJ0aWNhbEljb25WZXJ0aWNlc1wifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ1c2VSdW50aW1lQ29sbGlzaW9uQ2lyY2xlc1wifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJjcm9zc1RpbGVJRFwifSx7dHlwZTpcIkZsb2F0MzJcIixjb21wb25lbnRzOjIsbmFtZTpcInRleHRPZmZzZXRcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImNvbGxpc2lvbkNpcmNsZURpYW1ldGVyXCJ9XSksSG8oW3t0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJvZmZzZXRYXCJ9XSksSG8oW3t0eXBlOlwiSW50MTZcIixuYW1lOlwieFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInlcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvclwifV0pO2NvbnN0IGNoPTEyODtmdW5jdGlvbiB1aChlLHQpe2NvbnN0e2V4cHJlc3Npb246cn09dDtpZihcImNvbnN0YW50XCI9PT1yLmtpbmQpcmV0dXJue2tpbmQ6XCJjb25zdGFudFwiLGxheW91dFNpemU6ci5ldmFsdWF0ZShuZXcgSW8oZSsxKSl9O2lmKFwic291cmNlXCI9PT1yLmtpbmQpcmV0dXJue2tpbmQ6XCJzb3VyY2VcIn07e2NvbnN0e3pvb21TdG9wczp0LGludGVycG9sYXRpb25UeXBlOm59PXI7bGV0IGk9MDtmb3IoO2k8dC5sZW5ndGgmJnRbaV08PWU7KWkrKztpPU1hdGgubWF4KDAsaS0xKTtsZXQgbz1pO2Zvcig7bzx0Lmxlbmd0aCYmdFtvXTxlKzE7KW8rKztvPU1hdGgubWluKHQubGVuZ3RoLTEsbyk7Y29uc3QgYT10W2ldLHM9dFtvXTtyZXR1cm5cImNvbXBvc2l0ZVwiPT09ci5raW5kP3traW5kOlwiY29tcG9zaXRlXCIsbWluWm9vbTphLG1heFpvb206cyxpbnRlcnBvbGF0aW9uVHlwZTpufTp7a2luZDpcImNhbWVyYVwiLG1pblpvb206YSxtYXhab29tOnMsbWluU2l6ZTpyLmV2YWx1YXRlKG5ldyBJbyhhKSksbWF4U2l6ZTpyLmV2YWx1YXRlKG5ldyBJbyhzKSksaW50ZXJwb2xhdGlvblR5cGU6bn19fWZ1bmN0aW9uIGhoKGUse3VTaXplOnQsdVNpemVUOnJ9LHtsb3dlclNpemU6bix1cHBlclNpemU6aX0pe3JldHVyblwic291cmNlXCI9PT1lLmtpbmQ/bi9jaDpcImNvbXBvc2l0ZVwiPT09ZS5raW5kP0NyKG4vY2gsaS9jaCxyKTp0fWZ1bmN0aW9uIGRoKGUsdCl7bGV0IHI9MCxuPTA7aWYoXCJjb25zdGFudFwiPT09ZS5raW5kKW49ZS5sYXlvdXRTaXplO2Vsc2UgaWYoXCJzb3VyY2VcIiE9PWUua2luZCl7Y29uc3R7aW50ZXJwb2xhdGlvblR5cGU6aSxtaW5ab29tOm8sbWF4Wm9vbTphfT1lLHM9aT9TKEdyLmludGVycG9sYXRpb25GYWN0b3IoaSx0LG8sYSksMCwxKTowO1wiY2FtZXJhXCI9PT1lLmtpbmQ/bj1DcihlLm1pblNpemUsZS5tYXhTaXplLHMpOnI9c31yZXR1cm57dVNpemVUOnIsdVNpemU6bn19dmFyIHBoPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGdldFNpemVEYXRhOnVoLGV2YWx1YXRlU2l6ZUZvckZlYXR1cmU6aGgsZXZhbHVhdGVTaXplRm9yWm9vbTpkaCxTSVpFX1BBQ0tfRkFDVE9SOmNofSk7ZnVuY3Rpb24gZmgoZSx0LHIpe3JldHVybiBlLnNlY3Rpb25zLmZvckVhY2goZT0+e2UudGV4dD1mdW5jdGlvbihlLHQscil7Y29uc3Qgbj10LmxheW91dC5nZXQoXCJ0ZXh0LXRyYW5zZm9ybVwiKS5ldmFsdWF0ZShyLHt9KTtyZXR1cm5cInVwcGVyY2FzZVwiPT09bj9lPWUudG9Mb2NhbGVVcHBlckNhc2UoKTpcImxvd2VyY2FzZVwiPT09biYmKGU9ZS50b0xvY2FsZUxvd2VyQ2FzZSgpKSxBby5hcHBseUFyYWJpY1NoYXBpbmcmJihlPUFvLmFwcGx5QXJhYmljU2hhcGluZyhlKSksZX0oZS50ZXh0LHQscil9KSxlfWNvbnN0IG1oPXtcIiFcIjpcIu+4lVwiLFwiI1wiOlwi77yDXCIsJDpcIu+8hFwiLFwiJVwiOlwi77yFXCIsXCImXCI6XCLvvIZcIixcIihcIjpcIu+4tVwiLFwiKVwiOlwi77i2XCIsXCIqXCI6XCLvvIpcIixcIitcIjpcIu+8i1wiLFwiLFwiOlwi77iQXCIsXCItXCI6XCLvuLJcIixcIi5cIjpcIuODu1wiLFwiL1wiOlwi77yPXCIsXCI6XCI6XCLvuJNcIixcIjtcIjpcIu+4lFwiLFwiPFwiOlwi77i/XCIsXCI9XCI6XCLvvJ1cIixcIj5cIjpcIu+5gFwiLFwiP1wiOlwi77iWXCIsXCJAXCI6XCLvvKBcIixcIltcIjpcIu+5h1wiLFwiXFxcXFwiOlwi77y8XCIsXCJdXCI6XCLvuYhcIixcIl5cIjpcIu+8vlwiLF86XCLvuLNcIixcImBcIjpcIu+9gFwiLFwie1wiOlwi77i3XCIsXCJ8XCI6XCLigJVcIixcIn1cIjpcIu+4uFwiLFwiflwiOlwi772eXCIsXCLColwiOlwi77+gXCIsXCLCo1wiOlwi77+hXCIsXCLCpVwiOlwi77+lXCIsXCLCplwiOlwi77+kXCIsXCLCrFwiOlwi77+iXCIsXCLCr1wiOlwi77+jXCIsXCLigJNcIjpcIu+4slwiLFwi4oCUXCI6XCLvuLFcIixcIuKAmFwiOlwi77mDXCIsXCLigJlcIjpcIu+5hFwiLFwi4oCcXCI6XCLvuYFcIixcIuKAnVwiOlwi77mCXCIsXCLigKZcIjpcIu+4mVwiLFwi4oCnXCI6XCLjg7tcIixcIuKCqVwiOlwi77+mXCIsXCLjgIFcIjpcIu+4kVwiLFwi44CCXCI6XCLvuJJcIixcIuOAiFwiOlwi77i/XCIsXCLjgIlcIjpcIu+5gFwiLFwi44CKXCI6XCLvuL1cIixcIuOAi1wiOlwi77i+XCIsXCLjgIxcIjpcIu+5gVwiLFwi44CNXCI6XCLvuYJcIixcIuOAjlwiOlwi77mDXCIsXCLjgI9cIjpcIu+5hFwiLFwi44CQXCI6XCLvuLtcIixcIuOAkVwiOlwi77i8XCIsXCLjgJRcIjpcIu+4uVwiLFwi44CVXCI6XCLvuLpcIixcIuOAllwiOlwi77iXXCIsXCLjgJdcIjpcIu+4mFwiLFwi77yBXCI6XCLvuJVcIixcIu+8iFwiOlwi77i1XCIsXCLvvIlcIjpcIu+4tlwiLFwi77yMXCI6XCLvuJBcIixcIu+8jVwiOlwi77iyXCIsXCLvvI5cIjpcIuODu1wiLFwi77yaXCI6XCLvuJNcIixcIu+8m1wiOlwi77iUXCIsXCLvvJxcIjpcIu+4v1wiLFwi77yeXCI6XCLvuYBcIixcIu+8n1wiOlwi77iWXCIsXCLvvLtcIjpcIu+5h1wiLFwi77y9XCI6XCLvuYhcIixcIu+8v1wiOlwi77izXCIsXCLvvZtcIjpcIu+4t1wiLFwi772cXCI6XCLigJVcIixcIu+9nVwiOlwi77i4XCIsXCLvvZ9cIjpcIu+4tVwiLFwi772gXCI6XCLvuLZcIixcIu+9oVwiOlwi77iSXCIsXCLvvaJcIjpcIu+5gVwiLFwi772jXCI6XCLvuYJcIn07ZnVuY3Rpb24gZ2goZSl7cmV0dXJuXCLvuLZcIj09PWV8fFwi77mIXCI9PT1lfHxcIu+4uFwiPT09ZXx8XCLvuYRcIj09PWV8fFwi77mCXCI9PT1lfHxcIu+4vlwiPT09ZXx8XCLvuLxcIj09PWV8fFwi77i6XCI9PT1lfHxcIu+4mFwiPT09ZXx8XCLvuYBcIj09PWV8fFwi77iQXCI9PT1lfHxcIu+4k1wiPT09ZXx8XCLvuJRcIj09PWV8fFwi772AXCI9PT1lfHxcIu+/o1wiPT09ZXx8XCLvuJFcIj09PWV8fFwi77iSXCI9PT1lfWZ1bmN0aW9uIF9oKGUpe3JldHVyblwi77i1XCI9PT1lfHxcIu+5h1wiPT09ZXx8XCLvuLdcIj09PWV8fFwi77mDXCI9PT1lfHxcIu+5gVwiPT09ZXx8XCLvuL1cIj09PWV8fFwi77i7XCI9PT1lfHxcIu+4uVwiPT09ZXx8XCLvuJdcIj09PWV8fFwi77i/XCI9PT1lfXZhciB5aD1iaCx2aD1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBvLGEscz04Kmktbi0xLGw9KDE8PHMpLTEsYz1sPj4xLHU9LTcsaD1yP2ktMTowLGQ9cj8tMToxLHA9ZVt0K2hdO2ZvcihoKz1kLG89cCYoMTw8LXUpLTEscD4+PS11LHUrPXM7dT4wO289MjU2Km8rZVt0K2hdLGgrPWQsdS09OCk7Zm9yKGE9byYoMTw8LXUpLTEsbz4+PS11LHUrPW47dT4wO2E9MjU2KmErZVt0K2hdLGgrPWQsdS09OCk7aWYoMD09PW8pbz0xLWM7ZWxzZXtpZihvPT09bClyZXR1cm4gYT9OYU46MS8wKihwPy0xOjEpO2ErPU1hdGgucG93KDIsbiksby09Y31yZXR1cm4ocD8tMToxKSphKk1hdGgucG93KDIsby1uKX0seGg9ZnVuY3Rpb24oZSx0LHIsbixpLG8pe3ZhciBhLHMsbCxjPTgqby1pLTEsdT0oMTw8YyktMSxoPXU+PjEsZD0yMz09PWk/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLHA9bj8wOm8tMSxmPW4/MTotMSxtPXQ8MHx8MD09PXQmJjEvdDwwPzE6MDtmb3IodD1NYXRoLmFicyh0KSxpc05hTih0KXx8dD09PTEvMD8ocz1pc05hTih0KT8xOjAsYT11KTooYT1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSx0KihsPU1hdGgucG93KDIsLWEpKTwxJiYoYS0tLGwqPTIpLCh0Kz1hK2g+PTE/ZC9sOmQqTWF0aC5wb3coMiwxLWgpKSpsPj0yJiYoYSsrLGwvPTIpLGEraD49dT8ocz0wLGE9dSk6YStoPj0xPyhzPSh0KmwtMSkqTWF0aC5wb3coMixpKSxhKz1oKToocz10Kk1hdGgucG93KDIsaC0xKSpNYXRoLnBvdygyLGkpLGE9MCkpO2k+PTg7ZVtyK3BdPTI1NSZzLHArPWYscy89MjU2LGktPTgpO2ZvcihhPWE8PGl8cyxjKz1pO2M+MDtlW3IrcF09MjU1JmEscCs9ZixhLz0yNTYsYy09OCk7ZVtyK3AtZl18PTEyOCptfTtmdW5jdGlvbiBiaChlKXt0aGlzLmJ1Zj1BcnJheUJ1ZmZlci5pc1ZpZXcmJkFycmF5QnVmZmVyLmlzVmlldyhlKT9lOm5ldyBVaW50OEFycmF5KGV8fDApLHRoaXMucG9zPTAsdGhpcy50eXBlPTAsdGhpcy5sZW5ndGg9dGhpcy5idWYubGVuZ3RofWJoLlZhcmludD0wLGJoLkZpeGVkNjQ9MSxiaC5CeXRlcz0yLGJoLkZpeGVkMzI9NTt2YXIgd2g9NDI5NDk2NzI5NixUaD0xL3doLEVoPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBUZXh0RGVjb2Rlcj9udWxsOm5ldyBUZXh0RGVjb2RlcihcInV0ZjhcIik7ZnVuY3Rpb24gU2goZSl7cmV0dXJuIGUudHlwZT09PWJoLkJ5dGVzP2UucmVhZFZhcmludCgpK2UucG9zOmUucG9zKzF9ZnVuY3Rpb24gQ2goZSx0LHIpe3JldHVybiByPzQyOTQ5NjcyOTYqdCsoZT4+PjApOjQyOTQ5NjcyOTYqKHQ+Pj4wKSsoZT4+PjApfWZ1bmN0aW9uIE1oKGUsdCxyKXt2YXIgbj10PD0xNjM4Mz8xOnQ8PTIwOTcxNTE/Mjp0PD0yNjg0MzU0NTU/MzpNYXRoLmZsb29yKE1hdGgubG9nKHQpLyg3Kk1hdGguTE4yKSk7ci5yZWFsbG9jKG4pO2Zvcih2YXIgaT1yLnBvcy0xO2k+PWU7aS0tKXIuYnVmW2krbl09ci5idWZbaV19ZnVuY3Rpb24ga2goZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl0LndyaXRlVmFyaW50KGVbcl0pfWZ1bmN0aW9uIEFoKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdC53cml0ZVNWYXJpbnQoZVtyXSl9ZnVuY3Rpb24gSWgoZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl0LndyaXRlRmxvYXQoZVtyXSl9ZnVuY3Rpb24gUGgoZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl0LndyaXRlRG91YmxlKGVbcl0pfWZ1bmN0aW9uIHpoKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdC53cml0ZUJvb2xlYW4oZVtyXSl9ZnVuY3Rpb24gRGgoZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl0LndyaXRlRml4ZWQzMihlW3JdKX1mdW5jdGlvbiBSaChlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXQud3JpdGVTRml4ZWQzMihlW3JdKX1mdW5jdGlvbiBMaChlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXQud3JpdGVGaXhlZDY0KGVbcl0pfWZ1bmN0aW9uIE9oKGUsdCl7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdC53cml0ZVNGaXhlZDY0KGVbcl0pfWZ1bmN0aW9uIEJoKGUsdCl7cmV0dXJuKGVbdF18ZVt0KzFdPDw4fGVbdCsyXTw8MTYpKzE2Nzc3MjE2KmVbdCszXX1mdW5jdGlvbiBGaChlLHQscil7ZVtyXT10LGVbcisxXT10Pj4+OCxlW3IrMl09dD4+PjE2LGVbciszXT10Pj4+MjR9ZnVuY3Rpb24gamgoZSx0KXtyZXR1cm4oZVt0XXxlW3QrMV08PDh8ZVt0KzJdPDwxNikrKGVbdCszXTw8MjQpfWZ1bmN0aW9uIFVoKGUsdCxyKXt0LmdseXBocz1bXSwxPT09ZSYmci5yZWFkTWVzc2FnZShOaCx0KX1mdW5jdGlvbiBOaChlLHQscil7aWYoMz09PWUpe2NvbnN0e2lkOmUsYml0bWFwOm4sd2lkdGg6aSxoZWlnaHQ6byxsZWZ0OmEsdG9wOnMsYWR2YW5jZTpsfT1yLnJlYWRNZXNzYWdlKFZoLHt9KTt0LmdseXBocy5wdXNoKHtpZDplLGJpdG1hcDpuZXcgaGMoe3dpZHRoOmkrNixoZWlnaHQ6bys2fSxuKSxtZXRyaWNzOnt3aWR0aDppLGhlaWdodDpvLGxlZnQ6YSx0b3A6cyxhZHZhbmNlOmx9fSl9ZWxzZSA0PT09ZT90LmFzY2VuZGVyPXIucmVhZFNWYXJpbnQoKTo1PT09ZSYmKHQuZGVzY2VuZGVyPXIucmVhZFNWYXJpbnQoKSl9ZnVuY3Rpb24gVmgoZSx0LHIpezE9PT1lP3QuaWQ9ci5yZWFkVmFyaW50KCk6Mj09PWU/dC5iaXRtYXA9ci5yZWFkQnl0ZXMoKTozPT09ZT90LndpZHRoPXIucmVhZFZhcmludCgpOjQ9PT1lP3QuaGVpZ2h0PXIucmVhZFZhcmludCgpOjU9PT1lP3QubGVmdD1yLnJlYWRTVmFyaW50KCk6Nj09PWU/dC50b3A9ci5yZWFkU1ZhcmludCgpOjc9PT1lJiYodC5hZHZhbmNlPXIucmVhZFZhcmludCgpKX1mdW5jdGlvbiBHaChlKXtsZXQgdD0wLHI9MDtmb3IoY29uc3QgbiBvZiBlKXQrPW4udypuLmgscj1NYXRoLm1heChyLG4udyk7ZS5zb3J0KChlLHQpPT50LmgtZS5oKTtjb25zdCBuPVt7eDowLHk6MCx3Ok1hdGgubWF4KE1hdGguY2VpbChNYXRoLnNxcnQodC8uOTUpKSxyKSxoOjEvMH1dO2xldCBpPTAsbz0wO2Zvcihjb25zdCB0IG9mIGUpZm9yKGxldCBlPW4ubGVuZ3RoLTE7ZT49MDtlLS0pe2NvbnN0IHI9bltlXTtpZighKHQudz5yLnd8fHQuaD5yLmgpKXtpZih0Lng9ci54LHQueT1yLnksbz1NYXRoLm1heChvLHQueSt0LmgpLGk9TWF0aC5tYXgoaSx0LngrdC53KSx0Lnc9PT1yLncmJnQuaD09PXIuaCl7Y29uc3QgdD1uLnBvcCgpO2U8bi5sZW5ndGgmJihuW2VdPXQpfWVsc2UgdC5oPT09ci5oPyhyLngrPXQudyxyLnctPXQudyk6dC53PT09ci53PyhyLnkrPXQuaCxyLmgtPXQuaCk6KG4ucHVzaCh7eDpyLngrdC53LHk6ci55LHc6ci53LXQudyxoOnQuaH0pLHIueSs9dC5oLHIuaC09dC5oKTticmVha319cmV0dXJue3c6aSxoOm8sZmlsbDp0LyhpKm8pfHwwfX1iaC5wcm90b3R5cGU9e2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmJ1Zj1udWxsfSxyZWFkRmllbGRzOmZ1bmN0aW9uKGUsdCxyKXtmb3Iocj1yfHx0aGlzLmxlbmd0aDt0aGlzLnBvczxyOyl7dmFyIG49dGhpcy5yZWFkVmFyaW50KCksaT1uPj4zLG89dGhpcy5wb3M7dGhpcy50eXBlPTcmbixlKGksdCx0aGlzKSx0aGlzLnBvcz09PW8mJnRoaXMuc2tpcChuKX1yZXR1cm4gdH0scmVhZE1lc3NhZ2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yZWFkRmllbGRzKGUsdCx0aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyl9LHJlYWRGaXhlZDMyOmZ1bmN0aW9uKCl7dmFyIGU9QmgodGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCxlfSxyZWFkU0ZpeGVkMzI6ZnVuY3Rpb24oKXt2YXIgZT1qaCh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LGV9LHJlYWRGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIGU9QmgodGhpcy5idWYsdGhpcy5wb3MpK0JoKHRoaXMuYnVmLHRoaXMucG9zKzQpKndoO3JldHVybiB0aGlzLnBvcys9OCxlfSxyZWFkU0ZpeGVkNjQ6ZnVuY3Rpb24oKXt2YXIgZT1CaCh0aGlzLmJ1Zix0aGlzLnBvcykramgodGhpcy5idWYsdGhpcy5wb3MrNCkqd2g7cmV0dXJuIHRoaXMucG9zKz04LGV9LHJlYWRGbG9hdDpmdW5jdGlvbigpe3ZhciBlPXZoKHRoaXMuYnVmLHRoaXMucG9zLCEwLDIzLDQpO3JldHVybiB0aGlzLnBvcys9NCxlfSxyZWFkRG91YmxlOmZ1bmN0aW9uKCl7dmFyIGU9dmgodGhpcy5idWYsdGhpcy5wb3MsITAsNTIsOCk7cmV0dXJuIHRoaXMucG9zKz04LGV9LHJlYWRWYXJpbnQ6ZnVuY3Rpb24oZSl7dmFyIHQscixuPXRoaXMuYnVmO3JldHVybiB0PTEyNyYocj1uW3RoaXMucG9zKytdKSxyPDEyOD90Oih0fD0oMTI3JihyPW5bdGhpcy5wb3MrK10pKTw8NyxyPDEyOD90Oih0fD0oMTI3JihyPW5bdGhpcy5wb3MrK10pKTw8MTQscjwxMjg/dDoodHw9KDEyNyYocj1uW3RoaXMucG9zKytdKSk8PDIxLHI8MTI4P3Q6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGksbz1yLmJ1ZjtpZihuPSgxMTImKGk9b1tyLnBvcysrXSkpPj40LGk8MTI4KXJldHVybiBDaChlLG4sdCk7aWYobnw9KDEyNyYoaT1vW3IucG9zKytdKSk8PDMsaTwxMjgpcmV0dXJuIENoKGUsbix0KTtpZihufD0oMTI3JihpPW9bci5wb3MrK10pKTw8MTAsaTwxMjgpcmV0dXJuIENoKGUsbix0KTtpZihufD0oMTI3JihpPW9bci5wb3MrK10pKTw8MTcsaTwxMjgpcmV0dXJuIENoKGUsbix0KTtpZihufD0oMTI3JihpPW9bci5wb3MrK10pKTw8MjQsaTwxMjgpcmV0dXJuIENoKGUsbix0KTtpZihufD0oMSYoaT1vW3IucG9zKytdKSk8PDMxLGk8MTI4KXJldHVybiBDaChlLG4sdCk7dGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgdmFyaW50IG5vdCBtb3JlIHRoYW4gMTAgYnl0ZXNcIil9KHR8PSgxNSYocj1uW3RoaXMucG9zXSkpPDwyOCxlLHRoaXMpKSkpfSxyZWFkVmFyaW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFkVmFyaW50KCEwKX0scmVhZFNWYXJpbnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlYWRWYXJpbnQoKTtyZXR1cm4gZSUyPT0xPyhlKzEpLy0yOmUvMn0scmVhZEJvb2xlYW46ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0aGlzLnJlYWRWYXJpbnQoKSl9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyx0PXRoaXMucG9zO3JldHVybiB0aGlzLnBvcz1lLGUtdD49MTImJkVoP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gRWguZGVjb2RlKGUuc3ViYXJyYXkodCxyKSl9KHRoaXMuYnVmLHQsZSk6ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbj1cIlwiLGk9dDtpPHI7KXt2YXIgbyxhLHMsbD1lW2ldLGM9bnVsbCx1PWw+MjM5PzQ6bD4yMjM/MzpsPjE5MT8yOjE7aWYoaSt1PnIpYnJlYWs7MT09PXU/bDwxMjgmJihjPWwpOjI9PT11PzEyOD09KDE5MiYobz1lW2krMV0pKSYmKGM9KDMxJmwpPDw2fDYzJm8pPD0xMjcmJihjPW51bGwpOjM9PT11PyhhPWVbaSsyXSwxMjg9PSgxOTImKG89ZVtpKzFdKSkmJjEyOD09KDE5MiZhKSYmKChjPSgxNSZsKTw8MTJ8KDYzJm8pPDw2fDYzJmEpPD0yMDQ3fHxjPj01NTI5NiYmYzw9NTczNDMpJiYoYz1udWxsKSk6ND09PXUmJihhPWVbaSsyXSxzPWVbaSszXSwxMjg9PSgxOTImKG89ZVtpKzFdKSkmJjEyOD09KDE5MiZhKSYmMTI4PT0oMTkyJnMpJiYoKGM9KDE1JmwpPDwxOHwoNjMmbyk8PDEyfCg2MyZhKTw8Nnw2MyZzKTw9NjU1MzV8fGM+PTExMTQxMTIpJiYoYz1udWxsKSksbnVsbD09PWM/KGM9NjU1MzMsdT0xKTpjPjY1NTM1JiYoYy09NjU1MzYsbis9U3RyaW5nLmZyb21DaGFyQ29kZShjPj4+MTAmMTAyM3w1NTI5NiksYz01NjMyMHwxMDIzJmMpLG4rPVN0cmluZy5mcm9tQ2hhckNvZGUoYyksaSs9dX1yZXR1cm4gbn0odGhpcy5idWYsdCxlKX0scmVhZEJ5dGVzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsdD10aGlzLmJ1Zi5zdWJhcnJheSh0aGlzLnBvcyxlKTtyZXR1cm4gdGhpcy5wb3M9ZSx0fSxyZWFkUGFja2VkVmFyaW50OmZ1bmN0aW9uKGUsdCl7aWYodGhpcy50eXBlIT09YmguQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRWYXJpbnQodCkpO3ZhciByPVNoKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHI7KWUucHVzaCh0aGlzLnJlYWRWYXJpbnQodCkpO3JldHVybiBlfSxyZWFkUGFja2VkU1ZhcmludDpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1iaC5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7dmFyIHQ9U2godGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRCb29sZWFuOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWJoLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTt2YXIgdD1TaCh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTtyZXR1cm4gZX0scmVhZFBhY2tlZEZsb2F0OmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWJoLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRmxvYXQoKSk7dmFyIHQ9U2godGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO3JldHVybiBlfSxyZWFkUGFja2VkRG91YmxlOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWJoLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRG91YmxlKCkpO3ZhciB0PVNoKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRGaXhlZDMyOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWJoLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTt2YXIgdD1TaCh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTtyZXR1cm4gZX0scmVhZFBhY2tlZFNGaXhlZDMyOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PWJoLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7dmFyIHQ9U2godGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO3JldHVybiBlfSxyZWFkUGFja2VkRml4ZWQ2NDpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1iaC5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7dmFyIHQ9U2godGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1iaC5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZFNGaXhlZDY0KCkpO3ZhciB0PVNoKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtyZXR1cm4gZX0sc2tpcDpmdW5jdGlvbihlKXt2YXIgdD03JmU7aWYodD09PWJoLlZhcmludClmb3IoO3RoaXMuYnVmW3RoaXMucG9zKytdPjEyNzspO2Vsc2UgaWYodD09PWJoLkJ5dGVzKXRoaXMucG9zPXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zO2Vsc2UgaWYodD09PWJoLkZpeGVkMzIpdGhpcy5wb3MrPTQ7ZWxzZXtpZih0IT09YmguRml4ZWQ2NCl0aHJvdyBuZXcgRXJyb3IoXCJVbmltcGxlbWVudGVkIHR5cGU6IFwiK3QpO3RoaXMucG9zKz04fX0sd3JpdGVUYWc6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVmFyaW50KGU8PDN8dCl9LHJlYWxsb2M6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMubGVuZ3RofHwxNjt0PHRoaXMucG9zK2U7KXQqPTI7aWYodCE9PXRoaXMubGVuZ3RoKXt2YXIgcj1uZXcgVWludDhBcnJheSh0KTtyLnNldCh0aGlzLmJ1ZiksdGhpcy5idWY9cix0aGlzLmxlbmd0aD10fX0sZmluaXNoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoPXRoaXMucG9zLHRoaXMucG9zPTAsdGhpcy5idWYuc3ViYXJyYXkoMCx0aGlzLmxlbmd0aCl9LHdyaXRlRml4ZWQzMjpmdW5jdGlvbihlKXt0aGlzLnJlYWxsb2MoNCksRmgodGhpcy5idWYsZSx0aGlzLnBvcyksdGhpcy5wb3MrPTR9LHdyaXRlU0ZpeGVkMzI6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDQpLEZoKHRoaXMuYnVmLGUsdGhpcy5wb3MpLHRoaXMucG9zKz00fSx3cml0ZUZpeGVkNjQ6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDgpLEZoKHRoaXMuYnVmLC0xJmUsdGhpcy5wb3MpLEZoKHRoaXMuYnVmLE1hdGguZmxvb3IoZSpUaCksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTh9LHdyaXRlU0ZpeGVkNjQ6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDgpLEZoKHRoaXMuYnVmLC0xJmUsdGhpcy5wb3MpLEZoKHRoaXMuYnVmLE1hdGguZmxvb3IoZSpUaCksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTh9LHdyaXRlVmFyaW50OmZ1bmN0aW9uKGUpeyhlPStlfHwwKT4yNjg0MzU0NTV8fGU8MD9mdW5jdGlvbihlLHQpe3ZhciByLG47aWYoZT49MD8ocj1lJTQyOTQ5NjcyOTZ8MCxuPWUvNDI5NDk2NzI5NnwwKToobj1+KC1lLzQyOTQ5NjcyOTYpLDQyOTQ5NjcyOTVeKHI9figtZSU0Mjk0OTY3Mjk2KSk/cj1yKzF8MDoocj0wLG49bisxfDApKSxlPj0weDEwMDAwMDAwMDAwMDAwMDAwfHxlPC0weDEwMDAwMDAwMDAwMDAwMDAwKXRocm93IG5ldyBFcnJvcihcIkdpdmVuIHZhcmludCBkb2Vzbid0IGZpdCBpbnRvIDEwIGJ5dGVzXCIpO3QucmVhbGxvYygxMCksZnVuY3Rpb24oZSx0LHIpe3IuYnVmW3IucG9zKytdPTEyNyZlfDEyOCxlPj4+PTcsci5idWZbci5wb3MrK109MTI3JmV8MTI4LGU+Pj49NyxyLmJ1ZltyLnBvcysrXT0xMjcmZXwxMjgsZT4+Pj03LHIuYnVmW3IucG9zKytdPTEyNyZlfDEyOCxyLmJ1ZltyLnBvc109MTI3JihlPj4+PTcpfShyLDAsdCksZnVuY3Rpb24oZSx0KXt2YXIgcj0oNyZlKTw8NDt0LmJ1Zlt0LnBvcysrXXw9cnwoKGU+Pj49Myk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZSkpKSkpfShuLHQpfShlLHRoaXMpOih0aGlzLnJlYWxsb2MoNCksdGhpcy5idWZbdGhpcy5wb3MrK109MTI3JmV8KGU+MTI3PzEyODowKSxlPD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKGU+Pj49Nyl8KGU+MTI3PzEyODowKSxlPD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKGU+Pj49Nyl8KGU+MTI3PzEyODowKSxlPD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT1lPj4+NyYxMjcpKSkpfSx3cml0ZVNWYXJpbnQ6ZnVuY3Rpb24oZSl7dGhpcy53cml0ZVZhcmludChlPDA/MiotZS0xOjIqZSl9LHdyaXRlQm9vbGVhbjpmdW5jdGlvbihlKXt0aGlzLndyaXRlVmFyaW50KEJvb2xlYW4oZSkpfSx3cml0ZVN0cmluZzpmdW5jdGlvbihlKXtlPVN0cmluZyhlKSx0aGlzLnJlYWxsb2MoNCplLmxlbmd0aCksdGhpcy5wb3MrKzt2YXIgdD10aGlzLnBvczt0aGlzLnBvcz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuLGksbz0wO288dC5sZW5ndGg7bysrKXtpZigobj10LmNoYXJDb2RlQXQobykpPjU1Mjk1JiZuPDU3MzQ0KXtpZighaSl7bj41NjMxOXx8bysxPT09dC5sZW5ndGg/KGVbcisrXT0yMzksZVtyKytdPTE5MSxlW3IrK109MTg5KTppPW47Y29udGludWV9aWYobjw1NjMyMCl7ZVtyKytdPTIzOSxlW3IrK109MTkxLGVbcisrXT0xODksaT1uO2NvbnRpbnVlfW49aS01NTI5Njw8MTB8bi01NjMyMHw2NTUzNixpPW51bGx9ZWxzZSBpJiYoZVtyKytdPTIzOSxlW3IrK109MTkxLGVbcisrXT0xODksaT1udWxsKTtuPDEyOD9lW3IrK109bjoobjwyMDQ4P2VbcisrXT1uPj42fDE5Mjoobjw2NTUzNj9lW3IrK109bj4+MTJ8MjI0OihlW3IrK109bj4+MTh8MjQwLGVbcisrXT1uPj4xMiY2M3wxMjgpLGVbcisrXT1uPj42JjYzfDEyOCksZVtyKytdPTYzJm58MTI4KX1yZXR1cm4gcn0odGhpcy5idWYsZSx0aGlzLnBvcyk7dmFyIHI9dGhpcy5wb3MtdDtyPj0xMjgmJk1oKHQscix0aGlzKSx0aGlzLnBvcz10LTEsdGhpcy53cml0ZVZhcmludChyKSx0aGlzLnBvcys9cn0sd3JpdGVGbG9hdDpmdW5jdGlvbihlKXt0aGlzLnJlYWxsb2MoNCkseGgodGhpcy5idWYsZSx0aGlzLnBvcywhMCwyMyw0KSx0aGlzLnBvcys9NH0sd3JpdGVEb3VibGU6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDgpLHhoKHRoaXMuYnVmLGUsdGhpcy5wb3MsITAsNTIsOCksdGhpcy5wb3MrPTh9LHdyaXRlQnl0ZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7dGhpcy53cml0ZVZhcmludCh0KSx0aGlzLnJlYWxsb2ModCk7Zm9yKHZhciByPTA7cjx0O3IrKyl0aGlzLmJ1Zlt0aGlzLnBvcysrXT1lW3JdfSx3cml0ZVJhd01lc3NhZ2U6ZnVuY3Rpb24oZSx0KXt0aGlzLnBvcysrO3ZhciByPXRoaXMucG9zO2UodCx0aGlzKTt2YXIgbj10aGlzLnBvcy1yO24+PTEyOCYmTWgocixuLHRoaXMpLHRoaXMucG9zPXItMSx0aGlzLndyaXRlVmFyaW50KG4pLHRoaXMucG9zKz1ufSx3cml0ZU1lc3NhZ2U6ZnVuY3Rpb24oZSx0LHIpe3RoaXMud3JpdGVUYWcoZSxiaC5CeXRlcyksdGhpcy53cml0ZVJhd01lc3NhZ2UodCxyKX0sd3JpdGVQYWNrZWRWYXJpbnQ6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSxraCx0KX0sd3JpdGVQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsQWgsdCl9LHdyaXRlUGFja2VkQm9vbGVhbjpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLHpoLHQpfSx3cml0ZVBhY2tlZEZsb2F0OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsSWgsdCl9LHdyaXRlUGFja2VkRG91YmxlOmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsUGgsdCl9LHdyaXRlUGFja2VkRml4ZWQzMjpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLERoLHQpfSx3cml0ZVBhY2tlZFNGaXhlZDMyOmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsUmgsdCl9LHdyaXRlUGFja2VkRml4ZWQ2NDpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLExoLHQpfSx3cml0ZVBhY2tlZFNGaXhlZDY0OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsT2gsdCl9LHdyaXRlQnl0ZXNGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxiaC5CeXRlcyksdGhpcy53cml0ZUJ5dGVzKHQpfSx3cml0ZUZpeGVkMzJGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxiaC5GaXhlZDMyKSx0aGlzLndyaXRlRml4ZWQzMih0KX0sd3JpdGVTRml4ZWQzMkZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGJoLkZpeGVkMzIpLHRoaXMud3JpdGVTRml4ZWQzMih0KX0sd3JpdGVGaXhlZDY0RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsYmguRml4ZWQ2NCksdGhpcy53cml0ZUZpeGVkNjQodCl9LHdyaXRlU0ZpeGVkNjRGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxiaC5GaXhlZDY0KSx0aGlzLndyaXRlU0ZpeGVkNjQodCl9LHdyaXRlVmFyaW50RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsYmguVmFyaW50KSx0aGlzLndyaXRlVmFyaW50KHQpfSx3cml0ZVNWYXJpbnRGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxiaC5WYXJpbnQpLHRoaXMud3JpdGVTVmFyaW50KHQpfSx3cml0ZVN0cmluZ0ZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGJoLkJ5dGVzKSx0aGlzLndyaXRlU3RyaW5nKHQpfSx3cml0ZUZsb2F0RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsYmguRml4ZWQzMiksdGhpcy53cml0ZUZsb2F0KHQpfSx3cml0ZURvdWJsZUZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLGJoLkZpeGVkNjQpLHRoaXMud3JpdGVEb3VibGUodCl9LHdyaXRlQm9vbGVhbkZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVZhcmludEZpZWxkKGUsQm9vbGVhbih0KSl9fTtjbGFzcyBxaHtjb25zdHJ1Y3RvcihlLHtwaXhlbFJhdGlvOnQsdmVyc2lvbjpyLHN0cmV0Y2hYOm4sc3RyZXRjaFk6aSxjb250ZW50Om99KXt0aGlzLnBhZGRlZFJlY3Q9ZSx0aGlzLnBpeGVsUmF0aW89dCx0aGlzLnN0cmV0Y2hYPW4sdGhpcy5zdHJldGNoWT1pLHRoaXMuY29udGVudD1vLHRoaXMudmVyc2lvbj1yfWdldCB0bCgpe3JldHVyblt0aGlzLnBhZGRlZFJlY3QueCsxLHRoaXMucGFkZGVkUmVjdC55KzFdfWdldCBicigpe3JldHVyblt0aGlzLnBhZGRlZFJlY3QueCt0aGlzLnBhZGRlZFJlY3Qudy0xLHRoaXMucGFkZGVkUmVjdC55K3RoaXMucGFkZGVkUmVjdC5oLTFdfWdldCBkaXNwbGF5U2l6ZSgpe3JldHVyblsodGhpcy5wYWRkZWRSZWN0LnctMikvdGhpcy5waXhlbFJhdGlvLCh0aGlzLnBhZGRlZFJlY3QuaC0yKS90aGlzLnBpeGVsUmF0aW9dfX1jbGFzcyBaaHtjb25zdHJ1Y3RvcihlLHQpe2NvbnN0IHI9e30sbj17fTt0aGlzLmhhdmVSZW5kZXJDYWxsYmFja3M9W107Y29uc3QgaT1bXTt0aGlzLmFkZEltYWdlcyhlLHIsaSksdGhpcy5hZGRJbWFnZXModCxuLGkpO2NvbnN0e3c6byxoOmF9PUdoKGkpLHM9bmV3IGRjKHt3aWR0aDpvfHwxLGhlaWdodDphfHwxfSk7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgbj1lW3RdLGk9clt0XS5wYWRkZWRSZWN0O2RjLmNvcHkobi5kYXRhLHMse3g6MCx5OjB9LHt4OmkueCsxLHk6aS55KzF9LG4uZGF0YSl9Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3Qgcj10W2VdLGk9bltlXS5wYWRkZWRSZWN0LG89aS54KzEsYT1pLnkrMSxsPXIuZGF0YS53aWR0aCxjPXIuZGF0YS5oZWlnaHQ7ZGMuY29weShyLmRhdGEscyx7eDowLHk6MH0se3g6byx5OmF9LHIuZGF0YSksZGMuY29weShyLmRhdGEscyx7eDowLHk6Yy0xfSx7eDpvLHk6YS0xfSx7d2lkdGg6bCxoZWlnaHQ6MX0pLGRjLmNvcHkoci5kYXRhLHMse3g6MCx5OjB9LHt4Om8seTphK2N9LHt3aWR0aDpsLGhlaWdodDoxfSksZGMuY29weShyLmRhdGEscyx7eDpsLTEseTowfSx7eDpvLTEseTphfSx7d2lkdGg6MSxoZWlnaHQ6Y30pLGRjLmNvcHkoci5kYXRhLHMse3g6MCx5OjB9LHt4Om8rbCx5OmF9LHt3aWR0aDoxLGhlaWdodDpjfSl9dGhpcy5pbWFnZT1zLHRoaXMuaWNvblBvc2l0aW9ucz1yLHRoaXMucGF0dGVyblBvc2l0aW9ucz1ufWFkZEltYWdlcyhlLHQscil7Zm9yKGNvbnN0IG4gaW4gZSl7Y29uc3QgaT1lW25dLG89e3g6MCx5OjAsdzppLmRhdGEud2lkdGgrMixoOmkuZGF0YS5oZWlnaHQrMn07ci5wdXNoKG8pLHRbbl09bmV3IHFoKG8saSksaS5oYXNSZW5kZXJDYWxsYmFjayYmdGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzLnB1c2gobil9fXBhdGNoVXBkYXRlZEltYWdlcyhlLHQpe3RoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcz10aGlzLmhhdmVSZW5kZXJDYWxsYmFja3MuZmlsdGVyKHQ9PmUuaGFzSW1hZ2UodCkpLGUuZGlzcGF0Y2hSZW5kZXJDYWxsYmFja3ModGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzKTtmb3IoY29uc3QgciBpbiBlLnVwZGF0ZWRJbWFnZXMpdGhpcy5wYXRjaFVwZGF0ZWRJbWFnZSh0aGlzLmljb25Qb3NpdGlvbnNbcl0sZS5nZXRJbWFnZShyKSx0KSx0aGlzLnBhdGNoVXBkYXRlZEltYWdlKHRoaXMucGF0dGVyblBvc2l0aW9uc1tyXSxlLmdldEltYWdlKHIpLHQpfXBhdGNoVXBkYXRlZEltYWdlKGUsdCxyKXtpZighZXx8IXQpcmV0dXJuO2lmKGUudmVyc2lvbj09PXQudmVyc2lvbilyZXR1cm47ZS52ZXJzaW9uPXQudmVyc2lvbjtjb25zdFtuLGldPWUudGw7ci51cGRhdGUodC5kYXRhLHZvaWQgMCx7eDpuLHk6aX0pfX1JaShxaCxcIkltYWdlUG9zaXRpb25cIiksSWkoWmgsXCJJbWFnZUF0bGFzXCIpO2NvbnN0ICRoPXtob3Jpem9udGFsOjEsdmVydGljYWw6Mixob3Jpem9udGFsT25seTozfTtjbGFzcyBXaHtjb25zdHJ1Y3Rvcigpe3RoaXMuc2NhbGU9MSx0aGlzLmZvbnRTdGFjaz1cIlwiLHRoaXMuaW1hZ2VOYW1lPW51bGx9c3RhdGljIGZvclRleHQoZSx0KXtjb25zdCByPW5ldyBXaDtyZXR1cm4gci5zY2FsZT1lfHwxLHIuZm9udFN0YWNrPXQscn1zdGF0aWMgZm9ySW1hZ2UoZSl7Y29uc3QgdD1uZXcgV2g7cmV0dXJuIHQuaW1hZ2VOYW1lPWUsdH19Y2xhc3MgWGh7Y29uc3RydWN0b3IoKXt0aGlzLnRleHQ9XCJcIix0aGlzLnNlY3Rpb25JbmRleD1bXSx0aGlzLnNlY3Rpb25zPVtdLHRoaXMuaW1hZ2VTZWN0aW9uSUQ9bnVsbH1zdGF0aWMgZnJvbUZlYXR1cmUoZSx0KXtjb25zdCByPW5ldyBYaDtmb3IobGV0IG49MDtuPGUuc2VjdGlvbnMubGVuZ3RoO24rKyl7Y29uc3QgaT1lLnNlY3Rpb25zW25dO2kuaW1hZ2U/ci5hZGRJbWFnZVNlY3Rpb24oaSk6ci5hZGRUZXh0U2VjdGlvbihpLHQpfXJldHVybiByfWxlbmd0aCgpe3JldHVybiB0aGlzLnRleHQubGVuZ3RofWdldFNlY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2VjdGlvbnNbdGhpcy5zZWN0aW9uSW5kZXhbZV1dfWdldFNlY3Rpb25zKCl7cmV0dXJuIHRoaXMuc2VjdGlvbnN9Z2V0U2VjdGlvbkluZGV4KGUpe3JldHVybiB0aGlzLnNlY3Rpb25JbmRleFtlXX1nZXRDaGFyQ29kZShlKXtyZXR1cm4gdGhpcy50ZXh0LmNoYXJDb2RlQXQoZSl9dmVydGljYWxpemVQdW5jdHVhdGlvbihlKXt0aGlzLnRleHQ9ZnVuY3Rpb24oZSx0KXtsZXQgcj1cIlwiO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBpPWUuY2hhckNvZGVBdChuKzEpfHxudWxsLG89ZS5jaGFyQ29kZUF0KG4tMSl8fG51bGw7cis9IXQmJihpJiZmbyhpKSYmIW1oW2VbbisxXV18fG8mJmZvKG8pJiYhbWhbZVtuLTFdXSl8fCFtaFtlW25dXT9lW25dOm1oW2Vbbl1dfXJldHVybiByfSh0aGlzLnRleHQsZSl9dHJpbSgpe2xldCBlPTA7Zm9yKGxldCB0PTA7dDx0aGlzLnRleHQubGVuZ3RoJiZZaFt0aGlzLnRleHQuY2hhckNvZGVBdCh0KV07dCsrKWUrKztsZXQgdD10aGlzLnRleHQubGVuZ3RoO2ZvcihsZXQgcj10aGlzLnRleHQubGVuZ3RoLTE7cj49MCYmcj49ZSYmWWhbdGhpcy50ZXh0LmNoYXJDb2RlQXQocildO3ItLSl0LS07dGhpcy50ZXh0PXRoaXMudGV4dC5zdWJzdHJpbmcoZSx0KSx0aGlzLnNlY3Rpb25JbmRleD10aGlzLnNlY3Rpb25JbmRleC5zbGljZShlLHQpfXN1YnN0cmluZyhlLHQpe2NvbnN0IHI9bmV3IFhoO3JldHVybiByLnRleHQ9dGhpcy50ZXh0LnN1YnN0cmluZyhlLHQpLHIuc2VjdGlvbkluZGV4PXRoaXMuc2VjdGlvbkluZGV4LnNsaWNlKGUsdCksci5zZWN0aW9ucz10aGlzLnNlY3Rpb25zLHJ9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy50ZXh0fWdldE1heFNjYWxlKCl7cmV0dXJuIHRoaXMuc2VjdGlvbkluZGV4LnJlZHVjZSgoZSx0KT0+TWF0aC5tYXgoZSx0aGlzLnNlY3Rpb25zW3RdLnNjYWxlKSwwKX1hZGRUZXh0U2VjdGlvbihlLHQpe3RoaXMudGV4dCs9ZS50ZXh0LHRoaXMuc2VjdGlvbnMucHVzaChXaC5mb3JUZXh0KGUuc2NhbGUsZS5mb250U3RhY2t8fHQpKTtjb25zdCByPXRoaXMuc2VjdGlvbnMubGVuZ3RoLTE7Zm9yKGxldCB0PTA7dDxlLnRleHQubGVuZ3RoOysrdCl0aGlzLnNlY3Rpb25JbmRleC5wdXNoKHIpfWFkZEltYWdlU2VjdGlvbihlKXtjb25zdCB0PWUuaW1hZ2U/ZS5pbWFnZS5uYW1lOlwiXCI7aWYoMD09PXQubGVuZ3RoKXJldHVybiB2b2lkIFYoXCJDYW4ndCBhZGQgRm9ybWF0dGVkU2VjdGlvbiB3aXRoIGFuIGVtcHR5IGltYWdlLlwiKTtjb25zdCByPXRoaXMuZ2V0TmV4dEltYWdlU2VjdGlvbkNoYXJDb2RlKCk7cj8odGhpcy50ZXh0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKHIpLHRoaXMuc2VjdGlvbnMucHVzaChXaC5mb3JJbWFnZSh0KSksdGhpcy5zZWN0aW9uSW5kZXgucHVzaCh0aGlzLnNlY3Rpb25zLmxlbmd0aC0xKSk6VihcIlJlYWNoZWQgbWF4aW11bSBudW1iZXIgb2YgaW1hZ2VzIDY0MDFcIil9Z2V0TmV4dEltYWdlU2VjdGlvbkNoYXJDb2RlKCl7cmV0dXJuIHRoaXMuaW1hZ2VTZWN0aW9uSUQ/dGhpcy5pbWFnZVNlY3Rpb25JRD49NjM3NDM/bnVsbDorK3RoaXMuaW1hZ2VTZWN0aW9uSUQ6KHRoaXMuaW1hZ2VTZWN0aW9uSUQ9NTczNDQsdGhpcy5pbWFnZVNlY3Rpb25JRCl9fWZ1bmN0aW9uIEhoKGUsdCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCxmKXtjb25zdCBtPVhoLmZyb21GZWF0dXJlKGUsaSk7aD09PSRoLnZlcnRpY2FsJiZtLnZlcnRpY2FsaXplUHVuY3R1YXRpb24oZCk7bGV0IGc9W107Y29uc3QgXz1mdW5jdGlvbihlLHQscixuLGksbyl7aWYoIWUpcmV0dXJuW107Y29uc3QgYT1bXSxzPWZ1bmN0aW9uKGUsdCxyLG4saSxvKXtsZXQgYT0wO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGgoKTtyKyspe2NvbnN0IHM9ZS5nZXRTZWN0aW9uKHIpO2ErPUpoKGUuZ2V0Q2hhckNvZGUocikscyxuLGksdCxvKX1yZXR1cm4gYS9NYXRoLm1heCgxLE1hdGguY2VpbChhL3IpKX0oZSx0LHIsbixpLG8pLGw9ZS50ZXh0LmluZGV4T2YoXCLigItcIik+PTA7bGV0IGM9MDtmb3IobGV0IHI9MDtyPGUubGVuZ3RoKCk7cisrKXtjb25zdCBoPWUuZ2V0U2VjdGlvbihyKSxkPWUuZ2V0Q2hhckNvZGUocik7aWYoWWhbZF18fChjKz1KaChkLGgsbixpLHQsbykpLHI8ZS5sZW5ndGgoKS0xKXtjb25zdCB0PSEoKHU9ZCk8MTE5MDR8fCEoJGkodSl8fFppKHUpfHxvbyh1KXx8cm8odSl8fFlpKHUpfHxqaSh1KXx8V2kodSl8fFZpKHUpfHxLaSh1KXx8SmkodSl8fEhpKHUpfHxsbyh1KXx8R2kodSl8fE5pKHUpfHxVaSh1KXx8WGkodSl8fHFpKHUpfHxpbyh1KXx8ZW8odSl8fFFpKHUpKSk7KEtoW2RdfHx0fHxoLmltYWdlTmFtZSkmJmEucHVzaCh0ZChyKzEsYyxzLGEsZWQoZCxlLmdldENoYXJDb2RlKHIrMSksdCYmbCksITEpKX19dmFyIHU7cmV0dXJuIGZ1bmN0aW9uIGUodCl7cmV0dXJuIHQ/ZSh0LnByaW9yQnJlYWspLmNvbmNhdCh0LmluZGV4KTpbXX0odGQoZS5sZW5ndGgoKSxjLHMsYSwwLCEwKSl9KG0sYyxvLHQsbixwKSx7cHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0OnkscHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0OnZ9PUFvO2lmKHkmJjE9PT1tLnNlY3Rpb25zLmxlbmd0aCl7Y29uc3QgZT15KG0udG9TdHJpbmcoKSxfKTtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPW5ldyBYaDtlLnRleHQ9dCxlLnNlY3Rpb25zPW0uc2VjdGlvbnM7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspZS5zZWN0aW9uSW5kZXgucHVzaCgwKTtnLnB1c2goZSl9fWVsc2UgaWYodil7Y29uc3QgZT12KG0udGV4dCxtLnNlY3Rpb25JbmRleCxfKTtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPW5ldyBYaDtlLnRleHQ9dFswXSxlLnNlY3Rpb25JbmRleD10WzFdLGUuc2VjdGlvbnM9bS5zZWN0aW9ucyxnLnB1c2goZSl9fWVsc2UgZz1mdW5jdGlvbihlLHQpe2NvbnN0IHI9W10sbj1lLnRleHQ7bGV0IGk9MDtmb3IoY29uc3QgbiBvZiB0KXIucHVzaChlLnN1YnN0cmluZyhpLG4pKSxpPW47cmV0dXJuIGk8bi5sZW5ndGgmJnIucHVzaChlLnN1YnN0cmluZyhpLG4ubGVuZ3RoKSkscn0obSxfKTtjb25zdCB4PVtdLGI9e3Bvc2l0aW9uZWRMaW5lczp4LHRleHQ6bS50b1N0cmluZygpLHRvcDp1WzFdLGJvdHRvbTp1WzFdLGxlZnQ6dVswXSxyaWdodDp1WzBdLHdyaXRpbmdNb2RlOmgsaWNvbnNJblRleHQ6ITEsdmVydGljYWxpemFibGU6ITEsaGFzQmFzZWxpbmU6ITF9O3JldHVybiBmdW5jdGlvbihlLHQscixuLGksbyxhLHMsbCxjLHUsaCl7bGV0IGQ9MCxwPTAsZj0wO2NvbnN0IG09XCJyaWdodFwiPT09cz8xOlwibGVmdFwiPT09cz8wOi41O2xldCBnPSExO2Zvcihjb25zdCBlIG9mIGkpe2NvbnN0IHI9ZS5nZXRTZWN0aW9ucygpO2Zvcihjb25zdCBlIG9mIHIpe2lmKGUuaW1hZ2VOYW1lKWNvbnRpbnVlO2NvbnN0IHI9dFtlLmZvbnRTdGFja107aWYociYmKGc9dm9pZCAwIT09ci5hc2NlbmRlciYmdm9pZCAwIT09ci5kZXNjZW5kZXIsIWcpKWJyZWFrfWlmKCFnKWJyZWFrfWxldCBfPTA7Zm9yKGNvbnN0IGEgb2YgaSl7YS50cmltKCk7Y29uc3QgaT1hLmdldE1heFNjYWxlKCkscz0yNCooaS0xKSx2PXtwb3NpdGlvbmVkR2x5cGhzOltdLGxpbmVPZmZzZXQ6MH07ZS5wb3NpdGlvbmVkTGluZXNbX109djtjb25zdCB4PXYucG9zaXRpb25lZEdseXBocztsZXQgYj0wO2lmKCFhLmxlbmd0aCgpKXtwKz1vLCsrXztjb250aW51ZX1sZXQgdz0wLFQ9MDtmb3IobGV0IG89MDtvPGEubGVuZ3RoKCk7bysrKXtjb25zdCBzPWEuZ2V0U2VjdGlvbihvKSxmPWEuZ2V0U2VjdGlvbkluZGV4KG8pLG09YS5nZXRDaGFyQ29kZShvKTtsZXQgXz1zLnNjYWxlLHY9bnVsbCxFPW51bGwsUz1udWxsLEM9MjQsTT0wO2NvbnN0IGs9IShsPT09JGguaG9yaXpvbnRhbHx8IXUmJiFwbyhtKXx8dSYmKFloW21dfHwoeT1tLE9pKHkpfHxCaSh5KXx8RmkoeSl8fG5vKHkpfHxzbyh5KSkpKTtpZihzLmltYWdlTmFtZSl7Y29uc3QgdD1uW3MuaW1hZ2VOYW1lXTtpZighdCljb250aW51ZTtTPXMuaW1hZ2VOYW1lLGUuaWNvbnNJblRleHQ9ZS5pY29uc0luVGV4dHx8ITAsRT10LnBhZGRlZFJlY3Q7Y29uc3Qgcj10LmRpc3BsYXlTaXplO189MjQqXy9oLHY9e3dpZHRoOnJbMF0saGVpZ2h0OnJbMV0sbGVmdDoxLHRvcDotMyxhZHZhbmNlOms/clsxXTpyWzBdLGxvY2FsR2x5cGg6ITF9LE09Zz8tdi5oZWlnaHQqXzoyNCppLTE3LXJbMV0qXyxDPXYuYWR2YW5jZTtjb25zdCBvPShrP3JbMF06clsxXSkqXy0yNCppO28+MCYmbz5iJiYoYj1vKX1lbHNle2NvbnN0IGU9cltzLmZvbnRTdGFja107aWYoIWUpY29udGludWU7ZVttXSYmKEU9ZVttXSk7Y29uc3Qgbj10W3MuZm9udFN0YWNrXTtpZighbiljb250aW51ZTtjb25zdCBvPW4uZ2x5cGhzW21dO2lmKCFvKWNvbnRpbnVlO2lmKHY9by5tZXRyaWNzLEM9ODIwMyE9PW0/MjQ6MCxnKXtjb25zdCBlPXZvaWQgMCE9PW4uYXNjZW5kZXI/TWF0aC5hYnMobi5hc2NlbmRlcik6MCx0PXZvaWQgMCE9PW4uZGVzY2VuZGVyP01hdGguYWJzKG4uZGVzY2VuZGVyKTowLHI9KGUrdCkqXzt3PHImJih3PXIsVD0oZS10KS8yKl8pLE09LWUqX31lbHNlIE09MjQqKGktXyktMTd9az8oZS52ZXJ0aWNhbGl6YWJsZT0hMCx4LnB1c2goe2dseXBoOm0saW1hZ2VOYW1lOlMseDpkLHk6cCtNLHZlcnRpY2FsOmssc2NhbGU6Xyxsb2NhbEdseXBoOnYubG9jYWxHbHlwaCxmb250U3RhY2s6cy5mb250U3RhY2ssc2VjdGlvbkluZGV4OmYsbWV0cmljczp2LHJlY3Q6RX0pLGQrPUMqXytjKTooeC5wdXNoKHtnbHlwaDptLGltYWdlTmFtZTpTLHg6ZCx5OnArTSx2ZXJ0aWNhbDprLHNjYWxlOl8sbG9jYWxHbHlwaDp2LmxvY2FsR2x5cGgsZm9udFN0YWNrOnMuZm9udFN0YWNrLHNlY3Rpb25JbmRleDpmLG1ldHJpY3M6dixyZWN0OkV9KSxkKz12LmFkdmFuY2UqXytjKX0wIT09eC5sZW5ndGgmJihmPU1hdGgubWF4KGQtYyxmKSxnP25kKHgsbSxiLFQsbyppLzIpOm5kKHgsbSxiLDAsby8yKSksZD0wO2NvbnN0IEU9byppK2I7di5saW5lT2Zmc2V0PU1hdGgubWF4KGIscykscCs9RSwrK199dmFyIHk7Y29uc3Qgdj1wLHtob3Jpem9udGFsQWxpZ246eCx2ZXJ0aWNhbEFsaWduOmJ9PXJkKGEpOyhmdW5jdGlvbihlLHQscixuLGksbyl7Y29uc3QgYT0odC1yKSppLHM9LW8qbjtmb3IoY29uc3QgdCBvZiBlKWZvcihjb25zdCBlIG9mIHQucG9zaXRpb25lZEdseXBocyllLngrPWEsZS55Kz1zfSkoZS5wb3NpdGlvbmVkTGluZXMsbSx4LGIsZix2KSxlLnRvcCs9LWIqdixlLmJvdHRvbT1lLnRvcCt2LGUubGVmdCs9LXgqZixlLnJpZ2h0PWUubGVmdCtmLGUuaGFzQmFzZWxpbmU9Z30oYix0LHIsbixnLGEscyxsLGgsYyxkLGYpLCFmdW5jdGlvbihlKXtmb3IoY29uc3QgdCBvZiBlKWlmKDAhPT10LnBvc2l0aW9uZWRHbHlwaHMubGVuZ3RoKXJldHVybiExO3JldHVybiEwfSh4KSYmYn1jb25zdCBZaD17OTohMCwxMDohMCwxMTohMCwxMjohMCwxMzohMCwzMjohMH0sS2g9ezEwOiEwLDMyOiEwLDM4OiEwLDQwOiEwLDQxOiEwLDQzOiEwLDQ1OiEwLDQ3OiEwLDE3MzohMCwxODM6ITAsODIwMzohMCw4MjA4OiEwLDgyMTE6ITAsODIzMTohMH07ZnVuY3Rpb24gSmgoZSx0LHIsbixpLG8pe2lmKHQuaW1hZ2VOYW1lKXtjb25zdCBlPW5bdC5pbWFnZU5hbWVdO3JldHVybiBlP2UuZGlzcGxheVNpemVbMF0qdC5zY2FsZSoyNC9vK2k6MH17Y29uc3Qgbj1yW3QuZm9udFN0YWNrXSxvPW4mJm4uZ2x5cGhzW2VdO3JldHVybiBvP28ubWV0cmljcy5hZHZhbmNlKnQuc2NhbGUraTowfX1mdW5jdGlvbiBRaChlLHQscixuKXtjb25zdCBpPU1hdGgucG93KGUtdCwyKTtyZXR1cm4gbj9lPHQ/aS8yOjIqaTppK01hdGguYWJzKHIpKnJ9ZnVuY3Rpb24gZWQoZSx0LHIpe2xldCBuPTA7cmV0dXJuIDEwPT09ZSYmKG4tPTFlNCksciYmKG4rPTE1MCksNDAhPT1lJiY2NTI4OCE9PWV8fChuKz01MCksNDEhPT10JiY2NTI4OSE9PXR8fChuKz01MCksbn1mdW5jdGlvbiB0ZChlLHQscixuLGksbyl7bGV0IGE9bnVsbCxzPVFoKHQscixpLG8pO2Zvcihjb25zdCBlIG9mIG4pe2NvbnN0IG49UWgodC1lLngscixpLG8pK2UuYmFkbmVzcztuPD1zJiYoYT1lLHM9bil9cmV0dXJue2luZGV4OmUseDp0LHByaW9yQnJlYWs6YSxiYWRuZXNzOnN9fWZ1bmN0aW9uIHJkKGUpe2xldCB0PS41LHI9LjU7c3dpdGNoKGUpe2Nhc2VcInJpZ2h0XCI6Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6dD0xO2JyZWFrO2Nhc2VcImxlZnRcIjpjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6dD0wfXN3aXRjaChlKXtjYXNlXCJib3R0b21cIjpjYXNlXCJib3R0b20tcmlnaHRcIjpjYXNlXCJib3R0b20tbGVmdFwiOnI9MTticmVhaztjYXNlXCJ0b3BcIjpjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJ0b3AtbGVmdFwiOnI9MH1yZXR1cm57aG9yaXpvbnRhbEFsaWduOnQsdmVydGljYWxBbGlnbjpyfX1mdW5jdGlvbiBuZChlLHQscixuLGkpe2lmKCEodHx8cnx8bnx8aSkpcmV0dXJuO2NvbnN0IG89ZS5sZW5ndGgtMSxhPWVbb10scz0oYS54K2EubWV0cmljcy5hZHZhbmNlKmEuc2NhbGUpKnQ7Zm9yKGxldCB0PTA7dDw9bzt0KyspZVt0XS54LT1zLGVbdF0ueSs9cituK2l9ZnVuY3Rpb24gaWQoZSx0LHIpe2NvbnN0e2hvcml6b250YWxBbGlnbjpuLHZlcnRpY2FsQWxpZ246aX09cmQociksbz10WzBdLWUuZGlzcGxheVNpemVbMF0qbixhPXRbMV0tZS5kaXNwbGF5U2l6ZVsxXSppO3JldHVybntpbWFnZTplLHRvcDphLGJvdHRvbTphK2UuZGlzcGxheVNpemVbMV0sbGVmdDpvLHJpZ2h0Om8rZS5kaXNwbGF5U2l6ZVswXX19ZnVuY3Rpb24gb2QoZSx0LHIsbixpLG8pe2NvbnN0IGE9ZS5pbWFnZTtsZXQgcztpZihhLmNvbnRlbnQpe2NvbnN0IGU9YS5jb250ZW50LHQ9YS5waXhlbFJhdGlvfHwxO3M9W2VbMF0vdCxlWzFdL3QsYS5kaXNwbGF5U2l6ZVswXS1lWzJdL3QsYS5kaXNwbGF5U2l6ZVsxXS1lWzNdL3RdfWNvbnN0IGw9dC5sZWZ0Km8sYz10LnJpZ2h0Km87bGV0IHUsaCxkLHA7XCJ3aWR0aFwiPT09cnx8XCJib3RoXCI9PT1yPyhwPWlbMF0rbC1uWzNdLGg9aVswXStjK25bMV0pOihwPWlbMF0rKGwrYy1hLmRpc3BsYXlTaXplWzBdKS8yLGg9cCthLmRpc3BsYXlTaXplWzBdKTtjb25zdCBmPXQudG9wKm8sbT10LmJvdHRvbSpvO3JldHVyblwiaGVpZ2h0XCI9PT1yfHxcImJvdGhcIj09PXI/KHU9aVsxXStmLW5bMF0sZD1pWzFdK20rblsyXSk6KHU9aVsxXSsoZittLWEuZGlzcGxheVNpemVbMV0pLzIsZD11K2EuZGlzcGxheVNpemVbMV0pLHtpbWFnZTphLHRvcDp1LHJpZ2h0OmgsYm90dG9tOmQsbGVmdDpwLGNvbGxpc2lvblBhZGRpbmc6c319Y2xhc3MgYWQgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7c3VwZXIoZSx0KSx0aGlzLmFuZ2xlPW4sdGhpcy56PXIsdm9pZCAwIT09aSYmKHRoaXMuc2VnbWVudD1pKX1jbG9uZSgpe3JldHVybiBuZXcgYWQodGhpcy54LHRoaXMueSx0aGlzLnosdGhpcy5hbmdsZSx0aGlzLnNlZ21lbnQpfX1mdW5jdGlvbiBzZChlLHQscixuLGkpe2lmKHZvaWQgMD09PXQuc2VnbWVudClyZXR1cm4hMDtsZXQgbz10LGE9dC5zZWdtZW50KzEscz0wO2Zvcig7cz4tci8yOyl7aWYoYS0tLGE8MClyZXR1cm4hMTtzLT1lW2FdLmRpc3Qobyksbz1lW2FdfXMrPWVbYV0uZGlzdChlW2ErMV0pLGErKztjb25zdCBsPVtdO2xldCBjPTA7Zm9yKDtzPHIvMjspe2NvbnN0IHQ9ZVthXSxyPWVbYSsxXTtpZighcilyZXR1cm4hMTtsZXQgbz1lW2EtMV0uYW5nbGVUbyh0KS10LmFuZ2xlVG8ocik7Zm9yKG89TWF0aC5hYnMoKG8rMypNYXRoLlBJKSUoMipNYXRoLlBJKS1NYXRoLlBJKSxsLnB1c2goe2Rpc3RhbmNlOnMsYW5nbGVEZWx0YTpvfSksYys9bztzLWxbMF0uZGlzdGFuY2U+bjspYy09bC5zaGlmdCgpLmFuZ2xlRGVsdGE7aWYoYz5pKXJldHVybiExO2ErKyxzKz10LmRpc3Qocil9cmV0dXJuITB9ZnVuY3Rpb24gbGQoZSl7bGV0IHQ9MDtmb3IobGV0IHI9MDtyPGUubGVuZ3RoLTE7cisrKXQrPWVbcl0uZGlzdChlW3IrMV0pO3JldHVybiB0fWZ1bmN0aW9uIGNkKGUsdCxyKXtyZXR1cm4gZT8uNip0KnI6MH1mdW5jdGlvbiB1ZChlLHQpe3JldHVybiBNYXRoLm1heChlP2UucmlnaHQtZS5sZWZ0OjAsdD90LnJpZ2h0LXQubGVmdDowKX1mdW5jdGlvbiBoZChlLHQscixuLGksbyl7Y29uc3QgYT1jZChyLGksbykscz11ZChyLG4pKm87bGV0IGw9MDtjb25zdCBjPWxkKGUpLzI7Zm9yKGxldCByPTA7cjxlLmxlbmd0aC0xO3IrKyl7Y29uc3Qgbj1lW3JdLGk9ZVtyKzFdLG89bi5kaXN0KGkpO2lmKGwrbz5jKXtjb25zdCB1PShjLWwpL28saD1DcihuLngsaS54LHUpLGQ9Q3Iobi55LGkueSx1KSxwPW5ldyBhZChoLGQsMCxpLmFuZ2xlVG8obikscik7cmV0dXJuIWF8fHNkKGUscCxzLGEsdCk/cDp2b2lkIDB9bCs9b319ZnVuY3Rpb24gZGQoZSx0LHIsbixpLG8sYSxzLGwpe2NvbnN0IGM9Y2QobixvLGEpLHU9dWQobixpKSxoPXUqYSxkPTA9PT1lWzBdLnh8fGVbMF0ueD09PWx8fDA9PT1lWzBdLnl8fGVbMF0ueT09PWw7cmV0dXJuIHQtaDx0LzQmJih0PWgrdC80KSxmdW5jdGlvbiBlKHQscixuLGksbyxhLHMsbCxjKXtjb25zdCB1PWEvMixoPWxkKHQpO2xldCBkPTAscD1yLW4sZj1bXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKXtjb25zdCByPXRbZV0scz10W2UrMV0sbD1yLmRpc3QocyksbT1zLmFuZ2xlVG8ocik7Zm9yKDtwK248ZCtsOyl7cCs9bjtjb25zdCBnPShwLWQpL2wsXz1DcihyLngscy54LGcpLHk9Q3Ioci55LHMueSxnKTtpZihfPj0wJiZfPGMmJnk+PTAmJnk8YyYmcC11Pj0wJiZwK3U8PWgpe2NvbnN0IHI9bmV3IGFkKF8seSwwLG0sZSk7ci5fcm91bmQoKSxpJiYhc2QodCxyLGEsaSxvKXx8Zi5wdXNoKHIpfX1kKz1sfXJldHVybiBsfHxmLmxlbmd0aHx8c3x8KGY9ZSh0LGQvMixuLGksbyxhLHMsITAsYykpLGZ9KGUsZD90LzIqcyV0Oih1LzIrMipvKSphKnMldCx0LGMscixoLGQsITEsbCl9ZnVuY3Rpb24gcGQoZSx0LHIsbixpKXtjb25zdCBvPVtdO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKXtjb25zdCBzPWVbYV07bGV0IGw7Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aC0xO2UrKyl7bGV0IGE9c1tlXSxjPXNbZSsxXTthLng8dCYmYy54PHR8fChhLng8dD9hPW5ldyBtKHQsYS55Kyh0LWEueCkvKGMueC1hLngpKihjLnktYS55KSkuX3JvdW5kKCk6Yy54PHQmJihjPW5ldyBtKHQsYS55Kyh0LWEueCkvKGMueC1hLngpKihjLnktYS55KSkuX3JvdW5kKCkpLGEueTxyJiZjLnk8cnx8KGEueTxyP2E9bmV3IG0oYS54KyhyLWEueSkvKGMueS1hLnkpKihjLngtYS54KSxyKS5fcm91bmQoKTpjLnk8ciYmKGM9bmV3IG0oYS54KyhyLWEueSkvKGMueS1hLnkpKihjLngtYS54KSxyKS5fcm91bmQoKSksYS54Pj1uJiZjLng+PW58fChhLng+PW4/YT1uZXcgbShuLGEueSsobi1hLngpLyhjLngtYS54KSooYy55LWEueSkpLl9yb3VuZCgpOmMueD49biYmKGM9bmV3IG0obixhLnkrKG4tYS54KS8oYy54LWEueCkqKGMueS1hLnkpKS5fcm91bmQoKSksYS55Pj1pJiZjLnk+PWl8fChhLnk+PWk/YT1uZXcgbShhLngrKGktYS55KS8oYy55LWEueSkqKGMueC1hLngpLGkpLl9yb3VuZCgpOmMueT49aSYmKGM9bmV3IG0oYS54KyhpLWEueSkvKGMueS1hLnkpKihjLngtYS54KSxpKS5fcm91bmQoKSksbCYmYS5lcXVhbHMobFtsLmxlbmd0aC0xXSl8fChsPVthXSxvLnB1c2gobCkpLGwucHVzaChjKSkpKSl9fXJldHVybiBvfUlpKGFkLFwiQW5jaG9yXCIpO2NvbnN0IGZkPTFlMjA7ZnVuY3Rpb24gbWQoZSx0LHIsbixpLG8sYSxzLGwpe2ZvcihsZXQgYz10O2M8dCtuO2MrKylnZChlLHIqbytjLG8saSxhLHMsbCk7Zm9yKGxldCBjPXI7YzxyK2k7YysrKWdkKGUsYypvK3QsMSxuLGEscyxsKX1mdW5jdGlvbiBnZChlLHQscixuLGksbyxhKXtvWzBdPTAsYVswXT0tZmQsYVsxXT1mZCxpWzBdPWVbdF07Zm9yKGxldCBzPTEsbD0wLGM9MDtzPG47cysrKXtpW3NdPWVbdCtzKnJdO2NvbnN0IG49cypzO2Rve2NvbnN0IGU9b1tsXTtjPShpW3NdLWlbZV0rbi1lKmUpLyhzLWUpLzJ9d2hpbGUoYzw9YVtsXSYmLS1sPi0xKTtsKyssb1tsXT1zLGFbbF09YyxhW2wrMV09ZmR9Zm9yKGxldCBzPTAsbD0wO3M8bjtzKyspe2Zvcig7YVtsKzFdPHM7KWwrKztjb25zdCBuPW9bbF0sYz1zLW47ZVt0K3Mqcl09aVtuXStjKmN9fWNvbnN0IF9kPXtub25lOjAsaWRlb2dyYXBoczoxLGFsbDoyfTtjbGFzcyB5ZHtjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5yZXF1ZXN0TWFuYWdlcj1lLHRoaXMubG9jYWxHbHlwaE1vZGU9dCx0aGlzLmxvY2FsRm9udEZhbWlseT1yLHRoaXMuZW50cmllcz17fSx0aGlzLmxvY2FsR2x5cGhzPXsyMDA6e30sNDAwOnt9LDUwMDp7fSw5MDA6e319fXNldFVSTChlKXt0aGlzLnVybD1lfWdldEdseXBocyhlLHQpe2NvbnN0IHI9W107Zm9yKGNvbnN0IHQgaW4gZSlmb3IoY29uc3QgbiBvZiBlW3RdKXIucHVzaCh7c3RhY2s6dCxpZDpufSk7ayhyLCh7c3RhY2s6ZSxpZDp0fSxyKT0+e2xldCBuPXRoaXMuZW50cmllc1tlXTtufHwobj10aGlzLmVudHJpZXNbZV09e2dseXBoczp7fSxyZXF1ZXN0czp7fSxyYW5nZXM6e30sYXNjZW5kZXI6dm9pZCAwLGRlc2NlbmRlcjp2b2lkIDB9KTtsZXQgaT1uLmdseXBoc1t0XTtpZih2b2lkIDAhPT1pKXJldHVybiB2b2lkIHIobnVsbCx7c3RhY2s6ZSxpZDp0LGdseXBoOml9KTtpZihpPXRoaXMuX3RpbnlTREYobixlLHQpLGkpcmV0dXJuIG4uZ2x5cGhzW3RdPWksdm9pZCByKG51bGwse3N0YWNrOmUsaWQ6dCxnbHlwaDppfSk7Y29uc3Qgbz1NYXRoLmZsb29yKHQvMjU2KTtpZigyNTYqbz42NTUzNSlyZXR1cm4gdm9pZCByKG5ldyBFcnJvcihcImdseXBocyA+IDY1NTM1IG5vdCBzdXBwb3J0ZWRcIikpO2lmKG4ucmFuZ2VzW29dKXJldHVybiB2b2lkIHIobnVsbCx7c3RhY2s6ZSxpZDp0LGdseXBoOml9KTtsZXQgYT1uLnJlcXVlc3RzW29dO2F8fChhPW4ucmVxdWVzdHNbb109W10seWQubG9hZEdseXBoUmFuZ2UoZSxvLHRoaXMudXJsLHRoaXMucmVxdWVzdE1hbmFnZXIsKGUsdCk9PntpZih0KXtuLmFzY2VuZGVyPXQuYXNjZW5kZXIsbi5kZXNjZW5kZXI9dC5kZXNjZW5kZXI7Zm9yKGNvbnN0IGUgaW4gdC5nbHlwaHMpdGhpcy5fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaCgrZSl8fChuLmdseXBoc1srZV09dC5nbHlwaHNbK2VdKTtuLnJhbmdlc1tvXT0hMH1mb3IoY29uc3QgciBvZiBhKXIoZSx0KTtkZWxldGUgbi5yZXF1ZXN0c1tvXX0pKSxhLnB1c2goKG4saSk9PntuP3Iobik6aSYmcihudWxsLHtzdGFjazplLGlkOnQsZ2x5cGg6aS5nbHlwaHNbdF18fG51bGx9KX0pfSwoZSxyKT0+e2lmKGUpdChlKTtlbHNlIGlmKHIpe2NvbnN0IGU9e307Zm9yKGNvbnN0e3N0YWNrOnQsaWQ6bixnbHlwaDppfW9mIHIpdm9pZCAwPT09ZVt0XSYmKGVbdF09e30pLHZvaWQgMD09PWVbdF0uZ2x5cGhzJiYoZVt0XS5nbHlwaHM9e30pLGVbdF0uZ2x5cGhzW25dPWkmJntpZDppLmlkLGJpdG1hcDppLmJpdG1hcC5jbG9uZSgpLG1ldHJpY3M6aS5tZXRyaWNzfSxlW3RdLmFzY2VuZGVyPXRoaXMuZW50cmllc1t0XS5hc2NlbmRlcixlW3RdLmRlc2NlbmRlcj10aGlzLmVudHJpZXNbdF0uZGVzY2VuZGVyO3QobnVsbCxlKX19KX1fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaChlKXtyZXR1cm4gdGhpcy5sb2NhbEdseXBoTW9kZSE9PV9kLm5vbmUmJih0aGlzLmxvY2FsR2x5cGhNb2RlPT09X2QuYWxsPyEhdGhpcy5sb2NhbEZvbnRGYW1pbHk6ISF0aGlzLmxvY2FsRm9udEZhbWlseSYmKEppKGUpfHx0byhlKXx8R2koZSl8fHFpKGUpfHxWaShlKSkpfV90aW55U0RGKGUsdCxyKXtjb25zdCBuPXRoaXMubG9jYWxGb250RmFtaWx5O2lmKCFufHwhdGhpcy5fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaChyKSlyZXR1cm47bGV0IGk9ZS50aW55U0RGO2lmKCFpKXtsZXQgcj1cIjQwMFwiOy9ib2xkL2kudGVzdCh0KT9yPVwiOTAwXCI6L21lZGl1bS9pLnRlc3QodCk/cj1cIjUwMFwiOi9saWdodC9pLnRlc3QodCkmJihyPVwiMjAwXCIpLGk9ZS50aW55U0RGPW5ldyB5ZC5UaW55U0RGKHtmb250RmFtaWx5Om4sZm9udFdlaWdodDpyLGZvbnRTaXplOjQ4LGJ1ZmZlcjo2LHJhZGl1czoxNn0pLGkuZm9udFdlaWdodD1yfWlmKHRoaXMubG9jYWxHbHlwaHNbaS5mb250V2VpZ2h0XVtyXSlyZXR1cm4gdGhpcy5sb2NhbEdseXBoc1tpLmZvbnRXZWlnaHRdW3JdO2NvbnN0IG89U3RyaW5nLmZyb21DaGFyQ29kZShyKSx7ZGF0YTphLHdpZHRoOnMsaGVpZ2h0OmwsZ2x5cGhXaWR0aDpjLGdseXBoSGVpZ2h0OnUsZ2x5cGhMZWZ0OmgsZ2x5cGhUb3A6ZCxnbHlwaEFkdmFuY2U6cH09aS5kcmF3KG8pO3JldHVybiB0aGlzLmxvY2FsR2x5cGhzW2kuZm9udFdlaWdodF1bcl09e2lkOnIsYml0bWFwOm5ldyBoYyh7d2lkdGg6cyxoZWlnaHQ6bH0sYSksbWV0cmljczp7d2lkdGg6Yy8yLGhlaWdodDp1LzIsbGVmdDpoLzIsdG9wOmQvMi0yNyxhZHZhbmNlOnAvMixsb2NhbEdseXBoOiEwfX19fWZ1bmN0aW9uIHZkKGUsdCxyLG4pe2NvbnN0IGk9W10sbz1lLmltYWdlLGE9by5waXhlbFJhdGlvLHM9by5wYWRkZWRSZWN0LnctMixsPW8ucGFkZGVkUmVjdC5oLTIsYz1lLnJpZ2h0LWUubGVmdCx1PWUuYm90dG9tLWUudG9wLGg9by5zdHJldGNoWHx8W1swLHNdXSxkPW8uc3RyZXRjaFl8fFtbMCxsXV0scD0oZSx0KT0+ZSt0WzFdLXRbMF0sZj1oLnJlZHVjZShwLDApLGc9ZC5yZWR1Y2UocCwwKSxfPXMtZix5PWwtZztsZXQgdj0wLHg9ZixiPTAsdz1nLFQ9MCxFPV8sUz0wLEM9eTtpZihvLmNvbnRlbnQmJm4pe2NvbnN0IGU9by5jb250ZW50O3Y9eGQoaCwwLGVbMF0pLGI9eGQoZCwwLGVbMV0pLHg9eGQoaCxlWzBdLGVbMl0pLHc9eGQoZCxlWzFdLGVbM10pLFQ9ZVswXS12LFM9ZVsxXS1iLEU9ZVsyXS1lWzBdLXgsQz1lWzNdLWVbMV0td31jb25zdCBNPShuLGkscyxsKT0+e2NvbnN0IGg9d2Qobi5zdHJldGNoLXYseCxjLGUubGVmdCksZD1UZChuLmZpeGVkLVQsRSxuLnN0cmV0Y2gsZikscD13ZChpLnN0cmV0Y2gtYix3LHUsZS50b3ApLF89VGQoaS5maXhlZC1TLEMsaS5zdHJldGNoLGcpLHk9d2Qocy5zdHJldGNoLXYseCxjLGUubGVmdCksTT1UZChzLmZpeGVkLVQsRSxzLnN0cmV0Y2gsZiksaz13ZChsLnN0cmV0Y2gtYix3LHUsZS50b3ApLEE9VGQobC5maXhlZC1TLEMsbC5zdHJldGNoLGcpLEk9bmV3IG0oaCxwKSxQPW5ldyBtKHkscCksej1uZXcgbSh5LGspLEQ9bmV3IG0oaCxrKSxSPW5ldyBtKGQvYSxfL2EpLEw9bmV3IG0oTS9hLEEvYSksTz10Kk1hdGguUEkvMTgwO2lmKE8pe2NvbnN0IGU9TWF0aC5zaW4oTyksdD1NYXRoLmNvcyhPKSxyPVt0LC1lLGUsdF07SS5fbWF0TXVsdChyKSxQLl9tYXRNdWx0KHIpLEQuX21hdE11bHQociksei5fbWF0TXVsdChyKX1jb25zdCBCPW4uc3RyZXRjaCtuLmZpeGVkLEY9aS5zdHJldGNoK2kuZml4ZWQ7cmV0dXJue3RsOkksdHI6UCxibDpELGJyOnosdGV4Ont4Om8ucGFkZGVkUmVjdC54KzErQix5Om8ucGFkZGVkUmVjdC55KzErRix3OnMuc3RyZXRjaCtzLmZpeGVkLUIsaDpsLnN0cmV0Y2grbC5maXhlZC1GfSx3cml0aW5nTW9kZTp2b2lkIDAsZ2x5cGhPZmZzZXQ6WzAsMF0sc2VjdGlvbkluZGV4OjAscGl4ZWxPZmZzZXRUTDpSLHBpeGVsT2Zmc2V0QlI6TCxtaW5Gb250U2NhbGVYOkUvYS9jLG1pbkZvbnRTY2FsZVk6Qy9hL3UsaXNTREY6cn19O2lmKG4mJihvLnN0cmV0Y2hYfHxvLnN0cmV0Y2hZKSl7Y29uc3QgZT1iZChoLF8sZiksdD1iZChkLHksZyk7Zm9yKGxldCByPTA7cjxlLmxlbmd0aC0xO3IrKyl7Y29uc3Qgbj1lW3JdLG89ZVtyKzFdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspaS5wdXNoKE0obix0W2VdLG8sdFtlKzFdKSl9fWVsc2UgaS5wdXNoKE0oe2ZpeGVkOjAsc3RyZXRjaDotMX0se2ZpeGVkOjAsc3RyZXRjaDotMX0se2ZpeGVkOjAsc3RyZXRjaDpzKzF9LHtmaXhlZDowLHN0cmV0Y2g6bCsxfSkpO3JldHVybiBpfWZ1bmN0aW9uIHhkKGUsdCxyKXtsZXQgbj0wO2Zvcihjb25zdCBpIG9mIGUpbis9TWF0aC5tYXgodCxNYXRoLm1pbihyLGlbMV0pKS1NYXRoLm1heCh0LE1hdGgubWluKHIsaVswXSkpO3JldHVybiBufWZ1bmN0aW9uIGJkKGUsdCxyKXtjb25zdCBuPVt7Zml4ZWQ6LTEsc3RyZXRjaDowfV07Zm9yKGNvbnN0W3Qscl1vZiBlKXtjb25zdCBlPW5bbi5sZW5ndGgtMV07bi5wdXNoKHtmaXhlZDp0LWUuc3RyZXRjaCxzdHJldGNoOmUuc3RyZXRjaH0pLG4ucHVzaCh7Zml4ZWQ6dC1lLnN0cmV0Y2gsc3RyZXRjaDplLnN0cmV0Y2grKHItdCl9KX1yZXR1cm4gbi5wdXNoKHtmaXhlZDp0KzEsc3RyZXRjaDpyfSksbn1mdW5jdGlvbiB3ZChlLHQscixuKXtyZXR1cm4gZS90KnIrbn1mdW5jdGlvbiBUZChlLHQscixuKXtyZXR1cm4gZS10KnIvbn1mdW5jdGlvbiBFZChlLHQscixuKXtjb25zdCBpPXQrZS5wb3NpdGlvbmVkTGluZXNbbl0ubGluZU9mZnNldDtyZXR1cm4gMD09PW4/citpLzI6cisoaSsodCtlLnBvc2l0aW9uZWRMaW5lc1tuLTFdLmxpbmVPZmZzZXQpKS8yfXlkLmxvYWRHbHlwaFJhbmdlPWZ1bmN0aW9uKGUsdCxyLG4saSl7Y29uc3Qgbz0yNTYqdCxhPW8rMjU1LHM9bi50cmFuc2Zvcm1SZXF1ZXN0KG4ubm9ybWFsaXplR2x5cGhzVVJMKHIpLnJlcGxhY2UoXCJ7Zm9udHN0YWNrfVwiLGUpLnJlcGxhY2UoXCJ7cmFuZ2V9XCIsYCR7b30tJHthfWApLGFlLkdseXBocyk7dWUocywoZSx0KT0+e2lmKGUpaShlKTtlbHNlIGlmKHQpe2NvbnN0IGU9e30scj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IHloKGUpLnJlYWRGaWVsZHMoVWgse30pfSh0KTtmb3IoY29uc3QgdCBvZiByLmdseXBocyllW3QuaWRdPXQ7aShudWxsLHtnbHlwaHM6ZSxhc2NlbmRlcjpyLmFzY2VuZGVyLGRlc2NlbmRlcjpyLmRlc2NlbmRlcn0pfX0pfSx5ZC5UaW55U0RGPWNsYXNze2NvbnN0cnVjdG9yKHtmb250U2l6ZTplPTI0LGJ1ZmZlcjp0PTMscmFkaXVzOnI9OCxjdXRvZmY6bj0uMjUsZm9udEZhbWlseTppPVwic2Fucy1zZXJpZlwiLGZvbnRXZWlnaHQ6bz1cIm5vcm1hbFwiLGZvbnRTdHlsZTphPVwibm9ybWFsXCJ9PXt9KXt0aGlzLmJ1ZmZlcj10LHRoaXMuY3V0b2ZmPW4sdGhpcy5yYWRpdXM9cjtjb25zdCBzPXRoaXMuc2l6ZT1lKzQqdCxsPXRoaXMuX2NyZWF0ZUNhbnZhcyhzKSxjPXRoaXMuY3R4PWwuZ2V0Q29udGV4dChcIjJkXCIse3dpbGxSZWFkRnJlcXVlbnRseTohMH0pO2MuZm9udD1gJHthfSAke299ICR7ZX1weCAke2l9YCxjLnRleHRCYXNlbGluZT1cImFscGhhYmV0aWNcIixjLnRleHRBbGlnbj1cImxlZnRcIixjLmZpbGxTdHlsZT1cImJsYWNrXCIsdGhpcy5ncmlkT3V0ZXI9bmV3IEZsb2F0NjRBcnJheShzKnMpLHRoaXMuZ3JpZElubmVyPW5ldyBGbG9hdDY0QXJyYXkocypzKSx0aGlzLmY9bmV3IEZsb2F0NjRBcnJheShzKSx0aGlzLno9bmV3IEZsb2F0NjRBcnJheShzKzEpLHRoaXMudj1uZXcgVWludDE2QXJyYXkocyl9X2NyZWF0ZUNhbnZhcyhlKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuIHQud2lkdGg9dC5oZWlnaHQ9ZSx0fWRyYXcoZSl7Y29uc3R7d2lkdGg6dCxhY3R1YWxCb3VuZGluZ0JveEFzY2VudDpyLGFjdHVhbEJvdW5kaW5nQm94RGVzY2VudDpuLGFjdHVhbEJvdW5kaW5nQm94TGVmdDppLGFjdHVhbEJvdW5kaW5nQm94UmlnaHQ6b309dGhpcy5jdHgubWVhc3VyZVRleHQoZSksYT1NYXRoLmNlaWwocikscz1NYXRoLm1pbih0aGlzLnNpemUtdGhpcy5idWZmZXIsTWF0aC5jZWlsKG8taSkpLGw9TWF0aC5taW4odGhpcy5zaXplLXRoaXMuYnVmZmVyLGErTWF0aC5jZWlsKG4pKSxjPXMrMip0aGlzLmJ1ZmZlcix1PWwrMip0aGlzLmJ1ZmZlcixoPU1hdGgubWF4KGMqdSwwKSxkPW5ldyBVaW50OENsYW1wZWRBcnJheShoKSxwPXtkYXRhOmQsd2lkdGg6YyxoZWlnaHQ6dSxnbHlwaFdpZHRoOnMsZ2x5cGhIZWlnaHQ6bCxnbHlwaFRvcDphLGdseXBoTGVmdDowLGdseXBoQWR2YW5jZTp0fTtpZigwPT09c3x8MD09PWwpcmV0dXJuIHA7Y29uc3R7Y3R4OmYsYnVmZmVyOm0sZ3JpZElubmVyOmcsZ3JpZE91dGVyOl99PXRoaXM7Zi5jbGVhclJlY3QobSxtLHMsbCksZi5maWxsVGV4dChlLG0sbSthKTtjb25zdCB5PWYuZ2V0SW1hZ2VEYXRhKG0sbSxzLGwpO18uZmlsbChmZCwwLGgpLGcuZmlsbCgwLDAsaCk7Zm9yKGxldCBlPTA7ZTxsO2UrKylmb3IobGV0IHQ9MDt0PHM7dCsrKXtjb25zdCByPXkuZGF0YVs0KihlKnMrdCkrM10vMjU1O2lmKDA9PT1yKWNvbnRpbnVlO2NvbnN0IG49KGUrbSkqYyt0K207aWYoMT09PXIpX1tuXT0wLGdbbl09ZmQ7ZWxzZXtjb25zdCBlPS41LXI7X1tuXT1lPjA/ZSplOjAsZ1tuXT1lPDA/ZSplOjB9fW1kKF8sMCwwLGMsdSxjLHRoaXMuZix0aGlzLnYsdGhpcy56KSxtZChnLG0sbSxzLGwsYyx0aGlzLmYsdGhpcy52LHRoaXMueik7Zm9yKGxldCBlPTA7ZTxoO2UrKyl7Y29uc3QgdD1NYXRoLnNxcnQoX1tlXSktTWF0aC5zcXJ0KGdbZV0pO2RbZV09TWF0aC5yb3VuZCgyNTUtMjU1Kih0L3RoaXMucmFkaXVzK3RoaXMuY3V0b2ZmKSl9cmV0dXJuIHB9fTtjbGFzcyBTZHtjb25zdHJ1Y3RvcihlPVtdLHQ9Q2Qpe2lmKHRoaXMuZGF0YT1lLHRoaXMubGVuZ3RoPXRoaXMuZGF0YS5sZW5ndGgsdGhpcy5jb21wYXJlPXQsdGhpcy5sZW5ndGg+MClmb3IobGV0IGU9KHRoaXMubGVuZ3RoPj4xKS0xO2U+PTA7ZS0tKXRoaXMuX2Rvd24oZSl9cHVzaChlKXt0aGlzLmRhdGEucHVzaChlKSx0aGlzLmxlbmd0aCsrLHRoaXMuX3VwKHRoaXMubGVuZ3RoLTEpfXBvcCgpe2lmKDA9PT10aGlzLmxlbmd0aClyZXR1cm47Y29uc3QgZT10aGlzLmRhdGFbMF0sdD10aGlzLmRhdGEucG9wKCk7cmV0dXJuIHRoaXMubGVuZ3RoLS0sdGhpcy5sZW5ndGg+MCYmKHRoaXMuZGF0YVswXT10LHRoaXMuX2Rvd24oMCkpLGV9cGVlaygpe3JldHVybiB0aGlzLmRhdGFbMF19X3VwKGUpe2NvbnN0e2RhdGE6dCxjb21wYXJlOnJ9PXRoaXMsbj10W2VdO2Zvcig7ZT4wOyl7Y29uc3QgaT1lLTE+PjEsbz10W2ldO2lmKHIobixvKT49MClicmVhazt0W2VdPW8sZT1pfXRbZV09bn1fZG93bihlKXtjb25zdHtkYXRhOnQsY29tcGFyZTpyfT10aGlzLG49dGhpcy5sZW5ndGg+PjEsaT10W2VdO2Zvcig7ZTxuOyl7bGV0IG49MSsoZTw8MSksbz10W25dO2NvbnN0IGE9bisxO2lmKGE8dGhpcy5sZW5ndGgmJnIodFthXSxvKTwwJiYobj1hLG89dFthXSkscihvLGkpPj0wKWJyZWFrO3RbZV09byxlPW59dFtlXT1pfX1mdW5jdGlvbiBDZChlLHQpe3JldHVybiBlPHQ/LTE6ZT50PzE6MH1mdW5jdGlvbiBNZChlLHQ9MSxyPSExKXtsZXQgbj0xLzAsaT0xLzAsbz0tMS8wLGE9LTEvMDtjb25zdCBzPWVbMF07Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aDtlKyspe2NvbnN0IHQ9c1tlXTsoIWV8fHQueDxuKSYmKG49dC54KSwoIWV8fHQueTxpKSYmKGk9dC55KSwoIWV8fHQueD5vKSYmKG89dC54KSwoIWV8fHQueT5hKSYmKGE9dC55KX1jb25zdCBsPU1hdGgubWluKG8tbixhLWkpO2xldCBjPWwvMjtjb25zdCB1PW5ldyBTZChbXSxrZCk7aWYoMD09PWwpcmV0dXJuIG5ldyBtKG4saSk7Zm9yKGxldCB0PW47dDxvO3QrPWwpZm9yKGxldCByPWk7cjxhO3IrPWwpdS5wdXNoKG5ldyBBZCh0K2MscitjLGMsZSkpO2xldCBoPWZ1bmN0aW9uKGUpe2xldCB0PTAscj0wLG49MDtjb25zdCBpPWVbMF07Zm9yKGxldCBlPTAsbz1pLmxlbmd0aCxhPW8tMTtlPG87YT1lKyspe2NvbnN0IG89aVtlXSxzPWlbYV0sbD1vLngqcy55LXMueCpvLnk7cis9KG8ueCtzLngpKmwsbis9KG8ueStzLnkpKmwsdCs9MypsfXJldHVybiBuZXcgQWQoci90LG4vdCwwLGUpfShlKSxkPXUubGVuZ3RoO2Zvcig7dS5sZW5ndGg7KXtjb25zdCBuPXUucG9wKCk7KG4uZD5oLmR8fCFoLmQpJiYoaD1uLHImJmNvbnNvbGUubG9nKFwiZm91bmQgYmVzdCAlZCBhZnRlciAlZCBwcm9iZXNcIixNYXRoLnJvdW5kKDFlNCpuLmQpLzFlNCxkKSksbi5tYXgtaC5kPD10fHwoYz1uLmgvMix1LnB1c2gobmV3IEFkKG4ucC54LWMsbi5wLnktYyxjLGUpKSx1LnB1c2gobmV3IEFkKG4ucC54K2Msbi5wLnktYyxjLGUpKSx1LnB1c2gobmV3IEFkKG4ucC54LWMsbi5wLnkrYyxjLGUpKSx1LnB1c2gobmV3IEFkKG4ucC54K2Msbi5wLnkrYyxjLGUpKSxkKz00KX1yZXR1cm4gciYmKGNvbnNvbGUubG9nKFwibnVtIHByb2JlczogXCIrZCksY29uc29sZS5sb2coXCJiZXN0IGRpc3RhbmNlOiBcIitoLmQpKSxoLnB9ZnVuY3Rpb24ga2QoZSx0KXtyZXR1cm4gdC5tYXgtZS5tYXh9ZnVuY3Rpb24gQWQoZSx0LHIsbil7dGhpcy5wPW5ldyBtKGUsdCksdGhpcy5oPXIsdGhpcy5kPWZ1bmN0aW9uKGUsdCl7bGV0IHI9ITEsbj0xLzA7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IG89dFtpXTtmb3IobGV0IHQ9MCxpPW8ubGVuZ3RoLGE9aS0xO3Q8aTthPXQrKyl7Y29uc3QgaT1vW3RdLHM9b1thXTtpLnk+ZS55IT1zLnk+ZS55JiZlLng8KHMueC1pLngpKihlLnktaS55KS8ocy55LWkueSkraS54JiYocj0hciksbj1NYXRoLm1pbihuLFFzKGUsaSxzKSl9fXJldHVybihyPzE6LTEpKk1hdGguc3FydChuKX0odGhpcy5wLG4pLHRoaXMubWF4PXRoaXMuZCt0aGlzLmgqTWF0aC5TUVJUMn1jb25zdCBJZD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksUGQ9TWF0aC5zcXJ0KDIpO2Z1bmN0aW9uIHpkKGUsdCl7cmV0dXJuIHRbMV0hPT1JZD9mdW5jdGlvbihlLHQscil7bGV0IG49MCxpPTA7c3dpdGNoKHQ9TWF0aC5hYnModCkscj1NYXRoLmFicyhyKSxlKXtjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcInRvcFwiOmk9ci03O2JyZWFrO2Nhc2VcImJvdHRvbS1yaWdodFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6Y2FzZVwiYm90dG9tXCI6aT03LXJ9c3dpdGNoKGUpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcImJvdHRvbS1yaWdodFwiOmNhc2VcInJpZ2h0XCI6bj0tdDticmVhaztjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6Y2FzZVwibGVmdFwiOm49dH1yZXR1cm5bbixpXX0oZSx0WzBdLHRbMV0pOmZ1bmN0aW9uKGUsdCl7bGV0IHI9MCxuPTA7dDwwJiYodD0wKTtjb25zdCBpPXQvUGQ7c3dpdGNoKGUpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcInRvcC1sZWZ0XCI6bj1pLTc7YnJlYWs7Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpuPTctaTticmVhaztjYXNlXCJib3R0b21cIjpuPTctdDticmVhaztjYXNlXCJ0b3BcIjpuPXQtN31zd2l0Y2goZSl7Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6cj0taTticmVhaztjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6cj1pO2JyZWFrO2Nhc2VcImxlZnRcIjpyPXQ7YnJlYWs7Y2FzZVwicmlnaHRcIjpyPS10fXJldHVybltyLG5dfShlLHRbMF0pfWZ1bmN0aW9uIERkKGUsdCxyLG4saSxvLGEscyxsLGMpe2UuY3JlYXRlQXJyYXlzKCksZS50aWxlUGl4ZWxSYXRpbz12cy8oNTEyKmUub3ZlcnNjYWxpbmcpLGUuY29tcGFyZVRleHQ9e30sZS5pY29uc05lZWRMaW5lYXI9ITE7Y29uc3QgdT1lLmxheWVyc1swXS5sYXlvdXQsaD1lLmxheWVyc1swXS5fdW5ldmFsdWF0ZWRMYXlvdXQuX3ZhbHVlcyxkPXt9O2lmKFwiY29tcG9zaXRlXCI9PT1lLnRleHRTaXplRGF0YS5raW5kKXtjb25zdHttaW5ab29tOnQsbWF4Wm9vbTpyfT1lLnRleHRTaXplRGF0YTtkLmNvbXBvc2l0ZVRleHRTaXplcz1baFtcInRleHQtc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBJbyh0KSxzKSxoW1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IElvKHIpLHMpXX1pZihcImNvbXBvc2l0ZVwiPT09ZS5pY29uU2l6ZURhdGEua2luZCl7Y29uc3R7bWluWm9vbTp0LG1heFpvb206cn09ZS5pY29uU2l6ZURhdGE7ZC5jb21wb3NpdGVJY29uU2l6ZXM9W2hbXCJpY29uLXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgSW8odCkscyksaFtcImljb24tc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBJbyhyKSxzKV19ZC5sYXlvdXRUZXh0U2l6ZT1oW1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IElvKGwrMSkscyksZC5sYXlvdXRJY29uU2l6ZT1oW1wiaWNvbi1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IElvKGwrMSkscyksZC50ZXh0TWF4U2l6ZT1oW1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IElvKDE4KSxzKTtjb25zdCBwPVwibWFwXCI9PT11LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT11LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksZj11LmdldChcInRleHQtc2l6ZVwiKTtmb3IoY29uc3QgbyBvZiBlLmZlYXR1cmVzKXtjb25zdCBsPXUuZ2V0KFwidGV4dC1mb250XCIpLmV2YWx1YXRlKG8se30scykuam9pbihcIixcIiksaD1mLmV2YWx1YXRlKG8se30scyksbT1kLmxheW91dFRleHRTaXplLmV2YWx1YXRlKG8se30scyksZz0oZC5sYXlvdXRJY29uU2l6ZS5ldmFsdWF0ZShvLHt9LHMpLHtob3Jpem9udGFsOnt9LHZlcnRpY2FsOnZvaWQgMH0pLF89by50ZXh0O2xldCB5LHY9WzAsMF07aWYoXyl7Y29uc3Qgbj1fLnRvU3RyaW5nKCksYT0yNCp1LmdldChcInRleHQtbGV0dGVyLXNwYWNpbmdcIikuZXZhbHVhdGUobyx7fSxzKSxjPTI0KnUuZ2V0KFwidGV4dC1saW5lLWhlaWdodFwiKS5ldmFsdWF0ZShvLHt9LHMpLGQ9dW8obik/YTowLGY9dS5nZXQoXCJ0ZXh0LWFuY2hvclwiKS5ldmFsdWF0ZShvLHt9LHMpLHk9dS5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKTtpZigheSl7Y29uc3QgZT11LmdldChcInRleHQtcmFkaWFsLW9mZnNldFwiKS5ldmFsdWF0ZShvLHt9LHMpO3Y9ZT96ZChmLFsyNCplLElkXSk6dS5nZXQoXCJ0ZXh0LW9mZnNldFwiKS5ldmFsdWF0ZShvLHt9LHMpLm1hcChlPT4yNCplKX1sZXQgeD1wP1wiY2VudGVyXCI6dS5nZXQoXCJ0ZXh0LWp1c3RpZnlcIikuZXZhbHVhdGUobyx7fSxzKTtjb25zdCBiPVwicG9pbnRcIj09PXUuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSx3PWI/MjQqdS5nZXQoXCJ0ZXh0LW1heC13aWR0aFwiKS5ldmFsdWF0ZShvLHt9LHMpOjEvMCxUPW89PntlLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJmNvKG4pJiYoZy52ZXJ0aWNhbD1IaChfLHQscixpLGwsdyxjLGYsbyxkLHYsJGgudmVydGljYWwsITAsbSxoKSl9O2lmKCFwJiZ5KXtjb25zdCBlPVwiYXV0b1wiPT09eD95Lm1hcChlPT5SZChlKSk6W3hdO2xldCBuPSExO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCBhPWVbb107aWYoIWcuaG9yaXpvbnRhbFthXSlpZihuKWcuaG9yaXpvbnRhbFthXT1nLmhvcml6b250YWxbMF07ZWxzZXtjb25zdCBlPUhoKF8sdCxyLGksbCx3LGMsXCJjZW50ZXJcIixhLGQsdiwkaC5ob3Jpem9udGFsLCExLG0saCk7ZSYmKGcuaG9yaXpvbnRhbFthXT1lLG49MT09PWUucG9zaXRpb25lZExpbmVzLmxlbmd0aCl9fVQoXCJsZWZ0XCIpfWVsc2V7aWYoXCJhdXRvXCI9PT14JiYoeD1SZChmKSksYnx8dS5nZXQoXCJ0ZXh0LXdyaXRpbmctbW9kZVwiKS5pbmRleE9mKFwiaG9yaXpvbnRhbFwiKT49MHx8IWNvKG4pKXtjb25zdCBlPUhoKF8sdCxyLGksbCx3LGMsZix4LGQsdiwkaC5ob3Jpem9udGFsLCExLG0saCk7ZSYmKGcuaG9yaXpvbnRhbFt4XT1lKX1UKGI/XCJsZWZ0XCI6eCl9fWxldCB4PSExO2lmKG8uaWNvbiYmby5pY29uLm5hbWUpe2NvbnN0IHQ9bltvLmljb24ubmFtZV07dCYmKHk9aWQoaVtvLmljb24ubmFtZV0sdS5nZXQoXCJpY29uLW9mZnNldFwiKS5ldmFsdWF0ZShvLHt9LHMpLHUuZ2V0KFwiaWNvbi1hbmNob3JcIikuZXZhbHVhdGUobyx7fSxzKSkseD10LnNkZix2b2lkIDA9PT1lLnNkZkljb25zP2Uuc2RmSWNvbnM9dC5zZGY6ZS5zZGZJY29ucyE9PXQuc2RmJiZWKFwiU3R5bGUgc2hlZXQgd2FybmluZzogQ2Fubm90IG1peCBTREYgYW5kIG5vbi1TREYgaWNvbnMgaW4gb25lIGJ1ZmZlclwiKSwodC5waXhlbFJhdGlvIT09ZS5waXhlbFJhdGlvfHwwIT09dS5nZXQoXCJpY29uLXJvdGF0ZVwiKS5jb25zdGFudE9yKDEpKSYmKGUuaWNvbnNOZWVkTGluZWFyPSEwKSl9Y29uc3QgYj1GZChnLmhvcml6b250YWwpfHxnLnZlcnRpY2FsO2UuaWNvbnNJblRleHR8fChlLmljb25zSW5UZXh0PSEhYiYmYi5pY29uc0luVGV4dCksKGJ8fHkpJiZMZChlLG8sZyx5LG4sZCxtLDAsdix4LGEscyxjKX1vJiZlLmdlbmVyYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKGwsZS5jb2xsaXNpb25Cb3hBcnJheSl9ZnVuY3Rpb24gUmQoZSl7c3dpdGNoKGUpe2Nhc2VcInJpZ2h0XCI6Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6cmV0dXJuXCJyaWdodFwiO2Nhc2VcImxlZnRcIjpjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6cmV0dXJuXCJsZWZ0XCJ9cmV0dXJuXCJjZW50ZXJcIn1mdW5jdGlvbiBMZChlLHQscixuLGksbyxhLHMsbCxjLHUsaCxkKXtsZXQgcD1vLnRleHRNYXhTaXplLmV2YWx1YXRlKHQse30saCk7dm9pZCAwPT09cCYmKHA9YSk7Y29uc3QgZj1lLmxheWVyc1swXS5sYXlvdXQsbT1mLmdldChcImljb24tb2Zmc2V0XCIpLmV2YWx1YXRlKHQse30saCksZz1GZChyLmhvcml6b250YWwpfHxyLnZlcnRpY2FsLF89XCJnbG9iZVwiPT09ZC5uYW1lLHk9YS8yNCx4PWUudGlsZVBpeGVsUmF0aW8qcC8yNCxiPShBPWUub3ZlcnNjYWxpbmcsZS56b29tPjE4JiZBPjImJihBPj49MSksTWF0aC5tYXgodnMvKDUxMipBKSwxKSpmLmdldChcInN5bWJvbC1zcGFjaW5nXCIpKSx3PWYuZ2V0KFwidGV4dC1wYWRkaW5nXCIpKmUudGlsZVBpeGVsUmF0aW8sVD1mLmdldChcImljb24tcGFkZGluZ1wiKSplLnRpbGVQaXhlbFJhdGlvLEU9dihmLmdldChcInRleHQtbWF4LWFuZ2xlXCIpKSxTPVwibWFwXCI9PT1mLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT1mLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksQz1cIm1hcFwiPT09Zi5nZXQoXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09Zi5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLE09Zi5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLGs9Yi8yO3ZhciBBO2NvbnN0IEk9Zi5nZXQoXCJpY29uLXRleHQtZml0XCIpO2xldCBQO24mJlwibm9uZVwiIT09SSYmKGUuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmci52ZXJ0aWNhbCYmKFA9b2QobixyLnZlcnRpY2FsLEksZi5nZXQoXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIiksbSx5KSksZyYmKG49b2QobixnLEksZi5nZXQoXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIiksbSx5KSkpO2NvbnN0IHo9KGEscyxwKT0+e2lmKHMueDwwfHxzLng+PXZzfHxzLnk8MHx8cy55Pj12cylyZXR1cm47bGV0IGY9bnVsbDtpZihfKXtjb25zdHt4OmUseTp0LHo6cn09ZC5wcm9qZWN0VGlsZVBvaW50KHMueCxzLnkscCk7Zj17YW5jaG9yOm5ldyBhZChlLHQsciwwLHZvaWQgMCksdXA6ZC51cFZlY3RvcihwLHMueCxzLnkpfX0hZnVuY3Rpb24oZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLF8seSx2LHgsYix3LFQsRSl7Y29uc3QgUz1lLmFkZFRvTGluZVZlcnRleEFycmF5KHQsbik7bGV0IEMsTSxrLEEsSSxQLHosRD0wLFI9MCxMPTAsTz0wLEI9LTEsRj0tMTtjb25zdCBqPXt9O2xldCBVPVVhLmV4cG9ydHMoXCJcIik7Y29uc3QgTj1yP3IuYW5jaG9yOnQ7bGV0IEc9MCxxPTA7aWYodm9pZCAwPT09bC5fdW5ldmFsdWF0ZWRMYXlvdXQuZ2V0VmFsdWUoXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIik/W0cscV09bC5sYXlvdXQuZ2V0KFwidGV4dC1vZmZzZXRcIikuZXZhbHVhdGUoeCx7fSxFKS5tYXAoZT0+MjQqZSk6KEc9MjQqbC5sYXlvdXQuZ2V0KFwidGV4dC1yYWRpYWwtb2Zmc2V0XCIpLmV2YWx1YXRlKHgse30sRSkscT1JZCksZS5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZpLnZlcnRpY2FsKXtjb25zdCBlPWkudmVydGljYWw7aWYoZilQPVVkKGUpLHMmJih6PVVkKHMpKTtlbHNle2NvbnN0IHI9bC5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGVcIikuZXZhbHVhdGUoeCx7fSxFKSs5MDtrPWpkKGMsTix0LHUsaCxkLGUscCxyLG0pLHMmJihBPWpkKGMsTix0LHUsaCxkLHMsXyxyKSl9fWlmKG8pe2NvbnN0IG49bC5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGVcIikuZXZhbHVhdGUoeCx7fSxFKSxpPVwibm9uZVwiIT09bC5sYXlvdXQuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKSxhPXZkKG8sbix3LGkpLHA9cz92ZChzLG4sdyxpKTp2b2lkIDA7TT1qZChjLE4sdCx1LGgsZCxvLF8sbiksRD00KmEubGVuZ3RoO2NvbnN0IGY9ZS5pY29uU2l6ZURhdGE7bGV0IG09bnVsbDtcInNvdXJjZVwiPT09Zi5raW5kPyhtPVtjaCpsLmxheW91dC5nZXQoXCJpY29uLXNpemVcIikuZXZhbHVhdGUoeCx7fSxFKV0sbVswXT5PZCYmVihlLmxheWVySWRzWzBdKyc6IFZhbHVlIGZvciBcImljb24tc2l6ZVwiIGlzID49IDI1NS4gUmVkdWNlIHlvdXIgXCJpY29uLXNpemVcIi4nKSk6XCJjb21wb3NpdGVcIj09PWYua2luZCYmKG09W2NoKmIuY29tcG9zaXRlSWNvblNpemVzWzBdLmV2YWx1YXRlKHgse30sRSksY2gqYi5jb21wb3NpdGVJY29uU2l6ZXNbMV0uZXZhbHVhdGUoeCx7fSxFKV0sKG1bMF0+T2R8fG1bMV0+T2QpJiZWKGUubGF5ZXJJZHNbMF0rJzogVmFsdWUgZm9yIFwiaWNvbi1zaXplXCIgaXMgPj0gMjU1LiBSZWR1Y2UgeW91ciBcImljb24tc2l6ZVwiLicpKSxlLmFkZFN5bWJvbHMoZS5pY29uLGEsbSx2LHkseCwhMSxyLHQsUy5saW5lU3RhcnRJbmRleCxTLmxpbmVMZW5ndGgsLTEsVCxFKSxCPWUuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMSxwJiYoUj00KnAubGVuZ3RoLGUuYWRkU3ltYm9scyhlLmljb24scCxtLHYseSx4LCRoLnZlcnRpY2FsLHIsdCxTLmxpbmVTdGFydEluZGV4LFMubGluZUxlbmd0aCwtMSxULEUpLEY9ZS5pY29uLnBsYWNlZFN5bWJvbEFycmF5Lmxlbmd0aC0xKX1mb3IoY29uc3QgbiBpbiBpLmhvcml6b250YWwpe2NvbnN0IG89aS5ob3Jpem9udGFsW25dO0N8fChVPVVhLmV4cG9ydHMoby50ZXh0KSxmP0k9VWQobyk6Qz1qZChjLE4sdCx1LGgsZCxvLHAsbC5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGVcIikuZXZhbHVhdGUoeCx7fSxFKSxtKSk7Y29uc3Qgcz0xPT09by5wb3NpdGlvbmVkTGluZXMubGVuZ3RoO2lmKEwrPUJkKGUscix0LG8sYSxsLGYseCxtLFMsaS52ZXJ0aWNhbD8kaC5ob3Jpem9udGFsOiRoLmhvcml6b250YWxPbmx5LHM/T2JqZWN0LmtleXMoaS5ob3Jpem9udGFsKTpbbl0saixCLGIsVCxFKSxzKWJyZWFrfWkudmVydGljYWwmJihPKz1CZChlLHIsdCxpLnZlcnRpY2FsLGEsbCxmLHgsbSxTLCRoLnZlcnRpY2FsLFtcInZlcnRpY2FsXCJdLGosRixiLFQsRSkpO2xldCBaPS0xO2NvbnN0ICQ9KGUsdCk9PmU/TWF0aC5tYXgoZSx0KTp0O1o9JChJLFopLFo9JChQLFopLFo9JCh6LFopO2NvbnN0IFc9Wj4tMT8xOjA7ZS5nbHlwaE9mZnNldEFycmF5Lmxlbmd0aD49S3AuTUFYX0dMWVBIUyYmVihcIlRvbyBtYW55IGdseXBocyBiZWluZyByZW5kZXJlZCBpbiBhIHRpbGUuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMjkwN1wiKSx2b2lkIDAhPT14LnNvcnRLZXkmJmUuYWRkVG9Tb3J0S2V5UmFuZ2VzKGUuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCx4LnNvcnRLZXkpLGUuc3ltYm9sSW5zdGFuY2VzLmVtcGxhY2VCYWNrKE4ueCxOLnksTi56LHQueCx0Lnksai5yaWdodD49MD9qLnJpZ2h0Oi0xLGouY2VudGVyPj0wP2ouY2VudGVyOi0xLGoubGVmdD49MD9qLmxlZnQ6LTEsai52ZXJ0aWNhbD49MD9qLnZlcnRpY2FsOi0xLEIsRixVLHZvaWQgMCE9PUM/QzplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT1DP0MrMTplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT1rP2s6ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09az9rKzE6ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09TT9NOmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PU0/TSsxOmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLEF8fGUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLEE/QSsxOmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHUsTCxPLEQsUixXLDAsRyxxLFopfShlLHMsZixhLHIsbixpLFAsZS5sYXllcnNbMF0sZS5jb2xsaXNpb25Cb3hBcnJheSx0LmluZGV4LHQuc291cmNlTGF5ZXJJbmRleCxlLmluZGV4LHcsUyxsLDAsVCxDLG0sdCxvLGMsdSxoKX07aWYoXCJsaW5lXCI9PT1NKWZvcihjb25zdCBpIG9mIHBkKHQuZ2VvbWV0cnksMCwwLHZzLHZzKSl7Y29uc3QgdD1kZChpLGIsRSxyLnZlcnRpY2FsfHxnLG4sMjQseCxlLm92ZXJzY2FsaW5nLHZzKTtmb3IoY29uc3QgciBvZiB0KXtjb25zdCB0PWc7dCYmTmQoZSx0LnRleHQsayxyKXx8eihpLHIsaCl9fWVsc2UgaWYoXCJsaW5lLWNlbnRlclwiPT09TSl7Zm9yKGNvbnN0IGUgb2YgdC5nZW9tZXRyeSlpZihlLmxlbmd0aD4xKXtjb25zdCB0PWhkKGUsRSxyLnZlcnRpY2FsfHxnLG4sMjQseCk7dCYmeihlLHQsaCl9fWVsc2UgaWYoXCJQb2x5Z29uXCI9PT10LnR5cGUpZm9yKGNvbnN0IGUgb2YgWGModC5nZW9tZXRyeSwwKSl7Y29uc3QgdD1NZChlLDE2KTt6KGVbMF0sbmV3IGFkKHQueCx0LnksMCwwLHZvaWQgMCksaCl9ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PXQudHlwZSlmb3IoY29uc3QgZSBvZiB0Lmdlb21ldHJ5KXooZSxuZXcgYWQoZVswXS54LGVbMF0ueSwwLDAsdm9pZCAwKSxoKTtlbHNlIGlmKFwiUG9pbnRcIj09PXQudHlwZSlmb3IoY29uc3QgZSBvZiB0Lmdlb21ldHJ5KWZvcihjb25zdCB0IG9mIGUpeihbdF0sbmV3IGFkKHQueCx0LnksMCwwLHZvaWQgMCksaCl9Y29uc3QgT2Q9MzI2NDA7ZnVuY3Rpb24gQmQoZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYsZyxfKXtjb25zdCB5PWZ1bmN0aW9uKGUsdCxyLG4saSxvLGEscyl7Y29uc3QgbD1bXTtpZigwPT09dC5wb3NpdGlvbmVkTGluZXMubGVuZ3RoKXJldHVybiBsO2NvbnN0IGM9bi5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGVcIikuZXZhbHVhdGUobyx7fSkqTWF0aC5QSS8xODAsdT1mdW5jdGlvbihlKXtjb25zdCB0PWVbMF0scj1lWzFdLG49dCpyO3JldHVybiBuPjA/W3QsLXJdOm48MD9bLXQscl06MD09PXQ/W3IsdF06W3IsLXRdfShyKTtsZXQgaD1NYXRoLmFicyh0LnRvcC10LmJvdHRvbSk7Zm9yKGNvbnN0IGUgb2YgdC5wb3NpdGlvbmVkTGluZXMpaC09ZS5saW5lT2Zmc2V0O2NvbnN0IGQ9dC5wb3NpdGlvbmVkTGluZXMubGVuZ3RoLHA9aC9kO2xldCBmPXQudG9wLXJbMV07Zm9yKGxldCBlPTA7ZTxkOysrZSl7Y29uc3Qgbj10LnBvc2l0aW9uZWRMaW5lc1tlXTtmPUVkKHQscCxmLGUpO2Zvcihjb25zdCBlIG9mIG4ucG9zaXRpb25lZEdseXBocyl7aWYoIWUucmVjdCljb250aW51ZTtjb25zdCBuPWUucmVjdHx8e307bGV0IG89NCxoPSEwLGQ9MSxwPTA7aWYoZS5pbWFnZU5hbWUpe2NvbnN0IHQ9YVtlLmltYWdlTmFtZV07aWYoIXQpY29udGludWU7aWYodC5zZGYpe1YoXCJTREYgaW1hZ2VzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGZvcm1hdHRlZCB0ZXh0IGFuZCB3aWxsIGJlIGlnbm9yZWQuXCIpO2NvbnRpbnVlfWg9ITEsZD10LnBpeGVsUmF0aW8sbz0xL2R9Y29uc3QgZz0oaXx8cykmJmUudmVydGljYWwsXz1lLm1ldHJpY3MuYWR2YW5jZSplLnNjYWxlLzIseT1lLm1ldHJpY3Msdj1lLnJlY3Q7aWYobnVsbD09PXYpY29udGludWU7cyYmdC52ZXJ0aWNhbGl6YWJsZSYmKHA9ZS5pbWFnZU5hbWU/Xy1lLm1ldHJpY3Mud2lkdGgqZS5zY2FsZS8yOjApO2NvbnN0IHg9aT9bZS54K18sZS55XTpbMCwwXTtsZXQgYj1bMCwwXSx3PVswLDBdLFQ9ITE7aXx8KGc/KHc9W2UueCtfK3VbMF0sZS55K3VbMV0tcF0sVD0hMCk6Yj1bZS54K18rclswXSxlLnkrclsxXS1wXSk7Y29uc3QgRT12LncqZS5zY2FsZS8oZCooZS5sb2NhbEdseXBoPzI6MSkpLFM9di5oKmUuc2NhbGUvKGQqKGUubG9jYWxHbHlwaD8yOjEpKTtsZXQgQyxNLGssQTtpZihnKXtjb25zdCB0PWUueS1mLHI9bmV3IG0oLV8sXy10KSxuPS1NYXRoLlBJLzIsaT1uZXcgbSguLi53KTtDPW5ldyBtKC1fK2JbMF0sYlsxXSksQy5fcm90YXRlQXJvdW5kKG4scikuX2FkZChpKSxDLngrPS10K18sQy55LT0oeS5sZWZ0LW8pKmUuc2NhbGU7Y29uc3QgYT1lLmltYWdlTmFtZT95LmFkdmFuY2UqZS5zY2FsZToyNCplLnNjYWxlLHM9U3RyaW5nLmZyb21DaGFyQ29kZShlLmdseXBoKTtnaChzKT9DLngrPSgxLW8pKmUuc2NhbGU6X2gocyk/Qy54Kz1hLXkuaGVpZ2h0KmUuc2NhbGUrKC1vLTEpKmUuc2NhbGU6Qy54Kz1lLmltYWdlTmFtZXx8eS53aWR0aCsyKm89PT12LncmJnkuaGVpZ2h0KzIqbz09PXYuaD8oYS1TKS8yOihhLSh5LmhlaWdodCsyKm8pKmUuc2NhbGUpLzIsTT1uZXcgbShDLngsQy55LUUpLGs9bmV3IG0oQy54K1MsQy55KSxBPW5ldyBtKEMueCtTLEMueS1FKX1lbHNle2NvbnN0IHQ9KHkubGVmdC1vKSplLnNjYWxlLV8rYlswXSxyPSgteS50b3AtbykqZS5zY2FsZStiWzFdLG49dCtFLGk9citTO0M9bmV3IG0odCxyKSxNPW5ldyBtKG4sciksaz1uZXcgbSh0LGkpLEE9bmV3IG0obixpKX1pZihjKXtsZXQgZTtlPWk/bmV3IG0oMCwwKTpUP25ldyBtKHVbMF0sdVsxXSk6bmV3IG0oclswXSxyWzFdKSxDLl9yb3RhdGVBcm91bmQoYyxlKSxNLl9yb3RhdGVBcm91bmQoYyxlKSxrLl9yb3RhdGVBcm91bmQoYyxlKSxBLl9yb3RhdGVBcm91bmQoYyxlKX1jb25zdCBJPW5ldyBtKDAsMCksUD1uZXcgbSgwLDApO2wucHVzaCh7dGw6Qyx0cjpNLGJsOmssYnI6QSx0ZXg6bix3cml0aW5nTW9kZTp0LndyaXRpbmdNb2RlLGdseXBoT2Zmc2V0Ongsc2VjdGlvbkluZGV4OmUuc2VjdGlvbkluZGV4LGlzU0RGOmgscGl4ZWxPZmZzZXRUTDpJLHBpeGVsT2Zmc2V0QlI6UCxtaW5Gb250U2NhbGVYOjAsbWluRm9udFNjYWxlWTowfSl9fXJldHVybiBsfSgwLG4sbCxvLGEscyxpLGUuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCksdj1lLnRleHRTaXplRGF0YTtsZXQgeD1udWxsO1wic291cmNlXCI9PT12LmtpbmQ/KHg9W2NoKm8ubGF5b3V0LmdldChcInRleHQtc2l6ZVwiKS5ldmFsdWF0ZShzLHt9LF8pXSx4WzBdPk9kJiZWKGUubGF5ZXJJZHNbMF0rJzogVmFsdWUgZm9yIFwidGV4dC1zaXplXCIgaXMgPj0gMjU1LiBSZWR1Y2UgeW91ciBcInRleHQtc2l6ZVwiLicpKTpcImNvbXBvc2l0ZVwiPT09di5raW5kJiYoeD1bY2gqZi5jb21wb3NpdGVUZXh0U2l6ZXNbMF0uZXZhbHVhdGUocyx7fSxfKSxjaCpmLmNvbXBvc2l0ZVRleHRTaXplc1sxXS5ldmFsdWF0ZShzLHt9LF8pXSwoeFswXT5PZHx8eFsxXT5PZCkmJlYoZS5sYXllcklkc1swXSsnOiBWYWx1ZSBmb3IgXCJ0ZXh0LXNpemVcIiBpcyA+PSAyNTUuIFJlZHVjZSB5b3VyIFwidGV4dC1zaXplXCIuJykpLGUuYWRkU3ltYm9scyhlLnRleHQseSx4LGwsYSxzLHUsdCxyLGMubGluZVN0YXJ0SW5kZXgsYy5saW5lTGVuZ3RoLHAsZyxfKTtmb3IoY29uc3QgdCBvZiBoKWRbdF09ZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5Lmxlbmd0aC0xO3JldHVybiA0KnkubGVuZ3RofWZ1bmN0aW9uIEZkKGUpe2Zvcihjb25zdCB0IGluIGUpcmV0dXJuIGVbdF07cmV0dXJuIG51bGx9ZnVuY3Rpb24gamQoZSx0LHIsbixpLG8sYSxzLGwsYyl7bGV0IHU9YS50b3AsaD1hLmJvdHRvbSxkPWEubGVmdCxwPWEucmlnaHQ7Y29uc3QgZj1hLmNvbGxpc2lvblBhZGRpbmc7aWYoZiYmKGQtPWZbMF0sdS09ZlsxXSxwKz1mWzJdLGgrPWZbM10pLGwpe2NvbnN0IGU9bmV3IG0oZCx1KSx0PW5ldyBtKHAsdSkscj1uZXcgbShkLGgpLG49bmV3IG0ocCxoKSxpPXYobCk7bGV0IG89bmV3IG0oMCwwKTtjJiYobz1uZXcgbShjWzBdLGNbMV0pKSxlLl9yb3RhdGVBcm91bmQoaSxvKSx0Ll9yb3RhdGVBcm91bmQoaSxvKSxyLl9yb3RhdGVBcm91bmQoaSxvKSxuLl9yb3RhdGVBcm91bmQoaSxvKSxkPU1hdGgubWluKGUueCx0Lngsci54LG4ueCkscD1NYXRoLm1heChlLngsdC54LHIueCxuLngpLHU9TWF0aC5taW4oZS55LHQueSxyLnksbi55KSxoPU1hdGgubWF4KGUueSx0Lnksci55LG4ueSl9cmV0dXJuIGUuZW1wbGFjZUJhY2sodC54LHQueSx0Lnosci54LHIueSxkLHUscCxoLHMsbixpLG8pLGUubGVuZ3RoLTF9ZnVuY3Rpb24gVWQoZSl7ZS5jb2xsaXNpb25QYWRkaW5nJiYoZS50b3AtPWUuY29sbGlzaW9uUGFkZGluZ1sxXSxlLmJvdHRvbSs9ZS5jb2xsaXNpb25QYWRkaW5nWzNdKTtjb25zdCB0PWUuYm90dG9tLWUudG9wO3JldHVybiB0PjA/TWF0aC5tYXgoMTAsdCk6bnVsbH1mdW5jdGlvbiBOZChlLHQscixuKXtjb25zdCBpPWUuY29tcGFyZVRleHQ7aWYodCBpbiBpKXtjb25zdCBlPWlbdF07Zm9yKGxldCB0PWUubGVuZ3RoLTE7dD49MDt0LS0paWYobi5kaXN0KGVbdF0pPHIpcmV0dXJuITB9ZWxzZSBpW3RdPVtdO3JldHVybiBpW3RdLnB1c2gobiksITF9Y29uc3QgVmQ9SG8oW3t0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX2dsb2JlX3Bvc1wiLGNvbXBvbmVudHM6M30se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfdXZcIixjb21wb25lbnRzOjJ9XSkse21lbWJlcnM6R2R9PVZkLHFkPUhvKFt7bmFtZTpcImFfcG9zXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9XSk7dmFyIFpkPUhvKFt7bmFtZTpcImFfcG9zXCIsdHlwZTpcIkludDE2XCIsY29tcG9uZW50czoyfV0pO2NvbnN0ICRkPXZzL01hdGguUEkvMixXZD0yKk1zKDEsMCkqJGQqTWF0aC5QSSxYZD1bNjQsMzIsMTZdLEhkPS0kZCxZZD0kZCxLZD1bbmV3IHRjKFtIZCxIZCxIZF0sW1lkLFlkLFlkXSksbmV3IHRjKFtIZCxIZCxIZF0sWzAsMCxZZF0pLG5ldyB0YyhbMCxIZCxIZF0sW1lkLDAsWWRdKSxuZXcgdGMoW0hkLDAsSGRdLFswLFlkLFlkXSksbmV3IHRjKFswLDAsSGRdLFtZZCxZZCxZZF0pXTtmdW5jdGlvbiBKZChlLHQscixuPSEwKXtjb25zdCBpPURsKFtdLGUuX2NhbWVyYS5wb3NpdGlvbixlLndvcmxkU2l6ZSksbz1bdCxyLDEsMV07JGwobyxvLGUucGl4ZWxNYXRyaXhJbnZlcnNlKSxxbChvLG8sMS9vWzNdKTtjb25zdCBhPUxsKFtdLE5sKFtdLG8saSkpLHM9ZS5nbG9iZU1hdHJpeCxsPVtzWzEyXSxzWzEzXSxzWzE0XV0sYz1ObChbXSxsLGkpLHU9Q2woYyksaD1MbChbXSxjKSxkPWUud29ybGRTaXplLygyKk1hdGguUEkpLHA9T2woaCxhKSxmPU1hdGguYXNpbihkL3UpO2lmKGY8TWF0aC5hY29zKHApKXtpZighbilyZXR1cm4gbnVsbDtjb25zdCBlPVtdLHQ9W107RGwoZSxhLHUvcCksTGwodCxObCh0LGUsYykpLExsKGEsa2woYSxjLERsKGEsdCxNYXRoLnRhbihmKSp1KSkpfWNvbnN0IG09W107bmV3IEpsKGksYSkuY2xvc2VzdFBvaW50T25TcGhlcmUobCxkLG0pO2NvbnN0IGc9TGwoW10sWShzLDApKSxfPUxsKFtdLFkocywxKSkseT1MbChbXSxZKHMsMikpLHY9T2woZyxtKSxiPU9sKF8sbSksdz1PbCh5LG0pLFQ9eChNYXRoLmFzaW4oLWIvZCkpO2xldCBFPXgoTWF0aC5hdGFuMih2LHcpKTtFPWUuY2VudGVyLmxuZytmdW5jdGlvbihlLHQpe2NvbnN0IHI9KHQtZSsxODApJTM2MC0xODA7cmV0dXJuIHI8LTE4MD9yKzM2MDpyfShlLmNlbnRlci5sbmcsRSk7Y29uc3QgQz1TcyhFKSxNPVMoQ3MoVCksMCwxKTtyZXR1cm4gbmV3IERzKEMsTSl9Y2xhc3MgUWR7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMuYT1ObChbXSxlLHIpLHRoaXMuYj1ObChbXSx0LHIpLHRoaXMuY2VudGVyPXI7Y29uc3Qgbj1MbChbXSx0aGlzLmEpLGk9TGwoW10sdGhpcy5iKTt0aGlzLmFuZ2xlPU1hdGguYWNvcyhPbChuLGkpKX19ZnVuY3Rpb24gZXAoZSx0KXtpZigwPT09ZS5hbmdsZSlyZXR1cm4gbnVsbDtsZXQgcjtyZXR1cm4gcj0wPT09ZS5hW3RdPzEvZS5hbmdsZSouNSpNYXRoLlBJOjEvZS5hbmdsZSpNYXRoLmF0YW4oZS5iW3RdL2UuYVt0XS9NYXRoLnNpbihlLmFuZ2xlKS0xL01hdGgudGFuKGUuYW5nbGUpKSxyPDB8fHI+MT9udWxsOmZ1bmN0aW9uKGUsdCxyLG4pe2NvbnN0IGk9TWF0aC5zaW4ocik7cmV0dXJuIGUqKE1hdGguc2luKCgxLW4pKnIpL2kpK3QqKE1hdGguc2luKG4qcikvaSl9KGUuYVt0XSxlLmJbdF0sZS5hbmdsZSxTKHIsMCwxKSkrZS5jZW50ZXJbdF19ZnVuY3Rpb24gdHAoZSl7aWYoZS56PD0xKXJldHVybiBLZFtlLnorMiplLnkrZS54XTtjb25zdCB0PWFwKG9wKGUpKTtyZXR1cm4gdGMuZnJvbVBvaW50cyh0KX1mdW5jdGlvbiBycChlLHQscil7cmV0dXJuIERsKGUsZSwxLXIpLFJsKGUsZSx0LHIpfWZ1bmN0aW9uIG5wKGUsdCl7Y29uc3Qgcj1tcCh0Lnpvb20pO2lmKDA9PT1yKXJldHVybiB0cChlKTtjb25zdCBuPW9wKGUpLGk9YXAobiksbz1TcyhuLmdldFdlc3QoKSkqdC53b3JsZFNpemUsYT1TcyhuLmdldEVhc3QoKSkqdC53b3JsZFNpemUscz1DcyhuLmdldE5vcnRoKCkpKnQud29ybGRTaXplLGw9Q3Mobi5nZXRTb3V0aCgpKSp0LndvcmxkU2l6ZSxjPVtvLHMsMF0sdT1bYSxzLDBdLGg9W28sbCwwXSxkPVthLGwsMF0scD1tbChbXSx0Lmdsb2JlTWF0cml4KTtyZXR1cm4gRmwoYyxjLHApLEZsKHUsdSxwKSxGbChoLGgscCksRmwoZCxkLHApLGlbMF09cnAoaVswXSxoLHIpLGlbMV09cnAoaVsxXSxkLHIpLGlbMl09cnAoaVsyXSx1LHIpLGlbM109cnAoaVszXSxjLHIpLHRjLmZyb21Qb2ludHMoaSl9ZnVuY3Rpb24gaXAoZSx0LHIpe2Zvcihjb25zdCBuIG9mIGUpRmwobixuLHQpLERsKG4sbixyKX1mdW5jdGlvbiBvcCh7eDplLHk6dCx6OnJ9KXtjb25zdCBuPTEvKDE8PHIpLGk9bmV3IHdzKGtzKGUqbiksQXMoKHQrMSkqbikpLG89bmV3IHdzKGtzKChlKzEpKm4pLEFzKHQqbikpO3JldHVybiBuZXcgeHMoaSxvKX1mdW5jdGlvbiBhcChlKXtjb25zdCB0PXYoZS5nZXROb3J0aCgpKSxyPXYoZS5nZXRTb3V0aCgpKSxuPU1hdGguY29zKHQpLGk9TWF0aC5jb3Mociksbz1NYXRoLnNpbih0KSxhPU1hdGguc2luKHIpLHM9ZS5nZXRXZXN0KCksbD1lLmdldEVhc3QoKTtyZXR1cm5bc3AoaSxhLHMpLHNwKGksYSxsKSxzcChuLG8sbCksc3AobixvLHMpXX1mdW5jdGlvbiBzcChlLHQscixuPSRkKXtyZXR1cm4gcj12KHIpLFtlKk1hdGguc2luKHIpKm4sLXQqbixlKk1hdGguY29zKHIpKm5dfWZ1bmN0aW9uIGxwKGUsdCxyKXtyZXR1cm4gc3AoTWF0aC5jb3ModihlKSksTWF0aC5zaW4odihlKSksdCxyKX1mdW5jdGlvbiBjcChlLHQscixuKXtjb25zdCBpPTE8PHIueixvPShlL3ZzK3IueCkvaTtyZXR1cm4gbHAoQXMoKHQvdnMrci55KS9pKSxrcyhvKSxuKX1mdW5jdGlvbiB1cCh7bWluOmUsbWF4OnR9KXtyZXR1cm4gMTYzODMvTWF0aC5tYXgodFswXS1lWzBdLHRbMV0tZVsxXSx0WzJdLWVbMl0pfWNvbnN0IGhwPW5ldyBGbG9hdDY0QXJyYXkoMTYpO2Z1bmN0aW9uIGRwKGUpe2NvbnN0IHQ9dXAoZSkscj1ibChocCxbdCx0LHRdKTtyZXR1cm4gX2wocixyLCgobj1bXSlbMF09LShpPWUubWluKVswXSxuWzFdPS1pWzFdLG5bMl09LWlbMl0sbikpO3ZhciBuLGl9ZnVuY3Rpb24gcHAoZSl7Y29uc3QgdD0obj1lLm1pbiwocj1ocClbMF09MSxyWzFdPTAsclsyXT0wLHJbM109MCxyWzRdPTAscls1XT0xLHJbNl09MCxyWzddPTAscls4XT0wLHJbOV09MCxyWzEwXT0xLHJbMTFdPTAsclsxMl09blswXSxyWzEzXT1uWzFdLHJbMTRdPW5bMl0sclsxNV09MSxyKTt2YXIgcixuO2NvbnN0IGk9MS91cChlKTtyZXR1cm4geWwodCx0LFtpLGksaV0pfWZ1bmN0aW9uIGZwKGUsdCxyLG4saSl7Y29uc3Qgbz1mdW5jdGlvbihlKXtjb25zdCB0PXZzLygyKk1hdGguUEkpO3JldHVybiBlLygyKk1hdGguUEkpL3R9KHIpLGE9W2UsdCwtci8oMipNYXRoLlBJKV0scz1mbChuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIF9sKHMscyxhKSx5bChzLHMsW28sbyxvXSksdmwocyxzLHYoLWkpKSx4bChzLHMsdigtbikpLHN9ZnVuY3Rpb24gbXAoZSl7cmV0dXJuIEMoNSw2LGUpfWZ1bmN0aW9uIGdwKGUsdCl7Y29uc3Qgcj1scCh0LmxhdCx0LmxuZyk7cmV0dXJuIG89KG49QWwoW10sZnVuY3Rpb24oZSl7Y29uc3QgdD1scChlLl9jZW50ZXIubGF0LGUuX2NlbnRlci5sbmcpO2xldCByPUJsKFtdLE1sKDAsMSwwKSx0KTtjb25zdCBuPXdsKFtdLC1lLmFuZ2xlLHQpO3I9RmwocixyLG4pLHdsKG4sLWUuX3BpdGNoLHIpO2NvbnN0IGk9TGwoW10sdCk7cmV0dXJuIERsKGksaSxlLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvZS5waXhlbHNQZXJNZXRlcipXZCksRmwoaSxpLG4pLGtsKFtdLHQsaSl9KGUpLHIpKVswXSxhPW5bMV0scz1uWzJdLGw9KGk9cilbMF0sYz1pWzFdLHU9aVsyXSxkPShoPU1hdGguc3FydChvKm8rYSphK3MqcykqTWF0aC5zcXJ0KGwqbCtjKmMrdSp1KSkmJk9sKG4saSkvaCxNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoZCwtMSksMSkpO3ZhciBuLGksbyxhLHMsbCxjLHUsaCxkfWNvbnN0IF9wPXYoODUpLHlwPU1hdGguY29zKF9wKSx2cD1NYXRoLnNpbihfcCk7ZnVuY3Rpb24geHAoZSx0KXtjb25zdCByPWUuZm92QWJvdmVDZW50ZXIsbj1lLmVsZXZhdGlvbj9lLmVsZXZhdGlvbi5nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpKnQ6MCxpPShlLl9jYW1lcmEucG9zaXRpb25bMl0qZS53b3JsZFNpemUtbikvTWF0aC5jb3MoZS5fcGl0Y2gpLG89TWF0aC5zaW4ocikqaS9NYXRoLnNpbihNYXRoLm1heChNYXRoLlBJLzItZS5fcGl0Y2gtciwuMDEpKSxhPU1hdGguc2luKGUuX3BpdGNoKSpvK2k7cmV0dXJuIE1hdGgubWluKDEuMDEqYSxpKigxL2UuX2hvcml6b25TaGlmdCkpfWZ1bmN0aW9uIGJwKGUsdCl7aWYoIXQuaXNSZXByb2plY3RlZEluVGlsZVNwYWNlKXJldHVybntzY2FsZToxPDxlLnoseDplLngseTplLnkseDI6ZS54KzEseTI6ZS55KzEscHJvamVjdGlvbjp0fTtjb25zdCByPU1hdGgucG93KDIsLWUueiksbj1lLngqcixpPShlLngrMSkqcixvPWUueSpyLGE9KGUueSsxKSpyLHM9a3MobiksbD1rcyhpKSxjPUFzKG8pLHU9QXMoYSksaD10LnByb2plY3QocyxjKSxkPXQucHJvamVjdChsLGMpLHA9dC5wcm9qZWN0KGwsdSksZj10LnByb2plY3Qocyx1KTtsZXQgbT1NYXRoLm1pbihoLngsZC54LHAueCxmLngpLGc9TWF0aC5taW4oaC55LGQueSxwLnksZi55KSxfPU1hdGgubWF4KGgueCxkLngscC54LGYueCkseT1NYXRoLm1heChoLnksZC55LHAueSxmLnkpO2NvbnN0IHY9ci8xNjtmdW5jdGlvbiB4KGUscixuLGksbyxhKXtjb25zdCBzPShuK28pLzIsbD0oaSthKS8yLGM9dC5wcm9qZWN0KGtzKHMpLEFzKGwpKSx1PU1hdGgubWF4KDAsbS1jLngsZy1jLnksYy54LV8sYy55LXkpO209TWF0aC5taW4obSxjLngpLF89TWF0aC5tYXgoXyxjLngpLGc9TWF0aC5taW4oZyxjLnkpLHk9TWF0aC5tYXgoeSxjLnkpLHU+diYmKHgoZSxjLG4saSxzLGwpLHgoYyxyLHMsbCxvLGEpKX14KGgsZCxuLG8saSxvKSx4KGQscCxpLG8saSxhKSx4KHAsZixpLGEsbixhKSx4KGYsaCxuLGEsbixvKSxtLT12LGctPXYsXys9dix5Kz12O2NvbnN0IGI9MS9NYXRoLm1heChfLW0seS1nKTtyZXR1cm57c2NhbGU6Yix4Om0qYix5OmcqYix4MjpfKmIseTI6eSpiLHByb2plY3Rpb246dH19Y29uc3Qgd3A9ZmwobmV3IEZsb2F0MzJBcnJheSgxNikpO2NsYXNzIFRwe2NvbnN0cnVjdG9yKGUpe3RoaXMuc3BlYz1lLHRoaXMubmFtZT1lLm5hbWUsdGhpcy53cmFwPSExLHRoaXMucmVxdWlyZXNEcmFwaW5nPSExLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMSx0aGlzLnN1cHBvcnRzVGVycmFpbj0hMSx0aGlzLnN1cHBvcnRzRm9nPSExLHRoaXMuc3VwcG9ydHNGcmVlQ2FtZXJhPSExLHRoaXMuekF4aXNVbml0PVwibWV0ZXJzXCIsdGhpcy5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U9ITAsdGhpcy51bnN1cHBvcnRlZExheWVycz1bXCJjdXN0b21cIl0sdGhpcy5jZW50ZXI9WzAsMF0sdGhpcy5yYW5nZT1bMy41LDddfXByb2plY3QoZSx0KXtyZXR1cm57eDowLHk6MCx6OjB9fXVucHJvamVjdChlLHQpe3JldHVybiBuZXcgd3MoMCwwKX1wcm9qZWN0VGlsZVBvaW50KGUsdCxyKXtyZXR1cm57eDplLHk6dCx6OjB9fWxvY2F0aW9uUG9pbnQoZSx0LHI9ITApe3JldHVybiBlLl9jb29yZGluYXRlUG9pbnQoZS5sb2NhdGlvbkNvb3JkaW5hdGUodCkscil9cGl4ZWxzUGVyTWV0ZXIoZSx0KXtyZXR1cm4gTXMoMSxlKSp0fXBpeGVsU3BhY2VDb252ZXJzaW9uKGUsdCxyKXtyZXR1cm4gMX1mYXJ0aGVzdFBpeGVsRGlzdGFuY2UoZSl7cmV0dXJuIHhwKGUsZS5waXhlbHNQZXJNZXRlcil9cG9pbnRDb29yZGluYXRlKGUsdCxyLG4pe2NvbnN0IGk9ZS5ob3Jpem9uTGluZUZyb21Ub3AoITEpLG89bmV3IG0odCxNYXRoLm1heChpLHIpKTtyZXR1cm4gZS5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKGUucG9pbnRSYXlJbnRlcnNlY3Rpb24obyxuKSl9cG9pbnRDb29yZGluYXRlM0QoZSx0LHIpe2NvbnN0IG49bmV3IG0odCxyKTtpZihlLmVsZXZhdGlvbilyZXR1cm4gZS5lbGV2YXRpb24ucG9pbnRDb29yZGluYXRlKG4pO3tjb25zdCB0PXRoaXMucG9pbnRDb29yZGluYXRlKGUsbi54LG4ueSwwKTtyZXR1cm5bdC54LHQueSx0LnpdfX1pc1BvaW50QWJvdmVIb3Jpem9uKGUsdCl7aWYoZS5lbGV2YXRpb24pcmV0dXJuIXRoaXMucG9pbnRDb29yZGluYXRlM0QoZSx0LngsdC55KTtjb25zdCByPWUuaG9yaXpvbkxpbmVGcm9tVG9wKCk7cmV0dXJuIHQueTxyfWNyZWF0ZUludmVyc2lvbk1hdHJpeChlLHQpe3JldHVybiB3cH1jcmVhdGVUaWxlTWF0cml4KGUsdCxyKXtsZXQgbixpLG87Y29uc3QgYT1yLmNhbm9uaWNhbCxzPWZsKG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtpZih0aGlzLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZSl7Y29uc3QgbD1icChhLHRoaXMpO249MSxpPWwueCtyLndyYXAqbC5zY2FsZSxvPWwueSx5bChzLHMsW24vbC5zY2FsZSxuL2wuc2NhbGUsZS5waXhlbHNQZXJNZXRlci90XSl9ZWxzZSBuPXQvZS56b29tU2NhbGUoYS56KSxpPShhLngrTWF0aC5wb3coMixhLnopKnIud3JhcCkqbixvPWEueSpuO3JldHVybiBfbChzLHMsW2ksbywwXSkseWwocyxzLFtuL3ZzLG4vdnMsMV0pLHN9dXBWZWN0b3IoZSx0LHIpe3JldHVyblswLDAsMV19dXBWZWN0b3JTY2FsZShlLHQscil7cmV0dXJue21ldGVyc1RvVGlsZToxfX19Y2xhc3MgRXAgZXh0ZW5kcyBUcHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnJhbmdlPVs0LDddLHRoaXMuY2VudGVyPWUuY2VudGVyfHxbLTk2LDM3LjVdO2NvbnN0W3Qscl09dGhpcy5wYXJhbGxlbHM9ZS5wYXJhbGxlbHN8fFsyOS41LDQ1LjVdLG49TWF0aC5zaW4odih0KSk7dGhpcy5uPShuK01hdGguc2luKHYocikpKS8yLHRoaXMuYz0xK24qKDIqdGhpcy5uLW4pLHRoaXMucjA9TWF0aC5zcXJ0KHRoaXMuYykvdGhpcy5ufXByb2plY3QoZSx0KXtjb25zdHtuOnIsYzpuLHIwOml9PXRoaXMsbz12KGUtdGhpcy5jZW50ZXJbMF0pLGE9dih0KSxzPU1hdGguc3FydChuLTIqcipNYXRoLnNpbihhKSkvcjtyZXR1cm57eDpzKk1hdGguc2luKG8qcikseTpzKk1hdGguY29zKG8qciktaSx6OjB9fXVucHJvamVjdChlLHQpe2NvbnN0e246cixjOm4scjA6aX09dGhpcyxvPWkrdDtsZXQgYT1NYXRoLmF0YW4yKGUsTWF0aC5hYnMobykpKk1hdGguc2lnbihvKTtvKnI8MCYmKGEtPU1hdGguUEkqTWF0aC5zaWduKGUpKk1hdGguc2lnbihvKSk7Y29uc3Qgcz12KHRoaXMuY2VudGVyWzBdKSpyO2E9TShhLC1NYXRoLlBJLXMsTWF0aC5QSS1zKTtjb25zdCBsPVMoeChhL3IpK3RoaXMuY2VudGVyWzBdLC0xODAsMTgwKSxjPU1hdGguYXNpbihTKChuLShlKmUrbypvKSpyKnIpLygyKnIpLC0xLDEpKSx1PVMoeChjKSwtODUuMDUxMTI5LFBzKTtyZXR1cm4gbmV3IHdzKGwsdSl9fWNvbnN0IFNwPTEuMzQwMjY0LENwPS0uMDgxMTA2LE1wPTg5M2UtNixrcD0uMDAzNzk2LEFwPU1hdGguc3FydCgzKS8yO2NsYXNzIElwIGV4dGVuZHMgVHB7cHJvamVjdChlLHQpe3Q9dC8xODAqTWF0aC5QSSxlPWUvMTgwKk1hdGguUEk7Y29uc3Qgcj1NYXRoLmFzaW4oQXAqTWF0aC5zaW4odCkpLG49cipyLGk9bipuKm47cmV0dXJue3g6LjUqKGUqTWF0aC5jb3MocikvKEFwKihTcCszKkNwKm4raSooNypNcCs5KmtwKm4pKSkvTWF0aC5QSSsuNSkseToxLS41KihyKihTcCtDcCpuK2kqKE1wK2twKm4pKS9NYXRoLlBJKzEpLHo6MH19dW5wcm9qZWN0KGUsdCl7ZT0oMiplLS41KSpNYXRoLlBJO2xldCByPXQ9KDIqKDEtdCktMSkqTWF0aC5QSSxuPXIqcixpPW4qbipuO2ZvcihsZXQgZSxvLGEscz0wO3M8MTImJihvPXIqKFNwK0NwKm4raSooTXAra3AqbikpLXQsYT1TcCszKkNwKm4raSooNypNcCs5KmtwKm4pLGU9by9hLHI9UyhyLWUsLU1hdGguUEkvMyxNYXRoLlBJLzMpLG49cipyLGk9bipuKm4sIShNYXRoLmFicyhlKTwxZS0xMikpOysrcyk7Y29uc3Qgbz1BcCplKihTcCszKkNwKm4raSooNypNcCs5KmtwKm4pKS9NYXRoLmNvcyhyKSxhPU1hdGguYXNpbihNYXRoLnNpbihyKS9BcCkscz1TKDE4MCpvL01hdGguUEksLTE4MCwxODApLGw9UygxODAqYS9NYXRoLlBJLC04NS4wNTExMjksUHMpO3JldHVybiBuZXcgd3MocyxsKX19Y2xhc3MgUHAgZXh0ZW5kcyBUcHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLndyYXA9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSEwfXByb2plY3QoZSx0KXtyZXR1cm57eDouNStlLzM2MCx5Oi41LXQvMzYwLHo6MH19dW5wcm9qZWN0KGUsdCl7Y29uc3Qgcj0zNjAqKGUtLjUpLG49UygzNjAqKC41LXQpLC04NS4wNTExMjksUHMpO3JldHVybiBuZXcgd3MocixuKX19Y29uc3QgenA9TWF0aC5QSS8yO2Z1bmN0aW9uIERwKGUpe3JldHVybiBNYXRoLnRhbigoenArZSkvMil9Y2xhc3MgUnAgZXh0ZW5kcyBUcHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmNlbnRlcj1lLmNlbnRlcnx8WzAsMzBdO2NvbnN0W3Qscl09dGhpcy5wYXJhbGxlbHM9ZS5wYXJhbGxlbHN8fFszMCwzMF07bGV0IG49dih0KSxpPXYocik7dGhpcy5zb3V0aGVybkNlbnRlcj1uK2k8MCx0aGlzLnNvdXRoZXJuQ2VudGVyJiYobj0tbixpPS1pKTtjb25zdCBvPU1hdGguY29zKG4pLGE9RHAobik7dGhpcy5uPW49PT1pP01hdGguc2luKG4pOk1hdGgubG9nKG8vTWF0aC5jb3MoaSkpL01hdGgubG9nKERwKGkpL2EpLHRoaXMuZj1vKk1hdGgucG93KERwKG4pLHRoaXMubikvdGhpcy5ufXByb2plY3QoZSx0KXt0PXYodCksdGhpcy5zb3V0aGVybkNlbnRlciYmKHQ9LXQpLGU9dihlLXRoaXMuY2VudGVyWzBdKTtjb25zdCByPTFlLTYse246bixmOml9PXRoaXM7aT4wP3Q8LXpwK3ImJih0PS16cCtyKTp0PnpwLXImJih0PXpwLXIpO2NvbnN0IG89aS9NYXRoLnBvdyhEcCh0KSxuKTtsZXQgYT1vKk1hdGguc2luKG4qZSkscz1pLW8qTWF0aC5jb3MobiplKTtyZXR1cm4gYT0uNSooYS9NYXRoLlBJKy41KSxzPS41KihzL01hdGguUEkrLjUpLHt4OmEseTp0aGlzLnNvdXRoZXJuQ2VudGVyP3M6MS1zLHo6MH19dW5wcm9qZWN0KGUsdCl7ZT0oMiplLS41KSpNYXRoLlBJLHRoaXMuc291dGhlcm5DZW50ZXImJih0PTEtdCksdD0oMiooMS10KS0uNSkqTWF0aC5QSTtjb25zdHtuOnIsZjpufT10aGlzLGk9bi10LG89TWF0aC5zaWduKGkpLGE9TWF0aC5zaWduKHIpKk1hdGguc3FydChlKmUraSppKTtsZXQgcz1NYXRoLmF0YW4yKGUsTWF0aC5hYnMoaSkpKm87aSpyPDAmJihzLT1NYXRoLlBJKk1hdGguc2lnbihlKSpvKTtjb25zdCBsPVMoeChzL3IpK3RoaXMuY2VudGVyWzBdLC0xODAsMTgwKSxjPVMoeCgyKk1hdGguYXRhbihNYXRoLnBvdyhuL2EsMS9yKSktenApLC04NS4wNTExMjksUHMpO3JldHVybiBuZXcgd3MobCx0aGlzLnNvdXRoZXJuQ2VudGVyPy1jOmMpfX1jbGFzcyBMcCBleHRlbmRzIFRwe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMud3JhcD0hMCx0aGlzLnN1cHBvcnRzV29ybGRDb3BpZXM9ITAsdGhpcy5zdXBwb3J0c1RlcnJhaW49ITAsdGhpcy5zdXBwb3J0c0ZvZz0hMCx0aGlzLnN1cHBvcnRzRnJlZUNhbWVyYT0hMCx0aGlzLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT0hMSx0aGlzLnVuc3VwcG9ydGVkTGF5ZXJzPVtdLHRoaXMucmFuZ2U9bnVsbH1wcm9qZWN0KGUsdCl7cmV0dXJue3g6U3MoZSkseTpDcyh0KSx6OjB9fXVucHJvamVjdChlLHQpe2NvbnN0IHI9a3MoZSksbj1Bcyh0KTtyZXR1cm4gbmV3IHdzKHIsbil9fWNvbnN0IE9wPXYoUHMpO2NsYXNzIEJwIGV4dGVuZHMgVHB7cHJvamVjdChlLHQpe2NvbnN0IHI9KHQ9dih0KSkqdCxuPXIqcjtyZXR1cm57eDouNSooKGU9dihlKSkqKC44NzA3LS4xMzE5NzkqcituKihuKiguMDAzOTcxKnItLjAwMTUyOSpuKS0uMDEzNzkxKSkvTWF0aC5QSSsuNSkseToxLS41Kih0KigxLjAwNzIyNityKiguMDE1MDg1K24qKC4wMjg4NzQqci0uMDQ0NDc1LS4wMDU5MTYqbikpKS9NYXRoLlBJKzEpLHo6MH19dW5wcm9qZWN0KGUsdCl7ZT0oMiplLS41KSpNYXRoLlBJO2xldCByPXQ9KDIqKDEtdCktMSkqTWF0aC5QSSxuPTI1LGk9MCxvPXIqcjtkb3tvPXIqcjtjb25zdCBlPW8qbztpPShyKigxLjAwNzIyNitvKiguMDE1MDg1K2UqKC4wMjg4NzQqby0uMDQ0NDc1LS4wMDU5MTYqZSkpKS10KS8oMS4wMDcyMjYrbyooLjA0NTI1NStlKiguMjU5ODY2Km8tLjMxMTMyNS0uMDA1OTE2KjExKmUpKSkscj1TKHItaSwtT3AsT3ApfXdoaWxlKE1hdGguYWJzKGkpPjFlLTYmJi0tbj4wKTtvPXIqcjtjb25zdCBhPVMoeChlLyguODcwNytvKihvKihvKm8qbyooLjAwMzk3MS0uMDAxNTI5Km8pLS4wMTM3OTEpLS4xMzE5NzkpKSksLTE4MCwxODApLHM9eChyKTtyZXR1cm4gbmV3IHdzKGEscyl9fWNvbnN0IEZwPXYoUHMpO2NsYXNzIGpwIGV4dGVuZHMgVHB7cHJvamVjdChlLHQpe3Q9dih0KSxlPXYoZSk7Y29uc3Qgcj1NYXRoLmNvcyh0KSxuPTIvTWF0aC5QSSxpPU1hdGguYWNvcyhyKk1hdGguY29zKGUvMikpLG89TWF0aC5zaW4oaSkvaSxhPS41KihlKm4rMipyKk1hdGguc2luKGUvMikvbyl8fDAscz0uNSoodCtNYXRoLnNpbih0KS9vKXx8MDtyZXR1cm57eDouNSooYS9NYXRoLlBJKy41KSx5OjEtLjUqKHMvTWF0aC5QSSsxKSx6OjB9fXVucHJvamVjdChlLHQpe2xldCByPWU9KDIqZS0uNSkqTWF0aC5QSSxuPXQ9KDIqKDEtdCktMSkqTWF0aC5QSSxpPTI1O2NvbnN0IG89MWUtNjtsZXQgYT0wLHM9MDtkb3tjb25zdCBpPU1hdGguY29zKG4pLG89TWF0aC5zaW4obiksbD0yKm8qaSxjPW8qbyx1PWkqaSxoPU1hdGguY29zKHIvMiksZD1NYXRoLnNpbihyLzIpLHA9MipoKmQsZj1kKmQsbT0xLXUqaCpoLGc9bT8xL206MCxfPW0/TWF0aC5hY29zKGkqaCkqTWF0aC5zcXJ0KDEvbSk6MCx5PS41KigyKl8qaSpkKzIqci9NYXRoLlBJKS1lLHY9LjUqKF8qbytuKS10LHg9LjUqZyoodSpmK18qaSpoKmMpKzEvTWF0aC5QSSxiPWcqKHAqbC80LV8qbypkKSx3PS4xMjUqZyoobCpkLV8qbyp1KnApLFQ9LjUqZyooYypoK18qZippKSsuNSxFPWIqdy1UKng7YT0odipiLXkqVCkvRSxzPSh5Knctdip4KS9FLHI9UyhyLWEsLU1hdGguUEksTWF0aC5QSSksbj1TKG4tcywtRnAsRnApfXdoaWxlKChNYXRoLmFicyhhKT5vfHxNYXRoLmFicyhzKT5vKSYmLS1pPjApO3JldHVybiBuZXcgd3MoeChyKSx4KG4pKX19Y2xhc3MgVXAgZXh0ZW5kcyBUcHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmNlbnRlcj1lLmNlbnRlcnx8WzAsMF0sdGhpcy5wYXJhbGxlbHM9ZS5wYXJhbGxlbHN8fFswLDBdLHRoaXMuY29zUGhpPU1hdGgubWF4KC4wMSxNYXRoLmNvcyh2KHRoaXMucGFyYWxsZWxzWzBdKSkpLHRoaXMuc2NhbGU9MS8oMipNYXRoLm1heChNYXRoLlBJKnRoaXMuY29zUGhpLDEvdGhpcy5jb3NQaGkpKSx0aGlzLndyYXA9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSEwfXByb2plY3QoZSx0KXtjb25zdHtzY2FsZTpyLGNvc1BoaTpufT10aGlzO3JldHVybnt4OnYoZSkqbipyKy41LHk6LU1hdGguc2luKHYodCkpL24qcisuNSx6OjB9fXVucHJvamVjdChlLHQpe2NvbnN0e3NjYWxlOnIsY29zUGhpOm59PXRoaXMsaT0tKHQtLjUpL3Isbz1TKHgoKGUtLjUpL3IpL24sLTE4MCwxODApLGE9TWF0aC5hc2luKFMoaSpuLC0xLDEpKSxzPVMoeChhKSwtODUuMDUxMTI5LFBzKTtyZXR1cm4gbmV3IHdzKG8scyl9fWNsYXNzIE5wIGV4dGVuZHMgTHB7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5yZXF1aXJlc0RyYXBpbmc9ITAsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSExLHRoaXMuc3VwcG9ydHNGb2c9ITAsdGhpcy56QXhpc1VuaXQ9XCJwaXhlbHNcIix0aGlzLnVuc3VwcG9ydGVkTGF5ZXJzPVtcImRlYnVnXCIsXCJjdXN0b21cIl0sdGhpcy5yYW5nZT1bMyw1XX1wcm9qZWN0VGlsZVBvaW50KGUsdCxyKXtjb25zdCBuPWNwKGUsdCxyKTtyZXR1cm4gRmwobixuLGRwKHRwKHIpKSkse3g6blswXSx5Om5bMV0sejpuWzJdfX1sb2NhdGlvblBvaW50KGUsdCl7Y29uc3Qgcj1scCh0LmxhdCx0LmxuZyksbj1MbChbXSxyKSxpPWUuZWxldmF0aW9uP2UuZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8oZS5sb2NhdGlvbkNvb3JkaW5hdGUodCksZS5fY2VudGVyQWx0aXR1ZGUpOmUuX2NlbnRlckFsdGl0dWRlO1JsKHIscixuLE1zKDEsMCkqdnMqaSk7Y29uc3Qgbz1mbChuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIGdsKG8sZS5waXhlbE1hdHJpeCxlLmdsb2JlTWF0cml4KSxGbChyLHIsbyksbmV3IG0oclswXSxyWzFdKX1waXhlbHNQZXJNZXRlcihlLHQpe3JldHVybiBNcygxLDApKnR9cGl4ZWxTcGFjZUNvbnZlcnNpb24oZSx0LHIpe2NvbnN0IG49TXMoMSxlKSp0LGk9Q3IoTXMoMSw0NSkqdCxuLHIpO3JldHVybiB0aGlzLnBpeGVsc1Blck1ldGVyKGUsdCkvaX1jcmVhdGVUaWxlTWF0cml4KGUsdCxyKXtjb25zdCBuPXBwKHRwKHIuY2Fub25pY2FsKSk7cmV0dXJuIGdsKG5ldyBGbG9hdDY0QXJyYXkoMTYpLGUuZ2xvYmVNYXRyaXgsbil9Y3JlYXRlSW52ZXJzaW9uTWF0cml4KGUsdCl7Y29uc3R7Y2VudGVyOnJ9PWUsbj1kcCh0cCh0KSk7cmV0dXJuIHhsKG4sbix2KHIubG5nKSksdmwobixuLHYoci5sYXQpKSx5bChuLG4sW2UuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsZS5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCwxXSksRmxvYXQzMkFycmF5LmZyb20obil9cG9pbnRDb29yZGluYXRlKGUsdCxyLG4pe3JldHVybiBKZChlLHQsciwhMCl8fG5ldyBEcygwLDApfXBvaW50Q29vcmRpbmF0ZTNEKGUsdCxyKXtjb25zdCBuPXRoaXMucG9pbnRDb29yZGluYXRlKGUsdCxyLDApO3JldHVybltuLngsbi55LG4uel19aXNQb2ludEFib3ZlSG9yaXpvbihlLHQpe3JldHVybiFKZChlLHQueCx0LnksITEpfWZhcnRoZXN0UGl4ZWxEaXN0YW5jZShlKXtjb25zdCB0PWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1lLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2Usbj1lLl9jZW50ZXJBbHRpdHVkZSp0LGk9ZS5fY2FtZXJhLG89ZS5fY2FtZXJhLmZvcndhcmQoKSxhPWtsKFtdLERsKFtdLG8sLXIpLFswLDAsbl0pLHM9ZS53b3JsZFNpemUvKDIqTWF0aC5QSSksbD1bMCwwLC1zXSxjPWUud2lkdGgvZS5oZWlnaHQsdT1NYXRoLnRhbihlLmZvdkFib3ZlQ2VudGVyKSxoPURsKFtdLGkudXAoKSx1KSxkPURsKFtdLGkucmlnaHQoKSx1KmMpLHA9TGwoW10sa2woW10sa2woW10sbyxoKSxkKSksZj1bXTtsZXQgbTtpZihuZXcgSmwoYSxwKS5jbG9zZXN0UG9pbnRPblNwaGVyZShsLHMsZikpe2NvbnN0IHQ9a2woW10sZixsKSxyPU5sKFtdLHQsYSk7bT1NYXRoLmNvcyhlLmZvdkFib3ZlQ2VudGVyKSpDbChyKX1lbHNle2NvbnN0IGU9TmwoW10sYSxsKSx0PU5sKFtdLGwsYSk7TGwodCx0KTtjb25zdCByPUNsKGUpLXM7bT1NYXRoLnNxcnQocioocisyKnMpKTtjb25zdCBuPU1hdGguYWNvcyhtLyhzK3IpKS1NYXRoLmFjb3MoT2wobyx0KSk7bSo9TWF0aC5jb3Mobil9cmV0dXJuIDEuMDEqbX0oZSx0aGlzLnBpeGVsc1Blck1ldGVyKGUuY2VudGVyLmxhdCxlLndvcmxkU2l6ZSkpLHI9bXAoZS56b29tKTtpZihyPjApe2NvbnN0IG49eHAoZSxNcygxLGUuY2VudGVyLmxhdCkqZS53b3JsZFNpemUpLGk9ZS53b3JsZFNpemUvKDIqTWF0aC5QSSksbz1NYXRoLm1heChlLndpZHRoLGUuaGVpZ2h0KS9lLndvcmxkU2l6ZSpNYXRoLlBJO3JldHVybiBDcih0LG4raSooMS1NYXRoLmNvcyhvKSksTWF0aC5wb3cociwxMCkpfXJldHVybiB0fXVwVmVjdG9yKGUsdCxyKXtyZXR1cm4gY3AodCxyLGUsMSl9dXBWZWN0b3JTY2FsZShlKXtyZXR1cm57bWV0ZXJzVG9UaWxlOldkKnVwKHRwKGUpKX19fWZ1bmN0aW9uIFZwKGUpe2NvbnN0IHQ9ZS5wYXJhbGxlbHMscj0hIXQmJk1hdGguYWJzKHRbMF0rdFsxXSk8LjAxO3N3aXRjaChlLm5hbWUpe2Nhc2VcIm1lcmNhdG9yXCI6cmV0dXJuIG5ldyBMcChlKTtjYXNlXCJlcXVpcmVjdGFuZ3VsYXJcIjpyZXR1cm4gbmV3IFBwKGUpO2Nhc2VcIm5hdHVyYWxFYXJ0aFwiOnJldHVybiBuZXcgQnAoZSk7Y2FzZVwiZXF1YWxFYXJ0aFwiOnJldHVybiBuZXcgSXAoZSk7Y2FzZVwid2lua2VsVHJpcGVsXCI6cmV0dXJuIG5ldyBqcChlKTtjYXNlXCJhbGJlcnNcIjpyZXR1cm4gcj9uZXcgVXAoZSk6bmV3IEVwKGUpO2Nhc2VcImxhbWJlcnRDb25mb3JtYWxDb25pY1wiOnJldHVybiByP25ldyBVcChlKTpuZXcgUnAoZSk7Y2FzZVwiZ2xvYmVcIjpyZXR1cm4gbmV3IE5wKGUpfXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJvamVjdGlvbiBuYW1lOiBcIitlLm5hbWUpfWNvbnN0IEdwPXl1LnR5cGVzLHFwPVt7bmFtZTpcImFfZmFkZV9vcGFjaXR5XCIsY29tcG9uZW50czoxLHR5cGU6XCJVaW50OFwiLG9mZnNldDowfV07ZnVuY3Rpb24gWnAoZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCl7Y29uc3QgcD1zP01hdGgubWluKE9kLE1hdGgucm91bmQoc1swXSkpOjAsZj1zP01hdGgubWluKE9kLE1hdGgucm91bmQoc1sxXSkpOjA7ZS5lbXBsYWNlQmFjayh0LHIsTWF0aC5yb3VuZCgzMipuKSxNYXRoLnJvdW5kKDMyKmkpLG8sYSwocDw8MSkrKGw/MTowKSxmLDE2KmMsMTYqdSwyNTYqaCwyNTYqZCl9ZnVuY3Rpb24gJHAoZSx0LHIsbixpLG8sYSl7ZS5lbXBsYWNlQmFjayh0LHIsbixpLG8sYSl9ZnVuY3Rpb24gV3AoZSx0LHIsbixpKXtlLmVtcGxhY2VCYWNrKHQscixuLGkpLGUuZW1wbGFjZUJhY2sodCxyLG4saSksZS5lbXBsYWNlQmFjayh0LHIsbixpKSxlLmVtcGxhY2VCYWNrKHQscixuLGkpfWZ1bmN0aW9uIFhwKGUpe2Zvcihjb25zdCB0IG9mIGUuc2VjdGlvbnMpaWYoX28odC50ZXh0KSlyZXR1cm4hMDtyZXR1cm4hMX1jbGFzcyBIcHtjb25zdHJ1Y3RvcihlKXt0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBvYSx0aGlzLmluZGV4QXJyYXk9bmV3IHBhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPWUsdGhpcy5zZWdtZW50cz1uZXcgeXMsdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QXJyYXk9bmV3IHRhLHRoaXMub3BhY2l0eVZlcnRleEFycmF5PW5ldyBzYSx0aGlzLnBsYWNlZFN5bWJvbEFycmF5PW5ldyBNYSx0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXk9bmV3IGFhfWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoJiYwPT09dGhpcy5pbmRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMuZHluYW1pY0xheW91dFZlcnRleEFycmF5Lmxlbmd0aCYmMD09PXRoaXMub3BhY2l0eVZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWQoZSx0LHIsbil7dGhpcy5pc0VtcHR5KCl8fChyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxyaC5tZW1iZXJzKSx0aGlzLmluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIodGhpcy5pbmRleEFycmF5LHQpLHRoaXMuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxpaC5tZW1iZXJzLCEwKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5vcGFjaXR5VmVydGV4QXJyYXkscXAsITApLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheS5sZW5ndGg+MCYmKHRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5nbG9iZUV4dFZlcnRleEFycmF5LG5oLm1lbWJlcnMsITApKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXIuaXRlbVNpemU9MSksKHJ8fG4pJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQoZSkpfWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLm9wYWNpdHlWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXImJnRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpKX19SWkoSHAsXCJTeW1ib2xCdWZmZXJzXCIpO2NsYXNzIFlwe2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBlLHRoaXMubGF5b3V0QXR0cmlidXRlcz10LHRoaXMuaW5kZXhBcnJheT1uZXcgcix0aGlzLnNlZ21lbnRzPW5ldyB5cyx0aGlzLmNvbGxpc2lvblZlcnRleEFycmF5PW5ldyBoYSx0aGlzLmNvbGxpc2lvblZlcnRleEFycmF5RXh0PW5ldyBkYX11cGxvYWQoZSl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSx0aGlzLmxheW91dEF0dHJpYnV0ZXMpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpLHRoaXMuY29sbGlzaW9uVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXksb2gubWVtYmVycywhMCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQ9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCxhaC5tZW1iZXJzLCEwKX1kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0LmRlc3Ryb3koKSl9fUlpKFlwLFwiQ29sbGlzaW9uQnVmZmVyc1wiKTtjbGFzcyBLcHtjb25zdHJ1Y3RvcihlKXt0aGlzLmNvbGxpc2lvbkJveEFycmF5PWUuY29sbGlzaW9uQm94QXJyYXksdGhpcy56b29tPWUuem9vbSx0aGlzLm92ZXJzY2FsaW5nPWUub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9ZS5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoZT0+ZS5pZCksdGhpcy5pbmRleD1lLmluZGV4LHRoaXMucGl4ZWxSYXRpbz1lLnBpeGVsUmF0aW8sdGhpcy5zb3VyY2VMYXllckluZGV4PWUuc291cmNlTGF5ZXJJbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5oYXNSVExUZXh0PSExLHRoaXMuZnVsbHlDbGlwcGVkPSExLHRoaXMuc29ydEtleVJhbmdlcz1bXSx0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5PVtdLHRoaXMucGxhY2VtZW50SW52UHJvak1hdHJpeD1mbChbXSksdGhpcy5wbGFjZW1lbnRWaWV3cG9ydE1hdHJpeD1mbChbXSk7Y29uc3QgdD10aGlzLmxheWVyc1swXS5fdW5ldmFsdWF0ZWRMYXlvdXQuX3ZhbHVlczt0aGlzLnRleHRTaXplRGF0YT11aCh0aGlzLnpvb20sdFtcInRleHQtc2l6ZVwiXSksdGhpcy5pY29uU2l6ZURhdGE9dWgodGhpcy56b29tLHRbXCJpY29uLXNpemVcIl0pO2NvbnN0IHI9dGhpcy5sYXllcnNbMF0ubGF5b3V0LG49ci5nZXQoXCJzeW1ib2wtc29ydC1rZXlcIiksaT1yLmdldChcInN5bWJvbC16LW9yZGVyXCIpO3RoaXMuY2FuT3ZlcmxhcD1yLmdldChcInRleHQtYWxsb3ctb3ZlcmxhcFwiKXx8ci5nZXQoXCJpY29uLWFsbG93LW92ZXJsYXBcIil8fHIuZ2V0KFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCIpfHxyLmdldChcImljb24taWdub3JlLXBsYWNlbWVudFwiKSx0aGlzLnNvcnRGZWF0dXJlc0J5S2V5PVwidmlld3BvcnQteVwiIT09aSYmdm9pZCAwIT09bi5jb25zdGFudE9yKDEpLHRoaXMuc29ydEZlYXR1cmVzQnlZPShcInZpZXdwb3J0LXlcIj09PWl8fFwiYXV0b1wiPT09aSYmIXRoaXMuc29ydEZlYXR1cmVzQnlLZXkpJiZ0aGlzLmNhbk92ZXJsYXAsdGhpcy53cml0aW5nTW9kZXM9ci5nZXQoXCJ0ZXh0LXdyaXRpbmctbW9kZVwiKS5tYXAoZT0+JGhbZV0pLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoZT0+ZS5pc1N0YXRlRGVwZW5kZW50KCkpLm1hcChlPT5lLmlkKSx0aGlzLnNvdXJjZUlEPWUuc291cmNlSUQsdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbn1jcmVhdGVBcnJheXMoKXt0aGlzLnRleHQ9bmV3IEhwKG5ldyBscyh0aGlzLmxheWVycyx0aGlzLnpvb20sZT0+L150ZXh0Ly50ZXN0KGUpKSksdGhpcy5pY29uPW5ldyBIcChuZXcgbHModGhpcy5sYXllcnMsdGhpcy56b29tLGU9Pi9eaWNvbi8udGVzdChlKSkpLHRoaXMuZ2x5cGhPZmZzZXRBcnJheT1uZXcgSWEsdGhpcy5saW5lVmVydGV4QXJyYXk9bmV3IFBhLHRoaXMuc3ltYm9sSW5zdGFuY2VzPW5ldyBBYX1jYWxjdWxhdGVHbHlwaERlcGVuZGVuY2llcyhlLHQscixuLGkpe2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKHRbZS5jaGFyQ29kZUF0KHIpXT0hMCxuJiZpKXtjb25zdCBuPW1oW2UuY2hhckF0KHIpXTtuJiYodFtuLmNoYXJDb2RlQXQoMCldPSEwKX19cG9wdWxhdGUoZSx0LHIsbil7Y29uc3QgaT10aGlzLmxheWVyc1swXSxvPWkubGF5b3V0LGE9XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUscz1vLmdldChcInRleHQtZm9udFwiKSxsPW8uZ2V0KFwidGV4dC1maWVsZFwiKSxjPW8uZ2V0KFwiaWNvbi1pbWFnZVwiKSx1PShcImNvbnN0YW50XCIhPT1sLnZhbHVlLmtpbmR8fGwudmFsdWUudmFsdWUgaW5zdGFuY2VvZiBJdCYmIWwudmFsdWUudmFsdWUuaXNFbXB0eSgpfHxsLnZhbHVlLnZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoPjApJiYoXCJjb25zdGFudFwiIT09cy52YWx1ZS5raW5kfHxzLnZhbHVlLnZhbHVlLmxlbmd0aD4wKSxoPVwiY29uc3RhbnRcIiE9PWMudmFsdWUua2luZHx8ISFjLnZhbHVlLnZhbHVlfHxPYmplY3Qua2V5cyhjLnBhcmFtZXRlcnMpLmxlbmd0aD4wLGQ9by5nZXQoXCJzeW1ib2wtc29ydC1rZXlcIik7aWYodGhpcy5mZWF0dXJlcz1bXSwhdSYmIWgpcmV0dXJuO2NvbnN0IHA9dC5pY29uRGVwZW5kZW5jaWVzLGY9dC5nbHlwaERlcGVuZGVuY2llcyxtPXQuYXZhaWxhYmxlSW1hZ2VzLGc9bmV3IElvKHRoaXMuem9vbSk7Zm9yKGNvbnN0e2ZlYXR1cmU6dCxpZDpsLGluZGV4OmMsc291cmNlTGF5ZXJJbmRleDpffW9mIGUpe2NvbnN0IGU9aS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnkseT1Wcyh0LGUpO2lmKCFpLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihnLHkscikpY29udGludWU7aWYoZXx8KHkuZ2VvbWV0cnk9TnModCxyLG4pKSxhJiYxIT09dC50eXBlJiZyLno8PTUpe2NvbnN0IGU9eS5nZW9tZXRyeSx0PS45ODA3ODUyODA1NixuPShlLG4pPT5PbChjcChlLngsZS55LHIsMSksY3Aobi54LG4ueSxyLDEpKTx0O2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF09QnMoZVt0XSxuKX1sZXQgdix4O2lmKHUpe2NvbnN0IGU9aS5nZXRWYWx1ZUFuZFJlc29sdmVUb2tlbnMoXCJ0ZXh0LWZpZWxkXCIseSxyLG0pLHQ9SXQuZmFjdG9yeShlKTtYcCh0KSYmKHRoaXMuaGFzUlRMVGV4dD0hMCksKCF0aGlzLmhhc1JUTFRleHR8fFwidW5hdmFpbGFibGVcIj09PU1vKCl8fHRoaXMuaGFzUlRMVGV4dCYmQW8uaXNQYXJzZWQoKSkmJih2PWZoKHQsaSx5KSl9aWYoaCl7Y29uc3QgZT1pLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhcImljb24taW1hZ2VcIix5LHIsbSk7eD1lIGluc3RhbmNlb2YgUHQ/ZTpQdC5mcm9tU3RyaW5nKGUpfWlmKCF2JiYheCljb250aW51ZTtjb25zdCBiPXRoaXMuc29ydEZlYXR1cmVzQnlLZXk/ZC5ldmFsdWF0ZSh5LHt9LHIpOnZvaWQgMDtpZih0aGlzLmZlYXR1cmVzLnB1c2goe2lkOmwsdGV4dDp2LGljb246eCxpbmRleDpjLHNvdXJjZUxheWVySW5kZXg6XyxnZW9tZXRyeTp5Lmdlb21ldHJ5LHByb3BlcnRpZXM6dC5wcm9wZXJ0aWVzLHR5cGU6R3BbdC50eXBlXSxzb3J0S2V5OmJ9KSx4JiYocFt4Lm5hbWVdPSEwKSx2KXtjb25zdCBlPXMuZXZhbHVhdGUoeSx7fSxyKS5qb2luKFwiLFwiKSx0PVwibWFwXCI9PT1vLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT1vLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik7dGhpcy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50PXRoaXMud3JpdGluZ01vZGVzJiZ0aGlzLndyaXRpbmdNb2Rlcy5pbmRleE9mKCRoLnZlcnRpY2FsKT49MDtmb3IoY29uc3QgciBvZiB2LnNlY3Rpb25zKWlmKHIuaW1hZ2UpcFtyLmltYWdlLm5hbWVdPSEwO2Vsc2V7Y29uc3Qgbj1jbyh2LnRvU3RyaW5nKCkpLGk9ci5mb250U3RhY2t8fGUsbz1mW2ldPWZbaV18fHt9O3RoaXMuY2FsY3VsYXRlR2x5cGhEZXBlbmRlbmNpZXMoci50ZXh0LG8sdCx0aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQsbil9fX1cImxpbmVcIj09PW8uZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSYmKHRoaXMuZmVhdHVyZXM9ZnVuY3Rpb24oZSl7Y29uc3QgdD17fSxyPXt9LG49W107bGV0IGk9MDtmdW5jdGlvbiBvKHQpe24ucHVzaChlW3RdKSxpKyt9ZnVuY3Rpb24gYShlLHQsaSl7Y29uc3Qgbz1yW2VdO3JldHVybiBkZWxldGUgcltlXSxyW3RdPW8sbltvXS5nZW9tZXRyeVswXS5wb3AoKSxuW29dLmdlb21ldHJ5WzBdPW5bb10uZ2VvbWV0cnlbMF0uY29uY2F0KGlbMF0pLG99ZnVuY3Rpb24gcyhlLHIsaSl7Y29uc3Qgbz10W3JdO3JldHVybiBkZWxldGUgdFtyXSx0W2VdPW8sbltvXS5nZW9tZXRyeVswXS5zaGlmdCgpLG5bb10uZ2VvbWV0cnlbMF09aVswXS5jb25jYXQobltvXS5nZW9tZXRyeVswXSksb31mdW5jdGlvbiBsKGUsdCxyKXtjb25zdCBuPXI/dFswXVt0WzBdLmxlbmd0aC0xXTp0WzBdWzBdO3JldHVybmAke2V9OiR7bi54fToke24ueX1gfWZvcihsZXQgYz0wO2M8ZS5sZW5ndGg7YysrKXtjb25zdCB1PWVbY10saD11Lmdlb21ldHJ5LGQ9dS50ZXh0P3UudGV4dC50b1N0cmluZygpOm51bGw7aWYoIWQpe28oYyk7Y29udGludWV9Y29uc3QgcD1sKGQsaCksZj1sKGQsaCwhMCk7aWYocCBpbiByJiZmIGluIHQmJnJbcF0hPT10W2ZdKXtjb25zdCBlPXMocCxmLGgpLGk9YShwLGYsbltlXS5nZW9tZXRyeSk7ZGVsZXRlIHRbcF0sZGVsZXRlIHJbZl0scltsKGQsbltpXS5nZW9tZXRyeSwhMCldPWksbltlXS5nZW9tZXRyeT1udWxsfWVsc2UgcCBpbiByP2EocCxmLGgpOmYgaW4gdD9zKHAsZixoKToobyhjKSx0W3BdPWktMSxyW2ZdPWktMSl9cmV0dXJuIG4uZmlsdGVyKGU9PmUuZ2VvbWV0cnkpfSh0aGlzLmZlYXR1cmVzKSksdGhpcy5zb3J0RmVhdHVyZXNCeUtleSYmdGhpcy5mZWF0dXJlcy5zb3J0KChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KX11cGRhdGUoZSx0LHIsbil7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJih0aGlzLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCx0aGlzLmxheWVycyxyLG4pLHRoaXMuaWNvbi5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXMoZSx0LHRoaXMubGF5ZXJzLHIsbikpfWlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCYmIXRoaXMuaGFzUlRMVGV4dH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuIXRoaXMudXBsb2FkZWR8fHRoaXMudGV4dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR8fHRoaXMuaWNvbi5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWR9dXBsb2FkKGUpeyF0aGlzLnVwbG9hZGVkJiZ0aGlzLmhhc0RlYnVnRGF0YSgpJiYodGhpcy50ZXh0Q29sbGlzaW9uQm94LnVwbG9hZChlKSx0aGlzLmljb25Db2xsaXNpb25Cb3gudXBsb2FkKGUpKSx0aGlzLnRleHQudXBsb2FkKGUsdGhpcy5zb3J0RmVhdHVyZXNCeVksIXRoaXMudXBsb2FkZWQsdGhpcy50ZXh0LnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZCksdGhpcy5pY29uLnVwbG9hZChlLHRoaXMuc29ydEZlYXR1cmVzQnlZLCF0aGlzLnVwbG9hZGVkLHRoaXMuaWNvbi5wcm9ncmFtQ29uZmlndXJhdGlvbnMubmVlZHNVcGxvYWQpLHRoaXMudXBsb2FkZWQ9ITB9ZGVzdHJveURlYnVnRGF0YSgpe3RoaXMudGV4dENvbGxpc2lvbkJveC5kZXN0cm95KCksdGhpcy5pY29uQ29sbGlzaW9uQm94LmRlc3Ryb3koKX1nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbkluc3RhbmNlfHwodGhpcy5wcm9qZWN0aW9uSW5zdGFuY2U9VnAodGhpcy5wcm9qZWN0aW9uKSksdGhpcy5wcm9qZWN0aW9uSW5zdGFuY2V9ZGVzdHJveSgpe3RoaXMudGV4dC5kZXN0cm95KCksdGhpcy5pY29uLmRlc3Ryb3koKSx0aGlzLmhhc0RlYnVnRGF0YSgpJiZ0aGlzLmRlc3Ryb3lEZWJ1Z0RhdGEoKX1hZGRUb0xpbmVWZXJ0ZXhBcnJheShlLHQpe2NvbnN0IHI9dGhpcy5saW5lVmVydGV4QXJyYXkubGVuZ3RoLG49ZS5zZWdtZW50O2lmKHZvaWQgMCE9PW4pe2xldCByPWUuZGlzdCh0W24rMV0pLGk9ZS5kaXN0KHRbbl0pO2NvbnN0IG89e307Zm9yKGxldCBlPW4rMTtlPHQubGVuZ3RoO2UrKylvW2VdPXt4OnRbZV0ueCx5OnRbZV0ueSx0aWxlVW5pdERpc3RhbmNlRnJvbUFuY2hvcjpyfSxlPHQubGVuZ3RoLTEmJihyKz10W2UrMV0uZGlzdCh0W2VdKSk7Zm9yKGxldCBlPW58fDA7ZT49MDtlLS0pb1tlXT17eDp0W2VdLngseTp0W2VdLnksdGlsZVVuaXREaXN0YW5jZUZyb21BbmNob3I6aX0sZT4wJiYoaSs9dFtlLTFdLmRpc3QodFtlXSkpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCB0PW9bZV07dGhpcy5saW5lVmVydGV4QXJyYXkuZW1wbGFjZUJhY2sodC54LHQueSx0LnRpbGVVbml0RGlzdGFuY2VGcm9tQW5jaG9yKX19cmV0dXJue2xpbmVTdGFydEluZGV4OnIsbGluZUxlbmd0aDp0aGlzLmxpbmVWZXJ0ZXhBcnJheS5sZW5ndGgtcn19YWRkU3ltYm9scyhlLHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHApe2NvbnN0IGY9ZS5pbmRleEFycmF5LG09ZS5sYXlvdXRWZXJ0ZXhBcnJheSxnPWUuZ2xvYmVFeHRWZXJ0ZXhBcnJheSxfPWUuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCp0Lmxlbmd0aCxtLGYsdGhpcy5jYW5PdmVybGFwP28uc29ydEtleTp2b2lkIDApLHk9dGhpcy5nbHlwaE9mZnNldEFycmF5Lmxlbmd0aCx2PV8udmVydGV4TGVuZ3RoLHg9dGhpcy5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZhPT09JGgudmVydGljYWw/TWF0aC5QSS8yOjAsYj1vLnRleHQmJm8udGV4dC5zZWN0aW9ucztmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3R7dGw6aSx0cjphLGJsOmMsYnI6dSx0ZXg6aCxwaXhlbE9mZnNldFRMOnkscGl4ZWxPZmZzZXRCUjp2LG1pbkZvbnRTY2FsZVg6dyxtaW5Gb250U2NhbGVZOlQsZ2x5cGhPZmZzZXQ6RSxpc1NERjpTLHNlY3Rpb25JbmRleDpDfT10W25dLE09Xy52ZXJ0ZXhMZW5ndGgsaz1FWzFdO2lmKFpwKG0sbC54LGwueSxpLngsaytpLnksaC54LGgueSxyLFMseS54LHkueSx3LFQpLFpwKG0sbC54LGwueSxhLngsaythLnksaC54K2gudyxoLnkscixTLHYueCx5LnksdyxUKSxacChtLGwueCxsLnksYy54LGsrYy55LGgueCxoLnkraC5oLHIsUyx5Lngsdi55LHcsVCksWnAobSxsLngsbC55LHUueCxrK3UueSxoLngraC53LGgueStoLmgscixTLHYueCx2LnksdyxUKSxzKXtjb25zdCB0PXMuYW5jaG9yLHI9cy51cDskcChnLHQueCx0LnksdC56LHJbMF0sclsxXSxyWzJdKSwkcChnLHQueCx0LnksdC56LHJbMF0sclsxXSxyWzJdKSwkcChnLHQueCx0LnksdC56LHJbMF0sclsxXSxyWzJdKSwkcChnLHQueCx0LnksdC56LHJbMF0sclsxXSxyWzJdKSxXcChlLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSx0LngsdC55LHQueix4KX1lbHNlIFdwKGUuZHluYW1pY0xheW91dFZlcnRleEFycmF5LGwueCxsLnksbC56LHgpO2YuZW1wbGFjZUJhY2soTSxNKzEsTSsyKSxmLmVtcGxhY2VCYWNrKE0rMSxNKzIsTSszKSxfLnZlcnRleExlbmd0aCs9NCxfLnByaW1pdGl2ZUxlbmd0aCs9Mix0aGlzLmdseXBoT2Zmc2V0QXJyYXkuZW1wbGFjZUJhY2soRVswXSksbiE9PXQubGVuZ3RoLTEmJkM9PT10W24rMV0uc2VjdGlvbkluZGV4fHxlLnByb2dyYW1Db25maWd1cmF0aW9ucy5wb3B1bGF0ZVBhaW50QXJyYXlzKG0ubGVuZ3RoLG8sby5pbmRleCx7fSxkLHAsYiYmYltDXSl9Y29uc3Qgdz1zP3MuYW5jaG9yOmw7ZS5wbGFjZWRTeW1ib2xBcnJheS5lbXBsYWNlQmFjayh3Lngsdy55LHcueixsLngsbC55LHksdGhpcy5nbHlwaE9mZnNldEFycmF5Lmxlbmd0aC15LHYsYyx1LGwuc2VnbWVudCxyP3JbMF06MCxyP3JbMV06MCxuWzBdLG5bMV0sYSwwLCExLDAsaCwwKX1fY29tbWl0TGF5b3V0VmVydGV4KGUsdCxyLG4saSxvLGEpe2UuZW1wbGFjZUJhY2sodCxyLG4saSxvLE1hdGgucm91bmQoYS54KSxNYXRoLnJvdW5kKGEueSkpfV9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRpY2VzKGUsdCxyLG4saSxvLGEpe2NvbnN0IHM9ci5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCg0LHIubGF5b3V0VmVydGV4QXJyYXksci5pbmRleEFycmF5KSxsPXMudmVydGV4TGVuZ3RoLGM9YS50aWxlQW5jaG9yWCx1PWEudGlsZUFuY2hvclk7Zm9yKGxldCBlPTA7ZTw0O2UrKylyLmNvbGxpc2lvblZlcnRleEFycmF5LmVtcGxhY2VCYWNrKDAsMCwwLDApO3IuY29sbGlzaW9uVmVydGV4QXJyYXlFeHQuZW1wbGFjZUJhY2sodCwtZS5wYWRkaW5nLC1lLnBhZGRpbmcpLHIuY29sbGlzaW9uVmVydGV4QXJyYXlFeHQuZW1wbGFjZUJhY2sodCxlLnBhZGRpbmcsLWUucGFkZGluZyksci5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5lbXBsYWNlQmFjayh0LGUucGFkZGluZyxlLnBhZGRpbmcpLHIuY29sbGlzaW9uVmVydGV4QXJyYXlFeHQuZW1wbGFjZUJhY2sodCwtZS5wYWRkaW5nLGUucGFkZGluZyksdGhpcy5fY29tbWl0TGF5b3V0VmVydGV4KHIubGF5b3V0VmVydGV4QXJyYXksbixpLG8sYyx1LG5ldyBtKGUueDEsZS55MSkpLHRoaXMuX2NvbW1pdExheW91dFZlcnRleChyLmxheW91dFZlcnRleEFycmF5LG4saSxvLGMsdSxuZXcgbShlLngyLGUueTEpKSx0aGlzLl9jb21taXRMYXlvdXRWZXJ0ZXgoci5sYXlvdXRWZXJ0ZXhBcnJheSxuLGksbyxjLHUsbmV3IG0oZS54MixlLnkyKSksdGhpcy5fY29tbWl0TGF5b3V0VmVydGV4KHIubGF5b3V0VmVydGV4QXJyYXksbixpLG8sYyx1LG5ldyBtKGUueDEsZS55MikpLHMudmVydGV4TGVuZ3RoKz00O2NvbnN0IGg9ci5pbmRleEFycmF5O2guZW1wbGFjZUJhY2sobCxsKzEpLGguZW1wbGFjZUJhY2sobCsxLGwrMiksaC5lbXBsYWNlQmFjayhsKzIsbCszKSxoLmVtcGxhY2VCYWNrKGwrMyxsKSxzLnByaW1pdGl2ZUxlbmd0aCs9NH1fYWRkVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMoZSx0LHIsbixpLG8pe2ZvcihsZXQgYT1uO2E8aTthKyspe2NvbnN0IG49ci5nZXQoYSksaT10aGlzLmdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUoZSxvLHQsYSk7dGhpcy5fYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcyhuLGksdGhpcy50ZXh0Q29sbGlzaW9uQm94LG4ucHJvamVjdGVkQW5jaG9yWCxuLnByb2plY3RlZEFuY2hvclksbi5wcm9qZWN0ZWRBbmNob3JaLG8pfX1fYWRkSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMoZSx0LHIsbixpLG8pe2ZvcihsZXQgYT1uO2E8aTthKyspe2NvbnN0IG49ci5nZXQoYSksaT10aGlzLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUoZSx0LG8ucGxhY2VkSWNvblN5bWJvbEluZGV4KTt0aGlzLl9hZGRDb2xsaXNpb25EZWJ1Z1ZlcnRpY2VzKG4saSx0aGlzLmljb25Db2xsaXNpb25Cb3gsbi5wcm9qZWN0ZWRBbmNob3JYLG4ucHJvamVjdGVkQW5jaG9yWSxuLnByb2plY3RlZEFuY2hvclosbyl9fWdlbmVyYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKGUsdCl7dGhpcy5oYXNEZWJ1Z0RhdGEoKSYmdGhpcy5kZXN0cm95RGVidWdEYXRhKCksdGhpcy50ZXh0Q29sbGlzaW9uQm94PW5ldyBZcChjYSxzaC5tZW1iZXJzLHZhKSx0aGlzLmljb25Db2xsaXNpb25Cb3g9bmV3IFlwKGNhLHNoLm1lbWJlcnMsdmEpO2NvbnN0IHI9ZGgodGhpcy5pY29uU2l6ZURhdGEsZSksbj1kaCh0aGlzLnRleHRTaXplRGF0YSxlKTtmb3IobGV0IGk9MDtpPHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtpKyspe2NvbnN0IG89dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGkpO3RoaXMuX2FkZFRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKG4sZSx0LG8udGV4dEJveFN0YXJ0SW5kZXgsby50ZXh0Qm94RW5kSW5kZXgsbyksdGhpcy5fYWRkVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMobixlLHQsby52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LG8udmVydGljYWxUZXh0Qm94RW5kSW5kZXgsbyksdGhpcy5fYWRkSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMocixlLHQsby5pY29uQm94U3RhcnRJbmRleCxvLmljb25Cb3hFbmRJbmRleCxvKSx0aGlzLl9hZGRJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhyLGUsdCxvLnZlcnRpY2FsSWNvbkJveFN0YXJ0SW5kZXgsby52ZXJ0aWNhbEljb25Cb3hFbmRJbmRleCxvKX19Z2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShlLHQscixuKXtjb25zdCBpPXRoaXMudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQodC5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleD49MD90LnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OnQuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4Pj0wP3QuY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OnQubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleD49MD90LmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6dC52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleD49MD90LnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4Om4pLG89aGgodGhpcy50ZXh0U2l6ZURhdGEsZSxpKS8yNDtyZXR1cm4gdGhpcy50aWxlUGl4ZWxSYXRpbypvfWdldFN5bWJvbEluc3RhbmNlSWNvblNpemUoZSx0LHIpe2NvbnN0IG49dGhpcy5pY29uLnBsYWNlZFN5bWJvbEFycmF5LmdldChyKSxpPWhoKHRoaXMuaWNvblNpemVEYXRhLGUsbik7cmV0dXJuIHRoaXMudGlsZVBpeGVsUmF0aW8qaX1fY29tbWl0RGVidWdDb2xsaXNpb25WZXJ0ZXhVcGRhdGUoZSx0LHIpe2UuZW1wbGFjZUJhY2sodCwtciwtciksZS5lbXBsYWNlQmFjayh0LHIsLXIpLGUuZW1wbGFjZUJhY2sodCxyLHIpLGUuZW1wbGFjZUJhY2sodCwtcixyKX1fdXBkYXRlVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMoZSx0LHIsbixpLG8pe2ZvcihsZXQgYT1uO2E8aTthKyspe2NvbnN0IG49ci5nZXQoYSksaT10aGlzLmdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUoZSxvLHQsYSk7dGhpcy5fY29tbWl0RGVidWdDb2xsaXNpb25WZXJ0ZXhVcGRhdGUodGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LGksbi5wYWRkaW5nKX19X3VwZGF0ZUljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKGUsdCxyLG4saSxvKXtmb3IobGV0IGE9bjthPGk7YSsrKXtjb25zdCBuPXIuZ2V0KGEpLGk9dGhpcy5nZXRTeW1ib2xJbnN0YW5jZUljb25TaXplKGUsdCxvKTt0aGlzLl9jb21taXREZWJ1Z0NvbGxpc2lvblZlcnRleFVwZGF0ZSh0aGlzLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQsaSxuLnBhZGRpbmcpfX11cGRhdGVDb2xsaXNpb25EZWJ1Z0J1ZmZlcnMoZSx0KXtpZighdGhpcy5oYXNEZWJ1Z0RhdGEoKSlyZXR1cm47dGhpcy5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZ0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQuY2xlYXIoKSx0aGlzLmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dC5jbGVhcigpO2NvbnN0IHI9ZGgodGhpcy5pY29uU2l6ZURhdGEsZSksbj1kaCh0aGlzLnRleHRTaXplRGF0YSxlKTtmb3IobGV0IGk9MDtpPHRoaXMuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtpKyspe2NvbnN0IG89dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGkpO3RoaXMuX3VwZGF0ZVRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKG4sZSx0LG8udGV4dEJveFN0YXJ0SW5kZXgsby50ZXh0Qm94RW5kSW5kZXgsbyksdGhpcy5fdXBkYXRlVGV4dERlYnVnQ29sbGlzaW9uQm94ZXMobixlLHQsby52ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4LG8udmVydGljYWxUZXh0Qm94RW5kSW5kZXgsbyksdGhpcy5fdXBkYXRlSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMocixlLHQsby5pY29uQm94U3RhcnRJbmRleCxvLmljb25Cb3hFbmRJbmRleCxvLnBsYWNlZEljb25TeW1ib2xJbmRleCksdGhpcy5fdXBkYXRlSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMocixlLHQsby52ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4LG8udmVydGljYWxJY29uQm94RW5kSW5kZXgsby5wbGFjZWRJY29uU3ltYm9sSW5kZXgpfXRoaXMuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSYmdGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dCYmdGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dC51cGRhdGVEYXRhKHRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCksdGhpcy5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpJiZ0aGlzLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0JiZ0aGlzLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyRXh0LnVwZGF0ZURhdGEodGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0KX1fZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlc0ZvclN5bWJvbChlLHQscixuLGksbyxhLHMsbCl7Y29uc3QgYz17fTtmb3IobGV0IG49dDtuPHI7bisrKXtjb25zdCB0PWUuZ2V0KG4pO2MudGV4dEJveD17eDE6dC54MSx5MTp0LnkxLHgyOnQueDIseTI6dC55MixwYWRkaW5nOnQucGFkZGluZyxwcm9qZWN0ZWRBbmNob3JYOnQucHJvamVjdGVkQW5jaG9yWCxwcm9qZWN0ZWRBbmNob3JZOnQucHJvamVjdGVkQW5jaG9yWSxwcm9qZWN0ZWRBbmNob3JaOnQucHJvamVjdGVkQW5jaG9yWix0aWxlQW5jaG9yWDp0LnRpbGVBbmNob3JYLHRpbGVBbmNob3JZOnQudGlsZUFuY2hvcll9LGMudGV4dEZlYXR1cmVJbmRleD10LmZlYXR1cmVJbmRleDticmVha31mb3IobGV0IHQ9bjt0PGk7dCsrKXtjb25zdCByPWUuZ2V0KHQpO2MudmVydGljYWxUZXh0Qm94PXt4MTpyLngxLHkxOnIueTEseDI6ci54Mix5MjpyLnkyLHBhZGRpbmc6ci5wYWRkaW5nLHByb2plY3RlZEFuY2hvclg6ci5wcm9qZWN0ZWRBbmNob3JYLHByb2plY3RlZEFuY2hvclk6ci5wcm9qZWN0ZWRBbmNob3JZLHByb2plY3RlZEFuY2hvclo6ci5wcm9qZWN0ZWRBbmNob3JaLHRpbGVBbmNob3JYOnIudGlsZUFuY2hvclgsdGlsZUFuY2hvclk6ci50aWxlQW5jaG9yWX0sYy52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXg9ci5mZWF0dXJlSW5kZXg7YnJlYWt9Zm9yKGxldCB0PW87dDxhO3QrKyl7Y29uc3Qgcj1lLmdldCh0KTtjLmljb25Cb3g9e3gxOnIueDEseTE6ci55MSx4MjpyLngyLHkyOnIueTIscGFkZGluZzpyLnBhZGRpbmcscHJvamVjdGVkQW5jaG9yWDpyLnByb2plY3RlZEFuY2hvclgscHJvamVjdGVkQW5jaG9yWTpyLnByb2plY3RlZEFuY2hvclkscHJvamVjdGVkQW5jaG9yWjpyLnByb2plY3RlZEFuY2hvclosdGlsZUFuY2hvclg6ci50aWxlQW5jaG9yWCx0aWxlQW5jaG9yWTpyLnRpbGVBbmNob3JZfSxjLmljb25GZWF0dXJlSW5kZXg9ci5mZWF0dXJlSW5kZXg7YnJlYWt9Zm9yKGxldCB0PXM7dDxsO3QrKyl7Y29uc3Qgcj1lLmdldCh0KTtjLnZlcnRpY2FsSWNvbkJveD17eDE6ci54MSx5MTpyLnkxLHgyOnIueDIseTI6ci55MixwYWRkaW5nOnIucGFkZGluZyxwcm9qZWN0ZWRBbmNob3JYOnIucHJvamVjdGVkQW5jaG9yWCxwcm9qZWN0ZWRBbmNob3JZOnIucHJvamVjdGVkQW5jaG9yWSxwcm9qZWN0ZWRBbmNob3JaOnIucHJvamVjdGVkQW5jaG9yWix0aWxlQW5jaG9yWDpyLnRpbGVBbmNob3JYLHRpbGVBbmNob3JZOnIudGlsZUFuY2hvcll9LGMudmVydGljYWxJY29uRmVhdHVyZUluZGV4PXIuZmVhdHVyZUluZGV4O2JyZWFrfXJldHVybiBjfWRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMoZSl7dGhpcy5jb2xsaXNpb25BcnJheXM9W107Zm9yKGxldCB0PTA7dDx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7dCsrKXtjb25zdCByPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldCh0KTt0aGlzLmNvbGxpc2lvbkFycmF5cy5wdXNoKHRoaXMuX2Rlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXNGb3JTeW1ib2woZSxyLnRleHRCb3hTdGFydEluZGV4LHIudGV4dEJveEVuZEluZGV4LHIudmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCxyLnZlcnRpY2FsVGV4dEJveEVuZEluZGV4LHIuaWNvbkJveFN0YXJ0SW5kZXgsci5pY29uQm94RW5kSW5kZXgsci52ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4LHIudmVydGljYWxJY29uQm94RW5kSW5kZXgpKX19aGFzVGV4dERhdGEoKXtyZXR1cm4gdGhpcy50ZXh0LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWhhc0ljb25EYXRhKCl7cmV0dXJuIHRoaXMuaWNvbi5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1oYXNEZWJ1Z0RhdGEoKXtyZXR1cm4gdGhpcy50ZXh0Q29sbGlzaW9uQm94JiZ0aGlzLmljb25Db2xsaXNpb25Cb3h9aGFzVGV4dENvbGxpc2lvbkJveERhdGEoKXtyZXR1cm4gdGhpcy5oYXNEZWJ1Z0RhdGEoKSYmdGhpcy50ZXh0Q29sbGlzaW9uQm94LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCl7cmV0dXJuIHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKGUsdCl7Y29uc3Qgcj1lLnBsYWNlZFN5bWJvbEFycmF5LmdldCh0KSxuPXIudmVydGV4U3RhcnRJbmRleCs0KnIubnVtR2x5cGhzO2ZvcihsZXQgdD1yLnZlcnRleFN0YXJ0SW5kZXg7dDxuO3QrPTQpZS5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHQsdCsxLHQrMiksZS5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHQrMSx0KzIsdCszKX1nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKGUpe2lmKHRoaXMuc29ydGVkQW5nbGU9PT1lJiZ2b2lkIDAhPT10aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcylyZXR1cm4gdGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM7Y29uc3QgdD1NYXRoLnNpbihlKSxyPU1hdGguY29zKGUpLG49W10saT1bXSxvPVtdO2ZvcihsZXQgZT0wO2U8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoOysrZSl7by5wdXNoKGUpO2NvbnN0IGE9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpO24ucHVzaCgwfE1hdGgucm91bmQodCphLnRpbGVBbmNob3JYK3IqYS50aWxlQW5jaG9yWSkpLGkucHVzaChhLmZlYXR1cmVJbmRleCl9cmV0dXJuIG8uc29ydCgoZSx0KT0+bltlXS1uW3RdfHxpW3RdLWlbZV0pLG99YWRkVG9Tb3J0S2V5UmFuZ2VzKGUsdCl7Y29uc3Qgcj10aGlzLnNvcnRLZXlSYW5nZXNbdGhpcy5zb3J0S2V5UmFuZ2VzLmxlbmd0aC0xXTtyJiZyLnNvcnRLZXk9PT10P3Iuc3ltYm9sSW5zdGFuY2VFbmQ9ZSsxOnRoaXMuc29ydEtleVJhbmdlcy5wdXNoKHtzb3J0S2V5OnQsc3ltYm9sSW5zdGFuY2VTdGFydDplLHN5bWJvbEluc3RhbmNlRW5kOmUrMX0pfXNvcnRGZWF0dXJlcyhlKXtpZih0aGlzLnNvcnRGZWF0dXJlc0J5WSYmdGhpcy5zb3J0ZWRBbmdsZSE9PWUmJiEodGhpcy50ZXh0LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4xfHx0aGlzLmljb24uc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjEpKXt0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcz10aGlzLmdldFNvcnRlZFN5bWJvbEluZGV4ZXMoZSksdGhpcy5zb3J0ZWRBbmdsZT1lLHRoaXMudGV4dC5pbmRleEFycmF5LmNsZWFyKCksdGhpcy5pY29uLmluZGV4QXJyYXkuY2xlYXIoKSx0aGlzLmZlYXR1cmVTb3J0T3JkZXI9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXMpe2NvbnN0IHQ9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpO3RoaXMuZmVhdHVyZVNvcnRPcmRlci5wdXNoKHQuZmVhdHVyZUluZGV4KSxbdC5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCx0LmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCx0LmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXhdLmZvckVhY2goKGUsdCxyKT0+e2U+PTAmJnIuaW5kZXhPZihlKT09PXQmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsZSl9KSx0LnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4Pj0wJiZ0aGlzLmFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2wodGhpcy50ZXh0LHQudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgpLHQucGxhY2VkSWNvblN5bWJvbEluZGV4Pj0wJiZ0aGlzLmFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2wodGhpcy5pY29uLHQucGxhY2VkSWNvblN5bWJvbEluZGV4KSx0LnZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4Pj0wJiZ0aGlzLmFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2wodGhpcy5pY29uLHQudmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXgpfXRoaXMudGV4dC5pbmRleEJ1ZmZlciYmdGhpcy50ZXh0LmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy50ZXh0LmluZGV4QXJyYXkpLHRoaXMuaWNvbi5pbmRleEJ1ZmZlciYmdGhpcy5pY29uLmluZGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5pY29uLmluZGV4QXJyYXkpfX19SWkoS3AsXCJTeW1ib2xCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIixcImNvbGxpc2lvbkJveEFycmF5XCIsXCJmZWF0dXJlc1wiLFwiY29tcGFyZVRleHRcIl19KSxLcC5NQVhfR0xZUEhTPTY1NTM1LEtwLmFkZER5bmFtaWNBdHRyaWJ1dGVzPVdwO2NvbnN0IEpwPW5ldyBxbyh7XCJzeW1ib2wtcGxhY2VtZW50XCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJzeW1ib2wtcGxhY2VtZW50XCJdKSxcInN5bWJvbC1zcGFjaW5nXCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJzeW1ib2wtc3BhY2luZ1wiXSksXCJzeW1ib2wtYXZvaWQtZWRnZXNcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1hdm9pZC1lZGdlc1wiXSksXCJzeW1ib2wtc29ydC1rZXlcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1zb3J0LWtleVwiXSksXCJzeW1ib2wtei1vcmRlclwiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLXotb3JkZXJcIl0pLFwiaWNvbi1hbGxvdy1vdmVybGFwXCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJpY29uLWFsbG93LW92ZXJsYXBcIl0pLFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIl0pLFwiaWNvbi1vcHRpb25hbFwiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1vcHRpb25hbFwiXSksXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIl0pLFwiaWNvbi1zaXplXCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJpY29uLXNpemVcIl0pLFwiaWNvbi10ZXh0LWZpdFwiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi10ZXh0LWZpdFwiXSksXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcImljb24tdGV4dC1maXQtcGFkZGluZ1wiXSksXCJpY29uLWltYWdlXCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJpY29uLWltYWdlXCJdKSxcImljb24tcm90YXRlXCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJpY29uLXJvdGF0ZVwiXSksXCJpY29uLXBhZGRpbmdcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcImljb24tcGFkZGluZ1wiXSksXCJpY29uLWtlZXAtdXByaWdodFwiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1rZWVwLXVwcmlnaHRcIl0pLFwiaWNvbi1vZmZzZXRcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcImljb24tb2Zmc2V0XCJdKSxcImljb24tYW5jaG9yXCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJpY29uLWFuY2hvclwiXSksXCJpY29uLXBpdGNoLWFsaWdubWVudFwiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1waXRjaC1hbGlnbm1lbnRcIl0pLFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtcGl0Y2gtYWxpZ25tZW50XCJdKSxcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiXSksXCJ0ZXh0LWZpZWxkXCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWZpZWxkXCJdKSxcInRleHQtZm9udFwiOm5ldyBVbyhZZS5sYXlvdXRfc3ltYm9sW1widGV4dC1mb250XCJdKSxcInRleHQtc2l6ZVwiOm5ldyBVbyhZZS5sYXlvdXRfc3ltYm9sW1widGV4dC1zaXplXCJdKSxcInRleHQtbWF4LXdpZHRoXCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LW1heC13aWR0aFwiXSksXCJ0ZXh0LWxpbmUtaGVpZ2h0XCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWxpbmUtaGVpZ2h0XCJdKSxcInRleHQtbGV0dGVyLXNwYWNpbmdcIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtbGV0dGVyLXNwYWNpbmdcIl0pLFwidGV4dC1qdXN0aWZ5XCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWp1c3RpZnlcIl0pLFwidGV4dC1yYWRpYWwtb2Zmc2V0XCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIl0pLFwidGV4dC12YXJpYWJsZS1hbmNob3JcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtdmFyaWFibGUtYW5jaG9yXCJdKSxcInRleHQtYW5jaG9yXCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWFuY2hvclwiXSksXCJ0ZXh0LW1heC1hbmdsZVwiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1widGV4dC1tYXgtYW5nbGVcIl0pLFwidGV4dC13cml0aW5nLW1vZGVcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtd3JpdGluZy1tb2RlXCJdKSxcInRleHQtcm90YXRlXCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXJvdGF0ZVwiXSksXCJ0ZXh0LXBhZGRpbmdcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtcGFkZGluZ1wiXSksXCJ0ZXh0LWtlZXAtdXByaWdodFwiOm5ldyBqbyhZZS5sYXlvdXRfc3ltYm9sW1widGV4dC1rZWVwLXVwcmlnaHRcIl0pLFwidGV4dC10cmFuc2Zvcm1cIjpuZXcgVW8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtdHJhbnNmb3JtXCJdKSxcInRleHQtb2Zmc2V0XCI6bmV3IFVvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LW9mZnNldFwiXSksXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtYWxsb3ctb3ZlcmxhcFwiXSksXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIjpuZXcgam8oWWUubGF5b3V0X3N5bWJvbFtcInRleHQtaWdub3JlLXBsYWNlbWVudFwiXSksXCJ0ZXh0LW9wdGlvbmFsXCI6bmV3IGpvKFllLmxheW91dF9zeW1ib2xbXCJ0ZXh0LW9wdGlvbmFsXCJdKX0pO3ZhciBRcD17cGFpbnQ6bmV3IHFvKHtcImljb24tb3BhY2l0eVwiOm5ldyBVbyhZZS5wYWludF9zeW1ib2xbXCJpY29uLW9wYWNpdHlcIl0pLFwiaWNvbi1jb2xvclwiOm5ldyBVbyhZZS5wYWludF9zeW1ib2xbXCJpY29uLWNvbG9yXCJdKSxcImljb24taGFsby1jb2xvclwiOm5ldyBVbyhZZS5wYWludF9zeW1ib2xbXCJpY29uLWhhbG8tY29sb3JcIl0pLFwiaWNvbi1oYWxvLXdpZHRoXCI6bmV3IFVvKFllLnBhaW50X3N5bWJvbFtcImljb24taGFsby13aWR0aFwiXSksXCJpY29uLWhhbG8tYmx1clwiOm5ldyBVbyhZZS5wYWludF9zeW1ib2xbXCJpY29uLWhhbG8tYmx1clwiXSksXCJpY29uLXRyYW5zbGF0ZVwiOm5ldyBqbyhZZS5wYWludF9zeW1ib2xbXCJpY29uLXRyYW5zbGF0ZVwiXSksXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgam8oWWUucGFpbnRfc3ltYm9sW1wiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCJdKSxcInRleHQtb3BhY2l0eVwiOm5ldyBVbyhZZS5wYWludF9zeW1ib2xbXCJ0ZXh0LW9wYWNpdHlcIl0pLFwidGV4dC1jb2xvclwiOm5ldyBVbyhZZS5wYWludF9zeW1ib2xbXCJ0ZXh0LWNvbG9yXCJdLHtydW50aW1lVHlwZTpsdCxnZXRPdmVycmlkZTplPT5lLnRleHRDb2xvcixoYXNPdmVycmlkZTplPT4hIWUudGV4dENvbG9yfSksXCJ0ZXh0LWhhbG8tY29sb3JcIjpuZXcgVW8oWWUucGFpbnRfc3ltYm9sW1widGV4dC1oYWxvLWNvbG9yXCJdKSxcInRleHQtaGFsby13aWR0aFwiOm5ldyBVbyhZZS5wYWludF9zeW1ib2xbXCJ0ZXh0LWhhbG8td2lkdGhcIl0pLFwidGV4dC1oYWxvLWJsdXJcIjpuZXcgVW8oWWUucGFpbnRfc3ltYm9sW1widGV4dC1oYWxvLWJsdXJcIl0pLFwidGV4dC10cmFuc2xhdGVcIjpuZXcgam8oWWUucGFpbnRfc3ltYm9sW1widGV4dC10cmFuc2xhdGVcIl0pLFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IGpvKFllLnBhaW50X3N5bWJvbFtcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiXSl9KSxsYXlvdXQ6SnB9O2NsYXNzIGVme2NvbnN0cnVjdG9yKGUpe3RoaXMudHlwZT1lLnByb3BlcnR5Lm92ZXJyaWRlcz9lLnByb3BlcnR5Lm92ZXJyaWRlcy5ydW50aW1lVHlwZTppdCx0aGlzLmRlZmF1bHRWYWx1ZT1lfWV2YWx1YXRlKGUpe2lmKGUuZm9ybWF0dGVkU2VjdGlvbil7Y29uc3QgdD10aGlzLmRlZmF1bHRWYWx1ZS5wcm9wZXJ0eS5vdmVycmlkZXM7aWYodCYmdC5oYXNPdmVycmlkZShlLmZvcm1hdHRlZFNlY3Rpb24pKXJldHVybiB0LmdldE92ZXJyaWRlKGUuZm9ybWF0dGVkU2VjdGlvbil9cmV0dXJuIGUuZmVhdHVyZSYmZS5mZWF0dXJlU3RhdGU/dGhpcy5kZWZhdWx0VmFsdWUuZXZhbHVhdGUoZS5mZWF0dXJlLGUuZmVhdHVyZVN0YXRlKTp0aGlzLmRlZmF1bHRWYWx1ZS5wcm9wZXJ0eS5zcGVjaWZpY2F0aW9uLmRlZmF1bHR9ZWFjaENoaWxkKGUpe3RoaXMuZGVmYXVsdFZhbHVlLmlzQ29uc3RhbnQoKXx8ZSh0aGlzLmRlZmF1bHRWYWx1ZS52YWx1ZS5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb24pfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtyZXR1cm4gbnVsbH19SWkoZWYsXCJGb3JtYXRTZWN0aW9uT3ZlcnJpZGVcIix7b21pdDpbXCJkZWZhdWx0VmFsdWVcIl19KTtjbGFzcyB0ZiBleHRlbmRzIG1ze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsUXApfXJlY2FsY3VsYXRlKGUsdCl7c3VwZXIucmVjYWxjdWxhdGUoZSx0KSxcImF1dG9cIj09PXRoaXMubGF5b3V0LmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1tcImljb24tcm90YXRpb24tYWxpZ25tZW50XCJdPVwicG9pbnRcIiE9PXRoaXMubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik/XCJtYXBcIjpcInZpZXdwb3J0XCIpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJih0aGlzLmxheW91dC5fdmFsdWVzW1widGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIl09XCJwb2ludFwiIT09dGhpcy5sYXlvdXQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKT9cIm1hcFwiOlwidmlld3BvcnRcIiksXCJhdXRvXCI9PT10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiXT10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSksXCJhdXRvXCI9PT10aGlzLmxheW91dC5nZXQoXCJpY29uLXBpdGNoLWFsaWdubWVudFwiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJpY29uLXBpdGNoLWFsaWdubWVudFwiXT10aGlzLmxheW91dC5nZXQoXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiKSk7Y29uc3Qgcj10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXdyaXRpbmctbW9kZVwiKTtpZihyKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IG9mIHIpZS5pbmRleE9mKHQpPDAmJmUucHVzaCh0KTt0aGlzLmxheW91dC5fdmFsdWVzW1widGV4dC13cml0aW5nLW1vZGVcIl09ZX1lbHNlIHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXdyaXRpbmctbW9kZVwiXT1cInBvaW50XCI9PT10aGlzLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpP1tcImhvcml6b250YWxcIl06W1wiaG9yaXpvbnRhbFwiLFwidmVydGljYWxcIl07dGhpcy5fc2V0UGFpbnRPdmVycmlkZXMoKX1nZXRWYWx1ZUFuZFJlc29sdmVUb2tlbnMoZSx0LHIsbil7Y29uc3QgaT10aGlzLmxheW91dC5nZXQoZSkuZXZhbHVhdGUodCx7fSxyLG4pLG89dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQuX3ZhbHVlc1tlXTtyZXR1cm4gby5pc0RhdGFEcml2ZW4oKXx8Rm4oby52YWx1ZSl8fCFpP2k6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5yZXBsYWNlKC97KFtee31dKyl9L2csKHQscik9PnIgaW4gZT9TdHJpbmcoZVtyXSk6XCJcIil9KHQucHJvcGVydGllcyxpKX1jcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBLcChlKX1xdWVyeVJhZGl1cygpe3JldHVybiAwfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoKXtyZXR1cm4hMX1fc2V0UGFpbnRPdmVycmlkZXMoKXtmb3IoY29uc3QgZSBvZiBRcC5wYWludC5vdmVycmlkYWJsZVByb3BlcnRpZXMpe2lmKCF0Zi5oYXNQYWludE92ZXJyaWRlKHRoaXMubGF5b3V0LGUpKWNvbnRpbnVlO2NvbnN0IHQ9dGhpcy5wYWludC5nZXQoZSkscj1uZXcgZWYodCksbj1uZXcgQm4ocix0LnByb3BlcnR5LnNwZWNpZmljYXRpb24pO2xldCBpPW51bGw7aT1cImNvbnN0YW50XCI9PT10LnZhbHVlLmtpbmR8fFwic291cmNlXCI9PT10LnZhbHVlLmtpbmQ/bmV3IFVuKFwic291cmNlXCIsbik6bmV3IE5uKFwiY29tcG9zaXRlXCIsbix0LnZhbHVlLnpvb21TdG9wcyx0LnZhbHVlLl9pbnRlcnBvbGF0aW9uVHlwZSksdGhpcy5wYWludC5fdmFsdWVzW2VdPW5ldyBCbyh0LnByb3BlcnR5LGksdC5wYXJhbWV0ZXJzKX19X2hhbmRsZU92ZXJyaWRhYmxlUGFpbnRQcm9wZXJ0eVVwZGF0ZShlLHQscil7cmV0dXJuISghdGhpcy5sYXlvdXR8fHQuaXNEYXRhRHJpdmVuKCl8fHIuaXNEYXRhRHJpdmVuKCkpJiZ0Zi5oYXNQYWludE92ZXJyaWRlKHRoaXMubGF5b3V0LGUpfXN0YXRpYyBoYXNQYWludE92ZXJyaWRlKGUsdCl7Y29uc3Qgcj1lLmdldChcInRleHQtZmllbGRcIiksbj1RcC5wYWludC5wcm9wZXJ0aWVzW3RdO2xldCBpPSExO2NvbnN0IG89ZT0+e2Zvcihjb25zdCB0IG9mIGUpaWYobi5vdmVycmlkZXMmJm4ub3ZlcnJpZGVzLmhhc092ZXJyaWRlKHQpKXJldHVybiB2b2lkKGk9ITApfTtpZihcImNvbnN0YW50XCI9PT1yLnZhbHVlLmtpbmQmJnIudmFsdWUudmFsdWUgaW5zdGFuY2VvZiBJdClvKHIudmFsdWUudmFsdWUuc2VjdGlvbnMpO2Vsc2UgaWYoXCJzb3VyY2VcIj09PXIudmFsdWUua2luZCl7Y29uc3QgZT10PT57aXx8KHQgaW5zdGFuY2VvZiBCdCYmUnQodC52YWx1ZSk9PT1kdD9vKHQudmFsdWUuc2VjdGlvbnMpOnQgaW5zdGFuY2VvZiBWdD9vKHQuc2VjdGlvbnMpOnQuZWFjaENoaWxkKGUpKX0sdD1yLnZhbHVlO3QuX3N0eWxlRXhwcmVzc2lvbiYmZSh0Ll9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbil9cmV0dXJuIGl9Z2V0UHJvZ3JhbUNvbmZpZ3VyYXRpb24oZSl7cmV0dXJuIG5ldyBzcyh0aGlzLGUpfX12YXIgcmY9e3BhaW50Om5ldyBxbyh7XCJiYWNrZ3JvdW5kLWNvbG9yXCI6bmV3IGpvKFllLnBhaW50X2JhY2tncm91bmRbXCJiYWNrZ3JvdW5kLWNvbG9yXCJdKSxcImJhY2tncm91bmQtcGF0dGVyblwiOm5ldyBWbyhZZS5wYWludF9iYWNrZ3JvdW5kW1wiYmFja2dyb3VuZC1wYXR0ZXJuXCJdKSxcImJhY2tncm91bmQtb3BhY2l0eVwiOm5ldyBqbyhZZS5wYWludF9iYWNrZ3JvdW5kW1wiYmFja2dyb3VuZC1vcGFjaXR5XCJdKX0pfSxuZj17cGFpbnQ6bmV3IHFvKHtcInJhc3Rlci1vcGFjaXR5XCI6bmV3IGpvKFllLnBhaW50X3Jhc3RlcltcInJhc3Rlci1vcGFjaXR5XCJdKSxcInJhc3Rlci1odWUtcm90YXRlXCI6bmV3IGpvKFllLnBhaW50X3Jhc3RlcltcInJhc3Rlci1odWUtcm90YXRlXCJdKSxcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiOm5ldyBqbyhZZS5wYWludF9yYXN0ZXJbXCJyYXN0ZXItYnJpZ2h0bmVzcy1taW5cIl0pLFwicmFzdGVyLWJyaWdodG5lc3MtbWF4XCI6bmV3IGpvKFllLnBhaW50X3Jhc3RlcltcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiXSksXCJyYXN0ZXItc2F0dXJhdGlvblwiOm5ldyBqbyhZZS5wYWludF9yYXN0ZXJbXCJyYXN0ZXItc2F0dXJhdGlvblwiXSksXCJyYXN0ZXItY29udHJhc3RcIjpuZXcgam8oWWUucGFpbnRfcmFzdGVyW1wicmFzdGVyLWNvbnRyYXN0XCJdKSxcInJhc3Rlci1yZXNhbXBsaW5nXCI6bmV3IGpvKFllLnBhaW50X3Jhc3RlcltcInJhc3Rlci1yZXNhbXBsaW5nXCJdKSxcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCI6bmV3IGpvKFllLnBhaW50X3Jhc3RlcltcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCJdKX0pfTtjbGFzcyBvZiBleHRlbmRzIG1ze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUse30pLHRoaXMuaW1wbGVtZW50YXRpb249ZX1pczNEKCl7cmV0dXJuXCIzZFwiPT09dGhpcy5pbXBsZW1lbnRhdGlvbi5yZW5kZXJpbmdNb2RlfWhhc09mZnNjcmVlblBhc3MoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5pbXBsZW1lbnRhdGlvbi5wcmVyZW5kZXJ9cmVjYWxjdWxhdGUoKXt9dXBkYXRlVHJhbnNpdGlvbnMoKXt9aGFzVHJhbnNpdGlvbigpe3JldHVybiExfXNlcmlhbGl6ZSgpe31vbkFkZChlKXt0aGlzLmltcGxlbWVudGF0aW9uLm9uQWRkJiZ0aGlzLmltcGxlbWVudGF0aW9uLm9uQWRkKGUsZS5wYWludGVyLmNvbnRleHQuZ2wpfW9uUmVtb3ZlKGUpe3RoaXMuaW1wbGVtZW50YXRpb24ub25SZW1vdmUmJnRoaXMuaW1wbGVtZW50YXRpb24ub25SZW1vdmUoZSxlLnBhaW50ZXIuY29udGV4dC5nbCl9fXZhciBhZj17cGFpbnQ6bmV3IHFvKHtcInNreS10eXBlXCI6bmV3IGpvKFllLnBhaW50X3NreVtcInNreS10eXBlXCJdKSxcInNreS1hdG1vc3BoZXJlLXN1blwiOm5ldyBqbyhZZS5wYWludF9za3lbXCJza3ktYXRtb3NwaGVyZS1zdW5cIl0pLFwic2t5LWF0bW9zcGhlcmUtc3VuLWludGVuc2l0eVwiOm5ldyBqbyhZZS5wYWludF9za3lbXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCJdKSxcInNreS1ncmFkaWVudC1jZW50ZXJcIjpuZXcgam8oWWUucGFpbnRfc2t5W1wic2t5LWdyYWRpZW50LWNlbnRlclwiXSksXCJza3ktZ3JhZGllbnQtcmFkaXVzXCI6bmV3IGpvKFllLnBhaW50X3NreVtcInNreS1ncmFkaWVudC1yYWRpdXNcIl0pLFwic2t5LWdyYWRpZW50XCI6bmV3IEdvKFllLnBhaW50X3NreVtcInNreS1ncmFkaWVudFwiXSksXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCI6bmV3IGpvKFllLnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIl0pLFwic2t5LWF0bW9zcGhlcmUtY29sb3JcIjpuZXcgam8oWWUucGFpbnRfc2t5W1wic2t5LWF0bW9zcGhlcmUtY29sb3JcIl0pLFwic2t5LW9wYWNpdHlcIjpuZXcgam8oWWUucGFpbnRfc2t5W1wic2t5LW9wYWNpdHlcIl0pfSl9O2Z1bmN0aW9uIHNmKGUsdCxyKXtjb25zdCBuPVswLDAsMV0saT1YbChbXSk7cmV0dXJuIFlsKGksaSxyPy12KGUpK01hdGguUEk6dihlKSksSGwoaSxpLC12KHQpKSxqbChuLG4saSksTGwobixuKX1jb25zdCBsZj17Y2lyY2xlOmNsYXNzIGV4dGVuZHMgbXN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxjbCl9Y3JlYXRlQnVja2V0KGUpe3JldHVybiBuZXcgWnMoZSl9cXVlcnlSYWRpdXMoZSl7Y29uc3QgdD1lO3JldHVybiBpbChcImNpcmNsZS1yYWRpdXNcIix0aGlzLHQpK2lsKFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiLHRoaXMsdCkrb2wodGhpcy5wYWludC5nZXQoXCJjaXJjbGUtdHJhbnNsYXRlXCIpKX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKGUsdCxyLG4saSxvLGEscyl7Y29uc3QgbD1zbCh0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGVcIiksdGhpcy5wYWludC5nZXQoXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiKSxvLmFuZ2xlLGUucGl4ZWxUb1RpbGVVbml0c0ZhY3RvciksYz10aGlzLnBhaW50LmdldChcImNpcmNsZS1yYWRpdXNcIikuZXZhbHVhdGUodCxyKSt0aGlzLnBhaW50LmdldChcImNpcmNsZS1zdHJva2Utd2lkdGhcIikuZXZhbHVhdGUodCxyKTtyZXR1cm4gcmMoZSxuLG8sYSxzLFwibWFwXCI9PT10aGlzLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIiksXCJtYXBcIj09PXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLXNjYWxlXCIpLGwsYyl9Z2V0UHJvZ3JhbUlkcygpe3JldHVybltcImNpcmNsZVwiXX1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihlKXtyZXR1cm4gbmV3IHNzKHRoaXMsZSl9fSxoZWF0bWFwOmNsYXNzIGV4dGVuZHMgbXN7Y3JlYXRlQnVja2V0KGUpe3JldHVybiBuZXcgc2MoZSl9Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxwYyksdGhpcy5fdXBkYXRlQ29sb3JSYW1wKCl9X2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKGUpe1wiaGVhdG1hcC1jb2xvclwiPT09ZSYmdGhpcy5fdXBkYXRlQ29sb3JSYW1wKCl9X3VwZGF0ZUNvbG9yUmFtcCgpe3RoaXMuY29sb3JSYW1wPWZjKHtleHByZXNzaW9uOnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcImhlYXRtYXAtY29sb3JcIl0udmFsdWUuZXhwcmVzc2lvbixldmFsdWF0aW9uS2V5OlwiaGVhdG1hcERlbnNpdHlcIixpbWFnZTp0aGlzLmNvbG9yUmFtcH0pLHRoaXMuY29sb3JSYW1wVGV4dHVyZT1udWxsfXJlc2l6ZSgpe3RoaXMuaGVhdG1hcEZibyYmKHRoaXMuaGVhdG1hcEZiby5kZXN0cm95KCksdGhpcy5oZWF0bWFwRmJvPW51bGwpfXF1ZXJ5UmFkaXVzKGUpe3JldHVybiBpbChcImhlYXRtYXAtcmFkaXVzXCIsdGhpcyxlKX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKGUsdCxyLG4saSxvLGEscyl7Y29uc3QgbD10aGlzLnBhaW50LmdldChcImhlYXRtYXAtcmFkaXVzXCIpLmV2YWx1YXRlKHQscik7cmV0dXJuIHJjKGUsbixvLGEscywhMCwhMCxuZXcgbSgwLDApLGwpfWhhc09mZnNjcmVlblBhc3MoKXtyZXR1cm4gMCE9PXRoaXMucGFpbnQuZ2V0KFwiaGVhdG1hcC1vcGFjaXR5XCIpJiZcIm5vbmVcIiE9PXRoaXMudmlzaWJpbGl0eX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuW1wiaGVhdG1hcFwiLFwiaGVhdG1hcFRleHR1cmVcIl19Z2V0UHJvZ3JhbUNvbmZpZ3VyYXRpb24oZSl7cmV0dXJuIG5ldyBzcyh0aGlzLGUpfX0saGlsbHNoYWRlOmNsYXNzIGV4dGVuZHMgbXN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxtYyl9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiAwIT09dGhpcy5wYWludC5nZXQoXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCIpJiZcIm5vbmVcIiE9PXRoaXMudmlzaWJpbGl0eX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuW1wiaGlsbHNoYWRlXCIsXCJoaWxsc2hhZGVQcmVwYXJlXCJdfX0sZmlsbDpjbGFzcyBleHRlbmRzIG1ze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsZXUpfWdldFByb2dyYW1JZHMoKXtjb25zdCBlPXRoaXMucGFpbnQuZ2V0KFwiZmlsbC1wYXR0ZXJuXCIpLHQ9ZSYmZS5jb25zdGFudE9yKDEpLHI9W3Q/XCJmaWxsUGF0dGVyblwiOlwiZmlsbFwiXTtyZXR1cm4gdGhpcy5wYWludC5nZXQoXCJmaWxsLWFudGlhbGlhc1wiKSYmci5wdXNoKHQmJiF0aGlzLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/XCJmaWxsT3V0bGluZVBhdHRlcm5cIjpcImZpbGxPdXRsaW5lXCIpLHJ9Z2V0UHJvZ3JhbUNvbmZpZ3VyYXRpb24oZSl7cmV0dXJuIG5ldyBzcyh0aGlzLGUpfXJlY2FsY3VsYXRlKGUsdCl7c3VwZXIucmVjYWxjdWxhdGUoZSx0KTtjb25zdCByPXRoaXMucGFpbnQuX3ZhbHVlc1tcImZpbGwtb3V0bGluZS1jb2xvclwiXTtcImNvbnN0YW50XCI9PT1yLnZhbHVlLmtpbmQmJnZvaWQgMD09PXIudmFsdWUudmFsdWUmJih0aGlzLnBhaW50Ll92YWx1ZXNbXCJmaWxsLW91dGxpbmUtY29sb3JcIl09dGhpcy5wYWludC5fdmFsdWVzW1wiZmlsbC1jb2xvclwiXSl9Y3JlYXRlQnVja2V0KGUpe3JldHVybiBuZXcgSmMoZSl9cXVlcnlSYWRpdXMoKXtyZXR1cm4gb2wodGhpcy5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZVwiKSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZShlLHQscixuLGksbyl7cmV0dXJuIWUucXVlcnlHZW9tZXRyeS5pc0Fib3ZlSG9yaXpvbiYmWHMoYWwoZS50aWxlc3BhY2VHZW9tZXRyeSx0aGlzLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlXCIpLHRoaXMucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCIpLG8uYW5nbGUsZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSxuKX1pc1RpbGVDbGlwcGVkKCl7cmV0dXJuITB9fSxcImZpbGwtZXh0cnVzaW9uXCI6Y2xhc3MgZXh0ZW5kcyBtc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlLEx1KX1jcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBTdShlKX1xdWVyeVJhZGl1cygpe3JldHVybiBvbCh0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiKSl9aXMzRCgpe3JldHVybiEwfWdldFByb2dyYW1JZHMoKXtyZXR1cm5bdGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCIpLmNvbnN0YW50T3IoMSk/XCJmaWxsRXh0cnVzaW9uUGF0dGVyblwiOlwiZmlsbEV4dHJ1c2lvblwiXX1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihlKXtyZXR1cm4gbmV3IHNzKHRoaXMsZSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZShlLHQscixuLGksbyxhLHMsbCl7Y29uc3QgYz1zbCh0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZS1hbmNob3JcIiksby5hbmdsZSxlLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpLHU9dGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIikuZXZhbHVhdGUodCxyKSxoPXRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tYmFzZVwiKS5ldmFsdWF0ZSh0LHIpLGQ9WzAsMF0scD1zJiZvLmVsZXZhdGlvbixmPW8uZWxldmF0aW9uP28uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpOjEsZz1lLnRpbGUuZ2V0QnVja2V0KHRoaXMpO2lmKHAmJmcgaW5zdGFuY2VvZiBTdSl7Y29uc3QgZT1nLmNlbnRyb2lkVmVydGV4QXJyYXksdD1sKzE7aWYodDxlLmxlbmd0aCl7Y29uc3Qgcj1lLmdldCh0KTtkWzBdPXIuYV9jZW50cm9pZF9wb3MwLGRbMV09ci5hX2NlbnRyb2lkX3BvczF9fWlmKDA9PT1kWzBdJiYxPT09ZFsxXSlyZXR1cm4hMTtcImdsb2JlXCI9PT1vLnByb2plY3Rpb24ubmFtZSYmKG49RHUoW25dLFtuZXcgbSgwLDApLG5ldyBtKHZzLHZzKV0sZS50aWxlSUQuY2Fub25pY2FsKS5tYXAoZT0+ZS5wb2x5Z29uKS5mbGF0KCkpO2NvbnN0IF89cD9zOm51bGwsW3ksdl09ZnVuY3Rpb24oZSx0LHIsbixpLG8sYSxzLGwsYyx1KXtyZXR1cm5cImdsb2JlXCI9PT1lLnByb2plY3Rpb24ubmFtZT9mdW5jdGlvbihlLHQscixuLGksbyxhLHMsbCxjLHUpe2NvbnN0IGg9W10sZD1bXSxwPWUucHJvamVjdGlvbi51cFZlY3RvclNjYWxlKHUsZS5jZW50ZXIubGF0LGUud29ybGRTaXplKS5tZXRlcnNUb1RpbGUsZj1bMCwwLDAsMV0sbT1bMCwwLDAsMV0sZz0oZSx0LHIsbik9PntlWzBdPXQsZVsxXT1yLGVbMl09bixlWzNdPTF9LF89enUoKTtyPjAmJihyKz1fKSxuKz1fO2Zvcihjb25zdCBfIG9mIHQpe2NvbnN0IHQ9W10seT1bXTtmb3IoY29uc3QgaCBvZiBfKXtjb25zdCBkPWgueCtpLngsXz1oLnkraS55LHY9ZS5wcm9qZWN0aW9uLnByb2plY3RUaWxlUG9pbnQoZCxfLHUpLHg9ZS5wcm9qZWN0aW9uLnVwVmVjdG9yKHUsaC54LGgueSk7bGV0IGI9cix3PW47aWYoYSl7Y29uc3QgZT1xdShkLF8scixuLGEscyxsLGMpO2IrPWUuYmFzZSx3Kz1lLnRvcH0wIT09cj9nKGYsdi54K3hbMF0qcCpiLHYueSt4WzFdKnAqYix2LnoreFsyXSpwKmIpOmcoZix2Lngsdi55LHYueiksZyhtLHYueCt4WzBdKnAqdyx2LnkreFsxXSpwKncsdi56K3hbMl0qcCp3KSxGbChmLGYsbyksRmwobSxtLG8pLHQucHVzaChuZXcgTnUoZlswXSxmWzFdLGZbMl0pKSx5LnB1c2gobmV3IE51KG1bMF0sbVsxXSxtWzJdKSl9aC5wdXNoKHQpLGQucHVzaCh5KX1yZXR1cm5baCxkXX0oZSx0LHIsbixpLG8sYSxzLGwsYyx1KTphP2Z1bmN0aW9uKGUsdCxyLG4saSxvLGEscyxsKXtjb25zdCBjPVtdLHU9W10saD1bMCwwLDAsMV07Zm9yKGNvbnN0IGQgb2YgZSl7Y29uc3QgZT1bXSxwPVtdO2Zvcihjb25zdCBjIG9mIGQpe2NvbnN0IHU9Yy54K24ueCxkPWMueStuLnksZj1xdSh1LGQsdCxyLG8sYSxzLGwpO2hbMF09dSxoWzFdPWQsaFsyXT1mLmJhc2UsaFszXT0xLCRsKGgsaCxpKSxoWzNdPU1hdGgubWF4KGhbM10sMWUtNSk7Y29uc3QgbT1uZXcgTnUoaFswXS9oWzNdLGhbMV0vaFszXSxoWzJdL2hbM10pO2hbMF09dSxoWzFdPWQsaFsyXT1mLnRvcCxoWzNdPTEsJGwoaCxoLGkpLGhbM109TWF0aC5tYXgoaFszXSwxZS01KTtjb25zdCBnPW5ldyBOdShoWzBdL2hbM10saFsxXS9oWzNdLGhbMl0vaFszXSk7ZS5wdXNoKG0pLHAucHVzaChnKX1jLnB1c2goZSksdS5wdXNoKHApfXJldHVybltjLHVdfSh0LHIsbixpLG8sYSxzLGwsYyk6ZnVuY3Rpb24oZSx0LHIsbixpKXtjb25zdCBvPVtdLGE9W10scz1pWzhdKnQsbD1pWzldKnQsYz1pWzEwXSp0LHU9aVsxMV0qdCxoPWlbOF0qcixkPWlbOV0qcixwPWlbMTBdKnIsZj1pWzExXSpyO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9W10scj1bXTtmb3IoY29uc3QgbyBvZiB0KXtjb25zdCB0PW8ueCtuLngsYT1vLnkrbi55LG09aVswXSp0K2lbNF0qYStpWzEyXSxnPWlbMV0qdCtpWzVdKmEraVsxM10sXz1pWzJdKnQraVs2XSphK2lbMTRdLHk9aVszXSp0K2lbN10qYStpWzE1XSx2PW0rcyx4PWcrbCxiPV8rYyx3PU1hdGgubWF4KHkrdSwxZS01KSxUPW0raCxFPWcrZCxTPV8rcCxDPU1hdGgubWF4KHkrZiwxZS01KTtlLnB1c2gobmV3IE51KHYvdyx4L3csYi93KSksci5wdXNoKG5ldyBOdShUL0MsRS9DLFMvQykpfW8ucHVzaChlKSxhLnB1c2gocil9cmV0dXJuW28sYV19KHQscixuLGksbyl9KG8sbixoLHUsYyxhLF8sZCxmLG8uY2VudGVyLmxhdCxlLnRpbGVJRC5jYW5vbmljYWwpLHg9ZS5xdWVyeUdlb21ldHJ5O3JldHVybiBmdW5jdGlvbihlLHQscil7bGV0IG49MS8wO1hzKHIsdCkmJihuPUd1KHIsdFswXSkpO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBvPXRbaV0sYT1lW2ldO2ZvcihsZXQgZT0wO2U8by5sZW5ndGgtMTtlKyspe2NvbnN0IHQ9b1tlXSxpPVt0LG9bZSsxXSxhW2UrMV0sYVtlXSx0XTskcyhyLGkpJiYobj1NYXRoLm1pbihuLEd1KHIsaSkpKX19cmV0dXJuIG4hPT0xLzAmJm59KHksdix4LmlzUG9pbnRRdWVyeSgpP3guc2NyZWVuQm91bmRzOnguc2NyZWVuR2VvbWV0cnkpfX0sbGluZTpjbGFzcyBleHRlbmRzIG1ze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsUXUpLHRoaXMuZ3JhZGllbnRWZXJzaW9uPTB9X2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKGUpe2lmKFwibGluZS1ncmFkaWVudFwiPT09ZSl7Y29uc3QgZT10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJsaW5lLWdyYWRpZW50XCJdLnZhbHVlLmV4cHJlc3Npb247dGhpcy5zdGVwSW50ZXJwb2xhbnQ9ZS5fc3R5bGVFeHByZXNzaW9uJiZlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbiBpbnN0YW5jZW9mIFNyLHRoaXMuZ3JhZGllbnRWZXJzaW9uPSh0aGlzLmdyYWRpZW50VmVyc2lvbisxKSVOdW1iZXIuTUFYX1NBRkVfSU5URUdFUn19Z3JhZGllbnRFeHByZXNzaW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcImxpbmUtZ3JhZGllbnRcIl0udmFsdWUuZXhwcmVzc2lvbn1yZWNhbGN1bGF0ZShlLHQpe3N1cGVyLnJlY2FsY3VsYXRlKGUsdCksdGhpcy5wYWludC5fdmFsdWVzW1wibGluZS1mbG9vcndpZHRoXCJdPWVoLnBvc3NpYmx5RXZhbHVhdGUodGhpcy5fdHJhbnNpdGlvbmluZ1BhaW50Ll92YWx1ZXNbXCJsaW5lLXdpZHRoXCJdLnZhbHVlLGUpfWNyZWF0ZUJ1Y2tldChlKXtyZXR1cm4gbmV3IEt1KGUpfWdldFByb2dyYW1JZHMoKXtyZXR1cm5bdGhpcy5wYWludC5nZXQoXCJsaW5lLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKT9cImxpbmVQYXR0ZXJuXCI6XCJsaW5lXCJdfWdldFByb2dyYW1Db25maWd1cmF0aW9uKGUpe3JldHVybiBuZXcgc3ModGhpcyxlKX1xdWVyeVJhZGl1cyhlKXtjb25zdCB0PWUscj10aChpbChcImxpbmUtd2lkdGhcIix0aGlzLHQpLGlsKFwibGluZS1nYXAtd2lkdGhcIix0aGlzLHQpKSxuPWlsKFwibGluZS1vZmZzZXRcIix0aGlzLHQpO3JldHVybiByLzIrTWF0aC5hYnMobikrb2wodGhpcy5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZVwiKSl9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZShlLHQscixuLGksbyl7aWYoZS5xdWVyeUdlb21ldHJ5LmlzQWJvdmVIb3Jpem9uKXJldHVybiExO2NvbnN0IGE9YWwoZS50aWxlc3BhY2VHZW9tZXRyeSx0aGlzLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlXCIpLHRoaXMucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGUtYW5jaG9yXCIpLG8uYW5nbGUsZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSxzPWUucGl4ZWxUb1RpbGVVbml0c0ZhY3Rvci8yKnRoKHRoaXMucGFpbnQuZ2V0KFwibGluZS13aWR0aFwiKS5ldmFsdWF0ZSh0LHIpLHRoaXMucGFpbnQuZ2V0KFwibGluZS1nYXAtd2lkdGhcIikuZXZhbHVhdGUodCxyKSksbD10aGlzLnBhaW50LmdldChcImxpbmUtb2Zmc2V0XCIpLmV2YWx1YXRlKHQscik7cmV0dXJuIGwmJihuPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj1bXSxuPW5ldyBtKDAsMCk7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG89ZVtpXSxhPVtdO2ZvcihsZXQgZT0wO2U8by5sZW5ndGg7ZSsrKXtjb25zdCByPW9bZS0xXSxpPW9bZV0scz1vW2UrMV0sbD0wPT09ZT9uOmkuc3ViKHIpLl91bml0KCkuX3BlcnAoKSxjPWU9PT1vLmxlbmd0aC0xP246cy5zdWIoaSkuX3VuaXQoKS5fcGVycCgpLHU9bC5fYWRkKGMpLl91bml0KCk7dS5fbXVsdCgxLyh1LngqYy54K3UueSpjLnkpKSxhLnB1c2godS5fbXVsdCh0KS5fYWRkKGkpKX1yLnB1c2goYSl9cmV0dXJuIHJ9KG4sbCplLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpKSxmdW5jdGlvbihlLHQscil7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGk9dFtuXTtpZihlLmxlbmd0aD49Mylmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKylpZih0bChlLGlbdF0pKXJldHVybiEwO2lmKEhzKGUsaSxyKSlyZXR1cm4hMH1yZXR1cm4hMX0oYSxuLHMpfWlzVGlsZUNsaXBwZWQoKXtyZXR1cm4hMH19LHN5bWJvbDp0ZixiYWNrZ3JvdW5kOmNsYXNzIGV4dGVuZHMgbXN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxyZil9Z2V0UHJvZ3JhbUlkcygpe3JldHVyblt0aGlzLnBhaW50LmdldChcImJhY2tncm91bmQtcGF0dGVyblwiKT9cImJhY2tncm91bmRQYXR0ZXJuXCI6XCJiYWNrZ3JvdW5kXCJdfX0scmFzdGVyOmNsYXNzIGV4dGVuZHMgbXN7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxuZil9Z2V0UHJvZ3JhbUlkcygpe3JldHVybltcInJhc3RlclwiXX19LHNreTpjbGFzcyBleHRlbmRzIG1ze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsYWYpLHRoaXMuX3VwZGF0ZUNvbG9yUmFtcCgpfV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZShlKXtcInNreS1ncmFkaWVudFwiPT09ZT90aGlzLl91cGRhdGVDb2xvclJhbXAoKTpcInNreS1hdG1vc3BoZXJlLXN1blwiIT09ZSYmXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCIhPT1lJiZcInNreS1hdG1vc3BoZXJlLWNvbG9yXCIhPT1lJiZcInNreS1hdG1vc3BoZXJlLXN1bi1pbnRlbnNpdHlcIiE9PWV8fCh0aGlzLl9za3lib3hJbnZhbGlkYXRlZD0hMCl9X3VwZGF0ZUNvbG9yUmFtcCgpe3RoaXMuY29sb3JSYW1wPWZjKHtleHByZXNzaW9uOnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuX3ZhbHVlc1tcInNreS1ncmFkaWVudFwiXS52YWx1ZS5leHByZXNzaW9uLGV2YWx1YXRpb25LZXk6XCJza3lSYWRpYWxQcm9ncmVzc1wifSksdGhpcy5jb2xvclJhbXBUZXh0dXJlJiYodGhpcy5jb2xvclJhbXBUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmNvbG9yUmFtcFRleHR1cmU9bnVsbCl9bmVlZHNTa3lib3hDYXB0dXJlKGUpe2lmKHRoaXMuX3NreWJveEludmFsaWRhdGVkfHwhdGhpcy5za3lib3hUZXh0dXJlfHwhdGhpcy5za3lib3hHZW9tZXRyeSlyZXR1cm4hMDtpZighdGhpcy5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1zdW5cIikpe2NvbnN0IHQ9ZS5zdHlsZS5saWdodC5wcm9wZXJ0aWVzLmdldChcInBvc2l0aW9uXCIpO3JldHVybiB0aGlzLl9saWdodFBvc2l0aW9uLmF6aW11dGhhbCE9PXQuYXppbXV0aGFsfHx0aGlzLl9saWdodFBvc2l0aW9uLnBvbGFyIT09dC5wb2xhcn1yZXR1cm4hMX1nZXRDZW50ZXIoZSx0KXtpZihcImF0bW9zcGhlcmVcIj09PXRoaXMucGFpbnQuZ2V0KFwic2t5LXR5cGVcIikpe2NvbnN0IHI9dGhpcy5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1zdW5cIiksbj0hcixpPWUuc3R5bGUubGlnaHQsbz1pLnByb3BlcnRpZXMuZ2V0KFwicG9zaXRpb25cIik7cmV0dXJuIG4mJlwidmlld3BvcnRcIj09PWkucHJvcGVydGllcy5nZXQoXCJhbmNob3JcIikmJlYoXCJUaGUgc3VuIGRpcmVjdGlvbiBpcyBhdHRhY2hlZCB0byBhIGxpZ2h0IHdpdGggdmlld3BvcnQgYW5jaG9yLCBsaWdodGluZyBtYXkgYmVoYXZlIHVuZXhwZWN0ZWRseS5cIiksbj9zZihvLmF6aW11dGhhbCw5MC1vLnBvbGFyLHQpOnNmKHJbMF0sOTAtclsxXSx0KX1jb25zdCByPXRoaXMucGFpbnQuZ2V0KFwic2t5LWdyYWRpZW50LWNlbnRlclwiKTtyZXR1cm4gc2YoclswXSw5MC1yWzFdLHQpfWlzM0QoKXtyZXR1cm4hMX1pc1NreSgpe3JldHVybiEwfW1hcmtTa3lib3hWYWxpZChlKXt0aGlzLl9za3lib3hJbnZhbGlkYXRlZD0hMSx0aGlzLl9saWdodFBvc2l0aW9uPWUuc3R5bGUubGlnaHQucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKX1oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuITB9Z2V0UHJvZ3JhbUlkcygpe2NvbnN0IGU9dGhpcy5wYWludC5nZXQoXCJza3ktdHlwZVwiKTtyZXR1cm5cImF0bW9zcGhlcmVcIj09PWU/W1wic2t5Ym94Q2FwdHVyZVwiLFwic2t5Ym94XCJdOlwiZ3JhZGllbnRcIj09PWU/W1wic2t5Ym94R3JhZGllbnRcIl06bnVsbH19fTtjbGFzcyBjZntjb25zdHJ1Y3RvcihlLHQscixuKXt0aGlzLmNvbnRleHQ9ZSx0aGlzLmZvcm1hdD1yLHRoaXMudGV4dHVyZT1lLmdsLmNyZWF0ZVRleHR1cmUoKSx0aGlzLnVwZGF0ZSh0LG4pfXVwZGF0ZShlLHQsbil7Y29uc3R7d2lkdGg6aSxoZWlnaHQ6b309ZSx7Y29udGV4dDphfT10aGlzLHtnbDpzfT1hLHtIVE1MSW1hZ2VFbGVtZW50OmwsSFRNTENhbnZhc0VsZW1lbnQ6YyxIVE1MVmlkZW9FbGVtZW50OnUsSW1hZ2VEYXRhOmgsSW1hZ2VCaXRtYXA6ZH09cjtpZihzLmJpbmRUZXh0dXJlKHMuVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLGEucGl4ZWxTdG9yZVVucGFja0ZsaXBZLnNldCghMSksYS5waXhlbFN0b3JlVW5wYWNrLnNldCgxKSxhLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldCh0aGlzLmZvcm1hdD09PXMuUkdCQSYmKCF0fHwhMSE9PXQucHJlbXVsdGlwbHkpKSxufHx0aGlzLnNpemUmJnRoaXMuc2l6ZVswXT09PWkmJnRoaXMuc2l6ZVsxXT09PW8pe2NvbnN0e3g6dCx5OnJ9PW58fHt4OjAseTowfTtlIGluc3RhbmNlb2YgbHx8ZSBpbnN0YW5jZW9mIGN8fGUgaW5zdGFuY2VvZiB1fHxlIGluc3RhbmNlb2YgaHx8ZCYmZSBpbnN0YW5jZW9mIGQ/cy50ZXhTdWJJbWFnZTJEKHMuVEVYVFVSRV8yRCwwLHQscixzLlJHQkEscy5VTlNJR05FRF9CWVRFLGUpOnMudGV4U3ViSW1hZ2UyRChzLlRFWFRVUkVfMkQsMCx0LHIsaSxvLHMuUkdCQSxzLlVOU0lHTkVEX0JZVEUsZS5kYXRhKX1lbHNlIHRoaXMuc2l6ZT1baSxvXSxlIGluc3RhbmNlb2YgbHx8ZSBpbnN0YW5jZW9mIGN8fGUgaW5zdGFuY2VvZiB1fHxlIGluc3RhbmNlb2YgaHx8ZCYmZSBpbnN0YW5jZW9mIGQ/cy50ZXhJbWFnZTJEKHMuVEVYVFVSRV8yRCwwLHRoaXMuZm9ybWF0LHRoaXMuZm9ybWF0LHMuVU5TSUdORURfQllURSxlKTpzLnRleEltYWdlMkQocy5URVhUVVJFXzJELDAsdGhpcy5mb3JtYXQsaSxvLDAsdGhpcy5mb3JtYXQscy5VTlNJR05FRF9CWVRFLGUuZGF0YSk7dGhpcy51c2VNaXBtYXA9Qm9vbGVhbih0JiZ0LnVzZU1pcG1hcCYmdGhpcy5pc1NpemVQb3dlck9mVHdvKCkpLHRoaXMudXNlTWlwbWFwJiZzLmdlbmVyYXRlTWlwbWFwKHMuVEVYVFVSRV8yRCl9YmluZChlLHQpe2NvbnN0e2NvbnRleHQ6cn09dGhpcyx7Z2w6bn09cjtuLmJpbmRUZXh0dXJlKG4uVEVYVFVSRV8yRCx0aGlzLnRleHR1cmUpLGUhPT10aGlzLmZpbHRlciYmKG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX01BR19GSUxURVIsZSksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLnVzZU1pcG1hcD9lPT09bi5ORUFSRVNUP24uTkVBUkVTVF9NSVBNQVBfTkVBUkVTVDpuLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDplKSx0aGlzLmZpbHRlcj1lKSx0IT09dGhpcy53cmFwJiYobi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfV1JBUF9TLHQpLG4udGV4UGFyYW1ldGVyaShuLlRFWFRVUkVfMkQsbi5URVhUVVJFX1dSQVBfVCx0KSx0aGlzLndyYXA9dCl9aXNTaXplUG93ZXJPZlR3bygpe3JldHVybiB0aGlzLnNpemVbMF09PT10aGlzLnNpemVbMV0mJk1hdGgubG9nKHRoaXMuc2l6ZVswXSkvTWF0aC5MTjIlMT09MH1kZXN0cm95KCl7Y29uc3R7Z2w6ZX09dGhpcy5jb250ZXh0O2UuZGVsZXRlVGV4dHVyZSh0aGlzLnRleHR1cmUpLHRoaXMudGV4dHVyZT1udWxsfX1jbGFzcyB1Zntjb25zdHJ1Y3RvcihlKXt0aGlzLl9jYWxsYmFjaz1lLHRoaXMuX3RyaWdnZXJlZD0hMSxcInVuZGVmaW5lZFwiIT10eXBlb2YgTWVzc2FnZUNoYW5uZWwmJih0aGlzLl9jaGFubmVsPW5ldyBNZXNzYWdlQ2hhbm5lbCx0aGlzLl9jaGFubmVsLnBvcnQyLm9ubWVzc2FnZT0oKT0+e3RoaXMuX3RyaWdnZXJlZD0hMSx0aGlzLl9jYWxsYmFjaygpfSl9dHJpZ2dlcigpe3RoaXMuX3RyaWdnZXJlZHx8KHRoaXMuX3RyaWdnZXJlZD0hMCx0aGlzLl9jaGFubmVsP3RoaXMuX2NoYW5uZWwucG9ydDEucG9zdE1lc3NhZ2UoITApOnNldFRpbWVvdXQoKCk9Pnt0aGlzLl90cmlnZ2VyZWQ9ITEsdGhpcy5fY2FsbGJhY2soKX0sMCkpfXJlbW92ZSgpe3RoaXMuX2NoYW5uZWw9dm9pZCAwLHRoaXMuX2NhbGxiYWNrPSgpPT57fX19Y2xhc3MgaGZ7Y29uc3RydWN0b3IoKXt0aGlzLnRhc2tzPXt9LHRoaXMudGFza1F1ZXVlPVtdLE8oW1wicHJvY2Vzc1wiXSx0aGlzKSx0aGlzLmludm9rZXI9bmV3IHVmKHRoaXMucHJvY2VzcyksdGhpcy5uZXh0SWQ9MH1hZGQoZSx0KXtjb25zdCByPXRoaXMubmV4dElkKyssbj1mdW5jdGlvbih7dHlwZTplLGlzU3ltYm9sVGlsZTp0LHpvb206cn0pe3JldHVybiByPXJ8fDAsXCJtZXNzYWdlXCI9PT1lPzA6XCJtYXliZVByZXBhcmVcIiE9PWV8fHQ/XCJwYXJzZVRpbGVcIiE9PWV8fHQ/XCJwYXJzZVRpbGVcIj09PWUmJnQ/MzAwLXI6XCJtYXliZVByZXBhcmVcIj09PWUmJnQ/NDAwLXI6NTAwOjIwMC1yOjEwMC1yfSh0KTtpZigwPT09bil7WigpO3RyeXtlKCl9ZmluYWxseXt9cmV0dXJue2NhbmNlbDooKT0+e319fXJldHVybiB0aGlzLnRhc2tzW3JdPXtmbjplLG1ldGFkYXRhOnQscHJpb3JpdHk6bixpZDpyfSx0aGlzLnRhc2tRdWV1ZS5wdXNoKHIpLHRoaXMuaW52b2tlci50cmlnZ2VyKCkse2NhbmNlbDooKT0+e2RlbGV0ZSB0aGlzLnRhc2tzW3JdfX19cHJvY2Vzcygpe1ooKTt0cnl7aWYodGhpcy50YXNrUXVldWU9dGhpcy50YXNrUXVldWUuZmlsdGVyKGU9PiEhdGhpcy50YXNrc1tlXSksIXRoaXMudGFza1F1ZXVlLmxlbmd0aClyZXR1cm47Y29uc3QgZT10aGlzLnBpY2soKTtpZihudWxsPT09ZSlyZXR1cm47Y29uc3QgdD10aGlzLnRhc2tzW2VdO2lmKGRlbGV0ZSB0aGlzLnRhc2tzW2VdLHRoaXMudGFza1F1ZXVlLmxlbmd0aCYmdGhpcy5pbnZva2VyLnRyaWdnZXIoKSwhdClyZXR1cm47dC5mbigpfWZpbmFsbHl7fX1waWNrKCl7bGV0IGU9bnVsbCx0PTEvMDtmb3IobGV0IHI9MDtyPHRoaXMudGFza1F1ZXVlLmxlbmd0aDtyKyspe2NvbnN0IG49dGhpcy50YXNrc1t0aGlzLnRhc2tRdWV1ZVtyXV07bi5wcmlvcml0eTx0JiYodD1uLnByaW9yaXR5LGU9cil9aWYobnVsbD09PWUpcmV0dXJuIG51bGw7Y29uc3Qgcj10aGlzLnRhc2tRdWV1ZVtlXTtyZXR1cm4gdGhpcy50YXNrUXVldWUuc3BsaWNlKGUsMSkscn1yZW1vdmUoKXt0aGlzLmludm9rZXIucmVtb3ZlKCl9fWNsYXNzIGRme2NvbnN0cnVjdG9yKGUpe3RoaXMuX3N0cmluZ1RvTnVtYmVyPXt9LHRoaXMuX251bWJlclRvU3RyaW5nPVtdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCByPWVbdF07dGhpcy5fc3RyaW5nVG9OdW1iZXJbcl09dCx0aGlzLl9udW1iZXJUb1N0cmluZ1t0XT1yfX1lbmNvZGUoZSl7cmV0dXJuIHRoaXMuX3N0cmluZ1RvTnVtYmVyW2VdfWRlY29kZShlKXtyZXR1cm4gdGhpcy5fbnVtYmVyVG9TdHJpbmdbZV19fWNvbnN0IHBmPVtcInRpbGVcIixcImxheWVyXCIsXCJzb3VyY2VcIixcInNvdXJjZUxheWVyXCIsXCJzdGF0ZVwiXTtjbGFzcyBmZntjb25zdHJ1Y3RvcihlLHQscixuLGkpe3RoaXMudHlwZT1cIkZlYXR1cmVcIix0aGlzLl92ZWN0b3JUaWxlRmVhdHVyZT1lLHRoaXMuX3o9dCx0aGlzLl94PXIsdGhpcy5feT1uLHRoaXMucHJvcGVydGllcz1lLnByb3BlcnRpZXMsdGhpcy5pZD1pfWdldCBnZW9tZXRyeSgpe3JldHVybiB2b2lkIDA9PT10aGlzLl9nZW9tZXRyeSYmKHRoaXMuX2dlb21ldHJ5PXRoaXMuX3ZlY3RvclRpbGVGZWF0dXJlLnRvR2VvSlNPTih0aGlzLl94LHRoaXMuX3ksdGhpcy5feikuZ2VvbWV0cnkpLHRoaXMuX2dlb21ldHJ5fXNldCBnZW9tZXRyeShlKXt0aGlzLl9nZW9tZXRyeT1lfXRvSlNPTigpe2NvbnN0IGU9e3R5cGU6XCJGZWF0dXJlXCIsZ2VvbWV0cnk6dGhpcy5nZW9tZXRyeSxwcm9wZXJ0aWVzOnRoaXMucHJvcGVydGllc307dm9pZCAwIT09dGhpcy5pZCYmKGUuaWQ9dGhpcy5pZCk7Zm9yKGNvbnN0IHQgb2YgcGYpdm9pZCAwIT09dGhpc1t0XSYmKGVbdF09dGhpc1t0XSk7cmV0dXJuIGV9fWNvbnN0IG1mPW5ldyBVaW50MTZBcnJheSg4MTg0KTtmb3IobGV0IGU9MDtlPDIwNDY7ZSsrKXtsZXQgdD1lKzIscj0wLG49MCxpPTAsbz0wLGE9MCxzPTA7Zm9yKDEmdD9pPW89YT0zMjpyPW49cz0zMjsodD4+PTEpPjE7KXtjb25zdCBlPXIraT4+MSxsPW4rbz4+MTsxJnQ/KGk9cixvPW4scj1hLG49cyk6KHI9aSxuPW8saT1hLG89cyksYT1lLHM9bH1jb25zdCBsPTQqZTttZltsKzBdPXIsbWZbbCsxXT1uLG1mW2wrMl09aSxtZltsKzNdPW99Y29uc3QgZ2Y9bmV3IFVpbnQxNkFycmF5KDIxNzgpLF9mPW5ldyBVaW50OEFycmF5KDEwODkpLHlmPW5ldyBVaW50MTZBcnJheSgxMDg5KTtmdW5jdGlvbiB2ZihlKXtyZXR1cm4gMD09PWU/LS4wMzEyNTozMj09PWU/LjAzMTI1OjB9dmFyIHhmPUhvKFt7bmFtZTpcImFfcG9zXCIsdHlwZTpcIkludDE2XCIsY29tcG9uZW50czoyfSx7bmFtZTpcImFfdGV4dHVyZV9wb3NcIix0eXBlOlwiSW50MTZcIixjb21wb25lbnRzOjJ9XSk7Y29uc3QgYmY9e3R5cGU6MixleHRlbnQ6dnMsbG9hZEdlb21ldHJ5OigpPT5bW25ldyBtKDAsMCksbmV3IG0oODE5MywwKSxuZXcgbSg4MTkzLDgxOTMpLG5ldyBtKDAsODE5MyksbmV3IG0oMCwwKV1dfTtjbGFzcyB3Zntjb25zdHJ1Y3RvcihlLHQscixuLGkpe3RoaXMudGlsZUlEPWUsdGhpcy51aWQ9eigpLHRoaXMudXNlcz0wLHRoaXMudGlsZVNpemU9dCx0aGlzLnRpbGVab29tPXIsdGhpcy5idWNrZXRzPXt9LHRoaXMuZXhwaXJhdGlvblRpbWU9bnVsbCx0aGlzLnF1ZXJ5UGFkZGluZz0wLHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMSx0aGlzLmhhc1JUTFRleHQ9ITEsdGhpcy5kZXBlbmRlbmNpZXM9e30sdGhpcy5pc1Jhc3Rlcj1pLHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD0wLHRoaXMuc3RhdGU9XCJsb2FkaW5nXCIsbiYmbi50cmFuc2Zvcm0mJih0aGlzLnByb2plY3Rpb249bi50cmFuc2Zvcm0ucHJvamVjdGlvbil9cmVnaXN0ZXJGYWRlRHVyYXRpb24oZSl7Y29uc3QgdD1lK3RoaXMudGltZUFkZGVkO3Q8cWUubm93KCl8fHRoaXMuZmFkZUVuZFRpbWUmJnQ8dGhpcy5mYWRlRW5kVGltZXx8KHRoaXMuZmFkZUVuZFRpbWU9dCl9d2FzUmVxdWVzdGVkKCl7cmV0dXJuXCJlcnJvcmVkXCI9PT10aGlzLnN0YXRlfHxcImxvYWRlZFwiPT09dGhpcy5zdGF0ZXx8XCJyZWxvYWRpbmdcIj09PXRoaXMuc3RhdGV9Z2V0IHRpbGVUcmFuc2Zvcm0oKXtyZXR1cm4gdGhpcy5fdGlsZVRyYW5zZm9ybXx8KHRoaXMuX3RpbGVUcmFuc2Zvcm09YnAodGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMucHJvamVjdGlvbikpLHRoaXMuX3RpbGVUcmFuc2Zvcm19bG9hZFZlY3RvckRhdGEoZSx0LHIpe2lmKHRoaXMudW5sb2FkVmVjdG9yRGF0YSgpLHRoaXMuc3RhdGU9XCJsb2FkZWRcIixlKXtlLmZlYXR1cmVJbmRleCYmKHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4PWUuZmVhdHVyZUluZGV4LGUucmF3VGlsZURhdGE/KHRoaXMubGF0ZXN0UmF3VGlsZURhdGE9ZS5yYXdUaWxlRGF0YSx0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT1lLnJhd1RpbGVEYXRhKTp0aGlzLmxhdGVzdFJhd1RpbGVEYXRhJiYodGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE9dGhpcy5sYXRlc3RSYXdUaWxlRGF0YSkpLHRoaXMuY29sbGlzaW9uQm94QXJyYXk9ZS5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLmJ1Y2tldHM9ZnVuY3Rpb24oZSx0KXtjb25zdCByPXt9O2lmKCF0KXJldHVybiByO2Zvcihjb25zdCBuIG9mIGUpe2NvbnN0IGU9bi5sYXllcklkcy5tYXAoZT0+dC5nZXRMYXllcihlKSkuZmlsdGVyKEJvb2xlYW4pO2lmKDAhPT1lLmxlbmd0aCl7bi5sYXllcnM9ZSxuLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHMmJihuLnN0YXRlRGVwZW5kZW50TGF5ZXJzPW4uc3RhdGVEZXBlbmRlbnRMYXllcklkcy5tYXAodD0+ZS5maWx0ZXIoZT0+ZS5pZD09PXQpWzBdKSk7Zm9yKGNvbnN0IHQgb2YgZSlyW3QuaWRdPW59fXJldHVybiByfShlLmJ1Y2tldHMsdC5zdHlsZSksdGhpcy5oYXNTeW1ib2xCdWNrZXRzPSExO2Zvcihjb25zdCBlIGluIHRoaXMuYnVja2V0cyl7Y29uc3QgdD10aGlzLmJ1Y2tldHNbZV07aWYodCBpbnN0YW5jZW9mIEtwKXtpZih0aGlzLmhhc1N5bWJvbEJ1Y2tldHM9ITAsIXIpYnJlYWs7dC5qdXN0UmVsb2FkZWQ9ITB9fWlmKHRoaXMuaGFzUlRMVGV4dD0hMSx0aGlzLmhhc1N5bWJvbEJ1Y2tldHMpZm9yKGNvbnN0IGUgaW4gdGhpcy5idWNrZXRzKXtjb25zdCB0PXRoaXMuYnVja2V0c1tlXTtpZih0IGluc3RhbmNlb2YgS3AmJnQuaGFzUlRMVGV4dCl7dGhpcy5oYXNSVExUZXh0PSEwLEFvLmlzTG9hZGluZygpfHxBby5pc0xvYWRlZCgpfHxcImRlZmVycmVkXCIhPT1NbygpfHxrbygpO2JyZWFrfX10aGlzLnF1ZXJ5UGFkZGluZz0wO2Zvcihjb25zdCBlIGluIHRoaXMuYnVja2V0cyl7Y29uc3Qgcj10aGlzLmJ1Y2tldHNbZV07dGhpcy5xdWVyeVBhZGRpbmc9TWF0aC5tYXgodGhpcy5xdWVyeVBhZGRpbmcsdC5zdHlsZS5nZXRMYXllcihlKS5xdWVyeVJhZGl1cyhyKSl9ZS5pbWFnZUF0bGFzJiYodGhpcy5pbWFnZUF0bGFzPWUuaW1hZ2VBdGxhcyksZS5nbHlwaEF0bGFzSW1hZ2UmJih0aGlzLmdseXBoQXRsYXNJbWFnZT1lLmdseXBoQXRsYXNJbWFnZSksZS5saW5lQXRsYXMmJih0aGlzLmxpbmVBdGxhcz1lLmxpbmVBdGxhcyl9ZWxzZSB0aGlzLmNvbGxpc2lvbkJveEFycmF5PW5ldyBTYX11bmxvYWRWZWN0b3JEYXRhKCl7aWYodGhpcy5oYXNEYXRhKCkpe2Zvcihjb25zdCBlIGluIHRoaXMuYnVja2V0cyl0aGlzLmJ1Y2tldHNbZV0uZGVzdHJveSgpO3RoaXMuYnVja2V0cz17fSx0aGlzLmltYWdlQXRsYXMmJih0aGlzLmltYWdlQXRsYXM9bnVsbCksdGhpcy5saW5lQXRsYXMmJih0aGlzLmxpbmVBdGxhcz1udWxsKSx0aGlzLmltYWdlQXRsYXNUZXh0dXJlJiZ0aGlzLmltYWdlQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmdseXBoQXRsYXNUZXh0dXJlJiZ0aGlzLmdseXBoQXRsYXNUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmxpbmVBdGxhc1RleHR1cmUmJnRoaXMubGluZUF0bGFzVGV4dHVyZS5kZXN0cm95KCksdGhpcy5fdGlsZUJvdW5kc0J1ZmZlciYmKHRoaXMuX3RpbGVCb3VuZHNCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVCb3VuZHNJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZUJvdW5kc1NlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzQnVmZmVyPW51bGwpLHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlciYmKHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnU2VnbWVudHMuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlcj1udWxsKSx0aGlzLl90aWxlRGVidWdJbmRleEJ1ZmZlciYmKHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdJbmRleEJ1ZmZlcj1udWxsKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlciYmKHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcj1udWxsKSx0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyJiYodGhpcy5fdGlsZURlYnVnVGV4dEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnVGV4dFNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdUZXh0SW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXI9bnVsbCksdGhpcy5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyJiYodGhpcy5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9nbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXI9bnVsbCksdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXg9bnVsbCx0aGlzLnN0YXRlPVwidW5sb2FkZWRcIn19Z2V0QnVja2V0KGUpe3JldHVybiB0aGlzLmJ1Y2tldHNbZS5pZF19dXBsb2FkKGUpe2Zvcihjb25zdCB0IGluIHRoaXMuYnVja2V0cyl7Y29uc3Qgcj10aGlzLmJ1Y2tldHNbdF07ci51cGxvYWRQZW5kaW5nKCkmJnIudXBsb2FkKGUpfWNvbnN0IHQ9ZS5nbDt0aGlzLmltYWdlQXRsYXMmJiF0aGlzLmltYWdlQXRsYXMudXBsb2FkZWQmJih0aGlzLmltYWdlQXRsYXNUZXh0dXJlPW5ldyBjZihlLHRoaXMuaW1hZ2VBdGxhcy5pbWFnZSx0LlJHQkEpLHRoaXMuaW1hZ2VBdGxhcy51cGxvYWRlZD0hMCksdGhpcy5nbHlwaEF0bGFzSW1hZ2UmJih0aGlzLmdseXBoQXRsYXNUZXh0dXJlPW5ldyBjZihlLHRoaXMuZ2x5cGhBdGxhc0ltYWdlLHQuQUxQSEEpLHRoaXMuZ2x5cGhBdGxhc0ltYWdlPW51bGwpLHRoaXMubGluZUF0bGFzJiYhdGhpcy5saW5lQXRsYXMudXBsb2FkZWQmJih0aGlzLmxpbmVBdGxhc1RleHR1cmU9bmV3IGNmKGUsdGhpcy5saW5lQXRsYXMuaW1hZ2UsdC5BTFBIQSksdGhpcy5saW5lQXRsYXMudXBsb2FkZWQ9ITApfXByZXBhcmUoZSl7dGhpcy5pbWFnZUF0bGFzJiZ0aGlzLmltYWdlQXRsYXMucGF0Y2hVcGRhdGVkSW1hZ2VzKGUsdGhpcy5pbWFnZUF0bGFzVGV4dHVyZSl9cXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUsdCxyLG4saSxvLGEscyl7cmV0dXJuIHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4JiZ0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YT90aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5xdWVyeSh7dGlsZVJlc3VsdDpuLHBpeGVsUG9zTWF0cml4OmEsdHJhbnNmb3JtOm8scGFyYW1zOmksdGlsZVRyYW5zZm9ybTp0aGlzLnRpbGVUcmFuc2Zvcm19LGUsdCxyKTp7fX1xdWVyeVNvdXJjZUZlYXR1cmVzKGUsdCl7Y29uc3Qgcj10aGlzLmxhdGVzdEZlYXR1cmVJbmRleDtpZighcnx8IXIucmF3VGlsZURhdGEpcmV0dXJuO2NvbnN0IG49ci5sb2FkVlRMYXllcnMoKSxpPXQ/dC5zb3VyY2VMYXllcjpcIlwiLG89bi5fZ2VvanNvblRpbGVMYXllcnx8bltpXTtpZighbylyZXR1cm47Y29uc3QgYT1Kbih0JiZ0LmZpbHRlcikse3o6cyx4OmwseTpjfT10aGlzLnRpbGVJRC5jYW5vbmljYWwsdT17ejpzLHg6bCx5OmN9O2ZvcihsZXQgdD0wO3Q8by5sZW5ndGg7dCsrKXtjb25zdCBuPW8uZmVhdHVyZSh0KTtpZihhLm5lZWRHZW9tZXRyeSl7Y29uc3QgZT1WcyhuLCEwKTtpZighYS5maWx0ZXIobmV3IElvKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSxlLHRoaXMudGlsZUlELmNhbm9uaWNhbCkpY29udGludWV9ZWxzZSBpZighYS5maWx0ZXIobmV3IElvKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSxuKSljb250aW51ZTtjb25zdCBoPXIuZ2V0SWQobixpKSxkPW5ldyBmZihuLHMsbCxjLGgpO2QudGlsZT11LGUucHVzaChkKX19aGFzRGF0YSgpe3JldHVyblwibG9hZGVkXCI9PT10aGlzLnN0YXRlfHxcInJlbG9hZGluZ1wiPT09dGhpcy5zdGF0ZXx8XCJleHBpcmVkXCI9PT10aGlzLnN0YXRlfXBhdHRlcm5zTG9hZGVkKCl7cmV0dXJuISF0aGlzLmltYWdlQXRsYXMmJiEhT2JqZWN0LmtleXModGhpcy5pbWFnZUF0bGFzLnBhdHRlcm5Qb3NpdGlvbnMpLmxlbmd0aH1zZXRFeHBpcnlEYXRhKGUpe2NvbnN0IHQ9dGhpcy5leHBpcmF0aW9uVGltZTtpZihlLmNhY2hlQ29udHJvbCl7Y29uc3QgdD0kKGUuY2FjaGVDb250cm9sKTt0W1wibWF4LWFnZVwiXSYmKHRoaXMuZXhwaXJhdGlvblRpbWU9RGF0ZS5ub3coKSsxZTMqdFtcIm1heC1hZ2VcIl0pfWVsc2UgZS5leHBpcmVzJiYodGhpcy5leHBpcmF0aW9uVGltZT1uZXcgRGF0ZShlLmV4cGlyZXMpLmdldFRpbWUoKSk7aWYodGhpcy5leHBpcmF0aW9uVGltZSl7Y29uc3QgZT1EYXRlLm5vdygpO2xldCByPSExO2lmKHRoaXMuZXhwaXJhdGlvblRpbWU+ZSlyPSExO2Vsc2UgaWYodClpZih0aGlzLmV4cGlyYXRpb25UaW1lPHQpcj0hMDtlbHNle2NvbnN0IG49dGhpcy5leHBpcmF0aW9uVGltZS10O24/dGhpcy5leHBpcmF0aW9uVGltZT1lK01hdGgubWF4KG4sM2U0KTpyPSEwfWVsc2Ugcj0hMDtyPyh0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQrKyx0aGlzLnN0YXRlPVwiZXhwaXJlZFwiKTp0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQ9MH19Z2V0RXhwaXJ5VGltZW91dCgpe2lmKHRoaXMuZXhwaXJhdGlvblRpbWUpcmV0dXJuIHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudD8xZTMqKDE8PE1hdGgubWluKHRoaXMuZXhwaXJlZFJlcXVlc3RDb3VudC0xLDMxKSk6TWF0aC5taW4odGhpcy5leHBpcmF0aW9uVGltZS0obmV3IERhdGUpLmdldFRpbWUoKSxNYXRoLnBvdygyLDMxKS0xKX1zZXRGZWF0dXJlU3RhdGUoZSx0KXtpZighdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXh8fCF0aGlzLmxhdGVzdEZlYXR1cmVJbmRleC5yYXdUaWxlRGF0YXx8MD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aHx8IXQpcmV0dXJuO2NvbnN0IHI9dGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgubG9hZFZUTGF5ZXJzKCksbj10LnN0eWxlLmxpc3RJbWFnZXMoKTtmb3IoY29uc3QgaSBpbiB0aGlzLmJ1Y2tldHMpe2lmKCF0LnN0eWxlLmhhc0xheWVyKGkpKWNvbnRpbnVlO2NvbnN0IG89dGhpcy5idWNrZXRzW2ldLGE9by5sYXllcnNbMF0uc291cmNlTGF5ZXJ8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIixzPXJbYV0sbD1lW2FdO2lmKCFzfHwhbHx8MD09PU9iamVjdC5rZXlzKGwpLmxlbmd0aCljb250aW51ZTtpZihvLnVwZGF0ZShsLHMsbix0aGlzLmltYWdlQXRsYXMmJnRoaXMuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zfHx7fSksbyBpbnN0YW5jZW9mIEt1fHxvIGluc3RhbmNlb2YgSmMpe2NvbnN0IGU9dC5zdHlsZS5fZ2V0U291cmNlQ2FjaGUoby5sYXllcnNbMF0uc291cmNlKTt0Ll90ZXJyYWluJiZ0Ll90ZXJyYWluLmVuYWJsZWQmJmUmJm8ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkJiZ0Ll90ZXJyYWluLl9jbGVhclJlbmRlckNhY2hlRm9yVGlsZShlLmlkLHRoaXMudGlsZUlEKX1jb25zdCBjPXQmJnQuc3R5bGUmJnQuc3R5bGUuZ2V0TGF5ZXIoaSk7YyYmKHRoaXMucXVlcnlQYWRkaW5nPU1hdGgubWF4KHRoaXMucXVlcnlQYWRkaW5nLGMucXVlcnlSYWRpdXMobykpKX19aG9sZGluZ0ZvckZhZGUoKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsfXN5bWJvbEZhZGVGaW5pc2hlZCgpe3JldHVybiF0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWx8fHRoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbDxxZS5ub3coKX1jbGVhckZhZGVIb2xkKCl7dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPXZvaWQgMH1zZXRIb2xkRHVyYXRpb24oZSl7dGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsPXFlLm5vdygpK2V9c2V0VGV4dHVyZShlLHQpe2NvbnN0IHI9dC5jb250ZXh0LG49ci5nbDt0aGlzLnRleHR1cmU9dGhpcy50ZXh0dXJlfHx0LmdldFRpbGVUZXh0dXJlKGUud2lkdGgpLHRoaXMudGV4dHVyZT90aGlzLnRleHR1cmUudXBkYXRlKGUse3VzZU1pcG1hcDohMH0pOih0aGlzLnRleHR1cmU9bmV3IGNmKHIsZSxuLlJHQkEse3VzZU1pcG1hcDohMH0pLHRoaXMudGV4dHVyZS5iaW5kKG4uTElORUFSLG4uQ0xBTVBfVE9fRURHRSksci5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMmJm4udGV4UGFyYW1ldGVyZihuLlRFWFRVUkVfMkQsci5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsci5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNNYXgpKX1zZXREZXBlbmRlbmNpZXMoZSx0KXtjb25zdCByPXt9O2Zvcihjb25zdCBlIG9mIHQpcltlXT0hMDt0aGlzLmRlcGVuZGVuY2llc1tlXT1yfWhhc0RlcGVuZGVuY3koZSx0KXtmb3IoY29uc3QgciBvZiBlKXtjb25zdCBlPXRoaXMuZGVwZW5kZW5jaWVzW3JdO2lmKGUpZm9yKGNvbnN0IHIgb2YgdClpZihlW3JdKXJldHVybiEwfXJldHVybiExfWNsZWFyUXVlcnlEZWJ1Z1Zpeigpe31fbWFrZURlYnVnVGlsZUJvdW5kc0J1ZmZlcnMoZSx0KXtpZighdHx8XCJtZXJjYXRvclwiPT09dC5uYW1lfHx0aGlzLl90aWxlRGVidWdCdWZmZXIpcmV0dXJuO2NvbnN0IHI9TnMoYmYsdGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMudGlsZVRyYW5zZm9ybSlbMF0sbj1uZXcgS28saT1uZXcgeGE7Zm9yKGxldCBlPTA7ZTxyLmxlbmd0aDtlKyspe2NvbnN0e3g6dCx5Om99PXJbZV07bi5lbXBsYWNlQmFjayh0LG8pLGkuZW1wbGFjZUJhY2soZSl9aS5lbXBsYWNlQmFjaygwKSx0aGlzLl90aWxlRGVidWdJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKGkpLHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihuLFpkLm1lbWJlcnMpLHRoaXMuX3RpbGVEZWJ1Z1NlZ21lbnRzPXlzLnNpbXBsZVNlZ21lbnQoMCwwLG4ubGVuZ3RoLGkubGVuZ3RoKX1fbWFrZVRpbGVCb3VuZHNCdWZmZXJzKGUsdCl7aWYodGhpcy5fdGlsZUJvdW5kc0J1ZmZlcnx8IXR8fFwibWVyY2F0b3JcIj09PXQubmFtZSlyZXR1cm47Y29uc3Qgcj1OcyhiZix0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy50aWxlVHJhbnNmb3JtKVswXTtsZXQgbixpO2lmKHRoaXMuaXNSYXN0ZXIpe2NvbnN0IGU9ZnVuY3Rpb24oZSx0KXtjb25zdCByPWJwKGUsdCksbj1NYXRoLnBvdygyLGUueik7Zm9yKGxldCBpPTA7aTwzMztpKyspZm9yKGxldCBvPTA7bzwzMztvKyspe2NvbnN0IGE9a3MoKGUueCsobyt2ZihvKSkvMzIpL24pLHM9QXMoKGUueSsoaSt2ZihpKSkvMzIpL24pLGw9dC5wcm9qZWN0KGEscyksYz0zMyppK287Z2ZbMipjKzBdPU1hdGgucm91bmQoKGwueCpyLnNjYWxlLXIueCkqdnMpLGdmWzIqYysxXT1NYXRoLnJvdW5kKChsLnkqci5zY2FsZS1yLnkpKnZzKX1fZi5maWxsKDApLHlmLmZpbGwoMCk7Zm9yKGxldCBlPTIwNDU7ZT49MDtlLS0pe2NvbnN0IHQ9NCplLHI9bWZbdCswXSxuPW1mW3QrMV0saT1tZlt0KzJdLG89bWZbdCszXSxhPXIraT4+MSxzPW4rbz4+MSxsPWErcy1uLGM9cytyLWEsdT0zMypuK3IsaD0zMypvK2ksZD0zMypzK2EscD1NYXRoLmh5cG90KChnZlsyKnUrMF0rZ2ZbMipoKzBdKS8yLWdmWzIqZCswXSwoZ2ZbMip1KzFdK2dmWzIqaCsxXSkvMi1nZlsyKmQrMV0pPj0xNjtpZihfZltkXT1fZltkXXx8KHA/MTowKSxlPDEwMjIpe2NvbnN0IGU9MzMqKG4rYz4+MSkrKHIrbD4+MSksdD0zMyoobytjPj4xKSsoaStsPj4xKTtfZltkXT1fZltkXXx8X2ZbZV18fF9mW3RdfX1jb25zdCBpPW5ldyBRbyxvPW5ldyBwYTtsZXQgYT0wO2Z1bmN0aW9uIHMoZSx0KXtjb25zdCByPTMzKnQrZTtyZXR1cm4gMD09PXlmW3JdJiYoaS5lbXBsYWNlQmFjayhnZlsyKnIrMF0sZ2ZbMipyKzFdLGUqdnMvMzIsdCp2cy8zMikseWZbcl09KythKSx5ZltyXS0xfWZ1bmN0aW9uIGwoZSx0LHIsbixpLGEpe2NvbnN0IGM9ZStyPj4xLHU9dCtuPj4xO2lmKE1hdGguYWJzKGUtaSkrTWF0aC5hYnModC1hKT4xJiZfZlszMyp1K2NdKWwoaSxhLGUsdCxjLHUpLGwocixuLGksYSxjLHUpO2Vsc2V7Y29uc3QgbD1zKGUsdCksYz1zKHIsbiksdT1zKGksYSk7by5lbXBsYWNlQmFjayhsLGMsdSl9fXJldHVybiBsKDAsMCwzMiwzMiwzMiwwKSxsKDMyLDMyLDAsMCwwLDMyKSx7dmVydGljZXM6aSxpbmRpY2VzOm99fSh0aGlzLnRpbGVJRC5jYW5vbmljYWwsdCk7bj1lLnZlcnRpY2VzLGk9ZS5pbmRpY2VzfWVsc2V7bj1uZXcgUW8saT1uZXcgcGE7Zm9yKGNvbnN0e3g6ZSx5OnR9b2YgciluLmVtcGxhY2VCYWNrKGUsdCwwLDApO2NvbnN0IGU9eWMuZXhwb3J0cyhuLmludDE2LHZvaWQgMCw0KTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrPTMpaS5lbXBsYWNlQmFjayhlW3RdLGVbdCsxXSxlW3QrMl0pfXRoaXMuX3RpbGVCb3VuZHNCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIobix4Zi5tZW1iZXJzKSx0aGlzLl90aWxlQm91bmRzSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihpKSx0aGlzLl90aWxlQm91bmRzU2VnbWVudHM9eXMuc2ltcGxlU2VnbWVudCgwLDAsbi5sZW5ndGgsaS5sZW5ndGgpfV9tYWtlR2xvYmVUaWxlRGVidWdCdWZmZXJzKGUsdCl7Y29uc3Qgcj10LnByb2plY3Rpb247aWYoIXJ8fFwiZ2xvYmVcIiE9PXIubmFtZXx8dC5mcmVlemVUaWxlQ292ZXJhZ2UpcmV0dXJuO2NvbnN0IG49dGhpcy50aWxlSUQuY2Fub25pY2FsLGk9ZHAobnAobix0KSksbz1tcCh0Lnpvb20pO2xldCBhO28+MCYmKGE9bWwobmV3IEZsb2F0NjRBcnJheSgxNiksdC5nbG9iZU1hdHJpeCkpLHRoaXMuX21ha2VHbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcihlLG4sdCxpLGEsbyksdGhpcy5fbWFrZUdsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcihlLG4sdCxpLGEsbyl9X2dsb2JlUG9pbnQoZSx0LHIsbixpLG8sYSl7bGV0IHM9Y3AoZSx0LHIpO2lmKG8pe2NvbnN0IGk9MTw8ci56LGw9U3Mobi5jZW50ZXIubG5nKSxjPUNzKG4uY2VudGVyLmxhdCksdT0oci54Ky41KS9pLWw7bGV0IGg9MDt1Pi41P2g9LTE6dTwtLjUmJihoPTEpO2xldCBkPShlL3ZzK3IueCkvaStoLHA9KHQvdnMrci55KS9pO2Q9KGQtbCkqbi5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCtsLHA9KHAtYykqbi5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCtjO2NvbnN0IGY9W2Qqbi53b3JsZFNpemUscCpuLndvcmxkU2l6ZSwwXTtGbChmLGYsbykscz1ycChzLGYsYSl9cmV0dXJuIEZsKHMscyxpKX1fbWFrZUdsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyKGUsdCxyLG4saSxvKXtjb25zdCBhPW5ldyBLbyxzPW5ldyB4YSxsPW5ldyBKbyxjPShlLGMsdSxoLGQpPT57Y29uc3QgcD0odS1lKS8oZC0xKSxmPShoLWMpLyhkLTEpLG09YS5sZW5ndGg7Zm9yKGxldCB1PTA7dTxkO3UrKyl7Y29uc3QgaD1lK3UqcCxkPWMrdSpmO2EuZW1wbGFjZUJhY2soaCxkKTtjb25zdCBnPXRoaXMuX2dsb2JlUG9pbnQoaCxkLHQscixuLGksbyk7bC5lbXBsYWNlQmFjayhnWzBdLGdbMV0sZ1syXSkscy5lbXBsYWNlQmFjayhtK3UpfX0sdT12cztjKDAsMCx1LDAsMTYpLGModSwwLHUsdSwxNiksYyh1LHUsMCx1LDE2KSxjKDAsdSwwLDAsMTYpLHRoaXMuX3RpbGVEZWJ1Z0luZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIocyksdGhpcy5fdGlsZURlYnVnQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGEsWmQubWVtYmVycyksdGhpcy5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIobCxxZC5tZW1iZXJzKSx0aGlzLl90aWxlRGVidWdTZWdtZW50cz15cy5zaW1wbGVTZWdtZW50KDAsMCxhLmxlbmd0aCxzLmxlbmd0aCl9X21ha2VHbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIoZSx0LHIsbixpLG8pe2NvbnN0IGE9bmV3IEtvLHM9bmV3IHBhLGw9bmV3IEpvLGM9MjU7cy5yZXNlcnZlKDMyKSxhLnJlc2VydmUoYyksbC5yZXNlcnZlKGMpO2NvbnN0IHU9KGUsdCk9PmMqZSt0O2ZvcihsZXQgZT0wO2U8YztlKyspe2NvbnN0IHM9MjA0OCplO2ZvcihsZXQgZT0wO2U8YztlKyspe2NvbnN0IGM9MjA0OCplO2EuZW1wbGFjZUJhY2soYyxzKTtjb25zdCB1PXRoaXMuX2dsb2JlUG9pbnQoYyxzLHQscixuLGksbyk7bC5lbXBsYWNlQmFjayh1WzBdLHVbMV0sdVsyXSl9fWZvcihsZXQgZT0wO2U8NDtlKyspZm9yKGxldCB0PTA7dDw0O3QrKyl7Y29uc3Qgcj11KGUsdCksbj11KGUsdCsxKSxpPXUoZSsxLHQpLG89dShlKzEsdCsxKTtzLmVtcGxhY2VCYWNrKHIsbixpKSxzLmVtcGxhY2VCYWNrKGksbixvKX10aGlzLl90aWxlRGVidWdUZXh0SW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihzKSx0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGEsWmQubWVtYmVycyksdGhpcy5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGwscWQubWVtYmVycyksdGhpcy5fdGlsZURlYnVnVGV4dFNlZ21lbnRzPXlzLnNpbXBsZVNlZ21lbnQoMCwwLGMsMzIpfX1jbGFzcyBUZntjb25zdHJ1Y3Rvcigpe3RoaXMuc3RhdGU9e30sdGhpcy5zdGF0ZUNoYW5nZXM9e30sdGhpcy5kZWxldGVkU3RhdGVzPXt9fXVwZGF0ZVN0YXRlKGUsdCxyKXtjb25zdCBuPVN0cmluZyh0KTtpZih0aGlzLnN0YXRlQ2hhbmdlc1tlXT10aGlzLnN0YXRlQ2hhbmdlc1tlXXx8e30sdGhpcy5zdGF0ZUNoYW5nZXNbZV1bbl09dGhpcy5zdGF0ZUNoYW5nZXNbZV1bbl18fHt9LEkodGhpcy5zdGF0ZUNoYW5nZXNbZV1bbl0sciksbnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1tlXSl7dGhpcy5kZWxldGVkU3RhdGVzW2VdPXt9O2Zvcihjb25zdCB0IGluIHRoaXMuc3RhdGVbZV0pdCE9PW4mJih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bdF09bnVsbCl9ZWxzZSBpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV0mJm51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bbl0pe3RoaXMuZGVsZXRlZFN0YXRlc1tlXVtuXT17fTtmb3IoY29uc3QgdCBpbiB0aGlzLnN0YXRlW2VdW25dKXJbdF18fCh0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bbl1bdF09bnVsbCl9ZWxzZSBmb3IoY29uc3QgdCBpbiByKXRoaXMuZGVsZXRlZFN0YXRlc1tlXSYmdGhpcy5kZWxldGVkU3RhdGVzW2VdW25dJiZudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdW25dW3RdJiZkZWxldGUgdGhpcy5kZWxldGVkU3RhdGVzW2VdW25dW3RdfXJlbW92ZUZlYXR1cmVTdGF0ZShlLHQscil7aWYobnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1tlXSlyZXR1cm47Y29uc3Qgbj1TdHJpbmcodCk7aWYodGhpcy5kZWxldGVkU3RhdGVzW2VdPXRoaXMuZGVsZXRlZFN0YXRlc1tlXXx8e30sciYmdm9pZCAwIT09dCludWxsIT09dGhpcy5kZWxldGVkU3RhdGVzW2VdW25dJiYodGhpcy5kZWxldGVkU3RhdGVzW2VdW25dPXRoaXMuZGVsZXRlZFN0YXRlc1tlXVtuXXx8e30sdGhpcy5kZWxldGVkU3RhdGVzW2VdW25dW3JdPW51bGwpO2Vsc2UgaWYodm9pZCAwIT09dClpZih0aGlzLnN0YXRlQ2hhbmdlc1tlXSYmdGhpcy5zdGF0ZUNoYW5nZXNbZV1bbl0pZm9yKHIgaW4gdGhpcy5kZWxldGVkU3RhdGVzW2VdW25dPXt9LHRoaXMuc3RhdGVDaGFuZ2VzW2VdW25dKXRoaXMuZGVsZXRlZFN0YXRlc1tlXVtuXVtyXT1udWxsO2Vsc2UgdGhpcy5kZWxldGVkU3RhdGVzW2VdW25dPW51bGw7ZWxzZSB0aGlzLmRlbGV0ZWRTdGF0ZXNbZV09bnVsbH1nZXRTdGF0ZShlLHQpe2NvbnN0IHI9U3RyaW5nKHQpLG49SSh7fSwodGhpcy5zdGF0ZVtlXXx8e30pW3JdLCh0aGlzLnN0YXRlQ2hhbmdlc1tlXXx8e30pW3JdKTtpZihudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdKXJldHVybnt9O2lmKHRoaXMuZGVsZXRlZFN0YXRlc1tlXSl7Y29uc3Qgcj10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bdF07aWYobnVsbD09PXIpcmV0dXJue307Zm9yKGNvbnN0IGUgaW4gcilkZWxldGUgbltlXX1yZXR1cm4gbn1pbml0aWFsaXplVGlsZVN0YXRlKGUsdCl7ZS5zZXRGZWF0dXJlU3RhdGUodGhpcy5zdGF0ZSx0KX1jb2FsZXNjZUNoYW5nZXMoZSx0KXtjb25zdCByPXt9O2Zvcihjb25zdCBlIGluIHRoaXMuc3RhdGVDaGFuZ2VzKXt0aGlzLnN0YXRlW2VdPXRoaXMuc3RhdGVbZV18fHt9O2NvbnN0IHQ9e307Zm9yKGNvbnN0IHIgaW4gdGhpcy5zdGF0ZUNoYW5nZXNbZV0pdGhpcy5zdGF0ZVtlXVtyXXx8KHRoaXMuc3RhdGVbZV1bcl09e30pLEkodGhpcy5zdGF0ZVtlXVtyXSx0aGlzLnN0YXRlQ2hhbmdlc1tlXVtyXSksdFtyXT10aGlzLnN0YXRlW2VdW3JdO3JbZV09dH1mb3IoY29uc3QgZSBpbiB0aGlzLmRlbGV0ZWRTdGF0ZXMpe3RoaXMuc3RhdGVbZV09dGhpcy5zdGF0ZVtlXXx8e307Y29uc3QgdD17fTtpZihudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdKWZvcihjb25zdCByIGluIHRoaXMuc3RhdGVbZV0pdFtyXT17fSx0aGlzLnN0YXRlW2VdW3JdPXt9O2Vsc2UgZm9yKGNvbnN0IHIgaW4gdGhpcy5kZWxldGVkU3RhdGVzW2VdKXtpZihudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdW3JdKXRoaXMuc3RhdGVbZV1bcl09e307ZWxzZSBmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyh0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1bcl0pKWRlbGV0ZSB0aGlzLnN0YXRlW2VdW3JdW3RdO3Rbcl09dGhpcy5zdGF0ZVtlXVtyXX1yW2VdPXJbZV18fHt9LEkocltlXSx0KX1pZih0aGlzLnN0YXRlQ2hhbmdlcz17fSx0aGlzLmRlbGV0ZWRTdGF0ZXM9e30sMCE9PU9iamVjdC5rZXlzKHIpLmxlbmd0aClmb3IoY29uc3QgbiBpbiBlKWVbbl0uc2V0RmVhdHVyZVN0YXRlKHIsdCl9fWNsYXNzIEVme2NvbnN0cnVjdG9yKGUpe3RoaXMuc2l6ZT1lLHRoaXMubWluaW11bXM9W10sdGhpcy5tYXhpbXVtcz1bXSx0aGlzLmxlYXZlcz1bXX1nZXRFbGV2YXRpb24oZSx0KXtjb25zdCByPXRoaXMudG9JZHgoZSx0KTtyZXR1cm57bWluOnRoaXMubWluaW11bXNbcl0sbWF4OnRoaXMubWF4aW11bXNbcl19fWlzTGVhZihlLHQpe3JldHVybiB0aGlzLmxlYXZlc1t0aGlzLnRvSWR4KGUsdCldfXRvSWR4KGUsdCl7cmV0dXJuIHQqdGhpcy5zaXplK2V9fWZ1bmN0aW9uIFNmKGUsdCxyLG4pe2xldCBpPTAsbz1OdW1iZXIuTUFYX1ZBTFVFO2ZvcihsZXQgYT0wO2E8MzthKyspaWYoTWF0aC5hYnMoblthXSk8MWUtMTUpe2lmKHJbYV08ZVthXXx8clthXT50W2FdKXJldHVybiBudWxsfWVsc2V7Y29uc3Qgcz0xL25bYV07bGV0IGw9KGVbYV0tclthXSkqcyxjPSh0W2FdLXJbYV0pKnM7aWYobD5jKXtjb25zdCBlPWw7bD1jLGM9ZX1pZihsPmkmJihpPWwpLGM8byYmKG89YyksaT5vKXJldHVybiBudWxsfXJldHVybiBpfWZ1bmN0aW9uIENmKGUsdCxyLG4saSxvLGEscyxsLGMsdSl7Y29uc3QgaD1uLWUsZD1pLXQscD1vLXIsZj1hLWUsbT1zLXQsZz1sLXIsXz11WzFdKmctdVsyXSptLHk9dVsyXSpmLXVbMF0qZyx2PXVbMF0qbS11WzFdKmYseD1oKl8rZCp5K3AqdjtpZihNYXRoLmFicyh4KTwxZS0xNSlyZXR1cm4gbnVsbDtjb25zdCBiPTEveCx3PWNbMF0tZSxUPWNbMV0tdCxFPWNbMl0tcixTPSh3Kl8rVCp5K0UqdikqYjtpZihTPDB8fFM+MSlyZXR1cm4gbnVsbDtjb25zdCBDPVQqcC1FKmQsTT1FKmgtdypwLGs9dypkLVQqaCxBPSh1WzBdKkMrdVsxXSpNK3VbMl0qaykqYjtyZXR1cm4gQTwwfHxTK0E+MT9udWxsOihmKkMrbSpNK2cqaykqYn1mdW5jdGlvbiBNZihlLHQscil7cmV0dXJuKGUtdCkvKHItdCl9ZnVuY3Rpb24ga2YoZSx0LHIsbixpLG8sYSxzLGwpe2NvbnN0IGM9MTw8cix1PW8tbixoPWEtaSxkPShlKzEpL2MqdStuLHA9KHQrMCkvYypoK2ksZj0odCsxKS9jKmgraTtzWzBdPShlKzApL2MqdStuLHNbMV09cCxsWzBdPWQsbFsxXT1mfWNsYXNzIEFme2NvbnN0cnVjdG9yKGUpe2lmKHRoaXMubWF4aW11bXM9W10sdGhpcy5taW5pbXVtcz1bXSx0aGlzLmxlYXZlcz1bXSx0aGlzLmNoaWxkT2Zmc2V0cz1bXSx0aGlzLm5vZGVDb3VudD0wLHRoaXMuZGVtPWUsdGhpcy5fc2libGluZ09mZnNldD1bWzAsMF0sWzEsMF0sWzAsMV0sWzEsMV1dLCF0aGlzLmRlbSlyZXR1cm47Y29uc3QgdD1mdW5jdGlvbihlKXtjb25zdCB0PU1hdGguY2VpbChNYXRoLmxvZzIoZS5kaW0vOCkpLHI9W107bGV0IG49TWF0aC5jZWlsKE1hdGgucG93KDIsdCkpO2NvbnN0IGk9MS9uLG89KGUsdCxyLG4saSk9Pntjb25zdCBvPW4/MTowLGE9KGUrMSkqci1vLHM9dCpyLGw9KHQrMSkqci1vO2lbMF09ZSpyLGlbMV09cyxpWzJdPWEsaVszXT1sfTtsZXQgYT1uZXcgRWYobik7Y29uc3Qgcz1bXTtmb3IobGV0IHQ9MDt0PG4qbjt0Kyspe28odCVuLE1hdGguZmxvb3IodC9uKSxpLCExLHMpO2NvbnN0IHI9UGYoc1swXSxzWzFdLGUpLGw9UGYoc1syXSxzWzFdLGUpLGM9UGYoc1syXSxzWzNdLGUpLHU9UGYoc1swXSxzWzNdLGUpO2EubWluaW11bXMucHVzaChNYXRoLm1pbihyLGwsYyx1KSksYS5tYXhpbXVtcy5wdXNoKE1hdGgubWF4KHIsbCxjLHUpKSxhLmxlYXZlcy5wdXNoKDEpfWZvcihyLnB1c2goYSksbi89MjtuPj0xO24vPTIpe2NvbnN0IGU9cltyLmxlbmd0aC0xXTthPW5ldyBFZihuKTtmb3IobGV0IHQ9MDt0PG4qbjt0Kyspe28odCVuLE1hdGguZmxvb3IodC9uKSwyLCEwLHMpO2NvbnN0IHI9ZS5nZXRFbGV2YXRpb24oc1swXSxzWzFdKSxpPWUuZ2V0RWxldmF0aW9uKHNbMl0sc1sxXSksbD1lLmdldEVsZXZhdGlvbihzWzJdLHNbM10pLGM9ZS5nZXRFbGV2YXRpb24oc1swXSxzWzNdKSx1PWUuaXNMZWFmKHNbMF0sc1sxXSksaD1lLmlzTGVhZihzWzJdLHNbMV0pLGQ9ZS5pc0xlYWYoc1syXSxzWzNdKSxwPWUuaXNMZWFmKHNbMF0sc1szXSksZj1NYXRoLm1pbihyLm1pbixpLm1pbixsLm1pbixjLm1pbiksbT1NYXRoLm1heChyLm1heCxpLm1heCxsLm1heCxjLm1heCksZz11JiZoJiZkJiZwO2EubWF4aW11bXMucHVzaChtKSxhLm1pbmltdW1zLnB1c2goZiksYS5sZWF2ZXMucHVzaChtLWY8PTUmJmc/MTowKX1yLnB1c2goYSl9cmV0dXJuIHJ9KHRoaXMuZGVtKSxyPXQubGVuZ3RoLTEsbj10W3JdO3RoaXMuX2FkZE5vZGUobi5taW5pbXVtc1swXSxuLm1heGltdW1zWzBdLG4ubGVhdmVzWzBdKSx0aGlzLl9jb25zdHJ1Y3QodCwwLDAsciwwKX1yYXljYXN0Um9vdChlLHQscixuLGksbyxhPTEpe3JldHVybiBTZihbZSx0LC0xMDBdLFtyLG4sdGhpcy5tYXhpbXVtc1swXSphXSxpLG8pfXJheWNhc3QoZSx0LHIsbixpLG8sYT0xKXtpZighdGhpcy5ub2RlQ291bnQpcmV0dXJuIG51bGw7Y29uc3Qgcz10aGlzLnJheWNhc3RSb290KGUsdCxyLG4saSxvLGEpO2lmKG51bGw9PXMpcmV0dXJuIG51bGw7Y29uc3QgbD1bXSxjPVtdLHU9W10saD1bXSxkPVt7aWR4OjAsdDpzLG5vZGV4OjAsbm9kZXk6MCxkZXB0aDowfV07Zm9yKDtkLmxlbmd0aD4wOyl7Y29uc3R7aWR4OnMsdDpwLG5vZGV4OmYsbm9kZXk6bSxkZXB0aDpnfT1kLnBvcCgpO2lmKHRoaXMubGVhdmVzW3NdKXtrZihmLG0sZyxlLHQscixuLHUsaCk7Y29uc3Qgcz0xPDxnLGw9KGYrMCkvcyxjPShmKzEpL3MsZD0obSswKS9zLF89KG0rMSkvcyx5PVBmKGwsZCx0aGlzLmRlbSkqYSx2PVBmKGMsZCx0aGlzLmRlbSkqYSx4PVBmKGMsXyx0aGlzLmRlbSkqYSxiPVBmKGwsXyx0aGlzLmRlbSkqYSx3PUNmKHVbMF0sdVsxXSx5LGhbMF0sdVsxXSx2LGhbMF0saFsxXSx4LGksbyksVD1DZihoWzBdLGhbMV0seCx1WzBdLGhbMV0sYix1WzBdLHVbMV0seSxpLG8pLEU9TWF0aC5taW4obnVsbCE9PXc/dzpOdW1iZXIuTUFYX1ZBTFVFLG51bGwhPT1UP1Q6TnVtYmVyLk1BWF9WQUxVRSk7aWYoRSE9PU51bWJlci5NQVhfVkFMVUUpcmV0dXJuIEU7e2NvbnN0IGU9UmwoW10saSxvLHApO2lmKElmKHksdixiLHgsTWYoZVswXSx1WzBdLGhbMF0pLE1mKGVbMV0sdVsxXSxoWzFdKSk+PWVbMl0pcmV0dXJuIHB9Y29udGludWV9bGV0IF89MDtmb3IobGV0IGQ9MDtkPHRoaXMuX3NpYmxpbmdPZmZzZXQubGVuZ3RoO2QrKyl7a2YoKGY8PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbZF1bMF0sKG08PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbZF1bMV0sZysxLGUsdCxyLG4sdSxoKSx1WzJdPS0xMDAsaFsyXT10aGlzLm1heGltdW1zW3RoaXMuY2hpbGRPZmZzZXRzW3NdK2RdKmE7Y29uc3QgcD1TZih1LGgsaSxvKTtpZihudWxsIT1wKXtjb25zdCBlPXA7bFtkXT1lO2xldCB0PSExO2ZvcihsZXQgcj0wO3I8XyYmIXQ7cisrKWU+PWxbY1tyXV0mJihjLnNwbGljZShyLDAsZCksdD0hMCk7dHx8KGNbX109ZCksXysrfX1mb3IobGV0IGU9MDtlPF87ZSsrKXtjb25zdCB0PWNbZV07ZC5wdXNoKHtpZHg6dGhpcy5jaGlsZE9mZnNldHNbc10rdCx0OmxbdF0sbm9kZXg6KGY8PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbdF1bMF0sbm9kZXk6KG08PDEpK3RoaXMuX3NpYmxpbmdPZmZzZXRbdF1bMV0sZGVwdGg6ZysxfSl9fXJldHVybiBudWxsfV9hZGROb2RlKGUsdCxyKXtyZXR1cm4gdGhpcy5taW5pbXVtcy5wdXNoKGUpLHRoaXMubWF4aW11bXMucHVzaCh0KSx0aGlzLmxlYXZlcy5wdXNoKHIpLHRoaXMuY2hpbGRPZmZzZXRzLnB1c2goMCksdGhpcy5ub2RlQ291bnQrK31fY29uc3RydWN0KGUsdCxyLG4saSl7aWYoMT09PWVbbl0uaXNMZWFmKHQscikpcmV0dXJuO3RoaXMuY2hpbGRPZmZzZXRzW2ldfHwodGhpcy5jaGlsZE9mZnNldHNbaV09dGhpcy5ub2RlQ291bnQpO2NvbnN0IG89bi0xLGE9ZVtvXTtsZXQgcz0wLGw9MDtmb3IobGV0IGU9MDtlPHRoaXMuX3NpYmxpbmdPZmZzZXQubGVuZ3RoO2UrKyl7Y29uc3Qgbj0yKnQrdGhpcy5fc2libGluZ09mZnNldFtlXVswXSxpPTIqcit0aGlzLl9zaWJsaW5nT2Zmc2V0W2VdWzFdLG89YS5nZXRFbGV2YXRpb24obixpKSxjPWEuaXNMZWFmKG4saSksdT10aGlzLl9hZGROb2RlKG8ubWluLG8ubWF4LGMpO2MmJihzfD0xPDxlKSxsfHwobD11KX1mb3IobGV0IG49MDtuPHRoaXMuX3NpYmxpbmdPZmZzZXQubGVuZ3RoO24rKylzJjE8PG58fHRoaXMuX2NvbnN0cnVjdChlLDIqdCt0aGlzLl9zaWJsaW5nT2Zmc2V0W25dWzBdLDIqcit0aGlzLl9zaWJsaW5nT2Zmc2V0W25dWzFdLG8sbCtuKX19ZnVuY3Rpb24gSWYoZSx0LHIsbixpLG8pe3JldHVybiBDcihDcihlLHIsbyksQ3IodCxuLG8pLGkpfWZ1bmN0aW9uIFBmKGUsdCxyKXtjb25zdCBuPXIuZGltLGk9UyhlKm4tLjUsMCxuLTEpLG89Uyh0Km4tLjUsMCxuLTEpLGE9TWF0aC5mbG9vcihpKSxzPU1hdGguZmxvb3IobyksbD1NYXRoLm1pbihhKzEsbi0xKSxjPU1hdGgubWluKHMrMSxuLTEpO3JldHVybiBJZihyLmdldChhLHMpLHIuZ2V0KGwscyksci5nZXQoYSxjKSxyLmdldChsLGMpLGktYSxvLXMpfWNvbnN0IHpmPXttYXBib3g6WzY1NTMuNiwyNS42LC4xLDFlNF0sdGVycmFyaXVtOlsyNTYsMSwxLzI1NiwzMjc2OF19O2NsYXNzIERme2dldCB0cmVlKCl7cmV0dXJuIHRoaXMuX3RyZWV8fHRoaXMuX2J1aWxkUXVhZFRyZWUoKSx0aGlzLl90cmVlfWNvbnN0cnVjdG9yKGUsdCxyLG49ITEsaT0hMSl7aWYodGhpcy51aWQ9ZSx0LmhlaWdodCE9PXQud2lkdGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJERU0gdGlsZXMgbXVzdCBiZSBzcXVhcmVcIik7aWYociYmXCJtYXBib3hcIiE9PXImJlwidGVycmFyaXVtXCIhPT1yKXJldHVybiBWKGBcIiR7cn1cIiBpcyBub3QgYSB2YWxpZCBlbmNvZGluZyB0eXBlLiBWYWxpZCB0eXBlcyBpbmNsdWRlIFwibWFwYm94XCIgYW5kIFwidGVycmFyaXVtXCIuYCk7dGhpcy5zdHJpZGU9dC5oZWlnaHQ7Y29uc3Qgbz10aGlzLmRpbT10LmhlaWdodC0yLGE9bmV3IFVpbnQzMkFycmF5KHQuZGF0YS5idWZmZXIpO2lmKHRoaXMucGl4ZWxzPW5ldyBVaW50OEFycmF5KHQuZGF0YS5idWZmZXIpLHRoaXMuZW5jb2Rpbmc9cnx8XCJtYXBib3hcIix0aGlzLmJvcmRlclJlYWR5PW4sIW4pe2ZvcihsZXQgZT0wO2U8bztlKyspYVt0aGlzLl9pZHgoLTEsZSldPWFbdGhpcy5faWR4KDAsZSldLGFbdGhpcy5faWR4KG8sZSldPWFbdGhpcy5faWR4KG8tMSxlKV0sYVt0aGlzLl9pZHgoZSwtMSldPWFbdGhpcy5faWR4KGUsMCldLGFbdGhpcy5faWR4KGUsbyldPWFbdGhpcy5faWR4KGUsby0xKV07YVt0aGlzLl9pZHgoLTEsLTEpXT1hW3RoaXMuX2lkeCgwLDApXSxhW3RoaXMuX2lkeChvLC0xKV09YVt0aGlzLl9pZHgoby0xLDApXSxhW3RoaXMuX2lkeCgtMSxvKV09YVt0aGlzLl9pZHgoMCxvLTEpXSxhW3RoaXMuX2lkeChvLG8pXT1hW3RoaXMuX2lkeChvLTEsby0xKV0saSYmdGhpcy5fYnVpbGRRdWFkVHJlZSgpfX1fYnVpbGRRdWFkVHJlZSgpe3RoaXMuX3RyZWU9bmV3IEFmKHRoaXMpfWdldChlLHQscj0hMSl7ciYmKGU9UyhlLC0xLHRoaXMuZGltKSx0PVModCwtMSx0aGlzLmRpbSkpO2NvbnN0IG49NCp0aGlzLl9pZHgoZSx0KTtyZXR1cm4oXCJ0ZXJyYXJpdW1cIj09PXRoaXMuZW5jb2Rpbmc/dGhpcy5fdW5wYWNrVGVycmFyaXVtOnRoaXMuX3VucGFja01hcGJveCkodGhpcy5waXhlbHNbbl0sdGhpcy5waXhlbHNbbisxXSx0aGlzLnBpeGVsc1tuKzJdKX1zdGF0aWMgZ2V0VW5wYWNrVmVjdG9yKGUpe3JldHVybiB6ZltlXX1nZXQgdW5wYWNrVmVjdG9yKCl7cmV0dXJuIHpmW3RoaXMuZW5jb2RpbmddfV9pZHgoZSx0KXtpZihlPC0xfHxlPj10aGlzLmRpbSsxfHx0PC0xfHx0Pj10aGlzLmRpbSsxKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIHNvdXJjZSBjb29yZGluYXRlcyBmb3IgREVNIGRhdGFcIik7cmV0dXJuKHQrMSkqdGhpcy5zdHJpZGUrKGUrMSl9X3VucGFja01hcGJveChlLHQscil7cmV0dXJuKDI1NiplKjI1NisyNTYqdCtyKS8xMC0xZTR9X3VucGFja1RlcnJhcml1bShlLHQscil7cmV0dXJuIDI1NiplK3Qrci8yNTYtMzI3Njh9c3RhdGljIHBhY2soZSx0KXtjb25zdCByPVswLDAsMCwwXSxuPURmLmdldFVucGFja1ZlY3Rvcih0KTtsZXQgaT1NYXRoLmZsb29yKChlK25bM10pL25bMl0pO3JldHVybiByWzJdPWklMjU2LGk9TWF0aC5mbG9vcihpLzI1NiksclsxXT1pJTI1NixpPU1hdGguZmxvb3IoaS8yNTYpLHJbMF09aSxyfWdldFBpeGVscygpe3JldHVybiBuZXcgZGMoe3dpZHRoOnRoaXMuc3RyaWRlLGhlaWdodDp0aGlzLnN0cmlkZX0sdGhpcy5waXhlbHMpfWJhY2tmaWxsQm9yZGVyKGUsdCxyKXtpZih0aGlzLmRpbSE9PWUuZGltKXRocm93IG5ldyBFcnJvcihcImRlbSBkaW1lbnNpb24gbWlzbWF0Y2hcIik7bGV0IG49dCp0aGlzLmRpbSxpPXQqdGhpcy5kaW0rdGhpcy5kaW0sbz1yKnRoaXMuZGltLGE9cip0aGlzLmRpbSt0aGlzLmRpbTtzd2l0Y2godCl7Y2FzZS0xOm49aS0xO2JyZWFrO2Nhc2UgMTppPW4rMX1zd2l0Y2gocil7Y2FzZS0xOm89YS0xO2JyZWFrO2Nhc2UgMTphPW8rMX1jb25zdCBzPS10KnRoaXMuZGltLGw9LXIqdGhpcy5kaW07Zm9yKGxldCB0PW87dDxhO3QrKylmb3IobGV0IHI9bjtyPGk7cisrKXtjb25zdCBuPTQqdGhpcy5faWR4KHIsdCksaT00KnRoaXMuX2lkeChyK3MsdCtsKTt0aGlzLnBpeGVsc1tuKzBdPWUucGl4ZWxzW2krMF0sdGhpcy5waXhlbHNbbisxXT1lLnBpeGVsc1tpKzFdLHRoaXMucGl4ZWxzW24rMl09ZS5waXhlbHNbaSsyXSx0aGlzLnBpeGVsc1tuKzNdPWUucGl4ZWxzW2krM119fW9uRGVzZXJpYWxpemUoKXt0aGlzLl90cmVlJiYodGhpcy5fdHJlZS5kZW09dGhpcyl9fUlpKERmLFwiREVNRGF0YVwiKSxJaShBZixcIkRlbU1pbk1heFF1YWRUcmVlXCIse29taXQ6W1wiZGVtXCJdfSk7Y2xhc3MgUmZ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLm1heD1lLHRoaXMub25SZW1vdmU9dCx0aGlzLnJlc2V0KCl9cmVzZXQoKXtmb3IoY29uc3QgZSBpbiB0aGlzLmRhdGEpZm9yKGNvbnN0IHQgb2YgdGhpcy5kYXRhW2VdKXQudGltZW91dCYmY2xlYXJUaW1lb3V0KHQudGltZW91dCksdGhpcy5vblJlbW92ZSh0LnZhbHVlKTtyZXR1cm4gdGhpcy5kYXRhPXt9LHRoaXMub3JkZXI9W10sdGhpc31hZGQoZSx0LHIpe2NvbnN0IG49ZS53cmFwcGVkKCkua2V5O3ZvaWQgMD09PXRoaXMuZGF0YVtuXSYmKHRoaXMuZGF0YVtuXT1bXSk7Y29uc3QgaT17dmFsdWU6dCx0aW1lb3V0OnZvaWQgMH07aWYodm9pZCAwIT09ciYmKGkudGltZW91dD1zZXRUaW1lb3V0KCgpPT57dGhpcy5yZW1vdmUoZSxpKX0scikpLHRoaXMuZGF0YVtuXS5wdXNoKGkpLHRoaXMub3JkZXIucHVzaChuKSx0aGlzLm9yZGVyLmxlbmd0aD50aGlzLm1heCl7Y29uc3QgZT10aGlzLl9nZXRBbmRSZW1vdmVCeUtleSh0aGlzLm9yZGVyWzBdKTtlJiZ0aGlzLm9uUmVtb3ZlKGUpfXJldHVybiB0aGlzfWhhcyhlKXtyZXR1cm4gZS53cmFwcGVkKCkua2V5IGluIHRoaXMuZGF0YX1nZXRBbmRSZW1vdmUoZSl7cmV0dXJuIHRoaXMuaGFzKGUpP3RoaXMuX2dldEFuZFJlbW92ZUJ5S2V5KGUud3JhcHBlZCgpLmtleSk6bnVsbH1fZ2V0QW5kUmVtb3ZlQnlLZXkoZSl7Y29uc3QgdD10aGlzLmRhdGFbZV0uc2hpZnQoKTtyZXR1cm4gdC50aW1lb3V0JiZjbGVhclRpbWVvdXQodC50aW1lb3V0KSwwPT09dGhpcy5kYXRhW2VdLmxlbmd0aCYmZGVsZXRlIHRoaXMuZGF0YVtlXSx0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2YoZSksMSksdC52YWx1ZX1nZXRCeUtleShlKXtjb25zdCB0PXRoaXMuZGF0YVtlXTtyZXR1cm4gdD90WzBdLnZhbHVlOm51bGx9Z2V0KGUpe3JldHVybiB0aGlzLmhhcyhlKT90aGlzLmRhdGFbZS53cmFwcGVkKCkua2V5XVswXS52YWx1ZTpudWxsfXJlbW92ZShlLHQpe2lmKCF0aGlzLmhhcyhlKSlyZXR1cm4gdGhpcztjb25zdCByPWUud3JhcHBlZCgpLmtleSxuPXZvaWQgMD09PXQ/MDp0aGlzLmRhdGFbcl0uaW5kZXhPZih0KSxpPXRoaXMuZGF0YVtyXVtuXTtyZXR1cm4gdGhpcy5kYXRhW3JdLnNwbGljZShuLDEpLGkudGltZW91dCYmY2xlYXJUaW1lb3V0KGkudGltZW91dCksMD09PXRoaXMuZGF0YVtyXS5sZW5ndGgmJmRlbGV0ZSB0aGlzLmRhdGFbcl0sdGhpcy5vblJlbW92ZShpLnZhbHVlKSx0aGlzLm9yZGVyLnNwbGljZSh0aGlzLm9yZGVyLmluZGV4T2YociksMSksdGhpc31zZXRNYXhTaXplKGUpe2Zvcih0aGlzLm1heD1lO3RoaXMub3JkZXIubGVuZ3RoPnRoaXMubWF4Oyl7Y29uc3QgZT10aGlzLl9nZXRBbmRSZW1vdmVCeUtleSh0aGlzLm9yZGVyWzBdKTtlJiZ0aGlzLm9uUmVtb3ZlKGUpfXJldHVybiB0aGlzfWZpbHRlcihlKXtjb25zdCB0PVtdO2Zvcihjb25zdCByIGluIHRoaXMuZGF0YSlmb3IoY29uc3QgbiBvZiB0aGlzLmRhdGFbcl0pZShuLnZhbHVlKXx8dC5wdXNoKG4pO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5yZW1vdmUoZS52YWx1ZS50aWxlSUQsZSl9fWNsYXNzIExme2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLmZ1bmM9ZSx0aGlzLm1hc2s9dCx0aGlzLnJhbmdlPXJ9fUxmLlJlYWRPbmx5PSExLExmLlJlYWRXcml0ZT0hMCxMZi5kaXNhYmxlZD1uZXcgTGYoNTE5LExmLlJlYWRPbmx5LFswLDFdKTtjbGFzcyBPZntjb25zdHJ1Y3RvcihlLHQscixuLGksbyl7dGhpcy50ZXN0PWUsdGhpcy5yZWY9dCx0aGlzLm1hc2s9cix0aGlzLmZhaWw9bix0aGlzLmRlcHRoRmFpbD1pLHRoaXMucGFzcz1vfX1PZi5kaXNhYmxlZD1uZXcgT2Yoe2Z1bmM6NTE5LG1hc2s6MH0sMCwwLDc2ODAsNzY4MCw3NjgwKTtjbGFzcyBCZntjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5ibGVuZEZ1bmN0aW9uPWUsdGhpcy5ibGVuZENvbG9yPXQsdGhpcy5tYXNrPXJ9fUJmLlJlcGxhY2U9WzEsMF0sQmYuZGlzYWJsZWQ9bmV3IEJmKEJmLlJlcGxhY2UsTXQudHJhbnNwYXJlbnQsWyExLCExLCExLCExXSksQmYudW5ibGVuZGVkPW5ldyBCZihCZi5SZXBsYWNlLE10LnRyYW5zcGFyZW50LFshMCwhMCwhMCwhMF0pLEJmLmFscGhhQmxlbmRlZD1uZXcgQmYoWzEsNzcxXSxNdC50cmFuc3BhcmVudCxbITAsITAsITAsITBdKTtjbGFzcyBGZntjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5lbmFibGU9ZSx0aGlzLm1vZGU9dCx0aGlzLmZyb250RmFjZT1yfX1GZi5kaXNhYmxlZD1uZXcgRmYoITEsMTAyOSwyMzA1KSxGZi5iYWNrQ0NXPW5ldyBGZighMCwxMDI5LDIzMDUpLEZmLmJhY2tDVz1uZXcgRmYoITAsMTAyOSwyMzA0KSxGZi5mcm9udENXPW5ldyBGZighMCwxMDI4LDIzMDQpLEZmLmZyb250Q0NXPW5ldyBGZighMCwxMDI4LDIzMDUpO2NsYXNzIGpmIGV4dGVuZHMgSGV7Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKCksdGhpcy5pZD1lLHRoaXMuX29ubHlTeW1ib2xzPXIsdC5vbihcImRhdGFcIixlPT57XCJzb3VyY2VcIj09PWUuZGF0YVR5cGUmJlwibWV0YWRhdGFcIj09PWUuc291cmNlRGF0YVR5cGUmJih0aGlzLl9zb3VyY2VMb2FkZWQ9ITApLHRoaXMuX3NvdXJjZUxvYWRlZCYmIXRoaXMuX3BhdXNlZCYmXCJzb3VyY2VcIj09PWUuZGF0YVR5cGUmJlwiY29udGVudFwiPT09ZS5zb3VyY2VEYXRhVHlwZSYmKHRoaXMucmVsb2FkKCksdGhpcy50cmFuc2Zvcm0mJnRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKSl9KSx0Lm9uKFwiZXJyb3JcIiwoKT0+e3RoaXMuX3NvdXJjZUVycm9yZWQ9ITB9KSx0aGlzLl9zb3VyY2U9dCx0aGlzLl90aWxlcz17fSx0aGlzLl9jYWNoZT1uZXcgUmYoMCx0aGlzLl91bmxvYWRUaWxlLmJpbmQodGhpcykpLHRoaXMuX3RpbWVycz17fSx0aGlzLl9jYWNoZVRpbWVycz17fSx0aGlzLl9taW5UaWxlQ2FjaGVTaXplPXQubWluVGlsZUNhY2hlU2l6ZSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPXQubWF4VGlsZUNhY2hlU2l6ZSx0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcz17fSx0aGlzLl9jb3ZlcmVkVGlsZXM9e30sdGhpcy5fc3RhdGU9bmV3IFRmLHRoaXMuX2lzUmFzdGVyPVwicmFzdGVyXCI9PT10aGlzLl9zb3VyY2UudHlwZXx8XCJyYXN0ZXItZGVtXCI9PT10aGlzLl9zb3VyY2UudHlwZXx8XCJjdXN0b21cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZcInJhc3RlclwiPT09dGhpcy5fc291cmNlLl9kYXRhVHlwZX1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMuX21pblRpbGVDYWNoZVNpemU9dm9pZCAwPT09dGhpcy5fbWluVGlsZUNhY2hlU2l6ZSYmZT9lLl9taW5UaWxlQ2FjaGVTaXplOnRoaXMuX21pblRpbGVDYWNoZVNpemUsdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZT12b2lkIDA9PT10aGlzLl9tYXhUaWxlQ2FjaGVTaXplJiZlP2UuX21heFRpbGVDYWNoZVNpemU6dGhpcy5fbWF4VGlsZUNhY2hlU2l6ZX1sb2FkZWQoKXtpZih0aGlzLl9zb3VyY2VFcnJvcmVkKXJldHVybiEwO2lmKCF0aGlzLl9zb3VyY2VMb2FkZWQpcmV0dXJuITE7aWYoIXRoaXMuX3NvdXJjZS5sb2FkZWQoKSlyZXR1cm4hMTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl7Y29uc3QgdD10aGlzLl90aWxlc1tlXTtpZihcImxvYWRlZFwiIT09dC5zdGF0ZSYmXCJlcnJvcmVkXCIhPT10LnN0YXRlKXJldHVybiExfXJldHVybiEwfWdldFNvdXJjZSgpe3JldHVybiB0aGlzLl9zb3VyY2V9cGF1c2UoKXt0aGlzLl9wYXVzZWQ9ITB9cmVzdW1lKCl7aWYoIXRoaXMuX3BhdXNlZClyZXR1cm47Y29uc3QgZT10aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZTt0aGlzLl9wYXVzZWQ9ITEsdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU9ITEsZSYmdGhpcy5yZWxvYWQoKSx0aGlzLnRyYW5zZm9ybSYmdGhpcy51cGRhdGUodGhpcy50cmFuc2Zvcm0pfV9sb2FkVGlsZShlLHQpe3JldHVybiBlLmlzU3ltYm9sVGlsZT10aGlzLl9vbmx5U3ltYm9scyx0aGlzLl9zb3VyY2UubG9hZFRpbGUoZSx0KX1fdW5sb2FkVGlsZShlKXtpZih0aGlzLl9zb3VyY2UudW5sb2FkVGlsZSlyZXR1cm4gdGhpcy5fc291cmNlLnVubG9hZFRpbGUoZSwoKT0+e30pfV9hYm9ydFRpbGUoZSl7aWYodGhpcy5fc291cmNlLmFib3J0VGlsZSlyZXR1cm4gdGhpcy5fc291cmNlLmFib3J0VGlsZShlLCgpPT57fSl9c2VyaWFsaXplKCl7cmV0dXJuIHRoaXMuX3NvdXJjZS5zZXJpYWxpemUoKX1wcmVwYXJlKGUpe3RoaXMuX3NvdXJjZS5wcmVwYXJlJiZ0aGlzLl9zb3VyY2UucHJlcGFyZSgpLHRoaXMuX3N0YXRlLmNvYWxlc2NlQ2hhbmdlcyh0aGlzLl90aWxlcyx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpO2Zvcihjb25zdCB0IGluIHRoaXMuX3RpbGVzKXtjb25zdCByPXRoaXMuX3RpbGVzW3RdO3IudXBsb2FkKGUpLHIucHJlcGFyZSh0aGlzLm1hcC5zdHlsZS5pbWFnZU1hbmFnZXIpfX1nZXRJZHMoKXtyZXR1cm4gQSh0aGlzLl90aWxlcykubWFwKGU9PmUudGlsZUlEKS5zb3J0KFVmKS5tYXAoZT0+ZS5rZXkpfWdldFJlbmRlcmFibGVJZHMoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgciBpbiB0aGlzLl90aWxlcyl0aGlzLl9pc0lkUmVuZGVyYWJsZSgrcixlKSYmdC5wdXNoKHRoaXMuX3RpbGVzW3JdKTtyZXR1cm4gZT90LnNvcnQoKGUsdCk9Pntjb25zdCByPWUudGlsZUlELG49dC50aWxlSUQsaT1uZXcgbShyLmNhbm9uaWNhbC54LHIuY2Fub25pY2FsLnkpLl9yb3RhdGUodGhpcy50cmFuc2Zvcm0uYW5nbGUpLG89bmV3IG0obi5jYW5vbmljYWwueCxuLmNhbm9uaWNhbC55KS5fcm90YXRlKHRoaXMudHJhbnNmb3JtLmFuZ2xlKTtyZXR1cm4gci5vdmVyc2NhbGVkWi1uLm92ZXJzY2FsZWRafHxvLnktaS55fHxvLngtaS54fSkubWFwKGU9PmUudGlsZUlELmtleSk6dC5tYXAoZT0+ZS50aWxlSUQpLnNvcnQoVWYpLm1hcChlPT5lLmtleSl9aGFzUmVuZGVyYWJsZVBhcmVudChlKXtjb25zdCB0PXRoaXMuZmluZExvYWRlZFBhcmVudChlLDApO3JldHVybiEhdCYmdGhpcy5faXNJZFJlbmRlcmFibGUodC50aWxlSUQua2V5KX1faXNJZFJlbmRlcmFibGUoZSx0KXtyZXR1cm4gdGhpcy5fdGlsZXNbZV0mJnRoaXMuX3RpbGVzW2VdLmhhc0RhdGEoKSYmIXRoaXMuX2NvdmVyZWRUaWxlc1tlXSYmKHR8fCF0aGlzLl90aWxlc1tlXS5ob2xkaW5nRm9yRmFkZSgpKX1yZWxvYWQoKXtpZih0aGlzLl9wYXVzZWQpdGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU9ITA7ZWxzZXt0aGlzLl9jYWNoZS5yZXNldCgpO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKVwiZXJyb3JlZFwiIT09dGhpcy5fdGlsZXNbZV0uc3RhdGUmJnRoaXMuX3JlbG9hZFRpbGUoK2UsXCJyZWxvYWRpbmdcIil9fV9yZWxvYWRUaWxlKGUsdCl7Y29uc3Qgcj10aGlzLl90aWxlc1tlXTtyJiYoXCJsb2FkaW5nXCIhPT1yLnN0YXRlJiYoci5zdGF0ZT10KSx0aGlzLl9sb2FkVGlsZShyLHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLHIsZSx0KSkpfV90aWxlTG9hZGVkKGUsdCxyLG4pe2lmKG4paWYoZS5zdGF0ZT1cImVycm9yZWRcIiw0MDQhPT1uLnN0YXR1cyl0aGlzLl9zb3VyY2UuZmlyZShuZXcgWGUobix7dGlsZTplfSkpO2Vsc2UgaWYoXCJyYXN0ZXItZGVtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmdGhpcy51c2VkRm9yVGVycmFpbiYmdGhpcy5tYXAucGFpbnRlci50ZXJyYWluKXtjb25zdCBlPXRoaXMubWFwLnBhaW50ZXIudGVycmFpbjt0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSxlLmdldFNjYWxlZERlbVRpbGVTaXplKCksITApLGUucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5pZCl9ZWxzZSB0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSk7ZWxzZSBlLnRpbWVBZGRlZD1xZS5ub3coKSxcImV4cGlyZWRcIj09PXImJihlLnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uPSEwKSx0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIodCxlKSxcInJhc3Rlci1kZW1cIj09PXRoaXMuX3NvdXJjZS50eXBlJiZlLmRlbSYmdGhpcy5fYmFja2ZpbGxERU0oZSksdGhpcy5fc3RhdGUuaW5pdGlhbGl6ZVRpbGVTdGF0ZShlLHRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCksdGhpcy5fc291cmNlLmZpcmUobmV3IFdlKFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHRpbGU6ZSxjb29yZDplLnRpbGVJRCxzb3VyY2VDYWNoZUlkOnRoaXMuaWR9KSl9X2JhY2tmaWxsREVNKGUpe2NvbnN0IHQ9dGhpcy5nZXRSZW5kZXJhYmxlSWRzKCk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGk9dFtuXTtpZihlLm5laWdoYm9yaW5nVGlsZXMmJmUubmVpZ2hib3JpbmdUaWxlc1tpXSl7Y29uc3QgdD10aGlzLmdldFRpbGVCeUlEKGkpO3IoZSx0KSxyKHQsZSl9fWZ1bmN0aW9uIHIoZSx0KXtpZighZS5kZW18fGUuZGVtLmJvcmRlclJlYWR5KXJldHVybjtlLm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMCxlLm5lZWRzREVNVGV4dHVyZVVwbG9hZD0hMDtsZXQgcj10LnRpbGVJRC5jYW5vbmljYWwueC1lLnRpbGVJRC5jYW5vbmljYWwueDtjb25zdCBuPXQudGlsZUlELmNhbm9uaWNhbC55LWUudGlsZUlELmNhbm9uaWNhbC55LGk9TWF0aC5wb3coMixlLnRpbGVJRC5jYW5vbmljYWwueiksbz10LnRpbGVJRC5rZXk7MD09PXImJjA9PT1ufHxNYXRoLmFicyhuKT4xfHwoTWF0aC5hYnMocik+MSYmKDE9PT1NYXRoLmFicyhyK2kpP3IrPWk6MT09PU1hdGguYWJzKHItaSkmJihyLT1pKSksdC5kZW0mJmUuZGVtJiYoZS5kZW0uYmFja2ZpbGxCb3JkZXIodC5kZW0scixuKSxlLm5laWdoYm9yaW5nVGlsZXMmJmUubmVpZ2hib3JpbmdUaWxlc1tvXSYmKGUubmVpZ2hib3JpbmdUaWxlc1tvXS5iYWNrZmlsbGVkPSEwKSkpfX1nZXRUaWxlKGUpe3JldHVybiB0aGlzLmdldFRpbGVCeUlEKGUua2V5KX1nZXRUaWxlQnlJRChlKXtyZXR1cm4gdGhpcy5fdGlsZXNbZV19X3JldGFpbkxvYWRlZENoaWxkcmVuKGUsdCxyLG4pe2Zvcihjb25zdCBpIGluIHRoaXMuX3RpbGVzKXtsZXQgbz10aGlzLl90aWxlc1tpXTtpZihuW2ldfHwhby5oYXNEYXRhKCl8fG8udGlsZUlELm92ZXJzY2FsZWRaPD10fHxvLnRpbGVJRC5vdmVyc2NhbGVkWj5yKWNvbnRpbnVlO2xldCBhPW8udGlsZUlEO2Zvcig7byYmby50aWxlSUQub3ZlcnNjYWxlZFo+dCsxOyl7Y29uc3QgZT1vLnRpbGVJRC5zY2FsZWRUbyhvLnRpbGVJRC5vdmVyc2NhbGVkWi0xKTtvPXRoaXMuX3RpbGVzW2Uua2V5XSxvJiZvLmhhc0RhdGEoKSYmKGE9ZSl9bGV0IHM9YTtmb3IoO3Mub3ZlcnNjYWxlZFo+dDspaWYocz1zLnNjYWxlZFRvKHMub3ZlcnNjYWxlZFotMSksZVtzLmtleV0pe25bYS5rZXldPWE7YnJlYWt9fX1maW5kTG9hZGVkUGFyZW50KGUsdCl7aWYoZS5rZXkgaW4gdGhpcy5fbG9hZGVkUGFyZW50VGlsZXMpe2NvbnN0IHI9dGhpcy5fbG9hZGVkUGFyZW50VGlsZXNbZS5rZXldO3JldHVybiByJiZyLnRpbGVJRC5vdmVyc2NhbGVkWj49dD9yOm51bGx9Zm9yKGxldCByPWUub3ZlcnNjYWxlZFotMTtyPj10O3ItLSl7Y29uc3QgdD1lLnNjYWxlZFRvKHIpLG49dGhpcy5fZ2V0TG9hZGVkVGlsZSh0KTtpZihuKXJldHVybiBufX1fZ2V0TG9hZGVkVGlsZShlKXtjb25zdCB0PXRoaXMuX3RpbGVzW2Uua2V5XTtyZXR1cm4gdCYmdC5oYXNEYXRhKCk/dDp0aGlzLl9jYWNoZS5nZXRCeUtleSh0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWQ/ZS53cmFwcGVkKCkua2V5OmUuY2Fub25pY2FsLmtleSl9dXBkYXRlQ2FjaGVTaXplKGUsdCl7dD10fHx0aGlzLl9zb3VyY2UudGlsZVNpemU7Y29uc3Qgcj1NYXRoLmNlaWwoZS53aWR0aC90KSsxLG49TWF0aC5jZWlsKGUuaGVpZ2h0L3QpKzEsaT1NYXRoLmZsb29yKHIqbio1KSxvPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9taW5UaWxlQ2FjaGVTaXplP01hdGgubWF4KHRoaXMuX21pblRpbGVDYWNoZVNpemUsaSk6aSxhPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9tYXhUaWxlQ2FjaGVTaXplP01hdGgubWluKHRoaXMuX21heFRpbGVDYWNoZVNpemUsbyk6bzt0aGlzLl9jYWNoZS5zZXRNYXhTaXplKGEpfWhhbmRsZVdyYXBKdW1wKGUpe2NvbnN0IHQ9TWF0aC5yb3VuZCgoZS0odm9pZCAwPT09dGhpcy5fcHJldkxuZz9lOnRoaXMuX3ByZXZMbmcpKS8zNjApO2lmKHRoaXMuX3ByZXZMbmc9ZSx0KXtjb25zdCBlPXt9O2Zvcihjb25zdCByIGluIHRoaXMuX3RpbGVzKXtjb25zdCBuPXRoaXMuX3RpbGVzW3JdO24udGlsZUlEPW4udGlsZUlELnVud3JhcFRvKG4udGlsZUlELndyYXArdCksZVtuLnRpbGVJRC5rZXldPW59dGhpcy5fdGlsZXM9ZTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aW1lcnMpY2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVyc1tlXSksZGVsZXRlIHRoaXMuX3RpbWVyc1tlXTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIoK2UsdGhpcy5fdGlsZXNbZV0pfX11cGRhdGUoZSx0LHIpe2lmKHRoaXMudHJhbnNmb3JtPWUsIXRoaXMuX3NvdXJjZUxvYWRlZHx8dGhpcy5fcGF1c2VkfHx0aGlzLnRyYW5zZm9ybS5mcmVlemVUaWxlQ292ZXJhZ2UpcmV0dXJuO2lmKHRoaXMudXNlZEZvclRlcnJhaW4mJiFyKXJldHVybjtsZXQgbjt0aGlzLnVwZGF0ZUNhY2hlU2l6ZShlLHQpLFwiZ2xvYmVcIiE9PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSYmdGhpcy5oYW5kbGVXcmFwSnVtcCh0aGlzLnRyYW5zZm9ybS5jZW50ZXIubG5nKSx0aGlzLl9jb3ZlcmVkVGlsZXM9e30sdGhpcy51c2VkfHx0aGlzLnVzZWRGb3JUZXJyYWluP3RoaXMuX3NvdXJjZS50aWxlSUQ/bj1lLmdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyh0aGlzLl9zb3VyY2UudGlsZUlEKS5tYXAoZT0+bmV3IGp1KGUuY2Fub25pY2FsLnosZS53cmFwLGUuY2Fub25pY2FsLnosZS5jYW5vbmljYWwueCxlLmNhbm9uaWNhbC55KSk6KG49ZS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTp0fHx0aGlzLl9zb3VyY2UudGlsZVNpemUsbWluem9vbTp0aGlzLl9zb3VyY2UubWluem9vbSxtYXh6b29tOnRoaXMuX3NvdXJjZS5tYXh6b29tLHJvdW5kWm9vbTp0aGlzLl9zb3VyY2Uucm91bmRab29tJiYhcixyZXBhcnNlT3ZlcnNjYWxlZDp0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWQsaXNUZXJyYWluREVNOnRoaXMudXNlZEZvclRlcnJhaW59KSx0aGlzLl9zb3VyY2UuaGFzVGlsZSYmKG49bi5maWx0ZXIoZT0+dGhpcy5fc291cmNlLmhhc1RpbGUoZSkpKSk6bj1bXTtjb25zdCBpPXRoaXMuX3VwZGF0ZVJldGFpbmVkVGlsZXMobik7aWYoTmYodGhpcy5fc291cmNlLnR5cGUpJiYwIT09bi5sZW5ndGgpe2NvbnN0IGU9e30sdD17fSxyPU9iamVjdC5rZXlzKGkpO2Zvcihjb25zdCBuIG9mIHIpe2NvbnN0IHI9aVtuXSxvPXRoaXMuX3RpbGVzW25dO2lmKCFvfHxvLmZhZGVFbmRUaW1lJiZvLmZhZGVFbmRUaW1lPD1xZS5ub3coKSljb250aW51ZTtjb25zdCBhPXRoaXMuZmluZExvYWRlZFBhcmVudChyLE1hdGgubWF4KHIub3ZlcnNjYWxlZFotamYubWF4T3Zlcnpvb21pbmcsdGhpcy5fc291cmNlLm1pbnpvb20pKTthJiYodGhpcy5fYWRkVGlsZShhLnRpbGVJRCksZVthLnRpbGVJRC5rZXldPWEudGlsZUlEKSx0W25dPXJ9Y29uc3Qgbz1uW24ubGVuZ3RoLTFdLm92ZXJzY2FsZWRaO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXtjb25zdCByPXRoaXMuX3RpbGVzW2VdO2lmKGlbZV18fCFyLmhhc0RhdGEoKSljb250aW51ZTtsZXQgbj1yLnRpbGVJRDtmb3IoO24ub3ZlcnNjYWxlZFo+bzspe249bi5zY2FsZWRUbyhuLm92ZXJzY2FsZWRaLTEpO2NvbnN0IG89dGhpcy5fdGlsZXNbbi5rZXldO2lmKG8mJm8uaGFzRGF0YSgpJiZ0W24ua2V5XSl7aVtlXT1yLnRpbGVJRDticmVha319fWZvcihjb25zdCB0IGluIGUpaVt0XXx8KHRoaXMuX2NvdmVyZWRUaWxlc1t0XT0hMCxpW3RdPWVbdF0pfWZvcihjb25zdCBlIGluIGkpdGhpcy5fdGlsZXNbZV0uY2xlYXJGYWRlSG9sZCgpO2NvbnN0IG89ZnVuY3Rpb24oZSx0KXtjb25zdCByPVtdO2Zvcihjb25zdCBuIGluIGUpbiBpbiB0fHxyLnB1c2gobik7cmV0dXJuIHJ9KHRoaXMuX3RpbGVzLGkpO2Zvcihjb25zdCBlIG9mIG8pe2NvbnN0IHQ9dGhpcy5fdGlsZXNbZV07dC5oYXNTeW1ib2xCdWNrZXRzJiYhdC5ob2xkaW5nRm9yRmFkZSgpP3Quc2V0SG9sZER1cmF0aW9uKHRoaXMubWFwLl9mYWRlRHVyYXRpb24pOnQuaGFzU3ltYm9sQnVja2V0cyYmIXQuc3ltYm9sRmFkZUZpbmlzaGVkKCl8fHRoaXMuX3JlbW92ZVRpbGUoK2UpfXRoaXMuX3VwZGF0ZUxvYWRlZFBhcmVudFRpbGVDYWNoZSgpLHRoaXMuX29ubHlTeW1ib2xzJiZ0aGlzLl9zb3VyY2UuYWZ0ZXJVcGRhdGUmJnRoaXMuX3NvdXJjZS5hZnRlclVwZGF0ZSgpfXJlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl0aGlzLl90aWxlc1tlXS5ob2xkaW5nRm9yRmFkZSgpJiZ0aGlzLl9yZW1vdmVUaWxlKCtlKX1fdXBkYXRlUmV0YWluZWRUaWxlcyhlKXtjb25zdCB0PXt9O2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gdDtjb25zdCByPXt9LG49ZS5yZWR1Y2UoKGUsdCk9Pk1hdGgubWluKGUsdC5vdmVyc2NhbGVkWiksMS8wKSxpPWVbMF0ub3ZlcnNjYWxlZFosbz1NYXRoLm1heChpLWpmLm1heE92ZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxhPU1hdGgubWF4KGkramYubWF4VW5kZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSxzPXt9O2Zvcihjb25zdCByIG9mIGUpe2NvbnN0IGU9dGhpcy5fYWRkVGlsZShyKTt0W3Iua2V5XT1yLGUuaGFzRGF0YSgpfHxuPHRoaXMuX3NvdXJjZS5tYXh6b29tJiYoc1tyLmtleV09cil9dGhpcy5fcmV0YWluTG9hZGVkQ2hpbGRyZW4ocyxuLGEsdCk7Zm9yKGNvbnN0IG4gb2YgZSl7bGV0IGU9dGhpcy5fdGlsZXNbbi5rZXldO2lmKGUuaGFzRGF0YSgpKWNvbnRpbnVlO2lmKG4uY2Fub25pY2FsLno+PXRoaXMuX3NvdXJjZS5tYXh6b29tKXtjb25zdCBlPW4uY2hpbGRyZW4odGhpcy5fc291cmNlLm1heHpvb20pWzBdLHI9dGhpcy5nZXRUaWxlKGUpO2lmKHImJnIuaGFzRGF0YSgpKXt0W2Uua2V5XT1lO2NvbnRpbnVlfX1lbHNle2NvbnN0IGU9bi5jaGlsZHJlbih0aGlzLl9zb3VyY2UubWF4em9vbSk7aWYodFtlWzBdLmtleV0mJnRbZVsxXS5rZXldJiZ0W2VbMl0ua2V5XSYmdFtlWzNdLmtleV0pY29udGludWV9bGV0IGk9ZS53YXNSZXF1ZXN0ZWQoKTtmb3IobGV0IGE9bi5vdmVyc2NhbGVkWi0xO2E+PW87LS1hKXtjb25zdCBvPW4uc2NhbGVkVG8oYSk7aWYocltvLmtleV0pYnJlYWs7aWYocltvLmtleV09ITAsZT10aGlzLmdldFRpbGUobyksIWUmJmkmJihlPXRoaXMuX2FkZFRpbGUobykpLGUmJih0W28ua2V5XT1vLGk9ZS53YXNSZXF1ZXN0ZWQoKSxlLmhhc0RhdGEoKSkpYnJlYWt9fXJldHVybiB0fV91cGRhdGVMb2FkZWRQYXJlbnRUaWxlQ2FjaGUoKXt0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcz17fTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl7Y29uc3QgdD1bXTtsZXQgcixuPXRoaXMuX3RpbGVzW2VdLnRpbGVJRDtmb3IoO24ub3ZlcnNjYWxlZFo+MDspe2lmKG4ua2V5IGluIHRoaXMuX2xvYWRlZFBhcmVudFRpbGVzKXtyPXRoaXMuX2xvYWRlZFBhcmVudFRpbGVzW24ua2V5XTticmVha310LnB1c2gobi5rZXkpO2NvbnN0IGU9bi5zY2FsZWRUbyhuLm92ZXJzY2FsZWRaLTEpO2lmKHI9dGhpcy5fZ2V0TG9hZGVkVGlsZShlKSxyKWJyZWFrO249ZX1mb3IoY29uc3QgZSBvZiB0KXRoaXMuX2xvYWRlZFBhcmVudFRpbGVzW2VdPXJ9fV9hZGRUaWxlKGUpe2xldCB0PXRoaXMuX3RpbGVzW2Uua2V5XTtpZih0KXJldHVybiB0O3Q9dGhpcy5fY2FjaGUuZ2V0QW5kUmVtb3ZlKGUpLHQmJih0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIoZS5rZXksdCksdC50aWxlSUQ9ZSx0aGlzLl9zdGF0ZS5pbml0aWFsaXplVGlsZVN0YXRlKHQsdGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsKSx0aGlzLl9jYWNoZVRpbWVyc1tlLmtleV0mJihjbGVhclRpbWVvdXQodGhpcy5fY2FjaGVUaW1lcnNbZS5rZXldKSxkZWxldGUgdGhpcy5fY2FjaGVUaW1lcnNbZS5rZXldLHRoaXMuX3NldFRpbGVSZWxvYWRUaW1lcihlLmtleSx0KSkpO2NvbnN0IHI9Qm9vbGVhbih0KTtpZighcil7Y29uc3Qgcj10aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGw7dD1uZXcgd2YoZSx0aGlzLl9zb3VyY2UudGlsZVNpemUqZS5vdmVyc2NhbGVGYWN0b3IoKSx0aGlzLnRyYW5zZm9ybS50aWxlWm9vbSxyLHRoaXMuX2lzUmFzdGVyKSx0aGlzLl9sb2FkVGlsZSh0LHRoaXMuX3RpbGVMb2FkZWQuYmluZCh0aGlzLHQsZS5rZXksdC5zdGF0ZSkpfXJldHVybiB0Pyh0LnVzZXMrKyx0aGlzLl90aWxlc1tlLmtleV09dCxyfHx0aGlzLl9zb3VyY2UuZmlyZShuZXcgV2UoXCJkYXRhbG9hZGluZ1wiLHt0aWxlOnQsY29vcmQ6dC50aWxlSUQsZGF0YVR5cGU6XCJzb3VyY2VcIn0pKSx0KTpudWxsfV9zZXRUaWxlUmVsb2FkVGltZXIoZSx0KXtlIGluIHRoaXMuX3RpbWVycyYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbZV0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbZV0pO2NvbnN0IHI9dC5nZXRFeHBpcnlUaW1lb3V0KCk7ciYmKHRoaXMuX3RpbWVyc1tlXT1zZXRUaW1lb3V0KCgpPT57dGhpcy5fcmVsb2FkVGlsZShlLFwiZXhwaXJlZFwiKSxkZWxldGUgdGhpcy5fdGltZXJzW2VdfSxyKSl9X3JlbW92ZVRpbGUoZSl7Y29uc3QgdD10aGlzLl90aWxlc1tlXTt0JiYodC51c2VzLS0sZGVsZXRlIHRoaXMuX3RpbGVzW2VdLHRoaXMuX3RpbWVyc1tlXSYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbZV0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbZV0pLHQudXNlcz4wfHwodC5oYXNEYXRhKCkmJlwicmVsb2FkaW5nXCIhPT10LnN0YXRlP3RoaXMuX2NhY2hlLmFkZCh0LnRpbGVJRCx0LHQuZ2V0RXhwaXJ5VGltZW91dCgpKToodC5hYm9ydGVkPSEwLHRoaXMuX2Fib3J0VGlsZSh0KSx0aGlzLl91bmxvYWRUaWxlKHQpKSkpfWNsZWFyVGlsZXMoKXt0aGlzLl9zaG91bGRSZWxvYWRPblJlc3VtZT0hMSx0aGlzLl9wYXVzZWQ9ITE7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpdGhpcy5fcmVtb3ZlVGlsZSgrZSk7dGhpcy5fc291cmNlLl9jbGVhciYmdGhpcy5fc291cmNlLl9jbGVhcigpLHRoaXMuX2NhY2hlLnJlc2V0KCksdGhpcy5tYXAmJnRoaXMudXNlZEZvclRlcnJhaW4mJnRoaXMubWFwLnBhaW50ZXIudGVycmFpbiYmdGhpcy5tYXAucGFpbnRlci50ZXJyYWluLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMuaWQpfXRpbGVzSW4oZSx0LHIpe2NvbnN0IG49W10saT10aGlzLnRyYW5zZm9ybTtpZighaSlyZXR1cm4gbjtjb25zdCBvPVwiZ2xvYmVcIj09PWkucHJvamVjdGlvbi5uYW1lLGE9U3MoaS5jZW50ZXIubG5nKTtmb3IoY29uc3QgcyBpbiB0aGlzLl90aWxlcyl7Y29uc3QgbD10aGlzLl90aWxlc1tzXTtpZihyJiZsLmNsZWFyUXVlcnlEZWJ1Z1ZpeigpLGwuaG9sZGluZ0ZvckZhZGUoKSljb250aW51ZTtsZXQgYztpZihvKXtjb25zdCBlPWwudGlsZUlELmNhbm9uaWNhbDtpZigwPT09ZS56KXtjb25zdCB0PVtNYXRoLmFicyhTKGEsLi4uVmYoZSwtMSkpLWEpLE1hdGguYWJzKFMoYSwuLi5WZihlLDEpKS1hKV07Yz1bMCwyKnQuaW5kZXhPZihNYXRoLm1pbiguLi50KSktMV19ZWxzZXtjb25zdCB0PVtNYXRoLmFicyhTKGEsLi4uVmYoZSwtMSkpLWEpLE1hdGguYWJzKFMoYSwuLi5WZihlLDApKS1hKSxNYXRoLmFicyhTKGEsLi4uVmYoZSwxKSktYSldO2M9W3QuaW5kZXhPZihNYXRoLm1pbiguLi50KSktMV19fWVsc2UgYz1bMF07Zm9yKGNvbnN0IHIgb2YgYyl7Y29uc3Qgbz1lLmNvbnRhaW5zVGlsZShsLGksdCxyKTtvJiZuLnB1c2gobyl9fXJldHVybiBufWdldFZpc2libGVDb29yZGluYXRlcyhlKXtjb25zdCB0PXRoaXMuZ2V0UmVuZGVyYWJsZUlkcyhlKS5tYXAoZT0+dGhpcy5fdGlsZXNbZV0udGlsZUlEKTtmb3IoY29uc3QgZSBvZiB0KWUucHJvak1hdHJpeD10aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KGUudG9VbndyYXBwZWQoKSk7cmV0dXJuIHR9aGFzVHJhbnNpdGlvbigpe2lmKHRoaXMuX3NvdXJjZS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuITA7aWYoTmYodGhpcy5fc291cmNlLnR5cGUpKWZvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXtjb25zdCB0PXRoaXMuX3RpbGVzW2VdO2lmKHZvaWQgMCE9PXQuZmFkZUVuZFRpbWUmJnQuZmFkZUVuZFRpbWU+PXFlLm5vdygpKXJldHVybiEwfXJldHVybiExfXNldEZlYXR1cmVTdGF0ZShlLHQscil7dGhpcy5fc3RhdGUudXBkYXRlU3RhdGUoZT1lfHxcIl9nZW9qc29uVGlsZUxheWVyXCIsdCxyKX1yZW1vdmVGZWF0dXJlU3RhdGUoZSx0LHIpe3RoaXMuX3N0YXRlLnJlbW92ZUZlYXR1cmVTdGF0ZShlPWV8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIix0LHIpfWdldEZlYXR1cmVTdGF0ZShlLHQpe3JldHVybiB0aGlzLl9zdGF0ZS5nZXRTdGF0ZShlPWV8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIix0KX1zZXREZXBlbmRlbmNpZXMoZSx0LHIpe2NvbnN0IG49dGhpcy5fdGlsZXNbZV07biYmbi5zZXREZXBlbmRlbmNpZXModCxyKX1yZWxvYWRUaWxlc0ZvckRlcGVuZGVuY2llcyhlLHQpe2Zvcihjb25zdCByIGluIHRoaXMuX3RpbGVzKXRoaXMuX3RpbGVzW3JdLmhhc0RlcGVuZGVuY3koZSx0KSYmdGhpcy5fcmVsb2FkVGlsZSgrcixcInJlbG9hZGluZ1wiKTt0aGlzLl9jYWNoZS5maWx0ZXIocj0+IXIuaGFzRGVwZW5kZW5jeShlLHQpKX1fcHJlbG9hZFRpbGVzKGUsdCl7Y29uc3Qgcj1uZXcgTWFwLG49QXJyYXkuaXNBcnJheShlKT9lOltlXSxpPXRoaXMubWFwLnBhaW50ZXIudGVycmFpbixvPXRoaXMudXNlZEZvclRlcnJhaW4mJmk/aS5nZXRTY2FsZWREZW1UaWxlU2l6ZSgpOnRoaXMuX3NvdXJjZS50aWxlU2l6ZTtmb3IoY29uc3QgZSBvZiBuKXtjb25zdCB0PWUuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6byxtaW56b29tOnRoaXMuX3NvdXJjZS5taW56b29tLG1heHpvb206dGhpcy5fc291cmNlLm1heHpvb20scm91bmRab29tOnRoaXMuX3NvdXJjZS5yb3VuZFpvb20mJiF0aGlzLnVzZWRGb3JUZXJyYWluLHJlcGFyc2VPdmVyc2NhbGVkOnRoaXMuX3NvdXJjZS5yZXBhcnNlT3ZlcnNjYWxlZCxpc1RlcnJhaW5ERU06dGhpcy51c2VkRm9yVGVycmFpbn0pO2Zvcihjb25zdCBlIG9mIHQpci5zZXQoZS5rZXksZSk7dGhpcy51c2VkRm9yVGVycmFpbiYmZS51cGRhdGVFbGV2YXRpb24oITEpfWsoQXJyYXkuZnJvbShyLnZhbHVlcygpKSwoZSx0KT0+e2NvbnN0IHI9bmV3IHdmKGUsdGhpcy5fc291cmNlLnRpbGVTaXplKmUub3ZlcnNjYWxlRmFjdG9yKCksdGhpcy50cmFuc2Zvcm0udGlsZVpvb20sdGhpcy5tYXAucGFpbnRlcix0aGlzLl9pc1Jhc3Rlcik7dGhpcy5fbG9hZFRpbGUocixlPT57XCJyYXN0ZXItZGVtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmci5kZW0mJnRoaXMuX2JhY2tmaWxsREVNKHIpLHQoZSxyKX0pfSx0KX19ZnVuY3Rpb24gVWYoZSx0KXtjb25zdCByPU1hdGguYWJzKDIqZS53cmFwKS0rKGUud3JhcDwwKSxuPU1hdGguYWJzKDIqdC53cmFwKS0rKHQud3JhcDwwKTtyZXR1cm4gZS5vdmVyc2NhbGVkWi10Lm92ZXJzY2FsZWRafHxuLXJ8fHQuY2Fub25pY2FsLnktZS5jYW5vbmljYWwueXx8dC5jYW5vbmljYWwueC1lLmNhbm9uaWNhbC54fWZ1bmN0aW9uIE5mKGUpe3JldHVyblwicmFzdGVyXCI9PT1lfHxcImltYWdlXCI9PT1lfHxcInZpZGVvXCI9PT1lfHxcImN1c3RvbVwiPT09ZX1mdW5jdGlvbiBWZihlLHQpe2NvbnN0IHI9MTw8ZS56O3JldHVybltlLngvcit0LChlLngrMSkvcit0XX1qZi5tYXhPdmVyem9vbWluZz0xMCxqZi5tYXhVbmRlcnpvb21pbmc9MztjbGFzcyBHZntjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5fZGVtVGlsZT1lLHRoaXMuX2RlbT10aGlzLl9kZW1UaWxlLmRlbSx0aGlzLl9zY2FsZT10LHRoaXMuX29mZnNldD1yfXN0YXRpYyBjcmVhdGUoZSx0LHIpe2NvbnN0IG49cnx8ZS5maW5kREVNVGlsZUZvcih0KTtpZighbnx8IW4uZGVtKXJldHVybjtjb25zdCBpPW4uZGVtLG89bi50aWxlSUQsYT0xPDx0LmNhbm9uaWNhbC56LW8uY2Fub25pY2FsLno7cmV0dXJuIG5ldyBHZihuLG4udGlsZVNpemUvdnMvYSxbKHQuY2Fub25pY2FsLngvYS1vLmNhbm9uaWNhbC54KSppLmRpbSwodC5jYW5vbmljYWwueS9hLW8uY2Fub25pY2FsLnkpKmkuZGltXSl9dGlsZUNvb3JkVG9QaXhlbChlLHQpe2NvbnN0IHI9dCp0aGlzLl9zY2FsZSt0aGlzLl9vZmZzZXRbMV0sbj1NYXRoLmZsb29yKGUqdGhpcy5fc2NhbGUrdGhpcy5fb2Zmc2V0WzBdKSxpPU1hdGguZmxvb3Iocik7cmV0dXJuIG5ldyBtKG4saSl9Z2V0RWxldmF0aW9uQXQoZSx0LHIsbil7Y29uc3QgaT1lKnRoaXMuX3NjYWxlK3RoaXMuX29mZnNldFswXSxvPXQqdGhpcy5fc2NhbGUrdGhpcy5fb2Zmc2V0WzFdLGE9TWF0aC5mbG9vcihpKSxzPU1hdGguZmxvb3IobyksbD10aGlzLl9kZW07cmV0dXJuIG49ISFuLHI/Q3IoQ3IobC5nZXQoYSxzLG4pLGwuZ2V0KGEscysxLG4pLG8tcyksQ3IobC5nZXQoYSsxLHMsbiksbC5nZXQoYSsxLHMrMSxuKSxvLXMpLGktYSk6bC5nZXQoYSxzLG4pfWdldEVsZXZhdGlvbkF0UGl4ZWwoZSx0LHIpe3JldHVybiB0aGlzLl9kZW0uZ2V0KGUsdCwhIXIpfWdldE1ldGVyVG9ERU0oZSl7cmV0dXJuKDE8PHRoaXMuX2RlbVRpbGUudGlsZUlELmNhbm9uaWNhbC56KSpNcygxLGUpKnRoaXMuX2RlbS5zdHJpZGV9fWNsYXNzIHFme2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50aWxlSUQ9ZSx0aGlzLng9ZS5jYW5vbmljYWwueCx0aGlzLnk9ZS5jYW5vbmljYWwueSx0aGlzLno9ZS5jYW5vbmljYWwueix0aGlzLmdyaWQ9bmV3IE1pKHZzLDE2LDApLHRoaXMuZmVhdHVyZUluZGV4QXJyYXk9bmV3IERhLHRoaXMucHJvbW90ZUlkPXR9aW5zZXJ0KGUsdCxyLG4saSxvPTApe2NvbnN0IGE9dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5sZW5ndGg7dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5lbXBsYWNlQmFjayhyLG4saSxvKTtjb25zdCBzPXRoaXMuZ3JpZDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKyl7Y29uc3Qgcj10W2VdLG49WzEvMCwxLzAsLTEvMCwtMS8wXTtmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKyl7Y29uc3QgdD1yW2VdO25bMF09TWF0aC5taW4oblswXSx0LngpLG5bMV09TWF0aC5taW4oblsxXSx0LnkpLG5bMl09TWF0aC5tYXgoblsyXSx0LngpLG5bM109TWF0aC5tYXgoblszXSx0LnkpfW5bMF08dnMmJm5bMV08dnMmJm5bMl0+PTAmJm5bM10+PTAmJnMuaW5zZXJ0KGEsblswXSxuWzFdLG5bMl0sblszXSl9fWxvYWRWVExheWVycygpe2lmKCF0aGlzLnZ0TGF5ZXJzKXt0aGlzLnZ0TGF5ZXJzPW5ldyBfdShuZXcgeWgodGhpcy5yYXdUaWxlRGF0YSkpLmxheWVycyx0aGlzLnNvdXJjZUxheWVyQ29kZXI9bmV3IGRmKHRoaXMudnRMYXllcnM/T2JqZWN0LmtleXModGhpcy52dExheWVycykuc29ydCgpOltcIl9nZW9qc29uVGlsZUxheWVyXCJdKSx0aGlzLnZ0RmVhdHVyZXM9e307Zm9yKGNvbnN0IGUgaW4gdGhpcy52dExheWVycyl0aGlzLnZ0RmVhdHVyZXNbZV09W119cmV0dXJuIHRoaXMudnRMYXllcnN9cXVlcnkoZSx0LHIsbil7dGhpcy5sb2FkVlRMYXllcnMoKTtjb25zdCBpPWUucGFyYW1zfHx7fSxvPUpuKGkuZmlsdGVyKSxhPWUudGlsZVJlc3VsdCxzPWUudHJhbnNmb3JtLGw9YS5idWZmZXJlZFRpbGVzcGFjZUJvdW5kcyxjPXRoaXMuZ3JpZC5xdWVyeShsLm1pbi54LGwubWluLnksbC5tYXgueCxsLm1heC55LChlLHQscixuKT0+cmwoYS5idWZmZXJlZFRpbGVzcGFjZUdlb21ldHJ5LGUsdCxyLG4pKTtjLnNvcnQoJGYpO2xldCB1PW51bGw7cy5lbGV2YXRpb24mJmMubGVuZ3RoPjAmJih1PUdmLmNyZWF0ZShzLmVsZXZhdGlvbix0aGlzLnRpbGVJRCkpO2NvbnN0IGg9e307bGV0IGQ7Zm9yKGxldCBzPTA7czxjLmxlbmd0aDtzKyspe2NvbnN0IGw9Y1tzXTtpZihsPT09ZCljb250aW51ZTtkPWw7Y29uc3QgcD10aGlzLmZlYXR1cmVJbmRleEFycmF5LmdldChsKTtsZXQgZj1udWxsO3RoaXMubG9hZE1hdGNoaW5nRmVhdHVyZShoLHAsbyxpLmxheWVycyxpLmF2YWlsYWJsZUltYWdlcyx0LHIsbiwodCxyLG4saT0wKT0+KGZ8fChmPU5zKHQsdGhpcy50aWxlSUQuY2Fub25pY2FsLGUudGlsZVRyYW5zZm9ybSkpLHIucXVlcnlJbnRlcnNlY3RzRmVhdHVyZShhLHQsbixmLHRoaXMueixlLnRyYW5zZm9ybSxlLnBpeGVsUG9zTWF0cml4LHUsaSkpKX1yZXR1cm4gaH1sb2FkTWF0Y2hpbmdGZWF0dXJlKGUsdCxyLG4saSxvLGEscyxsKXtjb25zdHtmZWF0dXJlSW5kZXg6YyxidWNrZXRJbmRleDp1LHNvdXJjZUxheWVySW5kZXg6aCxsYXlvdXRWZXJ0ZXhBcnJheU9mZnNldDpkfT10LHA9dGhpcy5idWNrZXRMYXllcklEc1t1XTtpZihuJiYhZnVuY3Rpb24oZSx0KXtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylpZih0LmluZGV4T2YoZVtyXSk+PTApcmV0dXJuITA7cmV0dXJuITF9KG4scCkpcmV0dXJuO2NvbnN0IGY9dGhpcy5zb3VyY2VMYXllckNvZGVyLmRlY29kZShoKSxtPXRoaXMudnRMYXllcnNbZl0uZmVhdHVyZShjKTtpZihyLm5lZWRHZW9tZXRyeSl7Y29uc3QgZT1WcyhtLCEwKTtpZighci5maWx0ZXIobmV3IElvKHRoaXMudGlsZUlELm92ZXJzY2FsZWRaKSxlLHRoaXMudGlsZUlELmNhbm9uaWNhbCkpcmV0dXJufWVsc2UgaWYoIXIuZmlsdGVyKG5ldyBJbyh0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWiksbSkpcmV0dXJuO2NvbnN0IGc9dGhpcy5nZXRJZChtLGYpO2ZvcihsZXQgdD0wO3Q8cC5sZW5ndGg7dCsrKXtjb25zdCByPXBbdF07aWYobiYmbi5pbmRleE9mKHIpPDApY29udGludWU7Y29uc3QgdT1vW3JdO2lmKCF1KWNvbnRpbnVlO2xldCBoPXt9O3ZvaWQgMCE9PWcmJnMmJihoPXMuZ2V0U3RhdGUodS5zb3VyY2VMYXllcnx8XCJfZ2VvanNvblRpbGVMYXllclwiLGcpKTtjb25zdCBmPUkoe30sYVtyXSk7Zi5wYWludD1aZihmLnBhaW50LHUucGFpbnQsbSxoLGkpLGYubGF5b3V0PVpmKGYubGF5b3V0LHUubGF5b3V0LG0saCxpKTtjb25zdCBfPSFsfHxsKG0sdSxoLGQpO2lmKCFfKWNvbnRpbnVlO2NvbnN0IHk9bmV3IGZmKG0sdGhpcy56LHRoaXMueCx0aGlzLnksZyk7eS5sYXllcj1mO2xldCB2PWVbcl07dm9pZCAwPT09diYmKHY9ZVtyXT1bXSksdi5wdXNoKHtmZWF0dXJlSW5kZXg6YyxmZWF0dXJlOnksaW50ZXJzZWN0aW9uWjpffSl9fWxvb2t1cFN5bWJvbEZlYXR1cmVzKGUsdCxyLG4saSxvLGEscyl7Y29uc3QgbD17fTt0aGlzLmxvYWRWVExheWVycygpO2NvbnN0IGM9Sm4oaSk7Zm9yKGNvbnN0IGkgb2YgZSl0aGlzLmxvYWRNYXRjaGluZ0ZlYXR1cmUobCx7YnVja2V0SW5kZXg6cixzb3VyY2VMYXllckluZGV4Om4sZmVhdHVyZUluZGV4OmksbGF5b3V0VmVydGV4QXJyYXlPZmZzZXQ6MH0sYyxvLGEscyx0KTtyZXR1cm4gbH1sb2FkRmVhdHVyZShlKXtjb25zdHtmZWF0dXJlSW5kZXg6dCxzb3VyY2VMYXllckluZGV4OnJ9PWU7dGhpcy5sb2FkVlRMYXllcnMoKTtjb25zdCBuPXRoaXMuc291cmNlTGF5ZXJDb2Rlci5kZWNvZGUociksaT10aGlzLnZ0RmVhdHVyZXNbbl07aWYoaVt0XSlyZXR1cm4gaVt0XTtjb25zdCBvPXRoaXMudnRMYXllcnNbbl0uZmVhdHVyZSh0KTtyZXR1cm4gaVt0XT1vLG99aGFzTGF5ZXIoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5idWNrZXRMYXllcklEcylmb3IoY29uc3QgciBvZiB0KWlmKGU9PT1yKXJldHVybiEwO3JldHVybiExfWdldElkKGUsdCl7bGV0IHI9ZS5pZDtpZih0aGlzLnByb21vdGVJZCl7Y29uc3Qgbj1cInN0cmluZ1wiPT10eXBlb2YgdGhpcy5wcm9tb3RlSWQ/dGhpcy5wcm9tb3RlSWQ6dGhpcy5wcm9tb3RlSWRbdF07bnVsbCE9biYmKHI9ZS5wcm9wZXJ0aWVzW25dKSxcImJvb2xlYW5cIj09dHlwZW9mIHImJihyPU51bWJlcihyKSl9cmV0dXJuIHJ9fWZ1bmN0aW9uIFpmKGUsdCxyLG4saSl7cmV0dXJuIEYoZSwoZSxvKT0+e2NvbnN0IGE9dCBpbnN0YW5jZW9mIEZvP3QuZ2V0KG8pOm51bGw7cmV0dXJuIGEmJmEuZXZhbHVhdGU/YS5ldmFsdWF0ZShyLG4saSk6YX0pfWZ1bmN0aW9uICRmKGUsdCl7cmV0dXJuIHQtZX1JaShxZixcIkZlYXR1cmVJbmRleFwiLHtvbWl0OltcInJhd1RpbGVEYXRhXCIsXCJzb3VyY2VMYXllckNvZGVyXCJdfSk7Y2xhc3MgV2Z7Y29uc3RydWN0b3IoZSx0KXt0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dCx0aGlzLm5leHRSb3c9MCx0aGlzLmltYWdlPW5ldyBoYyh7d2lkdGg6ZSxoZWlnaHQ6dH0pLHRoaXMucG9zaXRpb25zPXt9LHRoaXMudXBsb2FkZWQ9ITF9Z2V0RGFzaChlLHQpe2NvbnN0IHI9dGhpcy5nZXRLZXkoZSx0KTtyZXR1cm4gdGhpcy5wb3NpdGlvbnNbcl19dHJpbSgpe2NvbnN0IGU9dGhpcy53aWR0aCx0PXRoaXMuaGVpZ2h0PVIodGhpcy5uZXh0Um93KTt0aGlzLmltYWdlLnJlc2l6ZSh7d2lkdGg6ZSxoZWlnaHQ6dH0pfWdldEtleShlLHQpe3JldHVybiBlLmpvaW4oXCIsXCIpK3R9Z2V0RGFzaFJhbmdlcyhlLHQscil7Y29uc3Qgbj1bXTtsZXQgaT1lLmxlbmd0aCUyPT0xPy1lW2UubGVuZ3RoLTFdKnI6MCxvPWVbMF0qcixhPSEwO24ucHVzaCh7bGVmdDppLHJpZ2h0Om8saXNEYXNoOmEsemVyb0xlbmd0aDowPT09ZVswXX0pO2xldCBzPWVbMF07Zm9yKGxldCB0PTE7dDxlLmxlbmd0aDt0Kyspe2E9IWE7Y29uc3QgbD1lW3RdO2k9cypyLHMrPWwsbz1zKnIsbi5wdXNoKHtsZWZ0OmkscmlnaHQ6byxpc0Rhc2g6YSx6ZXJvTGVuZ3RoOjA9PT1sfSl9cmV0dXJuIG59YWRkUm91bmREYXNoKGUsdCxyKXtjb25zdCBuPXQvMjtmb3IobGV0IHQ9LXI7dDw9cjt0Kyspe2NvbnN0IGk9dGhpcy53aWR0aCoodGhpcy5uZXh0Um93K3IrdCk7bGV0IG89MCxhPWVbb107Zm9yKGxldCBzPTA7czx0aGlzLndpZHRoO3MrKyl7cy9hLnJpZ2h0PjEmJihhPWVbKytvXSk7Y29uc3QgbD1NYXRoLmFicyhzLWEubGVmdCksYz1NYXRoLmFicyhzLWEucmlnaHQpLHU9TWF0aC5taW4obCxjKTtsZXQgaDtjb25zdCBkPXQvcioobisxKTtpZihhLmlzRGFzaCl7Y29uc3QgZT1uLU1hdGguYWJzKGQpO2g9TWF0aC5zcXJ0KHUqdStlKmUpfWVsc2UgaD1uLU1hdGguc3FydCh1KnUrZCpkKTt0aGlzLmltYWdlLmRhdGFbaStzXT1NYXRoLm1heCgwLE1hdGgubWluKDI1NSxoKzEyOCkpfX19YWRkUmVndWxhckRhc2goZSx0KXtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wOy0tdCl7Y29uc3Qgcj1lW3RdLG49ZVt0KzFdO3IuemVyb0xlbmd0aD9lLnNwbGljZSh0LDEpOm4mJm4uaXNEYXNoPT09ci5pc0Rhc2gmJihuLmxlZnQ9ci5sZWZ0LGUuc3BsaWNlKHQsMSkpfWNvbnN0IHI9ZVswXSxuPWVbZS5sZW5ndGgtMV07ci5pc0Rhc2g9PT1uLmlzRGFzaCYmKHIubGVmdD1uLmxlZnQtdGhpcy53aWR0aCxuLnJpZ2h0PXIucmlnaHQrdGhpcy53aWR0aCk7Y29uc3QgaT10aGlzLndpZHRoKnRoaXMubmV4dFJvdztsZXQgbz0wLGE9ZVtvXTtmb3IobGV0IHI9MDtyPHRoaXMud2lkdGg7cisrKXtyL2EucmlnaHQ+MSYmKGE9ZVsrK29dKTtjb25zdCBuPU1hdGguYWJzKHItYS5sZWZ0KSxzPU1hdGguYWJzKHItYS5yaWdodCksbD1NYXRoLm1pbihuLHMpO3RoaXMuaW1hZ2UuZGF0YVtpK3JdPU1hdGgubWF4KDAsTWF0aC5taW4oMjU1LChhLmlzRGFzaD9sOi1sKSt0KzEyOCkpfX1hZGREYXNoKGUsdCl7Y29uc3Qgcj10aGlzLmdldEtleShlLHQpO2lmKHRoaXMucG9zaXRpb25zW3JdKXJldHVybiB0aGlzLnBvc2l0aW9uc1tyXTtjb25zdCBuPVwicm91bmRcIj09PXQsaT1uPzc6MCxvPTIqaSsxO2lmKHRoaXMubmV4dFJvdytvPnRoaXMuaGVpZ2h0KXJldHVybiBWKFwiTGluZUF0bGFzIG91dCBvZiBzcGFjZVwiKSxudWxsOzA9PT1lLmxlbmd0aCYmZS5wdXNoKDEpO2xldCBhPTA7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XTwwJiYoVihcIk5lZ2F0aXZlIHZhbHVlIGlzIGZvdW5kIGluIGxpbmUgZGFzaGFycmF5LCByZXBsYWNpbmcgdmFsdWVzIHdpdGggMFwiKSxlW3RdPTApLGErPWVbdF07aWYoMCE9PWEpe2NvbnN0IHI9dGhpcy53aWR0aC9hLG89dGhpcy5nZXREYXNoUmFuZ2VzKGUsdGhpcy53aWR0aCxyKTtuP3RoaXMuYWRkUm91bmREYXNoKG8scixpKTp0aGlzLmFkZFJlZ3VsYXJEYXNoKG8sXCJzcXVhcmVcIj09PXQ/LjUqcjowKX1jb25zdCBzPXRoaXMubmV4dFJvdytpO3RoaXMubmV4dFJvdys9bztjb25zdCBsPXt0bDpbcyxpXSxicjpbYSwwXX07cmV0dXJuIHRoaXMucG9zaXRpb25zW3JdPWwsbH19SWkoV2YsXCJMaW5lQXRsYXNcIik7Y2xhc3MgWGZ7Y29uc3RydWN0b3IoZSl7Y29uc3QgdD17fSxyPVtdO2Zvcihjb25zdCBuIGluIGUpe2NvbnN0IGk9ZVtuXSxvPXRbbl09e307Zm9yKGNvbnN0IGUgaW4gaS5nbHlwaHMpe2NvbnN0IHQ9aS5nbHlwaHNbK2VdO2lmKCF0fHwwPT09dC5iaXRtYXAud2lkdGh8fDA9PT10LmJpdG1hcC5oZWlnaHQpY29udGludWU7Y29uc3Qgbj10Lm1ldHJpY3MubG9jYWxHbHlwaD8yOjEsYT17eDowLHk6MCx3OnQuYml0bWFwLndpZHRoKzIqbixoOnQuYml0bWFwLmhlaWdodCsyKm59O3IucHVzaChhKSxvW2VdPWF9fWNvbnN0e3c6bixoOml9PUdoKHIpLG89bmV3IGhjKHt3aWR0aDpufHwxLGhlaWdodDppfHwxfSk7Zm9yKGNvbnN0IHIgaW4gZSl7Y29uc3Qgbj1lW3JdO2Zvcihjb25zdCBlIGluIG4uZ2x5cGhzKXtjb25zdCBpPW4uZ2x5cGhzWytlXTtpZighaXx8MD09PWkuYml0bWFwLndpZHRofHwwPT09aS5iaXRtYXAuaGVpZ2h0KWNvbnRpbnVlO2NvbnN0IGE9dFtyXVtlXSxzPWkubWV0cmljcy5sb2NhbEdseXBoPzI6MTtoYy5jb3B5KGkuYml0bWFwLG8se3g6MCx5OjB9LHt4OmEueCtzLHk6YS55K3N9LGkuYml0bWFwKX19dGhpcy5pbWFnZT1vLHRoaXMucG9zaXRpb25zPXR9fUlpKFhmLFwiR2x5cGhBdGxhc1wiKTtjbGFzcyBIZntjb25zdHJ1Y3RvcihlKXt0aGlzLnRpbGVJRD1uZXcganUoZS50aWxlSUQub3ZlcnNjYWxlZFosZS50aWxlSUQud3JhcCxlLnRpbGVJRC5jYW5vbmljYWwueixlLnRpbGVJRC5jYW5vbmljYWwueCxlLnRpbGVJRC5jYW5vbmljYWwueSksdGhpcy50aWxlWm9vbT1lLnRpbGVab29tLHRoaXMudWlkPWUudWlkLHRoaXMuem9vbT1lLnpvb20sdGhpcy5jYW5vbmljYWw9ZS50aWxlSUQuY2Fub25pY2FsLHRoaXMucGl4ZWxSYXRpbz1lLnBpeGVsUmF0aW8sdGhpcy50aWxlU2l6ZT1lLnRpbGVTaXplLHRoaXMuc291cmNlPWUuc291cmNlLHRoaXMub3ZlcnNjYWxpbmc9dGhpcy50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksdGhpcy5zaG93Q29sbGlzaW9uQm94ZXM9ZS5zaG93Q29sbGlzaW9uQm94ZXMsdGhpcy5jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ISFlLmNvbGxlY3RSZXNvdXJjZVRpbWluZyx0aGlzLnJldHVybkRlcGVuZGVuY2llcz0hIWUucmV0dXJuRGVwZW5kZW5jaWVzLHRoaXMucHJvbW90ZUlkPWUucHJvbW90ZUlkLHRoaXMuZW5hYmxlVGVycmFpbj0hIWUuZW5hYmxlVGVycmFpbix0aGlzLmlzU3ltYm9sVGlsZT1lLmlzU3ltYm9sVGlsZSx0aGlzLnRpbGVUcmFuc2Zvcm09YnAoZS50aWxlSUQuY2Fub25pY2FsLGUucHJvamVjdGlvbiksdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbn1wYXJzZShlLHQscixuLGkpe3RoaXMuc3RhdHVzPVwicGFyc2luZ1wiLHRoaXMuZGF0YT1lLHRoaXMuY29sbGlzaW9uQm94QXJyYXk9bmV3IFNhO2NvbnN0IG89bmV3IGRmKE9iamVjdC5rZXlzKGUubGF5ZXJzKS5zb3J0KCkpLGE9bmV3IHFmKHRoaXMudGlsZUlELHRoaXMucHJvbW90ZUlkKTthLmJ1Y2tldExheWVySURzPVtdO2NvbnN0IHM9e30sbD1uZXcgV2YoMjU2LDI1NiksYz17ZmVhdHVyZUluZGV4OmEsaWNvbkRlcGVuZGVuY2llczp7fSxwYXR0ZXJuRGVwZW5kZW5jaWVzOnt9LGdseXBoRGVwZW5kZW5jaWVzOnt9LGxpbmVBdGxhczpsLGF2YWlsYWJsZUltYWdlczpyfSx1PXQuZmFtaWxpZXNCeVNvdXJjZVt0aGlzLnNvdXJjZV07Zm9yKGNvbnN0IHQgaW4gdSl7Y29uc3Qgbj1lLmxheWVyc1t0XTtpZighbiljb250aW51ZTtsZXQgaT0hMSxsPSExO2Zvcihjb25zdCBlIG9mIHVbdF0pXCJzeW1ib2xcIj09PWVbMF0udHlwZT9pPSEwOmw9ITA7aWYoITA9PT10aGlzLmlzU3ltYm9sVGlsZSYmIWkpY29udGludWU7aWYoITE9PT10aGlzLmlzU3ltYm9sVGlsZSYmIWwpY29udGludWU7MT09PW4udmVyc2lvbiYmVihgVmVjdG9yIHRpbGUgc291cmNlIFwiJHt0aGlzLnNvdXJjZX1cIiBsYXllciBcIiR7dH1cIiBkb2VzIG5vdCB1c2UgdmVjdG9yIHRpbGUgc3BlYyB2MiBhbmQgdGhlcmVmb3JlIG1heSBoYXZlIHNvbWUgcmVuZGVyaW5nIGVycm9ycy5gKTtjb25zdCBoPW8uZW5jb2RlKHQpLGQ9W107Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspe2NvbnN0IHI9bi5mZWF0dXJlKGUpLGk9YS5nZXRJZChyLHQpO2QucHVzaCh7ZmVhdHVyZTpyLGlkOmksaW5kZXg6ZSxzb3VyY2VMYXllckluZGV4Omh9KX1mb3IoY29uc3QgZSBvZiB1W3RdKXtjb25zdCB0PWVbMF07dm9pZCAwIT09dGhpcy5pc1N5bWJvbFRpbGUmJlwic3ltYm9sXCI9PT10LnR5cGUhPT10aGlzLmlzU3ltYm9sVGlsZXx8dC5taW56b29tJiZ0aGlzLnpvb208TWF0aC5mbG9vcih0Lm1pbnpvb20pfHx0Lm1heHpvb20mJnRoaXMuem9vbT49dC5tYXh6b29tfHxcIm5vbmVcIiE9PXQudmlzaWJpbGl0eSYmKFlmKGUsdGhpcy56b29tLHIpLChzW3QuaWRdPXQuY3JlYXRlQnVja2V0KHtpbmRleDphLmJ1Y2tldExheWVySURzLmxlbmd0aCxsYXllcnM6ZSx6b29tOnRoaXMuem9vbSxjYW5vbmljYWw6dGhpcy5jYW5vbmljYWwscGl4ZWxSYXRpbzp0aGlzLnBpeGVsUmF0aW8sb3ZlcnNjYWxpbmc6dGhpcy5vdmVyc2NhbGluZyxjb2xsaXNpb25Cb3hBcnJheTp0aGlzLmNvbGxpc2lvbkJveEFycmF5LHNvdXJjZUxheWVySW5kZXg6aCxzb3VyY2VJRDp0aGlzLnNvdXJjZSxlbmFibGVUZXJyYWluOnRoaXMuZW5hYmxlVGVycmFpbixwcm9qZWN0aW9uOnRoaXMucHJvamVjdGlvbi5zcGVjLGF2YWlsYWJsZUltYWdlczpyfSkpLnBvcHVsYXRlKGQsYyx0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy50aWxlVHJhbnNmb3JtKSxhLmJ1Y2tldExheWVySURzLnB1c2goZS5tYXAoZT0+ZS5pZCkpKX19bGV0IGgsZCxwLGY7bC50cmltKCk7Y29uc3QgbT17dHlwZTpcIm1heWJlUHJlcGFyZVwiLGlzU3ltYm9sVGlsZTp0aGlzLmlzU3ltYm9sVGlsZSx6b29tOnRoaXMuem9vbX0sZz1GKGMuZ2x5cGhEZXBlbmRlbmNpZXMsZT0+T2JqZWN0LmtleXMoZSkubWFwKE51bWJlcikpO09iamVjdC5rZXlzKGcpLmxlbmd0aD9uLnNlbmQoXCJnZXRHbHlwaHNcIix7dWlkOnRoaXMudWlkLHN0YWNrczpnfSwoZSx0KT0+e2h8fChoPWUsZD10LHYuY2FsbCh0aGlzKSl9LHZvaWQgMCwhMSxtKTpkPXt9O2NvbnN0IF89T2JqZWN0LmtleXMoYy5pY29uRGVwZW5kZW5jaWVzKTtfLmxlbmd0aD9uLnNlbmQoXCJnZXRJbWFnZXNcIix7aWNvbnM6Xyxzb3VyY2U6dGhpcy5zb3VyY2UsdGlsZUlEOnRoaXMudGlsZUlELHR5cGU6XCJpY29uc1wifSwoZSx0KT0+e2h8fChoPWUscD10LHYuY2FsbCh0aGlzKSl9LHZvaWQgMCwhMSxtKTpwPXt9O2NvbnN0IHk9T2JqZWN0LmtleXMoYy5wYXR0ZXJuRGVwZW5kZW5jaWVzKTtmdW5jdGlvbiB2KCl7aWYoaClyZXR1cm4gaShoKTtpZihkJiZwJiZmKXtjb25zdCBlPW5ldyBYZihkKSx0PW5ldyBaaChwLGYpO2Zvcihjb25zdCBuIGluIHMpe2NvbnN0IGk9c1tuXTtpIGluc3RhbmNlb2YgS3A/KFlmKGkubGF5ZXJzLHRoaXMuem9vbSxyKSxEZChpLGQsZS5wb3NpdGlvbnMscCx0Lmljb25Qb3NpdGlvbnMsdGhpcy5zaG93Q29sbGlzaW9uQm94ZXMscix0aGlzLnRpbGVJRC5jYW5vbmljYWwsdGhpcy50aWxlWm9vbSx0aGlzLnByb2plY3Rpb24pKTppLmhhc1BhdHRlcm4mJihpIGluc3RhbmNlb2YgS3V8fGkgaW5zdGFuY2VvZiBKY3x8aSBpbnN0YW5jZW9mIFN1KSYmKFlmKGkubGF5ZXJzLHRoaXMuem9vbSxyKSxpLmFkZEZlYXR1cmVzKGMsdGhpcy50aWxlSUQuY2Fub25pY2FsLHQucGF0dGVyblBvc2l0aW9ucyxyLHRoaXMudGlsZVRyYW5zZm9ybSkpfXRoaXMuc3RhdHVzPVwiZG9uZVwiLGkobnVsbCx7YnVja2V0czpBKHMpLmZpbHRlcihlPT4hZS5pc0VtcHR5KCkpLGZlYXR1cmVJbmRleDphLGNvbGxpc2lvbkJveEFycmF5OnRoaXMuY29sbGlzaW9uQm94QXJyYXksZ2x5cGhBdGxhc0ltYWdlOmUuaW1hZ2UsbGluZUF0bGFzOmwsaW1hZ2VBdGxhczp0LGdseXBoTWFwOnRoaXMucmV0dXJuRGVwZW5kZW5jaWVzP2Q6bnVsbCxpY29uTWFwOnRoaXMucmV0dXJuRGVwZW5kZW5jaWVzP3A6bnVsbCxnbHlwaFBvc2l0aW9uczp0aGlzLnJldHVybkRlcGVuZGVuY2llcz9lLnBvc2l0aW9uczpudWxsfSl9fXkubGVuZ3RoP24uc2VuZChcImdldEltYWdlc1wiLHtpY29uczp5LHNvdXJjZTp0aGlzLnNvdXJjZSx0aWxlSUQ6dGhpcy50aWxlSUQsdHlwZTpcInBhdHRlcm5zXCJ9LChlLHQpPT57aHx8KGg9ZSxmPXQsdi5jYWxsKHRoaXMpKX0sdm9pZCAwLCExLG0pOmY9e30sdi5jYWxsKHRoaXMpfX1mdW5jdGlvbiBZZihlLHQscil7Y29uc3Qgbj1uZXcgSW8odCk7Zm9yKGNvbnN0IHQgb2YgZSl0LnJlY2FsY3VsYXRlKG4scil9Y2xhc3MgS2Z7Y29uc3RydWN0b3IoZSl7dGhpcy5lbnRyaWVzPXt9LHRoaXMuc2NoZWR1bGVyPWV9cmVxdWVzdChlLHQscixuKXtjb25zdCBpPXRoaXMuZW50cmllc1tlXT10aGlzLmVudHJpZXNbZV18fHtjYWxsYmFja3M6W119O2lmKGkucmVzdWx0KXtjb25zdFtlLHJdPWkucmVzdWx0O3JldHVybiB0aGlzLnNjaGVkdWxlcj90aGlzLnNjaGVkdWxlci5hZGQoKCk9PntuKGUscil9LHQpOm4oZSxyKSwoKT0+e319cmV0dXJuIGkuY2FsbGJhY2tzLnB1c2gobiksaS5jYW5jZWx8fChpLmNhbmNlbD1yKChyLG4pPT57aS5yZXN1bHQ9W3Isbl07Zm9yKGNvbnN0IGUgb2YgaS5jYWxsYmFja3MpdGhpcy5zY2hlZHVsZXI/dGhpcy5zY2hlZHVsZXIuYWRkKCgpPT57ZShyLG4pfSx0KTplKHIsbik7c2V0VGltZW91dCgoKT0+ZGVsZXRlIHRoaXMuZW50cmllc1tlXSwzZTMpfSkpLCgpPT57aS5yZXN1bHR8fChpLmNhbGxiYWNrcz1pLmNhbGxiYWNrcy5maWx0ZXIoZT0+ZSE9PW4pLGkuY2FsbGJhY2tzLmxlbmd0aHx8KGkuY2FuY2VsKCksZGVsZXRlIHRoaXMuZW50cmllc1tlXSkpfX19ZnVuY3Rpb24gSmYoZSx0LHIpe2NvbnN0IG49SlNPTi5zdHJpbmdpZnkoZS5yZXF1ZXN0KTtyZXR1cm4gZS5kYXRhJiYodGhpcy5kZWR1cGVkLmVudHJpZXNbbl09e3Jlc3VsdDpbbnVsbCxlLmRhdGFdfSksdGhpcy5kZWR1cGVkLnJlcXVlc3Qobix7dHlwZTpcInBhcnNlVGlsZVwiLGlzU3ltYm9sVGlsZTplLmlzU3ltYm9sVGlsZSx6b29tOmUudGlsZVpvb219LHQ9Pntjb25zdCBuPXVlKGUucmVxdWVzdCwoZSxuLGksbyk9PntlP3QoZSk6biYmdChudWxsLHt2ZWN0b3JUaWxlOnI/dm9pZCAwOm5ldyBfdShuZXcgeWgobikpLHJhd0RhdGE6bixjYWNoZUNvbnRyb2w6aSxleHBpcmVzOm99KX0pO3JldHVybigpPT57bi5jYW5jZWwoKSx0KCl9fSx0KX1lLkFSUkFZX1RZUEU9aGwsZS5BVVRIX0VSUl9NU0c9Z2UsZS5BYWJiPXRjLGUuQWN0b3I9Y2xhc3N7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMudGFyZ2V0PWUsdGhpcy5wYXJlbnQ9dCx0aGlzLm1hcElkPW4sdGhpcy5jYWxsYmFja3M9e30sdGhpcy5jYW5jZWxDYWxsYmFja3M9e30sTyhbXCJyZWNlaXZlXCJdLHRoaXMpLHRoaXMudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5yZWNlaXZlLCExKSx0aGlzLmdsb2JhbFNjb3BlPVooKT9lOnIsdGhpcy5zY2hlZHVsZXI9bmV3IGhmfXNlbmQoZSx0LHIsbixpPSExLG8pe2NvbnN0IGE9TWF0aC5yb3VuZCgxZTE4Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMCwxMCk7ciYmKHIubWV0YWRhdGE9byx0aGlzLmNhbGxiYWNrc1thXT1yKTtjb25zdCBzPVgodGhpcy5nbG9iYWxTY29wZSk/dm9pZCAwOltdO3JldHVybiB0aGlzLnRhcmdldC5wb3N0TWVzc2FnZSh7aWQ6YSx0eXBlOmUsaGFzQ2FsbGJhY2s6ISFyLHRhcmdldE1hcElkOm4sbXVzdFF1ZXVlOmksc291cmNlTWFwSWQ6dGhpcy5tYXBJZCxkYXRhOkRpKHQscyl9LHMpLHtjYW5jZWw6KCk9PntyJiZkZWxldGUgdGhpcy5jYWxsYmFja3NbYV0sdGhpcy50YXJnZXQucG9zdE1lc3NhZ2Uoe2lkOmEsdHlwZTpcIjxjYW5jZWw+XCIsdGFyZ2V0TWFwSWQ6bixzb3VyY2VNYXBJZDp0aGlzLm1hcElkfSl9fX1yZWNlaXZlKGUpe2NvbnN0IHQ9ZS5kYXRhLHI9dC5pZDtpZihyJiYoIXQudGFyZ2V0TWFwSWR8fHRoaXMubWFwSWQ9PT10LnRhcmdldE1hcElkKSlpZihcIjxjYW5jZWw+XCI9PT10LnR5cGUpe2NvbnN0IGU9dGhpcy5jYW5jZWxDYWxsYmFja3Nbcl07ZGVsZXRlIHRoaXMuY2FuY2VsQ2FsbGJhY2tzW3JdLGUmJmUuY2FuY2VsKCl9ZWxzZSBpZih0Lm11c3RRdWV1ZXx8WigpKXtjb25zdCBlPXRoaXMuY2FsbGJhY2tzW3JdO3RoaXMuY2FuY2VsQ2FsbGJhY2tzW3JdPXRoaXMuc2NoZWR1bGVyLmFkZCgoKT0+dGhpcy5wcm9jZXNzVGFzayhyLHQpLGUmJmUubWV0YWRhdGF8fHt0eXBlOlwibWVzc2FnZVwifSl9ZWxzZSB0aGlzLnByb2Nlc3NUYXNrKHIsdCl9cHJvY2Vzc1Rhc2soZSx0KXtpZihcIjxyZXNwb25zZT5cIj09PXQudHlwZSl7Y29uc3Qgcj10aGlzLmNhbGxiYWNrc1tlXTtkZWxldGUgdGhpcy5jYWxsYmFja3NbZV0sciYmKHQuZXJyb3I/cihSaSh0LmVycm9yKSk6cihudWxsLFJpKHQuZGF0YSkpKX1lbHNle2NvbnN0IHI9WCh0aGlzLmdsb2JhbFNjb3BlKT92b2lkIDA6W10sbj10Lmhhc0NhbGxiYWNrPyh0LG4pPT57ZGVsZXRlIHRoaXMuY2FuY2VsQ2FsbGJhY2tzW2VdLHRoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDplLHR5cGU6XCI8cmVzcG9uc2U+XCIsc291cmNlTWFwSWQ6dGhpcy5tYXBJZCxlcnJvcjp0P0RpKHQpOm51bGwsZGF0YTpEaShuLHIpfSxyKX06ZT0+e30saT1SaSh0LmRhdGEpO2lmKHRoaXMucGFyZW50W3QudHlwZV0pdGhpcy5wYXJlbnRbdC50eXBlXSh0LnNvdXJjZU1hcElkLGksbik7ZWxzZSBpZih0aGlzLnBhcmVudC5nZXRXb3JrZXJTb3VyY2Upe2NvbnN0IGU9dC50eXBlLnNwbGl0KFwiLlwiKTt0aGlzLnBhcmVudC5nZXRXb3JrZXJTb3VyY2UodC5zb3VyY2VNYXBJZCxlWzBdLGkuc291cmNlKVtlWzFdXShpLG4pfWVsc2UgbihuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBmdW5jdGlvbiBcIit0LnR5cGUpKX19cmVtb3ZlKCl7dGhpcy5zY2hlZHVsZXIucmVtb3ZlKCksdGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLnJlY2VpdmUsITEpfX0sZS5DYW5vbmljYWxUaWxlSUQ9QnUsZS5Db2xvcj1NdCxlLkNvbG9yTW9kZT1CZixlLkN1bGxGYWNlTW9kZT1GZixlLkRFTURhdGE9RGYsZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eT1qbyxlLkRlZHVwZWRSZXF1ZXN0PUtmLGUuRGVwdGhNb2RlPUxmLGUuRVhURU5UPXZzLGUuRWxldmF0aW9uPWNsYXNze2lzRGF0YUF2YWlsYWJsZUF0UG9pbnQoZSl7Y29uc3QgdD10aGlzLl9zb3VyY2UoKTtpZih0aGlzLmlzVXNpbmdNb2NrU291cmNlKCl8fCF0fHxlLnk8MHx8ZS55PjEpcmV0dXJuITE7Y29uc3Qgcj10LmdldFNvdXJjZSgpLm1heHpvb20sbj0xPDxyLGk9TWF0aC5mbG9vcihlLngpLG89TWF0aC5mbG9vcigoZS54LWkpKm4pLGE9TWF0aC5mbG9vcihlLnkqbikscz10aGlzLmZpbmRERU1UaWxlRm9yKG5ldyBqdShyLGkscixvLGEpKTtyZXR1cm4hKCFzfHwhcy5kZW0pfWdldEF0UG9pbnRPclplcm8oZSx0PTApe3JldHVybiB0aGlzLmdldEF0UG9pbnQoZSx0KXx8MH1nZXRBdFBvaW50KGUsdCxyPSEwKXtpZih0aGlzLmlzVXNpbmdNb2NrU291cmNlKCkpcmV0dXJuIG51bGw7bnVsbD09dCYmKHQ9bnVsbCk7Y29uc3Qgbj10aGlzLl9zb3VyY2UoKTtpZighbilyZXR1cm4gdDtpZihlLnk8MHx8ZS55PjEpcmV0dXJuIHQ7Y29uc3QgaT1uLmdldFNvdXJjZSgpLm1heHpvb20sbz0xPDxpLGE9TWF0aC5mbG9vcihlLngpLHM9ZS54LWEsbD1uZXcganUoaSxhLGksTWF0aC5mbG9vcihzKm8pLE1hdGguZmxvb3IoZS55Km8pKSxjPXRoaXMuZmluZERFTVRpbGVGb3IobCk7aWYoIWN8fCFjLmRlbSlyZXR1cm4gdDtjb25zdCB1PWMuZGVtLGg9MTw8Yy50aWxlSUQuY2Fub25pY2FsLnosZD0ocypoLWMudGlsZUlELmNhbm9uaWNhbC54KSp1LmRpbSxwPShlLnkqaC1jLnRpbGVJRC5jYW5vbmljYWwueSkqdS5kaW0sZj1NYXRoLmZsb29yKGQpLG09TWF0aC5mbG9vcihwKTtyZXR1cm4ocj90aGlzLmV4YWdnZXJhdGlvbigpOjEpKkNyKENyKHUuZ2V0KGYsbSksdS5nZXQoZixtKzEpLHAtbSksQ3IodS5nZXQoZisxLG0pLHUuZ2V0KGYrMSxtKzEpLHAtbSksZC1mKX1nZXRBdFRpbGVPZmZzZXQoZSx0LHIpe2NvbnN0IG49MTw8ZS5jYW5vbmljYWwuejtyZXR1cm4gdGhpcy5nZXRBdFBvaW50T3JaZXJvKG5ldyBEcyhlLndyYXArKGUuY2Fub25pY2FsLngrdC92cykvbiwoZS5jYW5vbmljYWwueStyL3ZzKS9uKSl9Z2V0QXRUaWxlT2Zmc2V0RnVuYyhlLHQscixuKXtyZXR1cm4gaT0+e2NvbnN0IG89dGhpcy5nZXRBdFRpbGVPZmZzZXQoZSxpLngsaS55KSxhPW4udXBWZWN0b3IoZS5jYW5vbmljYWwsaS54LGkueSk7cmV0dXJuIERsKGEsYSxvKm4udXBWZWN0b3JTY2FsZShlLmNhbm9uaWNhbCx0LHIpLm1ldGVyc1RvVGlsZSksYX19Z2V0Rm9yVGlsZVBvaW50cyhlLHQscixuKXtpZih0aGlzLmlzVXNpbmdNb2NrU291cmNlKCkpcmV0dXJuITE7Y29uc3QgaT1HZi5jcmVhdGUodGhpcyxlLG4pO3JldHVybiEhaSYmKHQuZm9yRWFjaChlPT57ZVsyXT10aGlzLmV4YWdnZXJhdGlvbigpKmkuZ2V0RWxldmF0aW9uQXQoZVswXSxlWzFdLHIpfSksITApfWdldE1pbk1heEZvclRpbGUoZSl7aWYodGhpcy5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiBudWxsO2NvbnN0IHQ9dGhpcy5maW5kREVNVGlsZUZvcihlKTtpZighdHx8IXQuZGVtKXJldHVybiBudWxsO2NvbnN0IHI9dC5kZW0udHJlZSxuPXQudGlsZUlELGk9MTw8ZS5jYW5vbmljYWwuei1uLmNhbm9uaWNhbC56O2xldCBvPWUuY2Fub25pY2FsLngvaS1uLmNhbm9uaWNhbC54LGE9ZS5jYW5vbmljYWwueS9pLW4uY2Fub25pY2FsLnkscz0wO2ZvcihsZXQgdD0wO3Q8ZS5jYW5vbmljYWwuei1uLmNhbm9uaWNhbC56JiYhci5sZWF2ZXNbc107dCsrKXtvKj0yLGEqPTI7Y29uc3QgZT0yKk1hdGguZmxvb3IoYSkrTWF0aC5mbG9vcihvKTtzPXIuY2hpbGRPZmZzZXRzW3NdK2UsbyU9MSxhJT0xfXJldHVybnttaW46dGhpcy5leGFnZ2VyYXRpb24oKSpyLm1pbmltdW1zW3NdLG1heDp0aGlzLmV4YWdnZXJhdGlvbigpKnIubWF4aW11bXNbc119fWdldE1pbkVsZXZhdGlvbkJlbG93TVNMKCl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfXJheWNhc3QoZSx0LHIpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1wb2ludENvb3JkaW5hdGUoZSl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfV9zb3VyY2UoKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9aXNVc2luZ01vY2tTb3VyY2UoKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9ZXhhZ2dlcmF0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfWZpbmRERU1UaWxlRm9yKGUpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1nZXQgdmlzaWJsZURlbVRpbGVzKCl7dGhyb3cgbmV3IEVycm9yKFwiR2V0dGVyIG11c3QgYmUgaW1wbGVtZW50ZWQgaW4gc3ViY2xhc3MuXCIpfX0sZS5FcnJvckV2ZW50PVhlLGUuRXZhbHVhdGlvblBhcmFtZXRlcnM9SW8sZS5FdmVudD1XZSxlLkV2ZW50ZWQ9SGUsZS5GaWxsRXh0cnVzaW9uQnVja2V0PVN1LGUuRnJ1c3R1bT1lYyxlLkZydXN0dW1Db3JuZXJzPVFsLGUuR0xPQkVfTUVURVJTX1RPX0VDRUY9V2QsZS5HTE9CRV9SQURJVVM9JGQsZS5HTE9CRV9TQ0FMRV9NQVRDSF9MQVRJVFVERT00NSxlLkdMT0JFX1pPT01fVEhSRVNIT0xEX01BWD02LGUuR0xPQkVfWk9PTV9USFJFU0hPTERfTUlOPTUsZS5HbG9iZVNoYXJlZEJ1ZmZlcnM9Y2xhc3N7Y29uc3RydWN0b3IoZSl7dGhpcy5fY3JlYXRlR3JpZChlKSx0aGlzLl9jcmVhdGVQb2xlcyhlKX1kZXN0cm95KCl7dGhpcy5fcG9sZUluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9ncmlkQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9ncmlkSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3BvbGVOb3J0aFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fcG9sZVNvdXRoVmVydGV4QnVmZmVyLmRlc3Ryb3koKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9wb2xlU2VnbWVudHMpZS5kZXN0cm95KCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fZ3JpZFNlZ21lbnRzKWUuZGVzdHJveSgpO2lmKHRoaXMuX3dpcmVmcmFtZUluZGV4QnVmZmVyKXt0aGlzLl93aXJlZnJhbWVJbmRleEJ1ZmZlci5kZXN0cm95KCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fd2lyZWZyYW1lU2VnbWVudHMpZS5kZXN0cm95KCl9fV9jcmVhdGVHcmlkKGUpe2NvbnN0IHQ9bmV3IEtvLHI9bmV3IHBhLG49NjU7Zm9yKGxldCBlPTA7ZTxuO2UrKylmb3IobGV0IHI9MDtyPG47cisrKXQuZW1wbGFjZUJhY2socixlKTt0aGlzLl9ncmlkU2VnbWVudHM9W107Zm9yKGxldCBlPTAsdD0wO2U8WGQubGVuZ3RoO2UrKyl7Y29uc3QgaT1YZFtlXTtmb3IobGV0IGU9MDtlPGk7ZSsrKWZvcihsZXQgdD0wO3Q8NjQ7dCsrKXtjb25zdCBpPWUqbit0O3IuZW1wbGFjZUJhY2soaSsxLGksaStuKSxyLmVtcGxhY2VCYWNrKGkrbixpK24rMSxpKzEpfWNvbnN0IG89NjQqaSoyO3RoaXMuX2dyaWRTZWdtZW50cy5wdXNoKHlzLnNpbXBsZVNlZ21lbnQoMCx0LChpKzEpKm4sbykpLHQrPW99dGhpcy5fZ3JpZEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0LFpkLm1lbWJlcnMpLHRoaXMuX2dyaWRJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHIsITApfV9jcmVhdGVQb2xlcyhlKXtjb25zdCB0PW5ldyBwYTtmb3IobGV0IGU9MDtlPD02NDtlKyspdC5lbXBsYWNlQmFjaygwLGUrMSxlKzIpO3RoaXMuX3BvbGVJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHQsITApO2NvbnN0IHI9bmV3IF9hLG49bmV3IF9hO3RoaXMuX3BvbGVTZWdtZW50cz1bXTtmb3IobGV0IGU9MCx0PTA7ZTw1O2UrKyl7Y29uc3QgaT0zNjAvKDE8PGUpO3IuZW1wbGFjZUJhY2soMCwtJGQsMCwuNSwwKSxuLmVtcGxhY2VCYWNrKDAsLSRkLDAsLjUsMSk7Zm9yKGxldCBlPTA7ZTw9NjQ7ZSsrKXtjb25zdCB0PWUvNjQsbz1DcigwLGksdCksW2EscyxsXT1zcCh5cCx2cCxvLCRkKTtyLmVtcGxhY2VCYWNrKGEscyxsLHQsMCksbi5lbXBsYWNlQmFjayhhLHMsbCx0LDEpfXRoaXMuX3BvbGVTZWdtZW50cy5wdXNoKHlzLnNpbXBsZVNlZ21lbnQodCwwLDY2LDY0KSksdCs9NjZ9dGhpcy5fcG9sZU5vcnRoVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHIsR2QsITEpLHRoaXMuX3BvbGVTb3V0aFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihuLEdkLCExKX1nZXRHcmlkQnVmZmVycyhlKXtyZXR1cm5bdGhpcy5fZ3JpZEJ1ZmZlcix0aGlzLl9ncmlkSW5kZXhCdWZmZXIsdGhpcy5fZ3JpZFNlZ21lbnRzW2VdXX1nZXRQb2xlQnVmZmVycyhlKXtyZXR1cm5bdGhpcy5fcG9sZU5vcnRoVmVydGV4QnVmZmVyLHRoaXMuX3BvbGVTb3V0aFZlcnRleEJ1ZmZlcix0aGlzLl9wb2xlSW5kZXhCdWZmZXIsdGhpcy5fcG9sZVNlZ21lbnRzW2VdXX1nZXRXaXJlZmFtZUJ1ZmZlcnMoZSx0KXtpZighdGhpcy5fd2lyZWZyYW1lU2VnbWVudHMpe2NvbnN0IHQ9bmV3IHZhLHI9NjQsbj1yKzE7dGhpcy5fd2lyZWZyYW1lU2VnbWVudHM9W107Zm9yKGxldCBlPTAsaT0wO2U8WGQubGVuZ3RoO2UrKyl7Y29uc3Qgbz1YZFtlXTtmb3IobGV0IGU9MDtlPG87ZSsrKWZvcihsZXQgaT0wO2k8cjtpKyspe2NvbnN0IHI9ZSpuK2k7dC5lbXBsYWNlQmFjayhyLHIrMSksdC5lbXBsYWNlQmFjayhyLHIrbiksdC5lbXBsYWNlQmFjayhyLHIrbisxKX1jb25zdCBhPW8qciozO3RoaXMuX3dpcmVmcmFtZVNlZ21lbnRzLnB1c2goeXMuc2ltcGxlU2VnbWVudCgwLGksKG8rMSkqbixhKSksaSs9YX10aGlzLl93aXJlZnJhbWVJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHQpfXJldHVyblt0aGlzLl9ncmlkQnVmZmVyLHRoaXMuX3dpcmVmcmFtZUluZGV4QnVmZmVyLHRoaXMuX3dpcmVmcmFtZVNlZ21lbnRzW3RdXX19LGUuR2x5cGhNYW5hZ2VyPXlkLGUuSW1hZ2VQb3NpdGlvbj1xaCxlLkxpdmVQZXJmb3JtYW5jZVV0aWxzPU9lLGUuTG5nTGF0PXdzLGUuTG5nTGF0Qm91bmRzPXhzLGUuTG9jYWxHbHlwaE1vZGU9X2QsZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREU9UHMsZS5NZXJjYXRvckNvb3JkaW5hdGU9RHMsZS5PTkVfRU09MjQsZS5PdmVyc2NhbGVkVGlsZUlEPWp1LGUuUGVyZm9ybWFuY2VNYXJrZXJzPUxlLGUuUHJvcGVydGllcz1xbyxlLlJHQkFJbWFnZT1kYyxlLlJheT1KbCxlLlJlcXVlc3RNYW5hZ2VyPWNsYXNze2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm49ZSx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbj10LHRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzPSEhcix0aGlzLl9jcmVhdGVTa3VUb2tlbigpfV9jcmVhdGVTa3VUb2tlbigpe2NvbnN0IGU9ZnVuY3Rpb24oKXtsZXQgZT1cIlwiO2ZvcihsZXQgdD0wO3Q8MTA7dCsrKWUrPVwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIltNYXRoLmZsb29yKDYyKk1hdGgucmFuZG9tKCkpXTtyZXR1cm57dG9rZW46W1wiMVwiLGQsZV0uam9pbihcIlwiKSx0b2tlbkV4cGlyZXNBdDpEYXRlLm5vdygpKzQzMmU1fX0oKTt0aGlzLl9za3VUb2tlbj1lLnRva2VuLHRoaXMuX3NrdVRva2VuRXhwaXJlc0F0PWUudG9rZW5FeHBpcmVzQXR9X2lzU2t1VG9rZW5FeHBpcmVkKCl7cmV0dXJuIERhdGUubm93KCk+dGhpcy5fc2t1VG9rZW5FeHBpcmVzQXR9dHJhbnNmb3JtUmVxdWVzdChlLHQpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm4mJnRoaXMuX3RyYW5zZm9ybVJlcXVlc3RGbihlLHQpfHx7dXJsOmV9fW5vcm1hbGl6ZVN0eWxlVVJMKGUsdCl7aWYoIV9lKGUpKXJldHVybiBlO2NvbnN0IHI9d2UoZSk7cmV0dXJuIHIucGF0aD1cIi9zdHlsZXMvdjFcIityLnBhdGgsdGhpcy5fbWFrZUFQSVVSTChyLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VufHx0KX1ub3JtYWxpemVHbHlwaHNVUkwoZSx0KXtpZighX2UoZSkpcmV0dXJuIGU7Y29uc3Qgcj13ZShlKTtyZXR1cm4gci5wYXRoPVwiL2ZvbnRzL3YxXCIrci5wYXRoLHRoaXMuX21ha2VBUElVUkwocix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8dCl9bm9ybWFsaXplU291cmNlVVJMKGUsdCxyLG4pe2lmKCFfZShlKSlyZXR1cm4gZTtjb25zdCBpPXdlKGUpO3JldHVybiBpLnBhdGg9YC92NC8ke2kuYXV0aG9yaXR5fS5qc29uYCxpLnBhcmFtcy5wdXNoKFwic2VjdXJlXCIpLHImJmkucGFyYW1zLnB1c2goXCJsYW5ndWFnZT1cIityKSxuJiZpLnBhcmFtcy5wdXNoKFwid29ybGR2aWV3PVwiK24pLHRoaXMuX21ha2VBUElVUkwoaSx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8dCl9bm9ybWFsaXplU3ByaXRlVVJMKGUsdCxyLG4pe2NvbnN0IGk9d2UoZSk7cmV0dXJuIF9lKGUpPyhpLnBhdGg9YC9zdHlsZXMvdjEke2kucGF0aH0vc3ByaXRlJHt0fSR7cn1gLHRoaXMuX21ha2VBUElVUkwoaSx0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8bikpOihpLnBhdGgrPWAke3R9JHtyfWAsVGUoaSkpfW5vcm1hbGl6ZVRpbGVVUkwoZSx0LHIpe2lmKHRoaXMuX2lzU2t1VG9rZW5FeHBpcmVkKCkmJnRoaXMuX2NyZWF0ZVNrdVRva2VuKCksZSYmIV9lKGUpKXJldHVybiBlO2NvbnN0IG49d2UoZSk7bi5wYXRoPW4ucGF0aC5yZXBsYWNlKC8oXFwuKHBuZ3xqcGcpXFxkKikoPz0kKS8sYCR7dHx8ciYmXCJyYXN0ZXJcIiE9PW4uYXV0aG9yaXR5JiY1MTI9PT1yP1wiQDJ4XCI6XCJcIn0ke2Euc3VwcG9ydGVkP1wiLndlYnBcIjpcIiQxXCJ9YCksXCJyYXN0ZXJcIj09PW4uYXV0aG9yaXR5P24ucGF0aD1gLyR7by5SQVNURVJfVVJMX1BSRUZJWH0ke24ucGF0aH1gOihuLnBhdGg9bi5wYXRoLnJlcGxhY2UoL14uK1xcL3Y0XFwvLyxcIi9cIiksbi5wYXRoPWAvJHtvLlRJTEVfVVJMX1ZFUlNJT059JHtuLnBhdGh9YCk7Y29uc3QgaT10aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8ZnVuY3Rpb24oZSl7Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10Lm1hdGNoKC9eYWNjZXNzX3Rva2VuPSguKikkLyk7aWYoZSlyZXR1cm4gZVsxXX1yZXR1cm4gbnVsbH0obi5wYXJhbXMpfHxvLkFDQ0VTU19UT0tFTjtyZXR1cm4gby5SRVFVSVJFX0FDQ0VTU19UT0tFTiYmaSYmdGhpcy5fc2t1VG9rZW4mJm4ucGFyYW1zLnB1c2goXCJza3U9XCIrdGhpcy5fc2t1VG9rZW4pLHRoaXMuX21ha2VBUElVUkwobixpKX1jYW5vbmljYWxpemVUaWxlVVJMKGUsdCl7Y29uc3Qgcj13ZShlKTtpZighci5wYXRoLm1hdGNoKC9eKFxcL3Y0XFwvfFxcL3Jhc3RlclxcL3YxXFwvKS8pfHwhci5wYXRoLm1hdGNoKC9cXC5bXFx3XSskLykpcmV0dXJuIGU7bGV0IG49XCJtYXBib3g6Ly9cIjtyLnBhdGgubWF0Y2goL15cXC9yYXN0ZXJcXC92MVxcLy8pP24rPVwicmFzdGVyL1wiK3IucGF0aC5yZXBsYWNlKGAvJHtvLlJBU1RFUl9VUkxfUFJFRklYfS9gLFwiXCIpOm4rPVwidGlsZXMvXCIrci5wYXRoLnJlcGxhY2UoYC8ke28uVElMRV9VUkxfVkVSU0lPTn0vYCxcIlwiKTtsZXQgaT1yLnBhcmFtcztyZXR1cm4gdCYmKGk9aS5maWx0ZXIoZT0+IWUubWF0Y2goL15hY2Nlc3NfdG9rZW49LykpKSxpLmxlbmd0aCYmKG4rPVwiP1wiK2kuam9pbihcIiZcIikpLG59Y2Fub25pY2FsaXplVGlsZXNldChlLHQpe2NvbnN0IHI9ISF0JiZfZSh0KSxuPVtdO2Zvcihjb25zdCB0IG9mIGUudGlsZXN8fFtdKXllKHQpP24ucHVzaCh0aGlzLmNhbm9uaWNhbGl6ZVRpbGVVUkwodCxyKSk6bi5wdXNoKHQpO3JldHVybiBufV9tYWtlQVBJVVJMKGUsdCl7Y29uc3Qgcj1cIlNlZSBodHRwczovL3d3dy5tYXBib3guY29tL2FwaS1kb2N1bWVudGF0aW9uLyNhY2Nlc3MtdG9rZW5zLWFuZC10b2tlbi1zY29wZXNcIixuPXdlKG8uQVBJX1VSTCk7aWYoZS5wcm90b2NvbD1uLnByb3RvY29sLGUuYXV0aG9yaXR5PW4uYXV0aG9yaXR5LFwiaHR0cFwiPT09ZS5wcm90b2NvbCl7Y29uc3QgdD1lLnBhcmFtcy5pbmRleE9mKFwic2VjdXJlXCIpO3Q+PTAmJmUucGFyYW1zLnNwbGljZSh0LDEpfWlmKFwiL1wiIT09bi5wYXRoJiYoZS5wYXRoPWAke24ucGF0aH0ke2UucGF0aH1gKSwhby5SRVFVSVJFX0FDQ0VTU19UT0tFTilyZXR1cm4gVGUoZSk7aWYodD10fHxvLkFDQ0VTU19UT0tFTiwhdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnMpe2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkFuIEFQSSBhY2Nlc3MgdG9rZW4gaXMgcmVxdWlyZWQgdG8gdXNlIE1hcGJveCBHTC4gXCIrcik7aWYoXCJzXCI9PT10WzBdKXRocm93IG5ldyBFcnJvcihcIlVzZSBhIHB1YmxpYyBhY2Nlc3MgdG9rZW4gKHBrLiopIHdpdGggTWFwYm94IEdMLCBub3QgYSBzZWNyZXQgYWNjZXNzIHRva2VuIChzay4qKS4gXCIrcil9cmV0dXJuIGUucGFyYW1zPWUucGFyYW1zLmZpbHRlcihlPT4tMT09PWUuaW5kZXhPZihcImFjY2Vzc190b2tlblwiKSksZS5wYXJhbXMucHVzaChcImFjY2Vzc190b2tlbj1cIisodHx8XCJcIikpLFRlKGUpfX0sZS5SZXNvdXJjZVR5cGU9YWUsZS5TZWdtZW50VmVjdG9yPXlzLGUuU291cmNlQ2FjaGU9amYsZS5TdGVuY2lsTW9kZT1PZixlLlN0cnVjdEFycmF5TGF5b3V0MXVpMj14YSxlLlN0cnVjdEFycmF5TGF5b3V0MmYxZjJpMTY9dWEsZS5TdHJ1Y3RBcnJheUxheW91dDJpND1LbyxlLlN0cnVjdEFycmF5TGF5b3V0MnVpND12YSxlLlN0cnVjdEFycmF5TGF5b3V0M2YxMj1kYSxlLlN0cnVjdEFycmF5TGF5b3V0M3VpNj1wYSxlLlN0cnVjdEFycmF5TGF5b3V0NGk4PVFvLGUuU3RydWN0QXJyYXlMYXlvdXQ1ZjIwPV9hLGUuVGV4dHVyZT1jZixlLlRpbGU9d2YsZS5UcmFuc2l0aW9uYWJsZT1EbyxlLlVuaWZvcm0xZj1IYSxlLlVuaWZvcm0xaT1jbGFzcyBleHRlbmRzIFhhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD0wfXNldChlLHQscil7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpJiZ0aGlzLmN1cnJlbnQhPT1yJiYodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtMWkodGhpcy5sb2NhdGlvbixyKSl9fSxlLlVuaWZvcm0yZj1jbGFzcyBleHRlbmRzIFhhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1bMCwwXX1zZXQoZSx0LHIpe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmKHJbMF09PT10aGlzLmN1cnJlbnRbMF0mJnJbMV09PT10aGlzLmN1cnJlbnRbMV18fCh0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm0yZih0aGlzLmxvY2F0aW9uLHJbMF0sclsxXSkpKX19LGUuVW5pZm9ybTNmPWNsYXNzIGV4dGVuZHMgWGF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PVswLDAsMF19c2V0KGUsdCxyKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkmJihyWzBdPT09dGhpcy5jdXJyZW50WzBdJiZyWzFdPT09dGhpcy5jdXJyZW50WzFdJiZyWzJdPT09dGhpcy5jdXJyZW50WzJdfHwodGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtM2YodGhpcy5sb2NhdGlvbixyWzBdLHJbMV0sclsyXSkpKX19LGUuVW5pZm9ybTRmPVlhLGUuVW5pZm9ybUNvbG9yPUthLGUuVW5pZm9ybU1hdHJpeDJmPWNsYXNzIGV4dGVuZHMgWGF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PWVzfXNldChlLHQscil7aWYodGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpKWZvcihsZXQgZT0wO2U8NDtlKyspaWYocltlXSE9PXRoaXMuY3VycmVudFtlXSl7dGhpcy5jdXJyZW50PXIsdGhpcy5nbC51bmlmb3JtTWF0cml4MmZ2KHRoaXMubG9jYXRpb24sITEscik7YnJlYWt9fX0sZS5Vbmlmb3JtTWF0cml4M2Y9Y2xhc3MgZXh0ZW5kcyBYYXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmN1cnJlbnQ9UWF9c2V0KGUsdCxyKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkpZm9yKGxldCBlPTA7ZTw5O2UrKylpZihyW2VdIT09dGhpcy5jdXJyZW50W2VdKXt0aGlzLmN1cnJlbnQ9cix0aGlzLmdsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5sb2NhdGlvbiwhMSxyKTticmVha319fSxlLlVuaWZvcm1NYXRyaXg0Zj1jbGFzcyBleHRlbmRzIFhhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1KYX1zZXQoZSx0LHIpe2lmKHRoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSl7aWYoclsxMl0hPT10aGlzLmN1cnJlbnRbMTJdfHxyWzBdIT09dGhpcy5jdXJyZW50WzBdKXJldHVybiB0aGlzLmN1cnJlbnQ9cix2b2lkIHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmxvY2F0aW9uLCExLHIpO2ZvcihsZXQgZT0xO2U8MTY7ZSsrKWlmKHJbZV0hPT10aGlzLmN1cnJlbnRbZV0pe3RoaXMuY3VycmVudD1yLHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmxvY2F0aW9uLCExLHIpO2JyZWFrfX19fSxlLlVud3JhcHBlZFRpbGVJRD1GdSxlLlZhbGlkYXRpb25FcnJvcj1xbixlLlZlY3RvclRpbGVGZWF0dXJlPXl1LGUuVmVjdG9yVGlsZVdvcmtlclNvdXJjZT1jbGFzcyBleHRlbmRzIEhle2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7c3VwZXIoKSx0aGlzLmFjdG9yPWUsdGhpcy5sYXllckluZGV4PXQsdGhpcy5hdmFpbGFibGVJbWFnZXM9cix0aGlzLmxvYWRWZWN0b3JEYXRhPWl8fEpmLHRoaXMubG9hZGluZz17fSx0aGlzLmxvYWRlZD17fSx0aGlzLmRlZHVwZWQ9bmV3IEtmKGUuc2NoZWR1bGVyKSx0aGlzLmlzU3ByaXRlTG9hZGVkPW4sdGhpcy5zY2hlZHVsZXI9ZS5zY2hlZHVsZXJ9bG9hZFRpbGUoZSx0KXtjb25zdCByPWUudWlkLG49ZSYmZS5yZXF1ZXN0LGk9biYmbi5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsbz10aGlzLmxvYWRpbmdbcl09bmV3IEhmKGUpO28uYWJvcnQ9dGhpcy5sb2FkVmVjdG9yRGF0YShlLChhLHMpPT57Y29uc3QgbD0hdGhpcy5sb2FkaW5nW3JdO2lmKGRlbGV0ZSB0aGlzLmxvYWRpbmdbcl0sbHx8YXx8IXMpcmV0dXJuIG8uc3RhdHVzPVwiZG9uZVwiLGx8fCh0aGlzLmxvYWRlZFtyXT1vKSx0KGEpO2NvbnN0IGM9cy5yYXdEYXRhLHU9e307cy5leHBpcmVzJiYodS5leHBpcmVzPXMuZXhwaXJlcykscy5jYWNoZUNvbnRyb2wmJih1LmNhY2hlQ29udHJvbD1zLmNhY2hlQ29udHJvbCksby52ZWN0b3JUaWxlPXMudmVjdG9yVGlsZXx8bmV3IF91KG5ldyB5aChjKSk7Y29uc3QgaD0oKT0+e28ucGFyc2Uoby52ZWN0b3JUaWxlLHRoaXMubGF5ZXJJbmRleCx0aGlzLmF2YWlsYWJsZUltYWdlcyx0aGlzLmFjdG9yLChlLHIpPT57aWYoZXx8IXIpcmV0dXJuIHQoZSk7Y29uc3Qgbz17fTtpZihpKXtjb25zdCBlPWplKG4pO2UubGVuZ3RoPjAmJihvLnJlc291cmNlVGltaW5nPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpKX10KG51bGwsSSh7cmF3VGlsZURhdGE6Yy5zbGljZSgwKX0scix1LG8pKX0pfTt0aGlzLmlzU3ByaXRlTG9hZGVkP2goKTp0aGlzLm9uY2UoXCJpc1Nwcml0ZUxvYWRlZFwiLCgpPT57dGhpcy5zY2hlZHVsZXI/dGhpcy5zY2hlZHVsZXIuYWRkKGgse3R5cGU6XCJwYXJzZVRpbGVcIixpc1N5bWJvbFRpbGU6ZS5pc1N5bWJvbFRpbGUsem9vbTplLnRpbGVab29tfSk6aCgpfSksdGhpcy5sb2FkZWQ9dGhpcy5sb2FkZWR8fHt9LHRoaXMubG9hZGVkW3JdPW99KX1yZWxvYWRUaWxlKGUsdCl7Y29uc3Qgcj10aGlzLmxvYWRlZCxuPWUudWlkLGk9dGhpcztpZihyJiZyW25dKXtjb25zdCBvPXJbbl07by5zaG93Q29sbGlzaW9uQm94ZXM9ZS5zaG93Q29sbGlzaW9uQm94ZXMsby5lbmFibGVUZXJyYWluPSEhZS5lbmFibGVUZXJyYWluLG8ucHJvamVjdGlvbj1lLnByb2plY3Rpb24sby50aWxlVHJhbnNmb3JtPWJwKGUudGlsZUlELmNhbm9uaWNhbCxlLnByb2plY3Rpb24pO2NvbnN0IGE9KGUscik9Pntjb25zdCBuPW8ucmVsb2FkQ2FsbGJhY2s7biYmKGRlbGV0ZSBvLnJlbG9hZENhbGxiYWNrLG8ucGFyc2Uoby52ZWN0b3JUaWxlLGkubGF5ZXJJbmRleCx0aGlzLmF2YWlsYWJsZUltYWdlcyxpLmFjdG9yLG4pKSx0KGUscil9O1wicGFyc2luZ1wiPT09by5zdGF0dXM/by5yZWxvYWRDYWxsYmFjaz1hOlwiZG9uZVwiPT09by5zdGF0dXMmJihvLnZlY3RvclRpbGU/by5wYXJzZShvLnZlY3RvclRpbGUsdGhpcy5sYXllckluZGV4LHRoaXMuYXZhaWxhYmxlSW1hZ2VzLHRoaXMuYWN0b3IsYSk6YSgpKX19YWJvcnRUaWxlKGUsdCl7Y29uc3Qgcj1lLnVpZCxuPXRoaXMubG9hZGluZ1tyXTtuJiYobi5hYm9ydCYmbi5hYm9ydCgpLGRlbGV0ZSB0aGlzLmxvYWRpbmdbcl0pLHQoKX1yZW1vdmVUaWxlKGUsdCl7Y29uc3Qgcj10aGlzLmxvYWRlZCxuPWUudWlkO3ImJnJbbl0mJmRlbGV0ZSByW25dLHQoKX19LGUuV3JpdGluZ01vZGU9JGgsZS5ab29tSGlzdG9yeT1MaSxlLmFkZD1rbCxlLmFkZER5bmFtaWNBdHRyaWJ1dGVzPVdwLGUuYWRqb2ludD1mdW5jdGlvbihlLHQpe3ZhciByPXRbMF0sbj10WzFdLGk9dFsyXSxvPXRbM10sYT10WzRdLHM9dFs1XSxsPXRbNl0sYz10WzddLHU9dFs4XTtyZXR1cm4gZVswXT1hKnUtcypjLGVbMV09aSpjLW4qdSxlWzJdPW4qcy1pKmEsZVszXT1zKmwtbyp1LGVbNF09cip1LWkqbCxlWzVdPWkqby1yKnMsZVs2XT1vKmMtYSpsLGVbN109bipsLXIqYyxlWzhdPXIqYS1uKm8sZX0sZS5hc3luY0FsbD1rLGUuYmV6aWVyPVQsZS5iaW5kQWxsPU8sZS5ib3VuZHNBdHRyaWJ1dGVzPXhmLGUuYnVmZmVyQ29udmV4UG9seWdvbj1mdW5jdGlvbihlLHQpe2NvbnN0IHI9W107Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IGk9TShuLTEsLTEsZS5sZW5ndGgtMSksbz1NKG4rMSwtMSxlLmxlbmd0aC0xKSxhPWVbbl0scz1lW29dLGw9ZVtpXS5zdWIoYSkudW5pdCgpLGM9cy5zdWIoYSkudW5pdCgpLHU9Yy5hbmdsZVdpdGhTZXAobC54LGwueSksaD1sLmFkZChjKS51bml0KCkubXVsdCgtMSp0L01hdGguc2luKHUvMikpO3IucHVzaChhLmFkZChoKSl9cmV0dXJuIHJ9LGUuY2FjaGVFbnRyeVBvc3NpYmx5QWRkZWQ9ZnVuY3Rpb24oZSl7b2UrKyxvZT50ZSYmKGUuZ2V0QWN0b3IoKS5zZW5kKFwiZW5mb3JjZUNhY2hlU2l6ZUxpbWl0XCIsZWUpLG9lPTApfSxlLmNhbGN1bGF0ZUdsb2JlTGFiZWxNYXRyaXg9ZnVuY3Rpb24oZSx0KXtjb25zdHt4OnIseTpufT1lLnBvaW50LGk9ZnAocixuLGUud29ybGRTaXplL2UuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsMCwwKTtyZXR1cm4gZ2woaSxpLHBwKHRwKHQpKSl9LGUuY2FsY3VsYXRlR2xvYmVNYXRyaXg9ZnVuY3Rpb24oZSl7Y29uc3R7eDp0LHk6cn09ZS5wb2ludCx7bG5nOm4sbGF0Oml9PWUuX2NlbnRlcjtyZXR1cm4gZnAodCxyLGUud29ybGRTaXplLG4saSl9LGUuY2FsY3VsYXRlR2xvYmVNZXJjYXRvck1hdHJpeD1mdW5jdGlvbihlKXtjb25zdCB0PWUucGl4ZWxzUGVyTWV0ZXIscj10L01zKDEsZS5jZW50ZXIubGF0KSxuPWZsKG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtyZXR1cm4gX2wobixuLFtlLnBvaW50LngsZS5wb2ludC55LDBdKSx5bChuLG4sW3Iscix0XSksRmxvYXQzMkFycmF5LmZyb20obil9LGUuY2lyY3VtZmVyZW5jZUF0TGF0aXR1ZGU9RXMsZS5jbGFtcD1TLGUuY2xlYXJUaWxlQ2FjaGU9ZnVuY3Rpb24oZSl7aWYoIXJlKCkpcmV0dXJuO2NvbnN0IHQ9ci5jYWNoZXMuZGVsZXRlKEspO2UmJnQuY2F0Y2goZSkudGhlbigoKT0+ZSgpKX0sZS5jbGlwTGluZT1wZCxlLmNsb25lPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBobCgxNik7cmV0dXJuIHRbMF09ZVswXSx0WzFdPWVbMV0sdFsyXT1lWzJdLHRbM109ZVszXSx0WzRdPWVbNF0sdFs1XT1lWzVdLHRbNl09ZVs2XSx0WzddPWVbN10sdFs4XT1lWzhdLHRbOV09ZVs5XSx0WzEwXT1lWzEwXSx0WzExXT1lWzExXSx0WzEyXT1lWzEyXSx0WzEzXT1lWzEzXSx0WzE0XT1lWzE0XSx0WzE1XT1lWzE1XSx0fSxlLmNsb25lJDE9VSxlLmNvbGxpc2lvbkNpcmNsZUxheW91dD1saCxlLmNvbmZpZz1vLGUuY29uanVnYXRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09LXRbMF0sZVsxXT0tdFsxXSxlWzJdPS10WzJdLGVbM109dFszXSxlfSxlLmNyZWF0ZT1mdW5jdGlvbigpe3ZhciBlPW5ldyBobCgxNik7cmV0dXJuIGhsIT1GbG9hdDMyQXJyYXkmJihlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTApLGVbMF09MSxlWzVdPTEsZVsxMF09MSxlWzE1XT0xLGV9LGUuY3JlYXRlJDE9ZGwsZS5jcmVhdGVFeHByZXNzaW9uPWpuLGUuY3JlYXRlTGF5b3V0PUhvLGUuY3JlYXRlU3R5bGVMYXllcj1mdW5jdGlvbihlKXtyZXR1cm5cImN1c3RvbVwiPT09ZS50eXBlP25ldyBvZihlKTpuZXcgbGZbZS50eXBlXShlKX0sZS5jcm9zcz1CbCxlLmRlZ1RvUmFkPXYsZS5kaXN0YW5jZT1mdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLmh5cG90KHRbMF0tZVswXSx0WzFdLWVbMV0sdFsyXS1lWzJdKX0sZS5kaXY9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBlWzBdPXRbMF0vclswXSxlWzFdPXRbMV0vclsxXSxlWzJdPXRbMl0vclsyXSxlfSxlLmRvdD1PbCxlLmVhcnRoUmFkaXVzPWJzLGUuZWFzZT1FLGUuZWFzZUN1YmljSW5PdXQ9dyxlLmVjZWZUb0xhdExuZz1mdW5jdGlvbihbZSx0LHJdKXtjb25zdCBuPU1hdGguaHlwb3QoZSx0LHIpLGk9TWF0aC5hdGFuMihlLHIpLG89LjUqTWF0aC5QSS1NYXRoLmFjb3MoLXQvbik7cmV0dXJuIG5ldyB3cyh4KGkpLHgobykpfSxlLmVtaXRWYWxpZGF0aW9uRXJyb3JzPUNpLGUuZW5kc1dpdGg9QixlLmVuZm9yY2VDYWNoZVNpemVMaW1pdD1mdW5jdGlvbihlKXtuZSgpLEomJkoudGhlbih0PT57dC5rZXlzKCkudGhlbihyPT57Zm9yKGxldCBuPTA7bjxyLmxlbmd0aC1lO24rKyl0LmRlbGV0ZShyW25dKX0pfSl9LGUuZXZhbHVhdGVTaXplRm9yRmVhdHVyZT1oaCxlLmV2YWx1YXRlU2l6ZUZvclpvb209ZGgsZS5ldmFsdWF0ZVZhcmlhYmxlT2Zmc2V0PXpkLGUuZXZlbnRlZD1DbyxlLmV4YWN0RXF1YWxzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09PT10WzBdJiZlWzFdPT09dFsxXSYmZVsyXT09PXRbMl0mJmVbM109PT10WzNdfSxlLmV4YWN0RXF1YWxzJDE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT09PXRbMF0mJmVbMV09PT10WzFdJiZlWzJdPT09dFsyXX0sZS5leHBvcnRlZD1xZSxlLmV4cG9ydGVkJDE9YSxlLmV4dGVuZD1JLGUuZXh0ZW5kJDE9S2UsZS5maWxsRXh0cnVzaW9uSGVpZ2h0TGlmdD16dSxlLmZpbHRlck9iamVjdD1qLGUuZnJvbU1hdDQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09dFsxXSxlWzJdPXRbMl0sZVszXT10WzRdLGVbNF09dFs1XSxlWzVdPXRbNl0sZVs2XT10WzhdLGVbN109dFs5XSxlWzhdPXRbMTBdLGV9LGUuZnJvbVF1YXQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj10WzBdLG49dFsxXSxpPXRbMl0sbz10WzNdLGE9cityLHM9bituLGw9aStpLGM9ciphLHU9biphLGg9bipzLGQ9aSphLHA9aSpzLGY9aSpsLG09byphLGc9bypzLF89bypsO3JldHVybiBlWzBdPTEtaC1mLGVbMV09dStfLGVbMl09ZC1nLGVbM109MCxlWzRdPXUtXyxlWzVdPTEtYy1mLGVbNl09cCttLGVbN109MCxlWzhdPWQrZyxlWzldPXAtbSxlWzEwXT0xLWMtaCxlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wLGVbMTVdPTEsZX0sZS5mcm9tUm90YXRpb249ZnVuY3Rpb24oZSx0KXt2YXIgcj1NYXRoLnNpbih0KSxuPU1hdGguY29zKHQpO3JldHVybiBlWzBdPW4sZVsxXT1yLGVbMl09MCxlWzNdPS1yLGVbNF09bixlWzVdPTAsZVs2XT0wLGVbN109MCxlWzhdPTEsZX0sZS5mcm9tU2NhbGluZz1ibCxlLmZ1cnRoZXN0VGlsZUNvcm5lcj1mdW5jdGlvbihlKXtjb25zdCB0PU1hdGgucm91bmQoKGUrNDUrMzYwKSUzNjAvOTApJTQ7cmV0dXJuIGJbdF19LGUuZ2V0QUFCQlBvaW50U3F1YXJlRGlzdD1mdW5jdGlvbihlLHQscil7bGV0IG49MDtmb3IobGV0IGk9MDtpPDI7KytpKXtjb25zdCBvPXI/cltpXTowO2VbaV0+byYmKG4rPShlW2ldLW8pKihlW2ldLW8pKSx0W2ldPG8mJihuKz0oby10W2ldKSooby10W2ldKSl9cmV0dXJuIG59LGUuZ2V0QW5jaG9yQWxpZ25tZW50PXJkLGUuZ2V0QW5jaG9ySnVzdGlmaWNhdGlvbj1SZCxlLmdldEJvdW5kcz1mdW5jdGlvbihlKXtsZXQgdD0xLzAscj0xLzAsbj0tMS8wLGk9LTEvMDtmb3IoY29uc3QgbyBvZiBlKXQ9TWF0aC5taW4odCxvLngpLHI9TWF0aC5taW4ocixvLnkpLG49TWF0aC5tYXgobixvLngpLGk9TWF0aC5tYXgoaSxvLnkpO3JldHVybnttaW46bmV3IG0odCxyKSxtYXg6bmV3IG0obixpKX19LGUuZ2V0Q29sdW1uPVksZS5nZXRHcmlkTWF0cml4PWZ1bmN0aW9uKGUsdCxyLG4pe2NvbnN0IGk9dC5nZXROb3J0aCgpLG89dC5nZXRTb3V0aCgpLGE9dC5nZXRXZXN0KCkscz10LmdldEVhc3QoKSxsPTE8PGUueixjPXMtYSx1PWktbyxoPWMvNjQsZD0tdS9YZFtyXSxwPVswLGgsMCxkLDAsMCxpLGEsMF07aWYoZS56PjApe2NvbnN0IGU9MTgwL247cGwocCxwLFtlL2MrMSwwLDAsMCxlL3UrMSwwLC0uNSplL2gsLjUqZS9kLDFdKX1yZXR1cm4gcFsyXT1sLHBbNV09ZS54LHBbOF09ZS55LHB9LGUuZ2V0SW1hZ2U9bWUsZS5nZXRKU09OPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGNlKEkoZSx7dHlwZTpcImpzb25cIn0pLHQpfSxlLmdldExhdGl0dWRpbmFsTG9kPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ODAuMDUxMTI5O2U9UyhlLC04MC4wNTExMjksdCkvdCo5MDtjb25zdCByPU1hdGgucG93KE1hdGguYWJzKE1hdGguc2luKHYoZSkpKSwzKTtyZXR1cm4gTWF0aC5yb3VuZChyKihYZC5sZW5ndGgtMSkpfSxlLmdldE1hcFNlc3Npb25BUEk9RGUsZS5nZXRQZXJmb3JtYW5jZU1lYXN1cmVtZW50PWplLGUuZ2V0UHJvamVjdGlvbj1WcCxlLmdldFJUTFRleHRQbHVnaW5TdGF0dXM9TW8sZS5nZXRSZWZlcnJlcj1sZSxlLmdldFRpbGVQb2ludD1mdW5jdGlvbihlLHt4OnQseTpyfSxuPTApe3JldHVybiBuZXcgbSgoKHQtbikqZS5zY2FsZS1lLngpKnZzLChyKmUuc2NhbGUtZS55KSp2cyl9LGUuZ2V0VGlsZVZlYzM9ZnVuY3Rpb24oZSx0LHI9MCl7cmV0dXJuIE1sKCgodC54LXIpKmUuc2NhbGUtZS54KSp2cywodC55KmUuc2NhbGUtZS55KSp2cyxJcyh0LnosdC55KSl9LGUuZ2V0VmlkZW89ZnVuY3Rpb24oZSx0KXtjb25zdCBuPXIuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO24ubXV0ZWQ9ITAsbi5vbmxvYWRzdGFydD1mdW5jdGlvbigpe3QobnVsbCxuKX07Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IGk9ci5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic291cmNlXCIpO2hlKGVbdF0pfHwobi5jcm9zc09yaWdpbj1cIkFub255bW91c1wiKSxpLnNyYz1lW3RdLG4uYXBwZW5kQ2hpbGQoaSl9cmV0dXJue2NhbmNlbDooKT0+e319fSxlLmdsb2JlQ2VudGVyVG9TY3JlZW5Qb2ludD1mdW5jdGlvbihlKXtjb25zdCB0PVswLDAsMF0scj1mbChuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIGdsKHIsZS5waXhlbE1hdHJpeCxlLmdsb2JlTWF0cml4KSxGbCh0LHQsciksbmV3IG0odFswXSx0WzFdKX0sZS5nbG9iZURlbm9ybWFsaXplRUNFRj1wcCxlLmdsb2JlRUNFRk9yaWdpbj1mdW5jdGlvbihlLHQpe2NvbnN0IHI9WzAsMCwwXTtyZXR1cm4gRmwocixyLGRwKHRwKHQuY2Fub25pY2FsKSkpLEZsKHIscixlKSxyfSxlLmdsb2JlTm9ybWFsaXplRUNFRj1kcCxlLmdsb2JlUGl4ZWxzVG9UaWxlVW5pdHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdnMvKDUxMipNYXRoLnBvdygyLGUpKSp1cCh0cCh0KSl9LGUuZ2xvYmVQb2xlTWF0cml4Rm9yVGlsZT1mdW5jdGlvbihlLHQscil7Y29uc3Qgbj1mbChuZXcgRmxvYXQ2NEFycmF5KDE2KSksaT0odC8oMTw8ZSktLjUpKk1hdGguUEkqMjtyZXR1cm4geGwobixyLmdsb2JlTWF0cml4LGkpLEZsb2F0MzJBcnJheS5mcm9tKG4pfSxlLmdsb2JlVGlsZUJvdW5kcz10cCxlLmdsb2JlVGlsdEF0TG5nTGF0PWdwLGUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbj1tcCxlLmdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nPWZ1bmN0aW9uKGUsdCxyKXtjb25zdCBuPW1wKHIuem9vbSksaT1lLnN0eWxlLm1hcC5fYW50aWFsaWFzLG89ISF0LmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXMsYT10LmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXNGb3JjZU9mZnx8ZS50ZXJyYWluJiZlLnRlcnJhaW4uZXhhZ2dlcmF0aW9uKCk+MDtyZXR1cm4gMD09PW4mJiFpJiYhYSYmb30sZS5pZGVudGl0eT1mbCxlLmlkZW50aXR5JDE9WGwsZS5pbnZlcnQ9bWwsZS5pc0Z1bGxzY3JlZW49ZnVuY3Rpb24oKXtyZXR1cm4hIXIuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fCEhci5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudH0sZS5pc0xuZ0xhdEJlaGluZEdsb2JlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGdwKGUsdCk+TWF0aC5QSS8yKjEuMDF9LGUuaXNNYXBBdXRoZW50aWNhdGVkPWZ1bmN0aW9uKGUpe3JldHVybiBSZS5oYXMoZSl9LGUuaXNNYXBib3hVUkw9X2UsZS5pc1NhZmFyaVdpdGhBbnRpYWxpYXNpbmdCdWc9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLm5hdmlnYXRvcj9lLm5hdmlnYXRvci51c2VyQWdlbnQ6bnVsbDtyZXR1cm4hIVgoZSkmJnQmJih0Lm1hdGNoKFwiVmVyc2lvbi8xNS40XCIpfHx0Lm1hdGNoKFwiVmVyc2lvbi8xNS41XCIpfHx0Lm1hdGNoKC9DUFUgKE9TfGlQaG9uZSBPUykgKDE1XzR8MTVfNSkgbGlrZSBNYWMgT1MgWC8pKX0sZS5sYXRGcm9tTWVyY2F0b3JZPUFzLGUubGF0TG5nVG9FQ0VGPWxwLGUubGVuPUdsLGUubGVuZ3RoPUNsLGUubGVuZ3RoJDE9ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguaHlwb3QoZVswXSxlWzFdLGVbMl0sZVszXSl9LGUubG5nRnJvbU1lcmNhdG9yWD1rcyxlLmxvYWRWZWN0b3JUaWxlPUpmLGUubWFrZVJlcXVlc3Q9Y2UsZS5tYXBWYWx1ZT1mdW5jdGlvbihlLHQscixuLGkpe3JldHVybiBTKChlLXQpLyhyLXQpKihpLW4pK24sbixpKX0sZS5tZXJjYXRvclNjYWxlPXpzLGUubWVyY2F0b3JYZnJvbUxuZz1TcyxlLm1lcmNhdG9yWWZyb21MYXQ9Q3MsZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGU9TXMsZS5tdWw9VGwsZS5tdWwkMT1WbCxlLm11bHRpcGx5PWdsLGUubXVsdGlwbHkkMT1wbCxlLm11bHRpcGx5JDI9SWwsZS5uZXh0UG93ZXJPZlR3bz1SLGUubm9ybWFsaXplPUxsLGUubm9ybWFsaXplJDE9S2wsZS5ub3JtYWxpemUkMj1abCxlLm51bWJlcj1DcixlLm9ydGhvPWZ1bmN0aW9uKGUsdCxyLG4saSxvLGEpe3ZhciBzPTEvKHQtciksbD0xLyhuLWkpLGM9MS8oby1hKTtyZXR1cm4gZVswXT0tMipzLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPS0yKmwsZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTBdPTIqYyxlWzExXT0wLGVbMTJdPSh0K3IpKnMsZVsxM109KGkrbikqbCxlWzE0XT0oYStvKSpjLGVbMTVdPTEsZX0sZS5wYmY9eWgsZS5wZXJzcGVjdGl2ZT1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBvLGE9MS9NYXRoLnRhbih0LzIpO3JldHVybiBlWzBdPWEvcixlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT1hLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzExXT0tMSxlWzEyXT0wLGVbMTNdPTAsZVsxNV09MCxudWxsIT1pJiZpIT09MS8wPyhlWzEwXT0oaStuKSoobz0xLyhuLWkpKSxlWzE0XT0yKmkqbipvKTooZVsxMF09LTEsZVsxNF09LTIqbiksZX0sZS5waWNrPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj17fTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3QgaT10W25dO2kgaW4gZSYmKHJbaV09ZVtpXSl9cmV0dXJuIHJ9LGUucGx1Z2luPUFvLGUucG9pbnRHZW9tZXRyeT1tLGUucG9seWdvbkNvbnRhaW5zUG9pbnQ9dGwsZS5wb2x5Z29uSW50ZXJzZWN0c0JveD1ybCxlLnBvbHlnb25JbnRlcnNlY3RzUG9seWdvbj0kcyxlLnBvbHlnb25pemVCb3VuZHM9ZnVuY3Rpb24oZSx0LHI9MCxuPSEwKXtjb25zdCBpPW5ldyBtKHIsciksbz1lLnN1YihpKSxhPXQuYWRkKGkpLHM9W28sbmV3IG0oYS54LG8ueSksYSxuZXcgbShvLngsYS55KV07cmV0dXJuIG4mJnMucHVzaChvLmNsb25lKCkpLHN9LGUucG9zQXR0cmlidXRlcz1aZCxlLnBvc3RNYXBMb2FkRXZlbnQ9QWUsZS5wb3N0UGVyZm9ybWFuY2VFdmVudD1QZSxlLnBvc3RUdXJuc3RpbGVFdmVudD1NZSxlLnBvdHBhY2s9R2gsZS5wcmV2UG93ZXJPZlR3bz1mdW5jdGlvbihlKXtyZXR1cm4gZTw9MT8xOk1hdGgucG93KDIsTWF0aC5mbG9vcihNYXRoLmxvZyhlKS9NYXRoLkxOMikpfSxlLnJhZFRvRGVnPXgsZS5yZWZQcm9wZXJ0aWVzPVtcInR5cGVcIixcInNvdXJjZVwiLFwic291cmNlLWxheWVyXCIsXCJtaW56b29tXCIsXCJtYXh6b29tXCIsXCJmaWx0ZXJcIixcImxheW91dFwiXSxlLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUoe3BsdWdpblN0YXR1czp3byxwbHVnaW5VUkw6VG99KSxDby5vbihcInBsdWdpblN0YXRlQ2hhbmdlXCIsZSksZX0sZS5yZW1vdmVBdXRoU3RhdGU9ZnVuY3Rpb24oZSl7UmUuZGVsZXRlKGUpfSxlLnJlbmRlckNvbG9yUmFtcD1mYyxlLnJlc2FtcGxlPUxzLGUucm90YXRlWD12bCxlLnJvdGF0ZVgkMT1IbCxlLnJvdGF0ZVk9eGwsZS5yb3RhdGVZJDE9WWwsZS5yb3RhdGVaPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj1NYXRoLnNpbihyKSxpPU1hdGguY29zKHIpLG89dFswXSxhPXRbMV0scz10WzJdLGw9dFszXSxjPXRbNF0sdT10WzVdLGg9dFs2XSxkPXRbN107cmV0dXJuIHQhPT1lJiYoZVs4XT10WzhdLGVbOV09dFs5XSxlWzEwXT10WzEwXSxlWzExXT10WzExXSxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSksZVswXT1vKmkrYypuLGVbMV09YSppK3UqbixlWzJdPXMqaStoKm4sZVszXT1sKmkrZCpuLGVbNF09YyppLW8qbixlWzVdPXUqaS1hKm4sZVs2XT1oKmktcypuLGVbN109ZCppLWwqbixlfSxlLnJvdGF0ZVokMT1mdW5jdGlvbihlLHQscil7cio9LjU7dmFyIG49dFswXSxpPXRbMV0sbz10WzJdLGE9dFszXSxzPU1hdGguc2luKHIpLGw9TWF0aC5jb3Mocik7cmV0dXJuIGVbMF09bipsK2kqcyxlWzFdPWkqbC1uKnMsZVsyXT1vKmwrYSpzLGVbM109YSpsLW8qcyxlfSxlLnNjYWxlPXlsLGUuc2NhbGUkMT1xbCxlLnNjYWxlJDI9RGwsZS5zY2FsZUFuZEFkZD1SbCxlLnNldD1mdW5jdGlvbihlLHQscixuKXtyZXR1cm4gZVswXT10LGVbMV09cixlWzJdPW4sZX0sZS5zZXRDYWNoZUxpbWl0cz1mdW5jdGlvbihlLHQpe2VlPWUsdGU9dH0sZS5zZXRDb2x1bW49ZnVuY3Rpb24oZSx0LHIpe2VbNCp0KzBdPXJbMF0sZVs0KnQrMV09clsxXSxlWzQqdCsyXT1yWzJdLGVbNCp0KzNdPXJbM119LGUuc2V0UlRMVGV4dFBsdWdpbj1mdW5jdGlvbihlLHQscj0hMSl7aWYod289PT15b3x8d289PT12b3x8d289PT14byl0aHJvdyBuZXcgRXJyb3IoXCJzZXRSVExUZXh0UGx1Z2luIGNhbm5vdCBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMuXCIpO1RvPXFlLnJlc29sdmVVUkwoZSksd289eW8sYm89dCxTbygpLHJ8fGtvKCl9LGUuc21vb3Roc3RlcD1DLGUuc3BlYz1ZZSxlLnNxdWFyZWRMZW5ndGg9ZnVuY3Rpb24oZSl7dmFyIHQ9ZVswXSxyPWVbMV0sbj1lWzJdO3JldHVybiB0KnQrcipyK24qbn0sZS5zdG9yZUF1dGhTdGF0ZT1mdW5jdGlvbihlLHQpe3Q/UmUuYWRkKGUpOlJlLmRlbGV0ZShlKX0sZS5zdWI9TmwsZS5zdWJ0cmFjdD1BbCxlLnN5bWJvbFNpemU9cGgsZS50aWxlQUFCQj1mdW5jdGlvbihlLHQscixuLGksbyxhLHMsbCl7aWYoXCJnbG9iZVwiPT09bC5uYW1lKXJldHVybiBmdW5jdGlvbihlLHQscil7Y29uc3Qgbj10L2Uud29ybGRTaXplLGk9ZS5nbG9iZU1hdHJpeDtpZihyLno8PTEpe2NvbnN0IGU9dHAocikuZ2V0Q29ybmVycygpO3JldHVybiBpcChlLGksbiksdGMuZnJvbVBvaW50cyhlKX1jb25zdCBvPW9wKHIpLGE9YXAobyk7aXAoYSxpLG4pO2NvbnN0IHM9TnVtYmVyLk1BWF9WQUxVRSxsPVstcywtcywtc10sYz1bcyxzLHNdO2lmKG8uY29udGFpbnMoZS5jZW50ZXIpKXtmb3IoY29uc3QgZSBvZiBhKVBsKGMsYyxlKSx6bChsLGwsZSk7bFsyXT0wO2NvbnN0IHQ9ZS5wb2ludCxyPVt0Lngqbix0LnkqbiwwXTtyZXR1cm4gUGwoYyxjLHIpLHpsKGwsbCxyKSxuZXcgdGMoYyxsKX1jb25zdCB1PVtpWzEyXSpuLGlbMTNdKm4saVsxNF0qbl0saD1vLmdldENlbnRlcigpLGQ9UyhlLmNlbnRlci5sYXQsLTg1LjA1MTEyOSxQcykscD1TKGgubGF0LC04NS4wNTExMjksUHMpLGY9U3MoZS5jZW50ZXIubG5nKSxtPUNzKGQpO2xldCBnPWYtU3MoaC5sbmcpO2NvbnN0IF89bS1DcyhwKTtnPi41P2ctPTE6ZzwtLjUmJihnKz0xKTtsZXQgeT0wO01hdGguYWJzKGcpPk1hdGguYWJzKF8pP3k9Zz49MD8xOjM6KHk9Xz49MD8wOjIsUmwodSx1LFtpWzRdKm4saVs1XSpuLGlbNl0qbl0sLU1hdGguc2luKHYoXz49MD9vLmdldFNvdXRoKCk6by5nZXROb3J0aCgpKSkqJGQpKTtjb25zdCB4PWFbeV0sYj1hWyh5KzEpJTRdLHc9bmV3IFFkKHgsYix1KSxUPVtlcCh3LDApfHx4WzBdLGVwKHcsMSl8fHhbMV0sZXAodywyKXx8eFsyXV0sRT1tcChlLnpvb20pO2lmKEU+MCl7Y29uc3Qgbj1mdW5jdGlvbih7eDplLHk6dCx6OnJ9LG4saSxvLGEpe2NvbnN0IHM9MS8oMTw8cik7bGV0IGw9ZSpzLGM9bCtzLHU9dCpzLGg9dStzLGQ9MDtjb25zdCBwPShsK2MpLzItbztyZXR1cm4gcD4uNT9kPS0xOnA8LS41JiYoZD0xKSxsPSgobCtkKSpuLShvKj1uKSkqaStvLGM9KChjK2QpKm4tbykqaStvLHU9KHUqbi0oYSo9bikpKmkrYSxoPShoKm4tYSkqaSthLFtbbCxoLDBdLFtjLGgsMF0sW2MsdSwwXSxbbCx1LDBdXX0ocix0LGUuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwsZixtKTtmb3IobGV0IGU9MDtlPGEubGVuZ3RoO2UrKylycChhW2VdLG5bZV0sRSk7Y29uc3QgaT1rbChbXSxuW3ldLG5bKHkrMSklNF0pO0RsKGksaSwuNSkscnAoVCxpLEUpfWZvcihjb25zdCBlIG9mIGEpUGwoYyxjLGUpLHpsKGwsbCxlKTtyZXR1cm4gY1syXT1NYXRoLm1pbih4WzJdLGJbMl0pLFBsKGMsYyxUKSx6bChsLGwsVCksbmV3IHRjKGMsbCl9KGUsdCxuZXcgQnUocixuLGkpKTtjb25zdCBjPWJwKHt6OnIseDpuLHk6aX0sbCk7cmV0dXJuIG5ldyB0YyhbKG8rYy54L2Muc2NhbGUpKnQsdCooYy55L2Muc2NhbGUpLGFdLFsobytjLngyL2Muc2NhbGUpKnQsdCooYy55Mi9jLnNjYWxlKSxzXSl9LGUudGlsZUNvcm5lcnNUb0JvdW5kcz1vcCxlLnRpbGVUcmFuc2Zvcm09YnAsZS50cmFuc2Zvcm1NYXQzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj10WzBdLGk9dFsxXSxvPXRbMl07cmV0dXJuIGVbMF09bipyWzBdK2kqclszXStvKnJbNl0sZVsxXT1uKnJbMV0raSpyWzRdK28qcls3XSxlWzJdPW4qclsyXStpKnJbNV0rbypyWzhdLGV9LGUudHJhbnNmb3JtTWF0ND1GbCxlLnRyYW5zZm9ybU1hdDQkMT0kbCxlLnRyYW5zZm9ybVF1YXQ9amwsZS50cmFuc2l0aW9uVGlsZUFBQkJpbkVDRUY9bnAsZS50cmFuc2xhdGU9X2wsZS50cmFuc3Bvc2U9ZnVuY3Rpb24oZSx0KXtpZihlPT09dCl7dmFyIHI9dFsxXSxuPXRbMl0saT10WzVdO2VbMV09dFszXSxlWzJdPXRbNl0sZVszXT1yLGVbNV09dFs3XSxlWzZdPW4sZVs3XT1pfWVsc2UgZVswXT10WzBdLGVbMV09dFszXSxlWzJdPXRbNl0sZVszXT10WzFdLGVbNF09dFs0XSxlWzVdPXRbN10sZVs2XT10WzJdLGVbN109dFs1XSxlWzhdPXRbOF07cmV0dXJuIGV9LGUudHJpZ2dlclBsdWdpbkNvbXBsZXRpb25FdmVudD1FbyxlLnVuaXF1ZUlkPXosZS51cGRhdGVHbG9iZVZlcnRleE5vcm1hbD1mdW5jdGlvbihlLHQscixuLGkpe2NvbnN0IG89NSp0KzI7ZS5mbG9hdDMyW28rMF09cixlLmZsb2F0MzJbbysxXT1uLGUuZmxvYXQzMltvKzJdPWl9LGUudmFsaWRhdGVDdXN0b21TdHlsZUxheWVyPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9W10scj1lLmlkO3JldHVybiB2b2lkIDA9PT1yJiZ0LnB1c2goe21lc3NhZ2U6YGxheWVycy4ke3J9OiBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiaWRcImB9KSx2b2lkIDA9PT1lLnJlbmRlciYmdC5wdXNoKHttZXNzYWdlOmBsYXllcnMuJHtyfTogbWlzc2luZyByZXF1aXJlZCBtZXRob2QgXCJyZW5kZXJcImB9KSxlLnJlbmRlcmluZ01vZGUmJlwiMmRcIiE9PWUucmVuZGVyaW5nTW9kZSYmXCIzZFwiIT09ZS5yZW5kZXJpbmdNb2RlJiZ0LnB1c2goe21lc3NhZ2U6YGxheWVycy4ke3J9OiBwcm9wZXJ0eSBcInJlbmRlcmluZ01vZGVcIiBtdXN0IGJlIGVpdGhlciBcIjJkXCIgb3IgXCIzZFwiYH0pLHR9LGUudmFsaWRhdGVGaWx0ZXI9ZT0+U2kobGkoZSkpLGUudmFsaWRhdGVGb2c9ZT0+U2koeWkoZSkpLGUudmFsaWRhdGVMYXllcj1lPT5TaShkaShlKSksZS52YWxpZGF0ZUxpZ2h0PWU9PlNpKGdpKGUpKSxlLnZhbGlkYXRlU291cmNlPWU9PlNpKG1pKGUpKSxlLnZhbGlkYXRlU3R5bGU9d2ksZS52YWxpZGF0ZVRlcnJhaW49ZT0+U2koX2koZSkpLGUudmFsdWVzPUEsZS52ZWN0b3JUaWxlPW91LGUudmVyc2lvbj1uLGUud2Fybk9uY2U9VixlLndpbmRvdz1yLGUud3JhcD1NfSkpLGkoW1wiLi9zaGFyZWRcIl0sKGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoZSl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGV8fFwiYm9vbGVhblwiPT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGV8fG51bGw9PWUpcmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpO2lmKEFycmF5LmlzQXJyYXkoZSkpe2xldCByPVwiW1wiO2Zvcihjb25zdCBuIG9mIGUpcis9dChuKStcIixcIjtyZXR1cm4gcitcIl1cIn1sZXQgcj1cIntcIjtmb3IoY29uc3QgbiBvZiBPYmplY3Qua2V5cyhlKS5zb3J0KCkpcis9YCR7bn06JHt0KGVbbl0pfSxgO3JldHVybiByK1wifVwifWZ1bmN0aW9uIHIocil7bGV0IG49XCJcIjtmb3IoY29uc3QgaSBvZiBlLnJlZlByb3BlcnRpZXMpbis9XCIvXCIrdChyW2ldKTtyZXR1cm4gbn1jbGFzcyBue2NvbnN0cnVjdG9yKGUpe3RoaXMua2V5Q2FjaGU9e30sZSYmdGhpcy5yZXBsYWNlKGUpfXJlcGxhY2UoZSl7dGhpcy5fbGF5ZXJDb25maWdzPXt9LHRoaXMuX2xheWVycz17fSx0aGlzLnVwZGF0ZShlLFtdKX11cGRhdGUodCxuKXtmb3IoY29uc3QgciBvZiB0KXRoaXMuX2xheWVyQ29uZmlnc1tyLmlkXT1yLCh0aGlzLl9sYXllcnNbci5pZF09ZS5jcmVhdGVTdHlsZUxheWVyKHIpKS5jb21waWxlRmlsdGVyKCksdGhpcy5rZXlDYWNoZVtyLmlkXSYmZGVsZXRlIHRoaXMua2V5Q2FjaGVbci5pZF07Zm9yKGNvbnN0IGUgb2YgbilkZWxldGUgdGhpcy5rZXlDYWNoZVtlXSxkZWxldGUgdGhpcy5fbGF5ZXJDb25maWdzW2VdLGRlbGV0ZSB0aGlzLl9sYXllcnNbZV07dGhpcy5mYW1pbGllc0J5U291cmNlPXt9O2NvbnN0IGk9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPXt9O2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBvPXQmJnRbZVtpXS5pZF18fHIoZVtpXSk7dCYmKHRbZVtpXS5pZF09byk7bGV0IGE9bltvXTthfHwoYT1uW29dPVtdKSxhLnB1c2goZVtpXSl9Y29uc3QgaT1bXTtmb3IoY29uc3QgZSBpbiBuKWkucHVzaChuW2VdKTtyZXR1cm4gaX0oZS52YWx1ZXModGhpcy5fbGF5ZXJDb25maWdzKSx0aGlzLmtleUNhY2hlKTtmb3IoY29uc3QgZSBvZiBpKXtjb25zdCB0PWUubWFwKGU9PnRoaXMuX2xheWVyc1tlLmlkXSkscj10WzBdO2lmKFwibm9uZVwiPT09ci52aXNpYmlsaXR5KWNvbnRpbnVlO2NvbnN0IG49ci5zb3VyY2V8fFwiXCI7bGV0IGk9dGhpcy5mYW1pbGllc0J5U291cmNlW25dO2l8fChpPXRoaXMuZmFtaWxpZXNCeVNvdXJjZVtuXT17fSk7Y29uc3Qgbz1yLnNvdXJjZUxheWVyfHxcIl9nZW9qc29uVGlsZUxheWVyXCI7bGV0IGE9aVtvXTthfHwoYT1pW29dPVtdKSxhLnB1c2godCl9fX1jbGFzcyBpe2xvYWRUaWxlKHQscil7Y29uc3R7dWlkOm4sZW5jb2Rpbmc6aSxyYXdJbWFnZURhdGE6byxwYWRkaW5nOmEsYnVpbGRRdWFkVHJlZTpzfT10LGw9ZS53aW5kb3cuSW1hZ2VCaXRtYXAmJm8gaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZUJpdG1hcD90aGlzLmdldEltYWdlRGF0YShvLGEpOm87cihudWxsLG5ldyBlLkRFTURhdGEobixsLGksYTwxLHMpKX1nZXRJbWFnZURhdGEoZSx0KXt0aGlzLm9mZnNjcmVlbkNhbnZhcyYmdGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0fHwodGhpcy5vZmZzY3JlZW5DYW52YXM9bmV3IE9mZnNjcmVlbkNhbnZhcyhlLndpZHRoLGUuaGVpZ2h0KSx0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQ9dGhpcy5vZmZzY3JlZW5DYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpKSx0aGlzLm9mZnNjcmVlbkNhbnZhcy53aWR0aD1lLndpZHRoLHRoaXMub2Zmc2NyZWVuQ2FudmFzLmhlaWdodD1lLmhlaWdodCx0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKGUsMCwwLGUud2lkdGgsZS5oZWlnaHQpO2NvbnN0IHI9dGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0LmdldEltYWdlRGF0YSgtdCwtdCxlLndpZHRoKzIqdCxlLmhlaWdodCsyKnQpO3JldHVybiB0aGlzLm9mZnNjcmVlbkNhbnZhc0NvbnRleHQuY2xlYXJSZWN0KDAsMCx0aGlzLm9mZnNjcmVlbkNhbnZhcy53aWR0aCx0aGlzLm9mZnNjcmVlbkNhbnZhcy5oZWlnaHQpLHJ9fXZhciBvPWZ1bmN0aW9uIGUodCxyKXt2YXIgbixpPXQmJnQudHlwZTtpZihcIkZlYXR1cmVDb2xsZWN0aW9uXCI9PT1pKWZvcihuPTA7bjx0LmZlYXR1cmVzLmxlbmd0aDtuKyspZSh0LmZlYXR1cmVzW25dLHIpO2Vsc2UgaWYoXCJHZW9tZXRyeUNvbGxlY3Rpb25cIj09PWkpZm9yKG49MDtuPHQuZ2VvbWV0cmllcy5sZW5ndGg7bisrKWUodC5nZW9tZXRyaWVzW25dLHIpO2Vsc2UgaWYoXCJGZWF0dXJlXCI9PT1pKWUodC5nZW9tZXRyeSxyKTtlbHNlIGlmKFwiUG9seWdvblwiPT09aSlhKHQuY29vcmRpbmF0ZXMscik7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09aSlmb3Iobj0wO248dC5jb29yZGluYXRlcy5sZW5ndGg7bisrKWEodC5jb29yZGluYXRlc1tuXSxyKTtyZXR1cm4gdH07ZnVuY3Rpb24gYShlLHQpe2lmKDAhPT1lLmxlbmd0aCl7cyhlWzBdLHQpO2Zvcih2YXIgcj0xO3I8ZS5sZW5ndGg7cisrKXMoZVtyXSwhdCl9fWZ1bmN0aW9uIHMoZSx0KXtmb3IodmFyIHI9MCxuPTAsaT0wLG89ZS5sZW5ndGgsYT1vLTE7aTxvO2E9aSsrKXt2YXIgcz0oZVtpXVswXS1lW2FdWzBdKSooZVthXVsxXStlW2ldWzFdKSxsPXIrcztuKz1NYXRoLmFicyhyKT49TWF0aC5hYnMocyk/ci1sK3M6cy1sK3Iscj1sfXIrbj49MCE9ISF0JiZlLnJldmVyc2UoKX1jb25zdCBsPWUuVmVjdG9yVGlsZUZlYXR1cmUucHJvdG90eXBlLnRvR2VvSlNPTjtjbGFzcyBje2NvbnN0cnVjdG9yKHQpe3RoaXMuX2ZlYXR1cmU9dCx0aGlzLmV4dGVudD1lLkVYVEVOVCx0aGlzLnR5cGU9dC50eXBlLHRoaXMucHJvcGVydGllcz10LnRhZ3MsXCJpZFwiaW4gdCYmIWlzTmFOKHQuaWQpJiYodGhpcy5pZD1wYXJzZUludCh0LmlkLDEwKSl9bG9hZEdlb21ldHJ5KCl7aWYoMT09PXRoaXMuX2ZlYXR1cmUudHlwZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgciBvZiB0aGlzLl9mZWF0dXJlLmdlb21ldHJ5KXQucHVzaChbbmV3IGUucG9pbnRHZW9tZXRyeShyWzBdLHJbMV0pXSk7cmV0dXJuIHR9e2NvbnN0IHQ9W107Zm9yKGNvbnN0IHIgb2YgdGhpcy5fZmVhdHVyZS5nZW9tZXRyeSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgdCBvZiByKW4ucHVzaChuZXcgZS5wb2ludEdlb21ldHJ5KHRbMF0sdFsxXSkpO3QucHVzaChuKX1yZXR1cm4gdH19dG9HZW9KU09OKGUsdCxyKXtyZXR1cm4gbC5jYWxsKHRoaXMsZSx0LHIpfX1jbGFzcyB1e2NvbnN0cnVjdG9yKHQpe3RoaXMubGF5ZXJzPXtfZ2VvanNvblRpbGVMYXllcjp0aGlzfSx0aGlzLm5hbWU9XCJfZ2VvanNvblRpbGVMYXllclwiLHRoaXMuZXh0ZW50PWUuRVhURU5ULHRoaXMubGVuZ3RoPXQubGVuZ3RoLHRoaXMuX2ZlYXR1cmVzPXR9ZmVhdHVyZShlKXtyZXR1cm4gbmV3IGModGhpcy5fZmVhdHVyZXNbZV0pfX12YXIgaD17ZXhwb3J0czp7fX0sZD1lLnBvaW50R2VvbWV0cnkscD1lLnZlY3RvclRpbGUuVmVjdG9yVGlsZUZlYXR1cmUsZj1tO2Z1bmN0aW9uIG0oZSx0KXt0aGlzLm9wdGlvbnM9dHx8e30sdGhpcy5mZWF0dXJlcz1lLHRoaXMubGVuZ3RoPWUubGVuZ3RofWZ1bmN0aW9uIGcoZSx0KXt0aGlzLmlkPVwibnVtYmVyXCI9PXR5cGVvZiBlLmlkP2UuaWQ6dm9pZCAwLHRoaXMudHlwZT1lLnR5cGUsdGhpcy5yYXdHZW9tZXRyeT0xPT09ZS50eXBlP1tlLmdlb21ldHJ5XTplLmdlb21ldHJ5LHRoaXMucHJvcGVydGllcz1lLnRhZ3MsdGhpcy5leHRlbnQ9dHx8NDA5Nn1tLnByb3RvdHlwZS5mZWF0dXJlPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgZyh0aGlzLmZlYXR1cmVzW2VdLHRoaXMub3B0aW9ucy5leHRlbnQpfSxnLnByb3RvdHlwZS5sb2FkR2VvbWV0cnk9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJhd0dlb21ldHJ5O3RoaXMuZ2VvbWV0cnk9W107Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe2Zvcih2YXIgcj1lW3RdLG49W10saT0wO2k8ci5sZW5ndGg7aSsrKW4ucHVzaChuZXcgZChyW2ldWzBdLHJbaV1bMV0pKTt0aGlzLmdlb21ldHJ5LnB1c2gobil9cmV0dXJuIHRoaXMuZ2VvbWV0cnl9LGcucHJvdG90eXBlLmJib3g9ZnVuY3Rpb24oKXt0aGlzLmdlb21ldHJ5fHx0aGlzLmxvYWRHZW9tZXRyeSgpO2Zvcih2YXIgZT10aGlzLmdlb21ldHJ5LHQ9MS8wLHI9LTEvMCxuPTEvMCxpPS0xLzAsbz0wO288ZS5sZW5ndGg7bysrKWZvcih2YXIgYT1lW29dLHM9MDtzPGEubGVuZ3RoO3MrKyl7dmFyIGw9YVtzXTt0PU1hdGgubWluKHQsbC54KSxyPU1hdGgubWF4KHIsbC54KSxuPU1hdGgubWluKG4sbC55KSxpPU1hdGgubWF4KGksbC55KX1yZXR1cm5bdCxuLHIsaV19LGcucHJvdG90eXBlLnRvR2VvSlNPTj1wLnByb3RvdHlwZS50b0dlb0pTT047dmFyIF89ZS5wYmYseT1mO2Z1bmN0aW9uIHYoZSl7dmFyIHQ9bmV3IF87cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByIGluIGUubGF5ZXJzKXQud3JpdGVNZXNzYWdlKDMseCxlLmxheWVyc1tyXSl9KGUsdCksdC5maW5pc2goKX1mdW5jdGlvbiB4KGUsdCl7dmFyIHI7dC53cml0ZVZhcmludEZpZWxkKDE1LGUudmVyc2lvbnx8MSksdC53cml0ZVN0cmluZ0ZpZWxkKDEsZS5uYW1lfHxcIlwiKSx0LndyaXRlVmFyaW50RmllbGQoNSxlLmV4dGVudHx8NDA5Nik7dmFyIG49e2tleXM6W10sdmFsdWVzOltdLGtleWNhY2hlOnt9LHZhbHVlY2FjaGU6e319O2ZvcihyPTA7cjxlLmxlbmd0aDtyKyspbi5mZWF0dXJlPWUuZmVhdHVyZShyKSx0LndyaXRlTWVzc2FnZSgyLGIsbik7dmFyIGk9bi5rZXlzO2ZvcihyPTA7cjxpLmxlbmd0aDtyKyspdC53cml0ZVN0cmluZ0ZpZWxkKDMsaVtyXSk7dmFyIG89bi52YWx1ZXM7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyl0LndyaXRlTWVzc2FnZSg0LEMsb1tyXSl9ZnVuY3Rpb24gYihlLHQpe3ZhciByPWUuZmVhdHVyZTt2b2lkIDAhPT1yLmlkJiZ0LndyaXRlVmFyaW50RmllbGQoMSxyLmlkKSx0LndyaXRlTWVzc2FnZSgyLHcsZSksdC53cml0ZVZhcmludEZpZWxkKDMsci50eXBlKSx0LndyaXRlTWVzc2FnZSg0LFMscil9ZnVuY3Rpb24gdyhlLHQpe3ZhciByPWUuZmVhdHVyZSxuPWUua2V5cyxpPWUudmFsdWVzLG89ZS5rZXljYWNoZSxhPWUudmFsdWVjYWNoZTtmb3IodmFyIHMgaW4gci5wcm9wZXJ0aWVzKXt2YXIgbD1yLnByb3BlcnRpZXNbc10sYz1vW3NdO2lmKG51bGwhPT1sKXt2b2lkIDA9PT1jJiYobi5wdXNoKHMpLG9bc109Yz1uLmxlbmd0aC0xKSx0LndyaXRlVmFyaW50KGMpO3ZhciB1PXR5cGVvZiBsO1wic3RyaW5nXCIhPT11JiZcImJvb2xlYW5cIiE9PXUmJlwibnVtYmVyXCIhPT11JiYobD1KU09OLnN0cmluZ2lmeShsKSk7dmFyIGg9dStcIjpcIitsLGQ9YVtoXTt2b2lkIDA9PT1kJiYoaS5wdXNoKGwpLGFbaF09ZD1pLmxlbmd0aC0xKSx0LndyaXRlVmFyaW50KGQpfX19ZnVuY3Rpb24gVChlLHQpe3JldHVybih0PDwzKSsoNyZlKX1mdW5jdGlvbiBFKGUpe3JldHVybiBlPDwxXmU+PjMxfWZ1bmN0aW9uIFMoZSx0KXtmb3IodmFyIHI9ZS5sb2FkR2VvbWV0cnkoKSxuPWUudHlwZSxpPTAsbz0wLGE9ci5sZW5ndGgscz0wO3M8YTtzKyspe3ZhciBsPXJbc10sYz0xOzE9PT1uJiYoYz1sLmxlbmd0aCksdC53cml0ZVZhcmludChUKDEsYykpO2Zvcih2YXIgdT0zPT09bj9sLmxlbmd0aC0xOmwubGVuZ3RoLGg9MDtoPHU7aCsrKXsxPT09aCYmMSE9PW4mJnQud3JpdGVWYXJpbnQoVCgyLHUtMSkpO3ZhciBkPWxbaF0ueC1pLHA9bFtoXS55LW87dC53cml0ZVZhcmludChFKGQpKSx0LndyaXRlVmFyaW50KEUocCkpLGkrPWQsbys9cH0zPT09biYmdC53cml0ZVZhcmludChUKDcsMSkpfX1mdW5jdGlvbiBDKGUsdCl7dmFyIHI9dHlwZW9mIGU7XCJzdHJpbmdcIj09PXI/dC53cml0ZVN0cmluZ0ZpZWxkKDEsZSk6XCJib29sZWFuXCI9PT1yP3Qud3JpdGVCb29sZWFuRmllbGQoNyxlKTpcIm51bWJlclwiPT09ciYmKGUlMSE9MD90LndyaXRlRG91YmxlRmllbGQoMyxlKTplPDA/dC53cml0ZVNWYXJpbnRGaWVsZCg2LGUpOnQud3JpdGVWYXJpbnRGaWVsZCg1LGUpKX1mdW5jdGlvbiBNKGUsdCxyLG4saSxvKXtpZihpLW48PXIpcmV0dXJuO2NvbnN0IGE9bitpPj4xOyhmdW5jdGlvbiBlKHQscixuLGksbyxhKXtmb3IoO28+aTspe2lmKG8taT42MDApe2NvbnN0IHM9by1pKzEsbD1uLWkrMSxjPU1hdGgubG9nKHMpLHU9LjUqTWF0aC5leHAoMipjLzMpLGg9LjUqTWF0aC5zcXJ0KGMqdSoocy11KS9zKSoobC1zLzI8MD8tMToxKTtlKHQscixuLE1hdGgubWF4KGksTWF0aC5mbG9vcihuLWwqdS9zK2gpKSxNYXRoLm1pbihvLE1hdGguZmxvb3Iobisocy1sKSp1L3MraCkpLGEpfWNvbnN0IHM9clsyKm4rYV07bGV0IGw9aSxjPW87Zm9yKGsodCxyLGksbiksclsyKm8rYV0+cyYmayh0LHIsaSxvKTtsPGM7KXtmb3Ioayh0LHIsbCxjKSxsKyssYy0tO3JbMipsK2FdPHM7KWwrKztmb3IoO3JbMipjK2FdPnM7KWMtLX1yWzIqaSthXT09PXM/ayh0LHIsaSxjKTooYysrLGsodCxyLGMsbykpLGM8PW4mJihpPWMrMSksbjw9YyYmKG89Yy0xKX19KShlLHQsYSxuLGksbyUyKSxNKGUsdCxyLG4sYS0xLG8rMSksTShlLHQscixhKzEsaSxvKzEpfWZ1bmN0aW9uIGsoZSx0LHIsbil7QShlLHIsbiksQSh0LDIqciwyKm4pLEEodCwyKnIrMSwyKm4rMSl9ZnVuY3Rpb24gQShlLHQscil7Y29uc3Qgbj1lW3RdO2VbdF09ZVtyXSxlW3JdPW59ZnVuY3Rpb24gSShlLHQscixuKXtjb25zdCBpPWUtcixvPXQtbjtyZXR1cm4gaSppK28qb31oLmV4cG9ydHM9dixoLmV4cG9ydHMuZnJvbVZlY3RvclRpbGVKcz12LGguZXhwb3J0cy5mcm9tR2VvanNvblZ0PWZ1bmN0aW9uKGUsdCl7dD10fHx7fTt2YXIgcj17fTtmb3IodmFyIG4gaW4gZSlyW25dPW5ldyB5KGVbbl0uZmVhdHVyZXMsdCkscltuXS5uYW1lPW4scltuXS52ZXJzaW9uPXQudmVyc2lvbixyW25dLmV4dGVudD10LmV4dGVudDtyZXR1cm4gdih7bGF5ZXJzOnJ9KX0saC5leHBvcnRzLkdlb0pTT05XcmFwcGVyPXk7Y29uc3QgUD1lPT5lWzBdLHo9ZT0+ZVsxXTtjbGFzcyBEe2NvbnN0cnVjdG9yKGUsdD1QLHI9eixuPTY0LGk9RmxvYXQ2NEFycmF5KXt0aGlzLm5vZGVTaXplPW4sdGhpcy5wb2ludHM9ZTtjb25zdCBvPWUubGVuZ3RoPDY1NTM2P1VpbnQxNkFycmF5OlVpbnQzMkFycmF5LGE9dGhpcy5pZHM9bmV3IG8oZS5sZW5ndGgpLHM9dGhpcy5jb29yZHM9bmV3IGkoMiplLmxlbmd0aCk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspYVtuXT1uLHNbMipuXT10KGVbbl0pLHNbMipuKzFdPXIoZVtuXSk7TShhLHMsbiwwLGEubGVuZ3RoLTEsMCl9cmFuZ2UoZSx0LHIsbil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyLG4saSxvLGEpe2NvbnN0IHM9WzAsZS5sZW5ndGgtMSwwXSxsPVtdO2xldCBjLHU7Zm9yKDtzLmxlbmd0aDspe2NvbnN0IGg9cy5wb3AoKSxkPXMucG9wKCkscD1zLnBvcCgpO2lmKGQtcDw9YSl7Zm9yKGxldCBhPXA7YTw9ZDthKyspYz10WzIqYV0sdT10WzIqYSsxXSxjPj1yJiZjPD1pJiZ1Pj1uJiZ1PD1vJiZsLnB1c2goZVthXSk7Y29udGludWV9Y29uc3QgZj1NYXRoLmZsb29yKChwK2QpLzIpO2M9dFsyKmZdLHU9dFsyKmYrMV0sYz49ciYmYzw9aSYmdT49biYmdTw9byYmbC5wdXNoKGVbZl0pO2NvbnN0IG09KGgrMSklMjsoMD09PWg/cjw9YzpuPD11KSYmKHMucHVzaChwKSxzLnB1c2goZi0xKSxzLnB1c2gobSkpLCgwPT09aD9pPj1jOm8+PXUpJiYocy5wdXNoKGYrMSkscy5wdXNoKGQpLHMucHVzaChtKSl9cmV0dXJuIGx9KHRoaXMuaWRzLHRoaXMuY29vcmRzLGUsdCxyLG4sdGhpcy5ub2RlU2l6ZSl9d2l0aGluKGUsdCxyKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbixpLG8pe2NvbnN0IGE9WzAsZS5sZW5ndGgtMSwwXSxzPVtdLGw9aSppO2Zvcig7YS5sZW5ndGg7KXtjb25zdCBjPWEucG9wKCksdT1hLnBvcCgpLGg9YS5wb3AoKTtpZih1LWg8PW8pe2ZvcihsZXQgaT1oO2k8PXU7aSsrKUkodFsyKmldLHRbMippKzFdLHIsbik8PWwmJnMucHVzaChlW2ldKTtjb250aW51ZX1jb25zdCBkPU1hdGguZmxvb3IoKGgrdSkvMikscD10WzIqZF0sZj10WzIqZCsxXTtJKHAsZixyLG4pPD1sJiZzLnB1c2goZVtkXSk7Y29uc3QgbT0oYysxKSUyOygwPT09Yz9yLWk8PXA6bi1pPD1mKSYmKGEucHVzaChoKSxhLnB1c2goZC0xKSxhLnB1c2gobSkpLCgwPT09Yz9yK2k+PXA6bitpPj1mKSYmKGEucHVzaChkKzEpLGEucHVzaCh1KSxhLnB1c2gobSkpfXJldHVybiBzfSh0aGlzLmlkcyx0aGlzLmNvb3JkcyxlLHQscix0aGlzLm5vZGVTaXplKX19Y29uc3QgUj17bWluWm9vbTowLG1heFpvb206MTYsbWluUG9pbnRzOjIscmFkaXVzOjQwLGV4dGVudDo1MTIsbm9kZVNpemU6NjQsbG9nOiExLGdlbmVyYXRlSWQ6ITEscmVkdWNlOm51bGwsbWFwOmU9PmV9LEw9TWF0aC5mcm91bmR8fChPPW5ldyBGbG9hdDMyQXJyYXkoMSksZT0+KE9bMF09K2UsT1swXSkpO3ZhciBPO2NsYXNzIEJ7Y29uc3RydWN0b3IoZSl7dGhpcy5vcHRpb25zPVooT2JqZWN0LmNyZWF0ZShSKSxlKSx0aGlzLnRyZWVzPW5ldyBBcnJheSh0aGlzLm9wdGlvbnMubWF4Wm9vbSsxKX1sb2FkKGUpe2NvbnN0e2xvZzp0LG1pblpvb206cixtYXhab29tOm4sbm9kZVNpemU6aX09dGhpcy5vcHRpb25zO3QmJmNvbnNvbGUudGltZShcInRvdGFsIHRpbWVcIik7Y29uc3Qgbz1gcHJlcGFyZSAke2UubGVuZ3RofSBwb2ludHNgO3QmJmNvbnNvbGUudGltZShvKSx0aGlzLnBvaW50cz1lO2xldCBhPVtdO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF0uZ2VvbWV0cnkmJmEucHVzaChqKGVbdF0sdCkpO3RoaXMudHJlZXNbbisxXT1uZXcgRChhLCQsVyxpLEZsb2F0MzJBcnJheSksdCYmY29uc29sZS50aW1lRW5kKG8pO2ZvcihsZXQgZT1uO2U+PXI7ZS0tKXtjb25zdCByPStEYXRlLm5vdygpO2E9dGhpcy5fY2x1c3RlcihhLGUpLHRoaXMudHJlZXNbZV09bmV3IEQoYSwkLFcsaSxGbG9hdDMyQXJyYXkpLHQmJmNvbnNvbGUubG9nKFwieiVkOiAlZCBjbHVzdGVycyBpbiAlZG1zXCIsZSxhLmxlbmd0aCwrRGF0ZS5ub3coKS1yKX1yZXR1cm4gdCYmY29uc29sZS50aW1lRW5kKFwidG90YWwgdGltZVwiKSx0aGlzfWdldENsdXN0ZXJzKGUsdCl7bGV0IHI9KChlWzBdKzE4MCklMzYwKzM2MCklMzYwLTE4MDtjb25zdCBuPU1hdGgubWF4KC05MCxNYXRoLm1pbig5MCxlWzFdKSk7bGV0IGk9MTgwPT09ZVsyXT8xODA6KChlWzJdKzE4MCklMzYwKzM2MCklMzYwLTE4MDtjb25zdCBvPU1hdGgubWF4KC05MCxNYXRoLm1pbig5MCxlWzNdKSk7aWYoZVsyXS1lWzBdPj0zNjApcj0tMTgwLGk9MTgwO2Vsc2UgaWYocj5pKXtjb25zdCBlPXRoaXMuZ2V0Q2x1c3RlcnMoW3IsbiwxODAsb10sdCksYT10aGlzLmdldENsdXN0ZXJzKFstMTgwLG4saSxvXSx0KTtyZXR1cm4gZS5jb25jYXQoYSl9Y29uc3QgYT10aGlzLnRyZWVzW3RoaXMuX2xpbWl0Wm9vbSh0KV0scz1hLnJhbmdlKFYociksRyhvKSxWKGkpLEcobikpLGw9W107Zm9yKGNvbnN0IGUgb2Ygcyl7Y29uc3QgdD1hLnBvaW50c1tlXTtsLnB1c2godC5udW1Qb2ludHM/VSh0KTp0aGlzLnBvaW50c1t0LmluZGV4XSl9cmV0dXJuIGx9Z2V0Q2hpbGRyZW4oZSl7Y29uc3QgdD10aGlzLl9nZXRPcmlnaW5JZChlKSxyPXRoaXMuX2dldE9yaWdpblpvb20oZSksbj1cIk5vIGNsdXN0ZXIgd2l0aCB0aGUgc3BlY2lmaWVkIGlkLlwiLGk9dGhpcy50cmVlc1tyXTtpZighaSl0aHJvdyBuZXcgRXJyb3Iobik7Y29uc3Qgbz1pLnBvaW50c1t0XTtpZighbyl0aHJvdyBuZXcgRXJyb3Iobik7Y29uc3QgYT10aGlzLm9wdGlvbnMucmFkaXVzLyh0aGlzLm9wdGlvbnMuZXh0ZW50Kk1hdGgucG93KDIsci0xKSkscz1pLndpdGhpbihvLngsby55LGEpLGw9W107Zm9yKGNvbnN0IHQgb2Ygcyl7Y29uc3Qgcj1pLnBvaW50c1t0XTtyLnBhcmVudElkPT09ZSYmbC5wdXNoKHIubnVtUG9pbnRzP1Uocik6dGhpcy5wb2ludHNbci5pbmRleF0pfWlmKDA9PT1sLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3Iobik7cmV0dXJuIGx9Z2V0TGVhdmVzKGUsdCxyKXtjb25zdCBuPVtdO3JldHVybiB0aGlzLl9hcHBlbmRMZWF2ZXMobixlLHQ9dHx8MTAscj1yfHwwLDApLG59Z2V0VGlsZShlLHQscil7Y29uc3Qgbj10aGlzLnRyZWVzW3RoaXMuX2xpbWl0Wm9vbShlKV0saT1NYXRoLnBvdygyLGUpLHtleHRlbnQ6byxyYWRpdXM6YX09dGhpcy5vcHRpb25zLHM9YS9vLGw9KHItcykvaSxjPShyKzErcykvaSx1PXtmZWF0dXJlczpbXX07cmV0dXJuIHRoaXMuX2FkZFRpbGVGZWF0dXJlcyhuLnJhbmdlKCh0LXMpL2ksbCwodCsxK3MpL2ksYyksbi5wb2ludHMsdCxyLGksdSksMD09PXQmJnRoaXMuX2FkZFRpbGVGZWF0dXJlcyhuLnJhbmdlKDEtcy9pLGwsMSxjKSxuLnBvaW50cyxpLHIsaSx1KSx0PT09aS0xJiZ0aGlzLl9hZGRUaWxlRmVhdHVyZXMobi5yYW5nZSgwLGwscy9pLGMpLG4ucG9pbnRzLC0xLHIsaSx1KSx1LmZlYXR1cmVzLmxlbmd0aD91Om51bGx9Z2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZSl7bGV0IHQ9dGhpcy5fZ2V0T3JpZ2luWm9vbShlKS0xO2Zvcig7dDw9dGhpcy5vcHRpb25zLm1heFpvb207KXtjb25zdCByPXRoaXMuZ2V0Q2hpbGRyZW4oZSk7aWYodCsrLDEhPT1yLmxlbmd0aClicmVhaztlPXJbMF0ucHJvcGVydGllcy5jbHVzdGVyX2lkfXJldHVybiB0fV9hcHBlbmRMZWF2ZXMoZSx0LHIsbixpKXtjb25zdCBvPXRoaXMuZ2V0Q2hpbGRyZW4odCk7Zm9yKGNvbnN0IHQgb2Ygbyl7Y29uc3Qgbz10LnByb3BlcnRpZXM7aWYobyYmby5jbHVzdGVyP2krby5wb2ludF9jb3VudDw9bj9pKz1vLnBvaW50X2NvdW50Omk9dGhpcy5fYXBwZW5kTGVhdmVzKGUsby5jbHVzdGVyX2lkLHIsbixpKTppPG4/aSsrOmUucHVzaCh0KSxlLmxlbmd0aD09PXIpYnJlYWt9cmV0dXJuIGl9X2FkZFRpbGVGZWF0dXJlcyhlLHQscixuLGksbyl7Zm9yKGNvbnN0IGEgb2YgZSl7Y29uc3QgZT10W2FdLHM9ZS5udW1Qb2ludHM7bGV0IGwsYyx1O2lmKHMpbD1OKGUpLGM9ZS54LHU9ZS55O2Vsc2V7Y29uc3QgdD10aGlzLnBvaW50c1tlLmluZGV4XTtsPXQucHJvcGVydGllcyxjPVYodC5nZW9tZXRyeS5jb29yZGluYXRlc1swXSksdT1HKHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV0pfWNvbnN0IGg9e3R5cGU6MSxnZW9tZXRyeTpbW01hdGgucm91bmQodGhpcy5vcHRpb25zLmV4dGVudCooYyppLXIpKSxNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5leHRlbnQqKHUqaS1uKSldXSx0YWdzOmx9O2xldCBkO3M/ZD1lLmlkOnRoaXMub3B0aW9ucy5nZW5lcmF0ZUlkP2Q9ZS5pbmRleDp0aGlzLnBvaW50c1tlLmluZGV4XS5pZCYmKGQ9dGhpcy5wb2ludHNbZS5pbmRleF0uaWQpLHZvaWQgMCE9PWQmJihoLmlkPWQpLG8uZmVhdHVyZXMucHVzaChoKX19X2xpbWl0Wm9vbShlKXtyZXR1cm4gTWF0aC5tYXgodGhpcy5vcHRpb25zLm1pblpvb20sTWF0aC5taW4oTWF0aC5mbG9vcigrZSksdGhpcy5vcHRpb25zLm1heFpvb20rMSkpfV9jbHVzdGVyKGUsdCl7Y29uc3Qgcj1bXSx7cmFkaXVzOm4sZXh0ZW50OmkscmVkdWNlOm8sbWluUG9pbnRzOmF9PXRoaXMub3B0aW9ucyxzPW4vKGkqTWF0aC5wb3coMix0KSk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspe2NvbnN0IGk9ZVtuXTtpZihpLnpvb208PXQpY29udGludWU7aS56b29tPXQ7Y29uc3QgbD10aGlzLnRyZWVzW3QrMV0sYz1sLndpdGhpbihpLngsaS55LHMpLHU9aS5udW1Qb2ludHN8fDE7bGV0IGg9dTtmb3IoY29uc3QgZSBvZiBjKXtjb25zdCByPWwucG9pbnRzW2VdO3Iuem9vbT50JiYoaCs9ci5udW1Qb2ludHN8fDEpfWlmKGg+dSYmaD49YSl7bGV0IGU9aS54KnUsYT1pLnkqdSxzPW8mJnU+MT90aGlzLl9tYXAoaSwhMCk6bnVsbDtjb25zdCBkPShuPDw1KSsodCsxKSt0aGlzLnBvaW50cy5sZW5ndGg7Zm9yKGNvbnN0IHIgb2YgYyl7Y29uc3Qgbj1sLnBvaW50c1tyXTtpZihuLnpvb208PXQpY29udGludWU7bi56b29tPXQ7Y29uc3QgYz1uLm51bVBvaW50c3x8MTtlKz1uLngqYyxhKz1uLnkqYyxuLnBhcmVudElkPWQsbyYmKHN8fChzPXRoaXMuX21hcChpLCEwKSksbyhzLHRoaXMuX21hcChuKSkpfWkucGFyZW50SWQ9ZCxyLnB1c2goRihlL2gsYS9oLGQsaCxzKSl9ZWxzZSBpZihyLnB1c2goaSksaD4xKWZvcihjb25zdCBlIG9mIGMpe2NvbnN0IG49bC5wb2ludHNbZV07bi56b29tPD10fHwobi56b29tPXQsci5wdXNoKG4pKX19cmV0dXJuIHJ9X2dldE9yaWdpbklkKGUpe3JldHVybiBlLXRoaXMucG9pbnRzLmxlbmd0aD4+NX1fZ2V0T3JpZ2luWm9vbShlKXtyZXR1cm4oZS10aGlzLnBvaW50cy5sZW5ndGgpJTMyfV9tYXAoZSx0KXtpZihlLm51bVBvaW50cylyZXR1cm4gdD9aKHt9LGUucHJvcGVydGllcyk6ZS5wcm9wZXJ0aWVzO2NvbnN0IHI9dGhpcy5wb2ludHNbZS5pbmRleF0ucHJvcGVydGllcyxuPXRoaXMub3B0aW9ucy5tYXAocik7cmV0dXJuIHQmJm49PT1yP1ooe30sbik6bn19ZnVuY3Rpb24gRihlLHQscixuLGkpe3JldHVybnt4OkwoZSkseTpMKHQpLHpvb206MS8wLGlkOnIscGFyZW50SWQ6LTEsbnVtUG9pbnRzOm4scHJvcGVydGllczppfX1mdW5jdGlvbiBqKGUsdCl7Y29uc3RbcixuXT1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzO3JldHVybnt4OkwoVihyKSkseTpMKEcobikpLHpvb206MS8wLGluZGV4OnQscGFyZW50SWQ6LTF9fWZ1bmN0aW9uIFUoZSl7cmV0dXJue3R5cGU6XCJGZWF0dXJlXCIsaWQ6ZS5pZCxwcm9wZXJ0aWVzOk4oZSksZ2VvbWV0cnk6e3R5cGU6XCJQb2ludFwiLGNvb3JkaW5hdGVzOlsodD1lLngsMzYwKih0LS41KSkscShlLnkpXX19O3ZhciB0fWZ1bmN0aW9uIE4oZSl7Y29uc3QgdD1lLm51bVBvaW50cyxyPXQ+PTFlND9NYXRoLnJvdW5kKHQvMWUzKStcImtcIjp0Pj0xZTM/TWF0aC5yb3VuZCh0LzEwMCkvMTArXCJrXCI6dDtyZXR1cm4gWihaKHt9LGUucHJvcGVydGllcykse2NsdXN0ZXI6ITAsY2x1c3Rlcl9pZDplLmlkLHBvaW50X2NvdW50OnQscG9pbnRfY291bnRfYWJicmV2aWF0ZWQ6cn0pfWZ1bmN0aW9uIFYoZSl7cmV0dXJuIGUvMzYwKy41fWZ1bmN0aW9uIEcoZSl7Y29uc3QgdD1NYXRoLnNpbihlKk1hdGguUEkvMTgwKSxyPS41LS4yNSpNYXRoLmxvZygoMSt0KS8oMS10KSkvTWF0aC5QSTtyZXR1cm4gcjwwPzA6cj4xPzE6cn1mdW5jdGlvbiBxKGUpe2NvbnN0IHQ9KDE4MC0zNjAqZSkqTWF0aC5QSS8xODA7cmV0dXJuIDM2MCpNYXRoLmF0YW4oTWF0aC5leHAodCkpL01hdGguUEktOTB9ZnVuY3Rpb24gWihlLHQpe2Zvcihjb25zdCByIGluIHQpZVtyXT10W3JdO3JldHVybiBlfWZ1bmN0aW9uICQoZSl7cmV0dXJuIGUueH1mdW5jdGlvbiBXKGUpe3JldHVybiBlLnl9ZnVuY3Rpb24gWChlLHQscixuLGksbyl7dmFyIGE9aS1yLHM9by1uO2lmKDAhPT1hfHwwIT09cyl7dmFyIGw9KChlLXIpKmErKHQtbikqcykvKGEqYStzKnMpO2w+MT8ocj1pLG49byk6bD4wJiYocis9YSpsLG4rPXMqbCl9cmV0dXJuKGE9ZS1yKSphKyhzPXQtbikqc31mdW5jdGlvbiBIKGUsdCxyLG4pe3ZhciBpPXtpZDp2b2lkIDA9PT1lP251bGw6ZSx0eXBlOnQsZ2VvbWV0cnk6cix0YWdzOm4sbWluWDoxLzAsbWluWToxLzAsbWF4WDotMS8wLG1heFk6LTEvMH07cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUuZ2VvbWV0cnkscj1lLnR5cGU7aWYoXCJQb2ludFwiPT09cnx8XCJNdWx0aVBvaW50XCI9PT1yfHxcIkxpbmVTdHJpbmdcIj09PXIpWShlLHQpO2Vsc2UgaWYoXCJQb2x5Z29uXCI9PT1yfHxcIk11bHRpTGluZVN0cmluZ1wiPT09cilmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKylZKGUsdFtuXSk7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09cilmb3Iobj0wO248dC5sZW5ndGg7bisrKWZvcih2YXIgaT0wO2k8dFtuXS5sZW5ndGg7aSsrKVkoZSx0W25dW2ldKX0oaSksaX1mdW5jdGlvbiBZKGUsdCl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKz0zKWUubWluWD1NYXRoLm1pbihlLm1pblgsdFtyXSksZS5taW5ZPU1hdGgubWluKGUubWluWSx0W3IrMV0pLGUubWF4WD1NYXRoLm1heChlLm1heFgsdFtyXSksZS5tYXhZPU1hdGgubWF4KGUubWF4WSx0W3IrMV0pfWZ1bmN0aW9uIEsoZSx0LHIsbil7aWYodC5nZW9tZXRyeSl7dmFyIGk9dC5nZW9tZXRyeS5jb29yZGluYXRlcyxvPXQuZ2VvbWV0cnkudHlwZSxhPU1hdGgucG93KHIudG9sZXJhbmNlLygoMTw8ci5tYXhab29tKSpyLmV4dGVudCksMikscz1bXSxsPXQuaWQ7aWYoci5wcm9tb3RlSWQ/bD10LnByb3BlcnRpZXNbci5wcm9tb3RlSWRdOnIuZ2VuZXJhdGVJZCYmKGw9bnx8MCksXCJQb2ludFwiPT09bylKKGkscyk7ZWxzZSBpZihcIk11bHRpUG9pbnRcIj09PW8pZm9yKHZhciBjPTA7YzxpLmxlbmd0aDtjKyspSihpW2NdLHMpO2Vsc2UgaWYoXCJMaW5lU3RyaW5nXCI9PT1vKVEoaSxzLGEsITEpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PW8pe2lmKHIubGluZU1ldHJpY3Mpe2ZvcihjPTA7YzxpLmxlbmd0aDtjKyspUShpW2NdLHM9W10sYSwhMSksZS5wdXNoKEgobCxcIkxpbmVTdHJpbmdcIixzLHQucHJvcGVydGllcykpO3JldHVybn1lZShpLHMsYSwhMSl9ZWxzZSBpZihcIlBvbHlnb25cIj09PW8pZWUoaSxzLGEsITApO2Vsc2V7aWYoXCJNdWx0aVBvbHlnb25cIiE9PW8pe2lmKFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI9PT1vKXtmb3IoYz0wO2M8dC5nZW9tZXRyeS5nZW9tZXRyaWVzLmxlbmd0aDtjKyspSyhlLHtpZDpsLGdlb21ldHJ5OnQuZ2VvbWV0cnkuZ2VvbWV0cmllc1tjXSxwcm9wZXJ0aWVzOnQucHJvcGVydGllc30scixuKTtyZXR1cm59dGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgZGF0YSBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC5cIil9Zm9yKGM9MDtjPGkubGVuZ3RoO2MrKyl7dmFyIHU9W107ZWUoaVtjXSx1LGEsITApLHMucHVzaCh1KX19ZS5wdXNoKEgobCxvLHMsdC5wcm9wZXJ0aWVzKSl9fWZ1bmN0aW9uIEooZSx0KXt0LnB1c2godGUoZVswXSkpLHQucHVzaChyZShlWzFdKSksdC5wdXNoKDApfWZ1bmN0aW9uIFEoZSx0LHIsbil7Zm9yKHZhciBpLG8sYT0wLHM9MDtzPGUubGVuZ3RoO3MrKyl7dmFyIGw9dGUoZVtzXVswXSksYz1yZShlW3NdWzFdKTt0LnB1c2gobCksdC5wdXNoKGMpLHQucHVzaCgwKSxzPjAmJihhKz1uPyhpKmMtbCpvKS8yOk1hdGguc3FydChNYXRoLnBvdyhsLWksMikrTWF0aC5wb3coYy1vLDIpKSksaT1sLG89Y312YXIgdT10Lmxlbmd0aC0zO3RbMl09MSxmdW5jdGlvbiBlKHQscixuLGkpe2Zvcih2YXIgbyxhPWkscz1uLXI+PjEsbD1uLXIsYz10W3JdLHU9dFtyKzFdLGg9dFtuXSxkPXRbbisxXSxwPXIrMztwPG47cCs9Myl7dmFyIGY9WCh0W3BdLHRbcCsxXSxjLHUsaCxkKTtpZihmPmEpbz1wLGE9ZjtlbHNlIGlmKGY9PT1hKXt2YXIgbT1NYXRoLmFicyhwLXMpO208bCYmKG89cCxsPW0pfX1hPmkmJihvLXI+MyYmZSh0LHIsbyxpKSx0W28rMl09YSxuLW8+MyYmZSh0LG8sbixpKSl9KHQsMCx1LHIpLHRbdSsyXT0xLHQuc2l6ZT1NYXRoLmFicyhhKSx0LnN0YXJ0PTAsdC5lbmQ9dC5zaXplfWZ1bmN0aW9uIGVlKGUsdCxyLG4pe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgbz1bXTtRKGVbaV0sbyxyLG4pLHQucHVzaChvKX19ZnVuY3Rpb24gdGUoZSl7cmV0dXJuIGUvMzYwKy41fWZ1bmN0aW9uIHJlKGUpe3ZhciB0PU1hdGguc2luKGUqTWF0aC5QSS8xODApLHI9LjUtLjI1Kk1hdGgubG9nKCgxK3QpLygxLXQpKS9NYXRoLlBJO3JldHVybiByPDA/MDpyPjE/MTpyfWZ1bmN0aW9uIG5lKGUsdCxyLG4saSxvLGEscyl7aWYobi89dCxvPj0oci89dCkmJmE8bilyZXR1cm4gZTtpZihhPHJ8fG8+PW4pcmV0dXJuIG51bGw7Zm9yKHZhciBsPVtdLGM9MDtjPGUubGVuZ3RoO2MrKyl7dmFyIHU9ZVtjXSxoPXUuZ2VvbWV0cnksZD11LnR5cGUscD0wPT09aT91Lm1pblg6dS5taW5ZLGY9MD09PWk/dS5tYXhYOnUubWF4WTtpZihwPj1yJiZmPG4pbC5wdXNoKHUpO2Vsc2UgaWYoIShmPHJ8fHA+PW4pKXt2YXIgbT1bXTtpZihcIlBvaW50XCI9PT1kfHxcIk11bHRpUG9pbnRcIj09PWQpaWUoaCxtLHIsbixpKTtlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09ZClvZShoLG0scixuLGksITEscy5saW5lTWV0cmljcyk7ZWxzZSBpZihcIk11bHRpTGluZVN0cmluZ1wiPT09ZClzZShoLG0scixuLGksITEpO2Vsc2UgaWYoXCJQb2x5Z29uXCI9PT1kKXNlKGgsbSxyLG4saSwhMCk7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09ZClmb3IodmFyIGc9MDtnPGgubGVuZ3RoO2crKyl7dmFyIF89W107c2UoaFtnXSxfLHIsbixpLCEwKSxfLmxlbmd0aCYmbS5wdXNoKF8pfWlmKG0ubGVuZ3RoKXtpZihzLmxpbmVNZXRyaWNzJiZcIkxpbmVTdHJpbmdcIj09PWQpe2ZvcihnPTA7ZzxtLmxlbmd0aDtnKyspbC5wdXNoKEgodS5pZCxkLG1bZ10sdS50YWdzKSk7Y29udGludWV9XCJMaW5lU3RyaW5nXCIhPT1kJiZcIk11bHRpTGluZVN0cmluZ1wiIT09ZHx8KDE9PT1tLmxlbmd0aD8oZD1cIkxpbmVTdHJpbmdcIixtPW1bMF0pOmQ9XCJNdWx0aUxpbmVTdHJpbmdcIiksXCJQb2ludFwiIT09ZCYmXCJNdWx0aVBvaW50XCIhPT1kfHwoZD0zPT09bS5sZW5ndGg/XCJQb2ludFwiOlwiTXVsdGlQb2ludFwiKSxsLnB1c2goSCh1LmlkLGQsbSx1LnRhZ3MpKX19fXJldHVybiBsLmxlbmd0aD9sOm51bGx9ZnVuY3Rpb24gaWUoZSx0LHIsbixpKXtmb3IodmFyIG89MDtvPGUubGVuZ3RoO28rPTMpe3ZhciBhPWVbbytpXTthPj1yJiZhPD1uJiYodC5wdXNoKGVbb10pLHQucHVzaChlW28rMV0pLHQucHVzaChlW28rMl0pKX19ZnVuY3Rpb24gb2UoZSx0LHIsbixpLG8sYSl7Zm9yKHZhciBzLGwsYz1hZShlKSx1PTA9PT1pP2NlOnVlLGg9ZS5zdGFydCxkPTA7ZDxlLmxlbmd0aC0zO2QrPTMpe3ZhciBwPWVbZF0sZj1lW2QrMV0sbT1lW2QrMl0sZz1lW2QrM10sXz1lW2QrNF0seT0wPT09aT9wOmYsdj0wPT09aT9nOl8seD0hMTthJiYocz1NYXRoLnNxcnQoTWF0aC5wb3cocC1nLDIpK01hdGgucG93KGYtXywyKSkpLHk8cj92PnImJihsPXUoYyxwLGYsZyxfLHIpLGEmJihjLnN0YXJ0PWgrcypsKSk6eT5uP3Y8biYmKGw9dShjLHAsZixnLF8sbiksYSYmKGMuc3RhcnQ9aCtzKmwpKTpsZShjLHAsZixtKSx2PHImJnk+PXImJihsPXUoYyxwLGYsZyxfLHIpLHg9ITApLHY+biYmeTw9biYmKGw9dShjLHAsZixnLF8sbikseD0hMCksIW8mJngmJihhJiYoYy5lbmQ9aCtzKmwpLHQucHVzaChjKSxjPWFlKGUpKSxhJiYoaCs9cyl9dmFyIGI9ZS5sZW5ndGgtMztwPWVbYl0sZj1lW2IrMV0sbT1lW2IrMl0sKHk9MD09PWk/cDpmKT49ciYmeTw9biYmbGUoYyxwLGYsbSksYj1jLmxlbmd0aC0zLG8mJmI+PTMmJihjW2JdIT09Y1swXXx8Y1tiKzFdIT09Y1sxXSkmJmxlKGMsY1swXSxjWzFdLGNbMl0pLGMubGVuZ3RoJiZ0LnB1c2goYyl9ZnVuY3Rpb24gYWUoZSl7dmFyIHQ9W107cmV0dXJuIHQuc2l6ZT1lLnNpemUsdC5zdGFydD1lLnN0YXJ0LHQuZW5kPWUuZW5kLHR9ZnVuY3Rpb24gc2UoZSx0LHIsbixpLG8pe2Zvcih2YXIgYT0wO2E8ZS5sZW5ndGg7YSsrKW9lKGVbYV0sdCxyLG4saSxvLCExKX1mdW5jdGlvbiBsZShlLHQscixuKXtlLnB1c2godCksZS5wdXNoKHIpLGUucHVzaChuKX1mdW5jdGlvbiBjZShlLHQscixuLGksbyl7dmFyIGE9KG8tdCkvKG4tdCk7cmV0dXJuIGUucHVzaChvKSxlLnB1c2gocisoaS1yKSphKSxlLnB1c2goMSksYX1mdW5jdGlvbiB1ZShlLHQscixuLGksbyl7dmFyIGE9KG8tcikvKGktcik7cmV0dXJuIGUucHVzaCh0KyhuLXQpKmEpLGUucHVzaChvKSxlLnB1c2goMSksYX1mdW5jdGlvbiBoZShlLHQpe2Zvcih2YXIgcj1bXSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpLG89ZVtuXSxhPW8udHlwZTtpZihcIlBvaW50XCI9PT1hfHxcIk11bHRpUG9pbnRcIj09PWF8fFwiTGluZVN0cmluZ1wiPT09YSlpPWRlKG8uZ2VvbWV0cnksdCk7ZWxzZSBpZihcIk11bHRpTGluZVN0cmluZ1wiPT09YXx8XCJQb2x5Z29uXCI9PT1hKXtpPVtdO2Zvcih2YXIgcz0wO3M8by5nZW9tZXRyeS5sZW5ndGg7cysrKWkucHVzaChkZShvLmdlb21ldHJ5W3NdLHQpKX1lbHNlIGlmKFwiTXVsdGlQb2x5Z29uXCI9PT1hKWZvcihpPVtdLHM9MDtzPG8uZ2VvbWV0cnkubGVuZ3RoO3MrKyl7Zm9yKHZhciBsPVtdLGM9MDtjPG8uZ2VvbWV0cnlbc10ubGVuZ3RoO2MrKylsLnB1c2goZGUoby5nZW9tZXRyeVtzXVtjXSx0KSk7aS5wdXNoKGwpfXIucHVzaChIKG8uaWQsYSxpLG8udGFncykpfXJldHVybiByfWZ1bmN0aW9uIGRlKGUsdCl7dmFyIHI9W107ci5zaXplPWUuc2l6ZSx2b2lkIDAhPT1lLnN0YXJ0JiYoci5zdGFydD1lLnN0YXJ0LHIuZW5kPWUuZW5kKTtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rPTMpci5wdXNoKGVbbl0rdCxlW24rMV0sZVtuKzJdKTtyZXR1cm4gcn1mdW5jdGlvbiBwZShlLHQpe2lmKGUudHJhbnNmb3JtZWQpcmV0dXJuIGU7dmFyIHIsbixpLG89MTw8ZS56LGE9ZS54LHM9ZS55O2ZvcihyPTA7cjxlLmZlYXR1cmVzLmxlbmd0aDtyKyspe3ZhciBsPWUuZmVhdHVyZXNbcl0sYz1sLmdlb21ldHJ5LHU9bC50eXBlO2lmKGwuZ2VvbWV0cnk9W10sMT09PXUpZm9yKG49MDtuPGMubGVuZ3RoO24rPTIpbC5nZW9tZXRyeS5wdXNoKGZlKGNbbl0sY1tuKzFdLHQsbyxhLHMpKTtlbHNlIGZvcihuPTA7bjxjLmxlbmd0aDtuKyspe3ZhciBoPVtdO2ZvcihpPTA7aTxjW25dLmxlbmd0aDtpKz0yKWgucHVzaChmZShjW25dW2ldLGNbbl1baSsxXSx0LG8sYSxzKSk7bC5nZW9tZXRyeS5wdXNoKGgpfX1yZXR1cm4gZS50cmFuc2Zvcm1lZD0hMCxlfWZ1bmN0aW9uIGZlKGUsdCxyLG4saSxvKXtyZXR1cm5bTWF0aC5yb3VuZChyKihlKm4taSkpLE1hdGgucm91bmQocioodCpuLW8pKV19ZnVuY3Rpb24gbWUoZSx0LHIsbixpKXtmb3IodmFyIG89dD09PWkubWF4Wm9vbT8wOmkudG9sZXJhbmNlLygoMTw8dCkqaS5leHRlbnQpLGE9e2ZlYXR1cmVzOltdLG51bVBvaW50czowLG51bVNpbXBsaWZpZWQ6MCxudW1GZWF0dXJlczowLHNvdXJjZTpudWxsLHg6cix5Om4sejp0LHRyYW5zZm9ybWVkOiExLG1pblg6MixtaW5ZOjEsbWF4WDotMSxtYXhZOjB9LHM9MDtzPGUubGVuZ3RoO3MrKyl7YS5udW1GZWF0dXJlcysrLGdlKGEsZVtzXSxvLGkpO3ZhciBsPWVbc10ubWluWCxjPWVbc10ubWluWSx1PWVbc10ubWF4WCxoPWVbc10ubWF4WTtsPGEubWluWCYmKGEubWluWD1sKSxjPGEubWluWSYmKGEubWluWT1jKSx1PmEubWF4WCYmKGEubWF4WD11KSxoPmEubWF4WSYmKGEubWF4WT1oKX1yZXR1cm4gYX1mdW5jdGlvbiBnZShlLHQscixuKXt2YXIgaT10Lmdlb21ldHJ5LG89dC50eXBlLGE9W107aWYoXCJQb2ludFwiPT09b3x8XCJNdWx0aVBvaW50XCI9PT1vKWZvcih2YXIgcz0wO3M8aS5sZW5ndGg7cys9MylhLnB1c2goaVtzXSksYS5wdXNoKGlbcysxXSksZS5udW1Qb2ludHMrKyxlLm51bVNpbXBsaWZpZWQrKztlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09bylfZShhLGksZSxyLCExLCExKTtlbHNlIGlmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1vfHxcIlBvbHlnb25cIj09PW8pZm9yKHM9MDtzPGkubGVuZ3RoO3MrKylfZShhLGlbc10sZSxyLFwiUG9seWdvblwiPT09bywwPT09cyk7ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09bylmb3IodmFyIGw9MDtsPGkubGVuZ3RoO2wrKyl7dmFyIGM9aVtsXTtmb3Iocz0wO3M8Yy5sZW5ndGg7cysrKV9lKGEsY1tzXSxlLHIsITAsMD09PXMpfWlmKGEubGVuZ3RoKXt2YXIgdT10LnRhZ3N8fG51bGw7aWYoXCJMaW5lU3RyaW5nXCI9PT1vJiZuLmxpbmVNZXRyaWNzKXtmb3IodmFyIGggaW4gdT17fSx0LnRhZ3MpdVtoXT10LnRhZ3NbaF07dS5tYXBib3hfY2xpcF9zdGFydD1pLnN0YXJ0L2kuc2l6ZSx1Lm1hcGJveF9jbGlwX2VuZD1pLmVuZC9pLnNpemV9dmFyIGQ9e2dlb21ldHJ5OmEsdHlwZTpcIlBvbHlnb25cIj09PW98fFwiTXVsdGlQb2x5Z29uXCI9PT1vPzM6XCJMaW5lU3RyaW5nXCI9PT1vfHxcIk11bHRpTGluZVN0cmluZ1wiPT09bz8yOjEsdGFnczp1fTtudWxsIT09dC5pZCYmKGQuaWQ9dC5pZCksZS5mZWF0dXJlcy5wdXNoKGQpfX1mdW5jdGlvbiBfZShlLHQscixuLGksbyl7dmFyIGE9bipuO2lmKG4+MCYmdC5zaXplPChpP2E6bikpci5udW1Qb2ludHMrPXQubGVuZ3RoLzM7ZWxzZXtmb3IodmFyIHM9W10sbD0wO2w8dC5sZW5ndGg7bCs9MykoMD09PW58fHRbbCsyXT5hKSYmKHIubnVtU2ltcGxpZmllZCsrLHMucHVzaCh0W2xdKSxzLnB1c2godFtsKzFdKSksci5udW1Qb2ludHMrKztpJiZmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLG49MCxpPWUubGVuZ3RoLG89aS0yO248aTtvPW4sbis9MilyKz0oZVtuXS1lW29dKSooZVtuKzFdK2VbbysxXSk7aWYocj4wPT09dClmb3Iobj0wLGk9ZS5sZW5ndGg7bjxpLzI7bis9Mil7dmFyIGE9ZVtuXSxzPWVbbisxXTtlW25dPWVbaS0yLW5dLGVbbisxXT1lW2ktMS1uXSxlW2ktMi1uXT1hLGVbaS0xLW5dPXN9fShzLG8pLGUucHVzaChzKX19ZnVuY3Rpb24geWUoZSx0KXt2YXIgcj0odD10aGlzLm9wdGlvbnM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdCllW3JdPXRbcl07cmV0dXJuIGV9KE9iamVjdC5jcmVhdGUodGhpcy5vcHRpb25zKSx0KSkuZGVidWc7aWYociYmY29uc29sZS50aW1lKFwicHJlcHJvY2VzcyBkYXRhXCIpLHQubWF4Wm9vbTwwfHx0Lm1heFpvb20+MjQpdGhyb3cgbmV3IEVycm9yKFwibWF4Wm9vbSBzaG91bGQgYmUgaW4gdGhlIDAtMjQgcmFuZ2VcIik7aWYodC5wcm9tb3RlSWQmJnQuZ2VuZXJhdGVJZCl0aHJvdyBuZXcgRXJyb3IoXCJwcm9tb3RlSWQgYW5kIGdlbmVyYXRlSWQgY2Fubm90IGJlIHVzZWQgdG9nZXRoZXIuXCIpO3ZhciBuPWZ1bmN0aW9uKGUsdCl7dmFyIHI9W107aWYoXCJGZWF0dXJlQ29sbGVjdGlvblwiPT09ZS50eXBlKWZvcih2YXIgbj0wO248ZS5mZWF0dXJlcy5sZW5ndGg7bisrKUsocixlLmZlYXR1cmVzW25dLHQsbik7ZWxzZSBLKHIsXCJGZWF0dXJlXCI9PT1lLnR5cGU/ZTp7Z2VvbWV0cnk6ZX0sdCk7cmV0dXJuIHJ9KGUsdCk7dGhpcy50aWxlcz17fSx0aGlzLnRpbGVDb29yZHM9W10sciYmKGNvbnNvbGUudGltZUVuZChcInByZXByb2Nlc3MgZGF0YVwiKSxjb25zb2xlLmxvZyhcImluZGV4OiBtYXhab29tOiAlZCwgbWF4UG9pbnRzOiAlZFwiLHQuaW5kZXhNYXhab29tLHQuaW5kZXhNYXhQb2ludHMpLGNvbnNvbGUudGltZShcImdlbmVyYXRlIHRpbGVzXCIpLHRoaXMuc3RhdHM9e30sdGhpcy50b3RhbD0wKSwobj1mdW5jdGlvbihlLHQpe3ZhciByPXQuYnVmZmVyL3QuZXh0ZW50LG49ZSxpPW5lKGUsMSwtMS1yLHIsMCwtMSwyLHQpLG89bmUoZSwxLDEtciwyK3IsMCwtMSwyLHQpO3JldHVybihpfHxvKSYmKG49bmUoZSwxLC1yLDErciwwLC0xLDIsdCl8fFtdLGkmJihuPWhlKGksMSkuY29uY2F0KG4pKSxvJiYobj1uLmNvbmNhdChoZShvLC0xKSkpKSxufShuLHQpKS5sZW5ndGgmJnRoaXMuc3BsaXRUaWxlKG4sMCwwLDApLHImJihuLmxlbmd0aCYmY29uc29sZS5sb2coXCJmZWF0dXJlczogJWQsIHBvaW50czogJWRcIix0aGlzLnRpbGVzWzBdLm51bUZlYXR1cmVzLHRoaXMudGlsZXNbMF0ubnVtUG9pbnRzKSxjb25zb2xlLnRpbWVFbmQoXCJnZW5lcmF0ZSB0aWxlc1wiKSxjb25zb2xlLmxvZyhcInRpbGVzIGdlbmVyYXRlZDpcIix0aGlzLnRvdGFsLEpTT04uc3RyaW5naWZ5KHRoaXMuc3RhdHMpKSl9ZnVuY3Rpb24gdmUoZSx0LHIpe3JldHVybiAzMiooKDE8PGUpKnIrdCkrZX1mdW5jdGlvbiB4ZShlLHQpe2NvbnN0IHI9ZS50aWxlSUQuY2Fub25pY2FsO2lmKCF0aGlzLl9nZW9KU09OSW5kZXgpcmV0dXJuIHQobnVsbCxudWxsKTtjb25zdCBuPXRoaXMuX2dlb0pTT05JbmRleC5nZXRUaWxlKHIueixyLngsci55KTtpZighbilyZXR1cm4gdChudWxsLG51bGwpO2NvbnN0IGk9bmV3IHUobi5mZWF0dXJlcyk7bGV0IG89aC5leHBvcnRzKGkpOzA9PT1vLmJ5dGVPZmZzZXQmJm8uYnl0ZUxlbmd0aD09PW8uYnVmZmVyLmJ5dGVMZW5ndGh8fChvPW5ldyBVaW50OEFycmF5KG8pKSx0KG51bGwse3ZlY3RvclRpbGU6aSxyYXdEYXRhOm8uYnVmZmVyfSl9eWUucHJvdG90eXBlLm9wdGlvbnM9e21heFpvb206MTQsaW5kZXhNYXhab29tOjUsaW5kZXhNYXhQb2ludHM6MWU1LHRvbGVyYW5jZTozLGV4dGVudDo0MDk2LGJ1ZmZlcjo2NCxsaW5lTWV0cmljczohMSxwcm9tb3RlSWQ6bnVsbCxnZW5lcmF0ZUlkOiExLGRlYnVnOjB9LHllLnByb3RvdHlwZS5zcGxpdFRpbGU9ZnVuY3Rpb24oZSx0LHIsbixpLG8sYSl7Zm9yKHZhciBzPVtlLHQscixuXSxsPXRoaXMub3B0aW9ucyxjPWwuZGVidWc7cy5sZW5ndGg7KXtuPXMucG9wKCkscj1zLnBvcCgpLHQ9cy5wb3AoKSxlPXMucG9wKCk7dmFyIHU9MTw8dCxoPXZlKHQscixuKSxkPXRoaXMudGlsZXNbaF07aWYoIWQmJihjPjEmJmNvbnNvbGUudGltZShcImNyZWF0aW9uXCIpLGQ9dGhpcy50aWxlc1toXT1tZShlLHQscixuLGwpLHRoaXMudGlsZUNvb3Jkcy5wdXNoKHt6OnQseDpyLHk6bn0pLGMpKXtjPjEmJihjb25zb2xlLmxvZyhcInRpbGUgeiVkLSVkLSVkIChmZWF0dXJlczogJWQsIHBvaW50czogJWQsIHNpbXBsaWZpZWQ6ICVkKVwiLHQscixuLGQubnVtRmVhdHVyZXMsZC5udW1Qb2ludHMsZC5udW1TaW1wbGlmaWVkKSxjb25zb2xlLnRpbWVFbmQoXCJjcmVhdGlvblwiKSk7dmFyIHA9XCJ6XCIrdDt0aGlzLnN0YXRzW3BdPSh0aGlzLnN0YXRzW3BdfHwwKSsxLHRoaXMudG90YWwrK31pZihkLnNvdXJjZT1lLGkpe2lmKHQ9PT1sLm1heFpvb218fHQ9PT1pKWNvbnRpbnVlO3ZhciBmPTE8PGktdDtpZihyIT09TWF0aC5mbG9vcihvL2YpfHxuIT09TWF0aC5mbG9vcihhL2YpKWNvbnRpbnVlfWVsc2UgaWYodD09PWwuaW5kZXhNYXhab29tfHxkLm51bVBvaW50czw9bC5pbmRleE1heFBvaW50cyljb250aW51ZTtpZihkLnNvdXJjZT1udWxsLDAhPT1lLmxlbmd0aCl7Yz4xJiZjb25zb2xlLnRpbWUoXCJjbGlwcGluZ1wiKTt2YXIgbSxnLF8seSx2LHgsYj0uNSpsLmJ1ZmZlci9sLmV4dGVudCx3PS41LWIsVD0uNStiLEU9MStiO209Zz1fPXk9bnVsbCx2PW5lKGUsdSxyLWIscitULDAsZC5taW5YLGQubWF4WCxsKSx4PW5lKGUsdSxyK3cscitFLDAsZC5taW5YLGQubWF4WCxsKSxlPW51bGwsdiYmKG09bmUodix1LG4tYixuK1QsMSxkLm1pblksZC5tYXhZLGwpLGc9bmUodix1LG4rdyxuK0UsMSxkLm1pblksZC5tYXhZLGwpLHY9bnVsbCkseCYmKF89bmUoeCx1LG4tYixuK1QsMSxkLm1pblksZC5tYXhZLGwpLHk9bmUoeCx1LG4rdyxuK0UsMSxkLm1pblksZC5tYXhZLGwpLHg9bnVsbCksYz4xJiZjb25zb2xlLnRpbWVFbmQoXCJjbGlwcGluZ1wiKSxzLnB1c2gobXx8W10sdCsxLDIqciwyKm4pLHMucHVzaChnfHxbXSx0KzEsMipyLDIqbisxKSxzLnB1c2goX3x8W10sdCsxLDIqcisxLDIqbikscy5wdXNoKHl8fFtdLHQrMSwyKnIrMSwyKm4rMSl9fX0seWUucHJvdG90eXBlLmdldFRpbGU9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMub3B0aW9ucyxpPW4uZXh0ZW50LG89bi5kZWJ1ZztpZihlPDB8fGU+MjQpcmV0dXJuIG51bGw7dmFyIGE9MTw8ZSxzPXZlKGUsdD0odCVhK2EpJWEscik7aWYodGhpcy50aWxlc1tzXSlyZXR1cm4gcGUodGhpcy50aWxlc1tzXSxpKTtvPjEmJmNvbnNvbGUubG9nKFwiZHJpbGxpbmcgZG93biB0byB6JWQtJWQtJWRcIixlLHQscik7Zm9yKHZhciBsLGM9ZSx1PXQsaD1yOyFsJiZjPjA7KWMtLSx1PU1hdGguZmxvb3IodS8yKSxoPU1hdGguZmxvb3IoaC8yKSxsPXRoaXMudGlsZXNbdmUoYyx1LGgpXTtyZXR1cm4gbCYmbC5zb3VyY2U/KG8+MSYmY29uc29sZS5sb2coXCJmb3VuZCBwYXJlbnQgdGlsZSB6JWQtJWQtJWRcIixjLHUsaCksbz4xJiZjb25zb2xlLnRpbWUoXCJkcmlsbGluZyBkb3duXCIpLHRoaXMuc3BsaXRUaWxlKGwuc291cmNlLGMsdSxoLGUsdCxyKSxvPjEmJmNvbnNvbGUudGltZUVuZChcImRyaWxsaW5nIGRvd25cIiksdGhpcy50aWxlc1tzXT9wZSh0aGlzLnRpbGVzW3NdLGkpOm51bGwpOm51bGx9O2NsYXNzIGJlIGV4dGVuZHMgZS5WZWN0b3JUaWxlV29ya2VyU291cmNle2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7c3VwZXIoZSx0LHIsbix4ZSksaSYmKHRoaXMubG9hZEdlb0pTT049aSl9bG9hZERhdGEodCxyKXtjb25zdCBuPXQmJnQucmVxdWVzdCxpPW4mJm4uY29sbGVjdFJlc291cmNlVGltaW5nO3RoaXMubG9hZEdlb0pTT04odCwoYSxzKT0+e2lmKGF8fCFzKXJldHVybiByKGEpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBzKXJldHVybiByKG5ldyBFcnJvcihgSW5wdXQgZGF0YSBnaXZlbiB0byAnJHt0LnNvdXJjZX0nIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LmApKTt7byhzLCEwKTt0cnl7aWYodC5maWx0ZXIpe2NvbnN0IHI9ZS5jcmVhdGVFeHByZXNzaW9uKHQuZmlsdGVyLHt0eXBlOlwiYm9vbGVhblwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixvdmVycmlkYWJsZTohMSx0cmFuc2l0aW9uOiExfSk7aWYoXCJlcnJvclwiPT09ci5yZXN1bHQpdGhyb3cgbmV3IEVycm9yKHIudmFsdWUubWFwKGU9PmAke2Uua2V5fTogJHtlLm1lc3NhZ2V9YCkuam9pbihcIiwgXCIpKTtjb25zdCBuPXMuZmVhdHVyZXMuZmlsdGVyKGU9PnIudmFsdWUuZXZhbHVhdGUoe3pvb206MH0sZSkpO3M9e3R5cGU6XCJGZWF0dXJlQ29sbGVjdGlvblwiLGZlYXR1cmVzOm59fXRoaXMuX2dlb0pTT05JbmRleD10LmNsdXN0ZXI/bmV3IEIoZnVuY3Rpb24oe3N1cGVyY2x1c3Rlck9wdGlvbnM6dCxjbHVzdGVyUHJvcGVydGllczpyfSl7aWYoIXJ8fCF0KXJldHVybiB0O2NvbnN0IG49e30saT17fSxvPXthY2N1bXVsYXRlZDpudWxsLHpvb206MH0sYT17cHJvcGVydGllczpudWxsfSxzPU9iamVjdC5rZXlzKHIpO2Zvcihjb25zdCB0IG9mIHMpe2NvbnN0W28sYV09clt0XSxzPWUuY3JlYXRlRXhwcmVzc2lvbihhKSxsPWUuY3JlYXRlRXhwcmVzc2lvbihcInN0cmluZ1wiPT10eXBlb2Ygbz9bbyxbXCJhY2N1bXVsYXRlZFwiXSxbXCJnZXRcIix0XV06byk7blt0XT1zLnZhbHVlLGlbdF09bC52YWx1ZX1yZXR1cm4gdC5tYXA9ZT0+e2EucHJvcGVydGllcz1lO2NvbnN0IHQ9e307Zm9yKGNvbnN0IGUgb2Ygcyl0W2VdPW5bZV0uZXZhbHVhdGUobyxhKTtyZXR1cm4gdH0sdC5yZWR1Y2U9KGUsdCk9PnthLnByb3BlcnRpZXM9dDtmb3IoY29uc3QgdCBvZiBzKW8uYWNjdW11bGF0ZWQ9ZVt0XSxlW3RdPWlbdF0uZXZhbHVhdGUobyxhKX0sdH0odCkpLmxvYWQocy5mZWF0dXJlcyk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IHllKGUsdCl9KHMsdC5nZW9qc29uVnRPcHRpb25zKX1jYXRjaChhKXtyZXR1cm4gcihhKX10aGlzLmxvYWRlZD17fTtjb25zdCBsPXt9O2lmKGkpe2NvbnN0IHI9ZS5nZXRQZXJmb3JtYW5jZU1lYXN1cmVtZW50KG4pO3ImJihsLnJlc291cmNlVGltaW5nPXt9LGwucmVzb3VyY2VUaW1pbmdbdC5zb3VyY2VdPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocikpKX1yKG51bGwsbCl9fSl9cmVsb2FkVGlsZShlLHQpe2NvbnN0IHI9dGhpcy5sb2FkZWQ7cmV0dXJuIHImJnJbZS51aWRdP3N1cGVyLnJlbG9hZFRpbGUoZSx0KTp0aGlzLmxvYWRUaWxlKGUsdCl9bG9hZEdlb0pTT04odCxyKXtpZih0LnJlcXVlc3QpZS5nZXRKU09OKHQucmVxdWVzdCxyKTtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0LmRhdGEpcmV0dXJuIHIobmV3IEVycm9yKGBJbnB1dCBkYXRhIGdpdmVuIHRvICcke3Quc291cmNlfScgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuYCkpO3RyeXtyZXR1cm4gcihudWxsLEpTT04ucGFyc2UodC5kYXRhKSl9Y2F0Y2goZSl7cmV0dXJuIHIobmV3IEVycm9yKGBJbnB1dCBkYXRhIGdpdmVuIHRvICcke3Quc291cmNlfScgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuYCkpfX19Z2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZSx0KXt0cnl7dChudWxsLHRoaXMuX2dlb0pTT05JbmRleC5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbShlLmNsdXN0ZXJJZCkpfWNhdGNoKGUpe3QoZSl9fWdldENsdXN0ZXJDaGlsZHJlbihlLHQpe3RyeXt0KG51bGwsdGhpcy5fZ2VvSlNPTkluZGV4LmdldENoaWxkcmVuKGUuY2x1c3RlcklkKSl9Y2F0Y2goZSl7dChlKX19Z2V0Q2x1c3RlckxlYXZlcyhlLHQpe3RyeXt0KG51bGwsdGhpcy5fZ2VvSlNPTkluZGV4LmdldExlYXZlcyhlLmNsdXN0ZXJJZCxlLmxpbWl0LGUub2Zmc2V0KSl9Y2F0Y2goZSl7dChlKX19fWNsYXNzIHdle2NvbnN0cnVjdG9yKHQpe3RoaXMuc2VsZj10LHRoaXMuYWN0b3I9bmV3IGUuQWN0b3IodCx0aGlzKSx0aGlzLmxheWVySW5kZXhlcz17fSx0aGlzLmF2YWlsYWJsZUltYWdlcz17fSx0aGlzLmlzU3ByaXRlTG9hZGVkPXt9LHRoaXMucHJvamVjdGlvbnM9e30sdGhpcy5kZWZhdWx0UHJvamVjdGlvbj1lLmdldFByb2plY3Rpb24oe25hbWU6XCJtZXJjYXRvclwifSksdGhpcy53b3JrZXJTb3VyY2VUeXBlcz17dmVjdG9yOmUuVmVjdG9yVGlsZVdvcmtlclNvdXJjZSxnZW9qc29uOmJlfSx0aGlzLndvcmtlclNvdXJjZXM9e30sdGhpcy5kZW1Xb3JrZXJTb3VyY2VzPXt9LHRoaXMuc2VsZi5yZWdpc3RlcldvcmtlclNvdXJjZT0oZSx0KT0+e2lmKHRoaXMud29ya2VyU291cmNlVHlwZXNbZV0pdGhyb3cgbmV3IEVycm9yKGBXb3JrZXIgc291cmNlIHdpdGggbmFtZSBcIiR7ZX1cIiBhbHJlYWR5IHJlZ2lzdGVyZWQuYCk7dGhpcy53b3JrZXJTb3VyY2VUeXBlc1tlXT10fSx0aGlzLnNlbGYucmVnaXN0ZXJSVExUZXh0UGx1Z2luPXQ9PntpZihlLnBsdWdpbi5pc1BhcnNlZCgpKXRocm93IG5ldyBFcnJvcihcIlJUTCB0ZXh0IHBsdWdpbiBhbHJlYWR5IHJlZ2lzdGVyZWQuXCIpO2UucGx1Z2luLmFwcGx5QXJhYmljU2hhcGluZz10LmFwcGx5QXJhYmljU2hhcGluZyxlLnBsdWdpbi5wcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQ9dC5wcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQsZS5wbHVnaW4ucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0PXQucHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0fX1jbGVhckNhY2hlcyhlLHQscil7ZGVsZXRlIHRoaXMubGF5ZXJJbmRleGVzW2VdLGRlbGV0ZSB0aGlzLmF2YWlsYWJsZUltYWdlc1tlXSxkZWxldGUgdGhpcy53b3JrZXJTb3VyY2VzW2VdLGRlbGV0ZSB0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV0scigpfWNoZWNrSWZSZWFkeShlLHQscil7cigpfXNldFJlZmVycmVyKGUsdCl7dGhpcy5yZWZlcnJlcj10fXNwcml0ZUxvYWRlZCh0LHIpe3RoaXMuaXNTcHJpdGVMb2FkZWRbdF09cjtmb3IoY29uc3QgbiBpbiB0aGlzLndvcmtlclNvdXJjZXNbdF0pe2NvbnN0IGk9dGhpcy53b3JrZXJTb3VyY2VzW3RdW25dO2Zvcihjb25zdCB0IGluIGkpaVt0XWluc3RhbmNlb2YgZS5WZWN0b3JUaWxlV29ya2VyU291cmNlJiYoaVt0XS5pc1Nwcml0ZUxvYWRlZD1yLGlbdF0uZmlyZShuZXcgZS5FdmVudChcImlzU3ByaXRlTG9hZGVkXCIpKSl9fXNldEltYWdlcyhlLHQscil7dGhpcy5hdmFpbGFibGVJbWFnZXNbZV09dDtmb3IoY29uc3QgciBpbiB0aGlzLndvcmtlclNvdXJjZXNbZV0pe2NvbnN0IG49dGhpcy53b3JrZXJTb3VyY2VzW2VdW3JdO2Zvcihjb25zdCBlIGluIG4pbltlXS5hdmFpbGFibGVJbWFnZXM9dH1yKCl9ZW5hYmxlVGVycmFpbihlLHQscil7dGhpcy50ZXJyYWluPXQscigpfXNldFByb2plY3Rpb24odCxyKXt0aGlzLnByb2plY3Rpb25zW3RdPWUuZ2V0UHJvamVjdGlvbihyKX1zZXRMYXllcnMoZSx0LHIpe3RoaXMuZ2V0TGF5ZXJJbmRleChlKS5yZXBsYWNlKHQpLHIoKX11cGRhdGVMYXllcnMoZSx0LHIpe3RoaXMuZ2V0TGF5ZXJJbmRleChlKS51cGRhdGUodC5sYXllcnMsdC5yZW1vdmVkSWRzKSxyKCl9bG9hZFRpbGUodCxyLG4pe2NvbnN0IGk9dGhpcy5lbmFibGVUZXJyYWluP2UuZXh0ZW5kKHtlbmFibGVUZXJyYWluOnRoaXMudGVycmFpbn0scik6cjtpLnByb2plY3Rpb249dGhpcy5wcm9qZWN0aW9uc1t0XXx8dGhpcy5kZWZhdWx0UHJvamVjdGlvbix0aGlzLmdldFdvcmtlclNvdXJjZSh0LHIudHlwZSxyLnNvdXJjZSkubG9hZFRpbGUoaSxuKX1sb2FkREVNVGlsZSh0LHIsbil7Y29uc3QgaT10aGlzLmVuYWJsZVRlcnJhaW4/ZS5leHRlbmQoe2J1aWxkUXVhZFRyZWU6dGhpcy50ZXJyYWlufSxyKTpyO3RoaXMuZ2V0REVNV29ya2VyU291cmNlKHQsci5zb3VyY2UpLmxvYWRUaWxlKGksbil9cmVsb2FkVGlsZSh0LHIsbil7Y29uc3QgaT10aGlzLmVuYWJsZVRlcnJhaW4/ZS5leHRlbmQoe2VuYWJsZVRlcnJhaW46dGhpcy50ZXJyYWlufSxyKTpyO2kucHJvamVjdGlvbj10aGlzLnByb2plY3Rpb25zW3RdfHx0aGlzLmRlZmF1bHRQcm9qZWN0aW9uLHRoaXMuZ2V0V29ya2VyU291cmNlKHQsci50eXBlLHIuc291cmNlKS5yZWxvYWRUaWxlKGksbil9YWJvcnRUaWxlKGUsdCxyKXt0aGlzLmdldFdvcmtlclNvdXJjZShlLHQudHlwZSx0LnNvdXJjZSkuYWJvcnRUaWxlKHQscil9cmVtb3ZlVGlsZShlLHQscil7dGhpcy5nZXRXb3JrZXJTb3VyY2UoZSx0LnR5cGUsdC5zb3VyY2UpLnJlbW92ZVRpbGUodCxyKX1yZW1vdmVTb3VyY2UoZSx0LHIpe2lmKCF0aGlzLndvcmtlclNvdXJjZXNbZV18fCF0aGlzLndvcmtlclNvdXJjZXNbZV1bdC50eXBlXXx8IXRoaXMud29ya2VyU291cmNlc1tlXVt0LnR5cGVdW3Quc291cmNlXSlyZXR1cm47Y29uc3Qgbj10aGlzLndvcmtlclNvdXJjZXNbZV1bdC50eXBlXVt0LnNvdXJjZV07ZGVsZXRlIHRoaXMud29ya2VyU291cmNlc1tlXVt0LnR5cGVdW3Quc291cmNlXSx2b2lkIDAhPT1uLnJlbW92ZVNvdXJjZT9uLnJlbW92ZVNvdXJjZSh0LHIpOnIoKX1sb2FkV29ya2VyU291cmNlKGUsdCxyKXt0cnl7dGhpcy5zZWxmLmltcG9ydFNjcmlwdHModC51cmwpLHIoKX1jYXRjaChlKXtyKGUudG9TdHJpbmcoKSl9fXN5bmNSVExQbHVnaW5TdGF0ZSh0LHIsbil7dHJ5e2UucGx1Z2luLnNldFN0YXRlKHIpO2NvbnN0IHQ9ZS5wbHVnaW4uZ2V0UGx1Z2luVVJMKCk7aWYoZS5wbHVnaW4uaXNMb2FkZWQoKSYmIWUucGx1Z2luLmlzUGFyc2VkKCkmJm51bGwhPXQpe3RoaXMuc2VsZi5pbXBvcnRTY3JpcHRzKHQpO2NvbnN0IHI9ZS5wbHVnaW4uaXNQYXJzZWQoKTtuKHI/dm9pZCAwOm5ldyBFcnJvcihcIlJUTCBUZXh0IFBsdWdpbiBmYWlsZWQgdG8gaW1wb3J0IHNjcmlwdHMgZnJvbSBcIit0KSxyKX19Y2F0Y2goZSl7bihlLnRvU3RyaW5nKCkpfX1nZXRBdmFpbGFibGVJbWFnZXMoZSl7bGV0IHQ9dGhpcy5hdmFpbGFibGVJbWFnZXNbZV07cmV0dXJuIHR8fCh0PVtdKSx0fWdldExheWVySW5kZXgoZSl7bGV0IHQ9dGhpcy5sYXllckluZGV4ZXNbZV07cmV0dXJuIHR8fCh0PXRoaXMubGF5ZXJJbmRleGVzW2VdPW5ldyBuKSx0fWdldFdvcmtlclNvdXJjZShlLHQscil7aWYodGhpcy53b3JrZXJTb3VyY2VzW2VdfHwodGhpcy53b3JrZXJTb3VyY2VzW2VdPXt9KSx0aGlzLndvcmtlclNvdXJjZXNbZV1bdF18fCh0aGlzLndvcmtlclNvdXJjZXNbZV1bdF09e30pLCF0aGlzLndvcmtlclNvdXJjZXNbZV1bdF1bcl0pe2NvbnN0IG49e3NlbmQ6KHQscixuLGksbyxhKT0+e3RoaXMuYWN0b3Iuc2VuZCh0LHIsbixlLG8sYSl9LHNjaGVkdWxlcjp0aGlzLmFjdG9yLnNjaGVkdWxlcn07dGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW3JdPW5ldyB0aGlzLndvcmtlclNvdXJjZVR5cGVzW3RdKG4sdGhpcy5nZXRMYXllckluZGV4KGUpLHRoaXMuZ2V0QXZhaWxhYmxlSW1hZ2VzKGUpLHRoaXMuaXNTcHJpdGVMb2FkZWRbZV0pfXJldHVybiB0aGlzLndvcmtlclNvdXJjZXNbZV1bdF1bcl19Z2V0REVNV29ya2VyU291cmNlKGUsdCl7cmV0dXJuIHRoaXMuZGVtV29ya2VyU291cmNlc1tlXXx8KHRoaXMuZGVtV29ya2VyU291cmNlc1tlXT17fSksdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3RdfHwodGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3RdPW5ldyBpKSx0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV1bdF19ZW5mb3JjZUNhY2hlU2l6ZUxpbWl0KHQscil7ZS5lbmZvcmNlQ2FjaGVTaXplTGltaXQocil9Z2V0V29ya2VyUGVyZm9ybWFuY2VNZXRyaWNzKGUsdCxyKXtyKHZvaWQgMCx2b2lkIDApfX1yZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUmJihzZWxmLndvcmtlcj1uZXcgd2Uoc2VsZikpLHdlfSkpLGkoW1wiLi9zaGFyZWRcIl0sKGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQoZSxyKXtpZihBcnJheS5pc0FycmF5KGUpKXtpZighQXJyYXkuaXNBcnJheShyKXx8ZS5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKylpZighdChlW25dLHJbbl0pKXJldHVybiExO3JldHVybiEwfWlmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmbnVsbCE9PXIpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiByKXJldHVybiExO2lmKE9iamVjdC5rZXlzKGUpLmxlbmd0aCE9PU9iamVjdC5rZXlzKHIpLmxlbmd0aClyZXR1cm4hMTtmb3IoY29uc3QgbiBpbiBlKWlmKCF0KGVbbl0scltuXSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIGU9PT1yfXZhciByPW47ZnVuY3Rpb24gbihlKXtyZXR1cm4hZnVuY3Rpb24oZSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvd3x8XCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50P1wibm90IGEgYnJvd3NlclwiOkFycmF5LnByb3RvdHlwZSYmQXJyYXkucHJvdG90eXBlLmV2ZXJ5JiZBcnJheS5wcm90b3R5cGUuZmlsdGVyJiZBcnJheS5wcm90b3R5cGUuZm9yRWFjaCYmQXJyYXkucHJvdG90eXBlLmluZGV4T2YmJkFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZiYmQXJyYXkucHJvdG90eXBlLm1hcCYmQXJyYXkucHJvdG90eXBlLnNvbWUmJkFycmF5LnByb3RvdHlwZS5yZWR1Y2UmJkFycmF5LnByb3RvdHlwZS5yZWR1Y2VSaWdodCYmQXJyYXkuaXNBcnJheT9GdW5jdGlvbi5wcm90b3R5cGUmJkZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kP09iamVjdC5rZXlzJiZPYmplY3QuY3JlYXRlJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzJiZPYmplY3QuaXNTZWFsZWQmJk9iamVjdC5pc0Zyb3plbiYmT2JqZWN0LmlzRXh0ZW5zaWJsZSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciYmT2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZGVmaW5lUHJvcGVydGllcyYmT2JqZWN0LnNlYWwmJk9iamVjdC5mcmVlemUmJk9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucz9cIkpTT05cImluIHdpbmRvdyYmXCJwYXJzZVwiaW4gSlNPTiYmXCJzdHJpbmdpZnlcImluIEpTT04/ZnVuY3Rpb24oKXtpZighKFwiV29ya2VyXCJpbiB3aW5kb3cmJlwiQmxvYlwiaW4gd2luZG93JiZcIlVSTFwiaW4gd2luZG93KSlyZXR1cm4hMTt2YXIgZSx0LHI9bmV3IEJsb2IoW1wiXCJdLHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCJ9KSxuPVVSTC5jcmVhdGVPYmplY3RVUkwocik7dHJ5e3Q9bmV3IFdvcmtlcihuKSxlPSEwfWNhdGNoKHQpe2U9ITF9cmV0dXJuIHQmJnQudGVybWluYXRlKCksVVJMLnJldm9rZU9iamVjdFVSTChuKSxlfSgpP1wiVWludDhDbGFtcGVkQXJyYXlcImluIHdpbmRvdz9BcnJheUJ1ZmZlci5pc1ZpZXc/ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO2Uud2lkdGg9ZS5oZWlnaHQ9MTt2YXIgdD1lLmdldENvbnRleHQoXCIyZFwiKTtpZighdClyZXR1cm4hMTt2YXIgcj10LmdldEltYWdlRGF0YSgwLDAsMSwxKTtyZXR1cm4gciYmci53aWR0aD09PWUud2lkdGh9KCk/KHZvaWQgMD09PWlbdD1lJiZlLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXRdJiYoaVt0XT1mdW5jdGlvbihlKXt2YXIgdCxyPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikscj1PYmplY3QuY3JlYXRlKG4ud2ViR0xDb250ZXh0QXR0cmlidXRlcyk7cmV0dXJuIHIuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD1lLHQuZ2V0Q29udGV4dChcIndlYmdsXCIscil8fHQuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLHIpfShlKTtpZighcilyZXR1cm4hMTt0cnl7dD1yLmNyZWF0ZVNoYWRlcihyLlZFUlRFWF9TSEFERVIpfWNhdGNoKGUpe3JldHVybiExfXJldHVybiEoIXR8fHIuaXNDb250ZXh0TG9zdCgpKSYmKHIuc2hhZGVyU291cmNlKHQsXCJ2b2lkIG1haW4oKSB7fVwiKSxyLmNvbXBpbGVTaGFkZXIodCksITA9PT1yLmdldFNoYWRlclBhcmFtZXRlcih0LHIuQ09NUElMRV9TVEFUVVMpKX0odCkpLGlbdF0/ZG9jdW1lbnQuZG9jdW1lbnRNb2RlP1wiaW5zdWZmaWNpZW50IEVDTUFTY3JpcHQgNiBzdXBwb3J0XCI6dm9pZCAwOlwiaW5zdWZmaWNpZW50IFdlYkdMIHN1cHBvcnRcIik6XCJpbnN1ZmZpY2llbnQgQ2FudmFzL2dldEltYWdlRGF0YSBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgQXJyYXlCdWZmZXIgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IFVpbnQ4Q2xhbXBlZEFycmF5IHN1cHBvcnRcIjpcImluc3VmZmljaWVudCB3b3JrZXIgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IEpTT04gc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IE9iamVjdCBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgRnVuY3Rpb24gc3VwcG9ydFwiOlwiaW5zdWZmaWNlbnQgQXJyYXkgc3VwcG9ydFwiO3ZhciB0fShlKX12YXIgaT17fTtmdW5jdGlvbiBvKHQscixuKXtjb25zdCBpPWUud2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodCk7cmV0dXJuIHZvaWQgMCE9PXImJihpLmNsYXNzTmFtZT1yKSxuJiZuLmFwcGVuZENoaWxkKGkpLGl9ZnVuY3Rpb24gYSh0LHIsbil7Y29uc3QgaT1lLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLHQpO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHIpKWkuc2V0QXR0cmlidXRlTlMobnVsbCxlLHJbZV0pO3JldHVybiBuJiZuLmFwcGVuZENoaWxkKGkpLGl9bi53ZWJHTENvbnRleHRBdHRyaWJ1dGVzPXthbnRpYWxpYXM6ITEsYWxwaGE6ITAsc3RlbmNpbDohMCxkZXB0aDohMH07Y29uc3Qgcz1lLndpbmRvdy5kb2N1bWVudCYmZS53aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLGw9cyYmdm9pZCAwIT09cy51c2VyU2VsZWN0P1widXNlclNlbGVjdFwiOlwiV2Via2l0VXNlclNlbGVjdFwiO2xldCBjO2Z1bmN0aW9uIHUoKXtzJiZsJiYoYz1zW2xdLHNbbF09XCJub25lXCIpfWZ1bmN0aW9uIGgoKXtzJiZsJiYoc1tsXT1jKX1mdW5jdGlvbiBkKHQpe3QucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGQsITApfWZ1bmN0aW9uIHAoKXtlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixkLCEwKSxlLndpbmRvdy5zZXRUaW1lb3V0KCgpPT57ZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZCwhMCl9LDApfWZ1bmN0aW9uIGYoZSx0KXtjb25zdCByPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIF8oZSxyLHQpfWZ1bmN0aW9uIG0oZSx0KXtjb25zdCByPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbj1bXTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyluLnB1c2goXyhlLHIsdFtpXSkpO3JldHVybiBufWZ1bmN0aW9uIGcodCl7cmV0dXJuIHZvaWQgMCE9PWUud2luZG93Lkluc3RhbGxUcmlnZ2VyJiYyPT09dC5idXR0b24mJnQuY3RybEtleSYmZS53aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihcIk1BQ1wiKT49MD8wOnQuYnV0dG9ufWZ1bmN0aW9uIF8odCxyLG4pe2NvbnN0IGk9dC5vZmZzZXRXaWR0aD09PXIud2lkdGg/MTp0Lm9mZnNldFdpZHRoL3Iud2lkdGg7cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoKG4uY2xpZW50WC1yLmxlZnQpKmksKG4uY2xpZW50WS1yLnRvcCkqaSl9ZnVuY3Rpb24geShlLHQpe3ZhciByPXRbMF0sbj10WzFdLGk9dFsyXSxvPXRbM10sYT1yKm8taSpuO3JldHVybiBhPyhlWzBdPW8qKGE9MS9hKSxlWzFdPS1uKmEsZVsyXT0taSphLGVbM109ciphLGUpOm51bGx9ZnVuY3Rpb24gdihlKXtjb25zdHt1c2VySW1hZ2U6dH09ZTtyZXR1cm4hISh0JiZ0LnJlbmRlciYmdC5yZW5kZXIoKSkmJihlLmRhdGEucmVwbGFjZShuZXcgVWludDhBcnJheSh0LmRhdGEuYnVmZmVyKSksITApfWNsYXNzIHggZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuaW1hZ2VzPXt9LHRoaXMudXBkYXRlZEltYWdlcz17fSx0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZT17fSx0aGlzLmxvYWRlZD0hMSx0aGlzLnJlcXVlc3RvcnM9W10sdGhpcy5wYXR0ZXJucz17fSx0aGlzLmF0bGFzSW1hZ2U9bmV3IGUuUkdCQUltYWdlKHt3aWR0aDoxLGhlaWdodDoxfSksdGhpcy5kaXJ0eT0hMH1pc0xvYWRlZCgpe3JldHVybiB0aGlzLmxvYWRlZH1zZXRMb2FkZWQoZSl7aWYodGhpcy5sb2FkZWQhPT1lJiYodGhpcy5sb2FkZWQ9ZSxlKSl7Zm9yKGNvbnN0e2lkczplLGNhbGxiYWNrOnR9b2YgdGhpcy5yZXF1ZXN0b3JzKXRoaXMuX25vdGlmeShlLHQpO3RoaXMucmVxdWVzdG9ycz1bXX19aGFzSW1hZ2UoZSl7cmV0dXJuISF0aGlzLmdldEltYWdlKGUpfWdldEltYWdlKGUpe3JldHVybiB0aGlzLmltYWdlc1tlXX1hZGRJbWFnZShlLHQpe3RoaXMuX3ZhbGlkYXRlKGUsdCkmJih0aGlzLmltYWdlc1tlXT10KX1fdmFsaWRhdGUodCxyKXtsZXQgbj0hMDtyZXR1cm4gdGhpcy5fdmFsaWRhdGVTdHJldGNoKHIuc3RyZXRjaFgsci5kYXRhJiZyLmRhdGEud2lkdGgpfHwodGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBJbWFnZSBcIiR7dH1cIiBoYXMgaW52YWxpZCBcInN0cmV0Y2hYXCIgdmFsdWVgKSkpLG49ITEpLHRoaXMuX3ZhbGlkYXRlU3RyZXRjaChyLnN0cmV0Y2hZLHIuZGF0YSYmci5kYXRhLmhlaWdodCl8fCh0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYEltYWdlIFwiJHt0fVwiIGhhcyBpbnZhbGlkIFwic3RyZXRjaFlcIiB2YWx1ZWApKSksbj0hMSksdGhpcy5fdmFsaWRhdGVDb250ZW50KHIuY29udGVudCxyKXx8KHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgSW1hZ2UgXCIke3R9XCIgaGFzIGludmFsaWQgXCJjb250ZW50XCIgdmFsdWVgKSkpLG49ITEpLG59X3ZhbGlkYXRlU3RyZXRjaChlLHQpe2lmKCFlKXJldHVybiEwO2xldCByPTA7Zm9yKGNvbnN0IG4gb2YgZSl7aWYoblswXTxyfHxuWzFdPG5bMF18fHQ8blsxXSlyZXR1cm4hMTtyPW5bMV19cmV0dXJuITB9X3ZhbGlkYXRlQ29udGVudChlLHQpe3JldHVybiEoZSYmKDQhPT1lLmxlbmd0aHx8ZVswXTwwfHx0LmRhdGEud2lkdGg8ZVswXXx8ZVsxXTwwfHx0LmRhdGEuaGVpZ2h0PGVbMV18fGVbMl08MHx8dC5kYXRhLndpZHRoPGVbMl18fGVbM108MHx8dC5kYXRhLmhlaWdodDxlWzNdfHxlWzJdPGVbMF18fGVbM108ZVsxXSkpfXVwZGF0ZUltYWdlKGUsdCl7dC52ZXJzaW9uPXRoaXMuaW1hZ2VzW2VdLnZlcnNpb24rMSx0aGlzLmltYWdlc1tlXT10LHRoaXMudXBkYXRlZEltYWdlc1tlXT0hMH1yZW1vdmVJbWFnZShlKXtjb25zdCB0PXRoaXMuaW1hZ2VzW2VdO2RlbGV0ZSB0aGlzLmltYWdlc1tlXSxkZWxldGUgdGhpcy5wYXR0ZXJuc1tlXSx0LnVzZXJJbWFnZSYmdC51c2VySW1hZ2Uub25SZW1vdmUmJnQudXNlckltYWdlLm9uUmVtb3ZlKCl9bGlzdEltYWdlcygpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmltYWdlcyl9Z2V0SW1hZ2VzKGUsdCl7bGV0IHI9ITA7aWYoIXRoaXMuaXNMb2FkZWQoKSlmb3IoY29uc3QgdCBvZiBlKXRoaXMuaW1hZ2VzW3RdfHwocj0hMSk7dGhpcy5pc0xvYWRlZCgpfHxyP3RoaXMuX25vdGlmeShlLHQpOnRoaXMucmVxdWVzdG9ycy5wdXNoKHtpZHM6ZSxjYWxsYmFjazp0fSl9X25vdGlmeSh0LHIpe2NvbnN0IG49e307Zm9yKGNvbnN0IHIgb2YgdCl7dGhpcy5pbWFnZXNbcl18fHRoaXMuZmlyZShuZXcgZS5FdmVudChcInN0eWxlaW1hZ2VtaXNzaW5nXCIse2lkOnJ9KSk7Y29uc3QgdD10aGlzLmltYWdlc1tyXTt0P25bcl09e2RhdGE6dC5kYXRhLmNsb25lKCkscGl4ZWxSYXRpbzp0LnBpeGVsUmF0aW8sc2RmOnQuc2RmLHZlcnNpb246dC52ZXJzaW9uLHN0cmV0Y2hYOnQuc3RyZXRjaFgsc3RyZXRjaFk6dC5zdHJldGNoWSxjb250ZW50OnQuY29udGVudCxoYXNSZW5kZXJDYWxsYmFjazpCb29sZWFuKHQudXNlckltYWdlJiZ0LnVzZXJJbWFnZS5yZW5kZXIpfTplLndhcm5PbmNlKGBJbWFnZSBcIiR7cn1cIiBjb3VsZCBub3QgYmUgbG9hZGVkLiBQbGVhc2UgbWFrZSBzdXJlIHlvdSBoYXZlIGFkZGVkIHRoZSBpbWFnZSB3aXRoIG1hcC5hZGRJbWFnZSgpIG9yIGEgXCJzcHJpdGVcIiBwcm9wZXJ0eSBpbiB5b3VyIHN0eWxlLiBZb3UgY2FuIHByb3ZpZGUgbWlzc2luZyBpbWFnZXMgYnkgbGlzdGVuaW5nIGZvciB0aGUgXCJzdHlsZWltYWdlbWlzc2luZ1wiIG1hcCBldmVudC5gKX1yKG51bGwsbil9Z2V0UGl4ZWxTaXplKCl7Y29uc3R7d2lkdGg6ZSxoZWlnaHQ6dH09dGhpcy5hdGxhc0ltYWdlO3JldHVybnt3aWR0aDplLGhlaWdodDp0fX1nZXRQYXR0ZXJuKHQpe2NvbnN0IHI9dGhpcy5wYXR0ZXJuc1t0XSxuPXRoaXMuZ2V0SW1hZ2UodCk7aWYoIW4pcmV0dXJuIG51bGw7aWYociYmci5wb3NpdGlvbi52ZXJzaW9uPT09bi52ZXJzaW9uKXJldHVybiByLnBvc2l0aW9uO2lmKHIpci5wb3NpdGlvbi52ZXJzaW9uPW4udmVyc2lvbjtlbHNle2NvbnN0IHI9e3c6bi5kYXRhLndpZHRoKzIsaDpuLmRhdGEuaGVpZ2h0KzIseDowLHk6MH0saT1uZXcgZS5JbWFnZVBvc2l0aW9uKHIsbik7dGhpcy5wYXR0ZXJuc1t0XT17YmluOnIscG9zaXRpb246aX19cmV0dXJuIHRoaXMuX3VwZGF0ZVBhdHRlcm5BdGxhcygpLHRoaXMucGF0dGVybnNbdF0ucG9zaXRpb259YmluZCh0KXtjb25zdCByPXQuZ2w7dGhpcy5hdGxhc1RleHR1cmU/dGhpcy5kaXJ0eSYmKHRoaXMuYXRsYXNUZXh0dXJlLnVwZGF0ZSh0aGlzLmF0bGFzSW1hZ2UpLHRoaXMuZGlydHk9ITEpOnRoaXMuYXRsYXNUZXh0dXJlPW5ldyBlLlRleHR1cmUodCx0aGlzLmF0bGFzSW1hZ2Usci5SR0JBKSx0aGlzLmF0bGFzVGV4dHVyZS5iaW5kKHIuTElORUFSLHIuQ0xBTVBfVE9fRURHRSl9X3VwZGF0ZVBhdHRlcm5BdGxhcygpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IGUgaW4gdGhpcy5wYXR0ZXJucyl0LnB1c2godGhpcy5wYXR0ZXJuc1tlXS5iaW4pO2NvbnN0e3c6cixoOm59PWUucG90cGFjayh0KSxpPXRoaXMuYXRsYXNJbWFnZTtpLnJlc2l6ZSh7d2lkdGg6cnx8MSxoZWlnaHQ6bnx8MX0pO2Zvcihjb25zdCB0IGluIHRoaXMucGF0dGVybnMpe2NvbnN0e2JpbjpyfT10aGlzLnBhdHRlcm5zW3RdLG49ci54KzEsbz1yLnkrMSxhPXRoaXMuaW1hZ2VzW3RdLmRhdGEscz1hLndpZHRoLGw9YS5oZWlnaHQ7ZS5SR0JBSW1hZ2UuY29weShhLGkse3g6MCx5OjB9LHt4Om4seTpvfSx7d2lkdGg6cyxoZWlnaHQ6bH0pLGUuUkdCQUltYWdlLmNvcHkoYSxpLHt4OjAseTpsLTF9LHt4Om4seTpvLTF9LHt3aWR0aDpzLGhlaWdodDoxfSksZS5SR0JBSW1hZ2UuY29weShhLGkse3g6MCx5OjB9LHt4Om4seTpvK2x9LHt3aWR0aDpzLGhlaWdodDoxfSksZS5SR0JBSW1hZ2UuY29weShhLGkse3g6cy0xLHk6MH0se3g6bi0xLHk6b30se3dpZHRoOjEsaGVpZ2h0Omx9KSxlLlJHQkFJbWFnZS5jb3B5KGEsaSx7eDowLHk6MH0se3g6bitzLHk6b30se3dpZHRoOjEsaGVpZ2h0Omx9KX10aGlzLmRpcnR5PSEwfWJlZ2luRnJhbWUoKXt0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZT17fX1kaXNwYXRjaFJlbmRlckNhbGxiYWNrcyhlKXtmb3IoY29uc3QgdCBvZiBlKXtpZih0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZVt0XSljb250aW51ZTt0aGlzLmNhbGxiYWNrRGlzcGF0Y2hlZFRoaXNGcmFtZVt0XT0hMDtjb25zdCBlPXRoaXMuaW1hZ2VzW3RdO3YoZSkmJnRoaXMudXBkYXRlSW1hZ2UodCxlKX19fWNvbnN0IGI9bmV3IGUuUHJvcGVydGllcyh7YW5jaG9yOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5saWdodC5hbmNob3IpLHBvc2l0aW9uOm5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuc3BlY2lmaWNhdGlvbj1lLnNwZWMubGlnaHQucG9zaXRpb259cG9zc2libHlFdmFsdWF0ZSh0LHIpe3JldHVybiBmdW5jdGlvbihbdCxyLG5dKXtjb25zdCBpPWUuZGVnVG9SYWQocis5MCksbz1lLmRlZ1RvUmFkKG4pO3JldHVybnt4OnQqTWF0aC5jb3MoaSkqTWF0aC5zaW4obykseTp0Kk1hdGguc2luKGkpKk1hdGguc2luKG8pLHo6dCpNYXRoLmNvcyhvKSxhemltdXRoYWw6cixwb2xhcjpufX0odC5leHByZXNzaW9uLmV2YWx1YXRlKHIpKX1pbnRlcnBvbGF0ZSh0LHIsbil7cmV0dXJue3g6ZS5udW1iZXIodC54LHIueCxuKSx5OmUubnVtYmVyKHQueSxyLnksbiksejplLm51bWJlcih0Lnosci56LG4pLGF6aW11dGhhbDplLm51bWJlcih0LmF6aW11dGhhbCxyLmF6aW11dGhhbCxuKSxwb2xhcjplLm51bWJlcih0LnBvbGFyLHIucG9sYXIsbil9fX0sY29sb3I6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmxpZ2h0LmNvbG9yKSxpbnRlbnNpdHk6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmxpZ2h0LmludGVuc2l0eSl9KSx3PVwiLXRyYW5zaXRpb25cIjtjbGFzcyBUIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5fdHJhbnNpdGlvbmFibGU9bmV3IGUuVHJhbnNpdGlvbmFibGUoYiksdGhpcy5zZXRMaWdodCh0KSx0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnVudHJhbnNpdGlvbmVkKCl9Z2V0TGlnaHQoKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCl9c2V0TGlnaHQodCxyPXt9KXtpZighdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZUxpZ2h0LHQscikpZm9yKGNvbnN0IHIgaW4gdCl7Y29uc3Qgbj10W3JdO2UuZW5kc1dpdGgocix3KT90aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRUcmFuc2l0aW9uKHIuc2xpY2UoMCwtdy5sZW5ndGgpLG4pOnRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFZhbHVlKHIsbil9fXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmc9dGhpcy5fdHJhbnNpdGlvbmFibGUudHJhbnNpdGlvbmVkKGUsdGhpcy5fdHJhbnNpdGlvbmluZyl9aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nLmhhc1RyYW5zaXRpb24oKX1yZWNhbGN1bGF0ZShlKXt0aGlzLnByb3BlcnRpZXM9dGhpcy5fdHJhbnNpdGlvbmluZy5wb3NzaWJseUV2YWx1YXRlKGUpfV92YWxpZGF0ZSh0LHIsbil7cmV0dXJuKCFufHwhMSE9PW4udmFsaWRhdGUpJiZlLmVtaXRWYWxpZGF0aW9uRXJyb3JzKHRoaXMsdC5jYWxsKGUudmFsaWRhdGVTdHlsZSxlLmV4dGVuZCh7dmFsdWU6cixzdHlsZTp7Z2x5cGhzOiEwLHNwcml0ZTohMH0sc3R5bGVTcGVjOmUuc3BlY30pKSl9fWNvbnN0IEU9bmV3IGUuUHJvcGVydGllcyh7c291cmNlOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy50ZXJyYWluLnNvdXJjZSksZXhhZ2dlcmF0aW9uOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy50ZXJyYWluLmV4YWdnZXJhdGlvbil9KSxTPVwiLXRyYW5zaXRpb25cIjtjbGFzcyBDIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQscil7c3VwZXIoKSx0aGlzLl90cmFuc2l0aW9uYWJsZT1uZXcgZS5UcmFuc2l0aW9uYWJsZShFKSx0aGlzLnNldCh0KSx0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnVudHJhbnNpdGlvbmVkKCksdGhpcy5kcmFwZVJlbmRlck1vZGU9cn1nZXQoKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmFibGUuc2VyaWFsaXplKCl9c2V0KHQpe2Zvcihjb25zdCByIGluIHQpe2NvbnN0IG49dFtyXTtlLmVuZHNXaXRoKHIsUyk/dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbihyLnNsaWNlKDAsLVMubGVuZ3RoKSxuKTp0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRWYWx1ZShyLG4pfX11cGRhdGVUcmFuc2l0aW9ucyhlKXt0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnRyYW5zaXRpb25lZChlLHRoaXMuX3RyYW5zaXRpb25pbmcpfWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSl7dGhpcy5wcm9wZXJ0aWVzPXRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShlKX19ZnVuY3Rpb24gTSh0LHIsbixpKXtjb25zdCBvPWUuc21vb3Roc3RlcCg0NSw2NSxuKSxbYSxzXT1rKHQsaSksbD1lLmxlbmd0aChyKTtsZXQgYz0xLU1hdGgubWluKDEsTWF0aC5leHAoKGwtYSkvKHMtYSkqLTYpKTtyZXR1cm4gYyo9YypjLGM9TWF0aC5taW4oMSwxLjAwNzQ3KmMpLGMqbyp0LmFscGhhfWZ1bmN0aW9uIGsoZSx0KXtjb25zdCByPS41L01hdGgudGFuKC41KnQpO3JldHVybltlLnJhbmdlWzBdK3IsZS5yYW5nZVsxXStyXX1jb25zdCBBPW5ldyBlLlByb3BlcnRpZXMoe3JhbmdlOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5mb2cucmFuZ2UpLGNvbG9yOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5mb2cuY29sb3IpLFwiaGlnaC1jb2xvclwiOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5mb2dbXCJoaWdoLWNvbG9yXCJdKSxcInNwYWNlLWNvbG9yXCI6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZ1tcInNwYWNlLWNvbG9yXCJdKSxcImhvcml6b24tYmxlbmRcIjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMuZm9nW1wiaG9yaXpvbi1ibGVuZFwiXSksXCJzdGFyLWludGVuc2l0eVwiOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5mb2dbXCJzdGFyLWludGVuc2l0eVwiXSl9KSxJPVwiLXRyYW5zaXRpb25cIjtjbGFzcyBQIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQscil7c3VwZXIoKSx0aGlzLl90cmFuc2l0aW9uYWJsZT1uZXcgZS5UcmFuc2l0aW9uYWJsZShBKSx0aGlzLnNldCh0KSx0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnVudHJhbnNpdGlvbmVkKCksdGhpcy5fdHJhbnNmb3JtPXJ9Z2V0IHN0YXRlKCl7Y29uc3QgdD10aGlzLl90cmFuc2Zvcm0scj1cImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZSxuPWUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih0Lnpvb20pLGk9dGhpcy5wcm9wZXJ0aWVzLmdldChcInJhbmdlXCIpLG89Wy41LDNdO3JldHVybntyYW5nZTpyP1tlLm51bWJlcihvWzBdLGlbMF0sbiksZS5udW1iZXIob1sxXSxpWzFdLG4pXTppLGhvcml6b25CbGVuZDp0aGlzLnByb3BlcnRpZXMuZ2V0KFwiaG9yaXpvbi1ibGVuZFwiKSxhbHBoYTp0aGlzLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIikuYX19Z2V0KCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNlcmlhbGl6ZSgpfXNldCh0LHI9e30pe2lmKCF0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlRm9nLHQscikpe2Zvcihjb25zdCByIG9mIE9iamVjdC5rZXlzKGUuc3BlYy5mb2cpKXQmJnZvaWQgMD09PXRbcl0mJih0W3JdPWUuc3BlYy5mb2dbcl0uZGVmYXVsdCk7Zm9yKGNvbnN0IHIgaW4gdCl7Y29uc3Qgbj10W3JdO2UuZW5kc1dpdGgocixJKT90aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRUcmFuc2l0aW9uKHIuc2xpY2UoMCwtSS5sZW5ndGgpLG4pOnRoaXMuX3RyYW5zaXRpb25hYmxlLnNldFZhbHVlKHIsbil9fX1nZXRPcGFjaXR5KHQpe2lmKCF0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZylyZXR1cm4gMDtjb25zdCByPXRoaXMucHJvcGVydGllcyYmdGhpcy5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpfHwxO3JldHVybihcImdsb2JlXCI9PT10aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lPzE6ZS5zbW9vdGhzdGVwKDQ1LDY1LHQpKSpyLmF9Z2V0T3BhY2l0eUF0TGF0TG5nKHQscil7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nP2Z1bmN0aW9uKHQscixuKXtjb25zdCBpPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQociksbz1uLmVsZXZhdGlvbj9uLmVsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKGkpOjAsYT1baS54LGkueSxvXTtyZXR1cm4gZS50cmFuc2Zvcm1NYXQ0KGEsYSxuLm1lcmNhdG9yRm9nTWF0cml4KSxNKHQsYSxuLnBpdGNoLG4uX2Zvdil9KHRoaXMuc3RhdGUsdCxyKTowfWdldEZvdkFkanVzdGVkUmFuZ2UoZSl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nP2sodGhpcy5zdGF0ZSxlKTpbMCwxXX11cGRhdGVUcmFuc2l0aW9ucyhlKXt0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnRyYW5zaXRpb25lZChlLHRoaXMuX3RyYW5zaXRpb25pbmcpfWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSl7dGhpcy5wcm9wZXJ0aWVzPXRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShlKX1fdmFsaWRhdGUodCxyLG4pe3JldHVybighbnx8ITEhPT1uLnZhbGlkYXRlKSYmZS5lbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLHQuY2FsbChlLnZhbGlkYXRlU3R5bGUsZS5leHRlbmQoe3ZhbHVlOnIsc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9LHN0eWxlU3BlYzplLnNwZWN9KSkpfX1jbGFzcyB6e2NvbnN0cnVjdG9yKHQscil7dGhpcy53b3JrZXJQb29sPXQsdGhpcy5hY3RvcnM9W10sdGhpcy5jdXJyZW50QWN0b3I9MCx0aGlzLmlkPWUudW5pcXVlSWQoKTtjb25zdCBuPXRoaXMud29ya2VyUG9vbC5hY3F1aXJlKHRoaXMuaWQpO2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKXtjb25zdCB0PW5ldyB6LkFjdG9yKG5bZV0scix0aGlzLmlkKTt0Lm5hbWU9XCJXb3JrZXIgXCIrZSx0aGlzLmFjdG9ycy5wdXNoKHQpfXRoaXMucmVhZHk9ITEsdGhpcy5icm9hZGNhc3QoXCJjaGVja0lmUmVhZHlcIixudWxsLCgpPT57dGhpcy5yZWFkeT0hMH0pfWJyb2FkY2FzdCh0LHIsbil7ZS5hc3luY0FsbCh0aGlzLmFjdG9ycywoZSxuKT0+e2Uuc2VuZCh0LHIsbil9LG49bnx8ZnVuY3Rpb24oKXt9KX1nZXRBY3Rvcigpe3JldHVybiB0aGlzLmN1cnJlbnRBY3Rvcj0odGhpcy5jdXJyZW50QWN0b3IrMSkldGhpcy5hY3RvcnMubGVuZ3RoLHRoaXMuYWN0b3JzW3RoaXMuY3VycmVudEFjdG9yXX1yZW1vdmUoKXt0aGlzLmFjdG9ycy5mb3JFYWNoKGU9PntlLnJlbW92ZSgpfSksdGhpcy5hY3RvcnM9W10sdGhpcy53b3JrZXJQb29sLnJlbGVhc2UodGhpcy5pZCl9fWZ1bmN0aW9uIEQodCxyLG4pe3JldHVybiByKihlLkVYVEVOVC8odC50aWxlU2l6ZSpNYXRoLnBvdygyLG4tdC50aWxlSUQub3ZlcnNjYWxlZFopKSl9ei5BY3Rvcj1lLkFjdG9yO2NsYXNzIFJ7Y29uc3RydWN0b3IoZSx0LHIsbil7dGhpcy5zY3JlZW5Cb3VuZHM9ZSx0aGlzLmNhbWVyYVBvaW50PXQsdGhpcy5fc2NyZWVuUmF5Y2FzdENhY2hlPXt9LHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZT17fSx0aGlzLmlzQWJvdmVIb3Jpem9uPXIsdGhpcy5zY3JlZW5HZW9tZXRyeT10aGlzLmJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkoMCksdGhpcy5zY3JlZW5HZW9tZXRyeU1lcmNhdG9yPXRoaXMuX2J1ZmZlcmVkU2NyZWVuTWVyY2F0b3IoMCxuKX1zdGF0aWMgY3JlYXRlRnJvbVNjcmVlblBvaW50cyh0LHIpe2xldCBuLGk7aWYodCBpbnN0YW5jZW9mIGUucG9pbnRHZW9tZXRyeXx8XCJudW1iZXJcIj09dHlwZW9mIHRbMF0pe2NvbnN0IG89ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCk7bj1bb10saT1yLmlzUG9pbnRBYm92ZUhvcml6b24obyl9ZWxzZXtjb25zdCBvPWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHRbMF0pLGE9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodFsxXSk7bj1bbyxhXSxpPWUucG9seWdvbml6ZUJvdW5kcyhvLGEpLmV2ZXJ5KGU9PnIuaXNQb2ludEFib3ZlSG9yaXpvbihlKSl9cmV0dXJuIG5ldyBSKG4sci5nZXRDYW1lcmFQb2ludCgpLGkscil9aXNQb2ludFF1ZXJ5KCl7cmV0dXJuIDE9PT10aGlzLnNjcmVlbkJvdW5kcy5sZW5ndGh9YnVmZmVyZWRTY3JlZW5HZW9tZXRyeSh0KXtyZXR1cm4gZS5wb2x5Z29uaXplQm91bmRzKHRoaXMuc2NyZWVuQm91bmRzWzBdLDE9PT10aGlzLnNjcmVlbkJvdW5kcy5sZW5ndGg/dGhpcy5zY3JlZW5Cb3VuZHNbMF06dGhpcy5zY3JlZW5Cb3VuZHNbMV0sdCl9YnVmZmVyZWRDYW1lcmFHZW9tZXRyeSh0KXtjb25zdCByPXRoaXMuc2NyZWVuQm91bmRzWzBdLG49MT09PXRoaXMuc2NyZWVuQm91bmRzLmxlbmd0aD90aGlzLnNjcmVlbkJvdW5kc1swXS5hZGQobmV3IGUucG9pbnRHZW9tZXRyeSgxLDEpKTp0aGlzLnNjcmVlbkJvdW5kc1sxXSxpPWUucG9seWdvbml6ZUJvdW5kcyhyLG4sMCwhMSk7cmV0dXJuIHRoaXMuY2FtZXJhUG9pbnQueT5uLnkmJih0aGlzLmNhbWVyYVBvaW50Lng+ci54JiZ0aGlzLmNhbWVyYVBvaW50Lng8bi54P2kuc3BsaWNlKDMsMCx0aGlzLmNhbWVyYVBvaW50KTp0aGlzLmNhbWVyYVBvaW50Lng+PW4ueD9pWzJdPXRoaXMuY2FtZXJhUG9pbnQ6dGhpcy5jYW1lcmFQb2ludC54PD1yLngmJihpWzNdPXRoaXMuY2FtZXJhUG9pbnQpKSxlLmJ1ZmZlckNvbnZleFBvbHlnb24oaSx0KX1idWZmZXJlZENhbWVyYUdlb21ldHJ5R2xvYmUodCl7Y29uc3Qgcj10aGlzLnNjcmVlbkJvdW5kc1swXSxuPTE9PT10aGlzLnNjcmVlbkJvdW5kcy5sZW5ndGg/dGhpcy5zY3JlZW5Cb3VuZHNbMF0uYWRkKG5ldyBlLnBvaW50R2VvbWV0cnkoMSwxKSk6dGhpcy5zY3JlZW5Cb3VuZHNbMV0saT1lLnBvbHlnb25pemVCb3VuZHMocixuLHQpLG89dGhpcy5jYW1lcmFQb2ludC5jbG9uZSgpO3N3aXRjaCgzKigoby55PnIueSkrKG8ueT5uLnkpKSsoKG8ueD5yLngpKyhvLng+bi54KSkpe2Nhc2UgMDppWzBdPW8saVs0XT1vLmNsb25lKCk7YnJlYWs7Y2FzZSAxOmkuc3BsaWNlKDEsMCxvKTticmVhaztjYXNlIDI6aVsxXT1vO2JyZWFrO2Nhc2UgMzppLnNwbGljZSg0LDAsbyk7YnJlYWs7Y2FzZSA1Omkuc3BsaWNlKDIsMCxvKTticmVhaztjYXNlIDY6aVszXT1vO2JyZWFrO2Nhc2UgNzppLnNwbGljZSgzLDAsbyk7YnJlYWs7Y2FzZSA4OmlbMl09b31yZXR1cm4gaX1jb250YWluc1RpbGUodCxyLG4saT0wKXtjb25zdCBvPXQucXVlcnlQYWRkaW5nL3IuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwrMSxhPW4/dGhpcy5fYnVmZmVyZWRDYW1lcmFNZXJjYXRvcihvLHIpOnRoaXMuX2J1ZmZlcmVkU2NyZWVuTWVyY2F0b3IobyxyKTtsZXQgcz10LnRpbGVJRC53cmFwKyhhLnVud3JhcHBlZD9pOjApO2NvbnN0IGw9YS5wb2x5Z29uLm1hcChyPT5lLmdldFRpbGVQb2ludCh0LnRpbGVUcmFuc2Zvcm0scixzKSk7aWYoIWUucG9seWdvbkludGVyc2VjdHNCb3gobCwwLDAsZS5FWFRFTlQsZS5FWFRFTlQpKXJldHVybjtzPXQudGlsZUlELndyYXArKHRoaXMuc2NyZWVuR2VvbWV0cnlNZXJjYXRvci51bndyYXBwZWQ/aTowKTtjb25zdCBjPXRoaXMuc2NyZWVuR2VvbWV0cnlNZXJjYXRvci5wb2x5Z29uLm1hcChyPT5lLmdldFRpbGVWZWMzKHQudGlsZVRyYW5zZm9ybSxyLHMpKSx1PWMubWFwKHQ9Pm5ldyBlLnBvaW50R2VvbWV0cnkodFswXSx0WzFdKSksaD1yLmdldEZyZWVDYW1lcmFPcHRpb25zKCkucG9zaXRpb258fG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSgwLDAsMCksZD1lLmdldFRpbGVWZWMzKHQudGlsZVRyYW5zZm9ybSxoLHMpLHA9Yy5tYXAodD0+e2NvbnN0IHI9ZS5zdWIodCx0LGQpO3JldHVybiBlLm5vcm1hbGl6ZShyLHIpLG5ldyBlLlJheShkLHIpfSksZj1EKHQsMSxyLnpvb20pKnIuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7cmV0dXJue3F1ZXJ5R2VvbWV0cnk6dGhpcyx0aWxlc3BhY2VHZW9tZXRyeTp1LHRpbGVzcGFjZVJheXM6cCxidWZmZXJlZFRpbGVzcGFjZUdlb21ldHJ5OmwsYnVmZmVyZWRUaWxlc3BhY2VCb3VuZHM6KG09ZS5nZXRCb3VuZHMobCksbS5taW4ueD1lLmNsYW1wKG0ubWluLngsMCxlLkVYVEVOVCksbS5taW4ueT1lLmNsYW1wKG0ubWluLnksMCxlLkVYVEVOVCksbS5tYXgueD1lLmNsYW1wKG0ubWF4LngsMCxlLkVYVEVOVCksbS5tYXgueT1lLmNsYW1wKG0ubWF4LnksMCxlLkVYVEVOVCksbSksdGlsZTp0LHRpbGVJRDp0LnRpbGVJRCxwaXhlbFRvVGlsZVVuaXRzRmFjdG9yOmZ9O3ZhciBtfV9idWZmZXJlZFNjcmVlbk1lcmNhdG9yKGUsdCl7Y29uc3Qgcj1CKGUpO2lmKHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZVtyXSlyZXR1cm4gdGhpcy5fc2NyZWVuUmF5Y2FzdENhY2hlW3JdO3tsZXQgbjtyZXR1cm4gbj1cImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZT90aGlzLl9wcm9qZWN0QW5kUmVzYW1wbGUodGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KGUpLHQpOntwb2x5Z29uOnRoaXMuYnVmZmVyZWRTY3JlZW5HZW9tZXRyeShlKS5tYXAoZT0+dC5wb2ludENvb3JkaW5hdGUzRChlKSksdW53cmFwcGVkOiEwfSx0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGVbcl09bixufX1fYnVmZmVyZWRDYW1lcmFNZXJjYXRvcihlLHQpe2NvbnN0IHI9QihlKTtpZih0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGVbcl0pcmV0dXJuIHRoaXMuX2NhbWVyYVJheWNhc3RDYWNoZVtyXTt7bGV0IG47cmV0dXJuIG49XCJnbG9iZVwiPT09dC5wcm9qZWN0aW9uLm5hbWU/dGhpcy5fcHJvamVjdEFuZFJlc2FtcGxlKHRoaXMuYnVmZmVyZWRDYW1lcmFHZW9tZXRyeUdsb2JlKGUpLHQpOntwb2x5Z29uOnRoaXMuYnVmZmVyZWRDYW1lcmFHZW9tZXRyeShlKS5tYXAoZT0+dC5wb2ludENvb3JkaW5hdGUzRChlKSksdW53cmFwcGVkOiEwfSx0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGVbcl09bixufX1fcHJvamVjdEFuZFJlc2FtcGxlKHQscil7Y29uc3Qgbj1mdW5jdGlvbih0LHIpe2NvbnN0IG49ZS5tdWx0aXBseShbXSxyLnBpeGVsTWF0cml4LHIuZ2xvYmVNYXRyaXgpLGk9WzAsLWUuR0xPQkVfUkFESVVTLDAsMV0sbz1bMCxlLkdMT0JFX1JBRElVUywwLDFdLGE9WzAsMCwwLDFdO2UudHJhbnNmb3JtTWF0NCQxKGksaSxuKSxlLnRyYW5zZm9ybU1hdDQkMShvLG8sbiksZS50cmFuc2Zvcm1NYXQ0JDEoYSxhLG4pO2NvbnN0IHM9bmV3IGUucG9pbnRHZW9tZXRyeShpWzBdL2lbM10saVsxXS9pWzNdKSxsPW5ldyBlLnBvaW50R2VvbWV0cnkob1swXS9vWzNdLG9bMV0vb1szXSksYz1lLnBvbHlnb25Db250YWluc1BvaW50KHQscykmJmlbM108YVszXSx1PWUucG9seWdvbkNvbnRhaW5zUG9pbnQodCxsKSYmb1szXTxhWzNdO2lmKCFjJiYhdSlyZXR1cm4gbnVsbDtjb25zdCBoPWZ1bmN0aW9uKGUsdCxyKXtmb3IobGV0IG49MTtuPGUubGVuZ3RoO24rKyl7Y29uc3QgaT1PKHQucG9pbnRDb29yZGluYXRlM0QoZVtuLTFdKS54KSxvPU8odC5wb2ludENvb3JkaW5hdGUzRChlW25dKS54KTtpZihyPDApe2lmKGk8bylyZXR1cm57aWR4Om4sdDotaS8oby0xLWkpfX1lbHNlIGlmKG88aSlyZXR1cm57aWR4Om4sdDooMS1pKS8obysxLWkpfX1yZXR1cm4gbnVsbH0odCxyLGM/LTE6MSk7aWYoIWgpcmV0dXJuIG51bGw7Y29uc3R7aWR4OmQsdDpwfT1oO2xldCBmPWQ+MT9MKHQuc2xpY2UoMCxkKSxyKTpbXSxtPWQ8dC5sZW5ndGg/TCh0LnNsaWNlKGQpLHIpOltdO2Y9Zi5tYXAodD0+bmV3IGUucG9pbnRHZW9tZXRyeShPKHQueCksdC55KSksbT1tLm1hcCh0PT5uZXcgZS5wb2ludEdlb21ldHJ5KE8odC54KSx0LnkpKTtjb25zdCBnPVsuLi5mXTswPT09Zy5sZW5ndGgmJmcucHVzaChtW20ubGVuZ3RoLTFdKTtjb25zdCBfPWUubnVtYmVyKGdbZy5sZW5ndGgtMV0ueSwoMD09PW0ubGVuZ3RoP2ZbMF06bVswXSkueSxwKTtsZXQgeTtyZXR1cm4geT1jP1tuZXcgZS5wb2ludEdlb21ldHJ5KDAsXyksbmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLG5ldyBlLnBvaW50R2VvbWV0cnkoMSwwKSxuZXcgZS5wb2ludEdlb21ldHJ5KDEsXyldOltuZXcgZS5wb2ludEdlb21ldHJ5KDEsXyksbmV3IGUucG9pbnRHZW9tZXRyeSgxLDEpLG5ldyBlLnBvaW50R2VvbWV0cnkoMCwxKSxuZXcgZS5wb2ludEdlb21ldHJ5KDAsXyldLGcucHVzaCguLi55KSwwPT09bS5sZW5ndGg/Zy5wdXNoKGZbMF0pOmcucHVzaCguLi5tKSx7cG9seWdvbjpnLm1hcCh0PT5uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodC54LHQueSkpLHVud3JhcHBlZDohMX19KHQscik7aWYobilyZXR1cm4gbjtjb25zdCBpPWZ1bmN0aW9uKHQscil7bGV0IG49ITEsaT0tMS8wLG89MDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKXRbZV0ueD5pJiYoaT10W2VdLngsbz1lKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKXtjb25zdCByPShvK2UpJSh0Lmxlbmd0aC0xKSxpPXRbcl0sYT10W3IrMV07TWF0aC5hYnMoaS54LWEueCk+LjUmJihpLng8YS54PyhpLngrPTEsMD09PXImJih0W3QubGVuZ3RoLTFdLngrPTEpKTooYS54Kz0xLHIrMT09PXQubGVuZ3RoLTEmJih0WzBdLngrPTEpKSxuPSEwKX1jb25zdCBhPWUubWVyY2F0b3JYZnJvbUxuZyhyLmNlbnRlci5sbmcpO3JldHVybiBuJiZhPE1hdGguYWJzKGEtMSkmJnQuZm9yRWFjaChlPT57ZS54LT0xfSkse3BvbHlnb246dCx1bndyYXBwZWQ6bn19KEwodCxyKS5tYXAodD0+bmV3IGUucG9pbnRHZW9tZXRyeShPKHQueCksdC55KSkscik7cmV0dXJue3BvbHlnb246aS5wb2x5Z29uLm1hcCh0PT5uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodC54LHQueSkpLHVud3JhcHBlZDppLnVud3JhcHBlZH19fWZ1bmN0aW9uIEwodCxyKXtyZXR1cm4gZS5yZXNhbXBsZSh0LGU9Pntjb25zdCB0PXIucG9pbnRDb29yZGluYXRlM0QoZSk7ZS54PXQueCxlLnk9dC55fSwxLzI1Nil9ZnVuY3Rpb24gTyhlKXtyZXR1cm4gZTwwPzErZSUxOmUlMX1mdW5jdGlvbiBCKGUpe3JldHVybiAxMDAqZXwwfWZ1bmN0aW9uIEYodCxyLG4saSxvKXtjb25zdCBhPWZ1bmN0aW9uKG4saSl7aWYobilyZXR1cm4gbyhuKTtpZihpKXt0LnVybCYmaS50aWxlcyYmdC50aWxlcyYmZGVsZXRlIHQudGlsZXM7Y29uc3Qgbj1lLnBpY2soZS5leHRlbmQoaSx0KSxbXCJ0aWxlc1wiLFwibWluem9vbVwiLFwibWF4em9vbVwiLFwiYXR0cmlidXRpb25cIixcIm1hcGJveF9sb2dvXCIsXCJib3VuZHNcIixcInNjaGVtZVwiLFwidGlsZVNpemVcIixcImVuY29kaW5nXCJdKTtpLnZlY3Rvcl9sYXllcnMmJihuLnZlY3RvckxheWVycz1pLnZlY3Rvcl9sYXllcnMsbi52ZWN0b3JMYXllcklkcz1uLnZlY3RvckxheWVycy5tYXAoZT0+ZS5pZCkpLG4udGlsZXM9ci5jYW5vbmljYWxpemVUaWxlc2V0KG4sdC51cmwpLG8obnVsbCxuKX19O3JldHVybiB0LnVybD9lLmdldEpTT04oci50cmFuc2Zvcm1SZXF1ZXN0KHIubm9ybWFsaXplU291cmNlVVJMKHQudXJsLG51bGwsbixpKSxlLlJlc291cmNlVHlwZS5Tb3VyY2UpLGEpOmUuZXhwb3J0ZWQuZnJhbWUoKCk9PmEobnVsbCx0KSl9Y2xhc3Mgantjb25zdHJ1Y3Rvcih0LHIsbil7dGhpcy5ib3VuZHM9ZS5MbmdMYXRCb3VuZHMuY29udmVydCh0aGlzLnZhbGlkYXRlQm91bmRzKHQpKSx0aGlzLm1pbnpvb209cnx8MCx0aGlzLm1heHpvb209bnx8MjR9dmFsaWRhdGVCb3VuZHMoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJjQ9PT1lLmxlbmd0aD9bTWF0aC5tYXgoLTE4MCxlWzBdKSxNYXRoLm1heCgtOTAsZVsxXSksTWF0aC5taW4oMTgwLGVbMl0pLE1hdGgubWluKDkwLGVbM10pXTpbLTE4MCwtOTAsMTgwLDkwXX1jb250YWlucyh0KXtjb25zdCByPU1hdGgucG93KDIsdC56KSxuPU1hdGguZmxvb3IoZS5tZXJjYXRvclhmcm9tTG5nKHRoaXMuYm91bmRzLmdldFdlc3QoKSkqciksaT1NYXRoLmZsb29yKGUubWVyY2F0b3JZZnJvbUxhdCh0aGlzLmJvdW5kcy5nZXROb3J0aCgpKSpyKSxvPU1hdGguY2VpbChlLm1lcmNhdG9yWGZyb21MbmcodGhpcy5ib3VuZHMuZ2V0RWFzdCgpKSpyKSxhPU1hdGguY2VpbChlLm1lcmNhdG9yWWZyb21MYXQodGhpcy5ib3VuZHMuZ2V0U291dGgoKSkqcik7cmV0dXJuIHQueD49biYmdC54PG8mJnQueT49aSYmdC55PGF9fWNsYXNzIFV7Y29uc3RydWN0b3IoZSx0LHIpe3RoaXMuY29udGV4dD1lO2NvbnN0IG49ZS5nbDt0aGlzLmJ1ZmZlcj1uLmNyZWF0ZUJ1ZmZlcigpLHRoaXMuZHluYW1pY0RyYXc9Qm9vbGVhbihyKSx0aGlzLmNvbnRleHQudW5iaW5kVkFPKCksZS5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpLG4uYnVmZmVyRGF0YShuLkVMRU1FTlRfQVJSQVlfQlVGRkVSLHQuYXJyYXlCdWZmZXIsdGhpcy5keW5hbWljRHJhdz9uLkRZTkFNSUNfRFJBVzpuLlNUQVRJQ19EUkFXKSx0aGlzLmR5bmFtaWNEcmF3fHx0LmRlc3Ryb3koKX1iaW5kKCl7dGhpcy5jb250ZXh0LmJpbmRFbGVtZW50QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcil9dXBkYXRlRGF0YShlKXtjb25zdCB0PXRoaXMuY29udGV4dC5nbDt0aGlzLmNvbnRleHQudW5iaW5kVkFPKCksdGhpcy5iaW5kKCksdC5idWZmZXJTdWJEYXRhKHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsMCxlLmFycmF5QnVmZmVyKX1kZXN0cm95KCl7dGhpcy5idWZmZXImJih0aGlzLmNvbnRleHQuZ2wuZGVsZXRlQnVmZmVyKHRoaXMuYnVmZmVyKSxkZWxldGUgdGhpcy5idWZmZXIpfX1jb25zdCBOPXtJbnQ4OlwiQllURVwiLFVpbnQ4OlwiVU5TSUdORURfQllURVwiLEludDE2OlwiU0hPUlRcIixVaW50MTY6XCJVTlNJR05FRF9TSE9SVFwiLEludDMyOlwiSU5UXCIsVWludDMyOlwiVU5TSUdORURfSU5UXCIsRmxvYXQzMjpcIkZMT0FUXCJ9O2NsYXNzIFZ7Y29uc3RydWN0b3IoZSx0LHIsbil7dGhpcy5sZW5ndGg9dC5sZW5ndGgsdGhpcy5hdHRyaWJ1dGVzPXIsdGhpcy5pdGVtU2l6ZT10LmJ5dGVzUGVyRWxlbWVudCx0aGlzLmR5bmFtaWNEcmF3PW4sdGhpcy5jb250ZXh0PWU7Y29uc3QgaT1lLmdsO3RoaXMuYnVmZmVyPWkuY3JlYXRlQnVmZmVyKCksZS5iaW5kVmVydGV4QnVmZmVyLnNldCh0aGlzLmJ1ZmZlciksaS5idWZmZXJEYXRhKGkuQVJSQVlfQlVGRkVSLHQuYXJyYXlCdWZmZXIsdGhpcy5keW5hbWljRHJhdz9pLkRZTkFNSUNfRFJBVzppLlNUQVRJQ19EUkFXKSx0aGlzLmR5bmFtaWNEcmF3fHx0LmRlc3Ryb3koKX1iaW5kKCl7dGhpcy5jb250ZXh0LmJpbmRWZXJ0ZXhCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKX11cGRhdGVEYXRhKGUpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LmdsO3RoaXMuYmluZCgpLHQuYnVmZmVyU3ViRGF0YSh0LkFSUkFZX0JVRkZFUiwwLGUuYXJyYXlCdWZmZXIpfWVuYWJsZUF0dHJpYnV0ZXMoZSx0KXtmb3IobGV0IHI9MDtyPHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7cisrKXtjb25zdCBuPXQuYXR0cmlidXRlc1t0aGlzLmF0dHJpYnV0ZXNbcl0ubmFtZV07dm9pZCAwIT09biYmZS5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShuKX19c2V0VmVydGV4QXR0cmliUG9pbnRlcnMoZSx0LHIpe2ZvcihsZXQgbj0wO248dGhpcy5hdHRyaWJ1dGVzLmxlbmd0aDtuKyspe2NvbnN0IGk9dGhpcy5hdHRyaWJ1dGVzW25dLG89dC5hdHRyaWJ1dGVzW2kubmFtZV07dm9pZCAwIT09byYmZS52ZXJ0ZXhBdHRyaWJQb2ludGVyKG8saS5jb21wb25lbnRzLGVbTltpLnR5cGVdXSwhMSx0aGlzLml0ZW1TaXplLGkub2Zmc2V0K3RoaXMuaXRlbVNpemUqKHJ8fDApKX19ZGVzdHJveSgpe3RoaXMuYnVmZmVyJiYodGhpcy5jb250ZXh0LmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlciksZGVsZXRlIHRoaXMuYnVmZmVyKX19Y2xhc3MgR3tjb25zdHJ1Y3RvcihlKXt0aGlzLmdsPWUuZ2wsdGhpcy5kZWZhdWx0PXRoaXMuZ2V0RGVmYXVsdCgpLHRoaXMuY3VycmVudD10aGlzLmRlZmF1bHQsdGhpcy5kaXJ0eT0hMX1nZXQoKXtyZXR1cm4gdGhpcy5jdXJyZW50fXNldChlKXt9Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmRlZmF1bHR9c2V0RGVmYXVsdCgpe3RoaXMuc2V0KHRoaXMuZGVmYXVsdCl9fWNsYXNzIHEgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gZS5Db2xvci50cmFuc3BhcmVudH1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGUuciE9PXQucnx8ZS5nIT09dC5nfHxlLmIhPT10LmJ8fGUuYSE9PXQuYXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNsZWFyQ29sb3IoZS5yLGUuZyxlLmIsZS5hKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgWiBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiAxfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmNsZWFyRGVwdGgoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzICQgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gMH1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jbGVhclN0ZW5jaWwoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIFcgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm5bITAsITAsITAsITBdfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHxlWzJdIT09dFsyXXx8ZVszXSE9PXRbM118fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jb2xvck1hc2soZVswXSxlWzFdLGVbMl0sZVszXSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIFggZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4hMH1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5kZXB0aE1hc2soZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIEggZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gMjU1fXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxNYXNrKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBZIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJue2Z1bmM6dGhpcy5nbC5BTFdBWVMscmVmOjAsbWFzazoyNTV9fXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZS5mdW5jIT09dC5mdW5jfHxlLnJlZiE9PXQucmVmfHxlLm1hc2shPT10Lm1hc2t8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5zdGVuY2lsRnVuYyhlLmZ1bmMsZS5yZWYsZS5tYXNrKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgSyBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe2NvbnN0IGU9dGhpcy5nbDtyZXR1cm5bZS5LRUVQLGUuS0VFUCxlLktFRVBdfXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZVswXSE9PXRbMF18fGVbMV0hPT10WzFdfHxlWzJdIT09dFsyXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnN0ZW5jaWxPcChlWzBdLGVbMV0sZVsyXSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIEogZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4hMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDtlP3QuZW5hYmxlKHQuU1RFTkNJTF9URVNUKTp0LmRpc2FibGUodC5TVEVOQ0lMX1RFU1QpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIFEgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm5bMCwxXX1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGVbMF0hPT10WzBdfHxlWzFdIT09dFsxXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmRlcHRoUmFuZ2UoZVswXSxlWzFdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgZWUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4hMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDtlP3QuZW5hYmxlKHQuREVQVEhfVEVTVCk6dC5kaXNhYmxlKHQuREVQVEhfVEVTVCksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgdGUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5nbC5MRVNTfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmRlcHRoRnVuYyhlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgcmUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4hMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDtlP3QuZW5hYmxlKHQuQkxFTkQpOnQuZGlzYWJsZSh0LkJMRU5EKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyBuZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe2NvbnN0IGU9dGhpcy5nbDtyZXR1cm5bZS5PTkUsZS5aRVJPXX1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGVbMF0hPT10WzBdfHxlWzFdIT09dFsxXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmJsZW5kRnVuYyhlWzBdLGVbMV0pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBpZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiBlLkNvbG9yLnRyYW5zcGFyZW50fXNldChlKXtjb25zdCB0PXRoaXMuY3VycmVudDsoZS5yIT09dC5yfHxlLmchPT10Lmd8fGUuYiE9PXQuYnx8ZS5hIT09dC5hfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuYmxlbmRDb2xvcihlLnIsZS5nLGUuYixlLmEpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBvZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLkZVTkNfQUREfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmJsZW5kRXF1YXRpb24oZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIGFlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7ZT90LmVuYWJsZSh0LkNVTExfRkFDRSk6dC5kaXNhYmxlKHQuQ1VMTF9GQUNFKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyBzZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLkJBQ0t9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY3VsbEZhY2UoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIGxlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuQ0NXfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmZyb250RmFjZShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgY2UgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC51c2VQcm9ncmFtKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyB1ZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLlRFWFRVUkUwfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmFjdGl2ZVRleHR1cmUoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIGhlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7Y29uc3QgZT10aGlzLmdsO3JldHVyblswLDAsZS5kcmF3aW5nQnVmZmVyV2lkdGgsZS5kcmF3aW5nQnVmZmVySGVpZ2h0XX1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGVbMF0hPT10WzBdfHxlWzFdIT09dFsxXXx8ZVsyXSE9PXRbMl18fGVbM10hPT10WzNdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wudmlld3BvcnQoZVswXSxlWzFdLGVbMl0sZVszXSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIGRlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kRnJhbWVidWZmZXIodC5GUkFNRUJVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyBwZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QuYmluZFJlbmRlcmJ1ZmZlcih0LlJFTkRFUkJVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyBmZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QuYmluZFRleHR1cmUodC5URVhUVVJFXzJELGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIG1lIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kQnVmZmVyKHQuQVJSQVlfQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIGdlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRCdWZmZXIodC5FTEVNRU5UX0FSUkFZX0JVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyBfZSBleHRlbmRzIEd7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy52YW89ZS5leHRWZXJ0ZXhBcnJheU9iamVjdH1nZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpe3RoaXMudmFvJiYoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLnZhby5iaW5kVmVydGV4QXJyYXlPRVMoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIHllIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIDR9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5waXhlbFN0b3JlaSh0LlVOUEFDS19BTElHTk1FTlQsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgdmUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4hMX1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LnBpeGVsU3RvcmVpKHQuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIHhlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5waXhlbFN0b3JlaSh0LlVOUEFDS19GTElQX1lfV0VCR0wsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgYmUgZXh0ZW5kcyBHe2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSksdGhpcy5jb250ZXh0PWUsdGhpcy5wYXJlbnQ9dH1nZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9fWNsYXNzIHdlIGV4dGVuZHMgYmV7c2V0RGlydHkoKXt0aGlzLmRpcnR5PSEwfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47dGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5wYXJlbnQpO2NvbnN0IHQ9dGhpcy5nbDt0LmZyYW1lYnVmZmVyVGV4dHVyZTJEKHQuRlJBTUVCVUZGRVIsdC5DT0xPUl9BVFRBQ0hNRU5UMCx0LlRFWFRVUkVfMkQsZSwwKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyBUZSBleHRlbmRzIGJle2F0dGFjaG1lbnQoKXtyZXR1cm4gdGhpcy5nbC5ERVBUSF9BVFRBQ0hNRU5UfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47dGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5wYXJlbnQpO2NvbnN0IHQ9dGhpcy5nbDt0LmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKHQuRlJBTUVCVUZGRVIsdGhpcy5hdHRhY2htZW50KCksdC5SRU5ERVJCVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgRWUgZXh0ZW5kcyBUZXthdHRhY2htZW50KCl7cmV0dXJuIHRoaXMuZ2wuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UfX1jbGFzcyBTZXtjb25zdHJ1Y3RvcihlLHQscixuKXt0aGlzLmNvbnRleHQ9ZSx0aGlzLndpZHRoPXQsdGhpcy5oZWlnaHQ9cjtjb25zdCBpPXRoaXMuZnJhbWVidWZmZXI9ZS5nbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO3RoaXMuY29sb3JBdHRhY2htZW50PW5ldyB3ZShlLGkpLG4mJih0aGlzLmRlcHRoQXR0YWNobWVudD1uZXcgVGUoZSxpKSl9ZGVzdHJveSgpe2NvbnN0IGU9dGhpcy5jb250ZXh0LmdsLHQ9dGhpcy5jb2xvckF0dGFjaG1lbnQuZ2V0KCk7aWYodCYmZS5kZWxldGVUZXh0dXJlKHQpLHRoaXMuZGVwdGhBdHRhY2htZW50KXtjb25zdCB0PXRoaXMuZGVwdGhBdHRhY2htZW50LmdldCgpO3QmJmUuZGVsZXRlUmVuZGVyYnVmZmVyKHQpfWUuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5mcmFtZWJ1ZmZlcil9fWNsYXNzIENle2NvbnN0cnVjdG9yKGUpe3RoaXMuZ2w9ZSx0aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0PXRoaXMuZ2wuZ2V0RXh0ZW5zaW9uKFwiT0VTX3ZlcnRleF9hcnJheV9vYmplY3RcIiksdGhpcy5jbGVhckNvbG9yPW5ldyBxKHRoaXMpLHRoaXMuY2xlYXJEZXB0aD1uZXcgWih0aGlzKSx0aGlzLmNsZWFyU3RlbmNpbD1uZXcgJCh0aGlzKSx0aGlzLmNvbG9yTWFzaz1uZXcgVyh0aGlzKSx0aGlzLmRlcHRoTWFzaz1uZXcgWCh0aGlzKSx0aGlzLnN0ZW5jaWxNYXNrPW5ldyBIKHRoaXMpLHRoaXMuc3RlbmNpbEZ1bmM9bmV3IFkodGhpcyksdGhpcy5zdGVuY2lsT3A9bmV3IEsodGhpcyksdGhpcy5zdGVuY2lsVGVzdD1uZXcgSih0aGlzKSx0aGlzLmRlcHRoUmFuZ2U9bmV3IFEodGhpcyksdGhpcy5kZXB0aFRlc3Q9bmV3IGVlKHRoaXMpLHRoaXMuZGVwdGhGdW5jPW5ldyB0ZSh0aGlzKSx0aGlzLmJsZW5kPW5ldyByZSh0aGlzKSx0aGlzLmJsZW5kRnVuYz1uZXcgbmUodGhpcyksdGhpcy5ibGVuZENvbG9yPW5ldyBpZSh0aGlzKSx0aGlzLmJsZW5kRXF1YXRpb249bmV3IG9lKHRoaXMpLHRoaXMuY3VsbEZhY2U9bmV3IGFlKHRoaXMpLHRoaXMuY3VsbEZhY2VTaWRlPW5ldyBzZSh0aGlzKSx0aGlzLmZyb250RmFjZT1uZXcgbGUodGhpcyksdGhpcy5wcm9ncmFtPW5ldyBjZSh0aGlzKSx0aGlzLmFjdGl2ZVRleHR1cmU9bmV3IHVlKHRoaXMpLHRoaXMudmlld3BvcnQ9bmV3IGhlKHRoaXMpLHRoaXMuYmluZEZyYW1lYnVmZmVyPW5ldyBkZSh0aGlzKSx0aGlzLmJpbmRSZW5kZXJidWZmZXI9bmV3IHBlKHRoaXMpLHRoaXMuYmluZFRleHR1cmU9bmV3IGZlKHRoaXMpLHRoaXMuYmluZFZlcnRleEJ1ZmZlcj1uZXcgbWUodGhpcyksdGhpcy5iaW5kRWxlbWVudEJ1ZmZlcj1uZXcgZ2UodGhpcyksdGhpcy5iaW5kVmVydGV4QXJyYXlPRVM9dGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdCYmbmV3IF9lKHRoaXMpLHRoaXMucGl4ZWxTdG9yZVVucGFjaz1uZXcgeWUodGhpcyksdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYT1uZXcgdmUodGhpcyksdGhpcy5waXhlbFN0b3JlVW5wYWNrRmxpcFk9bmV3IHhlKHRoaXMpLHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljPWUuZ2V0RXh0ZW5zaW9uKFwiRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpfHxlLmdldEV4dGVuc2lvbihcIk1PWl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIil8fGUuZ2V0RXh0ZW5zaW9uKFwiV0VCS0lUX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKSx0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYyYmKHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4PWUuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLk1BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCkpLHRoaXMuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljRm9yY2VPZmY9ITEsdGhpcy5leHRTdGFuZGFyZERlcml2YXRpdmVzRm9yY2VPZmY9ITEsdGhpcy5leHREZWJ1Z1JlbmRlcmVySW5mbz1lLmdldEV4dGVuc2lvbihcIldFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm9cIiksdGhpcy5leHREZWJ1Z1JlbmRlcmVySW5mbyYmKHRoaXMucmVuZGVyZXI9ZS5nZXRQYXJhbWV0ZXIodGhpcy5leHREZWJ1Z1JlbmRlcmVySW5mby5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCksdGhpcy52ZW5kb3I9ZS5nZXRQYXJhbWV0ZXIodGhpcy5leHREZWJ1Z1JlbmRlcmVySW5mby5VTk1BU0tFRF9WRU5ET1JfV0VCR0wpKSx0aGlzLmV4dFRleHR1cmVIYWxmRmxvYXQ9ZS5nZXRFeHRlbnNpb24oXCJPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0XCIpLHRoaXMuZXh0VGV4dHVyZUhhbGZGbG9hdCYmKGUuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXJcIiksdGhpcy5leHRSZW5kZXJUb1RleHR1cmVIYWxmRmxvYXQ9ZS5nZXRFeHRlbnNpb24oXCJFWFRfY29sb3JfYnVmZmVyX2hhbGZfZmxvYXRcIikpLHRoaXMuZXh0U3RhbmRhcmREZXJpdmF0aXZlcz1lLmdldEV4dGVuc2lvbihcIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlc1wiKSx0aGlzLmV4dFRpbWVyUXVlcnk9ZS5nZXRFeHRlbnNpb24oXCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlcIiksdGhpcy5tYXhUZXh0dXJlU2l6ZT1lLmdldFBhcmFtZXRlcihlLk1BWF9URVhUVVJFX1NJWkUpfXNldERlZmF1bHQoKXt0aGlzLnVuYmluZFZBTygpLHRoaXMuY2xlYXJDb2xvci5zZXREZWZhdWx0KCksdGhpcy5jbGVhckRlcHRoLnNldERlZmF1bHQoKSx0aGlzLmNsZWFyU3RlbmNpbC5zZXREZWZhdWx0KCksdGhpcy5jb2xvck1hc2suc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhNYXNrLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxNYXNrLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxGdW5jLnNldERlZmF1bHQoKSx0aGlzLnN0ZW5jaWxPcC5zZXREZWZhdWx0KCksdGhpcy5zdGVuY2lsVGVzdC5zZXREZWZhdWx0KCksdGhpcy5kZXB0aFJhbmdlLnNldERlZmF1bHQoKSx0aGlzLmRlcHRoVGVzdC5zZXREZWZhdWx0KCksdGhpcy5kZXB0aEZ1bmMuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmQuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRGdW5jLnNldERlZmF1bHQoKSx0aGlzLmJsZW5kQ29sb3Iuc2V0RGVmYXVsdCgpLHRoaXMuYmxlbmRFcXVhdGlvbi5zZXREZWZhdWx0KCksdGhpcy5jdWxsRmFjZS5zZXREZWZhdWx0KCksdGhpcy5jdWxsRmFjZVNpZGUuc2V0RGVmYXVsdCgpLHRoaXMuZnJvbnRGYWNlLnNldERlZmF1bHQoKSx0aGlzLnByb2dyYW0uc2V0RGVmYXVsdCgpLHRoaXMuYWN0aXZlVGV4dHVyZS5zZXREZWZhdWx0KCksdGhpcy5iaW5kRnJhbWVidWZmZXIuc2V0RGVmYXVsdCgpLHRoaXMucGl4ZWxTdG9yZVVucGFjay5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXREZWZhdWx0KCksdGhpcy5waXhlbFN0b3JlVW5wYWNrRmxpcFkuc2V0RGVmYXVsdCgpfXNldERpcnR5KCl7dGhpcy5jbGVhckNvbG9yLmRpcnR5PSEwLHRoaXMuY2xlYXJEZXB0aC5kaXJ0eT0hMCx0aGlzLmNsZWFyU3RlbmNpbC5kaXJ0eT0hMCx0aGlzLmNvbG9yTWFzay5kaXJ0eT0hMCx0aGlzLmRlcHRoTWFzay5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxNYXNrLmRpcnR5PSEwLHRoaXMuc3RlbmNpbEZ1bmMuZGlydHk9ITAsdGhpcy5zdGVuY2lsT3AuZGlydHk9ITAsdGhpcy5zdGVuY2lsVGVzdC5kaXJ0eT0hMCx0aGlzLmRlcHRoUmFuZ2UuZGlydHk9ITAsdGhpcy5kZXB0aFRlc3QuZGlydHk9ITAsdGhpcy5kZXB0aEZ1bmMuZGlydHk9ITAsdGhpcy5ibGVuZC5kaXJ0eT0hMCx0aGlzLmJsZW5kRnVuYy5kaXJ0eT0hMCx0aGlzLmJsZW5kQ29sb3IuZGlydHk9ITAsdGhpcy5ibGVuZEVxdWF0aW9uLmRpcnR5PSEwLHRoaXMuY3VsbEZhY2UuZGlydHk9ITAsdGhpcy5jdWxsRmFjZVNpZGUuZGlydHk9ITAsdGhpcy5mcm9udEZhY2UuZGlydHk9ITAsdGhpcy5wcm9ncmFtLmRpcnR5PSEwLHRoaXMuYWN0aXZlVGV4dHVyZS5kaXJ0eT0hMCx0aGlzLnZpZXdwb3J0LmRpcnR5PSEwLHRoaXMuYmluZEZyYW1lYnVmZmVyLmRpcnR5PSEwLHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRUZXh0dXJlLmRpcnR5PSEwLHRoaXMuYmluZFZlcnRleEJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRFbGVtZW50QnVmZmVyLmRpcnR5PSEwLHRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QmJih0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUy5kaXJ0eT0hMCksdGhpcy5waXhlbFN0b3JlVW5wYWNrLmRpcnR5PSEwLHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuZGlydHk9ITAsdGhpcy5waXhlbFN0b3JlVW5wYWNrRmxpcFkuZGlydHk9ITB9Y3JlYXRlSW5kZXhCdWZmZXIoZSx0KXtyZXR1cm4gbmV3IFUodGhpcyxlLHQpfWNyZWF0ZVZlcnRleEJ1ZmZlcihlLHQscil7cmV0dXJuIG5ldyBWKHRoaXMsZSx0LHIpfWNyZWF0ZVJlbmRlcmJ1ZmZlcihlLHQscil7Y29uc3Qgbj10aGlzLmdsLGk9bi5jcmVhdGVSZW5kZXJidWZmZXIoKTtyZXR1cm4gdGhpcy5iaW5kUmVuZGVyYnVmZmVyLnNldChpKSxuLnJlbmRlcmJ1ZmZlclN0b3JhZ2Uobi5SRU5ERVJCVUZGRVIsZSx0LHIpLHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5zZXQobnVsbCksaX1jcmVhdGVGcmFtZWJ1ZmZlcihlLHQscil7cmV0dXJuIG5ldyBTZSh0aGlzLGUsdCxyKX1jbGVhcih7Y29sb3I6ZSxkZXB0aDp0LHN0ZW5jaWw6cn0pe2NvbnN0IG49dGhpcy5nbDtsZXQgaT0wO2UmJihpfD1uLkNPTE9SX0JVRkZFUl9CSVQsdGhpcy5jbGVhckNvbG9yLnNldChlKSx0aGlzLmNvbG9yTWFzay5zZXQoWyEwLCEwLCEwLCEwXSkpLHZvaWQgMCE9PXQmJihpfD1uLkRFUFRIX0JVRkZFUl9CSVQsdGhpcy5kZXB0aFJhbmdlLnNldChbMCwxXSksdGhpcy5jbGVhckRlcHRoLnNldCh0KSx0aGlzLmRlcHRoTWFzay5zZXQoITApKSx2b2lkIDAhPT1yJiYoaXw9bi5TVEVOQ0lMX0JVRkZFUl9CSVQsdGhpcy5jbGVhclN0ZW5jaWwuc2V0KHIpLHRoaXMuc3RlbmNpbE1hc2suc2V0KDI1NSkpLG4uY2xlYXIoaSl9c2V0Q3VsbEZhY2UoZSl7ITE9PT1lLmVuYWJsZT90aGlzLmN1bGxGYWNlLnNldCghMSk6KHRoaXMuY3VsbEZhY2Uuc2V0KCEwKSx0aGlzLmN1bGxGYWNlU2lkZS5zZXQoZS5tb2RlKSx0aGlzLmZyb250RmFjZS5zZXQoZS5mcm9udEZhY2UpKX1zZXREZXB0aE1vZGUoZSl7ZS5mdW5jIT09dGhpcy5nbC5BTFdBWVN8fGUubWFzaz8odGhpcy5kZXB0aFRlc3Quc2V0KCEwKSx0aGlzLmRlcHRoRnVuYy5zZXQoZS5mdW5jKSx0aGlzLmRlcHRoTWFzay5zZXQoZS5tYXNrKSx0aGlzLmRlcHRoUmFuZ2Uuc2V0KGUucmFuZ2UpKTp0aGlzLmRlcHRoVGVzdC5zZXQoITEpfXNldFN0ZW5jaWxNb2RlKGUpe2UudGVzdC5mdW5jIT09dGhpcy5nbC5BTFdBWVN8fGUubWFzaz8odGhpcy5zdGVuY2lsVGVzdC5zZXQoITApLHRoaXMuc3RlbmNpbE1hc2suc2V0KGUubWFzayksdGhpcy5zdGVuY2lsT3Auc2V0KFtlLmZhaWwsZS5kZXB0aEZhaWwsZS5wYXNzXSksdGhpcy5zdGVuY2lsRnVuYy5zZXQoe2Z1bmM6ZS50ZXN0LmZ1bmMscmVmOmUucmVmLG1hc2s6ZS50ZXN0Lm1hc2t9KSk6dGhpcy5zdGVuY2lsVGVzdC5zZXQoITEpfXNldENvbG9yTW9kZShyKXt0KHIuYmxlbmRGdW5jdGlvbixlLkNvbG9yTW9kZS5SZXBsYWNlKT90aGlzLmJsZW5kLnNldCghMSk6KHRoaXMuYmxlbmQuc2V0KCEwKSx0aGlzLmJsZW5kRnVuYy5zZXQoci5ibGVuZEZ1bmN0aW9uKSx0aGlzLmJsZW5kQ29sb3Iuc2V0KHIuYmxlbmRDb2xvcikpLHRoaXMuY29sb3JNYXNrLnNldChyLm1hc2spfXVuYmluZFZBTygpe3RoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QmJnRoaXMuYmluZFZlcnRleEFycmF5T0VTLnNldChudWxsKX19Y2xhc3MgTWUgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxyLG4saSl7c3VwZXIoKSx0aGlzLmlkPXQsdGhpcy5kaXNwYXRjaGVyPW4sdGhpcy5zZXRFdmVudGVkUGFyZW50KGkpLHRoaXMudHlwZT1cInJhc3RlclwiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0yMix0aGlzLnJvdW5kWm9vbT0hMCx0aGlzLnNjaGVtZT1cInh5elwiLHRoaXMudGlsZVNpemU9NTEyLHRoaXMuX2xvYWRlZD0hMSx0aGlzLl9vcHRpb25zPWUuZXh0ZW5kKHt0eXBlOlwicmFzdGVyXCJ9LHIpLGUuZXh0ZW5kKHRoaXMsZS5waWNrKHIsW1widXJsXCIsXCJzY2hlbWVcIixcInRpbGVTaXplXCJdKSl9bG9hZCgpe3RoaXMuX2xvYWRlZD0hMSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMuX3RpbGVKU09OUmVxdWVzdD1GKHRoaXMuX29wdGlvbnMsdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLG51bGwsbnVsbCwodCxyKT0+e3RoaXMuX3RpbGVKU09OUmVxdWVzdD1udWxsLHRoaXMuX2xvYWRlZD0hMCx0P3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHQpKTpyJiYoZS5leHRlbmQodGhpcyxyKSxyLmJvdW5kcyYmKHRoaXMudGlsZUJvdW5kcz1uZXcgaihyLmJvdW5kcyx0aGlzLm1pbnpvb20sdGhpcy5tYXh6b29tKSksZS5wb3N0VHVybnN0aWxlRXZlbnQoci50aWxlcyksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSkpfSl9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpfW9uUmVtb3ZlKCl7dGhpcy5fdGlsZUpTT05SZXF1ZXN0JiYodGhpcy5fdGlsZUpTT05SZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3RpbGVKU09OUmVxdWVzdD1udWxsKX1zZXJpYWxpemUoKXtyZXR1cm4gZS5leHRlbmQoe30sdGhpcy5fb3B0aW9ucyl9aGFzVGlsZShlKXtyZXR1cm4hdGhpcy50aWxlQm91bmRzfHx0aGlzLnRpbGVCb3VuZHMuY29udGFpbnMoZS5jYW5vbmljYWwpfWxvYWRUaWxlKHQscil7Y29uc3Qgbj1lLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8+PTIsaT10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0LnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpLG4sdGhpcy50aWxlU2l6ZSk7dC5yZXF1ZXN0PWUuZ2V0SW1hZ2UodGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QoaSxlLlJlc291cmNlVHlwZS5UaWxlKSwobixpLG8sYSk9PihkZWxldGUgdC5yZXF1ZXN0LHQuYWJvcnRlZD8odC5zdGF0ZT1cInVubG9hZGVkXCIscihudWxsKSk6bj8odC5zdGF0ZT1cImVycm9yZWRcIixyKG4pKTppPyh0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcyYmdC5zZXRFeHBpcnlEYXRhKHtjYWNoZUNvbnRyb2w6byxleHBpcmVzOmF9KSx0LnNldFRleHR1cmUoaSx0aGlzLm1hcC5wYWludGVyKSx0LnN0YXRlPVwibG9hZGVkXCIsZS5jYWNoZUVudHJ5UG9zc2libHlBZGRlZCh0aGlzLmRpc3BhdGNoZXIpLHZvaWQgcihudWxsKSk6cihudWxsKSkpfXN0YXRpYyBsb2FkVGlsZURhdGEoZSx0LHIpe2Uuc2V0VGV4dHVyZSh0LHIpfXN0YXRpYyB1bmxvYWRUaWxlRGF0YShlLHQpe2UudGV4dHVyZSYmdC5zYXZlVGlsZVRleHR1cmUoZS50ZXh0dXJlKX1hYm9ydFRpbGUoZSx0KXtlLnJlcXVlc3QmJihlLnJlcXVlc3QuY2FuY2VsKCksZGVsZXRlIGUucmVxdWVzdCksdCgpfXVubG9hZFRpbGUoZSx0KXtlLnRleHR1cmUmJnRoaXMubWFwLnBhaW50ZXIuc2F2ZVRpbGVUZXh0dXJlKGUudGV4dHVyZSksdCgpfWhhc1RyYW5zaXRpb24oKXtyZXR1cm4hMX19bGV0IGtlO2Z1bmN0aW9uIEFlKHQscixuLGksbyxhLHMsbCl7Y29uc3QgYz1bdCxuLG8scixpLGEsMSwxLDFdLHU9W3MsbCwxXSxoPWUuYWRqb2ludChbXSxjKSxbZCxwLGZdPWUudHJhbnNmb3JtTWF0Myh1LHUsZS50cmFuc3Bvc2UoaCxoKSk7cmV0dXJuIGUubXVsdGlwbHkkMShjLFtkLDAsMCwwLHAsMCwwLDAsZl0sYyl9Y2xhc3MgSWUgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IoZSx0LHIsbil7c3VwZXIoKSx0aGlzLmlkPWUsdGhpcy5kaXNwYXRjaGVyPXIsdGhpcy5jb29yZGluYXRlcz10LmNvb3JkaW5hdGVzLHRoaXMudHlwZT1cImltYWdlXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMudGlsZVNpemU9NTEyLHRoaXMudGlsZXM9e30sdGhpcy5fbG9hZGVkPSExLHRoaXMuc2V0RXZlbnRlZFBhcmVudChuKSx0aGlzLm9wdGlvbnM9dCx0aGlzLl9kaXJ0eT0hMX1sb2FkKHQscil7dGhpcy5fbG9hZGVkPXJ8fCExLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy51cmw9dGhpcy5vcHRpb25zLnVybCx0aGlzLl9pbWFnZVJlcXVlc3Q9ZS5nZXRJbWFnZSh0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh0aGlzLnVybCxlLlJlc291cmNlVHlwZS5JbWFnZSksKHIsbik9PntpZih0aGlzLl9pbWFnZVJlcXVlc3Q9bnVsbCx0aGlzLl9sb2FkZWQ9ITAscil0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChyKSk7ZWxzZSBpZihuKXtjb25zdHtIVE1MSW1hZ2VFbGVtZW50OnJ9PWUud2luZG93O3RoaXMuaW1hZ2U9biBpbnN0YW5jZW9mIHI/ZS5leHBvcnRlZC5nZXRJbWFnZURhdGEobik6bix0aGlzLl9kaXJ0eT0hMCx0aGlzLndpZHRoPXRoaXMuaW1hZ2Uud2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5pbWFnZS5oZWlnaHQsdCYmKHRoaXMuY29vcmRpbmF0ZXM9dCksdGhpcy5fZmluaXNoTG9hZGluZygpfX0pfWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9dXBkYXRlSW1hZ2UoZSl7cmV0dXJuIHRoaXMuaW1hZ2UmJmUudXJsPyh0aGlzLl9pbWFnZVJlcXVlc3QmJmUudXJsIT09dGhpcy5vcHRpb25zLnVybCYmKHRoaXMuX2ltYWdlUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9pbWFnZVJlcXVlc3Q9bnVsbCksdGhpcy5vcHRpb25zLnVybD1lLnVybCx0aGlzLmxvYWQoZS5jb29yZGluYXRlcyx0aGlzLl9sb2FkZWQpLHRoaXMpOnRoaXN9X2ZpbmlzaExvYWRpbmcoKXt0aGlzLm1hcCYmKHRoaXMuc2V0Q29vcmRpbmF0ZXModGhpcy5jb29yZGluYXRlcyksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSl9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKX1vblJlbW92ZSgpe3RoaXMuX2ltYWdlUmVxdWVzdCYmKHRoaXMuX2ltYWdlUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9pbWFnZVJlcXVlc3Q9bnVsbCksdGhpcy50ZXh0dXJlJiZ0aGlzLnRleHR1cmUuZGVzdHJveSgpfXNldENvb3JkaW5hdGVzKHQpe3RoaXMuY29vcmRpbmF0ZXM9dCx0aGlzLl9ib3VuZHNBcnJheT12b2lkIDA7Y29uc3Qgcj10Lm1hcChlLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KTtyZXR1cm4gdGhpcy50aWxlSUQ9ZnVuY3Rpb24odCl7bGV0IHI9MS8wLG49MS8wLGk9LTEvMCxvPS0xLzA7Zm9yKGNvbnN0IGUgb2YgdClyPU1hdGgubWluKHIsZS54KSxuPU1hdGgubWluKG4sZS55KSxpPU1hdGgubWF4KGksZS54KSxvPU1hdGgubWF4KG8sZS55KTtjb25zdCBhPU1hdGgubWF4KGktcixvLW4pLHM9TWF0aC5tYXgoMCxNYXRoLmZsb29yKC1NYXRoLmxvZyhhKS9NYXRoLkxOMikpLGw9TWF0aC5wb3coMixzKTtyZXR1cm4gbmV3IGUuQ2Fub25pY2FsVGlsZUlEKHMsTWF0aC5mbG9vcigocitpKS8yKmwpLE1hdGguZmxvb3IoKG4rbykvMipsKSl9KHIpLHRoaXMubWluem9vbT10aGlzLm1heHpvb209dGhpcy50aWxlSUQueix0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSksdGhpc31fY2xlYXIoKXt0aGlzLl9ib3VuZHNBcnJheT12b2lkIDB9X3ByZXBhcmVEYXRhKHQpe2Zvcihjb25zdCBlIGluIHRoaXMudGlsZXMpe2NvbnN0IHQ9dGhpcy50aWxlc1tlXTtcImxvYWRlZFwiIT09dC5zdGF0ZSYmKHQuc3RhdGU9XCJsb2FkZWRcIix0LnRleHR1cmU9dGhpcy50ZXh0dXJlKX1pZih0aGlzLl9ib3VuZHNBcnJheSlyZXR1cm47Y29uc3Qgcj1lLnRpbGVUcmFuc2Zvcm0odGhpcy50aWxlSUQsdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb24pLFtuLGksbyxhXT10aGlzLmNvb3JkaW5hdGVzLm1hcCh0PT57Y29uc3Qgbj1yLnByb2plY3Rpb24ucHJvamVjdCh0WzBdLHRbMV0pO3JldHVybiBlLmdldFRpbGVQb2ludChyLG4pLl9yb3VuZCgpfSk7dGhpcy5wZXJzcGVjdGl2ZVRyYW5zZm9ybT1mdW5jdGlvbih0LHIsbixpLG8sYSxzLGwsYyx1KXtjb25zdCBoPUFlKDAsMCx0LDAsMCxyLHQsciksZD1BZShuLGksbyxhLHMsbCxjLHUpO3JldHVybiBlLm11bHRpcGx5JDEoZCxlLmFkam9pbnQoaCxoKSxkKSxbZFs2XS9kWzhdKnQvZS5FWFRFTlQsZFs3XS9kWzhdKnIvZS5FWFRFTlRdfSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LG4ueCxuLnksaS54LGkueSxhLngsYS55LG8ueCxvLnkpO2NvbnN0IHM9dGhpcy5fYm91bmRzQXJyYXk9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQ0aTg7cy5lbXBsYWNlQmFjayhuLngsbi55LDAsMCkscy5lbXBsYWNlQmFjayhpLngsaS55LGUuRVhURU5ULDApLHMuZW1wbGFjZUJhY2soYS54LGEueSwwLGUuRVhURU5UKSxzLmVtcGxhY2VCYWNrKG8ueCxvLnksZS5FWFRFTlQsZS5FWFRFTlQpLHRoaXMuYm91bmRzQnVmZmVyJiZ0aGlzLmJvdW5kc0J1ZmZlci5kZXN0cm95KCksdGhpcy5ib3VuZHNCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIocyxlLmJvdW5kc0F0dHJpYnV0ZXMubWVtYmVycyksdGhpcy5ib3VuZHNTZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCwyKX1wcmVwYXJlKCl7aWYoMD09PU9iamVjdC5rZXlzKHRoaXMudGlsZXMpLmxlbmd0aHx8IXRoaXMuaW1hZ2UpcmV0dXJuO2NvbnN0IHQ9dGhpcy5tYXAucGFpbnRlci5jb250ZXh0LHI9dC5nbDt0aGlzLl9kaXJ0eSYmKHRoaXMudGV4dHVyZT90aGlzLnRleHR1cmUudXBkYXRlKHRoaXMuaW1hZ2UpOih0aGlzLnRleHR1cmU9bmV3IGUuVGV4dHVyZSh0LHRoaXMuaW1hZ2Usci5SR0JBKSx0aGlzLnRleHR1cmUuYmluZChyLkxJTkVBUixyLkNMQU1QX1RPX0VER0UpKSx0aGlzLl9kaXJ0eT0hMSksdGhpcy5fcHJlcGFyZURhdGEodCl9bG9hZFRpbGUoZSx0KXt0aGlzLnRpbGVJRCYmdGhpcy50aWxlSUQuZXF1YWxzKGUudGlsZUlELmNhbm9uaWNhbCk/KHRoaXMudGlsZXNbU3RyaW5nKGUudGlsZUlELndyYXApXT1lLGUuYnVja2V0cz17fSx0KG51bGwpKTooZS5zdGF0ZT1cImVycm9yZWRcIix0KG51bGwpKX1zZXJpYWxpemUoKXtyZXR1cm57dHlwZTpcImltYWdlXCIsdXJsOnRoaXMub3B0aW9ucy51cmwsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319aGFzVHJhbnNpdGlvbigpe3JldHVybiExfX1jb25zdCBQZT17dmVjdG9yOmNsYXNzIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQscixuLGkpe2lmKHN1cGVyKCksdGhpcy5pZD10LHRoaXMuZGlzcGF0Y2hlcj1uLHRoaXMudHlwZT1cInZlY3RvclwiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0yMix0aGlzLnNjaGVtZT1cInh5elwiLHRoaXMudGlsZVNpemU9NTEyLHRoaXMucmVwYXJzZU92ZXJzY2FsZWQ9ITAsdGhpcy5pc1RpbGVDbGlwcGVkPSEwLHRoaXMuX2xvYWRlZD0hMSxlLmV4dGVuZCh0aGlzLGUucGljayhyLFtcInVybFwiLFwic2NoZW1lXCIsXCJ0aWxlU2l6ZVwiLFwicHJvbW90ZUlkXCJdKSksdGhpcy5fb3B0aW9ucz1lLmV4dGVuZCh7dHlwZTpcInZlY3RvclwifSxyKSx0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc9ci5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsNTEyIT09dGhpcy50aWxlU2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJ2ZWN0b3IgdGlsZSBzb3VyY2VzIG11c3QgaGF2ZSBhIHRpbGVTaXplIG9mIDUxMlwiKTt0aGlzLnNldEV2ZW50ZWRQYXJlbnQoaSksdGhpcy5fdGlsZVdvcmtlcnM9e30sdGhpcy5fZGVkdXBlZD1uZXcgZS5EZWR1cGVkUmVxdWVzdH1sb2FkKHQpe3RoaXMuX2xvYWRlZD0hMSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpO2NvbnN0IHI9QXJyYXkuaXNBcnJheSh0aGlzLm1hcC5fbGFuZ3VhZ2UpP3RoaXMubWFwLl9sYW5ndWFnZS5qb2luKCk6dGhpcy5tYXAuX2xhbmd1YWdlLG49dGhpcy5tYXAuX3dvcmxkdmlldzt0aGlzLl90aWxlSlNPTlJlcXVlc3Q9Rih0aGlzLl9vcHRpb25zLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlcixyLG4sKGksbyk9Pnt0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCx0aGlzLl9sb2FkZWQ9ITAsaT8ociYmY29uc29sZS53YXJuKFwiRW5zdXJlIHRoYXQgeW91ciByZXF1ZXN0ZWQgbGFuZ3VhZ2Ugc3RyaW5nIGlzIGEgdmFsaWQgQkNQLTQ3IGNvZGUgb3IgbGlzdCBvZiBjb2Rlcy4gRm91bmQ6IFwiK3IpLG4mJjIhPT1uLmxlbmd0aCYmY29uc29sZS53YXJuKFwiUmVxdWVzdGVkIHdvcmxkdmlldyBzdHJpbmdzIG11c3QgYmUgYSB2YWxpZCBJU08gYWxwaGEtMiBjb2RlLiBGb3VuZDogXCIrbiksdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQoaSkpKTpvJiYoZS5leHRlbmQodGhpcyxvKSxvLmJvdW5kcyYmKHRoaXMudGlsZUJvdW5kcz1uZXcgaihvLmJvdW5kcyx0aGlzLm1pbnpvb20sdGhpcy5tYXh6b29tKSksZS5wb3N0VHVybnN0aWxlRXZlbnQoby50aWxlcyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJtZXRhZGF0YVwifSkpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcImNvbnRlbnRcIn0pKSksdCYmdChpKX0pfWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9aGFzVGlsZShlKXtyZXR1cm4hdGhpcy50aWxlQm91bmRzfHx0aGlzLnRpbGVCb3VuZHMuY29udGFpbnMoZS5jYW5vbmljYWwpfW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5sb2FkKCl9cmVsb2FkKCl7dGhpcy5jYW5jZWxUaWxlSlNPTlJlcXVlc3QoKSx0aGlzLmxvYWQoKCk9Pntjb25zdCBlPXRoaXMubWFwLnN0eWxlLl9nZXRTb3VyY2VDYWNoZXModGhpcy5pZCk7Zm9yKGNvbnN0IHQgb2YgZSl0LmNsZWFyVGlsZXMoKX0pfXNldFNvdXJjZVByb3BlcnR5KGUpe2UoKSx0aGlzLnJlbG9hZCgpfXNldFRpbGVzKGUpe3JldHVybiB0aGlzLl9vcHRpb25zLnRpbGVzPWUsdGhpcy5yZWxvYWQoKSx0aGlzfXNldFVybChlKXtyZXR1cm4gdGhpcy51cmw9ZSx0aGlzLl9vcHRpb25zLnVybD1lLHRoaXMucmVsb2FkKCksdGhpc31vblJlbW92ZSgpe3RoaXMuY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCl9c2VyaWFsaXplKCl7cmV0dXJuIGUuZXh0ZW5kKHt9LHRoaXMuX29wdGlvbnMpfWxvYWRUaWxlKHQscil7Y29uc3Qgbj10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0LnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpKSxpPXtyZXF1ZXN0OnRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KG4sZS5SZXNvdXJjZVR5cGUuVGlsZSksZGF0YTp2b2lkIDAsdWlkOnQudWlkLHRpbGVJRDp0LnRpbGVJRCx0aWxlWm9vbTp0LnRpbGVab29tLHpvb206dC50aWxlSUQub3ZlcnNjYWxlZFosdGlsZVNpemU6dGhpcy50aWxlU2l6ZSp0LnRpbGVJRC5vdmVyc2NhbGVGYWN0b3IoKSx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZCxwaXhlbFJhdGlvOmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyxzaG93Q29sbGlzaW9uQm94ZXM6dGhpcy5tYXAuc2hvd0NvbGxpc2lvbkJveGVzLHByb21vdGVJZDp0aGlzLnByb21vdGVJZCxpc1N5bWJvbFRpbGU6dC5pc1N5bWJvbFRpbGV9O2lmKGkucmVxdWVzdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmc9dGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nLHQuYWN0b3ImJlwiZXhwaXJlZFwiIT09dC5zdGF0ZSlcImxvYWRpbmdcIj09PXQuc3RhdGU/dC5yZWxvYWRDYWxsYmFjaz1yOnQucmVxdWVzdD10LmFjdG9yLnNlbmQoXCJyZWxvYWRUaWxlXCIsaSxvLmJpbmQodGhpcykpO2Vsc2UgaWYodC5hY3Rvcj10aGlzLl90aWxlV29ya2Vyc1tuXT10aGlzLl90aWxlV29ya2Vyc1tuXXx8dGhpcy5kaXNwYXRjaGVyLmdldEFjdG9yKCksdGhpcy5kaXNwYXRjaGVyLnJlYWR5KXQucmVxdWVzdD10LmFjdG9yLnNlbmQoXCJsb2FkVGlsZVwiLGksby5iaW5kKHRoaXMpLHZvaWQgMCwhMCk7ZWxzZXtjb25zdCByPWUubG9hZFZlY3RvclRpbGUuY2FsbCh7ZGVkdXBlZDp0aGlzLl9kZWR1cGVkfSxpLChlLHIpPT57ZXx8IXI/by5jYWxsKHRoaXMsZSk6KGkuZGF0YT17Y2FjaGVDb250cm9sOnIuY2FjaGVDb250cm9sLGV4cGlyZXM6ci5leHBpcmVzLHJhd0RhdGE6ci5yYXdEYXRhLnNsaWNlKDApfSx0LmFjdG9yJiZ0LmFjdG9yLnNlbmQoXCJsb2FkVGlsZVwiLGksby5iaW5kKHRoaXMpLHZvaWQgMCwhMCkpfSwhMCk7dC5yZXF1ZXN0PXtjYW5jZWw6cn19ZnVuY3Rpb24gbyhuLGkpe3JldHVybiBkZWxldGUgdC5yZXF1ZXN0LHQuYWJvcnRlZD9yKG51bGwpOm4mJjQwNCE9PW4uc3RhdHVzP3Iobik6KGkmJmkucmVzb3VyY2VUaW1pbmcmJih0LnJlc291cmNlVGltaW5nPWkucmVzb3VyY2VUaW1pbmcpLHRoaXMubWFwLl9yZWZyZXNoRXhwaXJlZFRpbGVzJiZpJiZ0LnNldEV4cGlyeURhdGEoaSksdC5sb2FkVmVjdG9yRGF0YShpLHRoaXMubWFwLnBhaW50ZXIpLGUuY2FjaGVFbnRyeVBvc3NpYmx5QWRkZWQodGhpcy5kaXNwYXRjaGVyKSxyKG51bGwpLHZvaWQodC5yZWxvYWRDYWxsYmFjayYmKHRoaXMubG9hZFRpbGUodCx0LnJlbG9hZENhbGxiYWNrKSx0LnJlbG9hZENhbGxiYWNrPW51bGwpKSl9fWFib3J0VGlsZShlKXtlLnJlcXVlc3QmJihlLnJlcXVlc3QuY2FuY2VsKCksZGVsZXRlIGUucmVxdWVzdCksZS5hY3RvciYmZS5hY3Rvci5zZW5kKFwiYWJvcnRUaWxlXCIse3VpZDplLnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZH0pfXVubG9hZFRpbGUoZSl7ZS51bmxvYWRWZWN0b3JEYXRhKCksZS5hY3RvciYmZS5hY3Rvci5zZW5kKFwicmVtb3ZlVGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9KX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuITF9YWZ0ZXJVcGRhdGUoKXt0aGlzLl90aWxlV29ya2Vycz17fX1jYW5jZWxUaWxlSlNPTlJlcXVlc3QoKXt0aGlzLl90aWxlSlNPTlJlcXVlc3QmJih0aGlzLl90aWxlSlNPTlJlcXVlc3QuY2FuY2VsKCksdGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwpfX0scmFzdGVyOk1lLFwicmFzdGVyLWRlbVwiOmNsYXNzIGV4dGVuZHMgTWV7Y29uc3RydWN0b3IodCxyLG4saSl7c3VwZXIodCxyLG4saSksdGhpcy50eXBlPVwicmFzdGVyLWRlbVwiLHRoaXMubWF4em9vbT0yMix0aGlzLl9vcHRpb25zPWUuZXh0ZW5kKHt0eXBlOlwicmFzdGVyLWRlbVwifSxyKSx0aGlzLmVuY29kaW5nPXIuZW5jb2Rpbmd8fFwibWFwYm94XCJ9bG9hZFRpbGUodCxyKXtjb25zdCBuPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVUaWxlVVJMKHQudGlsZUlELmNhbm9uaWNhbC51cmwodGhpcy50aWxlcyx0aGlzLnNjaGVtZSksITEsdGhpcy50aWxlU2l6ZSk7ZnVuY3Rpb24gaShlLG4pe2UmJih0LnN0YXRlPVwiZXJyb3JlZFwiLHIoZSkpLG4mJih0LmRlbT1uLHQuZGVtLm9uRGVzZXJpYWxpemUoKSx0Lm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMCx0Lm5lZWRzREVNVGV4dHVyZVVwbG9hZD0hMCx0LnN0YXRlPVwibG9hZGVkXCIscihudWxsKSl9dC5yZXF1ZXN0PWUuZ2V0SW1hZ2UodGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QobixlLlJlc291cmNlVHlwZS5UaWxlKSxmdW5jdGlvbihuLG8sYSxzKXtpZihkZWxldGUgdC5yZXF1ZXN0LHQuYWJvcnRlZCl0LnN0YXRlPVwidW5sb2FkZWRcIixyKG51bGwpO2Vsc2UgaWYobil0LnN0YXRlPVwiZXJyb3JlZFwiLHIobik7ZWxzZSBpZihvKXt0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcyYmdC5zZXRFeHBpcnlEYXRhKHtjYWNoZUNvbnRyb2w6YSxleHBpcmVzOnN9KTtjb25zdCByPWUud2luZG93LkltYWdlQml0bWFwJiZvIGluc3RhbmNlb2YgZS53aW5kb3cuSW1hZ2VCaXRtYXAmJihudWxsPT1rZSYmKGtlPWUud2luZG93Lk9mZnNjcmVlbkNhbnZhcyYmbmV3IGUud2luZG93Lk9mZnNjcmVlbkNhbnZhcygxLDEpLmdldENvbnRleHQoXCIyZFwiKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS53aW5kb3cuY3JlYXRlSW1hZ2VCaXRtYXApLGtlKSxuPTEtKG8ud2lkdGgtZS5wcmV2UG93ZXJPZlR3byhvLndpZHRoKSkvMjtuPDF8fHQubmVpZ2hib3JpbmdUaWxlc3x8KHQubmVpZ2hib3JpbmdUaWxlcz10aGlzLl9nZXROZWlnaGJvcmluZ1RpbGVzKHQudGlsZUlEKSk7Y29uc3QgbD1yP286ZS5leHBvcnRlZC5nZXRJbWFnZURhdGEobyxuKSxjPXt1aWQ6dC51aWQsY29vcmQ6dC50aWxlSUQsc291cmNlOnRoaXMuaWQscmF3SW1hZ2VEYXRhOmwsZW5jb2Rpbmc6dGhpcy5lbmNvZGluZyxwYWRkaW5nOm59O3QuYWN0b3ImJlwiZXhwaXJlZFwiIT09dC5zdGF0ZXx8KHQuYWN0b3I9dGhpcy5kaXNwYXRjaGVyLmdldEFjdG9yKCksdC5hY3Rvci5zZW5kKFwibG9hZERFTVRpbGVcIixjLGkuYmluZCh0aGlzKSx2b2lkIDAsITApKX19LmJpbmQodGhpcykpfV9nZXROZWlnaGJvcmluZ1RpbGVzKHQpe2NvbnN0IHI9dC5jYW5vbmljYWwsbj1NYXRoLnBvdygyLHIueiksaT0oci54LTErbiklbixvPTA9PT1yLng/dC53cmFwLTE6dC53cmFwLGE9KHIueCsxK24pJW4scz1yLngrMT09PW4/dC53cmFwKzE6dC53cmFwLGw9e307cmV0dXJuIGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLG8sci56LGksci55KS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixzLHIueixhLHIueSkua2V5XT17YmFja2ZpbGxlZDohMX0sci55PjAmJihsW25ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixvLHIueixpLHIueS0xKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWix0LndyYXAsci56LHIueCxyLnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFoscyxyLnosYSxyLnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0pLHIueSsxPG4mJihsW25ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixvLHIueixpLHIueSsxKS5rZXldPXtiYWNrZmlsbGVkOiExfSxsW25ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWix0LndyYXAsci56LHIueCxyLnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFoscyxyLnosYSxyLnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0pLGx9dW5sb2FkVGlsZShlKXtlLmRlbVRleHR1cmUmJnRoaXMubWFwLnBhaW50ZXIuc2F2ZVRpbGVUZXh0dXJlKGUuZGVtVGV4dHVyZSksZS5mYm8mJihlLmZiby5kZXN0cm95KCksZGVsZXRlIGUuZmJvKSxlLmRlbSYmZGVsZXRlIGUuZGVtLGRlbGV0ZSBlLm5laWdoYm9yaW5nVGlsZXMsZS5zdGF0ZT1cInVubG9hZGVkXCJ9fSxnZW9qc29uOmNsYXNzIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQscixuLGkpe3N1cGVyKCksdGhpcy5pZD10LHRoaXMudHlwZT1cImdlb2pzb25cIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MTgsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5pc1RpbGVDbGlwcGVkPSEwLHRoaXMucmVwYXJzZU92ZXJzY2FsZWQ9ITAsdGhpcy5fbG9hZGVkPSExLHRoaXMuYWN0b3I9bi5nZXRBY3RvcigpLHRoaXMuc2V0RXZlbnRlZFBhcmVudChpKSx0aGlzLl9kYXRhPXIuZGF0YSx0aGlzLl9vcHRpb25zPWUuZXh0ZW5kKHt9LHIpLHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZz1yLmNvbGxlY3RSZXNvdXJjZVRpbWluZyx2b2lkIDAhPT1yLm1heHpvb20mJih0aGlzLm1heHpvb209ci5tYXh6b29tKSxyLnR5cGUmJih0aGlzLnR5cGU9ci50eXBlKSxyLmF0dHJpYnV0aW9uJiYodGhpcy5hdHRyaWJ1dGlvbj1yLmF0dHJpYnV0aW9uKSx0aGlzLnByb21vdGVJZD1yLnByb21vdGVJZDtjb25zdCBvPWUuRVhURU5UL3RoaXMudGlsZVNpemU7dGhpcy53b3JrZXJPcHRpb25zPWUuZXh0ZW5kKHtzb3VyY2U6dGhpcy5pZCxjbHVzdGVyOnIuY2x1c3Rlcnx8ITEsZ2VvanNvblZ0T3B0aW9uczp7YnVmZmVyOih2b2lkIDAhPT1yLmJ1ZmZlcj9yLmJ1ZmZlcjoxMjgpKm8sdG9sZXJhbmNlOih2b2lkIDAhPT1yLnRvbGVyYW5jZT9yLnRvbGVyYW5jZTouMzc1KSpvLGV4dGVudDplLkVYVEVOVCxtYXhab29tOnRoaXMubWF4em9vbSxsaW5lTWV0cmljczpyLmxpbmVNZXRyaWNzfHwhMSxnZW5lcmF0ZUlkOnIuZ2VuZXJhdGVJZHx8ITF9LHN1cGVyY2x1c3Rlck9wdGlvbnM6e21heFpvb206dm9pZCAwIT09ci5jbHVzdGVyTWF4Wm9vbT9yLmNsdXN0ZXJNYXhab29tOnRoaXMubWF4em9vbS0xLG1pblBvaW50czpNYXRoLm1heCgyLHIuY2x1c3Rlck1pblBvaW50c3x8MiksZXh0ZW50OmUuRVhURU5ULHJhZGl1czoodm9pZCAwIT09ci5jbHVzdGVyUmFkaXVzP3IuY2x1c3RlclJhZGl1czo1MCkqbyxsb2c6ITEsZ2VuZXJhdGVJZDpyLmdlbmVyYXRlSWR8fCExfSxjbHVzdGVyUHJvcGVydGllczpyLmNsdXN0ZXJQcm9wZXJ0aWVzLGZpbHRlcjpyLmZpbHRlcn0sci53b3JrZXJPcHRpb25zKX1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMuc2V0RGF0YSh0aGlzLl9kYXRhKX1zZXREYXRhKGUpe3JldHVybiB0aGlzLl9kYXRhPWUsdGhpcy5fdXBkYXRlV29ya2VyRGF0YSgpLHRoaXN9Z2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZSx0KXtyZXR1cm4gdGhpcy5hY3Rvci5zZW5kKFwiZ2VvanNvbi5nZXRDbHVzdGVyRXhwYW5zaW9uWm9vbVwiLHtjbHVzdGVySWQ6ZSxzb3VyY2U6dGhpcy5pZH0sdCksdGhpc31nZXRDbHVzdGVyQ2hpbGRyZW4oZSx0KXtyZXR1cm4gdGhpcy5hY3Rvci5zZW5kKFwiZ2VvanNvbi5nZXRDbHVzdGVyQ2hpbGRyZW5cIix7Y2x1c3RlcklkOmUsc291cmNlOnRoaXMuaWR9LHQpLHRoaXN9Z2V0Q2x1c3RlckxlYXZlcyhlLHQscixuKXtyZXR1cm4gdGhpcy5hY3Rvci5zZW5kKFwiZ2VvanNvbi5nZXRDbHVzdGVyTGVhdmVzXCIse3NvdXJjZTp0aGlzLmlkLGNsdXN0ZXJJZDplLGxpbWl0OnQsb2Zmc2V0OnJ9LG4pLHRoaXN9X3VwZGF0ZVdvcmtlckRhdGEoKXtpZih0aGlzLl9wZW5kaW5nTG9hZClyZXR1cm4gdm9pZCh0aGlzLl9jb2FsZXNjZT0hMCk7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pKSx0aGlzLl9sb2FkZWQ9ITE7Y29uc3QgdD1lLmV4dGVuZCh7fSx0aGlzLndvcmtlck9wdGlvbnMpLHI9dGhpcy5fZGF0YTtcInN0cmluZ1wiPT10eXBlb2Ygcj8odC5yZXF1ZXN0PXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KGUuZXhwb3J0ZWQucmVzb2x2ZVVSTChyKSxlLlJlc291cmNlVHlwZS5Tb3VyY2UpLHQucmVxdWVzdC5jb2xsZWN0UmVzb3VyY2VUaW1pbmc9dGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nKTp0LmRhdGE9SlNPTi5zdHJpbmdpZnkociksdGhpcy5fcGVuZGluZ0xvYWQ9dGhpcy5hY3Rvci5zZW5kKHRoaXMudHlwZStcIi5sb2FkRGF0YVwiLHQsKHQscik9PntpZih0aGlzLl9sb2FkZWQ9ITAsdGhpcy5fcGVuZGluZ0xvYWQ9bnVsbCx0KXRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHQpKTtlbHNle2NvbnN0IHQ9e2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6dGhpcy5fbWV0YWRhdGFGaXJlZD9cImNvbnRlbnRcIjpcIm1ldGFkYXRhXCJ9O3RoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyYmciYmci5yZXNvdXJjZVRpbWluZyYmci5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSYmKHQucmVzb3VyY2VUaW1pbmc9ci5yZXNvdXJjZVRpbWluZ1t0aGlzLmlkXSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHQpKSx0aGlzLl9tZXRhZGF0YUZpcmVkPSEwfXRoaXMuX2NvYWxlc2NlJiYodGhpcy5fdXBkYXRlV29ya2VyRGF0YSgpLHRoaXMuX2NvYWxlc2NlPSExKX0pfWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9bG9hZFRpbGUodCxyKXtjb25zdCBuPXQuYWN0b3I/XCJyZWxvYWRUaWxlXCI6XCJsb2FkVGlsZVwiO3QuYWN0b3I9dGhpcy5hY3Rvcix0LnJlcXVlc3Q9dGhpcy5hY3Rvci5zZW5kKG4se3R5cGU6dGhpcy50eXBlLHVpZDp0LnVpZCx0aWxlSUQ6dC50aWxlSUQsdGlsZVpvb206dC50aWxlWm9vbSx6b29tOnQudGlsZUlELm92ZXJzY2FsZWRaLG1heFpvb206dGhpcy5tYXh6b29tLHRpbGVTaXplOnRoaXMudGlsZVNpemUsc291cmNlOnRoaXMuaWQscGl4ZWxSYXRpbzplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sc2hvd0NvbGxpc2lvbkJveGVzOnRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlcyxwcm9tb3RlSWQ6dGhpcy5wcm9tb3RlSWR9LChlLGkpPT4oZGVsZXRlIHQucmVxdWVzdCx0LnVubG9hZFZlY3RvckRhdGEoKSx0LmFib3J0ZWQ/cihudWxsKTplP3IoZSk6KHQubG9hZFZlY3RvckRhdGEoaSx0aGlzLm1hcC5wYWludGVyLFwicmVsb2FkVGlsZVwiPT09bikscihudWxsKSkpLHZvaWQgMCxcImxvYWRUaWxlXCI9PT1uKX1hYm9ydFRpbGUoZSl7ZS5yZXF1ZXN0JiYoZS5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSBlLnJlcXVlc3QpLGUuYWJvcnRlZD0hMH11bmxvYWRUaWxlKGUpe2UudW5sb2FkVmVjdG9yRGF0YSgpLHRoaXMuYWN0b3Iuc2VuZChcInJlbW92ZVRpbGVcIix7dWlkOmUudWlkLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkfSl9b25SZW1vdmUoKXt0aGlzLl9wZW5kaW5nTG9hZCYmdGhpcy5fcGVuZGluZ0xvYWQuY2FuY2VsKCl9c2VyaWFsaXplKCl7cmV0dXJuIGUuZXh0ZW5kKHt9LHRoaXMuX29wdGlvbnMse3R5cGU6dGhpcy50eXBlLGRhdGE6dGhpcy5fZGF0YX0pfWhhc1RyYW5zaXRpb24oKXtyZXR1cm4hMX19LHZpZGVvOmNsYXNzIGV4dGVuZHMgSWV7Y29uc3RydWN0b3IoZSx0LHIsbil7c3VwZXIoZSx0LHIsbiksdGhpcy5yb3VuZFpvb209ITAsdGhpcy50eXBlPVwidmlkZW9cIix0aGlzLm9wdGlvbnM9dH1sb2FkKCl7dGhpcy5fbG9hZGVkPSExO2NvbnN0IHQ9dGhpcy5vcHRpb25zO3RoaXMudXJscz1bXTtmb3IoY29uc3QgciBvZiB0LnVybHMpdGhpcy51cmxzLnB1c2godGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QocixlLlJlc291cmNlVHlwZS5Tb3VyY2UpLnVybCk7ZS5nZXRWaWRlbyh0aGlzLnVybHMsKHQscik9Pnt0aGlzLl9sb2FkZWQ9ITAsdD90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudCh0KSk6ciYmKHRoaXMudmlkZW89cix0aGlzLnZpZGVvLmxvb3A9ITAsdGhpcy52aWRlby5zZXRBdHRyaWJ1dGUoXCJwbGF5c2lubGluZVwiLFwiXCIpLHRoaXMudmlkZW8uYWRkRXZlbnRMaXN0ZW5lcihcInBsYXlpbmdcIiwoKT0+e3RoaXMubWFwLnRyaWdnZXJSZXBhaW50KCl9KSx0aGlzLm1hcCYmdGhpcy52aWRlby5wbGF5KCksdGhpcy5fZmluaXNoTG9hZGluZygpKX0pfXBhdXNlKCl7dGhpcy52aWRlbyYmdGhpcy52aWRlby5wYXVzZSgpfXBsYXkoKXt0aGlzLnZpZGVvJiZ0aGlzLnZpZGVvLnBsYXkoKX1zZWVrKHQpe2lmKHRoaXMudmlkZW8pe2NvbnN0IHI9dGhpcy52aWRlby5zZWVrYWJsZTt0PHIuc3RhcnQoMCl8fHQ+ci5lbmQoMCk/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IGUuVmFsaWRhdGlvbkVycm9yKFwic291cmNlcy5cIit0aGlzLmlkLG51bGwsYFBsYXliYWNrIGZvciB0aGlzIHZpZGVvIGNhbiBiZSBzZXQgb25seSBiZXR3ZWVuIHRoZSAke3Iuc3RhcnQoMCl9IGFuZCAke3IuZW5kKDApfS1zZWNvbmQgbWFyay5gKSkpOnRoaXMudmlkZW8uY3VycmVudFRpbWU9dH19Z2V0VmlkZW8oKXtyZXR1cm4gdGhpcy52aWRlb31vbkFkZChlKXt0aGlzLm1hcHx8KHRoaXMubWFwPWUsdGhpcy5sb2FkKCksdGhpcy52aWRlbyYmKHRoaXMudmlkZW8ucGxheSgpLHRoaXMuc2V0Q29vcmRpbmF0ZXModGhpcy5jb29yZGluYXRlcykpKX1wcmVwYXJlKCl7aWYoMD09PU9iamVjdC5rZXlzKHRoaXMudGlsZXMpLmxlbmd0aHx8dGhpcy52aWRlby5yZWFkeVN0YXRlPDIpcmV0dXJuO2NvbnN0IHQ9dGhpcy5tYXAucGFpbnRlci5jb250ZXh0LHI9dC5nbDt0aGlzLnRleHR1cmU/dGhpcy52aWRlby5wYXVzZWR8fCh0aGlzLnRleHR1cmUuYmluZChyLkxJTkVBUixyLkNMQU1QX1RPX0VER0UpLHIudGV4U3ViSW1hZ2UyRChyLlRFWFRVUkVfMkQsMCwwLDAsci5SR0JBLHIuVU5TSUdORURfQllURSx0aGlzLnZpZGVvKSk6KHRoaXMudGV4dHVyZT1uZXcgZS5UZXh0dXJlKHQsdGhpcy52aWRlbyxyLlJHQkEpLHRoaXMudGV4dHVyZS5iaW5kKHIuTElORUFSLHIuQ0xBTVBfVE9fRURHRSksdGhpcy53aWR0aD10aGlzLnZpZGVvLnZpZGVvV2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy52aWRlby52aWRlb0hlaWdodCksdGhpcy5fcHJlcGFyZURhdGEodCl9c2VyaWFsaXplKCl7cmV0dXJue3R5cGU6XCJ2aWRlb1wiLHVybHM6dGhpcy51cmxzLGNvb3JkaW5hdGVzOnRoaXMuY29vcmRpbmF0ZXN9fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy52aWRlbyYmIXRoaXMudmlkZW8ucGF1c2VkfX0saW1hZ2U6SWUsY2FudmFzOmNsYXNzIGV4dGVuZHMgSWV7Y29uc3RydWN0b3IodCxyLG4saSl7c3VwZXIodCxyLG4saSksci5jb29yZGluYXRlcz9BcnJheS5pc0FycmF5KHIuY29vcmRpbmF0ZXMpJiY0PT09ci5jb29yZGluYXRlcy5sZW5ndGgmJiFyLmNvb3JkaW5hdGVzLnNvbWUoZT0+IUFycmF5LmlzQXJyYXkoZSl8fDIhPT1lLmxlbmd0aHx8ZS5zb21lKGU9PlwibnVtYmVyXCIhPXR5cGVvZiBlKSl8fHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBlLlZhbGlkYXRpb25FcnJvcihcInNvdXJjZXMuXCIrdCxudWxsLCdcImNvb3JkaW5hdGVzXCIgcHJvcGVydHkgbXVzdCBiZSBhbiBhcnJheSBvZiA0IGxvbmdpdHVkZS9sYXRpdHVkZSBhcnJheSBwYWlycycpKSk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IGUuVmFsaWRhdGlvbkVycm9yKFwic291cmNlcy5cIit0LG51bGwsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJjb29yZGluYXRlc1wiJykpKSxyLmFuaW1hdGUmJlwiYm9vbGVhblwiIT10eXBlb2Ygci5hbmltYXRlJiZ0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoXCJzb3VyY2VzLlwiK3QsbnVsbCwnb3B0aW9uYWwgXCJhbmltYXRlXCIgcHJvcGVydHkgbXVzdCBiZSBhIGJvb2xlYW4gdmFsdWUnKSkpLHIuY2FudmFzP1wic3RyaW5nXCI9PXR5cGVvZiByLmNhbnZhc3x8ci5jYW52YXMgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MQ2FudmFzRWxlbWVudHx8dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IGUuVmFsaWRhdGlvbkVycm9yKFwic291cmNlcy5cIit0LG51bGwsJ1wiY2FudmFzXCIgbXVzdCBiZSBlaXRoZXIgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBJRCBvZiB0aGUgY2FudmFzIGVsZW1lbnQgZnJvbSB3aGljaCB0byByZWFkLCBvciBhbiBIVE1MQ2FudmFzRWxlbWVudCBpbnN0YW5jZScpKSk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IGUuVmFsaWRhdGlvbkVycm9yKFwic291cmNlcy5cIit0LG51bGwsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJjYW52YXNcIicpKSksdGhpcy5vcHRpb25zPXIsdGhpcy5hbmltYXRlPXZvaWQgMD09PXIuYW5pbWF0ZXx8ci5hbmltYXRlfWxvYWQoKXt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5jYW52YXN8fCh0aGlzLmNhbnZhcz10aGlzLm9wdGlvbnMuY2FudmFzIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTENhbnZhc0VsZW1lbnQ/dGhpcy5vcHRpb25zLmNhbnZhczplLndpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm9wdGlvbnMuY2FudmFzKSksdGhpcy53aWR0aD10aGlzLmNhbnZhcy53aWR0aCx0aGlzLmhlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQsdGhpcy5faGFzSW52YWxpZERpbWVuc2lvbnMoKT90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJDYW52YXMgZGltZW5zaW9ucyBjYW5ub3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHplcm8uXCIpKSk6KHRoaXMucGxheT1mdW5jdGlvbigpe3RoaXMuX3BsYXlpbmc9ITAsdGhpcy5tYXAudHJpZ2dlclJlcGFpbnQoKX0sdGhpcy5wYXVzZT1mdW5jdGlvbigpe3RoaXMuX3BsYXlpbmcmJih0aGlzLnByZXBhcmUoKSx0aGlzLl9wbGF5aW5nPSExKX0sdGhpcy5fZmluaXNoTG9hZGluZygpKX1nZXRDYW52YXMoKXtyZXR1cm4gdGhpcy5jYW52YXN9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKSx0aGlzLmNhbnZhcyYmdGhpcy5hbmltYXRlJiZ0aGlzLnBsYXkoKX1vblJlbW92ZSgpe3RoaXMucGF1c2UoKX1wcmVwYXJlKCl7bGV0IHQ9ITE7aWYodGhpcy5jYW52YXMud2lkdGghPT10aGlzLndpZHRoJiYodGhpcy53aWR0aD10aGlzLmNhbnZhcy53aWR0aCx0PSEwKSx0aGlzLmNhbnZhcy5oZWlnaHQhPT10aGlzLmhlaWdodCYmKHRoaXMuaGVpZ2h0PXRoaXMuY2FudmFzLmhlaWdodCx0PSEwKSx0aGlzLl9oYXNJbnZhbGlkRGltZW5zaW9ucygpKXJldHVybjtpZigwPT09T2JqZWN0LmtleXModGhpcy50aWxlcykubGVuZ3RoKXJldHVybjtjb25zdCByPXRoaXMubWFwLnBhaW50ZXIuY29udGV4dDt0aGlzLnRleHR1cmU/KHR8fHRoaXMuX3BsYXlpbmcpJiZ0aGlzLnRleHR1cmUudXBkYXRlKHRoaXMuY2FudmFzLHtwcmVtdWx0aXBseTohMH0pOnRoaXMudGV4dHVyZT1uZXcgZS5UZXh0dXJlKHIsdGhpcy5jYW52YXMsci5nbC5SR0JBLHtwcmVtdWx0aXBseTohMH0pLHRoaXMuX3ByZXBhcmVEYXRhKHIpfXNlcmlhbGl6ZSgpe3JldHVybnt0eXBlOlwiY2FudmFzXCIsY29vcmRpbmF0ZXM6dGhpcy5jb29yZGluYXRlc319aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLl9wbGF5aW5nfV9oYXNJbnZhbGlkRGltZW5zaW9ucygpe2Zvcihjb25zdCBlIG9mW3RoaXMuY2FudmFzLndpZHRoLHRoaXMuY2FudmFzLmhlaWdodF0paWYoaXNOYU4oZSl8fGU8PTApcmV0dXJuITA7cmV0dXJuITF9fSxjdXN0b206Y2xhc3MgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxyLG4saSl7c3VwZXIoKSx0aGlzLmlkPXQsdGhpcy50eXBlPVwiY3VzdG9tXCIsdGhpcy5fZGF0YVR5cGU9XCJyYXN0ZXJcIix0aGlzLl9kaXNwYXRjaGVyPW4sdGhpcy5faW1wbGVtZW50YXRpb249cix0aGlzLnNldEV2ZW50ZWRQYXJlbnQoaSksdGhpcy5zY2hlbWU9XCJ4eXpcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy50aWxlU2l6ZT01MTIsdGhpcy5fbG9hZGVkPSExLHRoaXMucm91bmRab29tPSEwLHRoaXMuX2ltcGxlbWVudGF0aW9ufHx0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYE1pc3NpbmcgaW1wbGVtZW50YXRpb24gZm9yICR7dGhpcy5pZH0gY3VzdG9tIHNvdXJjZWApKSksdGhpcy5faW1wbGVtZW50YXRpb24ubG9hZFRpbGV8fHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgTWlzc2luZyBsb2FkVGlsZSBpbXBsZW1lbnRhdGlvbiBmb3IgJHt0aGlzLmlkfSBjdXN0b20gc291cmNlYCkpKSx0aGlzLl9pbXBsZW1lbnRhdGlvbi5ib3VuZHMmJih0aGlzLnRpbGVCb3VuZHM9bmV3IGoodGhpcy5faW1wbGVtZW50YXRpb24uYm91bmRzLHRoaXMubWluem9vbSx0aGlzLm1heHpvb20pKSxyLnVwZGF0ZT10aGlzLl91cGRhdGUuYmluZCh0aGlzKSxyLmNsZWFyVGlsZXM9dGhpcy5fY2xlYXJUaWxlcy5iaW5kKHRoaXMpLHIuY292ZXJpbmdUaWxlcz10aGlzLl9jb3ZlcmluZ1RpbGVzLmJpbmQodGhpcyksZS5leHRlbmQodGhpcyxlLnBpY2socixbXCJkYXRhVHlwZVwiLFwic2NoZW1lXCIsXCJtaW56b29tXCIsXCJtYXh6b29tXCIsXCJ0aWxlU2l6ZVwiLFwiYXR0cmlidXRpb25cIixcIm1pblRpbGVDYWNoZVNpemVcIixcIm1heFRpbGVDYWNoZVNpemVcIl0pKX1zZXJpYWxpemUoKXtyZXR1cm4gZS5waWNrKHRoaXMsW1widHlwZVwiLFwic2NoZW1lXCIsXCJtaW56b29tXCIsXCJtYXh6b29tXCIsXCJ0aWxlU2l6ZVwiLFwiYXR0cmlidXRpb25cIl0pfWxvYWQoKXt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSl9bG9hZGVkKCl7cmV0dXJuIHRoaXMuX2xvYWRlZH1vbkFkZCh0KXt0aGlzLl9tYXA9dCx0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pKSx0aGlzLl9pbXBsZW1lbnRhdGlvbi5vbkFkZCYmdGhpcy5faW1wbGVtZW50YXRpb24ub25BZGQodCksdGhpcy5sb2FkKCl9b25SZW1vdmUoZSl7dGhpcy5faW1wbGVtZW50YXRpb24ub25SZW1vdmUmJnRoaXMuX2ltcGxlbWVudGF0aW9uLm9uUmVtb3ZlKGUpfWhhc1RpbGUoZSl7aWYodGhpcy5faW1wbGVtZW50YXRpb24uaGFzVGlsZSl7Y29uc3R7eDp0LHk6cix6Om59PWUuY2Fub25pY2FsO3JldHVybiB0aGlzLl9pbXBsZW1lbnRhdGlvbi5oYXNUaWxlKHt4OnQseTpyLHo6bn0pfXJldHVybiF0aGlzLnRpbGVCb3VuZHN8fHRoaXMudGlsZUJvdW5kcy5jb250YWlucyhlLmNhbm9uaWNhbCl9bG9hZFRpbGUodCxyKXtjb25zdHt4Om4seTppLHo6b309dC50aWxlSUQuY2Fub25pY2FsLGE9bmV3IGUud2luZG93LkFib3J0Q29udHJvbGxlcjt0LnJlcXVlc3Q9UHJvbWlzZS5yZXNvbHZlKHRoaXMuX2ltcGxlbWVudGF0aW9uLmxvYWRUaWxlKHt4Om4seTppLHo6b30se3NpZ25hbDphLnNpZ25hbH0pKS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBkZWxldGUgdC5yZXF1ZXN0LHQuYWJvcnRlZD8odC5zdGF0ZT1cInVubG9hZGVkXCIscihudWxsKSk6dm9pZCAwPT09bj8odC5zdGF0ZT1cImVycm9yZWRcIixyKG51bGwpKTpudWxsPT09bj8odGhpcy5sb2FkVGlsZURhdGEodCx7d2lkdGg6dGhpcy50aWxlU2l6ZSxoZWlnaHQ6dGhpcy50aWxlU2l6ZSxkYXRhOm51bGx9KSx0LnN0YXRlPVwibG9hZGVkXCIscihudWxsKSk6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZURhdGF8fHQgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MQ2FudmFzRWxlbWVudHx8dCBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlQml0bWFwfHx0IGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEltYWdlRWxlbWVudH0obik/KHRoaXMubG9hZFRpbGVEYXRhKHQsbiksdC5zdGF0ZT1cImxvYWRlZFwiLHZvaWQgcihudWxsKSk6KHQuc3RhdGU9XCJlcnJvcmVkXCIscihuZXcgRXJyb3IoYENhbid0IGluZmVyIGRhdGEgdHlwZSBmb3IgJHt0aGlzLmlkfSwgb25seSByYXN0ZXIgZGF0YSBzdXBwb3J0ZWQgYXQgdGhlIG1vbWVudGApKSl9LmJpbmQodGhpcykpLmNhdGNoKGU9PnsyMCE9PWUuY29kZSYmKHQuc3RhdGU9XCJlcnJvcmVkXCIscihlKSl9KSx0LnJlcXVlc3QuY2FuY2VsPSgpPT5hLmFib3J0KCl9bG9hZFRpbGVEYXRhKGUsdCl7TWUubG9hZFRpbGVEYXRhKGUsdCx0aGlzLl9tYXAucGFpbnRlcil9dW5sb2FkVGlsZURhdGEoZSl7TWUudW5sb2FkVGlsZURhdGEoZSx0aGlzLl9tYXAucGFpbnRlcil9dW5sb2FkVGlsZShlLHQpe2lmKHRoaXMudW5sb2FkVGlsZURhdGEoZSksdGhpcy5faW1wbGVtZW50YXRpb24udW5sb2FkVGlsZSl7Y29uc3R7eDp0LHk6cix6Om59PWUudGlsZUlELmNhbm9uaWNhbDt0aGlzLl9pbXBsZW1lbnRhdGlvbi51bmxvYWRUaWxlKHt4OnQseTpyLHo6bn0pfXQoKX1hYm9ydFRpbGUoZSx0KXtlLnJlcXVlc3QmJmUucmVxdWVzdC5jYW5jZWwmJihlLnJlcXVlc3QuY2FuY2VsKCksZGVsZXRlIGUucmVxdWVzdCksdCgpfWhhc1RyYW5zaXRpb24oKXtyZXR1cm4hMX1fY292ZXJpbmdUaWxlcygpe3JldHVybiB0aGlzLl9tYXAudHJhbnNmb3JtLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplOnRoaXMudGlsZVNpemUsbWluem9vbTp0aGlzLm1pbnpvb20sbWF4em9vbTp0aGlzLm1heHpvb20scm91bmRab29tOnRoaXMucm91bmRab29tfSkubWFwKGU9Pih7eDplLmNhbm9uaWNhbC54LHk6ZS5jYW5vbmljYWwueSx6OmUuY2Fub25pY2FsLnp9KSl9X2NsZWFyVGlsZXMoKXt0aGlzLl9tYXAuc3R5bGUuX2NsZWFyU291cmNlKHRoaXMuaWQpfV91cGRhdGUoKXt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSl9fX0semU9ZnVuY3Rpb24odCxyLG4saSl7Y29uc3Qgbz1uZXcgUGVbci50eXBlXSh0LHIsbixpKTtpZihvLmlkIT09dCl0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIFNvdXJjZSBpZCB0byBiZSAke3R9IGluc3RlYWQgb2YgJHtvLmlkfWApO3JldHVybiBlLmJpbmRBbGwoW1wibG9hZFwiLFwiYWJvcnRcIixcInVubG9hZFwiLFwic2VyaWFsaXplXCIsXCJwcmVwYXJlXCJdLG8pLG99O2Z1bmN0aW9uIERlKHQscil7Y29uc3Qgbj1lLmlkZW50aXR5KFtdKTtyZXR1cm4gZS5zY2FsZShuLG4sWy41KnQud2lkdGgsLjUqLXQuaGVpZ2h0LDFdKSxlLnRyYW5zbGF0ZShuLG4sWzEsLTEsMF0pLGUubXVsdGlwbHkobixuLHQuY2FsY3VsYXRlUHJvak1hdHJpeChyLnRvVW53cmFwcGVkKCkpKSxGbG9hdDMyQXJyYXkuZnJvbShuKX1mdW5jdGlvbiBSZShlLHQscixuLGksbyxhLHM9ITEpe2NvbnN0IGw9ZS50aWxlc0luKG4sYSxzKTtsLnNvcnQoT2UpO2NvbnN0IGM9W107Zm9yKGNvbnN0IG4gb2YgbCljLnB1c2goe3dyYXBwZWRUaWxlSUQ6bi50aWxlLnRpbGVJRC53cmFwcGVkKCkua2V5LHF1ZXJ5UmVzdWx0czpuLnRpbGUucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQscixlLl9zdGF0ZSxuLGksbyxEZShlLnRyYW5zZm9ybSxuLnRpbGUudGlsZUlEKSxzKX0pO2NvbnN0IHU9ZnVuY3Rpb24oZSl7Y29uc3QgdD17fSxyPXt9O2Zvcihjb25zdCBuIG9mIGUpe2NvbnN0IGU9bi5xdWVyeVJlc3VsdHMsaT1uLndyYXBwZWRUaWxlSUQsbz1yW2ldPXJbaV18fHt9O2Zvcihjb25zdCByIGluIGUpe2NvbnN0IG49ZVtyXSxpPW9bcl09b1tyXXx8e30sYT10W3JdPXRbcl18fFtdO2Zvcihjb25zdCBlIG9mIG4paVtlLmZlYXR1cmVJbmRleF18fChpW2UuZmVhdHVyZUluZGV4XT0hMCxhLnB1c2goZSkpfX1yZXR1cm4gdH0oYyk7Zm9yKGNvbnN0IHQgaW4gdSl1W3RdLmZvckVhY2godD0+e2NvbnN0IHI9dC5mZWF0dXJlLG49ci5sYXllcjtuJiZcImJhY2tncm91bmRcIiE9PW4udHlwZSYmXCJza3lcIiE9PW4udHlwZSYmKHIuc291cmNlPW4uc291cmNlLG5bXCJzb3VyY2UtbGF5ZXJcIl0mJihyLnNvdXJjZUxheWVyPW5bXCJzb3VyY2UtbGF5ZXJcIl0pLHIuc3RhdGU9dm9pZCAwIT09ci5pZD9lLmdldEZlYXR1cmVTdGF0ZShuW1wic291cmNlLWxheWVyXCJdLHIuaWQpOnt9KX0pO3JldHVybiB1fWZ1bmN0aW9uIExlKGUsdCl7Y29uc3Qgcj1lLmdldFJlbmRlcmFibGVJZHMoKS5tYXAodD0+ZS5nZXRUaWxlQnlJRCh0KSksbj1bXSxpPXt9O2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXtjb25zdCBvPXJbZV0sYT1vLnRpbGVJRC5jYW5vbmljYWwua2V5O2lbYV18fChpW2FdPSEwLG8ucXVlcnlTb3VyY2VGZWF0dXJlcyhuLHQpKX1yZXR1cm4gbn1mdW5jdGlvbiBPZShlLHQpe2NvbnN0IHI9ZS50aWxlSUQsbj10LnRpbGVJRDtyZXR1cm4gci5vdmVyc2NhbGVkWi1uLm92ZXJzY2FsZWRafHxyLmNhbm9uaWNhbC55LW4uY2Fub25pY2FsLnl8fHIud3JhcC1uLndyYXB8fHIuY2Fub25pY2FsLngtbi5jYW5vbmljYWwueH1mdW5jdGlvbiBCZSgpe3JldHVybiBudWxsIT1fby53b3JrZXJDbGFzcz9uZXcgX28ud29ya2VyQ2xhc3M6bmV3IGUud2luZG93Lldvcmtlcihfby53b3JrZXJVcmwpfWNvbnN0IEZlPVwibWFwYm94Z2xfcHJlbG9hZGVkX3dvcmtlcl9wb29sXCI7Y2xhc3MgamV7Y29uc3RydWN0b3IoKXt0aGlzLmFjdGl2ZT17fX1hY3F1aXJlKGUpe2lmKCF0aGlzLndvcmtlcnMpZm9yKHRoaXMud29ya2Vycz1bXTt0aGlzLndvcmtlcnMubGVuZ3RoPGplLndvcmtlckNvdW50Oyl0aGlzLndvcmtlcnMucHVzaChuZXcgQmUpO3JldHVybiB0aGlzLmFjdGl2ZVtlXT0hMCx0aGlzLndvcmtlcnMuc2xpY2UoKX1yZWxlYXNlKGUpe2RlbGV0ZSB0aGlzLmFjdGl2ZVtlXSwwPT09dGhpcy5udW1BY3RpdmUoKSYmKHRoaXMud29ya2Vycy5mb3JFYWNoKGU9PntlLnRlcm1pbmF0ZSgpfSksdGhpcy53b3JrZXJzPW51bGwpfWlzUHJlbG9hZGVkKCl7cmV0dXJuISF0aGlzLmFjdGl2ZVtGZV19bnVtQWN0aXZlKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuYWN0aXZlKS5sZW5ndGh9fWxldCBVZTtmdW5jdGlvbiBOZSgpe3JldHVybiBVZXx8KFVlPW5ldyBqZSksVWV9ZnVuY3Rpb24gVmUodCxyKXtjb25zdCBuPXt9O2Zvcihjb25zdCBlIGluIHQpXCJyZWZcIiE9PWUmJihuW2VdPXRbZV0pO3JldHVybiBlLnJlZlByb3BlcnRpZXMuZm9yRWFjaChlPT57ZSBpbiByJiYobltlXT1yW2VdKX0pLG59ZnVuY3Rpb24gR2UoZSl7ZT1lLnNsaWNlKCk7Y29uc3QgdD1PYmplY3QuY3JlYXRlKG51bGwpO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXRbZVtyXS5pZF09ZVtyXTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKylcInJlZlwiaW4gZVtyXSYmKGVbcl09VmUoZVtyXSx0W2Vbcl0ucmVmXSkpO3JldHVybiBlfWplLndvcmtlckNvdW50PTI7Y29uc3QgcWU9e3NldFN0eWxlOlwic2V0U3R5bGVcIixhZGRMYXllcjpcImFkZExheWVyXCIscmVtb3ZlTGF5ZXI6XCJyZW1vdmVMYXllclwiLHNldFBhaW50UHJvcGVydHk6XCJzZXRQYWludFByb3BlcnR5XCIsc2V0TGF5b3V0UHJvcGVydHk6XCJzZXRMYXlvdXRQcm9wZXJ0eVwiLHNldEZpbHRlcjpcInNldEZpbHRlclwiLGFkZFNvdXJjZTpcImFkZFNvdXJjZVwiLHJlbW92ZVNvdXJjZTpcInJlbW92ZVNvdXJjZVwiLHNldEdlb0pTT05Tb3VyY2VEYXRhOlwic2V0R2VvSlNPTlNvdXJjZURhdGFcIixzZXRMYXllclpvb21SYW5nZTpcInNldExheWVyWm9vbVJhbmdlXCIsc2V0TGF5ZXJQcm9wZXJ0eTpcInNldExheWVyUHJvcGVydHlcIixzZXRDZW50ZXI6XCJzZXRDZW50ZXJcIixzZXRab29tOlwic2V0Wm9vbVwiLHNldEJlYXJpbmc6XCJzZXRCZWFyaW5nXCIsc2V0UGl0Y2g6XCJzZXRQaXRjaFwiLHNldFNwcml0ZTpcInNldFNwcml0ZVwiLHNldEdseXBoczpcInNldEdseXBoc1wiLHNldFRyYW5zaXRpb246XCJzZXRUcmFuc2l0aW9uXCIsc2V0TGlnaHQ6XCJzZXRMaWdodFwiLHNldFRlcnJhaW46XCJzZXRUZXJyYWluXCIsc2V0Rm9nOlwic2V0Rm9nXCIsc2V0UHJvamVjdGlvbjpcInNldFByb2plY3Rpb25cIn07ZnVuY3Rpb24gWmUoZSx0LHIpe3IucHVzaCh7Y29tbWFuZDpxZS5hZGRTb3VyY2UsYXJnczpbZSx0W2VdXX0pfWZ1bmN0aW9uICRlKGUsdCxyKXt0LnB1c2goe2NvbW1hbmQ6cWUucmVtb3ZlU291cmNlLGFyZ3M6W2VdfSkscltlXT0hMH1mdW5jdGlvbiBXZShlLHQscixuKXskZShlLHIsbiksWmUoZSx0LHIpfWZ1bmN0aW9uIFhlKGUscixuKXtsZXQgaTtmb3IoaSBpbiBlW25dKWlmKGVbbl0uaGFzT3duUHJvcGVydHkoaSkmJlwiZGF0YVwiIT09aSYmIXQoZVtuXVtpXSxyW25dW2ldKSlyZXR1cm4hMTtmb3IoaSBpbiByW25dKWlmKHJbbl0uaGFzT3duUHJvcGVydHkoaSkmJlwiZGF0YVwiIT09aSYmIXQoZVtuXVtpXSxyW25dW2ldKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBIZShlLHIsbixpLG8sYSl7bGV0IHM7Zm9yKHMgaW4gcj1yfHx7fSxlPWV8fHt9KWUuaGFzT3duUHJvcGVydHkocykmJih0KGVbc10scltzXSl8fG4ucHVzaCh7Y29tbWFuZDphLGFyZ3M6W2kscyxyW3NdLG9dfSkpO2ZvcihzIGluIHIpci5oYXNPd25Qcm9wZXJ0eShzKSYmIWUuaGFzT3duUHJvcGVydHkocykmJih0KGVbc10scltzXSl8fG4ucHVzaCh7Y29tbWFuZDphLGFyZ3M6W2kscyxyW3NdLG9dfSkpfWZ1bmN0aW9uIFllKGUpe3JldHVybiBlLmlkfWZ1bmN0aW9uIEtlKGUsdCl7cmV0dXJuIGVbdC5pZF09dCxlfWNsYXNzIEple2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5yZXNldChlLHQpfXJlc2V0KGUsdCl7dGhpcy5wb2ludHM9ZXx8W10sdGhpcy5fZGlzdGFuY2VzPVswXTtmb3IobGV0IGU9MTtlPHRoaXMucG9pbnRzLmxlbmd0aDtlKyspdGhpcy5fZGlzdGFuY2VzW2VdPXRoaXMuX2Rpc3RhbmNlc1tlLTFdK3RoaXMucG9pbnRzW2VdLmRpc3QodGhpcy5wb2ludHNbZS0xXSk7dGhpcy5sZW5ndGg9dGhpcy5fZGlzdGFuY2VzW3RoaXMuX2Rpc3RhbmNlcy5sZW5ndGgtMV0sdGhpcy5wYWRkaW5nPU1hdGgubWluKHR8fDAsLjUqdGhpcy5sZW5ndGgpLHRoaXMucGFkZGVkTGVuZ3RoPXRoaXMubGVuZ3RoLTIqdGhpcy5wYWRkaW5nfWxlcnAodCl7aWYoMT09PXRoaXMucG9pbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5wb2ludHNbMF07dD1lLmNsYW1wKHQsMCwxKTtsZXQgcj0xLG49dGhpcy5fZGlzdGFuY2VzW3JdO2NvbnN0IGk9dCp0aGlzLnBhZGRlZExlbmd0aCt0aGlzLnBhZGRpbmc7Zm9yKDtuPGkmJnI8dGhpcy5fZGlzdGFuY2VzLmxlbmd0aDspbj10aGlzLl9kaXN0YW5jZXNbKytyXTtjb25zdCBvPXItMSxhPXRoaXMuX2Rpc3RhbmNlc1tvXSxzPW4tYSxsPXM+MD8oaS1hKS9zOjA7cmV0dXJuIHRoaXMucG9pbnRzW29dLm11bHQoMS1sKS5hZGQodGhpcy5wb2ludHNbcl0ubXVsdChsKSl9fWNsYXNzIFFle2NvbnN0cnVjdG9yKGUsdCxyKXtjb25zdCBuPXRoaXMuYm94Q2VsbHM9W10saT10aGlzLmNpcmNsZUNlbGxzPVtdO3RoaXMueENlbGxDb3VudD1NYXRoLmNlaWwoZS9yKSx0aGlzLnlDZWxsQ291bnQ9TWF0aC5jZWlsKHQvcik7Zm9yKGxldCBlPTA7ZTx0aGlzLnhDZWxsQ291bnQqdGhpcy55Q2VsbENvdW50O2UrKyluLnB1c2goW10pLGkucHVzaChbXSk7dGhpcy5jaXJjbGVLZXlzPVtdLHRoaXMuYm94S2V5cz1bXSx0aGlzLmJib3hlcz1bXSx0aGlzLmNpcmNsZXM9W10sdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy54U2NhbGU9dGhpcy54Q2VsbENvdW50L2UsdGhpcy55U2NhbGU9dGhpcy55Q2VsbENvdW50L3QsdGhpcy5ib3hVaWQ9MCx0aGlzLmNpcmNsZVVpZD0wfWtleXNMZW5ndGgoKXtyZXR1cm4gdGhpcy5ib3hLZXlzLmxlbmd0aCt0aGlzLmNpcmNsZUtleXMubGVuZ3RofWluc2VydChlLHQscixuLGkpe3RoaXMuX2ZvckVhY2hDZWxsKHQscixuLGksdGhpcy5faW5zZXJ0Qm94Q2VsbCx0aGlzLmJveFVpZCsrKSx0aGlzLmJveEtleXMucHVzaChlKSx0aGlzLmJib3hlcy5wdXNoKHQpLHRoaXMuYmJveGVzLnB1c2gociksdGhpcy5iYm94ZXMucHVzaChuKSx0aGlzLmJib3hlcy5wdXNoKGkpfWluc2VydENpcmNsZShlLHQscixuKXt0aGlzLl9mb3JFYWNoQ2VsbCh0LW4sci1uLHQrbixyK24sdGhpcy5faW5zZXJ0Q2lyY2xlQ2VsbCx0aGlzLmNpcmNsZVVpZCsrKSx0aGlzLmNpcmNsZUtleXMucHVzaChlKSx0aGlzLmNpcmNsZXMucHVzaCh0KSx0aGlzLmNpcmNsZXMucHVzaChyKSx0aGlzLmNpcmNsZXMucHVzaChuKX1faW5zZXJ0Qm94Q2VsbChlLHQscixuLGksbyl7dGhpcy5ib3hDZWxsc1tpXS5wdXNoKG8pfV9pbnNlcnRDaXJjbGVDZWxsKGUsdCxyLG4saSxvKXt0aGlzLmNpcmNsZUNlbGxzW2ldLnB1c2gobyl9X3F1ZXJ5KGUsdCxyLG4saSxvKXtpZihyPDB8fGU+dGhpcy53aWR0aHx8bjwwfHx0PnRoaXMuaGVpZ2h0KXJldHVybiFpJiZbXTtjb25zdCBhPVtdO2lmKGU8PTAmJnQ8PTAmJnRoaXMud2lkdGg8PXImJnRoaXMuaGVpZ2h0PD1uKXtpZihpKXJldHVybiEwO2ZvcihsZXQgZT0wO2U8dGhpcy5ib3hLZXlzLmxlbmd0aDtlKyspYS5wdXNoKHtrZXk6dGhpcy5ib3hLZXlzW2VdLHgxOnRoaXMuYmJveGVzWzQqZV0seTE6dGhpcy5iYm94ZXNbNCplKzFdLHgyOnRoaXMuYmJveGVzWzQqZSsyXSx5Mjp0aGlzLmJib3hlc1s0KmUrM119KTtmb3IobGV0IGU9MDtlPHRoaXMuY2lyY2xlS2V5cy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMuY2lyY2xlc1szKmVdLHI9dGhpcy5jaXJjbGVzWzMqZSsxXSxuPXRoaXMuY2lyY2xlc1szKmUrMl07YS5wdXNoKHtrZXk6dGhpcy5jaXJjbGVLZXlzW2VdLHgxOnQtbix5MTpyLW4seDI6dCtuLHkyOnIrbn0pfXJldHVybiBvP2EuZmlsdGVyKG8pOmF9cmV0dXJuIHRoaXMuX2ZvckVhY2hDZWxsKGUsdCxyLG4sdGhpcy5fcXVlcnlDZWxsLGEse2hpdFRlc3Q6aSxzZWVuVWlkczp7Ym94Ont9LGNpcmNsZTp7fX19LG8pLGk/YS5sZW5ndGg+MDphfV9xdWVyeUNpcmNsZShlLHQscixuLGkpe2NvbnN0IG89ZS1yLGE9ZStyLHM9dC1yLGw9dCtyO2lmKGE8MHx8bz50aGlzLndpZHRofHxsPDB8fHM+dGhpcy5oZWlnaHQpcmV0dXJuIW4mJltdO2NvbnN0IGM9W107cmV0dXJuIHRoaXMuX2ZvckVhY2hDZWxsKG8scyxhLGwsdGhpcy5fcXVlcnlDZWxsQ2lyY2xlLGMse2hpdFRlc3Q6bixjaXJjbGU6e3g6ZSx5OnQscmFkaXVzOnJ9LHNlZW5VaWRzOntib3g6e30sY2lyY2xlOnt9fX0saSksbj9jLmxlbmd0aD4wOmN9cXVlcnkoZSx0LHIsbixpKXtyZXR1cm4gdGhpcy5fcXVlcnkoZSx0LHIsbiwhMSxpKX1oaXRUZXN0KGUsdCxyLG4saSl7cmV0dXJuIHRoaXMuX3F1ZXJ5KGUsdCxyLG4sITAsaSl9aGl0VGVzdENpcmNsZShlLHQscixuKXtyZXR1cm4gdGhpcy5fcXVlcnlDaXJjbGUoZSx0LHIsITAsbil9X3F1ZXJ5Q2VsbChlLHQscixuLGksbyxhLHMpe2NvbnN0IGw9YS5zZWVuVWlkcyxjPXRoaXMuYm94Q2VsbHNbaV07aWYobnVsbCE9PWMpe2NvbnN0IGk9dGhpcy5iYm94ZXM7Zm9yKGNvbnN0IHUgb2YgYylpZighbC5ib3hbdV0pe2wuYm94W3VdPSEwO2NvbnN0IGM9NCp1O2lmKGU8PWlbYysyXSYmdDw9aVtjKzNdJiZyPj1pW2MrMF0mJm4+PWlbYysxXSYmKCFzfHxzKHRoaXMuYm94S2V5c1t1XSkpKXtpZihhLmhpdFRlc3QpcmV0dXJuIG8ucHVzaCghMCksITA7by5wdXNoKHtrZXk6dGhpcy5ib3hLZXlzW3VdLHgxOmlbY10seTE6aVtjKzFdLHgyOmlbYysyXSx5MjppW2MrM119KX19fWNvbnN0IHU9dGhpcy5jaXJjbGVDZWxsc1tpXTtpZihudWxsIT09dSl7Y29uc3QgaT10aGlzLmNpcmNsZXM7Zm9yKGNvbnN0IGMgb2YgdSlpZighbC5jaXJjbGVbY10pe2wuY2lyY2xlW2NdPSEwO2NvbnN0IHU9MypjO2lmKHRoaXMuX2NpcmNsZUFuZFJlY3RDb2xsaWRlKGlbdV0saVt1KzFdLGlbdSsyXSxlLHQscixuKSYmKCFzfHxzKHRoaXMuY2lyY2xlS2V5c1tjXSkpKXtpZihhLmhpdFRlc3QpcmV0dXJuIG8ucHVzaCghMCksITA7e2NvbnN0IGU9aVt1XSx0PWlbdSsxXSxyPWlbdSsyXTtvLnB1c2goe2tleTp0aGlzLmNpcmNsZUtleXNbY10seDE6ZS1yLHkxOnQtcix4MjplK3IseTI6dCtyfSl9fX19fV9xdWVyeUNlbGxDaXJjbGUoZSx0LHIsbixpLG8sYSxzKXtjb25zdCBsPWEuY2lyY2xlLGM9YS5zZWVuVWlkcyx1PXRoaXMuYm94Q2VsbHNbaV07aWYobnVsbCE9PXUpe2NvbnN0IGU9dGhpcy5iYm94ZXM7Zm9yKGNvbnN0IHQgb2YgdSlpZighYy5ib3hbdF0pe2MuYm94W3RdPSEwO2NvbnN0IHI9NCp0O2lmKHRoaXMuX2NpcmNsZUFuZFJlY3RDb2xsaWRlKGwueCxsLnksbC5yYWRpdXMsZVtyKzBdLGVbcisxXSxlW3IrMl0sZVtyKzNdKSYmKCFzfHxzKHRoaXMuYm94S2V5c1t0XSkpKXJldHVybiBvLnB1c2goITApLCEwfX1jb25zdCBoPXRoaXMuY2lyY2xlQ2VsbHNbaV07aWYobnVsbCE9PWgpe2NvbnN0IGU9dGhpcy5jaXJjbGVzO2Zvcihjb25zdCB0IG9mIGgpaWYoIWMuY2lyY2xlW3RdKXtjLmNpcmNsZVt0XT0hMDtjb25zdCByPTMqdDtpZih0aGlzLl9jaXJjbGVzQ29sbGlkZShlW3JdLGVbcisxXSxlW3IrMl0sbC54LGwueSxsLnJhZGl1cykmJighc3x8cyh0aGlzLmNpcmNsZUtleXNbdF0pKSlyZXR1cm4gby5wdXNoKCEwKSwhMH19fV9mb3JFYWNoQ2VsbChlLHQscixuLGksbyxhLHMpe2NvbnN0IGw9dGhpcy5fY29udmVydFRvWENlbGxDb29yZChlKSxjPXRoaXMuX2NvbnZlcnRUb1lDZWxsQ29vcmQodCksdT10aGlzLl9jb252ZXJ0VG9YQ2VsbENvb3JkKHIpLGg9dGhpcy5fY29udmVydFRvWUNlbGxDb29yZChuKTtmb3IobGV0IGQ9bDtkPD11O2QrKylmb3IobGV0IGw9YztsPD1oO2wrKylpZihpLmNhbGwodGhpcyxlLHQscixuLHRoaXMueENlbGxDb3VudCpsK2QsbyxhLHMpKXJldHVybn1fY29udmVydFRvWENlbGxDb29yZChlKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLnhDZWxsQ291bnQtMSxNYXRoLmZsb29yKGUqdGhpcy54U2NhbGUpKSl9X2NvbnZlcnRUb1lDZWxsQ29vcmQoZSl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy55Q2VsbENvdW50LTEsTWF0aC5mbG9vcihlKnRoaXMueVNjYWxlKSkpfV9jaXJjbGVzQ29sbGlkZShlLHQscixuLGksbyl7Y29uc3QgYT1uLWUscz1pLXQsbD1yK287cmV0dXJuIGwqbD5hKmErcypzfV9jaXJjbGVBbmRSZWN0Q29sbGlkZShlLHQscixuLGksbyxhKXtjb25zdCBzPShvLW4pLzIsbD1NYXRoLmFicyhlLShuK3MpKTtpZihsPnMrcilyZXR1cm4hMTtjb25zdCBjPShhLWkpLzIsdT1NYXRoLmFicyh0LShpK2MpKTtpZih1PmMrcilyZXR1cm4hMTtpZihsPD1zfHx1PD1jKXJldHVybiEwO2NvbnN0IGg9bC1zLGQ9dS1jO3JldHVybiBoKmgrZCpkPD1yKnJ9fWNvbnN0IGV0PU1hdGgudGFuKDg1Kk1hdGguUEkvMTgwKTtmdW5jdGlvbiB0dCh0LHIsbixpLG8sYSxzKXtjb25zdCBsPWUuY3JlYXRlKCk7aWYobilpZihcImdsb2JlXCI9PT1hLm5hbWUpe2NvbnN0IHQ9ZS5jYWxjdWxhdGVHbG9iZUxhYmVsTWF0cml4KG8scik7ZS5tdWx0aXBseShsLGwsdCl9ZWxzZXtjb25zdCB0PXkoW10scyk7bFswXT10WzBdLGxbMV09dFsxXSxsWzRdPXRbMl0sbFs1XT10WzNdLGl8fGUucm90YXRlWihsLGwsby5hbmdsZSl9ZWxzZSBlLm11bHRpcGx5KGwsby5sYWJlbFBsYW5lTWF0cml4LHQpO3JldHVybiBsfWZ1bmN0aW9uIHJ0KGUsdCxyLG4saSxvLGEpe2NvbnN0IHM9dHQoZSx0LHIsbixpLG8sYSk7cmV0dXJuXCJnbG9iZVwiPT09by5uYW1lJiZyfHwoc1syXT1zWzZdPXNbMTBdPXNbMTRdPTApLHN9ZnVuY3Rpb24gbnQodCxyLG4saSxvLGEscyl7aWYobil7aWYoXCJnbG9iZVwiPT09YS5uYW1lKXtjb25zdCBsPXR0KHQscixuLGksbyxhLHMpO3JldHVybiBlLmludmVydChsLGwpLGUubXVsdGlwbHkobCx0LGwpLGx9e2NvbnN0IHI9ZS5jbG9uZSh0KSxuPWUuaWRlbnRpdHkoW10pO3JldHVybiBuWzBdPXNbMF0sblsxXT1zWzFdLG5bNF09c1syXSxuWzVdPXNbM10sZS5tdWx0aXBseShyLHIsbiksaXx8ZS5yb3RhdGVaKHIsciwtby5hbmdsZSkscn19cmV0dXJuIG8uZ2xDb29yZE1hdHJpeH1mdW5jdGlvbiBpdCh0LHIsbj0wKXtjb25zdCBpPVt0LngsdC55LG4sMV07bj9lLnRyYW5zZm9ybU1hdDQkMShpLGkscik6X3QoaSxpLHIpO2NvbnN0IG89aVszXTtyZXR1cm57cG9pbnQ6W2lbMF0vbyxpWzFdL28saVsyXS9vXSxzaWduZWREaXN0YW5jZUZyb21DYW1lcmE6b319ZnVuY3Rpb24gb3QodCxyKXtjb25zdCBuPVt0WzBdLHRbMV0sdFsyXSwxXTtlLnRyYW5zZm9ybU1hdDQkMShuLG4scik7Y29uc3QgaT1uWzNdO3JldHVybntwb2ludDpbblswXS9pLG5bMV0vaSxuWzJdL2ldLHNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYTppfX1mdW5jdGlvbiBhdChlLHQpe3JldHVybiBNYXRoLm1pbiguNStlL3QqLjUsMS41KX1mdW5jdGlvbiBzdChlLHQpe2NvbnN0IHI9ZVswXS9lWzNdLG49ZVsxXS9lWzNdO3JldHVybiByPj0tdFswXSYmcjw9dFswXSYmbj49LXRbMV0mJm48PXRbMV19ZnVuY3Rpb24gbHQodCxyLG4saSxvLGEscyxsLGMsdSl7Y29uc3QgaD1uLnRyYW5zZm9ybSxkPWk/dC50ZXh0U2l6ZURhdGE6dC5pY29uU2l6ZURhdGEscD1lLmV2YWx1YXRlU2l6ZUZvclpvb20oZCxuLnRyYW5zZm9ybS56b29tKSxmPVwiZ2xvYmVcIj09PWgucHJvamVjdGlvbi5uYW1lLG09WzI1Ni9uLndpZHRoKjIrMSwyNTYvbi5oZWlnaHQqMisxXSxnPWk/dC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTp0Lmljb24uZHluYW1pY0xheW91dFZlcnRleEFycmF5O2cuY2xlYXIoKTtsZXQgXz1udWxsO2YmJihfPWk/dC50ZXh0Lmdsb2JlRXh0VmVydGV4QXJyYXk6dC5pY29uLmdsb2JlRXh0VmVydGV4QXJyYXkpO2NvbnN0IHk9dC5saW5lVmVydGV4QXJyYXksdj1pP3QudGV4dC5wbGFjZWRTeW1ib2xBcnJheTp0Lmljb24ucGxhY2VkU3ltYm9sQXJyYXkseD1uLnRyYW5zZm9ybS53aWR0aC9uLnRyYW5zZm9ybS5oZWlnaHQ7bGV0IGI9ITE7Zm9yKGxldCBpPTA7aTx2Lmxlbmd0aDtpKyspe2NvbnN0IGY9di5nZXQoaSk7aWYoZi53cml0aW5nTW9kZSE9PWUuV3JpdGluZ01vZGUudmVydGljYWx8fGJ8fDAhPT1pJiZ2LmdldChpLTEpLndyaXRpbmdNb2RlPT09ZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsfHwoYj0hMCksKGYuaGlkZGVufHxmLndyaXRpbmdNb2RlPT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbCkmJiFiKXtndChmLm51bUdseXBocyxnKTtjb250aW51ZX1iPSExO2NvbnN0IHc9bmV3IGUucG9pbnRHZW9tZXRyeShmLnRpbGVBbmNob3JYLGYudGlsZUFuY2hvclkpLFQ9Yz9jKHcpOlswLDAsMF0sRT1oLnByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludCh3Lngsdy55LHUuY2Fub25pY2FsKSxTPVtFLngrVFswXSxFLnkrVFsxXSxFLnorVFsyXV0sQz1bLi4uUywxXTtpZihlLnRyYW5zZm9ybU1hdDQkMShDLEMsciksIXN0KEMsbSkpe2d0KGYubnVtR2x5cGhzLGcpO2NvbnRpbnVlfWNvbnN0IE09YXQobi50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSxDWzNdKSxrPWUuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShkLHAsZiksQT1zP2svTTprKk0sST1pdChuZXcgZS5wb2ludEdlb21ldHJ5KFNbMF0sU1sxXSksbyxTWzJdKTtpZihJLnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYTw9MCl7Z3QoZi5udW1HbHlwaHMsZyk7Y29udGludWV9bGV0IFA9e307Y29uc3Qgej1zP251bGw6YyxEPWh0KGYsQSwhMSxsLHIsbyxhLHQuZ2x5cGhPZmZzZXRBcnJheSx5LGcsXyxJLnBvaW50LHcsUCx4LHosaC5wcm9qZWN0aW9uLHUscyk7Yj1ELnVzZVZlcnRpY2FsLHomJkQubmVlZHNGbGlwcGluZyYmKFA9e30pLChELm5vdEVub3VnaFJvb218fGJ8fEQubmVlZHNGbGlwcGluZyYmaHQoZixBLCEwLGwscixvLGEsdC5nbHlwaE9mZnNldEFycmF5LHksZyxfLEkucG9pbnQsdyxQLHgseixoLnByb2plY3Rpb24sdSxzKS5ub3RFbm91Z2hSb29tKSYmZ3QoZi5udW1HbHlwaHMsZyl9aT8odC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShnKSxfJiZ0LnRleHQuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShfKSk6KHQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZyksXyYmdC5pY29uLmdsb2JlRXh0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoXykpfWZ1bmN0aW9uIGN0KGUsdCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCxmLG0pe2NvbnN0IGc9cy5nbHlwaFN0YXJ0SW5kZXgrcy5udW1HbHlwaHMsXz1zLmxpbmVTdGFydEluZGV4LHk9cy5saW5lU3RhcnRJbmRleCtzLmxpbmVMZW5ndGgsdj10LmdldG9mZnNldFgocy5nbHlwaFN0YXJ0SW5kZXgpLHg9dC5nZXRvZmZzZXRYKGctMSksYj1mdChlKnYscixuLGksbyxhLHMuc2VnbWVudCxfLHksbCxjLHUsaCxkLCEwLHAsZixtKTtpZighYilyZXR1cm4gbnVsbDtjb25zdCB3PWZ0KGUqeCxyLG4saSxvLGEscy5zZWdtZW50LF8seSxsLGMsdSxoLGQsITAscCxmLG0pO3JldHVybiB3P3tmaXJzdDpiLGxhc3Q6d306bnVsbH1mdW5jdGlvbiB1dCh0LHIsbixpKXtyZXR1cm4gdC53cml0aW5nTW9kZT09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbCYmTWF0aC5hYnMobi55LXIueSk+TWF0aC5hYnMobi54LXIueCkqaT97dXNlVmVydGljYWw6ITB9OnQud3JpdGluZ01vZGU9PT1lLldyaXRpbmdNb2RlLnZlcnRpY2FsP3IueTxuLnk/e25lZWRzRmxpcHBpbmc6ITB9Om51bGw6MCE9PXQuZmxpcFN0YXRlJiZmdW5jdGlvbihlLHQscil7Y29uc3Qgbj0odC54LWUueCkqcjtyZXR1cm4gMD09PW58fE1hdGguYWJzKCh0LnktZS55KS9uKT5ldH0ocixuLGkpPzE9PT10LmZsaXBTdGF0ZT97bmVlZHNGbGlwcGluZzohMH06bnVsbDpyLng+bi54P3tuZWVkc0ZsaXBwaW5nOiEwfTpudWxsfWZ1bmN0aW9uIGh0KHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcsXyx5LHYpe2NvbnN0IHg9ci8yNCxiPXQubGluZU9mZnNldFgqeCx3PXQubGluZU9mZnNldFkqeDtsZXQgVD1bXTtpZih0Lm51bUdseXBocz4xKXtjb25zdCByPXQuZ2x5cGhTdGFydEluZGV4K3QubnVtR2x5cGhzLG89dC5saW5lU3RhcnRJbmRleCx1PXQubGluZVN0YXJ0SW5kZXgrdC5saW5lTGVuZ3RoLGg9Y3QoeCxsLGIsdyxuLGQscCx0LGMsYSxmLGcsITEsXyx5LHYpO2lmKCFoKXJldHVybntub3RFbm91Z2hSb29tOiEwfTtjb25zdCBFPW90KGguZmlyc3QucG9pbnQscykucG9pbnQsUz1vdChoLmxhc3QucG9pbnQscykucG9pbnQsQz1uZXcgZS5wb2ludEdlb21ldHJ5KEVbMF0sRVsxXSksTT1uZXcgZS5wb2ludEdlb21ldHJ5KFNbMF0sU1sxXSk7aWYoaSYmIW4pe2NvbnN0IGU9dXQodCxDLE0sbSk7aWYodC5mbGlwU3RhdGU9ZSYmZS5uZWVkc0ZsaXBwaW5nPzE6MixlKXJldHVybiBlfVQ9W2guZmlyc3RdO2ZvcihsZXQgZT10LmdseXBoU3RhcnRJbmRleCsxO2U8ci0xO2UrKyl7Y29uc3Qgcj1mdCh4KmwuZ2V0b2Zmc2V0WChlKSxiLHcsbixkLHAsdC5zZWdtZW50LG8sdSxjLGEsZixnLCExLCExLF8seSx2KTtpZighcilyZXR1cm57bm90RW5vdWdoUm9vbTohMH07VC5wdXNoKHIpfVQucHVzaChoLmxhc3QpfWVsc2V7aWYoaSYmIW4pe2NvbnN0IHI9aXQocCxvKS5wb2ludCxuPXQubGluZVN0YXJ0SW5kZXgrdC5zZWdtZW50KzEsaT1uZXcgZS5wb2ludEdlb21ldHJ5KGMuZ2V0eChuKSxjLmdldHkobikpLGE9aXQoaSxvKSxzPWEuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPjA/YS5wb2ludDpwdChwLGksciwxLG8sdm9pZCAwLF8seS5jYW5vbmljYWwpLGw9dXQodCxuZXcgZS5wb2ludEdlb21ldHJ5KHJbMF0sclsxXSksbmV3IGUucG9pbnRHZW9tZXRyeShzWzBdLHNbMV0pLG0pO2lmKHQuZmxpcFN0YXRlPWwmJmwubmVlZHNGbGlwcGluZz8xOjIsbClyZXR1cm4gbH1jb25zdCByPWZ0KHgqbC5nZXRvZmZzZXRYKHQuZ2x5cGhTdGFydEluZGV4KSxiLHcsbixkLHAsdC5zZWdtZW50LHQubGluZVN0YXJ0SW5kZXgsdC5saW5lU3RhcnRJbmRleCt0LmxpbmVMZW5ndGgsYyxhLGYsZywhMSwhMSxfLHksdik7aWYoIXIpcmV0dXJue25vdEVub3VnaFJvb206ITB9O1Q9W3JdfWlmKGgpZm9yKGNvbnN0IHQgb2YgVCllLnVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsKGgsdS5sZW5ndGgrMCx0LnVwWzBdLHQudXBbMV0sdC51cFsyXSksZS51cGRhdGVHbG9iZVZlcnRleE5vcm1hbChoLHUubGVuZ3RoKzEsdC51cFswXSx0LnVwWzFdLHQudXBbMl0pLGUudXBkYXRlR2xvYmVWZXJ0ZXhOb3JtYWwoaCx1Lmxlbmd0aCsyLHQudXBbMF0sdC51cFsxXSx0LnVwWzJdKSxlLnVwZGF0ZUdsb2JlVmVydGV4Tm9ybWFsKGgsdS5sZW5ndGgrMyx0LnVwWzBdLHQudXBbMV0sdC51cFsyXSksZS5hZGREeW5hbWljQXR0cmlidXRlcyh1LHQucG9pbnRbMF0sdC5wb2ludFsxXSx0LnBvaW50WzJdLHQuYW5nbGUpO2Vsc2UgZm9yKGNvbnN0IHQgb2YgVCllLmFkZER5bmFtaWNBdHRyaWJ1dGVzKHUsdC5wb2ludFswXSx0LnBvaW50WzFdLHQucG9pbnRbMl0sdC5hbmdsZSk7cmV0dXJue319ZnVuY3Rpb24gZHQodCxyLG4saSxvKXtjb25zdCBhPWkucHJvamVjdFRpbGVQb2ludCh0LngsdC55LHIpO2lmKCFvKXJldHVybiBpdChhLG4sYS56KTtjb25zdCBzPW8odCk7cmV0dXJuIGl0KG5ldyBlLnBvaW50R2VvbWV0cnkoYS54K3NbMF0sYS55K3NbMV0pLG4sYS56K3NbMl0pfWZ1bmN0aW9uIHB0KHQscixuLGksbyxhLHMsbCl7Y29uc3QgYz1kdCh0LmFkZCh0LnN1YihyKS5fdW5pdCgpKSxsLG8scyxhKS5wb2ludCx1PWUuc3ViKFtdLG4sYyk7cmV0dXJuIGUuc2NhbGVBbmRBZGQoW10sbix1LGkvZS5sZW5ndGgodSkpfWZ1bmN0aW9uIGZ0KHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcsXyx5KXtjb25zdCB2PWk/dC1yOnQrcjtsZXQgeD12PjA/MTotMSxiPTA7aSYmKHgqPS0xLGI9TWF0aC5QSSkseDwwJiYoYis9TWF0aC5QSSk7bGV0IHc9eD4wP2wrczpsK3MrMSxUPW8sRT1vLFM9MCxDPTA7Y29uc3QgTT1NYXRoLmFicyh2KSxrPVtdLEE9W107bGV0IEk9YTtjb25zdCBQPSgpPT57Y29uc3QgdD13LXg7cmV0dXJuIDA9PT1TP2E6bmV3IGUucG9pbnRHZW9tZXRyeSh1LmdldHgodCksdS5nZXR5KHQpKX0sej0oKT0+e2NvbnN0IGU9UCgpO3JldHVybiBwdChlLEl8fGUsRSxNLVMrMSxoLHAsZyxfLmNhbm9uaWNhbCl9O2Zvcig7UytDPD1NOyl7aWYodys9eCx3PGx8fHc+PWMpcmV0dXJuIG51bGw7aWYoRT1ULGsucHVzaChUKSxmJiZBLnB1c2goSXx8UCgpKSxUPWRbd10sdm9pZCAwPT09VCl7ST1uZXcgZS5wb2ludEdlb21ldHJ5KHUuZ2V0eCh3KSx1LmdldHkodykpO2NvbnN0IHQ9ZHQoSSxfLmNhbm9uaWNhbCxoLGcscCk7VD10LnNpZ25lZERpc3RhbmNlRnJvbUNhbWVyYT4wP2Rbd109dC5wb2ludDp6KCl9ZWxzZSBJPW51bGw7Uys9QyxDPWUuZGlzdGFuY2UoRSxUKX1JPUl8fG5ldyBlLnBvaW50R2VvbWV0cnkodS5nZXR4KHcpLHUuZ2V0eSh3KSk7Y29uc3QgRD1QKCk7bSYmcCYmKGRbd109VD12b2lkIDA9PT1kW3ddP1Q6eigpLEM9ZS5kaXN0YW5jZShFLFQpKTtjb25zdCBSPShNLVMpL0MsTD1JLnN1YihEKS5tdWx0KFIpLl9hZGQoRCksTz1lLnN1YihbXSxULEUpLEI9ZS5zY2FsZUFuZEFkZChbXSxFLE8sUik7bGV0IEY9WzAsMCwxXSxqPU9bMF0sVT1PWzFdO2lmKHkmJihGPWcudXBWZWN0b3IoXy5jYW5vbmljYWwsTC54LEwueSksMCE9PUZbMF18fDAhPT1GWzFdfHwxIT09RlsyXSkpe2NvbnN0IHQ9WzEsMCwwXSxyPVswLDEsMF07dFswXT1GWzJdLHRbMV09MCx0WzJdPS1GWzBdLGUuY3Jvc3MocixGLHQpLGUubm9ybWFsaXplKHQsdCksZS5ub3JtYWxpemUocixyKSxqPWUuZG90KE8sdCksVT1lLmRvdChPLHIpfWlmKG4pe2NvbnN0IHQ9ZS5jcm9zcyhbXSxGLE8pO2Uubm9ybWFsaXplKHQsdCksZS5zY2FsZUFuZEFkZChCLEIsdCxuKngpfWNvbnN0IE49YitNYXRoLmF0YW4yKFUsaik7cmV0dXJuIGsucHVzaChCKSxmJiZBLnB1c2goTCkse3BvaW50OkIsYW5nbGU6TixwYXRoOmssdGlsZVBhdGg6QSx1cDpGfX1jb25zdCBtdD1uZXcgRmxvYXQzMkFycmF5KFstMS8wLC0xLzAsMCwtMS8wLC0xLzAsMCwtMS8wLC0xLzAsMCwtMS8wLC0xLzAsMCwtMS8wLC0xLzAsMF0pO2Z1bmN0aW9uIGd0KGUsdCl7Zm9yKGxldCByPTA7cjxlO3IrKyl7Y29uc3QgZT10Lmxlbmd0aDt0LnJlc2l6ZShlKzQpLHQuZmxvYXQzMi5zZXQobXQsNCplKX19ZnVuY3Rpb24gX3QoZSx0LHIpe2NvbnN0IG49dFswXSxpPXRbMV07cmV0dXJuIGVbMF09clswXSpuK3JbNF0qaStyWzEyXSxlWzFdPXJbMV0qbityWzVdKmkrclsxM10sZVszXT1yWzNdKm4rcls3XSppK3JbMTVdLGV9Y29uc3QgeXQ9MTAwO2NsYXNzIHZ0e2NvbnN0cnVjdG9yKGUsdCxyPW5ldyBRZShlLndpZHRoKzIwMCxlLmhlaWdodCsyMDAsMjUpLG49bmV3IFFlKGUud2lkdGgrMjAwLGUuaGVpZ2h0KzIwMCwyNSkpe3RoaXMudHJhbnNmb3JtPWUsdGhpcy5ncmlkPXIsdGhpcy5pZ25vcmVkR3JpZD1uLHRoaXMucGl0Y2hmYWN0b3I9TWF0aC5jb3MoZS5fcGl0Y2gpKmUuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSx0aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnk9ZS53aWR0aCt5dCx0aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5PWUuaGVpZ2h0K3l0LHRoaXMuZ3JpZFJpZ2h0Qm91bmRhcnk9ZS53aWR0aCsyMDAsdGhpcy5ncmlkQm90dG9tQm91bmRhcnk9ZS5oZWlnaHQrMjAwLHRoaXMuZm9nU3RhdGU9dH1wbGFjZUNvbGxpc2lvbkJveChlLHQscixuLGksbyxhLHMpe2xldCBsPXIucHJvamVjdGVkQW5jaG9yWCxjPXIucHJvamVjdGVkQW5jaG9yWSx1PXIucHJvamVjdGVkQW5jaG9yWjtjb25zdCBoPXIuZWxldmF0aW9uLGQ9ci50aWxlSUQ7aWYoaCYmZCl7Y29uc3QgdD1lLmdldFByb2plY3Rpb24oKS51cFZlY3RvcihkLmNhbm9uaWNhbCxyLnRpbGVBbmNob3JYLHIudGlsZUFuY2hvclkpLG49ZS5nZXRQcm9qZWN0aW9uKCkudXBWZWN0b3JTY2FsZShkLmNhbm9uaWNhbCx0aGlzLnRyYW5zZm9ybS5jZW50ZXIubGF0LHRoaXMudHJhbnNmb3JtLndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlO2wrPXRbMF0qaCpuLGMrPXRbMV0qaCpuLHUrPXRbMl0qaCpufWNvbnN0IHA9dGhpcy5wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyhhLFtsLGMsdV0sci50aWxlSUQsXCJnbG9iZVwiPT09ZS5wcm9qZWN0aW9uLm5hbWV8fCEhaHx8dGhpcy50cmFuc2Zvcm0ucGl0Y2g+MCxlLmdldFByb2plY3Rpb24oKSksZj1vKnAucGVyc3BlY3RpdmVSYXRpbyxtPShyLngxKnQrbi54LXIucGFkZGluZykqZitwLnBvaW50LngsZz0oci55MSp0K24ueS1yLnBhZGRpbmcpKmYrcC5wb2ludC55LF89KHIueDIqdCtuLngrci5wYWRkaW5nKSpmK3AucG9pbnQueCx5PShyLnkyKnQrbi55K3IucGFkZGluZykqZitwLnBvaW50Lnksdj1wLnBlcnNwZWN0aXZlUmF0aW88PS41NXx8cC5vY2NsdWRlZDtyZXR1cm4hdGhpcy5pc0luc2lkZUdyaWQobSxnLF8seSl8fCFpJiZ0aGlzLmdyaWQuaGl0VGVzdChtLGcsXyx5LHMpfHx2P3tib3g6W10sb2Zmc2NyZWVuOiExLG9jY2x1ZGVkOnAub2NjbHVkZWR9Ontib3g6W20sZyxfLHldLG9mZnNjcmVlbjp0aGlzLmlzT2Zmc2NyZWVuKG0sZyxfLHkpLG9jY2x1ZGVkOiExfX1wbGFjZUNvbGxpc2lvbkNpcmNsZXModCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCxmLG0pe2NvbnN0IGc9W10sXz10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24seT1fP18uZ2V0QXRUaWxlT2Zmc2V0RnVuYyhtLHRoaXMudHJhbnNmb3JtLmNlbnRlci5sYXQsdGhpcy50cmFuc2Zvcm0ud29ybGRTaXplLHQuZ2V0UHJvamVjdGlvbigpKTplPT5bMCwwLDBdLHY9bmV3IGUucG9pbnRHZW9tZXRyeShuLnRpbGVBbmNob3JYLG4udGlsZUFuY2hvclkpLHg9dC5nZXRQcm9qZWN0aW9uKCkucHJvamVjdFRpbGVQb2ludChuLnRpbGVBbmNob3JYLG4udGlsZUFuY2hvclksbS5jYW5vbmljYWwpLGI9eSh2KSx3PVt4LngrYlswXSx4LnkrYlsxXSx4LnorYlsyXV0sVD1cImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZSxFPXRoaXMucHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8ocyxbd1swXSx3WzFdLHdbMl1dLG0sVHx8ISFffHx0aGlzLnRyYW5zZm9ybS5waXRjaD4wLHQuZ2V0UHJvamVjdGlvbigpKSx7cGVyc3BlY3RpdmVSYXRpbzpTfT1FLEM9KGg/YS9TOmEqUykvZS5PTkVfRU0sTT1pdChuZXcgZS5wb2ludEdlb21ldHJ5KHdbMF0sd1sxXSksbCx3WzJdKS5wb2ludCxrPUUuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPjA/Y3QoQyxvLG4ubGluZU9mZnNldFgqQyxuLmxpbmVPZmZzZXRZKkMsITEsTSx2LG4saSxsLHt9LF8mJiFoP3k6bnVsbCxoJiYhIV8sdC5nZXRQcm9qZWN0aW9uKCksbSxoKTpudWxsO2xldCBBPSExLEk9ITEsUD0hMDtpZihrJiYhRS5vY2NsdWRlZCl7Y29uc3QgdD0uNSpwKlMrZixuPW5ldyBlLnBvaW50R2VvbWV0cnkoLTEwMCwtMTAwKSxpPW5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy5zY3JlZW5SaWdodEJvdW5kYXJ5LHRoaXMuc2NyZWVuQm90dG9tQm91bmRhcnkpLG89bmV3IEplLGE9ay5maXJzdCxzPWsubGFzdDtsZXQgbD1bXTtmb3IobGV0IGU9YS5wYXRoLmxlbmd0aC0xO2U+PTE7ZS0tKWwucHVzaChhLnBhdGhbZV0pO2ZvcihsZXQgZT0xO2U8cy5wYXRoLmxlbmd0aDtlKyspbC5wdXNoKHMucGF0aFtlXSk7Y29uc3QgaD0yLjUqdDtpZihjKXtjb25zdCBlPWwubWFwKF8mJiFUPyhlLHQpPT57Y29uc3Qgcj15KHQ8YS5wYXRoLmxlbmd0aC0xP2EudGlsZVBhdGhbYS5wYXRoLmxlbmd0aC0xLXRdOnMudGlsZVBhdGhbdC1hLnBhdGgubGVuZ3RoKzJdKTtyZXR1cm4gZVsyXT1yWzJdLG90KGUsYyl9OmU9Pm90KGUsYykpO2w9ZS5zb21lKGU9PmUuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPD0wKT9bXTplLm1hcChlPT5lLnBvaW50KX1sZXQgbT1bXTtpZihsLmxlbmd0aD4wKXtjb25zdCB0PWwubWFwKHQ9Pm5ldyBlLnBvaW50R2VvbWV0cnkodFswXSx0WzFdKSk7bGV0IHI9MS8wLG89LTEvMCxhPTEvMCxzPS0xLzA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspcj1NYXRoLm1pbihyLHRbZV0ueCksYT1NYXRoLm1pbihhLHRbZV0ueSksbz1NYXRoLm1heChvLHRbZV0ueCkscz1NYXRoLm1heChzLHRbZV0ueSk7bT1yPj1uLngmJm88PWkueCYmYT49bi55JiZzPD1pLnk/W3RdOm88bi54fHxyPmkueHx8czxuLnl8fGE+aS55P1tdOmUuY2xpcExpbmUoW3RdLG4ueCxuLnksaS54LGkueSl9Zm9yKGNvbnN0IGUgb2YgbSl7by5yZXNldChlLC4yNSp0KTtsZXQgbj0wO249by5sZW5ndGg8PS41KnQ/MTpNYXRoLmNlaWwoby5wYWRkZWRMZW5ndGgvaCkrMTtmb3IobGV0IGU9MDtlPG47ZSsrKXtjb25zdCBpPWUvTWF0aC5tYXgobi0xLDEpLGE9by5sZXJwKGkpLHM9YS54K3l0LGw9YS55K3l0O2cucHVzaChzLGwsdCwwKTtjb25zdCBjPXMtdCxoPWwtdCxwPXMrdCxmPWwrdDtpZihQPVAmJnRoaXMuaXNPZmZzY3JlZW4oYyxoLHAsZiksST1JfHx0aGlzLmlzSW5zaWRlR3JpZChjLGgscCxmKSwhciYmdGhpcy5ncmlkLmhpdFRlc3RDaXJjbGUocyxsLHQsZCkmJihBPSEwLCF1KSlyZXR1cm57Y2lyY2xlczpbXSxvZmZzY3JlZW46ITEsY29sbGlzaW9uRGV0ZWN0ZWQ6QSxvY2NsdWRlZDohMX19fX1yZXR1cm57Y2lyY2xlczohdSYmQXx8IUk/W106ZyxvZmZzY3JlZW46UCxjb2xsaXNpb25EZXRlY3RlZDpBLG9jY2x1ZGVkOkUub2NjbHVkZWR9fXF1ZXJ5UmVuZGVyZWRTeW1ib2xzKHQpe2lmKDA9PT10Lmxlbmd0aHx8MD09PXRoaXMuZ3JpZC5rZXlzTGVuZ3RoKCkmJjA9PT10aGlzLmlnbm9yZWRHcmlkLmtleXNMZW5ndGgoKSlyZXR1cm57fTtjb25zdCByPVtdO2xldCBuPTEvMCxpPTEvMCxvPS0xLzAsYT0tMS8wO2Zvcihjb25zdCBzIG9mIHQpe2NvbnN0IHQ9bmV3IGUucG9pbnRHZW9tZXRyeShzLngreXQscy55K3l0KTtuPU1hdGgubWluKG4sdC54KSxpPU1hdGgubWluKGksdC55KSxvPU1hdGgubWF4KG8sdC54KSxhPU1hdGgubWF4KGEsdC55KSxyLnB1c2godCl9Y29uc3Qgcz10aGlzLmdyaWQucXVlcnkobixpLG8sYSkuY29uY2F0KHRoaXMuaWdub3JlZEdyaWQucXVlcnkobixpLG8sYSkpLGw9e30sYz17fTtmb3IoY29uc3QgdCBvZiBzKXtjb25zdCBuPXQua2V5O2lmKHZvaWQgMD09PWxbbi5idWNrZXRJbnN0YW5jZUlkXSYmKGxbbi5idWNrZXRJbnN0YW5jZUlkXT17fSksbFtuLmJ1Y2tldEluc3RhbmNlSWRdW24uZmVhdHVyZUluZGV4XSljb250aW51ZTtjb25zdCBpPVtuZXcgZS5wb2ludEdlb21ldHJ5KHQueDEsdC55MSksbmV3IGUucG9pbnRHZW9tZXRyeSh0LngyLHQueTEpLG5ldyBlLnBvaW50R2VvbWV0cnkodC54Mix0LnkyKSxuZXcgZS5wb2ludEdlb21ldHJ5KHQueDEsdC55MildO2UucG9seWdvbkludGVyc2VjdHNQb2x5Z29uKHIsaSkmJihsW24uYnVja2V0SW5zdGFuY2VJZF1bbi5mZWF0dXJlSW5kZXhdPSEwLHZvaWQgMD09PWNbbi5idWNrZXRJbnN0YW5jZUlkXSYmKGNbbi5idWNrZXRJbnN0YW5jZUlkXT1bXSksY1tuLmJ1Y2tldEluc3RhbmNlSWRdLnB1c2gobi5mZWF0dXJlSW5kZXgpKX1yZXR1cm4gY31pbnNlcnRDb2xsaXNpb25Cb3goZSx0LHIsbixpKXsodD90aGlzLmlnbm9yZWRHcmlkOnRoaXMuZ3JpZCkuaW5zZXJ0KHtidWNrZXRJbnN0YW5jZUlkOnIsZmVhdHVyZUluZGV4Om4sY29sbGlzaW9uR3JvdXBJRDppfSxlWzBdLGVbMV0sZVsyXSxlWzNdKX1pbnNlcnRDb2xsaXNpb25DaXJjbGVzKGUsdCxyLG4saSl7Y29uc3Qgbz10P3RoaXMuaWdub3JlZEdyaWQ6dGhpcy5ncmlkLGE9e2J1Y2tldEluc3RhbmNlSWQ6cixmZWF0dXJlSW5kZXg6bixjb2xsaXNpb25Hcm91cElEOml9O2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9NClvLmluc2VydENpcmNsZShhLGVbdF0sZVt0KzFdLGVbdCsyXSl9cHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8odCxyLG4saSxvKXtjb25zdCBhPVtyWzBdLHJbMV0sclsyXSwxXTtsZXQgcz0hMTtpZihyWzJdfHx0aGlzLnRyYW5zZm9ybS5waXRjaD4wKXtlLnRyYW5zZm9ybU1hdDQkMShhLGEsdCk7Y29uc3QgaT1cImdsb2JlXCI9PT1vLm5hbWU7dGhpcy5mb2dTdGF0ZSYmbiYmIWkmJihzPWZ1bmN0aW9uKHQscixuLGksbyxhKXtjb25zdCBzPWEuY2FsY3VsYXRlRm9nVGlsZU1hdHJpeChvKSxsPVtyLG4saV07cmV0dXJuIGUudHJhbnNmb3JtTWF0NChsLGwscyksTSh0LGwsYS5waXRjaCxhLl9mb3YpfSh0aGlzLmZvZ1N0YXRlLHJbMF0sclsxXSxyWzJdLG4udG9VbndyYXBwZWQoKSx0aGlzLnRyYW5zZm9ybSk+LjkpfWVsc2UgX3QoYSxhLHQpO3JldHVybntwb2ludDpuZXcgZS5wb2ludEdlb21ldHJ5KChhWzBdL2FbM10rMSkvMip0aGlzLnRyYW5zZm9ybS53aWR0aCt5dCwoLWFbMV0vYVszXSsxKS8yKnRoaXMudHJhbnNmb3JtLmhlaWdodCt5dCkscGVyc3BlY3RpdmVSYXRpbzpNYXRoLm1pbiguNSt0aGlzLnRyYW5zZm9ybS5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKG8pL2FbM10qLjUsMS41KSxzaWduZWREaXN0YW5jZUZyb21DYW1lcmE6YVszXSxvY2NsdWRlZDppJiZhWzJdPmFbM118fHN9fWlzT2Zmc2NyZWVuKGUsdCxyLG4pe3JldHVybiByPHl0fHxlPj10aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnl8fG48eXR8fHQ+dGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeX1pc0luc2lkZUdyaWQoZSx0LHIsbil7cmV0dXJuIHI+PTAmJmU8dGhpcy5ncmlkUmlnaHRCb3VuZGFyeSYmbj49MCYmdDx0aGlzLmdyaWRCb3R0b21Cb3VuZGFyeX1nZXRWaWV3cG9ydE1hdHJpeCgpe2NvbnN0IHQ9ZS5pZGVudGl0eShbXSk7cmV0dXJuIGUudHJhbnNsYXRlKHQsdCxbLTEwMCwtMTAwLDBdKSx0fX1mdW5jdGlvbiB4dCh0LHIsbil7Y29uc3QgaT1yLmNyZWF0ZVRpbGVNYXRyaXgodCx0LndvcmxkU2l6ZSxuLnRvVW53cmFwcGVkKCkpO3JldHVybiBlLm11bHRpcGx5KG5ldyBGbG9hdDMyQXJyYXkoMTYpLHQucHJvak1hdHJpeCxpKX1mdW5jdGlvbiBidChlLHQscil7aWYodC5wcm9qZWN0aW9uLm5hbWU9PT1yLnByb2plY3Rpb24ubmFtZSlyZXR1cm4gZS5wcm9qTWF0cml4O2NvbnN0IG49ci5jbG9uZSgpO3JldHVybiBuLnNldFByb2plY3Rpb24odC5wcm9qZWN0aW9uKSx4dChuLHQuZ2V0UHJvamVjdGlvbigpLGUpfWZ1bmN0aW9uIHd0KGUsdCxyKXtyZXR1cm4gdC5uYW1lPT09ci5wcm9qZWN0aW9uLm5hbWU/ZS5wcm9qTWF0cml4Onh0KHIsdCxlKX1jbGFzcyBUdHtjb25zdHJ1Y3RvcihlLHQscixuKXt0aGlzLm9wYWNpdHk9ZT9NYXRoLm1heCgwLE1hdGgubWluKDEsZS5vcGFjaXR5KyhlLnBsYWNlZD90Oi10KSkpOm4mJnI/MTowLHRoaXMucGxhY2VkPXJ9aXNIaWRkZW4oKXtyZXR1cm4gMD09PXRoaXMub3BhY2l0eSYmIXRoaXMucGxhY2VkfX1jbGFzcyBFdHtjb25zdHJ1Y3RvcihlLHQscixuLGksbz0hMSl7dGhpcy50ZXh0PW5ldyBUdChlP2UudGV4dDpudWxsLHQscixpKSx0aGlzLmljb249bmV3IFR0KGU/ZS5pY29uOm51bGwsdCxuLGkpLHRoaXMuY2xpcHBlZD1vfWlzSGlkZGVuKCl7cmV0dXJuIHRoaXMudGV4dC5pc0hpZGRlbigpJiZ0aGlzLmljb24uaXNIaWRkZW4oKX19Y2xhc3MgU3R7Y29uc3RydWN0b3IoZSx0LHIsbj0hMSl7dGhpcy50ZXh0PWUsdGhpcy5pY29uPXQsdGhpcy5za2lwRmFkZT1yLHRoaXMuY2xpcHBlZD1ufX1jbGFzcyBDdHtjb25zdHJ1Y3Rvcigpe3RoaXMuaW52UHJvak1hdHJpeD1lLmNyZWF0ZSgpLHRoaXMudmlld3BvcnRNYXRyaXg9ZS5jcmVhdGUoKSx0aGlzLmNpcmNsZXM9W119fWNsYXNzIE10e2NvbnN0cnVjdG9yKGUsdCxyLG4saSl7dGhpcy5idWNrZXRJbnN0YW5jZUlkPWUsdGhpcy5mZWF0dXJlSW5kZXg9dCx0aGlzLnNvdXJjZUxheWVySW5kZXg9cix0aGlzLmJ1Y2tldEluZGV4PW4sdGhpcy50aWxlSUQ9aX19Y2xhc3Mga3R7Y29uc3RydWN0b3IoZSl7dGhpcy5jcm9zc1NvdXJjZUNvbGxpc2lvbnM9ZSx0aGlzLm1heEdyb3VwSUQ9MCx0aGlzLmNvbGxpc2lvbkdyb3Vwcz17fX1nZXQoZSl7aWYodGhpcy5jcm9zc1NvdXJjZUNvbGxpc2lvbnMpcmV0dXJue0lEOjAscHJlZGljYXRlOm51bGx9O2lmKCF0aGlzLmNvbGxpc2lvbkdyb3Vwc1tlXSl7Y29uc3QgdD0rK3RoaXMubWF4R3JvdXBJRDt0aGlzLmNvbGxpc2lvbkdyb3Vwc1tlXT17SUQ6dCxwcmVkaWNhdGU6ZT0+ZS5jb2xsaXNpb25Hcm91cElEPT09dH19cmV0dXJuIHRoaXMuY29sbGlzaW9uR3JvdXBzW2VdfX1mdW5jdGlvbiBBdCh0LHIsbixpLG8pe2NvbnN0e2hvcml6b250YWxBbGlnbjphLHZlcnRpY2FsQWxpZ246c309ZS5nZXRBbmNob3JBbGlnbm1lbnQodCksbD0tKGEtLjUpKnIsYz0tKHMtLjUpKm4sdT1lLmV2YWx1YXRlVmFyaWFibGVPZmZzZXQodCxpKTtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeShsK3VbMF0qbyxjK3VbMV0qbyl9ZnVuY3Rpb24gSXQodCxyLG4saSxvKXtjb25zdCBhPW5ldyBlLnBvaW50R2VvbWV0cnkodCxyKTtyZXR1cm4gbiYmYS5fcm90YXRlKGk/bzotbyksYX1jbGFzcyBQdHtjb25zdHJ1Y3RvcihlLHQscixuLGkpe3RoaXMudHJhbnNmb3JtPWUuY2xvbmUoKSx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLm5hbWUsdGhpcy5jb2xsaXNpb25JbmRleD1uZXcgdnQodGhpcy50cmFuc2Zvcm0saSksdGhpcy5wbGFjZW1lbnRzPXt9LHRoaXMub3BhY2l0aWVzPXt9LHRoaXMudmFyaWFibGVPZmZzZXRzPXt9LHRoaXMuc3RhbGU9ITEsdGhpcy5jb21taXRUaW1lPTAsdGhpcy5mYWRlRHVyYXRpb249dCx0aGlzLnJldGFpbmVkUXVlcnlEYXRhPXt9LHRoaXMuY29sbGlzaW9uR3JvdXBzPW5ldyBrdChyKSx0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cz17fSx0aGlzLnByZXZQbGFjZW1lbnQ9bixuJiYobi5wcmV2UGxhY2VtZW50PXZvaWQgMCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnM9e319Z2V0QnVja2V0UGFydHModCxyLG4saSl7Y29uc3Qgbz1uLmdldEJ1Y2tldChyKSxhPW4ubGF0ZXN0RmVhdHVyZUluZGV4O2lmKCFvfHwhYXx8ci5pZCE9PW8ubGF5ZXJJZHNbMF0pcmV0dXJuO2NvbnN0IHM9by5sYXllcnNbMF0ubGF5b3V0LGw9bi5jb2xsaXNpb25Cb3hBcnJheSxjPU1hdGgucG93KDIsdGhpcy50cmFuc2Zvcm0uem9vbS1uLnRpbGVJRC5vdmVyc2NhbGVkWiksdT1uLnRpbGVTaXplL2UuRVhURU5ULGg9bi50aWxlSUQudG9VbndyYXBwZWQoKTt0aGlzLnRyYW5zZm9ybS5zZXRQcm9qZWN0aW9uKG8ucHJvamVjdGlvbik7Y29uc3QgZD0ocD1uLnRpbGVJRCxmPW8uZ2V0UHJvamVjdGlvbigpLG09dGhpcy50cmFuc2Zvcm0sZi5uYW1lPT09dGhpcy5wcm9qZWN0aW9uP20uY2FsY3VsYXRlUHJvak1hdHJpeChwLnRvVW53cmFwcGVkKCkpOnh0KG0sZixwKSk7dmFyIHAsZixtO2NvbnN0IGc9XCJtYXBcIj09PXMuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIiksXz1cIm1hcFwiPT09cy5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKTtyLmNvbXBpbGVGaWx0ZXIoKTtjb25zdCB5PXIuZHluYW1pY0ZpbHRlcigpLHY9ci5keW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlKCkseD10aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeChuKSxiPXJ0KGQsbi50aWxlSUQuY2Fub25pY2FsLGcsXyx0aGlzLnRyYW5zZm9ybSxvLmdldFByb2plY3Rpb24oKSx4KTtsZXQgdz1udWxsO2lmKGcpe2NvbnN0IHQ9bnQoZCxuLnRpbGVJRC5jYW5vbmljYWwsZyxfLHRoaXMudHJhbnNmb3JtLG8uZ2V0UHJvamVjdGlvbigpLHgpO3c9ZS5tdWx0aXBseShbXSx0aGlzLnRyYW5zZm9ybS5sYWJlbFBsYW5lTWF0cml4LHQpfWxldCBUPW51bGw7eSYmbi5sYXRlc3RGZWF0dXJlSW5kZXgmJihUPXt1bndyYXBwZWRUaWxlSUQ6aCxkeW5hbWljRmlsdGVyOnksZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZTp2LGZlYXR1cmVJbmRleDpuLmxhdGVzdEZlYXR1cmVJbmRleH0pLHRoaXMucmV0YWluZWRRdWVyeURhdGFbby5idWNrZXRJbnN0YW5jZUlkXT1uZXcgTXQoby5idWNrZXRJbnN0YW5jZUlkLGEsby5zb3VyY2VMYXllckluZGV4LG8uaW5kZXgsbi50aWxlSUQpO2NvbnN0IEU9e2J1Y2tldDpvLGxheW91dDpzLHBvc01hdHJpeDpkLHRleHRMYWJlbFBsYW5lTWF0cml4OmIsbGFiZWxUb1NjcmVlbk1hdHJpeDp3LGNsaXBwaW5nRGF0YTpULHNjYWxlOmMsdGV4dFBpeGVsUmF0aW86dSxob2xkaW5nRm9yRmFkZTpuLmhvbGRpbmdGb3JGYWRlKCksY29sbGlzaW9uQm94QXJyYXk6bCxwYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZTplLmV2YWx1YXRlU2l6ZUZvclpvb20oby50ZXh0U2l6ZURhdGEsdGhpcy50cmFuc2Zvcm0uem9vbSkscGFydGlhbGx5RXZhbHVhdGVkSWNvblNpemU6ZS5ldmFsdWF0ZVNpemVGb3Jab29tKG8uaWNvblNpemVEYXRhLHRoaXMudHJhbnNmb3JtLnpvb20pLGNvbGxpc2lvbkdyb3VwOnRoaXMuY29sbGlzaW9uR3JvdXBzLmdldChvLnNvdXJjZUlEKX07aWYoaSlmb3IoY29uc3QgZSBvZiBvLnNvcnRLZXlSYW5nZXMpe2NvbnN0e3NvcnRLZXk6cixzeW1ib2xJbnN0YW5jZVN0YXJ0Om4sc3ltYm9sSW5zdGFuY2VFbmQ6aX09ZTt0LnB1c2goe3NvcnRLZXk6cixzeW1ib2xJbnN0YW5jZVN0YXJ0Om4sc3ltYm9sSW5zdGFuY2VFbmQ6aSxwYXJhbWV0ZXJzOkV9KX1lbHNlIHQucHVzaCh7c3ltYm9sSW5zdGFuY2VTdGFydDowLHN5bWJvbEluc3RhbmNlRW5kOm8uc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCxwYXJhbWV0ZXJzOkV9KX1hdHRlbXB0QW5jaG9yUGxhY2VtZW50KGUsdCxyLG4saSxvLGEscyxsLGMsdSxoLGQscCxmLG0sZyxfKXtjb25zdCB5PVtoLnRleHRPZmZzZXQwLGgudGV4dE9mZnNldDFdLHY9QXQoZSxyLG4seSxpKSx4PXRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3gocCxpLHQsSXQodi54LHYueSxvLGEsdGhpcy50cmFuc2Zvcm0uYW5nbGUpLHUscyxsLGMucHJlZGljYXRlKTtpZihtKXtjb25zdCBlPXAuZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShfLHRoaXMudHJhbnNmb3JtLnpvb20saC5wbGFjZWRJY29uU3ltYm9sSW5kZXgpO2lmKDA9PT10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KHAsZSxtLEl0KHYueCx2LnksbyxhLHRoaXMudHJhbnNmb3JtLmFuZ2xlKSx1LHMsbCxjLnByZWRpY2F0ZSkuYm94Lmxlbmd0aClyZXR1cm59aWYoeC5ib3gubGVuZ3RoPjApe2xldCB0O3JldHVybiB0aGlzLnByZXZQbGFjZW1lbnQmJnRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbaC5jcm9zc1RpbGVJRF0mJnRoaXMucHJldlBsYWNlbWVudC5wbGFjZW1lbnRzW2guY3Jvc3NUaWxlSURdJiZ0aGlzLnByZXZQbGFjZW1lbnQucGxhY2VtZW50c1toLmNyb3NzVGlsZUlEXS50ZXh0JiYodD10aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW2guY3Jvc3NUaWxlSURdLmFuY2hvciksdGhpcy52YXJpYWJsZU9mZnNldHNbaC5jcm9zc1RpbGVJRF09e3RleHRPZmZzZXQ6eSx3aWR0aDpyLGhlaWdodDpuLGFuY2hvcjplLHRleHRTY2FsZTppLHByZXZBbmNob3I6dH0sdGhpcy5tYXJrVXNlZEp1c3RpZmljYXRpb24ocCxlLGgsZikscC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYodGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKHAsZixoKSx0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1toLmNyb3NzVGlsZUlEXT1mKSx7c2hpZnQ6dixwbGFjZWRHbHlwaEJveGVzOnh9fX1wbGFjZUxheWVyQnVja2V0UGFydCh0LHIsbixpKXtjb25zdHtidWNrZXQ6byxsYXlvdXQ6YSxwb3NNYXRyaXg6cyx0ZXh0TGFiZWxQbGFuZU1hdHJpeDpsLGxhYmVsVG9TY3JlZW5NYXRyaXg6YyxjbGlwcGluZ0RhdGE6dSx0ZXh0UGl4ZWxSYXRpbzpoLGhvbGRpbmdGb3JGYWRlOmQsY29sbGlzaW9uQm94QXJyYXk6cCxwYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZTpmLHBhcnRpYWxseUV2YWx1YXRlZEljb25TaXplOm0sY29sbGlzaW9uR3JvdXA6Z309dC5wYXJhbWV0ZXJzLF89YS5nZXQoXCJ0ZXh0LW9wdGlvbmFsXCIpLHk9YS5nZXQoXCJpY29uLW9wdGlvbmFsXCIpLHY9YS5nZXQoXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIikseD1hLmdldChcImljb24tYWxsb3ctb3ZlcmxhcFwiKSxiPVwibWFwXCI9PT1hLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLHc9XCJtYXBcIj09PWEuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIiksVD1cIm5vbmVcIiE9PWEuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKSxFPVwidmlld3BvcnQteVwiPT09YS5nZXQoXCJzeW1ib2wtei1vcmRlclwiKTt0aGlzLnRyYW5zZm9ybS5zZXRQcm9qZWN0aW9uKG8ucHJvamVjdGlvbik7bGV0IFM9diYmKHh8fCFvLmhhc0ljb25EYXRhKCl8fHkpLEM9eCYmKHZ8fCFvLmhhc1RleHREYXRhKCl8fF8pOyFvLmNvbGxpc2lvbkFycmF5cyYmcCYmby5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKHApLG4mJmkmJm8udXBkYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKHRoaXMudHJhbnNmb3JtLnpvb20scCk7Y29uc3QgTT0odCxpLHApPT57aWYodSl7Y29uc3Qgbj17em9vbTp0aGlzLnRyYW5zZm9ybS56b29tLHBpdGNoOnRoaXMudHJhbnNmb3JtLnBpdGNofTtsZXQgaT1udWxsO2lmKHUuZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZSl7Y29uc3QgZT10aGlzLnJldGFpbmVkUXVlcnlEYXRhW28uYnVja2V0SW5zdGFuY2VJZF07aT11LmZlYXR1cmVJbmRleC5sb2FkRmVhdHVyZSh7ZmVhdHVyZUluZGV4OnQuZmVhdHVyZUluZGV4LGJ1Y2tldEluZGV4OmUuYnVja2V0SW5kZXgsc291cmNlTGF5ZXJJbmRleDplLnNvdXJjZUxheWVySW5kZXgsbGF5b3V0VmVydGV4QXJyYXlPZmZzZXQ6MH0pfWlmKCEoMCx1LmR5bmFtaWNGaWx0ZXIpKG4saSx0aGlzLnJldGFpbmVkUXVlcnlEYXRhW28uYnVja2V0SW5zdGFuY2VJZF0udGlsZUlELmNhbm9uaWNhbCxuZXcgZS5wb2ludEdlb21ldHJ5KHQudGlsZUFuY2hvclgsdC50aWxlQW5jaG9yWSksdGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlRGlzdGFuY2VUaWxlRGF0YSh1LnVud3JhcHBlZFRpbGVJRCkpKXJldHVybiB0aGlzLnBsYWNlbWVudHNbdC5jcm9zc1RpbGVJRF09bmV3IFN0KCExLCExLCExLCEwKSx2b2lkKHJbdC5jcm9zc1RpbGVJRF09ITApfWlmKHJbdC5jcm9zc1RpbGVJRF0pcmV0dXJuO2lmKGQpcmV0dXJuIHZvaWQodGhpcy5wbGFjZW1lbnRzW3QuY3Jvc3NUaWxlSURdPW5ldyBTdCghMSwhMSwhMSkpO2xldCBFPSExLE09ITEsaz0hMCxBPSExLEk9ITEsUD1udWxsLHo9e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9LEQ9e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9LFI9bnVsbCxMPW51bGwsTz1udWxsLEI9MCxGPTAsaj0wO3AudGV4dEZlYXR1cmVJbmRleD9CPXAudGV4dEZlYXR1cmVJbmRleDp0LnVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzJiYoQj10LmZlYXR1cmVJbmRleCkscC52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgmJihGPXAudmVydGljYWxUZXh0RmVhdHVyZUluZGV4KTtjb25zdCBVPWU9PntlLnRpbGVJRD10aGlzLnJldGFpbmVkUXVlcnlEYXRhW28uYnVja2V0SW5zdGFuY2VJZF0udGlsZUlELCh0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb258fGUuZWxldmF0aW9uKSYmKGUuZWxldmF0aW9uPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbj90aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24uZ2V0QXRUaWxlT2Zmc2V0KHRoaXMucmV0YWluZWRRdWVyeURhdGFbby5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQsZS50aWxlQW5jaG9yWCxlLnRpbGVBbmNob3JZKTowKX0sTj1wLnRleHRCb3g7aWYoTil7VShOKTtjb25zdCByPXI9PntsZXQgbj1lLldyaXRpbmdNb2RlLmhvcml6b250YWw7aWYoby5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYhciYmdGhpcy5wcmV2UGxhY2VtZW50KXtjb25zdCBlPXRoaXMucHJldlBsYWNlbWVudC5wbGFjZWRPcmllbnRhdGlvbnNbdC5jcm9zc1RpbGVJRF07ZSYmKHRoaXMucGxhY2VkT3JpZW50YXRpb25zW3QuY3Jvc3NUaWxlSURdPWUsbj1lLHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihvLG4sdCkpfXJldHVybiBufSxuPShyLG4pPT57aWYoby5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZ0Lm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcz4wJiZwLnZlcnRpY2FsVGV4dEJveCl7Zm9yKGNvbnN0IHQgb2Ygby53cml0aW5nTW9kZXMpaWYodD09PWUuV3JpdGluZ01vZGUudmVydGljYWw/KHo9bigpLEQ9eik6ej1yKCkseiYmei5ib3gmJnouYm94Lmxlbmd0aClicmVha31lbHNlIHo9cigpfTtpZihhLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpKXtsZXQgbD1hLmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpO2lmKHRoaXMucHJldlBsYWNlbWVudCYmdGhpcy5wcmV2UGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0c1t0LmNyb3NzVGlsZUlEXSl7Y29uc3QgZT10aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW3QuY3Jvc3NUaWxlSURdO2wuaW5kZXhPZihlLmFuY2hvcik+MCYmKGw9bC5maWx0ZXIodD0+dCE9PWUuYW5jaG9yKSxsLnVuc2hpZnQoZS5hbmNob3IpKX1jb25zdCBjPShlLHIsbik9Pntjb25zdCBhPW8uZ2V0U3ltYm9sSW5zdGFuY2VUZXh0U2l6ZShmLHQsdGhpcy50cmFuc2Zvcm0uem9vbSxpKSxjPShlLngyLWUueDEpKmErMiplLnBhZGRpbmcsdT0oZS55Mi1lLnkxKSphKzIqZS5wYWRkaW5nLGQ9VCYmIXg/cjpudWxsO2QmJlUoZCk7bGV0IHA9e2JveDpbXSxvZmZzY3JlZW46ITEsb2NjbHVkZWQ6ITF9O2NvbnN0IF89dj8yKmwubGVuZ3RoOmwubGVuZ3RoO2ZvcihsZXQgcj0wO3I8XzsrK3Ipe2NvbnN0IF89dGhpcy5hdHRlbXB0QW5jaG9yUGxhY2VtZW50KGxbciVsLmxlbmd0aF0sZSxjLHUsYSxiLHcsaCxzLGcscj49bC5sZW5ndGgsdCxpLG8sbixkLGYsbSk7aWYoXyYmKHA9Xy5wbGFjZWRHbHlwaEJveGVzLHAmJnAuYm94JiZwLmJveC5sZW5ndGgpKXtFPSEwLFA9Xy5zaGlmdDticmVha319cmV0dXJuIHB9O24oKCk9PmMoTixwLmljb25Cb3gsZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsKSwoKT0+e2NvbnN0IHI9cC52ZXJ0aWNhbFRleHRCb3g7cmV0dXJuIHImJlUociksby5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYhKHomJnouYm94JiZ6LmJveC5sZW5ndGgpJiZ0Lm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcz4wJiZyP2MocixwLnZlcnRpY2FsSWNvbkJveCxlLldyaXRpbmdNb2RlLnZlcnRpY2FsKTp7Ym94Om51bGwsb2Zmc2NyZWVuOm51bGwsb2NjbHVkZWQ6bnVsbH19KSx6JiYoRT16LmJveCxrPXoub2Zmc2NyZWVuLEE9ei5vY2NsdWRlZCk7Y29uc3QgdT1yKHomJnouYm94KTtpZighRSYmdGhpcy5wcmV2UGxhY2VtZW50KXtjb25zdCBlPXRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbdC5jcm9zc1RpbGVJRF07ZSYmKHRoaXMudmFyaWFibGVPZmZzZXRzW3QuY3Jvc3NUaWxlSURdPWUsdGhpcy5tYXJrVXNlZEp1c3RpZmljYXRpb24obyxlLmFuY2hvcix0LHUpKX19ZWxzZXtjb25zdCBhPShyLG4pPT57Y29uc3QgYT1vLmdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUoZix0LHRoaXMudHJhbnNmb3JtLnpvb20saSksbD10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KG8sYSxyLG5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSx2LGgscyxnLnByZWRpY2F0ZSk7cmV0dXJuIGwmJmwuYm94JiZsLmJveC5sZW5ndGgmJih0aGlzLm1hcmtVc2VkT3JpZW50YXRpb24obyxuLHQpLHRoaXMucGxhY2VkT3JpZW50YXRpb25zW3QuY3Jvc3NUaWxlSURdPW4pLGx9O24oKCk9PmEoTixlLldyaXRpbmdNb2RlLmhvcml6b250YWwpLCgpPT57Y29uc3Qgcj1wLnZlcnRpY2FsVGV4dEJveDtyZXR1cm4gby5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZ0Lm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcz4wJiZyPyhVKHIpLGEocixlLldyaXRpbmdNb2RlLnZlcnRpY2FsKSk6e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9fSkscih6JiZ6LmJveCYmei5ib3gubGVuZ3RoKX19aWYoUj16LEU9UiYmUi5ib3gmJlIuYm94Lmxlbmd0aD4wLGs9UiYmUi5vZmZzY3JlZW4sQT1SJiZSLm9jY2x1ZGVkLHQudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMpe2NvbnN0IHI9by50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldCh0LmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleD49MD90LmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDp0LnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4KSxpPWUuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShvLnRleHRTaXplRGF0YSxmLHIpLHU9YS5nZXQoXCJ0ZXh0LXBhZGRpbmdcIik7TD10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQ2lyY2xlcyhvLHYscixvLmxpbmVWZXJ0ZXhBcnJheSxvLmdseXBoT2Zmc2V0QXJyYXksaSxzLGwsYyxuLHcsZy5wcmVkaWNhdGUsdC5jb2xsaXNpb25DaXJjbGVEaWFtZXRlcippL2UuT05FX0VNLHUsdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtvLmJ1Y2tldEluc3RhbmNlSWRdLnRpbGVJRCksRT12fHxMLmNpcmNsZXMubGVuZ3RoPjAmJiFMLmNvbGxpc2lvbkRldGVjdGVkLGs9ayYmTC5vZmZzY3JlZW4sQT1MLm9jY2x1ZGVkfWlmKHAuaWNvbkZlYXR1cmVJbmRleCYmKGo9cC5pY29uRmVhdHVyZUluZGV4KSxwLmljb25Cb3gpe2NvbnN0IHI9cj0+e1Uocik7Y29uc3Qgbj1UJiZQP0l0KFAueCxQLnksYix3LHRoaXMudHJhbnNmb3JtLmFuZ2xlKTpuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCksaT1vLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUobSx0aGlzLnRyYW5zZm9ybS56b29tLHQucGxhY2VkSWNvblN5bWJvbEluZGV4KTtyZXR1cm4gdGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChvLGkscixuLHgsaCxzLGcucHJlZGljYXRlKX07RCYmRC5ib3gmJkQuYm94Lmxlbmd0aCYmcC52ZXJ0aWNhbEljb25Cb3g/KE89cihwLnZlcnRpY2FsSWNvbkJveCksTT1PLmJveC5sZW5ndGg+MCk6KE89cihwLmljb25Cb3gpLE09Ty5ib3gubGVuZ3RoPjApLGs9ayYmTy5vZmZzY3JlZW4sST1PLm9jY2x1ZGVkfWNvbnN0IFY9X3x8MD09PXQubnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXMmJjA9PT10Lm51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcyxHPXl8fDA9PT10Lm51bUljb25WZXJ0aWNlcztpZihWfHxHP0c/Vnx8KE09TSYmRSk6RT1NJiZFOk09RT1NJiZFLEUmJlImJlIuYm94JiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkJveChSLmJveCxhLmdldChcInRleHQtaWdub3JlLXBsYWNlbWVudFwiKSxvLmJ1Y2tldEluc3RhbmNlSWQsRCYmRC5ib3gmJkY/RjpCLGcuSUQpLE0mJk8mJnRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQm94KE8uYm94LGEuZ2V0KFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCIpLG8uYnVja2V0SW5zdGFuY2VJZCxqLGcuSUQpLEwmJihFJiZ0aGlzLmNvbGxpc2lvbkluZGV4Lmluc2VydENvbGxpc2lvbkNpcmNsZXMoTC5jaXJjbGVzLGEuZ2V0KFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCIpLG8uYnVja2V0SW5zdGFuY2VJZCxCLGcuSUQpLG4pKXtjb25zdCBlPW8uYnVja2V0SW5zdGFuY2VJZDtsZXQgdD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tlXTt2b2lkIDA9PT10JiYodD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tlXT1uZXcgQ3QpO2ZvcihsZXQgZT0wO2U8TC5jaXJjbGVzLmxlbmd0aDtlKz00KXQuY2lyY2xlcy5wdXNoKEwuY2lyY2xlc1tlKzBdKSx0LmNpcmNsZXMucHVzaChMLmNpcmNsZXNbZSsxXSksdC5jaXJjbGVzLnB1c2goTC5jaXJjbGVzW2UrMl0pLHQuY2lyY2xlcy5wdXNoKEwuY29sbGlzaW9uRGV0ZWN0ZWQ/MTowKX1jb25zdCBxPVwiZ2xvYmVcIiE9PW8ucHJvamVjdGlvbi5uYW1lO1M9UyYmKHF8fCFBKSxDPUMmJihxfHwhSSksdGhpcy5wbGFjZW1lbnRzW3QuY3Jvc3NUaWxlSURdPW5ldyBTdChFfHxTLE18fEMsa3x8by5qdXN0UmVsb2FkZWQpLHJbdC5jcm9zc1RpbGVJRF09ITB9O2lmKEUpe2NvbnN0IGU9by5nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKHRoaXMudHJhbnNmb3JtLmFuZ2xlKTtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wOy0tdCl7Y29uc3Qgcj1lW3RdO00oby5zeW1ib2xJbnN0YW5jZXMuZ2V0KHIpLHIsby5jb2xsaXNpb25BcnJheXNbcl0pfX1lbHNlIGZvcihsZXQgZT10LnN5bWJvbEluc3RhbmNlU3RhcnQ7ZTx0LnN5bWJvbEluc3RhbmNlRW5kO2UrKylNKG8uc3ltYm9sSW5zdGFuY2VzLmdldChlKSxlLG8uY29sbGlzaW9uQXJyYXlzW2VdKTtpZihuJiZvLmJ1Y2tldEluc3RhbmNlSWQgaW4gdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXMpe2NvbnN0IHQ9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbby5idWNrZXRJbnN0YW5jZUlkXTtlLmludmVydCh0LmludlByb2pNYXRyaXgscyksdC52aWV3cG9ydE1hdHJpeD10aGlzLmNvbGxpc2lvbkluZGV4LmdldFZpZXdwb3J0TWF0cml4KCl9by5qdXN0UmVsb2FkZWQ9ITF9bWFya1VzZWRKdXN0aWZpY2F0aW9uKHQscixuLGkpe2xldCBvO289aT09PWUuV3JpdGluZ01vZGUudmVydGljYWw/bi52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDp7bGVmdDpuLmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsY2VudGVyOm4uY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LHJpZ2h0Om4ucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXh9W2UuZ2V0QW5jaG9ySnVzdGlmaWNhdGlvbihyKV07Y29uc3QgYT1bbi5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LG4uY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4LG4ucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgsbi52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleF07Zm9yKGNvbnN0IGUgb2YgYSllPj0wJiYodC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChlKS5jcm9zc1RpbGVJRD1vPj0wJiZlIT09bz8wOm4uY3Jvc3NUaWxlSUQpfW1hcmtVc2VkT3JpZW50YXRpb24odCxyLG4pe2NvbnN0IGk9cj09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbHx8cj09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbE9ubHk/cjowLG89cj09PWUuV3JpdGluZ01vZGUudmVydGljYWw/cjowLGE9W24ubGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxuLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxuLnJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XS5maWx0ZXIoZT0+LTEhPT1lKTtmb3IoY29uc3QgZSBvZiBhKXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQoZSkucGxhY2VkT3JpZW50YXRpb249aTstMSE9PW4udmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgmJih0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KG4udmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgpLnBsYWNlZE9yaWVudGF0aW9uPW8pfWNvbW1pdChlKXt0aGlzLmNvbW1pdFRpbWU9ZSx0aGlzLnpvb21BdExhc3RSZWNlbmN5Q2hlY2s9dGhpcy50cmFuc2Zvcm0uem9vbTtjb25zdCB0PXRoaXMucHJldlBsYWNlbWVudDtsZXQgcj0hMTt0aGlzLnByZXZab29tQWRqdXN0bWVudD10P3Quem9vbUFkanVzdG1lbnQodGhpcy50cmFuc2Zvcm0uem9vbSk6MDtjb25zdCBuPXQ/dC5zeW1ib2xGYWRlQ2hhbmdlKGUpOjEsaT10P3Qub3BhY2l0aWVzOnt9LG89dD90LnZhcmlhYmxlT2Zmc2V0czp7fSxhPXQ/dC5wbGFjZWRPcmllbnRhdGlvbnM6e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5wbGFjZW1lbnRzKXtjb25zdCB0PXRoaXMucGxhY2VtZW50c1tlXSxvPWlbZV07bz8odGhpcy5vcGFjaXRpZXNbZV09bmV3IEV0KG8sbix0LnRleHQsdC5pY29uLG51bGwsdC5jbGlwcGVkKSxyPXJ8fHQudGV4dCE9PW8udGV4dC5wbGFjZWR8fHQuaWNvbiE9PW8uaWNvbi5wbGFjZWQpOih0aGlzLm9wYWNpdGllc1tlXT1uZXcgRXQobnVsbCxuLHQudGV4dCx0Lmljb24sdC5za2lwRmFkZSx0LmNsaXBwZWQpLHI9cnx8dC50ZXh0fHx0Lmljb24pfWZvcihjb25zdCBlIGluIGkpe2NvbnN0IHQ9aVtlXTtpZighdGhpcy5vcGFjaXRpZXNbZV0pe2NvbnN0IGk9bmV3IEV0KHQsbiwhMSwhMSk7aS5pc0hpZGRlbigpfHwodGhpcy5vcGFjaXRpZXNbZV09aSxyPXJ8fHQudGV4dC5wbGFjZWR8fHQuaWNvbi5wbGFjZWQpfX1mb3IoY29uc3QgZSBpbiBvKXRoaXMudmFyaWFibGVPZmZzZXRzW2VdfHwhdGhpcy5vcGFjaXRpZXNbZV18fHRoaXMub3BhY2l0aWVzW2VdLmlzSGlkZGVuKCl8fCh0aGlzLnZhcmlhYmxlT2Zmc2V0c1tlXT1vW2VdKTtmb3IoY29uc3QgZSBpbiBhKXRoaXMucGxhY2VkT3JpZW50YXRpb25zW2VdfHwhdGhpcy5vcGFjaXRpZXNbZV18fHRoaXMub3BhY2l0aWVzW2VdLmlzSGlkZGVuKCl8fCh0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tlXT1hW2VdKTtyP3RoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWU9ZTpcIm51bWJlclwiIT10eXBlb2YgdGhpcy5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZSYmKHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWU9dD90Lmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lOmUpfXVwZGF0ZUxheWVyT3BhY2l0aWVzKGUsdCl7Y29uc3Qgcj17fTtmb3IoY29uc3QgbiBvZiB0KXtjb25zdCB0PW4uZ2V0QnVja2V0KGUpO3QmJm4ubGF0ZXN0RmVhdHVyZUluZGV4JiZlLmlkPT09dC5sYXllcklkc1swXSYmdGhpcy51cGRhdGVCdWNrZXRPcGFjaXRpZXModCxyLG4uY29sbGlzaW9uQm94QXJyYXkpfX11cGRhdGVCdWNrZXRPcGFjaXRpZXModCxyLG4pe3QuaGFzVGV4dERhdGEoKSYmdC50ZXh0Lm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpLHQuaGFzSWNvbkRhdGEoKSYmdC5pY29uLm9wYWNpdHlWZXJ0ZXhBcnJheS5jbGVhcigpLHQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LmNsZWFyKCksdC5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZ0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXkuY2xlYXIoKTtjb25zdCBpPXQubGF5ZXJzWzBdLmxheW91dCxvPSEhdC5sYXllcnNbMF0uZHluYW1pY0ZpbHRlcigpLGE9bmV3IEV0KG51bGwsMCwhMSwhMSwhMCkscz1pLmdldChcInRleHQtYWxsb3ctb3ZlcmxhcFwiKSxsPWkuZ2V0KFwiaWNvbi1hbGxvdy1vdmVybGFwXCIpLGM9aS5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKSx1PVwibWFwXCI9PT1pLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLGg9XCJtYXBcIj09PWkuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIiksZD1cIm5vbmVcIiE9PWkuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKSxwPW5ldyBFdChudWxsLDAscyYmKGx8fCF0Lmhhc0ljb25EYXRhKCl8fGkuZ2V0KFwiaWNvbi1vcHRpb25hbFwiKSksbCYmKHN8fCF0Lmhhc1RleHREYXRhKCl8fGkuZ2V0KFwidGV4dC1vcHRpb25hbFwiKSksITApOyF0LmNvbGxpc2lvbkFycmF5cyYmbiYmKHQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKXx8dC5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpKSYmdC5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKG4pO2NvbnN0IGY9KGUsdCxyKT0+e2ZvcihsZXQgbj0wO248dC80O24rKyllLm9wYWNpdHlWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayhyKX07bGV0IG09MDtmb3IobGV0IG49MDtuPHQuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aDtuKyspe2NvbnN0IGk9dC5zeW1ib2xJbnN0YW5jZXMuZ2V0KG4pLHtudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlczpzLG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlczpsLGNyb3NzVGlsZUlEOmd9PWk7bGV0IF89dGhpcy5vcGFjaXRpZXNbZ107cltnXT9fPWE6X3x8KF89cCx0aGlzLm9wYWNpdGllc1tnXT1fKSxyW2ddPSEwO2NvbnN0IHk9cz4wfHxsPjAsdj1pLm51bUljb25WZXJ0aWNlcz4wLHg9dGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbaS5jcm9zc1RpbGVJRF0sYj14PT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbCx3PXg9PT1lLldyaXRpbmdNb2RlLmhvcml6b250YWx8fHg9PT1lLldyaXRpbmdNb2RlLmhvcml6b250YWxPbmx5O2lmKCF5JiYhdnx8Xy5pc0hpZGRlbigpfHxtKysseSl7Y29uc3QgZT1VdChfLnRleHQpO2YodC50ZXh0LHMsYj9OdDplKSxmKHQudGV4dCxsLHc/TnQ6ZSk7Y29uc3Qgcj1fLnRleHQuaXNIaWRkZW4oKTtbaS5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxpLmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleCxpLmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXhdLmZvckVhY2goZT0+e2U+PTAmJih0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGUpLmhpZGRlbj1yfHxiPzE6MCl9KSxpLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4Pj0wJiYodC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChpLnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4KS5oaWRkZW49cnx8dz8xOjApO2NvbnN0IG49dGhpcy52YXJpYWJsZU9mZnNldHNbaS5jcm9zc1RpbGVJRF07biYmdGhpcy5tYXJrVXNlZEp1c3RpZmljYXRpb24odCxuLmFuY2hvcixpLHgpO2NvbnN0IG89dGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbaS5jcm9zc1RpbGVJRF07byYmKHRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKHQsXCJsZWZ0XCIsaSxvKSx0aGlzLm1hcmtVc2VkT3JpZW50YXRpb24odCxvLGkpKX1pZih2KXtjb25zdCBlPVV0KF8uaWNvbik7aS5wbGFjZWRJY29uU3ltYm9sSW5kZXg+PTAmJihmKHQuaWNvbixpLm51bUljb25WZXJ0aWNlcyxiP050OmUpLHQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5nZXQoaS5wbGFjZWRJY29uU3ltYm9sSW5kZXgpLmhpZGRlbj1fLmljb24uaXNIaWRkZW4oKSksaS52ZXJ0aWNhbFBsYWNlZEljb25TeW1ib2xJbmRleD49MCYmKGYodC5pY29uLGkubnVtVmVydGljYWxJY29uVmVydGljZXMsdz9OdDplKSx0Lmljb24ucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGkudmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXgpLmhpZGRlbj1fLmljb24uaXNIaWRkZW4oKSl9aWYodC5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpfHx0Lmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkpe2NvbnN0IHI9dC5jb2xsaXNpb25BcnJheXNbbl07aWYocil7bGV0IG49bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLGk9ITA7aWYoci50ZXh0Qm94fHxyLnZlcnRpY2FsVGV4dEJveCl7aWYoYyl7Y29uc3QgZT10aGlzLnZhcmlhYmxlT2Zmc2V0c1tnXTtlPyhuPUF0KGUuYW5jaG9yLGUud2lkdGgsZS5oZWlnaHQsZS50ZXh0T2Zmc2V0LGUudGV4dFNjYWxlKSx1JiZuLl9yb3RhdGUoaD90aGlzLnRyYW5zZm9ybS5hbmdsZTotdGhpcy50cmFuc2Zvcm0uYW5nbGUpKTppPSExfW8mJihpPSFfLmNsaXBwZWQpLHIudGV4dEJveCYmenQodC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LF8udGV4dC5wbGFjZWQsIWl8fGIsbi54LG4ueSksci52ZXJ0aWNhbFRleHRCb3gmJnp0KHQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxfLnRleHQucGxhY2VkLCFpfHx3LG4ueCxuLnkpfWNvbnN0IGE9aSYmQm9vbGVhbighdyYmci52ZXJ0aWNhbEljb25Cb3gpO3IuaWNvbkJveCYmenQodC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LF8uaWNvbi5wbGFjZWQsYSxkP24ueDowLGQ/bi55OjApLHIudmVydGljYWxJY29uQm94JiZ6dCh0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksXy5pY29uLnBsYWNlZCwhYSxkP24ueDowLGQ/bi55OjApfX19aWYodC5mdWxseUNsaXBwZWQ9MD09PW0sdC5zb3J0RmVhdHVyZXModGhpcy50cmFuc2Zvcm0uYW5nbGUpLHRoaXMucmV0YWluZWRRdWVyeURhdGFbdC5idWNrZXRJbnN0YW5jZUlkXSYmKHRoaXMucmV0YWluZWRRdWVyeURhdGFbdC5idWNrZXRJbnN0YW5jZUlkXS5mZWF0dXJlU29ydE9yZGVyPXQuZmVhdHVyZVNvcnRPcmRlciksdC5oYXNUZXh0RGF0YSgpJiZ0LnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlciYmdC50ZXh0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0LnRleHQub3BhY2l0eVZlcnRleEFycmF5KSx0Lmhhc0ljb25EYXRhKCkmJnQuaWNvbi5vcGFjaXR5VmVydGV4QnVmZmVyJiZ0Lmljb24ub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkpLHQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlciYmdC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSksdC5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZ0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyJiZ0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5KSx0LmJ1Y2tldEluc3RhbmNlSWQgaW4gdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXMpe2NvbnN0IGU9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbdC5idWNrZXRJbnN0YW5jZUlkXTt0LnBsYWNlbWVudEludlByb2pNYXRyaXg9ZS5pbnZQcm9qTWF0cml4LHQucGxhY2VtZW50Vmlld3BvcnRNYXRyaXg9ZS52aWV3cG9ydE1hdHJpeCx0LmNvbGxpc2lvbkNpcmNsZUFycmF5PWUuY2lyY2xlcyxkZWxldGUgdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbdC5idWNrZXRJbnN0YW5jZUlkXX19c3ltYm9sRmFkZUNoYW5nZShlKXtyZXR1cm4gMD09PXRoaXMuZmFkZUR1cmF0aW9uPzE6KGUtdGhpcy5jb21taXRUaW1lKS90aGlzLmZhZGVEdXJhdGlvbit0aGlzLnByZXZab29tQWRqdXN0bWVudH16b29tQWRqdXN0bWVudChlKXtyZXR1cm4gTWF0aC5tYXgoMCwodGhpcy50cmFuc2Zvcm0uem9vbS1lKS8xLjUpfWhhc1RyYW5zaXRpb25zKGUpe3JldHVybiB0aGlzLnN0YWxlfHxlLXRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWU8dGhpcy5mYWRlRHVyYXRpb259c3RpbGxSZWNlbnQoZSx0KXtjb25zdCByPXRoaXMuem9vbUF0TGFzdFJlY2VuY3lDaGVjaz09PXQ/MS10aGlzLnpvb21BZGp1c3RtZW50KHQpOjE7cmV0dXJuIHRoaXMuem9vbUF0TGFzdFJlY2VuY3lDaGVjaz10LHRoaXMuY29tbWl0VGltZSt0aGlzLmZhZGVEdXJhdGlvbipyPmV9c2V0U3RhbGUoKXt0aGlzLnN0YWxlPSEwfX1mdW5jdGlvbiB6dChlLHQscixuLGkpe2UuZW1wbGFjZUJhY2sodD8xOjAscj8xOjAsbnx8MCxpfHwwKSxlLmVtcGxhY2VCYWNrKHQ/MTowLHI/MTowLG58fDAsaXx8MCksZS5lbXBsYWNlQmFjayh0PzE6MCxyPzE6MCxufHwwLGl8fDApLGUuZW1wbGFjZUJhY2sodD8xOjAscj8xOjAsbnx8MCxpfHwwKX1jb25zdCBEdD1NYXRoLnBvdygyLDI1KSxSdD1NYXRoLnBvdygyLDI0KSxMdD1NYXRoLnBvdygyLDE3KSxPdD1NYXRoLnBvdygyLDE2KSxCdD1NYXRoLnBvdygyLDkpLEZ0PU1hdGgucG93KDIsOCksanQ9TWF0aC5wb3coMiwxKTtmdW5jdGlvbiBVdChlKXtpZigwPT09ZS5vcGFjaXR5JiYhZS5wbGFjZWQpcmV0dXJuIDA7aWYoMT09PWUub3BhY2l0eSYmZS5wbGFjZWQpcmV0dXJuIDQyOTQ5NjcyOTU7Y29uc3QgdD1lLnBsYWNlZD8xOjAscj1NYXRoLmZsb29yKDEyNyplLm9wYWNpdHkpO3JldHVybiByKkR0K3QqUnQrcipMdCt0Kk90K3IqQnQrdCpGdCtyKmp0K3R9Y29uc3QgTnQ9MDtjbGFzcyBWdHtjb25zdHJ1Y3RvcihlKXt0aGlzLl9zb3J0QWNyb3NzVGlsZXM9XCJ2aWV3cG9ydC15XCIhPT1lLmxheW91dC5nZXQoXCJzeW1ib2wtei1vcmRlclwiKSYmdm9pZCAwIT09ZS5sYXlvdXQuZ2V0KFwic3ltYm9sLXNvcnQta2V5XCIpLmNvbnN0YW50T3IoMSksdGhpcy5fY3VycmVudFRpbGVJbmRleD0wLHRoaXMuX2N1cnJlbnRQYXJ0SW5kZXg9MCx0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzPXt9LHRoaXMuX2J1Y2tldFBhcnRzPVtdfWNvbnRpbnVlUGxhY2VtZW50KGUsdCxyLG4saSl7Y29uc3Qgbz10aGlzLl9idWNrZXRQYXJ0cztmb3IoO3RoaXMuX2N1cnJlbnRUaWxlSW5kZXg8ZS5sZW5ndGg7KWlmKHQuZ2V0QnVja2V0UGFydHMobyxuLGVbdGhpcy5fY3VycmVudFRpbGVJbmRleF0sdGhpcy5fc29ydEFjcm9zc1RpbGVzKSx0aGlzLl9jdXJyZW50VGlsZUluZGV4KyssaSgpKXJldHVybiEwO2Zvcih0aGlzLl9zb3J0QWNyb3NzVGlsZXMmJih0aGlzLl9zb3J0QWNyb3NzVGlsZXM9ITEsby5zb3J0KChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KSk7dGhpcy5fY3VycmVudFBhcnRJbmRleDxvLmxlbmd0aDspe2NvbnN0IGU9b1t0aGlzLl9jdXJyZW50UGFydEluZGV4XTtpZih0LnBsYWNlTGF5ZXJCdWNrZXRQYXJ0KGUsdGhpcy5fc2VlbkNyb3NzVGlsZUlEcyxyLDA9PT1lLnN5bWJvbEluc3RhbmNlU3RhcnQpLHRoaXMuX2N1cnJlbnRQYXJ0SW5kZXgrKyxpKCkpcmV0dXJuITB9cmV0dXJuITF9fWNsYXNzIEd0e2NvbnN0cnVjdG9yKGUsdCxyLG4saSxvLGEscyl7dGhpcy5wbGFjZW1lbnQ9bmV3IFB0KGUsaSxvLGEscyksdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4PXQubGVuZ3RoLTEsdGhpcy5fZm9yY2VGdWxsUGxhY2VtZW50PXIsdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzPW4sdGhpcy5fZG9uZT0hMX1pc0RvbmUoKXtyZXR1cm4gdGhpcy5fZG9uZX1jb250aW51ZVBsYWNlbWVudCh0LHIsbil7Y29uc3QgaT1lLmV4cG9ydGVkLm5vdygpLG89KCk9Pntjb25zdCB0PWUuZXhwb3J0ZWQubm93KCktaTtyZXR1cm4hdGhpcy5fZm9yY2VGdWxsUGxhY2VtZW50JiZ0PjJ9O2Zvcig7dGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4Pj0wOyl7Y29uc3QgZT1yW3RbdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4XV0saT10aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleC50cmFuc2Zvcm0uem9vbTtpZihcInN5bWJvbFwiPT09ZS50eXBlJiYoIWUubWluem9vbXx8ZS5taW56b29tPD1pKSYmKCFlLm1heHpvb218fGUubWF4em9vbT5pKSl7aWYodGhpcy5faW5Qcm9ncmVzc0xheWVyfHwodGhpcy5faW5Qcm9ncmVzc0xheWVyPW5ldyBWdChlKSksdGhpcy5faW5Qcm9ncmVzc0xheWVyLmNvbnRpbnVlUGxhY2VtZW50KG5bZS5zb3VyY2VdLHRoaXMucGxhY2VtZW50LHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyxlLG8pKXJldHVybjtkZWxldGUgdGhpcy5faW5Qcm9ncmVzc0xheWVyfXRoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleC0tfXRoaXMuX2RvbmU9ITB9Y29tbWl0KGUpe3JldHVybiB0aGlzLnBsYWNlbWVudC5jb21taXQoZSksdGhpcy5wbGFjZW1lbnR9fWNvbnN0IHF0PTUxMi9lLkVYVEVOVC8yO2NsYXNzIFp0e2NvbnN0cnVjdG9yKGUsdCxyKXt0aGlzLnRpbGVJRD1lLHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlcz17fSx0aGlzLmJ1Y2tldEluc3RhbmNlSWQ9cjtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbj10LmdldChyKSxpPW4ua2V5O3RoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1tpXXx8KHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1tpXT1bXSksdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW2ldLnB1c2goe2Nyb3NzVGlsZUlEOm4uY3Jvc3NUaWxlSUQsY29vcmQ6dGhpcy5nZXRTY2FsZWRDb29yZGluYXRlcyhuLGUpfSl9fWdldFNjYWxlZENvb3JkaW5hdGVzKHQscil7Y29uc3Qgbj1xdC9NYXRoLnBvdygyLHIuY2Fub25pY2FsLnotdGhpcy50aWxlSUQuY2Fub25pY2FsLnopO3JldHVybnt4Ok1hdGguZmxvb3IoKHIuY2Fub25pY2FsLngqZS5FWFRFTlQrdC50aWxlQW5jaG9yWCkqbikseTpNYXRoLmZsb29yKChyLmNhbm9uaWNhbC55KmUuRVhURU5UK3QudGlsZUFuY2hvclkpKm4pfX1maW5kTWF0Y2hlcyhlLHQscil7Y29uc3Qgbj10aGlzLnRpbGVJRC5jYW5vbmljYWwuejx0LmNhbm9uaWNhbC56PzE6TWF0aC5wb3coMix0aGlzLnRpbGVJRC5jYW5vbmljYWwuei10LmNhbm9uaWNhbC56KTtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbz1lLmdldChpKTtpZihvLmNyb3NzVGlsZUlEKWNvbnRpbnVlO2NvbnN0IGE9dGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW28ua2V5XTtpZighYSljb250aW51ZTtjb25zdCBzPXRoaXMuZ2V0U2NhbGVkQ29vcmRpbmF0ZXMobyx0KTtmb3IoY29uc3QgZSBvZiBhKWlmKE1hdGguYWJzKGUuY29vcmQueC1zLngpPD1uJiZNYXRoLmFicyhlLmNvb3JkLnktcy55KTw9biYmIXJbZS5jcm9zc1RpbGVJRF0pe3JbZS5jcm9zc1RpbGVJRF09ITAsby5jcm9zc1RpbGVJRD1lLmNyb3NzVGlsZUlEO2JyZWFrfX19fWNsYXNzICR0e2NvbnN0cnVjdG9yKCl7dGhpcy5tYXhDcm9zc1RpbGVJRD0wfWdlbmVyYXRlKCl7cmV0dXJuKyt0aGlzLm1heENyb3NzVGlsZUlEfX1jbGFzcyBXdHtjb25zdHJ1Y3Rvcigpe3RoaXMuaW5kZXhlcz17fSx0aGlzLnVzZWRDcm9zc1RpbGVJRHM9e30sdGhpcy5sbmc9MH1oYW5kbGVXcmFwSnVtcChlKXtjb25zdCB0PU1hdGgucm91bmQoKGUtdGhpcy5sbmcpLzM2MCk7aWYoMCE9PXQpZm9yKGNvbnN0IGUgaW4gdGhpcy5pbmRleGVzKXtjb25zdCByPXRoaXMuaW5kZXhlc1tlXSxuPXt9O2Zvcihjb25zdCBlIGluIHIpe2NvbnN0IGk9cltlXTtpLnRpbGVJRD1pLnRpbGVJRC51bndyYXBUbyhpLnRpbGVJRC53cmFwK3QpLG5baS50aWxlSUQua2V5XT1pfXRoaXMuaW5kZXhlc1tlXT1ufXRoaXMubG5nPWV9YWRkQnVja2V0KGUsdCxyKXtpZih0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl0mJnRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXVtlLmtleV0pe2lmKHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXVtlLmtleV0uYnVja2V0SW5zdGFuY2VJZD09PXQuYnVja2V0SW5zdGFuY2VJZClyZXR1cm4hMTt0aGlzLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyhlLm92ZXJzY2FsZWRaLHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXVtlLmtleV0pfWZvcihsZXQgZT0wO2U8dC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2UrKyl0LnN5bWJvbEluc3RhbmNlcy5nZXQoZSkuY3Jvc3NUaWxlSUQ9MDt0aGlzLnVzZWRDcm9zc1RpbGVJRHNbZS5vdmVyc2NhbGVkWl18fCh0aGlzLnVzZWRDcm9zc1RpbGVJRHNbZS5vdmVyc2NhbGVkWl09e30pO2NvbnN0IG49dGhpcy51c2VkQ3Jvc3NUaWxlSURzW2Uub3ZlcnNjYWxlZFpdO2Zvcihjb25zdCByIGluIHRoaXMuaW5kZXhlcyl7Y29uc3QgaT10aGlzLmluZGV4ZXNbcl07aWYoTnVtYmVyKHIpPmUub3ZlcnNjYWxlZFopZm9yKGNvbnN0IHIgaW4gaSl7Y29uc3Qgbz1pW3JdO28udGlsZUlELmlzQ2hpbGRPZihlKSYmby5maW5kTWF0Y2hlcyh0LnN5bWJvbEluc3RhbmNlcyxlLG4pfWVsc2V7Y29uc3Qgbz1pW2Uuc2NhbGVkVG8oTnVtYmVyKHIpKS5rZXldO28mJm8uZmluZE1hdGNoZXModC5zeW1ib2xJbnN0YW5jZXMsZSxuKX19Zm9yKGxldCBlPTA7ZTx0LnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7ZSsrKXtjb25zdCBpPXQuc3ltYm9sSW5zdGFuY2VzLmdldChlKTtpLmNyb3NzVGlsZUlEfHwoaS5jcm9zc1RpbGVJRD1yLmdlbmVyYXRlKCksbltpLmNyb3NzVGlsZUlEXT0hMCl9cmV0dXJuIHZvaWQgMD09PXRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXSYmKHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXT17fSksdGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdW2Uua2V5XT1uZXcgWnQoZSx0LnN5bWJvbEluc3RhbmNlcyx0LmJ1Y2tldEluc3RhbmNlSWQpLCEwfXJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyhlLHQpe2Zvcihjb25zdCByIGluIHQuaW5kZXhlZFN5bWJvbEluc3RhbmNlcylmb3IoY29uc3QgbiBvZiB0LmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbcl0pZGVsZXRlIHRoaXMudXNlZENyb3NzVGlsZUlEc1tlXVtuLmNyb3NzVGlsZUlEXX1yZW1vdmVTdGFsZUJ1Y2tldHMoZSl7bGV0IHQ9ITE7Zm9yKGNvbnN0IHIgaW4gdGhpcy5pbmRleGVzKXtjb25zdCBuPXRoaXMuaW5kZXhlc1tyXTtmb3IoY29uc3QgaSBpbiBuKWVbbltpXS5idWNrZXRJbnN0YW5jZUlkXXx8KHRoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKHIsbltpXSksZGVsZXRlIG5baV0sdD0hMCl9cmV0dXJuIHR9fWNsYXNzIFh0e2NvbnN0cnVjdG9yKCl7dGhpcy5sYXllckluZGV4ZXM9e30sdGhpcy5jcm9zc1RpbGVJRHM9bmV3ICR0LHRoaXMubWF4QnVja2V0SW5zdGFuY2VJZD0wLHRoaXMuYnVja2V0c0luQ3VycmVudFBsYWNlbWVudD17fX1hZGRMYXllcihlLHQscixuKXtsZXQgaT10aGlzLmxheWVySW5kZXhlc1tlLmlkXTt2b2lkIDA9PT1pJiYoaT10aGlzLmxheWVySW5kZXhlc1tlLmlkXT1uZXcgV3QpO2xldCBvPSExO2NvbnN0IGE9e307XCJnbG9iZVwiIT09bi5uYW1lJiZpLmhhbmRsZVdyYXBKdW1wKHIpO2Zvcihjb25zdCByIG9mIHQpe2NvbnN0IHQ9ci5nZXRCdWNrZXQoZSk7dCYmZS5pZD09PXQubGF5ZXJJZHNbMF0mJih0LmJ1Y2tldEluc3RhbmNlSWR8fCh0LmJ1Y2tldEluc3RhbmNlSWQ9Kyt0aGlzLm1heEJ1Y2tldEluc3RhbmNlSWQpLGkuYWRkQnVja2V0KHIudGlsZUlELHQsdGhpcy5jcm9zc1RpbGVJRHMpJiYobz0hMCksYVt0LmJ1Y2tldEluc3RhbmNlSWRdPSEwKX1yZXR1cm4gaS5yZW1vdmVTdGFsZUJ1Y2tldHMoYSkmJihvPSEwKSxvfXBydW5lVW51c2VkTGF5ZXJzKGUpe2NvbnN0IHQ9e307ZS5mb3JFYWNoKGU9Pnt0W2VdPSEwfSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5sYXllckluZGV4ZXMpdFtlXXx8ZGVsZXRlIHRoaXMubGF5ZXJJbmRleGVzW2VdfX1jb25zdCBIdD0odCxyKT0+ZS5lbWl0VmFsaWRhdGlvbkVycm9ycyh0LHImJnIuZmlsdGVyKGU9Plwic291cmNlLmNhbnZhc1wiIT09ZS5pZGVudGlmaWVyKSksWXQ9ZS5waWNrKHFlLFtcImFkZExheWVyXCIsXCJyZW1vdmVMYXllclwiLFwic2V0UGFpbnRQcm9wZXJ0eVwiLFwic2V0TGF5b3V0UHJvcGVydHlcIixcInNldEZpbHRlclwiLFwiYWRkU291cmNlXCIsXCJyZW1vdmVTb3VyY2VcIixcInNldExheWVyWm9vbVJhbmdlXCIsXCJzZXRMaWdodFwiLFwic2V0VHJhbnNpdGlvblwiLFwic2V0R2VvSlNPTlNvdXJjZURhdGFcIixcInNldFRlcnJhaW5cIixcInNldEZvZ1wiLFwic2V0UHJvamVjdGlvblwiXSksS3Q9ZS5waWNrKHFlLFtcInNldENlbnRlclwiLFwic2V0Wm9vbVwiLFwic2V0QmVhcmluZ1wiLFwic2V0UGl0Y2hcIl0pLEp0PXt2ZXJzaW9uOjgsbGF5ZXJzOltdLHNvdXJjZXM6e319LFF0PXtmaWxsOiEwLGxpbmU6ITAsYmFja2dyb3VuZDohMCxoaWxsc2hhZGU6ITAscmFzdGVyOiEwfTtjbGFzcyBlciBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LHI9e30pe3N1cGVyKCksdGhpcy5tYXA9dCx0aGlzLmRpc3BhdGNoZXI9bmV3IHooTmUoKSx0aGlzKSx0aGlzLmltYWdlTWFuYWdlcj1uZXcgeCx0aGlzLmltYWdlTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KHRoaXMpLHRoaXMuZ2x5cGhNYW5hZ2VyPW5ldyBlLkdseXBoTWFuYWdlcih0Ll9yZXF1ZXN0TWFuYWdlcixyLmxvY2FsRm9udEZhbWlseT9lLkxvY2FsR2x5cGhNb2RlLmFsbDpyLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT9lLkxvY2FsR2x5cGhNb2RlLmlkZW9ncmFwaHM6ZS5Mb2NhbEdseXBoTW9kZS5ub25lLHIubG9jYWxGb250RmFtaWx5fHxyLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSksdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleD1uZXcgWHQsdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX251bTNETGF5ZXJzPTAsdGhpcy5fbnVtU3ltYm9sTGF5ZXJzPTAsdGhpcy5fbnVtQ2lyY2xlTGF5ZXJzPTAsdGhpcy5fc2VyaWFsaXplZExheWVycz17fSx0aGlzLl9zb3VyY2VDYWNoZXM9e30sdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXM9e30sdGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzPXt9LHRoaXMuem9vbUhpc3Rvcnk9bmV3IGUuWm9vbUhpc3RvcnksdGhpcy5fbG9hZGVkPSExLHRoaXMuX2F2YWlsYWJsZUltYWdlcz1bXSx0aGlzLl9vcmRlcj1bXSx0aGlzLl9kcmFwZWRGaXJzdE9yZGVyPVtdLHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlPSExLHRoaXMuX3Jlc2V0VXBkYXRlcygpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRSZWZlcnJlclwiLGUuZ2V0UmVmZXJyZXIoKSk7Y29uc3Qgbj10aGlzO3RoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjaz1lci5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlKHQ9PntuLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic3luY1JUTFBsdWdpblN0YXRlXCIse3BsdWdpblN0YXR1czp0LnBsdWdpblN0YXR1cyxwbHVnaW5VUkw6dC5wbHVnaW5VUkx9LCh0LHIpPT57aWYoZS50cmlnZ2VyUGx1Z2luQ29tcGxldGlvbkV2ZW50KHQpLHImJnIuZXZlcnkoZT0+ZSkpZm9yKGNvbnN0IGUgaW4gbi5fc291cmNlQ2FjaGVzKXtjb25zdCB0PW4uX3NvdXJjZUNhY2hlc1tlXSxyPXQuZ2V0U291cmNlKCkudHlwZTtcInZlY3RvclwiIT09ciYmXCJnZW9qc29uXCIhPT1yfHx0LnJlbG9hZCgpfX0pfSksdGhpcy5vbihcImRhdGFcIixlPT57aWYoXCJzb3VyY2VcIiE9PWUuZGF0YVR5cGV8fFwibWV0YWRhdGFcIiE9PWUuc291cmNlRGF0YVR5cGUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nZXRTb3VyY2UoZS5zb3VyY2VJZCk7aWYodCYmdC52ZWN0b3JMYXllcklkcylmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpe2NvbnN0IHI9dGhpcy5fbGF5ZXJzW2VdO3Iuc291cmNlPT09dC5pZCYmdGhpcy5fdmFsaWRhdGVMYXllcihyKX19KX1sb2FkVVJMKHQscj17fSl7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpO2NvbnN0IG49XCJib29sZWFuXCI9PXR5cGVvZiByLnZhbGlkYXRlP3IudmFsaWRhdGU6IWUuaXNNYXBib3hVUkwodCk7dD10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplU3R5bGVVUkwodCxyLmFjY2Vzc1Rva2VuKTtjb25zdCBpPXRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHQsZS5SZXNvdXJjZVR5cGUuU3R5bGUpO3RoaXMuX3JlcXVlc3Q9ZS5nZXRKU09OKGksKHQscik9Pnt0aGlzLl9yZXF1ZXN0PW51bGwsdD90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudCh0KSk6ciYmdGhpcy5fbG9hZChyLG4pfSl9bG9hZEpTT04odCxyPXt9KXt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSksdGhpcy5fcmVxdWVzdD1lLmV4cG9ydGVkLmZyYW1lKCgpPT57dGhpcy5fcmVxdWVzdD1udWxsLHRoaXMuX2xvYWQodCwhMSE9PXIudmFsaWRhdGUpfSl9bG9hZEVtcHR5KCl7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpLHRoaXMuX2xvYWQoSnQsITEpfV91cGRhdGVMYXllckNvdW50KGUsdCl7Y29uc3Qgcj10PzE6LTE7ZS5pczNEKCkmJih0aGlzLl9udW0zRExheWVycys9ciksXCJjaXJjbGVcIj09PWUudHlwZSYmKHRoaXMuX251bUNpcmNsZUxheWVycys9ciksXCJzeW1ib2xcIj09PWUudHlwZSYmKHRoaXMuX251bVN5bWJvbExheWVycys9cil9X2xvYWQodCxyKXtpZihyJiZIdCh0aGlzLGUudmFsaWRhdGVTdHlsZSh0KSkpcmV0dXJuO3RoaXMuX2xvYWRlZD0hMCx0aGlzLnN0eWxlc2hlZXQ9ZS5jbG9uZSQxKHQpLHRoaXMuX3VwZGF0ZU1hcFByb2plY3Rpb24oKTtmb3IoY29uc3QgZSBpbiB0LnNvdXJjZXMpdGhpcy5hZGRTb3VyY2UoZSx0LnNvdXJjZXNbZV0se3ZhbGlkYXRlOiExfSk7dGhpcy5fY2hhbmdlZD0hMSx0LnNwcml0ZT90aGlzLl9sb2FkU3ByaXRlKHQuc3ByaXRlKToodGhpcy5pbWFnZU1hbmFnZXIuc2V0TG9hZGVkKCEwKSx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic3ByaXRlTG9hZGVkXCIsITApKSx0aGlzLmdseXBoTWFuYWdlci5zZXRVUkwodC5nbHlwaHMpO2NvbnN0IG49R2UodGhpcy5zdHlsZXNoZWV0LmxheWVycyk7dGhpcy5fb3JkZXI9bi5tYXAoZT0+ZS5pZCksdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnM9e307Zm9yKGxldCB0IG9mIG4pdD1lLmNyZWF0ZVN0eWxlTGF5ZXIodCksdC5zZXRFdmVudGVkUGFyZW50KHRoaXMse2xheWVyOntpZDp0LmlkfX0pLHRoaXMuX2xheWVyc1t0LmlkXT10LHRoaXMuX3NlcmlhbGl6ZWRMYXllcnNbdC5pZF09dC5zZXJpYWxpemUoKSx0aGlzLl91cGRhdGVMYXllckNvdW50KHQsITApO3RoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRMYXllcnNcIix0aGlzLl9zZXJpYWxpemVMYXllcnModGhpcy5fb3JkZXIpKSx0aGlzLmxpZ2h0PW5ldyBUKHRoaXMuc3R5bGVzaGVldC5saWdodCksdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4mJiF0aGlzLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpJiZ0aGlzLl9jcmVhdGVUZXJyYWluKHRoaXMuc3R5bGVzaGVldC50ZXJyYWluLDEpLHRoaXMuc3R5bGVzaGVldC5mb2cmJnRoaXMuX2NyZWF0ZUZvZyh0aGlzLnN0eWxlc2hlZXQuZm9nKSx0aGlzLl91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwic3R5bGUubG9hZFwiKSl9dGVycmFpblNldEZvckRyYXBpbmdPbmx5KCl7cmV0dXJuISF0aGlzLnRlcnJhaW4mJjA9PT10aGlzLnRlcnJhaW4uZHJhcGVSZW5kZXJNb2RlfXNldFByb2plY3Rpb24oZSl7ZT90aGlzLnN0eWxlc2hlZXQucHJvamVjdGlvbj1lOmRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQucHJvamVjdGlvbix0aGlzLl91cGRhdGVNYXBQcm9qZWN0aW9uKCl9YXBwbHlQcm9qZWN0aW9uVXBkYXRlKCl7dGhpcy5fbG9hZGVkJiYodGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldFByb2plY3Rpb25cIix0aGlzLm1hcC50cmFuc2Zvcm0ucHJvamVjdGlvbk9wdGlvbnMpLHRoaXMubWFwLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnJlcXVpcmVzRHJhcGluZz90aGlzLmdldFRlcnJhaW4oKXx8dGhpcy5zdHlsZXNoZWV0LnRlcnJhaW58fHRoaXMuc2V0VGVycmFpbkZvckRyYXBpbmcoKTp0aGlzLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpJiZ0aGlzLnNldFRlcnJhaW4obnVsbCkpfV91cGRhdGVNYXBQcm9qZWN0aW9uKCl7dGhpcy5tYXAuX3VzZUV4cGxpY2l0UHJvamVjdGlvbj90aGlzLmFwcGx5UHJvamVjdGlvblVwZGF0ZSgpOnRoaXMubWFwLl9wcmlvcml0aXplQW5kVXBkYXRlUHJvamVjdGlvbihudWxsLHRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uKX1fbG9hZFNwcml0ZSh0KXt0aGlzLl9zcHJpdGVSZXF1ZXN0PWZ1bmN0aW9uKHQscixuKXtsZXQgaSxvLGE7Y29uc3Qgcz1lLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8+MT9cIkAyeFwiOlwiXCI7bGV0IGw9ZS5nZXRKU09OKHIudHJhbnNmb3JtUmVxdWVzdChyLm5vcm1hbGl6ZVNwcml0ZVVSTCh0LHMsXCIuanNvblwiKSxlLlJlc291cmNlVHlwZS5TcHJpdGVKU09OKSwoZSx0KT0+e2w9bnVsbCxhfHwoYT1lLGk9dCx1KCkpfSksYz1lLmdldEltYWdlKHIudHJhbnNmb3JtUmVxdWVzdChyLm5vcm1hbGl6ZVNwcml0ZVVSTCh0LHMsXCIucG5nXCIpLGUuUmVzb3VyY2VUeXBlLlNwcml0ZUltYWdlKSwoZSx0KT0+e2M9bnVsbCxhfHwoYT1lLG89dCx1KCkpfSk7ZnVuY3Rpb24gdSgpe2lmKGEpbihhKTtlbHNlIGlmKGkmJm8pe2NvbnN0IHQ9ZS5leHBvcnRlZC5nZXRJbWFnZURhdGEobykscj17fTtmb3IoY29uc3QgbiBpbiBpKXtjb25zdHt3aWR0aDpvLGhlaWdodDphLHg6cyx5Omwsc2RmOmMscGl4ZWxSYXRpbzp1LHN0cmV0Y2hYOmgsc3RyZXRjaFk6ZCxjb250ZW50OnB9PWlbbl0sZj1uZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOm8saGVpZ2h0OmF9KTtlLlJHQkFJbWFnZS5jb3B5KHQsZix7eDpzLHk6bH0se3g6MCx5OjB9LHt3aWR0aDpvLGhlaWdodDphfSkscltuXT17ZGF0YTpmLHBpeGVsUmF0aW86dSxzZGY6YyxzdHJldGNoWDpoLHN0cmV0Y2hZOmQsY29udGVudDpwfX1uKG51bGwscil9fXJldHVybntjYW5jZWwoKXtsJiYobC5jYW5jZWwoKSxsPW51bGwpLGMmJihjLmNhbmNlbCgpLGM9bnVsbCl9fX0odCx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsKHQscik9PntpZih0aGlzLl9zcHJpdGVSZXF1ZXN0PW51bGwsdCl0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudCh0KSk7ZWxzZSBpZihyKWZvcihjb25zdCBlIGluIHIpdGhpcy5pbWFnZU1hbmFnZXIuYWRkSW1hZ2UoZSxyW2VdKTt0aGlzLmltYWdlTWFuYWdlci5zZXRMb2FkZWQoITApLHRoaXMuX2F2YWlsYWJsZUltYWdlcz10aGlzLmltYWdlTWFuYWdlci5saXN0SW1hZ2VzKCksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldEltYWdlc1wiLHRoaXMuX2F2YWlsYWJsZUltYWdlcyksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNwcml0ZUxvYWRlZFwiLCEwKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKX0pfV92YWxpZGF0ZUxheWVyKHQpe2NvbnN0IHI9dGhpcy5nZXRTb3VyY2UodC5zb3VyY2UpO2lmKCFyKXJldHVybjtjb25zdCBuPXQuc291cmNlTGF5ZXI7biYmKFwiZ2VvanNvblwiPT09ci50eXBlfHxyLnZlY3RvckxheWVySWRzJiYtMT09PXIudmVjdG9yTGF5ZXJJZHMuaW5kZXhPZihuKSkmJnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgU291cmNlIGxheWVyIFwiJHtufVwiIGRvZXMgbm90IGV4aXN0IG9uIHNvdXJjZSBcIiR7ci5pZH1cIiBhcyBzcGVjaWZpZWQgYnkgc3R5bGUgbGF5ZXIgXCIke3QuaWR9XCJgKSkpfWxvYWRlZCgpe2lmKCF0aGlzLl9sb2FkZWQpcmV0dXJuITE7aWYoT2JqZWN0LmtleXModGhpcy5fdXBkYXRlZFNvdXJjZXMpLmxlbmd0aClyZXR1cm4hMTtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpaWYoIXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5sb2FkZWQoKSlyZXR1cm4hMTtyZXR1cm4hIXRoaXMuaW1hZ2VNYW5hZ2VyLmlzTG9hZGVkKCl9X3NlcmlhbGl6ZUxheWVycyhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCByIG9mIGUpe2NvbnN0IGU9dGhpcy5fbGF5ZXJzW3JdO1wiY3VzdG9tXCIhPT1lLnR5cGUmJnQucHVzaChlLnNlcmlhbGl6ZSgpKX1yZXR1cm4gdH1oYXNUcmFuc2l0aW9ucygpe2lmKHRoaXMubGlnaHQmJnRoaXMubGlnaHQuaGFzVHJhbnNpdGlvbigpKXJldHVybiEwO2lmKHRoaXMuZm9nJiZ0aGlzLmZvZy5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuITA7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKWlmKHRoaXMuX3NvdXJjZUNhY2hlc1tlXS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuITA7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbGF5ZXJzKWlmKHRoaXMuX2xheWVyc1tlXS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuITA7cmV0dXJuITF9Z2V0IG9yZGVyKCl7cmV0dXJuIHRoaXMubWFwLl9vcHRpbWl6ZUZvclRlcnJhaW4mJnRoaXMudGVycmFpbj90aGlzLl9kcmFwZWRGaXJzdE9yZGVyOnRoaXMuX29yZGVyfWlzTGF5ZXJEcmFwZWQoZSl7cmV0dXJuISF0aGlzLnRlcnJhaW4mJlF0W2UudHlwZV19X2NoZWNrTG9hZGVkKCl7aWYoIXRoaXMuX2xvYWRlZCl0aHJvdyBuZXcgRXJyb3IoXCJTdHlsZSBpcyBub3QgZG9uZSBsb2FkaW5nXCIpfXVwZGF0ZSh0KXtpZighdGhpcy5fbG9hZGVkKXJldHVybjtjb25zdCByPXRoaXMuX2NoYW5nZWQ7aWYodGhpcy5fY2hhbmdlZCl7Y29uc3QgZT1PYmplY3Qua2V5cyh0aGlzLl91cGRhdGVkTGF5ZXJzKSxyPU9iamVjdC5rZXlzKHRoaXMuX3JlbW92ZWRMYXllcnMpOyhlLmxlbmd0aHx8ci5sZW5ndGgpJiZ0aGlzLl91cGRhdGVXb3JrZXJMYXllcnMoZSxyKTtmb3IoY29uc3QgZSBpbiB0aGlzLl91cGRhdGVkU291cmNlcyl7Y29uc3QgdD10aGlzLl91cGRhdGVkU291cmNlc1tlXTtcInJlbG9hZFwiPT09dD90aGlzLl9yZWxvYWRTb3VyY2UoZSk6XCJjbGVhclwiPT09dCYmdGhpcy5fY2xlYXJTb3VyY2UoZSl9dGhpcy5fdXBkYXRlVGlsZXNGb3JDaGFuZ2VkSW1hZ2VzKCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdXBkYXRlZFBhaW50UHJvcHMpdGhpcy5fbGF5ZXJzW2VdLnVwZGF0ZVRyYW5zaXRpb25zKHQpO3RoaXMubGlnaHQudXBkYXRlVHJhbnNpdGlvbnModCksdGhpcy5mb2cmJnRoaXMuZm9nLnVwZGF0ZVRyYW5zaXRpb25zKHQpLHRoaXMuX3Jlc2V0VXBkYXRlcygpfWNvbnN0IG49e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXtjb25zdCB0PXRoaXMuX3NvdXJjZUNhY2hlc1tlXTtuW2VdPXQudXNlZCx0LnVzZWQ9ITF9Zm9yKGNvbnN0IGUgb2YgdGhpcy5fb3JkZXIpe2NvbnN0IHI9dGhpcy5fbGF5ZXJzW2VdO2lmKHIucmVjYWxjdWxhdGUodCx0aGlzLl9hdmFpbGFibGVJbWFnZXMpLCFyLmlzSGlkZGVuKHQuem9vbSkpe2NvbnN0IGU9dGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShyKTtlJiYoZS51c2VkPSEwKX1jb25zdCBuPXRoaXMubWFwLnBhaW50ZXI7aWYobil7Y29uc3QgZT1yLmdldFByb2dyYW1JZHMoKTtpZighZSljb250aW51ZTtjb25zdCBpPXIuZ2V0UHJvZ3JhbUNvbmZpZ3VyYXRpb24odC56b29tKTtmb3IoY29uc3QgdCBvZiBlKW4udXNlUHJvZ3JhbSh0LGkpfX1mb3IoY29uc3QgdCBpbiBuKXtjb25zdCByPXRoaXMuX3NvdXJjZUNhY2hlc1t0XTtuW3RdIT09ci51c2VkJiZyLmdldFNvdXJjZSgpLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse3NvdXJjZURhdGFUeXBlOlwidmlzaWJpbGl0eVwiLGRhdGFUeXBlOlwic291cmNlXCIsc291cmNlSWQ6ci5nZXRTb3VyY2UoKS5pZH0pKX10aGlzLmxpZ2h0LnJlY2FsY3VsYXRlKHQpLHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnJlY2FsY3VsYXRlKHQpLHRoaXMuZm9nJiZ0aGlzLmZvZy5yZWNhbGN1bGF0ZSh0KSx0aGlzLno9dC56b29tLHRoaXMuX21hcmtlcnNOZWVkVXBkYXRlJiYodGhpcy5fdXBkYXRlTWFya2Vyc09wYWNpdHkoKSx0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMSksciYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSl9X3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcygpe2NvbnN0IGU9T2JqZWN0LmtleXModGhpcy5fY2hhbmdlZEltYWdlcyk7aWYoZS5sZW5ndGgpe2Zvcihjb25zdCB0IGluIHRoaXMuX3NvdXJjZUNhY2hlcyl0aGlzLl9zb3VyY2VDYWNoZXNbdF0ucmVsb2FkVGlsZXNGb3JEZXBlbmRlbmNpZXMoW1wiaWNvbnNcIixcInBhdHRlcm5zXCJdLGUpO3RoaXMuX2NoYW5nZWRJbWFnZXM9e319fV91cGRhdGVXb3JrZXJMYXllcnMoZSx0KXt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwidXBkYXRlTGF5ZXJzXCIse2xheWVyczp0aGlzLl9zZXJpYWxpemVMYXllcnMoZSkscmVtb3ZlZElkczp0fSl9X3Jlc2V0VXBkYXRlcygpe3RoaXMuX2NoYW5nZWQ9ITEsdGhpcy5fdXBkYXRlZExheWVycz17fSx0aGlzLl9yZW1vdmVkTGF5ZXJzPXt9LHRoaXMuX3VwZGF0ZWRTb3VyY2VzPXt9LHRoaXMuX3VwZGF0ZWRQYWludFByb3BzPXt9LHRoaXMuX2NoYW5nZWRJbWFnZXM9e319c2V0U3RhdGUocil7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSxIdCh0aGlzLGUudmFsaWRhdGVTdHlsZShyKSkpcmV0dXJuITE7KHI9ZS5jbG9uZSQxKHIpKS5sYXllcnM9R2Uoci5sYXllcnMpO2NvbnN0IG49ZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm5be2NvbW1hbmQ6cWUuc2V0U3R5bGUsYXJnczpbcl19XTtsZXQgbj1bXTt0cnl7aWYoIXQoZS52ZXJzaW9uLHIudmVyc2lvbikpcmV0dXJuW3tjb21tYW5kOnFlLnNldFN0eWxlLGFyZ3M6W3JdfV07dChlLmNlbnRlcixyLmNlbnRlcil8fG4ucHVzaCh7Y29tbWFuZDpxZS5zZXRDZW50ZXIsYXJnczpbci5jZW50ZXJdfSksdChlLnpvb20sci56b29tKXx8bi5wdXNoKHtjb21tYW5kOnFlLnNldFpvb20sYXJnczpbci56b29tXX0pLHQoZS5iZWFyaW5nLHIuYmVhcmluZyl8fG4ucHVzaCh7Y29tbWFuZDpxZS5zZXRCZWFyaW5nLGFyZ3M6W3IuYmVhcmluZ119KSx0KGUucGl0Y2gsci5waXRjaCl8fG4ucHVzaCh7Y29tbWFuZDpxZS5zZXRQaXRjaCxhcmdzOltyLnBpdGNoXX0pLHQoZS5zcHJpdGUsci5zcHJpdGUpfHxuLnB1c2goe2NvbW1hbmQ6cWUuc2V0U3ByaXRlLGFyZ3M6W3Iuc3ByaXRlXX0pLHQoZS5nbHlwaHMsci5nbHlwaHMpfHxuLnB1c2goe2NvbW1hbmQ6cWUuc2V0R2x5cGhzLGFyZ3M6W3IuZ2x5cGhzXX0pLHQoZS50cmFuc2l0aW9uLHIudHJhbnNpdGlvbil8fG4ucHVzaCh7Y29tbWFuZDpxZS5zZXRUcmFuc2l0aW9uLGFyZ3M6W3IudHJhbnNpdGlvbl19KSx0KGUubGlnaHQsci5saWdodCl8fG4ucHVzaCh7Y29tbWFuZDpxZS5zZXRMaWdodCxhcmdzOltyLmxpZ2h0XX0pLHQoZS5mb2csci5mb2cpfHxuLnB1c2goe2NvbW1hbmQ6cWUuc2V0Rm9nLGFyZ3M6W3IuZm9nXX0pLHQoZS5wcm9qZWN0aW9uLHIucHJvamVjdGlvbil8fG4ucHVzaCh7Y29tbWFuZDpxZS5zZXRQcm9qZWN0aW9uLGFyZ3M6W3IucHJvamVjdGlvbl19KTtjb25zdCBpPXt9LG89W107IWZ1bmN0aW9uKGUscixuLGkpe2xldCBvO2ZvcihvIGluIHI9cnx8e30sZT1lfHx7fSllLmhhc093blByb3BlcnR5KG8pJiYoci5oYXNPd25Qcm9wZXJ0eShvKXx8JGUobyxuLGkpKTtmb3IobyBpbiByKXIuaGFzT3duUHJvcGVydHkobykmJihlLmhhc093blByb3BlcnR5KG8pP3QoZVtvXSxyW29dKXx8KFwiZ2VvanNvblwiPT09ZVtvXS50eXBlJiZcImdlb2pzb25cIj09PXJbb10udHlwZSYmWGUoZSxyLG8pP24ucHVzaCh7Y29tbWFuZDpxZS5zZXRHZW9KU09OU291cmNlRGF0YSxhcmdzOltvLHJbb10uZGF0YV19KTpXZShvLHIsbixpKSk6WmUobyxyLG4pKX0oZS5zb3VyY2VzLHIuc291cmNlcyxvLGkpO2NvbnN0IGE9W107ZS5sYXllcnMmJmUubGF5ZXJzLmZvckVhY2goZT0+e2Uuc291cmNlJiZpW2Uuc291cmNlXT9uLnB1c2goe2NvbW1hbmQ6cWUucmVtb3ZlTGF5ZXIsYXJnczpbZS5pZF19KTphLnB1c2goZSl9KTtsZXQgcz1lLnRlcnJhaW47cyYmaVtzLnNvdXJjZV0mJihuLnB1c2goe2NvbW1hbmQ6cWUuc2V0VGVycmFpbixhcmdzOlt2b2lkIDBdfSkscz12b2lkIDApLG49bi5jb25jYXQobyksdChzLHIudGVycmFpbil8fG4ucHVzaCh7Y29tbWFuZDpxZS5zZXRUZXJyYWluLGFyZ3M6W3IudGVycmFpbl19KSxmdW5jdGlvbihlLHIsbil7cj1yfHxbXTtjb25zdCBpPShlPWV8fFtdKS5tYXAoWWUpLG89ci5tYXAoWWUpLGE9ZS5yZWR1Y2UoS2Use30pLHM9ci5yZWR1Y2UoS2Use30pLGw9aS5zbGljZSgpLGM9T2JqZWN0LmNyZWF0ZShudWxsKTtsZXQgdSxoLGQscCxmLG0sZztmb3IodT0wLGg9MDt1PGkubGVuZ3RoO3UrKylkPWlbdV0scy5oYXNPd25Qcm9wZXJ0eShkKT9oKys6KG4ucHVzaCh7Y29tbWFuZDpxZS5yZW1vdmVMYXllcixhcmdzOltkXX0pLGwuc3BsaWNlKGwuaW5kZXhPZihkLGgpLDEpKTtmb3IodT0wLGg9MDt1PG8ubGVuZ3RoO3UrKylkPW9bby5sZW5ndGgtMS11XSxsW2wubGVuZ3RoLTEtdV0hPT1kJiYoYS5oYXNPd25Qcm9wZXJ0eShkKT8obi5wdXNoKHtjb21tYW5kOnFlLnJlbW92ZUxheWVyLGFyZ3M6W2RdfSksbC5zcGxpY2UobC5sYXN0SW5kZXhPZihkLGwubGVuZ3RoLWgpLDEpKTpoKyssbT1sW2wubGVuZ3RoLXVdLG4ucHVzaCh7Y29tbWFuZDpxZS5hZGRMYXllcixhcmdzOltzW2RdLG1dfSksbC5zcGxpY2UobC5sZW5ndGgtdSwwLGQpLGNbZF09ITApO2Zvcih1PTA7dTxvLmxlbmd0aDt1KyspaWYoZD1vW3VdLHA9YVtkXSxmPXNbZF0sIWNbZF0mJiF0KHAsZikpaWYodChwLnNvdXJjZSxmLnNvdXJjZSkmJnQocFtcInNvdXJjZS1sYXllclwiXSxmW1wic291cmNlLWxheWVyXCJdKSYmdChwLnR5cGUsZi50eXBlKSl7Zm9yKGcgaW4gSGUocC5sYXlvdXQsZi5sYXlvdXQsbixkLG51bGwscWUuc2V0TGF5b3V0UHJvcGVydHkpLEhlKHAucGFpbnQsZi5wYWludCxuLGQsbnVsbCxxZS5zZXRQYWludFByb3BlcnR5KSx0KHAuZmlsdGVyLGYuZmlsdGVyKXx8bi5wdXNoKHtjb21tYW5kOnFlLnNldEZpbHRlcixhcmdzOltkLGYuZmlsdGVyXX0pLHQocC5taW56b29tLGYubWluem9vbSkmJnQocC5tYXh6b29tLGYubWF4em9vbSl8fG4ucHVzaCh7Y29tbWFuZDpxZS5zZXRMYXllclpvb21SYW5nZSxhcmdzOltkLGYubWluem9vbSxmLm1heHpvb21dfSkscClwLmhhc093blByb3BlcnR5KGcpJiZcImxheW91dFwiIT09ZyYmXCJwYWludFwiIT09ZyYmXCJmaWx0ZXJcIiE9PWcmJlwibWV0YWRhdGFcIiE9PWcmJlwibWluem9vbVwiIT09ZyYmXCJtYXh6b29tXCIhPT1nJiYoMD09PWcuaW5kZXhPZihcInBhaW50LlwiKT9IZShwW2ddLGZbZ10sbixkLGcuc2xpY2UoNikscWUuc2V0UGFpbnRQcm9wZXJ0eSk6dChwW2ddLGZbZ10pfHxuLnB1c2goe2NvbW1hbmQ6cWUuc2V0TGF5ZXJQcm9wZXJ0eSxhcmdzOltkLGcsZltnXV19KSk7Zm9yKGcgaW4gZilmLmhhc093blByb3BlcnR5KGcpJiYhcC5oYXNPd25Qcm9wZXJ0eShnKSYmXCJsYXlvdXRcIiE9PWcmJlwicGFpbnRcIiE9PWcmJlwiZmlsdGVyXCIhPT1nJiZcIm1ldGFkYXRhXCIhPT1nJiZcIm1pbnpvb21cIiE9PWcmJlwibWF4em9vbVwiIT09ZyYmKDA9PT1nLmluZGV4T2YoXCJwYWludC5cIik/SGUocFtnXSxmW2ddLG4sZCxnLnNsaWNlKDYpLHFlLnNldFBhaW50UHJvcGVydHkpOnQocFtnXSxmW2ddKXx8bi5wdXNoKHtjb21tYW5kOnFlLnNldExheWVyUHJvcGVydHksYXJnczpbZCxnLGZbZ11dfSkpfWVsc2Ugbi5wdXNoKHtjb21tYW5kOnFlLnJlbW92ZUxheWVyLGFyZ3M6W2RdfSksbT1sW2wubGFzdEluZGV4T2YoZCkrMV0sbi5wdXNoKHtjb21tYW5kOnFlLmFkZExheWVyLGFyZ3M6W2YsbV19KX0oYSxyLmxheWVycyxuKX1jYXRjaChlKXtjb25zb2xlLndhcm4oXCJVbmFibGUgdG8gY29tcHV0ZSBzdHlsZSBkaWZmOlwiLGUpLG49W3tjb21tYW5kOnFlLnNldFN0eWxlLGFyZ3M6W3JdfV19cmV0dXJuIG59KHRoaXMuc2VyaWFsaXplKCkscikuZmlsdGVyKGU9PiEoZS5jb21tYW5kIGluIEt0KSk7aWYoMD09PW4ubGVuZ3RoKXJldHVybiExO2NvbnN0IGk9bi5maWx0ZXIoZT0+IShlLmNvbW1hbmQgaW4gWXQpKTtpZihpLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcihgVW5pbXBsZW1lbnRlZDogJHtpLm1hcChlPT5lLmNvbW1hbmQpLmpvaW4oXCIsIFwiKX0uYCk7cmV0dXJuIG4uZm9yRWFjaChlPT57XCJzZXRUcmFuc2l0aW9uXCIhPT1lLmNvbW1hbmQmJlwic2V0UHJvamVjdGlvblwiIT09ZS5jb21tYW5kJiZ0aGlzW2UuY29tbWFuZF0uYXBwbHkodGhpcyxlLmFyZ3MpfSksdGhpcy5zdHlsZXNoZWV0PXIsdGhpcy5fdXBkYXRlTWFwUHJvamVjdGlvbigpLCEwfWFkZEltYWdlKHQscil7cmV0dXJuIHRoaXMuZ2V0SW1hZ2UodCk/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiQW4gaW1hZ2Ugd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMuXCIpKSk6KHRoaXMuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKHQsciksdGhpcy5fYWZ0ZXJJbWFnZVVwZGF0ZWQodCksdGhpcyl9dXBkYXRlSW1hZ2UoZSx0KXt0aGlzLmltYWdlTWFuYWdlci51cGRhdGVJbWFnZShlLHQpfWdldEltYWdlKGUpe3JldHVybiB0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZShlKX1yZW1vdmVJbWFnZSh0KXtyZXR1cm4gdGhpcy5nZXRJbWFnZSh0KT8odGhpcy5pbWFnZU1hbmFnZXIucmVtb3ZlSW1hZ2UodCksdGhpcy5fYWZ0ZXJJbWFnZVVwZGF0ZWQodCksdGhpcyk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiTm8gaW1hZ2Ugd2l0aCB0aGlzIG5hbWUgZXhpc3RzLlwiKSkpfV9hZnRlckltYWdlVXBkYXRlZCh0KXt0aGlzLl9hdmFpbGFibGVJbWFnZXM9dGhpcy5pbWFnZU1hbmFnZXIubGlzdEltYWdlcygpLHRoaXMuX2NoYW5nZWRJbWFnZXNbdF09ITAsdGhpcy5fY2hhbmdlZD0hMCx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0SW1hZ2VzXCIsdGhpcy5fYXZhaWxhYmxlSW1hZ2VzKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKX1saXN0SW1hZ2VzKCl7cmV0dXJuIHRoaXMuX2NoZWNrTG9hZGVkKCksdGhpcy5fYXZhaWxhYmxlSW1hZ2VzLnNsaWNlKCl9YWRkU291cmNlKHQscixuPXt9KXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLHZvaWQgMCE9PXRoaXMuZ2V0U291cmNlKHQpKXRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIGFscmVhZHkgYSBzb3VyY2Ugd2l0aCB0aGlzIElEXCIpO2lmKCFyLnR5cGUpdGhyb3cgbmV3IEVycm9yKGBUaGUgdHlwZSBwcm9wZXJ0eSBtdXN0IGJlIGRlZmluZWQsIGJ1dCBvbmx5IHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyB3ZXJlIGdpdmVuOiAke09iamVjdC5rZXlzKHIpLmpvaW4oXCIsIFwiKX0uYCk7aWYoW1widmVjdG9yXCIsXCJyYXN0ZXJcIixcImdlb2pzb25cIixcInZpZGVvXCIsXCJpbWFnZVwiXS5pbmRleE9mKHIudHlwZSk+PTAmJnRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVTb3VyY2UsXCJzb3VyY2VzLlwiK3QscixudWxsLG4pKXJldHVybjt0aGlzLm1hcCYmdGhpcy5tYXAuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyYmKHIuY29sbGVjdFJlc291cmNlVGltaW5nPSEwKTtjb25zdCBpPXplKHQscix0aGlzLmRpc3BhdGNoZXIsdGhpcyk7aS5zZXRFdmVudGVkUGFyZW50KHRoaXMsKCk9Pih7aXNTb3VyY2VMb2FkZWQ6dGhpcy5faXNTb3VyY2VDYWNoZUxvYWRlZCh0KSxzb3VyY2U6aS5zZXJpYWxpemUoKSxzb3VyY2VJZDp0fSkpO2NvbnN0IG89cj0+e2NvbnN0IG49KHI/XCJzeW1ib2w6XCI6XCJvdGhlcjpcIikrdCxvPXRoaXMuX3NvdXJjZUNhY2hlc1tuXT1uZXcgZS5Tb3VyY2VDYWNoZShuLGkscik7KHI/dGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzOnRoaXMuX290aGVyU291cmNlQ2FjaGVzKVt0XT1vLG8uc3R5bGU9dGhpcyxvLm9uQWRkKHRoaXMubWFwKX07byghMSksXCJ2ZWN0b3JcIiE9PXIudHlwZSYmXCJnZW9qc29uXCIhPT1yLnR5cGV8fG8oITApLGkub25BZGQmJmkub25BZGQodGhpcy5tYXApLHRoaXMuX2NoYW5nZWQ9ITB9cmVtb3ZlU291cmNlKHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgcj10aGlzLmdldFNvdXJjZSh0KTtpZighcil0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBpcyBubyBzb3VyY2Ugd2l0aCB0aGlzIElEXCIpO2Zvcihjb25zdCByIGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbcl0uc291cmNlPT09dClyZXR1cm4gdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBTb3VyY2UgXCIke3R9XCIgY2Fubm90IGJlIHJlbW92ZWQgd2hpbGUgbGF5ZXIgXCIke3J9XCIgaXMgdXNpbmcgaXQuYCkpKTtpZih0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5nZXQoKS5zb3VyY2U9PT10KXJldHVybiB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFNvdXJjZSBcIiR7dH1cIiBjYW5ub3QgYmUgcmVtb3ZlZCB3aGlsZSB0ZXJyYWluIGlzIHVzaW5nIGl0LmApKSk7Y29uc3Qgbj10aGlzLl9nZXRTb3VyY2VDYWNoZXModCk7Zm9yKGNvbnN0IHQgb2YgbilkZWxldGUgdGhpcy5fc291cmNlQ2FjaGVzW3QuaWRdLGRlbGV0ZSB0aGlzLl91cGRhdGVkU291cmNlc1t0LmlkXSx0LmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse3NvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIixkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZUlkOnQuZ2V0U291cmNlKCkuaWR9KSksdC5zZXRFdmVudGVkUGFyZW50KG51bGwpLHQuY2xlYXJUaWxlcygpO3JldHVybiBkZWxldGUgdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbdF0sZGVsZXRlIHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1t0XSxyLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksci5vblJlbW92ZSYmci5vblJlbW92ZSh0aGlzLm1hcCksdGhpcy5fY2hhbmdlZD0hMCx0aGlzfXNldEdlb0pTT05Tb3VyY2VEYXRhKGUsdCl7dGhpcy5fY2hlY2tMb2FkZWQoKSx0aGlzLmdldFNvdXJjZShlKS5zZXREYXRhKHQpLHRoaXMuX2NoYW5nZWQ9ITB9Z2V0U291cmNlKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0U291cmNlQ2FjaGUoZSk7cmV0dXJuIHQmJnQuZ2V0U291cmNlKCl9X2dldFNvdXJjZXMoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IGluIHRoaXMuX290aGVyU291cmNlQ2FjaGVzKXtjb25zdCByPXRoaXMuX2dldFNvdXJjZUNhY2hlKHQpO3ImJmUucHVzaChyLmdldFNvdXJjZSgpKX1yZXR1cm4gZX1hZGRMYXllcih0LHIsbj17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBpPXQuaWQ7aWYodGhpcy5nZXRMYXllcihpKSlyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYExheWVyIHdpdGggaWQgXCIke2l9XCIgYWxyZWFkeSBleGlzdHMgb24gdGhpcyBtYXBgKSkpO2xldCBvO2lmKFwiY3VzdG9tXCI9PT10LnR5cGUpe2lmKEh0KHRoaXMsZS52YWxpZGF0ZUN1c3RvbVN0eWxlTGF5ZXIodCkpKXJldHVybjtvPWUuY3JlYXRlU3R5bGVMYXllcih0KX1lbHNle2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0LnNvdXJjZSYmKHRoaXMuYWRkU291cmNlKGksdC5zb3VyY2UpLHQ9ZS5jbG9uZSQxKHQpLHQ9ZS5leHRlbmQodCx7c291cmNlOml9KSksdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZUxheWVyLFwibGF5ZXJzLlwiK2ksdCx7YXJyYXlJbmRleDotMX0sbikpcmV0dXJuO289ZS5jcmVhdGVTdHlsZUxheWVyKHQpLHRoaXMuX3ZhbGlkYXRlTGF5ZXIobyksby5zZXRFdmVudGVkUGFyZW50KHRoaXMse2xheWVyOntpZDppfX0pLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnNbby5pZF09by5zZXJpYWxpemUoKSx0aGlzLl91cGRhdGVMYXllckNvdW50KG8sITApfWNvbnN0IGE9cj90aGlzLl9vcmRlci5pbmRleE9mKHIpOnRoaXMuX29yZGVyLmxlbmd0aDtpZihyJiYtMT09PWEpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtyfVwiIGRvZXMgbm90IGV4aXN0IG9uIHRoaXMgbWFwLmApKSk7dGhpcy5fb3JkZXIuc3BsaWNlKGEsMCxpKSx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZD0hMCx0aGlzLl9sYXllcnNbaV09bztjb25zdCBzPXRoaXMuX2dldExheWVyU291cmNlQ2FjaGUobyk7aWYodGhpcy5fcmVtb3ZlZExheWVyc1tpXSYmby5zb3VyY2UmJnMmJlwiY3VzdG9tXCIhPT1vLnR5cGUpe2NvbnN0IGU9dGhpcy5fcmVtb3ZlZExheWVyc1tpXTtkZWxldGUgdGhpcy5fcmVtb3ZlZExheWVyc1tpXSxlLnR5cGUhPT1vLnR5cGU/dGhpcy5fdXBkYXRlZFNvdXJjZXNbby5zb3VyY2VdPVwiY2xlYXJcIjoodGhpcy5fdXBkYXRlZFNvdXJjZXNbby5zb3VyY2VdPVwicmVsb2FkXCIscy5wYXVzZSgpKX10aGlzLl91cGRhdGVMYXllcihvKSxvLm9uQWRkJiZvLm9uQWRkKHRoaXMubWFwKSx0aGlzLl91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCl9bW92ZUxheWVyKHQscil7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSx0aGlzLl9jaGFuZ2VkPSEwLCF0aGlzLl9sYXllcnNbdF0pcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7dH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIG1vdmVkLmApKSk7aWYodD09PXIpcmV0dXJuO2NvbnN0IG49dGhpcy5fb3JkZXIuaW5kZXhPZih0KTt0aGlzLl9vcmRlci5zcGxpY2UobiwxKTtjb25zdCBpPXI/dGhpcy5fb3JkZXIuaW5kZXhPZihyKTp0aGlzLl9vcmRlci5sZW5ndGg7ciYmLTE9PT1pP3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7cn1cIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC5gKSkpOih0aGlzLl9vcmRlci5zcGxpY2UoaSwwLHQpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSEwLHRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKSl9cmVtb3ZlTGF5ZXIodCl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCByPXRoaXMuX2xheWVyc1t0XTtpZighcilyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHt0fScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgcmVtb3ZlZC5gKSkpO3Iuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLl91cGRhdGVMYXllckNvdW50KHIsITEpO2NvbnN0IG49dGhpcy5fb3JkZXIuaW5kZXhPZih0KTt0aGlzLl9vcmRlci5zcGxpY2UobiwxKSx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZD0hMCx0aGlzLl9jaGFuZ2VkPSEwLHRoaXMuX3JlbW92ZWRMYXllcnNbdF09cixkZWxldGUgdGhpcy5fbGF5ZXJzW3RdLGRlbGV0ZSB0aGlzLl9zZXJpYWxpemVkTGF5ZXJzW3RdLGRlbGV0ZSB0aGlzLl91cGRhdGVkTGF5ZXJzW3RdLGRlbGV0ZSB0aGlzLl91cGRhdGVkUGFpbnRQcm9wc1t0XSxyLm9uUmVtb3ZlJiZyLm9uUmVtb3ZlKHRoaXMubWFwKSx0aGlzLl91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCl9Z2V0TGF5ZXIoZSl7cmV0dXJuIHRoaXMuX2xheWVyc1tlXX1oYXNMYXllcihlKXtyZXR1cm4gZSBpbiB0aGlzLl9sYXllcnN9aGFzTGF5ZXJUeXBlKGUpe2Zvcihjb25zdCB0IGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbdF0udHlwZT09PWUpcmV0dXJuITA7cmV0dXJuITF9c2V0TGF5ZXJab29tUmFuZ2UodCxyLG4pe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10aGlzLmdldExheWVyKHQpO2k/aS5taW56b29tPT09ciYmaS5tYXh6b29tPT09bnx8KG51bGwhPXImJihpLm1pbnpvb209ciksbnVsbCE9biYmKGkubWF4em9vbT1uKSx0aGlzLl91cGRhdGVMYXllcihpKSk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7dH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGhhdmUgem9vbSBleHRlbnQuYCkpKX1zZXRGaWx0ZXIocixuLGk9e30pe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgbz10aGlzLmdldExheWVyKHIpO2lmKG8pe2lmKCF0KG8uZmlsdGVyLG4pKXJldHVybiBudWxsPT1uPyhvLmZpbHRlcj12b2lkIDAsdm9pZCB0aGlzLl91cGRhdGVMYXllcihvKSk6dm9pZCh0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlRmlsdGVyLGBsYXllcnMuJHtvLmlkfS5maWx0ZXJgLG4se2xheWVyVHlwZTpvLnR5cGV9LGkpfHwoby5maWx0ZXI9ZS5jbG9uZSQxKG4pLHRoaXMuX3VwZGF0ZUxheWVyKG8pKSl9ZWxzZSB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtyfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgZmlsdGVyZWQuYCkpKX1nZXRGaWx0ZXIodCl7Y29uc3Qgcj10aGlzLmdldExheWVyKHQpO3JldHVybiByJiZlLmNsb25lJDEoci5maWx0ZXIpfXNldExheW91dFByb3BlcnR5KHIsbixpLG89e30pe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgYT10aGlzLmdldExheWVyKHIpO2E/dChhLmdldExheW91dFByb3BlcnR5KG4pLGkpfHwoYS5zZXRMYXlvdXRQcm9wZXJ0eShuLGksbyksdGhpcy5fdXBkYXRlTGF5ZXIoYSkpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke3J9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBzdHlsZWQuYCkpKX1nZXRMYXlvdXRQcm9wZXJ0eSh0LHIpe2NvbnN0IG49dGhpcy5nZXRMYXllcih0KTtpZihuKXJldHVybiBuLmdldExheW91dFByb3BlcnR5KHIpO3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke3R9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuYCkpKX1zZXRQYWludFByb3BlcnR5KHIsbixpLG89e30pe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgYT10aGlzLmdldExheWVyKHIpO2E/dChhLmdldFBhaW50UHJvcGVydHkobiksaSl8fChhLnNldFBhaW50UHJvcGVydHkobixpLG8pJiZ0aGlzLl91cGRhdGVMYXllcihhKSx0aGlzLl9jaGFuZ2VkPSEwLHRoaXMuX3VwZGF0ZWRQYWludFByb3BzW3JdPSEwKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtyfScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgc3R5bGVkLmApKSl9Z2V0UGFpbnRQcm9wZXJ0eShlLHQpe2NvbnN0IHI9dGhpcy5nZXRMYXllcihlKTtyZXR1cm4gciYmci5nZXRQYWludFByb3BlcnR5KHQpfXNldEZlYXR1cmVTdGF0ZSh0LHIpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgbj10LnNvdXJjZSxpPXQuc291cmNlTGF5ZXIsbz10aGlzLmdldFNvdXJjZShuKTtpZighbylyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBzb3VyY2UgJyR7bn0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO2NvbnN0IGE9by50eXBlO2lmKFwiZ2VvanNvblwiPT09YSYmaSlyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJHZW9KU09OIHNvdXJjZXMgY2Fubm90IGhhdmUgYSBzb3VyY2VMYXllciBwYXJhbWV0ZXIuXCIpKSk7aWYoXCJ2ZWN0b3JcIj09PWEmJiFpKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBzb3VyY2VMYXllciBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBmb3IgdmVjdG9yIHNvdXJjZSB0eXBlcy5cIikpKTt2b2lkIDA9PT10LmlkJiZ0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZC5cIikpKTtjb25zdCBzPXRoaXMuX2dldFNvdXJjZUNhY2hlcyhuKTtmb3IoY29uc3QgZSBvZiBzKWUuc2V0RmVhdHVyZVN0YXRlKGksdC5pZCxyKX1yZW1vdmVGZWF0dXJlU3RhdGUodCxyKXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IG49dC5zb3VyY2UsaT10aGlzLmdldFNvdXJjZShuKTtpZighaSlyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBzb3VyY2UgJyR7bn0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZS5gKSkpO2NvbnN0IG89aS50eXBlLGE9XCJ2ZWN0b3JcIj09PW8/dC5zb3VyY2VMYXllcjp2b2lkIDA7aWYoXCJ2ZWN0b3JcIj09PW8mJiFhKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBzb3VyY2VMYXllciBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBmb3IgdmVjdG9yIHNvdXJjZSB0eXBlcy5cIikpKTtpZihyJiZcInN0cmluZ1wiIT10eXBlb2YgdC5pZCYmXCJudW1iZXJcIiE9dHlwZW9mIHQuaWQpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiQSBmZWF0dXJlIGlkIGlzIHJlcXVpcmVkIHRvIHJlbW92ZSBpdHMgc3BlY2lmaWMgc3RhdGUgcHJvcGVydHkuXCIpKSk7Y29uc3Qgcz10aGlzLl9nZXRTb3VyY2VDYWNoZXMobik7Zm9yKGNvbnN0IGUgb2YgcyllLnJlbW92ZUZlYXR1cmVTdGF0ZShhLHQuaWQscil9Z2V0RmVhdHVyZVN0YXRlKHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgcj10LnNvdXJjZSxuPXQuc291cmNlTGF5ZXIsaT10aGlzLmdldFNvdXJjZShyKTtpZihpKXtpZihcInZlY3RvclwiIT09aS50eXBlfHxuKXJldHVybiB2b2lkIDA9PT10LmlkJiZ0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgZmVhdHVyZSBpZCBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZC5cIikpKSx0aGlzLl9nZXRTb3VyY2VDYWNoZXMocilbMF0uZ2V0RmVhdHVyZVN0YXRlKG4sdC5pZCk7dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIHNvdXJjZUxheWVyIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIGZvciB2ZWN0b3Igc291cmNlIHR5cGVzLlwiKSkpfWVsc2UgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgc291cmNlICcke3J9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuYCkpKX1nZXRUcmFuc2l0aW9uKCl7cmV0dXJuIGUuZXh0ZW5kKHtkdXJhdGlvbjozMDAsZGVsYXk6MH0sdGhpcy5zdHlsZXNoZWV0JiZ0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbil9c2VyaWFsaXplKCl7Y29uc3QgdD17fTtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpe2NvbnN0IHI9dGhpcy5fc291cmNlQ2FjaGVzW2VdLmdldFNvdXJjZSgpO3Rbci5pZF18fCh0W3IuaWRdPXIuc2VyaWFsaXplKCkpfXJldHVybiBlLmZpbHRlck9iamVjdCh7dmVyc2lvbjp0aGlzLnN0eWxlc2hlZXQudmVyc2lvbixuYW1lOnRoaXMuc3R5bGVzaGVldC5uYW1lLG1ldGFkYXRhOnRoaXMuc3R5bGVzaGVldC5tZXRhZGF0YSxsaWdodDp0aGlzLnN0eWxlc2hlZXQubGlnaHQsdGVycmFpbjp0aGlzLmdldFRlcnJhaW4oKXx8dm9pZCAwLGZvZzp0aGlzLnN0eWxlc2hlZXQuZm9nLGNlbnRlcjp0aGlzLnN0eWxlc2hlZXQuY2VudGVyLHpvb206dGhpcy5zdHlsZXNoZWV0Lnpvb20sYmVhcmluZzp0aGlzLnN0eWxlc2hlZXQuYmVhcmluZyxwaXRjaDp0aGlzLnN0eWxlc2hlZXQucGl0Y2gsc3ByaXRlOnRoaXMuc3R5bGVzaGVldC5zcHJpdGUsZ2x5cGhzOnRoaXMuc3R5bGVzaGVldC5nbHlwaHMsdHJhbnNpdGlvbjp0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbixwcm9qZWN0aW9uOnRoaXMuc3R5bGVzaGVldC5wcm9qZWN0aW9uLHNvdXJjZXM6dCxsYXllcnM6dGhpcy5fc2VyaWFsaXplTGF5ZXJzKHRoaXMuX29yZGVyKX0sZT0+dm9pZCAwIT09ZSl9X3VwZGF0ZUxheWVyKGUpe3RoaXMuX3VwZGF0ZWRMYXllcnNbZS5pZF09ITA7Y29uc3QgdD10aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlKGUpO2Uuc291cmNlJiYhdGhpcy5fdXBkYXRlZFNvdXJjZXNbZS5zb3VyY2VdJiZ0JiZcInJhc3RlclwiIT09dC5nZXRTb3VyY2UoKS50eXBlJiYodGhpcy5fdXBkYXRlZFNvdXJjZXNbZS5zb3VyY2VdPVwicmVsb2FkXCIsdC5wYXVzZSgpKSx0aGlzLl9jaGFuZ2VkPSEwLGUuaW52YWxpZGF0ZUNvbXBpbGVkRmlsdGVyKCl9X2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcyhlKXtjb25zdCB0PWU9PlwiZmlsbC1leHRydXNpb25cIj09PXRoaXMuX2xheWVyc1tlXS50eXBlLHI9e30sbj1bXTtmb3IobGV0IGk9dGhpcy5fb3JkZXIubGVuZ3RoLTE7aT49MDtpLS0pe2NvbnN0IG89dGhpcy5fb3JkZXJbaV07aWYodChvKSl7cltvXT1pO2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dFtvXTtpZihlKWZvcihjb25zdCB0IG9mIGUpbi5wdXNoKHQpfX19bi5zb3J0KChlLHQpPT50LmludGVyc2VjdGlvblotZS5pbnRlcnNlY3Rpb25aKTtjb25zdCBpPVtdO2ZvcihsZXQgbz10aGlzLl9vcmRlci5sZW5ndGgtMTtvPj0wO28tLSl7Y29uc3QgYT10aGlzLl9vcmRlcltvXTtpZih0KGEpKWZvcihsZXQgZT1uLmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdCB0PW5bZV0uZmVhdHVyZTtpZihyW3QubGF5ZXIuaWRdPG8pYnJlYWs7aS5wdXNoKHQpLG4ucG9wKCl9ZWxzZSBmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXRbYV07aWYoZSlmb3IoY29uc3QgdCBvZiBlKWkucHVzaCh0LmZlYXR1cmUpfX1yZXR1cm4gaX1xdWVyeVJlbmRlcmVkRmVhdHVyZXModCxyLG4pe3ImJnIuZmlsdGVyJiZ0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlRmlsdGVyLFwicXVlcnlSZW5kZXJlZEZlYXR1cmVzLmZpbHRlclwiLHIuZmlsdGVyLG51bGwscik7Y29uc3QgaT17fTtpZihyJiZyLmxheWVycyl7aWYoIUFycmF5LmlzQXJyYXkoci5sYXllcnMpKXJldHVybiB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJwYXJhbWV0ZXJzLmxheWVycyBtdXN0IGJlIGFuIEFycmF5LlwiKSkpLFtdO2Zvcihjb25zdCB0IG9mIHIubGF5ZXJzKXtjb25zdCByPXRoaXMuX2xheWVyc1t0XTtpZighcilyZXR1cm4gdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7dH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHF1ZXJpZWQgZm9yIGZlYXR1cmVzLmApKSksW107aVtyLnNvdXJjZV09ITB9fWNvbnN0IG89W107ci5hdmFpbGFibGVJbWFnZXM9dGhpcy5fYXZhaWxhYmxlSW1hZ2VzO2NvbnN0IGE9ciYmci5sYXllcnM/ci5sYXllcnMuc29tZShlPT57Y29uc3QgdD10aGlzLmdldExheWVyKGUpO3JldHVybiB0JiZ0LmlzM0QoKX0pOnRoaXMuaGFzM0RMYXllcnMoKSxzPVIuY3JlYXRlRnJvbVNjcmVlblBvaW50cyh0LG4pO2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcyl7Y29uc3QgdD10aGlzLl9zb3VyY2VDYWNoZXNbZV0uZ2V0U291cmNlKCkuaWQ7ci5sYXllcnMmJiFpW3RdfHxvLnB1c2goUmUodGhpcy5fc291cmNlQ2FjaGVzW2VdLHRoaXMuX2xheWVycyx0aGlzLl9zZXJpYWxpemVkTGF5ZXJzLHMscixuLGEsISF0aGlzLm1hcC5fc2hvd1F1ZXJ5R2VvbWV0cnkpKX1yZXR1cm4gdGhpcy5wbGFjZW1lbnQmJm8ucHVzaChmdW5jdGlvbihlLHQscixuLGksbyxhKXtjb25zdCBzPXt9LGw9by5xdWVyeVJlbmRlcmVkU3ltYm9scyhuKSxjPVtdO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKGwpLm1hcChOdW1iZXIpKWMucHVzaChhW2VdKTtjLnNvcnQoT2UpO2Zvcihjb25zdCByIG9mIGMpe2NvbnN0IG49ci5mZWF0dXJlSW5kZXgubG9va3VwU3ltYm9sRmVhdHVyZXMobFtyLmJ1Y2tldEluc3RhbmNlSWRdLHQsci5idWNrZXRJbmRleCxyLnNvdXJjZUxheWVySW5kZXgsaS5maWx0ZXIsaS5sYXllcnMsaS5hdmFpbGFibGVJbWFnZXMsZSk7Zm9yKGNvbnN0IGUgaW4gbil7Y29uc3QgdD1zW2VdPXNbZV18fFtdLGk9bltlXTtpLnNvcnQoKGUsdCk9Pntjb25zdCBuPXIuZmVhdHVyZVNvcnRPcmRlcjtpZihuKXtjb25zdCByPW4uaW5kZXhPZihlLmZlYXR1cmVJbmRleCk7cmV0dXJuIG4uaW5kZXhPZih0LmZlYXR1cmVJbmRleCktcn1yZXR1cm4gdC5mZWF0dXJlSW5kZXgtZS5mZWF0dXJlSW5kZXh9KTtmb3IoY29uc3QgZSBvZiBpKXQucHVzaChlKX19Zm9yKGNvbnN0IHQgaW4gcylzW3RdLmZvckVhY2gobj0+e2NvbnN0IGk9bi5mZWF0dXJlLG89cihlW3RdKS5nZXRGZWF0dXJlU3RhdGUoaS5sYXllcltcInNvdXJjZS1sYXllclwiXSxpLmlkKTtpLnNvdXJjZT1pLmxheWVyLnNvdXJjZSxpLmxheWVyW1wic291cmNlLWxheWVyXCJdJiYoaS5zb3VyY2VMYXllcj1pLmxheWVyW1wic291cmNlLWxheWVyXCJdKSxpLnN0YXRlPW99KTtyZXR1cm4gc30odGhpcy5fbGF5ZXJzLHRoaXMuX3NlcmlhbGl6ZWRMYXllcnMsdGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZS5iaW5kKHRoaXMpLHMuc2NyZWVuR2VvbWV0cnkscix0aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleCx0aGlzLnBsYWNlbWVudC5yZXRhaW5lZFF1ZXJ5RGF0YSkpLHRoaXMuX2ZsYXR0ZW5BbmRTb3J0UmVuZGVyZWRGZWF0dXJlcyhvKX1xdWVyeVNvdXJjZUZlYXR1cmVzKHQscil7ciYmci5maWx0ZXImJnRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVGaWx0ZXIsXCJxdWVyeVNvdXJjZUZlYXR1cmVzLmZpbHRlclwiLHIuZmlsdGVyLG51bGwscik7Y29uc3Qgbj10aGlzLl9nZXRTb3VyY2VDYWNoZXModCk7bGV0IGk9W107Zm9yKGNvbnN0IGUgb2YgbilpPWkuY29uY2F0KExlKGUscikpO3JldHVybiBpfWFkZFNvdXJjZVR5cGUoZSx0LHIpe3JldHVybiBlci5nZXRTb3VyY2VUeXBlKGUpP3IobmV3IEVycm9yKGBBIHNvdXJjZSB0eXBlIGNhbGxlZCBcIiR7ZX1cIiBhbHJlYWR5IGV4aXN0cy5gKSk6KGVyLnNldFNvdXJjZVR5cGUoZSx0KSx0LndvcmtlclNvdXJjZVVSTD92b2lkIHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJsb2FkV29ya2VyU291cmNlXCIse25hbWU6ZSx1cmw6dC53b3JrZXJTb3VyY2VVUkx9LHIpOnIobnVsbCxudWxsKSl9Z2V0TGlnaHQoKXtyZXR1cm4gdGhpcy5saWdodC5nZXRMaWdodCgpfXNldExpZ2h0KGUscj17fSl7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBuPXRoaXMubGlnaHQuZ2V0TGlnaHQoKTtsZXQgaT0hMTtmb3IoY29uc3QgciBpbiBlKWlmKCF0KGVbcl0sbltyXSkpe2k9ITA7YnJlYWt9aWYoIWkpcmV0dXJuO2NvbnN0IG89dGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjMwMCxkZWxheTowfSk7dGhpcy5saWdodC5zZXRMaWdodChlLHIpLHRoaXMubGlnaHQudXBkYXRlVHJhbnNpdGlvbnMobyl9Z2V0VGVycmFpbigpe3JldHVybiB0aGlzLnRlcnJhaW4mJjE9PT10aGlzLnRlcnJhaW4uZHJhcGVSZW5kZXJNb2RlP3RoaXMudGVycmFpbi5nZXQoKTpudWxsfXNldFRlcnJhaW5Gb3JEcmFwaW5nKCl7dGhpcy5zZXRUZXJyYWluKHtzb3VyY2U6XCJcIixleGFnZ2VyYXRpb246MH0sMCl9c2V0VGVycmFpbihyLG49MSl7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSwhcilyZXR1cm4gZGVsZXRlIHRoaXMudGVycmFpbixkZWxldGUgdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4sdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcImVuYWJsZVRlcnJhaW5cIiwhMSksdGhpcy5fZm9yY2UzRExheWVyVXBkYXRlKCksdm9pZCh0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMCk7aWYoMT09PW4pe2lmKFwib2JqZWN0XCI9PXR5cGVvZiByLnNvdXJjZSl7Y29uc3QgdD1cInRlcnJhaW4tZGVtLXNyY1wiO3RoaXMuYWRkU291cmNlKHQsci5zb3VyY2UpLHI9ZS5jbG9uZSQxKHIpLHI9ZS5leHRlbmQocix7c291cmNlOnR9KX1pZih0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlVGVycmFpbixcInRlcnJhaW5cIixyKSlyZXR1cm59aWYoIXRoaXMudGVycmFpbnx8dGhpcy50ZXJyYWluJiZuIT09dGhpcy50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZSl0aGlzLl9jcmVhdGVUZXJyYWluKHIsbik7ZWxzZXtjb25zdCBuPXRoaXMudGVycmFpbixpPW4uZ2V0KCk7Zm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXMoZS5zcGVjLnRlcnJhaW4pKSFyLmhhc093blByb3BlcnR5KHQpJiZlLnNwZWMudGVycmFpblt0XS5kZWZhdWx0JiYoclt0XT1lLnNwZWMudGVycmFpblt0XS5kZWZhdWx0KTtmb3IoY29uc3QgZSBpbiByKWlmKCF0KHJbZV0saVtlXSkpe24uc2V0KHIpLHRoaXMuc3R5bGVzaGVldC50ZXJyYWluPXI7Y29uc3QgZT10aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MH0pO24udXBkYXRlVHJhbnNpdGlvbnMoZSk7YnJlYWt9fXRoaXMuX3VwZGF0ZURyYXBlRmlyc3RMYXllcnMoKSx0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMH1fY3JlYXRlRm9nKGUpe2NvbnN0IHQ9dGhpcy5mb2c9bmV3IFAoZSx0aGlzLm1hcC50cmFuc2Zvcm0pO3RoaXMuc3R5bGVzaGVldC5mb2c9ZTtjb25zdCByPXRoaXMuX3NldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjowfSk7dC51cGRhdGVUcmFuc2l0aW9ucyhyKX1fdXBkYXRlTWFya2Vyc09wYWNpdHkoKXswIT09dGhpcy5tYXAuX21hcmtlcnMubGVuZ3RoJiZ0aGlzLm1hcC5fcmVxdWVzdERvbVRhc2soKCk9Pntmb3IoY29uc3QgZSBvZiB0aGlzLm1hcC5fbWFya2VycyllLl9ldmFsdWF0ZU9wYWNpdHkoKX0pfWdldEZvZygpe3JldHVybiB0aGlzLmZvZz90aGlzLmZvZy5nZXQoKTpudWxsfXNldEZvZyhlKXtpZih0aGlzLl9jaGVja0xvYWRlZCgpLCFlKXJldHVybiBkZWxldGUgdGhpcy5mb2csZGVsZXRlIHRoaXMuc3R5bGVzaGVldC5mb2csdm9pZCh0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMCk7aWYodGhpcy5mb2cpe2NvbnN0IHI9dGhpcy5mb2csbj1yLmdldCgpOzA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJnIuc2V0KGUpO2Zvcihjb25zdCBpIGluIGUpaWYoIXQoZVtpXSxuW2ldKSl7ci5zZXQoZSksdGhpcy5zdHlsZXNoZWV0LmZvZz1lO2NvbnN0IHQ9dGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjB9KTtyLnVwZGF0ZVRyYW5zaXRpb25zKHQpO2JyZWFrfX1lbHNlIHRoaXMuX2NyZWF0ZUZvZyhlKTt0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMH1fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnModCl7cmV0dXJue25vdzplLmV4cG9ydGVkLm5vdygpLHRyYW5zaXRpb246ZS5leHRlbmQodCx0aGlzLnN0eWxlc2hlZXQudHJhbnNpdGlvbil9fV91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCl7aWYoIXRoaXMubWFwLl9vcHRpbWl6ZUZvclRlcnJhaW58fCF0aGlzLnRlcnJhaW4pcmV0dXJuO2NvbnN0IGU9dGhpcy5fb3JkZXIuZmlsdGVyKGU9PnRoaXMuaXNMYXllckRyYXBlZCh0aGlzLl9sYXllcnNbZV0pKSx0PXRoaXMuX29yZGVyLmZpbHRlcihlPT4hdGhpcy5pc0xheWVyRHJhcGVkKHRoaXMuX2xheWVyc1tlXSkpO3RoaXMuX2RyYXBlZEZpcnN0T3JkZXI9W10sdGhpcy5fZHJhcGVkRmlyc3RPcmRlci5wdXNoKC4uLmUpLHRoaXMuX2RyYXBlZEZpcnN0T3JkZXIucHVzaCguLi50KX1fY3JlYXRlVGVycmFpbihlLHQpe2NvbnN0IHI9dGhpcy50ZXJyYWluPW5ldyBDKGUsdCk7dGhpcy5zdHlsZXNoZWV0LnRlcnJhaW49ZSx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwiZW5hYmxlVGVycmFpblwiLCF0aGlzLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpKSx0aGlzLl9mb3JjZTNETGF5ZXJVcGRhdGUoKTtjb25zdCBuPXRoaXMuX3NldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjowfSk7ci51cGRhdGVUcmFuc2l0aW9ucyhuKX1fZm9yY2UzRExheWVyVXBkYXRlKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbGF5ZXJzKXtjb25zdCB0PXRoaXMuX2xheWVyc1tlXTtcImZpbGwtZXh0cnVzaW9uXCI9PT10LnR5cGUmJnRoaXMuX3VwZGF0ZUxheWVyKHQpfX1fZm9yY2VTeW1ib2xMYXllclVwZGF0ZSgpe2Zvcihjb25zdCBlIGluIHRoaXMuX2xheWVycyl7Y29uc3QgdD10aGlzLl9sYXllcnNbZV07XCJzeW1ib2xcIj09PXQudHlwZSYmdGhpcy5fdXBkYXRlTGF5ZXIodCl9fV92YWxpZGF0ZSh0LHIsbixpLG89e30pe3JldHVybighb3x8ITEhPT1vLnZhbGlkYXRlKSYmSHQodGhpcyx0LmNhbGwoZS52YWxpZGF0ZVN0eWxlLGUuZXh0ZW5kKHtrZXk6cixzdHlsZTp0aGlzLnNlcmlhbGl6ZSgpLHZhbHVlOm4sc3R5bGVTcGVjOmUuc3BlY30saSkpKX1fcmVtb3ZlKCl7dGhpcy5fcmVxdWVzdCYmKHRoaXMuX3JlcXVlc3QuY2FuY2VsKCksdGhpcy5fcmVxdWVzdD1udWxsKSx0aGlzLl9zcHJpdGVSZXF1ZXN0JiYodGhpcy5fc3ByaXRlUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl9zcHJpdGVSZXF1ZXN0PW51bGwpLGUuZXZlbnRlZC5vZmYoXCJwbHVnaW5TdGF0ZUNoYW5nZVwiLHRoaXMuX3J0bFRleHRQbHVnaW5DYWxsYmFjayk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fbGF5ZXJzKXRoaXMuX2xheWVyc1tlXS5zZXRFdmVudGVkUGFyZW50KG51bGwpO2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcyl0aGlzLl9zb3VyY2VDYWNoZXNbZV0uY2xlYXJUaWxlcygpLHRoaXMuX3NvdXJjZUNhY2hlc1tlXS5zZXRFdmVudGVkUGFyZW50KG51bGwpO3RoaXMuaW1hZ2VNYW5hZ2VyLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuZGlzcGF0Y2hlci5yZW1vdmUoKX1fY2xlYXJTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9nZXRTb3VyY2VDYWNoZXMoZSk7Zm9yKGNvbnN0IGUgb2YgdCllLmNsZWFyVGlsZXMoKX1fcmVsb2FkU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0U291cmNlQ2FjaGVzKGUpO2Zvcihjb25zdCBlIG9mIHQpZS5yZXN1bWUoKSxlLnJlbG9hZCgpfV9yZWxvYWRTb3VyY2VzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fZ2V0U291cmNlcygpKWUucmVsb2FkJiZlLnJlbG9hZCgpfV91cGRhdGVTb3VyY2VzKGUpe2Zvcihjb25zdCB0IGluIHRoaXMuX3NvdXJjZUNhY2hlcyl0aGlzLl9zb3VyY2VDYWNoZXNbdF0udXBkYXRlKGUpfV9nZW5lcmF0ZUNvbGxpc2lvbkJveGVzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXtjb25zdCB0PXRoaXMuX3NvdXJjZUNhY2hlc1tlXTt0LnJlc3VtZSgpLHQucmVsb2FkKCl9fV91cGRhdGVQbGFjZW1lbnQodCxyLG4saSxvPSExKXtsZXQgYT0hMSxzPSExO2NvbnN0IGw9e307Zm9yKGNvbnN0IGUgb2YgdGhpcy5fb3JkZXIpe2NvbnN0IHI9dGhpcy5fbGF5ZXJzW2VdO2lmKFwic3ltYm9sXCIhPT1yLnR5cGUpY29udGludWU7aWYoIWxbci5zb3VyY2VdKXtjb25zdCBlPXRoaXMuX2dldExheWVyU291cmNlQ2FjaGUocik7aWYoIWUpY29udGludWU7bFtyLnNvdXJjZV09ZS5nZXRSZW5kZXJhYmxlSWRzKCEwKS5tYXAodD0+ZS5nZXRUaWxlQnlJRCh0KSkuc29ydCgoZSx0KT0+dC50aWxlSUQub3ZlcnNjYWxlZFotZS50aWxlSUQub3ZlcnNjYWxlZFp8fChlLnRpbGVJRC5pc0xlc3NUaGFuKHQudGlsZUlEKT8tMToxKSl9Y29uc3Qgbj10aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4LmFkZExheWVyKHIsbFtyLnNvdXJjZV0sdC5jZW50ZXIubG5nLHQucHJvamVjdGlvbik7YT1hfHxufWlmKHRoaXMuY3Jvc3NUaWxlU3ltYm9sSW5kZXgucHJ1bmVVbnVzZWRMYXllcnModGhpcy5fb3JkZXIpLG89b3x8dGhpcy5fbGF5ZXJPcmRlckNoYW5nZWR8fDA9PT1uLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJuZXdvcmRlclwiKSksKG98fCF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudHx8dGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkmJiF0aGlzLnBsYWNlbWVudC5zdGlsbFJlY2VudChlLmV4cG9ydGVkLm5vdygpLHQuem9vbSkpJiYodGhpcy5wYXVzZWFibGVQbGFjZW1lbnQ9bmV3IEd0KHQsdGhpcy5fb3JkZXIsbyxyLG4saSx0aGlzLnBsYWNlbWVudCx0aGlzLmZvZyYmdC5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nP3RoaXMuZm9nLnN0YXRlOm51bGwpLHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkPSExKSx0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKT90aGlzLnBsYWNlbWVudC5zZXRTdGFsZSgpOih0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb250aW51ZVBsYWNlbWVudCh0aGlzLl9vcmRlcix0aGlzLl9sYXllcnMsbCksdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCkmJih0aGlzLnBsYWNlbWVudD10aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5jb21taXQoZS5leHBvcnRlZC5ub3coKSkscz0hMCksYSYmdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQucGxhY2VtZW50LnNldFN0YWxlKCkpLHN8fGEpZm9yKGNvbnN0IGUgb2YgdGhpcy5fb3JkZXIpe2NvbnN0IHQ9dGhpcy5fbGF5ZXJzW2VdO1wic3ltYm9sXCI9PT10LnR5cGUmJnRoaXMucGxhY2VtZW50LnVwZGF0ZUxheWVyT3BhY2l0aWVzKHQsbFt0LnNvdXJjZV0pfXJldHVybiF0aGlzLnBhdXNlYWJsZVBsYWNlbWVudC5pc0RvbmUoKXx8dGhpcy5wbGFjZW1lbnQuaGFzVHJhbnNpdGlvbnMoZS5leHBvcnRlZC5ub3coKSl9X3JlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpdGhpcy5fc291cmNlQ2FjaGVzW2VdLnJlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKX1nZXRJbWFnZXMoZSx0LHIpe3RoaXMuaW1hZ2VNYW5hZ2VyLmdldEltYWdlcyh0Lmljb25zLHIpLHRoaXMuX3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcygpO2NvbnN0IG49ZT0+e2UmJmUuc2V0RGVwZW5kZW5jaWVzKHQudGlsZUlELmtleSx0LnR5cGUsdC5pY29ucyl9O24odGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbdC5zb3VyY2VdKSxuKHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1t0LnNvdXJjZV0pfWdldEdseXBocyhlLHQscil7dGhpcy5nbHlwaE1hbmFnZXIuZ2V0R2x5cGhzKHQuc3RhY2tzLHIpfWdldFJlc291cmNlKHQscixuKXtyZXR1cm4gZS5tYWtlUmVxdWVzdChyLG4pfV9nZXRTb3VyY2VDYWNoZShlKXtyZXR1cm4gdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbZV19X2dldExheWVyU291cmNlQ2FjaGUoZSl7cmV0dXJuXCJzeW1ib2xcIj09PWUudHlwZT90aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbZS5zb3VyY2VdOnRoaXMuX290aGVyU291cmNlQ2FjaGVzW2Uuc291cmNlXX1fZ2V0U291cmNlQ2FjaGVzKGUpe2NvbnN0IHQ9W107cmV0dXJuIHRoaXMuX290aGVyU291cmNlQ2FjaGVzW2VdJiZ0LnB1c2godGhpcy5fb3RoZXJTb3VyY2VDYWNoZXNbZV0pLHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tlXSYmdC5wdXNoKHRoaXMuX3N5bWJvbFNvdXJjZUNhY2hlc1tlXSksdH1faXNTb3VyY2VDYWNoZUxvYWRlZCh0KXtjb25zdCByPXRoaXMuX2dldFNvdXJjZUNhY2hlcyh0KTtyZXR1cm4gMD09PXIubGVuZ3RoPyh0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZXJlIGlzIG5vIHNvdXJjZSB3aXRoIElEICcke3R9J2ApKSksITEpOnIuZXZlcnkoZT0+ZS5sb2FkZWQoKSl9aGFzM0RMYXllcnMoKXtyZXR1cm4gdGhpcy5fbnVtM0RMYXllcnM+MH1oYXNTeW1ib2xMYXllcnMoKXtyZXR1cm4gdGhpcy5fbnVtU3ltYm9sTGF5ZXJzPjB9aGFzQ2lyY2xlTGF5ZXJzKCl7cmV0dXJuIHRoaXMuX251bUNpcmNsZUxheWVycz4wfV9jbGVhcldvcmtlckNhY2hlcygpe3RoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJjbGVhckNhY2hlc1wiKX1kZXN0cm95KCl7dGhpcy5fY2xlYXJXb3JrZXJDYWNoZXMoKSx0aGlzLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpJiYoZGVsZXRlIHRoaXMudGVycmFpbixkZWxldGUgdGhpcy5zdHlsZXNoZWV0LnRlcnJhaW4pfX1lci5nZXRTb3VyY2VUeXBlPWZ1bmN0aW9uKGUpe3JldHVybiBQZVtlXX0sZXIuc2V0U291cmNlVHlwZT1mdW5jdGlvbihlLHQpe1BlW2VdPXR9LGVyLnJlZ2lzdGVyRm9yUGx1Z2luU3RhdGVDaGFuZ2U9ZS5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlO3ZhciB0cj1cIlxcbiNkZWZpbmUgRVBTSUxPTiAwLjAwMDAwMDFcXG4jZGVmaW5lIFBJIDMuMTQxNTkyNjUzNTg5NzkzXFxuI2RlZmluZSBFWFRFTlQgODE5Mi4wXFxuI2RlZmluZSBIQUxGX1BJIFBJLzIuMFxcbiNkZWZpbmUgUVVBUlRFUl9QSSBQSS80LjBcXG4jZGVmaW5lIFJBRF9UT19ERUcgMTgwLjAvUElcXG4jZGVmaW5lIERFR19UT19SQUQgUEkvMTgwLjBcXG4jZGVmaW5lIEdMT0JFX1JBRElVUyBFWFRFTlQvUEkvMi4wXCIscnI9XCJhdHRyaWJ1dGUgaGlnaHAgdmVjMyBhX3Bvc18zZjt1bmlmb3JtIGxvd3AgbWF0NCB1X21hdHJpeDt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl91djt2b2lkIG1haW4oKSB7Y29uc3QgbWF0MyBoYWxmX25lZ19waV9hcm91bmRfeD1tYXQzKDEuMCwwLjAsIDAuMCwwLjAsMC4wLC0xLjAsMC4wLDEuMCwgMC4wKTt2X3V2PWhhbGZfbmVnX3BpX2Fyb3VuZF94KmFfcG9zXzNmO3ZlYzQgcG9zPXVfbWF0cml4KnZlYzQoYV9wb3NfM2YsMS4wKTtnbF9Qb3NpdGlvbj1wb3MueHl3dzt9XCIsbnI9XCJcXG4jZGVmaW5lIEVMRVZBVElPTl9TQ0FMRSA3LjBcXG4jZGVmaW5lIEVMRVZBVElPTl9PRkZTRVQgNDUwLjBcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudW5pZm9ybSB2ZWMzIHVfdGlsZV90bF91cDt1bmlmb3JtIHZlYzMgdV90aWxlX3RyX3VwO3VuaWZvcm0gdmVjMyB1X3RpbGVfYnJfdXA7dW5pZm9ybSB2ZWMzIHVfdGlsZV9ibF91cDt1bmlmb3JtIGZsb2F0IHVfdGlsZV91cF9zY2FsZTt2ZWMzIGVsZXZhdGlvblZlY3Rvcih2ZWMyIHBvcykge3ZlYzIgdXY9cG9zL0VYVEVOVDt2ZWMzIHVwPW5vcm1hbGl6ZShtaXgoXFxubWl4KHVfdGlsZV90bF91cCx1X3RpbGVfdHJfdXAsdXYueHh4KSxtaXgodV90aWxlX2JsX3VwLHVfdGlsZV9icl91cCx1di54eHgpLHV2Lnl5eSkpO3JldHVybiB1cCp1X3RpbGVfdXBfc2NhbGU7fVxcbiNlbHNlXFxudmVjMyBlbGV2YXRpb25WZWN0b3IodmVjMiBwb3MpIHsgcmV0dXJuIHZlYzMoMCwwLDEpOyB9XFxuI2VuZGlmXFxuI2lmZGVmIFRFUlJBSU5cXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxudW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdV9kZW07dW5pZm9ybSBoaWdocCBzYW1wbGVyMkQgdV9kZW1fcHJldjtcXG4jZWxzZVxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZGVtO3VuaWZvcm0gc2FtcGxlcjJEIHVfZGVtX3ByZXY7XFxuI2VuZGlmXFxudW5pZm9ybSB2ZWM0IHVfZGVtX3VucGFjazt1bmlmb3JtIHZlYzIgdV9kZW1fdGw7dW5pZm9ybSB2ZWMyIHVfZGVtX3RsX3ByZXY7dW5pZm9ybSBmbG9hdCB1X2RlbV9zY2FsZTt1bmlmb3JtIGZsb2F0IHVfZGVtX3NjYWxlX3ByZXY7dW5pZm9ybSBmbG9hdCB1X2RlbV9zaXplO3VuaWZvcm0gZmxvYXQgdV9kZW1fbGVycDt1bmlmb3JtIGZsb2F0IHVfZXhhZ2dlcmF0aW9uO3VuaWZvcm0gZmxvYXQgdV9tZXRlcl90b19kZW07dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4X2ludjt1bmlmb3JtIHNhbXBsZXIyRCB1X2RlcHRoO3VuaWZvcm0gdmVjMiB1X2RlcHRoX3NpemVfaW52O3ZlYzQgdGlsZVV2VG9EZW1TYW1wbGUodmVjMiB1dixmbG9hdCBkZW1fc2l6ZSxmbG9hdCBkZW1fc2NhbGUsdmVjMiBkZW1fdGwpIHt2ZWMyIHBvcz1kZW1fc2l6ZSoodXYqZGVtX3NjYWxlK2RlbV90bCkrMS4wO3ZlYzIgZj1mcmFjdChwb3MpO3JldHVybiB2ZWM0KChwb3MtZiswLjUpLyhkZW1fc2l6ZSsyLjApLGYpO31mbG9hdCBkZWNvZGVFbGV2YXRpb24odmVjNCB2KSB7cmV0dXJuIGRvdCh2ZWM0KHYueHl6KjI1NS4wLC0xLjApLHVfZGVtX3VucGFjayk7fWZsb2F0IGN1cnJlbnRFbGV2YXRpb24odmVjMiBhcG9zKSB7XFxuI2lmZGVmIFRFUlJBSU5fREVNX0ZMT0FUX0ZPUk1BVFxcbnZlYzIgcG9zPSh1X2RlbV9zaXplKihhcG9zLzgxOTIuMCp1X2RlbV9zY2FsZSt1X2RlbV90bCkrMS41KS8odV9kZW1fc2l6ZSsyLjApO3JldHVybiB1X2V4YWdnZXJhdGlvbip0ZXh0dXJlMkQodV9kZW0scG9zKS5hO1xcbiNlbHNlXFxuZmxvYXQgZGQ9MS4wLyh1X2RlbV9zaXplKzIuMCk7dmVjNCByPXRpbGVVdlRvRGVtU2FtcGxlKGFwb3MvODE5Mi4wLHVfZGVtX3NpemUsdV9kZW1fc2NhbGUsdV9kZW1fdGwpO3ZlYzIgcG9zPXIueHk7dmVjMiBmPXIuenc7ZmxvYXQgdGw9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbSxwb3MpKTtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fTkVBUkVTVF9GSUxURVJcXG5yZXR1cm4gdV9leGFnZ2VyYXRpb24qdGw7XFxuI2VuZGlmXFxuZmxvYXQgdHI9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMihkZCwwLjApKSk7ZmxvYXQgYmw9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMigwLjAsZGQpKSk7ZmxvYXQgYnI9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMihkZCxkZCkpKTtyZXR1cm4gdV9leGFnZ2VyYXRpb24qbWl4KG1peCh0bCx0cixmLngpLG1peChibCxicixmLngpLGYueSk7XFxuI2VuZGlmXFxufWZsb2F0IHByZXZFbGV2YXRpb24odmVjMiBhcG9zKSB7XFxuI2lmZGVmIFRFUlJBSU5fREVNX0ZMT0FUX0ZPUk1BVFxcbnZlYzIgcG9zPSh1X2RlbV9zaXplKihhcG9zLzgxOTIuMCp1X2RlbV9zY2FsZV9wcmV2K3VfZGVtX3RsX3ByZXYpKzEuNSkvKHVfZGVtX3NpemUrMi4wKTtyZXR1cm4gdV9leGFnZ2VyYXRpb24qdGV4dHVyZTJEKHVfZGVtX3ByZXYscG9zKS5hO1xcbiNlbHNlXFxuZmxvYXQgZGQ9MS4wLyh1X2RlbV9zaXplKzIuMCk7dmVjNCByPXRpbGVVdlRvRGVtU2FtcGxlKGFwb3MvODE5Mi4wLHVfZGVtX3NpemUsdV9kZW1fc2NhbGVfcHJldix1X2RlbV90bF9wcmV2KTt2ZWMyIHBvcz1yLnh5O3ZlYzIgZj1yLnp3O2Zsb2F0IHRsPWRlY29kZUVsZXZhdGlvbih0ZXh0dXJlMkQodV9kZW1fcHJldixwb3MpKTtmbG9hdCB0cj1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtX3ByZXYscG9zK3ZlYzIoZGQsMC4wKSkpO2Zsb2F0IGJsPWRlY29kZUVsZXZhdGlvbih0ZXh0dXJlMkQodV9kZW1fcHJldixwb3MrdmVjMigwLjAsZGQpKSk7ZmxvYXQgYnI9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbV9wcmV2LHBvcyt2ZWMyKGRkLGRkKSkpO3JldHVybiB1X2V4YWdnZXJhdGlvbiptaXgobWl4KHRsLHRyLGYueCksbWl4KGJsLGJyLGYueCksZi55KTtcXG4jZW5kaWZcXG59XFxuI2lmZGVmIFRFUlJBSU5fVkVSVEVYX01PUlBISU5HXFxuZmxvYXQgZWxldmF0aW9uKHZlYzIgYXBvcykge2Zsb2F0IG5leHRFbGV2YXRpb249Y3VycmVudEVsZXZhdGlvbihhcG9zKTtmbG9hdCBwcmV2RWxldmF0aW9uPXByZXZFbGV2YXRpb24oYXBvcyk7cmV0dXJuIG1peChwcmV2RWxldmF0aW9uLG5leHRFbGV2YXRpb24sdV9kZW1fbGVycCk7fVxcbiNlbHNlXFxuZmxvYXQgZWxldmF0aW9uKHZlYzIgYXBvcykge3JldHVybiBjdXJyZW50RWxldmF0aW9uKGFwb3MpO31cXG4jZW5kaWZcXG5oaWdocCBmbG9hdCB1bnBhY2tfZGVwdGgoaGlnaHAgdmVjNCByZ2JhX2RlcHRoKVxcbntjb25zdCBoaWdocCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDEuMC8oMjU1LjAqMjU1LjAqMjU1LjApLDEuMC8oMjU1LjAqMjU1LjApLDEuMC8yNTUuMCwxLjApO3JldHVybiBkb3QocmdiYV9kZXB0aCxiaXRfc2hpZnQpKjIuMC0xLjA7fWJvb2wgaXNPY2NsdWRlZCh2ZWM0IGZyYWcpIHt2ZWMzIGNvb3JkPWZyYWcueHl6L2ZyYWcudztmbG9hdCBkZXB0aD11bnBhY2tfZGVwdGgodGV4dHVyZTJEKHVfZGVwdGgsKGNvb3JkLnh5KzEuMCkqMC41KSk7cmV0dXJuIGNvb3JkLnogPiBkZXB0aCswLjAwMDU7fWZsb2F0IG9jY2x1c2lvbkZhZGUodmVjNCBmcmFnKSB7dmVjMyBjb29yZD1mcmFnLnh5ei9mcmFnLnc7dmVjMyBkZj12ZWMzKDUuMCp1X2RlcHRoX3NpemVfaW52LDAuMCk7dmVjMiB1dj0wLjUqY29vcmQueHkrMC41O3ZlYzQgZGVwdGg9dmVjNChcXG51bnBhY2tfZGVwdGgodGV4dHVyZTJEKHVfZGVwdGgsdXYtZGYueHopKSx1bnBhY2tfZGVwdGgodGV4dHVyZTJEKHVfZGVwdGgsdXYrZGYueHopKSx1bnBhY2tfZGVwdGgodGV4dHVyZTJEKHVfZGVwdGgsdXYtZGYuenkpKSx1bnBhY2tfZGVwdGgodGV4dHVyZTJEKHVfZGVwdGgsdXYrZGYuenkpKVxcbik7cmV0dXJuIGRvdCh2ZWM0KDAuMjUpLHZlYzQoMS4wKS1jbGFtcCgzMDAuMCoodmVjNChjb29yZC56LTAuMDAxKS1kZXB0aCksMC4wLDEuMCkpO312ZWM0IGZvdXJTYW1wbGUodmVjMiBwb3MsdmVjMiBvZmYpIHtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxuZmxvYXQgdGw9dGV4dHVyZTJEKHVfZGVtLHBvcykuYTtmbG9hdCB0cj10ZXh0dXJlMkQodV9kZW0scG9zK3ZlYzIob2ZmLngsMC4wKSkuYTtmbG9hdCBibD10ZXh0dXJlMkQodV9kZW0scG9zK3ZlYzIoMC4wLG9mZi55KSkuYTtmbG9hdCBicj10ZXh0dXJlMkQodV9kZW0scG9zK29mZikuYTtcXG4jZWxzZVxcbnZlYzQgZGVtdGw9dmVjNCh0ZXh0dXJlMkQodV9kZW0scG9zKS54eXoqMjU1LjAsLTEuMCk7ZmxvYXQgdGw9ZG90KGRlbXRsLHVfZGVtX3VucGFjayk7dmVjNCBkZW10cj12ZWM0KHRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMihvZmYueCwwLjApKS54eXoqMjU1LjAsLTEuMCk7ZmxvYXQgdHI9ZG90KGRlbXRyLHVfZGVtX3VucGFjayk7dmVjNCBkZW1ibD12ZWM0KHRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMigwLjAsb2ZmLnkpKS54eXoqMjU1LjAsLTEuMCk7ZmxvYXQgYmw9ZG90KGRlbWJsLHVfZGVtX3VucGFjayk7dmVjNCBkZW1icj12ZWM0KHRleHR1cmUyRCh1X2RlbSxwb3Mrb2ZmKS54eXoqMjU1LjAsLTEuMCk7ZmxvYXQgYnI9ZG90KGRlbWJyLHVfZGVtX3VucGFjayk7XFxuI2VuZGlmXFxucmV0dXJuIHZlYzQodGwsdHIsYmwsYnIpO31mbG9hdCBmbGF0RWxldmF0aW9uKHZlYzIgcGFjaykge3ZlYzIgYXBvcz1mbG9vcihwYWNrLzguMCk7dmVjMiBzcGFuPTEwLjAqKHBhY2stYXBvcyo4LjApO3ZlYzIgdXZUZXg9KGFwb3MtdmVjMigxLjAsMS4wKSkvODE5MC4wO2Zsb2F0IHNpemU9dV9kZW1fc2l6ZSsyLjA7ZmxvYXQgZGQ9MS4wL3NpemU7dmVjMiBwb3M9dV9kZW1fc2l6ZSoodXZUZXgqdV9kZW1fc2NhbGUrdV9kZW1fdGwpKzEuMDt2ZWMyIGY9ZnJhY3QocG9zKTtwb3M9KHBvcy1mKzAuNSkqZGQ7dmVjNCBoPWZvdXJTYW1wbGUocG9zLHZlYzIoZGQpKTtmbG9hdCB6PW1peChtaXgoaC54LGgueSxmLngpLG1peChoLnosaC53LGYueCksZi55KTt2ZWMyIHc9Zmxvb3IoMC41KihzcGFuKnVfbWV0ZXJfdG9fZGVtLTEuMCkpO3ZlYzIgZD1kZCp3O3ZlYzQgYm91bmRzPXZlYzQoZCx2ZWMyKDEuMCktZCk7aD1mb3VyU2FtcGxlKHBvcy1kLDIuMCpkK3ZlYzIoZGQpKTt2ZWM0IGRpZmY9YWJzKGgueHp4eS1oLnl3encpO3ZlYzIgc2xvcGU9bWluKHZlYzIoMC4yNSksdV9tZXRlcl90b19kZW0qMC41KihkaWZmLnh6K2RpZmYueXcpLygyLjAqdyt2ZWMyKDEuMCkpKTt2ZWMyIGZpeD1zbG9wZSpzcGFuO2Zsb2F0IGJhc2U9eittYXgoZml4LngsZml4LnkpO3JldHVybiB1X2V4YWdnZXJhdGlvbipiYXNlO31mbG9hdCBlbGV2YXRpb25Gcm9tVWludDE2KGZsb2F0IHdvcmQpIHtyZXR1cm4gdV9leGFnZ2VyYXRpb24qKHdvcmQvRUxFVkFUSU9OX1NDQUxFLUVMRVZBVElPTl9PRkZTRVQpO31cXG4jZWxzZVxcbmZsb2F0IGVsZXZhdGlvbih2ZWMyIHBvcykgeyByZXR1cm4gMC4wOyB9Ym9vbCBpc09jY2x1ZGVkKHZlYzQgZnJhZykgeyByZXR1cm4gZmFsc2U7IH1mbG9hdCBvY2NsdXNpb25GYWRlKHZlYzQgZnJhZykgeyByZXR1cm4gMS4wOyB9XFxuI2VuZGlmXCIsaXI9XCIjaWZkZWYgRk9HXFxudW5pZm9ybSBtZWRpdW1wIHZlYzQgdV9mb2dfY29sb3I7dW5pZm9ybSBtZWRpdW1wIHZlYzIgdV9mb2dfcmFuZ2U7dW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfZm9nX2hvcml6b25fYmxlbmQ7dW5pZm9ybSBtZWRpdW1wIG1hdDQgdV9mb2dfbWF0cml4O3ZhcnlpbmcgdmVjMyB2X2ZvZ19wb3M7ZmxvYXQgZm9nX3JhbmdlKGZsb2F0IGRlcHRoKSB7cmV0dXJuIChkZXB0aC11X2ZvZ19yYW5nZVswXSkvKHVfZm9nX3JhbmdlWzFdLXVfZm9nX3JhbmdlWzBdKTt9ZmxvYXQgZm9nX2hvcml6b25fYmxlbmRpbmcodmVjMyBjYW1lcmFfZGlyKSB7ZmxvYXQgdD1tYXgoMC4wLGNhbWVyYV9kaXIuei91X2ZvZ19ob3Jpem9uX2JsZW5kKTtyZXR1cm4gdV9mb2dfY29sb3IuYSpleHAoLTMuMCp0KnQpO31mbG9hdCBmb2dfb3BhY2l0eShmbG9hdCB0KSB7Y29uc3QgZmxvYXQgZGVjYXk9Ni4wO2Zsb2F0IGZhbGxvZmY9MS4wLW1pbigxLjAsZXhwKC1kZWNheSp0KSk7ZmFsbG9mZio9ZmFsbG9mZipmYWxsb2ZmO3JldHVybiB1X2ZvZ19jb2xvci5hKm1pbigxLjAsMS4wMDc0NypmYWxsb2ZmKTt9dmVjMyBmb2dfcG9zaXRpb24odmVjMyBwb3MpIHtyZXR1cm4gKHVfZm9nX21hdHJpeCp2ZWM0KHBvcywxLjApKS54eXo7fXZlYzMgZm9nX3Bvc2l0aW9uKHZlYzIgcG9zKSB7cmV0dXJuIGZvZ19wb3NpdGlvbih2ZWMzKHBvcywwLjApKTt9ZmxvYXQgZm9nKHZlYzMgcG9zKSB7ZmxvYXQgZGVwdGg9bGVuZ3RoKHBvcyk7ZmxvYXQgb3BhY2l0eT1mb2dfb3BhY2l0eShmb2dfcmFuZ2UoZGVwdGgpKTtyZXR1cm4gb3BhY2l0eSpmb2dfaG9yaXpvbl9ibGVuZGluZyhwb3MvZGVwdGgpO31cXG4jZW5kaWZcIixvcj1cIiNpZmRlZiBGT0dcXG51bmlmb3JtIG1lZGl1bXAgdmVjNCB1X2ZvZ19jb2xvcjt1bmlmb3JtIG1lZGl1bXAgdmVjMiB1X2ZvZ19yYW5nZTt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9mb2dfaG9yaXpvbl9ibGVuZDt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9mb2dfdGVtcG9yYWxfb2Zmc2V0O3ZhcnlpbmcgdmVjMyB2X2ZvZ19wb3M7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV90bDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX3RyO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fYnI7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV9ibDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9nbG9iZV9wb3M7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dsb2JlX3JhZGl1czt1bmlmb3JtIGhpZ2hwIHZlYzIgdV92aWV3cG9ydDt1bmlmb3JtIGZsb2F0IHVfZ2xvYmVfdHJhbnNpdGlvbjt1bmlmb3JtIGludCB1X2lzX2dsb2JlO2Zsb2F0IGZvZ19yYW5nZShmbG9hdCBkZXB0aCkge3JldHVybiAoZGVwdGgtdV9mb2dfcmFuZ2VbMF0pLyh1X2ZvZ19yYW5nZVsxXS11X2ZvZ19yYW5nZVswXSk7fWZsb2F0IGZvZ19ob3Jpem9uX2JsZW5kaW5nKHZlYzMgY2FtZXJhX2Rpcikge2Zsb2F0IHQ9bWF4KDAuMCxjYW1lcmFfZGlyLnovdV9mb2dfaG9yaXpvbl9ibGVuZCk7cmV0dXJuIHVfZm9nX2NvbG9yLmEqZXhwKC0zLjAqdCp0KTt9ZmxvYXQgZm9nX29wYWNpdHkoZmxvYXQgdCkge2NvbnN0IGZsb2F0IGRlY2F5PTYuMDtmbG9hdCBmYWxsb2ZmPTEuMC1taW4oMS4wLGV4cCgtZGVjYXkqdCkpO2ZhbGxvZmYqPWZhbGxvZmYqZmFsbG9mZjtyZXR1cm4gdV9mb2dfY29sb3IuYSptaW4oMS4wLDEuMDA3NDcqZmFsbG9mZik7fWZsb2F0IGdsb2JlX2dsb3dfcHJvZ3Jlc3MoKSB7aGlnaHAgdmVjMiB1dj1nbF9GcmFnQ29vcmQueHkvdV92aWV3cG9ydDtoaWdocCB2ZWMzIHJheV9kaXI9bWl4KFxcbm1peCh1X2ZydXN0dW1fdGwsdV9mcnVzdHVtX3RyLHV2LngpLG1peCh1X2ZydXN0dW1fYmwsdV9mcnVzdHVtX2JyLHV2LngpLDEuMC11di55KTtoaWdocCB2ZWMzIGRpcj1ub3JtYWxpemUocmF5X2Rpcik7aGlnaHAgdmVjMyBjbG9zZXN0X3BvaW50PWRvdCh1X2dsb2JlX3BvcyxkaXIpKmRpcjtoaWdocCBmbG9hdCBzZGY9bGVuZ3RoKGNsb3Nlc3RfcG9pbnQtdV9nbG9iZV9wb3MpL3VfZ2xvYmVfcmFkaXVzO3JldHVybiBzZGYrUEkqMC41O31mbG9hdCBmb2dfb3BhY2l0eSh2ZWMzIHBvcykge2Zsb2F0IGRlcHRoPWxlbmd0aChwb3MpO3JldHVybiBmb2dfb3BhY2l0eShmb2dfcmFuZ2UoZGVwdGgpKTt9dmVjMyBmb2dfYXBwbHkodmVjMyBjb2xvcix2ZWMzIHBvcykge2Zsb2F0IGRlcHRoPWxlbmd0aChwb3MpO2Zsb2F0IG9wYWNpdHk7aWYgKHVfaXNfZ2xvYmU9PTEpIHtmbG9hdCBnbG93X3Byb2dyZXNzPWdsb2JlX2dsb3dfcHJvZ3Jlc3MoKTtmbG9hdCB0PW1peChnbG93X3Byb2dyZXNzLGRlcHRoLHVfZ2xvYmVfdHJhbnNpdGlvbik7b3BhY2l0eT1mb2dfb3BhY2l0eShmb2dfcmFuZ2UodCkpO30gZWxzZSB7b3BhY2l0eT1mb2dfb3BhY2l0eShmb2dfcmFuZ2UoZGVwdGgpKTtvcGFjaXR5Kj1mb2dfaG9yaXpvbl9ibGVuZGluZyhwb3MvZGVwdGgpO31yZXR1cm4gbWl4KGNvbG9yLHVfZm9nX2NvbG9yLnJnYixvcGFjaXR5KTt9dmVjNCBmb2dfYXBwbHlfZnJvbV92ZXJ0KHZlYzQgY29sb3IsZmxvYXQgZm9nX29wYWMpIHtmbG9hdCBhbHBoYT1FUFNJTE9OK2NvbG9yLmE7Y29sb3IucmdiPW1peChjb2xvci5yZ2IvYWxwaGEsdV9mb2dfY29sb3IucmdiLGZvZ19vcGFjKSphbHBoYTtyZXR1cm4gY29sb3I7fXZlYzMgZm9nX2FwcGx5X3NreV9ncmFkaWVudCh2ZWMzIGNhbWVyYV9yYXksdmVjMyBza3lfY29sb3IpIHtmbG9hdCBob3Jpem9uX2JsZW5kPWZvZ19ob3Jpem9uX2JsZW5kaW5nKG5vcm1hbGl6ZShjYW1lcmFfcmF5KSk7cmV0dXJuIG1peChza3lfY29sb3IsdV9mb2dfY29sb3IucmdiLGhvcml6b25fYmxlbmQpO312ZWM0IGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKHZlYzQgY29sb3IsdmVjMyBwb3MpIHtmbG9hdCBhbHBoYT1FUFNJTE9OK2NvbG9yLmE7Y29sb3IucmdiPWZvZ19hcHBseShjb2xvci5yZ2IvYWxwaGEscG9zKSphbHBoYTtyZXR1cm4gY29sb3I7fXZlYzMgZm9nX2RpdGhlcih2ZWMzIGNvbG9yKSB7dmVjMiBkaXRoZXJfc2VlZD1nbF9GcmFnQ29vcmQueHkrdV9mb2dfdGVtcG9yYWxfb2Zmc2V0O3JldHVybiBkaXRoZXIoY29sb3IsZGl0aGVyX3NlZWQpO312ZWM0IGZvZ19kaXRoZXIodmVjNCBjb2xvcikge3JldHVybiB2ZWM0KGZvZ19kaXRoZXIoY29sb3IucmdiKSxjb2xvci5hKTt9XFxuI2VuZGlmXCI7bGV0IGFyPXt9LHNyPXt9O2NvbnN0IGxyPVtdO3ByKHRyLGxyKSxwcihucixscikscHIoaXIsbHIpLHByKG9yLGxyKSxhcj1mcihcIlwiLG5yKSxzcj1mcihvcixpcik7Y29uc3QgY3I9ZnIoXCJcXG5oaWdocCB2ZWMzIGhhc2goaGlnaHAgdmVjMiBwKSB7aGlnaHAgdmVjMyBwMz1mcmFjdChwLnh5eCp2ZWMzKDQ0My44OTc1LDM5Ny4yOTczLDQ5MS4xODcxKSk7cDMrPWRvdChwMyxwMy55eHorMTkuMTkpO3JldHVybiBmcmFjdCgocDMueHh5K3AzLnl6eikqcDMuenl4KTt9dmVjMyBkaXRoZXIodmVjMyBjb2xvcixoaWdocCB2ZWMyIHNlZWQpIHt2ZWMzIHJuZD1oYXNoKHNlZWQpK2hhc2goc2VlZCswLjU5Mzc0KS0wLjU7cmV0dXJuIGNvbG9yK3JuZC8yNTUuMDt9aGlnaHAgZmxvYXQgdW5wYWNrX2RlcHRoKGhpZ2hwIHZlYzQgcmdiYV9kZXB0aClcXG57Y29uc3QgaGlnaHAgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTtyZXR1cm4gZG90KHJnYmFfZGVwdGgsYml0X3NoaWZ0KSoyLjAtMS4wO31oaWdocCB2ZWM0IHBhY2tfZGVwdGgoaGlnaHAgZmxvYXQgbmRjX3opIHtoaWdocCBmbG9hdCBkZXB0aD1uZGNfeiowLjUrMC41O2NvbnN0IGhpZ2hwIHZlYzQgYml0X3NoaWZ0PXZlYzQoMjU1LjAqMjU1LjAqMjU1LjAsMjU1LjAqMjU1LjAsMjU1LjAsMS4wKTtjb25zdCBoaWdocCB2ZWM0IGJpdF9tYXNrID12ZWM0KDAuMCwxLjAvMjU1LjAsMS4wLzI1NS4wLDEuMC8yNTUuMCk7aGlnaHAgdmVjNCByZXM9ZnJhY3QoZGVwdGgqYml0X3NoaWZ0KTtyZXMtPXJlcy54eHl6KmJpdF9tYXNrO3JldHVybiByZXM7fVwiLFwiXFxuZmxvYXQgd3JhcChmbG9hdCBuLGZsb2F0IG1pbixmbG9hdCBtYXgpIHtmbG9hdCBkPW1heC1taW47ZmxvYXQgdz1tb2QobW9kKG4tbWluLGQpK2QsZCkrbWluO3JldHVybiAodz09bWluKSA/IG1heCA6IHc7fVxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIG1lcmNhdG9yX3RpbGVfcG9zaXRpb24obWF0NCBtYXRyaXgsdmVjMiB0aWxlX2FuY2hvcix2ZWMzIHRpbGVfaWQsdmVjMiBtZXJjYXRvcl9jZW50ZXIpIHtcXG4jaWZuZGVmIFBST0pFQ1RFRF9QT1NfT05fVklFV1BPUlRcXG5mbG9hdCB0aWxlcz10aWxlX2lkLno7dmVjMiBtZXJjYXRvcj0odGlsZV9hbmNob3IvRVhURU5UK3RpbGVfaWQueHkpL3RpbGVzO21lcmNhdG9yLT1tZXJjYXRvcl9jZW50ZXI7bWVyY2F0b3IueD13cmFwKG1lcmNhdG9yLngsLTAuNSwwLjUpO3ZlYzQgbWVyY2F0b3JfdGlsZT12ZWM0KG1lcmNhdG9yLnh5KkVYVEVOVCxFWFRFTlQvKDIuMCpQSSksMS4wKTttZXJjYXRvcl90aWxlPW1hdHJpeCptZXJjYXRvcl90aWxlO3JldHVybiBtZXJjYXRvcl90aWxlLnh5ejtcXG4jZWxzZVxcbnJldHVybiB2ZWMzKDAuMCk7XFxuI2VuZGlmXFxufXZlYzMgbWl4X2dsb2JlX21lcmNhdG9yKHZlYzMgZ2xvYmUsdmVjMyBtZXJjYXRvcixmbG9hdCB0KSB7cmV0dXJuIG1peChnbG9iZSxtZXJjYXRvcix0KTt9bWF0MyBnbG9iZV9tZXJjYXRvcl9zdXJmYWNlX3ZlY3RvcnModmVjMyBwb3Nfbm9ybWFsLHZlYzMgdXBfZGlyLGZsb2F0IHpvb21fdHJhbnNpdGlvbikge3ZlYzMgbm9ybWFsPXpvb21fdHJhbnNpdGlvbj09MC4wID8gcG9zX25vcm1hbCA6IG5vcm1hbGl6ZShtaXgocG9zX25vcm1hbCx1cF9kaXIsem9vbV90cmFuc2l0aW9uKSk7dmVjMyB4QXhpcz1ub3JtYWxpemUodmVjMyhub3JtYWwueiwwLjAsLW5vcm1hbC54KSk7dmVjMyB5QXhpcz1ub3JtYWxpemUoY3Jvc3Mobm9ybWFsLHhBeGlzKSk7cmV0dXJuIG1hdDMoeEF4aXMseUF4aXMsbm9ybWFsKTt9XFxuI2VuZGlmXFxudmVjMiB1bnBhY2tfZmxvYXQoY29uc3QgZmxvYXQgcGFja2VkVmFsdWUpIHtpbnQgcGFja2VkSW50VmFsdWU9aW50KHBhY2tlZFZhbHVlKTtpbnQgdjA9cGFja2VkSW50VmFsdWUvMjU2O3JldHVybiB2ZWMyKHYwLHBhY2tlZEludFZhbHVlLXYwKjI1Nik7fXZlYzIgdW5wYWNrX29wYWNpdHkoY29uc3QgZmxvYXQgcGFja2VkT3BhY2l0eSkge2ludCBpbnRPcGFjaXR5PWludChwYWNrZWRPcGFjaXR5KS8yO3JldHVybiB2ZWMyKGZsb2F0KGludE9wYWNpdHkpLzEyNy4wLG1vZChwYWNrZWRPcGFjaXR5LDIuMCkpO312ZWM0IGRlY29kZV9jb2xvcihjb25zdCB2ZWMyIGVuY29kZWRDb2xvcikge3JldHVybiB2ZWM0KFxcbnVucGFja19mbG9hdChlbmNvZGVkQ29sb3JbMF0pLzI1NS4wLHVucGFja19mbG9hdChlbmNvZGVkQ29sb3JbMV0pLzI1NS4wXFxuKTt9ZmxvYXQgdW5wYWNrX21peF92ZWMyKGNvbnN0IHZlYzIgcGFja2VkVmFsdWUsY29uc3QgZmxvYXQgdCkge3JldHVybiBtaXgocGFja2VkVmFsdWVbMF0scGFja2VkVmFsdWVbMV0sdCk7fXZlYzQgdW5wYWNrX21peF9jb2xvcihjb25zdCB2ZWM0IHBhY2tlZENvbG9ycyxjb25zdCBmbG9hdCB0KSB7dmVjNCBtaW5Db2xvcj1kZWNvZGVfY29sb3IodmVjMihwYWNrZWRDb2xvcnNbMF0scGFja2VkQ29sb3JzWzFdKSk7dmVjNCBtYXhDb2xvcj1kZWNvZGVfY29sb3IodmVjMihwYWNrZWRDb2xvcnNbMl0scGFja2VkQ29sb3JzWzNdKSk7cmV0dXJuIG1peChtaW5Db2xvcixtYXhDb2xvcix0KTt9dmVjMiBnZXRfcGF0dGVybl9wb3MoY29uc3QgdmVjMiBwaXhlbF9jb29yZF91cHBlcixjb25zdCB2ZWMyIHBpeGVsX2Nvb3JkX2xvd2VyLGNvbnN0IHZlYzIgcGF0dGVybl9zaXplLGNvbnN0IGZsb2F0IHRpbGVfdW5pdHNfdG9fcGl4ZWxzLGNvbnN0IHZlYzIgcG9zKSB7dmVjMiBvZmZzZXQ9bW9kKG1vZChtb2QocGl4ZWxfY29vcmRfdXBwZXIscGF0dGVybl9zaXplKSoyNTYuMCxwYXR0ZXJuX3NpemUpKjI1Ni4wK3BpeGVsX2Nvb3JkX2xvd2VyLHBhdHRlcm5fc2l6ZSk7cmV0dXJuICh0aWxlX3VuaXRzX3RvX3BpeGVscypwb3Mrb2Zmc2V0KS9wYXR0ZXJuX3NpemU7fWNvbnN0IHZlYzQgQVdBWT12ZWM0KC0xMDAwLjAsLTEwMDAuMCwtMTAwMC4wLDEpOy8vTm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSB0aGF0IGlzIG5vdCByZW5kZXJlZC5cIiksdXI9dHIsaHI9XCJcXG4jaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZWxzZVxcblxcbiNpZiAhZGVmaW5lZChsb3dwKVxcbiNkZWZpbmUgbG93cFxcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChtZWRpdW1wKVxcbiNkZWZpbmUgbWVkaXVtcFxcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChoaWdocClcXG4jZGVmaW5lIGhpZ2hwXFxuI2VuZGlmXFxuXFxuI2VuZGlmXCI7dmFyIGRyPXtiYWNrZ3JvdW5kOmZyKFwidW5pZm9ybSB2ZWM0IHVfY29sb3I7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dm9pZCBtYWluKCkge3ZlYzQgb3V0X2NvbG9yPXVfY29sb3I7XFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKnVfb3BhY2l0eTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxiYWNrZ3JvdW5kUGF0dGVybjpmcihcInVuaWZvcm0gdmVjMiB1X3BhdHRlcm5fdGxfYTt1bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX2JyX2E7dW5pZm9ybSB2ZWMyIHVfcGF0dGVybl90bF9iO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnJfYjt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gZmxvYXQgdV9taXg7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2b2lkIG1haW4oKSB7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3Bvc19hLDEuMCk7dmVjMiBwb3M9bWl4KHVfcGF0dGVybl90bF9hL3VfdGV4c2l6ZSx1X3BhdHRlcm5fYnJfYS91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjNCBjb2xvcjE9dGV4dHVyZTJEKHVfaW1hZ2UscG9zKTt2ZWMyIGltYWdlY29vcmRfYj1tb2Qodl9wb3NfYiwxLjApO3ZlYzIgcG9zMj1taXgodV9wYXR0ZXJuX3RsX2IvdV90ZXhzaXplLHVfcGF0dGVybl9icl9iL3VfdGV4c2l6ZSxpbWFnZWNvb3JkX2IpO3ZlYzQgY29sb3IyPXRleHR1cmUyRCh1X2ltYWdlLHBvczIpO3ZlYzQgb3V0X2NvbG9yPW1peChjb2xvcjEsY29sb3IyLHVfbWl4KTtcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqdV9vcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3NpemVfYTt1bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3NpemVfYjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIGZsb2F0IHVfc2NhbGVfYTt1bmlmb3JtIGZsb2F0IHVfc2NhbGVfYjt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvc19hPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdV9zY2FsZV9hKnVfcGF0dGVybl9zaXplX2EsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxhX3Bvcyk7dl9wb3NfYj1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLHVfc2NhbGVfYip1X3BhdHRlcm5fc2l6ZV9iLHVfdGlsZV91bml0c190b19waXhlbHMsYV9wb3MpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLGNpcmNsZTpmcihcInZhcnlpbmcgdmVjMyB2X2RhdGE7dmFyeWluZyBmbG9hdCB2X3Zpc2liaWxpdHk7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHN0cm9rZV93aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBzdHJva2Vfb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgc3Ryb2tlX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBzdHJva2Vfb3BhY2l0eVxcbnZlYzIgZXh0cnVkZT12X2RhdGEueHk7ZmxvYXQgZXh0cnVkZV9sZW5ndGg9bGVuZ3RoKGV4dHJ1ZGUpO2xvd3AgZmxvYXQgYW50aWFsaWFzYmx1cj12X2RhdGEuejtmbG9hdCBhbnRpYWxpYXNlZF9ibHVyPS1tYXgoYmx1cixhbnRpYWxpYXNibHVyKTtmbG9hdCBvcGFjaXR5X3Q9c21vb3Roc3RlcCgwLjAsYW50aWFsaWFzZWRfYmx1cixleHRydWRlX2xlbmd0aC0xLjApO2Zsb2F0IGNvbG9yX3Q9c3Ryb2tlX3dpZHRoIDwgMC4wMSA/IDAuMCA6IHNtb290aHN0ZXAoXFxuYW50aWFsaWFzZWRfYmx1ciwwLjAsZXh0cnVkZV9sZW5ndGgtcmFkaXVzLyhyYWRpdXMrc3Ryb2tlX3dpZHRoKVxcbik7dmVjNCBvdXRfY29sb3I9bWl4KGNvbG9yKm9wYWNpdHksc3Ryb2tlX2NvbG9yKnN0cm9rZV9vcGFjaXR5LGNvbG9yX3QpO1xcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3Bvcyk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcioodl92aXNpYmlsaXR5Km9wYWNpdHlfdCk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiI2RlZmluZSBOVU1fVklTSUJJTElUWV9SSU5HUyAyXFxuI2RlZmluZSBJTlZfU1FSVDIgMC43MDcxMDY3OFxcbiNkZWZpbmUgRUxFVkFUSU9OX0JJQVMgMC4wMDAxXFxuI2RlZmluZSBOVU1fU0FNUExFU19QRVJfUklORyAxNlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDIgdV9leHRydWRlX3NjYWxlO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTthdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NfMzthdHRyaWJ1dGUgdmVjMyBhX3Bvc19ub3JtYWxfMzt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfdXBfZGlyO1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMyB2X2RhdGE7dmFyeWluZyBmbG9hdCB2X3Zpc2liaWxpdHk7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHN0cm9rZV93aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBzdHJva2Vfb3BhY2l0eVxcbnZlYzIgY2FsY19vZmZzZXQodmVjMiBleHRydXNpb24sZmxvYXQgcmFkaXVzLGZsb2F0IHN0cm9rZV93aWR0aCwgZmxvYXQgdmlld19zY2FsZSkge3JldHVybiBleHRydXNpb24qKHJhZGl1cytzdHJva2Vfd2lkdGgpKnVfZXh0cnVkZV9zY2FsZSp2aWV3X3NjYWxlO31mbG9hdCBjYW50aWxldmVyZWRfZWxldmF0aW9uKHZlYzIgcG9zLGZsb2F0IHJhZGl1cyxmbG9hdCBzdHJva2Vfd2lkdGgsZmxvYXQgdmlld19zY2FsZSkge3ZlYzIgYzE9cG9zK2NhbGNfb2Zmc2V0KHZlYzIoLTEsLTEpLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7dmVjMiBjMj1wb3MrY2FsY19vZmZzZXQodmVjMigxLC0xKSxyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO3ZlYzIgYzM9cG9zK2NhbGNfb2Zmc2V0KHZlYzIoMSwxKSxyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO3ZlYzIgYzQ9cG9zK2NhbGNfb2Zmc2V0KHZlYzIoLTEsMSkscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTtmbG9hdCBoMT1lbGV2YXRpb24oYzEpK0VMRVZBVElPTl9CSUFTO2Zsb2F0IGgyPWVsZXZhdGlvbihjMikrRUxFVkFUSU9OX0JJQVM7ZmxvYXQgaDM9ZWxldmF0aW9uKGMzKStFTEVWQVRJT05fQklBUztmbG9hdCBoND1lbGV2YXRpb24oYzQpK0VMRVZBVElPTl9CSUFTO3JldHVybiBtYXgoaDQsbWF4KGgzLG1heChoMSxoMikpKTt9ZmxvYXQgY2lyY2xlX2VsZXZhdGlvbih2ZWMyIHBvcykge1xcbiNpZiBkZWZpbmVkKFRFUlJBSU4pXFxucmV0dXJuIGVsZXZhdGlvbihwb3MpK0VMRVZBVElPTl9CSUFTO1xcbiNlbHNlXFxucmV0dXJuIDAuMDtcXG4jZW5kaWZcXG59dmVjNCBwcm9qZWN0X3ZlcnRleCh2ZWMyIGV4dHJ1c2lvbix2ZWM0IHdvcmxkX2NlbnRlcix2ZWM0IHByb2plY3RlZF9jZW50ZXIsZmxvYXQgcmFkaXVzLGZsb2F0IHN0cm9rZV93aWR0aCwgZmxvYXQgdmlld19zY2FsZSxtYXQzIHN1cmZhY2VfdmVjdG9ycykge3ZlYzIgc2FtcGxlX29mZnNldD1jYWxjX29mZnNldChleHRydXNpb24scmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTtcXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxucmV0dXJuIHVfbWF0cml4Kiggd29ybGRfY2VudGVyK3ZlYzQoc2FtcGxlX29mZnNldC54KnN1cmZhY2VfdmVjdG9yc1swXStzYW1wbGVfb2Zmc2V0Lnkqc3VyZmFjZV92ZWN0b3JzWzFdLDApICk7XFxuI2Vsc2VcXG5yZXR1cm4gdV9tYXRyaXgqKCB3b3JsZF9jZW50ZXIrdmVjNChzYW1wbGVfb2Zmc2V0LDAsMCkgKTtcXG4jZW5kaWZcXG4jZWxzZVxcbnJldHVybiBwcm9qZWN0ZWRfY2VudGVyK3ZlYzQoc2FtcGxlX29mZnNldCwwLDApO1xcbiNlbmRpZlxcbn1mbG9hdCBnZXRfc2FtcGxlX3N0ZXAoKSB7XFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQXFxucmV0dXJuIDIuMCpQSS9mbG9hdChOVU1fU0FNUExFU19QRVJfUklORyk7XFxuI2Vsc2VcXG5yZXR1cm4gUEkvZmxvYXQoTlVNX1NBTVBMRVNfUEVSX1JJTkcpO1xcbiNlbmRpZlxcbn12b2lkIG1haW4odm9pZCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudmVjMiBleHRydWRlPXZlYzIobW9kKGFfcG9zLDIuMCkqMi4wLTEuMCk7dmVjMiBjaXJjbGVfY2VudGVyPWZsb29yKGFfcG9zKjAuNSk7dmVjNCB3b3JsZF9jZW50ZXI7bWF0MyBzdXJmYWNlX3ZlY3RvcnM7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcG9zX25vcm1hbF8zPWFfcG9zX25vcm1hbF8zLzE2Mzg0LjA7c3VyZmFjZV92ZWN0b3JzPWdsb2JlX21lcmNhdG9yX3N1cmZhY2VfdmVjdG9ycyhwb3Nfbm9ybWFsXzMsdV91cF9kaXIsdV96b29tX3RyYW5zaXRpb24pO3ZlYzMgc3VyZmFjZV9leHRydXNpb249ZXh0cnVkZS54KnN1cmZhY2VfdmVjdG9yc1swXStleHRydWRlLnkqc3VyZmFjZV92ZWN0b3JzWzFdO3ZlYzMgZ2xvYmVfZWxldmF0aW9uPWVsZXZhdGlvblZlY3RvcihjaXJjbGVfY2VudGVyKSpjaXJjbGVfZWxldmF0aW9uKGNpcmNsZV9jZW50ZXIpO3ZlYzMgZ2xvYmVfcG9zPWFfcG9zXzMrc3VyZmFjZV9leHRydXNpb24rZ2xvYmVfZWxldmF0aW9uO3ZlYzMgbWVyY2F0b3JfZWxldmF0aW9uPXVfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSpjaXJjbGVfZWxldmF0aW9uKGNpcmNsZV9jZW50ZXIpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LGNpcmNsZV9jZW50ZXIsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3N1cmZhY2VfZXh0cnVzaW9uK21lcmNhdG9yX2VsZXZhdGlvbjt2ZWMzIHBvcz1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTt3b3JsZF9jZW50ZXI9dmVjNChwb3MsMSk7XFxuI2Vsc2UgXFxuc3VyZmFjZV92ZWN0b3JzPW1hdDMoMS4wKTtmbG9hdCBoZWlnaHQ9Y2lyY2xlX2VsZXZhdGlvbihjaXJjbGVfY2VudGVyKTt3b3JsZF9jZW50ZXI9dmVjNChjaXJjbGVfY2VudGVyLGhlaWdodCwxKTtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9jZW50ZXI9dV9tYXRyaXgqd29ybGRfY2VudGVyO2Zsb2F0IHZpZXdfc2NhbGU9MC4wO1xcbiNpZmRlZiBQSVRDSF9XSVRIX01BUFxcbiNpZmRlZiBTQ0FMRV9XSVRIX01BUFxcbnZpZXdfc2NhbGU9MS4wO1xcbiNlbHNlXFxudmlld19zY2FsZT1wcm9qZWN0ZWRfY2VudGVyLncvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO1xcbiNlbmRpZlxcbiNlbHNlXFxuI2lmZGVmIFNDQUxFX1dJVEhfTUFQXFxudmlld19zY2FsZT11X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7XFxuI2Vsc2VcXG52aWV3X3NjYWxlPXByb2plY3RlZF9jZW50ZXIudztcXG4jZW5kaWZcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbj1wcm9qZWN0X3ZlcnRleChleHRydWRlLHdvcmxkX2NlbnRlcixwcm9qZWN0ZWRfY2VudGVyLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSxzdXJmYWNlX3ZlY3RvcnMpO2Zsb2F0IHZpc2liaWxpdHk9MC4wO1xcbiNpZmRlZiBURVJSQUlOXFxuZmxvYXQgc3RlcD1nZXRfc2FtcGxlX3N0ZXAoKTt2ZWM0IG9jY2x1c2lvbl93b3JsZF9jZW50ZXI7dmVjNCBvY2NsdXNpb25fcHJvamVjdGVkX2NlbnRlcjtcXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBcXG5mbG9hdCBjYW50aWxldmVyZWRfaGVpZ2h0PWNhbnRpbGV2ZXJlZF9lbGV2YXRpb24oY2lyY2xlX2NlbnRlcixyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO29jY2x1c2lvbl93b3JsZF9jZW50ZXI9dmVjNChjaXJjbGVfY2VudGVyLGNhbnRpbGV2ZXJlZF9oZWlnaHQsMSk7b2NjbHVzaW9uX3Byb2plY3RlZF9jZW50ZXI9dV9tYXRyaXgqb2NjbHVzaW9uX3dvcmxkX2NlbnRlcjtcXG4jZWxzZVxcbm9jY2x1c2lvbl93b3JsZF9jZW50ZXI9d29ybGRfY2VudGVyO29jY2x1c2lvbl9wcm9qZWN0ZWRfY2VudGVyPXByb2plY3RlZF9jZW50ZXI7XFxuI2VuZGlmXFxuZm9yKGludCByaW5nPTA7IHJpbmcgPCBOVU1fVklTSUJJTElUWV9SSU5HUzsgcmluZysrKSB7ZmxvYXQgc2NhbGU9KGZsb2F0KHJpbmcpKzEuMCkvZmxvYXQoTlVNX1ZJU0lCSUxJVFlfUklOR1MpO2ZvcihpbnQgaT0wOyBpIDwgTlVNX1NBTVBMRVNfUEVSX1JJTkc7IGkrKykge3ZlYzIgZXh0cnVzaW9uPXZlYzIoY29zKHN0ZXAqZmxvYXQoaSkpLC1zaW4oc3RlcCpmbG9hdChpKSkpKnNjYWxlO3ZlYzQgZnJhZ19wb3M9cHJvamVjdF92ZXJ0ZXgoZXh0cnVzaW9uLG9jY2x1c2lvbl93b3JsZF9jZW50ZXIsb2NjbHVzaW9uX3Byb2plY3RlZF9jZW50ZXIscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlLHN1cmZhY2VfdmVjdG9ycyk7dmlzaWJpbGl0eSs9ZmxvYXQoIWlzT2NjbHVkZWQoZnJhZ19wb3MpKTt9fXZpc2liaWxpdHkvPWZsb2F0KE5VTV9WSVNJQklMSVRZX1JJTkdTKSpmbG9hdChOVU1fU0FNUExFU19QRVJfUklORyk7XFxuI2Vsc2VcXG52aXNpYmlsaXR5PTEuMDtcXG4jZW5kaWZcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmlzaWJpbGl0eT0xLjA7XFxuI2VuZGlmXFxudl92aXNpYmlsaXR5PXZpc2liaWxpdHk7bG93cCBmbG9hdCBhbnRpYWxpYXNibHVyPTEuMC91X2RldmljZV9waXhlbF9yYXRpby8ocmFkaXVzK3N0cm9rZV93aWR0aCk7dl9kYXRhPXZlYzMoZXh0cnVkZS54LGV4dHJ1ZGUueSxhbnRpYWxpYXNibHVyKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbih3b3JsZF9jZW50ZXIueHl6KTtcXG4jZW5kaWZcXG59XCIpLGNsaXBwaW5nTWFzazpmcihcInZvaWQgbWFpbigpIHtnbF9GcmFnQ29sb3I9dmVjNCgxLjApO31cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO31cIiksaGVhdG1hcDpmcihcInVuaWZvcm0gaGlnaHAgZmxvYXQgdV9pbnRlbnNpdHk7dmFyeWluZyB2ZWMyIHZfZXh0cnVkZTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IHdlaWdodFxcbiNkZWZpbmUgR0FVU1NfQ09FRiAwLjM5ODk0MjI4MDQwMTQzMjdcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuZmxvYXQgZD0tMC41KjMuMCozLjAqZG90KHZfZXh0cnVkZSx2X2V4dHJ1ZGUpO2Zsb2F0IHZhbD13ZWlnaHQqdV9pbnRlbnNpdHkqR0FVU1NfQ09FRipleHAoZCk7Z2xfRnJhZ0NvbG9yPXZlYzQodmFsLDEuMCwxLjAsMS4wKTtcXG4jaWZkZWYgRk9HXFxuaWYgKHVfaXNfZ2xvYmU9PTApIHtnbF9GcmFnQ29sb3Iucio9cG93KDEuMC1mb2dfb3BhY2l0eSh2X2ZvZ19wb3MpLDIuMCk7fVxcbiNlbmRpZlxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfZXh0cnVkZV9zY2FsZTt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGZsb2F0IHVfaW50ZW5zaXR5O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc18zO2F0dHJpYnV0ZSB2ZWMzIGFfcG9zX25vcm1hbF8zO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV91cF9kaXI7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfZXh0cnVkZTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IHdlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG5jb25zdCBoaWdocCBmbG9hdCBaRVJPPTEuMC8yNTUuMC8xNi4wO1xcbiNkZWZpbmUgR0FVU1NfQ09FRiAwLjM5ODk0MjI4MDQwMTQzMjdcXG52b2lkIG1haW4odm9pZCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IHdlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxudmVjMiB1bnNjYWxlZF9leHRydWRlPXZlYzIobW9kKGFfcG9zLDIuMCkqMi4wLTEuMCk7ZmxvYXQgUz1zcXJ0KC0yLjAqbG9nKFpFUk8vd2VpZ2h0L3VfaW50ZW5zaXR5L0dBVVNTX0NPRUYpKS8zLjA7dl9leHRydWRlPVMqdW5zY2FsZWRfZXh0cnVkZTt2ZWMyIGV4dHJ1ZGU9dl9leHRydWRlKnJhZGl1cyp1X2V4dHJ1ZGVfc2NhbGU7dmVjMiB0aWxlUG9zPWZsb29yKGFfcG9zKjAuNSk7dmVjMyBwb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcG9zX25vcm1hbF8zPWFfcG9zX25vcm1hbF8zLzE2Mzg0LjA7bWF0MyBzdXJmYWNlX3ZlY3RvcnM9Z2xvYmVfbWVyY2F0b3Jfc3VyZmFjZV92ZWN0b3JzKHBvc19ub3JtYWxfMyx1X3VwX2Rpcix1X3pvb21fdHJhbnNpdGlvbik7dmVjMyBzdXJmYWNlX2V4dHJ1c2lvbj1leHRydWRlLngqc3VyZmFjZV92ZWN0b3JzWzBdK2V4dHJ1ZGUueSpzdXJmYWNlX3ZlY3RvcnNbMV07dmVjMyBnbG9iZV9lbGV2YXRpb249ZWxldmF0aW9uVmVjdG9yKHRpbGVQb3MpKmVsZXZhdGlvbih0aWxlUG9zKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK3N1cmZhY2VfZXh0cnVzaW9uK2dsb2JlX2VsZXZhdGlvbjt2ZWMzIG1lcmNhdG9yX2VsZXZhdGlvbj11X3VwX2Rpcip1X3RpbGVfdXBfc2NhbGUqZWxldmF0aW9uKHRpbGVQb3MpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVQb3MsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3N1cmZhY2VfZXh0cnVzaW9uK21lcmNhdG9yX2VsZXZhdGlvbjtwb3M9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7XFxuI2Vsc2VcXG5wb3M9dmVjMyh0aWxlUG9zK2V4dHJ1ZGUsZWxldmF0aW9uKHRpbGVQb3MpKTtcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcywxKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwb3MpO1xcbiNlbmRpZlxcbn1cIiksaGVhdG1hcFRleHR1cmU6ZnIoXCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3VuaWZvcm0gc2FtcGxlcjJEIHVfY29sb3JfcmFtcDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2Zsb2F0IHQ9dGV4dHVyZTJEKHVfaW1hZ2Usdl9wb3MpLnI7dmVjNCBjb2xvcj10ZXh0dXJlMkQodV9jb2xvcl9yYW1wLHZlYzIodCwwLjUpKTtnbF9GcmFnQ29sb3I9Y29sb3IqdV9vcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgwLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dmVjNChhX3BvcywwLDEpO3ZfcG9zPWFfcG9zKjAuNSswLjU7fVwiKSxjb2xsaXNpb25Cb3g6ZnIoXCJ2YXJ5aW5nIGZsb2F0IHZfcGxhY2VkO3ZhcnlpbmcgZmxvYXQgdl9ub3RVc2VkO3ZvaWQgbWFpbigpIHt2ZWM0IHJlZCA9dmVjNCgxLjAsMC4wLDAuMCwxLjApO3ZlYzQgYmx1ZT12ZWM0KDAuMCwwLjAsMS4wLDAuNSk7Z2xfRnJhZ0NvbG9yID1taXgocmVkLGJsdWUsc3RlcCgwLjUsdl9wbGFjZWQpKSowLjU7Z2xfRnJhZ0NvbG9yKj1taXgoMS4wLDAuMSxzdGVwKDAuNSx2X25vdFVzZWQpKTt9XCIsXCJhdHRyaWJ1dGUgdmVjMyBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX2FuY2hvcl9wb3M7YXR0cmlidXRlIHZlYzIgYV9leHRydWRlO2F0dHJpYnV0ZSB2ZWMyIGFfcGxhY2VkO2F0dHJpYnV0ZSB2ZWMyIGFfc2hpZnQ7YXR0cmlidXRlIGZsb2F0IGFfc2l6ZV9zY2FsZTthdHRyaWJ1dGUgdmVjMiBhX3BhZGRpbmc7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dmFyeWluZyBmbG9hdCB2X3BsYWNlZDt2YXJ5aW5nIGZsb2F0IHZfbm90VXNlZDt2b2lkIG1haW4oKSB7dmVjNCBwcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zK2VsZXZhdGlvblZlY3RvcihhX2FuY2hvcl9wb3MpKmVsZXZhdGlvbihhX2FuY2hvcl9wb3MpLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkUG9pbnQudztoaWdocCBmbG9hdCBjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoXFxuMC41KzAuNSoodV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2UpLDAuMCwxLjUpO2dsX1Bvc2l0aW9uPXByb2plY3RlZFBvaW50O2dsX1Bvc2l0aW9uLnh5Kz0oYV9leHRydWRlKmFfc2l6ZV9zY2FsZSthX3NoaWZ0K2FfcGFkZGluZykqdV9leHRydWRlX3NjYWxlKmdsX1Bvc2l0aW9uLncqY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvO3ZfcGxhY2VkPWFfcGxhY2VkLng7dl9ub3RVc2VkPWFfcGxhY2VkLnk7fVwiKSxjb2xsaXNpb25DaXJjbGU6ZnIoXCJ2YXJ5aW5nIGZsb2F0IHZfcmFkaXVzO3ZhcnlpbmcgdmVjMiB2X2V4dHJ1ZGU7dmFyeWluZyBmbG9hdCB2X3BlcnNwZWN0aXZlX3JhdGlvO3ZhcnlpbmcgZmxvYXQgdl9jb2xsaXNpb247dm9pZCBtYWluKCkge2Zsb2F0IGFscGhhPTAuNSptaW4odl9wZXJzcGVjdGl2ZV9yYXRpbywxLjApO2Zsb2F0IHN0cm9rZV9yYWRpdXM9MC45Km1heCh2X3BlcnNwZWN0aXZlX3JhdGlvLDEuMCk7ZmxvYXQgZGlzdGFuY2VfdG9fY2VudGVyPWxlbmd0aCh2X2V4dHJ1ZGUpO2Zsb2F0IGRpc3RhbmNlX3RvX2VkZ2U9YWJzKGRpc3RhbmNlX3RvX2NlbnRlci12X3JhZGl1cyk7ZmxvYXQgb3BhY2l0eV90PXNtb290aHN0ZXAoLXN0cm9rZV9yYWRpdXMsMC4wLC1kaXN0YW5jZV90b19lZGdlKTt2ZWM0IGNvbG9yPW1peCh2ZWM0KDAuMCwwLjAsMS4wLDAuNSksdmVjNCgxLjAsMC4wLDAuMCwxLjApLHZfY29sbGlzaW9uKTtnbF9GcmFnQ29sb3I9Y29sb3IqYWxwaGEqb3BhY2l0eV90O31cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zXzJmO2F0dHJpYnV0ZSBmbG9hdCBhX3JhZGl1czthdHRyaWJ1dGUgdmVjMiBhX2ZsYWdzO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9pbnZfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3ZpZXdwb3J0X3NpemU7dW5pZm9ybSBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dmFyeWluZyBmbG9hdCB2X3JhZGl1czt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO3ZhcnlpbmcgZmxvYXQgdl9wZXJzcGVjdGl2ZV9yYXRpbzt2YXJ5aW5nIGZsb2F0IHZfY29sbGlzaW9uO3ZlYzMgdG9UaWxlUG9zaXRpb24odmVjMiBzY3JlZW5Qb3MpIHt2ZWM0IHJheVN0YXJ0PXVfaW52X21hdHJpeCp2ZWM0KHNjcmVlblBvcywtMS4wLDEuMCk7dmVjNCByYXlFbmQgID11X2ludl9tYXRyaXgqdmVjNChzY3JlZW5Qb3MsIDEuMCwxLjApO3JheVN0YXJ0Lnh5ei89cmF5U3RhcnQudztyYXlFbmQueHl6ICAvPXJheUVuZC53O2hpZ2hwIGZsb2F0IHQ9KDAuMC1yYXlTdGFydC56KS8ocmF5RW5kLnotcmF5U3RhcnQueik7cmV0dXJuIG1peChyYXlTdGFydC54eXoscmF5RW5kLnh5eix0KTt9dm9pZCBtYWluKCkge3ZlYzIgcXVhZENlbnRlclBvcz1hX3Bvc18yZjtmbG9hdCByYWRpdXM9YV9yYWRpdXM7ZmxvYXQgY29sbGlzaW9uPWFfZmxhZ3MueDtmbG9hdCB2ZXJ0ZXhJZHg9YV9mbGFncy55O3ZlYzIgcXVhZFZlcnRleE9mZnNldD12ZWMyKFxcbm1peCgtMS4wLDEuMCxmbG9hdCh2ZXJ0ZXhJZHggPj0yLjApKSxtaXgoLTEuMCwxLjAsZmxvYXQodmVydGV4SWR4ID49MS4wICYmIHZlcnRleElkeCA8PTIuMCkpKTt2ZWMyIHF1YWRWZXJ0ZXhFeHRlbnQ9cXVhZFZlcnRleE9mZnNldCpyYWRpdXM7dmVjMyB0aWxlUG9zPXRvVGlsZVBvc2l0aW9uKHF1YWRDZW50ZXJQb3MpO3ZlYzQgY2xpcFBvcz11X21hdHJpeCp2ZWM0KHRpbGVQb3MsMS4wKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPWNsaXBQb3MudztoaWdocCBmbG9hdCBjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoXFxuMC41KzAuNSoodV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2UpLDAuMCw0LjApO2Zsb2F0IHBhZGRpbmdfZmFjdG9yPTEuMjt2X3JhZGl1cz1yYWRpdXM7dl9leHRydWRlPXF1YWRWZXJ0ZXhFeHRlbnQqcGFkZGluZ19mYWN0b3I7dl9wZXJzcGVjdGl2ZV9yYXRpbz1jb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW87dl9jb2xsaXNpb249Y29sbGlzaW9uO2dsX1Bvc2l0aW9uPXZlYzQoY2xpcFBvcy54eXovY2xpcFBvcy53LDEuMCkrdmVjNChxdWFkVmVydGV4RXh0ZW50KnBhZGRpbmdfZmFjdG9yL3Vfdmlld3BvcnRfc2l6ZSoyLjAsMC4wLDAuMCk7fVwiKSxkZWJ1ZzpmcihcInVuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yO3VuaWZvcm0gc2FtcGxlcjJEIHVfb3ZlcmxheTt2YXJ5aW5nIHZlYzIgdl91djt2b2lkIG1haW4oKSB7dmVjNCBvdmVybGF5X2NvbG9yPXRleHR1cmUyRCh1X292ZXJsYXksdl91dik7Z2xfRnJhZ0NvbG9yPW1peCh1X2NvbG9yLG92ZXJsYXlfY29sb3Isb3ZlcmxheV9jb2xvci5hKTt9XCIsXCJhdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NfMztcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl91djt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X292ZXJsYXlfc2NhbGU7dm9pZCBtYWluKCkge2Zsb2F0IGg9ZWxldmF0aW9uKGFfcG9zKTt2X3V2PWFfcG9zLzgxOTIuMDtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3Bvc18zK2VsZXZhdGlvblZlY3RvcihhX3BvcykqaCwxKTtcXG4jZWxzZVxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MqdV9vdmVybGF5X3NjYWxlLGgsMSk7XFxuI2VuZGlmXFxufVwiKSxmaWxsOmZyKFwiI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZlYzQgb3V0X2NvbG9yPWNvbG9yO1xcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcipvcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLGZpbGxPdXRsaW5lOmZyKFwidmFyeWluZyB2ZWMyIHZfcG9zO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuZmxvYXQgZGlzdD1sZW5ndGgodl9wb3MtZ2xfRnJhZ0Nvb3JkLnh5KTtmbG9hdCBhbHBoYT0xLjAtc21vb3Roc3RlcCgwLjAsMS4wLGRpc3QpO3ZlYzQgb3V0X2NvbG9yPW91dGxpbmVfY29sb3I7XFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKihhbHBoYSpvcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvczt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfd29ybGQ7dmFyeWluZyB2ZWMyIHZfcG9zO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBvdXRsaW5lX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zPShnbF9Qb3NpdGlvbi54eS9nbF9Qb3NpdGlvbi53KzEuMCkvMi4wKnVfd29ybGQ7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksZmlsbE91dGxpbmVQYXR0ZXJuOmZyKFwidW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3VuaWZvcm0gZmxvYXQgdV9mYWRlO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO3ZhcnlpbmcgdmVjMiB2X3BvcztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxudmVjMiBwYXR0ZXJuX3RsX2E9cGF0dGVybl9mcm9tLnh5O3ZlYzIgcGF0dGVybl9icl9hPXBhdHRlcm5fZnJvbS56dzt2ZWMyIHBhdHRlcm5fdGxfYj1wYXR0ZXJuX3RvLnh5O3ZlYzIgcGF0dGVybl9icl9iPXBhdHRlcm5fdG8uenc7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3Bvc19hLDEuMCk7dmVjMiBwb3M9bWl4KHBhdHRlcm5fdGxfYS91X3RleHNpemUscGF0dGVybl9icl9hL3VfdGV4c2l6ZSxpbWFnZWNvb3JkKTt2ZWM0IGNvbG9yMT10ZXh0dXJlMkQodV9pbWFnZSxwb3MpO3ZlYzIgaW1hZ2Vjb29yZF9iPW1vZCh2X3Bvc19iLDEuMCk7dmVjMiBwb3MyPW1peChwYXR0ZXJuX3RsX2IvdV90ZXhzaXplLHBhdHRlcm5fYnJfYi91X3RleHNpemUsaW1hZ2Vjb29yZF9iKTt2ZWM0IGNvbG9yMj10ZXh0dXJlMkQodV9pbWFnZSxwb3MyKTtmbG9hdCBkaXN0PWxlbmd0aCh2X3Bvcy1nbF9GcmFnQ29vcmQueHkpO2Zsb2F0IGFscGhhPTEuMC1zbW9vdGhzdGVwKDAuMCwxLjAsZGlzdCk7dmVjNCBvdXRfY29sb3I9bWl4KGNvbG9yMSxjb2xvcjIsdV9mYWRlKTtcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqKGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV93b3JsZDt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIHZlYzMgdV9zY2FsZTthdHRyaWJ1dGUgdmVjMiBhX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3NfYTt2YXJ5aW5nIHZlYzIgdl9wb3NfYjt2YXJ5aW5nIHZlYzIgdl9wb3M7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O2Zsb2F0IHRpbGVSYXRpbz11X3NjYWxlLng7ZmxvYXQgZnJvbVNjYWxlPXVfc2NhbGUueTtmbG9hdCB0b1NjYWxlPXVfc2NhbGUuejtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dmVjMiBkaXNwbGF5X3NpemVfYT0ocGF0dGVybl9icl9hLXBhdHRlcm5fdGxfYSkvcGl4ZWxfcmF0aW9fZnJvbTt2ZWMyIGRpc3BsYXlfc2l6ZV9iPShwYXR0ZXJuX2JyX2ItcGF0dGVybl90bF9iKS9waXhlbF9yYXRpb190bzt2X3Bvc19hPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsZnJvbVNjYWxlKmRpc3BsYXlfc2l6ZV9hLHRpbGVSYXRpbyxhX3Bvcyk7dl9wb3NfYj1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLHRvU2NhbGUqZGlzcGxheV9zaXplX2IsdGlsZVJhdGlvLGFfcG9zKTt2X3Bvcz0oZ2xfUG9zaXRpb24ueHkvZ2xfUG9zaXRpb24udysxLjApLzIuMCp1X3dvcmxkO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLGZpbGxQYXR0ZXJuOmZyKFwidW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIGZsb2F0IHVfZmFkZTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fdG9cXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dzt2ZWMyIGltYWdlY29vcmQ9bW9kKHZfcG9zX2EsMS4wKTt2ZWMyIHBvcz1taXgocGF0dGVybl90bF9hL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyX2EvdV90ZXhzaXplLGltYWdlY29vcmQpO3ZlYzQgY29sb3IxPXRleHR1cmUyRCh1X2ltYWdlLHBvcyk7dmVjMiBpbWFnZWNvb3JkX2I9bW9kKHZfcG9zX2IsMS4wKTt2ZWMyIHBvczI9bWl4KHBhdHRlcm5fdGxfYi91X3RleHNpemUscGF0dGVybl9icl9iL3VfdGV4c2l6ZSxpbWFnZWNvb3JkX2IpO3ZlYzQgY29sb3IyPXRleHR1cmUyRCh1X2ltYWdlLHBvczIpO3ZlYzQgb3V0X2NvbG9yPW1peChjb2xvcjEsY29sb3IyLHVfZmFkZSk7XFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKm9wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gdmVjMyB1X3NjYWxlO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvc19hO3ZhcnlpbmcgdmVjMiB2X3Bvc19iO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dztmbG9hdCB0aWxlWm9vbVJhdGlvPXVfc2NhbGUueDtmbG9hdCBmcm9tU2NhbGU9dV9zY2FsZS55O2Zsb2F0IHRvU2NhbGU9dV9zY2FsZS56O3ZlYzIgZGlzcGxheV9zaXplX2E9KHBhdHRlcm5fYnJfYS1wYXR0ZXJuX3RsX2EpL3BpeGVsX3JhdGlvX2Zyb207dmVjMiBkaXNwbGF5X3NpemVfYj0ocGF0dGVybl9icl9iLXBhdHRlcm5fdGxfYikvcGl4ZWxfcmF0aW9fdG87Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZfcG9zX2E9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcixmcm9tU2NhbGUqZGlzcGxheV9zaXplX2EsdGlsZVpvb21SYXRpbyxhX3Bvcyk7dl9wb3NfYj1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLHRvU2NhbGUqZGlzcGxheV9zaXplX2IsdGlsZVpvb21SYXRpbyxhX3Bvcyk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksZmlsbEV4dHJ1c2lvbjpmcihcInZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZhcnlpbmcgaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyBoaWdocCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxuI2lmZGVmIEZBVVhfQU9cXG51bmlmb3JtIGxvd3AgdmVjMiB1X2FvO3ZhcnlpbmcgdmVjMyB2X2FvO1xcbiNlbmRpZlxcbiNpZmRlZiBaRVJPX1JPT0ZfUkFESVVTXFxudmFyeWluZyB2ZWM0IHZfcm9vZl9jb2xvcjtcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChaRVJPX1JPT0ZfUkFESVVTKSB8fCBkZWZpbmVkKFJFTkRFUl9TSEFET1dTKVxcbnZhcnlpbmcgaGlnaHAgdmVjMyB2X25vcm1hbDtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7XFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgfHwgZGVmaW5lZChSRU5ERVJfU0hBRE9XUylcXG52ZWMzIG5vcm1hbD12X25vcm1hbDtcXG4jZW5kaWZcXG5mbG9hdCB6O3ZlYzQgY29sb3I7XFxuI2lmZGVmIFpFUk9fUk9PRl9SQURJVVNcXG56PWZsb2F0KG5vcm1hbC56ID4gMC4wMDAwMSk7Y29sb3I9bWl4KHZfY29sb3Isdl9yb29mX2NvbG9yLHopO1xcbiNlbHNlXFxuY29sb3I9dl9jb2xvcjtcXG4jZW5kaWZcXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGludGVuc2l0eT11X2FvWzBdO2Zsb2F0IGg9bWF4KDAuMCx2X2FvLnopO2Zsb2F0IGhfZmxvb3JzPWgvdV9hb1sxXTtmbG9hdCB5X3NoYWRlPTEuMC0wLjkqaW50ZW5zaXR5Km1pbih2X2FvLnksMS4wKTtmbG9hdCBzaGFkZT0oMS4wLTAuMDgqaW50ZW5zaXR5KSooeV9zaGFkZSsoMS4wLXlfc2hhZGUpKigxLjAtcG93KDEuMC1taW4oaF9mbG9vcnMvMTYuMCwxLjApLDE2LjApKSkrMC4wOCppbnRlbnNpdHkqbWluKGhfZmxvb3JzLzE2MC4wLDEuMCk7ZmxvYXQgY29uY2F2ZT12X2FvLngqdl9hby54O1xcbiNpZmRlZiBaRVJPX1JPT0ZfUkFESVVTXFxuY29uY2F2ZSo9KDEuMC16KTtcXG4jZW5kaWZcXG5mbG9hdCB4X3NoYWRlPW1peCgxLjAsbWl4KDAuNiwwLjc1LG1pbihoX2Zsb29ycy8zMC4wLDEuMCkpLGludGVuc2l0eSkrMC4xKmludGVuc2l0eSptaW4oaCwxLjApO3NoYWRlKj1taXgoMS4wLHhfc2hhZGUqeF9zaGFkZSp4X3NoYWRlLGNvbmNhdmUpO2NvbG9yLnJnYj1jb2xvci5yZ2Iqc2hhZGU7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxuI2lmZGVmIFpFUk9fUk9PRl9SQURJVVNcXG5ub3JtYWw9bWl4KG5vcm1hbCx2ZWMzKDAuMCwwLjAsMS4wKSx6KTtcXG4jZW5kaWZcXG5jb2xvci54eXo9c2hhZG93ZWRfY29sb3Jfbm9ybWFsKGNvbG9yLnh5eixub3JtYWxpemUobm9ybWFsKSx2X3Bvc19saWdodF92aWV3XzAsdl9wb3NfbGlnaHRfdmlld18xLHZfZGVwdGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGNvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMzIHVfbGlnaHRjb2xvcjt1bmlmb3JtIGxvd3AgdmVjMyB1X2xpZ2h0cG9zO3VuaWZvcm0gbG93cCBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O3VuaWZvcm0gZmxvYXQgdV92ZXJ0aWNhbF9ncmFkaWVudDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gZmxvYXQgdV9lZGdlX3JhZGl1czthdHRyaWJ1dGUgdmVjNCBhX3Bvc19ub3JtYWxfZWQ7YXR0cmlidXRlIHZlYzIgYV9jZW50cm9pZF9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzM7YXR0cmlidXRlIHZlYzMgYV9wb3Nfbm9ybWFsXzM7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X3VwX2Rpcjt1bmlmb3JtIGZsb2F0IHVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWM0IHZfY29sb3I7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzA7dW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzE7dmFyeWluZyBoaWdocCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDtcXG4jZW5kaWZcXG4jaWZkZWYgWkVST19ST09GX1JBRElVU1xcbnZhcnlpbmcgdmVjNCB2X3Jvb2ZfY29sb3I7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgfHwgZGVmaW5lZChSRU5ERVJfU0hBRE9XUylcXG52YXJ5aW5nIGhpZ2hwIHZlYzMgdl9ub3JtYWw7XFxuI2VuZGlmXFxuI2lmZGVmIEZBVVhfQU9cXG51bmlmb3JtIGxvd3AgdmVjMiB1X2FvO3ZhcnlpbmcgdmVjMyB2X2FvO1xcbiNlbmRpZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxudmVjNCBwb3Nfbng9Zmxvb3IoYV9wb3Nfbm9ybWFsX2VkKjAuNSk7dmVjNCB0b3BfdXBfbnlfc3RhcnQ9YV9wb3Nfbm9ybWFsX2VkLTIuMCpwb3Nfbng7dmVjMyB0b3BfdXBfbnk9dG9wX3VwX255X3N0YXJ0Lnh5ejtmbG9hdCB4X25vcm1hbD1wb3Nfbnguei84MTkyLjA7dmVjMyBub3JtYWw9dG9wX3VwX255Lnk9PTEuMCA/IHZlYzMoMC4wLDAuMCwxLjApIDogbm9ybWFsaXplKHZlYzMoeF9ub3JtYWwsKDIuMCp0b3BfdXBfbnkuei0xLjApKigxLjAtYWJzKHhfbm9ybWFsKSksMC4wKSk7XFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgfHwgZGVmaW5lZChSRU5ERVJfU0hBRE9XUylcXG52X25vcm1hbD1ub3JtYWw7XFxuI2VuZGlmXFxuYmFzZT1tYXgoMC4wLGJhc2UpO2hlaWdodD1tYXgoMC4wLHRvcF91cF9ueS55PT0wLjAgJiYgdG9wX3VwX255Lng9PTEuMCA/IGhlaWdodC11X2VkZ2VfcmFkaXVzIDogaGVpZ2h0KTtmbG9hdCB0PXRvcF91cF9ueS54O3ZlYzIgY2VudHJvaWRfcG9zPXZlYzIoMC4wKTtcXG4jaWYgZGVmaW5lZChIQVNfQ0VOVFJPSUQpIHx8IGRlZmluZWQoVEVSUkFJTilcXG5jZW50cm9pZF9wb3M9YV9jZW50cm9pZF9wb3M7XFxuI2VuZGlmXFxuZmxvYXQgZWxlPTAuMDtmbG9hdCBoPTAuMDtmbG9hdCBjX2VsZTt2ZWMzIHBvcztcXG4jaWZkZWYgVEVSUkFJTlxcbmJvb2wgZmxhdF9yb29mPWNlbnRyb2lkX3Bvcy54ICE9MC4wICYmIHQgPiAwLjA7ZWxlPWVsZXZhdGlvbihwb3NfbngueHkpO2NfZWxlPWZsYXRfcm9vZiA/IGNlbnRyb2lkX3Bvcy55PT0wLjAgPyBlbGV2YXRpb25Gcm9tVWludDE2KGNlbnRyb2lkX3Bvcy54KSA6IGZsYXRFbGV2YXRpb24oY2VudHJvaWRfcG9zKSA6IGVsZTtoPWZsYXRfcm9vZiA/IG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSA6IGVsZSsodCA+IDAuMCA/IGhlaWdodCA6IGJhc2U9PTAuMCA/LTUuMCA6IGJhc2UpO3Bvcz12ZWMzKHBvc19ueC54eSxoKTtcXG4jZWxzZVxcbmg9dCA+IDAuMCA/IGhlaWdodCA6IGJhc2U7cG9zPXZlYzMocG9zX254Lnh5LGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5mbG9hdCBsaWZ0PWZsb2F0KCh0K2Jhc2UpID4gMC4wKSp1X2hlaWdodF9saWZ0O2grPWxpZnQ7dmVjMyBnbG9iZV9ub3JtYWw9bm9ybWFsaXplKG1peChhX3Bvc19ub3JtYWxfMy8xNjM4NC4wLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKSk7dmVjMyBnbG9iZV9wb3M9YV9wb3NfMytnbG9iZV9ub3JtYWwqKHVfdGlsZV91cF9zY2FsZSpoKTt2ZWMzIG1lcmNfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCxwb3MueHksdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3VfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSpwb3Muejtwb3M9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxuZmxvYXQgaGlkZGVuPWZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjAgJiYgY2VudHJvaWRfcG9zLnk9PTEuMCk7Z2xfUG9zaXRpb249bWl4KHVfbWF0cml4KnZlYzQocG9zLDEpLEFXQVksaGlkZGVuKTtcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG52X3Bvc19saWdodF92aWV3XzA9dV9saWdodF9tYXRyaXhfMCp2ZWM0KHBvcywxKTt2X3Bvc19saWdodF92aWV3XzE9dV9saWdodF9tYXRyaXhfMSp2ZWM0KHBvcywxKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxuZmxvYXQgY29sb3J2YWx1ZT1jb2xvci5yKjAuMjEyNitjb2xvci5nKjAuNzE1Mitjb2xvci5iKjAuMDcyMjt2X2NvbG9yPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTt2ZWM0IGFtYmllbnRsaWdodD12ZWM0KDAuMDMsMC4wMywwLjAzLDEuMCk7Y29sb3IrPWFtYmllbnRsaWdodDtmbG9hdCBkaXJlY3Rpb25hbD1jbGFtcChkb3Qobm9ybWFsLHVfbGlnaHRwb3MpLDAuMCwxLjApO2RpcmVjdGlvbmFsPW1peCgoMS4wLXVfbGlnaHRpbnRlbnNpdHkpLG1heCgoMS4wLWNvbG9ydmFsdWUrdV9saWdodGludGVuc2l0eSksMS4wKSxkaXJlY3Rpb25hbCk7aWYgKG5vcm1hbC55ICE9MC4wKSB7ZGlyZWN0aW9uYWwqPShcXG4oMS4wLXVfdmVydGljYWxfZ3JhZGllbnQpKyh1X3ZlcnRpY2FsX2dyYWRpZW50KmNsYW1wKCh0K2Jhc2UpKnBvdyhoZWlnaHQvMTUwLjAsMC41KSxtaXgoMC43LDAuOTgsMS4wLXVfbGlnaHRpbnRlbnNpdHkpLDEuMCkpKTt9XFxuI2lmZGVmIEZBVVhfQU9cXG5mbG9hdCBjb25jYXZlPXBvc19ueC53LWZsb29yKHBvc19ueC53KjAuNSkqMi4wO2Zsb2F0IHN0YXJ0PXRvcF91cF9ueV9zdGFydC53O2Zsb2F0IHlfZ3JvdW5kPTEuMC1jbGFtcCh0K2Jhc2UsMC4wLDEuMCk7ZmxvYXQgdG9wX2hlaWdodD1oZWlnaHQ7XFxuI2lmZGVmIFRFUlJBSU5cXG50b3BfaGVpZ2h0PW1peChtYXgoY19lbGUraGVpZ2h0LGVsZStiYXNlKzIuMCksZWxlK2hlaWdodCxmbG9hdChjZW50cm9pZF9wb3MueD09MC4wKSktZWxlO3lfZ3JvdW5kKz15X2dyb3VuZCo1LjAvbWF4KDMuMCx0b3BfaGVpZ2h0KTtcXG4jZW5kaWZcXG52X2FvPXZlYzMobWl4KGNvbmNhdmUsLWNvbmNhdmUsc3RhcnQpLHlfZ3JvdW5kLGgtZWxlKTtkaXJlY3Rpb25hbCo9KDEuMCswLjA1KigxLjAtdG9wX3VwX255LnkpKnVfYW9bMF0pO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG50b3BfaGVpZ2h0Kz11X2hlaWdodF9saWZ0O1xcbiNlbmRpZlxcbmdsX1Bvc2l0aW9uLnotPSgwLjAwMDAwMDYqKG1pbih0b3BfaGVpZ2h0LDUwMC4pKzIuMCptaW4oYmFzZSw1MDAuMCkrNjAuMCpjb25jYXZlKzMuMCpzdGFydCkpKmdsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxudl9jb2xvci5yZ2IrPWNsYW1wKGNvbG9yLnJnYipkaXJlY3Rpb25hbCp1X2xpZ2h0Y29sb3IsbWl4KHZlYzMoMC4wKSx2ZWMzKDAuMyksMS4wLXVfbGlnaHRjb2xvciksdmVjMygxLjApKTt2X2NvbG9yKj11X29wYWNpdHk7XFxuI2lmZGVmIFpFUk9fUk9PRl9SQURJVVNcXG52X3Jvb2ZfY29sb3I9dmVjNCgwLjAsMC4wLDAuMCwxLjApO2Zsb2F0IHJvb2ZfcmFkaWFuY2U9Y2xhbXAodV9saWdodHBvcy56LDAuMCwxLjApO3Jvb2ZfcmFkaWFuY2U9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgxLjAtY29sb3J2YWx1ZSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLHJvb2ZfcmFkaWFuY2UpO3Zfcm9vZl9jb2xvci5yZ2IrPWNsYW1wKGNvbG9yLnJnYipyb29mX3JhZGlhbmNlKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO3Zfcm9vZl9jb2xvcio9dV9vcGFjaXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHBvcyk7XFxuI2VuZGlmXFxufVwiKSxmaWxsRXh0cnVzaW9uUGF0dGVybjpmcihcInVuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBmbG9hdCB1X2ZhZGU7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTtcXG4jaWZkZWYgRkFVWF9BT1xcbnVuaWZvcm0gbG93cCB2ZWMyIHVfYW87dmFyeWluZyB2ZWMzIHZfYW87XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7dmFyeWluZyB2ZWM0IHZfbGlnaHRpbmc7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX3RvXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbnZlYzIgcGF0dGVybl90bF9hPXBhdHRlcm5fZnJvbS54eTt2ZWMyIHBhdHRlcm5fYnJfYT1wYXR0ZXJuX2Zyb20uenc7dmVjMiBwYXR0ZXJuX3RsX2I9cGF0dGVybl90by54eTt2ZWMyIHBhdHRlcm5fYnJfYj1wYXR0ZXJuX3RvLnp3O3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3NfYSwxLjApO3ZlYzIgcG9zPW1peChwYXR0ZXJuX3RsX2EvdV90ZXhzaXplLHBhdHRlcm5fYnJfYS91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjNCBjb2xvcjE9dGV4dHVyZTJEKHVfaW1hZ2UscG9zKTt2ZWMyIGltYWdlY29vcmRfYj1tb2Qodl9wb3NfYiwxLjApO3ZlYzIgcG9zMj1taXgocGF0dGVybl90bF9iL3VfdGV4c2l6ZSxwYXR0ZXJuX2JyX2IvdV90ZXhzaXplLGltYWdlY29vcmRfYik7dmVjNCBjb2xvcjI9dGV4dHVyZTJEKHVfaW1hZ2UscG9zMik7dmVjNCBvdXRfY29sb3I9bWl4KGNvbG9yMSxjb2xvcjIsdV9mYWRlKTtvdXRfY29sb3I9b3V0X2NvbG9yKnZfbGlnaHRpbmc7XFxuI2lmZGVmIEZBVVhfQU9cXG5mbG9hdCBpbnRlbnNpdHk9dV9hb1swXTtmbG9hdCBoPW1heCgwLjAsdl9hby56KTtmbG9hdCBoX2Zsb29ycz1oL3VfYW9bMV07ZmxvYXQgeV9zaGFkZT0xLjAtMC45KmludGVuc2l0eSptaW4odl9hby55LDEuMCk7ZmxvYXQgc2hhZGU9KDEuMC0wLjA4KmludGVuc2l0eSkqKHlfc2hhZGUrKDEuMC15X3NoYWRlKSooMS4wLXBvdygxLjAtbWluKGhfZmxvb3JzLzE2LjAsMS4wKSwxNi4wKSkpKzAuMDgqaW50ZW5zaXR5Km1pbihoX2Zsb29ycy8xNjAuMCwxLjApO2Zsb2F0IGNvbmNhdmU9dl9hby54KnZfYW8ueDtmbG9hdCB4X3NoYWRlPW1peCgxLjAsbWl4KDAuNiwwLjc1LG1pbihoX2Zsb29ycy8zMC4wLDEuMCkpLGludGVuc2l0eSkrMC4xKmludGVuc2l0eSptaW4oaCwxLjApO3NoYWRlKj1taXgoMS4wLHhfc2hhZGUqeF9zaGFkZSp4X3NoYWRlLGNvbmNhdmUpO291dF9jb2xvci5yZ2I9b3V0X2NvbG9yLnJnYipzaGFkZTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3I7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX3VwcGVyO3VuaWZvcm0gdmVjMiB1X3BpeGVsX2Nvb3JkX2xvd2VyO3VuaWZvcm0gZmxvYXQgdV9oZWlnaHRfZmFjdG9yO3VuaWZvcm0gdmVjMyB1X3NjYWxlO3VuaWZvcm0gZmxvYXQgdV92ZXJ0aWNhbF9ncmFkaWVudDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gdmVjMyB1X2xpZ2h0Y29sb3I7dW5pZm9ybSBsb3dwIHZlYzMgdV9saWdodHBvczt1bmlmb3JtIGxvd3AgZmxvYXQgdV9saWdodGludGVuc2l0eTthdHRyaWJ1dGUgdmVjNCBhX3Bvc19ub3JtYWxfZWQ7YXR0cmlidXRlIHZlYzIgYV9jZW50cm9pZF9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzM7YXR0cmlidXRlIHZlYzMgYV9wb3Nfbm9ybWFsXzM7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X3VwX2Rpcjt1bmlmb3JtIGZsb2F0IHVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfcG9zX2E7dmFyeWluZyB2ZWMyIHZfcG9zX2I7dmFyeWluZyB2ZWM0IHZfbGlnaHRpbmc7XFxuI2lmZGVmIEZBVVhfQU9cXG51bmlmb3JtIGxvd3AgdmVjMiB1X2FvO3ZhcnlpbmcgdmVjMyB2X2FvO1xcbiNlbmRpZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dztmbG9hdCB0aWxlUmF0aW89dV9zY2FsZS54O2Zsb2F0IGZyb21TY2FsZT11X3NjYWxlLnk7ZmxvYXQgdG9TY2FsZT11X3NjYWxlLno7dmVjNCBwb3Nfbng9Zmxvb3IoYV9wb3Nfbm9ybWFsX2VkKjAuNSk7bWVkaXVtcCB2ZWM0IHRvcF91cF9ueV9zdGFydD1hX3Bvc19ub3JtYWxfZWQtMi4wKnBvc19ueDttZWRpdW1wIHZlYzMgdG9wX3VwX255PXRvcF91cF9ueV9zdGFydC54eXo7ZmxvYXQgeF9ub3JtYWw9cG9zX254LnovODE5Mi4wO3ZlYzMgbm9ybWFsPXRvcF91cF9ueS55PT0xLjAgPyB2ZWMzKDAuMCwwLjAsMS4wKSA6IG5vcm1hbGl6ZSh2ZWMzKHhfbm9ybWFsLCgyLjAqdG9wX3VwX255LnotMS4wKSooMS4wLWFicyh4X25vcm1hbCkpLDAuMCkpO2Zsb2F0IGVkZ2VkaXN0YW5jZT1hX3Bvc19ub3JtYWxfZWQudzt2ZWMyIGRpc3BsYXlfc2l6ZV9hPShwYXR0ZXJuX2JyX2EtcGF0dGVybl90bF9hKS9waXhlbF9yYXRpb19mcm9tO3ZlYzIgZGlzcGxheV9zaXplX2I9KHBhdHRlcm5fYnJfYi1wYXR0ZXJuX3RsX2IpL3BpeGVsX3JhdGlvX3RvO2Jhc2U9bWF4KDAuMCxiYXNlKTtoZWlnaHQ9bWF4KDAuMCxoZWlnaHQpO2Zsb2F0IHQ9dG9wX3VwX255Lng7ZmxvYXQgej10ID4gMC4wID8gaGVpZ2h0IDogYmFzZTt2ZWMyIGNlbnRyb2lkX3Bvcz12ZWMyKDAuMCk7XFxuI2lmIGRlZmluZWQoSEFTX0NFTlRST0lEKSB8fCBkZWZpbmVkKFRFUlJBSU4pXFxuY2VudHJvaWRfcG9zPWFfY2VudHJvaWRfcG9zO1xcbiNlbmRpZlxcbmZsb2F0IGVsZT0wLjA7ZmxvYXQgaD16O3ZlYzMgcDtmbG9hdCBjX2VsZTtcXG4jaWZkZWYgVEVSUkFJTlxcbmJvb2wgZmxhdF9yb29mPWNlbnRyb2lkX3Bvcy54ICE9MC4wICYmIHQgPiAwLjA7ZWxlPWVsZXZhdGlvbihwb3NfbngueHkpO2NfZWxlPWZsYXRfcm9vZiA/IGNlbnRyb2lkX3Bvcy55PT0wLjAgPyBlbGV2YXRpb25Gcm9tVWludDE2KGNlbnRyb2lkX3Bvcy54KSA6IGZsYXRFbGV2YXRpb24oY2VudHJvaWRfcG9zKSA6IGVsZTtoPWZsYXRfcm9vZiA/IG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSA6IGVsZSsodCA+IDAuMCA/IGhlaWdodCA6IGJhc2U9PTAuMCA/LTUuMCA6IGJhc2UpO3A9dmVjMyhwb3NfbngueHksaCk7XFxuI2Vsc2VcXG5wPXZlYzMocG9zX254Lnh5LHopO1xcbiNlbmRpZlxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5mbG9hdCBsaWZ0PWZsb2F0KCh0K2Jhc2UpID4gMC4wKSp1X2hlaWdodF9saWZ0O2grPWxpZnQ7dmVjMyBnbG9iZV9ub3JtYWw9bm9ybWFsaXplKG1peChhX3Bvc19ub3JtYWxfMy8xNjM4NC4wLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKSk7dmVjMyBnbG9iZV9wb3M9YV9wb3NfMytnbG9iZV9ub3JtYWwqKHVfdGlsZV91cF9zY2FsZSoocC56K2xpZnQpKTt2ZWMzIG1lcmNfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCxwLnh5LHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKSt1X3VwX2Rpcip1X3RpbGVfdXBfc2NhbGUqcC56O3A9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxuZmxvYXQgaGlkZGVuPWZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjAgJiYgY2VudHJvaWRfcG9zLnk9PTEuMCk7Z2xfUG9zaXRpb249bWl4KHVfbWF0cml4KnZlYzQocCwxKSxBV0FZLGhpZGRlbik7dmVjMiBwb3M9bm9ybWFsLno9PTEuMFxcbj8gcG9zX254Lnh5XFxuOiB2ZWMyKGVkZ2VkaXN0YW5jZSx6KnVfaGVpZ2h0X2ZhY3Rvcik7dl9wb3NfYT1nZXRfcGF0dGVybl9wb3ModV9waXhlbF9jb29yZF91cHBlcix1X3BpeGVsX2Nvb3JkX2xvd2VyLGZyb21TY2FsZSpkaXNwbGF5X3NpemVfYSx0aWxlUmF0aW8scG9zKTt2X3Bvc19iPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsdG9TY2FsZSpkaXNwbGF5X3NpemVfYix0aWxlUmF0aW8scG9zKTt2X2xpZ2h0aW5nPXZlYzQoMC4wLDAuMCwwLjAsMS4wKTtmbG9hdCBkaXJlY3Rpb25hbD1jbGFtcChkb3Qobm9ybWFsLHVfbGlnaHRwb3MpLDAuMCwxLjApO2RpcmVjdGlvbmFsPW1peCgoMS4wLXVfbGlnaHRpbnRlbnNpdHkpLG1heCgoMC41K3VfbGlnaHRpbnRlbnNpdHkpLDEuMCksZGlyZWN0aW9uYWwpO2lmIChub3JtYWwueSAhPTAuMCkge2RpcmVjdGlvbmFsKj0oXFxuKDEuMC11X3ZlcnRpY2FsX2dyYWRpZW50KSsodV92ZXJ0aWNhbF9ncmFkaWVudCpjbGFtcCgodCtiYXNlKSpwb3coaGVpZ2h0LzE1MC4wLDAuNSksbWl4KDAuNywwLjk4LDEuMC11X2xpZ2h0aW50ZW5zaXR5KSwxLjApKSk7fVxcbiNpZmRlZiBGQVVYX0FPXFxuZmxvYXQgY29uY2F2ZT1wb3Nfbngudy1mbG9vcihwb3NfbngudyowLjUpKjIuMDtmbG9hdCBzdGFydD10b3BfdXBfbnlfc3RhcnQudztmbG9hdCB5X2dyb3VuZD0xLjAtY2xhbXAodCtiYXNlLDAuMCwxLjApO2Zsb2F0IHRvcF9oZWlnaHQ9aGVpZ2h0O1xcbiNpZmRlZiBURVJSQUlOXFxudG9wX2hlaWdodD1taXgobWF4KGNfZWxlK2hlaWdodCxlbGUrYmFzZSsyLjApLGVsZStoZWlnaHQsZmxvYXQoY2VudHJvaWRfcG9zLng9PTAuMCkpLWVsZTt5X2dyb3VuZCs9eV9ncm91bmQqNS4wL21heCgzLjAsdG9wX2hlaWdodCk7XFxuI2VuZGlmXFxudl9hbz12ZWMzKG1peChjb25jYXZlLC1jb25jYXZlLHN0YXJ0KSx5X2dyb3VuZCxoLWVsZSk7ZGlyZWN0aW9uYWwqPSgxLjArMC4wNSooMS4wLXRvcF91cF9ueS55KSp1X2FvWzBdKTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudG9wX2hlaWdodCs9dV9oZWlnaHRfbGlmdDtcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbi56LT0oMC4wMDAwMDA2KihtaW4odG9wX2hlaWdodCw1MDAuKSsyLjAqbWluKGJhc2UsNTAwLjApKzYwLjAqY29uY2F2ZSszLjAqc3RhcnQpKSpnbF9Qb3NpdGlvbi53O1xcbiNlbmRpZlxcbnZfbGlnaHRpbmcucmdiKz1jbGFtcChkaXJlY3Rpb25hbCp1X2xpZ2h0Y29sb3IsbWl4KHZlYzMoMC4wKSx2ZWMzKDAuMyksMS4wLXVfbGlnaHRjb2xvciksdmVjMygxLjApKTt2X2xpZ2h0aW5nKj11X29wYWNpdHk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocCk7XFxuI2VuZGlmXFxufVwiKSxoaWxsc2hhZGVQcmVwYXJlOmZyKFwiI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNlbmRpZlxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfcG9zO3VuaWZvcm0gdmVjMiB1X2RpbWVuc2lvbjt1bmlmb3JtIGZsb2F0IHVfem9vbTt1bmlmb3JtIHZlYzQgdV91bnBhY2s7ZmxvYXQgZ2V0RWxldmF0aW9uKHZlYzIgY29vcmQpIHtcXG4jaWZkZWYgVEVSUkFJTl9ERU1fRkxPQVRfRk9STUFUXFxucmV0dXJuIHRleHR1cmUyRCh1X2ltYWdlLGNvb3JkKS5hLzQuMDtcXG4jZWxzZVxcbnZlYzQgZGF0YT10ZXh0dXJlMkQodV9pbWFnZSxjb29yZCkqMjU1LjA7ZGF0YS5hPS0xLjA7cmV0dXJuIGRvdChkYXRhLHVfdW5wYWNrKS80LjA7XFxuI2VuZGlmXFxufXZvaWQgbWFpbigpIHt2ZWMyIGVwc2lsb249MS4wL3VfZGltZW5zaW9uO2Zsb2F0IGE9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoLWVwc2lsb24ueCwtZXBzaWxvbi55KSk7ZmxvYXQgYj1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigwLC1lcHNpbG9uLnkpKTtmbG9hdCBjPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKGVwc2lsb24ueCwtZXBzaWxvbi55KSk7ZmxvYXQgZD1nZXRFbGV2YXRpb24odl9wb3MrdmVjMigtZXBzaWxvbi54LDApKTtmbG9hdCBlPWdldEVsZXZhdGlvbih2X3Bvcyk7ZmxvYXQgZj1nZXRFbGV2YXRpb24odl9wb3MrdmVjMihlcHNpbG9uLngsMCkpO2Zsb2F0IGc9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoLWVwc2lsb24ueCxlcHNpbG9uLnkpKTtmbG9hdCBoPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKDAsZXBzaWxvbi55KSk7ZmxvYXQgaT1nZXRFbGV2YXRpb24odl9wb3MrdmVjMihlcHNpbG9uLngsZXBzaWxvbi55KSk7ZmxvYXQgZXhhZ2dlcmF0aW9uRmFjdG9yPXVfem9vbSA8IDIuMCA/IDAuNCA6IHVfem9vbSA8IDQuNSA/IDAuMzUgOiAwLjM7ZmxvYXQgZXhhZ2dlcmF0aW9uPXVfem9vbSA8IDE1LjAgPyAodV96b29tLTE1LjApKmV4YWdnZXJhdGlvbkZhY3RvciA6IDAuMDt2ZWMyIGRlcml2PXZlYzIoXFxuKGMrZitmK2kpLShhK2QrZCtnKSwoZytoK2graSktKGErYitiK2MpXFxuKS9wb3coMi4wLGV4YWdnZXJhdGlvbisoMTkuMjU2Mi11X3pvb20pKTtnbF9GcmFnQ29sb3I9Y2xhbXAodmVjNChcXG5kZXJpdi54LzIuMCswLjUsZGVyaXYueS8yLjArMC41LDEuMCwxLjApLDAuMCwxLjApO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9kaW1lbnNpb247YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtoaWdocCB2ZWMyIGVwc2lsb249MS4wL3VfZGltZW5zaW9uO2Zsb2F0IHNjYWxlPSh1X2RpbWVuc2lvbi54LTIuMCkvdV9kaW1lbnNpb24ueDt2X3Bvcz0oYV90ZXh0dXJlX3Bvcy84MTkyLjApKnNjYWxlK2Vwc2lsb247fVwiKSxoaWxsc2hhZGU6ZnIoXCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvczt1bmlmb3JtIHZlYzIgdV9sYXRyYW5nZTt1bmlmb3JtIHZlYzIgdV9saWdodDt1bmlmb3JtIHZlYzQgdV9zaGFkb3c7dW5pZm9ybSB2ZWM0IHVfaGlnaGxpZ2h0O3VuaWZvcm0gdmVjNCB1X2FjY2VudDt2b2lkIG1haW4oKSB7dmVjNCBwaXhlbD10ZXh0dXJlMkQodV9pbWFnZSx2X3Bvcyk7dmVjMiBkZXJpdj0oKHBpeGVsLnJnKjIuMCktMS4wKTtmbG9hdCBzY2FsZUZhY3Rvcj1jb3MocmFkaWFucygodV9sYXRyYW5nZVswXS11X2xhdHJhbmdlWzFdKSooMS4wLXZfcG9zLnkpK3VfbGF0cmFuZ2VbMV0pKTtmbG9hdCBzbG9wZT1hdGFuKDEuMjUqbGVuZ3RoKGRlcml2KS9zY2FsZUZhY3Rvcik7ZmxvYXQgYXNwZWN0PWRlcml2LnggIT0wLjAgPyBhdGFuKGRlcml2LnksLWRlcml2LngpIDogUEkvMi4wKihkZXJpdi55ID4gMC4wID8gMS4wIDotMS4wKTtmbG9hdCBpbnRlbnNpdHk9dV9saWdodC54O2Zsb2F0IGF6aW11dGg9dV9saWdodC55K1BJO2Zsb2F0IGJhc2U9MS44NzUtaW50ZW5zaXR5KjEuNzU7ZmxvYXQgbWF4VmFsdWU9MC41KlBJO2Zsb2F0IHNjYWxlZFNsb3BlPWludGVuc2l0eSAhPTAuNSA/ICgocG93KGJhc2Usc2xvcGUpLTEuMCkvKHBvdyhiYXNlLG1heFZhbHVlKS0xLjApKSptYXhWYWx1ZSA6IHNsb3BlO2Zsb2F0IGFjY2VudD1jb3Moc2NhbGVkU2xvcGUpO3ZlYzQgYWNjZW50X2NvbG9yPSgxLjAtYWNjZW50KSp1X2FjY2VudCpjbGFtcChpbnRlbnNpdHkqMi4wLDAuMCwxLjApO2Zsb2F0IHNoYWRlPWFicyhtb2QoKGFzcGVjdCthemltdXRoKS9QSSswLjUsMi4wKS0xLjApO3ZlYzQgc2hhZGVfY29sb3I9bWl4KHVfc2hhZG93LHVfaGlnaGxpZ2h0LHNoYWRlKSpzaW4oc2NhbGVkU2xvcGUpKmNsYW1wKGludGVuc2l0eSoyLjAsMC4wLDEuMCk7Z2xfRnJhZ0NvbG9yPWFjY2VudF9jb2xvciooMS4wLXNoYWRlX2NvbG9yLmEpK3NoYWRlX2NvbG9yO1xcbiNpZmRlZiBGT0dcXG5nbF9GcmFnQ29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChnbF9GcmFnQ29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdGV4dHVyZV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3M9YV90ZXh0dXJlX3Bvcy84MTkyLjA7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksbGluZTpmcihcInVuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIGZsb2F0IHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ7dW5pZm9ybSBoaWdocCB2ZWMyIHVfdHJpbV9vZmZzZXQ7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBoaWdocCB2ZWM0IHZfdXY7XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0RBU0hcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2Rhc2hfaW1hZ2U7dW5pZm9ybSBmbG9hdCB1X21peDt1bmlmb3JtIHZlYzMgdV9zY2FsZTt2YXJ5aW5nIHZlYzIgdl90ZXhfYTt2YXJ5aW5nIHZlYzIgdl90ZXhfYjtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfR1JBRElFTlRcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2dyYWRpZW50X2ltYWdlO1xcbiNlbmRpZlxcbnVuaWZvcm0gZmxvYXQgdV9ib3JkZXJfd2lkdGg7dW5pZm9ybSB2ZWM0IHVfYm9yZGVyX2NvbG9yO2Zsb2F0IGx1bWluYW5jZSh2ZWMzIGMpIHtyZXR1cm4gKGMucitjLnIrYy5iK2MuZytjLmcrYy5nKSowLjE2Njc7fVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgZGFzaF9mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgZGFzaF90b1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBkYXNoX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgZGFzaF90b1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbmZsb2F0IGRpc3Q9bGVuZ3RoKHZfbm9ybWFsKSp2X3dpZHRoMi5zO2Zsb2F0IGJsdXIyPShibHVyKzEuMC91X2RldmljZV9waXhlbF9yYXRpbykqdl9nYW1tYV9zY2FsZTtmbG9hdCBhbHBoYT1jbGFtcChtaW4oZGlzdC0odl93aWR0aDIudC1ibHVyMiksdl93aWR0aDIucy1kaXN0KS9ibHVyMiwwLjAsMS4wKTtcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbmZsb2F0IHNkZmRpc3RfYT10ZXh0dXJlMkQodV9kYXNoX2ltYWdlLHZfdGV4X2EpLmE7ZmxvYXQgc2RmZGlzdF9iPXRleHR1cmUyRCh1X2Rhc2hfaW1hZ2Usdl90ZXhfYikuYTtmbG9hdCBzZGZkaXN0PW1peChzZGZkaXN0X2Esc2RmZGlzdF9iLHVfbWl4KTtmbG9hdCBzZGZ3aWR0aD1taW4oZGFzaF9mcm9tLnoqdV9zY2FsZS55LGRhc2hfdG8ueip1X3NjYWxlLnopO2Zsb2F0IHNkZmdhbW1hPTEuMC8oMi4wKnVfZGV2aWNlX3BpeGVsX3JhdGlvKS9zZGZ3aWR0aDthbHBoYSo9c21vb3Roc3RlcCgwLjUtc2RmZ2FtbWEvZmxvb3J3aWR0aCwwLjUrc2RmZ2FtbWEvZmxvb3J3aWR0aCxzZGZkaXN0KTtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfR1JBRElFTlRcXG5oaWdocCB2ZWM0IG91dF9jb2xvcj10ZXh0dXJlMkQodV9ncmFkaWVudF9pbWFnZSx2X3V2Lnh5KTtcXG4jZWxzZVxcbnZlYzQgb3V0X2NvbG9yPWNvbG9yO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9UUklNX09GRlNFVFxcbmhpZ2hwIGZsb2F0IHN0YXJ0PXZfdXZbMl07aGlnaHAgZmxvYXQgZW5kPXZfdXZbM107aGlnaHAgZmxvYXQgdHJpbV9zdGFydD11X3RyaW1fb2Zmc2V0WzBdO2hpZ2hwIGZsb2F0IHRyaW1fZW5kPXVfdHJpbV9vZmZzZXRbMV07aGlnaHAgZmxvYXQgbGluZV9wcm9ncmVzcz0oc3RhcnQrKHZfdXYueCkqKGVuZC1zdGFydCkpO2lmICh0cmltX2VuZCA+IHRyaW1fc3RhcnQpIHtpZiAobGluZV9wcm9ncmVzcyA8PXRyaW1fZW5kICYmIGxpbmVfcHJvZ3Jlc3MgPj10cmltX3N0YXJ0KSB7b3V0X2NvbG9yPXZlYzQoMCwwLDAsMCk7fX1cXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9BTFBIQV9ESVNDQVJEXFxuaWYgKGFscGhhIDwgdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZCkge2Rpc2NhcmQ7fVxcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9CT1JERVJcXG5mbG9hdCBlZGdlQmx1cj0odV9ib3JkZXJfd2lkdGgrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKTtmbG9hdCBhbHBoYTI9Y2xhbXAobWluKGRpc3QtKHZfd2lkdGgyLnQtZWRnZUJsdXIpLHZfd2lkdGgyLnMtZGlzdCkvZWRnZUJsdXIsMC4wLDEuMCk7aWYgKGFscGhhMiA8IDEuKSB7ZmxvYXQgc21vb3RoQWxwaGE9c21vb3Roc3RlcCgwLjYsMS4wLGFscGhhMik7XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0JPUkRFUl9BVVRPXFxuZmxvYXQgWT0ob3V0X2NvbG9yLmEgPiAwLjAxKSA/IGx1bWluYW5jZShvdXRfY29sb3IucmdiL291dF9jb2xvci5hKSA6IDEuO2Zsb2F0IGFkanVzdG1lbnQ9KFkgPiAwLikgPyAwLjUvWSA6IDAuNDU7aWYgKG91dF9jb2xvci5hID4gMC4yNSAmJiBZIDwgMC4yNSkge3ZlYzMgYm9yZGVyQ29sb3I9KFkgPiAwLikgPyBvdXRfY29sb3IucmdiIDogdmVjMygxLDEsMSkqb3V0X2NvbG9yLmE7b3V0X2NvbG9yLnJnYj1vdXRfY29sb3IucmdiK2JvcmRlckNvbG9yKihhZGp1c3RtZW50KigxLjAtc21vb3RoQWxwaGEpKTt9IGVsc2Uge291dF9jb2xvci5yZ2IqPSgwLjYgKzAuNCpzbW9vdGhBbHBoYSk7fVxcbiNlbHNlXFxub3V0X2NvbG9yLnJnYj1taXgodV9ib3JkZXJfY29sb3IucmdiLG91dF9jb2xvci5yZ2Isc21vb3RoQWxwaGEpO1xcbiNlbmRpZlxcbn1cXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKihhbHBoYSpvcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJcXG4jZGVmaW5lIEVYVFJVREVfU0NBTEUgMC4wMTU4NzMwMTZcXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc19ub3JtYWw7YXR0cmlidXRlIHZlYzQgYV9kYXRhO1xcbiNpZiBkZWZpbmVkKFJFTkRFUl9MSU5FX0dSQURJRU5UKSB8fCBkZWZpbmVkKFJFTkRFUl9MSU5FX1RSSU1fT0ZGU0VUKVxcbmF0dHJpYnV0ZSBoaWdocCB2ZWM0IGFfcGFja2VkO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9EQVNIXFxuYXR0cmlidXRlIGZsb2F0IGFfbGluZXNvZmFyO1xcbiNlbmRpZlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDIgdV9waXhlbHNfdG9fdGlsZV91bml0czt1bmlmb3JtIHZlYzIgdV91bml0c190b19waXhlbHM7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO3ZhcnlpbmcgaGlnaHAgdmVjNCB2X3V2O1xcbiNpZmRlZiBSRU5ERVJfTElORV9EQVNIXFxudW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIG1lZGl1bXAgdmVjMyB1X3NjYWxlO3ZhcnlpbmcgdmVjMiB2X3RleF9hO3ZhcnlpbmcgdmVjMiB2X3RleF9iO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbnVuaWZvcm0gZmxvYXQgdV9pbWFnZV9oZWlnaHQ7XFxuI2VuZGlmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBkYXNoX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBkYXNoX3RvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvZmZzZXRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgd2lkdGhcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBkYXNoX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgZGFzaF90b1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9mZnNldFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgd2lkdGhcXG5mbG9hdCBBTlRJQUxJQVNJTkc9MS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvLzIuMDt2ZWMyIGFfZXh0cnVkZT1hX2RhdGEueHktMTI4LjA7ZmxvYXQgYV9kaXJlY3Rpb249bW9kKGFfZGF0YS56LDQuMCktMS4wO3ZlYzIgcG9zPWZsb29yKGFfcG9zX25vcm1hbCowLjUpO21lZGl1bXAgdmVjMiBub3JtYWw9YV9wb3Nfbm9ybWFsLTIuMCpwb3M7bm9ybWFsLnk9bm9ybWFsLnkqMi4wLTEuMDt2X25vcm1hbD1ub3JtYWw7Z2Fwd2lkdGg9Z2Fwd2lkdGgvMi4wO2Zsb2F0IGhhbGZ3aWR0aD13aWR0aC8yLjA7b2Zmc2V0PS0xLjAqb2Zmc2V0O2Zsb2F0IGluc2V0PWdhcHdpZHRoKyhnYXB3aWR0aCA+IDAuMCA/IEFOVElBTElBU0lORyA6IDAuMCk7ZmxvYXQgb3V0c2V0PWdhcHdpZHRoK2hhbGZ3aWR0aCooZ2Fwd2lkdGggPiAwLjAgPyAyLjAgOiAxLjApKyhoYWxmd2lkdGg9PTAuMCA/IDAuMCA6IEFOVElBTElBU0lORyk7bWVkaXVtcCB2ZWMyIGRpc3Q9b3V0c2V0KmFfZXh0cnVkZSpFWFRSVURFX1NDQUxFO21lZGl1bXAgZmxvYXQgdT0wLjUqYV9kaXJlY3Rpb247bWVkaXVtcCBmbG9hdCB0PTEuMC1hYnModSk7bWVkaXVtcCB2ZWMyIG9mZnNldDI9b2Zmc2V0KmFfZXh0cnVkZSpFWFRSVURFX1NDQUxFKm5vcm1hbC55Km1hdDIodCwtdSx1LHQpO3ZlYzQgcHJvamVjdGVkX2V4dHJ1ZGU9dV9tYXRyaXgqdmVjNChkaXN0KnVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMsMC4wLDAuMCk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChwb3Mrb2Zmc2V0Mip1X3BpeGVsc190b190aWxlX3VuaXRzLDAuMCwxLjApK3Byb2plY3RlZF9leHRydWRlO1xcbiNpZm5kZWYgUkVOREVSX1RPX1RFWFRVUkVcXG5mbG9hdCBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlPWxlbmd0aChkaXN0KTtmbG9hdCBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlPWxlbmd0aChwcm9qZWN0ZWRfZXh0cnVkZS54eS9nbF9Qb3NpdGlvbi53KnVfdW5pdHNfdG9fcGl4ZWxzKTt2X2dhbW1hX3NjYWxlPWV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmUvZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZTtcXG4jZWxzZVxcbnZfZ2FtbWFfc2NhbGU9MS4wO1xcbiNlbmRpZlxcbiNpZiBkZWZpbmVkKFJFTkRFUl9MSU5FX0dSQURJRU5UKSB8fCBkZWZpbmVkKFJFTkRFUl9MSU5FX1RSSU1fT0ZGU0VUKVxcbmZsb2F0IGFfdXZfeD1hX3BhY2tlZFswXTtmbG9hdCBhX3NwbGl0X2luZGV4PWFfcGFja2VkWzFdO2hpZ2hwIGZsb2F0IGFfY2xpcF9zdGFydD1hX3BhY2tlZFsyXTtoaWdocCBmbG9hdCBhX2NsaXBfZW5kPWFfcGFja2VkWzNdO1xcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbmhpZ2hwIGZsb2F0IHRleGVsX2hlaWdodD0xLjAvdV9pbWFnZV9oZWlnaHQ7aGlnaHAgZmxvYXQgaGFsZl90ZXhlbF9oZWlnaHQ9MC41KnRleGVsX2hlaWdodDt2X3V2PXZlYzQoYV91dl94LGFfc3BsaXRfaW5kZXgqdGV4ZWxfaGVpZ2h0LWhhbGZfdGV4ZWxfaGVpZ2h0LGFfY2xpcF9zdGFydCxhX2NsaXBfZW5kKTtcXG4jZWxzZVxcbnZfdXY9dmVjNChhX3V2X3gsMC4wLGFfY2xpcF9zdGFydCxhX2NsaXBfZW5kKTtcXG4jZW5kaWZcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbmZsb2F0IHRpbGVab29tUmF0aW89dV9zY2FsZS54O2Zsb2F0IGZyb21TY2FsZT11X3NjYWxlLnk7ZmxvYXQgdG9TY2FsZT11X3NjYWxlLno7ZmxvYXQgc2NhbGVBPWRhc2hfZnJvbS56PT0wLjAgPyAwLjAgOiB0aWxlWm9vbVJhdGlvLyhkYXNoX2Zyb20ueipmcm9tU2NhbGUpO2Zsb2F0IHNjYWxlQj1kYXNoX3RvLno9PTAuMCA/IDAuMCA6IHRpbGVab29tUmF0aW8vKGRhc2hfdG8ueip0b1NjYWxlKTtmbG9hdCBoZWlnaHRBPWRhc2hfZnJvbS55O2Zsb2F0IGhlaWdodEI9ZGFzaF90by55O3ZfdGV4X2E9dmVjMihhX2xpbmVzb2ZhcipzY2FsZUEvZmxvb3J3aWR0aCwoLW5vcm1hbC55KmhlaWdodEErZGFzaF9mcm9tLngrMC41KS91X3RleHNpemUueSk7dl90ZXhfYj12ZWMyKGFfbGluZXNvZmFyKnNjYWxlQi9mbG9vcndpZHRoLCgtbm9ybWFsLnkqaGVpZ2h0QitkYXNoX3RvLngrMC41KS91X3RleHNpemUueSk7XFxuI2VuZGlmXFxudl93aWR0aDI9dmVjMihvdXRzZXQsaW5zZXQpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHBvcyk7XFxuI2VuZGlmXFxufVwiKSxsaW5lUGF0dGVybjpmcihcInVuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gZmxvYXQgdV9mYWRlO3VuaWZvcm0gbWVkaXVtcCB2ZWMzIHVfc2NhbGU7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgZmxvYXQgdl9saW5lc29mYXI7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO3ZhcnlpbmcgZmxvYXQgdl93aWR0aDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX2Zyb21cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVybl90b1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fdG9cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52ZWMyIHBhdHRlcm5fdGxfYT1wYXR0ZXJuX2Zyb20ueHk7dmVjMiBwYXR0ZXJuX2JyX2E9cGF0dGVybl9mcm9tLnp3O3ZlYzIgcGF0dGVybl90bF9iPXBhdHRlcm5fdG8ueHk7dmVjMiBwYXR0ZXJuX2JyX2I9cGF0dGVybl90by56dztmbG9hdCB0aWxlWm9vbVJhdGlvPXVfc2NhbGUueDtmbG9hdCBmcm9tU2NhbGU9dV9zY2FsZS55O2Zsb2F0IHRvU2NhbGU9dV9zY2FsZS56O3ZlYzIgZGlzcGxheV9zaXplX2E9KHBhdHRlcm5fYnJfYS1wYXR0ZXJuX3RsX2EpL3BpeGVsX3JhdGlvX2Zyb207dmVjMiBkaXNwbGF5X3NpemVfYj0ocGF0dGVybl9icl9iLXBhdHRlcm5fdGxfYikvcGl4ZWxfcmF0aW9fdG87dmVjMiBwYXR0ZXJuX3NpemVfYT12ZWMyKGRpc3BsYXlfc2l6ZV9hLngqZnJvbVNjYWxlL3RpbGVab29tUmF0aW8sZGlzcGxheV9zaXplX2EueSk7dmVjMiBwYXR0ZXJuX3NpemVfYj12ZWMyKGRpc3BsYXlfc2l6ZV9iLngqdG9TY2FsZS90aWxlWm9vbVJhdGlvLGRpc3BsYXlfc2l6ZV9iLnkpO2Zsb2F0IGFzcGVjdF9hPWRpc3BsYXlfc2l6ZV9hLnkvdl93aWR0aDtmbG9hdCBhc3BlY3RfYj1kaXNwbGF5X3NpemVfYi55L3Zfd2lkdGg7ZmxvYXQgZGlzdD1sZW5ndGgodl9ub3JtYWwpKnZfd2lkdGgyLnM7ZmxvYXQgYmx1cjI9KGJsdXIrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKSp2X2dhbW1hX3NjYWxlO2Zsb2F0IGFscGhhPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWJsdXIyKSx2X3dpZHRoMi5zLWRpc3QpL2JsdXIyLDAuMCwxLjApO2Zsb2F0IHhfYT1tb2Qodl9saW5lc29mYXIvcGF0dGVybl9zaXplX2EueCphc3BlY3RfYSwxLjApO2Zsb2F0IHhfYj1tb2Qodl9saW5lc29mYXIvcGF0dGVybl9zaXplX2IueCphc3BlY3RfYiwxLjApO2Zsb2F0IHk9MC41KnZfbm9ybWFsLnkrMC41O3ZlYzIgdGV4ZWxfc2l6ZT0xLjAvdV90ZXhzaXplO3ZlYzIgcG9zX2E9bWl4KHBhdHRlcm5fdGxfYSp0ZXhlbF9zaXplLXRleGVsX3NpemUscGF0dGVybl9icl9hKnRleGVsX3NpemUrdGV4ZWxfc2l6ZSx2ZWMyKHhfYSx5KSk7dmVjMiBwb3NfYj1taXgocGF0dGVybl90bF9iKnRleGVsX3NpemUtdGV4ZWxfc2l6ZSxwYXR0ZXJuX2JyX2IqdGV4ZWxfc2l6ZSt0ZXhlbF9zaXplLHZlYzIoeF9iLHkpKTt2ZWM0IGNvbG9yPW1peCh0ZXh0dXJlMkQodV9pbWFnZSxwb3NfYSksdGV4dHVyZTJEKHVfaW1hZ2UscG9zX2IpLHVfZmFkZSk7XFxuI2lmZGVmIEZPR1xcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQoY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPWNvbG9yKihhbHBoYSpvcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJcXG4jZGVmaW5lIHNjYWxlIDAuMDE1ODczMDE2XFxuYXR0cmlidXRlIHZlYzIgYV9wb3Nfbm9ybWFsO2F0dHJpYnV0ZSB2ZWM0IGFfZGF0YTthdHRyaWJ1dGUgZmxvYXQgYV9saW5lc29mYXI7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3VuaXRzX3RvX3BpeGVsczt1bmlmb3JtIG1hdDIgdV9waXhlbHNfdG9fdGlsZV91bml0czt1bmlmb3JtIGxvd3AgZmxvYXQgdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgdmVjMiB2X3dpZHRoMjt2YXJ5aW5nIGZsb2F0IHZfbGluZXNvZmFyO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGZsb2F0IHZfd2lkdGg7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvZmZzZXRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5fdG9cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9mZnNldFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5fZnJvbVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuX3RvXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb19mcm9tXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb190b1xcbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7dmVjMiBwb3M9Zmxvb3IoYV9wb3Nfbm9ybWFsKjAuNSk7bWVkaXVtcCB2ZWMyIG5vcm1hbD1hX3Bvc19ub3JtYWwtMi4wKnBvcztub3JtYWwueT1ub3JtYWwueSoyLjAtMS4wO3Zfbm9ybWFsPW5vcm1hbDtnYXB3aWR0aD1nYXB3aWR0aC8yLjA7ZmxvYXQgaGFsZndpZHRoPXdpZHRoLzIuMDtvZmZzZXQ9LTEuMCpvZmZzZXQ7ZmxvYXQgaW5zZXQ9Z2Fwd2lkdGgrKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtmbG9hdCBvdXRzZXQ9Z2Fwd2lkdGgraGFsZndpZHRoKihnYXB3aWR0aCA+IDAuMCA/IDIuMCA6IDEuMCkrKGhhbGZ3aWR0aD09MC4wID8gMC4wIDogQU5USUFMSUFTSU5HKTttZWRpdW1wIHZlYzIgZGlzdD1vdXRzZXQqYV9leHRydWRlKnNjYWxlO21lZGl1bXAgZmxvYXQgdT0wLjUqYV9kaXJlY3Rpb247bWVkaXVtcCBmbG9hdCB0PTEuMC1hYnModSk7bWVkaXVtcCB2ZWMyIG9mZnNldDI9b2Zmc2V0KmFfZXh0cnVkZSpzY2FsZSpub3JtYWwueSptYXQyKHQsLXUsdSx0KTt2ZWM0IHByb2plY3RlZF9leHRydWRlPXVfbWF0cml4KnZlYzQoZGlzdCp1X3BpeGVsc190b190aWxlX3VuaXRzLDAuMCwwLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQocG9zK29mZnNldDIqdV9waXhlbHNfdG9fdGlsZV91bml0cywwLjAsMS4wKStwcm9qZWN0ZWRfZXh0cnVkZTtcXG4jaWZuZGVmIFJFTkRFUl9UT19URVhUVVJFXFxuZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZT1sZW5ndGgoZGlzdCk7ZmxvYXQgZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZT1sZW5ndGgocHJvamVjdGVkX2V4dHJ1ZGUueHkvZ2xfUG9zaXRpb24udyp1X3VuaXRzX3RvX3BpeGVscyk7dl9nYW1tYV9zY2FsZT1leHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlL2V4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU7XFxuI2Vsc2VcXG52X2dhbW1hX3NjYWxlPTEuMDtcXG4jZW5kaWZcXG52X2xpbmVzb2Zhcj1hX2xpbmVzb2Zhcjt2X3dpZHRoMj12ZWMyKG91dHNldCxpbnNldCk7dl93aWR0aD1mbG9vcndpZHRoO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHBvcyk7XFxuI2VuZGlmXFxufVwiKSxyYXN0ZXI6ZnIoXCJ1bmlmb3JtIGZsb2F0IHVfZmFkZV90O3VuaWZvcm0gZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UwO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UxO3ZhcnlpbmcgdmVjMiB2X3BvczA7dmFyeWluZyB2ZWMyIHZfcG9zMTt1bmlmb3JtIGZsb2F0IHVfYnJpZ2h0bmVzc19sb3c7dW5pZm9ybSBmbG9hdCB1X2JyaWdodG5lc3NfaGlnaDt1bmlmb3JtIGZsb2F0IHVfc2F0dXJhdGlvbl9mYWN0b3I7dW5pZm9ybSBmbG9hdCB1X2NvbnRyYXN0X2ZhY3Rvcjt1bmlmb3JtIHZlYzMgdV9zcGluX3dlaWdodHM7dm9pZCBtYWluKCkge3ZlYzQgY29sb3IwPXRleHR1cmUyRCh1X2ltYWdlMCx2X3BvczApO3ZlYzQgY29sb3IxPXRleHR1cmUyRCh1X2ltYWdlMSx2X3BvczEpO2lmIChjb2xvcjAuYSA+IDAuMCkge2NvbG9yMC5yZ2I9Y29sb3IwLnJnYi9jb2xvcjAuYTt9aWYgKGNvbG9yMS5hID4gMC4wKSB7Y29sb3IxLnJnYj1jb2xvcjEucmdiL2NvbG9yMS5hO312ZWM0IGNvbG9yPW1peChjb2xvcjAsY29sb3IxLHVfZmFkZV90KTtjb2xvci5hKj11X29wYWNpdHk7dmVjMyByZ2I9Y29sb3IucmdiO3JnYj12ZWMzKFxcbmRvdChyZ2IsdV9zcGluX3dlaWdodHMueHl6KSxkb3QocmdiLHVfc3Bpbl93ZWlnaHRzLnp4eSksZG90KHJnYix1X3NwaW5fd2VpZ2h0cy55engpKTtmbG9hdCBhdmVyYWdlPShjb2xvci5yK2NvbG9yLmcrY29sb3IuYikvMy4wO3JnYis9KGF2ZXJhZ2UtcmdiKSp1X3NhdHVyYXRpb25fZmFjdG9yO3JnYj0ocmdiLTAuNSkqdV9jb250cmFzdF9mYWN0b3IrMC41O3ZlYzMgdV9oaWdoX3ZlYz12ZWMzKHVfYnJpZ2h0bmVzc19sb3csdV9icmlnaHRuZXNzX2xvdyx1X2JyaWdodG5lc3NfbG93KTt2ZWMzIHVfbG93X3ZlYz12ZWMzKHVfYnJpZ2h0bmVzc19oaWdoLHVfYnJpZ2h0bmVzc19oaWdoLHVfYnJpZ2h0bmVzc19oaWdoKTt2ZWMzIG91dF9jb2xvcj1taXgodV9oaWdoX3ZlYyx1X2xvd192ZWMscmdiKTtcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5KG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9dmVjNChvdXRfY29sb3IqY29sb3IuYSxjb2xvci5hKTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfdGxfcGFyZW50O3VuaWZvcm0gZmxvYXQgdV9zY2FsZV9wYXJlbnQ7dW5pZm9ybSB2ZWMyIHVfcGVyc3BlY3RpdmVfdHJhbnNmb3JtO2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdGV4dHVyZV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zMDt2YXJ5aW5nIHZlYzIgdl9wb3MxO3ZvaWQgbWFpbigpIHtmbG9hdCB3PTEuMCtkb3QoYV90ZXh0dXJlX3Bvcyx1X3BlcnNwZWN0aXZlX3RyYW5zZm9ybSk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3Bvcyp3LDAsdyk7dl9wb3MwPWFfdGV4dHVyZV9wb3MvODE5Mi4wO3ZfcG9zMT0odl9wb3MwKnVfc2NhbGVfcGFyZW50KSt1X3RsX3BhcmVudDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxzeW1ib2xJY29uOmZyKFwidW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlO3ZhcnlpbmcgdmVjMiB2X3RleDt2YXJ5aW5nIGZsb2F0IHZfZmFkZV9vcGFjaXR5O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbmxvd3AgZmxvYXQgYWxwaGE9b3BhY2l0eSp2X2ZhZGVfb3BhY2l0eTtnbF9GcmFnQ29sb3I9dGV4dHVyZTJEKHVfdGV4dHVyZSx2X3RleCkqYWxwaGE7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiYXR0cmlidXRlIHZlYzQgYV9wb3Nfb2Zmc2V0O2F0dHJpYnV0ZSB2ZWM0IGFfdGV4X3NpemU7YXR0cmlidXRlIHZlYzQgYV9waXhlbG9mZnNldDthdHRyaWJ1dGUgdmVjNCBhX3Byb2plY3RlZF9wb3M7YXR0cmlidXRlIGZsb2F0IGFfZmFkZV9vcGFjaXR5O1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX2dsb2JlX2FuY2hvcjthdHRyaWJ1dGUgdmVjMyBhX2dsb2JlX25vcm1hbDtcXG4jZW5kaWZcXG51bmlmb3JtIGJvb2wgdV9pc19zaXplX3pvb21fY29uc3RhbnQ7dW5pZm9ybSBib29sIHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplX3Q7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemU7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dW5pZm9ybSBib29sIHVfcm90YXRlX3N5bWJvbDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfYXNwZWN0X3JhdGlvO3VuaWZvcm0gZmxvYXQgdV9mYWRlX2NoYW5nZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSB2ZWMzIHVfdXBfdmVjdG9yO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X2NhbWVyYV9mb3J3YXJkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfZWNlZl9vcmlnaW47dW5pZm9ybSBtYXQ0IHVfdGlsZV9tYXRyaXg7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfdGV4O3ZhcnlpbmcgZmxvYXQgdl9mYWRlX29wYWNpdHk7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxudmVjMiBhX3Bvcz1hX3Bvc19vZmZzZXQueHk7dmVjMiBhX29mZnNldD1hX3Bvc19vZmZzZXQuenc7dmVjMiBhX3RleD1hX3RleF9zaXplLnh5O3ZlYzIgYV9zaXplPWFfdGV4X3NpemUuenc7ZmxvYXQgYV9zaXplX21pbj1mbG9vcihhX3NpemVbMF0qMC41KTt2ZWMyIGFfcHhvZmZzZXQ9YV9waXhlbG9mZnNldC54eTt2ZWMyIGFfbWluX2ZvbnRfc2NhbGU9YV9waXhlbG9mZnNldC56dy8yNTYuMDtoaWdocCBmbG9hdCBzZWdtZW50X2FuZ2xlPS1hX3Byb2plY3RlZF9wb3NbM107ZmxvYXQgc2l6ZTtpZiAoIXVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9bWl4KGFfc2l6ZV9taW4sYV9zaXplWzFdLHVfc2l6ZV90KS8xMjguMDt9IGVsc2UgaWYgKHVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9YV9zaXplX21pbi8xMjguMDt9IGVsc2Uge3NpemU9dV9zaXplO312ZWMyIHRpbGVfYW5jaG9yPWFfcG9zO3ZlYzMgaD1lbGV2YXRpb25WZWN0b3IodGlsZV9hbmNob3IpKmVsZXZhdGlvbih0aWxlX2FuY2hvcik7ZmxvYXQgZ2xvYmVfb2NjbHVzaW9uX2ZhZGU7dmVjMyB3b3JsZF9wb3M7dmVjMyBtZXJjYXRvcl9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbm1lcmNhdG9yX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgsdGlsZV9hbmNob3IsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpO3dvcmxkX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9nbG9iZV9hbmNob3IraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3ZlYzQgZWNlZl9wb2ludD11X3RpbGVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEuMCk7dmVjMyBvcmlnaW5fdG9fcG9pbnQ9ZWNlZl9wb2ludC54eXotdV9lY2VmX29yaWdpbjtnbG9iZV9vY2NsdXNpb25fZmFkZT1kb3Qob3JpZ2luX3RvX3BvaW50LHVfY2FtZXJhX2ZvcndhcmQpID49MC4wID8gMC4wIDogMS4wO1xcbiNlbHNlXFxud29ybGRfcG9zPXZlYzModGlsZV9hbmNob3IsMCkraDtnbG9iZV9vY2NsdXNpb25fZmFkZT0xLjA7XFxuI2VuZGlmXFxudmVjNCBwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMSk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1wcm9qZWN0ZWRfcG9pbnQudztoaWdocCBmbG9hdCBkaXN0YW5jZV9yYXRpbz11X3BpdGNoX3dpdGhfbWFwID9cXG5jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlL3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSA6XFxudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2U7aGlnaHAgZmxvYXQgcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoXFxuMC41KzAuNSpkaXN0YW5jZV9yYXRpbywwLjAsMS41KTtzaXplKj1wZXJzcGVjdGl2ZV9yYXRpbztmbG9hdCBmb250X3NjYWxlPXVfaXNfdGV4dCA/IHNpemUvMjQuMCA6IHNpemU7aGlnaHAgZmxvYXQgc3ltYm9sX3JvdGF0aW9uPTAuMDtpZiAodV9yb3RhdGVfc3ltYm9sKSB7dmVjNCBvZmZzZXRQcm9qZWN0ZWRfcG9pbnQ7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgZGlzcGxhY2VtZW50PXZlYzMoYV9nbG9iZV9ub3JtYWwueiwwLC1hX2dsb2JlX25vcm1hbC54KTtvZmZzZXRQcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNChhX2dsb2JlX2FuY2hvcitkaXNwbGFjZW1lbnQsMSk7XFxuI2Vsc2VcXG5vZmZzZXRQcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNCh0aWxlX2FuY2hvcit2ZWMyKDEsMCksMCwxKTtcXG4jZW5kaWZcXG52ZWMyIGE9cHJvamVjdGVkX3BvaW50Lnh5L3Byb2plY3RlZF9wb2ludC53O3ZlYzIgYj1vZmZzZXRQcm9qZWN0ZWRfcG9pbnQueHkvb2Zmc2V0UHJvamVjdGVkX3BvaW50Lnc7c3ltYm9sX3JvdGF0aW9uPWF0YW4oKGIueS1hLnkpL3VfYXNwZWN0X3JhdGlvLGIueC1hLngpO312ZWM0IHByb2plY3RlZF9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcHJval9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfcHJvamVjdGVkX3Bvcy54eXoraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3Byb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChwcm9qX3BvcywxLjApO1xcbiNlbHNlXFxucHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eSxoLnosMS4wKTtcXG4jZW5kaWZcXG5oaWdocCBmbG9hdCBhbmdsZV9zaW49c2luKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTtoaWdocCBmbG9hdCBhbmdsZV9jb3M9Y29zKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTttYXQyIHJvdGF0aW9uX21hdHJpeD1tYXQyKGFuZ2xlX2NvcywtMS4wKmFuZ2xlX3NpbixhbmdsZV9zaW4sYW5nbGVfY29zKTtmbG9hdCB6PTAuMDt2ZWMyIG9mZnNldD1yb3RhdGlvbl9tYXRyaXgqKGFfb2Zmc2V0LzMyLjAqbWF4KGFfbWluX2ZvbnRfc2NhbGUsZm9udF9zY2FsZSkrYV9weG9mZnNldC8xNi4wKTtcXG4jaWZkZWYgVEVSUkFJTlxcbiNpZmRlZiBQSVRDSF9XSVRIX01BUF9URVJSQUlOXFxudmVjNCB0aWxlX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeF9pbnYqdmVjNChhX3Byb2plY3RlZF9wb3MueHkrb2Zmc2V0LDAuMCwxLjApO3o9ZWxldmF0aW9uKHRpbGVfcG9zLnh5KTtcXG4jZW5kaWZcXG4jZW5kaWZcXG5mbG9hdCBvY2NsdXNpb25fZmFkZT1vY2NsdXNpb25GYWRlKHByb2plY3RlZF9wb2ludCkqZ2xvYmVfb2NjbHVzaW9uX2ZhZGU7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgeEF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx1X3VwX3ZlY3RvcikpIDogdmVjMygxLDAsMCk7dmVjMyB5QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHhBeGlzKSkgOiB2ZWMzKDAsMSwwKTtnbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5ei9wcm9qZWN0ZWRfcG9zLncreEF4aXMqb2Zmc2V0LngreUF4aXMqb2Zmc2V0LnksMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZWxzZVxcbmdsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHkvcHJvamVjdGVkX3Bvcy53K29mZnNldCx6LDEuMCksQVdBWSxmbG9hdChwcm9qZWN0ZWRfcG9pbnQudyA8PTAuMCB8fCBvY2NsdXNpb25fZmFkZT09MC4wKSk7XFxuI2VuZGlmXFxuZmxvYXQgcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wO1xcbiNpZiBkZWZpbmVkKFBST0pFQ1RFRF9QT1NfT05fVklFV1BPUlQpICYmIGRlZmluZWQoUFJPSkVDVElPTl9HTE9CRV9WSUVXKVxcbnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMC1zdGVwKEVQU0lMT04sdV96b29tX3RyYW5zaXRpb24pO1xcbiNlbmRpZlxcbnZfdGV4PWFfdGV4L3VfdGV4c2l6ZTt2ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7dl9mYWRlX29wYWNpdHk9bWF4KDAuMCxtaW4ob2NjbHVzaW9uX2ZhZGUsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSkqcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU7fVwiKSxzeW1ib2xTREY6ZnIoXCIjZGVmaW5lIFNERl9QWCA4LjBcXG51bmlmb3JtIGJvb2wgdV9pc19oYWxvO3VuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZ2FtbWFfc2NhbGU7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dmFyeWluZyB2ZWMyIHZfZGF0YTA7dmFyeWluZyB2ZWMzIHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxuZmxvYXQgRURHRV9HQU1NQT0wLjEwNS91X2RldmljZV9waXhlbF9yYXRpbzt2ZWMyIHRleD12X2RhdGEwLnh5O2Zsb2F0IGdhbW1hX3NjYWxlPXZfZGF0YTEueDtmbG9hdCBzaXplPXZfZGF0YTEueTtmbG9hdCBmYWRlX29wYWNpdHk9dl9kYXRhMVsyXTtmbG9hdCBmb250U2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtsb3dwIHZlYzQgY29sb3I9ZmlsbF9jb2xvcjtoaWdocCBmbG9hdCBnYW1tYT1FREdFX0dBTU1BLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7bG93cCBmbG9hdCBidWZmPSgyNTYuMC02NC4wKS8yNTYuMDtpZiAodV9pc19oYWxvKSB7Y29sb3I9aGFsb19jb2xvcjtnYW1tYT0oaGFsb19ibHVyKjEuMTkvU0RGX1BYK0VER0VfR0FNTUEpLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7YnVmZj0oNi4wLWhhbG9fd2lkdGgvZm9udFNjYWxlKS9TREZfUFg7fWxvd3AgZmxvYXQgZGlzdD10ZXh0dXJlMkQodV90ZXh0dXJlLHRleCkuYTtoaWdocCBmbG9hdCBnYW1tYV9zY2FsZWQ9Z2FtbWEqZ2FtbWFfc2NhbGU7aGlnaHAgZmxvYXQgYWxwaGE9c21vb3Roc3RlcChidWZmLWdhbW1hX3NjYWxlZCxidWZmK2dhbW1hX3NjYWxlZCxkaXN0KTtnbF9GcmFnQ29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkqZmFkZV9vcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJhdHRyaWJ1dGUgdmVjNCBhX3Bvc19vZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV90ZXhfc2l6ZTthdHRyaWJ1dGUgdmVjNCBhX3BpeGVsb2Zmc2V0O2F0dHJpYnV0ZSB2ZWM0IGFfcHJvamVjdGVkX3BvczthdHRyaWJ1dGUgZmxvYXQgYV9mYWRlX29wYWNpdHk7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfYW5jaG9yO2F0dHJpYnV0ZSB2ZWMzIGFfZ2xvYmVfbm9ybWFsO1xcbiNlbmRpZlxcbnVuaWZvcm0gYm9vbCB1X2lzX3NpemVfem9vbV9jb25zdGFudDt1bmlmb3JtIGJvb2wgdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemVfdDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZTt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfbGFiZWxfcGxhbmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2Nvb3JkX21hdHJpeDt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3VuaWZvcm0gYm9vbCB1X3BpdGNoX3dpdGhfbWFwO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIHZlYzMgdV91cF92ZWN0b3I7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnVuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfY2FtZXJhX2ZvcndhcmQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV9lY2VmX29yaWdpbjt1bmlmb3JtIG1hdDQgdV90aWxlX21hdHJpeDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9kYXRhMDt2YXJ5aW5nIHZlYzMgdl9kYXRhMTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG52ZWMyIGFfcG9zPWFfcG9zX29mZnNldC54eTt2ZWMyIGFfb2Zmc2V0PWFfcG9zX29mZnNldC56dzt2ZWMyIGFfdGV4PWFfdGV4X3NpemUueHk7dmVjMiBhX3NpemU9YV90ZXhfc2l6ZS56dztmbG9hdCBhX3NpemVfbWluPWZsb29yKGFfc2l6ZVswXSowLjUpO3ZlYzIgYV9weG9mZnNldD1hX3BpeGVsb2Zmc2V0Lnh5O2hpZ2hwIGZsb2F0IHNlZ21lbnRfYW5nbGU9LWFfcHJvamVjdGVkX3Bvc1szXTtmbG9hdCBzaXplO2lmICghdV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1taXgoYV9zaXplX21pbixhX3NpemVbMV0sdV9zaXplX3QpLzEyOC4wO30gZWxzZSBpZiAodV9pc19zaXplX3pvb21fY29uc3RhbnQgJiYgIXVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50KSB7c2l6ZT1hX3NpemVfbWluLzEyOC4wO30gZWxzZSB7c2l6ZT11X3NpemU7fXZlYzIgdGlsZV9hbmNob3I9YV9wb3M7dmVjMyBoPWVsZXZhdGlvblZlY3Rvcih0aWxlX2FuY2hvcikqZWxldmF0aW9uKHRpbGVfYW5jaG9yKTtmbG9hdCBnbG9iZV9vY2NsdXNpb25fZmFkZTt2ZWMzIHdvcmxkX3Bvczt2ZWMzIG1lcmNhdG9yX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxubWVyY2F0b3JfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCx0aWxlX2FuY2hvcix1X3RpbGVfaWQsdV9tZXJjX2NlbnRlcik7d29ybGRfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX2dsb2JlX2FuY2hvcitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7dmVjNCBlY2VmX3BvaW50PXVfdGlsZV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMS4wKTt2ZWMzIG9yaWdpbl90b19wb2ludD1lY2VmX3BvaW50Lnh5ei11X2VjZWZfb3JpZ2luO2dsb2JlX29jY2x1c2lvbl9mYWRlPWRvdChvcmlnaW5fdG9fcG9pbnQsdV9jYW1lcmFfZm9yd2FyZCkgPj0wLjAgPyAwLjAgOiAxLjA7XFxuI2Vsc2VcXG53b3JsZF9wb3M9dmVjMyh0aWxlX2FuY2hvciwwKStoO2dsb2JlX29jY2x1c2lvbl9mYWRlPTEuMDtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPXByb2plY3RlZF9wb2ludC53O2hpZ2hwIGZsb2F0IGRpc3RhbmNlX3JhdGlvPXVfcGl0Y2hfd2l0aF9tYXAgP1xcbmNhbWVyYV90b19hbmNob3JfZGlzdGFuY2UvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlIDpcXG51X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UvY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZTtoaWdocCBmbG9hdCBwZXJzcGVjdGl2ZV9yYXRpbz1jbGFtcChcXG4wLjUrMC41KmRpc3RhbmNlX3JhdGlvLDAuMCwxLjUpO3NpemUqPXBlcnNwZWN0aXZlX3JhdGlvO2Zsb2F0IGZvbnRTY2FsZT11X2lzX3RleHQgPyBzaXplLzI0LjAgOiBzaXplO2hpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbj0wLjA7aWYgKHVfcm90YXRlX3N5bWJvbCkge3ZlYzQgb2Zmc2V0cHJvamVjdGVkX3BvaW50O1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIGRpc3BsYWNlbWVudD12ZWMzKGFfZ2xvYmVfbm9ybWFsLnosMCwtYV9nbG9iZV9ub3JtYWwueCk7b2Zmc2V0cHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQoYV9nbG9iZV9hbmNob3IrZGlzcGxhY2VtZW50LDEpO1xcbiNlbHNlXFxub2Zmc2V0cHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQodGlsZV9hbmNob3IrdmVjMigxLDApLDAsMSk7XFxuI2VuZGlmXFxudmVjMiBhPXByb2plY3RlZF9wb2ludC54eS9wcm9qZWN0ZWRfcG9pbnQudzt2ZWMyIGI9b2Zmc2V0cHJvamVjdGVkX3BvaW50Lnh5L29mZnNldHByb2plY3RlZF9wb2ludC53O3N5bWJvbF9yb3RhdGlvbj1hdGFuKChiLnktYS55KS91X2FzcGVjdF9yYXRpbyxiLngtYS54KTt9dmVjNCBwcm9qZWN0ZWRfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHByb2pfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX3Byb2plY3RlZF9wb3MueHl6K2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtwcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQocHJval9wb3MsMS4wKTtcXG4jZWxzZVxcbnByb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChhX3Byb2plY3RlZF9wb3MueHksaC56LDEuMCk7XFxuI2VuZGlmXFxuaGlnaHAgZmxvYXQgYW5nbGVfc2luPXNpbihzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7aGlnaHAgZmxvYXQgYW5nbGVfY29zPWNvcyhzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7bWF0MiByb3RhdGlvbl9tYXRyaXg9bWF0MihhbmdsZV9jb3MsLTEuMCphbmdsZV9zaW4sYW5nbGVfc2luLGFuZ2xlX2Nvcyk7ZmxvYXQgej0wLjA7dmVjMiBvZmZzZXQ9cm90YXRpb25fbWF0cml4KihhX29mZnNldC8zMi4wKmZvbnRTY2FsZSthX3B4b2Zmc2V0KTtcXG4jaWZkZWYgVEVSUkFJTlxcbiNpZmRlZiBQSVRDSF9XSVRIX01BUF9URVJSQUlOXFxudmVjNCB0aWxlX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeF9pbnYqdmVjNChhX3Byb2plY3RlZF9wb3MueHkrb2Zmc2V0LDAuMCwxLjApO3o9ZWxldmF0aW9uKHRpbGVfcG9zLnh5KTtcXG4jZW5kaWZcXG4jZW5kaWZcXG5mbG9hdCBvY2NsdXNpb25fZmFkZT1vY2NsdXNpb25GYWRlKHByb2plY3RlZF9wb2ludCkqZ2xvYmVfb2NjbHVzaW9uX2ZhZGU7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgeEF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx1X3VwX3ZlY3RvcikpIDogdmVjMygxLDAsMCk7dmVjMyB5QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHhBeGlzKSkgOiB2ZWMzKDAsMSwwKTtnbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5ei9wcm9qZWN0ZWRfcG9zLncreEF4aXMqb2Zmc2V0LngreUF4aXMqb2Zmc2V0LnksMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZWxzZVxcbmdsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHkvcHJvamVjdGVkX3Bvcy53K29mZnNldCx6LDEuMCksQVdBWSxmbG9hdChwcm9qZWN0ZWRfcG9pbnQudyA8PTAuMCB8fCBvY2NsdXNpb25fZmFkZT09MC4wKSk7XFxuI2VuZGlmXFxuZmxvYXQgZ2FtbWFfc2NhbGU9Z2xfUG9zaXRpb24udztmbG9hdCBwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjA7XFxuI2lmIGRlZmluZWQoUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVCkgJiYgZGVmaW5lZChQUk9KRUNUSU9OX0dMT0JFX1ZJRVcpXFxucHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wLXN0ZXAoRVBTSUxPTix1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxudmVjMiBmYWRlX29wYWNpdHk9dW5wYWNrX29wYWNpdHkoYV9mYWRlX29wYWNpdHkpO2Zsb2F0IGZhZGVfY2hhbmdlPWZhZGVfb3BhY2l0eVsxXSA+IDAuNSA/IHVfZmFkZV9jaGFuZ2UgOi11X2ZhZGVfY2hhbmdlO2Zsb2F0IGludGVycG9sYXRlZF9mYWRlX29wYWNpdHk9bWF4KDAuMCxtaW4ob2NjbHVzaW9uX2ZhZGUsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSk7dl9kYXRhMD1hX3RleC91X3RleHNpemU7dl9kYXRhMT12ZWMzKGdhbW1hX3NjYWxlLHNpemUsaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eSpwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZSk7fVwiKSxzeW1ib2xUZXh0QW5kSWNvbjpmcihcIiNkZWZpbmUgU0RGX1BYIDguMFxcbiNkZWZpbmUgU0RGIDEuMFxcbiNkZWZpbmUgSUNPTiAwLjBcXG51bmlmb3JtIGJvb2wgdV9pc19oYWxvO3VuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTt1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmVfaWNvbjt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfZ2FtbWFfc2NhbGU7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3ZhcnlpbmcgdmVjNCB2X2RhdGEwO3ZhcnlpbmcgdmVjNCB2X2RhdGExO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbmZsb2F0IGZhZGVfb3BhY2l0eT12X2RhdGExWzJdO2lmICh2X2RhdGExLnc9PUlDT04pIHt2ZWMyIHRleF9pY29uPXZfZGF0YTAuenc7bG93cCBmbG9hdCBhbHBoYT1vcGFjaXR5KmZhZGVfb3BhY2l0eTtnbF9GcmFnQ29sb3I9dGV4dHVyZTJEKHVfdGV4dHVyZV9pY29uLHRleF9pY29uKSphbHBoYTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG5yZXR1cm47fXZlYzIgdGV4PXZfZGF0YTAueHk7ZmxvYXQgRURHRV9HQU1NQT0wLjEwNS91X2RldmljZV9waXhlbF9yYXRpbztmbG9hdCBnYW1tYV9zY2FsZT12X2RhdGExLng7ZmxvYXQgc2l6ZT12X2RhdGExLnk7ZmxvYXQgZm9udFNjYWxlPXNpemUvMjQuMDtsb3dwIHZlYzQgY29sb3I9ZmlsbF9jb2xvcjtoaWdocCBmbG9hdCBnYW1tYT1FREdFX0dBTU1BLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7bG93cCBmbG9hdCBidWZmPSgyNTYuMC02NC4wKS8yNTYuMDtpZiAodV9pc19oYWxvKSB7Y29sb3I9aGFsb19jb2xvcjtnYW1tYT0oaGFsb19ibHVyKjEuMTkvU0RGX1BYK0VER0VfR0FNTUEpLyhmb250U2NhbGUqdV9nYW1tYV9zY2FsZSk7YnVmZj0oNi4wLWhhbG9fd2lkdGgvZm9udFNjYWxlKS9TREZfUFg7fWxvd3AgZmxvYXQgZGlzdD10ZXh0dXJlMkQodV90ZXh0dXJlLHRleCkuYTtoaWdocCBmbG9hdCBnYW1tYV9zY2FsZWQ9Z2FtbWEqZ2FtbWFfc2NhbGU7aGlnaHAgZmxvYXQgYWxwaGE9c21vb3Roc3RlcChidWZmLWdhbW1hX3NjYWxlZCxidWZmK2dhbW1hX3NjYWxlZCxkaXN0KTtnbF9GcmFnQ29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkqZmFkZV9vcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJhdHRyaWJ1dGUgdmVjNCBhX3Bvc19vZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV90ZXhfc2l6ZTthdHRyaWJ1dGUgdmVjNCBhX3Byb2plY3RlZF9wb3M7YXR0cmlidXRlIGZsb2F0IGFfZmFkZV9vcGFjaXR5O1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX2dsb2JlX2FuY2hvcjthdHRyaWJ1dGUgdmVjMyBhX2dsb2JlX25vcm1hbDtcXG4jZW5kaWZcXG51bmlmb3JtIGJvb2wgdV9pc19zaXplX3pvb21fY29uc3RhbnQ7dW5pZm9ybSBib29sIHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplX3Q7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemU7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2xhYmVsX3BsYW5lX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9jb29yZF9tYXRyaXg7dW5pZm9ybSBib29sIHVfaXNfdGV4dDt1bmlmb3JtIGJvb2wgdV9waXRjaF93aXRoX21hcDt1bmlmb3JtIGJvb2wgdV9yb3RhdGVfc3ltYm9sO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9hc3BlY3RfcmF0aW87dW5pZm9ybSBoaWdocCBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dW5pZm9ybSBmbG9hdCB1X2ZhZGVfY2hhbmdlO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSB2ZWMzIHVfdXBfdmVjdG9yO3VuaWZvcm0gdmVjMiB1X3RleHNpemVfaWNvbjtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV9jYW1lcmFfZm9yd2FyZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X2VjZWZfb3JpZ2luO3VuaWZvcm0gbWF0NCB1X3RpbGVfbWF0cml4O1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjNCB2X2RhdGEwO3ZhcnlpbmcgdmVjNCB2X2RhdGExO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbnZlYzIgYV9wb3M9YV9wb3Nfb2Zmc2V0Lnh5O3ZlYzIgYV9vZmZzZXQ9YV9wb3Nfb2Zmc2V0Lnp3O3ZlYzIgYV90ZXg9YV90ZXhfc2l6ZS54eTt2ZWMyIGFfc2l6ZT1hX3RleF9zaXplLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7ZmxvYXQgaXNfc2RmPWFfc2l6ZVswXS0yLjAqYV9zaXplX21pbjtoaWdocCBmbG9hdCBzZWdtZW50X2FuZ2xlPS1hX3Byb2plY3RlZF9wb3NbM107ZmxvYXQgc2l6ZTtpZiAoIXVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9bWl4KGFfc2l6ZV9taW4sYV9zaXplWzFdLHVfc2l6ZV90KS8xMjguMDt9IGVsc2UgaWYgKHVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9YV9zaXplX21pbi8xMjguMDt9IGVsc2Uge3NpemU9dV9zaXplO312ZWMyIHRpbGVfYW5jaG9yPWFfcG9zO3ZlYzMgaD1lbGV2YXRpb25WZWN0b3IodGlsZV9hbmNob3IpKmVsZXZhdGlvbih0aWxlX2FuY2hvcik7ZmxvYXQgZ2xvYmVfb2NjbHVzaW9uX2ZhZGU7dmVjMyB3b3JsZF9wb3M7dmVjMyBtZXJjYXRvcl9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbm1lcmNhdG9yX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgsdGlsZV9hbmNob3IsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpO3dvcmxkX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9nbG9iZV9hbmNob3IraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3ZlYzQgZWNlZl9wb2ludD11X3RpbGVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEuMCk7dmVjMyBvcmlnaW5fdG9fcG9pbnQ9ZWNlZl9wb2ludC54eXotdV9lY2VmX29yaWdpbjtnbG9iZV9vY2NsdXNpb25fZmFkZT1kb3Qob3JpZ2luX3RvX3BvaW50LHVfY2FtZXJhX2ZvcndhcmQpID49MC4wID8gMC4wIDogMS4wO1xcbiNlbHNlXFxud29ybGRfcG9zPXZlYzModGlsZV9hbmNob3IsMCkraDtnbG9iZV9vY2NsdXNpb25fZmFkZT0xLjA7XFxuI2VuZGlmXFxudmVjNCBwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMSk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1wcm9qZWN0ZWRfcG9pbnQudztoaWdocCBmbG9hdCBkaXN0YW5jZV9yYXRpbz11X3BpdGNoX3dpdGhfbWFwID9cXG5jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlL3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSA6XFxudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2U7aGlnaHAgZmxvYXQgcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoXFxuMC41KzAuNSpkaXN0YW5jZV9yYXRpbywwLjAsMS41KTtzaXplKj1wZXJzcGVjdGl2ZV9yYXRpbztmbG9hdCBmb250X3NjYWxlPXNpemUvMjQuMDtoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb249MC4wO2lmICh1X3JvdGF0ZV9zeW1ib2wpIHt2ZWM0IG9mZnNldF9wcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNChhX3Bvcyt2ZWMyKDEsMCksMCwxKTt2ZWMyIGE9cHJvamVjdGVkX3BvaW50Lnh5L3Byb2plY3RlZF9wb2ludC53O3ZlYzIgYj1vZmZzZXRfcHJvamVjdGVkX3BvaW50Lnh5L29mZnNldF9wcm9qZWN0ZWRfcG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fXZlYzQgcHJvamVjdGVkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwcm9qX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9wcm9qZWN0ZWRfcG9zLnh5eitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7cHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KHByb2pfcG9zLDEuMCk7XFxuI2Vsc2VcXG5wcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LGgueiwxLjApO1xcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO2Zsb2F0IHo9MC4wO3ZlYzIgb2Zmc2V0PXJvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCpmb250X3NjYWxlKTtcXG4jaWZkZWYgVEVSUkFJTlxcbiNpZmRlZiBQSVRDSF9XSVRIX01BUF9URVJSQUlOXFxudmVjNCB0aWxlX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeF9pbnYqdmVjNChhX3Byb2plY3RlZF9wb3MueHkrb2Zmc2V0LDAuMCwxLjApO3o9ZWxldmF0aW9uKHRpbGVfcG9zLnh5KTtcXG4jZW5kaWZcXG4jZW5kaWZcXG5mbG9hdCBvY2NsdXNpb25fZmFkZT1vY2NsdXNpb25GYWRlKHByb2plY3RlZF9wb2ludCkqZ2xvYmVfb2NjbHVzaW9uX2ZhZGU7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgeEF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx1X3VwX3ZlY3RvcikpIDogdmVjMygxLDAsMCk7dmVjMyB5QXhpcz11X3BpdGNoX3dpdGhfbWFwID8gbm9ybWFsaXplKGNyb3NzKGFfZ2xvYmVfbm9ybWFsLHhBeGlzKSkgOiB2ZWMzKDAsMSwwKTtnbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5ei9wcm9qZWN0ZWRfcG9zLncreEF4aXMqb2Zmc2V0LngreUF4aXMqb2Zmc2V0LnksMS4wKSxBV0FZLGZsb2F0KHByb2plY3RlZF9wb2ludC53IDw9MC4wIHx8IG9jY2x1c2lvbl9mYWRlPT0wLjApKTtcXG4jZWxzZVxcbmdsX1Bvc2l0aW9uPW1peCh1X2Nvb3JkX21hdHJpeCp2ZWM0KHByb2plY3RlZF9wb3MueHkvcHJvamVjdGVkX3Bvcy53K29mZnNldCx6LDEuMCksQVdBWSxmbG9hdChwcm9qZWN0ZWRfcG9pbnQudyA8PTAuMCB8fCBvY2NsdXNpb25fZmFkZT09MC4wKSk7XFxuI2VuZGlmXFxuZmxvYXQgZ2FtbWFfc2NhbGU9Z2xfUG9zaXRpb24udzt2ZWMyIGZhZGVfb3BhY2l0eT11bnBhY2tfb3BhY2l0eShhX2ZhZGVfb3BhY2l0eSk7ZmxvYXQgZmFkZV9jaGFuZ2U9ZmFkZV9vcGFjaXR5WzFdID4gMC41ID8gdV9mYWRlX2NoYW5nZSA6LXVfZmFkZV9jaGFuZ2U7ZmxvYXQgaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eT1tYXgoMC4wLG1pbihvY2NsdXNpb25fZmFkZSxmYWRlX29wYWNpdHlbMF0rZmFkZV9jaGFuZ2UpKTtmbG9hdCBwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjA7XFxuI2lmIGRlZmluZWQoUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVCkgJiYgZGVmaW5lZChQUk9KRUNUSU9OX0dMT0JFX1ZJRVcpXFxucHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wLXN0ZXAoRVBTSUxPTix1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxudl9kYXRhMC54eT1hX3RleC91X3RleHNpemU7dl9kYXRhMC56dz1hX3RleC91X3RleHNpemVfaWNvbjt2X2RhdGExPXZlYzQoZ2FtbWFfc2NhbGUsc2l6ZSxpbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5KnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlLGlzX3NkZik7fVwiKSx0ZXJyYWluUmFzdGVyOmZyKFwidW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTA7dmFyeWluZyB2ZWMyIHZfcG9zMDtcXG4jaWZkZWYgRk9HXFxudmFyeWluZyBmbG9hdCB2X2ZvZ19vcGFjaXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZhcnlpbmcgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge3ZlYzQgY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UwLHZfcG9zMCk7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxuY29sb3IueHl6PXNoYWRvd2VkX2NvbG9yKGNvbG9yLnh5eix2X3Bvc19saWdodF92aWV3XzAsdl9wb3NfbGlnaHRfdmlld18xLHZfZGVwdGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9mcm9tX3ZlcnQoY29sb3Isdl9mb2dfb3BhY2l0eSkpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgVEVSUkFJTl9XSVJFRlJBTUVcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjAsMC4wLDAuMCwwLjgpO1xcbiNlbmRpZlxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfc2tpcnRfaGVpZ2h0O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO2F0dHJpYnV0ZSB2ZWMyIGFfdGV4dHVyZV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zMDtcXG4jaWZkZWYgRk9HXFxudmFyeWluZyBmbG9hdCB2X2ZvZ19vcGFjaXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnVuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8wO3VuaWZvcm0gbWF0NCB1X2xpZ2h0X21hdHJpeF8xO3ZhcnlpbmcgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxuY29uc3QgZmxvYXQgc2tpcnRPZmZzZXQ9MjQ1NzUuMDtjb25zdCBmbG9hdCB3aXJlZnJhbWVPZmZzZXQ9MC4wMDAxNTt2b2lkIG1haW4oKSB7dl9wb3MwPWFfdGV4dHVyZV9wb3MvODE5Mi4wO2Zsb2F0IHNraXJ0PWZsb2F0KGFfcG9zLnggPj1za2lydE9mZnNldCk7ZmxvYXQgZWxldmF0aW9uPWVsZXZhdGlvbihhX3RleHR1cmVfcG9zKS1za2lydCp1X3NraXJ0X2hlaWdodDtcXG4jaWZkZWYgVEVSUkFJTl9XSVJFRlJBTUVcXG5lbGV2YXRpb24rPXVfc2tpcnRfaGVpZ2h0KnVfc2tpcnRfaGVpZ2h0KndpcmVmcmFtZU9mZnNldDtcXG4jZW5kaWZcXG52ZWMyIGRlY29kZWRQb3M9YV9wb3MtdmVjMihza2lydCpza2lydE9mZnNldCwwLjApO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoZGVjb2RlZFBvcyxlbGV2YXRpb24sMS4wKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfb3BhY2l0eT1mb2coZm9nX3Bvc2l0aW9uKHZlYzMoZGVjb2RlZFBvcyxlbGV2YXRpb24pKSk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmVjMyBwb3M9dmVjMyhkZWNvZGVkUG9zLGVsZXZhdGlvbik7dl9wb3NfbGlnaHRfdmlld18wPXVfbGlnaHRfbWF0cml4XzAqdmVjNChwb3MsMS4pO3ZfcG9zX2xpZ2h0X3ZpZXdfMT11X2xpZ2h0X21hdHJpeF8xKnZlYzQocG9zLDEuKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxufVwiKSx0ZXJyYWluRGVwdGg6ZnIoXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2VuZGlmXFxudmFyeWluZyBmbG9hdCB2X2RlcHRoO3ZvaWQgbWFpbigpIHtnbF9GcmFnQ29sb3I9cGFja19kZXB0aCh2X2RlcHRoKTt9XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7dm9pZCBtYWluKCkge2Zsb2F0IGVsZXZhdGlvbj1lbGV2YXRpb24oYV90ZXh0dXJlX3Bvcyk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcyxlbGV2YXRpb24sMS4wKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnovZ2xfUG9zaXRpb24udzt9XCIpLHNreWJveDpmcihcIlxcbnZhcnlpbmcgbG93cCB2ZWMzIHZfdXY7dW5pZm9ybSBsb3dwIHNhbXBsZXJDdWJlIHVfY3ViZW1hcDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV90ZW1wb3JhbF9vZmZzZXQ7dW5pZm9ybSBoaWdocCB2ZWMzIHVfc3VuX2RpcmVjdGlvbjtmbG9hdCBzdW5fZGlzayhoaWdocCB2ZWMzIHJheV9kaXJlY3Rpb24saGlnaHAgdmVjMyBzdW5fZGlyZWN0aW9uKSB7aGlnaHAgZmxvYXQgY29zX2FuZ2xlPWRvdChub3JtYWxpemUocmF5X2RpcmVjdGlvbiksc3VuX2RpcmVjdGlvbik7Y29uc3QgaGlnaHAgZmxvYXQgY29zX3N1bl9hbmd1bGFyX2RpYW1ldGVyPTAuOTk5OTYxOTIzMDY7Y29uc3QgaGlnaHAgZmxvYXQgc21vb3Roc3RlcF9kZWx0YT0xZS01O3JldHVybiBzbW9vdGhzdGVwKFxcbmNvc19zdW5fYW5ndWxhcl9kaWFtZXRlci1zbW9vdGhzdGVwX2RlbHRhLGNvc19zdW5fYW5ndWxhcl9kaWFtZXRlcitzbW9vdGhzdGVwX2RlbHRhLGNvc19hbmdsZSk7fWZsb2F0IG1hcChmbG9hdCB2YWx1ZSxmbG9hdCBzdGFydCxmbG9hdCBlbmQsZmxvYXQgbmV3X3N0YXJ0LGZsb2F0IG5ld19lbmQpIHtyZXR1cm4gKCh2YWx1ZS1zdGFydCkqKG5ld19lbmQtbmV3X3N0YXJ0KSkvKGVuZC1zdGFydCkrbmV3X3N0YXJ0O312b2lkIG1haW4oKSB7dmVjMyB1dj12X3V2O2NvbnN0IGZsb2F0IHlfYmlhcz0wLjAxNTt1di55Kz15X2JpYXM7dXYueT1wb3coYWJzKHV2LnkpLDEuMC81LjApO3V2Lnk9bWFwKHV2LnksMC4wLDEuMCwtMS4wLDEuMCk7dmVjMyBza3lfY29sb3I9dGV4dHVyZUN1YmUodV9jdWJlbWFwLHV2KS5yZ2I7XFxuI2lmZGVmIEZPR1xcbnNreV9jb2xvcj1mb2dfYXBwbHlfc2t5X2dyYWRpZW50KHZfdXYueHp5LHNreV9jb2xvcik7XFxuI2VuZGlmXFxuc2t5X2NvbG9yLnJnYj1kaXRoZXIoc2t5X2NvbG9yLnJnYixnbF9GcmFnQ29vcmQueHkrdV90ZW1wb3JhbF9vZmZzZXQpO3NreV9jb2xvcis9MC4xKnN1bl9kaXNrKHZfdXYsdV9zdW5fZGlyZWN0aW9uKTtnbF9GcmFnQ29sb3I9dmVjNChza3lfY29sb3IqdV9vcGFjaXR5LHVfb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLHJyKSxza3lib3hHcmFkaWVudDpmcihcInZhcnlpbmcgaGlnaHAgdmVjMyB2X3V2O3VuaWZvcm0gbG93cCBzYW1wbGVyMkQgdV9jb2xvcl9yYW1wO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2NlbnRlcl9kaXJlY3Rpb247dW5pZm9ybSBsb3dwIGZsb2F0IHVfcmFkaXVzO3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3RlbXBvcmFsX29mZnNldDt2b2lkIG1haW4oKSB7ZmxvYXQgcHJvZ3Jlc3M9YWNvcyhkb3Qobm9ybWFsaXplKHZfdXYpLHVfY2VudGVyX2RpcmVjdGlvbikpL3VfcmFkaXVzO3ZlYzQgY29sb3I9dGV4dHVyZTJEKHVfY29sb3JfcmFtcCx2ZWMyKHByb2dyZXNzLDAuNSkpO1xcbiNpZmRlZiBGT0dcXG5jb2xvci5yZ2I9Zm9nX2FwcGx5X3NreV9ncmFkaWVudCh2X3V2Lnh6eSxjb2xvci5yZ2IvY29sb3IuYSkqY29sb3IuYTtcXG4jZW5kaWZcXG5jb2xvcio9dV9vcGFjaXR5O2NvbG9yLnJnYj1kaXRoZXIoY29sb3IucmdiLGdsX0ZyYWdDb29yZC54eSt1X3RlbXBvcmFsX29mZnNldCk7Z2xfRnJhZ0NvbG9yPWNvbG9yO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixyciksc2t5Ym94Q2FwdHVyZTpmcihcIlxcbnZhcnlpbmcgaGlnaHAgdmVjMyB2X3Bvc2l0aW9uO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zdW5faW50ZW5zaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9sdW1pbmFuY2U7dW5pZm9ybSBsb3dwIHZlYzMgdV9zdW5fZGlyZWN0aW9uO3VuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yX3RpbnRfcjt1bmlmb3JtIGhpZ2hwIHZlYzQgdV9jb2xvcl90aW50X207XFxuI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNlbmRpZlxcbiNkZWZpbmUgQkVUQV9SICAgICAgICAgICAgICAgICAgdmVjMyg1LjVlLTYsMTMuMGUtNiwyMi40ZS02KVxcbiNkZWZpbmUgQkVUQV9NICAgICAgICAgICAgICAgICAgdmVjMygyMWUtNiwyMWUtNiwyMWUtNilcXG4jZGVmaW5lIE1JRV9HICAgICAgICAgICAgICAgICAgIDAuNzZcXG4jZGVmaW5lIERFTlNJVFlfSEVJR0hUX1NDQUxFX1IgIDgwMDAuMFxcbiNkZWZpbmUgREVOU0lUWV9IRUlHSFRfU0NBTEVfTSAgMTIwMC4wXFxuI2RlZmluZSBQTEFORVRfUkFESVVTICAgICAgICAgICA2MzYwZTNcXG4jZGVmaW5lIEFUTU9TUEhFUkVfUkFESVVTICAgICAgIDY0MjBlM1xcbiNkZWZpbmUgU0FNUExFX1NURVBTICAgICAgICAgICAgMTBcXG4jZGVmaW5lIERFTlNJVFlfU1RFUFMgICAgICAgICAgIDRcXG5mbG9hdCByYXlfc3BoZXJlX2V4aXQodmVjMyBvcmlnLHZlYzMgZGlyLGZsb2F0IHJhZGl1cykge2Zsb2F0IGE9ZG90KGRpcixkaXIpO2Zsb2F0IGI9Mi4wKmRvdChkaXIsb3JpZyk7ZmxvYXQgYz1kb3Qob3JpZyxvcmlnKS1yYWRpdXMqcmFkaXVzO2Zsb2F0IGQ9c3FydChiKmItNC4wKmEqYyk7cmV0dXJuICgtYitkKS8oMi4wKmEpO312ZWMzIGV4dGluY3Rpb24odmVjMiBkZW5zaXR5KSB7cmV0dXJuIGV4cCgtdmVjMyhCRVRBX1IqdV9jb2xvcl90aW50X3IuYSpkZW5zaXR5LngrQkVUQV9NKnVfY29sb3JfdGludF9tLmEqZGVuc2l0eS55KSk7fXZlYzIgbG9jYWxfZGVuc2l0eSh2ZWMzIHBvaW50KSB7ZmxvYXQgaGVpZ2h0PW1heChsZW5ndGgocG9pbnQpLVBMQU5FVF9SQURJVVMsMC4wKTtmbG9hdCBleHBfcj1leHAoLWhlaWdodC9ERU5TSVRZX0hFSUdIVF9TQ0FMRV9SKTtmbG9hdCBleHBfbT1leHAoLWhlaWdodC9ERU5TSVRZX0hFSUdIVF9TQ0FMRV9NKTtyZXR1cm4gdmVjMihleHBfcixleHBfbSk7fWZsb2F0IHBoYXNlX3JheShmbG9hdCBjb3NfYW5nbGUpIHtyZXR1cm4gKDMuMC8oMTYuMCpQSSkpKigxLjArY29zX2FuZ2xlKmNvc19hbmdsZSk7fWZsb2F0IHBoYXNlX21pZShmbG9hdCBjb3NfYW5nbGUpIHtyZXR1cm4gKDMuMC8oOC4wKlBJKSkqKCgxLjAtTUlFX0cqTUlFX0cpKigxLjArY29zX2FuZ2xlKmNvc19hbmdsZSkpLygoMi4wK01JRV9HKk1JRV9HKSpwb3coMS4wK01JRV9HKk1JRV9HLTIuMCpNSUVfRypjb3NfYW5nbGUsMS41KSk7fXZlYzIgZGVuc2l0eV90b19hdG1vc3BoZXJlKHZlYzMgcG9pbnQsdmVjMyBsaWdodF9kaXIpIHtmbG9hdCByYXlfbGVuPXJheV9zcGhlcmVfZXhpdChwb2ludCxsaWdodF9kaXIsQVRNT1NQSEVSRV9SQURJVVMpO2Zsb2F0IHN0ZXBfbGVuPXJheV9sZW4vZmxvYXQoREVOU0lUWV9TVEVQUyk7dmVjMiBkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU9dmVjMigwLjApO2ZvciAoaW50IGk9MDsgaSA8IERFTlNJVFlfU1RFUFM7KytpKSB7dmVjMyBwb2ludF9vbl9yYXk9cG9pbnQrbGlnaHRfZGlyKigoZmxvYXQoaSkrMC41KSpzdGVwX2xlbik7ZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlKz1sb2NhbF9kZW5zaXR5KHBvaW50X29uX3JheSkqc3RlcF9sZW47O31yZXR1cm4gZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlO312ZWMzIGF0bW9zcGhlcmUodmVjMyByYXlfZGlyLHZlYzMgc3VuX2RpcmVjdGlvbixmbG9hdCBzdW5faW50ZW5zaXR5KSB7dmVjMiBkZW5zaXR5X29yaWdfdG9fcG9pbnQ9dmVjMigwLjApO3ZlYzMgc2NhdHRlcl9yPXZlYzMoMC4wKTt2ZWMzIHNjYXR0ZXJfbT12ZWMzKDAuMCk7dmVjMyBvcmlnaW49dmVjMygwLjAsUExBTkVUX1JBRElVUywwLjApO2Zsb2F0IHJheV9sZW49cmF5X3NwaGVyZV9leGl0KG9yaWdpbixyYXlfZGlyLEFUTU9TUEhFUkVfUkFESVVTKTtmbG9hdCBzdGVwX2xlbj1yYXlfbGVuL2Zsb2F0KFNBTVBMRV9TVEVQUyk7Zm9yIChpbnQgaT0wOyBpIDwgU0FNUExFX1NURVBTOysraSkge3ZlYzMgcG9pbnRfb25fcmF5PW9yaWdpbityYXlfZGlyKigoZmxvYXQoaSkrMC41KSpzdGVwX2xlbik7dmVjMiBkZW5zaXR5PWxvY2FsX2RlbnNpdHkocG9pbnRfb25fcmF5KSpzdGVwX2xlbjtkZW5zaXR5X29yaWdfdG9fcG9pbnQrPWRlbnNpdHk7dmVjMiBkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU9ZGVuc2l0eV90b19hdG1vc3BoZXJlKHBvaW50X29uX3JheSxzdW5fZGlyZWN0aW9uKTt2ZWMyIGRlbnNpdHlfb3JpZ190b19hdG1vc3BoZXJlPWRlbnNpdHlfb3JpZ190b19wb2ludCtkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU7dmVjMyBleHRpbmN0aW9uPWV4dGluY3Rpb24oZGVuc2l0eV9vcmlnX3RvX2F0bW9zcGhlcmUpO3NjYXR0ZXJfcis9ZGVuc2l0eS54KmV4dGluY3Rpb247c2NhdHRlcl9tKz1kZW5zaXR5LnkqZXh0aW5jdGlvbjt9ZmxvYXQgY29zX2FuZ2xlPWRvdChyYXlfZGlyLHN1bl9kaXJlY3Rpb24pO2Zsb2F0IHBoYXNlX3I9cGhhc2VfcmF5KGNvc19hbmdsZSk7ZmxvYXQgcGhhc2VfbT1waGFzZV9taWUoY29zX2FuZ2xlKTt2ZWMzIGJldGFfcj1CRVRBX1IqdV9jb2xvcl90aW50X3IucmdiKnVfY29sb3JfdGludF9yLmE7dmVjMyBiZXRhX209QkVUQV9NKnVfY29sb3JfdGludF9tLnJnYip1X2NvbG9yX3RpbnRfbS5hO3JldHVybiAoc2NhdHRlcl9yKnBoYXNlX3IqYmV0YV9yK3NjYXR0ZXJfbSpwaGFzZV9tKmJldGFfbSkqc3VuX2ludGVuc2l0eTt9Y29uc3QgZmxvYXQgQT0wLjE1O2NvbnN0IGZsb2F0IEI9MC41MDtjb25zdCBmbG9hdCBDPTAuMTA7Y29uc3QgZmxvYXQgRD0wLjIwO2NvbnN0IGZsb2F0IEU9MC4wMjtjb25zdCBmbG9hdCBGPTAuMzA7dmVjMyB1bmNoYXJ0ZWQyX3RvbmVtYXAodmVjMyB4KSB7cmV0dXJuICgoeCooQSp4K0MqQikrRCpFKS8oeCooQSp4K0IpK0QqRikpLUUvRjt9dm9pZCBtYWluKCkge3ZlYzMgcmF5X2RpcmVjdGlvbj12X3Bvc2l0aW9uO3JheV9kaXJlY3Rpb24ueT1wb3cocmF5X2RpcmVjdGlvbi55LDUuMCk7Y29uc3QgZmxvYXQgeV9iaWFzPTAuMDE1O3JheV9kaXJlY3Rpb24ueSs9eV9iaWFzO3ZlYzMgY29sb3I9YXRtb3NwaGVyZShub3JtYWxpemUocmF5X2RpcmVjdGlvbiksdV9zdW5fZGlyZWN0aW9uLHVfc3VuX2ludGVuc2l0eSk7ZmxvYXQgd2hpdGVfc2NhbGU9MS4wNzQ4NzI0Njc1NjMzODU0O2NvbG9yPXVuY2hhcnRlZDJfdG9uZW1hcCgobG9nMigyLjAvcG93KHVfbHVtaW5hbmNlLDQuMCkpKSpjb2xvcikqd2hpdGVfc2NhbGU7Z2xfRnJhZ0NvbG9yPXZlYzQoY29sb3IsMS4wKTt9XCIsXCJhdHRyaWJ1dGUgaGlnaHAgdmVjMyBhX3Bvc18zZjt1bmlmb3JtIG1hdDMgdV9tYXRyaXhfM2Y7dmFyeWluZyBoaWdocCB2ZWMzIHZfcG9zaXRpb247ZmxvYXQgbWFwKGZsb2F0IHZhbHVlLGZsb2F0IHN0YXJ0LGZsb2F0IGVuZCxmbG9hdCBuZXdfc3RhcnQsZmxvYXQgbmV3X2VuZCkge3JldHVybiAoKHZhbHVlLXN0YXJ0KSoobmV3X2VuZC1uZXdfc3RhcnQpKS8oZW5kLXN0YXJ0KStuZXdfc3RhcnQ7fXZvaWQgbWFpbigpIHt2ZWM0IHBvcz12ZWM0KHVfbWF0cml4XzNmKmFfcG9zXzNmLDEuMCk7dl9wb3NpdGlvbj1wb3MueHl6O3ZfcG9zaXRpb24ueSo9LTEuMDt2X3Bvc2l0aW9uLnk9bWFwKHZfcG9zaXRpb24ueSwtMS4wLDEuMCwwLjAsMS4wKTtnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zXzNmLnh5LDAuMCwxLjApO31cIiksZ2xvYmVSYXN0ZXI6ZnIoXCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDt2YXJ5aW5nIHZlYzIgdl9wb3MwO1xcbiNpZm5kZWYgRk9HXFxudW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV90bDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX3RyO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fYnI7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV9ibDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9nbG9iZV9wb3M7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dsb2JlX3JhZGl1czt1bmlmb3JtIHZlYzIgdV92aWV3cG9ydDtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7dmVjNCBjb2xvcjtcXG4jaWZkZWYgQ1VTVE9NX0FOVElBTElBU0lOR1xcbnZlYzIgdXY9Z2xfRnJhZ0Nvb3JkLnh5L3Vfdmlld3BvcnQ7aGlnaHAgdmVjMyByYXlfZGlyPW1peChcXG5taXgodV9mcnVzdHVtX3RsLHVfZnJ1c3R1bV90cix1di54KSxtaXgodV9mcnVzdHVtX2JsLHVfZnJ1c3R1bV9icix1di54KSwxLjAtdXYueSk7dmVjMyBkaXI9bm9ybWFsaXplKHJheV9kaXIpO3ZlYzMgY2xvc2VzdF9wb2ludD1kb3QodV9nbG9iZV9wb3MsZGlyKSpkaXI7ZmxvYXQgbm9ybV9kaXN0X2Zyb21fY2VudGVyPTEuMC1sZW5ndGgoY2xvc2VzdF9wb2ludC11X2dsb2JlX3BvcykvdV9nbG9iZV9yYWRpdXM7Y29uc3QgZmxvYXQgYW50aWFsaWFzX3BpeGVsPTIuMDtmbG9hdCBhbnRpYWxpYXNfZmFjdG9yPWFudGlhbGlhc19waXhlbCpmd2lkdGgobm9ybV9kaXN0X2Zyb21fY2VudGVyKTtmbG9hdCBhbnRpYWxpYXM9c21vb3Roc3RlcCgwLjAsYW50aWFsaWFzX2ZhY3Rvcixub3JtX2Rpc3RfZnJvbV9jZW50ZXIpO3ZlYzQgcmFzdGVyPXRleHR1cmUyRCh1X2ltYWdlMCx2X3BvczApO2NvbG9yPXZlYzQocmFzdGVyLnJnYiphbnRpYWxpYXMscmFzdGVyLmEqYW50aWFsaWFzKTtcXG4jZWxzZVxcbmNvbG9yPXRleHR1cmUyRCh1X2ltYWdlMCx2X3BvczApO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGNvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgVEVSUkFJTl9XSVJFRlJBTUVcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjAsMC4wLDAuMCwwLjgpO1xcbiNlbmRpZlxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X3Byb2pfbWF0cml4O3VuaWZvcm0gbWF0NCB1X25vcm1hbGl6ZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfZ2xvYmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X21lcmNfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSBtYXQzIHVfZ3JpZF9tYXRyaXg7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxuYXR0cmlidXRlIHZlYzMgYV9nbG9iZV9wb3M7YXR0cmlidXRlIHZlYzIgYV91djtcXG4jZWxzZVxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMiB2X3BvczA7Y29uc3QgZmxvYXQgd2lyZWZyYW1lT2Zmc2V0PTFlMztmbG9hdCBtZXJjYXRvclhmcm9tTG5nKGZsb2F0IGxuZykge3JldHVybiAoMTgwLjArbG5nKS8zNjAuMDt9ZmxvYXQgbWVyY2F0b3JZZnJvbUxhdChmbG9hdCBsYXQpIHtyZXR1cm4gKDE4MC4wLShSQURfVE9fREVHKmxvZyh0YW4oUVVBUlRFUl9QSStsYXQvMi4wKkRFR19UT19SQUQpKSkpLzM2MC4wO312ZWMzIGxhdExuZ1RvRUNFRih2ZWMyIGxhdExuZykge2xhdExuZz1ERUdfVE9fUkFEKmxhdExuZztmbG9hdCBjb3NMYXQ9Y29zKGxhdExuZ1swXSk7ZmxvYXQgc2luTGF0PXNpbihsYXRMbmdbMF0pO2Zsb2F0IGNvc0xuZz1jb3MobGF0TG5nWzFdKTtmbG9hdCBzaW5Mbmc9c2luKGxhdExuZ1sxXSk7ZmxvYXQgc3g9Y29zTGF0KnNpbkxuZypHTE9CRV9SQURJVVM7ZmxvYXQgc3k9LXNpbkxhdCpHTE9CRV9SQURJVVM7ZmxvYXQgc3o9Y29zTGF0KmNvc0xuZypHTE9CRV9SQURJVVM7cmV0dXJuIHZlYzMoc3gsc3ksc3opO312b2lkIG1haW4oKSB7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxudmVjMyBnbG9iZV9wb3M9YV9nbG9iZV9wb3M7dmVjMiB1dj1hX3V2O1xcbiNlbHNlXFxuZmxvYXQgdGlsZXM9dV9ncmlkX21hdHJpeFswXVsyXTtmbG9hdCBpZHg9dV9ncmlkX21hdHJpeFsxXVsyXTtmbG9hdCBpZHk9dV9ncmlkX21hdHJpeFsyXVsyXTt2ZWMzIGxhdExuZz11X2dyaWRfbWF0cml4KnZlYzMoYV9wb3MsMS4wKTtmbG9hdCBtZXJjYXRvclk9bWVyY2F0b3JZZnJvbUxhdChsYXRMbmdbMF0pO2Zsb2F0IHV2WT1tZXJjYXRvclkqdGlsZXMtaWR5O2Zsb2F0IG1lcmNhdG9yWD1tZXJjYXRvclhmcm9tTG5nKGxhdExuZ1sxXSk7ZmxvYXQgdXZYPW1lcmNhdG9yWCp0aWxlcy1pZHg7dmVjMyBnbG9iZV9wb3M9bGF0TG5nVG9FQ0VGKGxhdExuZy54eSk7dmVjMiBtZXJjX3Bvcz12ZWMyKG1lcmNhdG9yWCxtZXJjYXRvclkpO3ZlYzIgdXY9dmVjMih1dlgsdXZZKTtcXG4jZW5kaWZcXG52X3BvczA9dXY7dmVjMiB0aWxlX3Bvcz11dipFWFRFTlQ7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxudmVjMyB1cF92ZWN0b3I9bm9ybWFsaXplKGdsb2JlX3BvcykqdV90aWxlX3VwX3NjYWxlO1xcbiNlbHNlXFxudmVjMyB1cF92ZWN0b3I9ZWxldmF0aW9uVmVjdG9yKHRpbGVfcG9zKTtcXG4jZW5kaWZcXG5mbG9hdCBoZWlnaHQ9ZWxldmF0aW9uKHRpbGVfcG9zKTtcXG4jaWZkZWYgVEVSUkFJTl9XSVJFRlJBTUVcXG5oZWlnaHQrPXdpcmVmcmFtZU9mZnNldDtcXG4jZW5kaWZcXG5nbG9iZV9wb3MrPXVwX3ZlY3RvcipoZWlnaHQ7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxudmVjNCBpbnRlcnBvbGF0ZWRfcG9zPXVfZ2xvYmVfbWF0cml4KnZlYzQoZ2xvYmVfcG9zLDEuMCk7XFxuI2Vsc2VcXG52ZWM0IGdsb2JlX3dvcmxkX3Bvcz11X2dsb2JlX21hdHJpeCp2ZWM0KGdsb2JlX3BvcywxLjApO3ZlYzQgbWVyY193b3JsZF9wb3M9dmVjNCgwLjApO2lmICh1X3pvb21fdHJhbnNpdGlvbiA+IDAuMCkge21lcmNfd29ybGRfcG9zPXZlYzQobWVyY19wb3MsaGVpZ2h0LDEuMCk7bWVyY193b3JsZF9wb3MueHktPXVfbWVyY19jZW50ZXI7bWVyY193b3JsZF9wb3MueD13cmFwKG1lcmNfd29ybGRfcG9zLngsLTAuNSwwLjUpO21lcmNfd29ybGRfcG9zPXVfbWVyY19tYXRyaXgqbWVyY193b3JsZF9wb3M7fXZlYzQgaW50ZXJwb2xhdGVkX3Bvcz12ZWM0KG1peChnbG9iZV93b3JsZF9wb3MueHl6LG1lcmNfd29ybGRfcG9zLnh5eix1X3pvb21fdHJhbnNpdGlvbiksMS4wKTtcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbj11X3Byb2pfbWF0cml4KmludGVycG9sYXRlZF9wb3M7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oKHVfbm9ybWFsaXplX21hdHJpeCp2ZWM0KGdsb2JlX3BvcywxLjApKS54eXopO1xcbiNlbmRpZlxcbn1cIiksZ2xvYmVBdG1vc3BoZXJlOmZyKFwidW5pZm9ybSBmbG9hdCB1X3RyYW5zaXRpb247dW5pZm9ybSBoaWdocCBmbG9hdCB1X2ZhZGVvdXRfcmFuZ2U7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3RlbXBvcmFsX29mZnNldDt1bmlmb3JtIHZlYzMgdV9zdGFydF9jb2xvcjt1bmlmb3JtIHZlYzQgdV9jb2xvcjt1bmlmb3JtIHZlYzQgdV9zcGFjZV9jb2xvcjt1bmlmb3JtIHZlYzQgdV9oaWdoX2NvbG9yO3VuaWZvcm0gZmxvYXQgdV9zdGFyX2ludGVuc2l0eTt1bmlmb3JtIGZsb2F0IHVfc3Rhcl9zaXplO3VuaWZvcm0gZmxvYXQgdV9zdGFyX2RlbnNpdHk7dW5pZm9ybSBmbG9hdCB1X2hvcml6b25fYW5nbGU7dW5pZm9ybSBtYXQ0IHVfcm90YXRpb25fbWF0cml4O3ZhcnlpbmcgaGlnaHAgdmVjMyB2X3JheV9kaXI7dmFyeWluZyBoaWdocCB2ZWMzIHZfaG9yaXpvbl9kaXI7aGlnaHAgZmxvYXQgcmFuZG9tKGhpZ2hwIHZlYzMgcCkge3A9ZnJhY3QocCp2ZWMzKDIzLjIzNDIsOTcuMTIzMSw5MS4yMzQyKSk7cCs9ZG90KHAuenh5LHAueXh6KzEyMy4xMjM0KTtyZXR1cm4gZnJhY3QocC54KnAueSk7fWZsb2F0IHN0YXJzKHZlYzMgcCxmbG9hdCBzY2FsZSx2ZWMyIG9mZnNldCkge3ZlYzIgdXZfc2NhbGU9KHVfdmlld3BvcnQvdV9zdGFyX3NpemUpKnNjYWxlO3ZlYzMgcG9zaXRpb249dmVjMyhwLnh5KnV2X3NjYWxlK29mZnNldCp1X3ZpZXdwb3J0LHAueik7dmVjMyBxPWZyYWN0KHBvc2l0aW9uKS0wLjU7dmVjMyBpZD1mbG9vcihwb3NpdGlvbik7ZmxvYXQgcmFuZG9tX3Zpc2liaWxpdHk9c3RlcChyYW5kb20oaWQpLHVfc3Rhcl9kZW5zaXR5KTtmbG9hdCBjaXJjbGU9c21vb3Roc3RlcCgwLjUrdV9zdGFyX2ludGVuc2l0eSwwLjUsbGVuZ3RoKHEpKTtyZXR1cm4gY2lyY2xlKnJhbmRvbV92aXNpYmlsaXR5O312b2lkIG1haW4oKSB7aGlnaHAgdmVjMyBkaXI9bm9ybWFsaXplKHZfcmF5X2Rpcik7ZmxvYXQgZ2xvYmVfcG9zX2RvdF9kaXI7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmdsb2JlX3Bvc19kb3RfZGlyPWRvdCh1X2dsb2JlX3BvcyxkaXIpO2hpZ2hwIHZlYzMgY2xvc2VzdF9wb2ludF9mb3J3YXJkPWFicyhnbG9iZV9wb3NfZG90X2RpcikqZGlyO2Zsb2F0IG5vcm1fZGlzdF9mcm9tX2NlbnRlcj1sZW5ndGgoY2xvc2VzdF9wb2ludF9mb3J3YXJkLXVfZ2xvYmVfcG9zKS91X2dsb2JlX3JhZGl1cztpZiAobm9ybV9kaXN0X2Zyb21fY2VudGVyIDwgMC45OCkge2Rpc2NhcmQ7cmV0dXJuO31cXG4jZW5kaWZcXG5oaWdocCB2ZWMzIGhvcml6b25fZGlyPW5vcm1hbGl6ZSh2X2hvcml6b25fZGlyKTtmbG9hdCBob3Jpem9uX2FuZ2xlX21lcmNhdG9yPWRpci55IDwgaG9yaXpvbl9kaXIueSA/XFxuMC4wIDogbWF4KGFjb3MoZG90KGRpcixob3Jpem9uX2RpcikpLDAuMCk7ZmxvYXQgaG9yaXpvbl9hbmdsZTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuaGlnaHAgdmVjMyBjbG9zZXN0X3BvaW50PWdsb2JlX3Bvc19kb3RfZGlyKmRpcjtmbG9hdCBjbG9zZXN0X3BvaW50X3RvX2NlbnRlcj1sZW5ndGgoY2xvc2VzdF9wb2ludC11X2dsb2JlX3Bvcyk7ZmxvYXQgdGhldGE9YXNpbihjbGFtcChjbG9zZXN0X3BvaW50X3RvX2NlbnRlci9sZW5ndGgodV9nbG9iZV9wb3MpLC0xLjAsMS4wKSk7aG9yaXpvbl9hbmdsZT1nbG9iZV9wb3NfZG90X2RpciA8IDAuMCA/XFxuUEktdGhldGEtdV9ob3Jpem9uX2FuZ2xlIDogdGhldGEtdV9ob3Jpem9uX2FuZ2xlO2Zsb2F0IGFuZ2xlX3Q9cG93KHVfdHJhbnNpdGlvbiwxMC4wKTtob3Jpem9uX2FuZ2xlPW1peChob3Jpem9uX2FuZ2xlLGhvcml6b25fYW5nbGVfbWVyY2F0b3IsYW5nbGVfdCk7XFxuI2Vsc2VcXG5ob3Jpem9uX2FuZ2xlPWhvcml6b25fYW5nbGVfbWVyY2F0b3I7XFxuI2VuZGlmXFxuaG9yaXpvbl9hbmdsZS89UEk7ZmxvYXQgdD1leHAoLWhvcml6b25fYW5nbGUvdV9mYWRlb3V0X3JhbmdlKTtmbG9hdCBhbHBoYV8wPXVfY29sb3IuYTtmbG9hdCBhbHBoYV8xPXVfaGlnaF9jb2xvci5hO2Zsb2F0IGFscGhhXzI9dV9zcGFjZV9jb2xvci5hO3ZlYzMgY29sb3Jfc3RvcF8wPXVfY29sb3IucmdiO3ZlYzMgY29sb3Jfc3RvcF8xPXVfaGlnaF9jb2xvci5yZ2I7dmVjMyBjb2xvcl9zdG9wXzI9dV9zcGFjZV9jb2xvci5yZ2I7dmVjMyBjMD1taXgoY29sb3Jfc3RvcF8yLGNvbG9yX3N0b3BfMSxhbHBoYV8xKTt2ZWMzIGMxPW1peChjMCxjb2xvcl9zdG9wXzAsYWxwaGFfMCk7dmVjMyBjMj1taXgoYzAsYzEsdCk7dmVjMyBjID1taXgoY29sb3Jfc3RvcF8yLGMyLHQpO2Zsb2F0IGEwPW1peChhbHBoYV8yLDEuMCxhbHBoYV8xKTtmbG9hdCBhMT1taXgoYTAsMS4wLGFscGhhXzApO2Zsb2F0IGEyPW1peChhMCxhMSx0KTtmbG9hdCBhID1taXgoYWxwaGFfMixhMix0KTt2ZWMyIHV2PWdsX0ZyYWdDb29yZC54eS91X3ZpZXdwb3J0LTAuNTtmbG9hdCBhc3BlY3RfcmF0aW89dV92aWV3cG9ydC54L3Vfdmlld3BvcnQueTt2ZWM0IHV2X2Rpcj12ZWM0KG5vcm1hbGl6ZSh2ZWMzKHV2LngqYXNwZWN0X3JhdGlvLHV2LnksMS4wKSksMS4wKTt1dl9kaXI9dV9yb3RhdGlvbl9tYXRyaXgqdXZfZGlyO3ZlYzMgbj1hYnModXZfZGlyLnh5eik7dmVjMiB1dl9yZW1hcD0obi54ID4gbi55ICYmIG4ueCA+IG4ueikgPyB1dl9kaXIueXovdXZfZGlyLng6XFxuKG4ueSA+IG4ueCAmJiBuLnkgPiBuLnopID8gdXZfZGlyLnp4L3V2X2Rpci55OlxcbnV2X2Rpci54eS91dl9kaXIuejt1dl9yZW1hcC54Lz1hc3BlY3RfcmF0aW87dmVjMyBEPXZlYzModXZfcmVtYXAsMS4wKTtoaWdocCBmbG9hdCBzdGFyX2ZpZWxkPTAuMDtpZiAodV9zdGFyX2ludGVuc2l0eSA+IDAuMCkge3N0YXJfZmllbGQrPXN0YXJzKEQsMS4yLHZlYzIoMC4wLDAuMCkpO3N0YXJfZmllbGQrPXN0YXJzKEQsMS4wLHZlYzIoMS4wLDAuMCkpO3N0YXJfZmllbGQrPXN0YXJzKEQsMC44LHZlYzIoMC4wLDEuMCkpO3N0YXJfZmllbGQrPXN0YXJzKEQsMC42LHZlYzIoMS4wLDEuMCkpO3N0YXJfZmllbGQqPSgxLjAtcG93KHQsMC4yNSsoMS4wLXVfaGlnaF9jb2xvci5hKSowLjc1KSk7Yys9c3Rhcl9maWVsZCphbHBoYV8yO31jPWRpdGhlcihjLGdsX0ZyYWdDb29yZC54eSt1X3RlbXBvcmFsX29mZnNldCk7Z2xfRnJhZ0NvbG9yPXZlYzQoYyxhKTt9XCIsXCJhdHRyaWJ1dGUgdmVjMyBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3V2O3VuaWZvcm0gdmVjMyB1X2ZydXN0dW1fdGw7dW5pZm9ybSB2ZWMzIHVfZnJ1c3R1bV90cjt1bmlmb3JtIHZlYzMgdV9mcnVzdHVtX2JyO3VuaWZvcm0gdmVjMyB1X2ZydXN0dW1fYmw7dW5pZm9ybSBmbG9hdCB1X2hvcml6b247dmFyeWluZyBoaWdocCB2ZWMzIHZfcmF5X2Rpcjt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl9ob3Jpem9uX2Rpcjt2b2lkIG1haW4oKSB7dl9yYXlfZGlyPW1peChcXG5taXgodV9mcnVzdHVtX3RsLHVfZnJ1c3R1bV90cixhX3V2LngpLG1peCh1X2ZydXN0dW1fYmwsdV9mcnVzdHVtX2JyLGFfdXYueCksYV91di55KTt2X2hvcml6b25fZGlyPW1peChcXG5taXgodV9mcnVzdHVtX3RsLHVfZnJ1c3R1bV9ibCx1X2hvcml6b24pLG1peCh1X2ZydXN0dW1fdHIsdV9mcnVzdHVtX2JyLHVfaG9yaXpvbiksYV91di54KTtnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zLDEuMCk7fVwiKX07ZnVuY3Rpb24gcHIoZSx0KXtjb25zdCByPWUucmVwbGFjZSgvXFxzKlxcL1xcL1teXFxuXSpcXG4vZyxcIlxcblwiKS5zcGxpdChcIlxcblwiKTtmb3IobGV0IGUgb2YgcilpZihlPWUudHJpbSgpLFwiI1wiPT09ZVswXSYmZS5pbmNsdWRlcyhcImlmXCIpJiYhZS5pbmNsdWRlcyhcImVuZGlmXCIpKXtlPWUucmVwbGFjZShcIiNcIixcIlwiKS5yZXBsYWNlKC9pZmRlZnxpZm5kZWZ8ZWxpZnxpZi9nLFwiXCIpLnJlcGxhY2UoLyF8ZGVmaW5lZHxcXCh8XFwpfFxcfFxcfHwmJi9nLFwiXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIikudHJpbSgpO2NvbnN0IHI9ZS5zcGxpdChcIiBcIik7Zm9yKGNvbnN0IGUgb2Ygcil0LmluY2x1ZGVzKGUpfHx0LnB1c2goZSl9fWZ1bmN0aW9uIGZyKGUsdCl7Y29uc3Qgcj0vI3ByYWdtYSBtYXBib3g6IChbXFx3XSspIChbXFx3XSspIChbXFx3XSspIChbXFx3XSspL2csbj10Lm1hdGNoKC9hdHRyaWJ1dGUgKGhpZ2hwIHxtZWRpdW1wIHxsb3dwICk/KFtcXHddKykgKFtcXHddKykvZyksaT17fSxvPVsuLi5scl07cmV0dXJuIHByKGUsbykscHIodCxvKSx7ZnJhZ21lbnRTb3VyY2U6ZT1lLnJlcGxhY2UociwoZSx0LHIsbixvKT0+KGlbb109ITAsXCJkZWZpbmVcIj09PXQ/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke299XFxudmFyeWluZyAke3J9ICR7bn0gJHtvfTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtyfSAke259IHVfJHtvfTtcXG4jZW5kaWZcXG5gOmBcXG4jaWZkZWYgSEFTX1VOSUZPUk1fdV8ke299XFxuICAgICR7cn0gJHtufSAke299ID0gdV8ke299O1xcbiNlbmRpZlxcbmApKSx2ZXJ0ZXhTb3VyY2U6dD10LnJlcGxhY2UociwoZSx0LHIsbixvKT0+e2NvbnN0IGE9XCJmbG9hdFwiPT09bj9cInZlYzJcIjpcInZlYzRcIixzPW8ubWF0Y2goL2NvbG9yLyk/XCJjb2xvclwiOmE7cmV0dXJuIGlbb10/XCJkZWZpbmVcIj09PXQ/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke299XFxudW5pZm9ybSBsb3dwIGZsb2F0IHVfJHtvfV90O1xcbmF0dHJpYnV0ZSAke3J9ICR7YX0gYV8ke299O1xcbnZhcnlpbmcgJHtyfSAke259ICR7b307XFxuI2Vsc2VcXG51bmlmb3JtICR7cn0gJHtufSB1XyR7b307XFxuI2VuZGlmXFxuYDpcInZlYzRcIj09PXM/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke299XFxuICAgICR7b30gPSBhXyR7b307XFxuI2Vsc2VcXG4gICAgJHtyfSAke259ICR7b30gPSB1XyR7b307XFxuI2VuZGlmXFxuYDpgXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7b31cXG4gICAgJHtvfSA9IHVucGFja19taXhfJHtzfShhXyR7b30sIHVfJHtvfV90KTtcXG4jZWxzZVxcbiAgICAke3J9ICR7bn0gJHtvfSA9IHVfJHtvfTtcXG4jZW5kaWZcXG5gOlwiZGVmaW5lXCI9PT10P2BcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtvfVxcbnVuaWZvcm0gbG93cCBmbG9hdCB1XyR7b31fdDtcXG5hdHRyaWJ1dGUgJHtyfSAke2F9IGFfJHtvfTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtyfSAke259IHVfJHtvfTtcXG4jZW5kaWZcXG5gOlwidmVjNFwiPT09cz9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7b31cXG4gICAgJHtyfSAke259ICR7b30gPSBhXyR7b307XFxuI2Vsc2VcXG4gICAgJHtyfSAke259ICR7b30gPSB1XyR7b307XFxuI2VuZGlmXFxuYDpgXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7b31cXG4gICAgJHtyfSAke259ICR7b30gPSB1bnBhY2tfbWl4XyR7c30oYV8ke299LCB1XyR7b31fdCk7XFxuI2Vsc2VcXG4gICAgJHtyfSAke259ICR7b30gPSB1XyR7b307XFxuI2VuZGlmXFxuYH0pLHN0YXRpY0F0dHJpYnV0ZXM6bix1c2VkRGVmaW5lczpvfX1jbGFzcyBtcntjb25zdHJ1Y3Rvcigpe3RoaXMuYm91bmRQcm9ncmFtPW51bGwsdGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlcj1udWxsLHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnM9W10sdGhpcy5ib3VuZEluZGV4QnVmZmVyPW51bGwsdGhpcy5ib3VuZFZlcnRleE9mZnNldD1udWxsLHRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVycz1bXSx0aGlzLnZhbz1udWxsfWJpbmQoZSx0LHIsbixpLG8sYSl7dGhpcy5jb250ZXh0PWU7bGV0IHM9dGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycy5sZW5ndGghPT1uLmxlbmd0aDtmb3IobGV0IGU9MDshcyYmZTxuLmxlbmd0aDtlKyspdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVyc1tlXSE9PW5bZV0mJihzPSEwKTtsZXQgbD10aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnMubGVuZ3RoIT09YS5sZW5ndGg7Zm9yKGxldCBlPTA7IWwmJmU8YS5sZW5ndGg7ZSsrKXRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVyc1tlXSE9PWFbZV0mJihsPSEwKTtpZighZS5leHRWZXJ0ZXhBcnJheU9iamVjdHx8IXRoaXMudmFvfHx0aGlzLmJvdW5kUHJvZ3JhbSE9PXR8fHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXIhPT1yfHxzfHxsfHx0aGlzLmJvdW5kSW5kZXhCdWZmZXIhPT1pfHx0aGlzLmJvdW5kVmVydGV4T2Zmc2V0IT09byl0aGlzLmZyZXNoQmluZCh0LHIsbixpLG8sYSk7ZWxzZXtlLmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pO2Zvcihjb25zdCBlIG9mIGEpZSYmZS5iaW5kKCk7aSYmaS5keW5hbWljRHJhdyYmaS5iaW5kKCl9fWZyZXNoQmluZChlLHQscixuLGksbyl7bGV0IGE7Y29uc3Qgcz1lLm51bUF0dHJpYnV0ZXMsbD10aGlzLmNvbnRleHQsYz1sLmdsO2lmKGwuZXh0VmVydGV4QXJyYXlPYmplY3QpdGhpcy52YW8mJnRoaXMuZGVzdHJveSgpLHRoaXMudmFvPWwuZXh0VmVydGV4QXJyYXlPYmplY3QuY3JlYXRlVmVydGV4QXJyYXlPRVMoKSxsLmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pLGE9MCx0aGlzLmJvdW5kUHJvZ3JhbT1lLHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXI9dCx0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzPXIsdGhpcy5ib3VuZEluZGV4QnVmZmVyPW4sdGhpcy5ib3VuZFZlcnRleE9mZnNldD1pLHRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVycz1vO2Vsc2V7YT1sLmN1cnJlbnROdW1BdHRyaWJ1dGVzfHwwO2ZvcihsZXQgZT1zO2U8YTtlKyspYy5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoZSl9dC5lbmFibGVBdHRyaWJ1dGVzKGMsZSksdC5iaW5kKCksdC5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhjLGUsaSk7Zm9yKGNvbnN0IHQgb2Ygcil0LmVuYWJsZUF0dHJpYnV0ZXMoYyxlKSx0LmJpbmQoKSx0LnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGMsZSxpKTtmb3IoY29uc3QgdCBvZiBvKXQmJih0LmVuYWJsZUF0dHJpYnV0ZXMoYyxlKSx0LmJpbmQoKSx0LnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGMsZSxpKSk7biYmbi5iaW5kKCksbC5jdXJyZW50TnVtQXR0cmlidXRlcz1zfWRlc3Ryb3koKXt0aGlzLnZhbyYmKHRoaXMuY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdC5kZWxldGVWZXJ0ZXhBcnJheU9FUyh0aGlzLnZhbyksdGhpcy52YW89bnVsbCl9fWZ1bmN0aW9uIGdyKHQscil7Y29uc3Qgbj1NYXRoLnBvdygyLHIuY2Fub25pY2FsLnopLGk9ci5jYW5vbmljYWwueTtyZXR1cm5bbmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKDAsaS9uKS50b0xuZ0xhdCgpLmxhdCxuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoMCwoaSsxKS9uKS50b0xuZ0xhdCgpLmxhdF19ZnVuY3Rpb24gX3IodCxyLG4saSxvLGEscyl7Y29uc3QgbD10LmNvbnRleHQsYz1sLmdsLHU9bi5mYm87aWYoIXUpcmV0dXJuO3QucHJlcGFyZURyYXdUaWxlKCk7Y29uc3QgaD10LnVzZVByb2dyYW0oXCJoaWxsc2hhZGVcIik7bC5hY3RpdmVUZXh0dXJlLnNldChjLlRFWFRVUkUwKSxjLmJpbmRUZXh0dXJlKGMuVEVYVFVSRV8yRCx1LmNvbG9yQXR0YWNobWVudC5nZXQoKSk7Y29uc3QgZD0oKGUsdCxyLG4pPT57Y29uc3QgaT1yLnBhaW50LmdldChcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIiksbz1yLnBhaW50LmdldChcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIiksYT1yLnBhaW50LmdldChcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIik7bGV0IHM9ci5wYWludC5nZXQoXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiKSooTWF0aC5QSS8xODApO1widmlld3BvcnRcIj09PXIucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3JcIikmJihzLT1lLnRyYW5zZm9ybS5hbmdsZSk7Y29uc3QgbD0hZS5vcHRpb25zLm1vdmluZztyZXR1cm57dV9tYXRyaXg6bnx8ZS50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeCh0LnRpbGVJRC50b1Vud3JhcHBlZCgpLGwpLHVfaW1hZ2U6MCx1X2xhdHJhbmdlOmdyKDAsdC50aWxlSUQpLHVfbGlnaHQ6W3IucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWV4YWdnZXJhdGlvblwiKSxzXSx1X3NoYWRvdzppLHVfaGlnaGxpZ2h0Om8sdV9hY2NlbnQ6YX19KSh0LG4saSx0LnRlcnJhaW4/ci5wcm9qTWF0cml4Om51bGwpO3QucHJlcGFyZURyYXdQcm9ncmFtKGwsaCxyLnRvVW53cmFwcGVkKCkpO2NvbnN0e3RpbGVCb3VuZHNCdWZmZXI6cCx0aWxlQm91bmRzSW5kZXhCdWZmZXI6Zix0aWxlQm91bmRzU2VnbWVudHM6bX09dC5nZXRUaWxlQm91bmRzQnVmZmVycyhuKTtoLmRyYXcobCxjLlRSSUFOR0xFUyxvLGEscyxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxkLGkuaWQscCxmLG0pfWZ1bmN0aW9uIHlyKHQscixuKXtpZighci5uZWVkc0RFTVRleHR1cmVVcGxvYWQpcmV0dXJuO2NvbnN0IGk9dC5jb250ZXh0LG89aS5nbDtpLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldCghMSksci5kZW1UZXh0dXJlPXIuZGVtVGV4dHVyZXx8dC5nZXRUaWxlVGV4dHVyZShuLnN0cmlkZSk7Y29uc3QgYT1uLmdldFBpeGVscygpO3IuZGVtVGV4dHVyZT9yLmRlbVRleHR1cmUudXBkYXRlKGEse3ByZW11bHRpcGx5OiExfSk6ci5kZW1UZXh0dXJlPW5ldyBlLlRleHR1cmUoaSxhLG8uUkdCQSx7cHJlbXVsdGlwbHk6ITF9KSxyLm5lZWRzREVNVGV4dHVyZVVwbG9hZD0hMX1mdW5jdGlvbiB2cih0LHIsbixpLG8sYSl7Y29uc3Qgcz10LmNvbnRleHQsbD1zLmdsO2lmKCFyLmRlbSlyZXR1cm47Y29uc3QgYz1yLmRlbTtpZihzLmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTEpLHlyKHQscixjKSwhci5kZW1UZXh0dXJlKXJldHVybjtyLmRlbVRleHR1cmUuYmluZChsLk5FQVJFU1QsbC5DTEFNUF9UT19FREdFKTtjb25zdCB1PWMuZGltO3MuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCk7bGV0IGg9ci5mYm87aWYoIWgpe2NvbnN0IHQ9bmV3IGUuVGV4dHVyZShzLHt3aWR0aDp1LGhlaWdodDp1LGRhdGE6bnVsbH0sbC5SR0JBKTt0LmJpbmQobC5MSU5FQVIsbC5DTEFNUF9UT19FREdFKSxoPXIuZmJvPXMuY3JlYXRlRnJhbWVidWZmZXIodSx1LCEwKSxoLmNvbG9yQXR0YWNobWVudC5zZXQodC50ZXh0dXJlKX1zLmJpbmRGcmFtZWJ1ZmZlci5zZXQoaC5mcmFtZWJ1ZmZlcikscy52aWV3cG9ydC5zZXQoWzAsMCx1LHVdKTtjb25zdHt0aWxlQm91bmRzQnVmZmVyOmQsdGlsZUJvdW5kc0luZGV4QnVmZmVyOnAsdGlsZUJvdW5kc1NlZ21lbnRzOmZ9PXQuZ2V0TWVyY2F0b3JUaWxlQm91bmRzQnVmZmVycygpO3QudXNlUHJvZ3JhbShcImhpbGxzaGFkZVByZXBhcmVcIikuZHJhdyhzLGwuVFJJQU5HTEVTLGksbyxhLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLCgodCxyKT0+e2NvbnN0IG49ci5zdHJpZGUsaT1lLmNyZWF0ZSgpO3JldHVybiBlLm9ydGhvKGksMCxlLkVYVEVOVCwtZS5FWFRFTlQsMCwwLDEpLGUudHJhbnNsYXRlKGksaSxbMCwtZS5FWFRFTlQsMF0pLHt1X21hdHJpeDppLHVfaW1hZ2U6MSx1X2RpbWVuc2lvbjpbbixuXSx1X3pvb206dC5vdmVyc2NhbGVkWix1X3VucGFjazpyLnVucGFja1ZlY3Rvcn19KShyLnRpbGVJRCxjKSxuLmlkLGQscCxmKSxyLm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMX1jb25zdCB4cj10PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ltYWdlMDpuZXcgZS5Vbmlmb3JtMWkodCksdV9za2lydF9oZWlnaHQ6bmV3IGUuVW5pZm9ybTFmKHQpfSksYnI9KGUsdCk9Pih7dV9tYXRyaXg6ZSx1X2ltYWdlMDowLHVfc2tpcnRfaGVpZ2h0OnR9KSx3cj0oZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwKT0+KHt1X3Byb2pfbWF0cml4OkZsb2F0MzJBcnJheS5mcm9tKGUpLHVfZ2xvYmVfbWF0cml4OnQsdV9ub3JtYWxpemVfbWF0cml4OkZsb2F0MzJBcnJheS5mcm9tKG4pLHVfbWVyY19tYXRyaXg6cix1X3pvb21fdHJhbnNpdGlvbjppLHVfbWVyY19jZW50ZXI6byx1X2ltYWdlMDowLHVfZnJ1c3R1bV90bDphLHVfZnJ1c3R1bV90cjpzLHVfZnJ1c3R1bV9icjpsLHVfZnJ1c3R1bV9ibDpjLHVfZ2xvYmVfcG9zOnUsdV9nbG9iZV9yYWRpdXM6aCx1X3ZpZXdwb3J0OmQsdV9ncmlkX21hdHJpeDpwP0Zsb2F0MzJBcnJheS5mcm9tKHApOm5ldyBGbG9hdDMyQXJyYXkoOSl9KTtmdW5jdGlvbiBUcihlLHQpe3JldHVybiBudWxsIT1lJiZudWxsIT10JiYhKCFlLmhhc0RhdGEoKXx8IXQuaGFzRGF0YSgpKSYmbnVsbCE9ZS5kZW1UZXh0dXJlJiZudWxsIT10LmRlbVRleHR1cmUmJmUudGlsZUlELmtleSE9PXQudGlsZUlELmtleX1jb25zdCBFcj1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLm9wZXJhdGlvbnM9e319bmV3TW9ycGhpbmcoZSx0LHIsbixpKXtpZihlIGluIHRoaXMub3BlcmF0aW9ucyl7Y29uc3QgdD10aGlzLm9wZXJhdGlvbnNbZV07dC50by50aWxlSUQua2V5IT09ci50aWxlSUQua2V5JiYodC5xdWV1ZWQ9cil9ZWxzZSB0aGlzLm9wZXJhdGlvbnNbZV09e3N0YXJ0VGltZTpuLHBoYXNlOjAsZHVyYXRpb246aSxmcm9tOnQsdG86cixxdWV1ZWQ6bnVsbH19Z2V0TW9ycGhWYWx1ZXNGb3JQcm94eShlKXtpZighKGUgaW4gdGhpcy5vcGVyYXRpb25zKSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMub3BlcmF0aW9uc1tlXTtyZXR1cm57ZnJvbTp0LmZyb20sdG86dC50byxwaGFzZTp0LnBoYXNlfX11cGRhdGUoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5vcGVyYXRpb25zKXtjb25zdCByPXRoaXMub3BlcmF0aW9uc1t0XTtmb3Ioci5waGFzZT0oZS1yLnN0YXJ0VGltZSkvci5kdXJhdGlvbjtyLnBoYXNlPj0xfHwhdGhpcy5fdmFsaWRPcChyKTspaWYoIXRoaXMuX25leHRPcChyLGUpKXtkZWxldGUgdGhpcy5vcGVyYXRpb25zW3RdO2JyZWFrfX19X25leHRPcChlLHQpe3JldHVybiEhZS5xdWV1ZWQmJihlLmZyb209ZS50byxlLnRvPWUucXVldWVkLGUucXVldWVkPW51bGwsZS5waGFzZT0wLGUuc3RhcnRUaW1lPXQsITApfV92YWxpZE9wKGUpe3JldHVybiBlLmZyb20uaGFzRGF0YSgpJiZlLnRvLmhhc0RhdGEoKX19LFNyPXswOm51bGwsMTpcIlRFUlJBSU5fVkVSVEVYX01PUlBISU5HXCIsMjpcIlRFUlJBSU5fV0lSRUZSQU1FXCJ9O2Z1bmN0aW9uIENyKGUsdCl7Y29uc3Qgcj0xPDxlLno7cmV0dXJuIXQmJigwPT09ZS54fHxlLng9PT1yLTEpfHwwPT09ZS55fHxlLnk9PT1yLTF9Y29uc3QgTXI9ZT0+KHt1X21hdHJpeDplfSk7ZnVuY3Rpb24ga3IodCxyLG4saSxvKXtpZihvPjApe2NvbnN0IGE9ZS5leHBvcnRlZC5ub3coKSxzPShhLXQudGltZUFkZGVkKS9vLGw9cj8oYS1yLnRpbWVBZGRlZCkvbzotMSxjPW4uZ2V0U291cmNlKCksdT1pLmNvdmVyaW5nWm9vbUxldmVsKHt0aWxlU2l6ZTpjLnRpbGVTaXplLHJvdW5kWm9vbTpjLnJvdW5kWm9vbX0pLGg9IXJ8fE1hdGguYWJzKHIudGlsZUlELm92ZXJzY2FsZWRaLXUpPk1hdGguYWJzKHQudGlsZUlELm92ZXJzY2FsZWRaLXUpLGQ9aCYmdC5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj8xOmUuY2xhbXAoaD9zOjEtbCwwLDEpO3JldHVybiB0LnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uJiZzPj0xJiYodC5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj0hMSkscj97b3BhY2l0eToxLG1peDoxLWR9OntvcGFjaXR5OmQsbWl4OjB9fXJldHVybntvcGFjaXR5OjEsbWl4OjB9fWNsYXNzIEFyIGV4dGVuZHMgZS5Tb3VyY2VDYWNoZXtjb25zdHJ1Y3RvcihlKXtjb25zdCB0PXt0eXBlOlwicmFzdGVyLWRlbVwiLG1heHpvb206ZS50cmFuc2Zvcm0ubWF4Wm9vbX0scj1uZXcgeihOZSgpLG51bGwpLG49emUoXCJtb2NrLWRlbVwiLHQscixlLnN0eWxlKTtzdXBlcihcIm1vY2stZGVtXCIsbiwhMSksbi5zZXRFdmVudGVkUGFyZW50KHRoaXMpLHRoaXMuX3NvdXJjZUxvYWRlZD0hMH1fbG9hZFRpbGUoZSx0KXtlLnN0YXRlPVwibG9hZGVkXCIsdChudWxsKX19Y2xhc3MgSXIgZXh0ZW5kcyBlLlNvdXJjZUNhY2hle2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9emUoXCJwcm94eVwiLHt0eXBlOlwiZ2VvanNvblwiLG1heHpvb206ZS50cmFuc2Zvcm0ubWF4Wm9vbX0sbmV3IHooTmUoKSxudWxsKSxlLnN0eWxlKTtzdXBlcihcInByb3h5XCIsdCwhMSksdC5zZXRFdmVudGVkUGFyZW50KHRoaXMpLHRoaXMubWFwPXRoaXMuZ2V0U291cmNlKCkubWFwPWUsdGhpcy51c2VkPXRoaXMuX3NvdXJjZUxvYWRlZD0hMCx0aGlzLnJlbmRlckNhY2hlPVtdLHRoaXMucmVuZGVyQ2FjaGVQb29sPVtdLHRoaXMucHJveHlDYWNoZWRGQk89e319dXBkYXRlKHQscixuKXtpZih0LmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47dGhpcy50cmFuc2Zvcm09dDtjb25zdCBpPXQuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6dGhpcy5fc291cmNlLnRpbGVTaXplLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSxyZXBhcnNlT3ZlcnNjYWxlZDp0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWR9KS5yZWR1Y2UoKHIsbik9PntpZihyW24ua2V5XT1cIlwiLCF0aGlzLl90aWxlc1tuLmtleV0pe2NvbnN0IHI9bmV3IGUuVGlsZShuLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSpuLm92ZXJzY2FsZUZhY3RvcigpLHQudGlsZVpvb20pO3Iuc3RhdGU9XCJsb2FkZWRcIix0aGlzLl90aWxlc1tuLmtleV09cn1yZXR1cm4gcn0se30pO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKWUgaW4gaXx8KHRoaXMuZnJlZUZCTyhlKSx0aGlzLl90aWxlc1tlXS51bmxvYWRWZWN0b3JEYXRhKCksZGVsZXRlIHRoaXMuX3RpbGVzW2VdKX1mcmVlRkJPKGUpe2NvbnN0IHQ9dGhpcy5wcm94eUNhY2hlZEZCT1tlXTtpZih2b2lkIDAhPT10KXtjb25zdCByPU9iamVjdC52YWx1ZXModCk7dGhpcy5yZW5kZXJDYWNoZVBvb2wucHVzaCguLi5yKSxkZWxldGUgdGhpcy5wcm94eUNhY2hlZEZCT1tlXX19ZGVhbGxvY1JlbmRlckNhY2hlKCl7dGhpcy5yZW5kZXJDYWNoZS5mb3JFYWNoKGU9PmUuZmIuZGVzdHJveSgpKSx0aGlzLnJlbmRlckNhY2hlPVtdLHRoaXMucmVuZGVyQ2FjaGVQb29sPVtdLHRoaXMucHJveHlDYWNoZWRGQk89e319fWNsYXNzIFByIGV4dGVuZHMgZS5PdmVyc2NhbGVkVGlsZUlEe2NvbnN0cnVjdG9yKGUsdCxyKXtzdXBlcihlLm92ZXJzY2FsZWRaLGUud3JhcCxlLmNhbm9uaWNhbC56LGUuY2Fub25pY2FsLngsZS5jYW5vbmljYWwueSksdGhpcy5wcm94eVRpbGVLZXk9dCx0aGlzLnByb2pNYXRyaXg9cn19Y2xhc3MgenIgZXh0ZW5kcyBlLkVsZXZhdGlvbntjb25zdHJ1Y3Rvcih0LHIpe3N1cGVyKCksdGhpcy5wYWludGVyPXQsdGhpcy50ZXJyYWluVGlsZUZvclRpbGU9e30sdGhpcy5wcmV2VGVycmFpblRpbGVGb3JUaWxlPXt9O2NvbnN0W24saSxvXT1mdW5jdGlvbih0KXtjb25zdCByPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0NGk4LG49bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQzdWk2LGk9MTMxO3IucmVzZXJ2ZSgxNzE2MSksbi5yZXNlcnZlKDMzODAwKTtjb25zdCBvPWUuRVhURU5ULzEyOCxhPWUuRVhURU5UK28vMixzPWErbztmb3IobGV0IHQ9LW87dDxzO3QrPW8pZm9yKGxldCBuPS1vO248cztuKz1vKXtjb25zdCBpPW48MHx8bj5hfHx0PDB8fHQ+YT8yNDU3NTowLG89ZS5jbGFtcChNYXRoLnJvdW5kKG4pLDAsZS5FWFRFTlQpLHM9ZS5jbGFtcChNYXRoLnJvdW5kKHQpLDAsZS5FWFRFTlQpO3IuZW1wbGFjZUJhY2sobytpLHMsbyxzKX1jb25zdCBsPShlLHQpPT57Y29uc3Qgcj10KmkrZTtuLmVtcGxhY2VCYWNrKHIrMSxyLHIraSksbi5lbXBsYWNlQmFjayhyK2kscitpKzEscisxKX07Zm9yKGxldCBlPTE7ZTwxMjk7ZSsrKWZvcihsZXQgdD0xO3Q8MTI5O3QrKylsKHQsZSk7cmV0dXJuWzAsMTI5XS5mb3JFYWNoKGU9Pntmb3IobGV0IHQ9MDt0PDEzMDt0KyspbCh0LGUpLGwoZSx0KX0pLFtyLG4sMzI3NjhdfSgpLGE9dC5jb250ZXh0O3RoaXMuZ3JpZEJ1ZmZlcj1hLmNyZWF0ZVZlcnRleEJ1ZmZlcihuLGUuYm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLmdyaWRJbmRleEJ1ZmZlcj1hLmNyZWF0ZUluZGV4QnVmZmVyKGkpLHRoaXMuZ3JpZFNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCxuLmxlbmd0aCxpLmxlbmd0aCksdGhpcy5ncmlkTm9Ta2lydFNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCxuLmxlbmd0aCxvKSx0aGlzLnByb3h5Q29vcmRzPVtdLHRoaXMucHJveGllZENvb3Jkcz17fSx0aGlzLl92aXNpYmxlRGVtVGlsZXM9W10sdGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcz1bXSx0aGlzLl9zb3VyY2VUaWxlc092ZXJsYXA9e30sdGhpcy5wcm94eVNvdXJjZUNhY2hlPW5ldyBJcihyLm1hcCksdGhpcy5vcnRob01hdHJpeD1lLmNyZWF0ZSgpLGUub3J0aG8odGhpcy5vcnRob01hdHJpeCxcImdsb2JlXCI9PT10aGlzLnBhaW50ZXIudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZT8uMDE1OjAsZS5FWFRFTlQsMCxlLkVYVEVOVCwwLDEpO2NvbnN0IHM9YS5nbDt0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGU9bmV3IGUuU3RlbmNpbE1vZGUoe2Z1bmM6cy5HRVFVQUwsbWFzazoyNTV9LDAsMjU1LHMuS0VFUCxzLktFRVAscy5SRVBMQUNFKSx0aGlzLl9wcmV2aW91c1pvb209dC50cmFuc2Zvcm0uem9vbSx0aGlzLnBvb2w9W10sdGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlPXt9LHRoaXMuX3RpbGVzRGlydHk9e30sdGhpcy5zdHlsZT1yLHRoaXMuX3VzZVZlcnRleE1vcnBoaW5nPSEwLHRoaXMuX2V4YWdnZXJhdGlvbj0xLHRoaXMuX21vY2tTb3VyY2VDYWNoZT1uZXcgQXIoci5tYXApfXNldCBzdHlsZShlKXtlLm9uKFwiZGF0YVwiLHRoaXMuX29uU3R5bGVEYXRhRXZlbnQuYmluZCh0aGlzKSksZS5vbihcIm5ld29yZGVyXCIsdGhpcy5fY2hlY2tSZW5kZXJDYWNoZUVmZmljaWVuY3kuYmluZCh0aGlzKSksdGhpcy5fc3R5bGU9ZSx0aGlzLl9jaGVja1JlbmRlckNhY2hlRWZmaWNpZW5jeSgpfXVwZGF0ZSh0LHIsbil7aWYodCYmdC50ZXJyYWluKXt0aGlzLl9zdHlsZSE9PXQmJih0aGlzLnN0eWxlPXQpLHRoaXMuZW5hYmxlZD0hMDtjb25zdCBpPXQudGVycmFpbi5wcm9wZXJ0aWVzO3RoaXMuc291cmNlQ2FjaGU9MD09PXQudGVycmFpbi5kcmFwZVJlbmRlck1vZGU/dGhpcy5fbW9ja1NvdXJjZUNhY2hlOnQuX2dldFNvdXJjZUNhY2hlKGkuZ2V0KFwic291cmNlXCIpKSx0aGlzLl9leGFnZ2VyYXRpb249aS5nZXQoXCJleGFnZ2VyYXRpb25cIik7Y29uc3Qgbz0oKT0+e3RoaXMuc291cmNlQ2FjaGUudXNlZCYmZS53YXJuT25jZShgUmFzdGVyIERFTSBzb3VyY2UgJyR7dGhpcy5zb3VyY2VDYWNoZS5pZH0nIGlzIHVzZWQgYm90aCBmb3IgdGVycmFpbiBhbmQgYXMgbGF5ZXIgc291cmNlLlxcblRoaXMgbGVhZHMgdG8gbG93ZXIgcmVzb2x1dGlvbiBvZiBoaWxsc2hhZGUuIEZvciBmdWxsIGhpbGxzaGFkZSByZXNvbHV0aW9uIGJ1dCBoaWdoZXIgbWVtb3J5IGNvbnN1bXB0aW9uLCBkZWZpbmUgYW5vdGhlciByYXN0ZXIgREVNIHNvdXJjZS5gKTtjb25zdCB0PXRoaXMuZ2V0U2NhbGVkRGVtVGlsZVNpemUoKTt0aGlzLnNvdXJjZUNhY2hlLnVwZGF0ZShyLHQsITApLHRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5zb3VyY2VDYWNoZS5pZCl9O3RoaXMuc291cmNlQ2FjaGUudXNlZEZvclRlcnJhaW58fCh0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMuc291cmNlQ2FjaGUuaWQpLHRoaXMuc291cmNlQ2FjaGUudXNlZEZvclRlcnJhaW49ITAsbygpLHRoaXMuX2luaXRpYWxpemluZz0hMCksbygpLHIudXBkYXRlRWxldmF0aW9uKCFuKSx0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMucHJveHlTb3VyY2VDYWNoZS5pZCksdGhpcy5wcm94eVNvdXJjZUNhY2hlLnVwZGF0ZShyKSx0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eT0hMH1lbHNlIHRoaXMuX2Rpc2FibGUoKX1yZXNldFRpbGVMb29rdXBDYWNoZShlKXt0aGlzLl9maW5kQ292ZXJpbmdUaWxlQ2FjaGVbZV09e319Z2V0U2NhbGVkRGVtVGlsZVNpemUoKXtyZXR1cm4gdGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZS8xMjgqdGhpcy5wcm94eVNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplfV9jaGVja1JlbmRlckNhY2hlRWZmaWNpZW5jeSgpe2NvbnN0IHQ9dGhpcy5yZW5kZXJDYWNoZUVmZmljaWVuY3kodGhpcy5fc3R5bGUpO3RoaXMuX3N0eWxlLm1hcC5fb3B0aW1pemVGb3JUZXJyYWlufHwxMDAhPT10LmVmZmljaWVuY3kmJmUud2Fybk9uY2UoYFRlcnJhaW4gcmVuZGVyIGNhY2hlIGVmZmljaWVuY3kgaXMgbm90IG9wdGltYWwgKCR7dC5lZmZpY2llbmN5fSUpIGFuZCBwZXJmb3JtYW5jZVxcbiAgICAgICAgICAgICAgICBtYXkgYmUgYWZmZWN0ZWQgbmVnYXRpdmVseSwgY29uc2lkZXIgcGxhY2luZyBhbGwgYmFja2dyb3VuZCwgZmlsbCBhbmQgbGluZSBsYXllcnMgYmVmb3JlIGxheWVyXFxuICAgICAgICAgICAgICAgIHdpdGggaWQgJyR7dC5maXJzdFVuZHJhcGVkTGF5ZXJ9JyBvciBjcmVhdGUgYSBtYXAgdXNpbmcgb3B0aW1pemVGb3JUZXJyYWluOiB0cnVlIG9wdGlvbi5gKX1fb25TdHlsZURhdGFFdmVudChlKXtlLmNvb3JkJiZcInNvdXJjZVwiPT09ZS5kYXRhVHlwZT90aGlzLl9jbGVhclJlbmRlckNhY2hlRm9yVGlsZShlLnNvdXJjZUNhY2hlSWQsZS5jb29yZCk6XCJzdHlsZVwiPT09ZS5kYXRhVHlwZSYmKHRoaXMuX2ludmFsaWRhdGVSZW5kZXJDYWNoZT0hMCl9X2Rpc2FibGUoKXtpZih0aGlzLmVuYWJsZWQmJih0aGlzLmVuYWJsZWQ9ITEsdGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsPXZvaWQgMCx0aGlzLnByb3h5U291cmNlQ2FjaGUuZGVhbGxvY1JlbmRlckNhY2hlKCksdGhpcy5fc3R5bGUpKWZvcihjb25zdCBlIGluIHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXMpdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlc1tlXS51c2VkRm9yVGVycmFpbj0hMX1kZXN0cm95KCl7dGhpcy5fZGlzYWJsZSgpLHRoaXMuX2VtcHR5REVNVGV4dHVyZSYmdGhpcy5fZW1wdHlERU1UZXh0dXJlLmRlc3Ryb3koKSx0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZSYmdGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUuZGVzdHJveSgpLHRoaXMucG9vbC5mb3JFYWNoKGU9PmUuZmIuZGVzdHJveSgpKSx0aGlzLnBvb2w9W10sdGhpcy5fZGVwdGhGQk8mJih0aGlzLl9kZXB0aEZCTy5kZXN0cm95KCksdGhpcy5fZGVwdGhGQk89dm9pZCAwLHRoaXMuX2RlcHRoVGV4dHVyZT12b2lkIDApfV9zb3VyY2UoKXtyZXR1cm4gdGhpcy5lbmFibGVkP3RoaXMuc291cmNlQ2FjaGU6bnVsbH1pc1VzaW5nTW9ja1NvdXJjZSgpe3JldHVybiB0aGlzLnNvdXJjZUNhY2hlPT09dGhpcy5fbW9ja1NvdXJjZUNhY2hlfWV4YWdnZXJhdGlvbigpe3JldHVybiB0aGlzLl9leGFnZ2VyYXRpb259Z2V0IHZpc2libGVEZW1UaWxlcygpe3JldHVybiB0aGlzLl92aXNpYmxlRGVtVGlsZXN9Z2V0IGRyYXBlQnVmZmVyU2l6ZSgpe2NvbnN0IGU9Mip0aGlzLnByb3h5U291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemU7cmV0dXJuW2UsZV19c2V0IHVzZVZlcnRleE1vcnBoaW5nKGUpe3RoaXMuX3VzZVZlcnRleE1vcnBoaW5nPWV9dXBkYXRlVGlsZUJpbmRpbmcodCl7aWYoIXRoaXMuZW5hYmxlZClyZXR1cm47dGhpcy5wcmV2VGVycmFpblRpbGVGb3JUaWxlPXRoaXMudGVycmFpblRpbGVGb3JUaWxlO2NvbnN0IHI9dGhpcy5wcm94eVNvdXJjZUNhY2hlLG49dGhpcy5wYWludGVyLnRyYW5zZm9ybTt0aGlzLl9pbml0aWFsaXppbmcmJih0aGlzLl9pbml0aWFsaXppbmc9MD09PW4uX2NlbnRlckFsdGl0dWRlJiYtMT09PXRoaXMuZ2V0QXRQb2ludE9yWmVybyhlLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KG4uY2VudGVyKSwtMSksdGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHk9IXRoaXMuX2luaXRpYWxpemluZyk7Y29uc3QgaT10aGlzLnByb3h5Q29vcmRzPXIuZ2V0SWRzKCkubWFwKGU9Pntjb25zdCB0PXIuZ2V0VGlsZUJ5SUQoZSkudGlsZUlEO3JldHVybiB0LnByb2pNYXRyaXg9bi5jYWxjdWxhdGVQcm9qTWF0cml4KHQudG9VbndyYXBwZWQoKSksdH0pOyFmdW5jdGlvbih0LHIpe2NvbnN0IG49ci50cmFuc2Zvcm0ucG9pbnRDb29yZGluYXRlKHIudHJhbnNmb3JtLmdldENhbWVyYVBvaW50KCkpLGk9bmV3IGUucG9pbnRHZW9tZXRyeShuLngsbi55KTt0LnNvcnQoKHQscik9PntpZihyLm92ZXJzY2FsZWRaLXQub3ZlcnNjYWxlZFopcmV0dXJuIHIub3ZlcnNjYWxlZFotdC5vdmVyc2NhbGVkWjtjb25zdCBuPW5ldyBlLnBvaW50R2VvbWV0cnkodC5jYW5vbmljYWwueCsoMTw8dC5jYW5vbmljYWwueikqdC53cmFwLHQuY2Fub25pY2FsLnkpLG89bmV3IGUucG9pbnRHZW9tZXRyeShyLmNhbm9uaWNhbC54KygxPDxyLmNhbm9uaWNhbC56KSpyLndyYXAsci5jYW5vbmljYWwueSksYT1pLm11bHQoMTw8dC5jYW5vbmljYWwueik7cmV0dXJuIGEueC09LjUsYS55LT0uNSxhLmRpc3RTcXIobiktYS5kaXN0U3FyKG8pfSl9KGksdGhpcy5wYWludGVyKSx0aGlzLl9wcmV2aW91c1pvb209bi56b29tO2NvbnN0IG89dGhpcy5wcm94eVRvU291cmNlfHx7fTt0aGlzLnByb3h5VG9Tb3VyY2U9e30saS5mb3JFYWNoKGU9Pnt0aGlzLnByb3h5VG9Tb3VyY2VbZS5rZXldPXt9fSksdGhpcy50ZXJyYWluVGlsZUZvclRpbGU9e307Y29uc3QgYT10aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzO2Zvcihjb25zdCBlIGluIGEpe2NvbnN0IHI9YVtlXTtpZighci51c2VkKWNvbnRpbnVlO2lmKHIhPT10aGlzLnNvdXJjZUNhY2hlJiZ0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKHIuaWQpLHRoaXMuX3NldHVwUHJveGllZENvb3Jkc0Zvck9ydGhvKHIsdFtlXSxvKSxyLnVzZWRGb3JUZXJyYWluKWNvbnRpbnVlO2NvbnN0IG49dFtlXTtyLmdldFNvdXJjZSgpLnJlcGFyc2VPdmVyc2NhbGVkJiZ0aGlzLl9hc3NpZ25UZXJyYWluVGlsZXMobil9dGhpcy5wcm94aWVkQ29vcmRzW3IuaWRdPWkubWFwKGU9Pm5ldyBQcihlLGUua2V5LHRoaXMub3J0aG9NYXRyaXgpKSx0aGlzLl9hc3NpZ25UZXJyYWluVGlsZXMoaSksdGhpcy5fcHJlcGFyZURFTVRleHR1cmVzKCksdGhpcy5fc2V0dXBEcmFwZWRSZW5kZXJCYXRjaGVzKCksdGhpcy5faW5pdEZCT1Bvb2woKSx0aGlzLl9zZXR1cFJlbmRlckNhY2hlKG8pLHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSExLHRoaXMuX3VwZGF0ZVRpbWVzdGFtcD1lLmV4cG9ydGVkLm5vdygpO2NvbnN0IHM9e307dGhpcy5fdmlzaWJsZURlbVRpbGVzPVtdO2Zvcihjb25zdCBlIG9mIHRoaXMucHJveHlDb29yZHMpe2NvbnN0IHQ9dGhpcy50ZXJyYWluVGlsZUZvclRpbGVbZS5rZXldO2lmKCF0KWNvbnRpbnVlO2NvbnN0IHI9dC50aWxlSUQua2V5O3IgaW4gc3x8KHRoaXMuX3Zpc2libGVEZW1UaWxlcy5wdXNoKHQpLHNbcl09cil9fV9hc3NpZ25UZXJyYWluVGlsZXMoZSl7dGhpcy5faW5pdGlhbGl6aW5nfHxlLmZvckVhY2goZT0+e2lmKHRoaXMudGVycmFpblRpbGVGb3JUaWxlW2Uua2V5XSlyZXR1cm47Y29uc3QgdD10aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKGUsdGhpcy5zb3VyY2VDYWNoZSk7dCYmKHRoaXMudGVycmFpblRpbGVGb3JUaWxlW2Uua2V5XT10KX0pfV9wcmVwYXJlREVNVGV4dHVyZXMoKXtjb25zdCBlPXRoaXMucGFpbnRlci5jb250ZXh0LHQ9ZS5nbDtmb3IoY29uc3QgciBpbiB0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZSl7Y29uc3Qgbj10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtyXSxpPW4uZGVtOyFpfHxuLmRlbVRleHR1cmUmJiFuLm5lZWRzREVNVGV4dHVyZVVwbG9hZHx8KGUuYWN0aXZlVGV4dHVyZS5zZXQodC5URVhUVVJFMSkseXIodGhpcy5wYWludGVyLG4saSkpfX1fcHJlcGFyZURlbVRpbGVVbmlmb3JtcyhlLHQscixuKXtpZighdHx8bnVsbD09dC5kZW1UZXh0dXJlKXJldHVybiExO2NvbnN0IGk9ZS50aWxlSUQuY2Fub25pY2FsLG89TWF0aC5wb3coMix0LnRpbGVJRC5jYW5vbmljYWwuei1pLnopLGE9bnx8XCJcIjtyZXR1cm4gcltcInVfZGVtX3RsXCIrYV09W2kueCpvJTEsaS55Km8lMV0scltcInVfZGVtX3NjYWxlXCIrYV09bywhMH1nZXQgZW1wdHlERU1UZXh0dXJlKCl7cmV0dXJuIXRoaXMuX2VtcHR5REVNVGV4dHVyZURpcnR5JiZ0aGlzLl9lbXB0eURFTVRleHR1cmU/dGhpcy5fZW1wdHlERU1UZXh0dXJlOnRoaXMuX3VwZGF0ZUVtcHR5REVNVGV4dHVyZSgpfWdldCBlbXB0eURlcHRoQnVmZmVyVGV4dHVyZSgpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQscj10LmdsO2lmKCF0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZSl7Y29uc3Qgbj1uZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOjEsaGVpZ2h0OjF9LFVpbnQ4QXJyYXkub2YoMjU1LDI1NSwyNTUsMjU1KSk7dGhpcy5fZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmU9bmV3IGUuVGV4dHVyZSh0LG4sci5SR0JBLHtwcmVtdWx0aXBseTohMX0pfXJldHVybiB0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZX1fZ2V0TG9hZGVkQXJlYU1pbmltdW0oKXtsZXQgZT0wO2NvbnN0IHQ9dGhpcy5fdmlzaWJsZURlbVRpbGVzLnJlZHVjZSgodCxyKT0+e2lmKCFyLmRlbSlyZXR1cm4gdDtjb25zdCBuPXIuZGVtLnRyZWUubWluaW11bXNbMF07cmV0dXJuIG4+MCYmZSsrLHQrbn0sMCk7cmV0dXJuIGU/dC9lOjB9X3VwZGF0ZUVtcHR5REVNVGV4dHVyZSgpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQscj10LmdsO3QuYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMik7Y29uc3Qgbj10aGlzLl9nZXRMb2FkZWRBcmVhTWluaW11bSgpLGk9bmV3IGUuUkdCQUltYWdlKHt3aWR0aDoxLGhlaWdodDoxfSxuZXcgVWludDhBcnJheShlLkRFTURhdGEucGFjayhuLHRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkuZW5jb2RpbmcpKSk7dGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHk9ITE7bGV0IG89dGhpcy5fZW1wdHlERU1UZXh0dXJlO3JldHVybiBvP28udXBkYXRlKGkse3ByZW11bHRpcGx5OiExfSk6bz10aGlzLl9lbXB0eURFTVRleHR1cmU9bmV3IGUuVGV4dHVyZSh0LGksci5SR0JBLHtwcmVtdWx0aXBseTohMX0pLG99c2V0dXBFbGV2YXRpb25EcmF3KHQscixuKXtjb25zdCBpPXRoaXMucGFpbnRlci5jb250ZXh0LG89aS5nbCxhPShzPXRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkuZW5jb2Rpbmcse3VfZGVtOjIsdV9kZW1fcHJldjo0LHVfZGVtX3VucGFjazplLkRFTURhdGEuZ2V0VW5wYWNrVmVjdG9yKHMpLHVfZGVtX3RsOlswLDBdLHVfZGVtX3RsX3ByZXY6WzAsMF0sdV9kZW1fc2NhbGU6MCx1X2RlbV9zY2FsZV9wcmV2OjAsdV9kZW1fc2l6ZTowLHVfZGVtX2xlcnA6MSx1X2RlcHRoOjMsdV9kZXB0aF9zaXplX2ludjpbMCwwXSx1X2V4YWdnZXJhdGlvbjowfSk7dmFyIHM7YS51X2RlbV9zaXplPXRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemUsYS51X2V4YWdnZXJhdGlvbj10aGlzLmV4YWdnZXJhdGlvbigpO2xldCBsPW51bGwsYz1udWxsLHU9MTtpZihuJiZuLm1vcnBoaW5nJiZ0aGlzLl91c2VWZXJ0ZXhNb3JwaGluZyl7Y29uc3QgZT1uLm1vcnBoaW5nLnNyY0RlbVRpbGUscj1uLm1vcnBoaW5nLmRzdERlbVRpbGU7dT1uLm1vcnBoaW5nLnBoYXNlLGUmJnImJih0aGlzLl9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKHQsZSxhLFwiX3ByZXZcIikmJihjPWUpLHRoaXMuX3ByZXBhcmVEZW1UaWxlVW5pZm9ybXModCxyLGEpJiYobD1yKSl9aWYoYyYmbD8oaS5hY3RpdmVUZXh0dXJlLnNldChvLlRFWFRVUkUyKSxsLmRlbVRleHR1cmUuYmluZChvLk5FQVJFU1Qsby5DTEFNUF9UT19FREdFLG8uTkVBUkVTVCksaS5hY3RpdmVUZXh0dXJlLnNldChvLlRFWFRVUkU0KSxjLmRlbVRleHR1cmUuYmluZChvLk5FQVJFU1Qsby5DTEFNUF9UT19FREdFLG8uTkVBUkVTVCksYS51X2RlbV9sZXJwPXUpOihsPXRoaXMudGVycmFpblRpbGVGb3JUaWxlW3QudGlsZUlELmtleV0saS5hY3RpdmVUZXh0dXJlLnNldChvLlRFWFRVUkUyKSwodGhpcy5fcHJlcGFyZURlbVRpbGVVbmlmb3Jtcyh0LGwsYSk/bC5kZW1UZXh0dXJlOnRoaXMuZW1wdHlERU1UZXh0dXJlKS5iaW5kKG8uTkVBUkVTVCxvLkNMQU1QX1RPX0VER0UpKSxpLmFjdGl2ZVRleHR1cmUuc2V0KG8uVEVYVFVSRTMpLG4mJm4udXNlRGVwdGhGb3JPY2NsdXNpb24/KHRoaXMuX2RlcHRoVGV4dHVyZSYmdGhpcy5fZGVwdGhUZXh0dXJlLmJpbmQoby5ORUFSRVNULG8uQ0xBTVBfVE9fRURHRSksdGhpcy5fZGVwdGhGQk8mJihhLnVfZGVwdGhfc2l6ZV9pbnY9WzEvdGhpcy5fZGVwdGhGQk8ud2lkdGgsMS90aGlzLl9kZXB0aEZCTy5oZWlnaHRdKSk6KHRoaXMuZW1wdHlEZXB0aEJ1ZmZlclRleHR1cmUuYmluZChvLk5FQVJFU1Qsby5DTEFNUF9UT19FREdFKSxhLnVfZGVwdGhfc2l6ZV9pbnY9WzEsMV0pLG4mJm4udXNlTWV0ZXJUb0RlbSYmbCl7Y29uc3QgdD0oMTw8bC50aWxlSUQuY2Fub25pY2FsLnopKmUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5wYWludGVyLnRyYW5zZm9ybS5jZW50ZXIubGF0KSp0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplO2EudV9tZXRlcl90b19kZW09dH1pZihuJiZuLmxhYmVsUGxhbmVNYXRyaXhJbnYmJihhLnVfbGFiZWxfcGxhbmVfbWF0cml4X2ludj1uLmxhYmVsUGxhbmVNYXRyaXhJbnYpLHIuc2V0VGVycmFpblVuaWZvcm1WYWx1ZXMoaSxhKSxcImdsb2JlXCI9PT10aGlzLnBhaW50ZXIudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgZT10aGlzLmdsb2JlVW5pZm9ybVZhbHVlcyh0aGlzLnBhaW50ZXIudHJhbnNmb3JtLHQudGlsZUlELmNhbm9uaWNhbCxuJiZuLnVzZURlbm9ybWFsaXplZFVwVmVjdG9yU2NhbGUpO3Iuc2V0R2xvYmVVbmlmb3JtVmFsdWVzKGksZSl9fWdsb2JlVW5pZm9ybVZhbHVlcyh0LHIsbil7Y29uc3QgaT10LnByb2plY3Rpb247cmV0dXJue3VfdGlsZV90bF91cDppLnVwVmVjdG9yKHIsMCwwKSx1X3RpbGVfdHJfdXA6aS51cFZlY3RvcihyLGUuRVhURU5ULDApLHVfdGlsZV9icl91cDppLnVwVmVjdG9yKHIsZS5FWFRFTlQsZS5FWFRFTlQpLHVfdGlsZV9ibF91cDppLnVwVmVjdG9yKHIsMCxlLkVYVEVOVCksdV90aWxlX3VwX3NjYWxlOm4/ZS5HTE9CRV9NRVRFUlNfVE9fRUNFRjppLnVwVmVjdG9yU2NhbGUocix0LmNlbnRlci5sYXQsdC53b3JsZFNpemUpLm1ldGVyc1RvVGlsZX19cmVuZGVyVG9CYWNrQnVmZmVyKHQpe2NvbnN0IHI9dGhpcy5wYWludGVyLG49dGhpcy5wYWludGVyLmNvbnRleHQ7MCE9PXQubGVuZ3RoJiYobi5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLG4udmlld3BvcnQuc2V0KFswLDAsci53aWR0aCxyLmhlaWdodF0pLHIuZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXJTdGFydCgpLHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSExLGZ1bmN0aW9uKHQscixuLGksbyl7aWYoXCJnbG9iZVwiPT09dC50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKSFmdW5jdGlvbih0LHIsbixpLG8pe2NvbnN0IGE9dC5jb250ZXh0LHM9YS5nbDtsZXQgbCxjO2NvbnN0IHU9dC5vcHRpb25zLnNob3dUZXJyYWluV2lyZWZyYW1lPzI6MCxoPXQudHJhbnNmb3JtLGQ9ZS5nbG9iZVVzZUN1c3RvbUFudGlBbGlhc2luZyh0LGEsaCkscD0oZSxyKT0+e2lmKGM9PT1lKXJldHVybjtjb25zdCBuPVtTcltlXSxcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiXTtkJiZuLnB1c2goXCJDVVNUT01fQU5USUFMSUFTSU5HXCIpLHImJm4ucHVzaChTclt1XSksbD10LnVzZVByb2dyYW0oXCJnbG9iZVJhc3RlclwiLG51bGwsbiksYz1lfSxmPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLG09bmV3IGUuRGVwdGhNb2RlKHMuTEVRVUFMLGUuRGVwdGhNb2RlLlJlYWRXcml0ZSx0LmRlcHRoUmFuZ2VGb3IzRCk7RXIudXBkYXRlKG8pO2NvbnN0IGc9ZS5jYWxjdWxhdGVHbG9iZU1lcmNhdG9yTWF0cml4KGgpLF89W2UubWVyY2F0b3JYZnJvbUxuZyhoLmNlbnRlci5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdChoLmNlbnRlci5sYXQpXSx5PXU/WyExLCEwXTpbITFdLHY9dC5nbG9iZVNoYXJlZEJ1ZmZlcnMseD1baC53aWR0aCplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8saC5oZWlnaHQqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvXSxiPUZsb2F0MzJBcnJheS5mcm9tKGguZ2xvYmVNYXRyaXgpLHc9e3VzZURlbm9ybWFsaXplZFVwVmVjdG9yU2NhbGU6ITB9O2lmKHkuZm9yRWFjaCh1PT57Yz0tMTtjb25zdCBkPXU/cy5MSU5FUzpzLlRSSUFOR0xFUztmb3IoY29uc3QgYyBvZiBpKXtjb25zdCBpPW4uZ2V0VGlsZShjKSx5PWUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsVD1yLnByZXZUZXJyYWluVGlsZUZvclRpbGVbYy5rZXldLEU9ci50ZXJyYWluVGlsZUZvclRpbGVbYy5rZXldO1RyKFQsRSkmJkVyLm5ld01vcnBoaW5nKGMua2V5LFQsRSxvLDI1MCksYS5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKSxpLnRleHR1cmUuYmluZChzLkxJTkVBUixzLkNMQU1QX1RPX0VER0UpO2NvbnN0IFM9RXIuZ2V0TW9ycGhWYWx1ZXNGb3JQcm94eShjLmtleSksQz1TPzE6MDtTJiZlLmV4dGVuZCQxKHcse21vcnBoaW5nOntzcmNEZW1UaWxlOlMuZnJvbSxkc3REZW1UaWxlOlMudG8scGhhc2U6ZS5lYXNlQ3ViaWNJbk91dChTLnBoYXNlKX19KTtjb25zdCBNPWUudGlsZUNvcm5lcnNUb0JvdW5kcyhjLmNhbm9uaWNhbCksaz1lLmdldExhdGl0dWRpbmFsTG9kKE0uZ2V0Q2VudGVyKCkubGF0KSxBPWUuZ2V0R3JpZE1hdHJpeChjLmNhbm9uaWNhbCxNLGssaC53b3JsZFNpemUvaC5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCksST1lLmdsb2JlTm9ybWFsaXplRUNFRihlLmdsb2JlVGlsZUJvdW5kcyhjLmNhbm9uaWNhbCkpLFA9d3IoaC5wcm9qTWF0cml4LGIsZyxJLGUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihoLnpvb20pLF8saC5mcnVzdHVtQ29ybmVycy5UTCxoLmZydXN0dW1Db3JuZXJzLlRSLGguZnJ1c3R1bUNvcm5lcnMuQlIsaC5mcnVzdHVtQ29ybmVycy5CTCxoLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsaC5nbG9iZVJhZGl1cyx4LEEpO2lmKHAoQyx1KSxyLnNldHVwRWxldmF0aW9uRHJhdyhpLGwsdyksdC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxsLGMudG9VbndyYXBwZWQoKSksdil7Y29uc3RbcixuLGldPXU/di5nZXRXaXJlZmFtZUJ1ZmZlcnModC5jb250ZXh0LGspOnYuZ2V0R3JpZEJ1ZmZlcnMoayk7bC5kcmF3KGEsZCxtLHksZixlLkN1bGxGYWNlTW9kZS5iYWNrQ0NXLFAsXCJnbG9iZV9yYXN0ZXJcIixyLG4saSl9fX0pLHYpe2NvbnN0IG89W1wiR0xPQkVfUE9MRVNcIixcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiXTtkJiZvLnB1c2goXCJDVVNUT01fQU5USUFMSUFTSU5HXCIpLGw9dC51c2VQcm9ncmFtKFwiZ2xvYmVSYXN0ZXJcIixudWxsLG8pO2Zvcihjb25zdCBvIG9mIGkpe2NvbnN0e3g6aSx5OmMsejp1fT1vLmNhbm9uaWNhbCxkPTA9PT1jLHA9Yz09PSgxPDx1KS0xLFtnLHksYixUXT12LmdldFBvbGVCdWZmZXJzKHUpO2lmKFQmJihkfHxwKSl7Y29uc3QgYz1uLmdldFRpbGUobyk7YS5hY3RpdmVUZXh0dXJlLnNldChzLlRFWFRVUkUwKSxjLnRleHR1cmUuYmluZChzLkxJTkVBUixzLkNMQU1QX1RPX0VER0UpO2xldCB2PWUuZ2xvYmVQb2xlTWF0cml4Rm9yVGlsZSh1LGksaCk7Y29uc3QgRT1lLmdsb2JlTm9ybWFsaXplRUNFRihlLmdsb2JlVGlsZUJvdW5kcyhvLmNhbm9uaWNhbCkpLFM9KHQscik9PnQuZHJhdyhhLHMuVFJJQU5HTEVTLG0sZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxmLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLHdyKGgucHJvak1hdHJpeCx2LHYsRSwwLF8saC5mcnVzdHVtQ29ybmVycy5UTCxoLmZydXN0dW1Db3JuZXJzLlRSLGguZnJ1c3R1bUNvcm5lcnMuQlIsaC5mcnVzdHVtQ29ybmVycy5CTCxoLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsaC5nbG9iZVJhZGl1cyx4KSxcImdsb2JlX3BvbGVfcmFzdGVyXCIscixiLFQpO3Iuc2V0dXBFbGV2YXRpb25EcmF3KGMsbCx3KSx0LnByZXBhcmVEcmF3UHJvZ3JhbShhLGwsby50b1Vud3JhcHBlZCgpKSxkJiZTKGwsZykscCYmKHY9ZS5zY2FsZShlLmNyZWF0ZSgpLHYsWzEsLTEsMV0pLFMobCx5KSl9fX19KHQscixuLGksbyk7ZWxzZXtjb25zdCBhPXQuY29udGV4dCxzPWEuZ2w7bGV0IGwsYztjb25zdCB1PXQub3B0aW9ucy5zaG93VGVycmFpbldpcmVmcmFtZT8yOjAsaD0oZSxyKT0+e2lmKGM9PT1lKXJldHVybjtjb25zdCBuPVtTcltlXV07ciYmbi5wdXNoKFNyW3VdKSxsPXQudXNlUHJvZ3JhbShcInRlcnJhaW5SYXN0ZXJcIixudWxsLG4pLGM9ZX0sZD10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxwPW5ldyBlLkRlcHRoTW9kZShzLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpO0VyLnVwZGF0ZShvKTtjb25zdCBmPXQudHJhbnNmb3JtLG09NipNYXRoLnBvdygxLjUsMjItZi56b29tKSpyLmV4YWdnZXJhdGlvbigpOyh1P1shMSwhMF06WyExXSkuZm9yRWFjaCh1PT57Yz0tMTtjb25zdCBnPXU/cy5MSU5FUzpzLlRSSUFOR0xFUyxbXyx5XT11P3IuZ2V0V2lyZWZhbWVCdWZmZXIoKTpbci5ncmlkSW5kZXhCdWZmZXIsci5ncmlkU2VnbWVudHNdO2Zvcihjb25zdCBjIG9mIGkpe2NvbnN0IGk9bi5nZXRUaWxlKGMpLHY9ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCx4PXIucHJldlRlcnJhaW5UaWxlRm9yVGlsZVtjLmtleV0sYj1yLnRlcnJhaW5UaWxlRm9yVGlsZVtjLmtleV07VHIoeCxiKSYmRXIubmV3TW9ycGhpbmcoYy5rZXkseCxiLG8sMjUwKSxhLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApLGkudGV4dHVyZS5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSxzLkxJTkVBUl9NSVBNQVBfTkVBUkVTVCk7Y29uc3Qgdz1Fci5nZXRNb3JwaFZhbHVlc0ZvclByb3h5KGMua2V5KSxUPXc/MTowO2xldCBFO3cmJihFPXttb3JwaGluZzp7c3JjRGVtVGlsZTp3LmZyb20sZHN0RGVtVGlsZTp3LnRvLHBoYXNlOmUuZWFzZUN1YmljSW5PdXQody5waGFzZSl9fSk7Y29uc3QgUz1icihjLnByb2pNYXRyaXgsQ3IoYy5jYW5vbmljYWwsZi5yZW5kZXJXb3JsZENvcGllcyk/bS8xMDptKTtoKFQsdSksci5zZXR1cEVsZXZhdGlvbkRyYXcoaSxsLEUpLHQucHJlcGFyZURyYXdQcm9ncmFtKGEsbCxjLnRvVW53cmFwcGVkKCkpLGwuZHJhdyhhLGcscCx2LGQsZS5DdWxsRmFjZU1vZGUuYmFja0NDVyxTLFwidGVycmFpbl9yYXN0ZXJcIixyLmdyaWRCdWZmZXIsXyx5KX19KX19KHIsdGhpcyx0aGlzLnByb3h5U291cmNlQ2FjaGUsdCx0aGlzLl91cGRhdGVUaW1lc3RhbXApLHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSEwLHIuZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXJFbmQoKSx0LnNwbGljZSgwLHQubGVuZ3RoKSl9cmVuZGVyQmF0Y2godCl7aWYoMD09PXRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXMubGVuZ3RoKXJldHVybiB0KzE7dGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITA7Y29uc3Qgcj10aGlzLnBhaW50ZXIsbj10aGlzLnBhaW50ZXIuY29udGV4dCxpPXRoaXMucHJveHlTb3VyY2VDYWNoZSxvPXRoaXMucHJveGllZENvb3Jkc1tpLmlkXSxhPXRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXMuc2hpZnQoKSxzPVtdLGw9ci5zdHlsZS5vcmRlcjtsZXQgYz0wO2Zvcihjb25zdCB1IG9mIG8pe2NvbnN0IG89aS5nZXRUaWxlQnlJRCh1LnByb3h5VGlsZUtleSksaD1pLnByb3h5Q2FjaGVkRkJPW3Uua2V5XT9pLnByb3h5Q2FjaGVkRkJPW3Uua2V5XVt0XTp2b2lkIDAsZD12b2lkIDAhPT1oP2kucmVuZGVyQ2FjaGVbaF06dGhpcy5wb29sW2MrK10scD12b2lkIDAhPT1oO2lmKG8udGV4dHVyZT1kLnRleCxwJiYhZC5kaXJ0eSl7cy5wdXNoKG8udGlsZUlEKTtjb250aW51ZX1sZXQgZjtuLmJpbmRGcmFtZWJ1ZmZlci5zZXQoZC5mYi5mcmFtZWJ1ZmZlciksdGhpcy5yZW5kZXJlZFRvVGlsZT0hMSxkLmRpcnR5JiYobi5jbGVhcih7Y29sb3I6ZS5Db2xvci50cmFuc3BhcmVudCxzdGVuY2lsOjB9KSxkLmRpcnR5PSExKTtmb3IobGV0IGU9YS5zdGFydDtlPD1hLmVuZDsrK2Upe2NvbnN0IHQ9ci5zdHlsZS5fbGF5ZXJzW2xbZV1dO2lmKHQuaXNIaWRkZW4oci50cmFuc2Zvcm0uem9vbSkpY29udGludWU7Y29uc3QgaT1yLnN0eWxlLl9nZXRMYXllclNvdXJjZUNhY2hlKHQpLG89aT90aGlzLnByb3h5VG9Tb3VyY2VbdS5rZXldW2kuaWRdOlt1XTtpZighbyljb250aW51ZTtjb25zdCBhPW87bi52aWV3cG9ydC5zZXQoWzAsMCxkLmZiLndpZHRoLGQuZmIuaGVpZ2h0XSksZiE9PShpP2kuaWQ6bnVsbCkmJih0aGlzLl9zZXR1cFN0ZW5jaWwoZCxvLHQsaSksZj1pP2kuaWQ6bnVsbCksci5yZW5kZXJMYXllcihyLGksdCxhKX10aGlzLnJlbmRlcmVkVG9UaWxlPyhkLmRpcnR5PSEwLHMucHVzaChvLnRpbGVJRCkpOnB8fC0tYyw1PT09YyYmKGM9MCx0aGlzLnJlbmRlclRvQmFja0J1ZmZlcihzKSl9cmV0dXJuIHRoaXMucmVuZGVyVG9CYWNrQnVmZmVyKHMpLHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlPSExLG4uYmluZEZyYW1lYnVmZmVyLnNldChudWxsKSxuLnZpZXdwb3J0LnNldChbMCwwLHIud2lkdGgsci5oZWlnaHRdKSxhLmVuZCsxfXBvc3RSZW5kZXIoKXt9cmVuZGVyQ2FjaGVFZmZpY2llbmN5KGUpe2NvbnN0IHQ9ZS5vcmRlci5sZW5ndGg7aWYoMD09PXQpcmV0dXJue2VmZmljaWVuY3k6MTAwfTtsZXQgcixuPTAsaT0wLG89ITE7Zm9yKGxldCBhPTA7YTx0OysrYSl7Y29uc3QgdD1lLl9sYXllcnNbZS5vcmRlclthXV07dGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZCh0KT8obyYmKytuLCsraSk6b3x8KG89ITAscj10LmlkKX1yZXR1cm4gMD09PWk/e2VmZmljaWVuY3k6MTAwfTp7ZWZmaWNpZW5jeToxMDAqKDEtbi9pKSxmaXJzdFVuZHJhcGVkTGF5ZXI6cn19Z2V0TWluRWxldmF0aW9uQmVsb3dNU0woKXtsZXQgZT0wO3JldHVybiB0aGlzLl92aXNpYmxlRGVtVGlsZXMuZmlsdGVyKGU9PmUuZGVtKS5mb3JFYWNoKHQ9PntlPU1hdGgubWluKGUsdC5kZW0udHJlZS5taW5pbXVtc1swXSl9KSwwPT09ZT9lOihlLTMwKSp0aGlzLl9leGFnZ2VyYXRpb259cmF5Y2FzdChlLHQscil7aWYoIXRoaXMuX3Zpc2libGVEZW1UaWxlcylyZXR1cm4gbnVsbDtjb25zdCBuPXRoaXMuX3Zpc2libGVEZW1UaWxlcy5maWx0ZXIoZT0+ZS5kZW0pLm1hcChuPT57Y29uc3QgaT1uLnRpbGVJRCxvPTE8PGkub3ZlcnNjYWxlZFose3g6YSx5OnN9PWkuY2Fub25pY2FsLGw9YS9vLGM9KGErMSkvbyx1PXMvbyxoPShzKzEpL287cmV0dXJue21pbng6bCxtaW55OnUsbWF4eDpjLG1heHk6aCx0Om4uZGVtLnRyZWUucmF5Y2FzdFJvb3QobCx1LGMsaCxlLHQsciksdGlsZTpufX0pO24uc29ydCgoZSx0KT0+KG51bGwhPT1lLnQ/ZS50Ok51bWJlci5NQVhfVkFMVUUpLShudWxsIT09dC50P3QudDpOdW1iZXIuTUFYX1ZBTFVFKSk7Zm9yKGNvbnN0IGkgb2Ygbil7aWYobnVsbD09aS50KXJldHVybiBudWxsO2NvbnN0IG49aS50aWxlLmRlbS50cmVlLnJheWNhc3QoaS5taW54LGkubWlueSxpLm1heHgsaS5tYXh5LGUsdCxyKTtpZihudWxsIT1uKXJldHVybiBufXJldHVybiBudWxsfV9jcmVhdGVGQk8oKXtjb25zdCB0PXRoaXMucGFpbnRlci5jb250ZXh0LHI9dC5nbCxuPXRoaXMuZHJhcGVCdWZmZXJTaXplO3QuYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMCk7Y29uc3QgaT1uZXcgZS5UZXh0dXJlKHQse3dpZHRoOm5bMF0saGVpZ2h0Om5bMV0sZGF0YTpudWxsfSxyLlJHQkEpO2kuYmluZChyLkxJTkVBUixyLkNMQU1QX1RPX0VER0UpO2NvbnN0IG89dC5jcmVhdGVGcmFtZWJ1ZmZlcihuWzBdLG5bMV0sITEpO3JldHVybiBvLmNvbG9yQXR0YWNobWVudC5zZXQoaS50ZXh0dXJlKSxvLmRlcHRoQXR0YWNobWVudD1uZXcgRWUodCxvLmZyYW1lYnVmZmVyKSx2b2lkIDA9PT10aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWw/KHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbD10LmNyZWF0ZVJlbmRlcmJ1ZmZlcih0LmdsLkRFUFRIX1NURU5DSUwsblswXSxuWzFdKSx0aGlzLl9zdGVuY2lsUmVmPTAsby5kZXB0aEF0dGFjaG1lbnQuc2V0KHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbCksdC5jbGVhcih7c3RlbmNpbDowfSkpOm8uZGVwdGhBdHRhY2htZW50LnNldCh0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWwpLHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljJiYhdC5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWNGb3JjZU9mZiYmci50ZXhQYXJhbWV0ZXJmKHIuVEVYVFVSRV8yRCx0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVCx0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heCkse2ZiOm8sdGV4OmksZGlydHk6ITF9fV9pbml0RkJPUG9vbCgpe2Zvcig7dGhpcy5wb29sLmxlbmd0aDxNYXRoLm1pbig1LHRoaXMucHJveHlDb29yZHMubGVuZ3RoKTspdGhpcy5wb29sLnB1c2godGhpcy5fY3JlYXRlRkJPKCkpfV9zaG91bGREaXNhYmxlUmVuZGVyQ2FjaGUoKXtpZih0aGlzLl9zdHlsZS5saWdodCYmdGhpcy5fc3R5bGUubGlnaHQuaGFzVHJhbnNpdGlvbigpKXJldHVybiEwO2Zvcihjb25zdCBlIGluIHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXMpaWYodGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlc1tlXS5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuITA7cmV0dXJuIHRoaXMuX3N0eWxlLm9yZGVyLnNvbWUoZT0+e2NvbnN0IHQ9dGhpcy5fc3R5bGUuX2xheWVyc1tlXSxyPXQuaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKSxuPXQuZ2V0Q3Jvc3NmYWRlUGFyYW1ldGVycygpLGk9ISFuJiYxIT09bi50LG89dC5oYXNUcmFuc2l0aW9uKCk7cmV0dXJuXCJjdXN0b21cIiE9PXQudHlwZSYmIXImJihpfHxvKX0pfV9jbGVhclJhc3RlckZhZGVGcm9tUmVuZGVyQ2FjaGUoKXtsZXQgZT0hMTtmb3IoY29uc3QgdCBpbiB0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzKWlmKHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXNbdF0uX3NvdXJjZSBpbnN0YW5jZW9mIE1lKXtlPSEwO2JyZWFrfWlmKGUpZm9yKGxldCBlPTA7ZTx0aGlzLl9zdHlsZS5vcmRlci5sZW5ndGg7KytlKXtjb25zdCB0PXRoaXMuX3N0eWxlLl9sYXllcnNbdGhpcy5fc3R5bGUub3JkZXJbZV1dLHI9dC5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pLG49dGhpcy5fc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUodCk7aWYoXCJyYXN0ZXJcIiE9PXQudHlwZXx8cnx8IW4pY29udGludWU7Y29uc3QgaT10LnBhaW50LmdldChcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCIpO2Zvcihjb25zdCBlIG9mIHRoaXMucHJveHlDb29yZHMpe2NvbnN0IHQ9dGhpcy5wcm94eVRvU291cmNlW2Uua2V5XVtuLmlkXTtpZih0KWZvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9a3Iobi5nZXRUaWxlKGUpLG4uZmluZExvYWRlZFBhcmVudChlLDApLG4sdGhpcy5wYWludGVyLnRyYW5zZm9ybSxpKTsoMSE9PXQub3BhY2l0eXx8MCE9PXQubWl4KSYmdGhpcy5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUobi5pZCxlKX19fX1fc2V0dXBEcmFwZWRSZW5kZXJCYXRjaGVzKCl7Y29uc3QgZT10aGlzLl9zdHlsZS5vcmRlcix0PWUubGVuZ3RoO2lmKDA9PT10KXJldHVybjtjb25zdCByPVtdO2xldCBuLGk9MCxvPXRoaXMuX3N0eWxlLl9sYXllcnNbZVtpXV07Zm9yKDshdGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZChvKSYmby5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pJiYrK2k8dDspbz10aGlzLl9zdHlsZS5fbGF5ZXJzW2VbaV1dO2Zvcig7aTx0OysraSl7Y29uc3QgdD10aGlzLl9zdHlsZS5fbGF5ZXJzW2VbaV1dO3QuaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKXx8KHRoaXMuX3N0eWxlLmlzTGF5ZXJEcmFwZWQodCk/dm9pZCAwPT09biYmKG49aSk6dm9pZCAwIT09biYmKHIucHVzaCh7c3RhcnQ6bixlbmQ6aS0xfSksbj12b2lkIDApKX12b2lkIDAhPT1uJiZyLnB1c2goe3N0YXJ0Om4sZW5kOmktMX0pLHRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXM9cn1fc2V0dXBSZW5kZXJDYWNoZShlKXtjb25zdCB0PXRoaXMucHJveHlTb3VyY2VDYWNoZTtpZih0aGlzLl9zaG91bGREaXNhYmxlUmVuZGVyQ2FjaGUoKXx8dGhpcy5faW52YWxpZGF0ZVJlbmRlckNhY2hlKXtpZih0aGlzLl9pbnZhbGlkYXRlUmVuZGVyQ2FjaGU9ITEsdC5yZW5kZXJDYWNoZS5sZW5ndGg+dC5yZW5kZXJDYWNoZVBvb2wubGVuZ3RoKXtjb25zdCBlPU9iamVjdC52YWx1ZXModC5wcm94eUNhY2hlZEZCTyk7dC5wcm94eUNhY2hlZEZCTz17fTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoOysrcil7Y29uc3Qgbj1PYmplY3QudmFsdWVzKGVbcl0pO3QucmVuZGVyQ2FjaGVQb29sLnB1c2goLi4ubil9fXJldHVybn10aGlzLl9jbGVhclJhc3RlckZhZGVGcm9tUmVuZGVyQ2FjaGUoKTtjb25zdCByPXRoaXMucHJveHlDb29yZHMsbj10aGlzLl90aWxlc0RpcnR5O2ZvcihsZXQgaT1yLmxlbmd0aC0xO2k+PTA7aS0tKXtjb25zdCBvPXJbaV07aWYodC5nZXRUaWxlQnlJRChvLmtleSksdm9pZCAwIT09dC5wcm94eUNhY2hlZEZCT1tvLmtleV0pe2NvbnN0IHI9ZVtvLmtleV0saT10aGlzLnByb3h5VG9Tb3VyY2Vbby5rZXldO2xldCBhPTA7Zm9yKGNvbnN0IGUgaW4gaSl7Y29uc3QgdD1pW2VdLG89cltlXTtpZighb3x8by5sZW5ndGghPT10Lmxlbmd0aHx8dC5zb21lKCh0LHIpPT50IT09b1tyXXx8bltlXSYmbltlXS5oYXNPd25Qcm9wZXJ0eSh0LmtleSkpKXthPS0xO2JyZWFrfSsrYX1mb3IoY29uc3QgZSBpbiB0LnByb3h5Q2FjaGVkRkJPW28ua2V5XSl0LnJlbmRlckNhY2hlW3QucHJveHlDYWNoZWRGQk9bby5rZXldW2VdXS5kaXJ0eT1hPDB8fGEhPT1PYmplY3QudmFsdWVzKHIpLmxlbmd0aH19Y29uc3QgaT1bLi4udGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlc107aS5zb3J0KChlLHQpPT50LmVuZC10LnN0YXJ0LShlLmVuZC1lLnN0YXJ0KSk7Zm9yKGNvbnN0IGUgb2YgaSlmb3IoY29uc3QgbiBvZiByKXtpZih0LnByb3h5Q2FjaGVkRkJPW24ua2V5XSljb250aW51ZTtsZXQgcj10LnJlbmRlckNhY2hlUG9vbC5wb3AoKTt2b2lkIDA9PT1yJiZ0LnJlbmRlckNhY2hlLmxlbmd0aDw1MCYmKHI9dC5yZW5kZXJDYWNoZS5sZW5ndGgsdC5yZW5kZXJDYWNoZS5wdXNoKHRoaXMuX2NyZWF0ZUZCTygpKSksdm9pZCAwIT09ciYmKHQucHJveHlDYWNoZWRGQk9bbi5rZXldPXt9LHQucHJveHlDYWNoZWRGQk9bbi5rZXldW2Uuc3RhcnRdPXIsdC5yZW5kZXJDYWNoZVtyXS5kaXJ0eT0hMCl9dGhpcy5fdGlsZXNEaXJ0eT17fX1fc2V0dXBTdGVuY2lsKGUsdCxyLG4pe2lmKCFufHwhdGhpcy5fc291cmNlVGlsZXNPdmVybGFwW24uaWRdKXJldHVybiB2b2lkKHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZSYmKHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT0hMSkpO2NvbnN0IGk9dGhpcy5wYWludGVyLmNvbnRleHQsbz1pLmdsO2lmKHQubGVuZ3RoPD0xKXJldHVybiB2b2lkKHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT0hMSk7bGV0IGE7aWYoci5pc1RpbGVDbGlwcGVkKCkpYT10Lmxlbmd0aCx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUudGVzdD17ZnVuYzpvLkVRVUFMLG1hc2s6MjU1fSx0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9XCJDbGlwXCI7ZWxzZXtpZighKHRbMF0ub3ZlcnNjYWxlZFo+dFt0Lmxlbmd0aC0xXS5vdmVyc2NhbGVkWikpcmV0dXJuIHZvaWQodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPSExKTthPTEsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnRlc3Q9e2Z1bmM6by5HUkVBVEVSLG1hc2s6MjU1fSx0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9XCJNYXNrXCJ9dGhpcy5fc3RlbmNpbFJlZithPjI1NSYmKGkuY2xlYXIoe3N0ZW5jaWw6MH0pLHRoaXMuX3N0ZW5jaWxSZWY9MCksdGhpcy5fc3RlbmNpbFJlZis9YSx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUucmVmPXRoaXMuX3N0ZW5jaWxSZWYsci5pc1RpbGVDbGlwcGVkKCkmJnRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHQsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZil9Y2xpcE9yTWFza092ZXJsYXBTdGVuY2lsVHlwZSgpe3JldHVyblwiQ2xpcFwiPT09dGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlfHxcIk1hc2tcIj09PXRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZX1zdGVuY2lsTW9kZUZvclJUVE92ZXJsYXAodCl7cmV0dXJuIHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlJiZ0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU/KFwiQ2xpcFwiPT09dGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlJiYodGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZj10aGlzLnBhaW50ZXIuX3RpbGVDbGlwcGluZ01hc2tJRHNbdC5rZXldKSx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUpOmUuU3RlbmNpbE1vZGUuZGlzYWJsZWR9X3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHQscil7Y29uc3Qgbj10aGlzLnBhaW50ZXIsaT10aGlzLnBhaW50ZXIuY29udGV4dCxvPWkuZ2w7bi5fdGlsZUNsaXBwaW5nTWFza0lEcz17fSxpLnNldENvbG9yTW9kZShlLkNvbG9yTW9kZS5kaXNhYmxlZCksaS5zZXREZXB0aE1vZGUoZS5EZXB0aE1vZGUuZGlzYWJsZWQpO2NvbnN0IGE9bi51c2VQcm9ncmFtKFwiY2xpcHBpbmdNYXNrXCIpO2Zvcihjb25zdCBzIG9mIHQpe2NvbnN0IHQ9bi5fdGlsZUNsaXBwaW5nTWFza0lEc1tzLmtleV09LS1yO2EuZHJhdyhpLG8uVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLG5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOm8uQUxXQVlTLG1hc2s6MH0sdCwyNTUsby5LRUVQLG8uS0VFUCxvLlJFUExBQ0UpLGUuQ29sb3JNb2RlLmRpc2FibGVkLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLE1yKHMucHJvak1hdHJpeCksXCIkY2xpcHBpbmdcIixuLnRpbGVFeHRlbnRCdWZmZXIsbi5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixuLnRpbGVFeHRlbnRTZWdtZW50cyl9fXBvaW50Q29vcmRpbmF0ZSh0KXtjb25zdCByPXRoaXMucGFpbnRlci50cmFuc2Zvcm07aWYodC54PDB8fHQueD5yLndpZHRofHx0Lnk8MHx8dC55PnIuaGVpZ2h0KXJldHVybiBudWxsO2NvbnN0IG49W3QueCx0LnksMSwxXTtlLnRyYW5zZm9ybU1hdDQkMShuLG4sci5waXhlbE1hdHJpeEludmVyc2UpLGUuc2NhbGUkMShuLG4sMS9uWzNdKSxuWzBdLz1yLndvcmxkU2l6ZSxuWzFdLz1yLndvcmxkU2l6ZTtjb25zdCBpPXIuX2NhbWVyYS5wb3NpdGlvbixvPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsci5jZW50ZXIubGF0KSxhPVtpWzBdLGlbMV0saVsyXS9vLDBdLHM9ZS5zdWJ0cmFjdChbXSxuLnNsaWNlKDAsMyksYSk7ZS5ub3JtYWxpemUocyxzKTtjb25zdCBsPXRoaXMucmF5Y2FzdChhLHMsdGhpcy5fZXhhZ2dlcmF0aW9uKTtyZXR1cm4gbnVsbCE9PWwmJmw/KGUuc2NhbGVBbmRBZGQoYSxhLHMsbCksYVszXT1hWzJdLGFbMl0qPW8sYSk6bnVsbH1kcmF3RGVwdGgoKXtjb25zdCB0PXRoaXMucGFpbnRlcixyPXQuY29udGV4dCxuPXRoaXMucHJveHlTb3VyY2VDYWNoZSxpPU1hdGguY2VpbCh0LndpZHRoKSxvPU1hdGguY2VpbCh0LmhlaWdodCk7aWYoIXRoaXMuX2RlcHRoRkJPfHx0aGlzLl9kZXB0aEZCTy53aWR0aD09PWkmJnRoaXMuX2RlcHRoRkJPLmhlaWdodD09PW98fCh0aGlzLl9kZXB0aEZCTy5kZXN0cm95KCksdGhpcy5fZGVwdGhGQk89dm9pZCAwLHRoaXMuX2RlcHRoVGV4dHVyZT12b2lkIDApLCF0aGlzLl9kZXB0aEZCTyl7Y29uc3QgdD1yLmdsLG49ci5jcmVhdGVGcmFtZWJ1ZmZlcihpLG8sITApO3IuYWN0aXZlVGV4dHVyZS5zZXQodC5URVhUVVJFMCk7Y29uc3QgYT1uZXcgZS5UZXh0dXJlKHIse3dpZHRoOmksaGVpZ2h0Om8sZGF0YTpudWxsfSx0LlJHQkEpO2EuYmluZCh0Lk5FQVJFU1QsdC5DTEFNUF9UT19FREdFKSxuLmNvbG9yQXR0YWNobWVudC5zZXQoYS50ZXh0dXJlKTtjb25zdCBzPXIuY3JlYXRlUmVuZGVyYnVmZmVyKHIuZ2wuREVQVEhfQ09NUE9ORU5UMTYsaSxvKTtuLmRlcHRoQXR0YWNobWVudC5zZXQocyksdGhpcy5fZGVwdGhGQk89bix0aGlzLl9kZXB0aFRleHR1cmU9YX1yLmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5fZGVwdGhGQk8uZnJhbWVidWZmZXIpLHIudmlld3BvcnQuc2V0KFswLDAsaSxvXSksZnVuY3Rpb24odCxyLG4saSl7aWYoXCJnbG9iZVwiPT09dC50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKXJldHVybjtjb25zdCBvPXQuY29udGV4dCxhPW8uZ2w7by5jbGVhcih7ZGVwdGg6MX0pO2NvbnN0IHM9dC51c2VQcm9ncmFtKFwidGVycmFpbkRlcHRoXCIpLGw9bmV3IGUuRGVwdGhNb2RlKGEuTEVTUyxlLkRlcHRoTW9kZS5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpO2Zvcihjb25zdCB0IG9mIGkpe2NvbnN0IGk9bi5nZXRUaWxlKHQpLGM9YnIodC5wcm9qTWF0cml4LDApO3Iuc2V0dXBFbGV2YXRpb25EcmF3KGkscykscy5kcmF3KG8sYS5UUklBTkdMRVMsbCxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGUuQ29sb3JNb2RlLnVuYmxlbmRlZCxlLkN1bGxGYWNlTW9kZS5iYWNrQ0NXLGMsXCJ0ZXJyYWluX2RlcHRoXCIsci5ncmlkQnVmZmVyLHIuZ3JpZEluZGV4QnVmZmVyLHIuZ3JpZE5vU2tpcnRTZWdtZW50cyl9fSh0LHRoaXMsbix0aGlzLnByb3h5Q29vcmRzKX1fc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8oZSx0LHIpe2lmKGUuZ2V0U291cmNlKClpbnN0YW5jZW9mIEllKXJldHVybiB0aGlzLl9zZXR1cFByb3hpZWRDb29yZHNGb3JJbWFnZVNvdXJjZShlLHQscik7dGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW2UuaWRdPXRoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtlLmlkXXx8e307Y29uc3Qgbj10aGlzLnByb3hpZWRDb29yZHNbZS5pZF09W10saT10aGlzLnByb3h5Q29vcmRzO2ZvcihsZXQgdD0wO3Q8aS5sZW5ndGg7dCsrKXtjb25zdCBvPWlbdF0sYT10aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKG8sZSk7aWYoYSl7Y29uc3QgdD10aGlzLl9jcmVhdGVQcm94aWVkSWQobyxhLHJbby5rZXldJiZyW28ua2V5XVtlLmlkXSk7bi5wdXNoKHQpLHRoaXMucHJveHlUb1NvdXJjZVtvLmtleV1bZS5pZF09W3RdfX1sZXQgbz0hMTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3QgYT1lLmdldFRpbGUodFtpXSk7aWYoIWF8fCFhLmhhc0RhdGEoKSljb250aW51ZTtjb25zdCBzPXRoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQoYS50aWxlSUQsdGhpcy5wcm94eVNvdXJjZUNhY2hlKTtpZihzJiZzLnRpbGVJRC5jYW5vbmljYWwueiE9PWEudGlsZUlELmNhbm9uaWNhbC56KXtjb25zdCB0PXRoaXMucHJveHlUb1NvdXJjZVtzLnRpbGVJRC5rZXldW2UuaWRdLGk9dGhpcy5fY3JlYXRlUHJveGllZElkKHMudGlsZUlELGEscltzLnRpbGVJRC5rZXldJiZyW3MudGlsZUlELmtleV1bZS5pZF0pO3Q/dC5zcGxpY2UodC5sZW5ndGgtMSwwLGkpOnRoaXMucHJveHlUb1NvdXJjZVtzLnRpbGVJRC5rZXldW2UuaWRdPVtpXSxuLnB1c2goaSksbz0hMH19dGhpcy5fc291cmNlVGlsZXNPdmVybGFwW2UuaWRdPW99X3NldHVwUHJveGllZENvb3Jkc0ZvckltYWdlU291cmNlKHQscixuKXtpZighdC5nZXRTb3VyY2UoKS5sb2FkZWQoKSlyZXR1cm47Y29uc3QgaT10aGlzLnByb3hpZWRDb29yZHNbdC5pZF09W10sbz10aGlzLnByb3h5Q29vcmRzLGE9dC5nZXRTb3VyY2UoKSxzPW5ldyBlLnBvaW50R2VvbWV0cnkoYS50aWxlSUQueCxhLnRpbGVJRC55KS5fZGl2KDE8PGEudGlsZUlELnopLGw9YS5jb29yZGluYXRlcy5tYXAoZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCkucmVkdWNlKChlLHQpPT4oZS5taW4ueD1NYXRoLm1pbihlLm1pbi54LHQueC1zLngpLGUubWluLnk9TWF0aC5taW4oZS5taW4ueSx0Lnktcy55KSxlLm1heC54PU1hdGgubWF4KGUubWF4LngsdC54LXMueCksZS5tYXgueT1NYXRoLm1heChlLm1heC55LHQueS1zLnkpLGUpLHttaW46bmV3IGUucG9pbnRHZW9tZXRyeShOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLG1heDpuZXcgZS5wb2ludEdlb21ldHJ5KC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKX0pLGM9KHQscik9Pntjb25zdCBuPXQud3JhcCt0LmNhbm9uaWNhbC54LygxPDx0LmNhbm9uaWNhbC56KSxpPXQuY2Fub25pY2FsLnkvKDE8PHQuY2Fub25pY2FsLnopLG89ZS5FWFRFTlQvKDE8PHQuY2Fub25pY2FsLnopLGE9ci53cmFwK3IuY2Fub25pY2FsLngvKDE8PHIuY2Fub25pY2FsLnopLHM9ci5jYW5vbmljYWwueS8oMTw8ci5jYW5vbmljYWwueik7cmV0dXJuIG4rbzxhK2wubWluLnh8fG4+YStsLm1heC54fHxpK288cytsLm1pbi55fHxpPnMrbC5tYXgueX07Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKyspe2NvbnN0IGE9b1tlXTtmb3IobGV0IGU9MDtlPHIubGVuZ3RoO2UrKyl7Y29uc3Qgbz10LmdldFRpbGUocltlXSk7aWYoIW98fCFvLmhhc0RhdGEoKSljb250aW51ZTtpZihjKGEsby50aWxlSUQpKWNvbnRpbnVlO2NvbnN0IHM9dGhpcy5fY3JlYXRlUHJveGllZElkKGEsbyxuW2Eua2V5XSYmblthLmtleV1bdC5pZF0pLGw9dGhpcy5wcm94eVRvU291cmNlW2Eua2V5XVt0LmlkXTtsP2wucHVzaChzKTp0aGlzLnByb3h5VG9Tb3VyY2VbYS5rZXldW3QuaWRdPVtzXSxpLnB1c2gocyl9fX1fY3JlYXRlUHJveGllZElkKHQscixuKXtsZXQgaT10aGlzLm9ydGhvTWF0cml4O2lmKG4pe2NvbnN0IGU9bi5maW5kKGU9PmUua2V5PT09ci50aWxlSUQua2V5KTtpZihlKXJldHVybiBlfWlmKHIudGlsZUlELmtleSE9PXQua2V5KXtjb25zdCBuPXQuY2Fub25pY2FsLnotci50aWxlSUQuY2Fub25pY2FsLno7bGV0IG8sYSxzO2k9ZS5jcmVhdGUoKTtjb25zdCBsPXIudGlsZUlELndyYXAtdC53cmFwPDx0Lm92ZXJzY2FsZWRaO24+MD8obz1lLkVYVEVOVD4+bixhPW8qKChyLnRpbGVJRC5jYW5vbmljYWwueDw8biktdC5jYW5vbmljYWwueCtsKSxzPW8qKChyLnRpbGVJRC5jYW5vbmljYWwueTw8biktdC5jYW5vbmljYWwueSkpOihvPWUuRVhURU5UPDwtbixhPWUuRVhURU5UKihyLnRpbGVJRC5jYW5vbmljYWwueC0odC5jYW5vbmljYWwueCtsPDwtbikpLHM9ZS5FWFRFTlQqKHIudGlsZUlELmNhbm9uaWNhbC55LSh0LmNhbm9uaWNhbC55PDwtbikpKSxlLm9ydGhvKGksMCxvLDAsbywwLDEpLGUudHJhbnNsYXRlKGksaSxbYSxzLDBdKX1yZXR1cm4gbmV3IFByKHIudGlsZUlELHQua2V5LGkpfV9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKHQscil7bGV0IG49ci5nZXRUaWxlKHQpO2lmKG4mJm4uaGFzRGF0YSgpKXJldHVybiBuO2NvbnN0IGk9dGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW3IuaWRdLG89aVt0LmtleV07aWYobj1vP3IuZ2V0VGlsZUJ5SUQobyk6bnVsbCxuJiZuLmhhc0RhdGEoKXx8bnVsbD09PW8pcmV0dXJuIG47bGV0IGE9bj9uLnRpbGVJRDp0LHM9YS5vdmVyc2NhbGVkWjtjb25zdCBsPXIuZ2V0U291cmNlKCkubWluem9vbSxjPVtdO2lmKCFvKXtjb25zdCBpPXIuZ2V0U291cmNlKCkubWF4em9vbTtpZih0LmNhbm9uaWNhbC56Pj1pKXtjb25zdCBuPXQuY2Fub25pY2FsLnotaTtyLmdldFNvdXJjZSgpLnJlcGFyc2VPdmVyc2NhbGVkPyhzPU1hdGgubWF4KHQuY2Fub25pY2FsLnorMixyLnRyYW5zZm9ybS50aWxlWm9vbSksYT1uZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHMsdC53cmFwLGksdC5jYW5vbmljYWwueD4+bix0LmNhbm9uaWNhbC55Pj5uKSk6MCE9PW4mJihzPWksYT1uZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHMsdC53cmFwLGksdC5jYW5vbmljYWwueD4+bix0LmNhbm9uaWNhbC55Pj5uKSl9YS5rZXkhPT10LmtleSYmKGMucHVzaChhLmtleSksbj1yLmdldFRpbGUoYSkpfWNvbnN0IHU9ZT0+e2MuZm9yRWFjaCh0PT57aVt0XT1lfSksYy5sZW5ndGg9MH07Zm9yKHMtPTE7cz49bCYmKCFufHwhbi5oYXNEYXRhKCkpO3MtLSl7biYmdShuLnRpbGVJRC5rZXkpO2NvbnN0IGU9YS5jYWxjdWxhdGVTY2FsZWRLZXkocyk7aWYobj1yLmdldFRpbGVCeUlEKGUpLG4mJm4uaGFzRGF0YSgpKWJyZWFrO2NvbnN0IHQ9aVtlXTtpZihudWxsPT09dClicmVhazt2b2lkIDA9PT10P2MucHVzaChlKTpuPXIuZ2V0VGlsZUJ5SUQodCl9cmV0dXJuIHUobj9uLnRpbGVJRC5rZXk6bnVsbCksbiYmbi5oYXNEYXRhKCk/bjpudWxsfWZpbmRERU1UaWxlRm9yKGUpe3JldHVybiB0aGlzLmVuYWJsZWQ/dGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRChlLHRoaXMuc291cmNlQ2FjaGUpOm51bGx9cHJlcGFyZURyYXdUaWxlKCl7dGhpcy5yZW5kZXJlZFRvVGlsZT0hMH1fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoZSx0KXtsZXQgcj10aGlzLl90aWxlc0RpcnR5W2VdO3J8fChyPXRoaXMuX3RpbGVzRGlydHlbZV09e30pLHJbdC5rZXldPSEwfWdldFdpcmVmYW1lQnVmZmVyKCl7aWYoIXRoaXMud2lyZWZyYW1lU2VnbWVudHMpe2NvbnN0IHQ9ZnVuY3Rpb24odCl7bGV0IHI9MDtjb25zdCBuPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0MnVpNCxpPTEzMTtmb3IobGV0IGU9MTtlPDEyOTtlKyspe2ZvcihsZXQgdD0xO3Q8MTI5O3QrKylyPWUqaSt0LG4uZW1wbGFjZUJhY2socixyKzEpLG4uZW1wbGFjZUJhY2socixyK2kpLG4uZW1wbGFjZUJhY2socisxLHIraSksMTI4PT09ZSYmbi5lbXBsYWNlQmFjayhyK2kscitpKzEpO24uZW1wbGFjZUJhY2socisxLHIrMStpKX1yZXR1cm4gbn0oKTt0aGlzLndpcmVmcmFtZUluZGV4QnVmZmVyPXRoaXMucGFpbnRlci5jb250ZXh0LmNyZWF0ZUluZGV4QnVmZmVyKHQpLHRoaXMud2lyZWZyYW1lU2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLHRoaXMuZ3JpZEJ1ZmZlci5sZW5ndGgsdC5sZW5ndGgpfXJldHVyblt0aGlzLndpcmVmcmFtZUluZGV4QnVmZmVyLHRoaXMud2lyZWZyYW1lU2VnbWVudHNdfX1jbGFzcyBEcntzdGF0aWMgY2FjaGVLZXkoZSx0LHIsbil7bGV0IGk9YCR7dH0ke24/bi5jYWNoZUtleTpcIlwifWA7Zm9yKGNvbnN0IHQgb2YgcillLnVzZWREZWZpbmVzLmluY2x1ZGVzKHQpJiYoaSs9XCIvXCIrdCk7cmV0dXJuIGl9Y29uc3RydWN0b3IodCxyLG4saSxvLGEpe2NvbnN0IHM9dC5nbDt0aGlzLnByb2dyYW09cy5jcmVhdGVQcm9ncmFtKCk7Y29uc3QgbD1mdW5jdGlvbihlKXtjb25zdCB0PVtdO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtpZihudWxsPT09ZVtyXSljb250aW51ZTtjb25zdCBuPWVbcl0uc3BsaXQoXCIgXCIpO3QucHVzaChuLnBvcCgpKX1yZXR1cm4gdH0obi5zdGF0aWNBdHRyaWJ1dGVzKSxjPWk/aS5nZXRCaW5kZXJBdHRyaWJ1dGVzKCk6W10sdT1sLmNvbmNhdChjKTtsZXQgaD1pP2kuZGVmaW5lcygpOltdO2g9aC5jb25jYXQoYS5tYXAoZT0+XCIjZGVmaW5lIFwiK2UpKTtjb25zdCBkPWguY29uY2F0KHQuZXh0U3RhbmRhcmREZXJpdmF0aXZlcz9cIiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlXFxuXCIuY29uY2F0KGhyKTpocixocix1cixjci5mcmFnbWVudFNvdXJjZSxzci5mcmFnbWVudFNvdXJjZSxuLmZyYWdtZW50U291cmNlKS5qb2luKFwiXFxuXCIpLHA9aC5jb25jYXQoXCJcXG4jaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2Vsc2VcXG5cXG4jaWYgIWRlZmluZWQobG93cClcXG4jZGVmaW5lIGxvd3BcXG4jZW5kaWZcXG5cXG4jaWYgIWRlZmluZWQobWVkaXVtcClcXG4jZGVmaW5lIG1lZGl1bXBcXG4jZW5kaWZcXG5cXG4jaWYgIWRlZmluZWQoaGlnaHApXFxuI2RlZmluZSBoaWdocFxcbiNlbmRpZlxcblxcbiNlbmRpZlwiLHVyLGNyLnZlcnRleFNvdXJjZSxzci52ZXJ0ZXhTb3VyY2UsYXIudmVydGV4U291cmNlLG4udmVydGV4U291cmNlKS5qb2luKFwiXFxuXCIpLGY9cy5jcmVhdGVTaGFkZXIocy5GUkFHTUVOVF9TSEFERVIpO2lmKHMuaXNDb250ZXh0TG9zdCgpKXJldHVybiB2b2lkKHRoaXMuZmFpbGVkVG9DcmVhdGU9ITApO3Muc2hhZGVyU291cmNlKGYsZCkscy5jb21waWxlU2hhZGVyKGYpLHMuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSxmKTtjb25zdCBtPXMuY3JlYXRlU2hhZGVyKHMuVkVSVEVYX1NIQURFUik7aWYocy5pc0NvbnRleHRMb3N0KCkpdGhpcy5mYWlsZWRUb0NyZWF0ZT0hMDtlbHNle3Muc2hhZGVyU291cmNlKG0scCkscy5jb21waWxlU2hhZGVyKG0pLHMuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSxtKSx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy5udW1BdHRyaWJ1dGVzPXUubGVuZ3RoO2ZvcihsZXQgZT0wO2U8dGhpcy5udW1BdHRyaWJ1dGVzO2UrKyl1W2VdJiYocy5iaW5kQXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLGUsdVtlXSksdGhpcy5hdHRyaWJ1dGVzW3VbZV1dPWUpO3MubGlua1Byb2dyYW0odGhpcy5wcm9ncmFtKSxzLmRlbGV0ZVNoYWRlcihtKSxzLmRlbGV0ZVNoYWRlcihmKSx0aGlzLmZpeGVkVW5pZm9ybXM9byh0KSx0aGlzLmJpbmRlclVuaWZvcm1zPWk/aS5nZXRVbmlmb3Jtcyh0KTpbXSxhLmluY2x1ZGVzKFwiVEVSUkFJTlwiKSYmKHRoaXMudGVycmFpblVuaWZvcm1zPSh0PT4oe3VfZGVtOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2RlbV9wcmV2Om5ldyBlLlVuaWZvcm0xaSh0KSx1X2RlbV91bnBhY2s6bmV3IGUuVW5pZm9ybTRmKHQpLHVfZGVtX3RsOm5ldyBlLlVuaWZvcm0yZih0KSx1X2RlbV9zY2FsZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9kZW1fdGxfcHJldjpuZXcgZS5Vbmlmb3JtMmYodCksdV9kZW1fc2NhbGVfcHJldjpuZXcgZS5Vbmlmb3JtMWYodCksdV9kZW1fc2l6ZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9kZW1fbGVycDpuZXcgZS5Vbmlmb3JtMWYodCksdV9leGFnZ2VyYXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfZGVwdGg6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZGVwdGhfc2l6ZV9pbnY6bmV3IGUuVW5pZm9ybTJmKHQpLHVfbWV0ZXJfdG9fZGVtOm5ldyBlLlVuaWZvcm0xZih0KSx1X2xhYmVsX3BsYW5lX21hdHJpeF9pbnY6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpfSkpKHQpKSxhLmluY2x1ZGVzKFwiR0xPQkVcIikmJih0aGlzLmdsb2JlVW5pZm9ybXM9KHQ9Pih7dV90aWxlX3RsX3VwOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfdHJfdXA6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdGlsZV9icl91cDpuZXcgZS5Vbmlmb3JtM2YodCksdV90aWxlX2JsX3VwOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfdXBfc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpfSkpKHQpKSxhLmluY2x1ZGVzKFwiRk9HXCIpJiYodGhpcy5mb2dVbmlmb3Jtcz0odD0+KHt1X2ZvZ19tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfZm9nX3JhbmdlOm5ldyBlLlVuaWZvcm0yZih0KSx1X2ZvZ19jb2xvcjpuZXcgZS5Vbmlmb3JtNGYodCksdV9mb2dfaG9yaXpvbl9ibGVuZDpuZXcgZS5Vbmlmb3JtMWYodCksdV9mb2dfdGVtcG9yYWxfb2Zmc2V0Om5ldyBlLlVuaWZvcm0xZih0KSx1X2ZydXN0dW1fdGw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV90cjpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX2JyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYmw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZ2xvYmVfcG9zOm5ldyBlLlVuaWZvcm0zZih0KSx1X2dsb2JlX3JhZGl1czpuZXcgZS5Vbmlmb3JtMWYodCksdV9nbG9iZV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2lzX2dsb2JlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3ZpZXdwb3J0Om5ldyBlLlVuaWZvcm0yZih0KX0pKSh0KSl9fXNldFRlcnJhaW5Vbmlmb3JtVmFsdWVzKGUsdCl7aWYoIXRoaXMudGVycmFpblVuaWZvcm1zKXJldHVybjtjb25zdCByPXRoaXMudGVycmFpblVuaWZvcm1zO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7Zm9yKGNvbnN0IGUgaW4gdClyW2VdJiZyW2VdLnNldCh0aGlzLnByb2dyYW0sZSx0W2VdKX19c2V0R2xvYmVVbmlmb3JtVmFsdWVzKGUsdCl7aWYoIXRoaXMuZ2xvYmVVbmlmb3JtcylyZXR1cm47Y29uc3Qgcj10aGlzLmdsb2JlVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KXJbZV0mJnJbZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pfX1zZXRGb2dVbmlmb3JtVmFsdWVzKGUsdCl7aWYoIXRoaXMuZm9nVW5pZm9ybXMpcmV0dXJuO2NvbnN0IHI9dGhpcy5mb2dVbmlmb3JtcztpZighdGhpcy5mYWlsZWRUb0NyZWF0ZSl7ZS5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pO2Zvcihjb25zdCBlIGluIHQpcltlXS5zZXQodGhpcy5wcm9ncmFtLGUsdFtlXSl9fWRyYXcoZSx0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYpe2NvbnN0IG09ZS5nbDtpZih0aGlzLmZhaWxlZFRvQ3JlYXRlKXJldHVybjtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSksZS5zZXREZXB0aE1vZGUociksZS5zZXRTdGVuY2lsTW9kZShuKSxlLnNldENvbG9yTW9kZShpKSxlLnNldEN1bGxGYWNlKG8pO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHRoaXMuZml4ZWRVbmlmb3JtcykpdGhpcy5maXhlZFVuaWZvcm1zW2VdLnNldCh0aGlzLnByb2dyYW0sZSxhW2VdKTtwJiZwLnNldFVuaWZvcm1zKHRoaXMucHJvZ3JhbSxlLHRoaXMuYmluZGVyVW5pZm9ybXMsaCx7em9vbTpkfSk7Y29uc3QgZz17W20uTElORVNdOjIsW20uVFJJQU5HTEVTXTozLFttLkxJTkVfU1RSSVBdOjF9W3RdO2Zvcihjb25zdCByIG9mIHUuZ2V0KCkpe2NvbnN0IG49ci52YW9zfHwoci52YW9zPXt9KTsobltzXXx8KG5bc109bmV3IG1yKSkuYmluZChlLHRoaXMsbCxwP3AuZ2V0UGFpbnRWZXJ0ZXhCdWZmZXJzKCk6W10sYyxyLnZlcnRleE9mZnNldCxmfHxbXSksbS5kcmF3RWxlbWVudHModCxyLnByaW1pdGl2ZUxlbmd0aCpnLG0uVU5TSUdORURfU0hPUlQsci5wcmltaXRpdmVPZmZzZXQqZyoyKX19fWZ1bmN0aW9uIFJyKGUsdCxyKXtjb25zdCBuPTEvRChyLDEsdC50cmFuc2Zvcm0udGlsZVpvb20pLGk9TWF0aC5wb3coMixyLnRpbGVJRC5vdmVyc2NhbGVkWiksbz1yLnRpbGVTaXplKk1hdGgucG93KDIsdC50cmFuc2Zvcm0udGlsZVpvb20pL2ksYT1vKihyLnRpbGVJRC5jYW5vbmljYWwueCtyLnRpbGVJRC53cmFwKmkpLHM9bypyLnRpbGVJRC5jYW5vbmljYWwueTtyZXR1cm57dV9pbWFnZTowLHVfdGV4c2l6ZTpyLmltYWdlQXRsYXNUZXh0dXJlLnNpemUsdV9zY2FsZTpbbixlLmZyb21TY2FsZSxlLnRvU2NhbGVdLHVfZmFkZTplLnQsdV9waXhlbF9jb29yZF91cHBlcjpbYT4+MTYscz4+MTZdLHVfcGl4ZWxfY29vcmRfbG93ZXI6WzY1NTM1JmEsNjU1MzUmc119fWNvbnN0IExyPWUuY3JlYXRlKCksT3I9KHQscixuLGksbyxhLHMsbCxjLHUsaCk9Pntjb25zdCBkPXIuc3R5bGUubGlnaHQscD1kLnByb3BlcnRpZXMuZ2V0KFwicG9zaXRpb25cIiksZj1bcC54LHAueSxwLnpdLG09ZS5jcmVhdGUkMSgpO1widmlld3BvcnRcIj09PWQucHJvcGVydGllcy5nZXQoXCJhbmNob3JcIikmJihlLmZyb21Sb3RhdGlvbihtLC1yLnRyYW5zZm9ybS5hbmdsZSksZS50cmFuc2Zvcm1NYXQzKGYsZixtKSk7Y29uc3QgZz1kLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIiksXz1yLnRyYW5zZm9ybSx5PXt1X21hdHJpeDp0LHVfbGlnaHRwb3M6Zix1X2xpZ2h0aW50ZW5zaXR5OmQucHJvcGVydGllcy5nZXQoXCJpbnRlbnNpdHlcIiksdV9saWdodGNvbG9yOltnLnIsZy5nLGcuYl0sdV92ZXJ0aWNhbF9ncmFkaWVudDorbix1X29wYWNpdHk6aSx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfaW52X3JvdF9tYXRyaXg6THIsdV9tZXJjX2NlbnRlcjpbMCwwXSx1X3VwX2RpcjpbMCwwLDBdLHVfaGVpZ2h0X2xpZnQ6MCx1X2FvOm8sdV9lZGdlX3JhZGl1czphfTtyZXR1cm5cImdsb2JlXCI9PT1fLnByb2plY3Rpb24ubmFtZSYmKHkudV90aWxlX2lkPVtzLmNhbm9uaWNhbC54LHMuY2Fub25pY2FsLnksMTw8cy5jYW5vbmljYWwuel0seS51X3pvb21fdHJhbnNpdGlvbj1jLHkudV9pbnZfcm90X21hdHJpeD1oLHkudV9tZXJjX2NlbnRlcj11LHkudV91cF9kaXI9Xy5wcm9qZWN0aW9uLnVwVmVjdG9yKG5ldyBlLkNhbm9uaWNhbFRpbGVJRCgwLDAsMCksdVswXSplLkVYVEVOVCx1WzFdKmUuRVhURU5UKSx5LnVfaGVpZ2h0X2xpZnQ9bCkseX0sQnI9KHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHApPT57Y29uc3QgZj1Pcih0LHIsbixpLG8sYSxzLHUsaCxkLHApLG09e3VfaGVpZ2h0X2ZhY3RvcjotTWF0aC5wb3coMixzLm92ZXJzY2FsZWRaKS9jLnRpbGVTaXplLzh9O3JldHVybiBlLmV4dGVuZChmLFJyKGwscixjKSxtKX0sRnI9ZT0+KHt1X21hdHJpeDplfSksanI9KHQscixuLGkpPT5lLmV4dGVuZChGcih0KSxScihuLHIsaSkpLFVyPShlLHQpPT4oe3VfbWF0cml4OmUsdV93b3JsZDp0fSksTnI9KHQscixuLGksbyk9PmUuZXh0ZW5kKGpyKHQscixuLGkpLHt1X3dvcmxkOm99KSxWcj1lLmNyZWF0ZSgpLEdyPSh0LHIsbixpLG8sYSk9Pntjb25zdCBzPXQudHJhbnNmb3JtLGw9XCJnbG9iZVwiPT09cy5wcm9qZWN0aW9uLm5hbWU7bGV0IGM7aWYoXCJtYXBcIj09PWEucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiKSlpZihsKXtjb25zdCB0PWUuZ2xvYmVQaXhlbHNUb1RpbGVVbml0cyhzLnpvb20sci5jYW5vbmljYWwpKnMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7Yz1GbG9hdDMyQXJyYXkuZnJvbShbdCwwLDAsdF0pfWVsc2UgYz1zLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KG4pO2Vsc2UgYz1uZXcgRmxvYXQzMkFycmF5KFtzLnBpeGVsc1RvR0xVbml0c1swXSwwLDAscy5waXhlbHNUb0dMVW5pdHNbMV1dKTtjb25zdCB1PXt1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6cy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHVfbWF0cml4OnQudHJhbnNsYXRlUG9zTWF0cml4KHIucHJvak1hdHJpeCxuLGEucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZVwiKSxhLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCIpKSx1X2RldmljZV9waXhlbF9yYXRpbzplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sdV9leHRydWRlX3NjYWxlOmMsdV9pbnZfcm90X21hdHJpeDpWcix1X21lcmNfY2VudGVyOlswLDBdLHVfdGlsZV9pZDpbMCwwLDBdLHVfem9vbV90cmFuc2l0aW9uOjAsdV91cF9kaXI6WzAsMCwwXX07aWYobCl7dS51X2ludl9yb3RfbWF0cml4PWksdS51X21lcmNfY2VudGVyPW8sdS51X3RpbGVfaWQ9W3IuY2Fub25pY2FsLngsci5jYW5vbmljYWwueSwxPDxyLmNhbm9uaWNhbC56XSx1LnVfem9vbV90cmFuc2l0aW9uPWUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihzLnpvb20pO2NvbnN0IHQ9b1swXSplLkVYVEVOVCxuPW9bMV0qZS5FWFRFTlQ7dS51X3VwX2Rpcj1zLnByb2plY3Rpb24udXBWZWN0b3IobmV3IGUuQ2Fub25pY2FsVGlsZUlEKDAsMCwwKSx0LG4pfXJldHVybiB1fSxxcj1lPT57Y29uc3QgdD1bXTtyZXR1cm5cIm1hcFwiPT09ZS5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCIpJiZ0LnB1c2goXCJQSVRDSF9XSVRIX01BUFwiKSxcIm1hcFwiPT09ZS5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIikmJnQucHVzaChcIlNDQUxFX1dJVEhfTUFQXCIpLHR9LFpyPSh0LHIsbixpKT0+e2NvbnN0IG89ZS5FWFRFTlQvbi50aWxlU2l6ZTtyZXR1cm57dV9tYXRyaXg6dCx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6ci5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKGkpLHVfZXh0cnVkZV9zY2FsZTpbci5waXhlbHNUb0dMVW5pdHNbMF0vbyxyLnBpeGVsc1RvR0xVbml0c1sxXS9vXX19LCRyPShlLHQscj0xKT0+KHt1X21hdHJpeDplLHVfY29sb3I6dCx1X292ZXJsYXk6MCx1X292ZXJsYXlfc2NhbGU6cn0pLFdyPWUuY3JlYXRlKCksWHI9KHQscixuLGksbyxhLHMpPT57Y29uc3QgbD10LnRyYW5zZm9ybSxjPVwiZ2xvYmVcIj09PWwucHJvamVjdGlvbi5uYW1lLHU9Yz9lLmdsb2JlUGl4ZWxzVG9UaWxlVW5pdHMobC56b29tLHIuY2Fub25pY2FsKSpsLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsOkQobiwxLGEpLGg9e3VfbWF0cml4OnIucHJvak1hdHJpeCx1X2V4dHJ1ZGVfc2NhbGU6dSx1X2ludGVuc2l0eTpzLHVfaW52X3JvdF9tYXRyaXg6V3IsdV9tZXJjX2NlbnRlcjpbMCwwXSx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfdXBfZGlyOlswLDAsMF19O2lmKGMpe2gudV9pbnZfcm90X21hdHJpeD1pLGgudV9tZXJjX2NlbnRlcj1vLGgudV90aWxlX2lkPVtyLmNhbm9uaWNhbC54LHIuY2Fub25pY2FsLnksMTw8ci5jYW5vbmljYWwuel0saC51X3pvb21fdHJhbnNpdGlvbj1lLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24obC56b29tKTtjb25zdCB0PW9bMF0qZS5FWFRFTlQsbj1vWzFdKmUuRVhURU5UO2gudV91cF9kaXI9bC5wcm9qZWN0aW9uLnVwVmVjdG9yKG5ldyBlLkNhbm9uaWNhbFRpbGVJRCgwLDAsMCksdCxuKX1yZXR1cm4gaH0sSHI9KGUsdCxyLG4saSxvLGEscyk9Pntjb25zdCBsPWUudHJhbnNmb3JtLGM9bC5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0KSx1PXt1X21hdHJpeDpKcihlLHQscixpKSx1X3BpeGVsc190b190aWxlX3VuaXRzOmMsdV9kZXZpY2VfcGl4ZWxfcmF0aW86YSx1X3VuaXRzX3RvX3BpeGVsczpbMS9sLnBpeGVsc1RvR0xVbml0c1swXSwxL2wucGl4ZWxzVG9HTFVuaXRzWzFdXSx1X2Rhc2hfaW1hZ2U6MCx1X2dyYWRpZW50X2ltYWdlOjEsdV9pbWFnZV9oZWlnaHQ6byx1X3RleHNpemU6WzAsMF0sdV9zY2FsZTpbMCwwLDBdLHVfbWl4OjAsdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDowLHVfdHJpbV9vZmZzZXQ6c307aWYoUXIocikpe2NvbnN0IHI9S3IodCxlLnRyYW5zZm9ybSk7dS51X3RleHNpemU9dC5saW5lQXRsYXNUZXh0dXJlLnNpemUsdS51X3NjYWxlPVtyLG4uZnJvbVNjYWxlLG4udG9TY2FsZV0sdS51X21peD1uLnR9cmV0dXJuIHV9LFlyPShlLHQscixuLGksbyk9Pntjb25zdCBhPWUudHJhbnNmb3JtLHM9S3IodCxhKTtyZXR1cm57dV9tYXRyaXg6SnIoZSx0LHIsaSksdV90ZXhzaXplOnQuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSx1X3BpeGVsc190b190aWxlX3VuaXRzOmEuY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86byx1X2ltYWdlOjAsdV9zY2FsZTpbcyxuLmZyb21TY2FsZSxuLnRvU2NhbGVdLHVfZmFkZTpuLnQsdV91bml0c190b19waXhlbHM6WzEvYS5waXhlbHNUb0dMVW5pdHNbMF0sMS9hLnBpeGVsc1RvR0xVbml0c1sxXV0sdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDowfX07ZnVuY3Rpb24gS3IoZSx0KXtyZXR1cm4gMS9EKGUsMSx0LnRpbGVab29tKX1mdW5jdGlvbiBKcihlLHQscixuKXtyZXR1cm4gZS50cmFuc2xhdGVQb3NNYXRyaXgobnx8dC50aWxlSUQucHJvak1hdHJpeCx0LHIucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGVcIiksci5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIikpfWZ1bmN0aW9uIFFyKGUpe2NvbnN0IHQ9ZS5wYWludC5nZXQoXCJsaW5lLWRhc2hhcnJheVwiKS52YWx1ZTtyZXR1cm4gdC52YWx1ZXx8XCJjb25zdGFudFwiIT09dC5raW5kfWNvbnN0IGVuPShlLHQscixuLGksbyk9PntyZXR1cm57dV9tYXRyaXg6ZSx1X3RsX3BhcmVudDp0LHVfc2NhbGVfcGFyZW50OnIsdV9mYWRlX3Q6bi5taXgsdV9vcGFjaXR5Om4ub3BhY2l0eSppLnBhaW50LmdldChcInJhc3Rlci1vcGFjaXR5XCIpLHVfaW1hZ2UwOjAsdV9pbWFnZTE6MSx1X2JyaWdodG5lc3NfbG93OmkucGFpbnQuZ2V0KFwicmFzdGVyLWJyaWdodG5lc3MtbWluXCIpLHVfYnJpZ2h0bmVzc19oaWdoOmkucGFpbnQuZ2V0KFwicmFzdGVyLWJyaWdodG5lc3MtbWF4XCIpLHVfc2F0dXJhdGlvbl9mYWN0b3I6KHM9aS5wYWludC5nZXQoXCJyYXN0ZXItc2F0dXJhdGlvblwiKSxzPjA/MS0xLygxLjAwMS1zKTotcyksdV9jb250cmFzdF9mYWN0b3I6KGE9aS5wYWludC5nZXQoXCJyYXN0ZXItY29udHJhc3RcIiksYT4wPzEvKDEtYSk6MSthKSx1X3NwaW5fd2VpZ2h0czp0bihpLnBhaW50LmdldChcInJhc3Rlci1odWUtcm90YXRlXCIpKSx1X3BlcnNwZWN0aXZlX3RyYW5zZm9ybTpvfTt2YXIgYSxzfTtmdW5jdGlvbiB0bihlKXtlKj1NYXRoLlBJLzE4MDtjb25zdCB0PU1hdGguc2luKGUpLHI9TWF0aC5jb3MoZSk7cmV0dXJuWygyKnIrMSkvMywoLU1hdGguc3FydCgzKSp0LXIrMSkvMywoTWF0aC5zcXJ0KDMpKnQtcisxKS8zXX1jb25zdCBybj1lLmNyZWF0ZSgpLG5uPSh0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnKT0+e2NvbnN0IF89by50cmFuc2Zvcm0seT17dV9pc19zaXplX3pvb21fY29uc3RhbnQ6KyhcImNvbnN0YW50XCI9PT10fHxcInNvdXJjZVwiPT09dCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6KyhcImNvbnN0YW50XCI9PT10fHxcImNhbWVyYVwiPT09dCksdV9zaXplX3Q6cj9yLnVTaXplVDowLHVfc2l6ZTpyP3IudVNpemU6MCx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6Xy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHVfcm90YXRlX3N5bWJvbDorbix1X2FzcGVjdF9yYXRpbzpfLndpZHRoL18uaGVpZ2h0LHVfZmFkZV9jaGFuZ2U6by5vcHRpb25zLmZhZGVEdXJhdGlvbj9vLnN5bWJvbEZhZGVDaGFuZ2U6MSx1X21hdHJpeDphLHVfbGFiZWxfcGxhbmVfbWF0cml4OnMsdV9jb29yZF9tYXRyaXg6bCx1X2lzX3RleHQ6K2MsdV9waXRjaF93aXRoX21hcDoraSx1X3RleHNpemU6dSx1X3RleHR1cmU6MCx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfaW52X3JvdF9tYXRyaXg6cm4sdV9tZXJjX2NlbnRlcjpbMCwwXSx1X2NhbWVyYV9mb3J3YXJkOlswLDAsMF0sdV9lY2VmX29yaWdpbjpbMCwwLDBdLHVfdGlsZV9tYXRyaXg6cm4sdV91cF92ZWN0b3I6WzAsLTEsMF19O3JldHVyblwiZ2xvYmVcIj09PWcubmFtZSYmKHkudV90aWxlX2lkPVtoLmNhbm9uaWNhbC54LGguY2Fub25pY2FsLnksMTw8aC5jYW5vbmljYWwuel0seS51X3pvb21fdHJhbnNpdGlvbj1kLHkudV9pbnZfcm90X21hdHJpeD1mLHkudV9tZXJjX2NlbnRlcj1wLHkudV9jYW1lcmFfZm9yd2FyZD1fLl9jYW1lcmEuZm9yd2FyZCgpLHkudV9lY2VmX29yaWdpbj1lLmdsb2JlRUNFRk9yaWdpbihfLmdsb2JlTWF0cml4LGgudG9VbndyYXBwZWQoKSkseS51X3RpbGVfbWF0cml4PUZsb2F0MzJBcnJheS5mcm9tKF8uZ2xvYmVNYXRyaXgpLHkudV91cF92ZWN0b3I9bSkseX0sb249KHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcsXyk9PmUuZXh0ZW5kKG5uKHQscixuLGksbyxhLHMsbCxjLHUsZCxwLGYsbSxnLF8pLHt1X2dhbW1hX3NjYWxlOmk/by50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSpNYXRoLmNvcyhvLnRlcnJhaW4/MDpvLnRyYW5zZm9ybS5fcGl0Y2gpOjEsdV9kZXZpY2VfcGl4ZWxfcmF0aW86ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHVfaXNfaGFsbzoraH0pLGFuPSh0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnKT0+ZS5leHRlbmQob24odCxyLG4saSxvLGEscyxsLCEwLGMsITAsaCxkLHAsZixtLGcpLHt1X3RleHNpemVfaWNvbjp1LHVfdGV4dHVyZV9pY29uOjF9KSxzbj0oZSx0LHIpPT4oe3VfbWF0cml4OmUsdV9vcGFjaXR5OnQsdV9jb2xvcjpyfSksbG49KHQscixuLGksbyxhKT0+ZS5leHRlbmQoZnVuY3Rpb24oZSx0LHIsbil7Y29uc3QgaT1yLmltYWdlTWFuYWdlci5nZXRQYXR0ZXJuKGUuZnJvbS50b1N0cmluZygpKSxvPXIuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oZS50by50b1N0cmluZygpKSx7d2lkdGg6YSxoZWlnaHQ6c309ci5pbWFnZU1hbmFnZXIuZ2V0UGl4ZWxTaXplKCksbD1NYXRoLnBvdygyLG4udGlsZUlELm92ZXJzY2FsZWRaKSxjPW4udGlsZVNpemUqTWF0aC5wb3coMixyLnRyYW5zZm9ybS50aWxlWm9vbSkvbCx1PWMqKG4udGlsZUlELmNhbm9uaWNhbC54K24udGlsZUlELndyYXAqbCksaD1jKm4udGlsZUlELmNhbm9uaWNhbC55O3JldHVybnt1X2ltYWdlOjAsdV9wYXR0ZXJuX3RsX2E6aS50bCx1X3BhdHRlcm5fYnJfYTppLmJyLHVfcGF0dGVybl90bF9iOm8udGwsdV9wYXR0ZXJuX2JyX2I6by5icix1X3RleHNpemU6W2Esc10sdV9taXg6dC50LHVfcGF0dGVybl9zaXplX2E6aS5kaXNwbGF5U2l6ZSx1X3BhdHRlcm5fc2l6ZV9iOm8uZGlzcGxheVNpemUsdV9zY2FsZV9hOnQuZnJvbVNjYWxlLHVfc2NhbGVfYjp0LnRvU2NhbGUsdV90aWxlX3VuaXRzX3RvX3BpeGVsczoxL0QobiwxLHIudHJhbnNmb3JtLnRpbGVab29tKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOlt1Pj4xNixoPj4xNl0sdV9waXhlbF9jb29yZF9sb3dlcjpbNjU1MzUmdSw2NTUzNSZoXX19KGksYSxuLG8pLHt1X21hdHJpeDp0LHVfb3BhY2l0eTpyfSksY249e2ZpbGxFeHRydXNpb246dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9saWdodHBvczpuZXcgZS5Vbmlmb3JtM2YodCksdV9saWdodGludGVuc2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9saWdodGNvbG9yOm5ldyBlLlVuaWZvcm0zZih0KSx1X3ZlcnRpY2FsX2dyYWRpZW50Om5ldyBlLlVuaWZvcm0xZih0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZWRnZV9yYWRpdXM6bmV3IGUuVW5pZm9ybTFmKHQpLHVfYW86bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV9pZDpuZXcgZS5Vbmlmb3JtM2YodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdXBfZGlyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2hlaWdodF9saWZ0Om5ldyBlLlVuaWZvcm0xZih0KX0pLGZpbGxFeHRydXNpb25QYXR0ZXJuOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbGlnaHRwb3M6bmV3IGUuVW5pZm9ybTNmKHQpLHVfbGlnaHRpbnRlbnNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbGlnaHRjb2xvcjpuZXcgZS5Vbmlmb3JtM2YodCksdV92ZXJ0aWNhbF9ncmFkaWVudDpuZXcgZS5Vbmlmb3JtMWYodCksdV9oZWlnaHRfZmFjdG9yOm5ldyBlLlVuaWZvcm0xZih0KSx1X2VkZ2VfcmFkaXVzOm5ldyBlLlVuaWZvcm0xZih0KSx1X2FvOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3VwX2RpcjpuZXcgZS5Vbmlmb3JtM2YodCksdV9oZWlnaHRfbGlmdDpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3NjYWxlOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZhZGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCl9KSxmaWxsOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpfSksZmlsbFBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3NjYWxlOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZhZGU6bmV3IGUuVW5pZm9ybTFmKHQpfSksZmlsbE91dGxpbmU6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV93b3JsZDpuZXcgZS5Vbmlmb3JtMmYodCl9KSxmaWxsT3V0bGluZVBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV93b3JsZDpuZXcgZS5Vbmlmb3JtMmYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3NjYWxlOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZhZGU6bmV3IGUuVW5pZm9ybTFmKHQpfSksY2lyY2xlOnQ9Pih7dV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLlVuaWZvcm0xZih0KSx1X2V4dHJ1ZGVfc2NhbGU6bmV3IGUuVW5pZm9ybU1hdHJpeDJmKHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbnZfcm90X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX2lkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV91cF9kaXI6bmV3IGUuVW5pZm9ybTNmKHQpfSksY29sbGlzaW9uQm94OnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9leHRydWRlX3NjYWxlOm5ldyBlLlVuaWZvcm0yZih0KX0pLGNvbGxpc2lvbkNpcmNsZTp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ludl9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgZS5Vbmlmb3JtMWYodCksdV92aWV3cG9ydF9zaXplOm5ldyBlLlVuaWZvcm0yZih0KX0pLGRlYnVnOnQ9Pih7dV9jb2xvcjpuZXcgZS5Vbmlmb3JtQ29sb3IodCksdV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfb3ZlcmxheTpuZXcgZS5Vbmlmb3JtMWkodCksdV9vdmVybGF5X3NjYWxlOm5ldyBlLlVuaWZvcm0xZih0KX0pLGNsaXBwaW5nTWFzazp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KX0pLGhlYXRtYXA6dD0+KHt1X2V4dHJ1ZGVfc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW50ZW5zaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbnZfcm90X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX2lkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV91cF9kaXI6bmV3IGUuVW5pZm9ybTNmKHQpfSksaGVhdG1hcFRleHR1cmU6dD0+KHt1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2NvbG9yX3JhbXA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCl9KSxoaWxsc2hhZGU6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9sYXRyYW5nZTpuZXcgZS5Vbmlmb3JtMmYodCksdV9saWdodDpuZXcgZS5Vbmlmb3JtMmYodCksdV9zaGFkb3c6bmV3IGUuVW5pZm9ybUNvbG9yKHQpLHVfaGlnaGxpZ2h0Om5ldyBlLlVuaWZvcm1Db2xvcih0KSx1X2FjY2VudDpuZXcgZS5Vbmlmb3JtQ29sb3IodCl9KSxoaWxsc2hhZGVQcmVwYXJlOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZGltZW5zaW9uOm5ldyBlLlVuaWZvcm0yZih0KSx1X3pvb206bmV3IGUuVW5pZm9ybTFmKHQpLHVfdW5wYWNrOm5ldyBlLlVuaWZvcm00Zih0KX0pLGxpbmU6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9waXhlbHNfdG9fdGlsZV91bml0czpuZXcgZS5Vbmlmb3JtTWF0cml4MmYodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBlLlVuaWZvcm0yZih0KSx1X2Rhc2hfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZ3JhZGllbnRfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfaW1hZ2VfaGVpZ2h0Om5ldyBlLlVuaWZvcm0xZih0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2NhbGU6bmV3IGUuVW5pZm9ybTNmKHQpLHVfbWl4Om5ldyBlLlVuaWZvcm0xZih0KSx1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkOm5ldyBlLlVuaWZvcm0xZih0KSx1X3RyaW1fb2Zmc2V0Om5ldyBlLlVuaWZvcm0yZih0KX0pLGxpbmVQYXR0ZXJuOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV9waXhlbHNfdG9fdGlsZV91bml0czpuZXcgZS5Vbmlmb3JtTWF0cml4MmYodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBlLlVuaWZvcm0yZih0KSx1X3NjYWxlOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZhZGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ6bmV3IGUuVW5pZm9ybTFmKHQpfSkscmFzdGVyOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfdGxfcGFyZW50Om5ldyBlLlVuaWZvcm0yZih0KSx1X3NjYWxlX3BhcmVudDpuZXcgZS5Vbmlmb3JtMWYodCksdV9mYWRlX3Q6bmV3IGUuVW5pZm9ybTFmKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbWFnZTA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfaW1hZ2UxOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2JyaWdodG5lc3NfbG93Om5ldyBlLlVuaWZvcm0xZih0KSx1X2JyaWdodG5lc3NfaGlnaDpuZXcgZS5Vbmlmb3JtMWYodCksdV9zYXR1cmF0aW9uX2ZhY3RvcjpuZXcgZS5Vbmlmb3JtMWYodCksdV9jb250cmFzdF9mYWN0b3I6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc3Bpbl93ZWlnaHRzOm5ldyBlLlVuaWZvcm0zZih0KSx1X3BlcnNwZWN0aXZlX3RyYW5zZm9ybTpuZXcgZS5Vbmlmb3JtMmYodCl9KSxzeW1ib2xJY29uOnQ9Pih7dV9pc19zaXplX3pvb21fY29uc3RhbnQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50Om5ldyBlLlVuaWZvcm0xaSh0KSx1X3NpemVfdDpuZXcgZS5Vbmlmb3JtMWYodCksdV9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfcm90YXRlX3N5bWJvbDpuZXcgZS5Vbmlmb3JtMWkodCksdV9hc3BlY3RfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfZmFkZV9jaGFuZ2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2xhYmVsX3BsYW5lX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9jb29yZF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaXNfdGV4dDpuZXcgZS5Vbmlmb3JtMWkodCksdV9waXRjaF93aXRoX21hcDpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X2NhbWVyYV9mb3J3YXJkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3VwX3ZlY3RvcjpuZXcgZS5Vbmlmb3JtM2YodCksdV9lY2VmX29yaWdpbjpuZXcgZS5Vbmlmb3JtM2YodCksdV90ZXh0dXJlOm5ldyBlLlVuaWZvcm0xaSh0KX0pLHN5bWJvbFNERjp0PT4oe3VfaXNfc2l6ZV96b29tX2NvbnN0YW50Om5ldyBlLlVuaWZvcm0xaSh0KSx1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDpuZXcgZS5Vbmlmb3JtMWkodCksdV9zaXplX3Q6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc2l6ZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLlVuaWZvcm0xZih0KSx1X3JvdGF0ZV9zeW1ib2w6bmV3IGUuVW5pZm9ybTFpKHQpLHVfYXNwZWN0X3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ZhZGVfY2hhbmdlOm5ldyBlLlVuaWZvcm0xZih0KSx1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9sYWJlbF9wbGFuZV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfY29vcmRfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2lzX3RleHQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV90ZXh0dXJlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2dhbW1hX3NjYWxlOm5ldyBlLlVuaWZvcm0xZih0KSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV90aWxlX2lkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbnZfcm90X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV9jYW1lcmFfZm9yd2FyZDpuZXcgZS5Vbmlmb3JtM2YodCksdV90aWxlX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV91cF92ZWN0b3I6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZWNlZl9vcmlnaW46bmV3IGUuVW5pZm9ybTNmKHQpLHVfaXNfaGFsbzpuZXcgZS5Vbmlmb3JtMWkodCl9KSxzeW1ib2xUZXh0QW5kSWNvbjp0PT4oe3VfaXNfc2l6ZV96b29tX2NvbnN0YW50Om5ldyBlLlVuaWZvcm0xaSh0KSx1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDpuZXcgZS5Vbmlmb3JtMWkodCksdV9zaXplX3Q6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc2l6ZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLlVuaWZvcm0xZih0KSx1X3JvdGF0ZV9zeW1ib2w6bmV3IGUuVW5pZm9ybTFpKHQpLHVfYXNwZWN0X3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ZhZGVfY2hhbmdlOm5ldyBlLlVuaWZvcm0xZih0KSx1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9sYWJlbF9wbGFuZV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfY29vcmRfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2lzX3RleHQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV90ZXhzaXplX2ljb246bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGV4dHVyZTpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXh0dXJlX2ljb246bmV3IGUuVW5pZm9ybTFpKHQpLHVfZ2FtbWFfc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X2lzX2hhbG86bmV3IGUuVW5pZm9ybTFpKHQpfSksYmFja2dyb3VuZDp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfY29sb3I6bmV3IGUuVW5pZm9ybUNvbG9yKHQpfSksYmFja2dyb3VuZFBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3BhdHRlcm5fdGxfYTpuZXcgZS5Vbmlmb3JtMmYodCksdV9wYXR0ZXJuX2JyX2E6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGF0dGVybl90bF9iOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BhdHRlcm5fYnJfYjpuZXcgZS5Vbmlmb3JtMmYodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X21peDpuZXcgZS5Vbmlmb3JtMWYodCksdV9wYXR0ZXJuX3NpemVfYTpuZXcgZS5Vbmlmb3JtMmYodCksdV9wYXR0ZXJuX3NpemVfYjpuZXcgZS5Vbmlmb3JtMmYodCksdV9zY2FsZV9hOm5ldyBlLlVuaWZvcm0xZih0KSx1X3NjYWxlX2I6bmV3IGUuVW5pZm9ybTFmKHQpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV91bml0c190b19waXhlbHM6bmV3IGUuVW5pZm9ybTFmKHQpfSksdGVycmFpblJhc3Rlcjp4cix0ZXJyYWluRGVwdGg6eHIsc2t5Ym94OnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfc3VuX2RpcmVjdGlvbjpuZXcgZS5Vbmlmb3JtM2YodCksdV9jdWJlbWFwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdGVtcG9yYWxfb2Zmc2V0Om5ldyBlLlVuaWZvcm0xZih0KX0pLHNreWJveEdyYWRpZW50OnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfY29sb3JfcmFtcDpuZXcgZS5Vbmlmb3JtMWkodCksdV9jZW50ZXJfZGlyZWN0aW9uOm5ldyBlLlVuaWZvcm0zZih0KSx1X3JhZGl1czpuZXcgZS5Vbmlmb3JtMWYodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X3RlbXBvcmFsX29mZnNldDpuZXcgZS5Vbmlmb3JtMWYodCl9KSxza3lib3hDYXB0dXJlOnQ9Pih7dV9tYXRyaXhfM2Y6bmV3IGUuVW5pZm9ybU1hdHJpeDNmKHQpLHVfc3VuX2RpcmVjdGlvbjpuZXcgZS5Vbmlmb3JtM2YodCksdV9zdW5faW50ZW5zaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2NvbG9yX3RpbnRfcjpuZXcgZS5Vbmlmb3JtNGYodCksdV9jb2xvcl90aW50X206bmV3IGUuVW5pZm9ybTRmKHQpLHVfbHVtaW5hbmNlOm5ldyBlLlVuaWZvcm0xZih0KX0pLGdsb2JlUmFzdGVyOnQ9Pih7dV9wcm9qX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9nbG9iZV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbm9ybWFsaXplX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfaW1hZ2UwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2dyaWRfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXgzZih0KSx1X2ZydXN0dW1fdGw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV90cjpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX2JyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYmw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZ2xvYmVfcG9zOm5ldyBlLlVuaWZvcm0zZih0KSx1X2dsb2JlX3JhZGl1czpuZXcgZS5Vbmlmb3JtMWYodCksdV92aWV3cG9ydDpuZXcgZS5Vbmlmb3JtMmYodCl9KSxnbG9iZUF0bW9zcGhlcmU6dD0+KHt1X2ZydXN0dW1fdGw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV90cjpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX2JyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYmw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfaG9yaXpvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ZhZGVvdXRfcmFuZ2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfY29sb3I6bmV3IGUuVW5pZm9ybTRmKHQpLHVfaGlnaF9jb2xvcjpuZXcgZS5Vbmlmb3JtNGYodCksdV9zcGFjZV9jb2xvcjpuZXcgZS5Vbmlmb3JtNGYodCksdV9zdGFyX2ludGVuc2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9zdGFyX2RlbnNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc3Rhcl9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X3RlbXBvcmFsX29mZnNldDpuZXcgZS5Vbmlmb3JtMWYodCksdV9ob3Jpem9uX2FuZ2xlOm5ldyBlLlVuaWZvcm0xZih0KSx1X3JvdGF0aW9uX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCl9KX07bGV0IHVuO2Z1bmN0aW9uIGhuKHQscixuLGksbyxhLHMpe2NvbnN0IGw9dC5jb250ZXh0LGM9bC5nbCx1PXQudHJhbnNmb3JtLGg9dC51c2VQcm9ncmFtKFwiY29sbGlzaW9uQm94XCIpLGQ9W107bGV0IHA9MCxmPTA7Zm9yKGxldCBtPTA7bTxpLmxlbmd0aDttKyspe2NvbnN0IGc9aVttXSxfPXIuZ2V0VGlsZShnKSx5PV8uZ2V0QnVja2V0KG4pO2lmKCF5KWNvbnRpbnVlO2NvbnN0IHY9YnQoZyx5LHUpO2xldCB4PXY7MD09PW9bMF0mJjA9PT1vWzFdfHwoeD10LnRyYW5zbGF0ZVBvc01hdHJpeCh2LF8sbyxhKSk7Y29uc3QgYj1zP3kudGV4dENvbGxpc2lvbkJveDp5Lmljb25Db2xsaXNpb25Cb3gsdz15LmNvbGxpc2lvbkNpcmNsZUFycmF5O2lmKHcubGVuZ3RoPjApe2NvbnN0IHQ9ZS5jcmVhdGUoKSxyPXg7ZS5tdWwodCx5LnBsYWNlbWVudEludlByb2pNYXRyaXgsdS5nbENvb3JkTWF0cml4KSxlLm11bCh0LHQseS5wbGFjZW1lbnRWaWV3cG9ydE1hdHJpeCksZC5wdXNoKHtjaXJjbGVBcnJheTp3LGNpcmNsZU9mZnNldDpmLHRyYW5zZm9ybTpyLGludlRyYW5zZm9ybTp0LHByb2plY3Rpb246eS5nZXRQcm9qZWN0aW9uKCl9KSxwKz13Lmxlbmd0aC80LGY9cH1iJiYodC50ZXJyYWluJiZ0LnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KF8saCksaC5kcmF3KGwsYy5MSU5FUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFpyKHgsdSxfLHkuZ2V0UHJvamVjdGlvbigpKSxuLmlkLGIubGF5b3V0VmVydGV4QnVmZmVyLGIuaW5kZXhCdWZmZXIsYi5zZWdtZW50cyxudWxsLHUuem9vbSxudWxsLFtiLmNvbGxpc2lvblZlcnRleEJ1ZmZlcixiLmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dF0pKX1pZighc3x8IWQubGVuZ3RoKXJldHVybjtjb25zdCBtPXQudXNlUHJvZ3JhbShcImNvbGxpc2lvbkNpcmNsZVwiKSxnPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0MmYxZjJpMTY7Zy5yZXNpemUoNCpwKSxnLl90cmltKCk7bGV0IF89MDtmb3IoY29uc3QgZSBvZiBkKWZvcihsZXQgdD0wO3Q8ZS5jaXJjbGVBcnJheS5sZW5ndGgvNDt0Kyspe2NvbnN0IHI9NCp0LG49ZS5jaXJjbGVBcnJheVtyKzBdLGk9ZS5jaXJjbGVBcnJheVtyKzFdLG89ZS5jaXJjbGVBcnJheVtyKzJdLGE9ZS5jaXJjbGVBcnJheVtyKzNdO2cuZW1wbGFjZShfKyssbixpLG8sYSwwKSxnLmVtcGxhY2UoXysrLG4saSxvLGEsMSksZy5lbXBsYWNlKF8rKyxuLGksbyxhLDIpLGcuZW1wbGFjZShfKyssbixpLG8sYSwzKX0oIXVufHx1bi5sZW5ndGg8MipwKSYmKHVuPWZ1bmN0aW9uKHQpe2NvbnN0IHI9Mip0LG49bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQzdWk2O24ucmVzaXplKHIpLG4uX3RyaW0oKTtmb3IobGV0IGU9MDtlPHI7ZSsrKXtjb25zdCB0PTYqZTtuLnVpbnQxNlt0KzBdPTQqZSswLG4udWludDE2W3QrMV09NCplKzEsbi51aW50MTZbdCsyXT00KmUrMixuLnVpbnQxNlt0KzNdPTQqZSsyLG4udWludDE2W3QrNF09NCplKzMsbi51aW50MTZbdCs1XT00KmUrMH1yZXR1cm4gbn0ocCkpO2NvbnN0IHk9bC5jcmVhdGVJbmRleEJ1ZmZlcih1biwhMCksdj1sLmNyZWF0ZVZlcnRleEJ1ZmZlcihnLGUuY29sbGlzaW9uQ2lyY2xlTGF5b3V0Lm1lbWJlcnMsITApO2Zvcihjb25zdCByIG9mIGQpe2NvbnN0IGk9e3VfbWF0cml4OnIudHJhbnNmb3JtLHVfaW52X21hdHJpeDpyLmludlRyYW5zZm9ybSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6KHg9dSkuZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShyLnByb2plY3Rpb24pLHVfdmlld3BvcnRfc2l6ZTpbeC53aWR0aCx4LmhlaWdodF19O20uZHJhdyhsLGMuVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsaSxuLmlkLHYseSxlLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDIqci5jaXJjbGVPZmZzZXQsci5jaXJjbGVBcnJheS5sZW5ndGgsci5jaXJjbGVBcnJheS5sZW5ndGgvMiksbnVsbCx1Lnpvb20pfXZhciB4O3YuZGVzdHJveSgpLHkuZGVzdHJveSgpfWNvbnN0IGRuPWUuY3JlYXRlKCk7ZnVuY3Rpb24gcG4odCxyLG4saSxvLGEpe2NvbnN0e2hvcml6b250YWxBbGlnbjpzLHZlcnRpY2FsQWxpZ246bH09ZS5nZXRBbmNob3JBbGlnbm1lbnQodCksYz0tKHMtLjUpKnIsdT0tKGwtLjUpKm4saD1lLmV2YWx1YXRlVmFyaWFibGVPZmZzZXQodCxpKTtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgoYy9vK2hbMF0pKmEsKHUvbytoWzFdKSphKX1mdW5jdGlvbiBmbih0LHIsbixpLG8sYSxzLGwsYyx1LGgpe2NvbnN0IGQ9dC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LHA9dC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxmPXQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksbT17fSxnPXd0KGwsdC5nZXRQcm9qZWN0aW9uKCksYSksXz1hLmVsZXZhdGlvbix5PXQuZ2V0UHJvamVjdGlvbigpLnVwVmVjdG9yU2NhbGUobC5jYW5vbmljYWwsYS5jZW50ZXIubGF0LGEud29ybGRTaXplKTtwLmNsZWFyKCk7Zm9yKGxldCBmPTA7ZjxkLmxlbmd0aDtmKyspe2NvbnN0IHY9ZC5nZXQoZikseD10LmFsbG93VmVydGljYWxQbGFjZW1lbnQmJiF2LnBsYWNlZE9yaWVudGF0aW9uLGI9di5oaWRkZW58fCF2LmNyb3NzVGlsZUlEfHx4P251bGw6aVt2LmNyb3NzVGlsZUlEXTtpZihiKXtjb25zdCBpPW5ldyBlLnBvaW50R2VvbWV0cnkodi50aWxlQW5jaG9yWCx2LnRpbGVBbmNob3JZKSxkPXQuZ2V0UHJvamVjdGlvbigpLnVwVmVjdG9yKGwuY2Fub25pY2FsLGkueCxpLnkpLGY9Xz9fLmdldEF0VGlsZU9mZnNldChsLGkueCxpLnkpOjAseD1vdChbdi5wcm9qZWN0ZWRBbmNob3JYK2YqZFswXSp5Lm1ldGVyc1RvVGlsZSx2LnByb2plY3RlZEFuY2hvclkrZipkWzFdKnkubWV0ZXJzVG9UaWxlLHYucHJvamVjdGVkQW5jaG9yWitmKmRbMl0qeS5tZXRlcnNUb1RpbGVdLG4/ZzpzKSx3PWF0KGEuZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZSh0LmdldFByb2plY3Rpb24oKSkseC5zaWduZWREaXN0YW5jZUZyb21DYW1lcmEpO2xldCBUPW8uZXZhbHVhdGVTaXplRm9yRmVhdHVyZSh0LnRleHRTaXplRGF0YSx1LHYpKncvZS5PTkVfRU07biYmKFQqPXQudGlsZVBpeGVsUmF0aW8vYyk7Y29uc3R7d2lkdGg6RSxoZWlnaHQ6UyxhbmNob3I6Qyx0ZXh0T2Zmc2V0Ok0sdGV4dFNjYWxlOmt9PWIsQT1wbihDLEUsUyxNLGssVCk7bGV0IEk7aWYobil7Y29uc3QgZT1pLmFkZChBKSx7eDpyLHk6bix6Om99PXQuZ2V0UHJvamVjdGlvbigpLnByb2plY3RUaWxlUG9pbnQoZS54LGUueSxsLmNhbm9uaWNhbCk7ST1vdChbcitmKmRbMF0qeS5tZXRlcnNUb1RpbGUsbitmKmRbMV0qeS5tZXRlcnNUb1RpbGUsbytmKmRbMl0qeS5tZXRlcnNUb1RpbGVdLHMpLnBvaW50fWVsc2V7Y29uc3QgZT1yP0Eucm90YXRlKC1hLmFuZ2xlKTpBO0k9W3gucG9pbnRbMF0rZS54LHgucG9pbnRbMV0rZS55LDBdfWNvbnN0IFA9dC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZ2LnBsYWNlZE9yaWVudGF0aW9uPT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbD9NYXRoLlBJLzI6MDtmb3IobGV0IHQ9MDt0PHYubnVtR2x5cGhzO3QrKyllLmFkZER5bmFtaWNBdHRyaWJ1dGVzKHAsSVswXSxJWzFdLElbMl0sUCk7aCYmdi5hc3NvY2lhdGVkSWNvbkluZGV4Pj0wJiYobVt2LmFzc29jaWF0ZWRJY29uSW5kZXhdPXtzaGlmdGVkQW5jaG9yOkksYW5nbGU6UH0pfWVsc2UgZ3Qodi5udW1HbHlwaHMscCl9aWYoaCl7Zi5jbGVhcigpO2NvbnN0IHI9dC5pY29uLnBsYWNlZFN5bWJvbEFycmF5O2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKXtjb25zdCBuPXIuZ2V0KHQpO2lmKG4uaGlkZGVuKWd0KG4ubnVtR2x5cGhzLGYpO2Vsc2V7Y29uc3Qgcj1tW3RdO2lmKHIpZm9yKGxldCB0PTA7dDxuLm51bUdseXBoczt0KyspZS5hZGREeW5hbWljQXR0cmlidXRlcyhmLHIuc2hpZnRlZEFuY2hvclswXSxyLnNoaWZ0ZWRBbmNob3JbMV0sci5zaGlmdGVkQW5jaG9yWzJdLHIuYW5nbGUpO2Vsc2UgZ3Qobi5udW1HbHlwaHMsZil9fXQuaWNvbi5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZil9dC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShwKX1mdW5jdGlvbiBtbihlLHQscil7cmV0dXJuIHIuaWNvbnNJblRleHQmJnQ/XCJzeW1ib2xUZXh0QW5kSWNvblwiOmU/XCJzeW1ib2xTREZcIjpcInN5bWJvbEljb25cIn1mdW5jdGlvbiBnbih0LHIsbixpLG8sYSxzLGwsYyx1LGgsZCl7Y29uc3QgcD10LmNvbnRleHQsZj1wLmdsLG09dC50cmFuc2Zvcm0sZz1cIm1hcFwiPT09bCxfPVwibWFwXCI9PT1jLHk9ZyYmXCJwb2ludFwiIT09bi5sYXlvdXQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSx2PWcmJiFfJiYheSx4PXZvaWQgMCE9PW4ubGF5b3V0LmdldChcInN5bWJvbC1zb3J0LWtleVwiKS5jb25zdGFudE9yKDEpO2xldCBiPSExO2NvbnN0IHc9dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLGUuRGVwdGhNb2RlLlJlYWRPbmx5KSxUPVtlLm1lcmNhdG9yWGZyb21MbmcobS5jZW50ZXIubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQobS5jZW50ZXIubGF0KV0sRT1uLmxheW91dC5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKSxTPVwiZ2xvYmVcIj09PW0ucHJvamVjdGlvbi5uYW1lLEM9W10sTT1bMCwtMSwwXTtsZXQgaz1NOyFTJiYhbS5tZXJjYXRvckZyb21UcmFuc2l0aW9ufHxnfHwoaz1mdW5jdGlvbih0KXtjb25zdCByPXQuX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhKHQud29ybGRTaXplLDEpLG49ZS5tdWx0aXBseShbXSxyLHQuZ2xvYmVNYXRyaXgpO2UuaW52ZXJ0KG4sbik7Y29uc3QgaT1bMCwwLDBdLG89WzAsMSwwLDBdO3JldHVybiBlLnRyYW5zZm9ybU1hdDQkMShvLG8sbiksaVswXT1vWzBdLGlbMV09b1sxXSxpWzJdPW9bMl0sZS5ub3JtYWxpemUoaSxpKSxpfShtKSk7Zm9yKGNvbnN0IGwgb2YgaSl7Y29uc3QgaT1yLmdldFRpbGUobCksYz1pLmdldEJ1Y2tldChuKTtpZighYyljb250aW51ZTtpZihcIm1lcmNhdG9yXCI9PT1jLnByb2plY3Rpb24ubmFtZSYmUyljb250aW51ZTtjb25zdCBoPW8/Yy50ZXh0OmMuaWNvbjtpZighaHx8Yy5mdWxseUNsaXBwZWR8fCFoLnNlZ21lbnRzLmdldCgpLmxlbmd0aCljb250aW51ZTtjb25zdCBkPWgucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChuLmlkKSxwPW98fGMuc2RmSWNvbnMsdz1vP2MudGV4dFNpemVEYXRhOmMuaWNvblNpemVEYXRhLEE9X3x8MCE9PW0ucGl0Y2gsST1lLmV2YWx1YXRlU2l6ZUZvclpvb20odyxtLnpvb20pO2xldCBQLHosRCxSLEw9WzAsMF0sTz1udWxsO2lmKG8pe2lmKHo9aS5nbHlwaEF0bGFzVGV4dHVyZSxEPWYuTElORUFSLFA9aS5nbHlwaEF0bGFzVGV4dHVyZS5zaXplLGMuaWNvbnNJblRleHQpe0w9aS5pbWFnZUF0bGFzVGV4dHVyZS5zaXplLE89aS5pbWFnZUF0bGFzVGV4dHVyZTtjb25zdCBlPVwiY29tcG9zaXRlXCI9PT13LmtpbmR8fFwiY2FtZXJhXCI9PT13LmtpbmQ7Uj1BfHx0Lm9wdGlvbnMucm90YXRpbmd8fHQub3B0aW9ucy56b29taW5nfHxlP2YuTElORUFSOmYuTkVBUkVTVH19ZWxzZXtjb25zdCBlPTEhPT1uLmxheW91dC5nZXQoXCJpY29uLXNpemVcIikuY29uc3RhbnRPcigwKXx8Yy5pY29uc05lZWRMaW5lYXI7ej1pLmltYWdlQXRsYXNUZXh0dXJlLEQ9cHx8dC5vcHRpb25zLnJvdGF0aW5nfHx0Lm9wdGlvbnMuem9vbWluZ3x8ZXx8QT9mLkxJTkVBUjpmLk5FQVJFU1QsUD1pLmltYWdlQXRsYXNUZXh0dXJlLnNpemV9Y29uc3QgQj1cImdsb2JlXCI9PT1jLnByb2plY3Rpb24ubmFtZSxGPUI/azpNLGo9Qj9lLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24obS56b29tKTowLFU9d3QobCxjLmdldFByb2plY3Rpb24oKSxtKSxOPW0uY2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgoaSksVj10dChVLGkudGlsZUlELmNhbm9uaWNhbCxfLGcsbSxjLmdldFByb2plY3Rpb24oKSxOKSxHPXQudGVycmFpbiYmXyYmeT9lLmludmVydChlLmNyZWF0ZSgpLFYpOmRuLHE9bnQoVSxpLnRpbGVJRC5jYW5vbmljYWwsXyxnLG0sYy5nZXRQcm9qZWN0aW9uKCksTiksWj1FJiZjLmhhc1RleHREYXRhKCksJD1cIm5vbmVcIiE9PW4ubGF5b3V0LmdldChcImljb24tdGV4dC1maXRcIikmJlomJmMuaGFzSWNvbkRhdGEoKTtpZih5KXtjb25zdCBlPW0uZWxldmF0aW9uLHI9ZT9lLmdldEF0VGlsZU9mZnNldEZ1bmMobCxtLmNlbnRlci5sYXQsbS53b3JsZFNpemUsYy5nZXRQcm9qZWN0aW9uKCkpOmU9PlswLDAsMF0sbj1ydChVLGkudGlsZUlELmNhbm9uaWNhbCxfLGcsbSxjLmdldFByb2plY3Rpb24oKSxOKTtsdChjLFUsdCxvLG4scSxfLHUscixsKX1jb25zdCBXPXl8fG8mJkV8fCQsWD10LnRyYW5zbGF0ZVBvc01hdHJpeChVLGksYSxzKSxIPVc/ZG46VixZPXQudHJhbnNsYXRlUG9zTWF0cml4KHEsaSxhLHMsITApLEs9Yy5nZXRQcm9qZWN0aW9uKCkuY3JlYXRlSW52ZXJzaW9uTWF0cml4KG0sbC5jYW5vbmljYWwpLEo9W107dC50ZXJyYWluUmVuZGVyTW9kZUVsZXZhdGVkKCkmJl8mJkoucHVzaChcIlBJVENIX1dJVEhfTUFQX1RFUlJBSU5cIiksQiYmSi5wdXNoKFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIpLFcmJkoucHVzaChcIlBST0pFQ1RFRF9QT1NfT05fVklFV1BPUlRcIik7Y29uc3QgUT1wJiYwIT09bi5wYWludC5nZXQobz9cInRleHQtaGFsby13aWR0aFwiOlwiaWNvbi1oYWxvLXdpZHRoXCIpLmNvbnN0YW50T3IoMSk7bGV0IGVlO2VlPXA/Yy5pY29uc0luVGV4dD9hbih3LmtpbmQsSSx2LF8sdCxYLEgsWSxQLEwsbCxqLFQsSyxGLGMuZ2V0UHJvamVjdGlvbigpKTpvbih3LmtpbmQsSSx2LF8sdCxYLEgsWSxvLFAsITAsbCxqLFQsSyxGLGMuZ2V0UHJvamVjdGlvbigpKTpubih3LmtpbmQsSSx2LF8sdCxYLEgsWSxvLFAsbCxqLFQsSyxGLGMuZ2V0UHJvamVjdGlvbigpKTtjb25zdCB0ZT17cHJvZ3JhbTp0LnVzZVByb2dyYW0obW4ocCxvLGMpLGQsSiksYnVmZmVyczpoLHVuaWZvcm1WYWx1ZXM6ZWUsYXRsYXNUZXh0dXJlOnosYXRsYXNUZXh0dXJlSWNvbjpPLGF0bGFzSW50ZXJwb2xhdGlvbjpELGF0bGFzSW50ZXJwb2xhdGlvbkljb246Uixpc1NERjpwLGhhc0hhbG86USx0aWxlOmksbGFiZWxQbGFuZU1hdHJpeEludjpHfTtpZih4JiZjLmNhbk92ZXJsYXApe2I9ITA7Y29uc3QgdD1oLnNlZ21lbnRzLmdldCgpO2Zvcihjb25zdCByIG9mIHQpQy5wdXNoKHtzZWdtZW50czpuZXcgZS5TZWdtZW50VmVjdG9yKFtyXSksc29ydEtleTpyLnNvcnRLZXksc3RhdGU6dGV9KX1lbHNlIEMucHVzaCh7c2VnbWVudHM6aC5zZWdtZW50cyxzb3J0S2V5OjAsc3RhdGU6dGV9KX1iJiZDLnNvcnQoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpO2Zvcihjb25zdCBlIG9mIEMpe2NvbnN0IHI9ZS5zdGF0ZTtpZih0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcoci50aWxlLHIucHJvZ3JhbSx7dXNlRGVwdGhGb3JPY2NsdXNpb246IVMsbGFiZWxQbGFuZU1hdHJpeEludjpyLmxhYmVsUGxhbmVNYXRyaXhJbnZ9KSxwLmFjdGl2ZVRleHR1cmUuc2V0KGYuVEVYVFVSRTApLHIuYXRsYXNUZXh0dXJlLmJpbmQoci5hdGxhc0ludGVycG9sYXRpb24sZi5DTEFNUF9UT19FREdFKSxyLmF0bGFzVGV4dHVyZUljb24mJihwLmFjdGl2ZVRleHR1cmUuc2V0KGYuVEVYVFVSRTEpLHIuYXRsYXNUZXh0dXJlSWNvbiYmci5hdGxhc1RleHR1cmVJY29uLmJpbmQoci5hdGxhc0ludGVycG9sYXRpb25JY29uLGYuQ0xBTVBfVE9fRURHRSkpLHIuaXNTREYpe2NvbnN0IGk9ci51bmlmb3JtVmFsdWVzO3IuaGFzSGFsbyYmKGkudV9pc19oYWxvPTEsX24oci5idWZmZXJzLGUuc2VnbWVudHMsbix0LHIucHJvZ3JhbSx3LGgsZCxpKSksaS51X2lzX2hhbG89MH1fbihyLmJ1ZmZlcnMsZS5zZWdtZW50cyxuLHQsci5wcm9ncmFtLHcsaCxkLHIudW5pZm9ybVZhbHVlcyl9fWZ1bmN0aW9uIF9uKHQscixuLGksbyxhLHMsbCxjKXtjb25zdCB1PWkuY29udGV4dCxoPVt0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIsdC5vcGFjaXR5VmVydGV4QnVmZmVyLHQuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXJdO28uZHJhdyh1LHUuZ2wuVFJJQU5HTEVTLGEscyxsLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLGMsbi5pZCx0LmxheW91dFZlcnRleEJ1ZmZlcix0LmluZGV4QnVmZmVyLHIsbi5wYWludCxpLnRyYW5zZm9ybS56b29tLHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChuLmlkKSxoKX1mdW5jdGlvbiB5bih0LHIsbixpLG8sYSxzKXtjb25zdCBsPXQuY29udGV4dC5nbCxjPW4ucGFpbnQuZ2V0KFwiZmlsbC1wYXR0ZXJuXCIpLHU9YyYmYy5jb25zdGFudE9yKDEpLGg9bi5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCk7bGV0IGQscCxmLG0sZztzPyhwPXUmJiFuLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/XCJmaWxsT3V0bGluZVBhdHRlcm5cIjpcImZpbGxPdXRsaW5lXCIsZD1sLkxJTkVTKToocD11P1wiZmlsbFBhdHRlcm5cIjpcImZpbGxcIixkPWwuVFJJQU5HTEVTKTtmb3IoY29uc3QgXyBvZiBpKXtjb25zdCBpPXIuZ2V0VGlsZShfKTtpZih1JiYhaS5wYXR0ZXJuc0xvYWRlZCgpKWNvbnRpbnVlO2NvbnN0IHk9aS5nZXRCdWNrZXQobik7aWYoIXkpY29udGludWU7dC5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCB2PXkucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChuLmlkKSx4PXQudXNlUHJvZ3JhbShwLHYpO3UmJih0LmNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCksaS5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKGwuTElORUFSLGwuQ0xBTVBfVE9fRURHRSksdi51cGRhdGVQYWludEJ1ZmZlcnMoaCkpO2NvbnN0IGI9Yy5jb25zdGFudE9yKG51bGwpO2lmKGImJmkuaW1hZ2VBdGxhcyl7Y29uc3QgZT1pLmltYWdlQXRsYXMsdD1lLnBhdHRlcm5Qb3NpdGlvbnNbYi50by50b1N0cmluZygpXSxyPWUucGF0dGVyblBvc2l0aW9uc1tiLmZyb20udG9TdHJpbmcoKV07dCYmciYmdi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnModCxyKX1jb25zdCB3PXQudHJhbnNsYXRlUG9zTWF0cml4KF8ucHJvak1hdHJpeCxpLG4ucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGVcIiksbi5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIikpO2lmKHMpe209eS5pbmRleEJ1ZmZlcjIsZz15LnNlZ21lbnRzMjtjb25zdCBlPXQudGVycmFpbiYmdC50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZT90LnRlcnJhaW4uZHJhcGVCdWZmZXJTaXplOltsLmRyYXdpbmdCdWZmZXJXaWR0aCxsLmRyYXdpbmdCdWZmZXJIZWlnaHRdO2Y9XCJmaWxsT3V0bGluZVBhdHRlcm5cIj09PXAmJnU/TnIodyx0LGgsaSxlKTpVcih3LGUpfWVsc2UgbT15LmluZGV4QnVmZmVyLGc9eS5zZWdtZW50cyxmPXU/anIodyx0LGgsaSk6RnIodyk7dC5wcmVwYXJlRHJhd1Byb2dyYW0odC5jb250ZXh0LHgsXy50b1Vud3JhcHBlZCgpKSx4LmRyYXcodC5jb250ZXh0LGQsbyx0LnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcoXyksYSxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxmLG4uaWQseS5sYXlvdXRWZXJ0ZXhCdWZmZXIsbSxnLG4ucGFpbnQsdC50cmFuc2Zvcm0uem9vbSx2KX19ZnVuY3Rpb24gdm4odCxyLG4saSxvLGEscyl7Y29uc3QgbD10LmNvbnRleHQsYz1sLmdsLHU9dC50cmFuc2Zvcm0saD1uLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIiksZD1oLmNvbnN0YW50T3IoMSkscD1uLmdldENyb3NzZmFkZVBhcmFtZXRlcnMoKSxmPW4ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiKSxtPVtuLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLWludGVuc2l0eVwiKSxuLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWFtYmllbnQtb2NjbHVzaW9uLXJhZGl1c1wiKV0sZz1uLmxheW91dC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiKSxfPVwiZ2xvYmVcIj09PXUucHJvamVjdGlvbi5uYW1lP2UuZmlsbEV4dHJ1c2lvbkhlaWdodExpZnQoKTowLHk9XCJnbG9iZVwiPT09dS5wcm9qZWN0aW9uLm5hbWUsdj15P2UuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbih1Lnpvb20pOjAseD1bZS5tZXJjYXRvclhmcm9tTG5nKHUuY2VudGVyLmxuZyksZS5tZXJjYXRvcllmcm9tTGF0KHUuY2VudGVyLmxhdCldLGI9W107eSYmKGIucHVzaChcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiKSx0LnN0eWxlLnRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpJiZiLnB1c2goXCJURVJSQUlOXCIpKSxtWzBdPjAmJmIucHVzaChcIkZBVVhfQU9cIik7Zm9yKGNvbnN0IHcgb2YgaSl7Y29uc3QgaT1yLmdldFRpbGUodyksVD1pLmdldEJ1Y2tldChuKTtpZighVHx8VC5wcm9qZWN0aW9uLm5hbWUhPT11LnByb2plY3Rpb24ubmFtZSljb250aW51ZTtjb25zdCBFPVQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChuLmlkKSxTPXQudXNlUHJvZ3JhbShkP1wiZmlsbEV4dHJ1c2lvblBhdHRlcm5cIjpcImZpbGxFeHRydXNpb25cIixFLGIpO2lmKHQudGVycmFpbil7Y29uc3QgZT10LnRlcnJhaW47aWYodC5zdHlsZS50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSllLnNldHVwRWxldmF0aW9uRHJhdyhpLFMse3VzZU1ldGVyVG9EZW06ITB9KTtlbHNle2lmKCFULmVuYWJsZVRlcnJhaW4pY29udGludWU7aWYoZS5zZXR1cEVsZXZhdGlvbkRyYXcoaSxTLHt1c2VNZXRlclRvRGVtOiEwfSkseG4obCxyLHcsVCxuLGUpLCFULmNlbnRyb2lkVmVydGV4QnVmZmVyKXtjb25zdCBlPVMuYXR0cmlidXRlcy5hX2NlbnRyb2lkX3Bvczt2b2lkIDAhPT1lJiZjLnZlcnRleEF0dHJpYjJmKGUsMCwwKX19fWQmJih0LmNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQoYy5URVhUVVJFMCksaS5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKGMuTElORUFSLGMuQ0xBTVBfVE9fRURHRSksRS51cGRhdGVQYWludEJ1ZmZlcnMocCkpO2NvbnN0IEM9aC5jb25zdGFudE9yKG51bGwpO2lmKEMmJmkuaW1hZ2VBdGxhcyl7Y29uc3QgZT1pLmltYWdlQXRsYXMsdD1lLnBhdHRlcm5Qb3NpdGlvbnNbQy50by50b1N0cmluZygpXSxyPWUucGF0dGVyblBvc2l0aW9uc1tDLmZyb20udG9TdHJpbmcoKV07dCYmciYmRS5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnModCxyKX1jb25zdCBNPXQudHJhbnNsYXRlUG9zTWF0cml4KHcucHJvak1hdHJpeCxpLG4ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCIpLG4ucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiKSksaz11LnByb2plY3Rpb24uY3JlYXRlSW52ZXJzaW9uTWF0cml4KHUsdy5jYW5vbmljYWwpLEE9bi5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudFwiKSxJPWQ/QnIoTSx0LEEsZixtLGcsdyxwLGksXyx2LHgsayk6T3IoTSx0LEEsZixtLGcsdyxfLHYseCxrKTt0LnByZXBhcmVEcmF3UHJvZ3JhbShsLFMsdy50b1Vud3JhcHBlZCgpKTtjb25zdCBQPVtdO3QudGVycmFpbiYmUC5wdXNoKFQuY2VudHJvaWRWZXJ0ZXhCdWZmZXIpLHkmJlAucHVzaChULmxheW91dFZlcnRleEV4dEJ1ZmZlciksUy5kcmF3KGwsbC5nbC5UUklBTkdMRVMsbyxhLHMsZS5DdWxsRmFjZU1vZGUuYmFja0NDVyxJLG4uaWQsVC5sYXlvdXRWZXJ0ZXhCdWZmZXIsVC5pbmRleEJ1ZmZlcixULnNlZ21lbnRzLG4ucGFpbnQsdC50cmFuc2Zvcm0uem9vbSxFLFApfX1mdW5jdGlvbiB4bih0LHIsbixpLG8sYSl7Y29uc3Qgcz1bdD0+e2xldCByPXQuY2Fub25pY2FsLngtMSxuPXQud3JhcDtyZXR1cm4gcjwwJiYocj0oMTw8dC5jYW5vbmljYWwueiktMSxuLS0pLG5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixuLHQuY2Fub25pY2FsLnoscix0LmNhbm9uaWNhbC55KX0sdD0+e2xldCByPXQuY2Fub25pY2FsLngrMSxuPXQud3JhcDtyZXR1cm4gcj09PTE8PHQuY2Fub25pY2FsLnomJihyPTAsbisrKSxuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosbix0LmNhbm9uaWNhbC56LHIsdC5jYW5vbmljYWwueSl9LHQ9Pm5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWix0LndyYXAsdC5jYW5vbmljYWwueix0LmNhbm9uaWNhbC54LCgwPT09dC5jYW5vbmljYWwueT8xPDx0LmNhbm9uaWNhbC56OnQuY2Fub25pY2FsLnkpLTEpLHQ9Pm5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWix0LndyYXAsdC5jYW5vbmljYWwueix0LmNhbm9uaWNhbC54LHQuY2Fub25pY2FsLnk9PT0oMTw8dC5jYW5vbmljYWwueiktMT8wOnQuY2Fub25pY2FsLnkrMSldLGw9ZT0+e2NvbnN0IHQ9ci5nZXRTb3VyY2UoKS5taW56b29tLG49ZT0+e2NvbnN0IHQ9ci5nZXRUaWxlQnlJRChlKTtpZih0JiZ0Lmhhc0RhdGEoKSlyZXR1cm4gdC5nZXRCdWNrZXQobyl9LGk9WzAsLTEsMV07Zm9yKGNvbnN0IHIgb2YgaSl7aWYoZS5vdmVyc2NhbGVkWityPHQpY29udGludWU7Y29uc3QgaT1uKGUuY2FsY3VsYXRlU2NhbGVkS2V5KGUub3ZlcnNjYWxlZForcikpO2lmKGkpcmV0dXJuIGl9fSxjPVswLDAsMF0sdT0odCxyKT0+KGNbMF09TWF0aC5taW4odC5taW4ueSxyLm1pbi55KSxjWzFdPU1hdGgubWF4KHQubWF4Lnksci5tYXgueSksY1syXT1lLkVYVEVOVC1yLm1pbi54PnQubWF4Lng/ci5taW4ueC1lLkVYVEVOVDp0Lm1heC54LGMpLGg9KHQscik9PihjWzBdPU1hdGgubWluKHQubWluLngsci5taW4ueCksY1sxXT1NYXRoLm1heCh0Lm1heC54LHIubWF4LngpLGNbMl09ZS5FWFRFTlQtci5taW4ueT50Lm1heC55P3IubWluLnktZS5FWFRFTlQ6dC5tYXgueSxjKSxkPVsoZSx0KT0+dShlLHQpLChlLHQpPT51KHQsZSksKGUsdCk9PmgoZSx0KSwoZSx0KT0+aCh0LGUpXSxwPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKTtsZXQgZixtLGc7Y29uc3QgXz0odCxyLGksbyxzKT0+e2NvbnN0IGw9W1tvP2k6dCxvP3Q6aSwwXSxbbz9pOnIsbz9yOmksMF1dLGM9czwwP2UuRVhURU5UK3M6cyx1PVtvP2M6KHQrcikvMixvPyh0K3IpLzI6YywwXTtyZXR1cm4gMD09PWkmJnM8MHx8MCE9PWkmJnM+MD9hLmdldEZvclRpbGVQb2ludHMoZyxbdV0sITAsbSk6bC5wdXNoKHUpLGEuZ2V0Rm9yVGlsZVBvaW50cyhuLGwsITAsZiksTWF0aC5tYXgobFswXVsyXSxsWzFdWzJdLHVbMl0pL2EuZXhhZ2dlcmF0aW9uKCl9O2ZvcihsZXQgdD0wO3Q8NDt0Kyspe2NvbnN0IHI9KHQ8Mj8xOjUpLXQsbz1pLmJvcmRlcnNbdF07aWYoMD09PW8ubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IGM9Zz1zW3RdKG4pLHU9bChjKTtpZighKHUmJnUgaW5zdGFuY2VvZiBlLkZpbGxFeHRydXNpb25CdWNrZXQmJnUuZW5hYmxlVGVycmFpbikpY29udGludWU7aWYoaS5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT09PXUuY2Fub25pY2FsLnomJnUuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbcl09PT1pLmNhbm9uaWNhbC56KWNvbnRpbnVlO2lmKG09YS5maW5kREVNVGlsZUZvcihjKSwhbXx8IW0uZGVtKWNvbnRpbnVlO2lmKCFmKXtjb25zdCBlPWEuZmluZERFTVRpbGVGb3Iobik7aWYoIWV8fCFlLmRlbSlyZXR1cm47Zj1lfWNvbnN0IGg9dS5ib3JkZXJzW3JdO2xldCB5PTA7Y29uc3Qgdj11LmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW3JdIT09aS5jYW5vbmljYWwuejtpZihpLmNhbm9uaWNhbC56PT09dS5jYW5vbmljYWwueil7Zm9yKGxldCBuPTA7bjxvLmxlbmd0aDtuKyspe2NvbnN0IGE9aS5mZWF0dXJlc09uQm9yZGVyW29bbl1dLHM9YS5ib3JkZXJzW3RdO2xldCBsO2Zvcig7eTxoLmxlbmd0aCYmKGw9dS5mZWF0dXJlc09uQm9yZGVyW2hbeV1dLCEobC5ib3JkZXJzW3JdWzFdPnNbMF0rMykpOyl2JiZ1LmVuY29kZUNlbnRyb2lkKHZvaWQgMCxsLCExKSx5Kys7aWYobCYmeTxoLmxlbmd0aCl7Y29uc3Qgbj15O2xldCBvPTA7Zm9yKDshKGwuYm9yZGVyc1tyXVswXT5zWzFdLTMpJiYobysrLCsreSE9PWgubGVuZ3RoKTspbD11LmZlYXR1cmVzT25Cb3JkZXJbaFt5XV07aWYobD11LmZlYXR1cmVzT25Cb3JkZXJbaFtuXV0sYS5pbnRlcnNlY3RzQ291bnQoKT4xfHxsLmludGVyc2VjdHNDb3VudCgpPjF8fDEhPT1vKXsxIT09byYmKHk9biksaS5lbmNvZGVDZW50cm9pZCh2b2lkIDAsYSwhMSksdiYmdS5lbmNvZGVDZW50cm9pZCh2b2lkIDAsbCwhMSk7Y29udGludWV9Y29uc3QgYz1kW3RdKGEsbCksZj10JTI/ZS5FWFRFTlQtMTowO3AueD1fKGNbMF0sTWF0aC5taW4oZS5FWFRFTlQtMSxjWzFdKSxmLHQ8MixjWzJdKSxwLnk9MCxpLmVuY29kZUNlbnRyb2lkKHAsYSwhMSksdiYmdS5lbmNvZGVDZW50cm9pZChwLGwsITEpfWVsc2UgaS5lbmNvZGVDZW50cm9pZCh2b2lkIDAsYSwhMSl9aS5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT11LmNhbm9uaWNhbC56LGkubmVlZHNDZW50cm9pZFVwZGF0ZT0hMCx2JiYodS5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltyXT1pLmNhbm9uaWNhbC56LHUubmVlZHNDZW50cm9pZFVwZGF0ZT0hMCl9ZWxzZXtmb3IoY29uc3QgZSBvZiBvKWkuZW5jb2RlQ2VudHJvaWQodm9pZCAwLGkuZmVhdHVyZXNPbkJvcmRlcltlXSwhMSk7aWYodil7Zm9yKGNvbnN0IGUgb2YgaCl1LmVuY29kZUNlbnRyb2lkKHZvaWQgMCx1LmZlYXR1cmVzT25Cb3JkZXJbZV0sITEpO3UuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbcl09aS5jYW5vbmljYWwueix1Lm5lZWRzQ2VudHJvaWRVcGRhdGU9ITB9aS5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT11LmNhbm9uaWNhbC56LGkubmVlZHNDZW50cm9pZFVwZGF0ZT0hMH19KGkubmVlZHNDZW50cm9pZFVwZGF0ZXx8IWkuY2VudHJvaWRWZXJ0ZXhCdWZmZXImJjAhPT1pLmNlbnRyb2lkVmVydGV4QXJyYXkubGVuZ3RoKSYmaS51cGxvYWRDZW50cm9pZCh0KX1jb25zdCBibj1uZXcgZS5Db2xvcigxLDAsMCwxKSx3bj1uZXcgZS5Db2xvcigwLDEsMCwxKSxUbj1uZXcgZS5Db2xvcigwLDAsMSwxKSxFbj1uZXcgZS5Db2xvcigxLDAsMSwxKSxTbj1uZXcgZS5Db2xvcigwLDEsMSwxKTtmdW5jdGlvbiBDbih0LHIsbil7Y29uc3QgaT10LmNvbnRleHQsbz10LnRyYW5zZm9ybSxhPWkuZ2wscz1cImdsb2JlXCI9PT1vLnByb2plY3Rpb24ubmFtZSxsPXM/W1wiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdOm51bGw7bGV0IGM9bi5wcm9qTWF0cml4O2lmKHMmJmUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihvLnpvb20pPjApe2NvbnN0IHQ9ZS50cmFuc2l0aW9uVGlsZUFBQkJpbkVDRUYobi5jYW5vbmljYWwsbykscj1lLmdsb2JlRGVub3JtYWxpemVFQ0VGKHQpO2M9ZS5tdWx0aXBseShuZXcgRmxvYXQzMkFycmF5KDE2KSxvLmdsb2JlTWF0cml4LHIpLGUubXVsdGlwbHkoYyxvLnByb2pNYXRyaXgsYyl9Y29uc3QgdT10LnVzZVByb2dyYW0oXCJkZWJ1Z1wiLG51bGwsbCksaD1yLmdldFRpbGVCeUlEKG4ua2V5KTt0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcoaCx1KTtjb25zdCBkPWUuRGVwdGhNb2RlLmRpc2FibGVkLHA9ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxmPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLG09XCIkZGVidWdcIjtpLmFjdGl2ZVRleHR1cmUuc2V0KGEuVEVYVFVSRTApLHQuZW1wdHlUZXh0dXJlLmJpbmQoYS5MSU5FQVIsYS5DTEFNUF9UT19FREdFKSxzP2guX21ha2VHbG9iZVRpbGVEZWJ1Z0J1ZmZlcnModC5jb250ZXh0LG8pOmguX21ha2VEZWJ1Z1RpbGVCb3VuZHNCdWZmZXJzKHQuY29udGV4dCxvLnByb2plY3Rpb24pO2NvbnN0IGc9aC5fdGlsZURlYnVnQnVmZmVyfHx0LmRlYnVnQnVmZmVyLF89aC5fdGlsZURlYnVnSW5kZXhCdWZmZXJ8fHQuZGVidWdJbmRleEJ1ZmZlcix5PWguX3RpbGVEZWJ1Z1NlZ21lbnRzfHx0LmRlYnVnU2VnbWVudHM7dS5kcmF3KGksYS5MSU5FX1NUUklQLGQscCxmLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLCRyKGMsZS5Db2xvci5yZWQpLG0sZyxfLHksbnVsbCxudWxsLG51bGwsW2guX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyXSk7Y29uc3Qgdj1oLmxhdGVzdFJhd1RpbGVEYXRhLHg9TWF0aC5mbG9vcigodiYmdi5ieXRlTGVuZ3RofHwwKS8xMDI0KSxiPXIuZ2V0VGlsZShuKS50aWxlU2l6ZSx3PTUxMi9NYXRoLm1pbihiLDUxMikqKG4ub3ZlcnNjYWxlZFovby56b29tKSouNTtsZXQgVD1uLmNhbm9uaWNhbC50b1N0cmluZygpO24ub3ZlcnNjYWxlZFohPT1uLmNhbm9uaWNhbC56JiYoVCs9XCIgPT4gXCIrbi5vdmVyc2NhbGVkWiksVCs9YCAke3h9a2JgLGZ1bmN0aW9uKGUsdCl7ZS5pbml0RGVidWdPdmVybGF5Q2FudmFzKCk7Y29uc3Qgcj1lLmRlYnVnT3ZlcmxheUNhbnZhcyxuPWUuY29udGV4dC5nbCxpPWUuZGVidWdPdmVybGF5Q2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtpLmNsZWFyUmVjdCgwLDAsci53aWR0aCxyLmhlaWdodCksaS5zaGFkb3dDb2xvcj1cIndoaXRlXCIsaS5zaGFkb3dCbHVyPTIsaS5saW5lV2lkdGg9MS41LGkuc3Ryb2tlU3R5bGU9XCJ3aGl0ZVwiLGkudGV4dEJhc2VsaW5lPVwidG9wXCIsaS5mb250PVwiYm9sZCAzNnB4IE9wZW4gU2Fucywgc2Fucy1zZXJpZlwiLGkuZmlsbFRleHQodCw1LDUpLGkuc3Ryb2tlVGV4dCh0LDUsNSksZS5kZWJ1Z092ZXJsYXlUZXh0dXJlLnVwZGF0ZShyKSxlLmRlYnVnT3ZlcmxheVRleHR1cmUuYmluZChuLkxJTkVBUixuLkNMQU1QX1RPX0VER0UpfSh0LFQpO2NvbnN0IEU9aC5fdGlsZURlYnVnVGV4dEJ1ZmZlcnx8dC5kZWJ1Z0J1ZmZlcixTPWguX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlcnx8dC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixDPWguX3RpbGVEZWJ1Z1RleHRTZWdtZW50c3x8dC5kZWJ1Z1NlZ21lbnRzO3UuZHJhdyhpLGEuVFJJQU5HTEVTLGQscCxlLkNvbG9yTW9kZS5hbHBoYUJsZW5kZWQsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsJHIoYyxlLkNvbG9yLnRyYW5zcGFyZW50LHcpLG0sRSxTLEMsbnVsbCxudWxsLG51bGwsW2guX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcl0pfWZ1bmN0aW9uIE1uKGUsdCxyLG4pe0FuKGUsMCx0K3IvMixlLnRyYW5zZm9ybS53aWR0aCxyLG4pfWZ1bmN0aW9uIGtuKGUsdCxyLG4pe0FuKGUsdC1yLzIsMCxyLGUudHJhbnNmb3JtLmhlaWdodCxuKX1mdW5jdGlvbiBBbih0LHIsbixpLG8sYSl7Y29uc3Qgcz10LmNvbnRleHQsbD1zLmdsO2wuZW5hYmxlKGwuU0NJU1NPUl9URVNUKSxsLnNjaXNzb3IociplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sbiplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8saSplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sbyplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8pLHMuY2xlYXIoe2NvbG9yOmF9KSxsLmRpc2FibGUobC5TQ0lTU09SX1RFU1QpfWNvbnN0IEluPWUuY3JlYXRlTGF5b3V0KFt7bmFtZTpcImFfcG9zXzNmXCIsY29tcG9uZW50czozLHR5cGU6XCJGbG9hdDMyXCJ9XSkse21lbWJlcnM6UG59PUluO2Z1bmN0aW9uIHpuKGUsdCxyLG4pe2UuZW1wbGFjZUJhY2sodCxyLG4pfWNsYXNzIERue2NvbnN0cnVjdG9yKHQpe3RoaXMudmVydGV4QXJyYXk9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQzZjEyLHRoaXMuaW5kaWNlcz1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDN1aTYsem4odGhpcy52ZXJ0ZXhBcnJheSwtMSwtMSwxKSx6bih0aGlzLnZlcnRleEFycmF5LDEsLTEsMSksem4odGhpcy52ZXJ0ZXhBcnJheSwtMSwxLDEpLHpuKHRoaXMudmVydGV4QXJyYXksMSwxLDEpLHpuKHRoaXMudmVydGV4QXJyYXksLTEsLTEsLTEpLHpuKHRoaXMudmVydGV4QXJyYXksMSwtMSwtMSksem4odGhpcy52ZXJ0ZXhBcnJheSwtMSwxLC0xKSx6bih0aGlzLnZlcnRleEFycmF5LDEsMSwtMSksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDUsMSwzKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMyw3LDUpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg2LDIsMCksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDAsNCw2KSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMiw2LDcpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg3LDMsMiksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDUsNCwwKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMCwxLDUpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygwLDIsMyksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDMsMSwwKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNyw2LDQpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg0LDUsNyksdGhpcy52ZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy52ZXJ0ZXhBcnJheSxQbiksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kaWNlcyksdGhpcy5zZWdtZW50PWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCwzNiwxMil9fWZ1bmN0aW9uIFJuKHQscixuLGksbyxhKXtjb25zdCBzPXQuZ2wsbD1yLnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLWNvbG9yXCIpLGM9ci5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCIpLHU9ci5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCIpLGg9KChlLHQscixuLGkpPT4oe3VfbWF0cml4XzNmOmUsdV9zdW5fZGlyZWN0aW9uOnQsdV9zdW5faW50ZW5zaXR5OnIsdV9jb2xvcl90aW50X3I6W24ucixuLmcsbi5iLG4uYV0sdV9jb2xvcl90aW50X206W2kucixpLmcsaS5iLGkuYV0sdV9sdW1pbmFuY2U6NWUtNX0pKShlLmZyb21NYXQ0KGUuY3JlYXRlJDEoKSxpKSxvLHUsbCxjKTtzLmZyYW1lYnVmZmVyVGV4dHVyZTJEKHMuRlJBTUVCVUZGRVIscy5DT0xPUl9BVFRBQ0hNRU5UMCxzLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCthLHIuc2t5Ym94VGV4dHVyZSwwKSxuLmRyYXcodCxzLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGUuQ29sb3JNb2RlLnVuYmxlbmRlZCxlLkN1bGxGYWNlTW9kZS5mcm9udENXLGgsXCJza3lib3hDYXB0dXJlXCIsci5za3lib3hHZW9tZXRyeS52ZXJ0ZXhCdWZmZXIsci5za3lib3hHZW9tZXRyeS5pbmRleEJ1ZmZlcixyLnNreWJveEdlb21ldHJ5LnNlZ21lbnQpfWNvbnN0IExuPWUuY3JlYXRlTGF5b3V0KFt7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjN9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX3V2XCIsY29tcG9uZW50czoyfV0pO2NsYXNzIE9ue2NvbnN0cnVjdG9yKHQpe2NvbnN0IHI9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQ1ZjIwO3IuZW1wbGFjZUJhY2soLTEsMSwxLDAsMCksci5lbXBsYWNlQmFjaygxLDEsMSwxLDApLHIuZW1wbGFjZUJhY2soMSwtMSwxLDEsMSksci5lbXBsYWNlQmFjaygtMSwtMSwxLDAsMSk7Y29uc3Qgbj1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDN1aTY7bi5lbXBsYWNlQmFjaygwLDEsMiksbi5lbXBsYWNlQmFjaygyLDMsMCksdGhpcy52ZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIocixMbi5tZW1iZXJzKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIobiksdGhpcy5zZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCwyKX1kZXN0cm95KCl7dGhpcy52ZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpfX1jb25zdCBCbj17c3ltYm9sOmZ1bmN0aW9uKHQscixuLGksbyl7aWYoXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtjb25zdCBhPWUuU3RlbmNpbE1vZGUuZGlzYWJsZWQscz10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTtuLmxheW91dC5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKSYmZnVuY3Rpb24odCxyLG4saSxvLGEscyl7Y29uc3QgbD1yLnRyYW5zZm9ybSxjPVwibWFwXCI9PT1vLHU9XCJtYXBcIj09PWE7Zm9yKGNvbnN0IHIgb2YgdCl7Y29uc3QgdD1pLmdldFRpbGUociksbz10LmdldEJ1Y2tldChuKTtpZighb3x8IW8udGV4dHx8IW8udGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGgpY29udGludWU7Y29uc3QgYT1lLmV2YWx1YXRlU2l6ZUZvclpvb20oby50ZXh0U2l6ZURhdGEsbC56b29tKSxoPXd0KHIsby5nZXRQcm9qZWN0aW9uKCksbCksZD1sLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHQpLHA9dHQoaCx0LnRpbGVJRC5jYW5vbmljYWwsdSxjLGwsby5nZXRQcm9qZWN0aW9uKCksZCksZj1cIm5vbmVcIiE9PW4ubGF5b3V0LmdldChcImljb24tdGV4dC1maXRcIikmJm8uaGFzSWNvbkRhdGEoKTtpZihhKXtjb25zdCBuPU1hdGgucG93KDIsbC56b29tLXQudGlsZUlELm92ZXJzY2FsZWRaKTtmbihvLGMsdSxzLGUuc3ltYm9sU2l6ZSxsLHAscixuLGEsZil9fX0oaSx0LG4scixuLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSxuLmxheW91dC5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxvKSwwIT09bi5wYWludC5nZXQoXCJpY29uLW9wYWNpdHlcIikuY29uc3RhbnRPcigxKSYmZ24odCxyLG4saSwhMSxuLnBhaW50LmdldChcImljb24tdHJhbnNsYXRlXCIpLG4ucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCIpLG4ubGF5b3V0LmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpLG4ubGF5b3V0LmdldChcImljb24tcGl0Y2gtYWxpZ25tZW50XCIpLG4ubGF5b3V0LmdldChcImljb24ta2VlcC11cHJpZ2h0XCIpLGEscyksMCE9PW4ucGFpbnQuZ2V0KFwidGV4dC1vcGFjaXR5XCIpLmNvbnN0YW50T3IoMSkmJmduKHQscixuLGksITAsbi5wYWludC5nZXQoXCJ0ZXh0LXRyYW5zbGF0ZVwiKSxuLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiKSxuLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSxuLmxheW91dC5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxuLmxheW91dC5nZXQoXCJ0ZXh0LWtlZXAtdXByaWdodFwiKSxhLHMpLHIubWFwLnNob3dDb2xsaXNpb25Cb3hlcyYmKGhuKHQscixuLGksbi5wYWludC5nZXQoXCJ0ZXh0LXRyYW5zbGF0ZVwiKSxuLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiKSwhMCksaG4odCxyLG4saSxuLnBhaW50LmdldChcImljb24tdHJhbnNsYXRlXCIpLG4ucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCIpLCExKSl9LGNpcmNsZTpmdW5jdGlvbih0LHIsbixpKXtpZihcInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IG89bi5wYWludC5nZXQoXCJjaXJjbGUtb3BhY2l0eVwiKSxhPW4ucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiKSxzPW4ucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCIpLGw9dm9pZCAwIT09bi5sYXlvdXQuZ2V0KFwiY2lyY2xlLXNvcnQta2V5XCIpLmNvbnN0YW50T3IoMSk7aWYoMD09PW8uY29uc3RhbnRPcigxKSYmKDA9PT1hLmNvbnN0YW50T3IoMSl8fDA9PT1zLmNvbnN0YW50T3IoMSkpKXJldHVybjtjb25zdCBjPXQuY29udGV4dCx1PWMuZ2wsaD10LnRyYW5zZm9ybSxkPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxlLkRlcHRoTW9kZS5SZWFkT25seSkscD1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGY9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbT1cImdsb2JlXCI9PT1oLnByb2plY3Rpb24ubmFtZSxnPVtlLm1lcmNhdG9yWGZyb21MbmcoaC5jZW50ZXIubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQoaC5jZW50ZXIubGF0KV0sXz1bXTtmb3IobGV0IG89MDtvPGkubGVuZ3RoO28rKyl7Y29uc3QgYT1pW29dLHM9ci5nZXRUaWxlKGEpLGM9cy5nZXRCdWNrZXQobik7aWYoIWN8fGMucHJvamVjdGlvbi5uYW1lIT09aC5wcm9qZWN0aW9uLm5hbWUpY29udGludWU7Y29uc3QgdT1jLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQobi5pZCksZD1xcihuKTttJiZkLnB1c2goXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIik7Y29uc3QgcD10LnVzZVByb2dyYW0oXCJjaXJjbGVcIix1LGQpLGY9Yy5sYXlvdXRWZXJ0ZXhCdWZmZXIseT1jLmdsb2JlRXh0VmVydGV4QnVmZmVyLHY9Yy5pbmRleEJ1ZmZlcix4PWgucHJvamVjdGlvbi5jcmVhdGVJbnZlcnNpb25NYXRyaXgoaCxhLmNhbm9uaWNhbCksYj17cHJvZ3JhbUNvbmZpZ3VyYXRpb246dSxwcm9ncmFtOnAsbGF5b3V0VmVydGV4QnVmZmVyOmYsZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI6eSxpbmRleEJ1ZmZlcjp2LHVuaWZvcm1WYWx1ZXM6R3IodCxhLHMseCxnLG4pLHRpbGU6c307aWYobCl7Y29uc3QgdD1jLnNlZ21lbnRzLmdldCgpO2Zvcihjb25zdCByIG9mIHQpXy5wdXNoKHtzZWdtZW50czpuZXcgZS5TZWdtZW50VmVjdG9yKFtyXSksc29ydEtleTpyLnNvcnRLZXksc3RhdGU6Yn0pfWVsc2UgXy5wdXNoKHtzZWdtZW50czpjLnNlZ21lbnRzLHNvcnRLZXk6MCxzdGF0ZTpifSl9bCYmXy5zb3J0KChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KTtjb25zdCB5PXt1c2VEZXB0aEZvck9jY2x1c2lvbjohbX07Zm9yKGNvbnN0IHIgb2YgXyl7Y29uc3R7cHJvZ3JhbUNvbmZpZ3VyYXRpb246aSxwcm9ncmFtOm8sbGF5b3V0VmVydGV4QnVmZmVyOmEsZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI6cyxpbmRleEJ1ZmZlcjpsLHVuaWZvcm1WYWx1ZXM6bSx0aWxlOmd9PXIuc3RhdGUsXz1yLnNlZ21lbnRzO3QudGVycmFpbiYmdC50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhnLG8seSksdC5wcmVwYXJlRHJhd1Byb2dyYW0oYyxvLGcudGlsZUlELnRvVW53cmFwcGVkKCkpLG8uZHJhdyhjLHUuVFJJQU5HTEVTLGQscCxmLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLG0sbi5pZCxhLGwsXyxuLnBhaW50LGguem9vbSxpLFtzXSl9fSxoZWF0bWFwOmZ1bmN0aW9uKHQscixuLGkpe2lmKDAhPT1uLnBhaW50LmdldChcImhlYXRtYXAtb3BhY2l0eVwiKSlpZihcIm9mZnNjcmVlblwiPT09dC5yZW5kZXJQYXNzKXtjb25zdCBvPXQuY29udGV4dCxhPW8uZ2wscz1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGw9bmV3IGUuQ29sb3JNb2RlKFthLk9ORSxhLk9ORV0sZS5Db2xvci50cmFuc3BhcmVudCxbITAsITAsITAsITBdKTshZnVuY3Rpb24oZSx0LHIsbil7Y29uc3QgaT1lLmdsLG89dC53aWR0aCpuLGE9dC5oZWlnaHQqbjtlLmFjdGl2ZVRleHR1cmUuc2V0KGkuVEVYVFVSRTEpLGUudmlld3BvcnQuc2V0KFswLDAsbyxhXSk7bGV0IHM9ci5oZWF0bWFwRmJvO2lmKCFzfHxzJiYocy53aWR0aCE9PW98fHMuaGVpZ2h0IT09YSkpe3MmJnMuZGVzdHJveSgpO2NvbnN0IHQ9aS5jcmVhdGVUZXh0dXJlKCk7aS5iaW5kVGV4dHVyZShpLlRFWFRVUkVfMkQsdCksaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfV1JBUF9TLGkuQ0xBTVBfVE9fRURHRSksaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfV1JBUF9ULGkuQ0xBTVBfVE9fRURHRSksaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfTUlOX0ZJTFRFUixpLkxJTkVBUiksaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfTUFHX0ZJTFRFUixpLkxJTkVBUikscz1yLmhlYXRtYXBGYm89ZS5jcmVhdGVGcmFtZWJ1ZmZlcihvLGEsITEpLGZ1bmN0aW9uKGUsdCxyLG4saSxvKXtjb25zdCBhPWUuZ2w7YS50ZXhJbWFnZTJEKGEuVEVYVFVSRV8yRCwwLGEuUkdCQSxpLG8sMCxhLlJHQkEsZS5leHRSZW5kZXJUb1RleHR1cmVIYWxmRmxvYXQ/ZS5leHRUZXh0dXJlSGFsZkZsb2F0LkhBTEZfRkxPQVRfT0VTOmEuVU5TSUdORURfQllURSxudWxsKSxuLmNvbG9yQXR0YWNobWVudC5zZXQocil9KGUsMCx0LHMsbyxhKX1lbHNlIGkuYmluZFRleHR1cmUoaS5URVhUVVJFXzJELHMuY29sb3JBdHRhY2htZW50LmdldCgpKSxlLmJpbmRGcmFtZWJ1ZmZlci5zZXQocy5mcmFtZWJ1ZmZlcil9KG8sdCxuLFwiZ2xvYmVcIj09PXQudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZT8uNTouMjUpLG8uY2xlYXIoe2NvbG9yOmUuQ29sb3IudHJhbnNwYXJlbnR9KTtjb25zdCBjPXQudHJhbnNmb3JtLHU9XCJnbG9iZVwiPT09Yy5wcm9qZWN0aW9uLm5hbWUsaD11P1tcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiXTpudWxsLGQ9dT9lLkN1bGxGYWNlTW9kZS5mcm9udENDVzplLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxwPVtlLm1lcmNhdG9yWGZyb21MbmcoYy5jZW50ZXIubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQoYy5jZW50ZXIubGF0KV07Zm9yKGxldCBmPTA7ZjxpLmxlbmd0aDtmKyspe2NvbnN0IG09aVtmXTtpZihyLmhhc1JlbmRlcmFibGVQYXJlbnQobSkpY29udGludWU7Y29uc3QgZz1yLmdldFRpbGUobSksXz1nLmdldEJ1Y2tldChuKTtpZighX3x8Xy5wcm9qZWN0aW9uLm5hbWUhPT1jLnByb2plY3Rpb24ubmFtZSljb250aW51ZTtjb25zdCB5PV8ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChuLmlkKSx2PXQudXNlUHJvZ3JhbShcImhlYXRtYXBcIix5LGgpLHt6b29tOnh9PXQudHJhbnNmb3JtO3QudGVycmFpbiYmdC50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhnLHYpLHQucHJlcGFyZURyYXdQcm9ncmFtKG8sdixtLnRvVW53cmFwcGVkKCkpO2NvbnN0IGI9Yy5wcm9qZWN0aW9uLmNyZWF0ZUludmVyc2lvbk1hdHJpeChjLG0uY2Fub25pY2FsKTt2LmRyYXcobyxhLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxzLGwsZCxYcih0LG0sZyxiLHAseCxuLnBhaW50LmdldChcImhlYXRtYXAtaW50ZW5zaXR5XCIpKSxuLmlkLF8ubGF5b3V0VmVydGV4QnVmZmVyLF8uaW5kZXhCdWZmZXIsXy5zZWdtZW50cyxuLnBhaW50LHQudHJhbnNmb3JtLnpvb20seSx1P1tfLmdsb2JlRXh0VmVydGV4QnVmZmVyXTpudWxsKX1vLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKX1lbHNlXCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzJiYodC5jb250ZXh0LnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksZnVuY3Rpb24odCxyKXtjb25zdCBuPXQuY29udGV4dCxpPW4uZ2wsbz1yLmhlYXRtYXBGYm87aWYoIW8pcmV0dXJuO24uYWN0aXZlVGV4dHVyZS5zZXQoaS5URVhUVVJFMCksaS5iaW5kVGV4dHVyZShpLlRFWFRVUkVfMkQsby5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpLG4uYWN0aXZlVGV4dHVyZS5zZXQoaS5URVhUVVJFMSk7bGV0IGE9ci5jb2xvclJhbXBUZXh0dXJlO2F8fChhPXIuY29sb3JSYW1wVGV4dHVyZT1uZXcgZS5UZXh0dXJlKG4sci5jb2xvclJhbXAsaS5SR0JBKSksYS5iaW5kKGkuTElORUFSLGkuQ0xBTVBfVE9fRURHRSksdC51c2VQcm9ncmFtKFwiaGVhdG1hcFRleHR1cmVcIikuZHJhdyhuLGkuVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsKChlLHQscixuKT0+KHt1X2ltYWdlOjAsdV9jb2xvcl9yYW1wOjEsdV9vcGFjaXR5OnQucGFpbnQuZ2V0KFwiaGVhdG1hcC1vcGFjaXR5XCIpfSkpKDAsciksci5pZCx0LnZpZXdwb3J0QnVmZmVyLHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdC52aWV3cG9ydFNlZ21lbnRzLHIucGFpbnQsdC50cmFuc2Zvcm0uem9vbSl9KHQsbikpfSxsaW5lOmZ1bmN0aW9uKHQscixuLGkpe2lmKFwidHJhbnNsdWNlbnRcIiE9PXQucmVuZGVyUGFzcylyZXR1cm47Y29uc3Qgbz1uLnBhaW50LmdldChcImxpbmUtb3BhY2l0eVwiKSxhPW4ucGFpbnQuZ2V0KFwibGluZS13aWR0aFwiKTtpZigwPT09by5jb25zdGFudE9yKDEpfHwwPT09YS5jb25zdGFudE9yKDEpKXJldHVybjtjb25zdCBzPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxlLkRlcHRoTW9kZS5SZWFkT25seSksbD10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxjPXQudGVycmFpbiYmdC50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZT8xOmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx1PW4ucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIiksaD11LmNvbnN0YW50T3IoMSksZD1uLmxheW91dC5nZXQoXCJsaW5lLWNhcFwiKSxwPW4ucGFpbnQuZ2V0KFwibGluZS1wYXR0ZXJuXCIpLGY9cC5jb25zdGFudE9yKDEpLG09bi5wYWludC5nZXQoXCJsaW5lLWdyYWRpZW50XCIpLGc9bi5nZXRDcm9zc2ZhZGVQYXJhbWV0ZXJzKCksXz1mP1wibGluZVBhdHRlcm5cIjpcImxpbmVcIix5PXQuY29udGV4dCx2PXkuZ2wseD0oZT0+e2NvbnN0IHQ9W107UXIoZSkmJnQucHVzaChcIlJFTkRFUl9MSU5FX0RBU0hcIiksZS5wYWludC5nZXQoXCJsaW5lLWdyYWRpZW50XCIpJiZ0LnB1c2goXCJSRU5ERVJfTElORV9HUkFESUVOVFwiKTtjb25zdCByPWUucGFpbnQuZ2V0KFwibGluZS10cmltLW9mZnNldFwiKTswPT09clswXSYmMD09PXJbMV18fHQucHVzaChcIlJFTkRFUl9MSU5FX1RSSU1fT0ZGU0VUXCIpO2NvbnN0IG49ZS5wYWludC5nZXQoXCJsaW5lLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKSxpPTEhPT1lLnBhaW50LmdldChcImxpbmUtb3BhY2l0eVwiKS5jb25zdGFudE9yKDEpO3JldHVybiFuJiZpJiZ0LnB1c2goXCJSRU5ERVJfTElORV9BTFBIQV9ESVNDQVJEXCIpLHR9KShuKTtsZXQgYj14LmluY2x1ZGVzKFwiUkVOREVSX0xJTkVfQUxQSEFfRElTQ0FSRFwiKTt0LnRlcnJhaW4mJnQudGVycmFpbi5jbGlwT3JNYXNrT3ZlcmxhcFN0ZW5jaWxUeXBlKCkmJihiPSExKTtmb3IoY29uc3QgbyBvZiBpKXtjb25zdCBpPXIuZ2V0VGlsZShvKTtpZihmJiYhaS5wYXR0ZXJuc0xvYWRlZCgpKWNvbnRpbnVlO2NvbnN0IGE9aS5nZXRCdWNrZXQobik7aWYoIWEpY29udGludWU7dC5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCB3PWEucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChuLmlkKSxUPXQudXNlUHJvZ3JhbShfLHcseCksRT1wLmNvbnN0YW50T3IobnVsbCk7aWYoRSYmaS5pbWFnZUF0bGFzKXtjb25zdCBlPWkuaW1hZ2VBdGxhcyx0PWUucGF0dGVyblBvc2l0aW9uc1tFLnRvLnRvU3RyaW5nKCldLHI9ZS5wYXR0ZXJuUG9zaXRpb25zW0UuZnJvbS50b1N0cmluZygpXTt0JiZyJiZ3LnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh0LHIpfWNvbnN0IFM9dS5jb25zdGFudE9yKG51bGwpLEM9ZC5jb25zdGFudE9yKG51bGwpO2lmKCFmJiZTJiZDJiZpLmxpbmVBdGxhcyl7Y29uc3QgZT1pLmxpbmVBdGxhcyx0PWUuZ2V0RGFzaChTLnRvLEMpLHI9ZS5nZXREYXNoKFMuZnJvbSxDKTt0JiZyJiZ3LnNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyh0LHIpfWxldFtNLGtdPW4ucGFpbnQuZ2V0KFwibGluZS10cmltLW9mZnNldFwiKTtpZihcInJvdW5kXCI9PT1DfHxcInNxdWFyZVwiPT09Qyl7Y29uc3QgZT0xO00hPT1rJiYoMD09PU0mJihNLT1lKSwxPT09ayYmKGsrPWUpKX1jb25zdCBBPXQudGVycmFpbj9vLnByb2pNYXRyaXg6bnVsbCxJPWY/WXIodCxpLG4sZyxBLGMpOkhyKHQsaSxuLGcsQSxhLmxpbmVDbGlwc0FycmF5Lmxlbmd0aCxjLFtNLGtdKTtpZihtKXtjb25zdCBpPWEuZ3JhZGllbnRzW24uaWRdO2xldCBzPWkudGV4dHVyZTtpZihuLmdyYWRpZW50VmVyc2lvbiE9PWkudmVyc2lvbil7bGV0IGw9MjU2O2lmKG4uc3RlcEludGVycG9sYW50KXtjb25zdCBuPXIuZ2V0U291cmNlKCkubWF4em9vbSxpPW8uY2Fub25pY2FsLno9PT1uP01hdGguY2VpbCgxPDx0LnRyYW5zZm9ybS5tYXhab29tLW8uY2Fub25pY2FsLnopOjE7bD1lLmNsYW1wKGUubmV4dFBvd2VyT2ZUd28oYS5tYXhMaW5lTGVuZ3RoL2UuRVhURU5UKjEwMjQqaSksMjU2LHkubWF4VGV4dHVyZVNpemUpfWkuZ3JhZGllbnQ9ZS5yZW5kZXJDb2xvclJhbXAoe2V4cHJlc3Npb246bi5ncmFkaWVudEV4cHJlc3Npb24oKSxldmFsdWF0aW9uS2V5OlwibGluZVByb2dyZXNzXCIscmVzb2x1dGlvbjpsLGltYWdlOmkuZ3JhZGllbnR8fHZvaWQgMCxjbGlwczphLmxpbmVDbGlwc0FycmF5fSksaS50ZXh0dXJlP2kudGV4dHVyZS51cGRhdGUoaS5ncmFkaWVudCk6aS50ZXh0dXJlPW5ldyBlLlRleHR1cmUoeSxpLmdyYWRpZW50LHYuUkdCQSksaS52ZXJzaW9uPW4uZ3JhZGllbnRWZXJzaW9uLHM9aS50ZXh0dXJlfXkuYWN0aXZlVGV4dHVyZS5zZXQodi5URVhUVVJFMSkscy5iaW5kKG4uc3RlcEludGVycG9sYW50P3YuTkVBUkVTVDp2LkxJTkVBUix2LkNMQU1QX1RPX0VER0UpfWgmJih5LmFjdGl2ZVRleHR1cmUuc2V0KHYuVEVYVFVSRTApLGkubGluZUF0bGFzVGV4dHVyZS5iaW5kKHYuTElORUFSLHYuUkVQRUFUKSx3LnVwZGF0ZVBhaW50QnVmZmVycyhnKSksZiYmKHkuYWN0aXZlVGV4dHVyZS5zZXQodi5URVhUVVJFMCksaS5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKHYuTElORUFSLHYuQ0xBTVBfVE9fRURHRSksdy51cGRhdGVQYWludEJ1ZmZlcnMoZykpLHQucHJlcGFyZURyYXdQcm9ncmFtKHksVCxvLnRvVW53cmFwcGVkKCkpO2NvbnN0IFA9cj0+e1QuZHJhdyh5LHYuVFJJQU5HTEVTLHMscixsLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLEksbi5pZCxhLmxheW91dFZlcnRleEJ1ZmZlcixhLmluZGV4QnVmZmVyLGEuc2VnbWVudHMsbi5wYWludCx0LnRyYW5zZm9ybS56b29tLHcsW2EubGF5b3V0VmVydGV4QnVmZmVyMl0pfTtpZihiKXtjb25zdCByPXQuc3RlbmNpbE1vZGVGb3JDbGlwcGluZyhvKS5yZWY7MD09PXImJnQudGVycmFpbiYmeS5jbGVhcih7c3RlbmNpbDowfSk7Y29uc3Qgbj17ZnVuYzp2LkVRVUFMLG1hc2s6MjU1fTtJLnVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ9LjgsUChuZXcgZS5TdGVuY2lsTW9kZShuLHIsMjU1LHYuS0VFUCx2LktFRVAsdi5JTlZFUlQpKSxJLnVfYWxwaGFfZGlzY2FyZF90aHJlc2hvbGQ9MCxQKG5ldyBlLlN0ZW5jaWxNb2RlKG4sciwyNTUsdi5LRUVQLHYuS0VFUCx2LktFRVApKX1lbHNlIFAodC5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKG8pKX1iJiYodC5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCksdC50ZXJyYWluJiZ5LmNsZWFyKHtzdGVuY2lsOjB9KSl9LGZpbGw6ZnVuY3Rpb24odCxyLG4saSl7Y29uc3Qgbz1uLnBhaW50LmdldChcImZpbGwtY29sb3JcIiksYT1uLnBhaW50LmdldChcImZpbGwtb3BhY2l0eVwiKTtpZigwPT09YS5jb25zdGFudE9yKDEpKXJldHVybjtjb25zdCBzPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGw9bi5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksYz10Lm9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKSYmIWwuY29uc3RhbnRPcigxKSYmMT09PW8uY29uc3RhbnRPcihlLkNvbG9yLnRyYW5zcGFyZW50KS5hJiYxPT09YS5jb25zdGFudE9yKDApP1wib3BhcXVlXCI6XCJ0cmFuc2x1Y2VudFwiO2lmKHQucmVuZGVyUGFzcz09PWMpe2NvbnN0IG89dC5kZXB0aE1vZGVGb3JTdWJsYXllcigxLFwib3BhcXVlXCI9PT10LnJlbmRlclBhc3M/ZS5EZXB0aE1vZGUuUmVhZFdyaXRlOmUuRGVwdGhNb2RlLlJlYWRPbmx5KTt5bih0LHIsbixpLG8scywhMSl9aWYoXCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzJiZuLnBhaW50LmdldChcImZpbGwtYW50aWFsaWFzXCIpKXtjb25zdCBvPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIobi5nZXRQYWludFByb3BlcnR5KFwiZmlsbC1vdXRsaW5lLWNvbG9yXCIpPzI6MCxlLkRlcHRoTW9kZS5SZWFkT25seSk7eW4odCxyLG4saSxvLHMsITApfX0sXCJmaWxsLWV4dHJ1c2lvblwiOmZ1bmN0aW9uKHQscixuLGkpe2NvbnN0IG89bi5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCIpO2lmKDAhPT1vJiZcInRyYW5zbHVjZW50XCI9PT10LnJlbmRlclBhc3Mpe2NvbnN0IGE9bmV3IGUuRGVwdGhNb2RlKHQuY29udGV4dC5nbC5MRVFVQUwsZS5EZXB0aE1vZGUuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTtpZigxIT09b3x8bi5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCIpLmNvbnN0YW50T3IoMSkpdm4odCxyLG4saSxhLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsZS5Db2xvck1vZGUuZGlzYWJsZWQpLHZuKHQscixuLGksYSx0LnN0ZW5jaWxNb2RlRm9yM0QoKSx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksdC5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCk7ZWxzZXtjb25zdCBvPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpO3ZuKHQscixuLGksYSxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLG8pfX19LGhpbGxzaGFkZTpmdW5jdGlvbih0LHIsbixpKXtpZihcIm9mZnNjcmVlblwiIT09dC5yZW5kZXJQYXNzJiZcInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IG89dC5jb250ZXh0LGE9dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLGUuRGVwdGhNb2RlLlJlYWRPbmx5KSxzPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGw9dC50ZXJyYWluJiZ0LnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlLFtjLHVdPVwidHJhbnNsdWNlbnRcIiE9PXQucmVuZGVyUGFzc3x8bD9be30saV06dC5zdGVuY2lsQ29uZmlnRm9yT3ZlcmxhcChpKTtmb3IoY29uc3QgaSBvZiB1KXtjb25zdCBvPXIuZ2V0VGlsZShpKTtpZihvLm5lZWRzSGlsbHNoYWRlUHJlcGFyZSYmXCJvZmZzY3JlZW5cIj09PXQucmVuZGVyUGFzcyl2cih0LG8sbixhLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQscyk7ZWxzZSBpZihcInRyYW5zbHVjZW50XCI9PT10LnJlbmRlclBhc3Mpe2NvbnN0IGU9bCYmdC50ZXJyYWluP3QudGVycmFpbi5zdGVuY2lsTW9kZUZvclJUVE92ZXJsYXAoaSk6Y1tpLm92ZXJzY2FsZWRaXTtfcih0LGksbyxuLGEsZSxzKX19by52aWV3cG9ydC5zZXQoWzAsMCx0LndpZHRoLHQuaGVpZ2h0XSksdC5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCl9LHJhc3RlcjpmdW5jdGlvbih0LHIsbixpLG8sYSl7aWYoXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtpZigwPT09bi5wYWludC5nZXQoXCJyYXN0ZXItb3BhY2l0eVwiKSlyZXR1cm47aWYoIWkubGVuZ3RoKXJldHVybjtjb25zdCBzPXQuY29udGV4dCxsPXMuZ2wsYz1yLmdldFNvdXJjZSgpLHU9dC51c2VQcm9ncmFtKFwicmFzdGVyXCIpLGg9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZD10LnRlcnJhaW4mJnQudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUsW3AsZl09YyBpbnN0YW5jZW9mIEllfHxkP1t7fSxpXTp0LnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKGkpLG09ZltmLmxlbmd0aC0xXS5vdmVyc2NhbGVkWixnPSF0Lm9wdGlvbnMubW92aW5nO2Zvcihjb25zdCBpIG9mIGYpe2NvbnN0IG89ZD9lLkRlcHRoTW9kZS5kaXNhYmxlZDp0LmRlcHRoTW9kZUZvclN1YmxheWVyKGkub3ZlcnNjYWxlZFotbSwxPT09bi5wYWludC5nZXQoXCJyYXN0ZXItb3BhY2l0eVwiKT9lLkRlcHRoTW9kZS5SZWFkV3JpdGU6ZS5EZXB0aE1vZGUuUmVhZE9ubHksbC5MRVNTKSxmPWkudG9VbndyYXBwZWQoKSxfPXIuZ2V0VGlsZShpKTtpZihkJiYoIV98fCFfLmhhc0RhdGEoKSkpY29udGludWU7Y29uc3QgeT1kP2kucHJvak1hdHJpeDp0LnRyYW5zZm9ybS5jYWxjdWxhdGVQcm9qTWF0cml4KGYsZyksdj10LnRlcnJhaW4mJmQ/dC50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChpKTpwW2kub3ZlcnNjYWxlZFpdLHg9YT8wOm4ucGFpbnQuZ2V0KFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIik7Xy5yZWdpc3RlckZhZGVEdXJhdGlvbih4KTtjb25zdCBiPXIuZmluZExvYWRlZFBhcmVudChpLDApLHc9a3IoXyxiLHIsdC50cmFuc2Zvcm0seCk7bGV0IFQsRTt0LnRlcnJhaW4mJnQudGVycmFpbi5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCBTPVwibmVhcmVzdFwiPT09bi5wYWludC5nZXQoXCJyYXN0ZXItcmVzYW1wbGluZ1wiKT9sLk5FQVJFU1Q6bC5MSU5FQVI7cy5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUwKSxfLnRleHR1cmUuYmluZChTLGwuQ0xBTVBfVE9fRURHRSkscy5hY3RpdmVUZXh0dXJlLnNldChsLlRFWFRVUkUxKSxiPyhiLnRleHR1cmUuYmluZChTLGwuQ0xBTVBfVE9fRURHRSksVD1NYXRoLnBvdygyLGIudGlsZUlELm92ZXJzY2FsZWRaLV8udGlsZUlELm92ZXJzY2FsZWRaKSxFPVtfLnRpbGVJRC5jYW5vbmljYWwueCpUJTEsXy50aWxlSUQuY2Fub25pY2FsLnkqVCUxXSk6Xy50ZXh0dXJlLmJpbmQoUyxsLkNMQU1QX1RPX0VER0UpO2NvbnN0IEM9ZW4oeSxFfHxbMCwwXSxUfHwxLHcsbixjIGluc3RhbmNlb2YgSWU/Yy5wZXJzcGVjdGl2ZVRyYW5zZm9ybTpbMCwwXSk7aWYodC5wcmVwYXJlRHJhd1Byb2dyYW0ocyx1LGYpLGMgaW5zdGFuY2VvZiBJZSljLmJvdW5kc0J1ZmZlciYmYy5ib3VuZHNTZWdtZW50cyYmdS5kcmF3KHMsbC5UUklBTkdMRVMsbyxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGgsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsQyxuLmlkLGMuYm91bmRzQnVmZmVyLHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsYy5ib3VuZHNTZWdtZW50cyk7ZWxzZXtjb25zdHt0aWxlQm91bmRzQnVmZmVyOnIsdGlsZUJvdW5kc0luZGV4QnVmZmVyOmksdGlsZUJvdW5kc1NlZ21lbnRzOmF9PXQuZ2V0VGlsZUJvdW5kc0J1ZmZlcnMoXyk7dS5kcmF3KHMsbC5UUklBTkdMRVMsbyx2LGgsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsQyxuLmlkLHIsaSxhKX19dC5yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCl9LGJhY2tncm91bmQ6ZnVuY3Rpb24odCxyLG4saSl7Y29uc3Qgbz1uLnBhaW50LmdldChcImJhY2tncm91bmQtY29sb3JcIiksYT1uLnBhaW50LmdldChcImJhY2tncm91bmQtb3BhY2l0eVwiKTtpZigwPT09YSlyZXR1cm47Y29uc3Qgcz10LmNvbnRleHQsbD1zLmdsLGM9dC50cmFuc2Zvcm0sdT1jLnRpbGVTaXplLGg9bi5wYWludC5nZXQoXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIik7aWYodC5pc1BhdHRlcm5NaXNzaW5nKGgpKXJldHVybjtjb25zdCBkPSFoJiYxPT09by5hJiYxPT09YSYmdC5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCk/XCJvcGFxdWVcIjpcInRyYW5zbHVjZW50XCI7aWYodC5yZW5kZXJQYXNzIT09ZClyZXR1cm47Y29uc3QgcD1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGY9dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLFwib3BhcXVlXCI9PT1kP2UuRGVwdGhNb2RlLlJlYWRXcml0ZTplLkRlcHRoTW9kZS5SZWFkT25seSksbT10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxnPXQudXNlUHJvZ3JhbShoP1wiYmFja2dyb3VuZFBhdHRlcm5cIjpcImJhY2tncm91bmRcIik7bGV0IF8seT1pO3l8fChfPXQuZ2V0QmFja2dyb3VuZFRpbGVzKCkseT1PYmplY3QudmFsdWVzKF8pLm1hcChlPT5lLnRpbGVJRCkpLGgmJihzLmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTApLHQuaW1hZ2VNYW5hZ2VyLmJpbmQodC5jb250ZXh0KSk7Y29uc3Qgdj1uLmdldENyb3NzZmFkZVBhcmFtZXRlcnMoKTtmb3IoY29uc3QgZCBvZiB5KXtjb25zdCB5PWQudG9VbndyYXBwZWQoKSx4PWk/ZC5wcm9qTWF0cml4OnQudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgoeSk7dC5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCBiPXI/ci5nZXRUaWxlKGQpOl8/X1tkLmtleV06bmV3IGUuVGlsZShkLHUsYy56b29tLHQpLHc9aD9sbih4LGEsdCxoLHt0aWxlSUQ6ZCx0aWxlU2l6ZTp1fSx2KTpzbih4LGEsbyk7dC5wcmVwYXJlRHJhd1Byb2dyYW0ocyxnLHkpO2NvbnN0e3RpbGVCb3VuZHNCdWZmZXI6VCx0aWxlQm91bmRzSW5kZXhCdWZmZXI6RSx0aWxlQm91bmRzU2VnbWVudHM6U309dC5nZXRUaWxlQm91bmRzQnVmZmVycyhiKTtnLmRyYXcocyxsLlRSSUFOR0xFUyxmLHAsbSxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCx3LG4uaWQsVCxFLFMpfX0sc2t5OmZ1bmN0aW9uKHQscixuKXtjb25zdCBpPXQudHJhbnNmb3JtLG89XCJtZXJjYXRvclwiPT09aS5wcm9qZWN0aW9uLm5hbWV8fFwiZ2xvYmVcIj09PWkucHJvamVjdGlvbi5uYW1lPzE6ZS5zbW9vdGhzdGVwKDcsOCxpLnpvb20pLGE9bi5wYWludC5nZXQoXCJza3ktb3BhY2l0eVwiKSpvO2lmKDA9PT1hKXJldHVybjtjb25zdCBzPXQuY29udGV4dCxsPW4ucGFpbnQuZ2V0KFwic2t5LXR5cGVcIiksYz1uZXcgZS5EZXB0aE1vZGUocy5nbC5MRVFVQUwsZS5EZXB0aE1vZGUuUmVhZE9ubHksWzAsMV0pLHU9dC5mcmFtZUNvdW50ZXIvMWUzJTE7XCJhdG1vc3BoZXJlXCI9PT1sP1wib2Zmc2NyZWVuXCI9PT10LnJlbmRlclBhc3M/bi5uZWVkc1NreWJveENhcHR1cmUodCkmJihmdW5jdGlvbih0LHIsbixpKXtjb25zdCBvPXQuY29udGV4dCxhPW8uZ2w7bGV0IHM9ci5za3lib3hGYm87aWYoIXMpe3M9ci5za3lib3hGYm89by5jcmVhdGVGcmFtZWJ1ZmZlcigzMiwzMiwhMSksci5za3lib3hHZW9tZXRyeT1uZXcgRG4obyksci5za3lib3hUZXh0dXJlPW8uZ2wuY3JlYXRlVGV4dHVyZSgpLGEuYmluZFRleHR1cmUoYS5URVhUVVJFX0NVQkVfTUFQLHIuc2t5Ym94VGV4dHVyZSksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV9DVUJFX01BUCxhLlRFWFRVUkVfV1JBUF9TLGEuQ0xBTVBfVE9fRURHRSksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV9DVUJFX01BUCxhLlRFWFRVUkVfV1JBUF9ULGEuQ0xBTVBfVE9fRURHRSksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV9DVUJFX01BUCxhLlRFWFRVUkVfTUlOX0ZJTFRFUixhLkxJTkVBUiksYS50ZXhQYXJhbWV0ZXJpKGEuVEVYVFVSRV9DVUJFX01BUCxhLlRFWFRVUkVfTUFHX0ZJTFRFUixhLkxJTkVBUik7Zm9yKGxldCBlPTA7ZTw2OysrZSlhLnRleEltYWdlMkQoYS5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grZSwwLGEuUkdCQSwzMiwzMiwwLGEuUkdCQSxhLlVOU0lHTkVEX0JZVEUsbnVsbCl9by5iaW5kRnJhbWVidWZmZXIuc2V0KHMuZnJhbWVidWZmZXIpLG8udmlld3BvcnQuc2V0KFswLDAsMzIsMzJdKTtjb25zdCBsPXIuZ2V0Q2VudGVyKHQsITApLGM9dC51c2VQcm9ncmFtKFwic2t5Ym94Q2FwdHVyZVwiKSx1PW5ldyBGbG9hdDY0QXJyYXkoMTYpO2UuaWRlbnRpdHkodSksZS5yb3RhdGVZKHUsdSwuNSotTWF0aC5QSSksUm4obyxyLGMsdSxsLDApLGUuaWRlbnRpdHkodSksZS5yb3RhdGVZKHUsdSwuNSpNYXRoLlBJKSxSbihvLHIsYyx1LGwsMSksZS5pZGVudGl0eSh1KSxlLnJvdGF0ZVgodSx1LC41Ki1NYXRoLlBJKSxSbihvLHIsYyx1LGwsMiksZS5pZGVudGl0eSh1KSxlLnJvdGF0ZVgodSx1LC41Kk1hdGguUEkpLFJuKG8scixjLHUsbCwzKSxlLmlkZW50aXR5KHUpLFJuKG8scixjLHUsbCw0KSxlLmlkZW50aXR5KHUpLGUucm90YXRlWSh1LHUsTWF0aC5QSSksUm4obyxyLGMsdSxsLDUpLG8udmlld3BvcnQuc2V0KFswLDAsdC53aWR0aCx0LmhlaWdodF0pfSh0LG4pLG4ubWFya1NreWJveFZhbGlkKHQpKTpcInNreVwiPT09dC5yZW5kZXJQYXNzJiZmdW5jdGlvbih0LHIsbixpLG8pe2NvbnN0IGE9dC5jb250ZXh0LHM9YS5nbCxsPXQudHJhbnNmb3JtLGM9dC51c2VQcm9ncmFtKFwic2t5Ym94XCIpO2EuYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMCkscy5iaW5kVGV4dHVyZShzLlRFWFRVUkVfQ1VCRV9NQVAsci5za3lib3hUZXh0dXJlKTtjb25zdCB1PSgoZSx0LHIsbixpKT0+KHt1X21hdHJpeDplLHVfc3VuX2RpcmVjdGlvbjp0LHVfY3ViZW1hcDowLHVfb3BhY2l0eTpuLHVfdGVtcG9yYWxfb2Zmc2V0Oml9KSkobC5za3lib3hNYXRyaXgsci5nZXRDZW50ZXIodCwhMSksMCxpLG8pO3QucHJlcGFyZURyYXdQcm9ncmFtKGEsYyksYy5kcmF3KGEscy5UUklBTkdMRVMsbixlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGUuQ3VsbEZhY2VNb2RlLmJhY2tDVyx1LFwic2t5Ym94XCIsci5za3lib3hHZW9tZXRyeS52ZXJ0ZXhCdWZmZXIsci5za3lib3hHZW9tZXRyeS5pbmRleEJ1ZmZlcixyLnNreWJveEdlb21ldHJ5LnNlZ21lbnQpfSh0LG4sYyxhLHUpOlwiZ3JhZGllbnRcIj09PWwmJlwic2t5XCI9PT10LnJlbmRlclBhc3MmJmZ1bmN0aW9uKHQscixuLGksbyl7Y29uc3QgYT10LmNvbnRleHQscz1hLmdsLGw9dC50cmFuc2Zvcm0sYz10LnVzZVByb2dyYW0oXCJza3lib3hHcmFkaWVudFwiKTtyLnNreWJveEdlb21ldHJ5fHwoci5za3lib3hHZW9tZXRyeT1uZXcgRG4oYSkpLGEuYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMCk7bGV0IHU9ci5jb2xvclJhbXBUZXh0dXJlO3V8fCh1PXIuY29sb3JSYW1wVGV4dHVyZT1uZXcgZS5UZXh0dXJlKGEsci5jb2xvclJhbXAscy5SR0JBKSksdS5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSk7Y29uc3QgaD0oKHQscixuLGksbyk9Pih7dV9tYXRyaXg6dCx1X2NvbG9yX3JhbXA6MCx1X2NlbnRlcl9kaXJlY3Rpb246cix1X3JhZGl1czplLmRlZ1RvUmFkKG4pLHVfb3BhY2l0eTppLHVfdGVtcG9yYWxfb2Zmc2V0Om99KSkobC5za3lib3hNYXRyaXgsci5nZXRDZW50ZXIodCwhMSksci5wYWludC5nZXQoXCJza3ktZ3JhZGllbnQtcmFkaXVzXCIpLGksbyk7dC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxjKSxjLmRyYXcoYSxzLlRSSUFOR0xFUyxuLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZS5DdWxsRmFjZU1vZGUuYmFja0NXLGgsXCJza3lib3hHcmFkaWVudFwiLHIuc2t5Ym94R2VvbWV0cnkudmVydGV4QnVmZmVyLHIuc2t5Ym94R2VvbWV0cnkuaW5kZXhCdWZmZXIsci5za3lib3hHZW9tZXRyeS5zZWdtZW50KX0odCxuLGMsYSx1KX0sZGVidWc6ZnVuY3Rpb24oZSx0LHIpe2ZvcihsZXQgbj0wO248ci5sZW5ndGg7bisrKUNuKGUsdCxyW25dKX0sY3VzdG9tOmZ1bmN0aW9uKHQscixuKXtjb25zdCBpPXQuY29udGV4dCxvPW4uaW1wbGVtZW50YXRpb247aWYodC50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVycyYmdC50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVycy5pbmNsdWRlcyhcImN1c3RvbVwiKSllLndhcm5PbmNlKFwiQ3VzdG9tIGxheWVycyBhcmUgbm90IHlldCBzdXBwb3J0ZWQgd2l0aCBub24tbWVyY2F0b3IgcHJvamVjdGlvbnMuIFVzZSBtZXJjYXRvciB0byBlbmFibGUgY3VzdG9tIGxheWVycy5cIik7ZWxzZSBpZihcIm9mZnNjcmVlblwiPT09dC5yZW5kZXJQYXNzKXtjb25zdCBlPW8ucHJlcmVuZGVyO2UmJih0LnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKSxpLnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksZS5jYWxsKG8saS5nbCx0LnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKSxpLnNldERpcnR5KCksdC5zZXRCYXNlU3RhdGUoKSl9ZWxzZSBpZihcInRyYW5zbHVjZW50XCI9PT10LnJlbmRlclBhc3Mpe3Quc2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpLGkuc2V0Q29sb3JNb2RlKHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSxpLnNldFN0ZW5jaWxNb2RlKGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQpO2NvbnN0IHI9XCIzZFwiPT09by5yZW5kZXJpbmdNb2RlP25ldyBlLkRlcHRoTW9kZSh0LmNvbnRleHQuZ2wuTEVRVUFMLGUuRGVwdGhNb2RlLlJlYWRXcml0ZSx0LmRlcHRoUmFuZ2VGb3IzRCk6dC5kZXB0aE1vZGVGb3JTdWJsYXllcigwLGUuRGVwdGhNb2RlLlJlYWRPbmx5KTtpLnNldERlcHRoTW9kZShyKSxvLnJlbmRlcihpLmdsLHQudHJhbnNmb3JtLmN1c3RvbUxheWVyTWF0cml4KCkpLGkuc2V0RGlydHkoKSx0LnNldEJhc2VTdGF0ZSgpLGkuYmluZEZyYW1lYnVmZmVyLnNldChudWxsKX19fTtjbGFzcyBGbntjb25zdHJ1Y3Rvcih0LHIpe3RoaXMuY29udGV4dD1uZXcgQ2UodCksdGhpcy50cmFuc2Zvcm09cix0aGlzLl90aWxlVGV4dHVyZXM9e30sdGhpcy5mcmFtZUNvcGllcz1bXSx0aGlzLmxvYWRUaW1lU3RhbXBzPVtdLHRoaXMuc2V0dXAoKSx0aGlzLm51bVN1YmxheWVycz1lLlNvdXJjZUNhY2hlLm1heFVuZGVyem9vbWluZytlLlNvdXJjZUNhY2hlLm1heE92ZXJ6b29taW5nKzEsdGhpcy5kZXB0aEVwc2lsb249MS9NYXRoLnBvdygyLDE2KSx0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4PW5ldyBYdCx0aGlzLmRlZmVycmVkUmVuZGVyR3B1VGltZVF1ZXJpZXM9W10sdGhpcy5ncHVUaW1lcnM9e30sdGhpcy5mcmFtZUNvdW50ZXI9MCx0aGlzLl9iYWNrZ3JvdW5kVGlsZXM9e319dXBkYXRlVGVycmFpbihlLHQpe2NvbnN0IHI9ISFlJiYhIWUudGVycmFpbiYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c1RlcnJhaW47aWYoIShyfHx0aGlzLl90ZXJyYWluJiZ0aGlzLl90ZXJyYWluLmVuYWJsZWQpKXJldHVybjt0aGlzLl90ZXJyYWlufHwodGhpcy5fdGVycmFpbj1uZXcgenIodGhpcyxlKSk7Y29uc3Qgbj10aGlzLl90ZXJyYWluO3RoaXMudHJhbnNmb3JtLmVsZXZhdGlvbj1yP246bnVsbCxuLnVwZGF0ZShlLHRoaXMudHJhbnNmb3JtLHQpfV91cGRhdGVGb2coZSl7Y29uc3QgdD1lLmZvZztpZighdHx8XCJnbG9iZVwiPT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lfHx0LmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpPDF8fHQucHJvcGVydGllcy5nZXQoXCJob3Jpem9uLWJsZW5kXCIpPC4wMylyZXR1cm4gdm9pZCh0aGlzLnRyYW5zZm9ybS5mb2dDdWxsRGlzdFNxPW51bGwpO2NvbnN0W3Isbl09dC5nZXRGb3ZBZGp1c3RlZFJhbmdlKHRoaXMudHJhbnNmb3JtLl9mb3YpO2lmKHI+bilyZXR1cm4gdm9pZCh0aGlzLnRyYW5zZm9ybS5mb2dDdWxsRGlzdFNxPW51bGwpO2NvbnN0IGk9cisuNzgqKG4tcik7dGhpcy50cmFuc2Zvcm0uZm9nQ3VsbERpc3RTcT1pKml9Z2V0IHRlcnJhaW4oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uX3RlcnJhaW5FbmFibGVkKCkmJnRoaXMuX3RlcnJhaW4mJnRoaXMuX3RlcnJhaW4uZW5hYmxlZD90aGlzLl90ZXJyYWluOm51bGx9cmVzaXplKHQscil7aWYodGhpcy53aWR0aD10KmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLmhlaWdodD1yKmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLHRoaXMuc3R5bGUpZm9yKGNvbnN0IGUgb2YgdGhpcy5zdHlsZS5vcmRlcil0aGlzLnN0eWxlLl9sYXllcnNbZV0ucmVzaXplKCl9c2V0dXAoKXtjb25zdCB0PXRoaXMuY29udGV4dCxyPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0Mmk0O3IuZW1wbGFjZUJhY2soMCwwKSxyLmVtcGxhY2VCYWNrKGUuRVhURU5ULDApLHIuZW1wbGFjZUJhY2soMCxlLkVYVEVOVCksci5lbXBsYWNlQmFjayhlLkVYVEVOVCxlLkVYVEVOVCksdGhpcy50aWxlRXh0ZW50QnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHIsZS5wb3NBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMudGlsZUV4dGVudFNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO2NvbnN0IG49bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQyaTQ7bi5lbXBsYWNlQmFjaygwLDApLG4uZW1wbGFjZUJhY2soZS5FWFRFTlQsMCksbi5lbXBsYWNlQmFjaygwLGUuRVhURU5UKSxuLmVtcGxhY2VCYWNrKGUuRVhURU5ULGUuRVhURU5UKSx0aGlzLmRlYnVnQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKG4sZS5wb3NBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMuZGVidWdTZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCw1KTtjb25zdCBpPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0Mmk0O2kuZW1wbGFjZUJhY2soLTEsLTEpLGkuZW1wbGFjZUJhY2soMSwtMSksaS5lbXBsYWNlQmFjaygtMSwxKSxpLmVtcGxhY2VCYWNrKDEsMSksdGhpcy52aWV3cG9ydEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihpLGUucG9zQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLnZpZXdwb3J0U2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7Y29uc3Qgbz1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDRpODtvLmVtcGxhY2VCYWNrKDAsMCwwLDApLG8uZW1wbGFjZUJhY2soZS5FWFRFTlQsMCxlLkVYVEVOVCwwKSxvLmVtcGxhY2VCYWNrKDAsZS5FWFRFTlQsMCxlLkVYVEVOVCksby5lbXBsYWNlQmFjayhlLkVYVEVOVCxlLkVYVEVOVCxlLkVYVEVOVCxlLkVYVEVOVCksdGhpcy5tZXJjYXRvckJvdW5kc0J1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihvLGUuYm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLm1lcmNhdG9yQm91bmRzU2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMik7Y29uc3QgYT1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDN1aTY7YS5lbXBsYWNlQmFjaygwLDEsMiksYS5lbXBsYWNlQmFjaygyLDEsMyksdGhpcy5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKGEpO2NvbnN0IHM9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQxdWkyO2Zvcihjb25zdCBlIG9mWzAsMSwzLDIsMF0pcy5lbXBsYWNlQmFjayhlKTt0aGlzLmRlYnVnSW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihzKSx0aGlzLmVtcHR5VGV4dHVyZT1uZXcgZS5UZXh0dXJlKHQsbmV3IGUuUkdCQUltYWdlKHt3aWR0aDoxLGhlaWdodDoxfSxVaW50OEFycmF5Lm9mKDAsMCwwLDApKSx0LmdsLlJHQkEpLHRoaXMuaWRlbnRpdHlNYXQ9ZS5jcmVhdGUoKTtjb25zdCBsPXRoaXMuY29udGV4dC5nbDt0aGlzLnN0ZW5jaWxDbGVhck1vZGU9bmV3IGUuU3RlbmNpbE1vZGUoe2Z1bmM6bC5BTFdBWVMsbWFzazowfSwwLDI1NSxsLlpFUk8sbC5aRVJPLGwuWkVSTyksdGhpcy5sb2FkVGltZVN0YW1wcy5wdXNoKGUud2luZG93LnBlcmZvcm1hbmNlLm5vdygpKSx0aGlzLmF0bW9zcGhlcmVCdWZmZXI9bmV3IE9uKHRoaXMuY29udGV4dCl9Z2V0TWVyY2F0b3JUaWxlQm91bmRzQnVmZmVycygpe3JldHVybnt0aWxlQm91bmRzQnVmZmVyOnRoaXMubWVyY2F0b3JCb3VuZHNCdWZmZXIsdGlsZUJvdW5kc0luZGV4QnVmZmVyOnRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGlsZUJvdW5kc1NlZ21lbnRzOnRoaXMubWVyY2F0b3JCb3VuZHNTZWdtZW50c319Z2V0VGlsZUJvdW5kc0J1ZmZlcnMoZSl7cmV0dXJuIGUuX21ha2VUaWxlQm91bmRzQnVmZmVycyh0aGlzLmNvbnRleHQsdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbiksZS5fdGlsZUJvdW5kc0J1ZmZlcj97dGlsZUJvdW5kc0J1ZmZlcjplLl90aWxlQm91bmRzQnVmZmVyLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjplLl90aWxlQm91bmRzSW5kZXhCdWZmZXIsdGlsZUJvdW5kc1NlZ21lbnRzOmUuX3RpbGVCb3VuZHNTZWdtZW50c306dGhpcy5nZXRNZXJjYXRvclRpbGVCb3VuZHNCdWZmZXJzKCl9Y2xlYXJTdGVuY2lsKCl7Y29uc3QgdD10aGlzLmNvbnRleHQscj10LmdsO3RoaXMubmV4dFN0ZW5jaWxJRD0xLHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHM9e30sdGhpcy51c2VQcm9ncmFtKFwiY2xpcHBpbmdNYXNrXCIpLmRyYXcodCxyLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCx0aGlzLnN0ZW5jaWxDbGVhck1vZGUsZS5Db2xvck1vZGUuZGlzYWJsZWQsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsTXIodGhpcy5pZGVudGl0eU1hdCksXCIkY2xpcHBpbmdcIix0aGlzLnZpZXdwb3J0QnVmZmVyLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdGhpcy52aWV3cG9ydFNlZ21lbnRzKX1yZXNldFN0ZW5jaWxDbGlwcGluZ01hc2tzKCl7dGhpcy50ZXJyYWlufHwodGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT12b2lkIDAsdGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEcz17fSl9X3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHQscixuKXtpZighcnx8dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT09PXIuaWR8fCF0LmlzVGlsZUNsaXBwZWQoKXx8IW58fDA9PT1uLmxlbmd0aClyZXR1cm47aWYodGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEcyYmIXRoaXMudGVycmFpbil7bGV0IGU9ITE7Zm9yKGNvbnN0IHQgb2YgbilpZih2b2lkIDA9PT10aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzW3Qua2V5XSl7ZT0hMDticmVha31pZighZSlyZXR1cm59dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT1yLmlkO2NvbnN0IGk9dGhpcy5jb250ZXh0LG89aS5nbDt0aGlzLm5leHRTdGVuY2lsSUQrbi5sZW5ndGg+MjU2JiZ0aGlzLmNsZWFyU3RlbmNpbCgpLGkuc2V0Q29sb3JNb2RlKGUuQ29sb3JNb2RlLmRpc2FibGVkKSxpLnNldERlcHRoTW9kZShlLkRlcHRoTW9kZS5kaXNhYmxlZCk7Y29uc3QgYT10aGlzLnVzZVByb2dyYW0oXCJjbGlwcGluZ01hc2tcIik7dGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEcz17fTtmb3IoY29uc3QgdCBvZiBuKXtjb25zdCBuPXIuZ2V0VGlsZSh0KSxzPXRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdC5rZXldPXRoaXMubmV4dFN0ZW5jaWxJRCsrLHt0aWxlQm91bmRzQnVmZmVyOmwsdGlsZUJvdW5kc0luZGV4QnVmZmVyOmMsdGlsZUJvdW5kc1NlZ21lbnRzOnV9PXRoaXMuZ2V0VGlsZUJvdW5kc0J1ZmZlcnMobik7YS5kcmF3KGksby5UUklBTkdMRVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQsbmV3IGUuU3RlbmNpbE1vZGUoe2Z1bmM6by5BTFdBWVMsbWFzazowfSxzLDI1NSxvLktFRVAsby5LRUVQLG8uUkVQTEFDRSksZS5Db2xvck1vZGUuZGlzYWJsZWQsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsTXIodC5wcm9qTWF0cml4KSxcIiRjbGlwcGluZ1wiLGwsYyx1KX19c3RlbmNpbE1vZGVGb3IzRCgpe3RoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMubmV4dFN0ZW5jaWxJRCsxPjI1NiYmdGhpcy5jbGVhclN0ZW5jaWwoKTtjb25zdCB0PXRoaXMubmV4dFN0ZW5jaWxJRCsrLHI9dGhpcy5jb250ZXh0LmdsO3JldHVybiBuZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzpyLk5PVEVRVUFMLG1hc2s6MjU1fSx0LDI1NSxyLktFRVAsci5LRUVQLHIuUkVQTEFDRSl9c3RlbmNpbE1vZGVGb3JDbGlwcGluZyh0KXtpZih0aGlzLnRlcnJhaW4pcmV0dXJuIHRoaXMudGVycmFpbi5zdGVuY2lsTW9kZUZvclJUVE92ZXJsYXAodCk7Y29uc3Qgcj10aGlzLmNvbnRleHQuZ2w7cmV0dXJuIG5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOnIuRVFVQUwsbWFzazoyNTV9LHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHNbdC5rZXldLDAsci5LRUVQLHIuS0VFUCxyLlJFUExBQ0UpfXN0ZW5jaWxDb25maWdGb3JPdmVybGFwKHQpe2NvbnN0IHI9dGhpcy5jb250ZXh0LmdsLG49dC5zb3J0KChlLHQpPT50Lm92ZXJzY2FsZWRaLWUub3ZlcnNjYWxlZFopLGk9bltuLmxlbmd0aC0xXS5vdmVyc2NhbGVkWixvPW5bMF0ub3ZlcnNjYWxlZFotaSsxO2lmKG8+MSl7dGhpcy5jdXJyZW50U3RlbmNpbFNvdXJjZT12b2lkIDAsdGhpcy5uZXh0U3RlbmNpbElEK28+MjU2JiZ0aGlzLmNsZWFyU3RlbmNpbCgpO2NvbnN0IHQ9e307Zm9yKGxldCBuPTA7bjxvO24rKyl0W24raV09bmV3IGUuU3RlbmNpbE1vZGUoe2Z1bmM6ci5HRVFVQUwsbWFzazoyNTV9LG4rdGhpcy5uZXh0U3RlbmNpbElELDI1NSxyLktFRVAsci5LRUVQLHIuUkVQTEFDRSk7cmV0dXJuIHRoaXMubmV4dFN0ZW5jaWxJRCs9byxbdCxuXX1yZXR1cm5be1tpXTplLlN0ZW5jaWxNb2RlLmRpc2FibGVkfSxuXX1jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCl7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2w7aWYodGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yKXtjb25zdCByPTEvODtyZXR1cm4gbmV3IGUuQ29sb3JNb2RlKFt0LkNPTlNUQU5UX0NPTE9SLHQuT05FXSxuZXcgZS5Db2xvcihyLHIsciwwKSxbITAsITAsITAsITBdKX1yZXR1cm5cIm9wYXF1ZVwiPT09dGhpcy5yZW5kZXJQYXNzP2UuQ29sb3JNb2RlLnVuYmxlbmRlZDplLkNvbG9yTW9kZS5hbHBoYUJsZW5kZWR9ZGVwdGhNb2RlRm9yU3VibGF5ZXIodCxyLG4pe2lmKCF0aGlzLm9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKSlyZXR1cm4gZS5EZXB0aE1vZGUuZGlzYWJsZWQ7Y29uc3QgaT0xLSgoMSt0aGlzLmN1cnJlbnRMYXllcikqdGhpcy5udW1TdWJsYXllcnMrdCkqdGhpcy5kZXB0aEVwc2lsb247cmV0dXJuIG5ldyBlLkRlcHRoTW9kZShufHx0aGlzLmNvbnRleHQuZ2wuTEVRVUFMLHIsW2ksaV0pfW9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKXtyZXR1cm4gdGhpcy5jdXJyZW50TGF5ZXI8dGhpcy5vcGFxdWVQYXNzQ3V0b2ZmfXJlbmRlcih0LHIpe3RoaXMuc3R5bGU9dCx0aGlzLm9wdGlvbnM9cix0aGlzLmltYWdlTWFuYWdlcj10LmltYWdlTWFuYWdlcix0aGlzLmdseXBoTWFuYWdlcj10LmdseXBoTWFuYWdlcix0aGlzLnN5bWJvbEZhZGVDaGFuZ2U9dC5wbGFjZW1lbnQuc3ltYm9sRmFkZUNoYW5nZShlLmV4cG9ydGVkLm5vdygpKSx0aGlzLmltYWdlTWFuYWdlci5iZWdpbkZyYW1lKCk7Y29uc3Qgbj10aGlzLnN0eWxlLm9yZGVyLGk9dGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzO2Zvcihjb25zdCBlIGluIGkpe2NvbnN0IHQ9aVtlXTt0LnVzZWQmJnQucHJlcGFyZSh0aGlzLmNvbnRleHQpfWNvbnN0IG89e30sYT17fSxzPXt9O2Zvcihjb25zdCBlIGluIGkpe2NvbnN0IHQ9aVtlXTtvW2VdPXQuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCksYVtlXT1vW2VdLnNsaWNlKCkucmV2ZXJzZSgpLHNbZV09dC5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoITApLnJldmVyc2UoKX10aGlzLm9wYXF1ZVBhc3NDdXRvZmY9MS8wO2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKWlmKHRoaXMuc3R5bGUuX2xheWVyc1tuW2VdXS5pczNEKCkpe3RoaXMub3BhcXVlUGFzc0N1dG9mZj1lO2JyZWFrfWlmKHRoaXMudGVycmFpbiYmKHRoaXMudGVycmFpbi51cGRhdGVUaWxlQmluZGluZyhzKSx0aGlzLm9wYXF1ZVBhc3NDdXRvZmY9MCksXCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lfHx0aGlzLmdsb2JlU2hhcmVkQnVmZmVyc3x8KHRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzPW5ldyBlLkdsb2JlU2hhcmVkQnVmZmVycyh0aGlzLmNvbnRleHQpKSxlLmlzTWFwQXV0aGVudGljYXRlZCh0aGlzLmNvbnRleHQuZ2wpKXt0aGlzLnJlbmRlclBhc3M9XCJvZmZzY3JlZW5cIjtmb3IoY29uc3QgZSBvZiBuKXtjb25zdCByPXRoaXMuc3R5bGUuX2xheWVyc1tlXSxuPXQuX2dldExheWVyU291cmNlQ2FjaGUocik7aWYoIXIuaGFzT2Zmc2NyZWVuUGFzcygpfHxyLmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pKWNvbnRpbnVlO2NvbnN0IGk9bj9hW24uaWRdOnZvaWQgMDsoXCJjdXN0b21cIj09PXIudHlwZXx8ci5pc1NreSgpfHxpJiZpLmxlbmd0aCkmJnRoaXMucmVuZGVyTGF5ZXIodGhpcyxuLHIsaSl9aWYodGhpcy5kZXB0aFJhbmdlRm9yM0Q9WzAsMS0odC5vcmRlci5sZW5ndGgrMikqdGhpcy5udW1TdWJsYXllcnMqdGhpcy5kZXB0aEVwc2lsb25dLHRoaXMudGVycmFpbiYmKHRoaXMuc3R5bGUuaGFzU3ltYm9sTGF5ZXJzKCl8fHRoaXMuc3R5bGUuaGFzQ2lyY2xlTGF5ZXJzKCkpJiZ0aGlzLnRlcnJhaW4uZHJhd0RlcHRoKCksdGhpcy5jb250ZXh0LmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCksdGhpcy5jb250ZXh0LnZpZXdwb3J0LnNldChbMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHRdKSx0aGlzLmNvbnRleHQuY2xlYXIoe2NvbG9yOnIuc2hvd092ZXJkcmF3SW5zcGVjdG9yP2UuQ29sb3IuYmxhY2s6ZS5Db2xvci50cmFuc3BhcmVudCxkZXB0aDoxfSksdGhpcy5jbGVhclN0ZW5jaWwoKSx0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I9ci5zaG93T3ZlcmRyYXdJbnNwZWN0b3IsdGhpcy5yZW5kZXJQYXNzPVwib3BhcXVlXCIsIXRoaXMudGVycmFpbilmb3IodGhpcy5jdXJyZW50TGF5ZXI9bi5sZW5ndGgtMTt0aGlzLmN1cnJlbnRMYXllcj49MDt0aGlzLmN1cnJlbnRMYXllci0tKXtjb25zdCBlPXRoaXMuc3R5bGUuX2xheWVyc1tuW3RoaXMuY3VycmVudExheWVyXV0scj10Ll9nZXRMYXllclNvdXJjZUNhY2hlKGUpO2lmKGUuaXNTa3koKSljb250aW51ZTtjb25zdCBpPXI/YVtyLmlkXTp2b2lkIDA7dGhpcy5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MoZSxyLGkpLHRoaXMucmVuZGVyTGF5ZXIodGhpcyxyLGUsaSl9aWYodGhpcy5zdHlsZS5mb2cmJnRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2cmJmZ1bmN0aW9uKHQscil7Y29uc3Qgbj10LmNvbnRleHQsaT1uLmdsLG89dC50cmFuc2Zvcm0sYT1uZXcgZS5EZXB0aE1vZGUoaS5MRVFVQUwsZS5EZXB0aE1vZGUuUmVhZE9ubHksWzAsMV0pLHM9dC51c2VQcm9ncmFtKFwiZ2xvYmVBdG1vc3BoZXJlXCIsbnVsbCxcImdsb2JlXCI9PT1vLnByb2plY3Rpb24ubmFtZT9bXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIixcIkZPR1wiXTpbXCJGT0dcIl0pLGw9ZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKG8uem9vbSksYz1yLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIikudG9BcnJheTAxKCksdT1yLnByb3BlcnRpZXMuZ2V0KFwiaGlnaC1jb2xvclwiKS50b0FycmF5MDEoKSxoPXIucHJvcGVydGllcy5nZXQoXCJzcGFjZS1jb2xvclwiKS50b0FycmF5MDFQcmVtdWx0aXBsaWVkQWxwaGEoKSxkPWUuaWRlbnRpdHkkMShbXSk7ZS5yb3RhdGVZJDEoZCxkLC1lLmRlZ1RvUmFkKG8uX2NlbnRlci5sbmcpKSxlLnJvdGF0ZVgkMShkLGQsZS5kZWdUb1JhZChvLl9jZW50ZXIubGF0KSksZS5yb3RhdGVaJDEoZCxkLG8uYW5nbGUpLGUucm90YXRlWCQxKGQsZCwtby5fcGl0Y2gpO2NvbnN0IHA9ZS5mcm9tUXVhdChuZXcgRmxvYXQzMkFycmF5KDE2KSxkKSxmPWUubWFwVmFsdWUoci5wcm9wZXJ0aWVzLmdldChcInN0YXItaW50ZW5zaXR5XCIpLDAsMSwwLC4yNSksbT01ZS00LGc9ZS5tYXBWYWx1ZShyLnByb3BlcnRpZXMuZ2V0KFwiaG9yaXpvbi1ibGVuZFwiKSwwLDEsbSwuMjUpLF89ZS5nbG9iZVVzZUN1c3RvbUFudGlBbGlhc2luZyh0LG4sbykmJmc9PT1tP28ud29ybGRTaXplLygyKk1hdGguUEkqMS4wMjUpLTE6by5nbG9iZVJhZGl1cyx5PXQuZnJhbWVDb3VudGVyLzFlMyUxLHY9ZS5sZW5ndGgoby5nbG9iZUNlbnRlckluVmlld1NwYWNlKSx4PU1hdGguc3FydChNYXRoLnBvdyh2LDIpLU1hdGgucG93KF8sMikpLGI9TWF0aC5hY29zKHgvdiksdz0oKHQscixuLGksbyxhLHMsbCxjLHUsaCxkLHAsZik9Pih7dV9mcnVzdHVtX3RsOnQsdV9mcnVzdHVtX3RyOnIsdV9mcnVzdHVtX2JyOm4sdV9mcnVzdHVtX2JsOmksdV9ob3Jpem9uOm8sdV90cmFuc2l0aW9uOmEsdV9mYWRlb3V0X3JhbmdlOnMsdV9jb2xvcjpsLHVfaGlnaF9jb2xvcjpjLHVfc3BhY2VfY29sb3I6dSx1X3N0YXJfaW50ZW5zaXR5OmgsdV9zdGFyX3NpemU6NSplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sdV9zdGFyX2RlbnNpdHk6MCx1X3RlbXBvcmFsX29mZnNldDpkLHVfaG9yaXpvbl9hbmdsZTpwLHVfcm90YXRpb25fbWF0cml4OmZ9KSkoby5mcnVzdHVtQ29ybmVycy5UTCxvLmZydXN0dW1Db3JuZXJzLlRSLG8uZnJ1c3R1bUNvcm5lcnMuQlIsby5mcnVzdHVtQ29ybmVycy5CTCxvLmZydXN0dW1Db3JuZXJzLmhvcml6b24sbCxnLGMsdSxoLGYseSxiLHApO3QucHJlcGFyZURyYXdQcm9ncmFtKG4scyk7Y29uc3QgVD10LmF0bW9zcGhlcmVCdWZmZXI7VCYmcy5kcmF3KG4saS5UUklBTkdMRVMsYSxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGUuQ29sb3JNb2RlLmFscGhhQmxlbmRlZCxlLkN1bGxGYWNlTW9kZS5iYWNrQ1csdyxcInNreWJveFwiLFQudmVydGV4QnVmZmVyLFQuaW5kZXhCdWZmZXIsVC5zZWdtZW50cyl9KHRoaXMsdGhpcy5zdHlsZS5mb2cpLHRoaXMucmVuZGVyUGFzcz1cInNreVwiLChlLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odGhpcy50cmFuc2Zvcm0uem9vbSk+MHx8XCJnbG9iZVwiIT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKSYmdGhpcy50cmFuc2Zvcm0uaXNIb3Jpem9uVmlzaWJsZSgpKWZvcih0aGlzLmN1cnJlbnRMYXllcj0wO3RoaXMuY3VycmVudExheWVyPG4ubGVuZ3RoO3RoaXMuY3VycmVudExheWVyKyspe2NvbnN0IGU9dGhpcy5zdHlsZS5fbGF5ZXJzW25bdGhpcy5jdXJyZW50TGF5ZXJdXSxyPXQuX2dldExheWVyU291cmNlQ2FjaGUoZSk7ZS5pc1NreSgpJiZ0aGlzLnJlbmRlckxheWVyKHRoaXMscixlLHI/YVtyLmlkXTp2b2lkIDApfWZvcih0aGlzLnJlbmRlclBhc3M9XCJ0cmFuc2x1Y2VudFwiLHRoaXMuY3VycmVudExheWVyPTA7dGhpcy5jdXJyZW50TGF5ZXI8bi5sZW5ndGg7KXtjb25zdCBlPXRoaXMuc3R5bGUuX2xheWVyc1tuW3RoaXMuY3VycmVudExheWVyXV0scj10Ll9nZXRMYXllclNvdXJjZUNhY2hlKGUpO2lmKGUuaXNTa3koKSl7Kyt0aGlzLmN1cnJlbnRMYXllcjtjb250aW51ZX1pZih0aGlzLnRlcnJhaW4mJnRoaXMuc3R5bGUuaXNMYXllckRyYXBlZChlKSl7aWYoZS5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSl7Kyt0aGlzLmN1cnJlbnRMYXllcjtjb250aW51ZX10aGlzLmN1cnJlbnRMYXllcj10aGlzLnRlcnJhaW4ucmVuZGVyQmF0Y2godGhpcy5jdXJyZW50TGF5ZXIpO2NvbnRpbnVlfWNvbnN0IGk9cj8oXCJzeW1ib2xcIj09PWUudHlwZT9zOmEpW3IuaWRdOnZvaWQgMDt0aGlzLl9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyhlLHIscj9vW3IuaWRdOnZvaWQgMCksdGhpcy5yZW5kZXJMYXllcih0aGlzLHIsZSxpKSwrK3RoaXMuY3VycmVudExheWVyfWlmKHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnBvc3RSZW5kZXIoKSx0aGlzLm9wdGlvbnMuc2hvd1RpbGVCb3VuZGFyaWVzfHx0aGlzLm9wdGlvbnMuc2hvd1F1ZXJ5R2VvbWV0cnl8fHRoaXMub3B0aW9ucy5zaG93VGlsZUFBQkJzKXtsZXQgcj1udWxsO2UudmFsdWVzKHRoaXMuc3R5bGUuX2xheWVycykuZm9yRWFjaChlPT57Y29uc3Qgbj10Ll9nZXRMYXllclNvdXJjZUNhY2hlKGUpO24mJiFlLmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pJiYoIXJ8fHIuZ2V0U291cmNlKCkubWF4em9vbTxuLmdldFNvdXJjZSgpLm1heHpvb20pJiYocj1uKX0pLHImJnRoaXMub3B0aW9ucy5zaG93VGlsZUJvdW5kYXJpZXMmJkJuLmRlYnVnKHRoaXMscixyLmdldFZpc2libGVDb29yZGluYXRlcygpKX10aGlzLm9wdGlvbnMuc2hvd1BhZGRpbmcmJmZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS50cmFuc2Zvcm0ucGFkZGluZztNbihlLGUudHJhbnNmb3JtLmhlaWdodC0odC50b3B8fDApLDMsYm4pLE1uKGUsdC5ib3R0b218fDAsMyx3biksa24oZSx0LmxlZnR8fDAsMyxUbiksa24oZSxlLnRyYW5zZm9ybS53aWR0aC0odC5yaWdodHx8MCksMyxFbik7Y29uc3Qgcj1lLnRyYW5zZm9ybS5jZW50ZXJQb2ludDshZnVuY3Rpb24oZSx0LHIsbil7QW4oZSx0LTEsci0xMCwyLDIwLG4pLEFuKGUsdC0xMCxyLTEsMjAsMixuKX0oZSxyLngsZS50cmFuc2Zvcm0uaGVpZ2h0LXIueSxTbil9KHRoaXMpLHRoaXMuY29udGV4dC5zZXREZWZhdWx0KCksdGhpcy5mcmFtZUNvdW50ZXI9KHRoaXMuZnJhbWVDb3VudGVyKzEpJU51bWJlci5NQVhfU0FGRV9JTlRFR0VSLHRoaXMudGlsZUxvYWRlZCYmdGhpcy5vcHRpb25zLnNwZWVkSW5kZXhUaW1pbmcmJih0aGlzLmxvYWRUaW1lU3RhbXBzLnB1c2goZS53aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpLHRoaXMuc2F2ZUNhbnZhc0NvcHkoKSl9fXJlbmRlckxheWVyKGUsdCxyLG4pe3IuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSl8fChcImJhY2tncm91bmRcIj09PXIudHlwZXx8XCJza3lcIj09PXIudHlwZXx8XCJjdXN0b21cIj09PXIudHlwZXx8biYmbi5sZW5ndGgpJiYodGhpcy5pZD1yLmlkLHRoaXMuZ3B1VGltaW5nU3RhcnQociksZS50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVycyYmZS50cmFuc2Zvcm0ucHJvamVjdGlvbi51bnN1cHBvcnRlZExheWVycy5pbmNsdWRlcyhyLnR5cGUpfHxCbltyLnR5cGVdKGUsdCxyLG4sdGhpcy5zdHlsZS5wbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzLHRoaXMub3B0aW9ucy5pc0luaXRpYWxMb2FkKSx0aGlzLmdwdVRpbWluZ0VuZCgpKX1ncHVUaW1pbmdTdGFydChlKXtpZighdGhpcy5vcHRpb25zLmdwdVRpbWluZylyZXR1cm47Y29uc3QgdD10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeTtsZXQgcj10aGlzLmdwdVRpbWVyc1tlLmlkXTtyfHwocj10aGlzLmdwdVRpbWVyc1tlLmlkXT17Y2FsbHM6MCxjcHVUaW1lOjAscXVlcnk6dC5jcmVhdGVRdWVyeUVYVCgpfSksci5jYWxscysrLHQuYmVnaW5RdWVyeUVYVCh0LlRJTUVfRUxBUFNFRF9FWFQsci5xdWVyeSl9Z3B1VGltaW5nRGVmZXJyZWRSZW5kZXJTdGFydCgpe2lmKHRoaXMub3B0aW9ucy5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlcil7Y29uc3QgZT10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeSx0PWUuY3JlYXRlUXVlcnlFWFQoKTt0aGlzLmRlZmVycmVkUmVuZGVyR3B1VGltZVF1ZXJpZXMucHVzaCh0KSxlLmJlZ2luUXVlcnlFWFQoZS5USU1FX0VMQVBTRURfRVhULHQpfX1ncHVUaW1pbmdEZWZlcnJlZFJlbmRlckVuZCgpe2lmKCF0aGlzLm9wdGlvbnMuZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXIpcmV0dXJuO2NvbnN0IGU9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7ZS5lbmRRdWVyeUVYVChlLlRJTUVfRUxBUFNFRF9FWFQpfWdwdVRpbWluZ0VuZCgpe2lmKCF0aGlzLm9wdGlvbnMuZ3B1VGltaW5nKXJldHVybjtjb25zdCBlPXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5O2UuZW5kUXVlcnlFWFQoZS5USU1FX0VMQVBTRURfRVhUKX1jb2xsZWN0R3B1VGltZXJzKCl7Y29uc3QgZT10aGlzLmdwdVRpbWVycztyZXR1cm4gdGhpcy5ncHVUaW1lcnM9e30sZX1jb2xsZWN0RGVmZXJyZWRSZW5kZXJHcHVRdWVyaWVzKCl7Y29uc3QgZT10aGlzLmRlZmVycmVkUmVuZGVyR3B1VGltZVF1ZXJpZXM7cmV0dXJuIHRoaXMuZGVmZXJyZWRSZW5kZXJHcHVUaW1lUXVlcmllcz1bXSxlfXF1ZXJ5R3B1VGltZXJzKGUpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IHIgaW4gZSl7Y29uc3Qgbj1lW3JdLGk9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnksbz1pLmdldFF1ZXJ5T2JqZWN0RVhUKG4ucXVlcnksaS5RVUVSWV9SRVNVTFRfRVhUKS8xZTY7aS5kZWxldGVRdWVyeUVYVChuLnF1ZXJ5KSx0W3JdPW99cmV0dXJuIHR9cXVlcnlHcHVUaW1lRGVmZXJyZWRSZW5kZXIoZSl7aWYoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlcilyZXR1cm4gMDtjb25zdCB0PXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5O2xldCByPTA7Zm9yKGNvbnN0IG4gb2YgZSlyKz10LmdldFF1ZXJ5T2JqZWN0RVhUKG4sdC5RVUVSWV9SRVNVTFRfRVhUKS8xZTYsdC5kZWxldGVRdWVyeUVYVChuKTtyZXR1cm4gcn10cmFuc2xhdGVQb3NNYXRyaXgodCxyLG4saSxvKXtpZighblswXSYmIW5bMV0pcmV0dXJuIHQ7Y29uc3QgYT1vP1wibWFwXCI9PT1pP3RoaXMudHJhbnNmb3JtLmFuZ2xlOjA6XCJ2aWV3cG9ydFwiPT09aT8tdGhpcy50cmFuc2Zvcm0uYW5nbGU6MDtpZihhKXtjb25zdCBlPU1hdGguc2luKGEpLHQ9TWF0aC5jb3MoYSk7bj1bblswXSp0LW5bMV0qZSxuWzBdKmUrblsxXSp0XX1jb25zdCBzPVtvP25bMF06RChyLG5bMF0sdGhpcy50cmFuc2Zvcm0uem9vbSksbz9uWzFdOkQocixuWzFdLHRoaXMudHJhbnNmb3JtLnpvb20pLDBdLGw9bmV3IEZsb2F0MzJBcnJheSgxNik7cmV0dXJuIGUudHJhbnNsYXRlKGwsdCxzKSxsfXNhdmVUaWxlVGV4dHVyZShlKXtjb25zdCB0PXRoaXMuX3RpbGVUZXh0dXJlc1tlLnNpemVbMF1dO3Q/dC5wdXNoKGUpOnRoaXMuX3RpbGVUZXh0dXJlc1tlLnNpemVbMF1dPVtlXX1nZXRUaWxlVGV4dHVyZShlKXtjb25zdCB0PXRoaXMuX3RpbGVUZXh0dXJlc1tlXTtyZXR1cm4gdCYmdC5sZW5ndGg+MD90LnBvcCgpOm51bGx9aXNQYXR0ZXJuTWlzc2luZyhlKXtpZighZSlyZXR1cm4hMTtpZighZS5mcm9tfHwhZS50bylyZXR1cm4hMDtjb25zdCB0PXRoaXMuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oZS5mcm9tLnRvU3RyaW5nKCkpLHI9dGhpcy5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihlLnRvLnRvU3RyaW5nKCkpO3JldHVybiF0fHwhcn10ZXJyYWluUmVuZGVyTW9kZUVsZXZhdGVkKCl7cmV0dXJuIHRoaXMuc3R5bGUmJiEhdGhpcy5zdHlsZS5nZXRUZXJyYWluKCkmJiEhdGhpcy50ZXJyYWluJiYhdGhpcy50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZX1jdXJyZW50R2xvYmFsRGVmaW5lcygpe2NvbnN0IGU9dGhpcy50ZXJyYWluJiZ0aGlzLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlLHQ9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5mb2cscj1bXTtyZXR1cm4gdGhpcy50ZXJyYWluUmVuZGVyTW9kZUVsZXZhdGVkKCkmJnIucHVzaChcIlRFUlJBSU5cIiksXCJnbG9iZVwiPT09dGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lJiZyLnB1c2goXCJHTE9CRVwiKSx0JiYhZSYmMCE9PXQuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCkmJnIucHVzaChcIkZPR1wiKSxlJiZyLnB1c2goXCJSRU5ERVJfVE9fVEVYVFVSRVwiKSx0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3ImJnIucHVzaChcIk9WRVJEUkFXX0lOU1BFQ1RPUlwiKSxyfXVzZVByb2dyYW0oZSx0LHIpe3RoaXMuY2FjaGU9dGhpcy5jYWNoZXx8e307Y29uc3Qgbj1yfHxbXSxpPXRoaXMuY3VycmVudEdsb2JhbERlZmluZXMoKS5jb25jYXQobiksbz1Eci5jYWNoZUtleShkcltlXSxlLGksdCk7cmV0dXJuIHRoaXMuY2FjaGVbb118fCh0aGlzLmNhY2hlW29dPW5ldyBEcih0aGlzLmNvbnRleHQsZSxkcltlXSx0LGNuW2VdLGkpKSx0aGlzLmNhY2hlW29dfXNldEN1c3RvbUxheWVyRGVmYXVsdHMoKXt0aGlzLmNvbnRleHQudW5iaW5kVkFPKCksdGhpcy5jb250ZXh0LmN1bGxGYWNlLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQuZnJvbnRGYWNlLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQuY3VsbEZhY2VTaWRlLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LnBpeGVsU3RvcmVVbnBhY2suc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXREZWZhdWx0KCl9c2V0QmFzZVN0YXRlKCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2w7dGhpcy5jb250ZXh0LmN1bGxGYWNlLnNldCghMSksdGhpcy5jb250ZXh0LnZpZXdwb3J0LnNldChbMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHRdKSx0aGlzLmNvbnRleHQuYmxlbmRFcXVhdGlvbi5zZXQoZS5GVU5DX0FERCl9aW5pdERlYnVnT3ZlcmxheUNhbnZhcygpe251bGw9PXRoaXMuZGVidWdPdmVybGF5Q2FudmFzJiYodGhpcy5kZWJ1Z092ZXJsYXlDYW52YXM9ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSx0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcy53aWR0aD01MTIsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMuaGVpZ2h0PTUxMix0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmU9bmV3IGUuVGV4dHVyZSh0aGlzLmNvbnRleHQsdGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMsdGhpcy5jb250ZXh0LmdsLlJHQkEpKX1kZXN0cm95KCl7dGhpcy5fdGVycmFpbiYmdGhpcy5fdGVycmFpbi5kZXN0cm95KCksdGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnMmJnRoaXMuZ2xvYmVTaGFyZWRCdWZmZXJzLmRlc3Ryb3koKSx0aGlzLmVtcHR5VGV4dHVyZS5kZXN0cm95KCksdGhpcy5kZWJ1Z092ZXJsYXlUZXh0dXJlJiZ0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmUuZGVzdHJveSgpLHRoaXMuYXRtb3NwaGVyZUJ1ZmZlciYmdGhpcy5hdG1vc3BoZXJlQnVmZmVyLmRlc3Ryb3koKX1wcmVwYXJlRHJhd1RpbGUoKXt0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5wcmVwYXJlRHJhd1RpbGUoKX1wcmVwYXJlRHJhd1Byb2dyYW0odCxyLG4pe2lmKHRoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSlyZXR1cm47Y29uc3QgaT10aGlzLnN0eWxlLmZvZztpZihpKXtjb25zdCBvPWkuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCksYT0oKHQscixuLGksbyxhLHMsbCxjLHUsaCk9Pntjb25zdCBkPXQudHJhbnNmb3JtLHA9ci5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLnRvQXJyYXkwMSgpO3BbM109aTtjb25zdCBmPXQuZnJhbWVDb3VudGVyLzFlMyUxO3JldHVybnt1X2ZvZ19tYXRyaXg6bj9kLmNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgobik6dC5pZGVudGl0eU1hdCx1X2ZvZ19yYW5nZTpyLmdldEZvdkFkanVzdGVkUmFuZ2UoZC5fZm92KSx1X2ZvZ19jb2xvcjpwLHVfZm9nX2hvcml6b25fYmxlbmQ6ci5wcm9wZXJ0aWVzLmdldChcImhvcml6b24tYmxlbmRcIiksdV9mb2dfdGVtcG9yYWxfb2Zmc2V0OmYsdV9mcnVzdHVtX3RsOm8sdV9mcnVzdHVtX3RyOmEsdV9mcnVzdHVtX2JyOnMsdV9mcnVzdHVtX2JsOmwsdV9nbG9iZV9wb3M6Yyx1X2dsb2JlX3JhZGl1czp1LHVfdmlld3BvcnQ6aCx1X2dsb2JlX3RyYW5zaXRpb246ZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKGQuem9vbSksdV9pc19nbG9iZTorKFwiZ2xvYmVcIj09PWQucHJvamVjdGlvbi5uYW1lKX19KSh0aGlzLGksbixvLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRMLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLlRSLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJSLHRoaXMudHJhbnNmb3JtLmZydXN0dW1Db3JuZXJzLkJMLHRoaXMudHJhbnNmb3JtLmdsb2JlQ2VudGVySW5WaWV3U3BhY2UsdGhpcy50cmFuc2Zvcm0uZ2xvYmVSYWRpdXMsW3RoaXMudHJhbnNmb3JtLndpZHRoKmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx0aGlzLnRyYW5zZm9ybS5oZWlnaHQqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvXSk7ci5zZXRGb2dVbmlmb3JtVmFsdWVzKHQsYSl9fXNldFRpbGVMb2FkZWRGbGFnKGUpe3RoaXMudGlsZUxvYWRlZD1lfXNhdmVDYW52YXNDb3B5KCl7dGhpcy5mcmFtZUNvcGllcy5wdXNoKHRoaXMuY2FudmFzQ29weSgpKSx0aGlzLnRpbGVMb2FkZWQ9ITF9Y2FudmFzQ29weSgpe2NvbnN0IGU9dGhpcy5jb250ZXh0LmdsLHQ9ZS5jcmVhdGVUZXh0dXJlKCk7cmV0dXJuIGUuYmluZFRleHR1cmUoZS5URVhUVVJFXzJELHQpLGUuY29weVRleEltYWdlMkQoZS5URVhUVVJFXzJELDAsZS5SR0JBLDAsMCxlLmRyYXdpbmdCdWZmZXJXaWR0aCxlLmRyYXdpbmdCdWZmZXJIZWlnaHQsMCksdH1nZXRDYW52YXNDb3BpZXNBbmRUaW1lc3RhbXBzKCl7cmV0dXJue2NhbnZhc0NvcGllczp0aGlzLmZyYW1lQ29waWVzLHRpbWVTdGFtcHM6dGhpcy5sb2FkVGltZVN0YW1wc319YXZlcmFnZUVsZXZhdGlvbk5lZWRzRWFzaW5nKCl7aWYoIXRoaXMudHJhbnNmb3JtLl9lbGV2YXRpb24pcmV0dXJuITE7Y29uc3QgZT10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmZvZztyZXR1cm4hIWUmJjAhPT1lLmdldE9wYWNpdHkodGhpcy50cmFuc2Zvcm0ucGl0Y2gpfWdldEJhY2tncm91bmRUaWxlcygpe2NvbnN0IHQ9dGhpcy5fYmFja2dyb3VuZFRpbGVzLHI9dGhpcy5fYmFja2dyb3VuZFRpbGVzPXt9LG49dGhpcy50cmFuc2Zvcm0uY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6NTEyfSk7Zm9yKGNvbnN0IGkgb2YgbilyW2kua2V5XT10W2kua2V5XXx8bmV3IGUuVGlsZShpLDUxMix0aGlzLnRyYW5zZm9ybS50aWxlWm9vbSx0aGlzKTtyZXR1cm4gcn1jbGVhckJhY2tncm91bmRUaWxlcygpe3RoaXMuX2JhY2tncm91bmRUaWxlcz17fX19Y2xhc3Mgam57Y29uc3RydWN0b3IoZT0wLHQ9MCxyPTAsbj0wKXtpZihpc05hTihlKXx8ZTwwfHxpc05hTih0KXx8dDwwfHxpc05hTihyKXx8cjwwfHxpc05hTihuKXx8bjwwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIGVkZ2UtaW5zZXRzLCB0b3AsIGJvdHRvbSwgbGVmdCBhbmQgcmlnaHQgbXVzdCBhbGwgYmUgbnVtYmVyc1wiKTt0aGlzLnRvcD1lLHRoaXMuYm90dG9tPXQsdGhpcy5sZWZ0PXIsdGhpcy5yaWdodD1ufWludGVycG9sYXRlKHQscixuKXtyZXR1cm4gbnVsbCE9ci50b3AmJm51bGwhPXQudG9wJiYodGhpcy50b3A9ZS5udW1iZXIodC50b3Asci50b3AsbikpLG51bGwhPXIuYm90dG9tJiZudWxsIT10LmJvdHRvbSYmKHRoaXMuYm90dG9tPWUubnVtYmVyKHQuYm90dG9tLHIuYm90dG9tLG4pKSxudWxsIT1yLmxlZnQmJm51bGwhPXQubGVmdCYmKHRoaXMubGVmdD1lLm51bWJlcih0LmxlZnQsci5sZWZ0LG4pKSxudWxsIT1yLnJpZ2h0JiZudWxsIT10LnJpZ2h0JiYodGhpcy5yaWdodD1lLm51bWJlcih0LnJpZ2h0LHIucmlnaHQsbikpLHRoaXN9Z2V0Q2VudGVyKHQscil7Y29uc3Qgbj1lLmNsYW1wKCh0aGlzLmxlZnQrdC10aGlzLnJpZ2h0KS8yLDAsdCksaT1lLmNsYW1wKCh0aGlzLnRvcCtyLXRoaXMuYm90dG9tKS8yLDAscik7cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkobixpKX1lcXVhbHMoZSl7cmV0dXJuIHRoaXMudG9wPT09ZS50b3AmJnRoaXMuYm90dG9tPT09ZS5ib3R0b20mJnRoaXMubGVmdD09PWUubGVmdCYmdGhpcy5yaWdodD09PWUucmlnaHR9Y2xvbmUoKXtyZXR1cm4gbmV3IGpuKHRoaXMudG9wLHRoaXMuYm90dG9tLHRoaXMubGVmdCx0aGlzLnJpZ2h0KX10b0pTT04oKXtyZXR1cm57dG9wOnRoaXMudG9wLGJvdHRvbTp0aGlzLmJvdHRvbSxsZWZ0OnRoaXMubGVmdCxyaWdodDp0aGlzLnJpZ2h0fX19ZnVuY3Rpb24gVW4odCxyKXtjb25zdCBuPWUuZ2V0Q29sdW1uKHQsMyk7ZS5mcm9tUXVhdCh0LHIpLGUuc2V0Q29sdW1uKHQsMyxuKX1mdW5jdGlvbiBObih0LHIpe2NvbnN0IG49ZS5pZGVudGl0eSQxKFtdKTtyZXR1cm4gZS5yb3RhdGVaJDEobixuLC1yKSxlLnJvdGF0ZVgkMShuLG4sLXQpLG59ZnVuY3Rpb24gVm4odCxyKXtjb25zdCBuPVt0WzBdLHRbMV0sMF0saT1bclswXSxyWzFdLDBdO2lmKGUubGVuZ3RoKG4pPj0xZS0xNSl7Y29uc3QgdD1lLm5vcm1hbGl6ZShbXSxuKTtlLnNjYWxlJDIoaSx0LGUuZG90KGksdCkpLHJbMF09aVswXSxyWzFdPWlbMV19Y29uc3Qgbz1lLmNyb3NzKFtdLHIsdCk7aWYoZS5sZW4obyk8MWUtMTUpcmV0dXJuIG51bGw7Y29uc3QgYT1NYXRoLmF0YW4yKC1vWzFdLG9bMF0pO3JldHVybiBObihNYXRoLmF0YW4yKE1hdGguc3FydCh0WzBdKnRbMF0rdFsxXSp0WzFdKSwtdFsyXSksYSl9Y2xhc3MgR257Y29uc3RydWN0b3IoZSx0KXt0aGlzLnBvc2l0aW9uPWUsdGhpcy5vcmllbnRhdGlvbj10fWdldCBwb3NpdGlvbigpe3JldHVybiB0aGlzLl9wb3NpdGlvbn1zZXQgcG9zaXRpb24odCl7aWYodCl7Y29uc3Qgcj10IGluc3RhbmNlb2YgZS5NZXJjYXRvckNvb3JkaW5hdGU/dDpuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodFswXSx0WzFdLHRbMl0pO3RoaXMuX3JlbmRlcldvcmxkQ29waWVzJiYoci54PWUud3JhcChyLngsMCwxKSksdGhpcy5fcG9zaXRpb249cn1lbHNlIHRoaXMuX3Bvc2l0aW9uPW51bGx9bG9va0F0UG9pbnQodCxyKXtpZih0aGlzLm9yaWVudGF0aW9uPW51bGwsIXRoaXMucG9zaXRpb24pcmV0dXJuO2NvbnN0IG49dGhpcy5fZWxldmF0aW9uP3RoaXMuX2VsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKGUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQodCkpOjAsaT10aGlzLnBvc2l0aW9uLG89ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCh0LG4pLGE9W28ueC1pLngsby55LWkueSxvLnotaS56XTtyfHwocj1bMCwwLDFdKSxyWzJdPU1hdGguYWJzKHJbMl0pLHRoaXMub3JpZW50YXRpb249Vm4oYSxyKX1zZXRQaXRjaEJlYXJpbmcodCxyKXt0aGlzLm9yaWVudGF0aW9uPU5uKGUuZGVnVG9SYWQodCksZS5kZWdUb1JhZCgtcikpfX1jbGFzcyBxbntjb25zdHJ1Y3Rvcih0LHIpe3RoaXMuX3RyYW5zZm9ybT1lLmlkZW50aXR5KFtdKSx0aGlzLm9yaWVudGF0aW9uPXIsdGhpcy5wb3NpdGlvbj10fWdldCBtZXJjYXRvclBvc2l0aW9uKCl7Y29uc3QgdD10aGlzLnBvc2l0aW9uO3JldHVybiBuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodFswXSx0WzFdLHRbMl0pfWdldCBwb3NpdGlvbigpe2NvbnN0IHQ9ZS5nZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLDMpO3JldHVyblt0WzBdLHRbMV0sdFsyXV19c2V0IHBvc2l0aW9uKHQpe3ZhciByO3QmJmUuc2V0Q29sdW1uKHRoaXMuX3RyYW5zZm9ybSwzLFsocj10KVswXSxyWzFdLHJbMl0sMV0pfWdldCBvcmllbnRhdGlvbigpe3JldHVybiB0aGlzLl9vcmllbnRhdGlvbn1zZXQgb3JpZW50YXRpb24odCl7dGhpcy5fb3JpZW50YXRpb249dHx8ZS5pZGVudGl0eSQxKFtdKSx0JiZVbih0aGlzLl90cmFuc2Zvcm0sdGhpcy5fb3JpZW50YXRpb24pfWdldFBpdGNoQmVhcmluZygpe2NvbnN0IGU9dGhpcy5mb3J3YXJkKCksdD10aGlzLnJpZ2h0KCk7cmV0dXJue2JlYXJpbmc6TWF0aC5hdGFuMigtdFsxXSx0WzBdKSxwaXRjaDpNYXRoLmF0YW4yKE1hdGguc3FydChlWzBdKmVbMF0rZVsxXSplWzFdKSwtZVsyXSl9fXNldFBpdGNoQmVhcmluZyhlLHQpe3RoaXMuX29yaWVudGF0aW9uPU5uKGUsdCksVW4odGhpcy5fdHJhbnNmb3JtLHRoaXMuX29yaWVudGF0aW9uKX1mb3J3YXJkKCl7Y29uc3QgdD1lLmdldENvbHVtbih0aGlzLl90cmFuc2Zvcm0sMik7cmV0dXJuWy10WzBdLC10WzFdLC10WzJdXX11cCgpe2NvbnN0IHQ9ZS5nZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLDEpO3JldHVyblstdFswXSwtdFsxXSwtdFsyXV19cmlnaHQoKXtjb25zdCB0PWUuZ2V0Q29sdW1uKHRoaXMuX3RyYW5zZm9ybSwwKTtyZXR1cm5bdFswXSx0WzFdLHRbMl1dfWdldENhbWVyYVRvV29ybGQodCxyKXtjb25zdCBuPW5ldyBGbG9hdDY0QXJyYXkoMTYpO3JldHVybiBlLmludmVydChuLHRoaXMuZ2V0V29ybGRUb0NhbWVyYSh0LHIpKSxufWdldFdvcmxkVG9DYW1lcmFQb3NpdGlvbih0LHIsbil7Y29uc3QgaT10aGlzLnBvc2l0aW9uO2Uuc2NhbGUkMihpLGksLXQpO2NvbnN0IG89bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIGUuZnJvbVNjYWxpbmcobyxbbixuLG5dKSxlLnRyYW5zbGF0ZShvLG8saSksb1sxMF0qPXIsb31nZXRXb3JsZFRvQ2FtZXJhKHQscil7Y29uc3Qgbj1uZXcgRmxvYXQ2NEFycmF5KDE2KSxpPW5ldyBGbG9hdDY0QXJyYXkoNCksbz10aGlzLnBvc2l0aW9uO3JldHVybiBlLmNvbmp1Z2F0ZShpLHRoaXMuX29yaWVudGF0aW9uKSxlLnNjYWxlJDIobyxvLC10KSxlLmZyb21RdWF0KG4saSksZS50cmFuc2xhdGUobixuLG8pLG5bMV0qPS0xLG5bNV0qPS0xLG5bOV0qPS0xLG5bMTNdKj0tMSxuWzhdKj1yLG5bOV0qPXIsblsxMF0qPXIsblsxMV0qPXIsbn1nZXRDYW1lcmFUb0NsaXBQZXJzcGVjdGl2ZSh0LHIsbixpKXtjb25zdCBvPW5ldyBGbG9hdDY0QXJyYXkoMTYpO3JldHVybiBlLnBlcnNwZWN0aXZlKG8sdCxyLG4saSksb31nZXREaXN0YW5jZVRvRWxldmF0aW9uKHQpe2NvbnN0IHI9MD09PXQ/MDplLm1lcmNhdG9yWmZyb21BbHRpdHVkZSh0LHRoaXMucG9zaXRpb25bMV0pLG49dGhpcy5mb3J3YXJkKCk7cmV0dXJuKHItdGhpcy5wb3NpdGlvblsyXSkvblsyXX1jbG9uZSgpe3JldHVybiBuZXcgcW4oWy4uLnRoaXMucG9zaXRpb25dLFsuLi50aGlzLm9yaWVudGF0aW9uXSl9fWZ1bmN0aW9uIFpuKHQscil7Y29uc3Qgbj1Xbih0LnByb2plY3Rpb24sdC56b29tLHQud2lkdGgsdC5oZWlnaHQpLGk9ZnVuY3Rpb24odCxyLG4saSxvKXtjb25zdCBhPW5ldyBlLkxuZ0xhdChuLmxuZy0xODAqWG4sbi5sYXQpLHM9bmV3IGUuTG5nTGF0KG4ubG5nKzE4MCpYbixuLmxhdCksbD10LnByb2plY3QoYS5sbmcsYS5sYXQpLGM9dC5wcm9qZWN0KHMubG5nLHMubGF0KSx1PS1NYXRoLmF0YW4yKGMueS1sLnksYy54LWwueCksaD1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KG4pO2gueT1lLmNsYW1wKGgueSwtLjk5OTk3NSwuOTk5OTc1KTtjb25zdCBkPWgudG9MbmdMYXQoKSxwPXQucHJvamVjdChkLmxuZyxkLmxhdCksZj1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KGQpO2YueCs9WG47Y29uc3QgbT1mLnRvTG5nTGF0KCksZz10LnByb2plY3QobS5sbmcsbS5sYXQpLF89WW4oZy54LXAueCxnLnktcC55LHUpLHk9ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChkKTt5LnkrPVhuO2NvbnN0IHY9eS50b0xuZ0xhdCgpLHg9dC5wcm9qZWN0KHYubG5nLHYubGF0KSxiPVluKHgueC1wLngseC55LXAueSx1KSx3PU1hdGguYWJzKF8ueCkvTWF0aC5hYnMoYi55KSxUPWUuaWRlbnRpdHkoW10pO2Uucm90YXRlWihULFQsLXUqKDEtKG8/MDppKSkpO2NvbnN0IEU9ZS5pZGVudGl0eShbXSk7cmV0dXJuIGUuc2NhbGUoRSxFLFsxLDEtKDEtdykqaSwxXSksRVs0XT0tYi54L2IueSppLGUucm90YXRlWihFLEUsdSksZS5tdWx0aXBseShFLFQsRSksRX0odC5wcm9qZWN0aW9uLDAsdC5jZW50ZXIsbixyKSxvPSRuKHQpO3JldHVybiBlLnNjYWxlKGksaSxbbyxvLDFdKSxpfWZ1bmN0aW9uICRuKHQpe2NvbnN0IHI9dC5wcm9qZWN0aW9uLG49V24odC5wcm9qZWN0aW9uLHQuem9vbSx0LndpZHRoLHQuaGVpZ2h0KSxpPUhuKHIsdC5jZW50ZXIpLG89SG4ocixlLkxuZ0xhdC5jb252ZXJ0KHIuY2VudGVyKSk7cmV0dXJuIE1hdGgucG93KDIsaSpuKygxLW4pKm8pfWZ1bmN0aW9uIFduKHQscixuLGksbz0xLzApe2NvbnN0IGE9dC5yYW5nZTtpZighYSlyZXR1cm4gMDtjb25zdCBzPU1hdGgubWluKG8sTWF0aC5tYXgobixpKSksbD1NYXRoLmxvZyhzLzEwMjQpL01hdGguTE4yO3JldHVybiBlLnNtb290aHN0ZXAoYVswXStsLGFbMV0rbCxyKX1jb25zdCBYbj0xLzRlNDtmdW5jdGlvbiBIbih0LHIpe2NvbnN0IG49ZS5jbGFtcChyLmxhdCwtZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUsZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUpLGk9bmV3IGUuTG5nTGF0KHIubG5nLTE4MCpYbixuKSxvPW5ldyBlLkxuZ0xhdChyLmxuZysxODAqWG4sbiksYT10LnByb2plY3QoaS5sbmcsbikscz10LnByb2plY3Qoby5sbmcsbiksbD1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KGkpLGM9ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChvKSx1PXMueC1hLngsaD1zLnktYS55LGQ9Yy54LWwueCxwPWMueS1sLnksZj1NYXRoLnNxcnQoKGQqZCtwKnApLyh1KnUraCpoKSk7cmV0dXJuIE1hdGgubG9nKGYpL01hdGguTE4yfWZ1bmN0aW9uIFluKGUsdCxyKXtjb25zdCBuPU1hdGguY29zKHIpLGk9TWF0aC5zaW4ocik7cmV0dXJue3g6ZSpuLXQqaSx5OmUqaSt0Km59fWNsYXNzIEtue2NvbnN0cnVjdG9yKHQscixuLGksbyxhLHMpe3RoaXMudGlsZVNpemU9NTEyLHRoaXMuX3JlbmRlcldvcmxkQ29waWVzPXZvaWQgMD09PW98fG8sdGhpcy5fbWluWm9vbT10fHwwLHRoaXMuX21heFpvb209cnx8MjIsdGhpcy5fbWluUGl0Y2g9bnVsbD09bj8wOm4sdGhpcy5fbWF4UGl0Y2g9bnVsbD09aT82MDppLHRoaXMuc2V0UHJvamVjdGlvbihhKSx0aGlzLnNldE1heEJvdW5kcyhzKSx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLl9jZW50ZXI9bmV3IGUuTG5nTGF0KDAsMCksdGhpcy56b29tPTAsdGhpcy5hbmdsZT0wLHRoaXMuX2Zvdj0uNjQzNTAxMTA4NzkzMjg0NCx0aGlzLl9waXRjaD0wLHRoaXMuX25lYXJaPTAsdGhpcy5fZmFyWj0wLHRoaXMuX3VubW9kaWZpZWQ9ITAsdGhpcy5fZWRnZUluc2V0cz1uZXcgam4sdGhpcy5fcHJvak1hdHJpeENhY2hlPXt9LHRoaXMuX2FsaWduZWRQcm9qTWF0cml4Q2FjaGU9e30sdGhpcy5fZm9nVGlsZU1hdHJpeENhY2hlPXt9LHRoaXMuX2Rpc3RhbmNlVGlsZURhdGFDYWNoZT17fSx0aGlzLl9jYW1lcmE9bmV3IHFuLHRoaXMuX2NlbnRlckFsdGl0dWRlPTAsdGhpcy5fYXZlcmFnZUVsZXZhdGlvbj0wLHRoaXMuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwiZ3JvdW5kXCIsdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbD0xLHRoaXMuZ2xvYmVSYWRpdXM9MCx0aGlzLmdsb2JlQ2VudGVySW5WaWV3U3BhY2U9WzAsMCwwXSx0aGlzLl9ob3Jpem9uU2hpZnQ9LjF9Y2xvbmUoKXtjb25zdCBlPW5ldyBLbih0aGlzLl9taW5ab29tLHRoaXMuX21heFpvb20sdGhpcy5fbWluUGl0Y2gsdGhpcy5tYXhQaXRjaCx0aGlzLl9yZW5kZXJXb3JsZENvcGllcyx0aGlzLmdldFByb2plY3Rpb24oKSk7cmV0dXJuIGUuX2VsZXZhdGlvbj10aGlzLl9lbGV2YXRpb24sZS5fY2VudGVyQWx0aXR1ZGU9dGhpcy5fY2VudGVyQWx0aXR1ZGUsZS5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbj10aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uLGUudGlsZVNpemU9dGhpcy50aWxlU2l6ZSxlLm1lcmNhdG9yRnJvbVRyYW5zaXRpb249dGhpcy5tZXJjYXRvckZyb21UcmFuc2l0aW9uLGUud2lkdGg9dGhpcy53aWR0aCxlLmhlaWdodD10aGlzLmhlaWdodCxlLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT10aGlzLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZSxlLl9jZW50ZXI9dGhpcy5fY2VudGVyLGUuX3NldFpvb20odGhpcy56b29tKSxlLl9zZWFMZXZlbFpvb209dGhpcy5fc2VhTGV2ZWxab29tLGUuYW5nbGU9dGhpcy5hbmdsZSxlLl9mb3Y9dGhpcy5fZm92LGUuX3BpdGNoPXRoaXMuX3BpdGNoLGUuX25lYXJaPXRoaXMuX25lYXJaLGUuX2Zhclo9dGhpcy5fZmFyWixlLl9hdmVyYWdlRWxldmF0aW9uPXRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24sZS5fdW5tb2RpZmllZD10aGlzLl91bm1vZGlmaWVkLGUuX2VkZ2VJbnNldHM9dGhpcy5fZWRnZUluc2V0cy5jbG9uZSgpLGUuX2NhbWVyYT10aGlzLl9jYW1lcmEuY2xvbmUoKSxlLl9jYWxjTWF0cmljZXMoKSxlLmZyZWV6ZVRpbGVDb3ZlcmFnZT10aGlzLmZyZWV6ZVRpbGVDb3ZlcmFnZSxlLmZydXN0dW1Db3JuZXJzPXRoaXMuZnJ1c3R1bUNvcm5lcnMsZX1nZXQgZWxldmF0aW9uKCl7cmV0dXJuIHRoaXMuX2VsZXZhdGlvbn1zZXQgZWxldmF0aW9uKGUpe3RoaXMuX2VsZXZhdGlvbiE9PWUmJih0aGlzLl9lbGV2YXRpb249ZSx0aGlzLl91cGRhdGVDYW1lcmFPblRlcnJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSl9dXBkYXRlRWxldmF0aW9uKGUpe2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uJiZ0aGlzLl9lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkhPT10aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uOyhudWxsPT10aGlzLl9zZWFMZXZlbFpvb218fHQpJiZ0aGlzLl91cGRhdGVDYW1lcmFPblRlcnJhaW4oKSwoZXx8dCkmJnRoaXMuX2NvbnN0cmFpbkNhbWVyYUFsdGl0dWRlKCksdGhpcy5fY2FsY01hdHJpY2VzKCl9Z2V0UHJvamVjdGlvbigpe3JldHVybiBlLnBpY2sodGhpcy5wcm9qZWN0aW9uLFtcIm5hbWVcIixcImNlbnRlclwiLFwicGFyYWxsZWxzXCJdKX1zZXRQcm9qZWN0aW9uKHIpe3RoaXMucHJvamVjdGlvbk9wdGlvbnM9cnx8e25hbWU6XCJtZXJjYXRvclwifTtjb25zdCBuPXRoaXMucHJvamVjdGlvbj90aGlzLmdldFByb2plY3Rpb24oKTp2b2lkIDA7dGhpcy5wcm9qZWN0aW9uPWUuZ2V0UHJvamVjdGlvbih0aGlzLnByb2plY3Rpb25PcHRpb25zKTtjb25zdCBpPSF0KG4sdGhpcy5nZXRQcm9qZWN0aW9uKCkpO3JldHVybiBpJiZ0aGlzLl9jYWxjTWF0cmljZXMoKSx0aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb249ITEsaX1zZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCl7Y29uc3QgdD10aGlzLnByb2plY3Rpb24ubmFtZTt0aGlzLm1lcmNhdG9yRnJvbVRyYW5zaXRpb249ITAsdGhpcy5wcm9qZWN0aW9uT3B0aW9ucz17bmFtZTpcIm1lcmNhdG9yXCJ9LHRoaXMucHJvamVjdGlvbj1lLmdldFByb2plY3Rpb24oe25hbWU6XCJtZXJjYXRvclwifSk7Y29uc3Qgcj10IT09dGhpcy5wcm9qZWN0aW9uLm5hbWU7cmV0dXJuIHImJnRoaXMuX2NhbGNNYXRyaWNlcygpLHJ9Z2V0IG1pblpvb20oKXtyZXR1cm4gdGhpcy5fbWluWm9vbX1zZXQgbWluWm9vbShlKXt0aGlzLl9taW5ab29tIT09ZSYmKHRoaXMuX21pblpvb209ZSx0aGlzLnpvb209TWF0aC5tYXgodGhpcy56b29tLGUpKX1nZXQgbWF4Wm9vbSgpe3JldHVybiB0aGlzLl9tYXhab29tfXNldCBtYXhab29tKGUpe3RoaXMuX21heFpvb20hPT1lJiYodGhpcy5fbWF4Wm9vbT1lLHRoaXMuem9vbT1NYXRoLm1pbih0aGlzLnpvb20sZSkpfWdldCBtaW5QaXRjaCgpe3JldHVybiB0aGlzLl9taW5QaXRjaH1zZXQgbWluUGl0Y2goZSl7dGhpcy5fbWluUGl0Y2ghPT1lJiYodGhpcy5fbWluUGl0Y2g9ZSx0aGlzLnBpdGNoPU1hdGgubWF4KHRoaXMucGl0Y2gsZSkpfWdldCBtYXhQaXRjaCgpe3JldHVybiB0aGlzLl9tYXhQaXRjaH1zZXQgbWF4UGl0Y2goZSl7dGhpcy5fbWF4UGl0Y2ghPT1lJiYodGhpcy5fbWF4UGl0Y2g9ZSx0aGlzLnBpdGNoPU1hdGgubWluKHRoaXMucGl0Y2gsZSkpfWdldCByZW5kZXJXb3JsZENvcGllcygpe3JldHVybiB0aGlzLl9yZW5kZXJXb3JsZENvcGllcyYmITA9PT10aGlzLnByb2plY3Rpb24uc3VwcG9ydHNXb3JsZENvcGllc31zZXQgcmVuZGVyV29ybGRDb3BpZXMoZSl7dm9pZCAwPT09ZT9lPSEwOm51bGw9PT1lJiYoZT0hMSksdGhpcy5fcmVuZGVyV29ybGRDb3BpZXM9ZX1nZXQgd29ybGRTaXplKCl7cmV0dXJuIHRoaXMudGlsZVNpemUqdGhpcy5zY2FsZX1nZXQgY2FtZXJhV29ybGRTaXplKCl7Y29uc3QgZT1NYXRoLm1heCh0aGlzLl9jYW1lcmEuZ2V0RGlzdGFuY2VUb0VsZXZhdGlvbih0aGlzLl9hdmVyYWdlRWxldmF0aW9uKSxOdW1iZXIuRVBTSUxPTik7cmV0dXJuIHRoaXMuX3dvcmxkU2l6ZUZyb21ab29tKHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKGUpKX1nZXQgcGl4ZWxzUGVyTWV0ZXIoKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnBpeGVsc1Blck1ldGVyKHRoaXMuY2VudGVyLmxhdCx0aGlzLndvcmxkU2l6ZSl9Z2V0IGNhbWVyYVBpeGVsc1Blck1ldGVyKCl7cmV0dXJuIGUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKHRoaXMuY2VudGVyLmxhdCx0aGlzLmNhbWVyYVdvcmxkU2l6ZSl9Z2V0IGNlbnRlck9mZnNldCgpe3JldHVybiB0aGlzLmNlbnRlclBvaW50Ll9zdWIodGhpcy5zaXplLl9kaXYoMikpfWdldCBzaXplKCl7cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9Z2V0IGJlYXJpbmcoKXtyZXR1cm4gZS53cmFwKHRoaXMucm90YXRpb24sLTE4MCwxODApfXNldCBiZWFyaW5nKGUpe3RoaXMucm90YXRpb249ZX1nZXQgcm90YXRpb24oKXtyZXR1cm4tdGhpcy5hbmdsZS9NYXRoLlBJKjE4MH1zZXQgcm90YXRpb24odCl7Y29uc3Qgcj0tdCpNYXRoLlBJLzE4MDt2YXIgbjt0aGlzLmFuZ2xlIT09ciYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5hbmdsZT1yLHRoaXMuX2NhbGNNYXRyaWNlcygpLHRoaXMucm90YXRpb25NYXRyaXg9KG49bmV3IGUuQVJSQVlfVFlQRSg0KSxlLkFSUkFZX1RZUEUhPUZsb2F0MzJBcnJheSYmKG5bMV09MCxuWzJdPTApLG5bMF09MSxuWzNdPTEsbiksZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRbMF0saT10WzFdLG89dFsyXSxhPXRbM10scz1NYXRoLnNpbihyKSxsPU1hdGguY29zKHIpO2VbMF09bipsK28qcyxlWzFdPWkqbCthKnMsZVsyXT1uKi1zK28qbCxlWzNdPWkqLXMrYSpsfSh0aGlzLnJvdGF0aW9uTWF0cml4LHRoaXMucm90YXRpb25NYXRyaXgsdGhpcy5hbmdsZSkpfWdldCBwaXRjaCgpe3JldHVybiB0aGlzLl9waXRjaC9NYXRoLlBJKjE4MH1zZXQgcGl0Y2godCl7Y29uc3Qgcj1lLmNsYW1wKHQsdGhpcy5taW5QaXRjaCx0aGlzLm1heFBpdGNoKS8xODAqTWF0aC5QSTt0aGlzLl9waXRjaCE9PXImJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX3BpdGNoPXIsdGhpcy5fY2FsY01hdHJpY2VzKCkpfWdldCBhc3BlY3QoKXtyZXR1cm4gdGhpcy53aWR0aC90aGlzLmhlaWdodH1nZXQgZm92WCgpe3JldHVybiB0aGlzLl9mb3Z9Z2V0IGZvdlkoKXtjb25zdCBlPTEvTWF0aC50YW4oLjUqdGhpcy5mb3ZYKTtyZXR1cm4gMipNYXRoLmF0YW4oMS90aGlzLmFzcGVjdC9lKX1zZXQgZm92KHQpe3Q9TWF0aC5tYXgoLjAxLE1hdGgubWluKDYwLHQpKSx0aGlzLl9mb3YhPT10JiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9mb3Y9ZS5kZWdUb1JhZCh0KSx0aGlzLl9jYWxjTWF0cmljZXMoKSl9Z2V0IGF2ZXJhZ2VFbGV2YXRpb24oKXtyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbn1zZXQgYXZlcmFnZUVsZXZhdGlvbihlKXt0aGlzLl9hdmVyYWdlRWxldmF0aW9uPWUsdGhpcy5fY2FsY0ZvZ01hdHJpY2VzKCksdGhpcy5fZGlzdGFuY2VUaWxlRGF0YUNhY2hlPXt9fWdldCB6b29tKCl7cmV0dXJuIHRoaXMuX3pvb219c2V0IHpvb20oZSl7Y29uc3QgdD1NYXRoLm1pbihNYXRoLm1heChlLHRoaXMubWluWm9vbSksdGhpcy5tYXhab29tKTt0aGlzLl96b29tIT09dCYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fc2V0Wm9vbSh0KSx0aGlzLl91cGRhdGVTZWFMZXZlbFpvb20oKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKSl9X3NldFpvb20oZSl7dGhpcy5fem9vbT1lLHRoaXMuc2NhbGU9dGhpcy56b29tU2NhbGUoZSksdGhpcy50aWxlWm9vbT1NYXRoLmZsb29yKGUpLHRoaXMuem9vbUZyYWN0aW9uPWUtdGhpcy50aWxlWm9vbX1fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCl7aWYoIXRoaXMuX2VsZXZhdGlvbnx8IXRoaXMuX2VsZXZhdGlvbi5pc0RhdGFBdmFpbGFibGVBdFBvaW50KHRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSkpcmV0dXJuIHRoaXMuX2NlbnRlckFsdGl0dWRlPTAsdGhpcy5fc2VhTGV2ZWxab29tPW51bGwsdm9pZCh0aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uPXZvaWQgMCk7Y29uc3QgZT10aGlzLl9lbGV2YXRpb247dGhpcy5fY2VudGVyQWx0aXR1ZGU9ZS5nZXRBdFBvaW50T3JaZXJvKHRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSksdGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbj1lLmV4YWdnZXJhdGlvbigpLHRoaXMuX3VwZGF0ZVNlYUxldmVsWm9vbSgpfV91cGRhdGVTZWFMZXZlbFpvb20oKXt2b2lkIDAhPT10aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uJiYodGhpcy5fc2VhTGV2ZWxab29tPXRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKCh0aGlzLnBpeGVsc1Blck1ldGVyKnRoaXMuX2NlbnRlckFsdGl0dWRlK3RoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSkvdGhpcy53b3JsZFNpemUpKX1zYW1wbGVBdmVyYWdlRWxldmF0aW9uKCl7aWYoIXRoaXMuX2VsZXZhdGlvbilyZXR1cm4gMDtjb25zdCB0PXRoaXMuX2VsZXZhdGlvbixyPVtbLjUsLjJdLFsuMywuNV0sWy41LC41XSxbLjcsLjVdLFsuNSwuOF1dLG49dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtsZXQgaT0wLG89MDtmb3IobGV0IGE9MDthPHIubGVuZ3RoO2ErKyl7Y29uc3Qgcz1uZXcgZS5wb2ludEdlb21ldHJ5KHJbYV1bMF0qdGhpcy53aWR0aCxuK3JbYV1bMV0qKHRoaXMuaGVpZ2h0LW4pKSxsPXQucG9pbnRDb29yZGluYXRlKHMpO2lmKCFsKWNvbnRpbnVlO2NvbnN0IGM9MS9NYXRoLmh5cG90KGxbMF0tdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzBdLGxbMV0tdGhpcy5fY2FtZXJhLnBvc2l0aW9uWzFdKTtpKz1sWzNdKmMsbys9Y31yZXR1cm4gMD09PW8/TmFOOmkvb31nZXQgY2VudGVyKCl7cmV0dXJuIHRoaXMuX2NlbnRlcn1zZXQgY2VudGVyKGUpe2UubGF0PT09dGhpcy5fY2VudGVyLmxhdCYmZS5sbmc9PT10aGlzLl9jZW50ZXIubG5nfHwodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9jZW50ZXI9ZSx0aGlzLl90ZXJyYWluRW5hYmxlZCgpJiYoXCJncm91bmRcIj09PXRoaXMuY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlP3RoaXMuX3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpOnRoaXMuX3VwZGF0ZVpvb21Gcm9tRWxldmF0aW9uKCkpLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpKX1fdXBkYXRlWm9vbUZyb21FbGV2YXRpb24oKXtpZihudWxsPT10aGlzLl9zZWFMZXZlbFpvb218fCF0aGlzLl9lbGV2YXRpb24pcmV0dXJuO2NvbnN0IGU9dGhpcy5fc2VhTGV2ZWxab29tLHQ9dGhpcy5fZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8odGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpKSxyPXRoaXMucGl4ZWxzUGVyTWV0ZXIvdGhpcy53b3JsZFNpemUqdCxuPXRoaXMuX21lcmNhdG9yWmZyb21ab29tKGUpLGk9dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fbWF4Wm9vbSksbz1NYXRoLm1heChuLXIsaSk7dGhpcy5fc2V0Wm9vbSh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihvKSl9Z2V0IHBhZGRpbmcoKXtyZXR1cm4gdGhpcy5fZWRnZUluc2V0cy50b0pTT04oKX1zZXQgcGFkZGluZyhlKXt0aGlzLl9lZGdlSW5zZXRzLmVxdWFscyhlKXx8KHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fZWRnZUluc2V0cy5pbnRlcnBvbGF0ZSh0aGlzLl9lZGdlSW5zZXRzLGUsMSksdGhpcy5fY2FsY01hdHJpY2VzKCkpfWNvbXB1dGVab29tUmVsYXRpdmVUbyh0KXtjb25zdCByPXRoaXMucmF5SW50ZXJzZWN0aW9uQ29vcmRpbmF0ZSh0aGlzLnBvaW50UmF5SW50ZXJzZWN0aW9uKHRoaXMuY2VudGVyUG9pbnQsdC50b0FsdGl0dWRlKCkpKTtsZXQgbjtuPXQuejx0aGlzLl9jYW1lcmEucG9zaXRpb25bMl0/W3IueCxyLnksci56XTpbdC54LHQueSx0LnpdO2NvbnN0IGk9ZS5sZW5ndGgoZS5zdWIoW10sdGhpcy5fY2FtZXJhLnBvc2l0aW9uLG4pKTtyZXR1cm4gZS5jbGFtcCh0aGlzLl96b29tRnJvbU1lcmNhdG9yWihpKSx0aGlzLl9taW5ab29tLHRoaXMuX21heFpvb20pfXNldEZyZWVDYW1lcmFPcHRpb25zKHQpe2lmKCF0aGlzLmhlaWdodClyZXR1cm47aWYoIXQucG9zaXRpb24mJiF0Lm9yaWVudGF0aW9uKXJldHVybjt0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2xldCByPSExO2lmKHQub3JpZW50YXRpb24mJiFlLmV4YWN0RXF1YWxzKHQub3JpZW50YXRpb24sdGhpcy5fY2FtZXJhLm9yaWVudGF0aW9uKSYmKHI9dGhpcy5fc2V0Q2FtZXJhT3JpZW50YXRpb24odC5vcmllbnRhdGlvbikpLHQucG9zaXRpb24pe2NvbnN0IG49W3QucG9zaXRpb24ueCx0LnBvc2l0aW9uLnksdC5wb3NpdGlvbi56XTtlLmV4YWN0RXF1YWxzJDEobix0aGlzLl9jYW1lcmEucG9zaXRpb24pfHwodGhpcy5fc2V0Q2FtZXJhUG9zaXRpb24obikscj0hMCl9ciYmKHRoaXMuX3VwZGF0ZVN0YXRlRnJvbUNhbWVyYSgpLHRoaXMucmVjZW50ZXJPblRlcnJhaW4oKSl9Z2V0RnJlZUNhbWVyYU9wdGlvbnMoKXt0aGlzLl91cGRhdGVDYW1lcmFTdGF0ZSgpO2NvbnN0IHQ9dGhpcy5fY2FtZXJhLnBvc2l0aW9uLHI9bmV3IEduO3JldHVybiByLnBvc2l0aW9uPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0WzBdLHRbMV0sdFsyXSksci5vcmllbnRhdGlvbj10aGlzLl9jYW1lcmEub3JpZW50YXRpb24sci5fZWxldmF0aW9uPXRoaXMuZWxldmF0aW9uLHIuX3JlbmRlcldvcmxkQ29waWVzPXRoaXMucmVuZGVyV29ybGRDb3BpZXMscn1fc2V0Q2FtZXJhT3JpZW50YXRpb24odCl7aWYoIWUubGVuZ3RoJDEodCkpcmV0dXJuITE7ZS5ub3JtYWxpemUkMSh0LHQpO2NvbnN0IHI9ZS50cmFuc2Zvcm1RdWF0KFtdLFswLDAsLTFdLHQpLG49ZS50cmFuc2Zvcm1RdWF0KFtdLFswLC0xLDBdLHQpO2lmKG5bMl08MClyZXR1cm4hMTtjb25zdCBpPVZuKHIsbik7cmV0dXJuISFpJiYodGhpcy5fY2FtZXJhLm9yaWVudGF0aW9uPWksITApfV9zZXRDYW1lcmFQb3NpdGlvbih0KXtjb25zdCByPXRoaXMuem9vbVNjYWxlKHRoaXMubWluWm9vbSkqdGhpcy50aWxlU2l6ZSxuPXRoaXMuem9vbVNjYWxlKHRoaXMubWF4Wm9vbSkqdGhpcy50aWxlU2l6ZSxpPXRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZTt0WzJdPWUuY2xhbXAodFsyXSxpL24saS9yKSx0aGlzLl9jYW1lcmEucG9zaXRpb249dH1nZXQgY2VudGVyUG9pbnQoKXtyZXR1cm4gdGhpcy5fZWRnZUluc2V0cy5nZXRDZW50ZXIodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9Z2V0IGZvdkFib3ZlQ2VudGVyKCl7cmV0dXJuIHRoaXMuX2ZvdiooLjUrdGhpcy5jZW50ZXJPZmZzZXQueS90aGlzLmhlaWdodCl9aXNQYWRkaW5nRXF1YWwoZSl7cmV0dXJuIHRoaXMuX2VkZ2VJbnNldHMuZXF1YWxzKGUpfWludGVycG9sYXRlUGFkZGluZyhlLHQscil7dGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9lZGdlSW5zZXRzLmludGVycG9sYXRlKGUsdCxyKSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKX1jb3ZlcmluZ1pvb21MZXZlbChlKXtjb25zdCB0PShlLnJvdW5kWm9vbT9NYXRoLnJvdW5kOk1hdGguZmxvb3IpKHRoaXMuem9vbSt0aGlzLnNjYWxlWm9vbSh0aGlzLnRpbGVTaXplL2UudGlsZVNpemUpKTtyZXR1cm4gTWF0aC5tYXgoMCx0KX1nZXRWaXNpYmxlVW53cmFwcGVkQ29vcmRpbmF0ZXModCl7Y29uc3Qgcj1bbmV3IGUuVW53cmFwcGVkVGlsZUlEKDAsdCldO2lmKHRoaXMucmVuZGVyV29ybGRDb3BpZXMpe2NvbnN0IG49dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IGUucG9pbnRHZW9tZXRyeSgwLDApKSxpPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy53aWR0aCwwKSksbz10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpKSxhPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBlLnBvaW50R2VvbWV0cnkoMCx0aGlzLmhlaWdodCkpLHM9TWF0aC5mbG9vcihNYXRoLm1pbihuLngsaS54LG8ueCxhLngpKSxsPU1hdGguZmxvb3IoTWF0aC5tYXgobi54LGkueCxvLngsYS54KSksYz0xO2ZvcihsZXQgbj1zLWM7bjw9bCtjO24rKykwIT09biYmci5wdXNoKG5ldyBlLlVud3JhcHBlZFRpbGVJRChuLHQpKX1yZXR1cm4gcn1jb3ZlcmluZ1RpbGVzKHQpe2xldCByPXRoaXMuY292ZXJpbmdab29tTGV2ZWwodCk7Y29uc3Qgbj1yLGk9dGhpcy5lbGV2YXRpb24mJiF0LmlzVGVycmFpbkRFTSxvPVwibWVyY2F0b3JcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lO2lmKHZvaWQgMCE9PXQubWluem9vbSYmcjx0Lm1pbnpvb20pcmV0dXJuW107dm9pZCAwIT09dC5tYXh6b29tJiZyPnQubWF4em9vbSYmKHI9dC5tYXh6b29tKTtjb25zdCBhPXRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSxzPXRoaXMuY2VudGVyLmxhdCxsPTE8PHIsYz1bbCphLngsbCphLnksMF0sdT1cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSxoPSF1LGQ9ZS5GcnVzdHVtLmZyb21JbnZQcm9qZWN0aW9uTWF0cml4KHRoaXMuaW52UHJvak1hdHJpeCx0aGlzLndvcmxkU2l6ZSxyLGgpLHA9dT90aGlzLl9jYW1lcmEubWVyY2F0b3JQb3NpdGlvbjp0aGlzLnBvaW50Q29vcmRpbmF0ZSh0aGlzLmdldENhbWVyYVBvaW50KCkpLGY9bCplLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuY2VudGVyLmxhdCksbT10aGlzLl9jYW1lcmEucG9zaXRpb25bMl0vZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLmNlbnRlci5sYXQpLGc9W2wqcC54LGwqcC55LG0qKGg/MTpmKV0sXz10aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvdC50aWxlU2l6ZSoodC5yb3VuZFpvb20/MTouNTAyKSx5PXRoaXMucGl0Y2g8PTYwJiZ0aGlzLl9lZGdlSW5zZXRzLnRvcDw9dGhpcy5fZWRnZUluc2V0cy5ib3R0b20mJiF0aGlzLl9lbGV2YXRpb24mJiF0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlP3I6MCx2PXQuaXNUZXJyYWluREVNJiZ0aGlzLl9lbGV2YXRpb24/MWU0KnRoaXMuX2VsZXZhdGlvbi5leGFnZ2VyYXRpb24oKTp0aGlzLl9jZW50ZXJBbHRpdHVkZSx4PXQuaXNUZXJyYWluREVNPy12OnRoaXMuX2VsZXZhdGlvbj90aGlzLl9lbGV2YXRpb24uZ2V0TWluRWxldmF0aW9uQmVsb3dNU0woKTowLGI9dGhpcy5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT8kbih0aGlzKToxLHc9dD0+e2NvbnN0IHI9MS80ZTQsbj1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodC54K3IsdC55LHQueiksaT1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodC54LHQueStyLHQueiksbz10LnRvTG5nTGF0KCksYT1uLnRvTG5nTGF0KCkscz1pLnRvTG5nTGF0KCksbD10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShvKSxjPXRoaXMubG9jYXRpb25Db29yZGluYXRlKGEpLHU9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUocyksaD1NYXRoLmh5cG90KGMueC1sLngsYy55LWwueSksZD1NYXRoLmh5cG90KHUueC1sLngsdS55LWwueSk7cmV0dXJuIE1hdGguc3FydChoKmQpKmIvcn0sVD10PT57Y29uc3Qgcj12LG49eDtyZXR1cm57YWFiYjplLnRpbGVBQUJCKHRoaXMsbCwwLDAsMCx0LG4scix0aGlzLnByb2plY3Rpb24pLHpvb206MCx4OjAseTowLG1pblo6bixtYXhaOnIsd3JhcDp0LGZ1bGx5VmlzaWJsZTohMX19LEU9W107bGV0IFM9W107Y29uc3QgQz1yLE09dC5yZXBhcnNlT3ZlcnNjYWxlZD9uOnIsaz1lPT5lKmUsQT1rKChtLXRoaXMuX2NlbnRlckFsdGl0dWRlKSpmKSxJPWU9PntpZighdGhpcy5fZWxldmF0aW9ufHwhZS50aWxlSUR8fCFvKXJldHVybjtjb25zdCB0PXRoaXMuX2VsZXZhdGlvbi5nZXRNaW5NYXhGb3JUaWxlKGUudGlsZUlEKSxyPWUuYWFiYjt0PyhyLm1pblsyXT10Lm1pbixyLm1heFsyXT10Lm1heCxyLmNlbnRlclsyXT0oci5taW5bMl0rci5tYXhbMl0pLzIpOihlLnNob3VsZFNwbGl0PVAoZSksZS5zaG91bGRTcGxpdHx8KHIubWluWzJdPXIubWF4WzJdPXIuY2VudGVyWzJdPXRoaXMuX2NlbnRlckFsdGl0dWRlKSl9LFA9dD0+e2lmKHQuem9vbTx5KXJldHVybiEwO2lmKHQuem9vbT09PUMpcmV0dXJuITE7aWYobnVsbCE9dC5zaG91bGRTcGxpdClyZXR1cm4gdC5zaG91bGRTcGxpdDtjb25zdCByPXQuYWFiYi5kaXN0YW5jZVgoZyksbz10LmFhYmIuZGlzdGFuY2VZKGcpO2xldCBhPUEsbD0xO2lmKHUpe2E9ayh0LmFhYmIuZGlzdGFuY2VaKGcpKTtjb25zdCByPU1hdGgucG93KDIsdC56b29tKSxuPWUubGF0RnJvbU1lcmNhdG9yWSgodC55KzEpL3IpLGk9ZS5sYXRGcm9tTWVyY2F0b3JZKHQueS9yKSxvPU1hdGgubWluKE1hdGgubWF4KHMsbiksaSksYz1lLmNpcmN1bWZlcmVuY2VBdExhdGl0dWRlKG8pL2UuY2lyY3VtZmVyZW5jZUF0TGF0aXR1ZGUocyk7aWYobD1vPT09cz8xL01hdGgubWF4KDEsdGhpcy5fbWVyY2F0b3JTY2FsZVJhdGlvLS4zKTpNYXRoLm1pbigxLGMvdGhpcy5fbWVyY2F0b3JTY2FsZVJhdGlvKSx0aGlzLnpvb208PWUuR0xPQkVfWk9PTV9USFJFU0hPTERfTUlOJiZ0Lnpvb209PT1DLTEmJmM+PS45KXJldHVybiEwfWVsc2UgaWYoaSYmKGE9ayh0LmFhYmIuZGlzdGFuY2VaKGcpKmYpKSx0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlJiZuPD01KXtjb25zdCByPU1hdGgucG93KDIsdC56b29tKSxuPXcobmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKCh0LngrLjUpL3IsKHQueSsuNSkvcikpO2w9bj4uODU/MTpufWNvbnN0IGM9cipyK28qbythO3JldHVybiBjPGsoKDE8PEMtdC56b29tKSpfKmwqKChlLHQpPT57aWYodCprKC43MDcpPGUpcmV0dXJuIDE7Y29uc3Qgcj1NYXRoLnNxcnQodC9lKTtyZXR1cm4gci8oMS40MTQ0MjcxNTcwMDE0MTQ0KyhNYXRoLnBvdygxLjEsci0xLjQxNDQyNzE1NzAwMTQxNDQrMSktMSkvKDEuMS0xKS0xKX0pKE1hdGgubWF4KGEsQSksYykpfTtpZih0aGlzLnJlbmRlcldvcmxkQ29waWVzKWZvcihsZXQgZT0xO2U8PTM7ZSsrKUUucHVzaChUKC1lKSksRS5wdXNoKFQoZSkpO2ZvcihFLnB1c2goVCgwKSk7RS5sZW5ndGg+MDspe2NvbnN0IG49RS5wb3AoKSxhPW4ueCxzPW4ueTtsZXQgaD1uLmZ1bGx5VmlzaWJsZTtpZighaCl7Y29uc3QgZT1uLmFhYmIuaW50ZXJzZWN0cyhkKTtpZigwPT09ZSljb250aW51ZTtoPTI9PT1lfWlmKG4uem9vbSE9PUMmJlAobikpZm9yKGxldCB0PTA7dDw0O3QrKyl7Y29uc3Qgcj0oYTw8MSkrdCUyLGM9KHM8PDEpKyh0Pj4xKSxkPXthYWJiOm8/bi5hYWJiLnF1YWRyYW50KHQpOmUudGlsZUFBQkIodGhpcyxsLG4uem9vbSsxLHIsYyxuLndyYXAsbi5taW5aLG4ubWF4Wix0aGlzLnByb2plY3Rpb24pLHpvb206bi56b29tKzEseDpyLHk6Yyx3cmFwOm4ud3JhcCxmdWxseVZpc2libGU6aCx0aWxlSUQ6dm9pZCAwLHNob3VsZFNwbGl0OnZvaWQgMCxtaW5aOm4ubWluWixtYXhaOm4ubWF4Wn07aSYmIXUmJihkLnRpbGVJRD1uZXcgZS5PdmVyc2NhbGVkVGlsZUlEKG4uem9vbSsxPT09Qz9NOm4uem9vbSsxLG4ud3JhcCxuLnpvb20rMSxyLGMpLEkoZCkpLEUucHVzaChkKX1lbHNle2NvbnN0IGk9bi56b29tPT09Qz9NOm4uem9vbTtpZih0Lm1pbnpvb20mJnQubWluem9vbT5pKWNvbnRpbnVlO2NvbnN0IG89Y1swXS0oLjUrYSsobi53cmFwPDxuLnpvb20pKSooMTw8ci1uLnpvb20pLGw9Y1sxXS0uNS1zLHU9bi50aWxlSUQ/bi50aWxlSUQ6bmV3IGUuT3ZlcnNjYWxlZFRpbGVJRChpLG4ud3JhcCxuLnpvb20sYSxzKTtTLnB1c2goe3RpbGVJRDp1LGRpc3RhbmNlU3E6bypvK2wqbH0pfX1pZih0aGlzLmZvZ0N1bGxEaXN0U3Epe2NvbnN0IHI9dGhpcy5mb2dDdWxsRGlzdFNxLG49dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoKTtTPVMuZmlsdGVyKGk9Pntjb25zdCBvPVswLDAsMCwxXSxhPVtlLkVYVEVOVCxlLkVYVEVOVCwwLDFdLHM9dGhpcy5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KGkudGlsZUlELnRvVW53cmFwcGVkKCkpO2UudHJhbnNmb3JtTWF0NCQxKG8sbyxzKSxlLnRyYW5zZm9ybU1hdDQkMShhLGEscyk7Y29uc3QgbD1lLmdldEFBQkJQb2ludFNxdWFyZURpc3QobyxhKTtpZigwPT09bClyZXR1cm4hMDtsZXQgYz0hMTtjb25zdCB1PXRoaXMuX2VsZXZhdGlvbjtpZih1JiZsPnImJjAhPT1uKXtjb25zdCByPXRoaXMuY2FsY3VsYXRlUHJvak1hdHJpeChpLnRpbGVJRC50b1Vud3JhcHBlZCgpKTtsZXQgbzt0LmlzVGVycmFpbkRFTXx8KG89dS5nZXRNaW5NYXhGb3JUaWxlKGkudGlsZUlEKSksb3x8KG89e21pbjp4LG1heDp2fSk7Y29uc3QgYT1lLmZ1cnRoZXN0VGlsZUNvcm5lcih0aGlzLnJvdGF0aW9uKSxzPVthWzBdKmUuRVhURU5ULGFbMV0qZS5FWFRFTlQsby5tYXhdO2UudHJhbnNmb3JtTWF0NChzLHMsciksYz0oMS1zWzFdKSp0aGlzLmhlaWdodCouNTxufXJldHVybiBsPHJ8fGN9KX1yZXR1cm4gUy5zb3J0KChlLHQpPT5lLmRpc3RhbmNlU3EtdC5kaXN0YW5jZVNxKS5tYXAoZT0+ZS50aWxlSUQpfXJlc2l6ZShlLHQpe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMucGl4ZWxzVG9HTFVuaXRzPVsyL2UsLTIvdF0sdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCl9Z2V0IHVubW9kaWZpZWQoKXtyZXR1cm4gdGhpcy5fdW5tb2RpZmllZH16b29tU2NhbGUoZSl7cmV0dXJuIE1hdGgucG93KDIsZSl9c2NhbGVab29tKGUpe3JldHVybiBNYXRoLmxvZyhlKS9NYXRoLkxOMn1wcm9qZWN0KHQpe2NvbnN0IHI9ZS5jbGFtcCh0LmxhdCwtZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUsZS5NQVhfTUVSQ0FUT1JfTEFUSVRVREUpLG49dGhpcy5wcm9qZWN0aW9uLnByb2plY3QodC5sbmcscik7cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkobi54KnRoaXMud29ybGRTaXplLG4ueSp0aGlzLndvcmxkU2l6ZSl9dW5wcm9qZWN0KGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KGUueC90aGlzLndvcmxkU2l6ZSxlLnkvdGhpcy53b3JsZFNpemUpfWdldCBwb2ludCgpe3JldHVybiB0aGlzLnByb2plY3QodGhpcy5jZW50ZXIpfXNldExvY2F0aW9uQXRQb2ludCh0LHIpe2xldCBuLGk7Y29uc3Qgbz10aGlzLmNlbnRlclBvaW50O2lmKFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXtjb25zdCBlPXRoaXMud29ybGRTaXplO249KHIueC1vLngpL2UsaT0oci55LW8ueSkvZX1lbHNle2NvbnN0IGU9dGhpcy5wb2ludENvb3JkaW5hdGUociksdD10aGlzLnBvaW50Q29vcmRpbmF0ZShvKTtuPWUueC10LngsaT1lLnktdC55fWNvbnN0IGE9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodCk7dGhpcy5zZXRMb2NhdGlvbihuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoYS54LW4sYS55LWkpKX1zZXRMb2NhdGlvbihlKXt0aGlzLmNlbnRlcj10aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihlKSx0aGlzLnByb2plY3Rpb24ud3JhcCYmKHRoaXMuY2VudGVyPXRoaXMuY2VudGVyLndyYXAoKSl9bG9jYXRpb25Qb2ludChlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmxvY2F0aW9uUG9pbnQodGhpcyxlKX1sb2NhdGlvblBvaW50M0QoZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5sb2NhdGlvblBvaW50KHRoaXMsZSwhMCl9cG9pbnRMb2NhdGlvbihlKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUoZSkpfXBvaW50TG9jYXRpb24zRChlKXtyZXR1cm4gdGhpcy5jb29yZGluYXRlTG9jYXRpb24odGhpcy5wb2ludENvb3JkaW5hdGUzRChlKSl9bG9jYXRpb25Db29yZGluYXRlKHQscil7Y29uc3Qgbj1yP2UubWVyY2F0b3JaZnJvbUFsdGl0dWRlKHIsdC5sYXQpOnZvaWQgMCxpPXRoaXMucHJvamVjdGlvbi5wcm9qZWN0KHQubG5nLHQubGF0KTtyZXR1cm4gbmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKGkueCxpLnksbil9Y29vcmRpbmF0ZUxvY2F0aW9uKGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24udW5wcm9qZWN0KGUueCxlLnkpfXBvaW50UmF5SW50ZXJzZWN0aW9uKHQscil7Y29uc3Qgbj1udWxsIT1yP3I6dGhpcy5fY2VudGVyQWx0aXR1ZGUsaT1bdC54LHQueSwwLDFdLG89W3QueCx0LnksMSwxXTtlLnRyYW5zZm9ybU1hdDQkMShpLGksdGhpcy5waXhlbE1hdHJpeEludmVyc2UpLGUudHJhbnNmb3JtTWF0NCQxKG8sbyx0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSk7Y29uc3QgYT1vWzNdO2Uuc2NhbGUkMShpLGksMS9pWzNdKSxlLnNjYWxlJDEobyxvLDEvYSk7Y29uc3Qgcz1pWzJdLGw9b1syXTtyZXR1cm57cDA6aSxwMTpvLHQ6cz09PWw/MDoobi1zKS8obC1zKX19c2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5KHQpe2NvbnN0IHI9W3QueCx0LnksMCwxXSxuPVt0LngsdC55LDEsMV07cmV0dXJuIGUudHJhbnNmb3JtTWF0NCQxKHIscix0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSksZS50cmFuc2Zvcm1NYXQ0JDEobixuLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKSxlLnNjYWxlJDEocixyLDEvclszXSksZS5zY2FsZSQxKG4sbiwxL25bM10pLHJbMl09ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoclsyXSx0aGlzLl9jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSxuWzJdPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKG5bMl0sdGhpcy5fY2VudGVyLmxhdCkqdGhpcy53b3JsZFNpemUsZS5zY2FsZSQxKHIsciwxL3RoaXMud29ybGRTaXplKSxlLnNjYWxlJDEobixuLDEvdGhpcy53b3JsZFNpemUpLG5ldyBlLlJheShbclswXSxyWzFdLHJbMl1dLGUubm9ybWFsaXplKFtdLGUuc3ViKFtdLG4scikpKX1yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHQpe2NvbnN0e3AwOnIscDE6bix0Oml9PXQsbz1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZShyWzJdLHRoaXMuX2NlbnRlci5sYXQpLGE9ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoblsyXSx0aGlzLl9jZW50ZXIubGF0KTtyZXR1cm4gbmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKGUubnVtYmVyKHJbMF0sblswXSxpKS90aGlzLndvcmxkU2l6ZSxlLm51bWJlcihyWzFdLG5bMV0saSkvdGhpcy53b3JsZFNpemUsZS5udW1iZXIobyxhLGkpKX1wb2ludENvb3JkaW5hdGUoZSx0PXRoaXMuX2NlbnRlckFsdGl0dWRlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLnBvaW50Q29vcmRpbmF0ZSh0aGlzLGUueCxlLnksdCl9cG9pbnRDb29yZGluYXRlM0QodCl7aWYoIXRoaXMuZWxldmF0aW9uKXJldHVybiB0aGlzLnBvaW50Q29vcmRpbmF0ZSh0KTtsZXQgcj10aGlzLnByb2plY3Rpb24ucG9pbnRDb29yZGluYXRlM0QodGhpcyx0LngsdC55KTtpZihyKXJldHVybiBuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoclswXSxyWzFdLHJbMl0pO2xldCBuPTAsaT10aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpO2lmKHQueT5pKXJldHVybiB0aGlzLnBvaW50Q29vcmRpbmF0ZSh0KTtjb25zdCBvPS4wMippLGE9dC5jbG9uZSgpO2ZvcihsZXQgdD0wO3Q8MTAmJmktbj5vO3QrKyl7YS55PWUubnVtYmVyKG4saSwuNjYpO2NvbnN0IHQ9dGhpcy5wcm9qZWN0aW9uLnBvaW50Q29vcmRpbmF0ZTNEKHRoaXMsYS54LGEueSk7dD8oaT1hLnkscj10KTpuPWEueX1yZXR1cm4gcj9uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoclswXSxyWzFdLHJbMl0pOnRoaXMucG9pbnRDb29yZGluYXRlKHQpfWlzUG9pbnRBYm92ZUhvcml6b24oZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5pc1BvaW50QWJvdmVIb3Jpem9uKHRoaXMsZSl9X2Nvb3JkaW5hdGVQb2ludCh0LHIpe2NvbnN0IG49ciYmdGhpcy5lbGV2YXRpb24/dGhpcy5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyh0LHRoaXMuX2NlbnRlckFsdGl0dWRlKTp0aGlzLl9jZW50ZXJBbHRpdHVkZSxpPVt0LngqdGhpcy53b3JsZFNpemUsdC55KnRoaXMud29ybGRTaXplLG4rdC50b0FsdGl0dWRlKCksMV07cmV0dXJuIGUudHJhbnNmb3JtTWF0NCQxKGksaSx0aGlzLnBpeGVsTWF0cml4KSxpWzNdPjA/bmV3IGUucG9pbnRHZW9tZXRyeShpWzBdL2lbM10saVsxXS9pWzNdKTpuZXcgZS5wb2ludEdlb21ldHJ5KE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSl9X2dldEdsb2JlQm91bmRzKCl7Y29uc3R7dG9wOnQsbGVmdDpyfT10aGlzLl9lZGdlSW5zZXRzLG49dGhpcy5oZWlnaHQtdGhpcy5fZWRnZUluc2V0cy5ib3R0b20saT10aGlzLndpZHRoLXRoaXMuX2VkZ2VJbnNldHMucmlnaHQsbz10aGlzLnBvaW50Q29vcmRpbmF0ZTNEKG5ldyBlLnBvaW50R2VvbWV0cnkocix0KSksYT10aGlzLnBvaW50Q29vcmRpbmF0ZTNEKG5ldyBlLnBvaW50R2VvbWV0cnkoaSx0KSkscz10aGlzLnBvaW50Q29vcmRpbmF0ZTNEKG5ldyBlLnBvaW50R2VvbWV0cnkoaSxuKSksbD10aGlzLnBvaW50Q29vcmRpbmF0ZTNEKG5ldyBlLnBvaW50R2VvbWV0cnkocixuKSk7bGV0IGM9TWF0aC5taW4oby54LGwueCksdT1NYXRoLm1heChhLngscy54KSxoPU1hdGgubWluKG8ueSxhLnkpLGQ9TWF0aC5tYXgobC55LHMueSk7Y29uc3QgcD1NYXRoLnBvdygyLC10aGlzLnpvb20pLzE2LGY9KHQscixuLGkpPT57Y29uc3Qgbz0odCtuKS8yLGE9KHIraSkvMixzPW5ldyBlLnBvaW50R2VvbWV0cnkobyxhKSxsPXRoaXMucG9pbnRDb29yZGluYXRlM0QocyksbT1NYXRoLm1heCgwLGMtbC54LGgtbC55LGwueC11LGwueS1kKTtjPU1hdGgubWluKGMsbC54KSx1PU1hdGgubWF4KHUsbC54KSxoPU1hdGgubWluKGgsbC55KSxkPU1hdGgubWF4KGQsbC55KSxtPnAmJihmKHQscixvLGEpLGYobyxhLG4saSkpfTtmKHIsdCxpLHQpLGYoaSx0LGksbiksZihpLG4scixuKSxmKHIsbixyLHQpO2NvbnN0IG09bmV3IGUuTG5nTGF0KGUubG5nRnJvbU1lcmNhdG9yWCh1KSxlLmxhdEZyb21NZXJjYXRvclkoaCkpLGc9bmV3IGUuTG5nTGF0KGUubG5nRnJvbU1lcmNhdG9yWChjKSxlLmxhdEZyb21NZXJjYXRvclkoZCkpO3JldHVybiBuZXcgZS5MbmdMYXRCb3VuZHMoZyxtKX1fZ2V0Qm91bmRzKHQscil7aWYoXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuIHRoaXMuX2dldEdsb2JlQm91bmRzKCk7Y29uc3Qgbj1uZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMuX2VkZ2VJbnNldHMubGVmdCx0aGlzLl9lZGdlSW5zZXRzLnRvcCksaT1uZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMud2lkdGgtdGhpcy5fZWRnZUluc2V0cy5yaWdodCx0aGlzLl9lZGdlSW5zZXRzLnRvcCksbz1uZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMud2lkdGgtdGhpcy5fZWRnZUluc2V0cy5yaWdodCx0aGlzLmhlaWdodC10aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSksYT1uZXcgZS5wb2ludEdlb21ldHJ5KHRoaXMuX2VkZ2VJbnNldHMubGVmdCx0aGlzLmhlaWdodC10aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSk7bGV0IHM9dGhpcy5wb2ludENvb3JkaW5hdGUobix0KSxsPXRoaXMucG9pbnRDb29yZGluYXRlKGksdCk7Y29uc3QgYz10aGlzLnBvaW50Q29vcmRpbmF0ZShvLHIpLHU9dGhpcy5wb2ludENvb3JkaW5hdGUoYSxyKSxoPShlLHQpPT4odC55LWUueSkvKHQueC1lLngpO3JldHVybiBzLnk+MSYmbC55Pj0wP3M9bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKCgxLXUueSkvaCh1LHMpK3UueCwxKTpzLnk8MCYmbC55PD0xJiYocz1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoLXUueS9oKHUscykrdS54LDApKSxsLnk+MSYmcy55Pj0wP2w9bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKCgxLWMueSkvaChjLGwpK2MueCwxKTpsLnk8MCYmcy55PD0xJiYobD1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoLWMueS9oKGMsbCkrYy54LDApKSwobmV3IGUuTG5nTGF0Qm91bmRzKS5leHRlbmQodGhpcy5jb29yZGluYXRlTG9jYXRpb24ocykpLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihsKSkuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHUpKS5leHRlbmQodGhpcy5jb29yZGluYXRlTG9jYXRpb24oYykpfV9nZXRCb3VuZHMzRCgpe2NvbnN0IGU9dGhpcy5lbGV2YXRpb247aWYoIWUudmlzaWJsZURlbVRpbGVzLmxlbmd0aHx8ZS5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiB0aGlzLl9nZXRCb3VuZHMoMCwwKTtjb25zdCB0PWUudmlzaWJsZURlbVRpbGVzLnJlZHVjZSgoZSx0KT0+e2lmKHQuZGVtKXtjb25zdCByPXQuZGVtLnRyZWU7ZS5taW49TWF0aC5taW4oZS5taW4sci5taW5pbXVtc1swXSksZS5tYXg9TWF0aC5tYXgoZS5tYXgsci5tYXhpbXVtc1swXSl9cmV0dXJuIGV9LHttaW46TnVtYmVyLk1BWF9WQUxVRSxtYXg6MH0pO3JldHVybiB0aGlzLl9nZXRCb3VuZHModC5taW4qZS5leGFnZ2VyYXRpb24oKSx0Lm1heCplLmV4YWdnZXJhdGlvbigpKX1nZXRCb3VuZHMoKXtyZXR1cm4gdGhpcy5fdGVycmFpbkVuYWJsZWQoKT90aGlzLl9nZXRCb3VuZHMzRCgpOnRoaXMuX2dldEJvdW5kcygwLDApfWhvcml6b25MaW5lRnJvbVRvcChlPSEwKXtjb25zdCB0PXRoaXMuaGVpZ2h0LzIvTWF0aC50YW4odGhpcy5fZm92LzIpL01hdGgudGFuKE1hdGgubWF4KHRoaXMuX3BpdGNoLC4xKSkrdGhpcy5jZW50ZXJPZmZzZXQueSxyPXRoaXMuaGVpZ2h0LzItdCooMS10aGlzLl9ob3Jpem9uU2hpZnQpO3JldHVybiBlP01hdGgubWF4KDAscik6cn1nZXRNYXhCb3VuZHMoKXtyZXR1cm4gdGhpcy5tYXhCb3VuZHN9c2V0TWF4Qm91bmRzKHQpe3RoaXMubWF4Qm91bmRzPXQsdGhpcy5taW5MYXQ9LWUuTUFYX01FUkNBVE9SX0xBVElUVURFLHRoaXMubWF4TGF0PWUuTUFYX01FUkNBVE9SX0xBVElUVURFLHRoaXMubWluTG5nPS0xODAsdGhpcy5tYXhMbmc9MTgwLHQmJih0aGlzLm1pbkxhdD10LmdldFNvdXRoKCksdGhpcy5tYXhMYXQ9dC5nZXROb3J0aCgpLHRoaXMubWluTG5nPXQuZ2V0V2VzdCgpLHRoaXMubWF4TG5nPXQuZ2V0RWFzdCgpLHRoaXMubWF4TG5nPHRoaXMubWluTG5nJiYodGhpcy5tYXhMbmcrPTM2MCkpLHRoaXMud29ybGRNaW5YPWUubWVyY2F0b3JYZnJvbUxuZyh0aGlzLm1pbkxuZykqdGhpcy50aWxlU2l6ZSx0aGlzLndvcmxkTWF4WD1lLm1lcmNhdG9yWGZyb21MbmcodGhpcy5tYXhMbmcpKnRoaXMudGlsZVNpemUsdGhpcy53b3JsZE1pblk9ZS5tZXJjYXRvcllmcm9tTGF0KHRoaXMubWF4TGF0KSp0aGlzLnRpbGVTaXplLHRoaXMud29ybGRNYXhZPWUubWVyY2F0b3JZZnJvbUxhdCh0aGlzLm1pbkxhdCkqdGhpcy50aWxlU2l6ZSx0aGlzLl9jb25zdHJhaW4oKX1jYWxjdWxhdGVQb3NNYXRyaXgoZSx0KXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmNyZWF0ZVRpbGVNYXRyaXgodGhpcyx0LGUpfWNhbGN1bGF0ZURpc3RhbmNlVGlsZURhdGEodCl7Y29uc3Qgcj10LmtleSxuPXRoaXMuX2Rpc3RhbmNlVGlsZURhdGFDYWNoZTtpZihuW3JdKXJldHVybiBuW3JdO2NvbnN0IGk9dC5jYW5vbmljYWwsbz0xL3RoaXMuaGVpZ2h0LGE9dGhpcy5jYW1lcmFXb3JsZFNpemUvdGhpcy56b29tU2NhbGUoaS56KSxzPShpLngrTWF0aC5wb3coMixpLnopKnQud3JhcCkqYSxsPWkueSphLGM9dGhpcy5wb2ludCx1PXRoaXMuYW5nbGUsaD1NYXRoLnNpbigtdSksZD0tTWF0aC5jb3MoLXUpO3JldHVybiBuW3JdPXtiZWFyaW5nOltoLGRdLGNlbnRlcjpbKGMueC1zKSpvLChjLnktbCkqb10sc2NhbGU6YS9lLkVYVEVOVCpvfSxuW3JdfWNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgodCl7Y29uc3Qgcj10LmtleSxuPXRoaXMuX2ZvZ1RpbGVNYXRyaXhDYWNoZTtpZihuW3JdKXJldHVybiBuW3JdO2NvbnN0IGk9dGhpcy5wcm9qZWN0aW9uLmNyZWF0ZVRpbGVNYXRyaXgodGhpcyx0aGlzLmNhbWVyYVdvcmxkU2l6ZSx0KTtyZXR1cm4gZS5tdWx0aXBseShpLHRoaXMud29ybGRUb0ZvZ01hdHJpeCxpKSxuW3JdPW5ldyBGbG9hdDMyQXJyYXkoaSksbltyXX1jYWxjdWxhdGVQcm9qTWF0cml4KHQscj0hMSl7Y29uc3Qgbj10LmtleSxpPXI/dGhpcy5fYWxpZ25lZFByb2pNYXRyaXhDYWNoZTp0aGlzLl9wcm9qTWF0cml4Q2FjaGU7aWYoaVtuXSlyZXR1cm4gaVtuXTtjb25zdCBvPXRoaXMuY2FsY3VsYXRlUG9zTWF0cml4KHQsdGhpcy53b3JsZFNpemUpO3JldHVybiBlLm11bHRpcGx5KG8sdGhpcy5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT90aGlzLm1lcmNhdG9yTWF0cml4OnI/dGhpcy5hbGlnbmVkUHJvak1hdHJpeDp0aGlzLnByb2pNYXRyaXgsbyksaVtuXT1uZXcgRmxvYXQzMkFycmF5KG8pLGlbbl19Y2FsY3VsYXRlUGl4ZWxzVG9UaWxlVW5pdHNNYXRyaXgodCl7Y29uc3Qgcj10LnRpbGVJRC5rZXksbj10aGlzLl9waXhlbHNUb1RpbGVVbml0c0NhY2hlO2lmKG5bcl0pcmV0dXJuIG5bcl07Y29uc3QgaT1mdW5jdGlvbih0LHIpe2NvbnN0e3NjYWxlOm59PXQudGlsZVRyYW5zZm9ybSxpPW4qZS5FWFRFTlQvKHQudGlsZVNpemUqTWF0aC5wb3coMixyLnpvb20tdC50aWxlSUQub3ZlcnNjYWxlZFordC50aWxlSUQuY2Fub25pY2FsLnopKTtyZXR1cm4gbz1uZXcgRmxvYXQzMkFycmF5KDQpLGw9KGE9ci5pbnZlcnNlQWRqdXN0bWVudE1hdHJpeClbMV0sYz1hWzJdLHU9YVszXSxkPShzPVtpLGldKVsxXSxvWzBdPWFbMF0qKGg9c1swXSksb1sxXT1sKmgsb1syXT1jKmQsb1szXT11KmQsbzt2YXIgbyxhLHMsbCxjLHUsaCxkfSh0LHRoaXMpO3JldHVybiBuW3JdPWksbltyXX1jdXN0b21MYXllck1hdHJpeCgpe3JldHVybiB0aGlzLm1lcmNhdG9yTWF0cml4LnNsaWNlKCl9cmVjZW50ZXJPblRlcnJhaW4oKXtpZighdGhpcy5fZWxldmF0aW9ufHxcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSlyZXR1cm47Y29uc3QgdD10aGlzLl9lbGV2YXRpb247dGhpcy5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtjb25zdCByPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5fY2VudGVyLmxhdCkqdGhpcy53b3JsZFNpemUsbj10aGlzLl9jb21wdXRlQ2FtZXJhUG9zaXRpb24ociksaT10aGlzLl9jYW1lcmEuZm9yd2FyZCgpLG89ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLl9jZW50ZXIubGF0KTtuWzJdLz1vLGlbMl0vPW8sZS5ub3JtYWxpemUoaSxpKTtjb25zdCBhPXQucmF5Y2FzdChuLGksdC5leGFnZ2VyYXRpb24oKSk7aWYoYSl7Y29uc3QgdD1lLnNjYWxlQW5kQWRkKFtdLG4saSxhKSxyPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0WzBdLHRbMV0sZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUodFsyXSxlLmxhdEZyb21NZXJjYXRvclkodFsxXSkpKSxzPShyLnorZS5sZW5ndGgoW3IueC1uWzBdLHIueS1uWzFdLHIuei1uWzJdKm9dKSkqdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDt0aGlzLl9zZWFMZXZlbFpvb209dGhpcy5fem9vbUZyb21NZXJjYXRvcloocyksdGhpcy5fY2VudGVyQWx0aXR1ZGU9ci50b0FsdGl0dWRlKCksdGhpcy5fY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHIpLHRoaXMuX3VwZGF0ZVpvb21Gcm9tRWxldmF0aW9uKCksdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCl9fV9jb25zdHJhaW5DYW1lcmFBbHRpdHVkZSgpe2lmKCF0aGlzLl9lbGV2YXRpb24pcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uO3RoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCk7Y29uc3Qgcj1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLG49dGhpcy5fY29tcHV0ZUNhbWVyYVBvc2l0aW9uKHIpLGk9dC5nZXRBdFBvaW50T3JaZXJvKG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSguLi5uKSksbz10aGlzLl9taW5pbXVtSGVpZ2h0T3ZlclRlcnJhaW4oKSpNYXRoLmNvcyhlLmRlZ1RvUmFkKHRoaXMuX21heFBpdGNoKSksYT10aGlzLl9jYW1lcmEucG9zaXRpb25bMl0tdGhpcy5waXhlbHNQZXJNZXRlci90aGlzLndvcmxkU2l6ZSppO2lmKGE8byl7Y29uc3QgdD10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLl9jZW50ZXIsdGhpcy5fY2VudGVyQWx0aXR1ZGUpLHI9W3QueC1uWzBdLHQueS1uWzFdLHQuei1uWzJdXSxpPWUubGVuZ3RoKHIpO3JbMl0tPShvLWEpL3RoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7Y29uc3Qgcz1lLmxlbmd0aChyKTtpZigwPT09cylyZXR1cm47ZS5zY2FsZSQyKHIscixpL3MqdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPVt0LngtclswXSx0LnktclsxXSx0LnoqdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbC1yWzJdXSx0aGlzLl9jYW1lcmEub3JpZW50YXRpb249Vm4ocix0aGlzLl9jYW1lcmEudXAoKSksdGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCl9fV9jb25zdHJhaW4oKXtpZighdGhpcy5jZW50ZXJ8fCF0aGlzLndpZHRofHwhdGhpcy5oZWlnaHR8fHRoaXMuX2NvbnN0cmFpbmluZylyZXR1cm47dGhpcy5fY29uc3RyYWluaW5nPSEwO2NvbnN0IHQ9XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWV8fHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbjtpZih0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlfHx0KXtjb25zdCByPXRoaXMuY2VudGVyO3JldHVybiByLmxhdD1lLmNsYW1wKHIubGF0LHRoaXMubWluTGF0LHRoaXMubWF4TGF0KSwodGhpcy5tYXhCb3VuZHN8fCF0aGlzLnJlbmRlcldvcmxkQ29waWVzJiYhdCkmJihyLmxuZz1lLmNsYW1wKHIubG5nLHRoaXMubWluTG5nLHRoaXMubWF4TG5nKSksdGhpcy5jZW50ZXI9cix2b2lkKHRoaXMuX2NvbnN0cmFpbmluZz0hMSl9Y29uc3Qgcj10aGlzLl91bm1vZGlmaWVkLHt4Om4seTppfT10aGlzLnBvaW50O2xldCBvPTAsYT1uLHM9aTtjb25zdCBsPXRoaXMud2lkdGgvMixjPXRoaXMuaGVpZ2h0LzIsdT10aGlzLndvcmxkTWluWSp0aGlzLnNjYWxlLGg9dGhpcy53b3JsZE1heFkqdGhpcy5zY2FsZTtpZihpLWM8dSYmKHM9dStjKSxpK2M+aCYmKHM9aC1jKSxoLXU8dGhpcy5oZWlnaHQmJihvPU1hdGgubWF4KG8sdGhpcy5oZWlnaHQvKGgtdSkpLHM9KGgrdSkvMiksdGhpcy5tYXhCb3VuZHN8fCF0aGlzLl9yZW5kZXJXb3JsZENvcGllc3x8IXRoaXMucHJvamVjdGlvbi53cmFwKXtjb25zdCBlPXRoaXMud29ybGRNaW5YKnRoaXMuc2NhbGUsdD10aGlzLndvcmxkTWF4WCp0aGlzLnNjYWxlLHI9dGhpcy53b3JsZFNpemUvMi0oZSt0KS8yO2E9KG4rcit0aGlzLndvcmxkU2l6ZSkldGhpcy53b3JsZFNpemUtcixhLWw8ZSYmKGE9ZStsKSxhK2w+dCYmKGE9dC1sKSx0LWU8dGhpcy53aWR0aCYmKG89TWF0aC5tYXgobyx0aGlzLndpZHRoLyh0LWUpKSxhPSh0K2UpLzIpfWE9PT1uJiZzPT09aXx8KHRoaXMuY2VudGVyPXRoaXMudW5wcm9qZWN0KG5ldyBlLnBvaW50R2VvbWV0cnkoYSxzKSkpLG8mJih0aGlzLnpvb20rPXRoaXMuc2NhbGVab29tKG8pKSx0aGlzLl9jb25zdHJhaW5DYW1lcmFBbHRpdHVkZSgpLHRoaXMuX3VubW9kaWZpZWQ9cix0aGlzLl9jb25zdHJhaW5pbmc9ITF9X21pblpvb21Gb3JCb3VuZHMoKXtsZXQgZT1NYXRoLm1heCgwLHRoaXMuc2NhbGVab29tKHRoaXMuaGVpZ2h0Lyh0aGlzLndvcmxkTWF4WS10aGlzLndvcmxkTWluWSkpKTtyZXR1cm4gdGhpcy5tYXhCb3VuZHMmJihlPU1hdGgubWF4KGUsdGhpcy5zY2FsZVpvb20odGhpcy53aWR0aC8odGhpcy53b3JsZE1heFgtdGhpcy53b3JsZE1pblgpKSkpLGV9X21heENhbWVyYUJvdW5kc0Rpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX21pblpvb21Gb3JCb3VuZHMoKSl9X2NhbGNNYXRyaWNlcygpe2lmKCF0aGlzLmhlaWdodClyZXR1cm47Y29uc3QgdD10aGlzLmNlbnRlck9mZnNldCxyPXRoaXMucGl4ZWxzUGVyTWV0ZXI7XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUmJih0aGlzLl9tZXJjYXRvclNjYWxlUmF0aW89ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLmNlbnRlci5sYXQpL2UubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsZS5HTE9CRV9TQ0FMRV9NQVRDSF9MQVRJVFVERSkpO2NvbnN0IG49V24odGhpcy5wcm9qZWN0aW9uLHRoaXMuem9vbSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDEwMjQpO3RoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw9dGhpcy5wcm9qZWN0aW9uLnBpeGVsU3BhY2VDb252ZXJzaW9uKHRoaXMuY2VudGVyLmxhdCx0aGlzLndvcmxkU2l6ZSxuKSx0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U9LjUvTWF0aC50YW4oLjUqdGhpcy5fZm92KSp0aGlzLmhlaWdodCp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLHRoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCksdGhpcy5fZmFyWj10aGlzLnByb2plY3Rpb24uZmFydGhlc3RQaXhlbERpc3RhbmNlKHRoaXMpLHRoaXMuX25lYXJaPXRoaXMuaGVpZ2h0LzUwO2NvbnN0IGk9dGhpcy5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmEodGhpcy53b3JsZFNpemUsXCJtZXRlcnNcIj09PXRoaXMucHJvamVjdGlvbi56QXhpc1VuaXQ/cjoxKSxvPXRoaXMuX2NhbWVyYS5nZXRDYW1lcmFUb0NsaXBQZXJzcGVjdGl2ZSh0aGlzLl9mb3YsdGhpcy53aWR0aC90aGlzLmhlaWdodCx0aGlzLl9uZWFyWix0aGlzLl9mYXJaKTtvWzhdPTIqLXQueC90aGlzLndpZHRoLG9bOV09Mip0LnkvdGhpcy5oZWlnaHQ7bGV0IGE9ZS5tdWwoW10sbyxpKTtpZih0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlKXtjb25zdCB0PXRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSxyPWUuaWRlbnRpdHkoW10pO2UudHJhbnNsYXRlKHIscixbdC54KnRoaXMud29ybGRTaXplLHQueSp0aGlzLndvcmxkU2l6ZSwwXSksZS5tdWx0aXBseShyLHIsWm4odGhpcykpLGUudHJhbnNsYXRlKHIscixbLXQueCp0aGlzLndvcmxkU2l6ZSwtdC55KnRoaXMud29ybGRTaXplLDBdKSxlLm11bHRpcGx5KGEsYSxyKSx0aGlzLmludmVyc2VBZGp1c3RtZW50TWF0cml4PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9Wm4oZSwhMCk7cmV0dXJuIHkoW10sW3RbMF0sdFsxXSx0WzRdLHRbNV1dKX0odGhpcyl9ZWxzZSB0aGlzLmludmVyc2VBZGp1c3RtZW50TWF0cml4PVsxLDAsMCwxXTt0aGlzLm1lcmNhdG9yTWF0cml4PWUuc2NhbGUoW10sYSxbdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemUvciwxXSksdGhpcy5wcm9qTWF0cml4PWEsdGhpcy5pbnZQcm9qTWF0cml4PWUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHRoaXMucHJvak1hdHJpeCk7Y29uc3Qgcz1lLmludmVydChbXSxvKTt0aGlzLmZydXN0dW1Db3JuZXJzPWUuRnJ1c3R1bUNvcm5lcnMuZnJvbUludlByb2plY3Rpb25NYXRyaXgocyx0aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpLHRoaXMuaGVpZ2h0KTtjb25zdCBsPW5ldyBGbG9hdDMyQXJyYXkoMTYpO2UuaWRlbnRpdHkobCksZS5zY2FsZShsLGwsWzEsLTEsMV0pLGUucm90YXRlWChsLGwsdGhpcy5fcGl0Y2gpLGUucm90YXRlWihsLGwsdGhpcy5hbmdsZSk7Y29uc3QgYz1lLnBlcnNwZWN0aXZlKG5ldyBGbG9hdDMyQXJyYXkoMTYpLHRoaXMuX2Zvdix0aGlzLndpZHRoL3RoaXMuaGVpZ2h0LHRoaXMuX25lYXJaLHRoaXMuX2ZhclopLHU9KE1hdGguUEkvMi10aGlzLl9waXRjaCkqKHRoaXMuaGVpZ2h0L3RoaXMuX2ZvdikqdGhpcy5faG9yaXpvblNoaWZ0O2NbOF09MiotdC54L3RoaXMud2lkdGgsY1s5XT0yKih0LnkrdSkvdGhpcy5oZWlnaHQsdGhpcy5za3lib3hNYXRyaXg9ZS5tdWx0aXBseShsLGMsbCk7Y29uc3QgaD10aGlzLnBvaW50LGQ9aC54LHA9aC55LGY9dGhpcy53aWR0aCUyLzIsbT10aGlzLmhlaWdodCUyLzIsZz1NYXRoLmNvcyh0aGlzLmFuZ2xlKSxfPU1hdGguc2luKHRoaXMuYW5nbGUpLHY9ZC1NYXRoLnJvdW5kKGQpK2cqZitfKm0seD1wLU1hdGgucm91bmQocCkrZyptK18qZixiPW5ldyBGbG9hdDY0QXJyYXkoYSk7aWYoZS50cmFuc2xhdGUoYixiLFt2Pi41P3YtMTp2LHg+LjU/eC0xOngsMF0pLHRoaXMuYWxpZ25lZFByb2pNYXRyaXg9YixhPWUuY3JlYXRlKCksZS5zY2FsZShhLGEsW3RoaXMud2lkdGgvMiwtdGhpcy5oZWlnaHQvMiwxXSksZS50cmFuc2xhdGUoYSxhLFsxLC0xLDBdKSx0aGlzLmxhYmVsUGxhbmVNYXRyaXg9YSxhPWUuY3JlYXRlKCksZS5zY2FsZShhLGEsWzEsLTEsMV0pLGUudHJhbnNsYXRlKGEsYSxbLTEsLTEsMF0pLGUuc2NhbGUoYSxhLFsyL3RoaXMud2lkdGgsMi90aGlzLmhlaWdodCwxXSksdGhpcy5nbENvb3JkTWF0cml4PWEsdGhpcy5waXhlbE1hdHJpeD1lLm11bHRpcGx5KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHRoaXMubGFiZWxQbGFuZU1hdHJpeCx0aGlzLnByb2pNYXRyaXgpLHRoaXMuX2NhbGNGb2dNYXRyaWNlcygpLHRoaXMuX2Rpc3RhbmNlVGlsZURhdGFDYWNoZT17fSxhPWUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHRoaXMucGl4ZWxNYXRyaXgpLCFhKXRocm93IG5ldyBFcnJvcihcImZhaWxlZCB0byBpbnZlcnQgbWF0cml4XCIpO2lmKHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlPWEsXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWV8fHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbil7dGhpcy5nbG9iZU1hdHJpeD1lLmNhbGN1bGF0ZUdsb2JlTWF0cml4KHRoaXMpO2NvbnN0IHQ9W3RoaXMuZ2xvYmVNYXRyaXhbMTJdLHRoaXMuZ2xvYmVNYXRyaXhbMTNdLHRoaXMuZ2xvYmVNYXRyaXhbMTRdXTt0aGlzLmdsb2JlQ2VudGVySW5WaWV3U3BhY2U9ZS50cmFuc2Zvcm1NYXQ0KHQsdCxpKSx0aGlzLmdsb2JlUmFkaXVzPXRoaXMud29ybGRTaXplLzIvTWF0aC5QSS0xfWVsc2UgdGhpcy5nbG9iZU1hdHJpeD1hO3RoaXMuX3Byb2pNYXRyaXhDYWNoZT17fSx0aGlzLl9hbGlnbmVkUHJvak1hdHJpeENhY2hlPXt9LHRoaXMuX3BpeGVsc1RvVGlsZVVuaXRzQ2FjaGU9e319X2NhbGNGb2dNYXRyaWNlcygpe3RoaXMuX2ZvZ1RpbGVNYXRyaXhDYWNoZT17fTtjb25zdCB0PXRoaXMuY2FtZXJhV29ybGRTaXplLHI9dGhpcy5jYW1lcmFQaXhlbHNQZXJNZXRlcixuPXRoaXMuX2NhbWVyYS5wb3NpdGlvbixpPTEvdGhpcy5oZWlnaHQvdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxvPVt0LHQscl07ZS5zY2FsZSQyKG8sbyxpKSxlLnNjYWxlJDIobixuLC0xKSxlLm11bHRpcGx5JDIobixuLG8pO2NvbnN0IGE9ZS5jcmVhdGUoKTtlLnRyYW5zbGF0ZShhLGEsbiksZS5zY2FsZShhLGEsbyksdGhpcy5tZXJjYXRvckZvZ01hdHJpeD1hLHRoaXMud29ybGRUb0ZvZ01hdHJpeD10aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKHQscixpKX1fY29tcHV0ZUNhbWVyYVBvc2l0aW9uKGUpe2NvbnN0IHQ9KGU9ZXx8dGhpcy5waXhlbHNQZXJNZXRlcikvdGhpcy5waXhlbHNQZXJNZXRlcixyPXRoaXMuX2NhbWVyYS5mb3J3YXJkKCksbj10aGlzLnBvaW50LGk9dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fc2VhTGV2ZWxab29tP3RoaXMuX3NlYUxldmVsWm9vbTp0aGlzLl96b29tKSp0LWUvdGhpcy53b3JsZFNpemUqdGhpcy5fY2VudGVyQWx0aXR1ZGU7cmV0dXJuW24ueC90aGlzLndvcmxkU2l6ZS1yWzBdKmksbi55L3RoaXMud29ybGRTaXplLXJbMV0qaSxlL3RoaXMud29ybGRTaXplKnRoaXMuX2NlbnRlckFsdGl0dWRlLXJbMl0qaV19X3VwZGF0ZUNhbWVyYVN0YXRlKCl7dGhpcy5oZWlnaHQmJih0aGlzLl9jYW1lcmEuc2V0UGl0Y2hCZWFyaW5nKHRoaXMuX3BpdGNoLHRoaXMuYW5nbGUpLHRoaXMuX2NhbWVyYS5wb3NpdGlvbj10aGlzLl9jb21wdXRlQ2FtZXJhUG9zaXRpb24oKSl9X3RyYW5zbGF0ZUNhbWVyYUNvbnN0cmFpbmVkKHQpe2NvbnN0IHI9dGhpcy5fbWF4Q2FtZXJhQm91bmRzRGlzdGFuY2UoKSpNYXRoLmNvcyh0aGlzLl9waXRjaCksbj10aGlzLl9jYW1lcmEucG9zaXRpb25bMl0saT10WzJdO2xldCBvPTE7dGhpcy5wcm9qZWN0aW9uLndyYXAmJih0aGlzLmNlbnRlcj10aGlzLmNlbnRlci53cmFwKCkpLGk+MCYmKG89TWF0aC5taW4oKHItbikvaSwxKSksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPWUuc2NhbGVBbmRBZGQoW10sdGhpcy5fY2FtZXJhLnBvc2l0aW9uLHQsbyksdGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCl9X3VwZGF0ZVN0YXRlRnJvbUNhbWVyYSgpe2NvbnN0IHQ9dGhpcy5fY2FtZXJhLnBvc2l0aW9uLHI9dGhpcy5fY2FtZXJhLmZvcndhcmQoKSx7cGl0Y2g6bixiZWFyaW5nOml9PXRoaXMuX2NhbWVyYS5nZXRQaXRjaEJlYXJpbmcoKSxvPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKHRoaXMuX2NlbnRlckFsdGl0dWRlLHRoaXMuY2VudGVyLmxhdCkqdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxhPXRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX21heFpvb20pKk1hdGguY29zKGUuZGVnVG9SYWQodGhpcy5fbWF4UGl0Y2gpKSxzPU1hdGgubWF4KCh0WzJdLW8pL01hdGguY29zKG4pLGEpLGw9dGhpcy5fem9vbUZyb21NZXJjYXRvcloocyk7ZS5zY2FsZUFuZEFkZCh0LHQscixzKSx0aGlzLl9waXRjaD1lLmNsYW1wKG4sZS5kZWdUb1JhZCh0aGlzLm1pblBpdGNoKSxlLmRlZ1RvUmFkKHRoaXMubWF4UGl0Y2gpKSx0aGlzLmFuZ2xlPWUud3JhcChpLC1NYXRoLlBJLE1hdGguUEkpLHRoaXMuX3NldFpvb20oZS5jbGFtcChsLHRoaXMuX21pblpvb20sdGhpcy5fbWF4Wm9vbSkpLHRoaXMuX3VwZGF0ZVNlYUxldmVsWm9vbSgpLHRoaXMuX2NlbnRlcj10aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodFswXSx0WzFdLHRbMl0pKSx0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpfV93b3JsZFNpemVGcm9tWm9vbShlKXtyZXR1cm4gTWF0aC5wb3coMixlKSp0aGlzLnRpbGVTaXplfV9tZXJjYXRvclpmcm9tWm9vbShlKXtyZXR1cm4gdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL3RoaXMuX3dvcmxkU2l6ZUZyb21ab29tKGUpfV9taW5pbXVtSGVpZ2h0T3ZlclRlcnJhaW4oKXtjb25zdCBlPU1hdGgubWluKChudWxsIT10aGlzLl9zZWFMZXZlbFpvb20/dGhpcy5fc2VhTGV2ZWxab29tOnRoaXMuX3pvb20pKzIsdGhpcy5fbWF4Wm9vbSk7cmV0dXJuIHRoaXMuX21lcmNhdG9yWmZyb21ab29tKGUpfV96b29tRnJvbU1lcmNhdG9yWihlKXtyZXR1cm4gdGhpcy5zY2FsZVpvb20odGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLyhlKnRoaXMudGlsZVNpemUpKX16b29tRnJvbU1lcmNhdG9yWkFkanVzdGVkKGUpe2NvbnN0IHQ9dD0+e2NvbnN0IHI9dGhpcy5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHRoaXMucHJvamVjdGlvbix0KTtyZXR1cm4gdGhpcy5zY2FsZVpvb20oci8oZSp0aGlzLnRpbGVTaXplKSl9O2xldCByLG49dCh0aGlzLnpvb20pLGk9TWF0aC5hYnMobi10KG4pKTtmb3IoO3IhPT1pOyluPXQobikscj1pLGk9TWF0aC5hYnMobi10KG4pKTtyZXR1cm4gbn1fdGVycmFpbkVuYWJsZWQoKXtyZXR1cm4hKCF0aGlzLl9lbGV2YXRpb258fCF0aGlzLnByb2plY3Rpb24uc3VwcG9ydHNUZXJyYWluJiYoZS53YXJuT25jZShcIlRlcnJhaW4gaXMgbm90IHlldCBzdXBwb3J0ZWQgd2l0aCBhbHRlcm5hdGUgcHJvamVjdGlvbnMuIFVzZSBtZXJjYXRvciBvciBnbG9iZSB0byBlbmFibGUgdGVycmFpbi5cIiksMSkpfWFueUNvcm5lck9mZkVkZ2UodCxyKXtjb25zdCBuPU1hdGgubWluKHQueCxyLngpLGk9TWF0aC5tYXgodC54LHIueCksbz1NYXRoLm1pbih0Lnksci55KSxhPU1hdGgubWF4KHQueSxyLnkpO2lmKG88dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoITEpKXJldHVybiEwO2lmKFwibWVyY2F0b3JcIiE9PXRoaXMucHJvamVjdGlvbi5uYW1lKXJldHVybiExO2NvbnN0IHM9W25ldyBlLnBvaW50R2VvbWV0cnkobixvKSxuZXcgZS5wb2ludEdlb21ldHJ5KGksYSksbmV3IGUucG9pbnRHZW9tZXRyeShuLGEpLG5ldyBlLnBvaW50R2VvbWV0cnkoaSxvKV0sbD10aGlzLnJlbmRlcldvcmxkQ29waWVzPy0zOjAsYz10aGlzLnJlbmRlcldvcmxkQ29waWVzPzQ6MTtmb3IoY29uc3QgZSBvZiBzKXtjb25zdCB0PXRoaXMucG9pbnRSYXlJbnRlcnNlY3Rpb24oZSk7aWYodC50PDApcmV0dXJuITA7Y29uc3Qgcj10aGlzLnJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUodCk7aWYoci54PGx8fHIueTwwfHxyLng+Y3x8ci55PjEpcmV0dXJuITB9cmV0dXJuITF9aXNIb3Jpem9uVmlzaWJsZSgpe3JldHVybiB0aGlzLnBpdGNoK2UucmFkVG9EZWcodGhpcy5mb3ZBYm92ZUNlbnRlcik+ODh8fHRoaXMuYW55Q29ybmVyT2ZmRWRnZShuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCksbmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSl9em9vbURlbHRhVG9Nb3ZlbWVudCh0LHIpe2NvbnN0IG49ZS5sZW5ndGgoZS5zdWIoW10sdGhpcy5fY2FtZXJhLnBvc2l0aW9uLHQpKSxpPXRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKG4pK3I7cmV0dXJuIG4tdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20oaSl9Z2V0Q2FtZXJhUG9pbnQoKXtpZihcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgdD1mdW5jdGlvbih0LHIpe2NvbnN0IG49W3RbMF0sdFsxXSx0WzJdLDFdO2UudHJhbnNmb3JtTWF0NCQxKG4sbixyKTtjb25zdCBpPU1hdGgubWF4KG5bM10sMWUtNik7cmV0dXJuW25bMF0vaSxuWzFdL2ksblsyXS9pLGldfShbdGhpcy5nbG9iZU1hdHJpeFsxMl0sdGhpcy5nbG9iZU1hdHJpeFsxM10sdGhpcy5nbG9iZU1hdHJpeFsxNF1dLHRoaXMucGl4ZWxNYXRyaXgpO3JldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KHRbMF0sdFsxXSl9e2NvbnN0IHQ9TWF0aC50YW4odGhpcy5fcGl0Y2gpKih0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2V8fDEpO3JldHVybiB0aGlzLmNlbnRlclBvaW50LmFkZChuZXcgZS5wb2ludEdlb21ldHJ5KDAsdCkpfX1nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKGUsdD10aGlzLnpvb20pe2NvbnN0IHI9V24oZSx0LHRoaXMud2lkdGgsdGhpcy5oZWlnaHQsMTAyNCksbj1lLnBpeGVsU3BhY2VDb252ZXJzaW9uKHRoaXMuY2VudGVyLmxhdCx0aGlzLndvcmxkU2l6ZSxyKTtyZXR1cm4uNS9NYXRoLnRhbiguNSp0aGlzLl9mb3YpKnRoaXMuaGVpZ2h0Km59Z2V0V29ybGRUb0NhbWVyYU1hdHJpeCgpe2NvbnN0IHQ9dGhpcy5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmEodGhpcy53b3JsZFNpemUsXCJtZXRlcnNcIj09PXRoaXMucHJvamVjdGlvbi56QXhpc1VuaXQ/dGhpcy5waXhlbHNQZXJNZXRlcjoxKTtyZXR1cm5cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSYmZS5tdWx0aXBseSh0LHQsdGhpcy5nbG9iZU1hdHJpeCksdH19ZnVuY3Rpb24gSm4oZSx0KXtsZXQgcj0hMSxuPW51bGw7Y29uc3QgaT0oKT0+e249bnVsbCxyJiYoZSgpLG49c2V0VGltZW91dChpLHQpLHI9ITEpfTtyZXR1cm4oKT0+KHI9ITAsbnx8aSgpLG4pfWNsYXNzIFFue2NvbnN0cnVjdG9yKHQpe3RoaXMuX2hhc2hOYW1lPXQmJmVuY29kZVVSSUNvbXBvbmVudCh0KSxlLmJpbmRBbGwoW1wiX2dldEN1cnJlbnRIYXNoXCIsXCJfb25IYXNoQ2hhbmdlXCIsXCJfdXBkYXRlSGFzaFwiXSx0aGlzKSx0aGlzLl91cGRhdGVIYXNoPUpuKHRoaXMuX3VwZGF0ZUhhc2hVbnRocm90dGxlZC5iaW5kKHRoaXMpLDMwMCl9YWRkVG8odCl7cmV0dXJuIHRoaXMuX21hcD10LGUud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJoYXNoY2hhbmdlXCIsdGhpcy5fb25IYXNoQ2hhbmdlLCExKSx0Lm9uKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUhhc2gpLHRoaXN9cmVtb3ZlKCl7cmV0dXJuIHRoaXMuX21hcD8odGhpcy5fbWFwLm9mZihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGVIYXNoKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHRoaXMuX29uSGFzaENoYW5nZSwhMSksY2xlYXJUaW1lb3V0KHRoaXMuX3VwZGF0ZUhhc2goKSksdGhpcy5fbWFwPXZvaWQgMCx0aGlzKTp0aGlzfWdldEhhc2hTdHJpbmcoKXtjb25zdCB0PXRoaXMuX21hcDtpZighdClyZXR1cm5cIlwiO2NvbnN0IHI9ZWkodCk7aWYodGhpcy5faGFzaE5hbWUpe2NvbnN0IHQ9dGhpcy5faGFzaE5hbWU7bGV0IG49ITE7Y29uc3QgaT1lLndpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLnNwbGl0KFwiJlwiKS5tYXAoZT0+e2NvbnN0IGk9ZS5zcGxpdChcIj1cIilbMF07cmV0dXJuIGk9PT10PyhuPSEwLGAke2l9PSR7cn1gKTplfSkuZmlsdGVyKGU9PmUpO3JldHVybiBufHxpLnB1c2goYCR7dH09JHtyfWApLFwiI1wiK2kuam9pbihcIiZcIil9cmV0dXJuXCIjXCIrcn1fZ2V0Q3VycmVudEhhc2goKXtjb25zdCB0PWUud2luZG93LmxvY2F0aW9uLmhhc2gucmVwbGFjZShcIiNcIixcIlwiKTtpZih0aGlzLl9oYXNoTmFtZSl7bGV0IGU7cmV0dXJuIHQuc3BsaXQoXCImXCIpLm1hcChlPT5lLnNwbGl0KFwiPVwiKSkuZm9yRWFjaCh0PT57dFswXT09PXRoaXMuX2hhc2hOYW1lJiYoZT10KX0pLChlJiZlWzFdfHxcIlwiKS5zcGxpdChcIi9cIil9cmV0dXJuIHQuc3BsaXQoXCIvXCIpfV9vbkhhc2hDaGFuZ2UoKXtjb25zdCBlPXRoaXMuX21hcDtpZighZSlyZXR1cm4hMTtjb25zdCB0PXRoaXMuX2dldEN1cnJlbnRIYXNoKCk7aWYodC5sZW5ndGg+PTMmJiF0LnNvbWUoZT0+aXNOYU4oZSkpKXtjb25zdCByPWUuZHJhZ1JvdGF0ZS5pc0VuYWJsZWQoKSYmZS50b3VjaFpvb21Sb3RhdGUuaXNFbmFibGVkKCk/Kyh0WzNdfHwwKTplLmdldEJlYXJpbmcoKTtyZXR1cm4gZS5qdW1wVG8oe2NlbnRlcjpbK3RbMl0sK3RbMV1dLHpvb206K3RbMF0sYmVhcmluZzpyLHBpdGNoOisodFs0XXx8MCl9KSwhMH1yZXR1cm4hMX1fdXBkYXRlSGFzaFVudGhyb3R0bGVkKCl7Y29uc3QgdD1lLndpbmRvdy5sb2NhdGlvbi5ocmVmLnJlcGxhY2UoLygjLispPyQvLHRoaXMuZ2V0SGFzaFN0cmluZygpKTtlLndpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShlLndpbmRvdy5oaXN0b3J5LnN0YXRlLG51bGwsdCl9fWZ1bmN0aW9uIGVpKGUsdCl7Y29uc3Qgcj1lLmdldENlbnRlcigpLG49TWF0aC5yb3VuZCgxMDAqZS5nZXRab29tKCkpLzEwMCxpPU1hdGguY2VpbCgobipNYXRoLkxOMitNYXRoLmxvZyg1MTIvMzYwLy41KSkvTWF0aC5MTjEwKSxvPU1hdGgucG93KDEwLGkpLGE9TWF0aC5yb3VuZChyLmxuZypvKS9vLHM9TWF0aC5yb3VuZChyLmxhdCpvKS9vLGw9ZS5nZXRCZWFyaW5nKCksYz1lLmdldFBpdGNoKCk7bGV0IHU9dD9gLyR7YX0vJHtzfS8ke259YDpgJHtufS8ke3N9LyR7YX1gO3JldHVybihsfHxjKSYmKHUrPVwiL1wiK01hdGgucm91bmQoMTAqbCkvMTApLGMmJih1Kz1cIi9cIitNYXRoLnJvdW5kKGMpKSx1fWNvbnN0IHRpPXtsaW5lYXJpdHk6LjMsZWFzaW5nOmUuYmV6aWVyKDAsMCwuMywxKX0scmk9ZS5leHRlbmQoe2RlY2VsZXJhdGlvbjoyNTAwLG1heFNwZWVkOjE0MDB9LHRpKSxuaT1lLmV4dGVuZCh7ZGVjZWxlcmF0aW9uOjIwLG1heFNwZWVkOjE0MDB9LHRpKSxpaT1lLmV4dGVuZCh7ZGVjZWxlcmF0aW9uOjFlMyxtYXhTcGVlZDozNjB9LHRpKSxvaT1lLmV4dGVuZCh7ZGVjZWxlcmF0aW9uOjFlMyxtYXhTcGVlZDo5MH0sdGkpO2NsYXNzIGFpe2NvbnN0cnVjdG9yKGUpe3RoaXMuX21hcD1lLHRoaXMuY2xlYXIoKX1jbGVhcigpe3RoaXMuX2luZXJ0aWFCdWZmZXI9W119cmVjb3JkKHQpe3RoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpLHRoaXMuX2luZXJ0aWFCdWZmZXIucHVzaCh7dGltZTplLmV4cG9ydGVkLm5vdygpLHNldHRpbmdzOnR9KX1fZHJhaW5JbmVydGlhQnVmZmVyKCl7Y29uc3QgdD10aGlzLl9pbmVydGlhQnVmZmVyLHI9ZS5leHBvcnRlZC5ub3coKTtmb3IoO3QubGVuZ3RoPjAmJnItdFswXS50aW1lPjE2MDspdC5zaGlmdCgpfV9vbk1vdmVFbmQodCl7aWYodGhpcy5fZHJhaW5JbmVydGlhQnVmZmVyKCksdGhpcy5faW5lcnRpYUJ1ZmZlci5sZW5ndGg8MilyZXR1cm47Y29uc3Qgcj17em9vbTowLGJlYXJpbmc6MCxwaXRjaDowLHBhbjpuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCkscGluY2hBcm91bmQ6dm9pZCAwLGFyb3VuZDp2b2lkIDB9O2Zvcihjb25zdHtzZXR0aW5nczplfW9mIHRoaXMuX2luZXJ0aWFCdWZmZXIpci56b29tKz1lLnpvb21EZWx0YXx8MCxyLmJlYXJpbmcrPWUuYmVhcmluZ0RlbHRhfHwwLHIucGl0Y2grPWUucGl0Y2hEZWx0YXx8MCxlLnBhbkRlbHRhJiZyLnBhbi5fYWRkKGUucGFuRGVsdGEpLGUuYXJvdW5kJiYoci5hcm91bmQ9ZS5hcm91bmQpLGUucGluY2hBcm91bmQmJihyLnBpbmNoQXJvdW5kPWUucGluY2hBcm91bmQpO2NvbnN0IG49dGhpcy5faW5lcnRpYUJ1ZmZlclt0aGlzLl9pbmVydGlhQnVmZmVyLmxlbmd0aC0xXS50aW1lLXRoaXMuX2luZXJ0aWFCdWZmZXJbMF0udGltZSxpPXt9O2lmKHIucGFuLm1hZygpKXtjb25zdCBvPWxpKHIucGFuLm1hZygpLG4sZS5leHRlbmQoe30scmksdHx8e30pKTtpLm9mZnNldD1yLnBhbi5tdWx0KG8uYW1vdW50L3IucGFuLm1hZygpKSxpLmNlbnRlcj10aGlzLl9tYXAudHJhbnNmb3JtLmNlbnRlcixzaShpLG8pfWlmKHIuem9vbSl7Y29uc3QgZT1saShyLnpvb20sbixuaSk7aS56b29tPXRoaXMuX21hcC50cmFuc2Zvcm0uem9vbStlLmFtb3VudCxzaShpLGUpfWlmKHIuYmVhcmluZyl7Y29uc3QgdD1saShyLmJlYXJpbmcsbixpaSk7aS5iZWFyaW5nPXRoaXMuX21hcC50cmFuc2Zvcm0uYmVhcmluZytlLmNsYW1wKHQuYW1vdW50LC0xNzksMTc5KSxzaShpLHQpfWlmKHIucGl0Y2gpe2NvbnN0IGU9bGkoci5waXRjaCxuLG9pKTtpLnBpdGNoPXRoaXMuX21hcC50cmFuc2Zvcm0ucGl0Y2grZS5hbW91bnQsc2koaSxlKX1pZihpLnpvb218fGkuYmVhcmluZyl7Y29uc3QgZT12b2lkIDA9PT1yLnBpbmNoQXJvdW5kP3IuYXJvdW5kOnIucGluY2hBcm91bmQ7aS5hcm91bmQ9ZT90aGlzLl9tYXAudW5wcm9qZWN0KGUpOnRoaXMuX21hcC5nZXRDZW50ZXIoKX1yZXR1cm4gdGhpcy5jbGVhcigpLGkubm9Nb3ZlU3RhcnQ9ITAsaX19ZnVuY3Rpb24gc2koZSx0KXsoIWUuZHVyYXRpb258fGUuZHVyYXRpb248dC5kdXJhdGlvbikmJihlLmR1cmF0aW9uPXQuZHVyYXRpb24sZS5lYXNpbmc9dC5lYXNpbmcpfWZ1bmN0aW9uIGxpKHQscixuKXtjb25zdHttYXhTcGVlZDppLGxpbmVhcml0eTpvLGRlY2VsZXJhdGlvbjphfT1uLHM9ZS5jbGFtcCh0Km8vKHIvMWUzKSwtaSxpKSxsPU1hdGguYWJzKHMpLyhhKm8pO3JldHVybntlYXNpbmc6bi5lYXNpbmcsZHVyYXRpb246MWUzKmwsYW1vdW50OnMqKGwvMil9fWNsYXNzIGNpIGV4dGVuZHMgZS5FdmVudHtwcmV2ZW50RGVmYXVsdCgpe3RoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITB9Z2V0IGRlZmF1bHRQcmV2ZW50ZWQoKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZH1jb25zdHJ1Y3Rvcih0LHIsbixpPXt9KXtjb25zdCBvPWYoci5nZXRDYW52YXNDb250YWluZXIoKSxuKSxhPXIudW5wcm9qZWN0KG8pO3N1cGVyKHQsZS5leHRlbmQoe3BvaW50Om8sbG5nTGF0OmEsb3JpZ2luYWxFdmVudDpufSxpKSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMSx0aGlzLnRhcmdldD1yfX1jbGFzcyB1aSBleHRlbmRzIGUuRXZlbnR7cHJldmVudERlZmF1bHQoKXt0aGlzLl9kZWZhdWx0UHJldmVudGVkPSEwfWdldCBkZWZhdWx0UHJldmVudGVkKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9Y29uc3RydWN0b3IodCxyLG4pe2NvbnN0IGk9XCJ0b3VjaGVuZFwiPT09dD9uLmNoYW5nZWRUb3VjaGVzOm4udG91Y2hlcyxvPW0oci5nZXRDYW52YXNDb250YWluZXIoKSxpKSxhPW8ubWFwKGU9PnIudW5wcm9qZWN0KGUpKSxzPW8ucmVkdWNlKChlLHQscixuKT0+ZS5hZGQodC5kaXYobi5sZW5ndGgpKSxuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCkpO3N1cGVyKHQse3BvaW50czpvLHBvaW50OnMsbG5nTGF0czphLGxuZ0xhdDpyLnVucHJvamVjdChzKSxvcmlnaW5hbEV2ZW50Om59KSx0aGlzLl9kZWZhdWx0UHJldmVudGVkPSExfX1jbGFzcyBoaSBleHRlbmRzIGUuRXZlbnR7cHJldmVudERlZmF1bHQoKXt0aGlzLl9kZWZhdWx0UHJldmVudGVkPSEwfWdldCBkZWZhdWx0UHJldmVudGVkKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9Y29uc3RydWN0b3IoZSx0LHIpe3N1cGVyKGUse29yaWdpbmFsRXZlbnQ6cn0pLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITF9fWNsYXNzIGRpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fbWFwPWUsdGhpcy5fY2xpY2tUb2xlcmFuY2U9dC5jbGlja1RvbGVyYW5jZX1yZXNldCgpe3RoaXMuX21vdXNlZG93blBvcz12b2lkIDB9d2hlZWwoZSl7cmV0dXJuIHRoaXMuX2ZpcmVQcmV2ZW50YWJsZShuZXcgaGkoZS50eXBlLHRoaXMuX21hcCxlKSl9bW91c2Vkb3duKGUsdCl7cmV0dXJuIHRoaXMuX21vdXNlZG93blBvcz10LHRoaXMuX2ZpcmVQcmV2ZW50YWJsZShuZXcgY2koZS50eXBlLHRoaXMuX21hcCxlKSl9bW91c2V1cChlKXt0aGlzLl9tYXAuZmlyZShuZXcgY2koZS50eXBlLHRoaXMuX21hcCxlKSl9cHJlY2xpY2sodCl7Y29uc3Qgcj1lLmV4dGVuZCh7fSx0KTtyLnR5cGU9XCJwcmVjbGlja1wiLHRoaXMuX21hcC5maXJlKG5ldyBjaShyLnR5cGUsdGhpcy5fbWFwLHIpKX1jbGljayhlLHQpe3RoaXMuX21vdXNlZG93blBvcyYmdGhpcy5fbW91c2Vkb3duUG9zLmRpc3QodCk+PXRoaXMuX2NsaWNrVG9sZXJhbmNlfHwodGhpcy5wcmVjbGljayhlKSx0aGlzLl9tYXAuZmlyZShuZXcgY2koZS50eXBlLHRoaXMuX21hcCxlKSkpfWRibGNsaWNrKGUpe3JldHVybiB0aGlzLl9maXJlUHJldmVudGFibGUobmV3IGNpKGUudHlwZSx0aGlzLl9tYXAsZSkpfW1vdXNlb3ZlcihlKXt0aGlzLl9tYXAuZmlyZShuZXcgY2koZS50eXBlLHRoaXMuX21hcCxlKSl9bW91c2VvdXQoZSl7dGhpcy5fbWFwLmZpcmUobmV3IGNpKGUudHlwZSx0aGlzLl9tYXAsZSkpfXRvdWNoc3RhcnQoZSl7cmV0dXJuIHRoaXMuX2ZpcmVQcmV2ZW50YWJsZShuZXcgdWkoZS50eXBlLHRoaXMuX21hcCxlKSl9dG91Y2htb3ZlKGUpe3RoaXMuX21hcC5maXJlKG5ldyB1aShlLnR5cGUsdGhpcy5fbWFwLGUpKX10b3VjaGVuZChlKXt0aGlzLl9tYXAuZmlyZShuZXcgdWkoZS50eXBlLHRoaXMuX21hcCxlKSl9dG91Y2hjYW5jZWwoZSl7dGhpcy5fbWFwLmZpcmUobmV3IHVpKGUudHlwZSx0aGlzLl9tYXAsZSkpfV9maXJlUHJldmVudGFibGUoZSl7aWYodGhpcy5fbWFwLmZpcmUoZSksZS5kZWZhdWx0UHJldmVudGVkKXJldHVybnt9fWlzRW5hYmxlZCgpe3JldHVybiEwfWlzQWN0aXZlKCl7cmV0dXJuITF9ZW5hYmxlKCl7fWRpc2FibGUoKXt9fWNsYXNzIHBpe2NvbnN0cnVjdG9yKGUpe3RoaXMuX21hcD1lfXJlc2V0KCl7dGhpcy5fZGVsYXlDb250ZXh0TWVudT0hMSx0aGlzLl9jb250ZXh0TWVudUV2ZW50PXZvaWQgMH1tb3VzZW1vdmUoZSl7dGhpcy5fbWFwLmZpcmUobmV3IGNpKGUudHlwZSx0aGlzLl9tYXAsZSkpfW1vdXNlZG93bigpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU9ITB9bW91c2V1cCgpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU9ITEsdGhpcy5fY29udGV4dE1lbnVFdmVudCYmKHRoaXMuX21hcC5maXJlKG5ldyBjaShcImNvbnRleHRtZW51XCIsdGhpcy5fbWFwLHRoaXMuX2NvbnRleHRNZW51RXZlbnQpKSxkZWxldGUgdGhpcy5fY29udGV4dE1lbnVFdmVudCl9Y29udGV4dG1lbnUoZSl7dGhpcy5fZGVsYXlDb250ZXh0TWVudT90aGlzLl9jb250ZXh0TWVudUV2ZW50PWU6dGhpcy5fbWFwLmZpcmUobmV3IGNpKGUudHlwZSx0aGlzLl9tYXAsZSkpLHRoaXMuX21hcC5saXN0ZW5zKFwiY29udGV4dG1lbnVcIikmJmUucHJldmVudERlZmF1bHQoKX1pc0VuYWJsZWQoKXtyZXR1cm4hMH1pc0FjdGl2ZSgpe3JldHVybiExfWVuYWJsZSgpe31kaXNhYmxlKCl7fX1jbGFzcyBmaXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX21hcD1lLHRoaXMuX2VsPWUuZ2V0Q2FudmFzQ29udGFpbmVyKCksdGhpcy5fY29udGFpbmVyPWUuZ2V0Q29udGFpbmVyKCksdGhpcy5fY2xpY2tUb2xlcmFuY2U9dC5jbGlja1RvbGVyYW5jZXx8MX1pc0VuYWJsZWQoKXtyZXR1cm4hIXRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4hIXRoaXMuX2FjdGl2ZX1lbmFibGUoKXt0aGlzLmlzRW5hYmxlZCgpfHwodGhpcy5fZW5hYmxlZD0hMCl9ZGlzYWJsZSgpe3RoaXMuaXNFbmFibGVkKCkmJih0aGlzLl9lbmFibGVkPSExKX1tb3VzZWRvd24oZSx0KXt0aGlzLmlzRW5hYmxlZCgpJiZlLnNoaWZ0S2V5JiYwPT09ZS5idXR0b24mJih1KCksdGhpcy5fc3RhcnRQb3M9dGhpcy5fbGFzdFBvcz10LHRoaXMuX2FjdGl2ZT0hMCl9bW91c2Vtb3ZlV2luZG93KGUsdCl7aWYoIXRoaXMuX2FjdGl2ZSlyZXR1cm47Y29uc3Qgcj10LG49dGhpcy5fc3RhcnRQb3MsaT10aGlzLl9sYXN0UG9zO2lmKCFufHwhaXx8aS5lcXVhbHMocil8fCF0aGlzLl9ib3gmJnIuZGlzdChuKTx0aGlzLl9jbGlja1RvbGVyYW5jZSlyZXR1cm47dGhpcy5fbGFzdFBvcz1yLHRoaXMuX2JveHx8KHRoaXMuX2JveD1vKFwiZGl2XCIsXCJtYXBib3hnbC1ib3h6b29tXCIsdGhpcy5fY29udGFpbmVyKSx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWNyb3NzaGFpclwiKSx0aGlzLl9maXJlRXZlbnQoXCJib3h6b29tc3RhcnRcIixlKSk7Y29uc3QgYT1NYXRoLm1pbihuLngsci54KSxzPU1hdGgubWF4KG4ueCxyLngpLGw9TWF0aC5taW4obi55LHIueSksYz1NYXRoLm1heChuLnksci55KTt0aGlzLl9tYXAuX3JlcXVlc3REb21UYXNrKCgpPT57dGhpcy5fYm94JiYodGhpcy5fYm94LnN0eWxlLnRyYW5zZm9ybT1gdHJhbnNsYXRlKCR7YX1weCwke2x9cHgpYCx0aGlzLl9ib3guc3R5bGUud2lkdGg9cy1hK1wicHhcIix0aGlzLl9ib3guc3R5bGUuaGVpZ2h0PWMtbCtcInB4XCIpfSl9bW91c2V1cFdpbmRvdyh0LHIpe2lmKCF0aGlzLl9hY3RpdmUpcmV0dXJuO2NvbnN0IG49dGhpcy5fc3RhcnRQb3MsaT1yO2lmKG4mJjA9PT10LmJ1dHRvbil7aWYodGhpcy5yZXNldCgpLHAoKSxuLnghPT1pLnh8fG4ueSE9PWkueSlyZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IGUuRXZlbnQoXCJib3h6b29tZW5kXCIse29yaWdpbmFsRXZlbnQ6dH0pKSx7Y2FtZXJhQW5pbWF0aW9uOmU9PmUuZml0U2NyZWVuQ29vcmRpbmF0ZXMobixpLHRoaXMuX21hcC5nZXRCZWFyaW5nKCkse2xpbmVhcjohMX0pfTt0aGlzLl9maXJlRXZlbnQoXCJib3h6b29tY2FuY2VsXCIsdCl9fWtleWRvd24oZSl7dGhpcy5fYWN0aXZlJiYyNz09PWUua2V5Q29kZSYmKHRoaXMucmVzZXQoKSx0aGlzLl9maXJlRXZlbnQoXCJib3h6b29tY2FuY2VsXCIsZSkpfWJsdXIoKXt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jcm9zc2hhaXJcIiksdGhpcy5fYm94JiYodGhpcy5fYm94LnJlbW92ZSgpLHRoaXMuX2JveD1udWxsKSxoKCksZGVsZXRlIHRoaXMuX3N0YXJ0UG9zLGRlbGV0ZSB0aGlzLl9sYXN0UG9zfV9maXJlRXZlbnQodCxyKXtyZXR1cm4gdGhpcy5fbWFwLmZpcmUobmV3IGUuRXZlbnQodCx7b3JpZ2luYWxFdmVudDpyfSkpfX1mdW5jdGlvbiBtaShlLHQpe2NvbnN0IHI9e307Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspcltlW25dLmlkZW50aWZpZXJdPXRbbl07cmV0dXJuIHJ9Y2xhc3MgZ2l7Y29uc3RydWN0b3IoZSl7dGhpcy5yZXNldCgpLHRoaXMubnVtVG91Y2hlcz1lLm51bVRvdWNoZXN9cmVzZXQoKXt0aGlzLmNlbnRyb2lkPXZvaWQgMCx0aGlzLnN0YXJ0VGltZT0wLHRoaXMudG91Y2hlcz17fSx0aGlzLmFib3J0ZWQ9ITF9dG91Y2hzdGFydCh0LHIsbil7KHRoaXMuY2VudHJvaWR8fG4ubGVuZ3RoPnRoaXMubnVtVG91Y2hlcykmJih0aGlzLmFib3J0ZWQ9ITApLHRoaXMuYWJvcnRlZHx8KDA9PT10aGlzLnN0YXJ0VGltZSYmKHRoaXMuc3RhcnRUaW1lPXQudGltZVN0YW1wKSxuLmxlbmd0aD09PXRoaXMubnVtVG91Y2hlcyYmKHRoaXMuY2VudHJvaWQ9ZnVuY3Rpb24odCl7Y29uc3Qgcj1uZXcgZS5wb2ludEdlb21ldHJ5KDAsMCk7Zm9yKGNvbnN0IGUgb2YgdClyLl9hZGQoZSk7cmV0dXJuIHIuZGl2KHQubGVuZ3RoKX0ociksdGhpcy50b3VjaGVzPW1pKG4scikpKX10b3VjaG1vdmUoZSx0LHIpe2lmKHRoaXMuYWJvcnRlZHx8IXRoaXMuY2VudHJvaWQpcmV0dXJuO2NvbnN0IG49bWkocix0KTtmb3IoY29uc3QgZSBpbiB0aGlzLnRvdWNoZXMpe2NvbnN0IHQ9dGhpcy50b3VjaGVzW2VdLHI9bltlXTsoIXJ8fHIuZGlzdCh0KT4zMCkmJih0aGlzLmFib3J0ZWQ9ITApfX10b3VjaGVuZChlLHQscil7aWYoKCF0aGlzLmNlbnRyb2lkfHxlLnRpbWVTdGFtcC10aGlzLnN0YXJ0VGltZT41MDApJiYodGhpcy5hYm9ydGVkPSEwKSwwPT09ci5sZW5ndGgpe2NvbnN0IGU9IXRoaXMuYWJvcnRlZCYmdGhpcy5jZW50cm9pZDtpZih0aGlzLnJlc2V0KCksZSlyZXR1cm4gZX19fWNsYXNzIF9pe2NvbnN0cnVjdG9yKGUpe3RoaXMuc2luZ2xlVGFwPW5ldyBnaShlKSx0aGlzLm51bVRhcHM9ZS5udW1UYXBzLHRoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMubGFzdFRpbWU9MS8wLHRoaXMubGFzdFRhcD12b2lkIDAsdGhpcy5jb3VudD0wLHRoaXMuc2luZ2xlVGFwLnJlc2V0KCl9dG91Y2hzdGFydChlLHQscil7dGhpcy5zaW5nbGVUYXAudG91Y2hzdGFydChlLHQscil9dG91Y2htb3ZlKGUsdCxyKXt0aGlzLnNpbmdsZVRhcC50b3VjaG1vdmUoZSx0LHIpfXRvdWNoZW5kKGUsdCxyKXtjb25zdCBuPXRoaXMuc2luZ2xlVGFwLnRvdWNoZW5kKGUsdCxyKTtpZihuKXtjb25zdCB0PWUudGltZVN0YW1wLXRoaXMubGFzdFRpbWU8NTAwLHI9IXRoaXMubGFzdFRhcHx8dGhpcy5sYXN0VGFwLmRpc3Qobik8MzA7aWYodCYmcnx8dGhpcy5yZXNldCgpLHRoaXMuY291bnQrKyx0aGlzLmxhc3RUaW1lPWUudGltZVN0YW1wLHRoaXMubGFzdFRhcD1uLHRoaXMuY291bnQ9PT10aGlzLm51bVRhcHMpcmV0dXJuIHRoaXMucmVzZXQoKSxufX19Y2xhc3MgeWl7Y29uc3RydWN0b3IoKXt0aGlzLl96b29tSW49bmV3IF9pKHtudW1Ub3VjaGVzOjEsbnVtVGFwczoyfSksdGhpcy5fem9vbU91dD1uZXcgX2koe251bVRvdWNoZXM6MixudW1UYXBzOjF9KSx0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fem9vbUluLnJlc2V0KCksdGhpcy5fem9vbU91dC5yZXNldCgpfXRvdWNoc3RhcnQoZSx0LHIpe3RoaXMuX3pvb21Jbi50b3VjaHN0YXJ0KGUsdCxyKSx0aGlzLl96b29tT3V0LnRvdWNoc3RhcnQoZSx0LHIpfXRvdWNobW92ZShlLHQscil7dGhpcy5fem9vbUluLnRvdWNobW92ZShlLHQsciksdGhpcy5fem9vbU91dC50b3VjaG1vdmUoZSx0LHIpfXRvdWNoZW5kKGUsdCxyKXtjb25zdCBuPXRoaXMuX3pvb21Jbi50b3VjaGVuZChlLHQsciksaT10aGlzLl96b29tT3V0LnRvdWNoZW5kKGUsdCxyKTtyZXR1cm4gbj8odGhpcy5fYWN0aXZlPSEwLGUucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KCgpPT50aGlzLnJlc2V0KCksMCkse2NhbWVyYUFuaW1hdGlvbjp0PT50LmVhc2VUbyh7ZHVyYXRpb246MzAwLHpvb206dC5nZXRab29tKCkrMSxhcm91bmQ6dC51bnByb2plY3Qobil9LHtvcmlnaW5hbEV2ZW50OmV9KX0pOmk/KHRoaXMuX2FjdGl2ZT0hMCxlLnByZXZlbnREZWZhdWx0KCksc2V0VGltZW91dCgoKT0+dGhpcy5yZXNldCgpLDApLHtjYW1lcmFBbmltYXRpb246dD0+dC5lYXNlVG8oe2R1cmF0aW9uOjMwMCx6b29tOnQuZ2V0Wm9vbSgpLTEsYXJvdW5kOnQudW5wcm9qZWN0KGkpfSx7b3JpZ2luYWxFdmVudDplfSl9KTp2b2lkIDB9dG91Y2hjYW5jZWwoKXt0aGlzLnJlc2V0KCl9ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMH1kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCl9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfX1jb25zdCB2aT17MDoxLDI6Mn07Y2xhc3MgeGl7Y29uc3RydWN0b3IoZSl7dGhpcy5yZXNldCgpLHRoaXMuX2NsaWNrVG9sZXJhbmNlPWUuY2xpY2tUb2xlcmFuY2V8fDF9Ymx1cigpe3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9tb3ZlZD0hMSx0aGlzLl9sYXN0UG9pbnQ9dm9pZCAwLHRoaXMuX2V2ZW50QnV0dG9uPXZvaWQgMH1fY29ycmVjdEJ1dHRvbihlLHQpe3JldHVybiExfV9tb3ZlKGUsdCl7cmV0dXJue319bW91c2Vkb3duKGUsdCl7aWYodGhpcy5fbGFzdFBvaW50KXJldHVybjtjb25zdCByPWcoZSk7dGhpcy5fY29ycmVjdEJ1dHRvbihlLHIpJiYodGhpcy5fbGFzdFBvaW50PXQsdGhpcy5fZXZlbnRCdXR0b249cil9bW91c2Vtb3ZlV2luZG93KGUsdCl7Y29uc3Qgcj10aGlzLl9sYXN0UG9pbnQ7aWYocilpZihlLnByZXZlbnREZWZhdWx0KCksbnVsbCE9dGhpcy5fZXZlbnRCdXR0b24mJmZ1bmN0aW9uKGUsdCl7Y29uc3Qgcj12aVt0XTtyZXR1cm4gdm9pZCAwPT09ZS5idXR0b25zfHwoZS5idXR0b25zJnIpIT09cn0oZSx0aGlzLl9ldmVudEJ1dHRvbikpdGhpcy5yZXNldCgpO2Vsc2UgaWYodGhpcy5fbW92ZWR8fCEodC5kaXN0KHIpPHRoaXMuX2NsaWNrVG9sZXJhbmNlKSlyZXR1cm4gdGhpcy5fbW92ZWQ9ITAsdGhpcy5fbGFzdFBvaW50PXQsdGhpcy5fbW92ZShyLHQpfW1vdXNldXBXaW5kb3coZSl7dGhpcy5fbGFzdFBvaW50JiZnKGUpPT09dGhpcy5fZXZlbnRCdXR0b24mJih0aGlzLl9tb3ZlZCYmcCgpLHRoaXMucmVzZXQoKSl9ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMH1kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCl9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfX1jbGFzcyBiaSBleHRlbmRzIHhpe21vdXNlZG93bihlLHQpe3N1cGVyLm1vdXNlZG93bihlLHQpLHRoaXMuX2xhc3RQb2ludCYmKHRoaXMuX2FjdGl2ZT0hMCl9X2NvcnJlY3RCdXR0b24oZSx0KXtyZXR1cm4gMD09PXQmJiFlLmN0cmxLZXl9X21vdmUoZSx0KXtyZXR1cm57YXJvdW5kOnQscGFuRGVsdGE6dC5zdWIoZSl9fX1jbGFzcyB3aSBleHRlbmRzIHhpe19jb3JyZWN0QnV0dG9uKGUsdCl7cmV0dXJuIDA9PT10JiZlLmN0cmxLZXl8fDI9PT10fV9tb3ZlKGUsdCl7Y29uc3Qgcj0uOCoodC54LWUueCk7aWYocilyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHtiZWFyaW5nRGVsdGE6cn19Y29udGV4dG1lbnUoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfX1jbGFzcyBUaSBleHRlbmRzIHhpe19jb3JyZWN0QnV0dG9uKGUsdCl7cmV0dXJuIDA9PT10JiZlLmN0cmxLZXl8fDI9PT10fV9tb3ZlKGUsdCl7Y29uc3Qgcj0tLjUqKHQueS1lLnkpO2lmKHIpcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7cGl0Y2hEZWx0YTpyfX1jb250ZXh0bWVudShlKXtlLnByZXZlbnREZWZhdWx0KCl9fWNsYXNzIEVpe2NvbnN0cnVjdG9yKHQscil7dGhpcy5fbWFwPXQsdGhpcy5fZWw9dC5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9taW5Ub3VjaGVzPTEsdGhpcy5fY2xpY2tUb2xlcmFuY2U9ci5jbGlja1RvbGVyYW5jZXx8MSx0aGlzLnJlc2V0KCksZS5iaW5kQWxsKFtcIl9hZGRUb3VjaFBhbkJsb2NrZXJcIixcIl9zaG93VG91Y2hQYW5CbG9ja2VyQWxlcnRcIl0sdGhpcyl9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fdG91Y2hlcz17fSx0aGlzLl9zdW09bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApfXRvdWNoc3RhcnQoZSx0LHIpe3JldHVybiB0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0oZSx0LHIpfXRvdWNobW92ZSh0LHIsbil7aWYodGhpcy5fYWN0aXZlJiYhKG4ubGVuZ3RoPHRoaXMuX21pblRvdWNoZXMpKXtpZih0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJiF0aGlzLl9tYXAuaXNNb3ZpbmcoKSl7aWYoMT09PW4ubGVuZ3RoJiYhZS5pc0Z1bGxzY3JlZW4oKSlyZXR1cm4gdm9pZCB0aGlzLl9zaG93VG91Y2hQYW5CbG9ja2VyQWxlcnQoKTtcImhpZGRlblwiIT09dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSYmKHRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIixjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lcikpfXJldHVybiB0LmNhbmNlbGFibGUmJnQucHJldmVudERlZmF1bHQoKSx0aGlzLl9jYWxjdWxhdGVUcmFuc2Zvcm0odCxyLG4pfX10b3VjaGVuZChlLHQscil7dGhpcy5fY2FsY3VsYXRlVHJhbnNmb3JtKGUsdCxyKSx0aGlzLl9hY3RpdmUmJnIubGVuZ3RoPHRoaXMuX21pblRvdWNoZXMmJnRoaXMucmVzZXQoKX10b3VjaGNhbmNlbCgpe3RoaXMucmVzZXQoKX1fY2FsY3VsYXRlVHJhbnNmb3JtKHQscixuKXtuLmxlbmd0aD4wJiYodGhpcy5fYWN0aXZlPSEwKTtjb25zdCBpPW1pKG4sciksbz1uZXcgZS5wb2ludEdlb21ldHJ5KDAsMCksYT1uZXcgZS5wb2ludEdlb21ldHJ5KDAsMCk7bGV0IHM9MDtmb3IoY29uc3QgZSBpbiBpKXtjb25zdCB0PWlbZV0scj10aGlzLl90b3VjaGVzW2VdO3ImJihvLl9hZGQodCksYS5fYWRkKHQuc3ViKHIpKSxzKyssaVtlXT10KX1pZih0aGlzLl90b3VjaGVzPWksczx0aGlzLl9taW5Ub3VjaGVzfHwhYS5tYWcoKSlyZXR1cm47Y29uc3QgbD1hLmRpdihzKTtyZXR1cm4gdGhpcy5fc3VtLl9hZGQobCksdGhpcy5fc3VtLm1hZygpPHRoaXMuX2NsaWNrVG9sZXJhbmNlP3ZvaWQgMDp7YXJvdW5kOm8uZGl2KHMpLHBhbkRlbHRhOmx9fWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITAsdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYodGhpcy5fYWRkVG91Y2hQYW5CbG9ja2VyKCksdGhpcy5fZWwuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyLW92ZXJyaWRlXCIsXCJtYXBib3hnbC1zY3JvbGxhYmxlLXBhZ2VcIikpfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmKGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSx0aGlzLl9hbGVydENvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItb3ZlcnJpZGVcIixcIm1hcGJveGdsLXNjcm9sbGFibGUtcGFnZVwiKSksdGhpcy5yZXNldCgpfWlzRW5hYmxlZCgpe3JldHVybiEhdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiEhdGhpcy5fYWN0aXZlfV9hZGRUb3VjaFBhbkJsb2NrZXIoKXt0aGlzLl9tYXAmJiF0aGlzLl9hbGVydENvbnRhaW5lciYmKHRoaXMuX2FsZXJ0Q29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyXCIsdGhpcy5fbWFwLl9jb250YWluZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnRleHRDb250ZW50PXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJUb3VjaFBhbkJsb2NrZXIuTWVzc2FnZVwiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS5mb250U2l6ZT1NYXRoLm1heCgxMCxNYXRoLm1pbigyNCxNYXRoLmZsb29yKC4wNSp0aGlzLl9lbC5jbGllbnRXaWR0aCkpKStcInB4XCIpfV9zaG93VG91Y2hQYW5CbG9ja2VyQWxlcnQoKXt0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwidmlzaWJsZVwiLHRoaXMuX2FsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImFsZXJ0XCIpLGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSx0aGlzLl9hbGVydFRpbWVyPXNldFRpbWVvdXQoKCk9Pnt0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItc2hvd1wiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJudWxsXCIpfSw1MDApfX1jbGFzcyBTaXtjb25zdHJ1Y3Rvcigpe3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMSx0aGlzLl9maXJzdFR3b1RvdWNoZXM9dm9pZCAwfV9zdGFydChlKXt9X21vdmUoZSx0LHIpe3JldHVybnt9fXRvdWNoc3RhcnQoZSx0LHIpe3RoaXMuX2ZpcnN0VHdvVG91Y2hlc3x8ci5sZW5ndGg8Mnx8KHRoaXMuX2ZpcnN0VHdvVG91Y2hlcz1bclswXS5pZGVudGlmaWVyLHJbMV0uaWRlbnRpZmllcl0sdGhpcy5fc3RhcnQoW3RbMF0sdFsxXV0pKX10b3VjaG1vdmUoZSx0LHIpe2NvbnN0IG49dGhpcy5fZmlyc3RUd29Ub3VjaGVzO2lmKCFuKXJldHVybjtlLnByZXZlbnREZWZhdWx0KCk7Y29uc3RbaSxvXT1uLGE9Q2kocix0LGkpLHM9Q2kocix0LG8pO2lmKCFhfHwhcylyZXR1cm47Y29uc3QgbD10aGlzLl9hcm91bmRDZW50ZXI/bnVsbDphLmFkZChzKS5kaXYoMik7cmV0dXJuIHRoaXMuX21vdmUoW2Esc10sbCxlKX10b3VjaGVuZChlLHQscil7aWYoIXRoaXMuX2ZpcnN0VHdvVG91Y2hlcylyZXR1cm47Y29uc3RbbixpXT10aGlzLl9maXJzdFR3b1RvdWNoZXMsbz1DaShyLHQsbiksYT1DaShyLHQsaSk7byYmYXx8KHRoaXMuX2FjdGl2ZSYmcCgpLHRoaXMucmVzZXQoKSl9dG91Y2hjYW5jZWwoKXt0aGlzLnJlc2V0KCl9ZW5hYmxlKGUpe3RoaXMuX2VuYWJsZWQ9ITAsdGhpcy5fYXJvdW5kQ2VudGVyPSEhZSYmXCJjZW50ZXJcIj09PWUuYXJvdW5kfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9fWZ1bmN0aW9uIENpKGUsdCxyKXtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKylpZihlW25dLmlkZW50aWZpZXI9PT1yKXJldHVybiB0W25dfWZ1bmN0aW9uIE1pKGUsdCl7cmV0dXJuIE1hdGgubG9nKGUvdCkvTWF0aC5MTjJ9Y2xhc3Mga2kgZXh0ZW5kcyBTaXtyZXNldCgpe3N1cGVyLnJlc2V0KCksdGhpcy5fZGlzdGFuY2U9MCx0aGlzLl9zdGFydERpc3RhbmNlPTB9X3N0YXJ0KGUpe3RoaXMuX3N0YXJ0RGlzdGFuY2U9dGhpcy5fZGlzdGFuY2U9ZVswXS5kaXN0KGVbMV0pfV9tb3ZlKGUsdCl7Y29uc3Qgcj10aGlzLl9kaXN0YW5jZTtpZih0aGlzLl9kaXN0YW5jZT1lWzBdLmRpc3QoZVsxXSksdGhpcy5fYWN0aXZlfHwhKE1hdGguYWJzKE1pKHRoaXMuX2Rpc3RhbmNlLHRoaXMuX3N0YXJ0RGlzdGFuY2UpKTwuMSkpcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7em9vbURlbHRhOk1pKHRoaXMuX2Rpc3RhbmNlLHIpLHBpbmNoQXJvdW5kOnR9fX1mdW5jdGlvbiBBaShlLHQpe3JldHVybiAxODAqZS5hbmdsZVdpdGgodCkvTWF0aC5QSX1jbGFzcyBJaSBleHRlbmRzIFNpe3Jlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl9taW5EaWFtZXRlcj0wLHRoaXMuX3N0YXJ0VmVjdG9yPXZvaWQgMCx0aGlzLl92ZWN0b3I9dm9pZCAwfV9zdGFydChlKXt0aGlzLl9zdGFydFZlY3Rvcj10aGlzLl92ZWN0b3I9ZVswXS5zdWIoZVsxXSksdGhpcy5fbWluRGlhbWV0ZXI9ZVswXS5kaXN0KGVbMV0pfV9tb3ZlKGUsdCl7Y29uc3Qgcj10aGlzLl92ZWN0b3I7aWYodGhpcy5fdmVjdG9yPWVbMF0uc3ViKGVbMV0pLHImJih0aGlzLl9hY3RpdmV8fCF0aGlzLl9pc0JlbG93VGhyZXNob2xkKHRoaXMuX3ZlY3RvcikpKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse2JlYXJpbmdEZWx0YTpBaSh0aGlzLl92ZWN0b3IscikscGluY2hBcm91bmQ6dH19X2lzQmVsb3dUaHJlc2hvbGQoZSl7dGhpcy5fbWluRGlhbWV0ZXI9TWF0aC5taW4odGhpcy5fbWluRGlhbWV0ZXIsZS5tYWcoKSk7Y29uc3QgdD0yNS8oTWF0aC5QSSp0aGlzLl9taW5EaWFtZXRlcikqMzYwLHI9dGhpcy5fc3RhcnRWZWN0b3I7aWYoIXIpcmV0dXJuITE7Y29uc3Qgbj1BaShlLHIpO3JldHVybiBNYXRoLmFicyhuKTx0fX1mdW5jdGlvbiBQaShlKXtyZXR1cm4gTWF0aC5hYnMoZS55KT5NYXRoLmFicyhlLngpfWNsYXNzIHppIGV4dGVuZHMgU2l7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSx0aGlzLl9tYXA9ZX1yZXNldCgpe3N1cGVyLnJlc2V0KCksdGhpcy5fdmFsaWQ9dm9pZCAwLHRoaXMuX2ZpcnN0TW92ZT12b2lkIDAsdGhpcy5fbGFzdFBvaW50cz12b2lkIDB9X3N0YXJ0KGUpe3RoaXMuX2xhc3RQb2ludHM9ZSxQaShlWzBdLnN1YihlWzFdKSkmJih0aGlzLl92YWxpZD0hMSl9X21vdmUodCxyLG4pe2NvbnN0IGk9dGhpcy5fbGFzdFBvaW50cztpZighaSlyZXR1cm47Y29uc3Qgbz10WzBdLnN1YihpWzBdKSxhPXRbMV0uc3ViKGlbMV0pO3JldHVybiB0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJiFlLmlzRnVsbHNjcmVlbigpJiZuLnRvdWNoZXMubGVuZ3RoPDN8fCh0aGlzLl92YWxpZD10aGlzLmdlc3R1cmVCZWdpbnNWZXJ0aWNhbGx5KG8sYSxuLnRpbWVTdGFtcCksIXRoaXMuX3ZhbGlkKT92b2lkIDA6KHRoaXMuX2xhc3RQb2ludHM9dCx0aGlzLl9hY3RpdmU9ITAse3BpdGNoRGVsdGE6KG8ueSthLnkpLzIqLS41fSl9Z2VzdHVyZUJlZ2luc1ZlcnRpY2FsbHkoZSx0LHIpe2lmKHZvaWQgMCE9PXRoaXMuX3ZhbGlkKXJldHVybiB0aGlzLl92YWxpZDtjb25zdCBuPWUubWFnKCk+PTIsaT10Lm1hZygpPj0yO2lmKCFuJiYhaSlyZXR1cm47aWYoIW58fCFpKXJldHVybiBudWxsPT10aGlzLl9maXJzdE1vdmUmJih0aGlzLl9maXJzdE1vdmU9ciksci10aGlzLl9maXJzdE1vdmU8MTAwJiZ2b2lkIDA7Y29uc3Qgbz1lLnk+MD09dC55PjA7cmV0dXJuIFBpKGUpJiZQaSh0KSYmb319Y29uc3QgRGk9e3BhblN0ZXA6MTAwLGJlYXJpbmdTdGVwOjE1LHBpdGNoU3RlcDoxMH07Y2xhc3MgUml7Y29uc3RydWN0b3IoKXtjb25zdCBlPURpO3RoaXMuX3BhblN0ZXA9ZS5wYW5TdGVwLHRoaXMuX2JlYXJpbmdTdGVwPWUuYmVhcmluZ1N0ZXAsdGhpcy5fcGl0Y2hTdGVwPWUucGl0Y2hTdGVwLHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITF9Ymx1cigpe3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMX1rZXlkb3duKGUpe2lmKGUuYWx0S2V5fHxlLmN0cmxLZXl8fGUubWV0YUtleSlyZXR1cm47bGV0IHQ9MCxyPTAsbj0wLGk9MCxvPTA7c3dpdGNoKGUua2V5Q29kZSl7Y2FzZSA2MTpjYXNlIDEwNzpjYXNlIDE3MTpjYXNlIDE4Nzp0PTE7YnJlYWs7Y2FzZSAxODk6Y2FzZSAxMDk6Y2FzZSAxNzM6dD0tMTticmVhaztjYXNlIDM3OmUuc2hpZnRLZXk/cj0tMTooZS5wcmV2ZW50RGVmYXVsdCgpLGk9LTEpO2JyZWFrO2Nhc2UgMzk6ZS5zaGlmdEtleT9yPTE6KGUucHJldmVudERlZmF1bHQoKSxpPTEpO2JyZWFrO2Nhc2UgMzg6ZS5zaGlmdEtleT9uPTE6KGUucHJldmVudERlZmF1bHQoKSxvPS0xKTticmVhaztjYXNlIDQwOmUuc2hpZnRLZXk/bj0tMTooZS5wcmV2ZW50RGVmYXVsdCgpLG89MSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm59cmV0dXJuIHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQmJihyPTAsbj0wKSx7Y2FtZXJhQW5pbWF0aW9uOmE9Pntjb25zdCBzPWEuZ2V0Wm9vbSgpO2EuZWFzZVRvKHtkdXJhdGlvbjozMDAsZWFzZUlkOlwia2V5Ym9hcmRIYW5kbGVyXCIsZWFzaW5nOkxpLHpvb206dD9NYXRoLnJvdW5kKHMpK3QqKGUuc2hpZnRLZXk/MjoxKTpzLGJlYXJpbmc6YS5nZXRCZWFyaW5nKCkrcip0aGlzLl9iZWFyaW5nU3RlcCxwaXRjaDphLmdldFBpdGNoKCkrbip0aGlzLl9waXRjaFN0ZXAsb2Zmc2V0OlstaSp0aGlzLl9wYW5TdGVwLC1vKnRoaXMuX3BhblN0ZXBdLGNlbnRlcjphLmdldENlbnRlcigpfSx7b3JpZ2luYWxFdmVudDplfSl9fX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMucmVzZXQoKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV9ZGlzYWJsZVJvdGF0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMH1lbmFibGVSb3RhdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITF9fWZ1bmN0aW9uIExpKGUpe3JldHVybiBlKigyLWUpfWNvbnN0IE9pPTQuMDAwMjQ0MTQwNjI1O2NsYXNzIEJpe2NvbnN0cnVjdG9yKHQscil7dGhpcy5fbWFwPXQsdGhpcy5fZWw9dC5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9oYW5kbGVyPXIsdGhpcy5fZGVsdGE9MCx0aGlzLl9kZWZhdWx0Wm9vbVJhdGU9LjAxLHRoaXMuX3doZWVsWm9vbVJhdGU9LjAwMjIyMjIyMjIyMjIyMjIyMjIsZS5iaW5kQWxsKFtcIl9vblRpbWVvdXRcIixcIl9hZGRTY3JvbGxab29tQmxvY2tlclwiLFwiX3Nob3dCbG9ja2VyQWxlcnRcIl0sdGhpcyl9c2V0Wm9vbVJhdGUoZSl7dGhpcy5fZGVmYXVsdFpvb21SYXRlPWV9c2V0V2hlZWxab29tUmF0ZShlKXt0aGlzLl93aGVlbFpvb21SYXRlPWV9aXNFbmFibGVkKCl7cmV0dXJuISF0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZXx8dm9pZCAwIT09dGhpcy5fZmluaXNoVGltZW91dH1pc1pvb21pbmcoKXtyZXR1cm4hIXRoaXMuX3pvb21pbmd9ZW5hYmxlKGUpe3RoaXMuaXNFbmFibGVkKCl8fCh0aGlzLl9lbmFibGVkPSEwLHRoaXMuX2Fyb3VuZENlbnRlcj0hIWUmJlwiY2VudGVyXCI9PT1lLmFyb3VuZCx0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJnRoaXMuX2FkZFNjcm9sbFpvb21CbG9ja2VyKCkpfWRpc2FibGUoKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJihjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lciksdGhpcy5fYWxlcnRDb250YWluZXIucmVtb3ZlKCkpKX13aGVlbCh0KXtpZighdGhpcy5pc0VuYWJsZWQoKSlyZXR1cm47aWYodGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzKXtpZighKHQuY3RybEtleXx8dC5tZXRhS2V5fHx0aGlzLmlzWm9vbWluZygpfHxlLmlzRnVsbHNjcmVlbigpKSlyZXR1cm4gdm9pZCB0aGlzLl9zaG93QmxvY2tlckFsZXJ0KCk7XCJoaWRkZW5cIiE9PXRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkmJih0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpKX1sZXQgcj10LmRlbHRhTW9kZT09PWUud2luZG93LldoZWVsRXZlbnQuRE9NX0RFTFRBX0xJTkU/NDAqdC5kZWx0YVk6dC5kZWx0YVk7Y29uc3Qgbj1lLmV4cG9ydGVkLm5vdygpLGk9bi0odGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lfHwwKTt0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWU9biwwIT09ciYmciVPaT09MD90aGlzLl90eXBlPVwid2hlZWxcIjowIT09ciYmTWF0aC5hYnMocik8ND90aGlzLl90eXBlPVwidHJhY2twYWRcIjppPjQwMD8odGhpcy5fdHlwZT1udWxsLHRoaXMuX2xhc3RWYWx1ZT1yLHRoaXMuX3RpbWVvdXQ9c2V0VGltZW91dCh0aGlzLl9vblRpbWVvdXQsNDAsdCkpOnRoaXMuX3R5cGV8fCh0aGlzLl90eXBlPU1hdGguYWJzKGkqcik8MjAwP1widHJhY2twYWRcIjpcIndoZWVsXCIsdGhpcy5fdGltZW91dCYmKGNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KSx0aGlzLl90aW1lb3V0PW51bGwscis9dGhpcy5fbGFzdFZhbHVlKSksdC5zaGlmdEtleSYmciYmKHIvPTQpLHRoaXMuX3R5cGUmJih0aGlzLl9sYXN0V2hlZWxFdmVudD10LHRoaXMuX2RlbHRhLT1yLHRoaXMuX2FjdGl2ZXx8dGhpcy5fc3RhcnQodCkpLHQucHJldmVudERlZmF1bHQoKX1fb25UaW1lb3V0KGUpe3RoaXMuX3R5cGU9XCJ3aGVlbFwiLHRoaXMuX2RlbHRhLT10aGlzLl9sYXN0VmFsdWUsdGhpcy5fYWN0aXZlfHx0aGlzLl9zdGFydChlKX1fc3RhcnQoZSl7aWYoIXRoaXMuX2RlbHRhKXJldHVybjt0aGlzLl9mcmFtZUlkJiYodGhpcy5fZnJhbWVJZD1udWxsKSx0aGlzLl9hY3RpdmU9ITAsdGhpcy5pc1pvb21pbmcoKXx8KHRoaXMuX3pvb21pbmc9ITApLHRoaXMuX2ZpbmlzaFRpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5fZmluaXNoVGltZW91dCksZGVsZXRlIHRoaXMuX2ZpbmlzaFRpbWVvdXQpO2NvbnN0IHQ9Zih0aGlzLl9lbCxlKTt0aGlzLl9hcm91bmRQb2ludD10aGlzLl9hcm91bmRDZW50ZXI/dGhpcy5fbWFwLnRyYW5zZm9ybS5jZW50ZXJQb2ludDp0LHRoaXMuX2Fyb3VuZENvb3JkPXRoaXMuX21hcC50cmFuc2Zvcm0ucG9pbnRDb29yZGluYXRlM0QodGhpcy5fYXJvdW5kUG9pbnQpLHRoaXMuX3RhcmdldFpvb209dm9pZCAwLHRoaXMuX2ZyYW1lSWR8fCh0aGlzLl9mcmFtZUlkPSEwLHRoaXMuX2hhbmRsZXIuX3RyaWdnZXJSZW5kZXJGcmFtZSgpKX1yZW5kZXJGcmFtZSgpe2lmKCF0aGlzLl9mcmFtZUlkKXJldHVybjtpZih0aGlzLl9mcmFtZUlkPW51bGwsIXRoaXMuaXNBY3RpdmUoKSlyZXR1cm47Y29uc3QgdD10aGlzLl9tYXAudHJhbnNmb3JtO1wid2hlZWxcIj09PXRoaXMuX3R5cGUmJnQucHJvamVjdGlvbi53cmFwJiYodC5fY2VudGVyLmxuZz49MTgwfHx0Ll9jZW50ZXIubG5nPD0tMTgwKSYmKHRoaXMuX3ByZXZFYXNlPW51bGwsdGhpcy5fZWFzaW5nPW51bGwsdGhpcy5fbGFzdFdoZWVsRXZlbnQ9bnVsbCx0aGlzLl9sYXN0V2hlZWxFdmVudFRpbWU9MCk7Y29uc3Qgcj0oKT0+dC5fdGVycmFpbkVuYWJsZWQoKSYmdGhpcy5fYXJvdW5kQ29vcmQ/dC5jb21wdXRlWm9vbVJlbGF0aXZlVG8odGhpcy5fYXJvdW5kQ29vcmQpOnQuem9vbTtpZigwIT09dGhpcy5fZGVsdGEpe2NvbnN0IGU9XCJ3aGVlbFwiPT09dGhpcy5fdHlwZSYmTWF0aC5hYnModGhpcy5fZGVsdGEpPk9pP3RoaXMuX3doZWVsWm9vbVJhdGU6dGhpcy5fZGVmYXVsdFpvb21SYXRlO2xldCBuPTIvKDErTWF0aC5leHAoLU1hdGguYWJzKHRoaXMuX2RlbHRhKmUpKSk7dGhpcy5fZGVsdGE8MCYmMCE9PW4mJihuPTEvbik7Y29uc3QgaT1yKCksbz1NYXRoLnBvdygyLGkpLGE9XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX3RhcmdldFpvb20/dC56b29tU2NhbGUodGhpcy5fdGFyZ2V0Wm9vbSk6bzt0aGlzLl90YXJnZXRab29tPU1hdGgubWluKHQubWF4Wm9vbSxNYXRoLm1heCh0Lm1pblpvb20sdC5zY2FsZVpvb20oYSpuKSkpLFwid2hlZWxcIj09PXRoaXMuX3R5cGUmJih0aGlzLl9zdGFydFpvb209aSx0aGlzLl9lYXNpbmc9dGhpcy5fc21vb3RoT3V0RWFzaW5nKDIwMCkpLHRoaXMuX2RlbHRhPTB9Y29uc3Qgbj1cIm51bWJlclwiPT10eXBlb2YgdGhpcy5fdGFyZ2V0Wm9vbT90aGlzLl90YXJnZXRab29tOnIoKSxpPXRoaXMuX3N0YXJ0Wm9vbSxvPXRoaXMuX2Vhc2luZztsZXQgYSxzPSExO2lmKFwid2hlZWxcIj09PXRoaXMuX3R5cGUmJmkmJm8pe2NvbnN0IHQ9TWF0aC5taW4oKGUuZXhwb3J0ZWQubm93KCktdGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lKS8yMDAsMSkscj1vKHQpO2E9ZS5udW1iZXIoaSxuLHIpLHQ8MT90aGlzLl9mcmFtZUlkfHwodGhpcy5fZnJhbWVJZD0hMCk6cz0hMH1lbHNlIGE9bixzPSEwO3JldHVybiB0aGlzLl9hY3RpdmU9ITAscyYmKHRoaXMuX2FjdGl2ZT0hMSx0aGlzLl9maW5pc2hUaW1lb3V0PXNldFRpbWVvdXQoKCk9Pnt0aGlzLl96b29taW5nPSExLHRoaXMuX2hhbmRsZXIuX3RyaWdnZXJSZW5kZXJGcmFtZSgpLGRlbGV0ZSB0aGlzLl90YXJnZXRab29tLGRlbGV0ZSB0aGlzLl9maW5pc2hUaW1lb3V0fSwyMDApKSx7bm9JbmVydGlhOiEwLG5lZWRzUmVuZGVyRnJhbWU6IXMsem9vbURlbHRhOmEtcigpLGFyb3VuZDp0aGlzLl9hcm91bmRQb2ludCxhcm91bmRDb29yZDp0aGlzLl9hcm91bmRDb29yZCxvcmlnaW5hbEV2ZW50OnRoaXMuX2xhc3RXaGVlbEV2ZW50fX1fc21vb3RoT3V0RWFzaW5nKHQpe2xldCByPWUuZWFzZTtpZih0aGlzLl9wcmV2RWFzZSl7Y29uc3QgdD10aGlzLl9wcmV2RWFzZSxuPShlLmV4cG9ydGVkLm5vdygpLXQuc3RhcnQpL3QuZHVyYXRpb24saT10LmVhc2luZyhuKy4wMSktdC5lYXNpbmcobiksbz0uMjcvTWF0aC5zcXJ0KGkqaSsxZS00KSouMDEsYT1NYXRoLnNxcnQoLjA3MjktbypvKTtyPWUuYmV6aWVyKG8sYSwuMjUsMSl9cmV0dXJuIHRoaXMuX3ByZXZFYXNlPXtzdGFydDplLmV4cG9ydGVkLm5vdygpLGR1cmF0aW9uOnQsZWFzaW5nOnJ9LHJ9Ymx1cigpe3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuX2FjdGl2ZT0hMX1fYWRkU2Nyb2xsWm9vbUJsb2NrZXIoKXt0aGlzLl9tYXAmJiF0aGlzLl9hbGVydENvbnRhaW5lciYmKHRoaXMuX2FsZXJ0Q29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXJcIix0aGlzLl9tYXAuX2NvbnRhaW5lciksdGhpcy5fYWxlcnRDb250YWluZXIudGV4dENvbnRlbnQ9LyhNYWN8aVBhZCkvaS50ZXN0KGUud2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpP3RoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJTY3JvbGxab29tQmxvY2tlci5DbWRNZXNzYWdlXCIpOnRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJTY3JvbGxab29tQmxvY2tlci5DdHJsTWVzc2FnZVwiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS5mb250U2l6ZT1NYXRoLm1heCgxMCxNYXRoLm1pbigyNCxNYXRoLmZsb29yKC4wNSp0aGlzLl9lbC5jbGllbnRXaWR0aCkpKStcInB4XCIpfV9zaG93QmxvY2tlckFsZXJ0KCl7dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIix0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImFsZXJ0XCIpLGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSx0aGlzLl9hbGVydFRpbWVyPXNldFRpbWVvdXQoKCk9Pnt0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlci1zaG93XCIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcIm51bGxcIil9LDIwMCl9fWNsYXNzIEZpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fY2xpY2tab29tPWUsdGhpcy5fdGFwWm9vbT10fWVuYWJsZSgpe3RoaXMuX2NsaWNrWm9vbS5lbmFibGUoKSx0aGlzLl90YXBab29tLmVuYWJsZSgpfWRpc2FibGUoKXt0aGlzLl9jbGlja1pvb20uZGlzYWJsZSgpLHRoaXMuX3RhcFpvb20uZGlzYWJsZSgpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9jbGlja1pvb20uaXNFbmFibGVkKCkmJnRoaXMuX3RhcFpvb20uaXNFbmFibGVkKCl9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fY2xpY2tab29tLmlzQWN0aXZlKCl8fHRoaXMuX3RhcFpvb20uaXNBY3RpdmUoKX19Y2xhc3Mgaml7Y29uc3RydWN0b3IoKXt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITF9Ymx1cigpe3RoaXMucmVzZXQoKX1kYmxjbGljayhlLHQpe3JldHVybiBlLnByZXZlbnREZWZhdWx0KCkse2NhbWVyYUFuaW1hdGlvbjpyPT57ci5lYXNlVG8oe2R1cmF0aW9uOjMwMCx6b29tOnIuZ2V0Wm9vbSgpKyhlLnNoaWZ0S2V5Py0xOjEpLGFyb3VuZDpyLnVucHJvamVjdCh0KX0se29yaWdpbmFsRXZlbnQ6ZX0pfX19ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMH1kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCl9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfX1jbGFzcyBVaXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3RhcD1uZXcgX2koe251bVRvdWNoZXM6MSxudW1UYXBzOjF9KSx0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fc3dpcGVQb2ludD12b2lkIDAsdGhpcy5fc3dpcGVUb3VjaD0wLHRoaXMuX3RhcFRpbWU9MCx0aGlzLl90YXAucmVzZXQoKX10b3VjaHN0YXJ0KGUsdCxyKXt0aGlzLl9zd2lwZVBvaW50fHwodGhpcy5fdGFwVGltZSYmZS50aW1lU3RhbXAtdGhpcy5fdGFwVGltZT41MDAmJnRoaXMucmVzZXQoKSx0aGlzLl90YXBUaW1lP3IubGVuZ3RoPjAmJih0aGlzLl9zd2lwZVBvaW50PXRbMF0sdGhpcy5fc3dpcGVUb3VjaD1yWzBdLmlkZW50aWZpZXIpOnRoaXMuX3RhcC50b3VjaHN0YXJ0KGUsdCxyKSl9dG91Y2htb3ZlKGUsdCxyKXtpZih0aGlzLl90YXBUaW1lKXtpZih0aGlzLl9zd2lwZVBvaW50KXtpZihyWzBdLmlkZW50aWZpZXIhPT10aGlzLl9zd2lwZVRvdWNoKXJldHVybjtjb25zdCBuPXRbMF0saT1uLnktdGhpcy5fc3dpcGVQb2ludC55O3JldHVybiB0aGlzLl9zd2lwZVBvaW50PW4sZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2FjdGl2ZT0hMCx7em9vbURlbHRhOmkvMTI4fX19ZWxzZSB0aGlzLl90YXAudG91Y2htb3ZlKGUsdCxyKX10b3VjaGVuZChlLHQscil7dGhpcy5fdGFwVGltZT90aGlzLl9zd2lwZVBvaW50JiYwPT09ci5sZW5ndGgmJnRoaXMucmVzZXQoKTp0aGlzLl90YXAudG91Y2hlbmQoZSx0LHIpJiYodGhpcy5fdGFwVGltZT1lLnRpbWVTdGFtcCl9dG91Y2hjYW5jZWwoKXt0aGlzLnJlc2V0KCl9ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMH1kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCl9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfX1jbGFzcyBOaXtjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5fZWw9ZSx0aGlzLl9tb3VzZVBhbj10LHRoaXMuX3RvdWNoUGFuPXJ9ZW5hYmxlKGUpe3RoaXMuX2luZXJ0aWFPcHRpb25zPWV8fHt9LHRoaXMuX21vdXNlUGFuLmVuYWJsZSgpLHRoaXMuX3RvdWNoUGFuLmVuYWJsZSgpLHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10b3VjaC1kcmFnLXBhblwiKX1kaXNhYmxlKCl7dGhpcy5fbW91c2VQYW4uZGlzYWJsZSgpLHRoaXMuX3RvdWNoUGFuLmRpc2FibGUoKSx0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdG91Y2gtZHJhZy1wYW5cIil9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX21vdXNlUGFuLmlzRW5hYmxlZCgpJiZ0aGlzLl90b3VjaFBhbi5pc0VuYWJsZWQoKX1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9tb3VzZVBhbi5pc0FjdGl2ZSgpfHx0aGlzLl90b3VjaFBhbi5pc0FjdGl2ZSgpfX1jbGFzcyBWaXtjb25zdHJ1Y3RvcihlLHQscil7dGhpcy5fcGl0Y2hXaXRoUm90YXRlPWUucGl0Y2hXaXRoUm90YXRlLHRoaXMuX21vdXNlUm90YXRlPXQsdGhpcy5fbW91c2VQaXRjaD1yfWVuYWJsZSgpe3RoaXMuX21vdXNlUm90YXRlLmVuYWJsZSgpLHRoaXMuX3BpdGNoV2l0aFJvdGF0ZSYmdGhpcy5fbW91c2VQaXRjaC5lbmFibGUoKX1kaXNhYmxlKCl7dGhpcy5fbW91c2VSb3RhdGUuZGlzYWJsZSgpLHRoaXMuX21vdXNlUGl0Y2guZGlzYWJsZSgpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9tb3VzZVJvdGF0ZS5pc0VuYWJsZWQoKSYmKCF0aGlzLl9waXRjaFdpdGhSb3RhdGV8fHRoaXMuX21vdXNlUGl0Y2guaXNFbmFibGVkKCkpfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX21vdXNlUm90YXRlLmlzQWN0aXZlKCl8fHRoaXMuX21vdXNlUGl0Y2guaXNBY3RpdmUoKX19Y2xhc3MgR2l7Y29uc3RydWN0b3IoZSx0LHIsbil7dGhpcy5fZWw9ZSx0aGlzLl90b3VjaFpvb209dCx0aGlzLl90b3VjaFJvdGF0ZT1yLHRoaXMuX3RhcERyYWdab29tPW4sdGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMSx0aGlzLl9lbmFibGVkPSEwfWVuYWJsZShlKXt0aGlzLl90b3VjaFpvb20uZW5hYmxlKGUpLHRoaXMuX3JvdGF0aW9uRGlzYWJsZWR8fHRoaXMuX3RvdWNoUm90YXRlLmVuYWJsZShlKSx0aGlzLl90YXBEcmFnWm9vbS5lbmFibGUoKSx0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGVcIil9ZGlzYWJsZSgpe3RoaXMuX3RvdWNoWm9vbS5kaXNhYmxlKCksdGhpcy5fdG91Y2hSb3RhdGUuZGlzYWJsZSgpLHRoaXMuX3RhcERyYWdab29tLmRpc2FibGUoKSx0aGlzLl9lbC5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGVcIil9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3RvdWNoWm9vbS5pc0VuYWJsZWQoKSYmKHRoaXMuX3JvdGF0aW9uRGlzYWJsZWR8fHRoaXMuX3RvdWNoUm90YXRlLmlzRW5hYmxlZCgpKSYmdGhpcy5fdGFwRHJhZ1pvb20uaXNFbmFibGVkKCl9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fdG91Y2hab29tLmlzQWN0aXZlKCl8fHRoaXMuX3RvdWNoUm90YXRlLmlzQWN0aXZlKCl8fHRoaXMuX3RhcERyYWdab29tLmlzQWN0aXZlKCl9ZGlzYWJsZVJvdGF0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMCx0aGlzLl90b3VjaFJvdGF0ZS5kaXNhYmxlKCl9ZW5hYmxlUm90YXRpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExLHRoaXMuX3RvdWNoWm9vbS5pc0VuYWJsZWQoKSYmdGhpcy5fdG91Y2hSb3RhdGUuZW5hYmxlKCl9fWNvbnN0IHFpPWU9PmUuem9vbXx8ZS5kcmFnfHxlLnBpdGNofHxlLnJvdGF0ZTtjbGFzcyBaaSBleHRlbmRzIGUuRXZlbnR7fWNsYXNzICRpe2NvbnN0cnVjdG9yKCl7dGhpcy5jb25zdGFudHM9WzEsMSwuMDFdLHRoaXMucmFkaXVzPTB9c2V0dXAodCxyKXtjb25zdCBuPWUuc3ViKFtdLHIsdCk7dGhpcy5yYWRpdXM9ZS5sZW5ndGgoblsyXTwwP2UuZGl2KFtdLG4sdGhpcy5jb25zdGFudHMpOltuWzBdLG5bMV0sMF0pfXByb2plY3RSYXkodCl7ZS5kaXYodCx0LHRoaXMuY29uc3RhbnRzKSxlLm5vcm1hbGl6ZSh0LHQpLGUubXVsJDEodCx0LHRoaXMuY29uc3RhbnRzKTtjb25zdCByPWUuc2NhbGUkMihbXSx0LHRoaXMucmFkaXVzKTtpZihyWzJdPjApe2NvbnN0IHQ9ZS5zY2FsZSQyKFtdLFswLDAsMV0sZS5kb3QocixbMCwwLDFdKSksbj1lLnNjYWxlJDIoW10sZS5ub3JtYWxpemUoW10sW3JbMF0sclsxXSwwXSksdGhpcy5yYWRpdXMpLGk9ZS5hZGQoW10scixlLnNjYWxlJDIoW10sZS5zdWIoW10sZS5hZGQoW10sbix0KSxyKSwyKSk7clswXT1pWzBdLHJbMV09aVsxXX1yZXR1cm4gcn19ZnVuY3Rpb24gV2koZSl7cmV0dXJuIGUucGFuRGVsdGEmJmUucGFuRGVsdGEubWFnKCl8fGUuem9vbURlbHRhfHxlLmJlYXJpbmdEZWx0YXx8ZS5waXRjaERlbHRhfWNsYXNzIFhpe2NvbnN0cnVjdG9yKHQscil7dGhpcy5fbWFwPXQsdGhpcy5fZWw9dGhpcy5fbWFwLmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX2hhbmRsZXJzPVtdLHRoaXMuX2hhbmRsZXJzQnlJZD17fSx0aGlzLl9jaGFuZ2VzPVtdLHRoaXMuX2luZXJ0aWE9bmV3IGFpKHQpLHRoaXMuX2JlYXJpbmdTbmFwPXIuYmVhcmluZ1NuYXAsdGhpcy5fcHJldmlvdXNBY3RpdmVIYW5kbGVycz17fSx0aGlzLl90cmFja2luZ0VsbGlwc29pZD1uZXcgJGksdGhpcy5fZHJhZ09yaWdpbj1udWxsLHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3M9e30sdGhpcy5fYWRkRGVmYXVsdEhhbmRsZXJzKHIpLGUuYmluZEFsbChbXCJoYW5kbGVFdmVudFwiLFwiaGFuZGxlV2luZG93RXZlbnRcIl0sdGhpcyk7Y29uc3Qgbj10aGlzLl9lbDt0aGlzLl9saXN0ZW5lcnM9W1tuLFwidG91Y2hzdGFydFwiLHtwYXNzaXZlOiEwfV0sW24sXCJ0b3VjaG1vdmVcIix7cGFzc2l2ZTohMX1dLFtuLFwidG91Y2hlbmRcIix2b2lkIDBdLFtuLFwidG91Y2hjYW5jZWxcIix2b2lkIDBdLFtuLFwibW91c2Vkb3duXCIsdm9pZCAwXSxbbixcIm1vdXNlbW92ZVwiLHZvaWQgMF0sW24sXCJtb3VzZXVwXCIsdm9pZCAwXSxbZS53aW5kb3cuZG9jdW1lbnQsXCJtb3VzZW1vdmVcIix7Y2FwdHVyZTohMH1dLFtlLndpbmRvdy5kb2N1bWVudCxcIm1vdXNldXBcIix2b2lkIDBdLFtuLFwibW91c2VvdmVyXCIsdm9pZCAwXSxbbixcIm1vdXNlb3V0XCIsdm9pZCAwXSxbbixcImRibGNsaWNrXCIsdm9pZCAwXSxbbixcImNsaWNrXCIsdm9pZCAwXSxbbixcImtleWRvd25cIix7Y2FwdHVyZTohMX1dLFtuLFwia2V5dXBcIix2b2lkIDBdLFtuLFwid2hlZWxcIix7cGFzc2l2ZTohMX1dLFtuLFwiY29udGV4dG1lbnVcIix2b2lkIDBdLFtlLndpbmRvdyxcImJsdXJcIix2b2lkIDBdXTtmb3IoY29uc3RbdCxyLG5db2YgdGhpcy5fbGlzdGVuZXJzKXQuYWRkRXZlbnRMaXN0ZW5lcihyLHQ9PT1lLndpbmRvdy5kb2N1bWVudD90aGlzLmhhbmRsZVdpbmRvd0V2ZW50OnRoaXMuaGFuZGxlRXZlbnQsbil9ZGVzdHJveSgpe2Zvcihjb25zdFt0LHIsbl1vZiB0aGlzLl9saXN0ZW5lcnMpdC5yZW1vdmVFdmVudExpc3RlbmVyKHIsdD09PWUud2luZG93LmRvY3VtZW50P3RoaXMuaGFuZGxlV2luZG93RXZlbnQ6dGhpcy5oYW5kbGVFdmVudCxuKX1fYWRkRGVmYXVsdEhhbmRsZXJzKGUpe2NvbnN0IHQ9dGhpcy5fbWFwLHI9dC5nZXRDYW52YXNDb250YWluZXIoKTt0aGlzLl9hZGQoXCJtYXBFdmVudFwiLG5ldyBkaSh0LGUpKTtjb25zdCBuPXQuYm94Wm9vbT1uZXcgZmkodCxlKTt0aGlzLl9hZGQoXCJib3hab29tXCIsbik7Y29uc3QgaT1uZXcgeWksbz1uZXcgamk7dC5kb3VibGVDbGlja1pvb209bmV3IEZpKG8saSksdGhpcy5fYWRkKFwidGFwWm9vbVwiLGkpLHRoaXMuX2FkZChcImNsaWNrWm9vbVwiLG8pO2NvbnN0IGE9bmV3IFVpO3RoaXMuX2FkZChcInRhcERyYWdab29tXCIsYSk7Y29uc3Qgcz10LnRvdWNoUGl0Y2g9bmV3IHppKHQpO3RoaXMuX2FkZChcInRvdWNoUGl0Y2hcIixzKTtjb25zdCBsPW5ldyB3aShlKSxjPW5ldyBUaShlKTt0LmRyYWdSb3RhdGU9bmV3IFZpKGUsbCxjKSx0aGlzLl9hZGQoXCJtb3VzZVJvdGF0ZVwiLGwsW1wibW91c2VQaXRjaFwiXSksdGhpcy5fYWRkKFwibW91c2VQaXRjaFwiLGMsW1wibW91c2VSb3RhdGVcIl0pO2NvbnN0IHU9bmV3IGJpKGUpLGg9bmV3IEVpKHQsZSk7dC5kcmFnUGFuPW5ldyBOaShyLHUsaCksdGhpcy5fYWRkKFwibW91c2VQYW5cIix1KSx0aGlzLl9hZGQoXCJ0b3VjaFBhblwiLGgsW1widG91Y2hab29tXCIsXCJ0b3VjaFJvdGF0ZVwiXSk7Y29uc3QgZD1uZXcgSWkscD1uZXcga2k7dC50b3VjaFpvb21Sb3RhdGU9bmV3IEdpKHIscCxkLGEpLHRoaXMuX2FkZChcInRvdWNoUm90YXRlXCIsZCxbXCJ0b3VjaFBhblwiLFwidG91Y2hab29tXCJdKSx0aGlzLl9hZGQoXCJ0b3VjaFpvb21cIixwLFtcInRvdWNoUGFuXCIsXCJ0b3VjaFJvdGF0ZVwiXSksdGhpcy5fYWRkKFwiYmxvY2thYmxlTWFwRXZlbnRcIixuZXcgcGkodCkpO2NvbnN0IGY9dC5zY3JvbGxab29tPW5ldyBCaSh0LHRoaXMpO3RoaXMuX2FkZChcInNjcm9sbFpvb21cIixmLFtcIm1vdXNlUGFuXCJdKTtjb25zdCBtPXQua2V5Ym9hcmQ9bmV3IFJpO3RoaXMuX2FkZChcImtleWJvYXJkXCIsbSk7Zm9yKGNvbnN0IHIgb2ZbXCJib3hab29tXCIsXCJkb3VibGVDbGlja1pvb21cIixcInRhcERyYWdab29tXCIsXCJ0b3VjaFBpdGNoXCIsXCJkcmFnUm90YXRlXCIsXCJkcmFnUGFuXCIsXCJ0b3VjaFpvb21Sb3RhdGVcIixcInNjcm9sbFpvb21cIixcImtleWJvYXJkXCJdKWUuaW50ZXJhY3RpdmUmJmVbcl0mJnRbcl0uZW5hYmxlKGVbcl0pfV9hZGQoZSx0LHIpe3RoaXMuX2hhbmRsZXJzLnB1c2goe2hhbmRsZXJOYW1lOmUsaGFuZGxlcjp0LGFsbG93ZWQ6cn0pLHRoaXMuX2hhbmRsZXJzQnlJZFtlXT10fXN0b3AoZSl7aWYoIXRoaXMuX3VwZGF0aW5nQ2FtZXJhKXtmb3IoY29uc3R7aGFuZGxlcjplfW9mIHRoaXMuX2hhbmRsZXJzKWUucmVzZXQoKTt0aGlzLl9pbmVydGlhLmNsZWFyKCksdGhpcy5fZmlyZUV2ZW50cyh7fSx7fSxlKSx0aGlzLl9jaGFuZ2VzPVtdfX1pc0FjdGl2ZSgpe2Zvcihjb25zdHtoYW5kbGVyOmV9b2YgdGhpcy5faGFuZGxlcnMpaWYoZS5pc0FjdGl2ZSgpKXJldHVybiEwO3JldHVybiExfWlzWm9vbWluZygpe3JldHVybiEhdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy56b29tfHx0aGlzLl9tYXAuc2Nyb2xsWm9vbS5pc1pvb21pbmcoKX1pc1JvdGF0aW5nKCl7cmV0dXJuISF0aGlzLl9ldmVudHNJblByb2dyZXNzLnJvdGF0ZX1pc01vdmluZygpe3JldHVybiEhcWkodGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyl8fHRoaXMuaXNab29taW5nKCl9X2Jsb2NrZWRCeUFjdGl2ZShlLHQscil7Zm9yKGNvbnN0IG4gaW4gZSlpZihuIT09ciYmKCF0fHx0LmluZGV4T2Yobik8MCkpcmV0dXJuITA7cmV0dXJuITF9aGFuZGxlV2luZG93RXZlbnQoZSl7dGhpcy5oYW5kbGVFdmVudChlLGUudHlwZStcIldpbmRvd1wiKX1fZ2V0TWFwVG91Y2hlcyhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCByIG9mIGUpdGhpcy5fZWwuY29udGFpbnMoci50YXJnZXQpJiZ0LnB1c2gocik7cmV0dXJuIHR9aGFuZGxlRXZlbnQoZSx0KXt0aGlzLl91cGRhdGluZ0NhbWVyYT0hMDtjb25zdCByPVwicmVuZGVyRnJhbWVcIj09PWUudHlwZSxuPXI/dm9pZCAwOmUsaT17bmVlZHNSZW5kZXJGcmFtZTohMX0sbz17fSxhPXt9LHM9ZS50b3VjaGVzP3RoaXMuX2dldE1hcFRvdWNoZXMoZS50b3VjaGVzKTp2b2lkIDAsbD1zP20odGhpcy5fZWwscyk6cj92b2lkIDA6Zih0aGlzLl9lbCxlKTtmb3IoY29uc3R7aGFuZGxlck5hbWU6cixoYW5kbGVyOmMsYWxsb3dlZDp1fW9mIHRoaXMuX2hhbmRsZXJzKXtpZighYy5pc0VuYWJsZWQoKSljb250aW51ZTtsZXQgaDt0aGlzLl9ibG9ja2VkQnlBY3RpdmUoYSx1LHIpP2MucmVzZXQoKTpjW3R8fGUudHlwZV0mJihoPWNbdHx8ZS50eXBlXShlLGwscyksdGhpcy5tZXJnZUhhbmRsZXJSZXN1bHQoaSxvLGgscixuKSxoJiZoLm5lZWRzUmVuZGVyRnJhbWUmJnRoaXMuX3RyaWdnZXJSZW5kZXJGcmFtZSgpKSwoaHx8Yy5pc0FjdGl2ZSgpKSYmKGFbcl09Yyl9Y29uc3QgYz17fTtmb3IoY29uc3QgZSBpbiB0aGlzLl9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzKWFbZV18fChjW2VdPW4pO3RoaXMuX3ByZXZpb3VzQWN0aXZlSGFuZGxlcnM9YSwoT2JqZWN0LmtleXMoYykubGVuZ3RofHxXaShpKSkmJih0aGlzLl9jaGFuZ2VzLnB1c2goW2ksbyxjXSksdGhpcy5fdHJpZ2dlclJlbmRlckZyYW1lKCkpLChPYmplY3Qua2V5cyhhKS5sZW5ndGh8fFdpKGkpKSYmdGhpcy5fbWFwLl9zdG9wKCEwKSx0aGlzLl91cGRhdGluZ0NhbWVyYT0hMTtjb25zdHtjYW1lcmFBbmltYXRpb246dX09aTt1JiYodGhpcy5faW5lcnRpYS5jbGVhcigpLHRoaXMuX2ZpcmVFdmVudHMoe30se30sITApLHRoaXMuX2NoYW5nZXM9W10sdSh0aGlzLl9tYXApKX1tZXJnZUhhbmRsZXJSZXN1bHQodCxyLG4saSxvKXtpZighbilyZXR1cm47ZS5leHRlbmQodCxuKTtjb25zdCBhPXtoYW5kbGVyTmFtZTppLG9yaWdpbmFsRXZlbnQ6bi5vcmlnaW5hbEV2ZW50fHxvfTt2b2lkIDAhPT1uLnpvb21EZWx0YSYmKHIuem9vbT1hKSx2b2lkIDAhPT1uLnBhbkRlbHRhJiYoci5kcmFnPWEpLHZvaWQgMCE9PW4ucGl0Y2hEZWx0YSYmKHIucGl0Y2g9YSksdm9pZCAwIT09bi5iZWFyaW5nRGVsdGEmJihyLnJvdGF0ZT1hKX1fYXBwbHlDaGFuZ2VzKCl7Y29uc3QgdD17fSxyPXt9LG49e307Zm9yKGNvbnN0W2ksbyxhXW9mIHRoaXMuX2NoYW5nZXMpaS5wYW5EZWx0YSYmKHQucGFuRGVsdGE9KHQucGFuRGVsdGF8fG5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSkuX2FkZChpLnBhbkRlbHRhKSksaS56b29tRGVsdGEmJih0Lnpvb21EZWx0YT0odC56b29tRGVsdGF8fDApK2kuem9vbURlbHRhKSxpLmJlYXJpbmdEZWx0YSYmKHQuYmVhcmluZ0RlbHRhPSh0LmJlYXJpbmdEZWx0YXx8MCkraS5iZWFyaW5nRGVsdGEpLGkucGl0Y2hEZWx0YSYmKHQucGl0Y2hEZWx0YT0odC5waXRjaERlbHRhfHwwKStpLnBpdGNoRGVsdGEpLHZvaWQgMCE9PWkuYXJvdW5kJiYodC5hcm91bmQ9aS5hcm91bmQpLHZvaWQgMCE9PWkuYXJvdW5kQ29vcmQmJih0LmFyb3VuZENvb3JkPWkuYXJvdW5kQ29vcmQpLHZvaWQgMCE9PWkucGluY2hBcm91bmQmJih0LnBpbmNoQXJvdW5kPWkucGluY2hBcm91bmQpLGkubm9JbmVydGlhJiYodC5ub0luZXJ0aWE9aS5ub0luZXJ0aWEpLGUuZXh0ZW5kKHIsbyksZS5leHRlbmQobixhKTt0aGlzLl91cGRhdGVNYXBUcmFuc2Zvcm0odCxyLG4pLHRoaXMuX2NoYW5nZXM9W119X3VwZGF0ZU1hcFRyYW5zZm9ybSh0LHIsbil7Y29uc3QgaT10aGlzLl9tYXAsbz1pLnRyYW5zZm9ybSxhPWU9PltlLngsZS55LGUuel07aWYoKGU9Pntjb25zdCB0PXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MuZHJhZztyZXR1cm4gdCYmIXRoaXMuX2hhbmRsZXJzQnlJZFt0LmhhbmRsZXJOYW1lXS5pc0FjdGl2ZSgpfSkoKSYmIVdpKHQpKXtjb25zdCBlPW8uem9vbTtvLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cInNlYVwiLG8ucmVjZW50ZXJPblRlcnJhaW4oKSxvLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiLGUhPT1vLnpvb20mJnRoaXMuX21hcC5fdXBkYXRlKCEwKX1pZighV2kodCkpcmV0dXJuIHZvaWQgdGhpcy5fZmlyZUV2ZW50cyhyLG4sITApO2xldHtwYW5EZWx0YTpzLHpvb21EZWx0YTpsLGJlYXJpbmdEZWx0YTpjLHBpdGNoRGVsdGE6dSxhcm91bmQ6aCxhcm91bmRDb29yZDpkLHBpbmNoQXJvdW5kOnB9PXQ7dm9pZCAwIT09cCYmKGg9cCksKGU9PnIuZHJhZyYmIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MuZHJhZykoKSYmaCYmKHRoaXMuX2RyYWdPcmlnaW49YShvLnBvaW50Q29vcmRpbmF0ZTNEKGgpKSx0aGlzLl90cmFja2luZ0VsbGlwc29pZC5zZXR1cChvLl9jYW1lcmEucG9zaXRpb24sdGhpcy5fZHJhZ09yaWdpbikpLG8uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwic2VhXCIsaS5fc3RvcCghMCksaD1ofHxpLnRyYW5zZm9ybS5jZW50ZXJQb2ludCxjJiYoby5iZWFyaW5nKz1jKSx1JiYoby5waXRjaCs9dSksby5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtjb25zdCBmPVswLDAsMF07aWYocylpZihcIm1lcmNhdG9yXCI9PT1vLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgZT10aGlzLl90cmFja2luZ0VsbGlwc29pZC5wcm9qZWN0UmF5KG8uc2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5KGgpLmRpciksdD10aGlzLl90cmFja2luZ0VsbGlwc29pZC5wcm9qZWN0UmF5KG8uc2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5KGguc3ViKHMpKS5kaXIpO2ZbMF09dFswXS1lWzBdLGZbMV09dFsxXS1lWzFdfWVsc2V7Y29uc3QgdD1vLnBvaW50Q29vcmRpbmF0ZShoKTtpZihcImdsb2JlXCI9PT1vLnByb2plY3Rpb24ubmFtZSl7cz1zLnJvdGF0ZSgtby5hbmdsZSk7Y29uc3Qgcj1vLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsL28ud29ybGRTaXplO2ZbMF09LXMueCplLm1lcmNhdG9yU2NhbGUoZS5sYXRGcm9tTWVyY2F0b3JZKHQueSkpKnIsZlsxXT0tcy55KmUubWVyY2F0b3JTY2FsZShvLmNlbnRlci5sYXQpKnJ9ZWxzZXtjb25zdCBlPW8ucG9pbnRDb29yZGluYXRlKGguc3ViKHMpKTt0JiZlJiYoZlswXT1lLngtdC54LGZbMV09ZS55LXQueSl9fWNvbnN0IG09by56b29tLGc9WzAsMCwwXTtpZihsKXtjb25zdCB0PWEoZHx8by5wb2ludENvb3JkaW5hdGUzRChoKSkscj17ZGlyOmUubm9ybWFsaXplKFtdLGUuc3ViKFtdLHQsby5fY2FtZXJhLnBvc2l0aW9uKSl9O2lmKHIuZGlyWzJdPDApe2NvbnN0IG49by56b29tRGVsdGFUb01vdmVtZW50KHQsbCk7ZS5zY2FsZSQyKGcsci5kaXIsbil9fWNvbnN0IF89ZS5hZGQoZixmLGcpO28uX3RyYW5zbGF0ZUNhbWVyYUNvbnN0cmFpbmVkKF8pLGwmJk1hdGguYWJzKG8uem9vbS1tKT4xZS00JiZvLnJlY2VudGVyT25UZXJyYWluKCksby5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIix0aGlzLl9tYXAuX3VwZGF0ZSgpLHQubm9JbmVydGlhfHx0aGlzLl9pbmVydGlhLnJlY29yZCh0KSx0aGlzLl9maXJlRXZlbnRzKHIsbiwhMCl9X2ZpcmVFdmVudHModCxyLG4pe2NvbnN0IGk9cWkodGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyksbz1xaSh0KSxhPXt9O2Zvcihjb25zdCBlIGluIHQpe2NvbnN0e29yaWdpbmFsRXZlbnQ6cn09dFtlXTt0aGlzLl9ldmVudHNJblByb2dyZXNzW2VdfHwoYVtlK1wic3RhcnRcIl09ciksdGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1tlXT10W2VdfSFpJiZvJiZ0aGlzLl9maXJlRXZlbnQoXCJtb3Zlc3RhcnRcIixvLm9yaWdpbmFsRXZlbnQpO2Zvcihjb25zdCBlIGluIGEpdGhpcy5fZmlyZUV2ZW50KGUsYVtlXSk7byYmdGhpcy5fZmlyZUV2ZW50KFwibW92ZVwiLG8ub3JpZ2luYWxFdmVudCk7Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3R7b3JpZ2luYWxFdmVudDpyfT10W2VdO3RoaXMuX2ZpcmVFdmVudChlLHIpfWNvbnN0IHM9e307bGV0IGw7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyl7Y29uc3R7aGFuZGxlck5hbWU6dCxvcmlnaW5hbEV2ZW50Om59PXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZV07dGhpcy5faGFuZGxlcnNCeUlkW3RdLmlzQWN0aXZlKCl8fChkZWxldGUgdGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1tlXSxsPXJbdF18fG4sc1tlK1wiZW5kXCJdPWwpfWZvcihjb25zdCBlIGluIHMpdGhpcy5fZmlyZUV2ZW50KGUsc1tlXSk7Y29uc3QgYz1xaSh0aGlzLl9ldmVudHNJblByb2dyZXNzKTtpZihuJiYoaXx8bykmJiFjKXt0aGlzLl91cGRhdGluZ0NhbWVyYT0hMDtjb25zdCB0PXRoaXMuX2luZXJ0aWEuX29uTW92ZUVuZCh0aGlzLl9tYXAuZHJhZ1Bhbi5faW5lcnRpYU9wdGlvbnMpLHI9ZT0+MCE9PWUmJi10aGlzLl9iZWFyaW5nU25hcDxlJiZlPHRoaXMuX2JlYXJpbmdTbmFwO3Q/KHIodC5iZWFyaW5nfHx0aGlzLl9tYXAuZ2V0QmVhcmluZygpKSYmKHQuYmVhcmluZz0wKSx0aGlzLl9tYXAuZWFzZVRvKHQse29yaWdpbmFsRXZlbnQ6bH0pKToodGhpcy5fbWFwLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlZW5kXCIse29yaWdpbmFsRXZlbnQ6bH0pKSxyKHRoaXMuX21hcC5nZXRCZWFyaW5nKCkpJiZ0aGlzLl9tYXAucmVzZXROb3J0aCgpKSx0aGlzLl91cGRhdGluZ0NhbWVyYT0hMX19X2ZpcmVFdmVudCh0LHIpe3RoaXMuX21hcC5maXJlKG5ldyBlLkV2ZW50KHQscj97b3JpZ2luYWxFdmVudDpyfTp7fSkpfV9yZXF1ZXN0RnJhbWUoKXtyZXR1cm4gdGhpcy5fbWFwLnRyaWdnZXJSZXBhaW50KCksdGhpcy5fbWFwLl9yZW5kZXJUYXNrUXVldWUuYWRkKGU9Pnt0aGlzLl9mcmFtZUlkPXZvaWQgMCx0aGlzLmhhbmRsZUV2ZW50KG5ldyBaaShcInJlbmRlckZyYW1lXCIse3RpbWVTdGFtcDplfSkpLHRoaXMuX2FwcGx5Q2hhbmdlcygpfSl9X3RyaWdnZXJSZW5kZXJGcmFtZSgpe3ZvaWQgMD09PXRoaXMuX2ZyYW1lSWQmJih0aGlzLl9mcmFtZUlkPXRoaXMuX3JlcXVlc3RGcmFtZSgpKX19Y29uc3QgSGk9XCJtYXAuc2V0RnJlZUNhbWVyYU9wdGlvbnMoLi4uKSBhbmQgbWFwLmdldEZyZWVDYW1lcmFPcHRpb25zKCkgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkIGZvciBub24tbWVyY2F0b3IgcHJvamVjdGlvbnMuXCI7Y2xhc3MgWWkgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxyKXtzdXBlcigpLHRoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMudHJhbnNmb3JtPXQsdGhpcy5fYmVhcmluZ1NuYXA9ci5iZWFyaW5nU25hcCxlLmJpbmRBbGwoW1wiX3JlbmRlckZyYW1lQ2FsbGJhY2tcIl0sdGhpcyl9Z2V0Q2VudGVyKCl7cmV0dXJuIG5ldyBlLkxuZ0xhdCh0aGlzLnRyYW5zZm9ybS5jZW50ZXIubG5nLHRoaXMudHJhbnNmb3JtLmNlbnRlci5sYXQpfXNldENlbnRlcihlLHQpe3JldHVybiB0aGlzLmp1bXBUbyh7Y2VudGVyOmV9LHQpfXBhbkJ5KHQscixuKXtyZXR1cm4gdD1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0KS5tdWx0KC0xKSx0aGlzLnBhblRvKHRoaXMudHJhbnNmb3JtLmNlbnRlcixlLmV4dGVuZCh7b2Zmc2V0OnR9LHIpLG4pfXBhblRvKHQscixuKXtyZXR1cm4gdGhpcy5lYXNlVG8oZS5leHRlbmQoe2NlbnRlcjp0fSxyKSxuKX1nZXRab29tKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnpvb219c2V0Wm9vbShlLHQpe3JldHVybiB0aGlzLmp1bXBUbyh7em9vbTplfSx0KSx0aGlzfXpvb21Ubyh0LHIsbil7cmV0dXJuIHRoaXMuZWFzZVRvKGUuZXh0ZW5kKHt6b29tOnR9LHIpLG4pfXpvb21JbihlLHQpe3JldHVybiB0aGlzLnpvb21Ubyh0aGlzLmdldFpvb20oKSsxLGUsdCksdGhpc316b29tT3V0KGUsdCl7cmV0dXJuIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpLTEsZSx0KSx0aGlzfWdldEJlYXJpbmcoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uYmVhcmluZ31zZXRCZWFyaW5nKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHtiZWFyaW5nOmV9LHQpLHRoaXN9Z2V0UGFkZGluZygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5wYWRkaW5nfXNldFBhZGRpbmcoZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe3BhZGRpbmc6ZX0sdCksdGhpc31yb3RhdGVUbyh0LHIsbil7cmV0dXJuIHRoaXMuZWFzZVRvKGUuZXh0ZW5kKHtiZWFyaW5nOnR9LHIpLG4pfXJlc2V0Tm9ydGgodCxyKXtyZXR1cm4gdGhpcy5yb3RhdGVUbygwLGUuZXh0ZW5kKHtkdXJhdGlvbjoxZTN9LHQpLHIpLHRoaXN9cmVzZXROb3J0aFBpdGNoKHQscil7cmV0dXJuIHRoaXMuZWFzZVRvKGUuZXh0ZW5kKHtiZWFyaW5nOjAscGl0Y2g6MCxkdXJhdGlvbjoxZTN9LHQpLHIpLHRoaXN9c25hcFRvTm9ydGgoZSx0KXtyZXR1cm4gTWF0aC5hYnModGhpcy5nZXRCZWFyaW5nKCkpPHRoaXMuX2JlYXJpbmdTbmFwP3RoaXMucmVzZXROb3J0aChlLHQpOnRoaXN9Z2V0UGl0Y2goKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl0Y2h9c2V0UGl0Y2goZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe3BpdGNoOmV9LHQpLHRoaXN9Y2FtZXJhRm9yQm91bmRzKHQscil7dD1lLkxuZ0xhdEJvdW5kcy5jb252ZXJ0KHQpO2NvbnN0IG49ciYmci5iZWFyaW5nfHwwLGk9dC5nZXROb3J0aFdlc3QoKSxvPXQuZ2V0U291dGhFYXN0KCk7cmV0dXJuIHRoaXMuX2NhbWVyYUZvckJvdW5kcyh0aGlzLnRyYW5zZm9ybSxpLG8sbixyKX1fZXh0ZW5kQ2FtZXJhT3B0aW9ucyh0KXtjb25zdCByPXt0b3A6MCxib3R0b206MCxyaWdodDowLGxlZnQ6MH07aWYoXCJudW1iZXJcIj09dHlwZW9mKHQ9ZS5leHRlbmQoe3BhZGRpbmc6cixvZmZzZXQ6WzAsMF0sbWF4Wm9vbTp0aGlzLnRyYW5zZm9ybS5tYXhab29tfSx0KSkucGFkZGluZyl7Y29uc3QgZT10LnBhZGRpbmc7dC5wYWRkaW5nPXt0b3A6ZSxib3R0b206ZSxyaWdodDplLGxlZnQ6ZX19cmV0dXJuIHQucGFkZGluZz1lLmV4dGVuZChyLHQucGFkZGluZyksdH1fbWluaW11bUFBQkJGcnVzdHVtRGlzdGFuY2UoZSx0KXtjb25zdCByPXQubWF4WzBdLXQubWluWzBdLG49dC5tYXhbMV0tdC5taW5bMV07cmV0dXJuIHIvbj5lLmFzcGVjdD9yLygyKk1hdGgudGFuKC41KmUuZm92WCkqZS5hc3BlY3QpOm4vKDIqTWF0aC50YW4oLjUqZS5mb3ZZKSplLmFzcGVjdCl9X2NhbWVyYUZvckJvdW5kc09uR2xvYmUodCxyLG4saSxvKXtjb25zdCBhPXQuY2xvbmUoKSxzPXRoaXMuX2V4dGVuZENhbWVyYU9wdGlvbnMobyk7YS5iZWFyaW5nPWk7Y29uc3QgbD1lLkxuZ0xhdC5jb252ZXJ0KHIpLGM9ZS5MbmdMYXQuY29udmVydChuKSx1PS41KihsLmxhdCtjLmxhdCksaD0uNSoobC5sbmcrYy5sbmcpLGQ9ZS5sYXRMbmdUb0VDRUYodSxoKSxwPWUubm9ybWFsaXplKFtdLGQpLGY9ZS5ub3JtYWxpemUoW10sZS5jcm9zcyhbXSxwLFswLDEsMF0pKSxtPWUuY3Jvc3MoW10sZixwKSxnPVtmWzBdLGZbMV0sZlsyXSwwLG1bMF0sbVsxXSxtWzJdLDAscFswXSxwWzFdLHBbMl0sMCwwLDAsMCwxXSxfPVtkLGUubGF0TG5nVG9FQ0VGKGwubGF0LGwubG5nKSxlLmxhdExuZ1RvRUNFRihjLmxhdCxsLmxuZyksZS5sYXRMbmdUb0VDRUYoYy5sYXQsYy5sbmcpLGUubGF0TG5nVG9FQ0VGKGwubGF0LGMubG5nKSxlLmxhdExuZ1RvRUNFRih1LGwubG5nKSxlLmxhdExuZ1RvRUNFRih1LGMubG5nKSxlLmxhdExuZ1RvRUNFRihsLmxhdCxoKSxlLmxhdExuZ1RvRUNFRihjLmxhdCxoKV07bGV0IHk9ZS5BYWJiLmZyb21Qb2ludHMoXy5tYXAodD0+W2UuZG90KGYsdCksZS5kb3QobSx0KSxlLmRvdChwLHQpXSkpO2NvbnN0IHY9ZS50cmFuc2Zvcm1NYXQ0KFtdLHkuY2VudGVyLGcpOzA9PT1lLnNxdWFyZWRMZW5ndGgodikmJmUuc2V0KHYsMCwwLDEpLGUubm9ybWFsaXplKHYsdiksZS5zY2FsZSQyKHYsdixlLkdMT0JFX1JBRElVUyksYS5jZW50ZXI9ZS5lY2VmVG9MYXRMbmcodik7Y29uc3QgeD1hLmdldFdvcmxkVG9DYW1lcmFNYXRyaXgoKSxiPWUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHgpO3k9ZS5BYWJiLmFwcGx5VHJhbnNmb3JtKHksZS5tdWx0aXBseShbXSx4LGcpKSxlLnRyYW5zZm9ybU1hdDQodix2LHgpO2NvbnN0IHc9LjUqKHkubWF4WzJdLXkubWluWzJdKSxUPXRoaXMuX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKGEseSksRT1lLnNjYWxlJDIoW10sWzAsMCwxXSx3KSxTPWUuYWRkKEUsdixFKSxDPVQrKDA9PT1hLnBpdGNoPzA6ZS5kaXN0YW5jZSh2LFMpKSxNPWEuZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSxrPWUuc3ViKFtdLHYsW01bMF0sTVsxXSxNWzJdXSk7ZS5ub3JtYWxpemUoayxrKSxlLnNjYWxlJDIoayxrLEMpO2NvbnN0IEE9ZS5hZGQoW10sdixrKTtlLnRyYW5zZm9ybU1hdDQoQSxBLGIpO2NvbnN0IEk9ZS5lYXJ0aFJhZGl1cy9lLkdMT0JFX1JBRElVUyxQPWUubGVuZ3RoKEEpLHo9ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoUCpJLWUuZWFydGhSYWRpdXMsMCksRD1NYXRoLm1pbihhLnpvb21Gcm9tTWVyY2F0b3JaQWRqdXN0ZWQoeikscy5tYXhab29tKTtyZXR1cm4gRD4uNSooZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NSU4rZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NQVgpPyhhLnNldFByb2plY3Rpb24oe25hbWU6XCJtZXJjYXRvclwifSksYS56b29tPUQsdGhpcy5fY2FtZXJhRm9yQm91bmRzKGEscixuLGksbykpOntjZW50ZXI6YS5jZW50ZXIsem9vbTpELGJlYXJpbmc6aX19cXVlcnlUZXJyYWluRWxldmF0aW9uKHQscil7Y29uc3Qgbj10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb247cmV0dXJuIG4/KHI9ZS5leHRlbmQoe30se2V4YWdnZXJhdGVkOiEwfSxyKSxuLmdldEF0UG9pbnQoZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCh0KSxudWxsLHIuZXhhZ2dlcmF0ZWQpKTpudWxsfV9jYW1lcmFGb3JCb3VuZHModCxyLG4saSxvKXtpZihcImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZSlyZXR1cm4gdGhpcy5fY2FtZXJhRm9yQm91bmRzT25HbG9iZSh0LHIsbixpLG8pO2NvbnN0IGE9dC5jbG9uZSgpLHM9dGhpcy5fZXh0ZW5kQ2FtZXJhT3B0aW9ucyhvKSxsPWEucGFkZGluZzthLmJlYXJpbmc9aTtjb25zdCBjPWUuTG5nTGF0LmNvbnZlcnQociksdT1lLkxuZ0xhdC5jb252ZXJ0KG4pLGg9bmV3IGUuTG5nTGF0KGMubG5nLHUubGF0KSxkPW5ldyBlLkxuZ0xhdCh1LmxuZyxjLmxhdCkscD1hLnByb2plY3QoYyksZj1hLnByb2plY3QodSksbT10aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbihjKSxnPXRoaXMucXVlcnlUZXJyYWluRWxldmF0aW9uKHUpLF89dGhpcy5xdWVyeVRlcnJhaW5FbGV2YXRpb24oaCkseT10aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbihkKSx2PVtbcC54LHAueSxNYXRoLm1pbihtfHwwLGd8fDAsX3x8MCx5fHwwKV0sW2YueCxmLnksTWF0aC5tYXgobXx8MCxnfHwwLF98fDAseXx8MCldXTtsZXQgeD1lLkFhYmIuZnJvbVBvaW50cyh2KTtjb25zdCBiPWEuZ2V0V29ybGRUb0NhbWVyYU1hdHJpeCgpLHc9ZS5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksYik7eD1lLkFhYmIuYXBwbHlUcmFuc2Zvcm0oeCxiKTtjb25zdCBUPWUuc3ViKFtdLHgubWF4LHgubWluKSxFPWwubGVmdHx8MCxTPWwucmlnaHR8fDAsQz1sLmJvdHRvbXx8MCxNPWwudG9wfHwwLHtsZWZ0OmsscmlnaHQ6QSx0b3A6SSxib3R0b206UH09cy5wYWRkaW5nLHo9LjUqKEUrUyksRD0uNSooTStDKSxSPU1hdGgubWluKGEuc2NhbGVab29tKGEuc2NhbGUqTWF0aC5taW4oKGEud2lkdGgtKEUrUytrK0EpKS9UWzBdLChhLmhlaWdodC0oQytNK1ArSSkpL1RbMV0pKSxzLm1heFpvb20pLEw9YS5zY2FsZS9hLnpvb21TY2FsZShSKTt4PW5ldyBlLkFhYmIoW3gubWluWzBdLShrK3opKkwseC5taW5bMV0tKFArRCkqTCx4Lm1pblsyXV0sW3gubWF4WzBdKyhBK3opKkwseC5tYXhbMV0rKEkrRCkqTCx4Lm1heFsyXV0pO2NvbnN0IE89LjUqVFsyXSxCPXRoaXMuX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKGEseCksRj1bMCwwLDEsMF07ZS50cmFuc2Zvcm1NYXQ0JDEoRixGLGIpLGUubm9ybWFsaXplJDIoRixGKTtjb25zdCBqPWUuc2NhbGUkMihbXSxGLEIrTyksVT1lLmFkZChbXSx4LmNlbnRlcixqKSxOPShcIm51bWJlclwiPT10eXBlb2Ygcy5vZmZzZXQueCYmXCJudW1iZXJcIj09dHlwZW9mIHMub2Zmc2V0Lnk/bmV3IGUucG9pbnRHZW9tZXRyeShzLm9mZnNldC54LHMub2Zmc2V0LnkpOmUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHMub2Zmc2V0KSkucm90YXRlKC1lLmRlZ1RvUmFkKGkpKTt4LmNlbnRlclswXS09Ti54KkwseC5jZW50ZXJbMV0rPU4ueSpMLGUudHJhbnNmb3JtTWF0NCh4LmNlbnRlcix4LmNlbnRlcix3KSxlLnRyYW5zZm9ybU1hdDQoVSxVLHcpO2NvbnN0IFY9W3guY2VudGVyWzBdLHguY2VudGVyWzFdLFVbMl0qYS5waXhlbHNQZXJNZXRlcl07ZS5zY2FsZSQyKFYsViwxL2Eud29ybGRTaXplKTtjb25zdCBHPWUubG5nRnJvbU1lcmNhdG9yWChWWzBdKSxxPWUubGF0RnJvbU1lcmNhdG9yWShWWzFdKSxaPU1hdGgubWluKGEuX3pvb21Gcm9tTWVyY2F0b3JaKFZbMl0pLHMubWF4Wm9vbSksJD1uZXcgZS5MbmdMYXQoRyxxKTtyZXR1cm4gYS5tZXJjYXRvckZyb21UcmFuc2l0aW9uJiZaPC41KihlLkdMT0JFX1pPT01fVEhSRVNIT0xEX01JTitlLkdMT0JFX1pPT01fVEhSRVNIT0xEX01BWCk/KGEuc2V0UHJvamVjdGlvbih7bmFtZTpcImdsb2JlXCJ9KSxhLnpvb209Wix0aGlzLl9jYW1lcmFGb3JCb3VuZHMoYSxyLG4saSxvKSk6e2NlbnRlcjokLHpvb206WixiZWFyaW5nOml9fWZpdEJvdW5kcyhlLHQscil7Y29uc3Qgbj10aGlzLmNhbWVyYUZvckJvdW5kcyhlLHQpO3JldHVybiB0aGlzLl9maXRJbnRlcm5hbChuLHQscil9Zml0U2NyZWVuQ29vcmRpbmF0ZXModCxyLG4saSxvKXtjb25zdCBhPWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQpLHM9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQociksbD1uZXcgZS5wb2ludEdlb21ldHJ5KE1hdGgubWluKGEueCxzLngpLE1hdGgubWluKGEueSxzLnkpKSxjPW5ldyBlLnBvaW50R2VvbWV0cnkoTWF0aC5tYXgoYS54LHMueCksTWF0aC5tYXgoYS55LHMueSkpO2lmKFwibWVyY2F0b3JcIj09PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSYmdGhpcy50cmFuc2Zvcm0uYW55Q29ybmVyT2ZmRWRnZShhLHMpKXJldHVybiB0aGlzO2NvbnN0IHU9dGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbjNEKGwpLGg9dGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbjNEKGMpLGQ9dGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbjNEKG5ldyBlLnBvaW50R2VvbWV0cnkobC54LGMueSkpLHA9dGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbjNEKG5ldyBlLnBvaW50R2VvbWV0cnkoYy54LGwueSkpLGY9W01hdGgubWluKHUubG5nLGgubG5nLGQubG5nLHAubG5nKSxNYXRoLm1pbih1LmxhdCxoLmxhdCxkLmxhdCxwLmxhdCldLG09W01hdGgubWF4KHUubG5nLGgubG5nLGQubG5nLHAubG5nKSxNYXRoLm1heCh1LmxhdCxoLmxhdCxkLmxhdCxwLmxhdCldLGc9dGhpcy5fY2FtZXJhRm9yQm91bmRzKHRoaXMudHJhbnNmb3JtLGYsbSxuLGkpO3JldHVybiB0aGlzLl9maXRJbnRlcm5hbChnLGksbyl9X2ZpdEludGVybmFsKHQscixuKXtyZXR1cm4gdD8oZGVsZXRlKHI9ZS5leHRlbmQodCxyKSkucGFkZGluZyxyLmxpbmVhcj90aGlzLmVhc2VUbyhyLG4pOnRoaXMuZmx5VG8ocixuKSk6dGhpc31qdW1wVG8odCxyKXt0aGlzLnN0b3AoKTtjb25zdCBuPXQucHJlbG9hZE9ubHk/dGhpcy50cmFuc2Zvcm0uY2xvbmUoKTp0aGlzLnRyYW5zZm9ybTtsZXQgaT0hMSxvPSExLGE9ITE7cmV0dXJuXCJ6b29tXCJpbiB0JiZuLnpvb20hPT0rdC56b29tJiYoaT0hMCxuLnpvb209K3Quem9vbSksdm9pZCAwIT09dC5jZW50ZXImJihuLmNlbnRlcj1lLkxuZ0xhdC5jb252ZXJ0KHQuY2VudGVyKSksXCJiZWFyaW5nXCJpbiB0JiZuLmJlYXJpbmchPT0rdC5iZWFyaW5nJiYobz0hMCxuLmJlYXJpbmc9K3QuYmVhcmluZyksXCJwaXRjaFwiaW4gdCYmbi5waXRjaCE9PSt0LnBpdGNoJiYoYT0hMCxuLnBpdGNoPSt0LnBpdGNoKSxudWxsPT10LnBhZGRpbmd8fG4uaXNQYWRkaW5nRXF1YWwodC5wYWRkaW5nKXx8KG4ucGFkZGluZz10LnBhZGRpbmcpLHQucHJlbG9hZE9ubHk/KHRoaXMuX3ByZWxvYWRUaWxlcyhuKSx0aGlzKToodGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZXN0YXJ0XCIscikpLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlXCIscikpLGkmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInpvb21zdGFydFwiLHIpKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbVwiLHIpKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiLHIpKSxvJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVzdGFydFwiLHIpKS5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlXCIscikpLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVlbmRcIixyKSksYSYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hzdGFydFwiLHIpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hcIixyKSkuZmlyZShuZXcgZS5FdmVudChcInBpdGNoZW5kXCIscikpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVlbmRcIixyKSkpfWdldEZyZWVDYW1lcmFPcHRpb25zKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGcmVlQ2FtZXJhfHxlLndhcm5PbmNlKEhpKSx0aGlzLnRyYW5zZm9ybS5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpfXNldEZyZWVDYW1lcmFPcHRpb25zKHQscil7Y29uc3Qgbj10aGlzLnRyYW5zZm9ybTtpZighbi5wcm9qZWN0aW9uLnN1cHBvcnRzRnJlZUNhbWVyYSlyZXR1cm4gZS53YXJuT25jZShIaSksdGhpczt0aGlzLnN0b3AoKTtjb25zdCBpPW4uem9vbSxvPW4ucGl0Y2gsYT1uLmJlYXJpbmc7bi5zZXRGcmVlQ2FtZXJhT3B0aW9ucyh0KTtjb25zdCBzPWkhPT1uLnpvb20sbD1vIT09bi5waXRjaCxjPWEhPT1uLmJlYXJpbmc7cmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVzdGFydFwiLHIpKS5maXJlKG5ldyBlLkV2ZW50KFwibW92ZVwiLHIpKSxzJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tc3RhcnRcIixyKSkuZmlyZShuZXcgZS5FdmVudChcInpvb21cIixyKSkuZmlyZShuZXcgZS5FdmVudChcInpvb21lbmRcIixyKSksYyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlc3RhcnRcIixyKSkuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZVwiLHIpKS5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlZW5kXCIscikpLGwmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInBpdGNoc3RhcnRcIixyKSkuZmlyZShuZXcgZS5FdmVudChcInBpdGNoXCIscikpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaGVuZFwiLHIpKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlZW5kXCIscikpLHRoaXN9ZWFzZVRvKHQscil7dGhpcy5fc3RvcCghMSx0LmVhc2VJZCksKCExPT09KHQ9ZS5leHRlbmQoe29mZnNldDpbMCwwXSxkdXJhdGlvbjo1MDAsZWFzaW5nOmUuZWFzZX0sdCkpLmFuaW1hdGV8fCF0LmVzc2VudGlhbCYmZS5leHBvcnRlZC5wcmVmZXJzUmVkdWNlZE1vdGlvbikmJih0LmR1cmF0aW9uPTApO2NvbnN0IG49dGhpcy50cmFuc2Zvcm0saT10aGlzLmdldFpvb20oKSxvPXRoaXMuZ2V0QmVhcmluZygpLGE9dGhpcy5nZXRQaXRjaCgpLHM9dGhpcy5nZXRQYWRkaW5nKCksbD1cInpvb21cImluIHQ/K3Quem9vbTppLGM9XCJiZWFyaW5nXCJpbiB0P3RoaXMuX25vcm1hbGl6ZUJlYXJpbmcodC5iZWFyaW5nLG8pOm8sdT1cInBpdGNoXCJpbiB0Pyt0LnBpdGNoOmEsaD1cInBhZGRpbmdcImluIHQ/dC5wYWRkaW5nOm4ucGFkZGluZyxkPWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQub2Zmc2V0KTtsZXQgcCxmLG07aWYoXCJnbG9iZVwiPT09bi5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IHI9ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChuLmNlbnRlciksaT1kLnJvdGF0ZSgtbi5hbmdsZSk7ci54Kz1pLngvbi53b3JsZFNpemUsci55Kz1pLnkvbi53b3JsZFNpemU7Y29uc3Qgbz1yLnRvTG5nTGF0KCksYT1lLkxuZ0xhdC5jb252ZXJ0KHQuY2VudGVyfHxvKTt0aGlzLl9ub3JtYWxpemVDZW50ZXIoYSkscD1uLmNlbnRlclBvaW50LmFkZChpKSxmPW5ldyBlLnBvaW50R2VvbWV0cnkoci54LHIueSkubXVsdChuLndvcmxkU2l6ZSksbT1uZXcgZS5wb2ludEdlb21ldHJ5KGUubWVyY2F0b3JYZnJvbUxuZyhhLmxuZyksZS5tZXJjYXRvcllmcm9tTGF0KGEubGF0KSkubXVsdChuLndvcmxkU2l6ZSkuc3ViKGYpfWVsc2V7cD1uLmNlbnRlclBvaW50LmFkZChkKTtjb25zdCByPW4ucG9pbnRMb2NhdGlvbihwKSxpPWUuTG5nTGF0LmNvbnZlcnQodC5jZW50ZXJ8fHIpO3RoaXMuX25vcm1hbGl6ZUNlbnRlcihpKSxmPW4ucHJvamVjdChyKSxtPW4ucHJvamVjdChpKS5zdWIoZil9Y29uc3QgZz1uLnpvb21TY2FsZShsLWkpO2xldCBfLHk7dC5hcm91bmQmJihfPWUuTG5nTGF0LmNvbnZlcnQodC5hcm91bmQpLHk9bi5sb2NhdGlvblBvaW50KF8pKTtjb25zdCB2PXRoaXMuX3pvb21pbmd8fGwhPT1pLHg9dGhpcy5fcm90YXRpbmd8fG8hPT1jLGI9dGhpcy5fcGl0Y2hpbmd8fHUhPT1hLHc9IW4uaXNQYWRkaW5nRXF1YWwoaCksVD1uPT5UPT57aWYodiYmKG4uem9vbT1lLm51bWJlcihpLGwsVCkpLHgmJihuLmJlYXJpbmc9ZS5udW1iZXIobyxjLFQpKSxiJiYobi5waXRjaD1lLm51bWJlcihhLHUsVCkpLHcmJihuLmludGVycG9sYXRlUGFkZGluZyhzLGgsVCkscD1uLmNlbnRlclBvaW50LmFkZChkKSksXyluLnNldExvY2F0aW9uQXRQb2ludChfLHkpO2Vsc2V7Y29uc3QgZT1uLnpvb21TY2FsZShuLnpvb20taSksdD1sPmk/TWF0aC5taW4oMixnKTpNYXRoLm1heCguNSxnKSxyPU1hdGgucG93KHQsMS1UKSxvPW4udW5wcm9qZWN0KGYuYWRkKG0ubXVsdChUKnIpKS5tdWx0KGUpKTtuLnNldExvY2F0aW9uQXRQb2ludChuLnJlbmRlcldvcmxkQ29waWVzP28ud3JhcCgpOm8scCl9cmV0dXJuIHQucHJlbG9hZE9ubHl8fHRoaXMuX2ZpcmVNb3ZlRXZlbnRzKHIpLG59O2lmKHQucHJlbG9hZE9ubHkpe2NvbnN0IGU9dGhpcy5fZW11bGF0ZShULHQuZHVyYXRpb24sbik7cmV0dXJuIHRoaXMuX3ByZWxvYWRUaWxlcyhlKSx0aGlzfWNvbnN0IEU9e21vdmluZzp0aGlzLl9tb3Zpbmcsem9vbWluZzp0aGlzLl96b29taW5nLHJvdGF0aW5nOnRoaXMuX3JvdGF0aW5nLHBpdGNoaW5nOnRoaXMuX3BpdGNoaW5nfTtyZXR1cm4gdGhpcy5fem9vbWluZz12LHRoaXMuX3JvdGF0aW5nPXgsdGhpcy5fcGl0Y2hpbmc9Yix0aGlzLl9wYWRkaW5nPXcsdGhpcy5fZWFzZUlkPXQuZWFzZUlkLHRoaXMuX3ByZXBhcmVFYXNlKHIsdC5ub01vdmVTdGFydCxFKSx0aGlzLl9lYXNlKFQobiksZT0+e24ucmVjZW50ZXJPblRlcnJhaW4oKSx0aGlzLl9hZnRlckVhc2UocixlKX0sdCksdGhpc31fcHJlcGFyZUVhc2UodCxyLG49e30pe3RoaXMuX21vdmluZz0hMCx0aGlzLnRyYW5zZm9ybS5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJzZWFcIixyfHxuLm1vdmluZ3x8dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZXN0YXJ0XCIsdCkpLHRoaXMuX3pvb21pbmcmJiFuLnpvb21pbmcmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInpvb21zdGFydFwiLHQpKSx0aGlzLl9yb3RhdGluZyYmIW4ucm90YXRpbmcmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZXN0YXJ0XCIsdCkpLHRoaXMuX3BpdGNoaW5nJiYhbi5waXRjaGluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hzdGFydFwiLHQpKX1fZmlyZU1vdmVFdmVudHModCl7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZVwiLHQpKSx0aGlzLl96b29taW5nJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIsdCkpLHRoaXMuX3JvdGF0aW5nJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVcIix0KSksdGhpcy5fcGl0Y2hpbmcmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInBpdGNoXCIsdCkpfV9hZnRlckVhc2UodCxyKXtpZih0aGlzLl9lYXNlSWQmJnImJnRoaXMuX2Vhc2VJZD09PXIpcmV0dXJuO3RoaXMuX2Vhc2VJZD12b2lkIDAsdGhpcy50cmFuc2Zvcm0uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwiZ3JvdW5kXCI7Y29uc3Qgbj10aGlzLl96b29taW5nLGk9dGhpcy5fcm90YXRpbmcsbz10aGlzLl9waXRjaGluZzt0aGlzLl9tb3Zpbmc9ITEsdGhpcy5fem9vbWluZz0hMSx0aGlzLl9yb3RhdGluZz0hMSx0aGlzLl9waXRjaGluZz0hMSx0aGlzLl9wYWRkaW5nPSExLG4mJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInpvb21lbmRcIix0KSksaSYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlZW5kXCIsdCkpLG8mJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInBpdGNoZW5kXCIsdCkpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVlbmRcIix0KSl9Zmx5VG8odCxyKXtpZighdC5lc3NlbnRpYWwmJmUuZXhwb3J0ZWQucHJlZmVyc1JlZHVjZWRNb3Rpb24pe2NvbnN0IG49ZS5waWNrKHQsW1wiY2VudGVyXCIsXCJ6b29tXCIsXCJiZWFyaW5nXCIsXCJwaXRjaFwiLFwiYXJvdW5kXCJdKTtyZXR1cm4gdGhpcy5qdW1wVG8obixyKX10aGlzLnN0b3AoKSx0PWUuZXh0ZW5kKHtvZmZzZXQ6WzAsMF0sc3BlZWQ6MS4yLGN1cnZlOjEuNDIsZWFzaW5nOmUuZWFzZX0sdCk7Y29uc3Qgbj10aGlzLnRyYW5zZm9ybSxpPXRoaXMuZ2V0Wm9vbSgpLG89dGhpcy5nZXRCZWFyaW5nKCksYT10aGlzLmdldFBpdGNoKCkscz10aGlzLmdldFBhZGRpbmcoKSxsPVwiem9vbVwiaW4gdD9lLmNsYW1wKCt0Lnpvb20sbi5taW5ab29tLG4ubWF4Wm9vbSk6aSxjPVwiYmVhcmluZ1wiaW4gdD90aGlzLl9ub3JtYWxpemVCZWFyaW5nKHQuYmVhcmluZyxvKTpvLHU9XCJwaXRjaFwiaW4gdD8rdC5waXRjaDphLGg9XCJwYWRkaW5nXCJpbiB0P3QucGFkZGluZzpuLnBhZGRpbmcsZD1uLnpvb21TY2FsZShsLWkpLHA9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodC5vZmZzZXQpO2xldCBmPW4uY2VudGVyUG9pbnQuYWRkKHApO2NvbnN0IG09bi5wb2ludExvY2F0aW9uKGYpLGc9ZS5MbmdMYXQuY29udmVydCh0LmNlbnRlcnx8bSk7dGhpcy5fbm9ybWFsaXplQ2VudGVyKGcpO2NvbnN0IF89bi5wcm9qZWN0KG0pLHk9bi5wcm9qZWN0KGcpLnN1YihfKTtsZXQgdj10LmN1cnZlO2NvbnN0IHg9TWF0aC5tYXgobi53aWR0aCxuLmhlaWdodCksYj14L2Qsdz15Lm1hZygpO2lmKFwibWluWm9vbVwiaW4gdCl7Y29uc3Qgcj1lLmNsYW1wKE1hdGgubWluKHQubWluWm9vbSxpLGwpLG4ubWluWm9vbSxuLm1heFpvb20pLG89eC9uLnpvb21TY2FsZShyLWkpO3Y9TWF0aC5zcXJ0KG8vdyoyKX1jb25zdCBUPXYqdjtmdW5jdGlvbiBFKGUpe2NvbnN0IHQ9KGIqYi14KngrKGU/LTE6MSkqVCpUKncqdykvKDIqKGU/Yjp4KSpUKncpO3JldHVybiBNYXRoLmxvZyhNYXRoLnNxcnQodCp0KzEpLXQpfWZ1bmN0aW9uIFMoZSl7cmV0dXJuKE1hdGguZXhwKGUpLU1hdGguZXhwKC1lKSkvMn1mdW5jdGlvbiBDKGUpe3JldHVybihNYXRoLmV4cChlKStNYXRoLmV4cCgtZSkpLzJ9Y29uc3QgTT1FKDApO2xldCBrPWZ1bmN0aW9uKGUpe3JldHVybiBDKE0pL0MoTSt2KmUpfSxBPWZ1bmN0aW9uKGUpe3JldHVybiB4KigoQyhNKSooUyh0PU0rdiplKS9DKHQpKS1TKE0pKS9UKS93O3ZhciB0fSxJPShFKDEpLU0pL3Y7aWYoTWF0aC5hYnModyk8MWUtNnx8IWlzRmluaXRlKEkpKXtpZihNYXRoLmFicyh4LWIpPDFlLTYpcmV0dXJuIHRoaXMuZWFzZVRvKHQscik7Y29uc3QgZT1iPHg/LTE6MTtJPU1hdGguYWJzKE1hdGgubG9nKGIveCkpL3YsQT1mdW5jdGlvbigpe3JldHVybiAwfSxrPWZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLmV4cChlKnYqdCl9fXQuZHVyYXRpb249XCJkdXJhdGlvblwiaW4gdD8rdC5kdXJhdGlvbjoxZTMqSS8oXCJzY3JlZW5TcGVlZFwiaW4gdD8rdC5zY3JlZW5TcGVlZC92Oit0LnNwZWVkKSx0Lm1heER1cmF0aW9uJiZ0LmR1cmF0aW9uPnQubWF4RHVyYXRpb24mJih0LmR1cmF0aW9uPTApO2NvbnN0IFA9byE9PWMsej11IT09YSxEPSFuLmlzUGFkZGluZ0VxdWFsKGgpLFI9bj0+ZD0+e2NvbnN0IG09ZCpJLHY9MS9rKG0pO24uem9vbT0xPT09ZD9sOmkrbi5zY2FsZVpvb20odiksUCYmKG4uYmVhcmluZz1lLm51bWJlcihvLGMsZCkpLHomJihuLnBpdGNoPWUubnVtYmVyKGEsdSxkKSksRCYmKG4uaW50ZXJwb2xhdGVQYWRkaW5nKHMsaCxkKSxmPW4uY2VudGVyUG9pbnQuYWRkKHApKTtjb25zdCB4PTE9PT1kP2c6bi51bnByb2plY3QoXy5hZGQoeS5tdWx0KEEobSkpKS5tdWx0KHYpKTtyZXR1cm4gbi5zZXRMb2NhdGlvbkF0UG9pbnQobi5yZW5kZXJXb3JsZENvcGllcz94LndyYXAoKTp4LGYpLG4uX3VwZGF0ZUNhbWVyYU9uVGVycmFpbigpLHQucHJlbG9hZE9ubHl8fHRoaXMuX2ZpcmVNb3ZlRXZlbnRzKHIpLG59O2lmKHQucHJlbG9hZE9ubHkpe2NvbnN0IGU9dGhpcy5fZW11bGF0ZShSLHQuZHVyYXRpb24sbik7cmV0dXJuIHRoaXMuX3ByZWxvYWRUaWxlcyhlKSx0aGlzfXJldHVybiB0aGlzLl96b29taW5nPSEwLHRoaXMuX3JvdGF0aW5nPVAsdGhpcy5fcGl0Y2hpbmc9eix0aGlzLl9wYWRkaW5nPUQsdGhpcy5fcHJlcGFyZUVhc2UociwhMSksdGhpcy5fZWFzZShSKG4pLCgpPT50aGlzLl9hZnRlckVhc2UociksdCksdGhpc31pc0Vhc2luZygpe3JldHVybiEhdGhpcy5fZWFzZUZyYW1lSWR9c3RvcCgpe3JldHVybiB0aGlzLl9zdG9wKCl9X3N0b3AoZSx0KXtpZih0aGlzLl9lYXNlRnJhbWVJZCYmKHRoaXMuX2NhbmNlbFJlbmRlckZyYW1lKHRoaXMuX2Vhc2VGcmFtZUlkKSx0aGlzLl9lYXNlRnJhbWVJZD12b2lkIDAsdGhpcy5fb25FYXNlRnJhbWU9dm9pZCAwKSx0aGlzLl9vbkVhc2VFbmQpe2NvbnN0IGU9dGhpcy5fb25FYXNlRW5kO3RoaXMuX29uRWFzZUVuZD12b2lkIDAsZS5jYWxsKHRoaXMsdCl9aWYoIWUpe2NvbnN0IGU9dGhpcy5oYW5kbGVycztlJiZlLnN0b3AoITEpfXJldHVybiB0aGlzfV9lYXNlKHQscixuKXshMT09PW4uYW5pbWF0ZXx8MD09PW4uZHVyYXRpb24/KHQoMSkscigpKToodGhpcy5fZWFzZVN0YXJ0PWUuZXhwb3J0ZWQubm93KCksdGhpcy5fZWFzZU9wdGlvbnM9bix0aGlzLl9vbkVhc2VGcmFtZT10LHRoaXMuX29uRWFzZUVuZD1yLHRoaXMuX2Vhc2VGcmFtZUlkPXRoaXMuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9yZW5kZXJGcmFtZUNhbGxiYWNrKSl9X3JlbmRlckZyYW1lQ2FsbGJhY2soKXtjb25zdCB0PU1hdGgubWluKChlLmV4cG9ydGVkLm5vdygpLXRoaXMuX2Vhc2VTdGFydCkvdGhpcy5fZWFzZU9wdGlvbnMuZHVyYXRpb24sMSkscj10aGlzLl9vbkVhc2VGcmFtZTtyJiZyKHRoaXMuX2Vhc2VPcHRpb25zLmVhc2luZyh0KSksdDwxP3RoaXMuX2Vhc2VGcmFtZUlkPXRoaXMuX3JlcXVlc3RSZW5kZXJGcmFtZSh0aGlzLl9yZW5kZXJGcmFtZUNhbGxiYWNrKTp0aGlzLnN0b3AoKX1fbm9ybWFsaXplQmVhcmluZyh0LHIpe3Q9ZS53cmFwKHQsLTE4MCwxODApO2NvbnN0IG49TWF0aC5hYnModC1yKTtyZXR1cm4gTWF0aC5hYnModC0zNjAtcik8biYmKHQtPTM2MCksTWF0aC5hYnModCszNjAtcik8biYmKHQrPTM2MCksdH1fbm9ybWFsaXplQ2VudGVyKGUpe2NvbnN0IHQ9dGhpcy50cmFuc2Zvcm07aWYoIXQucmVuZGVyV29ybGRDb3BpZXN8fHQubWF4Qm91bmRzKXJldHVybjtjb25zdCByPWUubG5nLXQuY2VudGVyLmxuZztlLmxuZys9cj4xODA/LTM2MDpyPC0xODA/MzYwOjB9X2VtdWxhdGUoZSx0LHIpe2NvbnN0IG49TWF0aC5jZWlsKDE1KnQvMWUzKSxpPVtdLG89ZShyLmNsb25lKCkpO2ZvcihsZXQgZT0wO2U8PW47ZSsrKXtjb25zdCB0PW8oZS9uKTtpLnB1c2godC5jbG9uZSgpKX1yZXR1cm4gaX19Y2xhc3MgS2l7Y29uc3RydWN0b3IodD17fSl7dGhpcy5vcHRpb25zPXQsZS5iaW5kQWxsKFtcIl90b2dnbGVBdHRyaWJ1dGlvblwiLFwiX3VwZGF0ZUVkaXRMaW5rXCIsXCJfdXBkYXRlRGF0YVwiLFwiX3VwZGF0ZUNvbXBhY3RcIl0sdGhpcyl9Z2V0RGVmYXVsdFBvc2l0aW9uKCl7cmV0dXJuXCJib3R0b20tcmlnaHRcIn1vbkFkZChlKXtjb25zdCB0PXRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLmNvbXBhY3Q7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMuX2NvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtYXR0cmliXCIpLHRoaXMuX2NvbXBhY3RCdXR0b249byhcImJ1dHRvblwiLFwibWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9uXCIsdGhpcy5fY29udGFpbmVyKSxvKFwic3BhblwiLFwibWFwYm94Z2wtY3RybC1pY29uXCIsdGhpcy5fY29tcGFjdEJ1dHRvbikuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksdGhpcy5fY29tcGFjdEJ1dHRvbi50eXBlPVwiYnV0dG9uXCIsdGhpcy5fY29tcGFjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl90b2dnbGVBdHRyaWJ1dGlvbiksdGhpcy5fc2V0RWxlbWVudFRpdGxlKHRoaXMuX2NvbXBhY3RCdXR0b24sXCJUb2dnbGVBdHRyaWJ1dGlvblwiKSx0aGlzLl9pbm5lckNvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsLWF0dHJpYi1pbm5lclwiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5faW5uZXJDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwibGlzdFwiKSx0JiZ0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWNvbXBhY3RcIiksdGhpcy5fdXBkYXRlQXR0cmlidXRpb25zKCksdGhpcy5fdXBkYXRlRWRpdExpbmsoKSx0aGlzLl9tYXAub24oXCJzdHlsZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub24oXCJzb3VyY2VkYXRhXCIsdGhpcy5fdXBkYXRlRGF0YSksdGhpcy5fbWFwLm9uKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKSx2b2lkIDA9PT10JiYodGhpcy5fbWFwLm9uKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fdXBkYXRlQ29tcGFjdCgpKSx0aGlzLl9jb250YWluZXJ9b25SZW1vdmUoKXt0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWFwLm9mZihcInN0eWxlZGF0YVwiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vZmYoXCJzb3VyY2VkYXRhXCIsdGhpcy5fdXBkYXRlRGF0YSksdGhpcy5fbWFwLm9mZihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGVFZGl0TGluayksdGhpcy5fbWFwLm9mZihcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZUNvbXBhY3QpLHRoaXMuX21hcD12b2lkIDAsdGhpcy5fYXR0cmliSFRNTD12b2lkIDB9X3NldEVsZW1lbnRUaXRsZShlLHQpe2NvbnN0IHI9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIkF0dHJpYnV0aW9uQ29udHJvbC5cIit0KTtlLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixyKSxlLnJlbW92ZUF0dHJpYnV0ZShcInRpdGxlXCIpLGUuZmlyc3RFbGVtZW50Q2hpbGQmJmUuZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixyKX1fdG9nZ2xlQXR0cmlidXRpb24oKXt0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKFwibWFwYm94Z2wtY29tcGFjdC1zaG93XCIpPyh0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNvbXBhY3Qtc2hvd1wiKSx0aGlzLl9jb21wYWN0QnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcImZhbHNlXCIpKToodGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0LXNob3dcIiksdGhpcy5fY29tcGFjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpKX1fdXBkYXRlRWRpdExpbmsoKXtsZXQgdD10aGlzLl9lZGl0TGluazt0fHwodD10aGlzLl9lZGl0TGluaz10aGlzLl9jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5tYXBib3gtaW1wcm92ZS1tYXBcIikpO2NvbnN0IHI9W3trZXk6XCJvd25lclwiLHZhbHVlOnRoaXMuc3R5bGVPd25lcn0se2tleTpcImlkXCIsdmFsdWU6dGhpcy5zdHlsZUlkfSx7a2V5OlwiYWNjZXNzX3Rva2VuXCIsdmFsdWU6dGhpcy5fbWFwLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW58fGUuY29uZmlnLkFDQ0VTU19UT0tFTn1dO2lmKHQpe2NvbnN0IG49ci5yZWR1Y2UoKGUsdCxuKT0+KHQudmFsdWUmJihlKz1gJHt0LmtleX09JHt0LnZhbHVlfSR7bjxyLmxlbmd0aC0xP1wiJlwiOlwiXCJ9YCksZSksXCI/XCIpO3QuaHJlZj1gJHtlLmNvbmZpZy5GRUVEQkFDS19VUkx9LyR7bn0jJHtlaSh0aGlzLl9tYXAsITApfWAsdC5yZWw9XCJub29wZW5lciBub2ZvbGxvd1wiLHRoaXMuX3NldEVsZW1lbnRUaXRsZSh0LFwiTWFwRmVlZGJhY2tcIil9fV91cGRhdGVEYXRhKGUpeyFlfHxcIm1ldGFkYXRhXCIhPT1lLnNvdXJjZURhdGFUeXBlJiZcInZpc2liaWxpdHlcIiE9PWUuc291cmNlRGF0YVR5cGUmJlwic3R5bGVcIiE9PWUuZGF0YVR5cGV8fCh0aGlzLl91cGRhdGVBdHRyaWJ1dGlvbnMoKSx0aGlzLl91cGRhdGVFZGl0TGluaygpKX1fdXBkYXRlQXR0cmlidXRpb25zKCl7aWYoIXRoaXMuX21hcC5zdHlsZSlyZXR1cm47bGV0IGU9W107aWYodGhpcy5fbWFwLnN0eWxlLnN0eWxlc2hlZXQpe2NvbnN0IGU9dGhpcy5fbWFwLnN0eWxlLnN0eWxlc2hlZXQ7dGhpcy5zdHlsZU93bmVyPWUub3duZXIsdGhpcy5zdHlsZUlkPWUuaWR9Y29uc3QgdD10aGlzLl9tYXAuc3R5bGUuX3NvdXJjZUNhY2hlcztmb3IoY29uc3QgciBpbiB0KXtjb25zdCBuPXRbcl07aWYobi51c2VkKXtjb25zdCB0PW4uZ2V0U291cmNlKCk7dC5hdHRyaWJ1dGlvbiYmZS5pbmRleE9mKHQuYXR0cmlidXRpb24pPDAmJmUucHVzaCh0LmF0dHJpYnV0aW9uKX19ZS5zb3J0KChlLHQpPT5lLmxlbmd0aC10Lmxlbmd0aCksZT1lLmZpbHRlcigodCxyKT0+e2ZvcihsZXQgbj1yKzE7bjxlLmxlbmd0aDtuKyspaWYoZVtuXS5pbmRleE9mKHQpPj0wKXJldHVybiExO3JldHVybiEwfSksdGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uJiYoQXJyYXkuaXNBcnJheSh0aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24pP2U9Wy4uLnRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbiwuLi5lXTplLnVuc2hpZnQodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uKSk7Y29uc3Qgcj1lLmpvaW4oXCIgfCBcIik7ciE9PXRoaXMuX2F0dHJpYkhUTUwmJih0aGlzLl9hdHRyaWJIVE1MPXIsZS5sZW5ndGg/KHRoaXMuX2lubmVyQ29udGFpbmVyLmlubmVySFRNTD1yLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtYXR0cmliLWVtcHR5XCIpKTp0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWF0dHJpYi1lbXB0eVwiKSx0aGlzLl9lZGl0TGluaz1udWxsKX1fdXBkYXRlQ29tcGFjdCgpe3RoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKS5vZmZzZXRXaWR0aDw9NjQwP3RoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY29tcGFjdFwiKTp0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWNvbXBhY3RcIixcIm1hcGJveGdsLWNvbXBhY3Qtc2hvd1wiKX19Y2xhc3MgSml7Y29uc3RydWN0b3IoKXtlLmJpbmRBbGwoW1wiX3VwZGF0ZUxvZ29cIixcIl91cGRhdGVDb21wYWN0XCJdLHRoaXMpfW9uQWRkKGUpe3RoaXMuX21hcD1lLHRoaXMuX2NvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsXCIpO2NvbnN0IHQ9byhcImFcIixcIm1hcGJveGdsLWN0cmwtbG9nb1wiKTtyZXR1cm4gdC50YXJnZXQ9XCJfYmxhbmtcIix0LnJlbD1cIm5vb3BlbmVyIG5vZm9sbG93XCIsdC5ocmVmPVwiaHR0cHM6Ly93d3cubWFwYm94LmNvbS9cIix0LnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIix0aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiTG9nb0NvbnRyb2wuVGl0bGVcIikpLHQuc2V0QXR0cmlidXRlKFwicmVsXCIsXCJub29wZW5lciBub2ZvbGxvd1wiKSx0aGlzLl9jb250YWluZXIuYXBwZW5kQ2hpbGQodCksdGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsdGhpcy5fbWFwLm9uKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZUxvZ28pLHRoaXMuX3VwZGF0ZUxvZ28oKSx0aGlzLl9tYXAub24oXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl91cGRhdGVDb21wYWN0KCksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJzb3VyY2VkYXRhXCIsdGhpcy5fdXBkYXRlTG9nbyksdGhpcy5fbWFwLm9mZihcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZUNvbXBhY3QpfWdldERlZmF1bHRQb3NpdGlvbigpe3JldHVyblwiYm90dG9tLWxlZnRcIn1fdXBkYXRlTG9nbyhlKXtlJiZcIm1ldGFkYXRhXCIhPT1lLnNvdXJjZURhdGFUeXBlfHwodGhpcy5fY29udGFpbmVyLnN0eWxlLmRpc3BsYXk9dGhpcy5fbG9nb1JlcXVpcmVkKCk/XCJibG9ja1wiOlwibm9uZVwiKX1fbG9nb1JlcXVpcmVkKCl7aWYoIXRoaXMuX21hcC5zdHlsZSlyZXR1cm4hMDtjb25zdCBlPXRoaXMuX21hcC5zdHlsZS5fc291cmNlQ2FjaGVzO2lmKDA9PT1PYmplY3QuZW50cmllcyhlKS5sZW5ndGgpcmV0dXJuITA7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3Qgcj1lW3RdLmdldFNvdXJjZSgpO2lmKHIuaGFzT3duUHJvcGVydHkoXCJtYXBib3hfbG9nb1wiKSYmIXIubWFwYm94X2xvZ28pcmV0dXJuITF9cmV0dXJuITB9X3VwZGF0ZUNvbXBhY3QoKXtjb25zdCBlPXRoaXMuX2NvbnRhaW5lci5jaGlsZHJlbjtpZihlLmxlbmd0aCl7Y29uc3QgdD1lWzBdO3RoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKS5vZmZzZXRXaWR0aDwyNTA/dC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY29tcGFjdFwiKTp0LmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jb21wYWN0XCIpfX19Y2xhc3MgUWl7Y29uc3RydWN0b3IoKXt0aGlzLl9xdWV1ZT1bXSx0aGlzLl9pZD0wLHRoaXMuX2NsZWFyZWQ9ITEsdGhpcy5fY3VycmVudGx5UnVubmluZz0hMX1hZGQoZSl7Y29uc3QgdD0rK3RoaXMuX2lkO3JldHVybiB0aGlzLl9xdWV1ZS5wdXNoKHtjYWxsYmFjazplLGlkOnQsY2FuY2VsbGVkOiExfSksdH1yZW1vdmUoZSl7Y29uc3QgdD10aGlzLl9jdXJyZW50bHlSdW5uaW5nLHI9dD90aGlzLl9xdWV1ZS5jb25jYXQodCk6dGhpcy5fcXVldWU7Zm9yKGNvbnN0IHQgb2YgcilpZih0LmlkPT09ZSlyZXR1cm4gdm9pZCh0LmNhbmNlbGxlZD0hMCl9cnVuKGU9MCl7Y29uc3QgdD10aGlzLl9jdXJyZW50bHlSdW5uaW5nPXRoaXMuX3F1ZXVlO3RoaXMuX3F1ZXVlPVtdO2Zvcihjb25zdCByIG9mIHQpaWYoIXIuY2FuY2VsbGVkJiYoci5jYWxsYmFjayhlKSx0aGlzLl9jbGVhcmVkKSlicmVhazt0aGlzLl9jbGVhcmVkPSExLHRoaXMuX2N1cnJlbnRseVJ1bm5pbmc9ITF9Y2xlYXIoKXt0aGlzLl9jdXJyZW50bHlSdW5uaW5nJiYodGhpcy5fY2xlYXJlZD0hMCksdGhpcy5fcXVldWU9W119fWZ1bmN0aW9uIGVvKHQscixuKXtpZih0PW5ldyBlLkxuZ0xhdCh0LmxuZyx0LmxhdCkscil7Y29uc3QgaT1uZXcgZS5MbmdMYXQodC5sbmctMzYwLHQubGF0KSxvPW5ldyBlLkxuZ0xhdCh0LmxuZyszNjAsdC5sYXQpLGE9MzYwKk1hdGguY2VpbChNYXRoLmFicyh0LmxuZy1uLmNlbnRlci5sbmcpLzM2MCkscz1uLmxvY2F0aW9uUG9pbnQodCkuZGlzdFNxcihyKSxsPXIueDwwfHxyLnk8MHx8ci54Pm4ud2lkdGh8fHIueT5uLmhlaWdodDtuLmxvY2F0aW9uUG9pbnQoaSkuZGlzdFNxcihyKTxzJiYobHx8TWF0aC5hYnMoaS5sbmctbi5jZW50ZXIubG5nKTxhKT90PWk6bi5sb2NhdGlvblBvaW50KG8pLmRpc3RTcXIocik8cyYmKGx8fE1hdGguYWJzKG8ubG5nLW4uY2VudGVyLmxuZyk8YSkmJih0PW8pfWZvcig7TWF0aC5hYnModC5sbmctbi5jZW50ZXIubG5nKT4xODA7KXtjb25zdCBlPW4ubG9jYXRpb25Qb2ludCh0KTtpZihlLng+PTAmJmUueT49MCYmZS54PD1uLndpZHRoJiZlLnk8PW4uaGVpZ2h0KWJyZWFrO3QubG5nPm4uY2VudGVyLmxuZz90LmxuZy09MzYwOnQubG5nKz0zNjB9cmV0dXJuIHR9Y29uc3QgdG89e2NlbnRlcjpcInRyYW5zbGF0ZSgtNTAlLC01MCUpXCIsdG9wOlwidHJhbnNsYXRlKC01MCUsMClcIixcInRvcC1sZWZ0XCI6XCJ0cmFuc2xhdGUoMCwwKVwiLFwidG9wLXJpZ2h0XCI6XCJ0cmFuc2xhdGUoLTEwMCUsMClcIixib3R0b206XCJ0cmFuc2xhdGUoLTUwJSwtMTAwJSlcIixcImJvdHRvbS1sZWZ0XCI6XCJ0cmFuc2xhdGUoMCwtMTAwJSlcIixcImJvdHRvbS1yaWdodFwiOlwidHJhbnNsYXRlKC0xMDAlLC0xMDAlKVwiLGxlZnQ6XCJ0cmFuc2xhdGUoMCwtNTAlKVwiLHJpZ2h0OlwidHJhbnNsYXRlKC0xMDAlLC01MCUpXCJ9O2NsYXNzIHJvIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQscil7aWYoc3VwZXIoKSwodCBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxFbGVtZW50fHxyKSYmKHQ9ZS5leHRlbmQoe2VsZW1lbnQ6dH0scikpLGUuYmluZEFsbChbXCJfdXBkYXRlXCIsXCJfb25Nb3ZlXCIsXCJfb25VcFwiLFwiX2FkZERyYWdIYW5kbGVyXCIsXCJfb25NYXBDbGlja1wiLFwiX29uS2V5UHJlc3NcIixcIl9jbGVhckZhZGVUaW1lclwiXSx0aGlzKSx0aGlzLl9hbmNob3I9dCYmdC5hbmNob3J8fFwiY2VudGVyXCIsdGhpcy5fY29sb3I9dCYmdC5jb2xvcnx8XCIjM0ZCMUNFXCIsdGhpcy5fc2NhbGU9dCYmdC5zY2FsZXx8MSx0aGlzLl9kcmFnZ2FibGU9dCYmdC5kcmFnZ2FibGV8fCExLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQmJnQuY2xpY2tUb2xlcmFuY2V8fDAsdGhpcy5faXNEcmFnZ2luZz0hMSx0aGlzLl9zdGF0ZT1cImluYWN0aXZlXCIsdGhpcy5fcm90YXRpb249dCYmdC5yb3RhdGlvbnx8MCx0aGlzLl9yb3RhdGlvbkFsaWdubWVudD10JiZ0LnJvdGF0aW9uQWxpZ25tZW50fHxcImF1dG9cIix0aGlzLl9waXRjaEFsaWdubWVudD10JiZ0LnBpdGNoQWxpZ25tZW50JiZ0LnBpdGNoQWxpZ25tZW50fHxcImF1dG9cIix0aGlzLl91cGRhdGVNb3Zpbmc9KCk9PnRoaXMuX3VwZGF0ZSghMCksdGhpcy5fb2NjbHVkZWRPcGFjaXR5PXQmJnQub2NjbHVkZWRPcGFjaXR5fHwuMix0JiZ0LmVsZW1lbnQpdGhpcy5fZWxlbWVudD10LmVsZW1lbnQsdGhpcy5fb2Zmc2V0PWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQmJnQub2Zmc2V0fHxbMCwwXSk7ZWxzZXt0aGlzLl9kZWZhdWx0TWFya2VyPSEwLHRoaXMuX2VsZW1lbnQ9byhcImRpdlwiKTtjb25zdCByPTQxLG49MjcsaT1hKFwic3ZnXCIse2Rpc3BsYXk6XCJibG9ja1wiLGhlaWdodDpyKnRoaXMuX3NjYWxlK1wicHhcIix3aWR0aDpuKnRoaXMuX3NjYWxlK1wicHhcIix2aWV3Qm94OmAwIDAgJHtufSAke3J9YH0sdGhpcy5fZWxlbWVudCkscz1hKFwicmFkaWFsR3JhZGllbnRcIix7aWQ6XCJzaGFkb3dHcmFkaWVudFwifSxhKFwiZGVmc1wiLHt9LGkpKTthKFwic3RvcFwiLHtvZmZzZXQ6XCIxMCVcIixcInN0b3Atb3BhY2l0eVwiOi40fSxzKSxhKFwic3RvcFwiLHtvZmZzZXQ6XCIxMDAlXCIsXCJzdG9wLW9wYWNpdHlcIjouMDV9LHMpLGEoXCJlbGxpcHNlXCIse2N4OjEzLjUsY3k6MzQuOCxyeDoxMC41LHJ5OjUuMjUsZmlsbDpcInVybCgjc2hhZG93R3JhZGllbnQpXCJ9LGkpLGEoXCJwYXRoXCIse2ZpbGw6dGhpcy5fY29sb3IsZDpcIk0yNywxMy41QzI3LDE5LjA3IDIwLjI1LDI3IDE0Ljc1LDM0LjVDMTQuMDIsMzUuNSAxMi45OCwzNS41IDEyLjI1LDM0LjVDNi43NSwyNyAwLDE5LjIyIDAsMTMuNUMwLDYuMDQgNi4wNCwwIDEzLjUsMEMyMC45NiwwIDI3LDYuMDQgMjcsMTMuNVpcIn0saSksYShcInBhdGhcIix7b3BhY2l0eTouMjUsZDpcIk0xMy41LDBDNi4wNCwwIDAsNi4wNCAwLDEzLjVDMCwxOS4yMiA2Ljc1LDI3IDEyLjI1LDM0LjVDMTMsMzUuNTIgMTQuMDIsMzUuNSAxNC43NSwzNC41QzIwLjI1LDI3IDI3LDE5LjA3IDI3LDEzLjVDMjcsNi4wNCAyMC45NiwwIDEzLjUsMFpNMTMuNSwxQzIwLjQyLDEgMjYsNi41OCAyNiwxMy41QzI2LDE1LjkgMjQuNSwxOS4xOCAyMi4yMiwyMi43NEMxOS45NSwyNi4zIDE2LjcxLDMwLjE0IDEzLjk0LDMzLjkxQzEzLjc0LDM0LjE4IDEzLjYxLDM0LjMyIDEzLjUsMzQuNDRDMTMuMzksMzQuMzIgMTMuMjYsMzQuMTggMTMuMDYsMzMuOTFDMTAuMjgsMzAuMTMgNy40MSwyNi4zMSA1LjAyLDIyLjc3QzIuNjIsMTkuMjMgMSwxNS45NSAxLDEzLjVDMSw2LjU4IDYuNTgsMSAxMy41LDFaXCJ9LGkpLGEoXCJjaXJjbGVcIix7ZmlsbDpcIndoaXRlXCIsY3g6MTMuNSxjeToxMy41LHI6NS41fSxpKSx0aGlzLl9vZmZzZXQ9ZS5wb2ludEdlb21ldHJ5LmNvbnZlcnQodCYmdC5vZmZzZXR8fFswLC0xNF0pfXRoaXMuX2VsZW1lbnQuaGFzQXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKXx8dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJNYXAgbWFya2VyXCIpLHRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLW1hcmtlclwiKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnc3RhcnRcIixlPT57ZS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZT0+e2UucHJldmVudERlZmF1bHQoKX0pO2NvbnN0IG49dGhpcy5fZWxlbWVudC5jbGFzc0xpc3Q7Zm9yKGNvbnN0IGUgaW4gdG8pbi5yZW1vdmUoXCJtYXBib3hnbC1tYXJrZXItYW5jaG9yLVwiK2UpO24uYWRkKFwibWFwYm94Z2wtbWFya2VyLWFuY2hvci1cIit0aGlzLl9hbmNob3IpLHRoaXMuX3BvcHVwPW51bGx9YWRkVG8oZSl7cmV0dXJuIGU9PT10aGlzLl9tYXB8fCh0aGlzLnJlbW92ZSgpLHRoaXMuX21hcD1lLGUuZ2V0Q2FudmFzQ29udGFpbmVyKCkuYXBwZW5kQ2hpbGQodGhpcy5fZWxlbWVudCksZS5vbihcIm1vdmVcIix0aGlzLl91cGRhdGVNb3ZpbmcpLGUub24oXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlKSxlLm9uKFwicmVtb3ZlXCIsdGhpcy5fY2xlYXJGYWRlVGltZXIpLGUuX2FkZE1hcmtlcih0aGlzKSx0aGlzLnNldERyYWdnYWJsZSh0aGlzLl9kcmFnZ2FibGUpLHRoaXMuX3VwZGF0ZSgpLGUub24oXCJjbGlja1wiLHRoaXMuX29uTWFwQ2xpY2spKSx0aGlzfXJlbW92ZSgpe2NvbnN0IGU9dGhpcy5fbWFwO3JldHVybiBlJiYoZS5vZmYoXCJjbGlja1wiLHRoaXMuX29uTWFwQ2xpY2spLGUub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZU1vdmluZyksZS5vZmYoXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlKSxlLm9mZihcIm1vdXNlZG93blwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSxlLm9mZihcInRvdWNoc3RhcnRcIix0aGlzLl9hZGREcmFnSGFuZGxlciksZS5vZmYoXCJtb3VzZXVwXCIsdGhpcy5fb25VcCksZS5vZmYoXCJ0b3VjaGVuZFwiLHRoaXMuX29uVXApLGUub2ZmKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3ZlKSxlLm9mZihcInRvdWNobW92ZVwiLHRoaXMuX29uTW92ZSksZS5vZmYoXCJyZW1vdmVcIix0aGlzLl9jbGVhckZhZGVUaW1lciksZS5fcmVtb3ZlTWFya2VyKHRoaXMpLHRoaXMuX21hcD12b2lkIDApLHRoaXMuX2NsZWFyRmFkZVRpbWVyKCksdGhpcy5fZWxlbWVudC5yZW1vdmUoKSx0aGlzLl9wb3B1cCYmdGhpcy5fcG9wdXAucmVtb3ZlKCksdGhpc31nZXRMbmdMYXQoKXtyZXR1cm4gdGhpcy5fbG5nTGF0fXNldExuZ0xhdCh0KXtyZXR1cm4gdGhpcy5fbG5nTGF0PWUuTG5nTGF0LmNvbnZlcnQodCksdGhpcy5fcG9zPW51bGwsdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpLHRoaXMuX3VwZGF0ZSghMCksdGhpc31nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX2VsZW1lbnR9c2V0UG9wdXAoZSl7aWYodGhpcy5fcG9wdXAmJih0aGlzLl9wb3B1cC5yZW1vdmUoKSx0aGlzLl9wb3B1cD1udWxsLHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwicm9sZVwiKSx0aGlzLl9lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLHRoaXMuX29uS2V5UHJlc3MpLHRoaXMuX29yaWdpbmFsVGFiSW5kZXh8fHRoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwidGFiaW5kZXhcIikpLGUpe2lmKCEoXCJvZmZzZXRcImluIGUub3B0aW9ucykpe2NvbnN0IHQ9MzguMSxyPTEzLjUsbj1NYXRoLnNxcnQoTWF0aC5wb3cociwyKS8yKTtlLm9wdGlvbnMub2Zmc2V0PXRoaXMuX2RlZmF1bHRNYXJrZXI/e3RvcDpbMCwwXSxcInRvcC1sZWZ0XCI6WzAsMF0sXCJ0b3AtcmlnaHRcIjpbMCwwXSxib3R0b206WzAsLXRdLFwiYm90dG9tLWxlZnRcIjpbbiwtMSoodC1yK24pXSxcImJvdHRvbS1yaWdodFwiOlstbiwtMSoodC1yK24pXSxsZWZ0OltyLC0xKih0LXIpXSxyaWdodDpbLXIsLTEqKHQtcildfTp0aGlzLl9vZmZzZXR9dGhpcy5fcG9wdXA9ZSxlLl9tYXJrZXI9dGhpcyx0aGlzLl9sbmdMYXQmJnRoaXMuX3BvcHVwLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwiYnV0dG9uXCIpLHRoaXMuX29yaWdpbmFsVGFiSW5kZXg9dGhpcy5fZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSx0aGlzLl9vcmlnaW5hbFRhYkluZGV4fHx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcInRhYmluZGV4XCIsXCIwXCIpLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsdGhpcy5fb25LZXlQcmVzcyksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKX1yZXR1cm4gdGhpc31fb25LZXlQcmVzcyhlKXtjb25zdCB0PWUuY29kZSxyPWUuY2hhckNvZGV8fGUua2V5Q29kZTtcIlNwYWNlXCIhPT10JiZcIkVudGVyXCIhPT10JiYzMiE9PXImJjEzIT09cnx8dGhpcy50b2dnbGVQb3B1cCgpfV9vbk1hcENsaWNrKGUpe2NvbnN0IHQ9ZS5vcmlnaW5hbEV2ZW50LnRhcmdldCxyPXRoaXMuX2VsZW1lbnQ7dGhpcy5fcG9wdXAmJih0PT09cnx8ci5jb250YWlucyh0KSkmJnRoaXMudG9nZ2xlUG9wdXAoKX1nZXRQb3B1cCgpe3JldHVybiB0aGlzLl9wb3B1cH10b2dnbGVQb3B1cCgpe2NvbnN0IGU9dGhpcy5fcG9wdXA7cmV0dXJuIGU/KGUuaXNPcGVuKCk/KGUucmVtb3ZlKCksdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSk6dGhpcy5fbWFwJiYoZS5hZGRUbyh0aGlzLl9tYXApLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwidHJ1ZVwiKSksdGhpcyk6dGhpc31fYmVoaW5kVGVycmFpbigpe2NvbnN0IGU9dGhpcy5fbWFwLHQ9dGhpcy5fcG9zO2lmKCFlfHwhdClyZXR1cm4hMTtjb25zdCByPWUudW5wcm9qZWN0KHQpLG49ZS5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpO2lmKCFuLnBvc2l0aW9uKXJldHVybiExO2NvbnN0IGk9bi5wb3NpdGlvbi50b0xuZ0xhdCgpO3JldHVybiBpLmRpc3RhbmNlVG8ocik8LjkqaS5kaXN0YW5jZVRvKHRoaXMuX2xuZ0xhdCl9X2V2YWx1YXRlT3BhY2l0eSgpe2NvbnN0IHQ9dGhpcy5fbWFwO2lmKCF0KXJldHVybjtjb25zdCByPXRoaXMuX3BvcztpZighcnx8ci54PDB8fHIueD50LnRyYW5zZm9ybS53aWR0aHx8ci55PDB8fHIueT50LnRyYW5zZm9ybS5oZWlnaHQpcmV0dXJuIHZvaWQgdGhpcy5fY2xlYXJGYWRlVGltZXIoKTtjb25zdCBuPXQudW5wcm9qZWN0KHIpO2xldCBpO3QuX3Nob3dpbmdHbG9iZSgpJiZlLmlzTG5nTGF0QmVoaW5kR2xvYmUodC50cmFuc2Zvcm0sdGhpcy5fbG5nTGF0KT9pPTA6KGk9MS10Ll9xdWVyeUZvZ09wYWNpdHkobiksdC50cmFuc2Zvcm0uX3RlcnJhaW5FbmFibGVkKCkmJnQuZ2V0VGVycmFpbigpJiZ0aGlzLl9iZWhpbmRUZXJyYWluKCkmJihpKj10aGlzLl9vY2NsdWRlZE9wYWNpdHkpKSx0aGlzLl9lbGVtZW50LnN0eWxlLm9wYWNpdHk9XCJcIitpLHRoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz1pPjA/XCJhdXRvXCI6XCJub25lXCIsdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLl9zZXRPcGFjaXR5KGkpLHRoaXMuX2ZhZGVUaW1lcj1udWxsfV9jbGVhckZhZGVUaW1lcigpe3RoaXMuX2ZhZGVUaW1lciYmKGNsZWFyVGltZW91dCh0aGlzLl9mYWRlVGltZXIpLHRoaXMuX2ZhZGVUaW1lcj1udWxsKX1fdXBkYXRlRE9NKCl7Y29uc3QgZT10aGlzLl9wb3M7aWYoIWV8fCF0aGlzLl9tYXApcmV0dXJuO2NvbnN0IHQ9dGhpcy5fb2Zmc2V0Lm11bHQodGhpcy5fc2NhbGUpO3RoaXMuX2VsZW1lbnQuc3R5bGUudHJhbnNmb3JtPWBcXG4gICAgICAgICAgICB0cmFuc2xhdGUoJHtlLnh9cHgsJHtlLnl9cHgpXFxuICAgICAgICAgICAgJHt0b1t0aGlzLl9hbmNob3JdfVxcbiAgICAgICAgICAgICR7dGhpcy5fY2FsY3VsYXRlWFlUcmFuc2Zvcm0oKX0gJHt0aGlzLl9jYWxjdWxhdGVaVHJhbnNmb3JtKCl9XFxuICAgICAgICAgICAgdHJhbnNsYXRlKCR7dC54fXB4LCR7dC55fXB4KVxcbiAgICAgICAgYH1fY2FsY3VsYXRlWFlUcmFuc2Zvcm0oKXtjb25zdCB0PXRoaXMuX3BvcyxyPXRoaXMuX21hcCxuPXRoaXMuZ2V0UGl0Y2hBbGlnbm1lbnQoKTtpZighcnx8IXR8fFwibWFwXCIhPT1uKXJldHVyblwiXCI7aWYoIXIuX3Nob3dpbmdHbG9iZSgpKXtjb25zdCBlPXIuZ2V0UGl0Y2goKTtyZXR1cm4gZT9gcm90YXRlWCgke2V9ZGVnKWA6XCJcIn1jb25zdCBpPWUucmFkVG9EZWcoZS5nbG9iZVRpbHRBdExuZ0xhdChyLnRyYW5zZm9ybSx0aGlzLl9sbmdMYXQpKSxvPXQuc3ViKGUuZ2xvYmVDZW50ZXJUb1NjcmVlblBvaW50KHIudHJhbnNmb3JtKSksYT1NYXRoLmFicyhvLngpK01hdGguYWJzKG8ueSk7aWYoMD09PWEpcmV0dXJuXCJcIjtjb25zdCBzPWkvYTtyZXR1cm5gcm90YXRlWCgkey1vLnkqc31kZWcpIHJvdGF0ZVkoJHtvLngqc31kZWcpYH1fY2FsY3VsYXRlWlRyYW5zZm9ybSgpe2NvbnN0IHQ9dGhpcy5fcG9zLHI9dGhpcy5fbWFwO2lmKCFyfHwhdClyZXR1cm5cIlwiO2xldCBuPTA7Y29uc3QgaT10aGlzLmdldFJvdGF0aW9uQWxpZ25tZW50KCk7aWYoXCJtYXBcIj09PWkpaWYoci5fc2hvd2luZ0dsb2JlKCkpe2NvbnN0IHQ9ci5wcm9qZWN0KG5ldyBlLkxuZ0xhdCh0aGlzLl9sbmdMYXQubG5nLHRoaXMuX2xuZ0xhdC5sYXQrLjAwMSkpLGk9ci5wcm9qZWN0KG5ldyBlLkxuZ0xhdCh0aGlzLl9sbmdMYXQubG5nLHRoaXMuX2xuZ0xhdC5sYXQtLjAwMSkpLnN1Yih0KTtuPWUucmFkVG9EZWcoTWF0aC5hdGFuMihpLnksaS54KSktOTB9ZWxzZSBuPS1yLmdldEJlYXJpbmcoKTtlbHNlIGlmKFwiaG9yaXpvblwiPT09aSl7Y29uc3QgaT1lLnNtb290aHN0ZXAoNCw2LHIuZ2V0Wm9vbSgpKSxvPWUuZ2xvYmVDZW50ZXJUb1NjcmVlblBvaW50KHIudHJhbnNmb3JtKTtvLnkrPWkqci50cmFuc2Zvcm0uaGVpZ2h0O2NvbnN0IGE9dC5zdWIobykscz1lLnJhZFRvRGVnKE1hdGguYXRhbjIoYS55LGEueCkpO249KHM+OTA/cy0yNzA6cys5MCkqKDEtaSl9cmV0dXJuIG4rPXRoaXMuX3JvdGF0aW9uLG4/YHJvdGF0ZVooJHtufWRlZylgOlwiXCJ9X3VwZGF0ZSh0KXtlLndpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl91cGRhdGVGcmFtZUlkKTtjb25zdCByPXRoaXMuX21hcDtyJiYoci50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMmJih0aGlzLl9sbmdMYXQ9ZW8odGhpcy5fbG5nTGF0LHRoaXMuX3BvcyxyLnRyYW5zZm9ybSkpLHRoaXMuX3Bvcz1yLnByb2plY3QodGhpcy5fbG5nTGF0KSwhMD09PXQ/dGhpcy5fdXBkYXRlRnJhbWVJZD1lLndpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCk9Pnt0aGlzLl9lbGVtZW50JiZ0aGlzLl9wb3MmJnRoaXMuX2FuY2hvciYmKHRoaXMuX3Bvcz10aGlzLl9wb3Mucm91bmQoKSx0aGlzLl91cGRhdGVET00oKSl9KTp0aGlzLl9wb3M9dGhpcy5fcG9zLnJvdW5kKCksci5fcmVxdWVzdERvbVRhc2soKCk9Pnt0aGlzLl9tYXAmJih0aGlzLl9lbGVtZW50JiZ0aGlzLl9wb3MmJnRoaXMuX2FuY2hvciYmdGhpcy5fdXBkYXRlRE9NKCksKHIuX3Nob3dpbmdHbG9iZSgpfHxyLmdldFRlcnJhaW4oKXx8ci5nZXRGb2coKSkmJiF0aGlzLl9mYWRlVGltZXImJih0aGlzLl9mYWRlVGltZXI9c2V0VGltZW91dCh0aGlzLl9ldmFsdWF0ZU9wYWNpdHkuYmluZCh0aGlzKSw2MCkpKX0pKX1nZXRPZmZzZXQoKXtyZXR1cm4gdGhpcy5fb2Zmc2V0fXNldE9mZnNldCh0KXtyZXR1cm4gdGhpcy5fb2Zmc2V0PWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQpLHRoaXMuX3VwZGF0ZSgpLHRoaXN9X29uTW92ZSh0KXtjb25zdCByPXRoaXMuX21hcDtpZighcilyZXR1cm47Y29uc3Qgbj10aGlzLl9wb2ludGVyZG93blBvcyxpPXRoaXMuX3Bvc2l0aW9uRGVsdGE7aWYobiYmaSl7aWYoIXRoaXMuX2lzRHJhZ2dpbmcpe2NvbnN0IGU9dGhpcy5fY2xpY2tUb2xlcmFuY2V8fHIuX2NsaWNrVG9sZXJhbmNlO2lmKHQucG9pbnQuZGlzdChuKTxlKXJldHVybjt0aGlzLl9pc0RyYWdnaW5nPSEwfXRoaXMuX3Bvcz10LnBvaW50LnN1YihpKSx0aGlzLl9sbmdMYXQ9ci51bnByb2plY3QodGhpcy5fcG9zKSx0aGlzLnNldExuZ0xhdCh0aGlzLl9sbmdMYXQpLHRoaXMuX2VsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cz1cIm5vbmVcIixcInBlbmRpbmdcIj09PXRoaXMuX3N0YXRlJiYodGhpcy5fc3RhdGU9XCJhY3RpdmVcIix0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkcmFnc3RhcnRcIikpKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkcmFnXCIpKX19X29uVXAoKXt0aGlzLl9lbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9XCJhdXRvXCIsdGhpcy5fcG9zaXRpb25EZWx0YT1udWxsLHRoaXMuX3BvaW50ZXJkb3duUG9zPW51bGwsdGhpcy5faXNEcmFnZ2luZz0hMTtjb25zdCB0PXRoaXMuX21hcDt0JiYodC5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLHQub2ZmKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlKSksXCJhY3RpdmVcIj09PXRoaXMuX3N0YXRlJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkcmFnZW5kXCIpKSx0aGlzLl9zdGF0ZT1cImluYWN0aXZlXCJ9X2FkZERyYWdIYW5kbGVyKGUpe2NvbnN0IHQ9dGhpcy5fbWFwLHI9dGhpcy5fcG9zO3QmJnImJnRoaXMuX2VsZW1lbnQuY29udGFpbnMoZS5vcmlnaW5hbEV2ZW50LnRhcmdldCkmJihlLnByZXZlbnREZWZhdWx0KCksdGhpcy5fcG9zaXRpb25EZWx0YT1lLnBvaW50LnN1YihyKSx0aGlzLl9wb2ludGVyZG93blBvcz1lLnBvaW50LHRoaXMuX3N0YXRlPVwicGVuZGluZ1wiLHQub24oXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdmUpLHQub24oXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUpLHQub25jZShcIm1vdXNldXBcIix0aGlzLl9vblVwKSx0Lm9uY2UoXCJ0b3VjaGVuZFwiLHRoaXMuX29uVXApKX1zZXREcmFnZ2FibGUoZSl7dGhpcy5fZHJhZ2dhYmxlPSEhZTtjb25zdCB0PXRoaXMuX21hcDtyZXR1cm4gdCYmKGU/KHQub24oXCJtb3VzZWRvd25cIix0aGlzLl9hZGREcmFnSGFuZGxlciksdC5vbihcInRvdWNoc3RhcnRcIix0aGlzLl9hZGREcmFnSGFuZGxlcikpOih0Lm9mZihcIm1vdXNlZG93blwiLHRoaXMuX2FkZERyYWdIYW5kbGVyKSx0Lm9mZihcInRvdWNoc3RhcnRcIix0aGlzLl9hZGREcmFnSGFuZGxlcikpKSx0aGlzfWlzRHJhZ2dhYmxlKCl7cmV0dXJuIHRoaXMuX2RyYWdnYWJsZX1zZXRSb3RhdGlvbihlKXtyZXR1cm4gdGhpcy5fcm90YXRpb249ZXx8MCx0aGlzLl91cGRhdGUoKSx0aGlzfWdldFJvdGF0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9ufXNldFJvdGF0aW9uQWxpZ25tZW50KGUpe3JldHVybiB0aGlzLl9yb3RhdGlvbkFsaWdubWVudD1lfHxcImF1dG9cIix0aGlzLl91cGRhdGUoKSx0aGlzfWdldFJvdGF0aW9uQWxpZ25tZW50KCl7cmV0dXJuXCJhdXRvXCI9PT10aGlzLl9yb3RhdGlvbkFsaWdubWVudHx8XCJob3Jpem9uXCI9PT10aGlzLl9yb3RhdGlvbkFsaWdubWVudCYmdGhpcy5fbWFwJiYhdGhpcy5fbWFwLl9zaG93aW5nR2xvYmUoKT9cInZpZXdwb3J0XCI6dGhpcy5fcm90YXRpb25BbGlnbm1lbnR9c2V0UGl0Y2hBbGlnbm1lbnQoZSl7cmV0dXJuIHRoaXMuX3BpdGNoQWxpZ25tZW50PWV8fFwiYXV0b1wiLHRoaXMuX3VwZGF0ZSgpLHRoaXN9Z2V0UGl0Y2hBbGlnbm1lbnQoKXtyZXR1cm5cImF1dG9cIj09PXRoaXMuX3BpdGNoQWxpZ25tZW50P3RoaXMuZ2V0Um90YXRpb25BbGlnbm1lbnQoKTp0aGlzLl9waXRjaEFsaWdubWVudH1zZXRPY2NsdWRlZE9wYWNpdHkoZSl7cmV0dXJuIHRoaXMuX29jY2x1ZGVkT3BhY2l0eT1lfHwuMix0aGlzLl91cGRhdGUoKSx0aGlzfWdldE9jY2x1ZGVkT3BhY2l0eSgpe3JldHVybiB0aGlzLl9vY2NsdWRlZE9wYWNpdHl9fWNvbnN0IG5vPXtjbG9zZUJ1dHRvbjohMCxjbG9zZU9uQ2xpY2s6ITAsZm9jdXNBZnRlck9wZW46ITAsY2xhc3NOYW1lOlwiXCIsbWF4V2lkdGg6XCIyNDBweFwifSxpbz1bXCJhW2hyZWZdXCIsXCJbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9Jy0xJ10pXCIsXCJbY29udGVudGVkaXRhYmxlXTpub3QoW2NvbnRlbnRlZGl0YWJsZT0nZmFsc2UnXSlcIixcImJ1dHRvbjpub3QoW2Rpc2FibGVkXSlcIixcImlucHV0Om5vdChbZGlzYWJsZWRdKVwiLFwic2VsZWN0Om5vdChbZGlzYWJsZWRdKVwiLFwidGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pXCJdLmpvaW4oXCIsIFwiKTtmdW5jdGlvbiBvbyh0PW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxyPVwiYm90dG9tXCIpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXtjb25zdCBuPU1hdGgucm91bmQoTWF0aC5zcXJ0KC41Kk1hdGgucG93KHQsMikpKTtzd2l0Y2gocil7Y2FzZVwidG9wXCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoMCx0KTtjYXNlXCJ0b3AtbGVmdFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KG4sbik7Y2FzZVwidG9wLXJpZ2h0XCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoLW4sbik7Y2FzZVwiYm90dG9tXCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoMCwtdCk7Y2FzZVwiYm90dG9tLWxlZnRcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeShuLC1uKTtjYXNlXCJib3R0b20tcmlnaHRcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgtbiwtbik7Y2FzZVwibGVmdFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KHQsMCk7Y2FzZVwicmlnaHRcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgtdCwwKX1yZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSgwLDApfXJldHVybiB0IGluc3RhbmNlb2YgZS5wb2ludEdlb21ldHJ5fHxBcnJheS5pc0FycmF5KHQpP2UucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQpOmUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHRbcl18fFswLDBdKX1jbGFzcyBhb3tjb25zdHJ1Y3RvcihlKXt0aGlzLmp1bXBUbyhlKX1nZXRWYWx1ZSh0KXtpZih0PD10aGlzLl9zdGFydFRpbWUpcmV0dXJuIHRoaXMuX3N0YXJ0O2lmKHQ+PXRoaXMuX2VuZFRpbWUpcmV0dXJuIHRoaXMuX2VuZDtjb25zdCByPWUuZWFzZUN1YmljSW5PdXQoKHQtdGhpcy5fc3RhcnRUaW1lKS8odGhpcy5fZW5kVGltZS10aGlzLl9zdGFydFRpbWUpKTtyZXR1cm4gdGhpcy5fc3RhcnQqKDEtcikrdGhpcy5fZW5kKnJ9aXNFYXNpbmcoZSl7cmV0dXJuIGU+PXRoaXMuX3N0YXJ0VGltZSYmZTw9dGhpcy5fZW5kVGltZX1qdW1wVG8oZSl7dGhpcy5fc3RhcnRUaW1lPS0xLzAsdGhpcy5fZW5kVGltZT0tMS8wLHRoaXMuX3N0YXJ0PWUsdGhpcy5fZW5kPWV9ZWFzZVRvKGUsdCxyKXt0aGlzLl9zdGFydD10aGlzLmdldFZhbHVlKHQpLHRoaXMuX2VuZD1lLHRoaXMuX3N0YXJ0VGltZT10LHRoaXMuX2VuZFRpbWU9dCtyfX1jb25zdCBzbz17XCJBdHRyaWJ1dGlvbkNvbnRyb2wuVG9nZ2xlQXR0cmlidXRpb25cIjpcIlRvZ2dsZSBhdHRyaWJ1dGlvblwiLFwiQXR0cmlidXRpb25Db250cm9sLk1hcEZlZWRiYWNrXCI6XCJNYXAgZmVlZGJhY2tcIixcIkZ1bGxzY3JlZW5Db250cm9sLkVudGVyXCI6XCJFbnRlciBmdWxsc2NyZWVuXCIsXCJGdWxsc2NyZWVuQ29udHJvbC5FeGl0XCI6XCJFeGl0IGZ1bGxzY3JlZW5cIixcIkdlb2xvY2F0ZUNvbnRyb2wuRmluZE15TG9jYXRpb25cIjpcIkZpbmQgbXkgbG9jYXRpb25cIixcIkdlb2xvY2F0ZUNvbnRyb2wuTG9jYXRpb25Ob3RBdmFpbGFibGVcIjpcIkxvY2F0aW9uIG5vdCBhdmFpbGFibGVcIixcIkxvZ29Db250cm9sLlRpdGxlXCI6XCJNYXBib3ggbG9nb1wiLFwiTWFwLlRpdGxlXCI6XCJNYXBcIixcIk5hdmlnYXRpb25Db250cm9sLlJlc2V0QmVhcmluZ1wiOlwiUmVzZXQgYmVhcmluZyB0byBub3J0aFwiLFwiTmF2aWdhdGlvbkNvbnRyb2wuWm9vbUluXCI6XCJab29tIGluXCIsXCJOYXZpZ2F0aW9uQ29udHJvbC5ab29tT3V0XCI6XCJab29tIG91dFwiLFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ3RybE1lc3NhZ2VcIjpcIlVzZSBjdHJsICsgc2Nyb2xsIHRvIHpvb20gdGhlIG1hcFwiLFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ21kTWVzc2FnZVwiOlwiVXNlIOKMmCArIHNjcm9sbCB0byB6b29tIHRoZSBtYXBcIixcIlRvdWNoUGFuQmxvY2tlci5NZXNzYWdlXCI6XCJVc2UgdHdvIGZpbmdlcnMgdG8gbW92ZSB0aGUgbWFwXCJ9LGxvPXtjZW50ZXI6WzAsMF0sem9vbTowLGJlYXJpbmc6MCxwaXRjaDowLG1pblpvb206LTIsbWF4Wm9vbToyMixtaW5QaXRjaDowLG1heFBpdGNoOjg1LGludGVyYWN0aXZlOiEwLHNjcm9sbFpvb206ITAsYm94Wm9vbTohMCxkcmFnUm90YXRlOiEwLGRyYWdQYW46ITAsa2V5Ym9hcmQ6ITAsZG91YmxlQ2xpY2tab29tOiEwLHRvdWNoWm9vbVJvdGF0ZTohMCx0b3VjaFBpdGNoOiEwLGNvb3BlcmF0aXZlR2VzdHVyZXM6ITEscGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbjohMCxiZWFyaW5nU25hcDo3LGNsaWNrVG9sZXJhbmNlOjMscGl0Y2hXaXRoUm90YXRlOiEwLGhhc2g6ITEsYXR0cmlidXRpb25Db250cm9sOiEwLGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITEscHJlc2VydmVEcmF3aW5nQnVmZmVyOiExLHRyYWNrUmVzaXplOiEwLG9wdGltaXplRm9yVGVycmFpbjohMCxyZW5kZXJXb3JsZENvcGllczohMCxyZWZyZXNoRXhwaXJlZFRpbGVzOiEwLG1pblRpbGVDYWNoZVNpemU6bnVsbCxtYXhUaWxlQ2FjaGVTaXplOm51bGwsbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5Olwic2Fucy1zZXJpZlwiLGxvY2FsRm9udEZhbWlseTpudWxsLHRyYW5zZm9ybVJlcXVlc3Q6bnVsbCxhY2Nlc3NUb2tlbjpudWxsLGZhZGVEdXJhdGlvbjozMDAsY3Jvc3NTb3VyY2VDb2xsaXNpb25zOiEwfTtmdW5jdGlvbiBjbyhlKXtlLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX1jb25zdCB1bz17c2hvd0NvbXBhc3M6ITAsc2hvd1pvb206ITAsdmlzdWFsaXplUGl0Y2g6ITF9O2NsYXNzIGhve2NvbnN0cnVjdG9yKHQscixuPSExKXt0aGlzLl9jbGlja1RvbGVyYW5jZT0xMCx0aGlzLmVsZW1lbnQ9cix0aGlzLm1vdXNlUm90YXRlPW5ldyB3aSh7Y2xpY2tUb2xlcmFuY2U6dC5kcmFnUm90YXRlLl9tb3VzZVJvdGF0ZS5fY2xpY2tUb2xlcmFuY2V9KSx0aGlzLm1hcD10LG4mJih0aGlzLm1vdXNlUGl0Y2g9bmV3IFRpKHtjbGlja1RvbGVyYW5jZTp0LmRyYWdSb3RhdGUuX21vdXNlUGl0Y2guX2NsaWNrVG9sZXJhbmNlfSkpLGUuYmluZEFsbChbXCJtb3VzZWRvd25cIixcIm1vdXNlbW92ZVwiLFwibW91c2V1cFwiLFwidG91Y2hzdGFydFwiLFwidG91Y2htb3ZlXCIsXCJ0b3VjaGVuZFwiLFwicmVzZXRcIl0sdGhpcyksci5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5tb3VzZWRvd24pLHIuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLnRvdWNoc3RhcnQse3Bhc3NpdmU6ITF9KSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLnRvdWNobW92ZSksci5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLnRvdWNoZW5kKSxyLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLHRoaXMucmVzZXQpfWRvd24oZSx0KXt0aGlzLm1vdXNlUm90YXRlLm1vdXNlZG93bihlLHQpLHRoaXMubW91c2VQaXRjaCYmdGhpcy5tb3VzZVBpdGNoLm1vdXNlZG93bihlLHQpLHUoKX1tb3ZlKGUsdCl7Y29uc3Qgcj10aGlzLm1hcCxuPXRoaXMubW91c2VSb3RhdGUubW91c2Vtb3ZlV2luZG93KGUsdCksaT1uJiZuLmJlYXJpbmdEZWx0YTtpZihpJiZyLnNldEJlYXJpbmcoci5nZXRCZWFyaW5nKCkraSksdGhpcy5tb3VzZVBpdGNoKXtjb25zdCBuPXRoaXMubW91c2VQaXRjaC5tb3VzZW1vdmVXaW5kb3coZSx0KSxpPW4mJm4ucGl0Y2hEZWx0YTtpJiZyLnNldFBpdGNoKHIuZ2V0UGl0Y2goKStpKX19b2ZmKCl7Y29uc3QgZT10aGlzLmVsZW1lbnQ7ZS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsdGhpcy5tb3VzZWRvd24pLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLnRvdWNoc3RhcnQse3Bhc3NpdmU6ITF9KSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIix0aGlzLnRvdWNobW92ZSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIix0aGlzLnRvdWNoZW5kKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGNhbmNlbFwiLHRoaXMucmVzZXQpLHRoaXMub2ZmVGVtcCgpfW9mZlRlbXAoKXtoKCksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMubW91c2Vtb3ZlKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMubW91c2V1cCl9bW91c2Vkb3duKHQpe3RoaXMuZG93bihlLmV4dGVuZCh7fSx0LHtjdHJsS2V5OiEwLHByZXZlbnREZWZhdWx0OigpPT50LnByZXZlbnREZWZhdWx0KCl9KSxmKHRoaXMuZWxlbWVudCx0KSksZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMubW91c2Vtb3ZlKSxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLHRoaXMubW91c2V1cCl9bW91c2Vtb3ZlKGUpe3RoaXMubW92ZShlLGYodGhpcy5lbGVtZW50LGUpKX1tb3VzZXVwKGUpe3RoaXMubW91c2VSb3RhdGUubW91c2V1cFdpbmRvdyhlKSx0aGlzLm1vdXNlUGl0Y2gmJnRoaXMubW91c2VQaXRjaC5tb3VzZXVwV2luZG93KGUpLHRoaXMub2ZmVGVtcCgpfXRvdWNoc3RhcnQoZSl7MSE9PWUudGFyZ2V0VG91Y2hlcy5sZW5ndGg/dGhpcy5yZXNldCgpOih0aGlzLl9zdGFydFBvcz10aGlzLl9sYXN0UG9zPW0odGhpcy5lbGVtZW50LGUudGFyZ2V0VG91Y2hlcylbMF0sdGhpcy5kb3duKHt0eXBlOlwibW91c2Vkb3duXCIsYnV0dG9uOjAsY3RybEtleTohMCxwcmV2ZW50RGVmYXVsdDooKT0+ZS5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzLl9zdGFydFBvcykpfXRvdWNobW92ZShlKXsxIT09ZS50YXJnZXRUb3VjaGVzLmxlbmd0aD90aGlzLnJlc2V0KCk6KHRoaXMuX2xhc3RQb3M9bSh0aGlzLmVsZW1lbnQsZS50YXJnZXRUb3VjaGVzKVswXSx0aGlzLm1vdmUoe3ByZXZlbnREZWZhdWx0OigpPT5lLnByZXZlbnREZWZhdWx0KCl9LHRoaXMuX2xhc3RQb3MpKX10b3VjaGVuZChlKXswPT09ZS50YXJnZXRUb3VjaGVzLmxlbmd0aCYmdGhpcy5fc3RhcnRQb3MmJnRoaXMuX2xhc3RQb3MmJnRoaXMuX3N0YXJ0UG9zLmRpc3QodGhpcy5fbGFzdFBvcyk8dGhpcy5fY2xpY2tUb2xlcmFuY2UmJnRoaXMuZWxlbWVudC5jbGljaygpLHRoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMubW91c2VSb3RhdGUucmVzZXQoKSx0aGlzLm1vdXNlUGl0Y2gmJnRoaXMubW91c2VQaXRjaC5yZXNldCgpLGRlbGV0ZSB0aGlzLl9zdGFydFBvcyxkZWxldGUgdGhpcy5fbGFzdFBvcyx0aGlzLm9mZlRlbXAoKX19Y29uc3QgcG89e3Bvc2l0aW9uT3B0aW9uczp7ZW5hYmxlSGlnaEFjY3VyYWN5OiExLG1heGltdW1BZ2U6MCx0aW1lb3V0OjZlM30sZml0Qm91bmRzT3B0aW9uczp7bWF4Wm9vbToxNX0sdHJhY2tVc2VyTG9jYXRpb246ITEsc2hvd0FjY3VyYWN5Q2lyY2xlOiEwLHNob3dVc2VyTG9jYXRpb246ITAsc2hvd1VzZXJIZWFkaW5nOiExfSxmbz17bWF4V2lkdGg6MTAwLHVuaXQ6XCJtZXRyaWNcIn07ZnVuY3Rpb24gbW8oZSx0LHIpe2NvbnN0IG49Z28odCksaT1uL3Qsbz17a2lsb21ldGVyOlwia21cIixtZXRlcjpcIm1cIixtaWxlOlwibWlcIixmb290OlwiZnRcIixcIm5hdXRpY2FsLW1pbGVcIjpcIm5tXCJ9W3JdO3RoaXMuX21hcC5fcmVxdWVzdERvbVRhc2soKCk9Pnt0aGlzLl9jb250YWluZXIuc3R5bGUud2lkdGg9ZSppK1wicHhcIix0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MPWAke259Jm5ic3A7JHtvfWB9KX1mdW5jdGlvbiBnbyhlKXtjb25zdCB0PU1hdGgucG93KDEwLChcIlwiK01hdGguZmxvb3IoZSkpLmxlbmd0aC0xKTtsZXQgcj1lL3Q7cmV0dXJuIHI9cj49MTA/MTA6cj49NT81OnI+PTM/MzpyPj0yPzI6cj49MT8xOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9TWF0aC5wb3coMTAsTWF0aC5jZWlsKC1NYXRoLmxvZyhlKS9NYXRoLkxOMTApKTtyZXR1cm4gTWF0aC5yb3VuZChlKnQpL3R9KHIpLHQqcn1jb25zdCBfbz17dmVyc2lvbjplLnZlcnNpb24sc3VwcG9ydGVkOnIsc2V0UlRMVGV4dFBsdWdpbjplLnNldFJUTFRleHRQbHVnaW4sZ2V0UlRMVGV4dFBsdWdpblN0YXR1czplLmdldFJUTFRleHRQbHVnaW5TdGF0dXMsTWFwOmNsYXNzIGV4dGVuZHMgWWl7Y29uc3RydWN0b3IodCl7aWYoZS5MaXZlUGVyZm9ybWFuY2VVdGlscy5tYXJrKGUuUGVyZm9ybWFuY2VNYXJrZXJzLmNyZWF0ZSksbnVsbCE9KHQ9ZS5leHRlbmQoe30sbG8sdCkpLm1pblpvb20mJm51bGwhPXQubWF4Wm9vbSYmdC5taW5ab29tPnQubWF4Wm9vbSl0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIG1pblpvb21cIik7aWYobnVsbCE9dC5taW5QaXRjaCYmbnVsbCE9dC5tYXhQaXRjaCYmdC5taW5QaXRjaD50Lm1heFBpdGNoKXRocm93IG5ldyBFcnJvcihcIm1heFBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIG1pblBpdGNoXCIpO2lmKG51bGwhPXQubWluUGl0Y2gmJnQubWluUGl0Y2g8MCl0aHJvdyBuZXcgRXJyb3IoXCJtaW5QaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAwXCIpO2lmKG51bGwhPXQubWF4UGl0Y2gmJnQubWF4UGl0Y2g+ODUpdGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gODVcIik7aWYodC5hbnRpYWxpYXMmJmUuaXNTYWZhcmlXaXRoQW50aWFsaWFzaW5nQnVnKGUud2luZG93KSYmKHQuYW50aWFsaWFzPSExLGUud2Fybk9uY2UoXCJBbnRpYWxpYXNpbmcgaXMgZGlzYWJsZWQgZm9yIHRoaXMgV2ViR0wgY29udGV4dCB0byBhdm9pZCBicm93c2VyIGJ1ZzogaHR0cHM6Ly9naXRodWIuY29tL21hcGJveC9tYXBib3gtZ2wtanMvaXNzdWVzLzExNjA5XCIpKSxzdXBlcihuZXcgS24odC5taW5ab29tLHQubWF4Wm9vbSx0Lm1pblBpdGNoLHQubWF4UGl0Y2gsdC5yZW5kZXJXb3JsZENvcGllcyksdCksdGhpcy5faW50ZXJhY3RpdmU9dC5pbnRlcmFjdGl2ZSx0aGlzLl9taW5UaWxlQ2FjaGVTaXplPXQubWluVGlsZUNhY2hlU2l6ZSx0aGlzLl9tYXhUaWxlQ2FjaGVTaXplPXQubWF4VGlsZUNhY2hlU2l6ZSx0aGlzLl9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PXQuZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCx0aGlzLl9wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9dC5wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsdGhpcy5fYW50aWFsaWFzPXQuYW50aWFsaWFzLHRoaXMuX3RyYWNrUmVzaXplPXQudHJhY2tSZXNpemUsdGhpcy5fYmVhcmluZ1NuYXA9dC5iZWFyaW5nU25hcCx0aGlzLl9yZWZyZXNoRXhwaXJlZFRpbGVzPXQucmVmcmVzaEV4cGlyZWRUaWxlcyx0aGlzLl9mYWRlRHVyYXRpb249dC5mYWRlRHVyYXRpb24sdGhpcy5faXNJbml0aWFsTG9hZD0hMCx0aGlzLl9jcm9zc1NvdXJjZUNvbGxpc2lvbnM9dC5jcm9zc1NvdXJjZUNvbGxpc2lvbnMsdGhpcy5fY3Jvc3NGYWRpbmdGYWN0b3I9MSx0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc9dC5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdGhpcy5fb3B0aW1pemVGb3JUZXJyYWluPXQub3B0aW1pemVGb3JUZXJyYWluLHRoaXMuX2xhbmd1YWdlPXRoaXMuX3BhcnNlTGFuZ3VhZ2UodC5sYW5ndWFnZSksdGhpcy5fd29ybGR2aWV3PXQud29ybGR2aWV3LHRoaXMuX3JlbmRlclRhc2tRdWV1ZT1uZXcgUWksdGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlPW5ldyBRaSx0aGlzLl9jb250cm9scz1bXSx0aGlzLl9tYXJrZXJzPVtdLHRoaXMuX3BvcHVwcz1bXSx0aGlzLl9tYXBJZD1lLnVuaXF1ZUlkKCksdGhpcy5fbG9jYWxlPWUuZXh0ZW5kKHt9LHNvLHQubG9jYWxlKSx0aGlzLl9jbGlja1RvbGVyYW5jZT10LmNsaWNrVG9sZXJhbmNlLHRoaXMuX2Nvb3BlcmF0aXZlR2VzdHVyZXM9dC5jb29wZXJhdGl2ZUdlc3R1cmVzLHRoaXMuX3BlcmZvcm1hbmNlTWV0cmljc0NvbGxlY3Rpb249dC5wZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uLHRoaXMuX2NvbnRhaW5lcldpZHRoPTAsdGhpcy5fY29udGFpbmVySGVpZ2h0PTAsdGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9LTEvMCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uPTAsdGhpcy5fYXZlcmFnZUVsZXZhdGlvbj1uZXcgYW8oMCksdGhpcy5faW50ZXJhY3Rpb25SYW5nZT1bMS8wLC0xLzBdLHRoaXMuX3Zpc2liaWxpdHlIaWRkZW49MCx0aGlzLl91c2VFeHBsaWNpdFByb2plY3Rpb249ITEsdGhpcy5fcmVxdWVzdE1hbmFnZXI9bmV3IGUuUmVxdWVzdE1hbmFnZXIodC50cmFuc2Zvcm1SZXF1ZXN0LHQuYWNjZXNzVG9rZW4sdC50ZXN0TW9kZSksdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnM9ISF0LnRlc3RNb2RlLFwic3RyaW5nXCI9PXR5cGVvZiB0LmNvbnRhaW5lcil7aWYodGhpcy5fY29udGFpbmVyPWUud2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQuY29udGFpbmVyKSwhdGhpcy5fY29udGFpbmVyKXRocm93IG5ldyBFcnJvcihgQ29udGFpbmVyICcke3QuY29udGFpbmVyfScgbm90IGZvdW5kLmApfWVsc2V7aWYoISh0LmNvbnRhaW5lciBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxFbGVtZW50KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHR5cGU6ICdjb250YWluZXInIG11c3QgYmUgYSBTdHJpbmcgb3IgSFRNTEVsZW1lbnQuXCIpO3RoaXMuX2NvbnRhaW5lcj10LmNvbnRhaW5lcn1pZih0aGlzLl9jb250YWluZXIuY2hpbGROb2Rlcy5sZW5ndGg+MCYmZS53YXJuT25jZShcIlRoZSBtYXAgY29udGFpbmVyIGVsZW1lbnQgc2hvdWxkIGJlIGVtcHR5LCBvdGhlcndpc2UgdGhlIG1hcCdzIGludGVyYWN0aXZpdHkgd2lsbCBiZSBuZWdhdGl2ZWx5IGltcGFjdGVkLiBJZiB5b3Ugd2FudCB0byBkaXNwbGF5IGEgbWVzc2FnZSB3aGVuIFdlYkdMIGlzIG5vdCBzdXBwb3J0ZWQsIHVzZSB0aGUgTWFwYm94IEdMIFN1cHBvcnRlZCBwbHVnaW4gaW5zdGVhZC5cIiksdC5tYXhCb3VuZHMmJnRoaXMuc2V0TWF4Qm91bmRzKHQubWF4Qm91bmRzKSxlLmJpbmRBbGwoW1wiX29uV2luZG93T25saW5lXCIsXCJfb25XaW5kb3dSZXNpemVcIixcIl9vblZpc2liaWxpdHlDaGFuZ2VcIixcIl9vbk1hcFNjcm9sbFwiLFwiX2NvbnRleHRMb3N0XCIsXCJfY29udGV4dFJlc3RvcmVkXCJdLHRoaXMpLHRoaXMuX3NldHVwQ29udGFpbmVyKCksdGhpcy5fc2V0dXBQYWludGVyKCksdm9pZCAwPT09dGhpcy5wYWludGVyKXRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMLlwiKTt0aGlzLm9uKFwibW92ZVwiLCgpPT50aGlzLl91cGRhdGUoITEpKSx0aGlzLm9uKFwibW92ZWVuZFwiLCgpPT50aGlzLl91cGRhdGUoITEpKSx0aGlzLm9uKFwiem9vbVwiLCgpPT50aGlzLl91cGRhdGUoITApKSx2b2lkIDAhPT1lLndpbmRvdyYmKGUud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIix0aGlzLl9vbldpbmRvd09ubGluZSwhMSksZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLl9vblZpc2liaWxpdHlDaGFuZ2UsITEpKSx0aGlzLmhhbmRsZXJzPW5ldyBYaSh0aGlzLHQpLHRoaXMuX2xvY2FsRm9udEZhbWlseT10LmxvY2FsRm9udEZhbWlseSx0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9dC5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHksdC5zdHlsZSYmdGhpcy5zZXRTdHlsZSh0LnN0eWxlLHtsb2NhbEZvbnRGYW1pbHk6dGhpcy5fbG9jYWxGb250RmFtaWx5LGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTp0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHl9KSx0LnByb2plY3Rpb24mJnRoaXMuc2V0UHJvamVjdGlvbih0LnByb2plY3Rpb24pLHRoaXMuX2hhc2g9dC5oYXNoJiZuZXcgUW4oXCJzdHJpbmdcIj09dHlwZW9mIHQuaGFzaCYmdC5oYXNofHx2b2lkIDApLmFkZFRvKHRoaXMpLHRoaXMuX2hhc2gmJnRoaXMuX2hhc2guX29uSGFzaENoYW5nZSgpfHwodGhpcy5qdW1wVG8oe2NlbnRlcjp0LmNlbnRlcix6b29tOnQuem9vbSxiZWFyaW5nOnQuYmVhcmluZyxwaXRjaDp0LnBpdGNofSksdC5ib3VuZHMmJih0aGlzLnJlc2l6ZSgpLHRoaXMuZml0Qm91bmRzKHQuYm91bmRzLGUuZXh0ZW5kKHt9LHQuZml0Qm91bmRzT3B0aW9ucyx7ZHVyYXRpb246MH0pKSkpLHRoaXMucmVzaXplKCksdC5hdHRyaWJ1dGlvbkNvbnRyb2wmJnRoaXMuYWRkQ29udHJvbChuZXcgS2koe2N1c3RvbUF0dHJpYnV0aW9uOnQuY3VzdG9tQXR0cmlidXRpb259KSksdGhpcy5fbG9nb0NvbnRyb2w9bmV3IEppLHRoaXMuYWRkQ29udHJvbCh0aGlzLl9sb2dvQ29udHJvbCx0LmxvZ29Qb3NpdGlvbiksdGhpcy5vbihcInN0eWxlLmxvYWRcIiwoKT0+e3RoaXMudHJhbnNmb3JtLnVubW9kaWZpZWQmJnRoaXMuanVtcFRvKHRoaXMuc3R5bGUuc3R5bGVzaGVldCl9KSx0aGlzLm9uKFwiZGF0YVwiLHQ9Pnt0aGlzLl91cGRhdGUoXCJzdHlsZVwiPT09dC5kYXRhVHlwZSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KHQuZGF0YVR5cGUrXCJkYXRhXCIsdCkpfSksdGhpcy5vbihcImRhdGFsb2FkaW5nXCIsdD0+e3RoaXMuZmlyZShuZXcgZS5FdmVudCh0LmRhdGFUeXBlK1wiZGF0YWxvYWRpbmdcIix0KSl9KX1fZ2V0TWFwSWQoKXtyZXR1cm4gdGhpcy5fbWFwSWR9YWRkQ29udHJvbCh0LHIpe2lmKHZvaWQgMD09PXImJihyPXQuZ2V0RGVmYXVsdFBvc2l0aW9uP3QuZ2V0RGVmYXVsdFBvc2l0aW9uKCk6XCJ0b3AtcmlnaHRcIiksIXR8fCF0Lm9uQWRkKXJldHVybiB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50IHRvIG1hcC5hZGRDb250cm9sKCkuIEFyZ3VtZW50IG11c3QgYmUgYSBjb250cm9sIHdpdGggb25BZGQgYW5kIG9uUmVtb3ZlIG1ldGhvZHMuXCIpKSk7Y29uc3Qgbj10Lm9uQWRkKHRoaXMpO3RoaXMuX2NvbnRyb2xzLnB1c2godCk7Y29uc3QgaT10aGlzLl9jb250cm9sUG9zaXRpb25zW3JdO3JldHVybi0xIT09ci5pbmRleE9mKFwiYm90dG9tXCIpP2kuaW5zZXJ0QmVmb3JlKG4saS5maXJzdENoaWxkKTppLmFwcGVuZENoaWxkKG4pLHRoaXN9cmVtb3ZlQ29udHJvbCh0KXtpZighdHx8IXQub25SZW1vdmUpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgdG8gbWFwLnJlbW92ZUNvbnRyb2woKS4gQXJndW1lbnQgbXVzdCBiZSBhIGNvbnRyb2wgd2l0aCBvbkFkZCBhbmQgb25SZW1vdmUgbWV0aG9kcy5cIikpKTtjb25zdCByPXRoaXMuX2NvbnRyb2xzLmluZGV4T2YodCk7cmV0dXJuIHI+LTEmJnRoaXMuX2NvbnRyb2xzLnNwbGljZShyLDEpLHQub25SZW1vdmUodGhpcyksdGhpc31oYXNDb250cm9sKGUpe3JldHVybiB0aGlzLl9jb250cm9scy5pbmRleE9mKGUpPi0xfWdldENvbnRhaW5lcigpe3JldHVybiB0aGlzLl9jb250YWluZXJ9Z2V0Q2FudmFzQ29udGFpbmVyKCl7cmV0dXJuIHRoaXMuX2NhbnZhc0NvbnRhaW5lcn1nZXRDYW52YXMoKXtyZXR1cm4gdGhpcy5fY2FudmFzfXJlc2l6ZSh0KXtpZih0aGlzLl91cGRhdGVDb250YWluZXJEaW1lbnNpb25zKCksdGhpcy5fY29udGFpbmVyV2lkdGg9PT10aGlzLnRyYW5zZm9ybS53aWR0aCYmdGhpcy5fY29udGFpbmVySGVpZ2h0PT09dGhpcy50cmFuc2Zvcm0uaGVpZ2h0KXJldHVybiB0aGlzO3RoaXMuX3Jlc2l6ZUNhbnZhcyh0aGlzLl9jb250YWluZXJXaWR0aCx0aGlzLl9jb250YWluZXJIZWlnaHQpLHRoaXMudHJhbnNmb3JtLnJlc2l6ZSh0aGlzLl9jb250YWluZXJXaWR0aCx0aGlzLl9jb250YWluZXJIZWlnaHQpLHRoaXMucGFpbnRlci5yZXNpemUoTWF0aC5jZWlsKHRoaXMuX2NvbnRhaW5lcldpZHRoKSxNYXRoLmNlaWwodGhpcy5fY29udGFpbmVySGVpZ2h0KSk7Y29uc3Qgcj0hdGhpcy5fbW92aW5nO3JldHVybiByJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3Zlc3RhcnRcIix0KSkuZmlyZShuZXcgZS5FdmVudChcIm1vdmVcIix0KSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicmVzaXplXCIsdCkpLHImJnRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVlbmRcIix0KSksdGhpc31nZXRCb3VuZHMoKXtyZXR1cm5cImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJmUud2Fybk9uY2UoJ0dsb2JlIHByb2plY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCBnZXRCb3VuZHMgQVBJLCB0aGlzIEFQSSBtYXkgYmVoYXZlIHVuZXhwZWN0ZWRseSB3aGVuIHZpZXdpbmcgdGhlIHBvbGVzLlwiJyksdGhpcy50cmFuc2Zvcm0uZ2V0Qm91bmRzKCl9Z2V0TWF4Qm91bmRzKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmdldE1heEJvdW5kcygpfHxudWxsfXNldE1heEJvdW5kcyh0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2V0TWF4Qm91bmRzKGUuTG5nTGF0Qm91bmRzLmNvbnZlcnQodCkpLHRoaXMuX3VwZGF0ZSgpfXNldE1pblpvb20odCl7aWYoKHQ9bnVsbD09dD8tMjp0KT49LTImJnQ8PXRoaXMudHJhbnNmb3JtLm1heFpvb20pcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblpvb209dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFpvb20oKTx0P3RoaXMuc2V0Wm9vbSh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tc3RhcnRcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIpKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtaW5ab29tIG11c3QgYmUgYmV0d2VlbiAtMiBhbmQgdGhlIGN1cnJlbnQgbWF4Wm9vbSwgaW5jbHVzaXZlXCIpfWdldE1pblpvb20oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbX1zZXRNYXhab29tKHQpe2lmKCh0PW51bGw9PXQ/MjI6dCk+PXRoaXMudHJhbnNmb3JtLm1pblpvb20pcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFpvb209dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFpvb20oKT50P3RoaXMuc2V0Wm9vbSh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tc3RhcnRcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIpKS5maXJlKG5ldyBlLkV2ZW50KFwiem9vbWVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtYXhab29tIG11c3QgYmUgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1pblpvb21cIil9Z2V0TWF4Wm9vbSgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhab29tfXNldE1pblBpdGNoKHQpe2lmKCh0PW51bGw9PXQ/MDp0KTwwKXRocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDBcIik7aWYodD49MCYmdDw9dGhpcy50cmFuc2Zvcm0ubWF4UGl0Y2gpcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblBpdGNoPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRQaXRjaCgpPHQ/dGhpcy5zZXRQaXRjaCh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaHN0YXJ0XCIpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaGVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtaW5QaXRjaCBtdXN0IGJlIGJldHdlZW4gMCBhbmQgdGhlIGN1cnJlbnQgbWF4UGl0Y2gsIGluY2x1c2l2ZVwiKX1nZXRNaW5QaXRjaCgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5taW5QaXRjaH1zZXRNYXhQaXRjaCh0KXtpZigodD1udWxsPT10Pzg1OnQpPjg1KXRocm93IG5ldyBFcnJvcihcIm1heFBpdGNoIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDg1XCIpO2lmKHQ+PXRoaXMudHJhbnNmb3JtLm1pblBpdGNoKXJldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaD10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0UGl0Y2goKT50P3RoaXMuc2V0UGl0Y2godCk6dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hzdGFydFwiKSkuZmlyZShuZXcgZS5FdmVudChcInBpdGNoXCIpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hlbmRcIikpLHRoaXM7dGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gbWluUGl0Y2hcIil9Z2V0TWF4UGl0Y2goKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4UGl0Y2h9Z2V0UmVuZGVyV29ybGRDb3BpZXMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXN9c2V0UmVuZGVyV29ybGRDb3BpZXMoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzPWUsdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXN8fHRoaXMuX2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoITApLHRoaXMuX3VwZGF0ZSgpfWdldExhbmd1YWdlKCl7cmV0dXJuIHRoaXMuX2xhbmd1YWdlfV9wYXJzZUxhbmd1YWdlKHQpe3JldHVyblwiYXV0b1wiPT09dD9lLndpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2U6QXJyYXkuaXNBcnJheSh0KT8wPT09dC5sZW5ndGg/dm9pZCAwOnQubWFwKHQ9PlwiYXV0b1wiPT09dD9lLndpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2U6dCk6dH1zZXRMYW5ndWFnZShlKXtjb25zdCB0PXRoaXMuX3BhcnNlTGFuZ3VhZ2UoZSk7aWYoIXRoaXMuc3R5bGV8fHQ9PT10aGlzLl9sYW5ndWFnZSlyZXR1cm4gdGhpczt0aGlzLl9sYW5ndWFnZT10LHRoaXMuc3R5bGUuX3JlbG9hZFNvdXJjZXMoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9jb250cm9scyllLl9zZXRMYW5ndWFnZSYmZS5fc2V0TGFuZ3VhZ2UodGhpcy5fbGFuZ3VhZ2UpO3JldHVybiB0aGlzfWdldFdvcmxkdmlldygpe3JldHVybiB0aGlzLl93b3JsZHZpZXd9c2V0V29ybGR2aWV3KGUpe3JldHVybiB0aGlzLnN0eWxlJiZlIT09dGhpcy5fd29ybGR2aWV3Pyh0aGlzLl93b3JsZHZpZXc9ZSx0aGlzLnN0eWxlLl9yZWxvYWRTb3VyY2VzKCksdGhpcyk6dGhpc31nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1lcmNhdG9yRnJvbVRyYW5zaXRpb24/e25hbWU6XCJnbG9iZVwiLGNlbnRlcjpbMCwwXX06dGhpcy50cmFuc2Zvcm0uZ2V0UHJvamVjdGlvbigpfV9zaG93aW5nR2xvYmUoKXtyZXR1cm5cImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWV9c2V0UHJvamVjdGlvbihlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksZT9cInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9e25hbWU6ZX0pOmU9bnVsbCx0aGlzLl91c2VFeHBsaWNpdFByb2plY3Rpb249ISFlLHRoaXMuX3ByaW9yaXRpemVBbmRVcGRhdGVQcm9qZWN0aW9uKGUsdGhpcy5zdHlsZS5zdHlsZXNoZWV0P3RoaXMuc3R5bGUuc3R5bGVzaGVldC5wcm9qZWN0aW9uOm51bGwpfV91cGRhdGVQcm9qZWN0aW9uVHJhbnNpdGlvbigpe2lmKFwiZ2xvYmVcIiE9PXRoaXMuZ2V0UHJvamVjdGlvbigpLm5hbWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy50cmFuc2Zvcm0scj10LnByb2plY3Rpb24ubmFtZTtsZXQgbjtcImdsb2JlXCI9PT1yJiZ0Lnpvb20+PWUuR0xPQkVfWk9PTV9USFJFU0hPTERfTUFYPyh0LnNldE1lcmNhdG9yRnJvbVRyYW5zaXRpb24oKSxuPSEwKTpcIm1lcmNhdG9yXCI9PT1yJiZ0Lnpvb208ZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NQVgmJih0LnNldFByb2plY3Rpb24oe25hbWU6XCJnbG9iZVwifSksbj0hMCksbiYmKHRoaXMuc3R5bGUuYXBwbHlQcm9qZWN0aW9uVXBkYXRlKCksdGhpcy5zdHlsZS5fZm9yY2VTeW1ib2xMYXllclVwZGF0ZSgpKX1fcHJpb3JpdGl6ZUFuZFVwZGF0ZVByb2plY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fdXBkYXRlUHJvamVjdGlvbihlfHx0fHx7bmFtZTpcIm1lcmNhdG9yXCJ9KX1fdXBkYXRlUHJvamVjdGlvbih0KXtsZXQgcjtpZihyPVwiZ2xvYmVcIj09PXQubmFtZSYmdGhpcy50cmFuc2Zvcm0uem9vbT49ZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NQVg/dGhpcy50cmFuc2Zvcm0uc2V0TWVyY2F0b3JGcm9tVHJhbnNpdGlvbigpOnRoaXMudHJhbnNmb3JtLnNldFByb2plY3Rpb24odCksdGhpcy5zdHlsZS5hcHBseVByb2plY3Rpb25VcGRhdGUoKSxyKXt0aGlzLnBhaW50ZXIuY2xlYXJCYWNrZ3JvdW5kVGlsZXMoKTtmb3IoY29uc3QgZSBpbiB0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXMpdGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzW2VdLmNsZWFyVGlsZXMoKTt0aGlzLl91cGRhdGUoITApLHRoaXMuX2ZvcmNlTWFya2VyQW5kUG9wdXBVcGRhdGUoITApfXJldHVybiB0aGlzfXByb2plY3QodCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLmxvY2F0aW9uUG9pbnQzRChlLkxuZ0xhdC5jb252ZXJ0KHQpKX11bnByb2plY3QodCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChlLnBvaW50R2VvbWV0cnkuY29udmVydCh0KSl9aXNNb3ZpbmcoKXtyZXR1cm4gdGhpcy5fbW92aW5nfHx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmlzTW92aW5nKCl8fCExfWlzWm9vbWluZygpe3JldHVybiB0aGlzLl96b29taW5nfHx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmlzWm9vbWluZygpfHwhMX1pc1JvdGF0aW5nKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW5nfHx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmlzUm90YXRpbmcoKXx8ITF9X2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKGUsdCxyKXtpZihcIm1vdXNlZW50ZXJcIj09PWV8fFwibW91c2VvdmVyXCI9PT1lKXtsZXQgbj0hMTtjb25zdCBpPWk9Pntjb25zdCBvPXQuZmlsdGVyKGU9PnRoaXMuZ2V0TGF5ZXIoZSkpLGE9by5sZW5ndGg/dGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoaS5wb2ludCx7bGF5ZXJzOm99KTpbXTthLmxlbmd0aD9ufHwobj0hMCxyLmNhbGwodGhpcyxuZXcgY2koZSx0aGlzLGkub3JpZ2luYWxFdmVudCx7ZmVhdHVyZXM6YX0pKSk6bj0hMX0sbz0oKT0+e249ITF9O3JldHVybntsYXllcnM6bmV3IFNldCh0KSxsaXN0ZW5lcjpyLGRlbGVnYXRlczp7bW91c2Vtb3ZlOmksbW91c2VvdXQ6b319fWlmKFwibW91c2VsZWF2ZVwiPT09ZXx8XCJtb3VzZW91dFwiPT09ZSl7bGV0IG49ITE7Y29uc3QgaT1pPT57Y29uc3Qgbz10LmZpbHRlcihlPT50aGlzLmdldExheWVyKGUpKTsoby5sZW5ndGg/dGhpcy5xdWVyeVJlbmRlcmVkRmVhdHVyZXMoaS5wb2ludCx7bGF5ZXJzOm99KTpbXSkubGVuZ3RoP249ITA6biYmKG49ITEsci5jYWxsKHRoaXMsbmV3IGNpKGUsdGhpcyxpLm9yaWdpbmFsRXZlbnQpKSl9LG89dD0+e24mJihuPSExLHIuY2FsbCh0aGlzLG5ldyBjaShlLHRoaXMsdC5vcmlnaW5hbEV2ZW50KSkpfTtyZXR1cm57bGF5ZXJzOm5ldyBTZXQodCksbGlzdGVuZXI6cixkZWxlZ2F0ZXM6e21vdXNlbW92ZTppLG1vdXNlb3V0Om99fX17Y29uc3Qgbj1lPT57Y29uc3Qgbj10LmZpbHRlcihlPT50aGlzLmdldExheWVyKGUpKSxpPW4ubGVuZ3RoP3RoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQse2xheWVyczpufSk6W107aS5sZW5ndGgmJihlLmZlYXR1cmVzPWksci5jYWxsKHRoaXMsZSksZGVsZXRlIGUuZmVhdHVyZXMpfTtyZXR1cm57bGF5ZXJzOm5ldyBTZXQodCksbGlzdGVuZXI6cixkZWxlZ2F0ZXM6e1tlXTpufX19fW9uKGUsdCxyKXtpZih2b2lkIDA9PT1yKXJldHVybiBzdXBlci5vbihlLHQpO0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7Y29uc3Qgbj10aGlzLl9jcmVhdGVEZWxlZ2F0ZWRMaXN0ZW5lcihlLHQscik7dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzPXRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc3x8e30sdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW2VdPXRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1tlXXx8W10sdGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW2VdLnB1c2gobik7Zm9yKGNvbnN0IGUgaW4gbi5kZWxlZ2F0ZXMpdGhpcy5vbihlLG4uZGVsZWdhdGVzW2VdKTtyZXR1cm4gdGhpc31vbmNlKGUsdCxyKXtpZih2b2lkIDA9PT1yKXJldHVybiBzdXBlci5vbmNlKGUsdCk7QXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKTtjb25zdCBuPXRoaXMuX2NyZWF0ZURlbGVnYXRlZExpc3RlbmVyKGUsdCxyKTtmb3IoY29uc3QgZSBpbiBuLmRlbGVnYXRlcyl0aGlzLm9uY2UoZSxuLmRlbGVnYXRlc1tlXSk7cmV0dXJuIHRoaXN9b2ZmKGUsdCxyKXtpZih2b2lkIDA9PT1yKXJldHVybiBzdXBlci5vZmYoZSx0KTt0PW5ldyBTZXQoQXJyYXkuaXNBcnJheSh0KT90Olt0XSk7Y29uc3Qgbj0oZSx0KT0+e2lmKGUuc2l6ZSE9PXQuc2l6ZSlyZXR1cm4hMTtmb3IoY29uc3QgciBvZiBlKWlmKCF0LmhhcyhyKSlyZXR1cm4hMTtyZXR1cm4hMH0saT10aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnM/dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzW2VdOnZvaWQgMDtyZXR1cm4gaSYmKGU9Pntmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbz1lW2ldO2lmKG8ubGlzdGVuZXI9PT1yJiZuKG8ubGF5ZXJzLHQpKXtmb3IoY29uc3QgZSBpbiBvLmRlbGVnYXRlcyl0aGlzLm9mZihlLG8uZGVsZWdhdGVzW2VdKTtyZXR1cm4gZS5zcGxpY2UoaSwxKSx0aGlzfX19KShpKSx0aGlzfXF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyh0LHIpe3JldHVybiB0aGlzLnN0eWxlPyh2b2lkIDAhPT1yfHx2b2lkIDA9PT10fHx0IGluc3RhbmNlb2YgZS5wb2ludEdlb21ldHJ5fHxBcnJheS5pc0FycmF5KHQpfHwocj10LHQ9dm9pZCAwKSx0aGlzLnN0eWxlLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyh0PXR8fFtbMCwwXSxbdGhpcy50cmFuc2Zvcm0ud2lkdGgsdGhpcy50cmFuc2Zvcm0uaGVpZ2h0XV0scj1yfHx7fSx0aGlzLnRyYW5zZm9ybSkpOltdfXF1ZXJ5U291cmNlRmVhdHVyZXMoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZS5xdWVyeVNvdXJjZUZlYXR1cmVzKGUsdCl9c2V0U3R5bGUodCxyKXtyZXR1cm4hMSE9PShyPWUuZXh0ZW5kKHt9LHtsb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk6dGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5LGxvY2FsRm9udEZhbWlseTp0aGlzLl9sb2NhbEZvbnRGYW1pbHl9LHIpKS5kaWZmJiZyLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT09PXRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseSYmci5sb2NhbEZvbnRGYW1pbHk9PT10aGlzLl9sb2NhbEZvbnRGYW1pbHkmJnRoaXMuc3R5bGUmJnQ/KHRoaXMuX2RpZmZTdHlsZSh0LHIpLHRoaXMpOih0aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9ci5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHksdGhpcy5fbG9jYWxGb250RmFtaWx5PXIubG9jYWxGb250RmFtaWx5LHRoaXMuX3VwZGF0ZVN0eWxlKHQscikpfV9nZXRVSVN0cmluZyhlKXtjb25zdCB0PXRoaXMuX2xvY2FsZVtlXTtpZihudWxsPT10KXRocm93IG5ldyBFcnJvcihgTWlzc2luZyBVSSBzdHJpbmcgJyR7ZX0nYCk7cmV0dXJuIHR9X3VwZGF0ZVN0eWxlKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUmJih0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5zdHlsZS5fcmVtb3ZlKCksdGhpcy5zdHlsZT12b2lkIDApLGUmJih0aGlzLnN0eWxlPW5ldyBlcih0aGlzLHR8fHt9KSx0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7c3R5bGU6dGhpcy5zdHlsZX0pLFwic3RyaW5nXCI9PXR5cGVvZiBlP3RoaXMuc3R5bGUubG9hZFVSTChlKTp0aGlzLnN0eWxlLmxvYWRKU09OKGUpKSx0aGlzLl91cGRhdGVUZXJyYWluKCksdGhpc31fbGF6eUluaXRFbXB0eVN0eWxlKCl7dGhpcy5zdHlsZXx8KHRoaXMuc3R5bGU9bmV3IGVyKHRoaXMse30pLHRoaXMuc3R5bGUuc2V0RXZlbnRlZFBhcmVudCh0aGlzLHtzdHlsZTp0aGlzLnN0eWxlfSksdGhpcy5zdHlsZS5sb2FkRW1wdHkoKSl9X2RpZmZTdHlsZSh0LHIpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtjb25zdCBuPXRoaXMuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVN0eWxlVVJMKHQpLGk9dGhpcy5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChuLGUuUmVzb3VyY2VUeXBlLlN0eWxlKTtlLmdldEpTT04oaSwodCxuKT0+e3Q/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpOm4mJnRoaXMuX3VwZGF0ZURpZmYobixyKX0pfWVsc2VcIm9iamVjdFwiPT10eXBlb2YgdCYmdGhpcy5fdXBkYXRlRGlmZih0LHIpfV91cGRhdGVEaWZmKHQscil7dHJ5e3RoaXMuc3R5bGUuc2V0U3RhdGUodCkmJnRoaXMuX3VwZGF0ZSghMCl9Y2F0Y2gobil7ZS53YXJuT25jZShgVW5hYmxlIHRvIHBlcmZvcm0gc3R5bGUgZGlmZjogJHtuLm1lc3NhZ2V8fG4uZXJyb3J8fG59LiAgUmVidWlsZGluZyB0aGUgc3R5bGUgZnJvbSBzY3JhdGNoLmApLHRoaXMuX3VwZGF0ZVN0eWxlKHQscil9fWdldFN0eWxlKCl7aWYodGhpcy5zdHlsZSlyZXR1cm4gdGhpcy5zdHlsZS5zZXJpYWxpemUoKX1pc1N0eWxlTG9hZGVkKCl7cmV0dXJuIHRoaXMuc3R5bGU/dGhpcy5zdHlsZS5sb2FkZWQoKTooZS53YXJuT25jZShcIlRoZXJlIGlzIG5vIHN0eWxlIGFkZGVkIHRvIHRoZSBtYXAuXCIpLCExKX1hZGRTb3VyY2UoZSx0KXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5hZGRTb3VyY2UoZSx0KSx0aGlzLl91cGRhdGUoITApfWlzU291cmNlTG9hZGVkKGUpe3JldHVybiEhdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5faXNTb3VyY2VDYWNoZUxvYWRlZChlKX1hcmVUaWxlc0xvYWRlZCgpe2NvbnN0IGU9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5fc291cmNlQ2FjaGVzO2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IHI9ZVt0XS5fdGlsZXM7Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD1yW2VdO2lmKFwibG9hZGVkXCIhPT10LnN0YXRlJiZcImVycm9yZWRcIiE9PXQuc3RhdGUpcmV0dXJuITF9fXJldHVybiEwfWFkZFNvdXJjZVR5cGUoZSx0LHIpe3RoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuYWRkU291cmNlVHlwZShlLHQscil9cmVtb3ZlU291cmNlKGUpe3JldHVybiB0aGlzLnN0eWxlLnJlbW92ZVNvdXJjZShlKSx0aGlzLl91cGRhdGVUZXJyYWluKCksdGhpcy5fdXBkYXRlKCEwKX1nZXRTb3VyY2UoZSl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0U291cmNlKGUpfWFkZEltYWdlKHQscix7cGl4ZWxSYXRpbzpuPTEsc2RmOmk9ITEsc3RyZXRjaFg6byxzdHJldGNoWTphLGNvbnRlbnQ6c309e30pe2lmKHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHIgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50fHxlLndpbmRvdy5JbWFnZUJpdG1hcCYmciBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlQml0bWFwKXtjb25zdHt3aWR0aDpsLGhlaWdodDpjLGRhdGE6dX09ZS5leHBvcnRlZC5nZXRJbWFnZURhdGEocik7dGhpcy5zdHlsZS5hZGRJbWFnZSh0LHtkYXRhOm5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6bCxoZWlnaHQ6Y30sdSkscGl4ZWxSYXRpbzpuLHN0cmV0Y2hYOm8sc3RyZXRjaFk6YSxjb250ZW50OnMsc2RmOmksdmVyc2lvbjowfSl9ZWxzZSBpZih2b2lkIDA9PT1yLndpZHRofHx2b2lkIDA9PT1yLmhlaWdodCl0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAuYWRkSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAsIG9yIG9iamVjdCB3aXRoIGB3aWR0aGAsIGBoZWlnaHRgLCBhbmQgYGRhdGFgIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWBcIikpKTtlbHNle2NvbnN0e3dpZHRoOmwsaGVpZ2h0OmN9PXIsdT1yO3RoaXMuc3R5bGUuYWRkSW1hZ2UodCx7ZGF0YTpuZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOmwsaGVpZ2h0OmN9LG5ldyBVaW50OEFycmF5KHUuZGF0YSkpLHBpeGVsUmF0aW86bixzdHJldGNoWDpvLHN0cmV0Y2hZOmEsY29udGVudDpzLHNkZjppLHZlcnNpb246MCx1c2VySW1hZ2U6dX0pLHUub25BZGQmJnUub25BZGQodGhpcyx0KX19dXBkYXRlSW1hZ2UodCxyKXtjb25zdCBuPXRoaXMuc3R5bGUuZ2V0SW1hZ2UodCk7aWYoIW4pcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIG1hcCBoYXMgbm8gaW1hZ2Ugd2l0aCB0aGF0IGlkLiBJZiB5b3UgYXJlIGFkZGluZyBhIG5ldyBpbWFnZSB1c2UgYG1hcC5hZGRJbWFnZSguLi4pYCBpbnN0ZWFkLlwiKSkpO2NvbnN0IGk9ciBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxJbWFnZUVsZW1lbnR8fGUud2luZG93LkltYWdlQml0bWFwJiZyIGluc3RhbmNlb2YgZS53aW5kb3cuSW1hZ2VCaXRtYXA/ZS5leHBvcnRlZC5nZXRJbWFnZURhdGEocik6cix7d2lkdGg6byxoZWlnaHQ6YX09aTt2b2lkIDAhPT1vJiZ2b2lkIDAhPT1hP289PT1uLmRhdGEud2lkdGgmJmE9PT1uLmRhdGEuaGVpZ2h0PyhuLmRhdGEucmVwbGFjZShpLmRhdGEsIShyIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEltYWdlRWxlbWVudHx8ZS53aW5kb3cuSW1hZ2VCaXRtYXAmJnIgaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZUJpdG1hcCkpLHRoaXMuc3R5bGUudXBkYXRlSW1hZ2UodCxuKSk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgd2lkdGggYW5kIGhlaWdodCBvZiB0aGUgdXBkYXRlZCBpbWFnZSAoJHtvfSwgJHthfSlcXG4gICAgICAgICAgICAgICAgbXVzdCBiZSB0aGF0IHNhbWUgYXMgdGhlIHByZXZpb3VzIHZlcnNpb24gb2YgdGhlIGltYWdlXFxuICAgICAgICAgICAgICAgICgke24uZGF0YS53aWR0aH0sICR7bi5kYXRhLmhlaWdodH0pYCkpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJJbnZhbGlkIGFyZ3VtZW50cyB0byBtYXAudXBkYXRlSW1hZ2UoKS4gVGhlIHNlY29uZCBhcmd1bWVudCBtdXN0IGJlIGFuIGBIVE1MSW1hZ2VFbGVtZW50YCwgYEltYWdlRGF0YWAsIGBJbWFnZUJpdG1hcGAsIG9yIG9iamVjdCB3aXRoIGB3aWR0aGAsIGBoZWlnaHRgLCBhbmQgYGRhdGFgIHByb3BlcnRpZXMgd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgYEltYWdlRGF0YWBcIikpKX1oYXNJbWFnZSh0KXtyZXR1cm4gdD8hIXRoaXMuc3R5bGUuZ2V0SW1hZ2UodCk6KHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIk1pc3NpbmcgcmVxdWlyZWQgaW1hZ2UgaWRcIikpKSwhMSl9cmVtb3ZlSW1hZ2UoZSl7dGhpcy5zdHlsZS5yZW1vdmVJbWFnZShlKX1sb2FkSW1hZ2UodCxyKXtlLmdldEltYWdlKHRoaXMuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodCxlLlJlc291cmNlVHlwZS5JbWFnZSksKHQsbik9PntyKHQsbiBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxJbWFnZUVsZW1lbnQ/ZS5leHBvcnRlZC5nZXRJbWFnZURhdGEobik6bil9KX1saXN0SW1hZ2VzKCl7cmV0dXJuIHRoaXMuc3R5bGUubGlzdEltYWdlcygpfWFkZExheWVyKGUsdCl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuYWRkTGF5ZXIoZSx0KSx0aGlzLl91cGRhdGUoITApfW1vdmVMYXllcihlLHQpe3JldHVybiB0aGlzLnN0eWxlLm1vdmVMYXllcihlLHQpLHRoaXMuX3VwZGF0ZSghMCl9cmVtb3ZlTGF5ZXIoZSl7cmV0dXJuIHRoaXMuc3R5bGUucmVtb3ZlTGF5ZXIoZSksdGhpcy5fdXBkYXRlKCEwKX1nZXRMYXllcihlKXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRMYXllcihlKX1zZXRMYXllclpvb21SYW5nZShlLHQscil7cmV0dXJuIHRoaXMuc3R5bGUuc2V0TGF5ZXJab29tUmFuZ2UoZSx0LHIpLHRoaXMuX3VwZGF0ZSghMCl9c2V0RmlsdGVyKGUsdCxyPXt9KXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRGaWx0ZXIoZSx0LHIpLHRoaXMuX3VwZGF0ZSghMCl9Z2V0RmlsdGVyKGUpe3JldHVybiB0aGlzLnN0eWxlLmdldEZpbHRlcihlKX1zZXRQYWludFByb3BlcnR5KGUsdCxyLG49e30pe3JldHVybiB0aGlzLnN0eWxlLnNldFBhaW50UHJvcGVydHkoZSx0LHIsbiksdGhpcy5fdXBkYXRlKCEwKX1nZXRQYWludFByb3BlcnR5KGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0UGFpbnRQcm9wZXJ0eShlLHQpfXNldExheW91dFByb3BlcnR5KGUsdCxyLG49e30pe3JldHVybiB0aGlzLnN0eWxlLnNldExheW91dFByb3BlcnR5KGUsdCxyLG4pLHRoaXMuX3VwZGF0ZSghMCl9Z2V0TGF5b3V0UHJvcGVydHkoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRMYXlvdXRQcm9wZXJ0eShlLHQpfXNldExpZ2h0KGUsdD17fSl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuc2V0TGlnaHQoZSx0KSx0aGlzLl91cGRhdGUoITApfWdldExpZ2h0KCl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGlnaHQoKX1zZXRUZXJyYWluKGUpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSwhZSYmdGhpcy50cmFuc2Zvcm0ucHJvamVjdGlvbi5yZXF1aXJlc0RyYXBpbmc/dGhpcy5zdHlsZS5zZXRUZXJyYWluRm9yRHJhcGluZygpOnRoaXMuc3R5bGUuc2V0VGVycmFpbihlKSx0aGlzLl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdD0tMS8wLHRoaXMuX3VwZGF0ZSghMCl9Z2V0VGVycmFpbigpe3JldHVybiB0aGlzLnN0eWxlP3RoaXMuc3R5bGUuZ2V0VGVycmFpbigpOm51bGx9c2V0Rm9nKGUpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLnNldEZvZyhlKSx0aGlzLl91cGRhdGUoITApfWdldEZvZygpe3JldHVybiB0aGlzLnN0eWxlP3RoaXMuc3R5bGUuZ2V0Rm9nKCk6bnVsbH1fcXVlcnlGb2dPcGFjaXR5KHQpe3JldHVybiB0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmZvZz90aGlzLnN0eWxlLmZvZy5nZXRPcGFjaXR5QXRMYXRMbmcoZS5MbmdMYXQuY29udmVydCh0KSx0aGlzLnRyYW5zZm9ybSk6MH1zZXRGZWF0dXJlU3RhdGUoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRGZWF0dXJlU3RhdGUoZSx0KSx0aGlzLl91cGRhdGUoKX1yZW1vdmVGZWF0dXJlU3RhdGUoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVGZWF0dXJlU3RhdGUoZSx0KSx0aGlzLl91cGRhdGUoKX1nZXRGZWF0dXJlU3RhdGUoZSl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0RmVhdHVyZVN0YXRlKGUpfV91cGRhdGVDb250YWluZXJEaW1lbnNpb25zKCl7aWYoIXRoaXMuX2NvbnRhaW5lcilyZXR1cm47Y29uc3QgdD10aGlzLl9jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGh8fDQwMCxyPXRoaXMuX2NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHR8fDMwMDtsZXQgbixpLG8sYT10aGlzLl9jb250YWluZXI7Zm9yKDthJiYoIWl8fCFvKTspe2NvbnN0IHQ9ZS53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShhKS50cmFuc2Zvcm07dCYmXCJub25lXCIhPT10JiYobj10Lm1hdGNoKC9tYXRyaXguKlxcKCguKylcXCkvKVsxXS5zcGxpdChcIiwgXCIpLG5bMF0mJlwiMFwiIT09blswXSYmXCIxXCIhPT1uWzBdJiYoaT1uWzBdKSxuWzNdJiZcIjBcIiE9PW5bM10mJlwiMVwiIT09blszXSYmKG89blszXSkpLGE9YS5wYXJlbnRFbGVtZW50fXRoaXMuX2NvbnRhaW5lcldpZHRoPWk/TWF0aC5hYnModC9pKTp0LHRoaXMuX2NvbnRhaW5lckhlaWdodD1vP01hdGguYWJzKHIvbyk6cn1fZGV0ZWN0TWlzc2luZ0NTUygpe1wicmdiKDI1MCwgMTI4LCAxMTQpXCIhPT1lLndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuX21pc3NpbmdDU1NDYW5hcnkpLmdldFByb3BlcnR5VmFsdWUoXCJiYWNrZ3JvdW5kLWNvbG9yXCIpJiZlLndhcm5PbmNlKFwiVGhpcyBwYWdlIGFwcGVhcnMgdG8gYmUgbWlzc2luZyBDU1MgZGVjbGFyYXRpb25zIGZvciBNYXBib3ggR0wgSlMsIHdoaWNoIG1heSBjYXVzZSB0aGUgbWFwIHRvIGRpc3BsYXkgaW5jb3JyZWN0bHkuIFBsZWFzZSBlbnN1cmUgeW91ciBwYWdlIGluY2x1ZGVzIG1hcGJveC1nbC5jc3MsIGFzIGRlc2NyaWJlZCBpbiBodHRwczovL3d3dy5tYXBib3guY29tL21hcGJveC1nbC1qcy9hcGkvLlwiKX1fc2V0dXBDb250YWluZXIoKXtjb25zdCBlPXRoaXMuX2NvbnRhaW5lcjtlLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1tYXBcIiksKHRoaXMuX21pc3NpbmdDU1NDYW5hcnk9byhcImRpdlwiLFwibWFwYm94Z2wtY2FuYXJ5XCIsZSkpLnN0eWxlLnZpc2liaWxpdHk9XCJoaWRkZW5cIix0aGlzLl9kZXRlY3RNaXNzaW5nQ1NTKCk7Y29uc3QgdD10aGlzLl9jYW52YXNDb250YWluZXI9byhcImRpdlwiLFwibWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lclwiLGUpO3RoaXMuX2ludGVyYWN0aXZlJiZ0LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1pbnRlcmFjdGl2ZVwiKSx0aGlzLl9jYW52YXM9byhcImNhbnZhc1wiLFwibWFwYm94Z2wtY2FudmFzXCIsdCksdGhpcy5fY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRsb3N0XCIsdGhpcy5fY29udGV4dExvc3QsITEpLHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0cmVzdG9yZWRcIix0aGlzLl9jb250ZXh0UmVzdG9yZWQsITEpLHRoaXMuX2NhbnZhcy5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiMFwiKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHRoaXMuX2dldFVJU3RyaW5nKFwiTWFwLlRpdGxlXCIpKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwicmVnaW9uXCIpLHRoaXMuX3VwZGF0ZUNvbnRhaW5lckRpbWVuc2lvbnMoKSx0aGlzLl9yZXNpemVDYW52YXModGhpcy5fY29udGFpbmVyV2lkdGgsdGhpcy5fY29udGFpbmVySGVpZ2h0KTtjb25zdCByPXRoaXMuX2NvbnRyb2xDb250YWluZXI9byhcImRpdlwiLFwibWFwYm94Z2wtY29udHJvbC1jb250YWluZXJcIixlKSxuPXRoaXMuX2NvbnRyb2xQb3NpdGlvbnM9e307W1widG9wLWxlZnRcIixcInRvcC1yaWdodFwiLFwiYm90dG9tLWxlZnRcIixcImJvdHRvbS1yaWdodFwiXS5mb3JFYWNoKGU9PntuW2VdPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwtXCIrZSxyKX0pLHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5fb25NYXBTY3JvbGwsITEpfV9yZXNpemVDYW52YXModCxyKXtjb25zdCBuPWUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpb3x8MTt0aGlzLl9jYW52YXMud2lkdGg9bipNYXRoLmNlaWwodCksdGhpcy5fY2FudmFzLmhlaWdodD1uKk1hdGguY2VpbChyKSx0aGlzLl9jYW52YXMuc3R5bGUud2lkdGg9dCtcInB4XCIsdGhpcy5fY2FudmFzLnN0eWxlLmhlaWdodD1yK1wicHhcIn1fYWRkTWFya2VyKGUpe3RoaXMuX21hcmtlcnMucHVzaChlKX1fcmVtb3ZlTWFya2VyKGUpe2NvbnN0IHQ9dGhpcy5fbWFya2Vycy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5fbWFya2Vycy5zcGxpY2UodCwxKX1fYWRkUG9wdXAoZSl7dGhpcy5fcG9wdXBzLnB1c2goZSl9X3JlbW92ZVBvcHVwKGUpe2NvbnN0IHQ9dGhpcy5fcG9wdXBzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLl9wb3B1cHMuc3BsaWNlKHQsMSl9X3NldHVwUGFpbnRlcigpe2NvbnN0IHQ9ZS5leHRlbmQoe30sci53ZWJHTENvbnRleHRBdHRyaWJ1dGVzLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OnRoaXMuX2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQscHJlc2VydmVEcmF3aW5nQnVmZmVyOnRoaXMuX3ByZXNlcnZlRHJhd2luZ0J1ZmZlcixhbnRpYWxpYXM6dGhpcy5fYW50aWFsaWFzfHwhMX0pLG49dGhpcy5fY2FudmFzLmdldENvbnRleHQoXCJ3ZWJnbFwiLHQpfHx0aGlzLl9jYW52YXMuZ2V0Q29udGV4dChcImV4cGVyaW1lbnRhbC13ZWJnbFwiLHQpO24/KGUuc3RvcmVBdXRoU3RhdGUobiwhMCksdGhpcy5wYWludGVyPW5ldyBGbihuLHRoaXMudHJhbnNmb3JtKSx0aGlzLm9uKFwiZGF0YVwiLGU9PntcInNvdXJjZVwiPT09ZS5kYXRhVHlwZSYmdGhpcy5wYWludGVyLnNldFRpbGVMb2FkZWRGbGFnKCEwKX0pLGUuZXhwb3J0ZWQkMS50ZXN0U3VwcG9ydChuKSk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiRmFpbGVkIHRvIGluaXRpYWxpemUgV2ViR0xcIikpKX1fY29udGV4dExvc3QodCl7dC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2ZyYW1lJiYodGhpcy5fZnJhbWUuY2FuY2VsKCksdGhpcy5fZnJhbWU9bnVsbCksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwid2ViZ2xjb250ZXh0bG9zdFwiLHtvcmlnaW5hbEV2ZW50OnR9KSl9X2NvbnRleHRSZXN0b3JlZCh0KXt0aGlzLl9zZXR1cFBhaW50ZXIoKSx0aGlzLnJlc2l6ZSgpLHRoaXMuX3VwZGF0ZSgpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcIndlYmdsY29udGV4dHJlc3RvcmVkXCIse29yaWdpbmFsRXZlbnQ6dH0pKX1fb25NYXBTY3JvbGwoZSl7aWYoZS50YXJnZXQ9PT10aGlzLl9jb250YWluZXIpcmV0dXJuIHRoaXMuX2NvbnRhaW5lci5zY3JvbGxUb3A9MCx0aGlzLl9jb250YWluZXIuc2Nyb2xsTGVmdD0wLCExfWxvYWRlZCgpe3JldHVybiF0aGlzLl9zdHlsZURpcnR5JiYhdGhpcy5fc291cmNlc0RpcnR5JiYhIXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUubG9hZGVkKCl9X3VwZGF0ZShlKXtyZXR1cm4gdGhpcy5zdHlsZT8odGhpcy5fc3R5bGVEaXJ0eT10aGlzLl9zdHlsZURpcnR5fHxlLHRoaXMuX3NvdXJjZXNEaXJ0eT0hMCx0aGlzLnRyaWdnZXJSZXBhaW50KCksdGhpcyk6dGhpc31fcmVxdWVzdFJlbmRlckZyYW1lKGUpe3JldHVybiB0aGlzLl91cGRhdGUoKSx0aGlzLl9yZW5kZXJUYXNrUXVldWUuYWRkKGUpfV9jYW5jZWxSZW5kZXJGcmFtZShlKXt0aGlzLl9yZW5kZXJUYXNrUXVldWUucmVtb3ZlKGUpfV9yZXF1ZXN0RG9tVGFzayhlKXshdGhpcy5sb2FkZWQoKXx8dGhpcy5sb2FkZWQoKSYmIXRoaXMuaXNNb3ZpbmcoKT9lKCk6dGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlLmFkZChlKX1fcmVuZGVyKHQpe2xldCByO2NvbnN0IG49dGhpcy5wYWludGVyLmNvbnRleHQuZXh0VGltZXJRdWVyeSxpPWUuZXhwb3J0ZWQubm93KCk7aWYodGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1mcmFtZVwiKSYmKHI9bi5jcmVhdGVRdWVyeUVYVCgpLG4uYmVnaW5RdWVyeUVYVChuLlRJTUVfRUxBUFNFRF9FWFQscikpLHRoaXMucGFpbnRlci5jb250ZXh0LnNldERpcnR5KCksdGhpcy5wYWludGVyLnNldEJhc2VTdGF0ZSgpLCh0aGlzLmlzTW92aW5nKCl8fHRoaXMuaXNSb3RhdGluZygpfHx0aGlzLmlzWm9vbWluZygpKSYmKHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMF09TWF0aC5taW4odGhpcy5faW50ZXJhY3Rpb25SYW5nZVswXSxlLndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSksdGhpcy5faW50ZXJhY3Rpb25SYW5nZVsxXT1NYXRoLm1heCh0aGlzLl9pbnRlcmFjdGlvblJhbmdlWzFdLGUud2luZG93LnBlcmZvcm1hbmNlLm5vdygpKSksdGhpcy5fcmVuZGVyVGFza1F1ZXVlLnJ1bih0KSx0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUucnVuKHQpLHRoaXMuX3JlbW92ZWQpcmV0dXJuO3RoaXMuX3VwZGF0ZVByb2plY3Rpb25UcmFuc2l0aW9uKCk7bGV0IG89ITE7Y29uc3QgYT10aGlzLl9pc0luaXRpYWxMb2FkPzA6dGhpcy5fZmFkZUR1cmF0aW9uO2lmKHRoaXMuc3R5bGUmJnRoaXMuX3N0eWxlRGlydHkpe3RoaXMuX3N0eWxlRGlydHk9ITE7Y29uc3QgdD10aGlzLnRyYW5zZm9ybS56b29tLHI9dGhpcy50cmFuc2Zvcm0ucGl0Y2gsbj1lLmV4cG9ydGVkLm5vdygpO3RoaXMuc3R5bGUuem9vbUhpc3RvcnkudXBkYXRlKHQsbik7Y29uc3QgaT1uZXcgZS5FdmFsdWF0aW9uUGFyYW1ldGVycyh0LHtub3c6bixmYWRlRHVyYXRpb246YSxwaXRjaDpyLHpvb21IaXN0b3J5OnRoaXMuc3R5bGUuem9vbUhpc3RvcnksdHJhbnNpdGlvbjp0aGlzLnN0eWxlLmdldFRyYW5zaXRpb24oKX0pLHM9aS5jcm9zc0ZhZGluZ0ZhY3RvcigpOzE9PT1zJiZzPT09dGhpcy5fY3Jvc3NGYWRpbmdGYWN0b3J8fChvPSEwLHRoaXMuX2Nyb3NzRmFkaW5nRmFjdG9yPXMpLHRoaXMuc3R5bGUudXBkYXRlKGkpfXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZm9nJiZ0aGlzLnN0eWxlLmZvZy5oYXNUcmFuc2l0aW9uKCkmJih0aGlzLnN0eWxlLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMCx0aGlzLl9zb3VyY2VzRGlydHk9ITApO2xldCBzPSExO2lmKHRoaXMuc3R5bGUmJnRoaXMuX3NvdXJjZXNEaXJ0eT8odGhpcy5fc291cmNlc0RpcnR5PSExLHRoaXMucGFpbnRlci5fdXBkYXRlRm9nKHRoaXMuc3R5bGUpLHRoaXMuX3VwZGF0ZVRlcnJhaW4oKSxzPXRoaXMuX3VwZGF0ZUF2ZXJhZ2VFbGV2YXRpb24oaSksdGhpcy5zdHlsZS5fdXBkYXRlU291cmNlcyh0aGlzLnRyYW5zZm9ybSksdGhpcy5fZm9yY2VNYXJrZXJBbmRQb3B1cFVwZGF0ZSgpKTpzPXRoaXMuX3VwZGF0ZUF2ZXJhZ2VFbGV2YXRpb24oaSksdGhpcy5fcGxhY2VtZW50RGlydHk9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5fdXBkYXRlUGxhY2VtZW50KHRoaXMucGFpbnRlci50cmFuc2Zvcm0sdGhpcy5zaG93Q29sbGlzaW9uQm94ZXMsYSx0aGlzLl9jcm9zc1NvdXJjZUNvbGxpc2lvbnMpLHRoaXMuc3R5bGUmJnRoaXMucGFpbnRlci5yZW5kZXIodGhpcy5zdHlsZSx7c2hvd1RpbGVCb3VuZGFyaWVzOnRoaXMuc2hvd1RpbGVCb3VuZGFyaWVzLHNob3dUZXJyYWluV2lyZWZyYW1lOnRoaXMuc2hvd1RlcnJhaW5XaXJlZnJhbWUsc2hvd092ZXJkcmF3SW5zcGVjdG9yOnRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvcixzaG93UXVlcnlHZW9tZXRyeTohIXRoaXMuX3Nob3dRdWVyeUdlb21ldHJ5LHNob3dUaWxlQUFCQnM6dGhpcy5zaG93VGlsZUFBQkJzLHJvdGF0aW5nOnRoaXMuaXNSb3RhdGluZygpLHpvb21pbmc6dGhpcy5pc1pvb21pbmcoKSxtb3Zpbmc6dGhpcy5pc01vdmluZygpLGZhZGVEdXJhdGlvbjphLGlzSW5pdGlhbExvYWQ6dGhpcy5faXNJbml0aWFsTG9hZCxzaG93UGFkZGluZzp0aGlzLnNob3dQYWRkaW5nLGdwdVRpbWluZzohIXRoaXMubGlzdGVucyhcImdwdS10aW1pbmctbGF5ZXJcIiksZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXI6ISF0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWRlZmVycmVkLXJlbmRlclwiKSxzcGVlZEluZGV4VGltaW5nOnRoaXMuc3BlZWRJbmRleFRpbWluZ30pLHRoaXMuZmlyZShuZXcgZS5FdmVudChcInJlbmRlclwiKSksdGhpcy5sb2FkZWQoKSYmIXRoaXMuX2xvYWRlZCYmKHRoaXMuX2xvYWRlZD0hMCx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJsb2FkXCIpKSksdGhpcy5zdHlsZSYmKHRoaXMuc3R5bGUuaGFzVHJhbnNpdGlvbnMoKXx8bykmJih0aGlzLl9zdHlsZURpcnR5PSEwKSx0aGlzLnN0eWxlJiYhdGhpcy5fcGxhY2VtZW50RGlydHkmJnRoaXMuc3R5bGUuX3JlbGVhc2VTeW1ib2xGYWRlVGlsZXMoKSxyKXtjb25zdCB0PWUuZXhwb3J0ZWQubm93KCktaTtuLmVuZFF1ZXJ5RVhUKG4uVElNRV9FTEFQU0VEX0VYVCxyKSxzZXRUaW1lb3V0KCgpPT57Y29uc3Qgbz1uLmdldFF1ZXJ5T2JqZWN0RVhUKHIsbi5RVUVSWV9SRVNVTFRfRVhUKS8xZTY7bi5kZWxldGVRdWVyeUVYVChyKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJncHUtdGltaW5nLWZyYW1lXCIse2NwdVRpbWU6dCxncHVUaW1lOm99KSksZS53aW5kb3cucGVyZm9ybWFuY2UubWFyayhcImZyYW1lLWdwdVwiLHtzdGFydFRpbWU6aSxkZXRhaWw6e2dwdVRpbWU6b319KX0sNTApfWlmKHRoaXMubGlzdGVucyhcImdwdS10aW1pbmctbGF5ZXJcIikpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbGxlY3RHcHVUaW1lcnMoKTtzZXRUaW1lb3V0KCgpPT57Y29uc3Qgcj10aGlzLnBhaW50ZXIucXVlcnlHcHVUaW1lcnModCk7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZ3B1LXRpbWluZy1sYXllclwiLHtsYXllclRpbWVzOnJ9KSl9LDUwKX1pZih0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWRlZmVycmVkLXJlbmRlclwiKSl7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29sbGVjdERlZmVycmVkUmVuZGVyR3B1UXVlcmllcygpO3NldFRpbWVvdXQoKCk9Pntjb25zdCByPXRoaXMucGFpbnRlci5xdWVyeUdwdVRpbWVEZWZlcnJlZFJlbmRlcih0KTt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJncHUtdGltaW5nLWRlZmVycmVkLXJlbmRlclwiLHtncHVUaW1lOnJ9KSl9LDUwKX1jb25zdCBsPXRoaXMuX3NvdXJjZXNEaXJ0eXx8dGhpcy5fc3R5bGVEaXJ0eXx8dGhpcy5fcGxhY2VtZW50RGlydHl8fHM7aWYobHx8dGhpcy5fcmVwYWludCl0aGlzLnRyaWdnZXJSZXBhaW50KCk7ZWxzZXtjb25zdCB0PSF0aGlzLmlzTW92aW5nKCkmJnRoaXMubG9hZGVkKCk7aWYodCYmKHM9dGhpcy5fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihpLCEwKSkscyl0aGlzLnRyaWdnZXJSZXBhaW50KCk7ZWxzZSBpZih0aGlzLl90cmlnZ2VyRnJhbWUoITEpLHQmJih0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJpZGxlXCIpKSx0aGlzLl9pc0luaXRpYWxMb2FkPSExLHRoaXMuc3BlZWRJbmRleFRpbWluZykpe2NvbnN0IHQ9dGhpcy5fY2FsY3VsYXRlU3BlZWRJbmRleCgpO3RoaXMuZmlyZShuZXcgZS5FdmVudChcInNwZWVkaW5kZXhjb21wbGV0ZWRcIix7c3BlZWRJbmRleDp0fSkpLHRoaXMuc3BlZWRJbmRleFRpbWluZz0hMX19IXRoaXMuX2xvYWRlZHx8dGhpcy5fZnVsbHlMb2FkZWR8fGx8fCh0aGlzLl9mdWxseUxvYWRlZD0hMCxlLkxpdmVQZXJmb3JtYW5jZVV0aWxzLm1hcmsoZS5QZXJmb3JtYW5jZU1hcmtlcnMuZnVsbExvYWQpLHRoaXMuX3BlcmZvcm1hbmNlTWV0cmljc0NvbGxlY3Rpb24mJmUucG9zdFBlcmZvcm1hbmNlRXZlbnQodGhpcy5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuLHt3aWR0aDp0aGlzLnBhaW50ZXIud2lkdGgsaGVpZ2h0OnRoaXMucGFpbnRlci5oZWlnaHQsaW50ZXJhY3Rpb25SYW5nZTp0aGlzLl9pbnRlcmFjdGlvblJhbmdlLHZpc2liaWxpdHlIaWRkZW46dGhpcy5fdmlzaWJpbGl0eUhpZGRlbix0ZXJyYWluRW5hYmxlZDohIXRoaXMucGFpbnRlci5zdHlsZS5nZXRUZXJyYWluKCksZm9nRW5hYmxlZDohIXRoaXMucGFpbnRlci5zdHlsZS5nZXRGb2coKSxwcm9qZWN0aW9uOnRoaXMucGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbix6b29tOnRoaXMudHJhbnNmb3JtLnpvb20scmVuZGVyZXI6dGhpcy5wYWludGVyLmNvbnRleHQucmVuZGVyZXIsdmVuZG9yOnRoaXMucGFpbnRlci5jb250ZXh0LnZlbmRvcn0pLHRoaXMuX2F1dGhlbnRpY2F0ZSgpKX1fZm9yY2VNYXJrZXJBbmRQb3B1cFVwZGF0ZShlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9tYXJrZXJzKWUmJiF0aGlzLmdldFJlbmRlcldvcmxkQ29waWVzKCkmJih0Ll9sbmdMYXQ9dC5fbG5nTGF0LndyYXAoKSksdC5fdXBkYXRlKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcG9wdXBzKSFlfHx0aGlzLmdldFJlbmRlcldvcmxkQ29waWVzKCl8fHQuX3RyYWNrUG9pbnRlcnx8KHQuX2xuZ0xhdD10Ll9sbmdMYXQud3JhcCgpKSx0Ll91cGRhdGUoKX1fdXBkYXRlQXZlcmFnZUVsZXZhdGlvbihlLHQ9ITEpe2NvbnN0IHI9ZT0+KHRoaXMudHJhbnNmb3JtLmF2ZXJhZ2VFbGV2YXRpb249ZSx0aGlzLl91cGRhdGUoITEpLCEwKTtpZighdGhpcy5wYWludGVyLmF2ZXJhZ2VFbGV2YXRpb25OZWVkc0Vhc2luZygpKXJldHVybiAwIT09dGhpcy50cmFuc2Zvcm0uYXZlcmFnZUVsZXZhdGlvbiYmcigwKTtpZigodHx8ZS10aGlzLl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdD41MDApJiYhdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5pc0Vhc2luZyhlKSl7Y29uc3QgdD10aGlzLnRyYW5zZm9ybS5hdmVyYWdlRWxldmF0aW9uO2xldCBuPXRoaXMudHJhbnNmb3JtLnNhbXBsZUF2ZXJhZ2VFbGV2YXRpb24oKSxpPSExO3RoaXMudHJhbnNmb3JtLmVsZXZhdGlvbiYmKGk9dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpIT09dGhpcy5fYXZlcmFnZUVsZXZhdGlvbkV4YWdnZXJhdGlvbix0aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uPXRoaXMudHJhbnNmb3JtLmVsZXZhdGlvbi5leGFnZ2VyYXRpb24oKSksaXNOYU4obik/bj0wOnRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0PWU7Y29uc3Qgbz1NYXRoLmFicyh0LW4pO2lmKG8+MSl7aWYodGhpcy5faXNJbml0aWFsTG9hZHx8aSlyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5qdW1wVG8obikscihuKTt0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmVhc2VUbyhuLGUsMzAwKX1lbHNlIGlmKG8+MWUtNClyZXR1cm4gdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5qdW1wVG8obikscihuKX1yZXR1cm4hIXRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24uaXNFYXNpbmcoZSkmJnIodGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5nZXRWYWx1ZShlKSl9X2F1dGhlbnRpY2F0ZSgpe2UuZ2V0TWFwU2Vzc2lvbkFQSSh0aGlzLl9nZXRNYXBJZCgpLHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9za3VUb2tlbix0aGlzLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4sdD0+e2lmKHQmJih0Lm1lc3NhZ2U9PT1lLkFVVEhfRVJSX01TR3x8NDAxPT09dC5zdGF0dXMpKXtjb25zdCB0PXRoaXMucGFpbnRlci5jb250ZXh0LmdsO2Uuc3RvcmVBdXRoU3RhdGUodCwhMSksdGhpcy5fbG9nb0NvbnRyb2wgaW5zdGFuY2VvZiBKaSYmdGhpcy5fbG9nb0NvbnRyb2wuX3VwZGF0ZUxvZ28oKSx0JiZ0LmNsZWFyKHQuREVQVEhfQlVGRkVSX0JJVHx0LkNPTE9SX0JVRkZFUl9CSVR8dC5TVEVOQ0lMX0JVRkZFUl9CSVQpLHRoaXMuX3NpbGVuY2VBdXRoRXJyb3JzfHx0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJBIHZhbGlkIE1hcGJveCBhY2Nlc3MgdG9rZW4gaXMgcmVxdWlyZWQgdG8gdXNlIE1hcGJveCBHTCBKUy4gVG8gY3JlYXRlIGFuIGFjY291bnQgb3IgYSBuZXcgYWNjZXNzIHRva2VuLCB2aXNpdCBodHRwczovL2FjY291bnQubWFwYm94LmNvbS9cIikpKX19KSxlLnBvc3RNYXBMb2FkRXZlbnQodGhpcy5fZ2V0TWFwSWQoKSx0aGlzLl9yZXF1ZXN0TWFuYWdlci5fc2t1VG9rZW4sdGhpcy5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VuLCgpPT57fSl9X3VwZGF0ZVRlcnJhaW4oKXt0aGlzLnBhaW50ZXIudXBkYXRlVGVycmFpbih0aGlzLnN0eWxlLHRoaXMuaXNNb3ZpbmcoKXx8dGhpcy5pc1JvdGF0aW5nKCl8fHRoaXMuaXNab29taW5nKCkpfV9jYWxjdWxhdGVTcGVlZEluZGV4KCl7Y29uc3QgZT10aGlzLnBhaW50ZXIuY2FudmFzQ29weSgpLHQ9dGhpcy5wYWludGVyLmdldENhbnZhc0NvcGllc0FuZFRpbWVzdGFtcHMoKTt0LnRpbWVTdGFtcHMucHVzaChwZXJmb3JtYW5jZS5ub3coKSk7Y29uc3Qgcj10aGlzLnBhaW50ZXIuY29udGV4dC5nbCxuPXIuY3JlYXRlRnJhbWVidWZmZXIoKTtmdW5jdGlvbiBpKGUpe3IuZnJhbWVidWZmZXJUZXh0dXJlMkQoci5GUkFNRUJVRkZFUixyLkNPTE9SX0FUVEFDSE1FTlQwLHIuVEVYVFVSRV8yRCxlLDApO2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkoci5kcmF3aW5nQnVmZmVyV2lkdGgqci5kcmF3aW5nQnVmZmVySGVpZ2h0KjQpO3JldHVybiByLnJlYWRQaXhlbHMoMCwwLHIuZHJhd2luZ0J1ZmZlcldpZHRoLHIuZHJhd2luZ0J1ZmZlckhlaWdodCxyLlJHQkEsci5VTlNJR05FRF9CWVRFLHQpLHR9cmV0dXJuIHIuYmluZEZyYW1lYnVmZmVyKHIuRlJBTUVCVUZGRVIsbiksdGhpcy5fY2FudmFzUGl4ZWxDb21wYXJpc29uKGkoZSksdC5jYW52YXNDb3BpZXMubWFwKGkpLHQudGltZVN0YW1wcyl9X2NhbnZhc1BpeGVsQ29tcGFyaXNvbihlLHQscil7bGV0IG49clsxXS1yWzBdO2NvbnN0IGk9ZS5sZW5ndGgvNDtmb3IobGV0IG89MDtvPHQubGVuZ3RoO28rKyl7Y29uc3QgYT10W29dO2xldCBzPTA7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aDt0Kz00KWFbdF09PT1lW3RdJiZhW3QrMV09PT1lW3QrMV0mJmFbdCsyXT09PWVbdCsyXSYmYVt0KzNdPT09ZVt0KzNdJiYocys9MSk7bis9KHJbbysyXS1yW28rMV0pKigxLXMvaSl9cmV0dXJuIG59cmVtb3ZlKCl7dGhpcy5faGFzaCYmdGhpcy5faGFzaC5yZW1vdmUoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9jb250cm9scyllLm9uUmVtb3ZlKHRoaXMpO3RoaXMuX2NvbnRyb2xzPVtdLHRoaXMuX2ZyYW1lJiYodGhpcy5fZnJhbWUuY2FuY2VsKCksdGhpcy5fZnJhbWU9bnVsbCksdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmNsZWFyKCksdGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlLmNsZWFyKCksdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5kZXN0cm95KCksdGhpcy5wYWludGVyLmRlc3Ryb3koKSx0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLmRlc3Ryb3koKSx0aGlzLmhhbmRsZXJzPXZvaWQgMCx0aGlzLnNldFN0eWxlKG51bGwpLHZvaWQgMCE9PWUud2luZG93JiYoZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2VcIix0aGlzLl9vbldpbmRvd1Jlc2l6ZSwhMSksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLHRoaXMuX29uV2luZG93T25saW5lLCExKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSwhMSkpO2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQuZ2wuZ2V0RXh0ZW5zaW9uKFwiV0VCR0xfbG9zZV9jb250ZXh0XCIpO3QmJnQubG9zZUNvbnRleHQoKSx0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dGxvc3RcIix0aGlzLl9jb250ZXh0TG9zdCwhMSksdGhpcy5fY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ3ZWJnbGNvbnRleHRyZXN0b3JlZFwiLHRoaXMuX2NvbnRleHRSZXN0b3JlZCwhMSksY28odGhpcy5fY2FudmFzQ29udGFpbmVyKSxjbyh0aGlzLl9jb250cm9sQ29udGFpbmVyKSxjbyh0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5KSx0aGlzLl9jYW52YXM9dm9pZCAwLHRoaXMuX2NhbnZhc0NvbnRhaW5lcj12b2lkIDAsdGhpcy5fY29udHJvbENvbnRhaW5lcj12b2lkIDAsdGhpcy5fbWlzc2luZ0NTU0NhbmFyeT12b2lkIDAsdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1tYXBcIiksdGhpcy5fY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLl9vbk1hcFNjcm9sbCwhMSksZS5yZW1vdmVBdXRoU3RhdGUodGhpcy5wYWludGVyLmNvbnRleHQuZ2wpLHRoaXMuX3JlbW92ZWQ9ITAsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicmVtb3ZlXCIpKX10cmlnZ2VyUmVwYWludCgpe3RoaXMuX3RyaWdnZXJGcmFtZSghMCl9X3RyaWdnZXJGcmFtZSh0KXt0aGlzLl9yZW5kZXJOZXh0RnJhbWU9dGhpcy5fcmVuZGVyTmV4dEZyYW1lfHx0LHRoaXMuc3R5bGUmJiF0aGlzLl9mcmFtZSYmKHRoaXMuX2ZyYW1lPWUuZXhwb3J0ZWQuZnJhbWUoZT0+e2NvbnN0IHQ9ISF0aGlzLl9yZW5kZXJOZXh0RnJhbWU7dGhpcy5fZnJhbWU9bnVsbCx0aGlzLl9yZW5kZXJOZXh0RnJhbWU9bnVsbCx0JiZ0aGlzLl9yZW5kZXIoZSl9KSl9X3ByZWxvYWRUaWxlcyh0KXtjb25zdCByPXRoaXMuc3R5bGU/T2JqZWN0LnZhbHVlcyh0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXMpOltdO3JldHVybiBlLmFzeW5jQWxsKHIsKGUscik9PmUuX3ByZWxvYWRUaWxlcyh0LHIpLCgpPT57dGhpcy50cmlnZ2VyUmVwYWludCgpfSksdGhpc31fb25XaW5kb3dPbmxpbmUoKXt0aGlzLl91cGRhdGUoKX1fb25XaW5kb3dSZXNpemUoZSl7dGhpcy5fdHJhY2tSZXNpemUmJnRoaXMucmVzaXplKHtvcmlnaW5hbEV2ZW50OmV9KS5fdXBkYXRlKCl9X29uVmlzaWJpbGl0eUNoYW5nZSgpe1wiaGlkZGVuXCI9PT1lLndpbmRvdy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUmJnRoaXMuX3Zpc2liaWxpdHlIaWRkZW4rK31nZXQgc2hvd1RpbGVCb3VuZGFyaWVzKCl7cmV0dXJuISF0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXN9c2V0IHNob3dUaWxlQm91bmRhcmllcyhlKXt0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXMhPT1lJiYodGhpcy5fc2hvd1RpbGVCb3VuZGFyaWVzPWUsdGhpcy5fdXBkYXRlKCkpfWdldCBzaG93VGVycmFpbldpcmVmcmFtZSgpe3JldHVybiEhdGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWV9c2V0IHNob3dUZXJyYWluV2lyZWZyYW1lKGUpe3RoaXMuX3Nob3dUZXJyYWluV2lyZWZyYW1lIT09ZSYmKHRoaXMuX3Nob3dUZXJyYWluV2lyZWZyYW1lPWUsdGhpcy5fdXBkYXRlKCkpfWdldCBzcGVlZEluZGV4VGltaW5nKCl7cmV0dXJuISF0aGlzLl9zcGVlZEluZGV4VGltaW5nfXNldCBzcGVlZEluZGV4VGltaW5nKGUpe3RoaXMuX3NwZWVkSW5kZXhUaW1pbmchPT1lJiYodGhpcy5fc3BlZWRJbmRleFRpbWluZz1lLHRoaXMuX3VwZGF0ZSgpKX1nZXQgc2hvd1BhZGRpbmcoKXtyZXR1cm4hIXRoaXMuX3Nob3dQYWRkaW5nfXNldCBzaG93UGFkZGluZyhlKXt0aGlzLl9zaG93UGFkZGluZyE9PWUmJih0aGlzLl9zaG93UGFkZGluZz1lLHRoaXMuX3VwZGF0ZSgpKX1nZXQgc2hvd0NvbGxpc2lvbkJveGVzKCl7cmV0dXJuISF0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXN9c2V0IHNob3dDb2xsaXNpb25Cb3hlcyhlKXt0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXMhPT1lJiYodGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzPWUsZT90aGlzLnN0eWxlLl9nZW5lcmF0ZUNvbGxpc2lvbkJveGVzKCk6dGhpcy5fdXBkYXRlKCkpfWdldCBzaG93T3ZlcmRyYXdJbnNwZWN0b3IoKXtyZXR1cm4hIXRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcn1zZXQgc2hvd092ZXJkcmF3SW5zcGVjdG9yKGUpe3RoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciE9PWUmJih0aGlzLl9zaG93T3ZlcmRyYXdJbnNwZWN0b3I9ZSx0aGlzLl91cGRhdGUoKSl9Z2V0IHJlcGFpbnQoKXtyZXR1cm4hIXRoaXMuX3JlcGFpbnR9c2V0IHJlcGFpbnQoZSl7dGhpcy5fcmVwYWludCE9PWUmJih0aGlzLl9yZXBhaW50PWUsdGhpcy50cmlnZ2VyUmVwYWludCgpKX1nZXQgdmVydGljZXMoKXtyZXR1cm4hIXRoaXMuX3ZlcnRpY2VzfXNldCB2ZXJ0aWNlcyhlKXt0aGlzLl92ZXJ0aWNlcz1lLHRoaXMuX3VwZGF0ZSgpfWdldCBzaG93VGlsZUFBQkJzKCl7cmV0dXJuISF0aGlzLl9zaG93VGlsZUFBQkJzfXNldCBzaG93VGlsZUFBQkJzKGUpe3RoaXMuX3Nob3dUaWxlQUFCQnMhPT1lJiYodGhpcy5fc2hvd1RpbGVBQUJCcz1lLGUmJnRoaXMuX3VwZGF0ZSgpKX1fc2V0Q2FjaGVMaW1pdHModCxyKXtlLnNldENhY2hlTGltaXRzKHQscil9Z2V0IHZlcnNpb24oKXtyZXR1cm4gZS52ZXJzaW9ufX0sTmF2aWdhdGlvbkNvbnRyb2w6Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5vcHRpb25zPWUuZXh0ZW5kKHt9LHVvLHQpLHRoaXMuX2NvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBcIiksdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjb250ZXh0bWVudVwiLGU9PmUucHJldmVudERlZmF1bHQoKSksdGhpcy5vcHRpb25zLnNob3dab29tJiYoZS5iaW5kQWxsKFtcIl9zZXRCdXR0b25UaXRsZVwiLFwiX3VwZGF0ZVpvb21CdXR0b25zXCJdLHRoaXMpLHRoaXMuX3pvb21JbkJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24oXCJtYXBib3hnbC1jdHJsLXpvb20taW5cIixlPT57dGhpcy5fbWFwJiZ0aGlzLl9tYXAuem9vbUluKHt9LHtvcmlnaW5hbEV2ZW50OmV9KX0pLG8oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl96b29tSW5CdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMuX3pvb21PdXRCdXR0b249dGhpcy5fY3JlYXRlQnV0dG9uKFwibWFwYm94Z2wtY3RybC16b29tLW91dFwiLGU9Pnt0aGlzLl9tYXAmJnRoaXMuX21hcC56b29tT3V0KHt9LHtvcmlnaW5hbEV2ZW50OmV9KX0pLG8oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl96b29tT3V0QnV0dG9uKS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYoZS5iaW5kQWxsKFtcIl9yb3RhdGVDb21wYXNzQXJyb3dcIl0sdGhpcyksdGhpcy5fY29tcGFzcz10aGlzLl9jcmVhdGVCdXR0b24oXCJtYXBib3hnbC1jdHJsLWNvbXBhc3NcIixlPT57Y29uc3QgdD10aGlzLl9tYXA7dCYmKHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaD90LnJlc2V0Tm9ydGhQaXRjaCh7fSx7b3JpZ2luYWxFdmVudDplfSk6dC5yZXNldE5vcnRoKHt9LHtvcmlnaW5hbEV2ZW50OmV9KSl9KSx0aGlzLl9jb21wYXNzSWNvbj1vKFwic3BhblwiLFwibWFwYm94Z2wtY3RybC1pY29uXCIsdGhpcy5fY29tcGFzcyksdGhpcy5fY29tcGFzc0ljb24uc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIikpfV91cGRhdGVab29tQnV0dG9ucygpe2NvbnN0IGU9dGhpcy5fbWFwO2lmKCFlKXJldHVybjtjb25zdCB0PWUuZ2V0Wm9vbSgpLHI9dD09PWUuZ2V0TWF4Wm9vbSgpLG49dD09PWUuZ2V0TWluWm9vbSgpO3RoaXMuX3pvb21JbkJ1dHRvbi5kaXNhYmxlZD1yLHRoaXMuX3pvb21PdXRCdXR0b24uZGlzYWJsZWQ9bix0aGlzLl96b29tSW5CdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiLHIudG9TdHJpbmcoKSksdGhpcy5fem9vbU91dEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsbi50b1N0cmluZygpKX1fcm90YXRlQ29tcGFzc0Fycm93KCl7Y29uc3QgZT10aGlzLl9tYXA7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoP2BzY2FsZSgkezEvTWF0aC5wb3coTWF0aC5jb3MoZS50cmFuc2Zvcm0ucGl0Y2gqKE1hdGguUEkvMTgwKSksLjUpfSkgcm90YXRlWCgke2UudHJhbnNmb3JtLnBpdGNofWRlZykgcm90YXRlWigke2UudHJhbnNmb3JtLmFuZ2xlKigxODAvTWF0aC5QSSl9ZGVnKWA6YHJvdGF0ZSgke2UudHJhbnNmb3JtLmFuZ2xlKigxODAvTWF0aC5QSSl9ZGVnKWA7ZS5fcmVxdWVzdERvbVRhc2soKCk9Pnt0aGlzLl9jb21wYXNzSWNvbiYmKHRoaXMuX2NvbXBhc3NJY29uLnN0eWxlLnRyYW5zZm9ybT10KX0pfW9uQWRkKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJih0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl96b29tSW5CdXR0b24sXCJab29tSW5cIiksdGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fem9vbU91dEJ1dHRvbixcIlpvb21PdXRcIiksZS5vbihcInpvb21cIix0aGlzLl91cGRhdGVab29tQnV0dG9ucyksdGhpcy5fdXBkYXRlWm9vbUJ1dHRvbnMoKSksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYodGhpcy5fc2V0QnV0dG9uVGl0bGUodGhpcy5fY29tcGFzcyxcIlJlc2V0QmVhcmluZ1wiKSx0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2gmJmUub24oXCJwaXRjaFwiLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyksZS5vbihcInJvdGF0ZVwiLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyksdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KCksdGhpcy5faGFuZGxlcj1uZXcgaG8oZSx0aGlzLl9jb21wYXNzLHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCkpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe2NvbnN0IGU9dGhpcy5fbWFwO2UmJih0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5vcHRpb25zLnNob3dab29tJiZlLm9mZihcInpvb21cIix0aGlzLl91cGRhdGVab29tQnV0dG9ucyksdGhpcy5vcHRpb25zLnNob3dDb21wYXNzJiYodGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoJiZlLm9mZihcInBpdGNoXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSxlLm9mZihcInJvdGF0ZVwiLHRoaXMuX3JvdGF0ZUNvbXBhc3NBcnJvdyksdGhpcy5faGFuZGxlciYmdGhpcy5faGFuZGxlci5vZmYoKSx0aGlzLl9oYW5kbGVyPXZvaWQgMCksdGhpcy5fbWFwPXZvaWQgMCl9X2NyZWF0ZUJ1dHRvbihlLHQpe2NvbnN0IHI9byhcImJ1dHRvblwiLGUsdGhpcy5fY29udGFpbmVyKTtyZXR1cm4gci50eXBlPVwiYnV0dG9uXCIsci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0KSxyfV9zZXRCdXR0b25UaXRsZShlLHQpe2lmKCF0aGlzLl9tYXApcmV0dXJuO2NvbnN0IHI9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIk5hdmlnYXRpb25Db250cm9sLlwiK3QpO2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLHIpLGUuZmlyc3RFbGVtZW50Q2hpbGQmJmUuZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixyKX19LEdlb2xvY2F0ZUNvbnRyb2w6Y2xhc3MgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLm9wdGlvbnM9ZS5leHRlbmQoe2dlb2xvY2F0aW9uOmUud2luZG93Lm5hdmlnYXRvci5nZW9sb2NhdGlvbn0scG8sdCksZS5iaW5kQWxsKFtcIl9vblN1Y2Nlc3NcIixcIl9vbkVycm9yXCIsXCJfb25ab29tXCIsXCJfZmluaXNoXCIsXCJfc2V0dXBVSVwiLFwiX3VwZGF0ZUNhbWVyYVwiLFwiX3VwZGF0ZU1hcmtlclwiLFwiX3VwZGF0ZU1hcmtlclJvdGF0aW9uXCIsXCJfb25EZXZpY2VPcmllbnRhdGlvblwiXSx0aGlzKSx0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvblRocm90dGxlZD1Kbih0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvbiwyMCksdGhpcy5fbnVtYmVyT2ZXYXRjaGVzPTB9b25BZGQoZSl7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMuX2NvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBcIiksdGhpcy5fY2hlY2tHZW9sb2NhdGlvblN1cHBvcnQodGhpcy5fc2V0dXBVSSksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEJiYodGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dm9pZCAwKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyJiZ0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIucmVtb3ZlKCksdGhpcy5vcHRpb25zLnNob3dBY2N1cmFjeUNpcmNsZSYmdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXImJnRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnJlbW92ZSgpLHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXAub2ZmKFwiem9vbVwiLHRoaXMuX29uWm9vbSksdGhpcy5fbWFwPXZvaWQgMCx0aGlzLl9udW1iZXJPZldhdGNoZXM9MCx0aGlzLl9ub1RpbWVvdXQ9ITF9X2NoZWNrR2VvbG9jYXRpb25TdXBwb3J0KHQpe2NvbnN0IHI9KGU9ISF0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24pPT57dGhpcy5fc3VwcG9ydHNHZW9sb2NhdGlvbj1lLHQoZSl9O3ZvaWQgMCE9PXRoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb24/dCh0aGlzLl9zdXBwb3J0c0dlb2xvY2F0aW9uKTp2b2lkIDAhPT1lLndpbmRvdy5uYXZpZ2F0b3IucGVybWlzc2lvbnM/ZS53aW5kb3cubmF2aWdhdG9yLnBlcm1pc3Npb25zLnF1ZXJ5KHtuYW1lOlwiZ2VvbG9jYXRpb25cIn0pLnRoZW4oZT0+cihcImRlbmllZFwiIT09ZS5zdGF0ZSkpLmNhdGNoKCgpPT5yKCkpOnIoKX1faXNPdXRPZk1hcE1heEJvdW5kcyhlKXtjb25zdCB0PXRoaXMuX21hcC5nZXRNYXhCb3VuZHMoKSxyPWUuY29vcmRzO3JldHVybiEhdCYmKHIubG9uZ2l0dWRlPHQuZ2V0V2VzdCgpfHxyLmxvbmdpdHVkZT50LmdldEVhc3QoKXx8ci5sYXRpdHVkZTx0LmdldFNvdXRoKCl8fHIubGF0aXR1ZGU+dC5nZXROb3J0aCgpKX1fc2V0RXJyb3JTdGF0ZSgpe3N3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJXQUlUSU5HX0FDVElWRVwiOnRoaXMuX3dhdGNoU3RhdGU9XCJBQ1RJVkVfRVJST1JcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKTticmVhaztjYXNlXCJBQ1RJVkVfTE9DS1wiOnRoaXMuX3dhdGNoU3RhdGU9XCJBQ1RJVkVfRVJST1JcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIik7YnJlYWs7Y2FzZVwiQkFDS0dST1VORFwiOnRoaXMuX3dhdGNoU3RhdGU9XCJCQUNLR1JPVU5EX0VSUk9SXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIil9fV9vblN1Y2Nlc3ModCl7aWYodGhpcy5fbWFwKXtpZih0aGlzLl9pc091dE9mTWFwTWF4Qm91bmRzKHQpKXJldHVybiB0aGlzLl9zZXRFcnJvclN0YXRlKCksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwib3V0b2ZtYXhib3VuZHNcIix0KSksdGhpcy5fdXBkYXRlTWFya2VyKCksdm9pZCB0aGlzLl9maW5pc2goKTtpZih0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pc3dpdGNoKHRoaXMuX2xhc3RLbm93blBvc2l0aW9uPXQsdGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZVwiV0FJVElOR19BQ1RJVkVcIjpjYXNlXCJBQ1RJVkVfTE9DS1wiOmNhc2VcIkFDVElWRV9FUlJPUlwiOnRoaXMuX3dhdGNoU3RhdGU9XCJBQ1RJVkVfTE9DS1wiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6Y2FzZVwiQkFDS0dST1VORF9FUlJPUlwiOnRoaXMuX3dhdGNoU3RhdGU9XCJCQUNLR1JPVU5EXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIil9dGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJlwiT0ZGXCIhPT10aGlzLl93YXRjaFN0YXRlJiZ0aGlzLl91cGRhdGVNYXJrZXIodCksdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiZcIkFDVElWRV9MT0NLXCIhPT10aGlzLl93YXRjaFN0YXRlfHx0aGlzLl91cGRhdGVDYW1lcmEodCksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlXCIpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImdlb2xvY2F0ZVwiLHQpKSx0aGlzLl9maW5pc2goKX19X3VwZGF0ZUNhbWVyYSh0KXtjb25zdCByPW5ldyBlLkxuZ0xhdCh0LmNvb3Jkcy5sb25naXR1ZGUsdC5jb29yZHMubGF0aXR1ZGUpLG49dC5jb29yZHMuYWNjdXJhY3ksaT10aGlzLl9tYXAuZ2V0QmVhcmluZygpLG89ZS5leHRlbmQoe2JlYXJpbmc6aX0sdGhpcy5vcHRpb25zLmZpdEJvdW5kc09wdGlvbnMpO3RoaXMuX21hcC5maXRCb3VuZHMoci50b0JvdW5kcyhuKSxvLHtnZW9sb2NhdGVTb3VyY2U6ITB9KX1fdXBkYXRlTWFya2VyKHQpe2lmKHQpe2NvbnN0IHI9bmV3IGUuTG5nTGF0KHQuY29vcmRzLmxvbmdpdHVkZSx0LmNvb3Jkcy5sYXRpdHVkZSk7dGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIuc2V0TG5nTGF0KHIpLmFkZFRvKHRoaXMuX21hcCksdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnNldExuZ0xhdChyKS5hZGRUbyh0aGlzLl9tYXApLHRoaXMuX2FjY3VyYWN5PXQuY29vcmRzLmFjY3VyYWN5LHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl91cGRhdGVDaXJjbGVSYWRpdXMoKX1lbHNlIHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKSx0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlci5yZW1vdmUoKX1fdXBkYXRlQ2lyY2xlUmFkaXVzKCl7Y29uc3QgdD10aGlzLl9tYXAudHJhbnNmb3JtLHI9ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0Ll9jZW50ZXIubGF0KSp0LndvcmxkU2l6ZSxuPU1hdGguY2VpbCgyKnRoaXMuX2FjY3VyYWN5KnIpO3RoaXMuX2NpcmNsZUVsZW1lbnQuc3R5bGUud2lkdGg9bitcInB4XCIsdGhpcy5fY2lyY2xlRWxlbWVudC5zdHlsZS5oZWlnaHQ9bitcInB4XCJ9X29uWm9vbSgpe3RoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl91cGRhdGVDaXJjbGVSYWRpdXMoKX1fdXBkYXRlTWFya2VyUm90YXRpb24oKXt0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXImJlwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl9oZWFkaW5nPyh0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0Um90YXRpb24odGhpcy5faGVhZGluZyksdGhpcy5fZG90RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmdcIikpOih0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZ1wiKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0Um90YXRpb24oMCkpfV9vbkVycm9yKHQpe2lmKHRoaXMuX21hcCl7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKWlmKDE9PT10LmNvZGUpe3RoaXMuX3dhdGNoU3RhdGU9XCJPRkZcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3JcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZC1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uZGlzYWJsZWQ9ITA7Y29uc3QgZT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZVwiKTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGUpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsZSksdm9pZCAwIT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEJiZ0aGlzLl9jbGVhcldhdGNoKCl9ZWxzZXtpZigzPT09dC5jb2RlJiZ0aGlzLl9ub1RpbWVvdXQpcmV0dXJuO3RoaXMuX3NldEVycm9yU3RhdGUoKX1cIk9GRlwiIT09dGhpcy5fd2F0Y2hTdGF0ZSYmdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlXCIpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImVycm9yXCIsdCkpLHRoaXMuX2ZpbmlzaCgpfX1fZmluaXNoKCl7dGhpcy5fdGltZW91dElkJiZjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dElkKSx0aGlzLl90aW1lb3V0SWQ9dm9pZCAwfV9zZXR1cFVJKHQpe2lmKHRoaXMuX2NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIixlPT5lLnByZXZlbnREZWZhdWx0KCkpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbj1vKFwiYnV0dG9uXCIsXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZVwiLHRoaXMuX2NvbnRhaW5lciksbyhcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbikuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnR5cGU9XCJidXR0b25cIiwhMT09PXQpe2Uud2Fybk9uY2UoXCJHZW9sb2NhdGlvbiBzdXBwb3J0IGlzIG5vdCBhdmFpbGFibGUgc28gdGhlIEdlb2xvY2F0ZUNvbnRyb2wgd2lsbCBiZSBkaXNhYmxlZC5cIik7Y29uc3QgdD10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiR2VvbG9jYXRlQ29udHJvbC5Mb2NhdGlvbk5vdEF2YWlsYWJsZVwiKTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uZGlzYWJsZWQ9ITAsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIix0KSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQmJnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLHQpfWVsc2V7Y29uc3QgZT10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiR2VvbG9jYXRlQ29udHJvbC5GaW5kTXlMb2NhdGlvblwiKTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLGUpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsZSl9dGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiYodGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLFwiZmFsc2VcIiksdGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmKHRoaXMuX2RvdEVsZW1lbnQ9byhcImRpdlwiLFwibWFwYm94Z2wtdXNlci1sb2NhdGlvblwiKSx0aGlzLl9kb3RFbGVtZW50LmFwcGVuZENoaWxkKG8oXCJkaXZcIixcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90XCIpKSx0aGlzLl9kb3RFbGVtZW50LmFwcGVuZENoaWxkKG8oXCJkaXZcIixcIm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZ1wiKSksdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyPW5ldyBybyh7ZWxlbWVudDp0aGlzLl9kb3RFbGVtZW50LHJvdGF0aW9uQWxpZ25tZW50OlwibWFwXCIscGl0Y2hBbGlnbm1lbnQ6XCJtYXBcIn0pLHRoaXMuX2NpcmNsZUVsZW1lbnQ9byhcImRpdlwiLFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1hY2N1cmFjeS1jaXJjbGVcIiksdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXI9bmV3IHJvKHtlbGVtZW50OnRoaXMuX2NpcmNsZUVsZW1lbnQscGl0Y2hBbGlnbm1lbnQ6XCJtYXBcIn0pLHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmKHRoaXMuX3dhdGNoU3RhdGU9XCJPRkZcIiksdGhpcy5fbWFwLm9uKFwiem9vbVwiLHRoaXMuX29uWm9vbSkpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLnRyaWdnZXIuYmluZCh0aGlzKSksdGhpcy5fc2V0dXA9ITAsdGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uJiZ0aGlzLl9tYXAub24oXCJtb3Zlc3RhcnRcIix0PT57dC5nZW9sb2NhdGVTb3VyY2V8fFwiQUNUSVZFX0xPQ0tcIiE9PXRoaXMuX3dhdGNoU3RhdGV8fHQub3JpZ2luYWxFdmVudCYmXCJyZXNpemVcIj09PXQub3JpZ2luYWxFdmVudC50eXBlfHwodGhpcy5fd2F0Y2hTdGF0ZT1cIkJBQ0tHUk9VTkRcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwidHJhY2t1c2VybG9jYXRpb25lbmRcIikpKX0pfV9vbkRldmljZU9yaWVudGF0aW9uKGUpe3RoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlciYmKGUud2Via2l0Q29tcGFzc0hlYWRpbmc/dGhpcy5faGVhZGluZz1lLndlYmtpdENvbXBhc3NIZWFkaW5nOiEwPT09ZS5hYnNvbHV0ZSYmKHRoaXMuX2hlYWRpbmc9LTEqZS5hbHBoYSksdGhpcy5fdXBkYXRlTWFya2VyUm90YXRpb25UaHJvdHRsZWQoKSl9dHJpZ2dlcigpe2lmKCF0aGlzLl9zZXR1cClyZXR1cm4gZS53YXJuT25jZShcIkdlb2xvY2F0ZSBjb250cm9sIHRyaWdnZXJlZCBiZWZvcmUgYWRkZWQgdG8gYSBtYXBcIiksITE7aWYodGhpcy5vcHRpb25zLnRyYWNrVXNlckxvY2F0aW9uKXtzd2l0Y2godGhpcy5fd2F0Y2hTdGF0ZSl7Y2FzZVwiT0ZGXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIldBSVRJTkdfQUNUSVZFXCIsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwidHJhY2t1c2VybG9jYXRpb25zdGFydFwiKSk7YnJlYWs7Y2FzZVwiV0FJVElOR19BQ1RJVkVcIjpjYXNlXCJBQ1RJVkVfTE9DS1wiOmNhc2VcIkFDVElWRV9FUlJPUlwiOmNhc2VcIkJBQ0tHUk9VTkRfRVJST1JcIjp0aGlzLl9udW1iZXJPZldhdGNoZXMtLSx0aGlzLl9ub1RpbWVvdXQ9ITEsdGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcInRyYWNrdXNlcmxvY2F0aW9uZW5kXCIpKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9MT0NLXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2xhc3RLbm93blBvc2l0aW9uJiZ0aGlzLl91cGRhdGVDYW1lcmEodGhpcy5fbGFzdEtub3duUG9zaXRpb24pLHRoaXMuZmlyZShuZXcgZS5FdmVudChcInRyYWNrdXNlcmxvY2F0aW9uc3RhcnRcIikpfXN3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJXQUlUSU5HX0FDVElWRVwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKTticmVhaztjYXNlXCJBQ1RJVkVfTE9DS1wiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpO2JyZWFrO2Nhc2VcIkFDVElWRV9FUlJPUlwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRfRVJST1JcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpfWlmKFwiT0ZGXCI9PT10aGlzLl93YXRjaFN0YXRlJiZ2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpdGhpcy5fY2xlYXJXYXRjaCgpO2Vsc2UgaWYodm9pZCAwPT09dGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKXtsZXQgZTt0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLFwidHJ1ZVwiKSx0aGlzLl9udW1iZXJPZldhdGNoZXMrKyx0aGlzLl9udW1iZXJPZldhdGNoZXM+MT8oZT17bWF4aW11bUFnZTo2ZTUsdGltZW91dDowfSx0aGlzLl9ub1RpbWVvdXQ9ITApOihlPXRoaXMub3B0aW9ucy5wb3NpdGlvbk9wdGlvbnMsdGhpcy5fbm9UaW1lb3V0PSExKSx0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQ9dGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLndhdGNoUG9zaXRpb24odGhpcy5fb25TdWNjZXNzLHRoaXMuX29uRXJyb3IsZSksdGhpcy5vcHRpb25zLnNob3dVc2VySGVhZGluZyYmdGhpcy5fYWRkRGV2aWNlT3JpZW50YXRpb25MaXN0ZW5lcigpfX1lbHNlIHRoaXMub3B0aW9ucy5nZW9sb2NhdGlvbi5nZXRDdXJyZW50UG9zaXRpb24odGhpcy5fb25TdWNjZXNzLHRoaXMuX29uRXJyb3IsdGhpcy5vcHRpb25zLnBvc2l0aW9uT3B0aW9ucyksdGhpcy5fdGltZW91dElkPXNldFRpbWVvdXQodGhpcy5fZmluaXNoLDFlNCk7cmV0dXJuITB9X2FkZERldmljZU9yaWVudGF0aW9uTGlzdGVuZXIoKXtjb25zdCB0PSgpPT57ZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9uZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZVwiaW4gZS53aW5kb3c/XCJkZXZpY2VvcmllbnRhdGlvbmFic29sdXRlXCI6XCJkZXZpY2VvcmllbnRhdGlvblwiLHRoaXMuX29uRGV2aWNlT3JpZW50YXRpb24pfTt2b2lkIDAhPT1lLndpbmRvdy5EZXZpY2VNb3Rpb25FdmVudCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS53aW5kb3cuRGV2aWNlTW90aW9uRXZlbnQucmVxdWVzdFBlcm1pc3Npb24/RGV2aWNlT3JpZW50YXRpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4oZT0+e1wiZ3JhbnRlZFwiPT09ZSYmdCgpfSkuY2F0Y2goY29uc29sZS5lcnJvcik6dCgpfV9jbGVhcldhdGNoKCl7dGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLmNsZWFyV2F0Y2godGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25cIix0aGlzLl9vbkRldmljZU9yaWVudGF0aW9uKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiZGV2aWNlb3JpZW50YXRpb25hYnNvbHV0ZVwiLHRoaXMuX29uRGV2aWNlT3JpZW50YXRpb24pLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD12b2lkIDAsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIixcImZhbHNlXCIpLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl91cGRhdGVNYXJrZXIobnVsbCl9fSxBdHRyaWJ1dGlvbkNvbnRyb2w6S2ksU2NhbGVDb250cm9sOmNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMub3B0aW9ucz1lLmV4dGVuZCh7fSxmbyx0KSxmdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KFwiZW5cIix7c3R5bGU6XCJ1bml0XCIsdW5pdERpc3BsYXk6XCJuYXJyb3dcIix1bml0OlwibWV0ZXJcIn0pLCEwfWNhdGNoKGUpe3JldHVybiExfX0oKXx8KHRoaXMuX3NldFNjYWxlPW1vLmJpbmQodGhpcykpLGUuYmluZEFsbChbXCJfdXBkYXRlXCIsXCJfc2V0U2NhbGVcIixcInNldFVuaXRcIl0sdGhpcyl9Z2V0RGVmYXVsdFBvc2l0aW9uKCl7cmV0dXJuXCJib3R0b20tbGVmdFwifV91cGRhdGUoKXtjb25zdCBlPXRoaXMub3B0aW9ucy5tYXhXaWR0aHx8MTAwLHQ9dGhpcy5fbWFwLHI9dC5fY29udGFpbmVySGVpZ2h0LzIsbj10Ll9jb250YWluZXJXaWR0aC8yLWUvMixpPXQudW5wcm9qZWN0KFtuLHJdKSxvPXQudW5wcm9qZWN0KFtuK2Uscl0pLGE9aS5kaXN0YW5jZVRvKG8pO2lmKFwiaW1wZXJpYWxcIj09PXRoaXMub3B0aW9ucy51bml0KXtjb25zdCB0PTMuMjgwOCphO3Q+NTI4MD90aGlzLl9zZXRTY2FsZShlLHQvNTI4MCxcIm1pbGVcIik6dGhpcy5fc2V0U2NhbGUoZSx0LFwiZm9vdFwiKX1lbHNlXCJuYXV0aWNhbFwiPT09dGhpcy5vcHRpb25zLnVuaXQ/dGhpcy5fc2V0U2NhbGUoZSxhLzE4NTIsXCJuYXV0aWNhbC1taWxlXCIpOmE+PTFlMz90aGlzLl9zZXRTY2FsZShlLGEvMWUzLFwia2lsb21ldGVyXCIpOnRoaXMuX3NldFNjYWxlKGUsYSxcIm1ldGVyXCIpfV9zZXRTY2FsZShlLHQscil7Y29uc3Qgbj1nbyh0KSxpPW4vdDt0aGlzLl9tYXAuX3JlcXVlc3REb21UYXNrKCgpPT57dGhpcy5fY29udGFpbmVyLnN0eWxlLndpZHRoPWUqaStcInB4XCIsdGhpcy5fY29udGFpbmVyLmlubmVySFRNTD1cIm5hdXRpY2FsLW1pbGVcIiE9PXI/bmV3IEludGwuTnVtYmVyRm9ybWF0KHRoaXMuX2xhbmd1YWdlLHtzdHlsZTpcInVuaXRcIix1bml0RGlzcGxheTpcIm5hcnJvd1wiLHVuaXQ6cn0pLmZvcm1hdChuKTpuK1wiJm5ic3A7bm1cIn0pfW9uQWRkKGUpe3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9sYW5ndWFnZT1lLmdldExhbmd1YWdlKCksdGhpcy5fY29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1zY2FsZVwiLGUuZ2V0Q29udGFpbmVyKCkpLHRoaXMuX2NvbnRhaW5lci5kaXI9XCJhdXRvXCIsdGhpcy5fbWFwLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdGhpcy5fdXBkYXRlKCksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSx0aGlzLl9tYXA9dm9pZCAwfV9zZXRMYW5ndWFnZShlKXt0aGlzLl9sYW5ndWFnZT1lLHRoaXMuX3VwZGF0ZSgpfXNldFVuaXQoZSl7dGhpcy5vcHRpb25zLnVuaXQ9ZSx0aGlzLl91cGRhdGUoKX19LEZ1bGxzY3JlZW5Db250cm9sOmNsYXNze2NvbnN0cnVjdG9yKHQpe3RoaXMuX2Z1bGxzY3JlZW49ITEsdCYmdC5jb250YWluZXImJih0LmNvbnRhaW5lciBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxFbGVtZW50P3RoaXMuX2NvbnRhaW5lcj10LmNvbnRhaW5lcjplLndhcm5PbmNlKFwiRnVsbCBzY3JlZW4gY29udHJvbCAnY29udGFpbmVyJyBtdXN0IGJlIGEgRE9NIGVsZW1lbnQuXCIpKSxlLmJpbmRBbGwoW1wiX29uQ2xpY2tGdWxsc2NyZWVuXCIsXCJfY2hhbmdlSWNvblwiXSx0aGlzKSxcIm9uZnVsbHNjcmVlbmNoYW5nZVwiaW4gZS53aW5kb3cuZG9jdW1lbnQ/dGhpcy5fZnVsbHNjcmVlbmNoYW5nZT1cImZ1bGxzY3JlZW5jaGFuZ2VcIjpcIm9ud2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiaW4gZS53aW5kb3cuZG9jdW1lbnQmJih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlPVwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiKX1vbkFkZCh0KXtyZXR1cm4gdGhpcy5fbWFwPXQsdGhpcy5fY29udGFpbmVyfHwodGhpcy5fY29udGFpbmVyPXRoaXMuX21hcC5nZXRDb250YWluZXIoKSksdGhpcy5fY29udHJvbENvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsIG1hcGJveGdsLWN0cmwtZ3JvdXBcIiksdGhpcy5fY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCgpP3RoaXMuX3NldHVwVUkoKToodGhpcy5fY29udHJvbENvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGUud2Fybk9uY2UoXCJUaGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IGZ1bGxzY3JlZW4gbW9kZS5cIikpLHRoaXMuX2NvbnRyb2xDb250YWluZXJ9b25SZW1vdmUoKXt0aGlzLl9jb250cm9sQ29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcD1udWxsLGUud2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSx0aGlzLl9jaGFuZ2VJY29uKX1fY2hlY2tGdWxsc2NyZWVuU3VwcG9ydCgpe3JldHVybiEoIWUud2luZG93LmRvY3VtZW50LmZ1bGxzY3JlZW5FbmFibGVkJiYhZS53aW5kb3cuZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVuYWJsZWQpfV9zZXR1cFVJKCl7Y29uc3QgdD10aGlzLl9mdWxsc2NyZWVuQnV0dG9uPW8oXCJidXR0b25cIixcIm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlblwiLHRoaXMuX2NvbnRyb2xDb250YWluZXIpO28oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0KS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0LnR5cGU9XCJidXR0b25cIix0aGlzLl91cGRhdGVUaXRsZSgpLHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fb25DbGlja0Z1bGxzY3JlZW4pLGUud2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZnVsbHNjcmVlbmNoYW5nZSx0aGlzLl9jaGFuZ2VJY29uKX1fdXBkYXRlVGl0bGUoKXtjb25zdCBlPXRoaXMuX2dldFRpdGxlKCk7dGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZCYmdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGUpfV9nZXRUaXRsZSgpe3JldHVybiB0aGlzLl9tYXAuX2dldFVJU3RyaW5nKHRoaXMuX2lzRnVsbHNjcmVlbigpP1wiRnVsbHNjcmVlbkNvbnRyb2wuRXhpdFwiOlwiRnVsbHNjcmVlbkNvbnRyb2wuRW50ZXJcIil9X2lzRnVsbHNjcmVlbigpe3JldHVybiB0aGlzLl9mdWxsc2NyZWVufV9jaGFuZ2VJY29uKCl7KGUud2luZG93LmRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHxlLndpbmRvdy5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRWxlbWVudCk9PT10aGlzLl9jb250YWluZXIhPT10aGlzLl9mdWxsc2NyZWVuJiYodGhpcy5fZnVsbHNjcmVlbj0hdGhpcy5fZnVsbHNjcmVlbix0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJtYXBib3hnbC1jdHJsLXNocmlua1wiKSx0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJtYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW5cIiksdGhpcy5fdXBkYXRlVGl0bGUoKSl9X29uQ2xpY2tGdWxsc2NyZWVuKCl7dGhpcy5faXNGdWxsc2NyZWVuKCk/ZS53aW5kb3cuZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4/ZS53aW5kb3cuZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTplLndpbmRvdy5kb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuJiZlLndpbmRvdy5kb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuP3RoaXMuX2NvbnRhaW5lci5yZXF1ZXN0RnVsbHNjcmVlbigpOnRoaXMuX2NvbnRhaW5lci53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbiYmdGhpcy5fY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCl9fSxQb3B1cDpjbGFzcyBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMub3B0aW9ucz1lLmV4dGVuZChPYmplY3QuY3JlYXRlKG5vKSx0KSxlLmJpbmRBbGwoW1wiX3VwZGF0ZVwiLFwiX29uQ2xvc2VcIixcInJlbW92ZVwiLFwiX29uTW91c2VFdmVudFwiXSx0aGlzKSx0aGlzLl9jbGFzc0xpc3Q9bmV3IFNldCh0JiZ0LmNsYXNzTmFtZT90LmNsYXNzTmFtZS50cmltKCkuc3BsaXQoL1xccysvKTpbXSl9YWRkVG8odCl7cmV0dXJuIHRoaXMuX21hcCYmdGhpcy5yZW1vdmUoKSx0aGlzLl9tYXA9dCx0aGlzLm9wdGlvbnMuY2xvc2VPbkNsaWNrJiZ0Lm9uKFwicHJlY2xpY2tcIix0aGlzLl9vbkNsb3NlKSx0aGlzLm9wdGlvbnMuY2xvc2VPbk1vdmUmJnQub24oXCJtb3ZlXCIsdGhpcy5fb25DbG9zZSksdC5vbihcInJlbW92ZVwiLHRoaXMucmVtb3ZlKSx0aGlzLl91cGRhdGUoKSx0Ll9hZGRQb3B1cCh0aGlzKSx0aGlzLl9mb2N1c0ZpcnN0RWxlbWVudCgpLHRoaXMuX3RyYWNrUG9pbnRlcj8odC5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksdC5vbihcIm1vdXNldXBcIix0aGlzLl9vbk1vdXNlRXZlbnQpLHQuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSk6dC5vbihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcIm9wZW5cIikpLHRoaXN9aXNPcGVuKCl7cmV0dXJuISF0aGlzLl9tYXB9cmVtb3ZlKCl7dGhpcy5fY29udGVudCYmdGhpcy5fY29udGVudC5yZW1vdmUoKSx0aGlzLl9jb250YWluZXImJih0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fY29udGFpbmVyPXZvaWQgMCk7Y29uc3QgdD10aGlzLl9tYXA7cmV0dXJuIHQmJih0Lm9mZihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHQub2ZmKFwibW92ZVwiLHRoaXMuX29uQ2xvc2UpLHQub2ZmKFwicHJlY2xpY2tcIix0aGlzLl9vbkNsb3NlKSx0Lm9mZihcImNsaWNrXCIsdGhpcy5fb25DbG9zZSksdC5vZmYoXCJyZW1vdmVcIix0aGlzLnJlbW92ZSksdC5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlRXZlbnQpLHQub2ZmKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VFdmVudCksdC5vZmYoXCJkcmFnXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSx0Ll9jYW52YXNDb250YWluZXImJnQuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSx0Ll9yZW1vdmVQb3B1cCh0aGlzKSx0aGlzLl9tYXA9dm9pZCAwKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJjbG9zZVwiKSksdGhpc31nZXRMbmdMYXQoKXtyZXR1cm4gdGhpcy5fbG5nTGF0fXNldExuZ0xhdCh0KXt0aGlzLl9sbmdMYXQ9ZS5MbmdMYXQuY29udmVydCh0KSx0aGlzLl9wb3M9bnVsbCx0aGlzLl90cmFja1BvaW50ZXI9ITEsdGhpcy5fdXBkYXRlKCk7Y29uc3Qgcj10aGlzLl9tYXA7cmV0dXJuIHImJihyLm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksci5vZmYoXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlRXZlbnQpLHIuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSksdGhpc310cmFja1BvaW50ZXIoKXt0aGlzLl90cmFja1BvaW50ZXI9ITAsdGhpcy5fcG9zPW51bGwsdGhpcy5fdXBkYXRlKCk7Y29uc3QgZT10aGlzLl9tYXA7cmV0dXJuIGUmJihlLm9mZihcIm1vdmVcIix0aGlzLl91cGRhdGUpLGUub24oXCJtb3VzZW1vdmVcIix0aGlzLl9vbk1vdXNlRXZlbnQpLGUub24oXCJkcmFnXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSxlLl9jYW52YXNDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRyYWNrLXBvaW50ZXJcIikpLHRoaXN9Z2V0RWxlbWVudCgpe3JldHVybiB0aGlzLl9jb250YWluZXJ9c2V0VGV4dCh0KXtyZXR1cm4gdGhpcy5zZXRET01Db250ZW50KGUud2luZG93LmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQpKX1zZXRIVE1MKHQpe2NvbnN0IHI9ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLG49ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJvZHlcIik7bGV0IGk7Zm9yKG4uaW5uZXJIVE1MPXQ7aT1uLmZpcnN0Q2hpbGQsaTspci5hcHBlbmRDaGlsZChpKTtyZXR1cm4gdGhpcy5zZXRET01Db250ZW50KHIpfWdldE1heFdpZHRoKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lciYmdGhpcy5fY29udGFpbmVyLnN0eWxlLm1heFdpZHRofXNldE1heFdpZHRoKGUpe3JldHVybiB0aGlzLm9wdGlvbnMubWF4V2lkdGg9ZSx0aGlzLl91cGRhdGUoKSx0aGlzfXNldERPTUNvbnRlbnQoZSl7bGV0IHQ9dGhpcy5fY29udGVudDtpZih0KWZvcig7dC5oYXNDaGlsZE5vZGVzKCk7KXQuZmlyc3RDaGlsZCYmdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpO2Vsc2UgdD10aGlzLl9jb250ZW50PW8oXCJkaXZcIixcIm1hcGJveGdsLXBvcHVwLWNvbnRlbnRcIix0aGlzLl9jb250YWluZXJ8fHZvaWQgMCk7aWYodC5hcHBlbmRDaGlsZChlKSx0aGlzLm9wdGlvbnMuY2xvc2VCdXR0b24pe2NvbnN0IGU9dGhpcy5fY2xvc2VCdXR0b249byhcImJ1dHRvblwiLFwibWFwYm94Z2wtcG9wdXAtY2xvc2UtYnV0dG9uXCIsdCk7ZS50eXBlPVwiYnV0dG9uXCIsZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsXCJDbG9zZSBwb3B1cFwiKSxlLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLGUuaW5uZXJIVE1MPVwiJiMyMTU7XCIsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsb3NlKX1yZXR1cm4gdGhpcy5fdXBkYXRlKCksdGhpcy5fZm9jdXNGaXJzdEVsZW1lbnQoKSx0aGlzfWFkZENsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5fY2xhc3NMaXN0LmFkZChlKSx0aGlzLl91cGRhdGVDbGFzc0xpc3QoKSx0aGlzfXJlbW92ZUNsYXNzTmFtZShlKXtyZXR1cm4gdGhpcy5fY2xhc3NMaXN0LmRlbGV0ZShlKSx0aGlzLl91cGRhdGVDbGFzc0xpc3QoKSx0aGlzfXNldE9mZnNldChlKXtyZXR1cm4gdGhpcy5vcHRpb25zLm9mZnNldD1lLHRoaXMuX3VwZGF0ZSgpLHRoaXN9dG9nZ2xlQ2xhc3NOYW1lKGUpe2xldCB0O3JldHVybiB0aGlzLl9jbGFzc0xpc3QuZGVsZXRlKGUpP3Q9ITE6KHRoaXMuX2NsYXNzTGlzdC5hZGQoZSksdD0hMCksdGhpcy5fdXBkYXRlQ2xhc3NMaXN0KCksdH1fb25Nb3VzZUV2ZW50KGUpe3RoaXMuX3VwZGF0ZShlLnBvaW50KX1fZ2V0QW5jaG9yKGUpe2lmKHRoaXMub3B0aW9ucy5hbmNob3IpcmV0dXJuIHRoaXMub3B0aW9ucy5hbmNob3I7Y29uc3QgdD10aGlzLl9tYXAscj10aGlzLl9jb250YWluZXIsbj10aGlzLl9wb3M7aWYoIXR8fCFyfHwhbilyZXR1cm5cImJvdHRvbVwiO2NvbnN0IGk9ci5vZmZzZXRXaWR0aCxvPXIub2Zmc2V0SGVpZ2h0LGE9bi54PGkvMixzPW4ueD50LnRyYW5zZm9ybS53aWR0aC1pLzI7aWYobi55K2U8bylyZXR1cm4gYT9cInRvcC1sZWZ0XCI6cz9cInRvcC1yaWdodFwiOlwidG9wXCI7aWYobi55PnQudHJhbnNmb3JtLmhlaWdodC1vKXtpZihhKXJldHVyblwiYm90dG9tLWxlZnRcIjtpZihzKXJldHVyblwiYm90dG9tLXJpZ2h0XCJ9cmV0dXJuIGE/XCJsZWZ0XCI6cz9cInJpZ2h0XCI6XCJib3R0b21cIn1fdXBkYXRlQ2xhc3NMaXN0KCl7Y29uc3QgZT10aGlzLl9jb250YWluZXI7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9Wy4uLnRoaXMuX2NsYXNzTGlzdF07dC5wdXNoKFwibWFwYm94Z2wtcG9wdXBcIiksdGhpcy5fYW5jaG9yJiZ0LnB1c2goXCJtYXBib3hnbC1wb3B1cC1hbmNob3ItXCIrdGhpcy5fYW5jaG9yKSx0aGlzLl90cmFja1BvaW50ZXImJnQucHVzaChcIm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXJcIiksZS5jbGFzc05hbWU9dC5qb2luKFwiIFwiKX1fdXBkYXRlKHQpe2NvbnN0IHI9dGhpcy5fbWFwLG49dGhpcy5fY29udGVudDtpZighcnx8IXRoaXMuX2xuZ0xhdCYmIXRoaXMuX3RyYWNrUG9pbnRlcnx8IW4pcmV0dXJuO2xldCBpPXRoaXMuX2NvbnRhaW5lcjtpZihpfHwoaT10aGlzLl9jb250YWluZXI9byhcImRpdlwiLFwibWFwYm94Z2wtcG9wdXBcIixyLmdldENvbnRhaW5lcigpKSx0aGlzLl90aXA9byhcImRpdlwiLFwibWFwYm94Z2wtcG9wdXAtdGlwXCIsaSksaS5hcHBlbmRDaGlsZChuKSksdGhpcy5vcHRpb25zLm1heFdpZHRoJiZpLnN0eWxlLm1heFdpZHRoIT09dGhpcy5vcHRpb25zLm1heFdpZHRoJiYoaS5zdHlsZS5tYXhXaWR0aD10aGlzLm9wdGlvbnMubWF4V2lkdGgpLHIudHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzJiYhdGhpcy5fdHJhY2tQb2ludGVyJiYodGhpcy5fbG5nTGF0PWVvKHRoaXMuX2xuZ0xhdCx0aGlzLl9wb3Msci50cmFuc2Zvcm0pKSwhdGhpcy5fdHJhY2tQb2ludGVyfHx0KXtjb25zdCBlPXRoaXMuX3Bvcz10aGlzLl90cmFja1BvaW50ZXImJnQ/dDpyLnByb2plY3QodGhpcy5fbG5nTGF0KSxuPW9vKHRoaXMub3B0aW9ucy5vZmZzZXQpLGk9dGhpcy5fYW5jaG9yPXRoaXMuX2dldEFuY2hvcihuLnkpLG89b28odGhpcy5vcHRpb25zLm9mZnNldCxpKSxhPWUuYWRkKG8pLnJvdW5kKCk7ci5fcmVxdWVzdERvbVRhc2soKCk9Pnt0aGlzLl9jb250YWluZXImJmkmJih0aGlzLl9jb250YWluZXIuc3R5bGUudHJhbnNmb3JtPWAke3RvW2ldfSB0cmFuc2xhdGUoJHthLnh9cHgsJHthLnl9cHgpYCl9KX1pZighdGhpcy5fbWFya2VyJiZyLl9zaG93aW5nR2xvYmUoKSl7Y29uc3QgdD1lLmlzTG5nTGF0QmVoaW5kR2xvYmUoci50cmFuc2Zvcm0sdGhpcy5fbG5nTGF0KT8wOjE7dGhpcy5fc2V0T3BhY2l0eSh0KX10aGlzLl91cGRhdGVDbGFzc0xpc3QoKX1fZm9jdXNGaXJzdEVsZW1lbnQoKXtpZighdGhpcy5vcHRpb25zLmZvY3VzQWZ0ZXJPcGVufHwhdGhpcy5fY29udGFpbmVyKXJldHVybjtjb25zdCBlPXRoaXMuX2NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGlvKTtlJiZlLmZvY3VzKCl9X29uQ2xvc2UoKXt0aGlzLnJlbW92ZSgpfV9zZXRPcGFjaXR5KGUpe3RoaXMuX2NvbnRhaW5lciYmKHRoaXMuX2NvbnRhaW5lci5zdHlsZS5vcGFjaXR5PVwiXCIrZSksdGhpcy5fY29udGVudCYmKHRoaXMuX2NvbnRlbnQuc3R5bGUucG9pbnRlckV2ZW50cz1lP1wiYXV0b1wiOlwibm9uZVwiKX19LE1hcmtlcjpybyxTdHlsZTplcixMbmdMYXQ6ZS5MbmdMYXQsTG5nTGF0Qm91bmRzOmUuTG5nTGF0Qm91bmRzLFBvaW50OmUucG9pbnRHZW9tZXRyeSxNZXJjYXRvckNvb3JkaW5hdGU6ZS5NZXJjYXRvckNvb3JkaW5hdGUsRnJlZUNhbWVyYU9wdGlvbnM6R24sRXZlbnRlZDplLkV2ZW50ZWQsY29uZmlnOmUuY29uZmlnLHByZXdhcm06ZnVuY3Rpb24oKXtOZSgpLmFjcXVpcmUoRmUpfSxjbGVhclByZXdhcm1lZFJlc291cmNlczpmdW5jdGlvbigpe2NvbnN0IGU9VWU7ZSYmKGUuaXNQcmVsb2FkZWQoKSYmMT09PWUubnVtQWN0aXZlKCk/KGUucmVsZWFzZShGZSksVWU9bnVsbCk6Y29uc29sZS53YXJuKFwiQ291bGQgbm90IGNsZWFyIFdlYldvcmtlcnMgc2luY2UgdGhlcmUgYXJlIGFjdGl2ZSBNYXAgaW5zdGFuY2VzIHRoYXQgc3RpbGwgcmVmZXJlbmNlIGl0LiBUaGUgcHJlLXdhcm1lZCBXZWJXb3JrZXIgcG9vbCBjYW4gb25seSBiZSBjbGVhcmVkIHdoZW4gYWxsIG1hcCBpbnN0YW5jZXMgaGF2ZSBiZWVuIHJlbW92ZWQgd2l0aCBtYXAucmVtb3ZlKClcIikpfSxnZXQgYWNjZXNzVG9rZW4oKXtyZXR1cm4gZS5jb25maWcuQUNDRVNTX1RPS0VOfSxzZXQgYWNjZXNzVG9rZW4odCl7ZS5jb25maWcuQUNDRVNTX1RPS0VOPXR9LGdldCBiYXNlQXBpVXJsKCl7cmV0dXJuIGUuY29uZmlnLkFQSV9VUkx9LHNldCBiYXNlQXBpVXJsKHQpe2UuY29uZmlnLkFQSV9VUkw9dH0sZ2V0IHdvcmtlckNvdW50KCl7cmV0dXJuIGplLndvcmtlckNvdW50fSxzZXQgd29ya2VyQ291bnQoZSl7amUud29ya2VyQ291bnQ9ZX0sZ2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cygpe3JldHVybiBlLmNvbmZpZy5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFN9LHNldCBtYXhQYXJhbGxlbEltYWdlUmVxdWVzdHModCl7ZS5jb25maWcuTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTPXR9LGNsZWFyU3RvcmFnZSh0KXtlLmNsZWFyVGlsZUNhY2hlKHQpfSx3b3JrZXJVcmw6XCJcIix3b3JrZXJDbGFzczpudWxsLHNldE5vdzplLmV4cG9ydGVkLnNldE5vdyxyZXN0b3JlTm93OmUuZXhwb3J0ZWQucmVzdG9yZU5vd307cmV0dXJuIF9vfSkpLG59KCl9KCl9KS5jYWxsKHRoaXMscigxNDMpKX0sZnVuY3Rpb24oZSx0KXt2YXIgcixuLGk9ZS5leHBvcnRzPXt9O2Z1bmN0aW9uIG8oKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGEoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gcyhlKXtpZihyPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChyPT09b3x8IXIpJiZzZXRUaW1lb3V0KXJldHVybiByPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gcihlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gci5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gci5jYWxsKHRoaXMsZSwwKX19fSFmdW5jdGlvbigpe3RyeXtyPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpvfWNhdGNoKGUpe3I9b310cnl7bj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OmF9Y2F0Y2goZSl7bj1hfX0oKTt2YXIgbCxjPVtdLHU9ITEsaD0tMTtmdW5jdGlvbiBkKCl7dSYmbCYmKHU9ITEsbC5sZW5ndGg/Yz1sLmNvbmNhdChjKTpoPS0xLGMubGVuZ3RoJiZwKCkpfWZ1bmN0aW9uIHAoKXtpZighdSl7dmFyIGU9cyhkKTt1PSEwO2Zvcih2YXIgdD1jLmxlbmd0aDt0Oyl7Zm9yKGw9YyxjPVtdOysraDx0OylsJiZsW2hdLnJ1bigpO2g9LTEsdD1jLmxlbmd0aH1sPW51bGwsdT0hMSxmdW5jdGlvbihlKXtpZihuPT09Y2xlYXJUaW1lb3V0KXJldHVybiBjbGVhclRpbWVvdXQoZSk7aWYoKG49PT1hfHwhbikmJmNsZWFyVGltZW91dClyZXR1cm4gbj1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KGUpO3RyeXtuKGUpfWNhdGNoKHQpe3RyeXtyZXR1cm4gbi5jYWxsKG51bGwsZSl9Y2F0Y2godCl7cmV0dXJuIG4uY2FsbCh0aGlzLGUpfX19KGUpfX1mdW5jdGlvbiBmKGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gbSgpe31pLm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXRbci0xXT1hcmd1bWVudHNbcl07Yy5wdXNoKG5ldyBmKGUsdCkpLDEhPT1jLmxlbmd0aHx8dXx8cyhwKX0sZi5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0saS50aXRsZT1cImJyb3dzZXJcIixpLmJyb3dzZXI9ITAsaS5lbnY9e30saS5hcmd2PVtdLGkudmVyc2lvbj1cIlwiLGkudmVyc2lvbnM9e30saS5vbj1tLGkuYWRkTGlzdGVuZXI9bSxpLm9uY2U9bSxpLm9mZj1tLGkucmVtb3ZlTGlzdGVuZXI9bSxpLnJlbW92ZUFsbExpc3RlbmVycz1tLGkuZW1pdD1tLGkucHJlcGVuZExpc3RlbmVyPW0saS5wcmVwZW5kT25jZUxpc3RlbmVyPW0saS5saXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuW119LGkuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0saS5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0saS5jaGRpcj1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LGkudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LCxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciBpPW4ocig1KSksbz1uKHIoNCkpLGE9bihyKDIpKSxzPW4ocigxKSksbD0obihyKDMpKSxuKHIoOCkpKSxjPShuKHIoNikpLHIoNyksbihyKDkpKSksdT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZS5zaGFkb3dzLmZvckVhY2goKGZ1bmN0aW9uKGUscil7dFtcImVsZXZhdGlvblwiLmNvbmNhdChyKV09e2JveFNoYWRvdzplfX0pKSwoMCxhLmRlZmF1bHQpKHtyb290OntiYWNrZ3JvdW5kQ29sb3I6ZS5wYWxldHRlLmJhY2tncm91bmQucGFwZXJ9LHJvdW5kZWQ6e2JvcmRlclJhZGl1czplLnNoYXBlLmJvcmRlclJhZGl1c319LHQpfTtmdW5jdGlvbiBoKGUpe3ZhciB0PWUuY2xhc3NlcyxyPWUuY2xhc3NOYW1lLG49ZS5jb21wb25lbnQsYz1lLnNxdWFyZSx1PWUuZWxldmF0aW9uLGg9KDAsby5kZWZhdWx0KShlLFtcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiY29tcG9uZW50XCIsXCJzcXVhcmVcIixcImVsZXZhdGlvblwiXSksZD0oMCxsLmRlZmF1bHQpKHQucm9vdCx0W1wiZWxldmF0aW9uXCIuY29uY2F0KHUpXSwoMCxpLmRlZmF1bHQpKHt9LHQucm91bmRlZCwhYykscik7cmV0dXJuIHMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KG4sKDAsYS5kZWZhdWx0KSh7Y2xhc3NOYW1lOmR9LGgpKX10LnN0eWxlcz11LGguZGVmYXVsdFByb3BzPXtjb21wb25lbnQ6XCJkaXZcIixlbGV2YXRpb246MixzcXVhcmU6ITF9O3ZhciBkPSgwLGMuZGVmYXVsdCkodSx7bmFtZTpcIk11aVBhcGVyXCJ9KShoKTt0LmRlZmF1bHQ9ZH0sLCxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0fX0pO3ZhciBpPW4ocigxNDkpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDQpKSxhPW4ocigxKSkscz0obihyKDMpKSxuKHIoOCkpKSxsPW4ocigxNTApKSxjPW4ocigxNzEpKSx1PW4ocigxNzkpKSxoPXIoMTYpLGQ9bihyKDkpKSxwPWZ1bmN0aW9uKGUpe3JldHVybntyb290Ontjb2xvcjplLnBhbGV0dGUudGV4dC5zZWNvbmRhcnl9LGNoZWNrZWQ6e30sZGlzYWJsZWQ6e30sY29sb3JQcmltYXJ5OntcIiYkY2hlY2tlZFwiOntjb2xvcjplLnBhbGV0dGUucHJpbWFyeS5tYWlufSxcIiYkZGlzYWJsZWRcIjp7Y29sb3I6ZS5wYWxldHRlLmFjdGlvbi5kaXNhYmxlZH19LGNvbG9yU2Vjb25kYXJ5OntcIiYkY2hlY2tlZFwiOntjb2xvcjplLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW59LFwiJiRkaXNhYmxlZFwiOntjb2xvcjplLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkfX19fTt0LnN0eWxlcz1wO3ZhciBmPWEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGMuZGVmYXVsdCxudWxsKSxtPWEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHUuZGVmYXVsdCxudWxsKTtmdW5jdGlvbiBnKGUpe3ZhciB0PWUuY2xhc3NlcyxyPWUuY29sb3Isbj0oMCxvLmRlZmF1bHQpKGUsW1wiY2xhc3Nlc1wiLFwiY29sb3JcIl0pO3JldHVybiBhLmRlZmF1bHQuY3JlYXRlRWxlbWVudChsLmRlZmF1bHQsKDAsaS5kZWZhdWx0KSh7dHlwZTpcInJhZGlvXCIsaWNvbjpmLGNoZWNrZWRJY29uOm0sY2xhc3Nlczp7cm9vdDooMCxzLmRlZmF1bHQpKHQucm9vdCx0W1wiY29sb3JcIi5jb25jYXQoKDAsaC5jYXBpdGFsaXplKShyKSldKSxjaGVja2VkOnQuY2hlY2tlZCxkaXNhYmxlZDp0LmRpc2FibGVkfX0sbikpfWcuZGVmYXVsdFByb3BzPXtjb2xvcjpcInNlY29uZGFyeVwifTt2YXIgXz0oMCxkLmRlZmF1bHQpKHAse25hbWU6XCJNdWlSYWRpb1wifSkoZyk7dC5kZWZhdWx0PV99LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnN0eWxlcz12b2lkIDA7dmFyIGk9bihyKDIpKSxvPW4ocig1KSksYT1uKHIoNCkpLHM9bihyKDEwKSksbD1uKHIoMTEpKSxjPW4ocigxMikpLHU9bihyKDEzKSksaD1uKHIoMTQpKSxkPW4ocigxKSkscD0obihyKDMpKSxuKHIoOCkpKSxmPW4ocigzNykpLG09bihyKDkpKSxnPW4ocigxNTEpKSxfPXtyb290OntkaXNwbGF5OlwiaW5saW5lLWZsZXhcIixhbGlnbkl0ZW1zOlwiY2VudGVyXCIsdHJhbnNpdGlvbjpcIm5vbmVcIixcIiY6aG92ZXJcIjp7YmFja2dyb3VuZENvbG9yOlwidHJhbnNwYXJlbnRcIn19LGNoZWNrZWQ6e30sZGlzYWJsZWQ6e30saW5wdXQ6e2N1cnNvcjpcImluaGVyaXRcIixwb3NpdGlvbjpcImFic29sdXRlXCIsb3BhY2l0eTowLHdpZHRoOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIix0b3A6MCxsZWZ0OjAsbWFyZ2luOjAscGFkZGluZzowfX07dC5zdHlsZXM9Xzt2YXIgeT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciByO3JldHVybigwLHMuZGVmYXVsdCkodGhpcyx0KSwocj0oMCxjLmRlZmF1bHQpKHRoaXMsKDAsdS5kZWZhdWx0KSh0KS5jYWxsKHRoaXMpKSkuaGFuZGxlRm9jdXM9ZnVuY3Rpb24oZSl7ci5wcm9wcy5vbkZvY3VzJiZyLnByb3BzLm9uRm9jdXMoZSk7dmFyIHQ9ci5wcm9wcy5tdWlGb3JtQ29udHJvbDt0JiZ0Lm9uRm9jdXMmJnQub25Gb2N1cyhlKX0sci5oYW5kbGVCbHVyPWZ1bmN0aW9uKGUpe3IucHJvcHMub25CbHVyJiZyLnByb3BzLm9uQmx1cihlKTt2YXIgdD1yLnByb3BzLm11aUZvcm1Db250cm9sO3QmJnQub25CbHVyJiZ0Lm9uQmx1cihlKX0sci5oYW5kbGVJbnB1dENoYW5nZT1mdW5jdGlvbihlKXt2YXIgdD1lLnRhcmdldC5jaGVja2VkO3IuaXNDb250cm9sbGVkfHxyLnNldFN0YXRlKHtjaGVja2VkOnR9KSxyLnByb3BzLm9uQ2hhbmdlJiZyLnByb3BzLm9uQ2hhbmdlKGUsdCl9LHIuaXNDb250cm9sbGVkPW51bGwhPWUuY2hlY2tlZCxyLnN0YXRlPXt9LHIuaXNDb250cm9sbGVkfHwoci5zdGF0ZS5jaGVja2VkPXZvaWQgMCE9PWUuZGVmYXVsdENoZWNrZWQmJmUuZGVmYXVsdENoZWNrZWQpLHJ9cmV0dXJuKDAsaC5kZWZhdWx0KSh0LGUpLCgwLGwuZGVmYXVsdCkodCxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLnByb3BzLHI9dC5hdXRvRm9jdXMsbj10LmNoZWNrZWQscz10LmNoZWNrZWRJY29uLGw9dC5jbGFzc2VzLGM9dC5jbGFzc05hbWUsdT10LmRlZmF1bHRDaGVja2VkLGg9dC5kaXNhYmxlZCxmPXQuaWNvbixtPXQuaWQsXz10LmlucHV0UHJvcHMseT10LmlucHV0UmVmLHY9dC5tdWlGb3JtQ29udHJvbCx4PXQubmFtZSxiPSh0Lm9uQmx1cix0Lm9uQ2hhbmdlLHQub25Gb2N1cyx0LnJlYWRPbmx5KSx3PXQucmVxdWlyZWQsVD10LnRhYkluZGV4LEU9dC50eXBlLFM9dC52YWx1ZSxDPSgwLGEuZGVmYXVsdCkodCxbXCJhdXRvRm9jdXNcIixcImNoZWNrZWRcIixcImNoZWNrZWRJY29uXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImRlZmF1bHRDaGVja2VkXCIsXCJkaXNhYmxlZFwiLFwiaWNvblwiLFwiaWRcIixcImlucHV0UHJvcHNcIixcImlucHV0UmVmXCIsXCJtdWlGb3JtQ29udHJvbFwiLFwibmFtZVwiLFwib25CbHVyXCIsXCJvbkNoYW5nZVwiLFwib25Gb2N1c1wiLFwicmVhZE9ubHlcIixcInJlcXVpcmVkXCIsXCJ0YWJJbmRleFwiLFwidHlwZVwiLFwidmFsdWVcIl0pLE09aDt2JiZ2b2lkIDA9PT1NJiYoTT12LmRpc2FibGVkKTt2YXIgaz10aGlzLmlzQ29udHJvbGxlZD9uOnRoaXMuc3RhdGUuY2hlY2tlZCxBPVwiY2hlY2tib3hcIj09PUV8fFwicmFkaW9cIj09PUU7cmV0dXJuIGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGcuZGVmYXVsdCwoMCxpLmRlZmF1bHQpKHtjb21wb25lbnQ6XCJzcGFuXCIsY2xhc3NOYW1lOigwLHAuZGVmYXVsdCkobC5yb290LChlPXt9LCgwLG8uZGVmYXVsdCkoZSxsLmNoZWNrZWQsayksKDAsby5kZWZhdWx0KShlLGwuZGlzYWJsZWQsTSksZSksYyksZGlzYWJsZWQ6TSx0YWJJbmRleDpudWxsLHJvbGU6dm9pZCAwLG9uRm9jdXM6dGhpcy5oYW5kbGVGb2N1cyxvbkJsdXI6dGhpcy5oYW5kbGVCbHVyfSxDKSxrP3M6ZixkLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImlucHV0XCIsKDAsaS5kZWZhdWx0KSh7YXV0b0ZvY3VzOnIsY2hlY2tlZDpuLGRlZmF1bHRDaGVja2VkOnUsY2xhc3NOYW1lOmwuaW5wdXQsZGlzYWJsZWQ6TSxpZDpBJiZtLG5hbWU6eCxvbkNoYW5nZTp0aGlzLmhhbmRsZUlucHV0Q2hhbmdlLHJlYWRPbmx5OmIscmVmOnkscmVxdWlyZWQ6dyx0YWJJbmRleDpULHR5cGU6RSx2YWx1ZTpTfSxfKSkpfX1dKSx0fShkLmRlZmF1bHQuQ29tcG9uZW50KSx2PSgwLG0uZGVmYXVsdCkoXyx7bmFtZTpcIk11aVByaXZhdGVTd2l0Y2hCYXNlXCJ9KSgoMCxmLmRlZmF1bHQpKHkpKTt0LmRlZmF1bHQ9dn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdH19KTt2YXIgaT1uKHIoMTUyKSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnN0eWxlcz12b2lkIDA7dmFyIGk9bihyKDIpKSxvPW4ocig1KSksYT1uKHIoNCkpLHM9bihyKDEpKSxsPShuKHIoMykpLG4ocig4KSkpLGM9KHIoNyksbihyKDkpKSksdT1yKDQyKSxoPW4ocigxNTMpKSxkPXIoMTYpLHA9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e3RleHRBbGlnbjpcImNlbnRlclwiLGZsZXg6XCIwIDAgYXV0b1wiLGZvbnRTaXplOmUudHlwb2dyYXBoeS5weFRvUmVtKDI0KSxwYWRkaW5nOjEyLGJvcmRlclJhZGl1czpcIjUwJVwiLG92ZXJmbG93OlwidmlzaWJsZVwiLGNvbG9yOmUucGFsZXR0ZS5hY3Rpb24uYWN0aXZlLHRyYW5zaXRpb246ZS50cmFuc2l0aW9ucy5jcmVhdGUoXCJiYWNrZ3JvdW5kLWNvbG9yXCIse2R1cmF0aW9uOmUudHJhbnNpdGlvbnMuZHVyYXRpb24uc2hvcnRlc3R9KSxcIiY6aG92ZXJcIjp7YmFja2dyb3VuZENvbG9yOigwLHUuZmFkZSkoZS5wYWxldHRlLmFjdGlvbi5hY3RpdmUsZS5wYWxldHRlLmFjdGlvbi5ob3Zlck9wYWNpdHkpLFwiQG1lZGlhIChob3Zlcjogbm9uZSlcIjp7YmFja2dyb3VuZENvbG9yOlwidHJhbnNwYXJlbnRcIn0sXCImJGRpc2FibGVkXCI6e2JhY2tncm91bmRDb2xvcjpcInRyYW5zcGFyZW50XCJ9fSxcIiYkZGlzYWJsZWRcIjp7Y29sb3I6ZS5wYWxldHRlLmFjdGlvbi5kaXNhYmxlZH19LGNvbG9ySW5oZXJpdDp7Y29sb3I6XCJpbmhlcml0XCJ9LGNvbG9yUHJpbWFyeTp7Y29sb3I6ZS5wYWxldHRlLnByaW1hcnkubWFpbixcIiY6aG92ZXJcIjp7YmFja2dyb3VuZENvbG9yOigwLHUuZmFkZSkoZS5wYWxldHRlLnByaW1hcnkubWFpbixlLnBhbGV0dGUuYWN0aW9uLmhvdmVyT3BhY2l0eSksXCJAbWVkaWEgKGhvdmVyOiBub25lKVwiOntiYWNrZ3JvdW5kQ29sb3I6XCJ0cmFuc3BhcmVudFwifX19LGNvbG9yU2Vjb25kYXJ5Ontjb2xvcjplLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW4sXCImOmhvdmVyXCI6e2JhY2tncm91bmRDb2xvcjooMCx1LmZhZGUpKGUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixlLnBhbGV0dGUuYWN0aW9uLmhvdmVyT3BhY2l0eSksXCJAbWVkaWEgKGhvdmVyOiBub25lKVwiOntiYWNrZ3JvdW5kQ29sb3I6XCJ0cmFuc3BhcmVudFwifX19LGRpc2FibGVkOnt9LGxhYmVsOnt3aWR0aDpcIjEwMCVcIixkaXNwbGF5OlwiZmxleFwiLGFsaWduSXRlbXM6XCJpbmhlcml0XCIsanVzdGlmeUNvbnRlbnQ6XCJpbmhlcml0XCJ9fX07ZnVuY3Rpb24gZihlKXt2YXIgdCxyPWUuY2hpbGRyZW4sbj1lLmNsYXNzZXMsYz1lLmNsYXNzTmFtZSx1PWUuY29sb3IscD1lLmRpc2FibGVkLGY9KDAsYS5kZWZhdWx0KShlLFtcImNoaWxkcmVuXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbG9yXCIsXCJkaXNhYmxlZFwiXSk7cmV0dXJuIHMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGguZGVmYXVsdCwoMCxpLmRlZmF1bHQpKHtjbGFzc05hbWU6KDAsbC5kZWZhdWx0KShuLnJvb3QsKHQ9e30sKDAsby5kZWZhdWx0KSh0LG5bXCJjb2xvclwiLmNvbmNhdCgoMCxkLmNhcGl0YWxpemUpKHUpKV0sXCJkZWZhdWx0XCIhPT11KSwoMCxvLmRlZmF1bHQpKHQsbi5kaXNhYmxlZCxwKSx0KSxjKSxjZW50ZXJSaXBwbGU6ITAsZm9jdXNSaXBwbGU6ITAsZGlzYWJsZWQ6cH0sZikscy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTpuLmxhYmVsfSxyKSl9dC5zdHlsZXM9cCxmLmRlZmF1bHRQcm9wcz17Y29sb3I6XCJkZWZhdWx0XCIsZGlzYWJsZWQ6ITF9O3ZhciBtPSgwLGMuZGVmYXVsdCkocCx7bmFtZTpcIk11aUljb25CdXR0b25cIn0pKGYpO3QuZGVmYXVsdD1tfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0fX0pO3ZhciBpPW4ocigxNTQpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDUpKSxhPW4ocig0KSkscz1uKHIoMTApKSxsPW4ocigxMSkpLGM9bihyKDEyKSksdT1uKHIoMTMpKSxoPW4ocigxNCkpLGQ9bihyKDMzKSkscD1uKHIoMSkpLGY9KG4ocigzKSksbihyKDE5KSkpLG09bihyKDgpKSxnPShyKDcpLG4ocigxNTUpKSksXz1uKHIoOSkpLHk9bihyKDE1NikpLHY9cigxNTgpLHg9bihyKDE1OSkpLGI9bihyKDE3MCkpLHc9e3Jvb3Q6e2Rpc3BsYXk6XCJpbmxpbmUtZmxleFwiLGFsaWduSXRlbXM6XCJjZW50ZXJcIixqdXN0aWZ5Q29udGVudDpcImNlbnRlclwiLHBvc2l0aW9uOlwicmVsYXRpdmVcIixXZWJraXRUYXBIaWdobGlnaHRDb2xvcjpcInRyYW5zcGFyZW50XCIsYmFja2dyb3VuZENvbG9yOlwidHJhbnNwYXJlbnRcIixvdXRsaW5lOlwibm9uZVwiLGJvcmRlcjowLG1hcmdpbjowLGJvcmRlclJhZGl1czowLHBhZGRpbmc6MCxjdXJzb3I6XCJwb2ludGVyXCIsdXNlclNlbGVjdDpcIm5vbmVcIix2ZXJ0aWNhbEFsaWduOlwibWlkZGxlXCIsXCItbW96LWFwcGVhcmFuY2VcIjpcIm5vbmVcIixcIi13ZWJraXQtYXBwZWFyYW5jZVwiOlwibm9uZVwiLHRleHREZWNvcmF0aW9uOlwibm9uZVwiLGNvbG9yOlwiaW5oZXJpdFwiLFwiJjo6LW1vei1mb2N1cy1pbm5lclwiOntib3JkZXJTdHlsZTpcIm5vbmVcIn0sXCImJGRpc2FibGVkXCI6e3BvaW50ZXJFdmVudHM6XCJub25lXCIsY3Vyc29yOlwiZGVmYXVsdFwifX0sZGlzYWJsZWQ6e30sZm9jdXNWaXNpYmxlOnt9fTt0LnN0eWxlcz13O3ZhciBUPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxyOygwLHMuZGVmYXVsdCkodGhpcyx0KTtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShuKSxvPTA7bzxuO28rKylpW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4ocj0oMCxjLmRlZmF1bHQpKHRoaXMsKGU9KDAsdS5kZWZhdWx0KSh0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQoaSkpKSkuc3RhdGU9e30sci5rZXlEb3duPSExLHIuZm9jdXNWaXNpYmxlQ2hlY2tUaW1lPTUwLHIuZm9jdXNWaXNpYmxlTWF4Q2hlY2tUaW1lcz01LHIuaGFuZGxlTW91c2VEb3duPSgwLGIuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKHIpKSxcIk1vdXNlRG93blwiLFwic3RhcnRcIiwoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoci5mb2N1c1Zpc2libGVUaW1lb3V0KSxyLnN0YXRlLmZvY3VzVmlzaWJsZSYmci5zZXRTdGF0ZSh7Zm9jdXNWaXNpYmxlOiExfSl9KSksci5oYW5kbGVNb3VzZVVwPSgwLGIuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKHIpKSxcIk1vdXNlVXBcIixcInN0b3BcIiksci5oYW5kbGVNb3VzZUxlYXZlPSgwLGIuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKHIpKSxcIk1vdXNlTGVhdmVcIixcInN0b3BcIiwoZnVuY3Rpb24oZSl7ci5zdGF0ZS5mb2N1c1Zpc2libGUmJmUucHJldmVudERlZmF1bHQoKX0pKSxyLmhhbmRsZVRvdWNoU3RhcnQ9KDAsYi5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkocikpLFwiVG91Y2hTdGFydFwiLFwic3RhcnRcIiksci5oYW5kbGVUb3VjaEVuZD0oMCxiLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShyKSksXCJUb3VjaEVuZFwiLFwic3RvcFwiKSxyLmhhbmRsZVRvdWNoTW92ZT0oMCxiLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShyKSksXCJUb3VjaE1vdmVcIixcInN0b3BcIiksci5oYW5kbGVDb250ZXh0TWVudT0oMCxiLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShyKSksXCJDb250ZXh0TWVudVwiLFwic3RvcFwiKSxyLmhhbmRsZUJsdXI9KDAsYi5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkocikpLFwiQmx1clwiLFwic3RvcFwiLChmdW5jdGlvbigpe2NsZWFyVGltZW91dChyLmZvY3VzVmlzaWJsZVRpbWVvdXQpLHIuc3RhdGUuZm9jdXNWaXNpYmxlJiZyLnNldFN0YXRlKHtmb2N1c1Zpc2libGU6ITF9KX0pKSxyLm9uUmlwcGxlUmVmPWZ1bmN0aW9uKGUpe3IucmlwcGxlPWV9LHIub25Gb2N1c1Zpc2libGVIYW5kbGVyPWZ1bmN0aW9uKGUpe3Iua2V5RG93bj0hMSxyLnNldFN0YXRlKHtmb2N1c1Zpc2libGU6ITB9KSxyLnByb3BzLm9uRm9jdXNWaXNpYmxlJiZyLnByb3BzLm9uRm9jdXNWaXNpYmxlKGUpfSxyLmhhbmRsZUtleURvd249ZnVuY3Rpb24oZSl7dmFyIHQ9ci5wcm9wcyxuPXQuY29tcG9uZW50LGk9dC5mb2N1c1JpcHBsZSxvPXQub25LZXlEb3duLGE9dC5vbkNsaWNrO2kmJiFyLmtleURvd24mJnIuc3RhdGUuZm9jdXNWaXNpYmxlJiZyLnJpcHBsZSYmXCIgXCI9PT1lLmtleSYmKHIua2V5RG93bj0hMCxlLnBlcnNpc3QoKSxyLnJpcHBsZS5zdG9wKGUsKGZ1bmN0aW9uKCl7ci5yaXBwbGUuc3RhcnQoZSl9KSkpLG8mJm8oZSksZS50YXJnZXQhPT1lLmN1cnJlbnRUYXJnZXR8fCFufHxcImJ1dHRvblwiPT09bnx8XCIgXCIhPT1lLmtleSYmXCJFbnRlclwiIT09ZS5rZXl8fFwiQVwiPT09ci5idXR0b24udGFnTmFtZSYmci5idXR0b24uaHJlZnx8KGUucHJldmVudERlZmF1bHQoKSxhJiZhKGUpKX0sci5oYW5kbGVLZXlVcD1mdW5jdGlvbihlKXtyLnByb3BzLmZvY3VzUmlwcGxlJiZcIiBcIj09PWUua2V5JiZyLnJpcHBsZSYmci5zdGF0ZS5mb2N1c1Zpc2libGUmJihyLmtleURvd249ITEsZS5wZXJzaXN0KCksci5yaXBwbGUuc3RvcChlLChmdW5jdGlvbigpe3IucmlwcGxlLnB1bHNhdGUoZSl9KSkpLHIucHJvcHMub25LZXlVcCYmci5wcm9wcy5vbktleVVwKGUpfSxyLmhhbmRsZUZvY3VzPWZ1bmN0aW9uKGUpe3IucHJvcHMuZGlzYWJsZWR8fChyLmJ1dHRvbnx8KHIuYnV0dG9uPWUuY3VycmVudFRhcmdldCksZS5wZXJzaXN0KCksKDAsdi5kZXRlY3RGb2N1c1Zpc2libGUpKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShyKSksci5idXR0b24sKGZ1bmN0aW9uKCl7ci5vbkZvY3VzVmlzaWJsZUhhbmRsZXIoZSl9KSksci5wcm9wcy5vbkZvY3VzJiZyLnByb3BzLm9uRm9jdXMoZSkpfSxyfXJldHVybigwLGguZGVmYXVsdCkodCxlKSwoMCxsLmRlZmF1bHQpKHQsW3trZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLmJ1dHRvbj1mLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyksKDAsdi5saXN0ZW5Gb3JGb2N1c0tleXMpKCgwLGcuZGVmYXVsdCkodGhpcy5idXR0b24pKSx0aGlzLnByb3BzLmFjdGlvbiYmdGhpcy5wcm9wcy5hY3Rpb24oe2ZvY3VzVmlzaWJsZTpmdW5jdGlvbigpe2Uuc2V0U3RhdGUoe2ZvY3VzVmlzaWJsZTohMH0pLGUuYnV0dG9uLmZvY3VzKCl9fSl9fSx7a2V5OlwiY29tcG9uZW50RGlkVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0aGlzLnByb3BzLmZvY3VzUmlwcGxlJiYhdGhpcy5wcm9wcy5kaXNhYmxlUmlwcGxlJiYhdC5mb2N1c1Zpc2libGUmJnRoaXMuc3RhdGUuZm9jdXNWaXNpYmxlJiZ0aGlzLnJpcHBsZS5wdWxzYXRlKCl9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLmZvY3VzVmlzaWJsZVRpbWVvdXQpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLnByb3BzLHI9KHQuYWN0aW9uLHQuYnV0dG9uUmVmKSxuPXQuY2VudGVyUmlwcGxlLHM9dC5jaGlsZHJlbixsPXQuY2xhc3NlcyxjPXQuY2xhc3NOYW1lLHU9dC5jb21wb25lbnQsaD10LmRpc2FibGVkLGQ9dC5kaXNhYmxlUmlwcGxlLGY9KHQuZGlzYWJsZVRvdWNoUmlwcGxlLHQuZm9jdXNSaXBwbGUsdC5mb2N1c1Zpc2libGVDbGFzc05hbWUpLGc9KHQub25CbHVyLHQub25Gb2N1cyx0Lm9uRm9jdXNWaXNpYmxlLHQub25LZXlEb3duLHQub25LZXlVcCx0Lm9uTW91c2VEb3duLHQub25Nb3VzZUxlYXZlLHQub25Nb3VzZVVwLHQub25Ub3VjaEVuZCx0Lm9uVG91Y2hNb3ZlLHQub25Ub3VjaFN0YXJ0LHQudGFiSW5kZXgpLF89dC5Ub3VjaFJpcHBsZVByb3BzLHY9dC50eXBlLGI9KDAsYS5kZWZhdWx0KSh0LFtcImFjdGlvblwiLFwiYnV0dG9uUmVmXCIsXCJjZW50ZXJSaXBwbGVcIixcImNoaWxkcmVuXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbXBvbmVudFwiLFwiZGlzYWJsZWRcIixcImRpc2FibGVSaXBwbGVcIixcImRpc2FibGVUb3VjaFJpcHBsZVwiLFwiZm9jdXNSaXBwbGVcIixcImZvY3VzVmlzaWJsZUNsYXNzTmFtZVwiLFwib25CbHVyXCIsXCJvbkZvY3VzXCIsXCJvbkZvY3VzVmlzaWJsZVwiLFwib25LZXlEb3duXCIsXCJvbktleVVwXCIsXCJvbk1vdXNlRG93blwiLFwib25Nb3VzZUxlYXZlXCIsXCJvbk1vdXNlVXBcIixcIm9uVG91Y2hFbmRcIixcIm9uVG91Y2hNb3ZlXCIsXCJvblRvdWNoU3RhcnRcIixcInRhYkluZGV4XCIsXCJUb3VjaFJpcHBsZVByb3BzXCIsXCJ0eXBlXCJdKSx3PSgwLG0uZGVmYXVsdCkobC5yb290LChlPXt9LCgwLG8uZGVmYXVsdCkoZSxsLmRpc2FibGVkLGgpLCgwLG8uZGVmYXVsdCkoZSxsLmZvY3VzVmlzaWJsZSx0aGlzLnN0YXRlLmZvY3VzVmlzaWJsZSksKDAsby5kZWZhdWx0KShlLGYsdGhpcy5zdGF0ZS5mb2N1c1Zpc2libGUpLGUpLGMpLFQ9dTtcImJ1dHRvblwiPT09VCYmYi5ocmVmJiYoVD1cImFcIik7dmFyIEU9e307cmV0dXJuXCJidXR0b25cIj09PVQ/KEUudHlwZT12fHxcImJ1dHRvblwiLEUuZGlzYWJsZWQ9aCk6RS5yb2xlPVwiYnV0dG9uXCIscC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVCwoMCxpLmRlZmF1bHQpKHtjbGFzc05hbWU6dyxvbkJsdXI6dGhpcy5oYW5kbGVCbHVyLG9uRm9jdXM6dGhpcy5oYW5kbGVGb2N1cyxvbktleURvd246dGhpcy5oYW5kbGVLZXlEb3duLG9uS2V5VXA6dGhpcy5oYW5kbGVLZXlVcCxvbk1vdXNlRG93bjp0aGlzLmhhbmRsZU1vdXNlRG93bixvbk1vdXNlTGVhdmU6dGhpcy5oYW5kbGVNb3VzZUxlYXZlLG9uTW91c2VVcDp0aGlzLmhhbmRsZU1vdXNlVXAsb25Ub3VjaEVuZDp0aGlzLmhhbmRsZVRvdWNoRW5kLG9uVG91Y2hNb3ZlOnRoaXMuaGFuZGxlVG91Y2hNb3ZlLG9uVG91Y2hTdGFydDp0aGlzLmhhbmRsZVRvdWNoU3RhcnQsb25Db250ZXh0TWVudTp0aGlzLmhhbmRsZUNvbnRleHRNZW51LHJlZjpyLHRhYkluZGV4Omg/XCItMVwiOmd9LEUsYikscyxkfHxoP251bGw6cC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoeS5kZWZhdWx0LG51bGwscC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoeC5kZWZhdWx0LCgwLGkuZGVmYXVsdCkoe2lubmVyUmVmOnRoaXMub25SaXBwbGVSZWYsY2VudGVyOm59LF8pKSkpfX1dLFt7a2V5OlwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dC5mb2N1c1Zpc2libGV8fCF0LnByZXZTdGF0ZSYmZS5kaXNhYmxlZCYmdC5mb2N1c1Zpc2libGU/e2ZvY3VzVmlzaWJsZTohMSxsYXN0RGlzYWJsZWQ6ZS5kaXNhYmxlZH06e2xhc3REaXNhYmxlZDplLmRpc2FibGVkfX19XSksdH0ocC5kZWZhdWx0LkNvbXBvbmVudCk7VC5kZWZhdWx0UHJvcHM9e2NlbnRlclJpcHBsZTohMSxjb21wb25lbnQ6XCJidXR0b25cIixkaXNhYmxlUmlwcGxlOiExLGRpc2FibGVUb3VjaFJpcHBsZTohMSxmb2N1c1JpcHBsZTohMSx0YWJJbmRleDpcIjBcIix0eXBlOlwiYnV0dG9uXCJ9O3ZhciBFPSgwLF8uZGVmYXVsdCkodyx7bmFtZTpcIk11aUJ1dHRvbkJhc2VcIn0pKFQpO3QuZGVmYXVsdD1FfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPW4ocig1OCkpO3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp3aW5kb3cscj0oMCxpLmRlZmF1bHQpKGUpO3JldHVybiByLmRlZmF1bHRWaWV3fHxyLnBhcmVudFZpZXd8fHR9O3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0fX0pO3ZhciBpPW4ocigxNTcpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1uKHIoMTApKSxvPW4ocigxMSkpLGE9bihyKDEyKSkscz1uKHIoMTMpKSxsPW4ocigxNCkpLGM9bihyKDEpKSx1PShuKHIoMykpLHIoNyksZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLHI7KDAsaS5kZWZhdWx0KSh0aGlzLHQpO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KG4pLGw9MDtsPG47bCsrKW9bbF09YXJndW1lbnRzW2xdO3JldHVybihyPSgwLGEuZGVmYXVsdCkodGhpcywoZT0oMCxzLmRlZmF1bHQpKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChvKSkpKS5tb3VudGVkPSExLHIuc3RhdGU9e21vdW50ZWQ6ITF9LHJ9cmV0dXJuKDAsbC5kZWZhdWx0KSh0LGUpLCgwLG8uZGVmYXVsdCkodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMubW91bnRlZD0hMCx0aGlzLnByb3BzLmRlZmVyP3JlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24oKXtyZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKGZ1bmN0aW9uKCl7ZS5tb3VudGVkJiZlLnNldFN0YXRlKHttb3VudGVkOiEwfSl9KSl9KSk6dGhpcy5zZXRTdGF0ZSh7bW91bnRlZDohMH0pfX0se2tleTpcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm1vdW50ZWQ9ITF9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9ZS5jaGlsZHJlbixyPWUuZmFsbGJhY2s7cmV0dXJuIHRoaXMuc3RhdGUubW91bnRlZD90OnJ9fV0pLHR9KGMuZGVmYXVsdC5Db21wb25lbnQpKTt1LmRlZmF1bHRQcm9wcz17ZGVmZXI6ITEsZmFsbGJhY2s6bnVsbH07dmFyIGg9dTt0LmRlZmF1bHQ9aH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZXRlY3RGb2N1c1Zpc2libGU9ZnVuY3Rpb24gZSh0LHIsbil7dmFyIHM9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjE7dC5mb2N1c1Zpc2libGVUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dmFyIGw9YSgoMCxpLmRlZmF1bHQpKHIpKTtvLmZvY3VzS2V5UHJlc3NlZCYmKGw9PT1yfHxyLmNvbnRhaW5zKGwpKT9uKCk6czx0LmZvY3VzVmlzaWJsZU1heENoZWNrVGltZXMmJmUodCxyLG4scysxKX0pLHQuZm9jdXNWaXNpYmxlQ2hlY2tUaW1lKX0sdC5saXN0ZW5Gb3JGb2N1c0tleXM9ZnVuY3Rpb24oZSl7ZS5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixsKX07bihyKDYpKTt2YXIgaT1uKHIoNTgpKSxvPXtmb2N1c0tleVByZXNzZWQ6ITEsa2V5VXBFdmVudFRpbWVvdXQ6LTF9O2Z1bmN0aW9uIGEoZSl7Zm9yKHZhciB0PWUuYWN0aXZlRWxlbWVudDt0JiZ0LnNoYWRvd1Jvb3QmJnQuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50Oyl0PXQuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50O3JldHVybiB0fXZhciBzPVs5LDEzLDI3LDMyLDM3LDM4LDM5LDQwXTt2YXIgbD1mdW5jdGlvbihlKXsoZnVuY3Rpb24oZSl7cmV0dXJuIHMuaW5kZXhPZihlLmtleUNvZGUpPi0xfSkoZSkmJihvLmZvY3VzS2V5UHJlc3NlZD0hMCxjbGVhclRpbWVvdXQoby5rZXlVcEV2ZW50VGltZW91dCksby5rZXlVcEV2ZW50VGltZW91dD1zZXRUaW1lb3V0KChmdW5jdGlvbigpe28uZm9jdXNLZXlQcmVzc2VkPSExfSksNTAwKSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dC5ERUxBWV9SSVBQTEU9dm9pZCAwO3ZhciBpPW4ocigyKSksbz1uKHIoNCkpLGE9bihyKDE2MCkpLHM9bihyKDEwKSksbD1uKHIoMTEpKSxjPW4ocigxMikpLHU9bihyKDEzKSksaD1uKHIoMTQpKSxkPW4ocigzMykpLHA9bihyKDEpKSxmPShuKHIoMykpLG4ocigxOSkpKSxtPW4ocigxNjUpKSxnPW4ocig4KSksXz1uKHIoOSkpLHk9bihyKDE2NykpO3QuREVMQVlfUklQUExFPTgwO3ZhciB2PWZ1bmN0aW9uKGUpe3JldHVybntyb290OntkaXNwbGF5OlwiYmxvY2tcIixwb3NpdGlvbjpcImFic29sdXRlXCIsb3ZlcmZsb3c6XCJoaWRkZW5cIixib3JkZXJSYWRpdXM6XCJpbmhlcml0XCIsd2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLGxlZnQ6MCx0b3A6MCxwb2ludGVyRXZlbnRzOlwibm9uZVwiLHpJbmRleDowfSxyaXBwbGU6e3dpZHRoOjUwLGhlaWdodDo1MCxsZWZ0OjAsdG9wOjAsb3BhY2l0eTowLHBvc2l0aW9uOlwiYWJzb2x1dGVcIn0scmlwcGxlVmlzaWJsZTp7b3BhY2l0eTouMyx0cmFuc2Zvcm06XCJzY2FsZSgxKVwiLGFuaW1hdGlvbjpcIm11aS1yaXBwbGUtZW50ZXIgXCIuY29uY2F0KDU1MCxcIm1zIFwiKS5jb25jYXQoZS50cmFuc2l0aW9ucy5lYXNpbmcuZWFzZUluT3V0KSxhbmltYXRpb25OYW1lOlwiJG11aS1yaXBwbGUtZW50ZXJcIn0scmlwcGxlUHVsc2F0ZTp7YW5pbWF0aW9uRHVyYXRpb246XCJcIi5jb25jYXQoZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5zaG9ydGVyLFwibXNcIil9LGNoaWxkOntvcGFjaXR5OjEsZGlzcGxheTpcImJsb2NrXCIsd2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLGJvcmRlclJhZGl1czpcIjUwJVwiLGJhY2tncm91bmRDb2xvcjpcImN1cnJlbnRDb2xvclwifSxjaGlsZExlYXZpbmc6e29wYWNpdHk6MCxhbmltYXRpb246XCJtdWktcmlwcGxlLWV4aXQgXCIuY29uY2F0KDU1MCxcIm1zIFwiKS5jb25jYXQoZS50cmFuc2l0aW9ucy5lYXNpbmcuZWFzZUluT3V0KSxhbmltYXRpb25OYW1lOlwiJG11aS1yaXBwbGUtZXhpdFwifSxjaGlsZFB1bHNhdGU6e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIixsZWZ0OjAsdG9wOjAsYW5pbWF0aW9uOlwibXVpLXJpcHBsZS1wdWxzYXRlIDI1MDBtcyBcIi5jb25jYXQoZS50cmFuc2l0aW9ucy5lYXNpbmcuZWFzZUluT3V0LFwiIDIwMG1zIGluZmluaXRlXCIpLGFuaW1hdGlvbk5hbWU6XCIkbXVpLXJpcHBsZS1wdWxzYXRlXCJ9LFwiQGtleWZyYW1lcyBtdWktcmlwcGxlLWVudGVyXCI6e1wiMCVcIjp7dHJhbnNmb3JtOlwic2NhbGUoMClcIixvcGFjaXR5Oi4xfSxcIjEwMCVcIjp7dHJhbnNmb3JtOlwic2NhbGUoMSlcIixvcGFjaXR5Oi4zfX0sXCJAa2V5ZnJhbWVzIG11aS1yaXBwbGUtZXhpdFwiOntcIjAlXCI6e29wYWNpdHk6MX0sXCIxMDAlXCI6e29wYWNpdHk6MH19LFwiQGtleWZyYW1lcyBtdWktcmlwcGxlLXB1bHNhdGVcIjp7XCIwJVwiOnt0cmFuc2Zvcm06XCJzY2FsZSgxKVwifSxcIjUwJVwiOnt0cmFuc2Zvcm06XCJzY2FsZSgwLjkyKVwifSxcIjEwMCVcIjp7dHJhbnNmb3JtOlwic2NhbGUoMSlcIn19fX07dC5zdHlsZXM9djt2YXIgeD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUscjsoMCxzLmRlZmF1bHQpKHRoaXMsdCk7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkobiksbz0wO288bjtvKyspaVtvXT1hcmd1bWVudHNbb107cmV0dXJuKHI9KDAsYy5kZWZhdWx0KSh0aGlzLChlPSgwLHUuZGVmYXVsdCkodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KGkpKSkpLnN0YXRlPXtuZXh0S2V5OjAscmlwcGxlczpbXX0sci5wdWxzYXRlPWZ1bmN0aW9uKCl7ci5zdGFydCh7fSx7cHVsc2F0ZTohMH0pfSxyLnN0YXJ0PWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDAsaT10LnB1bHNhdGUsbz12b2lkIDAhPT1pJiZpLGE9dC5jZW50ZXIscz12b2lkIDA9PT1hP3IucHJvcHMuY2VudGVyfHx0LnB1bHNhdGU6YSxsPXQuZmFrZUVsZW1lbnQsYz12b2lkIDAhPT1sJiZsO2lmKFwibW91c2Vkb3duXCI9PT1lLnR5cGUmJnIuaWdub3JpbmdNb3VzZURvd24pci5pZ25vcmluZ01vdXNlRG93bj0hMTtlbHNle1widG91Y2hzdGFydFwiPT09ZS50eXBlJiYoci5pZ25vcmluZ01vdXNlRG93bj0hMCk7dmFyIHUsaCxwLG09Yz9udWxsOmYuZGVmYXVsdC5maW5kRE9NTm9kZSgoMCxkLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkocikpKSxnPW0/bS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTp7d2lkdGg6MCxoZWlnaHQ6MCxsZWZ0OjAsdG9wOjB9O2lmKHN8fDA9PT1lLmNsaWVudFgmJjA9PT1lLmNsaWVudFl8fCFlLmNsaWVudFgmJiFlLnRvdWNoZXMpdT1NYXRoLnJvdW5kKGcud2lkdGgvMiksaD1NYXRoLnJvdW5kKGcuaGVpZ2h0LzIpO2Vsc2V7dmFyIF89ZS5jbGllbnRYP2UuY2xpZW50WDplLnRvdWNoZXNbMF0uY2xpZW50WCx5PWUuY2xpZW50WT9lLmNsaWVudFk6ZS50b3VjaGVzWzBdLmNsaWVudFk7dT1NYXRoLnJvdW5kKF8tZy5sZWZ0KSxoPU1hdGgucm91bmQoeS1nLnRvcCl9aWYocykocD1NYXRoLnNxcnQoKDIqTWF0aC5wb3coZy53aWR0aCwyKStNYXRoLnBvdyhnLmhlaWdodCwyKSkvMykpJTI9PTAmJihwKz0xKTtlbHNle3ZhciB2PTIqTWF0aC5tYXgoTWF0aC5hYnMoKG0/bS5jbGllbnRXaWR0aDowKS11KSx1KSsyLHg9MipNYXRoLm1heChNYXRoLmFicygobT9tLmNsaWVudEhlaWdodDowKS1oKSxoKSsyO3A9TWF0aC5zcXJ0KE1hdGgucG93KHYsMikrTWF0aC5wb3coeCwyKSl9ZS50b3VjaGVzPyhyLnN0YXJ0VGltZXJDb21taXQ9ZnVuY3Rpb24oKXtyLnN0YXJ0Q29tbWl0KHtwdWxzYXRlOm8scmlwcGxlWDp1LHJpcHBsZVk6aCxyaXBwbGVTaXplOnAsY2I6bn0pfSxyLnN0YXJ0VGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtyLnN0YXJ0VGltZXJDb21taXQmJihyLnN0YXJ0VGltZXJDb21taXQoKSxyLnN0YXJ0VGltZXJDb21taXQ9bnVsbCl9KSw4MCkpOnIuc3RhcnRDb21taXQoe3B1bHNhdGU6byxyaXBwbGVYOnUscmlwcGxlWTpoLHJpcHBsZVNpemU6cCxjYjpufSl9fSxyLnN0YXJ0Q29tbWl0PWZ1bmN0aW9uKGUpe3ZhciB0PWUucHVsc2F0ZSxuPWUucmlwcGxlWCxpPWUucmlwcGxlWSxvPWUucmlwcGxlU2l6ZSxzPWUuY2I7ci5zZXRTdGF0ZSgoZnVuY3Rpb24oZSl7cmV0dXJue25leHRLZXk6ZS5uZXh0S2V5KzEscmlwcGxlczpbXS5jb25jYXQoKDAsYS5kZWZhdWx0KShlLnJpcHBsZXMpLFtwLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh5LmRlZmF1bHQse2tleTplLm5leHRLZXksY2xhc3NlczpyLnByb3BzLmNsYXNzZXMsdGltZW91dDp7ZXhpdDo1NTAsZW50ZXI6NTUwfSxwdWxzYXRlOnQscmlwcGxlWDpuLHJpcHBsZVk6aSxyaXBwbGVTaXplOm99KV0pfX0pLHMpfSxyLnN0b3A9ZnVuY3Rpb24oZSx0KXtjbGVhclRpbWVvdXQoci5zdGFydFRpbWVyKTt2YXIgbj1yLnN0YXRlLnJpcHBsZXM7aWYoXCJ0b3VjaGVuZFwiPT09ZS50eXBlJiZyLnN0YXJ0VGltZXJDb21taXQpcmV0dXJuIGUucGVyc2lzdCgpLHIuc3RhcnRUaW1lckNvbW1pdCgpLHIuc3RhcnRUaW1lckNvbW1pdD1udWxsLHZvaWQoci5zdGFydFRpbWVyPXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7ci5zdG9wKGUsdCl9KSkpO3Iuc3RhcnRUaW1lckNvbW1pdD1udWxsLG4mJm4ubGVuZ3RoJiZyLnNldFN0YXRlKHtyaXBwbGVzOm4uc2xpY2UoMSl9LHQpfSxyfXJldHVybigwLGguZGVmYXVsdCkodCxlKSwoMCxsLmRlZmF1bHQpKHQsW3trZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuc3RhcnRUaW1lcil9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnByb3BzLHQ9KGUuY2VudGVyLGUuY2xhc3Nlcykscj1lLmNsYXNzTmFtZSxuPSgwLG8uZGVmYXVsdCkoZSxbXCJjZW50ZXJcIixcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiXSk7cmV0dXJuIHAuZGVmYXVsdC5jcmVhdGVFbGVtZW50KG0uZGVmYXVsdCwoMCxpLmRlZmF1bHQpKHtjb21wb25lbnQ6XCJzcGFuXCIsZW50ZXI6ITAsZXhpdDohMCxjbGFzc05hbWU6KDAsZy5kZWZhdWx0KSh0LnJvb3Qscil9LG4pLHRoaXMuc3RhdGUucmlwcGxlcyl9fV0pLHR9KHAuZGVmYXVsdC5QdXJlQ29tcG9uZW50KTt4LmRlZmF1bHRQcm9wcz17Y2VudGVyOiExfTt2YXIgYj0oMCxfLmRlZmF1bHQpKHYse2ZsaXA6ITEsbmFtZTpcIk11aVRvdWNoUmlwcGxlXCJ9KSh4KTt0LmRlZmF1bHQ9Yn0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTYxKSxpPXIoMTYyKSxvPXIoMTYzKSxhPXIoMTY0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSl8fGkoZSl8fG8oZSl8fGEoKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1OSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG4oZSl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lW1wiQEBpdGVyYXRvclwiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQscil7dmFyIG49cig1OSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIG4oZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuXCJPYmplY3RcIj09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSksXCJNYXBcIj09PXJ8fFwiU2V0XCI9PT1yP0FycmF5LmZyb20oZSk6XCJBcmd1bWVudHNcIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpP24oZSx0KTp2b2lkIDB9fSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIil9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuPXMocigzKSksaT1zKHIoMSkpLG89cig2MCksYT1yKDE2Nik7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbCgpe3JldHVybihsPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYyhlKXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4gZX12YXIgdT1PYmplY3QudmFsdWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pKX0saD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQscil7dmFyIG4saT0obj1lLmNhbGwodGhpcyx0LHIpfHx0aGlzKS5oYW5kbGVFeGl0ZWQuYmluZChjKGMobikpKTtyZXR1cm4gbi5zdGF0ZT17aGFuZGxlRXhpdGVkOmksZmlyc3RSZW5kZXI6ITB9LG59IWZ1bmN0aW9uKGUsdCl7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLl9fcHJvdG9fXz10fSh0LGUpO3ZhciByPXQucHJvdG90eXBlO3JldHVybiByLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybnt0cmFuc2l0aW9uR3JvdXA6e2lzTW91bnRpbmc6IXRoaXMuYXBwZWFyZWR9fX0sci5jb21wb25lbnREaWRNb3VudD1mdW5jdGlvbigpe3RoaXMuYXBwZWFyZWQ9ITAsdGhpcy5tb3VudGVkPSEwfSxyLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dGhpcy5tb3VudGVkPSExfSx0LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcz1mdW5jdGlvbihlLHQpe3ZhciByPXQuY2hpbGRyZW4sbj10LmhhbmRsZUV4aXRlZDtyZXR1cm57Y2hpbGRyZW46dC5maXJzdFJlbmRlcj8oMCxhLmdldEluaXRpYWxDaGlsZE1hcHBpbmcpKGUsbik6KDAsYS5nZXROZXh0Q2hpbGRNYXBwaW5nKShlLHIsbiksZmlyc3RSZW5kZXI6ITF9fSxyLmhhbmRsZUV4aXRlZD1mdW5jdGlvbihlLHQpe3ZhciByPSgwLGEuZ2V0Q2hpbGRNYXBwaW5nKSh0aGlzLnByb3BzLmNoaWxkcmVuKTtlLmtleSBpbiByfHwoZS5wcm9wcy5vbkV4aXRlZCYmZS5wcm9wcy5vbkV4aXRlZCh0KSx0aGlzLm1vdW50ZWQmJnRoaXMuc2V0U3RhdGUoKGZ1bmN0aW9uKHQpe3ZhciByPWwoe30sdC5jaGlsZHJlbik7cmV0dXJuIGRlbGV0ZSByW2Uua2V5XSx7Y2hpbGRyZW46cn19KSkpfSxyLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLmNvbXBvbmVudCxyPWUuY2hpbGRGYWN0b3J5LG49ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciByLG4saT17fSxvPU9iamVjdC5rZXlzKGUpO2ZvcihuPTA7bjxvLmxlbmd0aDtuKyspcj1vW25dLHQuaW5kZXhPZihyKT49MHx8KGlbcl09ZVtyXSk7cmV0dXJuIGl9KGUsW1wiY29tcG9uZW50XCIsXCJjaGlsZEZhY3RvcnlcIl0pLG89dSh0aGlzLnN0YXRlLmNoaWxkcmVuKS5tYXAocik7cmV0dXJuIGRlbGV0ZSBuLmFwcGVhcixkZWxldGUgbi5lbnRlcixkZWxldGUgbi5leGl0LG51bGw9PT10P286aS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodCxuLG8pfSx0fShpLmRlZmF1bHQuQ29tcG9uZW50KTtoLmNoaWxkQ29udGV4dFR5cGVzPXt0cmFuc2l0aW9uR3JvdXA6bi5kZWZhdWx0Lm9iamVjdC5pc1JlcXVpcmVkfSxoLnByb3BUeXBlcz17fSxoLmRlZmF1bHRQcm9wcz17Y29tcG9uZW50OlwiZGl2XCIsY2hpbGRGYWN0b3J5OmZ1bmN0aW9uKGUpe3JldHVybiBlfX07dmFyIGQ9KDAsby5wb2x5ZmlsbCkoaCk7dC5kZWZhdWx0PWQsZS5leHBvcnRzPXQuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmdldENoaWxkTWFwcGluZz1pLHQubWVyZ2VDaGlsZE1hcHBpbmdzPW8sdC5nZXRJbml0aWFsQ2hpbGRNYXBwaW5nPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZS5jaGlsZHJlbiwoZnVuY3Rpb24ocil7cmV0dXJuKDAsbi5jbG9uZUVsZW1lbnQpKHIse29uRXhpdGVkOnQuYmluZChudWxsLHIpLGluOiEwLGFwcGVhcjphKHIsXCJhcHBlYXJcIixlKSxlbnRlcjphKHIsXCJlbnRlclwiLGUpLGV4aXQ6YShyLFwiZXhpdFwiLGUpfSl9KSl9LHQuZ2V0TmV4dENoaWxkTWFwcGluZz1mdW5jdGlvbihlLHQscil7dmFyIHM9aShlLmNoaWxkcmVuKSxsPW8odCxzKTtyZXR1cm4gT2JqZWN0LmtleXMobCkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dmFyIG89bFtpXTtpZigoMCxuLmlzVmFsaWRFbGVtZW50KShvKSl7dmFyIGM9aSBpbiB0LHU9aSBpbiBzLGg9dFtpXSxkPSgwLG4uaXNWYWxpZEVsZW1lbnQpKGgpJiYhaC5wcm9wcy5pbjshdXx8YyYmIWQ/dXx8IWN8fGQ/dSYmYyYmKDAsbi5pc1ZhbGlkRWxlbWVudCkoaCkmJihsW2ldPSgwLG4uY2xvbmVFbGVtZW50KShvLHtvbkV4aXRlZDpyLmJpbmQobnVsbCxvKSxpbjpoLnByb3BzLmluLGV4aXQ6YShvLFwiZXhpdFwiLGUpLGVudGVyOmEobyxcImVudGVyXCIsZSl9KSk6bFtpXT0oMCxuLmNsb25lRWxlbWVudCkobyx7aW46ITF9KTpsW2ldPSgwLG4uY2xvbmVFbGVtZW50KShvLHtvbkV4aXRlZDpyLmJpbmQobnVsbCxvKSxpbjohMCxleGl0OmEobyxcImV4aXRcIixlKSxlbnRlcjphKG8sXCJlbnRlclwiLGUpfSl9fSkpLGx9O3ZhciBuPXIoMSk7ZnVuY3Rpb24gaShlLHQpe3ZhciByPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGUmJm4uQ2hpbGRyZW4ubWFwKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JbZS5rZXldPWZ1bmN0aW9uKGUpe3JldHVybiB0JiYoMCxuLmlzVmFsaWRFbGVtZW50KShlKT90KGUpOmV9KGUpfSkpLHJ9ZnVuY3Rpb24gbyhlLHQpe2Z1bmN0aW9uIHIocil7cmV0dXJuIHIgaW4gdD90W3JdOmVbcl19ZT1lfHx7fSx0PXR8fHt9O3ZhciBuLGk9T2JqZWN0LmNyZWF0ZShudWxsKSxvPVtdO2Zvcih2YXIgYSBpbiBlKWEgaW4gdD9vLmxlbmd0aCYmKGlbYV09byxvPVtdKTpvLnB1c2goYSk7dmFyIHM9e307Zm9yKHZhciBsIGluIHQpe2lmKGlbbF0pZm9yKG49MDtuPGlbbF0ubGVuZ3RoO24rKyl7dmFyIGM9aVtsXVtuXTtzW2lbbF1bbl1dPXIoYyl9c1tsXT1yKGwpfWZvcihuPTA7bjxvLmxlbmd0aDtuKyspc1tvW25dXT1yKG9bbl0pO3JldHVybiBzfWZ1bmN0aW9uIGEoZSx0LHIpe3JldHVybiBudWxsIT1yW3RdP3JbdF06ZS5wcm9wc1t0XX19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9bihyKDIpKSxvPW4ocig1KSksYT1uKHIoNCkpLHM9bihyKDEwKSksbD1uKHIoMTEpKSxjPW4ocigxMikpLHU9bihyKDEzKSksaD1uKHIoMTQpKSxkPW4ocigxKSkscD0obihyKDMpKSxuKHIoOCkpKSxmPW4ocigxNjgpKSxtPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxyOygwLHMuZGVmYXVsdCkodGhpcyx0KTtmb3IodmFyIG49YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheShuKSxvPTA7bzxuO28rKylpW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4ocj0oMCxjLmRlZmF1bHQpKHRoaXMsKGU9KDAsdS5kZWZhdWx0KSh0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQoaSkpKSkuc3RhdGU9e3Zpc2libGU6ITEsbGVhdmluZzohMX0sci5oYW5kbGVFbnRlcj1mdW5jdGlvbigpe3Iuc2V0U3RhdGUoe3Zpc2libGU6ITB9KX0sci5oYW5kbGVFeGl0PWZ1bmN0aW9uKCl7ci5zZXRTdGF0ZSh7bGVhdmluZzohMH0pfSxyfXJldHVybigwLGguZGVmYXVsdCkodCxlKSwoMCxsLmRlZmF1bHQpKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQscj10aGlzLnByb3BzLG49ci5jbGFzc2VzLHM9ci5jbGFzc05hbWUsbD1yLnB1bHNhdGUsYz1yLnJpcHBsZVgsdT1yLnJpcHBsZVksaD1yLnJpcHBsZVNpemUsbT0oMCxhLmRlZmF1bHQpKHIsW1wiY2xhc3Nlc1wiLFwiY2xhc3NOYW1lXCIsXCJwdWxzYXRlXCIsXCJyaXBwbGVYXCIsXCJyaXBwbGVZXCIsXCJyaXBwbGVTaXplXCJdKSxnPXRoaXMuc3RhdGUsXz1nLnZpc2libGUseT1nLmxlYXZpbmcsdj0oMCxwLmRlZmF1bHQpKG4ucmlwcGxlLChlPXt9LCgwLG8uZGVmYXVsdCkoZSxuLnJpcHBsZVZpc2libGUsXyksKDAsby5kZWZhdWx0KShlLG4ucmlwcGxlUHVsc2F0ZSxsKSxlKSxzKSx4PXt3aWR0aDpoLGhlaWdodDpoLHRvcDotaC8yK3UsbGVmdDotaC8yK2N9LGI9KDAscC5kZWZhdWx0KShuLmNoaWxkLCh0PXt9LCgwLG8uZGVmYXVsdCkodCxuLmNoaWxkTGVhdmluZyx5KSwoMCxvLmRlZmF1bHQpKHQsbi5jaGlsZFB1bHNhdGUsbCksdCkpO3JldHVybiBkLmRlZmF1bHQuY3JlYXRlRWxlbWVudChmLmRlZmF1bHQsKDAsaS5kZWZhdWx0KSh7b25FbnRlcjp0aGlzLmhhbmRsZUVudGVyLG9uRXhpdDp0aGlzLmhhbmRsZUV4aXR9LG0pLGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6dixzdHlsZTp4fSxkLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOmJ9KSkpfX1dKSx0fShkLmRlZmF1bHQuQ29tcG9uZW50KTttLmRlZmF1bHRQcm9wcz17cHVsc2F0ZTohMX07dmFyIGc9bTt0LmRlZmF1bHQ9Z30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dC5FWElUSU5HPXQuRU5URVJFRD10LkVOVEVSSU5HPXQuRVhJVEVEPXQuVU5NT1VOVEVEPXZvaWQgMDt2YXIgbj1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIHIgaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSl7dmFyIG49T2JqZWN0LmRlZmluZVByb3BlcnR5JiZPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yP09iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKTp7fTtuLmdldHx8bi5zZXQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQscixuKTp0W3JdPWVbcl19cmV0dXJuIHQuZGVmYXVsdD1lLHR9KHIoMykpLGk9cyhyKDEpKSxvPXMocigxOSkpLGE9cig2MCk7cigxNjkpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuVU5NT1VOVEVEPVwidW5tb3VudGVkXCI7dC5FWElURUQ9XCJleGl0ZWRcIjt0LkVOVEVSSU5HPVwiZW50ZXJpbmdcIjt0LkVOVEVSRUQ9XCJlbnRlcmVkXCI7dC5FWElUSU5HPVwiZXhpdGluZ1wiO3ZhciBsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxyKXt2YXIgbjtuPWUuY2FsbCh0aGlzLHQscil8fHRoaXM7dmFyIGksbz1yLnRyYW5zaXRpb25Hcm91cCxhPW8mJiFvLmlzTW91bnRpbmc/dC5lbnRlcjp0LmFwcGVhcjtyZXR1cm4gbi5hcHBlYXJTdGF0dXM9bnVsbCx0LmluP2E/KGk9XCJleGl0ZWRcIixuLmFwcGVhclN0YXR1cz1cImVudGVyaW5nXCIpOmk9XCJlbnRlcmVkXCI6aT10LnVubW91bnRPbkV4aXR8fHQubW91bnRPbkVudGVyP1widW5tb3VudGVkXCI6XCJleGl0ZWRcIixuLnN0YXRlPXtzdGF0dXM6aX0sbi5uZXh0Q2FsbGJhY2s9bnVsbCxufSFmdW5jdGlvbihlLHQpe2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsZS5fX3Byb3RvX189dH0odCxlKTt2YXIgcj10LnByb3RvdHlwZTtyZXR1cm4gci5nZXRDaGlsZENvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm57dHJhbnNpdGlvbkdyb3VwOm51bGx9fSx0LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcz1mdW5jdGlvbihlLHQpe3JldHVybiBlLmluJiZcInVubW91bnRlZFwiPT09dC5zdGF0dXM/e3N0YXR1czpcImV4aXRlZFwifTpudWxsfSxyLmNvbXBvbmVudERpZE1vdW50PWZ1bmN0aW9uKCl7dGhpcy51cGRhdGVTdGF0dXMoITAsdGhpcy5hcHBlYXJTdGF0dXMpfSxyLmNvbXBvbmVudERpZFVwZGF0ZT1mdW5jdGlvbihlKXt2YXIgdD1udWxsO2lmKGUhPT10aGlzLnByb3BzKXt2YXIgcj10aGlzLnN0YXRlLnN0YXR1czt0aGlzLnByb3BzLmluP1wiZW50ZXJpbmdcIiE9PXImJlwiZW50ZXJlZFwiIT09ciYmKHQ9XCJlbnRlcmluZ1wiKTpcImVudGVyaW5nXCIhPT1yJiZcImVudGVyZWRcIiE9PXJ8fCh0PVwiZXhpdGluZ1wiKX10aGlzLnVwZGF0ZVN0YXR1cyghMSx0KX0sci5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe3RoaXMuY2FuY2VsTmV4dENhbGxiYWNrKCl9LHIuZ2V0VGltZW91dHM9ZnVuY3Rpb24oKXt2YXIgZSx0LHIsbj10aGlzLnByb3BzLnRpbWVvdXQ7cmV0dXJuIGU9dD1yPW4sbnVsbCE9biYmXCJudW1iZXJcIiE9dHlwZW9mIG4mJihlPW4uZXhpdCx0PW4uZW50ZXIscj12b2lkIDAhPT1uLmFwcGVhcj9uLmFwcGVhcjp0KSx7ZXhpdDplLGVudGVyOnQsYXBwZWFyOnJ9fSxyLnVwZGF0ZVN0YXR1cz1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PWUmJihlPSExKSxudWxsIT09dCl7dGhpcy5jYW5jZWxOZXh0Q2FsbGJhY2soKTt2YXIgcj1vLmRlZmF1bHQuZmluZERPTU5vZGUodGhpcyk7XCJlbnRlcmluZ1wiPT09dD90aGlzLnBlcmZvcm1FbnRlcihyLGUpOnRoaXMucGVyZm9ybUV4aXQocil9ZWxzZSB0aGlzLnByb3BzLnVubW91bnRPbkV4aXQmJlwiZXhpdGVkXCI9PT10aGlzLnN0YXRlLnN0YXR1cyYmdGhpcy5zZXRTdGF0ZSh7c3RhdHVzOlwidW5tb3VudGVkXCJ9KX0sci5wZXJmb3JtRW50ZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzLG49dGhpcy5wcm9wcy5lbnRlcixpPXRoaXMuY29udGV4dC50cmFuc2l0aW9uR3JvdXA/dGhpcy5jb250ZXh0LnRyYW5zaXRpb25Hcm91cC5pc01vdW50aW5nOnQsbz10aGlzLmdldFRpbWVvdXRzKCksYT1pP28uYXBwZWFyOm8uZW50ZXI7dHx8bj8odGhpcy5wcm9wcy5vbkVudGVyKGUsaSksdGhpcy5zYWZlU2V0U3RhdGUoe3N0YXR1czpcImVudGVyaW5nXCJ9LChmdW5jdGlvbigpe3IucHJvcHMub25FbnRlcmluZyhlLGkpLHIub25UcmFuc2l0aW9uRW5kKGUsYSwoZnVuY3Rpb24oKXtyLnNhZmVTZXRTdGF0ZSh7c3RhdHVzOlwiZW50ZXJlZFwifSwoZnVuY3Rpb24oKXtyLnByb3BzLm9uRW50ZXJlZChlLGkpfSkpfSkpfSkpKTp0aGlzLnNhZmVTZXRTdGF0ZSh7c3RhdHVzOlwiZW50ZXJlZFwifSwoZnVuY3Rpb24oKXtyLnByb3BzLm9uRW50ZXJlZChlKX0pKX0sci5wZXJmb3JtRXhpdD1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dGhpcy5wcm9wcy5leGl0LG49dGhpcy5nZXRUaW1lb3V0cygpO3I/KHRoaXMucHJvcHMub25FeGl0KGUpLHRoaXMuc2FmZVNldFN0YXRlKHtzdGF0dXM6XCJleGl0aW5nXCJ9LChmdW5jdGlvbigpe3QucHJvcHMub25FeGl0aW5nKGUpLHQub25UcmFuc2l0aW9uRW5kKGUsbi5leGl0LChmdW5jdGlvbigpe3Quc2FmZVNldFN0YXRlKHtzdGF0dXM6XCJleGl0ZWRcIn0sKGZ1bmN0aW9uKCl7dC5wcm9wcy5vbkV4aXRlZChlKX0pKX0pKX0pKSk6dGhpcy5zYWZlU2V0U3RhdGUoe3N0YXR1czpcImV4aXRlZFwifSwoZnVuY3Rpb24oKXt0LnByb3BzLm9uRXhpdGVkKGUpfSkpfSxyLmNhbmNlbE5leHRDYWxsYmFjaz1mdW5jdGlvbigpe251bGwhPT10aGlzLm5leHRDYWxsYmFjayYmKHRoaXMubmV4dENhbGxiYWNrLmNhbmNlbCgpLHRoaXMubmV4dENhbGxiYWNrPW51bGwpfSxyLnNhZmVTZXRTdGF0ZT1mdW5jdGlvbihlLHQpe3Q9dGhpcy5zZXROZXh0Q2FsbGJhY2sodCksdGhpcy5zZXRTdGF0ZShlLHQpfSxyLnNldE5leHRDYWxsYmFjaz1mdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ITA7cmV0dXJuIHRoaXMubmV4dENhbGxiYWNrPWZ1bmN0aW9uKG4pe3ImJihyPSExLHQubmV4dENhbGxiYWNrPW51bGwsZShuKSl9LHRoaXMubmV4dENhbGxiYWNrLmNhbmNlbD1mdW5jdGlvbigpe3I9ITF9LHRoaXMubmV4dENhbGxiYWNrfSxyLm9uVHJhbnNpdGlvbkVuZD1mdW5jdGlvbihlLHQscil7dGhpcy5zZXROZXh0Q2FsbGJhY2socik7dmFyIG49bnVsbD09dCYmIXRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXI7ZSYmIW4/KHRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXImJnRoaXMucHJvcHMuYWRkRW5kTGlzdGVuZXIoZSx0aGlzLm5leHRDYWxsYmFjayksbnVsbCE9dCYmc2V0VGltZW91dCh0aGlzLm5leHRDYWxsYmFjayx0KSk6c2V0VGltZW91dCh0aGlzLm5leHRDYWxsYmFjaywwKX0sci5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnN0YXRlLnN0YXR1cztpZihcInVubW91bnRlZFwiPT09ZSlyZXR1cm4gbnVsbDt2YXIgdD10aGlzLnByb3BzLHI9dC5jaGlsZHJlbixuPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgcixuLGk9e30sbz1PYmplY3Qua2V5cyhlKTtmb3Iobj0wO248by5sZW5ndGg7bisrKXI9b1tuXSx0LmluZGV4T2Yocik+PTB8fChpW3JdPWVbcl0pO3JldHVybiBpfSh0LFtcImNoaWxkcmVuXCJdKTtpZihkZWxldGUgbi5pbixkZWxldGUgbi5tb3VudE9uRW50ZXIsZGVsZXRlIG4udW5tb3VudE9uRXhpdCxkZWxldGUgbi5hcHBlYXIsZGVsZXRlIG4uZW50ZXIsZGVsZXRlIG4uZXhpdCxkZWxldGUgbi50aW1lb3V0LGRlbGV0ZSBuLmFkZEVuZExpc3RlbmVyLGRlbGV0ZSBuLm9uRW50ZXIsZGVsZXRlIG4ub25FbnRlcmluZyxkZWxldGUgbi5vbkVudGVyZWQsZGVsZXRlIG4ub25FeGl0LGRlbGV0ZSBuLm9uRXhpdGluZyxkZWxldGUgbi5vbkV4aXRlZCxcImZ1bmN0aW9uXCI9PXR5cGVvZiByKXJldHVybiByKGUsbik7dmFyIG89aS5kZWZhdWx0LkNoaWxkcmVuLm9ubHkocik7cmV0dXJuIGkuZGVmYXVsdC5jbG9uZUVsZW1lbnQobyxuKX0sdH0oaS5kZWZhdWx0LkNvbXBvbmVudCk7ZnVuY3Rpb24gYygpe31sLmNvbnRleHRUeXBlcz17dHJhbnNpdGlvbkdyb3VwOm4ub2JqZWN0fSxsLmNoaWxkQ29udGV4dFR5cGVzPXt0cmFuc2l0aW9uR3JvdXA6ZnVuY3Rpb24oKXt9fSxsLnByb3BUeXBlcz17fSxsLmRlZmF1bHRQcm9wcz17aW46ITEsbW91bnRPbkVudGVyOiExLHVubW91bnRPbkV4aXQ6ITEsYXBwZWFyOiExLGVudGVyOiEwLGV4aXQ6ITAsb25FbnRlcjpjLG9uRW50ZXJpbmc6YyxvbkVudGVyZWQ6YyxvbkV4aXQ6YyxvbkV4aXRpbmc6YyxvbkV4aXRlZDpjfSxsLlVOTU9VTlRFRD0wLGwuRVhJVEVEPTEsbC5FTlRFUklORz0yLGwuRU5URVJFRD0zLGwuRVhJVElORz00O3ZhciB1PSgwLGEucG9seWZpbGwpKGwpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwLHQuY2xhc3NOYW1lc1NoYXBlPXQudGltZW91dHNTaGFwZT12b2lkIDA7IWZ1bmN0aW9uKGUpe2UmJmUuX19lc01vZHVsZX0ocigzKSk7dC50aW1lb3V0c1NoYXBlPW51bGw7dC5jbGFzc05hbWVzU2hhcGU9bnVsbH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIG49ZnVuY3Rpb24oZSx0LHIsbil7cmV0dXJuIGZ1bmN0aW9uKGkpe24mJm4uY2FsbChlLGkpO3ZhciBvPSExO3JldHVybiBpLmRlZmF1bHRQcmV2ZW50ZWQmJihvPSEwKSxlLnByb3BzLmRpc2FibGVUb3VjaFJpcHBsZSYmXCJCbHVyXCIhPT10JiYobz0hMCksIW8mJmUucmlwcGxlJiZlLnJpcHBsZVtyXShpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnByb3BzW1wib25cIi5jb25jYXQodCldJiZlLnByb3BzW1wib25cIi5jb25jYXQodCldKGkpLCEwfX07XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdyYmKG49ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt9fSk7dmFyIGk9bjt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1uKHIoMSkpLG89bihyKDYxKSksYT1uKHIoNjQpKSxzPWkuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTEyIDJDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgMThjLTQuNDIgMC04LTMuNTgtOC04czMuNTgtOCA4LTggOCAzLjU4IDggOC0zLjU4IDgtOCA4elwifSksbD1mdW5jdGlvbihlKXtyZXR1cm4gaS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoYS5kZWZhdWx0LGUscyl9OyhsPSgwLG8uZGVmYXVsdCkobCkpLm11aU5hbWU9XCJTdmdJY29uXCI7dmFyIGM9bDt0LmRlZmF1bHQ9Y30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9bihyKDE3MykpLG89cigxKSxhPShuKHIoNjIpKSxuKHIoNjMpKSxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIHI9KDAsby5jcmVhdGVGYWN0b3J5KSh0KTtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3JldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc30oMCxpLmRlZmF1bHQpKG4sdCk7dmFyIG89bi5wcm90b3R5cGU7cmV0dXJuIG8uc2hvdWxkQ29tcG9uZW50VXBkYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBlKHRoaXMucHJvcHMsdCl9LG8ucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIHIodGhpcy5wcm9wcyl9LG59KG8uQ29tcG9uZW50KX19KTt0LmRlZmF1bHQ9YX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoNTYpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUpLGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUsbihlLHQpfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgbj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gcltlXT10LHJ9fTt0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBuPWZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZT9lLmRpc3BsYXlOYW1lfHxlLm5hbWV8fFwiQ29tcG9uZW50XCI6dm9pZCAwfTt0LmRlZmF1bHQ9bn0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9bihyKDE3NykpLmRlZmF1bHQ7dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIGkoZSx0KXtyZXR1cm4gZT09PXQ/MCE9PWV8fDAhPT10fHwxL2U9PTEvdDplIT1lJiZ0IT10fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKGkoZSx0KSlyZXR1cm4hMDtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiB0fHxudWxsPT09dClyZXR1cm4hMTt2YXIgcj1PYmplY3Qua2V5cyhlKSxvPU9iamVjdC5rZXlzKHQpO2lmKHIubGVuZ3RoIT09by5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBhPTA7YTxyLmxlbmd0aDthKyspaWYoIW4uY2FsbCh0LHJbYV0pfHwhaShlW3JbYV1dLHRbclthXV0pKXJldHVybiExO3JldHVybiEwfX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDUpKSxhPW4ocig0KSkscz1uKHIoMSkpLGw9KG4ocigzKSksbihyKDgpKSksYz0ocig3KSxuKHIoOSkpKSx1PXIoMTYpLGg9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e3VzZXJTZWxlY3Q6XCJub25lXCIsd2lkdGg6XCIxZW1cIixoZWlnaHQ6XCIxZW1cIixkaXNwbGF5OlwiaW5saW5lLWJsb2NrXCIsZmlsbDpcImN1cnJlbnRDb2xvclwiLGZsZXhTaHJpbms6MCxmb250U2l6ZToyNCx0cmFuc2l0aW9uOmUudHJhbnNpdGlvbnMuY3JlYXRlKFwiZmlsbFwiLHtkdXJhdGlvbjplLnRyYW5zaXRpb25zLmR1cmF0aW9uLnNob3J0ZXJ9KX0sY29sb3JQcmltYXJ5Ontjb2xvcjplLnBhbGV0dGUucHJpbWFyeS5tYWlufSxjb2xvclNlY29uZGFyeTp7Y29sb3I6ZS5wYWxldHRlLnNlY29uZGFyeS5tYWlufSxjb2xvckFjdGlvbjp7Y29sb3I6ZS5wYWxldHRlLmFjdGlvbi5hY3RpdmV9LGNvbG9yRXJyb3I6e2NvbG9yOmUucGFsZXR0ZS5lcnJvci5tYWlufSxjb2xvckRpc2FibGVkOntjb2xvcjplLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkfSxmb250U2l6ZUluaGVyaXQ6e2ZvbnRTaXplOlwiaW5oZXJpdFwifSxmb250U2l6ZVNtYWxsOntmb250U2l6ZToyMH0sZm9udFNpemVMYXJnZTp7Zm9udFNpemU6MzV9fX07ZnVuY3Rpb24gZChlKXt2YXIgdCxyPWUuY2hpbGRyZW4sbj1lLmNsYXNzZXMsYz1lLmNsYXNzTmFtZSxoPWUuY29sb3IsZD1lLmNvbXBvbmVudCxwPWUuZm9udFNpemUsZj1lLm5hdGl2ZUNvbG9yLG09ZS50aXRsZUFjY2VzcyxnPWUudmlld0JveCxfPSgwLGEuZGVmYXVsdCkoZSxbXCJjaGlsZHJlblwiLFwiY2xhc3Nlc1wiLFwiY2xhc3NOYW1lXCIsXCJjb2xvclwiLFwiY29tcG9uZW50XCIsXCJmb250U2l6ZVwiLFwibmF0aXZlQ29sb3JcIixcInRpdGxlQWNjZXNzXCIsXCJ2aWV3Qm94XCJdKTtyZXR1cm4gcy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoZCwoMCxpLmRlZmF1bHQpKHtjbGFzc05hbWU6KDAsbC5kZWZhdWx0KShuLnJvb3QsKHQ9e30sKDAsby5kZWZhdWx0KSh0LG5bXCJjb2xvclwiLmNvbmNhdCgoMCx1LmNhcGl0YWxpemUpKGgpKV0sXCJpbmhlcml0XCIhPT1oKSwoMCxvLmRlZmF1bHQpKHQsbltcImZvbnRTaXplXCIuY29uY2F0KCgwLHUuY2FwaXRhbGl6ZSkocCkpXSxcImRlZmF1bHRcIiE9PXApLHQpLGMpLGZvY3VzYWJsZTpcImZhbHNlXCIsdmlld0JveDpnLGNvbG9yOmYsXCJhcmlhLWhpZGRlblwiOm0/XCJmYWxzZVwiOlwidHJ1ZVwiLHJvbGU6bT9cImltZ1wiOlwicHJlc2VudGF0aW9uXCJ9LF8pLHIsbT9zLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInRpdGxlXCIsbnVsbCxtKTpudWxsKX10LnN0eWxlcz1oLGQuZGVmYXVsdFByb3BzPXtjb2xvcjpcImluaGVyaXRcIixjb21wb25lbnQ6XCJzdmdcIixmb250U2l6ZTpcImRlZmF1bHRcIix2aWV3Qm94OlwiMCAwIDI0IDI0XCJ9LGQubXVpTmFtZT1cIlN2Z0ljb25cIjt2YXIgcD0oMCxjLmRlZmF1bHQpKGgse25hbWU6XCJNdWlTdmdJY29uXCJ9KShkKTt0LmRlZmF1bHQ9cH0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1uKHIoMSkpLG89bihyKDYxKSksYT1uKHIoNjQpKSxzPWkuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLHtkOlwiTTEyIDdjLTIuNzYgMC01IDIuMjQtNSA1czIuMjQgNSA1IDUgNS0yLjI0IDUtNS0yLjI0LTUtNS01em0wLTVDNi40OCAyIDIgNi40OCAyIDEyczQuNDggMTAgMTAgMTAgMTAtNC40OCAxMC0xMFMxNy41MiAyIDEyIDJ6bTAgMThjLTQuNDIgMC04LTMuNTgtOC04czMuNTgtOCA4LTggOCAzLjU4IDggOC0zLjU4IDgtOCA4elwifSksbD1mdW5jdGlvbihlKXtyZXR1cm4gaS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoYS5kZWZhdWx0LGUscyl9OyhsPSgwLG8uZGVmYXVsdCkobCkpLm11aU5hbWU9XCJTdmdJY29uXCI7dmFyIGM9bDt0LmRlZmF1bHQ9Y30sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuZGVmYXVsdH19KTt2YXIgaT1uKHIoMTgxKSl9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9bihyKDIpKSxvPW4ocig0KSksYT1uKHIoMTApKSxzPW4ocigxMSkpLGw9bihyKDEyKSksYz1uKHIoMTMpKSx1PW4ocigxNCkpLGg9bihyKDEpKSxkPShuKHIoMykpLG4ocig2KSksbihyKDE4MikpKSxwPXIoMTYpLGY9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgcjtyZXR1cm4oMCxhLmRlZmF1bHQpKHRoaXMsdCksKHI9KDAsbC5kZWZhdWx0KSh0aGlzLCgwLGMuZGVmYXVsdCkodCkuY2FsbCh0aGlzKSkpLnJhZGlvcz1bXSxyLmZvY3VzPWZ1bmN0aW9uKCl7aWYoci5yYWRpb3MmJnIucmFkaW9zLmxlbmd0aCl7dmFyIGU9ci5yYWRpb3MuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZS5kaXNhYmxlZH0pKTtpZihlLmxlbmd0aCl7dmFyIHQ9KDAscC5maW5kKShlLChmdW5jdGlvbihlKXtyZXR1cm4gZS5jaGVja2VkfSkpO3Q/dC5mb2N1cygpOmVbMF0uZm9jdXMoKX19fSxyLmhhbmRsZUNoYW5nZT1mdW5jdGlvbihlKXtyLmlzQ29udHJvbGxlZHx8ci5zZXRTdGF0ZSh7dmFsdWU6ZS50YXJnZXQudmFsdWV9KSxyLnByb3BzLm9uQ2hhbmdlJiZyLnByb3BzLm9uQ2hhbmdlKGUsZS50YXJnZXQudmFsdWUpfSxyLmlzQ29udHJvbGxlZD1udWxsIT1lLnZhbHVlLHIuaXNDb250cm9sbGVkfHwoci5zdGF0ZT17dmFsdWU6ZS5kZWZhdWx0VmFsdWV9KSxyfXJldHVybigwLHUuZGVmYXVsdCkodCxlKSwoMCxzLmRlZmF1bHQpKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLnByb3BzLHI9dC5jaGlsZHJlbixuPXQubmFtZSxhPXQudmFsdWUscz0odC5vbkNoYW5nZSwoMCxvLmRlZmF1bHQpKHQsW1wiY2hpbGRyZW5cIixcIm5hbWVcIixcInZhbHVlXCIsXCJvbkNoYW5nZVwiXSkpLGw9dGhpcy5pc0NvbnRyb2xsZWQ/YTp0aGlzLnN0YXRlLnZhbHVlO3JldHVybiB0aGlzLnJhZGlvcz1bXSxoLmRlZmF1bHQuY3JlYXRlRWxlbWVudChkLmRlZmF1bHQsKDAsaS5kZWZhdWx0KSh7cm9sZTpcInJhZGlvZ3JvdXBcIn0scyksaC5kZWZhdWx0LkNoaWxkcmVuLm1hcChyLChmdW5jdGlvbih0KXtyZXR1cm4gaC5kZWZhdWx0LmlzVmFsaWRFbGVtZW50KHQpP2guZGVmYXVsdC5jbG9uZUVsZW1lbnQodCx7bmFtZTpuLGlucHV0UmVmOmZ1bmN0aW9uKHQpe3QmJmUucmFkaW9zLnB1c2godCl9LGNoZWNrZWQ6bD09PXQucHJvcHMudmFsdWUsb25DaGFuZ2U6KDAscC5jcmVhdGVDaGFpbmVkRnVuY3Rpb24pKHQucHJvcHMub25DaGFuZ2UsZS5oYW5kbGVDaGFuZ2UpfSk6bnVsbH0pKSl9fV0pLHR9KGguZGVmYXVsdC5Db21wb25lbnQpO3QuZGVmYXVsdD1mfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0fX0pO3ZhciBpPW4ocigxODMpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDUpKSxhPW4ocig0KSkscz1uKHIoMSkpLGw9KG4ocigzKSksbihyKDgpKSksYz1uKHIoOSkpLHU9e3Jvb3Q6e2Rpc3BsYXk6XCJmbGV4XCIsZmxleERpcmVjdGlvbjpcImNvbHVtblwiLGZsZXhXcmFwOlwid3JhcFwifSxyb3c6e2ZsZXhEaXJlY3Rpb246XCJyb3dcIn19O2Z1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5jbGFzc2VzLHI9ZS5jbGFzc05hbWUsbj1lLmNoaWxkcmVuLGM9ZS5yb3csdT0oMCxhLmRlZmF1bHQpKGUsW1wiY2xhc3Nlc1wiLFwiY2xhc3NOYW1lXCIsXCJjaGlsZHJlblwiLFwicm93XCJdKTtyZXR1cm4gcy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwoMCxpLmRlZmF1bHQpKHtjbGFzc05hbWU6KDAsbC5kZWZhdWx0KSh0LnJvb3QsKDAsby5kZWZhdWx0KSh7fSx0LnJvdyxjKSxyKX0sdSksbil9dC5zdHlsZXM9dSxoLmRlZmF1bHRQcm9wcz17cm93OiExfTt2YXIgZD0oMCxjLmRlZmF1bHQpKHUse25hbWU6XCJNdWlGb3JtR3JvdXBcIn0pKGgpO3QuZGVmYXVsdD1kfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0fX0pO3ZhciBpPW4ocigxODUpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDUpKSxhPW4ocig0KSkscz1uKHIoMSkpLGw9KG4ocigzKSksbihyKDgpKSksYz1uKHIoMzcpKSx1PW4ocig5KSksaD1uKHIoMjYpKSxkPXIoMTYpLHA9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e2Rpc3BsYXk6XCJpbmxpbmUtZmxleFwiLGFsaWduSXRlbXM6XCJjZW50ZXJcIixjdXJzb3I6XCJwb2ludGVyXCIsdmVydGljYWxBbGlnbjpcIm1pZGRsZVwiLFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOlwidHJhbnNwYXJlbnRcIixtYXJnaW5MZWZ0Oi0xNCxtYXJnaW5SaWdodDoxNixcIiYkZGlzYWJsZWRcIjp7Y3Vyc29yOlwiZGVmYXVsdFwifX0sbGFiZWxQbGFjZW1lbnRTdGFydDp7ZmxleERpcmVjdGlvbjpcInJvdy1yZXZlcnNlXCIsbWFyZ2luTGVmdDoxNixtYXJnaW5SaWdodDotMTR9LGxhYmVsUGxhY2VtZW50VG9wOntmbGV4RGlyZWN0aW9uOlwiY29sdW1uLXJldmVyc2VcIixtYXJnaW5MZWZ0OjE2fSxsYWJlbFBsYWNlbWVudEJvdHRvbTp7ZmxleERpcmVjdGlvbjpcImNvbHVtblwiLG1hcmdpbkxlZnQ6MTZ9LGRpc2FibGVkOnt9LGxhYmVsOntcIiYkZGlzYWJsZWRcIjp7Y29sb3I6ZS5wYWxldHRlLnRleHQuZGlzYWJsZWR9fX19O2Z1bmN0aW9uIGYoZSl7ZS5jaGVja2VkO3ZhciB0LHI9ZS5jbGFzc2VzLG49ZS5jbGFzc05hbWUsYz1lLmNvbnRyb2wsdT1lLmRpc2FibGVkLHA9KGUuaW5wdXRSZWYsZS5sYWJlbCksZj1lLmxhYmVsUGxhY2VtZW50LG09ZS5tdWlGb3JtQ29udHJvbCxnPShlLm5hbWUsZS5vbkNoYW5nZSxlLnZhbHVlLCgwLGEuZGVmYXVsdCkoZSxbXCJjaGVja2VkXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbnRyb2xcIixcImRpc2FibGVkXCIsXCJpbnB1dFJlZlwiLFwibGFiZWxcIixcImxhYmVsUGxhY2VtZW50XCIsXCJtdWlGb3JtQ29udHJvbFwiLFwibmFtZVwiLFwib25DaGFuZ2VcIixcInZhbHVlXCJdKSksXz11O3ZvaWQgMD09PV8mJnZvaWQgMCE9PWMucHJvcHMuZGlzYWJsZWQmJihfPWMucHJvcHMuZGlzYWJsZWQpLHZvaWQgMD09PV8mJm0mJihfPW0uZGlzYWJsZWQpO3ZhciB5PXtkaXNhYmxlZDpffTtyZXR1cm5bXCJjaGVja2VkXCIsXCJuYW1lXCIsXCJvbkNoYW5nZVwiLFwidmFsdWVcIixcImlucHV0UmVmXCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZvaWQgMD09PWMucHJvcHNbdF0mJnZvaWQgMCE9PWVbdF0mJih5W3RdPWVbdF0pfSkpLHMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiwoMCxpLmRlZmF1bHQpKHtjbGFzc05hbWU6KDAsbC5kZWZhdWx0KShyLnJvb3QsKHQ9e30sKDAsby5kZWZhdWx0KSh0LHJbXCJsYWJlbFBsYWNlbWVudFwiLmNvbmNhdCgoMCxkLmNhcGl0YWxpemUpKGYpKV0sXCJlbmRcIiE9PWYpLCgwLG8uZGVmYXVsdCkodCxyLmRpc2FibGVkLF8pLHQpLG4pfSxnKSxzLmRlZmF1bHQuY2xvbmVFbGVtZW50KGMseSkscy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoaC5kZWZhdWx0LHtjb21wb25lbnQ6XCJzcGFuXCIsY2xhc3NOYW1lOigwLGwuZGVmYXVsdCkoci5sYWJlbCwoMCxvLmRlZmF1bHQpKHt9LHIuZGlzYWJsZWQsXykpfSxwKSl9dC5zdHlsZXM9cCxmLmRlZmF1bHRQcm9wcz17bGFiZWxQbGFjZW1lbnQ6XCJlbmRcIn07dmFyIG09KDAsdS5kZWZhdWx0KShwLHtuYW1lOlwiTXVpRm9ybUNvbnRyb2xMYWJlbFwifSkoKDAsYy5kZWZhdWx0KShmKSk7dC5kZWZhdWx0PW19LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBpLmRlZmF1bHR9fSk7dmFyIGk9bihyKDE4NykpfSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciBpPW4ocigyKSksbz1uKHIoNSkpLGE9bihyKDQpKSxzPW4ocigxMCkpLGw9bihyKDEyKSksYz1uKHIoMTMpKSx1PW4ocigxMSkpLGg9bihyKDE0KSksZD1uKHIoMSkpLHA9KG4ocigzKSksbihyKDgpKSksZj0ocig3KSxyKDE4OCkpLG09bihyKDkpKSxnPXIoMTYpLF89cigxODkpLHk9bihyKDU3KSksdj17cm9vdDp7ZGlzcGxheTpcImlubGluZS1mbGV4XCIsZmxleERpcmVjdGlvbjpcImNvbHVtblwiLHBvc2l0aW9uOlwicmVsYXRpdmVcIixtaW5XaWR0aDowLHBhZGRpbmc6MCxtYXJnaW46MCxib3JkZXI6MCx2ZXJ0aWNhbEFsaWduOlwidG9wXCJ9LG1hcmdpbk5vcm1hbDp7bWFyZ2luVG9wOjE2LG1hcmdpbkJvdHRvbTo4fSxtYXJnaW5EZW5zZTp7bWFyZ2luVG9wOjgsbWFyZ2luQm90dG9tOjR9LGZ1bGxXaWR0aDp7d2lkdGg6XCIxMDAlXCJ9fTt0LnN0eWxlcz12O3ZhciB4PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIHI7KDAscy5kZWZhdWx0KSh0aGlzLHQpLChyPSgwLGwuZGVmYXVsdCkodGhpcywoMCxjLmRlZmF1bHQpKHQpLmNhbGwodGhpcykpKS5oYW5kbGVGb2N1cz1mdW5jdGlvbigpe3Iuc2V0U3RhdGUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmZvY3VzZWQ/bnVsbDp7Zm9jdXNlZDohMH19KSl9LHIuaGFuZGxlQmx1cj1mdW5jdGlvbigpe3Iuc2V0U3RhdGUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmZvY3VzZWQ/e2ZvY3VzZWQ6ITF9Om51bGx9KSl9LHIuaGFuZGxlRGlydHk9ZnVuY3Rpb24oKXtyLnN0YXRlLmZpbGxlZHx8ci5zZXRTdGF0ZSh7ZmlsbGVkOiEwfSl9LHIuaGFuZGxlQ2xlYW49ZnVuY3Rpb24oKXtyLnN0YXRlLmZpbGxlZCYmci5zZXRTdGF0ZSh7ZmlsbGVkOiExfSl9LHIuc3RhdGU9e2Fkb3JuZWRTdGFydDohMSxmaWxsZWQ6ITEsZm9jdXNlZDohMX07dmFyIG49ZS5jaGlsZHJlbjtyZXR1cm4gbiYmZC5kZWZhdWx0LkNoaWxkcmVuLmZvckVhY2gobiwoZnVuY3Rpb24oZSl7aWYoKDAsXy5pc011aUVsZW1lbnQpKGUsW1wiSW5wdXRcIixcIlNlbGVjdFwiXSkpeygwLGYuaXNGaWxsZWQpKGUucHJvcHMsITApJiYoci5zdGF0ZS5maWxsZWQ9ITApO3ZhciB0PSgwLF8uaXNNdWlFbGVtZW50KShlLFtcIlNlbGVjdFwiXSk/ZS5wcm9wcy5pbnB1dDplO3QmJigwLGYuaXNBZG9ybmVkU3RhcnQpKHQucHJvcHMpJiYoci5zdGF0ZS5hZG9ybmVkU3RhcnQ9ITApfX0pKSxyfXJldHVybigwLGguZGVmYXVsdCkodCxlKSwoMCx1LmRlZmF1bHQpKHQsbnVsbCxbe2tleTpcImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZGlzYWJsZWQmJnQuZm9jdXNlZD97Zm9jdXNlZDohMX06bnVsbH19XSksKDAsdS5kZWZhdWx0KSh0LFt7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMucHJvcHMscj10LmNsYXNzZXMsbj10LmNsYXNzTmFtZSxzPXQuY29tcG9uZW50LGw9dC5kaXNhYmxlZCxjPXQuZXJyb3IsdT10LmZ1bGxXaWR0aCxoPXQubWFyZ2luLGY9dC5yZXF1aXJlZCxtPXQudmFyaWFudCxfPSgwLGEuZGVmYXVsdCkodCxbXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbXBvbmVudFwiLFwiZGlzYWJsZWRcIixcImVycm9yXCIsXCJmdWxsV2lkdGhcIixcIm1hcmdpblwiLFwicmVxdWlyZWRcIixcInZhcmlhbnRcIl0pLHY9dGhpcy5zdGF0ZSx4PXthZG9ybmVkU3RhcnQ6di5hZG9ybmVkU3RhcnQsZGlzYWJsZWQ6bCxlcnJvcjpjLGZpbGxlZDp2LmZpbGxlZCxmb2N1c2VkOnYuZm9jdXNlZCxtYXJnaW46aCxvbkJsdXI6dGhpcy5oYW5kbGVCbHVyLG9uRW1wdHk6dGhpcy5oYW5kbGVDbGVhbixvbkZpbGxlZDp0aGlzLmhhbmRsZURpcnR5LG9uRm9jdXM6dGhpcy5oYW5kbGVGb2N1cyxyZXF1aXJlZDpmLHZhcmlhbnQ6bX07cmV0dXJuIGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KHkuZGVmYXVsdC5Qcm92aWRlcix7dmFsdWU6eH0sZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQocywoMCxpLmRlZmF1bHQpKHtjbGFzc05hbWU6KDAscC5kZWZhdWx0KShyLnJvb3QsKGU9e30sKDAsby5kZWZhdWx0KShlLHJbXCJtYXJnaW5cIi5jb25jYXQoKDAsZy5jYXBpdGFsaXplKShoKSldLFwibm9uZVwiIT09aCksKDAsby5kZWZhdWx0KShlLHIuZnVsbFdpZHRoLHUpLGUpLG4pfSxfKSkpfX1dKSx0fShkLmRlZmF1bHQuQ29tcG9uZW50KTt4LmRlZmF1bHRQcm9wcz17Y29tcG9uZW50OlwiZGl2XCIsZGlzYWJsZWQ6ITEsZXJyb3I6ITEsZnVsbFdpZHRoOiExLG1hcmdpbjpcIm5vbmVcIixyZXF1aXJlZDohMSx2YXJpYW50Olwic3RhbmRhcmRcIn07dmFyIGI9KDAsbS5kZWZhdWx0KSh2LHtuYW1lOlwiTXVpRm9ybUNvbnRyb2xcIn0pKHgpO3QuZGVmYXVsdD1ifSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gbnVsbCE9ZSYmIShBcnJheS5pc0FycmF5KGUpJiYwPT09ZS5sZW5ndGgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuaGFzVmFsdWU9bix0LmlzRmlsbGVkPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIGUmJihuKGUudmFsdWUpJiZcIlwiIT09ZS52YWx1ZXx8dCYmbihlLmRlZmF1bHRWYWx1ZSkmJlwiXCIhPT1lLmRlZmF1bHRWYWx1ZSl9LHQuaXNBZG9ybmVkU3RhcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnRBZG9ybm1lbnR9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmNsb25lRWxlbWVudFdpdGhDbGFzc05hbWU9YSx0LmNsb25lQ2hpbGRyZW5XaXRoQ2xhc3NOYW1lPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuZGVmYXVsdC5DaGlsZHJlbi5tYXAoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGkuZGVmYXVsdC5pc1ZhbGlkRWxlbWVudChlKSYmYShlLHQpfSkpfSx0LmlzTXVpRWxlbWVudD1mdW5jdGlvbihlLHQpe3JldHVybiBpLmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQoZSkmJi0xIT09dC5pbmRleE9mKGUudHlwZS5tdWlOYW1lKX0sdC5zZXRSZWY9ZnVuY3Rpb24oZSx0KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UodCk6ZSYmKGUuY3VycmVudD10KX07dmFyIGk9bihyKDEpKSxvPW4ocig4KSk7ZnVuY3Rpb24gYShlLHQpe3JldHVybiBpLmRlZmF1bHQuY2xvbmVFbGVtZW50KGUse2NsYXNzTmFtZTooMCxvLmRlZmF1bHQpKGUucHJvcHMuY2xhc3NOYW1lLHQpfSl9fSxmdW5jdGlvbihlLHQscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaS5kZWZhdWx0fX0pO3ZhciBpPW4ocigxOTEpKX0sZnVuY3Rpb24oZSx0LHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgaT1uKHIoMikpLG89bihyKDUpKSxhPW4ocig0KSkscz1uKHIoMSkpLGw9KG4ocigzKSksbihyKDgpKSksYz0ocig3KSxuKHIoMTkyKSkpLHU9bihyKDM3KSksaD1uKHIoOSkpLGQ9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e2ZvbnRGYW1pbHk6ZS50eXBvZ3JhcGh5LmZvbnRGYW1pbHksY29sb3I6ZS5wYWxldHRlLnRleHQuc2Vjb25kYXJ5LGZvbnRTaXplOmUudHlwb2dyYXBoeS5weFRvUmVtKDE2KSxsaW5lSGVpZ2h0OjEscGFkZGluZzowLFwiJiRmb2N1c2VkXCI6e2NvbG9yOmUucGFsZXR0ZS5wcmltYXJ5W1wibGlnaHRcIj09PWUucGFsZXR0ZS50eXBlP1wiZGFya1wiOlwibGlnaHRcIl19LFwiJiRkaXNhYmxlZFwiOntjb2xvcjplLnBhbGV0dGUudGV4dC5kaXNhYmxlZH0sXCImJGVycm9yXCI6e2NvbG9yOmUucGFsZXR0ZS5lcnJvci5tYWlufX0sZm9jdXNlZDp7fSxkaXNhYmxlZDp7fSxlcnJvcjp7fSxmaWxsZWQ6e30scmVxdWlyZWQ6e30sYXN0ZXJpc2s6e1wiJiRlcnJvclwiOntjb2xvcjplLnBhbGV0dGUuZXJyb3IubWFpbn19fX07ZnVuY3Rpb24gcChlKXt2YXIgdCxyPWUuY2hpbGRyZW4sbj1lLmNsYXNzZXMsdT1lLmNsYXNzTmFtZSxoPWUuY29tcG9uZW50LGQ9KGUuZGlzYWJsZWQsZS5lcnJvcixlLmZpbGxlZCxlLmZvY3VzZWQsZS5tdWlGb3JtQ29udHJvbCkscD0oZS5yZXF1aXJlZCwoMCxhLmRlZmF1bHQpKGUsW1wiY2hpbGRyZW5cIixcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiY29tcG9uZW50XCIsXCJkaXNhYmxlZFwiLFwiZXJyb3JcIixcImZpbGxlZFwiLFwiZm9jdXNlZFwiLFwibXVpRm9ybUNvbnRyb2xcIixcInJlcXVpcmVkXCJdKSksZj0oMCxjLmRlZmF1bHQpKHtwcm9wczplLG11aUZvcm1Db250cm9sOmQsc3RhdGVzOltcInJlcXVpcmVkXCIsXCJmb2N1c2VkXCIsXCJkaXNhYmxlZFwiLFwiZXJyb3JcIixcImZpbGxlZFwiXX0pO3JldHVybiBzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChoLCgwLGkuZGVmYXVsdCkoe2NsYXNzTmFtZTooMCxsLmRlZmF1bHQpKG4ucm9vdCwodD17fSwoMCxvLmRlZmF1bHQpKHQsbi5kaXNhYmxlZCxmLmRpc2FibGVkKSwoMCxvLmRlZmF1bHQpKHQsbi5lcnJvcixmLmVycm9yKSwoMCxvLmRlZmF1bHQpKHQsbi5maWxsZWQsZi5maWxsZWQpLCgwLG8uZGVmYXVsdCkodCxuLmZvY3VzZWQsZi5mb2N1c2VkKSwoMCxvLmRlZmF1bHQpKHQsbi5yZXF1aXJlZCxmLnJlcXVpcmVkKSx0KSx1KX0scCkscixmLnJlcXVpcmVkJiZzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOigwLGwuZGVmYXVsdCkobi5hc3RlcmlzaywoMCxvLmRlZmF1bHQpKHt9LG4uZXJyb3IsZi5lcnJvcikpfSxcIuKAiSpcIikpfXQuc3R5bGVzPWQscC5kZWZhdWx0UHJvcHM9e2NvbXBvbmVudDpcImxhYmVsXCJ9O3ZhciBmPSgwLGguZGVmYXVsdCkoZCx7bmFtZTpcIk11aUZvcm1MYWJlbFwifSkoKDAsdS5kZWZhdWx0KShwKSk7dC5kZWZhdWx0PWZ9LGZ1bmN0aW9uKGUsdCxyKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wcm9wcyxyPWUuc3RhdGVzLG49ZS5tdWlGb3JtQ29udHJvbDtyZXR1cm4gci5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGVbcl09dFtyXSxuJiZ2b2lkIDA9PT10W3JdJiYoZVtyXT1uW3JdKSxlfSkse30pfX0sZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXIoMTk0KTtcInN0cmluZ1wiPT10eXBlb2YgbiYmKG49W1tlLmksbixcIlwiXV0pO3ZhciBpPXtobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07cig2NikobixpKTtuLmxvY2FscyYmKGUuZXhwb3J0cz1uLmxvY2Fscyl9LGZ1bmN0aW9uKGUsdCxyKXsoZS5leHBvcnRzPXIoNjUpKCExKSkucHVzaChbZS5pLFwiLm1hcGJveGdsLW1hcHstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6cmdiKDAgMCAwLzApO2ZvbnQ6MTJweC8yMHB4IEhlbHZldGljYSBOZXVlLEFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmO292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjpyZWxhdGl2ZX0ubWFwYm94Z2wtY2FudmFze2xlZnQ6MDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MH0ubWFwYm94Z2wtbWFwOi13ZWJraXQtZnVsbC1zY3JlZW57aGVpZ2h0OjEwMCU7d2lkdGg6MTAwJX0ubWFwYm94Z2wtY2FuYXJ5e2JhY2tncm91bmQtY29sb3I6c2FsbW9ufS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLWludGVyYWN0aXZlLC5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWNvbXBhc3N7Y3Vyc29yOmdyYWI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9Lm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtaW50ZXJhY3RpdmUubWFwYm94Z2wtdHJhY2stcG9pbnRlcntjdXJzb3I6cG9pbnRlcn0ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC1pbnRlcmFjdGl2ZTphY3RpdmUsLm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uLm1hcGJveGdsLWN0cmwtY29tcGFzczphY3RpdmV7Y3Vyc29yOmdyYWJiaW5nfS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlLC5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlIC5tYXBib3hnbC1jYW52YXN7dG91Y2gtYWN0aW9uOnBhbi14IHBhbi15fS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLWRyYWctcGFuLC5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLWRyYWctcGFuIC5tYXBib3hnbC1jYW52YXN7dG91Y2gtYWN0aW9uOnBpbmNoLXpvb219Lm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUubWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4sLm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUubWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4gLm1hcGJveGdsLWNhbnZhc3t0b3VjaC1hY3Rpb246bm9uZX0ubWFwYm94Z2wtY3RybC1ib3R0b20tbGVmdCwubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQsLm1hcGJveGdsLWN0cmwtdG9wLWxlZnQsLm1hcGJveGdsLWN0cmwtdG9wLXJpZ2h0e3BvaW50ZXItZXZlbnRzOm5vbmU7cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoyfS5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0e2xlZnQ6MDt0b3A6MH0ubWFwYm94Z2wtY3RybC10b3AtcmlnaHR7cmlnaHQ6MDt0b3A6MH0ubWFwYm94Z2wtY3RybC1ib3R0b20tbGVmdHtib3R0b206MDtsZWZ0OjB9Lm1hcGJveGdsLWN0cmwtYm90dG9tLXJpZ2h0e2JvdHRvbTowO3JpZ2h0OjB9Lm1hcGJveGdsLWN0cmx7Y2xlYXI6Ym90aDtwb2ludGVyLWV2ZW50czphdXRvO3RyYW5zZm9ybTp0cmFuc2xhdGUoMCl9Lm1hcGJveGdsLWN0cmwtdG9wLWxlZnQgLm1hcGJveGdsLWN0cmx7ZmxvYXQ6bGVmdDttYXJnaW46MTBweCAwIDAgMTBweH0ubWFwYm94Z2wtY3RybC10b3AtcmlnaHQgLm1hcGJveGdsLWN0cmx7ZmxvYXQ6cmlnaHQ7bWFyZ2luOjEwcHggMTBweCAwIDB9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQgLm1hcGJveGdsLWN0cmx7ZmxvYXQ6bGVmdDttYXJnaW46MCAwIDEwcHggMTBweH0ubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQgLm1hcGJveGdsLWN0cmx7ZmxvYXQ6cmlnaHQ7bWFyZ2luOjAgMTBweCAxMHB4IDB9Lm1hcGJveGdsLWN0cmwtZ3JvdXB7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6NHB4fS5tYXBib3hnbC1jdHJsLWdyb3VwOm5vdCg6ZW1wdHkpe2JveC1zaGFkb3c6MCAwIDAgMnB4IHJnYmEoMCwwLDAsLjEpfUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybC1ncm91cDpub3QoOmVtcHR5KXtib3gtc2hhZG93OjAgMCAwIDJweCBCdXR0b25UZXh0fX0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b257YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXI6MDtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpibG9jaztoZWlnaHQ6MjlweDtvdXRsaW5lOm5vbmU7b3ZlcmZsb3c6aGlkZGVuO3BhZGRpbmc6MDt3aWR0aDoyOXB4fS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbitidXR0b257Ym9yZGVyLXRvcDoxcHggc29saWQgI2RkZH0ubWFwYm94Z2wtY3RybCBidXR0b24gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLXBvc2l0aW9uOjUwJTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7ZGlzcGxheTpibG9jaztoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlfUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnR9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uK2J1dHRvbntib3JkZXItdG9wOjFweCBzb2xpZCBCdXR0b25UZXh0fX0ubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9uOmZvY3VzLC5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbjpmb2N1c3tib3gtc2hhZG93OjAgMCAycHggMnB4ICMwMDk2ZmZ9Lm1hcGJveGdsLWN0cmwgYnV0dG9uOmRpc2FibGVke2N1cnNvcjpub3QtYWxsb3dlZH0ubWFwYm94Z2wtY3RybCBidXR0b246ZGlzYWJsZWQgLm1hcGJveGdsLWN0cmwtaWNvbntvcGFjaXR5Oi4yNX0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b246Zmlyc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czo0cHggNHB4IDAgMH0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b246bGFzdC1jaGlsZHtib3JkZXItcmFkaXVzOjAgMCA0cHggNHB4fS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbjpvbmx5LWNoaWxke2JvcmRlci1yYWRpdXM6aW5oZXJpdH0ubWFwYm94Z2wtY3RybCBidXR0b246bm90KDpkaXNhYmxlZCk6aG92ZXJ7YmFja2dyb3VuZC1jb2xvcjpyZ2IoMCAwIDAvNSUpfS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbjpmb2N1czpmb2N1cy12aXNpYmxle2JveC1zaGFkb3c6MCAwIDJweCAycHggIzAwOTZmZn0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b246Zm9jdXM6bm90KDpmb2N1cy12aXNpYmxlKXtib3gtc2hhZG93Om5vbmV9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtem9vbS1vdXQgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzMzMyclM0UlM0NwYXRoIGQ9J00xMCAxM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmg5Yy43NSAwIDEuNS0uNzUgMS41LTEuNVMxOS43NSAxMyAxOSAxM2gtOXonLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLWluIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzMzMnJTNFJTNDcGF0aCBkPSdNMTQuNSA4LjVjLS43NSAwLTEuNS43NS0xLjUgMS41djNoLTNjLS43NSAwLTEuNS43NS0xLjUgMS41UzkuMjUgMTYgMTAgMTZoM3YzYzAgLjc1Ljc1IDEuNSAxLjUgMS41UzE2IDE5Ljc1IDE2IDE5di0zaDNjLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC0zdi0zYzAtLjc1LS43NS0xLjUtMS41LTEuNXonLyUzRSUzQy9zdmclM0VcXFwiKX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtem9vbS1vdXQgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00xMCAxM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmg5Yy43NSAwIDEuNS0uNzUgMS41LTEuNVMxOS43NSAxMyAxOSAxM2gtOXonLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLWluIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMTQuNSA4LjVjLS43NSAwLTEuNS43NS0xLjUgMS41djNoLTNjLS43NSAwLTEuNS43NS0xLjUgMS41UzkuMjUgMTYgMTAgMTZoM3YzYzAgLjc1Ljc1IDEuNSAxLjUgMS41UzE2IDE5Ljc1IDE2IDE5di0zaDNjLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC0zdi0zYzAtLjc1LS43NS0xLjUtMS41LTEuNXonLyUzRSUzQy9zdmclM0VcXFwiKX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtem9vbS1vdXQgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzAwMCclM0UlM0NwYXRoIGQ9J00xMCAxM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmg5Yy43NSAwIDEuNS0uNzUgMS41LTEuNVMxOS43NSAxMyAxOSAxM2gtOXonLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLWluIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMwMDAnJTNFJTNDcGF0aCBkPSdNMTQuNSA4LjVjLS43NSAwLTEuNS43NS0xLjUgMS41djNoLTNjLS43NSAwLTEuNS43NS0xLjUgMS41UzkuMjUgMTYgMTAgMTZoM3YzYzAgLjc1Ljc1IDEuNSAxLjUgMS41UzE2IDE5Ljc1IDE2IDE5di0zaDNjLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC0zdi0zYzAtLjc1LS43NS0xLjUtMS41LTEuNXonLyUzRSUzQy9zdmclM0VcXFwiKX19Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlbiAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzMzJyUzRSUzQ3BhdGggZD0nTTI0IDE2djUuNWMwIDEuNzUtLjc1IDIuNS0yLjUgMi41SDE2di0xbDMtMS41LTQtNS41IDEtMSA1LjUgNCAxLjUtM2gxek02IDE2bDEuNSAzIDUuNS00IDEgMS00IDUuNSAzIDEuNXYxSDcuNUM1Ljc1IDI0IDUgMjMuMjUgNSAyMS41VjE2aDF6bTctMTF2MWwtMyAxLjUgNCA1LjUtMSAxLTUuNS00TDYgMTNINVY3LjVDNSA1Ljc1IDUuNzUgNSA3LjUgNUgxM3ptMTEgMi41YzAtMS43NS0uNzUtMi41LTIuNS0yLjVIMTZ2MWwzIDEuNS00IDUuNSAxIDEgNS41LTQgMS41IDNoMVY3LjV6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtc2hyaW5rIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSUzQ3BhdGggZD0nTTE4LjUgMTZjLTEuNzUgMC0yLjUuNzUtMi41IDIuNVYyNGgxbDEuNS0zIDUuNSA0IDEtMS00LTUuNSAzLTEuNXYtMWgtNS41ek0xMyAxOC41YzAtMS43NS0uNzUtMi41LTIuNS0yLjVINXYxbDMgMS41TDQgMjRsMSAxIDUuNS00IDEuNSAzaDF2LTUuNXptMy04YzAgMS43NS43NSAyLjUgMi41IDIuNUgyNHYtMWwtMy0xLjVMMjUgNWwtMS0xLTUuNSA0TDE3IDVoLTF2NS41ek0xMC41IDEzYzEuNzUgMCAyLjUtLjc1IDIuNS0yLjVWNWgtMWwtMS41IDNMNSA0IDQgNWw0IDUuNUw1IDEydjFoNS41eicvJTNFJTNDL3N2ZyUzRVxcXCIpfUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMjQgMTZ2NS41YzAgMS43NS0uNzUgMi41LTIuNSAyLjVIMTZ2LTFsMy0xLjUtNC01LjUgMS0xIDUuNSA0IDEuNS0zaDF6TTYgMTZsMS41IDMgNS41LTQgMSAxLTQgNS41IDMgMS41djFINy41QzUuNzUgMjQgNSAyMy4yNSA1IDIxLjVWMTZoMXptNy0xMXYxbC0zIDEuNSA0IDUuNS0xIDEtNS41LTRMNiAxM0g1VjcuNUM1IDUuNzUgNS43NSA1IDcuNSA1SDEzem0xMSAyLjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUgxNnYxbDMgMS41LTQgNS41IDEgMSA1LjUtNCAxLjUgM2gxVjcuNXonLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1zaHJpbmsgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00xOC41IDE2Yy0xLjc1IDAtMi41Ljc1LTIuNSAyLjVWMjRoMWwxLjUtMyA1LjUgNCAxLTEtNC01LjUgMy0xLjV2LTFoLTUuNXpNMTMgMTguNWMwLTEuNzUtLjc1LTIuNS0yLjUtMi41SDV2MWwzIDEuNUw0IDI0bDEgMSA1LjUtNCAxLjUgM2gxdi01LjV6bTMtOGMwIDEuNzUuNzUgMi41IDIuNSAyLjVIMjR2LTFsLTMtMS41TDI1IDVsLTEtMS01LjUgNEwxNyA1aC0xdjUuNXpNMTAuNSAxM2MxLjc1IDAgMi41LS43NSAyLjUtMi41VjVoLTFsLTEuNSAzTDUgNCA0IDVsNCA1LjVMNSAxMnYxaDUuNXonLyUzRSUzQy9zdmclM0VcXFwiKX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlbiAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMDAwJyUzRSUzQ3BhdGggZD0nTTI0IDE2djUuNWMwIDEuNzUtLjc1IDIuNS0yLjUgMi41SDE2di0xbDMtMS41LTQtNS41IDEtMSA1LjUgNCAxLjUtM2gxek02IDE2bDEuNSAzIDUuNS00IDEgMS00IDUuNSAzIDEuNXYxSDcuNUM1Ljc1IDI0IDUgMjMuMjUgNSAyMS41VjE2aDF6bTctMTF2MWwtMyAxLjUgNCA1LjUtMSAxLTUuNS00TDYgMTNINVY3LjVDNSA1Ljc1IDUuNzUgNSA3LjUgNUgxM3ptMTEgMi41YzAtMS43NS0uNzUtMi41LTIuNS0yLjVIMTZ2MWwzIDEuNS00IDUuNSAxIDEgNS41LTQgMS41IDNoMVY3LjV6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtc2hyaW5rIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMwMDAnJTNFJTNDcGF0aCBkPSdNMTguNSAxNmMtMS43NSAwLTIuNS43NS0yLjUgMi41VjI0aDFsMS41LTMgNS41IDQgMS0xLTQtNS41IDMtMS41di0xaC01LjV6TTEzIDE4LjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUg1djFsMyAxLjVMNCAyNGwxIDEgNS41LTQgMS41IDNoMXYtNS41em0zLThjMCAxLjc1Ljc1IDIuNSAyLjUgMi41SDI0di0xbC0zLTEuNUwyNSA1bC0xLTEtNS41IDRMMTcgNWgtMXY1LjV6TTEwLjUgMTNjMS43NSAwIDIuNS0uNzUgMi41LTIuNVY1aC0xbC0xLjUgM0w1IDQgNCA1bDQgNS41TDUgMTJ2MWg1LjV6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9fS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWNvbXBhc3MgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzMzMyclM0UlM0NwYXRoIGQ9J00xMC41IDE0bDQtOCA0IDhoLTh6Jy8lM0UlM0NwYXRoIGlkPSdzb3V0aCcgZD0nTTEwLjUgMTZsNCA4IDQtOGgtOHonIGZpbGw9JyUyM2NjYycvJTNFJTNDL3N2ZyUzRVxcXCIpfUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1jb21wYXNzIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMTAuNSAxNGw0LTggNCA4aC04eicvJTNFJTNDcGF0aCBpZD0nc291dGgnIGQ9J00xMC41IDE2bDQgOCA0LThoLTh6JyBmaWxsPSclMjM5OTknLyUzRSUzQy9zdmclM0VcXFwiKX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtY29tcGFzcyAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMDAwJyUzRSUzQ3BhdGggZD0nTTEwLjUgMTRsNC04IDQgOGgtOHonLyUzRSUzQ3BhdGggaWQ9J3NvdXRoJyBkPSdNMTAuNSAxNmw0IDggNC04aC04eicgZmlsbD0nJTIzY2NjJy8lM0UlM0Mvc3ZnJTNFXFxcIil9fS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzMzJyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZTpkaXNhYmxlZCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzYWFhJyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZmlsbD0nJTIzZjAwJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzNiNWU1JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3IgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2U1ODk3OCclM0UlM0NwYXRoIGQ9J00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eicvJTNFJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJy8lM0UlM0NwYXRoIGlkPSdzdHJva2UnIGQ9J00xNCA1bDEgMS05IDktMS0xIDktOXonIGRpc3BsYXk9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzNiNWU1JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInIGRpc3BsYXk9J25vbmUnLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNlNTRlMzMnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicgZGlzcGxheT0nbm9uZScvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmcgLm1hcGJveGdsLWN0cmwtaWNvbnthbmltYXRpb246bWFwYm94Z2wtc3BpbiAycyBsaW5lYXIgaW5maW5pdGV9QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZTpkaXNhYmxlZCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzOTk5JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZmlsbD0nJTIzZjAwJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzNiNWU1JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmUtZXJyb3IgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2U1ODk3OCclM0UlM0NwYXRoIGQ9J00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eicvJTNFJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJy8lM0UlM0NwYXRoIGlkPSdzdHJva2UnIGQ9J00xNCA1bDEgMS05IDktMS0xIDktOXonIGRpc3BsYXk9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzNiNWU1JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInIGRpc3BsYXk9J25vbmUnLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNlNTRlMzMnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicgZGlzcGxheT0nbm9uZScvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9fUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YmxhY2stb24td2hpdGUpey5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZSAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMDAwJyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZTpkaXNhYmxlZCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzNjY2JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZmlsbD0nJTIzZjAwJy8lM0UlM0Mvc3ZnJTNFXFxcIil9fUBrZXlmcmFtZXMgbWFwYm94Z2wtc3BpbnswJXt0cmFuc2Zvcm06cm90YXRlKDBkZWcpfXRve3RyYW5zZm9ybTpyb3RhdGUoMXR1cm4pfX1hLm1hcGJveGdsLWN0cmwtbG9nb3tiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSc4OCcgaGVpZ2h0PScyMycgdmlld0JveD0nMCAwIDg4IDIzJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZGVmcyUzRSUzQ3BhdGggaWQ9J2xvZ28nIGQ9J00xMS41IDIuMjVjNS4xMDUgMCA5LjI1IDQuMTQ1IDkuMjUgOS4yNXMtNC4xNDUgOS4yNS05LjI1IDkuMjUtOS4yNS00LjE0NS05LjI1LTkuMjUgNC4xNDUtOS4yNSA5LjI1LTkuMjV6TTYuOTk3IDE1Ljk4M2MtLjA1MS0uMzM4LS44MjgtNS44MDIgMi4yMzMtOC44NzNhNC4zOTUgNC4zOTUgMCAwMTMuMTMtMS4yOGMxLjI3IDAgMi40OS41MSAzLjM5IDEuNDIuOTEuOSAxLjQyIDIuMTIgMS40MiAzLjM5IDAgMS4xOC0uNDQ5IDIuMzAxLTEuMjggMy4xM0MxMi43MiAxNi45MyA3IDE2IDcgMTZsLS4wMDMtLjAxN3pNMTUuMyAxMC41bC0yIC44LS44IDItLjgtMi0yLS44IDItLjguOC0yIC44IDIgMiAuOHonLyUzRSUzQ3BhdGggaWQ9J3RleHQnIGQ9J001MC42MyA4Yy4xMyAwIC4yMy4xLjIzLjIzVjljLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAyLjE3IDAgMy45NSAxLjg1IDMuOTUgNC4xN3MtMS43NyA0LjE5LTMuOTQgNC4xOWMtMS4wNCAwLTIuMDMtLjQzLTIuNzQtMS4xOHYzLjc3YzAgLjEzLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y4LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zLjg2LjAxYy4wMSAwIC4wMSAwIC4wMS0uMDEuMTMgMCAuMjIuMS4yMi4yMnY3LjU1YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1YxNWMtLjcuNzYtMS42OSAxLjE5LTIuNzMgMS4xOS0yLjE3IDAtMy45NC0xLjg3LTMuOTQtNC4xOSAwLTIuMzIgMS43Ny00LjE5IDMuOTQtNC4xOSAxLjAzIDAgMi4wMi40MyAyLjczIDEuMTh2LS43NWMwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0yNi4zNzUtLjE5YTQuMjQgNC4yNCAwIDAwLTQuMTYgMy4yOWMtLjEzLjU5LS4xMyAxLjE5IDAgMS43N2E0LjIzMyA0LjIzMyAwIDAwNC4xNyAzLjNjMi4zNSAwIDQuMjYtMS44NyA0LjI2LTQuMTkgMC0yLjMyLTEuOS00LjE3LTQuMjctNC4xN3pNNjAuNjMgNWMuMTMgMCAuMjMuMS4yMy4yM3YzLjc2Yy43LS43NiAxLjctMS4xOCAyLjczLTEuMTggMS44OCAwIDMuNDUgMS40IDMuODQgMy4yOC4xMy41OS4xMyAxLjIgMCAxLjgtLjM5IDEuODgtMS45NiAzLjI5LTMuODQgMy4yOS0xLjAzIDAtMi4wMi0uNDMtMi43My0xLjE4di43N2MwIC4xMi0uMS4yMy0uMjMuMjNoLTEuNGMtLjEzIDAtLjIzLS4xLS4yMy0uMjNWNS4yM2MwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0tMzQgMTFoLTEuNGMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzVjguMjJjLjAxLS4xMy4xLS4yMi4yMy0uMjJoMS40Yy4xMyAwIC4yMi4xMS4yMy4yMnYuNjhjLjUtLjY4IDEuMy0xLjA5IDIuMTYtMS4xaC4wM2MxLjA5IDAgMi4wOS42IDIuNiAxLjU1LjQ1LS45NSAxLjQtMS41NSAyLjQ0LTEuNTYgMS42MiAwIDIuOTMgMS4yNSAyLjkgMi43OGwuMDMgNS4yYzAgLjEzLS4xLjIzLS4yMy4yM2gtMS40MWMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzdi00LjU5YzAtLjk4LS43NC0xLjcxLTEuNjItMS43MS0uOCAwLTEuNDYuNy0xLjU5IDEuNjJsLjAxIDQuNjhjMCAuMTMtLjExLjIzLS4yMy4yM2gtMS40MWMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzdi00LjU5YzAtLjk4LS43NC0xLjcxLTEuNjItMS43MS0uODUgMC0xLjU0Ljc5LTEuNiAxLjh2NC41YzAgLjEzLS4xLjIzLS4yMy4yM3ptNTMuNjE1IDBoLTEuNjFjLS4wNCAwLS4wOC0uMDEtLjEyLS4wMy0uMDktLjA2LS4xMy0uMTktLjA2LS4yOGwyLjQzLTMuNzEtMi4zOS0zLjY1YS4yMTMuMjEzIDAgMDEtLjAzLS4xMmMwLS4xMi4wOS0uMjEuMjEtLjIxaDEuNjFjLjEzIDAgLjI0LjA2LjMuMTdsMS40MSAyLjM3IDEuNC0yLjM3YS4zNC4zNCAwIDAxLjMtLjE3aDEuNmMuMDQgMCAuMDguMDEuMTIuMDMuMDkuMDYuMTMuMTkuMDYuMjhsLTIuMzcgMy42NSAyLjQzIDMuN2MwIC4wNS4wMS4wOS4wMS4xMyAwIC4xMi0uMDkuMjEtLjIxLjIxaC0xLjYxYy0uMTMgMC0uMjQtLjA2LS4zLS4xN2wtMS40NC0yLjQyLTEuNDQgMi40MmEuMzQuMzQgMCAwMS0uMy4xN3ptLTcuMTItMS40OWMtMS4zMyAwLTIuNDItMS4xMi0yLjQyLTIuNTEgMC0xLjM5IDEuMDgtMi41MiAyLjQyLTIuNTIgMS4zMyAwIDIuNDIgMS4xMiAyLjQyIDIuNTEgMCAxLjM5LTEuMDggMi41MS0yLjQyIDIuNTJ6bS0xOS44NjUgMGMtMS4zMiAwLTIuMzktMS4xMS0yLjQyLTIuNDh2LS4wN2MuMDItMS4zOCAxLjA5LTIuNDkgMi40LTIuNDkgMS4zMiAwIDIuNDEgMS4xMiAyLjQxIDIuNTEgMCAxLjM5LTEuMDcgMi41Mi0yLjM5IDIuNTN6bS04LjExLTIuNDhjLS4wMSAxLjM3LTEuMDkgMi40Ny0yLjQxIDIuNDdzLTIuNDItMS4xMi0yLjQyLTIuNTFjMC0xLjM5IDEuMDgtMi41MiAyLjQtMi41MiAxLjMzIDAgMi4zOSAxLjExIDIuNDEgMi40OGwuMDIuMDh6bTE4LjEyIDIuNDdjLTEuMzIgMC0yLjM5LTEuMTEtMi40MS0yLjQ4di0uMDZjLjAyLTEuMzggMS4wOS0yLjQ4IDIuNDEtMi40OHMyLjQyIDEuMTIgMi40MiAyLjUxYzAgMS4zOS0xLjA5IDIuNTEtMi40MiAyLjUxeicvJTNFJTNDL2RlZnMlM0UlM0NtYXNrIGlkPSdjbGlwJyUzRSUzQ3JlY3QgeD0nMCcgeT0nMCcgd2lkdGg9JzEwMCUyNScgaGVpZ2h0PScxMDAlMjUnIGZpbGw9J3doaXRlJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzbG9nbycvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnLyUzRSUzQy9tYXNrJTNFJTNDZyBpZD0nb3V0bGluZScgb3BhY2l0eT0nMC4zJyBzdHJva2U9JyUyMzAwMCcgc3Ryb2tlLXdpZHRoPSczJyUzRSUzQ2NpcmNsZSBtYXNrPSd1cmwoJTIzY2xpcCknIGN4PScxMS41JyBjeT0nMTEuNScgcj0nOS4yNScvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnIG1hc2s9J3VybCglMjNjbGlwKScvJTNFJTNDL2clM0UlM0NnIGlkPSdmaWxsJyBvcGFjaXR5PScwLjknIGZpbGw9JyUyM2ZmZiclM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzbG9nbycvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnLyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmJsb2NrO2hlaWdodDoyM3B4O21hcmdpbjowIDAgLTRweCAtNHB4O292ZXJmbG93OmhpZGRlbjt3aWR0aDo4OHB4fWEubWFwYm94Z2wtY3RybC1sb2dvLm1hcGJveGdsLWNvbXBhY3R7d2lkdGg6MjNweH1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7YS5tYXBib3hnbC1jdHJsLWxvZ297YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudDtiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPSc4OCcgaGVpZ2h0PScyMycgdmlld0JveD0nMCAwIDg4IDIzJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHhtbG5zOnhsaW5rPSdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDZGVmcyUzRSUzQ3BhdGggaWQ9J2xvZ28nIGQ9J00xMS41IDIuMjVjNS4xMDUgMCA5LjI1IDQuMTQ1IDkuMjUgOS4yNXMtNC4xNDUgOS4yNS05LjI1IDkuMjUtOS4yNS00LjE0NS05LjI1LTkuMjUgNC4xNDUtOS4yNSA5LjI1LTkuMjV6TTYuOTk3IDE1Ljk4M2MtLjA1MS0uMzM4LS44MjgtNS44MDIgMi4yMzMtOC44NzNhNC4zOTUgNC4zOTUgMCAwMTMuMTMtMS4yOGMxLjI3IDAgMi40OS41MSAzLjM5IDEuNDIuOTEuOSAxLjQyIDIuMTIgMS40MiAzLjM5IDAgMS4xOC0uNDQ5IDIuMzAxLTEuMjggMy4xM0MxMi43MiAxNi45MyA3IDE2IDcgMTZsLS4wMDMtLjAxN3pNMTUuMyAxMC41bC0yIC44LS44IDItLjgtMi0yLS44IDItLjguOC0yIC44IDIgMiAuOHonLyUzRSUzQ3BhdGggaWQ9J3RleHQnIGQ9J001MC42MyA4Yy4xMyAwIC4yMy4xLjIzLjIzVjljLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAyLjE3IDAgMy45NSAxLjg1IDMuOTUgNC4xN3MtMS43NyA0LjE5LTMuOTQgNC4xOWMtMS4wNCAwLTIuMDMtLjQzLTIuNzQtMS4xOHYzLjc3YzAgLjEzLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y4LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zLjg2LjAxYy4wMSAwIC4wMSAwIC4wMS0uMDEuMTMgMCAuMjIuMS4yMi4yMnY3LjU1YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1YxNWMtLjcuNzYtMS42OSAxLjE5LTIuNzMgMS4xOS0yLjE3IDAtMy45NC0xLjg3LTMuOTQtNC4xOSAwLTIuMzIgMS43Ny00LjE5IDMuOTQtNC4xOSAxLjAzIDAgMi4wMi40MyAyLjczIDEuMTh2LS43NWMwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0yNi4zNzUtLjE5YTQuMjQgNC4yNCAwIDAwLTQuMTYgMy4yOWMtLjEzLjU5LS4xMyAxLjE5IDAgMS43N2E0LjIzMyA0LjIzMyAwIDAwNC4xNyAzLjNjMi4zNSAwIDQuMjYtMS44NyA0LjI2LTQuMTkgMC0yLjMyLTEuOS00LjE3LTQuMjctNC4xN3pNNjAuNjMgNWMuMTMgMCAuMjMuMS4yMy4yM3YzLjc2Yy43LS43NiAxLjctMS4xOCAyLjczLTEuMTggMS44OCAwIDMuNDUgMS40IDMuODQgMy4yOC4xMy41OS4xMyAxLjIgMCAxLjgtLjM5IDEuODgtMS45NiAzLjI5LTMuODQgMy4yOS0xLjAzIDAtMi4wMi0uNDMtMi43My0xLjE4di43N2MwIC4xMi0uMS4yMy0uMjMuMjNoLTEuNGMtLjEzIDAtLjIzLS4xLS4yMy0uMjNWNS4yM2MwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0tMzQgMTFoLTEuNGMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzVjguMjJjLjAxLS4xMy4xLS4yMi4yMy0uMjJoMS40Yy4xMyAwIC4yMi4xMS4yMy4yMnYuNjhjLjUtLjY4IDEuMy0xLjA5IDIuMTYtMS4xaC4wM2MxLjA5IDAgMi4wOS42IDIuNiAxLjU1LjQ1LS45NSAxLjQtMS41NSAyLjQ0LTEuNTYgMS42MiAwIDIuOTMgMS4yNSAyLjkgMi43OGwuMDMgNS4yYzAgLjEzLS4xLjIzLS4yMy4yM2gtMS40MWMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzdi00LjU5YzAtLjk4LS43NC0xLjcxLTEuNjItMS43MS0uOCAwLTEuNDYuNy0xLjU5IDEuNjJsLjAxIDQuNjhjMCAuMTMtLjExLjIzLS4yMy4yM2gtMS40MWMtLjEzIDAtLjIzLS4xMS0uMjMtLjIzdi00LjU5YzAtLjk4LS43NC0xLjcxLTEuNjItMS43MS0uODUgMC0xLjU0Ljc5LTEuNiAxLjh2NC41YzAgLjEzLS4xLjIzLS4yMy4yM3ptNTMuNjE1IDBoLTEuNjFjLS4wNCAwLS4wOC0uMDEtLjEyLS4wMy0uMDktLjA2LS4xMy0uMTktLjA2LS4yOGwyLjQzLTMuNzEtMi4zOS0zLjY1YS4yMTMuMjEzIDAgMDEtLjAzLS4xMmMwLS4xMi4wOS0uMjEuMjEtLjIxaDEuNjFjLjEzIDAgLjI0LjA2LjMuMTdsMS40MSAyLjM3IDEuNC0yLjM3YS4zNC4zNCAwIDAxLjMtLjE3aDEuNmMuMDQgMCAuMDguMDEuMTIuMDMuMDkuMDYuMTMuMTkuMDYuMjhsLTIuMzcgMy42NSAyLjQzIDMuN2MwIC4wNS4wMS4wOS4wMS4xMyAwIC4xMi0uMDkuMjEtLjIxLjIxaC0xLjYxYy0uMTMgMC0uMjQtLjA2LS4zLS4xN2wtMS40NC0yLjQyLTEuNDQgMi40MmEuMzQuMzQgMCAwMS0uMy4xN3ptLTcuMTItMS40OWMtMS4zMyAwLTIuNDItMS4xMi0yLjQyLTIuNTEgMC0xLjM5IDEuMDgtMi41MiAyLjQyLTIuNTIgMS4zMyAwIDIuNDIgMS4xMiAyLjQyIDIuNTEgMCAxLjM5LTEuMDggMi41MS0yLjQyIDIuNTJ6bS0xOS44NjUgMGMtMS4zMiAwLTIuMzktMS4xMS0yLjQyLTIuNDh2LS4wN2MuMDItMS4zOCAxLjA5LTIuNDkgMi40LTIuNDkgMS4zMiAwIDIuNDEgMS4xMiAyLjQxIDIuNTEgMCAxLjM5LTEuMDcgMi41Mi0yLjM5IDIuNTN6bS04LjExLTIuNDhjLS4wMSAxLjM3LTEuMDkgMi40Ny0yLjQxIDIuNDdzLTIuNDItMS4xMi0yLjQyLTIuNTFjMC0xLjM5IDEuMDgtMi41MiAyLjQtMi41MiAxLjMzIDAgMi4zOSAxLjExIDIuNDEgMi40OGwuMDIuMDh6bTE4LjEyIDIuNDdjLTEuMzIgMC0yLjM5LTEuMTEtMi40MS0yLjQ4di0uMDZjLjAyLTEuMzggMS4wOS0yLjQ4IDIuNDEtMi40OHMyLjQyIDEuMTIgMi40MiAyLjUxYzAgMS4zOS0xLjA5IDIuNTEtMi40MiAyLjUxeicvJTNFJTNDL2RlZnMlM0UlM0NtYXNrIGlkPSdjbGlwJyUzRSUzQ3JlY3QgeD0nMCcgeT0nMCcgd2lkdGg9JzEwMCUyNScgaGVpZ2h0PScxMDAlMjUnIGZpbGw9J3doaXRlJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzbG9nbycvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnLyUzRSUzQy9tYXNrJTNFJTNDZyBpZD0nb3V0bGluZScgb3BhY2l0eT0nMScgc3Ryb2tlPSclMjMwMDAnIHN0cm9rZS13aWR0aD0nMyclM0UlM0NjaXJjbGUgbWFzaz0ndXJsKCUyM2NsaXApJyBjeD0nMTEuNScgY3k9JzExLjUnIHI9JzkuMjUnLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjN0ZXh0JyBtYXNrPSd1cmwoJTIzY2xpcCknLyUzRSUzQy9nJTNFJTNDZyBpZD0nZmlsbCcgb3BhY2l0eT0nMScgZmlsbD0nJTIzZmZmJyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNsb2dvJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIil9fUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YmxhY2stb24td2hpdGUpe2EubWFwYm94Z2wtY3RybC1sb2dve2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9Jzg4JyBoZWlnaHQ9JzIzJyB2aWV3Qm94PScwIDAgODggMjMnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NkZWZzJTNFJTNDcGF0aCBpZD0nbG9nbycgZD0nTTExLjUgMi4yNWM1LjEwNSAwIDkuMjUgNC4xNDUgOS4yNSA5LjI1cy00LjE0NSA5LjI1LTkuMjUgOS4yNS05LjI1LTQuMTQ1LTkuMjUtOS4yNSA0LjE0NS05LjI1IDkuMjUtOS4yNXpNNi45OTcgMTUuOTgzYy0uMDUxLS4zMzgtLjgyOC01LjgwMiAyLjIzMy04Ljg3M2E0LjM5NSA0LjM5NSAwIDAxMy4xMy0xLjI4YzEuMjcgMCAyLjQ5LjUxIDMuMzkgMS40Mi45MS45IDEuNDIgMi4xMiAxLjQyIDMuMzkgMCAxLjE4LS40NDkgMi4zMDEtMS4yOCAzLjEzQzEyLjcyIDE2LjkzIDcgMTYgNyAxNmwtLjAwMy0uMDE3ek0xNS4zIDEwLjVsLTIgLjgtLjggMi0uOC0yLTItLjggMi0uOC44LTIgLjggMiAyIC44eicvJTNFJTNDcGF0aCBpZD0ndGV4dCcgZD0nTTUwLjYzIDhjLjEzIDAgLjIzLjEuMjMuMjNWOWMuNy0uNzYgMS43LTEuMTggMi43My0xLjE4IDIuMTcgMCAzLjk1IDEuODUgMy45NSA0LjE3cy0xLjc3IDQuMTktMy45NCA0LjE5Yy0xLjA0IDAtMi4wMy0uNDMtMi43NC0xLjE4djMuNzdjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjguMjNjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptLTMuODYuMDFjLjAxIDAgLjAxIDAgLjAxLS4wMS4xMyAwIC4yMi4xLjIyLjIydjcuNTVjMCAuMTItLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjE1Yy0uNy43Ni0xLjY5IDEuMTktMi43MyAxLjE5LTIuMTcgMC0zLjk0LTEuODctMy45NC00LjE5IDAtMi4zMiAxLjc3LTQuMTkgMy45NC00LjE5IDEuMDMgMCAyLjAyLjQzIDIuNzMgMS4xOHYtLjc1YzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bTI2LjM3NS0uMTlhNC4yNCA0LjI0IDAgMDAtNC4xNiAzLjI5Yy0uMTMuNTktLjEzIDEuMTkgMCAxLjc3YTQuMjMzIDQuMjMzIDAgMDA0LjE3IDMuM2MyLjM1IDAgNC4yNi0xLjg3IDQuMjYtNC4xOSAwLTIuMzItMS45LTQuMTctNC4yNy00LjE3ek02MC42MyA1Yy4xMyAwIC4yMy4xLjIzLjIzdjMuNzZjLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAxLjg4IDAgMy40NSAxLjQgMy44NCAzLjI4LjEzLjU5LjEzIDEuMiAwIDEuOC0uMzkgMS44OC0xLjk2IDMuMjktMy44NCAzLjI5LTEuMDMgMC0yLjAyLS40My0yLjczLTEuMTh2Ljc3YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y1LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zNCAxMWgtMS40Yy0uMTMgMC0uMjMtLjExLS4yMy0uMjNWOC4yMmMuMDEtLjEzLjEtLjIyLjIzLS4yMmgxLjRjLjEzIDAgLjIyLjExLjIzLjIydi42OGMuNS0uNjggMS4zLTEuMDkgMi4xNi0xLjFoLjAzYzEuMDkgMCAyLjA5LjYgMi42IDEuNTUuNDUtLjk1IDEuNC0xLjU1IDIuNDQtMS41NiAxLjYyIDAgMi45MyAxLjI1IDIuOSAyLjc4bC4wMyA1LjJjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44IDAtMS40Ni43LTEuNTkgMS42MmwuMDEgNC42OGMwIC4xMy0uMTEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44NSAwLTEuNTQuNzktMS42IDEuOHY0LjVjMCAuMTMtLjEuMjMtLjIzLjIzem01My42MTUgMGgtMS42MWMtLjA0IDAtLjA4LS4wMS0uMTItLjAzLS4wOS0uMDYtLjEzLS4xOS0uMDYtLjI4bDIuNDMtMy43MS0yLjM5LTMuNjVhLjIxMy4yMTMgMCAwMS0uMDMtLjEyYzAtLjEyLjA5LS4yMS4yMS0uMjFoMS42MWMuMTMgMCAuMjQuMDYuMy4xN2wxLjQxIDIuMzcgMS40LTIuMzdhLjM0LjM0IDAgMDEuMy0uMTdoMS42Yy4wNCAwIC4wOC4wMS4xMi4wMy4wOS4wNi4xMy4xOS4wNi4yOGwtMi4zNyAzLjY1IDIuNDMgMy43YzAgLjA1LjAxLjA5LjAxLjEzIDAgLjEyLS4wOS4yMS0uMjEuMjFoLTEuNjFjLS4xMyAwLS4yNC0uMDYtLjMtLjE3bC0xLjQ0LTIuNDItMS40NCAyLjQyYS4zNC4zNCAwIDAxLS4zLjE3em0tNy4xMi0xLjQ5Yy0xLjMzIDAtMi40Mi0xLjEyLTIuNDItMi41MSAwLTEuMzkgMS4wOC0yLjUyIDIuNDItMi41MiAxLjMzIDAgMi40MiAxLjEyIDIuNDIgMi41MSAwIDEuMzktMS4wOCAyLjUxLTIuNDIgMi41MnptLTE5Ljg2NSAwYy0xLjMyIDAtMi4zOS0xLjExLTIuNDItMi40OHYtLjA3Yy4wMi0xLjM4IDEuMDktMi40OSAyLjQtMi40OSAxLjMyIDAgMi40MSAxLjEyIDIuNDEgMi41MSAwIDEuMzktMS4wNyAyLjUyLTIuMzkgMi41M3ptLTguMTEtMi40OGMtLjAxIDEuMzctMS4wOSAyLjQ3LTIuNDEgMi40N3MtMi40Mi0xLjEyLTIuNDItMi41MWMwLTEuMzkgMS4wOC0yLjUyIDIuNC0yLjUyIDEuMzMgMCAyLjM5IDEuMTEgMi40MSAyLjQ4bC4wMi4wOHptMTguMTIgMi40N2MtMS4zMiAwLTIuMzktMS4xMS0yLjQxLTIuNDh2LS4wNmMuMDItMS4zOCAxLjA5LTIuNDggMi40MS0yLjQ4czIuNDIgMS4xMiAyLjQyIDIuNTFjMCAxLjM5LTEuMDkgMi41MS0yLjQyIDIuNTF6Jy8lM0UlM0MvZGVmcyUzRSUzQ21hc2sgaWQ9J2NsaXAnJTNFJTNDcmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMTAwJTI1JyBoZWlnaHQ9JzEwMCUyNScgZmlsbD0nd2hpdGUnLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNsb2dvJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFJTNDL21hc2slM0UlM0NnIGlkPSdvdXRsaW5lJyBvcGFjaXR5PScxJyBzdHJva2U9JyUyM2ZmZicgc3Ryb2tlLXdpZHRoPSczJyBmaWxsPSclMjNmZmYnJTNFJTNDY2lyY2xlIG1hc2s9J3VybCglMjNjbGlwKScgY3g9JzExLjUnIGN5PScxMS41JyByPSc5LjI1Jy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcgbWFzaz0ndXJsKCUyM2NsaXApJy8lM0UlM0MvZyUzRSUzQ2cgaWQ9J2ZpbGwnIG9wYWNpdHk9JzEnIGZpbGw9JyUyMzAwMCclM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzbG9nbycvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnLyUzRSUzQy9nJTNFJTNDL3N2ZyUzRVxcXCIpfX0ubWFwYm94Z2wtY3RybC5tYXBib3hnbC1jdHJsLWF0dHJpYntiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLC41KTttYXJnaW46MDtwYWRkaW5nOjAgNXB4fUBtZWRpYSBzY3JlZW57Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3R7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlci1yYWRpdXM6MTJweDttYXJnaW46MTBweDttaW4taGVpZ2h0OjIwcHg7cGFkZGluZzoycHggMjRweCAycHggMDtwb3NpdGlvbjpyZWxhdGl2ZX0ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdC1zaG93e3BhZGRpbmc6MnB4IDI4cHggMnB4IDhweDt2aXNpYmlsaXR5OnZpc2libGV9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Qtc2hvdywubWFwYm94Z2wtY3RybC10b3AtbGVmdD4ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdC1zaG93e2JvcmRlci1yYWRpdXM6MTJweDtwYWRkaW5nOjJweCA4cHggMnB4IDI4cHh9Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3QgLm1hcGJveGdsLWN0cmwtYXR0cmliLWlubmVye2Rpc3BsYXk6bm9uZX0ubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9ue2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsLjUpO2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI0JyBoZWlnaHQ9JzI0JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ3BhdGggZD0nTTQgMTBhNiA2IDAgMSAwIDEyIDAgNiA2IDAgMSAwLTEyIDBtNS0zYTEgMSAwIDEgMCAyIDAgMSAxIDAgMSAwLTIgMG0wIDNhMSAxIDAgMSAxIDIgMHYzYTEgMSAwIDEgMS0yIDAnLyUzRSUzQy9zdmclM0VcXFwiKTtib3JkZXI6MDtib3JkZXItcmFkaXVzOjEycHg7Ym94LXNpemluZzpib3JkZXItYm94O2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6bm9uZTtoZWlnaHQ6MjRweDtvdXRsaW5lOm5vbmU7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt0b3A6MDt3aWR0aDoyNHB4fS5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0IC5tYXBib3hnbC1jdHJsLWF0dHJpYi1idXR0b24sLm1hcGJveGdsLWN0cmwtdG9wLWxlZnQgLm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbntsZWZ0OjB9Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3QgLm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbiwubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdC1zaG93IC5tYXBib3hnbC1jdHJsLWF0dHJpYi1pbm5lcntkaXNwbGF5OmJsb2NrfS5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0LXNob3cgLm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOnJnYigwIDAgMC81JSl9Lm1hcGJveGdsLWN0cmwtYm90dG9tLXJpZ2h0Pi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0OmFmdGVye2JvdHRvbTowO3JpZ2h0OjB9Lm1hcGJveGdsLWN0cmwtdG9wLXJpZ2h0Pi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0OmFmdGVye3JpZ2h0OjA7dG9wOjB9Lm1hcGJveGdsLWN0cmwtdG9wLWxlZnQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7bGVmdDowO3RvcDowfS5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0Pi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0OmFmdGVye2JvdHRvbTowO2xlZnQ6MH19QG1lZGlhIHNjcmVlbiBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J000IDEwYTYgNiAwIDEgMCAxMiAwIDYgNiAwIDEgMC0xMiAwbTUtM2ExIDEgMCAxIDAgMiAwIDEgMSAwIDEgMC0yIDBtMCAzYTEgMSAwIDEgMSAyIDB2M2ExIDEgMCAxIDEtMiAwJy8lM0UlM0Mvc3ZnJTNFXFxcIil9fUBtZWRpYSBzY3JlZW4gYW5kICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDcGF0aCBkPSdNNCAxMGE2IDYgMCAxIDAgMTIgMCA2IDYgMCAxIDAtMTIgMG01LTNhMSAxIDAgMSAwIDIgMCAxIDEgMCAxIDAtMiAwbTAgM2ExIDEgMCAxIDEgMiAwdjNhMSAxIDAgMSAxLTIgMCcvJTNFJTNDL3N2ZyUzRVxcXCIpfX0ubWFwYm94Z2wtY3RybC1hdHRyaWIgYXtjb2xvcjpyZ2JhKDAsMCwwLC43NSk7dGV4dC1kZWNvcmF0aW9uOm5vbmV9Lm1hcGJveGdsLWN0cmwtYXR0cmliIGE6aG92ZXJ7Y29sb3I6aW5oZXJpdDt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5tYXBib3hnbC1jdHJsLWF0dHJpYiAubWFwYm94LWltcHJvdmUtbWFwe2ZvbnQtd2VpZ2h0OjcwMDttYXJnaW4tbGVmdDoycHh9Lm1hcGJveGdsLWF0dHJpYi1lbXB0eXtkaXNwbGF5Om5vbmV9Lm1hcGJveGdsLWN0cmwtc2NhbGV7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuNzUpO2JvcmRlcjoycHggc29saWQgIzMzMztib3JkZXItdG9wOiMzMzM7Ym94LXNpemluZzpib3JkZXItYm94O2NvbG9yOiMzMzM7Zm9udC1zaXplOjEwcHg7cGFkZGluZzowIDVweDt3aGl0ZS1zcGFjZTpub3dyYXB9Lm1hcGJveGdsLXBvcHVwe2Rpc3BsYXk6ZmxleDtsZWZ0OjA7cG9pbnRlci1ldmVudHM6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19Lm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AsLm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtbGVmdCwubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1yaWdodHtmbGV4LWRpcmVjdGlvbjpjb2x1bW59Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20sLm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tbGVmdCwubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1yaWdodHtmbGV4LWRpcmVjdGlvbjpjb2x1bW4tcmV2ZXJzZX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWxlZnR7ZmxleC1kaXJlY3Rpb246cm93fS5tYXBib3hnbC1wb3B1cC1hbmNob3ItcmlnaHR7ZmxleC1kaXJlY3Rpb246cm93LXJldmVyc2V9Lm1hcGJveGdsLXBvcHVwLXRpcHtib3JkZXI6MTBweCBzb2xpZCB0cmFuc3BhcmVudDtoZWlnaHQ6MDt3aWR0aDowO3otaW5kZXg6MX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6Y2VudGVyO2JvcmRlci1ib3R0b20tY29sb3I6I2ZmZjtib3JkZXItdG9wOm5vbmV9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtbGVmdCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6ZmxleC1zdGFydDtib3JkZXItYm90dG9tLWNvbG9yOiNmZmY7Ym9yZGVyLWxlZnQ6bm9uZTtib3JkZXItdG9wOm5vbmV9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci10b3AtcmlnaHQgLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmZsZXgtZW5kO2JvcmRlci1ib3R0b20tY29sb3I6I2ZmZjtib3JkZXItcmlnaHQ6bm9uZTtib3JkZXItdG9wOm5vbmV9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20gLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmNlbnRlcjtib3JkZXItYm90dG9tOm5vbmU7Ym9yZGVyLXRvcC1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLWxlZnQgLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmZsZXgtc3RhcnQ7Ym9yZGVyLWJvdHRvbTpub25lO2JvcmRlci1sZWZ0Om5vbmU7Ym9yZGVyLXRvcC1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpmbGV4LWVuZDtib3JkZXItYm90dG9tOm5vbmU7Ym9yZGVyLXJpZ2h0Om5vbmU7Ym9yZGVyLXRvcC1jb2xvcjojZmZmfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItbGVmdCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6Y2VudGVyO2JvcmRlci1sZWZ0Om5vbmU7Ym9yZGVyLXJpZ2h0LWNvbG9yOiNmZmZ9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1yaWdodCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6Y2VudGVyO2JvcmRlci1sZWZ0LWNvbG9yOiNmZmY7Ym9yZGVyLXJpZ2h0Om5vbmV9Lm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlcjowO2JvcmRlci1yYWRpdXM6MCAzcHggMCAwO2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7dG9wOjB9Lm1hcGJveGdsLXBvcHVwLWNsb3NlLWJ1dHRvbjpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYigwIDAgMC81JSl9Lm1hcGJveGdsLXBvcHVwLWNvbnRlbnR7YmFja2dyb3VuZDojZmZmO2JvcmRlci1yYWRpdXM6M3B4O2JveC1zaGFkb3c6MCAxcHggMnB4IHJnYmEoMCwwLDAsLjEpO3BhZGRpbmc6MTBweCAxMHB4IDE1cHg7cG9pbnRlci1ldmVudHM6YXV0bztwb3NpdGlvbjpyZWxhdGl2ZX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1sZWZ0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50e2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1yaWdodCAubWFwYm94Z2wtcG9wdXAtY29udGVudHtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLWxlZnQgLm1hcGJveGdsLXBvcHVwLWNvbnRlbnR7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50e2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjB9Lm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXJ7ZGlzcGxheTpub25lfS5tYXBib3hnbC1wb3B1cC10cmFjay1wb2ludGVyICp7cG9pbnRlci1ldmVudHM6bm9uZTt1c2VyLXNlbGVjdDpub25lfS5tYXBib3hnbC1tYXA6aG92ZXIgLm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXJ7ZGlzcGxheTpmbGV4fS5tYXBib3hnbC1tYXA6YWN0aXZlIC5tYXBib3hnbC1wb3B1cC10cmFjay1wb2ludGVye2Rpc3BsYXk6bm9uZX0ubWFwYm94Z2wtbWFya2Vye2xlZnQ6MDtvcGFjaXR5OjE7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7dHJhbnNpdGlvbjpvcGFjaXR5IC4yczt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdDpiZWZvcmV7YmFja2dyb3VuZC1jb2xvcjojMWRhMWYyO2JvcmRlci1yYWRpdXM6NTAlO2hlaWdodDoxNXB4O3dpZHRoOjE1cHh9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90OmJlZm9yZXthbmltYXRpb246bWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3QtcHVsc2UgMnMgaW5maW5pdGU7Y29udGVudDpcXFwiXFxcIjtwb3NpdGlvbjphYnNvbHV0ZX0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Q6YWZ0ZXJ7Ym9yZGVyOjJweCBzb2xpZCAjZmZmO2JvcmRlci1yYWRpdXM6NTAlO2JveC1zaGFkb3c6MCAwIDNweCByZ2JhKDAsMCwwLC4zNSk7Ym94LXNpemluZzpib3JkZXItYm94O2NvbnRlbnQ6XFxcIlxcXCI7aGVpZ2h0OjE5cHg7bGVmdDotMnB4O3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMnB4O3dpZHRoOjE5cHh9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nIC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWhlYWRpbmd7aGVpZ2h0OjA7d2lkdGg6MH0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcgLm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZzphZnRlciwubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcgLm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZzpiZWZvcmV7Ym9yZGVyLWJvdHRvbTo3LjVweCBzb2xpZCAjNGFhMWViO2NvbnRlbnQ6XFxcIlxcXCI7cG9zaXRpb246YWJzb2x1dGV9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nIC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWhlYWRpbmc6YmVmb3Jle2JvcmRlci1sZWZ0OjcuNXB4IHNvbGlkIHRyYW5zcGFyZW50O3RyYW5zZm9ybTp0cmFuc2xhdGVZKC0yOHB4KSBza2V3WSgtMjBkZWcpfS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZyAubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1oZWFkaW5nOmFmdGVye2JvcmRlci1yaWdodDo3LjVweCBzb2xpZCB0cmFuc3BhcmVudDt0cmFuc2Zvcm06dHJhbnNsYXRlKDcuNXB4LC0yOHB4KSBza2V3WSgyMGRlZyl9QGtleWZyYW1lcyBtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1wdWxzZXswJXtvcGFjaXR5OjE7dHJhbnNmb3JtOnNjYWxlKDEpfTcwJXtvcGFjaXR5OjA7dHJhbnNmb3JtOnNjYWxlKDMpfXRve29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoMSl9fS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1zdGFsZXtiYWNrZ3JvdW5kLWNvbG9yOiNhYWF9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxlOmFmdGVye2Rpc3BsYXk6bm9uZX0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1hY2N1cmFjeS1jaXJjbGV7YmFja2dyb3VuZC1jb2xvcjojMWRhMWYyMzM7Ym9yZGVyLXJhZGl1czoxMDAlO2hlaWdodDoxcHg7d2lkdGg6MXB4fS5tYXBib3hnbC1jcm9zc2hhaXIsLm1hcGJveGdsLWNyb3NzaGFpciAubWFwYm94Z2wtaW50ZXJhY3RpdmUsLm1hcGJveGdsLWNyb3NzaGFpciAubWFwYm94Z2wtaW50ZXJhY3RpdmU6YWN0aXZle2N1cnNvcjpjcm9zc2hhaXJ9Lm1hcGJveGdsLWJveHpvb217YmFja2dyb3VuZDojZmZmO2JvcmRlcjoycHggZG90dGVkICMyMDIwMjA7aGVpZ2h0OjA7bGVmdDowO29wYWNpdHk6LjU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7d2lkdGg6MH1AbWVkaWEgcHJpbnR7Lm1hcGJveC1pbXByb3ZlLW1hcHtkaXNwbGF5Om5vbmV9fS5tYXBib3hnbC1zY3JvbGwtem9vbS1ibG9ja2VyLC5tYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlcnthbGlnbi1pdGVtczpjZW50ZXI7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC43KTtjb2xvcjojZmZmO2Rpc3BsYXk6ZmxleDtmb250LWZhbWlseTotYXBwbGUtc3lzdGVtLEJsaW5rTWFjU3lzdGVtRm9udCxTZWdvZSBVSSxIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjtoZWlnaHQ6MTAwJTtqdXN0aWZ5LWNvbnRlbnQ6Y2VudGVyO2xlZnQ6MDtvcGFjaXR5OjA7cG9pbnRlci1ldmVudHM6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt0ZXh0LWFsaWduOmNlbnRlcjt0b3A6MDt0cmFuc2l0aW9uOm9wYWNpdHkgLjc1cyBlYXNlLWluLW91dDt0cmFuc2l0aW9uLWRlbGF5OjFzO3dpZHRoOjEwMCV9Lm1hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXItc2hvdywubWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItc2hvd3tvcGFjaXR5OjE7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBlYXNlLWluLW91dH0ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1vdmVycmlkZS5tYXBib3hnbC1zY3JvbGxhYmxlLXBhZ2UsLm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItb3ZlcnJpZGUubWFwYm94Z2wtc2Nyb2xsYWJsZS1wYWdlIC5tYXBib3hnbC1jYW52YXN7dG91Y2gtYWN0aW9uOnBhbi14IHBhbi15fVwiLFwiXCJdKX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93LmxvY2F0aW9uO2lmKCF0KXRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO2lmKCFlfHxcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gZTt2YXIgcj10LnByb3RvY29sK1wiLy9cIit0Lmhvc3Qsbj1yK3QucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLFwiL1wiKTtyZXR1cm4gZS5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwoZnVuY3Rpb24oZSx0KXt2YXIgaSxvPXQudHJpbSgpLnJlcGxhY2UoL15cIiguKilcIiQvLChmdW5jdGlvbihlLHQpe3JldHVybiB0fSkpLnJlcGxhY2UoL14nKC4qKSckLywoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0pKTtyZXR1cm4vXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KG8pP2U6KGk9MD09PW8uaW5kZXhPZihcIi8vXCIpP286MD09PW8uaW5kZXhPZihcIi9cIik/citvOm4rby5yZXBsYWNlKC9eXFwuXFwvLyxcIlwiKSxcInVybChcIitKU09OLnN0cmluZ2lmeShpKStcIilcIil9KSl9fV1dKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9