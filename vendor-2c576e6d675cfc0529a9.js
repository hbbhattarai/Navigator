(window.webpackJsonp=window.webpackJsonp||[]).push([["vendor"],[function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";e.exports=n(69)},function(e,t){function n(){return e.exports=n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,n.apply(this,arguments)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){e.exports=n(125)()},function(e,t,n){var i=n(74);e.exports=function(e,t){if(null==e)return{};var n,r,o=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(42);e.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=function(){};e.exports=i},function(e,t,n){"use strict";n.r(t);var i=n(45),r=n.n(i);n.d(t,"componentPropType",(function(){return r.a}));var o=n(47),a=n.n(o);n.d(t,"chainPropTypes",(function(){return a.a}));var s=n(48),l=n.n(s);n.d(t,"exactProp",(function(){return l.a}));var c=n(49),u=n.n(c);n.d(t,"getDisplayName",(function(){return u.a}));var h=n(50),d=n.n(h);n.d(t,"ponyfillGlobal",(function(){return d.a}))},function(e,t,n){var i;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var o=typeof i;if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i)){if(i.length){var a=r.apply(null,i);a&&e.push(a)}}else if("object"===o){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){e.push(i.toString());continue}for(var s in i)n.call(i,s)&&i[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(i=function(){return r}.apply(t,[]))||(e.exports=i)}()},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.sheetsManager=void 0;var r=i(n(5)),o=i(n(2)),a=i(n(10)),s=i(n(11)),l=i(n(12)),c=i(n(13)),u=i(n(14)),h=i(n(4)),d=i(n(1)),p=i(n(3)),f=(i(n(6)),i(n(35))),m=n(7),g=n(52),y=i(n(129)),_=i(n(51)),v=i(n(130)),x=i(n(131)),b=i(n(29)),w=i(n(34)),T=i(n(41)),E=i(n(132)),S=i(n(133)),M=(0,g.create)((0,_.default)()),I=(0,T.default)(),C=-1e11,k=new Map;t.sheetsManager=k;var A={},P=(0,b.default)({typography:{suppressWarning:!0}});m.ponyfillGlobal.__MUI_STYLES__||(m.ponyfillGlobal.__MUI_STYLES__={}),m.ponyfillGlobal.__MUI_STYLES__.withStyles||(m.ponyfillGlobal.__MUI_STYLES__.withStyles=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var i,m=t.withTheme,g=void 0!==m&&m,_=t.flip,b=void 0===_?null:_,T=t.name,z=(0,h.default)(t,["withTheme","flip","name"]),D=(0,E.default)(e),L=D.themingEnabled||"string"==typeof T||g;C+=1,D.options.index=C;var O=function(e){function t(e,n){var i;(0,a.default)(this,t),(i=(0,l.default)(this,(0,c.default)(t).call(this,e,n))).jss=n[y.default.jss]||M,i.sheetsManager=k,i.unsubscribeId=null;var r=n.muiThemeProviderOptions;return r&&(r.sheetsManager&&(i.sheetsManager=r.sheetsManager),i.sheetsCache=r.sheetsCache,i.disableStylesGeneration=r.disableStylesGeneration),i.stylesCreatorSaved=D,i.sheetOptions=(0,o.default)({generateClassName:I},n[y.default.sheetOptions]),i.theme=L?w.default.initial(n)||P:A,i.attach(i.theme),i.cacheClasses={value:null,lastProp:null,lastJSS:{}},i}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;L&&(this.unsubscribeId=w.default.subscribe(this.context,(function(t){var n=e.theme;e.theme=t,e.attach(e.theme),e.setState({},(function(){e.detach(n)}))})))}},{key:"componentDidUpdate",value:function(){this.stylesCreatorSaved}},{key:"componentWillUnmount",value:function(){this.detach(this.theme),null!==this.unsubscribeId&&w.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"getClasses",value:function(){if(this.disableStylesGeneration)return this.props.classes||{};var e=!1,t=x.default.get(this.sheetsManager,this.stylesCreatorSaved,this.theme);return t.sheet.classes!==this.cacheClasses.lastJSS&&(this.cacheClasses.lastJSS=t.sheet.classes,e=!0),this.props.classes!==this.cacheClasses.lastProp&&(this.cacheClasses.lastProp=this.props.classes,e=!0),e&&(this.cacheClasses.value=(0,v.default)({baseClasses:this.cacheClasses.lastJSS,newClasses:this.props.classes,Component:n})),this.cacheClasses.value}},{key:"attach",value:function(e){if(!this.disableStylesGeneration){var t=this.stylesCreatorSaved,n=x.default.get(this.sheetsManager,t,e);if(n||(n={refs:0,sheet:null},x.default.set(this.sheetsManager,t,e,n)),0===n.refs){var i;this.sheetsCache&&(i=x.default.get(this.sheetsCache,t,e)),i||((i=this.createSheet(e)).attach(),this.sheetsCache&&x.default.set(this.sheetsCache,t,e,i)),n.sheet=i;var r=this.context[y.default.sheetsRegistry];r&&r.add(i)}n.refs+=1}}},{key:"createSheet",value:function(e){var t=this.stylesCreatorSaved.create(e,T),i=T;return this.jss.createStyleSheet(t,(0,o.default)({meta:i,classNamePrefix:i,flip:"boolean"==typeof b?b:"rtl"===e.direction,link:!1},this.sheetOptions,this.stylesCreatorSaved.options,{name:T||n.displayName},z))}},{key:"detach",value:function(e){if(!this.disableStylesGeneration){var t=x.default.get(this.sheetsManager,this.stylesCreatorSaved,e);if(t.refs-=1,0===t.refs){x.default.delete(this.sheetsManager,this.stylesCreatorSaved,e),this.jss.removeStyleSheet(t.sheet);var n=this.context[y.default.sheetsRegistry];n&&n.remove(t.sheet)}}}},{key:"render",value:function(){var e=this.props,t=(e.classes,e.innerRef),i=(0,h.default)(e,["classes","innerRef"]),r=(0,S.default)({theme:this.theme,name:T,props:i});return g&&!r.theme&&(r.theme=this.theme),d.default.createElement(n,(0,o.default)({},r,{classes:this.getClasses(),ref:t}))}}]),t}(d.default.Component);return O.contextTypes=(0,o.default)((i={muiThemeProviderOptions:p.default.object},(0,r.default)(i,y.default.jss,p.default.object),(0,r.default)(i,y.default.sheetOptions,p.default.object),(0,r.default)(i,y.default.sheetsRegistry,p.default.object),i),L?w.default.contextTypes:{}),(0,f.default)(O,n),O}});t.default=function(e,t){return m.ponyfillGlobal.__MUI_STYLES__.withStyles(e,(0,o.default)({defaultTheme:P},t))}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(42);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(15).default,r=n(33);e.exports=function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(58);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.capitalize=function(e){0;return e.charAt(0).toUpperCase()+e.slice(1)},t.contains=o,t.findIndex=a,t.find=function(e,t){var n=a(e,t);return n>-1?e[n]:void 0},t.createChainedFunction=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}}),(function(){}))};var r=i(n(15));i(n(6));function o(e,t){return Object.keys(t).every((function(n){return e.hasOwnProperty(n)&&e[n]===t[n]}))}function a(e,t){for(var n=(0,r.default)(t),i=0;i<e.length;i+=1){if("function"===n&&!0==!!t(e[i],i,e))return i;if("object"===n&&o(e[i],t))return i;if(-1!==["string","number","boolean"].indexOf(n))return e.indexOf(t)}return-1}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=c(n(17)),s=c(n(30)),l=c(n(23));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="style",this.isProcessed=!1;var r=i.sheet,o=i.Renderer,a=i.selector;this.key=t,this.options=i,this.style=n,a&&(this.selectorText=a),this.renderer=r?r.renderer:new o}return o(e,[{key:"prop",value:function(e,t){if(void 0===t)return this.style[e];if(this.style[e]===t)return this;var n=null==(t=this.options.jss.plugins.onChangeValue(t,e,this))||!1===t,i=e in this.style;if(n&&!i)return this;var r=n&&i;if(r?delete this.style[e]:this.style[e]=t,this.renderable)return r?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,t),this;var o=this.options.sheet;return o&&o.attached&&(0,a.default)(!1,'Rule is not linked. Missing sheet option "link: true".'),this}},{key:"applyTo",value:function(e){var t=this.toJSON();for(var n in t)this.renderer.setProperty(e,n,t[n]);return this}},{key:"toJSON",value:function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==(void 0===n?"undefined":r(n))?e[t]=n:Array.isArray(n)&&(e[t]=(0,l.default)(n))}return e}},{key:"toString",value:function(e){var t=this.options.sheet,n=!!t&&t.options.link?i({},e,{allowEmpty:!0}):e;return(0,s.default)(this.selector,this.style,n)}},{key:"selector",set:function(e){if(e!==this.selectorText&&(this.selectorText=e,this.renderable&&!this.renderer.setSelector(this.renderable,e)&&this.renderable)){var t=this.renderer.replaceRule(this.renderable,this);t&&(this.renderable=t)}},get:function(){return this.selectorText}}]),e}();t.default=u},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(70)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n(24)),a=c(n(55)),s=c(n(18)),l=c(n(97));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map={},this.raw={},this.index=[],this.update=function(e,t){var i=n.options,r=i.jss.plugins,o=i.sheet;if("string"==typeof e)r.onUpdate(t,n.get(e),o);else for(var a=0;a<n.index.length;a++)r.onUpdate(e,n.index[a],o)},this.options=t,this.classes=t.classes}return r(e,[{key:"add",value:function(e,t,n){var r=this.options,a=r.parent,c=r.sheet,u=r.jss,h=r.Renderer,d=r.generateClassName;!(n=i({classes:this.classes,parent:a,sheet:c,jss:u,Renderer:h,generateClassName:d},n)).selector&&this.classes[e]&&(n.selector="."+(0,l.default)(this.classes[e])),this.raw[e]=t;var p=(0,o.default)(e,t,n),f=void 0;!n.selector&&p instanceof s.default&&(f=d(p,c),p.selector="."+(0,l.default)(f)),this.register(p,f);var m=void 0===n.index?this.index.length:n.index;return this.index.splice(m,0,p),p}},{key:"get",value:function(e){return this.map[e]}},{key:"remove",value:function(e){this.unregister(e),this.index.splice(this.indexOf(e),1)}},{key:"indexOf",value:function(e){return this.index.indexOf(e)}},{key:"process",value:function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)}},{key:"register",value:function(e,t){this.map[e.key]=e,e instanceof s.default&&(this.map[e.selector]=e,t&&(this.classes[e.key]=t))}},{key:"unregister",value:function(e){delete this.map[e.key],e instanceof s.default&&(delete this.map[e.selector],delete this.classes[e.key])}},{key:"link",value:function(e){for(var t=this.options.sheet.renderer.getUnescapedKeysMap(this.index),n=0;n<e.length;n++){var i=e[n],r=this.options.sheet.renderer.getKey(i);t[r]&&(r=t[r]);var o=this.map[r];o&&(0,a.default)(o,i)}}},{key:"toString",value:function(e){for(var t="",n=this.options.sheet,i=!!n&&n.options.link,r=0;r<this.index.length;r++){var o=this.index[r].toString(e);(o||i)&&(t&&(t+="\n"),t+=o)}return t}}]),e}();t.default=u},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createGenerateClassName",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"createMuiTheme",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"jssPreset",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"MuiThemeProvider",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"createStyles",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"withStyles",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"withTheme",{enumerable:!0,get:function(){return u.default}});var r=i(n(41)),o=i(n(29)),a=i(n(51)),s=i(n(123)),l=i(n(128)),c=i(n(9)),u=i(n(134))},function(e,t,n){!function(t,n){e.exports=function(){"use strict";var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e);return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)};var t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function n(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function i(e,t,i){return e.concat(t).map((function(e){return n(e,i)}))}function r(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function o(e,t,i){var o={};return i.isMergeableObject(e)&&r(e).forEach((function(t){o[t]=n(e[t],i)})),r(t).forEach((function(r){i.isMergeableObject(t[r])&&e[r]?o[r]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(r,i)(e[r],t[r],i):o[r]=n(t[r],i)})),o}function a(t,r,a){(a=a||{}).arrayMerge=a.arrayMerge||i,a.isMergeableObject=a.isMergeableObject||e;var s=Array.isArray(r);return s===Array.isArray(t)?s?a.arrayMerge(t,r,a):o(t,r,a):n(r,a)}return a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})},a}()}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=i(e[r]," ");else n=i(e,", ");t||"!important"!==e[e.length-1]||(n+=" !important");return n};var i=function(e,t){for(var n="",i=0;i<e.length&&"!important"!==e[i];i++)n&&(n+=t),n+=e[i];return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unnamed",t=arguments[1],n=arguments[2],a=n.jss,s=(0,o.default)(t),l=a.plugins.onCreateRule(e,s,n);if(l)return l;"@"===e[0]&&(0,i.default)(!1,"[JSS] Unknown at-rule %s",e);return new r.default(e,s,n)};var i=a(n(17)),r=a(n(18)),o=a(n(94));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),n.d(t,"isBrowser",(function(){return r}));var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document))&&9===document.nodeType;t.default=r},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(137))},,function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n(5));var r=i(n(2)),o=i(n(4)),a=i(n(22)),s=i(n(75)),l=(i(n(6)),i(n(77))),c=i(n(78)),u=i(n(79)),h=i(n(84)),d=i(n(86)),p=i(n(87)),f=i(n(88)),m=i(n(89)),g=i(n(90));var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,i=e.mixins,y=void 0===i?{}:i,_=e.palette,v=void 0===_?{}:_,x=e.shadows,b=e.spacing,w=void 0===b?{}:b,T=e.typography,E=void 0===T?{}:T,S=(0,o.default)(e,["breakpoints","mixins","palette","shadows","spacing","typography"]),M=(0,u.default)(v),I=(0,l.default)(n),C=(0,r.default)({},f.default,w),k=(0,r.default)({breakpoints:I,direction:"ltr",mixins:(0,c.default)(I,C,y),overrides:{},palette:M,props:{},shadows:x||d.default,typography:(0,h.default)(M,E)},(0,a.default)({shape:p.default,spacing:C,transitions:m.default,zIndex:g.default},S,{isMergeableObject:s.default}));return k};t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="";if(!t)return o;var a=n.indent,s=void 0===a?0:a,l=t.fallbacks;if(s++,l)if(Array.isArray(l))for(var c=0;c<l.length;c++){var u=l[c];for(var h in u){var d=u[h];null!=d&&(o+="\n"+r(h+": "+(0,i.default)(d)+";",s))}}else for(var p in l){var f=l[p];null!=f&&(o+="\n"+r(p+": "+(0,i.default)(f)+";",s))}for(var m in t){var g=t[m];null!=g&&"fallbacks"!==m&&(o+="\n"+r(m+": "+(0,i.default)(g)+";",s))}return o||n.allowEmpty?(s--,o=r(e+" {"+o+"\n",s)+r("}",s)):o};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(23));function r(e,t){for(var n="",i=0;i<t;i++)n+="  ";return n+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(53));t.default=new i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="",r="";if(function(e){return e&&e.__esModule?e:{default:e}}(n(26)).default){var o={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},a=document.createElement("p").style;for(var s in o)if(s+"Transform"in a){i=s,r=o[s];break}}t.default={js:i,css:r}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CHANNEL=void 0;var r=i(n(5)),o="__THEMING__";t.CHANNEL=o;var a={contextTypes:(0,r.default)({},o,(function(){})),initial:function(e){return e[o]?e[o].getState():null},subscribe:function(e,t){return e[o]?e[o].subscribe(t):null},unsubscribe:function(e,t){e[o]&&e[o].unsubscribe(t)}};t.default=a},function(e,t,n){"use strict";var i=n(46),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(f){var r=p(n);r&&r!==f&&e(t,r,i)}var a=u(n);h&&(a=a.concat(h(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!(o[y]||i&&i[y]||m&&m[y]||s&&s[y])){var _=d(n,y);try{c(t,y,_)}catch(e){}}}}return t}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(144))},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(i),o=i.sources.map((function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"}));return[n].concat(o).concat([r]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var i={},r=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),o=function(e,t){return t?t.querySelector(e):document.querySelector(e)},a=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var i=o.call(this,e,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}}(),s=null,l=0,c=[],u=n(149);function h(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(y(r.parts[a],t))}else{var s=[];for(a=0;a<r.parts.length;a++)s.push(y(r.parts[a],t));i[r.id]={id:r.id,refs:1,parts:s}}}}function d(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function p(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=a(e.insertAt.before,n);n.insertBefore(t,r)}}function f(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function m(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var i=function(){0;return n.nc}();i&&(e.attrs.nonce=i)}return g(t,e.attrs),p(e,t),t}function g(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function y(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var a=l++;n=s||(s=m(t)),i=v.bind(null,n,a,!1),r=v.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",g(t,e.attrs),p(e,t),t}(t),i=b.bind(null,n,t),r=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(t),i=x.bind(null,n),r=function(){f(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=r()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=d(e,t);return h(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var a=n[o];(s=i[a.id]).refs--,r.push(s)}e&&h(d(e,t),t);for(o=0;o<r.length;o++){var s;if(0===(s=r[o]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete i[s.id]}}}};var _=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function v(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=_(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function x(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function b(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=u(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(t){return o.default.createElement(s.default.Consumer,null,(function(n){return o.default.createElement(e,(0,r.default)({muiFormControl:n},t))}))};0;return(0,a.default)(t,e),t};var r=i(n(2)),o=i(n(1)),a=i(n(35)),s=i(n(59));n(7)},function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))r.call(n,u)&&(l[u]=n[u]);if(i){s=i(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dangerouslyUseGlobalCSS,n=void 0!==t&&t,i=e.productionPrefix,r=void 0===i?"jss":i,a=e.seed,s=void 0===a?"":a,l=0;return function(e,t){return l+=1,n&&t&&t.options.name?"".concat(o(t.options.name),"-").concat(e.key):"".concat(r).concat(s).concat(l)}};i(n(6));var r=/([[\].#*$><+~=|^:(),"'`\s])/g;function o(e){return String(e).replace(r,"-")}},function(e,t,n){var i=n(15).default,r=n(73);e.exports=function(e){var t=r(e,"string");return"symbol"===i(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.convertHexToRGB=o,t.rgbToHex=function(e){if(0===e.indexOf("#"))return e;var t=a(e).values;return t=t.map((function(e){return function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t}(e)})),"#".concat(t.join(""))},t.decomposeColor=a,t.recomposeColor=s,t.getContrastRatio=function(e,t){var n=l(e),i=l(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},t.getLuminance=l,t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?c(e,t):u(e,t)},t.fade=function(e,t){if(!e)return e;e=a(e),t=r(t),("rgb"===e.type||"hsl"===e.type)&&(e.type+="a");return e.values[3]=t,s(e)},t.darken=c,t.lighten=u;i(n(6));function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e<t?t:e>n?n:e}function o(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length/3,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb(".concat(n.map((function(e){return parseInt(e,16)})).join(", "),")"):""}function a(e){if("#"===e.charAt(0))return a(o(e));var t=e.indexOf("("),n=e.substring(0,t),i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function s(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")&&(n=n.map((function(e,t){return t<3?parseInt(e,10):e}))),-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(e.type,"(").concat(n.join(", "),")")}function l(e){var t=a(e);if(-1!==t.type.indexOf("rgb")){var n=t.values.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return Number((.2126*n[0]+.7152*n[1]+.0722*n[2]).toFixed(3))}return t.values[2]/100}function c(e,t){if(!e)return e;if(e=a(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return s(e)}function u(e,t){if(!e)return e;if(e=a(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return s(e)}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n(15)),n(46);function r(e){return function(){return null}}var o=r();o.isRequired=r();var a=o;t.default=a},function(e,t,n){"use strict";e.exports=n(85)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){return function(){return null}};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.specialProperty=void 0;i(n(5)),i(n(2));t.specialProperty="exact-prop: â€‹";var r=function(e){return e};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFunctionName=r,t.default=void 0;var i=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function r(e){var t="".concat(e).match(i);return t&&t[1]||""}var o=function(e){return"string"==typeof e?e:e?e.displayName||e.name||r(e)||"Component":void 0};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(91)),o=i(n(111)),a=i(n(113)),s=i(n(115)),l=i(n(117)),c=i(n(122));var u=function(){return{plugins:[(0,r.default)(),(0,o.default)(),(0,a.default)(),(0,s.default)(),"undefined"==typeof window?null:(0,l.default)(),(0,c.default)()]}};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=t.createGenerateClassName=t.sheets=t.RuleList=t.SheetsManager=t.SheetsRegistry=t.toCssValue=t.getDynamicStyles=void 0;var i=n(92);Object.defineProperty(t,"getDynamicStyles",{enumerable:!0,get:function(){return h(i).default}});var r=n(23);Object.defineProperty(t,"toCssValue",{enumerable:!0,get:function(){return h(r).default}});var o=n(53);Object.defineProperty(t,"SheetsRegistry",{enumerable:!0,get:function(){return h(o).default}});var a=n(93);Object.defineProperty(t,"SheetsManager",{enumerable:!0,get:function(){return h(a).default}});var s=n(20);Object.defineProperty(t,"RuleList",{enumerable:!0,get:function(){return h(s).default}});var l=n(31);Object.defineProperty(t,"sheets",{enumerable:!0,get:function(){return h(l).default}});var c=n(56);Object.defineProperty(t,"createGenerateClassName",{enumerable:!0,get:function(){return h(c).default}});var u=h(n(99));function h(e){return e&&e.__esModule?e:{default:e}}var d=t.create=function(e){return new u.default(e)};t.default=d()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.registry=[]}return i(e,[{key:"add",value:function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var i=0;i<t.length;i++)if(t[i].options.index>n)return void t.splice(i,0,e)}},{key:"reset",value:function(){this.registry=[]}},{key:"remove",value:function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)}},{key:"toString",value:function(e){return this.registry.filter((function(e){return e.attached})).map((function(t){return t.toString(e)})).join("\n")}},{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){return e&&e.__esModule?e:{default:e}}(n(95));t.default=function(e){return e&&e[i.default]&&e===e[i.default]()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.renderable=t,e.rules&&t.cssRules&&e.rules.link(t.cssRules)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(17)),r=(o(n(57)),o(n(98)));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=0;return function(t,n){(e+=1)>1e10&&(0,i.default)(!1,"[JSS] You might have a memory leak. Rule counter is at %s.",e);var o="c",a="";return n&&(o=n.options.classNamePrefix||"c",null!=n.options.jss.id&&(a+=n.options.jss.id)),""+o+r.default+a+e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n(55)),a=s(n(20));function s(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,n){var r=this;for(var o in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.update=function(e,t){return"string"==typeof e?r.rules.update(e,t):r.rules.update(e),r},this.attached=!1,this.deployed=!1,this.linked=!1,this.classes={},this.options=i({},n,{sheet:this,parent:this,classes:this.classes}),this.renderer=new n.Renderer(this),this.rules=new a.default(this.options),t)this.rules.add(o,t[o]);this.rules.process()}return r(e,[{key:"attach",value:function(){return this.attached||(this.deployed||this.deploy(),this.renderer.attach(),!this.linked&&this.options.link&&this.link(),this.attached=!0),this}},{key:"detach",value:function(){return this.attached?(this.renderer.detach(),this.attached=!1,this):this}},{key:"addRule",value:function(e,t,n){var i=this.queue;this.attached&&!i&&(this.queue=[]);var r=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(i?i.push(r):(this.insertRule(r),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),r):r:(this.deployed=!1,r)}},{key:"insertRule",value:function(e){var t=this.renderer.insertRule(e);t&&this.options.link&&(0,o.default)(e,t)}},{key:"addRules",value:function(e,t){var n=[];for(var i in e)n.push(this.addRule(i,e[i],t));return n}},{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"deleteRule",value:function(e){var t=this.rules.get(e);return!!t&&(this.rules.remove(t),!this.attached||!t.renderable||this.renderer.deleteRule(t.renderable))}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"deploy",value:function(){return this.renderer.deploy(),this.deployed=!0,this}},{key:"link",value:function(){var e=this.renderer.getRules();return e&&this.rules.link(e),this.linked=!0,this}},{key:"toString",value:function(e){return this.rules.toString(e)}}]),e}();t.default=l},function(e,t){function n(t,i){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,i)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)).default.createContext();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){return e&&e.ownerDocument||document};t.default=i},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function i(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function r(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=i,t.componentWillReceiveProps=r),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,i)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),i.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(175)),o=i(n(179)),a=(i(n(64)),i(n(65)),function(e){return(0,r.default)((function(e,t){return!(0,o.default)(e,t)}))(e)});t.default=a},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(177)),o=function(e){return(0,r.default)("displayName",e)};t.default=o},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(178)),o=function(e,t){return t+"("+(0,r.default)(e)+")"};t.default=o},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(181))},function(e,t,n){"use strict";function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return i}))},,function(e,t,n){"use strict";var i=n(40),r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,h=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function x(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||_}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||_}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=x.prototype;var T=w.prototype=new b;T.constructor=w,i(T,x.prototype),T.isPureReactComponent=!0;var E={current:null},S=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var i,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!M.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:E.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var k=/\/+/g,A=[];function P(e,t,n,i){if(A.length){var r=A.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function z(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function D(e,t,n){return null==e?0:function e(t,n,i,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return i(r,t,""===n?"."+L(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+L(s=t[c],c);l+=e(s,u,i,r)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+L(s,c++),i,r);else if("object"===s)throw i=""+t,Error(y(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return l}(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function O(e,t){e.func.call(e.context,t,e.count++)}function R(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,i,n,(function(e){return e})):null!=e&&(C(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+n)),i.push(e))}function B(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(k,"$&/")+"/"),D(e,R,t=P(t,o,i,r)),z(t)}var j={current:null};function F(){var e=j.current;if(null===e)throw Error(y(321));return e}var N={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:function(e,t,n){if(null==e)return e;var i=[];return B(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;D(e,O,t=P(null,null,t,n)),z(t)},count:function(e){return D(e,(function(){return null}),null)},toArray:function(e){var t=[];return B(e,t,null,(function(e){return e})),t},only:function(e){if(!C(e))throw Error(y(143));return e}},t.Component=x,t.Fragment=s,t.Profiler=c,t.PureComponent=w,t.StrictMode=l,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null==e)throw Error(y(267,e));var r=i({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)S.call(t,u)&&!M.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return F().useCallback(e,t)},t.useContext=function(e,t){return F().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return F().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return F().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return F().useLayoutEffect(e,t)},t.useMemo=function(e,t){return F().useMemo(e,t)},t.useReducer=function(e,t,n){return F().useReducer(e,t,n)},t.useRef=function(e){return F().useRef(e)},t.useState=function(e){return F().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";var i=n(1),r=n(40),o=n(71);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));function s(e,t,n,i,r,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var l=!1,c=null,u=!1,h=null,d={onError:function(e){l=!0,c=e}};function p(e,t,n,i,r,o,a,u,h){l=!1,c=null,s.apply(d,arguments)}var f=null,m=null,g=null;function y(e,t,n){var i=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,i,r,o,s,d,f){if(p.apply(this,arguments),l){if(!l)throw Error(a(198));var m=c;l=!1,c=null,u||(u=!0,h=m)}}(i,t,void 0,e),e.currentTarget=null}var _=null,v={};function x(){if(_)for(var e in v){var t=v[e],n=_.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!w[n]){if(!t.extractEvents)throw Error(a(97,e));for(var i in w[n]=t,n=t.eventTypes){var r=void 0,o=n[i],s=t,l=i;if(T.hasOwnProperty(l))throw Error(a(99,l));T[l]=o;var c=o.phasedRegistrationNames;if(c){for(r in c)c.hasOwnProperty(r)&&b(c[r],s,l);r=!0}else o.registrationName?(b(o.registrationName,s,l),r=!0):r=!1;if(!r)throw Error(a(98,i,e))}}}}function b(e,t,n){if(E[e])throw Error(a(100,e));E[e]=t,S[e]=t.eventTypes[n].dependencies}var w=[],T={},E={},S={};function M(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!v.hasOwnProperty(t)||v[t]!==i){if(v[t])throw Error(a(102,t));v[t]=i,n=!0}}n&&x()}var I=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),C=null,k=null,A=null;function P(e){if(e=m(e)){if("function"!=typeof C)throw Error(a(280));var t=e.stateNode;t&&(t=f(t),C(e.stateNode,e.type,t))}}function z(e){k?A?A.push(e):A=[e]:k=e}function D(){if(k){var e=k,t=A;if(A=k=null,P(e),t)for(e=0;e<t.length;e++)P(t[e])}}function L(e,t){return e(t)}function O(e,t,n,i,r){return e(t,n,i,r)}function R(){}var B=L,j=!1,F=!1;function N(){null===k&&null===A||(R(),D())}function U(e,t,n){if(F)return e(t,n);F=!0;try{return B(e,t,n)}finally{F=!1,N()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,G=Object.prototype.hasOwnProperty,Z={},W={};function q(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){$[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];$[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){$[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){$[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){$[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){$[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){$[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){$[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){$[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var H=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(H,X);$[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(H,X);$[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(H,X);$[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){$[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),$.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){$[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var Y=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function J(e,t,n,i){var r=$.hasOwnProperty(t)?$[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!G.call(W,e)||!G.call(Z,e)&&(V.test(e)?W[e]=!0:(Z[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}Y.hasOwnProperty("ReactCurrentDispatcher")||(Y.ReactCurrentDispatcher={current:null}),Y.hasOwnProperty("ReactCurrentBatchConfig")||(Y.ReactCurrentBatchConfig={suspense:null});var Q=/^(.*)[\\\/]/,K="function"==typeof Symbol&&Symbol.for,ee=K?Symbol.for("react.element"):60103,te=K?Symbol.for("react.portal"):60106,ne=K?Symbol.for("react.fragment"):60107,ie=K?Symbol.for("react.strict_mode"):60108,re=K?Symbol.for("react.profiler"):60114,oe=K?Symbol.for("react.provider"):60109,ae=K?Symbol.for("react.context"):60110,se=K?Symbol.for("react.concurrent_mode"):60111,le=K?Symbol.for("react.forward_ref"):60112,ce=K?Symbol.for("react.suspense"):60113,ue=K?Symbol.for("react.suspense_list"):60120,he=K?Symbol.for("react.memo"):60115,de=K?Symbol.for("react.lazy"):60116,pe=K?Symbol.for("react.block"):60121,fe="function"==typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=fe&&e[fe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case re:return"Profiler";case ie:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case he:return ge(e.type);case pe:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=ge(e.type);n=null,i&&(n=ge(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(Q,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}function _e(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ve(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xe(e){e._valueTracker||(e._valueTracker=function(e){var t=ve(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function be(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ve(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function we(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Te(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=_e(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ee(e,t){null!=(t=t.checked)&&J(e,"checked",t,!1)}function Se(e,t){Ee(e,t);var n=_e(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ie(e,t.type,_e(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Me(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ie(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ce(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ke(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+_e(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:_e(n)}}function ze(e,t){var n=_e(t.value),i=_e(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Le="http://www.w3.org/1999/xhtml",Oe="http://www.w3.org/2000/svg";function Re(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Be(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Re(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var je,Fe=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Oe||"innerHTML"in e)e.innerHTML=t;else{for((je=je||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=je.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ne(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},Ge={},Ze={};function We(e){if(Ge[e])return Ge[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ze)return Ge[e]=n[t];return e}I&&(Ze=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var qe=We("animationend"),$e=We("animationiteration"),He=We("animationstart"),Xe=We("transitionend"),Ye="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"==typeof WeakMap?WeakMap:Map);function Qe(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function Ke(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ke(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ke(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return tt(r),e;if(o===i)return tt(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function rt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)y(e,t[i],n[i]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(rt(e,at),ot)throw Error(a(95));if(u)throw e=h,u=!1,h=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!I)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ut=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function dt(e,t,n,i){if(ut.length){var r=ut.pop();return r.topLevelType=e,r.eventSystemFlags=i,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,eventSystemFlags:i,nativeEvent:t,targetInst:n,ancestors:[]}}function pt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=In(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=lt(e.nativeEvent);i=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<w.length;l++){var c=w[l];c&&(c=c.extractEvents(i,t,o,r,a))&&(s=it(s,c))}st(s)}}function ft(e,t,n){if(!n.has(e)){switch(e){case"scroll":Ht(t,"scroll",!0);break;case"focus":case"blur":Ht(t,"focus",!0),Ht(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Ht(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ye.indexOf(e)&&$t(e,t)}n.set(e,null)}}var mt,gt,yt,_t=!1,vt=[],xt=null,bt=null,wt=null,Tt=new Map,Et=new Map,St=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),It="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Ct(e,t,n,i,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r,container:i}}function kt(e,t){switch(e){case"focus":case"blur":xt=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":wt=null;break;case"pointerover":case"pointerout":Tt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function At(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e=Ct(t,n,i,r,o),null!==t&&(null!==(t=Cn(t))&&gt(t)),e):(e.eventSystemFlags|=i,e)}function Pt(e){var t=In(e.target);if(null!==t){var n=Ke(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Cn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Dt(e,t,n){zt(e)&&n.delete(t)}function Lt(){for(_t=!1;0<vt.length;){var e=vt[0];if(null!==e.blockedOn){null!==(e=Cn(e.blockedOn))&&mt(e);break}var t=Qt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:vt.shift()}null!==xt&&zt(xt)&&(xt=null),null!==bt&&zt(bt)&&(bt=null),null!==wt&&zt(wt)&&(wt=null),Tt.forEach(Dt),Et.forEach(Dt)}function Ot(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Lt)))}function Rt(e){function t(t){return Ot(t,e)}if(0<vt.length){Ot(vt[0],e);for(var n=1;n<vt.length;n++){var i=vt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==xt&&Ot(xt,e),null!==bt&&Ot(bt,e),null!==wt&&Ot(wt,e),Tt.forEach(t),Et.forEach(t),n=0;n<St.length;n++)(i=St[n]).blockedOn===e&&(i.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)Pt(n),null===n.blockedOn&&St.shift()}var Bt={},jt=new Map,Ft=new Map,Nt=["abort","abort",qe,"animationEnd",$e,"animationIteration",He,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[i],eventPriority:t},Ft.set(i,t),jt.set(i,o),Bt[r]=o}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(Nt,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Gt=0;Gt<Vt.length;Gt++)Ft.set(Vt[Gt],0);var Zt=o.unstable_UserBlockingPriority,Wt=o.unstable_runWithPriority,qt=!0;function $t(e,t){Ht(t,e,!1)}function Ht(e,t,n){var i=Ft.get(t);switch(void 0===i?2:i){case 0:i=Xt.bind(null,t,1,e);break;case 1:i=Yt.bind(null,t,1,e);break;default:i=Jt.bind(null,t,1,e)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function Xt(e,t,n,i){j||R();var r=Jt,o=j;j=!0;try{O(r,e,t,n,i)}finally{(j=o)||N()}}function Yt(e,t,n,i){Wt(Zt,Jt.bind(null,e,t,n,i))}function Jt(e,t,n,i){if(qt)if(0<vt.length&&-1<Mt.indexOf(e))e=Ct(null,e,t,n,i),vt.push(e);else{var r=Qt(e,t,n,i);if(null===r)kt(e,i);else if(-1<Mt.indexOf(e))e=Ct(r,e,t,n,i),vt.push(e);else if(!function(e,t,n,i,r){switch(t){case"focus":return xt=At(xt,e,t,n,i,r),!0;case"dragenter":return bt=At(bt,e,t,n,i,r),!0;case"mouseover":return wt=At(wt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return Tt.set(o,At(Tt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Et.set(o,At(Et.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i)){kt(e,i),e=dt(e,i,null,t);try{U(pt,e)}finally{ht(e)}}}}function Qt(e,t,n,i){if(null!==(n=In(n=lt(i)))){var r=Ke(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=et(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}e=dt(e,i,n,t);try{U(pt,e)}finally{ht(e)}return null}var Kt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Kt.hasOwnProperty(e)&&Kt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=tn(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(Kt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Kt[t]=Kt[e]}))}));var rn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Le;function ln(e,t){var n=Qe(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var i=0;i<t.length;i++)ft(t[i],e,n)}function cn(){}function un(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,i=hn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=hn(i)}}function pn(){for(var e=window,t=un();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=un((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,gn=null;function yn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function _n(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vn="function"==typeof setTimeout?setTimeout:void 0,xn="function"==typeof clearTimeout?clearTimeout:void 0;function bn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function wn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),En="__reactInternalInstance$"+Tn,Sn="__reactEventHandlers$"+Tn,Mn="__reactContainere$"+Tn;function In(e){var t=e[En];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mn]||n[En]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=wn(e);null!==e;){if(n=e[En])return n;e=wn(e)}return t}n=(e=n).parentNode}return null}function Cn(e){return!(e=e[En]||e[Mn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function kn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function An(e){return e[Sn]||null}function Pn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function zn(e,t){var n=e.stateNode;if(!n)return null;var i=f(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}function Dn(e,t,n){(t=zn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Ln(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Pn(t);for(t=n.length;0<t--;)Dn(n[t],"captured",e);for(t=0;t<n.length;t++)Dn(n[t],"bubbled",e)}}function On(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=zn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Rn(e){e&&e.dispatchConfig.registrationName&&On(e._targetInst,null,e)}function Bn(e){rt(e,Ln)}var jn=null,Fn=null,Nn=null;function Un(){if(Nn)return Nn;var e,t,n=Fn,i=n.length,r="value"in jn?jn.value:jn.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return Nn=r.slice(e,1<t?1-t:void 0)}function Vn(){return!0}function Gn(){return!1}function Zn(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vn:Gn,this.isPropagationStopped=Gn,this}function Wn(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function qn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Wn,e.release=qn}r(Zn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){this.isPersistent=Vn},isPersistent:Gn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Gn,this._dispatchInstances=this._dispatchListeners=null}}),Zn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Zn.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,$n(n),n},$n(Zn);var Hn=Zn.extend({data:null}),Xn=Zn.extend({data:null}),Yn=[9,13,27,32],Jn=I&&"CompositionEvent"in window,Qn=null;I&&"documentMode"in document&&(Qn=document.documentMode);var Kn=I&&"TextEvent"in window&&!Qn,ei=I&&(!Jn||Qn&&8<Qn&&11>=Qn),ti=String.fromCharCode(32),ni={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ii=!1;function ri(e,t){switch(e){case"keyup":return-1!==Yn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function oi(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ai=!1;var si={eventTypes:ni,extractEvents:function(e,t,n,i){var r;if(Jn)e:{switch(e){case"compositionstart":var o=ni.compositionStart;break e;case"compositionend":o=ni.compositionEnd;break e;case"compositionupdate":o=ni.compositionUpdate;break e}o=void 0}else ai?ri(e,n)&&(o=ni.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ni.compositionStart);return o?(ei&&"ko"!==n.locale&&(ai||o!==ni.compositionStart?o===ni.compositionEnd&&ai&&(r=Un()):(Fn="value"in(jn=i)?jn.value:jn.textContent,ai=!0)),o=Hn.getPooled(o,t,n,i),r?o.data=r:null!==(r=oi(n))&&(o.data=r),Bn(o),r=o):r=null,(e=Kn?function(e,t){switch(e){case"compositionend":return oi(t);case"keypress":return 32!==t.which?null:(ii=!0,ti);case"textInput":return(e=t.data)===ti&&ii?null:e;default:return null}}(e,n):function(e,t){if(ai)return"compositionend"===e||!Jn&&ri(e,t)?(e=Un(),Nn=Fn=jn=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ei&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Xn.getPooled(ni.beforeInput,t,n,i)).data=e,Bn(t)):t=null,null===r?t:null===t?r:[r,t]}},li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ci(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!li[e.type]:"textarea"===t}var ui={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function hi(e,t,n){return(e=Zn.getPooled(ui.change,e,t,n)).type="change",z(n),Bn(e),e}var di=null,pi=null;function fi(e){st(e)}function mi(e){if(be(kn(e)))return e}function gi(e,t){if("change"===e)return t}var yi=!1;function _i(){di&&(di.detachEvent("onpropertychange",vi),pi=di=null)}function vi(e){if("value"===e.propertyName&&mi(pi))if(e=hi(pi,e,lt(e)),j)st(e);else{j=!0;try{L(fi,e)}finally{j=!1,N()}}}function xi(e,t,n){"focus"===e?(_i(),pi=n,(di=t).attachEvent("onpropertychange",vi)):"blur"===e&&_i()}function bi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mi(pi)}function wi(e,t){if("click"===e)return mi(t)}function Ti(e,t){if("input"===e||"change"===e)return mi(t)}I&&(yi=ct("input")&&(!document.documentMode||9<document.documentMode));var Ei={eventTypes:ui,_isInputEventSupported:yi,extractEvents:function(e,t,n,i){var r=t?kn(t):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var a=gi;else if(ci(r))if(yi)a=Ti;else{a=bi;var s=xi}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(a=wi);if(a&&(a=a(e,t)))return hi(a,n,i);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Ie(r,"number",r.value)}},Si=Zn.extend({view:null,detail:null}),Mi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ii(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Mi[e])&&!!t[e]}function Ci(){return Ii}var ki=0,Ai=0,Pi=!1,zi=!1,Di=Si.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ci,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=ki;return ki=e.screenX,Pi?"mousemove"===e.type?e.screenX-t:0:(Pi=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Ai;return Ai=e.screenY,zi?"mousemove"===e.type?e.screenY-t:0:(zi=!0,0)}}),Li=Di.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Oi={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Ri={eventTypes:Oi,extractEvents:function(e,t,n,i,r){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&r)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?In(t):null)&&(t!==Ke(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Di,l=Oi.mouseLeave,c=Oi.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Li,l=Oi.pointerLeave,c=Oi.pointerEnter,u="pointer");if(e=null==a?o:kn(a),o=null==t?o:kn(t),(l=s.getPooled(l,a,n,i)).type=u+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(c,t,n,i)).type=u+"enter",n.target=o,n.relatedTarget=e,u=t,(i=a)&&u)e:{for(c=u,a=0,e=s=i;e;e=Pn(e))a++;for(e=0,t=c;t;t=Pn(t))e++;for(;0<a-e;)s=Pn(s),a--;for(;0<e-a;)c=Pn(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=Pn(s),c=Pn(c)}s=null}else s=null;for(c=s,s=[];i&&i!==c&&(null===(a=i.alternate)||a!==c);)s.push(i),i=Pn(i);for(i=[];u&&u!==c&&(null===(a=u.alternate)||a!==c);)i.push(u),u=Pn(u);for(u=0;u<s.length;u++)On(s[u],"bubbled",l);for(u=i.length;0<u--;)On(i[u],"captured",n);return 0==(64&r)?[l]:[l,n]}};var Bi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ji=Object.prototype.hasOwnProperty;function Fi(e,t){if(Bi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!ji.call(t,n[i])||!Bi(e[n[i]],t[n[i]]))return!1;return!0}var Ni=I&&"documentMode"in document&&11>=document.documentMode,Ui={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vi=null,Gi=null,Zi=null,Wi=!1;function qi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wi||null==Vi||Vi!==un(n)?null:("selectionStart"in(n=Vi)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Zi&&Fi(Zi,n)?null:(Zi=n,(e=Zn.getPooled(Ui.select,Gi,e,t)).type="select",e.target=Vi,Bn(e),e))}var $i={eventTypes:Ui,extractEvents:function(e,t,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){e:{r=Qe(r),o=S.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=t?kn(t):window,e){case"focus":(ci(r)||"true"===r.contentEditable)&&(Vi=r,Gi=t,Zi=null);break;case"blur":Zi=Gi=Vi=null;break;case"mousedown":Wi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wi=!1,qi(n,i);case"selectionchange":if(Ni)break;case"keydown":case"keyup":return qi(n,i)}return null}},Hi=Zn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xi=Zn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yi=Si.extend({relatedTarget:null});function Ji(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Qi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ki={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er=Si.extend({key:function(e){if(e.key){var t=Qi[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ji(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Ki[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ci,charCode:function(e){return"keypress"===e.type?Ji(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ji(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),tr=Di.extend({dataTransfer:null}),nr=Si.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ci}),ir=Zn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=Di.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),or={eventTypes:Bt,extractEvents:function(e,t,n,i){var r=jt.get(e);if(!r)return null;switch(e){case"keypress":if(0===Ji(n))return null;case"keydown":case"keyup":e=er;break;case"blur":case"focus":e=Yi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=nr;break;case qe:case $e:case He:e=Hi;break;case Xe:e=ir;break;case"scroll":e=Si;break;case"wheel":e=rr;break;case"copy":case"cut":case"paste":e=Xi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Li;break;default:e=Zn}return Bn(t=e.getPooled(r,t,n,i)),t}};if(_)throw Error(a(101));_=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),x(),f=An,m=Cn,g=kn,M({SimpleEventPlugin:or,EnterLeaveEventPlugin:Ri,ChangeEventPlugin:Ei,SelectEventPlugin:$i,BeforeInputEventPlugin:si});var ar=[],sr=-1;function lr(e){0>sr||(e.current=ar[sr],ar[sr]=null,sr--)}function cr(e,t){sr++,ar[sr]=e.current,e.current=t}var ur={},hr={current:ur},dr={current:!1},pr=ur;function fr(e,t){var n=e.type.contextTypes;if(!n)return ur;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mr(e){return null!=(e=e.childContextTypes)}function gr(){lr(dr),lr(hr)}function yr(e,t,n){if(hr.current!==ur)throw Error(a(168));cr(hr,t),cr(dr,n)}function _r(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return r({},n,{},i)}function vr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,pr=hr.current,cr(hr,e),cr(dr,dr.current),!0}function xr(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=_r(e,t,pr),i.__reactInternalMemoizedMergedChildContext=e,lr(dr),lr(hr),cr(hr,e)):lr(dr),cr(dr,n)}var br=o.unstable_runWithPriority,wr=o.unstable_scheduleCallback,Tr=o.unstable_cancelCallback,Er=o.unstable_requestPaint,Sr=o.unstable_now,Mr=o.unstable_getCurrentPriorityLevel,Ir=o.unstable_ImmediatePriority,Cr=o.unstable_UserBlockingPriority,kr=o.unstable_NormalPriority,Ar=o.unstable_LowPriority,Pr=o.unstable_IdlePriority,zr={},Dr=o.unstable_shouldYield,Lr=void 0!==Er?Er:function(){},Or=null,Rr=null,Br=!1,jr=Sr(),Fr=1e4>jr?Sr:function(){return Sr()-jr};function Nr(){switch(Mr()){case Ir:return 99;case Cr:return 98;case kr:return 97;case Ar:return 96;case Pr:return 95;default:throw Error(a(332))}}function Ur(e){switch(e){case 99:return Ir;case 98:return Cr;case 97:return kr;case 96:return Ar;case 95:return Pr;default:throw Error(a(332))}}function Vr(e,t){return e=Ur(e),br(e,t)}function Gr(e,t,n){return e=Ur(e),wr(e,t,n)}function Zr(e){return null===Or?(Or=[e],Rr=wr(Ir,qr)):Or.push(e),zr}function Wr(){if(null!==Rr){var e=Rr;Rr=null,Tr(e)}qr()}function qr(){if(!Br&&null!==Or){Br=!0;var e=0;try{var t=Or;Vr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Or=null}catch(t){throw null!==Or&&(Or=Or.slice(e+1)),wr(Ir,Wr),t}finally{Br=!1}}}function $r(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Hr(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Xr={current:null},Yr=null,Jr=null,Qr=null;function Kr(){Qr=Jr=Yr=null}function eo(e){var t=Xr.current;lr(Xr),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Yr=e,Qr=Jr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Aa=!0),e.firstContext=null)}function io(e,t){if(Qr!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Qr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Jr){if(null===Yr)throw Error(a(308));Jr=t,Yr.dependencies={expirationTime:0,firstContext:t,responders:null}}else Jr=Jr.next=t;return e._currentValue}var ro=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function co(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function uo(e,t,n,i){var o=e.updateQueue;ro=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var c=o.baseState,u=0,h=null,d=null,p=null;if(null!==l)for(var f=l;;){if((s=f.expirationTime)<i){var m={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===p?(d=p=m,h=c):p=p.next=m,s>u&&(u=s)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),ol(s,f.suspenseConfig);e:{var g=e,y=f;switch(s=t,m=n,y.tag){case 1:if("function"==typeof(g=y.payload)){c=g.call(m,c,s);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(s="function"==typeof(g=y.payload)?g.call(m,c,s):g))break e;c=r({},c,s);break e;case 2:ro=!0}}null!==f.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[f]:s.push(f))}if(null===(f=f.next)||f===l){if(null===(s=o.shared.pending))break;f=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===p?h=c:p.next=d,o.baseState=h,o.baseQueue=p,al(u),e.expirationTime=u,e.memoizedState=c}}function ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!=typeof i)throw Error(a(191,i));i.call(r)}}}var po=Y.ReactCurrentBatchConfig,fo=(new i.Component).refs;function mo(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ke(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=qs(),r=po.suspense;(r=so(i=$s(i,e,r),r)).payload=t,null!=n&&(r.callback=n),lo(e,r),Hs(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=qs(),r=po.suspense;(r=so(i=$s(i,e,r),r)).tag=1,r.payload=t,null!=n&&(r.callback=n),lo(e,r),Hs(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=qs(),i=po.suspense;(i=so(n=$s(n,e,i),i)).tag=2,null!=t&&(i.callback=t),lo(e,i),Hs(e,n)}};function yo(e,t,n,i,r,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Fi(n,i)||!Fi(r,o))}function _o(e,t,n){var i=!1,r=ur,o=t.contextType;return"object"==typeof o&&null!==o?o=io(o):(r=mr(t)?pr:hr.current,o=(i=null!=(i=t.contextTypes))?fr(e,r):ur),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function vo(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function xo(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=fo,oo(e);var o=t.contextType;"object"==typeof o&&null!==o?r.context=io(o):(o=mr(t)?pr:hr.current,r.context=fr(e,o)),uo(e,n,r,i),r.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&go.enqueueReplaceState(r,r.state,null),uo(e,n,r,i),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var bo=Array.isArray;function wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===fo&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Eo(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=kl(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=wo(e,t,n),i.return=e,i):((i=Il(n.type,n.key,n.props,null,e.mode,i)).ref=wo(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Al(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=Cl(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=kl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Il(t.type,t.key,t.props,null,e.mode,n)).ref=wo(e,null,t),n.return=e,n;case te:return(t=Al(t,e.mode,n)).return=e,t}if(bo(t)||me(t))return(t=Cl(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===r?n.type===ne?h(e,t,n.props.children,i,r):c(e,t,n,i):null;case te:return n.key===r?u(e,t,n,i):null}if(bo(n)||me(n))return null!==r?null:h(e,t,n,i,null);To(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case ee:return e=e.get(null===i.key?n:i.key)||null,i.type===ne?h(t,e,i.props.children,r,i.key):c(t,e,i,r);case te:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(bo(i)||me(i))return h(t,e=e.get(n)||null,i,r,null);To(t,i)}return null}function m(r,a,s,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=p(r,h,s[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(r,h),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===s.length)return n(r,h),c;if(null===h){for(;m<s.length;m++)null!==(h=d(r,s[m],l))&&(a=o(h,a,m),null===u?c=h:u.sibling=h,u=h);return c}for(h=i(r,h);m<s.length;m++)null!==(g=f(h,r,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(r,e)})),c}function g(r,s,l,c){var u=me(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var h=u=null,m=s,g=s=0,y=null,_=l.next();null!==m&&!_.done;g++,_=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=p(r,m,_.value,c);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(r,m),s=o(v,s,g),null===h?u=v:h.sibling=v,h=v,m=y}if(_.done)return n(r,m),u;if(null===m){for(;!_.done;g++,_=l.next())null!==(_=d(r,_.value,c))&&(s=o(_,s,g),null===h?u=_:h.sibling=_,h=_);return u}for(m=i(r,m);!_.done;g++,_=l.next())null!==(_=f(m,r,g,_.value,c))&&(e&&null!==_.alternate&&m.delete(null===_.key?g:_.key),s=o(_,s,g),null===h?u=_:h.sibling=_,h=_);return e&&m.forEach((function(e){return t(r,e)})),u}return function(e,i,o,l){var c="object"==typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case ee:e:{for(u=o.key,c=i;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===ne){n(e,c.sibling),(i=r(c,o.props.children)).return=e,e=i;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(i=r(c,o.props)).ref=wo(e,c,o),i.return=e,e=i;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((i=Cl(o.props.children,e.mode,l,o.key)).return=e,e=i):((l=Il(o.type,o.key,o.props,null,e.mode,l)).ref=wo(e,i,o),l.return=e,e=l)}return s(e);case te:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Al(o,e.mode,l)).return=e,e=i}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=kl(o,e.mode,l)).return=e,e=i),s(e);if(bo(o))return m(e,i,o,l);if(me(o))return g(e,i,o,l);if(u&&To(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,i)}}var So=Eo(!0),Mo=Eo(!1),Io={},Co={current:Io},ko={current:Io},Ao={current:Io};function Po(e){if(e===Io)throw Error(a(174));return e}function zo(e,t){switch(cr(Ao,t),cr(ko,e),cr(Co,Io),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Be(null,"");break;default:t=Be(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}lr(Co),cr(Co,t)}function Do(){lr(Co),lr(ko),lr(Ao)}function Lo(e){Po(Ao.current);var t=Po(Co.current),n=Be(t,e.type);t!==n&&(cr(ko,e),cr(Co,n))}function Oo(e){ko.current===e&&(lr(Co),lr(ko))}var Ro={current:0};function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function jo(e,t){return{responder:e,props:t}}var Fo=Y.ReactCurrentDispatcher,No=Y.ReactCurrentBatchConfig,Uo=0,Vo=null,Go=null,Zo=null,Wo=!1;function qo(){throw Error(a(321))}function $o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bi(e[n],t[n]))return!1;return!0}function Ho(e,t,n,i,r,o){if(Uo=o,Vo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Fo.current=null===e||null===e.memoizedState?ya:_a,e=n(i,r),t.expirationTime===Uo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Zo=Go=null,t.updateQueue=null,Fo.current=va,e=n(i,r)}while(t.expirationTime===Uo)}if(Fo.current=ga,t=null!==Go&&null!==Go.next,Uo=0,Zo=Go=Vo=null,Wo=!1,t)throw Error(a(300));return e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zo?Vo.memoizedState=Zo=e:Zo=Zo.next=e,Zo}function Yo(){if(null===Go){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=Go.next;var t=null===Zo?Vo.memoizedState:Zo.next;if(null!==t)Zo=t,Go=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Go=e).memoizedState,baseState:Go.baseState,baseQueue:Go.baseQueue,queue:Go.queue,next:null},null===Zo?Vo.memoizedState=Zo=e:Zo=Zo.next=e}return Zo}function Jo(e,t){return"function"==typeof t?t(e):t}function Qo(e){var t=Yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=Go,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=s=o=null,c=r;do{var u=c.expirationTime;if(u<Uo){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=h,o=i):l=l.next=h,u>Vo.expirationTime&&(Vo.expirationTime=u,al(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ol(u,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action);c=c.next}while(null!==c&&c!==r);null===l?o=i:l.next=s,Bi(i,t.memoizedState)||(Aa=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Ko(e){var t=Yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);Bi(o,t.memoizedState)||(Aa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ea(e){var t=Xo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Jo,lastRenderedState:e}).dispatch=ma.bind(null,Vo,e),[t.memoizedState,e]}function ta(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Vo.updateQueue)?(t={lastEffect:null},Vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function na(){return Yo().memoizedState}function ia(e,t,n,i){var r=Xo();Vo.effectTag|=e,r.memoizedState=ta(1|t,n,void 0,void 0===i?null:i)}function ra(e,t,n,i){var r=Yo();i=void 0===i?null:i;var o=void 0;if(null!==Go){var a=Go.memoizedState;if(o=a.destroy,null!==i&&$o(i,a.deps))return void ta(t,n,o,i)}Vo.effectTag|=e,r.memoizedState=ta(1|t,n,o,i)}function oa(e,t){return ia(516,4,e,t)}function aa(e,t){return ra(516,4,e,t)}function sa(e,t){return ra(4,2,e,t)}function la(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ca(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)}function ua(){}function ha(e,t){return Xo().memoizedState=[e,void 0===t?null:t],e}function da(e,t){var n=Yo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&$o(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function pa(e,t){var n=Yo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&$o(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function fa(e,t,n){var i=Nr();Vr(98>i?98:i,(function(){e(!0)})),Vr(97<i?97:i,(function(){var i=No.suspense;No.suspense=void 0===t?null:t;try{e(!1),n()}finally{No.suspense=i}}))}function ma(e,t,n){var i=qs(),r=po.suspense;r={expirationTime:i=$s(i,e,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),t.pending=r,o=e.alternate,e===Vo||null!==o&&o===Vo)Wo=!0,r.expirationTime=Uo,Vo.expirationTime=Uo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.eagerReducer=o,r.eagerState=s,Bi(s,a))return}catch(e){}Hs(e,i)}}var ga={readContext:io,useCallback:qo,useContext:qo,useEffect:qo,useImperativeHandle:qo,useLayoutEffect:qo,useMemo:qo,useReducer:qo,useRef:qo,useState:qo,useDebugValue:qo,useResponder:qo,useDeferredValue:qo,useTransition:qo},ya={readContext:io,useCallback:ha,useContext:io,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ia(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ia(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Xo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,Vo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Xo().memoizedState=e},useState:ea,useDebugValue:ua,useResponder:jo,useDeferredValue:function(e,t){var n=ea(e),i=n[0],r=n[1];return oa((function(){var n=No.suspense;No.suspense=void 0===t?null:t;try{r(e)}finally{No.suspense=n}}),[e,t]),i},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[ha(fa.bind(null,t,e),[t,e]),n]}},_a={readContext:io,useCallback:da,useContext:io,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Qo,useRef:na,useState:function(){return Qo(Jo)},useDebugValue:ua,useResponder:jo,useDeferredValue:function(e,t){var n=Qo(Jo),i=n[0],r=n[1];return aa((function(){var n=No.suspense;No.suspense=void 0===t?null:t;try{r(e)}finally{No.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Qo(Jo),n=t[0];return t=t[1],[da(fa.bind(null,t,e),[t,e]),n]}},va={readContext:io,useCallback:da,useContext:io,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:pa,useReducer:Ko,useRef:na,useState:function(){return Ko(Jo)},useDebugValue:ua,useResponder:jo,useDeferredValue:function(e,t){var n=Ko(Jo),i=n[0],r=n[1];return aa((function(){var n=No.suspense;No.suspense=void 0===t?null:t;try{r(e)}finally{No.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Ko(Jo),n=t[0];return t=t[1],[da(fa.bind(null,t,e),[t,e]),n]}},xa=null,ba=null,wa=!1;function Ta(e,t){var n=El(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ea(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Sa(e){if(wa){var t=ba;if(t){var n=t;if(!Ea(e,t)){if(!(t=bn(n.nextSibling))||!Ea(e,t))return e.effectTag=-1025&e.effectTag|2,wa=!1,void(xa=e);Ta(xa,n)}xa=e,ba=bn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,wa=!1,xa=e}}function Ma(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;xa=e}function Ia(e){if(e!==xa)return!1;if(!wa)return Ma(e),wa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!_n(t,e.memoizedProps))for(t=ba;t;)Ta(e,t),t=bn(t.nextSibling);if(Ma(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ba=bn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ba=null}}else ba=xa?bn(e.stateNode.nextSibling):null;return!0}function Ca(){ba=xa=null,wa=!1}var ka=Y.ReactCurrentOwner,Aa=!1;function Pa(e,t,n,i){t.child=null===e?Mo(t,null,n,i):So(t,e.child,n,i)}function za(e,t,n,i,r){n=n.render;var o=t.ref;return no(t,r),i=Ho(e,t,n,i,o,r),null===e||Aa?(t.effectTag|=1,Pa(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ha(e,t,r))}function Da(e,t,n,i,r,o){if(null===e){var a=n.type;return"function"!=typeof a||Sl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Il(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,La(e,t,a,i,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:Fi)(r,i)&&e.ref===t.ref)?Ha(e,t,o):(t.effectTag|=1,(e=Ml(a,i)).ref=t.ref,e.return=t,t.child=e)}function La(e,t,n,i,r,o){return null!==e&&Fi(e.memoizedProps,i)&&e.ref===t.ref&&(Aa=!1,r<o)?(t.expirationTime=e.expirationTime,Ha(e,t,o)):Ra(e,t,n,i,o)}function Oa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ra(e,t,n,i,r){var o=mr(n)?pr:hr.current;return o=fr(t,o),no(t,r),n=Ho(e,t,n,i,o,r),null===e||Aa?(t.effectTag|=1,Pa(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ha(e,t,r))}function Ba(e,t,n,i,r){if(mr(n)){var o=!0;vr(t)}else o=!1;if(no(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),_o(t,n,i),xo(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=io(c):c=fr(t,c=mr(n)?pr:hr.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||l!==c)&&vo(t,a,i,c),ro=!1;var d=t.memoizedState;a.state=d,uo(t,i,a,r),l=t.memoizedState,s!==i||d!==l||dr.current||ro?("function"==typeof u&&(mo(t,n,u,i),l=t.memoizedState),(s=ro||yo(t,n,s,i,d,l,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Hr(t.type,s),l=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=io(c):c=fr(t,c=mr(n)?pr:hr.current),(h="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==i||l!==c)&&vo(t,a,i,c),ro=!1,l=t.memoizedState,a.state=l,uo(t,i,a,r),d=t.memoizedState,s!==i||l!==d||dr.current||ro?("function"==typeof u&&(mo(t,n,u,i),d=t.memoizedState),(u=ro||yo(t,n,s,i,l,d,c))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,d,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,d,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=d),a.props=i,a.state=d,a.context=c,i=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return ja(e,t,n,i,o,r)}function ja(e,t,n,i,r,o){Oa(e,t);var a=0!=(64&t.effectTag);if(!i&&!a)return r&&xr(t,n,!1),Ha(e,t,o);i=t.stateNode,ka.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Pa(e,t,s,o),t.memoizedState=i.state,r&&xr(t,n,!0),t.child}function Fa(e){var t=e.stateNode;t.pendingContext?yr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yr(0,t.context,!1),zo(e,t.containerInfo)}var Na,Ua,Va,Ga={dehydrated:null,retryTime:0};function Za(e,t,n){var i,r=t.mode,o=t.pendingProps,a=Ro.current,s=!1;if((i=0!=(64&t.effectTag))||(i=0!=(2&a)&&(null===e||null!==e.memoizedState)),i?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),cr(Ro,1&a),null===e){if(void 0!==o.fallback&&Sa(t),s){if(s=o.fallback,(o=Cl(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cl(s,r,n,null)).return=t,o.sibling=n,t.memoizedState=Ga,t.child=o,n}return r=o.children,t.memoizedState=null,t.child=Mo(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,s){if(o=o.fallback,(n=Ml(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(r=Ml(r,o)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Ga,t.child=n,r}return n=So(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Cl(null,r,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Cl(s,r,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ga,t.child=o,n}return t.memoizedState=null,t.child=So(t,e,o.children,n)}function Wa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function qa(e,t,n,i,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function $a(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Pa(e,t,i.children,n),0!=(2&(i=Ro.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n);else if(19===e.tag)Wa(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(cr(Ro,i),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Bo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),qa(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Bo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}qa(t,!0,n,null,o,t.lastEffect);break;case"together":qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ha(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&al(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ml(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ml(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ya(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mr(t.type)&&gr(),null;case 3:return Do(),lr(dr),lr(hr),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ia(t)||(t.effectTag|=4),null;case 5:Oo(t),n=Po(Ao.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ua(e,t,o,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(Co.current),Ia(t)){i=t.stateNode,o=t.type;var s=t.memoizedProps;switch(i[En]=t,i[Sn]=s,o){case"iframe":case"object":case"embed":$t("load",i);break;case"video":case"audio":for(e=0;e<Ye.length;e++)$t(Ye[e],i);break;case"source":$t("error",i);break;case"img":case"image":case"link":$t("error",i),$t("load",i);break;case"form":$t("reset",i),$t("submit",i);break;case"details":$t("toggle",i);break;case"input":Te(i,s),$t("invalid",i),ln(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!s.multiple},$t("invalid",i),ln(n,"onChange");break;case"textarea":Pe(i,s),$t("invalid",i),ln(n,"onChange")}for(var l in on(o,s),e=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"==typeof c?i.textContent!==c&&(e=["children",c]):"number"==typeof c&&i.textContent!==""+c&&(e=["children",""+c]):E.hasOwnProperty(l)&&null!=c&&ln(n,l)}switch(o){case"input":xe(i),Me(i,s,!0);break;case"textarea":xe(i),De(i);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(i.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Re(o)),e===sn?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=l.createElement(o,{is:i.is}):(e=l.createElement(o),"select"===o&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,o),e[En]=t,e[Sn]=i,Na(e,t),t.stateNode=e,l=an(o,i),o){case"iframe":case"object":case"embed":$t("load",e),c=i;break;case"video":case"audio":for(c=0;c<Ye.length;c++)$t(Ye[c],e);c=i;break;case"source":$t("error",e),c=i;break;case"img":case"image":case"link":$t("error",e),$t("load",e),c=i;break;case"form":$t("reset",e),$t("submit",e),c=i;break;case"details":$t("toggle",e),c=i;break;case"input":Te(e,i),c=we(e,i),$t("invalid",e),ln(n,"onChange");break;case"option":c=Ce(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=r({},i,{value:void 0}),$t("invalid",e),ln(n,"onChange");break;case"textarea":Pe(e,i),c=Ae(e,i),$t("invalid",e),ln(n,"onChange");break;default:c=i}on(o,c);var u=c;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];"style"===s?nn(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&Fe(e,h):"children"===s?"string"==typeof h?("textarea"!==o||""!==h)&&Ne(e,h):"number"==typeof h&&Ne(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?null!=h&&ln(n,s):null!=h&&J(e,s,h,l))}switch(o){case"input":xe(e),Me(e,i,!1);break;case"textarea":xe(e),De(e);break;case"option":null!=i.value&&e.setAttribute("value",""+_e(i.value));break;case"select":e.multiple=!!i.multiple,null!=(n=i.value)?ke(e,!!i.multiple,n,!1):null!=i.defaultValue&&ke(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=cn)}yn(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Va(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(a(166));n=Po(Ao.current),Po(Co.current),Ia(t)?(n=t.stateNode,i=t.memoizedProps,n[En]=t,n.nodeValue!==i&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[En]=t,t.stateNode=n)}return null;case 13:return lr(Ro),i=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&Ia(t):(i=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ro.current)?Is===xs&&(Is=bs):(Is!==xs&&Is!==bs||(Is=ws),0!==zs&&null!==Es&&(Dl(Es,Ms),Ll(Es,zs)))),(n||i)&&(t.effectTag|=4),null);case 4:return Do(),null;case 10:return eo(t),null;case 17:return mr(t.type)&&gr(),null;case 19:if(lr(Ro),null===(i=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(s=i.rendering)){if(o)Xa(i,!1);else if(Is!==xs||null!==e&&0!=(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Bo(s))){for(t.effectTag|=64,Xa(i,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)s=n,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return cr(Ro,1&Ro.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Bo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Xa(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Fr()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Xa(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Fr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Fr(),n.sibling=null,t=Ro.current,cr(Ro,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Ja(e){switch(e.tag){case 1:mr(e.type)&&gr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Do(),lr(dr),lr(hr),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Oo(e),null;case 13:return lr(Ro),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return lr(Ro),null;case 4:return Do(),null;case 10:return eo(e),null;default:return null}}function Qa(e,t){return{value:e,source:t,stack:ye(t)}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(e,t,n,i,o){var a=e.memoizedProps;if(a!==i){var s,l,c=t.stateNode;switch(Po(Co.current),e=null,n){case"input":a=we(c,a),i=we(c,i),e=[];break;case"option":a=Ce(c,a),i=Ce(c,i),e=[];break;case"select":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":a=Ae(c,a),i=Ae(c,i),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof i.onClick&&(c.onclick=cn)}for(s in on(n,i),n=null,a)if(!i.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in i){var u=i[s];if(c=null!=a?a[s]:void 0,i.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,u)):"children"===s?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(E.hasOwnProperty(s)?(null!=u&&ln(o,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Va=function(e,t,n,i){n!==i&&(t.effectTag|=4)};var Ka="function"==typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ye(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ts(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){_l(e,t)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Hr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==t)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void rs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:Hr(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&ho(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ho(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Rt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"==typeof wl&&wl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Vr(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(e){_l(r,e)}}e=e.next}while(e!==i)}))}break;case 1:ts(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){_l(e,t)}}(t,n);break;case 5:ts(t);break;case 4:us(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ne(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=cn));else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t):function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t)}function us(e,t,n){for(var i,r,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,c=o,u=n,h=c;;)if(as(l,h,u),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===c)break e;for(;null===h.sibling;){if(null===h.return||h.return===c)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r?(l=i,c=o.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function hs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void is(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Sn]=i,"input"===e&&"radio"===i.type&&null!=i.name&&Ee(n,i),an(e,r),t=an(e,i),r=0;r<o.length;r+=2){var s=o[r],l=o[r+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?Fe(n,l):"children"===s?Ne(n,l):J(n,s,l,t)}switch(e){case"input":Se(n,i);break;case"textarea":ze(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?ke(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?ke(n,!!i.multiple,i.defaultValue,!0):ke(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Rt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,Ls=Fr()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=null!=(r=e.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,o.style.display=tn("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ds(t);case 19:return void ds(t);case 17:return}throw Error(a(163))}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ka),t.forEach((function(t){var i=xl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var ps="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Rs||(Rs=!0,Bs=i),es(e,t)},n}function ms(e,t,n){(n=so(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return es(e,t),i(r)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===js?js=new Set([this]):js.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var gs,ys=Math.ceil,_s=Y.ReactCurrentDispatcher,vs=Y.ReactCurrentOwner,xs=0,bs=3,ws=4,Ts=0,Es=null,Ss=null,Ms=0,Is=xs,Cs=null,ks=1073741823,As=1073741823,Ps=null,zs=0,Ds=!1,Ls=0,Os=null,Rs=!1,Bs=null,js=null,Fs=!1,Ns=null,Us=90,Vs=null,Gs=0,Zs=null,Ws=0;function qs(){return 0!=(48&Ts)?1073741821-(Fr()/10|0):0!==Ws?Ws:Ws=1073741821-(Fr()/10|0)}function $s(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=Nr();if(0==(4&t))return 99===i?1073741823:1073741822;if(0!=(16&Ts))return Ms;if(null!==n)e=$r(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=$r(e,150,100);break;case 97:case 96:e=$r(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Es&&e===Ms&&--e,e}function Hs(e,t){if(50<Gs)throw Gs=0,Zs=null,Error(a(185));if(null!==(e=Xs(e,t))){var n=Nr();1073741823===t?0!=(8&Ts)&&0==(48&Ts)?Ks(e):(Js(e),0===Ts&&Wr()):Js(e),0==(4&Ts)||98!==n&&99!==n||(null===Vs?Vs=new Map([[e,t]]):(void 0===(n=Vs.get(e))||n>t)&&Vs.set(e,t))}}function Xs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Es===r&&(al(t),Is===ws&&Dl(r,Ms)),Ll(r,t)),r}function Ys(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!zl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Js(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Zr(Ks.bind(null,e));else{var t=Ys(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=qs();if(1073741823===t?i=99:1===t||2===t?i=95:i=0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=i)return;n!==zr&&Tr(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?Zr(Ks.bind(null,e)):Gr(i,Qs.bind(null,e),{timeout:10*(1073741821-t)-Fr()}),e.callbackNode=t}}}function Qs(e,t){if(Ws=0,t)return Ol(e,t=qs()),Js(e),null;var n=Ys(e);if(0!==n){if(t=e.callbackNode,0!=(48&Ts))throw Error(a(327));if(ml(),e===Es&&n===Ms||nl(e,n),null!==Ss){var i=Ts;Ts|=16;for(var r=rl();;)try{ll();break}catch(t){il(e,t)}if(Kr(),Ts=i,_s.current=r,1===Is)throw t=Cs,nl(e,n),Dl(e,n),Js(e),t;if(null===Ss)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=Is,Es=null,i){case xs:case 1:throw Error(a(345));case 2:Ol(e,2<n?2:n);break;case bs:if(Dl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(r)),1073741823===ks&&10<(r=Ls+500-Fr())){if(Ds){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=Ys(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=vn(dl.bind(null,e),r);break}dl(e);break;case ws:if(Dl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=hl(r)),Ds&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(r=Ys(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==As?i=10*(1073741821-As)-Fr():1073741823===ks?i=0:(i=10*(1073741821-ks)-5e3,0>(i=(r=Fr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ys(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=vn(dl.bind(null,e),i);break}dl(e);break;case 5:if(1073741823!==ks&&null!==Ps){o=ks;var s=Ps;if(0>=(i=0|s.busyMinDurationMs)?i=0:(r=0|s.busyDelayMs,i=(o=Fr()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=r?0:r+i-o),10<i){Dl(e,n),e.timeoutHandle=vn(dl.bind(null,e),i);break}}dl(e);break;default:throw Error(a(329))}if(Js(e),e.callbackNode===t)return Qs.bind(null,e)}}return null}function Ks(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&Ts))throw Error(a(327));if(ml(),e===Es&&t===Ms||nl(e,t),null!==Ss){var n=Ts;Ts|=16;for(var i=rl();;)try{sl();break}catch(t){il(e,t)}if(Kr(),Ts=n,_s.current=i,1===Is)throw n=Cs,nl(e,t),Dl(e,t),Js(e),n;if(null!==Ss)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Es=null,dl(e),Js(e)}return null}function el(e,t){var n=Ts;Ts|=1;try{return e(t)}finally{0===(Ts=n)&&Wr()}}function tl(e,t){var n=Ts;Ts&=-2,Ts|=8;try{return e(t)}finally{0===(Ts=n)&&Wr()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,xn(n)),null!==Ss)for(n=Ss.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&gr();break;case 3:Do(),lr(dr),lr(hr);break;case 5:Oo(i);break;case 4:Do();break;case 13:case 19:lr(Ro);break;case 10:eo(i)}n=n.return}Es=e,Ss=Ml(e.current,null),Ms=t,Is=xs,Cs=null,As=ks=1073741823,Ps=null,zs=0,Ds=!1}function il(e,t){for(;;){try{if(Kr(),Fo.current=ga,Wo)for(var n=Vo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Uo=0,Zo=Go=Vo=null,Wo=!1,null===Ss||null===Ss.return)return Is=1,Cs=t,Ss=null;e:{var r=e,o=Ss.return,a=Ss,s=t;if(t=Ms,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var l=s;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var u=0!=(1&Ro.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var f=h.memoizedProps;d=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!u)}}if(d){var m=h.updateQueue;if(null===m){var g=new Set;g.add(l),h.updateQueue=g}else m.add(l);if(0==(2&h.mode)){if(h.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=so(1073741823,null);y.tag=2,lo(a,y)}a.expirationTime=1073741823;break e}s=void 0,a=t;var _=r.pingCache;if(null===_?(_=r.pingCache=new ps,s=new Set,_.set(l,s)):void 0===(s=_.get(l))&&(s=new Set,_.set(l,s)),!s.has(a)){s.add(a);var v=vl.bind(null,r,l,a);l.then(v,v)}h.effectTag|=4096,h.expirationTime=t;break e}h=h.return}while(null!==h);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(a))}5!==Is&&(Is=2),s=Qa(s,a),h=o;do{switch(h.tag){case 3:l=s,h.effectTag|=4096,h.expirationTime=t,co(h,fs(h,l,t));break e;case 1:l=s;var x=h.type,b=h.stateNode;if(0==(64&h.effectTag)&&("function"==typeof x.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===js||!js.has(b)))){h.effectTag|=4096,h.expirationTime=t,co(h,ms(h,l,t));break e}}h=h.return}while(null!==h)}Ss=ul(Ss)}catch(e){t=e;continue}break}}function rl(){var e=_s.current;return _s.current=ga,null===e?ga:e}function ol(e,t){e<ks&&2<e&&(ks=e),null!==t&&e<As&&2<e&&(As=e,Ps=t)}function al(e){e>zs&&(zs=e)}function sl(){for(;null!==Ss;)Ss=cl(Ss)}function ll(){for(;null!==Ss&&!Dr();)Ss=cl(Ss)}function cl(e){var t=gs(e.alternate,e,Ms);return e.memoizedProps=e.pendingProps,null===t&&(t=ul(e)),vs.current=null,t}function ul(e){Ss=e;do{var t=Ss.alternate;if(e=Ss.return,0==(2048&Ss.effectTag)){if(t=Ya(t,Ss,Ms),1===Ms||1!==Ss.childExpirationTime){for(var n=0,i=Ss.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;r>n&&(n=r),o>n&&(n=o),i=i.sibling}Ss.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ss.firstEffect),e.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ss:e.firstEffect=Ss,e.lastEffect=Ss))}else{if(null!==(t=Ja(Ss)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ss.sibling))return t;Ss=e}while(null!==Ss);return Is===xs&&(Is=5),null}function hl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function dl(e){var t=Nr();return Vr(99,pl.bind(null,e,t)),null}function pl(e,t){do{ml()}while(null!==Ns);if(0!=(48&Ts))throw Error(a(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=hl(n);if(e.firstPendingTime=r,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Es&&(Ss=Es=null,Ms=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=Ts;Ts|=32,vs.current=null,mn=qt;var s=pn();if(fn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{l.nodeType,h.nodeType}catch(e){l=null;break e}var d=0,p=-1,f=-1,m=0,g=0,y=s,_=null;t:for(;;){for(var v;y!==l||0!==u&&3!==y.nodeType||(p=d+u),y!==h||0!==c&&3!==y.nodeType||(f=d+c),3===y.nodeType&&(d+=y.nodeValue.length),null!==(v=y.firstChild);)_=y,y=v;for(;;){if(y===s)break t;if(_===l&&++m===u&&(p=d),_===h&&++g===c&&(f=d),null!==(v=y.nextSibling))break;_=(y=_).parentNode}y=v}l=-1===p||-1===f?null:{start:p,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;gn={activeElementDetached:null,focusedElem:s,selectionRange:l},qt=!1,Os=r;do{try{fl()}catch(e){if(null===Os)throw Error(a(330));_l(Os,e),Os=Os.nextEffect}}while(null!==Os);Os=r;do{try{for(s=e,l=t;null!==Os;){var x=Os.effectTag;if(16&x&&Ne(Os.stateNode,""),128&x){var b=Os.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&x){case 2:cs(Os),Os.effectTag&=-3;break;case 6:cs(Os),Os.effectTag&=-3,hs(Os.alternate,Os);break;case 1024:Os.effectTag&=-1025;break;case 1028:Os.effectTag&=-1025,hs(Os.alternate,Os);break;case 4:hs(Os.alternate,Os);break;case 8:us(s,u=Os,l),ss(u)}Os=Os.nextEffect}}catch(e){if(null===Os)throw Error(a(330));_l(Os,e),Os=Os.nextEffect}}while(null!==Os);if(w=gn,b=pn(),x=w.focusedElem,l=w.selectionRange,b!==x&&x&&x.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(x.ownerDocument.documentElement,x)){null!==l&&fn(x)&&(b=l.start,void 0===(w=l.end)&&(w=b),"selectionStart"in x?(x.selectionStart=b,x.selectionEnd=Math.min(w,x.value.length)):(w=(b=x.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=x.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!w.extend&&s>l&&(u=l,l=s,s=u),u=dn(x,s),h=dn(x,l),u&&h&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==h.node||w.focusOffset!==h.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),s>l?(w.addRange(b),w.extend(h.node,h.offset)):(b.setEnd(h.node,h.offset),w.addRange(b))))),b=[];for(w=x;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof x.focus&&x.focus(),x=0;x<b.length;x++)(w=b[x]).element.scrollLeft=w.left,w.element.scrollTop=w.top}qt=!!mn,gn=mn=null,e.current=n,Os=r;do{try{for(x=e;null!==Os;){var T=Os.effectTag;if(36&T&&os(x,Os.alternate,Os),128&T){b=void 0;var E=Os.ref;if(null!==E){var S=Os.stateNode;switch(Os.tag){case 5:b=S;break;default:b=S}"function"==typeof E?E(b):E.current=b}}Os=Os.nextEffect}}catch(e){if(null===Os)throw Error(a(330));_l(Os,e),Os=Os.nextEffect}}while(null!==Os);Os=null,Lr(),Ts=o}else e.current=n;if(Fs)Fs=!1,Ns=e,Us=t;else for(Os=r;null!==Os;)t=Os.nextEffect,Os.nextEffect=null,Os=t;if(0===(t=e.firstPendingTime)&&(js=null),1073741823===t?e===Zs?Gs++:(Gs=0,Zs=e):Gs=0,"function"==typeof bl&&bl(n.stateNode,i),Js(e),Rs)throw Rs=!1,e=Bs,Bs=null,e;return 0!=(8&Ts)||Wr(),null}function fl(){for(;null!==Os;){var e=Os.effectTag;0!=(256&e)&&ns(Os.alternate,Os),0==(512&e)||Fs||(Fs=!0,Gr(97,(function(){return ml(),null}))),Os=Os.nextEffect}}function ml(){if(90!==Us){var e=97<Us?97:Us;return Us=90,Vr(e,gl)}}function gl(){if(null===Ns)return!1;var e=Ns;if(Ns=null,0!=(48&Ts))throw Error(a(331));var t=Ts;for(Ts|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:is(5,n),rs(5,n)}}catch(t){if(null===e)throw Error(a(330));_l(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ts=t,Wr(),!0}function yl(e,t,n){lo(e,t=fs(e,t=Qa(n,t),1073741823)),null!==(e=Xs(e,1073741823))&&Js(e)}function _l(e,t){if(3===e.tag)yl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){yl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===js||!js.has(i))){lo(n,e=ms(n,e=Qa(t,e),1073741823)),null!==(n=Xs(n,1073741823))&&Js(n);break}}n=n.return}}function vl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),Es===e&&Ms===n?Is===ws||Is===bs&&1073741823===ks&&Fr()-Ls<500?nl(e,Ms):Ds=!0:zl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Js(e)))}function xl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=$s(t=qs(),e,null)),null!==(e=Xs(e,t))&&Js(e)}gs=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||dr.current)Aa=!0;else{if(i<n){switch(Aa=!1,t.tag){case 3:Fa(t),Ca();break;case 5:if(Lo(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mr(t.type)&&vr(t);break;case 4:zo(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,r=t.type._context,cr(Xr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?Za(e,t,n):(cr(Ro,1&Ro.current),null!==(t=Ha(e,t,n))?t.sibling:null);cr(Ro,1&Ro.current);break;case 19:if(i=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return $a(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),cr(Ro,Ro.current),!i)return null}return Ha(e,t,n)}Aa=!1}}else Aa=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=fr(t,hr.current),no(t,n),r=Ho(null,t,i,e,r,n),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mr(i)){var o=!0;vr(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,oo(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&mo(t,i,s,e),r.updater=go,t.stateNode=r,r._reactInternalFiber=t,xo(t,i,e,n),t=ja(null,t,i,!0,o,n)}else t.tag=0,Pa(null,t,r,n),t=t.child;return t;case 16:e:{if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,o=t.tag=function(e){if("function"==typeof e)return Sl(e)?1:0;if(null!=e){if((e=e.$$typeof)===le)return 11;if(e===he)return 14}return 2}(r),e=Hr(r,e),o){case 0:t=Ra(null,t,r,e,n);break e;case 1:t=Ba(null,t,r,e,n);break e;case 11:t=za(null,t,r,e,n);break e;case 14:t=Da(null,t,r,Hr(r.type,e),i,n);break e}throw Error(a(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ra(e,t,i,r=t.elementType===i?r:Hr(i,r),n);case 1:return i=t.type,r=t.pendingProps,Ba(e,t,i,r=t.elementType===i?r:Hr(i,r),n);case 3:if(Fa(t),i=t.updateQueue,null===e||null===i)throw Error(a(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ao(e,t),uo(t,i,null,n),(i=t.memoizedState.element)===r)Ca(),t=Ha(e,t,n);else{if((r=t.stateNode.hydrate)&&(ba=bn(t.stateNode.containerInfo.firstChild),xa=t,r=wa=!0),r)for(n=Mo(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Pa(e,t,i,n),Ca();t=t.child}return t;case 5:return Lo(t),null===e&&Sa(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,_n(i,r)?s=null:null!==o&&_n(i,o)&&(t.effectTag|=16),Oa(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Pa(e,t,s,n),t=t.child),t;case 6:return null===e&&Sa(t),null;case 13:return Za(e,t,n);case 4:return zo(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=So(t,null,i,n):Pa(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,za(e,t,i,r=t.elementType===i?r:Hr(i,r),n);case 7:return Pa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Pa(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value;var l=t.type._context;if(cr(Xr,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=Bi(l,o)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(s.children===r.children&&!dr.current){t=Ha(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===i&&0!=(u.observedBits&o)){1===l.tag&&((u=so(n,null)).tag=2,lo(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),to(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Pa(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,no(t,n),i=i(r=io(r,o.unstable_observedBits)),t.effectTag|=1,Pa(e,t,i,n),t.child;case 14:return o=Hr(r=t.type,t.pendingProps),Da(e,t,r,o=Hr(r.type,o),i,n);case 15:return La(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Hr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mr(i)?(e=!0,vr(t)):e=!1,no(t,n),_o(t,i,r),xo(t,i,r,n),ja(null,t,i,!0,e,n);case 19:return $a(e,t,n)}throw Error(a(156,t.tag))};var bl=null,wl=null;function Tl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function El(e,t,n,i){return new Tl(e,t,n,i)}function Sl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var n=e.alternate;return null===n?((n=El(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Il(e,t,n,i,r,o){var s=2;if(i=e,"function"==typeof e)Sl(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case ne:return Cl(n.children,r,o,t);case se:s=8,r|=7;break;case ie:s=8,r|=1;break;case re:return(e=El(12,n,t,8|r)).elementType=re,e.type=re,e.expirationTime=o,e;case ce:return(e=El(13,n,t,r)).type=ce,e.elementType=ce,e.expirationTime=o,e;case ue:return(e=El(19,n,t,r)).elementType=ue,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case he:s=14;break e;case de:s=16,i=null;break e;case pe:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=El(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function Cl(e,t,n,i){return(e=El(7,e,i,t)).expirationTime=n,e}function kl(e,t,n){return(e=El(6,e,null,t)).expirationTime=n,e}function Al(e,t,n){return(t=El(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function zl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Dl(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Ll(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ol(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Rl(e,t,n,i){var r=t.current,o=qs(),s=po.suspense;o=$s(o,r,s);e:if(n){t:{if(Ke(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mr(c)){n=_r(n,c,l);break e}}n=l}else n=ur;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),lo(r,t),Hs(r,o),o}function Bl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function jl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Fl(e,t){jl(e,t),(e=e.alternate)&&jl(e,t)}function Nl(e,t,n){var i=new Pl(e,t,n=null!=n&&!0===n.hydrate),r=El(3,null,null,2===t?7:1===t?3:0);i.current=r,r.stateNode=i,oo(r),e[Mn]=i.current,n&&0!==t&&function(e,t){var n=Qe(t);Mt.forEach((function(e){ft(e,t,n)})),It.forEach((function(e){ft(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=i}function Ul(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vl(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof r){var s=r;r=function(){var e=Bl(a);s.call(e)}}Rl(t,a,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Nl(e,0,t?{hydrate:!0}:void 0)}(n,i),a=o._internalRoot,"function"==typeof r){var l=r;r=function(){var e=Bl(a);l.call(e)}}tl((function(){Rl(t,a,e,r)}))}return Bl(a)}function Gl(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Zl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ul(t))throw Error(a(200));return Gl(e,t,null,n)}Nl.prototype.render=function(e){Rl(e,this._internalRoot,null,null)},Nl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Rl(null,e,null,(function(){t[Mn]=null}))},mt=function(e){if(13===e.tag){var t=$r(qs(),150,100);Hs(e,t),Fl(e,t)}},gt=function(e){13===e.tag&&(Hs(e,3),Fl(e,3))},yt=function(e){if(13===e.tag){var t=qs();Hs(e,t=$s(t,e,null)),Fl(e,t)}},C=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=An(i);if(!r)throw Error(a(90));be(i),Se(i,r)}}}break;case"textarea":ze(e,n);break;case"select":null!=(t=n.value)&&ke(e,!!n.multiple,t,!1)}},L=el,O=function(e,t,n,i,r){var o=Ts;Ts|=4;try{return Vr(98,e.bind(null,t,n,i,r))}finally{0===(Ts=o)&&Wr()}},R=function(){0==(49&Ts)&&(function(){if(null!==Vs){var e=Vs;Vs=null,e.forEach((function(e,t){Ol(t,e),Js(t)})),Wr()}}(),ml())},B=function(e,t){var n=Ts;Ts|=2;try{return e(t)}finally{0===(Ts=n)&&Wr()}};var Wl={Events:[Cn,kn,An,M,T,Bn,function(e){rt(e,Rn)},z,D,Jt,st,ml,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);bl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},wl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}})(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:In,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wl,t.createPortal=Zl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&Ts))throw Error(a(187));var n=Ts;Ts|=1;try{return Vr(99,e.bind(null,t))}finally{Ts=n,Wr()}},t.hydrate=function(e,t,n){if(!Ul(t))throw Error(a(200));return Vl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ul(t))throw Error(a(200));return Vl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Vl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Mn]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Zl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ul(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Vl(e,t,n,!1,i)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(72)},function(e,t,n){"use strict";var i,r,o,a,s;if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(u,0),e}},h=Date.now();t.unstable_now=function(){return Date.now()-h},i=function(e){null!==l?setTimeout(i,0,e):(l=e,setTimeout(u,0))},r=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,p=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof d&&"function"==typeof d.now)t.unstable_now=function(){return d.now()};else{var y=p.now();t.unstable_now=function(){return p.now()-y}}var _=!1,v=null,x=-1,b=5,w=0;a=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<e?Math.floor(1e3/e):5};var T=new MessageChannel,E=T.port2;T.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();w=e+b;try{v(!0,e)?E.postMessage(null):(_=!1,v=null)}catch(e){throw E.postMessage(null),e}}else _=!1},i=function(e){v=e,_||(_=!0,E.postMessage(null))},r=function(e,n){x=f((function(){e(t.unstable_now())}),n)},o=function(){m(x),x=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<C(r,t)))break e;e[i]=t,e[n]=r,n=i}}function M(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>C(a,n))void 0!==l&&0>C(l,a)?(e[i]=l,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==l&&0>C(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],A=[],P=1,z=null,D=3,L=!1,O=!1,R=!1;function B(e){for(var t=M(A);null!==t;){if(null===t.callback)I(A);else{if(!(t.startTime<=e))break;I(A),t.sortIndex=t.expirationTime,S(k,t)}t=M(A)}}function j(e){if(R=!1,B(e),!O)if(null!==M(k))O=!0,i(F);else{var t=M(A);null!==t&&r(j,t.startTime-e)}}function F(e,n){O=!1,R&&(R=!1,o()),L=!0;var i=D;try{for(B(n),z=M(k);null!==z&&(!(z.expirationTime>n)||e&&!a());){var s=z.callback;if(null!==s){z.callback=null,D=z.priorityLevel;var l=s(z.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?z.callback=l:z===M(k)&&I(k),B(n)}else I(k);z=M(k)}if(null!==z)var c=!0;else{var u=M(A);null!==u&&r(j,u.startTime-n),c=!1}return c}finally{z=null,D=i,L=!1}}function N(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||L||(O=!0,i(F))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return M(k)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:N(e)}else a=N(e),l=s;return e={id:P++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,S(A,e),null===M(k)&&e===M(A)&&(R?o():R=!0,r(j,l-s))):(e.sortIndex=a,S(k,e),O||L||(O=!0,i(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();B(e);var n=M(k);return n!==z&&null!==z&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<z.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},function(e,t,n){var i=n(15).default;e.exports=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(76);function r(e){return!0===i(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==r(e)&&("function"==typeof(t=e.constructor)&&(!1!==r(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(e,t,n){"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,i=e.unit,s=void 0===i?"px":i,l=e.step,c=void 0===l?5:l,u=(0,o.default)(e,["values","unit","step"]);function h(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function d(e,t){var i=a.indexOf(t)+1;return i===a.length?h(e):"@media (min-width:".concat(n[e]).concat(s,") and ")+"(max-width:".concat(n[a[i]]-c/100).concat(s,")")}return(0,r.default)({keys:a,values:n,up:h,down:function(e){var t=a.indexOf(e)+1,i=n[a[t]];return t===a.length?h("xs"):"@media (max-width:".concat(("number"==typeof i&&t>0?i:e)-c/100).concat(s,")")},between:d,only:function(e){return d(e,e)},width:function(e){return n[e]}},u)},t.keys=void 0;var r=i(n(2)),o=i(n(4)),a=["xs","sm","md","lg","xl"];t.keys=a},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var i;return(0,o.default)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.default)({paddingLeft:2*t.unit,paddingRight:2*t.unit},n,(0,r.default)({},e.up("sm"),(0,o.default)({paddingLeft:3*t.unit,paddingRight:3*t.unit},n[e.up("sm")])))},toolbar:(i={minHeight:56},(0,r.default)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,r.default)(i,e.up("sm"),{minHeight:64}),i)},n)};var r=i(n(5)),o=i(n(2))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.primary,n=void 0===t?{light:s.default[300],main:s.default[500],dark:s.default[700]}:t,i=e.secondary,g=void 0===i?{light:l.default.A200,main:l.default.A400,dark:l.default.A700}:i,y=e.error,_=void 0===y?{light:u.default[300],main:u.default[500],dark:u.default[700]}:y,v=e.type,x=void 0===v?"light":v,b=e.contrastThreshold,w=void 0===b?3:b,T=e.tonalOffset,E=void 0===T?.2:T,S=(0,o.default)(e,["primary","secondary","error","type","contrastThreshold","tonalOffset"]);function M(e){return(0,d.getContrastRatio)(e,f.text.primary)>=w?f.text.primary:p.text.primary}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;return!e.main&&e[t]&&(e.main=e[t]),m(e,"light",n,E),m(e,"dark",i,E),e.contrastText||(e.contrastText=M(e.main)),e}I(n),I(g,"A400","A200","A700"),I(_);var C={dark:f,light:p};return(0,a.default)((0,r.default)({common:h.default,type:x,primary:n,secondary:g,error:_,grey:c.default,contrastThreshold:w,getContrastText:M,augmentColor:I,tonalOffset:E},C[x]),S,{clone:!1})},t.dark=t.light=void 0;var r=i(n(2)),o=i(n(4)),a=(i(n(6)),i(n(22))),s=i(n(43)),l=i(n(80)),c=i(n(81)),u=i(n(82)),h=i(n(83)),d=n(44),p={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:h.default.white,default:c.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.08)",hoverOpacity:.08,selected:"rgba(0, 0, 0, 0.14)",disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)"}};t.light=p;var f={text:{primary:h.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:c.default[800],default:"#303030"},action:{active:h.default.white,hover:"rgba(255, 255, 255, 0.1)",hoverOpacity:.1,selected:"rgba(255, 255, 255, 0.2)",disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)"}};function m(e,t,n,i){e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,d.lighten)(e.main,i):"dark"===t&&(e.dark=(0,d.darken)(e.main,1.5*i)))}t.dark=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={black:"#000",white:"#fff"};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="function"==typeof t?t(e):t,i=n.fontFamily,u=void 0===i?'"Roboto", "Helvetica", "Arial", sans-serif':i,h=n.fontSize,d=void 0===h?14:h,p=n.fontWeightLight,f=void 0===p?300:p,m=n.fontWeightRegular,g=void 0===m?400:m,y=n.fontWeightMedium,_=void 0===y?500:y,v=n.htmlFontSize,x=void 0===v?16:v,b=n.useNextVariants,w=void 0===b?Boolean(s.ponyfillGlobal.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__):b,T=(n.suppressWarning,n.allVariants),E=(0,o.default)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","htmlFontSize","useNextVariants","suppressWarning","allVariants"]);var S=d/14,M=function(e){return"".concat(e/x*S,"rem")},I=function(t,n,i,o,a){return(0,r.default)({color:e.text.primary,fontFamily:u,fontWeight:t,fontSize:M(n),lineHeight:i},'"Roboto", "Helvetica", "Arial", sans-serif'===u?{letterSpacing:"".concat(l(o/n),"em")}:{},a,T)},C={h1:I(f,96,1,-1.5),h2:I(f,60,1,-.5),h3:I(g,48,1.04,0),h4:I(g,34,1.17,.25),h5:I(g,24,1.33,0),h6:I(_,20,1.6,.15),subtitle1:I(g,16,1.75,.15),subtitle2:I(_,14,1.57,.1),body1Next:I(g,16,1.5,.15),body2Next:I(g,14,1.5,.15),buttonNext:I(_,14,1.75,.4,c),captionNext:I(g,12,1.66,.4),overline:I(g,12,2.66,1,c)},k={display4:(0,r.default)({fontSize:M(112),fontWeight:f,fontFamily:u,letterSpacing:"-.04em",lineHeight:"".concat(l(128/112),"em"),marginLeft:"-.04em",color:e.text.secondary},T),display3:(0,r.default)({fontSize:M(56),fontWeight:g,fontFamily:u,letterSpacing:"-.02em",lineHeight:"".concat(l(73/56),"em"),marginLeft:"-.02em",color:e.text.secondary},T),display2:(0,r.default)({fontSize:M(45),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(51/45),"em"),marginLeft:"-.02em",color:e.text.secondary},T),display1:(0,r.default)({fontSize:M(34),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(41/34),"em"),color:e.text.secondary},T),headline:(0,r.default)({fontSize:M(24),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(32.5/24),"em"),color:e.text.primary},T),title:(0,r.default)({fontSize:M(21),fontWeight:_,fontFamily:u,lineHeight:"".concat(l(24.5/21),"em"),color:e.text.primary},T),subheading:(0,r.default)({fontSize:M(16),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(1.5),"em"),color:e.text.primary},T),body2:(0,r.default)({fontSize:M(14),fontWeight:_,fontFamily:u,lineHeight:"".concat(l(24/14),"em"),color:e.text.primary},T),body1:(0,r.default)({fontSize:M(14),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(20.5/14),"em"),color:e.text.primary},T),caption:(0,r.default)({fontSize:M(12),fontWeight:g,fontFamily:u,lineHeight:"".concat(l(1.375),"em"),color:e.text.secondary},T),button:(0,r.default)({fontSize:M(14),textTransform:"uppercase",fontWeight:_,fontFamily:u,color:e.text.primary},T)};return(0,a.default)((0,r.default)({pxToRem:M,round:l,fontFamily:u,fontSize:d,fontWeightLight:f,fontWeightRegular:g,fontWeightMedium:_},k,C,w?{body1:C.body1Next,body2:C.body2Next,button:C.buttonNext,caption:C.captionNext}:{},{useNextVariants:w}),E,{clone:!1})};var r=i(n(2)),o=i(n(4)),a=i(n(22)),s=(i(n(6)),n(7));function l(e){return Math.round(1e5*e)/1e5}var c={textTransform:"uppercase"}},function(e,t,n){"use strict";var i="function"==typeof Symbol&&Symbol.for,r=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,u=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.async_mode"):60111,d=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,y=i?Symbol.for("react.lazy"):60116,_=i?Symbol.for("react.block"):60121,v=i?Symbol.for("react.fundamental"):60117,x=i?Symbol.for("react.responder"):60118,b=i?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case h:case d:case a:case l:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case y:case g:case c:return e;default:return t}}case o:return t}}}function T(e){return w(e)===d}t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=c,t.Element=r,t.ForwardRef=p,t.Fragment=a,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=l,t.StrictMode=s,t.Suspense=f,t.isAsyncMode=function(e){return T(e)||w(e)===h},t.isConcurrentMode=T,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===l},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===l||e===s||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===x||e.$$typeof===b||e.$$typeof===_)},t.typeOf=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function i(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var r=["none",i(0,1,3,0,0,1,1,0,0,2,1,-1),i(0,1,5,0,0,2,2,0,0,3,1,-2),i(0,1,8,0,0,3,4,0,0,3,3,-2),i(0,2,4,-1,0,4,5,0,0,1,10,0),i(0,3,5,-1,0,5,8,0,0,1,14,0),i(0,3,5,-1,0,6,10,0,0,1,18,0),i(0,4,5,-2,0,7,10,1,0,2,16,1),i(0,5,5,-3,0,8,10,1,0,3,14,2),i(0,5,6,-3,0,9,12,1,0,3,16,2),i(0,6,6,-3,0,10,14,1,0,4,18,3),i(0,6,7,-4,0,11,15,1,0,4,20,3),i(0,7,8,-4,0,12,17,2,0,5,22,4),i(0,7,8,-4,0,13,19,2,0,5,24,4),i(0,7,9,-4,0,14,21,2,0,5,26,4),i(0,8,9,-5,0,15,22,2,0,6,28,5),i(0,8,10,-5,0,16,24,2,0,6,30,5),i(0,8,11,-5,0,17,26,2,0,6,32,5),i(0,9,11,-5,0,18,28,2,0,7,34,6),i(0,9,12,-6,0,19,29,2,0,7,36,6),i(0,10,13,-6,0,20,31,3,0,8,38,7),i(0,10,13,-6,0,21,33,3,0,8,40,7),i(0,10,14,-6,0,22,35,3,0,8,42,7),i(0,11,14,-7,0,23,36,3,0,9,44,8),i(0,11,15,-7,0,24,38,3,0,9,46,8)];t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={borderRadius:4};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={unit:8};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isNumber=t.isString=t.formatMs=t.duration=t.easing=void 0;var r=i(n(4)),o=(i(n(6)),{easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"});t.easing=o;var a={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};t.duration=a;var s=function(e){return"".concat(Math.round(e),"ms")};t.formatMs=s;t.isString=function(e){return"string"==typeof e};t.isNumber=function(e){return!isNaN(parseFloat(e))};var l={easing:o,duration:a,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,i=void 0===n?a.standard:n,l=t.easing,c=void 0===l?o.easeInOut:l,u=t.delay,h=void 0===u?0:u;(0,r.default)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof i?i:s(i)," ").concat(c," ").concat("string"==typeof h?h:s(h))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={mobileStepper:1e3,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.default=function(){return{onCreateRule:function(e,t,n){if("@global"===e)return new s(e,t,n);if("@"===e[0]&&"@global "===e.substr(0,"@global ".length))return new l(e,t,n);var i=n.parent;return i&&("global"!==i.type&&"global"!==i.options.parent.type||(n.global=!0)),n.global&&(n.selector=e),null},onProcessRule:function(e){"style"===e.type&&(function(e){var t=e.options,n=e.style,r=n["@global"];if(!r)return;for(var o in r)t.sheet.addRule(o,r[o],i({},t,{selector:u(o,e.selector)}));delete n["@global"]}(e),function(e){var t=e.options,n=e.style;for(var r in n)if("@global"===r.substr(0,"@global".length)){var o=u(r.substr("@global".length),e.selector);t.sheet.addRule(o,n[r],i({},t,{selector:o})),delete n[r]}}(e))}}};var o=n(52);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t,n,r){for(var s in a(this,e),this.type="global",this.key=t,this.options=r,this.rules=new o.RuleList(i({},r,{parent:this})),n)this.rules.add(s,n[s],{selector:s});this.rules.process()}return r(e,[{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"addRule",value:function(e,t,n){var i=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(i),i}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"toString",value:function(){return this.rules.toString()}}]),e}(),l=function(){function e(t,n,r){a(this,e),this.name=t,this.options=r;var o=t.substr("@global ".length);this.rule=r.jss.createRule(o,n,i({},r,{parent:this,selector:o}))}return r(e,[{key:"toString",value:function(e){return this.rule.toString(e)}}]),e}(),c=/\s*,\s*/g;function u(e,t){for(var n=e.split(c),i="",r=0;r<n.length;r++)i+=t+" "+n[r].trim(),n[r+1]&&(i+=", ");return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t){var n=null;for(var r in t){var o=t[r],a=void 0===o?"undefined":i(o);if("function"===a)n||(n={}),n[r]=o;else if("object"===a&&null!==o&&!Array.isArray(o)){var s=e(o);s&&(n||(n={}),n[r]=s)}}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(17));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sheets=[],this.refs=[],this.keys=[]}return i(e,[{key:"get",value:function(e){var t=this.keys.indexOf(e);return this.sheets[t]}},{key:"add",value:function(e,t){var n=this.sheets,i=this.refs,r=this.keys,o=n.indexOf(t);return-1!==o?o:(n.push(t),i.push(0),r.push(e),n.length-1)}},{key:"manage",value:function(e){var t=this.keys.indexOf(e),n=this.sheets[t];return 0===this.refs[t]&&n.attach(),this.refs[t]++,this.keys[t]||this.keys.splice(t,0,e),n}},{key:"unmanage",value:function(e){var t=this.keys.indexOf(e);-1!==t?this.refs[t]>0&&(this.refs[t]--,0===this.refs[t]&&this.sheets[t].detach()):(0,r.default)(!1,"SheetsManager: can't find sheet to unmanage")}},{key:"size",get:function(){return this.keys.length}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t){if(null==t)return t;var n=void 0===t?"undefined":i(t);if("string"===n||"number"===n||"function"===n)return t;if(o(t))return t.map(e);if((0,r.default)(t))return t;var a={};for(var s in t){var l=t[s];"object"!==(void 0===l?"undefined":i(l))?a[s]=l:a[s]=e(l)}return a};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(54));var o=Array.isArray},function(e,t,n){"use strict";n.r(t),function(e,i){var r,o=n(67);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var a=Object(o.a)(r);t.default=a}.call(this,n(25),n(96)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});e.CSS;t.default=function(e){return e}}).call(this,n(25))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n="2f1acc6c3a606b082e5eef5e54414ffb";null==e[n]&&(e[n]=0),t.default=e[n]++}).call(this,n(25))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=_(n(26)),s=_(n(57)),l=_(n(100)),c=_(n(101)),u=_(n(107)),h=_(n(108)),d=_(n(31)),p=_(n(18)),f=_(n(56)),m=_(n(24)),g=_(n(109)),y=_(n(110));function _(e){return e&&e.__esModule?e:{default:e}}var v=c.default.concat([u.default,h.default]),x=0,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=x++,this.version="9.8.7",this.plugins=new l.default,this.options={createGenerateClassName:f.default,Renderer:a.default?g.default:y.default,plugins:[]},this.generateClassName=(0,f.default)(),this.use.apply(this,v),this.setup(t)}return o(e,[{key:"setup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.createGenerateClassName&&(this.options.createGenerateClassName=e.createGenerateClassName,this.generateClassName=e.createGenerateClassName()),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),(e.virtual||e.Renderer)&&(this.options.Renderer=e.Renderer||(e.virtual?y.default:g.default)),e.plugins&&this.use.apply(this,e.plugins),this}},{key:"createStyleSheet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.index;"number"!=typeof n&&(n=0===d.default.index?0:d.default.index+1);var i=new s.default(e,r({},t,{jss:this,generateClassName:t.generateClassName||this.generateClassName,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i}},{key:"removeStyleSheet",value:function(e){return e.detach(),d.default.remove(e),this}},{key:"createRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"===(void 0===e?"undefined":i(e))&&(n=t,t=e,e=void 0);var r=n;r.jss=this,r.Renderer=this.options.Renderer,r.generateClassName||(r.generateClassName=this.generateClassName),r.classes||(r.classes={});var o=(0,m.default)(e,t,r);return!r.selector&&o instanceof p.default&&(o.selector="."+r.generateClassName(o)),this.plugins.onProcessRule(o),o}},{key:"use",value:function(){for(var e=this,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){-1===e.options.plugins.indexOf(t)&&(e.options.plugins.push(t),e.plugins.use(t))})),this}}]),e}();t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(17));var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks={onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}}return i(e,[{key:"onCreateRule",value:function(e,t,n){for(var i=0;i<this.hooks.onCreateRule.length;i++){var r=this.hooks.onCreateRule[i](e,t,n);if(r)return r}return null}},{key:"onProcessRule",value:function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.hooks.onProcessRule.length;n++)this.hooks.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}}},{key:"onProcessStyle",value:function(e,t,n){for(var i=e,r=0;r<this.hooks.onProcessStyle.length;r++)i=this.hooks.onProcessStyle[r](i,t,n),t.style=i}},{key:"onProcessSheet",value:function(e){for(var t=0;t<this.hooks.onProcessSheet.length;t++)this.hooks.onProcessSheet[t](e)}},{key:"onUpdate",value:function(e,t,n){for(var i=0;i<this.hooks.onUpdate.length;i++)this.hooks.onUpdate[i](e,t,n)}},{key:"onChangeValue",value:function(e,t,n){for(var i=e,r=0;r<this.hooks.onChangeValue.length;r++)i=this.hooks.onChangeValue[r](i,t,n);return i}},{key:"use",value:function(e){for(var t in e)this.hooks[t]?this.hooks[t].push(e[t]):(0,r.default)(!1,'[JSS] Unknown hook "%s".',t)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(n(102)),r=l(n(103)),o=l(n(104)),a=l(n(105)),s=l(n(106));function l(e){return e&&e.__esModule?e:{default:e}}var c={"@charset":i.default,"@import":i.default,"@namespace":i.default,"@keyframes":r.default,"@media":o.default,"@supports":o.default,"@font-face":a.default,"@viewport":s.default,"@-ms-viewport":s.default},u=Object.keys(c).map((function(e){var t=new RegExp("^"+e),n=c[e];return{onCreateRule:function(e,i,r){return t.test(e)?new n(e,i,r):null}}}));t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="simple",this.isProcessed=!1,this.key=t,this.value=n,this.options=i}return i(e,[{key:"toString",value:function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(20));var a=function(){function e(t,n,r){for(var a in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="keyframes",this.isProcessed=!1,this.key=t,this.options=r,this.rules=new o.default(i({},r,{parent:this})),n)this.rules.add(a,n[a],i({},this.options,{parent:this,selector:a}));this.rules.process()}return r(e,[{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},t=this.rules.toString(e);return t&&(t+="\n"),this.key+" {\n"+t+"}"}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(20));var a=function(){function e(t,n,r){for(var a in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="conditional",this.isProcessed=!1,this.key=t,this.options=r,this.rules=new o.default(i({},r,{parent:this})),n)this.rules.add(a,n[a]);this.rules.process()}return r(e,[{key:"getRule",value:function(e){return this.rules.get(e)}},{key:"indexOf",value:function(e){return this.rules.indexOf(e)}},{key:"addRule",value:function(e,t,n){var i=this.rules.add(e,t,n);return this.options.jss.plugins.onProcessRule(i),i}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{indent:1},t=this.rules.toString(e);return t?this.key+" {\n"+t+"\n}":""}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(30));var o=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="font-face",this.isProcessed=!1,this.key=t,this.style=n,this.options=i}return i(e,[{key:"toString",value:function(e){if(Array.isArray(this.style)){for(var t="",n=0;n<this.style.length;n++)t+=(0,r.default)(this.key,this.style[n]),this.style[n+1]&&(t+="\n");return t}return(0,r.default)(this.key,this.style,e)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(30));var o=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type="viewport",this.isProcessed=!1,this.key=t,this.style=n,this.options=i}return i(e,[{key:"toString",value:function(e){return(0,r.default)(this.key,this.style,e)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(18)),r=a(n(24)),o=a(n(54));function a(e){return e&&e.__esModule?e:{default:e}}t.default={onCreateRule:function(e,t,n){if(!(0,o.default)(t))return null;var i=t,a=(0,r.default)(e,{},n);return i.subscribe((function(e){for(var t in e)a.prop(t,e[t])})),a},onProcessRule:function(e){if(e instanceof i.default){var t=e,n=t.style,r=function(e){var i=n[e];if(!(0,o.default)(i))return"continue";delete n[e],i.subscribe({next:function(n){t.prop(e,n)}})};for(var a in n)r(a)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(20)),r=a(n(18)),o=a(n(24));function a(e){return e&&e.__esModule?e:{default:e}}var s=Date.now(),l="fnValues"+s,c="fnStyle"+ ++s;t.default={onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var i=(0,o.default)(e,{},n);return i[c]=t,i},onProcessStyle:function(e,t){var n={};for(var i in e){var r=e[i];"function"==typeof r&&(delete e[i],n[i]=r)}return(t=t)[l]=n,e},onUpdate:function(e,t){if(t.rules instanceof i.default)t.rules.update(e);else if(t instanceof r.default){if((t=t)[l])for(var n in t[l])t.prop(n,t[l][n](e));var o=(t=t)[c];if(o){var a=o(e);for(var s in a)t.prop(s,a[s])}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=l(n(17)),o=l(n(31)),a=l(n(18)),s=l(n(23));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=void 0;return function(){return t||(t=e()),t}};function u(e,t){try{return e.style.getPropertyValue(t)}catch(e){return""}}function h(e,t,n){try{var i=n;if(Array.isArray(n)&&(i=(0,s.default)(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,i,"important"),!0;e.style.setProperty(t,i)}catch(e){return!1}return!0}function d(e,t){try{e.style.removeProperty(t)}catch(e){(0,r.default)(!1,'[JSS] DOMException "%s" was thrown. Tried to remove property "%s".',e.message,t)}}var p=1,f=7,m=function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.substr(t,e.indexOf("{")-1)};return function(t){if(t.type===p)return t.selectorText;if(t.type===f){var n=t.name;if(n)return"@keyframes "+n;var i=t.cssText;return"@"+e(i,i.indexOf("keyframes"))}return e(t.cssText)}}();function g(e,t){return e.selectorText=t,e.selectorText===t}var y=c((function(){return document.head||document.getElementsByTagName("head")[0]})),_=function(){var e=void 0,t=!1;return function(n){var i={};e||(e=document.createElement("style"));for(var r=0;r<n.length;r++){var o=n[r];if(o instanceof a.default){var s=o.selector;if(s&&-1!==s.indexOf("\\")){t||(y().appendChild(e),t=!0),e.textContent=s+" {}";var l=e.sheet;if(l){var c=l.cssRules;c&&(i[c[0].selectorText]=o.key)}}}}return t&&(y().removeChild(e),t=!1),i}}();function v(e){var t=o.default.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.attached&&i.options.index>t.index&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e);if(n)return n.renderer.element;if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.attached&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e))return n.renderer.element.nextElementSibling}var i=e.insertionPoint;if(i&&"string"==typeof i){var a=function(e){for(var t=y(),n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(8===i.nodeType&&i.nodeValue.trim()===e)return i}return null}(i);if(a)return a.nextSibling;(0,r.default)("jss"===i,'[JSS] Insertion point "%s" not found.',i)}return null}var x=c((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getPropertyValue=u,this.setProperty=h,this.removeProperty=d,this.setSelector=g,this.getKey=m,this.getUnescapedKeysMap=_,this.hasInsertedRules=!1,t&&o.default.add(t),this.sheet=t;var n=this.sheet?this.sheet.options:{},i=n.media,r=n.meta,a=n.element;this.element=a||document.createElement("style"),this.element.setAttribute("data-jss",""),i&&this.element.setAttribute("media",i),r&&this.element.setAttribute("data-meta",r);var s=x();s&&this.element.setAttribute("nonce",s)}return i(e,[{key:"attach",value:function(){!this.element.parentNode&&this.sheet&&(this.hasInsertedRules&&(this.deploy(),this.hasInsertedRules=!1),function(e,t){var n=t.insertionPoint,i=v(t);if(i){var o=i.parentNode;o&&o.insertBefore(e,i)}else if(n&&"number"==typeof n.nodeType){var a=n,s=a.parentNode;s?s.insertBefore(e,a.nextSibling):(0,r.default)(!1,"[JSS] Insertion point is not in the DOM.")}else y().insertBefore(e,i)}(this.element,this.sheet.options))}},{key:"detach",value:function(){this.element.parentNode.removeChild(this.element)}},{key:"deploy",value:function(){this.sheet&&(this.element.textContent="\n"+this.sheet.toString()+"\n")}},{key:"insertRule",value:function(e,t){var n=this.element.sheet,i=n.cssRules,o=e.toString();if(t||(t=i.length),!o)return!1;try{n.insertRule(o,t)}catch(t){return(0,r.default)(!1,"[JSS] Can not insert an unsupported rule \n\r%s",e),!1}return this.hasInsertedRules=!0,i[t]}},{key:"deleteRule",value:function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),!0)}},{key:"indexOf",value:function(e){for(var t=this.element.sheet.cssRules,n=0;n<t.length;n++)if(e===t[n])return n;return-1}},{key:"replaceRule",value:function(e,t){var n=this.indexOf(e),i=this.insertRule(t,n);return this.element.sheet.deleteRule(n),i}},{key:"getRules",value:function(){return this.element.sheet.cssRules}}]),e}();t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"setProperty",value:function(){return!0}},{key:"getPropertyValue",value:function(){return""}},{key:"removeProperty",value:function(){}},{key:"setSelector",value:function(){return!0}},{key:"getKey",value:function(){return""}},{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"deploy",value:function(){}},{key:"insertRule",value:function(){return!1}},{key:"deleteRule",value:function(){return!0}},{key:"replaceRule",value:function(){return!1}},{key:"getRules",value:function(){}},{key:"indexOf",value:function(){return-1}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.default=function(){function e(e){return function(t,n){var i=e.getRule(n);return i?i.selector:((0,r.default)(!1,"[JSS] Could not find the referenced rule %s in %s.",n,e.options.meta||e),n)}}var t=function(e){return-1!==e.indexOf("&")};function n(e,n){for(var i=n.split(o),r=e.split(o),s="",l=0;l<i.length;l++)for(var c=i[l],u=0;u<r.length;u++){var h=r[u];s&&(s+=", "),s+=t(h)?h.replace(a,c):c+" "+h}return s}function l(e,t,n){if(n)return i({},n,{index:n.index+1});var r=e.options.nestingLevel;return r=void 0===r?1:r+1,i({},e.options,{nestingLevel:r,index:t.indexOf(e)+1})}return{onProcessStyle:function(r,o){if("style"!==o.type)return r;var a=o.options.parent,c=void 0,u=void 0;for(var h in r){var d=t(h),p="@"===h[0];if(d||p){if(c=l(o,a,c),d){var f=n(h,o.selector);u||(u=e(a)),f=f.replace(s,u),a.addRule(f,r[h],i({},c,{selector:f}))}else p&&a.addRule(h,null,c).addRule(o.key,r[h],{selector:o.selector});delete r[h]}}return r}}};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(112));var o=/\s*,\s*/g,a=/&/g,s=/\$([\w-]+)/g},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=r(e[t]);return e}return r(e)},onChangeValue:function(e,t,n){var r=(0,i.default)(t);return t===r?e:(n.prop(r,e),null)}}};var i=function(e){return e&&e.__esModule?e:{default:e}}(n(114));function r(e){var t={};for(var n in e)t[(0,i.default)(n)]=e[n];return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(r):t.fallbacks=r(e.fallbacks)),t}},function(e,t,n){"use strict";n.r(t);var i=/[A-Z]/g,r=/^ms-/,o={};function a(e){return"-"+e.toLowerCase()}t.default=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(i,a);return o[e]=r.test(t)?"-"+t:t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},i={};for(var r in e)i[r]=e[r],i[r.replace(t,n)]=e[r];return i}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r(e);function n(e,n){if("style"!==n.type)return e;for(var i in e)e[i]=a(i,e[i],t);return e}function i(e,n){return a(n,e,t)}return{onProcessStyle:n,onChangeValue:i}};var o=r(function(e){return e&&e.__esModule?e:{default:e}}(n(116)).default);function a(e,t,n){if(!t)return t;var r=t,s=void 0===t?"undefined":i(t);switch("object"===s&&Array.isArray(t)&&(s="array"),s){case"object":if("fallbacks"===e){for(var l in t)t[l]=a(l,t[l],n);break}for(var c in t)t[c]=a(e+"-"+c,t[c],n);break;case"array":for(var u=0;u<t.length;u++)t[u]=a(e,t[u],n);break;case"number":0!==t&&(r=t+(n[e]||o[e]||""))}return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={"animation-delay":"ms","animation-duration":"ms","background-position":"px","background-position-x":"px","background-position-y":"px","background-size":"px",border:"px","border-bottom":"px","border-bottom-left-radius":"px","border-bottom-right-radius":"px","border-bottom-width":"px","border-left":"px","border-left-width":"px","border-radius":"px","border-right":"px","border-right-width":"px","border-spacing":"px","border-top":"px","border-top-left-radius":"px","border-top-right-radius":"px","border-top-width":"px","border-width":"px","border-after-width":"px","border-before-width":"px","border-end-width":"px","border-horizontal-spacing":"px","border-start-width":"px","border-vertical-spacing":"px",bottom:"px","box-shadow":"px","column-gap":"px","column-rule":"px","column-rule-width":"px","column-width":"px","flex-basis":"px","font-size":"px","font-size-delta":"px",height:"px",left:"px","letter-spacing":"px","logical-height":"px","logical-width":"px",margin:"px","margin-after":"px","margin-before":"px","margin-bottom":"px","margin-left":"px","margin-right":"px","margin-top":"px","max-height":"px","max-width":"px","margin-end":"px","margin-start":"px","mask-position-x":"px","mask-position-y":"px","mask-size":"px","max-logical-height":"px","max-logical-width":"px","min-height":"px","min-width":"px","min-logical-height":"px","min-logical-width":"px",motion:"px","motion-offset":"px",outline:"px","outline-offset":"px","outline-width":"px",padding:"px","padding-bottom":"px","padding-left":"px","padding-right":"px","padding-top":"px","padding-after":"px","padding-before":"px","padding-end":"px","padding-start":"px","perspective-origin-x":"%","perspective-origin-y":"%",perspective:"px",right:"px","shape-margin":"px",size:"px","text-indent":"px","text-stroke":"px","text-stroke-width":"px",top:"px","transform-origin":"%","transform-origin-x":"%","transform-origin-y":"%","transform-origin-z":"%","transition-delay":"ms","transition-duration":"ms","vertical-align":"px",width:"px","word-spacing":"px","box-shadow-x":"px","box-shadow-y":"px","box-shadow-blur":"px","box-shadow-spread":"px","font-line-height":"px","text-shadow-x":"px","text-shadow-y":"px","text-shadow-blur":"px"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return{onProcessRule:function(e){"keyframes"===e.type&&(e.key="@"+i.prefix.css+e.key.substr(1))},onProcessStyle:function(e,t){if("style"!==t.type)return e;for(var n in e){var r=e[n],o=!1,a=i.supportedProperty(n);a&&a!==n&&(o=!0);var s=!1,l=i.supportedValue(a,r);l&&l!==r&&(s=!0),(o||s)&&(o&&delete e[n],e[a||n]=l||r)}return e},onChangeValue:function(e,t){return i.supportedValue(t,e)}}};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(118))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportedValue=t.supportedProperty=t.prefix=void 0;var i=a(n(32)),r=a(n(119)),o=a(n(121));function a(e){return e&&e.__esModule?e:{default:e}}t.default={prefix:i.default,supportedProperty:r.default,supportedValue:o.default},t.prefix=i.default,t.supportedProperty=r.default,t.supportedValue=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!s)return e;if(null!=l[e])return l[e];(0,o.default)(e)in s.style?l[e]=e:r.default.js+(0,o.default)("-"+e)in s.style?l[e]=r.default.css+e:l[e]=!1;return l[e]};var i=a(n(26)),r=a(n(32)),o=a(n(120));function a(e){return e&&e.__esModule?e:{default:e}}var s=void 0,l={};if(i.default){s=document.createElement("p");var c=window.getComputedStyle(document.documentElement,"");for(var u in c)isNaN(u)||(l[c[u]]=c[u])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(i,r)};var i=/[-\s]+(.)?/g;function r(e,t){return t?t.toUpperCase():""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!s)return t;if("string"!=typeof t||!isNaN(parseInt(t,10)))return t;var n=e+t;if(null!=a[n])return a[n];try{s.style[e]=t}catch(e){return a[n]=!1,!1}""!==s.style[e]?a[n]=t:("-ms-flex"===(t=r.default.css+t)&&(t="-ms-flexbox"),s.style[e]=t,""!==s.style[e]&&(a[n]=t));a[n]||(a[n]=!1);return s.style[e]="",a[n]};var i=o(n(26)),r=o(n(32));function o(e){return e&&e.__esModule?e:{default:e}}var a={},s=void 0;i.default&&(s=document.createElement("p"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t){return e.length-t.length}return{onProcessStyle:function(t,n){if("style"!==n.type)return t;var i={},r=Object.keys(t).sort(e);for(var o in r)i[r[o]]=t[r[o]];return i}}}},function(e,t,n){"use strict";var i=n(124),r=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MuiThemeProviderOld=void 0;var o=r(n(2)),a=r(n(5)),s=r(n(10)),l=r(n(11)),c=r(n(12)),u=r(n(13)),h=r(n(14)),d=r(n(1)),p=r(n(3)),f=(r(n(6)),r(n(127))),m=n(7),g=i(n(34)),y=function(e){function t(e,n){var i;return(0,s.default)(this,t),(i=(0,c.default)(this,(0,u.default)(t).call(this))).broadcast=(0,f.default)(),i.outerTheme=g.default.initial(n),i.broadcast.setState(i.mergeOuterLocalTheme(e.theme)),i}return(0,h.default)(t,e),(0,l.default)(t,[{key:"getChildContext",value:function(){var e,t=this.props,n=t.disableStylesGeneration,i=t.sheetsCache,r=t.sheetsManager,o=this.context.muiThemeProviderOptions||{};return void 0!==n&&(o.disableStylesGeneration=n),void 0!==i&&(o.sheetsCache=i),void 0!==r&&(o.sheetsManager=r),e={},(0,a.default)(e,g.CHANNEL,this.broadcast),(0,a.default)(e,"muiThemeProviderOptions",o),e}},{key:"componentDidMount",value:function(){var e=this;this.unsubscribeId=g.default.subscribe(this.context,(function(t){e.outerTheme=t,e.broadcast.setState(e.mergeOuterLocalTheme(e.props.theme))}))}},{key:"componentDidUpdate",value:function(e){this.props.theme!==e.theme&&this.broadcast.setState(this.mergeOuterLocalTheme(this.props.theme))}},{key:"componentWillUnmount",value:function(){null!==this.unsubscribeId&&g.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"mergeOuterLocalTheme",value:function(e){return"function"==typeof e?e(this.outerTheme):this.outerTheme?(0,o.default)({},this.outerTheme,e):e}},{key:"render",value:function(){return this.props.children}}]),t}(d.default.Component);t.MuiThemeProviderOld=y,y.childContextTypes=(0,o.default)({},g.default.contextTypes,{muiThemeProviderOptions:p.default.object}),y.contextTypes=(0,o.default)({},g.default.contextTypes,{muiThemeProviderOptions:p.default.object}),m.ponyfillGlobal.__MUI_STYLES__||(m.ponyfillGlobal.__MUI_STYLES__={}),m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider||(m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider=y);var _=m.ponyfillGlobal.__MUI_STYLES__.MuiThemeProvider;t.default=_},function(e,t,n){var i=n(15).default;function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=a?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(o,s,l):o[s]=e[s]}return o.default=e,n&&n.set(e,o),o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var i=n(126);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t),t.default=function(e){var t={},n=1,i=e;return{getState:function(){return i},setState:function(e){i=e;for(var n=Object.keys(t),r=0,o=n.length;r<o;r++)t[n[r]]&&t[n[r]](e)},subscribe:function(e){if("function"!=typeof e)throw new Error("listener must be a function.");var i=n;return t[i]=e,n+=1,i},unsubscribe:function(e){delete t[e]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={jss:"64a55d578f856d258dc345b094a2a2b3",sheetsRegistry:"d4bd0baacbc52bbd48bbb9eb24344ecd",sheetOptions:"6fc570d6bd61383819d0f9e7407c452d"};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2));i(n(6)),n(7);var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;if(e.Component,!n)return t;var i=(0,r.default)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={set:function(e,t,n,i){var r=e.get(t);r||(r=new Map,e.set(t,r)),r.set(n,i)},get:function(e,t,n){var i=e.get(t);return i?i.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2)),o=(i(n(15)),i(n(6)),i(n(22)));function a(e,t){return t}var s=function(e){var t="function"==typeof e;return{create:function(n,i){var s=t?e(n):e;if(!i||!n.overrides||!n.overrides[i])return s;var l=n.overrides[i],c=(0,r.default)({},s);return Object.keys(l).forEach((function(e){c[e]=(0,o.default)(c[e],l[e],{arrayMerge:a})})),c},options:{},themingEnabled:t}};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){var t=e.theme,n=e.name,i=e.props;if(!t.props||!n||!t.props[n])return i;var r,o=t.props[n];for(r in o)void 0===i[r]&&(i[r]=o[r]);return i};t.default=i},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=i(n(2)),a=i(n(4)),s=i(n(10)),l=i(n(11)),c=i(n(12)),u=i(n(13)),h=i(n(14)),d=i(n(1)),p=(i(n(3)),i(n(35))),f=n(7),m=i(n(29)),g=i(n(34));function y(){return r||(r=(0,m.default)({typography:{suppressWarning:!0}}))}f.ponyfillGlobal.__MUI_STYLES__||(f.ponyfillGlobal.__MUI_STYLES__={}),f.ponyfillGlobal.__MUI_STYLES__.withTheme||(f.ponyfillGlobal.__MUI_STYLES__.withTheme=function(){return function(e){var t=function(t){function n(e,t){var i;return(0,s.default)(this,n),(i=(0,c.default)(this,(0,u.default)(n).call(this))).state={theme:g.default.initial(t)||y()},i}return(0,h.default)(n,t),(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeId=g.default.subscribe(this.context,(function(t){e.setState({theme:t})}))}},{key:"componentWillUnmount",value:function(){null!==this.unsubscribeId&&g.default.unsubscribe(this.context,this.unsubscribeId)}},{key:"render",value:function(){var t=this.props,n=t.innerRef,i=(0,a.default)(t,["innerRef"]);return d.default.createElement(e,(0,o.default)({theme:this.state.theme,ref:n},i))}}]),n}(d.default.Component);return t.contextTypes=g.default.contextTypes,(0,p.default)(t,e),t}});var _=f.ponyfillGlobal.__MUI_STYLES__.withTheme;t.default=_},,,function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=(n(7),i(n(9))),u=n(16),h=function(e){return{root:{display:"block",margin:0},display4:e.typography.display4,display3:e.typography.display3,display2:e.typography.display2,display1:e.typography.display1,headline:e.typography.headline,title:e.typography.title,subheading:e.typography.subheading,body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,srOnly:{position:"absolute",height:1,width:1,overflow:"hidden"},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right"},alignJustify:{textAlign:"justify"},noWrap:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},gutterBottom:{marginBottom:"0.35em"},paragraph:{marginBottom:16},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorTextPrimary:{color:e.palette.text.primary},colorTextSecondary:{color:e.palette.text.secondary},colorError:{color:e.palette.error.main},inline:{display:"inline"}}};t.styles=h;var d={display4:"h1",display3:"h2",display2:"h3",display1:"h4",headline:"h5",title:"h6",subheading:"subtitle1"};var p={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",display4:"h1",display3:"h1",display2:"h1",display1:"h1",headline:"h1",title:"h2",subheading:"h3"};function f(e){var t,n=e.align,i=e.classes,c=e.className,h=e.color,f=e.component,m=e.gutterBottom,g=e.headlineMapping,y=e.inline,_=(e.internalDeprecatedVariant,e.noWrap),v=e.paragraph,x=e.theme,b=e.variant,w=(0,a.default)(e,["align","classes","className","color","component","gutterBottom","headlineMapping","inline","internalDeprecatedVariant","noWrap","paragraph","theme","variant"]),T=function(e,t){var n=e.typography,i=t;return i||(i=n.useNextVariants?"body2":"body1"),n.useNextVariants&&(i=d[i]||i),i}(x,b),E=(0,l.default)(i.root,(t={},(0,o.default)(t,i[T],"inherit"!==T),(0,o.default)(t,i["color".concat((0,u.capitalize)(h))],"default"!==h),(0,o.default)(t,i.noWrap,_),(0,o.default)(t,i.gutterBottom,m),(0,o.default)(t,i.paragraph,v),(0,o.default)(t,i["align".concat((0,u.capitalize)(n))],"inherit"!==n),(0,o.default)(t,i.inline,y),t),c),S=f||(v?"p":g[T]||p[T])||"span";return s.default.createElement(S,(0,r.default)({className:E},w))}f.defaultProps={align:"inherit",color:"default",gutterBottom:!1,headlineMapping:p,inline:!1,noWrap:!1,paragraph:!1};var m=(0,c.default)(h,{name:"MuiTypography",withTheme:!0})(f);t.default=m},,,,function(e,t,n){(function(t){!function(n,i){e.exports=function(){"use strict";var e,n,i;function r(t,r){if(e)if(n){var o="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+e+")(sharedChunk); ("+n+")(sharedChunk); self.onerror = null;",a={};e(a),i=r(a),"undefined"!=typeof window&&window&&window.URL&&window.URL.createObjectURL&&(i.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else n=r;else e=r}return r(["exports"],(function(e){"use strict";var n="undefined"!=typeof self?self:{},i="2.12.0";let r;const o={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(null==r){const e=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{r=null!=t.env.API_URL_REGEX?new RegExp(t.env.API_URL_REGEX):e}catch(t){r=e}}return r},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf("https://api.mapbox.cn")?"https://events.mapbox.cn/events/v2":0===this.API_URL.indexOf("https://api.mapbox.com")?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},a={supported:!1,testSupport:function(e){!c&&l&&(u?h(e):s=e)}};let s,l,c=!1,u=!1;function h(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,l),e.isContextLost())return;a.supported=!0}catch(e){}e.deleteTexture(t),c=!0}n.document&&(l=n.document.createElement("img"),l.onload=function(){s&&h(s),s=null,u=!0},l.onerror=function(){c=!0,s=null},l.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const d="01";var p=f;function f(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}f.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var r=this.sampleCurveX(n)-e;if(Math.abs(r)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=r/o}var a=0,s=1;for(n=e,i=0;i<20&&(r=this.sampleCurveX(n),!(Math.abs(r-e)<t));i++)e>r?a=n:s=n,n=.5*(s-a)+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var m=g;function g(e,t){this.x=e,this.y=t}g.prototype={clone:function(){return new g(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),i=Math.sin(e),r=t.y+i*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-i*(this.y-t.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},g.convert=function(e){return e instanceof g?e:Array.isArray(e)?new g(e[0],e[1]):e};const y=Math.PI/180,_=180/Math.PI;function v(e){return e*y}function x(e){return e*_}const b=[[0,0],[1,0],[1,1],[0,1]];function w(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function T(e,t,n,i){const r=new p(e,t,n,i);return function(e){return r.solve(e)}}const E=T(.25,.1,.25,1);function S(e,t,n){return Math.min(n,Math.max(t,e))}function M(e,t,n){return(n=S((n-e)/(t-e),0,1))*n*(3-2*n)}function I(e,t,n){const i=n-t,r=((e-t)%i+i)%i+t;return r===t?n:r}function C(e,t,n){if(!e.length)return n(null,[]);let i=e.length;const r=new Array(e.length);let o=null;e.forEach((e,a)=>{t(e,(e,t)=>{e&&(o=e),r[a]=t,0==--i&&n(o,r)})})}function k(e){const t=[];for(const n in e)t.push(e[n]);return t}function A(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}let P=1;function z(){return P++}function D(){return function e(t){return t?(t^Math.random()*(16>>t/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}function L(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function O(e){return!!e&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}function R(e,t){e.forEach(e=>{t[e]&&(t[e]=t[e].bind(t))})}function B(e,t){return-1!==e.indexOf(t,e.length-t.length)}function j(e,t,n){const i={};for(const r in e)i[r]=t.call(n||this,e[r],r,e);return i}function F(e,t,n){const i={};for(const r in e)t.call(n||this,e[r],r,e)&&(i[r]=e[r]);return i}function N(e){return Array.isArray(e)?e.map(N):"object"==typeof e&&e?j(e,N):e}const U={};function V(e){U[e]||("undefined"!=typeof console&&console.warn(e),U[e]=!0)}function G(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function Z(e){let t=0;for(let n,i,r=0,o=e.length,a=o-1;r<o;a=r++)n=e[r],i=e[a],t+=(i.x-n.x)*(n.y+i.y);return t}function W(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function q(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(e,n,i,r)=>{const o=i||r;return t[n]=!o||o.toLowerCase(),""}),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t}let $=null;function H(e){if(null==$){const t=e.navigator?e.navigator.userAgent:null;$=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return $}function X(e){try{const t=n[e];return t.setItem("_mapbox_test_",1),t.removeItem("_mapbox_test_"),!0}catch(e){return!1}}function Y(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}const J="mapbox-tiles";let Q,K,ee=500,te=50;function ne(){try{return n.caches}catch(e){}}function ie(){ne()&&!Q&&(Q=n.caches.open(J))}function re(e){const t=e.indexOf("?");if(t<0)return e;const n=function(e){const t=e.indexOf("?");return t>0?e.slice(t+1).split("&"):[]}(e).filter(e=>{const t=e.split("=");return"language"===t[0]||"worldview"===t[0]});return n.length?`${e.slice(0,t)}?${n.join("&")}`:e.slice(0,t)}let oe=1/0;const ae={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(ae);class se extends Error{constructor(e,t,n){401===t&&_e(n)&&(e+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(e),this.status=t,this.url=n}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const le=W()?()=>self.worker&&self.worker.referrer:()=>("blob:"===n.location.protocol?n.parent:n).location.href,ce=function(e,t){if(!(/^file:/.test(i=e.url)||/^file:/.test(le())&&!/^\w+:/.test(i))){if(n.fetch&&n.Request&&n.AbortController&&n.Request.prototype.hasOwnProperty("signal"))return function(e,t){const i=new n.AbortController,r=new n.Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:le(),signal:i.signal});let o=!1,a=!1;const s=(l=r.url).indexOf("sku=")>0&&_e(l);var l;"json"===e.type&&r.headers.set("Accept","application/json");const c=(i,o,l)=>{if(a)return;if(i&&"SecurityError"!==i.message&&V(i),o&&l)return u(o);const c=Date.now();n.fetch(r).then(n=>{if(n.ok){const e=s?n.clone():null;return u(n,e,c)}return t(new se(n.statusText,n.status,e.url))}).catch(e=>{20!==e.code&&t(new Error(e.message))})},u=(i,s,l)=>{("arrayBuffer"===e.type?i.arrayBuffer():"json"===e.type?i.json():i.text()).then(e=>{a||(s&&l&&function(e,t,i){if(ie(),!Q)return;const r={status:t.status,statusText:t.statusText,headers:new n.Headers};t.headers.forEach((e,t)=>r.headers.set(t,e));const o=q(t.headers.get("Cache-Control")||"");if(o["no-store"])return;o["max-age"]&&r.headers.set("Expires",new Date(i+1e3*o["max-age"]).toUTCString());const a=r.headers.get("Expires");a&&(new Date(a).getTime()-i<42e4||function(e,t){if(void 0===K)try{new Response(new ReadableStream),K=!0}catch(e){K=!1}K?t(e.body):e.blob().then(t)}(t,t=>{const i=new n.Response(t,r);ie(),Q&&Q.then(t=>t.put(re(e.url),i)).catch(e=>V(e.message))}))}(r,s,l),o=!0,t(null,e,i.headers.get("Cache-Control"),i.headers.get("Expires")))}).catch(e=>{a||t(new Error(e.message))})};return s?function(e,t){if(ie(),!Q)return t(null);const n=re(e.url);Q.then(e=>{e.match(n).then(i=>{const r=function(e){if(!e)return!1;const t=new Date(e.headers.get("Expires")||0),n=q(e.headers.get("Cache-Control")||"");return t>Date.now()&&!n["no-cache"]}(i);e.delete(n),r&&e.put(n,i.clone()),t(null,i,r)}).catch(t)}).catch(t)}(r,c):c(null,null),{cancel:()=>{a=!0,o||i.abort()}}}(e,t);if(W()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var i;return function(e,t){const i=new n.XMLHttpRequest;i.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(i.responseType="arraybuffer");for(const t in e.headers)i.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(i.responseType="text",i.setRequestHeader("Accept","application/json")),i.withCredentials="include"===e.credentials,i.onerror=()=>{t(new Error(i.statusText))},i.onload=()=>{if((i.status>=200&&i.status<300||0===i.status)&&null!==i.response){let n=i.response;if("json"===e.type)try{n=JSON.parse(i.response)}catch(e){return t(e)}t(null,n,i.getResponseHeader("Cache-Control"),i.getResponseHeader("Expires"))}else t(new se(i.statusText,i.status,e.url))},i.send(e.body),{cancel:()=>i.abort()}}(e,t)},ue=function(e,t){return ce(A(e,{type:"arrayBuffer"}),t)};function he(e){const t=n.document.createElement("a");return t.href=e,t.protocol===n.document.location.protocol&&t.host===n.document.location.host}const de="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let pe,fe;pe=[],fe=0;const me=function(e,t){if(a.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),fe>=o.MAX_PARALLEL_IMAGE_REQUESTS){const n={requestParameters:e,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return pe.push(n),n}fe++;let i=!1;const r=()=>{if(!i)for(i=!0,fe--;pe.length&&fe<o.MAX_PARALLEL_IMAGE_REQUESTS;){const e=pe.shift(),{requestParameters:t,callback:n,cancelled:i}=e;i||(e.cancel=me(t,n).cancel)}},s=ue(e,(e,i,o,a)=>{r(),e?t(e):i&&(n.createImageBitmap?function(e,t){const i=new n.Blob([new Uint8Array(e)],{type:"image/png"});n.createImageBitmap(i).then(e=>{t(null,e)}).catch(e=>{t(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(i,(e,n)=>t(e,n,o,a)):function(e,t){const i=new n.Image,r=n.URL;i.onload=()=>{t(null,i),r.revokeObjectURL(i.src),i.onload=null,n.requestAnimationFrame(()=>{i.src=de})},i.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const o=new n.Blob([new Uint8Array(e)],{type:"image/png"});i.src=e.byteLength?r.createObjectURL(o):de}(i,(e,n)=>t(e,n,o,a)))});return{cancel:()=>{s.cancel(),r()}}},ge="NO_ACCESS_TOKEN";function ye(e){return 0===e.indexOf("mapbox:")}function _e(e){return o.API_URL_REGEX.test(e)}function ve(e){return o.API_CDN_URL_REGEX.test(e)}function xe(e){return o.API_STYLE_REGEX.test(e)&&!be(e)}function be(e){return o.API_SPRITE_REGEX.test(e)}const we=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Te(e){const t=e.match(we);if(!t)throw new Error("Unable to parse URL object");return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}function Ee(e){const t=e.params.length?"?"+e.params.join("&"):"";return`${e.protocol}://${e.authority}${e.path}${t}`}function Se(e){if(!e)return null;const t=e.split(".");if(!t||3!==t.length)return null;try{return JSON.parse(decodeURIComponent(n.atob(t[1]).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch(e){return null}}class Me{constructor(e){this.type=e,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(e){const t=Se(o.ACCESS_TOKEN);let i="";return i=t&&t.u?n.btoa(encodeURIComponent(t.u).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(Number("0x"+t)))):o.ACCESS_TOKEN||"",e?`mapbox.eventData.${e}:${i}`:"mapbox.eventData:"+i}fetchEventData(){const e=X("localStorage"),t=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{const e=n.localStorage.getItem(t);e&&(this.eventData=JSON.parse(e));const r=n.localStorage.getItem(i);r&&(this.anonId=r)}catch(e){V("Unable to read from LocalStorage")}}saveEventData(){const e=X("localStorage"),t=this.getStorageKey(),i=this.getStorageKey("uuid");if(e)try{n.localStorage.setItem(i,this.anonId),Object.keys(this.eventData).length>=1&&n.localStorage.setItem(t,JSON.stringify(this.eventData))}catch(e){V("Unable to write to LocalStorage")}}processRequests(e){}postEvent(e,t,n,i){if(!o.EVENTS_URL)return;const r=Te(o.EVENTS_URL);r.params.push("access_token="+(i||o.ACCESS_TOKEN||""));const a={event:this.type,created:new Date(e).toISOString()},s=t?A(a,t):a,l={url:Ee(r),headers:{"Content-Type":"text/plain"},body:JSON.stringify([s])};this.pendingRequest=function(e,t){return ce(A(e,{method:"POST"}),t)}(l,e=>{this.pendingRequest=null,n(e),this.saveEventData(),this.processRequests(i)})}queueRequest(e,t){this.queue.push(e),this.processRequests(t)}}const Ie=new class extends Me{constructor(e){super("appUserTurnstile"),this._customAccessToken=e}postTurnstileEvent(e,t){o.EVENTS_URL&&o.ACCESS_TOKEN&&Array.isArray(e)&&e.some(e=>ye(e)||_e(e))&&this.queueRequest(Date.now(),t)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const t=Se(o.ACCESS_TOKEN),n=t?t.u:o.ACCESS_TOKEN;let r=n!==this.eventData.tokenU;O(this.anonId)||(this.anonId=D(),r=!0);const a=this.queue.shift();if(this.eventData.lastSuccess){const e=new Date(this.eventData.lastSuccess),t=new Date(a),n=(a-this.eventData.lastSuccess)/864e5;r=r||n>=1||n<-1||e.getDate()!==t.getDate()}else r=!0;r?this.postEvent(a,{sdkIdentifier:"mapbox-gl-js",sdkVersion:i,skuId:d,"enabled.telemetry":!1,userId:this.anonId},e=>{e||(this.eventData.lastSuccess=a,this.eventData.tokenU=n)},e):this.processRequests()}},Ce=Ie.postTurnstileEvent.bind(Ie),ke=new class extends Me{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(e,t,n,i){this.skuToken=t,this.errorCb=i,o.EVENTS_URL&&(n||o.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(ge)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:n}=this.queue.shift();t&&this.success[t]||(this.anonId||this.fetchEventData(),O(this.anonId)||(this.anonId=D()),this.postEvent(n,{sdkIdentifier:"mapbox-gl-js",sdkVersion:i,skuId:d,skuToken:this.skuToken,userId:this.anonId},e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e))}},Ae=ke.postMapLoadEvent.bind(ke),Pe=new class extends Me{constructor(){super("gljs.performance")}postPerformanceEvent(e,t){o.EVENTS_URL&&(e||o.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:t},e)}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{timestamp:t,performanceData:r}=this.queue.shift(),o=function(e){const t=n.performance.getEntriesByType("resource"),r=n.performance.getEntriesByType("mark"),o=function(e){const t={};if(e)for(const n in e)if("other"!==n)for(const i of e[n]){const e=n+"ResolveRangeMin",r=n+"ResolveRangeMax",o=n+"RequestCount",a=n+"RequestCachedCount";t[e]=Math.min(t[e]||1/0,i.startTime),t[r]=Math.max(t[r]||-1/0,i.responseEnd);const s=e=>{void 0===t[e]&&(t[e]=0),++t[e]};void 0!==i.transferSize&&0===i.transferSize&&s(a),s(o)}return t}(function(e,t){const n={};if(e)for(const i of e){const e=t(i);void 0===n[e]&&(n[e]=[]),n[e].push(i)}return n}(t,je)),a=n.devicePixelRatio,s=n.navigator.connection||n.navigator.mozConnection||n.navigator.webkitConnection,l={counters:[],metadata:[],attributes:[]},c=(e,t,n)=>{null!=n&&e.push({name:t,value:n.toString()})};for(const e in o)c(l.counters,e,o[e]);if(e.interactionRange[0]!==1/0&&e.interactionRange[1]!==-1/0&&(c(l.counters,"interactionRangeMin",e.interactionRange[0]),c(l.counters,"interactionRangeMax",e.interactionRange[1])),r)for(const e of Object.keys(Re)){const t=Re[e],n=r.find(e=>e.name===t);n&&c(l.counters,t,n.startTime)}return c(l.counters,"visibilityHidden",e.visibilityHidden),c(l.attributes,"style",function(e){if(e)for(const t of e){const e=t.name.split("?")[0];if(xe(e)){const t=e.split("/").slice(-2);if(2===t.length)return`mapbox://styles/${t[0]}/${t[1]}`}}}(t)),c(l.attributes,"terrainEnabled",e.terrainEnabled?"true":"false"),c(l.attributes,"fogEnabled",e.fogEnabled?"true":"false"),c(l.attributes,"projection",e.projection),c(l.attributes,"zoom",e.zoom),c(l.metadata,"devicePixelRatio",a),c(l.metadata,"connectionEffectiveType",s?s.effectiveType:void 0),c(l.metadata,"navigatorUserAgent",n.navigator.userAgent),c(l.metadata,"screenWidth",n.screen.width),c(l.metadata,"screenHeight",n.screen.height),c(l.metadata,"windowWidth",n.innerWidth),c(l.metadata,"windowHeight",n.innerHeight),c(l.metadata,"mapWidth",e.width/a),c(l.metadata,"mapHeight",e.height/a),c(l.metadata,"webglRenderer",e.renderer),c(l.metadata,"webglVendor",e.vendor),c(l.metadata,"sdkVersion",i),c(l.metadata,"sdkIdentifier","mapbox-gl-js"),l}(r);for(const e of o.metadata);for(const e of o.counters);for(const e of o.attributes);this.postEvent(t,o,()=>{},e)}},ze=Pe.postPerformanceEvent.bind(Pe),De=new class extends Me{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(e,t,n,i){if(!o.API_URL||!o.SESSION_PATH)return;const r=Te(o.API_URL+o.SESSION_PATH);r.params.push("sku="+(t||"")),r.params.push("access_token="+(i||o.ACCESS_TOKEN||""));const a={url:Ee(r),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(e,t){return ce(A(e,{method:"GET"}),t)}(a,e=>{this.pendingRequest=null,n(e),this.saveEventData(),this.processRequests(i)})}getSessionAPI(e,t,n,i){this.skuToken=t,this.errorCb=i,o.SESSION_PATH&&o.API_URL&&(n||o.ACCESS_TOKEN?this.queueRequest({id:e,timestamp:Date.now()},n):this.errorCb(new Error(ge)))}processRequests(e){if(this.pendingRequest||0===this.queue.length)return;const{id:t,timestamp:n}=this.queue.shift();t&&this.success[t]||this.getSession(n,this.skuToken,e=>{e?this.errorCb(e):t&&(this.success[t]=!0)},e)}},Le=De.getSessionAPI.bind(De),Oe=new Set,Re={create:"create",load:"load",fullLoad:"fullLoad"},Be={mark(e){n.performance.mark(e)},measure(e,t,i){n.performance.measure(e,t,i)}};function je(e){const t=e.name.split("?")[0];return ve(t)&&t.includes("mapbox-gl.js")?"javascript":ve(t)&&t.includes("mapbox-gl.css")?"css":function(e){return o.API_FONTS_REGEX.test(e)}(t)?"fontRange":be(t)?"sprite":xe(t)?"style":function(e){return o.API_TILEJSON_REGEX.test(e)}(t)?"tilejson":"other"}const Fe=n.performance;function Ne(e){const t=e?e.url.toString():void 0;return Fe.getEntriesByName(t)}let Ue,Ve,Ge,Ze;const We={now:()=>void 0!==Ge?Ge:n.performance.now(),setNow(e){Ge=e},restoreNow(){Ge=void 0},frame(e){const t=n.requestAnimationFrame(e);return{cancel:()=>n.cancelAnimationFrame(t)}},getImageData(e,t=0){const{width:i,height:r}=e;Ze||(Ze=n.document.createElement("canvas"));const o=Ze.getContext("2d",{willReadFrequently:!0});if(!o)throw new Error("failed to create canvas 2d context");return(i>Ze.width||r>Ze.height)&&(Ze.width=i,Ze.height=r),o.clearRect(-t,-t,i+2*t,r+2*t),o.drawImage(e,0,0,i,r),o.getImageData(-t,-t,i+2*t,r+2*t)},resolveURL:e=>(Ue||(Ue=n.document.createElement("a")),Ue.href=e,Ue.href),get devicePixelRatio(){return n.devicePixelRatio},get prefersReducedMotion(){return!!n.matchMedia&&(null==Ve&&(Ve=n.matchMedia("(prefers-reduced-motion: reduce)")),Ve.matches)}};function qe(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function $e(e,t,n){if(n&&n[e]){const i=n[e].indexOf(t);-1!==i&&n[e].splice(i,1)}}class He{constructor(e,t={}){A(this,t),this.type=e}}class Xe extends He{constructor(e,t={}){super("error",A({error:e},t))}}class Ye{on(e,t){return this._listeners=this._listeners||{},qe(e,t,this._listeners),this}off(e,t){return $e(e,t,this._listeners),$e(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},qe(e,t,this._oneTimeListeners),this):new Promise(t=>this.once(e,t))}fire(e,t){"string"==typeof e&&(e=new He(e,t||{}));const n=e.type;if(this.listens(n)){e.target=this;const t=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(const n of t)n.call(this,e);const i=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(const t of i)$e(n,t,this._oneTimeListeners),t.call(this,e);const r=this._eventedParent;r&&(A(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),r.fire(e))}else e instanceof Xe&&console.error(e.error);return this}listens(e){return!!(this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e))}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var Je=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function Qe(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}function Ke(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function et(e){if(Array.isArray(e))return e.map(et);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=et(e[n]);return t}return Ke(e)}class tt extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}var nt=tt;class it{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,n]of t)this.bindings[e]=n}concat(e){return new it(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(e+" not found in scope.")}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}var rt=it;const ot={kind:"null"},at={kind:"number"},st={kind:"string"},lt={kind:"boolean"},ct={kind:"color"},ut={kind:"object"},ht={kind:"value"},dt={kind:"collator"},pt={kind:"formatted"},ft={kind:"resolvedImage"};function mt(e,t){return{kind:"array",itemType:e,N:t}}function gt(e){if("array"===e.kind){const t=gt(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const yt=[ot,at,st,lt,ct,pt,ut,mt(ht),ft];function _t(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!_t(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of yt)if(!_t(e,t))return null}return`Expected ${gt(e)} but found ${gt(t)} instead.`}function vt(e,t){return t.some(t=>t.kind===e.kind)}function xt(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}var bt,wt={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Tt(e){return(e=Math.round(e))<0?0:e>255?255:e}function Et(e){return Tt("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function St(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function Mt(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{bt={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in wt)return wt[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var i=n.indexOf("("),r=n.indexOf(")");if(-1!==i&&r+1===n.length){var o=n.substr(0,i),a=n.substr(i+1,r-(i+1)).split(","),s=1;switch(o){case"rgba":if(4!==a.length)return null;s=St(a.pop());case"rgb":return 3!==a.length?null:[Et(a[0]),Et(a[1]),Et(a[2]),s];case"hsla":if(4!==a.length)return null;s=St(a.pop());case"hsl":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,c=St(a[1]),u=St(a[2]),h=u<=.5?u*(c+1):u+c-u*c,d=2*u-h;return[Tt(255*Mt(d,h,l+1/3)),Tt(255*Mt(d,h,l)),Tt(255*Mt(d,h,l-1/3)),s];default:return null}}return null}}catch(e){}class It{constructor(e,t,n,i=1){this.r=e,this.g=t,this.b=n,this.a=i}static parse(e){if(!e)return;if(e instanceof It)return e;if("string"!=typeof e)return;const t=bt(e);return t?new It(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,n,i]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${i})`}toArray(){const{r:e,g:t,b:n,a:i}=this;return 0===i?[0,0,0,0]:[255*e/i,255*t/i,255*n/i,i]}toArray01(){const{r:e,g:t,b:n,a:i}=this;return 0===i?[0,0,0,0]:[e/i,t/i,n/i,i]}toArray01PremultipliedAlpha(){const{r:e,g:t,b:n,a:i}=this;return[e,t,n,i]}}It.black=new It(0,0,0,1),It.white=new It(1,1,1,1),It.transparent=new It(0,0,0,0),It.red=new It(1,0,0,1),It.blue=new It(0,0,1,1);var Ct=It;class kt{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class At{constructor(e,t,n,i,r){this.text=e.normalize?e.normalize():e,this.image=t,this.scale=n,this.fontStack=i,this.textColor=r}}class Pt{constructor(e){this.sections=e}static fromString(e){return new Pt([new At(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof Pt?e:Pt.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}serialize(){const e=["format"];for(const t of this.sections){if(t.image){e.push(["image",t.image.name]);continue}e.push(t.text);const n={};t.fontStack&&(n["text-font"]=["literal",t.fontStack.split(",")]),t.scale&&(n["font-scale"]=t.scale),t.textColor&&(n["text-color"]=["rgba"].concat(t.textColor.toArray())),e.push(n)}return e}}class zt{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new zt({name:e,available:!1}):null}serialize(){return["image",this.name]}}function Dt(e,t,n,i){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===i||"number"==typeof i&&i>=0&&i<=1?null:`Invalid rgba value [${[e,t,n,i].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof i?[e,t,n,i]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Lt(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Ct)return!0;if(e instanceof kt)return!0;if(e instanceof Pt)return!0;if(e instanceof zt)return!0;if(Array.isArray(e)){for(const t of e)if(!Lt(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Lt(e[t]))return!1;return!0}return!1}function Ot(e){if(null===e)return ot;if("string"==typeof e)return st;if("boolean"==typeof e)return lt;if("number"==typeof e)return at;if(e instanceof Ct)return ct;if(e instanceof kt)return dt;if(e instanceof Pt)return pt;if(e instanceof zt)return ft;if(Array.isArray(e)){const t=e.length;let n;for(const t of e){const e=Ot(t);if(n){if(n===e)continue;n=ht;break}n=e}return mt(n||ht,t)}return ut}function Rt(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Ct||e instanceof Pt||e instanceof zt?e.toString():JSON.stringify(e)}class Bt{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Lt(e[1]))return t.error("invalid value");const n=e[1];let i=Ot(n);const r=t.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new Bt(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Ct?["rgba"].concat(this.value.toArray()):this.value instanceof Pt?this.value.serialize():this.value}}var jt=Bt,Ft=class{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}};const Nt={string:st,number:at,boolean:lt,object:ut};class Ut{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,i=1;const r=e[0];if("array"===r){let r,o;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in Nt)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);r=Nt[n],i++}else r=ht;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],i++}n=mt(r,o)}else n=Nt[r];const o=[];for(;i<e.length;i++){const n=t.parse(e[i],i,ht);if(!n)return null;o.push(n)}return new Ut(n,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!_t(this.type,Ot(n)))return n;if(t===this.args.length-1)throw new Ft(`Expected value to be of type ${gt(this.type)}, but found ${gt(Ot(n))} instead.`)}return null}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=this.type,t=[e.kind];if("array"===e.kind){const n=e.itemType;if("string"===n.kind||"number"===n.kind||"boolean"===n.kind){t.push(n.kind);const i=e.N;("number"==typeof i||this.args.length>1)&&t.push(i)}}return t.concat(this.args.map(e=>e.serialize()))}}var Vt=Ut;class Gt{constructor(e){this.type=pt,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const i=[];let r=!1;for(let n=1;n<=e.length-1;++n){const o=e[n];if(r&&"object"==typeof o&&!Array.isArray(o)){r=!1;let e=null;if(o["font-scale"]&&(e=t.parse(o["font-scale"],1,at),!e))return null;let n=null;if(o["text-font"]&&(n=t.parse(o["text-font"],1,mt(st)),!n))return null;let a=null;if(o["text-color"]&&(a=t.parse(o["text-color"],1,ct),!a))return null;const s=i[i.length-1];s.scale=e,s.font=n,s.textColor=a}else{const o=t.parse(e[n],1,ht);if(!o)return null;const a=o.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:o,scale:null,font:null,textColor:null})}}return new Gt(i)}evaluate(e){return new Pt(this.sections.map(t=>{const n=t.content.evaluate(e);return Ot(n)===ft?new At("",n,null,null,null):new At(Rt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)}))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}serialize(){const e=["format"];for(const t of this.sections){e.push(t.content.serialize());const n={};t.scale&&(n["font-scale"]=t.scale.serialize()),t.font&&(n["text-font"]=t.font.serialize()),t.textColor&&(n["text-color"]=t.textColor.serialize()),e.push(n)}return e}}class Zt{constructor(e){this.type=ft,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,st);return n?new Zt(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=zt.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Wt={"to-boolean":lt,"to-color":ct,"to-number":at,"to-string":st};class qt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const i=Wt[n],r=[];for(let n=1;n<e.length;n++){const i=t.parse(e[n],n,ht);if(!i)return null;r.push(i)}return new qt(i,r)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,n;for(const i of this.args){if(t=i.evaluate(e),n=null,t instanceof Ct)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:Dt(t[0],t[1],t[2],t[3]),!n))return new Ct(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ft(n||`Could not parse color from value '${"string"==typeof t?t:String(JSON.stringify(t))}'`)}if("number"===this.type.kind){let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const i=Number(t);if(!isNaN(i))return i}throw new Ft(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?Pt.fromString(Rt(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?zt.fromString(Rt(this.args[0].evaluate(e))):Rt(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){if("formatted"===this.type.kind)return new Gt([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if("resolvedImage"===this.type.kind)return new Zt(this.args[0]).serialize();const e=["to-"+this.type.kind];return this.eachChild(t=>{e.push(t.serialize())}),e}}var $t=qt;const Ht=["Unknown","Point","LineString","Polygon"];var Xt=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&void 0!==this.feature.id?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Ht[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const e=this.featureDistanceData.center,t=this.featureDistanceData.scale,{x:n,y:i}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(n*t-e[0])+this.featureDistanceData.bearing[1]*(i*t-e[1])}return 0}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Ct.parse(e)),t}};class Yt{constructor(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(e=>e.serialize()))}static parse(e,t){const n=e[0],i=Yt.definitions[n];if(!i)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const r=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=o.filter(([t])=>!Array.isArray(t)||t.length===e.length-1);let s=null;for(const[i,o]of a){s=new En(t.registry,t.path,null,t.scope);const a=[];let l=!1;for(let t=1;t<e.length;t++){const n=e[t],r=Array.isArray(i)?i[t-1]:i.type,o=s.parse(n,1+a.length,r);if(!o){l=!0;break}a.push(o)}if(!l)if(Array.isArray(i)&&i.length!==a.length)s.error(`Expected ${i.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){const t=Array.isArray(i)?i[e]:i.type,n=a[e];s.concat(e+1).checkSubtype(t,n.type)}if(0===s.errors.length)return new Yt(n,r,o,a)}}if(1===a.length)t.errors.push(...s.errors);else{const n=(a.length?a:o).map(([e])=>{return t=e,Array.isArray(t)?`(${t.map(gt).join(", ")})`:`(${gt(t.type)}...)`;var t}).join(" | "),i=[];for(let n=1;n<e.length;n++){const r=t.parse(e[n],1+i.length);if(!r)return null;i.push(gt(r.type))}t.error(`Expected arguments of type ${n}, but found (${i.join(", ")}) instead.`)}return null}static register(e,t){Yt.definitions=t;for(const n in t)e[n]=Yt}}var Jt=Yt;class Qt{constructor(e,t,n){this.type=dt,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const i=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,lt);if(!i)return null;const r=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,lt);if(!r)return null;let o=null;return n.locale&&(o=t.parse(n.locale,1,st),!o)?null:new Qt(i,r,o)}evaluate(e){return new kt(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}serialize(){const e={};return e["case-sensitive"]=this.caseSensitive.serialize(),e["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(e.locale=this.locale.serialize()),["collator",e]}}const Kt=8192;function en(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function tn(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function nn(e,t){const n=(180+e[0])/360,i=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,r=Math.pow(2,t.z);return[Math.round(n*r*Kt),Math.round(i*r*Kt)]}function rn(e,t,n){const i=e[0]-t[0],r=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return i*a-o*r==0&&i*o<=0&&r*a<=0}function on(e,t){let n=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(rn(e,s[t],s[t+1]))return!1;(r=s[t])[1]>(i=e)[1]!=(o=s[t+1])[1]>i[1]&&i[0]<(o[0]-r[0])*(i[1]-r[1])/(o[1]-r[1])+r[0]&&(n=!n)}}var i,r,o;return n}function an(e,t){for(let n=0;n<t.length;n++)if(on(e,t[n]))return!0;return!1}function sn(e,t,n,i){const r=i[0]-n[0],o=i[1]-n[1],a=(e[0]-n[0])*o-r*(e[1]-n[1]),s=(t[0]-n[0])*o-r*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function ln(e,t,n){for(const c of n)for(let n=0;n<c.length-1;++n)if(0!=(s=[(a=c[n+1])[0]-(o=c[n])[0],a[1]-o[1]])[0]*(l=[(r=t)[0]-(i=e)[0],r[1]-i[1]])[1]-s[1]*l[0]&&sn(i,r,o,a)&&sn(o,a,i,r))return!0;var i,r,o,a,s,l;return!1}function cn(e,t){for(let n=0;n<e.length;++n)if(!on(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(ln(e[n],e[n+1],t))return!1;return!0}function un(e,t){for(let n=0;n<t.length;n++)if(cn(e,t[n]))return!0;return!1}function hn(e,t,n){const i=[];for(let r=0;r<e.length;r++){const o=[];for(let i=0;i<e[r].length;i++){const a=nn(e[r][i],n);en(t,a),o.push(a)}i.push(o)}return i}function dn(e,t,n){const i=[];for(let r=0;r<e.length;r++){const o=hn(e[r],t,n);i.push(o)}return i}function pn(e,t,n,i){if(e[0]<n[0]||e[0]>n[2]){const t=.5*i;let r=e[0]-n[0]>t?-i:n[0]-e[0]>t?i:0;0===r&&(r=e[0]-n[2]>t?-i:n[2]-e[0]>t?i:0),e[0]+=r}en(t,e)}function fn(e,t,n,i){const r=Math.pow(2,i.z)*Kt,o=[i.x*Kt,i.y*Kt],a=[];if(!e)return a;for(const i of e)for(const e of i){const i=[e.x+o[0],e.y+o[1]];pn(i,t,n,r),a.push(i)}return a}function mn(e,t,n,i){const r=Math.pow(2,i.z)*Kt,o=[i.x*Kt,i.y*Kt],a=[];if(!e)return a;for(const n of e){const e=[];for(const i of n){const n=[i.x+o[0],i.y+o[1]];en(t,n),e.push(n)}a.push(e)}if(t[2]-t[0]<=r/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const i of e)pn(i,t,n,r)}var s;return a}class gn{constructor(e,t){this.type=lt,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Lt(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const n=t.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new gn(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new gn(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new gn(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if(!r)return!1;if("Polygon"===t.type){const o=hn(t.coordinates,i,r),a=fn(e.geometry(),n,i,r);if(!tn(n,i))return!1;for(const e of a)if(!on(e,o))return!1}if("MultiPolygon"===t.type){const o=dn(t.coordinates,i,r),a=fn(e.geometry(),n,i,r);if(!tn(n,i))return!1;for(const e of a)if(!an(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if(!r)return!1;if("Polygon"===t.type){const o=hn(t.coordinates,i,r),a=mn(e.geometry(),n,i,r);if(!tn(n,i))return!1;for(const e of a)if(!cn(e,o))return!1}if("MultiPolygon"===t.type){const o=dn(t.coordinates,i,r),a=mn(e.geometry(),n,i,r);if(!tn(n,i))return!1;for(const e of a)if(!un(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var yn=gn;function _n(e){if(e instanceof Jt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof yn)return!1;let t=!0;return e.eachChild(e=>{t&&!_n(e)&&(t=!1)}),t}function vn(e){if(e instanceof Jt&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!vn(e)&&(t=!1)}),t}function xn(e,t){if(e instanceof Jt&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild(e=>{n&&!xn(e,t)&&(n=!1)}),n}class bn{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new bn(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var wn=bn;class Tn{constructor(e,t=[],n,i=new rt,r=[]){this.registry=e,this.path=t,this.key=t.map(e=>`[${e}]`).join(""),this.scope=i,this.errors=r,this.expectedType=n}parse(e,t,n,i,r={}){return t?this.concat(t,n,i)._parse(e,r):this._parse(e,r)}_parse(e,t){function n(e,t,n){return"assert"===n?new Vt(t,[e]):"coerce"===n?new $t(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if("string"!=typeof i)return this.error(`Expression name must be a string, but found ${typeof i} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const r=this.registry[i];if(r){let i=r.parse(e,this);if(!i)return null;if(this.expectedType){const e=this.expectedType,r=i.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==r.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==r.kind&&"string"!==r.kind){if(this.checkSubtype(e,r))return null}else i=n(i,e,t.typeAnnotation||"coerce");else i=n(i,e,t.typeAnnotation||"assert")}if(!(i instanceof jt)&&"resolvedImage"!==i.type.kind&&function e(t){if(t instanceof wn)return e(t.boundExpression);if(t instanceof Jt&&"error"===t.name)return!1;if(t instanceof Qt)return!1;if(t instanceof yn)return!1;const n=t instanceof $t||t instanceof Vt;let i=!0;return t.eachChild(t=>{i=n?i&&e(t):i&&t instanceof jt}),!!i&&_n(t)&&xn(t,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}(i)){const t=new Xt;try{i=new jt(i.type,i.evaluate(t))}catch(e){return this.error(e.message),null}}return i}return this.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const i="number"==typeof e?this.path.concat(e):this.path,r=n?this.scope.concat(n):this.scope;return new Tn(this.registry,i,t||null,r,this.errors)}error(e,...t){const n=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new nt(n,e))}checkSubtype(e,t){const n=_t(e,t);return n&&this.error(n),n}}var En=Tn;function Sn(e,t){const n=e.length-1;let i,r,o=0,a=n,s=0;for(;o<=a;)if(s=Math.floor((o+a)/2),i=e[s],r=e[s+1],i<=t){if(s===n||t<r)return s;o=s+1}else{if(!(i>t))throw new Ft("Input is not a number.");a=s-1}return 0}class Mn{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of n)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,at);if(!n)return null;const i=[];let r=null;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(let n=1;n<e.length;n+=2){const o=1===n?-1/0:e[n],a=e[n+1],s=n,l=n+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(i.length&&i[i.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=t.parse(a,l,r);if(!c)return null;r=r||c.type,i.push([o,c])}return new Mn(r,n,i)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;return i>=t[r-1]?n[r-1].evaluate(e):n[Sn(t,i)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){const e=["step",this.input.serialize()];for(let t=0;t<this.labels.length;t++)t>0&&e.push(this.labels[t]),e.push(this.outputs[t].serialize());return e}}var In=Mn;function Cn(e,t,n){return e*(1-n)+t*n}var kn=Object.freeze({__proto__:null,number:Cn,color:function(e,t,n){return new Ct(Cn(e.r,t.r,n),Cn(e.g,t.g,n),Cn(e.b,t.b,n),Cn(e.a,t.a,n))},array:function(e,t,n){return e.map((e,i)=>Cn(e,t[i],n))}});const An=6/29*3*(6/29),Pn=Math.PI/180,zn=180/Math.PI;function Dn(e){return e>.008856451679035631?Math.pow(e,1/3):e/An+4/29}function Ln(e){return e>6/29?e*e*e:An*(e-4/29)}function On(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Rn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Bn(e){const t=Rn(e.r),n=Rn(e.g),i=Rn(e.b),r=Dn((.4124564*t+.3575761*n+.1804375*i)/.95047),o=Dn((.2126729*t+.7151522*n+.072175*i)/1);return{l:116*o-16,a:500*(r-o),b:200*(o-Dn((.0193339*t+.119192*n+.9503041*i)/1.08883)),alpha:e.a}}function jn(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,i=isNaN(e.b)?t:t-e.b/200;return t=1*Ln(t),n=.95047*Ln(n),i=1.08883*Ln(i),new Ct(On(3.2404542*n-1.5371385*t-.4985314*i),On(-.969266*n+1.8760108*t+.041556*i),On(.0556434*n-.2040259*t+1.0572252*i),e.alpha)}function Fn(e,t,n){const i=t-e;return e+n*(i>180||i<-180?i-360*Math.round(i/360):i)}const Nn={forward:Bn,reverse:jn,interpolate:function(e,t,n){return{l:Cn(e.l,t.l,n),a:Cn(e.a,t.a,n),b:Cn(e.b,t.b,n),alpha:Cn(e.alpha,t.alpha,n)}}},Un={forward:function(e){const{l:t,a:n,b:i}=Bn(e),r=Math.atan2(i,n)*zn;return{h:r<0?r+360:r,c:Math.sqrt(n*n+i*i),l:t,alpha:e.a}},reverse:function(e){const t=e.h*Pn,n=e.c;return jn({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Fn(e.h,t.h,n),c:Cn(e.c,t.c,n),l:Cn(e.l,t.l,n),alpha:Cn(e.alpha,t.alpha,n)}}};var Vn=Object.freeze({__proto__:null,lab:Nn,hcl:Un});class Gn{constructor(e,t,n,i,r){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[e,t]of r)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,t,n,i){let r=0;if("exponential"===e.name)r=Zn(t,e.base,n,i);else if("linear"===e.name)r=Zn(t,1,n,i);else if("cubic-bezier"===e.name){const o=e.controlPoints;r=new p(o[0],o[1],o[2],o[3]).solve(Zn(t,1,n,i))}return r}static parse(e,t){let[n,i,r,...o]=e;if(!Array.isArray(i)||0===i.length)return t.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){const e=i[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:e}}else{if("cubic-bezier"!==i[0])return t.error("Unknown interpolation type "+String(i[0]),1,0);{const e=i.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(r=t.parse(r,2,at),!r)return null;const a=[];let s=null;"interpolate-hcl"===n||"interpolate-lab"===n?s=ct:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<o.length;e+=2){const n=o[e],i=o[e+1],r=e+3,l=e+4;if("number"!=typeof n)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',r);if(a.length&&a[a.length-1][0]>=n)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',r);const c=t.parse(i,l,s);if(!c)return null;s=s||c.type,a.push([n,c])}return"number"===s.kind||"color"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new Gn(s,n,i,r,a):t.error(`Type ${gt(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;if(i>=t[r-1])return n[r-1].evaluate(e);const o=Sn(t,i),a=Gn.interpolationFactor(this.interpolation,i,t[o],t[o+1]),s=n[o].evaluate(e),l=n[o+1].evaluate(e);return"interpolate"===this.operator?kn[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?Un.reverse(Un.interpolate(Un.forward(s),Un.forward(l),a)):Nn.reverse(Nn.interpolate(Nn.forward(s),Nn.forward(l),a))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}serialize(){let e;e="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const t=[this.operator,e,this.input.serialize()];for(let e=0;e<this.labels.length;e++)t.push(this.labels[e],this.outputs[e].serialize());return t}}function Zn(e,t,n,i){const r=i-n,o=e-n;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}var Wn=Gn;class qn{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const i=t.expectedType;i&&"value"!==i.kind&&(n=i);const r=[];for(const i of e.slice(1)){const e=t.parse(i,1+r.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,r.push(e)}const o=i&&r.some(e=>_t(i,e.type));return new qn(o?ht:n,r)}evaluate(e){let t,n=null,i=0;for(const r of this.args){if(i++,n=r.evaluate(e),n&&n instanceof zt&&!n.available&&(t||(t=n),n=null,i===this.args.length))return t;if(null!==n)break}return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}serialize(){const e=["coalesce"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var $n=qn;class Hn{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let i=1;i<e.length-1;i+=2){const r=e[i];if("string"!=typeof r)return t.error(`Expected string, but found ${typeof r} instead.`,i);if(/[^a-zA-Z0-9_]/.test(r))return t.error("Variable names must contain only alphanumeric characters or '_'.",i);const o=t.parse(e[i+1],i+1);if(!o)return null;n.push([r,o])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return i?new Hn(n,i):null}outputDefined(){return this.result.outputDefined()}serialize(){const e=["let"];for(const[t,n]of this.bindings)e.push(t,n.serialize());return e.push(this.result.serialize()),e}}var Xn=Hn;class Yn{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,at),i=t.parse(e[2],2,mt(t.expectedType||ht));return n&&i?new Yn(i.type.itemType,n,i):null}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Ft(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new Ft(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new Ft(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Jn=Yn;class Qn{constructor(e,t){this.type=lt,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ht),i=t.parse(e[2],2,ht);return n&&i?vt(n.type,[lt,st,at,ot,ht])?new Qn(n,i):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${gt(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(null==n)return!1;if(!xt(t,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${gt(Ot(t))} instead.`);if(!xt(n,["string","array"]))throw new Ft(`Expected second argument to be of type array or string, but found ${gt(Ot(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Kn=Qn;class ei{constructor(e,t,n){this.type=at,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ht),i=t.parse(e[2],2,ht);if(!n||!i)return null;if(!vt(n.type,[lt,st,at,ot,ht]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${gt(n.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,at);return r?new ei(n,i,r):null}return new ei(n,i)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!xt(t,["boolean","string","number","null"]))throw new Ft(`Expected first argument to be of type boolean, string, number or null, but found ${gt(Ot(t))} instead.`);if(!xt(n,["string","array"]))throw new Ft(`Expected second argument to be of type array or string, but found ${gt(Ot(n))} instead.`);if(this.fromIndex){const i=this.fromIndex.evaluate(e);return n.indexOf(t,i)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}serialize(){if(null!=this.fromIndex&&void 0!==this.fromIndex){const e=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),e]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var ti=ei;class ni{constructor(e,t,n,i,r,o){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=r,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,i;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);const r={},o=[];for(let a=2;a<e.length-1;a+=2){let s=e[a];const l=e[a+1];Array.isArray(s)||(s=[s]);const c=t.concat(a);if(0===s.length)return c.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,Ot(e)))return null}else n=Ot(e);if(void 0!==r[String(e)])return c.error("Branch labels must be unique.");r[String(e)]=o.length}const u=t.parse(l,a,i);if(!u)return null;i=i||u.type,o.push(u)}const a=t.parse(e[1],1,ht);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,i);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(n,a.type)?null:new ni(n,i,a,r,o,s):null}evaluate(e){const t=this.input.evaluate(e);return(Ot(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["match",this.input.serialize()],t=Object.keys(this.cases).sort(),n=[],i={};for(const e of t){const t=i[this.cases[e]];void 0===t?(i[this.cases[e]]=n.length,n.push([this.cases[e],[e]])):n[t][1].push(e)}const r=e=>"number"===this.inputType.kind?Number(e):e;for(const[t,i]of n)e.push(1===i.length?r(i[0]):i.map(r)),e.push(this.outputs[t].serialize());return e.push(this.otherwise.serialize()),e}}var ii=ni;class ri{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i=[];for(let r=1;r<e.length-1;r+=2){const o=t.parse(e[r],r,lt);if(!o)return null;const a=t.parse(e[r+1],r+1,n);if(!a)return null;i.push([o,a]),n=n||a.type}const r=t.parse(e[e.length-1],e.length-1,n);return r?new ri(n,i,r):null}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}serialize(){const e=["case"];return this.eachChild(t=>{e.push(t.serialize())}),e}}var oi=ri;class ai{constructor(e,t,n,i){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ht),i=t.parse(e[2],2,at);if(!n||!i)return null;if(!vt(n.type,[mt(ht),st,ht]))return t.error(`Expected first argument to be of type array or string, but found ${gt(n.type)} instead`);if(4===e.length){const r=t.parse(e[3],3,at);return r?new ai(n.type,n,i,r):null}return new ai(n.type,n,i)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!xt(t,["string","array"]))throw new Ft(`Expected first argument to be of type array or string, but found ${gt(Ot(t))} instead.`);if(this.endIndex){const i=this.endIndex.evaluate(e);return t.slice(n,i)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}serialize(){if(null!=this.endIndex&&void 0!==this.endIndex){const e=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),e]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var si=ai;function li(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function ci(e,t,n,i){return 0===i.compare(t,n)}function ui(e,t,n){const i="=="!==e&&"!="!==e;return class r{constructor(e,t,n){this.type=lt,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let o=t.parse(e[1],1,ht);if(!o)return null;if(!li(n,o.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${gt(o.type)}'.`);let a=t.parse(e[2],2,ht);if(!a)return null;if(!li(n,a.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${gt(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${gt(o.type)}' and '${gt(a.type)}'.`);i&&("value"===o.type.kind&&"value"!==a.type.kind?o=new Vt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new Vt(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,dt),!s)return null}return new r(o,a,s)}evaluate(r){const o=this.lhs.evaluate(r),a=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){const t=Ot(o),n=Ot(a);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new Ft(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!i&&this.hasUntypedArgument){const e=Ot(o),n=Ot(a);if("string"!==e.kind||"string"!==n.kind)return t(r,o,a)}return this.collator?n(r,o,a,this.collator.evaluate(r)):t(r,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}serialize(){const t=[e];return this.eachChild(e=>{t.push(e.serialize())}),t}}}const hi=ui("==",(function(e,t,n){return t===n}),ci),di=ui("!=",(function(e,t,n){return t!==n}),(function(e,t,n,i){return!ci(0,t,n,i)})),pi=ui("<",(function(e,t,n){return t<n}),(function(e,t,n,i){return i.compare(t,n)<0})),fi=ui(">",(function(e,t,n){return t>n}),(function(e,t,n,i){return i.compare(t,n)>0})),mi=ui("<=",(function(e,t,n){return t<=n}),(function(e,t,n,i){return i.compare(t,n)<=0})),gi=ui(">=",(function(e,t,n){return t>=n}),(function(e,t,n,i){return i.compare(t,n)>=0}));class yi{constructor(e,t,n,i,r,o){this.type=st,this.number=e,this.locale=t,this.currency=n,this.unit=i,this.minFractionDigits=r,this.maxFractionDigits=o}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,at);if(!n)return null;const i=e[2];if("object"!=typeof i||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let r=null;if(i.locale&&(r=t.parse(i.locale,1,st),!r))return null;let o=null;if(i.currency&&(o=t.parse(i.currency,1,st),!o))return null;let a=null;if(i.unit&&(a=t.parse(i.unit,1,st),!a))return null;let s=null;if(i["min-fraction-digits"]&&(s=t.parse(i["min-fraction-digits"],1,at),!s))return null;let l=null;return i["max-fraction-digits"]&&(l=t.parse(i["max-fraction-digits"],1,at),!l)?null:new yi(n,r,o,a,s,l)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(e):void 0,unit:this.unit?this.unit.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.unit&&e(this.unit),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const e={};return this.locale&&(e.locale=this.locale.serialize()),this.currency&&(e.currency=this.currency.serialize()),this.unit&&(e.unit=this.unit.serialize()),this.minFractionDigits&&(e["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(e["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),e]}}class _i{constructor(e){this.type=at,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${gt(n.type)} instead.`):new _i(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Ft(`Expected value to be of type string or array, but found ${gt(Ot(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}serialize(){const e=["length"];return this.eachChild(t=>{e.push(t.serialize())}),e}}const vi={"==":hi,"!=":di,">":fi,"<":pi,">=":gi,"<=":mi,array:Vt,at:Jn,boolean:Vt,case:oi,coalesce:$n,collator:Qt,format:Gt,image:Zt,in:Kn,"index-of":ti,interpolate:Wn,"interpolate-hcl":Wn,"interpolate-lab":Wn,length:_i,let:Xn,literal:jt,match:ii,number:Vt,"number-format":yi,object:Vt,slice:si,step:In,string:Vt,"to-boolean":$t,"to-color":$t,"to-number":$t,"to-string":$t,var:wn,within:yn};function xi(e,[t,n,i,r]){t=t.evaluate(e),n=n.evaluate(e),i=i.evaluate(e);const o=r?r.evaluate(e):1,a=Dt(t,n,i,o);if(a)throw new Ft(a);return new Ct(t/255*o,n/255*o,i/255*o,o)}function bi(e,t){return e in t}function wi(e,t){const n=t[e];return void 0===n?null:n}function Ti(e){return{type:e}}Jt.register(vi,{error:[{kind:"error"},[st],(e,[t])=>{throw new Ft(t.evaluate(e))}],typeof:[st,[ht],(e,[t])=>gt(Ot(t.evaluate(e)))],"to-rgba":[mt(at,4),[ct],(e,[t])=>t.evaluate(e).toArray()],rgb:[ct,[at,at,at],xi],rgba:[ct,[at,at,at,at],xi],has:{type:lt,overloads:[[[st],(e,[t])=>bi(t.evaluate(e),e.properties())],[[st,ut],(e,[t,n])=>bi(t.evaluate(e),n.evaluate(e))]]},get:{type:ht,overloads:[[[st],(e,[t])=>wi(t.evaluate(e),e.properties())],[[st,ut],(e,[t,n])=>wi(t.evaluate(e),n.evaluate(e))]]},"feature-state":[ht,[st],(e,[t])=>wi(t.evaluate(e),e.featureState||{})],properties:[ut,[],e=>e.properties()],"geometry-type":[st,[],e=>e.geometryType()],id:[ht,[],e=>e.id()],zoom:[at,[],e=>e.globals.zoom],pitch:[at,[],e=>e.globals.pitch||0],"distance-from-center":[at,[],e=>e.distanceFromCenter()],"heatmap-density":[at,[],e=>e.globals.heatmapDensity||0],"line-progress":[at,[],e=>e.globals.lineProgress||0],"sky-radial-progress":[at,[],e=>e.globals.skyRadialProgress||0],accumulated:[ht,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[at,Ti(at),(e,t)=>{let n=0;for(const i of t)n+=i.evaluate(e);return n}],"*":[at,Ti(at),(e,t)=>{let n=1;for(const i of t)n*=i.evaluate(e);return n}],"-":{type:at,overloads:[[[at,at],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[at],(e,[t])=>-t.evaluate(e)]]},"/":[at,[at,at],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[at,[at,at],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[at,[],()=>Math.LN2],pi:[at,[],()=>Math.PI],e:[at,[],()=>Math.E],"^":[at,[at,at],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[at,[at],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[at,[at],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[at,[at],(e,[t])=>Math.log(t.evaluate(e))],log2:[at,[at],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[at,[at],(e,[t])=>Math.sin(t.evaluate(e))],cos:[at,[at],(e,[t])=>Math.cos(t.evaluate(e))],tan:[at,[at],(e,[t])=>Math.tan(t.evaluate(e))],asin:[at,[at],(e,[t])=>Math.asin(t.evaluate(e))],acos:[at,[at],(e,[t])=>Math.acos(t.evaluate(e))],atan:[at,[at],(e,[t])=>Math.atan(t.evaluate(e))],min:[at,Ti(at),(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[at,Ti(at),(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[at,[at],(e,[t])=>Math.abs(t.evaluate(e))],round:[at,[at],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[at,[at],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[at,[at],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[lt,[st,ht],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[lt,[ht],(e,[t])=>e.id()===t.value],"filter-type-==":[lt,[st],(e,[t])=>e.geometryType()===t.value],"filter-<":[lt,[st,ht],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i<r}],"filter-id-<":[lt,[ht],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n<i}],"filter->":[lt,[st,ht],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i>r}],"filter-id->":[lt,[ht],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n>i}],"filter-<=":[lt,[st,ht],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i<=r}],"filter-id-<=":[lt,[ht],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n<=i}],"filter->=":[lt,[st,ht],(e,[t,n])=>{const i=e.properties()[t.value],r=n.value;return typeof i==typeof r&&i>=r}],"filter-id->=":[lt,[ht],(e,[t])=>{const n=e.id(),i=t.value;return typeof n==typeof i&&n>=i}],"filter-has":[lt,[ht],(e,[t])=>t.value in e.properties()],"filter-has-id":[lt,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[lt,[mt(st)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[lt,[mt(ht)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[lt,[st,mt(ht)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[lt,[st,mt(ht)],(e,[t,n])=>function(e,t,n,i){for(;n<=i;){const r=n+i>>1;if(t[r]===e)return!0;t[r]>e?i=r-1:n=r+1}return!1}(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:lt,overloads:[[[lt,lt],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[Ti(lt),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:lt,overloads:[[[lt,lt],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[Ti(lt),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[lt,[lt],(e,[t])=>!t.evaluate(e)],"is-supported-script":[lt,[st],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[st,[st],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[st,[st],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[st,Ti(ht),(e,t)=>t.map(t=>Rt(t.evaluate(e))).join("")],"resolved-locale":[st,[dt],(e,[t])=>t.evaluate(e).resolvedLocale()]});var Ei=vi;function Si(e){return{result:"success",value:e}}function Mi(e){return{result:"error",value:e}}function Ii(e){return"data-driven"===e["property-type"]}function Ci(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function ki(e){return!!e.expression&&e.expression.interpolated}function Ai(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Pi(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function zi(e){return e}function Di(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Li(e,t,n,i,r){return Di(typeof n===r?i[n]:void 0,e.default,t.default)}function Oi(e,t,n){if("number"!==Ai(n))return Di(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const r=Sn(e.stops.map(e=>e[0]),n);return e.stops[r][1]}function Ri(e,t,n){const i=void 0!==e.base?e.base:1;if("number"!==Ai(n))return Di(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const o=Sn(e.stops.map(e=>e[0]),n),a=function(e,t,n,i){const r=i-n,o=e-n;return 0===r?0:1===t?o/r:(Math.pow(t,o)-1)/(Math.pow(t,r)-1)}(n,i,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1];let c=kn[t.type]||zi;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=Vn[e.colorSpace];c=(e,n)=>t.reverse(t.interpolate(t.forward(e),t.forward(n),a))}return"function"==typeof s.evaluate?{evaluate(...e){const t=s.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==n)return c(t,n,a)}}:c(s,l,a)}function Bi(e,t,n){return"color"===t.type?n=Ct.parse(n):"formatted"===t.type?n=Pt.fromString(n.toString()):"resolvedImage"===t.type?n=zt.fromString(n.toString()):Ai(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0),Di(n,e.default,t.default)}class ji{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Xt,this._defaultValue=t?function(e){return"color"===e.type&&(Pi(e.default)||Array.isArray(e.default))?new Ct(0,0,0,0):"color"===e.type?Ct.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,i,r,o,a,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,i,r,o,a,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i||null,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=o||null,this._evaluator.featureTileCoord=a||null,this._evaluator.featureDistanceData=s||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Ft(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function Fi(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Ei}function Ni(e,t){const n=new En(Ei,[],t?function(e){const t={color:ct,string:st,number:at,enum:st,boolean:lt,formatted:pt,resolvedImage:ft};return"array"===e.type?mt(t[e.value]||ht,e.length):t[e.type]}(t):void 0),i=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return i?Si(new ji(i,t)):Mi(n.errors)}class Ui{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!vn(t.expression)}evaluateWithoutErrorHandling(e,t,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,o)}evaluate(e,t,n,i,r,o){return this._styleExpression.evaluate(e,t,n,i,r,o)}}class Vi{constructor(e,t,n,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!vn(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,n,i,r,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,o)}evaluate(e,t,n,i,r,o){return this._styleExpression.evaluate(e,t,n,i,r,o)}interpolationFactor(e,t,n){return this.interpolationType?Wn.interpolationFactor(this.interpolationType,e,t,n):0}}function Gi(e,t){if("error"===(e=Ni(e,t)).result)return e;const n=e.value.expression,i=_n(n);if(!i&&!Ii(t))return Mi([new nt("","data expressions not supported")]);const r=xn(n,["zoom","pitch","distance-from-center"]);if(!r&&!Ci(t))return Mi([new nt("","zoom expressions not supported")]);const o=function e(t){let n=null;if(t instanceof Xn)n=e(t.result);else if(t instanceof $n){for(const i of t.args)if(n=e(i),n)break}else(t instanceof In||t instanceof Wn)&&t.input instanceof Jt&&"zoom"===t.input.name&&(n=t);return n instanceof nt||t.eachChild(t=>{const i=e(t);i instanceof nt?n=i:!n&&i?n=new nt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):n&&i&&n!==i&&(n=new nt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),n}(n);return o||r?o instanceof nt?Mi([o]):o instanceof Wn&&!ki(t)?Mi([new nt("",'"interpolate" expressions cannot be used with this property')]):Si(o?new Vi(i?"camera":"composite",e.value,o.labels,o instanceof Wn?o.interpolation:void 0):new Ui(i?"constant":"source",e.value)):Mi([new nt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Zi{constructor(e,t){this._parameters=e,this._specification=t,Qe(this,function e(t,n){const i="color"===n.type,r=t.stops&&"object"==typeof t.stops[0][0],o=r||!(r||void 0!==t.property),a=t.type||(ki(n)?"exponential":"interval");if(i&&((t=Qe({},t)).stops&&(t.stops=t.stops.map(e=>[e[0],Ct.parse(e[1])])),t.default=Ct.parse(t.default?t.default:n.default)),t.colorSpace&&"rgb"!==t.colorSpace&&!Vn[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);let s,l,c;if("exponential"===a)s=Ri;else if("interval"===a)s=Oi;else if("categorical"===a){s=Li,l=Object.create(null);for(const e of t.stops)l[e[0]]=e[1];c=typeof t.stops[0][0]}else{if("identity"!==a)throw new Error(`Unknown function type "${a}"`);s=Bi}if(r){const i={},r=[];for(let e=0;e<t.stops.length;e++){const n=t.stops[e],o=n[0].zoom;void 0===i[o]&&(i[o]={zoom:o,type:t.type,property:t.property,default:t.default,stops:[]},r.push(o)),i[o].stops.push([n[0].value,n[1]])}const o=[];for(const t of r)o.push([i[t].zoom,e(i[t],n)]);const a={name:"linear"};return{kind:"composite",interpolationType:a,interpolationFactor:Wn.interpolationFactor.bind(void 0,a),zoomStops:o.map(e=>e[0]),evaluate:({zoom:e},i)=>Ri({stops:o,base:t.base},n,e).evaluate(e,i)}}if(o){const e="exponential"===a?{name:"exponential",base:void 0!==t.base?t.base:1}:null;return{kind:"camera",interpolationType:e,interpolationFactor:Wn.interpolationFactor.bind(void 0,e),zoomStops:t.stops.map(e=>e[0]),evaluate:({zoom:e})=>s(t,n,e,l,c)}}return{kind:"source",evaluate(e,i){const r=i&&i.properties?i.properties[t.property]:void 0;return void 0===r?Di(t.default,n.default):s(t,n,r,l,c)}}}(this._parameters,this._specification))}static deserialize(e){return new Zi(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}class Wi{constructor(e,t,n,i){this.message=(e?e+": ":"")+n,i&&(this.identifier=i),null!=t&&t.__line__&&(this.line=t.__line__)}}function qi(e){const t=e.key,n=e.value,i=e.valueSpec||{},r=e.objectElementValidators||{},o=e.style,a=e.styleSpec;let s=[];const l=Ai(n);if("object"!==l)return[new Wi(t,n,`object expected, ${l} found`)];for(const e in n){const l=e.split(".")[0],c=i[l]||i["*"];let u;r[l]?u=r[l]:i[l]?u=wr:r["*"]?u=r["*"]:i["*"]&&(u=wr),u?s=s.concat(u({key:(t?t+".":t)+e,value:n[e],valueSpec:c,style:o,styleSpec:a,object:n,objectKey:e},n)):s.push(new Wi(t,n[e],`unknown property "${e}"`))}for(const e in i)r[e]||i[e].required&&void 0===i[e].default&&void 0===n[e]&&s.push(new Wi(t,n,`missing required property "${e}"`));return s}function $i(e){const t=e.value,n=e.valueSpec,i=e.style,r=e.styleSpec,o=e.key,a=e.arrayElementValidator||wr;if("array"!==Ai(t))return[new Wi(o,t,`array expected, ${Ai(t)} found`)];if(n.length&&t.length!==n.length)return[new Wi(o,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new Wi(o,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let s={type:n.value,values:n.values,minimum:n.minimum,maximum:n.maximum,function:void 0};r.$version<7&&(s.function=n.function),"object"===Ai(n.value)&&(s=n.value);let l=[];for(let e=0;e<t.length;e++)l=l.concat(a({array:t,arrayIndex:e,value:t[e],valueSpec:s,style:i,styleSpec:r,key:`${o}[${e}]`}));return l}function Hi(e){const t=e.key,n=e.value,i=e.valueSpec;let r=Ai(n);if("number"===r&&n!=n&&(r="NaN"),"number"!==r)return[new Wi(t,n,`number expected, ${r} found`)];if("minimum"in i){let r=i.minimum;if("array"===Ai(i.minimum)&&(r=i.minimum[e.arrayIndex]),n<r)return[new Wi(t,n,`${n} is less than the minimum value ${r}`)]}if("maximum"in i){let r=i.maximum;if("array"===Ai(i.maximum)&&(r=i.maximum[e.arrayIndex]),n>r)return[new Wi(t,n,`${n} is greater than the maximum value ${r}`)]}return[]}function Xi(e){const t=e.valueSpec,n=Ke(e.value.type);let i,r,o,a={};const s="categorical"!==n&&void 0===e.value.property,l=!s,c="array"===Ai(e.value.stops)&&"array"===Ai(e.value.stops[0])&&"object"===Ai(e.value.stops[0][0]),u=qi({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===n)return[new Wi(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const i=e.value;return t=t.concat($i({key:e.key,value:i,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:h})),"array"===Ai(i)&&0===i.length&&t.push(new Wi(e.key,i,"array must have at least one stop")),t},default:function(e){return wr({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===n&&s&&u.push(new Wi(e.key,e.value,'missing required property "property"')),"identity"===n||e.value.stops||u.push(new Wi(e.key,e.value,'missing required property "stops"')),"exponential"===n&&e.valueSpec.expression&&!ki(e.valueSpec)&&u.push(new Wi(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Ii(e.valueSpec)?u.push(new Wi(e.key,e.value,"property functions not supported")):s&&!Ci(e.valueSpec)&&u.push(new Wi(e.key,e.value,"zoom functions not supported"))),"categorical"!==n&&!c||void 0!==e.value.property||u.push(new Wi(e.key,e.value,'"property" property is required')),u;function h(e){let n=[];const i=e.value,s=e.key;if("array"!==Ai(i))return[new Wi(s,i,`array expected, ${Ai(i)} found`)];if(2!==i.length)return[new Wi(s,i,`array length 2 expected, length ${i.length} found`)];if(c){if("object"!==Ai(i[0]))return[new Wi(s,i,`object expected, ${Ai(i[0])} found`)];if(void 0===i[0].zoom)return[new Wi(s,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new Wi(s,i,"object stop key must have value")];const t=Ke(i[0].zoom);if("number"!=typeof t)return[new Wi(s,i[0].zoom,"stop zoom values must be numbers")];if(o&&o>t)return[new Wi(s,i[0].zoom,"stop zoom values must appear in ascending order")];t!==o&&(o=t,r=void 0,a={}),n=n.concat(qi({key:s+"[0]",value:i[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Hi,value:d}}))}else n=n.concat(d({key:s+"[0]",value:i[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},i));return Fi(et(i[1]))?n.concat([new Wi(s+"[1]",i[1],"expressions are not allowed in function stops.")]):n.concat(wr({key:s+"[1]",value:i[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function d(e,o){const s=Ai(e.value),l=Ke(e.value),c=null!==e.value?e.value:o;if(i){if(s!==i)return[new Wi(e.key,c,`${s} stop domain type must match previous stop domain type ${i}`)]}else i=s;if("number"!==s&&"string"!==s&&"boolean"!==s&&"number"!=typeof l&&"string"!=typeof l&&"boolean"!=typeof l)return[new Wi(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==n){let i=`number expected, ${s} found`;return Ii(t)&&void 0===n&&(i+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Wi(e.key,c,i)]}return"categorical"!==n||"number"!==s||"number"==typeof l&&isFinite(l)&&Math.floor(l)===l?"categorical"!==n&&"number"===s&&"number"==typeof l&&"number"==typeof r&&void 0!==r&&l<r?[new Wi(e.key,c,"stop domain values must appear in ascending order")]:(r=l,"categorical"===n&&l in a?[new Wi(e.key,c,"stop domain values must be unique")]:(a[l]=!0,[])):[new Wi(e.key,c,"integer expected, found "+String(l))]}}function Yi(e){const t=("property"===e.expressionContext?Gi:Ni)(et(e.value),e.valueSpec);if("error"===t.result)return t.value.map(t=>new Wi(`${e.key}${t.key}`,e.value,t.message));const n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new Wi(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!vn(n))return[new Wi(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext)return function e(t,n){const i=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(n.valueSpec&&n.valueSpec.expression)for(const e of n.valueSpec.expression.parameters)i.delete(e);if(0===i.size)return[];const r=[];return t instanceof Jt&&i.has(t.name)?[new Wi(n.key,n.value,`["${t.name}"] expression is not supported in a filter for a ${n.object.type} layer with id: ${n.object.id}`)]:(t.eachChild(t=>{r.push(...e(t,n))}),r)}(n,e);if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!xn(n,["zoom","feature-state"]))return[new Wi(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!_n(n))return[new Wi(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ji(e){const t=e.key,n=e.value,i=e.valueSpec,r=[];return Array.isArray(i.values)?-1===i.values.indexOf(Ke(n))&&r.push(new Wi(t,n,`expected one of [${i.values.join(", ")}], ${JSON.stringify(n)} found`)):-1===Object.keys(i.values).indexOf(Ke(n))&&r.push(new Wi(t,n,`expected one of [${Object.keys(i.values).join(", ")}], ${JSON.stringify(n)} found`)),r}function Qi(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!Qi(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}function Ki(e,t="fill"){if(null==e)return{filter:()=>!0,needGeometry:!1,needFeature:!1};Qi(e)||(e=rr(e));const n=e;let i=!0;try{i=function(e){if(!er(e))return e;let t=et(e);return function e(t){let n=!1;const i=[];if("case"===t[0]){for(let e=1;e<t.length-1;e+=2)n=n||er(t[e]),i.push(t[e+1]);i.push(t[t.length-1])}else if("match"===t[0]){n=n||er(t[1]);for(let e=2;e<t.length-1;e+=2)i.push(t[e+1]);i.push(t[t.length-1])}else if("step"===t[0]){n=n||er(t[1]);for(let e=1;e<t.length-1;e+=2)i.push(t[e+1])}n&&(t.length=0,t.push("any",...i));for(let n=1;n<t.length;n++)e(t[n])}(t),t=function e(t){if(!Array.isArray(t))return t;const n=function(e){if(tr.has(e[0]))for(let t=1;t<e.length;t++)if(er(e[t]))return!0;return e}(t);return!0===n?n:n.map(t=>e(t))}(t),t}(n)}catch(e){console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n${JSON.stringify(n,null,2)}\n        `)}const r=Je["filter_"+t],o=Ni(i,r);let a=null;if("error"===o.result)throw new Error(o.value.map(e=>`${e.key}: ${e.message}`).join(", "));a=(e,t,n)=>o.value.evaluate(e,t,{},n);let s=null,l=null;if(i!==n){const e=Ni(n,r);if("error"===e.result)throw new Error(e.value.map(e=>`${e.key}: ${e.message}`).join(", "));s=(t,n,i,r,o)=>e.value.evaluate(t,n,{},i,void 0,void 0,r,o),l=!_n(e.value.expression)}return{filter:a,dynamicFilter:s||void 0,needGeometry:ir(i),needFeature:!!l}}function er(e){if(!Array.isArray(e))return!1;if("pitch"===(t=e[0])||"distance-from-center"===t)return!0;var t;for(let t=1;t<e.length;t++)if(er(e[t]))return!0;return!1}const tr=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function nr(e,t){return e<t?-1:e>t?1:0}function ir(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(ir(e[t]))return!0;return!1}function rr(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?or(e[1],e[2],"=="):"!="===t?lr(or(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?or(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(rr))):"all"===t?["all"].concat(e.slice(1).map(rr)):"none"===t?["all"].concat(e.slice(1).map(rr).map(lr)):"in"===t?ar(e[1],e.slice(2)):"!in"===t?lr(ar(e[1],e.slice(2))):"has"===t?sr(e[1]):"!has"===t?lr(sr(e[1])):"within"!==t||e;var n}function or(e,t,n){switch(e){case"$type":return["filter-type-"+n,t];case"$id":return["filter-id-"+n,t];default:return["filter-"+n,e,t]}}function ar(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",e,["literal",t.sort(nr)]]:["filter-in-small",e,["literal",t]]}}function sr(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function lr(e){return["!",e]}function cr(e){return Qi(et(e.value))?Yi(Qe({},e,{expressionContext:"filter",valueSpec:e.styleSpec["filter_"+(e.layerType||"fill")]})):function e(t){const n=t.value,i=t.key;if("array"!==Ai(n))return[new Wi(i,n,`array expected, ${Ai(n)} found`)];const r=t.styleSpec;let o,a=[];if(n.length<1)return[new Wi(i,n,"filter array must have at least 1 element")];switch(a=a.concat(Ji({key:i+"[0]",value:n[0],valueSpec:r.filter_operator,style:t.style,styleSpec:t.styleSpec})),Ke(n[0])){case"<":case"<=":case">":case">=":n.length>=2&&"$type"===Ke(n[1])&&a.push(new Wi(i,n,`"$type" cannot be use with operator "${n[0]}"`));case"==":case"!=":3!==n.length&&a.push(new Wi(i,n,`filter array for operator "${n[0]}" must have 3 elements`));case"in":case"!in":n.length>=2&&(o=Ai(n[1]),"string"!==o&&a.push(new Wi(i+"[1]",n[1],`string expected, ${o} found`)));for(let e=2;e<n.length;e++)o=Ai(n[e]),"$type"===Ke(n[1])?a=a.concat(Ji({key:`${i}[${e}]`,value:n[e],valueSpec:r.geometry_type,style:t.style,styleSpec:t.styleSpec})):"string"!==o&&"number"!==o&&"boolean"!==o&&a.push(new Wi(`${i}[${e}]`,n[e],`string, number, or boolean expected, ${o} found`));break;case"any":case"all":case"none":for(let r=1;r<n.length;r++)a=a.concat(e({key:`${i}[${r}]`,value:n[r],style:t.style,styleSpec:t.styleSpec}));break;case"has":case"!has":o=Ai(n[1]),2!==n.length?a.push(new Wi(i,n,`filter array for "${n[0]}" operator must have 2 elements`)):"string"!==o&&a.push(new Wi(i+"[1]",n[1],`string expected, ${o} found`));break;case"within":o=Ai(n[1]),2!==n.length?a.push(new Wi(i,n,`filter array for "${n[0]}" operator must have 2 elements`)):"object"!==o&&a.push(new Wi(i+"[1]",n[1],`object expected, ${o} found`))}return a}(e)}function ur(e,t){const n=e.key,i=e.style,r=e.styleSpec,o=e.value,a=e.objectKey,s=r[`${t}_${e.layerType}`];if(!s)return[];const l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return wr({key:n,value:o,valueSpec:r.transition,style:i,styleSpec:r});const c=e.valueSpec||s[a];if(!c)return[new Wi(n,o,`unknown property "${a}"`)];let u;if("string"===Ai(o)&&Ii(c)&&!c.tokens&&(u=/^{([^}]+)}$/.exec(o)))return[new Wi(n,o,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(u[1])} }\`.`)];const h=[];return"symbol"===e.layerType&&("text-field"===a&&i&&!i.glyphs&&h.push(new Wi(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Pi(et(o))&&"identity"===Ke(o.type)&&h.push(new Wi(n,o,'"text-font" does not support identity functions'))),h.concat(wr({key:e.key,value:o,valueSpec:c,style:i,styleSpec:r,expressionContext:"property",propertyType:t,propertyKey:a}))}function hr(e){return ur(e,"paint")}function dr(e){return ur(e,"layout")}function pr(e){let t=[];const n=e.value,i=e.key,r=e.style,o=e.styleSpec;n.type||n.ref||t.push(new Wi(i,n,'either "type" or "ref" is required'));let a=Ke(n.type);const s=Ke(n.ref);if(n.id){const o=Ke(n.id);for(let a=0;a<e.arrayIndex;a++){const e=r.layers[a];Ke(e.id)===o&&t.push(new Wi(i,n.id,`duplicate layer id "${n.id}", previously used at line ${e.id.__line__}`))}}if("ref"in n){let e;["type","source","source-layer","filter","layout"].forEach(e=>{e in n&&t.push(new Wi(i,n[e],`"${e}" is prohibited for ref layers`))}),r.layers.forEach(t=>{Ke(t.id)===s&&(e=t)}),e?e.ref?t.push(new Wi(i,n.ref,"ref cannot reference another ref layer")):a=Ke(e.type):"string"==typeof s&&t.push(new Wi(i,n.ref,`ref layer "${s}" not found`))}else if("background"!==a&&"sky"!==a)if(n.source){const e=r.sources&&r.sources[n.source],o=e&&Ke(e.type);e?"vector"===o&&"raster"===a?t.push(new Wi(i,n.source,`layer "${n.id}" requires a raster source`)):"raster"===o&&"raster"!==a?t.push(new Wi(i,n.source,`layer "${n.id}" requires a vector source`)):"vector"!==o||n["source-layer"]?"raster-dem"===o&&"hillshade"!==a?t.push(new Wi(i,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!n.paint||!n.paint["line-gradient"]&&!n.paint["line-trim-offset"]||"geojson"===o&&e.lineMetrics||t.push(new Wi(i,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Wi(i,n,`layer "${n.id}" must specify a "source-layer"`)):t.push(new Wi(i,n.source,`source "${n.source}" not found`))}else t.push(new Wi(i,n,'missing required property "source"'));return t=t.concat(qi({key:i,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>wr({key:i+".type",value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"}),filter:e=>cr(Qe({layerType:a},e)),layout:e=>qi({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>dr(Qe({layerType:a},e))}}),paint:e=>qi({layer:n,key:e.key,value:e.value,valueSpec:{},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>hr(Qe({layerType:a},e))}})}})),t}function fr(e){const t=e.value,n=e.key,i=Ai(t);return"string"!==i?[new Wi(n,t,`string expected, ${i} found`)]:[]}const mr={promoteId:function({key:e,value:t}){if("string"===Ai(t))return fr({key:e,value:t});{const n=[];for(const i in t)n.push(...fr({key:`${e}.${i}`,value:t[i]}));return n}}};function gr(e){const t=e.value,n=e.key,i=e.styleSpec,r=e.style;if(!t.type)return[new Wi(n,t,'"type" is required')];const o=Ke(t.type);let a;switch(o){case"vector":case"raster":case"raster-dem":return a=qi({key:n,value:t,valueSpec:i["source_"+o.replace("-","_")],style:e.style,styleSpec:i,objectElementValidators:mr}),a;case"geojson":if(a=qi({key:n,value:t,valueSpec:i.source_geojson,style:r,styleSpec:i,objectElementValidators:mr}),t.cluster)for(const e in t.clusterProperties){const[i,r]=t.clusterProperties[e],o="string"==typeof i?[i,["accumulated"],["get",e]]:i;a.push(...Yi({key:`${n}.${e}.map`,value:r,expressionContext:"cluster-map"})),a.push(...Yi({key:`${n}.${e}.reduce`,value:o,expressionContext:"cluster-reduce"}))}return a;case"video":return qi({key:n,value:t,valueSpec:i.source_video,style:r,styleSpec:i});case"image":return qi({key:n,value:t,valueSpec:i.source_image,style:r,styleSpec:i});case"canvas":return[new Wi(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ji({key:n+".type",value:t.type,valueSpec:{values:yr(i)},style:r,styleSpec:i})}}function yr(e){return e.source.reduce((t,n)=>{const i=e[n];return"enum"===i.type.type&&(t=t.concat(Object.keys(i.type.values))),t},[])}function _r(e){const t=e.value,n=e.styleSpec,i=n.light,r=e.style;let o=[];const a=Ai(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new Wi("light",t,`object expected, ${a} found`)]),o;for(const e in t){const a=e.match(/^(.*)-transition$/);o=o.concat(a&&i[a[1]]&&i[a[1]].transition?wr({key:e,value:t[e],valueSpec:n.transition,style:r,styleSpec:n}):i[e]?wr({key:e,value:t[e],valueSpec:i[e],style:r,styleSpec:n}):[new Wi(e,t[e],`unknown property "${e}"`)])}return o}function vr(e){const t=e.value,n=e.key,i=e.style,r=e.styleSpec,o=r.terrain;let a=[];const s=Ai(t);if(void 0===t)return a;if("object"!==s)return a=a.concat([new Wi("terrain",t,`object expected, ${s} found`)]),a;for(const e in t){const n=e.match(/^(.*)-transition$/);a=a.concat(n&&o[n[1]]&&o[n[1]].transition?wr({key:e,value:t[e],valueSpec:r.transition,style:i,styleSpec:r}):o[e]?wr({key:e,value:t[e],valueSpec:o[e],style:i,styleSpec:r}):[new Wi(e,t[e],`unknown property "${e}"`)])}if(t.source){const e=i.sources&&i.sources[t.source],r=e&&Ke(e.type);e?"raster-dem"!==r&&a.push(new Wi(n,t.source,`terrain cannot be used with a source of type ${String(r)}, it only be used with a "raster-dem" source type`)):a.push(new Wi(n,t.source,`source "${t.source}" not found`))}else a.push(new Wi(n,t,'terrain is missing required property "source"'));return a}function xr(e){const t=e.value,n=e.style,i=e.styleSpec,r=i.fog;let o=[];const a=Ai(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new Wi("fog",t,`object expected, ${a} found`)]),o;for(const e in t){const a=e.match(/^(.*)-transition$/);o=o.concat(a&&r[a[1]]&&r[a[1]].transition?wr({key:e,value:t[e],valueSpec:i.transition,style:n,styleSpec:i}):r[e]?wr({key:e,value:t[e],valueSpec:r[e],style:n,styleSpec:i}):[new Wi(e,t[e],`unknown property "${e}"`)])}return o}const br={"*":()=>[],array:$i,boolean:function(e){const t=e.value,n=e.key,i=Ai(t);return"boolean"!==i?[new Wi(n,t,`boolean expected, ${i} found`)]:[]},number:Hi,color:function(e){const t=e.key,n=e.value,i=Ai(n);return"string"!==i?[new Wi(t,n,`color expected, ${i} found`)]:null===bt(n)?[new Wi(t,n,`color expected, "${n}" found`)]:[]},enum:Ji,filter:cr,function:Xi,layer:pr,object:qi,source:gr,light:_r,terrain:vr,fog:xr,string:fr,formatted:function(e){return 0===fr(e).length?[]:Yi(e)},resolvedImage:function(e){return 0===fr(e).length?[]:Yi(e)},projection:function(e){const t=e.value,n=e.styleSpec,i=n.projection,r=e.style;let o=[];const a=Ai(t);if("object"===a)for(const e in t)o=o.concat(wr({key:e,value:t[e],valueSpec:i[e],style:r,styleSpec:n}));else"string"!==a&&(o=o.concat([new Wi("projection",t,`object or string expected, ${a} found`)]));return o}};function wr(e){const t=e.value,n=e.valueSpec,i=e.styleSpec;return n.expression&&Pi(Ke(t))?Xi(e):n.expression&&Fi(et(t))?Yi(e):n.type&&br[n.type]?br[n.type](e):qi(Qe({},e,{valueSpec:n.type?i[n.type]:n}))}function Tr(e){const t=e.value,n=e.key,i=fr(e);return i.length||(-1===t.indexOf("{fontstack}")&&i.push(new Wi(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&i.push(new Wi(n,t,'"glyphs" url must include a "{range}" token'))),i}function Er(e,t=Je){return Ir(wr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:Tr,"*":()=>[]}}))}const Sr=e=>Ir(hr(e)),Mr=e=>Ir(dr(e));function Ir(e){return e.slice().sort((e,t)=>e.line&&t.line?e.line-t.line:0)}function Cr(e,t){let n=!1;if(t&&t.length)for(const i of t)e.fire(new Xe(new Error(i.message))),n=!0;return n}var kr=Ar;function Ar(e,t,n){var i=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;var r=new Int32Array(this.arrayBuffer);e=r[0],this.d=(t=r[1])+2*(n=r[2]);for(var o=0;o<this.d*this.d;o++){var a=r[3+o],s=r[3+o+1];i.push(a===s?null:r.subarray(a,s))}var l=r[3+i.length+1];this.keys=r.subarray(r[3+i.length],l),this.bboxes=r.subarray(l),this.insert=this._insertReadonly}else{this.d=t+2*n;for(var c=0;c<this.d*this.d;c++)i.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;var u=n/t*e;this.min=-u,this.max=e+u}Ar.prototype.insert=function(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertCell,this.uid++),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},Ar.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ar.prototype._insertCell=function(e,t,n,i,r,o){this.cells[r].push(o)},Ar.prototype.query=function(e,t,n,i,r){var o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=i&&!r)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(e,t,n,i,this._queryCell,s,{},r),s},Ar.prototype._queryCell=function(e,t,n,i,r,o,a,s){var l=this.cells[r];if(null!==l)for(var c=this.keys,u=this.bboxes,h=0;h<l.length;h++){var d=l[h];if(void 0===a[d]){var p=4*d;(s?s(u[p+0],u[p+1],u[p+2],u[p+3]):e<=u[p+2]&&t<=u[p+3]&&n>=u[p+0]&&i>=u[p+1])?(a[d]=!0,o.push(c[d])):a[d]=!1}}},Ar.prototype._forEachCell=function(e,t,n,i,r,o,a,s){for(var l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(n),h=this._convertToCellCoord(i),d=l;d<=u;d++)for(var p=c;p<=h;p++){var f=this.d*p+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(p),this._convertFromCellCoord(d+1),this._convertFromCellCoord(p+1)))&&r.call(this,e,t,n,i,f,o,a,s))return}},Ar.prototype._convertFromCellCoord=function(e){return(e-this.padding)/this.scale},Ar.prototype._convertToCellCoord=function(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))},Ar.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var e=this.cells,t=3+this.cells.length+1+1,n=0,i=0;i<this.cells.length;i++)n+=this.cells[i].length;var r=new Int32Array(t+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;for(var o=t,a=0;a<e.length;a++){var s=e[a];r[3+a]=o,r.set(s,o),o+=s.length}return r[3+e.length]=o,r.set(this.keys,o),r[3+e.length+1]=o+=this.keys.length,r.set(this.bboxes,o),o+=this.bboxes.length,r.buffer};const Pr={};function zr(e,t,n={}){Object.defineProperty(e,"_classRegistryKey",{value:t,writeable:!1}),Pr[t]={klass:e,omit:n.omit||[]}}zr(Object,"Object"),kr.serialize=function(e,t){const n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}},kr.deserialize=function(e){return new kr(e.buffer)},Object.defineProperty(kr,"name",{value:"Grid"}),zr(kr,"Grid"),zr(Ct,"Color"),zr(Error,"Error"),zr(se,"AJAXError"),zr(zt,"ResolvedImage"),zr(Zi,"StylePropertyFunction"),zr(ji,"StyleExpression",{omit:["_evaluator"]}),zr(Vi,"ZoomDependentExpression"),zr(Ui,"ZoomConstantExpression"),zr(Jt,"CompoundExpression",{omit:["_evaluate"]});for(const e in Ei)Pr[Ei[e]._classRegistryKey]||zr(Ei[e],"Expression"+e);function Dr(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Lr(e){return n.ImageBitmap&&e instanceof n.ImageBitmap}function Or(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp)return e;if(Dr(e)||Lr(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){const n=e;return t&&t.push(n.buffer),n}if(e instanceof n.ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const n=[];for(const i of e)n.push(Or(i,t));return n}if("object"==typeof e){const n=e.constructor,i=n._classRegistryKey;if(!i)throw new Error("can't serialize object of unregistered class "+i);const r=n.serialize?n.serialize(e,t):{};if(!n.serialize){for(const n in e)e.hasOwnProperty(n)&&(Pr[i].omit.indexOf(n)>=0||(r[n]=Or(e[n],t)));e instanceof Error&&(r.message=e.message)}if(r.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==i&&(r.$name=i),r}throw new Error("can't serialize object of type "+typeof e)}function Rr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||Dr(e)||Lr(e)||ArrayBuffer.isView(e)||e instanceof n.ImageData)return e;if(Array.isArray(e))return e.map(Rr);if("object"==typeof e){const t=e.$name||"Object",{klass:n}=Pr[t];if(!n)throw new Error("can't deserialize unregistered class "+t);if(n.deserialize)return n.deserialize(e);const i=Object.create(n.prototype);for(const t of Object.keys(e))"$name"!==t&&(i[t]=Rr(e[t]));return i}throw new Error("can't deserialize object of type "+typeof e)}const Br=e=>e>=1536&&e<=1791,jr=e=>e>=1872&&e<=1919,Fr=e=>e>=2208&&e<=2303,Nr=e=>e>=11904&&e<=12031,Ur=e=>e>=12032&&e<=12255,Vr=e=>e>=12272&&e<=12287,Gr=e=>e>=12288&&e<=12351,Zr=e=>e>=12352&&e<=12447,Wr=e=>e>=12448&&e<=12543,qr=e=>e>=12544&&e<=12591,$r=e=>e>=12704&&e<=12735,Hr=e=>e>=12736&&e<=12783,Xr=e=>e>=12784&&e<=12799,Yr=e=>e>=12800&&e<=13055,Jr=e=>e>=13056&&e<=13311,Qr=e=>e>=13312&&e<=19903,Kr=e=>e>=19968&&e<=40959,eo=e=>e>=40960&&e<=42127,to=e=>e>=42128&&e<=42191,no=e=>e>=44032&&e<=55215,io=e=>e>=63744&&e<=64255,ro=e=>e>=64336&&e<=65023,oo=e=>e>=65040&&e<=65055,ao=e=>e>=65072&&e<=65103,so=e=>e>=65104&&e<=65135,lo=e=>e>=65136&&e<=65279,co=e=>e>=65280&&e<=65519;function uo(e){for(const t of e)if(fo(t.charCodeAt(0)))return!0;return!1}function ho(e){for(const t of e)if(!po(t.charCodeAt(0)))return!1;return!0}function po(e){return!(Br(e)||jr(e)||Fr(e)||ro(e)||lo(e))}function fo(e){return!(746!==e&&747!==e&&(e<4352||!($r(e)||qr(e)||ao(e)&&!(e>=65097&&e<=65103)||io(e)||Jr(e)||Nr(e)||Hr(e)||!(!Gr(e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Qr(e)||Kr(e)||Yr(e)||(e=>e>=12592&&e<=12687)(e)||(e=>e>=43360&&e<=43391)(e)||(e=>e>=55216&&e<=55295)(e)||(e=>e>=4352&&e<=4607)(e)||no(e)||Zr(e)||Vr(e)||(e=>e>=12688&&e<=12703)(e)||Ur(e)||Xr(e)||Wr(e)&&12540!==e||!(!co(e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!so(e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||(e=>e>=5120&&e<=5759)(e)||(e=>e>=6320&&e<=6399)(e)||oo(e)||(e=>e>=19904&&e<=19967)(e)||eo(e)||to(e))))}function mo(e){return!(fo(e)||function(e){return!!((e=>e>=128&&e<=255)(e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||(e=>e>=8192&&e<=8303)(e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||(e=>e>=8448&&e<=8527)(e)||(e=>e>=8528&&e<=8591)(e)||(e=>e>=8960&&e<=9215)(e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||(e=>e>=9216&&e<=9279)(e)&&9251!==e||(e=>e>=9280&&e<=9311)(e)||(e=>e>=9312&&e<=9471)(e)||(e=>e>=9632&&e<=9727)(e)||(e=>e>=9728&&e<=9983)(e)&&!(e>=9754&&e<=9759)||(e=>e>=11008&&e<=11263)(e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Gr(e)||Wr(e)||(e=>e>=57344&&e<=63743)(e)||ao(e)||so(e)||co(e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function go(e){return e>=1424&&e<=2303||ro(e)||lo(e)}function yo(e,t){return!(!t&&go(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||(e=>e>=6016&&e<=6143)(e))}function _o(e){for(const t of e)if(go(t.charCodeAt(0)))return!0;return!1}const vo="deferred",xo="loading",bo="loaded";let wo=null,To="unavailable",Eo=null;const So=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(To="error"),wo&&wo(e)};function Mo(){Io.fire(new He("pluginStateChange",{pluginStatus:To,pluginURL:Eo}))}const Io=new Ye,Co=function(){return To},ko=function(){if(To!==vo||!Eo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");To=xo,Mo(),Eo&&ue({url:Eo},e=>{e?So(e):(To=bo,Mo())})},Ao={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>To===bo||null!=Ao.applyArabicShaping,isLoading:()=>To===xo,setState(e){To=e.pluginStatus,Eo=e.pluginURL},isParsed:()=>null!=Ao.applyArabicShaping&&null!=Ao.processBidirectionalText&&null!=Ao.processStyledBidirectionalText,getPluginURL:()=>Eo};class Po{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.transition=t.transition,this.pitch=t.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(e){return function(e,t){for(const n of e)if(!yo(n.charCodeAt(0),t))return!1;return!0}(e,Ao.isLoaded())}}class zo{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Pi(e))return new Zi(e,t);if(Fi(e)){const n=Gi(e,t);if("error"===n.result)throw new Error(n.value.map(e=>`${e.key}: ${e.message}`).join(", "));return n.value}{let n=e;return"string"==typeof e&&"color"===t.type&&(n=Ct.parse(e)),{kind:"constant",evaluate:()=>n}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}class Do{constructor(e){this.property=e,this.value=new zo(e,void 0)}transitioned(e,t){return new Oo(this.property,this.value,t,A({},e.transition,this.transition),e.now)}untransitioned(){return new Oo(this.property,this.value,null,{},0)}}class Lo{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return N(this._values[e].value.value)}setValue(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Do(this._values[e].property)),this._values[e].value=new zo(this._values[e].property,null===t?void 0:N(t))}getTransition(e){return N(this._values[e].transition)}setTransition(e,t){this._values.hasOwnProperty(e)||(this._values[e]=new Do(this._values[e].property)),this._values[e].transition=N(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n);const i=this.getTransition(t);void 0!==i&&(e[t+"-transition"]=i)}return e}transitioned(e,t){const n=new Ro(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].transitioned(e,t._values[i]);return n}untransitioned(){const e=new Ro(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class Oo{constructor(e,t,n,i,r){const o=i.delay||0,a=i.duration||0;r=r||0,this.property=e,this.value=t,this.begin=r+o,this.end=this.begin+a,e.specification.transition&&(i.delay||i.duration)&&(this.prior=n)}possiblyEvaluate(e,t,n){const i=e.now||0,r=this.value.possiblyEvaluate(e,t,n),o=this.prior;if(o){if(i>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(i<this.begin)return o.possiblyEvaluate(e,t,n);{const a=(i-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,n),r,w(a))}}return r}}class Ro{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,n){const i=new Fo(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(e,t,n);return i}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class Bo{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return N(this._values[e].value)}setValue(e,t){this._values[e]=new zo(this._values[e].property,null===t?void 0:N(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n)}return e}possiblyEvaluate(e,t,n){const i=new Fo(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(e,t,n);return i}}class jo{constructor(e,t,n){this.property=e,this.value=t,this.parameters=n}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,n,i){return this.property.evaluate(this.value,this.parameters,e,t,n,i)}}class Fo{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class No{constructor(e){this.specification=e}possiblyEvaluate(e,t){return e.expression.evaluate(t)}interpolate(e,t,n){const i=kn[this.specification.type];return i?i(e,t,n):e}}class Uo{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,n,i){return new jo(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,i)}:e.expression,t)}interpolate(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new jo(this,{kind:"constant",value:void 0},e.parameters);const i=kn[this.specification.type];return i?new jo(this,{kind:"constant",value:i(e.value.value,t.value.value,n)},e.parameters):e}evaluate(e,t,n,i,r,o){return"constant"===e.kind?e.value:e.evaluate(t,n,i,r,o)}}class Vo{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,i){return!!e.expression.evaluate(t,null,{},n,i)}interpolate(){return!1}}class Go{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const t=new Po(0,{});for(const n in e){const i=e[n];i.specification.overridable&&this.overridableProperties.push(n);const r=this.defaultPropertyValues[n]=new zo(i,void 0),o=this.defaultTransitionablePropertyValues[n]=new Do(i);this.defaultTransitioningPropertyValues[n]=o.untransitioned(),this.defaultPossiblyEvaluatedValues[n]=r.possiblyEvaluate(t)}}}function Zo(e,t){return 256*(e=S(Math.floor(e),0,255))+S(Math.floor(t),0,255)}zr(Uo,"DataDrivenProperty"),zr(No,"DataConstantProperty"),zr(Vo,"ColorRampProperty");const Wo={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class qo{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class $o{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Ho(e,t=1){let n=0,i=0;return{members:e.map(e=>{const r=Wo[e.type].BYTES_PER_ELEMENT,o=n=Xo(n,Math.max(t,r)),a=e.components||1;return i=Math.max(i,r),n+=r*a,{name:e.name,type:e.type,components:a,offset:o}}),size:Xo(n,Math.max(i,t)),alignment:t}}function Xo(e,t){return Math.ceil(e/t)*t}class Yo extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.int16[i+0]=t,this.int16[i+1]=n,e}}Yo.prototype.bytesPerElement=4,zr(Yo,"StructArrayLayout2i4");class Jo extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.int16[r+0]=t,this.int16[r+1]=n,this.int16[r+2]=i,e}}Jo.prototype.bytesPerElement=6,zr(Jo,"StructArrayLayout3i6");class Qo extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=i,this.int16[o+3]=r,e}}Qo.prototype.bytesPerElement=8,zr(Qo,"StructArrayLayout4i8");class Ko extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,i,r,o,a)}emplace(e,t,n,i,r,o,a,s){const l=6*e,c=12*e,u=3*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.uint8[c+4]=i,this.uint8[c+5]=r,this.uint8[c+6]=o,this.uint8[c+7]=a,this.float32[u+2]=s,e}}Ko.prototype.bytesPerElement=12,zr(Ko,"StructArrayLayout2i4ub1f12");class ea extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=i,this.float32[o+3]=r,e}}ea.prototype.bytesPerElement=16,zr(ea,"StructArrayLayout4f16");class ta extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r)}emplace(e,t,n,i,r,o){const a=6*e,s=3*e;return this.uint16[a+0]=t,this.uint16[a+1]=n,this.uint16[a+2]=i,this.uint16[a+3]=r,this.float32[s+2]=o,e}}ta.prototype.bytesPerElement=12,zr(ta,"StructArrayLayout4ui1f12");class na extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=4*e;return this.uint16[o+0]=t,this.uint16[o+1]=n,this.uint16[o+2]=i,this.uint16[o+3]=r,e}}na.prototype.bytesPerElement=8,zr(na,"StructArrayLayout4ui8");class ia extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r,o)}emplace(e,t,n,i,r,o,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=r,this.int16[s+4]=o,this.int16[s+5]=a,e}}ia.prototype.bytesPerElement=12,zr(ia,"StructArrayLayout6i12");class ra extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,h){const d=this.length;return this.resize(d+1),this.emplace(d,e,t,n,i,r,o,a,s,l,c,u,h)}emplace(e,t,n,i,r,o,a,s,l,c,u,h,d){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=i,this.int16[p+3]=r,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=h,this.int16[p+11]=d,e}}ra.prototype.bytesPerElement=24,zr(ra,"StructArrayLayout4i4ui4i24");class oa extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r,o)}emplace(e,t,n,i,r,o,a){const s=10*e,l=5*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=i,this.float32[l+2]=r,this.float32[l+3]=o,this.float32[l+4]=a,e}}oa.prototype.bytesPerElement=20,zr(oa,"StructArrayLayout3i3f20");class aa extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}aa.prototype.bytesPerElement=4,zr(aa,"StructArrayLayout1ul4");class sa extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,h,d){const p=this.length;return this.resize(p+1),this.emplace(p,e,t,n,i,r,o,a,s,l,c,u,h,d)}emplace(e,t,n,i,r,o,a,s,l,c,u,h,d,p){const f=20*e,m=10*e;return this.int16[f+0]=t,this.int16[f+1]=n,this.int16[f+2]=i,this.int16[f+3]=r,this.int16[f+4]=o,this.float32[m+3]=a,this.float32[m+4]=s,this.float32[m+5]=l,this.float32[m+6]=c,this.int16[f+14]=u,this.uint32[m+8]=h,this.uint16[f+18]=d,this.uint16[f+19]=p,e}}sa.prototype.bytesPerElement=40,zr(sa,"StructArrayLayout5i4f1i1ul2ui40");class la extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,i,r,o,a)}emplace(e,t,n,i,r,o,a,s){const l=8*e;return this.int16[l+0]=t,this.int16[l+1]=n,this.int16[l+2]=i,this.int16[l+4]=r,this.int16[l+5]=o,this.int16[l+6]=a,this.int16[l+7]=s,e}}la.prototype.bytesPerElement=16,zr(la,"StructArrayLayout3i2i2i16");class ca extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r)}emplace(e,t,n,i,r,o){const a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=i,this.int16[s+6]=r,this.int16[s+7]=o,e}}ca.prototype.bytesPerElement=16,zr(ca,"StructArrayLayout2f1f2i16");class ua extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=n,this.float32[a+1]=i,this.float32[a+2]=r,e}}ua.prototype.bytesPerElement=12,zr(ua,"StructArrayLayout2ub2f12");class ha extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.float32[r+0]=t,this.float32[r+1]=n,this.float32[r+2]=i,e}}ha.prototype.bytesPerElement=12,zr(ha,"StructArrayLayout3f12");class da extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,this.uint16[r+2]=i,e}}da.prototype.bytesPerElement=6,zr(da,"StructArrayLayout3ui6");class pa extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x){const b=this.length;return this.resize(b+1),this.emplace(b,e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x)}emplace(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x,b){const w=30*e,T=15*e,E=60*e;return this.int16[w+0]=t,this.int16[w+1]=n,this.int16[w+2]=i,this.float32[T+2]=r,this.float32[T+3]=o,this.uint16[w+8]=a,this.uint16[w+9]=s,this.uint32[T+5]=l,this.uint32[T+6]=c,this.uint32[T+7]=u,this.uint16[w+16]=h,this.uint16[w+17]=d,this.uint16[w+18]=p,this.float32[T+10]=f,this.float32[T+11]=m,this.uint8[E+48]=g,this.uint8[E+49]=y,this.uint8[E+50]=_,this.uint32[T+13]=v,this.int16[w+28]=x,this.uint8[E+58]=b,e}}pa.prototype.bytesPerElement=60,zr(pa,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class fa extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x,b,w,T,E,S,M,I,C,k){const A=this.length;return this.resize(A+1),this.emplace(A,e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x,b,w,T,E,S,M,I,C,k)}emplace(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x,b,w,T,E,S,M,I,C,k,A){const P=38*e,z=19*e;return this.int16[P+0]=t,this.int16[P+1]=n,this.int16[P+2]=i,this.float32[z+2]=r,this.float32[z+3]=o,this.int16[P+8]=a,this.int16[P+9]=s,this.int16[P+10]=l,this.int16[P+11]=c,this.int16[P+12]=u,this.int16[P+13]=h,this.uint16[P+14]=d,this.uint16[P+15]=p,this.uint16[P+16]=f,this.uint16[P+17]=m,this.uint16[P+18]=g,this.uint16[P+19]=y,this.uint16[P+20]=_,this.uint16[P+21]=v,this.uint16[P+22]=x,this.uint16[P+23]=b,this.uint16[P+24]=w,this.uint16[P+25]=T,this.uint16[P+26]=E,this.uint16[P+27]=S,this.uint16[P+28]=M,this.uint32[z+15]=I,this.float32[z+16]=C,this.float32[z+17]=k,this.float32[z+18]=A,e}}fa.prototype.bytesPerElement=76,zr(fa,"StructArrayLayout3i2f6i15ui1ul3f76");class ma extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}ma.prototype.bytesPerElement=4,zr(ma,"StructArrayLayout1f4");class ga extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,i,r)}emplace(e,t,n,i,r,o){const a=5*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=i,this.float32[a+3]=r,this.float32[a+4]=o,e}}ga.prototype.bytesPerElement=20,zr(ga,"StructArrayLayout5f20");class ya extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const o=6*e;return this.uint32[3*e+0]=t,this.uint16[o+2]=n,this.uint16[o+3]=i,this.uint16[o+4]=r,e}}ya.prototype.bytesPerElement=12,zr(ya,"StructArrayLayout1ul3ui12");class _a extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,e}}_a.prototype.bytesPerElement=4,zr(_a,"StructArrayLayout2ui4");class va extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}va.prototype.bytesPerElement=2,zr(va,"StructArrayLayout1ui2");class xa extends $o{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.float32[i+0]=t,this.float32[i+1]=n,e}}xa.prototype.bytesPerElement=8,zr(xa,"StructArrayLayout2f8");class ba extends qo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}ba.prototype.size=40;class wa extends sa{get(e){return new ba(this,e)}}zr(wa,"CollisionBoxArray");class Ta extends qo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(e){this._structArray.uint8[this._pos1+49]=e}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(e){this._structArray.uint8[this._pos1+50]=e}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(e){this._structArray.uint32[this._pos4+13]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(e){this._structArray.uint8[this._pos1+58]=e}}Ta.prototype.size=60;class Ea extends pa{get(e){return new Ta(this,e)}}zr(Ea,"PlacedSymbolArray");class Sa extends qo{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(e){this._structArray.uint32[this._pos4+15]=e}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}Sa.prototype.size=76;class Ma extends fa{get(e){return new Sa(this,e)}}zr(Ma,"SymbolInstanceArray");class Ia extends ma{getoffsetX(e){return this.float32[1*e+0]}}zr(Ia,"GlyphOffsetArray");class Ca extends Yo{getx(e){return this.int16[2*e+0]}gety(e){return this.int16[2*e+1]}}zr(Ca,"SymbolLineVertexArray");class ka extends qo{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}ka.prototype.size=12;class Aa extends ya{get(e){return new ka(this,e)}}zr(Aa,"FeatureIndexArray");class Pa extends _a{geta_centroid_pos0(e){return this.uint16[2*e+0]}geta_centroid_pos1(e){return this.uint16[2*e+1]}}zr(Pa,"FillExtrusionCentroidArray");const za=Ho([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),Da=Ho([{name:"a_dash",components:4,type:"Uint16"}]);var La={exports:{}},Oa={exports:{}};Oa.exports=function(e,t){var n,i,r,o,a,s,l,c;for(i=e.length-(n=3&e.length),r=t,a=3432918353,s=461845907,c=0;c<i;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,r=27492+(65535&(o=5*(65535&(r=(r^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:r^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return r^=e.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0};var Ra={exports:{}};Ra.exports=function(e,t){for(var n,i=e.length,r=t^i,o=0;i>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),i-=4,++o;switch(i){case 3:r^=(255&e.charCodeAt(o+2))<<16;case 2:r^=(255&e.charCodeAt(o+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(o)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0};var Ba=Oa.exports,ja=Ra.exports;La.exports=Ba,La.exports.murmur3=Ba,La.exports.murmur2=ja;class Fa{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,n,i){this.ids.push(Na(e)),this.positions.push(t,n,i)}getPositions(e){const t=Na(e);let n=0,i=this.ids.length-1;for(;n<i;){const e=n+i>>1;this.ids[e]>=t?i=e:n=e+1}const r=[];for(;this.ids[n]===t;)r.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return r}static serialize(e,t){const n=new Float64Array(e.ids),i=new Uint32Array(e.positions);return function e(t,n,i,r){for(;i<r;){const o=t[i+r>>1];let a=i-1,s=r+1;for(;;){do{a++}while(t[a]<o);do{s--}while(t[s]>o);if(a>=s)break;Ua(t,a,s),Ua(n,3*a,3*s),Ua(n,3*a+1,3*s+1),Ua(n,3*a+2,3*s+2)}s-i<r-s?(e(t,n,i,s),i=s+1):(e(t,n,s+1,r),r=s)}}(n,i,0,n.length-1),t&&t.push(n.buffer,i.buffer),{ids:n,positions:i}}static deserialize(e){const t=new Fa;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function Na(e){const t=+e;return!isNaN(t)&&Number.MIN_SAFE_INTEGER<=t&&t<=Number.MAX_SAFE_INTEGER?t:La.exports(String(e))}function Ua(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}zr(Fa,"FeaturePositionMap");class Va{constructor(e){this.gl=e.gl,this.initialized=!1}fetchUniformLocation(e,t){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(e,t),this.initialized=!0),!!this.location}}class Ga extends Va{constructor(e){super(e),this.current=0}set(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1f(this.location,n))}}class Za extends Va{constructor(e){super(e),this.current=[0,0,0,0]}set(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]&&n[3]===this.current[3]||(this.current=n,this.gl.uniform4f(this.location,n[0],n[1],n[2],n[3])))}}class Wa extends Va{constructor(e){super(e),this.current=Ct.transparent}set(e,t,n){this.fetchUniformLocation(e,t)&&(n.r===this.current.r&&n.g===this.current.g&&n.b===this.current.b&&n.a===this.current.a||(this.current=n,this.gl.uniform4f(this.location,n.r,n.g,n.b,n.a)))}}const qa=new Float32Array(16),$a=new Float32Array(9),Ha=new Float32Array(4);function Xa(e){return[Zo(255*e.r,255*e.g),Zo(255*e.b,255*e.a)]}class Ya{constructor(e,t,n){this.value=e,this.uniformNames=t.map(e=>"u_"+e),this.type=n}setUniform(e,t,n,i,r){t.set(e,r,i.constantOr(this.value))}getBinding(e,t){return"color"===this.type?new Wa(e):new Ga(e)}}class Ja{constructor(e,t){this.uniformNames=t.map(e=>"u_"+e),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(e){this.pixelRatio=e.pixelRatio||1,this.pattern=e.tl.concat(e.br)}setUniform(e,t,n,i,r){const o="u_pattern"===r||"u_dash"===r?this.pattern:"u_pixel_ratio"===r?this.pixelRatio:null;o&&t.set(e,r,o)}getBinding(e,t){return"u_pattern"===t||"u_dash"===t?new Za(e):new Ga(e)}}class Qa{constructor(e,t,n,i){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===n?2:1,offset:0})),this.paintVertexArray=new i}populatePaintArray(e,t,n,i,r,o){const a=this.paintVertexArray.length,s=this.expression.evaluate(new Po(0),t,{},r,i,o);this.paintVertexArray.resize(e),this._setPaintValue(a,e,s)}updatePaintArray(e,t,n,i,r){const o=this.expression.evaluate({zoom:0},n,i,void 0,r);this._setPaintValue(e,t,o)}_setPaintValue(e,t,n){if("color"===this.type){const i=Xa(n);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,i[0],i[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ka{constructor(e,t,n,i,r,o){this.expression=e,this.uniformNames=t.map(e=>`u_${e}_t`),this.type=n,this.useIntegerZoom=i,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:"a_"+e,type:"Float32",components:"color"===n?4:2,offset:0})),this.paintVertexArray=new o}populatePaintArray(e,t,n,i,r,o){const a=this.expression.evaluate(new Po(this.zoom),t,{},r,i,o),s=this.expression.evaluate(new Po(this.zoom+1),t,{},r,i,o),l=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(l,e,a,s)}updatePaintArray(e,t,n,i,r){const o=this.expression.evaluate({zoom:this.zoom},n,i,void 0,r),a=this.expression.evaluate({zoom:this.zoom+1},n,i,void 0,r);this._setPaintValue(e,t,o,a)}_setPaintValue(e,t,n,i){if("color"===this.type){const r=Xa(n),o=Xa(i);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r[0],r[1],o[0],o[1])}else{for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n,i);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(i))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t,n,i,r){const o=this.useIntegerZoom?Math.floor(n.zoom):n.zoom,a=S(this.expression.interpolationFactor(o,this.zoom,this.zoom+1),0,1);t.set(e,r,a)}getBinding(e,t){return new Ga(e)}}class es{constructor(e,t,n,i,r){this.expression=e,this.layerId=r,this.paintVertexAttributes=("array"===n?Da:za).members;for(let e=0;e<t.length;++e);this.paintVertexArray=new i}populatePaintArray(e,t,n){const i=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValues(i,e,t.patterns&&t.patterns[this.layerId],n)}updatePaintArray(e,t,n,i,r,o){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],o)}_setPaintValues(e,t,n,i){if(!i||!n)return;const r=i[n];if(!r)return;const{tl:o,br:a,pixelRatio:s}=r;for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,o[0],o[1],a[0],a[1],s)}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class ts{constructor(e,t,n=(()=>!0)){this.binders={},this._buffers=[];const i=[];for(const r in e.paint._values){if(!n(r))continue;const o=e.paint.get(r);if(!(o instanceof jo&&Ii(o.property.specification)))continue;const a=rs(r,e.type),s=o.value,l=o.property.specification.type,c=o.property.useIntegerZoom,u="line-dasharray"===r||r.endsWith("pattern"),h="line-dasharray"===r&&"constant"!==e.layout.get("line-cap").value.kind;if("constant"!==s.kind||h)if("source"===s.kind||h||u){const t=ss(r,l,"source");this.binders[r]=u?new es(s,a,l,t,e.id):new Qa(s,a,l,t),i.push("/a_"+r)}else{const e=ss(r,l,"composite");this.binders[r]=new Ka(s,a,l,c,t,e),i.push("/z_"+r)}else this.binders[r]=u?new Ja(s.value,a):new Ya(s.value,a,l),i.push("/u_"+r)}this.cacheKey=i.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof Qa||t instanceof Ka?t.maxValue:0}populatePaintArrays(e,t,n,i,r,o){for(const a in this.binders){const s=this.binders[a];(s instanceof Qa||s instanceof Ka||s instanceof es)&&s.populatePaintArray(e,t,n,i,r,o)}}setConstantPatternPositions(e){for(const t in this.binders){const n=this.binders[t];n instanceof Ja&&n.setConstantPatternPositions(e)}}updatePaintArrays(e,t,n,i,r,o){let a=!1;for(const s in e){const l=t.getPositions(s);for(const t of l){const l=n.feature(t.index);for(const n in this.binders){const c=this.binders[n];if((c instanceof Qa||c instanceof Ka||c instanceof es)&&!0===c.expression.isStateDependent){const u=i.paint.get(n);c.expression=u.value,c.updatePaintArray(t.start,t.end,l,e[s],r,o),a=!0}}}}return a}defines(){const e=[];for(const t in this.binders){const n=this.binders[t];(n instanceof Ya||n instanceof Ja)&&e.push(...n.uniformNames.map(e=>"#define HAS_UNIFORM_"+e))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Qa||n instanceof Ka||n instanceof es)for(let t=0;t<n.paintVertexAttributes.length;t++)e.push(n.paintVertexAttributes[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Ya||n instanceof Ja||n instanceof Ka)for(const t of n.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e){const t=[];for(const n in this.binders){const i=this.binders[n];if(i instanceof Ya||i instanceof Ja||i instanceof Ka)for(const r of i.uniformNames)t.push({name:r,property:n,binding:i.getBinding(e,r)})}return t}setUniforms(e,t,n,i,r){for(const{name:t,property:o,binding:a}of n)this.binders[o].setUniform(e,a,r,i.get(o),t)}updatePaintBuffers(){this._buffers=[];for(const e in this.binders){const t=this.binders[e];(t instanceof Qa||t instanceof Ka||t instanceof es)&&t.paintVertexBuffer&&this._buffers.push(t.paintVertexBuffer)}}upload(e){for(const t in this.binders){const n=this.binders[t];(n instanceof Qa||n instanceof Ka||n instanceof es)&&n.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof Qa||t instanceof Ka||t instanceof es)&&t.destroy()}}}class ns{constructor(e,t,n=(()=>!0)){this.programConfigurations={};for(const i of e)this.programConfigurations[i.id]=new ts(i,t,n);this.needsUpload=!1,this._featureMap=new Fa,this._bufferOffset=0}populatePaintArrays(e,t,n,i,r,o,a){for(const n in this.programConfigurations)this.programConfigurations[n].populatePaintArrays(e,t,i,r,o,a);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,n,i,r){for(const o of n)this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(e,this._featureMap,t,o,i,r)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}const is={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function rs(e,t){return is[e]||[e.replace(t+"-","").replace(/-/g,"_")]}const os={"line-pattern":{source:ta,composite:ta},"fill-pattern":{source:ta,composite:ta},"fill-extrusion-pattern":{source:ta,composite:ta},"line-dasharray":{source:na,composite:na}},as={color:{source:xa,composite:ea},number:{source:ma,composite:xa}};function ss(e,t,n){const i=os[e];return i&&i[n]||as[t][n]}zr(Ya,"ConstantBinder"),zr(Ja,"PatternConstantBinder"),zr(Qa,"SourceExpressionBinder"),zr(es,"PatternCompositeBinder"),zr(Ka,"CompositeExpressionBinder"),zr(ts,"ProgramConfiguration",{omit:["_buffers"]}),zr(ns,"ProgramConfigurationSet");const ls="-transition";class cs extends Ye{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&"sky"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new Bo(t.layout)),t.paint)){this._transitionablePaint=new Lo(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Fo(t.paint)}}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,n={}){null!=t&&this._validate(Mr,`layers.${this.id}.layout.${e}`,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return B(e,ls)?this._transitionablePaint.getTransition(e.slice(0,-ls.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,n={}){if(null!=t&&this._validate(Sr,`layers.${this.id}.paint.${e}`,e,t,n))return!1;if(B(e,ls))return this._transitionablePaint.setTransition(e.slice(0,-ls.length),t||void 0),!1;{const n=this._transitionablePaint._values[e],i=n.value.isDataDriven(),r=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const o=this._transitionablePaint._values[e].value,a=o.isDataDriven(),s=B(e,"pattern")||"line-dasharray"===e;return a||i||s||this._handleOverridablePaintPropertyUpdate(e,r,o)}}_handleSpecialPaintPropertyUpdate(e){}getProgramIds(){return null}getProgramConfiguration(e){return null}_handleOverridablePaintPropertyUpdate(e,t,n){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),F(e,(e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length))}_validate(e,t,n,i,r={}){return(!r||!1!==r.validate)&&Cr(this,e.call(Er,{key:t,layerType:this.type,objectKey:n,value:i,styleSpec:Je,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof jo&&Ii(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=Ki(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const us=Ho([{name:"a_pos",components:2,type:"Int16"}],4),hs=Ho([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class ds{constructor(e=[]){this.segments=e}prepareSegment(e,t,n,i){let r=this.segments[this.segments.length-1];return e>ds.MAX_VERTEX_ARRAY_LENGTH&&V(`Max vertices per segment is ${ds.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!r||r.vertexLength+e>ds.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==i)&&(r={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==i&&(r.sortKey=i),this.segments.push(r)),r}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,n,i){return new ds([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:i,vaos:{},sortKey:0}])}}ds.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,zr(ds,"SegmentVector");var ps=8192;class fs{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof gs?new gs(e.lng,e.lat):gs.convert(e),this}setSouthWest(e){return this._sw=e instanceof gs?new gs(e.lng,e.lat):gs.convert(e),this}extend(e){const t=this._sw,n=this._ne;let i,r;if(e instanceof gs)i=e,r=e;else{if(!(e instanceof fs))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(fs.convert(e)):this.extend(gs.convert(e)):"object"==typeof e&&null!==e&&e.hasOwnProperty("lat")&&e.hasOwnProperty("lon")?this.extend(gs.convert(e)):this;if(i=e._sw,r=e._ne,!i||!r)return this}return t||n?(t.lng=Math.min(i.lng,t.lng),t.lat=Math.min(i.lat,t.lat),n.lng=Math.max(r.lng,n.lng),n.lat=Math.max(r.lat,n.lat)):(this._sw=new gs(i.lng,i.lat),this._ne=new gs(r.lng,r.lat)),this}getCenter(){return new gs((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new gs(this.getWest(),this.getNorth())}getSouthEast(){return new gs(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:t,lat:n}=gs.convert(e);let i=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&i}static convert(e){return!e||e instanceof fs?e:new fs(e)}}const ms=6371008.8;class gs{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new gs(I(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,n=this.lat*t,i=e.lat*t,r=Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos((e.lng-this.lng)*t);return ms*Math.acos(Math.min(r,1))}toBounds(e=0){const t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new fs(new gs(this.lng-n,this.lat-t),new gs(this.lng+n,this.lat+t))}static convert(e){if(e instanceof gs)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new gs(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new gs(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const ys=2*Math.PI*ms;function _s(e){return ys*Math.cos(e*Math.PI/180)}function vs(e){return(180+e)/360}function xs(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function bs(e,t){return e/_s(t)}function ws(e){return 360*e-180}function Ts(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function Es(e,t){return e*_s(Ts(t))}const Ss=85.051129;function Ms(e){return 1/Math.cos(e*Math.PI/180)}class Is{constructor(e,t,n=0){this.x=+e,this.y=+t,this.z=+n}static fromLngLat(e,t=0){const n=gs.convert(e);return new Is(vs(n.lng),xs(n.lat),bs(t,n.lat))}toLngLat(){return new gs(ws(this.x),Ts(this.y))}toAltitude(){return Es(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/ys*Ms(Ts(this.y))}}function Cs(e,t,n,i,r,o,a,s,l){const c=(t+i)/2,u=(n+r)/2,h=new m(c,u);s(h),function(e,t,n,i,r,o){const a=n-r,s=i-o;return Math.abs((i-t)*a-(n-e)*s)/Math.hypot(a,s)}(h.x,h.y,o.x,o.y,a.x,a.y)>=l?(Cs(e,t,n,c,u,o,h,s,l),Cs(e,c,u,i,r,h,a,s,l)):e.push(a)}function ks(e,t,n){let i=e[0],r=i.x,o=i.y;t(i);const a=[i];for(let s=1;s<e.length;s++){const l=e[s],{x:c,y:u}=l;t(l),Cs(a,r,o,c,u,i,l,t,n),r=c,o=u,i=l}return a}function As(e,t,n,i){if(i(t,n)){const r=t.add(n)._mult(.5);As(e,t,r,i),As(e,r,n,i)}else e.push(n)}function Ps(e,t){let n=e[0];const i=[n];for(let r=1;r<e.length;r++){const o=e[r];As(i,n,o,t),n=o}return i}const zs=Math.pow(2,14)-1,Ds=-zs-1;function Ls(e,t){const n=Math.round(e.x*t),i=Math.round(e.y*t);return e.x=S(n,Ds,zs),e.y=S(i,Ds,zs),(n<e.x||n>e.x+1||i<e.y||i>e.y+1)&&V("Geometry exceeds allowed extent, reduce your vector tile buffer size"),e}function Os(e,t,n){const i=e.loadGeometry(),r=e.extent,o=ps/r;if(t&&n&&n.projection.isReprojectedInTileSpace){const o=1<<t.z,{scale:a,x:s,y:l,projection:c}=n,u=e=>{const n=ws((t.x+e.x/r)/o),i=Ts((t.y+e.y/r)/o),u=c.project(n,i);e.x=(u.x*a-s)*r,e.y=(u.y*a-l)*r};for(let t=0;t<i.length;t++)if(1!==e.type)i[t]=ks(i[t],u,1);else{const e=[];for(const n of i[t])n.x<0||n.x>=r||n.y<0||n.y>=r||(u(n),e.push(n));i[t]=e}}for(const e of i)for(const t of e)Ls(t,o);return i}function Rs(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Os(e):[]}}function Bs(e,t,n,i,r){e.emplaceBack(2*t+(i+1)/2,2*n+(r+1)/2)}function js(e,t,n){const i=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*i,n[1]*i,n[2]*i)}class Fs{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.projection=e.projection,this.layoutVertexArray=new Yo,this.indexArray=new da,this.segments=new ds,this.programConfigurations=new ns(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,n,i){const r=this.layers[0],o=[];let a=null;"circle"===r.type&&(a=r.layout.get("circle-sort-key"));for(const{feature:t,id:r,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Rs(t,e);if(!this.layers[0]._featureFilter.filter(new Po(this.zoom),c,n))continue;const u=a?a.evaluate(c,{},n):void 0,h={id:r,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?c.geometry:Os(t,n,i),patterns:{},sortKey:u};o.push(h)}a&&o.sort((e,t)=>e.sortKey-t.sortKey);let s=null;"globe"===i.projection.name&&(this.globeExtVertexArray=new ia,s=i.projection);for(const i of o){const{geometry:r,index:o,sourceLayerIndex:a}=i,l=e[o].feature;this.addFeature(i,r,o,t.availableImages,n,s),t.featureIndex.insert(l,r,o,a,this.index)}}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,us.members),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,hs.members))),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(e,t,n,i,r,o){for(const n of t)for(const t of n){const n=t.x,i=t.y;if(n<0||n>=ps||i<0||i>=ps)continue;if(o){const e=o.projectTilePoint(n,i,r),t=o.upVector(r,n,i),a=this.globeExtVertexArray;js(a,e,t),js(a,e,t),js(a,e,t),js(a,e,t)}const a=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),s=a.vertexLength;Bs(this.layoutVertexArray,n,i,-1,-1),Bs(this.layoutVertexArray,n,i,1,-1),Bs(this.layoutVertexArray,n,i,1,1),Bs(this.layoutVertexArray,n,i,-1,1),this.indexArray.emplaceBack(s,s+1,s+2),this.indexArray.emplaceBack(s,s+2,s+3),a.vertexLength+=4,a.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},i,r)}}function Ns(e,t){for(let n=0;n<e.length;n++)if(Xs(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(Xs(e,t[n]))return!0;return!!Zs(e,t)}function Us(e,t,n){return!!Xs(e,t)||!!qs(t,e,n)}function Vs(e,t){if(1===e.length)return Hs(t,e[0]);for(let n=0;n<t.length;n++){const i=t[n];for(let t=0;t<i.length;t++)if(Xs(e,i[t]))return!0}for(let n=0;n<e.length;n++)if(Hs(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(Zs(e,t[n]))return!0;return!1}function Gs(e,t,n){if(e.length>1){if(Zs(e,t))return!0;for(let i=0;i<t.length;i++)if(qs(t[i],e,n))return!0}for(let i=0;i<e.length;i++)if(qs(e[i],t,n))return!0;return!1}function Zs(e,t){if(0===e.length||0===t.length)return!1;for(let n=0;n<e.length-1;n++){const i=e[n],r=e[n+1];for(let e=0;e<t.length-1;e++)if(Ws(i,r,t[e],t[e+1]))return!0}return!1}function Ws(e,t,n,i){return G(e,n,i)!==G(t,n,i)&&G(e,t,n)!==G(e,t,i)}function qs(e,t,n){const i=n*n;if(1===t.length)return e.distSqr(t[0])<i;for(let n=1;n<t.length;n++)if($s(e,t[n-1],t[n])<i)return!0;return!1}function $s(e,t,n){const i=t.distSqr(n);if(0===i)return e.distSqr(t);const r=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/i;return e.distSqr(r<0?t:r>1?n:n.sub(t)._mult(r)._add(t))}function Hs(e,t){let n,i,r,o=!1;for(let a=0;a<e.length;a++){n=e[a];for(let e=0,a=n.length-1;e<n.length;a=e++)i=n[e],r=n[a],i.y>t.y!=r.y>t.y&&t.x<(r.x-i.x)*(t.y-i.y)/(r.y-i.y)+i.x&&(o=!o)}return o}function Xs(e,t){let n=!1;for(let i=0,r=e.length-1;i<e.length;r=i++){const o=e[i],a=e[r];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function Ys(e,t,n,i,r){for(const o of e)if(t<=o.x&&n<=o.y&&i>=o.x&&r>=o.y)return!0;const o=[new m(t,n),new m(t,r),new m(i,r),new m(i,n)];if(e.length>2)for(const t of o)if(Xs(e,t))return!0;for(let t=0;t<e.length-1;t++)if(Js(e[t],e[t+1],o))return!0;return!1}function Js(e,t,n){const i=n[0],r=n[2];if(e.x<i.x&&t.x<i.x||e.x>r.x&&t.x>r.x||e.y<i.y&&t.y<i.y||e.y>r.y&&t.y>r.y)return!1;const o=G(e,t,n[0]);return o!==G(e,t,n[1])||o!==G(e,t,n[2])||o!==G(e,t,n[3])}function Qs(e,t,n){const i=t.paint.get(e).value;return"constant"===i.kind?i.value:n.programConfigurations.get(t.id).getMaxValue(e)}function Ks(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function el(e,t,n,i,r){if(!t[0]&&!t[1])return e;const o=m.convert(t)._mult(r);"viewport"===n&&o._rotate(-i);const a=[];for(let t=0;t<e.length;t++)a.push(e[t].sub(o));return a}function tl(e,t,n,i){const r=m.convert(e)._mult(i);return"viewport"===t&&r._rotate(-n),r}zr(Fs,"CircleBucket",{omit:["layers"]});const nl=new Go({"circle-sort-key":new Uo(Je.layout_circle["circle-sort-key"])});var il={paint:new Go({"circle-radius":new Uo(Je.paint_circle["circle-radius"]),"circle-color":new Uo(Je.paint_circle["circle-color"]),"circle-blur":new Uo(Je.paint_circle["circle-blur"]),"circle-opacity":new Uo(Je.paint_circle["circle-opacity"]),"circle-translate":new No(Je.paint_circle["circle-translate"]),"circle-translate-anchor":new No(Je.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new No(Je.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new No(Je.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Uo(Je.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Uo(Je.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Uo(Je.paint_circle["circle-stroke-opacity"])}),layout:nl},rl=1e-6,ol="undefined"!=typeof Float32Array?Float32Array:Array;function al(){var e=new ol(9);return ol!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function sl(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=n[0],p=n[1],f=n[2],m=n[3],g=n[4],y=n[5],_=n[6],v=n[7],x=n[8];return e[0]=d*i+p*a+f*c,e[1]=d*r+p*s+f*u,e[2]=d*o+p*l+f*h,e[3]=m*i+g*a+y*c,e[4]=m*r+g*s+y*u,e[5]=m*o+g*l+y*h,e[6]=_*i+v*a+x*c,e[7]=_*r+v*s+x*u,e[8]=_*o+v*l+x*h,e}function ll(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function cl(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=t[9],d=t[10],p=t[11],f=t[12],m=t[13],g=t[14],y=t[15],_=n*s-i*a,v=n*l-r*a,x=n*c-o*a,b=i*l-r*s,w=i*c-o*s,T=r*c-o*l,E=u*m-h*f,S=u*g-d*f,M=u*y-p*f,I=h*g-d*m,C=h*y-p*m,k=d*y-p*g,A=_*k-v*C+x*I+b*M-w*S+T*E;return A?(e[0]=(s*k-l*C+c*I)*(A=1/A),e[1]=(r*C-i*k-o*I)*A,e[2]=(m*T-g*w+y*b)*A,e[3]=(d*w-h*T-p*b)*A,e[4]=(l*M-a*k-c*S)*A,e[5]=(n*k-r*M+o*S)*A,e[6]=(g*x-f*T-y*v)*A,e[7]=(u*T-d*x+p*v)*A,e[8]=(a*C-s*M+c*E)*A,e[9]=(i*M-n*C-o*E)*A,e[10]=(f*w-m*x+y*_)*A,e[11]=(h*x-u*w-p*_)*A,e[12]=(s*S-a*I-l*E)*A,e[13]=(n*I-i*S+r*E)*A,e[14]=(m*v-f*b-g*_)*A,e[15]=(u*b-h*v+d*_)*A,e):null}function ul(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],m=t[12],g=t[13],y=t[14],_=t[15],v=n[0],x=n[1],b=n[2],w=n[3];return e[0]=v*i+x*s+b*h+w*m,e[1]=v*r+x*l+b*d+w*g,e[2]=v*o+x*c+b*p+w*y,e[3]=v*a+x*u+b*f+w*_,e[4]=(v=n[4])*i+(x=n[5])*s+(b=n[6])*h+(w=n[7])*m,e[5]=v*r+x*l+b*d+w*g,e[6]=v*o+x*c+b*p+w*y,e[7]=v*a+x*u+b*f+w*_,e[8]=(v=n[8])*i+(x=n[9])*s+(b=n[10])*h+(w=n[11])*m,e[9]=v*r+x*l+b*d+w*g,e[10]=v*o+x*c+b*p+w*y,e[11]=v*a+x*u+b*f+w*_,e[12]=(v=n[12])*i+(x=n[13])*s+(b=n[14])*h+(w=n[15])*m,e[13]=v*r+x*l+b*d+w*g,e[14]=v*o+x*c+b*p+w*y,e[15]=v*a+x*u+b*f+w*_,e}function hl(e,t,n){var i,r,o,a,s,l,c,u,h,d,p,f,m=n[0],g=n[1],y=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*y+t[12],e[13]=t[1]*m+t[5]*g+t[9]*y+t[13],e[14]=t[2]*m+t[6]*g+t[10]*y+t[14],e[15]=t[3]*m+t[7]*g+t[11]*y+t[15]):(r=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],e[0]=i=t[0],e[1]=r,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=h,e[9]=d,e[10]=p,e[11]=f,e[12]=i*m+s*g+h*y+t[12],e[13]=r*m+l*g+d*y+t[13],e[14]=o*m+c*g+p*y+t[14],e[15]=a*m+u*g+f*y+t[15]),e}function dl(e,t,n){var i=n[0],r=n[1],o=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function pl(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*r+c*i,e[5]=a*r+u*i,e[6]=s*r+h*i,e[7]=l*r+d*i,e[8]=c*r-o*i,e[9]=u*r-a*i,e[10]=h*r-s*i,e[11]=d*r-l*i,e}function fl(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r-c*i,e[1]=a*r-u*i,e[2]=s*r-h*i,e[3]=l*r-d*i,e[8]=o*i+c*r,e[9]=a*i+u*r,e[10]=s*i+h*r,e[11]=l*i+d*r,e}function ml(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gl(e,t,n){var i,r,o,a=n[0],s=n[1],l=n[2],c=Math.hypot(a,s,l);return c<rl?null:(a*=c=1/c,s*=c,l*=c,i=Math.sin(t),r=Math.cos(t),e[0]=a*a*(o=1-r)+r,e[1]=s*a*o+l*i,e[2]=l*a*o-s*i,e[3]=0,e[4]=a*s*o-l*i,e[5]=s*s*o+r,e[6]=l*s*o+a*i,e[7]=0,e[8]=a*l*o+s*i,e[9]=s*l*o-a*i,e[10]=l*l*o+r,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var yl=ul;function _l(){var e=new ol(3);return ol!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function vl(e){var t=new ol(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function xl(e){return Math.hypot(e[0],e[1],e[2])}function bl(e,t,n){var i=new ol(3);return i[0]=e,i[1]=t,i[2]=n,i}function wl(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function Tl(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function El(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function Sl(e,t,n){return e[0]=Math.min(t[0],n[0]),e[1]=Math.min(t[1],n[1]),e[2]=Math.min(t[2],n[2]),e}function Ml(e,t,n){return e[0]=Math.max(t[0],n[0]),e[1]=Math.max(t[1],n[1]),e[2]=Math.max(t[2],n[2]),e}function Il(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function Cl(e,t,n,i){return e[0]=t[0]+n[0]*i,e[1]=t[1]+n[1]*i,e[2]=t[2]+n[2]*i,e}function kl(e,t){var n=t[0],i=t[1],r=t[2],o=n*n+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function Al(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Pl(e,t,n){var i=t[0],r=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=r*l-o*s,e[1]=o*a-i*l,e[2]=i*s-r*a,e}function zl(e,t,n){var i=t[0],r=t[1],o=t[2],a=n[3]*i+n[7]*r+n[11]*o+n[15];return e[0]=(n[0]*i+n[4]*r+n[8]*o+n[12])/(a=a||1),e[1]=(n[1]*i+n[5]*r+n[9]*o+n[13])/a,e[2]=(n[2]*i+n[6]*r+n[10]*o+n[14])/a,e}function Dl(e,t,n){var i=n[0],r=n[1],o=n[2],a=t[0],s=t[1],l=t[2],c=r*l-o*s,u=o*a-i*l,h=i*s-r*a,d=r*h-o*u,p=o*c-i*h,f=i*u-r*c,m=2*n[3];return u*=m,h*=m,p*=2,f*=2,e[0]=a+(c*=m)+(d*=2),e[1]=s+u+p,e[2]=l+h+f,e}var Ll,Ol=Tl,Rl=El,Bl=xl;function jl(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e}function Fl(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n*n+i*i+r*r+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=i*a,e[2]=r*a,e[3]=o*a,e}function Nl(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3];return e[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*a,e[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*a,e[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*a,e[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*a,e}function Ul(){var e=new ol(4);return ol!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Vl(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Gl(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=i*l+a*s,e[1]=r*l+o*s,e[2]=o*l-r*s,e[3]=a*l-i*s,e}function Zl(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=i*l-o*s,e[1]=r*l+a*s,e[2]=o*l+i*s,e[3]=a*l-r*s,e}_l(),Ll=new ol(4),ol!=Float32Array&&(Ll[0]=0,Ll[1]=0,Ll[2]=0,Ll[3]=0);var Wl=Fl;_l(),bl(1,0,0),bl(0,1,0),Ul(),Ul(),al();class ql{constructor(e,t){this.pos=e,this.dir=t}intersectsPlane(e,t,n){const i=Al(t,this.dir);if(Math.abs(i)<1e-6)return!1;const r=((e[0]-this.pos[0])*t[0]+(e[1]-this.pos[1])*t[1]+(e[2]-this.pos[2])*t[2])/i;return n[0]=this.pos[0]+this.dir[0]*r,n[1]=this.pos[1]+this.dir[1]*r,n[2]=this.pos[2]+this.dir[2]*r,!0}closestPointOnSphere(e,t,n){if(function(e,t){var n=e[0],i=e[1],r=e[2],o=t[0],a=t[1],s=t[2];return Math.abs(n-o)<=rl*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-a)<=rl*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-s)<=rl*Math.max(1,Math.abs(r),Math.abs(s))}(this.pos,e)||0===t)return n[0]=n[1]=n[2]=0,!1;const[i,r,o]=this.dir,a=this.pos[0]-e[0],s=this.pos[1]-e[1],l=this.pos[2]-e[2],c=i*i+r*r+o*o,u=2*(a*i+s*r+l*o),h=u*u-4*c*(a*a+s*s+l*l-t*t);if(h<0){const e=Math.max(-u/2,0),c=a+i*e,h=s+r*e,d=l+o*e,p=Math.hypot(c,h,d);return n[0]=c*t/p,n[1]=h*t/p,n[2]=d*t/p,!1}{const e=(-u-Math.sqrt(h))/(2*c);if(e<0){const e=Math.hypot(a,s,l);return n[0]=a*t/e,n[1]=s*t/e,n[2]=l*t/e,!1}return n[0]=a+i*e,n[1]=s+r*e,n[2]=l+o*e,!0}}}class $l{constructor(e,t,n,i,r){this.TL=e,this.TR=t,this.BR=n,this.BL=i,this.horizon=r}static fromInvProjectionMatrix(e,t,n){const i=[-1,1,1],r=[1,1,1],o=[1,-1,1],a=[-1,-1,1],s=zl(i,i,e),l=zl(r,r,e),c=zl(o,o,e),u=zl(a,a,e);return new $l(s,l,c,u,t/n)}}class Hl{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(e,t,n,i){const r=Math.pow(2,n),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(n=>{const o=Nl([],n,e),a=1/o[3]/t*r;return function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e}(o,o,[a,a,i?1/o[3]:a,a])}),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(e=>{const t=kl([],Pl([],Ol([],o[e[0]],o[e[1]]),Ol([],o[e[2]],o[e[1]]))),n=-Al(t,o[e[1]]);return t.concat(n)});return new Hl(o,a)}}class Xl{static fromPoints(e){const t=[1/0,1/0,1/0],n=[-1/0,-1/0,-1/0];for(const i of e)Sl(t,t,i),Ml(n,n,i);return new Xl(t,n)}static applyTransform(e,t){const n=e.getCorners();for(let e=0;e<n.length;++e)zl(n[e],n[e],t);return Xl.fromPoints(n)}constructor(e,t){this.min=e,this.max=t,this.center=Il([],wl([],this.min,this.max),.5)}quadrant(e){const t=[e%2==0,e<2],n=vl(this.min),i=vl(this.max);for(let e=0;e<t.length;e++)n[e]=t[e]?this.min[e]:this.center[e],i[e]=t[e]?this.center[e]:this.max[e];return i[2]=this.max[2],new Xl(n,i)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}distanceZ(e){return Math.max(Math.min(this.max[2],e[2]),this.min[2])-e[2]}getCorners(){const e=this.min,t=this.max;return[[e[0],e[1],e[2]],[t[0],e[1],e[2]],[t[0],t[1],e[2]],[e[0],t[1],e[2]],[e[0],e[1],t[2]],[t[0],e[1],t[2]],[t[0],t[1],t[2]],[e[0],t[1],t[2]]]}intersects(e){const t=this.getCorners();let n=!0;for(let i=0;i<e.planes.length;i++){const r=e.planes[i];let o=0;for(let e=0;e<t.length;e++)o+=Al(r,t[e])+r[3]>=0;if(0===o)return 0;o!==t.length&&(n=!1)}if(n)return 2;for(let t=0;t<3;t++){let n=Number.MAX_VALUE,i=-Number.MAX_VALUE;for(let r=0;r<e.points.length;r++){const o=e.points[r][t]-this.min[t];n=Math.min(n,o),i=Math.max(i,o)}if(i<0||n>this.max[t]-this.min[t])return 0}return 1}}function Yl(e,t,n,i,r,o,a,s,l){if(o&&e.queryGeometry.isAboveHorizon)return!1;o&&(l*=e.pixelToTileUnitsFactor);const c=e.tileID.canonical,u=n.projection.upVectorScale(c,n.center.lat,n.worldSize).metersToTile;for(const h of t)for(const t of h){const h=t.add(s),d=r&&n.elevation?n.elevation.exaggeration()*r.getElevationAt(h.x,h.y,!0):0,p=n.projection.projectTilePoint(h.x,h.y,c);if(d>0){const e=n.projection.upVector(c,h.x,h.y);p.x+=e[0]*u*d,p.y+=e[1]*u*d,p.z+=e[2]*u*d}const f=o?h:Jl(p.x,p.y,p.z,i),m=o?e.tilespaceRays.map(e=>ec(e,d)):e.queryGeometry.screenGeometry,g=Nl([],[p.x,p.y,p.z,1],i);if(!a&&o?l*=g[3]/n.cameraToCenterDistance:a&&!o&&(l*=n.cameraToCenterDistance/g[3]),o){const e=Ts((t.y/ps+c.y)/(1<<c.z));l/=n.projection.pixelsPerMeter(e,1)/bs(1,e)}if(Us(m,f,l))return!0}return!1}function Jl(e,t,n,i){const r=Nl([],[e,t,n,1],i);return new m(r[0]/r[3],r[1]/r[3])}const Ql=bl(0,0,0),Kl=bl(0,0,1);function ec(e,t){const n=_l();return Ql[2]=t,e.intersectsPlane(Ql,Kl,n),new m(n[0],n[1])}class tc extends Fs{}function nc(e,{width:t,height:n},i,r){if(r){if(r instanceof Uint8ClampedArray)r=new Uint8Array(r.buffer);else if(r.length!==t*n*i)throw new RangeError("mismatched image size")}else r=new Uint8Array(t*n*i);return e.width=t,e.height=n,e.data=r,e}function ic(e,t,n){const{width:i,height:r}=t;i===e.width&&r===e.height||(rc(e,t,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,i),height:Math.min(e.height,r)},n),e.width=i,e.height=r,e.data=t.data)}function rc(e,t,n,i,r,o){if(0===r.width||0===r.height)return t;if(r.width>e.width||r.height>e.height||n.x>e.width-r.width||n.y>e.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>t.width||r.height>t.height||i.x>t.width-r.width||i.y>t.height-r.height)throw new RangeError("out of range destination coordinates for image copy");const a=e.data,s=t.data;for(let l=0;l<r.height;l++){const c=((n.y+l)*e.width+n.x)*o,u=((i.y+l)*t.width+i.x)*o;for(let e=0;e<r.width*o;e++)s[u+e]=a[c+e]}return t}zr(tc,"HeatmapBucket",{omit:["layers"]});class oc{constructor(e,t){nc(this,e,1,t)}resize(e){ic(this,new oc(e),1)}clone(){return new oc({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,i,r){rc(e,t,n,i,r,1)}}class ac{constructor(e,t){nc(this,e,4,t)}resize(e){ic(this,new ac(e),4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new ac({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,i,r){rc(e,t,n,i,r,4)}}zr(oc,"AlphaImage"),zr(ac,"RGBAImage");var sc={paint:new Go({"heatmap-radius":new Uo(Je.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Uo(Je.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new No(Je.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Vo(Je.paint_heatmap["heatmap-color"]),"heatmap-opacity":new No(Je.paint_heatmap["heatmap-opacity"])})};function lc(e){const t={},n=e.resolution||256,i=e.clips?e.clips.length:1,r=e.image||new ac({width:n,height:i}),o=(n,i,o)=>{t[e.evaluationKey]=o;const a=e.expression.evaluate(t);r.data[n+i+0]=Math.floor(255*a.r/a.a),r.data[n+i+1]=Math.floor(255*a.g/a.a),r.data[n+i+2]=Math.floor(255*a.b/a.a),r.data[n+i+3]=Math.floor(255*a.a)};if(e.clips)for(let t=0,r=0;t<i;++t,r+=4*n)for(let i=0,a=0;i<n;i++,a+=4){const s=i/(n-1),{start:l,end:c}=e.clips[t];o(r,a,l*(1-s)+c*s)}else for(let e=0,t=0;e<n;e++,t+=4)o(0,t,e/(n-1));return r}var cc={paint:new Go({"hillshade-illumination-direction":new No(Je.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new No(Je.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new No(Je.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new No(Je.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new No(Je.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new No(Je.paint_hillshade["hillshade-accent-color"])})};const uc=Ho([{name:"a_pos",components:2,type:"Int16"}],4),{members:hc}=uc;var dc={exports:{}};function pc(e,t,n){n=n||2;var i,r,o,a,s,l,c,u=t&&t.length,h=u?t[0]*n:e.length,d=fc(e,0,h,n,!0),p=[];if(!d||d.next===d.prev)return p;if(u&&(d=function(e,t,n,i){var r,o,a,s=[];for(r=0,o=t.length;r<o;r++)(a=fc(e,t[r]*i,r<o-1?t[r+1]*i:e.length,i,!1))===a.next&&(a.steiner=!0),s.push(Sc(a));for(s.sort(bc),r=0;r<s.length;r++)n=wc(s[r],n);return n}(e,t,d,n)),e.length>80*n){i=o=e[0],r=a=e[1];for(var f=n;f<h;f+=n)(s=e[f])<i&&(i=s),(l=e[f+1])<r&&(r=l),s>o&&(o=s),l>a&&(a=l);c=0!==(c=Math.max(o-i,a-r))?32767/c:0}return gc(d,p,n,i,r,c,0),p}function fc(e,t,n,i,r){var o,a;if(r===jc(e,t,n,i)>0)for(o=t;o<n;o+=i)a=Oc(o,e[o],e[o+1],a);else for(o=n-i;o>=t;o-=i)a=Oc(o,e[o],e[o+1],a);return a&&kc(a,a.next)&&(Rc(a),a=a.next),a}function mc(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!kc(i,i.next)&&0!==Cc(i.prev,i,i.next))i=i.next;else{if(Rc(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function gc(e,t,n,i,r,o,a){if(e){!a&&o&&function(e,t,n,i){var r=e;do{0===r.z&&(r.z=Ec(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,i=n,s=0,t=0;t<c&&(s++,i=i.nextZ);t++);for(l=c;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(a>1)}(r)}(e,i,r,o);for(var s,l,c=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?_c(e,i,r,o):yc(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Rc(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?gc(e=vc(mc(e),t,n),t,n,i,r,o,2):2===a&&xc(e,t,n,i,r,o):gc(mc(e),t,n,i,r,o,1);break}}}function yc(e){var t=e.prev,n=e,i=e.next;if(Cc(t,n,i)>=0)return!1;for(var r=t.x,o=n.x,a=i.x,s=t.y,l=n.y,c=i.y,u=r<o?r<a?r:a:o<a?o:a,h=s<l?s<c?s:c:l<c?l:c,d=r>o?r>a?r:a:o>a?o:a,p=s>l?s>c?s:c:l>c?l:c,f=i.next;f!==t;){if(f.x>=u&&f.x<=d&&f.y>=h&&f.y<=p&&Mc(r,s,o,l,a,c,f.x,f.y)&&Cc(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function _c(e,t,n,i){var r=e.prev,o=e,a=e.next;if(Cc(r,o,a)>=0)return!1;for(var s=r.x,l=o.x,c=a.x,u=r.y,h=o.y,d=a.y,p=s<l?s<c?s:c:l<c?l:c,f=u<h?u<d?u:d:h<d?h:d,m=s>l?s>c?s:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,y=Ec(p,f,t,n,i),_=Ec(m,g,t,n,i),v=e.prevZ,x=e.nextZ;v&&v.z>=y&&x&&x.z<=_;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==r&&v!==a&&Mc(s,u,l,h,c,d,v.x,v.y)&&Cc(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==r&&x!==a&&Mc(s,u,l,h,c,d,x.x,x.y)&&Cc(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;v&&v.z>=y;){if(v.x>=p&&v.x<=m&&v.y>=f&&v.y<=g&&v!==r&&v!==a&&Mc(s,u,l,h,c,d,v.x,v.y)&&Cc(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;x&&x.z<=_;){if(x.x>=p&&x.x<=m&&x.y>=f&&x.y<=g&&x!==r&&x!==a&&Mc(s,u,l,h,c,d,x.x,x.y)&&Cc(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function vc(e,t,n){var i=e;do{var r=i.prev,o=i.next.next;!kc(r,o)&&Ac(r,i,i.next,o)&&Dc(r,o)&&Dc(o,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(o.i/n|0),Rc(i),Rc(i.next),i=e=o),i=i.next}while(i!==e);return mc(i)}function xc(e,t,n,i,r,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Ic(a,s)){var l=Lc(a,s);return a=mc(a,a.next),l=mc(l,l.next),gc(a,t,n,i,r,o,0),void gc(l,t,n,i,r,o,0)}s=s.next}a=a.next}while(a!==e)}function bc(e,t){return e.x-t.x}function wc(e,t){var n=function(e,t){var n,i=t,r=e.x,o=e.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a&&(a=s,n=i.x<i.next.x?i:i.next,s===r))return n}i=i.next}while(i!==t);if(!n)return null;var l,c=n,u=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=u&&r!==i.x&&Mc(o<h?r:a,o,u,h,o<h?a:r,o,i.x,i.y)&&(l=Math.abs(o-i.y)/(r-i.x),Dc(i,e)&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&Tc(n,i)))&&(n=i,d=l)),i=i.next}while(i!==c);return n}(e,t);if(!n)return t;var i=Lc(n,e);return mc(i,i.next),mc(n,n.next)}function Tc(e,t){return Cc(e.prev,e,t.prev)<0&&Cc(t.next,e,e.next)<0}function Ec(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Sc(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Mc(e,t,n,i,r,o,a,s){return(r-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(i-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(r-a)*(i-s)}function Ic(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ac(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Dc(e,t)&&Dc(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(Cc(e.prev,e,t.prev)||Cc(e,t.prev,t))||kc(e,t)&&Cc(e.prev,e,e.next)>0&&Cc(t.prev,t,t.next)>0)}function Cc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function kc(e,t){return e.x===t.x&&e.y===t.y}function Ac(e,t,n,i){var r=zc(Cc(e,t,n)),o=zc(Cc(e,t,i)),a=zc(Cc(n,i,e)),s=zc(Cc(n,i,t));return r!==o&&a!==s||!(0!==r||!Pc(e,n,t))||!(0!==o||!Pc(e,i,t))||!(0!==a||!Pc(n,e,i))||!(0!==s||!Pc(n,t,i))}function Pc(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function zc(e){return e>0?1:e<0?-1:0}function Dc(e,t){return Cc(e.prev,e,e.next)<0?Cc(e,t,e.next)>=0&&Cc(e,e.prev,t)>=0:Cc(e,t,e.prev)<0||Cc(e,e.next,t)<0}function Lc(e,t){var n=new Bc(e.i,e.x,e.y),i=new Bc(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Oc(e,t,n,i){var r=new Bc(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Rc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Bc(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function jc(e,t,n,i){for(var r=0,o=t,a=n-i;o<n;o+=i)r+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return r}function Fc(e,t,n,i,r){!function e(t,n,i,r,o){for(;r>i;){if(r-i>600){var a=r-i+1,s=n-i+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(s-a/2<0?-1:1);e(t,n,Math.max(i,Math.floor(n-s*c/a+u)),Math.min(r,Math.floor(n+(a-s)*c/a+u)),o)}var h=t[n],d=i,p=r;for(Nc(t,i,n),o(t[r],h)>0&&Nc(t,i,r);d<p;){for(Nc(t,d,p),d++,p--;o(t[d],h)<0;)d++;for(;o(t[p],h)>0;)p--}0===o(t[i],h)?Nc(t,i,p):Nc(t,++p,r),p<=n&&(i=p+1),n<=p&&(r=p-1)}}(e,t,n||0,i||e.length-1,r||Uc)}function Nc(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function Uc(e,t){return e<t?-1:e>t?1:0}function Vc(e,t){const n=e.length;if(n<=1)return[e];const i=[];let r,o;for(let t=0;t<n;t++){const n=Z(e[t]);0!==n&&(e[t].area=Math.abs(n),void 0===o&&(o=n<0),o===n<0?(r&&i.push(r),r=[e[t]]):r.push(e[t]))}if(r&&i.push(r),t>1)for(let e=0;e<i.length;e++)i[e].length<=t||(Fc(i[e],t,1,i[e].length-1,Gc),i[e]=i[e].slice(0,t));return i}function Gc(e,t){return t.area-e.area}function Zc(e,t,n){const i=n.patternDependencies;let r=!1;for(const n of t){const t=n.paint.get(e+"-pattern");t.isConstant()||(r=!0);const o=t.constantOr(null);o&&(r=!0,i[o]=!0)}return r}function Wc(e,t,n,i,r){const o=r.patternDependencies;for(const a of t){const t=a.paint.get(e+"-pattern").value;if("constant"!==t.kind){let e=t.evaluate({zoom:i},n,{},r.availableImages);e=e&&e.name?e.name:e,o[e]=!0,n.patterns[a.id]=e}}return n}dc.exports=pc,dc.exports.default=pc,pc.deviation=function(e,t,n,i){var r=t&&t.length,o=Math.abs(jc(e,0,r?t[0]*n:e.length,n));if(r)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(jc(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n));var l=0;for(a=0;a<i.length;a+=3){var c=i[a]*n,u=i[a+1]*n,h=i[a+2]*n;l+=Math.abs((e[c]-e[h])*(e[u+1]-e[c+1])-(e[c]-e[u])*(e[h+1]-e[c+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},pc.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},i=0,r=0;r<e.length;r++){for(var o=0;o<e[r].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[r][o][a]);r>0&&n.holes.push(i+=e[r-1].length)}return n};class qc{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Yo,this.indexArray=new da,this.indexArray2=new _a,this.programConfigurations=new ns(e.layers,e.zoom),this.segments=new ds,this.segments2=new ds,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.projection=e.projection}populate(e,t,n,i){this.hasPattern=Zc("fill",this.layers,t);const r=this.layers[0].layout.get("fill-sort-key"),o=[];for(const{feature:a,id:s,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,u=Rs(a,e);if(!this.layers[0]._featureFilter.filter(new Po(this.zoom),u,n))continue;const h=r?r.evaluate(u,{},n,t.availableImages):void 0,d={id:s,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:e?u.geometry:Os(a,n,i),patterns:{},sortKey:h};o.push(d)}r&&o.sort((e,t)=>e.sortKey-t.sortKey);for(const i of o){const{geometry:r,index:o,sourceLayerIndex:a}=i;if(this.hasPattern){const e=Wc("fill",this.layers,i,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(i,r,o,n,{},t.availableImages);t.featureIndex.insert(e[o].feature,r,o,a,this.index)}}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}addFeatures(e,t,n,i,r){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,hc),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,n,i,r,o=[]){for(const e of Vc(t,500)){let t=0;for(const n of e)t+=n.length;const n=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),i=n.vertexLength,r=[],o=[];for(const t of e){if(0===t.length)continue;t!==e[0]&&o.push(r.length/2);const n=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),i=n.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(i+t.length-1,i),r.push(t[0].x),r.push(t[0].y);for(let e=1;e<t.length;e++)this.layoutVertexArray.emplaceBack(t[e].x,t[e].y),this.indexArray2.emplaceBack(i+e-1,i+e),r.push(t[e].x),r.push(t[e].y);n.vertexLength+=t.length,n.primitiveLength+=t.length}const a=dc.exports(r,o);for(let e=0;e<a.length;e+=3)this.indexArray.emplaceBack(i+a[e],i+a[e+1],i+a[e+2]);n.vertexLength+=t,n.primitiveLength+=a.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,o,i)}}zr(qc,"FillBucket",{omit:["layers","patternFeatures"]});const $c=new Go({"fill-sort-key":new Uo(Je.layout_fill["fill-sort-key"])});var Hc={paint:new Go({"fill-antialias":new No(Je.paint_fill["fill-antialias"]),"fill-opacity":new Uo(Je.paint_fill["fill-opacity"]),"fill-color":new Uo(Je.paint_fill["fill-color"]),"fill-outline-color":new Uo(Je.paint_fill["fill-outline-color"]),"fill-translate":new No(Je.paint_fill["fill-translate"]),"fill-translate-anchor":new No(Je.paint_fill["fill-translate-anchor"]),"fill-pattern":new Uo(Je.paint_fill["fill-pattern"])}),layout:$c};const Xc=Ho([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),Yc=Ho([{name:"a_centroid_pos",components:2,type:"Uint16"}]),Jc=Ho([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:Qc}=Xc;var Kc={},eu=m,tu=nu;function nu(e,t,n,i,r){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=i,this._values=r,e.readFields(iu,this,t)}function iu(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var i=t._keys[e.readVarint()],r=t._values[e.readVarint()];t.properties[i]=r}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function ru(e){for(var t,n,i=0,r=0,o=e.length,a=o-1;r<o;a=r++)i+=((n=e[a]).x-(t=e[r]).x)*(t.y+n.y);return i}nu.types=["Unknown","Point","LineString","Polygon"],nu.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,i=1,r=0,o=0,a=0,s=[];e.pos<n;){if(r<=0){var l=e.readVarint();i=7&l,r=l>>3}if(r--,1===i||2===i)o+=e.readSVarint(),a+=e.readSVarint(),1===i&&(t&&s.push(t),t=[]),t.push(new eu(o,a));else{if(7!==i)throw new Error("unknown command "+i);t&&t.push(t[0].clone())}}return t&&s.push(t),s},nu.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,i=0,r=0,o=0,a=1/0,s=-1/0,l=1/0,c=-1/0;e.pos<t;){if(i<=0){var u=e.readVarint();n=7&u,i=u>>3}if(i--,1===n||2===n)(r+=e.readSVarint())<a&&(a=r),r>s&&(s=r),(o+=e.readSVarint())<l&&(l=o),o>c&&(c=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,c]},nu.prototype.toGeoJSON=function(e,t,n){var i,r,o=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),c=nu.types[this.type];function u(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(i=0;i<l.length;i++)h[i]=l[i][0];u(l=h);break;case 2:for(i=0;i<l.length;i++)u(l[i]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,i,r=[],o=0;o<t;o++){var a=ru(e[o]);0!==a&&(void 0===i&&(i=a<0),i===a<0?(n&&r.push(n),n=[e[o]]):n.push(e[o]))}return n&&r.push(n),r}(l),i=0;i<l.length;i++)for(r=0;r<l[i].length;r++)u(l[i][r])}1===l.length?l=l[0]:c="Multi"+c;var d={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var ou=tu,au=su;function su(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(lu,this,t),this.length=this._features.length}function lu(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var i=e.readVarint()>>3;t=1===i?e.readString():2===i?e.readFloat():3===i?e.readDouble():4===i?e.readVarint64():5===i?e.readVarint():6===i?e.readSVarint():7===i?e.readBoolean():null}return t}(n))}su.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new ou(this._pbf,t,this.extent,this._keys,this._values)};var cu=au;function uu(e,t,n){if(3===e){var i=new cu(n,n.readVarint()+n.pos);i.length&&(t[i.name]=i)}}var hu=Kc.VectorTile=function(e,t){this.layers=e.readFields(uu,{},t)},du=Kc.VectorTileFeature=tu;function pu(e,t,n,i){const r=[],o=0===i?(e,t,n,i,r,o)=>{e.push(new m(o,n+(o-t)/(i-t)*(r-n)))}:(e,t,n,i,r,o)=>{e.push(new m(t+(o-n)/(r-n)*(i-t),o))};for(const a of e){const e=[];for(const r of a){if(r.length<=2)continue;const a=[];for(let e=0;e<r.length-1;e++){const s=r[e].x,l=r[e].y,c=r[e+1].x,u=r[e+1].y,h=0===i?s:l,d=0===i?c:u;h<t?d>t&&o(a,s,l,c,u,t):h>n?d<n&&o(a,s,l,c,u,n):a.push(r[e]),d<t&&h>=t&&o(a,s,l,c,u,t),d>n&&h<=n&&o(a,s,l,c,u,n)}let s=r[r.length-1];const l=0===i?s.x:s.y;l>=t&&l<=n&&a.push(s),a.length&&(s=a[a.length-1],a[0].x===s.x&&a[0].y===s.y||a.push(a[0]),e.push(a))}e.length&&r.push(e)}return r}Kc.VectorTileLayer=au;const fu=du.types,mu=Math.pow(2,13);function gu(e,t,n,i,r,o,a,s){e.emplaceBack((t<<1)+a,(n<<1)+o,(Math.floor(i*mu)<<1)+r,Math.round(s))}function yu(e,t,n){const i=16384;e.emplaceBack(t.x,t.y,t.z,n[0]*i,n[1]*i,n[2]*i)}class _u{constructor(){this.acc=new m(0,0),this.polyCount=[]}startRing(e){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new m(e.x,e.y),this.max=new m(e.x,e.y))}append(e,t){this.currentPolyCount.edges++,this.acc._add(e);const n=this.min,i=this.max;e.x<n.x?n.x=e.x:e.x>i.x&&(i.x=e.x),e.y<n.y?n.y=e.y:e.y>i.y&&(i.y=e.y),((0===e.x||e.x===ps)&&e.x===t.x)!=((0===e.y||e.y===ps)&&e.y===t.y)&&this.processBorderOverlap(e,t),t.x<0!=e.x<0&&this.addBorderIntersection(0,Cn(t.y,e.y,(0-t.x)/(e.x-t.x))),t.x>ps!=e.x>ps&&this.addBorderIntersection(1,Cn(t.y,e.y,(ps-t.x)/(e.x-t.x))),t.y<0!=e.y<0&&this.addBorderIntersection(2,Cn(t.x,e.x,(0-t.y)/(e.y-t.y))),t.y>ps!=e.y>ps&&this.addBorderIntersection(3,Cn(t.x,e.x,(ps-t.y)/(e.y-t.y)))}addBorderIntersection(e,t){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const n=this.borders[e];t<n[0]&&(n[0]=t),t>n[1]&&(n[1]=t)}processBorderOverlap(e,t){if(e.x===t.x){if(e.y===t.y)return;const n=0===e.x?0:1;this.addBorderIntersection(n,t.y),this.addBorderIntersection(n,e.y)}else{const n=0===e.y?2:3;this.addBorderIntersection(n,t.x),this.addBorderIntersection(n,e.x)}}centroid(){const e=this.polyCount.reduce((e,t)=>e+t.edges,0);return 0!==e?this.acc.div(e)._round():new m(0,0)}span(){return new m(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((e,t)=>e+ +(t[0]!==Number.MAX_VALUE),0)}}class vu{constructor(e){this.zoom=e.zoom,this.canonical=e.canonical,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=e.projection,this.layoutVertexArray=new Qo,this.centroidVertexArray=new Pa,this.indexArray=new da,this.programConfigurations=new ns(e.layers,e.zoom),this.segments=new ds,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.enableTerrain=e.enableTerrain}populate(e,t,n,i){this.features=[],this.hasPattern=Zc("fill-extrusion",this.layers,t),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(e){const t=Math.exp(Math.PI*(1-e.y/(1<<e.z)*2));return 80150034*t/(t*t+1)/ps/(1<<e.z)}(n),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:r,id:o,index:a,sourceLayerIndex:s}of e){const e=this.layers[0]._featureFilter.needGeometry,l=Rs(r,e);if(!this.layers[0]._featureFilter.filter(new Po(this.zoom),l,n))continue;const c={id:o,sourceLayerIndex:s,index:a,geometry:e?l.geometry:Os(r,n,i),properties:r.properties,type:r.type,patterns:{}},u=this.layoutVertexArray.length;this.hasPattern?this.features.push(Wc("fill-extrusion",this.layers,c,this.zoom,t)):this.addFeature(c,c.geometry,a,n,{},t.availableImages,i),t.featureIndex.insert(r,c.geometry,a,s,this.index,u)}this.sortBorders()}addFeatures(e,t,n,i,r){for(const e of this.features){const{geometry:o}=e;this.addFeature(e,o,e.index,t,n,i,r)}this.sortBorders()}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Qc),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=e.createVertexBuffer(this.layoutVertexExtArray,Jc.members,!0))),this.programConfigurations.upload(e),this.uploaded=!0}uploadCentroid(e){0!==this.centroidVertexArray.length&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Yc.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,i,r,o,a){const s=[new m(0,0),new m(ps,ps)],l=a.projection,c="globe"===l.name,u=this.enableTerrain&&!c?new _u:null,h="Polygon"===fu[e.type];c&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new ia);const d=Vc(t,500);for(let e=d.length-1;e>=0;e--){const t=d[e];(0===t.length||(p=t[0]).every(e=>e.x<=0)||p.every(e=>e.x>=ps)||p.every(e=>e.y<=0)||p.every(e=>e.y>=ps))&&d.splice(e,1)}var p;let f;if(c)f=Iu(d,s,i);else{f=[];for(const e of d)f.push({polygon:e,bounds:s})}const g=h?this.edgeRadius:0;for(const{polygon:e,bounds:t}of f){let n=0,r=0;for(const t of e)h&&!t[0].equals(t[t.length-1])&&t.push(t[0]),r+=h?t.length-1:t.length;const o=this.segments.prepareSegment((h?5:4)*r,this.layoutVertexArray,this.indexArray);if(h){const t=[],r=[];n=o.vertexLength;for(const n of e){let a,s;n.length&&n!==e[0]&&r.push(t.length/2),a=n[1].sub(n[0])._perp()._unit();for(let e=1;e<n.length;e++){const r=n[e],u=n[e===n.length-1?1:e+1];let{x:h,y:d}=r;if(g){s=u.sub(r)._perp()._unit();const e=a.add(s)._unit(),t=g*Math.min(4,1/(a.x*e.x+a.y*e.y));h+=t*e.x,d+=t*e.y,a=s}gu(this.layoutVertexArray,h,d,0,0,1,1,0),o.vertexLength++,t.push(r.x,r.y),c&&yu(this.layoutVertexExtArray,l.projectTilePoint(h,d,i),l.upVector(i,h,d))}}const a=dc.exports(t,r);for(let e=0;e<a.length;e+=3)this.indexArray.emplaceBack(n+a[e],n+a[e+2],n+a[e+1]),o.primitiveLength++}for(const r of e){u&&r.length&&u.startRing(r[0]);let e,a,s,d=r.length>4&&Eu(r[r.length-2],r[0],r[1]),p=g?bu(r[r.length-2],r[0],r[1],g):0;a=r[1].sub(r[0])._perp()._unit();let f=!0;for(let m=1,y=0;m<r.length;m++){let _=r[m-1],v=r[m];const x=r[m===r.length-1?1:m+1];if(u&&h&&u.currentPolyCount.top++,Tu(v,_,t)){g&&(a=x.sub(v)._perp()._unit(),f=!f);continue}u&&u.append(v,_);const b=v.sub(_)._perp(),w=b.x/(Math.abs(b.x)+Math.abs(b.y)),T=b.y>0?1:0,E=_.dist(v);if(y+E>32768&&(y=0),g){s=x.sub(v)._perp()._unit();let e=wu(_,v,x,xu(a,s),g);isNaN(e)&&(e=0);const t=v.sub(_)._unit();_=_.add(t.mult(p))._round(),v=v.add(t.mult(-e))._round(),p=e,a=s}const S=o.vertexLength,M=r.length>4&&Eu(_,v,x);let I=Su(y,d,f);if(gu(this.layoutVertexArray,_.x,_.y,w,T,0,0,I),gu(this.layoutVertexArray,_.x,_.y,w,T,0,1,I),y+=E,I=Su(y,M,!f),d=M,gu(this.layoutVertexArray,v.x,v.y,w,T,0,0,I),gu(this.layoutVertexArray,v.x,v.y,w,T,0,1,I),o.vertexLength+=4,this.indexArray.emplaceBack(S+0,S+1,S+2),this.indexArray.emplaceBack(S+1,S+3,S+2),o.primitiveLength+=2,g){const i=n+(1===m?r.length-2:m-2),a=1===m?n:i+1;if(this.indexArray.emplaceBack(S+1,i,S+3),this.indexArray.emplaceBack(i,a,S+3),o.primitiveLength+=2,void 0===e&&(e=S),!Tu(x,r[m],t)){const t=m===r.length-1?e:o.vertexLength;this.indexArray.emplaceBack(S+2,S+3,t),this.indexArray.emplaceBack(S+3,t+1,t),this.indexArray.emplaceBack(S+3,a,t+1),o.primitiveLength+=3}f=!f}if(c){const e=this.layoutVertexExtArray,t=l.projectTilePoint(_.x,_.y,i),n=l.projectTilePoint(v.x,v.y,i),r=l.upVector(i,_.x,_.y),o=l.upVector(i,v.x,v.y);yu(e,t,r),yu(e,t,r),yu(e,n,o),yu(e,n,o)}}h&&(n+=r.length-1)}}if(u&&u.polyCount.length>0){if(u.borders){u.vertexArrayOffset=this.centroidVertexArray.length;const e=u.borders,t=this.featuresOnBorder.push(u)-1;for(let n=0;n<4;n++)e[n][0]!==Number.MAX_VALUE&&this.borders[n].push(t)}this.encodeCentroid(u.borders?void 0:u.centroid(),u)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,o,i)}sortBorders(){for(let e=0;e<4;e++)this.borders[e].sort((t,n)=>this.featuresOnBorder[t].borders[e][0]-this.featuresOnBorder[n].borders[e][0])}encodeCentroid(e,t,n=!0){let i,r;if(e)if(0!==e.y){const n=t.span()._mult(this.tileToMeter);i=(Math.max(e.x,1)<<3)+Math.min(7,Math.round(n.x/10)),r=(Math.max(e.y,1)<<3)+Math.min(7,Math.round(n.y/10))}else i=Math.ceil(7*(e.x+450)),r=0;else i=0,r=+n;let o=n?this.centroidVertexArray.length:t.vertexArrayOffset;for(const e of t.polyCount){n&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*e.edges+e.top);for(let t=0;t<e.top;t++)this.centroidVertexArray.emplace(o++,i,r);for(let t=0;t<2*e.edges;t++)this.centroidVertexArray.emplace(o++,0,r),this.centroidVertexArray.emplace(o++,i,r)}}}function xu(e,t){const n=e.add(t)._unit();return e.x*n.x+e.y*n.y}function bu(e,t,n,i){const r=t.sub(e)._perp()._unit(),o=n.sub(t)._perp()._unit();return wu(e,t,n,xu(r,o),i)}function wu(e,t,n,i,r){const o=Math.sqrt(1-i*i);return Math.min(e.dist(t)/3,t.dist(n)/3,r*o/i)}function Tu(e,t,n){return e.x<n[0].x&&t.x<n[0].x||e.x>n[1].x&&t.x>n[1].x||e.y<n[0].y&&t.y<n[0].y||e.y>n[1].y&&t.y>n[1].y}function Eu(e,t,n){if(e.x<0||e.x>=ps||t.x<0||t.x>=ps||n.x<0||n.x>=ps)return!1;const i=n.sub(t),r=i.perp(),o=e.sub(t);return(i.x*o.x+i.y*o.y)/Math.sqrt((i.x*i.x+i.y*i.y)*(o.x*o.x+o.y*o.y))>-.866&&r.x*o.x+r.y*o.y<0}function Su(e,t,n){const i=t?2|e:-3&e;return n?1|i:-2&i}function Mu(){const e=Math.PI/32,t=Math.tan(e),n=ms;return n*Math.sqrt(1+2*t*t)-n}function Iu(e,t,n){const i=1<<n.z,r=ws(n.x/i),o=ws((n.x+1)/i),a=Ts(n.y/i),s=Ts((n.y+1)/i);return function(e,t,n,i,r=0,o){const a=[];if(!e.length||!n||!i)return a;const s=(e,t)=>{for(const n of e)a.push({polygon:n,bounds:t})},l=Math.ceil(Math.log2(n)),c=Math.ceil(Math.log2(i)),u=l-c,h=[];for(let e=0;e<Math.abs(u);e++)h.push(u>0?0:1);for(let e=0;e<Math.min(l,c);e++)h.push(0),h.push(1);let d=e;if(d=pu(d,t[0].y-r,t[1].y+r,1),d=pu(d,t[0].x-r,t[1].x+r,0),!d.length)return a;const p=[];for(h.length?p.push({polygons:d,bounds:t,depth:0}):s(d,t);p.length;){const e=p.pop(),t=e.depth,n=h[t],i=e.bounds[0],a=e.bounds[1],l=0===n?i.x:i.y,c=0===n?a.x:a.y,u=o?o(n,l,c):.5*(l+c),d=pu(e.polygons,l-r,u+r,n),f=pu(e.polygons,u-r,c+r,n);if(d.length){const e=[i,new m(0===n?u:a.x,1===n?u:a.y)];h.length>t+1?p.push({polygons:d,bounds:e,depth:t+1}):s(d,e)}if(f.length){const e=[new m(0===n?u:i.x,1===n?u:i.y),a];h.length>t+1?p.push({polygons:f,bounds:e,depth:t+1}):s(f,e)}}return a}(e,t,Math.ceil((o-r)/11.25),Math.ceil((a-s)/11.25),1,(e,t,r)=>{if(0===e)return.5*(t+r);{const e=Ts((n.y+t/ps)/i);return(xs(.5*(Ts((n.y+r/ps)/i)+e))*i-n.y)*ps}})}zr(vu,"FillExtrusionBucket",{omit:["layers","features"]}),zr(_u,"PartMetadata");const Cu=new Go({"fill-extrusion-edge-radius":new No(Je["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var ku={paint:new Go({"fill-extrusion-opacity":new No(Je["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Uo(Je["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new No(Je["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new No(Je["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Uo(Je["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Uo(Je["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Uo(Je["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new No(Je["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new No(Je["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new No(Je["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"])}),layout:Cu};function Au(e,t,n){var i=2*Math.PI*6378137/256/Math.pow(2,n);return[e*i-2*Math.PI*6378137/2,t*i-2*Math.PI*6378137/2]}class Pu{constructor(e,t,n){this.z=e,this.x=t,this.y=n,this.key=Lu(0,e,e,t,n)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t){const n=function(e,t,n){var i=Au(256*e,256*(t=Math.pow(2,n)-t-1),n),r=Au(256*(e+1),256*(t+1),n);return i[0]+","+i[1]+","+r[0]+","+r[1]}(this.x,this.y,this.z),i=function(e,t,n){let i,r="";for(let o=e;o>0;o--)i=1<<o-1,r+=(t&i?1:0)+(n&i?2:0);return r}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===t?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",i).replace("{bbox-epsg-3857}",n)}toString(){return`${this.z}/${this.x}/${this.y}`}}class zu{constructor(e,t){this.wrap=e,this.canonical=t,this.key=Lu(e,t.z,t.z,t.x,t.y)}}class Du{constructor(e,t,n,i,r){this.overscaledZ=e,this.wrap=t,this.canonical=new Pu(n,+i,+r),this.key=0===t&&e===n?this.canonical.key:Lu(t,e,n,i,r)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){const t=this.canonical.z-e;return e>this.canonical.z?new Du(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Du(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t=!0){if(this.overscaledZ===e&&t)return this.key;if(e>this.canonical.z)return Lu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y);{const n=this.canonical.z-e;return Lu(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new Du(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,n=2*this.canonical.x,i=2*this.canonical.y;return[new Du(t,this.wrap,t,n,i),new Du(t,this.wrap,t,n+1,i),new Du(t,this.wrap,t,n,i+1),new Du(t,this.wrap,t,n+1,i+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new Du(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new Du(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new zu(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Lu(e,t,n,i,r){const o=1<<Math.min(n,22);let a=o*(r%o)+i%o;return e&&n<22&&(a+=o*o*((e<0?-2*e-1:2*e)%(1<<2*(22-n)))),16*(32*a+n)+(t-n)}zr(Pu,"CanonicalTileID"),zr(Du,"OverscaledTileID",{omit:["projMatrix"]});class Ou extends m{constructor(e,t,n){super(e,t),this.z=n}}function Ru(e,t){return e.x*t.x+e.y*t.y}function Bu(e,t){if(1===e.length){let n=0;const i=t[n++];let r;for(;!r||i.equals(r);)if(r=t[n++],!r)return 1/0;for(;n<t.length;n++){const o=t[n],a=e[0],s=r.sub(i),l=o.sub(i),c=a.sub(i),u=Ru(s,s),h=Ru(s,l),d=Ru(l,l),p=Ru(c,s),f=Ru(c,l),m=u*d-h*h,g=(d*p-h*f)/m,y=(u*f-h*p)/m,_=i.z*(1-g-y)+r.z*g+o.z*y;if(isFinite(_))return _}return 1/0}{let e=1/0;for(const n of t)e=Math.min(e,n.z);return e}}function ju(e,t,n,i,r,o,a,s){const l=a*r.getElevationAt(e,t,!0,!0),c=0!==o[0],u=c?0===o[1]?a*(o[0]/7-450):a*function(e,t,n){const i=Math.floor(t[0]/8),r=Math.floor(t[1]/8),o=10*(t[0]-8*i),a=10*(t[1]-8*r),s=e.getElevationAt(i,r,!0,!0),l=e.getMeterToDEM(n),c=Math.floor(.5*(o*l-1)),u=Math.floor(.5*(a*l-1)),h=e.tileCoordToPixel(i,r),d=2*c+1,p=2*u+1,f=function(e,t,n,i,r){return[e.getElevationAtPixel(t,n,!0),e.getElevationAtPixel(t+r,n,!0),e.getElevationAtPixel(t,n+r,!0),e.getElevationAtPixel(t+i,n+r,!0)]}(e,h.x-c,h.y-u,d,p),m=Math.abs(f[0]-f[1]),g=Math.abs(f[2]-f[3]),y=Math.abs(f[0]-f[2])+Math.abs(f[1]-f[3]),_=Math.min(.25,.5*l*(m+g)/d),v=Math.min(.25,.5*l*y/p);return s+Math.max(_*o,v*a)}(r,o,s):l;return{base:l+(0===n)?-1:n,top:c?Math.max(u+i,l+n+2):l+i}}const Fu=Ho([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:Nu}=Fu,Uu=Ho([{name:"a_packed",components:4,type:"Float32"}]),{members:Vu}=Uu,Gu=du.types,Zu=Math.cos(Math.PI/180*37.5);class Wu{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.projection=e.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(e=>{this.gradients[e.id]={}}),this.layoutVertexArray=new Ko,this.layoutVertexArray2=new ea,this.indexArray=new da,this.programConfigurations=new ns(e.layers,e.zoom),this.segments=new ds,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,n,i){this.hasPattern=Zc("line",this.layers,t);const r=this.layers[0].layout.get("line-sort-key"),o=[];for(const{feature:t,id:a,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Rs(t,e);if(!this.layers[0]._featureFilter.filter(new Po(this.zoom),c,n))continue;const u=r?r.evaluate(c,{},n):void 0,h={id:a,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?c.geometry:Os(t,n,i),patterns:{},sortKey:u};o.push(h)}r&&o.sort((e,t)=>e.sortKey-t.sortKey);const{lineAtlas:a,featureIndex:s}=t,l=this.addConstantDashes(a);for(const i of o){const{geometry:r,index:o,sourceLayerIndex:c}=i;if(l&&this.addFeatureDashes(i,a),this.hasPattern){const e=Wc("line",this.layers,i,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(i,r,o,n,a.positions,t.availableImages);s.insert(e[o].feature,r,o,c,this.index)}}addConstantDashes(e){let t=!1;for(const n of this.layers){const i=n.paint.get("line-dasharray").value,r=n.layout.get("line-cap").value;if("constant"!==i.kind||"constant"!==r.kind)t=!0;else{const t=r.value,n=i.value;if(!n)continue;e.addDash(n,t)}}return t}addFeatureDashes(e,t){const n=this.zoom;for(const i of this.layers){const r=i.paint.get("line-dasharray").value,o=i.layout.get("line-cap").value;if("constant"===r.kind&&"constant"===o.kind)continue;let a,s;if("constant"===r.kind){if(a=r.value,!a)continue}else a=r.evaluate({zoom:n},e);s="constant"===o.kind?o.value:o.evaluate({zoom:n},e),t.addDash(a,s),e.patterns[i.id]=t.getKey(a,s)}}update(e,t,n,i){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n,i)}addFeatures(e,t,n,i,r){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,n,i)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Vu)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Nu),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&e.properties.hasOwnProperty("mapbox_clip_start")&&e.properties.hasOwnProperty("mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,n,i,r,o){const a=this.layers[0].layout,s=a.get("line-join").evaluate(e,{}),l=a.get("line-cap").evaluate(e,{}),c=a.get("line-miter-limit"),u=a.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const n of t)this.addLine(n,e,s,l,c,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,o,i)}addLine(e,t,n,i,r,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const a="Polygon"===Gu[t.type];let s=e.length;for(;s>=2&&e[s-1].equals(e[s-2]);)s--;let l=0;for(;l<s-1&&e[l].equals(e[l+1]);)l++;if(s<(a?3:2))return;"bevel"===n&&(r=1.05);const c=this.overscaling<=16?122880/(512*this.overscaling):0,u=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let h,d,p,f,m;this.e1=this.e2=-1,a&&(h=e[s-2],m=e[l].sub(h)._unit()._perp());for(let t=l;t<s;t++){if(p=t===s-1?a?e[l+1]:void 0:e[t+1],p&&e[t].equals(p))continue;m&&(f=m),h&&(d=h),h=e[t],m=p?p.sub(h)._unit()._perp():f,f=f||m;let g=f.add(m);0===g.x&&0===g.y||g._unit();const y=f.x*m.x+f.y*m.y,_=g.x*m.x+g.y*m.y,v=0!==_?1/_:1/0,x=2*Math.sqrt(2-2*_),b=_<Zu&&d&&p,w=f.x*m.y-f.y*m.x>0;if(b&&t>l){const e=h.dist(d);if(e>2*c){const t=h.sub(h.sub(d)._mult(c/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,f,0,0,u),d=t}}const T=d&&p;let E=T?n:a?"butt":i;if(T&&"round"===E&&(v<o?E="miter":v<=2&&(E="fakeround")),"miter"===E&&v>r&&(E="bevel"),"bevel"===E&&(v>2&&(E="flipbevel"),v<r&&(E="miter")),d&&this.updateDistance(d,h),"miter"===E)g._mult(v),this.addCurrentVertex(h,g,0,0,u);else if("flipbevel"===E){if(v>100)g=m.mult(-1);else{const e=v*f.add(m).mag()/f.sub(m).mag();g._perp()._mult(e*(w?-1:1))}this.addCurrentVertex(h,g,0,0,u),this.addCurrentVertex(h,g.mult(-1),0,0,u)}else if("bevel"===E||"fakeround"===E){const e=-Math.sqrt(v*v-1),t=w?e:0,n=w?0:e;if(d&&this.addCurrentVertex(h,f,t,n,u),"fakeround"===E){const e=Math.round(180*x/Math.PI/20);for(let t=1;t<e;t++){let n=t/e;if(.5!==n){const e=n-.5;n+=n*e*(n-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*e*e+(.848013+y*(.215638*y-1.06021)))}const i=m.sub(f)._mult(n)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(h,i.x,i.y,!1,w,0,u)}}p&&this.addCurrentVertex(h,m,-t,-n,u)}else if("butt"===E)this.addCurrentVertex(h,g,0,0,u);else if("square"===E){const e=d?1:-1;d||this.addCurrentVertex(h,g,e,e,u),this.addCurrentVertex(h,g,0,0,u),d&&this.addCurrentVertex(h,g,e,e,u)}else"round"===E&&(d&&(this.addCurrentVertex(h,f,0,0,u),this.addCurrentVertex(h,f,1,1,u,!0)),p&&(this.addCurrentVertex(h,m,-1,-1,u,!0),this.addCurrentVertex(h,m,0,0,u)));if(b&&t<s-1){const e=h.dist(p);if(e>2*c){const t=h.add(p.sub(h)._mult(c/e)._round());this.updateDistance(h,t),this.addCurrentVertex(t,m,0,0,u),h=t}}}}addCurrentVertex(e,t,n,i,r,o=!1){const a=t.y*i-t.x,s=-t.y-t.x*i;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,o,!1,n,r),this.addHalfVertex(e,a,s,o,!0,-i,r)}addHalfVertex({x:e,y:t},n,i,r,o,a,s){this.layoutVertexArray.emplaceBack((e<<1)+(r?1:0),(t<<1)+(o?1:0),Math.round(63*n)+128,Math.round(63*i)+128,1+(0===a?0:a<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const l=s.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,l),s.primitiveLength++),o?this.e2=l:this.e1=l}updateScaledDistance(){if(this.lineClips){const e=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=e*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}zr(Wu,"LineBucket",{omit:["layers","patternFeatures"]});const qu=new Go({"line-cap":new Uo(Je.layout_line["line-cap"]),"line-join":new Uo(Je.layout_line["line-join"]),"line-miter-limit":new No(Je.layout_line["line-miter-limit"]),"line-round-limit":new No(Je.layout_line["line-round-limit"]),"line-sort-key":new Uo(Je.layout_line["line-sort-key"])});var $u={paint:new Go({"line-opacity":new Uo(Je.paint_line["line-opacity"]),"line-color":new Uo(Je.paint_line["line-color"]),"line-translate":new No(Je.paint_line["line-translate"]),"line-translate-anchor":new No(Je.paint_line["line-translate-anchor"]),"line-width":new Uo(Je.paint_line["line-width"]),"line-gap-width":new Uo(Je.paint_line["line-gap-width"]),"line-offset":new Uo(Je.paint_line["line-offset"]),"line-blur":new Uo(Je.paint_line["line-blur"]),"line-dasharray":new Uo(Je.paint_line["line-dasharray"]),"line-pattern":new Uo(Je.paint_line["line-pattern"]),"line-gradient":new Vo(Je.paint_line["line-gradient"]),"line-trim-offset":new No(Je.paint_line["line-trim-offset"])}),layout:qu};const Hu=new class extends Uo{possiblyEvaluate(e,t){return t=new Po(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,n,i){return t=A({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,n,i)}}($u.paint.properties["line-width"].specification);function Xu(e,t){return t>0?t+2*e:e}Hu.useIntegerZoom=!0;const Yu=Ho([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Ju=Ho([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),Qu=Ho([{name:"a_projected_pos",components:4,type:"Float32"}],4);Ho([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Ku=Ho([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),eh=Ho([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const th=Ho([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),nh=Ho([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Ho([{name:"triangle",components:3,type:"Uint16"}]),Ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Ho([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Ho([{type:"Float32",name:"offsetX"}]),Ho([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);const ih=128;function rh(e,t){const{expression:n}=t;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Po(e+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:i}=n;let r=0;for(;r<t.length&&t[r]<=e;)r++;r=Math.max(0,r-1);let o=r;for(;o<t.length&&t[o]<e+1;)o++;o=Math.min(t.length-1,o);const a=t[r],s=t[o];return"composite"===n.kind?{kind:"composite",minZoom:a,maxZoom:s,interpolationType:i}:{kind:"camera",minZoom:a,maxZoom:s,minSize:n.evaluate(new Po(a)),maxSize:n.evaluate(new Po(s)),interpolationType:i}}}function oh(e,{uSize:t,uSizeT:n},{lowerSize:i,upperSize:r}){return"source"===e.kind?i/ih:"composite"===e.kind?Cn(i/ih,r/ih,n):t}function ah(e,t){let n=0,i=0;if("constant"===e.kind)i=e.layoutSize;else if("source"!==e.kind){const{interpolationType:r,minZoom:o,maxZoom:a}=e,s=r?S(Wn.interpolationFactor(r,t,o,a),0,1):0;"camera"===e.kind?i=Cn(e.minSize,e.maxSize,s):n=s}return{uSizeT:n,uSize:i}}var sh=Object.freeze({__proto__:null,getSizeData:rh,evaluateSizeForFeature:oh,evaluateSizeForZoom:ah,SIZE_PACK_FACTOR:ih});function lh(e,t,n){return e.sections.forEach(e=>{e.text=function(e,t,n){const i=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===i?e=e.toLocaleUpperCase():"lowercase"===i&&(e=e.toLocaleLowerCase()),Ao.applyArabicShaping&&(e=Ao.applyArabicShaping(e)),e}(e.text,t,n)}),e}const ch={"!":"ï¸•","#":"ï¼ƒ",$:"ï¼„","%":"ï¼…","&":"ï¼†","(":"ï¸µ",")":"ï¸¶","*":"ï¼Š","+":"ï¼‹",",":"ï¸","-":"ï¸²",".":"ãƒ»","/":"ï¼",":":"ï¸“",";":"ï¸”","<":"ï¸¿","=":"ï¼",">":"ï¹€","?":"ï¸–","@":"ï¼ ","[":"ï¹‡","\\":"ï¼¼","]":"ï¹ˆ","^":"ï¼¾",_:"ï¸³","`":"ï½€","{":"ï¸·","|":"â€•","}":"ï¸¸","~":"ï½ž","Â¢":"ï¿ ","Â£":"ï¿¡","Â¥":"ï¿¥","Â¦":"ï¿¤","Â¬":"ï¿¢","Â¯":"ï¿£","â€“":"ï¸²","â€”":"ï¸±","â€˜":"ï¹ƒ","â€™":"ï¹„","â€œ":"ï¹","â€":"ï¹‚","â€¦":"ï¸™","â€§":"ãƒ»","â‚©":"ï¿¦","ã€":"ï¸‘","ã€‚":"ï¸’","ã€ˆ":"ï¸¿","ã€‰":"ï¹€","ã€Š":"ï¸½","ã€‹":"ï¸¾","ã€Œ":"ï¹","ã€":"ï¹‚","ã€Ž":"ï¹ƒ","ã€":"ï¹„","ã€":"ï¸»","ã€‘":"ï¸¼","ã€”":"ï¸¹","ã€•":"ï¸º","ã€–":"ï¸—","ã€—":"ï¸˜","ï¼":"ï¸•","ï¼ˆ":"ï¸µ","ï¼‰":"ï¸¶","ï¼Œ":"ï¸","ï¼":"ï¸²","ï¼Ž":"ãƒ»","ï¼š":"ï¸“","ï¼›":"ï¸”","ï¼œ":"ï¸¿","ï¼ž":"ï¹€","ï¼Ÿ":"ï¸–","ï¼»":"ï¹‡","ï¼½":"ï¹ˆ","ï¼¿":"ï¸³","ï½›":"ï¸·","ï½œ":"â€•","ï½":"ï¸¸","ï½Ÿ":"ï¸µ","ï½ ":"ï¸¶","ï½¡":"ï¸’","ï½¢":"ï¹","ï½£":"ï¹‚"};function uh(e){return"ï¸¶"===e||"ï¹ˆ"===e||"ï¸¸"===e||"ï¹„"===e||"ï¹‚"===e||"ï¸¾"===e||"ï¸¼"===e||"ï¸º"===e||"ï¸˜"===e||"ï¹€"===e||"ï¸"===e||"ï¸“"===e||"ï¸”"===e||"ï½€"===e||"ï¿£"===e||"ï¸‘"===e||"ï¸’"===e}function hh(e){return"ï¸µ"===e||"ï¹‡"===e||"ï¸·"===e||"ï¹ƒ"===e||"ï¹"===e||"ï¸½"===e||"ï¸»"===e||"ï¸¹"===e||"ï¸—"===e||"ï¸¿"===e}var dh=mh,ph=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?r-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),o-=c}return(p?-1:1)*a*Math.pow(2,o-i)},fh=function(e,t,n,i,r,o){var a,s,l,c=8*o-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,f=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,r),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&s,p+=f,s/=256,r-=8);for(a=a<<r|s,c+=r;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*m};function mh(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}mh.Varint=0,mh.Fixed64=1,mh.Bytes=2,mh.Fixed32=5;var gh=4294967296,yh=1/gh,_h="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function vh(e){return e.type===mh.Bytes?e.readVarint()+e.pos:e.pos+1}function xh(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function bh(e,t,n){var i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=e;r--)n.buf[r+i]=n.buf[r]}function wh(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function Th(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Eh(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function Sh(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function Mh(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function Ih(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function Ch(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function kh(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function Ah(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function Ph(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function zh(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function Dh(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Lh(e,t,n){t.glyphs=[],1===e&&n.readMessage(Oh,t)}function Oh(e,t,n){if(3===e){const{id:e,bitmap:i,width:r,height:o,left:a,top:s,advance:l}=n.readMessage(Rh,{});t.glyphs.push({id:e,bitmap:new oc({width:r+6,height:o+6},i),metrics:{width:r,height:o,left:a,top:s,advance:l}})}else 4===e?t.ascender=n.readSVarint():5===e&&(t.descender=n.readSVarint())}function Rh(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function Bh(e){let t=0,n=0;for(const i of e)t+=i.w*i.h,n=Math.max(n,i.w);e.sort((e,t)=>t.h-e.h);const i=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let r=0,o=0;for(const t of e)for(let e=i.length-1;e>=0;e--){const n=i[e];if(!(t.w>n.w||t.h>n.h)){if(t.x=n.x,t.y=n.y,o=Math.max(o,t.y+t.h),r=Math.max(r,t.x+t.w),t.w===n.w&&t.h===n.h){const t=i.pop();e<i.length&&(i[e]=t)}else t.h===n.h?(n.x+=t.w,n.w-=t.w):t.w===n.w?(n.y+=t.h,n.h-=t.h):(i.push({x:n.x+t.w,y:n.y,w:n.w-t.w,h:t.h}),n.y+=t.h,n.h-=t.h);break}}return{w:r,h:o,fill:t/(r*o)||0}}mh.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;this.type=7&i,e(r,t,this),this.pos===o&&this.skip(i)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Ph(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=Dh(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Ph(this.buf,this.pos)+Ph(this.buf,this.pos+4)*gh;return this.pos+=8,e},readSFixed64:function(){var e=Ph(this.buf,this.pos)+Dh(this.buf,this.pos+4)*gh;return this.pos+=8,e},readFloat:function(){var e=ph(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=ph(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,i=this.buf;return t=127&(n=i[this.pos++]),n<128?t:(t|=(127&(n=i[this.pos++]))<<7,n<128?t:(t|=(127&(n=i[this.pos++]))<<14,n<128?t:(t|=(127&(n=i[this.pos++]))<<21,n<128?t:function(e,t,n){var i,r,o=n.buf;if(i=(112&(r=o[n.pos++]))>>4,r<128)return xh(e,i,t);if(i|=(127&(r=o[n.pos++]))<<3,r<128)return xh(e,i,t);if(i|=(127&(r=o[n.pos++]))<<10,r<128)return xh(e,i,t);if(i|=(127&(r=o[n.pos++]))<<17,r<128)return xh(e,i,t);if(i|=(127&(r=o[n.pos++]))<<24,r<128)return xh(e,i,t);if(i|=(1&(r=o[n.pos++]))<<31,r<128)return xh(e,i,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=i[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&_h?function(e,t,n){return _h.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var i="",r=t;r<n;){var o,a,s,l=e[r],c=null,u=l>239?4:l>223?3:l>191?2:1;if(r+u>n)break;1===u?l<128&&(c=l):2===u?128==(192&(o=e[r+1]))&&(c=(31&l)<<6|63&o)<=127&&(c=null):3===u?(a=e[r+2],128==(192&(o=e[r+1]))&&128==(192&a)&&((c=(15&l)<<12|(63&o)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(a=e[r+2],s=e[r+3],128==(192&(o=e[r+1]))&&128==(192&a)&&128==(192&s)&&((c=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,i+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),i+=String.fromCharCode(c),r+=u}return i}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==mh.Bytes)return e.push(this.readVarint(t));var n=vh(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==mh.Bytes)return e.push(this.readSVarint());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==mh.Bytes)return e.push(this.readBoolean());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==mh.Bytes)return e.push(this.readFloat());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==mh.Bytes)return e.push(this.readDouble());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==mh.Bytes)return e.push(this.readFixed32());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==mh.Bytes)return e.push(this.readSFixed32());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==mh.Bytes)return e.push(this.readFixed64());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==mh.Bytes)return e.push(this.readSFixed64());var t=vh(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===mh.Varint)for(;this.buf[this.pos++]>127;);else if(t===mh.Bytes)this.pos=this.readVarint()+this.pos;else if(t===mh.Fixed32)this.pos+=4;else{if(t!==mh.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),zh(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),zh(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),zh(this.buf,-1&e,this.pos),zh(this.buf,Math.floor(e*yh),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),zh(this.buf,-1&e,this.pos),zh(this.buf,Math.floor(e*yh),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,i;if(e>=0?(n=e%4294967296|0,i=e/4294967296|0):(i=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,i=i+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(i,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var i,r,o=0;o<t.length;o++){if((i=t.charCodeAt(o))>55295&&i<57344){if(!r){i>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):r=i;continue}if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(e[n++]=239,e[n++]=191,e[n++]=189,r=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&bh(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),fh(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),fh(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var i=this.pos-n;i>=128&&bh(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(e,t,n){this.writeTag(e,mh.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,wh,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Th,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Mh,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Eh,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Sh,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Ih,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Ch,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,kh,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Ah,t)},writeBytesField:function(e,t){this.writeTag(e,mh.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,mh.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,mh.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,mh.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,mh.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,mh.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,mh.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,mh.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,mh.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,mh.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};class jh{constructor(e,{pixelRatio:t,version:n,stretchX:i,stretchY:r,content:o}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=i,this.stretchY=r,this.content=o,this.version=n}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Fh{constructor(e,t){const n={},i={};this.haveRenderCallbacks=[];const r=[];this.addImages(e,n,r),this.addImages(t,i,r);const{w:o,h:a}=Bh(r),s=new ac({width:o||1,height:a||1});for(const t in e){const i=e[t],r=n[t].paddedRect;ac.copy(i.data,s,{x:0,y:0},{x:r.x+1,y:r.y+1},i.data)}for(const e in t){const n=t[e],r=i[e].paddedRect,o=r.x+1,a=r.y+1,l=n.data.width,c=n.data.height;ac.copy(n.data,s,{x:0,y:0},{x:o,y:a},n.data),ac.copy(n.data,s,{x:0,y:c-1},{x:o,y:a-1},{width:l,height:1}),ac.copy(n.data,s,{x:0,y:0},{x:o,y:a+c},{width:l,height:1}),ac.copy(n.data,s,{x:l-1,y:0},{x:o-1,y:a},{width:1,height:c}),ac.copy(n.data,s,{x:0,y:0},{x:o+l,y:a},{width:1,height:c})}this.image=s,this.iconPositions=n,this.patternPositions=i}addImages(e,t,n){for(const i in e){const r=e[i],o={x:0,y:0,w:r.data.width+2,h:r.data.height+2};n.push(o),t[i]=new jh(o,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(i)}}patchUpdatedImages(e,t){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(t=>e.hasImage(t)),e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const n in e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}patchUpdatedImage(e,t,n){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[i,r]=e.tl;n.update(t.data,void 0,{x:i,y:r})}}zr(jh,"ImagePosition"),zr(Fh,"ImageAtlas");const Nh={horizontal:1,vertical:2,horizontalOnly:3};class Uh{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const n=new Uh;return n.scale=e||1,n.fontStack=t,n}static forImage(e){const t=new Uh;return t.imageName=e,t}}class Vh{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const n=new Vh;for(let i=0;i<e.sections.length;i++){const r=e.sections[i];r.image?n.addImageSection(r):n.addTextSection(r,t)}return n}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSections(){return this.sections}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(e){this.text=function(e,t){let n="";for(let i=0;i<e.length;i++){const r=e.charCodeAt(i+1)||null,o=e.charCodeAt(i-1)||null;n+=!t&&(r&&mo(r)&&!ch[e[i+1]]||o&&mo(o)&&!ch[e[i-1]])||!ch[e[i]]?e[i]:ch[e[i]]}return n}(this.text,e)}trim(){let e=0;for(let t=0;t<this.text.length&&Zh[this.text.charCodeAt(t)];t++)e++;let t=this.text.length;for(let n=this.text.length-1;n>=0&&n>=e&&Zh[this.text.charCodeAt(n)];n--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const n=new Vh;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,t)=>Math.max(e,this.sections[t].scale),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(Uh.forText(e.scale,e.fontStack||t));const n=this.sections.length-1;for(let t=0;t<e.text.length;++t)this.sectionIndex.push(n)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void V("Can't add FormattedSection with an empty image.");const n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(Uh.forImage(t)),this.sectionIndex.push(this.sections.length-1)):V("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Gh(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f){const m=Vh.fromFeature(e,r);h===Nh.vertical&&m.verticalizePunctuation(d);let g=[];const y=function(e,t,n,i,r,o){if(!e)return[];const a=[],s=function(e,t,n,i,r,o){let a=0;for(let n=0;n<e.length();n++){const s=e.getSection(n);a+=qh(e.getCharCode(n),s,i,r,t,o)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,i,r,o),l=e.text.indexOf("â€‹")>=0;let c=0;for(let n=0;n<e.length();n++){const h=e.getSection(n),d=e.getCharCode(n);if(Zh[d]||(c+=qh(d,h,i,r,t,o)),n<e.length()-1){const t=!((u=d)<11904||!($r(u)||qr(u)||ao(u)||io(u)||Jr(u)||Nr(u)||Hr(u)||Gr(u)||Qr(u)||Kr(u)||Yr(u)||co(u)||Zr(u)||Vr(u)||Ur(u)||Xr(u)||Wr(u)||oo(u)||to(u)||eo(u)));(Wh[d]||t||h.imageName)&&a.push(Xh(n+1,c,s,a,Hh(d,e.getCharCode(n+1),t&&l),!1))}}var u;return function e(t){return t?e(t.priorBreak).concat(t.index):[]}(Xh(e.length(),c,s,a,0,!0))}(m,c,o,t,i,p),{processBidirectionalText:_,processStyledBidirectionalText:v}=Ao;if(_&&1===m.sections.length){const e=_(m.toString(),y);for(const t of e){const e=new Vh;e.text=t,e.sections=m.sections;for(let n=0;n<t.length;n++)e.sectionIndex.push(0);g.push(e)}}else if(v){const e=v(m.text,m.sectionIndex,y);for(const t of e){const e=new Vh;e.text=t[0],e.sectionIndex=t[1],e.sections=m.sections,g.push(e)}}else g=function(e,t){const n=[],i=e.text;let r=0;for(const i of t)n.push(e.substring(r,i)),r=i;return r<i.length&&n.push(e.substring(r,i.length)),n}(m,y);const x=[],b={positionedLines:x,text:m.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:h,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(e,t,n,i,r,o,a,s,l,c,u,h){let d=0,p=0,f=0;const m="right"===s?1:"left"===s?0:.5;let g=!1;for(const e of r){const n=e.getSections();for(const e of n){if(e.imageName)continue;const n=t[e.fontStack];if(n&&(g=void 0!==n.ascender&&void 0!==n.descender,!g))break}if(!g)break}let y=0;for(const a of r){a.trim();const r=a.getMaxScale(),s=24*(r-1),v={positionedGlyphs:[],lineOffset:0};e.positionedLines[y]=v;const x=v.positionedGlyphs;let b=0;if(!a.length()){p+=o,++y;continue}let w=0,T=0;for(let o=0;o<a.length();o++){const s=a.getSection(o),f=a.getSectionIndex(o),m=a.getCharCode(o);let y=s.scale,v=null,E=null,S=null,M=24,I=0;const C=!(l===Nh.horizontal||!u&&!fo(m)||u&&(Zh[m]||(_=m,Br(_)||jr(_)||Fr(_)||ro(_)||lo(_))));if(s.imageName){const t=i[s.imageName];if(!t)continue;S=s.imageName,e.iconsInText=e.iconsInText||!0,E=t.paddedRect;const n=t.displaySize;y=24*y/h,v={width:n[0],height:n[1],left:1,top:-3,advance:C?n[1]:n[0],localGlyph:!1},I=g?-v.height*y:24*r-17-n[1]*y,M=v.advance;const o=(C?n[0]:n[1])*y-24*r;o>0&&o>b&&(b=o)}else{const e=n[s.fontStack];if(!e)continue;e[m]&&(E=e[m]);const i=t[s.fontStack];if(!i)continue;const o=i.glyphs[m];if(!o)continue;if(v=o.metrics,M=8203!==m?24:0,g){const e=void 0!==i.ascender?Math.abs(i.ascender):0,t=void 0!==i.descender?Math.abs(i.descender):0,n=(e+t)*y;w<n&&(w=n,T=(e-t)/2*y),I=-e*y}else I=24*(r-y)-17}C?(e.verticalizable=!0,x.push({glyph:m,imageName:S,x:d,y:p+I,vertical:C,scale:y,localGlyph:v.localGlyph,fontStack:s.fontStack,sectionIndex:f,metrics:v,rect:E}),d+=M*y+c):(x.push({glyph:m,imageName:S,x:d,y:p+I,vertical:C,scale:y,localGlyph:v.localGlyph,fontStack:s.fontStack,sectionIndex:f,metrics:v,rect:E}),d+=v.advance*y+c)}0!==x.length&&(f=Math.max(d-c,f),g?Jh(x,m,b,T,o*r/2):Jh(x,m,b,0,o/2)),d=0;const E=o*r+b;v.lineOffset=Math.max(b,s),p+=E,++y}var _;const v=p,{horizontalAlign:x,verticalAlign:b}=Yh(a);(function(e,t,n,i,r,o){const a=(t-n)*r,s=-o*i;for(const t of e)for(const e of t.positionedGlyphs)e.x+=a,e.y+=s})(e.positionedLines,m,x,b,f,v),e.top+=-b*v,e.bottom=e.top+v,e.left+=-x*f,e.right=e.left+f,e.hasBaseline=g}(b,t,n,i,g,a,s,l,h,c,d,f),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(x)&&b}const Zh={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Wh={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function qh(e,t,n,i,r,o){if(t.imageName){const e=i[t.imageName];return e?e.displaySize[0]*t.scale*24/o+r:0}{const i=n[t.fontStack],o=i&&i.glyphs[e];return o?o.metrics.advance*t.scale+r:0}}function $h(e,t,n,i){const r=Math.pow(e-t,2);return i?e<t?r/2:2*r:r+Math.abs(n)*n}function Hh(e,t,n){let i=0;return 10===e&&(i-=1e4),n&&(i+=150),40!==e&&65288!==e||(i+=50),41!==t&&65289!==t||(i+=50),i}function Xh(e,t,n,i,r,o){let a=null,s=$h(t,n,r,o);for(const e of i){const i=$h(t-e.x,n,r,o)+e.badness;i<=s&&(a=e,s=i)}return{index:e,x:t,priorBreak:a,badness:s}}function Yh(e){let t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Jh(e,t,n,i,r){if(!(t||n||i||r))return;const o=e.length-1,a=e[o],s=(a.x+a.metrics.advance*a.scale)*t;for(let t=0;t<=o;t++)e[t].x-=s,e[t].y+=n+i+r}function Qh(e,t,n){const{horizontalAlign:i,verticalAlign:r}=Yh(n),o=t[0]-e.displaySize[0]*i,a=t[1]-e.displaySize[1]*r;return{image:e,top:a,bottom:a+e.displaySize[1],left:o,right:o+e.displaySize[0]}}function Kh(e,t,n,i,r,o){const a=e.image;let s;if(a.content){const e=a.content,t=a.pixelRatio||1;s=[e[0]/t,e[1]/t,a.displaySize[0]-e[2]/t,a.displaySize[1]-e[3]/t]}const l=t.left*o,c=t.right*o;let u,h,d,p;"width"===n||"both"===n?(p=r[0]+l-i[3],h=r[0]+c+i[1]):(p=r[0]+(l+c-a.displaySize[0])/2,h=p+a.displaySize[0]);const f=t.top*o,m=t.bottom*o;return"height"===n||"both"===n?(u=r[1]+f-i[0],d=r[1]+m+i[2]):(u=r[1]+(f+m-a.displaySize[1])/2,d=u+a.displaySize[1]),{image:a,top:u,right:h,bottom:d,left:p,collisionPadding:s}}class ed extends m{constructor(e,t,n,i,r){super(e,t),this.angle=i,this.z=n,void 0!==r&&(this.segment=r)}clone(){return new ed(this.x,this.y,this.z,this.angle,this.segment)}}function td(e,t,n,i,r){if(void 0===t.segment)return!0;let o=t,a=t.segment+1,s=0;for(;s>-n/2;){if(a--,a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;const l=[];let c=0;for(;s<n/2;){const t=e[a],n=e[a+1];if(!n)return!1;let o=e[a-1].angleTo(t)-t.angleTo(n);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:o}),c+=o;s-l[0].distance>i;)c-=l.shift().angleDelta;if(c>r)return!1;a++,s+=t.dist(n)}return!0}function nd(e){let t=0;for(let n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function id(e,t,n){return e?.6*t*n:0}function rd(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function od(e,t,n,i,r,o){const a=id(n,r,o),s=rd(n,i)*o;let l=0;const c=nd(e)/2;for(let n=0;n<e.length-1;n++){const i=e[n],r=e[n+1],o=i.dist(r);if(l+o>c){const u=(c-l)/o,h=Cn(i.x,r.x,u),d=Cn(i.y,r.y,u),p=new ed(h,d,0,r.angleTo(i),n);return!a||td(e,p,s,a,t)?p:void 0}l+=o}}function ad(e,t,n,i,r,o,a,s,l){const c=id(i,o,a),u=rd(i,r),h=u*a,d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-h<t/4&&(t=h+t/4),function e(t,n,i,r,o,a,s,l,c){const u=a/2,h=nd(t);let d=0,p=n-i,f=[];for(let e=0;e<t.length-1;e++){const n=t[e],s=t[e+1],l=n.dist(s),m=s.angleTo(n);for(;p+i<d+l;){p+=i;const g=(p-d)/l,y=Cn(n.x,s.x,g),_=Cn(n.y,s.y,g);if(y>=0&&y<c&&_>=0&&_<c&&p-u>=0&&p+u<=h){const n=new ed(y,_,0,m,e);n._round(),r&&!td(t,n,a,r,o)||f.push(n)}}d+=l}return l||f.length||s||(f=e(t,d/2,i,r,o,a,s,!0,c)),f}(e,d?t/2*s%t:(u/2+2*o)*a*s%t,t,c,n,h,d,!1,l)}function sd(e,t,n,i,r){const o=[];for(let a=0;a<e.length;a++){const s=e[a];let l;for(let e=0;e<s.length-1;e++){let a=s[e],c=s[e+1];a.x<t&&c.x<t||(a.x<t?a=new m(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x<t&&(c=new m(t,a.y+(t-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y<n&&c.y<n||(a.y<n?a=new m(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round():c.y<n&&(c=new m(a.x+(n-a.y)/(c.y-a.y)*(c.x-a.x),n)._round()),a.x>=i&&c.x>=i||(a.x>=i?a=new m(i,a.y+(i-a.x)/(c.x-a.x)*(c.y-a.y))._round():c.x>=i&&(c=new m(i,a.y+(i-a.x)/(c.x-a.x)*(c.y-a.y))._round()),a.y>=r&&c.y>=r||(a.y>=r?a=new m(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round():c.y>=r&&(c=new m(a.x+(r-a.y)/(c.y-a.y)*(c.x-a.x),r)._round()),l&&a.equals(l[l.length-1])||(l=[a],o.push(l)),l.push(c)))))}}return o}zr(ed,"Anchor");const ld=1e20;function cd(e,t,n,i,r,o,a,s,l){for(let c=t;c<t+i;c++)ud(e,n*o+c,o,r,a,s,l);for(let c=n;c<n+r;c++)ud(e,c*o+t,1,i,a,s,l)}function ud(e,t,n,i,r,o,a){o[0]=0,a[0]=-ld,a[1]=ld,r[0]=e[t];for(let s=1,l=0,c=0;s<i;s++){r[s]=e[t+s*n];const i=s*s;do{const e=o[l];c=(r[s]-r[e]+i-e*e)/(s-e)/2}while(c<=a[l]&&--l>-1);l++,o[l]=s,a[l]=c,a[l+1]=ld}for(let s=0,l=0;s<i;s++){for(;a[l+1]<s;)l++;const i=o[l],c=s-i;e[t+s*n]=r[i]+c*c}}const hd={none:0,ideographs:1,all:2};class dd{constructor(e,t,n){this.requestManager=e,this.localGlyphMode=t,this.localFontFamily=n,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(e){this.url=e}getGlyphs(e,t){const n=[];for(const t in e)for(const i of e[t])n.push({stack:t,id:i});C(n,({stack:e,id:t},n)=>{let i=this.entries[e];i||(i=this.entries[e]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let r=i.glyphs[t];if(void 0!==r)return void n(null,{stack:e,id:t,glyph:r});if(r=this._tinySDF(i,e,t),r)return i.glyphs[t]=r,void n(null,{stack:e,id:t,glyph:r});const o=Math.floor(t/256);if(256*o>65535)return void n(new Error("glyphs > 65535 not supported"));if(i.ranges[o])return void n(null,{stack:e,id:t,glyph:r});let a=i.requests[o];a||(a=i.requests[o]=[],dd.loadGlyphRange(e,o,this.url,this.requestManager,(e,t)=>{if(t){i.ascender=t.ascender,i.descender=t.descender;for(const e in t.glyphs)this._doesCharSupportLocalGlyph(+e)||(i.glyphs[+e]=t.glyphs[+e]);i.ranges[o]=!0}for(const n of a)n(e,t);delete i.requests[o]})),a.push((i,r)=>{i?n(i):r&&n(null,{stack:e,id:t,glyph:r.glyphs[t]||null})})},(e,n)=>{if(e)t(e);else if(n){const e={};for(const{stack:t,id:i,glyph:r}of n)void 0===e[t]&&(e[t]={}),void 0===e[t].glyphs&&(e[t].glyphs={}),e[t].glyphs[i]=r&&{id:r.id,bitmap:r.bitmap.clone(),metrics:r.metrics},e[t].ascender=this.entries[t].ascender,e[t].descender=this.entries[t].descender;t(null,e)}})}_doesCharSupportLocalGlyph(e){return this.localGlyphMode!==hd.none&&(this.localGlyphMode===hd.all?!!this.localFontFamily:!!this.localFontFamily&&(Kr(e)||no(e)||Zr(e)||Wr(e)||Gr(e)))}_tinySDF(e,t,n){const i=this.localFontFamily;if(!i||!this._doesCharSupportLocalGlyph(n))return;let r=e.tinySDF;if(!r){let n="400";/bold/i.test(t)?n="900":/medium/i.test(t)?n="500":/light/i.test(t)&&(n="200"),r=e.tinySDF=new dd.TinySDF({fontFamily:i,fontWeight:n,fontSize:48,buffer:6,radius:16}),r.fontWeight=n}if(this.localGlyphs[r.fontWeight][n])return this.localGlyphs[r.fontWeight][n];const o=String.fromCharCode(n),{data:a,width:s,height:l,glyphWidth:c,glyphHeight:u,glyphLeft:h,glyphTop:d,glyphAdvance:p}=r.draw(o);return this.localGlyphs[r.fontWeight][n]={id:n,bitmap:new oc({width:s,height:l},a),metrics:{width:c/2,height:u/2,left:h/2,top:d/2-27,advance:p/2,localGlyph:!0}}}}function pd(e,t,n,i){const r=[],o=e.image,a=o.pixelRatio,s=o.paddedRect.w-2,l=o.paddedRect.h-2,c=e.right-e.left,u=e.bottom-e.top,h=o.stretchX||[[0,s]],d=o.stretchY||[[0,l]],p=(e,t)=>e+t[1]-t[0],f=h.reduce(p,0),g=d.reduce(p,0),y=s-f,_=l-g;let v=0,x=f,b=0,w=g,T=0,E=y,S=0,M=_;if(o.content&&i){const e=o.content;v=fd(h,0,e[0]),b=fd(d,0,e[1]),x=fd(h,e[0],e[2]),w=fd(d,e[1],e[3]),T=e[0]-v,S=e[1]-b,E=e[2]-e[0]-x,M=e[3]-e[1]-w}const I=(i,r,s,l)=>{const h=gd(i.stretch-v,x,c,e.left),d=yd(i.fixed-T,E,i.stretch,f),p=gd(r.stretch-b,w,u,e.top),y=yd(r.fixed-S,M,r.stretch,g),_=gd(s.stretch-v,x,c,e.left),I=yd(s.fixed-T,E,s.stretch,f),C=gd(l.stretch-b,w,u,e.top),k=yd(l.fixed-S,M,l.stretch,g),A=new m(h,p),P=new m(_,p),z=new m(_,C),D=new m(h,C),L=new m(d/a,y/a),O=new m(I/a,k/a),R=t*Math.PI/180;if(R){const e=Math.sin(R),t=Math.cos(R),n=[t,-e,e,t];A._matMult(n),P._matMult(n),D._matMult(n),z._matMult(n)}const B=i.stretch+i.fixed,j=r.stretch+r.fixed;return{tl:A,tr:P,bl:D,br:z,tex:{x:o.paddedRect.x+1+B,y:o.paddedRect.y+1+j,w:s.stretch+s.fixed-B,h:l.stretch+l.fixed-j},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:L,pixelOffsetBR:O,minFontScaleX:E/a/c,minFontScaleY:M/a/u,isSDF:n}};if(i&&(o.stretchX||o.stretchY)){const e=md(h,y,f),t=md(d,_,g);for(let n=0;n<e.length-1;n++){const i=e[n],o=e[n+1];for(let e=0;e<t.length-1;e++)r.push(I(i,t[e],o,t[e+1]))}}else r.push(I({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return r}function fd(e,t,n){let i=0;for(const r of e)i+=Math.max(t,Math.min(n,r[1]))-Math.max(t,Math.min(n,r[0]));return i}function md(e,t,n){const i=[{fixed:-1,stretch:0}];for(const[t,n]of e){const e=i[i.length-1];i.push({fixed:t-e.stretch,stretch:e.stretch}),i.push({fixed:t-e.stretch,stretch:e.stretch+(n-t)})}return i.push({fixed:t+1,stretch:n}),i}function gd(e,t,n,i){return e/t*n+i}function yd(e,t,n,i){return e-t*n/i}function _d(e,t,n,i){const r=t+e.positionedLines[i].lineOffset;return 0===i?n+r/2:n+(r+(t+e.positionedLines[i-1].lineOffset))/2}dd.loadGlyphRange=function(e,t,n,i,r){const o=256*t,a=o+255,s=i.transformRequest(i.normalizeGlyphsURL(n).replace("{fontstack}",e).replace("{range}",`${o}-${a}`),ae.Glyphs);ue(s,(e,t)=>{if(e)r(e);else if(t){const e={},n=function(e){return new dh(e).readFields(Lh,{})}(t);for(const t of n.glyphs)e[t.id]=t;r(null,{glyphs:e,ascender:n.ascender,descender:n.descender})}})},dd.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:n=8,cutoff:i=.25,fontFamily:r="sans-serif",fontWeight:o="normal",fontStyle:a="normal"}={}){this.buffer=t,this.cutoff=i,this.radius=n;const s=this.size=e+4*t,l=this._createCanvas(s),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font=`${a} ${o} ${e}px ${r}`,c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:n,actualBoundingBoxDescent:i,actualBoundingBoxLeft:r,actualBoundingBoxRight:o}=this.ctx.measureText(e),a=Math.ceil(n),s=Math.min(this.size-this.buffer,Math.ceil(o-r)),l=Math.min(this.size-this.buffer,a+Math.ceil(i)),c=s+2*this.buffer,u=l+2*this.buffer,h=Math.max(c*u,0),d=new Uint8ClampedArray(h),p={data:d,width:c,height:u,glyphWidth:s,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:t};if(0===s||0===l)return p;const{ctx:f,buffer:m,gridInner:g,gridOuter:y}=this;f.clearRect(m,m,s,l),f.fillText(e,m,m+a);const _=f.getImageData(m,m,s,l);y.fill(ld,0,h),g.fill(0,0,h);for(let e=0;e<l;e++)for(let t=0;t<s;t++){const n=_.data[4*(e*s+t)+3]/255;if(0===n)continue;const i=(e+m)*c+t+m;if(1===n)y[i]=0,g[i]=ld;else{const e=.5-n;y[i]=e>0?e*e:0,g[i]=e<0?e*e:0}}cd(y,0,0,c,u,c,this.f,this.v,this.z),cd(g,m,m,s,l,c,this.f,this.v,this.z);for(let e=0;e<h;e++){const t=Math.sqrt(y[e])-Math.sqrt(g[e]);d[e]=Math.round(255-255*(t/this.radius+this.cutoff))}return p}};class vd{constructor(e=[],t=xd){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const r=e-1>>1,o=t[r];if(n(i,o)>=0)break;t[e]=o,e=r}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,r=t[e];for(;e<i;){let i=1+(e<<1),o=t[i];const a=i+1;if(a<this.length&&n(t[a],o)<0&&(i=a,o=t[a]),n(o,r)>=0)break;t[e]=o,e=i}t[e]=r}}function xd(e,t){return e<t?-1:e>t?1:0}function bd(e,t=1,n=!1){let i=1/0,r=1/0,o=-1/0,a=-1/0;const s=e[0];for(let e=0;e<s.length;e++){const t=s[e];(!e||t.x<i)&&(i=t.x),(!e||t.y<r)&&(r=t.y),(!e||t.x>o)&&(o=t.x),(!e||t.y>a)&&(a=t.y)}const l=Math.min(o-i,a-r);let c=l/2;const u=new vd([],wd);if(0===l)return new m(i,r);for(let t=i;t<o;t+=l)for(let n=r;n<a;n+=l)u.push(new Td(t+c,n+c,c,e));let h=function(e){let t=0,n=0,i=0;const r=e[0];for(let e=0,o=r.length,a=o-1;e<o;a=e++){const o=r[e],s=r[a],l=o.x*s.y-s.x*o.y;n+=(o.x+s.x)*l,i+=(o.y+s.y)*l,t+=3*l}return new Td(n/t,i/t,0,e)}(e),d=u.length;for(;u.length;){const i=u.pop();(i.d>h.d||!h.d)&&(h=i,n&&console.log("found best %d after %d probes",Math.round(1e4*i.d)/1e4,d)),i.max-h.d<=t||(c=i.h/2,u.push(new Td(i.p.x-c,i.p.y-c,c,e)),u.push(new Td(i.p.x+c,i.p.y-c,c,e)),u.push(new Td(i.p.x-c,i.p.y+c,c,e)),u.push(new Td(i.p.x+c,i.p.y+c,c,e)),d+=4)}return n&&(console.log("num probes: "+d),console.log("best distance: "+h.d)),h.p}function wd(e,t){return t.max-e.max}function Td(e,t,n,i){this.p=new m(e,t),this.h=n,this.d=function(e,t){let n=!1,i=1/0;for(let r=0;r<t.length;r++){const o=t[r];for(let t=0,r=o.length,a=r-1;t<r;a=t++){const r=o[t],s=o[a];r.y>e.y!=s.y>e.y&&e.x<(s.x-r.x)*(e.y-r.y)/(s.y-r.y)+r.x&&(n=!n),i=Math.min(i,$s(e,r,s))}}return(n?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}const Ed=Number.POSITIVE_INFINITY,Sd=Math.sqrt(2);function Md(e,[t,n]){let i=0,r=0;if(n===Ed){t<0&&(t=0);const n=t/Sd;switch(e){case"top-right":case"top-left":r=n-7;break;case"bottom-right":case"bottom-left":r=7-n;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":i=-n;break;case"top-left":case"bottom-left":i=n;break;case"left":i=t;break;case"right":i=-t}}else{switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":r=n-7;break;case"bottom-right":case"bottom-left":case"bottom":r=7-n}switch(e){case"top-right":case"bottom-right":case"right":i=-t;break;case"top-left":case"bottom-left":case"left":i=t}}return[i,r]}function Id(e,t,n,i,r,o,a,s,l,c){e.createArrays(),e.tilePixelRatio=ps/(512*e.overscaling),e.compareText={},e.iconsNeedLinear=!1;const u=e.layers[0].layout,h=e.layers[0]._unevaluatedLayout._values,d={};if("composite"===e.textSizeData.kind){const{minZoom:t,maxZoom:n}=e.textSizeData;d.compositeTextSizes=[h["text-size"].possiblyEvaluate(new Po(t),s),h["text-size"].possiblyEvaluate(new Po(n),s)]}if("composite"===e.iconSizeData.kind){const{minZoom:t,maxZoom:n}=e.iconSizeData;d.compositeIconSizes=[h["icon-size"].possiblyEvaluate(new Po(t),s),h["icon-size"].possiblyEvaluate(new Po(n),s)]}d.layoutTextSize=h["text-size"].possiblyEvaluate(new Po(l+1),s),d.layoutIconSize=h["icon-size"].possiblyEvaluate(new Po(l+1),s),d.textMaxSize=h["text-size"].possiblyEvaluate(new Po(18),s);const p="map"===u.get("text-rotation-alignment")&&"point"!==u.get("symbol-placement"),f=u.get("text-size");for(const o of e.features){const l=u.get("text-font").evaluate(o,{},s).join(","),h=f.evaluate(o,{},s),m=d.layoutTextSize.evaluate(o,{},s),g=(d.layoutIconSize.evaluate(o,{},s),{horizontal:{},vertical:void 0}),y=o.text;let _,v=[0,0];if(y){const i=y.toString(),a=24*u.get("text-letter-spacing").evaluate(o,{},s),c=24*u.get("text-line-height").evaluate(o,{},s),d=ho(i)?a:0,f=u.get("text-anchor").evaluate(o,{},s),_=u.get("text-variable-anchor");if(!_){const e=u.get("text-radial-offset").evaluate(o,{},s);v=e?Md(f,[24*e,Ed]):u.get("text-offset").evaluate(o,{},s).map(e=>24*e)}let x=p?"center":u.get("text-justify").evaluate(o,{},s);const b="point"===u.get("symbol-placement"),w=b?24*u.get("text-max-width").evaluate(o,{},s):1/0,T=o=>{e.allowVerticalPlacement&&uo(i)&&(g.vertical=Gh(y,t,n,r,l,w,c,f,o,d,v,Nh.vertical,!0,m,h))};if(!p&&_){const e="auto"===x?_.map(e=>Cd(e)):[x];let i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(!g.horizontal[a])if(i)g.horizontal[a]=g.horizontal[0];else{const e=Gh(y,t,n,r,l,w,c,"center",a,d,v,Nh.horizontal,!1,m,h);e&&(g.horizontal[a]=e,i=1===e.positionedLines.length)}}T("left")}else{if("auto"===x&&(x=Cd(f)),b||u.get("text-writing-mode").indexOf("horizontal")>=0||!uo(i)){const e=Gh(y,t,n,r,l,w,c,f,x,d,v,Nh.horizontal,!1,m,h);e&&(g.horizontal[x]=e)}T(b?"left":x)}}let x=!1;if(o.icon&&o.icon.name){const t=i[o.icon.name];t&&(_=Qh(r[o.icon.name],u.get("icon-offset").evaluate(o,{},s),u.get("icon-anchor").evaluate(o,{},s)),x=t.sdf,void 0===e.sdfIcons?e.sdfIcons=t.sdf:e.sdfIcons!==t.sdf&&V("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(t.pixelRatio!==e.pixelRatio||0!==u.get("icon-rotate").constantOr(1))&&(e.iconsNeedLinear=!0))}const b=zd(g.horizontal)||g.vertical;e.iconsInText||(e.iconsInText=!!b&&b.iconsInText),(b||_)&&kd(e,o,g,_,i,d,m,0,v,x,a,s,c)}o&&e.generateCollisionDebugBuffers(l,e.collisionBoxArray)}function Cd(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function kd(e,t,n,i,r,o,a,s,l,c,u,h,d){let p=o.textMaxSize.evaluate(t,{},h);void 0===p&&(p=a);const f=e.layers[0].layout,m=f.get("icon-offset").evaluate(t,{},h),g=zd(n.horizontal)||n.vertical,y="globe"===d.name,_=a/24,x=e.tilePixelRatio*p/24,b=(k=e.overscaling,e.zoom>18&&k>2&&(k>>=1),Math.max(ps/(512*k),1)*f.get("symbol-spacing")),w=f.get("text-padding")*e.tilePixelRatio,T=f.get("icon-padding")*e.tilePixelRatio,E=v(f.get("text-max-angle")),S="map"===f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),M="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),I=f.get("symbol-placement"),C=b/2;var k;const A=f.get("icon-text-fit");let P;i&&"none"!==A&&(e.allowVerticalPlacement&&n.vertical&&(P=Kh(i,n.vertical,A,f.get("icon-text-fit-padding"),m,_)),g&&(i=Kh(i,g,A,f.get("icon-text-fit-padding"),m,_)));const z=(a,s,p)=>{if(s.x<0||s.x>=ps||s.y<0||s.y>=ps)return;let f=null;if(y){const{x:e,y:t,z:n}=d.projectTilePoint(s.x,s.y,p);f={anchor:new ed(e,t,n,0,void 0),up:d.upVector(p,s.x,s.y)}}!function(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v,x,b,w,T,E){const S=e.addToLineVertexArray(t,i);let M,I,C,k,A,P,z,D=0,L=0,O=0,R=0,B=-1,j=-1;const F={};let N=La.exports("");const U=n?n.anchor:t;let G=0,Z=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?[G,Z]=l.layout.get("text-offset").evaluate(x,{},E).map(e=>24*e):(G=24*l.layout.get("text-radial-offset").evaluate(x,{},E),Z=Ed),e.allowVerticalPlacement&&r.vertical){const e=r.vertical;if(f)P=Ld(e),s&&(z=Ld(s));else{const n=l.layout.get("text-rotate").evaluate(x,{},E)+90;C=Dd(c,U,t,u,h,d,e,p,n,m),s&&(k=Dd(c,U,t,u,h,d,s,y,n))}}if(o){const i=l.layout.get("icon-rotate").evaluate(x,{},E),r="none"!==l.layout.get("icon-text-fit"),a=pd(o,i,w,r),p=s?pd(s,i,w,r):void 0;I=Dd(c,U,t,u,h,d,o,y,i),D=4*a.length;const f=e.iconSizeData;let m=null;"source"===f.kind?(m=[ih*l.layout.get("icon-size").evaluate(x,{},E)],m[0]>Ad&&V(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')):"composite"===f.kind&&(m=[ih*b.compositeIconSizes[0].evaluate(x,{},E),ih*b.compositeIconSizes[1].evaluate(x,{},E)],(m[0]>Ad||m[1]>Ad)&&V(e.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')),e.addSymbols(e.icon,a,m,v,_,x,!1,n,t,S.lineStartIndex,S.lineLength,-1,T,E),B=e.icon.placedSymbolArray.length-1,p&&(L=4*p.length,e.addSymbols(e.icon,p,m,v,_,x,Nh.vertical,n,t,S.lineStartIndex,S.lineLength,-1,T,E),j=e.icon.placedSymbolArray.length-1)}for(const i in r.horizontal){const o=r.horizontal[i];M||(N=La.exports(o.text),f?A=Ld(o):M=Dd(c,U,t,u,h,d,o,p,l.layout.get("text-rotate").evaluate(x,{},E),m));const s=1===o.positionedLines.length;if(O+=Pd(e,n,t,o,a,l,f,x,m,S,r.vertical?Nh.horizontal:Nh.horizontalOnly,s?Object.keys(r.horizontal):[i],F,B,b,T,E),s)break}r.vertical&&(R+=Pd(e,n,t,r.vertical,a,l,f,x,m,S,Nh.vertical,["vertical"],F,j,b,T,E));let W=-1;const q=(e,t)=>e?Math.max(e,t):t;W=q(A,W),W=q(P,W),W=q(z,W);const $=W>-1?1:0;e.glyphOffsetArray.length>=qp.MAX_GLYPHS&&V("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&e.addToSortKeyRanges(e.symbolInstances.length,x.sortKey),e.symbolInstances.emplaceBack(U.x,U.y,U.z,t.x,t.y,F.right>=0?F.right:-1,F.center>=0?F.center:-1,F.left>=0?F.left:-1,F.vertical>=0?F.vertical:-1,B,j,N,void 0!==M?M:e.collisionBoxArray.length,void 0!==M?M+1:e.collisionBoxArray.length,void 0!==C?C:e.collisionBoxArray.length,void 0!==C?C+1:e.collisionBoxArray.length,void 0!==I?I:e.collisionBoxArray.length,void 0!==I?I+1:e.collisionBoxArray.length,k||e.collisionBoxArray.length,k?k+1:e.collisionBoxArray.length,u,O,R,D,L,$,0,G,Z,W)}(e,s,f,a,n,i,r,P,e.layers[0],e.collisionBoxArray,t.index,t.sourceLayerIndex,e.index,w,S,l,0,T,M,m,t,o,c,u,h)};if("line"===I)for(const r of sd(t.geometry,0,0,ps,ps)){const t=ad(r,b,E,n.vertical||g,i,24,x,e.overscaling,ps);for(const n of t){const t=g;t&&Od(e,t.text,C,n)||z(r,n,h)}}else if("line-center"===I){for(const e of t.geometry)if(e.length>1){const t=od(e,E,n.vertical||g,i,24,x);t&&z(e,t,h)}}else if("Polygon"===t.type)for(const e of Vc(t.geometry,0)){const t=bd(e,16);z(e[0],new ed(t.x,t.y,0,0,void 0),h)}else if("LineString"===t.type)for(const e of t.geometry)z(e,new ed(e[0].x,e[0].y,0,0,void 0),h);else if("Point"===t.type)for(const e of t.geometry)for(const t of e)z([t],new ed(t.x,t.y,0,0,void 0),h)}const Ad=32640;function Pd(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,g,y){const _=function(e,t,n,i,r,o,a,s){const l=[];if(0===t.positionedLines.length)return l;const c=i.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,u=function(e){const t=e[0],n=e[1],i=t*n;return i>0?[t,-n]:i<0?[-t,n]:0===t?[n,t]:[n,-t]}(n);let h=Math.abs(t.top-t.bottom);for(const e of t.positionedLines)h-=e.lineOffset;const d=t.positionedLines.length,p=h/d;let f=t.top-n[1];for(let e=0;e<d;++e){const i=t.positionedLines[e];f=_d(t,p,f,e);for(const e of i.positionedGlyphs){if(!e.rect)continue;const i=e.rect||{};let o=4,h=!0,d=1,p=0;if(e.imageName){const t=a[e.imageName];if(!t)continue;if(t.sdf){V("SDF images are not supported in formatted text and will be ignored.");continue}h=!1,d=t.pixelRatio,o=1/d}const g=(r||s)&&e.vertical,y=e.metrics.advance*e.scale/2,_=e.metrics,v=e.rect;if(null===v)continue;s&&t.verticalizable&&(p=e.imageName?y-e.metrics.width*e.scale/2:0);const x=r?[e.x+y,e.y]:[0,0];let b=[0,0],w=[0,0],T=!1;r||(g?(w=[e.x+y+u[0],e.y+u[1]-p],T=!0):b=[e.x+y+n[0],e.y+n[1]-p]);const E=v.w*e.scale/(d*(e.localGlyph?2:1)),S=v.h*e.scale/(d*(e.localGlyph?2:1));let M,I,C,k;if(g){const t=e.y-f,n=new m(-y,y-t),i=-Math.PI/2,r=new m(...w);M=new m(-y+b[0],b[1]),M._rotateAround(i,n)._add(r),M.x+=-t+y,M.y-=(_.left-o)*e.scale;const a=e.imageName?_.advance*e.scale:24*e.scale,s=String.fromCharCode(e.glyph);uh(s)?M.x+=(1-o)*e.scale:hh(s)?M.x+=a-_.height*e.scale+(-o-1)*e.scale:M.x+=e.imageName||_.width+2*o===v.w&&_.height+2*o===v.h?(a-S)/2:(a-(_.height+2*o)*e.scale)/2,I=new m(M.x,M.y-E),C=new m(M.x+S,M.y),k=new m(M.x+S,M.y-E)}else{const t=(_.left-o)*e.scale-y+b[0],n=(-_.top-o)*e.scale+b[1],i=t+E,r=n+S;M=new m(t,n),I=new m(i,n),C=new m(t,r),k=new m(i,r)}if(c){let e;e=r?new m(0,0):T?new m(u[0],u[1]):new m(n[0],n[1]),M._rotateAround(c,e),I._rotateAround(c,e),C._rotateAround(c,e),k._rotateAround(c,e)}const A=new m(0,0),P=new m(0,0);l.push({tl:M,tr:I,bl:C,br:k,tex:i,writingMode:t.writingMode,glyphOffset:x,sectionIndex:e.sectionIndex,isSDF:h,pixelOffsetTL:A,pixelOffsetBR:P,minFontScaleX:0,minFontScaleY:0})}}return l}(0,i,l,o,a,s,r,e.allowVerticalPlacement),v=e.textSizeData;let x=null;"source"===v.kind?(x=[ih*o.layout.get("text-size").evaluate(s,{},y)],x[0]>Ad&&V(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')):"composite"===v.kind&&(x=[ih*f.compositeTextSizes[0].evaluate(s,{},y),ih*f.compositeTextSizes[1].evaluate(s,{},y)],(x[0]>Ad||x[1]>Ad)&&V(e.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')),e.addSymbols(e.text,_,x,l,a,s,u,t,n,c.lineStartIndex,c.lineLength,p,g,y);for(const t of h)d[t]=e.text.placedSymbolArray.length-1;return 4*_.length}function zd(e){for(const t in e)return e[t];return null}function Dd(e,t,n,i,r,o,a,s,l,c){let u=a.top,h=a.bottom,d=a.left,p=a.right;const f=a.collisionPadding;if(f&&(d-=f[0],u-=f[1],p+=f[2],h+=f[3]),l){const e=new m(d,u),t=new m(p,u),n=new m(d,h),i=new m(p,h),r=v(l);let o=new m(0,0);c&&(o=new m(c[0],c[1])),e._rotateAround(r,o),t._rotateAround(r,o),n._rotateAround(r,o),i._rotateAround(r,o),d=Math.min(e.x,t.x,n.x,i.x),p=Math.max(e.x,t.x,n.x,i.x),u=Math.min(e.y,t.y,n.y,i.y),h=Math.max(e.y,t.y,n.y,i.y)}return e.emplaceBack(t.x,t.y,t.z,n.x,n.y,d,u,p,h,s,i,r,o),e.length-1}function Ld(e){e.collisionPadding&&(e.top-=e.collisionPadding[1],e.bottom+=e.collisionPadding[3]);const t=e.bottom-e.top;return t>0?Math.max(10,t):null}function Od(e,t,n,i){const r=e.compareText;if(t in r){const e=r[t];for(let t=e.length-1;t>=0;t--)if(i.dist(e[t])<n)return!0}else r[t]=[];return r[t].push(i),!1}const Rd=Ho([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Bd}=Rd,jd=Ho([{name:"a_pos_3",components:3,type:"Int16"}]);var Fd=Ho([{name:"a_pos",type:"Int16",components:2}]);const Nd=ps/Math.PI/2,Ud=2*bs(1,0)*Nd*Math.PI,Vd=[64,32,16],Gd=-Nd,Zd=Nd,Wd=[new Xl([Gd,Gd,Gd],[Zd,Zd,Zd]),new Xl([Gd,Gd,Gd],[0,0,Zd]),new Xl([0,Gd,Gd],[Zd,0,Zd]),new Xl([Gd,0,Gd],[0,Zd,Zd]),new Xl([0,0,Gd],[Zd,Zd,Zd])];function qd(e,t,n,i=!0){const r=Il([],e._camera.position,e.worldSize),o=[t,n,1,1];Nl(o,o,e.pixelMatrixInverse),jl(o,o,1/o[3]);const a=kl([],Ol([],o,r)),s=e.globeMatrix,l=[s[12],s[13],s[14]],c=Ol([],l,r),u=xl(c),h=kl([],c),d=e.worldSize/(2*Math.PI),p=Al(h,a),f=Math.asin(d/u);if(f<Math.acos(p)){if(!i)return null;const e=[],t=[];Il(e,a,u/p),kl(t,Ol(t,e,c)),kl(a,wl(a,c,Il(a,t,Math.tan(f)*u)))}const m=[];new ql(r,a).closestPointOnSphere(l,d,m);const g=kl([],Y(s,0)),y=kl([],Y(s,1)),_=kl([],Y(s,2)),v=Al(g,m),b=Al(y,m),w=Al(_,m),T=x(Math.asin(-b/d));let E=x(Math.atan2(v,w));E=e.center.lng+function(e,t){const n=(t-e+180)%360-180;return n<-180?n+360:n}(e.center.lng,E);const M=vs(E),I=S(xs(T),0,1);return new Is(M,I)}class $d{constructor(e,t,n){this.a=Ol([],e,n),this.b=Ol([],t,n),this.center=n;const i=kl([],this.a),r=kl([],this.b);this.angle=Math.acos(Al(i,r))}}function Hd(e,t){if(0===e.angle)return null;let n;return n=0===e.a[t]?1/e.angle*.5*Math.PI:1/e.angle*Math.atan(e.b[t]/e.a[t]/Math.sin(e.angle)-1/Math.tan(e.angle)),n<0||n>1?null:function(e,t,n,i){const r=Math.sin(n);return e*(Math.sin((1-i)*n)/r)+t*(Math.sin(i*n)/r)}(e.a[t],e.b[t],e.angle,S(n,0,1))+e.center[t]}function Xd(e){if(e.z<=1)return Wd[e.z+2*e.y+e.x];const t=ep(Kd(e));return Xl.fromPoints(t)}function Yd(e,t,n){return Il(e,e,1-n),Cl(e,e,t,n)}function Jd(e,t){const n=cp(t.zoom);if(0===n)return Xd(e);const i=Kd(e),r=ep(i),o=vs(i.getWest())*t.worldSize,a=vs(i.getEast())*t.worldSize,s=xs(i.getNorth())*t.worldSize,l=xs(i.getSouth())*t.worldSize,c=[o,s,0],u=[a,s,0],h=[o,l,0],d=[a,l,0],p=cl([],t.globeMatrix);return zl(c,c,p),zl(u,u,p),zl(h,h,p),zl(d,d,p),r[0]=Yd(r[0],h,n),r[1]=Yd(r[1],d,n),r[2]=Yd(r[2],u,n),r[3]=Yd(r[3],c,n),Xl.fromPoints(r)}function Qd(e,t,n){for(const i of e)zl(i,i,t),Il(i,i,n)}function Kd({x:e,y:t,z:n}){const i=1/(1<<n),r=new gs(ws(e*i),Ts((t+1)*i)),o=new gs(ws((e+1)*i),Ts(t*i));return new fs(r,o)}function ep(e){const t=v(e.getNorth()),n=v(e.getSouth()),i=Math.cos(t),r=Math.cos(n),o=Math.sin(t),a=Math.sin(n),s=e.getWest(),l=e.getEast();return[tp(r,a,s),tp(r,a,l),tp(i,o,l),tp(i,o,s)]}function tp(e,t,n,i=Nd){return n=v(n),[e*Math.sin(n)*i,-t*i,e*Math.cos(n)*i]}function np(e,t,n){return tp(Math.cos(v(e)),Math.sin(v(e)),t,n)}function ip(e,t,n,i){const r=1<<n.z,o=(e/ps+n.x)/r;return np(Ts((t/ps+n.y)/r),ws(o),i)}function rp({min:e,max:t}){return 16383/Math.max(t[0]-e[0],t[1]-e[1],t[2]-e[2])}const op=new Float64Array(16);function ap(e){const t=rp(e),n=ml(op,[t,t,t]);return hl(n,n,((i=[])[0]=-(r=e.min)[0],i[1]=-r[1],i[2]=-r[2],i));var i,r}function sp(e){const t=(i=e.min,(n=op)[0]=1,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=1,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=1,n[11]=0,n[12]=i[0],n[13]=i[1],n[14]=i[2],n[15]=1,n);var n,i;const r=1/rp(e);return dl(t,t,[r,r,r])}function lp(e,t,n,i,r){const o=function(e){const t=ps/(2*Math.PI);return e/(2*Math.PI)/t}(n),a=[e,t,-n/(2*Math.PI)],s=ll(new Float64Array(16));return hl(s,s,a),dl(s,s,[o,o,o]),pl(s,s,v(-r)),fl(s,s,v(-i)),s}function cp(e){return M(5,6,e)}function up(e,t){const n=np(t.lat,t.lng);return o=(i=Tl([],function(e){const t=np(e._center.lat,e._center.lng);let n=Pl([],bl(0,1,0),t);const i=gl([],-e.angle,t);n=zl(n,n,i),gl(i,-e._pitch,n);const r=kl([],t);return Il(r,r,e.cameraToCenterDistance/e.pixelsPerMeter*Ud),zl(r,r,i),wl([],t,r)}(e),n))[0],a=i[1],s=i[2],l=(r=n)[0],c=r[1],u=r[2],d=(h=Math.sqrt(o*o+a*a+s*s)*Math.sqrt(l*l+c*c+u*u))&&Al(i,r)/h,Math.acos(Math.min(Math.max(d,-1),1));var i,r,o,a,s,l,c,u,h,d}function hp(e,t){return up(e,t)>Math.PI/2*1.01}const dp=v(85),pp=Math.cos(dp),fp=Math.sin(dp);function mp(e,t){const n=e.fovAboveCenter,i=e.elevation?e.elevation.getMinElevationBelowMSL()*t:0,r=(e._camera.position[2]*e.worldSize-i)/Math.cos(e._pitch),o=Math.sin(n)*r/Math.sin(Math.max(Math.PI/2-e._pitch-n,.01)),a=Math.sin(e._pitch)*o+r;return Math.min(1.01*a,r*(1/e._horizonShift))}function gp(e,t){if(!t.isReprojectedInTileSpace)return{scale:1<<e.z,x:e.x,y:e.y,x2:e.x+1,y2:e.y+1,projection:t};const n=Math.pow(2,-e.z),i=e.x*n,r=(e.x+1)*n,o=e.y*n,a=(e.y+1)*n,s=ws(i),l=ws(r),c=Ts(o),u=Ts(a),h=t.project(s,c),d=t.project(l,c),p=t.project(l,u),f=t.project(s,u);let m=Math.min(h.x,d.x,p.x,f.x),g=Math.min(h.y,d.y,p.y,f.y),y=Math.max(h.x,d.x,p.x,f.x),_=Math.max(h.y,d.y,p.y,f.y);const v=n/16;function x(e,n,i,r,o,a){const s=(i+o)/2,l=(r+a)/2,c=t.project(ws(s),Ts(l)),u=Math.max(0,m-c.x,g-c.y,c.x-y,c.y-_);m=Math.min(m,c.x),y=Math.max(y,c.x),g=Math.min(g,c.y),_=Math.max(_,c.y),u>v&&(x(e,c,i,r,s,l),x(c,n,s,l,o,a))}x(h,d,i,o,r,o),x(d,p,r,o,r,a),x(p,f,r,a,i,a),x(f,h,i,a,i,o),m-=v,g-=v,y+=v,_+=v;const b=1/Math.max(y-m,_-g);return{scale:b,x:m*b,y:g*b,x2:y*b,y2:_*b,projection:t}}const yp=ll(new Float32Array(16));class _p{constructor(e){this.spec=e,this.name=e.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(e,t){return{x:0,y:0,z:0}}unproject(e,t){return new gs(0,0)}projectTilePoint(e,t,n){return{x:e,y:t,z:0}}locationPoint(e,t,n=!0){return e._coordinatePoint(e.locationCoordinate(t),n)}pixelsPerMeter(e,t){return bs(1,e)*t}pixelSpaceConversion(e,t,n){return 1}farthestPixelDistance(e){return mp(e,e.pixelsPerMeter)}pointCoordinate(e,t,n,i){const r=e.horizonLineFromTop(!1),o=new m(t,Math.max(r,n));return e.rayIntersectionCoordinate(e.pointRayIntersection(o,i))}pointCoordinate3D(e,t,n){const i=new m(t,n);if(e.elevation)return e.elevation.pointCoordinate(i);{const t=this.pointCoordinate(e,i.x,i.y,0);return[t.x,t.y,t.z]}}isPointAboveHorizon(e,t){if(e.elevation)return!this.pointCoordinate3D(e,t.x,t.y);const n=e.horizonLineFromTop();return t.y<n}createInversionMatrix(e,t){return yp}createTileMatrix(e,t,n){let i,r,o;const a=n.canonical,s=ll(new Float64Array(16));if(this.isReprojectedInTileSpace){const l=gp(a,this);i=1,r=l.x+n.wrap*l.scale,o=l.y,dl(s,s,[i/l.scale,i/l.scale,e.pixelsPerMeter/t])}else i=t/e.zoomScale(a.z),r=(a.x+Math.pow(2,a.z)*n.wrap)*i,o=a.y*i;return hl(s,s,[r,o,0]),dl(s,s,[i/ps,i/ps,1]),s}upVector(e,t,n){return[0,0,1]}upVectorScale(e,t,n){return{metersToTile:1}}}class vp extends _p{constructor(e){super(e),this.range=[4,7],this.center=e.center||[-96,37.5];const[t,n]=this.parallels=e.parallels||[29.5,45.5],i=Math.sin(v(t));this.n=(i+Math.sin(v(n)))/2,this.c=1+i*(2*this.n-i),this.r0=Math.sqrt(this.c)/this.n}project(e,t){const{n:n,c:i,r0:r}=this,o=v(e-this.center[0]),a=v(t),s=Math.sqrt(i-2*n*Math.sin(a))/n;return{x:s*Math.sin(o*n),y:s*Math.cos(o*n)-r,z:0}}unproject(e,t){const{n:n,c:i,r0:r}=this,o=r+t;let a=Math.atan2(e,Math.abs(o))*Math.sign(o);o*n<0&&(a-=Math.PI*Math.sign(e)*Math.sign(o));const s=v(this.center[0])*n;a=I(a,-Math.PI-s,Math.PI-s);const l=S(x(a/n)+this.center[0],-180,180),c=Math.asin(S((i-(e*e+o*o)*n*n)/(2*n),-1,1)),u=S(x(c),-85.051129,Ss);return new gs(l,u)}}const xp=1.340264,bp=-.081106,wp=893e-6,Tp=.003796,Ep=Math.sqrt(3)/2;class Sp extends _p{project(e,t){t=t/180*Math.PI,e=e/180*Math.PI;const n=Math.asin(Ep*Math.sin(t)),i=n*n,r=i*i*i;return{x:.5*(e*Math.cos(n)/(Ep*(xp+3*bp*i+r*(7*wp+9*Tp*i)))/Math.PI+.5),y:1-.5*(n*(xp+bp*i+r*(wp+Tp*i))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let n=t=(2*(1-t)-1)*Math.PI,i=n*n,r=i*i*i;for(let e,o,a,s=0;s<12&&(o=n*(xp+bp*i+r*(wp+Tp*i))-t,a=xp+3*bp*i+r*(7*wp+9*Tp*i),e=o/a,n=S(n-e,-Math.PI/3,Math.PI/3),i=n*n,r=i*i*i,!(Math.abs(e)<1e-12));++s);const o=Ep*e*(xp+3*bp*i+r*(7*wp+9*Tp*i))/Math.cos(n),a=Math.asin(Math.sin(n)/Ep),s=S(180*o/Math.PI,-180,180),l=S(180*a/Math.PI,-85.051129,Ss);return new gs(s,l)}}class Mp extends _p{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0}project(e,t){return{x:.5+e/360,y:.5-t/360,z:0}}unproject(e,t){const n=360*(e-.5),i=S(360*(.5-t),-85.051129,Ss);return new gs(n,i)}}const Ip=Math.PI/2;function Cp(e){return Math.tan((Ip+e)/2)}class kp extends _p{constructor(e){super(e),this.center=e.center||[0,30];const[t,n]=this.parallels=e.parallels||[30,30];let i=v(t),r=v(n);this.southernCenter=i+r<0,this.southernCenter&&(i=-i,r=-r);const o=Math.cos(i),a=Cp(i);this.n=i===r?Math.sin(i):Math.log(o/Math.cos(r))/Math.log(Cp(r)/a),this.f=o*Math.pow(Cp(i),this.n)/this.n}project(e,t){t=v(t),this.southernCenter&&(t=-t),e=v(e-this.center[0]);const n=1e-6,{n:i,f:r}=this;r>0?t<-Ip+n&&(t=-Ip+n):t>Ip-n&&(t=Ip-n);const o=r/Math.pow(Cp(t),i);let a=o*Math.sin(i*e),s=r-o*Math.cos(i*e);return a=.5*(a/Math.PI+.5),s=.5*(s/Math.PI+.5),{x:a,y:this.southernCenter?s:1-s,z:0}}unproject(e,t){e=(2*e-.5)*Math.PI,this.southernCenter&&(t=1-t),t=(2*(1-t)-.5)*Math.PI;const{n:n,f:i}=this,r=i-t,o=Math.sign(r),a=Math.sign(n)*Math.sqrt(e*e+r*r);let s=Math.atan2(e,Math.abs(r))*o;r*n<0&&(s-=Math.PI*Math.sign(e)*o);const l=S(x(s/n)+this.center[0],-180,180),c=S(x(2*Math.atan(Math.pow(i/a,1/n))-Ip),-85.051129,Ss);return new gs(l,this.southernCenter?-c:c)}}class Ap extends _p{constructor(e){super(e),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(e,t){return{x:vs(e),y:xs(t),z:0}}unproject(e,t){const n=ws(e),i=Ts(t);return new gs(n,i)}}const Pp=v(Ss);class zp extends _p{project(e,t){const n=(t=v(t))*t,i=n*n;return{x:.5*((e=v(e))*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791))/Math.PI+.5),y:1-.5*(t*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))/Math.PI+1),z:0}}unproject(e,t){e=(2*e-.5)*Math.PI;let n=t=(2*(1-t)-1)*Math.PI,i=25,r=0,o=n*n;do{o=n*n;const e=o*o;r=(n*(1.007226+o*(.015085+e*(.028874*o-.044475-.005916*e)))-t)/(1.007226+o*(.045255+e*(.259866*o-.311325-.005916*11*e))),n=S(n-r,-Pp,Pp)}while(Math.abs(r)>1e-6&&--i>0);o=n*n;const a=S(x(e/(.8707+o*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979))),-180,180),s=x(n);return new gs(a,s)}}const Dp=v(Ss);class Lp extends _p{project(e,t){t=v(t),e=v(e);const n=Math.cos(t),i=2/Math.PI,r=Math.acos(n*Math.cos(e/2)),o=Math.sin(r)/r,a=.5*(e*i+2*n*Math.sin(e/2)/o)||0,s=.5*(t+Math.sin(t)/o)||0;return{x:.5*(a/Math.PI+.5),y:1-.5*(s/Math.PI+1),z:0}}unproject(e,t){let n=e=(2*e-.5)*Math.PI,i=t=(2*(1-t)-1)*Math.PI,r=25;const o=1e-6;let a=0,s=0;do{const r=Math.cos(i),o=Math.sin(i),l=2*o*r,c=o*o,u=r*r,h=Math.cos(n/2),d=Math.sin(n/2),p=2*h*d,f=d*d,m=1-u*h*h,g=m?1/m:0,y=m?Math.acos(r*h)*Math.sqrt(1/m):0,_=.5*(2*y*r*d+2*n/Math.PI)-e,v=.5*(y*o+i)-t,x=.5*g*(u*f+y*r*h*c)+1/Math.PI,b=g*(p*l/4-y*o*d),w=.125*g*(l*d-y*o*u*p),T=.5*g*(c*h+y*f*r)+.5,E=b*w-T*x;a=(v*b-_*T)/E,s=(_*w-v*x)/E,n=S(n-a,-Math.PI,Math.PI),i=S(i-s,-Dp,Dp)}while((Math.abs(a)>o||Math.abs(s)>o)&&--r>0);return new gs(x(n),x(i))}}class Op extends _p{constructor(e){super(e),this.center=e.center||[0,0],this.parallels=e.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(v(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(e,t){const{scale:n,cosPhi:i}=this;return{x:v(e)*i*n+.5,y:-Math.sin(v(t))/i*n+.5,z:0}}unproject(e,t){const{scale:n,cosPhi:i}=this,r=-(t-.5)/n,o=S(x((e-.5)/n)/i,-180,180),a=Math.asin(S(r*i,-1,1)),s=S(x(a),-85.051129,Ss);return new gs(o,s)}}class Rp extends Ap{constructor(e){super(e),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug","custom"],this.range=[3,5]}projectTilePoint(e,t,n){const i=ip(e,t,n);return zl(i,i,ap(Xd(n))),{x:i[0],y:i[1],z:i[2]}}locationPoint(e,t){const n=np(t.lat,t.lng),i=kl([],n),r=e.elevation?e.elevation.getAtPointOrZero(e.locationCoordinate(t),e._centerAltitude):e._centerAltitude;Cl(n,n,i,bs(1,0)*ps*r);const o=ll(new Float64Array(16));return ul(o,e.pixelMatrix,e.globeMatrix),zl(n,n,o),new m(n[0],n[1])}pixelsPerMeter(e,t){return bs(1,0)*t}pixelSpaceConversion(e,t,n){const i=bs(1,e)*t,r=Cn(bs(1,45)*t,i,n);return this.pixelsPerMeter(e,t)/r}createTileMatrix(e,t,n){const i=sp(Xd(n.canonical));return ul(new Float64Array(16),e.globeMatrix,i)}createInversionMatrix(e,t){const{center:n}=e,i=ap(Xd(t));return fl(i,i,v(n.lng)),pl(i,i,v(n.lat)),dl(i,i,[e._pixelsPerMercatorPixel,e._pixelsPerMercatorPixel,1]),Float32Array.from(i)}pointCoordinate(e,t,n,i){return qd(e,t,n,!0)||new Is(0,0)}pointCoordinate3D(e,t,n){const i=this.pointCoordinate(e,t,n,0);return[i.x,i.y,i.z]}isPointAboveHorizon(e,t){return!qd(e,t.x,t.y,!1)}farthestPixelDistance(e){const t=function(e,t){const n=e.cameraToCenterDistance,i=e._centerAltitude*t,r=e._camera,o=e._camera.forward(),a=wl([],Il([],o,-n),[0,0,i]),s=e.worldSize/(2*Math.PI),l=[0,0,-s],c=e.width/e.height,u=Math.tan(e.fovAboveCenter),h=Il([],r.up(),u),d=Il([],r.right(),u*c),p=kl([],wl([],wl([],o,h),d)),f=[];let m;if(new ql(a,p).closestPointOnSphere(l,s,f)){const t=wl([],f,l),n=Ol([],t,a);m=Math.cos(e.fovAboveCenter)*xl(n)}else{const e=Ol([],a,l),t=Ol([],l,a);kl(t,t);const n=xl(e)-s;m=Math.sqrt(n*(n+2*s));const i=Math.acos(m/(s+n))-Math.acos(Al(o,t));m*=Math.cos(i)}return 1.01*m}(e,this.pixelsPerMeter(e.center.lat,e.worldSize)),n=cp(e.zoom);if(n>0){const i=mp(e,bs(1,e.center.lat)*e.worldSize),r=e.worldSize/(2*Math.PI),o=Math.max(e.width,e.height)/e.worldSize*Math.PI;return Cn(t,i+r*(1-Math.cos(o)),Math.pow(n,10))}return t}upVector(e,t,n){return ip(t,n,e,1)}upVectorScale(e){return{metersToTile:Ud*rp(Xd(e))}}}function Bp(e){const t=e.parallels,n=!!t&&Math.abs(t[0]+t[1])<.01;switch(e.name){case"mercator":return new Ap(e);case"equirectangular":return new Mp(e);case"naturalEarth":return new zp(e);case"equalEarth":return new Sp(e);case"winkelTripel":return new Lp(e);case"albers":return n?new Op(e):new vp(e);case"lambertConformalConic":return n?new Op(e):new kp(e);case"globe":return new Rp(e)}throw new Error("Invalid projection name: "+e.name)}const jp=du.types,Fp=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Np(e,t,n,i,r,o,a,s,l,c,u,h,d){const p=s?Math.min(Ad,Math.round(s[0])):0,f=s?Math.min(Ad,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*i),Math.round(32*r),o,a,(p<<1)+(l?1:0),f,16*c,16*u,256*h,256*d)}function Up(e,t,n,i,r,o,a){e.emplaceBack(t,n,i,r,o,a)}function Vp(e,t,n,i,r){e.emplaceBack(t,n,i,r),e.emplaceBack(t,n,i,r),e.emplaceBack(t,n,i,r),e.emplaceBack(t,n,i,r)}function Gp(e){for(const t of e.sections)if(_o(t.text))return!0;return!1}class Zp{constructor(e){this.layoutVertexArray=new ra,this.indexArray=new da,this.programConfigurations=e,this.segments=new ds,this.dynamicLayoutVertexArray=new ea,this.opacityVertexArray=new aa,this.placedSymbolArray=new Ea,this.globeExtVertexArray=new oa}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,n,i){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Yu.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Qu.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Fp,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=e.createVertexBuffer(this.globeExtVertexArray,Ju.members,!0)),this.opacityVertexBuffer.itemSize=1),(n||i)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}zr(Zp,"SymbolBuffers");class Wp{constructor(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new ds,this.collisionVertexArray=new ua,this.collisionVertexArrayExt=new ha}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,Ku.members,!0),this.collisionVertexBufferExt=e.createVertexBuffer(this.collisionVertexArrayExt,eh.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}zr(Wp,"CollisionBuffers");class qp{constructor(e){this.collisionBoxArray=e.collisionBoxArray,this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.pixelRatio=e.pixelRatio,this.sourceLayerIndex=e.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=ll([]),this.placementViewportMatrix=ll([]);const t=this.layers[0]._unevaluatedLayout._values;this.textSizeData=rh(this.zoom,t["text-size"]),this.iconSizeData=rh(this.zoom,t["icon-size"]);const n=this.layers[0].layout,i=n.get("symbol-sort-key"),r=n.get("symbol-z-order");this.canOverlap=n.get("text-allow-overlap")||n.get("icon-allow-overlap")||n.get("text-ignore-placement")||n.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==r&&void 0!==i.constantOr(1),this.sortFeaturesByY=("viewport-y"===r||"auto"===r&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=n.get("text-writing-mode").map(e=>Nh[e]),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.sourceID=e.sourceID,this.projection=e.projection}createArrays(){this.text=new Zp(new ns(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new Zp(new ns(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new Ia,this.lineVertexArray=new Ca,this.symbolInstances=new Ma}calculateGlyphDependencies(e,t,n,i,r){for(let n=0;n<e.length;n++)if(t[e.charCodeAt(n)]=!0,i&&r){const i=ch[e.charAt(n)];i&&(t[i.charCodeAt(0)]=!0)}}populate(e,t,n,i){const r=this.layers[0],o=r.layout,a="globe"===this.projection.name,s=o.get("text-font"),l=o.get("text-field"),c=o.get("icon-image"),u=("constant"!==l.value.kind||l.value.value instanceof Pt&&!l.value.value.isEmpty()||l.value.value.toString().length>0)&&("constant"!==s.value.kind||s.value.value.length>0),h="constant"!==c.value.kind||!!c.value.value||Object.keys(c.parameters).length>0,d=o.get("symbol-sort-key");if(this.features=[],!u&&!h)return;const p=t.iconDependencies,f=t.glyphDependencies,m=t.availableImages,g=new Po(this.zoom);for(const{feature:t,id:l,index:c,sourceLayerIndex:y}of e){const e=r._featureFilter.needGeometry,_=Rs(t,e);if(!r._featureFilter.filter(g,_,n))continue;if(e||(_.geometry=Os(t,n,i)),a&&1!==t.type&&n.z<=5){const e=_.geometry,t=.98078528056,i=(e,i)=>Al(ip(e.x,e.y,n,1),ip(i.x,i.y,n,1))<t;for(let t=0;t<e.length;t++)e[t]=Ps(e[t],i)}let v,x;if(u){const e=r.getValueAndResolveTokens("text-field",_,n,m),t=Pt.factory(e);Gp(t)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Co()||this.hasRTLText&&Ao.isParsed())&&(v=lh(t,r,_))}if(h){const e=r.getValueAndResolveTokens("icon-image",_,n,m);x=e instanceof zt?e:zt.fromString(e)}if(!v&&!x)continue;const b=this.sortFeaturesByKey?d.evaluate(_,{},n):void 0;if(this.features.push({id:l,text:v,icon:x,index:c,sourceLayerIndex:y,geometry:_.geometry,properties:t.properties,type:jp[t.type],sortKey:b}),x&&(p[x.name]=!0),v){const e=s.evaluate(_,{},n).join(","),t="map"===o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Nh.vertical)>=0;for(const n of v.sections)if(n.image)p[n.image.name]=!0;else{const i=uo(v.toString()),r=n.fontStack||e,o=f[r]=f[r]||{};this.calculateGlyphDependencies(n.text,o,t,this.allowVerticalPlacement,i)}}}"line"===o.get("symbol-placement")&&(this.features=function(e){const t={},n={},i=[];let r=0;function o(t){i.push(e[t]),r++}function a(e,t,r){const o=n[e];return delete n[e],n[t]=o,i[o].geometry[0].pop(),i[o].geometry[0]=i[o].geometry[0].concat(r[0]),o}function s(e,n,r){const o=t[n];return delete t[n],t[e]=o,i[o].geometry[0].shift(),i[o].geometry[0]=r[0].concat(i[o].geometry[0]),o}function l(e,t,n){const i=n?t[0][t[0].length-1]:t[0][0];return`${e}:${i.x}:${i.y}`}for(let c=0;c<e.length;c++){const u=e[c],h=u.geometry,d=u.text?u.text.toString():null;if(!d){o(c);continue}const p=l(d,h),f=l(d,h,!0);if(p in n&&f in t&&n[p]!==t[f]){const e=s(p,f,h),r=a(p,f,i[e].geometry);delete t[p],delete n[f],n[l(d,i[r].geometry,!0)]=r,i[e].geometry=null}else p in n?a(p,f,h):f in t?s(p,f,h):(o(c),t[p]=r-1,n[f]=r-1)}return i.filter(e=>e.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((e,t)=>e.sortKey-t.sortKey)}update(e,t,n,i){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n,i),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n,i))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=Bp(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const n=this.lineVertexArray.length;if(void 0!==e.segment)for(const{x:e,y:n}of t)this.lineVertexArray.emplaceBack(e,n);return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(e,t,n,i,r,o,a,s,l,c,u,h,d,p){const f=e.indexArray,m=e.layoutVertexArray,g=e.globeExtVertexArray,y=e.segments.prepareSegment(4*t.length,m,f,this.canOverlap?o.sortKey:void 0),_=this.glyphOffsetArray.length,v=y.vertexLength,x=this.allowVerticalPlacement&&a===Nh.vertical?Math.PI/2:0,b=o.text&&o.text.sections;for(let i=0;i<t.length;i++){const{tl:r,tr:a,bl:c,br:u,tex:h,pixelOffsetTL:_,pixelOffsetBR:v,minFontScaleX:w,minFontScaleY:T,glyphOffset:E,isSDF:S,sectionIndex:M}=t[i],I=y.vertexLength,C=E[1];if(Np(m,l.x,l.y,r.x,C+r.y,h.x,h.y,n,S,_.x,_.y,w,T),Np(m,l.x,l.y,a.x,C+a.y,h.x+h.w,h.y,n,S,v.x,_.y,w,T),Np(m,l.x,l.y,c.x,C+c.y,h.x,h.y+h.h,n,S,_.x,v.y,w,T),Np(m,l.x,l.y,u.x,C+u.y,h.x+h.w,h.y+h.h,n,S,v.x,v.y,w,T),s){const{x:t,y:n,z:i}=s.anchor,[r,o,a]=s.up;Up(g,t,n,i,r,o,a),Up(g,t,n,i,r,o,a),Up(g,t,n,i,r,o,a),Up(g,t,n,i,r,o,a),Vp(e.dynamicLayoutVertexArray,t,n,i,x)}else Vp(e.dynamicLayoutVertexArray,l.x,l.y,l.z,x);f.emplaceBack(I,I+1,I+2),f.emplaceBack(I+1,I+2,I+3),y.vertexLength+=4,y.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(E[0]),i!==t.length-1&&M===t[i+1].sectionIndex||e.programConfigurations.populatePaintArrays(m.length,o,o.index,{},d,p,b&&b[M])}const w=s?s.anchor:l;e.placedSymbolArray.emplaceBack(w.x,w.y,w.z,l.x,l.y,_,this.glyphOffsetArray.length-_,v,c,u,l.segment,n?n[0]:0,n?n[1]:0,i[0],i[1],a,0,!1,0,h,0)}_commitLayoutVertex(e,t,n,i,r,o,a){e.emplaceBack(t,n,i,r,o,Math.round(a.x),Math.round(a.y))}_addCollisionDebugVertices(e,t,n,i,r,o,a){const s=n.segments.prepareSegment(4,n.layoutVertexArray,n.indexArray),l=s.vertexLength,c=a.tileAnchorX,u=a.tileAnchorY;for(let e=0;e<4;e++)n.collisionVertexArray.emplaceBack(0,0,0,0);n.collisionVertexArrayExt.emplaceBack(t,-e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,-e.padding),n.collisionVertexArrayExt.emplaceBack(t,e.padding,e.padding),n.collisionVertexArrayExt.emplaceBack(t,-e.padding,e.padding),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new m(e.x1,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new m(e.x2,e.y1)),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new m(e.x2,e.y2)),this._commitLayoutVertex(n.layoutVertexArray,i,r,o,c,u,new m(e.x1,e.y2)),s.vertexLength+=4;const h=n.indexArray;h.emplaceBack(l,l+1),h.emplaceBack(l+1,l+2),h.emplaceBack(l+2,l+3),h.emplaceBack(l+3,l),s.primitiveLength+=4}_addTextDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceTextSize(e,o,t,a);this._addCollisionDebugVertices(i,r,this.textCollisionBox,i.projectedAnchorX,i.projectedAnchorY,i.projectedAnchorZ,o)}}_addIconDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceIconSize(e,t,o.placedIconSymbolIndex);this._addCollisionDebugVertices(i,r,this.iconCollisionBox,i.projectedAnchorX,i.projectedAnchorY,i.projectedAnchorZ,o)}}generateCollisionDebugBuffers(e,t){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Wp(la,th.members,_a),this.iconCollisionBox=new Wp(la,th.members,_a);const n=ah(this.iconSizeData,e),i=ah(this.textSizeData,e);for(let r=0;r<this.symbolInstances.length;r++){const o=this.symbolInstances.get(r);this._addTextDebugCollisionBoxes(i,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._addTextDebugCollisionBoxes(i,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o),this._addIconDebugCollisionBoxes(n,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o)}}getSymbolInstanceTextSize(e,t,n,i){const r=this.text.placedSymbolArray.get(t.rightJustifiedTextSymbolIndex>=0?t.rightJustifiedTextSymbolIndex:t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.leftJustifiedTextSymbolIndex>=0?t.leftJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex>=0?t.verticalPlacedTextSymbolIndex:i),o=oh(this.textSizeData,e,r)/24;return this.tilePixelRatio*o}getSymbolInstanceIconSize(e,t,n){const i=this.icon.placedSymbolArray.get(n),r=oh(this.iconSizeData,e,i);return this.tilePixelRatio*r}_commitDebugCollisionVertexUpdate(e,t,n){e.emplaceBack(t,-n,-n),e.emplaceBack(t,n,-n),e.emplaceBack(t,n,n),e.emplaceBack(t,-n,n)}_updateTextDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceTextSize(e,o,t,a);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,r,i.padding)}}_updateIconDebugCollisionBoxes(e,t,n,i,r,o){for(let a=i;a<r;a++){const i=n.get(a),r=this.getSymbolInstanceIconSize(e,t,o);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,r,i.padding)}}updateCollisionDebugBuffers(e,t){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const n=ah(this.iconSizeData,e),i=ah(this.textSizeData,e);for(let r=0;r<this.symbolInstances.length;r++){const o=this.symbolInstances.get(r);this._updateTextDebugCollisionBoxes(i,e,t,o.textBoxStartIndex,o.textBoxEndIndex,o),this._updateTextDebugCollisionBoxes(i,e,t,o.verticalTextBoxStartIndex,o.verticalTextBoxEndIndex,o),this._updateIconDebugCollisionBoxes(n,e,t,o.iconBoxStartIndex,o.iconBoxEndIndex,o.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(n,e,t,o.verticalIconBoxStartIndex,o.verticalIconBoxEndIndex,o.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(e,t,n,i,r,o,a,s,l){const c={};if(t<n){const{x1:n,y1:i,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d,featureIndex:p}=e.get(t);c.textBox={x1:n,y1:i,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d},c.textFeatureIndex=p}if(i<r){const{x1:t,y1:n,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d,featureIndex:p}=e.get(i);c.verticalTextBox={x1:t,y1:n,x2:r,y2:o,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d},c.verticalTextFeatureIndex=p}if(o<a){const{x1:t,y1:n,x2:i,y2:r,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d,featureIndex:p}=e.get(o);c.iconBox={x1:t,y1:n,x2:i,y2:r,padding:a,projectedAnchorX:s,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d},c.iconFeatureIndex=p}if(s<l){const{x1:t,y1:n,x2:i,y2:r,padding:o,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d,featureIndex:p}=e.get(s);c.verticalIconBox={x1:t,y1:n,x2:i,y2:r,padding:o,projectedAnchorX:a,projectedAnchorY:l,projectedAnchorZ:u,tileAnchorX:h,tileAnchorY:d},c.verticalIconFeatureIndex=p}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const n=e.placedSymbolArray.get(t),i=n.vertexStartIndex+4*n.numGlyphs;for(let t=n.vertexStartIndex;t<i;t+=4)e.indexArray.emplaceBack(t,t+1,t+2),e.indexArray.emplaceBack(t+1,t+2,t+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),n=Math.cos(e),i=[],r=[],o=[];for(let e=0;e<this.symbolInstances.length;++e){o.push(e);const a=this.symbolInstances.get(e);i.push(0|Math.round(t*a.tileAnchorX+n*a.tileAnchorY)),r.push(a.featureIndex)}return o.sort((e,t)=>i[e]-i[t]||r[t]-r[e]),o}addToSortKeyRanges(e,t){const n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex);const{rightJustifiedTextSymbolIndex:n,centerJustifiedTextSymbolIndex:i,leftJustifiedTextSymbolIndex:r,verticalPlacedTextSymbolIndex:o,placedIconSymbolIndex:a,verticalPlacedIconSymbolIndex:s}=t;n>=0&&this.addIndicesForPlacedSymbol(this.text,n),i>=0&&i!==n&&this.addIndicesForPlacedSymbol(this.text,i),r>=0&&r!==i&&r!==n&&this.addIndicesForPlacedSymbol(this.text,r),o>=0&&this.addIndicesForPlacedSymbol(this.text,o),a>=0&&this.addIndicesForPlacedSymbol(this.icon,a),s>=0&&this.addIndicesForPlacedSymbol(this.icon,s)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}zr(qp,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),qp.MAX_GLYPHS=65535,qp.addDynamicAttributes=Vp;const $p=new Go({"symbol-placement":new No(Je.layout_symbol["symbol-placement"]),"symbol-spacing":new No(Je.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new No(Je.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Uo(Je.layout_symbol["symbol-sort-key"]),"symbol-z-order":new No(Je.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new No(Je.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new No(Je.layout_symbol["icon-ignore-placement"]),"icon-optional":new No(Je.layout_symbol["icon-optional"]),"icon-rotation-alignment":new No(Je.layout_symbol["icon-rotation-alignment"]),"icon-size":new Uo(Je.layout_symbol["icon-size"]),"icon-text-fit":new No(Je.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new No(Je.layout_symbol["icon-text-fit-padding"]),"icon-image":new Uo(Je.layout_symbol["icon-image"]),"icon-rotate":new Uo(Je.layout_symbol["icon-rotate"]),"icon-padding":new No(Je.layout_symbol["icon-padding"]),"icon-keep-upright":new No(Je.layout_symbol["icon-keep-upright"]),"icon-offset":new Uo(Je.layout_symbol["icon-offset"]),"icon-anchor":new Uo(Je.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new No(Je.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new No(Je.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new No(Je.layout_symbol["text-rotation-alignment"]),"text-field":new Uo(Je.layout_symbol["text-field"]),"text-font":new Uo(Je.layout_symbol["text-font"]),"text-size":new Uo(Je.layout_symbol["text-size"]),"text-max-width":new Uo(Je.layout_symbol["text-max-width"]),"text-line-height":new Uo(Je.layout_symbol["text-line-height"]),"text-letter-spacing":new Uo(Je.layout_symbol["text-letter-spacing"]),"text-justify":new Uo(Je.layout_symbol["text-justify"]),"text-radial-offset":new Uo(Je.layout_symbol["text-radial-offset"]),"text-variable-anchor":new No(Je.layout_symbol["text-variable-anchor"]),"text-anchor":new Uo(Je.layout_symbol["text-anchor"]),"text-max-angle":new No(Je.layout_symbol["text-max-angle"]),"text-writing-mode":new No(Je.layout_symbol["text-writing-mode"]),"text-rotate":new Uo(Je.layout_symbol["text-rotate"]),"text-padding":new No(Je.layout_symbol["text-padding"]),"text-keep-upright":new No(Je.layout_symbol["text-keep-upright"]),"text-transform":new Uo(Je.layout_symbol["text-transform"]),"text-offset":new Uo(Je.layout_symbol["text-offset"]),"text-allow-overlap":new No(Je.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new No(Je.layout_symbol["text-ignore-placement"]),"text-optional":new No(Je.layout_symbol["text-optional"])});var Hp={paint:new Go({"icon-opacity":new Uo(Je.paint_symbol["icon-opacity"]),"icon-color":new Uo(Je.paint_symbol["icon-color"]),"icon-halo-color":new Uo(Je.paint_symbol["icon-halo-color"]),"icon-halo-width":new Uo(Je.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Uo(Je.paint_symbol["icon-halo-blur"]),"icon-translate":new No(Je.paint_symbol["icon-translate"]),"icon-translate-anchor":new No(Je.paint_symbol["icon-translate-anchor"]),"text-opacity":new Uo(Je.paint_symbol["text-opacity"]),"text-color":new Uo(Je.paint_symbol["text-color"],{runtimeType:ct,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new Uo(Je.paint_symbol["text-halo-color"]),"text-halo-width":new Uo(Je.paint_symbol["text-halo-width"]),"text-halo-blur":new Uo(Je.paint_symbol["text-halo-blur"]),"text-translate":new No(Je.paint_symbol["text-translate"]),"text-translate-anchor":new No(Je.paint_symbol["text-translate-anchor"])}),layout:$p};class Xp{constructor(e){this.type=e.property.overrides?e.property.overrides.runtimeType:ot,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}zr(Xp,"FormatSectionOverride",{omit:["defaultValue"]});class Yp extends cs{constructor(e){super(e,Hp)}recalculate(e,t){super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const n=this.layout.get("text-writing-mode");if(n){const e=[];for(const t of n)e.indexOf(t)<0&&e.push(t);this.layout._values["text-writing-mode"]=e}else this.layout._values["text-writing-mode"]="point"===this.layout.get("symbol-placement")?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(e,t,n,i){const r=this.layout.get(e).evaluate(t,{},n,i),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||Fi(o.value)||!r?r:function(e,t){return t.replace(/{([^{}]+)}/g,(t,n)=>n in e?String(e[n]):"")}(t.properties,r)}createBucket(e){return new qp(e)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const e of Hp.paint.overridableProperties){if(!Yp.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),n=new Xp(t),i=new ji(n,t.property.specification);let r=null;r="constant"===t.value.kind||"source"===t.value.kind?new Ui("source",i):new Vi("composite",i,t.value.zoomStops,t.value._interpolationType),this.paint._values[e]=new jo(t.property,r,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,n){return!(!this.layout||t.isDataDriven()||n.isDataDriven())&&Yp.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const n=e.get("text-field"),i=Hp.paint.properties[t];let r=!1;const o=e=>{for(const t of e)if(i.overrides&&i.overrides.hasOverride(t))return void(r=!0)};if("constant"===n.value.kind&&n.value.value instanceof Pt)o(n.value.value.sections);else if("source"===n.value.kind){const e=t=>{r||(t instanceof jt&&Ot(t.value)===pt?o(t.value.sections):t instanceof Gt?o(t.sections):t.eachChild(e))},t=n.value;t._styleExpression&&e(t._styleExpression.expression)}return r}getProgramConfiguration(e){return new ts(this,e)}}var Jp={paint:new Go({"background-color":new No(Je.paint_background["background-color"]),"background-pattern":new No(Je.paint_background["background-pattern"]),"background-opacity":new No(Je.paint_background["background-opacity"])})},Qp={paint:new Go({"raster-opacity":new No(Je.paint_raster["raster-opacity"]),"raster-hue-rotate":new No(Je.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new No(Je.paint_raster["raster-brightness-min"]),"raster-brightness-max":new No(Je.paint_raster["raster-brightness-max"]),"raster-saturation":new No(Je.paint_raster["raster-saturation"]),"raster-contrast":new No(Je.paint_raster["raster-contrast"]),"raster-resampling":new No(Je.paint_raster["raster-resampling"]),"raster-fade-duration":new No(Je.paint_raster["raster-fade-duration"])})};class Kp extends cs{constructor(e){super(e,{}),this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(e){this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)}onRemove(e){this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)}}var ef={paint:new Go({"sky-type":new No(Je.paint_sky["sky-type"]),"sky-atmosphere-sun":new No(Je.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new No(Je.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new No(Je.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new No(Je.paint_sky["sky-gradient-radius"]),"sky-gradient":new Vo(Je.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new No(Je.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new No(Je.paint_sky["sky-atmosphere-color"]),"sky-opacity":new No(Je.paint_sky["sky-opacity"])})};function tf(e,t,n){const i=[0,0,1],r=Vl([]);return Zl(r,r,n?-v(e)+Math.PI:v(e)),Gl(r,r,-v(t)),Dl(i,i,r),kl(i,i)}const nf={circle:class extends cs{constructor(e){super(e,il)}createBucket(e){return new Fs(e)}queryRadius(e){const t=e;return Qs("circle-radius",this,t)+Qs("circle-stroke-width",this,t)+Ks(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,n,i,r,o,a,s){const l=tl(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),c=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n);return Yl(e,i,o,a,s,"map"===this.paint.get("circle-pitch-alignment"),"map"===this.paint.get("circle-pitch-scale"),l,c)}getProgramIds(){return["circle"]}getProgramConfiguration(e){return new ts(this,e)}},heatmap:class extends cs{createBucket(e){return new tc(e)}constructor(e){super(e,sc),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=lc({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(e){return Qs("heatmap-radius",this,e)}queryIntersectsFeature(e,t,n,i,r,o,a,s){const l=this.paint.get("heatmap-radius").evaluate(t,n);return Yl(e,i,o,a,s,!0,!0,new m(0,0),l)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(e){return new ts(this,e)}},hillshade:class extends cs{constructor(e){super(e,cc)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends cs{constructor(e){super(e,Hc)}getProgramIds(){const e=this.paint.get("fill-pattern"),t=e&&e.constantOr(1),n=[t?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&n.push(t&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),n}getProgramConfiguration(e){return new ts(this,e)}recalculate(e,t){super.recalculate(e,t);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new qc(e)}queryRadius(){return Ks(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,n,i,r,o){return!e.queryGeometry.isAboveHorizon&&Vs(el(e.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),i)}isTileClipped(){return!0}},"fill-extrusion":class extends cs{constructor(e){super(e,ku)}createBucket(e){return new vu(e)}queryRadius(){return Ks(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(e){return new ts(this,e)}queryIntersectsFeature(e,t,n,i,r,o,a,s,l){const c=tl(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),u=this.paint.get("fill-extrusion-height").evaluate(t,n),h=this.paint.get("fill-extrusion-base").evaluate(t,n),d=[0,0],p=s&&o.elevation,f=o.elevation?o.elevation.exaggeration():1,g=e.tile.getBucket(this);if(p&&g instanceof vu){const e=g.centroidVertexArray,t=l+1;t<e.length&&(d[0]=e.geta_centroid_pos0(t),d[1]=e.geta_centroid_pos1(t))}if(0===d[0]&&1===d[1])return!1;"globe"===o.projection.name&&(i=Iu([i],[new m(0,0),new m(ps,ps)],e.tileID.canonical).map(e=>e.polygon).flat());const y=p?s:null,[_,v]=function(e,t,n,i,r,o,a,s,l,c,u){return"globe"===e.projection.name?function(e,t,n,i,r,o,a,s,l,c,u){const h=[],d=[],p=e.projection.upVectorScale(u,e.center.lat,e.worldSize).metersToTile,f=[0,0,0,1],m=[0,0,0,1],g=(e,t,n,i)=>{e[0]=t,e[1]=n,e[2]=i,e[3]=1},y=Mu();n>0&&(n+=y),i+=y;for(const y of t){const t=[],_=[];for(const h of y){const d=h.x+r.x,y=h.y+r.y,v=e.projection.projectTilePoint(d,y,u),x=e.projection.upVector(u,h.x,h.y);let b=n,w=i;if(a){const e=ju(d,y,n,i,a,s,l,c);b+=e.base,w+=e.top}0!==n?g(f,v.x+x[0]*p*b,v.y+x[1]*p*b,v.z+x[2]*p*b):g(f,v.x,v.y,v.z),g(m,v.x+x[0]*p*w,v.y+x[1]*p*w,v.z+x[2]*p*w),zl(f,f,o),zl(m,m,o),t.push(new Ou(f[0],f[1],f[2])),_.push(new Ou(m[0],m[1],m[2]))}h.push(t),d.push(_)}return[h,d]}(e,t,n,i,r,o,a,s,l,c,u):a?function(e,t,n,i,r,o,a,s,l){const c=[],u=[],h=[0,0,0,1];for(const d of e){const e=[],p=[];for(const c of d){const u=c.x+i.x,d=c.y+i.y,f=ju(u,d,t,n,o,a,s,l);h[0]=u,h[1]=d,h[2]=f.base,h[3]=1,Nl(h,h,r),h[3]=Math.max(h[3],1e-5);const m=new Ou(h[0]/h[3],h[1]/h[3],h[2]/h[3]);h[0]=u,h[1]=d,h[2]=f.top,h[3]=1,Nl(h,h,r),h[3]=Math.max(h[3],1e-5);const g=new Ou(h[0]/h[3],h[1]/h[3],h[2]/h[3]);e.push(m),p.push(g)}c.push(e),u.push(p)}return[c,u]}(t,n,i,r,o,a,s,l,c):function(e,t,n,i,r){const o=[],a=[],s=r[8]*t,l=r[9]*t,c=r[10]*t,u=r[11]*t,h=r[8]*n,d=r[9]*n,p=r[10]*n,f=r[11]*n;for(const t of e){const e=[],n=[];for(const o of t){const t=o.x+i.x,a=o.y+i.y,m=r[0]*t+r[4]*a+r[12],g=r[1]*t+r[5]*a+r[13],y=r[2]*t+r[6]*a+r[14],_=r[3]*t+r[7]*a+r[15],v=m+s,x=g+l,b=y+c,w=Math.max(_+u,1e-5),T=m+h,E=g+d,S=y+p,M=Math.max(_+f,1e-5);e.push(new Ou(v/w,x/w,b/w)),n.push(new Ou(T/M,E/M,S/M))}o.push(e),a.push(n)}return[o,a]}(t,n,i,r,o)}(o,i,h,u,c,a,y,d,f,o.center.lat,e.tileID.canonical),x=e.queryGeometry;return function(e,t,n){let i=1/0;Vs(n,t)&&(i=Bu(n,t[0]));for(let r=0;r<t.length;r++){const o=t[r],a=e[r];for(let e=0;e<o.length-1;e++){const t=o[e],r=[t,o[e+1],a[e+1],a[e],t];Ns(n,r)&&(i=Math.min(i,Bu(n,r)))}}return i!==1/0&&i}(_,v,x.isPointQuery()?x.screenBounds:x.screenGeometry)}},line:class extends cs{constructor(e){super(e,$u),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(e){if("line-gradient"===e){const e=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=e._styleExpression&&e._styleExpression.expression instanceof In,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=Hu.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new Wu(e)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(e){return new ts(this,e)}queryRadius(e){const t=e,n=Xu(Qs("line-width",this,t),Qs("line-gap-width",this,t)),i=Qs("line-offset",this,t);return n/2+Math.abs(i)+Ks(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,n,i,r,o){if(e.queryGeometry.isAboveHorizon)return!1;const a=el(e.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,e.pixelToTileUnitsFactor),s=e.pixelToTileUnitsFactor/2*Xu(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),l=this.paint.get("line-offset").evaluate(t,n);return l&&(i=function(e,t){const n=[],i=new m(0,0);for(let r=0;r<e.length;r++){const o=e[r],a=[];for(let e=0;e<o.length;e++){const n=o[e-1],r=o[e],s=o[e+1],l=0===e?i:r.sub(n)._unit()._perp(),c=e===o.length-1?i:s.sub(r)._unit()._perp(),u=l._add(c)._unit();u._mult(1/(u.x*c.x+u.y*c.y)),a.push(u._mult(t)._add(r))}n.push(a)}return n}(i,l*e.pixelToTileUnitsFactor)),function(e,t,n){for(let i=0;i<t.length;i++){const r=t[i];if(e.length>=3)for(let t=0;t<r.length;t++)if(Xs(e,r[t]))return!0;if(Gs(e,r,n))return!0}return!1}(a,i,s)}isTileClipped(){return!0}},symbol:Yp,background:class extends cs{constructor(e){super(e,Jp)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends cs{constructor(e){super(e,Qp)}getProgramIds(){return["raster"]}},sky:class extends cs{constructor(e){super(e,ef),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"sky-gradient"===e?this._updateColorRamp():"sky-atmosphere-sun"!==e&&"sky-atmosphere-halo-color"!==e&&"sky-atmosphere-color"!==e&&"sky-atmosphere-sun-intensity"!==e||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=lc({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(e){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const t=e.style.light.properties.get("position");return this._lightPosition.azimuthal!==t.azimuthal||this._lightPosition.polar!==t.polar}return!1}getCenter(e,t){if("atmosphere"===this.paint.get("sky-type")){const n=this.paint.get("sky-atmosphere-sun"),i=!n,r=e.style.light,o=r.properties.get("position");return i&&"viewport"===r.properties.get("anchor")&&V("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),i?tf(o.azimuthal,90-o.polar,t):tf(n[0],90-n[1],t)}const n=this.paint.get("sky-gradient-center");return tf(n[0],90-n[1],t)}is3D(){return!1}isSky(){return!0}markSkyboxValid(e){this._skyboxInvalidated=!1,this._lightPosition=e.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const e=this.paint.get("sky-type");return"atmosphere"===e?["skyboxCapture","skybox"]:"gradient"===e?["skyboxGradient"]:null}}};class rf{constructor(e,t,n,i){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,i)}update(e,t,i){const{width:r,height:o}=e,{context:a}=this,{gl:s}=a,{HTMLImageElement:l,HTMLCanvasElement:c,HTMLVideoElement:u,ImageData:h,ImageBitmap:d}=n;if(s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),i||this.size&&this.size[0]===r&&this.size[1]===o){const{x:t,y:n}=i||{x:0,y:0};e instanceof l||e instanceof c||e instanceof u||e instanceof h||d&&e instanceof d?s.texSubImage2D(s.TEXTURE_2D,0,t,n,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,t,n,r,o,s.RGBA,s.UNSIGNED_BYTE,e.data)}else this.size=[r,o],e instanceof l||e instanceof c||e instanceof u||e instanceof h||d&&e instanceof d?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,o,0,this.format,s.UNSIGNED_BYTE,e.data);this.useMipmap=Boolean(t&&t.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&s.generateMipmap(s.TEXTURE_2D)}bind(e,t){const{context:n}=this,{gl:i}=n;i.bindTexture(i.TEXTURE_2D,this.texture),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.useMipmap?e===i.NEAREST?i.NEAREST_MIPMAP_NEAREST:i.LINEAR_MIPMAP_NEAREST:e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class of{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class af{constructor(){this.tasks={},this.taskQueue=[],R(["process"],this),this.invoker=new of(this.process),this.nextId=0}add(e,t){const n=this.nextId++,i=function({type:e,isSymbolTile:t,zoom:n}){return n=n||0,"message"===e?0:"maybePrepare"!==e||t?"parseTile"!==e||t?"parseTile"===e&&t?300-n:"maybePrepare"===e&&t?400-n:500:200-n:100-n}(t);if(0===i){W();try{e()}finally{}return{cancel:()=>{}}}return this.tasks[n]={fn:e,metadata:t,priority:i,id:n},this.taskQueue.push(n),this.invoker.trigger(),{cancel:()=>{delete this.tasks[n]}}}process(){W();try{if(this.taskQueue=this.taskQueue.filter(e=>!!this.tasks[e]),!this.taskQueue.length)return;const e=this.pick();if(null===e)return;const t=this.tasks[e];if(delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),!t)return;t.fn()}finally{}}pick(){let e=null,t=1/0;for(let n=0;n<this.taskQueue.length;n++){const i=this.tasks[this.taskQueue[n]];i.priority<t&&(t=i.priority,e=n)}if(null===e)return null;const n=this.taskQueue[e];return this.taskQueue.splice(e,1),n}remove(){this.invoker.remove()}}class sf{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}}encode(e){return this._stringToNumber[e]}decode(e){return this._numberToString[e]}}const lf=["tile","layer","source","sourceLayer","state"];class cf{constructor(e,t,n,i,r){this.type="Feature",this._vectorTileFeature=e,this._z=t,this._x=n,this._y=i,this.properties=e.properties,this.id=r}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={type:"Feature",geometry:this.geometry,properties:this.properties};void 0!==this.id&&(e.id=this.id);for(const t of lf)void 0!==this[t]&&(e[t]=this[t]);return e}}const uf=new Uint16Array(8184);for(let e=0;e<2046;e++){let t=e+2,n=0,i=0,r=0,o=0,a=0,s=0;for(1&t?r=o=a=32:n=i=s=32;(t>>=1)>1;){const e=n+r>>1,l=i+o>>1;1&t?(r=n,o=i,n=a,i=s):(n=r,i=o,r=a,o=s),a=e,s=l}const l=4*e;uf[l+0]=n,uf[l+1]=i,uf[l+2]=r,uf[l+3]=o}const hf=new Uint16Array(2178),df=new Uint8Array(1089),pf=new Uint16Array(1089);function ff(e){return 0===e?-.03125:32===e?.03125:0}var mf=Ho([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const gf={type:2,extent:ps,loadGeometry:()=>[[new m(0,0),new m(8193,0),new m(8193,8193),new m(0,8193),new m(0,0)]]};class yf{constructor(e,t,n,i,r){this.tileID=e,this.uid=z(),this.uses=0,this.tileSize=t,this.tileZoom=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=r,this.expiredRequestCount=0,this.state="loading",i&&i.transform&&(this.projection=i.transform.projection)}registerFadeDuration(e){const t=e+this.timeAdded;t<We.now()||this.fadeEndTime&&t<this.fadeEndTime||(this.fadeEndTime=t)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}get tileTransform(){return this._tileTransform||(this._tileTransform=gp(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(e,t,n){if(this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const n={};if(!t)return n;for(const i of e){const e=i.layerIds.map(e=>t.getLayer(e)).filter(Boolean);if(0!==e.length){i.layers=e,i.stateDependentLayerIds&&(i.stateDependentLayers=i.stateDependentLayerIds.map(t=>e.filter(e=>e.id===t)[0]));for(const t of e)n[t.id]=i}}return n}(e.buckets,t.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const t=this.buckets[e];if(t instanceof qp){if(this.hasSymbolBuckets=!0,!n)break;t.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const t=this.buckets[e];if(t instanceof qp&&t.hasRTLText){this.hasRTLText=!0,Ao.isLoading()||Ao.isLoaded()||"deferred"!==Co()||ko();break}}this.queryPadding=0;for(const e in this.buckets){const n=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,t.style.getLayer(e).queryRadius(n))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),e.lineAtlas&&(this.lineAtlas=e.lineAtlas)}else this.collisionBoxArray=new wa}unloadVectorData(){if(this.hasData()){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(e){return this.buckets[e.id]}upload(e){for(const t in this.buckets){const n=this.buckets[t];n.uploadPending()&&n.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new rf(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new rf(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new rf(e,this.lineAtlas.image,t.ALPHA),this.lineAtlas.uploaded=!0)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,n,i,r,o,a,s){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:i,pixelPosMatrix:a,transform:o,params:r,tileTransform:this.tileTransform},e,t,n):{}}querySourceFeatures(e,t){const n=this.latestFeatureIndex;if(!n||!n.rawTileData)return;const i=n.loadVTLayers(),r=t?t.sourceLayer:"",o=i._geojsonTileLayer||i[r];if(!o)return;const a=Ki(t&&t.filter),{z:s,x:l,y:c}=this.tileID.canonical,u={z:s,x:l,y:c};for(let t=0;t<o.length;t++){const i=o.feature(t);if(a.needGeometry){const e=Rs(i,!0);if(!a.filter(new Po(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!a.filter(new Po(this.tileID.overscaledZ),i))continue;const h=n.getId(i,r),d=new cf(i,s,l,c,h);d.tile=u,e.push(d)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const t=this.expirationTime;if(e.cacheControl){const t=q(e.cacheControl);t["max-age"]&&(this.expirationTime=Date.now()+1e3*t["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let n=!1;if(this.expirationTime>e)n=!1;else if(t)if(this.expirationTime<t)n=!0;else{const i=this.expirationTime-t;i?this.expirationTime=e+Math.max(i,3e4):n=!0}else n=!0;n?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length||!t)return;const n=this.latestFeatureIndex.loadVTLayers(),i=t.style.listImages();for(const r in this.buckets){if(!t.style.hasLayer(r))continue;const o=this.buckets[r],a=o.layers[0].sourceLayer||"_geojsonTileLayer",s=n[a],l=e[a];if(!s||!l||0===Object.keys(l).length)continue;if(o.update(l,s,i,this.imageAtlas&&this.imageAtlas.patternPositions||{}),o instanceof Wu||o instanceof qc){const e=t.style._getSourceCache(o.layers[0].source);t._terrain&&t._terrain.enabled&&e&&o.programConfigurations.needsUpload&&t._terrain._clearRenderCacheForTile(e.id,this.tileID)}const c=t&&t.style&&t.style.getLayer(r);c&&(this.queryPadding=Math.max(this.queryPadding,c.queryRadius(o)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<We.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(e){this.symbolFadeHoldUntil=We.now()+e}setTexture(e,t){const n=t.context,i=n.gl;this.texture=this.texture||t.getTileTexture(e.width),this.texture?this.texture.update(e,{useMipmap:!0}):(this.texture=new rf(n,e,i.RGBA,{useMipmap:!0}),this.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE),n.extTextureFilterAnisotropic&&i.texParameterf(i.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax))}setDependencies(e,t){const n={};for(const e of t)n[e]=!0;this.dependencies[e]=n}hasDependency(e,t){for(const n of e){const e=this.dependencies[n];if(e)for(const n of t)if(e[n])return!0}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(e,t){if(!t||"mercator"===t.name||this._tileDebugBuffer)return;const n=Os(gf,this.tileID.canonical,this.tileTransform)[0],i=new Yo,r=new va;for(let e=0;e<n.length;e++){const{x:t,y:o}=n[e];i.emplaceBack(t,o),r.emplaceBack(e)}r.emplaceBack(0),this._tileDebugIndexBuffer=e.createIndexBuffer(r),this._tileDebugBuffer=e.createVertexBuffer(i,Fd.members),this._tileDebugSegments=ds.simpleSegment(0,0,i.length,r.length)}_makeTileBoundsBuffers(e,t){if(this._tileBoundsBuffer||!t||"mercator"===t.name)return;const n=Os(gf,this.tileID.canonical,this.tileTransform)[0];let i,r;if(this.isRaster){const e=function(e,t){const n=gp(e,t),i=Math.pow(2,e.z);for(let r=0;r<33;r++)for(let o=0;o<33;o++){const a=ws((e.x+(o+ff(o))/32)/i),s=Ts((e.y+(r+ff(r))/32)/i),l=t.project(a,s),c=33*r+o;hf[2*c+0]=Math.round((l.x*n.scale-n.x)*ps),hf[2*c+1]=Math.round((l.y*n.scale-n.y)*ps)}df.fill(0),pf.fill(0);for(let e=2045;e>=0;e--){const t=4*e,n=uf[t+0],i=uf[t+1],r=uf[t+2],o=uf[t+3],a=n+r>>1,s=i+o>>1,l=a+s-i,c=s+n-a,u=33*i+n,h=33*o+r,d=33*s+a,p=Math.hypot((hf[2*u+0]+hf[2*h+0])/2-hf[2*d+0],(hf[2*u+1]+hf[2*h+1])/2-hf[2*d+1])>=16;if(df[d]=df[d]||(p?1:0),e<1022){const e=33*(i+c>>1)+(n+l>>1),t=33*(o+c>>1)+(r+l>>1);df[d]=df[d]||df[e]||df[t]}}const r=new Qo,o=new da;let a=0;function s(e,t){const n=33*t+e;return 0===pf[n]&&(r.emplaceBack(hf[2*n+0],hf[2*n+1],e*ps/32,t*ps/32),pf[n]=++a),pf[n]-1}function l(e,t,n,i,r,a){const c=e+n>>1,u=t+i>>1;if(Math.abs(e-r)+Math.abs(t-a)>1&&df[33*u+c])l(r,a,e,t,c,u),l(n,i,r,a,c,u);else{const l=s(e,t),c=s(n,i),u=s(r,a);o.emplaceBack(l,c,u)}}return l(0,0,32,32,32,0),l(32,32,0,0,0,32),{vertices:r,indices:o}}(this.tileID.canonical,t);i=e.vertices,r=e.indices}else{i=new Qo,r=new da;for(const{x:e,y:t}of n)i.emplaceBack(e,t,0,0);const e=dc.exports(i.int16,void 0,4);for(let t=0;t<e.length;t+=3)r.emplaceBack(e[t],e[t+1],e[t+2])}this._tileBoundsBuffer=e.createVertexBuffer(i,mf.members),this._tileBoundsIndexBuffer=e.createIndexBuffer(r),this._tileBoundsSegments=ds.simpleSegment(0,0,i.length,r.length)}_makeGlobeTileDebugBuffers(e,t){const n=t.projection;if(!n||"globe"!==n.name||t.freezeTileCoverage)return;const i=this.tileID.canonical,r=ap(Jd(i,t)),o=cp(t.zoom);let a;o>0&&(a=cl(new Float64Array(16),t.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(e,i,t,r,a,o),this._makeGlobeTileDebugTextBuffer(e,i,t,r,a,o)}_globePoint(e,t,n,i,r,o,a){let s=ip(e,t,n);if(o){const r=1<<n.z,l=vs(i.center.lng),c=xs(i.center.lat),u=(n.x+.5)/r-l;let h=0;u>.5?h=-1:u<-.5&&(h=1);let d=(e/ps+n.x)/r+h,p=(t/ps+n.y)/r;d=(d-l)*i._pixelsPerMercatorPixel+l,p=(p-c)*i._pixelsPerMercatorPixel+c;const f=[d*i.worldSize,p*i.worldSize,0];zl(f,f,o),s=Yd(s,f,a)}return zl(s,s,r)}_makeGlobeTileDebugBorderBuffer(e,t,n,i,r,o){const a=new Yo,s=new va,l=new Jo,c=(e,c,u,h,d)=>{const p=(u-e)/(d-1),f=(h-c)/(d-1),m=a.length;for(let u=0;u<d;u++){const h=e+u*p,d=c+u*f;a.emplaceBack(h,d);const g=this._globePoint(h,d,t,n,i,r,o);l.emplaceBack(g[0],g[1],g[2]),s.emplaceBack(m+u)}},u=ps;c(0,0,u,0,16),c(u,0,u,u,16),c(u,u,0,u,16),c(0,u,0,0,16),this._tileDebugIndexBuffer=e.createIndexBuffer(s),this._tileDebugBuffer=e.createVertexBuffer(a,Fd.members),this._globeTileDebugBorderBuffer=e.createVertexBuffer(l,jd.members),this._tileDebugSegments=ds.simpleSegment(0,0,a.length,s.length)}_makeGlobeTileDebugTextBuffer(e,t,n,i,r,o){const a=new Yo,s=new da,l=new Jo,c=25;s.reserve(32),a.reserve(c),l.reserve(c);const u=(e,t)=>c*e+t;for(let e=0;e<c;e++){const s=2048*e;for(let e=0;e<c;e++){const c=2048*e;a.emplaceBack(c,s);const u=this._globePoint(c,s,t,n,i,r,o);l.emplaceBack(u[0],u[1],u[2])}}for(let e=0;e<4;e++)for(let t=0;t<4;t++){const n=u(e,t),i=u(e,t+1),r=u(e+1,t),o=u(e+1,t+1);s.emplaceBack(n,i,r),s.emplaceBack(r,i,o)}this._tileDebugTextIndexBuffer=e.createIndexBuffer(s),this._tileDebugTextBuffer=e.createVertexBuffer(a,Fd.members),this._globeTileDebugTextBuffer=e.createVertexBuffer(l,jd.members),this._tileDebugTextSegments=ds.simpleSegment(0,0,c,32)}}class _f{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,t,n){const i=String(t);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][i]=this.stateChanges[e][i]||{},A(this.stateChanges[e][i],n),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==i&&(this.deletedStates[e][t]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][i]){this.deletedStates[e][i]={};for(const t in this.state[e][i])n[t]||(this.deletedStates[e][i][t]=null)}else for(const t in n)this.deletedStates[e]&&this.deletedStates[e][i]&&null===this.deletedStates[e][i][t]&&delete this.deletedStates[e][i][t]}removeFeatureState(e,t,n){if(null===this.deletedStates[e])return;const i=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][i]&&(this.deletedStates[e][i]=this.deletedStates[e][i]||{},this.deletedStates[e][i][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][i])for(n in this.deletedStates[e][i]={},this.stateChanges[e][i])this.deletedStates[e][i][n]=null;else this.deletedStates[e][i]=null;else this.deletedStates[e]=null}getState(e,t){const n=String(t),i=A({},(this.state[e]||{})[n],(this.stateChanges[e]||{})[n]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const n=this.deletedStates[e][t];if(null===n)return{};for(const e in n)delete i[e]}return i}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(e,t){const n={};for(const e in this.stateChanges){this.state[e]=this.state[e]||{};const t={};for(const n in this.stateChanges[e])this.state[e][n]||(this.state[e][n]={}),A(this.state[e][n],this.stateChanges[e][n]),t[n]=this.state[e][n];n[e]=t}for(const e in this.deletedStates){this.state[e]=this.state[e]||{};const t={};if(null===this.deletedStates[e])for(const n in this.state[e])t[n]={},this.state[e][n]={};else for(const n in this.deletedStates[e]){if(null===this.deletedStates[e][n])this.state[e][n]={};else for(const t of Object.keys(this.deletedStates[e][n]))delete this.state[e][n][t];t[n]=this.state[e][n]}n[e]=n[e]||{},A(n[e],t)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(n).length)for(const i in e)e[i].setFeatureState(n,t)}}class vf{constructor(e){this.size=e,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(e,t){const n=this.toIdx(e,t);return{min:this.minimums[n],max:this.maximums[n]}}isLeaf(e,t){return this.leaves[this.toIdx(e,t)]}toIdx(e,t){return t*this.size+e}}function xf(e,t,n,i){let r=0,o=Number.MAX_VALUE;for(let a=0;a<3;a++)if(Math.abs(i[a])<1e-15){if(n[a]<e[a]||n[a]>t[a])return null}else{const s=1/i[a];let l=(e[a]-n[a])*s,c=(t[a]-n[a])*s;if(l>c){const e=l;l=c,c=e}if(l>r&&(r=l),c<o&&(o=c),r>o)return null}return r}function bf(e,t,n,i,r,o,a,s,l,c,u){const h=i-e,d=r-t,p=o-n,f=a-e,m=s-t,g=l-n,y=u[1]*g-u[2]*m,_=u[2]*f-u[0]*g,v=u[0]*m-u[1]*f,x=h*y+d*_+p*v;if(Math.abs(x)<1e-15)return null;const b=1/x,w=c[0]-e,T=c[1]-t,E=c[2]-n,S=(w*y+T*_+E*v)*b;if(S<0||S>1)return null;const M=T*p-E*d,I=E*h-w*p,C=w*d-T*h,k=(u[0]*M+u[1]*I+u[2]*C)*b;return k<0||S+k>1?null:(f*M+m*I+g*C)*b}function wf(e,t,n){return(e-t)/(n-t)}function Tf(e,t,n,i,r,o,a,s,l){const c=1<<n,u=o-i,h=a-r,d=(e+1)/c*u+i,p=(t+0)/c*h+r,f=(t+1)/c*h+r;s[0]=(e+0)/c*u+i,s[1]=p,l[0]=d,l[1]=f}class Ef{constructor(e){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=e,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const t=function(e){const t=Math.ceil(Math.log2(e.dim/8)),n=[];let i=Math.ceil(Math.pow(2,t));const r=1/i,o=(e,t,n,i,r)=>{const o=i?1:0,a=(e+1)*n-o,s=t*n,l=(t+1)*n-o;r[0]=e*n,r[1]=s,r[2]=a,r[3]=l};let a=new vf(i);const s=[];for(let t=0;t<i*i;t++){o(t%i,Math.floor(t/i),r,!1,s);const n=Mf(s[0],s[1],e),l=Mf(s[2],s[1],e),c=Mf(s[2],s[3],e),u=Mf(s[0],s[3],e);a.minimums.push(Math.min(n,l,c,u)),a.maximums.push(Math.max(n,l,c,u)),a.leaves.push(1)}for(n.push(a),i/=2;i>=1;i/=2){const e=n[n.length-1];a=new vf(i);for(let t=0;t<i*i;t++){o(t%i,Math.floor(t/i),2,!0,s);const n=e.getElevation(s[0],s[1]),r=e.getElevation(s[2],s[1]),l=e.getElevation(s[2],s[3]),c=e.getElevation(s[0],s[3]),u=e.isLeaf(s[0],s[1]),h=e.isLeaf(s[2],s[1]),d=e.isLeaf(s[2],s[3]),p=e.isLeaf(s[0],s[3]),f=Math.min(n.min,r.min,l.min,c.min),m=Math.max(n.max,r.max,l.max,c.max),g=u&&h&&d&&p;a.maximums.push(m),a.minimums.push(f),a.leaves.push(m-f<=5&&g?1:0)}n.push(a)}return n}(this.dem),n=t.length-1,i=t[n];this._addNode(i.minimums[0],i.maximums[0],i.leaves[0]),this._construct(t,0,0,n,0)}raycastRoot(e,t,n,i,r,o,a=1){return xf([e,t,-100],[n,i,this.maximums[0]*a],r,o)}raycast(e,t,n,i,r,o,a=1){if(!this.nodeCount)return null;const s=this.raycastRoot(e,t,n,i,r,o,a);if(null==s)return null;const l=[],c=[],u=[],h=[],d=[{idx:0,t:s,nodex:0,nodey:0,depth:0}];for(;d.length>0;){const{idx:s,t:p,nodex:f,nodey:m,depth:g}=d.pop();if(this.leaves[s]){Tf(f,m,g,e,t,n,i,u,h);const s=1<<g,l=(f+0)/s,c=(f+1)/s,d=(m+0)/s,y=(m+1)/s,_=Mf(l,d,this.dem)*a,v=Mf(c,d,this.dem)*a,x=Mf(c,y,this.dem)*a,b=Mf(l,y,this.dem)*a,w=bf(u[0],u[1],_,h[0],u[1],v,h[0],h[1],x,r,o),T=bf(h[0],h[1],x,u[0],h[1],b,u[0],u[1],_,r,o),E=Math.min(null!==w?w:Number.MAX_VALUE,null!==T?T:Number.MAX_VALUE);if(E!==Number.MAX_VALUE)return E;{const e=Cl([],r,o,p);if(Sf(_,v,b,x,wf(e[0],u[0],h[0]),wf(e[1],u[1],h[1]))>=e[2])return p}continue}let y=0;for(let d=0;d<this._siblingOffset.length;d++){Tf((f<<1)+this._siblingOffset[d][0],(m<<1)+this._siblingOffset[d][1],g+1,e,t,n,i,u,h),u[2]=-100,h[2]=this.maximums[this.childOffsets[s]+d]*a;const p=xf(u,h,r,o);if(null!=p){const e=p;l[d]=e;let t=!1;for(let n=0;n<y&&!t;n++)e>=l[c[n]]&&(c.splice(n,0,d),t=!0);t||(c[y]=d),y++}}for(let e=0;e<y;e++){const t=c[e];d.push({idx:this.childOffsets[s]+t,t:l[t],nodex:(f<<1)+this._siblingOffset[t][0],nodey:(m<<1)+this._siblingOffset[t][1],depth:g+1})}}return null}_addNode(e,t,n){return this.minimums.push(e),this.maximums.push(t),this.leaves.push(n),this.childOffsets.push(0),this.nodeCount++}_construct(e,t,n,i,r){if(1===e[i].isLeaf(t,n))return;this.childOffsets[r]||(this.childOffsets[r]=this.nodeCount);const o=i-1,a=e[o];let s=0,l=0;for(let e=0;e<this._siblingOffset.length;e++){const i=2*t+this._siblingOffset[e][0],r=2*n+this._siblingOffset[e][1],o=a.getElevation(i,r),c=a.isLeaf(i,r),u=this._addNode(o.min,o.max,c);c&&(s|=1<<e),l||(l=u)}for(let i=0;i<this._siblingOffset.length;i++)s&1<<i||this._construct(e,2*t+this._siblingOffset[i][0],2*n+this._siblingOffset[i][1],o,l+i)}}function Sf(e,t,n,i,r,o){return Cn(Cn(e,n,o),Cn(t,i,o),r)}function Mf(e,t,n){const i=n.dim,r=S(e*i-.5,0,i-1),o=S(t*i-.5,0,i-1),a=Math.floor(r),s=Math.floor(o),l=Math.min(a+1,i-1),c=Math.min(s+1,i-1);return Sf(n.get(a,s),n.get(l,s),n.get(a,c),n.get(l,c),r-a,o-s)}const If={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Cf{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(e,t,n,i=!1,r=!1){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return V(`"${n}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;const o=this.dim=t.height-2,a=new Uint32Array(t.data.buffer);if(this.pixels=new Uint8Array(t.data.buffer),this.encoding=n||"mapbox",this.borderReady=i,!i){for(let e=0;e<o;e++)a[this._idx(-1,e)]=a[this._idx(0,e)],a[this._idx(o,e)]=a[this._idx(o-1,e)],a[this._idx(e,-1)]=a[this._idx(e,0)],a[this._idx(e,o)]=a[this._idx(e,o-1)];a[this._idx(-1,-1)]=a[this._idx(0,0)],a[this._idx(o,-1)]=a[this._idx(o-1,0)],a[this._idx(-1,o)]=a[this._idx(0,o-1)],a[this._idx(o,o)]=a[this._idx(o-1,o-1)],r&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new Ef(this)}get(e,t,n=!1){n&&(e=S(e,-1,this.dim),t=S(t,-1,this.dim));const i=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(this.pixels[i],this.pixels[i+1],this.pixels[i+2])}static getUnpackVector(e){return If[e]}get unpackVector(){return If[this.encoding]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}_unpackMapbox(e,t,n){return(256*e*256+256*t+n)/10-1e4}_unpackTerrarium(e,t,n){return 256*e+t+n/256-32768}static pack(e,t){const n=[0,0,0,0],i=Cf.getUnpackVector(t);let r=Math.floor((e+i[3])/i[2]);return n[2]=r%256,r=Math.floor(r/256),n[1]=r%256,r=Math.floor(r/256),n[0]=r,n}getPixels(){return new ac({width:this.stride,height:this.stride},this.pixels)}backfillBorder(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let i=t*this.dim,r=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:i=r-1;break;case 1:r=i+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}const s=-t*this.dim,l=-n*this.dim;for(let t=o;t<a;t++)for(let n=i;n<r;n++){const i=4*this._idx(n,t),r=4*this._idx(n+s,t+l);this.pixels[i+0]=e.pixels[r+0],this.pixels[i+1]=e.pixels[r+1],this.pixels[i+2]=e.pixels[r+2],this.pixels[i+3]=e.pixels[r+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}zr(Cf,"DEMData"),zr(Ef,"DemMinMaxQuadTree",{omit:["dem"]});class kf{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,n){const i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);const r={value:t,timeout:void 0};if(void 0!==n&&(r.timeout=setTimeout(()=>{this.remove(e,r)},n)),this.data[i].push(r),this.order.push(i),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const n=e.wrapped().key,i=void 0===t?0:this.data[n].indexOf(t),r=this.data[n][i];return this.data[n].splice(i,1),r.timeout&&clearTimeout(r.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(r.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const n in this.data)for(const i of this.data[n])e(i.value)||t.push(i);for(const e of t)this.remove(e.value.tileID,e)}}class Af{constructor(e,t,n){this.func=e,this.mask=t,this.range=n}}Af.ReadOnly=!1,Af.ReadWrite=!0,Af.disabled=new Af(519,Af.ReadOnly,[0,1]);class Pf{constructor(e,t,n,i,r,o){this.test=e,this.ref=t,this.mask=n,this.fail=i,this.depthFail=r,this.pass=o}}Pf.disabled=new Pf({func:519,mask:0},0,0,7680,7680,7680);class zf{constructor(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n}}zf.Replace=[1,0],zf.disabled=new zf(zf.Replace,Ct.transparent,[!1,!1,!1,!1]),zf.unblended=new zf(zf.Replace,Ct.transparent,[!0,!0,!0,!0]),zf.alphaBlended=new zf([1,771],Ct.transparent,[!0,!0,!0,!0]);class Df{constructor(e,t,n){this.enable=e,this.mode=t,this.frontFace=n}}Df.disabled=new Df(!1,1029,2305),Df.backCCW=new Df(!0,1029,2305),Df.backCW=new Df(!0,1029,2304),Df.frontCW=new Df(!0,1028,2304),Df.frontCCW=new Df(!0,1028,2305);class Lf extends Ye{constructor(e,t,n){super(),this.id=e,this._onlySymbols=n,t.on("data",e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),t.on("error",()=>{this._sourceErrored=!0}),this._source=t,this._tiles={},this._cache=new kf(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new _f,this._isRaster="raster"===this._source.type||"raster-dem"===this._source.type||"custom"===this._source.type&&"raster"===this._source._dataType}onAdd(e){this.map=e,this._minTileCacheSize=void 0===this._minTileCacheSize&&e?e._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=void 0===this._maxTileCacheSize&&e?e._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(e,t){return e.isSymbolTile=this._onlySymbols,this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,()=>{})}_abortTile(e){if(this._source.abortTile)return this._source.abortTile(e,()=>{})}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}getIds(){return k(this._tiles).map(e=>e.tileID).sort(Of).map(e=>e.key)}getRenderableIds(e){const t=[];for(const n in this._tiles)this._isIdRenderable(+n,e)&&t.push(this._tiles[n]);return e?t.sort((e,t)=>{const n=e.tileID,i=t.tileID,r=new m(n.canonical.x,n.canonical.y)._rotate(this.transform.angle),o=new m(i.canonical.x,i.canonical.y)._rotate(this.transform.angle);return n.overscaledZ-i.overscaledZ||o.y-r.y||o.x-r.x}).map(e=>e.tileID.key):t.map(e=>e.tileID).sort(Of).map(e=>e.key)}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(+e,"reloading")}}_reloadTile(e,t){const n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}_tileLoaded(e,t,n,i){if(i)if(e.state="errored",404!==i.status)this._source.fire(new Xe(i,{tile:e}));else if("raster-dem"===this._source.type&&this.usedForTerrain&&this.map.painter.terrain){const e=this.map.painter.terrain;this.update(this.transform,e.getScaledDemTileSize(),!0),e.resetTileLookupCache(this.id)}else this.update(this.transform);else e.timeAdded=We.now(),"expired"===n&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(t,e),"raster-dem"===this._source.type&&e.dem&&this._backfillDEM(e),this._state.initializeTileState(e,this.map?this.map.painter:null),this._source.fire(new He("data",{dataType:"source",tile:e,coord:e.tileID,sourceCacheId:this.id}))}_backfillDEM(e){const t=this.getRenderableIds();for(let i=0;i<t.length;i++){const r=t[i];if(e.neighboringTiles&&e.neighboringTiles[r]){const t=this.getTileByID(r);n(e,t),n(t,e)}}function n(e,t){if(!e.dem||e.dem.borderReady)return;e.needsHillshadePrepare=!0,e.needsDEMTextureUpload=!0;let n=t.tileID.canonical.x-e.tileID.canonical.x;const i=t.tileID.canonical.y-e.tileID.canonical.y,r=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===i||Math.abs(i)>1||(Math.abs(n)>1&&(1===Math.abs(n+r)?n+=r:1===Math.abs(n-r)&&(n-=r)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,i),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,n,i){for(const r in this._tiles){let o=this._tiles[r];if(i[r]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>n)continue;let a=o.tileID;for(;o&&o.tileID.overscaledZ>t+1;){const e=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[e.key],o&&o.hasData()&&(a=e)}let s=a;for(;s.overscaledZ>t;)if(s=s.scaledTo(s.overscaledZ-1),e[s.key]){i[a.key]=a;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(let n=e.overscaledZ-1;n>=t;n--){const t=e.scaledTo(n),i=this._getLoadedTile(t);if(i)return i}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(this._source.reparseOverscaled?e.wrapped().key:e.canonical.key)}updateCacheSize(e,t){t=t||this._source.tileSize;const n=Math.ceil(e.width/t)+1,i=Math.ceil(e.height/t)+1,r=Math.floor(n*i*5),o="number"==typeof this._minTileCacheSize?Math.max(this._minTileCacheSize,r):r,a="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,o):o;this._cache.setMaxSize(a)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const n in this._tiles){const i=this._tiles[n];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),e[i.tileID.key]=i}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(+e,this._tiles[e])}}update(e,t,n){if(this.transform=e,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage)return;if(this.usedForTerrain&&!n)return;let i;this.updateCacheSize(e,t),"globe"!==this.transform.projection.name&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?i=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(e=>new Du(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)):(i=e.coveringTiles({tileSize:t||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!n,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(i=i.filter(e=>this._source.hasTile(e)))):i=[];const r=this._updateRetainedTiles(i);if(Rf(this._source.type)&&0!==i.length){const e={},t={},n=Object.keys(r);for(const i of n){const n=r[i],o=this._tiles[i];if(!o||o.fadeEndTime&&o.fadeEndTime<=We.now())continue;const a=this.findLoadedParent(n,Math.max(n.overscaledZ-Lf.maxOverzooming,this._source.minzoom));a&&(this._addTile(a.tileID),e[a.tileID.key]=a.tileID),t[i]=n}const o=i[i.length-1].overscaledZ;for(const e in this._tiles){const n=this._tiles[e];if(r[e]||!n.hasData())continue;let i=n.tileID;for(;i.overscaledZ>o;){i=i.scaledTo(i.overscaledZ-1);const o=this._tiles[i.key];if(o&&o.hasData()&&t[i.key]){r[e]=n.tileID;break}}}for(const t in e)r[t]||(this._coveredTiles[t]=!0,r[t]=e[t])}for(const e in r)this._tiles[e].clearFadeHold();const o=function(e,t){const n=[];for(const i in e)i in t||n.push(i);return n}(this._tiles,r);for(const e of o){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(+e)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(+e)}_updateRetainedTiles(e){const t={};if(0===e.length)return t;const n={},i=e.reduce((e,t)=>Math.min(e,t.overscaledZ),1/0),r=e[0].overscaledZ,o=Math.max(r-Lf.maxOverzooming,this._source.minzoom),a=Math.max(r+Lf.maxUnderzooming,this._source.minzoom),s={};for(const n of e){const e=this._addTile(n);t[n.key]=n,e.hasData()||i<this._source.maxzoom&&(s[n.key]=n)}this._retainLoadedChildren(s,i,a,t);for(const i of e){let e=this._tiles[i.key];if(e.hasData())continue;if(i.canonical.z>=this._source.maxzoom){const e=i.children(this._source.maxzoom)[0],n=this.getTile(e);if(n&&n.hasData()){t[e.key]=e;continue}}else{const e=i.children(this._source.maxzoom);if(t[e[0].key]&&t[e[1].key]&&t[e[2].key]&&t[e[3].key])continue}let r=e.wasRequested();for(let a=i.overscaledZ-1;a>=o;--a){const o=i.scaledTo(a);if(n[o.key])break;if(n[o.key]=!0,e=this.getTile(o),!e&&r&&(e=this._addTile(o)),e&&(t[o.key]=o,r=e.wasRequested(),e.hasData()))break}}return t}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let n,i=this._tiles[e].tileID;for(;i.overscaledZ>0;){if(i.key in this._loadedParentTiles){n=this._loadedParentTiles[i.key];break}t.push(i.key);const e=i.scaledTo(i.overscaledZ-1);if(n=this._getLoadedTile(e),n)break;i=e}for(const e of t)this._loadedParentTiles[e]=n}}_addTile(e){let t=this._tiles[e.key];if(t)return t;t=this._cache.getAndRemove(e),t&&(this._setTileReloadTimer(e.key,t),t.tileID=e,this._state.initializeTileState(t,this.map?this.map.painter:null),this._cacheTimers[e.key]&&(clearTimeout(this._cacheTimers[e.key]),delete this._cacheTimers[e.key],this._setTileReloadTimer(e.key,t)));const n=Boolean(t);if(!n){const n=this.map?this.map.painter:null;t=new yf(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,n,this._isRaster),this._loadTile(t,this._tileLoaded.bind(this,t,e.key,t.state))}return t?(t.uses++,this._tiles[e.key]=t,n||this._source.fire(new He("dataloading",{tile:t,coord:t.tileID,dataType:"source"})),t):null}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},n))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(+e);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(e,t,n){const i=[],r=this.transform;if(!r)return i;const o="globe"===r.projection.name,a=vs(r.center.lng);for(const s in this._tiles){const l=this._tiles[s];if(n&&l.clearQueryDebugViz(),l.holdingForFade())continue;let c;if(o){const e=l.tileID.canonical;if(0===e.z){const t=[Math.abs(S(a,...Bf(e,-1))-a),Math.abs(S(a,...Bf(e,1))-a)];c=[0,2*t.indexOf(Math.min(...t))-1]}else{const t=[Math.abs(S(a,...Bf(e,-1))-a),Math.abs(S(a,...Bf(e,0))-a),Math.abs(S(a,...Bf(e,1))-a)];c=[t.indexOf(Math.min(...t))-1]}}else c=[0];for(const n of c){const o=e.containsTile(l,r,t,n);o&&i.push(o)}}return i}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map(e=>this._tiles[e].tileID);for(const e of t)e.projMatrix=this.transform.calculateProjMatrix(e.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(Rf(this._source.type))for(const e in this._tiles){const t=this._tiles[e];if(void 0!==t.fadeEndTime&&t.fadeEndTime>=We.now())return!0}return!1}setFeatureState(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}removeFeatureState(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,n){const i=this._tiles[e];i&&i.setDependencies(t,n)}reloadTilesForDependencies(e,t){for(const n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(+n,"reloading");this._cache.filter(n=>!n.hasDependency(e,t))}_preloadTiles(e,t){const n=new Map,i=Array.isArray(e)?e:[e],r=this.map.painter.terrain,o=this.usedForTerrain&&r?r.getScaledDemTileSize():this._source.tileSize;for(const e of i){const t=e.coveringTiles({tileSize:o,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const e of t)n.set(e.key,e);this.usedForTerrain&&e.updateElevation(!1)}C(Array.from(n.values()),(e,t)=>{const n=new yf(e,this._source.tileSize*e.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(n,e=>{"raster-dem"===this._source.type&&n.dem&&this._backfillDEM(n),t(e,n)})},t)}}function Of(e,t){const n=Math.abs(2*e.wrap)-+(e.wrap<0),i=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||i-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function Rf(e){return"raster"===e||"image"===e||"video"===e||"custom"===e}function Bf(e,t){const n=1<<e.z;return[e.x/n+t,(e.x+1)/n+t]}Lf.maxOverzooming=10,Lf.maxUnderzooming=3;class jf{constructor(e,t,n){this._demTile=e,this._dem=this._demTile.dem,this._scale=t,this._offset=n}static create(e,t,n){const i=n||e.findDEMTileFor(t);if(!i||!i.dem)return;const r=i.dem,o=i.tileID,a=1<<t.canonical.z-o.canonical.z;return new jf(i,i.tileSize/ps/a,[(t.canonical.x/a-o.canonical.x)*r.dim,(t.canonical.y/a-o.canonical.y)*r.dim])}tileCoordToPixel(e,t){const n=t*this._scale+this._offset[1],i=Math.floor(e*this._scale+this._offset[0]),r=Math.floor(n);return new m(i,r)}getElevationAt(e,t,n,i){const r=e*this._scale+this._offset[0],o=t*this._scale+this._offset[1],a=Math.floor(r),s=Math.floor(o),l=this._dem;return i=!!i,n?Cn(Cn(l.get(a,s,i),l.get(a,s+1,i),o-s),Cn(l.get(a+1,s,i),l.get(a+1,s+1,i),o-s),r-a):l.get(a,s,i)}getElevationAtPixel(e,t,n){return this._dem.get(e,t,!!n)}getMeterToDEM(e){return(1<<this._demTile.tileID.canonical.z)*bs(1,e)*this._dem.stride}}class Ff{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new kr(ps,16,0),this.featureIndexArray=new Aa,this.promoteId=t}insert(e,t,n,i,r,o=0){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,i,r,o);const s=this.grid;for(let e=0;e<t.length;e++){const n=t[e],i=[1/0,1/0,-1/0,-1/0];for(let e=0;e<n.length;e++){const t=n[e];i[0]=Math.min(i[0],t.x),i[1]=Math.min(i[1],t.y),i[2]=Math.max(i[2],t.x),i[3]=Math.max(i[3],t.y)}i[0]<ps&&i[1]<ps&&i[2]>=0&&i[3]>=0&&s.insert(a,i[0],i[1],i[2],i[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new hu(new dh(this.rawTileData)).layers,this.sourceLayerCoder=new sf(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const e in this.vtLayers)this.vtFeatures[e]=[]}return this.vtLayers}query(e,t,n,i){this.loadVTLayers();const r=e.params||{},o=Ki(r.filter),a=e.tileResult,s=e.transform,l=a.bufferedTilespaceBounds,c=this.grid.query(l.min.x,l.min.y,l.max.x,l.max.y,(e,t,n,i)=>Ys(a.bufferedTilespaceGeometry,e,t,n,i));c.sort(Uf);let u=null;s.elevation&&c.length>0&&(u=jf.create(s.elevation,this.tileID));const h={};let d;for(let s=0;s<c.length;s++){const l=c[s];if(l===d)continue;d=l;const p=this.featureIndexArray.get(l);let f=null;this.loadMatchingFeature(h,p,o,r.layers,r.availableImages,t,n,i,(t,n,i,r=0)=>(f||(f=Os(t,this.tileID.canonical,e.tileTransform)),n.queryIntersectsFeature(a,t,i,f,this.z,e.transform,e.pixelPosMatrix,u,r)))}return h}loadMatchingFeature(e,t,n,i,r,o,a,s,l){const{featureIndex:c,bucketIndex:u,sourceLayerIndex:h,layoutVertexArrayOffset:d}=t,p=this.bucketLayerIDs[u];if(i&&!function(e,t){for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(i,p))return;const f=this.sourceLayerCoder.decode(h),m=this.vtLayers[f].feature(c);if(n.needGeometry){const e=Rs(m,!0);if(!n.filter(new Po(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!n.filter(new Po(this.tileID.overscaledZ),m))return;const g=this.getId(m,f);for(let t=0;t<p.length;t++){const n=p[t];if(i&&i.indexOf(n)<0)continue;const u=o[n];if(!u)continue;let h={};void 0!==g&&s&&(h=s.getState(u.sourceLayer||"_geojsonTileLayer",g));const f=A({},a[n]);f.paint=Nf(f.paint,u.paint,m,h,r),f.layout=Nf(f.layout,u.layout,m,h,r);const y=!l||l(m,u,h,d);if(!y)continue;const _=new cf(m,this.z,this.x,this.y,g);_.layer=f;let v=e[n];void 0===v&&(v=e[n]=[]),v.push({featureIndex:c,feature:_,intersectionZ:y})}}lookupSymbolFeatures(e,t,n,i,r,o,a,s){const l={};this.loadVTLayers();const c=Ki(r);for(const r of e)this.loadMatchingFeature(l,{bucketIndex:n,sourceLayerIndex:i,featureIndex:r,layoutVertexArrayOffset:0},c,o,a,s,t);return l}loadFeature(e){const{featureIndex:t,sourceLayerIndex:n}=e;this.loadVTLayers();const i=this.sourceLayerCoder.decode(n),r=this.vtFeatures[i];if(r[t])return r[t];const o=this.vtLayers[i].feature(t);return r[t]=o,o}hasLayer(e){for(const t of this.bucketLayerIDs)for(const n of t)if(e===n)return!0;return!1}getId(e,t){let n=e.id;if(this.promoteId){const i="string"==typeof this.promoteId?this.promoteId:this.promoteId[t];null!=i&&(n=e.properties[i]),"boolean"==typeof n&&(n=Number(n))}return n}}function Nf(e,t,n,i,r){return j(e,(e,o)=>{const a=t instanceof Fo?t.get(o):null;return a&&a.evaluate?a.evaluate(n,i,r):a})}function Uf(e,t){return t-e}zr(Ff,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class Vf{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.image=new oc({width:e,height:t}),this.positions={},this.uploaded=!1}getDash(e,t){const n=this.getKey(e,t);return this.positions[n]}trim(){const e=this.width,t=this.height=L(this.nextRow);this.image.resize({width:e,height:t})}getKey(e,t){return e.join(",")+t}getDashRanges(e,t,n){const i=[];let r=e.length%2==1?-e[e.length-1]*n:0,o=e[0]*n,a=!0;i.push({left:r,right:o,isDash:a,zeroLength:0===e[0]});let s=e[0];for(let t=1;t<e.length;t++){a=!a;const l=e[t];r=s*n,s+=l,o=s*n,i.push({left:r,right:o,isDash:a,zeroLength:0===l})}return i}addRoundDash(e,t,n){const i=t/2;for(let t=-n;t<=n;t++){const r=this.width*(this.nextRow+n+t);let o=0,a=e[o];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++o]);const l=Math.abs(s-a.left),c=Math.abs(s-a.right),u=Math.min(l,c);let h;const d=t/n*(i+1);if(a.isDash){const e=i-Math.abs(d);h=Math.sqrt(u*u+e*e)}else h=i-Math.sqrt(u*u+d*d);this.image.data[r+s]=Math.max(0,Math.min(255,h+128))}}}addRegularDash(e,t){for(let t=e.length-1;t>=0;--t){const n=e[t],i=e[t+1];n.zeroLength?e.splice(t,1):i&&i.isDash===n.isDash&&(i.left=n.left,e.splice(t,1))}const n=e[0],i=e[e.length-1];n.isDash===i.isDash&&(n.left=i.left-this.width,i.right=n.right+this.width);const r=this.width*this.nextRow;let o=0,a=e[o];for(let n=0;n<this.width;n++){n/a.right>1&&(a=e[++o]);const i=Math.abs(n-a.left),s=Math.abs(n-a.right),l=Math.min(i,s);this.image.data[r+n]=Math.max(0,Math.min(255,(a.isDash?l:-l)+t+128))}}addDash(e,t){const n=this.getKey(e,t);if(this.positions[n])return this.positions[n];const i="round"===t,r=i?7:0,o=2*r+1;if(this.nextRow+o>this.height)return V("LineAtlas out of space"),null;0===e.length&&e.push(1);let a=0;for(let t=0;t<e.length;t++)e[t]<0&&(V("Negative value is found in line dasharray, replacing values with 0"),e[t]=0),a+=e[t];if(0!==a){const n=this.width/a,o=this.getDashRanges(e,this.width,n);i?this.addRoundDash(o,n,r):this.addRegularDash(o,"square"===t?.5*n:0)}const s=this.nextRow+r;this.nextRow+=o;const l={tl:[s,r],br:[a,0]};return this.positions[n]=l,l}}zr(Vf,"LineAtlas");class Gf{constructor(e){const t={},n=[];for(const i in e){const r=e[i],o=t[i]={};for(const e in r.glyphs){const t=r.glyphs[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const i=t.metrics.localGlyph?2:1,a={x:0,y:0,w:t.bitmap.width+2*i,h:t.bitmap.height+2*i};n.push(a),o[e]=a}}const{w:i,h:r}=Bh(n),o=new oc({width:i||1,height:r||1});for(const n in e){const i=e[n];for(const e in i.glyphs){const r=i.glyphs[+e];if(!r||0===r.bitmap.width||0===r.bitmap.height)continue;const a=t[n][e],s=r.metrics.localGlyph?2:1;oc.copy(r.bitmap,o,{x:0,y:0},{x:a.x+s,y:a.y+s},r.bitmap)}}this.image=o,this.positions=t}}zr(Gf,"GlyphAtlas");class Zf{constructor(e){this.tileID=new Du(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.tileZoom=e.tileZoom,this.uid=e.uid,this.zoom=e.zoom,this.canonical=e.tileID.canonical,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId,this.enableTerrain=!!e.enableTerrain,this.isSymbolTile=e.isSymbolTile,this.tileTransform=gp(e.tileID.canonical,e.projection),this.projection=e.projection}parse(e,t,n,i,r){this.status="parsing",this.data=e,this.collisionBoxArray=new wa;const o=new sf(Object.keys(e.layers).sort()),a=new Ff(this.tileID,this.promoteId);a.bucketLayerIDs=[];const s={},l=new Vf(256,256),c={featureIndex:a,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:l,availableImages:n},u=t.familiesBySource[this.source];for(const t in u){const i=e.layers[t];if(!i)continue;let r=!1,l=!1;for(const e of u[t])"symbol"===e[0].type?r=!0:l=!0;if(!0===this.isSymbolTile&&!r)continue;if(!1===this.isSymbolTile&&!l)continue;1===i.version&&V(`Vector tile source "${this.source}" layer "${t}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const h=o.encode(t),d=[];for(let e=0;e<i.length;e++){const n=i.feature(e),r=a.getId(n,t);d.push({feature:n,id:r,index:e,sourceLayerIndex:h})}for(const e of u[t]){const t=e[0];void 0!==this.isSymbolTile&&"symbol"===t.type!==this.isSymbolTile||t.minzoom&&this.zoom<Math.floor(t.minzoom)||t.maxzoom&&this.zoom>=t.maxzoom||"none"!==t.visibility&&(Wf(e,this.zoom,n),(s[t.id]=t.createBucket({index:a.bucketLayerIDs.length,layers:e,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:h,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:n})).populate(d,c,this.tileID.canonical,this.tileTransform),a.bucketLayerIDs.push(e.map(e=>e.id)))}}let h,d,p,f;l.trim();const m={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},g=j(c.glyphDependencies,e=>Object.keys(e).map(Number));Object.keys(g).length?i.send("getGlyphs",{uid:this.uid,stacks:g},(e,t)=>{h||(h=e,d=t,v.call(this))},void 0,!1,m):d={};const y=Object.keys(c.iconDependencies);y.length?i.send("getImages",{icons:y,source:this.source,tileID:this.tileID,type:"icons"},(e,t)=>{h||(h=e,p=t,v.call(this))},void 0,!1,m):p={};const _=Object.keys(c.patternDependencies);function v(){if(h)return r(h);if(d&&p&&f){const e=new Gf(d),t=new Fh(p,f);for(const i in s){const r=s[i];r instanceof qp?(Wf(r.layers,this.zoom,n),Id(r,d,e.positions,p,t.iconPositions,this.showCollisionBoxes,n,this.tileID.canonical,this.tileZoom,this.projection)):r.hasPattern&&(r instanceof Wu||r instanceof qc||r instanceof vu)&&(Wf(r.layers,this.zoom,n),r.addFeatures(c,this.tileID.canonical,t.patternPositions,n,this.tileTransform))}this.status="done",r(null,{buckets:k(s).filter(e=>!e.isEmpty()),featureIndex:a,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,lineAtlas:l,imageAtlas:t,glyphMap:this.returnDependencies?d:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?e.positions:null})}}_.length?i.send("getImages",{icons:_,source:this.source,tileID:this.tileID,type:"patterns"},(e,t)=>{h||(h=e,f=t,v.call(this))},void 0,!1,m):f={},v.call(this)}}function Wf(e,t,n){const i=new Po(t);for(const t of e)t.recalculate(i,n)}class qf{constructor(e){this.entries={},this.scheduler=e}request(e,t,n,i){const r=this.entries[e]=this.entries[e]||{callbacks:[]};if(r.result){const[e,n]=r.result;return this.scheduler?this.scheduler.add(()=>{i(e,n)},t):i(e,n),()=>{}}return r.callbacks.push(i),r.cancel||(r.cancel=n((n,i)=>{r.result=[n,i];for(const e of r.callbacks)this.scheduler?this.scheduler.add(()=>{e(n,i)},t):e(n,i);setTimeout(()=>delete this.entries[e],3e3)})),()=>{r.result||(r.callbacks=r.callbacks.filter(e=>e!==i),r.callbacks.length||(r.cancel(),delete this.entries[e]))}}}function $f(e,t,n){const i=JSON.stringify(e.request);return e.data&&(this.deduped.entries[i]={result:[null,e.data]}),this.deduped.request(i,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom},t=>{const i=ue(e.request,(e,i,r,o)=>{e?t(e):i&&t(null,{vectorTile:n?void 0:new hu(new dh(i)),rawData:i,cacheControl:r,expires:o})});return()=>{i.cancel(),t()}},t)}e.ARRAY_TYPE=ol,e.AUTH_ERR_MSG=ge,e.Aabb=Xl,e.Actor=class{constructor(e,t,i){this.target=e,this.parent=t,this.mapId=i,this.callbacks={},this.cancelCallbacks={},R(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=W()?e:n,this.scheduler=new af}send(e,t,n,i,r=!1,o){const a=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(n.metadata=o,this.callbacks[a]=n);const s=H(this.globalScope)?void 0:[];return this.target.postMessage({id:a,type:e,hasCallback:!!n,targetMapId:i,mustQueue:r,sourceMapId:this.mapId,data:Or(t,s)},s),{cancel:()=>{n&&delete this.callbacks[a],this.target.postMessage({id:a,type:"<cancel>",targetMapId:i,sourceMapId:this.mapId})}}}receive(e){const t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){const e=this.cancelCallbacks[n];delete this.cancelCallbacks[n],e&&e.cancel()}else if(t.mustQueue||W()){const e=this.callbacks[n];this.cancelCallbacks[n]=this.scheduler.add(()=>this.processTask(n,t),e&&e.metadata||{type:"message"})}else this.processTask(n,t)}processTask(e,t){if("<response>"===t.type){const n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(Rr(t.error)):n(null,Rr(t.data)))}else{const n=H(this.globalScope)?void 0:[],i=t.hasCallback?(t,i)=>{delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:"<response>",sourceMapId:this.mapId,error:t?Or(t):null,data:Or(i,n)},n)}:e=>{},r=Rr(t.data);if(this.parent[t.type])this.parent[t.type](t.sourceMapId,r,i);else if(this.parent.getWorkerSource){const e=t.type.split(".");this.parent.getWorkerSource(t.sourceMapId,e[0],r.source)[e[1]](r,i)}else i(new Error("Could not find function "+t.type))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.CanonicalTileID=Pu,e.Color=Ct,e.ColorMode=zf,e.CullFaceMode=Df,e.DEMData=Cf,e.DataConstantProperty=No,e.DedupedRequest=qf,e.DepthMode=Af,e.EXTENT=ps,e.Elevation=class{isDataAvailableAtPoint(e){const t=this._source();if(this.isUsingMockSource()||!t||e.y<0||e.y>1)return!1;const n=t.getSource().maxzoom,i=1<<n,r=Math.floor(e.x),o=Math.floor((e.x-r)*i),a=Math.floor(e.y*i),s=this.findDEMTileFor(new Du(n,r,n,o,a));return!(!s||!s.dem)}getAtPointOrZero(e,t=0){return this.getAtPoint(e,t)||0}getAtPoint(e,t,n=!0){if(this.isUsingMockSource())return null;null==t&&(t=null);const i=this._source();if(!i)return t;if(e.y<0||e.y>1)return t;const r=i.getSource().maxzoom,o=1<<r,a=Math.floor(e.x),s=e.x-a,l=new Du(r,a,r,Math.floor(s*o),Math.floor(e.y*o)),c=this.findDEMTileFor(l);if(!c||!c.dem)return t;const u=c.dem,h=1<<c.tileID.canonical.z,d=(s*h-c.tileID.canonical.x)*u.dim,p=(e.y*h-c.tileID.canonical.y)*u.dim,f=Math.floor(d),m=Math.floor(p);return(n?this.exaggeration():1)*Cn(Cn(u.get(f,m),u.get(f,m+1),p-m),Cn(u.get(f+1,m),u.get(f+1,m+1),p-m),d-f)}getAtTileOffset(e,t,n){const i=1<<e.canonical.z;return this.getAtPointOrZero(new Is(e.wrap+(e.canonical.x+t/ps)/i,(e.canonical.y+n/ps)/i))}getAtTileOffsetFunc(e,t,n,i){return r=>{const o=this.getAtTileOffset(e,r.x,r.y),a=i.upVector(e.canonical,r.x,r.y);return Il(a,a,o*i.upVectorScale(e.canonical,t,n).metersToTile),a}}getForTilePoints(e,t,n,i){if(this.isUsingMockSource())return!1;const r=jf.create(this,e,i);return!!r&&(t.forEach(e=>{e[2]=this.exaggeration()*r.getElevationAt(e[0],e[1],n)}),!0)}getMinMaxForTile(e){if(this.isUsingMockSource())return null;const t=this.findDEMTileFor(e);if(!t||!t.dem)return null;const n=t.dem.tree,i=t.tileID,r=1<<e.canonical.z-i.canonical.z;let o=e.canonical.x/r-i.canonical.x,a=e.canonical.y/r-i.canonical.y,s=0;for(let t=0;t<e.canonical.z-i.canonical.z&&!n.leaves[s];t++){o*=2,a*=2;const e=2*Math.floor(a)+Math.floor(o);s=n.childOffsets[s]+e,o%=1,a%=1}return{min:this.exaggeration()*n.minimums[s],max:this.exaggeration()*n.maximums[s]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(e,t,n){throw new Error("Pure virtual method called.")}pointCoordinate(e){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(e){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},e.ErrorEvent=Xe,e.EvaluationParameters=Po,e.Event=He,e.Evented=Ye,e.FillExtrusionBucket=vu,e.Frustum=Hl,e.FrustumCorners=$l,e.GLOBE_METERS_TO_ECEF=Ud,e.GLOBE_RADIUS=Nd,e.GLOBE_SCALE_MATCH_LATITUDE=45,e.GLOBE_ZOOM_THRESHOLD_MAX=6,e.GLOBE_ZOOM_THRESHOLD_MIN=5,e.GlobeSharedBuffers=class{constructor(e){this._createGrid(e),this._createPoles(e)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const e of this._poleSegments)e.destroy();for(const e of this._gridSegments)e.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const e of this._wireframeSegments)e.destroy()}}_createGrid(e){const t=new Yo,n=new da,i=65;for(let e=0;e<i;e++)for(let n=0;n<i;n++)t.emplaceBack(n,e);this._gridSegments=[];for(let e=0,t=0;e<Vd.length;e++){const r=Vd[e];for(let e=0;e<r;e++)for(let t=0;t<64;t++){const r=e*i+t;n.emplaceBack(r+1,r,r+i),n.emplaceBack(r+i,r+i+1,r+1)}const o=64*r*2;this._gridSegments.push(ds.simpleSegment(0,t,(r+1)*i,o)),t+=o}this._gridBuffer=e.createVertexBuffer(t,Fd.members),this._gridIndexBuffer=e.createIndexBuffer(n,!0)}_createPoles(e){const t=new da;for(let e=0;e<=64;e++)t.emplaceBack(0,e+1,e+2);this._poleIndexBuffer=e.createIndexBuffer(t,!0);const n=new ga,i=new ga;this._poleSegments=[];for(let e=0,t=0;e<5;e++){const r=360/(1<<e);n.emplaceBack(0,-Nd,0,.5,0),i.emplaceBack(0,-Nd,0,.5,1);for(let e=0;e<=64;e++){const t=e/64,o=Cn(0,r,t),[a,s,l]=tp(pp,fp,o,Nd);n.emplaceBack(a,s,l,t,0),i.emplaceBack(a,s,l,t,1)}this._poleSegments.push(ds.simpleSegment(t,0,66,64)),t+=66}this._poleNorthVertexBuffer=e.createVertexBuffer(n,Bd,!1),this._poleSouthVertexBuffer=e.createVertexBuffer(i,Bd,!1)}getGridBuffers(e){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments[e]]}getPoleBuffers(e){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[e]]}getWirefameBuffers(e,t){if(!this._wireframeSegments){const t=new _a,n=64,i=n+1;this._wireframeSegments=[];for(let e=0,r=0;e<Vd.length;e++){const o=Vd[e];for(let e=0;e<o;e++)for(let r=0;r<n;r++){const n=e*i+r;t.emplaceBack(n,n+1),t.emplaceBack(n,n+i),t.emplaceBack(n,n+i+1)}const a=o*n*3;this._wireframeSegments.push(ds.simpleSegment(0,r,(o+1)*i,a)),r+=a}this._wireframeIndexBuffer=e.createIndexBuffer(t)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[t]]}},e.GlyphManager=dd,e.ImagePosition=jh,e.LivePerformanceUtils=Be,e.LngLat=gs,e.LngLatBounds=fs,e.LocalGlyphMode=hd,e.MAX_MERCATOR_LATITUDE=Ss,e.MercatorCoordinate=Is,e.ONE_EM=24,e.OverscaledTileID=Du,e.PerformanceMarkers=Re,e.Properties=Go,e.RGBAImage=ac,e.Ray=ql,e.RequestManager=class{constructor(e,t,n){this._transformRequestFn=e,this._customAccessToken=t,this._silenceAuthErrors=!!n,this._createSkuToken()}_createSkuToken(){const e=function(){let e="";for(let t=0;t<10;t++)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",d,e].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=e.token,this._skuTokenExpiresAt=e.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeStyleURL(e,t){if(!ye(e))return e;const n=Te(e);return n.path="/styles/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)}normalizeGlyphsURL(e,t){if(!ye(e))return e;const n=Te(e);return n.path="/fonts/v1"+n.path,this._makeAPIURL(n,this._customAccessToken||t)}normalizeSourceURL(e,t,n,i){if(!ye(e))return e;const r=Te(e);return r.path=`/v4/${r.authority}.json`,r.params.push("secure"),n&&r.params.push("language="+n),i&&r.params.push("worldview="+i),this._makeAPIURL(r,this._customAccessToken||t)}normalizeSpriteURL(e,t,n,i){const r=Te(e);return ye(e)?(r.path=`/styles/v1${r.path}/sprite${t}${n}`,this._makeAPIURL(r,this._customAccessToken||i)):(r.path+=`${t}${n}`,Ee(r))}normalizeTileURL(e,t,n){if(this._isSkuTokenExpired()&&this._createSkuToken(),e&&!ye(e))return e;const i=Te(e);i.path=i.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${t||n&&"raster"!==i.authority&&512===n?"@2x":""}${a.supported?".webp":"$1"}`),"raster"===i.authority?i.path=`/${o.RASTER_URL_PREFIX}${i.path}`:(i.path=i.path.replace(/^.+\/v4\//,"/"),i.path=`/${o.TILE_URL_VERSION}${i.path}`);const r=this._customAccessToken||function(e){for(const t of e){const e=t.match(/^access_token=(.*)$/);if(e)return e[1]}return null}(i.params)||o.ACCESS_TOKEN;return o.REQUIRE_ACCESS_TOKEN&&r&&this._skuToken&&i.params.push("sku="+this._skuToken),this._makeAPIURL(i,r)}canonicalizeTileURL(e,t){const n=Te(e);if(!n.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!n.path.match(/\.[\w]+$/))return e;let i="mapbox://";n.path.match(/^\/raster\/v1\//)?i+="raster/"+n.path.replace(`/${o.RASTER_URL_PREFIX}/`,""):i+="tiles/"+n.path.replace(`/${o.TILE_URL_VERSION}/`,"");let r=n.params;return t&&(r=r.filter(e=>!e.match(/^access_token=/))),r.length&&(i+="?"+r.join("&")),i}canonicalizeTileset(e,t){const n=!!t&&ye(t),i=[];for(const t of e.tiles||[])_e(t)?i.push(this.canonicalizeTileURL(t,n)):i.push(t);return i}_makeAPIURL(e,t){const n="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",i=Te(o.API_URL);if(e.protocol=i.protocol,e.authority=i.authority,"http"===e.protocol){const t=e.params.indexOf("secure");t>=0&&e.params.splice(t,1)}if("/"!==i.path&&(e.path=`${i.path}${e.path}`),!o.REQUIRE_ACCESS_TOKEN)return Ee(e);if(t=t||o.ACCESS_TOKEN,!this._silenceAuthErrors){if(!t)throw new Error("An API access token is required to use Mapbox GL. "+n);if("s"===t[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+n)}return e.params=e.params.filter(e=>-1===e.indexOf("access_token")),e.params.push("access_token="+(t||"")),Ee(e)}},e.ResourceType=ae,e.SegmentVector=ds,e.SourceCache=Lf,e.StencilMode=Pf,e.StructArrayLayout1ui2=va,e.StructArrayLayout2f1f2i16=ca,e.StructArrayLayout2i4=Yo,e.StructArrayLayout2ui4=_a,e.StructArrayLayout3f12=ha,e.StructArrayLayout3ui6=da,e.StructArrayLayout4i8=Qo,e.StructArrayLayout5f20=ga,e.Texture=rf,e.Tile=yf,e.Transitionable=Lo,e.Uniform1f=Ga,e.Uniform1i=class extends Va{constructor(e){super(e),this.current=0}set(e,t,n){this.fetchUniformLocation(e,t)&&this.current!==n&&(this.current=n,this.gl.uniform1i(this.location,n))}},e.Uniform2f=class extends Va{constructor(e){super(e),this.current=[0,0]}set(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]||(this.current=n,this.gl.uniform2f(this.location,n[0],n[1])))}},e.Uniform3f=class extends Va{constructor(e){super(e),this.current=[0,0,0]}set(e,t,n){this.fetchUniformLocation(e,t)&&(n[0]===this.current[0]&&n[1]===this.current[1]&&n[2]===this.current[2]||(this.current=n,this.gl.uniform3f(this.location,n[0],n[1],n[2])))}},e.Uniform4f=Za,e.UniformColor=Wa,e.UniformMatrix2f=class extends Va{constructor(e){super(e),this.current=Ha}set(e,t,n){if(this.fetchUniformLocation(e,t))for(let e=0;e<4;e++)if(n[e]!==this.current[e]){this.current=n,this.gl.uniformMatrix2fv(this.location,!1,n);break}}},e.UniformMatrix3f=class extends Va{constructor(e){super(e),this.current=$a}set(e,t,n){if(this.fetchUniformLocation(e,t))for(let e=0;e<9;e++)if(n[e]!==this.current[e]){this.current=n,this.gl.uniformMatrix3fv(this.location,!1,n);break}}},e.UniformMatrix4f=class extends Va{constructor(e){super(e),this.current=qa}set(e,t,n){if(this.fetchUniformLocation(e,t)){if(n[12]!==this.current[12]||n[0]!==this.current[0])return this.current=n,void this.gl.uniformMatrix4fv(this.location,!1,n);for(let e=1;e<16;e++)if(n[e]!==this.current[e]){this.current=n,this.gl.uniformMatrix4fv(this.location,!1,n);break}}}},e.UnwrappedTileID=zu,e.ValidationError=Wi,e.VectorTileFeature=du,e.VectorTileWorkerSource=class extends Ye{constructor(e,t,n,i,r){super(),this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||$f,this.loading={},this.loaded={},this.deduped=new qf(e.scheduler),this.isSpriteLoaded=i,this.scheduler=e.scheduler}loadTile(e,t){const n=e.uid,i=e&&e.request,r=i&&i.collectResourceTiming,o=this.loading[n]=new Zf(e);o.abort=this.loadVectorData(e,(a,s)=>{const l=!this.loading[n];if(delete this.loading[n],l||a||!s)return o.status="done",l||(this.loaded[n]=o),t(a);const c=s.rawData,u={};s.expires&&(u.expires=s.expires),s.cacheControl&&(u.cacheControl=s.cacheControl),o.vectorTile=s.vectorTile||new hu(new dh(c));const h=()=>{o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,(e,n)=>{if(e||!n)return t(e);const o={};if(r){const e=Ne(i);e.length>0&&(o.resourceTiming=JSON.parse(JSON.stringify(e)))}t(null,A({rawTileData:c.slice(0)},n,u,o))})};this.isSpriteLoaded?h():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(h,{type:"parseTile",isSymbolTile:e.isSymbolTile,zoom:e.tileZoom}):h()}),this.loaded=this.loaded||{},this.loaded[n]=o})}reloadTile(e,t){const n=this.loaded,i=e.uid,r=this;if(n&&n[i]){const o=n[i];o.showCollisionBoxes=e.showCollisionBoxes,o.enableTerrain=!!e.enableTerrain,o.projection=e.projection,o.tileTransform=gp(e.tileID.canonical,e.projection);const a=(e,n)=>{const i=o.reloadCallback;i&&(delete o.reloadCallback,o.parse(o.vectorTile,r.layerIndex,this.availableImages,r.actor,i)),t(e,n)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}}abortTile(e,t){const n=e.uid,i=this.loading[n];i&&(i.abort&&i.abort(),delete this.loading[n]),t()}removeTile(e,t){const n=this.loaded,i=e.uid;n&&n[i]&&delete n[i],t()}},e.WritingMode=Nh,e.add=wl,e.addDynamicAttributes=Vp,e.adjoint=function(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8];return e[0]=a*u-s*c,e[1]=r*c-i*u,e[2]=i*s-r*a,e[3]=s*l-o*u,e[4]=n*u-r*l,e[5]=r*o-n*s,e[6]=o*c-a*l,e[7]=i*l-n*c,e[8]=n*a-i*o,e},e.asyncAll=C,e.bezier=T,e.bindAll=R,e.boundsAttributes=mf,e.bufferConvexPolygon=function(e,t){const n=[];for(let i=0;i<e.length;i++){const r=I(i-1,-1,e.length-1),o=I(i+1,-1,e.length-1),a=e[i],s=e[o],l=e[r].sub(a).unit(),c=s.sub(a).unit(),u=c.angleWithSep(l.x,l.y),h=l.add(c).unit().mult(-1*t/Math.sin(u/2));n.push(a.add(h))}return n},e.cacheEntryPossiblyAdded=function(e){oe++,oe>te&&(e.getActor().send("enforceCacheSizeLimit",ee),oe=0)},e.calculateGlobeLabelMatrix=function(e,t){const{x:n,y:i}=e.point,r=lp(n,i,e.worldSize/e._pixelsPerMercatorPixel,0,0);return ul(r,r,sp(Xd(t)))},e.calculateGlobeMatrix=function(e){const{x:t,y:n}=e.point,{lng:i,lat:r}=e._center;return lp(t,n,e.worldSize,i,r)},e.calculateGlobeMercatorMatrix=function(e){const t=e.pixelsPerMeter,n=t/bs(1,e.center.lat),i=ll(new Float64Array(16));return hl(i,i,[e.point.x,e.point.y,0]),dl(i,i,[n,n,t]),Float32Array.from(i)},e.circumferenceAtLatitude=_s,e.clamp=S,e.clearTileCache=function(e){if(!ne())return;const t=n.caches.delete(J);e&&t.catch(e).then(()=>e())},e.clipLine=sd,e.clone=function(e){var t=new ol(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=N,e.collisionCircleLayout=nh,e.config=o,e.conjugate=function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e},e.create=function(){var e=new ol(16);return ol!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=al,e.createExpression=Ni,e.createLayout=Ho,e.createStyleLayer=function(e){return"custom"===e.type?new Kp(e):new nf[e.type](e)},e.cross=Pl,e.degToRad=v,e.distance=function(e,t){return Math.hypot(t[0]-e[0],t[1]-e[1],t[2]-e[2])},e.div=function(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e},e.dot=Al,e.earthRadius=ms,e.ease=E,e.easeCubicInOut=w,e.ecefToLatLng=function([e,t,n]){const i=Math.hypot(e,t,n),r=Math.atan2(e,n),o=.5*Math.PI-Math.acos(-t/i);return new gs(x(r),x(o))},e.emitValidationErrors=Cr,e.endsWith=B,e.enforceCacheSizeLimit=function(e){ie(),Q&&Q.then(t=>{t.keys().then(n=>{for(let i=0;i<n.length-e;i++)t.delete(n[i])})})},e.evaluateSizeForFeature=oh,e.evaluateSizeForZoom=ah,e.evaluateVariableOffset=Md,e.evented=Io,e.exactEquals=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},e.exactEquals$1=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]},e.exported=We,e.exported$1=a,e.extend=A,e.extend$1=Qe,e.fillExtrusionHeightLift=Mu,e.filterObject=F,e.fromMat4=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e},e.fromQuat=function(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n+n,s=i+i,l=r+r,c=n*a,u=i*a,h=i*s,d=r*a,p=r*s,f=r*l,m=o*a,g=o*s,y=o*l;return e[0]=1-h-f,e[1]=u+y,e[2]=d-g,e[3]=0,e[4]=u-y,e[5]=1-c-f,e[6]=p+m,e[7]=0,e[8]=d+g,e[9]=p-m,e[10]=1-c-h,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.fromRotation=function(e,t){var n=Math.sin(t),i=Math.cos(t);return e[0]=i,e[1]=n,e[2]=0,e[3]=-n,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=ml,e.furthestTileCorner=function(e){const t=Math.round((e+45+360)%360/90)%4;return b[t]},e.getAABBPointSquareDist=function(e,t,n){let i=0;for(let r=0;r<2;++r){const o=n?n[r]:0;e[r]>o&&(i+=(e[r]-o)*(e[r]-o)),t[r]<o&&(i+=(o-t[r])*(o-t[r]))}return i},e.getAnchorAlignment=Yh,e.getAnchorJustification=Cd,e.getBounds=function(e){let t=1/0,n=1/0,i=-1/0,r=-1/0;for(const o of e)t=Math.min(t,o.x),n=Math.min(n,o.y),i=Math.max(i,o.x),r=Math.max(r,o.y);return{min:new m(t,n),max:new m(i,r)}},e.getColumn=Y,e.getGridMatrix=function(e,t,n,i){const r=t.getNorth(),o=t.getSouth(),a=t.getWest(),s=t.getEast(),l=1<<e.z,c=s-a,u=r-o,h=c/64,d=-u/Vd[n],p=[0,h,0,d,0,0,r,a,0];if(e.z>0){const e=180/i;sl(p,p,[e/c+1,0,0,0,e/u+1,0,-.5*e/h,.5*e/d,1])}return p[2]=l,p[5]=e.x,p[8]=e.y,p},e.getImage=me,e.getJSON=function(e,t){return ce(A(e,{type:"json"}),t)},e.getLatitudinalLod=function(e){const t=80.051129;e=S(e,-80.051129,t)/t*90;const n=Math.pow(Math.abs(Math.sin(v(e))),3);return Math.round(n*(Vd.length-1))},e.getMapSessionAPI=Le,e.getPerformanceMeasurement=Ne,e.getProjection=Bp,e.getRTLTextPluginStatus=Co,e.getReferrer=le,e.getTilePoint=function(e,{x:t,y:n},i=0){return new m(((t-i)*e.scale-e.x)*ps,(n*e.scale-e.y)*ps)},e.getTileVec3=function(e,t,n=0){return bl(((t.x-n)*e.scale-e.x)*ps,(t.y*e.scale-e.y)*ps,Es(t.z,t.y))},e.getVideo=function(e,t){const i=n.document.createElement("video");i.muted=!0,i.onloadstart=function(){t(null,i)};for(let t=0;t<e.length;t++){const r=n.document.createElement("source");he(e[t])||(i.crossOrigin="Anonymous"),r.src=e[t],i.appendChild(r)}return{cancel:()=>{}}},e.globeCenterToScreenPoint=function(e){const t=[0,0,0],n=ll(new Float64Array(16));return ul(n,e.pixelMatrix,e.globeMatrix),zl(t,t,n),new m(t[0],t[1])},e.globeDenormalizeECEF=sp,e.globeECEFOrigin=function(e,t){const n=[0,0,0];return zl(n,n,ap(Xd(t.canonical))),zl(n,n,e),n},e.globeNormalizeECEF=ap,e.globePixelsToTileUnits=function(e,t){return ps/(512*Math.pow(2,e))*rp(Xd(t))},e.globePoleMatrixForTile=function(e,t,n){const i=ll(new Float64Array(16)),r=(t/(1<<e)-.5)*Math.PI*2;return fl(i,n.globeMatrix,r),Float32Array.from(i)},e.globeTileBounds=Xd,e.globeTiltAtLngLat=up,e.globeToMercatorTransition=cp,e.globeUseCustomAntiAliasing=function(e,t,n){const i=cp(n.zoom),r=e.style.map._antialias,o=!!t.extStandardDerivatives,a=t.extStandardDerivativesForceOff||e.terrain&&e.terrain.exaggeration()>0;return 0===i&&!r&&!a&&o},e.identity=ll,e.identity$1=Vl,e.invert=cl,e.isFullscreen=function(){return!!n.document.fullscreenElement||!!n.document.webkitFullscreenElement},e.isLngLatBehindGlobe=hp,e.isMapAuthenticated=function(e){return Oe.has(e)},e.isMapboxURL=ye,e.isSafariWithAntialiasingBug=function(e){const t=e.navigator?e.navigator.userAgent:null;return!!H(e)&&t&&(t.match("Version/15.4")||t.match("Version/15.5")||t.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},e.latFromMercatorY=Ts,e.latLngToECEF=np,e.len=Bl,e.length=xl,e.length$1=function(e){return Math.hypot(e[0],e[1],e[2],e[3])},e.lngFromMercatorX=ws,e.loadVectorTile=$f,e.makeRequest=ce,e.mapValue=function(e,t,n,i,r){return S((e-t)/(n-t)*(r-i)+i,i,r)},e.mercatorScale=Ms,e.mercatorXfromLng=vs,e.mercatorYfromLat=xs,e.mercatorZfromAltitude=bs,e.mul=yl,e.mul$1=Rl,e.multiply=ul,e.multiply$1=sl,e.multiply$2=El,e.nextPowerOfTwo=L,e.normalize=kl,e.normalize$1=Wl,e.normalize$2=Fl,e.number=Cn,e.ortho=function(e,t,n,i,r,o,a){var s=1/(t-n),l=1/(i-r),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(r+i)*l,e[14]=(a+o)*c,e[15]=1,e},e.pbf=dh,e.perspective=function(e,t,n,i,r){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(e[10]=(r+i)*(o=1/(i-r)),e[14]=2*r*i*o):(e[10]=-1,e[14]=-2*i),e},e.pick=function(e,t){const n={};for(let i=0;i<t.length;i++){const r=t[i];r in e&&(n[r]=e[r])}return n},e.plugin=Ao,e.pointGeometry=m,e.polesInViewport=function(e){const t=ll(new Float64Array(16));ul(t,e.pixelMatrix,e.globeMatrix);const n=[0,Gd,0],i=[0,Zd,0];return zl(n,n,t),zl(i,i,t),[n[0]>0&&n[0]<=e.width&&n[1]>0&&n[1]<=e.height&&!hp(e,new gs(e.center.lat,90)),i[0]>0&&i[0]<=e.width&&i[1]>0&&i[1]<=e.height&&!hp(e,new gs(e.center.lat,-90))]},e.polygonContainsPoint=Xs,e.polygonIntersectsBox=Ys,e.polygonIntersectsPolygon=Ns,e.polygonizeBounds=function(e,t,n=0,i=!0){const r=new m(n,n),o=e.sub(r),a=t.add(r),s=[o,new m(a.x,o.y),a,new m(o.x,a.y)];return i&&s.push(o.clone()),s},e.posAttributes=Fd,e.postMapLoadEvent=Ae,e.postPerformanceEvent=ze,e.postTurnstileEvent=Ce,e.potpack=Bh,e.prevPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},e.radToDeg=x,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.registerForPluginStateChange=function(e){return e({pluginStatus:To,pluginURL:Eo}),Io.on("pluginStateChange",e),e},e.removeAuthState=function(e){Oe.delete(e)},e.renderColorRamp=lc,e.resample=ks,e.rotateX=pl,e.rotateX$1=Gl,e.rotateY=fl,e.rotateY$1=Zl,e.rotateZ=function(e,t,n){var i=Math.sin(n),r=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*r+c*i,e[1]=a*r+u*i,e[2]=s*r+h*i,e[3]=l*r+d*i,e[4]=c*r-o*i,e[5]=u*r-a*i,e[6]=h*r-s*i,e[7]=d*r-l*i,e},e.rotateZ$1=function(e,t,n){n*=.5;var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);return e[0]=i*l+r*s,e[1]=r*l-i*s,e[2]=o*l+a*s,e[3]=a*l-o*s,e},e.scale=dl,e.scale$1=jl,e.scale$2=Il,e.scaleAndAdd=Cl,e.set=function(e,t,n,i){return e[0]=t,e[1]=n,e[2]=i,e},e.setCacheLimits=function(e,t){ee=e,te=t},e.setColumn=function(e,t,n){e[4*t+0]=n[0],e[4*t+1]=n[1],e[4*t+2]=n[2],e[4*t+3]=n[3]},e.setRTLTextPlugin=function(e,t,n=!1){if(To===vo||To===xo||To===bo)throw new Error("setRTLTextPlugin cannot be called multiple times.");Eo=We.resolveURL(e),To=vo,wo=t,Mo(),n||ko()},e.smoothstep=M,e.spec=Je,e.squaredLength=function(e){var t=e[0],n=e[1],i=e[2];return t*t+n*n+i*i},e.storeAuthState=function(e,t){t?Oe.add(e):Oe.delete(e)},e.sub=Ol,e.subtract=Tl,e.symbolSize=sh,e.tileAABB=function(e,t,n,i,r,o,a,s,l){if("globe"===l.name)return function(e,t,n){const i=t/e.worldSize,r=e.globeMatrix;if(n.z<=1){const e=Xd(n).getCorners();return Qd(e,r,i),Xl.fromPoints(e)}const o=Kd(n),a=ep(o);Qd(a,r,i);const s=Number.MAX_VALUE,l=[-s,-s,-s],c=[s,s,s];if(o.contains(e.center)){for(const e of a)Sl(c,c,e),Ml(l,l,e);l[2]=0;const t=e.point,n=[t.x*i,t.y*i,0];return Sl(c,c,n),Ml(l,l,n),new Xl(c,l)}const u=[r[12]*i,r[13]*i,r[14]*i],h=o.getCenter(),d=S(e.center.lat,-85.051129,Ss),p=S(h.lat,-85.051129,Ss),f=vs(e.center.lng),m=xs(d);let g=f-vs(h.lng);const y=m-xs(p);g>.5?g-=1:g<-.5&&(g+=1);let _=0;Math.abs(g)>Math.abs(y)?_=g>=0?1:3:(_=y>=0?0:2,Cl(u,u,[r[4]*i,r[5]*i,r[6]*i],-Math.sin(v(y>=0?o.getSouth():o.getNorth()))*Nd));const x=a[_],b=a[(_+1)%4],w=new $d(x,b,u),T=[Hd(w,0)||x[0],Hd(w,1)||x[1],Hd(w,2)||x[2]],E=cp(e.zoom);if(E>0){const i=function({x:e,y:t,z:n},i,r,o,a){const s=1/(1<<n);let l=e*s,c=l+s,u=t*s,h=u+s,d=0;const p=(l+c)/2-o;return p>.5?d=-1:p<-.5&&(d=1),l=((l+d)*i-(o*=i))*r+o,c=((c+d)*i-o)*r+o,u=(u*i-(a*=i))*r+a,h=(h*i-a)*r+a,[[l,h,0],[c,h,0],[c,u,0],[l,u,0]]}(n,t,e._pixelsPerMercatorPixel,f,m);for(let e=0;e<a.length;e++)Yd(a[e],i[e],E);const r=wl([],i[_],i[(_+1)%4]);Il(r,r,.5),Yd(T,r,E)}for(const e of a)Sl(c,c,e),Ml(l,l,e);return c[2]=Math.min(x[2],b[2]),Sl(c,c,T),Ml(l,l,T),new Xl(c,l)}(e,t,new Pu(n,i,r));const c=gp({z:n,x:i,y:r},l);return new Xl([(o+c.x/c.scale)*t,t*(c.y/c.scale),a],[(o+c.x2/c.scale)*t,t*(c.y2/c.scale),s])},e.tileCornersToBounds=Kd,e.tileTransform=gp,e.transformMat3=function(e,t,n){var i=t[0],r=t[1],o=t[2];return e[0]=i*n[0]+r*n[3]+o*n[6],e[1]=i*n[1]+r*n[4]+o*n[7],e[2]=i*n[2]+r*n[5]+o*n[8],e},e.transformMat4=zl,e.transformMat4$1=Nl,e.transformQuat=Dl,e.transitionTileAABBinECEF=Jd,e.translate=hl,e.transpose=function(e,t){if(e===t){var n=t[1],i=t[2],r=t[5];e[1]=t[3],e[2]=t[6],e[3]=n,e[5]=t[7],e[6]=i,e[7]=r}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e},e.triggerPluginCompletionEvent=So,e.uniqueId=z,e.updateGlobeVertexNormal=function(e,t,n,i,r){const o=5*t+2;e.float32[o+0]=n,e.float32[o+1]=i,e.float32[o+2]=r},e.validateCustomStyleLayer=function(e){const t=[],n=e.id;return void 0===n&&t.push({message:`layers.${n}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${n}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),t},e.validateFilter=e=>Ir(cr(e)),e.validateFog=e=>Ir(xr(e)),e.validateLayer=e=>Ir(pr(e)),e.validateLight=e=>Ir(_r(e)),e.validateSource=e=>Ir(gr(e)),e.validateStyle=Er,e.validateTerrain=e=>Ir(vr(e)),e.values=k,e.vectorTile=Kc,e.version=i,e.warnOnce=V,e.window=n,e.wrap=I})),r(["./shared"],(function(e){"use strict";function t(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return JSON.stringify(e);if(Array.isArray(e)){let n="[";for(const i of e)n+=t(i)+",";return n+"]"}let n="{";for(const i of Object.keys(e).sort())n+=`${i}:${t(e[i])},`;return n+"}"}function n(n){let i="";for(const r of e.refProperties)i+="/"+t(n[r]);return i}class i{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,i){for(const n of t)this._layerConfigs[n.id]=n,(this._layers[n.id]=e.createStyleLayer(n)).compileFilter(),this.keyCache[n.id]&&delete this.keyCache[n.id];for(const e of i)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const r=function(e,t){const i={};for(let r=0;r<e.length;r++){const o=t&&t[e[r].id]||n(e[r]);t&&(t[e[r].id]=o);let a=i[o];a||(a=i[o]=[]),a.push(e[r])}const r=[];for(const e in i)r.push(i[e]);return r}(e.values(this._layerConfigs),this.keyCache);for(const e of r){const t=e.map(e=>this._layers[e.id]),n=t[0];if("none"===n.visibility)continue;const i=n.source||"";let r=this.familiesBySource[i];r||(r=this.familiesBySource[i]={});const o=n.sourceLayer||"_geojsonTileLayer";let a=r[o];a||(a=r[o]=[]),a.push(t)}}}class r{loadTile(t,n){const{uid:i,encoding:r,rawImageData:o,padding:a,buildQuadTree:s}=t,l=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap?this.getImageData(o,a):o;n(null,new e.DEMData(i,l,r,a<1,s))}getImageData(e,t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);const n=this.offscreenCanvasContext.getImageData(-t,-t,e.width+2*t,e.height+2*t);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),n}}var o=function e(t,n){var i,r=t&&t.type;if("FeatureCollection"===r)for(i=0;i<t.features.length;i++)e(t.features[i],n);else if("GeometryCollection"===r)for(i=0;i<t.geometries.length;i++)e(t.geometries[i],n);else if("Feature"===r)e(t.geometry,n);else if("Polygon"===r)a(t.coordinates,n);else if("MultiPolygon"===r)for(i=0;i<t.coordinates.length;i++)a(t.coordinates[i],n);return t};function a(e,t){if(0!==e.length){s(e[0],t);for(var n=1;n<e.length;n++)s(e[n],!t)}}function s(e,t){for(var n=0,i=0,r=0,o=e.length,a=o-1;r<o;a=r++){var s=(e[r][0]-e[a][0])*(e[a][1]+e[r][1]),l=n+s;i+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+i>=0!=!!t&&e.reverse()}const l=e.VectorTileFeature.prototype.toGeoJSON;class c{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const n of this._feature.geometry)t.push([new e.pointGeometry(n[0],n[1])]);return t}{const t=[];for(const n of this._feature.geometry){const i=[];for(const t of n)i.push(new e.pointGeometry(t[0],t[1]));t.push(i)}return t}}toGeoJSON(e,t,n){return l.call(this,e,t,n)}}class u{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t}feature(e){return new c(this._features[e])}}var h={exports:{}},d=e.pointGeometry,p=e.vectorTile.VectorTileFeature,f=m;function m(e,t){this.options=t||{},this.features=e,this.length=e.length}function g(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}m.prototype.feature=function(e){return new g(this.features[e],this.options.extent)},g.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],i=[],r=0;r<n.length;r++)i.push(new d(n[r][0],n[r][1]));this.geometry.push(i)}return this.geometry},g.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,i=1/0,r=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),n=Math.max(n,l.x),i=Math.min(i,l.y),r=Math.max(r,l.y)}return[t,i,n,r]},g.prototype.toGeoJSON=p.prototype.toGeoJSON;var y=e.pbf,_=f;function v(e){var t=new y;return function(e,t){for(var n in e.layers)t.writeMessage(3,x,e.layers[n])}(e,t),t.finish()}function x(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)i.feature=e.feature(n),t.writeMessage(2,b,i);var r=i.keys;for(n=0;n<r.length;n++)t.writeStringField(3,r[n]);var o=i.values;for(n=0;n<o.length;n++)t.writeMessage(4,M,o[n])}function b(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,w,e),t.writeVarintField(3,n.type),t.writeMessage(4,S,n)}function w(e,t){var n=e.feature,i=e.keys,r=e.values,o=e.keycache,a=e.valuecache;for(var s in n.properties){var l=n.properties[s],c=o[s];if(null!==l){void 0===c&&(i.push(s),o[s]=c=i.length-1),t.writeVarint(c);var u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var h=u+":"+l,d=a[h];void 0===d&&(r.push(l),a[h]=d=r.length-1),t.writeVarint(d)}}}function T(e,t){return(t<<3)+(7&e)}function E(e){return e<<1^e>>31}function S(e,t){for(var n=e.loadGeometry(),i=e.type,r=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],c=1;1===i&&(c=l.length),t.writeVarint(T(1,c));for(var u=3===i?l.length-1:l.length,h=0;h<u;h++){1===h&&1!==i&&t.writeVarint(T(2,u-1));var d=l[h].x-r,p=l[h].y-o;t.writeVarint(E(d)),t.writeVarint(E(p)),r+=d,o+=p}3===i&&t.writeVarint(T(7,1))}}function M(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function I(e,t,n,i,r,o){if(r-i<=n)return;const a=i+r>>1;(function e(t,n,i,r,o,a){for(;o>r;){if(o-r>600){const s=o-r+1,l=i-r+1,c=Math.log(s),u=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1);e(t,n,i,Math.max(r,Math.floor(i-l*u/s+h)),Math.min(o,Math.floor(i+(s-l)*u/s+h)),a)}const s=n[2*i+a];let l=r,c=o;for(C(t,n,r,i),n[2*o+a]>s&&C(t,n,r,o);l<c;){for(C(t,n,l,c),l++,c--;n[2*l+a]<s;)l++;for(;n[2*c+a]>s;)c--}n[2*r+a]===s?C(t,n,r,c):(c++,C(t,n,c,o)),c<=i&&(r=c+1),i<=c&&(o=c-1)}})(e,t,a,i,r,o%2),I(e,t,n,i,a-1,o+1),I(e,t,n,a+1,r,o+1)}function C(e,t,n,i){k(e,n,i),k(t,2*n,2*i),k(t,2*n+1,2*i+1)}function k(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function A(e,t,n,i){const r=e-n,o=t-i;return r*r+o*o}h.exports=v,h.exports.fromVectorTileJs=v,h.exports.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var i in e)n[i]=new _(e[i].features,t),n[i].name=i,n[i].version=t.version,n[i].extent=t.extent;return v({layers:n})},h.exports.GeoJSONWrapper=_;const P=e=>e[0],z=e=>e[1];class D{constructor(e,t=P,n=z,i=64,r=Float64Array){this.nodeSize=i,this.points=e;const o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new r(2*e.length);for(let i=0;i<e.length;i++)a[i]=i,s[2*i]=t(e[i]),s[2*i+1]=n(e[i]);I(a,s,i,0,a.length-1,0)}range(e,t,n,i){return function(e,t,n,i,r,o,a){const s=[0,e.length-1,0],l=[];let c,u;for(;s.length;){const h=s.pop(),d=s.pop(),p=s.pop();if(d-p<=a){for(let a=p;a<=d;a++)c=t[2*a],u=t[2*a+1],c>=n&&c<=r&&u>=i&&u<=o&&l.push(e[a]);continue}const f=Math.floor((p+d)/2);c=t[2*f],u=t[2*f+1],c>=n&&c<=r&&u>=i&&u<=o&&l.push(e[f]);const m=(h+1)%2;(0===h?n<=c:i<=u)&&(s.push(p),s.push(f-1),s.push(m)),(0===h?r>=c:o>=u)&&(s.push(f+1),s.push(d),s.push(m))}return l}(this.ids,this.coords,e,t,n,i,this.nodeSize)}within(e,t,n){return function(e,t,n,i,r,o){const a=[0,e.length-1,0],s=[],l=r*r;for(;a.length;){const c=a.pop(),u=a.pop(),h=a.pop();if(u-h<=o){for(let r=h;r<=u;r++)A(t[2*r],t[2*r+1],n,i)<=l&&s.push(e[r]);continue}const d=Math.floor((h+u)/2),p=t[2*d],f=t[2*d+1];A(p,f,n,i)<=l&&s.push(e[d]);const m=(c+1)%2;(0===c?n-r<=p:i-r<=f)&&(a.push(h),a.push(d-1),a.push(m)),(0===c?n+r>=p:i+r>=f)&&(a.push(d+1),a.push(u),a.push(m))}return s}(this.ids,this.coords,e,t,n,this.nodeSize)}}const L={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},O=Math.fround||(R=new Float32Array(1),e=>(R[0]=+e,R[0]));var R;class B{constructor(e){this.options=W(Object.create(L),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:n,maxZoom:i,nodeSize:r}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;let a=[];for(let t=0;t<e.length;t++)e[t].geometry&&a.push(F(e[t],t));this.trees[i+1]=new D(a,q,$,r,Float32Array),t&&console.timeEnd(o);for(let e=i;e>=n;e--){const n=+Date.now();a=this._cluster(a,e),this.trees[e]=new D(a,q,$,r,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,a.length,+Date.now()-n)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let r=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){const e=this.getClusters([n,i,180,o],t),a=this.getClusters([-180,i,r,o],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],s=a.range(V(n),G(o),V(r),G(i)),l=[];for(const e of s){const t=a.points[e];l.push(t.numPoints?N(t):this.points[t.index])}return l}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);const o=r.points[t];if(!o)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=r.within(o.x,o.y,a),l=[];for(const t of s){const n=r.points[t];n.parentId===e&&l.push(n.numPoints?N(n):this.points[n.index])}if(0===l.length)throw new Error(i);return l}getLeaves(e,t,n){const i=[];return this._appendLeaves(i,e,t=t||10,n=n||0,0),i}getTile(e,t,n){const i=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:o,radius:a}=this.options,s=a/o,l=(n-s)/r,c=(n+1+s)/r,u={features:[]};return this._addTileFeatures(i.range((t-s)/r,l,(t+1+s)/r,c),i.points,t,n,r,u),0===t&&this._addTileFeatures(i.range(1-s/r,l,1,c),i.points,r,n,r,u),t===r-1&&this._addTileFeatures(i.range(0,l,s/r,c),i.points,-1,n,r,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,i,r){const o=this.getChildren(t);for(const t of o){const o=t.properties;if(o&&o.cluster?r+o.point_count<=i?r+=o.point_count:r=this._appendLeaves(e,o.cluster_id,n,i,r):r<i?r++:e.push(t),e.length===n)break}return r}_addTileFeatures(e,t,n,i,r,o){for(const a of e){const e=t[a],s=e.numPoints;let l,c,u;if(s)l=U(e),c=e.x,u=e.y;else{const t=this.points[e.index];l=t.properties,c=V(t.geometry.coordinates[0]),u=G(t.geometry.coordinates[1])}const h={type:1,geometry:[[Math.round(this.options.extent*(c*r-n)),Math.round(this.options.extent*(u*r-i))]],tags:l};let d;s?d=e.id:this.options.generateId?d=e.index:this.points[e.index].id&&(d=this.points[e.index].id),void 0!==d&&(h.id=d),o.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const n=[],{radius:i,extent:r,reduce:o,minPoints:a}=this.options,s=i/(r*Math.pow(2,t));for(let i=0;i<e.length;i++){const r=e[i];if(r.zoom<=t)continue;r.zoom=t;const l=this.trees[t+1],c=l.within(r.x,r.y,s),u=r.numPoints||1;let h=u;for(const e of c){const n=l.points[e];n.zoom>t&&(h+=n.numPoints||1)}if(h>u&&h>=a){let e=r.x*u,a=r.y*u,s=o&&u>1?this._map(r,!0):null;const d=(i<<5)+(t+1)+this.points.length;for(const n of c){const i=l.points[n];if(i.zoom<=t)continue;i.zoom=t;const c=i.numPoints||1;e+=i.x*c,a+=i.y*c,i.parentId=d,o&&(s||(s=this._map(r,!0)),o(s,this._map(i)))}r.parentId=d,n.push(j(e/h,a/h,d,h,s))}else if(n.push(r),h>1)for(const e of c){const i=l.points[e];i.zoom<=t||(i.zoom=t,n.push(i))}}return n}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?W({},e.properties):e.properties;const n=this.points[e.index].properties,i=this.options.map(n);return t&&i===n?W({},i):i}}function j(e,t,n,i,r){return{x:O(e),y:O(t),zoom:1/0,id:n,parentId:-1,numPoints:i,properties:r}}function F(e,t){const[n,i]=e.geometry.coordinates;return{x:O(V(n)),y:O(G(i)),zoom:1/0,index:t,parentId:-1}}function N(e){return{type:"Feature",id:e.id,properties:U(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),Z(e.y)]}};var t}function U(e){const t=e.numPoints,n=t>=1e4?Math.round(t/1e3)+"k":t>=1e3?Math.round(t/100)/10+"k":t;return W(W({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function V(e){return e/360+.5}function G(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Z(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function W(e,t){for(const n in t)e[n]=t[n];return e}function q(e){return e.x}function $(e){return e.y}function H(e,t,n,i,r,o){var a=r-n,s=o-i;if(0!==a||0!==s){var l=((e-n)*a+(t-i)*s)/(a*a+s*s);l>1?(n=r,i=o):l>0&&(n+=a*l,i+=s*l)}return(a=e-n)*a+(s=t-i)*s}function X(e,t,n,i){var r={id:void 0===e?null:e,type:t,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)Y(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<t.length;i++)Y(e,t[i]);else if("MultiPolygon"===n)for(i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)Y(e,t[i][r])}(r),r}function Y(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function J(e,t,n,i){if(t.geometry){var r=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=i||0),"Point"===o)Q(r,s);else if("MultiPoint"===o)for(var c=0;c<r.length;c++)Q(r[c],s);else if("LineString"===o)K(r,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(c=0;c<r.length;c++)K(r[c],s=[],a,!1),e.push(X(l,"LineString",s,t.properties));return}ee(r,s,a,!1)}else if("Polygon"===o)ee(r,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(c=0;c<t.geometry.geometries.length;c++)J(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},n,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<r.length;c++){var u=[];ee(r[c],u,a,!0),s.push(u)}}e.push(X(l,o,s,t.properties))}}function Q(e,t){t.push(te(e[0])),t.push(ne(e[1])),t.push(0)}function K(e,t,n,i){for(var r,o,a=0,s=0;s<e.length;s++){var l=te(e[s][0]),c=ne(e[s][1]);t.push(l),t.push(c),t.push(0),s>0&&(a+=i?(r*c-l*o)/2:Math.sqrt(Math.pow(l-r,2)+Math.pow(c-o,2))),r=l,o=c}var u=t.length-3;t[2]=1,function e(t,n,i,r){for(var o,a=r,s=i-n>>1,l=i-n,c=t[n],u=t[n+1],h=t[i],d=t[i+1],p=n+3;p<i;p+=3){var f=H(t[p],t[p+1],c,u,h,d);if(f>a)o=p,a=f;else if(f===a){var m=Math.abs(p-s);m<l&&(o=p,l=m)}}a>r&&(o-n>3&&e(t,n,o,r),t[o+2]=a,i-o>3&&e(t,o,i,r))}(t,0,u,n),t[u+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function ee(e,t,n,i){for(var r=0;r<e.length;r++){var o=[];K(e[r],o,n,i),t.push(o)}}function te(e){return e/360+.5}function ne(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ie(e,t,n,i,r,o,a,s){if(i/=t,o>=(n/=t)&&a<i)return e;if(a<n||o>=i)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],h=u.geometry,d=u.type,p=0===r?u.minX:u.minY,f=0===r?u.maxX:u.maxY;if(p>=n&&f<i)l.push(u);else if(!(f<n||p>=i)){var m=[];if("Point"===d||"MultiPoint"===d)re(h,m,n,i,r);else if("LineString"===d)oe(h,m,n,i,r,!1,s.lineMetrics);else if("MultiLineString"===d)se(h,m,n,i,r,!1);else if("Polygon"===d)se(h,m,n,i,r,!0);else if("MultiPolygon"===d)for(var g=0;g<h.length;g++){var y=[];se(h[g],y,n,i,r,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)l.push(X(u.id,d,m[g],u.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),l.push(X(u.id,d,m,u.tags))}}}return l.length?l:null}function re(e,t,n,i,r){for(var o=0;o<e.length;o+=3){var a=e[o+r];a>=n&&a<=i&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function oe(e,t,n,i,r,o,a){for(var s,l,c=ae(e),u=0===r?ce:ue,h=e.start,d=0;d<e.length-3;d+=3){var p=e[d],f=e[d+1],m=e[d+2],g=e[d+3],y=e[d+4],_=0===r?p:f,v=0===r?g:y,x=!1;a&&(s=Math.sqrt(Math.pow(p-g,2)+Math.pow(f-y,2))),_<n?v>n&&(l=u(c,p,f,g,y,n),a&&(c.start=h+s*l)):_>i?v<i&&(l=u(c,p,f,g,y,i),a&&(c.start=h+s*l)):le(c,p,f,m),v<n&&_>=n&&(l=u(c,p,f,g,y,n),x=!0),v>i&&_<=i&&(l=u(c,p,f,g,y,i),x=!0),!o&&x&&(a&&(c.end=h+s*l),t.push(c),c=ae(e)),a&&(h+=s)}var b=e.length-3;p=e[b],f=e[b+1],m=e[b+2],(_=0===r?p:f)>=n&&_<=i&&le(c,p,f,m),b=c.length-3,o&&b>=3&&(c[b]!==c[0]||c[b+1]!==c[1])&&le(c,c[0],c[1],c[2]),c.length&&t.push(c)}function ae(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function se(e,t,n,i,r,o){for(var a=0;a<e.length;a++)oe(e[a],t,n,i,r,o,!1)}function le(e,t,n,i){e.push(t),e.push(n),e.push(i)}function ce(e,t,n,i,r,o){var a=(o-t)/(i-t);return e.push(o),e.push(n+(r-n)*a),e.push(1),a}function ue(e,t,n,i,r,o){var a=(o-n)/(r-n);return e.push(t+(i-t)*a),e.push(o),e.push(1),a}function he(e,t){for(var n=[],i=0;i<e.length;i++){var r,o=e[i],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)r=de(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){r=[];for(var s=0;s<o.geometry.length;s++)r.push(de(o.geometry[s],t))}else if("MultiPolygon"===a)for(r=[],s=0;s<o.geometry.length;s++){for(var l=[],c=0;c<o.geometry[s].length;c++)l.push(de(o.geometry[s][c],t));r.push(l)}n.push(X(o.id,a,r,o.tags))}return n}function de(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var i=0;i<e.length;i+=3)n.push(e[i]+t,e[i+1],e[i+2]);return n}function pe(e,t){if(e.transformed)return e;var n,i,r,o=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(i=0;i<c.length;i+=2)l.geometry.push(fe(c[i],c[i+1],t,o,a,s));else for(i=0;i<c.length;i++){var h=[];for(r=0;r<c[i].length;r+=2)h.push(fe(c[i][r],c[i][r+1],t,o,a,s));l.geometry.push(h)}}return e.transformed=!0,e}function fe(e,t,n,i,r,o){return[Math.round(n*(e*i-r)),Math.round(n*(t*i-o))]}function me(e,t,n,i,r){for(var o=t===r.maxZoom?0:r.tolerance/((1<<t)*r.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,ge(a,e[s],o,r);var l=e[s].minX,c=e[s].minY,u=e[s].maxX,h=e[s].maxY;l<a.minX&&(a.minX=l),c<a.minY&&(a.minY=c),u>a.maxX&&(a.maxX=u),h>a.maxY&&(a.maxY=h)}return a}function ge(e,t,n,i){var r=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<r.length;s+=3)a.push(r[s]),a.push(r[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)ye(a,r,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<r.length;s++)ye(a,r[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<r.length;l++){var c=r[l];for(s=0;s<c.length;s++)ye(a,c[s],e,n,!0,0===s)}if(a.length){var u=t.tags||null;if("LineString"===o&&i.lineMetrics){for(var h in u={},t.tags)u[h]=t.tags[h];u.mapbox_clip_start=r.start/r.size,u.mapbox_clip_end=r.end/r.size}var d={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:u};null!==t.id&&(d.id=t.id),e.features.push(d)}}function ye(e,t,n,i,r,o){var a=i*i;if(i>0&&t.size<(r?a:i))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===i||t[l+2]>a)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;r&&function(e,t){for(var n=0,i=0,r=e.length,o=r-2;i<r;o=i,i+=2)n+=(e[i]-e[o])*(e[i+1]+e[o+1]);if(n>0===t)for(i=0,r=e.length;i<r/2;i+=2){var a=e[i],s=e[i+1];e[i]=e[r-2-i],e[i+1]=e[r-1-i],e[r-2-i]=a,e[r-1-i]=s}}(s,o),e.push(s)}}function _e(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var i=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var i=0;i<e.features.length;i++)J(n,e.features[i],t,i);else J(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(i=function(e,t){var n=t.buffer/t.extent,i=e,r=ie(e,1,-1-n,n,0,-1,2,t),o=ie(e,1,1-n,2+n,0,-1,2,t);return(r||o)&&(i=ie(e,1,-n,1+n,0,-1,2,t)||[],r&&(i=he(r,1).concat(i)),o&&(i=i.concat(he(o,-1)))),i}(i,t)).length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function ve(e,t,n){return 32*((1<<e)*n+t)+e}function xe(e,t){const n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const i=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!i)return t(null,null);const r=new u(i.features);let o=h.exports(r);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:r,rawData:o.buffer})}_e.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},_e.prototype.splitTile=function(e,t,n,i,r,o,a){for(var s=[e,t,n,i],l=this.options,c=l.debug;s.length;){i=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var u=1<<t,h=ve(t,n,i),d=this.tiles[h];if(!d&&(c>1&&console.time("creation"),d=this.tiles[h]=me(e,t,n,i,l),this.tileCoords.push({z:t,x:n,y:i}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,i,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(d.source=e,r){if(t===l.maxZoom||t===r)continue;var f=1<<r-t;if(n!==Math.floor(o/f)||i!==Math.floor(a/f))continue}else if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==e.length){c>1&&console.time("clipping");var m,g,y,_,v,x,b=.5*l.buffer/l.extent,w=.5-b,T=.5+b,E=1+b;m=g=y=_=null,v=ie(e,u,n-b,n+T,0,d.minX,d.maxX,l),x=ie(e,u,n+w,n+E,0,d.minX,d.maxX,l),e=null,v&&(m=ie(v,u,i-b,i+T,1,d.minY,d.maxY,l),g=ie(v,u,i+w,i+E,1,d.minY,d.maxY,l),v=null),x&&(y=ie(x,u,i-b,i+T,1,d.minY,d.maxY,l),_=ie(x,u,i+w,i+E,1,d.minY,d.maxY,l),x=null),c>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*i),s.push(g||[],t+1,2*n,2*i+1),s.push(y||[],t+1,2*n+1,2*i),s.push(_||[],t+1,2*n+1,2*i+1)}}},_e.prototype.getTile=function(e,t,n){var i=this.options,r=i.extent,o=i.debug;if(e<0||e>24)return null;var a=1<<e,s=ve(e,t=(t%a+a)%a,n);if(this.tiles[s])return pe(this.tiles[s],r);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,c=e,u=t,h=n;!l&&c>0;)c--,u=Math.floor(u/2),h=Math.floor(h/2),l=this.tiles[ve(c,u,h)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",c,u,h),o>1&&console.time("drilling down"),this.splitTile(l.source,c,u,h,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?pe(this.tiles[s],r):null):null};class be extends e.VectorTileWorkerSource{constructor(e,t,n,i,r){super(e,t,n,i,xe),r&&(this.loadGeoJSON=r)}loadData(t,n){const i=t&&t.request,r=i&&i.collectResourceTiming;this.loadGeoJSON(t,(a,s)=>{if(a||!s)return n(a);if("object"!=typeof s)return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));{o(s,!0);try{if(t.filter){const n=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===n.result)throw new Error(n.value.map(e=>`${e.key}: ${e.message}`).join(", "));const i=s.features.filter(e=>n.value.evaluate({zoom:0},e));s={type:"FeatureCollection",features:i}}this._geoJSONIndex=t.cluster?new B(function({superclusterOptions:t,clusterProperties:n}){if(!n||!t)return t;const i={},r={},o={accumulated:null,zoom:0},a={properties:null},s=Object.keys(n);for(const t of s){const[o,a]=n[t],s=e.createExpression(a),l=e.createExpression("string"==typeof o?[o,["accumulated"],["get",t]]:o);i[t]=s.value,r[t]=l.value}return t.map=e=>{a.properties=e;const t={};for(const e of s)t[e]=i[e].evaluate(o,a);return t},t.reduce=(e,t)=>{a.properties=t;for(const t of s)o.accumulated=e[t],e[t]=r[t].evaluate(o,a)},t}(t)).load(s.features):function(e,t){return new _e(e,t)}(s,t.geojsonVtOptions)}catch(a){return n(a)}this.loaded={};const l={};if(r){const n=e.getPerformanceMeasurement(i);n&&(l.resourceTiming={},l.resourceTiming[t.source]=JSON.parse(JSON.stringify(n)))}n(null,l)}})}reloadTile(e,t){const n=this.loaded;return n&&n[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,n){if(t.request)e.getJSON(t.request,n);else{if("string"!=typeof t.data)return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));try{return n(null,JSON.parse(t.data))}catch(e){return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class we{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=e.getProjection({name:"mercator"}),this.workerSourceTypes={vector:e.VectorTileWorkerSource,geojson:be},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}clearCaches(e,t,n){delete this.layerIndexes[e],delete this.availableImages[e],delete this.workerSources[e],delete this.demWorkerSources[e],n()}checkIfReady(e,t,n){n()}setReferrer(e,t){this.referrer=t}spriteLoaded(t,n){this.isSpriteLoaded[t]=n;for(const i in this.workerSources[t]){const r=this.workerSources[t][i];for(const t in r)r[t]instanceof e.VectorTileWorkerSource&&(r[t].isSpriteLoaded=n,r[t].fire(new e.Event("isSpriteLoaded")))}}setImages(e,t,n){this.availableImages[e]=t;for(const n in this.workerSources[e]){const i=this.workerSources[e][n];for(const e in i)i[e].availableImages=t}n()}enableTerrain(e,t,n){this.terrain=t,n()}setProjection(t,n){this.projections[t]=e.getProjection(n)}setLayers(e,t,n){this.getLayerIndex(e).replace(t),n()}updateLayers(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()}loadTile(t,n,i){const r=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;r.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).loadTile(r,i)}loadDEMTile(t,n,i){const r=this.enableTerrain?e.extend({buildQuadTree:this.terrain},n):n;this.getDEMWorkerSource(t,n.source).loadTile(r,i)}reloadTile(t,n,i){const r=this.enableTerrain?e.extend({enableTerrain:this.terrain},n):n;r.projection=this.projections[t]||this.defaultProjection,this.getWorkerSource(t,n.type,n.source).reloadTile(r,i)}abortTile(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)}removeTile(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)}removeSource(e,t,n){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const i=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==i.removeSource?i.removeSource(t,n):n()}loadWorkerSource(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}}syncRTLPluginState(t,n,i){try{e.plugin.setState(n);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const n=e.plugin.isParsed();i(n?void 0:new Error("RTL Text Plugin failed to import scripts from "+t),n)}}catch(e){i(e.toString())}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new i),t}getWorkerSource(e,t,n){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){const i={send:(t,n,i,r,o,a)=>{this.actor.send(t,n,i,e,o,a)},scheduler:this.actor.scheduler};this.workerSources[e][t][n]=new this.workerSourceTypes[t](i,this.getLayerIndex(e),this.getAvailableImages(e),this.isSpriteLoaded[e])}return this.workerSources[e][t][n]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new r),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,n){e.enforceCacheSizeLimit(n)}getWorkerPerformanceMetrics(e,t,n){n(void 0,void 0)}}return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope&&(self.worker=new we(self)),we})),r(["./shared"],(function(e){"use strict";function t(e,n){if(Array.isArray(e)){if(!Array.isArray(n)||e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!t(e[i],n[i]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(!t(e[i],n[i]))return!1;return!0}return e===n}var n=i;function i(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),i=URL.createObjectURL(n);try{t=new Worker(i),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(i),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[t=e&&e.failIfMajorPerformanceCaveat]&&(r[t]=function(e){var t,n=function(e){var t=document.createElement("canvas"),n=Object.create(i.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=e,t.getContext("webgl",n)||t.getContext("experimental-webgl",n)}(e);if(!n)return!1;try{t=n.createShader(n.VERTEX_SHADER)}catch(e){return!1}return!(!t||n.isContextLost())&&(n.shaderSource(t,"void main() {}"),n.compileShader(t),!0===n.getShaderParameter(t,n.COMPILE_STATUS))}(t)),r[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var r={};function o(t,n,i){const r=e.window.document.createElement(t);return void 0!==n&&(r.className=n),i&&i.appendChild(r),r}function a(t,n,i){const r=e.window.document.createElementNS("http://www.w3.org/2000/svg",t);for(const e of Object.keys(n))r.setAttributeNS(null,e,n[e]);return i&&i.appendChild(r),r}i.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const s=e.window.document&&e.window.document.documentElement.style,l=s&&void 0!==s.userSelect?"userSelect":"WebkitUserSelect";let c;function u(){s&&l&&(c=s[l],s[l]="none")}function h(){s&&l&&(s[l]=c)}function d(t){t.preventDefault(),t.stopPropagation(),e.window.removeEventListener("click",d,!0)}function p(){e.window.addEventListener("click",d,!0),e.window.setTimeout(()=>{e.window.removeEventListener("click",d,!0)},0)}function f(e,t){const n=e.getBoundingClientRect();return y(e,n,t)}function m(e,t){const n=e.getBoundingClientRect(),i=[];for(let r=0;r<t.length;r++)i.push(y(e,n,t[r]));return i}function g(t){return void 0!==e.window.InstallTrigger&&2===t.button&&t.ctrlKey&&e.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:t.button}function y(t,n,i){const r=t.offsetWidth===n.width?1:t.offsetWidth/n.width;return new e.pointGeometry((i.clientX-n.left)*r,(i.clientY-n.top)*r)}function _(e,t){var n=t[0],i=t[1],r=t[2],o=t[3],a=n*o-r*i;return a?(e[0]=o*(a=1/a),e[1]=-i*a,e[2]=-r*a,e[3]=n*a,e):null}function v(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class x extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}hasImage(e){return!!this.getImage(e)}getImage(e){return this.images[e]}addImage(e,t){this._validate(e,t)&&(this.images[e]=t)}_validate(t,n){let i=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),i=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),i=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),i=!1),i}_validateStretch(e,t){if(!e)return!0;let n=0;for(const i of e){if(i[0]<n||i[1]<i[0]||t<i[1])return!1;n=i[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){t.version=this.images[e].version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let n=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,n){const i={};for(const n of t){this.images[n]||this.fire(new e.Event("styleimagemissing",{id:n}));const t=this.images[n];t?i[n]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${n}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}n(null,i)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const n=this.patterns[t],i=this.getImage(t);if(!i)return null;if(n&&n.position.version===i.version)return n.position;if(n)n.position.version=i.version;else{const n={w:i.data.width+2,h:i.data.height+2,x:0,y:0},r=new e.ImagePosition(n,i);this.patterns[t]={bin:n,position:r}}return this._updatePatternAtlas(),this.patterns[t].position}bind(t){const n=t.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new e.Texture(t,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:n,h:i}=e.potpack(t),r=this.atlasImage;r.resize({width:n||1,height:i||1});for(const t in this.patterns){const{bin:n}=this.patterns[t],i=n.x+1,o=n.y+1,a=this.images[t].data,s=a.width,l=a.height;e.RGBAImage.copy(a,r,{x:0,y:0},{x:i,y:o},{width:s,height:l}),e.RGBAImage.copy(a,r,{x:0,y:l-1},{x:i,y:o-1},{width:s,height:1}),e.RGBAImage.copy(a,r,{x:0,y:0},{x:i,y:o+l},{width:s,height:1}),e.RGBAImage.copy(a,r,{x:s-1,y:0},{x:i-1,y:o},{width:1,height:l}),e.RGBAImage.copy(a,r,{x:0,y:0},{x:i+s,y:o},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const t of e){if(this.callbackDispatchedThisFrame[t])continue;this.callbackDispatchedThisFrame[t]=!0;const e=this.images[t];v(e)&&this.updateImage(t,e)}}}const b=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position}possiblyEvaluate(t,n){return function([t,n,i]){const r=e.degToRad(n+90),o=e.degToRad(i);return{x:t*Math.cos(r)*Math.sin(o),y:t*Math.sin(r)*Math.sin(o),z:t*Math.cos(o),azimuthal:n,polar:i}}(t.expression.evaluate(n))}interpolate(t,n,i){return{x:e.number(t.x,n.x,i),y:e.number(t.y,n.y,i),z:e.number(t.z,n.z,i),azimuthal:e.number(t.azimuthal,n.azimuthal,i),polar:e.number(t.polar,n.polar,i)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),w="-transition";class T extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(b),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,n={}){if(!this._validate(e.validateLight,t,n))for(const n in t){const i=t[n];e.endsWith(n,w)?this._transitionable.setTransition(n.slice(0,-w.length),i):this._transitionable.setValue(n,i)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,n,i){return(!i||!1!==i.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}const E=new e.Properties({source:new e.DataConstantProperty(e.spec.terrain.source),exaggeration:new e.DataConstantProperty(e.spec.terrain.exaggeration)}),S="-transition";class M extends e.Evented{constructor(t,n){super(),this._transitionable=new e.Transitionable(E),this.set(t),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=n}get(){return this._transitionable.serialize()}set(t){for(const n in t){const i=t[n];e.endsWith(n,S)?this._transitionable.setTransition(n.slice(0,-S.length),i):this._transitionable.setValue(n,i)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}}function I(t,n,i,r){const o=e.smoothstep(45,65,i),[a,s]=C(t,r),l=e.length(n);let c=1-Math.min(1,Math.exp((l-a)/(s-a)*-6));return c*=c*c,c=Math.min(1,1.00747*c),c*o*t.alpha}function C(e,t){const n=.5/Math.tan(.5*t);return[e.range[0]+n,e.range[1]+n]}const k=new e.Properties({range:new e.DataConstantProperty(e.spec.fog.range),color:new e.DataConstantProperty(e.spec.fog.color),"high-color":new e.DataConstantProperty(e.spec.fog["high-color"]),"space-color":new e.DataConstantProperty(e.spec.fog["space-color"]),"horizon-blend":new e.DataConstantProperty(e.spec.fog["horizon-blend"]),"star-intensity":new e.DataConstantProperty(e.spec.fog["star-intensity"])}),A="-transition";class P extends e.Evented{constructor(t,n){super(),this._transitionable=new e.Transitionable(k),this.set(t),this._transitioning=this._transitionable.untransitioned(),this._transform=n}get state(){const t=this._transform,n="globe"===t.projection.name,i=e.globeToMercatorTransition(t.zoom),r=this.properties.get("range"),o=[.5,3];return{range:n?[e.number(o[0],r[0],i),e.number(o[1],r[1],i)]:r,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(t,n={}){if(!this._validate(e.validateFog,t,n)){for(const n of Object.keys(e.spec.fog))t&&void 0===t[n]&&(t[n]=e.spec.fog[n].default);for(const n in t){const i=t[n];e.endsWith(n,A)?this._transitionable.setTransition(n.slice(0,-A.length),i):this._transitionable.setValue(n,i)}}}getOpacity(t){if(!this._transform.projection.supportsFog)return 0;const n=this.properties&&this.properties.get("color")||1;return("globe"===this._transform.projection.name?1:e.smoothstep(45,65,t))*n.a}getOpacityAtLatLng(t,n){return this._transform.projection.supportsFog?function(t,n,i){const r=e.MercatorCoordinate.fromLngLat(n),o=i.elevation?i.elevation.getAtPointOrZero(r):0,a=[r.x,r.y,o];return e.transformMat4(a,a,i.mercatorFogMatrix),I(t,a,i.pitch,i._fov)}(this.state,t,n):0}getFovAdjustedRange(e){return this._transform.projection.supportsFog?C(this.state,e):[0,1]}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,n,i){return(!i||!1!==i.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class z{constructor(t,n){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const i=this.workerPool.acquire(this.id);for(let e=0;e<i.length;e++){const t=new z.Actor(i[e],n,this.id);t.name="Worker "+e,this.actors.push(t)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(t,n,i){e.asyncAll(this.actors,(e,i)=>{e.send(t,n,i)},i=i||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(e=>{e.remove()}),this.actors=[],this.workerPool.release(this.id)}}function D(t,n,i){return n*(e.EXTENT/(t.tileSize*Math.pow(2,i-t.tileID.overscaledZ)))}z.Actor=e.Actor;class L{constructor(e,t,n,i){this.screenBounds=e,this.cameraPoint=t,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=n,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,i)}static createFromScreenPoints(t,n){let i,r;if(t instanceof e.pointGeometry||"number"==typeof t[0]){const o=e.pointGeometry.convert(t);i=[o],r=n.isPointAboveHorizon(o)}else{const o=e.pointGeometry.convert(t[0]),a=e.pointGeometry.convert(t[1]);i=[o,a],r=e.polygonizeBounds(o,a).every(e=>n.isPointAboveHorizon(e))}return new L(i,n.getCameraPoint(),r,n)}isPointQuery(){return 1===this.screenBounds.length}bufferedScreenGeometry(t){return e.polygonizeBounds(this.screenBounds[0],1===this.screenBounds.length?this.screenBounds[0]:this.screenBounds[1],t)}bufferedCameraGeometry(t){const n=this.screenBounds[0],i=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(n,i,0,!1);return this.cameraPoint.y>i.y&&(this.cameraPoint.x>n.x&&this.cameraPoint.x<i.x?r.splice(3,0,this.cameraPoint):this.cameraPoint.x>=i.x?r[2]=this.cameraPoint:this.cameraPoint.x<=n.x&&(r[3]=this.cameraPoint)),e.bufferConvexPolygon(r,t)}bufferedCameraGeometryGlobe(t){const n=this.screenBounds[0],i=1===this.screenBounds.length?this.screenBounds[0].add(new e.pointGeometry(1,1)):this.screenBounds[1],r=e.polygonizeBounds(n,i,t),o=this.cameraPoint.clone();switch(3*((o.y>n.y)+(o.y>i.y))+((o.x>n.x)+(o.x>i.x))){case 0:r[0]=o,r[4]=o.clone();break;case 1:r.splice(1,0,o);break;case 2:r[1]=o;break;case 3:r.splice(4,0,o);break;case 5:r.splice(2,0,o);break;case 6:r[3]=o;break;case 7:r.splice(3,0,o);break;case 8:r[2]=o}return r}containsTile(t,n,i,r=0){const o=t.queryPadding/n._pixelsPerMercatorPixel+1,a=i?this._bufferedCameraMercator(o,n):this._bufferedScreenMercator(o,n);let s=t.tileID.wrap+(a.unwrapped?r:0);const l=a.polygon.map(n=>e.getTilePoint(t.tileTransform,n,s));if(!e.polygonIntersectsBox(l,0,0,e.EXTENT,e.EXTENT))return;s=t.tileID.wrap+(this.screenGeometryMercator.unwrapped?r:0);const c=this.screenGeometryMercator.polygon.map(n=>e.getTileVec3(t.tileTransform,n,s)),u=c.map(t=>new e.pointGeometry(t[0],t[1])),h=n.getFreeCameraOptions().position||new e.MercatorCoordinate(0,0,0),d=e.getTileVec3(t.tileTransform,h,s),p=c.map(t=>{const n=e.sub(t,t,d);return e.normalize(n,n),new e.Ray(d,n)}),f=D(t,1,n.zoom)*n._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:u,tilespaceRays:p,bufferedTilespaceGeometry:l,bufferedTilespaceBounds:(m=e.getBounds(l),m.min.x=e.clamp(m.min.x,0,e.EXTENT),m.min.y=e.clamp(m.min.y,0,e.EXTENT),m.max.x=e.clamp(m.max.x,0,e.EXTENT),m.max.y=e.clamp(m.max.y,0,e.EXTENT),m),tile:t,tileID:t.tileID,pixelToTileUnitsFactor:f};var m}_bufferedScreenMercator(e,t){const n=B(e);if(this._screenRaycastCache[n])return this._screenRaycastCache[n];{let i;return i="globe"===t.projection.name?this._projectAndResample(this.bufferedScreenGeometry(e),t):{polygon:this.bufferedScreenGeometry(e).map(e=>t.pointCoordinate3D(e)),unwrapped:!0},this._screenRaycastCache[n]=i,i}}_bufferedCameraMercator(e,t){const n=B(e);if(this._cameraRaycastCache[n])return this._cameraRaycastCache[n];{let i;return i="globe"===t.projection.name?this._projectAndResample(this.bufferedCameraGeometryGlobe(e),t):{polygon:this.bufferedCameraGeometry(e).map(e=>t.pointCoordinate3D(e)),unwrapped:!0},this._cameraRaycastCache[n]=i,i}}_projectAndResample(t,n){const i=function(t,n){const i=e.multiply([],n.pixelMatrix,n.globeMatrix),r=[0,-e.GLOBE_RADIUS,0,1],o=[0,e.GLOBE_RADIUS,0,1],a=[0,0,0,1];e.transformMat4$1(r,r,i),e.transformMat4$1(o,o,i),e.transformMat4$1(a,a,i);const s=new e.pointGeometry(r[0]/r[3],r[1]/r[3]),l=new e.pointGeometry(o[0]/o[3],o[1]/o[3]),c=e.polygonContainsPoint(t,s)&&r[3]<a[3],u=e.polygonContainsPoint(t,l)&&o[3]<a[3];if(!c&&!u)return null;const h=function(e,t,n){for(let i=1;i<e.length;i++){const r=R(t.pointCoordinate3D(e[i-1]).x),o=R(t.pointCoordinate3D(e[i]).x);if(n<0){if(r<o)return{idx:i,t:-r/(o-1-r)}}else if(o<r)return{idx:i,t:(1-r)/(o+1-r)}}return null}(t,n,c?-1:1);if(!h)return null;const{idx:d,t:p}=h;let f=d>1?O(t.slice(0,d),n):[],m=d<t.length?O(t.slice(d),n):[];f=f.map(t=>new e.pointGeometry(R(t.x),t.y)),m=m.map(t=>new e.pointGeometry(R(t.x),t.y));const g=[...f];0===g.length&&g.push(m[m.length-1]);const y=e.number(g[g.length-1].y,(0===m.length?f[0]:m[0]).y,p);let _;return _=c?[new e.pointGeometry(0,y),new e.pointGeometry(0,0),new e.pointGeometry(1,0),new e.pointGeometry(1,y)]:[new e.pointGeometry(1,y),new e.pointGeometry(1,1),new e.pointGeometry(0,1),new e.pointGeometry(0,y)],g.push(..._),0===m.length?g.push(f[0]):g.push(...m),{polygon:g.map(t=>new e.MercatorCoordinate(t.x,t.y)),unwrapped:!1}}(t,n);if(i)return i;const r=function(t,n){let i=!1,r=-1/0,o=0;for(let e=0;e<t.length-1;e++)t[e].x>r&&(r=t[e].x,o=e);for(let e=0;e<t.length-1;e++){const n=(o+e)%(t.length-1),r=t[n],a=t[n+1];Math.abs(r.x-a.x)>.5&&(r.x<a.x?(r.x+=1,0===n&&(t[t.length-1].x+=1)):(a.x+=1,n+1===t.length-1&&(t[0].x+=1)),i=!0)}const a=e.mercatorXfromLng(n.center.lng);return i&&a<Math.abs(a-1)&&t.forEach(e=>{e.x-=1}),{polygon:t,unwrapped:i}}(O(t,n).map(t=>new e.pointGeometry(R(t.x),t.y)),n);return{polygon:r.polygon.map(t=>new e.MercatorCoordinate(t.x,t.y)),unwrapped:r.unwrapped}}}function O(t,n){return e.resample(t,e=>{const t=n.pointCoordinate3D(e);e.x=t.x,e.y=t.y},1/256)}function R(e){return e<0?1+e%1:e%1}function B(e){return 100*e|0}function j(t,n,i,r,o){const a=function(i,r){if(i)return o(i);if(r){t.url&&r.tiles&&t.tiles&&delete t.tiles;const i=e.pick(e.extend(r,t),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);r.vector_layers&&(i.vectorLayers=r.vector_layers,i.vectorLayerIds=i.vectorLayers.map(e=>e.id)),i.tiles=n.canonicalizeTileset(i,t.url),o(null,i)}};return t.url?e.getJSON(n.transformRequest(n.normalizeSourceURL(t.url,null,i,r),e.ResourceType.Source),a):e.exported.frame(()=>a(null,t))}class F{constructor(t,n,i){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=i||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const n=Math.pow(2,t.z),i=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),r=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=i&&t.x<o&&t.y>=r&&t.y<a}}class N{constructor(e,t,n){this.context=e;const i=e.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const U={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class V{constructor(e,t,n,i){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=i,this.context=e;const r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||t.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let n=0;n<this.attributes.length;n++){const i=t.attributes[this.attributes[n].name];void 0!==i&&e.enableVertexAttribArray(i)}}setVertexAttribPointers(e,t,n){for(let i=0;i<this.attributes.length;i++){const r=this.attributes[i],o=t.attributes[r.name];void 0!==o&&e.vertexAttribPointer(o,r.components,e[U[r.type]],!1,this.itemSize,r.offset+this.itemSize*(n||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class G{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Z extends G{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class W extends G{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class q extends G{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class $ extends G{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class H extends G{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class X extends G{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Y extends G{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class J extends G{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class Q extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class K extends G{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class ee extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class te extends G{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class ne extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class ie extends G{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class re extends G{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class oe extends G{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class ae extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class se extends G{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class le extends G{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class ce extends G{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class ue extends G{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class he extends G{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class de extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class pe extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class fe extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class me extends G{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ge extends G{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class ye extends G{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class _e extends G{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class ve extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class xe extends G{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class be extends G{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class we extends be{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class Te extends be{attachment(){return this.gl.DEPTH_ATTACHMENT}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,this.attachment(),t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Ee extends Te{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Se{constructor(e,t,n,i){this.context=e,this.width=t,this.height=n;const r=this.framebuffer=e.gl.createFramebuffer();this.colorAttachment=new we(e,r),i&&(this.depthAttachment=new Te(e,r))}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class Me{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Z(this),this.clearDepth=new W(this),this.clearStencil=new q(this),this.colorMask=new $(this),this.depthMask=new H(this),this.stencilMask=new X(this),this.stencilFunc=new Y(this),this.stencilOp=new J(this),this.stencilTest=new Q(this),this.depthRange=new K(this),this.depthTest=new ee(this),this.depthFunc=new te(this),this.blend=new ne(this),this.blendFunc=new ie(this),this.blendColor=new re(this),this.blendEquation=new oe(this),this.cullFace=new ae(this),this.cullFaceSide=new se(this),this.frontFace=new le(this),this.program=new ce(this),this.activeTexture=new ue(this),this.viewport=new he(this),this.bindFramebuffer=new de(this),this.bindRenderbuffer=new pe(this),this.bindTexture=new fe(this),this.bindVertexBuffer=new me(this),this.bindElementBuffer=new ge(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new ye(this),this.pixelStoreUnpack=new _e(this),this.pixelStoreUnpackPremultiplyAlpha=new ve(this),this.pixelStoreUnpackFlipY=new xe(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=e.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=e.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=e.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=e.getExtension("OES_standard_derivatives"),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new N(this,e,t)}createVertexBuffer(e,t,n){return new V(this,e,t,n)}createRenderbuffer(e,t,n){const i=this.gl,r=i.createRenderbuffer();return this.bindRenderbuffer.set(r),i.renderbufferStorage(i.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),r}createFramebuffer(e,t,n){return new Se(this,e,t,n)}clear({color:e,depth:t,stencil:n}){const i=this.gl;let r=0;e&&(r|=i.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(r|=i.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==n&&(r|=i.STENCIL_BUFFER_BIT,this.clearStencil.set(n),this.stencilMask.set(255)),i.clear(r)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(n){t(n.blendFunction,e.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(n.blendFunction),this.blendColor.set(n.blendColor)),this.colorMask.set(n.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Ie extends e.Evented{constructor(t,n,i,r){super(),this.id=t,this.dispatcher=i,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=j(this._options,this.map._requestManager,null,null,(t,n)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):n&&(e.extend(this,n),n.bounds&&(this.tileBounds=new F(n.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(n.tiles),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,n){const i=e.exported.devicePixelRatio>=2,r=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),i,this.tileSize);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),(i,r,o,a)=>(delete t.request,t.aborted?(t.state="unloaded",n(null)):i?(t.state="errored",n(i)):r?(this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:o,expires:a}),t.setTexture(r,this.map.painter),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),void n(null)):n(null)))}static loadTileData(e,t,n){e.setTexture(t,n)}static unloadTileData(e,t){e.texture&&t.saveTileTexture(e.texture)}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}let Ce;function ke(t,n,i,r,o,a,s,l){const c=[t,i,o,n,r,a,1,1,1],u=[s,l,1],h=e.adjoint([],c),[d,p,f]=e.transformMat3(u,u,e.transpose(h,h));return e.multiply$1(c,[d,0,0,0,p,0,0,0,f],c)}class Ae extends e.Evented{constructor(e,t,n,i){super(),this.id=e,this.dispatcher=n,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(i),this.options=t,this._dirty=!1}load(t,n){this._loaded=n||!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),(n,i)=>{if(this._imageRequest=null,this._loaded=!0,n)this.fire(new e.ErrorEvent(n));else if(i){const{HTMLImageElement:n}=e.window;this.image=i instanceof n?e.exported.getImageData(i):i,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,t&&(this.coordinates=t),this._finishLoading()}})}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this._imageRequest&&e.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=e.url,this.load(e.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(t){this.coordinates=t,this._boundsArray=void 0;const n=t.map(e.MercatorCoordinate.fromLngLat);return this.tileID=function(t){let n=1/0,i=1/0,r=-1/0,o=-1/0;for(const e of t)n=Math.min(n,e.x),i=Math.min(i,e.y),r=Math.max(r,e.x),o=Math.max(o,e.y);const a=Math.max(r-n,o-i),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),l=Math.pow(2,s);return new e.CanonicalTileID(s,Math.floor((n+r)/2*l),Math.floor((i+o)/2*l))}(n),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(t){for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}if(this._boundsArray)return;const n=e.tileTransform(this.tileID,this.map.transform.projection),[i,r,o,a]=this.coordinates.map(t=>{const i=n.projection.project(t[0],t[1]);return e.getTilePoint(n,i)._round()});this.perspectiveTransform=function(t,n,i,r,o,a,s,l,c,u){const h=ke(0,0,t,0,0,n,t,n),d=ke(i,r,o,a,s,l,c,u);return e.multiply$1(d,e.adjoint(h,h),d),[d[6]/d[8]*t/e.EXTENT,d[7]/d[8]*n/e.EXTENT]}(this.width,this.height,i.x,i.y,r.x,r.y,a.x,a.y,o.x,o.y);const s=this._boundsArray=new e.StructArrayLayout4i8;s.emplaceBack(i.x,i.y,0,0),s.emplaceBack(r.x,r.y,e.EXTENT,0),s.emplaceBack(a.x,a.y,0,e.EXTENT),s.emplaceBack(o.x,o.y,e.EXTENT,e.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=t.createVertexBuffer(s,e.boundsAttributes.members),this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,n=t.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new e.Texture(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(t)}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Pe={vector:class extends e.Evented{constructor(t,n,i,r){if(super(),this.id=t,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(n,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r),this._tileWorkers={},this._deduped=new e.DedupedRequest}load(t){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"}));const n=Array.isArray(this.map._language)?this.map._language.join():this.map._language,i=this.map._worldview;this._tileJSONRequest=j(this._options,this.map._requestManager,n,i,(r,o)=>{this._tileJSONRequest=null,this._loaded=!0,r?(n&&console.warn("Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: "+n),i&&2!==i.length&&console.warn("Requested worldview strings must be a valid ISO alpha-2 code. Found: "+i),this.fire(new e.ErrorEvent(r))):o&&(e.extend(this,o),o.bounds&&(this.tileBounds=new F(o.bounds,this.minzoom,this.maxzoom)),e.postTurnstileEvent(o.tiles,this.map._requestManager._customAccessToken),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))),t&&t(r)})}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>{const e=this.map.style._getSourceCaches(this.id);for(const t of e)t.clearTiles()})}setSourceProperty(e){e(),this.reload()}setTiles(e){return this._options.tiles=e,this.reload(),this}setUrl(e){return this.url=e,this._options.url=e,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return e.extend({},this._options)}loadTile(t,n){const i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme)),r={request:this.map._requestManager.transformRequest(i,e.ResourceType.Tile),data:void 0,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:t.isSymbolTile};if(r.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state)"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",r,o.bind(this));else if(t.actor=this._tileWorkers[i]=this._tileWorkers[i]||this.dispatcher.getActor(),this.dispatcher.ready)t.request=t.actor.send("loadTile",r,o.bind(this),void 0,!0);else{const n=e.loadVectorTile.call({deduped:this._deduped},r,(e,n)=>{e||!n?o.call(this,e):(r.data={cacheControl:n.cacheControl,expires:n.expires,rawData:n.rawData.slice(0)},t.actor&&t.actor.send("loadTile",r,o.bind(this),void 0,!0))},!0);t.request={cancel:n}}function o(i,r){return delete t.request,t.aborted?n(null):i&&404!==i.status?n(i):(r&&r.resourceTiming&&(t.resourceTiming=r.resourceTiming),this.map._refreshExpiredTiles&&r&&t.setExpiryData(r),t.loadVectorData(r,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id})}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}},raster:Ie,"raster-dem":class extends Ie{constructor(t,n,i,r){super(t,n,i,r),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}loadTile(t,n){const i=this.map._requestManager.normalizeTileURL(t.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function r(e,i){e&&(t.state="errored",n(e)),i&&(t.dem=i,t.dem.onDeserialize(),t.needsHillshadePrepare=!0,t.needsDEMTextureUpload=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(i,e.ResourceType.Tile),function(i,o,a,s){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(i)t.state="errored",n(i);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData({cacheControl:a,expires:s});const n=e.window.ImageBitmap&&o instanceof e.window.ImageBitmap&&(null==Ce&&(Ce=e.window.OffscreenCanvas&&new e.window.OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof e.window.createImageBitmap),Ce),i=1-(o.width-e.prevPowerOfTwo(o.width))/2;i<1||t.neighboringTiles||(t.neighboringTiles=this._getNeighboringTiles(t.tileID));const l=n?o:e.exported.getImageData(o,i),c={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:l,encoding:this.encoding,padding:i};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",c,r.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(t){const n=t.canonical,i=Math.pow(2,n.z),r=(n.x-1+i)%i,o=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+i)%i,s=n.x+1===i?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<i&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,r,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded"}},geojson:class extends e.Evented{constructor(t,n,i,r){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=i.getActor(),this.setEventedParent(r),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;const o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*o,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:e.EXTENT,radius:(void 0!==n.clusterRadius?n.clusterRadius:50)*o,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions)}onAdd(e){this.map=e,this.setData(this._data)}setData(e){return this._data=e,this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,n,i){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},i),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new e.Event("dataloading",{dataType:"source"})),this._loaded=!1;const t=e.extend({},this.workerOptions),n=this._data;"string"==typeof n?(t.request=this.map._requestManager.transformRequest(e.exported.resolveURL(n),e.ResourceType.Source),t.request.collectResourceTiming=this._collectResourceTiming):t.data=JSON.stringify(n),this._pendingLoad=this.actor.send(this.type+".loadData",t,(t,n)=>{if(this._loaded=!0,this._pendingLoad=null,t)this.fire(new e.ErrorEvent(t));else{const t={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&n&&n.resourceTiming&&n.resourceTiming[this.id]&&(t.resourceTiming=n.resourceTiming[this.id]),this.fire(new e.Event("data",t)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(t,n){const i=t.actor?"reloadTile":"loadTile";t.actor=this.actor,t.request=this.actor.send(i,{type:this.type,uid:t.uid,tileID:t.tileID,tileZoom:t.tileZoom,zoom:t.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:e.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(e,r)=>(delete t.request,t.unloadVectorData(),t.aborted?n(null):e?n(e):(t.loadVectorData(r,this.map.painter,"reloadTile"===i),n(null))),void 0,"loadTile"===i)}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Ae{constructor(e,t,n,i){super(e,t,n,i),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const n of t.urls)this.urls.push(this.map._requestManager.transformRequest(n,e.ResourceType.Source).url);e.getVideo(this.urls,(t,n)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):n&&(this.video=n,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError("sources."+this.id,null,`Playback for this video can be set only between the ${n.start(0)} and ${n.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,n=t.gl;this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new e.Texture(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(t)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Ae,canvas:class extends Ae{constructor(t,n,i,r){super(t,n,i,r),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some(e=>!Array.isArray(e)||2!==e.length||e.some(e=>"number"!=typeof e))||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof e.window.HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError("sources."+t,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof e.window.HTMLCanvasElement?this.options.canvas:e.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const n=this.map.painter.context;this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new e.Texture(n,this.canvas,n.gl.RGBA,{premultiply:!0}),this._prepareData(n)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}},custom:class extends e.Evented{constructor(t,n,i,r){super(),this.id=t,this.type="custom",this._dataType="raster",this._dispatcher=i,this._implementation=n,this.setEventedParent(r),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new e.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new e.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new F(this._implementation.bounds,this.minzoom,this.maxzoom)),n.update=this._update.bind(this),n.clearTiles=this._clearTiles.bind(this),n.coveringTiles=this._coveringTiles.bind(this),e.extend(this,e.pick(n,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return e.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(t){this._map=t,this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(t),this.load()}onRemove(e){this._implementation.onRemove&&this._implementation.onRemove(e)}hasTile(e){if(this._implementation.hasTile){const{x:t,y:n,z:i}=e.canonical;return this._implementation.hasTile({x:t,y:n,z:i})}return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,n){const{x:i,y:r,z:o}=t.tileID.canonical,a=new e.window.AbortController;t.request=Promise.resolve(this._implementation.loadTile({x:i,y:r,z:o},{signal:a.signal})).then(function(i){return delete t.request,t.aborted?(t.state="unloaded",n(null)):void 0===i?(t.state="errored",n(null)):null===i?(this.loadTileData(t,{width:this.tileSize,height:this.tileSize,data:null}),t.state="loaded",n(null)):function(t){return t instanceof e.window.ImageData||t instanceof e.window.HTMLCanvasElement||t instanceof e.window.ImageBitmap||t instanceof e.window.HTMLImageElement}(i)?(this.loadTileData(t,i),t.state="loaded",void n(null)):(t.state="errored",n(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(e=>{20!==e.code&&(t.state="errored",n(e))}),t.request.cancel=()=>a.abort()}loadTileData(e,t){Ie.loadTileData(e,t,this._map.painter)}unloadTileData(e){Ie.unloadTileData(e,this._map.painter)}unloadTile(e,t){if(this.unloadTileData(e),this._implementation.unloadTile){const{x:t,y:n,z:i}=e.tileID.canonical;this._implementation.unloadTile({x:t,y:n,z:i})}t()}abortTile(e,t){e.request&&e.request.cancel&&(e.request.cancel(),delete e.request),t()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(e=>({x:e.canonical.x,y:e.canonical.y,z:e.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"}))}}},ze=function(t,n,i,r){const o=new Pe[n.type](t,n,i,r);if(o.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${o.id}`);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o};function De(t,n){const i=e.identity([]);return e.scale(i,i,[.5*t.width,.5*-t.height,1]),e.translate(i,i,[1,-1,0]),e.multiply(i,i,t.calculateProjMatrix(n.toUnwrapped())),Float32Array.from(i)}function Le(e,t,n,i,r,o,a,s=!1){const l=e.tilesIn(i,a,s);l.sort(Re);const c=[];for(const i of l)c.push({wrappedTileID:i.tile.tileID.wrapped().key,queryResults:i.tile.queryRenderedFeatures(t,n,e._state,i,r,o,De(e.transform,i.tile.tileID),s)});const u=function(e){const t={},n={};for(const i of e){const e=i.queryResults,r=i.wrappedTileID,o=n[r]=n[r]||{};for(const n in e){const i=e[n],r=o[n]=o[n]||{},a=t[n]=t[n]||[];for(const e of i)r[e.featureIndex]||(r[e.featureIndex]=!0,a.push(e))}}return t}(c);for(const t in u)u[t].forEach(t=>{const n=t.feature,i=n.layer;i&&"background"!==i.type&&"sky"!==i.type&&(n.source=i.source,i["source-layer"]&&(n.sourceLayer=i["source-layer"]),n.state=void 0!==n.id?e.getFeatureState(i["source-layer"],n.id):{})});return u}function Oe(e,t){const n=e.getRenderableIds().map(t=>e.getTileByID(t)),i=[],r={};for(let e=0;e<n.length;e++){const o=n[e],a=o.tileID.canonical.key;r[a]||(r[a]=!0,o.querySourceFeatures(i,t))}return i}function Re(e,t){const n=e.tileID,i=t.tileID;return n.overscaledZ-i.overscaledZ||n.canonical.y-i.canonical.y||n.wrap-i.wrap||n.canonical.x-i.canonical.x}function Be(){return null!=fo.workerClass?new fo.workerClass:new e.window.Worker(fo.workerUrl)}const je="mapboxgl_preloaded_worker_pool";class Fe{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<Fe.workerCount;)this.workers.push(new Be);return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach(e=>{e.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[je]}numActive(){return Object.keys(this.active).length}}let Ne;function Ue(){return Ne||(Ne=new Fe),Ne}function Ve(t,n){const i={};for(const e in t)"ref"!==e&&(i[e]=t[e]);return e.refProperties.forEach(e=>{e in n&&(i[e]=n[e])}),i}function Ge(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Ve(e[n],t[e[n].ref]));return e}Fe.workerCount=2;const Ze={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function We(e,t,n){n.push({command:Ze.addSource,args:[e,t[e]]})}function qe(e,t,n){t.push({command:Ze.removeSource,args:[e]}),n[e]=!0}function $e(e,t,n,i){qe(e,n,i),We(e,t,n)}function He(e,n,i){let r;for(r in e[i])if(e[i].hasOwnProperty(r)&&"data"!==r&&!t(e[i][r],n[i][r]))return!1;for(r in n[i])if(n[i].hasOwnProperty(r)&&"data"!==r&&!t(e[i][r],n[i][r]))return!1;return!0}function Xe(e,n,i,r,o,a){let s;for(s in n=n||{},e=e||{})e.hasOwnProperty(s)&&(t(e[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}));for(s in n)n.hasOwnProperty(s)&&!e.hasOwnProperty(s)&&(t(e[s],n[s])||i.push({command:a,args:[r,s,n[s],o]}))}function Ye(e){return e.id}function Je(e,t){return e[t.id]=t,e}class Qe{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let n=1,i=this._distances[n];const r=t*this.paddedLength+this.padding;for(;i<r&&n<this._distances.length;)i=this._distances[++n];const o=n-1,a=this._distances[o],s=i-a,l=s>0?(r-a)/s:0;return this.points[o].mult(1-l).add(this.points[n].mult(l))}}class Ke{constructor(e,t,n){const i=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(let e=0;e<this.xCellCount*this.yCellCount;e++)i.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)}insertCircle(e,t,n,i){this._forEachCell(t-i,n-i,t+i,n+i,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(i)}_insertBoxCell(e,t,n,i,r,o){this.boxCells[r].push(o)}_insertCircleCell(e,t,n,i,r,o){this.circleCells[r].push(o)}_query(e,t,n,i,r,o){if(n<0||e>this.width||i<0||t>this.height)return!r&&[];const a=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=i){if(r)return!0;for(let e=0;e<this.boxKeys.length;e++)a.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],n=this.circles[3*e+1],i=this.circles[3*e+2];a.push({key:this.circleKeys[e],x1:t-i,y1:n-i,x2:t+i,y2:n+i})}return o?a.filter(o):a}return this._forEachCell(e,t,n,i,this._queryCell,a,{hitTest:r,seenUids:{box:{},circle:{}}},o),r?a.length>0:a}_queryCircle(e,t,n,i,r){const o=e-n,a=e+n,s=t-n,l=t+n;if(a<0||o>this.width||l<0||s>this.height)return!i&&[];const c=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,c,{hitTest:i,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},r),i?c.length>0:c}query(e,t,n,i,r){return this._query(e,t,n,i,!1,r)}hitTest(e,t,n,i,r){return this._query(e,t,n,i,!0,r)}hitTestCircle(e,t,n,i){return this._queryCircle(e,t,n,!0,i)}_queryCell(e,t,n,i,r,o,a,s){const l=a.seenUids,c=this.boxCells[r];if(null!==c){const r=this.bboxes;for(const u of c)if(!l.box[u]){l.box[u]=!0;const c=4*u;if(e<=r[c+2]&&t<=r[c+3]&&n>=r[c+0]&&i>=r[c+1]&&(!s||s(this.boxKeys[u]))){if(a.hitTest)return o.push(!0),!0;o.push({key:this.boxKeys[u],x1:r[c],y1:r[c+1],x2:r[c+2],y2:r[c+3]})}}}const u=this.circleCells[r];if(null!==u){const r=this.circles;for(const c of u)if(!l.circle[c]){l.circle[c]=!0;const u=3*c;if(this._circleAndRectCollide(r[u],r[u+1],r[u+2],e,t,n,i)&&(!s||s(this.circleKeys[c]))){if(a.hitTest)return o.push(!0),!0;{const e=r[u],t=r[u+1],n=r[u+2];o.push({key:this.circleKeys[c],x1:e-n,y1:t-n,x2:e+n,y2:t+n})}}}}}_queryCellCircle(e,t,n,i,r,o,a,s){const l=a.circle,c=a.seenUids,u=this.boxCells[r];if(null!==u){const e=this.bboxes;for(const t of u)if(!c.box[t]){c.box[t]=!0;const n=4*t;if(this._circleAndRectCollide(l.x,l.y,l.radius,e[n+0],e[n+1],e[n+2],e[n+3])&&(!s||s(this.boxKeys[t])))return o.push(!0),!0}}const h=this.circleCells[r];if(null!==h){const e=this.circles;for(const t of h)if(!c.circle[t]){c.circle[t]=!0;const n=3*t;if(this._circlesCollide(e[n],e[n+1],e[n+2],l.x,l.y,l.radius)&&(!s||s(this.circleKeys[t])))return o.push(!0),!0}}}_forEachCell(e,t,n,i,r,o,a,s){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(n),h=this._convertToYCellCoord(i);for(let d=l;d<=u;d++)for(let l=c;l<=h;l++)if(r.call(this,e,t,n,i,this.xCellCount*l+d,o,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,n,i,r,o){const a=i-e,s=r-t,l=n+o;return l*l>a*a+s*s}_circleAndRectCollide(e,t,n,i,r,o,a){const s=(o-i)/2,l=Math.abs(e-(i+s));if(l>s+n)return!1;const c=(a-r)/2,u=Math.abs(t-(r+c));if(u>c+n)return!1;if(l<=s||u<=c)return!0;const h=l-s,d=u-c;return h*h+d*d<=n*n}}const et=Math.tan(85*Math.PI/180);function tt(t,n,i,r,o,a,s){const l=e.create();if(i)if("globe"===a.name){const t=e.calculateGlobeLabelMatrix(o,n);e.multiply(l,l,t)}else{const t=_([],s);l[0]=t[0],l[1]=t[1],l[4]=t[2],l[5]=t[3],r||e.rotateZ(l,l,o.angle)}else e.multiply(l,o.labelPlaneMatrix,t);return l}function nt(e,t,n,i,r,o,a){const s=tt(e,t,n,i,r,o,a);return"globe"===o.name&&n||(s[2]=s[6]=s[10]=s[14]=0),s}function it(t,n,i,r,o,a,s){if(i){if("globe"===a.name){const l=tt(t,n,i,r,o,a,s);return e.invert(l,l),e.multiply(l,t,l),l}{const n=e.clone(t),i=e.identity([]);return i[0]=s[0],i[1]=s[1],i[4]=s[2],i[5]=s[3],e.multiply(n,n,i),r||e.rotateZ(n,n,-o.angle),n}}return o.glCoordMatrix}function rt(t,n,i,r){const o=[t,n,i,1];i?e.transformMat4$1(o,o,r):mt(o,o,r);const a=o[3];return o[0]/=a,o[1]/=a,o[2]/=a,o}function ot(e,t){return Math.min(.5+e/t*.5,1.5)}function at(e,t){const n=e[0]/e[3],i=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&i>=-t[1]&&i<=t[1]}function st(t,n,i,r,o,a,s,l,c,u){const h=i.transform,d=r?t.textSizeData:t.iconSizeData,p=e.evaluateSizeForZoom(d,i.transform.zoom),f="globe"===h.projection.name,m=[256/i.width*2+1,256/i.height*2+1],g=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;g.clear();let y=null;f&&(y=r?t.text.globeExtVertexArray:t.icon.globeExtVertexArray);const _=t.lineVertexArray,v=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,x=i.transform.width/i.transform.height;let b,w=!1;for(let r=0;r<v.length;r++){const f=v.get(r),{numGlyphs:T,writingMode:E}=f;if(E!==e.WritingMode.vertical||w||b===e.WritingMode.horizontal||(w=!0),b=E,(f.hidden||E===e.WritingMode.vertical)&&!w){ft(T,g);continue}w=!1;const S=new e.pointGeometry(f.tileAnchorX,f.tileAnchorY);let{x:M,y:I,z:C}=h.projection.projectTilePoint(S.x,S.y,u.canonical);if(c){const[e,t,n]=c(S);M+=e,I+=t,C+=n}const k=[M,I,C,1];if(e.transformMat4$1(k,k,n),!at(k,m)){ft(T,g);continue}const A=ot(i.transform.cameraToCenterDistance,k[3]),P=e.evaluateSizeForFeature(d,p,f),z=s?P/A:P*A,D=rt(M,I,C,o);if(D[3]<=0){ft(T,g);continue}let L={};const O=s?null:c,R=ut(f,z,!1,l,n,o,a,t.glyphOffsetArray,_,g,y,D,S,L,x,O,h.projection,u,s);w=R.useVertical,O&&R.needsFlipping&&(L={}),(R.notEnoughRoom||w||R.needsFlipping&&ut(f,z,!0,l,n,o,a,t.glyphOffsetArray,_,g,y,D,S,L,x,O,h.projection,u,s).notEnoughRoom)&&ft(T,g)}r?(t.text.dynamicLayoutVertexBuffer.updateData(g),y&&t.text.globeExtVertexBuffer.updateData(y)):(t.icon.dynamicLayoutVertexBuffer.updateData(g),y&&t.icon.globeExtVertexBuffer.updateData(y))}function lt(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m){const{lineStartIndex:g,glyphStartIndex:y,segment:_}=s,v=y+s.numGlyphs,x=g+s.lineLength,b=t.getoffsetX(y),w=t.getoffsetX(v-1),T=pt(e*b,n,i,r,o,a,_,g,x,l,c,u,h,d,!0,p,f,m);if(!T)return null;const E=pt(e*w,n,i,r,o,a,_,g,x,l,c,u,h,d,!0,p,f,m);return E?{first:T,last:E}:null}function ct(t,n,i,r){return t===e.WritingMode.horizontal&&Math.abs(r)>Math.abs(i)?{useVertical:!0}:t===e.WritingMode.vertical?r>0?{needsFlipping:!0}:null:0!==n&&function(e,t){return 0===e||Math.abs(t/e)>et}(i,r)?1===n?{needsFlipping:!0}:null:i<0?{needsFlipping:!0}:null}function ut(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_,v){const x=n/24,b=t.lineOffsetX*x,w=t.lineOffsetY*x,{lineStartIndex:T,glyphStartIndex:E,numGlyphs:S,segment:M,writingMode:I,flipState:C}=t,k=T+t.lineLength,A=t=>{if(h){const[n,i,r]=t.up,o=u.length;e.updateGlobeVertexNormal(h,o+0,n,i,r),e.updateGlobeVertexNormal(h,o+1,n,i,r),e.updateGlobeVertexNormal(h,o+2,n,i,r),e.updateGlobeVertexNormal(h,o+3,n,i,r)}const[n,i,r]=t.point;e.addDynamicAttributes(u,n,i,r,t.angle)};if(S>1){const e=lt(x,l,b,w,i,d,p,t,c,a,f,g,!1,y,_,v);if(!e)return{notEnoughRoom:!0};if(r&&!i){let[n,i,r]=e.first.point,[o,a,l]=e.last.point;[n,i]=rt(n,i,r,s),[o,a]=rt(o,a,l,s);const c=ct(I,C,(o-n)*m,a-i);if(t.flipState=c&&c.needsFlipping?1:2,c)return c}A(e.first);for(let e=E+1;e<E+S-1;e++){const t=pt(x*l.getoffsetX(e),b,w,i,d,p,M,T,k,c,a,f,g,!1,!1,y,_,v);if(!t)return u.length-=4*(e-E),{notEnoughRoom:!0};A(t)}A(e.last)}else{if(r&&!i){const n=rt(p.x,p.y,0,o),i=T+M+1,r=new e.pointGeometry(c.getx(i),c.gety(i)),a=rt(r.x,r.y,0,o),s=a[3]>0?a:dt(p,r,n,1,o,void 0,y,_.canonical),l=ct(I,C,(s[0]-n[0])*m,s[1]-n[1]);if(t.flipState=l&&l.needsFlipping?1:2,l)return l}const n=pt(x*l.getoffsetX(E),b,w,i,d,p,M,T,k,c,a,f,g,!1,!1,y,_,v);if(!n)return{notEnoughRoom:!0};A(n)}return{}}function ht(e,t,n,i,r){const{x:o,y:a,z:s}=i.projectTilePoint(e.x,e.y,t);if(!r)return rt(o,a,s,n);const[l,c,u]=r(e);return rt(o+l,a+c,s+u,n)}function dt(t,n,i,r,o,a,s,l){const c=ht(t.sub(n)._unit()._add(t),l,o,s,a);return e.sub(c,i,c),e.normalize(c,c),e.scaleAndAdd(c,i,c,r)}function pt(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y,_){const v=r?t-n:t+n;let x=v>0?1:-1,b=0;r&&(x*=-1,b=Math.PI),x<0&&(b+=Math.PI);let w=l+s+(x>0?0:1)|0,T=o,E=o,S=0,M=0;const I=Math.abs(v),C=[],k=[];let A=a,P=A;const z=()=>dt(P,A,E,I-S+1,h,p,g,y.canonical);for(;S+M<=I;){if(w+=x,w<l||w>=c)return null;if(E=T,P=A,C.push(E),f&&k.push(P),A=new e.pointGeometry(u.getx(w),u.gety(w)),T=d[w],!T){const e=ht(A,y.canonical,h,g,p);T=e[3]>0?d[w]=e:z()}S+=M,M=e.distance(E,T)}m&&p&&(d[w]&&(T=z(),M=e.distance(E,T)),d[w]=T);const D=(I-S)/M,L=A.sub(P)._mult(D)._add(P),O=e.sub([],T,E),R=e.scaleAndAdd([],E,O,D);let B=[0,0,1],j=O[0],F=O[1];if(_&&(B=g.upVector(y.canonical,L.x,L.y),0!==B[0]||0!==B[1]||1!==B[2])){const t=[B[2],0,-B[0]],n=e.cross([],B,t);e.normalize(t,t),e.normalize(n,n),j=e.dot(O,t),F=e.dot(O,n)}if(i){const t=e.cross([],B,O);e.normalize(t,t),e.scaleAndAdd(R,R,t,i*x)}const N=b+Math.atan2(F,j);return C.push(R),f&&k.push(L),{point:R,angle:N,path:C,tilePath:k,up:B}}function ft(e,t){const n=t.length,i=n+4*e;t.resize(i),t.float32.fill(-1/0,4*n,4*i)}function mt(e,t,n){const i=t[0],r=t[1];return e[0]=n[0]*i+n[4]*r+n[12],e[1]=n[1]*i+n[5]*r+n[13],e[3]=n[3]*i+n[7]*r+n[15],e}const gt=100;class yt{constructor(e,t,n=new Ke(e.width+200,e.height+200,25),i=new Ke(e.width+200,e.height+200,25)){this.transform=e,this.grid=n,this.ignoredGrid=i,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+gt,this.screenBottomBoundary=e.height+gt,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.fogState=t}placeCollisionBox(e,t,n,i,r,o,a,s){let l=n.projectedAnchorX,c=n.projectedAnchorY,u=n.projectedAnchorZ;const h=n.elevation,d=n.tileID,p=e.getProjection();if(h&&d){const[e,t,i]=p.upVector(d.canonical,n.tileAnchorX,n.tileAnchorY),r=p.upVectorScale(d.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;l+=e*h*r,c+=t*h*r,u+=i*h*r}const f=this.projectAndGetPerspectiveRatio(a,l,c,u,n.tileID,"globe"===p.name||!!h||this.transform.pitch>0,p),m=o*f.perspectiveRatio,g=(n.x1*t+i.x-n.padding)*m+f.point.x,y=(n.y1*t+i.y-n.padding)*m+f.point.y,_=(n.x2*t+i.x+n.padding)*m+f.point.x,v=(n.y2*t+i.y+n.padding)*m+f.point.y,x=f.perspectiveRatio<=.55||f.occluded;return!this.isInsideGrid(g,y,_,v)||!r&&this.grid.hitTest(g,y,_,v,s)||x?{box:[],offscreen:!1,occluded:f.occluded}:{box:[g,y,_,v],offscreen:this.isOffscreen(g,y,_,v),occluded:!1}}placeCollisionCircles(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m){const g=[],y=this.transform.elevation,_=t.getProjection(),v=y?y.getAtTileOffsetFunc(m,this.transform.center.lat,this.transform.worldSize,_):null,x=new e.pointGeometry(i.tileAnchorX,i.tileAnchorY);let{x:b,y:w,z:T}=_.projectTilePoint(x.x,x.y,m.canonical);if(v){const[e,t,n]=v(x);b+=e,w+=t,T+=n}const E="globe"===_.name,S=this.projectAndGetPerspectiveRatio(s,b,w,T,m,E||!!y||this.transform.pitch>0,_),{perspectiveRatio:M}=S,I=(h?a/M:a*M)/e.ONE_EM,C=rt(b,w,T,l),k=S.signedDistanceFromCamera>0?lt(I,o,i.lineOffsetX*I,i.lineOffsetY*I,!1,C,x,i,r,l,{},y&&!h?v:null,h&&!!y,_,m,h):null;let A=!1,P=!1,z=!0;if(k&&!S.occluded){const t=.5*p*M+f,i=new e.pointGeometry(-100,-100),r=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),o=new Qe,{first:a,last:s}=k,l=a.path.length;let h=[];for(let e=l-1;e>=1;e--)h.push(a.path[e]);for(let e=1;e<s.path.length;e++)h.push(s.path[e]);const m=2.5*t;c&&(h=h.map(([e,t,n],i)=>(v&&!E&&(n=v(i<l-1?a.tilePath[l-1-i]:s.tilePath[i-l+2])[2]),rt(e,t,n,c))),h.some(e=>e[3]<=0)&&(h=[]));let y=[];if(h.length>0){let t=1/0,n=-1/0,o=1/0,a=-1/0;for(const e of h)t=Math.min(t,e[0]),o=Math.min(o,e[1]),n=Math.max(n,e[0]),a=Math.max(a,e[1]);n>=i.x&&t<=r.x&&a>=i.y&&o<=r.y&&(y=[h.map(t=>new e.pointGeometry(t[0],t[1]))],(t<i.x||n>r.x||o<i.y||a>r.y)&&(y=e.clipLine(y,i.x,i.y,r.x,r.y)))}for(const e of y){o.reset(e,.25*t);let i=0;i=o.length<=.5*t?1:Math.ceil(o.paddedLength/m)+1;for(let e=0;e<i;e++){const r=e/Math.max(i-1,1),a=o.lerp(r),s=a.x+gt,l=a.y+gt;g.push(s,l,t,0);const c=s-t,h=l-t,p=s+t,f=l+t;if(z=z&&this.isOffscreen(c,h,p,f),P=P||this.isInsideGrid(c,h,p,f),!n&&this.grid.hitTestCircle(s,l,t,d)&&(A=!0,!u))return{circles:[],offscreen:!1,collisionDetected:A,occluded:!1}}}}return{circles:!u&&A||!P?[]:g,offscreen:z,collisionDetected:A,occluded:S.occluded}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const n=[];let i=1/0,r=1/0,o=-1/0,a=-1/0;for(const s of t){const t=new e.pointGeometry(s.x+gt,s.y+gt);i=Math.min(i,t.x),r=Math.min(r,t.y),o=Math.max(o,t.x),a=Math.max(a,t.y),n.push(t)}const s=this.grid.query(i,r,o,a).concat(this.ignoredGrid.query(i,r,o,a)),l={},c={};for(const t of s){const i=t.key;if(void 0===l[i.bucketInstanceId]&&(l[i.bucketInstanceId]={}),l[i.bucketInstanceId][i.featureIndex])continue;const r=[new e.pointGeometry(t.x1,t.y1),new e.pointGeometry(t.x2,t.y1),new e.pointGeometry(t.x2,t.y2),new e.pointGeometry(t.x1,t.y2)];e.polygonIntersectsPolygon(n,r)&&(l[i.bucketInstanceId][i.featureIndex]=!0,void 0===c[i.bucketInstanceId]&&(c[i.bucketInstanceId]=[]),c[i.bucketInstanceId].push(i.featureIndex))}return c}insertCollisionBox(e,t,n,i,r){(t?this.ignoredGrid:this.grid).insert({bucketInstanceId:n,featureIndex:i,collisionGroupID:r},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,n,i,r){const o=t?this.ignoredGrid:this.grid,a={bucketInstanceId:n,featureIndex:i,collisionGroupID:r};for(let t=0;t<e.length;t+=4)o.insertCircle(a,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(t,n,i,r,o,a,s){const l=[n,i,r,1];let c=!1;if(r||this.transform.pitch>0){e.transformMat4$1(l,l,t);const a="globe"===s.name;if(this.fogState&&o&&!a){c=function(t,n,i,r,o,a){const s=a.calculateFogTileMatrix(o),l=[n,i,r];return e.transformMat4(l,l,s),I(t,l,a.pitch,a._fov)}(this.fogState,n,i,r,o.toUnwrapped(),this.transform)>.9}}else mt(l,l,t);const u=l[3];return{point:new e.pointGeometry((l[0]/u+1)/2*this.transform.width+gt,(-l[1]/u+1)/2*this.transform.height+gt),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(s)/u*.5,1.5),signedDistanceFromCamera:u,occluded:a&&l[2]>u||c}}isOffscreen(e,t,n,i){return n<gt||e>=this.screenRightBoundary||i<gt||t>this.screenBottomBoundary}isInsideGrid(e,t,n,i){return n>=0&&e<this.gridRightBoundary&&i>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function _t(t,n,i){const r=n.createTileMatrix(t,t.worldSize,i.toUnwrapped());return e.multiply(new Float32Array(16),t.projMatrix,r)}function vt(e,t,n){if(t.projection.name===n.projection.name)return e.projMatrix;const i=n.clone();return i.setProjection(t.projection),_t(i,t.getProjection(),e)}function xt(e,t,n){return t.name===n.projection.name?e.projMatrix:_t(n,t,e)}class bt{constructor(e,t,n,i){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):i&&n?1:0,this.placed=n}isHidden(){return 0===this.opacity&&!this.placed}}class wt{constructor(e,t,n,i,r,o=!1){this.text=new bt(e?e.text:null,t,n,r),this.icon=new bt(e?e.icon:null,t,i,r),this.clipped=o}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Tt{constructor(e,t,n,i=!1){this.text=e,this.icon=t,this.skipFade=n,this.clipped=i}}class Et{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class St{constructor(e,t,n,i,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=i,this.tileID=r}}class Mt{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function It(t,n,i,r,o){const{horizontalAlign:a,verticalAlign:s}=e.getAnchorAlignment(t),l=-(a-.5)*n,c=-(s-.5)*i,u=e.evaluateVariableOffset(t,r);return new e.pointGeometry(l+u[0]*o,c+u[1]*o)}function Ct(t,n,i,r,o){const a=new e.pointGeometry(t,n);return i&&a._rotate(r?o:-o),a}class kt{constructor(e,t,n,i,r){this.transform=e.clone(),this.projection=e.projection.name,this.collisionIndex=new yt(this.transform,r),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=t,this.retainedQueryData={},this.collisionGroups=new Mt(n),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,n,i,r){const o=i.getBucket(n),a=i.latestFeatureIndex;if(!o||!a||n.id!==o.layerIds[0])return;const s=o.layers[0].layout,l=i.collisionBoxArray,c=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),u=i.tileSize/e.EXTENT,h=i.tileID.toUnwrapped();this.transform.setProjection(o.projection);const d=(p=i.tileID,f=o.getProjection(),m=this.transform,f.name===this.projection?m.calculateProjMatrix(p.toUnwrapped()):_t(m,f,p));var p,f,m;const g="map"===s.get("text-pitch-alignment"),y="map"===s.get("text-rotation-alignment");n.compileFilter();const _=n.dynamicFilter(),v=n.dynamicFilterNeedsFeature(),x=this.transform.calculatePixelsToTileUnitsMatrix(i),b=nt(d,i.tileID.canonical,g,y,this.transform,o.getProjection(),x);let w=null;if(g){const t=it(d,i.tileID.canonical,g,y,this.transform,o.getProjection(),x);w=e.multiply([],this.transform.labelPlaneMatrix,t)}let T=null;_&&i.latestFeatureIndex&&(T={unwrappedTileID:h,dynamicFilter:_,dynamicFilterNeedsFeature:v,featureIndex:i.latestFeatureIndex}),this.retainedQueryData[o.bucketInstanceId]=new St(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,i.tileID);const E={bucket:o,layout:s,posMatrix:d,textLabelPlaneMatrix:b,labelToScreenMatrix:w,clippingData:T,scale:c,textPixelRatio:u,holdingForFade:i.holdingForFade(),collisionBoxArray:l,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:e.evaluateSizeForZoom(o.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(r)for(const e of o.sortKeyRanges){const{sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r}=e;t.push({sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r,parameters:E})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:E})}attemptAnchorPlacement(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y){const{textOffset0:_,textOffset1:v,crossTileID:x}=h,b=[_,v],w=It(e,n,i,b,r),T=this.collisionIndex.placeCollisionBox(p,r,t,Ct(w.x,w.y,o,a,this.transform.angle),u,s,l,c.predicate);if(m){const e=p.getSymbolInstanceIconSize(y,this.transform.zoom,h.placedIconSymbolIndex);if(0===this.collisionIndex.placeCollisionBox(p,e,m,Ct(w.x,w.y,o,a,this.transform.angle),u,s,l,c.predicate).box.length)return}if(T.box.length>0){let t;return this.prevPlacement&&this.prevPlacement.variableOffsets[x]&&this.prevPlacement.placements[x]&&this.prevPlacement.placements[x].text&&(t=this.prevPlacement.variableOffsets[x].anchor),this.variableOffsets[x]={textOffset:b,width:n,height:i,anchor:e,textScale:r,prevAnchor:t},this.markUsedJustification(p,e,h,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,h),this.placedOrientations[x]=f),{shift:w,placedGlyphBoxes:T}}}placeLayerBucketPart(t,n,i,r){const{bucket:o,layout:a,posMatrix:s,textLabelPlaneMatrix:l,labelToScreenMatrix:c,clippingData:u,textPixelRatio:h,holdingForFade:d,collisionBoxArray:p,partiallyEvaluatedTextSize:f,partiallyEvaluatedIconSize:m,collisionGroup:g}=t.parameters,y=a.get("text-optional"),_=a.get("icon-optional"),v=a.get("text-allow-overlap"),x=a.get("icon-allow-overlap"),b="map"===a.get("text-rotation-alignment"),w="map"===a.get("text-pitch-alignment"),T="none"!==a.get("icon-text-fit"),E="viewport-y"===a.get("symbol-z-order");this.transform.setProjection(o.projection);let S=v&&(x||!o.hasIconData()||_),M=x&&(v||!o.hasTextData()||y);!o.collisionArrays&&p&&o.deserializeCollisionBoxes(p),i&&r&&o.updateCollisionDebugBuffers(this.transform.zoom,p);const I=(t,r,p)=>{const{crossTileID:E,numVerticalGlyphVertices:I}=t;if(u){const i={zoom:this.transform.zoom,pitch:this.transform.pitch};let r=null;if(u.dynamicFilterNeedsFeature){const e=this.retainedQueryData[o.bucketInstanceId];r=u.featureIndex.loadFeature({featureIndex:t.featureIndex,bucketIndex:e.bucketIndex,sourceLayerIndex:e.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,u.dynamicFilter)(i,r,this.retainedQueryData[o.bucketInstanceId].tileID.canonical,new e.pointGeometry(t.tileAnchorX,t.tileAnchorY),this.transform.calculateDistanceTileData(u.unwrappedTileID)))return this.placements[E]=new Tt(!1,!1,!1,!0),void(n[E]=!0)}if(n[E])return;if(d)return void(this.placements[E]=new Tt(!1,!1,!1));let C=!1,k=!1,A=!0,P=!1,z=!1,D=null,L={box:null,offscreen:null,occluded:null},O={box:null,offscreen:null,occluded:null},R=null,B=null,j=null,F=0,N=0,U=0;p.textFeatureIndex?F=p.textFeatureIndex:t.useRuntimeCollisionCircles&&(F=t.featureIndex),p.verticalTextFeatureIndex&&(N=p.verticalTextFeatureIndex);const V=e=>{e.tileID=this.retainedQueryData[o.bucketInstanceId].tileID;const t=this.transform.elevation;(t||e.elevation)&&(e.elevation=t?t.getAtTileOffset(e.tileID,e.tileAnchorX,e.tileAnchorY):0)},G=p.textBox;if(G){V(G);const n=n=>{let i=e.WritingMode.horizontal;if(o.allowVerticalPlacement&&!n&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[E];e&&(this.placedOrientations[E]=e,i=e,this.markUsedOrientation(o,i,t))}return i},i=(t,n)=>{if(o.allowVerticalPlacement&&I>0&&p.verticalTextBox){for(const i of o.writingModes)if(i===e.WritingMode.vertical?(L=n(),O=L):L=t(),L&&L.box&&L.box.length)break}else L=t()};if(a.get("text-variable-anchor")){let l=a.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[E]){const e=this.prevPlacement.variableOffsets[E];l.indexOf(e.anchor)>0&&(l=l.filter(t=>t!==e.anchor),l.unshift(e.anchor))}const c=(e,n,i)=>{const a=o.getSymbolInstanceTextSize(f,t,this.transform.zoom,r),c=(e.x2-e.x1)*a+2*e.padding,u=(e.y2-e.y1)*a+2*e.padding,d=T&&!x?n:null;d&&V(d);let p={box:[],offscreen:!1,occluded:!1};const y=v?2*l.length:l.length;for(let n=0;n<y;++n){const y=this.attemptAnchorPlacement(l[n%l.length],e,c,u,a,b,w,h,s,g,n>=l.length,t,r,o,i,d,f,m);if(y&&(p=y.placedGlyphBoxes,p&&p.box&&p.box.length)){C=!0,D=y.shift;break}}return p};i(()=>c(G,p.iconBox,e.WritingMode.horizontal),()=>{const t=p.verticalTextBox;return t&&V(t),o.allowVerticalPlacement&&!(L&&L.box&&L.box.length)&&I>0&&t?c(t,p.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),L&&(C=L.box,A=L.offscreen,P=L.occluded);const u=n(L&&L.box);if(!C&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[E];e&&(this.variableOffsets[E]=e,this.markUsedJustification(o,e.anchor,t,u))}}else{const a=(n,i)=>{const a=o.getSymbolInstanceTextSize(f,t,this.transform.zoom,r),l=this.collisionIndex.placeCollisionBox(o,a,n,new e.pointGeometry(0,0),v,h,s,g.predicate);return l&&l.box&&l.box.length&&(this.markUsedOrientation(o,i,t),this.placedOrientations[E]=i),l};i(()=>a(G,e.WritingMode.horizontal),()=>{const t=p.verticalTextBox;return o.allowVerticalPlacement&&I>0&&t?(V(t),a(t,e.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),n(L&&L.box&&L.box.length)}}if(R=L,C=R&&R.box&&R.box.length>0,A=R&&R.offscreen,P=R&&R.occluded,t.useRuntimeCollisionCircles){const n=o.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex>=0?t.centerJustifiedTextSymbolIndex:t.verticalPlacedTextSymbolIndex),r=e.evaluateSizeForFeature(o.textSizeData,f,n),u=a.get("text-padding");B=this.collisionIndex.placeCollisionCircles(o,v,n,o.lineVertexArray,o.glyphOffsetArray,r,s,l,c,i,w,g.predicate,t.collisionCircleDiameter*r/e.ONE_EM,u,this.retainedQueryData[o.bucketInstanceId].tileID),C=v||B.circles.length>0&&!B.collisionDetected,A=A&&B.offscreen,P=B.occluded}if(p.iconFeatureIndex&&(U=p.iconFeatureIndex),p.iconBox){const n=n=>{V(n);const i=T&&D?Ct(D.x,D.y,b,w,this.transform.angle):new e.pointGeometry(0,0),r=o.getSymbolInstanceIconSize(m,this.transform.zoom,t.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(o,r,n,i,x,h,s,g.predicate)};O&&O.box&&O.box.length&&p.verticalIconBox?(j=n(p.verticalIconBox),k=j.box.length>0):(j=n(p.iconBox),k=j.box.length>0),A=A&&j.offscreen,z=j.occluded}const Z=y||0===t.numHorizontalGlyphVertices&&0===I,W=_||0===t.numIconVertices;if(Z||W?W?Z||(k=k&&C):C=k&&C:k=C=k&&C,C&&R&&R.box&&this.collisionIndex.insertCollisionBox(R.box,a.get("text-ignore-placement"),o.bucketInstanceId,O&&O.box&&N?N:F,g.ID),k&&j&&this.collisionIndex.insertCollisionBox(j.box,a.get("icon-ignore-placement"),o.bucketInstanceId,U,g.ID),B&&(C&&this.collisionIndex.insertCollisionCircles(B.circles,a.get("text-ignore-placement"),o.bucketInstanceId,F,g.ID),i)){const e=o.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new Et);for(let e=0;e<B.circles.length;e+=4)t.circles.push(B.circles[e+0]),t.circles.push(B.circles[e+1]),t.circles.push(B.circles[e+2]),t.circles.push(B.collisionDetected?1:0)}const q="globe"!==o.projection.name;S=S&&(q||!P),M=M&&(q||!z),this.placements[E]=new Tt(C||S,k||M,A||o.justReloaded),n[E]=!0};if(E){const e=o.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const n=e[t];I(o.symbolInstances.get(n),n,o.collisionArrays[n])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)I(o.symbolInstances.get(e),e,o.collisionArrays[e]);if(i&&o.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[o.bucketInstanceId];e.invert(t.invProjMatrix,s),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}o.justReloaded=!1}markUsedJustification(t,n,i,r){const{leftJustifiedTextSymbolIndex:o,centerJustifiedTextSymbolIndex:a,rightJustifiedTextSymbolIndex:s,verticalPlacedTextSymbolIndex:l,crossTileID:c}=i,u=e.getAnchorJustification(n),h=r===e.WritingMode.vertical?l:"left"===u?o:"center"===u?a:"right"===u?s:-1;o>=0&&(t.text.placedSymbolArray.get(o).crossTileID=h>=0&&o!==h?0:c),a>=0&&(t.text.placedSymbolArray.get(a).crossTileID=h>=0&&a!==h?0:c),s>=0&&(t.text.placedSymbolArray.get(s).crossTileID=h>=0&&s!==h?0:c),l>=0&&(t.text.placedSymbolArray.get(l).crossTileID=h>=0&&l!==h?0:c)}markUsedOrientation(t,n,i){const r=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,o=n===e.WritingMode.vertical?n:0,{leftJustifiedTextSymbolIndex:a,centerJustifiedTextSymbolIndex:s,rightJustifiedTextSymbolIndex:l,verticalPlacedTextSymbolIndex:c}=i,u=t.text.placedSymbolArray;a>=0&&(u.get(a).placedOrientation=r),s>=0&&(u.get(s).placedOrientation=r),l>=0&&(u.get(l).placedOrientation=r),c>=0&&(u.get(c).placedOrientation=o)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const i=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],o=r[e];o?(this.opacities[e]=new wt(o,i,t.text,t.icon,null,t.clipped),n=n||t.text!==o.text.placed||t.icon!==o.icon.placed):(this.opacities[e]=new wt(null,i,t.text,t.icon,t.skipFade,t.clipped),n=n||t.text||t.icon)}for(const e in r){const t=r[e];if(!this.opacities[e]){const r=new wt(t,i,!1,!1);r.isHidden()||(this.opacities[e]=r,n=n||t.text.placed||t.icon.placed)}}for(const e in o)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=o[e]);for(const e in a)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=a[e]);n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const n={};for(const i of t){const t=i.getBucket(e);t&&i.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,n,i.collisionBoxArray)}}updateBucketOpacities(t,n,i){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const r=t.layers[0].layout,o=!!t.layers[0].dynamicFilter(),a=new wt(null,0,!1,!1,!0),s=r.get("text-allow-overlap"),l=r.get("icon-allow-overlap"),c=r.get("text-variable-anchor"),u="map"===r.get("text-rotation-alignment"),h="map"===r.get("text-pitch-alignment"),d="none"!==r.get("icon-text-fit"),p=new wt(null,0,s&&(l||!t.hasIconData()||r.get("icon-optional")),l&&(s||!t.hasTextData()||r.get("text-optional")),!0);!t.collisionArrays&&i&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(i);const f=(e,t,n)=>{for(let i=0;i<t/4;i++)e.opacityVertexArray.emplaceBack(n)};let m=0;for(let i=0;i<t.symbolInstances.length;i++){const r=t.symbolInstances.get(i),{numHorizontalGlyphVertices:s,numVerticalGlyphVertices:l,crossTileID:g,numIconVertices:y}=r;let _=this.opacities[g];n[g]?_=a:_||(_=p,this.opacities[g]=_),n[g]=!0;const v=s>0||l>0,x=y>0,b=this.placedOrientations[g],w=b===e.WritingMode.vertical,T=b===e.WritingMode.horizontal||b===e.WritingMode.horizontalOnly;if(!v&&!x||_.isHidden()||m++,v){const e=jt(_.text);f(t.text,s,w?Ft:e),f(t.text,l,T?Ft:e);const n=_.text.isHidden(),{leftJustifiedTextSymbolIndex:i,centerJustifiedTextSymbolIndex:o,rightJustifiedTextSymbolIndex:a,verticalPlacedTextSymbolIndex:c}=r,u=t.text.placedSymbolArray,h=n||w?1:0;i>=0&&(u.get(i).hidden=h),o>=0&&(u.get(o).hidden=h),a>=0&&(u.get(a).hidden=h),c>=0&&(u.get(c).hidden=n||T?1:0);const d=this.variableOffsets[g];d&&this.markUsedJustification(t,d.anchor,r,b);const p=this.placedOrientations[g];p&&(this.markUsedJustification(t,"left",r,p),this.markUsedOrientation(t,p,r))}if(x){const e=jt(_.icon),{placedIconSymbolIndex:n,verticalPlacedIconSymbolIndex:i}=r,o=t.icon.placedSymbolArray,a=_.icon.isHidden()?1:0;n>=0&&(f(t.icon,y,w?Ft:e),o.get(n).hidden=a),i>=0&&(f(t.icon,r.numVerticalIconVertices,T?Ft:e),o.get(i).hidden=a)}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const n=t.collisionArrays[i];if(n){let i=new e.pointGeometry(0,0),r=!0;if(n.textBox||n.verticalTextBox){if(c){const e=this.variableOffsets[g];e?(i=It(e.anchor,e.width,e.height,e.textOffset,e.textScale),u&&i._rotate(h?this.transform.angle:-this.transform.angle)):r=!1}o&&(r=!_.clipped),n.textBox&&At(t.textCollisionBox.collisionVertexArray,_.text.placed,!r||w,i.x,i.y),n.verticalTextBox&&At(t.textCollisionBox.collisionVertexArray,_.text.placed,!r||T,i.x,i.y)}const a=r&&Boolean(!T&&n.verticalIconBox);n.iconBox&&At(t.iconCollisionBox.collisionVertexArray,_.icon.placed,a,d?i.x:0,d?i.y:0),n.verticalIconBox&&At(t.iconCollisionBox.collisionVertexArray,_.icon.placed,!a,d?i.x:0,d?i.y:0)}}}if(t.fullyClipped=0===m,t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}setStale(){this.stale=!0}}function At(e,t,n,i,r){e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0)}const Pt=Math.pow(2,25),zt=Math.pow(2,24),Dt=Math.pow(2,17),Lt=Math.pow(2,16),Ot=Math.pow(2,9),Rt=Math.pow(2,8),Bt=Math.pow(2,1);function jt(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*Pt+t*zt+n*Dt+t*Lt+n*Ot+t*Rt+n*Bt+t}const Ft=0;class Nt{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&void 0!==e.layout.get("symbol-sort-key").constantOr(1),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,n,i,r){const o=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(o,i,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((e,t)=>e.sortKey-t.sortKey));this._currentPartIndex<o.length;){const e=o[this._currentPartIndex];if(t.placeLayerBucketPart(e,this._seenCrossTileIDs,n,0===e.symbolInstanceStart),this._currentPartIndex++,r())return!0}return!1}}class Ut{constructor(e,t,n,i,r,o,a,s){this.placement=new kt(e,r,o,a,s),this._currentPlacementIndex=t.length-1,this._forceFullPlacement=n,this._showCollisionBoxes=i,this._done=!1}isDone(){return this._done}continuePlacement(t,n,i){const r=e.exported.now(),o=()=>{const t=e.exported.now()-r;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=n[t[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=r)&&(!e.maxzoom||e.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new Nt(e)),this._inProgressLayer.continuePlacement(i[e.source],this.placement,this._showCollisionBoxes,e,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Vt=512/e.EXTENT/2;class Gt{constructor(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(let n=0;n<t.length;n++){const i=t.get(n),r=i.key;this.indexedSymbolInstances[r]||(this.indexedSymbolInstances[r]=[]),this.indexedSymbolInstances[r].push({crossTileID:i.crossTileID,coord:this.getScaledCoordinates(i,e)})}}getScaledCoordinates(t,n){const i=Vt/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.tileAnchorX)*i),y:Math.floor((n.canonical.y*e.EXTENT+t.tileAnchorY)*i)}}findMatches(e,t,n){const i=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let r=0;r<e.length;r++){const o=e.get(r);if(o.crossTileID)continue;const a=this.indexedSymbolInstances[o.key];if(!a)continue;const s=this.getScaledCoordinates(o,t);for(const e of a)if(Math.abs(e.coord.x-s.x)<=i&&Math.abs(e.coord.y-s.y)<=i&&!n[e.crossTileID]){n[e.crossTileID]=!0,o.crossTileID=e.crossTileID;break}}}}class Zt{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Wt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const n=this.indexes[e],i={};for(const e in n){const r=n[e];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),i[r.tileID.key]=r}this.indexes[e]=i}this.lng=e}addBucket(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const i=this.usedCrossTileIDs[e.overscaledZ];for(const n in this.indexes){const r=this.indexes[n];if(Number(n)>e.overscaledZ)for(const n in r){const o=r[n];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,i)}else{const o=r[e.scaledTo(Number(n)).key];o&&o.findMatches(t.symbolInstances,e,i)}}for(let e=0;e<t.symbolInstances.length;e++){const r=t.symbolInstances.get(e);r.crossTileID||(r.crossTileID=n.generate(),i[r.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Gt(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const n in t.indexedSymbolInstances)for(const i of t.indexedSymbolInstances[n])delete this.usedCrossTileIDs[e][i.crossTileID]}removeStaleBuckets(e){let t=!1;for(const n in this.indexes){const i=this.indexes[n];for(const r in i)e[i[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,i[r]),delete i[r],t=!0)}return t}}class qt{constructor(){this.layerIndexes={},this.crossTileIDs=new Zt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,n,i){let r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new Wt);let o=!1;const a={};"globe"!==i.name&&r.handleWrapJump(n);for(const n of t){const t=n.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(n.tileID,t,this.crossTileIDs)&&(o=!0),a[t.bucketInstanceId]=!0)}return r.removeStaleBuckets(a)&&(o=!0),o}pruneUnusedLayers(e){const t={};e.forEach(e=>{t[e]=!0});for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e]}}const $t=(t,n)=>e.emitValidationErrors(t,n&&n.filter(e=>"source.canvas"!==e.identifier)),Ht=e.pick(Ze,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Xt=e.pick(Ze,["setCenter","setZoom","setBearing","setPitch"]),Yt={version:8,layers:[],sources:{}},Jt={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Qt extends e.Evented{constructor(t,n={}){super(),this.map=t,this.dispatcher=new z(Ue(),this),this.imageManager=new x,this.imageManager.setEventedParent(this),this.glyphManager=new e.GlyphManager(t._requestManager,n.localFontFamily?e.LocalGlyphMode.all:n.localIdeographFontFamily?e.LocalGlyphMode.ideographs:e.LocalGlyphMode.none,n.localFontFamily||n.localIdeographFontFamily),this.crossTileSymbolIndex=new qt,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const i=this;this._rtlTextPluginCallback=Qt.registerForPluginStateChange(t=>{i.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},(t,n)=>{if(e.triggerPluginCompletionEvent(t),n&&n.every(e=>e))for(const e in i._sourceCaches){const t=i._sourceCaches[e],n=t.getSource().type;"vector"!==n&&"geojson"!==n||t.reload()}})}),this.on("data",e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.getSource(e.sourceId);if(t&&t.vectorLayerIds)for(const e in this._layers){const n=this._layers[e];n.source===t.id&&this._validateLayer(n)}})}loadURL(t,n={}){this.fire(new e.Event("dataloading",{dataType:"style"}));const i="boolean"==typeof n.validate?n.validate:!e.isMapboxURL(t);t=this.map._requestManager.normalizeStyleURL(t,n.accessToken);const r=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(r,(t,n)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):n&&this._load(n,i)})}loadJSON(t,n={}){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame(()=>{this._request=null,this._load(t,!1!==n.validate)})}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(Yt,!1)}_updateLayerCount(e,t){const n=t?1:-1;e.is3D()&&(this._num3DLayers+=n),"circle"===e.type&&(this._numCircleLayers+=n),"symbol"===e.type&&(this._numSymbolLayers+=n)}_load(t,n){if(n&&$t(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=e.clone$1(t),this._updateMapProjection();for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});this._changed=!1,t.sprite?this._loadSprite(t.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(t.glyphs);const i=Ge(this.stylesheet.layers);this._order=i.map(e=>e.id),this._layers={},this._serializedLayers={};for(let t of i)t=e.createStyleLayer(t),t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize(),this._updateLayerCount(t,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&0===this.terrain.drapeRenderMode}setProjection(e){e?this.stylesheet.projection=e:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(t){this._spriteRequest=function(t,n,i){let r,o,a;const s=e.exported.devicePixelRatio>1?"@2x":"";let l=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,s,".json"),e.ResourceType.SpriteJSON),(e,t)=>{l=null,a||(a=e,r=t,u())}),c=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,s,".png"),e.ResourceType.SpriteImage),(e,t)=>{c=null,a||(a=e,o=t,u())});function u(){if(a)i(a);else if(r&&o){const t=e.exported.getImageData(o),n={};for(const i in r){const{width:o,height:a,x:s,y:l,sdf:c,pixelRatio:u,stretchX:h,stretchY:d,content:p}=r[i],f=new e.RGBAImage({width:o,height:a});e.RGBAImage.copy(t,f,{x:s,y:l},{x:0,y:0},{width:o,height:a}),n[i]={data:f,pixelRatio:u,sdf:c,stretchX:h,stretchY:d,content:p}}i(null,n)}}return{cancel(){l&&(l.cancel(),l=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,(t,n)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(n)for(const e in n)this.imageManager.addImage(e,n[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new e.Event("data",{dataType:"style"}))})}_validateLayer(t){const n=this.getSource(t.source);if(!n)return;const i=t.sourceLayer;i&&("geojson"===n.type||n.vectorLayerIds&&-1===n.vectorLayerIds.indexOf(i))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${i}" does not exist on source "${n.id}" as specified by style layer "${t.id}"`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this._sourceCaches)if(!this._sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const n of e){const e=this._layers[n];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;if(this.fog&&this.fog.hasTransition())return!0;for(const e in this._sourceCaches)if(this._sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(e){return!!this.terrain&&Jt[e.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(t){if(!this._loaded)return;const n=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);(e.length||n.length)&&this._updateWorkerLayers(e,n);for(const e in this._updatedSources){const t=this._updatedSources[e];"reload"===t?this._reloadSource(e):"clear"===t&&this._clearSource(e)}this._updateTilesForChangedImages();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this.fog&&this.fog.updateTransitions(t),this._resetUpdates()}const i={};for(const e in this._sourceCaches){const t=this._sourceCaches[e];i[e]=t.used,t.used=!1}for(const e of this._order){const n=this._layers[e];if(n.recalculate(t,this._availableImages),!n.isHidden(t.zoom)){const e=this._getLayerSourceCache(n);e&&(e.used=!0)}const i=this.map.painter;if(i){const e=n.getProgramIds();if(!e)continue;const r=n.getProgramConfiguration(t.zoom);for(const t of e)i.useProgram(t,r)}}for(const t in i){const n=this._sourceCaches[t];i[t]!==n.used&&n.getSource().fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:n.getSource().id}))}this.light.recalculate(t),this.terrain&&this.terrain.recalculate(t),this.fog&&this.fog.recalculate(t),this.z=t.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),n&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this._sourceCaches)this._sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(n){if(this._checkLoaded(),$t(this,e.validateStyle(n)))return!1;(n=e.clone$1(n)).layers=Ge(n.layers);const i=function(e,n){if(!e)return[{command:Ze.setStyle,args:[n]}];let i=[];try{if(!t(e.version,n.version))return[{command:Ze.setStyle,args:[n]}];t(e.center,n.center)||i.push({command:Ze.setCenter,args:[n.center]}),t(e.zoom,n.zoom)||i.push({command:Ze.setZoom,args:[n.zoom]}),t(e.bearing,n.bearing)||i.push({command:Ze.setBearing,args:[n.bearing]}),t(e.pitch,n.pitch)||i.push({command:Ze.setPitch,args:[n.pitch]}),t(e.sprite,n.sprite)||i.push({command:Ze.setSprite,args:[n.sprite]}),t(e.glyphs,n.glyphs)||i.push({command:Ze.setGlyphs,args:[n.glyphs]}),t(e.transition,n.transition)||i.push({command:Ze.setTransition,args:[n.transition]}),t(e.light,n.light)||i.push({command:Ze.setLight,args:[n.light]}),t(e.fog,n.fog)||i.push({command:Ze.setFog,args:[n.fog]}),t(e.projection,n.projection)||i.push({command:Ze.setProjection,args:[n.projection]});const r={},o=[];!function(e,n,i,r){let o;for(o in n=n||{},e=e||{})e.hasOwnProperty(o)&&(n.hasOwnProperty(o)||qe(o,i,r));for(o in n)n.hasOwnProperty(o)&&(e.hasOwnProperty(o)?t(e[o],n[o])||("geojson"===e[o].type&&"geojson"===n[o].type&&He(e,n,o)?i.push({command:Ze.setGeoJSONSourceData,args:[o,n[o].data]}):$e(o,n,i,r)):We(o,n,i))}(e.sources,n.sources,o,r);const a=[];e.layers&&e.layers.forEach(e=>{e.source&&r[e.source]?i.push({command:Ze.removeLayer,args:[e.id]}):a.push(e)});let s=e.terrain;s&&r[s.source]&&(i.push({command:Ze.setTerrain,args:[void 0]}),s=void 0),i=i.concat(o),t(s,n.terrain)||i.push({command:Ze.setTerrain,args:[n.terrain]}),function(e,n,i){n=n||[];const r=(e=e||[]).map(Ye),o=n.map(Ye),a=e.reduce(Je,{}),s=n.reduce(Je,{}),l=r.slice(),c=Object.create(null);let u,h,d,p,f,m,g;for(u=0,h=0;u<r.length;u++)d=r[u],s.hasOwnProperty(d)?h++:(i.push({command:Ze.removeLayer,args:[d]}),l.splice(l.indexOf(d,h),1));for(u=0,h=0;u<o.length;u++)d=o[o.length-1-u],l[l.length-1-u]!==d&&(a.hasOwnProperty(d)?(i.push({command:Ze.removeLayer,args:[d]}),l.splice(l.lastIndexOf(d,l.length-h),1)):h++,m=l[l.length-u],i.push({command:Ze.addLayer,args:[s[d],m]}),l.splice(l.length-u,0,d),c[d]=!0);for(u=0;u<o.length;u++)if(d=o[u],p=a[d],f=s[d],!c[d]&&!t(p,f))if(t(p.source,f.source)&&t(p["source-layer"],f["source-layer"])&&t(p.type,f.type)){for(g in Xe(p.layout,f.layout,i,d,null,Ze.setLayoutProperty),Xe(p.paint,f.paint,i,d,null,Ze.setPaintProperty),t(p.filter,f.filter)||i.push({command:Ze.setFilter,args:[d,f.filter]}),t(p.minzoom,f.minzoom)&&t(p.maxzoom,f.maxzoom)||i.push({command:Ze.setLayerZoomRange,args:[d,f.minzoom,f.maxzoom]}),p)p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Xe(p[g],f[g],i,d,g.slice(6),Ze.setPaintProperty):t(p[g],f[g])||i.push({command:Ze.setLayerProperty,args:[d,g,f[g]]}));for(g in f)f.hasOwnProperty(g)&&!p.hasOwnProperty(g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Xe(p[g],f[g],i,d,g.slice(6),Ze.setPaintProperty):t(p[g],f[g])||i.push({command:Ze.setLayerProperty,args:[d,g,f[g]]}))}else i.push({command:Ze.removeLayer,args:[d]}),m=l[l.lastIndexOf(d)+1],i.push({command:Ze.addLayer,args:[f,m]})}(a,n.layers,i)}catch(e){console.warn("Unable to compute style diff:",e),i=[{command:Ze.setStyle,args:[n]}]}return i}(this.serialize(),n).filter(e=>!(e.command in Xt));if(0===i.length)return!1;const r=i.filter(e=>!(e.command in Ht));if(r.length>0)throw new Error(`Unimplemented: ${r.map(e=>e.command).join(", ")}.`);return i.forEach(e=>{"setTransition"!==e.command&&"setProjection"!==e.command&&this[e.command].apply(this,e.args)}),this.stylesheet=n,this._updateMapProjection(),!0}addImage(t,n){return this.getImage(t)?this.fire(new e.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(t,n),this._afterImageUpdated(t),this)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){return this.getImage(t)?(this.imageManager.removeImage(t),this._afterImageUpdated(t),this):this.fire(new e.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(t,n,i={}){if(this._checkLoaded(),void 0!==this.getSource(t))throw new Error("There is already a source with this ID");if(!n.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(n).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateSource,"sources."+t,n,null,i))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const r=ze(t,n,this.dispatcher,this);r.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(t),source:r.serialize(),sourceId:t}));const o=n=>{const i=(n?"symbol:":"other:")+t,o=this._sourceCaches[i]=new e.SourceCache(i,r,n);(n?this._symbolSourceCaches:this._otherSourceCaches)[t]=o,o.style=this,o.onAdd(this.map)};o(!1),"vector"!==n.type&&"geojson"!==n.type||o(!0),r.onAdd&&r.onAdd(this.map),this._changed=!0}removeSource(t){this._checkLoaded();const n=this.getSource(t);if(!n)throw new Error("There is no source with this ID");for(const n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${n}" is using it.`)));if(this.terrain&&this.terrain.get().source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while terrain is using it.`)));const i=this._getSourceCaches(t);for(const t of i)delete this._sourceCaches[t.id],delete this._updatedSources[t.id],t.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t.getSource().id})),t.setEventedParent(null),t.clearTiles();return delete this._otherSourceCaches[t],delete this._symbolSourceCaches[t],n.setEventedParent(null),n.onRemove&&n.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(e,t){this._checkLoaded(),this.getSource(e).setData(t),this._changed=!0}getSource(e){const t=this._getSourceCache(e);return t&&t.getSource()}_getSources(){const e=[];for(const t in this._otherSourceCaches){const n=this._getSourceCache(t);n&&e.push(n.getSource())}return e}addLayer(t,n,i={}){this._checkLoaded();const r=t.id;if(this.getLayer(r))return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${r}" already exists on this map`)));let o;if("custom"===t.type){if($t(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(r,t.source),t=e.clone$1(t),t=e.extend(t,{source:r})),this._validate(e.validateLayer,"layers."+r,t,{arrayIndex:-1},i))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:r}}),this._serializedLayers[o.id]=o.serialize(),this._updateLayerCount(o,!0)}const a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)return void this.fire(new e.ErrorEvent(new Error(`Layer with id "${n}" does not exist on this map.`)));this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=o;const s=this._getLayerSourceCache(o);if(this._removedLayers[r]&&o.source&&s&&"custom"!==o.type){const e=this._removedLayers[r];delete this._removedLayers[r],e.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",s.pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(t,n){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===n)return;const i=this._order.indexOf(t);this._order.splice(i,1);const r=n?this._order.indexOf(n):this._order.length;n&&-1===r?this.fire(new e.ErrorEvent(new Error(`Layer with id "${n}" does not exist on this map.`))):(this._order.splice(r,0,t),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(t){this._checkLoaded();const n=this._layers[t];if(!n)return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be removed.`)));n.setEventedParent(null),this._updateLayerCount(n,!1);const i=this._order.indexOf(t);this._order.splice(i,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}hasLayerType(e){for(const t in this._layers)if(this._layers[t].type===e)return!0;return!1}setLayerZoomRange(t,n,i){this._checkLoaded();const r=this.getLayer(t);r?r.minzoom===n&&r.maxzoom===i||(null!=n&&(r.minzoom=n),null!=i&&(r.maxzoom=i),this._updateLayer(r)):this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(n,i,r={}){this._checkLoaded();const o=this.getLayer(n);if(o){if(!t(o.filter,i))return null==i?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(e.validateFilter,`layers.${o.id}.filter`,i,{layerType:o.type},r)||(o.filter=e.clone$1(i),this._updateLayer(o)))}else this.fire(new e.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be filtered.`)))}getFilter(t){const n=this.getLayer(t);return n&&e.clone$1(n.filter)}setLayoutProperty(n,i,r,o={}){this._checkLoaded();const a=this.getLayer(n);a?t(a.getLayoutProperty(i),r)||(a.setLayoutProperty(i,r,o),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(t,n){const i=this.getLayer(t);if(i)return i.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style.`)))}setPaintProperty(n,i,r,o={}){this._checkLoaded();const a=this.getLayer(n);a?t(a.getPaintProperty(i),r)||(a.setPaintProperty(i,r,o)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[n]=!0):this.fire(new e.ErrorEvent(new Error(`The layer '${n}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(e,t){const n=this.getLayer(e);return n&&n.getPaintProperty(t)}setFeatureState(t,n){this._checkLoaded();const i=t.source,r=t.sourceLayer,o=this.getSource(i);if(!o)return void this.fire(new e.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)));const a=o.type;if("geojson"===a&&r)return void this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if("vector"===a&&!r)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided.")));const s=this._getSourceCaches(i);for(const e of s)e.setFeatureState(r,t.id,n)}removeFeatureState(t,n){this._checkLoaded();const i=t.source,r=this.getSource(i);if(!r)return void this.fire(new e.ErrorEvent(new Error(`The source '${i}' does not exist in the map's style.`)));const o=r.type,a="vector"===o?t.sourceLayer:void 0;if("vector"===o&&!a)return void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(n&&"string"!=typeof t.id&&"number"!=typeof t.id)return void this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const s=this._getSourceCaches(i);for(const e of s)e.removeFeatureState(a,t.id,n)}getFeatureState(t){this._checkLoaded();const n=t.source,i=t.sourceLayer,r=this.getSource(n);if(r){if("vector"!==r.type||i)return void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(n)[0].getFeatureState(i,t.id);this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const t={};for(const e in this._sourceCaches){const n=this._sourceCaches[e].getSource();t[n.id]||(t[n.id]=n.serialize())}return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:t,layers:this._serializeLayers(this._order)},e=>void 0!==e)}_updateLayer(e){this._updatedLayers[e.id]=!0;const t=this._getLayerSourceCache(e);e.source&&!this._updatedSources[e.source]&&t&&"raster"!==t.getSource().type&&(this._updatedSources[e.source]="reload",t.pause()),this._changed=!0,e.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,n={},i=[];for(let r=this._order.length-1;r>=0;r--){const o=this._order[r];if(t(o)){n[o]=r;for(const t of e){const e=t[o];if(e)for(const t of e)i.push(t)}}}i.sort((e,t)=>t.intersectionZ-e.intersectionZ);const r=[];for(let o=this._order.length-1;o>=0;o--){const a=this._order[o];if(t(a))for(let e=i.length-1;e>=0;e--){const t=i[e].feature;if(n[t.layer.id]<o)break;r.push(t),i.pop()}else for(const t of e){const e=t[a];if(e)for(const t of e)r.push(t.feature)}}return r}queryRenderedFeatures(t,n,i){n&&n.filter&&this._validate(e.validateFilter,"queryRenderedFeatures.filter",n.filter,null,n);const r={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of n.layers){const n=this._layers[t];if(!n)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];r[n.source]=!0}}const o=[];n.availableImages=this._availableImages;const a=n&&n.layers?n.layers.some(e=>{const t=this.getLayer(e);return t&&t.is3D()}):this.has3DLayers(),s=L.createFromScreenPoints(t,i);for(const e in this._sourceCaches){const t=this._sourceCaches[e].getSource().id;n.layers&&!r[t]||o.push(Le(this._sourceCaches[e],this._layers,this._serializedLayers,s,n,i,a,!!this.map._showQueryGeometry))}return this.placement&&o.push(function(e,t,n,i,r,o,a){const s={},l=o.queryRenderedSymbols(i),c=[];for(const e of Object.keys(l).map(Number))c.push(a[e]);c.sort(Re);for(const n of c){const i=n.featureIndex.lookupSymbolFeatures(l[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(const e in i){const t=s[e]=s[e]||[],r=i[e];r.sort((e,t)=>{const i=n.featureSortOrder;if(i){const n=i.indexOf(e.featureIndex);return i.indexOf(t.featureIndex)-n}return t.featureIndex-e.featureIndex});for(const e of r)t.push(e)}}for(const t in s)s[t].forEach(i=>{const r=i.feature,o=n(e[t]).getFeatureState(r.layer["source-layer"],r.id);r.source=r.layer.source,r.layer["source-layer"]&&(r.sourceLayer=r.layer["source-layer"]),r.state=o});return s}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),s.screenGeometry,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(o)}querySourceFeatures(t,n){n&&n.filter&&this._validate(e.validateFilter,"querySourceFeatures.filter",n.filter,null,n);const i=this._getSourceCaches(t);let r=[];for(const e of i)r=r.concat(Oe(e,n));return r}addSourceType(e,t,n){return Qt.getSourceType(e)?n(new Error(`A source type called "${e}" already exists.`)):(Qt.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}getLight(){return this.light.getLight()}setLight(e,n={}){this._checkLoaded();const i=this.light.getLight();let r=!1;for(const n in e)if(!t(e[n],i[n])){r=!0;break}if(!r)return;const o=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(e,n),this.light.updateTransitions(o)}getTerrain(){return this.terrain&&1===this.terrain.drapeRenderMode?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(n,i=1){if(this._checkLoaded(),!n)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(1===i){if("object"==typeof n.source){const t="terrain-dem-src";this.addSource(t,n.source),n=e.clone$1(n),n=e.extend(n,{source:t})}if(this._validate(e.validateTerrain,"terrain",n))return}if(!this.terrain||this.terrain&&i!==this.terrain.drapeRenderMode)this._createTerrain(n,i);else{const i=this.terrain,r=i.get();for(const t of Object.keys(e.spec.terrain))!n.hasOwnProperty(t)&&e.spec.terrain[t].default&&(n[t]=e.spec.terrain[t].default);for(const e in n)if(!t(n[e],r[e])){i.set(n),this.stylesheet.terrain=n;const e=this._setTransitionParameters({duration:0});i.updateTransitions(e);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(e){const t=this.fog=new P(e,this.map.transform);this.stylesheet.fog=e;const n=this._setTransitionParameters({duration:0});t.updateTransitions(n)}_updateMarkersOpacity(){0!==this.map._markers.length&&this.map._requestDomTask(()=>{for(const e of this.map._markers)e._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(e){if(this._checkLoaded(),!e)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const n=this.fog,i=n.get();0===Object.keys(e).length&&n.set(e);for(const r in e)if(!t(e[r],i[r])){n.set(e),this.stylesheet.fog=e;const t=this._setTransitionParameters({duration:0});n.updateTransitions(t);break}}else this._createFog(e);this._markersNeedUpdate=!0}_setTransitionParameters(t){return{now:e.exported.now(),transition:e.extend(t,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const e=this._order.filter(e=>this.isLayerDraped(this._layers[e])),t=this._order.filter(e=>!this.isLayerDraped(this._layers[e]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...e),this._drapedFirstOrder.push(...t)}_createTerrain(e,t){const n=this.terrain=new M(e,t);this.stylesheet.terrain=e,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const i=this._setTransitionParameters({duration:0});n.updateTransitions(i)}_force3DLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"fill-extrusion"===t.type&&this._updateLayer(t)}}_forceSymbolLayerUpdate(){for(const e in this._layers){const t=this._layers[e];"symbol"===t.type&&this._updateLayer(t)}}_validate(t,n,i,r,o={}){return(!o||!1!==o.validate)&&$t(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:i,styleSpec:e.spec},r)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this._sourceCaches)this._sourceCaches[e].clearTiles(),this._sourceCaches[e].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){const t=this._getSourceCaches(e);for(const e of t)e.clearTiles()}_reloadSource(e){const t=this._getSourceCaches(e);for(const e of t)e.resume(),e.reload()}_reloadSources(){for(const e of this._getSources())e.reload&&e.reload()}_updateSources(e){for(const t in this._sourceCaches)this._sourceCaches[t].update(e)}_generateCollisionBoxes(){for(const e in this._sourceCaches){const t=this._sourceCaches[e];t.resume(),t.reload()}}_updatePlacement(t,n,i,r,o=!1){let a=!1,s=!1;const l={};for(const e of this._order){const n=this._layers[e];if("symbol"!==n.type)continue;if(!l[n.source]){const e=this._getLayerSourceCache(n);if(!e)continue;l[n.source]=e.getRenderableIds(!0).map(t=>e.getTileByID(t)).sort((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1))}const i=this.crossTileSymbolIndex.addLayer(n,l[n.source],t.center.lng,t.projection);a=a||i}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),o=o||this._layerOrderChanged||0===i,this._layerOrderChanged&&this.fire(new e.Event("neworder")),(o||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Ut(t,this._order,o,n,i,r,this.placement,this.fog&&t.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this._sourceCaches)this._sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();const i=e=>{e&&e.setDependencies(t.tileID.key,t.type,t.icons)};i(this._otherSourceCaches[t.source]),i(this._symbolSourceCaches[t.source])}getGlyphs(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)}getResource(t,n,i){return e.makeRequest(n,i)}_getSourceCache(e){return this._otherSourceCaches[e]}_getLayerSourceCache(e){return"symbol"===e.type?this._symbolSourceCaches[e.source]:this._otherSourceCaches[e.source]}_getSourceCaches(e){const t=[];return this._otherSourceCaches[e]&&t.push(this._otherSourceCaches[e]),this._symbolSourceCaches[e]&&t.push(this._symbolSourceCaches[e]),t}_isSourceCacheLoaded(t){const n=this._getSourceCaches(t);return 0===n.length?(this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`))),!1):n.every(e=>e.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Qt.getSourceType=function(e){return Pe[e]},Qt.setSourceType=function(e,t){Pe[e]=t},Qt.registerForPluginStateChange=e.registerForPluginStateChange;var Kt="\n#define EPSILON 0.0000001\n#define PI 3.141592653589793\n#define EXTENT 8192.0\n#define HALF_PI PI/2.0\n#define QUARTER_PI PI/4.0\n#define RAD_TO_DEG 180.0/PI\n#define DEG_TO_RAD PI/180.0\n#define GLOBE_RADIUS EXTENT/PI/2.0",en="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",tn="\n#define ELEVATION_SCALE 7.0\n#define ELEVATION_OFFSET 450.0\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(\nmix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}\n#else\nvec3 elevationVector(vec2 pos) { return vec3(0,0,1); }\n#endif\n#ifdef TERRAIN\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nuniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;\n#else\nuniform sampler2D u_dem;uniform sampler2D u_dem_prev;\n#endif\nuniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));\n#ifdef TERRAIN_DEM_NEAREST_FILTER\nreturn u_exaggeration*tl;\n#endif\nfloat tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}float prevElevation(vec2 apos) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nvec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;\n#else\nfloat dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);\n#endif\n}\n#ifdef TERRAIN_VERTEX_MORPHING\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nfloat nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}\n#else\nfloat elevation(vec2 apos) {\n#ifdef ZERO_EXAGGERATION\nreturn 0.0;\n#endif\nreturn currentElevation(apos);}\n#endif\nhighp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(\nunpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))\n);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nfloat tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;\n#else\nvec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);\n#endif\nreturn vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}\n#else\nfloat elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }\n#endif",nn="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}\n#endif",rn="#ifdef FOG\nuniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}\n#endif";let on={},an={};const sn=[];dn(Kt,sn),dn(tn,sn),dn(nn,sn),dn(rn,sn),on=pn("",tn),an=pn(rn,nn);const ln=pn("\nhighp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)\n{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}","\nfloat wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {\n#ifndef PROJECTED_POS_ON_VIEWPORT\nfloat tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;\n#else\nreturn vec3(0.0);\n#endif\n}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(\nunpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered."),cn=Kt,un="\n#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif";var hn={background:pn("uniform vec4 u_color;uniform float u_opacity;\n#ifdef LIGHTING_3D_MODE\nvarying vec4 v_color;\n#endif\nvoid main() {vec4 out_color;\n#ifdef LIGHTING_3D_MODE\nout_color=v_color;\n#else\nout_color=u_color;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#ifdef LIGHTING_3D_MODE\nuniform vec4 u_color;varying vec4 v_color;\n#endif\nvoid main() {gl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(u_color);\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),backgroundPattern:pn("uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),circle:pn("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(\nantialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)\n);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_apply_premultiplied(out_color,v_fog_pos);\n#endif\ngl_FragColor=out_color*(v_visibility*opacity_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","#define NUM_VISIBILITY_RINGS 2\n#define INV_SQRT2 0.70710678\n#define ELEVATION_BIAS 0.0001\n#define NUM_SAMPLES_PER_RING 16\nuniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {\n#if defined(TERRAIN)\nreturn elevation(pos)+ELEVATION_BIAS;\n#else\nreturn 0.0;\n#endif\n}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);\n#ifdef PITCH_WITH_MAP\n#ifdef PROJECTION_GLOBE_VIEW\nreturn u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );\n#else\nreturn u_matrix*( world_center+vec4(sample_offset,0,0) );\n#endif\n#else\nreturn projected_center+vec4(sample_offset,0,0);\n#endif\n}float get_sample_step() {\n#ifdef PITCH_WITH_MAP\nreturn 2.0*PI/float(NUM_SAMPLES_PER_RING);\n#else\nreturn PI/float(NUM_SAMPLES_PER_RING);\n#endif\n}void main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);\n#else \nsurface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);\n#endif\nvec4 projected_center=u_matrix*world_center;float view_scale=0.0;\n#ifdef PITCH_WITH_MAP\n#ifdef SCALE_WITH_MAP\nview_scale=1.0;\n#else\nview_scale=projected_center.w/u_camera_to_center_distance;\n#endif\n#else\n#ifdef SCALE_WITH_MAP\nview_scale=u_camera_to_center_distance;\n#else\nview_scale=projected_center.w;\n#endif\n#endif\ngl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;\n#ifdef TERRAIN\nfloat step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;\n#ifdef PITCH_WITH_MAP\nfloat cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;\n#else\nocclusion_world_center=world_center;occlusion_projected_center=projected_center;\n#endif\nfor(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);\n#else\nvisibility=1.0;\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nvisibility=1.0;\n#endif\nv_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);\n#ifdef FOG\nv_fog_pos=fog_position(world_center.xyz);\n#endif\n}"),clippingMask:pn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:pn("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef FOG\nif (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;\n#endif\nvarying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#else\npos=vec3(tilePos+extrude,elevation(tilePos));\n#endif\ngl_Position=u_matrix*vec4(pos,1);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),heatmapTexture:pn("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:pn("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}","attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:pn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(\nmix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(\n0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:pn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;\n#endif\nvarying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;\n#ifdef PROJECTION_GLOBE_VIEW\ngl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);\n#else\ngl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);\n#endif\n}"),fill:pn("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nvec4 out_color=color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutline:pn("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillOutlinePattern:pn("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillPattern:pn("uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),fillExtrusion:pn("varying vec4 v_color;\n#ifdef RENDER_SHADOWS\nvarying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\nvoid main() {\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvec3 normal=v_normal;\n#endif\nfloat z;vec4 color;\n#ifdef ZERO_ROOF_RADIUS\nz=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);\n#else\ncolor=v_color;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;\n#ifdef ZERO_ROOF_RADIUS\nconcave*=(1.0-z);\n#endif\nfloat x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;\n#endif\n#ifdef RENDER_SHADOWS\n#ifdef ZERO_ROOF_RADIUS\nnormal=mix(normal,vec3(0.0,0.0,1.0),z);\n#endif\ncolor.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec4 v_color;\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;\n#endif\n#ifdef ZERO_ROOF_RADIUS\nvarying vec4 v_roof_color;\n#endif\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nvarying highp vec3 v_normal;\n#endif\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));\n#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)\nv_normal=normal;\n#endif\nbase=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=0.0;float c_ele;vec3 pos;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);\n#else\nh=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);\n#ifdef RENDER_SHADOWS\nv_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;\n#endif\nfloat NdotL=0.0;float colorvalue=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\ncolorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_color=apply_lighting(color,NdotL);\n#else\nv_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_color*=u_opacity;\n#ifdef ZERO_ROOF_RADIUS\nv_roof_color=vec4(0.0,0.0,0.0,1.0);\n#ifdef LIGHTING_3D_MODE\nv_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));\n#else\nfloat roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));\n#endif\nv_roof_color*=u_opacity;\n#endif\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),fillExtrusionPattern:pn("uniform vec2 u_texsize;uniform sampler2D u_image;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color,v_NdotL)*u_opacity;\n#else\nout_color=out_color*v_lighting;\n#endif\n#ifdef FAUX_AO\nfloat intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\ngl_FragColor=out_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;\n#endif\nvarying vec2 v_pos;varying vec4 v_lighting;\n#ifdef FAUX_AO\nuniform lowp vec2 u_ao;varying vec3 v_ao;\n#endif\n#ifdef LIGHTING_3D_MODE\nvarying float v_NdotL;\n#endif\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);\n#if defined(HAS_CENTROID) || defined(TERRAIN)\ncentroid_pos=a_centroid_pos;\n#endif\nfloat ele=0.0;float h=z;vec3 p;float c_ele;\n#ifdef TERRAIN\nbool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);\n#else\np=vec3(pos_nx.xy,z);\n#endif\n#ifdef PROJECTION_GLOBE_VIEW\nfloat lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);\n#endif\nfloat hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0\n? pos_nx.xy\n: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;\n#ifdef LIGHTING_3D_MODE\nNdotL=calculate_NdotL(normal);\n#else\nNdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);\n#endif\nif (normal.y !=0.0) {float r=0.84;\n#ifndef LIGHTING_3D_MODE\nr=mix(0.7,0.98,1.0-u_lightintensity);\n#endif\nNdotL*=(\n(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}\n#ifdef FAUX_AO\nfloat concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;\n#ifdef TERRAIN\ntop_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);\n#endif\nv_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);\n#ifdef PROJECTION_GLOBE_VIEW\ntop_height+=u_height_lift;\n#endif\ngl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;\n#endif\n#ifdef LIGHTING_3D_MODE\nv_NdotL=NdotL;\n#else\nv_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;\n#endif \n#ifdef FOG\nv_fog_pos=fog_position(p);\n#endif\n}"),hillshadePrepare:pn("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {\n#ifdef TERRAIN_DEM_FLOAT_FORMAT\nreturn texture2D(u_image,coord).a/4.0;\n#else\nvec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;\n#endif\n}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(\n(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)\n)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(\nderiv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:pn("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef LIGHTING_3D_MODE\ngl_FragColor=apply_lighting(gl_FragColor);\n#endif\n#ifdef FOG\ngl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),line:pn("uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform sampler2D u_dash_image;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform sampler2D u_gradient_image;\n#endif\nuniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nfloat linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);\n#ifdef RENDER_LINE_DASH\nfloat sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);\n#endif\nhighp vec4 out_color;\n#ifdef RENDER_LINE_GRADIENT\nout_color=texture2D(u_gradient_image,v_uv.xy);\n#else\nout_color=color;\n#endif\n#ifdef RENDER_LINE_TRIM_OFFSET\nhighp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);}}\n#endif\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));\n#endif\n#ifdef RENDER_LINE_ALPHA_DISCARD\nif (alpha < u_alpha_discard_threshold) {discard;}\n#endif\n#ifdef RENDER_LINE_BORDER\nfloat edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);\n#ifdef RENDER_LINE_BORDER_AUTO\nfloat Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}\n#else\nout_color.rgb=mix(u_border_color.rgb,out_color.rgb,smoothAlpha);\n#endif\n}\n#endif\ngl_FragColor=out_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define EXTRUDE_SCALE 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nattribute highp vec4 a_packed;\n#endif\n#ifdef RENDER_LINE_DASH\nattribute float a_linesofar;\n#endif\nuniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;\n#ifdef RENDER_LINE_DASH\nuniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;\n#endif\n#ifdef RENDER_LINE_GRADIENT\nuniform float u_image_height;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 dash\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize lowp vec4 dash\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\n#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)\nfloat a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];\n#ifdef RENDER_LINE_GRADIENT\nhighp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);\n#else\nv_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);\n#endif\n#endif\n#ifdef RENDER_LINE_DASH\nfloat scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);\n#endif\nv_width2=vec2(outset,inset);\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),linePattern:pn("uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);\n#ifdef LIGHTING_3D_MODE\ncolor=apply_lighting(color);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern\n#pragma mapbox: define lowp float pixel_ratio\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern\n#pragma mapbox: initialize lowp float pixel_ratio\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;\n#ifndef RENDER_TO_TEXTURE\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#else\nv_gamma_scale=1.0;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;\n#ifdef FOG\nv_fog_pos=fog_position(pos);\n#endif\n}"),raster:pn("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(\ndot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);\n#ifdef LIGHTING_3D_MODE\nout_color=apply_lighting(out_color);\n#endif\n#ifdef FOG\nout_color=fog_dither(fog_apply(out_color,v_fog_pos));\n#endif\ngl_FragColor=vec4(out_color*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;\n#ifdef FOG\nv_fog_pos=fog_position(a_pos);\n#endif\n}"),symbolIcon:pn("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}"),symbolSDF:pn("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);\n#else\noffsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);\n#endif\nvec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nvec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}"),symbolTextAndIcon:pn("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;\n#ifdef PROJECTION_GLOBE_VIEW\nattribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;\n#endif\nuniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;\n#ifdef PROJECTION_GLOBE_VIEW\nuniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;\n#endif\nvarying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nmercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;\n#else\nworld_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;\n#endif\nvec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(\n0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);\n#else\nprojected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);\n#endif\nhighp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);\n#ifdef TERRAIN\n#ifdef PITCH_WITH_MAP_TERRAIN\nvec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);\n#endif\n#endif\nfloat occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;\n#ifdef PROJECTION_GLOBE_VIEW\nvec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#else\ngl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));\n#endif\nfloat gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;\n#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)\nprojection_transition_fade=1.0-step(EPSILON,u_zoom_transition);\n#endif\nv_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}"),terrainRaster:pn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nvarying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nvoid main() {vec4 color=texture2D(u_image0,v_pos0);\n#ifdef RENDER_SHADOWS\ncolor.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);\n#endif\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#else\ncolor=fog_dither(fog_apply_from_vert(color,v_fog_opacity));\n#endif\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;\n#ifdef FOG\nvarying float v_fog_opacity;\n#endif\n#ifdef RENDER_SHADOWS\nuniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;\n#endif\nconst float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;\n#ifdef TERRAIN_WIREFRAME\nelevation+=u_skirt_height*u_skirt_height*wireframeOffset;\n#endif\nvec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);\n#ifdef FOG\n#ifdef ZERO_EXAGGERATION\nv_fog_pos=fog_position(decodedPos);\n#else\nv_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));\n#endif\n#endif\n#ifdef RENDER_SHADOWS\nvec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;\n#endif\n}"),terrainDepth:pn("#ifdef GL_ES\nprecision highp float;\n#endif\nvarying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:pn("\nvarying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(\ncos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;\n#ifdef FOG\nsky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);\n#endif\nsky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",en),skyboxGradient:pn("varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));\n#ifdef FOG\ncolor.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;\n#endif\ncolor*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}",en),skyboxCapture:pn("\nvarying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;\n#ifdef GL_ES\nprecision highp float;\n#endif\n#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)\n#define BETA_M                  vec3(21e-6,21e-6,21e-6)\n#define MIE_G                   0.76\n#define DENSITY_HEIGHT_SCALE_R  8000.0\n#define DENSITY_HEIGHT_SCALE_M  1200.0\n#define PLANET_RADIUS           6360e3\n#define ATMOSPHERE_RADIUS       6420e3\n#define SAMPLE_STEPS            10\n#define DENSITY_STEPS           4\nfloat ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}","attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:pn("uniform sampler2D u_image0;varying vec2 v_pos0;\n#ifndef FOG\nuniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;\n#endif\nvoid main() {vec4 color;\n#ifdef CUSTOM_ANTIALIASING\nvec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);\n#else\ncolor=texture2D(u_image0,v_pos0);\n#endif\n#ifdef FOG\ncolor=fog_dither(fog_apply_premultiplied(color,v_fog_pos));\n#endif\ngl_FragColor=color;\n#ifdef TERRAIN_WIREFRAME\ngl_FragColor=vec4(1.0,0.0,0.0,0.8);\n#endif\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;\n#ifdef GLOBE_POLES\nattribute vec3 a_globe_pos;attribute vec2 a_uv;\n#else\nattribute vec2 a_pos;\n#endif\nvarying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {\n#ifdef GLOBE_POLES\nvec3 globe_pos=a_globe_pos;vec2 uv=a_uv;\n#else\nfloat tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);\n#endif\nv_pos0=uv;vec2 tile_pos=uv*EXTENT;\n#ifdef GLOBE_POLES\nvec3 up_vector=normalize(globe_pos)*u_tile_up_scale;\n#else\nvec3 up_vector=elevationVector(tile_pos);\n#endif\nfloat height=elevation(tile_pos);\n#ifdef TERRAIN_WIREFRAME\nheight+=wireframeOffset;\n#endif\nglobe_pos+=up_vector*height;\n#ifdef GLOBE_POLES\nvec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);\n#else\nvec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);\n#endif\ngl_Position=u_proj_matrix*interpolated_pos;\n#ifdef FOG\nv_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);\n#endif\n}"),globeAtmosphere:pn("uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;\n#ifdef PROJECTION_GLOBE_VIEW\nglobe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}\n#endif\nhighp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?\n0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;\n#ifdef PROJECTION_GLOBE_VIEW\nhighp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?\nPI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);\n#else\nhorizon_angle=horizon_angle_mercator;\n#endif\nhorizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:\n(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:\nuv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}","attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(\nmix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(\nmix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}")};function dn(e,t){const n=e.replace(/\s*\/\/[^\n]*\n/g,"\n").split("\n");for(let e of n)if(e=e.trim(),"#"===e[0]&&e.includes("if")&&!e.includes("endif")){e=e.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const n=e.split(" ");for(const e of n)t.includes(e)||t.push(e)}}function pn(e,t){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i=t.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),r={},o=[...sn];return dn(e,o),dn(t,o),{fragmentSource:e=e.replace(n,(e,t,n,i,o)=>(r[o]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nvarying ${n} ${i} ${o};\n#else\nuniform ${n} ${i} u_${o};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${o}\n    ${n} ${i} ${o} = u_${o};\n#endif\n`)),vertexSource:t=t.replace(n,(e,t,n,i,o)=>{const a="float"===i?"vec2":"vec4",s=o.match(/color/)?"color":a;return r[o]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nuniform lowp float u_${o}_t;\nattribute ${n} ${a} a_${o};\nvarying ${n} ${i} ${o};\n#else\nuniform ${n} ${i} u_${o};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${o}\n    ${o} = a_${o};\n#else\n    ${n} ${i} ${o} = u_${o};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${o}\n    ${o} = unpack_mix_${s}(a_${o}, u_${o}_t);\n#else\n    ${n} ${i} ${o} = u_${o};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${o}\nuniform lowp float u_${o}_t;\nattribute ${n} ${a} a_${o};\n#else\nuniform ${n} ${i} u_${o};\n#endif\n`:"vec4"===s?`\n#ifndef HAS_UNIFORM_u_${o}\n    ${n} ${i} ${o} = a_${o};\n#else\n    ${n} ${i} ${o} = u_${o};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${o}\n    ${n} ${i} ${o} = unpack_mix_${s}(a_${o}, u_${o}_t);\n#else\n    ${n} ${i} ${o} = u_${o};\n#endif\n`}),staticAttributes:i,usedDefines:o}}class fn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(e,t,n,i,r,o,a){this.context=e;let s=this.boundPaintVertexBuffers.length!==i.length;for(let e=0;!s&&e<i.length;e++)this.boundPaintVertexBuffers[e]!==i[e]&&(s=!0);let l=this.boundDynamicVertexBuffers.length!==a.length;for(let e=0;!l&&e<a.length;e++)this.boundDynamicVertexBuffers[e]!==a[e]&&(l=!0);if(!e.extVertexArrayObject||!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||s||l||this.boundIndexBuffer!==r||this.boundVertexOffset!==o)this.freshBind(t,n,i,r,o,a);else{e.bindVertexArrayOES.set(this.vao);for(const e of a)e&&e.bind();r&&r.dynamicDraw&&r.bind()}}freshBind(e,t,n,i,r,o){let a;const s=e.numAttributes,l=this.context,c=l.gl;if(l.extVertexArrayObject)this.vao&&this.destroy(),this.vao=l.extVertexArrayObject.createVertexArrayOES(),l.bindVertexArrayOES.set(this.vao),a=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=i,this.boundVertexOffset=r,this.boundDynamicVertexBuffers=o;else{a=l.currentNumAttributes||0;for(let e=s;e<a;e++)c.disableVertexAttribArray(e)}t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of n)t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r);for(const t of o)t&&(t.enableAttributes(c,e),t.bind(),t.setVertexAttribPointers(c,e,r));i&&i.bind(),l.currentNumAttributes=s}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function mn(t,n){const i=Math.pow(2,n.canonical.z),r=n.canonical.y;return[new e.MercatorCoordinate(0,r/i).toLngLat().lat,new e.MercatorCoordinate(0,(r+1)/i).toLngLat().lat]}function gn(t,n,i,r,o,a,s){const l=t.context,c=l.gl,u=i.fbo;if(!u)return;t.prepareDrawTile();const h=t.useProgram("hillshade");l.activeTexture.set(c.TEXTURE0),c.bindTexture(c.TEXTURE_2D,u.colorAttachment.get());const d=((e,t,n,i)=>{const r=n.paint.get("hillshade-shadow-color"),o=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color");let s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);const l=!e.options.moving;return{u_matrix:i||e.transform.calculateProjMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:mn(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:r,u_highlight:o,u_accent:a}})(t,i,r,t.terrain?n.projMatrix:null);t.prepareDrawProgram(l,h,n.toUnwrapped());const{tileBoundsBuffer:p,tileBoundsIndexBuffer:f,tileBoundsSegments:m}=t.getTileBoundsBuffers(i);h.draw(l,c.TRIANGLES,o,a,s,e.CullFaceMode.disabled,d,r.id,p,f,m)}function yn(t,n,i){if(!n.needsDEMTextureUpload)return;const r=t.context,o=r.gl;r.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(i.stride);const a=i.getPixels();n.demTexture?n.demTexture.update(a,{premultiply:!1}):n.demTexture=new e.Texture(r,a,o.RGBA,{premultiply:!1}),n.needsDEMTextureUpload=!1}function _n(t,n,i,r,o,a){const s=t.context,l=s.gl;if(!n.dem)return;const c=n.dem;if(s.activeTexture.set(l.TEXTURE1),yn(t,n,c),!n.demTexture)return;n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);const u=c.dim;s.activeTexture.set(l.TEXTURE0);let h=n.fbo;if(!h){const t=new e.Texture(s,{width:u,height:u,data:null},l.RGBA);t.bind(l.LINEAR,l.CLAMP_TO_EDGE),h=n.fbo=s.createFramebuffer(u,u,!0),h.colorAttachment.set(t.texture)}s.bindFramebuffer.set(h.framebuffer),s.viewport.set([0,0,u,u]);const{tileBoundsBuffer:d,tileBoundsIndexBuffer:p,tileBoundsSegments:f}=t.getMercatorTileBoundsBuffers();t.useProgram("hillshadePrepare").draw(s,l.TRIANGLES,r,o,a,e.CullFaceMode.disabled,((t,n)=>{const i=n.stride,r=e.create();return e.ortho(r,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(r,r,[0,-e.EXTENT,0]),{u_matrix:r,u_image:1,u_dimension:[i,i],u_zoom:t.overscaledZ,u_unpack:n.unpackVector}})(n.tileID,c),i.id,d,p,f),n.needsHillshadePrepare=!1}const vn=t=>({u_matrix:new e.UniformMatrix4f(t),u_image0:new e.Uniform1i(t),u_skirt_height:new e.Uniform1f(t)}),xn=(e,t)=>({u_matrix:e,u_image0:0,u_skirt_height:t}),bn=(e,t,n,i,r,o,a,s,l,c,u,h,d,p)=>({u_proj_matrix:Float32Array.from(e),u_globe_matrix:t,u_normalize_matrix:Float32Array.from(i),u_merc_matrix:n,u_zoom_transition:r,u_merc_center:o,u_image0:0,u_frustum_tl:a,u_frustum_tr:s,u_frustum_br:l,u_frustum_bl:c,u_globe_pos:u,u_globe_radius:h,u_viewport:d,u_grid_matrix:p?Float32Array.from(p):new Float32Array(9)});function wn(e,t){return null!=e&&null!=t&&!(!e.hasData()||!t.hasData())&&null!=e.demTexture&&null!=t.demTexture&&e.tileID.key!==t.tileID.key}const Tn=new class{constructor(){this.operations={}}newMorphing(e,t,n,i,r){if(e in this.operations){const t=this.operations[e];t.to.tileID.key!==n.tileID.key&&(t.queued=n)}else this.operations[e]={startTime:i,phase:0,duration:r,from:t,to:n,queued:null}}getMorphValuesForProxy(e){if(!(e in this.operations))return null;const t=this.operations[e];return{from:t.from,to:t.to,phase:t.phase}}update(e){for(const t in this.operations){const n=this.operations[t];for(n.phase=(e-n.startTime)/n.duration;n.phase>=1||!this._validOp(n);)if(!this._nextOp(n,e)){delete this.operations[t];break}}}_nextOp(e,t){return!!e.queued&&(e.from=e.to,e.to=e.queued,e.queued=null,e.phase=0,e.startTime=t,!0)}_validOp(e){return e.from.hasData()&&e.to.hasData()}},En={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Sn(e,t){const n=1<<e.z;return!t&&(0===e.x||e.x===n-1)||0===e.y||e.y===n-1}const Mn=e=>({u_matrix:e});function In(t,n,i,r,o){if(o>0){const a=e.exported.now(),s=(a-t.timeAdded)/o,l=n?(a-n.timeAdded)/o:-1,c=i.getSource(),u=r.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!n||Math.abs(n.tileID.overscaledZ-u)>Math.abs(t.tileID.overscaledZ-u),d=h&&t.refreshedUponExpiration?1:e.clamp(h?s:1-l,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}class Cn extends e.SourceCache{constructor(e){const t={type:"raster-dem",maxzoom:e.transform.maxZoom},n=new z(Ue(),null),i=ze("mock-dem",t,n,e.style);super("mock-dem",i,!1),i.setEventedParent(this),this._sourceLoaded=!0}_loadTile(e,t){e.state="loaded",t(null)}}class kn extends e.SourceCache{constructor(e){const t=ze("proxy",{type:"geojson",maxzoom:e.transform.maxZoom},new z(Ue(),null),e.style);super("proxy",t,!1),t.setEventedParent(this),this.map=this.getSource().map=e,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(t,n,i){if(t.freezeTileCoverage)return;this.transform=t;const r=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((n,i)=>{if(n[i.key]="",!this._tiles[i.key]){const n=new e.Tile(i,this._source.tileSize*i.overscaleFactor(),t.tileZoom);n.state="loaded",this._tiles[i.key]=n}return n},{});for(const e in this._tiles)e in r||(this.freeFBO(e),this._tiles[e].unloadVectorData(),delete this._tiles[e])}freeFBO(e){const t=this.proxyCachedFBO[e];if(void 0!==t){const n=Object.values(t);this.renderCachePool.push(...n),delete this.proxyCachedFBO[e]}}deallocRenderCache(){this.renderCache.forEach(e=>e.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class An extends e.OverscaledTileID{constructor(e,t,n){super(e.overscaledZ,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y),this.proxyTileKey=t,this.projMatrix=n}}class Pn extends e.Elevation{constructor(t,n){super(),this.painter=t,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[i,r,o]=function(t){const n=new e.StructArrayLayout4i8,i=new e.StructArrayLayout3ui6,r=131;n.reserve(17161),i.reserve(33800);const o=e.EXTENT/128,a=e.EXTENT+o/2,s=a+o;for(let t=-o;t<s;t+=o)for(let i=-o;i<s;i+=o){const r=i<0||i>a||t<0||t>a?24575:0,o=e.clamp(Math.round(i),0,e.EXTENT),s=e.clamp(Math.round(t),0,e.EXTENT);n.emplaceBack(o+r,s,o,s)}const l=(e,t)=>{const n=t*r+e;i.emplaceBack(n+1,n,n+r),i.emplaceBack(n+r,n+r+1,n+1)};for(let e=1;e<129;e++)for(let t=1;t<129;t++)l(t,e);return[0,129].forEach(e=>{for(let t=0;t<130;t++)l(t,e),l(e,t)}),[n,i,32768]}(),a=t.context;this.gridBuffer=a.createVertexBuffer(i,e.boundsAttributes.members),this.gridIndexBuffer=a.createIndexBuffer(r),this.gridSegments=e.SegmentVector.simpleSegment(0,0,i.length,r.length),this.gridNoSkirtSegments=e.SegmentVector.simpleSegment(0,0,i.length,o),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new kn(n.map),this.orthoMatrix=e.create(),e.ortho(this.orthoMatrix,"globe"===this.painter.transform.projection.name?.015:0,e.EXTENT,0,e.EXTENT,0,1);const s=a.gl;this._overlapStencilMode=new e.StencilMode({func:s.GEQUAL,mask:255},0,255,s.KEEP,s.KEEP,s.REPLACE),this._previousZoom=t.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=n,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Cn(n.map)}set style(e){e.on("data",this._onStyleDataEvent.bind(this)),e.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=e,this._checkRenderCacheEfficiency()}update(t,n,i){if(t&&t.terrain){this._style!==t&&(this.style=t),this.enabled=!0;const r=t.terrain.properties;this.sourceCache=0===t.terrain.drapeRenderMode?this._mockSourceCache:t._getSourceCache(r.get("source")),this._exaggeration=r.get("exaggeration");const o=()=>{this.sourceCache.used&&e.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.\nThis leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const t=this.getScaledDemTileSize();this.sourceCache.update(n,t,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,o(),this._initializing=!0),o(),n.updateElevation(!0,i),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(n),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(e){this._findCoveringTileCache[e]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const t=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||100!==t.efficiency&&e.warnOnce(`Terrain render cache efficiency is not optimal (${t.efficiency}%) and performance\n                may be affected negatively, consider placing all background, fill and line layers before layer\n                with id '${t.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(e){e.coord&&"source"===e.dataType?this._clearRenderCacheForTile(e.sourceCacheId,e.coord):"style"===e.dataType&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const e in this._style._sourceCaches)this._style._sourceCaches[e].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(e=>e.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const e=2*this.proxySourceCache.getSource().tileSize;return[e,e]}set useVertexMorphing(e){this._useVertexMorphing=e}updateTileBinding(t){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const n=this.proxySourceCache,i=this.painter.transform;this._initializing&&(this._initializing=0===i._centerAltitude&&-1===this.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(i.center),-1),this._emptyDEMTextureDirty=!this._initializing);const r=this.proxyCoords=n.getIds().map(e=>{const t=n.getTileByID(e).tileID;return t.projMatrix=i.calculateProjMatrix(t.toUnwrapped()),t});!function(t,n){const i=n.transform.pointCoordinate(n.transform.getCameraPoint()),r=new e.pointGeometry(i.x,i.y);t.sort((t,n)=>{if(n.overscaledZ-t.overscaledZ)return n.overscaledZ-t.overscaledZ;const i=new e.pointGeometry(t.canonical.x+(1<<t.canonical.z)*t.wrap,t.canonical.y),o=new e.pointGeometry(n.canonical.x+(1<<n.canonical.z)*n.wrap,n.canonical.y),a=r.mult(1<<t.canonical.z);return a.x-=.5,a.y-=.5,a.distSqr(i)-a.distSqr(o)})}(r,this.painter),this._previousZoom=i.zoom;const o=this.proxyToSource||{};this.proxyToSource={},r.forEach(e=>{this.proxyToSource[e.key]={}}),this.terrainTileForTile={};const a=this._style._sourceCaches;for(const e in a){const n=a[e];if(!n.used)continue;if(n!==this.sourceCache&&this.resetTileLookupCache(n.id),this._setupProxiedCoordsForOrtho(n,t[e],o),n.usedForTerrain)continue;const i=t[e];n.getSource().reparseOverscaled&&this._assignTerrainTiles(i)}this.proxiedCoords[n.id]=r.map(e=>new An(e,e.key,this.orthoMatrix)),this._assignTerrainTiles(r),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(o),this.renderingToTexture=!1,this._updateTimestamp=e.exported.now();const s={};this._visibleDemTiles=[];for(const e of this.proxyCoords){const t=this.terrainTileForTile[e.key];if(!t)continue;const n=t.tileID.key;n in s||(this._visibleDemTiles.push(t),s[n]=n)}}_assignTerrainTiles(e){this._initializing||e.forEach(e=>{if(this.terrainTileForTile[e.key])return;const t=this._findTileCoveringTileID(e,this.sourceCache);t&&(this.terrainTileForTile[e.key]=t)})}_prepareDEMTextures(){const e=this.painter.context,t=e.gl;for(const n in this.terrainTileForTile){const i=this.terrainTileForTile[n],r=i.dem;!r||i.demTexture&&!i.needsDEMTextureUpload||(e.activeTexture.set(t.TEXTURE1),yn(this.painter,i,r))}}_prepareDemTileUniforms(e,t,n,i){if(!t||null==t.demTexture)return!1;const r=e.tileID.canonical,o=Math.pow(2,t.tileID.canonical.z-r.z),a=i||"";return n["u_dem_tl"+a]=[r.x*o%1,r.y*o%1],n["u_dem_scale"+a]=o,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const t=this.painter.context,n=t.gl;if(!this._emptyDepthBufferTexture){const i=new e.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new e.Texture(t,i,n.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let e=0;const t=this._visibleDemTiles.reduce((t,n)=>{if(!n.dem)return t;const i=n.dem.tree.minimums[0];return i>0&&e++,t+i},0);return e?t/e:0}_updateEmptyDEMTexture(){const t=this.painter.context,n=t.gl;t.activeTexture.set(n.TEXTURE2);const i=this._getLoadedAreaMinimum(),r=new e.RGBAImage({width:1,height:1},new Uint8Array(e.DEMData.pack(i,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let o=this._emptyDEMTexture;return o?o.update(r,{premultiply:!1}):o=this._emptyDEMTexture=new e.Texture(t,r,n.RGBA,{premultiply:!1}),o}setupElevationDraw(t,n,i){const r=this.painter.context,o=r.gl,a=(s=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:e.DEMData.getUnpackVector(s),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var s;a.u_dem_size=this.sourceCache.getSource().tileSize,a.u_exaggeration=this.exaggeration();let l=null,c=null,u=1;if(i&&i.morphing&&this._useVertexMorphing){const e=i.morphing.srcDemTile,n=i.morphing.dstDemTile;u=i.morphing.phase,e&&n&&(this._prepareDemTileUniforms(t,e,a,"_prev")&&(c=e),this._prepareDemTileUniforms(t,n,a)&&(l=n))}if(c&&l?(r.activeTexture.set(o.TEXTURE2),l.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),r.activeTexture.set(o.TEXTURE4),c.demTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE,o.NEAREST),a.u_dem_lerp=u):(l=this.terrainTileForTile[t.tileID.key],r.activeTexture.set(o.TEXTURE2),(this._prepareDemTileUniforms(t,l,a)?l.demTexture:this.emptyDEMTexture).bind(o.NEAREST,o.CLAMP_TO_EDGE)),r.activeTexture.set(o.TEXTURE3),i&&i.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),this._depthFBO&&(a.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(o.NEAREST,o.CLAMP_TO_EDGE),a.u_depth_size_inv=[1,1]),i&&i.useMeterToDem&&l){const t=(1<<l.tileID.canonical.z)*e.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;a.u_meter_to_dem=t}if(i&&i.labelPlaneMatrixInv&&(a.u_label_plane_matrix_inv=i.labelPlaneMatrixInv),n.setTerrainUniformValues(r,a),"globe"===this.painter.transform.projection.name){const e=this.globeUniformValues(this.painter.transform,t.tileID.canonical,i&&i.useDenormalizedUpVectorScale);n.setGlobeUniformValues(r,e)}}globeUniformValues(t,n,i){const r=t.projection;return{u_tile_tl_up:r.upVector(n,0,0),u_tile_tr_up:r.upVector(n,e.EXTENT,0),u_tile_br_up:r.upVector(n,e.EXTENT,e.EXTENT),u_tile_bl_up:r.upVector(n,0,e.EXTENT),u_tile_up_scale:i?e.GLOBE_METERS_TO_ECEF:r.upVectorScale(n,t.center.lat,t.worldSize).metersToTile}}renderToBackBuffer(t){const n=this.painter,i=this.painter.context;0!==t.length&&(i.bindFramebuffer.set(null),i.viewport.set([0,0,n.width,n.height]),n.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(t,n,i,r,o){if("globe"===t.transform.projection.name)!function(t,n,i,r,o){const a=t.context,s=a.gl;let l,c;const u=t.options.showTerrainWireframe?2:0,h=t.transform,d=e.globeUseCustomAntiAliasing(t,a,h),p=(e,n)=>{if(c===e)return;const i=[En[e],"PROJECTION_GLOBE_VIEW"];d&&i.push("CUSTOM_ANTIALIASING"),n&&i.push(En[u]),l=t.useProgram("globeRaster",null,i),c=e},f=t.colorModeForRenderPass(),m=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Tn.update(o);const g=e.calculateGlobeMercatorMatrix(h),y=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],_=u?[!1,!0]:[!1],v=t.globeSharedBuffers,x=[h.width*e.exported.devicePixelRatio,h.height*e.exported.devicePixelRatio],b=Float32Array.from(h.globeMatrix),w={useDenormalizedUpVectorScale:!0};if(_.forEach(u=>{c=-1;const d=u?s.LINES:s.TRIANGLES;for(const c of r){const r=i.getTile(c),_=e.StencilMode.disabled,T=n.prevTerrainTileForTile[c.key],E=n.terrainTileForTile[c.key];wn(T,E)&&Tn.newMorphing(c.key,T,E,o,250),a.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);const S=Tn.getMorphValuesForProxy(c.key),M=S?1:0;S&&e.extend$1(w,{morphing:{srcDemTile:S.from,dstDemTile:S.to,phase:e.easeCubicInOut(S.phase)}});const I=e.tileCornersToBounds(c.canonical),C=e.getLatitudinalLod(I.getCenter().lat),k=e.getGridMatrix(c.canonical,I,C,h.worldSize/h._pixelsPerMercatorPixel),A=e.globeNormalizeECEF(e.globeTileBounds(c.canonical)),P=bn(h.projMatrix,b,g,A,e.globeToMercatorTransition(h.zoom),y,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,x,k);if(p(M,u),n.setupElevationDraw(r,l,w),t.prepareDrawProgram(a,l,c.toUnwrapped()),v){const[n,i,r]=u?v.getWirefameBuffers(t.context,C):v.getGridBuffers(C);l.draw(a,d,m,_,f,e.CullFaceMode.backCCW,P,"globe_raster",n,i,r)}}}),v){const o=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];d&&o.push("CUSTOM_ANTIALIASING"),l=t.useProgram("globeRaster",null,o);for(const o of r){const{x:r,y:c,z:u}=o.canonical,d=0===c,p=c===(1<<u)-1,[g,_,b,T]=v.getPoleBuffers(u);if(T&&(d||p)){const c=i.getTile(o);a.activeTexture.set(s.TEXTURE0),c.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE);let v=e.globePoleMatrixForTile(u,r,h);const E=e.globeNormalizeECEF(e.globeTileBounds(o.canonical)),S=(t,n)=>t.draw(a,s.TRIANGLES,m,e.StencilMode.disabled,f,e.CullFaceMode.disabled,bn(h.projMatrix,v,v,E,0,y,h.frustumCorners.TL,h.frustumCorners.TR,h.frustumCorners.BR,h.frustumCorners.BL,h.globeCenterInViewSpace,h.globeRadius,x),"globe_pole_raster",n,b,T);n.setupElevationDraw(c,l,w),t.prepareDrawProgram(a,l,o.toUnwrapped()),d&&S(l,g),p&&(v=e.scale(e.create(),v,[1,-1,1]),S(l,_))}}}}(t,n,i,r,o);else{const a=t.context,s=a.gl;let l,c;const u=t.options.showTerrainWireframe?2:0,h=(e,n)=>{if(c===e)return;const i=[En[e]];n&&i.push(En[u]),l=t.useProgram("terrainRaster",null,i),c=e},d=t.colorModeForRenderPass(),p=new e.DepthMode(s.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);Tn.update(o);const f=t.transform,m=6*Math.pow(1.5,22-f.zoom)*n.exaggeration();(u?[!1,!0]:[!1]).forEach(u=>{c=-1;const g=u?s.LINES:s.TRIANGLES,[y,_]=u?n.getWirefameBuffer():[n.gridIndexBuffer,n.gridSegments];for(const c of r){const r=i.getTile(c),v=e.StencilMode.disabled,x=n.prevTerrainTileForTile[c.key],b=n.terrainTileForTile[c.key];wn(x,b)&&Tn.newMorphing(c.key,x,b,o,250),a.activeTexture.set(s.TEXTURE0),r.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);const w=Tn.getMorphValuesForProxy(c.key),T=w?1:0;let E;w&&(E={morphing:{srcDemTile:w.from,dstDemTile:w.to,phase:e.easeCubicInOut(w.phase)}});const S=xn(c.projMatrix,Sn(c.canonical,f.renderWorldCopies)?m/10:m);h(T,u),n.setupElevationDraw(r,l,E),t.prepareDrawProgram(a,l,c.toUnwrapped()),l.draw(a,g,p,v,d,e.CullFaceMode.backCCW,S,"terrain_raster",n.gridBuffer,y,_)}})}}(n,this,this.proxySourceCache,t,this._updateTimestamp),this.renderingToTexture=!0,n.gpuTimingDeferredRenderEnd(),t.splice(0,t.length))}renderBatch(t){if(0===this._drapedRenderBatches.length)return t+1;this.renderingToTexture=!0;const n=this.painter,i=this.painter.context,r=this.proxySourceCache,o=this.proxiedCoords[r.id],a=this._drapedRenderBatches.shift(),s=[],l=n.style.order;let c=0;for(const u of o){const o=r.getTileByID(u.proxyTileKey),h=r.proxyCachedFBO[u.key]?r.proxyCachedFBO[u.key][t]:void 0,d=void 0!==h?r.renderCache[h]:this.pool[c++],p=void 0!==h;if(o.texture=d.tex,p&&!d.dirty){s.push(o.tileID);continue}let f;i.bindFramebuffer.set(d.fb.framebuffer),this.renderedToTile=!1,d.dirty&&(i.clear({color:e.Color.transparent,stencil:0}),d.dirty=!1);for(let e=a.start;e<=a.end;++e){const t=n.style._layers[l[e]];if(t.isHidden(n.transform.zoom))continue;const r=n.style._getLayerSourceCache(t),o=r?this.proxyToSource[u.key][r.id]:[u];if(!o)continue;const a=o;i.viewport.set([0,0,d.fb.width,d.fb.height]),f!==(r?r.id:null)&&(this._setupStencil(d,o,t,r),f=r?r.id:null),n.renderLayer(n,r,t,a)}this.renderedToTile?(d.dirty=!0,s.push(o.tileID)):p||--c,5===c&&(c=0,this.renderToBackBuffer(s))}return this.renderToBackBuffer(s),this.renderingToTexture=!1,i.bindFramebuffer.set(null),i.viewport.set([0,0,n.width,n.height]),a.end+1}postRender(){}renderCacheEfficiency(e){const t=e.order.length;if(0===t)return{efficiency:100};let n,i=0,r=0,o=!1;for(let a=0;a<t;++a){const t=e._layers[e.order[a]];this._style.isLayerDraped(t)?(o&&++i,++r):o||(o=!0,n=t.id)}return 0===r?{efficiency:100}:{efficiency:100*(1-i/r),firstUndrapedLayer:n}}getMinElevationBelowMSL(){let e=0;return this._visibleDemTiles.filter(e=>e.dem).forEach(t=>{e=Math.min(e,t.dem.tree.minimums[0])}),0===e?e:(e-30)*this._exaggeration}raycast(e,t,n){if(!this._visibleDemTiles)return null;const i=this._visibleDemTiles.filter(e=>e.dem).map(i=>{const r=i.tileID,o=1<<r.overscaledZ,{x:a,y:s}=r.canonical,l=a/o,c=(a+1)/o,u=s/o,h=(s+1)/o;return{minx:l,miny:u,maxx:c,maxy:h,t:i.dem.tree.raycastRoot(l,u,c,h,e,t,n),tile:i}});i.sort((e,t)=>(null!==e.t?e.t:Number.MAX_VALUE)-(null!==t.t?t.t:Number.MAX_VALUE));for(const r of i){if(null==r.t)return null;const i=r.tile.dem.tree.raycast(r.minx,r.miny,r.maxx,r.maxy,e,t,n);if(null!=i)return i}return null}_createFBO(){const t=this.painter.context,n=t.gl,i=this.drapeBufferSize;t.activeTexture.set(n.TEXTURE0);const r=new e.Texture(t,{width:i[0],height:i[1],data:null},n.RGBA);r.bind(n.LINEAR,n.CLAMP_TO_EDGE);const o=t.createFramebuffer(i[0],i[1],!1);return o.colorAttachment.set(r.texture),o.depthAttachment=new Ee(t,o.framebuffer),void 0===this._sharedDepthStencil?(this._sharedDepthStencil=t.createRenderbuffer(t.gl.DEPTH_STENCIL,i[0],i[1]),this._stencilRef=0,o.depthAttachment.set(this._sharedDepthStencil),t.clear({stencil:0})):o.depthAttachment.set(this._sharedDepthStencil),t.extTextureFilterAnisotropic&&!t.extTextureFilterAnisotropicForceOff&&n.texParameterf(n.TEXTURE_2D,t.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,t.extTextureFilterAnisotropicMax),{fb:o,tex:r,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const e in this._style._sourceCaches)if(this._style._sourceCaches[e].hasTransition())return!0;return this._style.order.some(e=>{const t=this._style._layers[e],n=t.isHidden(this.painter.transform.zoom);return"custom"!==t.type&&!n&&t.hasTransition()})}_clearRasterFadeFromRenderCache(){let e=!1;for(const t in this._style._sourceCaches)if(this._style._sourceCaches[t]._source instanceof Ie){e=!0;break}if(e)for(let e=0;e<this._style.order.length;++e){const t=this._style._layers[this._style.order[e]],n=t.isHidden(this.painter.transform.zoom),i=this._style._getLayerSourceCache(t);if("raster"!==t.type||n||!i)continue;const r=t.paint.get("raster-fade-duration");for(const e of this.proxyCoords){const t=this.proxyToSource[e.key][i.id];if(t)for(const e of t){const t=In(i.getTile(e),i.findLoadedParent(e,0),i,this.painter.transform,r);(1!==t.opacity||0!==t.mix)&&this._clearRenderCacheForTile(i.id,e)}}}}_setupDrapedRenderBatches(){const e=this._style.order,t=e.length;if(0===t)return;const n=[];let i,r=0,o=this._style._layers[e[r]];for(;!this._style.isLayerDraped(o)&&o.isHidden(this.painter.transform.zoom)&&++r<t;)o=this._style._layers[e[r]];for(;r<t;++r){const t=this._style._layers[e[r]];t.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(t)?void 0===i&&(i=r):void 0!==i&&(n.push({start:i,end:r-1}),i=void 0))}void 0!==i&&n.push({start:i,end:r-1}),this._drapedRenderBatches=n}_setupRenderCache(e){const t=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,t.renderCache.length>t.renderCachePool.length){const e=Object.values(t.proxyCachedFBO);t.proxyCachedFBO={};for(let n=0;n<e.length;++n){const i=Object.values(e[n]);t.renderCachePool.push(...i)}}return}this._clearRasterFadeFromRenderCache();const n=this.proxyCoords,i=this._tilesDirty;for(let r=n.length-1;r>=0;r--){const o=n[r];if(t.getTileByID(o.key),void 0!==t.proxyCachedFBO[o.key]){const n=e[o.key],r=this.proxyToSource[o.key];let a=0;for(const e in r){const t=r[e],o=n[e];if(!o||o.length!==t.length||t.some((t,n)=>t!==o[n]||i[e]&&i[e].hasOwnProperty(t.key))){a=-1;break}++a}for(const e in t.proxyCachedFBO[o.key])t.renderCache[t.proxyCachedFBO[o.key][e]].dirty=a<0||a!==Object.values(n).length}}const r=[...this._drapedRenderBatches];r.sort((e,t)=>t.end-t.start-(e.end-e.start));for(const e of r)for(const i of n){if(t.proxyCachedFBO[i.key])continue;let n=t.renderCachePool.pop();void 0===n&&t.renderCache.length<50&&(n=t.renderCache.length,t.renderCache.push(this._createFBO())),void 0!==n&&(t.proxyCachedFBO[i.key]={},t.proxyCachedFBO[i.key][e.start]=n,t.renderCache[n].dirty=!0)}this._tilesDirty={}}_setupStencil(e,t,n,i){if(!i||!this._sourceTilesOverlap[i.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const r=this.painter.context,o=r.gl;if(t.length<=1)return void(this._overlapStencilType=!1);let a;if(n.isTileClipped())a=t.length,this._overlapStencilMode.test={func:o.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(t[0].overscaledZ>t[t.length-1].overscaledZ))return void(this._overlapStencilType=!1);a=1,this._overlapStencilMode.test={func:o.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+a>255&&(r.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=a,this._overlapStencilMode.ref=this._stencilRef,n.isTileClipped()&&this._renderTileClippingMasks(t,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return"Clip"===this._overlapStencilType||"Mask"===this._overlapStencilType}stencilModeForRTTOverlap(t){return this.renderingToTexture&&this._overlapStencilType?("Clip"===this._overlapStencilType&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[t.key]),this._overlapStencilMode):e.StencilMode.disabled}_renderTileClippingMasks(t,n){const i=this.painter,r=this.painter.context,o=r.gl;i._tileClippingMaskIDs={},r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const a=i.useProgram("clippingMask");for(const s of t){const t=i._tileClippingMaskIDs[s.key]=--n;a.draw(r,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},t,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Mn(s.projMatrix),"$clipping",i.tileExtentBuffer,i.quadTriangleIndexBuffer,i.tileExtentSegments)}}pointCoordinate(t){const n=this.painter.transform;if(t.x<0||t.x>n.width||t.y<0||t.y>n.height)return null;const i=[t.x,t.y,1,1];e.transformMat4$1(i,i,n.pixelMatrixInverse),e.scale$1(i,i,1/i[3]),i[0]/=n.worldSize,i[1]/=n.worldSize;const r=n._camera.position,o=e.mercatorZfromAltitude(1,n.center.lat),a=[r[0],r[1],r[2]/o,0],s=e.subtract([],i.slice(0,3),a);e.normalize(s,s);const l=this.raycast(a,s,this._exaggeration);return null!==l&&l?(e.scaleAndAdd(a,a,s,l),a[3]=a[2],a[2]*=o,a):null}drawDepth(){const t=this.painter,n=t.context,i=this.proxySourceCache,r=Math.ceil(t.width),o=Math.ceil(t.height);if(!this._depthFBO||this._depthFBO.width===r&&this._depthFBO.height===o||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const t=n.gl,i=n.createFramebuffer(r,o,!0);n.activeTexture.set(t.TEXTURE0);const a=new e.Texture(n,{width:r,height:o,data:null},t.RGBA);a.bind(t.NEAREST,t.CLAMP_TO_EDGE),i.colorAttachment.set(a.texture);const s=n.createRenderbuffer(n.gl.DEPTH_COMPONENT16,r,o);i.depthAttachment.set(s),this._depthFBO=i,this._depthTexture=a}n.bindFramebuffer.set(this._depthFBO.framebuffer),n.viewport.set([0,0,r,o]),function(t,n,i,r){if("globe"===t.transform.projection.name)return;const o=t.context,a=o.gl;o.clear({depth:1});const s=t.useProgram("terrainDepth"),l=new e.DepthMode(a.LESS,e.DepthMode.ReadWrite,t.depthRangeFor3D);for(const t of r){const r=i.getTile(t),c=xn(t.projMatrix,0);n.setupElevationDraw(r,s),s.draw(o,a.TRIANGLES,l,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.backCCW,c,"terrain_depth",n.gridBuffer,n.gridIndexBuffer,n.gridNoSkirtSegments)}}(t,this,i,this.proxyCoords)}_setupProxiedCoordsForOrtho(e,t,n){if(e.getSource()instanceof Ae)return this._setupProxiedCoordsForImageSource(e,t,n);this._findCoveringTileCache[e.id]=this._findCoveringTileCache[e.id]||{};const i=this.proxiedCoords[e.id]=[],r=this.proxyCoords;for(let t=0;t<r.length;t++){const o=r[t],a=this._findTileCoveringTileID(o,e);if(a){const t=this._createProxiedId(o,a,n[o.key]&&n[o.key][e.id]);i.push(t),this.proxyToSource[o.key][e.id]=[t]}}let o=!1;for(let r=0;r<t.length;r++){const a=e.getTile(t[r]);if(!a||!a.hasData())continue;const s=this._findTileCoveringTileID(a.tileID,this.proxySourceCache);if(s&&s.tileID.canonical.z!==a.tileID.canonical.z){const t=this.proxyToSource[s.tileID.key][e.id],r=this._createProxiedId(s.tileID,a,n[s.tileID.key]&&n[s.tileID.key][e.id]);t?t.splice(t.length-1,0,r):this.proxyToSource[s.tileID.key][e.id]=[r],i.push(r),o=!0}}this._sourceTilesOverlap[e.id]=o}_setupProxiedCoordsForImageSource(t,n,i){if(!t.getSource().loaded())return;const r=this.proxiedCoords[t.id]=[],o=this.proxyCoords,a=t.getSource(),s=new e.pointGeometry(a.tileID.x,a.tileID.y)._div(1<<a.tileID.z),l=a.coordinates.map(e.MercatorCoordinate.fromLngLat).reduce((e,t)=>(e.min.x=Math.min(e.min.x,t.x-s.x),e.min.y=Math.min(e.min.y,t.y-s.y),e.max.x=Math.max(e.max.x,t.x-s.x),e.max.y=Math.max(e.max.y,t.y-s.y),e),{min:new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new e.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),c=(t,n)=>{const i=t.wrap+t.canonical.x/(1<<t.canonical.z),r=t.canonical.y/(1<<t.canonical.z),o=e.EXTENT/(1<<t.canonical.z),a=n.wrap+n.canonical.x/(1<<n.canonical.z),s=n.canonical.y/(1<<n.canonical.z);return i+o<a+l.min.x||i>a+l.max.x||r+o<s+l.min.y||r>s+l.max.y};for(let e=0;e<o.length;e++){const a=o[e];for(let e=0;e<n.length;e++){const o=t.getTile(n[e]);if(!o||!o.hasData())continue;if(c(a,o.tileID))continue;const s=this._createProxiedId(a,o,i[a.key]&&i[a.key][t.id]),l=this.proxyToSource[a.key][t.id];l?l.push(s):this.proxyToSource[a.key][t.id]=[s],r.push(s)}}}_createProxiedId(t,n,i){let r=this.orthoMatrix;if(i){const e=i.find(e=>e.key===n.tileID.key);if(e)return e}if(n.tileID.key!==t.key){const i=t.canonical.z-n.tileID.canonical.z;let o,a,s;r=e.create();const l=n.tileID.wrap-t.wrap<<t.overscaledZ;i>0?(o=e.EXTENT>>i,a=o*((n.tileID.canonical.x<<i)-t.canonical.x+l),s=o*((n.tileID.canonical.y<<i)-t.canonical.y)):(o=e.EXTENT<<-i,a=e.EXTENT*(n.tileID.canonical.x-(t.canonical.x+l<<-i)),s=e.EXTENT*(n.tileID.canonical.y-(t.canonical.y<<-i))),e.ortho(r,0,o,0,o,0,1),e.translate(r,r,[a,s,0])}return new An(n.tileID,t.key,r)}_findTileCoveringTileID(t,n){let i=n.getTile(t);if(i&&i.hasData())return i;const r=this._findCoveringTileCache[n.id],o=r[t.key];if(i=o?n.getTileByID(o):null,i&&i.hasData()||null===o)return i;let a=i?i.tileID:t,s=a.overscaledZ;const l=n.getSource().minzoom,c=[];if(!o){const r=n.getSource().maxzoom;if(t.canonical.z>=r){const i=t.canonical.z-r;n.getSource().reparseOverscaled?(s=Math.max(t.canonical.z+2,n.transform.tileZoom),a=new e.OverscaledTileID(s,t.wrap,r,t.canonical.x>>i,t.canonical.y>>i)):0!==i&&(s=r,a=new e.OverscaledTileID(s,t.wrap,r,t.canonical.x>>i,t.canonical.y>>i))}a.key!==t.key&&(c.push(a.key),i=n.getTile(a))}const u=e=>{c.forEach(t=>{r[t]=e}),c.length=0};for(s-=1;s>=l&&(!i||!i.hasData());s--){i&&u(i.tileID.key);const e=a.calculateScaledKey(s);if(i=n.getTileByID(e),i&&i.hasData())break;const t=r[e];if(null===t)break;void 0===t?c.push(e):i=n.getTileByID(t)}return u(i?i.tileID.key:null),i&&i.hasData()?i:null}findDEMTileFor(e){return this.enabled?this._findTileCoveringTileID(e,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(e,t){let n=this._tilesDirty[e];n||(n=this._tilesDirty[e]={}),n[t.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const t=function(t){let n=0;const i=new e.StructArrayLayout2ui4,r=131;for(let e=1;e<129;e++){for(let t=1;t<129;t++)n=e*r+t,i.emplaceBack(n,n+1),i.emplaceBack(n,n+r),i.emplaceBack(n+1,n+r),128===e&&i.emplaceBack(n+r,n+r+1);i.emplaceBack(n+1,n+1+r)}return i}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(t),this.wireframeSegments=e.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,t.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class zn{static cacheKey(e,t,n,i){let r=`${t}${i?i.cacheKey:""}`;for(const t of n)e.usedDefines.includes(t)&&(r+="/"+t);return r}constructor(t,n,i,r,o,a){const s=t.gl;this.program=s.createProgram();const l=function(e){const t=[];for(let n=0;n<e.length;n++){if(null===e[n])continue;const i=e[n].split(" ");t.push(i.pop())}return t}(i.staticAttributes),c=r?r.getBinderAttributes():[],u=l.concat(c);let h=r?r.defines():[];h=h.concat(a.map(e=>"#define "+e));const d=h.concat(t.extStandardDerivatives?"#extension GL_OES_standard_derivatives : enable\n".concat(un):un,un,cn,ln.fragmentSource,an.fragmentSource,i.fragmentSource).join("\n"),p=h.concat("\n#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif",cn,ln.vertexSource,an.vertexSource,on.vertexSource,i.vertexSource).join("\n"),f=s.createShader(s.FRAGMENT_SHADER);if(s.isContextLost())return void(this.failedToCreate=!0);s.shaderSource(f,d),s.compileShader(f),s.attachShader(this.program,f);const m=s.createShader(s.VERTEX_SHADER);if(s.isContextLost())this.failedToCreate=!0;else{s.shaderSource(m,p),s.compileShader(m),s.attachShader(this.program,m),this.attributes={},this.numAttributes=u.length;for(let e=0;e<this.numAttributes;e++)u[e]&&(s.bindAttribLocation(this.program,e,u[e]),this.attributes[u[e]]=e);s.linkProgram(this.program),s.deleteShader(m),s.deleteShader(f),this.fixedUniforms=o(t),this.binderUniforms=r?r.getUniforms(t):[],a.includes("TERRAIN")&&(this.terrainUniforms=(t=>({u_dem:new e.Uniform1i(t),u_dem_prev:new e.Uniform1i(t),u_dem_unpack:new e.Uniform4f(t),u_dem_tl:new e.Uniform2f(t),u_dem_scale:new e.Uniform1f(t),u_dem_tl_prev:new e.Uniform2f(t),u_dem_scale_prev:new e.Uniform1f(t),u_dem_size:new e.Uniform1f(t),u_dem_lerp:new e.Uniform1f(t),u_exaggeration:new e.Uniform1f(t),u_depth:new e.Uniform1i(t),u_depth_size_inv:new e.Uniform2f(t),u_meter_to_dem:new e.Uniform1f(t),u_label_plane_matrix_inv:new e.UniformMatrix4f(t)}))(t)),a.includes("GLOBE")&&(this.globeUniforms=(t=>({u_tile_tl_up:new e.Uniform3f(t),u_tile_tr_up:new e.Uniform3f(t),u_tile_br_up:new e.Uniform3f(t),u_tile_bl_up:new e.Uniform3f(t),u_tile_up_scale:new e.Uniform1f(t)}))(t)),a.includes("FOG")&&(this.fogUniforms=(t=>({u_fog_matrix:new e.UniformMatrix4f(t),u_fog_range:new e.Uniform2f(t),u_fog_color:new e.Uniform4f(t),u_fog_horizon_blend:new e.Uniform1f(t),u_fog_temporal_offset:new e.Uniform1f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_globe_transition:new e.Uniform1f(t),u_is_globe:new e.Uniform1i(t),u_viewport:new e.Uniform2f(t)}))(t))}}setTerrainUniformValues(e,t){if(!this.terrainUniforms)return;const n=this.terrainUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)n[e]&&n[e].set(this.program,e,t[e])}}setGlobeUniformValues(e,t){if(!this.globeUniforms)return;const n=this.globeUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)n[e]&&n[e].set(this.program,e,t[e])}}setFogUniformValues(e,t){if(!this.fogUniforms)return;const n=this.fogUniforms;if(!this.failedToCreate){e.program.set(this.program);for(const e in t)n[e].set(this.program,e,t[e])}}draw(e,t,n,i,r,o,a,s,l,c,u,h,d,p,f){const m=e.gl;if(this.failedToCreate)return;e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(i),e.setColorMode(r),e.setCullFace(o);for(const e of Object.keys(this.fixedUniforms))this.fixedUniforms[e].set(this.program,e,a[e]);p&&p.setUniforms(this.program,e,this.binderUniforms,h,{zoom:d});const g={[m.LINES]:2,[m.TRIANGLES]:3,[m.LINE_STRIP]:1}[t];for(const n of u.get()){const i=n.vaos||(n.vaos={});(i[s]||(i[s]=new fn)).bind(e,this,l,p?p.getPaintVertexBuffers():[],c,n.vertexOffset,f||[]),m.drawElements(t,n.primitiveLength*g,m.UNSIGNED_SHORT,n.primitiveOffset*g*2)}}}function Dn(e,t){const n=Math.pow(2,t.tileID.overscaledZ),i=t.tileSize*Math.pow(2,e.transform.tileZoom)/n,r=i*(t.tileID.canonical.x+t.tileID.wrap*n),o=i*t.tileID.canonical.y;return{u_image:0,u_texsize:t.imageAtlasTexture.size,u_tile_units_to_pixels:1/D(t,1,e.transform.tileZoom),u_pixel_coord_upper:[r>>16,o>>16],u_pixel_coord_lower:[65535&r,65535&o]}}const Ln=e.create(),On=(t,n,i,r,o,a,s,l,c,u,h)=>{const d=n.style.light,p=d.properties.get("position"),f=[p.x,p.y,p.z],m=e.create$1();"viewport"===d.properties.get("anchor")&&(e.fromRotation(m,-n.transform.angle),e.transformMat3(f,f,m));const g=d.properties.get("color"),y=n.transform,_={u_matrix:t,u_lightpos:f,u_lightintensity:d.properties.get("intensity"),u_lightcolor:[g.r,g.g,g.b],u_vertical_gradient:+i,u_opacity:r,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Ln,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:o,u_edge_radius:a};return"globe"===y.projection.name&&(_.u_tile_id=[s.canonical.x,s.canonical.y,1<<s.canonical.z],_.u_zoom_transition=c,_.u_inv_rot_matrix=h,_.u_merc_center=u,_.u_up_dir=y.projection.upVector(new e.CanonicalTileID(0,0,0),u[0]*e.EXTENT,u[1]*e.EXTENT),_.u_height_lift=l),_},Rn=(t,n,i,r,o,a,s,l,c,u,h,d)=>{const p=On(t,n,i,r,o,a,s,c,u,h,d),f={u_height_factor:-Math.pow(2,s.overscaledZ)/l.tileSize/8};return e.extend(p,Dn(n,l),f)},Bn=e=>({u_matrix:e}),jn=(t,n,i)=>e.extend(Bn(t),Dn(n,i)),Fn=(e,t)=>({u_matrix:e,u_world:t}),Nn=(t,n,i,r)=>e.extend(jn(t,n,i),{u_world:r}),Un=e.create(),Vn=(t,n,i,r,o,a)=>{const s=t.transform,l="globe"===s.projection.name;let c;if("map"===a.paint.get("circle-pitch-alignment"))if(l){const t=e.globePixelsToTileUnits(s.zoom,n.canonical)*s._pixelsPerMercatorPixel;c=Float32Array.from([t,0,0,t])}else c=s.calculatePixelsToTileUnitsMatrix(i);else c=new Float32Array([s.pixelsToGLUnits[0],0,0,s.pixelsToGLUnits[1]]);const u={u_camera_to_center_distance:s.cameraToCenterDistance,u_matrix:t.translatePosMatrix(n.projMatrix,i,a.paint.get("circle-translate"),a.paint.get("circle-translate-anchor")),u_device_pixel_ratio:e.exported.devicePixelRatio,u_extrude_scale:c,u_inv_rot_matrix:Un,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(l){u.u_inv_rot_matrix=r,u.u_merc_center=o,u.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],u.u_zoom_transition=e.globeToMercatorTransition(s.zoom);const t=o[0]*e.EXTENT,i=o[1]*e.EXTENT;u.u_up_dir=s.projection.upVector(new e.CanonicalTileID(0,0,0),t,i)}return u},Gn=e=>{const t=[];return"map"===e.paint.get("circle-pitch-alignment")&&t.push("PITCH_WITH_MAP"),"map"===e.paint.get("circle-pitch-scale")&&t.push("SCALE_WITH_MAP"),t},Zn=(t,n,i,r)=>{const o=e.EXTENT/i.tileSize;return{u_matrix:t,u_camera_to_center_distance:n.getCameraToCenterDistance(r),u_extrude_scale:[n.pixelsToGLUnits[0]/o,n.pixelsToGLUnits[1]/o]}},Wn=(e,t,n=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}),qn=e.create(),$n=(t,n,i,r,o,a,s)=>{const l=t.transform,c="globe"===l.projection.name,u=c?e.globePixelsToTileUnits(l.zoom,n.canonical)*l._pixelsPerMercatorPixel:D(i,1,a),h={u_matrix:n.projMatrix,u_extrude_scale:u,u_intensity:s,u_inv_rot_matrix:qn,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(c){h.u_inv_rot_matrix=r,h.u_merc_center=o,h.u_tile_id=[n.canonical.x,n.canonical.y,1<<n.canonical.z],h.u_zoom_transition=e.globeToMercatorTransition(l.zoom);const t=o[0]*e.EXTENT,i=o[1]*e.EXTENT;h.u_up_dir=l.projection.upVector(new e.CanonicalTileID(0,0,0),t,i)}return h},Hn=(e,t,n,i,r,o,a)=>{const s=e.transform,l=s.calculatePixelsToTileUnitsMatrix(t);return{u_matrix:Jn(e,t,n,i),u_pixels_to_tile_units:l,u_device_pixel_ratio:o,u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:r,u_texsize:Qn(n)?t.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Yn(t,e.transform),u_alpha_discard_threshold:0,u_trim_offset:a}},Xn=(e,t,n,i,r)=>{const o=e.transform;return{u_matrix:Jn(e,t,n,i),u_texsize:t.imageAtlasTexture.size,u_pixels_to_tile_units:o.calculatePixelsToTileUnitsMatrix(t),u_device_pixel_ratio:r,u_image:0,u_tile_units_to_pixels:Yn(t,o),u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Yn(e,t){return 1/D(e,1,t.tileZoom)}function Jn(e,t,n,i){return e.translatePosMatrix(i||t.tileID.projMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}function Qn(e){const t=e.paint.get("line-dasharray").value;return t.value||"constant"!==t.kind}const Kn=(e,t,n,i,r,o)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_fade_t:i.mix,u_opacity:i.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(s=r.paint.get("raster-saturation"),s>0?1-1/(1.001-s):-s),u_contrast_factor:(a=r.paint.get("raster-contrast"),a>0?1/(1-a):1+a),u_spin_weights:ei(r.paint.get("raster-hue-rotate")),u_perspective_transform:o};var a,s};function ei(e){e*=Math.PI/180;const t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}const ti=e.create(),ni=(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g)=>{const y=o.transform,_={u_is_size_zoom_constant:+("constant"===t||"source"===t),u_is_size_feature_constant:+("constant"===t||"camera"===t),u_size_t:n?n.uSizeT:0,u_size:n?n.uSize:0,u_camera_to_center_distance:y.cameraToCenterDistance,u_rotate_symbol:+i,u_aspect_ratio:y.width/y.height,u_fade_change:o.options.fadeDuration?o.symbolFadeChange:1,u_matrix:a,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+c,u_pitch_with_map:+r,u_texsize:u,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:ti,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:ti,u_up_vector:[0,-1,0]};return"globe"===g.name&&(_.u_tile_id=[h.canonical.x,h.canonical.y,1<<h.canonical.z],_.u_zoom_transition=d,_.u_inv_rot_matrix=f,_.u_merc_center=p,_.u_camera_forward=y._camera.forward(),_.u_ecef_origin=e.globeECEFOrigin(y.globeMatrix,h.toUnwrapped()),_.u_tile_matrix=Float32Array.from(y.globeMatrix),_.u_up_vector=m),_},ii=(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g,y)=>e.extend(ni(t,n,i,r,o,a,s,l,c,u,d,p,f,m,g,y),{u_gamma_scale:r?o.transform.cameraToCenterDistance*Math.cos(o.terrain?0:o.transform._pitch):1,u_device_pixel_ratio:e.exported.devicePixelRatio,u_is_halo:+h}),ri=(t,n,i,r,o,a,s,l,c,u,h,d,p,f,m,g)=>e.extend(ii(t,n,i,r,o,a,s,l,!0,c,!0,h,d,p,f,m,g),{u_texsize_icon:u,u_texture_icon:1}),oi=(e,t,n)=>({u_matrix:e,u_opacity:t,u_color:n}),ai=(t,n,i,r,o)=>e.extend(function(e,t,n){const i=t.imageManager.getPattern(e.toString()),{width:r,height:o}=t.imageManager.getPixelSize(),a=Math.pow(2,n.tileID.overscaledZ),s=n.tileSize*Math.pow(2,t.transform.tileZoom)/a,l=s*(n.tileID.canonical.x+n.tileID.wrap*a),c=s*n.tileID.canonical.y;return{u_image:0,u_pattern_tl:i.tl,u_pattern_br:i.br,u_texsize:[r,o],u_pattern_size:i.displaySize,u_tile_units_to_pixels:1/D(n,1,t.transform.tileZoom),u_pixel_coord_upper:[l>>16,c>>16],u_pixel_coord_lower:[65535&l,65535&c]}}(r,i,o),{u_matrix:t,u_opacity:n}),si={fillExtrusion:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t)}),fillExtrusionPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_lightpos:new e.Uniform3f(t),u_lightintensity:new e.Uniform1f(t),u_lightcolor:new e.Uniform3f(t),u_vertical_gradient:new e.Uniform1f(t),u_height_factor:new e.Uniform1f(t),u_edge_radius:new e.Uniform1f(t),u_ao:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_up_dir:new e.Uniform3f(t),u_height_lift:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t)}),fill:t=>({u_matrix:new e.UniformMatrix4f(t)}),fillPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),fillOutline:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t)}),fillOutlinePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_world:new e.Uniform2f(t),u_image:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),circle:t=>({u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),collisionBox:t=>({u_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_extrude_scale:new e.Uniform2f(t)}),collisionCircle:t=>({u_matrix:new e.UniformMatrix4f(t),u_inv_matrix:new e.UniformMatrix4f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_viewport_size:new e.Uniform2f(t)}),debug:t=>({u_color:new e.UniformColor(t),u_matrix:new e.UniformMatrix4f(t),u_overlay:new e.Uniform1i(t),u_overlay_scale:new e.Uniform1f(t)}),clippingMask:t=>({u_matrix:new e.UniformMatrix4f(t)}),heatmap:t=>({u_extrude_scale:new e.Uniform1f(t),u_intensity:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_up_dir:new e.Uniform3f(t)}),heatmapTexture:t=>({u_image:new e.Uniform1i(t),u_color_ramp:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t)}),hillshade:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_latrange:new e.Uniform2f(t),u_light:new e.Uniform2f(t),u_shadow:new e.UniformColor(t),u_highlight:new e.UniformColor(t),u_accent:new e.UniformColor(t)}),hillshadePrepare:t=>({u_matrix:new e.UniformMatrix4f(t),u_image:new e.Uniform1i(t),u_dimension:new e.Uniform2f(t),u_zoom:new e.Uniform1f(t),u_unpack:new e.Uniform4f(t)}),line:t=>({u_matrix:new e.UniformMatrix4f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_units_to_pixels:new e.Uniform2f(t),u_dash_image:new e.Uniform1i(t),u_gradient_image:new e.Uniform1i(t),u_image_height:new e.Uniform1f(t),u_texsize:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t),u_trim_offset:new e.Uniform2f(t)}),linePattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_texsize:new e.Uniform2f(t),u_pixels_to_tile_units:new e.UniformMatrix2f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_units_to_pixels:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t),u_alpha_discard_threshold:new e.Uniform1f(t)}),raster:t=>({u_matrix:new e.UniformMatrix4f(t),u_tl_parent:new e.Uniform2f(t),u_scale_parent:new e.Uniform1f(t),u_fade_t:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_image0:new e.Uniform1i(t),u_image1:new e.Uniform1i(t),u_brightness_low:new e.Uniform1f(t),u_brightness_high:new e.Uniform1f(t),u_saturation_factor:new e.Uniform1f(t),u_contrast_factor:new e.Uniform1f(t),u_spin_weights:new e.Uniform3f(t),u_perspective_transform:new e.Uniform2f(t)}),symbolIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_texture:new e.Uniform1i(t)}),symbolSDF:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_tile_id:new e.Uniform3f(t),u_zoom_transition:new e.Uniform1f(t),u_inv_rot_matrix:new e.UniformMatrix4f(t),u_merc_center:new e.Uniform2f(t),u_camera_forward:new e.Uniform3f(t),u_tile_matrix:new e.UniformMatrix4f(t),u_up_vector:new e.Uniform3f(t),u_ecef_origin:new e.Uniform3f(t),u_is_halo:new e.Uniform1i(t)}),symbolTextAndIcon:t=>({u_is_size_zoom_constant:new e.Uniform1i(t),u_is_size_feature_constant:new e.Uniform1i(t),u_size_t:new e.Uniform1f(t),u_size:new e.Uniform1f(t),u_camera_to_center_distance:new e.Uniform1f(t),u_rotate_symbol:new e.Uniform1i(t),u_aspect_ratio:new e.Uniform1f(t),u_fade_change:new e.Uniform1f(t),u_matrix:new e.UniformMatrix4f(t),u_label_plane_matrix:new e.UniformMatrix4f(t),u_coord_matrix:new e.UniformMatrix4f(t),u_is_text:new e.Uniform1i(t),u_pitch_with_map:new e.Uniform1i(t),u_texsize:new e.Uniform2f(t),u_texsize_icon:new e.Uniform2f(t),u_texture:new e.Uniform1i(t),u_texture_icon:new e.Uniform1i(t),u_gamma_scale:new e.Uniform1f(t),u_device_pixel_ratio:new e.Uniform1f(t),u_is_halo:new e.Uniform1i(t)}),background:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_color:new e.UniformColor(t)}),backgroundPattern:t=>({u_matrix:new e.UniformMatrix4f(t),u_opacity:new e.Uniform1f(t),u_image:new e.Uniform1i(t),u_pattern_tl:new e.Uniform2f(t),u_pattern_br:new e.Uniform2f(t),u_texsize:new e.Uniform2f(t),u_pattern_size:new e.Uniform2f(t),u_pixel_coord_upper:new e.Uniform2f(t),u_pixel_coord_lower:new e.Uniform2f(t),u_tile_units_to_pixels:new e.Uniform1f(t)}),terrainRaster:vn,terrainDepth:vn,skybox:t=>({u_matrix:new e.UniformMatrix4f(t),u_sun_direction:new e.Uniform3f(t),u_cubemap:new e.Uniform1i(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxGradient:t=>({u_matrix:new e.UniformMatrix4f(t),u_color_ramp:new e.Uniform1i(t),u_center_direction:new e.Uniform3f(t),u_radius:new e.Uniform1f(t),u_opacity:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t)}),skyboxCapture:t=>({u_matrix_3f:new e.UniformMatrix3f(t),u_sun_direction:new e.Uniform3f(t),u_sun_intensity:new e.Uniform1f(t),u_color_tint_r:new e.Uniform4f(t),u_color_tint_m:new e.Uniform4f(t),u_luminance:new e.Uniform1f(t)}),globeRaster:t=>({u_proj_matrix:new e.UniformMatrix4f(t),u_globe_matrix:new e.UniformMatrix4f(t),u_normalize_matrix:new e.UniformMatrix4f(t),u_merc_matrix:new e.UniformMatrix4f(t),u_zoom_transition:new e.Uniform1f(t),u_merc_center:new e.Uniform2f(t),u_image0:new e.Uniform1i(t),u_grid_matrix:new e.UniformMatrix3f(t),u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_globe_pos:new e.Uniform3f(t),u_globe_radius:new e.Uniform1f(t),u_viewport:new e.Uniform2f(t)}),globeAtmosphere:t=>({u_frustum_tl:new e.Uniform3f(t),u_frustum_tr:new e.Uniform3f(t),u_frustum_br:new e.Uniform3f(t),u_frustum_bl:new e.Uniform3f(t),u_horizon:new e.Uniform1f(t),u_transition:new e.Uniform1f(t),u_fadeout_range:new e.Uniform1f(t),u_color:new e.Uniform4f(t),u_high_color:new e.Uniform4f(t),u_space_color:new e.Uniform4f(t),u_star_intensity:new e.Uniform1f(t),u_star_density:new e.Uniform1f(t),u_star_size:new e.Uniform1f(t),u_temporal_offset:new e.Uniform1f(t),u_horizon_angle:new e.Uniform1f(t),u_rotation_matrix:new e.UniformMatrix4f(t)})};let li;function ci(t,n,i,r,o,a,s){const l=t.context,c=l.gl,u=t.transform,h=t.useProgram("collisionBox"),d=[];let p=0,f=0;for(let m=0;m<r.length;m++){const g=r[m],y=n.getTile(g),_=y.getBucket(i);if(!_)continue;const v=vt(g,_,u);let x=v;0===o[0]&&0===o[1]||(x=t.translatePosMatrix(v,y,o,a));const b=s?_.textCollisionBox:_.iconCollisionBox,w=_.collisionCircleArray;if(w.length>0){const t=e.create(),n=x;e.mul(t,_.placementInvProjMatrix,u.glCoordMatrix),e.mul(t,t,_.placementViewportMatrix),d.push({circleArray:w,circleOffset:f,transform:n,invTransform:t,projection:_.getProjection()}),p+=w.length/4,f=p}b&&(t.terrain&&t.terrain.setupElevationDraw(y,h),h.draw(l,c.LINES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,Zn(x,u,y,_.getProjection()),i.id,b.layoutVertexBuffer,b.indexBuffer,b.segments,null,u.zoom,null,[b.collisionVertexBuffer,b.collisionVertexBufferExt]))}if(!s||!d.length)return;const m=t.useProgram("collisionCircle"),g=new e.StructArrayLayout2f1f2i16;g.resize(4*p),g._trim();let y=0;for(const e of d)for(let t=0;t<e.circleArray.length/4;t++){const n=4*t,i=e.circleArray[n+0],r=e.circleArray[n+1],o=e.circleArray[n+2],a=e.circleArray[n+3];g.emplace(y++,i,r,o,a,0),g.emplace(y++,i,r,o,a,1),g.emplace(y++,i,r,o,a,2),g.emplace(y++,i,r,o,a,3)}(!li||li.length<2*p)&&(li=function(t){const n=2*t,i=new e.StructArrayLayout3ui6;i.resize(n),i._trim();for(let e=0;e<n;e++){const t=6*e;i.uint16[t+0]=4*e+0,i.uint16[t+1]=4*e+1,i.uint16[t+2]=4*e+2,i.uint16[t+3]=4*e+2,i.uint16[t+4]=4*e+3,i.uint16[t+5]=4*e+0}return i}(p));const _=l.createIndexBuffer(li,!0),v=l.createVertexBuffer(g,e.collisionCircleLayout.members,!0);for(const n of d){const r={u_matrix:n.transform,u_inv_matrix:n.invTransform,u_camera_to_center_distance:(x=u).getCameraToCenterDistance(n.projection),u_viewport_size:[x.width,x.height]};m.draw(l,c.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,r,i.id,v,_,e.SegmentVector.simpleSegment(0,2*n.circleOffset,n.circleArray.length,n.circleArray.length/2),null,u.zoom)}var x;v.destroy(),_.destroy()}const ui=e.create();function hi({width:t,height:n,anchor:i,textOffset:r,textScale:o},a){const{horizontalAlign:s,verticalAlign:l}=e.getAnchorAlignment(i),c=-(s-.5)*t,u=-(l-.5)*n,h=e.evaluateVariableOffset(i,r);return new e.pointGeometry((c/o+h[0])*a,(u/o+h[1])*a)}function di(t,n,i,r,o,a,s,l,c,u,h){const d=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,f=t.icon.dynamicLayoutVertexArray,m={},g=t.getProjection(),y=xt(l,g,a),_=a.elevation,v=g.upVectorScale(l.canonical,a.center.lat,a.worldSize).metersToTile;p.clear();for(let f=0;f<d.length;f++){const x=d.get(f),{tileAnchorX:b,tileAnchorY:w,numGlyphs:T}=x,E=t.allowVerticalPlacement&&!x.placedOrientation,S=x.hidden||!x.crossTileID||E?null:r[x.crossTileID];if(S){let r=0,d=0,f=0;if(_){const e=_?_.getAtTileOffset(l,b,w):0,[t,n,i]=g.upVector(l.canonical,b,w);r=e*t*v,d=e*n*v,f=e*i*v}let[E,M,I,C]=rt(x.projectedAnchorX+r,x.projectedAnchorY+d,x.projectedAnchorZ+f,i?y:s);const k=ot(a.getCameraToCenterDistance(g),C);let A=o.evaluateSizeForFeature(t.textSizeData,u,x)*k/e.ONE_EM;i&&(A*=t.tilePixelRatio/c);const P=hi(S,A);i?(({x:E,y:M,z:I}=g.projectTilePoint(b+P.x,w+P.y,l.canonical)),[E,M,I]=rt(E+r,M+d,I+f,s)):(n&&P._rotate(-a.angle),E+=P.x,M+=P.y,I=0);const z=t.allowVerticalPlacement&&x.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<T;t++)e.addDynamicAttributes(p,E,M,I,z);h&&x.associatedIconIndex>=0&&(m[x.associatedIconIndex]={x:E,y:M,z:I,angle:z})}else ft(T,p)}if(h){f.clear();const n=t.icon.placedSymbolArray;for(let t=0;t<n.length;t++){const i=n.get(t),{numGlyphs:r}=i,o=m[t];if(i.hidden||!o)ft(r,f);else{const{x:t,y:n,z:i,angle:a}=o;for(let o=0;o<r;o++)e.addDynamicAttributes(f,t,n,i,a)}}t.icon.dynamicLayoutVertexBuffer.updateData(f)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function pi(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function fi(t,n,i,r,o,a,s,l,c,u,h,d){const p=t.context,f=p.gl,m=t.transform,g="map"===l,y="map"===c,_=g&&"point"!==i.layout.get("symbol-placement"),v=g&&!y&&!_,x=void 0!==i.layout.get("symbol-sort-key").constantOr(1);let b=!1;const w=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),T=[e.mercatorXfromLng(m.center.lng),e.mercatorYfromLat(m.center.lat)],E=i.layout.get("text-variable-anchor"),S="globe"===m.projection.name,M=[],I=[0,-1,0];let C=I;!S&&!m.mercatorFromTransition||g||(C=function(t){const n=t._camera.getWorldToCamera(t.worldSize,1),i=e.multiply([],n,t.globeMatrix);e.invert(i,i);const r=[0,0,0],o=[0,1,0,0];return e.transformMat4$1(o,o,i),r[0]=o[0],r[1]=o[1],r[2]=o[2],e.normalize(r,r),r}(m));for(const l of r){const r=n.getTile(l),c=r.getBucket(i);if(!c)continue;if("mercator"===c.projection.name&&S)continue;const h=o?c.text:c.icon;if(!h||c.fullyClipped||!h.segments.get().length)continue;const d=h.programConfigurations.get(i.id),p=o||c.sdfIcons,w=o?c.textSizeData:c.iconSizeData,k=y||0!==m.pitch,A=e.evaluateSizeForZoom(w,m.zoom);let P,z,D,L,O=[0,0],R=null;if(o){if(z=r.glyphAtlasTexture,D=f.LINEAR,P=r.glyphAtlasTexture.size,c.iconsInText){O=r.imageAtlasTexture.size,R=r.imageAtlasTexture;const e="composite"===w.kind||"camera"===w.kind;L=k||t.options.rotating||t.options.zooming||e?f.LINEAR:f.NEAREST}}else{const e=1!==i.layout.get("icon-size").constantOr(0)||c.iconsNeedLinear;z=r.imageAtlasTexture,D=p||t.options.rotating||t.options.zooming||e||k?f.LINEAR:f.NEAREST,P=r.imageAtlasTexture.size}const B="globe"===c.projection.name,j=B?C:I,F=B?e.globeToMercatorTransition(m.zoom):0,N=xt(l,c.getProjection(),m),U=m.calculatePixelsToTileUnitsMatrix(r),V=tt(N,r.tileID.canonical,y,g,m,c.getProjection(),U),G=t.terrain&&y&&_?e.invert(e.create(),V):ui,Z=it(N,r.tileID.canonical,y,g,m,c.getProjection(),U),W=E&&c.hasTextData(),q="none"!==i.layout.get("icon-text-fit")&&W&&c.hasIconData();if(_){const e=m.elevation,n=e?e.getAtTileOffsetFunc(l,m.center.lat,m.worldSize,c.getProjection()):null,i=nt(N,r.tileID.canonical,y,g,m,c.getProjection(),U);st(c,N,t,o,i,Z,y,u,n,l)}const $=_||o&&E||q,H=t.translatePosMatrix(N,r,a,s),X=$?ui:V,Y=t.translatePosMatrix(Z,r,a,s,!0),J=c.getProjection().createInversionMatrix(m,l.canonical),Q=[];t.terrainRenderModeElevated()&&y&&Q.push("PITCH_WITH_MAP_TERRAIN"),B&&Q.push("PROJECTION_GLOBE_VIEW"),$&&Q.push("PROJECTED_POS_ON_VIEWPORT");const K=p&&0!==i.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);let ee;ee=p?c.iconsInText?ri(w.kind,A,v,y,t,H,X,Y,P,O,l,F,T,J,j,c.getProjection()):ii(w.kind,A,v,y,t,H,X,Y,o,P,!0,l,F,T,J,j,c.getProjection()):ni(w.kind,A,v,y,t,H,X,Y,o,P,l,F,T,J,j,c.getProjection());const te={program:t.useProgram(pi(p,o,c),d,Q),buffers:h,uniformValues:ee,atlasTexture:z,atlasTextureIcon:R,atlasInterpolation:D,atlasInterpolationIcon:L,isSDF:p,hasHalo:K,tile:r,labelPlaneMatrixInv:G};if(x&&c.canOverlap){b=!0;const t=h.segments.get();for(const n of t)M.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:te})}else M.push({segments:h.segments,sortKey:0,state:te})}b&&M.sort((e,t)=>e.sortKey-t.sortKey);for(const e of M){const n=e.state;if(t.terrain&&t.terrain.setupElevationDraw(n.tile,n.program,{useDepthForOcclusion:!S,labelPlaneMatrixInv:n.labelPlaneMatrixInv}),p.activeTexture.set(f.TEXTURE0),n.atlasTexture.bind(n.atlasInterpolation,f.CLAMP_TO_EDGE),n.atlasTextureIcon&&(p.activeTexture.set(f.TEXTURE1),n.atlasTextureIcon&&n.atlasTextureIcon.bind(n.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),n.isSDF){const r=n.uniformValues;n.hasHalo&&(r.u_is_halo=1,mi(n.buffers,e.segments,i,t,n.program,w,h,d,r)),r.u_is_halo=0}mi(n.buffers,e.segments,i,t,n.program,w,h,d,n.uniformValues)}}function mi(t,n,i,r,o,a,s,l,c){const u=r.context,h=[t.dynamicLayoutVertexBuffer,t.opacityVertexBuffer,t.globeExtVertexBuffer];o.draw(u,u.gl.TRIANGLES,a,s,l,e.CullFaceMode.disabled,c,i.id,t.layoutVertexBuffer,t.indexBuffer,n,i.paint,r.transform.zoom,t.programConfigurations.get(i.id),h)}function gi(t,n,i,r,o,a,s){const l=t.context.gl,c=i.paint.get("fill-pattern"),u=c&&c.constantOr(1);let h,d,p,f,m;s?(d=u&&!i.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",h=l.LINES):(d=u?"fillPattern":"fill",h=l.TRIANGLES);for(const g of r){const r=n.getTile(g);if(u&&!r.patternsLoaded())continue;const y=r.getBucket(i);if(!y)continue;t.prepareDrawTile();const _=y.programConfigurations.get(i.id),v=t.useProgram(d,_);u&&(t.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),_.updatePaintBuffers());const x=c.constantOr(null);if(x&&r.imageAtlas){const e=r.imageAtlas.patternPositions[x.toString()];e&&_.setConstantPatternPositions(e)}const b=t.translatePosMatrix(g.projMatrix,r,i.paint.get("fill-translate"),i.paint.get("fill-translate-anchor"));if(s){f=y.indexBuffer2,m=y.segments2;const e=t.terrain&&t.terrain.renderingToTexture?t.terrain.drapeBufferSize:[l.drawingBufferWidth,l.drawingBufferHeight];p="fillOutlinePattern"===d&&u?Nn(b,t,r,e):Fn(b,e)}else f=y.indexBuffer,m=y.segments,p=u?jn(b,t,r):Bn(b);t.prepareDrawProgram(t.context,v,g.toUnwrapped()),v.draw(t.context,h,o,t.stencilModeForClipping(g),a,e.CullFaceMode.disabled,p,i.id,y.layoutVertexBuffer,f,m,i.paint,t.transform.zoom,_)}}function yi(t,n,i,r,o,a,s){const l=t.context,c=l.gl,u=t.transform,h=i.paint.get("fill-extrusion-pattern"),d=h.constantOr(1),p=i.paint.get("fill-extrusion-opacity"),f=[i.paint.get("fill-extrusion-ambient-occlusion-intensity"),i.paint.get("fill-extrusion-ambient-occlusion-radius")],m=i.layout.get("fill-extrusion-edge-radius"),g="globe"===u.projection.name?e.fillExtrusionHeightLift():0,y="globe"===u.projection.name,_=y?e.globeToMercatorTransition(u.zoom):0,v=[e.mercatorXfromLng(u.center.lng),e.mercatorYfromLat(u.center.lat)],x=[];y&&(x.push("PROJECTION_GLOBE_VIEW"),t.style.terrainSetForDrapingOnly()&&x.push("TERRAIN")),f[0]>0&&x.push("FAUX_AO");for(const b of r){const r=n.getTile(b),w=r.getBucket(i);if(!w||w.projection.name!==u.projection.name)continue;const T=w.programConfigurations.get(i.id),E=t.useProgram(d?"fillExtrusionPattern":"fillExtrusion",T,x);if(t.terrain){const e=t.terrain;if(t.style.terrainSetForDrapingOnly())e.setupElevationDraw(r,E,{useMeterToDem:!0});else{if(!w.enableTerrain)continue;if(e.setupElevationDraw(r,E,{useMeterToDem:!0}),_i(l,n,b,w,i,e),!w.centroidVertexBuffer){const e=E.attributes.a_centroid_pos;void 0!==e&&c.vertexAttrib2f(e,0,0)}}}d&&(t.context.activeTexture.set(c.TEXTURE0),r.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),T.updatePaintBuffers());const S=h.constantOr(null);if(S&&r.imageAtlas){const e=r.imageAtlas.patternPositions[S.toString()];e&&T.setConstantPatternPositions(e)}const M=t.translatePosMatrix(b.projMatrix,r,i.paint.get("fill-extrusion-translate"),i.paint.get("fill-extrusion-translate-anchor")),I=u.projection.createInversionMatrix(u,b.canonical),C=i.paint.get("fill-extrusion-vertical-gradient"),k=d?Rn(M,t,C,p,f,m,b,r,g,_,v,I):On(M,t,C,p,f,m,b,g,_,v,I);t.prepareDrawProgram(l,E,b.toUnwrapped());const A=[];t.terrain&&A.push(w.centroidVertexBuffer),y&&A.push(w.layoutVertexExtBuffer),E.draw(l,l.gl.TRIANGLES,o,a,s,e.CullFaceMode.backCCW,k,i.id,w.layoutVertexBuffer,w.indexBuffer,w.segments,i.paint,t.transform.zoom,T,A)}}function _i(t,n,i,r,o,a){const s=[t=>{let n=t.canonical.x-1,i=t.wrap;return n<0&&(n=(1<<t.canonical.z)-1,i--),new e.OverscaledTileID(t.overscaledZ,i,t.canonical.z,n,t.canonical.y)},t=>{let n=t.canonical.x+1,i=t.wrap;return n===1<<t.canonical.z&&(n=0,i++),new e.OverscaledTileID(t.overscaledZ,i,t.canonical.z,n,t.canonical.y)},t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,(0===t.canonical.y?1<<t.canonical.z:t.canonical.y)-1),t=>new e.OverscaledTileID(t.overscaledZ,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y===(1<<t.canonical.z)-1?0:t.canonical.y+1)],l=e=>{const t=n.getSource().minzoom,i=e=>{const t=n.getTileByID(e);if(t&&t.hasData())return t.getBucket(o)},r=[0,-1,1];for(const n of r){if(e.overscaledZ+n<t)continue;const r=i(e.calculateScaledKey(e.overscaledZ+n));if(r)return r}},c=[0,0,0],u=(t,n)=>(c[0]=Math.min(t.min.y,n.min.y),c[1]=Math.max(t.max.y,n.max.y),c[2]=e.EXTENT-n.min.x>t.max.x?n.min.x-e.EXTENT:t.max.x,c),h=(t,n)=>(c[0]=Math.min(t.min.x,n.min.x),c[1]=Math.max(t.max.x,n.max.x),c[2]=e.EXTENT-n.min.y>t.max.y?n.min.y-e.EXTENT:t.max.y,c),d=[(e,t)=>u(e,t),(e,t)=>u(t,e),(e,t)=>h(e,t),(e,t)=>h(t,e)],p=new e.pointGeometry(0,0);let f,m,g;const y=(t,n,r,o,s)=>{const l=[[o?r:t,o?t:r,0],[o?r:n,o?n:r,0]],c=s<0?e.EXTENT+s:s,u=[o?c:(t+n)/2,o?(t+n)/2:c,0];return 0===r&&s<0||0!==r&&s>0?a.getForTilePoints(g,[u],!0,m):l.push(u),a.getForTilePoints(i,l,!0,f),Math.max(l[0][2],l[1][2],u[2])/a.exaggeration()};for(let t=0;t<4;t++){const n=(t<2?1:5)-t,o=r.borders[t];if(0===o.length)continue;const c=g=s[t](i),u=l(c);if(!(u&&u instanceof e.FillExtrusionBucket&&u.enableTerrain))continue;if(r.borderDoneWithNeighborZ[t]===u.canonical.z&&u.borderDoneWithNeighborZ[n]===r.canonical.z)continue;if(m=a.findDEMTileFor(c),!m||!m.dem)continue;if(!f){const e=a.findDEMTileFor(i);if(!e||!e.dem)return;f=e}const h=u.borders[n];let _=0;const v=u.borderDoneWithNeighborZ[n]!==r.canonical.z;if(r.canonical.z===u.canonical.z){for(let i=0;i<o.length;i++){const a=r.featuresOnBorder[o[i]],s=a.borders[t];let l;for(;_<h.length&&(l=u.featuresOnBorder[h[_]],!(l.borders[n][1]>s[0]+3));)v&&u.encodeCentroid(void 0,l,!1),_++;if(l&&_<h.length){const i=_;let o=0;for(;!(l.borders[n][0]>s[1]-3)&&(o++,++_!==h.length);)l=u.featuresOnBorder[h[_]];if(l=u.featuresOnBorder[h[i]],a.intersectsCount()>1||l.intersectsCount()>1||1!==o){1!==o&&(_=i),r.encodeCentroid(void 0,a,!1),v&&u.encodeCentroid(void 0,l,!1);continue}const c=d[t](a,l),f=t%2?e.EXTENT-1:0;p.x=y(c[0],Math.min(e.EXTENT-1,c[1]),f,t<2,c[2]),p.y=0,r.encodeCentroid(p,a,!1),v&&u.encodeCentroid(p,l,!1)}else r.encodeCentroid(void 0,a,!1)}r.borderDoneWithNeighborZ[t]=u.canonical.z,r.needsCentroidUpdate=!0,v&&(u.borderDoneWithNeighborZ[n]=r.canonical.z,u.needsCentroidUpdate=!0)}else{for(const e of o)r.encodeCentroid(void 0,r.featuresOnBorder[e],!1);if(v){for(const e of h)u.encodeCentroid(void 0,u.featuresOnBorder[e],!1);u.borderDoneWithNeighborZ[n]=r.canonical.z,u.needsCentroidUpdate=!0}r.borderDoneWithNeighborZ[t]=u.canonical.z,r.needsCentroidUpdate=!0}}(r.needsCentroidUpdate||!r.centroidVertexBuffer&&0!==r.centroidVertexArray.length)&&r.uploadCentroid(t)}const vi=new e.Color(1,0,0,1),xi=new e.Color(0,1,0,1),bi=new e.Color(0,0,1,1),wi=new e.Color(1,0,1,1),Ti=new e.Color(0,1,1,1);function Ei(t,n,i){const r=t.context,o=t.transform,a=r.gl,s="globe"===o.projection.name,l=s?["PROJECTION_GLOBE_VIEW"]:null;let c=i.projMatrix;if(s&&e.globeToMercatorTransition(o.zoom)>0){const t=e.transitionTileAABBinECEF(i.canonical,o),n=e.globeDenormalizeECEF(t);c=e.multiply(new Float32Array(16),o.globeMatrix,n),e.multiply(c,o.projMatrix,c)}const u=t.useProgram("debug",null,l),h=n.getTileByID(i.key);t.terrain&&t.terrain.setupElevationDraw(h,u);const d=e.DepthMode.disabled,p=e.StencilMode.disabled,f=t.colorModeForRenderPass(),m="$debug";r.activeTexture.set(a.TEXTURE0),t.emptyTexture.bind(a.LINEAR,a.CLAMP_TO_EDGE),s?h._makeGlobeTileDebugBuffers(t.context,o):h._makeDebugTileBoundsBuffers(t.context,o.projection);const g=h._tileDebugBuffer||t.debugBuffer,y=h._tileDebugIndexBuffer||t.debugIndexBuffer,_=h._tileDebugSegments||t.debugSegments;u.draw(r,a.LINE_STRIP,d,p,f,e.CullFaceMode.disabled,Wn(c,e.Color.red),m,g,y,_,null,null,null,[h._globeTileDebugBorderBuffer]);const v=h.latestRawTileData,x=Math.floor((v&&v.byteLength||0)/1024),b=n.getTile(i).tileSize,w=512/Math.min(b,512)*(i.overscaledZ/o.zoom)*.5;let T=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(T+=" => "+i.overscaledZ),T+=` ${x}kb`,function(e,t){e.initDebugOverlayCanvas();const n=e.debugOverlayCanvas,i=e.context.gl,r=e.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,n.width,n.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}(t,T);const E=h._tileDebugTextBuffer||t.debugBuffer,S=h._tileDebugTextIndexBuffer||t.quadTriangleIndexBuffer,M=h._tileDebugTextSegments||t.debugSegments;u.draw(r,a.TRIANGLES,d,p,e.ColorMode.alphaBlended,e.CullFaceMode.disabled,Wn(c,e.Color.transparent,w),m,E,S,M,null,null,null,[h._globeTileDebugTextBuffer])}function Si(e,t,n,i){Ii(e,0,t+n/2,e.transform.width,n,i)}function Mi(e,t,n,i){Ii(e,t-n/2,0,n,e.transform.height,i)}function Ii(t,n,i,r,o,a){const s=t.context,l=s.gl;l.enable(l.SCISSOR_TEST),l.scissor(n*e.exported.devicePixelRatio,i*e.exported.devicePixelRatio,r*e.exported.devicePixelRatio,o*e.exported.devicePixelRatio),s.clear({color:a}),l.disable(l.SCISSOR_TEST)}const Ci=e.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:ki}=Ci;function Ai(e,t,n,i){e.emplaceBack(t,n,i)}class Pi{constructor(t){this.vertexArray=new e.StructArrayLayout3f12,this.indices=new e.StructArrayLayout3ui6,Ai(this.vertexArray,-1,-1,1),Ai(this.vertexArray,1,-1,1),Ai(this.vertexArray,-1,1,1),Ai(this.vertexArray,1,1,1),Ai(this.vertexArray,-1,-1,-1),Ai(this.vertexArray,1,-1,-1),Ai(this.vertexArray,-1,1,-1),Ai(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=t.createVertexBuffer(this.vertexArray,ki),this.indexBuffer=t.createIndexBuffer(this.indices),this.segment=e.SegmentVector.simpleSegment(0,0,36,12)}}function zi(t,n,i,r,o,a){const s=t.gl,l=n.paint.get("sky-atmosphere-color"),c=n.paint.get("sky-atmosphere-halo-color"),u=n.paint.get("sky-atmosphere-sun-intensity"),h=((e,t,n,i,r)=>({u_matrix_3f:e,u_sun_direction:t,u_sun_intensity:n,u_color_tint_r:[i.r,i.g,i.b,i.a],u_color_tint_m:[r.r,r.g,r.b,r.a],u_luminance:5e-5}))(e.fromMat4(e.create$1(),r),o,u,l,c);s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+a,n.skyboxTexture,0),i.draw(t,s.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,e.ColorMode.unblended,e.CullFaceMode.frontCW,h,"skyboxCapture",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}const Di=e.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class Li{constructor(t){const n=new e.StructArrayLayout5f20;n.emplaceBack(-1,1,1,0,0),n.emplaceBack(1,1,1,1,0),n.emplaceBack(1,-1,1,1,1),n.emplaceBack(-1,-1,1,0,1);const i=new e.StructArrayLayout3ui6;i.emplaceBack(0,1,2),i.emplaceBack(2,3,0),this.vertexBuffer=t.createVertexBuffer(n,Di.members),this.indexBuffer=t.createIndexBuffer(i),this.segments=e.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Oi={symbol:function(t,n,i,r,o){if("translucent"!==t.renderPass)return;const a=e.StencilMode.disabled,s=t.colorModeForRenderPass();i.layout.get("text-variable-anchor")&&function(t,n,i,r,o,a,s){const l=n.transform,c="map"===o,u="map"===a;for(const n of t){const t=r.getTile(n),o=t.getBucket(i);if(!o||!o.text||!o.text.segments.get().length)continue;const a=e.evaluateSizeForZoom(o.textSizeData,l.zoom),h=xt(n,o.getProjection(),l),d=l.calculatePixelsToTileUnitsMatrix(t),p=tt(h,t.tileID.canonical,u,c,l,o.getProjection(),d),f="none"!==i.layout.get("icon-text-fit")&&o.hasIconData();if(a){const i=Math.pow(2,l.zoom-t.tileID.overscaledZ);di(o,c,u,s,e.symbolSize,l,p,n,i,a,f)}}}(r,t,i,n,i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),o),0!==i.paint.get("icon-opacity").constantOr(1)&&fi(t,n,i,r,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),a,s),0!==i.paint.get("text-opacity").constantOr(1)&&fi(t,n,i,r,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(ci(t,n,i,r,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),!0),ci(t,n,i,r,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),!1))},circle:function(t,n,i,r){if("translucent"!==t.renderPass)return;const o=i.paint.get("circle-opacity"),a=i.paint.get("circle-stroke-width"),s=i.paint.get("circle-stroke-opacity"),l=void 0!==i.layout.get("circle-sort-key").constantOr(1);if(0===o.constantOr(1)&&(0===a.constantOr(1)||0===s.constantOr(1)))return;const c=t.context,u=c.gl,h=t.transform,d=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),p=e.StencilMode.disabled,f=t.colorModeForRenderPass(),m="globe"===h.projection.name,g=[e.mercatorXfromLng(h.center.lng),e.mercatorYfromLat(h.center.lat)],y=[];for(let o=0;o<r.length;o++){const a=r[o],s=n.getTile(a),c=s.getBucket(i);if(!c||c.projection.name!==h.projection.name)continue;const u=c.programConfigurations.get(i.id),d=Gn(i);m&&d.push("PROJECTION_GLOBE_VIEW");const p=t.useProgram("circle",u,d),f=c.layoutVertexBuffer,_=c.globeExtVertexBuffer,v=c.indexBuffer,x=h.projection.createInversionMatrix(h,a.canonical),b={programConfiguration:u,program:p,layoutVertexBuffer:f,globeExtVertexBuffer:_,indexBuffer:v,uniformValues:Vn(t,a,s,x,g,i),tile:s};if(l){const t=c.segments.get();for(const n of t)y.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:b})}else y.push({segments:c.segments,sortKey:0,state:b})}l&&y.sort((e,t)=>e.sortKey-t.sortKey);const _={useDepthForOcclusion:!m};for(const n of y){const{programConfiguration:r,program:o,layoutVertexBuffer:a,globeExtVertexBuffer:s,indexBuffer:l,uniformValues:m,tile:g}=n.state,y=n.segments;t.terrain&&t.terrain.setupElevationDraw(g,o,_),t.prepareDrawProgram(c,o,g.tileID.toUnwrapped()),o.draw(c,u.TRIANGLES,d,p,f,e.CullFaceMode.disabled,m,i.id,a,l,y,i.paint,h.zoom,r,[s])}},heatmap:function(t,n,i,r){if(0!==i.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const o=t.context,a=o.gl,s=e.StencilMode.disabled,l=new e.ColorMode([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n,i){const r=e.gl,o=t.width*i,a=t.height*i;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,o,a]);let s=n.heatmapFbo;if(!s||s&&(s.width!==o||s.height!==a)){s&&s.destroy();const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),s=n.heatmapFbo=e.createFramebuffer(o,a,!1),function(e,t,n,i,r,o){const a=e.gl;a.texImage2D(a.TEXTURE_2D,0,a.RGBA,r,o,0,a.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:a.UNSIGNED_BYTE,null),i.colorAttachment.set(n)}(e,0,t,s,o,a)}else r.bindTexture(r.TEXTURE_2D,s.colorAttachment.get()),e.bindFramebuffer.set(s.framebuffer)}(o,t,i,"globe"===t.transform.projection.name?.5:.25),o.clear({color:e.Color.transparent});const c=t.transform,u="globe"===c.projection.name,h=u?["PROJECTION_GLOBE_VIEW"]:null,d=u?e.CullFaceMode.frontCCW:e.CullFaceMode.disabled,p=[e.mercatorXfromLng(c.center.lng),e.mercatorYfromLat(c.center.lat)];for(let f=0;f<r.length;f++){const m=r[f];if(n.hasRenderableParent(m))continue;const g=n.getTile(m),y=g.getBucket(i);if(!y||y.projection.name!==c.projection.name)continue;const _=y.programConfigurations.get(i.id),v=t.useProgram("heatmap",_,h),{zoom:x}=t.transform;t.terrain&&t.terrain.setupElevationDraw(g,v),t.prepareDrawProgram(o,v,m.toUnwrapped());const b=c.projection.createInversionMatrix(c,m.canonical);v.draw(o,a.TRIANGLES,e.DepthMode.disabled,s,l,d,$n(t,m,g,b,p,x,i.paint.get("heatmap-intensity")),i.id,y.layoutVertexBuffer,y.indexBuffer,y.segments,i.paint,t.transform.zoom,_,u?[y.globeExtVertexBuffer]:null)}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){const i=t.context,r=i.gl,o=n.heatmapFbo;if(!o)return;i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,o.colorAttachment.get()),i.activeTexture.set(r.TEXTURE1);let a=n.colorRampTexture;a||(a=n.colorRampTexture=new e.Texture(i,n.colorRamp,r.RGBA)),a.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(i,r.TRIANGLES,e.DepthMode.disabled,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.disabled,((e,t,n,i)=>({u_image:0,u_color_ramp:1,u_opacity:t.paint.get("heatmap-opacity")}))(0,n),n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}(t,i))},line:function(t,n,i,r){if("translucent"!==t.renderPass)return;const o=i.paint.get("line-opacity"),a=i.paint.get("line-width");if(0===o.constantOr(1)||0===a.constantOr(1))return;const s=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),l=t.colorModeForRenderPass(),c=t.terrain&&t.terrain.renderingToTexture?1:e.exported.devicePixelRatio,u=i.paint.get("line-dasharray"),h=u.constantOr(1),d=i.layout.get("line-cap"),p=i.paint.get("line-pattern"),f=p.constantOr(1),m=i.paint.get("line-gradient"),g=f?"linePattern":"line",y=t.context,_=y.gl,v=(e=>{const t=[];Qn(e)&&t.push("RENDER_LINE_DASH"),e.paint.get("line-gradient")&&t.push("RENDER_LINE_GRADIENT");const n=e.paint.get("line-trim-offset");0===n[0]&&0===n[1]||t.push("RENDER_LINE_TRIM_OFFSET");const i=e.paint.get("line-pattern").constantOr(1),r=1!==e.paint.get("line-opacity").constantOr(1);return!i&&r&&t.push("RENDER_LINE_ALPHA_DISCARD"),t})(i);let x=v.includes("RENDER_LINE_ALPHA_DISCARD");t.terrain&&t.terrain.clipOrMaskOverlapStencilType()&&(x=!1);for(const o of r){const r=n.getTile(o);if(f&&!r.patternsLoaded())continue;const a=r.getBucket(i);if(!a)continue;t.prepareDrawTile();const b=a.programConfigurations.get(i.id),w=t.useProgram(g,b,v),T=p.constantOr(null);if(T&&r.imageAtlas){const e=r.imageAtlas.patternPositions[T.toString()];e&&b.setConstantPatternPositions(e)}const E=u.constantOr(null),S=d.constantOr(null);if(!f&&E&&S&&r.lineAtlas){const e=r.lineAtlas.getDash(E,S);e&&b.setConstantPatternPositions(e)}let[M,I]=i.paint.get("line-trim-offset");if("round"===S||"square"===S){const e=1;M!==I&&(0===M&&(M-=e),1===I&&(I+=e))}const C=t.terrain?o.projMatrix:null,k=f?Xn(t,r,i,C,c):Hn(t,r,i,C,a.lineClipsArray.length,c,[M,I]);if(m){const r=a.gradients[i.id];let s=r.texture;if(i.gradientVersion!==r.version){let l=256;if(i.stepInterpolant){const i=n.getSource().maxzoom,r=o.canonical.z===i?Math.ceil(1<<t.transform.maxZoom-o.canonical.z):1;l=e.clamp(e.nextPowerOfTwo(a.maxLineLength/e.EXTENT*1024*r),256,y.maxTextureSize)}r.gradient=e.renderColorRamp({expression:i.gradientExpression(),evaluationKey:"lineProgress",resolution:l,image:r.gradient||void 0,clips:a.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new e.Texture(y,r.gradient,_.RGBA),r.version=i.gradientVersion,s=r.texture}y.activeTexture.set(_.TEXTURE1),s.bind(i.stepInterpolant?_.NEAREST:_.LINEAR,_.CLAMP_TO_EDGE)}h&&(y.activeTexture.set(_.TEXTURE0),r.lineAtlasTexture.bind(_.LINEAR,_.REPEAT),b.updatePaintBuffers()),f&&(y.activeTexture.set(_.TEXTURE0),r.imageAtlasTexture.bind(_.LINEAR,_.CLAMP_TO_EDGE),b.updatePaintBuffers()),t.prepareDrawProgram(y,w,o.toUnwrapped());const A=n=>{w.draw(y,_.TRIANGLES,s,n,l,e.CullFaceMode.disabled,k,i.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,i.paint,t.transform.zoom,b,[a.layoutVertexBuffer2])};if(x){const n=t.stencilModeForClipping(o).ref;0===n&&t.terrain&&y.clear({stencil:0});const i={func:_.EQUAL,mask:255};k.u_alpha_discard_threshold=.8,A(new e.StencilMode(i,n,255,_.KEEP,_.KEEP,_.INVERT)),k.u_alpha_discard_threshold=0,A(new e.StencilMode(i,n,255,_.KEEP,_.KEEP,_.KEEP))}else A(t.stencilModeForClipping(o))}x&&(t.resetStencilClippingMasks(),t.terrain&&y.clear({stencil:0}))},fill:function(t,n,i,r){const o=i.paint.get("fill-color"),a=i.paint.get("fill-opacity");if(0===a.constantOr(1))return;const s=t.colorModeForRenderPass(),l=i.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){const o=t.depthModeForSublayer(1,"opaque"===t.renderPass?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly);gi(t,n,i,r,o,s,!1)}if("translucent"===t.renderPass&&i.paint.get("fill-antialias")){const o=t.depthModeForSublayer(i.getPaintProperty("fill-outline-color")?2:0,e.DepthMode.ReadOnly);gi(t,n,i,r,o,s,!0)}},"fill-extrusion":function(t,n,i,r){const o=i.paint.get("fill-extrusion-opacity");if(0!==o&&"translucent"===t.renderPass){const a=new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D);if(1!==o||i.paint.get("fill-extrusion-pattern").constantOr(1))yi(t,n,i,r,a,e.StencilMode.disabled,e.ColorMode.disabled),yi(t,n,i,r,a,t.stencilModeFor3D(),t.colorModeForRenderPass()),t.resetStencilClippingMasks();else{const o=t.colorModeForRenderPass();yi(t,n,i,r,a,e.StencilMode.disabled,o)}}},hillshade:function(t,n,i,r){if("offscreen"!==t.renderPass&&"translucent"!==t.renderPass)return;const o=t.context,a=t.depthModeForSublayer(0,e.DepthMode.ReadOnly),s=t.colorModeForRenderPass(),l=t.terrain&&t.terrain.renderingToTexture,[c,u]="translucent"!==t.renderPass||l?[{},r]:t.stencilConfigForOverlap(r);for(const r of u){const o=n.getTile(r);if(o.needsHillshadePrepare&&"offscreen"===t.renderPass)_n(t,o,i,a,e.StencilMode.disabled,s);else if("translucent"===t.renderPass){const e=l&&t.terrain?t.terrain.stencilModeForRTTOverlap(r):c[r.overscaledZ];gn(t,r,o,i,a,e,s)}}o.viewport.set([0,0,t.width,t.height]),t.resetStencilClippingMasks()},raster:function(t,n,i,r,o,a){if("translucent"!==t.renderPass)return;if(0===i.paint.get("raster-opacity"))return;if(!r.length)return;const s=t.context,l=s.gl,c=n.getSource(),u=t.useProgram("raster"),h=t.colorModeForRenderPass(),d=t.terrain&&t.terrain.renderingToTexture,[p,f]=c instanceof Ae||d?[{},r]:t.stencilConfigForOverlap(r),m=f[f.length-1].overscaledZ,g=!t.options.moving;for(const r of f){const o=d?e.DepthMode.disabled:t.depthModeForSublayer(r.overscaledZ-m,1===i.paint.get("raster-opacity")?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly,l.LESS),f=r.toUnwrapped(),y=n.getTile(r);if(d&&(!y||!y.hasData()))continue;const _=d?r.projMatrix:t.transform.calculateProjMatrix(f,g),v=t.terrain&&d?t.terrain.stencilModeForRTTOverlap(r):p[r.overscaledZ],x=a?0:i.paint.get("raster-fade-duration");y.registerFadeDuration(x);const b=n.findLoadedParent(r,0),w=In(y,b,n,t.transform,x);let T,E;t.terrain&&t.terrain.prepareDrawTile();const S="nearest"===i.paint.get("raster-resampling")?l.NEAREST:l.LINEAR;s.activeTexture.set(l.TEXTURE0),y.texture.bind(S,l.CLAMP_TO_EDGE),s.activeTexture.set(l.TEXTURE1),b?(b.texture.bind(S,l.CLAMP_TO_EDGE),T=Math.pow(2,b.tileID.overscaledZ-y.tileID.overscaledZ),E=[y.tileID.canonical.x*T%1,y.tileID.canonical.y*T%1]):y.texture.bind(S,l.CLAMP_TO_EDGE);const M=Kn(_,E||[0,0],T||1,w,i,c instanceof Ae?c.perspectiveTransform:[0,0]);if(t.prepareDrawProgram(s,u,f),c instanceof Ae)c.boundsBuffer&&c.boundsSegments&&u.draw(s,l.TRIANGLES,o,e.StencilMode.disabled,h,e.CullFaceMode.disabled,M,i.id,c.boundsBuffer,t.quadTriangleIndexBuffer,c.boundsSegments);else{const{tileBoundsBuffer:n,tileBoundsIndexBuffer:r,tileBoundsSegments:a}=t.getTileBoundsBuffers(y);u.draw(s,l.TRIANGLES,o,v,h,e.CullFaceMode.disabled,M,i.id,n,r,a)}}t.resetStencilClippingMasks()},background:function(t,n,i,r){const o=i.paint.get("background-color"),a=i.paint.get("background-opacity");if(0===a)return;const s=t.context,l=s.gl,c=t.transform,u=c.tileSize,h=i.paint.get("background-pattern");if(t.isPatternMissing(h))return;const d=!h&&1===o.a&&1===a&&t.opaquePassEnabledForLayer()?"opaque":"translucent";if(t.renderPass!==d)return;const p=e.StencilMode.disabled,f=t.depthModeForSublayer(0,"opaque"===d?e.DepthMode.ReadWrite:e.DepthMode.ReadOnly),m=t.colorModeForRenderPass(),g=t.useProgram(h?"backgroundPattern":"background");let y,_=r;_||(y=t.getBackgroundTiles(),_=Object.values(y).map(e=>e.tileID)),h&&(s.activeTexture.set(l.TEXTURE0),t.imageManager.bind(t.context));for(const d of _){const _=d.toUnwrapped(),v=r?d.projMatrix:t.transform.calculateProjMatrix(_);t.prepareDrawTile();const x=n?n.getTile(d):y?y[d.key]:new e.Tile(d,u,c.zoom,t),b=h?ai(v,a,t,h,{tileID:d,tileSize:u}):oi(v,a,o);t.prepareDrawProgram(s,g,_);const{tileBoundsBuffer:w,tileBoundsIndexBuffer:T,tileBoundsSegments:E}=t.getTileBoundsBuffers(x);g.draw(s,l.TRIANGLES,f,p,m,e.CullFaceMode.disabled,b,i.id,w,T,E)}},sky:function(t,n,i){const r=t.transform,o="mercator"===r.projection.name||"globe"===r.projection.name?1:e.smoothstep(7,8,r.zoom),a=i.paint.get("sky-opacity")*o;if(0===a)return;const s=t.context,l=i.paint.get("sky-type"),c=new e.DepthMode(s.gl.LEQUAL,e.DepthMode.ReadOnly,[0,1]),u=t.frameCounter/1e3%1;"atmosphere"===l?"offscreen"===t.renderPass?i.needsSkyboxCapture(t)&&(function(t,n,i,r){const o=t.context,a=o.gl;let s=n.skyboxFbo;if(!s){s=n.skyboxFbo=o.createFramebuffer(32,32,!1),n.skyboxGeometry=new Pi(o),n.skyboxTexture=o.gl.createTexture(),a.bindTexture(a.TEXTURE_CUBE_MAP,n.skyboxTexture),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_CUBE_MAP,a.TEXTURE_MAG_FILTER,a.LINEAR);for(let e=0;e<6;++e)a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+e,0,a.RGBA,32,32,0,a.RGBA,a.UNSIGNED_BYTE,null)}o.bindFramebuffer.set(s.framebuffer),o.viewport.set([0,0,32,32]);const l=n.getCenter(t,!0),c=t.useProgram("skyboxCapture"),u=new Float64Array(16);e.identity(u),e.rotateY(u,u,.5*-Math.PI),zi(o,n,c,u,l,0),e.identity(u),e.rotateY(u,u,.5*Math.PI),zi(o,n,c,u,l,1),e.identity(u),e.rotateX(u,u,.5*-Math.PI),zi(o,n,c,u,l,2),e.identity(u),e.rotateX(u,u,.5*Math.PI),zi(o,n,c,u,l,3),e.identity(u),zi(o,n,c,u,l,4),e.identity(u),e.rotateY(u,u,Math.PI),zi(o,n,c,u,l,5),o.viewport.set([0,0,t.width,t.height])}(t,i),i.markSkyboxValid(t)):"sky"===t.renderPass&&function(t,n,i,r,o){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram("skybox");a.activeTexture.set(s.TEXTURE0),s.bindTexture(s.TEXTURE_CUBE_MAP,n.skyboxTexture);const u=((e,t,n,i,r)=>({u_matrix:e,u_sun_direction:t,u_cubemap:0,u_opacity:i,u_temporal_offset:r}))(l.skyboxMatrix,n.getCenter(t,!1),0,r,o);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,i,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,u,"skybox",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,i,c,a,u):"gradient"===l&&"sky"===t.renderPass&&function(t,n,i,r,o){const a=t.context,s=a.gl,l=t.transform,c=t.useProgram("skyboxGradient");n.skyboxGeometry||(n.skyboxGeometry=new Pi(a)),a.activeTexture.set(s.TEXTURE0);let u=n.colorRampTexture;u||(u=n.colorRampTexture=new e.Texture(a,n.colorRamp,s.RGBA)),u.bind(s.LINEAR,s.CLAMP_TO_EDGE);const h=((t,n,i,r,o)=>({u_matrix:t,u_color_ramp:0,u_center_direction:n,u_radius:e.degToRad(i),u_opacity:r,u_temporal_offset:o}))(l.skyboxMatrix,n.getCenter(t,!1),n.paint.get("sky-gradient-radius"),r,o);t.prepareDrawProgram(a,c),c.draw(a,s.TRIANGLES,i,e.StencilMode.disabled,t.colorModeForRenderPass(),e.CullFaceMode.backCW,h,"skyboxGradient",n.skyboxGeometry.vertexBuffer,n.skyboxGeometry.indexBuffer,n.skyboxGeometry.segment)}(t,i,c,a,u)},debug:function(e,t,n){for(let i=0;i<n.length;i++)Ei(e,t,n[i])},custom:function(t,n,i){const r=t.context,o=i.implementation;if(t.transform.projection.unsupportedLayers&&t.transform.projection.unsupportedLayers.includes("custom"))e.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if("offscreen"===t.renderPass){const e=o.prerender;e&&(t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),e.call(o,r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState())}else if("translucent"===t.renderPass){t.setCustomLayerDefaults(),r.setColorMode(t.colorModeForRenderPass()),r.setStencilMode(e.StencilMode.disabled);const n="3d"===o.renderingMode?new e.DepthMode(t.context.gl.LEQUAL,e.DepthMode.ReadWrite,t.depthRangeFor3D):t.depthModeForSublayer(0,e.DepthMode.ReadOnly);r.setDepthMode(n),o.render(r.gl,t.transform.customLayerMatrix()),r.setDirty(),t.setBaseState(),r.bindFramebuffer.set(null)}}};class Ri{constructor(t,n){this.context=new Me(t),this.transform=n,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=e.SourceCache.maxUnderzooming+e.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new qt,this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(e,t){const n=!!e&&!!e.terrain&&this.transform.projection.supportsTerrain;if(!(n||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Pn(this,e));const i=this._terrain;this.transform.elevation=n?i:null,i.update(e,this.transform,t)}_updateFog(e){const t=e.fog;if(!t||"globe"===this.transform.projection.name||t.getOpacity(this.transform.pitch)<1||t.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[n,i]=t.getFovAdjustedRange(this.transform._fov);if(n>i)return void(this.transform.fogCullDistSq=null);const r=n+.78*(i-n);this.transform.fogCullDistSq=r*r}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(t,n){if(this.width=t*e.exported.devicePixelRatio,this.height=n*e.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style.order)this.style._layers[e].resize()}setup(){const t=this.context,n=new e.StructArrayLayout2i4;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,e.posAttributes.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const i=new e.StructArrayLayout2i4;i.emplaceBack(0,0),i.emplaceBack(e.EXTENT,0),i.emplaceBack(0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(i,e.posAttributes.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const r=new e.StructArrayLayout2i4;r.emplaceBack(-1,-1),r.emplaceBack(1,-1),r.emplaceBack(-1,1),r.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(r,e.posAttributes.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const o=new e.StructArrayLayout4i8;o.emplaceBack(0,0,0,0),o.emplaceBack(e.EXTENT,0,e.EXTENT,0),o.emplaceBack(0,e.EXTENT,0,e.EXTENT),o.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.mercatorBoundsBuffer=t.createVertexBuffer(o,e.boundsAttributes.members),this.mercatorBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.StructArrayLayout3ui6;a.emplaceBack(0,1,2),a.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(a);const s=new e.StructArrayLayout1ui2;for(const e of[0,1,3,2,0])s.emplaceBack(e);this.debugIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new e.Texture(t,new e.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),t.gl.RGBA),this.identityMat=e.create();const l=this.context.gl;this.stencilClearMode=new e.StencilMode({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO),this.loadTimeStamps.push(e.window.performance.now()),this.atmosphereBuffer=new Li(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(e){return e._makeTileBoundsBuffers(this.context,this.transform.projection),e._tileBoundsBuffer?{tileBoundsBuffer:e._tileBoundsBuffer,tileBoundsIndexBuffer:e._tileBoundsIndexBuffer,tileBoundsSegments:e._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(t,n.TRIANGLES,e.DepthMode.disabled,this.stencilClearMode,e.ColorMode.disabled,e.CullFaceMode.disabled,Mn(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(t,n,i){if(!n||this.currentStencilSource===n.id||!t.isTileClipped()||!i||0===i.length)return;if(this._tileClippingMaskIDs&&!this.terrain){let e=!1;for(const t of i)if(void 0===this._tileClippingMaskIDs[t.key]){e=!0;break}if(!e)return}this.currentStencilSource=n.id;const r=this.context,o=r.gl;this.nextStencilID+i.length>256&&this.clearStencil(),r.setColorMode(e.ColorMode.disabled),r.setDepthMode(e.DepthMode.disabled);const a=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const t of i){const i=n.getTile(t),s=this._tileClippingMaskIDs[t.key]=this.nextStencilID++,{tileBoundsBuffer:l,tileBoundsIndexBuffer:c,tileBoundsSegments:u}=this.getTileBoundsBuffers(i);a.draw(r,o.TRIANGLES,e.DepthMode.disabled,new e.StencilMode({func:o.ALWAYS,mask:0},s,255,o.KEEP,o.KEEP,o.REPLACE),e.ColorMode.disabled,e.CullFaceMode.disabled,Mn(t.projMatrix),"$clipping",l,c,u)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const t=this.nextStencilID++,n=this.context.gl;return new e.StencilMode({func:n.NOTEQUAL,mask:255},t,255,n.KEEP,n.KEEP,n.REPLACE)}stencilModeForClipping(t){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(t);const n=this.context.gl;return new e.StencilMode({func:n.EQUAL,mask:255},this._tileClippingMaskIDs[t.key],0,n.KEEP,n.KEEP,n.REPLACE)}stencilConfigForOverlap(t){const n=this.context.gl,i=t.sort((e,t)=>t.overscaledZ-e.overscaledZ),r=i[i.length-1].overscaledZ,o=i[0].overscaledZ-r+1;if(o>1){this.currentStencilSource=void 0,this.nextStencilID+o>256&&this.clearStencil();const t={};for(let i=0;i<o;i++)t[i+r]=new e.StencilMode({func:n.GEQUAL,mask:255},i+this.nextStencilID,255,n.KEEP,n.KEEP,n.REPLACE);return this.nextStencilID+=o,[t,i]}return[{[r]:e.StencilMode.disabled},i]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const n=1/8;return new e.ColorMode([t.CONSTANT_COLOR,t.ONE],new e.Color(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?e.ColorMode.unblended:e.ColorMode.alphaBlended}depthModeForSublayer(t,n,i){if(!this.opaquePassEnabledForLayer())return e.DepthMode.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon;return new e.DepthMode(i||this.context.gl.LEQUAL,n,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,n){this.style=t,this.options=n,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const i=this.style.order,r=this.style._sourceCaches;for(const e in r){const t=r[e];t.used&&t.prepare(this.context)}const o={},a={},s={};for(const e in r){const t=r[e];o[e]=t.getVisibleCoordinates(),a[e]=o[e].slice().reverse(),s[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<i.length;e++)if(this.style._layers[i[e]].is3D()){this.opaquePassCutoff=e;break}if(this.terrain&&(this.terrain.updateTileBinding(s),this.opaquePassCutoff=0),"globe"!==this.transform.projection.name||this.globeSharedBuffers||(this.globeSharedBuffers=new e.GlobeSharedBuffers(this.context)),e.isMapAuthenticated(this.context.gl)){this.renderPass="offscreen";for(const e of i){const n=this.style._layers[e],i=t._getLayerSourceCache(n);if(!n.hasOffscreenPass()||n.isHidden(this.transform.zoom))continue;const r=i?a[i.id]:void 0;("custom"===n.type||n.isSky()||r&&r.length)&&this.renderLayer(this,i,n,r)}if(this.depthRangeFor3D=[0,1-(t.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[i[this.currentLayer]],n=t._getLayerSourceCache(e);if(e.isSky())continue;const r=n?a[n.id]:void 0;this._renderTileClippingMasks(e,n,r),this.renderLayer(this,n,e,r)}if(this.style.fog&&this.transform.projection.supportsFog&&function(t,n){const i=t.context,r=i.gl,o=t.transform,a=new e.DepthMode(r.LEQUAL,e.DepthMode.ReadOnly,[0,1]),s=t.useProgram("globeAtmosphere",null,"globe"===o.projection.name?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),l=e.globeToMercatorTransition(o.zoom),c=n.properties.get("color").toArray01(),u=n.properties.get("high-color").toArray01(),h=n.properties.get("space-color").toArray01PremultipliedAlpha(),d=e.identity$1([]);e.rotateY$1(d,d,-e.degToRad(o._center.lng)),e.rotateX$1(d,d,e.degToRad(o._center.lat)),e.rotateZ$1(d,d,o.angle),e.rotateX$1(d,d,-o._pitch);const p=e.fromQuat(new Float32Array(16),d),f=e.mapValue(n.properties.get("star-intensity"),0,1,0,.25),m=5e-4,g=e.mapValue(n.properties.get("horizon-blend"),0,1,m,.25),y=e.globeUseCustomAntiAliasing(t,i,o)&&g===m?o.worldSize/(2*Math.PI*1.025)-1:o.globeRadius,_=t.frameCounter/1e3%1,v=e.length(o.globeCenterInViewSpace),x=Math.sqrt(Math.pow(v,2)-Math.pow(y,2)),b=Math.acos(x/v),w=((t,n,i,r,o,a,s,l,c,u,h,d,p,f)=>({u_frustum_tl:t,u_frustum_tr:n,u_frustum_br:i,u_frustum_bl:r,u_horizon:o,u_transition:a,u_fadeout_range:s,u_color:l,u_high_color:c,u_space_color:u,u_star_intensity:h,u_star_size:5*e.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:d,u_horizon_angle:p,u_rotation_matrix:f}))(o.frustumCorners.TL,o.frustumCorners.TR,o.frustumCorners.BR,o.frustumCorners.BL,o.frustumCorners.horizon,l,g,c,u,h,f,_,b,p);t.prepareDrawProgram(i,s);const T=t.atmosphereBuffer;T&&s.draw(i,r.TRIANGLES,a,e.StencilMode.disabled,e.ColorMode.alphaBlended,e.CullFaceMode.backCW,w,"skybox",T.vertexBuffer,T.indexBuffer,T.segments)}(this,this.style.fog),this.renderPass="sky",(e.globeToMercatorTransition(this.transform.zoom)>0||"globe"!==this.transform.projection.name)&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){const e=this.style._layers[i[this.currentLayer]],n=t._getLayerSourceCache(e);e.isSky()&&this.renderLayer(this,n,e,n?a[n.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;){const e=this.style._layers[i[this.currentLayer]],n=t._getLayerSourceCache(e);if(e.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(e)){if(e.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const r=n?("symbol"===e.type?s:a)[n.id]:void 0;this._renderTileClippingMasks(e,n,n?o[n.id]:void 0),this.renderLayer(this,n,e,r),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let n=null;e.values(this.style._layers).forEach(e=>{const i=t._getLayerSourceCache(e);i&&!e.isHidden(this.transform.zoom)&&(!n||n.getSource().maxzoom<i.getSource().maxzoom)&&(n=i)}),n&&this.options.showTileBoundaries&&Oi.debug(this,n,n.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;Si(e,e.transform.height-(t.top||0),3,vi),Si(e,t.bottom||0,3,xi),Mi(e,t.left||0,3,bi),Mi(e,e.transform.width-(t.right||0),3,wi);const n=e.transform.centerPoint;!function(e,t,n,i){Ii(e,t-1,n-10,2,20,i),Ii(e,t-10,n-1,20,2,i)}(e,n.x,e.transform.height-n.y,Ti)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(e.window.performance.now()),this.saveCanvasCopy())}}renderLayer(e,t,n,i){n.isHidden(this.transform.zoom)||("background"===n.type||"sky"===n.type||"custom"===n.type||i&&i.length)&&(this.id=n.id,this.gpuTimingStart(n),e.transform.projection.unsupportedLayers&&e.transform.projection.unsupportedLayers.includes(n.type)||Oi[n.type](e,t,n,i,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const e=this.context.extTimerQuery,t=e.createQueryEXT();this.deferredRenderGpuTimeQueries.push(t),e.beginQueryEXT(e.TIME_ELAPSED_EXT,t)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}collectDeferredRenderGpuQueries(){const e=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],e}queryGpuTimers(e){const t={};for(const n in e){const i=e[n],r=this.context.extTimerQuery,o=r.getQueryObjectEXT(i.query,r.QUERY_RESULT_EXT)/1e6;r.deleteQueryEXT(i.query),t[n]=o}return t}queryGpuTimeDeferredRender(e){if(!this.options.gpuTimingDeferredRender)return 0;const t=this.context.extTimerQuery;let n=0;for(const i of e)n+=t.getQueryObjectEXT(i,t.QUERY_RESULT_EXT)/1e6,t.deleteQueryEXT(i);return n}translatePosMatrix(t,n,i,r,o){if(!i[0]&&!i[1])return t;const a=o?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);i=[i[0]*t-i[1]*e,i[0]*e+i[1]*t]}const s=[o?i[0]:D(n,i[0],this.transform.zoom),o?i[1]:D(n,i[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,s),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){return null===e||void 0!==e&&!this.imageManager.getPattern(e.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const e=this.terrain&&this.terrain.renderingToTexture,t=this.terrain&&0===this.terrain.exaggeration(),n=this.style&&this.style.fog,i=[];return this.terrainRenderModeElevated()&&i.push("TERRAIN"),"globe"===this.transform.projection.name&&i.push("GLOBE"),t&&i.push("ZERO_EXAGGERATION"),n&&!e&&0!==n.getOpacity(this.transform.pitch)&&i.push("FOG"),e&&i.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&i.push("OVERDRAW_INSPECTOR"),i}useProgram(e,t,n){this.cache=this.cache||{};const i=n||[],r=this.currentGlobalDefines().concat(i),o=zn.cacheKey(hn[e],e,r,t);return this.cache[o]||(this.cache[o]=new zn(this.context,e,hn[e],t,si[e],r)),this.cache[o]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=e.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new e.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(t,n,i){if(this.terrain&&this.terrain.renderingToTexture)return;const r=this.style.fog;if(r){const o=r.getOpacity(this.transform.pitch),a=((t,n,i,r,o,a,s,l,c,u,h)=>{const d=t.transform,p=n.properties.get("color").toArray01();p[3]=r;const f=t.frameCounter/1e3%1;return{u_fog_matrix:i?d.calculateFogTileMatrix(i):t.identityMat,u_fog_range:n.getFovAdjustedRange(d._fov),u_fog_color:p,u_fog_horizon_blend:n.properties.get("horizon-blend"),u_fog_temporal_offset:f,u_frustum_tl:o,u_frustum_tr:a,u_frustum_br:s,u_frustum_bl:l,u_globe_pos:c,u_globe_radius:u,u_viewport:h,u_globe_transition:e.globeToMercatorTransition(d.zoom),u_is_globe:+("globe"===d.projection.name)}})(this,r,i,o,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*e.exported.devicePixelRatio,this.transform.height*e.exported.devicePixelRatio]);n.setFogUniformValues(t,a)}}setTileLoadedFlag(e){this.tileLoaded=e}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const e=this.context.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.copyTexImage2D(e.TEXTURE_2D,0,e.RGBA,0,0,e.drawingBufferWidth,e.drawingBufferHeight,0),t}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const e=this.style&&this.style.fog;return!!e&&0!==e.getOpacity(this.transform.pitch)}getBackgroundTiles(){const t=this._backgroundTiles,n=this._backgroundTiles={},i=this.transform.coveringTiles({tileSize:512});for(const r of i)n[r.key]=t[r.key]||new e.Tile(r,512,this.transform.tileZoom,this);return n}clearBackgroundTiles(){this._backgroundTiles={}}}class Bi{constructor(e=0,t=0,n=0,i=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=i}interpolate(t,n,i){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,i)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,i)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,i)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,i)),this}getCenter(t,n){const i=e.clamp((this.left+t-this.right)/2,0,t),r=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.pointGeometry(i,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Bi(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function ji(t,n){const i=e.getColumn(t,3);e.fromQuat(t,n),e.setColumn(t,3,i)}function Fi(t,n){const i=e.identity$1([]);return e.rotateZ$1(i,i,-n),e.rotateX$1(i,i,-t),i}function Ni(t,n){const i=[t[0],t[1],0],r=[n[0],n[1],0];if(e.length(i)>=1e-15){const t=e.normalize([],i);e.scale$2(r,t,e.dot(r,t)),n[0]=r[0],n[1]=r[1]}const o=e.cross([],n,t);if(e.len(o)<1e-15)return null;const a=Math.atan2(-o[1],o[0]);return Fi(Math.atan2(Math.sqrt(t[0]*t[0]+t[1]*t[1]),-t[2]),a)}class Ui{constructor(e,t){this.position=e,this.orientation=t}get position(){return this._position}set position(t){if(t){const n=t instanceof e.MercatorCoordinate?t:new e.MercatorCoordinate(t[0],t[1],t[2]);this._renderWorldCopies&&(n.x=e.wrap(n.x,0,1)),this._position=n}else this._position=null}lookAtPoint(t,n){if(this.orientation=null,!this.position)return;const i=this._elevation?this._elevation.getAtPointOrZero(e.MercatorCoordinate.fromLngLat(t)):0,r=this.position,o=e.MercatorCoordinate.fromLngLat(t,i),a=[o.x-r.x,o.y-r.y,o.z-r.z];n||(n=[0,0,1]),n[2]=Math.abs(n[2]),this.orientation=Ni(a,n)}setPitchBearing(t,n){this.orientation=Fi(e.degToRad(t),e.degToRad(-n))}}class Vi{constructor(t,n){this._transform=e.identity([]),this.orientation=n,this.position=t}get mercatorPosition(){const t=this.position;return new e.MercatorCoordinate(t[0],t[1],t[2])}get position(){const t=e.getColumn(this._transform,3);return[t[0],t[1],t[2]]}set position(t){var n;t&&e.setColumn(this._transform,3,[(n=t)[0],n[1],n[2],1])}get orientation(){return this._orientation}set orientation(t){this._orientation=t||e.identity$1([]),t&&ji(this._transform,this._orientation)}getPitchBearing(){const e=this.forward(),t=this.right();return{bearing:Math.atan2(-t[1],t[0]),pitch:Math.atan2(Math.sqrt(e[0]*e[0]+e[1]*e[1]),-e[2])}}setPitchBearing(e,t){this._orientation=Fi(e,t),ji(this._transform,this._orientation)}forward(){const t=e.getColumn(this._transform,2);return[-t[0],-t[1],-t[2]]}up(){const t=e.getColumn(this._transform,1);return[-t[0],-t[1],-t[2]]}right(){const t=e.getColumn(this._transform,0);return[t[0],t[1],t[2]]}getCameraToWorld(t,n){const i=new Float64Array(16);return e.invert(i,this.getWorldToCamera(t,n)),i}getWorldToCameraPosition(t,n,i){const r=this.position;e.scale$2(r,r,-t);const o=new Float64Array(16);return e.fromScaling(o,[i,i,i]),e.translate(o,o,r),o[10]*=n,o}getWorldToCamera(t,n){const i=new Float64Array(16),r=new Float64Array(4),o=this.position;return e.conjugate(r,this._orientation),e.scale$2(o,o,-t),e.fromQuat(i,r),e.translate(i,i,o),i[1]*=-1,i[5]*=-1,i[9]*=-1,i[13]*=-1,i[8]*=n,i[9]*=n,i[10]*=n,i[11]*=n,i}getCameraToClipPerspective(t,n,i,r){const o=new Float64Array(16);return e.perspective(o,t,n,i,r),o}getDistanceToElevation(t,n=!1){const i=0===t?0:e.mercatorZfromAltitude(t,n?e.latFromMercatorY(this.position[1]):this.position[1]),r=this.forward();return(i-this.position[2])/r[2]}clone(){return new Vi([...this.position],[...this.orientation])}}function Gi(t,n){const i=Wi(t.projection,t.zoom,t.width,t.height),r=function(t,n,i,r,o){const a=new e.LngLat(i.lng-180*qi,i.lat),s=new e.LngLat(i.lng+180*qi,i.lat),l=t.project(a.lng,a.lat),c=t.project(s.lng,s.lat),u=-Math.atan2(c.y-l.y,c.x-l.x),h=e.MercatorCoordinate.fromLngLat(i);h.y=e.clamp(h.y,-.999975,.999975);const d=h.toLngLat(),p=t.project(d.lng,d.lat),f=e.MercatorCoordinate.fromLngLat(d);f.x+=qi;const m=f.toLngLat(),g=t.project(m.lng,m.lat),y=Hi(g.x-p.x,g.y-p.y,u),_=e.MercatorCoordinate.fromLngLat(d);_.y+=qi;const v=_.toLngLat(),x=t.project(v.lng,v.lat),b=Hi(x.x-p.x,x.y-p.y,u),w=Math.abs(y.x)/Math.abs(b.y),T=e.identity([]);e.rotateZ(T,T,-u*(1-(o?0:r)));const E=e.identity([]);return e.scale(E,E,[1,1-(1-w)*r,1]),E[4]=-b.x/b.y*r,e.rotateZ(E,E,u),e.multiply(E,T,E),E}(t.projection,0,t.center,i,n),o=Zi(t);return e.scale(r,r,[o,o,1]),r}function Zi(t){const n=t.projection,i=Wi(t.projection,t.zoom,t.width,t.height),r=$i(n,t.center),o=$i(n,e.LngLat.convert(n.center));return Math.pow(2,r*i+(1-i)*o)}function Wi(t,n,i,r,o=1/0){const a=t.range;if(!a)return 0;const s=Math.min(o,Math.max(i,r)),l=Math.log(s/1024)/Math.LN2;return e.smoothstep(a[0]+l,a[1]+l,n)}const qi=1/4e4;function $i(t,n){const i=e.clamp(n.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),r=new e.LngLat(n.lng-180*qi,i),o=new e.LngLat(n.lng+180*qi,i),a=t.project(r.lng,i),s=t.project(o.lng,i),l=e.MercatorCoordinate.fromLngLat(r),c=e.MercatorCoordinate.fromLngLat(o),u=s.x-a.x,h=s.y-a.y,d=c.x-l.x,p=c.y-l.y,f=Math.sqrt((d*d+p*p)/(u*u+h*h));return Math.log(f)/Math.LN2}function Hi(e,t,n){const i=Math.cos(n),r=Math.sin(n);return{x:e*i-t*r,y:e*r+t*i}}class Xi{constructor(t,n,i,r,o,a,s){this.tileSize=512,this._renderWorldCopies=void 0===o||o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==i?0:i,this._maxPitch=null==r?60:r,this.setProjection(a),this.setMaxBounds(s),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Bi,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Vi,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const e=new Xi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return e._elevation=this._elevation,e._centerAltitude=this._centerAltitude,e._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,e.tileSize=this.tileSize,e.mercatorFromTransition=this.mercatorFromTransition,e.width=this.width,e.height=this.height,e.cameraElevationReference=this.cameraElevationReference,e._center=this._center,e._setZoom(this.zoom),e._seaLevelZoom=this._seaLevelZoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._nearZ=this._nearZ,e._farZ=this._farZ,e._averageElevation=this._averageElevation,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._camera=this._camera.clone(),e._calcMatrices(),e.freezeTileCoverage=this.freezeTileCoverage,e.frustumCorners=this.frustumCorners,e}get elevation(){return this._elevation}set elevation(e){this._elevation!==e&&(this._elevation=e,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(e,t=!1){const n=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(null==this._seaLevelZoom||n)&&this._updateCameraOnTerrain(),(e||n)&&this._constrainCamera(t),this._calcMatrices()}getProjection(){return e.pick(this.projection,["name","center","parallels"])}setProjection(n){this.projectionOptions=n||{name:"mercator"};const i=this.projection?this.getProjection():void 0;this.projection=e.getProjection(this.projectionOptions);const r=!t(i,this.getProjection());return r&&this._calcMatrices(),this.mercatorFromTransition=!1,r}setMercatorFromTransition(){const t=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=e.getProjection({name:"mercator"});const n=t!==this.projection.name;return n&&this._calcMatrices(),n}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies&&!0===this.projection.supportsWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get cameraWorldSize(){const e=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(e))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return e.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return e.wrap(this.rotation,-180,180)}set bearing(e){this.rotation=e}get rotation(){return-this.angle/Math.PI*180}set rotation(t){const n=-t*Math.PI/180;var i;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=(i=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(i[1]=0,i[2]=0),i[0]=1,i[3]=1,i),function(e,t,n){var i=t[0],r=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=i*l+o*s,e[1]=r*l+a*s,e[2]=i*-s+o*l,e[3]=r*-s+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}get aspect(){return this.width/this.height}get fovX(){return this._fov}get fovY(){const e=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/e)}set fov(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=e.degToRad(t),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(e){this._averageElevation=e,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._setZoom(t),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(e){this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const e=this._elevation;this._centerAltitude=e.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=e.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){void 0!==this._centerAltitudeValidForExaggeration&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const t=this._elevation,n=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],i=this.horizonLineFromTop();let r=0,o=0;for(let a=0;a<n.length;a++){const s=new e.pointGeometry(n[a][0]*this.width,i+n[a][1]*(this.height-i)),l=t.pointCoordinate(s);if(!l)continue;const c=1/Math.hypot(l[0]-this._camera.position[0],l[1]-this._camera.position[1]);r+=l[3]*c,o+=c}return 0===o?NaN:r/o}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._terrainEnabled()&&("ground"===this.cameraElevationReference?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(null==this._seaLevelZoom||!this._elevation)return;const e=this._seaLevelZoom,t=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),n=this.pixelsPerMeter/this.worldSize*t,i=this._mercatorZfromZoom(e),r=this._mercatorZfromZoom(this._maxZoom),o=Math.max(i-n,r);this._setZoom(this._zoomFromMercatorZ(o))}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}computeZoomRelativeTo(t){const n=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,t.toAltitude()));let i;i=t.z<this._camera.position[2]?[n.x,n.y,n.z]:[t.x,t.y,t.z];const r=e.length(e.sub([],this._camera.position,i));return e.clamp(this._zoomFromMercatorZ(r),this._minZoom,this._maxZoom)}setFreeCameraOptions(t){if(!this.height)return;if(!t.position&&!t.orientation)return;this._updateCameraState();let n=!1;if(t.orientation&&!e.exactEquals(t.orientation,this._camera.orientation)&&(n=this._setCameraOrientation(t.orientation)),t.position){const i=[t.position.x,t.position.y,t.position.z];e.exactEquals$1(i,this._camera.position)||(this._setCameraPosition(i),n=!0)}n&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const t=this._camera.position,n=new Ui;return n.position=new e.MercatorCoordinate(t[0],t[1],t[2]),n.orientation=this._camera.orientation,n._elevation=this.elevation,n._renderWorldCopies=this.renderWorldCopies,n}_setCameraOrientation(t){if(!e.length$1(t))return!1;e.normalize$1(t,t);const n=e.transformQuat([],[0,0,-1],t),i=e.transformQuat([],[0,-1,0],t);if(i[2]<0)return!1;const r=Ni(n,i);return!!r&&(this._camera.orientation=r,!0)}_setCameraPosition(t){const n=this.zoomScale(this.minZoom)*this.tileSize,i=this.zoomScale(this.maxZoom)*this.tileSize,r=this.cameraToCenterDistance;t[2]=e.clamp(t[2],r/i,r/n),this._camera.position=t}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const n=[new e.UnwrappedTileID(0,t)];if(this.renderWorldCopies){const i=this.pointCoordinate(new e.pointGeometry(0,0)),r=this.pointCoordinate(new e.pointGeometry(this.width,0)),o=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),a=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(i.x,r.x,o.x,a.x)),l=Math.floor(Math.max(i.x,r.x,o.x,a.x)),c=1;for(let i=s-c;i<=l+c;i++)0!==i&&n.push(new e.UnwrappedTileID(i,t))}return n}coveringTiles(t){let n=this.coveringZoomLevel(t);const i=n,r=this.elevation&&!t.isTerrainDEM,o="mercator"===this.projection.name;if(void 0!==t.minzoom&&n<t.minzoom)return[];void 0!==t.maxzoom&&n>t.maxzoom&&(n=t.maxzoom);const a=this.locationCoordinate(this.center),s=this.center.lat,l=1<<n,c=[l*a.x,l*a.y,0],u="globe"===this.projection.name,h=!u,d=e.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,n,h),p=u?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),f=l*e.mercatorZfromAltitude(1,this.center.lat),m=this._camera.position[2]/e.mercatorZfromAltitude(1,this.center.lat),g=[l*p.x,l*p.y,m*(h?1:f)],y=this.cameraToCenterDistance/t.tileSize*(t.roundZoom?1:.502),_=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?n:0,v=t.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,x=t.isTerrainDEM?-v:this._elevation?this._elevation.getMinElevationBelowMSL():0,b=this.projection.isReprojectedInTileSpace?Zi(this):1,w=t=>{const n=1/4e4,i=new e.MercatorCoordinate(t.x+n,t.y,t.z),r=new e.MercatorCoordinate(t.x,t.y+n,t.z),o=t.toLngLat(),a=i.toLngLat(),s=r.toLngLat(),l=this.locationCoordinate(o),c=this.locationCoordinate(a),u=this.locationCoordinate(s),h=Math.hypot(c.x-l.x,c.y-l.y),d=Math.hypot(u.x-l.x,u.y-l.y);return Math.sqrt(h*d)*b/n},T=t=>{const n=v,i=x;return{aabb:e.tileAABB(this,l,0,0,0,t,i,n,this.projection),zoom:0,x:0,y:0,minZ:i,maxZ:n,wrap:t,fullyVisible:!1}},E=[];let S=[];const M=n,I=t.reparseOverscaled?i:n,C=e=>e*e,k=C((m-this._centerAltitude)*f),A=e=>{if(!this._elevation||!e.tileID||!o)return;const t=this._elevation.getMinMaxForTile(e.tileID),n=e.aabb;t?(n.min[2]=t.min,n.max[2]=t.max,n.center[2]=(n.min[2]+n.max[2])/2):(e.shouldSplit=P(e),e.shouldSplit||(n.min[2]=n.max[2]=n.center[2]=this._centerAltitude))},P=t=>{if(t.zoom<_)return!0;if(t.zoom===M)return!1;if(null!=t.shouldSplit)return t.shouldSplit;const n=t.aabb.distanceX(g),o=t.aabb.distanceY(g);let a=k,l=1;if(u){a=C(t.aabb.distanceZ(g));const n=Math.pow(2,t.zoom),i=e.latFromMercatorY((t.y+1)/n),r=e.latFromMercatorY(t.y/n),o=Math.min(Math.max(s,i),r),c=e.circumferenceAtLatitude(o)/e.circumferenceAtLatitude(s);if(l=o===s?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,c/this._mercatorScaleRatio),this.zoom<=e.GLOBE_ZOOM_THRESHOLD_MIN&&t.zoom===M-1&&c>=.9)return!0}else if(r&&(a=C(t.aabb.distanceZ(g)*f)),this.projection.isReprojectedInTileSpace&&i<=5){const n=Math.pow(2,t.zoom),i=w(new e.MercatorCoordinate((t.x+.5)/n,(t.y+.5)/n));l=i>.85?1:i}const c=n*n+o*o+a;return c<C((1<<M-t.zoom)*y*l*((e,t)=>{if(t*C(.707)<e)return 1;const n=Math.sqrt(t/e);return n/(1.4144271570014144+(Math.pow(1.1,n-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(a,k),c))};if(this.renderWorldCopies)for(let e=1;e<=3;e++)E.push(T(-e)),E.push(T(e));for(E.push(T(0));E.length>0;){const i=E.pop(),a=i.x,s=i.y;let h=i.fullyVisible;if(!h){const e=i.aabb.intersects(d);if(0===e)continue;h=2===e}if(i.zoom!==M&&P(i))for(let t=0;t<4;t++){const n=(a<<1)+t%2,c=(s<<1)+(t>>1),d={aabb:o?i.aabb.quadrant(t):e.tileAABB(this,l,i.zoom+1,n,c,i.wrap,i.minZ,i.maxZ,this.projection),zoom:i.zoom+1,x:n,y:c,wrap:i.wrap,fullyVisible:h,tileID:void 0,shouldSplit:void 0,minZ:i.minZ,maxZ:i.maxZ};r&&!u&&(d.tileID=new e.OverscaledTileID(i.zoom+1===M?I:i.zoom+1,i.wrap,i.zoom+1,n,c),A(d)),E.push(d)}else{const r=i.zoom===M?I:i.zoom;if(t.minzoom&&t.minzoom>r)continue;const o=c[0]-(.5+a+(i.wrap<<i.zoom))*(1<<n-i.zoom),l=c[1]-.5-s,u=i.tileID?i.tileID:new e.OverscaledTileID(r,i.wrap,i.zoom,a,s);S.push({tileID:u,distanceSq:o*o+l*l})}}if(this.fogCullDistSq){const n=this.fogCullDistSq,i=this.horizonLineFromTop();S=S.filter(r=>{const o=[0,0,0,1],a=[e.EXTENT,e.EXTENT,0,1],s=this.calculateFogTileMatrix(r.tileID.toUnwrapped());e.transformMat4$1(o,o,s),e.transformMat4$1(a,a,s);const l=e.getAABBPointSquareDist(o,a);if(0===l)return!0;let c=!1;const u=this._elevation;if(u&&l>n&&0!==i){const n=this.calculateProjMatrix(r.tileID.toUnwrapped());let o;t.isTerrainDEM||(o=u.getMinMaxForTile(r.tileID)),o||(o={min:x,max:v});const a=e.furthestTileCorner(this.rotation),s=[a[0]*e.EXTENT,a[1]*e.EXTENT,o.max];e.transformMat4(s,s,n),c=(1-s[1])*this.height*.5<i}return l<n||c})}return S.sort((e,t)=>e.distanceSq-t.distanceSq).map(e=>e.tileID)}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const n=e.clamp(t.lat,-e.MAX_MERCATOR_LATITUDE,e.MAX_MERCATOR_LATITUDE),i=this.projection.project(t.lng,n);return new e.pointGeometry(i.x*this.worldSize,i.y*this.worldSize)}unproject(e){return this.projection.unproject(e.x/this.worldSize,e.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(t,n){let i,r;const o=this.centerPoint;if("globe"===this.projection.name){const e=this.worldSize;i=(n.x-o.x)/e,r=(n.y-o.y)/e}else{const e=this.pointCoordinate(n),t=this.pointCoordinate(o);i=e.x-t.x,r=e.y-t.y}const a=this.locationCoordinate(t);this.setLocation(new e.MercatorCoordinate(a.x-i,a.y-r))}setLocation(e){this.center=this.coordinateLocation(e),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(e){return this.projection.locationPoint(this,e)}locationPoint3D(e){return this.projection.locationPoint(this,e,!0)}pointLocation(e){return this.coordinateLocation(this.pointCoordinate(e))}pointLocation3D(e){return this.coordinateLocation(this.pointCoordinate3D(e))}locationCoordinate(t,n){const i=n?e.mercatorZfromAltitude(n,t.lat):void 0,r=this.projection.project(t.lng,t.lat);return new e.MercatorCoordinate(r.x,r.y,i)}coordinateLocation(e){return this.projection.unproject(e.x,e.y)}pointRayIntersection(t,n){const i=null!=n?n:this._centerAltitude,r=[t.x,t.y,0,1],o=[t.x,t.y,1,1];e.transformMat4$1(r,r,this.pixelMatrixInverse),e.transformMat4$1(o,o,this.pixelMatrixInverse);const a=o[3];e.scale$1(r,r,1/r[3]),e.scale$1(o,o,1/a);const s=r[2],l=o[2];return{p0:r,p1:o,t:s===l?0:(i-s)/(l-s)}}screenPointToMercatorRay(t){const n=[t.x,t.y,0,1],i=[t.x,t.y,1,1];return e.transformMat4$1(n,n,this.pixelMatrixInverse),e.transformMat4$1(i,i,this.pixelMatrixInverse),e.scale$1(n,n,1/n[3]),e.scale$1(i,i,1/i[3]),n[2]=e.mercatorZfromAltitude(n[2],this._center.lat)*this.worldSize,i[2]=e.mercatorZfromAltitude(i[2],this._center.lat)*this.worldSize,e.scale$1(n,n,1/this.worldSize),e.scale$1(i,i,1/this.worldSize),new e.Ray([n[0],n[1],n[2]],e.normalize([],e.sub([],i,n)))}rayIntersectionCoordinate(t){const{p0:n,p1:i,t:r}=t,o=e.mercatorZfromAltitude(n[2],this._center.lat),a=e.mercatorZfromAltitude(i[2],this._center.lat);return new e.MercatorCoordinate(e.number(n[0],i[0],r)/this.worldSize,e.number(n[1],i[1],r)/this.worldSize,e.number(o,a,r))}pointCoordinate(e,t=this._centerAltitude){return this.projection.pointCoordinate(this,e.x,e.y,t)}pointCoordinate3D(t){if(!this.elevation)return this.pointCoordinate(t);let n=this.projection.pointCoordinate3D(this,t.x,t.y);if(n)return new e.MercatorCoordinate(n[0],n[1],n[2]);let i=0,r=this.horizonLineFromTop();if(t.y>r)return this.pointCoordinate(t);const o=.02*r,a=t.clone();for(let t=0;t<10&&r-i>o;t++){a.y=e.number(i,r,.66);const t=this.projection.pointCoordinate3D(this,a.x,a.y);t?(r=a.y,n=t):i=a.y}return n?new e.MercatorCoordinate(n[0],n[1],n[2]):this.pointCoordinate(t)}isPointAboveHorizon(e){return this.projection.isPointAboveHorizon(this,e)}_coordinatePoint(t,n){const i=n&&this.elevation?this.elevation.getAtPointOrZero(t,this._centerAltitude):this._centerAltitude,r=[t.x*this.worldSize,t.y*this.worldSize,i+t.toAltitude(),1];return e.transformMat4$1(r,r,this.pixelMatrix),r[3]>0?new e.pointGeometry(r[0]/r[3],r[1]/r[3]):new e.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getGlobeBounds(){const{top:t,left:n}=this._edgeInsets,i=this.height-this._edgeInsets.bottom,r=this.width-this._edgeInsets.right,o=this.pointCoordinate3D(new e.pointGeometry(n,t)),a=this.pointCoordinate3D(new e.pointGeometry(r,t)),s=this.pointCoordinate3D(new e.pointGeometry(r,i)),l=this.pointCoordinate3D(new e.pointGeometry(n,i));let c=Math.min(o.x,l.x),u=Math.max(a.x,s.x),h=Math.min(o.y,a.y),d=Math.max(l.y,s.y);const p=Math.pow(2,-this.zoom)/16,f=(t,n,i,r)=>{const o=(t+i)/2,a=(n+r)/2,s=new e.pointGeometry(o,a),l=this.pointCoordinate3D(s),m=Math.max(0,c-l.x,h-l.y,l.x-u,l.y-d);c=Math.min(c,l.x),u=Math.max(u,l.x),h=Math.min(h,l.y),d=Math.max(d,l.y),m>p&&(f(t,n,o,a),f(o,a,i,r))};f(n,t,r,t),f(r,t,r,i),f(r,i,n,i),f(n,i,n,t);const[m,g]=e.polesInViewport(this),y=m||g,_=m?90:e.latFromMercatorY(h),v=y?180:e.lngFromMercatorX(u),x=g?-90:e.latFromMercatorY(d),b=y?-180:e.lngFromMercatorX(c);return new e.LngLatBounds(new e.LngLat(b,x),new e.LngLat(v,_))}_getBounds(t,n){if("globe"===this.projection.name)return this._getGlobeBounds();const i=new e.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),r=new e.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),o=new e.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),a=new e.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let s=this.pointCoordinate(i,t),l=this.pointCoordinate(r,t);const c=this.pointCoordinate(o,n),u=this.pointCoordinate(a,n),h=(e,t)=>(t.y-e.y)/(t.x-e.x);return s.y>1&&l.y>=0?s=new e.MercatorCoordinate((1-u.y)/h(u,s)+u.x,1):s.y<0&&l.y<=1&&(s=new e.MercatorCoordinate(-u.y/h(u,s)+u.x,0)),l.y>1&&s.y>=0?l=new e.MercatorCoordinate((1-c.y)/h(c,l)+c.x,1):l.y<0&&s.y<=1&&(l=new e.MercatorCoordinate(-c.y/h(c,l)+c.x,0)),(new e.LngLatBounds).extend(this.coordinateLocation(s)).extend(this.coordinateLocation(l)).extend(this.coordinateLocation(u)).extend(this.coordinateLocation(c))}_getBounds3D(){const e=this.elevation;if(!e.visibleDemTiles.length||e.isUsingMockSource())return this._getBounds(0,0);const t=e.visibleDemTiles.reduce((e,t)=>{if(t.dem){const n=t.dem.tree;e.min=Math.min(e.min,n.minimums[0]),e.max=Math.max(e.max,n.maximums[0])}return e},{min:Number.MAX_VALUE,max:0});return this._getBounds(t.min*e.exaggeration(),t.max*e.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(e=!0){const t=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,n=this.height/2-t*(1-this._horizonShift);return e?Math.max(0,n):n}getMaxBounds(){return this.maxBounds}setMaxBounds(t){this.maxBounds=t,this.minLat=-e.MAX_MERCATOR_LATITUDE,this.maxLat=e.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,t&&(this.minLat=t.getSouth(),this.maxLat=t.getNorth(),this.minLng=t.getWest(),this.maxLng=t.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=e.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=e.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=e.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=e.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(e,t){return this.projection.createTileMatrix(this,t,e)}calculateDistanceTileData(t){const n=t.key,i=this._distanceTileDataCache;if(i[n])return i[n];const r=t.canonical,o=1/this.height,a=this.cameraWorldSize,s=a/this.zoomScale(r.z),l=(r.x+Math.pow(2,r.z)*t.wrap)*s,c=r.y*s,u=this.point;u.x*=a/this.worldSize,u.y*=a/this.worldSize;const h=this.angle,d=Math.sin(-h),p=-Math.cos(-h);return i[n]={bearing:[d,p],center:[(u.x-l)*o,(u.y-c)*o],scale:s/e.EXTENT*o},i[n]}calculateFogTileMatrix(t){const n=t.key,i=this._fogTileMatrixCache;if(i[n])return i[n];const r=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,t);return e.multiply(r,this.worldToFogMatrix,r),i[n]=new Float32Array(r),i[n]}calculateProjMatrix(t,n=!1){const i=t.key,r=n?this._alignedProjMatrixCache:this._projMatrixCache;if(r[i])return r[i];const o=this.calculatePosMatrix(t,this.worldSize);return e.multiply(o,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:n?this.alignedProjMatrix:this.projMatrix,o),r[i]=new Float32Array(o),r[i]}calculatePixelsToTileUnitsMatrix(t){const n=t.tileID.key,i=this._pixelsToTileUnitsCache;if(i[n])return i[n];const r=function(t,n){const{scale:i}=t.tileTransform,r=i*e.EXTENT/(t.tileSize*Math.pow(2,n.zoom-t.tileID.overscaledZ+t.tileID.canonical.z));return o=new Float32Array(4),l=(a=n.inverseAdjustmentMatrix)[1],c=a[2],u=a[3],d=(s=[r,r])[1],o[0]=a[0]*(h=s[0]),o[1]=l*h,o[2]=c*d,o[3]=u*d,o;var o,a,s,l,c,u,h,d}(t,this);return i[n]=r,i[n]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation||"globe"===this.projection.name)return;const t=this._elevation;this._updateCameraState();const n=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,i=this._computeCameraPosition(n),r=this._camera.forward(),o=e.mercatorZfromAltitude(1,this._center.lat);i[2]/=o,r[2]/=o,e.normalize(r,r);const a=t.raycast(i,r,t.exaggeration());if(a){const t=e.scaleAndAdd([],i,r,a),n=new e.MercatorCoordinate(t[0],t[1],e.mercatorZfromAltitude(t[2],e.latFromMercatorY(t[1]))),s=(n.z+e.length([n.x-i[0],n.y-i[1],n.z-i[2]*o]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(s),this._centerAltitude=n.toAltitude(),this._center=this.coordinateLocation(n),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(t=!1){if(!this._elevation)return;const n=this._elevation,i=e.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,r=this._computeCameraPosition(i),o=n.getAtPointOrZero(new e.MercatorCoordinate(...r)),a=this.pixelsPerMeter/this.worldSize*o,s=this._minimumHeightOverTerrain(),l=r[2]-a;if(l<=s)if(l<0||t){const t=this.locationCoordinate(this._center,this._centerAltitude),n=[r[0],r[1],t.z-r[2]],i=e.length(n);n[2]-=(s-l)/this._pixelsPerMercatorPixel;const o=e.length(n);if(0===o)return;e.scale$2(n,n,i/o*this._pixelsPerMercatorPixel),this._camera.position=[r[0],r[1],t.z*this._pixelsPerMercatorPixel-n[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const t="globe"===this.projection.name||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||t){const n=this.center;return n.lat=e.clamp(n.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!t)&&(n.lng=e.clamp(n.lng,this.minLng,this.maxLng)),this.center=n,void(this._constraining=!1)}const n=this._unmodified,{x:i,y:r}=this.point;let o=0,a=i,s=r;const l=this.width/2,c=this.height/2,u=this.worldMinY*this.scale,h=this.worldMaxY*this.scale;if(r-c<u&&(s=u+c),r+c>h&&(s=h-c),h-u<this.height&&(o=Math.max(o,this.height/(h-u)),s=(h+u)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const e=this.worldMinX*this.scale,t=this.worldMaxX*this.scale,n=this.worldSize/2-(e+t)/2;a=(i+n+this.worldSize)%this.worldSize-n,a-l<e&&(a=e+l),a+l>t&&(a=t-l),t-e<this.width&&(o=Math.max(o,this.width/(t-e)),a=(t+e)/2)}a===i&&s===r||(this.center=this.unproject(new e.pointGeometry(a,s))),o&&(this.zoom+=this.scaleZoom(o)),this._constrainCamera(),this._unmodified=n,this._constraining=!1}_minZoomForBounds(){let e=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(e=Math.max(e,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),e}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,n=this.pixelsPerMeter;"globe"===this.projection.name&&(this._mercatorScaleRatio=e.mercatorZfromAltitude(1,this.center.lat)/e.mercatorZfromAltitude(1,e.GLOBE_SCALE_MATCH_LATITUDE));const i=Wi(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,i),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const r=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?n:1),o=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);o[8]=2*-t.x/this.width,o[9]=2*t.y/this.height;let a=e.mul([],o,r);if(this.projection.isReprojectedInTileSpace){const t=this.locationCoordinate(this.center),n=e.identity([]);e.translate(n,n,[t.x*this.worldSize,t.y*this.worldSize,0]),e.multiply(n,n,Gi(this)),e.translate(n,n,[-t.x*this.worldSize,-t.y*this.worldSize,0]),e.multiply(a,a,n),this.inverseAdjustmentMatrix=function(e){const t=Gi(e,!0);return _([],[t[0],t[1],t[4],t[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=e.scale([],a,[this.worldSize,this.worldSize,this.worldSize/n,1]),this.projMatrix=a,this.invProjMatrix=e.invert(new Float64Array(16),this.projMatrix);const s=e.invert([],o);this.frustumCorners=e.FrustumCorners.fromInvProjectionMatrix(s,this.horizonLineFromTop(),this.height);const l=new Float32Array(16);e.identity(l),e.scale(l,l,[1,-1,1]),e.rotateX(l,l,this._pitch),e.rotateZ(l,l,this.angle);const c=e.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),u=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;c[8]=2*-t.x/this.width,c[9]=2*(t.y+u)/this.height,this.skyboxMatrix=e.multiply(l,c,l);const h=this.point,d=h.x,p=h.y,f=this.width%2/2,m=this.height%2/2,g=Math.cos(this.angle),y=Math.sin(this.angle),v=d-Math.round(d)+g*f+y*m,x=p-Math.round(p)+g*m+y*f,b=new Float64Array(a);if(e.translate(b,b,[v>.5?v-1:v,x>.5?x-1:x,0]),this.alignedProjMatrix=b,a=e.create(),e.scale(a,a,[this.width/2,-this.height/2,1]),e.translate(a,a,[1,-1,0]),this.labelPlaneMatrix=a,a=e.create(),e.scale(a,a,[1,-1,1]),e.translate(a,a,[-1,-1,0]),e.scale(a,a,[2/this.width,2/this.height,1]),this.glCoordMatrix=a,this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},a=e.invert(new Float64Array(16),this.pixelMatrix),!a)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=a,"globe"===this.projection.name||this.mercatorFromTransition){this.globeMatrix=e.calculateGlobeMatrix(this);const t=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=e.transformMat4(t,t,r),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=a;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const t=this.cameraWorldSizeForFog,n=this.cameraPixelsPerMeter,i=this._camera.position,r=1/this.height/this._pixelsPerMercatorPixel,o=[t,t,n];e.scale$2(o,o,r),e.scale$2(i,i,-1),e.multiply$2(i,i,o);const a=e.create();e.translate(a,a,i),e.scale(a,a,o),this.mercatorFogMatrix=a,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(t,n,r)}_computeCameraPosition(e){const t=(e=e||this.pixelsPerMeter)/this.pixelsPerMeter,n=this._camera.forward(),i=this.point,r=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*t-e/this.worldSize*this._centerAltitude;return[i.x/this.worldSize-n[0]*r,i.y/this.worldSize-n[1]*r,e/this.worldSize*this._centerAltitude-n[2]*r]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(t){const n=this._maxCameraBoundsDistance()*Math.cos(this._pitch),i=this._camera.position[2],r=t[2];let o=1;this.projection.wrap&&(this.center=this.center.wrap()),r>0&&(o=Math.min((n-i)/r,1)),this._camera.position=e.scaleAndAdd([],this._camera.position,t,o),this._updateStateFromCamera()}_updateStateFromCamera(){const t=this._camera.position,n=this._camera.forward(),{pitch:i,bearing:r}=this._camera.getPitchBearing(),o=e.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,a=this._mercatorZfromZoom(this._maxZoom)*Math.cos(e.degToRad(this._maxPitch)),s=Math.max((t[2]-o)/Math.cos(i),a),l=this._zoomFromMercatorZ(s);e.scaleAndAdd(t,t,n,s),this._pitch=e.clamp(i,e.degToRad(this.minPitch),e.degToRad(this.maxPitch)),this.angle=e.wrap(r,-Math.PI,Math.PI),this._setZoom(e.clamp(l,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new e.MercatorCoordinate(t[0],t[1],t[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(e){return Math.pow(2,e)*this.tileSize}_mercatorZfromZoom(e){return this.cameraToCenterDistance/this._worldSizeFromZoom(e)}_minimumHeightOverTerrain(){const e=Math.min((null!=this._seaLevelZoom?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(e)}_zoomFromMercatorZ(e){return this.scaleZoom(this.cameraToCenterDistance/(e*this.tileSize))}zoomFromMercatorZAdjusted(e){const t=t=>{const n=this.getCameraToCenterDistance(this.projection,t);return this.scaleZoom(n/(e*this.tileSize))};let n,i=t(this.zoom),r=Math.abs(i-t(i));for(;n!==r;)i=t(i),n=r,r=Math.abs(i-t(i));return i}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(e.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(t,n){const i=Math.min(t.x,n.x),r=Math.max(t.x,n.x),o=Math.min(t.y,n.y),a=Math.max(t.y,n.y);if(o<this.horizonLineFromTop(!1))return!0;if("mercator"!==this.projection.name)return!1;const s=[new e.pointGeometry(i,o),new e.pointGeometry(r,a),new e.pointGeometry(i,a),new e.pointGeometry(r,o)],l=this.renderWorldCopies?-3:0,c=this.renderWorldCopies?4:1;for(const e of s){const t=this.pointRayIntersection(e);if(t.t<0)return!0;const n=this.rayIntersectionCoordinate(t);if(n.x<l||n.y<0||n.x>c||n.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+e.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new e.pointGeometry(0,0),new e.pointGeometry(this.width,this.height))}zoomDeltaToMovement(t,n){const i=e.length(e.sub([],this._camera.position,t)),r=this._zoomFromMercatorZ(i)+n;return i-this._mercatorZfromZoom(r)}getCameraPoint(){if("globe"===this.projection.name){const t=function([t,n,i],r){const o=[t,n,i,1];e.transformMat4$1(o,o,r);const a=o[3]=Math.max(o[3],1e-6);return o[0]/=a,o[1]/=a,o[2]/=a,o}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new e.pointGeometry(t[0],t[1])}{const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}}getCameraToCenterDistance(e,t=this.zoom){const n=Wi(e,t,this.width,this.height,1024),i=e.pixelSpaceConversion(this.center.lat,this.worldSize,n);return.5/Math.tan(.5*this._fov)*this.height*i}getWorldToCameraMatrix(){const t=this._camera.getWorldToCamera(this.worldSize,"meters"===this.projection.zAxisUnit?this.pixelsPerMeter:1);return"globe"===this.projection.name&&e.multiply(t,t,this.globeMatrix),t}}function Yi(e,t){let n=!1,i=null;const r=()=>{i=null,n&&(e(),i=setTimeout(r,t),n=!1)};return()=>(n=!0,i||r(),i)}class Ji{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Yi(this._updateHashUnthrottled.bind(this),300)}addTo(t){return this._map=t,e.window.addEventListener("hashchange",this._onHashChange,!1),t.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),e.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const t=this._map;if(!t)return"";const n=Qi(t);if(this._hashName){const t=this._hashName;let i=!1;const r=e.window.location.hash.slice(1).split("&").map(e=>{const r=e.split("=")[0];return r===t?(i=!0,`${r}=${n}`):e}).filter(e=>e);return i||r.push(`${t}=${n}`),"#"+r.join("&")}return"#"+n}_getCurrentHash(){const t=e.window.location.hash.replace("#","");if(this._hashName){let e;return t.split("&").map(e=>e.split("=")).forEach(t=>{t[0]===this._hashName&&(e=t)}),(e&&e[1]||"").split("/")}return t.split("/")}_onHashChange(){const e=this._map;if(!e)return!1;const t=this._getCurrentHash();if(t.length>=3&&!t.some(e=>isNaN(e))){const n=e.dragRotate.isEnabled()&&e.touchZoomRotate.isEnabled()?+(t[3]||0):e.getBearing();return e.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:n,pitch:+(t[4]||0)}),!0}return!1}_updateHashUnthrottled(){const t=e.window.location.href.replace(/(#.+)?$/,this.getHashString());e.window.history.replaceState(e.window.history.state,null,t)}}function Qi(e,t){const n=e.getCenter(),i=Math.round(100*e.getZoom())/100,r=Math.ceil((i*Math.LN2+Math.log(512/360/.5))/Math.LN10),o=Math.pow(10,r),a=Math.round(n.lng*o)/o,s=Math.round(n.lat*o)/o,l=e.getBearing(),c=e.getPitch();let u=t?`/${a}/${s}/${i}`:`${i}/${s}/${a}`;return(l||c)&&(u+="/"+Math.round(10*l)/10),c&&(u+="/"+Math.round(c)),u}const Ki={linearity:.3,easing:e.bezier(0,0,.3,1)},er=e.extend({deceleration:2500,maxSpeed:1400},Ki),tr=e.extend({deceleration:20,maxSpeed:1400},Ki),nr=e.extend({deceleration:1e3,maxSpeed:360},Ki),ir=e.extend({deceleration:1e3,maxSpeed:90},Ki);class rr{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,n=e.exported.now();for(;t.length>0&&n-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)n.zoom+=e.zoomDelta||0,n.bearing+=e.bearingDelta||0,n.pitch+=e.pitchDelta||0,e.panDelta&&n.pan._add(e.panDelta),e.around&&(n.around=e.around),e.pinchAround&&(n.pinchAround=e.pinchAround);const i=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(n.pan.mag()){const o=ar(n.pan.mag(),i,e.extend({},er,t||{}));r.offset=n.pan.mult(o.amount/n.pan.mag()),r.center=this._map.transform.center,or(r,o)}if(n.zoom){const e=ar(n.zoom,i,tr);r.zoom=this._map.transform.zoom+e.amount,or(r,e)}if(n.bearing){const t=ar(n.bearing,i,nr);r.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),or(r,t)}if(n.pitch){const e=ar(n.pitch,i,ir);r.pitch=this._map.transform.pitch+e.amount,or(r,e)}if(r.zoom||r.bearing){const e=void 0===n.pinchAround?n.around:n.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),r.noMoveStart=!0,r}}function or(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function ar(t,n,i){const{maxSpeed:r,linearity:o,deceleration:a}=i,s=e.clamp(t*o/(n/1e3),-r,r),l=Math.abs(s)/(a*o);return{easing:i.easing,duration:1e3*l,amount:s*(l/2)}}class sr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,n,i,r={}){const o=f(n.getCanvasContainer(),i),a=n.unproject(o);super(t,e.extend({point:o,lngLat:a,originalEvent:i},r)),this._defaultPrevented=!1,this.target=n}}class lr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,n,i){const r="touchend"===t?i.changedTouches:i.touches,o=m(n.getCanvasContainer(),r),a=o.map(e=>n.unproject(e)),s=o.reduce((e,t,n,i)=>e.add(t.div(i.length)),new e.pointGeometry(0,0));super(t,{points:o,point:s,lngLats:a,lngLat:n.unproject(s),originalEvent:i}),this._defaultPrevented=!1}}class cr extends e.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,n){super(e,{originalEvent:n}),this._defaultPrevented=!1}}class ur{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){this._mousedownPos=void 0}wheel(e){return this._firePreventable(new cr(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new sr(e.type,this._map,e))}mouseup(e){this._map.fire(new sr(e.type,this._map,e))}preclick(t){const n=e.extend({},t);n.type="preclick",this._map.fire(new sr(n.type,this._map,n))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||(this.preclick(e),this._map.fire(new sr(e.type,this._map,e)))}dblclick(e){return this._firePreventable(new sr(e.type,this._map,e))}mouseover(e){this._map.fire(new sr(e.type,this._map,e))}mouseout(e){this._map.fire(new sr(e.type,this._map,e))}touchstart(e){return this._firePreventable(new lr(e.type,this._map,e))}touchmove(e){this._map.fire(new lr(e.type,this._map,e))}touchend(e){this._map.fire(new lr(e.type,this._map,e))}touchcancel(e){this._map.fire(new lr(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class hr{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(e){this._map.fire(new sr(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new sr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._map.fire(new sr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class dr{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(u(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const n=t,i=this._startPos,r=this._lastPos;if(!i||!r||r.equals(n)||!this._box&&n.dist(i)<this._clickTolerance)return;this._lastPos=n,this._box||(this._box=o("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const a=Math.min(i.x,n.x),s=Math.max(i.x,n.x),l=Math.min(i.y,n.y),c=Math.max(i.y,n.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${a}px,${l}px)`,this._box.style.width=s-a+"px",this._box.style.height=c-l+"px")})}mouseupWindow(t,n){if(!this._active)return;const i=this._startPos,r=n;if(i&&0===t.button){if(this.reset(),p(),i.x!==r.x||i.y!==r.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(i,r,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",t)}}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),h(),delete this._startPos,delete this._lastPos}_fireEvent(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))}}function pr(e,t){const n={};for(let i=0;i<e.length;i++)n[e[i].identifier]=t[i];return n}class fr{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(t,n,i){(this.centroid||i.length>this.numTouches)&&(this.aborted=!0),this.aborted||(0===this.startTime&&(this.startTime=t.timeStamp),i.length===this.numTouches&&(this.centroid=function(t){const n=new e.pointGeometry(0,0);for(const e of t)n._add(e);return n.div(t.length)}(n),this.touches=pr(i,n)))}touchmove(e,t,n){if(this.aborted||!this.centroid)return;const i=pr(n,t);for(const e in this.touches){const t=this.touches[e],n=i[e];(!n||n.dist(t)>30)&&(this.aborted=!0)}}touchend(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class mr{constructor(e){this.singleTap=new fr(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(e,t,n){this.singleTap.touchstart(e,t,n)}touchmove(e,t,n){this.singleTap.touchmove(e,t,n)}touchend(e,t,n){const i=this.singleTap.touchend(e,t,n);if(i){const t=e.timeStamp-this.lastTime<500,n=!this.lastTap||this.lastTap.dist(i)<30;if(t&&n||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=i,this.count===this.numTaps)return this.reset(),i}}}class gr{constructor(){this._zoomIn=new mr({numTouches:1,numTaps:2}),this._zoomOut=new mr({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}touchmove(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}touchend(e,t,n){const i=this._zoomIn.touchend(e,t,n),r=this._zoomOut.touchend(e,t,n);return i?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(i)},{originalEvent:e})}):r?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(r)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const yr={0:1,2:2};class _r{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const n=g(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}mousemoveWindow(e,t){const n=this._lastPoint;if(n)if(e.preventDefault(),null!=this._eventButton&&function(e,t){const n=yr[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)}mouseupWindow(e){this._lastPoint&&g(e)===this._eventButton&&(this._moved&&p(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class vr extends _r{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class xr extends _r{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}}contextmenu(e){e.preventDefault()}}class br extends _r{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}}contextmenu(e){e.preventDefault()}}class wr{constructor(t,n){this._map=t,this._el=t.getCanvasContainer(),this._minTouches=1,this._clickTolerance=n.clickTolerance||1,this.reset(),e.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0)}touchstart(e,t,n){return this._calculateTransform(e,t,n)}touchmove(t,n,i){if(this._active&&!(i.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(1===i.length&&!e.isFullscreen())return void this._showTouchPanBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return t.cancelable&&t.preventDefault(),this._calculateTransform(t,n,i)}}touchend(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,n,i){i.length>0&&(this._active=!0);const r=pr(i,n),o=new e.pointGeometry(0,0),a=new e.pointGeometry(0,0);let s=0;for(const e in r){const t=r[e],n=this._touches[e];n&&(o._add(t),a._add(t.sub(n)),s++,r[e]=t)}if(this._touches=r,s<this._minTouches||!a.mag())return;const l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(s),panDelta:l}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=o("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))+"px")}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class Tr{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(e){}_move(e,t,n){return{}}touchstart(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,n){const i=this._firstTwoTouches;if(!i)return;e.preventDefault();const[r,o]=i,a=Er(n,t,r),s=Er(n,t,o);if(!a||!s)return;const l=this._aroundCenter?null:a.add(s).div(2);return this._move([a,s],l,e)}touchend(e,t,n){if(!this._firstTwoTouches)return;const[i,r]=this._firstTwoTouches,o=Er(n,t,i),a=Er(n,t,r);o&&a||(this._active&&p(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Er(e,t,n){for(let i=0;i<e.length;i++)if(e[i].identifier===n)return t[i]}function Sr(e,t){return Math.log(e/t)/Math.LN2}class Mr extends Tr{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Sr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Sr(this._distance,n),pinchAround:t}}}function Ir(e,t){return 180*e.angleWith(t)/Math.PI}class Cr extends Tr{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const n=this._vector;if(this._vector=e[0].sub(e[1]),n&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Ir(this._vector,n),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,n=this._startVector;if(!n)return!1;const i=Ir(e,n);return Math.abs(i)<t}}function kr(e){return Math.abs(e.y)>Math.abs(e.x)}class Ar extends Tr{constructor(e){super(),this._map=e}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(e){this._lastPoints=e,kr(e[0].sub(e[1]))&&(this._valid=!1)}_move(t,n,i){const r=this._lastPoints;if(!r)return;const o=t[0].sub(r[0]),a=t[1].sub(r[1]);return this._map._cooperativeGestures&&!e.isFullscreen()&&i.touches.length<3||(this._valid=this.gestureBeginsVertically(o,a,i.timeStamp),!this._valid)?void 0:(this._lastPoints=t,this._active=!0,{pitchDelta:(o.y+a.y)/2*-.5})}gestureBeginsVertically(e,t,n){if(void 0!==this._valid)return this._valid;const i=e.mag()>=2,r=t.mag()>=2;if(!i&&!r)return;if(!i||!r)return null==this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;const o=e.y>0==t.y>0;return kr(e)&&kr(t)&&o}}const Pr={panStep:100,bearingStep:15,pitchStep:10};class zr{constructor(){const e=Pr;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,n=0,i=0,r=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(n=0,i=0),{cameraAnimation:a=>{const s=a.getZoom();a.easeTo({duration:300,easeId:"keyboardHandler",easing:Dr,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+n*this._bearingStep,pitch:a.getPitch()+i*this._pitchStep,offset:[-r*this._panStep,-o*this._panStep],center:a.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Dr(e){return e*(2-e)}const Lr=4.000244140625;class Or{constructor(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around,this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(t.ctrlKey||t.metaKey||this.isZooming()||e.isFullscreen()))return void this._showBlockerAlert();"hidden"!==this._alertContainer.style.visibility&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let n=t.deltaMode===e.window.WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const i=e.exported.now(),r=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==n&&n%Lr==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const t=f(this._el,e);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:t,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;"wheel"===this._type&&t.projection.wrap&&(t._center.lng>=180||t._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const n=()=>t._terrainEnabled()&&this._aroundCoord?t.computeZoomRelativeTo(this._aroundCoord):t.zoom;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>Lr?this._wheelZoomRate:this._defaultZoomRate;let i=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==i&&(i=1/i);const r=n(),o=Math.pow(2,r),a="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):o;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(a*i))),"wheel"===this._type&&(this._startZoom=r,this._easing=this._smoothOutEasing(200)),this._delta=0}const i="number"==typeof this._targetZoom?this._targetZoom:n(),r=this._startZoom,o=this._easing;let a,s=!1;if("wheel"===this._type&&r&&o){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),n=o(t);a=e.number(r,i,n),t<1?this._frameId||(this._frameId=!0):s=!0}else a=i,s=!0;return this._active=!0,s&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!s,zoomDelta:a-n(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let n=e.ease;if(this._prevEase){const t=this._prevEase,i=(e.exported.now()-t.start)/t.duration,r=t.easing(i+.01)-t.easing(i),o=.27/Math.sqrt(r*r+1e-4)*.01,a=Math.sqrt(.0729-o*o);n=e.bezier(o,a,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:n},n}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=o("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(e.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))+"px")}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class Rr{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Br{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(e,t){return e.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class jr{constructor(){this._tap=new mr({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))}touchmove(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;const i=t[0],r=i.y-this._swipePoint.y;return this._swipePoint=i,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,n)}touchend(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fr{constructor(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Nr{constructor(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Ur{constructor(e,t,n,i){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Vr=e=>e.zoom||e.drag||e.pitch||e.rotate;class Gr extends e.Event{}class Zr{constructor(){this.constants=[1,1,.01],this.radius=0}setup(t,n){const i=e.sub([],n,t);this.radius=e.length(i[2]<0?e.div([],i,this.constants):[i[0],i[1],0])}projectRay(t){e.div(t,t,this.constants),e.normalize(t,t),e.mul$1(t,t,this.constants);const n=e.scale$2([],t,this.radius);if(n[2]>0){const t=e.scale$2([],[0,0,1],e.dot(n,[0,0,1])),i=e.scale$2([],e.normalize([],[n[0],n[1],0]),this.radius),r=e.add([],n,e.scale$2([],e.sub([],e.add([],i,t),n),2));n[0]=r[0],n[1]=r[1]}return n}}function Wr(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class qr{constructor(t,n){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new rr(t),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Zr,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(n),e.bindAll(["handleEvent","handleWindowEvent"],this);const i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[e.window.document,"mousemove",{capture:!0}],[e.window.document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[e.window,"blur",void 0]];for(const[t,n,i]of this._listeners)t.addEventListener(n,t===e.window.document?this.handleWindowEvent:this.handleEvent,i)}destroy(){for(const[t,n,i]of this._listeners)t.removeEventListener(n,t===e.window.document?this.handleWindowEvent:this.handleEvent,i)}_addDefaultHandlers(e){const t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new ur(t,e));const i=t.boxZoom=new dr(t,e);this._add("boxZoom",i);const r=new gr,o=new Br;t.doubleClickZoom=new Rr(o,r),this._add("tapZoom",r),this._add("clickZoom",o);const a=new jr;this._add("tapDragZoom",a);const s=t.touchPitch=new Ar(t);this._add("touchPitch",s);const l=new xr(e),c=new br(e);t.dragRotate=new Nr(e,l,c),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",c,["mouseRotate"]);const u=new vr(e),h=new wr(t,e);t.dragPan=new Fr(n,u,h),this._add("mousePan",u),this._add("touchPan",h,["touchZoom","touchRotate"]);const d=new Cr,p=new Mr;t.touchZoomRotate=new Ur(n,p,d,a),this._add("touchRotate",d,["touchPan","touchZoom"]),this._add("touchZoom",p,["touchPan","touchRotate"]),this._add("blockableMapEvent",new hr(t));const f=t.scrollZoom=new Or(t,this);this._add("scrollZoom",f,["mousePan"]);const m=t.keyboard=new zr;this._add("keyboard",m);for(const n of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[n]&&t[n].enable(e[n])}_add(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Vr(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(e,t,n){for(const i in e)if(i!==n&&(!t||t.indexOf(i)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,e.type+"Window")}_getMapTouches(e){const t=[];for(const n of e)this._el.contains(n.target)&&t.push(n);return t}handleEvent(e,t){this._updatingCamera=!0;const n="renderFrame"===e.type,i=n?void 0:e,r={needsRenderFrame:!1},o={},a={},s=e.touches?this._getMapTouches(e.touches):void 0,l=s?m(this._el,s):n?void 0:f(this._el,e);for(const{handlerName:n,handler:c,allowed:u}of this._handlers){if(!c.isEnabled())continue;let h;this._blockedByActive(a,u,n)?c.reset():c[t||e.type]&&(h=c[t||e.type](e,l,s),this.mergeHandlerResult(r,o,h,n,i),h&&h.needsRenderFrame&&this._triggerRenderFrame()),(h||c.isActive())&&(a[n]=c)}const c={};for(const e in this._previousActiveHandlers)a[e]||(c[e]=i);this._previousActiveHandlers=a,(Object.keys(c).length||Wr(r))&&(this._changes.push([r,o,c]),this._triggerRenderFrame()),(Object.keys(a).length||Wr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:u}=r;u&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],u(this._map))}mergeHandlerResult(t,n,i,r,o){if(!i)return;e.extend(t,i);const a={handlerName:r,originalEvent:i.originalEvent||o};void 0!==i.zoomDelta&&(n.zoom=a),void 0!==i.panDelta&&(n.drag=a),void 0!==i.pitchDelta&&(n.pitch=a),void 0!==i.bearingDelta&&(n.rotate=a)}_applyChanges(){const t={},n={},i={};for(const[r,o,a]of this._changes)r.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(r.panDelta)),r.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(t.around=r.around),void 0!==r.aroundCoord&&(t.aroundCoord=r.aroundCoord),void 0!==r.pinchAround&&(t.pinchAround=r.pinchAround),r.noInertia&&(t.noInertia=r.noInertia),e.extend(n,o),e.extend(i,a);this._updateMapTransform(t,n,i),this._changes=[]}_updateMapTransform(t,n,i){const r=this._map,o=r.transform,a=e=>[e.x,e.y,e.z];if((e=>{const t=this._eventsInProgress.drag;return t&&!this._handlersById[t.handlerName].isActive()})()&&!Wr(t)){const e=o.zoom;o.cameraElevationReference="sea",o.recenterOnTerrain(),o.cameraElevationReference="ground",e!==o.zoom&&this._map._update(!0)}if(o._isCameraConstrained&&r._stop(!0),!Wr(t))return void this._fireEvents(n,i,!0);let{panDelta:s,zoomDelta:l,bearingDelta:c,pitchDelta:u,around:h,aroundCoord:d,pinchAround:p}=t;o._isCameraConstrained&&(l>0&&(l=0),o._isCameraConstrained=!1),void 0!==p&&(h=p),(e=>n.drag&&!this._eventsInProgress.drag)()&&h&&(this._dragOrigin=a(o.pointCoordinate3D(h)),this._trackingEllipsoid.setup(o._camera.position,this._dragOrigin)),o.cameraElevationReference="sea",r._stop(!0),h=h||r.transform.centerPoint,c&&(o.bearing+=c),u&&(o.pitch+=u),o._updateCameraState();const f=[0,0,0];if(s)if("mercator"===o.projection.name){const e=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h).dir),t=this._trackingEllipsoid.projectRay(o.screenPointToMercatorRay(h.sub(s)).dir);f[0]=t[0]-e[0],f[1]=t[1]-e[1]}else{const t=o.pointCoordinate(h);if("globe"===o.projection.name){s=s.rotate(-o.angle);const n=o._pixelsPerMercatorPixel/o.worldSize;f[0]=-s.x*e.mercatorScale(e.latFromMercatorY(t.y))*n,f[1]=-s.y*e.mercatorScale(o.center.lat)*n}else{const e=o.pointCoordinate(h.sub(s));t&&e&&(f[0]=e.x-t.x,f[1]=e.y-t.y)}}const m=o.zoom,g=[0,0,0];if(l){const t=a(d||o.pointCoordinate3D(h)),n={dir:e.normalize([],e.sub([],t,o._camera.position))};if(n.dir[2]<0){const i=o.zoomDeltaToMovement(t,l);e.scale$2(g,n.dir,i)}}const y=e.add(f,f,g);o._translateCameraConstrained(y),l&&Math.abs(o.zoom-m)>1e-4&&o.recenterOnTerrain(),o.cameraElevationReference="ground",this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(n,i,!0)}_fireEvents(t,n,i){const r=Vr(this._eventsInProgress),o=Vr(t),a={};for(const e in t){const{originalEvent:n}=t[e];this._eventsInProgress[e]||(a[e+"start"]=n),this._eventsInProgress[e]=t[e]}!r&&o&&this._fireEvent("movestart",o.originalEvent);for(const e in a)this._fireEvent(e,a[e]);o&&this._fireEvent("move",o.originalEvent);for(const e in t){const{originalEvent:n}=t[e];this._fireEvent(e,n)}const s={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:i}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=n[t]||i,s[e+"end"]=l)}for(const e in s)this._fireEvent(e,s[e]);const c=Vr(this._eventsInProgress);if(i&&(r||o)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),n=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(n(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event("moveend",{originalEvent:l})),n(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{this._frameId=void 0,this.handleEvent(new Gr("renderFrame",{timeStamp:e})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const $r="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Hr extends e.Evented{constructor(t,n){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,n,i){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),i)}panTo(t,n,i){return this.easeTo(e.extend({center:t},n),i)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,n,i){return this.easeTo(e.extend({zoom:t},n),i)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,n,i){return this.easeTo(e.extend({bearing:t},n),i)}resetNorth(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this}resetNorthPitch(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,n){t=e.LngLatBounds.convert(t);const i=n&&n.bearing||0,r=n&&n.pitch||0,o=t.getNorthWest(),a=t.getSouthEast();return this._cameraForBounds(this.transform,o,a,i,r,n)}_extendCameraOptions(t){const n={top:0,bottom:0,right:0,left:0};if("number"==typeof(t=e.extend({padding:n,offset:[0,0],maxZoom:this.transform.maxZoom},t)).padding){const e=t.padding;t.padding={top:e,bottom:e,right:e,left:e}}return t.padding=e.extend(n,t.padding),t}_minimumAABBFrustumDistance(e,t){const n=t.max[0]-t.min[0],i=t.max[1]-t.min[1];return n/i>e.aspect?n/(2*Math.tan(.5*e.fovX)*e.aspect):i/(2*Math.tan(.5*e.fovY)*e.aspect)}_cameraForBoundsOnGlobe(t,n,i,r,o,a){const s=t.clone(),l=this._extendCameraOptions(a);s.bearing=r,s.pitch=o;const c=e.LngLat.convert(n),u=e.LngLat.convert(i),h=.5*(c.lat+u.lat),d=.5*(c.lng+u.lng),p=e.latLngToECEF(h,d),f=e.normalize([],p),m=e.normalize([],e.cross([],f,[0,1,0])),g=e.cross([],m,f),y=[m[0],m[1],m[2],0,g[0],g[1],g[2],0,f[0],f[1],f[2],0,0,0,0,1],_=[p,e.latLngToECEF(c.lat,c.lng),e.latLngToECEF(u.lat,c.lng),e.latLngToECEF(u.lat,u.lng),e.latLngToECEF(c.lat,u.lng),e.latLngToECEF(h,c.lng),e.latLngToECEF(h,u.lng),e.latLngToECEF(c.lat,d),e.latLngToECEF(u.lat,d)];let v=e.Aabb.fromPoints(_.map(t=>[e.dot(m,t),e.dot(g,t),e.dot(f,t)]));const x=e.transformMat4([],v.center,y);0===e.squaredLength(x)&&e.set(x,0,0,1),e.normalize(x,x),e.scale$2(x,x,e.GLOBE_RADIUS),s.center=e.ecefToLatLng(x);const b=s.getWorldToCameraMatrix(),w=e.invert(new Float64Array(16),b);v=e.Aabb.applyTransform(v,e.multiply([],b,y)),e.transformMat4(x,x,b);const T=.5*(v.max[2]-v.min[2]),E=this._minimumAABBFrustumDistance(s,v),S=e.scale$2([],[0,0,1],T),M=e.add(S,x,S),I=E+(0===s.pitch?0:e.distance(x,M)),C=s.globeCenterInViewSpace,k=e.sub([],x,[C[0],C[1],C[2]]);e.normalize(k,k),e.scale$2(k,k,I);const A=e.add([],x,k);e.transformMat4(A,A,w);const P=e.earthRadius/e.GLOBE_RADIUS,z=e.length(A),D=e.mercatorZfromAltitude(z*P-e.earthRadius,0),L=Math.min(s.zoomFromMercatorZAdjusted(D),l.maxZoom);return L>.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(s.setProjection({name:"mercator"}),s.zoom=L,this._cameraForBounds(s,n,i,r,o,a)):{center:s.center,zoom:L,bearing:r,pitch:o}}queryTerrainElevation(t,n){const i=this.transform.elevation;return i?(n=e.extend({},{exaggerated:!0},n),i.getAtPoint(e.MercatorCoordinate.fromLngLat(t),null,n.exaggerated)):null}_cameraForBounds(t,n,i,r,o,a){if("globe"===t.projection.name)return this._cameraForBoundsOnGlobe(t,n,i,r,o,a);const s=t.clone(),l=this._extendCameraOptions(a),c=s.padding;s.bearing=r,s.pitch=o;const u=e.LngLat.convert(n),h=e.LngLat.convert(i),d=new e.LngLat(u.lng,h.lat),p=new e.LngLat(h.lng,u.lat),f=s.project(u),m=s.project(h),g=this.queryTerrainElevation(u),y=this.queryTerrainElevation(h),_=this.queryTerrainElevation(d),v=this.queryTerrainElevation(p),x=[[f.x,f.y,Math.min(g||0,y||0,_||0,v||0)],[m.x,m.y,Math.max(g||0,y||0,_||0,v||0)]];let b=e.Aabb.fromPoints(x);const w=s.getWorldToCameraMatrix(),T=e.invert(new Float64Array(16),w);b=e.Aabb.applyTransform(b,w);const E=e.sub([],b.max,b.min),S=c.left||0,M=c.right||0,I=c.bottom||0,C=c.top||0,{left:k,right:A,top:P,bottom:z}=l.padding,D=.5*(S+M),L=.5*(C+I),O=Math.min(s.scaleZoom(s.scale*Math.min((s.width-(S+M+k+A))/E[0],(s.height-(I+C+z+P))/E[1])),l.maxZoom),R=s.scale/s.zoomScale(O);b=new e.Aabb([b.min[0]-(k+D)*R,b.min[1]-(z+L)*R,b.min[2]],[b.max[0]+(A+D)*R,b.max[1]+(P+L)*R,b.max[2]]);const B=.5*E[2],j=this._minimumAABBFrustumDistance(s,b),F=[0,0,1,0];e.transformMat4$1(F,F,w),e.normalize$2(F,F);const N=e.scale$2([],F,j+B),U=e.add([],b.center,N),V=("number"==typeof l.offset.x&&"number"==typeof l.offset.y?new e.pointGeometry(l.offset.x,l.offset.y):e.pointGeometry.convert(l.offset)).rotate(-e.degToRad(r));b.center[0]-=V.x*R,b.center[1]+=V.y*R,e.transformMat4(b.center,b.center,T),e.transformMat4(U,U,T);const G=[b.center[0],b.center[1],U[2]*s.pixelsPerMeter];e.scale$2(G,G,1/s.worldSize);const Z=e.lngFromMercatorX(G[0]),W=e.latFromMercatorY(G[1]),q=Math.min(s._zoomFromMercatorZ(G[2]),l.maxZoom),$=new e.LngLat(Z,W);return s.mercatorFromTransition&&q<.5*(e.GLOBE_ZOOM_THRESHOLD_MIN+e.GLOBE_ZOOM_THRESHOLD_MAX)?(s.setProjection({name:"globe"}),s.zoom=q,this._cameraForBounds(s,n,i,r,o,a)):{center:$,zoom:q,bearing:r,pitch:o}}fitBounds(e,t,n){const i=this.cameraForBounds(e,t);return this._fitInternal(i,t,n)}fitScreenCoordinates(t,n,i,r,o){const a=e.pointGeometry.convert(t),s=e.pointGeometry.convert(n),l=new e.pointGeometry(Math.min(a.x,s.x),Math.min(a.y,s.y)),c=new e.pointGeometry(Math.max(a.x,s.x),Math.max(a.y,s.y));if("mercator"===this.transform.projection.name&&this.transform.anyCornerOffEdge(a,s))return this;const u=this.transform.pointLocation3D(l),h=this.transform.pointLocation3D(c),d=this.transform.pointLocation3D(new e.pointGeometry(l.x,c.y)),p=this.transform.pointLocation3D(new e.pointGeometry(c.x,l.y)),f=[Math.min(u.lng,h.lng,d.lng,p.lng),Math.min(u.lat,h.lat,d.lat,p.lat)],m=[Math.max(u.lng,h.lng,d.lng,p.lng),Math.max(u.lat,h.lat,d.lat,p.lat)],g=r&&r.pitch?r.pitch:this.getPitch(),y=this._cameraForBounds(this.transform,f,m,i,g,r);return this._fitInternal(y,r,o)}_fitInternal(t,n,i){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,i):this.flyTo(n,i)):this}jumpTo(t,n){this.stop();const i=t.preloadOnly?this.transform.clone():this.transform;let r=!1,o=!1,a=!1;return"zoom"in t&&i.zoom!==+t.zoom&&(r=!0,i.zoom=+t.zoom),void 0!==t.center&&(i.center=e.LngLat.convert(t.center)),"bearing"in t&&i.bearing!==+t.bearing&&(o=!0,i.bearing=+t.bearing),"pitch"in t&&i.pitch!==+t.pitch&&(a=!0,i.pitch=+t.pitch),null==t.padding||i.isPaddingEqual(t.padding)||(i.padding=t.padding),t.preloadOnly?(this._preloadTiles(i),this):(this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),r&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),o&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),a&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||e.warnOnce($r),this.transform.getFreeCameraOptions()}setFreeCameraOptions(t,n){const i=this.transform;if(!i.projection.supportsFreeCamera)return e.warnOnce($r),this;this.stop();const r=i.zoom,o=i.pitch,a=i.bearing;i.setFreeCameraOptions(t);const s=r!==i.zoom,l=o!==i.pitch,c=a!==i.bearing;return this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),s&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),c&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),l&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n)),this}easeTo(t,n){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const i=this.transform,r=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?+t.zoom:r,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:i.padding,d=e.pointGeometry.convert(t.offset);let p,f,m;if("globe"===i.projection.name){const n=e.MercatorCoordinate.fromLngLat(i.center),r=d.rotate(-i.angle);n.x+=r.x/i.worldSize,n.y+=r.y/i.worldSize;const o=n.toLngLat(),a=e.LngLat.convert(t.center||o);this._normalizeCenter(a),p=i.centerPoint.add(r),f=new e.pointGeometry(n.x,n.y).mult(i.worldSize),m=new e.pointGeometry(e.mercatorXfromLng(a.lng),e.mercatorYfromLat(a.lat)).mult(i.worldSize).sub(f)}else{p=i.centerPoint.add(d);const n=i.pointLocation(p),r=e.LngLat.convert(t.center||n);this._normalizeCenter(r),f=i.project(n),m=i.project(r).sub(f)}const g=i.zoomScale(l-r);let y,_;t.around&&(y=e.LngLat.convert(t.around),_=i.locationPoint(y));const v=this._zooming||l!==r,x=this._rotating||o!==c,b=this._pitching||u!==a,w=!i.isPaddingEqual(h),T=i=>T=>{if(v&&(i.zoom=e.number(r,l,T)),x&&(i.bearing=e.number(o,c,T)),b&&(i.pitch=e.number(a,u,T)),w&&(i.interpolatePadding(s,h,T),p=i.centerPoint.add(d)),y)i.setLocationAtPoint(y,_);else{const e=i.zoomScale(i.zoom-r),t=l>r?Math.min(2,g):Math.max(.5,g),n=Math.pow(t,1-T),o=i.unproject(f.add(m.mult(T*n)).mult(e));i.setLocationAtPoint(i.renderWorldCopies?o.wrap():o,p)}return t.preloadOnly||this._fireMoveEvents(n),i};if(t.preloadOnly){const e=this._emulate(T,t.duration,i);return this._preloadTiles(e),this}const E={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=v,this._rotating=x,this._pitching=b,this._padding=w,this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,E),this._ease(T(i),e=>{i.recenterOnTerrain(),this._afterEase(n,e)},t),this}_prepareEase(t,n,i={}){this._moving=!0,this.transform.cameraElevationReference="sea",n||i.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!i.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!i.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!i.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,n){if(this._easeId&&n&&this._easeId===n)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const i=this._zooming,r=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,i&&this.fire(new e.Event("zoomend",t)),r&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,n){if(!t.essential&&e.exported.prefersReducedMotion){const i=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const i=this.transform,r=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,i.minZoom,i.maxZoom):r,c="bearing"in t?this._normalizeBearing(t.bearing,o):o,u="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:i.padding,d=i.zoomScale(l-r),p=e.pointGeometry.convert(t.offset);let f=i.centerPoint.add(p);const m=i.pointLocation(f),g=e.LngLat.convert(t.center||m);this._normalizeCenter(g);const y=i.project(m),_=i.project(g).sub(y);let v=t.curve;const x=Math.max(i.width,i.height),b=x/d,w=_.mag();if("minZoom"in t){const n=e.clamp(Math.min(t.minZoom,r,l),i.minZoom,i.maxZoom),o=x/i.zoomScale(n-r);v=Math.sqrt(o/w*2)}const T=v*v;function E(e){const t=(b*b-x*x+(e?-1:1)*T*T*w*w)/(2*(e?b:x)*T*w);return Math.log(Math.sqrt(t*t+1)-t)}function S(e){return(Math.exp(e)-Math.exp(-e))/2}function M(e){return(Math.exp(e)+Math.exp(-e))/2}const I=E(0);let C=function(e){return M(I)/M(I+v*e)},k=function(e){return x*((M(I)*(S(t=I+v*e)/M(t))-S(I))/T)/w;var t},A=(E(1)-I)/v;if(Math.abs(w)<1e-6||!isFinite(A)){if(Math.abs(x-b)<1e-6)return this.easeTo(t,n);const e=b<x?-1:1;A=Math.abs(Math.log(b/x))/v,k=function(){return 0},C=function(t){return Math.exp(e*v*t)}}t.duration="duration"in t?+t.duration:1e3*A/("screenSpeed"in t?+t.screenSpeed/v:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0);const P=o!==c,z=u!==a,D=!i.isPaddingEqual(h),L=i=>d=>{const m=d*A,v=1/C(m);i.zoom=1===d?l:r+i.scaleZoom(v),P&&(i.bearing=e.number(o,c,d)),z&&(i.pitch=e.number(a,u,d)),D&&(i.interpolatePadding(s,h,d),f=i.centerPoint.add(p));const x=1===d?g:i.unproject(y.add(_.mult(k(m))).mult(v));return i.setLocationAtPoint(i.renderWorldCopies?x.wrap():x,f),i._updateCameraOnTerrain(),t.preloadOnly||this._fireMoveEvents(n),i};if(t.preloadOnly){const e=this._emulate(L,t.duration,i);return this._preloadTiles(e),this}return this._zooming=!0,this._rotating=P,this._pitching=z,this._padding=D,this._prepareEase(n,!1),this._ease(L(i),()=>this._afterEase(n),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const e=this._onEaseEnd;this._onEaseEnd=void 0,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,n,i){!1===i.animate||0===i.duration?(t(1),n()):(this._easeStart=e.exported.now(),this._easeOptions=i,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1),n=this._onEaseFrame;n&&n(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,n){t=e.wrap(t,-180,180);const i=Math.abs(t-n);return Math.abs(t-360-n)<i&&(t-=360),Math.abs(t+360-n)<i&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.maxBounds)return;const n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}_emulate(e,t,n){const i=Math.ceil(15*t/1e3),r=[],o=e(n.clone());for(let e=0;e<=i;e++){const t=o(e/i);r.push(t.clone())}return r}}class Xr{constructor(t={}){this.options=t,e.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){const t=this.options&&this.options.compact;return this._map=e,this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=o("button","mapboxgl-ctrl-attrib-button",this._container),o("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=o("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),t&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===t&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const n=this._map._getUIString("AttributionControl."+t);e.setAttribute("aria-label",n),e.removeAttribute("title"),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let t=this._editLink;t||(t=this._editLink=this._container.querySelector(".mapbox-improve-map"));const n=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||e.config.ACCESS_TOKEN}];if(t){const i=n.reduce((e,t,i)=>(t.value&&(e+=`${t.key}=${t.value}${i<n.length-1?"&":""}`),e),"?");t.href=`${e.config.FEEDBACK_URL}/${i}#${Qi(this._map,!0)}`,t.rel="noopener nofollow",this._setElementTitle(t,"MapFeedback")}}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let e=[];if(this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style._sourceCaches;for(const n in t){const i=t[n];if(i.used){const t=i.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e.sort((e,t)=>e.length-t.length),e=e.filter((t,n)=>{for(let i=n+1;i<e.length;i++)if(e[i].indexOf(t)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=[...this.options.customAttribution,...e]:e.unshift(this.options.customAttribution));const n=e.join(" | ");n!==this._attribHTML&&(this._attribHTML=n,e.length?(this._innerContainer.innerHTML=n,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class Yr{constructor(){e.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(e){this._map=e,this._container=o("div","mapboxgl-ctrl");const t=o("a","mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://www.mapbox.com/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(e){e&&"metadata"!==e.sourceDataType||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const e=this._map.style._sourceCaches;if(0===Object.entries(e).length)return!0;for(const t in e){const n=e[t].getSource();if(n.hasOwnProperty("mapbox_logo")&&!n.mapbox_logo)return!1}return!0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<250?t.classList.add("mapboxgl-compact"):t.classList.remove("mapboxgl-compact")}}}class Jr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,n=t?this._queue.concat(t):this._queue;for(const t of n)if(t.id===e)return void(t.cancelled=!0)}run(e=0){const t=this._currentlyRunning=this._queue;this._queue=[];for(const n of t)if(!n.cancelled&&(n.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Qr(t,n,i){if(t=new e.LngLat(t.lng,t.lat),n){const r=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=360*Math.ceil(Math.abs(t.lng-i.center.lng)/360),s=i.locationPoint(t).distSqr(n),l=n.x<0||n.y<0||n.x>i.width||n.y>i.height;i.locationPoint(r).distSqr(n)<s&&(l||Math.abs(r.lng-i.center.lng)<a)?t=r:i.locationPoint(o).distSqr(n)<s&&(l||Math.abs(o.lng-i.center.lng)<a)&&(t=o)}for(;Math.abs(t.lng-i.center.lng)>180;){const e=i.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=i.width&&e.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}const Kr={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class eo extends e.Evented{constructor(t,n){if(super(),(t instanceof e.window.HTMLElement||n)&&(t=e.extend({element:t},n)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&t.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=t&&t.occludedOpacity||.2,t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=o("div");const n=41,i=27,r=a("svg",{display:"block",height:n*this._scale+"px",width:i*this._scale+"px",viewBox:`0 0 ${i} ${n}`},this._element),s=a("radialGradient",{id:"shadowGradient"},a("defs",{},r));a("stop",{offset:"10%","stop-opacity":.4},s),a("stop",{offset:"100%","stop-opacity":.05},s),a("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},r),a("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},r),a("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},r),a("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},r),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",e=>{e.preventDefault()}),this._element.addEventListener("mousedown",e=>{e.preventDefault()});const i=this._element.classList;for(const e in Kr)i.remove("mapboxgl-marker-anchor-"+e);i.add("mapboxgl-marker-anchor-"+this._anchor),this._popup=null}addTo(e){return e===this._map||(this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._updateMoving),e.on("moveend",this._update),e.on("remove",this._clearFadeTimer),e._addMarker(this),this.setDraggable(this._draggable),this._update(),e.on("click",this._onMapClick)),this}remove(){const e=this._map;return e&&(e.off("click",this._onMapClick),e.off("move",this._updateMoving),e.off("moveend",this._update),e.off("mousedown",this._addDragHandler),e.off("touchstart",this._addDragHandler),e.off("mouseup",this._onUp),e.off("touchend",this._onUp),e.off("mousemove",this._onMove),e.off("touchmove",this._onMove),e.off("remove",this._clearFadeTimer),e._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,n=13.5,i=Math.sqrt(Math.pow(n,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[i,-1*(t-n+i)],"bottom-right":[-i,-1*(t-n+i)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,e._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(e){const t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?(e.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(e.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const e=this._map,t=this._pos;if(!e||!t)return!1;const n=e.unproject(t),i=e.getFreeCameraOptions();if(!i.position)return!1;const r=i.position.toLngLat();return r.distanceTo(n)<.9*r.distanceTo(this._lngLat)}_evaluateOpacity(){const t=this._map;if(!t)return;const n=this._pos;if(!n||n.x<0||n.x>t.transform.width||n.y<0||n.y>t.transform.height)return void this._clearFadeTimer();const i=t.unproject(n);let r;t._showingGlobe()&&e.isLngLatBehindGlobe(t.transform,this._lngLat)?r=0:(r=1-t._queryFogOpacity(i),t.transform._terrainEnabled()&&t.getTerrain()&&this._behindTerrain()&&(r*=this._occludedOpacity)),this._element.style.opacity=""+r,this._element.style.pointerEvents=r>0?"auto":"none",this._popup&&this._popup._setOpacity(r),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const e=this._pos;if(!e||!this._map)return;const t=this._offset.mult(this._scale);this._element.style.transform=`\n            translate(${e.x}px,${e.y}px)\n            ${Kr[this._anchor]}\n            ${this._calculateXYTransform()} ${this._calculateZTransform()}\n            translate(${t.x}px,${t.y}px)\n        `}_calculateXYTransform(){const t=this._pos,n=this._map,i=this.getPitchAlignment();if(!n||!t||"map"!==i)return"";if(!n._showingGlobe()){const e=n.getPitch();return e?`rotateX(${e}deg)`:""}const r=e.radToDeg(e.globeTiltAtLngLat(n.transform,this._lngLat)),o=t.sub(e.globeCenterToScreenPoint(n.transform)),a=Math.abs(o.x)+Math.abs(o.y);if(0===a)return"";const s=r/a;return`rotateX(${-o.y*s}deg) rotateY(${o.x*s}deg)`}_calculateZTransform(){const t=this._pos,n=this._map;if(!n||!t)return"";let i=0;const r=this.getRotationAlignment();if("map"===r)if(n._showingGlobe()){const t=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),r=n.project(new e.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(t);i=e.radToDeg(Math.atan2(r.y,r.x))-90}else i=-n.getBearing();else if("horizon"===r){const r=e.smoothstep(4,6,n.getZoom()),o=e.globeCenterToScreenPoint(n.transform);o.y+=r*n.transform.height;const a=t.sub(o),s=e.radToDeg(Math.atan2(a.y,a.x));i=(s>90?s-270:s+90)*(1-r)}return i+=this._rotation,i?`rotateZ(${i}deg)`:""}_update(t){e.window.cancelAnimationFrame(this._updateFrameId);const n=this._map;n&&(n.transform.renderWorldCopies&&(this._lngLat=Qr(this._lngLat,this._pos,n.transform)),this._pos=n.project(this._lngLat),!0===t?this._updateFrameId=e.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),n._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(n._showingGlobe()||n.getTerrain()||n.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){const n=this._map;if(!n)return;const i=this._pointerdownPos,r=this._positionDelta;if(i&&r){if(!this._isDragging){const e=this._clickTolerance||n._clickTolerance;if(t.point.dist(i)<e)return;this._isDragging=!0}this._pos=t.point.sub(r),this._lngLat=n.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const t=this._map;t&&(t.off("mousemove",this._onMove),t.off("touchmove",this._onMove)),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){const t=this._map,n=this._pos;t&&n&&this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(n),this._pointerdownPos=e.point,this._state="pending",t.on("mousemove",this._onMove),t.on("touchmove",this._onMove),t.once("mouseup",this._onUp),t.once("touchend",this._onUp))}setDraggable(e){this._draggable=!!e;const t=this._map;return t&&(e?(t.on("mousedown",this._addDragHandler),t.on("touchstart",this._addDragHandler)):(t.off("mousedown",this._addDragHandler),t.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return"auto"===this._rotationAlignment||"horizon"===this._rotationAlignment&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e||"auto",this._update(),this}getPitchAlignment(){return"auto"===this._pitchAlignment?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(e){return this._occludedOpacity=e||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const to={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},no=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function io(t=new e.pointGeometry(0,0),n="bottom"){if("number"==typeof t){const i=Math.round(Math.sqrt(.5*Math.pow(t,2)));switch(n){case"top":return new e.pointGeometry(0,t);case"top-left":return new e.pointGeometry(i,i);case"top-right":return new e.pointGeometry(-i,i);case"bottom":return new e.pointGeometry(0,-t);case"bottom-left":return new e.pointGeometry(i,-i);case"bottom-right":return new e.pointGeometry(-i,-i);case"left":return new e.pointGeometry(t,0);case"right":return new e.pointGeometry(-t,0)}return new e.pointGeometry(0,0)}return t instanceof e.pointGeometry||Array.isArray(t)?e.pointGeometry.convert(t):e.pointGeometry.convert(t[n]||[0,0])}class ro{constructor(e){this.jumpTo(e)}getValue(t){if(t<=this._startTime)return this._start;if(t>=this._endTime)return this._end;const n=e.easeCubicInOut((t-this._startTime)/(this._endTime-this._startTime));return this._start*(1-n)+this._end*n}isEasing(e){return e>=this._startTime&&e<=this._endTime}jumpTo(e){this._startTime=-1/0,this._endTime=-1/0,this._start=e,this._end=e}easeTo(e,t,n){this._start=this.getValue(t),this._end=e,this._startTime=t,this._endTime=t+n}}const oo={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use âŒ˜ + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},ao={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},so={showCompass:!0,showZoom:!0,visualizePitch:!1};class lo{constructor(t,n,i=!1){this._clickTolerance=10,this.element=n,this.mouseRotate=new xr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,i&&(this.mousePitch=new br({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),n.addEventListener("mousedown",this.mousedown),n.addEventListener("touchstart",this.touchstart,{passive:!1}),n.addEventListener("touchmove",this.touchmove),n.addEventListener("touchend",this.touchend),n.addEventListener("touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),u()}move(e,t){const n=this.map,i=this.mouseRotate.mousemoveWindow(e,t),r=i&&i.bearingDelta;if(r&&n.setBearing(n.getBearing()+r),this.mousePitch){const i=this.mousePitch.mousemoveWindow(e,t),r=i&&i.pitchDelta;r&&n.setPitch(n.getPitch()+r)}}off(){const e=this.element;e.removeEventListener("mousedown",this.mousedown),e.removeEventListener("touchstart",this.touchstart,{passive:!1}),e.removeEventListener("touchmove",this.touchmove),e.removeEventListener("touchend",this.touchend),e.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){h(),e.window.removeEventListener("mousemove",this.mousemove),e.window.removeEventListener("mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),f(this.element,t)),e.window.addEventListener("mousemove",this.mousemove),e.window.addEventListener("mouseup",this.mouseup)}mousemove(e){this.move(e,f(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=m(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=m(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const co={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},uo={maxWidth:100,unit:"metric"};function ho(e,t,n){const i=po(t),r=i/t,o={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"}[n];this._map._requestDomTask(()=>{this._container.style.width=e*r+"px",this._container.innerHTML=`${i}&nbsp;${o}`})}function po(e){const t=Math.pow(10,(""+Math.floor(e)).length-1);let n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}const fo={version:e.version,supported:n,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends Hr{constructor(t){if(e.LivePerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},ao,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(t.antialias&&e.isSafariWithAntialiasingBug(e.window)&&(t.antialias=!1,e.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Xi(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),t),this._interactive=t.interactive,this._minTileCacheSize=t.minTileCacheSize,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=t.crossSourceCollisions,this._collectResourceTiming=t.collectResourceTiming,this._optimizeForTerrain=t.optimizeForTerrain,this._language=this._parseLanguage(t.language),this._worldview=t.worldview,this._renderTaskQueue=new Jr,this._domRenderTaskQueue=new Jr,this._controls=[],this._markers=[],this._popups=[],this._mapId=e.uniqueId(),this._locale=e.extend({},oo,t.locale),this._clickTolerance=t.clickTolerance,this._cooperativeGestures=t.cooperativeGestures,this._performanceMetricsCollection=t.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new ro(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new e.RequestManager(t.transformRequest,t.accessToken,t.testMode),this._silenceAuthErrors=!!t.testMode,"string"==typeof t.container){if(this._container=e.window.document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else{if(!(t.container instanceof e.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(this._container.childNodes.length>0&&e.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),void 0!==e.window&&(e.window.addEventListener("online",this._onWindowOnline,!1),e.window.addEventListener("resize",this._onWindowResize,!1),e.window.addEventListener("orientationchange",this._onWindowResize,!1),e.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new qr(this,t),this._localFontFamily=t.localFontFamily,this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),t.projection&&this.setProjection(t.projection),this._hash=t.hash&&new Ji("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),t.attributionControl&&this.addControl(new Xr({customAttribution:t.customAttribution})),this._logoControl=new Yr,this.addControl(this._logoControl,t.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",t=>{this._update("style"===t.dataType),this.fire(new e.Event(t.dataType+"data",t))}),this.on("dataloading",t=>{this.fire(new e.Event(t.dataType+"dataloading",t))})}_getMapId(){return this._mapId}addControl(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const i=t.onAdd(this);this._controls.push(t);const r=this._controlPositions[n];return-1!==n.indexOf("bottom")?r.insertBefore(i,r.firstChild):r.appendChild(i),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(t){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const n=!this._moving;return n&&this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t)),this.fire(new e.Event("resize",t)),n&&this.fire(new e.Event("moveend",t)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(t){if((t=null==t?-2:t)>=-2&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(t){if((t=null==t?22:t)>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t?this.setZoom(t):this.fire(new e.Event("zoomstart")).fire(new e.Event("zoom")).fire(new e.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(t){if((t=null==t?0:t)<0)throw new Error("minPitch must be greater than or equal to 0");if(t>=0&&t<=this.transform.maxPitch)return this.transform.minPitch=t,this._update(),this.getPitch()<t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(t){if((t=null==t?85:t)>85)throw new Error("maxPitch must be less than or equal to 85");if(t>=this.transform.minPitch)return this.transform.maxPitch=t,this._update(),this.getPitch()>t?this.setPitch(t):this.fire(new e.Event("pitchstart")).fire(new e.Event("pitch")).fire(new e.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(t){return"auto"===t?e.window.navigator.language:Array.isArray(t)?0===t.length?void 0:t.map(t=>"auto"===t?e.window.navigator.language:t):t}setLanguage(e){const t=this._parseLanguage(e);if(!this.style||t===this._language)return this;this._language=t,this.style._reloadSources();for(const e of this._controls)e._setLanguage&&e._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(e){return this.style&&e!==this._worldview?(this._worldview=e,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return"globe"===this.transform.projection.name}setProjection(e){return this._lazyInitEmptyStyle(),e?"string"==typeof e&&(e={name:e}):e=null,this._useExplicitProjection=!!e,this._prioritizeAndUpdateProjection(e,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if("globe"!==this.getProjection().name)return;const t=this.transform,n=t.projection.name;let i;"globe"===n&&t.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?(t.setMercatorFromTransition(),i=!0):"mercator"===n&&t.zoom<e.GLOBE_ZOOM_THRESHOLD_MAX&&(t.setProjection({name:"globe"}),i=!0),i&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(e,t){return this._updateProjection(e||t||{name:"mercator"})}_updateProjection(t){let n;if(n="globe"===t.name&&this.transform.zoom>=e.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(t),this.style.applyProjectionUpdate(),n){this.painter.clearBackgroundTiles();for(const e in this.style._sourceCaches)this.style._sourceCaches[e].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(t){return this.transform.locationPoint3D(e.LngLat.convert(t))}unproject(t){return this.transform.pointLocation3D(e.pointGeometry.convert(t))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(e,t,n){if("mouseenter"===e||"mouseover"===e){let i=!1;const r=r=>{const o=t.filter(e=>this.getLayer(e)),a=o.length?this.queryRenderedFeatures(r.point,{layers:o}):[];a.length?i||(i=!0,n.call(this,new sr(e,this,r.originalEvent,{features:a}))):i=!1},o=()=>{i=!1};return{layers:new Set(t),listener:n,delegates:{mousemove:r,mouseout:o}}}if("mouseleave"===e||"mouseout"===e){let i=!1;const r=r=>{const o=t.filter(e=>this.getLayer(e));(o.length?this.queryRenderedFeatures(r.point,{layers:o}):[]).length?i=!0:i&&(i=!1,n.call(this,new sr(e,this,r.originalEvent)))},o=t=>{i&&(i=!1,n.call(this,new sr(e,this,t.originalEvent)))};return{layers:new Set(t),listener:n,delegates:{mousemove:r,mouseout:o}}}{const i=e=>{const i=t.filter(e=>this.getLayer(e)),r=i.length?this.queryRenderedFeatures(e.point,{layers:i}):[];r.length&&(e.features=r,n.call(this,e),delete e.features)};return{layers:new Set(t),listener:n,delegates:{[e]:i}}}}on(e,t,n){if(void 0===n)return super.on(e,t);Array.isArray(t)||(t=[t]);const i=this._createDelegatedListener(e,t,n);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i);for(const e in i.delegates)this.on(e,i.delegates[e]);return this}once(e,t,n){if(void 0===n)return super.once(e,t);Array.isArray(t)||(t=[t]);const i=this._createDelegatedListener(e,t,n);for(const e in i.delegates)this.once(e,i.delegates[e]);return this}off(e,t,n){if(void 0===n)return super.off(e,t);t=new Set(Array.isArray(t)?t:[t]);const i=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},r=this._delegatedListeners?this._delegatedListeners[e]:void 0;return r&&(e=>{for(let r=0;r<e.length;r++){const o=e[r];if(o.listener===n&&i(o.layers,t)){for(const e in o.delegates)this.off(e,o.delegates[e]);return e.splice(r,1),this}}})(r),this}queryRenderedFeatures(t,n){return this.style?(void 0!==n||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(n=t,t=void 0),this.style.queryRenderedFeatures(t=t||[[0,0],[this.transform.width,this.transform.height]],n=n||{},this.transform)):[]}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&n.localFontFamily===this._localFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._localFontFamily=n.localFontFamily,this._updateStyle(t,n))}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),e&&(this.style=new Qt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Qt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,n){if("string"==typeof t){const i=this._requestManager.normalizeStyleURL(t),r=this._requestManager.transformRequest(i,e.ResourceType.Style);e.getJSON(r,(t,i)=>{t?this.fire(new e.ErrorEvent(t)):i&&this._updateDiff(i,n)})}else"object"==typeof t&&this._updateDiff(t,n)}_updateDiff(t,n){try{this.style.setState(t)&&this._update(!0)}catch(i){e.warnOnce(`Unable to perform style diff: ${i.message||i.error||i}.  Rebuilding the style from scratch.`),this._updateStyle(t,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(e.warnOnce("There is no style added to the map."),!1)}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){return!!this.style&&this.style._isSourceCacheLoaded(e)}areTilesLoaded(){const e=this.style&&this.style._sourceCaches;for(const t in e){const n=e[t]._tiles;for(const e in n){const t=n[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,n){this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}removeSource(e){return this.style.removeSource(e),this._updateTerrain(),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,n,{pixelRatio:i=1,sdf:r=!1,stretchX:o,stretchY:a,content:s}={}){if(this._lazyInitEmptyStyle(),n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap){const{width:l,height:c,data:u}=e.exported.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},u),pixelRatio:i,stretchX:o,stretchY:a,content:s,sdf:r,version:0})}else if(void 0===n.width||void 0===n.height)this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:l,height:c}=n,u=n;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:c},new Uint8Array(u.data)),pixelRatio:i,stretchX:o,stretchY:a,content:s,sdf:r,version:0,userImage:u}),u.onAdd&&u.onAdd(this,t)}}updateImage(t,n){const i=this.style.getImage(t);if(!i)return void this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap?e.exported.getImageData(n):n,{width:o,height:a}=r;void 0!==o&&void 0!==a?o===i.data.width&&a===i.data.height?(i.data.replace(r.data,!(n instanceof e.window.HTMLImageElement||e.window.ImageBitmap&&n instanceof e.window.ImageBitmap)),this.style.updateImage(t,i)):this.fire(new e.ErrorEvent(new Error(`The width and height of the updated image (${o}, ${a})\n                must be that same as the previous version of the image\n                (${i.data.width}, ${i.data.height})`))):this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),(t,i)=>{n(t,i instanceof e.window.HTMLImageElement?e.exported.getImageData(i):i)})}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}setFilter(e,t,n={}){return this.style.setFilter(e,t,n),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,n,i={}){return this.style.setPaintProperty(e,t,n,i),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,n,i={}){return this.style.setLayoutProperty(e,t,n,i),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(e){return this._lazyInitEmptyStyle(),!e&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(e),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(e){return this._lazyInitEmptyStyle(),this.style.setFog(e),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(t){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(e.LngLat.convert(t),this.transform):0}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}_updateContainerDimensions(){if(!this._container)return;const t=this._container.getBoundingClientRect().width||400,n=this._container.getBoundingClientRect().height||300;let i,r,o,a=this._container;for(;a&&(!r||!o);){const t=e.window.getComputedStyle(a).transform;t&&"none"!==t&&(i=t.match(/matrix.*\((.+)\)/)[1].split(", "),i[0]&&"0"!==i[0]&&"1"!==i[0]&&(r=i[0]),i[3]&&"0"!==i[3]&&"1"!==i[3]&&(o=i[3])),a=a.parentElement}this._containerWidth=r?Math.abs(t/r):t,this._containerHeight=o?Math.abs(n/o):n}_detectMissingCSS(){"rgb(250, 128, 114)"!==e.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")&&e.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const e=this._container;e.classList.add("mapboxgl-map"),(this._missingCSSCanary=o("div","mapboxgl-canary",e)).style.visibility="hidden",this._detectMissingCSS();const t=this._canvasContainer=o("div","mapboxgl-canvas-container",e);this._interactive&&t.classList.add("mapboxgl-interactive"),this._canvas=o("canvas","mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const n=this._controlContainer=o("div","mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(e=>{i[e]=o("div","mapboxgl-ctrl-"+e,n)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(t,n){const i=e.exported.devicePixelRatio||1;this._canvas.width=i*Math.ceil(t),this._canvas.height=i*Math.ceil(n),this._canvas.style.width=t+"px",this._canvas.style.height=n+"px"}_addMarker(e){this._markers.push(e)}_removeMarker(e){const t=this._markers.indexOf(e);-1!==t&&this._markers.splice(t,1)}_addPopup(e){this._popups.push(e)}_removePopup(e){const t=this._popups.indexOf(e);-1!==t&&this._popups.splice(t,1)}_setupPainter(){const t=e.extend({},n.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),i=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);i?(e.storeAuthState(i,!0),this.painter=new Ri(i,this.transform),this.on("data",e=>{"source"===e.dataType&&this.painter.setTileLoadedFlag(!0)}),e.exported$1.testSupport(i)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_requestDomTask(e){!this.loaded()||this.loaded()&&!this.isMoving()?e():this._domRenderTaskQueue.add(e)}_render(t){let n;const i=this.painter.context.extTimerQuery,r=e.exported.now();if(this.listens("gpu-timing-frame")&&(n=i.createQueryEXT(),i.beginQueryEXT(i.TIME_ELAPSED_EXT,n)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],e.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],e.window.performance.now())),this._renderTaskQueue.run(t),this._domRenderTaskQueue.run(t),this._removed)return;this._updateProjectionTransition();const o=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,n=this.transform.pitch,i=e.exported.now(),r=new e.EvaluationParameters(t,{now:i,fadeDuration:o,pitch:n,transition:this.style.getTransition()});this.style.update(r)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let a=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),a=this._updateAverageElevation(r),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):a=this._updateAverageElevation(r),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,o,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:o,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new e.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),n){const t=e.exported.now()-r;i.endQueryEXT(i.TIME_ELAPSED_EXT,n),setTimeout(()=>{const o=i.getQueryObjectEXT(n,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:o})),e.window.performance.mark("frame-gpu",{startTime:r,detail:{gpuTime:o}})},50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout(()=>{const n=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:n}))},50)}if(this.listens("gpu-timing-deferred-render")){const t=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const n=this.painter.queryGpuTimeDeferredRender(t);this.fire(new e.Event("gpu-timing-deferred-render",{gpuTime:n}))},50)}const s=this._sourcesDirty||this._styleDirty||this._placementDirty||a;if(s||this._repaint)this.triggerRepaint();else{const t=!this.isMoving()&&this.loaded();if(t&&(a=this._updateAverageElevation(r,!0)),a)this.triggerRepaint();else if(this._triggerFrame(!1),t&&(this.fire(new e.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const t=this._calculateSpeedIndex();this.fire(new e.Event("speedindexcompleted",{speedIndex:t})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||s||(this._fullyLoaded=!0,e.LivePerformanceUtils.mark(e.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&e.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(e){for(const t of this._markers)e&&!this.getRenderWorldCopies()&&(t._lngLat=t._lngLat.wrap()),t._update();for(const t of this._popups)!e||this.getRenderWorldCopies()||t._trackPointer||(t._lngLat=t._lngLat.wrap()),t._update()}_updateAverageElevation(e,t=!1){const n=e=>(this.transform.averageElevation=e,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return 0!==this.transform.averageElevation&&n(0);if((t||e-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(e)){const t=this.transform.averageElevation;let i=this.transform.sampleAverageElevation(),r=!1;this.transform.elevation&&(r=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(i)?i=0:this._averageElevationLastSampledAt=e;const o=Math.abs(t-i);if(o>1){if(this._isInitialLoad||r)return this._averageElevation.jumpTo(i),n(i);this._averageElevation.easeTo(i,e,300)}else if(o>1e-4)return this._averageElevation.jumpTo(i),n(i)}return!!this._averageElevation.isEasing(e)&&n(this._averageElevation.getValue(e))}_authenticate(){e.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,t=>{if(t&&(t.message===e.AUTH_ERR_MSG||401===t.status)){const t=this.painter.context.gl;e.storeAuthState(t,!1),this._logoControl instanceof Yr&&this._logoControl._updateLogo(),t&&t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT|t.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new e.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),e.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const e=this._isDragging();this.painter.updateTerrain(this.style,e)}_calculateSpeedIndex(){const e=this.painter.canvasCopy(),t=this.painter.getCanvasCopiesAndTimestamps();t.timeStamps.push(performance.now());const n=this.painter.context.gl,i=n.createFramebuffer();function r(e){n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);const t=new Uint8Array(n.drawingBufferWidth*n.drawingBufferHeight*4);return n.readPixels(0,0,n.drawingBufferWidth,n.drawingBufferHeight,n.RGBA,n.UNSIGNED_BYTE,t),t}return n.bindFramebuffer(n.FRAMEBUFFER,i),this._canvasPixelComparison(r(e),t.canvasCopies.map(r),t.timeStamps)}_canvasPixelComparison(e,t,n){let i=n[1]-n[0];const r=e.length/4;for(let o=0;o<t.length;o++){const a=t[o];let s=0;for(let t=0;t<a.length;t+=4)a[t]===e[t]&&a[t+1]===e[t+1]&&a[t+2]===e[t+2]&&a[t+3]===e[t+3]&&(s+=1);i+=(n[o+2]-n[o+1])*(1-s/r)}return i}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),void 0!==e.window&&(e.window.removeEventListener("resize",this._onWindowResize,!1),e.window.removeEventListener("orientationchange",this._onWindowResize,!1),e.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),e.window.removeEventListener("online",this._onWindowOnline,!1),e.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),e.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(t){this._renderNextFrame=this._renderNextFrame||t,this.style&&!this._frame&&(this._frame=e.exported.frame(e=>{const t=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,t&&this._render(e)}))}_preloadTiles(t){const n=this.style?Object.values(this.style._sourceCaches):[];return e.asyncAll(n,(e,n)=>e._preloadTiles(t,n),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}_onVisibilityChange(){"hidden"===e.window.document.visibilityState&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(e){this._showTerrainWireframe!==e&&(this._showTerrainWireframe=e,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(e){this._speedIndexTiming!==e&&(this._speedIndexTiming=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(e){this._showTileAABBs!==e&&(this._showTileAABBs=e,e&&this._update())}_setCacheLimits(t,n){e.setCacheLimits(t,n)}get version(){return e.version}},NavigationControl:class{constructor(t){this.options=e.extend({},so,t),this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",e=>e.preventDefault()),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",e=>{this._map&&this._map.zoomIn({},{originalEvent:e})}),o("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",e=>{this._map&&this._map.zoomOut({},{originalEvent:e})}),o("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",e=>{const t=this._map;t&&(this.options.visualizePitch?t.resetNorthPitch({},{originalEvent:e}):t.resetNorth({},{originalEvent:e}))}),this._compassIcon=o("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const e=this._map;if(!e)return;const t=e.getZoom(),n=t===e.getMaxZoom(),i=t===e.getMinZoom();this._zoomInButton.disabled=n,this._zoomOutButton.disabled=i,this._zoomInButton.setAttribute("aria-disabled",n.toString()),this._zoomOutButton.setAttribute("aria-disabled",i.toString())}_rotateCompassArrow(){const e=this._map;if(!e)return;const t=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(e.transform.pitch*(Math.PI/180)),.5)}) rotateX(${e.transform.pitch}deg) rotateZ(${e.transform.angle*(180/Math.PI)}deg)`:`rotate(${e.transform.angle*(180/Math.PI)}deg)`;e._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=t)})}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),e.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&e.on("pitch",this._rotateCompassArrow),e.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new lo(e,this._compass,this.options.visualizePitch)),this._container}onRemove(){const e=this._map;e&&(this._container.remove(),this.options.showZoom&&e.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&e.off("pitch",this._rotateCompassArrow),e.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(e,t){const n=o("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}_setButtonTitle(e,t){if(!this._map)return;const n=this._map._getUIString("NavigationControl."+t);e.setAttribute("aria-label",n),e.firstElementChild&&e.firstElementChild.setAttribute("title",n)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({geolocation:e.window.navigator.geolocation},co,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Yi(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(e){return this._map=e,this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(t){const n=(e=!!this.options.geolocation)=>{this._supportsGeolocation=e,t(e)};void 0!==this._supportsGeolocation?t(this._supportsGeolocation):void 0!==e.window.navigator.permissions?e.window.navigator.permissions.query({name:"geolocation"}).then(e=>n("denied"!==e.state)).catch(()=>n()):n()}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),n=e.coords;return!!t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy,r=this._map.getBearing(),o=e.extend({bearing:r},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(i),o,{geolocateSource:!0})}_updateMarker(t){if(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const t=this._map.transform,n=e.mercatorZfromAltitude(1,t._center.lat)*t.worldSize,i=Math.ceil(2*this._accuracy*n);this._circleElement.style.width=i+"px",this._circleElement.style.height=i+"px"}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&"number"==typeof this._heading?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&this._noTimeout)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(void 0!==this._map){if(this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._geolocateButton=o("button","mapboxgl-ctrl-geolocate",this._container),o("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",t),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",e),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=o("div","mapboxgl-user-location"),this._dotElement.appendChild(o("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(o("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new eo({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=o("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new eo({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))})}}_onDeviceOrientation(e){this._userLocationDotMarker&&(e.webkitCompassHeading?this._heading=e.webkitCompassHeading:!0===e.absolute&&(this._heading=-1*e.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(e={maximumAge:6e5,timeout:0},this._noTimeout=!0):(e=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,e),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const t=()=>{e.window.addEventListener("ondeviceorientationabsolute"in e.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};void 0!==e.window.DeviceMotionEvent&&"function"==typeof e.window.DeviceMotionEvent.requestPermission?DeviceOrientationEvent.requestPermission().then(e=>{"granted"===e&&t()}).catch(console.error):t()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),e.window.removeEventListener("deviceorientation",this._onDeviceOrientation),e.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Xr,ScaleControl:class{constructor(t){this.options=e.extend({},uo,t),function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"narrow",unit:"meter"}),!0}catch(e){return!1}}()||(this._setScale=ho.bind(this)),e.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const e=this.options.maxWidth||100,t=this._map,n=t._containerHeight/2,i=t._containerWidth/2-e/2,r=t.unproject([i,n]),o=t.unproject([i+e,n]),a=r.distanceTo(o);if("imperial"===this.options.unit){const t=3.2808*a;t>5280?this._setScale(e,t/5280,"mile"):this._setScale(e,t,"foot")}else"nautical"===this.options.unit?this._setScale(e,a/1852,"nautical-mile"):a>=1e3?this._setScale(e,a/1e3,"kilometer"):this._setScale(e,a,"meter")}_setScale(e,t,n){const i=po(t),r=i/t;this._map._requestDomTask(()=>{this._container.style.width=e*r+"px",this._container.innerHTML="nautical-mile"!==n?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"narrow",unit:n}).format(i):i+"&nbsp;nm"})}onAdd(e){return this._map=e,this._language=e.getLanguage(),this._container=o("div","mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(e){this._language=e,this._update()}setUnit(e){this.options.unit=e,this._update()}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof e.window.HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in e.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in e.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=o("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,e.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!e.window.document.fullscreenEnabled&&!e.window.document.webkitFullscreenEnabled)}_setupUI(){const t=this._fullscreenButton=o("button","mapboxgl-ctrl-fullscreen",this._controlContainer);o("span","mapboxgl-ctrl-icon",t).setAttribute("aria-hidden","true"),t.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),e.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",e)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(e.window.document.fullscreenElement||e.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?e.window.document.exitFullscreen?e.window.document.exitFullscreen():e.window.document.webkitCancelFullScreen&&e.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(to),t),e.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(t&&t.className?t.className.trim().split(/\s+/):[])}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&t.on("preclick",this._onClose),this.options.closeOnMove&&t.on("move",this._onClose),t.on("remove",this.remove),this._update(),t._addPopup(this),this._focusFirstElement(),this._trackPointer?(t.on("mousemove",this._onMouseEvent),t.on("mouseup",this._onMouseEvent),t._canvasContainer.classList.add("mapboxgl-track-pointer")):t.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const t=this._map;return t&&(t.off("move",this._update),t.off("move",this._onClose),t.off("preclick",this._onClose),t.off("click",this._onClose),t.off("remove",this.remove),t.off("mousemove",this._onMouseEvent),t.off("mouseup",this._onMouseEvent),t.off("drag",this._onMouseEvent),t._canvasContainer&&t._canvasContainer.classList.remove("mapboxgl-track-pointer"),t._removePopup(this),this._map=void 0),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update();const n=this._map;return n&&(n.on("move",this._update),n.off("mousemove",this._onMouseEvent),n._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const e=this._map;return e&&(e.off("move",this._update),e.on("mousemove",this._onMouseEvent),e.on("drag",this._onMouseEvent),e._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(t){return this.setDOMContent(e.window.document.createTextNode(t))}setHTML(t){const n=e.window.document.createDocumentFragment(),i=e.window.document.createElement("body");let r;for(i.innerHTML=t;r=i.firstChild,r;)n.appendChild(r);return this.setDOMContent(n)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){let t=this._content;if(t)for(;t.hasChildNodes();)t.firstChild&&t.removeChild(t.firstChild);else t=this._content=o("div","mapboxgl-popup-content",this._container||void 0);if(t.appendChild(e),this.options.closeButton){const e=this._closeButton=o("button","mapboxgl-popup-close-button",t);e.type="button",e.setAttribute("aria-label","Close popup"),e.setAttribute("aria-hidden","true"),e.innerHTML="&#215;",e.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(e){return this._classList.add(e),this._updateClassList(),this}removeClassName(e){return this._classList.delete(e),this._updateClassList(),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){let t;return this._classList.delete(e)?t=!1:(this._classList.add(e),t=!0),this._updateClassList(),t}_onMouseEvent(e){this._update(e.point)}_getAnchor(e){if(this.options.anchor)return this.options.anchor;const t=this._map,n=this._container,i=this._pos;if(!t||!n||!i)return"bottom";const r=n.offsetWidth,o=n.offsetHeight,a=i.x<r/2,s=i.x>t.transform.width-r/2;if(i.y+e<o)return a?"top-left":s?"top-right":"top";if(i.y>t.transform.height-o){if(a)return"bottom-left";if(s)return"bottom-right"}return a?"left":s?"right":"bottom"}_updateClassList(){const e=this._container;if(!e)return;const t=[...this._classList];t.push("mapboxgl-popup"),this._anchor&&t.push("mapboxgl-popup-anchor-"+this._anchor),this._trackPointer&&t.push("mapboxgl-popup-track-pointer"),e.className=t.join(" ")}_update(t){const n=this._map,i=this._content;if(!n||!this._lngLat&&!this._trackPointer||!i)return;let r=this._container;if(r||(r=this._container=o("div","mapboxgl-popup",n.getContainer()),this._tip=o("div","mapboxgl-popup-tip",r),r.appendChild(i)),this.options.maxWidth&&r.style.maxWidth!==this.options.maxWidth&&(r.style.maxWidth=this.options.maxWidth),n.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Qr(this._lngLat,this._pos,n.transform)),!this._trackPointer||t){const e=this._pos=this._trackPointer&&t?t:n.project(this._lngLat),i=io(this.options.offset),r=this._anchor=this._getAnchor(i.y),o=io(this.options.offset,r),a=e.add(o).round();n._requestDomTask(()=>{this._container&&r&&(this._container.style.transform=`${Kr[r]} translate(${a.x}px,${a.y}px)`)})}if(!this._marker&&n._showingGlobe()){const t=e.isLngLatBehindGlobe(n.transform,this._lngLat)?0:1;this._setOpacity(t)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(no);e&&e.focus()}_onClose(){this.remove()}_setOpacity(e){this._container&&(this._container.style.opacity=""+e),this._content&&(this._content.style.pointerEvents=e?"auto":"none")}},Marker:eo,Style:Qt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,FreeCameraOptions:Ui,Evented:e.Evented,config:e.config,prewarm:function(){Ue().acquire(je)},clearPrewarmedResources:function(){const e=Ne;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(je),Ne=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return e.config.ACCESS_TOKEN},set accessToken(t){e.config.ACCESS_TOKEN=t},get baseApiUrl(){return e.config.API_URL},set baseApiUrl(t){e.config.API_URL=t},get workerCount(){return Fe.workerCount},set workerCount(e){Fe.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",workerClass:null,setNow:e.exported.setNow,restoreNow:e.exported.restoreNow};return fo})),i}()}()}).call(this,n(142))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&p())}function p(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},,function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(5)),o=i(n(4)),a=i(n(2)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=(i(n(6)),n(7),i(n(9))),u=function(e){var t={};return e.shadows.forEach((function(e,n){t["elevation".concat(n)]={boxShadow:e}})),(0,a.default)({root:{backgroundColor:e.palette.background.paper},rounded:{borderRadius:e.shape.borderRadius}},t)};function h(e){var t=e.classes,n=e.className,i=e.component,c=e.square,u=e.elevation,h=(0,o.default)(e,["classes","className","component","square","elevation"]),d=(0,l.default)(t.root,t["elevation".concat(u)],(0,r.default)({},t.rounded,!c),n);return s.default.createElement(i,(0,a.default)({className:d},h))}t.styles=u,h.defaultProps={component:"div",elevation:2,square:!1};var d=(0,c.default)(u,{name:"MuiPaper"})(h);t.default=d},,function(e,t,n){(function(t){!function(n){e.exports=function(){return function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return r(t[a][1][e]||e)}),c,c.exports,e,t,n,i)}return n[a].exports}for(var o=!1,a=0;a<i.length;a++)r(i[a]);return r}}()({1:[function(e,t,n){var i=e("./toPropertyKey.js");t.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},t.exports.__esModule=!0,t.exports.default=t.exports},{"./toPropertyKey.js":4}],2:[function(e,t,n){var i=e("./defineProperty.js");function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}t.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},t.exports.__esModule=!0,t.exports.default=t.exports},{"./defineProperty.js":1}],3:[function(e,t,n){var i=e("./typeof.js").default;t.exports=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./typeof.js":5}],4:[function(e,t,n){var i=e("./typeof.js").default,r=e("./toPrimitive.js");t.exports=function(e){var t=r(e,"string");return"symbol"===i(t)?t:String(t)},t.exports.__esModule=!0,t.exports.default=t.exports},{"./toPrimitive.js":3,"./typeof.js":5}],5:[function(e,t,n){function i(e){return t.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t.exports.__esModule=!0,t.exports.default=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},{}],6:[function(e,t,n){"use strict";var i={};function r(e){return Math.floor(Math.abs(e)+.5)*(e>=0?1:-1)}function o(e,t,n){var i=(e=r(e*n))-(t=r(t*n));i<<=1,e-t<0&&(i=~i);for(var o="";i>=32;)o+=String.fromCharCode(63+(32|31&i)),i>>=5;return o+=String.fromCharCode(i+63)}function a(e){for(var t=[],n=0;n<e.length;n++){var i=e[n].slice();t.push([i[1],i[0]])}return t}i.decode=function(e,t){for(var n,i=0,r=0,o=0,a=[],s=0,l=0,c=null,u=Math.pow(10,Number.isInteger(t)?t:5);i<e.length;){c=null,s=0,l=0;do{l|=(31&(c=e.charCodeAt(i++)-63))<<s,s+=5}while(c>=32);n=1&l?~(l>>1):l>>1,s=l=0;do{l|=(31&(c=e.charCodeAt(i++)-63))<<s,s+=5}while(c>=32);r+=n,o+=1&l?~(l>>1):l>>1,a.push([r/u,o/u])}return a},i.encode=function(e,t){if(!e.length)return"";for(var n=Math.pow(10,Number.isInteger(t)?t:5),i=o(e[0][0],0,n)+o(e[0][1],0,n),r=1;r<e.length;r++){var a=e[r],s=e[r-1];i+=o(a[0],s[0],n),i+=o(a[1],s[1],n)}return i},i.fromGeoJSON=function(e,t){if(e&&"Feature"===e.type&&(e=e.geometry),!e||"LineString"!==e.type)throw new Error("Input must be a GeoJSON LineString");return i.encode(a(e.coordinates),t)},i.toGeoJSON=function(e,t){return{type:"LineString",coordinates:a(i.decode(e,t))}},"object"==typeof t&&t.exports&&(t.exports=i)},{}],7:[function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&y(e,"error",t,n)}(e,r,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,n,i){var r,o,a;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=u(e))>0&&a.length>r&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=e,s.type=t,s.count=a.length,function(e){console&&console.warn&&console.warn(e)}(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=d.bind(i);return r.listener=n,i.wrapFn=r,r}function f(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function y(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=r[e];if(void 0===l)return!1;if("function"==typeof l)o(l,this,t);else{var c=l.length,u=g(l,c);for(n=0;n<c;++n)o(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,i,r,o,a;if(c(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},s.prototype.listenerCount=m,s.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},{}],8:[function(e,t,n){"use strict";var i=e("is-obj"),r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Sources cannot be null or undefined");return Object(e)}function s(e,t,n){var o=t[n];if(null!=o){if(r.call(e,n)&&(void 0===e[n]||null===e[n]))throw new TypeError("Cannot convert undefined or null to object ("+n+")");r.call(e,n)&&i(o)?e[n]=l(Object(e[n]),t[n]):e[n]=o}}function l(e,t){if(e===t)return e;for(var n in t=Object(t))r.call(t,n)&&s(e,t,n);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(t),a=0;a<i.length;a++)o.call(t,i[a])&&s(e,t,i[a]);return e}t.exports=function(e){e=a(e);for(var t=1;t<arguments.length;t++)l(e,arguments[t]);return e}},{"is-obj":10}],9:[function(e,t,n){!function(){var e={};void 0!==n?t.exports=e:this.fuzzy=e,e.simpleFilter=function(t,n){return n.filter((function(n){return e.test(t,n)}))},e.test=function(t,n){return null!==e.match(t,n)},e.match=function(e,t,n){n=n||{};var i,r=0,o=[],a=t.length,s=0,l=0,c=n.pre||"",u=n.post||"",h=n.caseSensitive&&t||t.toLowerCase();e=n.caseSensitive&&e||e.toLowerCase();for(var d=0;d<a;d++)i=t[d],h[d]===e[r]?(i=c+i+u,r+=1,l+=1+l):l=0,s+=l,o[o.length]=i;return r===e.length?(s=h===e?1/0:s,{rendered:o.join(""),score:s}):null},e.filter=function(t,n,i){return n&&0!==n.length?"string"!=typeof t?n:(i=i||{},n.reduce((function(n,r,o,a){var s=r;i.extract&&(s=i.extract(r));var l=e.match(t,s,i);return null!=l&&(n[n.length]={string:l.rendered,score:l.score,index:o,original:r}),n}),[]).sort((function(e,t){var n=t.score-e.score;return n||e.index-t.index}))):[]}}()},{}],10:[function(e,t,n){"use strict";t.exports=function(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}},{}],11:[function(e,t,n){t.exports=/<%=([\s\S]+?)%>/g},{}],12:[function(e,n,i){(function(e){(function(){var t=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,h=Math.max,d=Math.min,p=function(){return c.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(f(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=f(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(t,"");var s=r.test(e);return s||o.test(e)?a(e.slice(2),s?2:8):i.test(e)?NaN:+e}n.exports=function(e,t,n){var i,r,o,a,s,l,c=0,u=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function _(t){var n=i,o=r;return i=r=void 0,c=t,a=e.apply(o,n)}function v(e){return c=e,s=setTimeout(b,t),u?_(e):a}function x(e){var n=e-l;return void 0===l||n>=t||n<0||g&&e-c>=o}function b(){var e=p();if(x(e))return w(e);s=setTimeout(b,function(e){var n=t-(e-l);return g?d(n,o-(e-c)):n}(e))}function w(e){return s=void 0,y&&i?_(e):(i=r=void 0,a)}function T(){var e=p(),n=x(e);if(i=arguments,r=this,l=e,n){if(void 0===s)return v(l);if(g)return s=setTimeout(b,t),_(l)}return void 0===s&&(s=setTimeout(b,t)),a}return t=m(t)||0,f(n)&&(u=!!n.leading,o=(g="maxWait"in n)?h(m(n.maxWait)||0,t):o,y="trailing"in n?!!n.trailing:y),T.cancel=function(){void 0!==s&&clearTimeout(s),c=0,i=l=r=s=void 0},T.flush=function(){return void 0===s?a:w(p())},T}}).call(this)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(e,n,i){(function(e){(function(){var t="[object Arguments]",r="[object Map]",o="[object Object]",a="[object Set]",s=/^\[object .+?Constructor\]$/,l=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[t]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[r]=c["[object Number]"]=c[o]=c["[object RegExp]"]=c[a]=c["[object String]"]=c["[object WeakMap]"]=!1;var u="object"==typeof e&&e&&e.Object===Object&&e,h="object"==typeof self&&self&&self.Object===Object&&self,d=u||h||Function("return this")(),p="object"==typeof i&&i&&!i.nodeType&&i,f=p&&"object"==typeof n&&n&&!n.nodeType&&n,m=f&&f.exports===p,g=m&&u.process,y=function(){try{return g&&g.binding&&g.binding("util")}catch(e){}}(),_=y&&y.isTypedArray;function v(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function x(e,t){return e.has(t)}function b(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function w(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var T=Array.prototype,E=Function.prototype,S=Object.prototype,M=d["__core-js_shared__"],I=E.toString,C=S.hasOwnProperty,k=function(){var e=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),A=S.toString,P=RegExp("^"+I.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),z=m?d.Buffer:void 0,D=d.Symbol,L=d.Uint8Array,O=S.propertyIsEnumerable,R=T.splice,B=D?D.toStringTag:void 0,j=Object.getOwnPropertySymbols,F=z?z.isBuffer:void 0,N=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),U=me(d,"DataView"),V=me(d,"Map"),G=me(d,"Promise"),Z=me(d,"Set"),W=me(d,"WeakMap"),q=me(Object,"create"),$=ve(U),H=ve(V),X=ve(G),Y=ve(Z),J=ve(W),Q=D?D.prototype:void 0,K=Q?Q.valueOf:void 0;function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ie(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ne;++t<n;)this.add(e[t])}function re(e){var t=this.__data__=new te(e);this.size=t.size}function oe(e,t){var n=we(e),i=!n&&be(e),r=!n&&!i&&Te(e),o=!n&&!i&&!r&&Ce(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=s.length;for(var c in e)!t&&!C.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_e(c,l))||s.push(c);return s}function ae(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}function se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":B&&B in Object(e)?function(e){var t=C.call(e,B),n=e[B];try{e[B]=void 0;var i=!0}catch(e){}var r=A.call(e);i&&(t?e[B]=n:delete e[B]);return r}(e):function(e){return A.call(e)}(e)}function le(e){return Ie(e)&&se(e)==t}function ce(e,n,i,s,l){return e===n||(null==e||null==n||!Ie(e)&&!Ie(n)?e!=e&&n!=n:function(e,n,i,s,l,c){var u=we(e),h=we(n),d=u?"[object Array]":ye(e),p=h?"[object Array]":ye(n),f=(d=d==t?o:d)==o,m=(p=p==t?o:p)==o,g=d==p;if(g&&Te(e)){if(!Te(n))return!1;u=!0,f=!1}if(g&&!f)return c||(c=new re),u||Ce(e)?de(e,n,i,s,l,c):function(e,t,n,i,o,s,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new L(e),new L(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xe(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case r:var c=b;case a:var u=1&i;if(c||(c=w),e.size!=t.size&&!u)return!1;var h=l.get(e);if(h)return h==t;i|=2,l.set(e,t);var d=de(c(e),c(t),i,o,s,l);return l.delete(e),d;case"[object Symbol]":if(K)return K.call(e)==K.call(t)}return!1}(e,n,d,i,s,l,c);if(!(1&i)){var y=f&&C.call(e,"__wrapped__"),_=m&&C.call(n,"__wrapped__");if(y||_){var v=y?e.value():e,x=_?n.value():n;return c||(c=new re),l(v,x,i,s,c)}}if(!g)return!1;return c||(c=new re),function(e,t,n,i,r,o){var a=1&n,s=pe(e),l=s.length,c=pe(t).length;if(l!=c&&!a)return!1;var u=l;for(;u--;){var h=s[u];if(!(a?h in t:C.call(t,h)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var p=!0;o.set(e,t),o.set(t,e);var f=a;for(;++u<l;){h=s[u];var m=e[h],g=t[h];if(i)var y=a?i(g,m,h,t,e,o):i(m,g,h,e,t,o);if(!(void 0===y?m===g||r(m,g,n,i,o):y)){p=!1;break}f||(f="constructor"==h)}if(p&&!f){var _=e.constructor,v=t.constructor;_==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof v&&v instanceof v||(p=!1)}return o.delete(e),o.delete(t),p}(e,n,i,s,l,c)}(e,n,i,s,ce,l))}function ue(e){return!(!Me(e)||function(e){return!!k&&k in e}(e))&&(Ee(e)?P:s).test(ve(e))}function he(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||S;return e===n}(e))return N(e);var t=[];for(var n in Object(e))C.call(e,n)&&"constructor"!=n&&t.push(n);return t}function de(e,t,n,i,r,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,h=!0,d=2&n?new ie:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var p=e[u],f=t[u];if(i)var m=a?i(f,p,u,t,e,o):i(p,f,u,e,t,o);if(void 0!==m){if(m)continue;h=!1;break}if(d){if(!v(t,(function(e,t){if(!x(d,t)&&(p===e||r(p,e,n,i,o)))return d.push(t)}))){h=!1;break}}else if(p!==f&&!r(p,f,n,i,o)){h=!1;break}}return o.delete(e),o.delete(t),h}function pe(e){return function(e,t,n){var i=t(e);return we(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,ke,ge)}function fe(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ue(n)?n:void 0}ee.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},ee.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ee.prototype.get=function(e){var t=this.__data__;if(q){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return C.call(t,e)?t[e]:void 0},ee.prototype.has=function(e){var t=this.__data__;return q?void 0!==t[e]:C.call(t,e)},ee.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q&&void 0===t?"__lodash_hash_undefined__":t,this},te.prototype.clear=function(){this.__data__=[],this.size=0},te.prototype.delete=function(e){var t=this.__data__,n=ae(t,e);return!(n<0)&&(n==t.length-1?t.pop():R.call(t,n,1),--this.size,!0)},te.prototype.get=function(e){var t=this.__data__,n=ae(t,e);return n<0?void 0:t[n][1]},te.prototype.has=function(e){return ae(this.__data__,e)>-1},te.prototype.set=function(e,t){var n=this.__data__,i=ae(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},ne.prototype.clear=function(){this.size=0,this.__data__={hash:new ee,map:new(V||te),string:new ee}},ne.prototype.delete=function(e){var t=fe(this,e).delete(e);return this.size-=t?1:0,t},ne.prototype.get=function(e){return fe(this,e).get(e)},ne.prototype.has=function(e){return fe(this,e).has(e)},ne.prototype.set=function(e,t){var n=fe(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},ie.prototype.add=ie.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ie.prototype.has=function(e){return this.__data__.has(e)},re.prototype.clear=function(){this.__data__=new te,this.size=0},re.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},re.prototype.get=function(e){return this.__data__.get(e)},re.prototype.has=function(e){return this.__data__.has(e)},re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof te){var i=n.__data__;if(!V||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ne(i)}return n.set(e,t),this.size=n.size,this};var ge=j?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}(j(e),(function(t){return O.call(e,t)})))}:function(){return[]},ye=se;function _e(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}function ve(e){if(null!=e){try{return I.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function xe(e,t){return e===t||e!=e&&t!=t}(U&&"[object DataView]"!=ye(new U(new ArrayBuffer(1)))||V&&ye(new V)!=r||G&&"[object Promise]"!=ye(G.resolve())||Z&&ye(new Z)!=a||W&&"[object WeakMap]"!=ye(new W))&&(ye=function(e){var t=se(e),n=t==o?e.constructor:void 0,i=n?ve(n):"";if(i)switch(i){case $:return"[object DataView]";case H:return r;case X:return"[object Promise]";case Y:return a;case J:return"[object WeakMap]"}return t});var be=le(function(){return arguments}())?le:function(e){return Ie(e)&&C.call(e,"callee")&&!O.call(e,"callee")},we=Array.isArray;var Te=F||function(){return!1};function Ee(e){if(!Me(e))return!1;var t=se(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Se(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Me(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ie(e){return null!=e&&"object"==typeof e}var Ce=_?function(e){return function(t){return e(t)}}(_):function(e){return Ie(e)&&Se(e.length)&&!!c[se(e)]};function ke(e){return function(e){return null!=e&&Se(e.length)&&!Ee(e)}(e)?oe(e):he(e)}n.exports=function(e,t){return ce(e,t)}}).call(this)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(e,n,i){(function(t){(function(){var r=e("lodash._reinterpolate"),o=e("lodash.templatesettings"),a=/\b__p \+= '';/g,s=/\b(__p \+=) '' \+/g,l=/(__e\(.*?\)|\b__t\)) \+\n'';/g,c=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,u=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,d=/($^)/,p=/['\n\r\u2028\u2029\\]/g,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1;var m={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},g="object"==typeof t&&t&&t.Object===Object&&t,y="object"==typeof self&&self&&self.Object===Object&&self,_=g||y||Function("return this")(),v="object"==typeof i&&i&&!i.nodeType&&i,x=v&&"object"==typeof n&&n&&!n.nodeType&&n,b=x&&x.exports===v,w=b&&g.process,T=function(){try{var e=x&&x.require&&x.require("util").types;return e||w&&w.binding&&w.binding("util")}catch(e){}}(),E=T&&T.isTypedArray;function S(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function M(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function I(e){return"\\"+m[e]}function C(e,t){return function(n){return e(t(n))}}var k=Function.prototype,A=Object.prototype,P=_["__core-js_shared__"],z=k.toString,D=A.hasOwnProperty,L=function(){var e=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),O=A.toString,R=z.call(Object),B=RegExp("^"+z.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=b?_.Buffer:void 0,F=_.Symbol,N=C(Object.getPrototypeOf,Object),U=A.propertyIsEnumerable,V=F?F.toStringTag:void 0,G=function(){try{var e=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){if(!ye(e)||function(e){return!!L&&L in e}(e))return!1;return(me(e)?B:u).test(function(e){if(null!=e){try{return z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Z=j?j.isBuffer:void 0,W=C(Object.keys,Object),q=Math.max,$=Date.now,H=F?F.prototype:void 0,X=H?H.toString:void 0;function Y(e,t){var n=he(e),i=!n&&ue(e),r=!n&&!i&&pe(e),o=!n&&!i&&!r&&ve(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=s.length;for(var c in e)!t&&!D.call(e,c)||a&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||oe(c,l))||s.push(c);return s}function J(e,t,n){var i=e[t];D.call(e,t)&&ce(i,n)&&(void 0!==n||t in e)||Q(e,t,n)}function Q(e,t,n){"__proto__"==t&&G?G(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function K(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":V&&V in Object(e)?function(e){var t=D.call(e,V),n=e[V];try{e[V]=void 0;var i=!0}catch(e){}var r=O.call(e);i&&(t?e[V]=n:delete e[V]);return r}(e):function(e){return O.call(e)}(e)}function ee(e){return _e(e)&&"[object Arguments]"==K(e)}function te(e){if(!ye(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=se(e),n=[];for(var i in e)("constructor"!=i||!t&&D.call(e,i))&&n.push(i);return n}function ne(e,t){return le(function(e,t,n){return t=q(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=q(i.length-t,0),a=Array(o);++r<o;)a[r]=i[t+r];r=-1;for(var s=Array(t+1);++r<t;)s[r]=i[r];return s[t]=n(a),S(e,this,s)}}(e,t,Ee),e+"")}function ie(e){if("string"==typeof e)return e;if(he(e))return M(e,ie)+"";if(function(e){return"symbol"==typeof e||_e(e)&&"[object Symbol]"==K(e)}(e))return X?X.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function re(e,t,n,i){return void 0===e||ce(e,A[n])&&!D.call(i,n)?t:e}function oe(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&h.test(e))&&e>-1&&e%1==0&&e<t}function ae(e,t,n){if(!ye(n))return!1;var i=typeof t;return!!("number"==i?de(n)&&oe(t,n.length):"string"==i&&t in n)&&ce(n[t],e)}function se(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||A)}var le=function(e){var t=0,n=0;return function(){var i=$(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(G?function(e,t){return G(e,"toString",{configurable:!0,enumerable:!1,value:Te(t),writable:!0})}:Ee);function ce(e,t){return e===t||e!=e&&t!=t}var ue=ee(function(){return arguments}())?ee:function(e){return _e(e)&&D.call(e,"callee")&&!U.call(e,"callee")},he=Array.isArray;function de(e){return null!=e&&ge(e.length)&&!me(e)}var pe=Z||function(){return!1};function fe(e){if(!_e(e))return!1;var t=K(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!function(e){if(!_e(e)||"[object Object]"!=K(e))return!1;var t=N(e);if(null===t)return!0;var n=D.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&z.call(n)==R}(e)}function me(e){if(!ye(e))return!1;var t=K(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ge(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function ye(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function _e(e){return null!=e&&"object"==typeof e}var ve=E?function(e){return function(t){return e(t)}}(E):function(e){return _e(e)&&ge(e.length)&&!!f[K(e)]};var xe=function(e){return ne((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,a&&ae(n[0],n[1],a)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var s=n[i];s&&e(t,s,i,o)}return t}))}((function(e,t,n,i){!function(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),r?Q(n,s,l):J(n,s,l)}}(t,function(e){return de(e)?Y(e,!0):te(e)}(t),e,i)}));function be(e){return de(e)?Y(e):function(e){if(!se(e))return W(e);var t=[];for(var n in Object(e))D.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var we=ne((function(e,t){try{return S(e,void 0,t)}catch(e){return fe(e)?e:new Error(e)}}));function Te(e){return function(){return e}}function Ee(e){return e}n.exports=function(e,t,n){var i=o.imports._.templateSettings||o;n&&ae(e,t,n)&&(t=void 0),e=function(e){return null==e?"":ie(e)}(e),t=xe({},t,i,re);var u,h,f=xe({},t.imports,i.imports,re),m=be(f),g=function(e,t){return M(t,(function(t){return e[t]}))}(f,m),y=0,_=t.interpolate||d,v="__p += '",x=RegExp((t.escape||d).source+"|"+_.source+"|"+(_===r?c:d).source+"|"+(t.evaluate||d).source+"|$","g"),b=D.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/[\r\n]/g," ")+"\n":"";e.replace(x,(function(t,n,i,r,o,a){return i||(i=r),v+=e.slice(y,a).replace(p,I),n&&(u=!0,v+="' +\n__e("+n+") +\n'"),o&&(h=!0,v+="';\n"+o+";\n__p += '"),i&&(v+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),y=a+t.length,t})),v+="';\n";var w=D.call(t,"variable")&&t.variable;w||(v="with (obj) {\n"+v+"\n}\n"),v=(h?v.replace(a,""):v).replace(s,"$1").replace(l,"$1;"),v="function("+(w||"obj")+") {\n"+(w?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(h?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+v+"return __p\n}";var T=we((function(){return Function(m,b+"return "+v).apply(void 0,g)}));if(T.source=v,fe(T))throw T;return T}}).call(this)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._reinterpolate":11,"lodash.templatesettings":15}],15:[function(e,n,i){(function(t){(function(){var i=e("lodash._reinterpolate"),r=/[&<>"'`]/g,o=RegExp(r.source),a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,l=a||s||Function("return this")();var c=function(e){return function(t){return null==e?void 0:e[t]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"}),u=Object.prototype.toString,h=l.Symbol,d=h?h.prototype:void 0,p=d?d.toString:void 0,f={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:i,variable:"",imports:{_:{escape:function(e){return(e=g(e))&&o.test(e)?e.replace(r,c):e}}}};function m(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return p?p.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function g(e){return null==e?"":m(e)}n.exports=f}).call(this)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"lodash._reinterpolate":11}],16:[function(e,t,n){var i,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(i===setTimeout)return setTimeout(e,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:a}catch(e){i=a}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var c,u=[],h=!1,d=-1;function p(){h&&c&&(h=!1,c.length?u=c.concat(u):d=-1,u.length&&f())}function f(){if(!h){var e=l(p);h=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,h=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function g(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||h||l(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],17:[function(e,t,n){"use strict";function i(e){return function(t){var n=t.dispatch,i=t.getState;return function(t){return function(r){return"function"==typeof r?r(n,i,e):t(r)}}}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i();r.withExtraArgument=i;var o=r;n.default=o},{}],18:[function(e,t,n){(function(t){(function(){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e("@babel/runtime/helpers/objectSpread2"));function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var a=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}(),s=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+s(),REPLACE:"@@redux/REPLACE"+s(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function u(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":return t}if(Array.isArray(e))return"array";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";var n=function(e){return"function"==typeof e.constructor?e.constructor.name:null}(e);switch(n){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return n}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}function h(e){var n=typeof e;return"production"!==t.env.NODE_ENV&&(n=u(e)),n}function d(e,n,i){var r;if("function"==typeof n&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error("production"===t.env.NODE_ENV?o(0):"It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if("function"==typeof n&&void 0===i&&(i=n,n=void 0),void 0!==i){if("function"!=typeof i)throw new Error("production"===t.env.NODE_ENV?o(1):"Expected the enhancer to be a function. Instead, received: '"+h(i)+"'");return i(d)(e,n)}if("function"!=typeof e)throw new Error("production"===t.env.NODE_ENV?o(2):"Expected the root reducer to be a function. Instead, received: '"+h(e)+"'");var s=e,u=n,p=[],f=p,m=!1;function g(){f===p&&(f=p.slice())}function y(){if(m)throw new Error("production"===t.env.NODE_ENV?o(3):"You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return u}function _(e){if("function"!=typeof e)throw new Error("production"===t.env.NODE_ENV?o(4):"Expected the listener to be a function. Instead, received: '"+h(e)+"'");if(m)throw new Error("production"===t.env.NODE_ENV?o(5):"You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");var n=!0;return g(),f.push(e),function(){if(n){if(m)throw new Error("production"===t.env.NODE_ENV?o(6):"You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");n=!1,g();var i=f.indexOf(e);f.splice(i,1),p=null}}}function v(e){if(!c(e))throw new Error("production"===t.env.NODE_ENV?o(7):"Actions must be plain objects. Instead, the actual type was: '"+h(e)+"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.");if(void 0===e.type)throw new Error("production"===t.env.NODE_ENV?o(8):'Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(m)throw new Error("production"===t.env.NODE_ENV?o(9):"Reducers may not dispatch actions.");try{m=!0,u=s(u,e)}finally{m=!1}for(var n=p=f,i=0;i<n.length;i++){(0,n[i])()}return e}function x(e){if("function"!=typeof e)throw new Error("production"===t.env.NODE_ENV?o(10):"Expected the nextReducer to be a function. Instead, received: '"+h(e));s=e,v({type:l.REPLACE})}function b(){var e,n=_;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error("production"===t.env.NODE_ENV?o(11):"Expected the observer to be an object. Instead, received: '"+h(e)+"'");function i(){e.next&&e.next(y())}return i(),{unsubscribe:n(i)}}})[a]=function(){return this},e}return v({type:l.INIT}),(r={dispatch:v,subscribe:_,getState:y,replaceReducer:x})[a]=b,r}var p=d;function f(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function m(e,t){return function(){return t(e.apply(this,arguments))}}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function y(){}"production"!==t.env.NODE_ENV&&"string"==typeof y.name&&"isCrushed"!==y.name&&f('You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) to ensure you have the correct code for your production build.'),n.__DO_NOT_USE__ActionTypes=l,n.applyMiddleware=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(e){return function(){var i=e.apply(void 0,arguments),a=function(){throw new Error("production"===t.env.NODE_ENV?o(15):"Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},s={getState:i.getState,dispatch:function(){return a.apply(void 0,arguments)}},l=n.map((function(e){return e(s)}));return a=g.apply(void 0,l)(i.dispatch),r.default(r.default({},i),{},{dispatch:a})}}},n.bindActionCreators=function(e,n){if("function"==typeof e)return m(e,n);if("object"!=typeof e||null===e)throw new Error("production"===t.env.NODE_ENV?o(16):"bindActionCreators expected an object or a function, but instead received: '"+h(e)+'\'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var i={};for(var r in e){var a=e[r];"function"==typeof a&&(i[r]=m(a,n))}return i},n.combineReducers=function(e){for(var n=Object.keys(e),i={},r=0;r<n.length;r++){var a=n[r];"production"!==t.env.NODE_ENV&&void 0===e[a]&&f('No reducer provided for key "'+a+'"'),"function"==typeof e[a]&&(i[a]=e[a])}var s,u,d=Object.keys(i);"production"!==t.env.NODE_ENV&&(s={});try{!function(e){Object.keys(e).forEach((function(n){var i=e[n];if(void 0===i(void 0,{type:l.INIT}))throw new Error("production"===t.env.NODE_ENV?o(12):'The slice reducer for key "'+n+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===i(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error("production"===t.env.NODE_ENV?o(13):'The slice reducer for key "'+n+"\" returned undefined when probed with a random type. Don't try to handle '"+l.INIT+'\' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(i)}catch(e){u=e}return function(e,n){if(void 0===e&&(e={}),u)throw u;if("production"!==t.env.NODE_ENV){var r=function(e,t,n,i){var r=Object.keys(t),o=n&&n.type===l.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!c(e))return"The "+o+' has unexpected type of "'+h(e)+'". Expected argument to be an object with the following keys: "'+r.join('", "')+'"';var a=Object.keys(e).filter((function(e){return!t.hasOwnProperty(e)&&!i[e]}));return a.forEach((function(e){i[e]=!0})),n&&n.type===l.REPLACE?void 0:a.length>0?"Unexpected "+(a.length>1?"keys":"key")+' "'+a.join('", "')+'" found in '+o+'. Expected to find one of the known reducer keys instead: "'+r.join('", "')+'". Unexpected keys will be ignored.':void 0}(e,i,n,s);r&&f(r)}for(var a=!1,p={},m=0;m<d.length;m++){var g=d[m],y=i[g],_=e[g],v=y(_,n);if(void 0===v){var x=n&&n.type;throw new Error("production"===t.env.NODE_ENV?o(14):"When called with an action of type "+(x?'"'+String(x)+'"':"(unknown type)")+', the slice reducer for key "'+g+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.')}p[g]=v,a=a||v!==_}return(a=a||d.length!==Object.keys(e).length)?p:e}},n.compose=g,n.createStore=d,n.legacy_createStore=p}).call(this)}).call(this,e("_process"))},{"@babel/runtime/helpers/objectSpread2":2,_process:16}],19:[function(e,t,n){"use strict";var i=e("./src/suggestions");t.exports=i,"undefined"!=typeof window&&(window.Suggestions=i)},{"./src/suggestions":21}],20:[function(e,t,n){"use strict";var i=function(e){return this.component=e,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,e.el.parentNode.insertBefore(this.wrapper,e.el.nextSibling),this};i.prototype.show=function(){this.element.style.display="block"},i.prototype.hide=function(){this.element.style.display="none"},i.prototype.add=function(e){this.items.push(e)},i.prototype.clear=function(){this.items=[],this.active=0},i.prototype.isEmpty=function(){return!this.items.length},i.prototype.isVisible=function(){return"block"===this.element.style.display},i.prototype.draw=function(){if(this.element.innerHTML="",0!==this.items.length){for(var e=0;e<this.items.length;e++)this.drawItem(this.items[e],this.active===e);this.show()}else this.hide()},i.prototype.drawItem=function(e,t){var n=document.createElement("li"),i=document.createElement("a");t&&(n.className+=" active"),i.innerHTML=e.string,n.appendChild(i),this.element.appendChild(n),n.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),n.addEventListener("mouseup",function(){this.handleMouseUp.call(this,e)}.bind(this))},i.prototype.handleMouseUp=function(e){this.selectingListItem=!1,this.component.value(e.original),this.clear(),this.draw()},i.prototype.move=function(e){this.active=e,this.draw()},i.prototype.previous=function(){this.move(0===this.active?this.items.length-1:this.active-1)},i.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)},i.prototype.drawError=function(e){var t=document.createElement("li");t.innerHTML=e,this.element.appendChild(t),this.show()},t.exports=i},{}],21:[function(e,t,n){"use strict";var i=e("xtend"),r=e("fuzzy"),o=e("./list"),a=function(e,t,n){return n=n||{},this.options=i({minLength:2,limit:5,filter:!0,hideOnBlur:!0},n),this.el=e,this.data=t||[],this.list=new o(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(e){this.handleKeyUp(e.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(e){this.handleKeyDown(e)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(e){this.handlePaste(e)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};a.prototype.handleKeyUp=function(e){40!==e&&38!==e&&27!==e&&13!==e&&9!==e&&this.handleInputChange(this.el.value)},a.prototype.handleKeyDown=function(e){switch(e.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&e.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next()}},a.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()},a.prototype.handlePaste=function(e){if(e.clipboardData)this.handleInputChange(e.clipboardData.getData("Text"));else{var t=this;setTimeout((function(){t.handleInputChange(e.target.value)}),100)}},a.prototype.handleInputChange=function(e){this.query=this.normalize(e),this.list.clear(),this.query.length<this.options.minLength?this.list.draw():this.getCandidates(function(e){for(var t=0;t<e.length&&(this.list.add(e[t]),t!==this.options.limit-1);t++);this.list.draw()}.bind(this))},a.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1},a.prototype.update=function(e){this.data=e,this.handleKeyUp()},a.prototype.clear=function(){this.data=[],this.list.clear()},a.prototype.normalize=function(e){return e=e.toLowerCase()},a.prototype.match=function(e,t){return e.indexOf(t)>-1},a.prototype.value=function(e){if(this.selected=e,this.el.value=this.getItemValue(e),document.createEvent){var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!1),this.el.dispatchEvent(t)}else this.el.fireEvent("onchange")},a.prototype.getCandidates=function(e){var t={pre:"<strong>",post:"</strong>",extract:function(e){return this.getItemValue(e)}.bind(this)};e(this.options.filter?r.filter(this.query,this.data,t).map(function(e){return{original:e.original,string:this.render(e.original,e.string)}}.bind(this)):this.data.map(function(e){return{original:e,string:this.render(e)}}.bind(this)))},a.prototype.getItemValue=function(e){return e},a.prototype.render=function(e,t){if(t)return t;for(var n=e.original?this.getItemValue(e.original):this.getItemValue(e),i=this.normalize(n),r=i.lastIndexOf(this.query);r>-1;){var o=r+this.query.length;n=n.slice(0,r)+"<strong>"+n.slice(r,o)+"</strong>"+n.slice(o),r=i.slice(0,r).lastIndexOf(this.query)}return n},a.prototype.renderError=function(e){this.list.drawError(e)},t.exports=a},{"./list":20,fuzzy:9,xtend:24}],22:[function(e,t,n){var i=e("turf-meta").coordEach;t.exports=function(e){var t=[1/0,1/0,-1/0,-1/0];return i(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}},{"turf-meta":23}],23:[function(e,t,n){function i(e,t,n){var i,r,o,a,s,c,u,h,d,p=0,f="FeatureCollection"===e.type,m="Feature"===e.type,g=f?e.features.length:1;for(i=0;i<g;i++)for(c=(d="GeometryCollection"===(h=f?e.features[i].geometry:m?e.geometry:e).type)?h.geometries.length:1,a=0;a<c;a++)if(u=(s=d?h.geometries[a]:h).coordinates,p=!n||"Polygon"!==s.type&&"MultiPolygon"!==s.type?0:1,"Point"===s.type)t(u);else if("LineString"===s.type||"MultiPoint"===s.type)for(r=0;r<u.length;r++)t(u[r]);else if("Polygon"===s.type||"MultiLineString"===s.type)for(r=0;r<u.length;r++)for(o=0;o<u[r].length-p;o++)t(u[r][o]);else{if("MultiPolygon"!==s.type)throw new Error("Unknown Geometry Type");for(r=0;r<u.length;r++)for(o=0;o<u[r].length;o++)for(l=0;l<u[r][o].length-p;l++)t(u[r][o][l])}}function r(e,t){var n;switch(e.type){case"FeatureCollection":for(features=e.features,n=0;n<e.features.length;n++)t(e.features[n].properties);break;case"Feature":t(e.properties)}}t.exports.coordEach=i,t.exports.coordReduce=function(e,t,n,r){return i(e,(function(e){n=t(n,e)}),r),n},t.exports.propEach=r,t.exports.propReduce=function(e,t,n){return r(e,(function(e){n=t(n,e)})),n}},{}],24:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)i.call(n,r)&&(e[r]=n[r])}return e};var i=Object.prototype.hasOwnProperty},{}],25:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.addWaypoint=function(e,t){return function(n,i){var r=i(),o=r.destination,a=r.waypoints;a.splice(e,0,p(t)),n(h(a)),o.geometry&&n(d())}},n.clearDestination=function(){return s.abort(),function(e){e({type:r.DESTINATION_CLEAR}),e(x("clear",{type:"destination"})),e(f(null))}},n.clearOrigin=function(){return function(e){e({type:r.ORIGIN_CLEAR}),e(x("clear",{type:"origin"})),e(f(null))}},n.createDestination=v,n.createOrigin=_,n.eventEmit=x,n.eventSubscribe=function(e,t){return function(n,i){var o=i().events;return o[e]=o[e]||[],o[e].push(t),{type:r.EVENTS,events:o}}},n.hoverMarker=function(e){return function(t){t(function(e){return{type:r.HOVER_MARKER,hoverMarker:e}}(e?o.default.createPoint(e,{id:"hover"}):{}))}},n.queryDestination=function(e){return{type:r.DESTINATION_QUERY,query:e}},n.queryDestinationCoordinates=g,n.queryOrigin=function(e){return{type:r.ORIGIN_QUERY,query:e}},n.queryOriginCoordinates=m,n.removeWaypoint=function(e){return function(t,n){var i=n(),r=i.destination,a=i.waypoints;t(h(a=a.filter((function(t){return!o.default.coordinateMatch(t,e)})))),r.geometry&&t(d())}},n.reverse=function(){return function(e,t){var n=t();n.destination.geometry&&e(l(n.destination.geometry.coordinates)),n.origin.geometry&&e(c(n.origin.geometry.coordinates)),n.origin.geometry&&n.destination.geometry&&e(d());for(var i=document.getElementsByClassName("suggestions"),r=0;r<i.length;r++)i[r].style.visibility="hidden"}},n.setDestinationFromCoordinates=function(e){return function(t){if(o.default.validCoords(e)||(e=[o.default.wrap(e[0]),o.default.wrap(e[1])]),isNaN(e[0])&&isNaN(e[1]))return t(f(new Error("Coordinates are not valid")));t(v(e)),t(g(e))}},n.setOptions=function(e){return{type:r.SET_OPTIONS,options:e}},n.setOriginFromCoordinates=function(e){return function(t){if(o.default.validCoords(e)||(e=[o.default.wrap(e[0]),o.default.wrap(e[1])]),isNaN(e[0])&&isNaN(e[1]))return t(f(new Error("Coordinates are not valid")));t(m(e)),t(_(e))}},n.setProfile=function(e){return function(t,n){var i=n(),o=i.origin,a=i.destination;t({type:r.DIRECTIONS_PROFILE,profile:e}),t(x("profile",{profile:e})),o.geometry&&a.geometry&&t(d())}},n.setRouteIndex=y,n.setWaypoint=function(e,t){return function(n,i){var r=i(),o=r.destination,a=r.waypoints;a[e]=p(t),n(h(a)),o.geometry&&n(d())}};var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(e("../constants/action_types")),o=function(e){return e&&e.__esModule?e:{default:e}}(e("../utils"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s=new XMLHttpRequest;function l(e){return function(t){var n=o.default.createPoint(e,{id:"origin","marker-symbol":"A"});t({type:r.ORIGIN,origin:n}),t(x("origin",{feature:n}))}}function c(e){return function(t){var n=o.default.createPoint(e,{id:"destination","marker-symbol":"B"});t({type:r.DESTINATION,destination:n}),t(x("destination",{feature:n}))}}function u(e){return function(t){t({type:r.DIRECTIONS,directions:e}),t(x("route",{route:e}))}}function h(e){return{type:r.WAYPOINTS,waypoints:e}}function d(){return function(e,t){var n=t(),i=n.api,r=n.accessToken,o=n.routeIndex,a=n.profile,h=n.alternatives,d=n.congestion,p=n.destination,m=n.language,g=n.exclude;if(p&&p.geometry){var _=function(e){var t=e(),n=t.origin,i=t.destination,r=t.waypoints,o=[];o.push(n.geometry.coordinates.join(",")),o.push(";"),r.length&&r.forEach((function(e){o.push(e.geometry.coordinates.join(",")),o.push(";")}));return o.push(i.geometry.coordinates.join(",")),encodeURIComponent(o.join(""))}(t),v=[];v.push("geometries=polyline"),h&&v.push("alternatives=true"),d&&v.push("annotations=congestion"),v.push("steps=true"),v.push("overview=full"),m&&v.push("language="+m),g&&v.push("exclude="+g),r&&v.push("access_token="+r),s.abort(),s.open("GET","".concat(i).concat(a,"/").concat(_,".json?").concat(v.join("&")),!0),s.onload=function(){if(!(s.status>=200&&s.status<400))return e(u([])),e(f(JSON.parse(s.responseText).message));var t=JSON.parse(s.responseText);return t.error?(e(u([])),e(f(t.error))):"No route found"===t.message?e(f("No route found")):(e(f(null)),t.routes[o]||e(y(0)),e(u(t.routes)),e(l(t.waypoints[0].location)),void e(c(t.waypoints[t.waypoints.length-1].location)))},s.onerror=function(){return e(u([])),s.responseText?e(f(JSON.parse(s.responseText).message)):e(f("Error"))},s.send()}}}function p(e){var t={id:"waypoint"};return Object.assign(e,{properties:e.properties?Object.assign(e.properties,t):t})}function f(e){return function(t){t({type:"ERROR",error:e}),e&&t(x("error",{error:e}))}}function m(e){return{type:r.ORIGIN_FROM_COORDINATES,coordinates:e}}function g(e){return{type:r.DESTINATION_FROM_COORDINATES,coordinates:e}}function y(e){return{type:r.ROUTE_INDEX,routeIndex:e}}function _(e){return function(t,n){var i=n().destination;t(l(e)),i.geometry&&t(d())}}function v(e){return function(t,n){var i=n().origin;t(c(e)),i.geometry&&t(d())}}function x(e,t){var n=this;return function(i,o){var a=o().events;if(!a[e])return{type:r.EVENTS,events:a};for(var s=a[e].slice(),l=0;l<s.length;l++)s[l].call(n,t)}}},{"../constants/action_types":26,"../utils":34}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WAYPOINTS=n.SET_OPTIONS=n.ROUTE_INDEX=n.ORIGIN_QUERY=n.ORIGIN_FROM_COORDINATES=n.ORIGIN_CLEAR=n.ORIGIN=n.HOVER_MARKER=n.EVENTS=n.ERROR=n.DIRECTIONS_PROFILE=n.DIRECTIONS=n.DESTINATION_QUERY=n.DESTINATION_FROM_COORDINATES=n.DESTINATION_CLEAR=n.DESTINATION=void 0;n.DESTINATION="DESTINATION";n.DESTINATION_CLEAR="DESTINATION_CLEAR";n.DESTINATION_QUERY="DESTINATION_QUERY";n.DESTINATION_FROM_COORDINATES="DESTINATION_FROM_COORDINATES";n.DIRECTIONS="DIRECTIONS";n.DIRECTIONS_PROFILE="DIRECTIONS_PROFILE";n.EVENTS="EVENTS";n.ERROR="ERROR";n.HOVER_MARKER="HOVER_MARKER";n.ORIGIN="ORIGIN";n.ORIGIN_CLEAR="ORIGIN_CLEAR";n.ORIGIN_QUERY="ORIGIN_QUERY";n.ORIGIN_FROM_COORDINATES="ORIGIN_FROM_COORDINATES";n.ROUTE_INDEX="ROUTE_INDEX";n.SET_OPTIONS="SET_OPTIONS";n.WAYPOINTS="WAYPOINTS"},{}],27:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("suggestions")),r=s(e("lodash.debounce")),o=e("events"),a=s(e("../utils"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,u(i.key),i)}}function u(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._ev=new o.EventEmitter,this.options=t,this.api=t&&t.api||"https://api.mapbox.com/geocoding/v5/mapbox.places/"}return function(e,t,n){t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"onAdd",value:function(e){this._map=e,this.request=new XMLHttpRequest;var t=document.createElement("div");t.className="mapboxgl-ctrl-geocoder";var n=document.createElement("span");n.className="geocoder-icon geocoder-icon-search";var o=this._inputEl=document.createElement("input");o.type="text",o.placeholder=this.options.placeholder,o.addEventListener("keydown",(0,r.default)(function(e){if(!e.target.value)return this._clearEl.classList.remove("active");e.metaKey||-1!==[9,27,37,39,13,38,40].indexOf(e.keyCode)||this._queryFromInput(e.target.value)}.bind(this)),200),o.addEventListener("change",function(t){t.target.value&&this._clearEl.classList.add("active");var n=this._typeahead.selected;if(n){if(this.options.flyTo)if(n.bbox&&n.context&&n.context.length<=3||n.bbox&&!n.context){var i=n.bbox;e.fitBounds([[i[0],i[1]],[i[2],i[3]]])}else e.flyTo({center:n.center,zoom:this.options.zoom});this._input=n,this.fire("result",{result:n})}}.bind(this));var a=document.createElement("div");a.classList.add("geocoder-pin-right");var s=this._clearEl=document.createElement("button");s.className="geocoder-icon geocoder-icon-close",s.addEventListener("click",this._clear.bind(this));var l=this._loadingEl=document.createElement("span");return l.className="geocoder-icon geocoder-icon-loading",a.appendChild(s),a.appendChild(l),t.appendChild(n),t.appendChild(o),t.appendChild(a),this.options.container&&(this.options.position=!1),this._typeahead=new i.default(o,[],{filter:!1}),this._typeahead.getItemValue=function(e){return e.place_name},t}},{key:"_geocode",value:function(e,t){this._loadingEl.classList.add("active"),this.fire("loading");var n=this.options,i=["placeholder","zoom","flyTo","accessToken","api"],r=Object.keys(this.options).filter((function(e){return-1===i.indexOf(e)})).map((function(e){return e+"="+n[e]})),o=this.options.accessToken?this.options.accessToken:mapboxgl.accessToken;r.push("access_token="+o),this.request.abort(),this.request.open("GET",this.api+encodeURIComponent(e.trim())+".json?"+r.join("&"),!0),this.request.onload=function(){if(this._loadingEl.classList.remove("active"),this.request.status>=200&&this.request.status<400){var e=JSON.parse(this.request.responseText);return e.features.length?this._clearEl.classList.add("active"):(this._clearEl.classList.remove("active"),this._typeahead.selected=null),this.fire("results",{results:e.features}),this._typeahead.update(e.features),t(e.features)}this.fire("error",{error:JSON.parse(this.request.responseText).message})}.bind(this),this.request.onerror=function(){this._loadingEl.classList.remove("active"),this.fire("error",{error:JSON.parse(this.request.responseText).message})}.bind(this),this.request.send()}},{key:"_queryFromInput",value:function(e){(e=e.trim())||this._clear(),e.length>2&&this._geocode(e,function(e){this._results=e}.bind(this))}},{key:"_change",value:function(){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this._inputEl.dispatchEvent(e)}},{key:"_query",value:function(e){e&&("object"===l(e)&&e.length&&(e=[a.default.wrap(e[0]),a.default.wrap(e[1])].join()),this._geocode(e,function(e){if(e.length){var t=e[0];this._results=e,this._typeahead.selected=t,this._inputEl.value=t.place_name,this._change()}}.bind(this)))}},{key:"_setInput",value:function(e){e&&("object"===l(e)&&e.length&&(e=[a.default.roundWithOriginalPrecision(a.default.wrap(e[0]),e[0]),a.default.roundWithOriginalPrecision(a.default.wrap(e[1]),e[1])].join()),this._inputEl.value=e,this._input=null,this._typeahead.selected=null,this._typeahead.clear(),this._change())}},{key:"_clear",value:function(){this._input=null,this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._change(),this._inputEl.focus(),this._clearEl.classList.remove("active"),this.fire("clear")}},{key:"getResult",value:function(){return this._input}},{key:"query",value:function(e){return this._query(e),this}},{key:"setInput",value:function(e){return this._setInput(e),this}},{key:"on",value:function(e,t){return this._ev.on(e,t),this._ev.on("error",(function(e){console.log(e)})),this}},{key:"fire",value:function(e,t){return this._ev.emit(e,t),this}},{key:"off",value:function(e,t){return this._ev.removeListener(e,t),this}}]),e}();n.default=h},{"../utils":34,events:7,"lodash.debounce":12,suggestions:19}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=s(e("./geocoder")),r=s(e("lodash.template")),o=s(e("lodash.isequal")),a=s(e("turf-extent"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,u(i.key),i)}}function u(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}var h=(0,r.default)("<div class='mapbox-directions-component mapbox-directions-inputs'>\n  <div class='mapbox-directions-component-keyline'>\n    <div class='mapbox-directions-origin'>\n      <label class='mapbox-form-label'>\n        <span class='directions-icon directions-icon-depart'></span>\n      </label>\n      <div id='mapbox-directions-origin-input'></div>\n    </div>\n\n    <button\n      class='directions-icon directions-icon-reverse directions-reverse js-reverse-inputs'\n      title='Reverse origin &amp; destination'>\n    </button>\n\n    <div class='mapbox-directions-destination'>\n      <label class='mapbox-form-label'>\n        <span class='directions-icon directions-icon-arrive'></span>\n      </label>\n      <div id='mapbox-directions-destination-input'></div>\n    </div>\n  </div>\n\n  <% if (controls.profileSwitcher) { %>\n  <div class='mapbox-directions-profile mapbox-directions-component-keyline mapbox-directions-clearfix'><input\n      id='mapbox-directions-profile-driving-traffic'\n      type='radio'\n      name='profile'\n      value='mapbox/driving-traffic'\n      <% if (profile === 'mapbox/driving-traffic') { %>checked<% } %>\n    />\n    <label for='mapbox-directions-profile-driving-traffic'>Traffic</label>\n    <input\n      id='mapbox-directions-profile-driving'\n      type='radio'\n      name='profile'\n      value='mapbox/driving'\n      <% if (profile === 'mapbox/driving') { %>checked<% } %>\n    />\n    <label for='mapbox-directions-profile-driving'>Driving</label>\n    <input\n      id='mapbox-directions-profile-walking'\n      type='radio'\n      name='profile'\n      value='mapbox/walking'\n      <% if (profile === 'mapbox/walking') { %>checked<% } %>\n    />\n    <label for='mapbox-directions-profile-walking'>Walking</label>\n    <input\n      id='mapbox-directions-profile-cycling'\n      type='radio'\n      name='profile'\n      value='mapbox/cycling'\n      <% if (profile === 'mapbox/cycling') { %>checked<% } %>\n    />\n    <label for='mapbox-directions-profile-cycling'>Cycling</label>\n  </div>\n  <% } %>\n</div>\n"),d=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=n.getState(),a=o.originQuery,s=o.destinationQuery,l=o.profile,c=o.controls;t.innerHTML=h({originQuery:a,destinationQuery:s,profile:l,controls:c}),this.container=t,this.actions=i,this.store=n,this._map=r,this.onAdd(),this.render()}return function(e,t,n){t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"animateToCoordinates",value:function(e,t){var n=this.store.getState(),i=n.origin,r=n.destination,s=n.routePadding;if(i.geometry&&r.geometry&&!(0,o.default)(i.geometry,r.geometry)){var l=(0,a.default)({type:"FeatureCollection",features:[i,r]});this._map.fitBounds([[l[0],l[1]],[l[2],l[3]]],{padding:s})}else this._map.flyTo({center:t})}},{key:"onAdd",value:function(){var e=this,t=this.actions,n=t.clearOrigin,r=t.clearDestination,o=t.createOrigin,a=t.createDestination,s=t.setProfile,l=t.reverse,c=this.store.getState(),u=c.geocoder,h=c.accessToken,d=c.flyTo,p=c.placeholderOrigin,f=c.placeholderDestination,m=c.zoom;this.originInput=new i.default(Object.assign({},{accessToken:h},u,{flyTo:d,placeholder:p,zoom:m}));var g=this.originInput.onAdd(this._map);this.container.querySelector("#mapbox-directions-origin-input").appendChild(g),this.destinationInput=new i.default(Object.assign({},{accessToken:h},u,{flyTo:d,placeholder:f,zoom:m}));var y=this.destinationInput.onAdd(this._map);this.container.querySelector("#mapbox-directions-destination-input").appendChild(y),this.originInput.on("result",(function(t){var n=t.result.center;o(n),e.animateToCoordinates("origin",n)})),this.originInput.on("clear",n),this.destinationInput.on("result",(function(t){var n=t.result.center;a(n),e.animateToCoordinates("destination",n)})),this.destinationInput.on("clear",r);var _=this.container.querySelectorAll('input[type="radio"]');Array.prototype.forEach.call(_,(function(e){e.addEventListener("change",(function(){s(e.value)}))})),this.container.querySelector(".js-reverse-inputs").addEventListener("click",(function(){var t=e.store.getState(),n=t.origin,i=t.destination;n&&e.actions.queryDestination(n.geometry.coordinates),i&&e.actions.queryOrigin(i.geometry.coordinates),l()}))}},{key:"render",value:function(){var e=this;this.store.subscribe((function(){var t=e.store.getState(),n=t.originQuery,i=t.destinationQuery,r=t.originQueryCoordinates,o=t.destinationQueryCoordinates;n&&(e.originInput.query(n),e.actions.queryOrigin(null)),i&&(e.destinationInput.query(i),e.actions.queryDestination(null)),r&&(e.originInput.setInput(r),e.animateToCoordinates("origin",r),e.actions.queryOriginCoordinates(null)),o&&(e.destinationInput.setInput(o),e.animateToCoordinates("destination",o),e.actions.queryDestinationCoordinates(null))}))}}]),e}();n.default=d},{"./geocoder":27,"lodash.isequal":13,"lodash.template":14,"turf-extent":22}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("../utils")),r=a(e("lodash.template")),o=a(e("lodash.isequal"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function c(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}var u=(0,r.default)("<div class='directions-control directions-control-directions'>\n  <div class='mapbox-directions-component mapbox-directions-route-summary<% if (routes > 1) { %> mapbox-directions-multiple<% } %>'>\n    <% if (routes > 1) { %>\n    <div class='mapbox-directions-routes mapbox-directions-clearfix'>\n      <% for (var i = 0; i < routes; i++) { %>\n        <input type='radio' name='routes' id='<%= i %>' <% if (i === routeIndex) { %>checked<% } %>>\n        <label for='<%= i %>' class='mapbox-directions-route'><%= i + 1 %></label>\n      <% } %>\n    </div>\n    <% } %>\n    <h1><%- duration %></h1>\n    <span><%- distance %></span>\n  </div>\n\n  <div class='mapbox-directions-instructions'>\n    <div class='mapbox-directions-instructions-wrapper'>\n      <ol class='mapbox-directions-steps'>\n        <% steps.forEach(function(step) { %>\n          <%\n            var distance = step.distance ? format(step.distance) : false;\n            var icon = step.maneuver.modifier ? step.maneuver.modifier.replace(/\\s+/g, '-').toLowerCase() : step.maneuver.type.replace(/\\s+/g, '-').toLowerCase();\n\n            if (step.maneuver.type === 'arrive' || step.maneuver.type === 'depart') {\n              icon = step.maneuver.type;\n            }\n\n            if (step.maneuver.type === 'roundabout' || step.maneuver.type === 'rotary') {\n              icon= 'roundabout';\n            }\n\n            var lng = step.maneuver.location[0];\n            var lat = step.maneuver.location[1];\n          %>\n          <li\n            data-lat='<%= lat %>'\n            data-lng='<%= lng %>'\n            class='mapbox-directions-step'>\n            <span class='directions-icon directions-icon-<%= icon %>'></span>\n            <div class='mapbox-directions-step-maneuver'>\n              <%= step.maneuver.instruction %>\n            </div>\n            <% if (distance) { %>\n              <div class='mapbox-directions-step-distance'>\n                <%= distance %>\n              </div>\n            <% } %>\n          </li>\n        <% }); %>\n      </ol>\n    </div>\n  </div>\n</div>\n"),h=(0,r.default)("<div class='directions-control directions-control-directions'>\n  <div class='mapbox-directions-error'>\n    <%= error %>\n  </div>\n</div>\n"),d=function(){function e(t,n,i,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.actions=i,this.store=n,this._map=r,this.directions={},this.render()}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"render",value:function(){var e=this;this.store.subscribe((function(){var t=e.actions,n=t.hoverMarker,r=t.setRouteIndex,a=e.store.getState(),s=a.routeIndex,l=a.unit,c=a.directions,d=a.error,p=a.compile,f=!(0,o.default)(c[s],e.directions);if(d)e.container.innerHTML=h({error:d});else if(c.length&&f){var m=e.directions=c[s];p&&m.legs.forEach((function(e){e.steps.forEach((function(e){e.maneuver.instruction=p("en",e)}))})),e.container.innerHTML=u({routeIndex:s,routes:c.length,steps:m.legs[0].steps,format:i.default.format[l],duration:i.default.format.duration(m.duration),distance:i.default.format[l](m.distance)});var g=e.container.querySelectorAll(".mapbox-directions-step");Array.prototype.forEach.call(g,(function(t){var i=t.getAttribute("data-lng"),r=t.getAttribute("data-lat");t.addEventListener("mouseover",(function(){n([i,r])})),t.addEventListener("mouseout",(function(){n(null)})),t.addEventListener("click",(function(){e._map.flyTo({center:[i,r],zoom:16})}))}));var y=e.container.querySelectorAll('input[type="radio"]');Array.prototype.forEach.call(y,(function(e){e.addEventListener("change",(function(e){r(parseInt(e.target.id,10))}))}))}else e.container.innerHTML&&f&&(e.container.innerHTML="")}))}}]),e}();n.default=d},{"../utils":34,"lodash.isequal":13,"lodash.template":14}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("redux"),r=p(e("redux-thunk")),o=e("@mapbox/polyline"),a=p(e("./utils")),s=p(e("./reducers")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(e("./actions")),c=p(e("./directions_style")),u=p(e("./controls/inputs")),h=p(e("./controls/instructions"));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,g(i.key),i)}}function g(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==f(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var y=(0,i.applyMiddleware)(r.default)(i.createStore)(s.default),_=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=(0,i.bindActionCreators)(l,y.dispatch),this.actions.setOptions(t||{}),this.options=t||{},this.onDragDown=this._onDragDown.bind(this),this.onDragMove=this._onDragMove.bind(this),this.onDragUp=this._onDragUp.bind(this),this.move=this._move.bind(this),this.onClick=this._clickHandler().bind(this)}return function(e,t,n){t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"onAdd",value:function(e){var t=this;this._map=e;var n=y.getState().controls,i=this.container=document.createElement("div");i.className="mapboxgl-ctrl-directions mapboxgl-ctrl";var r=document.createElement("div");r.className="directions-control directions-control-inputs",new u.default(r,y,this.actions,this._map);var o=document.createElement("div");return o.className="directions-control directions-control-instructions",new h.default(o,y,{hoverMarker:this.actions.hoverMarker,setRouteIndex:this.actions.setRouteIndex},this._map),n.inputs&&i.appendChild(r),n.instructions&&i.appendChild(o),this.subscribedActions(),this._map.loaded()?this.mapState():this._map.on("load",(function(){return t.mapState()})),i}},{key:"onRemove",value:function(e){return this.container.parentNode.removeChild(this.container),this.removeRoutes(),e.off("mousedown",this.onDragDown),e.off("mousemove",this.move),e.off("touchstart",this.onDragDown),e.off("touchstart",this.move),e.off("click",this.onClick),this.storeUnsubscribe&&(this.storeUnsubscribe(),delete this.storeUnsubscribe),c.default.forEach((function(t){e.getLayer(t.id)&&e.removeLayer(t.id)})),e.getSource("directions")&&e.removeSource("directions"),this._map=null,this}},{key:"mapState",value:function(){var e=this,t=y.getState(),n=t.profile,i=(t.alternatives,t.congestion,t.styles),r=t.interactive;t.compile;this.actions.eventEmit("profile",{profile:n});this._map.addSource("directions",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),i&&i.length&&i.forEach((function(t){return e._map.addLayer(t)})),c.default.forEach((function(t){e._map.getLayer(t.id)||e._map.addLayer(t)})),r&&(this._map.on("mousedown",this.onDragDown),this._map.on("mousemove",this.move),this._map.on("click",this.onClick),this._map.on("touchstart",this.move),this._map.on("touchstart",this.onDragDown))}},{key:"subscribedActions",value:function(){var e=this;this.storeUnsubscribe=y.subscribe((function(){var t=y.getState(),n=t.origin,i=t.destination,r=t.hoverMarker,a=t.directions,s=t.routeIndex,l={type:"FeatureCollection",features:[n,i,r].filter((function(e){return e.geometry}))};a.length&&a.forEach((function(e,t){var n=[];(0,o.decode)(e.geometry,5).map((function(e){return e.reverse()})).forEach((function(i,r){var o=n[n.length-1],a=e.legs[0].annotation&&e.legs[0].annotation.congestion&&e.legs[0].annotation.congestion[r-1];if(!o||a&&o.properties.congestion!==a){var l={geometry:{type:"LineString",coordinates:[]},properties:{"route-index":t,route:t===s?"selected":"alternate"}};o&&l.geometry.coordinates.push(o.geometry.coordinates[o.geometry.coordinates.length-1]),l.geometry.coordinates.push(i),a&&(l.properties.congestion=e.legs[0].annotation.congestion[r-1]),n.push(l)}else o.geometry.coordinates.push(i)})),l.features=l.features.concat(n),t===s&&e.legs[0].steps.forEach((function(e){"waypoint"===e.maneuver.type&&l.features.push({type:"Feature",geometry:e.maneuver.location,properties:{id:"waypoint"}})}))})),e._map.style&&e._map.getSource("directions")&&e._map.getSource("directions").setData(l)}))}},{key:"_clickHandler",value:function(){var e=null;return function(t){if(e)clearTimeout(e),e=null,this._map.zoomIn();else{var n=this._onSingleClick.bind(this);e=setTimeout((function(){n(t),e=null}),250)}}}},{key:"_onSingleClick",value:function(e){var t=this,n=y.getState().origin,i=[e.lngLat.lng,e.lngLat.lat];if(n.geometry){var r=this._map.queryRenderedFeatures(e.point,{layers:["directions-origin-point","directions-destination-point","directions-waypoint-point","directions-route-line-alt"]});if(r.length){if(r.forEach((function(e){"directions-waypoint-point"===e.layer.id&&t.actions.removeWaypoint(e)})),"alternate"===r[0].properties.route){var o=r[0].properties["route-index"];this.actions.setRouteIndex(o)}}else this.actions.setDestinationFromCoordinates(i),this._map.flyTo({center:i})}else this.actions.setOriginFromCoordinates(i)}},{key:"_move",value:function(e){var t=this,n=y.getState().hoverMarker,i=this._map.queryRenderedFeatures(e.point,{layers:["directions-route-line-alt","directions-route-line","directions-origin-point","directions-destination-point","directions-hover-point"]});this._map.getCanvas().style.cursor=i.length?"pointer":"",i.length?(this.isCursorOverPoint=i[0],this._map.dragPan.disable(),i.forEach((function(i){"directions-route-line"===i.layer.id?t.actions.hoverMarker([e.lngLat.lng,e.lngLat.lat]):n.geometry&&t.actions.hoverMarker(null)}))):this.isCursorOverPoint&&(this.isCursorOverPoint=!1,this._map.dragPan.enable())}},{key:"_onDragDown",value:function(){this.isCursorOverPoint&&(this.isDragging=this.isCursorOverPoint,this._map.getCanvas().style.cursor="grab",this._map.on("mousemove",this.onDragMove),this._map.on("mouseup",this.onDragUp),this._map.on("touchmove",this.onDragMove),this._map.on("touchend",this.onDragUp))}},{key:"_onDragMove",value:function(e){if(this.isDragging){var t=[e.lngLat.lng,e.lngLat.lat];switch(this.isDragging.layer.id){case"directions-origin-point":this.actions.createOrigin(t);break;case"directions-destination-point":this.actions.createDestination(t);break;case"directions-hover-point":this.actions.hoverMarker(t)}}}},{key:"_onDragUp",value:function(){if(this.isDragging){var e=y.getState(),t=e.hoverMarker,n=e.origin,i=e.destination;switch(this.isDragging.layer.id){case"directions-origin-point":this.actions.setOriginFromCoordinates(n.geometry.coordinates);break;case"directions-destination-point":this.actions.setDestinationFromCoordinates(i.geometry.coordinates);break;case"directions-hover-point":t.geometry&&!a.default.coordinateMatch(this.isDragging,t)&&this.actions.addWaypoint(0,t)}this.isDragging=!1,this._map.getCanvas().style.cursor="",this._map.off("touchmove",this.onDragMove),this._map.off("touchend",this.onDragUp),this._map.off("mousemove",this.onDragMove),this._map.off("mouseup",this.onDragUp)}}},{key:"interactive",value:function(e){return e?(this._map.on("touchstart",this.move),this._map.on("touchstart",this.onDragDown),this._map.on("mousedown",this.onDragDown),this._map.on("mousemove",this.move),this._map.on("click",this.onClick)):(this._map.off("touchstart",this.move),this._map.off("touchstart",this.onDragDown),this._map.off("mousedown",this.onDragDown),this._map.off("mousemove",this.move),this._map.off("click",this.onClick)),this}},{key:"getOrigin",value:function(){return y.getState().origin}},{key:"setOrigin",value:function(e){return"string"==typeof e?this.actions.queryOrigin(e):this.actions.setOriginFromCoordinates(e),this}},{key:"getDestination",value:function(){return y.getState().destination}},{key:"setDestination",value:function(e){return"string"==typeof e?this.actions.queryDestination(e):this.actions.setDestinationFromCoordinates(e),this}},{key:"reverse",value:function(){return this.actions.reverse(),this}},{key:"addWaypoint",value:function(e,t){return t.type||(t=a.default.createPoint(t,{id:"waypoint"})),this.actions.addWaypoint(e,t),this}},{key:"setWaypoint",value:function(e,t){return t.type||(t=a.default.createPoint(t,{id:"waypoint"})),this.actions.setWaypoint(e,t),this}},{key:"removeWaypoint",value:function(e){var t=y.getState().waypoints;return this.actions.removeWaypoint(t[e]),this}},{key:"getWaypoints",value:function(){return y.getState().waypoints}},{key:"removeRoutes",value:function(){return this.actions.clearOrigin(),this.actions.clearDestination(),this}},{key:"on",value:function(e,t){return this.actions.eventSubscribe(e,t),this}}]),e}();n.default=_},{"./actions":25,"./controls/inputs":28,"./controls/instructions":29,"./directions_style":31,"./reducers":33,"./utils":34,"@mapbox/polyline":6,redux:18,"redux-thunk":17}],31:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=[{id:"directions-route-line-alt",type:"line",source:"directions",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#bbb","line-width":4},filter:["all",["in","$type","LineString"],["in","route","alternate"]]},{id:"directions-route-line-casing",type:"line",source:"directions",layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#2d5f99","line-width":12},filter:["all",["in","$type","LineString"],["in","route","selected"]]},{id:"directions-route-line",type:"line",source:"directions",layout:{"line-cap":"butt","line-join":"round"},paint:{"line-color":{property:"congestion",type:"categorical",default:"#4882c5",stops:[["unknown","#4882c5"],["low","#4882c5"],["moderate","#f09a46"],["heavy","#e34341"],["severe","#8b2342"]]},"line-width":7},filter:["all",["in","$type","LineString"],["in","route","selected"]]},{id:"directions-hover-point-casing",type:"circle",source:"directions",paint:{"circle-radius":8,"circle-color":"#fff"},filter:["all",["in","$type","Point"],["in","id","hover"]]},{id:"directions-hover-point",type:"circle",source:"directions",paint:{"circle-radius":6,"circle-color":"#3bb2d0"},filter:["all",["in","$type","Point"],["in","id","hover"]]},{id:"directions-waypoint-point-casing",type:"circle",source:"directions",paint:{"circle-radius":8,"circle-color":"#fff"},filter:["all",["in","$type","Point"],["in","id","waypoint"]]},{id:"directions-waypoint-point",type:"circle",source:"directions",paint:{"circle-radius":6,"circle-color":"#8a8bc9"},filter:["all",["in","$type","Point"],["in","id","waypoint"]]},{id:"directions-origin-point",type:"circle",source:"directions",paint:{"circle-radius":18,"circle-color":"#3bb2d0"},filter:["all",["in","$type","Point"],["in","marker-symbol","A"]]},{id:"directions-origin-label",type:"symbol",source:"directions",layout:{"text-field":"A","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#fff"},filter:["all",["in","$type","Point"],["in","marker-symbol","A"]]},{id:"directions-destination-point",type:"circle",source:"directions",paint:{"circle-radius":18,"circle-color":"#8a8bc9"},filter:["all",["in","$type","Point"],["in","marker-symbol","B"]]},{id:"directions-destination-label",type:"symbol",source:"directions",layout:{"text-field":"B","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#fff"},filter:["all",["in","$type","Point"],["in","marker-symbol","B"]]}];n.default=i},{}],32:[function(e,t,n){"use strict";var i=function(e){return e&&e.__esModule?e:{default:e}}(e("./directions"));t.exports=i.default},{"./directions":30}],33:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=o?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(e("../constants/action_types.js")),o=function(e){return e&&e.__esModule?e:{default:e}}(e("deep-assign"));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}var s={api:"https://api.mapbox.com/directions/v5/",profile:"mapbox/driving-traffic",alternatives:!1,congestion:!1,unit:"imperial",flyTo:!0,placeholderOrigin:"Choose a starting place",placeholderDestination:"Choose destination",zoom:16,language:"en",compile:null,proximity:!1,styles:[],controls:{profileSwitcher:!0,inputs:!0,instructions:!0},geocoder:{},interactive:!0,events:{},origin:{},destination:{},hoverMarker:{},waypoints:[],originQuery:null,destinationQuery:null,originQueryCoordinates:null,destinationQueryCoordinates:null,directions:[],routeIndex:0,routePadding:80};var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_OPTIONS:return(0,o.default)({},e,t.options);case r.DIRECTIONS_PROFILE:return Object.assign({},e,{profile:t.profile});case r.ORIGIN:return Object.assign({},e,{origin:t.origin,hoverMarker:{}});case r.DESTINATION:return Object.assign({},e,{destination:t.destination,hoverMarker:{}});case r.HOVER_MARKER:return Object.assign({},e,{hoverMarker:t.hoverMarker});case r.WAYPOINTS:return Object.assign({},e,{waypoints:t.waypoints});case r.ORIGIN_QUERY:return Object.assign({},e,{originQuery:t.query});case r.DESTINATION_QUERY:return Object.assign({},e,{destinationQuery:t.query});case r.ORIGIN_FROM_COORDINATES:return Object.assign({},e,{originQueryCoordinates:t.coordinates});case r.DESTINATION_FROM_COORDINATES:return Object.assign({},e,{destinationQueryCoordinates:t.coordinates});case r.ORIGIN_CLEAR:return Object.assign({},e,{origin:{},originQuery:"",waypoints:[],directions:[]});case r.DESTINATION_CLEAR:return Object.assign({},e,{destination:{},destinationQuery:"",waypoints:[],directions:[]});case r.DIRECTIONS:return Object.assign({},e,{directions:t.directions});case r.ROUTE_INDEX:return Object.assign({},e,{routeIndex:t.routeIndex});case r.ERROR:return Object.assign({},e,{error:t.error});default:return e}};n.default=l},{"../constants/action_types.js":26,"deep-assign":8}],34:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={format:{duration:function(e){var t=Math.floor(e/60),n=Math.floor(t/60);return e%=60,t%=60,0===n&&0===t?e+"s":0===n?t+"min":n+"h "+t+"min"},imperial:function(e){var t=e/1609.344;return t>=100?t.toFixed(0)+"mi":t>=10?t.toFixed(1)+"mi":t>=.1?t.toFixed(2)+"mi":(5280*t).toFixed(0)+"ft"},metric:function(e){return e>=1e5?(e/1e3).toFixed(0)+"km":e>=1e4?(e/1e3).toFixed(1)+"km":e>=100?(e/1e3).toFixed(2)+"km":e.toFixed(0)+"m"}},coordinateMatch:function(e,t){return e=e.geometry.coordinates,t=t.geometry.coordinates,e.join()===t.join()||e[0].toFixed(3)===t[0].toFixed(3)&&e[1].toFixed(3)===t[1].toFixed(3)},createPoint:function(e,t){return{type:"Feature",geometry:{type:"Point",coordinates:e},properties:t||{}}},validCoords:function(e){return e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90},wrap:function(e){var t=((e- -180)%360+360)%360-180;return-180===t?180:t},roundWithOriginalPrecision:function(e,t){var n=0;return Math.floor(t)!==t&&(n=t.toString().split(".")[1].length),e.toFixed(Math.min(n,5))}};n.default=i},{}]},{},[32])(32)}()}()}).call(this,n(25))},function(e,t,n){var i=n(148);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(38)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(37)(!1)).push([e.i,"/* Mapboxgl Geocoder */\n/* Basics */\n.mapboxgl-ctrl-geocoder,\n.mapboxgl-ctrl-geocoder *,\n.mapboxgl-ctrl-geocoder *:after,\n.mapboxgl-ctrl-geocoder *:before {\n  -webkit-box-sizing:border-box;\n     -moz-box-sizing:border-box;\n          box-sizing:border-box;\n  }\n.mapboxgl-ctrl-geocoder {\n  font:15px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  position:relative;\n  background-color:white;\n  width:calc(100% - 360px);;\n  min-width:calc(100% - 40px);;\n  max-width:calc(100% - 40px);;\n  margin-left:40px;\n  border-radius:0 0 3px 0;\n  }\n  .mapbox-directions-origin .mapboxgl-ctrl-geocoder {\n    border-radius:0 3px 0 0;\n    }\n\n.mapboxgl-ctrl-geocoder input[type='text'] {\n  font-size:12px;\n  width:100%;\n  border:0;\n  background-color:transparent;\n  height:40px;\n  margin:0;\n  color:rgba(0,0,0,.5);\n  padding:10px 40px 10px 10px;\n  text-overflow:ellipsis;\n  white-space:nowrap;\n  overflow:hidden;\n  }\n  .mapbox-directions-origin input[type='text'] {\n    box-shadow:0 1px 0 0 #ddd;\n    position:relative;\n    z-index:1;\n    }\n  .mapboxgl-ctrl-geocoder input:focus {\n    color:rgba(0,0,0,.75);\n    outline:0;\n    outline:thin dotted\\8;\n    }\n\n.mapboxgl-ctrl-geocoder .geocoder-icon-search {\n  position:absolute;\n  top:10px;\n  left:10px;\n  }\n.mapboxgl-ctrl-geocoder button {\n  padding:0;\n  margin:0;\n  background-color:#fff;\n  border:none;\n  cursor:pointer;\n  }\n.mapboxgl-ctrl-geocoder .geocoder-pin-right * {\n  background-color:#fff;\n  z-index:2;\n  position:absolute;\n  right:10px;\n  top:10px;\n  display:none;\n  }\n  .mapboxgl-ctrl-geocoder .geocoder-pin-right *.active { display:block; }\n\n.mapboxgl-ctrl-geocoder,\n.mapboxgl-ctrl-geocoder ul {\n  box-shadow:none;\n  }\n\n/* Suggestions */\n.mapboxgl-ctrl-geocoder ul {\n  background-color:#fff;\n  border-radius: 0 0 3px 3px;\n  left:0;\n  list-style:none;\n  margin:0;\n  padding:0;\n  position:absolute;\n  width:100%;\n  top:100%;\n  z-index:1000;\n  overflow:hidden;\n  font-size:12px;\n  }\n  .mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-geocoder ul,\n  .mapboxgl-ctrl-bottom-right .mapboxgl-ctrl-geocoder ul {\n    top:auto;\n    bottom:100%;\n    }\n  .mapboxgl-ctrl-geocoder ul > li > a {\n    clear:both;\n    cursor:default;\n    display:block;\n    padding:5px 10px;\n    white-space:nowrap;\n    overflow:hidden;\n    text-overflow:ellipsis;\n    white-space:nowrap;\n    border-bottom:1px solid rgba(0,0,0,0.1);\n    }\n    .mapboxgl-ctrl-geocoder ul > li:last-child > a { border-bottom:none; }\n    .mapboxgl-ctrl-geocoder ul > li.active > a,\n    .mapboxgl-ctrl-geocoder ul > li > a:hover {\n      background-color:#eee;\n      text-decoration:none;\n      cursor:pointer;\n      }\n\n@-webkit-keyframes rotate { from { -webkit-transform: rotate(0deg); } to { -webkit-transform: rotate(360deg); } }\n   @-moz-keyframes rotate { from { -moz-transform: rotate(0deg); } to { -moz-transform: rotate(360deg); } }\n    @-ms-keyframes rotate { from { -ms-transform: rotate(0deg); } to { -ms-transform: rotate(360deg); } }\n        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\n\n/* icons */\n.geocoder-icon {\n  display:inline-block;\n  width:20px;\n  height:20px;\n  vertical-align:middle;\n  speak:none;\n  background-repeat:no-repeat;\n  }\n  .geocoder-icon-search {\n    display:none;\n    }\n  .geocoder-icon-close {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCIgdmVyc2lvbj0iMS4xIiBoZWlnaHQ9IjIwIiB3aWR0aD0iMjAiPg0KICA8cGF0aCBkPSJtNSA1IDAgMS41IDMuNSAzLjUtMy41IDMuNSAwIDEuNSAxLjUgMCAzLjUtMy41IDMuNSAzLjUgMS41IDAgMC0xLjUtMy41LTMuNSAzLjUtMy41IDAtMS41LTEuNSAwLTMuNSAzLjUtMy41LTMuNS0xLjUgMHoiIGZpbGw9IiMwMDAiLz4NCjwvc3ZnPg==);\n    }\n  .geocoder-icon-loading {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxwYXRoIGQ9Im0xMCAyIDAgMy4zYzIuNiAwIDQuNyAyLjEgNC43IDQuN2wzLjMgMGMwLTQuNC0zLjYtOC04LTh6IiBmaWxsPSIjMDAwIi8+PHBhdGggZD0iTTEwIDJDNi44IDIgMy43IDQuMSAyLjYgNy4xIDEuNCAxMCAyLjEgMTMuNiA0LjUgMTUuOGMyLjQgMi40IDYuNCAyLjkgOS40IDEuMiAyLjUtMS40IDQuMi00LjIgNC4yLTctMS4xIDAtMi4yIDAtMy4zIDAgMC4xIDIuMi0xLjcgNC4zLTMuOCA0LjZDOC43IDE1IDYuNCAxMy44IDUuNyAxMS43IDQuOCA5LjcgNS42IDcuMSA3LjYgNiA4LjMgNS42IDkuMSA1LjMgMTAgNS4zYzAtMS4xIDAtMi4yIDAtMy4zeiIgc3R5bGU9ImZpbGw6IzAwMDtvcGFjaXR5OjAuMiIvPjwvc3ZnPg==);\n    -webkit-animation: rotate 400ms linear infinite;\n       -moz-animation: rotate 400ms linear infinite;\n        -ms-animation: rotate 400ms linear infinite;\n            animation: rotate 400ms linear infinite;\n    }\n\n/* Basics */\n.mapboxgl-ctrl-directions {\n  width: 33.33333%;\n  min-width: 300px;\n  max-width: 300px;\n}\n.mapbox-directions-component {\n  position: relative;\n}\n.mapbox-directions-component,\n.mapbox-directions-component *,\n.mapbox-directions-component *:after,\n.mapbox-directions-component *:before {\n  -webkit-box-sizing:border-box;\n     -moz-box-sizing:border-box;\n          box-sizing:border-box;\n  }\n.mapbox-directions-component-keyline {\n  box-shadow:0 0 0 2px rgba(0,0,0,0.1);\n  border-radius:3px;\n  }\n\n.directions-control {\n  font:15px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;\n  }\n\n/* Layout containers */\n.directions-control {\n  width:100%;\n  z-index:1;\n  }\n  .directions-control.directions-control-directions {\n    background:rgba(0,0,0,0.75);\n    margin: 7px 0 0;\n    color:#fff;\n    top:0;\n    right:0;\n    bottom:0;\n    overflow:auto;\n    overflow-x:hidden;\n    }\n  .directions-control.directions-control-inputs {\n    top:10px;\n    left:10px;\n    }\n\n/* Inputs */\n.mapbox-directions-origin,\n.mapbox-directions-destination {\n  position:relative;\n  }\n\n.mapbox-form-label {\n  position:absolute;\n  top:0;left:0;\n  background:#8a8acb;\n  color:#fff;\n  padding:0;\n  width:40px;\n  height:40px;\n  text-align:center;\n  line-height:38px;\n  border-radius:0 0 0 3px;\n  }\n  .mapbox-form-label .directions-icon {\n    background-position: center;\n    width: 40px;\n    height: 40px;\n    }\n  .mapbox-directions-origin .mapbox-form-label {\n    background-color:#3bb2d0;\n    border-radius:3px 0 0 0;\n    box-shadow:0 1px 0 0 rgba(0,0,0,0.1);\n    z-index:1;\n    }\n\n.directions-reverse {\n  position:absolute;\n  z-index:10;\n  background:white;\n  left:40px;\n  top:30px;\n  cursor:pointer;\n  }\n\n.mapbox-directions-inputs button {\n  padding:0;\n  margin:0;\n  background-color:#fff;\n  border:none;\n  cursor:pointer;\n  }\n.mapbox-directions-inputs .directions-pin-right * {\n  background-color:#fff;\n  z-index:2;\n  position:absolute;\n  right:10px;\n  top:10px;\n  display:none;\n  }\n  .mapbox-directions-inputs .directions-pin-right *.active { display:block; }\n\n.mapbox-directions-profile {\n  background:#fff;\n  margin:7px 0 0;\n  padding:2px;\n  border-radius:15px;\n  vertical-align:middle;\n  }\n  .mapbox-directions-profile label {\n    cursor:pointer;\n    vertical-align:top;\n    display:block;\n    border-radius:16px;\n    padding:3px 5px;\n    font-size:12px;\n    color:rgba(0,0,0,.5);\n    line-height:20px;\n    text-align:center;\n    width: 25%;\n    float:left;\n    }\n    .mapbox-directions-profile label:hover {\n      color:rgba(0,0,0,.75);\n      }\n  .mapbox-directions-profile input[type=radio] {\n    display:none;\n    }\n  .mapbox-directions-profile input[type=radio]:checked + label:hover,\n  .mapbox-directions-profile input[type=radio]:checked + label {\n    background:#eee;\n    color:rgba(0,0,0,.75);\n    }\n\n/* Routes */\n.mapbox-directions-routes ul {\n  list-style:none;\n  margin:0;\n  padding:10px 10px 0 10px;\n  border-bottom:1px solid rgba(255,255,255,.25);\n  }\n\n.mapbox-directions-routes li {\n  font-size:12px;\n  padding:10px 10px 10px 80px;\n  display:block;\n  position:relative;\n  cursor:pointer;\n  color:rgba(255,255,255,.5);\n  min-height:60px;\n  }\n\n.mapbox-directions-routes li:hover,\n.mapbox-directions-routes .mapbox-directions-route-active {\n  color:white;\n  }\n\n.mapbox-directions-route-heading {\n  position:absolute;\n  left:10px;\n  top:10px;\n  }\n\n/* Route Summary */\n.mapbox-directions-route-summary {\n  position: relative;\n  z-index:1;\n  width:100%;\n  background-color:rgba(0,0,0,0.75);\n  color:#fff;\n  padding:5px 10px;\n  font-size:15px;\n  line-height:28px;\n  }\n  .mapbox-directions-route-summary + .mapbox-directions-instructions {\n    }\n  .mapbox-directions-route-summary h1 {\n    font-weight:500;\n    margin:0;\n    display:inline;\n    font-size:inherit;\n    line-height:inherit;\n    }\n  .mapbox-directions-route-summary span {\n    color:rgba(255,255,255,0.5);\n    margin:0 5px;\n    }\n\n  /* Alt route selection */\n  .mapbox-directions-instructions {\n      overflow: scroll;\n    }\n    .mapbox-directions-instructions-wrapper {\n      max-height: 50vh;\n      }\n  .mapbox-directions-routes {\n    margin-left: 5px;\n    font-size:12px;\n    float: right;\n    }\n  .mapbox-directions-routes input[type=radio] { display: none;}\n  .mapbox-directions-routes input[type=radio]:not(:checked) + .button:before { width: 0;}\n  .mapbox-directions-routes input[type=radio] + label {\n    background-color:rgba(255,255,255,0.10);\n    float:left;\n    padding:0 10px;\n    cursor:pointer;\n    }\n    .mapbox-directions-routes input[type=radio] + label:hover,\n    .mapbox-directions-routes input[type=radio]:checked + label {\n      background-color:rgba(255,255,255,0.25);\n      }\n\n/* Instructions */\n.mapbox-directions-instructions .directions-icon {\n  position:absolute;\n  left:12px;\n  top:20px;\n  margin:auto;\n  }\n  .mapbox-directions-instructions .directions-icon:before {\n    vertical-align:top;\n    }\n\n.mapbox-directions-error {\n  padding:20px;\n  font-size:20px;\n  line-height:25px;\n  }\n.mapbox-directions-step-distance {\n  color:rgba(255,255,255,.5);\n  position:absolute;\n  padding:5px 10px;\n  font-size:12px;\n  left:30px;\n  bottom:-10px;\n  }\n.mapbox-directions-steps {\n  position:relative;\n  list-style:none;\n  margin:0;\n  padding:0;\n  }\n  .mapbox-directions-step {\n    position:relative;\n    color:rgba(255,255,255,.75);\n    cursor:pointer;\n    padding:20px 20px 20px 40px;\n    font-size:14px;\n    line-height:18px;\n    font-weight: 300;\n    letter-spacing:0.1em;\n    }\n    .mapbox-directions-step * { pointer-events:none; }\n    .mapbox-directions-step:hover {\n      color:white;\n      }\n    .mapbox-directions-step:after {\n      content:'';\n      position:absolute;\n      top:45px;\n      bottom:-10px;\n      border-left:2px dotted rgba(255,255,255,.2);\n      left:20px;\n      }\n    .mapbox-directions-step:last-child:after,\n    .mapbox-directions-step:last-child .mapbox-directions-step-distance {\n      display:none;\n      }\n\n.mapbox-marker-drag-icon {\n  display:block;\n  background-color:#444;\n  border-radius:50%;\n  box-shadow:0 0 5px 0 rgba(0,0,0,0.5);\n  }\n  .mapbox-marker-drag-icon-step {\n    background-color:#3BB2D0;\n    }\n\n.mapbox-directions-clearfix:after {\n  content:'';\n  display:block;\n  height:0;\n  clear:both;\n  visibility:hidden;\n  }\n\n/* Mobile */\n@media only screen and (max-width:640px) {\n\n/* Containers */\n.directions-control.directions-control { width:100%; max-width:100%; }\n\n/* Input container */\n.directions-control.directions-control-inputs { top:0;left:0; }\n.mapbox-directions-profile { margin:10px; }\n\n/* Instructions container */\n.mapbox-directions-routes { float:right; margin-right:10px; }\n.directions-control.directions-control-directions { top:auto; max-height:40%; }\n.mapbox-directions-multiple { min-height:50px; }\n\n}\n\n@-webkit-keyframes rotate { from { -webkit-transform: rotate(0deg); } to { -webkit-transform: rotate(360deg); } }\n   @-moz-keyframes rotate { from { -moz-transform: rotate(0deg); } to { -moz-transform: rotate(360deg); } }\n    @-ms-keyframes rotate { from { -ms-transform: rotate(0deg); } to { -ms-transform: rotate(360deg); } }\n        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }\n\n/* icons */\n.directions-icon {\n  display:inline-block;\n  width:20px;\n  height:20px;\n  vertical-align:middle;\n  speak:none;\n  background-repeat:no-repeat;\n  }\n  .directions-icon-arrive {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgaWQ9InN2ZzUzMjciIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDIwIDIwIj48ZGVmcyBpZD0iZGVmczUzMjkiLz48bWV0YWRhdGEgaWQ9Im1ldGFkYXRhNTMzMiIvPjxnIGlkPSJsYXllcjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48ZyBpZD0iZzU5MzYiIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAwNC43MjQ0KSIgb3BhY2l0eT0iMC41Ii8+PGcgaWQ9Imc1OTMyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLC0yKSIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAyNC43MjQ0KSIgaWQ9Imc2MDM4IiBmaWxsPSIjZmZmIi8+PGcgaWQ9InRleHQ2NjA2IiBzdHlsZT0iLWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonT3BlbiBTYW5zIEJvbGQnO2Jsb2NrLXByb2dyZXNzaW9uOnRiO2NvbG9yOiNGRkY7ZGlyZWN0aW9uOmx0cjtkaXNwbGF5OmlubGluZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6I0ZGRjtmb250LWZhbWlseTonT3BlbiBTYW5zJztmb250LXNpemU6MTYuODE7Zm9udC13ZWlnaHQ6Ym9sZDtsZXR0ZXItc3BhY2luZzpub3JtYWw7bGluZS1oZWlnaHQ6MTI1O292ZXJmbG93OnZpc2libGU7dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC1hbmNob3I6bWlkZGxlO3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3dvcmQtc3BhY2luZzpub3JtYWw7d3JpdGluZy1tb2RlOmxyLXRiIj48cGF0aCBkPSJtMzIwNiA5OTYuMzYgMy43MyAwcTIuNTUgMCAzLjcgMC43MyAxLjE2IDAuNzIgMS4xNiAyLjMxIDAgMS4wOC0wLjUxIDEuNzYtMC41IDAuNjktMS4zNCAwLjgzbDAgMC4wOHExLjE0IDAuMjUgMS42NCAwLjk1IDAuNTEgMC43IDAuNTEgMS44NiAwIDEuNjQtMS4xOSAyLjU2LTEuMTggMC45Mi0zLjIyIDAuOTJsLTQuNDkgMCAwLTEyem0yLjU0IDQuNzUgMS40OCAwcTEuMDMgMCAxLjQ5LTAuMzIgMC40Ny0wLjMyIDAuNDctMS4wNiAwLTAuNjktMC41MS0wLjk4LTAuNS0wLjMtMS41OS0wLjNsLTEuMzQgMCAwIDIuNjd6bTAgMi4wMiAwIDMuMTMgMS42NiAwcTEuMDUgMCAxLjU1LTAuNCAwLjUtMC40IDAuNS0xLjIzIDAtMS40OS0yLjEzLTEuNDlsLTEuNTggMHoiIGlkPSJwYXRoMjcyMTIiLz48L2c+PC9nPjwvc3ZnPg==);\n  }\n  .directions-icon-slight-left {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIwNiA5OTYuNCAwIDcuNSAzLjEtMy4xIDIuOSAzIDAgNC42IDIgMCAwLTUuNC0zLjUtMy41IDMtM3oiIGZpbGw9IiNGRkYiLz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMDQuNzI0NCkiIG9wYWNpdHk9IjAuNSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsLTIpIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDI0LjcyNDQpIiBmaWxsPSIjZmZmIi8+PC9nPjwvc3ZnPg==);\n  }\n  .directions-icon-slight-right {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIwNi41IDk5Ni40IDMgMy0zLjUgMy41IDAgNS40IDIgMCAwLTQuNiAyLjktMyAzLjEgMy4xIDAtNy41eiIgZmlsbD0iI0ZGRiIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAwNC43MjQ0KSIgb3BhY2l0eT0iMC41Ii8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSwtMikiLz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMjQuNzI0NCkiIGZpbGw9IiNmZmYiLz48L2c+PC9zdmc+);\n    }\n  .directions-icon-straight {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIxNS41IDEwMDEuNC01LjUtNS41LTUuNSA1LjUgNC41IDAgMCA3IDIgMCAwLTd6IiBmaWxsPSIjRkZGIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDA0LjcyNDQpIiBvcGFjaXR5PSIwLjUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLC0yKSIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAyNC43MjQ0KSIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Im0zNDA3IDk0Ny40LTIgNiA3LjMgMC0yIDYgMiAwIDQtMTItMS4yIDB6IiBmaWxsPSIjZmZmIi8+PC9nPjwvc3ZnPg==);\n  }\n  .directions-icon-depart {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgaWQ9InN2ZzUzMjciIHZlcnNpb249IjEuMSIgdmlld0JveD0iMCAwIDIwIDIwIj48ZGVmcyBpZD0iZGVmczUzMjkiLz48bWV0YWRhdGEgaWQ9Im1ldGFkYXRhNTMzMiIvPjxnIGlkPSJsYXllcjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48ZyBpZD0iZzU5MzYiIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAwNC43MjQ0KSIgb3BhY2l0eT0iMC41Ii8+PGcgaWQ9Imc1OTMyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLC0yKSIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAyNC43MjQ0KSIgaWQ9Imc2MDM4IiBmaWxsPSIjZmZmIi8+PGcgaWQ9InRleHQ2NTkzIiBzdHlsZT0iLWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjonT3BlbiBTYW5zIEJvbGQnO2Jsb2NrLXByb2dyZXNzaW9uOnRiO2NvbG9yOiNGRkY7ZGlyZWN0aW9uOmx0cjtkaXNwbGF5OmlubGluZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGw6I0ZGRjtmb250LWZhbWlseTonT3BlbiBTYW5zJztmb250LXNpemU6MTYuNzQ7Zm9udC13ZWlnaHQ6Ym9sZDtsZXR0ZXItc3BhY2luZzpub3JtYWw7bGluZS1oZWlnaHQ6MTI1O292ZXJmbG93OnZpc2libGU7dGV4dC1hbGlnbjpjZW50ZXI7dGV4dC1hbmNob3I6bWlkZGxlO3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3dvcmQtc3BhY2luZzpub3JtYWw7d3JpdGluZy1tb2RlOmxyLXRiIj48cGF0aCBkPSJtMzIxMy4wNCAxMDA4LjM2LTAuODctMi44NC00LjM2IDAtMC44NyAyLjg0LTIuNzMgMCA0LjIyLTEyIDMuMSAwIDQuMjMgMTItMi43MyAwem0tMS40Ny00Ljk3cS0xLjItMy44Ny0xLjM2LTQuMzctMC4xNS0wLjUxLTAuMjEtMC44LTAuMjcgMS4wNS0xLjU0IDUuMTdsMy4xMSAweiIgaWQ9InBhdGgyNzIwOSIvPjwvZz48L2c+PC9zdmc+);\n  }\n  .directions-icon-roundabout {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIxMCA5OTUuNGMtMS41IDAtMy4xIDAuNi00LjIgMS43LTIuMyAyLjMtMi4zIDYuMiAwIDguNWwxLjQtMS40Yy0xLjYtMS42LTEuNi00LjEgMC01LjYgMS42LTEuNiA0LjEtMS42IDUuNiAwIDEuNiAxLjYgMS42IDQuMSAwIDUuNi0wLjggMC44LTEuOCAxLjItMi44IDEuMmwtMSAwIDAgNCAyIDAgMC0yLjFjMS4yLTAuMiAyLjQtMC44IDMuMy0xLjcgMi4zLTIuMyAyLjMtNi4yIDAtOC41LTEuMi0xLjItMi43LTEuNy00LjItMS43eiIgc3R5bGU9Ii1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246U2FucztiYXNlbGluZS1zaGlmdDpiYXNlbGluZTtibG9jay1wcm9ncmVzc2lvbjp0YjtkaXJlY3Rpb246bHRyO2ZpbGw6I0ZGRjtmb250LWZhbWlseTpTYW5zO2ZvbnQtc2l6ZTptZWRpdW07bGV0dGVyLXNwYWNpbmc6bm9ybWFsO2xpbmUtaGVpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtYW5jaG9yOnN0YXJ0O3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3dvcmQtc3BhY2luZzpub3JtYWw7d3JpdGluZy1tb2RlOmxyLXRiIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDA0LjcyNDQpIiBvcGFjaXR5PSIwLjUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLC0yKSIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAyNC43MjQ0KSIgZmlsbD0iI2ZmZiIvPjwvZz48L3N2Zz4=);\n  }\n  .directions-icon-error {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMDQuNzI0NCkiIG9wYWNpdHk9IjAuNSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsLTIpIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDI0LjcyNDQpIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0ibTMyMTAgOTk2LjRjLTAuNiAwLTEuMiAwLjMtMS41IDAuOGwtNC4zIDkuMmMtMC41IDAuOCAwIDIgMS4xIDJsNC43IDAgNC43IDBjMS4xIDAgMS42LTEuMiAxLjEtMmwtNC4zLTkuMmMtMC4zLTAuNS0wLjktMC44LTEuNS0wLjh6bTAgMyAxIDEgMCAzLTIgMCAwLTN6bS0xIDUgMiAwIDAgMi0yIDB6IiBmaWxsPSIjMDAwIi8+PC9nPjwvc3ZnPg==);\n  }\n  .directions-icon-reverse {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMDQuNzI0NCkiIG9wYWNpdHk9IjAuNSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsLTIpIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDI0LjcyNDQpIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0ibTMyMTAgOTk1LjktNC41IDQuNSAzLjUgMCAwIDQtMy41IDAgNC41IDQuNSA0LjUtNC41LTMuNSAwIDAtNCAzLjUgMC00LjUtNC41eiIgZmlsbD0iIzAwMCIvPjwvZz48L3N2Zz4=);\n  }\n  .directions-icon-sharp-left {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIxMy42IDk5Ni40LTYuNSA2LjUtMy0zIDAgNy41IDcuNSAwLTMuMS0zLjEgNC42LTQuNSAwIDUuNiAyIDAgMC04LTEuNC0xeiIgZmlsbD0iI0ZGRiIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAwNC43MjQ0KSIgb3BhY2l0eT0iMC41Ii8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSwtMikiLz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMjQuNzI0NCkiIGZpbGw9IiNmZmYiLz48L2c+PC9zdmc+);\n  }\n  .directions-icon-sharp-right {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIwNi40IDk5Ni40LTEuNCAxIDAgOCAyIDAgMC01LjYgNC42IDQuNS0zLjEgMy4xIDcuNSAwIDAtNy41LTMgMy02LjUtNi41eiIgZmlsbD0iI0ZGRiIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAwNC43MjQ0KSIgb3BhY2l0eT0iMC41Ii8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSwtMikiLz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMjQuNzI0NCkiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJtMzQwNyA5NDcuNC0yIDYgNy4zIDAtMiA2IDIgMCA0LTEyLTEuMiAweiIgZmlsbD0iI2ZmZiIvPjwvZz48L3N2Zz4=);\n  }\n  .directions-icon-left {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIwOSA5OTUuOSAwIDQuNSA1IDAgMSAxIDAgNi0yIDAgMC01LTQgMCAwIDQuNS01LjUtNS41eiIgc3R5bGU9Ii1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246U2FucztiYXNlbGluZS1zaGlmdDpiYXNlbGluZTtibG9jay1wcm9ncmVzc2lvbjp0YjtkaXJlY3Rpb246bHRyO2ZpbGw6I0ZGRjtmb250LWZhbWlseTpTYW5zO2ZvbnQtc2l6ZTptZWRpdW07bGV0dGVyLXNwYWNpbmc6bm9ybWFsO2xpbmUtaGVpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtYW5jaG9yOnN0YXJ0O3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3dvcmQtc3BhY2luZzpub3JtYWw7d3JpdGluZy1tb2RlOmxyLXRiIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDA0LjcyNDQpIiBvcGFjaXR5PSIwLjUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLC0yKSIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAyNC43MjQ0KSIgZmlsbD0iI2ZmZiIvPjwvZz48L3N2Zz4=);\n  }\n  .directions-icon-right {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIxMSA5OTUuOSAwIDQuNS01IDAtMSAxIDAgNiAyIDAgMC01IDQgMCAwIDQuNSA1LjUtNS41eiIgc3R5bGU9Ii1pbmtzY2FwZS1mb250LXNwZWNpZmljYXRpb246U2FucztiYXNlbGluZS1zaGlmdDpiYXNlbGluZTtibG9jay1wcm9ncmVzc2lvbjp0YjtkaXJlY3Rpb246bHRyO2ZpbGw6I0ZGRjtmb250LWZhbWlseTpTYW5zO2ZvbnQtc2l6ZTptZWRpdW07bGV0dGVyLXNwYWNpbmc6bm9ybWFsO2xpbmUtaGVpZ2h0Om5vcm1hbDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtYW5jaG9yOnN0YXJ0O3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dGV4dC1pbmRlbnQ6MDt0ZXh0LXRyYW5zZm9ybTpub25lO3dvcmQtc3BhY2luZzpub3JtYWw7d3JpdGluZy1tb2RlOmxyLXRiIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDA0LjcyNDQpIiBvcGFjaXR5PSIwLjUiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLC0yKSIvPjxnIHRyYW5zZm9ybT0ibWF0cml4KDEsMCwwLC0xLDEsMjAyNC43MjQ0KSIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Im0zNDA3IDk0Ny40LTIgNiA3LjMgMC0yIDYgMiAwIDQtMTItMS4yIDB6IiBmaWxsPSIjZmZmIi8+PC9nPjwvc3ZnPg==);\n  }\n  .directions-icon-u-turn {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48cGF0aCBkPSJtMzIwOSA5OTYuNGMtMS43IDAtMy4xIDAuNi0zLjkgMS42LTAuOCAxLTEuMSAyLjItMS4xIDMuNGwwIDYgMiAwIDAtNmMwLTAuOCAwLjItMS42IDAuNy0yLjEgMC40LTAuNSAxLjEtMC45IDIuMy0wLjkgMS4zIDAgMS45IDAuNCAyLjMgMC45IDAuNCAwLjUgMC43IDEuMyAwLjcgMi4xbDAgMi00LjUgMCA1LjUgNS41IDUuNS01LjUtNC41IDAgMC0yYzAtMS4yLTAuMy0yLjQtMS4xLTMuNC0wLjgtMS0yLjItMS42LTMuOS0xLjZ6IiBzdHlsZT0iLWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpTYW5zO2Jhc2VsaW5lLXNoaWZ0OmJhc2VsaW5lO2Jsb2NrLXByb2dyZXNzaW9uOnRiO2RpcmVjdGlvbjpsdHI7ZmlsbDojRkZGO2ZvbnQtZmFtaWx5OlNhbnM7Zm9udC1zaXplOm1lZGl1bTtsZXR0ZXItc3BhY2luZzpub3JtYWw7bGluZS1oZWlnaHQ6bm9ybWFsO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1hbmNob3I6c3RhcnQ7dGV4dC1kZWNvcmF0aW9uLWxpbmU6bm9uZTt0ZXh0LWRlY29yYXRpb246bm9uZTt0ZXh0LWluZGVudDowO3RleHQtdHJhbnNmb3JtOm5vbmU7d29yZC1zcGFjaW5nOm5vcm1hbDt3cml0aW5nLW1vZGU6bHItdGIiLz48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMDQuNzI0NCkiIG9wYWNpdHk9IjAuNSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsLTIpIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDI0LjcyNDQpIiBmaWxsPSIjZmZmIi8+PC9nPjwvc3ZnPg==);\n  }\n  .directions-icon-waypoint {\n    background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMjAgMjAiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMjAwLC05OTIuMzYyMTgpIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgxLDAsMCwtMSwxLDIwMDQuNzI0NCkiIG9wYWNpdHk9IjAuNSIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsLTIpIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoMSwwLDAsLTEsMSwyMDI0LjcyNDQpIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0ibTMyMTUgMTAwMS40YzAgMi44LTUgOC01IDggMCAwLTUtNS4yLTUtOCAwLTIuOCAyLjItNSA1LTUgMi44IDAgNSAyLjIgNSA1eiIgZmlsbD0iI0ZGRiIvPjwvZz48L3N2Zz4=);\n  }\n",""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},,function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(152))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(4)),a=i(n(1)),s=(i(n(3)),i(n(8))),l=i(n(153)),c=i(n(174)),u=i(n(182)),h=n(16),d=i(n(9)),p=function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main},"&$disabled":{color:e.palette.action.disabled}}}};t.styles=p;var f=a.default.createElement(c.default,null),m=a.default.createElement(u.default,null);function g(e){var t=e.classes,n=e.color,i=(0,o.default)(e,["classes","color"]);return a.default.createElement(l.default,(0,r.default)({type:"radio",icon:f,checkedIcon:m,classes:{root:(0,s.default)(t.root,t["color".concat((0,h.capitalize)(n))]),checked:t.checked,disabled:t.disabled}},i))}g.defaultProps={color:"secondary"};var y=(0,d.default)(p,{name:"MuiRadio"})(g);t.default=y},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(10)),l=i(n(11)),c=i(n(12)),u=i(n(13)),h=i(n(14)),d=i(n(1)),p=(i(n(3)),i(n(8))),f=i(n(39)),m=i(n(9)),g=i(n(154)),y={root:{display:"inline-flex",alignItems:"center",transition:"none","&:hover":{backgroundColor:"transparent"}},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0}};t.styles=y;var _=function(e){function t(e){var n;return(0,s.default)(this,t),(n=(0,c.default)(this,(0,u.default)(t).call(this))).handleFocus=function(e){n.props.onFocus&&n.props.onFocus(e);var t=n.props.muiFormControl;t&&t.onFocus&&t.onFocus(e)},n.handleBlur=function(e){n.props.onBlur&&n.props.onBlur(e);var t=n.props.muiFormControl;t&&t.onBlur&&t.onBlur(e)},n.handleInputChange=function(e){var t=e.target.checked;n.isControlled||n.setState({checked:t}),n.props.onChange&&n.props.onChange(e,t)},n.isControlled=null!=e.checked,n.state={},n.isControlled||(n.state.checked=void 0!==e.defaultChecked&&e.defaultChecked),n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.autoFocus,i=t.checked,s=t.checkedIcon,l=t.classes,c=t.className,u=t.defaultChecked,h=t.disabled,f=t.icon,m=t.id,y=t.inputProps,_=t.inputRef,v=t.muiFormControl,x=t.name,b=(t.onBlur,t.onChange,t.onFocus,t.readOnly),w=t.required,T=t.tabIndex,E=t.type,S=t.value,M=(0,a.default)(t,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","muiFormControl","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),I=h;v&&void 0===I&&(I=v.disabled);var C=this.isControlled?i:this.state.checked,k="checkbox"===E||"radio"===E;return d.default.createElement(g.default,(0,r.default)({component:"span",className:(0,p.default)(l.root,(e={},(0,o.default)(e,l.checked,C),(0,o.default)(e,l.disabled,I),e),c),disabled:I,tabIndex:null,role:void 0,onFocus:this.handleFocus,onBlur:this.handleBlur},M),C?s:f,d.default.createElement("input",(0,r.default)({autoFocus:n,checked:i,defaultChecked:u,className:l.input,disabled:I,id:k&&m,name:x,onChange:this.handleInputChange,readOnly:b,ref:_,required:w,tabIndex:T,type:E,value:S},y)))}}]),t}(d.default.Component),v=(0,m.default)(y,{name:"MuiPrivateSwitchBase"})((0,f.default)(_));t.default=v},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(155))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=(n(7),i(n(9))),u=n(44),h=i(n(156)),d=n(16),p=function(e){return{root:{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:12,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{backgroundColor:(0,u.fade)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}},colorInherit:{color:"inherit"},colorPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,u.fade)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},colorSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,u.fade)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},disabled:{},label:{width:"100%",display:"flex",alignItems:"inherit",justifyContent:"inherit"}}};function f(e){var t,n=e.children,i=e.classes,c=e.className,u=e.color,p=e.disabled,f=(0,a.default)(e,["children","classes","className","color","disabled"]);return s.default.createElement(h.default,(0,r.default)({className:(0,l.default)(i.root,(t={},(0,o.default)(t,i["color".concat((0,d.capitalize)(u))],"default"!==u),(0,o.default)(t,i.disabled,p),t),c),centerRipple:!0,focusRipple:!0,disabled:p},f),s.default.createElement("span",{className:i.label},n))}t.styles=p,f.defaultProps={color:"default",disabled:!1};var m=(0,c.default)(p,{name:"MuiIconButton"})(f);t.default=m},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(157))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(10)),l=i(n(11)),c=i(n(12)),u=i(n(13)),h=i(n(14)),d=i(n(33)),p=i(n(1)),f=(i(n(3)),i(n(19))),m=i(n(8)),g=(n(7),i(n(158))),y=i(n(9)),_=i(n(159)),v=n(161),x=i(n(162)),b=i(n(173)),w={root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:"none",border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"}},disabled:{},focusVisible:{}};t.styles=w;var T=function(e){function t(){var e,n;(0,s.default)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=(0,c.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r)))).state={},n.keyDown=!1,n.focusVisibleCheckTime=50,n.focusVisibleMaxCheckTimes=5,n.handleMouseDown=(0,b.default)((0,d.default)((0,d.default)(n)),"MouseDown","start",(function(){clearTimeout(n.focusVisibleTimeout),n.state.focusVisible&&n.setState({focusVisible:!1})})),n.handleMouseUp=(0,b.default)((0,d.default)((0,d.default)(n)),"MouseUp","stop"),n.handleMouseLeave=(0,b.default)((0,d.default)((0,d.default)(n)),"MouseLeave","stop",(function(e){n.state.focusVisible&&e.preventDefault()})),n.handleTouchStart=(0,b.default)((0,d.default)((0,d.default)(n)),"TouchStart","start"),n.handleTouchEnd=(0,b.default)((0,d.default)((0,d.default)(n)),"TouchEnd","stop"),n.handleTouchMove=(0,b.default)((0,d.default)((0,d.default)(n)),"TouchMove","stop"),n.handleContextMenu=(0,b.default)((0,d.default)((0,d.default)(n)),"ContextMenu","stop"),n.handleBlur=(0,b.default)((0,d.default)((0,d.default)(n)),"Blur","stop",(function(){clearTimeout(n.focusVisibleTimeout),n.state.focusVisible&&n.setState({focusVisible:!1})})),n.onRippleRef=function(e){n.ripple=e},n.onFocusVisibleHandler=function(e){n.keyDown=!1,n.setState({focusVisible:!0}),n.props.onFocusVisible&&n.props.onFocusVisible(e)},n.handleKeyDown=function(e){var t=n.props,i=t.component,r=t.focusRipple,o=t.onKeyDown,a=t.onClick;r&&!n.keyDown&&n.state.focusVisible&&n.ripple&&" "===e.key&&(n.keyDown=!0,e.persist(),n.ripple.stop(e,(function(){n.ripple.start(e)}))),o&&o(e),e.target!==e.currentTarget||!i||"button"===i||" "!==e.key&&"Enter"!==e.key||"A"===n.button.tagName&&n.button.href||(e.preventDefault(),a&&a(e))},n.handleKeyUp=function(e){n.props.focusRipple&&" "===e.key&&n.ripple&&n.state.focusVisible&&(n.keyDown=!1,e.persist(),n.ripple.stop(e,(function(){n.ripple.pulsate(e)}))),n.props.onKeyUp&&n.props.onKeyUp(e)},n.handleFocus=function(e){n.props.disabled||(n.button||(n.button=e.currentTarget),e.persist(),(0,v.detectFocusVisible)((0,d.default)((0,d.default)(n)),n.button,(function(){n.onFocusVisibleHandler(e)})),n.props.onFocus&&n.props.onFocus(e))},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.button=f.default.findDOMNode(this),(0,v.listenForFocusKeys)((0,g.default)(this.button)),this.props.action&&this.props.action({focusVisible:function(){e.setState({focusVisible:!0}),e.button.focus()}})}},{key:"componentDidUpdate",value:function(e,t){this.props.focusRipple&&!this.props.disableRipple&&!t.focusVisible&&this.state.focusVisible&&this.ripple.pulsate()}},{key:"componentWillUnmount",value:function(){clearTimeout(this.focusVisibleTimeout)}},{key:"render",value:function(){var e,t=this.props,n=(t.action,t.buttonRef),i=t.centerRipple,s=t.children,l=t.classes,c=t.className,u=t.component,h=t.disabled,d=t.disableRipple,f=(t.disableTouchRipple,t.focusRipple,t.focusVisibleClassName),g=(t.onBlur,t.onFocus,t.onFocusVisible,t.onKeyDown,t.onKeyUp,t.onMouseDown,t.onMouseLeave,t.onMouseUp,t.onTouchEnd,t.onTouchMove,t.onTouchStart,t.tabIndex),y=t.TouchRippleProps,v=t.type,b=(0,a.default)(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"]),w=(0,m.default)(l.root,(e={},(0,o.default)(e,l.disabled,h),(0,o.default)(e,l.focusVisible,this.state.focusVisible),(0,o.default)(e,f,this.state.focusVisible),e),c),T=u;"button"===T&&b.href&&(T="a");var E={};return"button"===T?(E.type=v||"button",E.disabled=h):E.role="button",p.default.createElement(T,(0,r.default)({className:w,onBlur:this.handleBlur,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseDown:this.handleMouseDown,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp,onTouchEnd:this.handleTouchEnd,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onContextMenu:this.handleContextMenu,ref:n,tabIndex:h?"-1":g},E,b),s,d||h?null:p.default.createElement(_.default,null,p.default.createElement(x.default,(0,r.default)({innerRef:this.onRippleRef,center:i},y))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0===t.focusVisible||!t.prevState&&e.disabled&&t.focusVisible?{focusVisible:!1,lastDisabled:e.disabled}:{lastDisabled:e.disabled}}}]),t}(p.default.Component);T.defaultProps={centerRipple:!1,component:"button",disableRipple:!1,disableTouchRipple:!1,focusRipple:!1,tabIndex:"0",type:"button"};var E=(0,y.default)(w,{name:"MuiButtonBase"})(T);t.default=E},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(60));var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=(0,r.default)(e);return n.defaultView||n.parentView||t};t.default=o},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(160))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(10)),o=i(n(11)),a=i(n(12)),s=i(n(13)),l=i(n(14)),c=i(n(1)),u=(i(n(3)),n(7),function(e){function t(){var e,n;(0,r.default)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(n=(0,a.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(o)))).mounted=!1,n.state={mounted:!1},n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.props.defer?requestAnimationFrame((function(){requestAnimationFrame((function(){e.mounted&&e.setState({mounted:!0})}))})):this.setState({mounted:!0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.fallback;return this.state.mounted?t:n}}]),t}(c.default.Component));u.defaultProps={defer:!1,fallback:null};var h=u;t.default=h},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.detectFocusVisible=function e(t,n,i){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;t.focusVisibleTimeout=setTimeout((function(){var l=a((0,r.default)(n));o.focusKeyPressed&&(l===n||n.contains(l))?i():s<t.focusVisibleMaxCheckTimes&&e(t,n,i,s+1)}),t.focusVisibleCheckTime)},t.listenForFocusKeys=function(e){e.addEventListener("keyup",l)};i(n(6));var r=i(n(60)),o={focusKeyPressed:!1,keyUpEventTimeout:-1};function a(e){for(var t=e.activeElement;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}var s=[9,13,27,32,37,38,39,40];var l=function(e){(function(e){return s.indexOf(e.keyCode)>-1})(e)&&(o.focusKeyPressed=!0,clearTimeout(o.keyUpEventTimeout),o.keyUpEventTimeout=setTimeout((function(){o.focusKeyPressed=!1}),500))}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=t.DELAY_RIPPLE=void 0;var r=i(n(2)),o=i(n(4)),a=i(n(163)),s=i(n(10)),l=i(n(11)),c=i(n(12)),u=i(n(13)),h=i(n(14)),d=i(n(33)),p=i(n(1)),f=(i(n(3)),i(n(19))),m=i(n(168)),g=i(n(8)),y=i(n(9)),_=i(n(170));t.DELAY_RIPPLE=80;var v=function(e){return{root:{display:"block",position:"absolute",overflow:"hidden",borderRadius:"inherit",width:"100%",height:"100%",left:0,top:0,pointerEvents:"none",zIndex:0},ripple:{width:50,height:50,left:0,top:0,opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"mui-ripple-enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-enter"},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"mui-ripple-exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut),animationName:"$mui-ripple-exit"},childPulsate:{position:"absolute",left:0,top:0,animation:"mui-ripple-pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite"),animationName:"$mui-ripple-pulsate"},"@keyframes mui-ripple-enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes mui-ripple-exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes mui-ripple-pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}};t.styles=v;var x=function(e){function t(){var e,n;(0,s.default)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=(0,c.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r)))).state={nextKey:0,ripples:[]},n.pulsate=function(){n.start({},{pulsate:!0})},n.start=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=t.pulsate,o=void 0!==r&&r,a=t.center,s=void 0===a?n.props.center||t.pulsate:a,l=t.fakeElement,c=void 0!==l&&l;if("mousedown"===e.type&&n.ignoringMouseDown)n.ignoringMouseDown=!1;else{"touchstart"===e.type&&(n.ignoringMouseDown=!0);var u,h,p,m=c?null:f.default.findDOMNode((0,d.default)((0,d.default)(n))),g=m?m.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(g.width/2),h=Math.round(g.height/2);else{var y=e.clientX?e.clientX:e.touches[0].clientX,_=e.clientY?e.clientY:e.touches[0].clientY;u=Math.round(y-g.left),h=Math.round(_-g.top)}if(s)(p=Math.sqrt((2*Math.pow(g.width,2)+Math.pow(g.height,2))/3))%2==0&&(p+=1);else{var v=2*Math.max(Math.abs((m?m.clientWidth:0)-u),u)+2,x=2*Math.max(Math.abs((m?m.clientHeight:0)-h),h)+2;p=Math.sqrt(Math.pow(v,2)+Math.pow(x,2))}e.touches?(n.startTimerCommit=function(){n.startCommit({pulsate:o,rippleX:u,rippleY:h,rippleSize:p,cb:i})},n.startTimer=setTimeout((function(){n.startTimerCommit&&(n.startTimerCommit(),n.startTimerCommit=null)}),80)):n.startCommit({pulsate:o,rippleX:u,rippleY:h,rippleSize:p,cb:i})}},n.startCommit=function(e){var t=e.pulsate,i=e.rippleX,r=e.rippleY,o=e.rippleSize,s=e.cb;n.setState((function(e){return{nextKey:e.nextKey+1,ripples:[].concat((0,a.default)(e.ripples),[p.default.createElement(_.default,{key:e.nextKey,classes:n.props.classes,timeout:{exit:550,enter:550},pulsate:t,rippleX:i,rippleY:r,rippleSize:o})])}}),s)},n.stop=function(e,t){clearTimeout(n.startTimer);var i=n.state.ripples;if("touchend"===e.type&&n.startTimerCommit)return e.persist(),n.startTimerCommit(),n.startTimerCommit=null,void(n.startTimer=setTimeout((function(){n.stop(e,t)})));n.startTimerCommit=null,i&&i.length&&n.setState({ripples:i.slice(1)},t)},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"componentWillUnmount",value:function(){clearTimeout(this.startTimer)}},{key:"render",value:function(){var e=this.props,t=(e.center,e.classes),n=e.className,i=(0,o.default)(e,["center","classes","className"]);return p.default.createElement(m.default,(0,r.default)({component:"span",enter:!0,exit:!0,className:(0,g.default)(t.root,n)},i),this.state.ripples)}}]),t}(p.default.PureComponent);x.defaultProps={center:!1};var b=(0,y.default)(v,{flip:!1,name:"MuiTouchRipple"})(x);t.default=b},function(e,t,n){var i=n(164),r=n(165),o=n(166),a=n(167);e.exports=function(e){return i(e)||r(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(61);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var i=n(61);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=s(n(3)),r=s(n(1)),o=n(62),a=n(169);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},h=function(e){function t(t,n){var i,r=(i=e.call(this,t,n)||this).handleExited.bind(c(c(i)));return i.state={handleExited:r,firstRender:!0},i}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},n.componentDidMount=function(){this.appeared=!0,this.mounted=!0},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n=t.children,i=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,i):(0,a.getNextChildMapping)(e,n,i),firstRender:!1}},n.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["component","childFactory"]),o=u(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?o:r.default.createElement(t,i,o)},t}(r.default.Component);h.childContextTypes={transitionGroup:i.default.object.isRequired},h.propTypes={},h.defaultProps={component:"div",childFactory:function(e){return e}};var d=(0,o.polyfill)(h);t.default=d,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return r(e.children,(function(n){return(0,i.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=r(e.children),l=o(t,s);return Object.keys(l).forEach((function(r){var o=l[r];if((0,i.isValidElement)(o)){var c=r in t,u=r in s,h=t[r],d=(0,i.isValidElement)(h)&&!h.props.in;!u||c&&!d?u||!c||d?u&&c&&(0,i.isValidElement)(h)&&(l[r]=(0,i.cloneElement)(o,{onExited:n.bind(null,o),in:h.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):l[r]=(0,i.cloneElement)(o,{in:!1}):l[r]=(0,i.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}})),l};var i=n(1);function r(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),o=[];for(var a in e)a in t?o.length&&(r[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var c=r[l][i];s[r[l][i]]=n(c)}s[l]=n(l)}for(i=0;i<o.length;i++)s[o[i]]=n(o[i]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(10)),l=i(n(11)),c=i(n(12)),u=i(n(13)),h=i(n(14)),d=i(n(1)),p=(i(n(3)),i(n(8))),f=i(n(171)),m=function(e){function t(){var e,n;(0,s.default)(this,t);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(n=(0,c.default)(this,(e=(0,u.default)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,leaving:!1},n.handleEnter=function(){n.setState({visible:!0})},n.handleExit=function(){n.setState({leaving:!0})},n}return(0,h.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e,t,n=this.props,i=n.classes,s=n.className,l=n.pulsate,c=n.rippleX,u=n.rippleY,h=n.rippleSize,m=(0,a.default)(n,["classes","className","pulsate","rippleX","rippleY","rippleSize"]),g=this.state,y=g.visible,_=g.leaving,v=(0,p.default)(i.ripple,(e={},(0,o.default)(e,i.rippleVisible,y),(0,o.default)(e,i.ripplePulsate,l),e),s),x={width:h,height:h,top:-h/2+u,left:-h/2+c},b=(0,p.default)(i.child,(t={},(0,o.default)(t,i.childLeaving,_),(0,o.default)(t,i.childPulsate,l),t));return d.default.createElement(f.default,(0,r.default)({onEnter:this.handleEnter,onExit:this.handleExit},m),d.default.createElement("span",{className:v,style:x},d.default.createElement("span",{className:b})))}}]),t}(d.default.Component);m.defaultProps={pulsate:!1};var g=m;t.default=g},function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};i.get||i.set?Object.defineProperty(t,n,i):t[n]=e[n]}return t.default=e,t}(n(3)),r=s(n(1)),o=s(n(19)),a=n(62);n(172);function s(e){return e&&e.__esModule?e:{default:e}}t.UNMOUNTED="unmounted";t.EXITED="exited";t.ENTERING="entering";t.ENTERED="entered";t.EXITING="exiting";var l=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?a?(r="exited",i.appearStatus="entering"):r="entered":r=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",i.state={status:r},i.nextCallback=null,i}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e);var n=t.prototype;return n.getChildContext=function(){return{transitionGroup:null}},t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null},n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?"entering"!==n&&"entered"!==n&&(t="entering"):"entering"!==n&&"entered"!==n||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);"entering"===t?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e,t){var n=this,i=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=r?o.appear:o.enter;t||i?(this.props.onEnter(e,r),this.safeSetState({status:"entering"},(function(){n.props.onEntering(e,r),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:"entered"},(function(){n.props.onEntered(e,r)}))}))}))):this.safeSetState({status:"entered"},(function(){n.props.onEntered(e)}))},n.performExit=function(e){var t=this,n=this.props.exit,i=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:"exiting"},(function(){t.props.onExiting(e),t.onTransitionEnd(e,i.exit,(function(){t.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:"exited"},(function(){t.props.onExited(e)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var i=null==t&&!this.props.addEndListener;e&&!i?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,i=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"==typeof n)return n(e,i);var o=r.default.Children.only(n);return r.default.cloneElement(o,i)},t}(r.default.Component);function c(){}l.contextTypes={transitionGroup:i.object},l.childContextTypes={transitionGroup:function(){}},l.propTypes={},l.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:c,onEntering:c,onEntered:c,onExit:c,onExiting:c,onExited:c},l.UNMOUNTED=0,l.EXITED=1,l.ENTERING=2,l.ENTERED=3,l.EXITING=4;var u=(0,a.polyfill)(l);t.default=u},function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;!function(e){e&&e.__esModule}(n(3));t.timeoutsShape=null;t.classNamesShape=null},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t,n,i){return function(r){i&&i.call(e,r);var o=!1;return r.defaultPrevented&&(o=!0),e.props.disableTouchRipple&&"Blur"!==t&&(o=!0),!o&&e.ripple&&e.ripple[n](r),"function"==typeof e.props["on".concat(t)]&&e.props["on".concat(t)](r),!0}};"undefined"==typeof window&&(i=function(){return function(){}});var r=i;t.default=r},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(63)),a=i(n(66)),s=r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),l=function(e){return r.default.createElement(a.default,e,s)};(l=(0,o.default)(l)).muiName="SvgIcon";var c=l;t.default=c},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(176)),o=n(1),a=(i(n(64)),i(n(65)),function(e){return function(t){var n=(0,o.createFactory)(t);return function(t){function i(){return t.apply(this,arguments)||this}(0,r.default)(i,t);var o=i.prototype;return o.shouldComponentUpdate=function(t){return e(this.props,t)},o.render=function(){return n(this.props)},i}(o.Component)}});t.default=a},function(e,t,n){var i=n(58);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=function(e,t){return function(n){return n[e]=t,n}};t.default=i},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var i=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":void 0};t.default=i},function(e,t,n){"use strict";var i=n(0);t.__esModule=!0,t.default=void 0;var r=i(n(180)).default;t.default=r},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}e.exports=function(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=(n(7),i(n(9))),u=n(16),h=function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:24,transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:20},fontSizeLarge:{fontSize:35}}};function d(e){var t,n=e.children,i=e.classes,c=e.className,h=e.color,d=e.component,p=e.fontSize,f=e.nativeColor,m=e.titleAccess,g=e.viewBox,y=(0,a.default)(e,["children","classes","className","color","component","fontSize","nativeColor","titleAccess","viewBox"]);return s.default.createElement(d,(0,r.default)({className:(0,l.default)(i.root,(t={},(0,o.default)(t,i["color".concat((0,u.capitalize)(h))],"inherit"!==h),(0,o.default)(t,i["fontSize".concat((0,u.capitalize)(p))],"default"!==p),t),c),focusable:"false",viewBox:g,color:f,"aria-hidden":m?"false":"true",role:m?"img":"presentation"},y),n,m?s.default.createElement("title",null,m):null)}t.styles=h,d.defaultProps={color:"inherit",component:"svg",fontSize:"default",viewBox:"0 0 24 24"},d.muiName="SvgIcon";var p=(0,c.default)(h,{name:"MuiSvgIcon"})(d);t.default=p},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(1)),o=i(n(63)),a=i(n(66)),s=r.default.createElement("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),l=function(e){return r.default.createElement(a.default,e,s)};(l=(0,o.default)(l)).muiName="SvgIcon";var c=l;t.default=c},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(184))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(2)),o=i(n(4)),a=i(n(10)),s=i(n(11)),l=i(n(12)),c=i(n(13)),u=i(n(14)),h=i(n(1)),d=(i(n(3)),i(n(6)),i(n(185))),p=n(16),f=function(e){function t(e){var n;return(0,a.default)(this,t),(n=(0,l.default)(this,(0,c.default)(t).call(this))).radios=[],n.focus=function(){if(n.radios&&n.radios.length){var e=n.radios.filter((function(e){return!e.disabled}));if(e.length){var t=(0,p.find)(e,(function(e){return e.checked}));t?t.focus():e[0].focus()}}},n.handleChange=function(e){n.isControlled||n.setState({value:e.target.value}),n.props.onChange&&n.props.onChange(e,e.target.value)},n.isControlled=null!=e.value,n.isControlled||(n.state={value:e.defaultValue}),n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,i=t.name,a=t.value,s=(t.onChange,(0,o.default)(t,["children","name","value","onChange"])),l=this.isControlled?a:this.state.value;return this.radios=[],h.default.createElement(d.default,(0,r.default)({role:"radiogroup"},s),h.default.Children.map(n,(function(t){return h.default.isValidElement(t)?h.default.cloneElement(t,{name:i,inputRef:function(t){t&&e.radios.push(t)},checked:l===t.props.value,onChange:(0,p.createChainedFunction)(t.props.onChange,e.handleChange)}):null})))}}]),t}(h.default.Component);t.default=f},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(186))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=i(n(9)),u={root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}};function h(e){var t=e.classes,n=e.className,i=e.children,c=e.row,u=(0,a.default)(e,["classes","className","children","row"]);return s.default.createElement("div",(0,r.default)({className:(0,l.default)(t.root,(0,o.default)({},t.row,c),n)},u),i)}t.styles=u,h.defaultProps={row:!1};var d=(0,c.default)(u,{name:"MuiFormGroup"})(h);t.default=d},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(188))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=i(n(39)),u=i(n(9)),h=i(n(27)),d=n(16),p=function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-14,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-14},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}};function f(e){e.checked;var t,n=e.classes,i=e.className,c=e.control,u=e.disabled,p=(e.inputRef,e.label),f=e.labelPlacement,m=e.muiFormControl,g=(e.name,e.onChange,e.value,(0,a.default)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","muiFormControl","name","onChange","value"])),y=u;void 0===y&&void 0!==c.props.disabled&&(y=c.props.disabled),void 0===y&&m&&(y=m.disabled);var _={disabled:y};return["checked","name","onChange","value","inputRef"].forEach((function(t){void 0===c.props[t]&&void 0!==e[t]&&(_[t]=e[t])})),s.default.createElement("label",(0,r.default)({className:(0,l.default)(n.root,(t={},(0,o.default)(t,n["labelPlacement".concat((0,d.capitalize)(f))],"end"!==f),(0,o.default)(t,n.disabled,y),t),i)},g),s.default.cloneElement(c,_),s.default.createElement(h.default,{component:"span",className:(0,l.default)(n.label,(0,o.default)({},n.disabled,y))},p))}t.styles=p,f.defaultProps={labelPlacement:"end"};var m=(0,u.default)(p,{name:"MuiFormControlLabel"})((0,c.default)(f));t.default=m},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(190))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(10)),l=i(n(12)),c=i(n(13)),u=i(n(11)),h=i(n(14)),d=i(n(1)),p=(i(n(3)),i(n(8))),f=(n(7),n(191)),m=i(n(9)),g=n(16),y=n(192),_=i(n(59)),v={root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}};t.styles=v;var x=function(e){function t(e){var n;(0,s.default)(this,t),(n=(0,l.default)(this,(0,c.default)(t).call(this))).handleFocus=function(){n.setState((function(e){return e.focused?null:{focused:!0}}))},n.handleBlur=function(){n.setState((function(e){return e.focused?{focused:!1}:null}))},n.handleDirty=function(){n.state.filled||n.setState({filled:!0})},n.handleClean=function(){n.state.filled&&n.setState({filled:!1})},n.state={adornedStart:!1,filled:!1,focused:!1};var i=e.children;return i&&d.default.Children.forEach(i,(function(e){if((0,y.isMuiElement)(e,["Input","Select"])){(0,f.isFilled)(e.props,!0)&&(n.state.filled=!0);var t=(0,y.isMuiElement)(e,["Select"])?e.props.input:e;t&&(0,f.isAdornedStart)(t.props)&&(n.state.adornedStart=!0)}})),n}return(0,h.default)(t,e),(0,u.default)(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.disabled&&t.focused?{focused:!1}:null}}]),(0,u.default)(t,[{key:"render",value:function(){var e,t=this.props,n=t.classes,i=t.className,s=t.component,l=t.disabled,c=t.error,u=t.fullWidth,h=t.margin,f=t.required,m=t.variant,y=(0,a.default)(t,["classes","className","component","disabled","error","fullWidth","margin","required","variant"]),v=this.state,x={adornedStart:v.adornedStart,disabled:l,error:c,filled:v.filled,focused:v.focused,margin:h,onBlur:this.handleBlur,onEmpty:this.handleClean,onFilled:this.handleDirty,onFocus:this.handleFocus,required:f,variant:m};return d.default.createElement(_.default.Provider,{value:x},d.default.createElement(s,(0,r.default)({className:(0,p.default)(n.root,(e={},(0,o.default)(e,n["margin".concat((0,g.capitalize)(h))],"none"!==h),(0,o.default)(e,n.fullWidth,u),e),i)},y)))}}]),t}(d.default.Component);x.defaultProps={component:"div",disabled:!1,error:!1,fullWidth:!1,margin:"none",required:!1,variant:"standard"};var b=(0,m.default)(v,{name:"MuiFormControl"})(x);t.default=b},function(e,t,n){"use strict";function i(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasValue=i,t.isFilled=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(i(e.value)&&""!==e.value||t&&i(e.defaultValue)&&""!==e.defaultValue)},t.isAdornedStart=function(e){return e.startAdornment}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.cloneElementWithClassName=a,t.cloneChildrenWithClassName=function(e,t){return r.default.Children.map(e,(function(e){return r.default.isValidElement(e)&&a(e,t)}))},t.isMuiElement=function(e,t){return r.default.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)},t.setRef=function(e,t){"function"==typeof e?e(t):e&&(e.current=t)};var r=i(n(1)),o=i(n(8));function a(e,t){return r.default.cloneElement(e,{className:(0,o.default)(e.props.className,t)})}},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.default}});var r=i(n(194))},function(e,t,n){"use strict";var i=n(0);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var r=i(n(2)),o=i(n(5)),a=i(n(4)),s=i(n(1)),l=(i(n(3)),i(n(8))),c=(n(7),i(n(195))),u=i(n(39)),h=i(n(9)),d=function(e){return{root:{fontFamily:e.typography.fontFamily,color:e.palette.text.secondary,fontSize:e.typography.pxToRem(16),lineHeight:1,padding:0,"&$focused":{color:e.palette.primary["light"===e.palette.type?"dark":"light"]},"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:e.palette.error.main}}}};function p(e){var t,n=e.children,i=e.classes,u=e.className,h=e.component,d=(e.disabled,e.error,e.filled,e.focused,e.muiFormControl),p=(e.required,(0,a.default)(e,["children","classes","className","component","disabled","error","filled","focused","muiFormControl","required"])),f=(0,c.default)({props:e,muiFormControl:d,states:["required","focused","disabled","error","filled"]});return s.default.createElement(h,(0,r.default)({className:(0,l.default)(i.root,(t={},(0,o.default)(t,i.disabled,f.disabled),(0,o.default)(t,i.error,f.error),(0,o.default)(t,i.filled,f.filled),(0,o.default)(t,i.focused,f.focused),(0,o.default)(t,i.required,f.required),t),u)},p),n,f.required&&s.default.createElement("span",{className:(0,l.default)(i.asterisk,(0,o.default)({},i.error,f.error))},"â€‰*"))}t.styles=d,p.defaultProps={component:"label"};var f=(0,h.default)(d,{name:"MuiFormLabel"})((0,u.default)(p));t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.props,n=e.states,i=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],i&&void 0===t[n]&&(e[n]=i[n]),e}),{})}},function(e,t,n){var i=n(197);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(38)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(37)(!1)).push([e.i,".mapboxgl-map{-webkit-tap-highlight-color:rgb(0 0 0/0);font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative}.mapboxgl-canvas{left:0;position:absolute;top:0}.mapboxgl-map:-webkit-full-screen{height:100%;width:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-webkit-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.mapboxgl-ctrl-top-left{left:0;top:0}.mapboxgl-ctrl-top-right{right:0;top:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{bottom:0;right:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{float:left;margin:10px 0 0 10px}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{float:right;margin:10px 10px 0 0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{float:left;margin:0 0 10px 10px}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{float:right;margin:0 10px 10px 0}.mapboxgl-ctrl-group{background:#fff;border-radius:4px}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;overflow:hidden;padding:0;width:29px}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl-group button:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:only-child{border-radius:inherit}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath id='south' d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='%23f00'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='%23f00'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2' display='none'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23000'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' display='none'/%3E%3C/svg%3E\")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7z'/%3E%3Ccircle id='dot' cx='10' cy='10' r='2'/%3E%3Cpath id='stroke' d='M14 5l1 1-9 9-1-1 9-9z' fill='%23f00'/%3E%3C/svg%3E\")}}@keyframes mapboxgl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='clip'%3E%3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/mask%3E%3Cg id='outline' opacity='0.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E%3C/g%3E%3Cg id='fill' opacity='0.9' fill='%23fff'%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/g%3E%3C/svg%3E\");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='clip'%3E%3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/mask%3E%3Cg id='outline' opacity='1' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E%3C/g%3E%3Cg id='fill' opacity='1' fill='%23fff'%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/g%3E%3C/svg%3E\")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='logo' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='text' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='clip'%3E%3Crect x='0' y='0' width='100%25' height='100%25' fill='white'/%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/mask%3E%3Cg id='outline' opacity='1' stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23clip)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23text' mask='url(%23clip)'/%3E%3C/g%3E%3Cg id='fill' opacity='1' fill='%23000'%3E%3Cuse xlink:href='%23logo'/%3E%3Cuse xlink:href='%23text'/%3E%3C/g%3E%3C/svg%3E\")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{background-color:#fff;border-radius:12px;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{right:0;top:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{left:0;top:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E\")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px;white-space:nowrap}.mapboxgl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.mapboxgl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.mapboxgl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.mapboxgl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto;position:relative}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{left:0;opacity:1;position:absolute;top:0;transition:opacity .2s;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.mapboxgl-user-location-dot:before{animation:mapboxgl-user-location-dot-pulse 2s infinite;content:\"\";position:absolute}.mapboxgl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:\"\";height:19px;left:-2px;position:absolute;top:-2px;width:19px}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading{height:0;width:0}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after,.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-bottom:7.5px solid #4aa1eb;content:\"\";position:absolute}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:before{border-left:7.5px solid transparent;transform:translateY(-28px) skewY(-20deg)}.mapboxgl-user-location-show-heading .mapboxgl-user-location-heading:after{border-right:7.5px solid transparent;transform:translate(7.5px,-28px) skewY(20deg)}@keyframes mapboxgl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}@media print{.mapbox-improve-map{display:none}}.mapboxgl-scroll-zoom-blocker,.mapboxgl-touch-pan-blocker{align-items:center;background:rgba(0,0,0,.7);color:#fff;display:flex;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif;height:100%;justify-content:center;left:0;opacity:0;pointer-events:none;position:absolute;text-align:center;top:0;transition:opacity .75s ease-in-out;transition-delay:1s;width:100%}.mapboxgl-scroll-zoom-blocker-show,.mapboxgl-touch-pan-blocker-show{opacity:1;transition:opacity .1s ease-in-out}.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page,.mapboxgl-canvas-container.mapboxgl-touch-pan-blocker-override.mapboxgl-scrollable-page .mapboxgl-canvas{touch-action:pan-x pan-y}",""])}]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9yLTJjNTc2ZTZkNjc1Y2ZjMDUyOWE5LmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL3ZlbmRvci0yYzU3NmU2ZDY3NWNmYzA1MjlhOS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIod2luZG93LndlYnBhY2tKc29ucD13aW5kb3cud2VicGFja0pzb25wfHxbXSkucHVzaChbW1widmVuZG9yXCJdLFtmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1uKDY5KX0sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKCl7cmV0dXJuIGUuZXhwb3J0cz1uPU9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbi5iaW5kKCk6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiYoZVtpXT1uW2ldKX1yZXR1cm4gZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfWUuZXhwb3J0cz1uLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe2UuZXhwb3J0cz1uKDEyNSkoKX0sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oNzQpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4scixvPWkoZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgYT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihyPTA7cjxhLmxlbmd0aDtyKyspbj1hW3JdLHQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbikmJihvW25dPWVbbl0pfXJldHVybiBvfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKDQyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybih0PWkodCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPWZ1bmN0aW9uKCl7fTtlLmV4cG9ydHM9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KTt2YXIgaT1uKDQ1KSxyPW4ubihpKTtuLmQodCxcImNvbXBvbmVudFByb3BUeXBlXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHIuYX0pKTt2YXIgbz1uKDQ3KSxhPW4ubihvKTtuLmQodCxcImNoYWluUHJvcFR5cGVzXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYX0pKTt2YXIgcz1uKDQ4KSxsPW4ubihzKTtuLmQodCxcImV4YWN0UHJvcFwiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSk7dmFyIGM9big0OSksdT1uLm4oYyk7bi5kKHQsXCJnZXREaXNwbGF5TmFtZVwiLChmdW5jdGlvbigpe3JldHVybiB1LmF9KSk7dmFyIGg9big1MCksZD1uLm4oaCk7bi5kKHQsXCJwb255ZmlsbEdsb2JhbFwiLChmdW5jdGlvbigpe3JldHVybiBkLmF9KSl9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgaTshZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgbj17fS5oYXNPd25Qcm9wZXJ0eTtmdW5jdGlvbiByKCl7Zm9yKHZhciBlPVtdLHQ9MDt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1hcmd1bWVudHNbdF07aWYoaSl7dmFyIG89dHlwZW9mIGk7aWYoXCJzdHJpbmdcIj09PW98fFwibnVtYmVyXCI9PT1vKWUucHVzaChpKTtlbHNlIGlmKEFycmF5LmlzQXJyYXkoaSkpe2lmKGkubGVuZ3RoKXt2YXIgYT1yLmFwcGx5KG51bGwsaSk7YSYmZS5wdXNoKGEpfX1lbHNlIGlmKFwib2JqZWN0XCI9PT1vKXtpZihpLnRvU3RyaW5nIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyYmIWkudG9TdHJpbmcudG9TdHJpbmcoKS5pbmNsdWRlcyhcIltuYXRpdmUgY29kZV1cIikpe2UucHVzaChpLnRvU3RyaW5nKCkpO2NvbnRpbnVlfWZvcih2YXIgcyBpbiBpKW4uY2FsbChpLHMpJiZpW3NdJiZlLnB1c2gocyl9fX1yZXR1cm4gZS5qb2luKFwiIFwiKX1lLmV4cG9ydHM/KHIuZGVmYXVsdD1yLGUuZXhwb3J0cz1yKTp2b2lkIDA9PT0oaT1mdW5jdGlvbigpe3JldHVybiByfS5hcHBseSh0LFtdKSl8fChlLmV4cG9ydHM9aSl9KCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnNoZWV0c01hbmFnZXI9dm9pZCAwO3ZhciByPWkobig1KSksbz1pKG4oMikpLGE9aShuKDEwKSkscz1pKG4oMTEpKSxsPWkobigxMikpLGM9aShuKDEzKSksdT1pKG4oMTQpKSxoPWkobig0KSksZD1pKG4oMSkpLHA9aShuKDMpKSxmPShpKG4oNikpLGkobigzNSkpKSxtPW4oNyksZz1uKDUyKSx5PWkobigxMjkpKSxfPWkobig1MSkpLHY9aShuKDEzMCkpLHg9aShuKDEzMSkpLGI9aShuKDI5KSksdz1pKG4oMzQpKSxUPWkobig0MSkpLEU9aShuKDEzMikpLFM9aShuKDEzMykpLE09KDAsZy5jcmVhdGUpKCgwLF8uZGVmYXVsdCkoKSksST0oMCxULmRlZmF1bHQpKCksQz0tMWUxMSxrPW5ldyBNYXA7dC5zaGVldHNNYW5hZ2VyPWs7dmFyIEE9e30sUD0oMCxiLmRlZmF1bHQpKHt0eXBvZ3JhcGh5OntzdXBwcmVzc1dhcm5pbmc6ITB9fSk7bS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfX3x8KG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX189e30pLG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFN0eWxlc3x8KG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFN0eWxlcz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpLG09dC53aXRoVGhlbWUsZz12b2lkIDAhPT1tJiZtLF89dC5mbGlwLGI9dm9pZCAwPT09Xz9udWxsOl8sVD10Lm5hbWUsej0oMCxoLmRlZmF1bHQpKHQsW1wid2l0aFRoZW1lXCIsXCJmbGlwXCIsXCJuYW1lXCJdKSxEPSgwLEUuZGVmYXVsdCkoZSksTD1ELnRoZW1pbmdFbmFibGVkfHxcInN0cmluZ1wiPT10eXBlb2YgVHx8ZztDKz0xLEQub3B0aW9ucy5pbmRleD1DO3ZhciBPPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxuKXt2YXIgaTsoMCxhLmRlZmF1bHQpKHRoaXMsdCksKGk9KDAsbC5kZWZhdWx0KSh0aGlzLCgwLGMuZGVmYXVsdCkodCkuY2FsbCh0aGlzLGUsbikpKS5qc3M9blt5LmRlZmF1bHQuanNzXXx8TSxpLnNoZWV0c01hbmFnZXI9ayxpLnVuc3Vic2NyaWJlSWQ9bnVsbDt2YXIgcj1uLm11aVRoZW1lUHJvdmlkZXJPcHRpb25zO3JldHVybiByJiYoci5zaGVldHNNYW5hZ2VyJiYoaS5zaGVldHNNYW5hZ2VyPXIuc2hlZXRzTWFuYWdlciksaS5zaGVldHNDYWNoZT1yLnNoZWV0c0NhY2hlLGkuZGlzYWJsZVN0eWxlc0dlbmVyYXRpb249ci5kaXNhYmxlU3R5bGVzR2VuZXJhdGlvbiksaS5zdHlsZXNDcmVhdG9yU2F2ZWQ9RCxpLnNoZWV0T3B0aW9ucz0oMCxvLmRlZmF1bHQpKHtnZW5lcmF0ZUNsYXNzTmFtZTpJfSxuW3kuZGVmYXVsdC5zaGVldE9wdGlvbnNdKSxpLnRoZW1lPUw/dy5kZWZhdWx0LmluaXRpYWwobil8fFA6QSxpLmF0dGFjaChpLnRoZW1lKSxpLmNhY2hlQ2xhc3Nlcz17dmFsdWU6bnVsbCxsYXN0UHJvcDpudWxsLGxhc3RKU1M6e319LGl9cmV0dXJuKDAsdS5kZWZhdWx0KSh0LGUpLCgwLHMuZGVmYXVsdCkodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO0wmJih0aGlzLnVuc3Vic2NyaWJlSWQ9dy5kZWZhdWx0LnN1YnNjcmliZSh0aGlzLmNvbnRleHQsKGZ1bmN0aW9uKHQpe3ZhciBuPWUudGhlbWU7ZS50aGVtZT10LGUuYXR0YWNoKGUudGhlbWUpLGUuc2V0U3RhdGUoe30sKGZ1bmN0aW9uKCl7ZS5kZXRhY2gobil9KSl9KSkpfX0se2tleTpcImNvbXBvbmVudERpZFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWR9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZGV0YWNoKHRoaXMudGhlbWUpLG51bGwhPT10aGlzLnVuc3Vic2NyaWJlSWQmJncuZGVmYXVsdC51bnN1YnNjcmliZSh0aGlzLmNvbnRleHQsdGhpcy51bnN1YnNjcmliZUlkKX19LHtrZXk6XCJnZXRDbGFzc2VzXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmRpc2FibGVTdHlsZXNHZW5lcmF0aW9uKXJldHVybiB0aGlzLnByb3BzLmNsYXNzZXN8fHt9O3ZhciBlPSExLHQ9eC5kZWZhdWx0LmdldCh0aGlzLnNoZWV0c01hbmFnZXIsdGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQsdGhpcy50aGVtZSk7cmV0dXJuIHQuc2hlZXQuY2xhc3NlcyE9PXRoaXMuY2FjaGVDbGFzc2VzLmxhc3RKU1MmJih0aGlzLmNhY2hlQ2xhc3Nlcy5sYXN0SlNTPXQuc2hlZXQuY2xhc3NlcyxlPSEwKSx0aGlzLnByb3BzLmNsYXNzZXMhPT10aGlzLmNhY2hlQ2xhc3Nlcy5sYXN0UHJvcCYmKHRoaXMuY2FjaGVDbGFzc2VzLmxhc3RQcm9wPXRoaXMucHJvcHMuY2xhc3NlcyxlPSEwKSxlJiYodGhpcy5jYWNoZUNsYXNzZXMudmFsdWU9KDAsdi5kZWZhdWx0KSh7YmFzZUNsYXNzZXM6dGhpcy5jYWNoZUNsYXNzZXMubGFzdEpTUyxuZXdDbGFzc2VzOnRoaXMucHJvcHMuY2xhc3NlcyxDb21wb25lbnQ6bn0pKSx0aGlzLmNhY2hlQ2xhc3Nlcy52YWx1ZX19LHtrZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighdGhpcy5kaXNhYmxlU3R5bGVzR2VuZXJhdGlvbil7dmFyIHQ9dGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQsbj14LmRlZmF1bHQuZ2V0KHRoaXMuc2hlZXRzTWFuYWdlcix0LGUpO2lmKG58fChuPXtyZWZzOjAsc2hlZXQ6bnVsbH0seC5kZWZhdWx0LnNldCh0aGlzLnNoZWV0c01hbmFnZXIsdCxlLG4pKSwwPT09bi5yZWZzKXt2YXIgaTt0aGlzLnNoZWV0c0NhY2hlJiYoaT14LmRlZmF1bHQuZ2V0KHRoaXMuc2hlZXRzQ2FjaGUsdCxlKSksaXx8KChpPXRoaXMuY3JlYXRlU2hlZXQoZSkpLmF0dGFjaCgpLHRoaXMuc2hlZXRzQ2FjaGUmJnguZGVmYXVsdC5zZXQodGhpcy5zaGVldHNDYWNoZSx0LGUsaSkpLG4uc2hlZXQ9aTt2YXIgcj10aGlzLmNvbnRleHRbeS5kZWZhdWx0LnNoZWV0c1JlZ2lzdHJ5XTtyJiZyLmFkZChpKX1uLnJlZnMrPTF9fX0se2tleTpcImNyZWF0ZVNoZWV0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQuY3JlYXRlKGUsVCksaT1UO3JldHVybiB0aGlzLmpzcy5jcmVhdGVTdHlsZVNoZWV0KHQsKDAsby5kZWZhdWx0KSh7bWV0YTppLGNsYXNzTmFtZVByZWZpeDppLGZsaXA6XCJib29sZWFuXCI9PXR5cGVvZiBiP2I6XCJydGxcIj09PWUuZGlyZWN0aW9uLGxpbms6ITF9LHRoaXMuc2hlZXRPcHRpb25zLHRoaXMuc3R5bGVzQ3JlYXRvclNhdmVkLm9wdGlvbnMse25hbWU6VHx8bi5kaXNwbGF5TmFtZX0seikpfX0se2tleTpcImRldGFjaFwiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCF0aGlzLmRpc2FibGVTdHlsZXNHZW5lcmF0aW9uKXt2YXIgdD14LmRlZmF1bHQuZ2V0KHRoaXMuc2hlZXRzTWFuYWdlcix0aGlzLnN0eWxlc0NyZWF0b3JTYXZlZCxlKTtpZih0LnJlZnMtPTEsMD09PXQucmVmcyl7eC5kZWZhdWx0LmRlbGV0ZSh0aGlzLnNoZWV0c01hbmFnZXIsdGhpcy5zdHlsZXNDcmVhdG9yU2F2ZWQsZSksdGhpcy5qc3MucmVtb3ZlU3R5bGVTaGVldCh0LnNoZWV0KTt2YXIgbj10aGlzLmNvbnRleHRbeS5kZWZhdWx0LnNoZWV0c1JlZ2lzdHJ5XTtuJiZuLnJlbW92ZSh0LnNoZWV0KX19fX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PShlLmNsYXNzZXMsZS5pbm5lclJlZiksaT0oMCxoLmRlZmF1bHQpKGUsW1wiY2xhc3Nlc1wiLFwiaW5uZXJSZWZcIl0pLHI9KDAsUy5kZWZhdWx0KSh7dGhlbWU6dGhpcy50aGVtZSxuYW1lOlQscHJvcHM6aX0pO3JldHVybiBnJiYhci50aGVtZSYmKHIudGhlbWU9dGhpcy50aGVtZSksZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQobiwoMCxvLmRlZmF1bHQpKHt9LHIse2NsYXNzZXM6dGhpcy5nZXRDbGFzc2VzKCkscmVmOnR9KSl9fV0pLHR9KGQuZGVmYXVsdC5Db21wb25lbnQpO3JldHVybiBPLmNvbnRleHRUeXBlcz0oMCxvLmRlZmF1bHQpKChpPXttdWlUaGVtZVByb3ZpZGVyT3B0aW9uczpwLmRlZmF1bHQub2JqZWN0fSwoMCxyLmRlZmF1bHQpKGkseS5kZWZhdWx0LmpzcyxwLmRlZmF1bHQub2JqZWN0KSwoMCxyLmRlZmF1bHQpKGkseS5kZWZhdWx0LnNoZWV0T3B0aW9ucyxwLmRlZmF1bHQub2JqZWN0KSwoMCxyLmRlZmF1bHQpKGkseS5kZWZhdWx0LnNoZWV0c1JlZ2lzdHJ5LHAuZGVmYXVsdC5vYmplY3QpLGkpLEw/dy5kZWZhdWx0LmNvbnRleHRUeXBlczp7fSksKDAsZi5kZWZhdWx0KShPLG4pLE99fSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFN0eWxlcyhlLCgwLG8uZGVmYXVsdCkoe2RlZmF1bHRUaGVtZTpQfSx0KSl9fSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oNDIpO2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIHI9dFtuXTtyLmVudW1lcmFibGU9ci5lbnVtZXJhYmxlfHwhMSxyLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiByJiYoci53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaShyLmtleSkscil9fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQmJnIoZS5wcm90b3R5cGUsdCksbiYmcihlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSksZX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7dmFyIGk9bigxNSkuZGVmYXVsdCxyPW4oMzMpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKHQmJihcIm9iamVjdFwiPT09aSh0KXx8XCJmdW5jdGlvblwiPT10eXBlb2YgdCkpcmV0dXJuIHQ7aWYodm9pZCAwIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRGVyaXZlZCBjb25zdHJ1Y3RvcnMgbWF5IG9ubHkgcmV0dXJuIG9iamVjdCBvciB1bmRlZmluZWRcIik7cmV0dXJuIHIoZSl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiBuKHQpe3JldHVybiBlLmV4cG9ydHM9bj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlKXtyZXR1cm4gZS5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihlKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzLG4odCl9ZS5leHBvcnRzPW4sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7dmFyIGk9big1OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pLHQmJmkoZSx0KX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4odCl7cmV0dXJuIGUuZXhwb3J0cz1uPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0cyxuKHQpfWUuZXhwb3J0cz1uLGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jYXBpdGFsaXplPWZ1bmN0aW9uKGUpezA7cmV0dXJuIGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKX0sdC5jb250YWlucz1vLHQuZmluZEluZGV4PWEsdC5maW5kPWZ1bmN0aW9uKGUsdCl7dmFyIG49YShlLHQpO3JldHVybiBuPi0xP2Vbbl06dm9pZCAwfSx0LmNyZWF0ZUNoYWluZWRGdW5jdGlvbj1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09dD9lOmZ1bmN0aW9uKCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkobikscj0wO3I8bjtyKyspaVtyXT1hcmd1bWVudHNbcl07ZS5hcHBseSh0aGlzLGkpLHQuYXBwbHkodGhpcyxpKX19KSwoZnVuY3Rpb24oKXt9KSl9O3ZhciByPWkobigxNSkpO2kobig2KSk7ZnVuY3Rpb24gbyhlLHQpe3JldHVybiBPYmplY3Qua2V5cyh0KS5ldmVyeSgoZnVuY3Rpb24obil7cmV0dXJuIGUuaGFzT3duUHJvcGVydHkobikmJmVbbl09PT10W25dfSkpfWZ1bmN0aW9uIGEoZSx0KXtmb3IodmFyIG49KDAsci5kZWZhdWx0KSh0KSxpPTA7aTxlLmxlbmd0aDtpKz0xKXtpZihcImZ1bmN0aW9uXCI9PT1uJiYhMD09ISF0KGVbaV0saSxlKSlyZXR1cm4gaTtpZihcIm9iamVjdFwiPT09biYmbyhlW2ldLHQpKXJldHVybiBpO2lmKC0xIT09W1wic3RyaW5nXCIsXCJudW1iZXJcIixcImJvb2xlYW5cIl0uaW5kZXhPZihuKSlyZXR1cm4gZS5pbmRleE9mKHQpfXJldHVybi0xfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2UuZXhwb3J0cz1mdW5jdGlvbigpe319LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciBpIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4saSkmJihlW2ldPW5baV0pfXJldHVybiBlfSxyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxhPWMobigxNykpLHM9YyhuKDMwKSksbD1jKG4oMjMpKTtmdW5jdGlvbiBjKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLGkpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy50eXBlPVwic3R5bGVcIix0aGlzLmlzUHJvY2Vzc2VkPSExO3ZhciByPWkuc2hlZXQsbz1pLlJlbmRlcmVyLGE9aS5zZWxlY3Rvcjt0aGlzLmtleT10LHRoaXMub3B0aW9ucz1pLHRoaXMuc3R5bGU9bixhJiYodGhpcy5zZWxlY3RvclRleHQ9YSksdGhpcy5yZW5kZXJlcj1yP3IucmVuZGVyZXI6bmV3IG99cmV0dXJuIG8oZSxbe2tleTpcInByb3BcIix2YWx1ZTpmdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQpcmV0dXJuIHRoaXMuc3R5bGVbZV07aWYodGhpcy5zdHlsZVtlXT09PXQpcmV0dXJuIHRoaXM7dmFyIG49bnVsbD09KHQ9dGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zLm9uQ2hhbmdlVmFsdWUodCxlLHRoaXMpKXx8ITE9PT10LGk9ZSBpbiB0aGlzLnN0eWxlO2lmKG4mJiFpKXJldHVybiB0aGlzO3ZhciByPW4mJmk7aWYocj9kZWxldGUgdGhpcy5zdHlsZVtlXTp0aGlzLnN0eWxlW2VdPXQsdGhpcy5yZW5kZXJhYmxlKXJldHVybiByP3RoaXMucmVuZGVyZXIucmVtb3ZlUHJvcGVydHkodGhpcy5yZW5kZXJhYmxlLGUpOnRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkodGhpcy5yZW5kZXJhYmxlLGUsdCksdGhpczt2YXIgbz10aGlzLm9wdGlvbnMuc2hlZXQ7cmV0dXJuIG8mJm8uYXR0YWNoZWQmJigwLGEuZGVmYXVsdCkoITEsJ1J1bGUgaXMgbm90IGxpbmtlZC4gTWlzc2luZyBzaGVldCBvcHRpb24gXCJsaW5rOiB0cnVlXCIuJyksdGhpc319LHtrZXk6XCJhcHBseVRvXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy50b0pTT04oKTtmb3IodmFyIG4gaW4gdCl0aGlzLnJlbmRlcmVyLnNldFByb3BlcnR5KGUsbix0W25dKTtyZXR1cm4gdGhpc319LHtrZXk6XCJ0b0pTT05cIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXt9O2Zvcih2YXIgdCBpbiB0aGlzLnN0eWxlKXt2YXIgbj10aGlzLnN0eWxlW3RdO1wib2JqZWN0XCIhPT0odm9pZCAwPT09bj9cInVuZGVmaW5lZFwiOnIobikpP2VbdF09bjpBcnJheS5pc0FycmF5KG4pJiYoZVt0XT0oMCxsLmRlZmF1bHQpKG4pKX1yZXR1cm4gZX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMub3B0aW9ucy5zaGVldCxuPSEhdCYmdC5vcHRpb25zLmxpbms/aSh7fSxlLHthbGxvd0VtcHR5OiEwfSk6ZTtyZXR1cm4oMCxzLmRlZmF1bHQpKHRoaXMuc2VsZWN0b3IsdGhpcy5zdHlsZSxuKX19LHtrZXk6XCJzZWxlY3RvclwiLHNldDpmdW5jdGlvbihlKXtpZihlIT09dGhpcy5zZWxlY3RvclRleHQmJih0aGlzLnNlbGVjdG9yVGV4dD1lLHRoaXMucmVuZGVyYWJsZSYmIXRoaXMucmVuZGVyZXIuc2V0U2VsZWN0b3IodGhpcy5yZW5kZXJhYmxlLGUpJiZ0aGlzLnJlbmRlcmFibGUpKXt2YXIgdD10aGlzLnJlbmRlcmVyLnJlcGxhY2VSdWxlKHRoaXMucmVuZGVyYWJsZSx0aGlzKTt0JiYodGhpcy5yZW5kZXJhYmxlPXQpfX0sZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0b3JUZXh0fX1dKSxlfSgpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7IWZ1bmN0aW9uIGUoKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18uY2hlY2tEQ0UpezA7dHJ5e19fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRShlKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpfX19KCksZS5leHBvcnRzPW4oNzApfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiYoZVtpXT1uW2ldKX1yZXR1cm4gZX0scj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLG89YyhuKDI0KSksYT1jKG4oNTUpKSxzPWMobigxOCkpLGw9YyhuKDk3KSk7ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBuPXRoaXM7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLm1hcD17fSx0aGlzLnJhdz17fSx0aGlzLmluZGV4PVtdLHRoaXMudXBkYXRlPWZ1bmN0aW9uKGUsdCl7dmFyIGk9bi5vcHRpb25zLHI9aS5qc3MucGx1Z2lucyxvPWkuc2hlZXQ7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpci5vblVwZGF0ZSh0LG4uZ2V0KGUpLG8pO2Vsc2UgZm9yKHZhciBhPTA7YTxuLmluZGV4Lmxlbmd0aDthKyspci5vblVwZGF0ZShlLG4uaW5kZXhbYV0sbyl9LHRoaXMub3B0aW9ucz10LHRoaXMuY2xhc3Nlcz10LmNsYXNzZXN9cmV0dXJuIHIoZSxbe2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10aGlzLm9wdGlvbnMsYT1yLnBhcmVudCxjPXIuc2hlZXQsdT1yLmpzcyxoPXIuUmVuZGVyZXIsZD1yLmdlbmVyYXRlQ2xhc3NOYW1lOyEobj1pKHtjbGFzc2VzOnRoaXMuY2xhc3NlcyxwYXJlbnQ6YSxzaGVldDpjLGpzczp1LFJlbmRlcmVyOmgsZ2VuZXJhdGVDbGFzc05hbWU6ZH0sbikpLnNlbGVjdG9yJiZ0aGlzLmNsYXNzZXNbZV0mJihuLnNlbGVjdG9yPVwiLlwiKygwLGwuZGVmYXVsdCkodGhpcy5jbGFzc2VzW2VdKSksdGhpcy5yYXdbZV09dDt2YXIgcD0oMCxvLmRlZmF1bHQpKGUsdCxuKSxmPXZvaWQgMDshbi5zZWxlY3RvciYmcCBpbnN0YW5jZW9mIHMuZGVmYXVsdCYmKGY9ZChwLGMpLHAuc2VsZWN0b3I9XCIuXCIrKDAsbC5kZWZhdWx0KShmKSksdGhpcy5yZWdpc3RlcihwLGYpO3ZhciBtPXZvaWQgMD09PW4uaW5kZXg/dGhpcy5pbmRleC5sZW5ndGg6bi5pbmRleDtyZXR1cm4gdGhpcy5pbmRleC5zcGxpY2UobSwwLHApLHB9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMubWFwW2VdfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMudW5yZWdpc3RlcihlKSx0aGlzLmluZGV4LnNwbGljZSh0aGlzLmluZGV4T2YoZSksMSl9fSx7a2V5OlwiaW5kZXhPZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmluZGV4LmluZGV4T2YoZSl9fSx7a2V5OlwicHJvY2Vzc1wiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5vcHRpb25zLmpzcy5wbHVnaW5zO3RoaXMuaW5kZXguc2xpY2UoMCkuZm9yRWFjaChlLm9uUHJvY2Vzc1J1bGUsZSl9fSx7a2V5OlwicmVnaXN0ZXJcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMubWFwW2Uua2V5XT1lLGUgaW5zdGFuY2VvZiBzLmRlZmF1bHQmJih0aGlzLm1hcFtlLnNlbGVjdG9yXT1lLHQmJih0aGlzLmNsYXNzZXNbZS5rZXldPXQpKX19LHtrZXk6XCJ1bnJlZ2lzdGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMubWFwW2Uua2V5XSxlIGluc3RhbmNlb2Ygcy5kZWZhdWx0JiYoZGVsZXRlIHRoaXMubWFwW2Uuc2VsZWN0b3JdLGRlbGV0ZSB0aGlzLmNsYXNzZXNbZS5rZXldKX19LHtrZXk6XCJsaW5rXCIsdmFsdWU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMub3B0aW9ucy5zaGVldC5yZW5kZXJlci5nZXRVbmVzY2FwZWRLZXlzTWFwKHRoaXMuaW5kZXgpLG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXSxyPXRoaXMub3B0aW9ucy5zaGVldC5yZW5kZXJlci5nZXRLZXkoaSk7dFtyXSYmKHI9dFtyXSk7dmFyIG89dGhpcy5tYXBbcl07byYmKDAsYS5kZWZhdWx0KShvLGkpfX19LHtrZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1cIlwiLG49dGhpcy5vcHRpb25zLnNoZWV0LGk9ISFuJiZuLm9wdGlvbnMubGluayxyPTA7cjx0aGlzLmluZGV4Lmxlbmd0aDtyKyspe3ZhciBvPXRoaXMuaW5kZXhbcl0udG9TdHJpbmcoZSk7KG98fGkpJiYodCYmKHQrPVwiXFxuXCIpLHQrPW8pfXJldHVybiB0fX1dKSxlfSgpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZU11aVRoZW1lXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG8uZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImpzc1ByZXNldFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBhLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJNdWlUaGVtZVByb3ZpZGVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHMuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNyZWF0ZVN0eWxlc1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBsLmRlZmF1bHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJ3aXRoU3R5bGVzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIndpdGhUaGVtZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB1LmRlZmF1bHR9fSk7dmFyIHI9aShuKDQxKSksbz1pKG4oMjkpKSxhPWkobig1MSkpLHM9aShuKDEyMykpLGw9aShuKDEyOCkpLGM9aShuKDkpKSx1PWkobigxMzQpKX0sZnVuY3Rpb24oZSx0LG4peyFmdW5jdGlvbih0LG4pe2UuZXhwb3J0cz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hIWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfShlKSYmIWZ1bmN0aW9uKGUpe3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKTtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09bnx8XCJbb2JqZWN0IERhdGVdXCI9PT1ufHxmdW5jdGlvbihlKXtyZXR1cm4gZS4kJHR5cGVvZj09PXR9KGUpfShlKX07dmFyIHQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzO2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4hMSE9PXQuY2xvbmUmJnQuaXNNZXJnZWFibGVPYmplY3QoZSk/YShmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9bXTp7fX0oZSksZSx0KTplfWZ1bmN0aW9uIGkoZSx0LGkpe3JldHVybiBlLmNvbmNhdCh0KS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsaSl9KSl9ZnVuY3Rpb24gcihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuY29uY2F0KGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP09iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSh0KX0pKTpbXX0oZSkpfWZ1bmN0aW9uIG8oZSx0LGkpe3ZhciBvPXt9O3JldHVybiBpLmlzTWVyZ2VhYmxlT2JqZWN0KGUpJiZyKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe29bdF09bihlW3RdLGkpfSkpLHIodCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7aS5pc01lcmdlYWJsZU9iamVjdCh0W3JdKSYmZVtyXT9vW3JdPWZ1bmN0aW9uKGUsdCl7aWYoIXQuY3VzdG9tTWVyZ2UpcmV0dXJuIGE7dmFyIG49dC5jdXN0b21NZXJnZShlKTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP246YX0ocixpKShlW3JdLHRbcl0saSk6b1tyXT1uKHRbcl0saSl9KSksb31mdW5jdGlvbiBhKHQscixhKXsoYT1hfHx7fSkuYXJyYXlNZXJnZT1hLmFycmF5TWVyZ2V8fGksYS5pc01lcmdlYWJsZU9iamVjdD1hLmlzTWVyZ2VhYmxlT2JqZWN0fHxlO3ZhciBzPUFycmF5LmlzQXJyYXkocik7cmV0dXJuIHM9PT1BcnJheS5pc0FycmF5KHQpP3M/YS5hcnJheU1lcmdlKHQscixhKTpvKHQscixhKTpuKHIsYSl9cmV0dXJuIGEuYWxsPWZ1bmN0aW9uKGUsdCl7aWYoIUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKFwiZmlyc3QgYXJndW1lbnQgc2hvdWxkIGJlIGFuIGFycmF5XCIpO3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gYShlLG4sdCl9KSx7fSl9LGF9KCl9KCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtpZighQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTt2YXIgbj1cIlwiO2lmKEFycmF5LmlzQXJyYXkoZVswXSkpZm9yKHZhciByPTA7cjxlLmxlbmd0aCYmXCIhaW1wb3J0YW50XCIhPT1lW3JdO3IrKyluJiYobis9XCIsIFwiKSxuKz1pKGVbcl0sXCIgXCIpO2Vsc2Ugbj1pKGUsXCIsIFwiKTt0fHxcIiFpbXBvcnRhbnRcIiE9PWVbZS5sZW5ndGgtMV18fChuKz1cIiAhaW1wb3J0YW50XCIpO3JldHVybiBufTt2YXIgaT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1cIlwiLGk9MDtpPGUubGVuZ3RoJiZcIiFpbXBvcnRhbnRcIiE9PWVbaV07aSsrKW4mJihuKz10KSxuKz1lW2ldO3JldHVybiBufX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpcInVubmFtZWRcIix0PWFyZ3VtZW50c1sxXSxuPWFyZ3VtZW50c1syXSxhPW4uanNzLHM9KDAsby5kZWZhdWx0KSh0KSxsPWEucGx1Z2lucy5vbkNyZWF0ZVJ1bGUoZSxzLG4pO2lmKGwpcmV0dXJuIGw7XCJAXCI9PT1lWzBdJiYoMCxpLmRlZmF1bHQpKCExLFwiW0pTU10gVW5rbm93biBhdC1ydWxlICVzXCIsZSk7cmV0dXJuIG5ldyByLmRlZmF1bHQoZSxzLG4pfTt2YXIgaT1hKG4oMTcpKSxyPWEobigxOCkpLG89YShuKDk0KSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19fSxmdW5jdGlvbihlLHQpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWNhdGNoKGUpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihuPXdpbmRvdyl9ZS5leHBvcnRzPW59LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtuLnIodCksbi5kKHQsXCJpc0Jyb3dzZXJcIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKTt2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSxyPVwib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz9cInVuZGVmaW5lZFwiOmkod2luZG93KSkmJlwib2JqZWN0XCI9PT0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIGRvY3VtZW50P1widW5kZWZpbmVkXCI6aShkb2N1bWVudCkpJiY5PT09ZG9jdW1lbnQubm9kZVR5cGU7dC5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmRlZmF1bHR9fSk7dmFyIHI9aShuKDEzNykpfSwsZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDtpKG4oNSkpO3ZhciByPWkobigyKSksbz1pKG4oNCkpLGE9aShuKDIyKSkscz1pKG4oNzUpKSxsPShpKG4oNikpLGkobig3NykpKSxjPWkobig3OCkpLHU9aShuKDc5KSksaD1pKG4oODQpKSxkPWkobig4NikpLHA9aShuKDg3KSksZj1pKG4oODgpKSxtPWkobig4OSkpLGc9aShuKDkwKSk7dmFyIHk9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmJyZWFrcG9pbnRzLG49dm9pZCAwPT09dD97fTp0LGk9ZS5taXhpbnMseT12b2lkIDA9PT1pP3t9OmksXz1lLnBhbGV0dGUsdj12b2lkIDA9PT1fP3t9Ol8seD1lLnNoYWRvd3MsYj1lLnNwYWNpbmcsdz12b2lkIDA9PT1iP3t9OmIsVD1lLnR5cG9ncmFwaHksRT12b2lkIDA9PT1UP3t9OlQsUz0oMCxvLmRlZmF1bHQpKGUsW1wiYnJlYWtwb2ludHNcIixcIm1peGluc1wiLFwicGFsZXR0ZVwiLFwic2hhZG93c1wiLFwic3BhY2luZ1wiLFwidHlwb2dyYXBoeVwiXSksTT0oMCx1LmRlZmF1bHQpKHYpLEk9KDAsbC5kZWZhdWx0KShuKSxDPSgwLHIuZGVmYXVsdCkoe30sZi5kZWZhdWx0LHcpLGs9KDAsci5kZWZhdWx0KSh7YnJlYWtwb2ludHM6SSxkaXJlY3Rpb246XCJsdHJcIixtaXhpbnM6KDAsYy5kZWZhdWx0KShJLEMseSksb3ZlcnJpZGVzOnt9LHBhbGV0dGU6TSxwcm9wczp7fSxzaGFkb3dzOnh8fGQuZGVmYXVsdCx0eXBvZ3JhcGh5OigwLGguZGVmYXVsdCkoTSxFKX0sKDAsYS5kZWZhdWx0KSh7c2hhcGU6cC5kZWZhdWx0LHNwYWNpbmc6Qyx0cmFuc2l0aW9uczptLmRlZmF1bHQsekluZGV4OmcuZGVmYXVsdH0sUyx7aXNNZXJnZWFibGVPYmplY3Q6cy5kZWZhdWx0fSkpO3JldHVybiBrfTt0LmRlZmF1bHQ9eX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxvPVwiXCI7aWYoIXQpcmV0dXJuIG87dmFyIGE9bi5pbmRlbnQscz12b2lkIDA9PT1hPzA6YSxsPXQuZmFsbGJhY2tzO2lmKHMrKyxsKWlmKEFycmF5LmlzQXJyYXkobCkpZm9yKHZhciBjPTA7YzxsLmxlbmd0aDtjKyspe3ZhciB1PWxbY107Zm9yKHZhciBoIGluIHUpe3ZhciBkPXVbaF07bnVsbCE9ZCYmKG8rPVwiXFxuXCIrcihoK1wiOiBcIisoMCxpLmRlZmF1bHQpKGQpK1wiO1wiLHMpKX19ZWxzZSBmb3IodmFyIHAgaW4gbCl7dmFyIGY9bFtwXTtudWxsIT1mJiYobys9XCJcXG5cIityKHArXCI6IFwiKygwLGkuZGVmYXVsdCkoZikrXCI7XCIscykpfWZvcih2YXIgbSBpbiB0KXt2YXIgZz10W21dO251bGwhPWcmJlwiZmFsbGJhY2tzXCIhPT1tJiYobys9XCJcXG5cIityKG0rXCI6IFwiKygwLGkuZGVmYXVsdCkoZykrXCI7XCIscykpfXJldHVybiBvfHxuLmFsbG93RW1wdHk/KHMtLSxvPXIoZStcIiB7XCIrbytcIlxcblwiLHMpK3IoXCJ9XCIscykpOm99O3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigyMykpO2Z1bmN0aW9uIHIoZSx0KXtmb3IodmFyIG49XCJcIixpPTA7aTx0O2krKyluKz1cIiAgXCI7cmV0dXJuIG4rZX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4oNTMpKTt0LmRlZmF1bHQ9bmV3IGkuZGVmYXVsdH0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPVwiXCIscj1cIlwiO2lmKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigyNikpLmRlZmF1bHQpe3ZhciBvPXtNb3o6XCItbW96LVwiLG1zOlwiLW1zLVwiLE86XCItby1cIixXZWJraXQ6XCItd2Via2l0LVwifSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpLnN0eWxlO2Zvcih2YXIgcyBpbiBvKWlmKHMrXCJUcmFuc2Zvcm1cImluIGEpe2k9cyxyPW9bc107YnJlYWt9fXQuZGVmYXVsdD17anM6aSxjc3M6cn19LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LkNIQU5ORUw9dm9pZCAwO3ZhciByPWkobig1KSksbz1cIl9fVEhFTUlOR19fXCI7dC5DSEFOTkVMPW87dmFyIGE9e2NvbnRleHRUeXBlczooMCxyLmRlZmF1bHQpKHt9LG8sKGZ1bmN0aW9uKCl7fSkpLGluaXRpYWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGVbb10/ZVtvXS5nZXRTdGF0ZSgpOm51bGx9LHN1YnNjcmliZTpmdW5jdGlvbihlLHQpe3JldHVybiBlW29dP2Vbb10uc3Vic2NyaWJlKHQpOm51bGx9LHVuc3Vic2NyaWJlOmZ1bmN0aW9uKGUsdCl7ZVtvXSYmZVtvXS51bnN1YnNjcmliZSh0KX19O3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9big0Nikscj17Y2hpbGRDb250ZXh0VHlwZXM6ITAsY29udGV4dFR5cGU6ITAsY29udGV4dFR5cGVzOiEwLGRlZmF1bHRQcm9wczohMCxkaXNwbGF5TmFtZTohMCxnZXREZWZhdWx0UHJvcHM6ITAsZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yOiEwLGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczohMCxtaXhpbnM6ITAscHJvcFR5cGVzOiEwLHR5cGU6ITB9LG89e25hbWU6ITAsbGVuZ3RoOiEwLHByb3RvdHlwZTohMCxjYWxsZXI6ITAsY2FsbGVlOiEwLGFyZ3VtZW50czohMCxhcml0eTohMH0sYT17JCR0eXBlb2Y6ITAsY29tcGFyZTohMCxkZWZhdWx0UHJvcHM6ITAsZGlzcGxheU5hbWU6ITAscHJvcFR5cGVzOiEwLHR5cGU6ITB9LHM9e307ZnVuY3Rpb24gbChlKXtyZXR1cm4gaS5pc01lbW8oZSk/YTpzW2UuJCR0eXBlb2ZdfHxyfXNbaS5Gb3J3YXJkUmVmXT17JCR0eXBlb2Y6ITAscmVuZGVyOiEwLGRlZmF1bHRQcm9wczohMCxkaXNwbGF5TmFtZTohMCxwcm9wVHlwZXM6ITB9LHNbaS5NZW1vXT1hO3ZhciBjPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSx1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLGg9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IscD1PYmplY3QuZ2V0UHJvdG90eXBlT2YsZj1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbiBlKHQsbixpKXtpZihcInN0cmluZ1wiIT10eXBlb2Ygbil7aWYoZil7dmFyIHI9cChuKTtyJiZyIT09ZiYmZSh0LHIsaSl9dmFyIGE9dShuKTtoJiYoYT1hLmNvbmNhdChoKG4pKSk7Zm9yKHZhciBzPWwodCksbT1sKG4pLGc9MDtnPGEubGVuZ3RoOysrZyl7dmFyIHk9YVtnXTtpZighKG9beV18fGkmJmlbeV18fG0mJm1beV18fHMmJnNbeV0pKXt2YXIgXz1kKG4seSk7dHJ5e2ModCx5LF8pfWNhdGNoKGUpe319fX1yZXR1cm4gdH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmRlZmF1bHR9fSk7dmFyIHI9aShuKDE0NCkpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcCgoZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgbj1lWzFdfHxcIlwiLGk9ZVszXTtpZighaSlyZXR1cm4gbjtpZih0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hKXt2YXIgcj1mdW5jdGlvbihlKXtyZXR1cm5cIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShlKSkpKStcIiAqL1wifShpKSxvPWkuc291cmNlcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIitpLnNvdXJjZVJvb3QrZStcIiAqL1wifSkpO3JldHVybltuXS5jb25jYXQobykuY29uY2F0KFtyXSkuam9pbihcIlxcblwiKX1yZXR1cm5bbl0uam9pbihcIlxcblwiKX0odCxlKTtyZXR1cm4gdFsyXT9cIkBtZWRpYSBcIit0WzJdK1wie1wiK24rXCJ9XCI6bn0pKS5qb2luKFwiXCIpfSx0Lmk9ZnVuY3Rpb24oZSxuKXtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9W1tudWxsLGUsXCJcIl1dKTtmb3IodmFyIGk9e30scj0wO3I8dGhpcy5sZW5ndGg7cisrKXt2YXIgbz10aGlzW3JdWzBdO1wibnVtYmVyXCI9PXR5cGVvZiBvJiYoaVtvXT0hMCl9Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGE9ZVtyXTtcIm51bWJlclwiPT10eXBlb2YgYVswXSYmaVthWzBdXXx8KG4mJiFhWzJdP2FbMl09bjpuJiYoYVsyXT1cIihcIithWzJdK1wiKSBhbmQgKFwiK24rXCIpXCIpLHQucHVzaChhKSl9fSx0fX0sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXt9LHI9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKSx0fX0oKGZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdyYmZG9jdW1lbnQmJmRvY3VtZW50LmFsbCYmIXdpbmRvdy5hdG9ifSkpLG89ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD90LnF1ZXJ5U2VsZWN0b3IoZSk6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKX0sYT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gZnVuY3Rpb24oZSxuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBlKCk7aWYodm9pZCAwPT09dFtlXSl7dmFyIGk9by5jYWxsKHRoaXMsZSxuKTtpZih3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQmJmkgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpdHJ5e2k9aS5jb250ZW50RG9jdW1lbnQuaGVhZH1jYXRjaChlKXtpPW51bGx9dFtlXT1pfXJldHVybiB0W2VdfX0oKSxzPW51bGwsbD0wLGM9W10sdT1uKDE0OSk7ZnVuY3Rpb24gaChlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dLG89aVtyLmlkXTtpZihvKXtvLnJlZnMrKztmb3IodmFyIGE9MDthPG8ucGFydHMubGVuZ3RoO2ErKylvLnBhcnRzW2FdKHIucGFydHNbYV0pO2Zvcig7YTxyLnBhcnRzLmxlbmd0aDthKyspby5wYXJ0cy5wdXNoKHkoci5wYXJ0c1thXSx0KSl9ZWxzZXt2YXIgcz1bXTtmb3IoYT0wO2E8ci5wYXJ0cy5sZW5ndGg7YSsrKXMucHVzaCh5KHIucGFydHNbYV0sdCkpO2lbci5pZF09e2lkOnIuaWQscmVmczoxLHBhcnRzOnN9fX19ZnVuY3Rpb24gZChlLHQpe2Zvcih2YXIgbj1bXSxpPXt9LHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89ZVtyXSxhPXQuYmFzZT9vWzBdK3QuYmFzZTpvWzBdLHM9e2NzczpvWzFdLG1lZGlhOm9bMl0sc291cmNlTWFwOm9bM119O2lbYV0/aVthXS5wYXJ0cy5wdXNoKHMpOm4ucHVzaChpW2FdPXtpZDphLHBhcnRzOltzXX0pfXJldHVybiBufWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj1hKGUuaW5zZXJ0SW50byk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7dmFyIGk9Y1tjLmxlbmd0aC0xXTtpZihcInRvcFwiPT09ZS5pbnNlcnRBdClpP2kubmV4dFNpYmxpbmc/bi5pbnNlcnRCZWZvcmUodCxpLm5leHRTaWJsaW5nKTpuLmFwcGVuZENoaWxkKHQpOm4uaW5zZXJ0QmVmb3JlKHQsbi5maXJzdENoaWxkKSxjLnB1c2godCk7ZWxzZSBpZihcImJvdHRvbVwiPT09ZS5pbnNlcnRBdCluLmFwcGVuZENoaWxkKHQpO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGUuaW5zZXJ0QXR8fCFlLmluc2VydEF0LmJlZm9yZSl0aHJvdyBuZXcgRXJyb3IoXCJbU3R5bGUgTG9hZGVyXVxcblxcbiBJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0JyAoJ29wdGlvbnMuaW5zZXJ0QXQnKSBmb3VuZC5cXG4gTXVzdCBiZSAndG9wJywgJ2JvdHRvbScsIG9yIE9iamVjdC5cXG4gKGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyI2luc2VydGF0KVxcblwiKTt2YXIgcj1hKGUuaW5zZXJ0QXQuYmVmb3JlLG4pO24uaW5zZXJ0QmVmb3JlKHQscil9fWZ1bmN0aW9uIGYoZSl7aWYobnVsbD09PWUucGFyZW50Tm9kZSlyZXR1cm4hMTtlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7dmFyIHQ9Yy5pbmRleE9mKGUpO3Q+PTAmJmMuc3BsaWNlKHQsMSl9ZnVuY3Rpb24gbShlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7aWYodm9pZCAwPT09ZS5hdHRycy50eXBlJiYoZS5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksdm9pZCAwPT09ZS5hdHRycy5ub25jZSl7dmFyIGk9ZnVuY3Rpb24oKXswO3JldHVybiBuLm5jfSgpO2kmJihlLmF0dHJzLm5vbmNlPWkpfXJldHVybiBnKHQsZS5hdHRycykscChlLHQpLHR9ZnVuY3Rpb24gZyhlLHQpe09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Uuc2V0QXR0cmlidXRlKG4sdFtuXSl9KSl9ZnVuY3Rpb24geShlLHQpe3ZhciBuLGkscixvO2lmKHQudHJhbnNmb3JtJiZlLmNzcyl7aWYoIShvPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQudHJhbnNmb3JtP3QudHJhbnNmb3JtKGUuY3NzKTp0LnRyYW5zZm9ybS5kZWZhdWx0KGUuY3NzKSkpcmV0dXJuIGZ1bmN0aW9uKCl7fTtlLmNzcz1vfWlmKHQuc2luZ2xldG9uKXt2YXIgYT1sKys7bj1zfHwocz1tKHQpKSxpPXYuYmluZChudWxsLG4sYSwhMSkscj12LmJpbmQobnVsbCxuLGEsITApfWVsc2UgZS5zb3VyY2VNYXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYT8obj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtyZXR1cm4gdm9pZCAwPT09ZS5hdHRycy50eXBlJiYoZS5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksZS5hdHRycy5yZWw9XCJzdHlsZXNoZWV0XCIsZyh0LGUuYXR0cnMpLHAoZSx0KSx0fSh0KSxpPWIuYmluZChudWxsLG4sdCkscj1mdW5jdGlvbigpe2Yobiksbi5ocmVmJiZVUkwucmV2b2tlT2JqZWN0VVJMKG4uaHJlZil9KToobj1tKHQpLGk9eC5iaW5kKG51bGwsbikscj1mdW5jdGlvbigpe2Yobil9KTtyZXR1cm4gaShlKSxmdW5jdGlvbih0KXtpZih0KXtpZih0LmNzcz09PWUuY3NzJiZ0Lm1lZGlhPT09ZS5tZWRpYSYmdC5zb3VyY2VNYXA9PT1lLnNvdXJjZU1hcClyZXR1cm47aShlPXQpfWVsc2UgcigpfX1lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgREVCVUcmJkRFQlVHJiZcIm9iamVjdFwiIT10eXBlb2YgZG9jdW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpOyh0PXR8fHt9KS5hdHRycz1cIm9iamVjdFwiPT10eXBlb2YgdC5hdHRycz90LmF0dHJzOnt9LHQuc2luZ2xldG9ufHxcImJvb2xlYW5cIj09dHlwZW9mIHQuc2luZ2xldG9ufHwodC5zaW5nbGV0b249cigpKSx0Lmluc2VydEludG98fCh0Lmluc2VydEludG89XCJoZWFkXCIpLHQuaW5zZXJ0QXR8fCh0Lmluc2VydEF0PVwiYm90dG9tXCIpO3ZhciBuPWQoZSx0KTtyZXR1cm4gaChuLHQpLGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj1bXSxvPTA7bzxuLmxlbmd0aDtvKyspe3ZhciBhPW5bb107KHM9aVthLmlkXSkucmVmcy0tLHIucHVzaChzKX1lJiZoKGQoZSx0KSx0KTtmb3Iobz0wO288ci5sZW5ndGg7bysrKXt2YXIgcztpZigwPT09KHM9cltvXSkucmVmcyl7Zm9yKHZhciBsPTA7bDxzLnBhcnRzLmxlbmd0aDtsKyspcy5wYXJ0c1tsXSgpO2RlbGV0ZSBpW3MuaWRdfX19fTt2YXIgXz1mdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiBlW3RdPW4sZS5maWx0ZXIoQm9vbGVhbikuam9pbihcIlxcblwiKX19KCk7ZnVuY3Rpb24gdihlLHQsbixpKXt2YXIgcj1uP1wiXCI6aS5jc3M7aWYoZS5zdHlsZVNoZWV0KWUuc3R5bGVTaGVldC5jc3NUZXh0PV8odCxyKTtlbHNle3ZhciBvPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHIpLGE9ZS5jaGlsZE5vZGVzO2FbdF0mJmUucmVtb3ZlQ2hpbGQoYVt0XSksYS5sZW5ndGg/ZS5pbnNlcnRCZWZvcmUobyxhW3RdKTplLmFwcGVuZENoaWxkKG8pfX1mdW5jdGlvbiB4KGUsdCl7dmFyIG49dC5jc3MsaT10Lm1lZGlhO2lmKGkmJmUuc2V0QXR0cmlidXRlKFwibWVkaWFcIixpKSxlLnN0eWxlU2hlZXQpZS5zdHlsZVNoZWV0LmNzc1RleHQ9bjtlbHNle2Zvcig7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7ZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKSl9fWZ1bmN0aW9uIGIoZSx0LG4pe3ZhciBpPW4uY3NzLHI9bi5zb3VyY2VNYXAsbz12b2lkIDA9PT10LmNvbnZlcnRUb0Fic29sdXRlVXJscyYmcjsodC5jb252ZXJ0VG9BYnNvbHV0ZVVybHN8fG8pJiYoaT11KGkpKSxyJiYoaSs9XCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKSkpK1wiICovXCIpO3ZhciBhPW5ldyBCbG9iKFtpXSx7dHlwZTpcInRleHQvY3NzXCJ9KSxzPWUuaHJlZjtlLmhyZWY9VVJMLmNyZWF0ZU9iamVjdFVSTChhKSxzJiZVUkwucmV2b2tlT2JqZWN0VVJMKHMpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe3JldHVybiBvLmRlZmF1bHQuY3JlYXRlRWxlbWVudChzLmRlZmF1bHQuQ29uc3VtZXIsbnVsbCwoZnVuY3Rpb24obil7cmV0dXJuIG8uZGVmYXVsdC5jcmVhdGVFbGVtZW50KGUsKDAsci5kZWZhdWx0KSh7bXVpRm9ybUNvbnRyb2w6bn0sdCkpfSkpfTswO3JldHVybigwLGEuZGVmYXVsdCkodCxlKSx0fTt2YXIgcj1pKG4oMikpLG89aShuKDEpKSxhPWkobigzNSkpLHM9aShuKDU5KSk7big3KX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMscj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG89T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtmdW5jdGlvbiBhKGUpe2lmKG51bGw9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdC5hc3NpZ24gY2Fubm90IGJlIGNhbGxlZCB3aXRoIG51bGwgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBPYmplY3QoZSl9ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dHJ5e2lmKCFPYmplY3QuYXNzaWduKXJldHVybiExO3ZhciBlPW5ldyBTdHJpbmcoXCJhYmNcIik7aWYoZVs1XT1cImRlXCIsXCI1XCI9PT1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKVswXSlyZXR1cm4hMTtmb3IodmFyIHQ9e30sbj0wO248MTA7bisrKXRbXCJfXCIrU3RyaW5nLmZyb21DaGFyQ29kZShuKV09bjtpZihcIjAxMjM0NTY3ODlcIiE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHQpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KSkuam9pbihcIlwiKSlyZXR1cm4hMTt2YXIgaT17fTtyZXR1cm5cImFiY2RlZmdoaWprbG1ub3BxcnN0XCIuc3BsaXQoXCJcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aVtlXT1lfSkpLFwiYWJjZGVmZ2hpamtsbW5vcHFyc3RcIj09PU9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30saSkpLmpvaW4oXCJcIil9Y2F0Y2goZSl7cmV0dXJuITF9fSgpP09iamVjdC5hc3NpZ246ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scyxsPWEoZSksYz0xO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspe2Zvcih2YXIgdSBpbiBuPU9iamVjdChhcmd1bWVudHNbY10pKXIuY2FsbChuLHUpJiYobFt1XT1uW3VdKTtpZihpKXtzPWkobik7Zm9yKHZhciBoPTA7aDxzLmxlbmd0aDtoKyspby5jYWxsKG4sc1toXSkmJihsW3NbaF1dPW5bc1toXV0pfX1yZXR1cm4gbH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuZGFuZ2Vyb3VzbHlVc2VHbG9iYWxDU1Msbj12b2lkIDAhPT10JiZ0LGk9ZS5wcm9kdWN0aW9uUHJlZml4LHI9dm9pZCAwPT09aT9cImpzc1wiOmksYT1lLnNlZWQscz12b2lkIDA9PT1hP1wiXCI6YSxsPTA7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGwrPTEsbiYmdCYmdC5vcHRpb25zLm5hbWU/XCJcIi5jb25jYXQobyh0Lm9wdGlvbnMubmFtZSksXCItXCIpLmNvbmNhdChlLmtleSk6XCJcIi5jb25jYXQocikuY29uY2F0KHMpLmNvbmNhdChsKX19O2kobig2KSk7dmFyIHI9LyhbW1xcXS4jKiQ+PCt+PXxeOigpLFwiJ2BcXHNdKS9nO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKHIsXCItXCIpfX0sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oMTUpLmRlZmF1bHQscj1uKDczKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9cihlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PT1pKHQpP3Q6U3RyaW5nKHQpfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPXs1MDpcIiNlOGVhZjZcIiwxMDA6XCIjYzVjYWU5XCIsMjAwOlwiIzlmYThkYVwiLDMwMDpcIiM3OTg2Y2JcIiw0MDA6XCIjNWM2YmMwXCIsNTAwOlwiIzNmNTFiNVwiLDYwMDpcIiMzOTQ5YWJcIiw3MDA6XCIjMzAzZjlmXCIsODAwOlwiIzI4MzU5M1wiLDkwMDpcIiMxYTIzN2VcIixBMTAwOlwiIzhjOWVmZlwiLEEyMDA6XCIjNTM2ZGZlXCIsQTQwMDpcIiMzZDVhZmVcIixBNzAwOlwiIzMwNGZmZVwifTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5jb252ZXJ0SGV4VG9SR0I9byx0LnJnYlRvSGV4PWZ1bmN0aW9uKGUpe2lmKDA9PT1lLmluZGV4T2YoXCIjXCIpKXJldHVybiBlO3ZhciB0PWEoZSkudmFsdWVzO3JldHVybiB0PXQubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS50b1N0cmluZygxNik7cmV0dXJuIDE9PT10Lmxlbmd0aD9cIjBcIi5jb25jYXQodCk6dH0oZSl9KSksXCIjXCIuY29uY2F0KHQuam9pbihcIlwiKSl9LHQuZGVjb21wb3NlQ29sb3I9YSx0LnJlY29tcG9zZUNvbG9yPXMsdC5nZXRDb250cmFzdFJhdGlvPWZ1bmN0aW9uKGUsdCl7dmFyIG49bChlKSxpPWwodCk7cmV0dXJuKE1hdGgubWF4KG4saSkrLjA1KS8oTWF0aC5taW4obixpKSsuMDUpfSx0LmdldEx1bWluYW5jZT1sLHQuZW1waGFzaXplPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTouMTU7cmV0dXJuIGwoZSk+LjU/YyhlLHQpOnUoZSx0KX0sdC5mYWRlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuIGU7ZT1hKGUpLHQ9cih0KSwoXCJyZ2JcIj09PWUudHlwZXx8XCJoc2xcIj09PWUudHlwZSkmJihlLnR5cGUrPVwiYVwiKTtyZXR1cm4gZS52YWx1ZXNbM109dCxzKGUpfSx0LmRhcmtlbj1jLHQubGlnaHRlbj11O2kobig2KSk7ZnVuY3Rpb24gcihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxO3JldHVybiBlPHQ/dDplPm4/bjplfWZ1bmN0aW9uIG8oZSl7ZT1lLnN1YnN0cigxKTt2YXIgdD1uZXcgUmVnRXhwKFwiLnsxLFwiLmNvbmNhdChlLmxlbmd0aC8zLFwifVwiKSxcImdcIiksbj1lLm1hdGNoKHQpO3JldHVybiBuJiYxPT09blswXS5sZW5ndGgmJihuPW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZStlfSkpKSxuP1wicmdiKFwiLmNvbmNhdChuLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUsMTYpfSkpLmpvaW4oXCIsIFwiKSxcIilcIik6XCJcIn1mdW5jdGlvbiBhKGUpe2lmKFwiI1wiPT09ZS5jaGFyQXQoMCkpcmV0dXJuIGEobyhlKSk7dmFyIHQ9ZS5pbmRleE9mKFwiKFwiKSxuPWUuc3Vic3RyaW5nKDAsdCksaT1lLnN1YnN0cmluZyh0KzEsZS5sZW5ndGgtMSkuc3BsaXQoXCIsXCIpO3JldHVybnt0eXBlOm4sdmFsdWVzOmk9aS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUZsb2F0KGUpfSkpfX1mdW5jdGlvbiBzKGUpe3ZhciB0PWUudHlwZSxuPWUudmFsdWVzO3JldHVybi0xIT09dC5pbmRleE9mKFwicmdiXCIpJiYobj1uLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdDwzP3BhcnNlSW50KGUsMTApOmV9KSkpLC0xIT09dC5pbmRleE9mKFwiaHNsXCIpJiYoblsxXT1cIlwiLmNvbmNhdChuWzFdLFwiJVwiKSxuWzJdPVwiXCIuY29uY2F0KG5bMl0sXCIlXCIpKSxcIlwiLmNvbmNhdChlLnR5cGUsXCIoXCIpLmNvbmNhdChuLmpvaW4oXCIsIFwiKSxcIilcIil9ZnVuY3Rpb24gbChlKXt2YXIgdD1hKGUpO2lmKC0xIT09dC50eXBlLmluZGV4T2YoXCJyZ2JcIikpe3ZhciBuPXQudmFsdWVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuKGUvPTI1NSk8PS4wMzkyOD9lLzEyLjkyOk1hdGgucG93KChlKy4wNTUpLzEuMDU1LDIuNCl9KSk7cmV0dXJuIE51bWJlcigoLjIxMjYqblswXSsuNzE1MipuWzFdKy4wNzIyKm5bMl0pLnRvRml4ZWQoMykpfXJldHVybiB0LnZhbHVlc1syXS8xMDB9ZnVuY3Rpb24gYyhlLHQpe2lmKCFlKXJldHVybiBlO2lmKGU9YShlKSx0PXIodCksLTEhPT1lLnR5cGUuaW5kZXhPZihcImhzbFwiKSllLnZhbHVlc1syXSo9MS10O2Vsc2UgaWYoLTEhPT1lLnR5cGUuaW5kZXhPZihcInJnYlwiKSlmb3IodmFyIG49MDtuPDM7bis9MSllLnZhbHVlc1tuXSo9MS10O3JldHVybiBzKGUpfWZ1bmN0aW9uIHUoZSx0KXtpZighZSlyZXR1cm4gZTtpZihlPWEoZSksdD1yKHQpLC0xIT09ZS50eXBlLmluZGV4T2YoXCJoc2xcIikpZS52YWx1ZXNbMl0rPSgxMDAtZS52YWx1ZXNbMl0pKnQ7ZWxzZSBpZigtMSE9PWUudHlwZS5pbmRleE9mKFwicmdiXCIpKWZvcih2YXIgbj0wO248MztuKz0xKWUudmFsdWVzW25dKz0oMjU1LWUudmFsdWVzW25dKSp0O3JldHVybiBzKGUpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDtpKG4oMTUpKSxuKDQ2KTtmdW5jdGlvbiByKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBudWxsfX12YXIgbz1yKCk7by5pc1JlcXVpcmVkPXIoKTt2YXIgYT1vO3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPW4oODUpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBudWxsfX07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnNwZWNpYWxQcm9wZXJ0eT12b2lkIDA7aShuKDUpKSxpKG4oMikpO3Quc3BlY2lhbFByb3BlcnR5PVwiZXhhY3QtcHJvcDog4oCLXCI7dmFyIHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9O3QuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5nZXRGdW5jdGlvbk5hbWU9cix0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPS9eXFxzKmZ1bmN0aW9uKD86XFxzfFxccypcXC9cXCouKlxcKlxcL1xccyopKyhbXihcXHMvXSopXFxzKi87ZnVuY3Rpb24gcihlKXt2YXIgdD1cIlwiLmNvbmNhdChlKS5tYXRjaChpKTtyZXR1cm4gdCYmdFsxXXx8XCJcIn12YXIgbz1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9lOmU/ZS5kaXNwbGF5TmFtZXx8ZS5uYW1lfHxyKGUpfHxcIkNvbXBvbmVudFwiOnZvaWQgMH07dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkobig5MSkpLG89aShuKDExMSkpLGE9aShuKDExMykpLHM9aShuKDExNSkpLGw9aShuKDExNykpLGM9aShuKDEyMikpO3ZhciB1PWZ1bmN0aW9uKCl7cmV0dXJue3BsdWdpbnM6WygwLHIuZGVmYXVsdCkoKSwoMCxvLmRlZmF1bHQpKCksKDAsYS5kZWZhdWx0KSgpLCgwLHMuZGVmYXVsdCkoKSxcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P251bGw6KDAsbC5kZWZhdWx0KSgpLCgwLGMuZGVmYXVsdCkoKV19fTt0LmRlZmF1bHQ9dX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY3JlYXRlPXQuY3JlYXRlR2VuZXJhdGVDbGFzc05hbWU9dC5zaGVldHM9dC5SdWxlTGlzdD10LlNoZWV0c01hbmFnZXI9dC5TaGVldHNSZWdpc3RyeT10LnRvQ3NzVmFsdWU9dC5nZXREeW5hbWljU3R5bGVzPXZvaWQgMDt2YXIgaT1uKDkyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImdldER5bmFtaWNTdHlsZXNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaChpKS5kZWZhdWx0fX0pO3ZhciByPW4oMjMpO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwidG9Dc3NWYWx1ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoKHIpLmRlZmF1bHR9fSk7dmFyIG89big1Myk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJTaGVldHNSZWdpc3RyeVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoKG8pLmRlZmF1bHR9fSk7dmFyIGE9big5Myk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJTaGVldHNNYW5hZ2VyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGgoYSkuZGVmYXVsdH19KTt2YXIgcz1uKDIwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIlJ1bGVMaXN0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGgocykuZGVmYXVsdH19KTt2YXIgbD1uKDMxKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcInNoZWV0c1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoKGwpLmRlZmF1bHR9fSk7dmFyIGM9big1Nik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJjcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBoKGMpLmRlZmF1bHR9fSk7dmFyIHU9aChuKDk5KSk7ZnVuY3Rpb24gaChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGQ9dC5jcmVhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1LmRlZmF1bHQoZSl9O3QuZGVmYXVsdD1kKCl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5yZWdpc3RyeT1bXX1yZXR1cm4gaShlLFt7a2V5OlwiYWRkXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5yZWdpc3RyeSxuPWUub3B0aW9ucy5pbmRleDtpZigtMT09PXQuaW5kZXhPZihlKSlpZigwPT09dC5sZW5ndGh8fG4+PXRoaXMuaW5kZXgpdC5wdXNoKGUpO2Vsc2UgZm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYodFtpXS5vcHRpb25zLmluZGV4Pm4pcmV0dXJuIHZvaWQgdC5zcGxpY2UoaSwwLGUpfX0se2tleTpcInJlc2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnJlZ2lzdHJ5PVtdfX0se2tleTpcInJlbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucmVnaXN0cnkuaW5kZXhPZihlKTt0aGlzLnJlZ2lzdHJ5LnNwbGljZSh0LDEpfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucmVnaXN0cnkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hdHRhY2hlZH0pKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRvU3RyaW5nKGUpfSkpLmpvaW4oXCJcXG5cIil9fSx7a2V5OlwiaW5kZXhcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMucmVnaXN0cnkubGVuZ3RoPzA6dGhpcy5yZWdpc3RyeVt0aGlzLnJlZ2lzdHJ5Lmxlbmd0aC0xXS5vcHRpb25zLmluZGV4fX1dKSxlfSgpO3QuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKDk1KSk7dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlW2kuZGVmYXVsdF0mJmU9PT1lW2kuZGVmYXVsdF0oKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0KXtlLnJlbmRlcmFibGU9dCxlLnJ1bGVzJiZ0LmNzc1J1bGVzJiZlLnJ1bGVzLmxpbmsodC5jc3NSdWxlcyl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9byhuKDE3KSkscj0obyhuKDU3KSksbyhuKDk4KSkpO2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuZGVmYXVsdD1mdW5jdGlvbigpe3ZhciBlPTA7cmV0dXJuIGZ1bmN0aW9uKHQsbil7KGUrPTEpPjFlMTAmJigwLGkuZGVmYXVsdCkoITEsXCJbSlNTXSBZb3UgbWlnaHQgaGF2ZSBhIG1lbW9yeSBsZWFrLiBSdWxlIGNvdW50ZXIgaXMgYXQgJXMuXCIsZSk7dmFyIG89XCJjXCIsYT1cIlwiO3JldHVybiBuJiYobz1uLm9wdGlvbnMuY2xhc3NOYW1lUHJlZml4fHxcImNcIixudWxsIT1uLm9wdGlvbnMuanNzLmlkJiYoYSs9bi5vcHRpb25zLmpzcy5pZCkpLFwiXCIrbytyLmRlZmF1bHQrYStlfX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciBpIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4saSkmJihlW2ldPW5baV0pfXJldHVybiBlfSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCksbz1zKG4oNTUpKSxhPXMobigyMCkpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciBsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4pe3ZhciByPXRoaXM7Zm9yKHZhciBvIGluIGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnVwZGF0ZT1mdW5jdGlvbihlLHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3IucnVsZXMudXBkYXRlKGUsdCk6ci5ydWxlcy51cGRhdGUoZSkscn0sdGhpcy5hdHRhY2hlZD0hMSx0aGlzLmRlcGxveWVkPSExLHRoaXMubGlua2VkPSExLHRoaXMuY2xhc3Nlcz17fSx0aGlzLm9wdGlvbnM9aSh7fSxuLHtzaGVldDp0aGlzLHBhcmVudDp0aGlzLGNsYXNzZXM6dGhpcy5jbGFzc2VzfSksdGhpcy5yZW5kZXJlcj1uZXcgbi5SZW5kZXJlcih0aGlzKSx0aGlzLnJ1bGVzPW5ldyBhLmRlZmF1bHQodGhpcy5vcHRpb25zKSx0KXRoaXMucnVsZXMuYWRkKG8sdFtvXSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIHIoZSxbe2tleTpcImF0dGFjaFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXR0YWNoZWR8fCh0aGlzLmRlcGxveWVkfHx0aGlzLmRlcGxveSgpLHRoaXMucmVuZGVyZXIuYXR0YWNoKCksIXRoaXMubGlua2VkJiZ0aGlzLm9wdGlvbnMubGluayYmdGhpcy5saW5rKCksdGhpcy5hdHRhY2hlZD0hMCksdGhpc319LHtrZXk6XCJkZXRhY2hcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF0dGFjaGVkPyh0aGlzLnJlbmRlcmVyLmRldGFjaCgpLHRoaXMuYXR0YWNoZWQ9ITEsdGhpcyk6dGhpc319LHtrZXk6XCJhZGRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMucXVldWU7dGhpcy5hdHRhY2hlZCYmIWkmJih0aGlzLnF1ZXVlPVtdKTt2YXIgcj10aGlzLnJ1bGVzLmFkZChlLHQsbik7cmV0dXJuIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKHIpLHRoaXMuYXR0YWNoZWQ/dGhpcy5kZXBsb3llZD8oaT9pLnB1c2gocik6KHRoaXMuaW5zZXJ0UnVsZShyKSx0aGlzLnF1ZXVlJiYodGhpcy5xdWV1ZS5mb3JFYWNoKHRoaXMuaW5zZXJ0UnVsZSx0aGlzKSx0aGlzLnF1ZXVlPXZvaWQgMCkpLHIpOnI6KHRoaXMuZGVwbG95ZWQ9ITEscil9fSx7a2V5OlwiaW5zZXJ0UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucmVuZGVyZXIuaW5zZXJ0UnVsZShlKTt0JiZ0aGlzLm9wdGlvbnMubGluayYmKDAsby5kZWZhdWx0KShlLHQpfX0se2tleTpcImFkZFJ1bGVzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1bXTtmb3IodmFyIGkgaW4gZSluLnB1c2godGhpcy5hZGRSdWxlKGksZVtpXSx0KSk7cmV0dXJuIG59fSx7a2V5OlwiZ2V0UnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGVzLmdldChlKX19LHtrZXk6XCJkZWxldGVSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ydWxlcy5nZXQoZSk7cmV0dXJuISF0JiYodGhpcy5ydWxlcy5yZW1vdmUodCksIXRoaXMuYXR0YWNoZWR8fCF0LnJlbmRlcmFibGV8fHRoaXMucmVuZGVyZXIuZGVsZXRlUnVsZSh0LnJlbmRlcmFibGUpKX19LHtrZXk6XCJpbmRleE9mXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucnVsZXMuaW5kZXhPZihlKX19LHtrZXk6XCJkZXBsb3lcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbmRlcmVyLmRlcGxveSgpLHRoaXMuZGVwbG95ZWQ9ITAsdGhpc319LHtrZXk6XCJsaW5rXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlbmRlcmVyLmdldFJ1bGVzKCk7cmV0dXJuIGUmJnRoaXMucnVsZXMubGluayhlKSx0aGlzLmxpbmtlZD0hMCx0aGlzfX0se2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMucnVsZXMudG9TdHJpbmcoZSl9fV0pLGV9KCk7dC5kZWZhdWx0PWx9LGZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gbih0LGkpe3JldHVybiBlLmV4cG9ydHM9bj1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKTpmdW5jdGlvbihlLHQpe3JldHVybiBlLl9fcHJvdG9fXz10LGV9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0cyxuKHQsaSl9ZS5leHBvcnRzPW4sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkobigxKSkuZGVmYXVsdC5jcmVhdGVDb250ZXh0KCk7dC5kZWZhdWx0PXJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLm93bmVyRG9jdW1lbnR8fGRvY3VtZW50fTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxpPW5ldyBBcnJheSh0KTtuPHQ7bisrKWlbbl09ZVtuXTtyZXR1cm4gaX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaSgpe3ZhciBlPXRoaXMuY29uc3RydWN0b3IuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHRoaXMucHJvcHMsdGhpcy5zdGF0ZSk7bnVsbCE9ZSYmdGhpcy5zZXRTdGF0ZShlKX1mdW5jdGlvbiByKGUpe3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24odCl7dmFyIG49dGhpcy5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoZSx0KTtyZXR1cm4gbnVsbCE9bj9uOm51bGx9LmJpbmQodGhpcykpfWZ1bmN0aW9uIG8oZSx0KXt0cnl7dmFyIG49dGhpcy5wcm9wcyxpPXRoaXMuc3RhdGU7dGhpcy5wcm9wcz1lLHRoaXMuc3RhdGU9dCx0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90RmxhZz0hMCx0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90PXRoaXMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUobixpKX1maW5hbGx5e3RoaXMucHJvcHM9bix0aGlzLnN0YXRlPWl9fWZ1bmN0aW9uIGEoZSl7dmFyIHQ9ZS5wcm90b3R5cGU7aWYoIXR8fCF0LmlzUmVhY3RDb21wb25lbnQpdGhyb3cgbmV3IEVycm9yKFwiQ2FuIG9ubHkgcG9seWZpbGwgY2xhc3MgY29tcG9uZW50c1wiKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmXCJmdW5jdGlvblwiIT10eXBlb2YgdC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSlyZXR1cm4gZTt2YXIgbj1udWxsLGE9bnVsbCxzPW51bGw7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb21wb25lbnRXaWxsTW91bnQ/bj1cImNvbXBvbmVudFdpbGxNb3VudFwiOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmKG49XCJVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50XCIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcz9hPVwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJihhPVwiVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcIiksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5jb21wb25lbnRXaWxsVXBkYXRlP3M9XCJjb21wb25lbnRXaWxsVXBkYXRlXCI6XCJmdW5jdGlvblwiPT10eXBlb2YgdC5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSYmKHM9XCJVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZVwiKSxudWxsIT09bnx8bnVsbCE9PWF8fG51bGwhPT1zKXt2YXIgbD1lLmRpc3BsYXlOYW1lfHxlLm5hbWUsYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcz9cImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpXCI6XCJnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpXCI7dGhyb3cgRXJyb3IoXCJVbnNhZmUgbGVnYWN5IGxpZmVjeWNsZXMgd2lsbCBub3QgYmUgY2FsbGVkIGZvciBjb21wb25lbnRzIHVzaW5nIG5ldyBjb21wb25lbnQgQVBJcy5cXG5cXG5cIitsK1wiIHVzZXMgXCIrYytcIiBidXQgYWxzbyBjb250YWlucyB0aGUgZm9sbG93aW5nIGxlZ2FjeSBsaWZlY3ljbGVzOlwiKyhudWxsIT09bj9cIlxcbiAgXCIrbjpcIlwiKSsobnVsbCE9PWE/XCJcXG4gIFwiK2E6XCJcIikrKG51bGwhPT1zP1wiXFxuICBcIitzOlwiXCIpK1wiXFxuXFxuVGhlIGFib3ZlIGxpZmVjeWNsZXMgc2hvdWxkIGJlIHJlbW92ZWQuIExlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6XFxuaHR0cHM6Ly9mYi5tZS9yZWFjdC1hc3luYy1jb21wb25lbnQtbGlmZWN5Y2xlLWhvb2tzXCIpfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiYodC5jb21wb25lbnRXaWxsTW91bnQ9aSx0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM9ciksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdC5jb21wb25lbnREaWRVcGRhdGUpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHBvbHlmaWxsIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgZm9yIGNvbXBvbmVudHMgdGhhdCBkbyBub3QgZGVmaW5lIGNvbXBvbmVudERpZFVwZGF0ZSgpIG9uIHRoZSBwcm90b3R5cGVcIik7dC5jb21wb25lbnRXaWxsVXBkYXRlPW87dmFyIHU9dC5jb21wb25lbnREaWRVcGRhdGU7dC5jb21wb25lbnREaWRVcGRhdGU9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPXRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3RGbGFnP3RoaXMuX19yZWFjdEludGVybmFsU25hcHNob3Q6bjt1LmNhbGwodGhpcyxlLHQsaSl9fXJldHVybiBlfW4ucih0KSxuLmQodCxcInBvbHlmaWxsXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksaS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nPSEwLHIuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZz0hMCxvLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmc9ITB9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkobigxNzUpKSxvPWkobigxNzkpKSxhPShpKG4oNjQpKSxpKG4oNjUpKSxmdW5jdGlvbihlKXtyZXR1cm4oMCxyLmRlZmF1bHQpKChmdW5jdGlvbihlLHQpe3JldHVybiEoMCxvLmRlZmF1bHQpKGUsdCl9KSkoZSl9KTt0LmRlZmF1bHQ9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIHI9aShuKDE3NykpLG89ZnVuY3Rpb24oZSl7cmV0dXJuKDAsci5kZWZhdWx0KShcImRpc3BsYXlOYW1lXCIsZSl9O3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKG4oMTc4KSksbz1mdW5jdGlvbihlLHQpe3JldHVybiB0K1wiKFwiKygwLHIuZGVmYXVsdCkoZSkrXCIpXCJ9O3QuZGVmYXVsdD1vfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5kZWZhdWx0fX0pO3ZhciByPWkobigxODEpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7dmFyIHQsbj1lLlN5bWJvbDtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuP24ub2JzZXJ2YWJsZT90PW4ub2JzZXJ2YWJsZToodD1uKFwib2JzZXJ2YWJsZVwiKSxuLm9ic2VydmFibGU9dCk6dD1cIkBAb2JzZXJ2YWJsZVwiLHR9bi5kKHQsXCJhXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSl9LCxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9big0MCkscj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3Isbz1yP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzLGE9cj9TeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpOjYwMTA2LHM9cj9TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIik6NjAxMDcsbD1yP1N5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKTo2MDEwOCxjPXI/U3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpOjYwMTE0LHU9cj9TeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIik6NjAxMDksaD1yP1N5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpOjYwMTEwLGQ9cj9TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIik6NjAxMTIscD1yP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKTo2MDExMyxmPXI/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsbT1yP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2LGc9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3I7ZnVuY3Rpb24geShlKXtmb3IodmFyIHQ9XCJodHRwczovL3JlYWN0anMub3JnL2RvY3MvZXJyb3ItZGVjb2Rlci5odG1sP2ludmFyaWFudD1cIitlLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQrPVwiJmFyZ3NbXT1cIitlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW25dKTtyZXR1cm5cIk1pbmlmaWVkIFJlYWN0IGVycm9yICNcIitlK1wiOyB2aXNpdCBcIit0K1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIn12YXIgXz17aXNNb3VudGVkOmZ1bmN0aW9uKCl7cmV0dXJuITF9LGVucXVldWVGb3JjZVVwZGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVJlcGxhY2VTdGF0ZTpmdW5jdGlvbigpe30sZW5xdWV1ZVNldFN0YXRlOmZ1bmN0aW9uKCl7fX0sdj17fTtmdW5jdGlvbiB4KGUsdCxuKXt0aGlzLnByb3BzPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5yZWZzPXYsdGhpcy51cGRhdGVyPW58fF99ZnVuY3Rpb24gYigpe31mdW5jdGlvbiB3KGUsdCxuKXt0aGlzLnByb3BzPWUsdGhpcy5jb250ZXh0PXQsdGhpcy5yZWZzPXYsdGhpcy51cGRhdGVyPW58fF99eC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudD17fSx4LnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZudWxsIT1lKXRocm93IEVycm9yKHkoODUpKTt0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsZSx0LFwic2V0U3RhdGVcIil9LHgucHJvdG90eXBlLmZvcmNlVXBkYXRlPWZ1bmN0aW9uKGUpe3RoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcyxlLFwiZm9yY2VVcGRhdGVcIil9LGIucHJvdG90eXBlPXgucHJvdG90eXBlO3ZhciBUPXcucHJvdG90eXBlPW5ldyBiO1QuY29uc3RydWN0b3I9dyxpKFQseC5wcm90b3R5cGUpLFQuaXNQdXJlUmVhY3RDb21wb25lbnQ9ITA7dmFyIEU9e2N1cnJlbnQ6bnVsbH0sUz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LE09e2tleTohMCxyZWY6ITAsX19zZWxmOiEwLF9fc291cmNlOiEwfTtmdW5jdGlvbiBJKGUsdCxuKXt2YXIgaSxyPXt9LGE9bnVsbCxzPW51bGw7aWYobnVsbCE9dClmb3IoaSBpbiB2b2lkIDAhPT10LnJlZiYmKHM9dC5yZWYpLHZvaWQgMCE9PXQua2V5JiYoYT1cIlwiK3Qua2V5KSx0KVMuY2FsbCh0LGkpJiYhTS5oYXNPd25Qcm9wZXJ0eShpKSYmKHJbaV09dFtpXSk7dmFyIGw9YXJndW1lbnRzLmxlbmd0aC0yO2lmKDE9PT1sKXIuY2hpbGRyZW49bjtlbHNlIGlmKDE8bCl7Zm9yKHZhciBjPUFycmF5KGwpLHU9MDt1PGw7dSsrKWNbdV09YXJndW1lbnRzW3UrMl07ci5jaGlsZHJlbj1jfWlmKGUmJmUuZGVmYXVsdFByb3BzKWZvcihpIGluIGw9ZS5kZWZhdWx0UHJvcHMpdm9pZCAwPT09cltpXSYmKHJbaV09bFtpXSk7cmV0dXJueyQkdHlwZW9mOm8sdHlwZTplLGtleTphLHJlZjpzLHByb3BzOnIsX293bmVyOkUuY3VycmVudH19ZnVuY3Rpb24gQyhlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJmUuJCR0eXBlb2Y9PT1vfXZhciBrPS9cXC8rL2csQT1bXTtmdW5jdGlvbiBQKGUsdCxuLGkpe2lmKEEubGVuZ3RoKXt2YXIgcj1BLnBvcCgpO3JldHVybiByLnJlc3VsdD1lLHIua2V5UHJlZml4PXQsci5mdW5jPW4sci5jb250ZXh0PWksci5jb3VudD0wLHJ9cmV0dXJue3Jlc3VsdDplLGtleVByZWZpeDp0LGZ1bmM6bixjb250ZXh0OmksY291bnQ6MH19ZnVuY3Rpb24geihlKXtlLnJlc3VsdD1udWxsLGUua2V5UHJlZml4PW51bGwsZS5mdW5jPW51bGwsZS5jb250ZXh0PW51bGwsZS5jb3VudD0wLDEwPkEubGVuZ3RoJiZBLnB1c2goZSl9ZnVuY3Rpb24gRChlLHQsbil7cmV0dXJuIG51bGw9PWU/MDpmdW5jdGlvbiBlKHQsbixpLHIpe3ZhciBzPXR5cGVvZiB0O1widW5kZWZpbmVkXCIhPT1zJiZcImJvb2xlYW5cIiE9PXN8fCh0PW51bGwpO3ZhciBsPSExO2lmKG51bGw9PT10KWw9ITA7ZWxzZSBzd2l0Y2gocyl7Y2FzZVwic3RyaW5nXCI6Y2FzZVwibnVtYmVyXCI6bD0hMDticmVhaztjYXNlXCJvYmplY3RcIjpzd2l0Y2godC4kJHR5cGVvZil7Y2FzZSBvOmNhc2UgYTpsPSEwfX1pZihsKXJldHVybiBpKHIsdCxcIlwiPT09bj9cIi5cIitMKHQsMCk6biksMTtpZihsPTAsbj1cIlwiPT09bj9cIi5cIjpuK1wiOlwiLEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciBjPTA7Yzx0Lmxlbmd0aDtjKyspe3ZhciB1PW4rTChzPXRbY10sYyk7bCs9ZShzLHUsaSxyKX1lbHNlIGlmKG51bGw9PT10fHxcIm9iamVjdFwiIT10eXBlb2YgdD91PW51bGw6dT1cImZ1bmN0aW9uXCI9PXR5cGVvZih1PWcmJnRbZ118fHRbXCJAQGl0ZXJhdG9yXCJdKT91Om51bGwsXCJmdW5jdGlvblwiPT10eXBlb2YgdSlmb3IodD11LmNhbGwodCksYz0wOyEocz10Lm5leHQoKSkuZG9uZTspbCs9ZShzPXMudmFsdWUsdT1uK0wocyxjKyspLGkscik7ZWxzZSBpZihcIm9iamVjdFwiPT09cyl0aHJvdyBpPVwiXCIrdCxFcnJvcih5KDMxLFwiW29iamVjdCBPYmplY3RdXCI9PT1pP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXModCkuam9pbihcIiwgXCIpK1wifVwiOmksXCJcIikpO3JldHVybiBsfShlLFwiXCIsdCxuKX1mdW5jdGlvbiBMKGUsdCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZudWxsIT1lLmtleT9mdW5jdGlvbihlKXt2YXIgdD17XCI9XCI6XCI9MFwiLFwiOlwiOlwiPTJcIn07cmV0dXJuXCIkXCIrKFwiXCIrZSkucmVwbGFjZSgvWz06XS9nLChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXX0pKX0oZS5rZXkpOnQudG9TdHJpbmcoMzYpfWZ1bmN0aW9uIE8oZSx0KXtlLmZ1bmMuY2FsbChlLmNvbnRleHQsdCxlLmNvdW50KyspfWZ1bmN0aW9uIFIoZSx0LG4pe3ZhciBpPWUucmVzdWx0LHI9ZS5rZXlQcmVmaXg7ZT1lLmZ1bmMuY2FsbChlLmNvbnRleHQsdCxlLmNvdW50KyspLEFycmF5LmlzQXJyYXkoZSk/QihlLGksbiwoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSk6bnVsbCE9ZSYmKEMoZSkmJihlPWZ1bmN0aW9uKGUsdCl7cmV0dXJueyQkdHlwZW9mOm8sdHlwZTplLnR5cGUsa2V5OnQscmVmOmUucmVmLHByb3BzOmUucHJvcHMsX293bmVyOmUuX293bmVyfX0oZSxyKyghZS5rZXl8fHQmJnQua2V5PT09ZS5rZXk/XCJcIjooXCJcIitlLmtleSkucmVwbGFjZShrLFwiJCYvXCIpK1wiL1wiKStuKSksaS5wdXNoKGUpKX1mdW5jdGlvbiBCKGUsdCxuLGkscil7dmFyIG89XCJcIjtudWxsIT1uJiYobz0oXCJcIituKS5yZXBsYWNlKGssXCIkJi9cIikrXCIvXCIpLEQoZSxSLHQ9UCh0LG8saSxyKSkseih0KX12YXIgaj17Y3VycmVudDpudWxsfTtmdW5jdGlvbiBGKCl7dmFyIGU9ai5jdXJyZW50O2lmKG51bGw9PT1lKXRocm93IEVycm9yKHkoMzIxKSk7cmV0dXJuIGV9dmFyIE49e1JlYWN0Q3VycmVudERpc3BhdGNoZXI6aixSZWFjdEN1cnJlbnRCYXRjaENvbmZpZzp7c3VzcGVuc2U6bnVsbH0sUmVhY3RDdXJyZW50T3duZXI6RSxJc1NvbWVSZW5kZXJlckFjdGluZzp7Y3VycmVudDohMX0sYXNzaWduOml9O3QuQ2hpbGRyZW49e21hcDpmdW5jdGlvbihlLHQsbil7aWYobnVsbD09ZSlyZXR1cm4gZTt2YXIgaT1bXTtyZXR1cm4gQihlLGksbnVsbCx0LG4pLGl9LGZvckVhY2g6ZnVuY3Rpb24oZSx0LG4pe2lmKG51bGw9PWUpcmV0dXJuIGU7RChlLE8sdD1QKG51bGwsbnVsbCx0LG4pKSx6KHQpfSxjb3VudDpmdW5jdGlvbihlKXtyZXR1cm4gRChlLChmdW5jdGlvbigpe3JldHVybiBudWxsfSksbnVsbCl9LHRvQXJyYXk6ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIEIoZSx0LG51bGwsKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpLHR9LG9ubHk6ZnVuY3Rpb24oZSl7aWYoIUMoZSkpdGhyb3cgRXJyb3IoeSgxNDMpKTtyZXR1cm4gZX19LHQuQ29tcG9uZW50PXgsdC5GcmFnbWVudD1zLHQuUHJvZmlsZXI9Yyx0LlB1cmVDb21wb25lbnQ9dyx0LlN0cmljdE1vZGU9bCx0LlN1c3BlbnNlPXAsdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRD1OLHQuY2xvbmVFbGVtZW50PWZ1bmN0aW9uKGUsdCxuKXtpZihudWxsPT1lKXRocm93IEVycm9yKHkoMjY3LGUpKTt2YXIgcj1pKHt9LGUucHJvcHMpLGE9ZS5rZXkscz1lLnJlZixsPWUuX293bmVyO2lmKG51bGwhPXQpe2lmKHZvaWQgMCE9PXQucmVmJiYocz10LnJlZixsPUUuY3VycmVudCksdm9pZCAwIT09dC5rZXkmJihhPVwiXCIrdC5rZXkpLGUudHlwZSYmZS50eXBlLmRlZmF1bHRQcm9wcyl2YXIgYz1lLnR5cGUuZGVmYXVsdFByb3BzO2Zvcih1IGluIHQpUy5jYWxsKHQsdSkmJiFNLmhhc093blByb3BlcnR5KHUpJiYoclt1XT12b2lkIDA9PT10W3VdJiZ2b2lkIDAhPT1jP2NbdV06dFt1XSl9dmFyIHU9YXJndW1lbnRzLmxlbmd0aC0yO2lmKDE9PT11KXIuY2hpbGRyZW49bjtlbHNlIGlmKDE8dSl7Yz1BcnJheSh1KTtmb3IodmFyIGg9MDtoPHU7aCsrKWNbaF09YXJndW1lbnRzW2grMl07ci5jaGlsZHJlbj1jfXJldHVybnskJHR5cGVvZjpvLHR5cGU6ZS50eXBlLGtleTphLHJlZjpzLHByb3BzOnIsX293bmVyOmx9fSx0LmNyZWF0ZUNvbnRleHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9bnVsbCksKGU9eyQkdHlwZW9mOmgsX2NhbGN1bGF0ZUNoYW5nZWRCaXRzOnQsX2N1cnJlbnRWYWx1ZTplLF9jdXJyZW50VmFsdWUyOmUsX3RocmVhZENvdW50OjAsUHJvdmlkZXI6bnVsbCxDb25zdW1lcjpudWxsfSkuUHJvdmlkZXI9eyQkdHlwZW9mOnUsX2NvbnRleHQ6ZX0sZS5Db25zdW1lcj1lfSx0LmNyZWF0ZUVsZW1lbnQ9SSx0LmNyZWF0ZUZhY3Rvcnk9ZnVuY3Rpb24oZSl7dmFyIHQ9SS5iaW5kKG51bGwsZSk7cmV0dXJuIHQudHlwZT1lLHR9LHQuY3JlYXRlUmVmPWZ1bmN0aW9uKCl7cmV0dXJue2N1cnJlbnQ6bnVsbH19LHQuZm9yd2FyZFJlZj1mdW5jdGlvbihlKXtyZXR1cm57JCR0eXBlb2Y6ZCxyZW5kZXI6ZX19LHQuaXNWYWxpZEVsZW1lbnQ9Qyx0Lmxhenk9ZnVuY3Rpb24oZSl7cmV0dXJueyQkdHlwZW9mOm0sX2N0b3I6ZSxfc3RhdHVzOi0xLF9yZXN1bHQ6bnVsbH19LHQubWVtbz1mdW5jdGlvbihlLHQpe3JldHVybnskJHR5cGVvZjpmLHR5cGU6ZSxjb21wYXJlOnZvaWQgMD09PXQ/bnVsbDp0fX0sdC51c2VDYWxsYmFjaz1mdW5jdGlvbihlLHQpe3JldHVybiBGKCkudXNlQ2FsbGJhY2soZSx0KX0sdC51c2VDb250ZXh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEYoKS51c2VDb250ZXh0KGUsdCl9LHQudXNlRGVidWdWYWx1ZT1mdW5jdGlvbigpe30sdC51c2VFZmZlY3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gRigpLnVzZUVmZmVjdChlLHQpfSx0LnVzZUltcGVyYXRpdmVIYW5kbGU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBGKCkudXNlSW1wZXJhdGl2ZUhhbmRsZShlLHQsbil9LHQudXNlTGF5b3V0RWZmZWN0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEYoKS51c2VMYXlvdXRFZmZlY3QoZSx0KX0sdC51c2VNZW1vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEYoKS51c2VNZW1vKGUsdCl9LHQudXNlUmVkdWNlcj1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEYoKS51c2VSZWR1Y2VyKGUsdCxuKX0sdC51c2VSZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIEYoKS51c2VSZWYoZSl9LHQudXNlU3RhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIEYoKS51c2VTdGF0ZShlKX0sdC52ZXJzaW9uPVwiMTYuMTQuMFwifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigxKSxyPW4oNDApLG89big3MSk7ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9XCJodHRwczovL3JlYWN0anMub3JnL2RvY3MvZXJyb3ItZGVjb2Rlci5odG1sP2ludmFyaWFudD1cIitlLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQrPVwiJmFyZ3NbXT1cIitlbmNvZGVVUklDb21wb25lbnQoYXJndW1lbnRzW25dKTtyZXR1cm5cIk1pbmlmaWVkIFJlYWN0IGVycm9yICNcIitlK1wiOyB2aXNpdCBcIit0K1wiIGZvciB0aGUgZnVsbCBtZXNzYWdlIG9yIHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCBmb3IgZnVsbCBlcnJvcnMgYW5kIGFkZGl0aW9uYWwgaGVscGZ1bCB3YXJuaW5ncy5cIn1pZighaSl0aHJvdyBFcnJvcihhKDIyNykpO2Z1bmN0aW9uIHMoZSx0LG4saSxyLG8sYSxzLGwpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywzKTt0cnl7dC5hcHBseShuLGMpfWNhdGNoKGUpe3RoaXMub25FcnJvcihlKX19dmFyIGw9ITEsYz1udWxsLHU9ITEsaD1udWxsLGQ9e29uRXJyb3I6ZnVuY3Rpb24oZSl7bD0hMCxjPWV9fTtmdW5jdGlvbiBwKGUsdCxuLGkscixvLGEsdSxoKXtsPSExLGM9bnVsbCxzLmFwcGx5KGQsYXJndW1lbnRzKX12YXIgZj1udWxsLG09bnVsbCxnPW51bGw7ZnVuY3Rpb24geShlLHQsbil7dmFyIGk9ZS50eXBlfHxcInVua25vd24tZXZlbnRcIjtlLmN1cnJlbnRUYXJnZXQ9ZyhuKSxmdW5jdGlvbihlLHQsbixpLHIsbyxzLGQsZil7aWYocC5hcHBseSh0aGlzLGFyZ3VtZW50cyksbCl7aWYoIWwpdGhyb3cgRXJyb3IoYSgxOTgpKTt2YXIgbT1jO2w9ITEsYz1udWxsLHV8fCh1PSEwLGg9bSl9fShpLHQsdm9pZCAwLGUpLGUuY3VycmVudFRhcmdldD1udWxsfXZhciBfPW51bGwsdj17fTtmdW5jdGlvbiB4KCl7aWYoXylmb3IodmFyIGUgaW4gdil7dmFyIHQ9dltlXSxuPV8uaW5kZXhPZihlKTtpZighKC0xPG4pKXRocm93IEVycm9yKGEoOTYsZSkpO2lmKCF3W25dKXtpZighdC5leHRyYWN0RXZlbnRzKXRocm93IEVycm9yKGEoOTcsZSkpO2Zvcih2YXIgaSBpbiB3W25dPXQsbj10LmV2ZW50VHlwZXMpe3ZhciByPXZvaWQgMCxvPW5baV0scz10LGw9aTtpZihULmhhc093blByb3BlcnR5KGwpKXRocm93IEVycm9yKGEoOTksbCkpO1RbbF09bzt2YXIgYz1vLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzO2lmKGMpe2ZvcihyIGluIGMpYy5oYXNPd25Qcm9wZXJ0eShyKSYmYihjW3JdLHMsbCk7cj0hMH1lbHNlIG8ucmVnaXN0cmF0aW9uTmFtZT8oYihvLnJlZ2lzdHJhdGlvbk5hbWUscyxsKSxyPSEwKTpyPSExO2lmKCFyKXRocm93IEVycm9yKGEoOTgsaSxlKSl9fX19ZnVuY3Rpb24gYihlLHQsbil7aWYoRVtlXSl0aHJvdyBFcnJvcihhKDEwMCxlKSk7RVtlXT10LFNbZV09dC5ldmVudFR5cGVzW25dLmRlcGVuZGVuY2llc312YXIgdz1bXSxUPXt9LEU9e30sUz17fTtmdW5jdGlvbiBNKGUpe3ZhciB0LG49ITE7Zm9yKHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpKXt2YXIgaT1lW3RdO2lmKCF2Lmhhc093blByb3BlcnR5KHQpfHx2W3RdIT09aSl7aWYodlt0XSl0aHJvdyBFcnJvcihhKDEwMix0KSk7dlt0XT1pLG49ITB9fW4mJngoKX12YXIgST0hKFwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fHZvaWQgMD09PXdpbmRvdy5kb2N1bWVudHx8dm9pZCAwPT09d2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpLEM9bnVsbCxrPW51bGwsQT1udWxsO2Z1bmN0aW9uIFAoZSl7aWYoZT1tKGUpKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBDKXRocm93IEVycm9yKGEoMjgwKSk7dmFyIHQ9ZS5zdGF0ZU5vZGU7dCYmKHQ9Zih0KSxDKGUuc3RhdGVOb2RlLGUudHlwZSx0KSl9fWZ1bmN0aW9uIHooZSl7az9BP0EucHVzaChlKTpBPVtlXTprPWV9ZnVuY3Rpb24gRCgpe2lmKGspe3ZhciBlPWssdD1BO2lmKEE9az1udWxsLFAoZSksdClmb3IoZT0wO2U8dC5sZW5ndGg7ZSsrKVAodFtlXSl9fWZ1bmN0aW9uIEwoZSx0KXtyZXR1cm4gZSh0KX1mdW5jdGlvbiBPKGUsdCxuLGkscil7cmV0dXJuIGUodCxuLGkscil9ZnVuY3Rpb24gUigpe312YXIgQj1MLGo9ITEsRj0hMTtmdW5jdGlvbiBOKCl7bnVsbD09PWsmJm51bGw9PT1BfHwoUigpLEQoKSl9ZnVuY3Rpb24gVShlLHQsbil7aWYoRilyZXR1cm4gZSh0LG4pO0Y9ITA7dHJ5e3JldHVybiBCKGUsdCxuKX1maW5hbGx5e0Y9ITEsTigpfX12YXIgVj0vXls6QS1aX2EtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF1bOkEtWl9hLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRcXC0uMC05XFx1MDBCN1xcdTAzMDAtXFx1MDM2RlxcdTIwM0YtXFx1MjA0MF0qJC8sRz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFo9e30sVz17fTtmdW5jdGlvbiBxKGUsdCxuLGkscixvKXt0aGlzLmFjY2VwdHNCb29sZWFucz0yPT09dHx8Mz09PXR8fDQ9PT10LHRoaXMuYXR0cmlidXRlTmFtZT1pLHRoaXMuYXR0cmlidXRlTmFtZXNwYWNlPXIsdGhpcy5tdXN0VXNlUHJvcGVydHk9bix0aGlzLnByb3BlcnR5TmFtZT1lLHRoaXMudHlwZT10LHRoaXMuc2FuaXRpemVVUkw9b312YXIgJD17fTtcImNoaWxkcmVuIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIGRlZmF1bHRWYWx1ZSBkZWZhdWx0Q2hlY2tlZCBpbm5lckhUTUwgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZyBzdHlsZVwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXskW2VdPW5ldyBxKGUsMCwhMSxlLG51bGwsITEpfSkpLFtbXCJhY2NlcHRDaGFyc2V0XCIsXCJhY2NlcHQtY2hhcnNldFwiXSxbXCJjbGFzc05hbWVcIixcImNsYXNzXCJdLFtcImh0bWxGb3JcIixcImZvclwiXSxbXCJodHRwRXF1aXZcIixcImh0dHAtZXF1aXZcIl1dLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWVbMF07JFt0XT1uZXcgcSh0LDEsITEsZVsxXSxudWxsLCExKX0pKSxbXCJjb250ZW50RWRpdGFibGVcIixcImRyYWdnYWJsZVwiLFwic3BlbGxDaGVja1wiLFwidmFsdWVcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7JFtlXT1uZXcgcShlLDIsITEsZS50b0xvd2VyQ2FzZSgpLG51bGwsITEpfSkpLFtcImF1dG9SZXZlcnNlXCIsXCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCIsXCJmb2N1c2FibGVcIixcInByZXNlcnZlQWxwaGFcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7JFtlXT1uZXcgcShlLDIsITEsZSxudWxsLCExKX0pKSxcImFsbG93RnVsbFNjcmVlbiBhc3luYyBhdXRvRm9jdXMgYXV0b1BsYXkgY29udHJvbHMgZGVmYXVsdCBkZWZlciBkaXNhYmxlZCBkaXNhYmxlUGljdHVyZUluUGljdHVyZSBmb3JtTm9WYWxpZGF0ZSBoaWRkZW4gbG9vcCBub01vZHVsZSBub1ZhbGlkYXRlIG9wZW4gcGxheXNJbmxpbmUgcmVhZE9ubHkgcmVxdWlyZWQgcmV2ZXJzZWQgc2NvcGVkIHNlYW1sZXNzIGl0ZW1TY29wZVwiLnNwbGl0KFwiIFwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXskW2VdPW5ldyBxKGUsMywhMSxlLnRvTG93ZXJDYXNlKCksbnVsbCwhMSl9KSksW1wiY2hlY2tlZFwiLFwibXVsdGlwbGVcIixcIm11dGVkXCIsXCJzZWxlY3RlZFwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXskW2VdPW5ldyBxKGUsMywhMCxlLG51bGwsITEpfSkpLFtcImNhcHR1cmVcIixcImRvd25sb2FkXCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpeyRbZV09bmV3IHEoZSw0LCExLGUsbnVsbCwhMSl9KSksW1wiY29sc1wiLFwicm93c1wiLFwic2l6ZVwiLFwic3BhblwiXS5mb3JFYWNoKChmdW5jdGlvbihlKXskW2VdPW5ldyBxKGUsNiwhMSxlLG51bGwsITEpfSkpLFtcInJvd1NwYW5cIixcInN0YXJ0XCJdLmZvckVhY2goKGZ1bmN0aW9uKGUpeyRbZV09bmV3IHEoZSw1LCExLGUudG9Mb3dlckNhc2UoKSxudWxsLCExKX0pKTt2YXIgSD0vW1xcLTpdKFthLXpdKS9nO2Z1bmN0aW9uIFgoZSl7cmV0dXJuIGVbMV0udG9VcHBlckNhc2UoKX1cImFjY2VudC1oZWlnaHQgYWxpZ25tZW50LWJhc2VsaW5lIGFyYWJpYy1mb3JtIGJhc2VsaW5lLXNoaWZ0IGNhcC1oZWlnaHQgY2xpcC1wYXRoIGNsaXAtcnVsZSBjb2xvci1pbnRlcnBvbGF0aW9uIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyBjb2xvci1wcm9maWxlIGNvbG9yLXJlbmRlcmluZyBkb21pbmFudC1iYXNlbGluZSBlbmFibGUtYmFja2dyb3VuZCBmaWxsLW9wYWNpdHkgZmlsbC1ydWxlIGZsb29kLWNvbG9yIGZsb29kLW9wYWNpdHkgZm9udC1mYW1pbHkgZm9udC1zaXplIGZvbnQtc2l6ZS1hZGp1c3QgZm9udC1zdHJldGNoIGZvbnQtc3R5bGUgZm9udC12YXJpYW50IGZvbnQtd2VpZ2h0IGdseXBoLW5hbWUgZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbCBnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbCBob3Jpei1hZHYteCBob3Jpei1vcmlnaW4teCBpbWFnZS1yZW5kZXJpbmcgbGV0dGVyLXNwYWNpbmcgbGlnaHRpbmctY29sb3IgbWFya2VyLWVuZCBtYXJrZXItbWlkIG1hcmtlci1zdGFydCBvdmVybGluZS1wb3NpdGlvbiBvdmVybGluZS10aGlja25lc3MgcGFpbnQtb3JkZXIgcGFub3NlLTEgcG9pbnRlci1ldmVudHMgcmVuZGVyaW5nLWludGVudCBzaGFwZS1yZW5kZXJpbmcgc3RvcC1jb2xvciBzdG9wLW9wYWNpdHkgc3RyaWtldGhyb3VnaC1wb3NpdGlvbiBzdHJpa2V0aHJvdWdoLXRoaWNrbmVzcyBzdHJva2UtZGFzaGFycmF5IHN0cm9rZS1kYXNob2Zmc2V0IHN0cm9rZS1saW5lY2FwIHN0cm9rZS1saW5lam9pbiBzdHJva2UtbWl0ZXJsaW1pdCBzdHJva2Utb3BhY2l0eSBzdHJva2Utd2lkdGggdGV4dC1hbmNob3IgdGV4dC1kZWNvcmF0aW9uIHRleHQtcmVuZGVyaW5nIHVuZGVybGluZS1wb3NpdGlvbiB1bmRlcmxpbmUtdGhpY2tuZXNzIHVuaWNvZGUtYmlkaSB1bmljb2RlLXJhbmdlIHVuaXRzLXBlci1lbSB2LWFscGhhYmV0aWMgdi1oYW5naW5nIHYtaWRlb2dyYXBoaWMgdi1tYXRoZW1hdGljYWwgdmVjdG9yLWVmZmVjdCB2ZXJ0LWFkdi15IHZlcnQtb3JpZ2luLXggdmVydC1vcmlnaW4teSB3b3JkLXNwYWNpbmcgd3JpdGluZy1tb2RlIHhtbG5zOnhsaW5rIHgtaGVpZ2h0XCIuc3BsaXQoXCIgXCIpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShILFgpOyRbdF09bmV3IHEodCwxLCExLGUsbnVsbCwhMSl9KSksXCJ4bGluazphY3R1YXRlIHhsaW5rOmFyY3JvbGUgeGxpbms6cm9sZSB4bGluazpzaG93IHhsaW5rOnRpdGxlIHhsaW5rOnR5cGVcIi5zcGxpdChcIiBcIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKEgsWCk7JFt0XT1uZXcgcSh0LDEsITEsZSxcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwhMSl9KSksW1wieG1sOmJhc2VcIixcInhtbDpsYW5nXCIsXCJ4bWw6c3BhY2VcIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXBsYWNlKEgsWCk7JFt0XT1uZXcgcSh0LDEsITEsZSxcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLCExKX0pKSxbXCJ0YWJJbmRleFwiLFwiY3Jvc3NPcmlnaW5cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7JFtlXT1uZXcgcShlLDEsITEsZS50b0xvd2VyQ2FzZSgpLG51bGwsITEpfSkpLCQueGxpbmtIcmVmPW5ldyBxKFwieGxpbmtIcmVmXCIsMSwhMSxcInhsaW5rOmhyZWZcIixcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwhMCksW1wic3JjXCIsXCJocmVmXCIsXCJhY3Rpb25cIixcImZvcm1BY3Rpb25cIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7JFtlXT1uZXcgcShlLDEsITEsZS50b0xvd2VyQ2FzZSgpLG51bGwsITApfSkpO3ZhciBZPWkuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7ZnVuY3Rpb24gSihlLHQsbixpKXt2YXIgcj0kLmhhc093blByb3BlcnR5KHQpPyRbdF06bnVsbDsobnVsbCE9PXI/MD09PXIudHlwZTohaSYmKDI8dC5sZW5ndGgmJihcIm9cIj09PXRbMF18fFwiT1wiPT09dFswXSkmJihcIm5cIj09PXRbMV18fFwiTlwiPT09dFsxXSkpKXx8KGZ1bmN0aW9uKGUsdCxuLGkpe2lmKG51bGw9PXR8fGZ1bmN0aW9uKGUsdCxuLGkpe2lmKG51bGwhPT1uJiYwPT09bi50eXBlKXJldHVybiExO3N3aXRjaCh0eXBlb2YgdCl7Y2FzZVwiZnVuY3Rpb25cIjpjYXNlXCJzeW1ib2xcIjpyZXR1cm4hMDtjYXNlXCJib29sZWFuXCI6cmV0dXJuIWkmJihudWxsIT09bj8hbi5hY2NlcHRzQm9vbGVhbnM6XCJkYXRhLVwiIT09KGU9ZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsNSkpJiZcImFyaWEtXCIhPT1lKTtkZWZhdWx0OnJldHVybiExfX0oZSx0LG4saSkpcmV0dXJuITA7aWYoaSlyZXR1cm4hMTtpZihudWxsIT09bilzd2l0Y2gobi50eXBlKXtjYXNlIDM6cmV0dXJuIXQ7Y2FzZSA0OnJldHVybiExPT09dDtjYXNlIDU6cmV0dXJuIGlzTmFOKHQpO2Nhc2UgNjpyZXR1cm4gaXNOYU4odCl8fDE+dH1yZXR1cm4hMX0odCxuLHIsaSkmJihuPW51bGwpLGl8fG51bGw9PT1yP2Z1bmN0aW9uKGUpe3JldHVybiEhRy5jYWxsKFcsZSl8fCFHLmNhbGwoWixlKSYmKFYudGVzdChlKT9XW2VdPSEwOihaW2VdPSEwLCExKSl9KHQpJiYobnVsbD09PW4/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6ZS5zZXRBdHRyaWJ1dGUodCxcIlwiK24pKTpyLm11c3RVc2VQcm9wZXJ0eT9lW3IucHJvcGVydHlOYW1lXT1udWxsPT09bj8zIT09ci50eXBlJiZcIlwiOm46KHQ9ci5hdHRyaWJ1dGVOYW1lLGk9ci5hdHRyaWJ1dGVOYW1lc3BhY2UsbnVsbD09PW4/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6KG49Mz09PShyPXIudHlwZSl8fDQ9PT1yJiYhMD09PW4/XCJcIjpcIlwiK24saT9lLnNldEF0dHJpYnV0ZU5TKGksdCxuKTplLnNldEF0dHJpYnV0ZSh0LG4pKSkpfVkuaGFzT3duUHJvcGVydHkoXCJSZWFjdEN1cnJlbnREaXNwYXRjaGVyXCIpfHwoWS5SZWFjdEN1cnJlbnREaXNwYXRjaGVyPXtjdXJyZW50Om51bGx9KSxZLmhhc093blByb3BlcnR5KFwiUmVhY3RDdXJyZW50QmF0Y2hDb25maWdcIil8fChZLlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnPXtzdXNwZW5zZTpudWxsfSk7dmFyIFE9L14oLiopW1xcXFxcXC9dLyxLPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmZvcixlZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzLHRlPUs/U3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKTo2MDEwNixuZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKTo2MDEwNyxpZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKTo2MDEwOCxyZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTo2MDExNCxvZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTo2MDEwOSxhZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpOjYwMTEwLHNlPUs/U3ltYm9sLmZvcihcInJlYWN0LmNvbmN1cnJlbnRfbW9kZVwiKTo2MDExMSxsZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKTo2MDExMixjZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKTo2MDExMyx1ZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpOjYwMTIwLGhlPUs/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsZGU9Sz9TeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKTo2MDExNixwZT1LP1N5bWJvbC5mb3IoXCJyZWFjdC5ibG9ja1wiKTo2MDEyMSxmZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcjtmdW5jdGlvbiBtZShlKXtyZXR1cm4gbnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiBlP251bGw6XCJmdW5jdGlvblwiPT10eXBlb2YoZT1mZSYmZVtmZV18fGVbXCJAQGl0ZXJhdG9yXCJdKT9lOm51bGx9ZnVuY3Rpb24gZ2UoZSl7aWYobnVsbD09ZSlyZXR1cm4gbnVsbDtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBlLmRpc3BsYXlOYW1lfHxlLm5hbWV8fG51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGU7c3dpdGNoKGUpe2Nhc2UgbmU6cmV0dXJuXCJGcmFnbWVudFwiO2Nhc2UgdGU6cmV0dXJuXCJQb3J0YWxcIjtjYXNlIHJlOnJldHVyblwiUHJvZmlsZXJcIjtjYXNlIGllOnJldHVyblwiU3RyaWN0TW9kZVwiO2Nhc2UgY2U6cmV0dXJuXCJTdXNwZW5zZVwiO2Nhc2UgdWU6cmV0dXJuXCJTdXNwZW5zZUxpc3RcIn1pZihcIm9iamVjdFwiPT10eXBlb2YgZSlzd2l0Y2goZS4kJHR5cGVvZil7Y2FzZSBhZTpyZXR1cm5cIkNvbnRleHQuQ29uc3VtZXJcIjtjYXNlIG9lOnJldHVyblwiQ29udGV4dC5Qcm92aWRlclwiO2Nhc2UgbGU6dmFyIHQ9ZS5yZW5kZXI7cmV0dXJuIHQ9dC5kaXNwbGF5TmFtZXx8dC5uYW1lfHxcIlwiLGUuZGlzcGxheU5hbWV8fChcIlwiIT09dD9cIkZvcndhcmRSZWYoXCIrdCtcIilcIjpcIkZvcndhcmRSZWZcIik7Y2FzZSBoZTpyZXR1cm4gZ2UoZS50eXBlKTtjYXNlIHBlOnJldHVybiBnZShlLnJlbmRlcik7Y2FzZSBkZTppZihlPTE9PT1lLl9zdGF0dXM/ZS5fcmVzdWx0Om51bGwpcmV0dXJuIGdlKGUpfXJldHVybiBudWxsfWZ1bmN0aW9uIHllKGUpe3ZhciB0PVwiXCI7ZG97ZTpzd2l0Y2goZS50YWcpe2Nhc2UgMzpjYXNlIDQ6Y2FzZSA2OmNhc2UgNzpjYXNlIDEwOmNhc2UgOTp2YXIgbj1cIlwiO2JyZWFrIGU7ZGVmYXVsdDp2YXIgaT1lLl9kZWJ1Z093bmVyLHI9ZS5fZGVidWdTb3VyY2Usbz1nZShlLnR5cGUpO249bnVsbCxpJiYobj1nZShpLnR5cGUpKSxpPW8sbz1cIlwiLHI/bz1cIiAoYXQgXCIrci5maWxlTmFtZS5yZXBsYWNlKFEsXCJcIikrXCI6XCIrci5saW5lTnVtYmVyK1wiKVwiOm4mJihvPVwiIChjcmVhdGVkIGJ5IFwiK24rXCIpXCIpLG49XCJcXG4gICAgaW4gXCIrKGl8fFwiVW5rbm93blwiKStvfXQrPW4sZT1lLnJldHVybn13aGlsZShlKTtyZXR1cm4gdH1mdW5jdGlvbiBfZShlKXtzd2l0Y2godHlwZW9mIGUpe2Nhc2VcImJvb2xlYW5cIjpjYXNlXCJudW1iZXJcIjpjYXNlXCJvYmplY3RcIjpjYXNlXCJzdHJpbmdcIjpjYXNlXCJ1bmRlZmluZWRcIjpyZXR1cm4gZTtkZWZhdWx0OnJldHVyblwiXCJ9fWZ1bmN0aW9uIHZlKGUpe3ZhciB0PWUudHlwZTtyZXR1cm4oZT1lLm5vZGVOYW1lKSYmXCJpbnB1dFwiPT09ZS50b0xvd2VyQ2FzZSgpJiYoXCJjaGVja2JveFwiPT09dHx8XCJyYWRpb1wiPT09dCl9ZnVuY3Rpb24geGUoZSl7ZS5fdmFsdWVUcmFja2VyfHwoZS5fdmFsdWVUcmFja2VyPWZ1bmN0aW9uKGUpe3ZhciB0PXZlKGUpP1wiY2hlY2tlZFwiOlwidmFsdWVcIixuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsdCksaT1cIlwiK2VbdF07aWYoIWUuaGFzT3duUHJvcGVydHkodCkmJnZvaWQgMCE9PW4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG4uZ2V0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBuLnNldCl7dmFyIHI9bi5nZXQsbz1uLnNldDtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmNhbGwodGhpcyl9LHNldDpmdW5jdGlvbihlKXtpPVwiXCIrZSxvLmNhbGwodGhpcyxlKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtlbnVtZXJhYmxlOm4uZW51bWVyYWJsZX0pLHtnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiBpfSxzZXRWYWx1ZTpmdW5jdGlvbihlKXtpPVwiXCIrZX0sc3RvcFRyYWNraW5nOmZ1bmN0aW9uKCl7ZS5fdmFsdWVUcmFja2VyPW51bGwsZGVsZXRlIGVbdF19fX19KGUpKX1mdW5jdGlvbiBiZShlKXtpZighZSlyZXR1cm4hMTt2YXIgdD1lLl92YWx1ZVRyYWNrZXI7aWYoIXQpcmV0dXJuITA7dmFyIG49dC5nZXRWYWx1ZSgpLGk9XCJcIjtyZXR1cm4gZSYmKGk9dmUoZSk/ZS5jaGVja2VkP1widHJ1ZVwiOlwiZmFsc2VcIjplLnZhbHVlKSwoZT1pKSE9PW4mJih0LnNldFZhbHVlKGUpLCEwKX1mdW5jdGlvbiB3ZShlLHQpe3ZhciBuPXQuY2hlY2tlZDtyZXR1cm4gcih7fSx0LHtkZWZhdWx0Q2hlY2tlZDp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMCx2YWx1ZTp2b2lkIDAsY2hlY2tlZDpudWxsIT1uP246ZS5fd3JhcHBlclN0YXRlLmluaXRpYWxDaGVja2VkfSl9ZnVuY3Rpb24gVGUoZSx0KXt2YXIgbj1udWxsPT10LmRlZmF1bHRWYWx1ZT9cIlwiOnQuZGVmYXVsdFZhbHVlLGk9bnVsbCE9dC5jaGVja2VkP3QuY2hlY2tlZDp0LmRlZmF1bHRDaGVja2VkO249X2UobnVsbCE9dC52YWx1ZT90LnZhbHVlOm4pLGUuX3dyYXBwZXJTdGF0ZT17aW5pdGlhbENoZWNrZWQ6aSxpbml0aWFsVmFsdWU6bixjb250cm9sbGVkOlwiY2hlY2tib3hcIj09PXQudHlwZXx8XCJyYWRpb1wiPT09dC50eXBlP251bGwhPXQuY2hlY2tlZDpudWxsIT10LnZhbHVlfX1mdW5jdGlvbiBFZShlLHQpe251bGwhPSh0PXQuY2hlY2tlZCkmJkooZSxcImNoZWNrZWRcIix0LCExKX1mdW5jdGlvbiBTZShlLHQpe0VlKGUsdCk7dmFyIG49X2UodC52YWx1ZSksaT10LnR5cGU7aWYobnVsbCE9bilcIm51bWJlclwiPT09aT8oMD09PW4mJlwiXCI9PT1lLnZhbHVlfHxlLnZhbHVlIT1uKSYmKGUudmFsdWU9XCJcIituKTplLnZhbHVlIT09XCJcIituJiYoZS52YWx1ZT1cIlwiK24pO2Vsc2UgaWYoXCJzdWJtaXRcIj09PWl8fFwicmVzZXRcIj09PWkpcmV0dXJuIHZvaWQgZS5yZW1vdmVBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTt0Lmhhc093blByb3BlcnR5KFwidmFsdWVcIik/SWUoZSx0LnR5cGUsbik6dC5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSYmSWUoZSx0LnR5cGUsX2UodC5kZWZhdWx0VmFsdWUpKSxudWxsPT10LmNoZWNrZWQmJm51bGwhPXQuZGVmYXVsdENoZWNrZWQmJihlLmRlZmF1bHRDaGVja2VkPSEhdC5kZWZhdWx0Q2hlY2tlZCl9ZnVuY3Rpb24gTWUoZSx0LG4pe2lmKHQuaGFzT3duUHJvcGVydHkoXCJ2YWx1ZVwiKXx8dC5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRWYWx1ZVwiKSl7dmFyIGk9dC50eXBlO2lmKCEoXCJzdWJtaXRcIiE9PWkmJlwicmVzZXRcIiE9PWl8fHZvaWQgMCE9PXQudmFsdWUmJm51bGwhPT10LnZhbHVlKSlyZXR1cm47dD1cIlwiK2UuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWUsbnx8dD09PWUudmFsdWV8fChlLnZhbHVlPXQpLGUuZGVmYXVsdFZhbHVlPXR9XCJcIiE9PShuPWUubmFtZSkmJihlLm5hbWU9XCJcIiksZS5kZWZhdWx0Q2hlY2tlZD0hIWUuX3dyYXBwZXJTdGF0ZS5pbml0aWFsQ2hlY2tlZCxcIlwiIT09biYmKGUubmFtZT1uKX1mdW5jdGlvbiBJZShlLHQsbil7XCJudW1iZXJcIj09PXQmJmUub3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZXx8KG51bGw9PW4/ZS5kZWZhdWx0VmFsdWU9XCJcIitlLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlOmUuZGVmYXVsdFZhbHVlIT09XCJcIituJiYoZS5kZWZhdWx0VmFsdWU9XCJcIituKSl9ZnVuY3Rpb24gQ2UoZSx0KXtyZXR1cm4gZT1yKHtjaGlsZHJlbjp2b2lkIDB9LHQpLCh0PWZ1bmN0aW9uKGUpe3ZhciB0PVwiXCI7cmV0dXJuIGkuQ2hpbGRyZW4uZm9yRWFjaChlLChmdW5jdGlvbihlKXtudWxsIT1lJiYodCs9ZSl9KSksdH0odC5jaGlsZHJlbikpJiYoZS5jaGlsZHJlbj10KSxlfWZ1bmN0aW9uIGtlKGUsdCxuLGkpe2lmKGU9ZS5vcHRpb25zLHQpe3Q9e307Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspdFtcIiRcIituW3JdXT0hMDtmb3Iobj0wO248ZS5sZW5ndGg7bisrKXI9dC5oYXNPd25Qcm9wZXJ0eShcIiRcIitlW25dLnZhbHVlKSxlW25dLnNlbGVjdGVkIT09ciYmKGVbbl0uc2VsZWN0ZWQ9ciksciYmaSYmKGVbbl0uZGVmYXVsdFNlbGVjdGVkPSEwKX1lbHNle2ZvcihuPVwiXCIrX2UobiksdD1udWxsLHI9MDtyPGUubGVuZ3RoO3IrKyl7aWYoZVtyXS52YWx1ZT09PW4pcmV0dXJuIGVbcl0uc2VsZWN0ZWQ9ITAsdm9pZChpJiYoZVtyXS5kZWZhdWx0U2VsZWN0ZWQ9ITApKTtudWxsIT09dHx8ZVtyXS5kaXNhYmxlZHx8KHQ9ZVtyXSl9bnVsbCE9PXQmJih0LnNlbGVjdGVkPSEwKX19ZnVuY3Rpb24gQWUoZSx0KXtpZihudWxsIT10LmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MKXRocm93IEVycm9yKGEoOTEpKTtyZXR1cm4gcih7fSx0LHt2YWx1ZTp2b2lkIDAsZGVmYXVsdFZhbHVlOnZvaWQgMCxjaGlsZHJlbjpcIlwiK2UuX3dyYXBwZXJTdGF0ZS5pbml0aWFsVmFsdWV9KX1mdW5jdGlvbiBQZShlLHQpe3ZhciBuPXQudmFsdWU7aWYobnVsbD09bil7aWYobj10LmNoaWxkcmVuLHQ9dC5kZWZhdWx0VmFsdWUsbnVsbCE9bil7aWYobnVsbCE9dCl0aHJvdyBFcnJvcihhKDkyKSk7aWYoQXJyYXkuaXNBcnJheShuKSl7aWYoISgxPj1uLmxlbmd0aCkpdGhyb3cgRXJyb3IoYSg5MykpO249blswXX10PW59bnVsbD09dCYmKHQ9XCJcIiksbj10fWUuX3dyYXBwZXJTdGF0ZT17aW5pdGlhbFZhbHVlOl9lKG4pfX1mdW5jdGlvbiB6ZShlLHQpe3ZhciBuPV9lKHQudmFsdWUpLGk9X2UodC5kZWZhdWx0VmFsdWUpO251bGwhPW4mJigobj1cIlwiK24pIT09ZS52YWx1ZSYmKGUudmFsdWU9biksbnVsbD09dC5kZWZhdWx0VmFsdWUmJmUuZGVmYXVsdFZhbHVlIT09biYmKGUuZGVmYXVsdFZhbHVlPW4pKSxudWxsIT1pJiYoZS5kZWZhdWx0VmFsdWU9XCJcIitpKX1mdW5jdGlvbiBEZShlKXt2YXIgdD1lLnRleHRDb250ZW50O3Q9PT1lLl93cmFwcGVyU3RhdGUuaW5pdGlhbFZhbHVlJiZcIlwiIT09dCYmbnVsbCE9PXQmJihlLnZhbHVlPXQpfXZhciBMZT1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIixPZT1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI7ZnVuY3Rpb24gUmUoZSl7c3dpdGNoKGUpe2Nhc2VcInN2Z1wiOnJldHVyblwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtjYXNlXCJtYXRoXCI6cmV0dXJuXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCI7ZGVmYXVsdDpyZXR1cm5cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIn19ZnVuY3Rpb24gQmUoZSx0KXtyZXR1cm4gbnVsbD09ZXx8XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hodG1sXCI9PT1lP1JlKHQpOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj09PWUmJlwiZm9yZWlnbk9iamVjdFwiPT09dD9cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIjplfXZhciBqZSxGZT1mdW5jdGlvbihlKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgTVNBcHAmJk1TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uP2Z1bmN0aW9uKHQsbixpLHIpe01TQXBwLmV4ZWNVbnNhZmVMb2NhbEZ1bmN0aW9uKChmdW5jdGlvbigpe3JldHVybiBlKHQsbil9KSl9OmV9KChmdW5jdGlvbihlLHQpe2lmKGUubmFtZXNwYWNlVVJJIT09T2V8fFwiaW5uZXJIVE1MXCJpbiBlKWUuaW5uZXJIVE1MPXQ7ZWxzZXtmb3IoKGplPWplfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5pbm5lckhUTUw9XCI8c3ZnPlwiK3QudmFsdWVPZigpLnRvU3RyaW5nKCkrXCI8L3N2Zz5cIix0PWplLmZpcnN0Q2hpbGQ7ZS5maXJzdENoaWxkOyllLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7Zm9yKDt0LmZpcnN0Q2hpbGQ7KWUuYXBwZW5kQ2hpbGQodC5maXJzdENoaWxkKX19KSk7ZnVuY3Rpb24gTmUoZSx0KXtpZih0KXt2YXIgbj1lLmZpcnN0Q2hpbGQ7aWYobiYmbj09PWUubGFzdENoaWxkJiYzPT09bi5ub2RlVHlwZSlyZXR1cm4gdm9pZChuLm5vZGVWYWx1ZT10KX1lLnRleHRDb250ZW50PXR9ZnVuY3Rpb24gVWUoZSx0KXt2YXIgbj17fTtyZXR1cm4gbltlLnRvTG93ZXJDYXNlKCldPXQudG9Mb3dlckNhc2UoKSxuW1wiV2Via2l0XCIrZV09XCJ3ZWJraXRcIit0LG5bXCJNb3pcIitlXT1cIm1velwiK3Qsbn12YXIgVmU9e2FuaW1hdGlvbmVuZDpVZShcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uRW5kXCIpLGFuaW1hdGlvbml0ZXJhdGlvbjpVZShcIkFuaW1hdGlvblwiLFwiQW5pbWF0aW9uSXRlcmF0aW9uXCIpLGFuaW1hdGlvbnN0YXJ0OlVlKFwiQW5pbWF0aW9uXCIsXCJBbmltYXRpb25TdGFydFwiKSx0cmFuc2l0aW9uZW5kOlVlKFwiVHJhbnNpdGlvblwiLFwiVHJhbnNpdGlvbkVuZFwiKX0sR2U9e30sWmU9e307ZnVuY3Rpb24gV2UoZSl7aWYoR2VbZV0pcmV0dXJuIEdlW2VdO2lmKCFWZVtlXSlyZXR1cm4gZTt2YXIgdCxuPVZlW2VdO2Zvcih0IGluIG4paWYobi5oYXNPd25Qcm9wZXJ0eSh0KSYmdCBpbiBaZSlyZXR1cm4gR2VbZV09blt0XTtyZXR1cm4gZX1JJiYoWmU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSxcIkFuaW1hdGlvbkV2ZW50XCJpbiB3aW5kb3d8fChkZWxldGUgVmUuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbixkZWxldGUgVmUuYW5pbWF0aW9uaXRlcmF0aW9uLmFuaW1hdGlvbixkZWxldGUgVmUuYW5pbWF0aW9uc3RhcnQuYW5pbWF0aW9uKSxcIlRyYW5zaXRpb25FdmVudFwiaW4gd2luZG93fHxkZWxldGUgVmUudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uKTt2YXIgcWU9V2UoXCJhbmltYXRpb25lbmRcIiksJGU9V2UoXCJhbmltYXRpb25pdGVyYXRpb25cIiksSGU9V2UoXCJhbmltYXRpb25zdGFydFwiKSxYZT1XZShcInRyYW5zaXRpb25lbmRcIiksWWU9XCJhYm9ydCBjYW5wbGF5IGNhbnBsYXl0aHJvdWdoIGR1cmF0aW9uY2hhbmdlIGVtcHRpZWQgZW5jcnlwdGVkIGVuZGVkIGVycm9yIGxvYWRlZGRhdGEgbG9hZGVkbWV0YWRhdGEgbG9hZHN0YXJ0IHBhdXNlIHBsYXkgcGxheWluZyBwcm9ncmVzcyByYXRlY2hhbmdlIHNlZWtlZCBzZWVraW5nIHN0YWxsZWQgc3VzcGVuZCB0aW1ldXBkYXRlIHZvbHVtZWNoYW5nZSB3YWl0aW5nXCIuc3BsaXQoXCIgXCIpLEplPW5ldyhcImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWFrTWFwP1dlYWtNYXA6TWFwKTtmdW5jdGlvbiBRZShlKXt2YXIgdD1KZS5nZXQoZSk7cmV0dXJuIHZvaWQgMD09PXQmJih0PW5ldyBNYXAsSmUuc2V0KGUsdCkpLHR9ZnVuY3Rpb24gS2UoZSl7dmFyIHQ9ZSxuPWU7aWYoZS5hbHRlcm5hdGUpZm9yKDt0LnJldHVybjspdD10LnJldHVybjtlbHNle2U9dDtkb3swIT0oMTAyNiYodD1lKS5lZmZlY3RUYWcpJiYobj10LnJldHVybiksZT10LnJldHVybn13aGlsZShlKX1yZXR1cm4gMz09PXQudGFnP246bnVsbH1mdW5jdGlvbiBldChlKXtpZigxMz09PWUudGFnKXt2YXIgdD1lLm1lbW9pemVkU3RhdGU7aWYobnVsbD09PXQmJihudWxsIT09KGU9ZS5hbHRlcm5hdGUpJiYodD1lLm1lbW9pemVkU3RhdGUpKSxudWxsIT09dClyZXR1cm4gdC5kZWh5ZHJhdGVkfXJldHVybiBudWxsfWZ1bmN0aW9uIHR0KGUpe2lmKEtlKGUpIT09ZSl0aHJvdyBFcnJvcihhKDE4OCkpfWZ1bmN0aW9uIG50KGUpe2lmKCEoZT1mdW5jdGlvbihlKXt2YXIgdD1lLmFsdGVybmF0ZTtpZighdCl7aWYobnVsbD09PSh0PUtlKGUpKSl0aHJvdyBFcnJvcihhKDE4OCkpO3JldHVybiB0IT09ZT9udWxsOmV9Zm9yKHZhciBuPWUsaT10Ozspe3ZhciByPW4ucmV0dXJuO2lmKG51bGw9PT1yKWJyZWFrO3ZhciBvPXIuYWx0ZXJuYXRlO2lmKG51bGw9PT1vKXtpZihudWxsIT09KGk9ci5yZXR1cm4pKXtuPWk7Y29udGludWV9YnJlYWt9aWYoci5jaGlsZD09PW8uY2hpbGQpe2ZvcihvPXIuY2hpbGQ7bzspe2lmKG89PT1uKXJldHVybiB0dChyKSxlO2lmKG89PT1pKXJldHVybiB0dChyKSx0O289by5zaWJsaW5nfXRocm93IEVycm9yKGEoMTg4KSl9aWYobi5yZXR1cm4hPT1pLnJldHVybiluPXIsaT1vO2Vsc2V7Zm9yKHZhciBzPSExLGw9ci5jaGlsZDtsOyl7aWYobD09PW4pe3M9ITAsbj1yLGk9bzticmVha31pZihsPT09aSl7cz0hMCxpPXIsbj1vO2JyZWFrfWw9bC5zaWJsaW5nfWlmKCFzKXtmb3IobD1vLmNoaWxkO2w7KXtpZihsPT09bil7cz0hMCxuPW8saT1yO2JyZWFrfWlmKGw9PT1pKXtzPSEwLGk9byxuPXI7YnJlYWt9bD1sLnNpYmxpbmd9aWYoIXMpdGhyb3cgRXJyb3IoYSgxODkpKX19aWYobi5hbHRlcm5hdGUhPT1pKXRocm93IEVycm9yKGEoMTkwKSl9aWYoMyE9PW4udGFnKXRocm93IEVycm9yKGEoMTg4KSk7cmV0dXJuIG4uc3RhdGVOb2RlLmN1cnJlbnQ9PT1uP2U6dH0oZSkpKXJldHVybiBudWxsO2Zvcih2YXIgdD1lOzspe2lmKDU9PT10LnRhZ3x8Nj09PXQudGFnKXJldHVybiB0O2lmKHQuY2hpbGQpdC5jaGlsZC5yZXR1cm49dCx0PXQuY2hpbGQ7ZWxzZXtpZih0PT09ZSlicmVhaztmb3IoOyF0LnNpYmxpbmc7KXtpZighdC5yZXR1cm58fHQucmV0dXJuPT09ZSlyZXR1cm4gbnVsbDt0PXQucmV0dXJufXQuc2libGluZy5yZXR1cm49dC5yZXR1cm4sdD10LnNpYmxpbmd9fXJldHVybiBudWxsfWZ1bmN0aW9uIGl0KGUsdCl7aWYobnVsbD09dCl0aHJvdyBFcnJvcihhKDMwKSk7cmV0dXJuIG51bGw9PWU/dDpBcnJheS5pc0FycmF5KGUpP0FycmF5LmlzQXJyYXkodCk/KGUucHVzaC5hcHBseShlLHQpLGUpOihlLnB1c2godCksZSk6QXJyYXkuaXNBcnJheSh0KT9bZV0uY29uY2F0KHQpOltlLHRdfWZ1bmN0aW9uIHJ0KGUsdCxuKXtBcnJheS5pc0FycmF5KGUpP2UuZm9yRWFjaCh0LG4pOmUmJnQuY2FsbChuLGUpfXZhciBvdD1udWxsO2Z1bmN0aW9uIGF0KGUpe2lmKGUpe3ZhciB0PWUuX2Rpc3BhdGNoTGlzdGVuZXJzLG49ZS5fZGlzcGF0Y2hJbnN0YW5jZXM7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIGk9MDtpPHQubGVuZ3RoJiYhZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpO2krKyl5KGUsdFtpXSxuW2ldKTtlbHNlIHQmJnkoZSx0LG4pO2UuX2Rpc3BhdGNoTGlzdGVuZXJzPW51bGwsZS5fZGlzcGF0Y2hJbnN0YW5jZXM9bnVsbCxlLmlzUGVyc2lzdGVudCgpfHxlLmNvbnN0cnVjdG9yLnJlbGVhc2UoZSl9fWZ1bmN0aW9uIHN0KGUpe2lmKG51bGwhPT1lJiYob3Q9aXQob3QsZSkpLGU9b3Qsb3Q9bnVsbCxlKXtpZihydChlLGF0KSxvdCl0aHJvdyBFcnJvcihhKDk1KSk7aWYodSl0aHJvdyBlPWgsdT0hMSxoPW51bGwsZX19ZnVuY3Rpb24gbHQoZSl7cmV0dXJuKGU9ZS50YXJnZXR8fGUuc3JjRWxlbWVudHx8d2luZG93KS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCYmKGU9ZS5jb3JyZXNwb25kaW5nVXNlRWxlbWVudCksMz09PWUubm9kZVR5cGU/ZS5wYXJlbnROb2RlOmV9ZnVuY3Rpb24gY3QoZSl7aWYoIUkpcmV0dXJuITE7dmFyIHQ9KGU9XCJvblwiK2UpaW4gZG9jdW1lbnQ7cmV0dXJuIHR8fCgodD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5zZXRBdHRyaWJ1dGUoZSxcInJldHVybjtcIiksdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0W2VdKSx0fXZhciB1dD1bXTtmdW5jdGlvbiBodChlKXtlLnRvcExldmVsVHlwZT1udWxsLGUubmF0aXZlRXZlbnQ9bnVsbCxlLnRhcmdldEluc3Q9bnVsbCxlLmFuY2VzdG9ycy5sZW5ndGg9MCwxMD51dC5sZW5ndGgmJnV0LnB1c2goZSl9ZnVuY3Rpb24gZHQoZSx0LG4saSl7aWYodXQubGVuZ3RoKXt2YXIgcj11dC5wb3AoKTtyZXR1cm4gci50b3BMZXZlbFR5cGU9ZSxyLmV2ZW50U3lzdGVtRmxhZ3M9aSxyLm5hdGl2ZUV2ZW50PXQsci50YXJnZXRJbnN0PW4scn1yZXR1cm57dG9wTGV2ZWxUeXBlOmUsZXZlbnRTeXN0ZW1GbGFnczppLG5hdGl2ZUV2ZW50OnQsdGFyZ2V0SW5zdDpuLGFuY2VzdG9yczpbXX19ZnVuY3Rpb24gcHQoZSl7dmFyIHQ9ZS50YXJnZXRJbnN0LG49dDtkb3tpZighbil7ZS5hbmNlc3RvcnMucHVzaChuKTticmVha312YXIgaT1uO2lmKDM9PT1pLnRhZylpPWkuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87ZWxzZXtmb3IoO2kucmV0dXJuOylpPWkucmV0dXJuO2k9MyE9PWkudGFnP251bGw6aS5zdGF0ZU5vZGUuY29udGFpbmVySW5mb31pZighaSlicmVhazs1IT09KHQ9bi50YWcpJiY2IT09dHx8ZS5hbmNlc3RvcnMucHVzaChuKSxuPUluKGkpfXdoaWxlKG4pO2ZvcihuPTA7bjxlLmFuY2VzdG9ycy5sZW5ndGg7bisrKXt0PWUuYW5jZXN0b3JzW25dO3ZhciByPWx0KGUubmF0aXZlRXZlbnQpO2k9ZS50b3BMZXZlbFR5cGU7dmFyIG89ZS5uYXRpdmVFdmVudCxhPWUuZXZlbnRTeXN0ZW1GbGFnczswPT09biYmKGF8PTY0KTtmb3IodmFyIHM9bnVsbCxsPTA7bDx3Lmxlbmd0aDtsKyspe3ZhciBjPXdbbF07YyYmKGM9Yy5leHRyYWN0RXZlbnRzKGksdCxvLHIsYSkpJiYocz1pdChzLGMpKX1zdChzKX19ZnVuY3Rpb24gZnQoZSx0LG4pe2lmKCFuLmhhcyhlKSl7c3dpdGNoKGUpe2Nhc2VcInNjcm9sbFwiOkh0KHQsXCJzY3JvbGxcIiwhMCk7YnJlYWs7Y2FzZVwiZm9jdXNcIjpjYXNlXCJibHVyXCI6SHQodCxcImZvY3VzXCIsITApLEh0KHQsXCJibHVyXCIsITApLG4uc2V0KFwiYmx1clwiLG51bGwpLG4uc2V0KFwiZm9jdXNcIixudWxsKTticmVhaztjYXNlXCJjYW5jZWxcIjpjYXNlXCJjbG9zZVwiOmN0KGUpJiZIdCh0LGUsITApO2JyZWFrO2Nhc2VcImludmFsaWRcIjpjYXNlXCJzdWJtaXRcIjpjYXNlXCJyZXNldFwiOmJyZWFrO2RlZmF1bHQ6LTE9PT1ZZS5pbmRleE9mKGUpJiYkdChlLHQpfW4uc2V0KGUsbnVsbCl9fXZhciBtdCxndCx5dCxfdD0hMSx2dD1bXSx4dD1udWxsLGJ0PW51bGwsd3Q9bnVsbCxUdD1uZXcgTWFwLEV0PW5ldyBNYXAsU3Q9W10sTXQ9XCJtb3VzZWRvd24gbW91c2V1cCB0b3VjaGNhbmNlbCB0b3VjaGVuZCB0b3VjaHN0YXJ0IGF1eGNsaWNrIGRibGNsaWNrIHBvaW50ZXJjYW5jZWwgcG9pbnRlcmRvd24gcG9pbnRlcnVwIGRyYWdlbmQgZHJhZ3N0YXJ0IGRyb3AgY29tcG9zaXRpb25lbmQgY29tcG9zaXRpb25zdGFydCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IHRleHRJbnB1dCBjbG9zZSBjYW5jZWwgY29weSBjdXQgcGFzdGUgY2xpY2sgY2hhbmdlIGNvbnRleHRtZW51IHJlc2V0IHN1Ym1pdFwiLnNwbGl0KFwiIFwiKSxJdD1cImZvY3VzIGJsdXIgZHJhZ2VudGVyIGRyYWdsZWF2ZSBtb3VzZW92ZXIgbW91c2VvdXQgcG9pbnRlcm92ZXIgcG9pbnRlcm91dCBnb3Rwb2ludGVyY2FwdHVyZSBsb3N0cG9pbnRlcmNhcHR1cmVcIi5zcGxpdChcIiBcIik7ZnVuY3Rpb24gQ3QoZSx0LG4saSxyKXtyZXR1cm57YmxvY2tlZE9uOmUsdG9wTGV2ZWxUeXBlOnQsZXZlbnRTeXN0ZW1GbGFnczozMnxuLG5hdGl2ZUV2ZW50OnIsY29udGFpbmVyOml9fWZ1bmN0aW9uIGt0KGUsdCl7c3dpdGNoKGUpe2Nhc2VcImZvY3VzXCI6Y2FzZVwiYmx1clwiOnh0PW51bGw7YnJlYWs7Y2FzZVwiZHJhZ2VudGVyXCI6Y2FzZVwiZHJhZ2xlYXZlXCI6YnQ9bnVsbDticmVhaztjYXNlXCJtb3VzZW92ZXJcIjpjYXNlXCJtb3VzZW91dFwiOnd0PW51bGw7YnJlYWs7Y2FzZVwicG9pbnRlcm92ZXJcIjpjYXNlXCJwb2ludGVyb3V0XCI6VHQuZGVsZXRlKHQucG9pbnRlcklkKTticmVhaztjYXNlXCJnb3Rwb2ludGVyY2FwdHVyZVwiOmNhc2VcImxvc3Rwb2ludGVyY2FwdHVyZVwiOkV0LmRlbGV0ZSh0LnBvaW50ZXJJZCl9fWZ1bmN0aW9uIEF0KGUsdCxuLGkscixvKXtyZXR1cm4gbnVsbD09PWV8fGUubmF0aXZlRXZlbnQhPT1vPyhlPUN0KHQsbixpLHIsbyksbnVsbCE9PXQmJihudWxsIT09KHQ9Q24odCkpJiZndCh0KSksZSk6KGUuZXZlbnRTeXN0ZW1GbGFnc3w9aSxlKX1mdW5jdGlvbiBQdChlKXt2YXIgdD1JbihlLnRhcmdldCk7aWYobnVsbCE9PXQpe3ZhciBuPUtlKHQpO2lmKG51bGwhPT1uKWlmKDEzPT09KHQ9bi50YWcpKXtpZihudWxsIT09KHQ9ZXQobikpKXJldHVybiBlLmJsb2NrZWRPbj10LHZvaWQgby51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHkoZS5wcmlvcml0eSwoZnVuY3Rpb24oKXt5dChuKX0pKX1lbHNlIGlmKDM9PT10JiZuLnN0YXRlTm9kZS5oeWRyYXRlKXJldHVybiB2b2lkKGUuYmxvY2tlZE9uPTM9PT1uLnRhZz9uLnN0YXRlTm9kZS5jb250YWluZXJJbmZvOm51bGwpfWUuYmxvY2tlZE9uPW51bGx9ZnVuY3Rpb24genQoZSl7aWYobnVsbCE9PWUuYmxvY2tlZE9uKXJldHVybiExO3ZhciB0PVF0KGUudG9wTGV2ZWxUeXBlLGUuZXZlbnRTeXN0ZW1GbGFncyxlLmNvbnRhaW5lcixlLm5hdGl2ZUV2ZW50KTtpZihudWxsIT09dCl7dmFyIG49Q24odCk7cmV0dXJuIG51bGwhPT1uJiZndChuKSxlLmJsb2NrZWRPbj10LCExfXJldHVybiEwfWZ1bmN0aW9uIER0KGUsdCxuKXt6dChlKSYmbi5kZWxldGUodCl9ZnVuY3Rpb24gTHQoKXtmb3IoX3Q9ITE7MDx2dC5sZW5ndGg7KXt2YXIgZT12dFswXTtpZihudWxsIT09ZS5ibG9ja2VkT24pe251bGwhPT0oZT1DbihlLmJsb2NrZWRPbikpJiZtdChlKTticmVha312YXIgdD1RdChlLnRvcExldmVsVHlwZSxlLmV2ZW50U3lzdGVtRmxhZ3MsZS5jb250YWluZXIsZS5uYXRpdmVFdmVudCk7bnVsbCE9PXQ/ZS5ibG9ja2VkT249dDp2dC5zaGlmdCgpfW51bGwhPT14dCYmenQoeHQpJiYoeHQ9bnVsbCksbnVsbCE9PWJ0JiZ6dChidCkmJihidD1udWxsKSxudWxsIT09d3QmJnp0KHd0KSYmKHd0PW51bGwpLFR0LmZvckVhY2goRHQpLEV0LmZvckVhY2goRHQpfWZ1bmN0aW9uIE90KGUsdCl7ZS5ibG9ja2VkT249PT10JiYoZS5ibG9ja2VkT249bnVsbCxfdHx8KF90PSEwLG8udW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayhvLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LEx0KSkpfWZ1bmN0aW9uIFJ0KGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIE90KHQsZSl9aWYoMDx2dC5sZW5ndGgpe090KHZ0WzBdLGUpO2Zvcih2YXIgbj0xO248dnQubGVuZ3RoO24rKyl7dmFyIGk9dnRbbl07aS5ibG9ja2VkT249PT1lJiYoaS5ibG9ja2VkT249bnVsbCl9fWZvcihudWxsIT09eHQmJk90KHh0LGUpLG51bGwhPT1idCYmT3QoYnQsZSksbnVsbCE9PXd0JiZPdCh3dCxlKSxUdC5mb3JFYWNoKHQpLEV0LmZvckVhY2godCksbj0wO248U3QubGVuZ3RoO24rKykoaT1TdFtuXSkuYmxvY2tlZE9uPT09ZSYmKGkuYmxvY2tlZE9uPW51bGwpO2Zvcig7MDxTdC5sZW5ndGgmJm51bGw9PT0obj1TdFswXSkuYmxvY2tlZE9uOylQdChuKSxudWxsPT09bi5ibG9ja2VkT24mJlN0LnNoaWZ0KCl9dmFyIEJ0PXt9LGp0PW5ldyBNYXAsRnQ9bmV3IE1hcCxOdD1bXCJhYm9ydFwiLFwiYWJvcnRcIixxZSxcImFuaW1hdGlvbkVuZFwiLCRlLFwiYW5pbWF0aW9uSXRlcmF0aW9uXCIsSGUsXCJhbmltYXRpb25TdGFydFwiLFwiY2FucGxheVwiLFwiY2FuUGxheVwiLFwiY2FucGxheXRocm91Z2hcIixcImNhblBsYXlUaHJvdWdoXCIsXCJkdXJhdGlvbmNoYW5nZVwiLFwiZHVyYXRpb25DaGFuZ2VcIixcImVtcHRpZWRcIixcImVtcHRpZWRcIixcImVuY3J5cHRlZFwiLFwiZW5jcnlwdGVkXCIsXCJlbmRlZFwiLFwiZW5kZWRcIixcImVycm9yXCIsXCJlcnJvclwiLFwiZ290cG9pbnRlcmNhcHR1cmVcIixcImdvdFBvaW50ZXJDYXB0dXJlXCIsXCJsb2FkXCIsXCJsb2FkXCIsXCJsb2FkZWRkYXRhXCIsXCJsb2FkZWREYXRhXCIsXCJsb2FkZWRtZXRhZGF0YVwiLFwibG9hZGVkTWV0YWRhdGFcIixcImxvYWRzdGFydFwiLFwibG9hZFN0YXJ0XCIsXCJsb3N0cG9pbnRlcmNhcHR1cmVcIixcImxvc3RQb2ludGVyQ2FwdHVyZVwiLFwicGxheWluZ1wiLFwicGxheWluZ1wiLFwicHJvZ3Jlc3NcIixcInByb2dyZXNzXCIsXCJzZWVraW5nXCIsXCJzZWVraW5nXCIsXCJzdGFsbGVkXCIsXCJzdGFsbGVkXCIsXCJzdXNwZW5kXCIsXCJzdXNwZW5kXCIsXCJ0aW1ldXBkYXRlXCIsXCJ0aW1lVXBkYXRlXCIsWGUsXCJ0cmFuc2l0aW9uRW5kXCIsXCJ3YWl0aW5nXCIsXCJ3YWl0aW5nXCJdO2Z1bmN0aW9uIFV0KGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKz0yKXt2YXIgaT1lW25dLHI9ZVtuKzFdLG89XCJvblwiKyhyWzBdLnRvVXBwZXJDYXNlKCkrci5zbGljZSgxKSk7bz17cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6byxjYXB0dXJlZDpvK1wiQ2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6W2ldLGV2ZW50UHJpb3JpdHk6dH0sRnQuc2V0KGksdCksanQuc2V0KGksbyksQnRbcl09b319VXQoXCJibHVyIGJsdXIgY2FuY2VsIGNhbmNlbCBjbGljayBjbGljayBjbG9zZSBjbG9zZSBjb250ZXh0bWVudSBjb250ZXh0TWVudSBjb3B5IGNvcHkgY3V0IGN1dCBhdXhjbGljayBhdXhDbGljayBkYmxjbGljayBkb3VibGVDbGljayBkcmFnZW5kIGRyYWdFbmQgZHJhZ3N0YXJ0IGRyYWdTdGFydCBkcm9wIGRyb3AgZm9jdXMgZm9jdXMgaW5wdXQgaW5wdXQgaW52YWxpZCBpbnZhbGlkIGtleWRvd24ga2V5RG93biBrZXlwcmVzcyBrZXlQcmVzcyBrZXl1cCBrZXlVcCBtb3VzZWRvd24gbW91c2VEb3duIG1vdXNldXAgbW91c2VVcCBwYXN0ZSBwYXN0ZSBwYXVzZSBwYXVzZSBwbGF5IHBsYXkgcG9pbnRlcmNhbmNlbCBwb2ludGVyQ2FuY2VsIHBvaW50ZXJkb3duIHBvaW50ZXJEb3duIHBvaW50ZXJ1cCBwb2ludGVyVXAgcmF0ZWNoYW5nZSByYXRlQ2hhbmdlIHJlc2V0IHJlc2V0IHNlZWtlZCBzZWVrZWQgc3VibWl0IHN1Ym1pdCB0b3VjaGNhbmNlbCB0b3VjaENhbmNlbCB0b3VjaGVuZCB0b3VjaEVuZCB0b3VjaHN0YXJ0IHRvdWNoU3RhcnQgdm9sdW1lY2hhbmdlIHZvbHVtZUNoYW5nZVwiLnNwbGl0KFwiIFwiKSwwKSxVdChcImRyYWcgZHJhZyBkcmFnZW50ZXIgZHJhZ0VudGVyIGRyYWdleGl0IGRyYWdFeGl0IGRyYWdsZWF2ZSBkcmFnTGVhdmUgZHJhZ292ZXIgZHJhZ092ZXIgbW91c2Vtb3ZlIG1vdXNlTW92ZSBtb3VzZW91dCBtb3VzZU91dCBtb3VzZW92ZXIgbW91c2VPdmVyIHBvaW50ZXJtb3ZlIHBvaW50ZXJNb3ZlIHBvaW50ZXJvdXQgcG9pbnRlck91dCBwb2ludGVyb3ZlciBwb2ludGVyT3ZlciBzY3JvbGwgc2Nyb2xsIHRvZ2dsZSB0b2dnbGUgdG91Y2htb3ZlIHRvdWNoTW92ZSB3aGVlbCB3aGVlbFwiLnNwbGl0KFwiIFwiKSwxKSxVdChOdCwyKTtmb3IodmFyIFZ0PVwiY2hhbmdlIHNlbGVjdGlvbmNoYW5nZSB0ZXh0SW5wdXQgY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCBjb21wb3NpdGlvbnVwZGF0ZVwiLnNwbGl0KFwiIFwiKSxHdD0wO0d0PFZ0Lmxlbmd0aDtHdCsrKUZ0LnNldChWdFtHdF0sMCk7dmFyIFp0PW8udW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHksV3Q9by51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHkscXQ9ITA7ZnVuY3Rpb24gJHQoZSx0KXtIdCh0LGUsITEpfWZ1bmN0aW9uIEh0KGUsdCxuKXt2YXIgaT1GdC5nZXQodCk7c3dpdGNoKHZvaWQgMD09PWk/MjppKXtjYXNlIDA6aT1YdC5iaW5kKG51bGwsdCwxLGUpO2JyZWFrO2Nhc2UgMTppPVl0LmJpbmQobnVsbCx0LDEsZSk7YnJlYWs7ZGVmYXVsdDppPUp0LmJpbmQobnVsbCx0LDEsZSl9bj9lLmFkZEV2ZW50TGlzdGVuZXIodCxpLCEwKTplLmFkZEV2ZW50TGlzdGVuZXIodCxpLCExKX1mdW5jdGlvbiBYdChlLHQsbixpKXtqfHxSKCk7dmFyIHI9SnQsbz1qO2o9ITA7dHJ5e08ocixlLHQsbixpKX1maW5hbGx5eyhqPW8pfHxOKCl9fWZ1bmN0aW9uIFl0KGUsdCxuLGkpe1d0KFp0LEp0LmJpbmQobnVsbCxlLHQsbixpKSl9ZnVuY3Rpb24gSnQoZSx0LG4saSl7aWYocXQpaWYoMDx2dC5sZW5ndGgmJi0xPE10LmluZGV4T2YoZSkpZT1DdChudWxsLGUsdCxuLGkpLHZ0LnB1c2goZSk7ZWxzZXt2YXIgcj1RdChlLHQsbixpKTtpZihudWxsPT09cilrdChlLGkpO2Vsc2UgaWYoLTE8TXQuaW5kZXhPZihlKSllPUN0KHIsZSx0LG4saSksdnQucHVzaChlKTtlbHNlIGlmKCFmdW5jdGlvbihlLHQsbixpLHIpe3N3aXRjaCh0KXtjYXNlXCJmb2N1c1wiOnJldHVybiB4dD1BdCh4dCxlLHQsbixpLHIpLCEwO2Nhc2VcImRyYWdlbnRlclwiOnJldHVybiBidD1BdChidCxlLHQsbixpLHIpLCEwO2Nhc2VcIm1vdXNlb3ZlclwiOnJldHVybiB3dD1BdCh3dCxlLHQsbixpLHIpLCEwO2Nhc2VcInBvaW50ZXJvdmVyXCI6dmFyIG89ci5wb2ludGVySWQ7cmV0dXJuIFR0LnNldChvLEF0KFR0LmdldChvKXx8bnVsbCxlLHQsbixpLHIpKSwhMDtjYXNlXCJnb3Rwb2ludGVyY2FwdHVyZVwiOnJldHVybiBvPXIucG9pbnRlcklkLEV0LnNldChvLEF0KEV0LmdldChvKXx8bnVsbCxlLHQsbixpLHIpKSwhMH1yZXR1cm4hMX0ocixlLHQsbixpKSl7a3QoZSxpKSxlPWR0KGUsaSxudWxsLHQpO3RyeXtVKHB0LGUpfWZpbmFsbHl7aHQoZSl9fX19ZnVuY3Rpb24gUXQoZSx0LG4saSl7aWYobnVsbCE9PShuPUluKG49bHQoaSkpKSl7dmFyIHI9S2Uobik7aWYobnVsbD09PXIpbj1udWxsO2Vsc2V7dmFyIG89ci50YWc7aWYoMTM9PT1vKXtpZihudWxsIT09KG49ZXQocikpKXJldHVybiBuO249bnVsbH1lbHNlIGlmKDM9PT1vKXtpZihyLnN0YXRlTm9kZS5oeWRyYXRlKXJldHVybiAzPT09ci50YWc/ci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbzpudWxsO249bnVsbH1lbHNlIHIhPT1uJiYobj1udWxsKX19ZT1kdChlLGksbix0KTt0cnl7VShwdCxlKX1maW5hbGx5e2h0KGUpfXJldHVybiBudWxsfXZhciBLdD17YW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ6ITAsYm9yZGVySW1hZ2VPdXRzZXQ6ITAsYm9yZGVySW1hZ2VTbGljZTohMCxib3JkZXJJbWFnZVdpZHRoOiEwLGJveEZsZXg6ITAsYm94RmxleEdyb3VwOiEwLGJveE9yZGluYWxHcm91cDohMCxjb2x1bW5Db3VudDohMCxjb2x1bW5zOiEwLGZsZXg6ITAsZmxleEdyb3c6ITAsZmxleFBvc2l0aXZlOiEwLGZsZXhTaHJpbms6ITAsZmxleE5lZ2F0aXZlOiEwLGZsZXhPcmRlcjohMCxncmlkQXJlYTohMCxncmlkUm93OiEwLGdyaWRSb3dFbmQ6ITAsZ3JpZFJvd1NwYW46ITAsZ3JpZFJvd1N0YXJ0OiEwLGdyaWRDb2x1bW46ITAsZ3JpZENvbHVtbkVuZDohMCxncmlkQ29sdW1uU3BhbjohMCxncmlkQ29sdW1uU3RhcnQ6ITAsZm9udFdlaWdodDohMCxsaW5lQ2xhbXA6ITAsbGluZUhlaWdodDohMCxvcGFjaXR5OiEwLG9yZGVyOiEwLG9ycGhhbnM6ITAsdGFiU2l6ZTohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITAsZmlsbE9wYWNpdHk6ITAsZmxvb2RPcGFjaXR5OiEwLHN0b3BPcGFjaXR5OiEwLHN0cm9rZURhc2hhcnJheTohMCxzdHJva2VEYXNob2Zmc2V0OiEwLHN0cm9rZU1pdGVybGltaXQ6ITAsc3Ryb2tlT3BhY2l0eTohMCxzdHJva2VXaWR0aDohMH0sZW49W1wiV2Via2l0XCIsXCJtc1wiLFwiTW96XCIsXCJPXCJdO2Z1bmN0aW9uIHRuKGUsdCxuKXtyZXR1cm4gbnVsbD09dHx8XCJib29sZWFuXCI9PXR5cGVvZiB0fHxcIlwiPT09dD9cIlwiOm58fFwibnVtYmVyXCIhPXR5cGVvZiB0fHwwPT09dHx8S3QuaGFzT3duUHJvcGVydHkoZSkmJkt0W2VdPyhcIlwiK3QpLnRyaW0oKTp0K1wicHhcIn1mdW5jdGlvbiBubihlLHQpe2Zvcih2YXIgbiBpbiBlPWUuc3R5bGUsdClpZih0Lmhhc093blByb3BlcnR5KG4pKXt2YXIgaT0wPT09bi5pbmRleE9mKFwiLS1cIikscj10bihuLHRbbl0saSk7XCJmbG9hdFwiPT09biYmKG49XCJjc3NGbG9hdFwiKSxpP2Uuc2V0UHJvcGVydHkobixyKTplW25dPXJ9fU9iamVjdC5rZXlzKEt0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtlbi5mb3JFYWNoKChmdW5jdGlvbih0KXt0PXQrZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnN1YnN0cmluZygxKSxLdFt0XT1LdFtlXX0pKX0pKTt2YXIgcm49cih7bWVudWl0ZW06ITB9LHthcmVhOiEwLGJhc2U6ITAsYnI6ITAsY29sOiEwLGVtYmVkOiEwLGhyOiEwLGltZzohMCxpbnB1dDohMCxrZXlnZW46ITAsbGluazohMCxtZXRhOiEwLHBhcmFtOiEwLHNvdXJjZTohMCx0cmFjazohMCx3YnI6ITB9KTtmdW5jdGlvbiBvbihlLHQpe2lmKHQpe2lmKHJuW2VdJiYobnVsbCE9dC5jaGlsZHJlbnx8bnVsbCE9dC5kYW5nZXJvdXNseVNldElubmVySFRNTCkpdGhyb3cgRXJyb3IoYSgxMzcsZSxcIlwiKSk7aWYobnVsbCE9dC5kYW5nZXJvdXNseVNldElubmVySFRNTCl7aWYobnVsbCE9dC5jaGlsZHJlbil0aHJvdyBFcnJvcihhKDYwKSk7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUx8fCEoXCJfX2h0bWxcImluIHQuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwpKXRocm93IEVycm9yKGEoNjEpKX1pZihudWxsIT10LnN0eWxlJiZcIm9iamVjdFwiIT10eXBlb2YgdC5zdHlsZSl0aHJvdyBFcnJvcihhKDYyLFwiXCIpKX19ZnVuY3Rpb24gYW4oZSx0KXtpZigtMT09PWUuaW5kZXhPZihcIi1cIikpcmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQuaXM7c3dpdGNoKGUpe2Nhc2VcImFubm90YXRpb24teG1sXCI6Y2FzZVwiY29sb3ItcHJvZmlsZVwiOmNhc2VcImZvbnQtZmFjZVwiOmNhc2VcImZvbnQtZmFjZS1zcmNcIjpjYXNlXCJmb250LWZhY2UtdXJpXCI6Y2FzZVwiZm9udC1mYWNlLWZvcm1hdFwiOmNhc2VcImZvbnQtZmFjZS1uYW1lXCI6Y2FzZVwibWlzc2luZy1nbHlwaFwiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuITB9fXZhciBzbj1MZTtmdW5jdGlvbiBsbihlLHQpe3ZhciBuPVFlKGU9OT09PWUubm9kZVR5cGV8fDExPT09ZS5ub2RlVHlwZT9lOmUub3duZXJEb2N1bWVudCk7dD1TW3RdO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWZ0KHRbaV0sZSxuKX1mdW5jdGlvbiBjbigpe31mdW5jdGlvbiB1bihlKXtpZih2b2lkIDA9PT0oZT1lfHwoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50P2RvY3VtZW50OnZvaWQgMCkpKXJldHVybiBudWxsO3RyeXtyZXR1cm4gZS5hY3RpdmVFbGVtZW50fHxlLmJvZHl9Y2F0Y2godCl7cmV0dXJuIGUuYm9keX19ZnVuY3Rpb24gaG4oZSl7Zm9yKDtlJiZlLmZpcnN0Q2hpbGQ7KWU9ZS5maXJzdENoaWxkO3JldHVybiBlfWZ1bmN0aW9uIGRuKGUsdCl7dmFyIG4saT1obihlKTtmb3IoZT0wO2k7KXtpZigzPT09aS5ub2RlVHlwZSl7aWYobj1lK2kudGV4dENvbnRlbnQubGVuZ3RoLGU8PXQmJm4+PXQpcmV0dXJue25vZGU6aSxvZmZzZXQ6dC1lfTtlPW59ZTp7Zm9yKDtpOyl7aWYoaS5uZXh0U2libGluZyl7aT1pLm5leHRTaWJsaW5nO2JyZWFrIGV9aT1pLnBhcmVudE5vZGV9aT12b2lkIDB9aT1obihpKX19ZnVuY3Rpb24gcG4oKXtmb3IodmFyIGU9d2luZG93LHQ9dW4oKTt0IGluc3RhbmNlb2YgZS5IVE1MSUZyYW1lRWxlbWVudDspe3RyeXt2YXIgbj1cInN0cmluZ1wiPT10eXBlb2YgdC5jb250ZW50V2luZG93LmxvY2F0aW9uLmhyZWZ9Y2F0Y2goZSl7bj0hMX1pZighbilicmVhazt0PXVuKChlPXQuY29udGVudFdpbmRvdykuZG9jdW1lbnQpfXJldHVybiB0fWZ1bmN0aW9uIGZuKGUpe3ZhciB0PWUmJmUubm9kZU5hbWUmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gdCYmKFwiaW5wdXRcIj09PXQmJihcInRleHRcIj09PWUudHlwZXx8XCJzZWFyY2hcIj09PWUudHlwZXx8XCJ0ZWxcIj09PWUudHlwZXx8XCJ1cmxcIj09PWUudHlwZXx8XCJwYXNzd29yZFwiPT09ZS50eXBlKXx8XCJ0ZXh0YXJlYVwiPT09dHx8XCJ0cnVlXCI9PT1lLmNvbnRlbnRFZGl0YWJsZSl9dmFyIG1uPW51bGwsZ249bnVsbDtmdW5jdGlvbiB5bihlLHQpe3N3aXRjaChlKXtjYXNlXCJidXR0b25cIjpjYXNlXCJpbnB1dFwiOmNhc2VcInNlbGVjdFwiOmNhc2VcInRleHRhcmVhXCI6cmV0dXJuISF0LmF1dG9Gb2N1c31yZXR1cm4hMX1mdW5jdGlvbiBfbihlLHQpe3JldHVyblwidGV4dGFyZWFcIj09PWV8fFwib3B0aW9uXCI9PT1lfHxcIm5vc2NyaXB0XCI9PT1lfHxcInN0cmluZ1wiPT10eXBlb2YgdC5jaGlsZHJlbnx8XCJudW1iZXJcIj09dHlwZW9mIHQuY2hpbGRyZW58fFwib2JqZWN0XCI9PXR5cGVvZiB0LmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MJiZudWxsIT09dC5kYW5nZXJvdXNseVNldElubmVySFRNTCYmbnVsbCE9dC5kYW5nZXJvdXNseVNldElubmVySFRNTC5fX2h0bWx9dmFyIHZuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDp2b2lkIDAseG49XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDp2b2lkIDA7ZnVuY3Rpb24gYm4oZSl7Zm9yKDtudWxsIT1lO2U9ZS5uZXh0U2libGluZyl7dmFyIHQ9ZS5ub2RlVHlwZTtpZigxPT09dHx8Mz09PXQpYnJlYWt9cmV0dXJuIGV9ZnVuY3Rpb24gd24oZSl7ZT1lLnByZXZpb3VzU2libGluZztmb3IodmFyIHQ9MDtlOyl7aWYoOD09PWUubm9kZVR5cGUpe3ZhciBuPWUuZGF0YTtpZihcIiRcIj09PW58fFwiJCFcIj09PW58fFwiJD9cIj09PW4pe2lmKDA9PT10KXJldHVybiBlO3QtLX1lbHNlXCIvJFwiPT09biYmdCsrfWU9ZS5wcmV2aW91c1NpYmxpbmd9cmV0dXJuIG51bGx9dmFyIFRuPU1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLEVuPVwiX19yZWFjdEludGVybmFsSW5zdGFuY2UkXCIrVG4sU249XCJfX3JlYWN0RXZlbnRIYW5kbGVycyRcIitUbixNbj1cIl9fcmVhY3RDb250YWluZXJlJFwiK1RuO2Z1bmN0aW9uIEluKGUpe3ZhciB0PWVbRW5dO2lmKHQpcmV0dXJuIHQ7Zm9yKHZhciBuPWUucGFyZW50Tm9kZTtuOyl7aWYodD1uW01uXXx8bltFbl0pe2lmKG49dC5hbHRlcm5hdGUsbnVsbCE9PXQuY2hpbGR8fG51bGwhPT1uJiZudWxsIT09bi5jaGlsZClmb3IoZT13bihlKTtudWxsIT09ZTspe2lmKG49ZVtFbl0pcmV0dXJuIG47ZT13bihlKX1yZXR1cm4gdH1uPShlPW4pLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9ZnVuY3Rpb24gQ24oZSl7cmV0dXJuIShlPWVbRW5dfHxlW01uXSl8fDUhPT1lLnRhZyYmNiE9PWUudGFnJiYxMyE9PWUudGFnJiYzIT09ZS50YWc/bnVsbDplfWZ1bmN0aW9uIGtuKGUpe2lmKDU9PT1lLnRhZ3x8Nj09PWUudGFnKXJldHVybiBlLnN0YXRlTm9kZTt0aHJvdyBFcnJvcihhKDMzKSl9ZnVuY3Rpb24gQW4oZSl7cmV0dXJuIGVbU25dfHxudWxsfWZ1bmN0aW9uIFBuKGUpe2Rve2U9ZS5yZXR1cm59d2hpbGUoZSYmNSE9PWUudGFnKTtyZXR1cm4gZXx8bnVsbH1mdW5jdGlvbiB6bihlLHQpe3ZhciBuPWUuc3RhdGVOb2RlO2lmKCFuKXJldHVybiBudWxsO3ZhciBpPWYobik7aWYoIWkpcmV0dXJuIG51bGw7bj1pW3RdO2U6c3dpdGNoKHQpe2Nhc2VcIm9uQ2xpY2tcIjpjYXNlXCJvbkNsaWNrQ2FwdHVyZVwiOmNhc2VcIm9uRG91YmxlQ2xpY2tcIjpjYXNlXCJvbkRvdWJsZUNsaWNrQ2FwdHVyZVwiOmNhc2VcIm9uTW91c2VEb3duXCI6Y2FzZVwib25Nb3VzZURvd25DYXB0dXJlXCI6Y2FzZVwib25Nb3VzZU1vdmVcIjpjYXNlXCJvbk1vdXNlTW92ZUNhcHR1cmVcIjpjYXNlXCJvbk1vdXNlVXBcIjpjYXNlXCJvbk1vdXNlVXBDYXB0dXJlXCI6Y2FzZVwib25Nb3VzZUVudGVyXCI6KGk9IWkuZGlzYWJsZWQpfHwoaT0hKFwiYnV0dG9uXCI9PT0oZT1lLnR5cGUpfHxcImlucHV0XCI9PT1lfHxcInNlbGVjdFwiPT09ZXx8XCJ0ZXh0YXJlYVwiPT09ZSkpLGU9IWk7YnJlYWsgZTtkZWZhdWx0OmU9ITF9aWYoZSlyZXR1cm4gbnVsbDtpZihuJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IEVycm9yKGEoMjMxLHQsdHlwZW9mIG4pKTtyZXR1cm4gbn1mdW5jdGlvbiBEbihlLHQsbil7KHQ9em4oZSxuLmRpc3BhdGNoQ29uZmlnLnBoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzW3RdKSkmJihuLl9kaXNwYXRjaExpc3RlbmVycz1pdChuLl9kaXNwYXRjaExpc3RlbmVycyx0KSxuLl9kaXNwYXRjaEluc3RhbmNlcz1pdChuLl9kaXNwYXRjaEluc3RhbmNlcyxlKSl9ZnVuY3Rpb24gTG4oZSl7aWYoZSYmZS5kaXNwYXRjaENvbmZpZy5waGFzZWRSZWdpc3RyYXRpb25OYW1lcyl7Zm9yKHZhciB0PWUuX3RhcmdldEluc3Qsbj1bXTt0OyluLnB1c2godCksdD1Qbih0KTtmb3IodD1uLmxlbmd0aDswPHQtLTspRG4oblt0XSxcImNhcHR1cmVkXCIsZSk7Zm9yKHQ9MDt0PG4ubGVuZ3RoO3QrKylEbihuW3RdLFwiYnViYmxlZFwiLGUpfX1mdW5jdGlvbiBPbihlLHQsbil7ZSYmbiYmbi5kaXNwYXRjaENvbmZpZy5yZWdpc3RyYXRpb25OYW1lJiYodD16bihlLG4uZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSkpJiYobi5fZGlzcGF0Y2hMaXN0ZW5lcnM9aXQobi5fZGlzcGF0Y2hMaXN0ZW5lcnMsdCksbi5fZGlzcGF0Y2hJbnN0YW5jZXM9aXQobi5fZGlzcGF0Y2hJbnN0YW5jZXMsZSkpfWZ1bmN0aW9uIFJuKGUpe2UmJmUuZGlzcGF0Y2hDb25maWcucmVnaXN0cmF0aW9uTmFtZSYmT24oZS5fdGFyZ2V0SW5zdCxudWxsLGUpfWZ1bmN0aW9uIEJuKGUpe3J0KGUsTG4pfXZhciBqbj1udWxsLEZuPW51bGwsTm49bnVsbDtmdW5jdGlvbiBVbigpe2lmKE5uKXJldHVybiBObjt2YXIgZSx0LG49Rm4saT1uLmxlbmd0aCxyPVwidmFsdWVcImluIGpuP2puLnZhbHVlOmpuLnRleHRDb250ZW50LG89ci5sZW5ndGg7Zm9yKGU9MDtlPGkmJm5bZV09PT1yW2VdO2UrKyk7dmFyIGE9aS1lO2Zvcih0PTE7dDw9YSYmbltpLXRdPT09cltvLXRdO3QrKyk7cmV0dXJuIE5uPXIuc2xpY2UoZSwxPHQ/MS10OnZvaWQgMCl9ZnVuY3Rpb24gVm4oKXtyZXR1cm4hMH1mdW5jdGlvbiBHbigpe3JldHVybiExfWZ1bmN0aW9uIFpuKGUsdCxuLGkpe2Zvcih2YXIgciBpbiB0aGlzLmRpc3BhdGNoQ29uZmlnPWUsdGhpcy5fdGFyZ2V0SW5zdD10LHRoaXMubmF0aXZlRXZlbnQ9bixlPXRoaXMuY29uc3RydWN0b3IuSW50ZXJmYWNlKWUuaGFzT3duUHJvcGVydHkocikmJigodD1lW3JdKT90aGlzW3JdPXQobik6XCJ0YXJnZXRcIj09PXI/dGhpcy50YXJnZXQ9aTp0aGlzW3JdPW5bcl0pO3JldHVybiB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD0obnVsbCE9bi5kZWZhdWx0UHJldmVudGVkP24uZGVmYXVsdFByZXZlbnRlZDohMT09PW4ucmV0dXJuVmFsdWUpP1ZuOkduLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9R24sdGhpc31mdW5jdGlvbiBXbihlLHQsbixpKXtpZih0aGlzLmV2ZW50UG9vbC5sZW5ndGgpe3ZhciByPXRoaXMuZXZlbnRQb29sLnBvcCgpO3JldHVybiB0aGlzLmNhbGwocixlLHQsbixpKSxyfXJldHVybiBuZXcgdGhpcyhlLHQsbixpKX1mdW5jdGlvbiBxbihlKXtpZighKGUgaW5zdGFuY2VvZiB0aGlzKSl0aHJvdyBFcnJvcihhKDI3OSkpO2UuZGVzdHJ1Y3RvcigpLDEwPnRoaXMuZXZlbnRQb29sLmxlbmd0aCYmdGhpcy5ldmVudFBvb2wucHVzaChlKX1mdW5jdGlvbiAkbihlKXtlLmV2ZW50UG9vbD1bXSxlLmdldFBvb2xlZD1XbixlLnJlbGVhc2U9cW59cihabi5wcm90b3R5cGUse3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwO3ZhciBlPXRoaXMubmF0aXZlRXZlbnQ7ZSYmKGUucHJldmVudERlZmF1bHQ/ZS5wcmV2ZW50RGVmYXVsdCgpOlwidW5rbm93blwiIT10eXBlb2YgZS5yZXR1cm5WYWx1ZSYmKGUucmV0dXJuVmFsdWU9ITEpLHRoaXMuaXNEZWZhdWx0UHJldmVudGVkPVZuKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5uYXRpdmVFdmVudDtlJiYoZS5zdG9wUHJvcGFnYXRpb24/ZS5zdG9wUHJvcGFnYXRpb24oKTpcInVua25vd25cIiE9dHlwZW9mIGUuY2FuY2VsQnViYmxlJiYoZS5jYW5jZWxCdWJibGU9ITApLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9Vm4pfSxwZXJzaXN0OmZ1bmN0aW9uKCl7dGhpcy5pc1BlcnNpc3RlbnQ9Vm59LGlzUGVyc2lzdGVudDpHbixkZXN0cnVjdG9yOmZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLmNvbnN0cnVjdG9yLkludGVyZmFjZTtmb3IoZSBpbiB0KXRoaXNbZV09bnVsbDt0aGlzLm5hdGl2ZUV2ZW50PXRoaXMuX3RhcmdldEluc3Q9dGhpcy5kaXNwYXRjaENvbmZpZz1udWxsLHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9R24sdGhpcy5fZGlzcGF0Y2hJbnN0YW5jZXM9dGhpcy5fZGlzcGF0Y2hMaXN0ZW5lcnM9bnVsbH19KSxabi5JbnRlcmZhY2U9e3R5cGU6bnVsbCx0YXJnZXQ6bnVsbCxjdXJyZW50VGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGV2ZW50UGhhc2U6bnVsbCxidWJibGVzOm51bGwsY2FuY2VsYWJsZTpudWxsLHRpbWVTdGFtcDpmdW5jdGlvbihlKXtyZXR1cm4gZS50aW1lU3RhbXB8fERhdGUubm93KCl9LGRlZmF1bHRQcmV2ZW50ZWQ6bnVsbCxpc1RydXN0ZWQ6bnVsbH0sWm4uZXh0ZW5kPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt9ZnVuY3Rpb24gbigpe3JldHVybiBpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgaT10aGlzO3QucHJvdG90eXBlPWkucHJvdG90eXBlO3ZhciBvPW5ldyB0O3JldHVybiByKG8sbi5wcm90b3R5cGUpLG4ucHJvdG90eXBlPW8sbi5wcm90b3R5cGUuY29uc3RydWN0b3I9bixuLkludGVyZmFjZT1yKHt9LGkuSW50ZXJmYWNlLGUpLG4uZXh0ZW5kPWkuZXh0ZW5kLCRuKG4pLG59LCRuKFpuKTt2YXIgSG49Wm4uZXh0ZW5kKHtkYXRhOm51bGx9KSxYbj1abi5leHRlbmQoe2RhdGE6bnVsbH0pLFluPVs5LDEzLDI3LDMyXSxKbj1JJiZcIkNvbXBvc2l0aW9uRXZlbnRcImluIHdpbmRvdyxRbj1udWxsO0kmJlwiZG9jdW1lbnRNb2RlXCJpbiBkb2N1bWVudCYmKFFuPWRvY3VtZW50LmRvY3VtZW50TW9kZSk7dmFyIEtuPUkmJlwiVGV4dEV2ZW50XCJpbiB3aW5kb3cmJiFRbixlaT1JJiYoIUpufHxRbiYmODxRbiYmMTE+PVFuKSx0aT1TdHJpbmcuZnJvbUNoYXJDb2RlKDMyKSxuaT17YmVmb3JlSW5wdXQ6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25CZWZvcmVJbnB1dFwiLGNhcHR1cmVkOlwib25CZWZvcmVJbnB1dENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOltcImNvbXBvc2l0aW9uZW5kXCIsXCJrZXlwcmVzc1wiLFwidGV4dElucHV0XCIsXCJwYXN0ZVwiXX0sY29tcG9zaXRpb25FbmQ6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25Db21wb3NpdGlvbkVuZFwiLGNhcHR1cmVkOlwib25Db21wb3NpdGlvbkVuZENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwiYmx1ciBjb21wb3NpdGlvbmVuZCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKX0sY29tcG9zaXRpb25TdGFydDp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNvbXBvc2l0aW9uU3RhcnRcIixjYXB0dXJlZDpcIm9uQ29tcG9zaXRpb25TdGFydENhcHR1cmVcIn0sZGVwZW5kZW5jaWVzOlwiYmx1ciBjb21wb3NpdGlvbnN0YXJ0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpfSxjb21wb3NpdGlvblVwZGF0ZTp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNvbXBvc2l0aW9uVXBkYXRlXCIsY2FwdHVyZWQ6XCJvbkNvbXBvc2l0aW9uVXBkYXRlQ2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6XCJibHVyIGNvbXBvc2l0aW9udXBkYXRlIGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpfX0saWk9ITE7ZnVuY3Rpb24gcmkoZSx0KXtzd2l0Y2goZSl7Y2FzZVwia2V5dXBcIjpyZXR1cm4tMSE9PVluLmluZGV4T2YodC5rZXlDb2RlKTtjYXNlXCJrZXlkb3duXCI6cmV0dXJuIDIyOSE9PXQua2V5Q29kZTtjYXNlXCJrZXlwcmVzc1wiOmNhc2VcIm1vdXNlZG93blwiOmNhc2VcImJsdXJcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX1mdW5jdGlvbiBvaShlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YoZT1lLmRldGFpbCkmJlwiZGF0YVwiaW4gZT9lLmRhdGE6bnVsbH12YXIgYWk9ITE7dmFyIHNpPXtldmVudFR5cGVzOm5pLGV4dHJhY3RFdmVudHM6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI7aWYoSm4pZTp7c3dpdGNoKGUpe2Nhc2VcImNvbXBvc2l0aW9uc3RhcnRcIjp2YXIgbz1uaS5jb21wb3NpdGlvblN0YXJ0O2JyZWFrIGU7Y2FzZVwiY29tcG9zaXRpb25lbmRcIjpvPW5pLmNvbXBvc2l0aW9uRW5kO2JyZWFrIGU7Y2FzZVwiY29tcG9zaXRpb251cGRhdGVcIjpvPW5pLmNvbXBvc2l0aW9uVXBkYXRlO2JyZWFrIGV9bz12b2lkIDB9ZWxzZSBhaT9yaShlLG4pJiYobz1uaS5jb21wb3NpdGlvbkVuZCk6XCJrZXlkb3duXCI9PT1lJiYyMjk9PT1uLmtleUNvZGUmJihvPW5pLmNvbXBvc2l0aW9uU3RhcnQpO3JldHVybiBvPyhlaSYmXCJrb1wiIT09bi5sb2NhbGUmJihhaXx8byE9PW5pLmNvbXBvc2l0aW9uU3RhcnQ/bz09PW5pLmNvbXBvc2l0aW9uRW5kJiZhaSYmKHI9VW4oKSk6KEZuPVwidmFsdWVcImluKGpuPWkpP2puLnZhbHVlOmpuLnRleHRDb250ZW50LGFpPSEwKSksbz1Ibi5nZXRQb29sZWQobyx0LG4saSkscj9vLmRhdGE9cjpudWxsIT09KHI9b2kobikpJiYoby5kYXRhPXIpLEJuKG8pLHI9byk6cj1udWxsLChlPUtuP2Z1bmN0aW9uKGUsdCl7c3dpdGNoKGUpe2Nhc2VcImNvbXBvc2l0aW9uZW5kXCI6cmV0dXJuIG9pKHQpO2Nhc2VcImtleXByZXNzXCI6cmV0dXJuIDMyIT09dC53aGljaD9udWxsOihpaT0hMCx0aSk7Y2FzZVwidGV4dElucHV0XCI6cmV0dXJuKGU9dC5kYXRhKT09PXRpJiZpaT9udWxsOmU7ZGVmYXVsdDpyZXR1cm4gbnVsbH19KGUsbik6ZnVuY3Rpb24oZSx0KXtpZihhaSlyZXR1cm5cImNvbXBvc2l0aW9uZW5kXCI9PT1lfHwhSm4mJnJpKGUsdCk/KGU9VW4oKSxObj1Gbj1qbj1udWxsLGFpPSExLGUpOm51bGw7c3dpdGNoKGUpe2Nhc2VcInBhc3RlXCI6cmV0dXJuIG51bGw7Y2FzZVwia2V5cHJlc3NcIjppZighKHQuY3RybEtleXx8dC5hbHRLZXl8fHQubWV0YUtleSl8fHQuY3RybEtleSYmdC5hbHRLZXkpe2lmKHQuY2hhciYmMTx0LmNoYXIubGVuZ3RoKXJldHVybiB0LmNoYXI7aWYodC53aGljaClyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh0LndoaWNoKX1yZXR1cm4gbnVsbDtjYXNlXCJjb21wb3NpdGlvbmVuZFwiOnJldHVybiBlaSYmXCJrb1wiIT09dC5sb2NhbGU/bnVsbDp0LmRhdGE7ZGVmYXVsdDpyZXR1cm4gbnVsbH19KGUsbikpPygodD1Ybi5nZXRQb29sZWQobmkuYmVmb3JlSW5wdXQsdCxuLGkpKS5kYXRhPWUsQm4odCkpOnQ9bnVsbCxudWxsPT09cj90Om51bGw9PT10P3I6W3IsdF19fSxsaT17Y29sb3I6ITAsZGF0ZTohMCxkYXRldGltZTohMCxcImRhdGV0aW1lLWxvY2FsXCI6ITAsZW1haWw6ITAsbW9udGg6ITAsbnVtYmVyOiEwLHBhc3N3b3JkOiEwLHJhbmdlOiEwLHNlYXJjaDohMCx0ZWw6ITAsdGV4dDohMCx0aW1lOiEwLHVybDohMCx3ZWVrOiEwfTtmdW5jdGlvbiBjaShlKXt2YXIgdD1lJiZlLm5vZGVOYW1lJiZlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJpbnB1dFwiPT09dD8hIWxpW2UudHlwZV06XCJ0ZXh0YXJlYVwiPT09dH12YXIgdWk9e2NoYW5nZTp7cGhhc2VkUmVnaXN0cmF0aW9uTmFtZXM6e2J1YmJsZWQ6XCJvbkNoYW5nZVwiLGNhcHR1cmVkOlwib25DaGFuZ2VDYXB0dXJlXCJ9LGRlcGVuZGVuY2llczpcImJsdXIgY2hhbmdlIGNsaWNrIGZvY3VzIGlucHV0IGtleWRvd24ga2V5dXAgc2VsZWN0aW9uY2hhbmdlXCIuc3BsaXQoXCIgXCIpfX07ZnVuY3Rpb24gaGkoZSx0LG4pe3JldHVybihlPVpuLmdldFBvb2xlZCh1aS5jaGFuZ2UsZSx0LG4pKS50eXBlPVwiY2hhbmdlXCIseihuKSxCbihlKSxlfXZhciBkaT1udWxsLHBpPW51bGw7ZnVuY3Rpb24gZmkoZSl7c3QoZSl9ZnVuY3Rpb24gbWkoZSl7aWYoYmUoa24oZSkpKXJldHVybiBlfWZ1bmN0aW9uIGdpKGUsdCl7aWYoXCJjaGFuZ2VcIj09PWUpcmV0dXJuIHR9dmFyIHlpPSExO2Z1bmN0aW9uIF9pKCl7ZGkmJihkaS5kZXRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIix2aSkscGk9ZGk9bnVsbCl9ZnVuY3Rpb24gdmkoZSl7aWYoXCJ2YWx1ZVwiPT09ZS5wcm9wZXJ0eU5hbWUmJm1pKHBpKSlpZihlPWhpKHBpLGUsbHQoZSkpLGopc3QoZSk7ZWxzZXtqPSEwO3RyeXtMKGZpLGUpfWZpbmFsbHl7aj0hMSxOKCl9fX1mdW5jdGlvbiB4aShlLHQsbil7XCJmb2N1c1wiPT09ZT8oX2koKSxwaT1uLChkaT10KS5hdHRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIix2aSkpOlwiYmx1clwiPT09ZSYmX2koKX1mdW5jdGlvbiBiaShlKXtpZihcInNlbGVjdGlvbmNoYW5nZVwiPT09ZXx8XCJrZXl1cFwiPT09ZXx8XCJrZXlkb3duXCI9PT1lKXJldHVybiBtaShwaSl9ZnVuY3Rpb24gd2koZSx0KXtpZihcImNsaWNrXCI9PT1lKXJldHVybiBtaSh0KX1mdW5jdGlvbiBUaShlLHQpe2lmKFwiaW5wdXRcIj09PWV8fFwiY2hhbmdlXCI9PT1lKXJldHVybiBtaSh0KX1JJiYoeWk9Y3QoXCJpbnB1dFwiKSYmKCFkb2N1bWVudC5kb2N1bWVudE1vZGV8fDk8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSk7dmFyIEVpPXtldmVudFR5cGVzOnVpLF9pc0lucHV0RXZlbnRTdXBwb3J0ZWQ6eWksZXh0cmFjdEV2ZW50czpmdW5jdGlvbihlLHQsbixpKXt2YXIgcj10P2tuKHQpOndpbmRvdyxvPXIubm9kZU5hbWUmJnIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihcInNlbGVjdFwiPT09b3x8XCJpbnB1dFwiPT09byYmXCJmaWxlXCI9PT1yLnR5cGUpdmFyIGE9Z2k7ZWxzZSBpZihjaShyKSlpZih5aSlhPVRpO2Vsc2V7YT1iaTt2YXIgcz14aX1lbHNlKG89ci5ub2RlTmFtZSkmJlwiaW5wdXRcIj09PW8udG9Mb3dlckNhc2UoKSYmKFwiY2hlY2tib3hcIj09PXIudHlwZXx8XCJyYWRpb1wiPT09ci50eXBlKSYmKGE9d2kpO2lmKGEmJihhPWEoZSx0KSkpcmV0dXJuIGhpKGEsbixpKTtzJiZzKGUscix0KSxcImJsdXJcIj09PWUmJihlPXIuX3dyYXBwZXJTdGF0ZSkmJmUuY29udHJvbGxlZCYmXCJudW1iZXJcIj09PXIudHlwZSYmSWUocixcIm51bWJlclwiLHIudmFsdWUpfX0sU2k9Wm4uZXh0ZW5kKHt2aWV3Om51bGwsZGV0YWlsOm51bGx9KSxNaT17QWx0OlwiYWx0S2V5XCIsQ29udHJvbDpcImN0cmxLZXlcIixNZXRhOlwibWV0YUtleVwiLFNoaWZ0Olwic2hpZnRLZXlcIn07ZnVuY3Rpb24gSWkoZSl7dmFyIHQ9dGhpcy5uYXRpdmVFdmVudDtyZXR1cm4gdC5nZXRNb2RpZmllclN0YXRlP3QuZ2V0TW9kaWZpZXJTdGF0ZShlKTohIShlPU1pW2VdKSYmISF0W2VdfWZ1bmN0aW9uIENpKCl7cmV0dXJuIElpfXZhciBraT0wLEFpPTAsUGk9ITEsemk9ITEsRGk9U2kuZXh0ZW5kKHtzY3JlZW5YOm51bGwsc2NyZWVuWTpudWxsLGNsaWVudFg6bnVsbCxjbGllbnRZOm51bGwscGFnZVg6bnVsbCxwYWdlWTpudWxsLGN0cmxLZXk6bnVsbCxzaGlmdEtleTpudWxsLGFsdEtleTpudWxsLG1ldGFLZXk6bnVsbCxnZXRNb2RpZmllclN0YXRlOkNpLGJ1dHRvbjpudWxsLGJ1dHRvbnM6bnVsbCxyZWxhdGVkVGFyZ2V0OmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlbGF0ZWRUYXJnZXR8fChlLmZyb21FbGVtZW50PT09ZS5zcmNFbGVtZW50P2UudG9FbGVtZW50OmUuZnJvbUVsZW1lbnQpfSxtb3ZlbWVudFg6ZnVuY3Rpb24oZSl7aWYoXCJtb3ZlbWVudFhcImluIGUpcmV0dXJuIGUubW92ZW1lbnRYO3ZhciB0PWtpO3JldHVybiBraT1lLnNjcmVlblgsUGk/XCJtb3VzZW1vdmVcIj09PWUudHlwZT9lLnNjcmVlblgtdDowOihQaT0hMCwwKX0sbW92ZW1lbnRZOmZ1bmN0aW9uKGUpe2lmKFwibW92ZW1lbnRZXCJpbiBlKXJldHVybiBlLm1vdmVtZW50WTt2YXIgdD1BaTtyZXR1cm4gQWk9ZS5zY3JlZW5ZLHppP1wibW91c2Vtb3ZlXCI9PT1lLnR5cGU/ZS5zY3JlZW5ZLXQ6MDooemk9ITAsMCl9fSksTGk9RGkuZXh0ZW5kKHtwb2ludGVySWQ6bnVsbCx3aWR0aDpudWxsLGhlaWdodDpudWxsLHByZXNzdXJlOm51bGwsdGFuZ2VudGlhbFByZXNzdXJlOm51bGwsdGlsdFg6bnVsbCx0aWx0WTpudWxsLHR3aXN0Om51bGwscG9pbnRlclR5cGU6bnVsbCxpc1ByaW1hcnk6bnVsbH0pLE9pPXttb3VzZUVudGVyOntyZWdpc3RyYXRpb25OYW1lOlwib25Nb3VzZUVudGVyXCIsZGVwZW5kZW5jaWVzOltcIm1vdXNlb3V0XCIsXCJtb3VzZW92ZXJcIl19LG1vdXNlTGVhdmU6e3JlZ2lzdHJhdGlvbk5hbWU6XCJvbk1vdXNlTGVhdmVcIixkZXBlbmRlbmNpZXM6W1wibW91c2VvdXRcIixcIm1vdXNlb3ZlclwiXX0scG9pbnRlckVudGVyOntyZWdpc3RyYXRpb25OYW1lOlwib25Qb2ludGVyRW50ZXJcIixkZXBlbmRlbmNpZXM6W1wicG9pbnRlcm91dFwiLFwicG9pbnRlcm92ZXJcIl19LHBvaW50ZXJMZWF2ZTp7cmVnaXN0cmF0aW9uTmFtZTpcIm9uUG9pbnRlckxlYXZlXCIsZGVwZW5kZW5jaWVzOltcInBvaW50ZXJvdXRcIixcInBvaW50ZXJvdmVyXCJdfX0sUmk9e2V2ZW50VHlwZXM6T2ksZXh0cmFjdEV2ZW50czpmdW5jdGlvbihlLHQsbixpLHIpe3ZhciBvPVwibW91c2VvdmVyXCI9PT1lfHxcInBvaW50ZXJvdmVyXCI9PT1lLGE9XCJtb3VzZW91dFwiPT09ZXx8XCJwb2ludGVyb3V0XCI9PT1lO2lmKG8mJjA9PSgzMiZyKSYmKG4ucmVsYXRlZFRhcmdldHx8bi5mcm9tRWxlbWVudCl8fCFhJiYhbylyZXR1cm4gbnVsbDsobz1pLndpbmRvdz09PWk/aToobz1pLm93bmVyRG9jdW1lbnQpP28uZGVmYXVsdFZpZXd8fG8ucGFyZW50V2luZG93OndpbmRvdyxhKT8oYT10LG51bGwhPT0odD0odD1uLnJlbGF0ZWRUYXJnZXR8fG4udG9FbGVtZW50KT9Jbih0KTpudWxsKSYmKHQhPT1LZSh0KXx8NSE9PXQudGFnJiY2IT09dC50YWcpJiYodD1udWxsKSk6YT1udWxsO2lmKGE9PT10KXJldHVybiBudWxsO2lmKFwibW91c2VvdXRcIj09PWV8fFwibW91c2VvdmVyXCI9PT1lKXZhciBzPURpLGw9T2kubW91c2VMZWF2ZSxjPU9pLm1vdXNlRW50ZXIsdT1cIm1vdXNlXCI7ZWxzZVwicG9pbnRlcm91dFwiIT09ZSYmXCJwb2ludGVyb3ZlclwiIT09ZXx8KHM9TGksbD1PaS5wb2ludGVyTGVhdmUsYz1PaS5wb2ludGVyRW50ZXIsdT1cInBvaW50ZXJcIik7aWYoZT1udWxsPT1hP286a24oYSksbz1udWxsPT10P286a24odCksKGw9cy5nZXRQb29sZWQobCxhLG4saSkpLnR5cGU9dStcImxlYXZlXCIsbC50YXJnZXQ9ZSxsLnJlbGF0ZWRUYXJnZXQ9bywobj1zLmdldFBvb2xlZChjLHQsbixpKSkudHlwZT11K1wiZW50ZXJcIixuLnRhcmdldD1vLG4ucmVsYXRlZFRhcmdldD1lLHU9dCwoaT1hKSYmdSllOntmb3IoYz11LGE9MCxlPXM9aTtlO2U9UG4oZSkpYSsrO2ZvcihlPTAsdD1jO3Q7dD1Qbih0KSllKys7Zm9yKDswPGEtZTspcz1QbihzKSxhLS07Zm9yKDswPGUtYTspYz1QbihjKSxlLS07Zm9yKDthLS07KXtpZihzPT09Y3x8cz09PWMuYWx0ZXJuYXRlKWJyZWFrIGU7cz1QbihzKSxjPVBuKGMpfXM9bnVsbH1lbHNlIHM9bnVsbDtmb3IoYz1zLHM9W107aSYmaSE9PWMmJihudWxsPT09KGE9aS5hbHRlcm5hdGUpfHxhIT09Yyk7KXMucHVzaChpKSxpPVBuKGkpO2ZvcihpPVtdO3UmJnUhPT1jJiYobnVsbD09PShhPXUuYWx0ZXJuYXRlKXx8YSE9PWMpOylpLnB1c2godSksdT1Qbih1KTtmb3IodT0wO3U8cy5sZW5ndGg7dSsrKU9uKHNbdV0sXCJidWJibGVkXCIsbCk7Zm9yKHU9aS5sZW5ndGg7MDx1LS07KU9uKGlbdV0sXCJjYXB0dXJlZFwiLG4pO3JldHVybiAwPT0oNjQmcik/W2xdOltsLG5dfX07dmFyIEJpPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5pcz9PYmplY3QuaXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXQmJigwIT09ZXx8MS9lPT0xL3QpfHxlIT1lJiZ0IT10fSxqaT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O2Z1bmN0aW9uIEZpKGUsdCl7aWYoQmkoZSx0KSlyZXR1cm4hMDtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWV8fFwib2JqZWN0XCIhPXR5cGVvZiB0fHxudWxsPT09dClyZXR1cm4hMTt2YXIgbj1PYmplY3Qua2V5cyhlKSxpPU9iamVjdC5rZXlzKHQpO2lmKG4ubGVuZ3RoIT09aS5sZW5ndGgpcmV0dXJuITE7Zm9yKGk9MDtpPG4ubGVuZ3RoO2krKylpZighamkuY2FsbCh0LG5baV0pfHwhQmkoZVtuW2ldXSx0W25baV1dKSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgTmk9SSYmXCJkb2N1bWVudE1vZGVcImluIGRvY3VtZW50JiYxMT49ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLFVpPXtzZWxlY3Q6e3BoYXNlZFJlZ2lzdHJhdGlvbk5hbWVzOntidWJibGVkOlwib25TZWxlY3RcIixjYXB0dXJlZDpcIm9uU2VsZWN0Q2FwdHVyZVwifSxkZXBlbmRlbmNpZXM6XCJibHVyIGNvbnRleHRtZW51IGRyYWdlbmQgZm9jdXMga2V5ZG93biBrZXl1cCBtb3VzZWRvd24gbW91c2V1cCBzZWxlY3Rpb25jaGFuZ2VcIi5zcGxpdChcIiBcIil9fSxWaT1udWxsLEdpPW51bGwsWmk9bnVsbCxXaT0hMTtmdW5jdGlvbiBxaShlLHQpe3ZhciBuPXQud2luZG93PT09dD90LmRvY3VtZW50Ojk9PT10Lm5vZGVUeXBlP3Q6dC5vd25lckRvY3VtZW50O3JldHVybiBXaXx8bnVsbD09Vml8fFZpIT09dW4obik/bnVsbDooXCJzZWxlY3Rpb25TdGFydFwiaW4obj1WaSkmJmZuKG4pP249e3N0YXJ0Om4uc2VsZWN0aW9uU3RhcnQsZW5kOm4uc2VsZWN0aW9uRW5kfTpuPXthbmNob3JOb2RlOihuPShuLm93bmVyRG9jdW1lbnQmJm4ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld3x8d2luZG93KS5nZXRTZWxlY3Rpb24oKSkuYW5jaG9yTm9kZSxhbmNob3JPZmZzZXQ6bi5hbmNob3JPZmZzZXQsZm9jdXNOb2RlOm4uZm9jdXNOb2RlLGZvY3VzT2Zmc2V0Om4uZm9jdXNPZmZzZXR9LFppJiZGaShaaSxuKT9udWxsOihaaT1uLChlPVpuLmdldFBvb2xlZChVaS5zZWxlY3QsR2ksZSx0KSkudHlwZT1cInNlbGVjdFwiLGUudGFyZ2V0PVZpLEJuKGUpLGUpKX12YXIgJGk9e2V2ZW50VHlwZXM6VWksZXh0cmFjdEV2ZW50czpmdW5jdGlvbihlLHQsbixpLHIsbyl7aWYoIShvPSEocj1vfHwoaS53aW5kb3c9PT1pP2kuZG9jdW1lbnQ6OT09PWkubm9kZVR5cGU/aTppLm93bmVyRG9jdW1lbnQpKSkpe2U6e3I9UWUociksbz1TLm9uU2VsZWN0O2Zvcih2YXIgYT0wO2E8by5sZW5ndGg7YSsrKWlmKCFyLmhhcyhvW2FdKSl7cj0hMTticmVhayBlfXI9ITB9bz0hcn1pZihvKXJldHVybiBudWxsO3N3aXRjaChyPXQ/a24odCk6d2luZG93LGUpe2Nhc2VcImZvY3VzXCI6KGNpKHIpfHxcInRydWVcIj09PXIuY29udGVudEVkaXRhYmxlKSYmKFZpPXIsR2k9dCxaaT1udWxsKTticmVhaztjYXNlXCJibHVyXCI6Wmk9R2k9Vmk9bnVsbDticmVhaztjYXNlXCJtb3VzZWRvd25cIjpXaT0hMDticmVhaztjYXNlXCJjb250ZXh0bWVudVwiOmNhc2VcIm1vdXNldXBcIjpjYXNlXCJkcmFnZW5kXCI6cmV0dXJuIFdpPSExLHFpKG4saSk7Y2FzZVwic2VsZWN0aW9uY2hhbmdlXCI6aWYoTmkpYnJlYWs7Y2FzZVwia2V5ZG93blwiOmNhc2VcImtleXVwXCI6cmV0dXJuIHFpKG4saSl9cmV0dXJuIG51bGx9fSxIaT1abi5leHRlbmQoe2FuaW1hdGlvbk5hbWU6bnVsbCxlbGFwc2VkVGltZTpudWxsLHBzZXVkb0VsZW1lbnQ6bnVsbH0pLFhpPVpuLmV4dGVuZCh7Y2xpcGJvYXJkRGF0YTpmdW5jdGlvbihlKXtyZXR1cm5cImNsaXBib2FyZERhdGFcImluIGU/ZS5jbGlwYm9hcmREYXRhOndpbmRvdy5jbGlwYm9hcmREYXRhfX0pLFlpPVNpLmV4dGVuZCh7cmVsYXRlZFRhcmdldDpudWxsfSk7ZnVuY3Rpb24gSmkoZSl7dmFyIHQ9ZS5rZXlDb2RlO3JldHVyblwiY2hhckNvZGVcImluIGU/MD09PShlPWUuY2hhckNvZGUpJiYxMz09PXQmJihlPTEzKTplPXQsMTA9PT1lJiYoZT0xMyksMzI8PWV8fDEzPT09ZT9lOjB9dmFyIFFpPXtFc2M6XCJFc2NhcGVcIixTcGFjZWJhcjpcIiBcIixMZWZ0OlwiQXJyb3dMZWZ0XCIsVXA6XCJBcnJvd1VwXCIsUmlnaHQ6XCJBcnJvd1JpZ2h0XCIsRG93bjpcIkFycm93RG93blwiLERlbDpcIkRlbGV0ZVwiLFdpbjpcIk9TXCIsTWVudTpcIkNvbnRleHRNZW51XCIsQXBwczpcIkNvbnRleHRNZW51XCIsU2Nyb2xsOlwiU2Nyb2xsTG9ja1wiLE1velByaW50YWJsZUtleTpcIlVuaWRlbnRpZmllZFwifSxLaT17ODpcIkJhY2tzcGFjZVwiLDk6XCJUYWJcIiwxMjpcIkNsZWFyXCIsMTM6XCJFbnRlclwiLDE2OlwiU2hpZnRcIiwxNzpcIkNvbnRyb2xcIiwxODpcIkFsdFwiLDE5OlwiUGF1c2VcIiwyMDpcIkNhcHNMb2NrXCIsMjc6XCJFc2NhcGVcIiwzMjpcIiBcIiwzMzpcIlBhZ2VVcFwiLDM0OlwiUGFnZURvd25cIiwzNTpcIkVuZFwiLDM2OlwiSG9tZVwiLDM3OlwiQXJyb3dMZWZ0XCIsMzg6XCJBcnJvd1VwXCIsMzk6XCJBcnJvd1JpZ2h0XCIsNDA6XCJBcnJvd0Rvd25cIiw0NTpcIkluc2VydFwiLDQ2OlwiRGVsZXRlXCIsMTEyOlwiRjFcIiwxMTM6XCJGMlwiLDExNDpcIkYzXCIsMTE1OlwiRjRcIiwxMTY6XCJGNVwiLDExNzpcIkY2XCIsMTE4OlwiRjdcIiwxMTk6XCJGOFwiLDEyMDpcIkY5XCIsMTIxOlwiRjEwXCIsMTIyOlwiRjExXCIsMTIzOlwiRjEyXCIsMTQ0OlwiTnVtTG9ja1wiLDE0NTpcIlNjcm9sbExvY2tcIiwyMjQ6XCJNZXRhXCJ9LGVyPVNpLmV4dGVuZCh7a2V5OmZ1bmN0aW9uKGUpe2lmKGUua2V5KXt2YXIgdD1RaVtlLmtleV18fGUua2V5O2lmKFwiVW5pZGVudGlmaWVkXCIhPT10KXJldHVybiB0fXJldHVyblwia2V5cHJlc3NcIj09PWUudHlwZT8xMz09PShlPUppKGUpKT9cIkVudGVyXCI6U3RyaW5nLmZyb21DaGFyQ29kZShlKTpcImtleWRvd25cIj09PWUudHlwZXx8XCJrZXl1cFwiPT09ZS50eXBlP0tpW2Uua2V5Q29kZV18fFwiVW5pZGVudGlmaWVkXCI6XCJcIn0sbG9jYXRpb246bnVsbCxjdHJsS2V5Om51bGwsc2hpZnRLZXk6bnVsbCxhbHRLZXk6bnVsbCxtZXRhS2V5Om51bGwscmVwZWF0Om51bGwsbG9jYWxlOm51bGwsZ2V0TW9kaWZpZXJTdGF0ZTpDaSxjaGFyQ29kZTpmdW5jdGlvbihlKXtyZXR1cm5cImtleXByZXNzXCI9PT1lLnR5cGU/SmkoZSk6MH0sa2V5Q29kZTpmdW5jdGlvbihlKXtyZXR1cm5cImtleWRvd25cIj09PWUudHlwZXx8XCJrZXl1cFwiPT09ZS50eXBlP2Uua2V5Q29kZTowfSx3aGljaDpmdW5jdGlvbihlKXtyZXR1cm5cImtleXByZXNzXCI9PT1lLnR5cGU/SmkoZSk6XCJrZXlkb3duXCI9PT1lLnR5cGV8fFwia2V5dXBcIj09PWUudHlwZT9lLmtleUNvZGU6MH19KSx0cj1EaS5leHRlbmQoe2RhdGFUcmFuc2ZlcjpudWxsfSksbnI9U2kuZXh0ZW5kKHt0b3VjaGVzOm51bGwsdGFyZ2V0VG91Y2hlczpudWxsLGNoYW5nZWRUb3VjaGVzOm51bGwsYWx0S2V5Om51bGwsbWV0YUtleTpudWxsLGN0cmxLZXk6bnVsbCxzaGlmdEtleTpudWxsLGdldE1vZGlmaWVyU3RhdGU6Q2l9KSxpcj1abi5leHRlbmQoe3Byb3BlcnR5TmFtZTpudWxsLGVsYXBzZWRUaW1lOm51bGwscHNldWRvRWxlbWVudDpudWxsfSkscnI9RGkuZXh0ZW5kKHtkZWx0YVg6ZnVuY3Rpb24oZSl7cmV0dXJuXCJkZWx0YVhcImluIGU/ZS5kZWx0YVg6XCJ3aGVlbERlbHRhWFwiaW4gZT8tZS53aGVlbERlbHRhWDowfSxkZWx0YVk6ZnVuY3Rpb24oZSl7cmV0dXJuXCJkZWx0YVlcImluIGU/ZS5kZWx0YVk6XCJ3aGVlbERlbHRhWVwiaW4gZT8tZS53aGVlbERlbHRhWTpcIndoZWVsRGVsdGFcImluIGU/LWUud2hlZWxEZWx0YTowfSxkZWx0YVo6bnVsbCxkZWx0YU1vZGU6bnVsbH0pLG9yPXtldmVudFR5cGVzOkJ0LGV4dHJhY3RFdmVudHM6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9anQuZ2V0KGUpO2lmKCFyKXJldHVybiBudWxsO3N3aXRjaChlKXtjYXNlXCJrZXlwcmVzc1wiOmlmKDA9PT1KaShuKSlyZXR1cm4gbnVsbDtjYXNlXCJrZXlkb3duXCI6Y2FzZVwia2V5dXBcIjplPWVyO2JyZWFrO2Nhc2VcImJsdXJcIjpjYXNlXCJmb2N1c1wiOmU9WWk7YnJlYWs7Y2FzZVwiY2xpY2tcIjppZigyPT09bi5idXR0b24pcmV0dXJuIG51bGw7Y2FzZVwiYXV4Y2xpY2tcIjpjYXNlXCJkYmxjbGlja1wiOmNhc2VcIm1vdXNlZG93blwiOmNhc2VcIm1vdXNlbW92ZVwiOmNhc2VcIm1vdXNldXBcIjpjYXNlXCJtb3VzZW91dFwiOmNhc2VcIm1vdXNlb3ZlclwiOmNhc2VcImNvbnRleHRtZW51XCI6ZT1EaTticmVhaztjYXNlXCJkcmFnXCI6Y2FzZVwiZHJhZ2VuZFwiOmNhc2VcImRyYWdlbnRlclwiOmNhc2VcImRyYWdleGl0XCI6Y2FzZVwiZHJhZ2xlYXZlXCI6Y2FzZVwiZHJhZ292ZXJcIjpjYXNlXCJkcmFnc3RhcnRcIjpjYXNlXCJkcm9wXCI6ZT10cjticmVhaztjYXNlXCJ0b3VjaGNhbmNlbFwiOmNhc2VcInRvdWNoZW5kXCI6Y2FzZVwidG91Y2htb3ZlXCI6Y2FzZVwidG91Y2hzdGFydFwiOmU9bnI7YnJlYWs7Y2FzZSBxZTpjYXNlICRlOmNhc2UgSGU6ZT1IaTticmVhaztjYXNlIFhlOmU9aXI7YnJlYWs7Y2FzZVwic2Nyb2xsXCI6ZT1TaTticmVhaztjYXNlXCJ3aGVlbFwiOmU9cnI7YnJlYWs7Y2FzZVwiY29weVwiOmNhc2VcImN1dFwiOmNhc2VcInBhc3RlXCI6ZT1YaTticmVhaztjYXNlXCJnb3Rwb2ludGVyY2FwdHVyZVwiOmNhc2VcImxvc3Rwb2ludGVyY2FwdHVyZVwiOmNhc2VcInBvaW50ZXJjYW5jZWxcIjpjYXNlXCJwb2ludGVyZG93blwiOmNhc2VcInBvaW50ZXJtb3ZlXCI6Y2FzZVwicG9pbnRlcm91dFwiOmNhc2VcInBvaW50ZXJvdmVyXCI6Y2FzZVwicG9pbnRlcnVwXCI6ZT1MaTticmVhaztkZWZhdWx0OmU9Wm59cmV0dXJuIEJuKHQ9ZS5nZXRQb29sZWQocix0LG4saSkpLHR9fTtpZihfKXRocm93IEVycm9yKGEoMTAxKSk7Xz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcIlJlc3BvbmRlckV2ZW50UGx1Z2luIFNpbXBsZUV2ZW50UGx1Z2luIEVudGVyTGVhdmVFdmVudFBsdWdpbiBDaGFuZ2VFdmVudFBsdWdpbiBTZWxlY3RFdmVudFBsdWdpbiBCZWZvcmVJbnB1dEV2ZW50UGx1Z2luXCIuc3BsaXQoXCIgXCIpKSx4KCksZj1BbixtPUNuLGc9a24sTSh7U2ltcGxlRXZlbnRQbHVnaW46b3IsRW50ZXJMZWF2ZUV2ZW50UGx1Z2luOlJpLENoYW5nZUV2ZW50UGx1Z2luOkVpLFNlbGVjdEV2ZW50UGx1Z2luOiRpLEJlZm9yZUlucHV0RXZlbnRQbHVnaW46c2l9KTt2YXIgYXI9W10sc3I9LTE7ZnVuY3Rpb24gbHIoZSl7MD5zcnx8KGUuY3VycmVudD1hcltzcl0sYXJbc3JdPW51bGwsc3ItLSl9ZnVuY3Rpb24gY3IoZSx0KXtzcisrLGFyW3NyXT1lLmN1cnJlbnQsZS5jdXJyZW50PXR9dmFyIHVyPXt9LGhyPXtjdXJyZW50OnVyfSxkcj17Y3VycmVudDohMX0scHI9dXI7ZnVuY3Rpb24gZnIoZSx0KXt2YXIgbj1lLnR5cGUuY29udGV4dFR5cGVzO2lmKCFuKXJldHVybiB1cjt2YXIgaT1lLnN0YXRlTm9kZTtpZihpJiZpLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkVW5tYXNrZWRDaGlsZENvbnRleHQ9PT10KXJldHVybiBpLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWFza2VkQ2hpbGRDb250ZXh0O3ZhciByLG89e307Zm9yKHIgaW4gbilvW3JdPXRbcl07cmV0dXJuIGkmJigoZT1lLnN0YXRlTm9kZSkuX19yZWFjdEludGVybmFsTWVtb2l6ZWRVbm1hc2tlZENoaWxkQ29udGV4dD10LGUuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNYXNrZWRDaGlsZENvbnRleHQ9byksb31mdW5jdGlvbiBtcihlKXtyZXR1cm4gbnVsbCE9KGU9ZS5jaGlsZENvbnRleHRUeXBlcyl9ZnVuY3Rpb24gZ3IoKXtscihkciksbHIoaHIpfWZ1bmN0aW9uIHlyKGUsdCxuKXtpZihoci5jdXJyZW50IT09dXIpdGhyb3cgRXJyb3IoYSgxNjgpKTtjcihocix0KSxjcihkcixuKX1mdW5jdGlvbiBfcihlLHQsbil7dmFyIGk9ZS5zdGF0ZU5vZGU7aWYoZT10LmNoaWxkQ29udGV4dFR5cGVzLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGkuZ2V0Q2hpbGRDb250ZXh0KXJldHVybiBuO2Zvcih2YXIgbyBpbiBpPWkuZ2V0Q2hpbGRDb250ZXh0KCkpaWYoIShvIGluIGUpKXRocm93IEVycm9yKGEoMTA4LGdlKHQpfHxcIlVua25vd25cIixvKSk7cmV0dXJuIHIoe30sbix7fSxpKX1mdW5jdGlvbiB2cihlKXtyZXR1cm4gZT0oZT1lLnN0YXRlTm9kZSkmJmUuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHR8fHVyLHByPWhyLmN1cnJlbnQsY3IoaHIsZSksY3IoZHIsZHIuY3VycmVudCksITB9ZnVuY3Rpb24geHIoZSx0LG4pe3ZhciBpPWUuc3RhdGVOb2RlO2lmKCFpKXRocm93IEVycm9yKGEoMTY5KSk7bj8oZT1fcihlLHQscHIpLGkuX19yZWFjdEludGVybmFsTWVtb2l6ZWRNZXJnZWRDaGlsZENvbnRleHQ9ZSxscihkciksbHIoaHIpLGNyKGhyLGUpKTpscihkciksY3IoZHIsbil9dmFyIGJyPW8udW5zdGFibGVfcnVuV2l0aFByaW9yaXR5LHdyPW8udW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayxUcj1vLnVuc3RhYmxlX2NhbmNlbENhbGxiYWNrLEVyPW8udW5zdGFibGVfcmVxdWVzdFBhaW50LFNyPW8udW5zdGFibGVfbm93LE1yPW8udW5zdGFibGVfZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwsSXI9by51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eSxDcj1vLnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5LGtyPW8udW5zdGFibGVfTm9ybWFsUHJpb3JpdHksQXI9by51bnN0YWJsZV9Mb3dQcmlvcml0eSxQcj1vLnVuc3RhYmxlX0lkbGVQcmlvcml0eSx6cj17fSxEcj1vLnVuc3RhYmxlX3Nob3VsZFlpZWxkLExyPXZvaWQgMCE9PUVyP0VyOmZ1bmN0aW9uKCl7fSxPcj1udWxsLFJyPW51bGwsQnI9ITEsanI9U3IoKSxGcj0xZTQ+anI/U3I6ZnVuY3Rpb24oKXtyZXR1cm4gU3IoKS1qcn07ZnVuY3Rpb24gTnIoKXtzd2l0Y2goTXIoKSl7Y2FzZSBJcjpyZXR1cm4gOTk7Y2FzZSBDcjpyZXR1cm4gOTg7Y2FzZSBrcjpyZXR1cm4gOTc7Y2FzZSBBcjpyZXR1cm4gOTY7Y2FzZSBQcjpyZXR1cm4gOTU7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDMzMikpfX1mdW5jdGlvbiBVcihlKXtzd2l0Y2goZSl7Y2FzZSA5OTpyZXR1cm4gSXI7Y2FzZSA5ODpyZXR1cm4gQ3I7Y2FzZSA5NzpyZXR1cm4ga3I7Y2FzZSA5NjpyZXR1cm4gQXI7Y2FzZSA5NTpyZXR1cm4gUHI7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDMzMikpfX1mdW5jdGlvbiBWcihlLHQpe3JldHVybiBlPVVyKGUpLGJyKGUsdCl9ZnVuY3Rpb24gR3IoZSx0LG4pe3JldHVybiBlPVVyKGUpLHdyKGUsdCxuKX1mdW5jdGlvbiBacihlKXtyZXR1cm4gbnVsbD09PU9yPyhPcj1bZV0sUnI9d3IoSXIscXIpKTpPci5wdXNoKGUpLHpyfWZ1bmN0aW9uIFdyKCl7aWYobnVsbCE9PVJyKXt2YXIgZT1ScjtScj1udWxsLFRyKGUpfXFyKCl9ZnVuY3Rpb24gcXIoKXtpZighQnImJm51bGwhPT1Pcil7QnI9ITA7dmFyIGU9MDt0cnl7dmFyIHQ9T3I7VnIoOTksKGZ1bmN0aW9uKCl7Zm9yKDtlPHQubGVuZ3RoO2UrKyl7dmFyIG49dFtlXTtkb3tuPW4oITApfXdoaWxlKG51bGwhPT1uKX19KSksT3I9bnVsbH1jYXRjaCh0KXt0aHJvdyBudWxsIT09T3ImJihPcj1Pci5zbGljZShlKzEpKSx3cihJcixXciksdH1maW5hbGx5e0JyPSExfX19ZnVuY3Rpb24gJHIoZSx0LG4pe3JldHVybiAxMDczNzQxODIxLSgxKygoMTA3Mzc0MTgyMS1lK3QvMTApLyhuLz0xMCl8MCkpKm59ZnVuY3Rpb24gSHIoZSx0KXtpZihlJiZlLmRlZmF1bHRQcm9wcylmb3IodmFyIG4gaW4gdD1yKHt9LHQpLGU9ZS5kZWZhdWx0UHJvcHMpdm9pZCAwPT09dFtuXSYmKHRbbl09ZVtuXSk7cmV0dXJuIHR9dmFyIFhyPXtjdXJyZW50Om51bGx9LFlyPW51bGwsSnI9bnVsbCxRcj1udWxsO2Z1bmN0aW9uIEtyKCl7UXI9SnI9WXI9bnVsbH1mdW5jdGlvbiBlbyhlKXt2YXIgdD1Yci5jdXJyZW50O2xyKFhyKSxlLnR5cGUuX2NvbnRleHQuX2N1cnJlbnRWYWx1ZT10fWZ1bmN0aW9uIHRvKGUsdCl7Zm9yKDtudWxsIT09ZTspe3ZhciBuPWUuYWx0ZXJuYXRlO2lmKGUuY2hpbGRFeHBpcmF0aW9uVGltZTx0KWUuY2hpbGRFeHBpcmF0aW9uVGltZT10LG51bGwhPT1uJiZuLmNoaWxkRXhwaXJhdGlvblRpbWU8dCYmKG4uY2hpbGRFeHBpcmF0aW9uVGltZT10KTtlbHNle2lmKCEobnVsbCE9PW4mJm4uY2hpbGRFeHBpcmF0aW9uVGltZTx0KSlicmVhaztuLmNoaWxkRXhwaXJhdGlvblRpbWU9dH1lPWUucmV0dXJufX1mdW5jdGlvbiBubyhlLHQpe1lyPWUsUXI9SnI9bnVsbCxudWxsIT09KGU9ZS5kZXBlbmRlbmNpZXMpJiZudWxsIT09ZS5maXJzdENvbnRleHQmJihlLmV4cGlyYXRpb25UaW1lPj10JiYoQWE9ITApLGUuZmlyc3RDb250ZXh0PW51bGwpfWZ1bmN0aW9uIGlvKGUsdCl7aWYoUXIhPT1lJiYhMSE9PXQmJjAhPT10KWlmKFwibnVtYmVyXCI9PXR5cGVvZiB0JiYxMDczNzQxODIzIT09dHx8KFFyPWUsdD0xMDczNzQxODIzKSx0PXtjb250ZXh0OmUsb2JzZXJ2ZWRCaXRzOnQsbmV4dDpudWxsfSxudWxsPT09SnIpe2lmKG51bGw9PT1Zcil0aHJvdyBFcnJvcihhKDMwOCkpO0pyPXQsWXIuZGVwZW5kZW5jaWVzPXtleHBpcmF0aW9uVGltZTowLGZpcnN0Q29udGV4dDp0LHJlc3BvbmRlcnM6bnVsbH19ZWxzZSBKcj1Kci5uZXh0PXQ7cmV0dXJuIGUuX2N1cnJlbnRWYWx1ZX12YXIgcm89ITE7ZnVuY3Rpb24gb28oZSl7ZS51cGRhdGVRdWV1ZT17YmFzZVN0YXRlOmUubWVtb2l6ZWRTdGF0ZSxiYXNlUXVldWU6bnVsbCxzaGFyZWQ6e3BlbmRpbmc6bnVsbH0sZWZmZWN0czpudWxsfX1mdW5jdGlvbiBhbyhlLHQpe2U9ZS51cGRhdGVRdWV1ZSx0LnVwZGF0ZVF1ZXVlPT09ZSYmKHQudXBkYXRlUXVldWU9e2Jhc2VTdGF0ZTplLmJhc2VTdGF0ZSxiYXNlUXVldWU6ZS5iYXNlUXVldWUsc2hhcmVkOmUuc2hhcmVkLGVmZmVjdHM6ZS5lZmZlY3RzfSl9ZnVuY3Rpb24gc28oZSx0KXtyZXR1cm4oZT17ZXhwaXJhdGlvblRpbWU6ZSxzdXNwZW5zZUNvbmZpZzp0LHRhZzowLHBheWxvYWQ6bnVsbCxjYWxsYmFjazpudWxsLG5leHQ6bnVsbH0pLm5leHQ9ZX1mdW5jdGlvbiBsbyhlLHQpe2lmKG51bGwhPT0oZT1lLnVwZGF0ZVF1ZXVlKSl7dmFyIG49KGU9ZS5zaGFyZWQpLnBlbmRpbmc7bnVsbD09PW4/dC5uZXh0PXQ6KHQubmV4dD1uLm5leHQsbi5uZXh0PXQpLGUucGVuZGluZz10fX1mdW5jdGlvbiBjbyhlLHQpe3ZhciBuPWUuYWx0ZXJuYXRlO251bGwhPT1uJiZhbyhuLGUpLG51bGw9PT0obj0oZT1lLnVwZGF0ZVF1ZXVlKS5iYXNlUXVldWUpPyhlLmJhc2VRdWV1ZT10Lm5leHQ9dCx0Lm5leHQ9dCk6KHQubmV4dD1uLm5leHQsbi5uZXh0PXQpfWZ1bmN0aW9uIHVvKGUsdCxuLGkpe3ZhciBvPWUudXBkYXRlUXVldWU7cm89ITE7dmFyIGE9by5iYXNlUXVldWUscz1vLnNoYXJlZC5wZW5kaW5nO2lmKG51bGwhPT1zKXtpZihudWxsIT09YSl7dmFyIGw9YS5uZXh0O2EubmV4dD1zLm5leHQscy5uZXh0PWx9YT1zLG8uc2hhcmVkLnBlbmRpbmc9bnVsbCxudWxsIT09KGw9ZS5hbHRlcm5hdGUpJiYobnVsbCE9PShsPWwudXBkYXRlUXVldWUpJiYobC5iYXNlUXVldWU9cykpfWlmKG51bGwhPT1hKXtsPWEubmV4dDt2YXIgYz1vLmJhc2VTdGF0ZSx1PTAsaD1udWxsLGQ9bnVsbCxwPW51bGw7aWYobnVsbCE9PWwpZm9yKHZhciBmPWw7Oyl7aWYoKHM9Zi5leHBpcmF0aW9uVGltZSk8aSl7dmFyIG09e2V4cGlyYXRpb25UaW1lOmYuZXhwaXJhdGlvblRpbWUsc3VzcGVuc2VDb25maWc6Zi5zdXNwZW5zZUNvbmZpZyx0YWc6Zi50YWcscGF5bG9hZDpmLnBheWxvYWQsY2FsbGJhY2s6Zi5jYWxsYmFjayxuZXh0Om51bGx9O251bGw9PT1wPyhkPXA9bSxoPWMpOnA9cC5uZXh0PW0scz51JiYodT1zKX1lbHNle251bGwhPT1wJiYocD1wLm5leHQ9e2V4cGlyYXRpb25UaW1lOjEwNzM3NDE4MjMsc3VzcGVuc2VDb25maWc6Zi5zdXNwZW5zZUNvbmZpZyx0YWc6Zi50YWcscGF5bG9hZDpmLnBheWxvYWQsY2FsbGJhY2s6Zi5jYWxsYmFjayxuZXh0Om51bGx9KSxvbChzLGYuc3VzcGVuc2VDb25maWcpO2U6e3ZhciBnPWUseT1mO3N3aXRjaChzPXQsbT1uLHkudGFnKXtjYXNlIDE6aWYoXCJmdW5jdGlvblwiPT10eXBlb2YoZz15LnBheWxvYWQpKXtjPWcuY2FsbChtLGMscyk7YnJlYWsgZX1jPWc7YnJlYWsgZTtjYXNlIDM6Zy5lZmZlY3RUYWc9LTQwOTcmZy5lZmZlY3RUYWd8NjQ7Y2FzZSAwOmlmKG51bGw9PShzPVwiZnVuY3Rpb25cIj09dHlwZW9mKGc9eS5wYXlsb2FkKT9nLmNhbGwobSxjLHMpOmcpKWJyZWFrIGU7Yz1yKHt9LGMscyk7YnJlYWsgZTtjYXNlIDI6cm89ITB9fW51bGwhPT1mLmNhbGxiYWNrJiYoZS5lZmZlY3RUYWd8PTMyLG51bGw9PT0ocz1vLmVmZmVjdHMpP28uZWZmZWN0cz1bZl06cy5wdXNoKGYpKX1pZihudWxsPT09KGY9Zi5uZXh0KXx8Zj09PWwpe2lmKG51bGw9PT0ocz1vLnNoYXJlZC5wZW5kaW5nKSlicmVhaztmPWEubmV4dD1zLm5leHQscy5uZXh0PWwsby5iYXNlUXVldWU9YT1zLG8uc2hhcmVkLnBlbmRpbmc9bnVsbH19bnVsbD09PXA/aD1jOnAubmV4dD1kLG8uYmFzZVN0YXRlPWgsby5iYXNlUXVldWU9cCxhbCh1KSxlLmV4cGlyYXRpb25UaW1lPXUsZS5tZW1vaXplZFN0YXRlPWN9fWZ1bmN0aW9uIGhvKGUsdCxuKXtpZihlPXQuZWZmZWN0cyx0LmVmZmVjdHM9bnVsbCxudWxsIT09ZSlmb3IodD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgaT1lW3RdLHI9aS5jYWxsYmFjaztpZihudWxsIT09cil7aWYoaS5jYWxsYmFjaz1udWxsLGk9cixyPW4sXCJmdW5jdGlvblwiIT10eXBlb2YgaSl0aHJvdyBFcnJvcihhKDE5MSxpKSk7aS5jYWxsKHIpfX19dmFyIHBvPVkuUmVhY3RDdXJyZW50QmF0Y2hDb25maWcsZm89KG5ldyBpLkNvbXBvbmVudCkucmVmcztmdW5jdGlvbiBtbyhlLHQsbixpKXtuPW51bGw9PShuPW4oaSx0PWUubWVtb2l6ZWRTdGF0ZSkpP3Q6cih7fSx0LG4pLGUubWVtb2l6ZWRTdGF0ZT1uLDA9PT1lLmV4cGlyYXRpb25UaW1lJiYoZS51cGRhdGVRdWV1ZS5iYXNlU3RhdGU9bil9dmFyIGdvPXtpc01vdW50ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZT1lLl9yZWFjdEludGVybmFsRmliZXIpJiZLZShlKT09PWV9LGVucXVldWVTZXRTdGF0ZTpmdW5jdGlvbihlLHQsbil7ZT1lLl9yZWFjdEludGVybmFsRmliZXI7dmFyIGk9cXMoKSxyPXBvLnN1c3BlbnNlOyhyPXNvKGk9JHMoaSxlLHIpLHIpKS5wYXlsb2FkPXQsbnVsbCE9biYmKHIuY2FsbGJhY2s9biksbG8oZSxyKSxIcyhlLGkpfSxlbnF1ZXVlUmVwbGFjZVN0YXRlOmZ1bmN0aW9uKGUsdCxuKXtlPWUuX3JlYWN0SW50ZXJuYWxGaWJlcjt2YXIgaT1xcygpLHI9cG8uc3VzcGVuc2U7KHI9c28oaT0kcyhpLGUscikscikpLnRhZz0xLHIucGF5bG9hZD10LG51bGwhPW4mJihyLmNhbGxiYWNrPW4pLGxvKGUsciksSHMoZSxpKX0sZW5xdWV1ZUZvcmNlVXBkYXRlOmZ1bmN0aW9uKGUsdCl7ZT1lLl9yZWFjdEludGVybmFsRmliZXI7dmFyIG49cXMoKSxpPXBvLnN1c3BlbnNlOyhpPXNvKG49JHMobixlLGkpLGkpKS50YWc9MixudWxsIT10JiYoaS5jYWxsYmFjaz10KSxsbyhlLGkpLEhzKGUsbil9fTtmdW5jdGlvbiB5byhlLHQsbixpLHIsbyxhKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZihlPWUuc3RhdGVOb2RlKS5zaG91bGRDb21wb25lbnRVcGRhdGU/ZS5zaG91bGRDb21wb25lbnRVcGRhdGUoaSxvLGEpOiF0LnByb3RvdHlwZXx8IXQucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50fHwoIUZpKG4saSl8fCFGaShyLG8pKX1mdW5jdGlvbiBfbyhlLHQsbil7dmFyIGk9ITEscj11cixvPXQuY29udGV4dFR5cGU7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIG8mJm51bGwhPT1vP289aW8obyk6KHI9bXIodCk/cHI6aHIuY3VycmVudCxvPShpPW51bGwhPShpPXQuY29udGV4dFR5cGVzKSk/ZnIoZSxyKTp1ciksdD1uZXcgdChuLG8pLGUubWVtb2l6ZWRTdGF0ZT1udWxsIT09dC5zdGF0ZSYmdm9pZCAwIT09dC5zdGF0ZT90LnN0YXRlOm51bGwsdC51cGRhdGVyPWdvLGUuc3RhdGVOb2RlPXQsdC5fcmVhY3RJbnRlcm5hbEZpYmVyPWUsaSYmKChlPWUuc3RhdGVOb2RlKS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZFVubWFza2VkQ2hpbGRDb250ZXh0PXIsZS5fX3JlYWN0SW50ZXJuYWxNZW1vaXplZE1hc2tlZENoaWxkQ29udGV4dD1vKSx0fWZ1bmN0aW9uIHZvKGUsdCxuLGkpe2U9dC5zdGF0ZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJnQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuLGkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMmJnQuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobixpKSx0LnN0YXRlIT09ZSYmZ28uZW5xdWV1ZVJlcGxhY2VTdGF0ZSh0LHQuc3RhdGUsbnVsbCl9ZnVuY3Rpb24geG8oZSx0LG4saSl7dmFyIHI9ZS5zdGF0ZU5vZGU7ci5wcm9wcz1uLHIuc3RhdGU9ZS5tZW1vaXplZFN0YXRlLHIucmVmcz1mbyxvbyhlKTt2YXIgbz10LmNvbnRleHRUeXBlO1wib2JqZWN0XCI9PXR5cGVvZiBvJiZudWxsIT09bz9yLmNvbnRleHQ9aW8obyk6KG89bXIodCk/cHI6aHIuY3VycmVudCxyLmNvbnRleHQ9ZnIoZSxvKSksdW8oZSxuLHIsaSksci5zdGF0ZT1lLm1lbW9pemVkU3RhdGUsXCJmdW5jdGlvblwiPT10eXBlb2Yobz10LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcykmJihtbyhlLHQsbyxuKSxyLnN0YXRlPWUubWVtb2l6ZWRTdGF0ZSksXCJmdW5jdGlvblwiPT10eXBlb2YgdC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHN8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHIuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGV8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmXCJmdW5jdGlvblwiIT10eXBlb2Ygci5jb21wb25lbnRXaWxsTW91bnR8fCh0PXIuc3RhdGUsXCJmdW5jdGlvblwiPT10eXBlb2Ygci5jb21wb25lbnRXaWxsTW91bnQmJnIuY29tcG9uZW50V2lsbE1vdW50KCksXCJmdW5jdGlvblwiPT10eXBlb2Ygci5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiZyLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSx0IT09ci5zdGF0ZSYmZ28uZW5xdWV1ZVJlcGxhY2VTdGF0ZShyLHIuc3RhdGUsbnVsbCksdW8oZSxuLHIsaSksci5zdGF0ZT1lLm1lbW9pemVkU3RhdGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHIuY29tcG9uZW50RGlkTW91bnQmJihlLmVmZmVjdFRhZ3w9NCl9dmFyIGJvPUFycmF5LmlzQXJyYXk7ZnVuY3Rpb24gd28oZSx0LG4pe2lmKG51bGwhPT0oZT1uLnJlZikmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJlwib2JqZWN0XCIhPXR5cGVvZiBlKXtpZihuLl9vd25lcil7aWYobj1uLl9vd25lcil7aWYoMSE9PW4udGFnKXRocm93IEVycm9yKGEoMzA5KSk7dmFyIGk9bi5zdGF0ZU5vZGV9aWYoIWkpdGhyb3cgRXJyb3IoYSgxNDcsZSkpO3ZhciByPVwiXCIrZTtyZXR1cm4gbnVsbCE9PXQmJm51bGwhPT10LnJlZiYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5yZWYmJnQucmVmLl9zdHJpbmdSZWY9PT1yP3QucmVmOigodD1mdW5jdGlvbihlKXt2YXIgdD1pLnJlZnM7dD09PWZvJiYodD1pLnJlZnM9e30pLG51bGw9PT1lP2RlbGV0ZSB0W3JdOnRbcl09ZX0pLl9zdHJpbmdSZWY9cix0KX1pZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBFcnJvcihhKDI4NCkpO2lmKCFuLl9vd25lcil0aHJvdyBFcnJvcihhKDI5MCxlKSl9cmV0dXJuIGV9ZnVuY3Rpb24gVG8oZSx0KXtpZihcInRleHRhcmVhXCIhPT1lLnR5cGUpdGhyb3cgRXJyb3IoYSgzMSxcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpP1wib2JqZWN0IHdpdGgga2V5cyB7XCIrT2JqZWN0LmtleXModCkuam9pbihcIiwgXCIpK1wifVwiOnQsXCJcIikpfWZ1bmN0aW9uIEVvKGUpe2Z1bmN0aW9uIHQodCxuKXtpZihlKXt2YXIgaT10Lmxhc3RFZmZlY3Q7bnVsbCE9PWk/KGkubmV4dEVmZmVjdD1uLHQubGFzdEVmZmVjdD1uKTp0LmZpcnN0RWZmZWN0PXQubGFzdEVmZmVjdD1uLG4ubmV4dEVmZmVjdD1udWxsLG4uZWZmZWN0VGFnPTh9fWZ1bmN0aW9uIG4obixpKXtpZighZSlyZXR1cm4gbnVsbDtmb3IoO251bGwhPT1pOyl0KG4saSksaT1pLnNpYmxpbmc7cmV0dXJuIG51bGx9ZnVuY3Rpb24gaShlLHQpe2ZvcihlPW5ldyBNYXA7bnVsbCE9PXQ7KW51bGwhPT10LmtleT9lLnNldCh0LmtleSx0KTplLnNldCh0LmluZGV4LHQpLHQ9dC5zaWJsaW5nO3JldHVybiBlfWZ1bmN0aW9uIHIoZSx0KXtyZXR1cm4oZT1NbChlLHQpKS5pbmRleD0wLGUuc2libGluZz1udWxsLGV9ZnVuY3Rpb24gbyh0LG4saSl7cmV0dXJuIHQuaW5kZXg9aSxlP251bGwhPT0oaT10LmFsdGVybmF0ZSk/KGk9aS5pbmRleCk8bj8odC5lZmZlY3RUYWc9MixuKTppOih0LmVmZmVjdFRhZz0yLG4pOm59ZnVuY3Rpb24gcyh0KXtyZXR1cm4gZSYmbnVsbD09PXQuYWx0ZXJuYXRlJiYodC5lZmZlY3RUYWc9MiksdH1mdW5jdGlvbiBsKGUsdCxuLGkpe3JldHVybiBudWxsPT09dHx8NiE9PXQudGFnPygodD1rbChuLGUubW9kZSxpKSkucmV0dXJuPWUsdCk6KCh0PXIodCxuKSkucmV0dXJuPWUsdCl9ZnVuY3Rpb24gYyhlLHQsbixpKXtyZXR1cm4gbnVsbCE9PXQmJnQuZWxlbWVudFR5cGU9PT1uLnR5cGU/KChpPXIodCxuLnByb3BzKSkucmVmPXdvKGUsdCxuKSxpLnJldHVybj1lLGkpOigoaT1JbChuLnR5cGUsbi5rZXksbi5wcm9wcyxudWxsLGUubW9kZSxpKSkucmVmPXdvKGUsdCxuKSxpLnJldHVybj1lLGkpfWZ1bmN0aW9uIHUoZSx0LG4saSl7cmV0dXJuIG51bGw9PT10fHw0IT09dC50YWd8fHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8hPT1uLmNvbnRhaW5lckluZm98fHQuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uIT09bi5pbXBsZW1lbnRhdGlvbj8oKHQ9QWwobixlLm1vZGUsaSkpLnJldHVybj1lLHQpOigodD1yKHQsbi5jaGlsZHJlbnx8W10pKS5yZXR1cm49ZSx0KX1mdW5jdGlvbiBoKGUsdCxuLGksbyl7cmV0dXJuIG51bGw9PT10fHw3IT09dC50YWc/KCh0PUNsKG4sZS5tb2RlLGksbykpLnJldHVybj1lLHQpOigodD1yKHQsbikpLnJldHVybj1lLHQpfWZ1bmN0aW9uIGQoZSx0LG4pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0fHxcIm51bWJlclwiPT10eXBlb2YgdClyZXR1cm4odD1rbChcIlwiK3QsZS5tb2RlLG4pKS5yZXR1cm49ZSx0O2lmKFwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT09dCl7c3dpdGNoKHQuJCR0eXBlb2Ype2Nhc2UgZWU6cmV0dXJuKG49SWwodC50eXBlLHQua2V5LHQucHJvcHMsbnVsbCxlLm1vZGUsbikpLnJlZj13byhlLG51bGwsdCksbi5yZXR1cm49ZSxuO2Nhc2UgdGU6cmV0dXJuKHQ9QWwodCxlLm1vZGUsbikpLnJldHVybj1lLHR9aWYoYm8odCl8fG1lKHQpKXJldHVybih0PUNsKHQsZS5tb2RlLG4sbnVsbCkpLnJldHVybj1lLHQ7VG8oZSx0KX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBwKGUsdCxuLGkpe3ZhciByPW51bGwhPT10P3Qua2V5Om51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG58fFwibnVtYmVyXCI9PXR5cGVvZiBuKXJldHVybiBudWxsIT09cj9udWxsOmwoZSx0LFwiXCIrbixpKTtpZihcIm9iamVjdFwiPT10eXBlb2YgbiYmbnVsbCE9PW4pe3N3aXRjaChuLiQkdHlwZW9mKXtjYXNlIGVlOnJldHVybiBuLmtleT09PXI/bi50eXBlPT09bmU/aChlLHQsbi5wcm9wcy5jaGlsZHJlbixpLHIpOmMoZSx0LG4saSk6bnVsbDtjYXNlIHRlOnJldHVybiBuLmtleT09PXI/dShlLHQsbixpKTpudWxsfWlmKGJvKG4pfHxtZShuKSlyZXR1cm4gbnVsbCE9PXI/bnVsbDpoKGUsdCxuLGksbnVsbCk7VG8oZSxuKX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBmKGUsdCxuLGkscil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGl8fFwibnVtYmVyXCI9PXR5cGVvZiBpKXJldHVybiBsKHQsZT1lLmdldChuKXx8bnVsbCxcIlwiK2kscik7aWYoXCJvYmplY3RcIj09dHlwZW9mIGkmJm51bGwhPT1pKXtzd2l0Y2goaS4kJHR5cGVvZil7Y2FzZSBlZTpyZXR1cm4gZT1lLmdldChudWxsPT09aS5rZXk/bjppLmtleSl8fG51bGwsaS50eXBlPT09bmU/aCh0LGUsaS5wcm9wcy5jaGlsZHJlbixyLGkua2V5KTpjKHQsZSxpLHIpO2Nhc2UgdGU6cmV0dXJuIHUodCxlPWUuZ2V0KG51bGw9PT1pLmtleT9uOmkua2V5KXx8bnVsbCxpLHIpfWlmKGJvKGkpfHxtZShpKSlyZXR1cm4gaCh0LGU9ZS5nZXQobil8fG51bGwsaSxyLG51bGwpO1RvKHQsaSl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbShyLGEscyxsKXtmb3IodmFyIGM9bnVsbCx1PW51bGwsaD1hLG09YT0wLGc9bnVsbDtudWxsIT09aCYmbTxzLmxlbmd0aDttKyspe2guaW5kZXg+bT8oZz1oLGg9bnVsbCk6Zz1oLnNpYmxpbmc7dmFyIHk9cChyLGgsc1ttXSxsKTtpZihudWxsPT09eSl7bnVsbD09PWgmJihoPWcpO2JyZWFrfWUmJmgmJm51bGw9PT15LmFsdGVybmF0ZSYmdChyLGgpLGE9byh5LGEsbSksbnVsbD09PXU/Yz15OnUuc2libGluZz15LHU9eSxoPWd9aWYobT09PXMubGVuZ3RoKXJldHVybiBuKHIsaCksYztpZihudWxsPT09aCl7Zm9yKDttPHMubGVuZ3RoO20rKyludWxsIT09KGg9ZChyLHNbbV0sbCkpJiYoYT1vKGgsYSxtKSxudWxsPT09dT9jPWg6dS5zaWJsaW5nPWgsdT1oKTtyZXR1cm4gY31mb3IoaD1pKHIsaCk7bTxzLmxlbmd0aDttKyspbnVsbCE9PShnPWYoaCxyLG0sc1ttXSxsKSkmJihlJiZudWxsIT09Zy5hbHRlcm5hdGUmJmguZGVsZXRlKG51bGw9PT1nLmtleT9tOmcua2V5KSxhPW8oZyxhLG0pLG51bGw9PT11P2M9Zzp1LnNpYmxpbmc9Zyx1PWcpO3JldHVybiBlJiZoLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0KHIsZSl9KSksY31mdW5jdGlvbiBnKHIscyxsLGMpe3ZhciB1PW1lKGwpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHUpdGhyb3cgRXJyb3IoYSgxNTApKTtpZihudWxsPT0obD11LmNhbGwobCkpKXRocm93IEVycm9yKGEoMTUxKSk7Zm9yKHZhciBoPXU9bnVsbCxtPXMsZz1zPTAseT1udWxsLF89bC5uZXh0KCk7bnVsbCE9PW0mJiFfLmRvbmU7ZysrLF89bC5uZXh0KCkpe20uaW5kZXg+Zz8oeT1tLG09bnVsbCk6eT1tLnNpYmxpbmc7dmFyIHY9cChyLG0sXy52YWx1ZSxjKTtpZihudWxsPT09dil7bnVsbD09PW0mJihtPXkpO2JyZWFrfWUmJm0mJm51bGw9PT12LmFsdGVybmF0ZSYmdChyLG0pLHM9byh2LHMsZyksbnVsbD09PWg/dT12Omguc2libGluZz12LGg9dixtPXl9aWYoXy5kb25lKXJldHVybiBuKHIsbSksdTtpZihudWxsPT09bSl7Zm9yKDshXy5kb25lO2crKyxfPWwubmV4dCgpKW51bGwhPT0oXz1kKHIsXy52YWx1ZSxjKSkmJihzPW8oXyxzLGcpLG51bGw9PT1oP3U9XzpoLnNpYmxpbmc9XyxoPV8pO3JldHVybiB1fWZvcihtPWkocixtKTshXy5kb25lO2crKyxfPWwubmV4dCgpKW51bGwhPT0oXz1mKG0scixnLF8udmFsdWUsYykpJiYoZSYmbnVsbCE9PV8uYWx0ZXJuYXRlJiZtLmRlbGV0ZShudWxsPT09Xy5rZXk/ZzpfLmtleSkscz1vKF8scyxnKSxudWxsPT09aD91PV86aC5zaWJsaW5nPV8saD1fKTtyZXR1cm4gZSYmbS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdChyLGUpfSkpLHV9cmV0dXJuIGZ1bmN0aW9uKGUsaSxvLGwpe3ZhciBjPVwib2JqZWN0XCI9PXR5cGVvZiBvJiZudWxsIT09byYmby50eXBlPT09bmUmJm51bGw9PT1vLmtleTtjJiYobz1vLnByb3BzLmNoaWxkcmVuKTt2YXIgdT1cIm9iamVjdFwiPT10eXBlb2YgbyYmbnVsbCE9PW87aWYodSlzd2l0Y2goby4kJHR5cGVvZil7Y2FzZSBlZTplOntmb3IodT1vLmtleSxjPWk7bnVsbCE9PWM7KXtpZihjLmtleT09PXUpe3N3aXRjaChjLnRhZyl7Y2FzZSA3OmlmKG8udHlwZT09PW5lKXtuKGUsYy5zaWJsaW5nKSwoaT1yKGMsby5wcm9wcy5jaGlsZHJlbikpLnJldHVybj1lLGU9aTticmVhayBlfWJyZWFrO2RlZmF1bHQ6aWYoYy5lbGVtZW50VHlwZT09PW8udHlwZSl7bihlLGMuc2libGluZyksKGk9cihjLG8ucHJvcHMpKS5yZWY9d28oZSxjLG8pLGkucmV0dXJuPWUsZT1pO2JyZWFrIGV9fW4oZSxjKTticmVha310KGUsYyksYz1jLnNpYmxpbmd9by50eXBlPT09bmU/KChpPUNsKG8ucHJvcHMuY2hpbGRyZW4sZS5tb2RlLGwsby5rZXkpKS5yZXR1cm49ZSxlPWkpOigobD1JbChvLnR5cGUsby5rZXksby5wcm9wcyxudWxsLGUubW9kZSxsKSkucmVmPXdvKGUsaSxvKSxsLnJldHVybj1lLGU9bCl9cmV0dXJuIHMoZSk7Y2FzZSB0ZTplOntmb3IoYz1vLmtleTtudWxsIT09aTspe2lmKGkua2V5PT09Yyl7aWYoND09PWkudGFnJiZpLnN0YXRlTm9kZS5jb250YWluZXJJbmZvPT09by5jb250YWluZXJJbmZvJiZpLnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbj09PW8uaW1wbGVtZW50YXRpb24pe24oZSxpLnNpYmxpbmcpLChpPXIoaSxvLmNoaWxkcmVufHxbXSkpLnJldHVybj1lLGU9aTticmVhayBlfW4oZSxpKTticmVha310KGUsaSksaT1pLnNpYmxpbmd9KGk9QWwobyxlLm1vZGUsbCkpLnJldHVybj1lLGU9aX1yZXR1cm4gcyhlKX1pZihcInN0cmluZ1wiPT10eXBlb2Ygb3x8XCJudW1iZXJcIj09dHlwZW9mIG8pcmV0dXJuIG89XCJcIitvLG51bGwhPT1pJiY2PT09aS50YWc/KG4oZSxpLnNpYmxpbmcpLChpPXIoaSxvKSkucmV0dXJuPWUsZT1pKToobihlLGkpLChpPWtsKG8sZS5tb2RlLGwpKS5yZXR1cm49ZSxlPWkpLHMoZSk7aWYoYm8obykpcmV0dXJuIG0oZSxpLG8sbCk7aWYobWUobykpcmV0dXJuIGcoZSxpLG8sbCk7aWYodSYmVG8oZSxvKSx2b2lkIDA9PT1vJiYhYylzd2l0Y2goZS50YWcpe2Nhc2UgMTpjYXNlIDA6dGhyb3cgZT1lLnR5cGUsRXJyb3IoYSgxNTIsZS5kaXNwbGF5TmFtZXx8ZS5uYW1lfHxcIkNvbXBvbmVudFwiKSl9cmV0dXJuIG4oZSxpKX19dmFyIFNvPUVvKCEwKSxNbz1FbyghMSksSW89e30sQ289e2N1cnJlbnQ6SW99LGtvPXtjdXJyZW50OklvfSxBbz17Y3VycmVudDpJb307ZnVuY3Rpb24gUG8oZSl7aWYoZT09PUlvKXRocm93IEVycm9yKGEoMTc0KSk7cmV0dXJuIGV9ZnVuY3Rpb24gem8oZSx0KXtzd2l0Y2goY3IoQW8sdCksY3Ioa28sZSksY3IoQ28sSW8pLGU9dC5ub2RlVHlwZSl7Y2FzZSA5OmNhc2UgMTE6dD0odD10LmRvY3VtZW50RWxlbWVudCk/dC5uYW1lc3BhY2VVUkk6QmUobnVsbCxcIlwiKTticmVhaztkZWZhdWx0OnQ9QmUodD0oZT04PT09ZT90LnBhcmVudE5vZGU6dCkubmFtZXNwYWNlVVJJfHxudWxsLGU9ZS50YWdOYW1lKX1scihDbyksY3IoQ28sdCl9ZnVuY3Rpb24gRG8oKXtscihDbyksbHIoa28pLGxyKEFvKX1mdW5jdGlvbiBMbyhlKXtQbyhBby5jdXJyZW50KTt2YXIgdD1QbyhDby5jdXJyZW50KSxuPUJlKHQsZS50eXBlKTt0IT09biYmKGNyKGtvLGUpLGNyKENvLG4pKX1mdW5jdGlvbiBPbyhlKXtrby5jdXJyZW50PT09ZSYmKGxyKENvKSxscihrbykpfXZhciBSbz17Y3VycmVudDowfTtmdW5jdGlvbiBCbyhlKXtmb3IodmFyIHQ9ZTtudWxsIT09dDspe2lmKDEzPT09dC50YWcpe3ZhciBuPXQubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09biYmKG51bGw9PT0obj1uLmRlaHlkcmF0ZWQpfHxcIiQ/XCI9PT1uLmRhdGF8fFwiJCFcIj09PW4uZGF0YSkpcmV0dXJuIHR9ZWxzZSBpZigxOT09PXQudGFnJiZ2b2lkIDAhPT10Lm1lbW9pemVkUHJvcHMucmV2ZWFsT3JkZXIpe2lmKDAhPSg2NCZ0LmVmZmVjdFRhZykpcmV0dXJuIHR9ZWxzZSBpZihudWxsIT09dC5jaGlsZCl7dC5jaGlsZC5yZXR1cm49dCx0PXQuY2hpbGQ7Y29udGludWV9aWYodD09PWUpYnJlYWs7Zm9yKDtudWxsPT09dC5zaWJsaW5nOyl7aWYobnVsbD09PXQucmV0dXJufHx0LnJldHVybj09PWUpcmV0dXJuIG51bGw7dD10LnJldHVybn10LnNpYmxpbmcucmV0dXJuPXQucmV0dXJuLHQ9dC5zaWJsaW5nfXJldHVybiBudWxsfWZ1bmN0aW9uIGpvKGUsdCl7cmV0dXJue3Jlc3BvbmRlcjplLHByb3BzOnR9fXZhciBGbz1ZLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsTm89WS5SZWFjdEN1cnJlbnRCYXRjaENvbmZpZyxVbz0wLFZvPW51bGwsR289bnVsbCxabz1udWxsLFdvPSExO2Z1bmN0aW9uIHFvKCl7dGhyb3cgRXJyb3IoYSgzMjEpKX1mdW5jdGlvbiAkbyhlLHQpe2lmKG51bGw9PT10KXJldHVybiExO2Zvcih2YXIgbj0wO248dC5sZW5ndGgmJm48ZS5sZW5ndGg7bisrKWlmKCFCaShlW25dLHRbbl0pKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEhvKGUsdCxuLGkscixvKXtpZihVbz1vLFZvPXQsdC5tZW1vaXplZFN0YXRlPW51bGwsdC51cGRhdGVRdWV1ZT1udWxsLHQuZXhwaXJhdGlvblRpbWU9MCxGby5jdXJyZW50PW51bGw9PT1lfHxudWxsPT09ZS5tZW1vaXplZFN0YXRlP3lhOl9hLGU9bihpLHIpLHQuZXhwaXJhdGlvblRpbWU9PT1Vbyl7bz0wO2Rve2lmKHQuZXhwaXJhdGlvblRpbWU9MCwhKDI1Pm8pKXRocm93IEVycm9yKGEoMzAxKSk7bys9MSxabz1Hbz1udWxsLHQudXBkYXRlUXVldWU9bnVsbCxGby5jdXJyZW50PXZhLGU9bihpLHIpfXdoaWxlKHQuZXhwaXJhdGlvblRpbWU9PT1Vbyl9aWYoRm8uY3VycmVudD1nYSx0PW51bGwhPT1HbyYmbnVsbCE9PUdvLm5leHQsVW89MCxabz1Hbz1Wbz1udWxsLFdvPSExLHQpdGhyb3cgRXJyb3IoYSgzMDApKTtyZXR1cm4gZX1mdW5jdGlvbiBYbygpe3ZhciBlPXttZW1vaXplZFN0YXRlOm51bGwsYmFzZVN0YXRlOm51bGwsYmFzZVF1ZXVlOm51bGwscXVldWU6bnVsbCxuZXh0Om51bGx9O3JldHVybiBudWxsPT09Wm8/Vm8ubWVtb2l6ZWRTdGF0ZT1abz1lOlpvPVpvLm5leHQ9ZSxab31mdW5jdGlvbiBZbygpe2lmKG51bGw9PT1Hbyl7dmFyIGU9Vm8uYWx0ZXJuYXRlO2U9bnVsbCE9PWU/ZS5tZW1vaXplZFN0YXRlOm51bGx9ZWxzZSBlPUdvLm5leHQ7dmFyIHQ9bnVsbD09PVpvP1ZvLm1lbW9pemVkU3RhdGU6Wm8ubmV4dDtpZihudWxsIT09dClabz10LEdvPWU7ZWxzZXtpZihudWxsPT09ZSl0aHJvdyBFcnJvcihhKDMxMCkpO2U9e21lbW9pemVkU3RhdGU6KEdvPWUpLm1lbW9pemVkU3RhdGUsYmFzZVN0YXRlOkdvLmJhc2VTdGF0ZSxiYXNlUXVldWU6R28uYmFzZVF1ZXVlLHF1ZXVlOkdvLnF1ZXVlLG5leHQ6bnVsbH0sbnVsbD09PVpvP1ZvLm1lbW9pemVkU3RhdGU9Wm89ZTpabz1aby5uZXh0PWV9cmV0dXJuIFpvfWZ1bmN0aW9uIEpvKGUsdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90KGUpOnR9ZnVuY3Rpb24gUW8oZSl7dmFyIHQ9WW8oKSxuPXQucXVldWU7aWYobnVsbD09PW4pdGhyb3cgRXJyb3IoYSgzMTEpKTtuLmxhc3RSZW5kZXJlZFJlZHVjZXI9ZTt2YXIgaT1HbyxyPWkuYmFzZVF1ZXVlLG89bi5wZW5kaW5nO2lmKG51bGwhPT1vKXtpZihudWxsIT09cil7dmFyIHM9ci5uZXh0O3IubmV4dD1vLm5leHQsby5uZXh0PXN9aS5iYXNlUXVldWU9cj1vLG4ucGVuZGluZz1udWxsfWlmKG51bGwhPT1yKXtyPXIubmV4dCxpPWkuYmFzZVN0YXRlO3ZhciBsPXM9bz1udWxsLGM9cjtkb3t2YXIgdT1jLmV4cGlyYXRpb25UaW1lO2lmKHU8VW8pe3ZhciBoPXtleHBpcmF0aW9uVGltZTpjLmV4cGlyYXRpb25UaW1lLHN1c3BlbnNlQ29uZmlnOmMuc3VzcGVuc2VDb25maWcsYWN0aW9uOmMuYWN0aW9uLGVhZ2VyUmVkdWNlcjpjLmVhZ2VyUmVkdWNlcixlYWdlclN0YXRlOmMuZWFnZXJTdGF0ZSxuZXh0Om51bGx9O251bGw9PT1sPyhzPWw9aCxvPWkpOmw9bC5uZXh0PWgsdT5Wby5leHBpcmF0aW9uVGltZSYmKFZvLmV4cGlyYXRpb25UaW1lPXUsYWwodSkpfWVsc2UgbnVsbCE9PWwmJihsPWwubmV4dD17ZXhwaXJhdGlvblRpbWU6MTA3Mzc0MTgyMyxzdXNwZW5zZUNvbmZpZzpjLnN1c3BlbnNlQ29uZmlnLGFjdGlvbjpjLmFjdGlvbixlYWdlclJlZHVjZXI6Yy5lYWdlclJlZHVjZXIsZWFnZXJTdGF0ZTpjLmVhZ2VyU3RhdGUsbmV4dDpudWxsfSksb2wodSxjLnN1c3BlbnNlQ29uZmlnKSxpPWMuZWFnZXJSZWR1Y2VyPT09ZT9jLmVhZ2VyU3RhdGU6ZShpLGMuYWN0aW9uKTtjPWMubmV4dH13aGlsZShudWxsIT09YyYmYyE9PXIpO251bGw9PT1sP289aTpsLm5leHQ9cyxCaShpLHQubWVtb2l6ZWRTdGF0ZSl8fChBYT0hMCksdC5tZW1vaXplZFN0YXRlPWksdC5iYXNlU3RhdGU9byx0LmJhc2VRdWV1ZT1sLG4ubGFzdFJlbmRlcmVkU3RhdGU9aX1yZXR1cm5bdC5tZW1vaXplZFN0YXRlLG4uZGlzcGF0Y2hdfWZ1bmN0aW9uIEtvKGUpe3ZhciB0PVlvKCksbj10LnF1ZXVlO2lmKG51bGw9PT1uKXRocm93IEVycm9yKGEoMzExKSk7bi5sYXN0UmVuZGVyZWRSZWR1Y2VyPWU7dmFyIGk9bi5kaXNwYXRjaCxyPW4ucGVuZGluZyxvPXQubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09cil7bi5wZW5kaW5nPW51bGw7dmFyIHM9cj1yLm5leHQ7ZG97bz1lKG8scy5hY3Rpb24pLHM9cy5uZXh0fXdoaWxlKHMhPT1yKTtCaShvLHQubWVtb2l6ZWRTdGF0ZSl8fChBYT0hMCksdC5tZW1vaXplZFN0YXRlPW8sbnVsbD09PXQuYmFzZVF1ZXVlJiYodC5iYXNlU3RhdGU9byksbi5sYXN0UmVuZGVyZWRTdGF0ZT1vfXJldHVybltvLGldfWZ1bmN0aW9uIGVhKGUpe3ZhciB0PVhvKCk7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZSYmKGU9ZSgpKSx0Lm1lbW9pemVkU3RhdGU9dC5iYXNlU3RhdGU9ZSxlPShlPXQucXVldWU9e3BlbmRpbmc6bnVsbCxkaXNwYXRjaDpudWxsLGxhc3RSZW5kZXJlZFJlZHVjZXI6Sm8sbGFzdFJlbmRlcmVkU3RhdGU6ZX0pLmRpc3BhdGNoPW1hLmJpbmQobnVsbCxWbyxlKSxbdC5tZW1vaXplZFN0YXRlLGVdfWZ1bmN0aW9uIHRhKGUsdCxuLGkpe3JldHVybiBlPXt0YWc6ZSxjcmVhdGU6dCxkZXN0cm95Om4sZGVwczppLG5leHQ6bnVsbH0sbnVsbD09PSh0PVZvLnVwZGF0ZVF1ZXVlKT8odD17bGFzdEVmZmVjdDpudWxsfSxWby51cGRhdGVRdWV1ZT10LHQubGFzdEVmZmVjdD1lLm5leHQ9ZSk6bnVsbD09PShuPXQubGFzdEVmZmVjdCk/dC5sYXN0RWZmZWN0PWUubmV4dD1lOihpPW4ubmV4dCxuLm5leHQ9ZSxlLm5leHQ9aSx0Lmxhc3RFZmZlY3Q9ZSksZX1mdW5jdGlvbiBuYSgpe3JldHVybiBZbygpLm1lbW9pemVkU3RhdGV9ZnVuY3Rpb24gaWEoZSx0LG4saSl7dmFyIHI9WG8oKTtWby5lZmZlY3RUYWd8PWUsci5tZW1vaXplZFN0YXRlPXRhKDF8dCxuLHZvaWQgMCx2b2lkIDA9PT1pP251bGw6aSl9ZnVuY3Rpb24gcmEoZSx0LG4saSl7dmFyIHI9WW8oKTtpPXZvaWQgMD09PWk/bnVsbDppO3ZhciBvPXZvaWQgMDtpZihudWxsIT09R28pe3ZhciBhPUdvLm1lbW9pemVkU3RhdGU7aWYobz1hLmRlc3Ryb3ksbnVsbCE9PWkmJiRvKGksYS5kZXBzKSlyZXR1cm4gdm9pZCB0YSh0LG4sbyxpKX1Wby5lZmZlY3RUYWd8PWUsci5tZW1vaXplZFN0YXRlPXRhKDF8dCxuLG8saSl9ZnVuY3Rpb24gb2EoZSx0KXtyZXR1cm4gaWEoNTE2LDQsZSx0KX1mdW5jdGlvbiBhYShlLHQpe3JldHVybiByYSg1MTYsNCxlLHQpfWZ1bmN0aW9uIHNhKGUsdCl7cmV0dXJuIHJhKDQsMixlLHQpfWZ1bmN0aW9uIGxhKGUsdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD8oZT1lKCksdChlKSxmdW5jdGlvbigpe3QobnVsbCl9KTpudWxsIT10PyhlPWUoKSx0LmN1cnJlbnQ9ZSxmdW5jdGlvbigpe3QuY3VycmVudD1udWxsfSk6dm9pZCAwfWZ1bmN0aW9uIGNhKGUsdCxuKXtyZXR1cm4gbj1udWxsIT1uP24uY29uY2F0KFtlXSk6bnVsbCxyYSg0LDIsbGEuYmluZChudWxsLHQsZSksbil9ZnVuY3Rpb24gdWEoKXt9ZnVuY3Rpb24gaGEoZSx0KXtyZXR1cm4gWG8oKS5tZW1vaXplZFN0YXRlPVtlLHZvaWQgMD09PXQ/bnVsbDp0XSxlfWZ1bmN0aW9uIGRhKGUsdCl7dmFyIG49WW8oKTt0PXZvaWQgMD09PXQ/bnVsbDp0O3ZhciBpPW4ubWVtb2l6ZWRTdGF0ZTtyZXR1cm4gbnVsbCE9PWkmJm51bGwhPT10JiYkbyh0LGlbMV0pP2lbMF06KG4ubWVtb2l6ZWRTdGF0ZT1bZSx0XSxlKX1mdW5jdGlvbiBwYShlLHQpe3ZhciBuPVlvKCk7dD12b2lkIDA9PT10P251bGw6dDt2YXIgaT1uLm1lbW9pemVkU3RhdGU7cmV0dXJuIG51bGwhPT1pJiZudWxsIT09dCYmJG8odCxpWzFdKT9pWzBdOihlPWUoKSxuLm1lbW9pemVkU3RhdGU9W2UsdF0sZSl9ZnVuY3Rpb24gZmEoZSx0LG4pe3ZhciBpPU5yKCk7VnIoOTg+aT85ODppLChmdW5jdGlvbigpe2UoITApfSkpLFZyKDk3PGk/OTc6aSwoZnVuY3Rpb24oKXt2YXIgaT1Oby5zdXNwZW5zZTtOby5zdXNwZW5zZT12b2lkIDA9PT10P251bGw6dDt0cnl7ZSghMSksbigpfWZpbmFsbHl7Tm8uc3VzcGVuc2U9aX19KSl9ZnVuY3Rpb24gbWEoZSx0LG4pe3ZhciBpPXFzKCkscj1wby5zdXNwZW5zZTtyPXtleHBpcmF0aW9uVGltZTppPSRzKGksZSxyKSxzdXNwZW5zZUNvbmZpZzpyLGFjdGlvbjpuLGVhZ2VyUmVkdWNlcjpudWxsLGVhZ2VyU3RhdGU6bnVsbCxuZXh0Om51bGx9O3ZhciBvPXQucGVuZGluZztpZihudWxsPT09bz9yLm5leHQ9cjooci5uZXh0PW8ubmV4dCxvLm5leHQ9ciksdC5wZW5kaW5nPXIsbz1lLmFsdGVybmF0ZSxlPT09Vm98fG51bGwhPT1vJiZvPT09Vm8pV289ITAsci5leHBpcmF0aW9uVGltZT1VbyxWby5leHBpcmF0aW9uVGltZT1VbztlbHNle2lmKDA9PT1lLmV4cGlyYXRpb25UaW1lJiYobnVsbD09PW98fDA9PT1vLmV4cGlyYXRpb25UaW1lKSYmbnVsbCE9PShvPXQubGFzdFJlbmRlcmVkUmVkdWNlcikpdHJ5e3ZhciBhPXQubGFzdFJlbmRlcmVkU3RhdGUscz1vKGEsbik7aWYoci5lYWdlclJlZHVjZXI9byxyLmVhZ2VyU3RhdGU9cyxCaShzLGEpKXJldHVybn1jYXRjaChlKXt9SHMoZSxpKX19dmFyIGdhPXtyZWFkQ29udGV4dDppbyx1c2VDYWxsYmFjazpxbyx1c2VDb250ZXh0OnFvLHVzZUVmZmVjdDpxbyx1c2VJbXBlcmF0aXZlSGFuZGxlOnFvLHVzZUxheW91dEVmZmVjdDpxbyx1c2VNZW1vOnFvLHVzZVJlZHVjZXI6cW8sdXNlUmVmOnFvLHVzZVN0YXRlOnFvLHVzZURlYnVnVmFsdWU6cW8sdXNlUmVzcG9uZGVyOnFvLHVzZURlZmVycmVkVmFsdWU6cW8sdXNlVHJhbnNpdGlvbjpxb30seWE9e3JlYWRDb250ZXh0OmlvLHVzZUNhbGxiYWNrOmhhLHVzZUNvbnRleHQ6aW8sdXNlRWZmZWN0Om9hLHVzZUltcGVyYXRpdmVIYW5kbGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuPW51bGwhPW4/bi5jb25jYXQoW2VdKTpudWxsLGlhKDQsMixsYS5iaW5kKG51bGwsdCxlKSxuKX0sdXNlTGF5b3V0RWZmZWN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGlhKDQsMixlLHQpfSx1c2VNZW1vOmZ1bmN0aW9uKGUsdCl7dmFyIG49WG8oKTtyZXR1cm4gdD12b2lkIDA9PT10P251bGw6dCxlPWUoKSxuLm1lbW9pemVkU3RhdGU9W2UsdF0sZX0sdXNlUmVkdWNlcjpmdW5jdGlvbihlLHQsbil7dmFyIGk9WG8oKTtyZXR1cm4gdD12b2lkIDAhPT1uP24odCk6dCxpLm1lbW9pemVkU3RhdGU9aS5iYXNlU3RhdGU9dCxlPShlPWkucXVldWU9e3BlbmRpbmc6bnVsbCxkaXNwYXRjaDpudWxsLGxhc3RSZW5kZXJlZFJlZHVjZXI6ZSxsYXN0UmVuZGVyZWRTdGF0ZTp0fSkuZGlzcGF0Y2g9bWEuYmluZChudWxsLFZvLGUpLFtpLm1lbW9pemVkU3RhdGUsZV19LHVzZVJlZjpmdW5jdGlvbihlKXtyZXR1cm4gZT17Y3VycmVudDplfSxYbygpLm1lbW9pemVkU3RhdGU9ZX0sdXNlU3RhdGU6ZWEsdXNlRGVidWdWYWx1ZTp1YSx1c2VSZXNwb25kZXI6am8sdXNlRGVmZXJyZWRWYWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPWVhKGUpLGk9blswXSxyPW5bMV07cmV0dXJuIG9hKChmdW5jdGlvbigpe3ZhciBuPU5vLnN1c3BlbnNlO05vLnN1c3BlbnNlPXZvaWQgMD09PXQ/bnVsbDp0O3RyeXtyKGUpfWZpbmFsbHl7Tm8uc3VzcGVuc2U9bn19KSxbZSx0XSksaX0sdXNlVHJhbnNpdGlvbjpmdW5jdGlvbihlKXt2YXIgdD1lYSghMSksbj10WzBdO3JldHVybiB0PXRbMV0sW2hhKGZhLmJpbmQobnVsbCx0LGUpLFt0LGVdKSxuXX19LF9hPXtyZWFkQ29udGV4dDppbyx1c2VDYWxsYmFjazpkYSx1c2VDb250ZXh0OmlvLHVzZUVmZmVjdDphYSx1c2VJbXBlcmF0aXZlSGFuZGxlOmNhLHVzZUxheW91dEVmZmVjdDpzYSx1c2VNZW1vOnBhLHVzZVJlZHVjZXI6UW8sdXNlUmVmOm5hLHVzZVN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIFFvKEpvKX0sdXNlRGVidWdWYWx1ZTp1YSx1c2VSZXNwb25kZXI6am8sdXNlRGVmZXJyZWRWYWx1ZTpmdW5jdGlvbihlLHQpe3ZhciBuPVFvKEpvKSxpPW5bMF0scj1uWzFdO3JldHVybiBhYSgoZnVuY3Rpb24oKXt2YXIgbj1Oby5zdXNwZW5zZTtOby5zdXNwZW5zZT12b2lkIDA9PT10P251bGw6dDt0cnl7cihlKX1maW5hbGx5e05vLnN1c3BlbnNlPW59fSksW2UsdF0pLGl9LHVzZVRyYW5zaXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9UW8oSm8pLG49dFswXTtyZXR1cm4gdD10WzFdLFtkYShmYS5iaW5kKG51bGwsdCxlKSxbdCxlXSksbl19fSx2YT17cmVhZENvbnRleHQ6aW8sdXNlQ2FsbGJhY2s6ZGEsdXNlQ29udGV4dDppbyx1c2VFZmZlY3Q6YWEsdXNlSW1wZXJhdGl2ZUhhbmRsZTpjYSx1c2VMYXlvdXRFZmZlY3Q6c2EsdXNlTWVtbzpwYSx1c2VSZWR1Y2VyOktvLHVzZVJlZjpuYSx1c2VTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBLbyhKbyl9LHVzZURlYnVnVmFsdWU6dWEsdXNlUmVzcG9uZGVyOmpvLHVzZURlZmVycmVkVmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj1LbyhKbyksaT1uWzBdLHI9blsxXTtyZXR1cm4gYWEoKGZ1bmN0aW9uKCl7dmFyIG49Tm8uc3VzcGVuc2U7Tm8uc3VzcGVuc2U9dm9pZCAwPT09dD9udWxsOnQ7dHJ5e3IoZSl9ZmluYWxseXtOby5zdXNwZW5zZT1ufX0pLFtlLHRdKSxpfSx1c2VUcmFuc2l0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PUtvKEpvKSxuPXRbMF07cmV0dXJuIHQ9dFsxXSxbZGEoZmEuYmluZChudWxsLHQsZSksW3QsZV0pLG5dfX0seGE9bnVsbCxiYT1udWxsLHdhPSExO2Z1bmN0aW9uIFRhKGUsdCl7dmFyIG49RWwoNSxudWxsLG51bGwsMCk7bi5lbGVtZW50VHlwZT1cIkRFTEVURURcIixuLnR5cGU9XCJERUxFVEVEXCIsbi5zdGF0ZU5vZGU9dCxuLnJldHVybj1lLG4uZWZmZWN0VGFnPTgsbnVsbCE9PWUubGFzdEVmZmVjdD8oZS5sYXN0RWZmZWN0Lm5leHRFZmZlY3Q9bixlLmxhc3RFZmZlY3Q9bik6ZS5maXJzdEVmZmVjdD1lLmxhc3RFZmZlY3Q9bn1mdW5jdGlvbiBFYShlLHQpe3N3aXRjaChlLnRhZyl7Y2FzZSA1OnZhciBuPWUudHlwZTtyZXR1cm4gbnVsbCE9PSh0PTEhPT10Lm5vZGVUeXBlfHxuLnRvTG93ZXJDYXNlKCkhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk/bnVsbDp0KSYmKGUuc3RhdGVOb2RlPXQsITApO2Nhc2UgNjpyZXR1cm4gbnVsbCE9PSh0PVwiXCI9PT1lLnBlbmRpbmdQcm9wc3x8MyE9PXQubm9kZVR5cGU/bnVsbDp0KSYmKGUuc3RhdGVOb2RlPXQsITApO2Nhc2UgMTM6ZGVmYXVsdDpyZXR1cm4hMX19ZnVuY3Rpb24gU2EoZSl7aWYod2Epe3ZhciB0PWJhO2lmKHQpe3ZhciBuPXQ7aWYoIUVhKGUsdCkpe2lmKCEodD1ibihuLm5leHRTaWJsaW5nKSl8fCFFYShlLHQpKXJldHVybiBlLmVmZmVjdFRhZz0tMTAyNSZlLmVmZmVjdFRhZ3wyLHdhPSExLHZvaWQoeGE9ZSk7VGEoeGEsbil9eGE9ZSxiYT1ibih0LmZpcnN0Q2hpbGQpfWVsc2UgZS5lZmZlY3RUYWc9LTEwMjUmZS5lZmZlY3RUYWd8Mix3YT0hMSx4YT1lfX1mdW5jdGlvbiBNYShlKXtmb3IoZT1lLnJldHVybjtudWxsIT09ZSYmNSE9PWUudGFnJiYzIT09ZS50YWcmJjEzIT09ZS50YWc7KWU9ZS5yZXR1cm47eGE9ZX1mdW5jdGlvbiBJYShlKXtpZihlIT09eGEpcmV0dXJuITE7aWYoIXdhKXJldHVybiBNYShlKSx3YT0hMCwhMTt2YXIgdD1lLnR5cGU7aWYoNSE9PWUudGFnfHxcImhlYWRcIiE9PXQmJlwiYm9keVwiIT09dCYmIV9uKHQsZS5tZW1vaXplZFByb3BzKSlmb3IodD1iYTt0OylUYShlLHQpLHQ9Ym4odC5uZXh0U2libGluZyk7aWYoTWEoZSksMTM9PT1lLnRhZyl7aWYoIShlPW51bGwhPT0oZT1lLm1lbW9pemVkU3RhdGUpP2UuZGVoeWRyYXRlZDpudWxsKSl0aHJvdyBFcnJvcihhKDMxNykpO2U6e2ZvcihlPWUubmV4dFNpYmxpbmcsdD0wO2U7KXtpZig4PT09ZS5ub2RlVHlwZSl7dmFyIG49ZS5kYXRhO2lmKFwiLyRcIj09PW4pe2lmKDA9PT10KXtiYT1ibihlLm5leHRTaWJsaW5nKTticmVhayBlfXQtLX1lbHNlXCIkXCIhPT1uJiZcIiQhXCIhPT1uJiZcIiQ/XCIhPT1ufHx0Kyt9ZT1lLm5leHRTaWJsaW5nfWJhPW51bGx9fWVsc2UgYmE9eGE/Ym4oZS5zdGF0ZU5vZGUubmV4dFNpYmxpbmcpOm51bGw7cmV0dXJuITB9ZnVuY3Rpb24gQ2EoKXtiYT14YT1udWxsLHdhPSExfXZhciBrYT1ZLlJlYWN0Q3VycmVudE93bmVyLEFhPSExO2Z1bmN0aW9uIFBhKGUsdCxuLGkpe3QuY2hpbGQ9bnVsbD09PWU/TW8odCxudWxsLG4saSk6U28odCxlLmNoaWxkLG4saSl9ZnVuY3Rpb24gemEoZSx0LG4saSxyKXtuPW4ucmVuZGVyO3ZhciBvPXQucmVmO3JldHVybiBubyh0LHIpLGk9SG8oZSx0LG4saSxvLHIpLG51bGw9PT1lfHxBYT8odC5lZmZlY3RUYWd8PTEsUGEoZSx0LGksciksdC5jaGlsZCk6KHQudXBkYXRlUXVldWU9ZS51cGRhdGVRdWV1ZSx0LmVmZmVjdFRhZyY9LTUxNyxlLmV4cGlyYXRpb25UaW1lPD1yJiYoZS5leHBpcmF0aW9uVGltZT0wKSxIYShlLHQscikpfWZ1bmN0aW9uIERhKGUsdCxuLGkscixvKXtpZihudWxsPT09ZSl7dmFyIGE9bi50eXBlO3JldHVyblwiZnVuY3Rpb25cIiE9dHlwZW9mIGF8fFNsKGEpfHx2b2lkIDAhPT1hLmRlZmF1bHRQcm9wc3x8bnVsbCE9PW4uY29tcGFyZXx8dm9pZCAwIT09bi5kZWZhdWx0UHJvcHM/KChlPUlsKG4udHlwZSxudWxsLGksbnVsbCx0Lm1vZGUsbykpLnJlZj10LnJlZixlLnJldHVybj10LHQuY2hpbGQ9ZSk6KHQudGFnPTE1LHQudHlwZT1hLExhKGUsdCxhLGkscixvKSl9cmV0dXJuIGE9ZS5jaGlsZCxyPG8mJihyPWEubWVtb2l6ZWRQcm9wcywobj1udWxsIT09KG49bi5jb21wYXJlKT9uOkZpKShyLGkpJiZlLnJlZj09PXQucmVmKT9IYShlLHQsbyk6KHQuZWZmZWN0VGFnfD0xLChlPU1sKGEsaSkpLnJlZj10LnJlZixlLnJldHVybj10LHQuY2hpbGQ9ZSl9ZnVuY3Rpb24gTGEoZSx0LG4saSxyLG8pe3JldHVybiBudWxsIT09ZSYmRmkoZS5tZW1vaXplZFByb3BzLGkpJiZlLnJlZj09PXQucmVmJiYoQWE9ITEscjxvKT8odC5leHBpcmF0aW9uVGltZT1lLmV4cGlyYXRpb25UaW1lLEhhKGUsdCxvKSk6UmEoZSx0LG4saSxvKX1mdW5jdGlvbiBPYShlLHQpe3ZhciBuPXQucmVmOyhudWxsPT09ZSYmbnVsbCE9PW58fG51bGwhPT1lJiZlLnJlZiE9PW4pJiYodC5lZmZlY3RUYWd8PTEyOCl9ZnVuY3Rpb24gUmEoZSx0LG4saSxyKXt2YXIgbz1tcihuKT9wcjpoci5jdXJyZW50O3JldHVybiBvPWZyKHQsbyksbm8odCxyKSxuPUhvKGUsdCxuLGksbyxyKSxudWxsPT09ZXx8QWE/KHQuZWZmZWN0VGFnfD0xLFBhKGUsdCxuLHIpLHQuY2hpbGQpOih0LnVwZGF0ZVF1ZXVlPWUudXBkYXRlUXVldWUsdC5lZmZlY3RUYWcmPS01MTcsZS5leHBpcmF0aW9uVGltZTw9ciYmKGUuZXhwaXJhdGlvblRpbWU9MCksSGEoZSx0LHIpKX1mdW5jdGlvbiBCYShlLHQsbixpLHIpe2lmKG1yKG4pKXt2YXIgbz0hMDt2cih0KX1lbHNlIG89ITE7aWYobm8odCxyKSxudWxsPT09dC5zdGF0ZU5vZGUpbnVsbCE9PWUmJihlLmFsdGVybmF0ZT1udWxsLHQuYWx0ZXJuYXRlPW51bGwsdC5lZmZlY3RUYWd8PTIpLF9vKHQsbixpKSx4byh0LG4saSxyKSxpPSEwO2Vsc2UgaWYobnVsbD09PWUpe3ZhciBhPXQuc3RhdGVOb2RlLHM9dC5tZW1vaXplZFByb3BzO2EucHJvcHM9czt2YXIgbD1hLmNvbnRleHQsYz1uLmNvbnRleHRUeXBlO1wib2JqZWN0XCI9PXR5cGVvZiBjJiZudWxsIT09Yz9jPWlvKGMpOmM9ZnIodCxjPW1yKG4pP3ByOmhyLmN1cnJlbnQpO3ZhciB1PW4uZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLGg9XCJmdW5jdGlvblwiPT10eXBlb2YgdXx8XCJmdW5jdGlvblwiPT10eXBlb2YgYS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZTtofHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHN8fChzIT09aXx8bCE9PWMpJiZ2byh0LGEsaSxjKSxybz0hMTt2YXIgZD10Lm1lbW9pemVkU3RhdGU7YS5zdGF0ZT1kLHVvKHQsaSxhLHIpLGw9dC5tZW1vaXplZFN0YXRlLHMhPT1pfHxkIT09bHx8ZHIuY3VycmVudHx8cm8/KFwiZnVuY3Rpb25cIj09dHlwZW9mIHUmJihtbyh0LG4sdSxpKSxsPXQubWVtb2l6ZWRTdGF0ZSksKHM9cm98fHlvKHQsbixzLGksZCxsLGMpKT8oaHx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50JiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmNvbXBvbmVudFdpbGxNb3VudHx8KFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuY29tcG9uZW50V2lsbE1vdW50JiZhLmNvbXBvbmVudFdpbGxNb3VudCgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCYmYS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuY29tcG9uZW50RGlkTW91bnQmJih0LmVmZmVjdFRhZ3w9NCkpOihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmNvbXBvbmVudERpZE1vdW50JiYodC5lZmZlY3RUYWd8PTQpLHQubWVtb2l6ZWRQcm9wcz1pLHQubWVtb2l6ZWRTdGF0ZT1sKSxhLnByb3BzPWksYS5zdGF0ZT1sLGEuY29udGV4dD1jLGk9cyk6KFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuY29tcG9uZW50RGlkTW91bnQmJih0LmVmZmVjdFRhZ3w9NCksaT0hMSl9ZWxzZSBhPXQuc3RhdGVOb2RlLGFvKGUsdCkscz10Lm1lbW9pemVkUHJvcHMsYS5wcm9wcz10LnR5cGU9PT10LmVsZW1lbnRUeXBlP3M6SHIodC50eXBlLHMpLGw9YS5jb250ZXh0LFwib2JqZWN0XCI9PXR5cGVvZihjPW4uY29udGV4dFR5cGUpJiZudWxsIT09Yz9jPWlvKGMpOmM9ZnIodCxjPW1yKG4pP3ByOmhyLmN1cnJlbnQpLChoPVwiZnVuY3Rpb25cIj09dHlwZW9mKHU9bi5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKXx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmXCJmdW5jdGlvblwiIT10eXBlb2YgYS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzfHwocyE9PWl8fGwhPT1jKSYmdm8odCxhLGksYykscm89ITEsbD10Lm1lbW9pemVkU3RhdGUsYS5zdGF0ZT1sLHVvKHQsaSxhLHIpLGQ9dC5tZW1vaXplZFN0YXRlLHMhPT1pfHxsIT09ZHx8ZHIuY3VycmVudHx8cm8/KFwiZnVuY3Rpb25cIj09dHlwZW9mIHUmJihtbyh0LG4sdSxpKSxkPXQubWVtb2l6ZWRTdGF0ZSksKHU9cm98fHlvKHQsbixzLGksbCxkLGMpKT8oaHx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSYmXCJmdW5jdGlvblwiIT10eXBlb2YgYS5jb21wb25lbnRXaWxsVXBkYXRlfHwoXCJmdW5jdGlvblwiPT10eXBlb2YgYS5jb21wb25lbnRXaWxsVXBkYXRlJiZhLmNvbXBvbmVudFdpbGxVcGRhdGUoaSxkLGMpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGEuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUmJmEuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUoaSxkLGMpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmNvbXBvbmVudERpZFVwZGF0ZSYmKHQuZWZmZWN0VGFnfD00KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlJiYodC5lZmZlY3RUYWd8PTI1NikpOihcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmNvbXBvbmVudERpZFVwZGF0ZXx8cz09PWUubWVtb2l6ZWRQcm9wcyYmbD09PWUubWVtb2l6ZWRTdGF0ZXx8KHQuZWZmZWN0VGFnfD00KSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlfHxzPT09ZS5tZW1vaXplZFByb3BzJiZsPT09ZS5tZW1vaXplZFN0YXRlfHwodC5lZmZlY3RUYWd8PTI1NiksdC5tZW1vaXplZFByb3BzPWksdC5tZW1vaXplZFN0YXRlPWQpLGEucHJvcHM9aSxhLnN0YXRlPWQsYS5jb250ZXh0PWMsaT11KTooXCJmdW5jdGlvblwiIT10eXBlb2YgYS5jb21wb25lbnREaWRVcGRhdGV8fHM9PT1lLm1lbW9pemVkUHJvcHMmJmw9PT1lLm1lbW9pemVkU3RhdGV8fCh0LmVmZmVjdFRhZ3w9NCksXCJmdW5jdGlvblwiIT10eXBlb2YgYS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8cz09PWUubWVtb2l6ZWRQcm9wcyYmbD09PWUubWVtb2l6ZWRTdGF0ZXx8KHQuZWZmZWN0VGFnfD0yNTYpLGk9ITEpO3JldHVybiBqYShlLHQsbixpLG8scil9ZnVuY3Rpb24gamEoZSx0LG4saSxyLG8pe09hKGUsdCk7dmFyIGE9MCE9KDY0JnQuZWZmZWN0VGFnKTtpZighaSYmIWEpcmV0dXJuIHImJnhyKHQsbiwhMSksSGEoZSx0LG8pO2k9dC5zdGF0ZU5vZGUsa2EuY3VycmVudD10O3ZhciBzPWEmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG4uZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yP251bGw6aS5yZW5kZXIoKTtyZXR1cm4gdC5lZmZlY3RUYWd8PTEsbnVsbCE9PWUmJmE/KHQuY2hpbGQ9U28odCxlLmNoaWxkLG51bGwsbyksdC5jaGlsZD1Tbyh0LG51bGwscyxvKSk6UGEoZSx0LHMsbyksdC5tZW1vaXplZFN0YXRlPWkuc3RhdGUsciYmeHIodCxuLCEwKSx0LmNoaWxkfWZ1bmN0aW9uIEZhKGUpe3ZhciB0PWUuc3RhdGVOb2RlO3QucGVuZGluZ0NvbnRleHQ/eXIoMCx0LnBlbmRpbmdDb250ZXh0LHQucGVuZGluZ0NvbnRleHQhPT10LmNvbnRleHQpOnQuY29udGV4dCYmeXIoMCx0LmNvbnRleHQsITEpLHpvKGUsdC5jb250YWluZXJJbmZvKX12YXIgTmEsVWEsVmEsR2E9e2RlaHlkcmF0ZWQ6bnVsbCxyZXRyeVRpbWU6MH07ZnVuY3Rpb24gWmEoZSx0LG4pe3ZhciBpLHI9dC5tb2RlLG89dC5wZW5kaW5nUHJvcHMsYT1Sby5jdXJyZW50LHM9ITE7aWYoKGk9MCE9KDY0JnQuZWZmZWN0VGFnKSl8fChpPTAhPSgyJmEpJiYobnVsbD09PWV8fG51bGwhPT1lLm1lbW9pemVkU3RhdGUpKSxpPyhzPSEwLHQuZWZmZWN0VGFnJj0tNjUpOm51bGwhPT1lJiZudWxsPT09ZS5tZW1vaXplZFN0YXRlfHx2b2lkIDA9PT1vLmZhbGxiYWNrfHwhMD09PW8udW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2t8fChhfD0xKSxjcihSbywxJmEpLG51bGw9PT1lKXtpZih2b2lkIDAhPT1vLmZhbGxiYWNrJiZTYSh0KSxzKXtpZihzPW8uZmFsbGJhY2ssKG89Q2wobnVsbCxyLDAsbnVsbCkpLnJldHVybj10LDA9PSgyJnQubW9kZSkpZm9yKGU9bnVsbCE9PXQubWVtb2l6ZWRTdGF0ZT90LmNoaWxkLmNoaWxkOnQuY2hpbGQsby5jaGlsZD1lO251bGwhPT1lOyllLnJldHVybj1vLGU9ZS5zaWJsaW5nO3JldHVybihuPUNsKHMscixuLG51bGwpKS5yZXR1cm49dCxvLnNpYmxpbmc9bix0Lm1lbW9pemVkU3RhdGU9R2EsdC5jaGlsZD1vLG59cmV0dXJuIHI9by5jaGlsZHJlbix0Lm1lbW9pemVkU3RhdGU9bnVsbCx0LmNoaWxkPU1vKHQsbnVsbCxyLG4pfWlmKG51bGwhPT1lLm1lbW9pemVkU3RhdGUpe2lmKHI9KGU9ZS5jaGlsZCkuc2libGluZyxzKXtpZihvPW8uZmFsbGJhY2ssKG49TWwoZSxlLnBlbmRpbmdQcm9wcykpLnJldHVybj10LDA9PSgyJnQubW9kZSkmJihzPW51bGwhPT10Lm1lbW9pemVkU3RhdGU/dC5jaGlsZC5jaGlsZDp0LmNoaWxkKSE9PWUuY2hpbGQpZm9yKG4uY2hpbGQ9cztudWxsIT09czspcy5yZXR1cm49bixzPXMuc2libGluZztyZXR1cm4ocj1NbChyLG8pKS5yZXR1cm49dCxuLnNpYmxpbmc9cixuLmNoaWxkRXhwaXJhdGlvblRpbWU9MCx0Lm1lbW9pemVkU3RhdGU9R2EsdC5jaGlsZD1uLHJ9cmV0dXJuIG49U28odCxlLmNoaWxkLG8uY2hpbGRyZW4sbiksdC5tZW1vaXplZFN0YXRlPW51bGwsdC5jaGlsZD1ufWlmKGU9ZS5jaGlsZCxzKXtpZihzPW8uZmFsbGJhY2ssKG89Q2wobnVsbCxyLDAsbnVsbCkpLnJldHVybj10LG8uY2hpbGQ9ZSxudWxsIT09ZSYmKGUucmV0dXJuPW8pLDA9PSgyJnQubW9kZSkpZm9yKGU9bnVsbCE9PXQubWVtb2l6ZWRTdGF0ZT90LmNoaWxkLmNoaWxkOnQuY2hpbGQsby5jaGlsZD1lO251bGwhPT1lOyllLnJldHVybj1vLGU9ZS5zaWJsaW5nO3JldHVybihuPUNsKHMscixuLG51bGwpKS5yZXR1cm49dCxvLnNpYmxpbmc9bixuLmVmZmVjdFRhZ3w9MixvLmNoaWxkRXhwaXJhdGlvblRpbWU9MCx0Lm1lbW9pemVkU3RhdGU9R2EsdC5jaGlsZD1vLG59cmV0dXJuIHQubWVtb2l6ZWRTdGF0ZT1udWxsLHQuY2hpbGQ9U28odCxlLG8uY2hpbGRyZW4sbil9ZnVuY3Rpb24gV2EoZSx0KXtlLmV4cGlyYXRpb25UaW1lPHQmJihlLmV4cGlyYXRpb25UaW1lPXQpO3ZhciBuPWUuYWx0ZXJuYXRlO251bGwhPT1uJiZuLmV4cGlyYXRpb25UaW1lPHQmJihuLmV4cGlyYXRpb25UaW1lPXQpLHRvKGUucmV0dXJuLHQpfWZ1bmN0aW9uIHFhKGUsdCxuLGkscixvKXt2YXIgYT1lLm1lbW9pemVkU3RhdGU7bnVsbD09PWE/ZS5tZW1vaXplZFN0YXRlPXtpc0JhY2t3YXJkczp0LHJlbmRlcmluZzpudWxsLHJlbmRlcmluZ1N0YXJ0VGltZTowLGxhc3Q6aSx0YWlsOm4sdGFpbEV4cGlyYXRpb246MCx0YWlsTW9kZTpyLGxhc3RFZmZlY3Q6b306KGEuaXNCYWNrd2FyZHM9dCxhLnJlbmRlcmluZz1udWxsLGEucmVuZGVyaW5nU3RhcnRUaW1lPTAsYS5sYXN0PWksYS50YWlsPW4sYS50YWlsRXhwaXJhdGlvbj0wLGEudGFpbE1vZGU9cixhLmxhc3RFZmZlY3Q9byl9ZnVuY3Rpb24gJGEoZSx0LG4pe3ZhciBpPXQucGVuZGluZ1Byb3BzLHI9aS5yZXZlYWxPcmRlcixvPWkudGFpbDtpZihQYShlLHQsaS5jaGlsZHJlbixuKSwwIT0oMiYoaT1Sby5jdXJyZW50KSkpaT0xJml8Mix0LmVmZmVjdFRhZ3w9NjQ7ZWxzZXtpZihudWxsIT09ZSYmMCE9KDY0JmUuZWZmZWN0VGFnKSllOmZvcihlPXQuY2hpbGQ7bnVsbCE9PWU7KXtpZigxMz09PWUudGFnKW51bGwhPT1lLm1lbW9pemVkU3RhdGUmJldhKGUsbik7ZWxzZSBpZigxOT09PWUudGFnKVdhKGUsbik7ZWxzZSBpZihudWxsIT09ZS5jaGlsZCl7ZS5jaGlsZC5yZXR1cm49ZSxlPWUuY2hpbGQ7Y29udGludWV9aWYoZT09PXQpYnJlYWsgZTtmb3IoO251bGw9PT1lLnNpYmxpbmc7KXtpZihudWxsPT09ZS5yZXR1cm58fGUucmV0dXJuPT09dClicmVhayBlO2U9ZS5yZXR1cm59ZS5zaWJsaW5nLnJldHVybj1lLnJldHVybixlPWUuc2libGluZ31pJj0xfWlmKGNyKFJvLGkpLDA9PSgyJnQubW9kZSkpdC5tZW1vaXplZFN0YXRlPW51bGw7ZWxzZSBzd2l0Y2gocil7Y2FzZVwiZm9yd2FyZHNcIjpmb3Iobj10LmNoaWxkLHI9bnVsbDtudWxsIT09bjspbnVsbCE9PShlPW4uYWx0ZXJuYXRlKSYmbnVsbD09PUJvKGUpJiYocj1uKSxuPW4uc2libGluZztudWxsPT09KG49cik/KHI9dC5jaGlsZCx0LmNoaWxkPW51bGwpOihyPW4uc2libGluZyxuLnNpYmxpbmc9bnVsbCkscWEodCwhMSxyLG4sbyx0Lmxhc3RFZmZlY3QpO2JyZWFrO2Nhc2VcImJhY2t3YXJkc1wiOmZvcihuPW51bGwscj10LmNoaWxkLHQuY2hpbGQ9bnVsbDtudWxsIT09cjspe2lmKG51bGwhPT0oZT1yLmFsdGVybmF0ZSkmJm51bGw9PT1CbyhlKSl7dC5jaGlsZD1yO2JyZWFrfWU9ci5zaWJsaW5nLHIuc2libGluZz1uLG49cixyPWV9cWEodCwhMCxuLG51bGwsbyx0Lmxhc3RFZmZlY3QpO2JyZWFrO2Nhc2VcInRvZ2V0aGVyXCI6cWEodCwhMSxudWxsLG51bGwsdm9pZCAwLHQubGFzdEVmZmVjdCk7YnJlYWs7ZGVmYXVsdDp0Lm1lbW9pemVkU3RhdGU9bnVsbH1yZXR1cm4gdC5jaGlsZH1mdW5jdGlvbiBIYShlLHQsbil7bnVsbCE9PWUmJih0LmRlcGVuZGVuY2llcz1lLmRlcGVuZGVuY2llcyk7dmFyIGk9dC5leHBpcmF0aW9uVGltZTtpZigwIT09aSYmYWwoaSksdC5jaGlsZEV4cGlyYXRpb25UaW1lPG4pcmV0dXJuIG51bGw7aWYobnVsbCE9PWUmJnQuY2hpbGQhPT1lLmNoaWxkKXRocm93IEVycm9yKGEoMTUzKSk7aWYobnVsbCE9PXQuY2hpbGQpe2ZvcihuPU1sKGU9dC5jaGlsZCxlLnBlbmRpbmdQcm9wcyksdC5jaGlsZD1uLG4ucmV0dXJuPXQ7bnVsbCE9PWUuc2libGluZzspZT1lLnNpYmxpbmcsKG49bi5zaWJsaW5nPU1sKGUsZS5wZW5kaW5nUHJvcHMpKS5yZXR1cm49dDtuLnNpYmxpbmc9bnVsbH1yZXR1cm4gdC5jaGlsZH1mdW5jdGlvbiBYYShlLHQpe3N3aXRjaChlLnRhaWxNb2RlKXtjYXNlXCJoaWRkZW5cIjp0PWUudGFpbDtmb3IodmFyIG49bnVsbDtudWxsIT09dDspbnVsbCE9PXQuYWx0ZXJuYXRlJiYobj10KSx0PXQuc2libGluZztudWxsPT09bj9lLnRhaWw9bnVsbDpuLnNpYmxpbmc9bnVsbDticmVhaztjYXNlXCJjb2xsYXBzZWRcIjpuPWUudGFpbDtmb3IodmFyIGk9bnVsbDtudWxsIT09bjspbnVsbCE9PW4uYWx0ZXJuYXRlJiYoaT1uKSxuPW4uc2libGluZztudWxsPT09aT90fHxudWxsPT09ZS50YWlsP2UudGFpbD1udWxsOmUudGFpbC5zaWJsaW5nPW51bGw6aS5zaWJsaW5nPW51bGx9fWZ1bmN0aW9uIFlhKGUsdCxuKXt2YXIgaT10LnBlbmRpbmdQcm9wcztzd2l0Y2godC50YWcpe2Nhc2UgMjpjYXNlIDE2OmNhc2UgMTU6Y2FzZSAwOmNhc2UgMTE6Y2FzZSA3OmNhc2UgODpjYXNlIDEyOmNhc2UgOTpjYXNlIDE0OnJldHVybiBudWxsO2Nhc2UgMTpyZXR1cm4gbXIodC50eXBlKSYmZ3IoKSxudWxsO2Nhc2UgMzpyZXR1cm4gRG8oKSxscihkciksbHIoaHIpLChuPXQuc3RhdGVOb2RlKS5wZW5kaW5nQ29udGV4dCYmKG4uY29udGV4dD1uLnBlbmRpbmdDb250ZXh0LG4ucGVuZGluZ0NvbnRleHQ9bnVsbCksbnVsbCE9PWUmJm51bGwhPT1lLmNoaWxkfHwhSWEodCl8fCh0LmVmZmVjdFRhZ3w9NCksbnVsbDtjYXNlIDU6T28odCksbj1QbyhBby5jdXJyZW50KTt2YXIgbz10LnR5cGU7aWYobnVsbCE9PWUmJm51bGwhPXQuc3RhdGVOb2RlKVVhKGUsdCxvLGksbiksZS5yZWYhPT10LnJlZiYmKHQuZWZmZWN0VGFnfD0xMjgpO2Vsc2V7aWYoIWkpe2lmKG51bGw9PT10LnN0YXRlTm9kZSl0aHJvdyBFcnJvcihhKDE2NikpO3JldHVybiBudWxsfWlmKGU9UG8oQ28uY3VycmVudCksSWEodCkpe2k9dC5zdGF0ZU5vZGUsbz10LnR5cGU7dmFyIHM9dC5tZW1vaXplZFByb3BzO3N3aXRjaChpW0VuXT10LGlbU25dPXMsbyl7Y2FzZVwiaWZyYW1lXCI6Y2FzZVwib2JqZWN0XCI6Y2FzZVwiZW1iZWRcIjokdChcImxvYWRcIixpKTticmVhaztjYXNlXCJ2aWRlb1wiOmNhc2VcImF1ZGlvXCI6Zm9yKGU9MDtlPFllLmxlbmd0aDtlKyspJHQoWWVbZV0saSk7YnJlYWs7Y2FzZVwic291cmNlXCI6JHQoXCJlcnJvclwiLGkpO2JyZWFrO2Nhc2VcImltZ1wiOmNhc2VcImltYWdlXCI6Y2FzZVwibGlua1wiOiR0KFwiZXJyb3JcIixpKSwkdChcImxvYWRcIixpKTticmVhaztjYXNlXCJmb3JtXCI6JHQoXCJyZXNldFwiLGkpLCR0KFwic3VibWl0XCIsaSk7YnJlYWs7Y2FzZVwiZGV0YWlsc1wiOiR0KFwidG9nZ2xlXCIsaSk7YnJlYWs7Y2FzZVwiaW5wdXRcIjpUZShpLHMpLCR0KFwiaW52YWxpZFwiLGkpLGxuKG4sXCJvbkNoYW5nZVwiKTticmVhaztjYXNlXCJzZWxlY3RcIjppLl93cmFwcGVyU3RhdGU9e3dhc011bHRpcGxlOiEhcy5tdWx0aXBsZX0sJHQoXCJpbnZhbGlkXCIsaSksbG4obixcIm9uQ2hhbmdlXCIpO2JyZWFrO2Nhc2VcInRleHRhcmVhXCI6UGUoaSxzKSwkdChcImludmFsaWRcIixpKSxsbihuLFwib25DaGFuZ2VcIil9Zm9yKHZhciBsIGluIG9uKG8scyksZT1udWxsLHMpaWYocy5oYXNPd25Qcm9wZXJ0eShsKSl7dmFyIGM9c1tsXTtcImNoaWxkcmVuXCI9PT1sP1wic3RyaW5nXCI9PXR5cGVvZiBjP2kudGV4dENvbnRlbnQhPT1jJiYoZT1bXCJjaGlsZHJlblwiLGNdKTpcIm51bWJlclwiPT10eXBlb2YgYyYmaS50ZXh0Q29udGVudCE9PVwiXCIrYyYmKGU9W1wiY2hpbGRyZW5cIixcIlwiK2NdKTpFLmhhc093blByb3BlcnR5KGwpJiZudWxsIT1jJiZsbihuLGwpfXN3aXRjaChvKXtjYXNlXCJpbnB1dFwiOnhlKGkpLE1lKGkscywhMCk7YnJlYWs7Y2FzZVwidGV4dGFyZWFcIjp4ZShpKSxEZShpKTticmVhaztjYXNlXCJzZWxlY3RcIjpjYXNlXCJvcHRpb25cIjpicmVhaztkZWZhdWx0OlwiZnVuY3Rpb25cIj09dHlwZW9mIHMub25DbGljayYmKGkub25jbGljaz1jbil9bj1lLHQudXBkYXRlUXVldWU9bixudWxsIT09biYmKHQuZWZmZWN0VGFnfD00KX1lbHNle3N3aXRjaChsPTk9PT1uLm5vZGVUeXBlP246bi5vd25lckRvY3VtZW50LGU9PT1zbiYmKGU9UmUobykpLGU9PT1zbj9cInNjcmlwdFwiPT09bz8oKGU9bC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5pbm5lckhUTUw9XCI8c2NyaXB0PjxcXC9zY3JpcHQ+XCIsZT1lLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCkpOlwic3RyaW5nXCI9PXR5cGVvZiBpLmlzP2U9bC5jcmVhdGVFbGVtZW50KG8se2lzOmkuaXN9KTooZT1sLmNyZWF0ZUVsZW1lbnQobyksXCJzZWxlY3RcIj09PW8mJihsPWUsaS5tdWx0aXBsZT9sLm11bHRpcGxlPSEwOmkuc2l6ZSYmKGwuc2l6ZT1pLnNpemUpKSk6ZT1sLmNyZWF0ZUVsZW1lbnROUyhlLG8pLGVbRW5dPXQsZVtTbl09aSxOYShlLHQpLHQuc3RhdGVOb2RlPWUsbD1hbihvLGkpLG8pe2Nhc2VcImlmcmFtZVwiOmNhc2VcIm9iamVjdFwiOmNhc2VcImVtYmVkXCI6JHQoXCJsb2FkXCIsZSksYz1pO2JyZWFrO2Nhc2VcInZpZGVvXCI6Y2FzZVwiYXVkaW9cIjpmb3IoYz0wO2M8WWUubGVuZ3RoO2MrKykkdChZZVtjXSxlKTtjPWk7YnJlYWs7Y2FzZVwic291cmNlXCI6JHQoXCJlcnJvclwiLGUpLGM9aTticmVhaztjYXNlXCJpbWdcIjpjYXNlXCJpbWFnZVwiOmNhc2VcImxpbmtcIjokdChcImVycm9yXCIsZSksJHQoXCJsb2FkXCIsZSksYz1pO2JyZWFrO2Nhc2VcImZvcm1cIjokdChcInJlc2V0XCIsZSksJHQoXCJzdWJtaXRcIixlKSxjPWk7YnJlYWs7Y2FzZVwiZGV0YWlsc1wiOiR0KFwidG9nZ2xlXCIsZSksYz1pO2JyZWFrO2Nhc2VcImlucHV0XCI6VGUoZSxpKSxjPXdlKGUsaSksJHQoXCJpbnZhbGlkXCIsZSksbG4obixcIm9uQ2hhbmdlXCIpO2JyZWFrO2Nhc2VcIm9wdGlvblwiOmM9Q2UoZSxpKTticmVhaztjYXNlXCJzZWxlY3RcIjplLl93cmFwcGVyU3RhdGU9e3dhc011bHRpcGxlOiEhaS5tdWx0aXBsZX0sYz1yKHt9LGkse3ZhbHVlOnZvaWQgMH0pLCR0KFwiaW52YWxpZFwiLGUpLGxuKG4sXCJvbkNoYW5nZVwiKTticmVhaztjYXNlXCJ0ZXh0YXJlYVwiOlBlKGUsaSksYz1BZShlLGkpLCR0KFwiaW52YWxpZFwiLGUpLGxuKG4sXCJvbkNoYW5nZVwiKTticmVhaztkZWZhdWx0OmM9aX1vbihvLGMpO3ZhciB1PWM7Zm9yKHMgaW4gdSlpZih1Lmhhc093blByb3BlcnR5KHMpKXt2YXIgaD11W3NdO1wic3R5bGVcIj09PXM/bm4oZSxoKTpcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1zP251bGwhPShoPWg/aC5fX2h0bWw6dm9pZCAwKSYmRmUoZSxoKTpcImNoaWxkcmVuXCI9PT1zP1wic3RyaW5nXCI9PXR5cGVvZiBoPyhcInRleHRhcmVhXCIhPT1vfHxcIlwiIT09aCkmJk5lKGUsaCk6XCJudW1iZXJcIj09dHlwZW9mIGgmJk5lKGUsXCJcIitoKTpcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09cyYmXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIiE9PXMmJlwiYXV0b0ZvY3VzXCIhPT1zJiYoRS5oYXNPd25Qcm9wZXJ0eShzKT9udWxsIT1oJiZsbihuLHMpOm51bGwhPWgmJkooZSxzLGgsbCkpfXN3aXRjaChvKXtjYXNlXCJpbnB1dFwiOnhlKGUpLE1lKGUsaSwhMSk7YnJlYWs7Y2FzZVwidGV4dGFyZWFcIjp4ZShlKSxEZShlKTticmVhaztjYXNlXCJvcHRpb25cIjpudWxsIT1pLnZhbHVlJiZlLnNldEF0dHJpYnV0ZShcInZhbHVlXCIsXCJcIitfZShpLnZhbHVlKSk7YnJlYWs7Y2FzZVwic2VsZWN0XCI6ZS5tdWx0aXBsZT0hIWkubXVsdGlwbGUsbnVsbCE9KG49aS52YWx1ZSk/a2UoZSwhIWkubXVsdGlwbGUsbiwhMSk6bnVsbCE9aS5kZWZhdWx0VmFsdWUmJmtlKGUsISFpLm11bHRpcGxlLGkuZGVmYXVsdFZhbHVlLCEwKTticmVhaztkZWZhdWx0OlwiZnVuY3Rpb25cIj09dHlwZW9mIGMub25DbGljayYmKGUub25jbGljaz1jbil9eW4obyxpKSYmKHQuZWZmZWN0VGFnfD00KX1udWxsIT09dC5yZWYmJih0LmVmZmVjdFRhZ3w9MTI4KX1yZXR1cm4gbnVsbDtjYXNlIDY6aWYoZSYmbnVsbCE9dC5zdGF0ZU5vZGUpVmEoMCx0LGUubWVtb2l6ZWRQcm9wcyxpKTtlbHNle2lmKFwic3RyaW5nXCIhPXR5cGVvZiBpJiZudWxsPT09dC5zdGF0ZU5vZGUpdGhyb3cgRXJyb3IoYSgxNjYpKTtuPVBvKEFvLmN1cnJlbnQpLFBvKENvLmN1cnJlbnQpLElhKHQpPyhuPXQuc3RhdGVOb2RlLGk9dC5tZW1vaXplZFByb3BzLG5bRW5dPXQsbi5ub2RlVmFsdWUhPT1pJiYodC5lZmZlY3RUYWd8PTQpKTooKG49KDk9PT1uLm5vZGVUeXBlP246bi5vd25lckRvY3VtZW50KS5jcmVhdGVUZXh0Tm9kZShpKSlbRW5dPXQsdC5zdGF0ZU5vZGU9bil9cmV0dXJuIG51bGw7Y2FzZSAxMzpyZXR1cm4gbHIoUm8pLGk9dC5tZW1vaXplZFN0YXRlLDAhPSg2NCZ0LmVmZmVjdFRhZyk/KHQuZXhwaXJhdGlvblRpbWU9bix0KToobj1udWxsIT09aSxpPSExLG51bGw9PT1lP3ZvaWQgMCE9PXQubWVtb2l6ZWRQcm9wcy5mYWxsYmFjayYmSWEodCk6KGk9bnVsbCE9PShvPWUubWVtb2l6ZWRTdGF0ZSksbnx8bnVsbD09PW98fG51bGwhPT0obz1lLmNoaWxkLnNpYmxpbmcpJiYobnVsbCE9PShzPXQuZmlyc3RFZmZlY3QpPyh0LmZpcnN0RWZmZWN0PW8sby5uZXh0RWZmZWN0PXMpOih0LmZpcnN0RWZmZWN0PXQubGFzdEVmZmVjdD1vLG8ubmV4dEVmZmVjdD1udWxsKSxvLmVmZmVjdFRhZz04KSksbiYmIWkmJjAhPSgyJnQubW9kZSkmJihudWxsPT09ZSYmITAhPT10Lm1lbW9pemVkUHJvcHMudW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2t8fDAhPSgxJlJvLmN1cnJlbnQpP0lzPT09eHMmJihJcz1icyk6KElzIT09eHMmJklzIT09YnN8fChJcz13cyksMCE9PXpzJiZudWxsIT09RXMmJihEbChFcyxNcyksTGwoRXMsenMpKSkpLChufHxpKSYmKHQuZWZmZWN0VGFnfD00KSxudWxsKTtjYXNlIDQ6cmV0dXJuIERvKCksbnVsbDtjYXNlIDEwOnJldHVybiBlbyh0KSxudWxsO2Nhc2UgMTc6cmV0dXJuIG1yKHQudHlwZSkmJmdyKCksbnVsbDtjYXNlIDE5OmlmKGxyKFJvKSxudWxsPT09KGk9dC5tZW1vaXplZFN0YXRlKSlyZXR1cm4gbnVsbDtpZihvPTAhPSg2NCZ0LmVmZmVjdFRhZyksbnVsbD09PShzPWkucmVuZGVyaW5nKSl7aWYobylYYShpLCExKTtlbHNlIGlmKElzIT09eHN8fG51bGwhPT1lJiYwIT0oNjQmZS5lZmZlY3RUYWcpKWZvcihzPXQuY2hpbGQ7bnVsbCE9PXM7KXtpZihudWxsIT09KGU9Qm8ocykpKXtmb3IodC5lZmZlY3RUYWd8PTY0LFhhKGksITEpLG51bGwhPT0obz1lLnVwZGF0ZVF1ZXVlKSYmKHQudXBkYXRlUXVldWU9byx0LmVmZmVjdFRhZ3w9NCksbnVsbD09PWkubGFzdEVmZmVjdCYmKHQuZmlyc3RFZmZlY3Q9bnVsbCksdC5sYXN0RWZmZWN0PWkubGFzdEVmZmVjdCxpPXQuY2hpbGQ7bnVsbCE9PWk7KXM9biwobz1pKS5lZmZlY3RUYWcmPTIsby5uZXh0RWZmZWN0PW51bGwsby5maXJzdEVmZmVjdD1udWxsLG8ubGFzdEVmZmVjdD1udWxsLG51bGw9PT0oZT1vLmFsdGVybmF0ZSk/KG8uY2hpbGRFeHBpcmF0aW9uVGltZT0wLG8uZXhwaXJhdGlvblRpbWU9cyxvLmNoaWxkPW51bGwsby5tZW1vaXplZFByb3BzPW51bGwsby5tZW1vaXplZFN0YXRlPW51bGwsby51cGRhdGVRdWV1ZT1udWxsLG8uZGVwZW5kZW5jaWVzPW51bGwpOihvLmNoaWxkRXhwaXJhdGlvblRpbWU9ZS5jaGlsZEV4cGlyYXRpb25UaW1lLG8uZXhwaXJhdGlvblRpbWU9ZS5leHBpcmF0aW9uVGltZSxvLmNoaWxkPWUuY2hpbGQsby5tZW1vaXplZFByb3BzPWUubWVtb2l6ZWRQcm9wcyxvLm1lbW9pemVkU3RhdGU9ZS5tZW1vaXplZFN0YXRlLG8udXBkYXRlUXVldWU9ZS51cGRhdGVRdWV1ZSxzPWUuZGVwZW5kZW5jaWVzLG8uZGVwZW5kZW5jaWVzPW51bGw9PT1zP251bGw6e2V4cGlyYXRpb25UaW1lOnMuZXhwaXJhdGlvblRpbWUsZmlyc3RDb250ZXh0OnMuZmlyc3RDb250ZXh0LHJlc3BvbmRlcnM6cy5yZXNwb25kZXJzfSksaT1pLnNpYmxpbmc7cmV0dXJuIGNyKFJvLDEmUm8uY3VycmVudHwyKSx0LmNoaWxkfXM9cy5zaWJsaW5nfX1lbHNle2lmKCFvKWlmKG51bGwhPT0oZT1CbyhzKSkpe2lmKHQuZWZmZWN0VGFnfD02NCxvPSEwLG51bGwhPT0obj1lLnVwZGF0ZVF1ZXVlKSYmKHQudXBkYXRlUXVldWU9bix0LmVmZmVjdFRhZ3w9NCksWGEoaSwhMCksbnVsbD09PWkudGFpbCYmXCJoaWRkZW5cIj09PWkudGFpbE1vZGUmJiFzLmFsdGVybmF0ZSlyZXR1cm4gbnVsbCE9PSh0PXQubGFzdEVmZmVjdD1pLmxhc3RFZmZlY3QpJiYodC5uZXh0RWZmZWN0PW51bGwpLG51bGx9ZWxzZSAyKkZyKCktaS5yZW5kZXJpbmdTdGFydFRpbWU+aS50YWlsRXhwaXJhdGlvbiYmMTxuJiYodC5lZmZlY3RUYWd8PTY0LG89ITAsWGEoaSwhMSksdC5leHBpcmF0aW9uVGltZT10LmNoaWxkRXhwaXJhdGlvblRpbWU9bi0xKTtpLmlzQmFja3dhcmRzPyhzLnNpYmxpbmc9dC5jaGlsZCx0LmNoaWxkPXMpOihudWxsIT09KG49aS5sYXN0KT9uLnNpYmxpbmc9czp0LmNoaWxkPXMsaS5sYXN0PXMpfXJldHVybiBudWxsIT09aS50YWlsPygwPT09aS50YWlsRXhwaXJhdGlvbiYmKGkudGFpbEV4cGlyYXRpb249RnIoKSs1MDApLG49aS50YWlsLGkucmVuZGVyaW5nPW4saS50YWlsPW4uc2libGluZyxpLmxhc3RFZmZlY3Q9dC5sYXN0RWZmZWN0LGkucmVuZGVyaW5nU3RhcnRUaW1lPUZyKCksbi5zaWJsaW5nPW51bGwsdD1Sby5jdXJyZW50LGNyKFJvLG8/MSZ0fDI6MSZ0KSxuKTpudWxsfXRocm93IEVycm9yKGEoMTU2LHQudGFnKSl9ZnVuY3Rpb24gSmEoZSl7c3dpdGNoKGUudGFnKXtjYXNlIDE6bXIoZS50eXBlKSYmZ3IoKTt2YXIgdD1lLmVmZmVjdFRhZztyZXR1cm4gNDA5NiZ0PyhlLmVmZmVjdFRhZz0tNDA5NyZ0fDY0LGUpOm51bGw7Y2FzZSAzOmlmKERvKCksbHIoZHIpLGxyKGhyKSwwIT0oNjQmKHQ9ZS5lZmZlY3RUYWcpKSl0aHJvdyBFcnJvcihhKDI4NSkpO3JldHVybiBlLmVmZmVjdFRhZz0tNDA5NyZ0fDY0LGU7Y2FzZSA1OnJldHVybiBPbyhlKSxudWxsO2Nhc2UgMTM6cmV0dXJuIGxyKFJvKSw0MDk2Jih0PWUuZWZmZWN0VGFnKT8oZS5lZmZlY3RUYWc9LTQwOTcmdHw2NCxlKTpudWxsO2Nhc2UgMTk6cmV0dXJuIGxyKFJvKSxudWxsO2Nhc2UgNDpyZXR1cm4gRG8oKSxudWxsO2Nhc2UgMTA6cmV0dXJuIGVvKGUpLG51bGw7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gUWEoZSx0KXtyZXR1cm57dmFsdWU6ZSxzb3VyY2U6dCxzdGFjazp5ZSh0KX19TmE9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49dC5jaGlsZDtudWxsIT09bjspe2lmKDU9PT1uLnRhZ3x8Nj09PW4udGFnKWUuYXBwZW5kQ2hpbGQobi5zdGF0ZU5vZGUpO2Vsc2UgaWYoNCE9PW4udGFnJiZudWxsIT09bi5jaGlsZCl7bi5jaGlsZC5yZXR1cm49bixuPW4uY2hpbGQ7Y29udGludWV9aWYobj09PXQpYnJlYWs7Zm9yKDtudWxsPT09bi5zaWJsaW5nOyl7aWYobnVsbD09PW4ucmV0dXJufHxuLnJldHVybj09PXQpcmV0dXJuO249bi5yZXR1cm59bi5zaWJsaW5nLnJldHVybj1uLnJldHVybixuPW4uc2libGluZ319LFVhPWZ1bmN0aW9uKGUsdCxuLGksbyl7dmFyIGE9ZS5tZW1vaXplZFByb3BzO2lmKGEhPT1pKXt2YXIgcyxsLGM9dC5zdGF0ZU5vZGU7c3dpdGNoKFBvKENvLmN1cnJlbnQpLGU9bnVsbCxuKXtjYXNlXCJpbnB1dFwiOmE9d2UoYyxhKSxpPXdlKGMsaSksZT1bXTticmVhaztjYXNlXCJvcHRpb25cIjphPUNlKGMsYSksaT1DZShjLGkpLGU9W107YnJlYWs7Y2FzZVwic2VsZWN0XCI6YT1yKHt9LGEse3ZhbHVlOnZvaWQgMH0pLGk9cih7fSxpLHt2YWx1ZTp2b2lkIDB9KSxlPVtdO2JyZWFrO2Nhc2VcInRleHRhcmVhXCI6YT1BZShjLGEpLGk9QWUoYyxpKSxlPVtdO2JyZWFrO2RlZmF1bHQ6XCJmdW5jdGlvblwiIT10eXBlb2YgYS5vbkNsaWNrJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLm9uQ2xpY2smJihjLm9uY2xpY2s9Y24pfWZvcihzIGluIG9uKG4saSksbj1udWxsLGEpaWYoIWkuaGFzT3duUHJvcGVydHkocykmJmEuaGFzT3duUHJvcGVydHkocykmJm51bGwhPWFbc10paWYoXCJzdHlsZVwiPT09cylmb3IobCBpbiBjPWFbc10pYy5oYXNPd25Qcm9wZXJ0eShsKSYmKG58fChuPXt9KSxuW2xdPVwiXCIpO2Vsc2VcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCIhPT1zJiZcImNoaWxkcmVuXCIhPT1zJiZcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiIT09cyYmXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIiE9PXMmJlwiYXV0b0ZvY3VzXCIhPT1zJiYoRS5oYXNPd25Qcm9wZXJ0eShzKT9lfHwoZT1bXSk6KGU9ZXx8W10pLnB1c2gocyxudWxsKSk7Zm9yKHMgaW4gaSl7dmFyIHU9aVtzXTtpZihjPW51bGwhPWE/YVtzXTp2b2lkIDAsaS5oYXNPd25Qcm9wZXJ0eShzKSYmdSE9PWMmJihudWxsIT11fHxudWxsIT1jKSlpZihcInN0eWxlXCI9PT1zKWlmKGMpe2ZvcihsIGluIGMpIWMuaGFzT3duUHJvcGVydHkobCl8fHUmJnUuaGFzT3duUHJvcGVydHkobCl8fChufHwobj17fSksbltsXT1cIlwiKTtmb3IobCBpbiB1KXUuaGFzT3duUHJvcGVydHkobCkmJmNbbF0hPT11W2xdJiYobnx8KG49e30pLG5bbF09dVtsXSl9ZWxzZSBufHwoZXx8KGU9W10pLGUucHVzaChzLG4pKSxuPXU7ZWxzZVwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIj09PXM/KHU9dT91Ll9faHRtbDp2b2lkIDAsYz1jP2MuX19odG1sOnZvaWQgMCxudWxsIT11JiZjIT09dSYmKGU9ZXx8W10pLnB1c2gocyx1KSk6XCJjaGlsZHJlblwiPT09cz9jPT09dXx8XCJzdHJpbmdcIiE9dHlwZW9mIHUmJlwibnVtYmVyXCIhPXR5cGVvZiB1fHwoZT1lfHxbXSkucHVzaChzLFwiXCIrdSk6XCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIiE9PXMmJlwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCIhPT1zJiYoRS5oYXNPd25Qcm9wZXJ0eShzKT8obnVsbCE9dSYmbG4obyxzKSxlfHxjPT09dXx8KGU9W10pKTooZT1lfHxbXSkucHVzaChzLHUpKX1uJiYoZT1lfHxbXSkucHVzaChcInN0eWxlXCIsbiksbz1lLCh0LnVwZGF0ZVF1ZXVlPW8pJiYodC5lZmZlY3RUYWd8PTQpfX0sVmE9ZnVuY3Rpb24oZSx0LG4saSl7biE9PWkmJih0LmVmZmVjdFRhZ3w9NCl9O3ZhciBLYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBXZWFrU2V0P1dlYWtTZXQ6U2V0O2Z1bmN0aW9uIGVzKGUsdCl7dmFyIG49dC5zb3VyY2UsaT10LnN0YWNrO251bGw9PT1pJiZudWxsIT09biYmKGk9eWUobikpLG51bGwhPT1uJiZnZShuLnR5cGUpLHQ9dC52YWx1ZSxudWxsIT09ZSYmMT09PWUudGFnJiZnZShlLnR5cGUpO3RyeXtjb25zb2xlLmVycm9yKHQpfWNhdGNoKGUpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7dGhyb3cgZX0pKX19ZnVuY3Rpb24gdHMoZSl7dmFyIHQ9ZS5yZWY7aWYobnVsbCE9PXQpaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgdCl0cnl7dChudWxsKX1jYXRjaCh0KXtfbChlLHQpfWVsc2UgdC5jdXJyZW50PW51bGx9ZnVuY3Rpb24gbnMoZSx0KXtzd2l0Y2godC50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6Y2FzZSAyMjpyZXR1cm47Y2FzZSAxOmlmKDI1NiZ0LmVmZmVjdFRhZyYmbnVsbCE9PWUpe3ZhciBuPWUubWVtb2l6ZWRQcm9wcyxpPWUubWVtb2l6ZWRTdGF0ZTt0PShlPXQuc3RhdGVOb2RlKS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSh0LmVsZW1lbnRUeXBlPT09dC50eXBlP246SHIodC50eXBlLG4pLGkpLGUuX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGU9dH1yZXR1cm47Y2FzZSAzOmNhc2UgNTpjYXNlIDY6Y2FzZSA0OmNhc2UgMTc6cmV0dXJufXRocm93IEVycm9yKGEoMTYzKSl9ZnVuY3Rpb24gaXMoZSx0KXtpZihudWxsIT09KHQ9bnVsbCE9PSh0PXQudXBkYXRlUXVldWUpP3QubGFzdEVmZmVjdDpudWxsKSl7dmFyIG49dD10Lm5leHQ7ZG97aWYoKG4udGFnJmUpPT09ZSl7dmFyIGk9bi5kZXN0cm95O24uZGVzdHJveT12b2lkIDAsdm9pZCAwIT09aSYmaSgpfW49bi5uZXh0fXdoaWxlKG4hPT10KX19ZnVuY3Rpb24gcnMoZSx0KXtpZihudWxsIT09KHQ9bnVsbCE9PSh0PXQudXBkYXRlUXVldWUpP3QubGFzdEVmZmVjdDpudWxsKSl7dmFyIG49dD10Lm5leHQ7ZG97aWYoKG4udGFnJmUpPT09ZSl7dmFyIGk9bi5jcmVhdGU7bi5kZXN0cm95PWkoKX1uPW4ubmV4dH13aGlsZShuIT09dCl9fWZ1bmN0aW9uIG9zKGUsdCxuKXtzd2l0Y2gobi50YWcpe2Nhc2UgMDpjYXNlIDExOmNhc2UgMTU6Y2FzZSAyMjpyZXR1cm4gdm9pZCBycygzLG4pO2Nhc2UgMTppZihlPW4uc3RhdGVOb2RlLDQmbi5lZmZlY3RUYWcpaWYobnVsbD09PXQpZS5jb21wb25lbnREaWRNb3VudCgpO2Vsc2V7dmFyIGk9bi5lbGVtZW50VHlwZT09PW4udHlwZT90Lm1lbW9pemVkUHJvcHM6SHIobi50eXBlLHQubWVtb2l6ZWRQcm9wcyk7ZS5jb21wb25lbnREaWRVcGRhdGUoaSx0Lm1lbW9pemVkU3RhdGUsZS5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSl9cmV0dXJuIHZvaWQobnVsbCE9PSh0PW4udXBkYXRlUXVldWUpJiZobyhuLHQsZSkpO2Nhc2UgMzppZihudWxsIT09KHQ9bi51cGRhdGVRdWV1ZSkpe2lmKGU9bnVsbCxudWxsIT09bi5jaGlsZClzd2l0Y2gobi5jaGlsZC50YWcpe2Nhc2UgNTplPW4uY2hpbGQuc3RhdGVOb2RlO2JyZWFrO2Nhc2UgMTplPW4uY2hpbGQuc3RhdGVOb2RlfWhvKG4sdCxlKX1yZXR1cm47Y2FzZSA1OnJldHVybiBlPW4uc3RhdGVOb2RlLHZvaWQobnVsbD09PXQmJjQmbi5lZmZlY3RUYWcmJnluKG4udHlwZSxuLm1lbW9pemVkUHJvcHMpJiZlLmZvY3VzKCkpO2Nhc2UgNjpjYXNlIDQ6Y2FzZSAxMjpyZXR1cm47Y2FzZSAxMzpyZXR1cm4gdm9pZChudWxsPT09bi5tZW1vaXplZFN0YXRlJiYobj1uLmFsdGVybmF0ZSxudWxsIT09biYmKG49bi5tZW1vaXplZFN0YXRlLG51bGwhPT1uJiYobj1uLmRlaHlkcmF0ZWQsbnVsbCE9PW4mJlJ0KG4pKSkpKTtjYXNlIDE5OmNhc2UgMTc6Y2FzZSAyMDpjYXNlIDIxOnJldHVybn10aHJvdyBFcnJvcihhKDE2MykpfWZ1bmN0aW9uIGFzKGUsdCxuKXtzd2l0Y2goXCJmdW5jdGlvblwiPT10eXBlb2Ygd2wmJndsKHQpLHQudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6Y2FzZSAyMjppZihudWxsIT09KGU9dC51cGRhdGVRdWV1ZSkmJm51bGwhPT0oZT1lLmxhc3RFZmZlY3QpKXt2YXIgaT1lLm5leHQ7VnIoOTc8bj85NzpuLChmdW5jdGlvbigpe3ZhciBlPWk7ZG97dmFyIG49ZS5kZXN0cm95O2lmKHZvaWQgMCE9PW4pe3ZhciByPXQ7dHJ5e24oKX1jYXRjaChlKXtfbChyLGUpfX1lPWUubmV4dH13aGlsZShlIT09aSl9KSl9YnJlYWs7Y2FzZSAxOnRzKHQpLFwiZnVuY3Rpb25cIj09dHlwZW9mKG49dC5zdGF0ZU5vZGUpLmNvbXBvbmVudFdpbGxVbm1vdW50JiZmdW5jdGlvbihlLHQpe3RyeXt0LnByb3BzPWUubWVtb2l6ZWRQcm9wcyx0LnN0YXRlPWUubWVtb2l6ZWRTdGF0ZSx0LmNvbXBvbmVudFdpbGxVbm1vdW50KCl9Y2F0Y2godCl7X2woZSx0KX19KHQsbik7YnJlYWs7Y2FzZSA1OnRzKHQpO2JyZWFrO2Nhc2UgNDp1cyhlLHQsbil9fWZ1bmN0aW9uIHNzKGUpe3ZhciB0PWUuYWx0ZXJuYXRlO2UucmV0dXJuPW51bGwsZS5jaGlsZD1udWxsLGUubWVtb2l6ZWRTdGF0ZT1udWxsLGUudXBkYXRlUXVldWU9bnVsbCxlLmRlcGVuZGVuY2llcz1udWxsLGUuYWx0ZXJuYXRlPW51bGwsZS5maXJzdEVmZmVjdD1udWxsLGUubGFzdEVmZmVjdD1udWxsLGUucGVuZGluZ1Byb3BzPW51bGwsZS5tZW1vaXplZFByb3BzPW51bGwsZS5zdGF0ZU5vZGU9bnVsbCxudWxsIT09dCYmc3ModCl9ZnVuY3Rpb24gbHMoZSl7cmV0dXJuIDU9PT1lLnRhZ3x8Mz09PWUudGFnfHw0PT09ZS50YWd9ZnVuY3Rpb24gY3MoZSl7ZTp7Zm9yKHZhciB0PWUucmV0dXJuO251bGwhPT10Oyl7aWYobHModCkpe3ZhciBuPXQ7YnJlYWsgZX10PXQucmV0dXJufXRocm93IEVycm9yKGEoMTYwKSl9c3dpdGNoKHQ9bi5zdGF0ZU5vZGUsbi50YWcpe2Nhc2UgNTp2YXIgaT0hMTticmVhaztjYXNlIDM6Y2FzZSA0OnQ9dC5jb250YWluZXJJbmZvLGk9ITA7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDE2MSkpfTE2Jm4uZWZmZWN0VGFnJiYoTmUodCxcIlwiKSxuLmVmZmVjdFRhZyY9LTE3KTtlOnQ6Zm9yKG49ZTs7KXtmb3IoO251bGw9PT1uLnNpYmxpbmc7KXtpZihudWxsPT09bi5yZXR1cm58fGxzKG4ucmV0dXJuKSl7bj1udWxsO2JyZWFrIGV9bj1uLnJldHVybn1mb3Iobi5zaWJsaW5nLnJldHVybj1uLnJldHVybixuPW4uc2libGluZzs1IT09bi50YWcmJjYhPT1uLnRhZyYmMTghPT1uLnRhZzspe2lmKDImbi5lZmZlY3RUYWcpY29udGludWUgdDtpZihudWxsPT09bi5jaGlsZHx8ND09PW4udGFnKWNvbnRpbnVlIHQ7bi5jaGlsZC5yZXR1cm49bixuPW4uY2hpbGR9aWYoISgyJm4uZWZmZWN0VGFnKSl7bj1uLnN0YXRlTm9kZTticmVhayBlfX1pP2Z1bmN0aW9uIGUodCxuLGkpe3ZhciByPXQudGFnLG89NT09PXJ8fDY9PT1yO2lmKG8pdD1vP3Quc3RhdGVOb2RlOnQuc3RhdGVOb2RlLmluc3RhbmNlLG4/OD09PWkubm9kZVR5cGU/aS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LG4pOmkuaW5zZXJ0QmVmb3JlKHQsbik6KDg9PT1pLm5vZGVUeXBlPyhuPWkucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKHQsaSk6KG49aSkuYXBwZW5kQ2hpbGQodCksbnVsbCE9PShpPWkuX3JlYWN0Um9vdENvbnRhaW5lcikmJnZvaWQgMCE9PWl8fG51bGwhPT1uLm9uY2xpY2t8fChuLm9uY2xpY2s9Y24pKTtlbHNlIGlmKDQhPT1yJiZudWxsIT09KHQ9dC5jaGlsZCkpZm9yKGUodCxuLGkpLHQ9dC5zaWJsaW5nO251bGwhPT10OyllKHQsbixpKSx0PXQuc2libGluZ30oZSxuLHQpOmZ1bmN0aW9uIGUodCxuLGkpe3ZhciByPXQudGFnLG89NT09PXJ8fDY9PT1yO2lmKG8pdD1vP3Quc3RhdGVOb2RlOnQuc3RhdGVOb2RlLmluc3RhbmNlLG4/aS5pbnNlcnRCZWZvcmUodCxuKTppLmFwcGVuZENoaWxkKHQpO2Vsc2UgaWYoNCE9PXImJm51bGwhPT0odD10LmNoaWxkKSlmb3IoZSh0LG4saSksdD10LnNpYmxpbmc7bnVsbCE9PXQ7KWUodCxuLGkpLHQ9dC5zaWJsaW5nfShlLG4sdCl9ZnVuY3Rpb24gdXMoZSx0LG4pe2Zvcih2YXIgaSxyLG89dCxzPSExOzspe2lmKCFzKXtzPW8ucmV0dXJuO2U6Zm9yKDs7KXtpZihudWxsPT09cyl0aHJvdyBFcnJvcihhKDE2MCkpO3N3aXRjaChpPXMuc3RhdGVOb2RlLHMudGFnKXtjYXNlIDU6cj0hMTticmVhayBlO2Nhc2UgMzpjYXNlIDQ6aT1pLmNvbnRhaW5lckluZm8scj0hMDticmVhayBlfXM9cy5yZXR1cm59cz0hMH1pZig1PT09by50YWd8fDY9PT1vLnRhZyl7ZTpmb3IodmFyIGw9ZSxjPW8sdT1uLGg9Yzs7KWlmKGFzKGwsaCx1KSxudWxsIT09aC5jaGlsZCYmNCE9PWgudGFnKWguY2hpbGQucmV0dXJuPWgsaD1oLmNoaWxkO2Vsc2V7aWYoaD09PWMpYnJlYWsgZTtmb3IoO251bGw9PT1oLnNpYmxpbmc7KXtpZihudWxsPT09aC5yZXR1cm58fGgucmV0dXJuPT09YylicmVhayBlO2g9aC5yZXR1cm59aC5zaWJsaW5nLnJldHVybj1oLnJldHVybixoPWguc2libGluZ31yPyhsPWksYz1vLnN0YXRlTm9kZSw4PT09bC5ub2RlVHlwZT9sLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyk6bC5yZW1vdmVDaGlsZChjKSk6aS5yZW1vdmVDaGlsZChvLnN0YXRlTm9kZSl9ZWxzZSBpZig0PT09by50YWcpe2lmKG51bGwhPT1vLmNoaWxkKXtpPW8uc3RhdGVOb2RlLmNvbnRhaW5lckluZm8scj0hMCxvLmNoaWxkLnJldHVybj1vLG89by5jaGlsZDtjb250aW51ZX19ZWxzZSBpZihhcyhlLG8sbiksbnVsbCE9PW8uY2hpbGQpe28uY2hpbGQucmV0dXJuPW8sbz1vLmNoaWxkO2NvbnRpbnVlfWlmKG89PT10KWJyZWFrO2Zvcig7bnVsbD09PW8uc2libGluZzspe2lmKG51bGw9PT1vLnJldHVybnx8by5yZXR1cm49PT10KXJldHVybjs0PT09KG89by5yZXR1cm4pLnRhZyYmKHM9ITEpfW8uc2libGluZy5yZXR1cm49by5yZXR1cm4sbz1vLnNpYmxpbmd9fWZ1bmN0aW9uIGhzKGUsdCl7c3dpdGNoKHQudGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE0OmNhc2UgMTU6Y2FzZSAyMjpyZXR1cm4gdm9pZCBpcygzLHQpO2Nhc2UgMTpyZXR1cm47Y2FzZSA1OnZhciBuPXQuc3RhdGVOb2RlO2lmKG51bGwhPW4pe3ZhciBpPXQubWVtb2l6ZWRQcm9wcyxyPW51bGwhPT1lP2UubWVtb2l6ZWRQcm9wczppO2U9dC50eXBlO3ZhciBvPXQudXBkYXRlUXVldWU7aWYodC51cGRhdGVRdWV1ZT1udWxsLG51bGwhPT1vKXtmb3IobltTbl09aSxcImlucHV0XCI9PT1lJiZcInJhZGlvXCI9PT1pLnR5cGUmJm51bGwhPWkubmFtZSYmRWUobixpKSxhbihlLHIpLHQ9YW4oZSxpKSxyPTA7cjxvLmxlbmd0aDtyKz0yKXt2YXIgcz1vW3JdLGw9b1tyKzFdO1wic3R5bGVcIj09PXM/bm4obixsKTpcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PT1zP0ZlKG4sbCk6XCJjaGlsZHJlblwiPT09cz9OZShuLGwpOkoobixzLGwsdCl9c3dpdGNoKGUpe2Nhc2VcImlucHV0XCI6U2UobixpKTticmVhaztjYXNlXCJ0ZXh0YXJlYVwiOnplKG4saSk7YnJlYWs7Y2FzZVwic2VsZWN0XCI6dD1uLl93cmFwcGVyU3RhdGUud2FzTXVsdGlwbGUsbi5fd3JhcHBlclN0YXRlLndhc011bHRpcGxlPSEhaS5tdWx0aXBsZSxudWxsIT0oZT1pLnZhbHVlKT9rZShuLCEhaS5tdWx0aXBsZSxlLCExKTp0IT09ISFpLm11bHRpcGxlJiYobnVsbCE9aS5kZWZhdWx0VmFsdWU/a2UobiwhIWkubXVsdGlwbGUsaS5kZWZhdWx0VmFsdWUsITApOmtlKG4sISFpLm11bHRpcGxlLGkubXVsdGlwbGU/W106XCJcIiwhMSkpfX19cmV0dXJuO2Nhc2UgNjppZihudWxsPT09dC5zdGF0ZU5vZGUpdGhyb3cgRXJyb3IoYSgxNjIpKTtyZXR1cm4gdm9pZCh0LnN0YXRlTm9kZS5ub2RlVmFsdWU9dC5tZW1vaXplZFByb3BzKTtjYXNlIDM6cmV0dXJuIHZvaWQoKHQ9dC5zdGF0ZU5vZGUpLmh5ZHJhdGUmJih0Lmh5ZHJhdGU9ITEsUnQodC5jb250YWluZXJJbmZvKSkpO2Nhc2UgMTI6cmV0dXJuO2Nhc2UgMTM6aWYobj10LG51bGw9PT10Lm1lbW9pemVkU3RhdGU/aT0hMTooaT0hMCxuPXQuY2hpbGQsTHM9RnIoKSksbnVsbCE9PW4pZTpmb3IoZT1uOzspe2lmKDU9PT1lLnRhZylvPWUuc3RhdGVOb2RlLGk/XCJmdW5jdGlvblwiPT10eXBlb2Yobz1vLnN0eWxlKS5zZXRQcm9wZXJ0eT9vLnNldFByb3BlcnR5KFwiZGlzcGxheVwiLFwibm9uZVwiLFwiaW1wb3J0YW50XCIpOm8uZGlzcGxheT1cIm5vbmVcIjoobz1lLnN0YXRlTm9kZSxyPW51bGwhPShyPWUubWVtb2l6ZWRQcm9wcy5zdHlsZSkmJnIuaGFzT3duUHJvcGVydHkoXCJkaXNwbGF5XCIpP3IuZGlzcGxheTpudWxsLG8uc3R5bGUuZGlzcGxheT10bihcImRpc3BsYXlcIixyKSk7ZWxzZSBpZig2PT09ZS50YWcpZS5zdGF0ZU5vZGUubm9kZVZhbHVlPWk/XCJcIjplLm1lbW9pemVkUHJvcHM7ZWxzZXtpZigxMz09PWUudGFnJiZudWxsIT09ZS5tZW1vaXplZFN0YXRlJiZudWxsPT09ZS5tZW1vaXplZFN0YXRlLmRlaHlkcmF0ZWQpeyhvPWUuY2hpbGQuc2libGluZykucmV0dXJuPWUsZT1vO2NvbnRpbnVlfWlmKG51bGwhPT1lLmNoaWxkKXtlLmNoaWxkLnJldHVybj1lLGU9ZS5jaGlsZDtjb250aW51ZX19aWYoZT09PW4pYnJlYWs7Zm9yKDtudWxsPT09ZS5zaWJsaW5nOyl7aWYobnVsbD09PWUucmV0dXJufHxlLnJldHVybj09PW4pYnJlYWsgZTtlPWUucmV0dXJufWUuc2libGluZy5yZXR1cm49ZS5yZXR1cm4sZT1lLnNpYmxpbmd9cmV0dXJuIHZvaWQgZHModCk7Y2FzZSAxOTpyZXR1cm4gdm9pZCBkcyh0KTtjYXNlIDE3OnJldHVybn10aHJvdyBFcnJvcihhKDE2MykpfWZ1bmN0aW9uIGRzKGUpe3ZhciB0PWUudXBkYXRlUXVldWU7aWYobnVsbCE9PXQpe2UudXBkYXRlUXVldWU9bnVsbDt2YXIgbj1lLnN0YXRlTm9kZTtudWxsPT09biYmKG49ZS5zdGF0ZU5vZGU9bmV3IEthKSx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciBpPXhsLmJpbmQobnVsbCxlLHQpO24uaGFzKHQpfHwobi5hZGQodCksdC50aGVuKGksaSkpfSkpfX12YXIgcHM9XCJmdW5jdGlvblwiPT10eXBlb2YgV2Vha01hcD9XZWFrTWFwOk1hcDtmdW5jdGlvbiBmcyhlLHQsbil7KG49c28obixudWxsKSkudGFnPTMsbi5wYXlsb2FkPXtlbGVtZW50Om51bGx9O3ZhciBpPXQudmFsdWU7cmV0dXJuIG4uY2FsbGJhY2s9ZnVuY3Rpb24oKXtSc3x8KFJzPSEwLEJzPWkpLGVzKGUsdCl9LG59ZnVuY3Rpb24gbXMoZSx0LG4peyhuPXNvKG4sbnVsbCkpLnRhZz0zO3ZhciBpPWUudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3I7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaSl7dmFyIHI9dC52YWx1ZTtuLnBheWxvYWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZXMoZSx0KSxpKHIpfX12YXIgbz1lLnN0YXRlTm9kZTtyZXR1cm4gbnVsbCE9PW8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG8uY29tcG9uZW50RGlkQ2F0Y2gmJihuLmNhbGxiYWNrPWZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiIT10eXBlb2YgaSYmKG51bGw9PT1qcz9qcz1uZXcgU2V0KFt0aGlzXSk6anMuYWRkKHRoaXMpLGVzKGUsdCkpO3ZhciBuPXQuc3RhY2s7dGhpcy5jb21wb25lbnREaWRDYXRjaCh0LnZhbHVlLHtjb21wb25lbnRTdGFjazpudWxsIT09bj9uOlwiXCJ9KX0pLG59dmFyIGdzLHlzPU1hdGguY2VpbCxfcz1ZLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsdnM9WS5SZWFjdEN1cnJlbnRPd25lcix4cz0wLGJzPTMsd3M9NCxUcz0wLEVzPW51bGwsU3M9bnVsbCxNcz0wLElzPXhzLENzPW51bGwsa3M9MTA3Mzc0MTgyMyxBcz0xMDczNzQxODIzLFBzPW51bGwsenM9MCxEcz0hMSxMcz0wLE9zPW51bGwsUnM9ITEsQnM9bnVsbCxqcz1udWxsLEZzPSExLE5zPW51bGwsVXM9OTAsVnM9bnVsbCxHcz0wLFpzPW51bGwsV3M9MDtmdW5jdGlvbiBxcygpe3JldHVybiAwIT0oNDgmVHMpPzEwNzM3NDE4MjEtKEZyKCkvMTB8MCk6MCE9PVdzP1dzOldzPTEwNzM3NDE4MjEtKEZyKCkvMTB8MCl9ZnVuY3Rpb24gJHMoZSx0LG4pe2lmKDA9PSgyJih0PXQubW9kZSkpKXJldHVybiAxMDczNzQxODIzO3ZhciBpPU5yKCk7aWYoMD09KDQmdCkpcmV0dXJuIDk5PT09aT8xMDczNzQxODIzOjEwNzM3NDE4MjI7aWYoMCE9KDE2JlRzKSlyZXR1cm4gTXM7aWYobnVsbCE9PW4pZT0kcihlLDB8bi50aW1lb3V0TXN8fDVlMywyNTApO2Vsc2Ugc3dpdGNoKGkpe2Nhc2UgOTk6ZT0xMDczNzQxODIzO2JyZWFrO2Nhc2UgOTg6ZT0kcihlLDE1MCwxMDApO2JyZWFrO2Nhc2UgOTc6Y2FzZSA5NjplPSRyKGUsNWUzLDI1MCk7YnJlYWs7Y2FzZSA5NTplPTI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihhKDMyNikpfXJldHVybiBudWxsIT09RXMmJmU9PT1NcyYmLS1lLGV9ZnVuY3Rpb24gSHMoZSx0KXtpZig1MDxHcyl0aHJvdyBHcz0wLFpzPW51bGwsRXJyb3IoYSgxODUpKTtpZihudWxsIT09KGU9WHMoZSx0KSkpe3ZhciBuPU5yKCk7MTA3Mzc0MTgyMz09PXQ/MCE9KDgmVHMpJiYwPT0oNDgmVHMpP0tzKGUpOihKcyhlKSwwPT09VHMmJldyKCkpOkpzKGUpLDA9PSg0JlRzKXx8OTghPT1uJiY5OSE9PW58fChudWxsPT09VnM/VnM9bmV3IE1hcChbW2UsdF1dKToodm9pZCAwPT09KG49VnMuZ2V0KGUpKXx8bj50KSYmVnMuc2V0KGUsdCkpfX1mdW5jdGlvbiBYcyhlLHQpe2UuZXhwaXJhdGlvblRpbWU8dCYmKGUuZXhwaXJhdGlvblRpbWU9dCk7dmFyIG49ZS5hbHRlcm5hdGU7bnVsbCE9PW4mJm4uZXhwaXJhdGlvblRpbWU8dCYmKG4uZXhwaXJhdGlvblRpbWU9dCk7dmFyIGk9ZS5yZXR1cm4scj1udWxsO2lmKG51bGw9PT1pJiYzPT09ZS50YWcpcj1lLnN0YXRlTm9kZTtlbHNlIGZvcig7bnVsbCE9PWk7KXtpZihuPWkuYWx0ZXJuYXRlLGkuY2hpbGRFeHBpcmF0aW9uVGltZTx0JiYoaS5jaGlsZEV4cGlyYXRpb25UaW1lPXQpLG51bGwhPT1uJiZuLmNoaWxkRXhwaXJhdGlvblRpbWU8dCYmKG4uY2hpbGRFeHBpcmF0aW9uVGltZT10KSxudWxsPT09aS5yZXR1cm4mJjM9PT1pLnRhZyl7cj1pLnN0YXRlTm9kZTticmVha31pPWkucmV0dXJufXJldHVybiBudWxsIT09ciYmKEVzPT09ciYmKGFsKHQpLElzPT09d3MmJkRsKHIsTXMpKSxMbChyLHQpKSxyfWZ1bmN0aW9uIFlzKGUpe3ZhciB0PWUubGFzdEV4cGlyZWRUaW1lO2lmKDAhPT10KXJldHVybiB0O2lmKCF6bChlLHQ9ZS5maXJzdFBlbmRpbmdUaW1lKSlyZXR1cm4gdDt2YXIgbj1lLmxhc3RQaW5nZWRUaW1lO3JldHVybiAyPj0oZT1uPihlPWUubmV4dEtub3duUGVuZGluZ0xldmVsKT9uOmUpJiZ0IT09ZT8wOmV9ZnVuY3Rpb24gSnMoZSl7aWYoMCE9PWUubGFzdEV4cGlyZWRUaW1lKWUuY2FsbGJhY2tFeHBpcmF0aW9uVGltZT0xMDczNzQxODIzLGUuY2FsbGJhY2tQcmlvcml0eT05OSxlLmNhbGxiYWNrTm9kZT1acihLcy5iaW5kKG51bGwsZSkpO2Vsc2V7dmFyIHQ9WXMoZSksbj1lLmNhbGxiYWNrTm9kZTtpZigwPT09dCludWxsIT09biYmKGUuY2FsbGJhY2tOb2RlPW51bGwsZS5jYWxsYmFja0V4cGlyYXRpb25UaW1lPTAsZS5jYWxsYmFja1ByaW9yaXR5PTkwKTtlbHNle3ZhciBpPXFzKCk7aWYoMTA3Mzc0MTgyMz09PXQ/aT05OToxPT09dHx8Mj09PXQ/aT05NTppPTA+PShpPTEwKigxMDczNzQxODIxLXQpLTEwKigxMDczNzQxODIxLWkpKT85OToyNTA+PWk/OTg6NTI1MD49aT85Nzo5NSxudWxsIT09bil7dmFyIHI9ZS5jYWxsYmFja1ByaW9yaXR5O2lmKGUuY2FsbGJhY2tFeHBpcmF0aW9uVGltZT09PXQmJnI+PWkpcmV0dXJuO24hPT16ciYmVHIobil9ZS5jYWxsYmFja0V4cGlyYXRpb25UaW1lPXQsZS5jYWxsYmFja1ByaW9yaXR5PWksdD0xMDczNzQxODIzPT09dD9acihLcy5iaW5kKG51bGwsZSkpOkdyKGksUXMuYmluZChudWxsLGUpLHt0aW1lb3V0OjEwKigxMDczNzQxODIxLXQpLUZyKCl9KSxlLmNhbGxiYWNrTm9kZT10fX19ZnVuY3Rpb24gUXMoZSx0KXtpZihXcz0wLHQpcmV0dXJuIE9sKGUsdD1xcygpKSxKcyhlKSxudWxsO3ZhciBuPVlzKGUpO2lmKDAhPT1uKXtpZih0PWUuY2FsbGJhY2tOb2RlLDAhPSg0OCZUcykpdGhyb3cgRXJyb3IoYSgzMjcpKTtpZihtbCgpLGU9PT1FcyYmbj09PU1zfHxubChlLG4pLG51bGwhPT1Tcyl7dmFyIGk9VHM7VHN8PTE2O2Zvcih2YXIgcj1ybCgpOzspdHJ5e2xsKCk7YnJlYWt9Y2F0Y2godCl7aWwoZSx0KX1pZihLcigpLFRzPWksX3MuY3VycmVudD1yLDE9PT1Jcyl0aHJvdyB0PUNzLG5sKGUsbiksRGwoZSxuKSxKcyhlKSx0O2lmKG51bGw9PT1Tcylzd2l0Y2gocj1lLmZpbmlzaGVkV29yaz1lLmN1cnJlbnQuYWx0ZXJuYXRlLGUuZmluaXNoZWRFeHBpcmF0aW9uVGltZT1uLGk9SXMsRXM9bnVsbCxpKXtjYXNlIHhzOmNhc2UgMTp0aHJvdyBFcnJvcihhKDM0NSkpO2Nhc2UgMjpPbChlLDI8bj8yOm4pO2JyZWFrO2Nhc2UgYnM6aWYoRGwoZSxuKSxuPT09KGk9ZS5sYXN0U3VzcGVuZGVkVGltZSkmJihlLm5leHRLbm93blBlbmRpbmdMZXZlbD1obChyKSksMTA3Mzc0MTgyMz09PWtzJiYxMDwocj1Mcys1MDAtRnIoKSkpe2lmKERzKXt2YXIgbz1lLmxhc3RQaW5nZWRUaW1lO2lmKDA9PT1vfHxvPj1uKXtlLmxhc3RQaW5nZWRUaW1lPW4sbmwoZSxuKTticmVha319aWYoMCE9PShvPVlzKGUpKSYmbyE9PW4pYnJlYWs7aWYoMCE9PWkmJmkhPT1uKXtlLmxhc3RQaW5nZWRUaW1lPWk7YnJlYWt9ZS50aW1lb3V0SGFuZGxlPXZuKGRsLmJpbmQobnVsbCxlKSxyKTticmVha31kbChlKTticmVhaztjYXNlIHdzOmlmKERsKGUsbiksbj09PShpPWUubGFzdFN1c3BlbmRlZFRpbWUpJiYoZS5uZXh0S25vd25QZW5kaW5nTGV2ZWw9aGwocikpLERzJiYoMD09PShyPWUubGFzdFBpbmdlZFRpbWUpfHxyPj1uKSl7ZS5sYXN0UGluZ2VkVGltZT1uLG5sKGUsbik7YnJlYWt9aWYoMCE9PShyPVlzKGUpKSYmciE9PW4pYnJlYWs7aWYoMCE9PWkmJmkhPT1uKXtlLmxhc3RQaW5nZWRUaW1lPWk7YnJlYWt9aWYoMTA3Mzc0MTgyMyE9PUFzP2k9MTAqKDEwNzM3NDE4MjEtQXMpLUZyKCk6MTA3Mzc0MTgyMz09PWtzP2k9MDooaT0xMCooMTA3Mzc0MTgyMS1rcyktNWUzLDA+KGk9KHI9RnIoKSktaSkmJihpPTApLChuPTEwKigxMDczNzQxODIxLW4pLXIpPChpPSgxMjA+aT8xMjA6NDgwPmk/NDgwOjEwODA+aT8xMDgwOjE5MjA+aT8xOTIwOjNlMz5pPzNlMzo0MzIwPmk/NDMyMDoxOTYwKnlzKGkvMTk2MCkpLWkpJiYoaT1uKSksMTA8aSl7ZS50aW1lb3V0SGFuZGxlPXZuKGRsLmJpbmQobnVsbCxlKSxpKTticmVha31kbChlKTticmVhaztjYXNlIDU6aWYoMTA3Mzc0MTgyMyE9PWtzJiZudWxsIT09UHMpe289a3M7dmFyIHM9UHM7aWYoMD49KGk9MHxzLmJ1c3lNaW5EdXJhdGlvbk1zKT9pPTA6KHI9MHxzLmJ1c3lEZWxheU1zLGk9KG89RnIoKS0oMTAqKDEwNzM3NDE4MjEtbyktKDB8cy50aW1lb3V0TXN8fDVlMykpKTw9cj8wOnIraS1vKSwxMDxpKXtEbChlLG4pLGUudGltZW91dEhhbmRsZT12bihkbC5iaW5kKG51bGwsZSksaSk7YnJlYWt9fWRsKGUpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoYSgzMjkpKX1pZihKcyhlKSxlLmNhbGxiYWNrTm9kZT09PXQpcmV0dXJuIFFzLmJpbmQobnVsbCxlKX19cmV0dXJuIG51bGx9ZnVuY3Rpb24gS3MoZSl7dmFyIHQ9ZS5sYXN0RXhwaXJlZFRpbWU7aWYodD0wIT09dD90OjEwNzM3NDE4MjMsMCE9KDQ4JlRzKSl0aHJvdyBFcnJvcihhKDMyNykpO2lmKG1sKCksZT09PUVzJiZ0PT09TXN8fG5sKGUsdCksbnVsbCE9PVNzKXt2YXIgbj1UcztUc3w9MTY7Zm9yKHZhciBpPXJsKCk7Oyl0cnl7c2woKTticmVha31jYXRjaCh0KXtpbChlLHQpfWlmKEtyKCksVHM9bixfcy5jdXJyZW50PWksMT09PUlzKXRocm93IG49Q3MsbmwoZSx0KSxEbChlLHQpLEpzKGUpLG47aWYobnVsbCE9PVNzKXRocm93IEVycm9yKGEoMjYxKSk7ZS5maW5pc2hlZFdvcms9ZS5jdXJyZW50LmFsdGVybmF0ZSxlLmZpbmlzaGVkRXhwaXJhdGlvblRpbWU9dCxFcz1udWxsLGRsKGUpLEpzKGUpfXJldHVybiBudWxsfWZ1bmN0aW9uIGVsKGUsdCl7dmFyIG49VHM7VHN8PTE7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7MD09PShUcz1uKSYmV3IoKX19ZnVuY3Rpb24gdGwoZSx0KXt2YXIgbj1UcztUcyY9LTIsVHN8PTg7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7MD09PShUcz1uKSYmV3IoKX19ZnVuY3Rpb24gbmwoZSx0KXtlLmZpbmlzaGVkV29yaz1udWxsLGUuZmluaXNoZWRFeHBpcmF0aW9uVGltZT0wO3ZhciBuPWUudGltZW91dEhhbmRsZTtpZigtMSE9PW4mJihlLnRpbWVvdXRIYW5kbGU9LTEseG4obikpLG51bGwhPT1Tcylmb3Iobj1Tcy5yZXR1cm47bnVsbCE9PW47KXt2YXIgaT1uO3N3aXRjaChpLnRhZyl7Y2FzZSAxOm51bGwhPShpPWkudHlwZS5jaGlsZENvbnRleHRUeXBlcykmJmdyKCk7YnJlYWs7Y2FzZSAzOkRvKCksbHIoZHIpLGxyKGhyKTticmVhaztjYXNlIDU6T28oaSk7YnJlYWs7Y2FzZSA0OkRvKCk7YnJlYWs7Y2FzZSAxMzpjYXNlIDE5OmxyKFJvKTticmVhaztjYXNlIDEwOmVvKGkpfW49bi5yZXR1cm59RXM9ZSxTcz1NbChlLmN1cnJlbnQsbnVsbCksTXM9dCxJcz14cyxDcz1udWxsLEFzPWtzPTEwNzM3NDE4MjMsUHM9bnVsbCx6cz0wLERzPSExfWZ1bmN0aW9uIGlsKGUsdCl7Zm9yKDs7KXt0cnl7aWYoS3IoKSxGby5jdXJyZW50PWdhLFdvKWZvcih2YXIgbj1Wby5tZW1vaXplZFN0YXRlO251bGwhPT1uOyl7dmFyIGk9bi5xdWV1ZTtudWxsIT09aSYmKGkucGVuZGluZz1udWxsKSxuPW4ubmV4dH1pZihVbz0wLFpvPUdvPVZvPW51bGwsV289ITEsbnVsbD09PVNzfHxudWxsPT09U3MucmV0dXJuKXJldHVybiBJcz0xLENzPXQsU3M9bnVsbDtlOnt2YXIgcj1lLG89U3MucmV0dXJuLGE9U3Mscz10O2lmKHQ9TXMsYS5lZmZlY3RUYWd8PTIwNDgsYS5maXJzdEVmZmVjdD1hLmxhc3RFZmZlY3Q9bnVsbCxudWxsIT09cyYmXCJvYmplY3RcIj09dHlwZW9mIHMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHMudGhlbil7dmFyIGw9cztpZigwPT0oMiZhLm1vZGUpKXt2YXIgYz1hLmFsdGVybmF0ZTtjPyhhLnVwZGF0ZVF1ZXVlPWMudXBkYXRlUXVldWUsYS5tZW1vaXplZFN0YXRlPWMubWVtb2l6ZWRTdGF0ZSxhLmV4cGlyYXRpb25UaW1lPWMuZXhwaXJhdGlvblRpbWUpOihhLnVwZGF0ZVF1ZXVlPW51bGwsYS5tZW1vaXplZFN0YXRlPW51bGwpfXZhciB1PTAhPSgxJlJvLmN1cnJlbnQpLGg9bztkb3t2YXIgZDtpZihkPTEzPT09aC50YWcpe3ZhciBwPWgubWVtb2l6ZWRTdGF0ZTtpZihudWxsIT09cClkPW51bGwhPT1wLmRlaHlkcmF0ZWQ7ZWxzZXt2YXIgZj1oLm1lbW9pemVkUHJvcHM7ZD12b2lkIDAhPT1mLmZhbGxiYWNrJiYoITAhPT1mLnVuc3RhYmxlX2F2b2lkVGhpc0ZhbGxiYWNrfHwhdSl9fWlmKGQpe3ZhciBtPWgudXBkYXRlUXVldWU7aWYobnVsbD09PW0pe3ZhciBnPW5ldyBTZXQ7Zy5hZGQobCksaC51cGRhdGVRdWV1ZT1nfWVsc2UgbS5hZGQobCk7aWYoMD09KDImaC5tb2RlKSl7aWYoaC5lZmZlY3RUYWd8PTY0LGEuZWZmZWN0VGFnJj0tMjk4MSwxPT09YS50YWcpaWYobnVsbD09PWEuYWx0ZXJuYXRlKWEudGFnPTE3O2Vsc2V7dmFyIHk9c28oMTA3Mzc0MTgyMyxudWxsKTt5LnRhZz0yLGxvKGEseSl9YS5leHBpcmF0aW9uVGltZT0xMDczNzQxODIzO2JyZWFrIGV9cz12b2lkIDAsYT10O3ZhciBfPXIucGluZ0NhY2hlO2lmKG51bGw9PT1fPyhfPXIucGluZ0NhY2hlPW5ldyBwcyxzPW5ldyBTZXQsXy5zZXQobCxzKSk6dm9pZCAwPT09KHM9Xy5nZXQobCkpJiYocz1uZXcgU2V0LF8uc2V0KGwscykpLCFzLmhhcyhhKSl7cy5hZGQoYSk7dmFyIHY9dmwuYmluZChudWxsLHIsbCxhKTtsLnRoZW4odix2KX1oLmVmZmVjdFRhZ3w9NDA5NixoLmV4cGlyYXRpb25UaW1lPXQ7YnJlYWsgZX1oPWgucmV0dXJufXdoaWxlKG51bGwhPT1oKTtzPUVycm9yKChnZShhLnR5cGUpfHxcIkEgUmVhY3QgY29tcG9uZW50XCIpK1wiIHN1c3BlbmRlZCB3aGlsZSByZW5kZXJpbmcsIGJ1dCBubyBmYWxsYmFjayBVSSB3YXMgc3BlY2lmaWVkLlxcblxcbkFkZCBhIDxTdXNwZW5zZSBmYWxsYmFjaz0uLi4+IGNvbXBvbmVudCBoaWdoZXIgaW4gdGhlIHRyZWUgdG8gcHJvdmlkZSBhIGxvYWRpbmcgaW5kaWNhdG9yIG9yIHBsYWNlaG9sZGVyIHRvIGRpc3BsYXkuXCIreWUoYSkpfTUhPT1JcyYmKElzPTIpLHM9UWEocyxhKSxoPW87ZG97c3dpdGNoKGgudGFnKXtjYXNlIDM6bD1zLGguZWZmZWN0VGFnfD00MDk2LGguZXhwaXJhdGlvblRpbWU9dCxjbyhoLGZzKGgsbCx0KSk7YnJlYWsgZTtjYXNlIDE6bD1zO3ZhciB4PWgudHlwZSxiPWguc3RhdGVOb2RlO2lmKDA9PSg2NCZoLmVmZmVjdFRhZykmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiB4LmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcnx8bnVsbCE9PWImJlwiZnVuY3Rpb25cIj09dHlwZW9mIGIuY29tcG9uZW50RGlkQ2F0Y2gmJihudWxsPT09anN8fCFqcy5oYXMoYikpKSl7aC5lZmZlY3RUYWd8PTQwOTYsaC5leHBpcmF0aW9uVGltZT10LGNvKGgsbXMoaCxsLHQpKTticmVhayBlfX1oPWgucmV0dXJufXdoaWxlKG51bGwhPT1oKX1Tcz11bChTcyl9Y2F0Y2goZSl7dD1lO2NvbnRpbnVlfWJyZWFrfX1mdW5jdGlvbiBybCgpe3ZhciBlPV9zLmN1cnJlbnQ7cmV0dXJuIF9zLmN1cnJlbnQ9Z2EsbnVsbD09PWU/Z2E6ZX1mdW5jdGlvbiBvbChlLHQpe2U8a3MmJjI8ZSYmKGtzPWUpLG51bGwhPT10JiZlPEFzJiYyPGUmJihBcz1lLFBzPXQpfWZ1bmN0aW9uIGFsKGUpe2U+enMmJih6cz1lKX1mdW5jdGlvbiBzbCgpe2Zvcig7bnVsbCE9PVNzOylTcz1jbChTcyl9ZnVuY3Rpb24gbGwoKXtmb3IoO251bGwhPT1TcyYmIURyKCk7KVNzPWNsKFNzKX1mdW5jdGlvbiBjbChlKXt2YXIgdD1ncyhlLmFsdGVybmF0ZSxlLE1zKTtyZXR1cm4gZS5tZW1vaXplZFByb3BzPWUucGVuZGluZ1Byb3BzLG51bGw9PT10JiYodD11bChlKSksdnMuY3VycmVudD1udWxsLHR9ZnVuY3Rpb24gdWwoZSl7U3M9ZTtkb3t2YXIgdD1Tcy5hbHRlcm5hdGU7aWYoZT1Tcy5yZXR1cm4sMD09KDIwNDgmU3MuZWZmZWN0VGFnKSl7aWYodD1ZYSh0LFNzLE1zKSwxPT09TXN8fDEhPT1Tcy5jaGlsZEV4cGlyYXRpb25UaW1lKXtmb3IodmFyIG49MCxpPVNzLmNoaWxkO251bGwhPT1pOyl7dmFyIHI9aS5leHBpcmF0aW9uVGltZSxvPWkuY2hpbGRFeHBpcmF0aW9uVGltZTtyPm4mJihuPXIpLG8+biYmKG49byksaT1pLnNpYmxpbmd9U3MuY2hpbGRFeHBpcmF0aW9uVGltZT1ufWlmKG51bGwhPT10KXJldHVybiB0O251bGwhPT1lJiYwPT0oMjA0OCZlLmVmZmVjdFRhZykmJihudWxsPT09ZS5maXJzdEVmZmVjdCYmKGUuZmlyc3RFZmZlY3Q9U3MuZmlyc3RFZmZlY3QpLG51bGwhPT1Tcy5sYXN0RWZmZWN0JiYobnVsbCE9PWUubGFzdEVmZmVjdCYmKGUubGFzdEVmZmVjdC5uZXh0RWZmZWN0PVNzLmZpcnN0RWZmZWN0KSxlLmxhc3RFZmZlY3Q9U3MubGFzdEVmZmVjdCksMTxTcy5lZmZlY3RUYWcmJihudWxsIT09ZS5sYXN0RWZmZWN0P2UubGFzdEVmZmVjdC5uZXh0RWZmZWN0PVNzOmUuZmlyc3RFZmZlY3Q9U3MsZS5sYXN0RWZmZWN0PVNzKSl9ZWxzZXtpZihudWxsIT09KHQ9SmEoU3MpKSlyZXR1cm4gdC5lZmZlY3RUYWcmPTIwNDcsdDtudWxsIT09ZSYmKGUuZmlyc3RFZmZlY3Q9ZS5sYXN0RWZmZWN0PW51bGwsZS5lZmZlY3RUYWd8PTIwNDgpfWlmKG51bGwhPT0odD1Tcy5zaWJsaW5nKSlyZXR1cm4gdDtTcz1lfXdoaWxlKG51bGwhPT1Tcyk7cmV0dXJuIElzPT09eHMmJihJcz01KSxudWxsfWZ1bmN0aW9uIGhsKGUpe3ZhciB0PWUuZXhwaXJhdGlvblRpbWU7cmV0dXJuIHQ+KGU9ZS5jaGlsZEV4cGlyYXRpb25UaW1lKT90OmV9ZnVuY3Rpb24gZGwoZSl7dmFyIHQ9TnIoKTtyZXR1cm4gVnIoOTkscGwuYmluZChudWxsLGUsdCkpLG51bGx9ZnVuY3Rpb24gcGwoZSx0KXtkb3ttbCgpfXdoaWxlKG51bGwhPT1Ocyk7aWYoMCE9KDQ4JlRzKSl0aHJvdyBFcnJvcihhKDMyNykpO3ZhciBuPWUuZmluaXNoZWRXb3JrLGk9ZS5maW5pc2hlZEV4cGlyYXRpb25UaW1lO2lmKG51bGw9PT1uKXJldHVybiBudWxsO2lmKGUuZmluaXNoZWRXb3JrPW51bGwsZS5maW5pc2hlZEV4cGlyYXRpb25UaW1lPTAsbj09PWUuY3VycmVudCl0aHJvdyBFcnJvcihhKDE3NykpO2UuY2FsbGJhY2tOb2RlPW51bGwsZS5jYWxsYmFja0V4cGlyYXRpb25UaW1lPTAsZS5jYWxsYmFja1ByaW9yaXR5PTkwLGUubmV4dEtub3duUGVuZGluZ0xldmVsPTA7dmFyIHI9aGwobik7aWYoZS5maXJzdFBlbmRpbmdUaW1lPXIsaTw9ZS5sYXN0U3VzcGVuZGVkVGltZT9lLmZpcnN0U3VzcGVuZGVkVGltZT1lLmxhc3RTdXNwZW5kZWRUaW1lPWUubmV4dEtub3duUGVuZGluZ0xldmVsPTA6aTw9ZS5maXJzdFN1c3BlbmRlZFRpbWUmJihlLmZpcnN0U3VzcGVuZGVkVGltZT1pLTEpLGk8PWUubGFzdFBpbmdlZFRpbWUmJihlLmxhc3RQaW5nZWRUaW1lPTApLGk8PWUubGFzdEV4cGlyZWRUaW1lJiYoZS5sYXN0RXhwaXJlZFRpbWU9MCksZT09PUVzJiYoU3M9RXM9bnVsbCxNcz0wKSwxPG4uZWZmZWN0VGFnP251bGwhPT1uLmxhc3RFZmZlY3Q/KG4ubGFzdEVmZmVjdC5uZXh0RWZmZWN0PW4scj1uLmZpcnN0RWZmZWN0KTpyPW46cj1uLmZpcnN0RWZmZWN0LG51bGwhPT1yKXt2YXIgbz1UcztUc3w9MzIsdnMuY3VycmVudD1udWxsLG1uPXF0O3ZhciBzPXBuKCk7aWYoZm4ocykpe2lmKFwic2VsZWN0aW9uU3RhcnRcImluIHMpdmFyIGw9e3N0YXJ0OnMuc2VsZWN0aW9uU3RhcnQsZW5kOnMuc2VsZWN0aW9uRW5kfTtlbHNlIGU6e3ZhciBjPShsPShsPXMub3duZXJEb2N1bWVudCkmJmwuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0U2VsZWN0aW9uJiZsLmdldFNlbGVjdGlvbigpO2lmKGMmJjAhPT1jLnJhbmdlQ291bnQpe2w9Yy5hbmNob3JOb2RlO3ZhciB1PWMuYW5jaG9yT2Zmc2V0LGg9Yy5mb2N1c05vZGU7Yz1jLmZvY3VzT2Zmc2V0O3RyeXtsLm5vZGVUeXBlLGgubm9kZVR5cGV9Y2F0Y2goZSl7bD1udWxsO2JyZWFrIGV9dmFyIGQ9MCxwPS0xLGY9LTEsbT0wLGc9MCx5PXMsXz1udWxsO3Q6Zm9yKDs7KXtmb3IodmFyIHY7eSE9PWx8fDAhPT11JiYzIT09eS5ub2RlVHlwZXx8KHA9ZCt1KSx5IT09aHx8MCE9PWMmJjMhPT15Lm5vZGVUeXBlfHwoZj1kK2MpLDM9PT15Lm5vZGVUeXBlJiYoZCs9eS5ub2RlVmFsdWUubGVuZ3RoKSxudWxsIT09KHY9eS5maXJzdENoaWxkKTspXz15LHk9djtmb3IoOzspe2lmKHk9PT1zKWJyZWFrIHQ7aWYoXz09PWwmJisrbT09PXUmJihwPWQpLF89PT1oJiYrK2c9PT1jJiYoZj1kKSxudWxsIT09KHY9eS5uZXh0U2libGluZykpYnJlYWs7Xz0oeT1fKS5wYXJlbnROb2RlfXk9dn1sPS0xPT09cHx8LTE9PT1mP251bGw6e3N0YXJ0OnAsZW5kOmZ9fWVsc2UgbD1udWxsfWw9bHx8e3N0YXJ0OjAsZW5kOjB9fWVsc2UgbD1udWxsO2duPXthY3RpdmVFbGVtZW50RGV0YWNoZWQ6bnVsbCxmb2N1c2VkRWxlbTpzLHNlbGVjdGlvblJhbmdlOmx9LHF0PSExLE9zPXI7ZG97dHJ5e2ZsKCl9Y2F0Y2goZSl7aWYobnVsbD09PU9zKXRocm93IEVycm9yKGEoMzMwKSk7X2woT3MsZSksT3M9T3MubmV4dEVmZmVjdH19d2hpbGUobnVsbCE9PU9zKTtPcz1yO2Rve3RyeXtmb3Iocz1lLGw9dDtudWxsIT09T3M7KXt2YXIgeD1Pcy5lZmZlY3RUYWc7aWYoMTYmeCYmTmUoT3Muc3RhdGVOb2RlLFwiXCIpLDEyOCZ4KXt2YXIgYj1Pcy5hbHRlcm5hdGU7aWYobnVsbCE9PWIpe3ZhciB3PWIucmVmO251bGwhPT13JiYoXCJmdW5jdGlvblwiPT10eXBlb2Ygdz93KG51bGwpOncuY3VycmVudD1udWxsKX19c3dpdGNoKDEwMzgmeCl7Y2FzZSAyOmNzKE9zKSxPcy5lZmZlY3RUYWcmPS0zO2JyZWFrO2Nhc2UgNjpjcyhPcyksT3MuZWZmZWN0VGFnJj0tMyxocyhPcy5hbHRlcm5hdGUsT3MpO2JyZWFrO2Nhc2UgMTAyNDpPcy5lZmZlY3RUYWcmPS0xMDI1O2JyZWFrO2Nhc2UgMTAyODpPcy5lZmZlY3RUYWcmPS0xMDI1LGhzKE9zLmFsdGVybmF0ZSxPcyk7YnJlYWs7Y2FzZSA0OmhzKE9zLmFsdGVybmF0ZSxPcyk7YnJlYWs7Y2FzZSA4OnVzKHMsdT1PcyxsKSxzcyh1KX1Pcz1Pcy5uZXh0RWZmZWN0fX1jYXRjaChlKXtpZihudWxsPT09T3MpdGhyb3cgRXJyb3IoYSgzMzApKTtfbChPcyxlKSxPcz1Pcy5uZXh0RWZmZWN0fX13aGlsZShudWxsIT09T3MpO2lmKHc9Z24sYj1wbigpLHg9dy5mb2N1c2VkRWxlbSxsPXcuc2VsZWN0aW9uUmFuZ2UsYiE9PXgmJngmJngub3duZXJEb2N1bWVudCYmZnVuY3Rpb24gZSh0LG4pe3JldHVybiEoIXR8fCFuKSYmKHQ9PT1ufHwoIXR8fDMhPT10Lm5vZGVUeXBlKSYmKG4mJjM9PT1uLm5vZGVUeXBlP2UodCxuLnBhcmVudE5vZGUpOlwiY29udGFpbnNcImluIHQ/dC5jb250YWlucyhuKTohIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb24mJiEhKDE2JnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24obikpKSl9KHgub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQseCkpe251bGwhPT1sJiZmbih4KSYmKGI9bC5zdGFydCx2b2lkIDA9PT0odz1sLmVuZCkmJih3PWIpLFwic2VsZWN0aW9uU3RhcnRcImluIHg/KHguc2VsZWN0aW9uU3RhcnQ9Yix4LnNlbGVjdGlvbkVuZD1NYXRoLm1pbih3LHgudmFsdWUubGVuZ3RoKSk6KHc9KGI9eC5vd25lckRvY3VtZW50fHxkb2N1bWVudCkmJmIuZGVmYXVsdFZpZXd8fHdpbmRvdykuZ2V0U2VsZWN0aW9uJiYodz13LmdldFNlbGVjdGlvbigpLHU9eC50ZXh0Q29udGVudC5sZW5ndGgscz1NYXRoLm1pbihsLnN0YXJ0LHUpLGw9dm9pZCAwPT09bC5lbmQ/czpNYXRoLm1pbihsLmVuZCx1KSwhdy5leHRlbmQmJnM+bCYmKHU9bCxsPXMscz11KSx1PWRuKHgscyksaD1kbih4LGwpLHUmJmgmJigxIT09dy5yYW5nZUNvdW50fHx3LmFuY2hvck5vZGUhPT11Lm5vZGV8fHcuYW5jaG9yT2Zmc2V0IT09dS5vZmZzZXR8fHcuZm9jdXNOb2RlIT09aC5ub2RlfHx3LmZvY3VzT2Zmc2V0IT09aC5vZmZzZXQpJiYoKGI9Yi5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydCh1Lm5vZGUsdS5vZmZzZXQpLHcucmVtb3ZlQWxsUmFuZ2VzKCkscz5sPyh3LmFkZFJhbmdlKGIpLHcuZXh0ZW5kKGgubm9kZSxoLm9mZnNldCkpOihiLnNldEVuZChoLm5vZGUsaC5vZmZzZXQpLHcuYWRkUmFuZ2UoYikpKSkpLGI9W107Zm9yKHc9eDt3PXcucGFyZW50Tm9kZTspMT09PXcubm9kZVR5cGUmJmIucHVzaCh7ZWxlbWVudDp3LGxlZnQ6dy5zY3JvbGxMZWZ0LHRvcDp3LnNjcm9sbFRvcH0pO2ZvcihcImZ1bmN0aW9uXCI9PXR5cGVvZiB4LmZvY3VzJiZ4LmZvY3VzKCkseD0wO3g8Yi5sZW5ndGg7eCsrKSh3PWJbeF0pLmVsZW1lbnQuc2Nyb2xsTGVmdD13LmxlZnQsdy5lbGVtZW50LnNjcm9sbFRvcD13LnRvcH1xdD0hIW1uLGduPW1uPW51bGwsZS5jdXJyZW50PW4sT3M9cjtkb3t0cnl7Zm9yKHg9ZTtudWxsIT09T3M7KXt2YXIgVD1Pcy5lZmZlY3RUYWc7aWYoMzYmVCYmb3MoeCxPcy5hbHRlcm5hdGUsT3MpLDEyOCZUKXtiPXZvaWQgMDt2YXIgRT1Pcy5yZWY7aWYobnVsbCE9PUUpe3ZhciBTPU9zLnN0YXRlTm9kZTtzd2l0Y2goT3MudGFnKXtjYXNlIDU6Yj1TO2JyZWFrO2RlZmF1bHQ6Yj1TfVwiZnVuY3Rpb25cIj09dHlwZW9mIEU/RShiKTpFLmN1cnJlbnQ9Yn19T3M9T3MubmV4dEVmZmVjdH19Y2F0Y2goZSl7aWYobnVsbD09PU9zKXRocm93IEVycm9yKGEoMzMwKSk7X2woT3MsZSksT3M9T3MubmV4dEVmZmVjdH19d2hpbGUobnVsbCE9PU9zKTtPcz1udWxsLExyKCksVHM9b31lbHNlIGUuY3VycmVudD1uO2lmKEZzKUZzPSExLE5zPWUsVXM9dDtlbHNlIGZvcihPcz1yO251bGwhPT1PczspdD1Pcy5uZXh0RWZmZWN0LE9zLm5leHRFZmZlY3Q9bnVsbCxPcz10O2lmKDA9PT0odD1lLmZpcnN0UGVuZGluZ1RpbWUpJiYoanM9bnVsbCksMTA3Mzc0MTgyMz09PXQ/ZT09PVpzP0dzKys6KEdzPTAsWnM9ZSk6R3M9MCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBibCYmYmwobi5zdGF0ZU5vZGUsaSksSnMoZSksUnMpdGhyb3cgUnM9ITEsZT1CcyxCcz1udWxsLGU7cmV0dXJuIDAhPSg4JlRzKXx8V3IoKSxudWxsfWZ1bmN0aW9uIGZsKCl7Zm9yKDtudWxsIT09T3M7KXt2YXIgZT1Pcy5lZmZlY3RUYWc7MCE9KDI1NiZlKSYmbnMoT3MuYWx0ZXJuYXRlLE9zKSwwPT0oNTEyJmUpfHxGc3x8KEZzPSEwLEdyKDk3LChmdW5jdGlvbigpe3JldHVybiBtbCgpLG51bGx9KSkpLE9zPU9zLm5leHRFZmZlY3R9fWZ1bmN0aW9uIG1sKCl7aWYoOTAhPT1Vcyl7dmFyIGU9OTc8VXM/OTc6VXM7cmV0dXJuIFVzPTkwLFZyKGUsZ2wpfX1mdW5jdGlvbiBnbCgpe2lmKG51bGw9PT1OcylyZXR1cm4hMTt2YXIgZT1OcztpZihOcz1udWxsLDAhPSg0OCZUcykpdGhyb3cgRXJyb3IoYSgzMzEpKTt2YXIgdD1Ucztmb3IoVHN8PTMyLGU9ZS5jdXJyZW50LmZpcnN0RWZmZWN0O251bGwhPT1lOyl7dHJ5e3ZhciBuPWU7aWYoMCE9KDUxMiZuLmVmZmVjdFRhZykpc3dpdGNoKG4udGFnKXtjYXNlIDA6Y2FzZSAxMTpjYXNlIDE1OmNhc2UgMjI6aXMoNSxuKSxycyg1LG4pfX1jYXRjaCh0KXtpZihudWxsPT09ZSl0aHJvdyBFcnJvcihhKDMzMCkpO19sKGUsdCl9bj1lLm5leHRFZmZlY3QsZS5uZXh0RWZmZWN0PW51bGwsZT1ufXJldHVybiBUcz10LFdyKCksITB9ZnVuY3Rpb24geWwoZSx0LG4pe2xvKGUsdD1mcyhlLHQ9UWEobix0KSwxMDczNzQxODIzKSksbnVsbCE9PShlPVhzKGUsMTA3Mzc0MTgyMykpJiZKcyhlKX1mdW5jdGlvbiBfbChlLHQpe2lmKDM9PT1lLnRhZyl5bChlLGUsdCk7ZWxzZSBmb3IodmFyIG49ZS5yZXR1cm47bnVsbCE9PW47KXtpZigzPT09bi50YWcpe3lsKG4sZSx0KTticmVha31pZigxPT09bi50YWcpe3ZhciBpPW4uc3RhdGVOb2RlO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4udHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3J8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGkuY29tcG9uZW50RGlkQ2F0Y2gmJihudWxsPT09anN8fCFqcy5oYXMoaSkpKXtsbyhuLGU9bXMobixlPVFhKHQsZSksMTA3Mzc0MTgyMykpLG51bGwhPT0obj1YcyhuLDEwNzM3NDE4MjMpKSYmSnMobik7YnJlYWt9fW49bi5yZXR1cm59fWZ1bmN0aW9uIHZsKGUsdCxuKXt2YXIgaT1lLnBpbmdDYWNoZTtudWxsIT09aSYmaS5kZWxldGUodCksRXM9PT1lJiZNcz09PW4/SXM9PT13c3x8SXM9PT1icyYmMTA3Mzc0MTgyMz09PWtzJiZGcigpLUxzPDUwMD9ubChlLE1zKTpEcz0hMDp6bChlLG4pJiYoMCE9PSh0PWUubGFzdFBpbmdlZFRpbWUpJiZ0PG58fChlLmxhc3RQaW5nZWRUaW1lPW4sSnMoZSkpKX1mdW5jdGlvbiB4bChlLHQpe3ZhciBuPWUuc3RhdGVOb2RlO251bGwhPT1uJiZuLmRlbGV0ZSh0KSwwPT09KHQ9MCkmJih0PSRzKHQ9cXMoKSxlLG51bGwpKSxudWxsIT09KGU9WHMoZSx0KSkmJkpzKGUpfWdzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10LmV4cGlyYXRpb25UaW1lO2lmKG51bGwhPT1lKXt2YXIgcj10LnBlbmRpbmdQcm9wcztpZihlLm1lbW9pemVkUHJvcHMhPT1yfHxkci5jdXJyZW50KUFhPSEwO2Vsc2V7aWYoaTxuKXtzd2l0Y2goQWE9ITEsdC50YWcpe2Nhc2UgMzpGYSh0KSxDYSgpO2JyZWFrO2Nhc2UgNTppZihMbyh0KSw0JnQubW9kZSYmMSE9PW4mJnIuaGlkZGVuKXJldHVybiB0LmV4cGlyYXRpb25UaW1lPXQuY2hpbGRFeHBpcmF0aW9uVGltZT0xLG51bGw7YnJlYWs7Y2FzZSAxOm1yKHQudHlwZSkmJnZyKHQpO2JyZWFrO2Nhc2UgNDp6byh0LHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pO2JyZWFrO2Nhc2UgMTA6aT10Lm1lbW9pemVkUHJvcHMudmFsdWUscj10LnR5cGUuX2NvbnRleHQsY3IoWHIsci5fY3VycmVudFZhbHVlKSxyLl9jdXJyZW50VmFsdWU9aTticmVhaztjYXNlIDEzOmlmKG51bGwhPT10Lm1lbW9pemVkU3RhdGUpcmV0dXJuIDAhPT0oaT10LmNoaWxkLmNoaWxkRXhwaXJhdGlvblRpbWUpJiZpPj1uP1phKGUsdCxuKTooY3IoUm8sMSZSby5jdXJyZW50KSxudWxsIT09KHQ9SGEoZSx0LG4pKT90LnNpYmxpbmc6bnVsbCk7Y3IoUm8sMSZSby5jdXJyZW50KTticmVhaztjYXNlIDE5OmlmKGk9dC5jaGlsZEV4cGlyYXRpb25UaW1lPj1uLDAhPSg2NCZlLmVmZmVjdFRhZykpe2lmKGkpcmV0dXJuICRhKGUsdCxuKTt0LmVmZmVjdFRhZ3w9NjR9aWYobnVsbCE9PShyPXQubWVtb2l6ZWRTdGF0ZSkmJihyLnJlbmRlcmluZz1udWxsLHIudGFpbD1udWxsKSxjcihSbyxSby5jdXJyZW50KSwhaSlyZXR1cm4gbnVsbH1yZXR1cm4gSGEoZSx0LG4pfUFhPSExfX1lbHNlIEFhPSExO3N3aXRjaCh0LmV4cGlyYXRpb25UaW1lPTAsdC50YWcpe2Nhc2UgMjppZihpPXQudHlwZSxudWxsIT09ZSYmKGUuYWx0ZXJuYXRlPW51bGwsdC5hbHRlcm5hdGU9bnVsbCx0LmVmZmVjdFRhZ3w9MiksZT10LnBlbmRpbmdQcm9wcyxyPWZyKHQsaHIuY3VycmVudCksbm8odCxuKSxyPUhvKG51bGwsdCxpLGUscixuKSx0LmVmZmVjdFRhZ3w9MSxcIm9iamVjdFwiPT10eXBlb2YgciYmbnVsbCE9PXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIucmVuZGVyJiZ2b2lkIDA9PT1yLiQkdHlwZW9mKXtpZih0LnRhZz0xLHQubWVtb2l6ZWRTdGF0ZT1udWxsLHQudXBkYXRlUXVldWU9bnVsbCxtcihpKSl7dmFyIG89ITA7dnIodCl9ZWxzZSBvPSExO3QubWVtb2l6ZWRTdGF0ZT1udWxsIT09ci5zdGF0ZSYmdm9pZCAwIT09ci5zdGF0ZT9yLnN0YXRlOm51bGwsb28odCk7dmFyIHM9aS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XCJmdW5jdGlvblwiPT10eXBlb2YgcyYmbW8odCxpLHMsZSksci51cGRhdGVyPWdvLHQuc3RhdGVOb2RlPXIsci5fcmVhY3RJbnRlcm5hbEZpYmVyPXQseG8odCxpLGUsbiksdD1qYShudWxsLHQsaSwhMCxvLG4pfWVsc2UgdC50YWc9MCxQYShudWxsLHQscixuKSx0PXQuY2hpbGQ7cmV0dXJuIHQ7Y2FzZSAxNjplOntpZihyPXQuZWxlbWVudFR5cGUsbnVsbCE9PWUmJihlLmFsdGVybmF0ZT1udWxsLHQuYWx0ZXJuYXRlPW51bGwsdC5lZmZlY3RUYWd8PTIpLGU9dC5wZW5kaW5nUHJvcHMsZnVuY3Rpb24oZSl7aWYoLTE9PT1lLl9zdGF0dXMpe2UuX3N0YXR1cz0wO3ZhciB0PWUuX2N0b3I7dD10KCksZS5fcmVzdWx0PXQsdC50aGVuKChmdW5jdGlvbih0KXswPT09ZS5fc3RhdHVzJiYodD10LmRlZmF1bHQsZS5fc3RhdHVzPTEsZS5fcmVzdWx0PXQpfSksKGZ1bmN0aW9uKHQpezA9PT1lLl9zdGF0dXMmJihlLl9zdGF0dXM9MixlLl9yZXN1bHQ9dCl9KSl9fShyKSwxIT09ci5fc3RhdHVzKXRocm93IHIuX3Jlc3VsdDtzd2l0Y2gocj1yLl9yZXN1bHQsdC50eXBlPXIsbz10LnRhZz1mdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBTbChlKT8xOjA7aWYobnVsbCE9ZSl7aWYoKGU9ZS4kJHR5cGVvZik9PT1sZSlyZXR1cm4gMTE7aWYoZT09PWhlKXJldHVybiAxNH1yZXR1cm4gMn0ociksZT1IcihyLGUpLG8pe2Nhc2UgMDp0PVJhKG51bGwsdCxyLGUsbik7YnJlYWsgZTtjYXNlIDE6dD1CYShudWxsLHQscixlLG4pO2JyZWFrIGU7Y2FzZSAxMTp0PXphKG51bGwsdCxyLGUsbik7YnJlYWsgZTtjYXNlIDE0OnQ9RGEobnVsbCx0LHIsSHIoci50eXBlLGUpLGksbik7YnJlYWsgZX10aHJvdyBFcnJvcihhKDMwNixyLFwiXCIpKX1yZXR1cm4gdDtjYXNlIDA6cmV0dXJuIGk9dC50eXBlLHI9dC5wZW5kaW5nUHJvcHMsUmEoZSx0LGkscj10LmVsZW1lbnRUeXBlPT09aT9yOkhyKGksciksbik7Y2FzZSAxOnJldHVybiBpPXQudHlwZSxyPXQucGVuZGluZ1Byb3BzLEJhKGUsdCxpLHI9dC5lbGVtZW50VHlwZT09PWk/cjpIcihpLHIpLG4pO2Nhc2UgMzppZihGYSh0KSxpPXQudXBkYXRlUXVldWUsbnVsbD09PWV8fG51bGw9PT1pKXRocm93IEVycm9yKGEoMjgyKSk7aWYoaT10LnBlbmRpbmdQcm9wcyxyPW51bGwhPT0ocj10Lm1lbW9pemVkU3RhdGUpP3IuZWxlbWVudDpudWxsLGFvKGUsdCksdW8odCxpLG51bGwsbiksKGk9dC5tZW1vaXplZFN0YXRlLmVsZW1lbnQpPT09cilDYSgpLHQ9SGEoZSx0LG4pO2Vsc2V7aWYoKHI9dC5zdGF0ZU5vZGUuaHlkcmF0ZSkmJihiYT1ibih0LnN0YXRlTm9kZS5jb250YWluZXJJbmZvLmZpcnN0Q2hpbGQpLHhhPXQscj13YT0hMCkscilmb3Iobj1Nbyh0LG51bGwsaSxuKSx0LmNoaWxkPW47bjspbi5lZmZlY3RUYWc9LTMmbi5lZmZlY3RUYWd8MTAyNCxuPW4uc2libGluZztlbHNlIFBhKGUsdCxpLG4pLENhKCk7dD10LmNoaWxkfXJldHVybiB0O2Nhc2UgNTpyZXR1cm4gTG8odCksbnVsbD09PWUmJlNhKHQpLGk9dC50eXBlLHI9dC5wZW5kaW5nUHJvcHMsbz1udWxsIT09ZT9lLm1lbW9pemVkUHJvcHM6bnVsbCxzPXIuY2hpbGRyZW4sX24oaSxyKT9zPW51bGw6bnVsbCE9PW8mJl9uKGksbykmJih0LmVmZmVjdFRhZ3w9MTYpLE9hKGUsdCksNCZ0Lm1vZGUmJjEhPT1uJiZyLmhpZGRlbj8odC5leHBpcmF0aW9uVGltZT10LmNoaWxkRXhwaXJhdGlvblRpbWU9MSx0PW51bGwpOihQYShlLHQscyxuKSx0PXQuY2hpbGQpLHQ7Y2FzZSA2OnJldHVybiBudWxsPT09ZSYmU2EodCksbnVsbDtjYXNlIDEzOnJldHVybiBaYShlLHQsbik7Y2FzZSA0OnJldHVybiB6byh0LHQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8pLGk9dC5wZW5kaW5nUHJvcHMsbnVsbD09PWU/dC5jaGlsZD1Tbyh0LG51bGwsaSxuKTpQYShlLHQsaSxuKSx0LmNoaWxkO2Nhc2UgMTE6cmV0dXJuIGk9dC50eXBlLHI9dC5wZW5kaW5nUHJvcHMsemEoZSx0LGkscj10LmVsZW1lbnRUeXBlPT09aT9yOkhyKGksciksbik7Y2FzZSA3OnJldHVybiBQYShlLHQsdC5wZW5kaW5nUHJvcHMsbiksdC5jaGlsZDtjYXNlIDg6Y2FzZSAxMjpyZXR1cm4gUGEoZSx0LHQucGVuZGluZ1Byb3BzLmNoaWxkcmVuLG4pLHQuY2hpbGQ7Y2FzZSAxMDplOntpPXQudHlwZS5fY29udGV4dCxyPXQucGVuZGluZ1Byb3BzLHM9dC5tZW1vaXplZFByb3BzLG89ci52YWx1ZTt2YXIgbD10LnR5cGUuX2NvbnRleHQ7aWYoY3IoWHIsbC5fY3VycmVudFZhbHVlKSxsLl9jdXJyZW50VmFsdWU9byxudWxsIT09cylpZihsPXMudmFsdWUsMD09PShvPUJpKGwsbyk/MDowfChcImZ1bmN0aW9uXCI9PXR5cGVvZiBpLl9jYWxjdWxhdGVDaGFuZ2VkQml0cz9pLl9jYWxjdWxhdGVDaGFuZ2VkQml0cyhsLG8pOjEwNzM3NDE4MjMpKSl7aWYocy5jaGlsZHJlbj09PXIuY2hpbGRyZW4mJiFkci5jdXJyZW50KXt0PUhhKGUsdCxuKTticmVhayBlfX1lbHNlIGZvcihudWxsIT09KGw9dC5jaGlsZCkmJihsLnJldHVybj10KTtudWxsIT09bDspe3ZhciBjPWwuZGVwZW5kZW5jaWVzO2lmKG51bGwhPT1jKXtzPWwuY2hpbGQ7Zm9yKHZhciB1PWMuZmlyc3RDb250ZXh0O251bGwhPT11Oyl7aWYodS5jb250ZXh0PT09aSYmMCE9KHUub2JzZXJ2ZWRCaXRzJm8pKXsxPT09bC50YWcmJigodT1zbyhuLG51bGwpKS50YWc9MixsbyhsLHUpKSxsLmV4cGlyYXRpb25UaW1lPG4mJihsLmV4cGlyYXRpb25UaW1lPW4pLG51bGwhPT0odT1sLmFsdGVybmF0ZSkmJnUuZXhwaXJhdGlvblRpbWU8biYmKHUuZXhwaXJhdGlvblRpbWU9biksdG8obC5yZXR1cm4sbiksYy5leHBpcmF0aW9uVGltZTxuJiYoYy5leHBpcmF0aW9uVGltZT1uKTticmVha311PXUubmV4dH19ZWxzZSBzPTEwPT09bC50YWcmJmwudHlwZT09PXQudHlwZT9udWxsOmwuY2hpbGQ7aWYobnVsbCE9PXMpcy5yZXR1cm49bDtlbHNlIGZvcihzPWw7bnVsbCE9PXM7KXtpZihzPT09dCl7cz1udWxsO2JyZWFrfWlmKG51bGwhPT0obD1zLnNpYmxpbmcpKXtsLnJldHVybj1zLnJldHVybixzPWw7YnJlYWt9cz1zLnJldHVybn1sPXN9UGEoZSx0LHIuY2hpbGRyZW4sbiksdD10LmNoaWxkfXJldHVybiB0O2Nhc2UgOTpyZXR1cm4gcj10LnR5cGUsaT0obz10LnBlbmRpbmdQcm9wcykuY2hpbGRyZW4sbm8odCxuKSxpPWkocj1pbyhyLG8udW5zdGFibGVfb2JzZXJ2ZWRCaXRzKSksdC5lZmZlY3RUYWd8PTEsUGEoZSx0LGksbiksdC5jaGlsZDtjYXNlIDE0OnJldHVybiBvPUhyKHI9dC50eXBlLHQucGVuZGluZ1Byb3BzKSxEYShlLHQscixvPUhyKHIudHlwZSxvKSxpLG4pO2Nhc2UgMTU6cmV0dXJuIExhKGUsdCx0LnR5cGUsdC5wZW5kaW5nUHJvcHMsaSxuKTtjYXNlIDE3OnJldHVybiBpPXQudHlwZSxyPXQucGVuZGluZ1Byb3BzLHI9dC5lbGVtZW50VHlwZT09PWk/cjpIcihpLHIpLG51bGwhPT1lJiYoZS5hbHRlcm5hdGU9bnVsbCx0LmFsdGVybmF0ZT1udWxsLHQuZWZmZWN0VGFnfD0yKSx0LnRhZz0xLG1yKGkpPyhlPSEwLHZyKHQpKTplPSExLG5vKHQsbiksX28odCxpLHIpLHhvKHQsaSxyLG4pLGphKG51bGwsdCxpLCEwLGUsbik7Y2FzZSAxOTpyZXR1cm4gJGEoZSx0LG4pfXRocm93IEVycm9yKGEoMTU2LHQudGFnKSl9O3ZhciBibD1udWxsLHdsPW51bGw7ZnVuY3Rpb24gVGwoZSx0LG4saSl7dGhpcy50YWc9ZSx0aGlzLmtleT1uLHRoaXMuc2libGluZz10aGlzLmNoaWxkPXRoaXMucmV0dXJuPXRoaXMuc3RhdGVOb2RlPXRoaXMudHlwZT10aGlzLmVsZW1lbnRUeXBlPW51bGwsdGhpcy5pbmRleD0wLHRoaXMucmVmPW51bGwsdGhpcy5wZW5kaW5nUHJvcHM9dCx0aGlzLmRlcGVuZGVuY2llcz10aGlzLm1lbW9pemVkU3RhdGU9dGhpcy51cGRhdGVRdWV1ZT10aGlzLm1lbW9pemVkUHJvcHM9bnVsbCx0aGlzLm1vZGU9aSx0aGlzLmVmZmVjdFRhZz0wLHRoaXMubGFzdEVmZmVjdD10aGlzLmZpcnN0RWZmZWN0PXRoaXMubmV4dEVmZmVjdD1udWxsLHRoaXMuY2hpbGRFeHBpcmF0aW9uVGltZT10aGlzLmV4cGlyYXRpb25UaW1lPTAsdGhpcy5hbHRlcm5hdGU9bnVsbH1mdW5jdGlvbiBFbChlLHQsbixpKXtyZXR1cm4gbmV3IFRsKGUsdCxuLGkpfWZ1bmN0aW9uIFNsKGUpe3JldHVybiEoIShlPWUucHJvdG90eXBlKXx8IWUuaXNSZWFjdENvbXBvbmVudCl9ZnVuY3Rpb24gTWwoZSx0KXt2YXIgbj1lLmFsdGVybmF0ZTtyZXR1cm4gbnVsbD09PW4/KChuPUVsKGUudGFnLHQsZS5rZXksZS5tb2RlKSkuZWxlbWVudFR5cGU9ZS5lbGVtZW50VHlwZSxuLnR5cGU9ZS50eXBlLG4uc3RhdGVOb2RlPWUuc3RhdGVOb2RlLG4uYWx0ZXJuYXRlPWUsZS5hbHRlcm5hdGU9bik6KG4ucGVuZGluZ1Byb3BzPXQsbi5lZmZlY3RUYWc9MCxuLm5leHRFZmZlY3Q9bnVsbCxuLmZpcnN0RWZmZWN0PW51bGwsbi5sYXN0RWZmZWN0PW51bGwpLG4uY2hpbGRFeHBpcmF0aW9uVGltZT1lLmNoaWxkRXhwaXJhdGlvblRpbWUsbi5leHBpcmF0aW9uVGltZT1lLmV4cGlyYXRpb25UaW1lLG4uY2hpbGQ9ZS5jaGlsZCxuLm1lbW9pemVkUHJvcHM9ZS5tZW1vaXplZFByb3BzLG4ubWVtb2l6ZWRTdGF0ZT1lLm1lbW9pemVkU3RhdGUsbi51cGRhdGVRdWV1ZT1lLnVwZGF0ZVF1ZXVlLHQ9ZS5kZXBlbmRlbmNpZXMsbi5kZXBlbmRlbmNpZXM9bnVsbD09PXQ/bnVsbDp7ZXhwaXJhdGlvblRpbWU6dC5leHBpcmF0aW9uVGltZSxmaXJzdENvbnRleHQ6dC5maXJzdENvbnRleHQscmVzcG9uZGVyczp0LnJlc3BvbmRlcnN9LG4uc2libGluZz1lLnNpYmxpbmcsbi5pbmRleD1lLmluZGV4LG4ucmVmPWUucmVmLG59ZnVuY3Rpb24gSWwoZSx0LG4saSxyLG8pe3ZhciBzPTI7aWYoaT1lLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpU2woZSkmJihzPTEpO2Vsc2UgaWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcz01O2Vsc2UgZTpzd2l0Y2goZSl7Y2FzZSBuZTpyZXR1cm4gQ2wobi5jaGlsZHJlbixyLG8sdCk7Y2FzZSBzZTpzPTgscnw9NzticmVhaztjYXNlIGllOnM9OCxyfD0xO2JyZWFrO2Nhc2UgcmU6cmV0dXJuKGU9RWwoMTIsbix0LDh8cikpLmVsZW1lbnRUeXBlPXJlLGUudHlwZT1yZSxlLmV4cGlyYXRpb25UaW1lPW8sZTtjYXNlIGNlOnJldHVybihlPUVsKDEzLG4sdCxyKSkudHlwZT1jZSxlLmVsZW1lbnRUeXBlPWNlLGUuZXhwaXJhdGlvblRpbWU9byxlO2Nhc2UgdWU6cmV0dXJuKGU9RWwoMTksbix0LHIpKS5lbGVtZW50VHlwZT11ZSxlLmV4cGlyYXRpb25UaW1lPW8sZTtkZWZhdWx0OmlmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSlzd2l0Y2goZS4kJHR5cGVvZil7Y2FzZSBvZTpzPTEwO2JyZWFrIGU7Y2FzZSBhZTpzPTk7YnJlYWsgZTtjYXNlIGxlOnM9MTE7YnJlYWsgZTtjYXNlIGhlOnM9MTQ7YnJlYWsgZTtjYXNlIGRlOnM9MTYsaT1udWxsO2JyZWFrIGU7Y2FzZSBwZTpzPTIyO2JyZWFrIGV9dGhyb3cgRXJyb3IoYSgxMzAsbnVsbD09ZT9lOnR5cGVvZiBlLFwiXCIpKX1yZXR1cm4odD1FbChzLG4sdCxyKSkuZWxlbWVudFR5cGU9ZSx0LnR5cGU9aSx0LmV4cGlyYXRpb25UaW1lPW8sdH1mdW5jdGlvbiBDbChlLHQsbixpKXtyZXR1cm4oZT1FbCg3LGUsaSx0KSkuZXhwaXJhdGlvblRpbWU9bixlfWZ1bmN0aW9uIGtsKGUsdCxuKXtyZXR1cm4oZT1FbCg2LGUsbnVsbCx0KSkuZXhwaXJhdGlvblRpbWU9bixlfWZ1bmN0aW9uIEFsKGUsdCxuKXtyZXR1cm4odD1FbCg0LG51bGwhPT1lLmNoaWxkcmVuP2UuY2hpbGRyZW46W10sZS5rZXksdCkpLmV4cGlyYXRpb25UaW1lPW4sdC5zdGF0ZU5vZGU9e2NvbnRhaW5lckluZm86ZS5jb250YWluZXJJbmZvLHBlbmRpbmdDaGlsZHJlbjpudWxsLGltcGxlbWVudGF0aW9uOmUuaW1wbGVtZW50YXRpb259LHR9ZnVuY3Rpb24gUGwoZSx0LG4pe3RoaXMudGFnPXQsdGhpcy5jdXJyZW50PW51bGwsdGhpcy5jb250YWluZXJJbmZvPWUsdGhpcy5waW5nQ2FjaGU9dGhpcy5wZW5kaW5nQ2hpbGRyZW49bnVsbCx0aGlzLmZpbmlzaGVkRXhwaXJhdGlvblRpbWU9MCx0aGlzLmZpbmlzaGVkV29yaz1udWxsLHRoaXMudGltZW91dEhhbmRsZT0tMSx0aGlzLnBlbmRpbmdDb250ZXh0PXRoaXMuY29udGV4dD1udWxsLHRoaXMuaHlkcmF0ZT1uLHRoaXMuY2FsbGJhY2tOb2RlPW51bGwsdGhpcy5jYWxsYmFja1ByaW9yaXR5PTkwLHRoaXMubGFzdEV4cGlyZWRUaW1lPXRoaXMubGFzdFBpbmdlZFRpbWU9dGhpcy5uZXh0S25vd25QZW5kaW5nTGV2ZWw9dGhpcy5sYXN0U3VzcGVuZGVkVGltZT10aGlzLmZpcnN0U3VzcGVuZGVkVGltZT10aGlzLmZpcnN0UGVuZGluZ1RpbWU9MH1mdW5jdGlvbiB6bChlLHQpe3ZhciBuPWUuZmlyc3RTdXNwZW5kZWRUaW1lO3JldHVybiBlPWUubGFzdFN1c3BlbmRlZFRpbWUsMCE9PW4mJm4+PXQmJmU8PXR9ZnVuY3Rpb24gRGwoZSx0KXt2YXIgbj1lLmZpcnN0U3VzcGVuZGVkVGltZSxpPWUubGFzdFN1c3BlbmRlZFRpbWU7bjx0JiYoZS5maXJzdFN1c3BlbmRlZFRpbWU9dCksKGk+dHx8MD09PW4pJiYoZS5sYXN0U3VzcGVuZGVkVGltZT10KSx0PD1lLmxhc3RQaW5nZWRUaW1lJiYoZS5sYXN0UGluZ2VkVGltZT0wKSx0PD1lLmxhc3RFeHBpcmVkVGltZSYmKGUubGFzdEV4cGlyZWRUaW1lPTApfWZ1bmN0aW9uIExsKGUsdCl7dD5lLmZpcnN0UGVuZGluZ1RpbWUmJihlLmZpcnN0UGVuZGluZ1RpbWU9dCk7dmFyIG49ZS5maXJzdFN1c3BlbmRlZFRpbWU7MCE9PW4mJih0Pj1uP2UuZmlyc3RTdXNwZW5kZWRUaW1lPWUubGFzdFN1c3BlbmRlZFRpbWU9ZS5uZXh0S25vd25QZW5kaW5nTGV2ZWw9MDp0Pj1lLmxhc3RTdXNwZW5kZWRUaW1lJiYoZS5sYXN0U3VzcGVuZGVkVGltZT10KzEpLHQ+ZS5uZXh0S25vd25QZW5kaW5nTGV2ZWwmJihlLm5leHRLbm93blBlbmRpbmdMZXZlbD10KSl9ZnVuY3Rpb24gT2woZSx0KXt2YXIgbj1lLmxhc3RFeHBpcmVkVGltZTsoMD09PW58fG4+dCkmJihlLmxhc3RFeHBpcmVkVGltZT10KX1mdW5jdGlvbiBSbChlLHQsbixpKXt2YXIgcj10LmN1cnJlbnQsbz1xcygpLHM9cG8uc3VzcGVuc2U7bz0kcyhvLHIscyk7ZTppZihuKXt0OntpZihLZShuPW4uX3JlYWN0SW50ZXJuYWxGaWJlcikhPT1ufHwxIT09bi50YWcpdGhyb3cgRXJyb3IoYSgxNzApKTt2YXIgbD1uO2Rve3N3aXRjaChsLnRhZyl7Y2FzZSAzOmw9bC5zdGF0ZU5vZGUuY29udGV4dDticmVhayB0O2Nhc2UgMTppZihtcihsLnR5cGUpKXtsPWwuc3RhdGVOb2RlLl9fcmVhY3RJbnRlcm5hbE1lbW9pemVkTWVyZ2VkQ2hpbGRDb250ZXh0O2JyZWFrIHR9fWw9bC5yZXR1cm59d2hpbGUobnVsbCE9PWwpO3Rocm93IEVycm9yKGEoMTcxKSl9aWYoMT09PW4udGFnKXt2YXIgYz1uLnR5cGU7aWYobXIoYykpe249X3IobixjLGwpO2JyZWFrIGV9fW49bH1lbHNlIG49dXI7cmV0dXJuIG51bGw9PT10LmNvbnRleHQ/dC5jb250ZXh0PW46dC5wZW5kaW5nQ29udGV4dD1uLCh0PXNvKG8scykpLnBheWxvYWQ9e2VsZW1lbnQ6ZX0sbnVsbCE9PShpPXZvaWQgMD09PWk/bnVsbDppKSYmKHQuY2FsbGJhY2s9aSksbG8ocix0KSxIcyhyLG8pLG99ZnVuY3Rpb24gQmwoZSl7aWYoIShlPWUuY3VycmVudCkuY2hpbGQpcmV0dXJuIG51bGw7c3dpdGNoKGUuY2hpbGQudGFnKXtjYXNlIDU6ZGVmYXVsdDpyZXR1cm4gZS5jaGlsZC5zdGF0ZU5vZGV9fWZ1bmN0aW9uIGpsKGUsdCl7bnVsbCE9PShlPWUubWVtb2l6ZWRTdGF0ZSkmJm51bGwhPT1lLmRlaHlkcmF0ZWQmJmUucmV0cnlUaW1lPHQmJihlLnJldHJ5VGltZT10KX1mdW5jdGlvbiBGbChlLHQpe2psKGUsdCksKGU9ZS5hbHRlcm5hdGUpJiZqbChlLHQpfWZ1bmN0aW9uIE5sKGUsdCxuKXt2YXIgaT1uZXcgUGwoZSx0LG49bnVsbCE9biYmITA9PT1uLmh5ZHJhdGUpLHI9RWwoMyxudWxsLG51bGwsMj09PXQ/NzoxPT09dD8zOjApO2kuY3VycmVudD1yLHIuc3RhdGVOb2RlPWksb28ociksZVtNbl09aS5jdXJyZW50LG4mJjAhPT10JiZmdW5jdGlvbihlLHQpe3ZhciBuPVFlKHQpO010LmZvckVhY2goKGZ1bmN0aW9uKGUpe2Z0KGUsdCxuKX0pKSxJdC5mb3JFYWNoKChmdW5jdGlvbihlKXtmdChlLHQsbil9KSl9KDAsOT09PWUubm9kZVR5cGU/ZTplLm93bmVyRG9jdW1lbnQpLHRoaXMuX2ludGVybmFsUm9vdD1pfWZ1bmN0aW9uIFVsKGUpe3JldHVybiEoIWV8fDEhPT1lLm5vZGVUeXBlJiY5IT09ZS5ub2RlVHlwZSYmMTEhPT1lLm5vZGVUeXBlJiYoOCE9PWUubm9kZVR5cGV8fFwiIHJlYWN0LW1vdW50LXBvaW50LXVuc3RhYmxlIFwiIT09ZS5ub2RlVmFsdWUpKX1mdW5jdGlvbiBWbChlLHQsbixpLHIpe3ZhciBvPW4uX3JlYWN0Um9vdENvbnRhaW5lcjtpZihvKXt2YXIgYT1vLl9pbnRlcm5hbFJvb3Q7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygcil7dmFyIHM9cjtyPWZ1bmN0aW9uKCl7dmFyIGU9QmwoYSk7cy5jYWxsKGUpfX1SbCh0LGEsZSxyKX1lbHNle2lmKG89bi5fcmVhY3RSb290Q29udGFpbmVyPWZ1bmN0aW9uKGUsdCl7aWYodHx8KHQ9ISghKHQ9ZT85PT09ZS5ub2RlVHlwZT9lLmRvY3VtZW50RWxlbWVudDplLmZpcnN0Q2hpbGQ6bnVsbCl8fDEhPT10Lm5vZGVUeXBlfHwhdC5oYXNBdHRyaWJ1dGUoXCJkYXRhLXJlYWN0cm9vdFwiKSkpLCF0KWZvcih2YXIgbjtuPWUubGFzdENoaWxkOyllLnJlbW92ZUNoaWxkKG4pO3JldHVybiBuZXcgTmwoZSwwLHQ/e2h5ZHJhdGU6ITB9OnZvaWQgMCl9KG4saSksYT1vLl9pbnRlcm5hbFJvb3QsXCJmdW5jdGlvblwiPT10eXBlb2Ygcil7dmFyIGw9cjtyPWZ1bmN0aW9uKCl7dmFyIGU9QmwoYSk7bC5jYWxsKGUpfX10bCgoZnVuY3Rpb24oKXtSbCh0LGEsZSxyKX0pKX1yZXR1cm4gQmwoYSl9ZnVuY3Rpb24gR2woZSx0LG4pe3ZhciBpPTM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpudWxsO3JldHVybnskJHR5cGVvZjp0ZSxrZXk6bnVsbD09aT9udWxsOlwiXCIraSxjaGlsZHJlbjplLGNvbnRhaW5lckluZm86dCxpbXBsZW1lbnRhdGlvbjpufX1mdW5jdGlvbiBabChlLHQpe3ZhciBuPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsO2lmKCFVbCh0KSl0aHJvdyBFcnJvcihhKDIwMCkpO3JldHVybiBHbChlLHQsbnVsbCxuKX1ObC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUpe1JsKGUsdGhpcy5faW50ZXJuYWxSb290LG51bGwsbnVsbCl9LE5sLnByb3RvdHlwZS51bm1vdW50PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5faW50ZXJuYWxSb290LHQ9ZS5jb250YWluZXJJbmZvO1JsKG51bGwsZSxudWxsLChmdW5jdGlvbigpe3RbTW5dPW51bGx9KSl9LG10PWZ1bmN0aW9uKGUpe2lmKDEzPT09ZS50YWcpe3ZhciB0PSRyKHFzKCksMTUwLDEwMCk7SHMoZSx0KSxGbChlLHQpfX0sZ3Q9ZnVuY3Rpb24oZSl7MTM9PT1lLnRhZyYmKEhzKGUsMyksRmwoZSwzKSl9LHl0PWZ1bmN0aW9uKGUpe2lmKDEzPT09ZS50YWcpe3ZhciB0PXFzKCk7SHMoZSx0PSRzKHQsZSxudWxsKSksRmwoZSx0KX19LEM9ZnVuY3Rpb24oZSx0LG4pe3N3aXRjaCh0KXtjYXNlXCJpbnB1dFwiOmlmKFNlKGUsbiksdD1uLm5hbWUsXCJyYWRpb1wiPT09bi50eXBlJiZudWxsIT10KXtmb3Iobj1lO24ucGFyZW50Tm9kZTspbj1uLnBhcmVudE5vZGU7Zm9yKG49bi5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbbmFtZT1cIitKU09OLnN0cmluZ2lmeShcIlwiK3QpKyddW3R5cGU9XCJyYWRpb1wiXScpLHQ9MDt0PG4ubGVuZ3RoO3QrKyl7dmFyIGk9blt0XTtpZihpIT09ZSYmaS5mb3JtPT09ZS5mb3JtKXt2YXIgcj1BbihpKTtpZighcil0aHJvdyBFcnJvcihhKDkwKSk7YmUoaSksU2UoaSxyKX19fWJyZWFrO2Nhc2VcInRleHRhcmVhXCI6emUoZSxuKTticmVhaztjYXNlXCJzZWxlY3RcIjpudWxsIT0odD1uLnZhbHVlKSYma2UoZSwhIW4ubXVsdGlwbGUsdCwhMSl9fSxMPWVsLE89ZnVuY3Rpb24oZSx0LG4saSxyKXt2YXIgbz1UcztUc3w9NDt0cnl7cmV0dXJuIFZyKDk4LGUuYmluZChudWxsLHQsbixpLHIpKX1maW5hbGx5ezA9PT0oVHM9bykmJldyKCl9fSxSPWZ1bmN0aW9uKCl7MD09KDQ5JlRzKSYmKGZ1bmN0aW9uKCl7aWYobnVsbCE9PVZzKXt2YXIgZT1WcztWcz1udWxsLGUuZm9yRWFjaCgoZnVuY3Rpb24oZSx0KXtPbCh0LGUpLEpzKHQpfSkpLFdyKCl9fSgpLG1sKCkpfSxCPWZ1bmN0aW9uKGUsdCl7dmFyIG49VHM7VHN8PTI7dHJ5e3JldHVybiBlKHQpfWZpbmFsbHl7MD09PShUcz1uKSYmV3IoKX19O3ZhciBXbD17RXZlbnRzOltDbixrbixBbixNLFQsQm4sZnVuY3Rpb24oZSl7cnQoZSxSbil9LHosRCxKdCxzdCxtbCx7Y3VycmVudDohMX1dfTshZnVuY3Rpb24oZSl7dmFyIHQ9ZS5maW5kRmliZXJCeUhvc3RJbnN0YW5jZTsoZnVuY3Rpb24oZSl7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXylyZXR1cm4hMTt2YXIgdD1fX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX187aWYodC5pc0Rpc2FibGVkfHwhdC5zdXBwb3J0c0ZpYmVyKXJldHVybiEwO3RyeXt2YXIgbj10LmluamVjdChlKTtibD1mdW5jdGlvbihlKXt0cnl7dC5vbkNvbW1pdEZpYmVyUm9vdChuLGUsdm9pZCAwLDY0PT0oNjQmZS5jdXJyZW50LmVmZmVjdFRhZykpfWNhdGNoKGUpe319LHdsPWZ1bmN0aW9uKGUpe3RyeXt0Lm9uQ29tbWl0RmliZXJVbm1vdW50KG4sZSl9Y2F0Y2goZSl7fX19Y2F0Y2goZSl7fX0pKHIoe30sZSx7b3ZlcnJpZGVIb29rU3RhdGU6bnVsbCxvdmVycmlkZVByb3BzOm51bGwsc2V0U3VzcGVuc2VIYW5kbGVyOm51bGwsc2NoZWR1bGVVcGRhdGU6bnVsbCxjdXJyZW50RGlzcGF0Y2hlclJlZjpZLlJlYWN0Q3VycmVudERpc3BhdGNoZXIsZmluZEhvc3RJbnN0YW5jZUJ5RmliZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT0oZT1udChlKSk/bnVsbDplLnN0YXRlTm9kZX0sZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6ZnVuY3Rpb24oZSl7cmV0dXJuIHQ/dChlKTpudWxsfSxmaW5kSG9zdEluc3RhbmNlc0ZvclJlZnJlc2g6bnVsbCxzY2hlZHVsZVJlZnJlc2g6bnVsbCxzY2hlZHVsZVJvb3Q6bnVsbCxzZXRSZWZyZXNoSGFuZGxlcjpudWxsLGdldEN1cnJlbnRGaWJlcjpudWxsfSkpfSh7ZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6SW4sYnVuZGxlVHlwZTowLHZlcnNpb246XCIxNi4xNC4wXCIscmVuZGVyZXJQYWNrYWdlTmFtZTpcInJlYWN0LWRvbVwifSksdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRD1XbCx0LmNyZWF0ZVBvcnRhbD1abCx0LmZpbmRET01Ob2RlPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aWYoMT09PWUubm9kZVR5cGUpcmV0dXJuIGU7dmFyIHQ9ZS5fcmVhY3RJbnRlcm5hbEZpYmVyO2lmKHZvaWQgMD09PXQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUucmVuZGVyKXRocm93IEVycm9yKGEoMTg4KSk7dGhyb3cgRXJyb3IoYSgyNjgsT2JqZWN0LmtleXMoZSkpKX1yZXR1cm4gZT1udWxsPT09KGU9bnQodCkpP251bGw6ZS5zdGF0ZU5vZGV9LHQuZmx1c2hTeW5jPWZ1bmN0aW9uKGUsdCl7aWYoMCE9KDQ4JlRzKSl0aHJvdyBFcnJvcihhKDE4NykpO3ZhciBuPVRzO1RzfD0xO3RyeXtyZXR1cm4gVnIoOTksZS5iaW5kKG51bGwsdCkpfWZpbmFsbHl7VHM9bixXcigpfX0sdC5oeWRyYXRlPWZ1bmN0aW9uKGUsdCxuKXtpZighVWwodCkpdGhyb3cgRXJyb3IoYSgyMDApKTtyZXR1cm4gVmwobnVsbCxlLHQsITAsbil9LHQucmVuZGVyPWZ1bmN0aW9uKGUsdCxuKXtpZighVWwodCkpdGhyb3cgRXJyb3IoYSgyMDApKTtyZXR1cm4gVmwobnVsbCxlLHQsITEsbil9LHQudW5tb3VudENvbXBvbmVudEF0Tm9kZT1mdW5jdGlvbihlKXtpZighVWwoZSkpdGhyb3cgRXJyb3IoYSg0MCkpO3JldHVybiEhZS5fcmVhY3RSb290Q29udGFpbmVyJiYodGwoKGZ1bmN0aW9uKCl7VmwobnVsbCxudWxsLGUsITEsKGZ1bmN0aW9uKCl7ZS5fcmVhY3RSb290Q29udGFpbmVyPW51bGwsZVtNbl09bnVsbH0pKX0pKSwhMCl9LHQudW5zdGFibGVfYmF0Y2hlZFVwZGF0ZXM9ZWwsdC51bnN0YWJsZV9jcmVhdGVQb3J0YWw9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gWmwoZSx0LDI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTpudWxsKX0sdC51bnN0YWJsZV9yZW5kZXJTdWJ0cmVlSW50b0NvbnRhaW5lcj1mdW5jdGlvbihlLHQsbixpKXtpZighVWwobikpdGhyb3cgRXJyb3IoYSgyMDApKTtpZihudWxsPT1lfHx2b2lkIDA9PT1lLl9yZWFjdEludGVybmFsRmliZXIpdGhyb3cgRXJyb3IoYSgzOCkpO3JldHVybiBWbChlLHQsbiwhMSxpKX0sdC52ZXJzaW9uPVwiMTYuMTQuMFwifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPW4oNzIpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGkscixvLGEscztpZihcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93fHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBNZXNzYWdlQ2hhbm5lbCl7dmFyIGw9bnVsbCxjPW51bGwsdT1mdW5jdGlvbigpe2lmKG51bGwhPT1sKXRyeXt2YXIgZT10LnVuc3RhYmxlX25vdygpO2woITAsZSksbD1udWxsfWNhdGNoKGUpe3Rocm93IHNldFRpbWVvdXQodSwwKSxlfX0saD1EYXRlLm5vdygpO3QudW5zdGFibGVfbm93PWZ1bmN0aW9uKCl7cmV0dXJuIERhdGUubm93KCktaH0saT1mdW5jdGlvbihlKXtudWxsIT09bD9zZXRUaW1lb3V0KGksMCxlKToobD1lLHNldFRpbWVvdXQodSwwKSl9LHI9ZnVuY3Rpb24oZSx0KXtjPXNldFRpbWVvdXQoZSx0KX0sbz1mdW5jdGlvbigpe2NsZWFyVGltZW91dChjKX0sYT1mdW5jdGlvbigpe3JldHVybiExfSxzPXQudW5zdGFibGVfZm9yY2VGcmFtZVJhdGU9ZnVuY3Rpb24oKXt9fWVsc2V7dmFyIGQ9d2luZG93LnBlcmZvcm1hbmNlLHA9d2luZG93LkRhdGUsZj13aW5kb3cuc2V0VGltZW91dCxtPXdpbmRvdy5jbGVhclRpbWVvdXQ7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUpe3ZhciBnPXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZTtcImZ1bmN0aW9uXCIhPXR5cGVvZiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lJiZjb25zb2xlLmVycm9yKFwiVGhpcyBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUuIE1ha2Ugc3VyZSB0aGF0IHlvdSBsb2FkIGEgcG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vZmIubWUvcmVhY3QtcG9seWZpbGxzXCIpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGcmJmNvbnNvbGUuZXJyb3IoXCJUaGlzIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGNhbmNlbEFuaW1hdGlvbkZyYW1lLiBNYWtlIHN1cmUgdGhhdCB5b3UgbG9hZCBhIHBvbHlmaWxsIGluIG9sZGVyIGJyb3dzZXJzLiBodHRwczovL2ZiLm1lL3JlYWN0LXBvbHlmaWxsc1wiKX1pZihcIm9iamVjdFwiPT10eXBlb2YgZCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZC5ub3cpdC51bnN0YWJsZV9ub3c9ZnVuY3Rpb24oKXtyZXR1cm4gZC5ub3coKX07ZWxzZXt2YXIgeT1wLm5vdygpO3QudW5zdGFibGVfbm93PWZ1bmN0aW9uKCl7cmV0dXJuIHAubm93KCkteX19dmFyIF89ITEsdj1udWxsLHg9LTEsYj01LHc9MDthPWZ1bmN0aW9uKCl7cmV0dXJuIHQudW5zdGFibGVfbm93KCk+PXd9LHM9ZnVuY3Rpb24oKXt9LHQudW5zdGFibGVfZm9yY2VGcmFtZVJhdGU9ZnVuY3Rpb24oZSl7MD5lfHwxMjU8ZT9jb25zb2xlLmVycm9yKFwiZm9yY2VGcmFtZVJhdGUgdGFrZXMgYSBwb3NpdGl2ZSBpbnQgYmV0d2VlbiAwIGFuZCAxMjUsIGZvcmNpbmcgZnJhbWVyYXRlcyBoaWdoZXIgdGhhbiAxMjUgZnBzIGlzIG5vdCB1bnN1cHBvcnRlZFwiKTpiPTA8ZT9NYXRoLmZsb29yKDFlMy9lKTo1fTt2YXIgVD1uZXcgTWVzc2FnZUNoYW5uZWwsRT1ULnBvcnQyO1QucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKCl7aWYobnVsbCE9PXYpe3ZhciBlPXQudW5zdGFibGVfbm93KCk7dz1lK2I7dHJ5e3YoITAsZSk/RS5wb3N0TWVzc2FnZShudWxsKTooXz0hMSx2PW51bGwpfWNhdGNoKGUpe3Rocm93IEUucG9zdE1lc3NhZ2UobnVsbCksZX19ZWxzZSBfPSExfSxpPWZ1bmN0aW9uKGUpe3Y9ZSxffHwoXz0hMCxFLnBvc3RNZXNzYWdlKG51bGwpKX0scj1mdW5jdGlvbihlLG4pe3g9ZigoZnVuY3Rpb24oKXtlKHQudW5zdGFibGVfbm93KCkpfSksbil9LG89ZnVuY3Rpb24oKXttKHgpLHg9LTF9fWZ1bmN0aW9uIFMoZSx0KXt2YXIgbj1lLmxlbmd0aDtlLnB1c2godCk7ZTpmb3IoOzspe3ZhciBpPW4tMT4+PjEscj1lW2ldO2lmKCEodm9pZCAwIT09ciYmMDxDKHIsdCkpKWJyZWFrIGU7ZVtpXT10LGVbbl09cixuPWl9fWZ1bmN0aW9uIE0oZSl7cmV0dXJuIHZvaWQgMD09PShlPWVbMF0pP251bGw6ZX1mdW5jdGlvbiBJKGUpe3ZhciB0PWVbMF07aWYodm9pZCAwIT09dCl7dmFyIG49ZS5wb3AoKTtpZihuIT09dCl7ZVswXT1uO2U6Zm9yKHZhciBpPTAscj1lLmxlbmd0aDtpPHI7KXt2YXIgbz0yKihpKzEpLTEsYT1lW29dLHM9bysxLGw9ZVtzXTtpZih2b2lkIDAhPT1hJiYwPkMoYSxuKSl2b2lkIDAhPT1sJiYwPkMobCxhKT8oZVtpXT1sLGVbc109bixpPXMpOihlW2ldPWEsZVtvXT1uLGk9byk7ZWxzZXtpZighKHZvaWQgMCE9PWwmJjA+QyhsLG4pKSlicmVhayBlO2VbaV09bCxlW3NdPW4saT1zfX19cmV0dXJuIHR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gQyhlLHQpe3ZhciBuPWUuc29ydEluZGV4LXQuc29ydEluZGV4O3JldHVybiAwIT09bj9uOmUuaWQtdC5pZH12YXIgaz1bXSxBPVtdLFA9MSx6PW51bGwsRD0zLEw9ITEsTz0hMSxSPSExO2Z1bmN0aW9uIEIoZSl7Zm9yKHZhciB0PU0oQSk7bnVsbCE9PXQ7KXtpZihudWxsPT09dC5jYWxsYmFjaylJKEEpO2Vsc2V7aWYoISh0LnN0YXJ0VGltZTw9ZSkpYnJlYWs7SShBKSx0LnNvcnRJbmRleD10LmV4cGlyYXRpb25UaW1lLFMoayx0KX10PU0oQSl9fWZ1bmN0aW9uIGooZSl7aWYoUj0hMSxCKGUpLCFPKWlmKG51bGwhPT1NKGspKU89ITAsaShGKTtlbHNle3ZhciB0PU0oQSk7bnVsbCE9PXQmJnIoaix0LnN0YXJ0VGltZS1lKX19ZnVuY3Rpb24gRihlLG4pe089ITEsUiYmKFI9ITEsbygpKSxMPSEwO3ZhciBpPUQ7dHJ5e2ZvcihCKG4pLHo9TShrKTtudWxsIT09eiYmKCEoei5leHBpcmF0aW9uVGltZT5uKXx8ZSYmIWEoKSk7KXt2YXIgcz16LmNhbGxiYWNrO2lmKG51bGwhPT1zKXt6LmNhbGxiYWNrPW51bGwsRD16LnByaW9yaXR5TGV2ZWw7dmFyIGw9cyh6LmV4cGlyYXRpb25UaW1lPD1uKTtuPXQudW5zdGFibGVfbm93KCksXCJmdW5jdGlvblwiPT10eXBlb2YgbD96LmNhbGxiYWNrPWw6ej09PU0oaykmJkkoayksQihuKX1lbHNlIEkoayk7ej1NKGspfWlmKG51bGwhPT16KXZhciBjPSEwO2Vsc2V7dmFyIHU9TShBKTtudWxsIT09dSYmcihqLHUuc3RhcnRUaW1lLW4pLGM9ITF9cmV0dXJuIGN9ZmluYWxseXt6PW51bGwsRD1pLEw9ITF9fWZ1bmN0aW9uIE4oZSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4tMTtjYXNlIDI6cmV0dXJuIDI1MDtjYXNlIDU6cmV0dXJuIDEwNzM3NDE4MjM7Y2FzZSA0OnJldHVybiAxZTQ7ZGVmYXVsdDpyZXR1cm4gNWUzfX12YXIgVT1zO3QudW5zdGFibGVfSWRsZVByaW9yaXR5PTUsdC51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eT0xLHQudW5zdGFibGVfTG93UHJpb3JpdHk9NCx0LnVuc3RhYmxlX05vcm1hbFByaW9yaXR5PTMsdC51bnN0YWJsZV9Qcm9maWxpbmc9bnVsbCx0LnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5PTIsdC51bnN0YWJsZV9jYW5jZWxDYWxsYmFjaz1mdW5jdGlvbihlKXtlLmNhbGxiYWNrPW51bGx9LHQudW5zdGFibGVfY29udGludWVFeGVjdXRpb249ZnVuY3Rpb24oKXtPfHxMfHwoTz0hMCxpKEYpKX0sdC51bnN0YWJsZV9nZXRDdXJyZW50UHJpb3JpdHlMZXZlbD1mdW5jdGlvbigpe3JldHVybiBEfSx0LnVuc3RhYmxlX2dldEZpcnN0Q2FsbGJhY2tOb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIE0oayl9LHQudW5zdGFibGVfbmV4dD1mdW5jdGlvbihlKXtzd2l0Y2goRCl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6dmFyIHQ9MzticmVhaztkZWZhdWx0OnQ9RH12YXIgbj1EO0Q9dDt0cnl7cmV0dXJuIGUoKX1maW5hbGx5e0Q9bn19LHQudW5zdGFibGVfcGF1c2VFeGVjdXRpb249ZnVuY3Rpb24oKXt9LHQudW5zdGFibGVfcmVxdWVzdFBhaW50PVUsdC51bnN0YWJsZV9ydW5XaXRoUHJpb3JpdHk9ZnVuY3Rpb24oZSx0KXtzd2l0Y2goZSl7Y2FzZSAxOmNhc2UgMjpjYXNlIDM6Y2FzZSA0OmNhc2UgNTpicmVhaztkZWZhdWx0OmU9M312YXIgbj1EO0Q9ZTt0cnl7cmV0dXJuIHQoKX1maW5hbGx5e0Q9bn19LHQudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjaz1mdW5jdGlvbihlLG4sYSl7dmFyIHM9dC51bnN0YWJsZV9ub3coKTtpZihcIm9iamVjdFwiPT10eXBlb2YgYSYmbnVsbCE9PWEpe3ZhciBsPWEuZGVsYXk7bD1cIm51bWJlclwiPT10eXBlb2YgbCYmMDxsP3MrbDpzLGE9XCJudW1iZXJcIj09dHlwZW9mIGEudGltZW91dD9hLnRpbWVvdXQ6TihlKX1lbHNlIGE9TihlKSxsPXM7cmV0dXJuIGU9e2lkOlArKyxjYWxsYmFjazpuLHByaW9yaXR5TGV2ZWw6ZSxzdGFydFRpbWU6bCxleHBpcmF0aW9uVGltZTphPWwrYSxzb3J0SW5kZXg6LTF9LGw+cz8oZS5zb3J0SW5kZXg9bCxTKEEsZSksbnVsbD09PU0oaykmJmU9PT1NKEEpJiYoUj9vKCk6Uj0hMCxyKGosbC1zKSkpOihlLnNvcnRJbmRleD1hLFMoayxlKSxPfHxMfHwoTz0hMCxpKEYpKSksZX0sdC51bnN0YWJsZV9zaG91bGRZaWVsZD1mdW5jdGlvbigpe3ZhciBlPXQudW5zdGFibGVfbm93KCk7QihlKTt2YXIgbj1NKGspO3JldHVybiBuIT09eiYmbnVsbCE9PXomJm51bGwhPT1uJiZudWxsIT09bi5jYWxsYmFjayYmbi5zdGFydFRpbWU8PWUmJm4uZXhwaXJhdGlvblRpbWU8ei5leHBpcmF0aW9uVGltZXx8YSgpfSx0LnVuc3RhYmxlX3dyYXBDYWxsYmFjaz1mdW5jdGlvbihlKXt2YXIgdD1EO3JldHVybiBmdW5jdGlvbigpe3ZhciBuPUQ7RD10O3RyeXtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZmluYWxseXtEPW59fX19LGZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKDE1KS5kZWZhdWx0O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPT1pKGUpfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKGUsdHx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPT1pKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLGkscj17fSxvPU9iamVjdC5rZXlzKGUpO2ZvcihpPTA7aTxvLmxlbmd0aDtpKyspbj1vW2ldLHQuaW5kZXhPZihuKT49MHx8KHJbbl09ZVtuXSk7cmV0dXJuIHJ9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oNzYpO2Z1bmN0aW9uIHIoZSl7cmV0dXJuITA9PT1pKGUpJiZcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpfWUuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuO3JldHVybiExIT09cihlKSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mKHQ9ZS5jb25zdHJ1Y3RvcikmJighMSE9PXIobj10LnByb3RvdHlwZSkmJiExIT09bi5oYXNPd25Qcm9wZXJ0eShcImlzUHJvdG90eXBlT2ZcIikpKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYhMT09PUFycmF5LmlzQXJyYXkoZSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZXMsbj12b2lkIDA9PT10P3t4czowLHNtOjYwMCxtZDo5NjAsbGc6MTI4MCx4bDoxOTIwfTp0LGk9ZS51bml0LHM9dm9pZCAwPT09aT9cInB4XCI6aSxsPWUuc3RlcCxjPXZvaWQgMD09PWw/NTpsLHU9KDAsby5kZWZhdWx0KShlLFtcInZhbHVlc1wiLFwidW5pdFwiLFwic3RlcFwiXSk7ZnVuY3Rpb24gaChlKXt2YXIgdD1cIm51bWJlclwiPT10eXBlb2YgbltlXT9uW2VdOmU7cmV0dXJuXCJAbWVkaWEgKG1pbi13aWR0aDpcIi5jb25jYXQodCkuY29uY2F0KHMsXCIpXCIpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgaT1hLmluZGV4T2YodCkrMTtyZXR1cm4gaT09PWEubGVuZ3RoP2goZSk6XCJAbWVkaWEgKG1pbi13aWR0aDpcIi5jb25jYXQobltlXSkuY29uY2F0KHMsXCIpIGFuZCBcIikrXCIobWF4LXdpZHRoOlwiLmNvbmNhdChuW2FbaV1dLWMvMTAwKS5jb25jYXQocyxcIilcIil9cmV0dXJuKDAsci5kZWZhdWx0KSh7a2V5czphLHZhbHVlczpuLHVwOmgsZG93bjpmdW5jdGlvbihlKXt2YXIgdD1hLmluZGV4T2YoZSkrMSxpPW5bYVt0XV07cmV0dXJuIHQ9PT1hLmxlbmd0aD9oKFwieHNcIik6XCJAbWVkaWEgKG1heC13aWR0aDpcIi5jb25jYXQoKFwibnVtYmVyXCI9PXR5cGVvZiBpJiZ0PjA/aTplKS1jLzEwMCkuY29uY2F0KHMsXCIpXCIpfSxiZXR3ZWVuOmQsb25seTpmdW5jdGlvbihlKXtyZXR1cm4gZChlLGUpfSx3aWR0aDpmdW5jdGlvbihlKXtyZXR1cm4gbltlXX19LHUpfSx0LmtleXM9dm9pZCAwO3ZhciByPWkobigyKSksbz1pKG4oNCkpLGE9W1wieHNcIixcInNtXCIsXCJtZFwiLFwibGdcIixcInhsXCJdO3Qua2V5cz1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpO3JldHVybigwLG8uZGVmYXVsdCkoe2d1dHRlcnM6ZnVuY3Rpb24oKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307cmV0dXJuKDAsby5kZWZhdWx0KSh7cGFkZGluZ0xlZnQ6Mip0LnVuaXQscGFkZGluZ1JpZ2h0OjIqdC51bml0fSxuLCgwLHIuZGVmYXVsdCkoe30sZS51cChcInNtXCIpLCgwLG8uZGVmYXVsdCkoe3BhZGRpbmdMZWZ0OjMqdC51bml0LHBhZGRpbmdSaWdodDozKnQudW5pdH0sbltlLnVwKFwic21cIildKSkpfSx0b29sYmFyOihpPXttaW5IZWlnaHQ6NTZ9LCgwLHIuZGVmYXVsdCkoaSxcIlwiLmNvbmNhdChlLnVwKFwieHNcIiksXCIgYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKVwiKSx7bWluSGVpZ2h0OjQ4fSksKDAsci5kZWZhdWx0KShpLGUudXAoXCJzbVwiKSx7bWluSGVpZ2h0OjY0fSksaSl9LG4pfTt2YXIgcj1pKG4oNSkpLG89aShuKDIpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3ZhciB0PWUucHJpbWFyeSxuPXZvaWQgMD09PXQ/e2xpZ2h0OnMuZGVmYXVsdFszMDBdLG1haW46cy5kZWZhdWx0WzUwMF0sZGFyazpzLmRlZmF1bHRbNzAwXX06dCxpPWUuc2Vjb25kYXJ5LGc9dm9pZCAwPT09aT97bGlnaHQ6bC5kZWZhdWx0LkEyMDAsbWFpbjpsLmRlZmF1bHQuQTQwMCxkYXJrOmwuZGVmYXVsdC5BNzAwfTppLHk9ZS5lcnJvcixfPXZvaWQgMD09PXk/e2xpZ2h0OnUuZGVmYXVsdFszMDBdLG1haW46dS5kZWZhdWx0WzUwMF0sZGFyazp1LmRlZmF1bHRbNzAwXX06eSx2PWUudHlwZSx4PXZvaWQgMD09PXY/XCJsaWdodFwiOnYsYj1lLmNvbnRyYXN0VGhyZXNob2xkLHc9dm9pZCAwPT09Yj8zOmIsVD1lLnRvbmFsT2Zmc2V0LEU9dm9pZCAwPT09VD8uMjpULFM9KDAsby5kZWZhdWx0KShlLFtcInByaW1hcnlcIixcInNlY29uZGFyeVwiLFwiZXJyb3JcIixcInR5cGVcIixcImNvbnRyYXN0VGhyZXNob2xkXCIsXCJ0b25hbE9mZnNldFwiXSk7ZnVuY3Rpb24gTShlKXtyZXR1cm4oMCxkLmdldENvbnRyYXN0UmF0aW8pKGUsZi50ZXh0LnByaW1hcnkpPj13P2YudGV4dC5wcmltYXJ5OnAudGV4dC5wcmltYXJ5fWZ1bmN0aW9uIEkoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjUwMCxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTozMDAsaT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106NzAwO3JldHVybiFlLm1haW4mJmVbdF0mJihlLm1haW49ZVt0XSksbShlLFwibGlnaHRcIixuLEUpLG0oZSxcImRhcmtcIixpLEUpLGUuY29udHJhc3RUZXh0fHwoZS5jb250cmFzdFRleHQ9TShlLm1haW4pKSxlfUkobiksSShnLFwiQTQwMFwiLFwiQTIwMFwiLFwiQTcwMFwiKSxJKF8pO3ZhciBDPXtkYXJrOmYsbGlnaHQ6cH07cmV0dXJuKDAsYS5kZWZhdWx0KSgoMCxyLmRlZmF1bHQpKHtjb21tb246aC5kZWZhdWx0LHR5cGU6eCxwcmltYXJ5Om4sc2Vjb25kYXJ5OmcsZXJyb3I6XyxncmV5OmMuZGVmYXVsdCxjb250cmFzdFRocmVzaG9sZDp3LGdldENvbnRyYXN0VGV4dDpNLGF1Z21lbnRDb2xvcjpJLHRvbmFsT2Zmc2V0OkV9LENbeF0pLFMse2Nsb25lOiExfSl9LHQuZGFyaz10LmxpZ2h0PXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDQpKSxhPShpKG4oNikpLGkobigyMikpKSxzPWkobig0MykpLGw9aShuKDgwKSksYz1pKG4oODEpKSx1PWkobig4MikpLGg9aShuKDgzKSksZD1uKDQ0KSxwPXt0ZXh0OntwcmltYXJ5OlwicmdiYSgwLCAwLCAwLCAwLjg3KVwiLHNlY29uZGFyeTpcInJnYmEoMCwgMCwgMCwgMC41NClcIixkaXNhYmxlZDpcInJnYmEoMCwgMCwgMCwgMC4zOClcIixoaW50OlwicmdiYSgwLCAwLCAwLCAwLjM4KVwifSxkaXZpZGVyOlwicmdiYSgwLCAwLCAwLCAwLjEyKVwiLGJhY2tncm91bmQ6e3BhcGVyOmguZGVmYXVsdC53aGl0ZSxkZWZhdWx0OmMuZGVmYXVsdFs1MF19LGFjdGlvbjp7YWN0aXZlOlwicmdiYSgwLCAwLCAwLCAwLjU0KVwiLGhvdmVyOlwicmdiYSgwLCAwLCAwLCAwLjA4KVwiLGhvdmVyT3BhY2l0eTouMDgsc2VsZWN0ZWQ6XCJyZ2JhKDAsIDAsIDAsIDAuMTQpXCIsZGlzYWJsZWQ6XCJyZ2JhKDAsIDAsIDAsIDAuMjYpXCIsZGlzYWJsZWRCYWNrZ3JvdW5kOlwicmdiYSgwLCAwLCAwLCAwLjEyKVwifX07dC5saWdodD1wO3ZhciBmPXt0ZXh0OntwcmltYXJ5OmguZGVmYXVsdC53aGl0ZSxzZWNvbmRhcnk6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNylcIixkaXNhYmxlZDpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KVwiLGhpbnQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSlcIixpY29uOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpXCJ9LGRpdmlkZXI6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpXCIsYmFja2dyb3VuZDp7cGFwZXI6Yy5kZWZhdWx0WzgwMF0sZGVmYXVsdDpcIiMzMDMwMzBcIn0sYWN0aW9uOnthY3RpdmU6aC5kZWZhdWx0LndoaXRlLGhvdmVyOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjEpXCIsaG92ZXJPcGFjaXR5Oi4xLHNlbGVjdGVkOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpXCIsZGlzYWJsZWQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMylcIixkaXNhYmxlZEJhY2tncm91bmQ6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMTIpXCJ9fTtmdW5jdGlvbiBtKGUsdCxuLGkpe2VbdF18fChlLmhhc093blByb3BlcnR5KG4pP2VbdF09ZVtuXTpcImxpZ2h0XCI9PT10P2UubGlnaHQ9KDAsZC5saWdodGVuKShlLm1haW4saSk6XCJkYXJrXCI9PT10JiYoZS5kYXJrPSgwLGQuZGFya2VuKShlLm1haW4sMS41KmkpKSl9dC5kYXJrPWZ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPXs1MDpcIiNmY2U0ZWNcIiwxMDA6XCIjZjhiYmQwXCIsMjAwOlwiI2Y0OGZiMVwiLDMwMDpcIiNmMDYyOTJcIiw0MDA6XCIjZWM0MDdhXCIsNTAwOlwiI2U5MWU2M1wiLDYwMDpcIiNkODFiNjBcIiw3MDA6XCIjYzIxODViXCIsODAwOlwiI2FkMTQ1N1wiLDkwMDpcIiM4ODBlNGZcIixBMTAwOlwiI2ZmODBhYlwiLEEyMDA6XCIjZmY0MDgxXCIsQTQwMDpcIiNmNTAwNTdcIixBNzAwOlwiI2M1MTE2MlwifTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9ezUwOlwiI2ZhZmFmYVwiLDEwMDpcIiNmNWY1ZjVcIiwyMDA6XCIjZWVlZWVlXCIsMzAwOlwiI2UwZTBlMFwiLDQwMDpcIiNiZGJkYmRcIiw1MDA6XCIjOWU5ZTllXCIsNjAwOlwiIzc1NzU3NVwiLDcwMDpcIiM2MTYxNjFcIiw4MDA6XCIjNDI0MjQyXCIsOTAwOlwiIzIxMjEyMVwiLEExMDA6XCIjZDVkNWQ1XCIsQTIwMDpcIiNhYWFhYWFcIixBNDAwOlwiIzMwMzAzMFwiLEE3MDA6XCIjNjE2MTYxXCJ9O3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT17NTA6XCIjZmZlYmVlXCIsMTAwOlwiI2ZmY2RkMlwiLDIwMDpcIiNlZjlhOWFcIiwzMDA6XCIjZTU3MzczXCIsNDAwOlwiI2VmNTM1MFwiLDUwMDpcIiNmNDQzMzZcIiw2MDA6XCIjZTUzOTM1XCIsNzAwOlwiI2QzMmYyZlwiLDgwMDpcIiNjNjI4MjhcIiw5MDA6XCIjYjcxYzFjXCIsQTEwMDpcIiNmZjhhODBcIixBMjAwOlwiI2ZmNTI1MlwiLEE0MDA6XCIjZmYxNzQ0XCIsQTcwMDpcIiNkNTAwMDBcIn07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPXtibGFjazpcIiMwMDBcIix3aGl0ZTpcIiNmZmZcIn07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dChlKTp0LGk9bi5mb250RmFtaWx5LHU9dm9pZCAwPT09aT8nXCJSb2JvdG9cIiwgXCJIZWx2ZXRpY2FcIiwgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJzppLGg9bi5mb250U2l6ZSxkPXZvaWQgMD09PWg/MTQ6aCxwPW4uZm9udFdlaWdodExpZ2h0LGY9dm9pZCAwPT09cD8zMDA6cCxtPW4uZm9udFdlaWdodFJlZ3VsYXIsZz12b2lkIDA9PT1tPzQwMDptLHk9bi5mb250V2VpZ2h0TWVkaXVtLF89dm9pZCAwPT09eT81MDA6eSx2PW4uaHRtbEZvbnRTaXplLHg9dm9pZCAwPT09dj8xNjp2LGI9bi51c2VOZXh0VmFyaWFudHMsdz12b2lkIDA9PT1iP0Jvb2xlYW4ocy5wb255ZmlsbEdsb2JhbC5fX01VSV9VU0VfTkVYVF9UWVBPR1JBUEhZX1ZBUklBTlRTX18pOmIsVD0obi5zdXBwcmVzc1dhcm5pbmcsbi5hbGxWYXJpYW50cyksRT0oMCxvLmRlZmF1bHQpKG4sW1wiZm9udEZhbWlseVwiLFwiZm9udFNpemVcIixcImZvbnRXZWlnaHRMaWdodFwiLFwiZm9udFdlaWdodFJlZ3VsYXJcIixcImZvbnRXZWlnaHRNZWRpdW1cIixcImh0bWxGb250U2l6ZVwiLFwidXNlTmV4dFZhcmlhbnRzXCIsXCJzdXBwcmVzc1dhcm5pbmdcIixcImFsbFZhcmlhbnRzXCJdKTt2YXIgUz1kLzE0LE09ZnVuY3Rpb24oZSl7cmV0dXJuXCJcIi5jb25jYXQoZS94KlMsXCJyZW1cIil9LEk9ZnVuY3Rpb24odCxuLGksbyxhKXtyZXR1cm4oMCxyLmRlZmF1bHQpKHtjb2xvcjplLnRleHQucHJpbWFyeSxmb250RmFtaWx5OnUsZm9udFdlaWdodDp0LGZvbnRTaXplOk0obiksbGluZUhlaWdodDppfSwnXCJSb2JvdG9cIiwgXCJIZWx2ZXRpY2FcIiwgXCJBcmlhbFwiLCBzYW5zLXNlcmlmJz09PXU/e2xldHRlclNwYWNpbmc6XCJcIi5jb25jYXQobChvL24pLFwiZW1cIil9Ont9LGEsVCl9LEM9e2gxOkkoZiw5NiwxLC0xLjUpLGgyOkkoZiw2MCwxLC0uNSksaDM6SShnLDQ4LDEuMDQsMCksaDQ6SShnLDM0LDEuMTcsLjI1KSxoNTpJKGcsMjQsMS4zMywwKSxoNjpJKF8sMjAsMS42LC4xNSksc3VidGl0bGUxOkkoZywxNiwxLjc1LC4xNSksc3VidGl0bGUyOkkoXywxNCwxLjU3LC4xKSxib2R5MU5leHQ6SShnLDE2LDEuNSwuMTUpLGJvZHkyTmV4dDpJKGcsMTQsMS41LC4xNSksYnV0dG9uTmV4dDpJKF8sMTQsMS43NSwuNCxjKSxjYXB0aW9uTmV4dDpJKGcsMTIsMS42NiwuNCksb3ZlcmxpbmU6SShnLDEyLDIuNjYsMSxjKX0saz17ZGlzcGxheTQ6KDAsci5kZWZhdWx0KSh7Zm9udFNpemU6TSgxMTIpLGZvbnRXZWlnaHQ6Zixmb250RmFtaWx5OnUsbGV0dGVyU3BhY2luZzpcIi0uMDRlbVwiLGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCgxMjgvMTEyKSxcImVtXCIpLG1hcmdpbkxlZnQ6XCItLjA0ZW1cIixjb2xvcjplLnRleHQuc2Vjb25kYXJ5fSxUKSxkaXNwbGF5MzooMCxyLmRlZmF1bHQpKHtmb250U2l6ZTpNKDU2KSxmb250V2VpZ2h0OmcsZm9udEZhbWlseTp1LGxldHRlclNwYWNpbmc6XCItLjAyZW1cIixsaW5lSGVpZ2h0OlwiXCIuY29uY2F0KGwoNzMvNTYpLFwiZW1cIiksbWFyZ2luTGVmdDpcIi0uMDJlbVwiLGNvbG9yOmUudGV4dC5zZWNvbmRhcnl9LFQpLGRpc3BsYXkyOigwLHIuZGVmYXVsdCkoe2ZvbnRTaXplOk0oNDUpLGZvbnRXZWlnaHQ6Zyxmb250RmFtaWx5OnUsbGluZUhlaWdodDpcIlwiLmNvbmNhdChsKDUxLzQ1KSxcImVtXCIpLG1hcmdpbkxlZnQ6XCItLjAyZW1cIixjb2xvcjplLnRleHQuc2Vjb25kYXJ5fSxUKSxkaXNwbGF5MTooMCxyLmRlZmF1bHQpKHtmb250U2l6ZTpNKDM0KSxmb250V2VpZ2h0OmcsZm9udEZhbWlseTp1LGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCg0MS8zNCksXCJlbVwiKSxjb2xvcjplLnRleHQuc2Vjb25kYXJ5fSxUKSxoZWFkbGluZTooMCxyLmRlZmF1bHQpKHtmb250U2l6ZTpNKDI0KSxmb250V2VpZ2h0OmcsZm9udEZhbWlseTp1LGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCgzMi41LzI0KSxcImVtXCIpLGNvbG9yOmUudGV4dC5wcmltYXJ5fSxUKSx0aXRsZTooMCxyLmRlZmF1bHQpKHtmb250U2l6ZTpNKDIxKSxmb250V2VpZ2h0Ol8sZm9udEZhbWlseTp1LGxpbmVIZWlnaHQ6XCJcIi5jb25jYXQobCgyNC41LzIxKSxcImVtXCIpLGNvbG9yOmUudGV4dC5wcmltYXJ5fSxUKSxzdWJoZWFkaW5nOigwLHIuZGVmYXVsdCkoe2ZvbnRTaXplOk0oMTYpLGZvbnRXZWlnaHQ6Zyxmb250RmFtaWx5OnUsbGluZUhlaWdodDpcIlwiLmNvbmNhdChsKDEuNSksXCJlbVwiKSxjb2xvcjplLnRleHQucHJpbWFyeX0sVCksYm9keTI6KDAsci5kZWZhdWx0KSh7Zm9udFNpemU6TSgxNCksZm9udFdlaWdodDpfLGZvbnRGYW1pbHk6dSxsaW5lSGVpZ2h0OlwiXCIuY29uY2F0KGwoMjQvMTQpLFwiZW1cIiksY29sb3I6ZS50ZXh0LnByaW1hcnl9LFQpLGJvZHkxOigwLHIuZGVmYXVsdCkoe2ZvbnRTaXplOk0oMTQpLGZvbnRXZWlnaHQ6Zyxmb250RmFtaWx5OnUsbGluZUhlaWdodDpcIlwiLmNvbmNhdChsKDIwLjUvMTQpLFwiZW1cIiksY29sb3I6ZS50ZXh0LnByaW1hcnl9LFQpLGNhcHRpb246KDAsci5kZWZhdWx0KSh7Zm9udFNpemU6TSgxMiksZm9udFdlaWdodDpnLGZvbnRGYW1pbHk6dSxsaW5lSGVpZ2h0OlwiXCIuY29uY2F0KGwoMS4zNzUpLFwiZW1cIiksY29sb3I6ZS50ZXh0LnNlY29uZGFyeX0sVCksYnV0dG9uOigwLHIuZGVmYXVsdCkoe2ZvbnRTaXplOk0oMTQpLHRleHRUcmFuc2Zvcm06XCJ1cHBlcmNhc2VcIixmb250V2VpZ2h0Ol8sZm9udEZhbWlseTp1LGNvbG9yOmUudGV4dC5wcmltYXJ5fSxUKX07cmV0dXJuKDAsYS5kZWZhdWx0KSgoMCxyLmRlZmF1bHQpKHtweFRvUmVtOk0scm91bmQ6bCxmb250RmFtaWx5OnUsZm9udFNpemU6ZCxmb250V2VpZ2h0TGlnaHQ6Zixmb250V2VpZ2h0UmVndWxhcjpnLGZvbnRXZWlnaHRNZWRpdW06X30sayxDLHc/e2JvZHkxOkMuYm9keTFOZXh0LGJvZHkyOkMuYm9keTJOZXh0LGJ1dHRvbjpDLmJ1dHRvbk5leHQsY2FwdGlvbjpDLmNhcHRpb25OZXh0fTp7fSx7dXNlTmV4dFZhcmlhbnRzOnd9KSxFLHtjbG9uZTohMX0pfTt2YXIgcj1pKG4oMikpLG89aShuKDQpKSxhPWkobigyMikpLHM9KGkobig2KSksbig3KSk7ZnVuY3Rpb24gbChlKXtyZXR1cm4gTWF0aC5yb3VuZCgxZTUqZSkvMWU1fXZhciBjPXt0ZXh0VHJhbnNmb3JtOlwidXBwZXJjYXNlXCJ9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuZm9yLHI9aT9TeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKTo2MDEwMyxvPWk/U3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKTo2MDEwNixhPWk/U3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpOjYwMTA3LHM9aT9TeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIik6NjAxMDgsbD1pP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTo2MDExNCxjPWk/U3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpOjYwMTA5LHU9aT9TeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKTo2MDExMCxoPWk/U3ltYm9sLmZvcihcInJlYWN0LmFzeW5jX21vZGVcIik6NjAxMTEsZD1pP1N5bWJvbC5mb3IoXCJyZWFjdC5jb25jdXJyZW50X21vZGVcIik6NjAxMTEscD1pP1N5bWJvbC5mb3IoXCJyZWFjdC5mb3J3YXJkX3JlZlwiKTo2MDExMixmPWk/U3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpOjYwMTEzLG09aT9TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKTo2MDEyMCxnPWk/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUseT1pP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2LF89aT9TeW1ib2wuZm9yKFwicmVhY3QuYmxvY2tcIik6NjAxMjEsdj1pP1N5bWJvbC5mb3IoXCJyZWFjdC5mdW5kYW1lbnRhbFwiKTo2MDExNyx4PWk/U3ltYm9sLmZvcihcInJlYWN0LnJlc3BvbmRlclwiKTo2MDExOCxiPWk/U3ltYm9sLmZvcihcInJlYWN0LnNjb3BlXCIpOjYwMTE5O2Z1bmN0aW9uIHcoZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lKXt2YXIgdD1lLiQkdHlwZW9mO3N3aXRjaCh0KXtjYXNlIHI6c3dpdGNoKGU9ZS50eXBlKXtjYXNlIGg6Y2FzZSBkOmNhc2UgYTpjYXNlIGw6Y2FzZSBzOmNhc2UgZjpyZXR1cm4gZTtkZWZhdWx0OnN3aXRjaChlPWUmJmUuJCR0eXBlb2Ype2Nhc2UgdTpjYXNlIHA6Y2FzZSB5OmNhc2UgZzpjYXNlIGM6cmV0dXJuIGU7ZGVmYXVsdDpyZXR1cm4gdH19Y2FzZSBvOnJldHVybiB0fX19ZnVuY3Rpb24gVChlKXtyZXR1cm4gdyhlKT09PWR9dC5Bc3luY01vZGU9aCx0LkNvbmN1cnJlbnRNb2RlPWQsdC5Db250ZXh0Q29uc3VtZXI9dSx0LkNvbnRleHRQcm92aWRlcj1jLHQuRWxlbWVudD1yLHQuRm9yd2FyZFJlZj1wLHQuRnJhZ21lbnQ9YSx0Lkxhenk9eSx0Lk1lbW89Zyx0LlBvcnRhbD1vLHQuUHJvZmlsZXI9bCx0LlN0cmljdE1vZGU9cyx0LlN1c3BlbnNlPWYsdC5pc0FzeW5jTW9kZT1mdW5jdGlvbihlKXtyZXR1cm4gVChlKXx8dyhlKT09PWh9LHQuaXNDb25jdXJyZW50TW9kZT1ULHQuaXNDb250ZXh0Q29uc3VtZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk9PT11fSx0LmlzQ29udGV4dFByb3ZpZGVyPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09Y30sdC5pc0VsZW1lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiZlLiQkdHlwZW9mPT09cn0sdC5pc0ZvcndhcmRSZWY9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk9PT1wfSx0LmlzRnJhZ21lbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHcoZSk9PT1hfSx0LmlzTGF6eT1mdW5jdGlvbihlKXtyZXR1cm4gdyhlKT09PXl9LHQuaXNNZW1vPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09Z30sdC5pc1BvcnRhbD1mdW5jdGlvbihlKXtyZXR1cm4gdyhlKT09PW99LHQuaXNQcm9maWxlcj1mdW5jdGlvbihlKXtyZXR1cm4gdyhlKT09PWx9LHQuaXNTdHJpY3RNb2RlPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09c30sdC5pc1N1c3BlbnNlPWZ1bmN0aW9uKGUpe3JldHVybiB3KGUpPT09Zn0sdC5pc1ZhbGlkRWxlbWVudFR5cGU9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGV8fGU9PT1hfHxlPT09ZHx8ZT09PWx8fGU9PT1zfHxlPT09Znx8ZT09PW18fFwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmKGUuJCR0eXBlb2Y9PT15fHxlLiQkdHlwZW9mPT09Z3x8ZS4kJHR5cGVvZj09PWN8fGUuJCR0eXBlb2Y9PT11fHxlLiQkdHlwZW9mPT09cHx8ZS4kJHR5cGVvZj09PXZ8fGUuJCR0eXBlb2Y9PT14fHxlLiQkdHlwZW9mPT09Ynx8ZS4kJHR5cGVvZj09PV8pfSx0LnR5cGVPZj13fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDtmdW5jdGlvbiBpKCl7cmV0dXJuW1wiXCIuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTA/dm9pZCAwOmFyZ3VtZW50c1swXSxcInB4IFwiKS5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9MT92b2lkIDA6YXJndW1lbnRzWzFdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD0yP3ZvaWQgMDphcmd1bWVudHNbMl0sXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTM/dm9pZCAwOmFyZ3VtZW50c1szXSxcInB4IHJnYmEoMCwwLDAsXCIpLmNvbmNhdCguMixcIilcIiksXCJcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9ND92b2lkIDA6YXJndW1lbnRzWzRdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD01P3ZvaWQgMDphcmd1bWVudHNbNV0sXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTY/dm9pZCAwOmFyZ3VtZW50c1s2XSxcInB4IFwiKS5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9Nz92b2lkIDA6YXJndW1lbnRzWzddLFwicHggcmdiYSgwLDAsMCxcIikuY29uY2F0KC4xNCxcIilcIiksXCJcIi5jb25jYXQoYXJndW1lbnRzLmxlbmd0aDw9OD92b2lkIDA6YXJndW1lbnRzWzhdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD05P3ZvaWQgMDphcmd1bWVudHNbOV0sXCJweCBcIikuY29uY2F0KGFyZ3VtZW50cy5sZW5ndGg8PTEwP3ZvaWQgMDphcmd1bWVudHNbMTBdLFwicHggXCIpLmNvbmNhdChhcmd1bWVudHMubGVuZ3RoPD0xMT92b2lkIDA6YXJndW1lbnRzWzExXSxcInB4IHJnYmEoMCwwLDAsXCIpLmNvbmNhdCguMTIsXCIpXCIpXS5qb2luKFwiLFwiKX12YXIgcj1bXCJub25lXCIsaSgwLDEsMywwLDAsMSwxLDAsMCwyLDEsLTEpLGkoMCwxLDUsMCwwLDIsMiwwLDAsMywxLC0yKSxpKDAsMSw4LDAsMCwzLDQsMCwwLDMsMywtMiksaSgwLDIsNCwtMSwwLDQsNSwwLDAsMSwxMCwwKSxpKDAsMyw1LC0xLDAsNSw4LDAsMCwxLDE0LDApLGkoMCwzLDUsLTEsMCw2LDEwLDAsMCwxLDE4LDApLGkoMCw0LDUsLTIsMCw3LDEwLDEsMCwyLDE2LDEpLGkoMCw1LDUsLTMsMCw4LDEwLDEsMCwzLDE0LDIpLGkoMCw1LDYsLTMsMCw5LDEyLDEsMCwzLDE2LDIpLGkoMCw2LDYsLTMsMCwxMCwxNCwxLDAsNCwxOCwzKSxpKDAsNiw3LC00LDAsMTEsMTUsMSwwLDQsMjAsMyksaSgwLDcsOCwtNCwwLDEyLDE3LDIsMCw1LDIyLDQpLGkoMCw3LDgsLTQsMCwxMywxOSwyLDAsNSwyNCw0KSxpKDAsNyw5LC00LDAsMTQsMjEsMiwwLDUsMjYsNCksaSgwLDgsOSwtNSwwLDE1LDIyLDIsMCw2LDI4LDUpLGkoMCw4LDEwLC01LDAsMTYsMjQsMiwwLDYsMzAsNSksaSgwLDgsMTEsLTUsMCwxNywyNiwyLDAsNiwzMiw1KSxpKDAsOSwxMSwtNSwwLDE4LDI4LDIsMCw3LDM0LDYpLGkoMCw5LDEyLC02LDAsMTksMjksMiwwLDcsMzYsNiksaSgwLDEwLDEzLC02LDAsMjAsMzEsMywwLDgsMzgsNyksaSgwLDEwLDEzLC02LDAsMjEsMzMsMywwLDgsNDAsNyksaSgwLDEwLDE0LC02LDAsMjIsMzUsMywwLDgsNDIsNyksaSgwLDExLDE0LC03LDAsMjMsMzYsMywwLDksNDQsOCksaSgwLDExLDE1LC03LDAsMjQsMzgsMywwLDksNDYsOCldO3QuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT17Ym9yZGVyUmFkaXVzOjR9O3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT17dW5pdDo4fTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuaXNOdW1iZXI9dC5pc1N0cmluZz10LmZvcm1hdE1zPXQuZHVyYXRpb249dC5lYXNpbmc9dm9pZCAwO3ZhciByPWkobig0KSksbz0oaShuKDYpKSx7ZWFzZUluT3V0OlwiY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKVwiLGVhc2VPdXQ6XCJjdWJpYy1iZXppZXIoMC4wLCAwLCAwLjIsIDEpXCIsZWFzZUluOlwiY3ViaWMtYmV6aWVyKDAuNCwgMCwgMSwgMSlcIixzaGFycDpcImN1YmljLWJlemllcigwLjQsIDAsIDAuNiwgMSlcIn0pO3QuZWFzaW5nPW87dmFyIGE9e3Nob3J0ZXN0OjE1MCxzaG9ydGVyOjIwMCxzaG9ydDoyNTAsc3RhbmRhcmQ6MzAwLGNvbXBsZXg6Mzc1LGVudGVyaW5nU2NyZWVuOjIyNSxsZWF2aW5nU2NyZWVuOjE5NX07dC5kdXJhdGlvbj1hO3ZhciBzPWZ1bmN0aW9uKGUpe3JldHVyblwiXCIuY29uY2F0KE1hdGgucm91bmQoZSksXCJtc1wiKX07dC5mb3JtYXRNcz1zO3QuaXNTdHJpbmc9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGV9O3QuaXNOdW1iZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIWlzTmFOKHBhcnNlRmxvYXQoZSkpfTt2YXIgbD17ZWFzaW5nOm8sZHVyYXRpb246YSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06W1wiYWxsXCJdLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49dC5kdXJhdGlvbixpPXZvaWQgMD09PW4/YS5zdGFuZGFyZDpuLGw9dC5lYXNpbmcsYz12b2lkIDA9PT1sP28uZWFzZUluT3V0OmwsdT10LmRlbGF5LGg9dm9pZCAwPT09dT8wOnU7KDAsci5kZWZhdWx0KSh0LFtcImR1cmF0aW9uXCIsXCJlYXNpbmdcIixcImRlbGF5XCJdKTtyZXR1cm4oQXJyYXkuaXNBcnJheShlKT9lOltlXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm5cIlwiLmNvbmNhdChlLFwiIFwiKS5jb25jYXQoXCJzdHJpbmdcIj09dHlwZW9mIGk/aTpzKGkpLFwiIFwiKS5jb25jYXQoYyxcIiBcIikuY29uY2F0KFwic3RyaW5nXCI9PXR5cGVvZiBoP2g6cyhoKSl9KSkuam9pbihcIixcIil9LGdldEF1dG9IZWlnaHREdXJhdGlvbjpmdW5jdGlvbihlKXtpZighZSlyZXR1cm4gMDt2YXIgdD1lLzM2O3JldHVybiBNYXRoLnJvdW5kKDEwKig0KzE1Kk1hdGgucG93KHQsLjI1KSt0LzUpKX19O3QuZGVmYXVsdD1sfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT17bW9iaWxlU3RlcHBlcjoxZTMsYXBwQmFyOjExMDAsZHJhd2VyOjEyMDAsbW9kYWw6MTMwMCxzbmFja2JhcjoxNDAwLHRvb2x0aXA6MTUwMH07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciBpIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4saSkmJihlW2ldPW5baV0pfXJldHVybiBlfSxyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCk7dC5kZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJue29uQ3JlYXRlUnVsZTpmdW5jdGlvbihlLHQsbil7aWYoXCJAZ2xvYmFsXCI9PT1lKXJldHVybiBuZXcgcyhlLHQsbik7aWYoXCJAXCI9PT1lWzBdJiZcIkBnbG9iYWwgXCI9PT1lLnN1YnN0cigwLFwiQGdsb2JhbCBcIi5sZW5ndGgpKXJldHVybiBuZXcgbChlLHQsbik7dmFyIGk9bi5wYXJlbnQ7cmV0dXJuIGkmJihcImdsb2JhbFwiIT09aS50eXBlJiZcImdsb2JhbFwiIT09aS5vcHRpb25zLnBhcmVudC50eXBlfHwobi5nbG9iYWw9ITApKSxuLmdsb2JhbCYmKG4uc2VsZWN0b3I9ZSksbnVsbH0sb25Qcm9jZXNzUnVsZTpmdW5jdGlvbihlKXtcInN0eWxlXCI9PT1lLnR5cGUmJihmdW5jdGlvbihlKXt2YXIgdD1lLm9wdGlvbnMsbj1lLnN0eWxlLHI9bltcIkBnbG9iYWxcIl07aWYoIXIpcmV0dXJuO2Zvcih2YXIgbyBpbiByKXQuc2hlZXQuYWRkUnVsZShvLHJbb10saSh7fSx0LHtzZWxlY3Rvcjp1KG8sZS5zZWxlY3Rvcil9KSk7ZGVsZXRlIG5bXCJAZ2xvYmFsXCJdfShlKSxmdW5jdGlvbihlKXt2YXIgdD1lLm9wdGlvbnMsbj1lLnN0eWxlO2Zvcih2YXIgciBpbiBuKWlmKFwiQGdsb2JhbFwiPT09ci5zdWJzdHIoMCxcIkBnbG9iYWxcIi5sZW5ndGgpKXt2YXIgbz11KHIuc3Vic3RyKFwiQGdsb2JhbFwiLmxlbmd0aCksZS5zZWxlY3Rvcik7dC5zaGVldC5hZGRSdWxlKG8sbltyXSxpKHt9LHQse3NlbGVjdG9yOm99KSksZGVsZXRlIG5bcl19fShlKSl9fX07dmFyIG89big1Mik7ZnVuY3Rpb24gYShlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixyKXtmb3IodmFyIHMgaW4gYSh0aGlzLGUpLHRoaXMudHlwZT1cImdsb2JhbFwiLHRoaXMua2V5PXQsdGhpcy5vcHRpb25zPXIsdGhpcy5ydWxlcz1uZXcgby5SdWxlTGlzdChpKHt9LHIse3BhcmVudDp0aGlzfSkpLG4pdGhpcy5ydWxlcy5hZGQocyxuW3NdLHtzZWxlY3RvcjpzfSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIHIoZSxbe2tleTpcImdldFJ1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydWxlcy5nZXQoZSl9fSx7a2V5OlwiYWRkUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLnJ1bGVzLmFkZChlLHQsbik7cmV0dXJuIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKGkpLGl9fSx7a2V5OlwiaW5kZXhPZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGVzLmluZGV4T2YoZSl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJ1bGVzLnRvU3RyaW5nKCl9fV0pLGV9KCksbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIpe2EodGhpcyxlKSx0aGlzLm5hbWU9dCx0aGlzLm9wdGlvbnM9cjt2YXIgbz10LnN1YnN0cihcIkBnbG9iYWwgXCIubGVuZ3RoKTt0aGlzLnJ1bGU9ci5qc3MuY3JlYXRlUnVsZShvLG4saSh7fSxyLHtwYXJlbnQ6dGhpcyxzZWxlY3RvcjpvfSkpfXJldHVybiByKGUsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGUudG9TdHJpbmcoZSl9fV0pLGV9KCksYz0vXFxzKixcXHMqL2c7ZnVuY3Rpb24gdShlLHQpe2Zvcih2YXIgbj1lLnNwbGl0KGMpLGk9XCJcIixyPTA7cjxuLmxlbmd0aDtyKyspaSs9dCtcIiBcIituW3JdLnRyaW0oKSxuW3IrMV0mJihpKz1cIiwgXCIpO3JldHVybiBpfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1mdW5jdGlvbiBlKHQpe3ZhciBuPW51bGw7Zm9yKHZhciByIGluIHQpe3ZhciBvPXRbcl0sYT12b2lkIDA9PT1vP1widW5kZWZpbmVkXCI6aShvKTtpZihcImZ1bmN0aW9uXCI9PT1hKW58fChuPXt9KSxuW3JdPW87ZWxzZSBpZihcIm9iamVjdFwiPT09YSYmbnVsbCE9PW8mJiFBcnJheS5pc0FycmF5KG8pKXt2YXIgcz1lKG8pO3MmJihufHwobj17fSksbltyXT1zKX19cmV0dXJuIG59fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxyPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigxNykpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5zaGVldHM9W10sdGhpcy5yZWZzPVtdLHRoaXMua2V5cz1bXX1yZXR1cm4gaShlLFt7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5rZXlzLmluZGV4T2YoZSk7cmV0dXJuIHRoaXMuc2hlZXRzW3RdfX0se2tleTpcImFkZFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zaGVldHMsaT10aGlzLnJlZnMscj10aGlzLmtleXMsbz1uLmluZGV4T2YodCk7cmV0dXJuLTEhPT1vP286KG4ucHVzaCh0KSxpLnB1c2goMCksci5wdXNoKGUpLG4ubGVuZ3RoLTEpfX0se2tleTpcIm1hbmFnZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMua2V5cy5pbmRleE9mKGUpLG49dGhpcy5zaGVldHNbdF07cmV0dXJuIDA9PT10aGlzLnJlZnNbdF0mJm4uYXR0YWNoKCksdGhpcy5yZWZzW3RdKyssdGhpcy5rZXlzW3RdfHx0aGlzLmtleXMuc3BsaWNlKHQsMCxlKSxufX0se2tleTpcInVubWFuYWdlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5rZXlzLmluZGV4T2YoZSk7LTEhPT10P3RoaXMucmVmc1t0XT4wJiYodGhpcy5yZWZzW3RdLS0sMD09PXRoaXMucmVmc1t0XSYmdGhpcy5zaGVldHNbdF0uZGV0YWNoKCkpOigwLHIuZGVmYXVsdCkoITEsXCJTaGVldHNNYW5hZ2VyOiBjYW4ndCBmaW5kIHNoZWV0IHRvIHVubWFuYWdlXCIpfX0se2tleTpcInNpemVcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5rZXlzLmxlbmd0aH19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9O3QuZGVmYXVsdD1mdW5jdGlvbiBlKHQpe2lmKG51bGw9PXQpcmV0dXJuIHQ7dmFyIG49dm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOmkodCk7aWYoXCJzdHJpbmdcIj09PW58fFwibnVtYmVyXCI9PT1ufHxcImZ1bmN0aW9uXCI9PT1uKXJldHVybiB0O2lmKG8odCkpcmV0dXJuIHQubWFwKGUpO2lmKCgwLHIuZGVmYXVsdCkodCkpcmV0dXJuIHQ7dmFyIGE9e307Zm9yKHZhciBzIGluIHQpe3ZhciBsPXRbc107XCJvYmplY3RcIiE9PSh2b2lkIDA9PT1sP1widW5kZWZpbmVkXCI6aShsKSk/YVtzXT1sOmFbc109ZShsKX1yZXR1cm4gYX07dmFyIHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKDU0KSk7dmFyIG89QXJyYXkuaXNBcnJheX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSxmdW5jdGlvbihlLGkpe3ZhciByLG89big2Nyk7cj1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCE9PWU/ZTppO3ZhciBhPU9iamVjdChvLmEpKHIpO3QuZGVmYXVsdD1hfS5jYWxsKHRoaXMsbigyNSksbig5NikoZSkpfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighZS53ZWJwYWNrUG9seWZpbGwpe3ZhciB0PU9iamVjdC5jcmVhdGUoZSk7dC5jaGlsZHJlbnx8KHQuY2hpbGRyZW49W10pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwibG9hZGVkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImlkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuaX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImV4cG9ydHNcIix7ZW51bWVyYWJsZTohMH0pLHQud2VicGFja1BvbHlmaWxsPTF9cmV0dXJuIHR9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO2UuQ1NTO3QuZGVmYXVsdD1mdW5jdGlvbihlKXtyZXR1cm4gZX19KS5jYWxsKHRoaXMsbigyNSkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGUpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBuPVwiMmYxYWNjNmMzYTYwNmIwODJlNWVlZjVlNTQ0MTRmZmJcIjtudWxsPT1lW25dJiYoZVtuXT0wKSx0LmRlZmF1bHQ9ZVtuXSsrfSkuY2FsbCh0aGlzLG4oMjUpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LHI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiYoZVtpXT1uW2ldKX1yZXR1cm4gZX0sbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpLGE9XyhuKDI2KSkscz1fKG4oNTcpKSxsPV8obigxMDApKSxjPV8obigxMDEpKSx1PV8obigxMDcpKSxoPV8obigxMDgpKSxkPV8obigzMSkpLHA9XyhuKDE4KSksZj1fKG4oNTYpKSxtPV8obigyNCkpLGc9XyhuKDEwOSkpLHk9XyhuKDExMCkpO2Z1bmN0aW9uIF8oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXZhciB2PWMuZGVmYXVsdC5jb25jYXQoW3UuZGVmYXVsdCxoLmRlZmF1bHRdKSx4PTAsYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmlkPXgrKyx0aGlzLnZlcnNpb249XCI5LjguN1wiLHRoaXMucGx1Z2lucz1uZXcgbC5kZWZhdWx0LHRoaXMub3B0aW9ucz17Y3JlYXRlR2VuZXJhdGVDbGFzc05hbWU6Zi5kZWZhdWx0LFJlbmRlcmVyOmEuZGVmYXVsdD9nLmRlZmF1bHQ6eS5kZWZhdWx0LHBsdWdpbnM6W119LHRoaXMuZ2VuZXJhdGVDbGFzc05hbWU9KDAsZi5kZWZhdWx0KSgpLHRoaXMudXNlLmFwcGx5KHRoaXMsdiksdGhpcy5zZXR1cCh0KX1yZXR1cm4gbyhlLFt7a2V5Olwic2V0dXBcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gZS5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZSYmKHRoaXMub3B0aW9ucy5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZT1lLmNyZWF0ZUdlbmVyYXRlQ2xhc3NOYW1lLHRoaXMuZ2VuZXJhdGVDbGFzc05hbWU9ZS5jcmVhdGVHZW5lcmF0ZUNsYXNzTmFtZSgpKSxudWxsIT1lLmluc2VydGlvblBvaW50JiYodGhpcy5vcHRpb25zLmluc2VydGlvblBvaW50PWUuaW5zZXJ0aW9uUG9pbnQpLChlLnZpcnR1YWx8fGUuUmVuZGVyZXIpJiYodGhpcy5vcHRpb25zLlJlbmRlcmVyPWUuUmVuZGVyZXJ8fChlLnZpcnR1YWw/eS5kZWZhdWx0OmcuZGVmYXVsdCkpLGUucGx1Z2lucyYmdGhpcy51c2UuYXBwbHkodGhpcyxlLnBsdWdpbnMpLHRoaXN9fSx7a2V5OlwiY3JlYXRlU3R5bGVTaGVldFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPXQuaW5kZXg7XCJudW1iZXJcIiE9dHlwZW9mIG4mJihuPTA9PT1kLmRlZmF1bHQuaW5kZXg/MDpkLmRlZmF1bHQuaW5kZXgrMSk7dmFyIGk9bmV3IHMuZGVmYXVsdChlLHIoe30sdCx7anNzOnRoaXMsZ2VuZXJhdGVDbGFzc05hbWU6dC5nZW5lcmF0ZUNsYXNzTmFtZXx8dGhpcy5nZW5lcmF0ZUNsYXNzTmFtZSxpbnNlcnRpb25Qb2ludDp0aGlzLm9wdGlvbnMuaW5zZXJ0aW9uUG9pbnQsUmVuZGVyZXI6dGhpcy5vcHRpb25zLlJlbmRlcmVyLGluZGV4Om59KSk7cmV0dXJuIHRoaXMucGx1Z2lucy5vblByb2Nlc3NTaGVldChpKSxpfX0se2tleTpcInJlbW92ZVN0eWxlU2hlZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5kZXRhY2goKSxkLmRlZmF1bHQucmVtb3ZlKGUpLHRoaXN9fSx7a2V5OlwiY3JlYXRlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fTtcIm9iamVjdFwiPT09KHZvaWQgMD09PWU/XCJ1bmRlZmluZWRcIjppKGUpKSYmKG49dCx0PWUsZT12b2lkIDApO3ZhciByPW47ci5qc3M9dGhpcyxyLlJlbmRlcmVyPXRoaXMub3B0aW9ucy5SZW5kZXJlcixyLmdlbmVyYXRlQ2xhc3NOYW1lfHwoci5nZW5lcmF0ZUNsYXNzTmFtZT10aGlzLmdlbmVyYXRlQ2xhc3NOYW1lKSxyLmNsYXNzZXN8fChyLmNsYXNzZXM9e30pO3ZhciBvPSgwLG0uZGVmYXVsdCkoZSx0LHIpO3JldHVybiFyLnNlbGVjdG9yJiZvIGluc3RhbmNlb2YgcC5kZWZhdWx0JiYoby5zZWxlY3Rvcj1cIi5cIityLmdlbmVyYXRlQ2xhc3NOYW1lKG8pKSx0aGlzLnBsdWdpbnMub25Qcm9jZXNzUnVsZShvKSxvfX0se2tleTpcInVzZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsdD1hcmd1bWVudHMubGVuZ3RoLG49QXJyYXkodCksaT0wO2k8dDtpKyspbltpXT1hcmd1bWVudHNbaV07cmV0dXJuIG4uZm9yRWFjaCgoZnVuY3Rpb24odCl7LTE9PT1lLm9wdGlvbnMucGx1Z2lucy5pbmRleE9mKHQpJiYoZS5vcHRpb25zLnBsdWdpbnMucHVzaCh0KSxlLnBsdWdpbnMudXNlKHQpKX0pKSx0aGlzfX1dKSxlfSgpO3QuZGVmYXVsdD1ifSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxyPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigxNykpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5ob29rcz17b25DcmVhdGVSdWxlOltdLG9uUHJvY2Vzc1J1bGU6W10sb25Qcm9jZXNzU3R5bGU6W10sb25Qcm9jZXNzU2hlZXQ6W10sb25DaGFuZ2VWYWx1ZTpbXSxvblVwZGF0ZTpbXX19cmV0dXJuIGkoZSxbe2tleTpcIm9uQ3JlYXRlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGk9MDtpPHRoaXMuaG9va3Mub25DcmVhdGVSdWxlLmxlbmd0aDtpKyspe3ZhciByPXRoaXMuaG9va3Mub25DcmVhdGVSdWxlW2ldKGUsdCxuKTtpZihyKXJldHVybiByfXJldHVybiBudWxsfX0se2tleTpcIm9uUHJvY2Vzc1J1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZighZS5pc1Byb2Nlc3NlZCl7Zm9yKHZhciB0PWUub3B0aW9ucy5zaGVldCxuPTA7bjx0aGlzLmhvb2tzLm9uUHJvY2Vzc1J1bGUubGVuZ3RoO24rKyl0aGlzLmhvb2tzLm9uUHJvY2Vzc1J1bGVbbl0oZSx0KTtlLnN0eWxlJiZ0aGlzLm9uUHJvY2Vzc1N0eWxlKGUuc3R5bGUsZSx0KSxlLmlzUHJvY2Vzc2VkPSEwfX19LHtrZXk6XCJvblByb2Nlc3NTdHlsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIGk9ZSxyPTA7cjx0aGlzLmhvb2tzLm9uUHJvY2Vzc1N0eWxlLmxlbmd0aDtyKyspaT10aGlzLmhvb2tzLm9uUHJvY2Vzc1N0eWxlW3JdKGksdCxuKSx0LnN0eWxlPWl9fSx7a2V5Olwib25Qcm9jZXNzU2hlZXRcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PHRoaXMuaG9va3Mub25Qcm9jZXNzU2hlZXQubGVuZ3RoO3QrKyl0aGlzLmhvb2tzLm9uUHJvY2Vzc1NoZWV0W3RdKGUpfX0se2tleTpcIm9uVXBkYXRlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaT0wO2k8dGhpcy5ob29rcy5vblVwZGF0ZS5sZW5ndGg7aSsrKXRoaXMuaG9va3Mub25VcGRhdGVbaV0oZSx0LG4pfX0se2tleTpcIm9uQ2hhbmdlVmFsdWVcIix2YWx1ZTpmdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpPWUscj0wO3I8dGhpcy5ob29rcy5vbkNoYW5nZVZhbHVlLmxlbmd0aDtyKyspaT10aGlzLmhvb2tzLm9uQ2hhbmdlVmFsdWVbcl0oaSx0LG4pO3JldHVybiBpfX0se2tleTpcInVzZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKXRoaXMuaG9va3NbdF0/dGhpcy5ob29rc1t0XS5wdXNoKGVbdF0pOigwLHIuZGVmYXVsdCkoITEsJ1tKU1NdIFVua25vd24gaG9vayBcIiVzXCIuJyx0KX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWwobigxMDIpKSxyPWwobigxMDMpKSxvPWwobigxMDQpKSxhPWwobigxMDUpKSxzPWwobigxMDYpKTtmdW5jdGlvbiBsKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz17XCJAY2hhcnNldFwiOmkuZGVmYXVsdCxcIkBpbXBvcnRcIjppLmRlZmF1bHQsXCJAbmFtZXNwYWNlXCI6aS5kZWZhdWx0LFwiQGtleWZyYW1lc1wiOnIuZGVmYXVsdCxcIkBtZWRpYVwiOm8uZGVmYXVsdCxcIkBzdXBwb3J0c1wiOm8uZGVmYXVsdCxcIkBmb250LWZhY2VcIjphLmRlZmF1bHQsXCJAdmlld3BvcnRcIjpzLmRlZmF1bHQsXCJALW1zLXZpZXdwb3J0XCI6cy5kZWZhdWx0fSx1PU9iamVjdC5rZXlzKGMpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IFJlZ0V4cChcIl5cIitlKSxuPWNbZV07cmV0dXJue29uQ3JlYXRlUnVsZTpmdW5jdGlvbihlLGkscil7cmV0dXJuIHQudGVzdChlKT9uZXcgbihlLGkscik6bnVsbH19fSkpO3QuZGVmYXVsdD11fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKTt2YXIgcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLGkpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy50eXBlPVwic2ltcGxlXCIsdGhpcy5pc1Byb2Nlc3NlZD0hMSx0aGlzLmtleT10LHRoaXMudmFsdWU9bix0aGlzLm9wdGlvbnM9aX1yZXR1cm4gaShlLFt7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KHRoaXMudmFsdWUpKXtmb3IodmFyIHQ9XCJcIixuPTA7bjx0aGlzLnZhbHVlLmxlbmd0aDtuKyspdCs9dGhpcy5rZXkrXCIgXCIrdGhpcy52YWx1ZVtuXStcIjtcIix0aGlzLnZhbHVlW24rMV0mJih0Kz1cIlxcblwiKTtyZXR1cm4gdH1yZXR1cm4gdGhpcy5rZXkrXCIgXCIrdGhpcy52YWx1ZStcIjtcIn19XSksZX0oKTt0LmRlZmF1bHQ9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIGkgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixpKSYmKGVbaV09bltpXSl9cmV0dXJuIGV9LHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigyMCkpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4scil7Zm9yKHZhciBhIGluIGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnR5cGU9XCJrZXlmcmFtZXNcIix0aGlzLmlzUHJvY2Vzc2VkPSExLHRoaXMua2V5PXQsdGhpcy5vcHRpb25zPXIsdGhpcy5ydWxlcz1uZXcgby5kZWZhdWx0KGkoe30scix7cGFyZW50OnRoaXN9KSksbil0aGlzLnJ1bGVzLmFkZChhLG5bYV0saSh7fSx0aGlzLm9wdGlvbnMse3BhcmVudDp0aGlzLHNlbGVjdG9yOmF9KSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIHIoZSxbe2tleTpcInRvU3RyaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2luZGVudDoxfSx0PXRoaXMucnVsZXMudG9TdHJpbmcoZSk7cmV0dXJuIHQmJih0Kz1cIlxcblwiKSx0aGlzLmtleStcIiB7XFxuXCIrdCtcIn1cIn19XSksZX0oKTt0LmRlZmF1bHQ9YX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIGkgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixpKSYmKGVbaV09bltpXSl9cmV0dXJuIGV9LHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxvPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigyMCkpO3ZhciBhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4scil7Zm9yKHZhciBhIGluIGZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnR5cGU9XCJjb25kaXRpb25hbFwiLHRoaXMuaXNQcm9jZXNzZWQ9ITEsdGhpcy5rZXk9dCx0aGlzLm9wdGlvbnM9cix0aGlzLnJ1bGVzPW5ldyBvLmRlZmF1bHQoaSh7fSxyLHtwYXJlbnQ6dGhpc30pKSxuKXRoaXMucnVsZXMuYWRkKGEsblthXSk7dGhpcy5ydWxlcy5wcm9jZXNzKCl9cmV0dXJuIHIoZSxbe2tleTpcImdldFJ1bGVcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5ydWxlcy5nZXQoZSl9fSx7a2V5OlwiaW5kZXhPZlwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJ1bGVzLmluZGV4T2YoZSl9fSx7a2V5OlwiYWRkUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLnJ1bGVzLmFkZChlLHQsbik7cmV0dXJuIHRoaXMub3B0aW9ucy5qc3MucGx1Z2lucy5vblByb2Nlc3NSdWxlKGkpLGl9fSx7a2V5OlwidG9TdHJpbmdcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7aW5kZW50OjF9LHQ9dGhpcy5ydWxlcy50b1N0cmluZyhlKTtyZXR1cm4gdD90aGlzLmtleStcIiB7XFxuXCIrdCtcIlxcbn1cIjpcIlwifX1dKSxlfSgpO3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxyPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigzMCkpO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4saSl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLnR5cGU9XCJmb250LWZhY2VcIix0aGlzLmlzUHJvY2Vzc2VkPSExLHRoaXMua2V5PXQsdGhpcy5zdHlsZT1uLHRoaXMub3B0aW9ucz1pfXJldHVybiBpKGUsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkodGhpcy5zdHlsZSkpe2Zvcih2YXIgdD1cIlwiLG49MDtuPHRoaXMuc3R5bGUubGVuZ3RoO24rKyl0Kz0oMCxyLmRlZmF1bHQpKHRoaXMua2V5LHRoaXMuc3R5bGVbbl0pLHRoaXMuc3R5bGVbbisxXSYmKHQrPVwiXFxuXCIpO3JldHVybiB0fXJldHVybigwLHIuZGVmYXVsdCkodGhpcy5rZXksdGhpcy5zdHlsZSxlKX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscj1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KG4oMzApKTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLGkpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy50eXBlPVwidmlld3BvcnRcIix0aGlzLmlzUHJvY2Vzc2VkPSExLHRoaXMua2V5PXQsdGhpcy5zdHlsZT1uLHRoaXMub3B0aW9ucz1pfXJldHVybiBpKGUsW3trZXk6XCJ0b1N0cmluZ1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybigwLHIuZGVmYXVsdCkodGhpcy5rZXksdGhpcy5zdHlsZSxlKX19XSksZX0oKTt0LmRlZmF1bHQ9b30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWEobigxOCkpLHI9YShuKDI0KSksbz1hKG4oNTQpKTtmdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX10LmRlZmF1bHQ9e29uQ3JlYXRlUnVsZTpmdW5jdGlvbihlLHQsbil7aWYoISgwLG8uZGVmYXVsdCkodCkpcmV0dXJuIG51bGw7dmFyIGk9dCxhPSgwLHIuZGVmYXVsdCkoZSx7fSxuKTtyZXR1cm4gaS5zdWJzY3JpYmUoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiBlKWEucHJvcCh0LGVbdF0pfSkpLGF9LG9uUHJvY2Vzc1J1bGU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGkuZGVmYXVsdCl7dmFyIHQ9ZSxuPXQuc3R5bGUscj1mdW5jdGlvbihlKXt2YXIgaT1uW2VdO2lmKCEoMCxvLmRlZmF1bHQpKGkpKXJldHVyblwiY29udGludWVcIjtkZWxldGUgbltlXSxpLnN1YnNjcmliZSh7bmV4dDpmdW5jdGlvbihuKXt0LnByb3AoZSxuKX19KX07Zm9yKHZhciBhIGluIG4pcihhKX19fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWEobigyMCkpLHI9YShuKDE4KSksbz1hKG4oMjQpKTtmdW5jdGlvbiBhKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgcz1EYXRlLm5vdygpLGw9XCJmblZhbHVlc1wiK3MsYz1cImZuU3R5bGVcIisgKytzO3QuZGVmYXVsdD17b25DcmVhdGVSdWxlOmZ1bmN0aW9uKGUsdCxuKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybiBudWxsO3ZhciBpPSgwLG8uZGVmYXVsdCkoZSx7fSxuKTtyZXR1cm4gaVtjXT10LGl9LG9uUHJvY2Vzc1N0eWxlOmZ1bmN0aW9uKGUsdCl7dmFyIG49e307Zm9yKHZhciBpIGluIGUpe3ZhciByPWVbaV07XCJmdW5jdGlvblwiPT10eXBlb2YgciYmKGRlbGV0ZSBlW2ldLG5baV09cil9cmV0dXJuKHQ9dClbbF09bixlfSxvblVwZGF0ZTpmdW5jdGlvbihlLHQpe2lmKHQucnVsZXMgaW5zdGFuY2VvZiBpLmRlZmF1bHQpdC5ydWxlcy51cGRhdGUoZSk7ZWxzZSBpZih0IGluc3RhbmNlb2Ygci5kZWZhdWx0KXtpZigodD10KVtsXSlmb3IodmFyIG4gaW4gdFtsXSl0LnByb3Aobix0W2xdW25dKGUpKTt2YXIgbz0odD10KVtjXTtpZihvKXt2YXIgYT1vKGUpO2Zvcih2YXIgcyBpbiBhKXQucHJvcChzLGFbc10pfX19fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmZSh0LnByb3RvdHlwZSxuKSxpJiZlKHQsaSksdH19KCkscj1sKG4oMTcpKSxvPWwobigzMSkpLGE9bChuKDE4KSkscz1sKG4oMjMpKTtmdW5jdGlvbiBsKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX12YXIgYz1mdW5jdGlvbihlKXt2YXIgdD12b2lkIDA7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR8fCh0PWUoKSksdH19O2Z1bmN0aW9uIHUoZSx0KXt0cnl7cmV0dXJuIGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSh0KX1jYXRjaChlKXtyZXR1cm5cIlwifX1mdW5jdGlvbiBoKGUsdCxuKXt0cnl7dmFyIGk9bjtpZihBcnJheS5pc0FycmF5KG4pJiYoaT0oMCxzLmRlZmF1bHQpKG4sITApLFwiIWltcG9ydGFudFwiPT09bltuLmxlbmd0aC0xXSkpcmV0dXJuIGUuc3R5bGUuc2V0UHJvcGVydHkodCxpLFwiaW1wb3J0YW50XCIpLCEwO2Uuc3R5bGUuc2V0UHJvcGVydHkodCxpKX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBkKGUsdCl7dHJ5e2Uuc3R5bGUucmVtb3ZlUHJvcGVydHkodCl9Y2F0Y2goZSl7KDAsci5kZWZhdWx0KSghMSwnW0pTU10gRE9NRXhjZXB0aW9uIFwiJXNcIiB3YXMgdGhyb3duLiBUcmllZCB0byByZW1vdmUgcHJvcGVydHkgXCIlc1wiLicsZS5tZXNzYWdlLHQpfX12YXIgcD0xLGY9NyxtPWZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjA7cmV0dXJuIGUuc3Vic3RyKHQsZS5pbmRleE9mKFwie1wiKS0xKX07cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQudHlwZT09PXApcmV0dXJuIHQuc2VsZWN0b3JUZXh0O2lmKHQudHlwZT09PWYpe3ZhciBuPXQubmFtZTtpZihuKXJldHVyblwiQGtleWZyYW1lcyBcIituO3ZhciBpPXQuY3NzVGV4dDtyZXR1cm5cIkBcIitlKGksaS5pbmRleE9mKFwia2V5ZnJhbWVzXCIpKX1yZXR1cm4gZSh0LmNzc1RleHQpfX0oKTtmdW5jdGlvbiBnKGUsdCl7cmV0dXJuIGUuc2VsZWN0b3JUZXh0PXQsZS5zZWxlY3RvclRleHQ9PT10fXZhciB5PWMoKGZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmhlYWR8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXX0pKSxfPWZ1bmN0aW9uKCl7dmFyIGU9dm9pZCAwLHQ9ITE7cmV0dXJuIGZ1bmN0aW9uKG4pe3ZhciBpPXt9O2V8fChlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSk7Zm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspe3ZhciBvPW5bcl07aWYobyBpbnN0YW5jZW9mIGEuZGVmYXVsdCl7dmFyIHM9by5zZWxlY3RvcjtpZihzJiYtMSE9PXMuaW5kZXhPZihcIlxcXFxcIikpe3R8fCh5KCkuYXBwZW5kQ2hpbGQoZSksdD0hMCksZS50ZXh0Q29udGVudD1zK1wiIHt9XCI7dmFyIGw9ZS5zaGVldDtpZihsKXt2YXIgYz1sLmNzc1J1bGVzO2MmJihpW2NbMF0uc2VsZWN0b3JUZXh0XT1vLmtleSl9fX19cmV0dXJuIHQmJih5KCkucmVtb3ZlQ2hpbGQoZSksdD0hMSksaX19KCk7ZnVuY3Rpb24gdihlKXt2YXIgdD1vLmRlZmF1bHQucmVnaXN0cnk7aWYodC5sZW5ndGg+MCl7dmFyIG49ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTtpZihpLmF0dGFjaGVkJiZpLm9wdGlvbnMuaW5kZXg+dC5pbmRleCYmaS5vcHRpb25zLmluc2VydGlvblBvaW50PT09dC5pbnNlcnRpb25Qb2ludClyZXR1cm4gaX1yZXR1cm4gbnVsbH0odCxlKTtpZihuKXJldHVybiBuLnJlbmRlcmVyLmVsZW1lbnQ7aWYobj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aC0xO24+PTA7bi0tKXt2YXIgaT1lW25dO2lmKGkuYXR0YWNoZWQmJmkub3B0aW9ucy5pbnNlcnRpb25Qb2ludD09PXQuaW5zZXJ0aW9uUG9pbnQpcmV0dXJuIGl9cmV0dXJuIG51bGx9KHQsZSkpcmV0dXJuIG4ucmVuZGVyZXIuZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmd9dmFyIGk9ZS5pbnNlcnRpb25Qb2ludDtpZihpJiZcInN0cmluZ1wiPT10eXBlb2YgaSl7dmFyIGE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXkoKSxuPTA7bjx0LmNoaWxkTm9kZXMubGVuZ3RoO24rKyl7dmFyIGk9dC5jaGlsZE5vZGVzW25dO2lmKDg9PT1pLm5vZGVUeXBlJiZpLm5vZGVWYWx1ZS50cmltKCk9PT1lKXJldHVybiBpfXJldHVybiBudWxsfShpKTtpZihhKXJldHVybiBhLm5leHRTaWJsaW5nOygwLHIuZGVmYXVsdCkoXCJqc3NcIj09PWksJ1tKU1NdIEluc2VydGlvbiBwb2ludCBcIiVzXCIgbm90IGZvdW5kLicsaSl9cmV0dXJuIG51bGx9dmFyIHg9YygoZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW3Byb3BlcnR5PVwiY3NwLW5vbmNlXCJdJyk7cmV0dXJuIGU/ZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpOm51bGx9KSksYj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7IWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKX0odGhpcyxlKSx0aGlzLmdldFByb3BlcnR5VmFsdWU9dSx0aGlzLnNldFByb3BlcnR5PWgsdGhpcy5yZW1vdmVQcm9wZXJ0eT1kLHRoaXMuc2V0U2VsZWN0b3I9Zyx0aGlzLmdldEtleT1tLHRoaXMuZ2V0VW5lc2NhcGVkS2V5c01hcD1fLHRoaXMuaGFzSW5zZXJ0ZWRSdWxlcz0hMSx0JiZvLmRlZmF1bHQuYWRkKHQpLHRoaXMuc2hlZXQ9dDt2YXIgbj10aGlzLnNoZWV0P3RoaXMuc2hlZXQub3B0aW9uczp7fSxpPW4ubWVkaWEscj1uLm1ldGEsYT1uLmVsZW1lbnQ7dGhpcy5lbGVtZW50PWF8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSx0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1qc3NcIixcIlwiKSxpJiZ0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIixpKSxyJiZ0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1tZXRhXCIscik7dmFyIHM9eCgpO3MmJnRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLHMpfXJldHVybiBpKGUsW3trZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbigpeyF0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSYmdGhpcy5zaGVldCYmKHRoaXMuaGFzSW5zZXJ0ZWRSdWxlcyYmKHRoaXMuZGVwbG95KCksdGhpcy5oYXNJbnNlcnRlZFJ1bGVzPSExKSxmdW5jdGlvbihlLHQpe3ZhciBuPXQuaW5zZXJ0aW9uUG9pbnQsaT12KHQpO2lmKGkpe3ZhciBvPWkucGFyZW50Tm9kZTtvJiZvLmluc2VydEJlZm9yZShlLGkpfWVsc2UgaWYobiYmXCJudW1iZXJcIj09dHlwZW9mIG4ubm9kZVR5cGUpe3ZhciBhPW4scz1hLnBhcmVudE5vZGU7cz9zLmluc2VydEJlZm9yZShlLGEubmV4dFNpYmxpbmcpOigwLHIuZGVmYXVsdCkoITEsXCJbSlNTXSBJbnNlcnRpb24gcG9pbnQgaXMgbm90IGluIHRoZSBET00uXCIpfWVsc2UgeSgpLmluc2VydEJlZm9yZShlLGkpfSh0aGlzLmVsZW1lbnQsdGhpcy5zaGVldC5vcHRpb25zKSl9fSx7a2V5OlwiZGV0YWNoXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpfX0se2tleTpcImRlcGxveVwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5zaGVldCYmKHRoaXMuZWxlbWVudC50ZXh0Q29udGVudD1cIlxcblwiK3RoaXMuc2hlZXQudG9TdHJpbmcoKStcIlxcblwiKX19LHtrZXk6XCJpbnNlcnRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLmVsZW1lbnQuc2hlZXQsaT1uLmNzc1J1bGVzLG89ZS50b1N0cmluZygpO2lmKHR8fCh0PWkubGVuZ3RoKSwhbylyZXR1cm4hMTt0cnl7bi5pbnNlcnRSdWxlKG8sdCl9Y2F0Y2godCl7cmV0dXJuKDAsci5kZWZhdWx0KSghMSxcIltKU1NdIENhbiBub3QgaW5zZXJ0IGFuIHVuc3VwcG9ydGVkIHJ1bGUgXFxuXFxyJXNcIixlKSwhMX1yZXR1cm4gdGhpcy5oYXNJbnNlcnRlZFJ1bGVzPSEwLGlbdF19fSx7a2V5OlwiZGVsZXRlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuZWxlbWVudC5zaGVldCxuPXRoaXMuaW5kZXhPZihlKTtyZXR1cm4tMSE9PW4mJih0LmRlbGV0ZVJ1bGUobiksITApfX0se2tleTpcImluZGV4T2ZcIix2YWx1ZTpmdW5jdGlvbihlKXtmb3IodmFyIHQ9dGhpcy5lbGVtZW50LnNoZWV0LmNzc1J1bGVzLG49MDtuPHQubGVuZ3RoO24rKylpZihlPT09dFtuXSlyZXR1cm4gbjtyZXR1cm4tMX19LHtrZXk6XCJyZXBsYWNlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5pbmRleE9mKGUpLGk9dGhpcy5pbnNlcnRSdWxlKHQsbik7cmV0dXJuIHRoaXMuZWxlbWVudC5zaGVldC5kZWxldGVSdWxlKG4pLGl9fSx7a2V5OlwiZ2V0UnVsZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuc2hlZXQuY3NzUnVsZXN9fV0pLGV9KCk7dC5kZWZhdWx0PWJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsaS5rZXksaSl9fXJldHVybiBmdW5jdGlvbih0LG4saSl7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksaSYmZSh0LGkpLHR9fSgpO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSl9cmV0dXJuIGkoZSxbe2tleTpcInNldFByb3BlcnR5XCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LHtrZXk6XCJnZXRQcm9wZXJ0eVZhbHVlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm5cIlwifX0se2tleTpcInJlbW92ZVByb3BlcnR5XCIsdmFsdWU6ZnVuY3Rpb24oKXt9fSx7a2V5Olwic2V0U2VsZWN0b3JcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiEwfX0se2tleTpcImdldEtleVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn19LHtrZXk6XCJhdHRhY2hcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJkZXRhY2hcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJkZXBsb3lcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJpbnNlcnRSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMX19LHtrZXk6XCJkZWxldGVSdWxlXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19LHtrZXk6XCJyZXBsYWNlUnVsZVwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuITF9fSx7a2V5OlwiZ2V0UnVsZXNcIix2YWx1ZTpmdW5jdGlvbigpe319LHtrZXk6XCJpbmRleE9mXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4tMX19XSksZX0oKTt0LmRlZmF1bHQ9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIGkgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixpKSYmKGVbaV09bltpXSl9cmV0dXJuIGV9O3QuZGVmYXVsdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIGk9ZS5nZXRSdWxlKG4pO3JldHVybiBpP2kuc2VsZWN0b3I6KCgwLHIuZGVmYXVsdCkoITEsXCJbSlNTXSBDb3VsZCBub3QgZmluZCB0aGUgcmVmZXJlbmNlZCBydWxlICVzIGluICVzLlwiLG4sZS5vcHRpb25zLm1ldGF8fGUpLG4pfX12YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4tMSE9PWUuaW5kZXhPZihcIiZcIil9O2Z1bmN0aW9uIG4oZSxuKXtmb3IodmFyIGk9bi5zcGxpdChvKSxyPWUuc3BsaXQobykscz1cIlwiLGw9MDtsPGkubGVuZ3RoO2wrKylmb3IodmFyIGM9aVtsXSx1PTA7dTxyLmxlbmd0aDt1Kyspe3ZhciBoPXJbdV07cyYmKHMrPVwiLCBcIikscys9dChoKT9oLnJlcGxhY2UoYSxjKTpjK1wiIFwiK2h9cmV0dXJuIHN9ZnVuY3Rpb24gbChlLHQsbil7aWYobilyZXR1cm4gaSh7fSxuLHtpbmRleDpuLmluZGV4KzF9KTt2YXIgcj1lLm9wdGlvbnMubmVzdGluZ0xldmVsO3JldHVybiByPXZvaWQgMD09PXI/MTpyKzEsaSh7fSxlLm9wdGlvbnMse25lc3RpbmdMZXZlbDpyLGluZGV4OnQuaW5kZXhPZihlKSsxfSl9cmV0dXJue29uUHJvY2Vzc1N0eWxlOmZ1bmN0aW9uKHIsbyl7aWYoXCJzdHlsZVwiIT09by50eXBlKXJldHVybiByO3ZhciBhPW8ub3B0aW9ucy5wYXJlbnQsYz12b2lkIDAsdT12b2lkIDA7Zm9yKHZhciBoIGluIHIpe3ZhciBkPXQoaCkscD1cIkBcIj09PWhbMF07aWYoZHx8cCl7aWYoYz1sKG8sYSxjKSxkKXt2YXIgZj1uKGgsby5zZWxlY3Rvcik7dXx8KHU9ZShhKSksZj1mLnJlcGxhY2Uocyx1KSxhLmFkZFJ1bGUoZixyW2hdLGkoe30sYyx7c2VsZWN0b3I6Zn0pKX1lbHNlIHAmJmEuYWRkUnVsZShoLG51bGwsYykuYWRkUnVsZShvLmtleSxyW2hdLHtzZWxlY3RvcjpvLnNlbGVjdG9yfSk7ZGVsZXRlIHJbaF19fXJldHVybiByfX19O3ZhciByPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigxMTIpKTt2YXIgbz0vXFxzKixcXHMqL2csYT0vJi9nLHM9L1xcJChbXFx3LV0rKS9nfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbigpe3JldHVybntvblByb2Nlc3NTdHlsZTpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdPXIoZVt0XSk7cmV0dXJuIGV9cmV0dXJuIHIoZSl9LG9uQ2hhbmdlVmFsdWU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPSgwLGkuZGVmYXVsdCkodCk7cmV0dXJuIHQ9PT1yP2U6KG4ucHJvcChyLGUpLG51bGwpfX19O3ZhciBpPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX0obigxMTQpKTtmdW5jdGlvbiByKGUpe3ZhciB0PXt9O2Zvcih2YXIgbiBpbiBlKXRbKDAsaS5kZWZhdWx0KShuKV09ZVtuXTtyZXR1cm4gZS5mYWxsYmFja3MmJihBcnJheS5pc0FycmF5KGUuZmFsbGJhY2tzKT90LmZhbGxiYWNrcz1lLmZhbGxiYWNrcy5tYXAocik6dC5mYWxsYmFja3M9cihlLmZhbGxiYWNrcykpLHR9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7bi5yKHQpO3ZhciBpPS9bQS1aXS9nLHI9L15tcy0vLG89e307ZnVuY3Rpb24gYShlKXtyZXR1cm5cIi1cIitlLnRvTG93ZXJDYXNlKCl9dC5kZWZhdWx0PWZ1bmN0aW9uKGUpe2lmKG8uaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuIG9bZV07dmFyIHQ9ZS5yZXBsYWNlKGksYSk7cmV0dXJuIG9bZV09ci50ZXN0KHQpP1wiLVwiK3Q6dH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfTtmdW5jdGlvbiByKGUpe3ZhciB0PS8oLVthLXpdKS9nLG49ZnVuY3Rpb24oZSl7cmV0dXJuIGVbMV0udG9VcHBlckNhc2UoKX0saT17fTtmb3IodmFyIHIgaW4gZSlpW3JdPWVbcl0saVtyLnJlcGxhY2UodCxuKV09ZVtyXTtyZXR1cm4gaX10LmRlZmF1bHQ9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1yKGUpO2Z1bmN0aW9uIG4oZSxuKXtpZihcInN0eWxlXCIhPT1uLnR5cGUpcmV0dXJuIGU7Zm9yKHZhciBpIGluIGUpZVtpXT1hKGksZVtpXSx0KTtyZXR1cm4gZX1mdW5jdGlvbiBpKGUsbil7cmV0dXJuIGEobixlLHQpfXJldHVybntvblByb2Nlc3NTdHlsZTpuLG9uQ2hhbmdlVmFsdWU6aX19O3ZhciBvPXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fShuKDExNikpLmRlZmF1bHQpO2Z1bmN0aW9uIGEoZSx0LG4pe2lmKCF0KXJldHVybiB0O3ZhciByPXQscz12b2lkIDA9PT10P1widW5kZWZpbmVkXCI6aSh0KTtzd2l0Y2goXCJvYmplY3RcIj09PXMmJkFycmF5LmlzQXJyYXkodCkmJihzPVwiYXJyYXlcIikscyl7Y2FzZVwib2JqZWN0XCI6aWYoXCJmYWxsYmFja3NcIj09PWUpe2Zvcih2YXIgbCBpbiB0KXRbbF09YShsLHRbbF0sbik7YnJlYWt9Zm9yKHZhciBjIGluIHQpdFtjXT1hKGUrXCItXCIrYyx0W2NdLG4pO2JyZWFrO2Nhc2VcImFycmF5XCI6Zm9yKHZhciB1PTA7dTx0Lmxlbmd0aDt1KyspdFt1XT1hKGUsdFt1XSxuKTticmVhaztjYXNlXCJudW1iZXJcIjowIT09dCYmKHI9dCsobltlXXx8b1tlXXx8XCJcIikpfXJldHVybiByfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD17XCJhbmltYXRpb24tZGVsYXlcIjpcIm1zXCIsXCJhbmltYXRpb24tZHVyYXRpb25cIjpcIm1zXCIsXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCI6XCJweFwiLFwiYmFja2dyb3VuZC1wb3NpdGlvbi14XCI6XCJweFwiLFwiYmFja2dyb3VuZC1wb3NpdGlvbi15XCI6XCJweFwiLFwiYmFja2dyb3VuZC1zaXplXCI6XCJweFwiLGJvcmRlcjpcInB4XCIsXCJib3JkZXItYm90dG9tXCI6XCJweFwiLFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiOlwicHhcIixcImJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzXCI6XCJweFwiLFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiOlwicHhcIixcImJvcmRlci1sZWZ0XCI6XCJweFwiLFwiYm9yZGVyLWxlZnQtd2lkdGhcIjpcInB4XCIsXCJib3JkZXItcmFkaXVzXCI6XCJweFwiLFwiYm9yZGVyLXJpZ2h0XCI6XCJweFwiLFwiYm9yZGVyLXJpZ2h0LXdpZHRoXCI6XCJweFwiLFwiYm9yZGVyLXNwYWNpbmdcIjpcInB4XCIsXCJib3JkZXItdG9wXCI6XCJweFwiLFwiYm9yZGVyLXRvcC1sZWZ0LXJhZGl1c1wiOlwicHhcIixcImJvcmRlci10b3AtcmlnaHQtcmFkaXVzXCI6XCJweFwiLFwiYm9yZGVyLXRvcC13aWR0aFwiOlwicHhcIixcImJvcmRlci13aWR0aFwiOlwicHhcIixcImJvcmRlci1hZnRlci13aWR0aFwiOlwicHhcIixcImJvcmRlci1iZWZvcmUtd2lkdGhcIjpcInB4XCIsXCJib3JkZXItZW5kLXdpZHRoXCI6XCJweFwiLFwiYm9yZGVyLWhvcml6b250YWwtc3BhY2luZ1wiOlwicHhcIixcImJvcmRlci1zdGFydC13aWR0aFwiOlwicHhcIixcImJvcmRlci12ZXJ0aWNhbC1zcGFjaW5nXCI6XCJweFwiLGJvdHRvbTpcInB4XCIsXCJib3gtc2hhZG93XCI6XCJweFwiLFwiY29sdW1uLWdhcFwiOlwicHhcIixcImNvbHVtbi1ydWxlXCI6XCJweFwiLFwiY29sdW1uLXJ1bGUtd2lkdGhcIjpcInB4XCIsXCJjb2x1bW4td2lkdGhcIjpcInB4XCIsXCJmbGV4LWJhc2lzXCI6XCJweFwiLFwiZm9udC1zaXplXCI6XCJweFwiLFwiZm9udC1zaXplLWRlbHRhXCI6XCJweFwiLGhlaWdodDpcInB4XCIsbGVmdDpcInB4XCIsXCJsZXR0ZXItc3BhY2luZ1wiOlwicHhcIixcImxvZ2ljYWwtaGVpZ2h0XCI6XCJweFwiLFwibG9naWNhbC13aWR0aFwiOlwicHhcIixtYXJnaW46XCJweFwiLFwibWFyZ2luLWFmdGVyXCI6XCJweFwiLFwibWFyZ2luLWJlZm9yZVwiOlwicHhcIixcIm1hcmdpbi1ib3R0b21cIjpcInB4XCIsXCJtYXJnaW4tbGVmdFwiOlwicHhcIixcIm1hcmdpbi1yaWdodFwiOlwicHhcIixcIm1hcmdpbi10b3BcIjpcInB4XCIsXCJtYXgtaGVpZ2h0XCI6XCJweFwiLFwibWF4LXdpZHRoXCI6XCJweFwiLFwibWFyZ2luLWVuZFwiOlwicHhcIixcIm1hcmdpbi1zdGFydFwiOlwicHhcIixcIm1hc2stcG9zaXRpb24teFwiOlwicHhcIixcIm1hc2stcG9zaXRpb24teVwiOlwicHhcIixcIm1hc2stc2l6ZVwiOlwicHhcIixcIm1heC1sb2dpY2FsLWhlaWdodFwiOlwicHhcIixcIm1heC1sb2dpY2FsLXdpZHRoXCI6XCJweFwiLFwibWluLWhlaWdodFwiOlwicHhcIixcIm1pbi13aWR0aFwiOlwicHhcIixcIm1pbi1sb2dpY2FsLWhlaWdodFwiOlwicHhcIixcIm1pbi1sb2dpY2FsLXdpZHRoXCI6XCJweFwiLG1vdGlvbjpcInB4XCIsXCJtb3Rpb24tb2Zmc2V0XCI6XCJweFwiLG91dGxpbmU6XCJweFwiLFwib3V0bGluZS1vZmZzZXRcIjpcInB4XCIsXCJvdXRsaW5lLXdpZHRoXCI6XCJweFwiLHBhZGRpbmc6XCJweFwiLFwicGFkZGluZy1ib3R0b21cIjpcInB4XCIsXCJwYWRkaW5nLWxlZnRcIjpcInB4XCIsXCJwYWRkaW5nLXJpZ2h0XCI6XCJweFwiLFwicGFkZGluZy10b3BcIjpcInB4XCIsXCJwYWRkaW5nLWFmdGVyXCI6XCJweFwiLFwicGFkZGluZy1iZWZvcmVcIjpcInB4XCIsXCJwYWRkaW5nLWVuZFwiOlwicHhcIixcInBhZGRpbmctc3RhcnRcIjpcInB4XCIsXCJwZXJzcGVjdGl2ZS1vcmlnaW4teFwiOlwiJVwiLFwicGVyc3BlY3RpdmUtb3JpZ2luLXlcIjpcIiVcIixwZXJzcGVjdGl2ZTpcInB4XCIscmlnaHQ6XCJweFwiLFwic2hhcGUtbWFyZ2luXCI6XCJweFwiLHNpemU6XCJweFwiLFwidGV4dC1pbmRlbnRcIjpcInB4XCIsXCJ0ZXh0LXN0cm9rZVwiOlwicHhcIixcInRleHQtc3Ryb2tlLXdpZHRoXCI6XCJweFwiLHRvcDpcInB4XCIsXCJ0cmFuc2Zvcm0tb3JpZ2luXCI6XCIlXCIsXCJ0cmFuc2Zvcm0tb3JpZ2luLXhcIjpcIiVcIixcInRyYW5zZm9ybS1vcmlnaW4teVwiOlwiJVwiLFwidHJhbnNmb3JtLW9yaWdpbi16XCI6XCIlXCIsXCJ0cmFuc2l0aW9uLWRlbGF5XCI6XCJtc1wiLFwidHJhbnNpdGlvbi1kdXJhdGlvblwiOlwibXNcIixcInZlcnRpY2FsLWFsaWduXCI6XCJweFwiLHdpZHRoOlwicHhcIixcIndvcmQtc3BhY2luZ1wiOlwicHhcIixcImJveC1zaGFkb3cteFwiOlwicHhcIixcImJveC1zaGFkb3cteVwiOlwicHhcIixcImJveC1zaGFkb3ctYmx1clwiOlwicHhcIixcImJveC1zaGFkb3ctc3ByZWFkXCI6XCJweFwiLFwiZm9udC1saW5lLWhlaWdodFwiOlwicHhcIixcInRleHQtc2hhZG93LXhcIjpcInB4XCIsXCJ0ZXh0LXNoYWRvdy15XCI6XCJweFwiLFwidGV4dC1zaGFkb3ctYmx1clwiOlwicHhcIn19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57b25Qcm9jZXNzUnVsZTpmdW5jdGlvbihlKXtcImtleWZyYW1lc1wiPT09ZS50eXBlJiYoZS5rZXk9XCJAXCIraS5wcmVmaXguY3NzK2Uua2V5LnN1YnN0cigxKSl9LG9uUHJvY2Vzc1N0eWxlOmZ1bmN0aW9uKGUsdCl7aWYoXCJzdHlsZVwiIT09dC50eXBlKXJldHVybiBlO2Zvcih2YXIgbiBpbiBlKXt2YXIgcj1lW25dLG89ITEsYT1pLnN1cHBvcnRlZFByb3BlcnR5KG4pO2EmJmEhPT1uJiYobz0hMCk7dmFyIHM9ITEsbD1pLnN1cHBvcnRlZFZhbHVlKGEscik7bCYmbCE9PXImJihzPSEwKSwob3x8cykmJihvJiZkZWxldGUgZVtuXSxlW2F8fG5dPWx8fHIpfXJldHVybiBlfSxvbkNoYW5nZVZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuc3VwcG9ydGVkVmFsdWUodCxlKX19fTt2YXIgaT1mdW5jdGlvbihlKXtpZihlJiZlLl9fZXNNb2R1bGUpcmV0dXJuIGU7dmFyIHQ9e307aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmKHRbbl09ZVtuXSk7cmV0dXJuIHQuZGVmYXVsdD1lLHR9KG4oMTE4KSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LnN1cHBvcnRlZFZhbHVlPXQuc3VwcG9ydGVkUHJvcGVydHk9dC5wcmVmaXg9dm9pZCAwO3ZhciBpPWEobigzMikpLHI9YShuKDExOSkpLG89YShuKDEyMSkpO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fXQuZGVmYXVsdD17cHJlZml4OmkuZGVmYXVsdCxzdXBwb3J0ZWRQcm9wZXJ0eTpyLmRlZmF1bHQsc3VwcG9ydGVkVmFsdWU6by5kZWZhdWx0fSx0LnByZWZpeD1pLmRlZmF1bHQsdC5zdXBwb3J0ZWRQcm9wZXJ0eT1yLmRlZmF1bHQsdC5zdXBwb3J0ZWRWYWx1ZT1vLmRlZmF1bHR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7aWYoIXMpcmV0dXJuIGU7aWYobnVsbCE9bFtlXSlyZXR1cm4gbFtlXTsoMCxvLmRlZmF1bHQpKGUpaW4gcy5zdHlsZT9sW2VdPWU6ci5kZWZhdWx0LmpzKygwLG8uZGVmYXVsdCkoXCItXCIrZSlpbiBzLnN0eWxlP2xbZV09ci5kZWZhdWx0LmNzcytlOmxbZV09ITE7cmV0dXJuIGxbZV19O3ZhciBpPWEobigyNikpLHI9YShuKDMyKSksbz1hKG4oMTIwKSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIHM9dm9pZCAwLGw9e307aWYoaS5kZWZhdWx0KXtzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO3ZhciBjPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcIlwiKTtmb3IodmFyIHUgaW4gYylpc05hTih1KXx8KGxbY1t1XV09Y1t1XSl9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoaSxyKX07dmFyIGk9L1stXFxzXSsoLik/L2c7ZnVuY3Rpb24gcihlLHQpe3JldHVybiB0P3QudG9VcHBlckNhc2UoKTpcIlwifX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlLHQpe2lmKCFzKXJldHVybiB0O2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0fHwhaXNOYU4ocGFyc2VJbnQodCwxMCkpKXJldHVybiB0O3ZhciBuPWUrdDtpZihudWxsIT1hW25dKXJldHVybiBhW25dO3RyeXtzLnN0eWxlW2VdPXR9Y2F0Y2goZSl7cmV0dXJuIGFbbl09ITEsITF9XCJcIiE9PXMuc3R5bGVbZV0/YVtuXT10OihcIi1tcy1mbGV4XCI9PT0odD1yLmRlZmF1bHQuY3NzK3QpJiYodD1cIi1tcy1mbGV4Ym94XCIpLHMuc3R5bGVbZV09dCxcIlwiIT09cy5zdHlsZVtlXSYmKGFbbl09dCkpO2Fbbl18fChhW25dPSExKTtyZXR1cm4gcy5zdHlsZVtlXT1cIlwiLGFbbl19O3ZhciBpPW8obigyNikpLHI9byhuKDMyKSk7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dmFyIGE9e30scz12b2lkIDA7aS5kZWZhdWx0JiYocz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7cmV0dXJuIGUubGVuZ3RoLXQubGVuZ3RofXJldHVybntvblByb2Nlc3NTdHlsZTpmdW5jdGlvbih0LG4pe2lmKFwic3R5bGVcIiE9PW4udHlwZSlyZXR1cm4gdDt2YXIgaT17fSxyPU9iamVjdC5rZXlzKHQpLnNvcnQoZSk7Zm9yKHZhciBvIGluIHIpaVtyW29dXT10W3Jbb11dO3JldHVybiBpfX19fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigxMjQpLHI9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5NdWlUaGVtZVByb3ZpZGVyT2xkPXZvaWQgMDt2YXIgbz1yKG4oMikpLGE9cihuKDUpKSxzPXIobigxMCkpLGw9cihuKDExKSksYz1yKG4oMTIpKSx1PXIobigxMykpLGg9cihuKDE0KSksZD1yKG4oMSkpLHA9cihuKDMpKSxmPShyKG4oNikpLHIobigxMjcpKSksbT1uKDcpLGc9aShuKDM0KSkseT1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsbil7dmFyIGk7cmV0dXJuKDAscy5kZWZhdWx0KSh0aGlzLHQpLChpPSgwLGMuZGVmYXVsdCkodGhpcywoMCx1LmRlZmF1bHQpKHQpLmNhbGwodGhpcykpKS5icm9hZGNhc3Q9KDAsZi5kZWZhdWx0KSgpLGkub3V0ZXJUaGVtZT1nLmRlZmF1bHQuaW5pdGlhbChuKSxpLmJyb2FkY2FzdC5zZXRTdGF0ZShpLm1lcmdlT3V0ZXJMb2NhbFRoZW1lKGUudGhlbWUpKSxpfXJldHVybigwLGguZGVmYXVsdCkodCxlKSwoMCxsLmRlZmF1bHQpKHQsW3trZXk6XCJnZXRDaGlsZENvbnRleHRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5wcm9wcyxuPXQuZGlzYWJsZVN0eWxlc0dlbmVyYXRpb24saT10LnNoZWV0c0NhY2hlLHI9dC5zaGVldHNNYW5hZ2VyLG89dGhpcy5jb250ZXh0Lm11aVRoZW1lUHJvdmlkZXJPcHRpb25zfHx7fTtyZXR1cm4gdm9pZCAwIT09biYmKG8uZGlzYWJsZVN0eWxlc0dlbmVyYXRpb249biksdm9pZCAwIT09aSYmKG8uc2hlZXRzQ2FjaGU9aSksdm9pZCAwIT09ciYmKG8uc2hlZXRzTWFuYWdlcj1yKSxlPXt9LCgwLGEuZGVmYXVsdCkoZSxnLkNIQU5ORUwsdGhpcy5icm9hZGNhc3QpLCgwLGEuZGVmYXVsdCkoZSxcIm11aVRoZW1lUHJvdmlkZXJPcHRpb25zXCIsbyksZX19LHtrZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnVuc3Vic2NyaWJlSWQ9Zy5kZWZhdWx0LnN1YnNjcmliZSh0aGlzLmNvbnRleHQsKGZ1bmN0aW9uKHQpe2Uub3V0ZXJUaGVtZT10LGUuYnJvYWRjYXN0LnNldFN0YXRlKGUubWVyZ2VPdXRlckxvY2FsVGhlbWUoZS5wcm9wcy50aGVtZSkpfSkpfX0se2tleTpcImNvbXBvbmVudERpZFVwZGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMucHJvcHMudGhlbWUhPT1lLnRoZW1lJiZ0aGlzLmJyb2FkY2FzdC5zZXRTdGF0ZSh0aGlzLm1lcmdlT3V0ZXJMb2NhbFRoZW1lKHRoaXMucHJvcHMudGhlbWUpKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMudW5zdWJzY3JpYmVJZCYmZy5kZWZhdWx0LnVuc3Vic2NyaWJlKHRoaXMuY29udGV4dCx0aGlzLnVuc3Vic2NyaWJlSWQpfX0se2tleTpcIm1lcmdlT3V0ZXJMb2NhbFRoZW1lXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKHRoaXMub3V0ZXJUaGVtZSk6dGhpcy5vdXRlclRoZW1lPygwLG8uZGVmYXVsdCkoe30sdGhpcy5vdXRlclRoZW1lLGUpOmV9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbn19XSksdH0oZC5kZWZhdWx0LkNvbXBvbmVudCk7dC5NdWlUaGVtZVByb3ZpZGVyT2xkPXkseS5jaGlsZENvbnRleHRUeXBlcz0oMCxvLmRlZmF1bHQpKHt9LGcuZGVmYXVsdC5jb250ZXh0VHlwZXMse211aVRoZW1lUHJvdmlkZXJPcHRpb25zOnAuZGVmYXVsdC5vYmplY3R9KSx5LmNvbnRleHRUeXBlcz0oMCxvLmRlZmF1bHQpKHt9LGcuZGVmYXVsdC5jb250ZXh0VHlwZXMse211aVRoZW1lUHJvdmlkZXJPcHRpb25zOnAuZGVmYXVsdC5vYmplY3R9KSxtLnBvbnlmaWxsR2xvYmFsLl9fTVVJX1NUWUxFU19ffHwobS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXz17fSksbS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXy5NdWlUaGVtZVByb3ZpZGVyfHwobS5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXy5NdWlUaGVtZVByb3ZpZGVyPXkpO3ZhciBfPW0ucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18uTXVpVGhlbWVQcm92aWRlcjt0LmRlZmF1bHQ9X30sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oMTUpLmRlZmF1bHQ7ZnVuY3Rpb24gcihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciB0PW5ldyBXZWFrTWFwLG49bmV3IFdlYWtNYXA7cmV0dXJuKHI9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/bjp0fSkoZSl9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PWkoZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJue2RlZmF1bHQ6ZX07dmFyIG49cih0KTtpZihuJiZuLmhhcyhlKSlyZXR1cm4gbi5nZXQoZSk7dmFyIG89e30sYT1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBzIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1zJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSl7dmFyIGw9YT9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscyk6bnVsbDtsJiYobC5nZXR8fGwuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobyxzLGwpOm9bc109ZVtzXX1yZXR1cm4gby5kZWZhdWx0PWUsbiYmbi5zZXQoZSxvKSxvfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDEyNik7ZnVuY3Rpb24gcigpe31mdW5jdGlvbiBvKCl7fW8ucmVzZXRXYXJuaW5nQ2FjaGU9cixlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCxuLHIsbyxhKXtpZihhIT09aSl7dmFyIHM9bmV3IEVycm9yKFwiQ2FsbGluZyBQcm9wVHlwZXMgdmFsaWRhdG9ycyBkaXJlY3RseSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZS4gVXNlIFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpIHRvIGNhbGwgdGhlbS4gUmVhZCBtb3JlIGF0IGh0dHA6Ly9mYi5tZS91c2UtY2hlY2stcHJvcC10eXBlc1wiKTt0aHJvdyBzLm5hbWU9XCJJbnZhcmlhbnQgVmlvbGF0aW9uXCIsc319ZnVuY3Rpb24gdCgpe3JldHVybiBlfWUuaXNSZXF1aXJlZD1lO3ZhciBuPXthcnJheTplLGJpZ2ludDplLGJvb2w6ZSxmdW5jOmUsbnVtYmVyOmUsb2JqZWN0OmUsc3RyaW5nOmUsc3ltYm9sOmUsYW55OmUsYXJyYXlPZjp0LGVsZW1lbnQ6ZSxlbGVtZW50VHlwZTplLGluc3RhbmNlT2Y6dCxub2RlOmUsb2JqZWN0T2Y6dCxvbmVPZjp0LG9uZU9mVHlwZTp0LHNoYXBlOnQsZXhhY3Q6dCxjaGVja1Byb3BUeXBlczpvLHJlc2V0V2FybmluZ0NhY2hlOnJ9O3JldHVybiBuLlByb3BUeXBlcz1uLG59fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZS5leHBvcnRzPVwiU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRURcIn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO24ucih0KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e30sbj0xLGk9ZTtyZXR1cm57Z2V0U3RhdGU6ZnVuY3Rpb24oKXtyZXR1cm4gaX0sc2V0U3RhdGU6ZnVuY3Rpb24oZSl7aT1lO2Zvcih2YXIgbj1PYmplY3Qua2V5cyh0KSxyPTAsbz1uLmxlbmd0aDtyPG87cisrKXRbbltyXV0mJnRbbltyXV0oZSl9LHN1YnNjcmliZTpmdW5jdGlvbihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcImxpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbi5cIik7dmFyIGk9bjtyZXR1cm4gdFtpXT1lLG4rPTEsaX0sdW5zdWJzY3JpYmU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRbZV19fX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT17anNzOlwiNjRhNTVkNTc4Zjg1NmQyNThkYzM0NWIwOTRhMmEyYjNcIixzaGVldHNSZWdpc3RyeTpcImQ0YmQwYmFhY2JjNTJiYmQ0OGJiYjllYjI0MzQ0ZWNkXCIsc2hlZXRPcHRpb25zOlwiNmZjNTcwZDZiZDYxMzgzODE5ZDBmOWU3NDA3YzQ1MmRcIn07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIHI9aShuKDIpKTtpKG4oNikpLG4oNyk7dmFyIG89ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmJhc2VDbGFzc2VzLG49ZS5uZXdDbGFzc2VzO2lmKGUuQ29tcG9uZW50LCFuKXJldHVybiB0O3ZhciBpPSgwLHIuZGVmYXVsdCkoe30sdCk7cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe25bZV0mJihpW2VdPVwiXCIuY29uY2F0KHRbZV0sXCIgXCIpLmNvbmNhdChuW2VdKSl9KSksaX07dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPXtzZXQ6ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9ZS5nZXQodCk7cnx8KHI9bmV3IE1hcCxlLnNldCh0LHIpKSxyLnNldChuLGkpfSxnZXQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWUuZ2V0KHQpO3JldHVybiBpP2kuZ2V0KG4pOnZvaWQgMH0sZGVsZXRlOmZ1bmN0aW9uKGUsdCxuKXtlLmdldCh0KS5kZWxldGUobil9fTt0LmRlZmF1bHQ9aX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKG4oMikpLG89KGkobigxNSkpLGkobig2KSksaShuKDIyKSkpO2Z1bmN0aW9uIGEoZSx0KXtyZXR1cm4gdH12YXIgcz1mdW5jdGlvbihlKXt2YXIgdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlO3JldHVybntjcmVhdGU6ZnVuY3Rpb24obixpKXt2YXIgcz10P2Uobik6ZTtpZighaXx8IW4ub3ZlcnJpZGVzfHwhbi5vdmVycmlkZXNbaV0pcmV0dXJuIHM7dmFyIGw9bi5vdmVycmlkZXNbaV0sYz0oMCxyLmRlZmF1bHQpKHt9LHMpO3JldHVybiBPYmplY3Qua2V5cyhsKS5mb3JFYWNoKChmdW5jdGlvbihlKXtjW2VdPSgwLG8uZGVmYXVsdCkoY1tlXSxsW2VdLHthcnJheU1lcmdlOmF9KX0pKSxjfSxvcHRpb25zOnt9LHRoZW1pbmdFbmFibGVkOnR9fTt0LmRlZmF1bHQ9c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS50aGVtZSxuPWUubmFtZSxpPWUucHJvcHM7aWYoIXQucHJvcHN8fCFufHwhdC5wcm9wc1tuXSlyZXR1cm4gaTt2YXIgcixvPXQucHJvcHNbbl07Zm9yKHIgaW4gbyl2b2lkIDA9PT1pW3JdJiYoaVtyXT1vW3JdKTtyZXR1cm4gaX07dC5kZWZhdWx0PWl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIHIsbz1pKG4oMikpLGE9aShuKDQpKSxzPWkobigxMCkpLGw9aShuKDExKSksYz1pKG4oMTIpKSx1PWkobigxMykpLGg9aShuKDE0KSksZD1pKG4oMSkpLHA9KGkobigzKSksaShuKDM1KSkpLGY9big3KSxtPWkobigyOSkpLGc9aShuKDM0KSk7ZnVuY3Rpb24geSgpe3JldHVybiByfHwocj0oMCxtLmRlZmF1bHQpKHt0eXBvZ3JhcGh5OntzdXBwcmVzc1dhcm5pbmc6ITB9fSkpfWYucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX198fChmLnBvbnlmaWxsR2xvYmFsLl9fTVVJX1NUWUxFU19fPXt9KSxmLnBvbnlmaWxsR2xvYmFsLl9fTVVJX1NUWUxFU19fLndpdGhUaGVtZXx8KGYucG9ueWZpbGxHbG9iYWwuX19NVUlfU1RZTEVTX18ud2l0aFRoZW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSx0KXt2YXIgaTtyZXR1cm4oMCxzLmRlZmF1bHQpKHRoaXMsbiksKGk9KDAsYy5kZWZhdWx0KSh0aGlzLCgwLHUuZGVmYXVsdCkobikuY2FsbCh0aGlzKSkpLnN0YXRlPXt0aGVtZTpnLmRlZmF1bHQuaW5pdGlhbCh0KXx8eSgpfSxpfXJldHVybigwLGguZGVmYXVsdCkobix0KSwoMCxsLmRlZmF1bHQpKG4sW3trZXk6XCJjb21wb25lbnREaWRNb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLnVuc3Vic2NyaWJlSWQ9Zy5kZWZhdWx0LnN1YnNjcmliZSh0aGlzLmNvbnRleHQsKGZ1bmN0aW9uKHQpe2Uuc2V0U3RhdGUoe3RoZW1lOnR9KX0pKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMudW5zdWJzY3JpYmVJZCYmZy5kZWZhdWx0LnVuc3Vic2NyaWJlKHRoaXMuY29udGV4dCx0aGlzLnVuc3Vic2NyaWJlSWQpfX0se2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wcm9wcyxuPXQuaW5uZXJSZWYsaT0oMCxhLmRlZmF1bHQpKHQsW1wiaW5uZXJSZWZcIl0pO3JldHVybiBkLmRlZmF1bHQuY3JlYXRlRWxlbWVudChlLCgwLG8uZGVmYXVsdCkoe3RoZW1lOnRoaXMuc3RhdGUudGhlbWUscmVmOm59LGkpKX19XSksbn0oZC5kZWZhdWx0LkNvbXBvbmVudCk7cmV0dXJuIHQuY29udGV4dFR5cGVzPWcuZGVmYXVsdC5jb250ZXh0VHlwZXMsKDAscC5kZWZhdWx0KSh0LGUpLHR9fSk7dmFyIF89Zi5wb255ZmlsbEdsb2JhbC5fX01VSV9TVFlMRVNfXy53aXRoVGhlbWU7dC5kZWZhdWx0PV99LCwsZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDUpKSxhPWkobig0KSkscz1pKG4oMSkpLGw9KGkobigzKSksaShuKDgpKSksYz0obig3KSxpKG4oOSkpKSx1PW4oMTYpLGg9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e2Rpc3BsYXk6XCJibG9ja1wiLG1hcmdpbjowfSxkaXNwbGF5NDplLnR5cG9ncmFwaHkuZGlzcGxheTQsZGlzcGxheTM6ZS50eXBvZ3JhcGh5LmRpc3BsYXkzLGRpc3BsYXkyOmUudHlwb2dyYXBoeS5kaXNwbGF5MixkaXNwbGF5MTplLnR5cG9ncmFwaHkuZGlzcGxheTEsaGVhZGxpbmU6ZS50eXBvZ3JhcGh5LmhlYWRsaW5lLHRpdGxlOmUudHlwb2dyYXBoeS50aXRsZSxzdWJoZWFkaW5nOmUudHlwb2dyYXBoeS5zdWJoZWFkaW5nLGJvZHkyOmUudHlwb2dyYXBoeS5ib2R5Mixib2R5MTplLnR5cG9ncmFwaHkuYm9keTEsY2FwdGlvbjplLnR5cG9ncmFwaHkuY2FwdGlvbixidXR0b246ZS50eXBvZ3JhcGh5LmJ1dHRvbixoMTplLnR5cG9ncmFwaHkuaDEsaDI6ZS50eXBvZ3JhcGh5LmgyLGgzOmUudHlwb2dyYXBoeS5oMyxoNDplLnR5cG9ncmFwaHkuaDQsaDU6ZS50eXBvZ3JhcGh5Lmg1LGg2OmUudHlwb2dyYXBoeS5oNixzdWJ0aXRsZTE6ZS50eXBvZ3JhcGh5LnN1YnRpdGxlMSxzdWJ0aXRsZTI6ZS50eXBvZ3JhcGh5LnN1YnRpdGxlMixvdmVybGluZTplLnR5cG9ncmFwaHkub3ZlcmxpbmUsc3JPbmx5Ontwb3NpdGlvbjpcImFic29sdXRlXCIsaGVpZ2h0OjEsd2lkdGg6MSxvdmVyZmxvdzpcImhpZGRlblwifSxhbGlnbkxlZnQ6e3RleHRBbGlnbjpcImxlZnRcIn0sYWxpZ25DZW50ZXI6e3RleHRBbGlnbjpcImNlbnRlclwifSxhbGlnblJpZ2h0Ont0ZXh0QWxpZ246XCJyaWdodFwifSxhbGlnbkp1c3RpZnk6e3RleHRBbGlnbjpcImp1c3RpZnlcIn0sbm9XcmFwOntvdmVyZmxvdzpcImhpZGRlblwiLHRleHRPdmVyZmxvdzpcImVsbGlwc2lzXCIsd2hpdGVTcGFjZTpcIm5vd3JhcFwifSxndXR0ZXJCb3R0b206e21hcmdpbkJvdHRvbTpcIjAuMzVlbVwifSxwYXJhZ3JhcGg6e21hcmdpbkJvdHRvbToxNn0sY29sb3JJbmhlcml0Ontjb2xvcjpcImluaGVyaXRcIn0sY29sb3JQcmltYXJ5Ontjb2xvcjplLnBhbGV0dGUucHJpbWFyeS5tYWlufSxjb2xvclNlY29uZGFyeTp7Y29sb3I6ZS5wYWxldHRlLnNlY29uZGFyeS5tYWlufSxjb2xvclRleHRQcmltYXJ5Ontjb2xvcjplLnBhbGV0dGUudGV4dC5wcmltYXJ5fSxjb2xvclRleHRTZWNvbmRhcnk6e2NvbG9yOmUucGFsZXR0ZS50ZXh0LnNlY29uZGFyeX0sY29sb3JFcnJvcjp7Y29sb3I6ZS5wYWxldHRlLmVycm9yLm1haW59LGlubGluZTp7ZGlzcGxheTpcImlubGluZVwifX19O3Quc3R5bGVzPWg7dmFyIGQ9e2Rpc3BsYXk0OlwiaDFcIixkaXNwbGF5MzpcImgyXCIsZGlzcGxheTI6XCJoM1wiLGRpc3BsYXkxOlwiaDRcIixoZWFkbGluZTpcImg1XCIsdGl0bGU6XCJoNlwiLHN1YmhlYWRpbmc6XCJzdWJ0aXRsZTFcIn07dmFyIHA9e2gxOlwiaDFcIixoMjpcImgyXCIsaDM6XCJoM1wiLGg0OlwiaDRcIixoNTpcImg1XCIsaDY6XCJoNlwiLHN1YnRpdGxlMTpcImg2XCIsc3VidGl0bGUyOlwiaDZcIixib2R5MTpcInBcIixib2R5MjpcInBcIixkaXNwbGF5NDpcImgxXCIsZGlzcGxheTM6XCJoMVwiLGRpc3BsYXkyOlwiaDFcIixkaXNwbGF5MTpcImgxXCIsaGVhZGxpbmU6XCJoMVwiLHRpdGxlOlwiaDJcIixzdWJoZWFkaW5nOlwiaDNcIn07ZnVuY3Rpb24gZihlKXt2YXIgdCxuPWUuYWxpZ24saT1lLmNsYXNzZXMsYz1lLmNsYXNzTmFtZSxoPWUuY29sb3IsZj1lLmNvbXBvbmVudCxtPWUuZ3V0dGVyQm90dG9tLGc9ZS5oZWFkbGluZU1hcHBpbmcseT1lLmlubGluZSxfPShlLmludGVybmFsRGVwcmVjYXRlZFZhcmlhbnQsZS5ub1dyYXApLHY9ZS5wYXJhZ3JhcGgseD1lLnRoZW1lLGI9ZS52YXJpYW50LHc9KDAsYS5kZWZhdWx0KShlLFtcImFsaWduXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbG9yXCIsXCJjb21wb25lbnRcIixcImd1dHRlckJvdHRvbVwiLFwiaGVhZGxpbmVNYXBwaW5nXCIsXCJpbmxpbmVcIixcImludGVybmFsRGVwcmVjYXRlZFZhcmlhbnRcIixcIm5vV3JhcFwiLFwicGFyYWdyYXBoXCIsXCJ0aGVtZVwiLFwidmFyaWFudFwiXSksVD1mdW5jdGlvbihlLHQpe3ZhciBuPWUudHlwb2dyYXBoeSxpPXQ7cmV0dXJuIGl8fChpPW4udXNlTmV4dFZhcmlhbnRzP1wiYm9keTJcIjpcImJvZHkxXCIpLG4udXNlTmV4dFZhcmlhbnRzJiYoaT1kW2ldfHxpKSxpfSh4LGIpLEU9KDAsbC5kZWZhdWx0KShpLnJvb3QsKHQ9e30sKDAsby5kZWZhdWx0KSh0LGlbVF0sXCJpbmhlcml0XCIhPT1UKSwoMCxvLmRlZmF1bHQpKHQsaVtcImNvbG9yXCIuY29uY2F0KCgwLHUuY2FwaXRhbGl6ZSkoaCkpXSxcImRlZmF1bHRcIiE9PWgpLCgwLG8uZGVmYXVsdCkodCxpLm5vV3JhcCxfKSwoMCxvLmRlZmF1bHQpKHQsaS5ndXR0ZXJCb3R0b20sbSksKDAsby5kZWZhdWx0KSh0LGkucGFyYWdyYXBoLHYpLCgwLG8uZGVmYXVsdCkodCxpW1wiYWxpZ25cIi5jb25jYXQoKDAsdS5jYXBpdGFsaXplKShuKSldLFwiaW5oZXJpdFwiIT09biksKDAsby5kZWZhdWx0KSh0LGkuaW5saW5lLHkpLHQpLGMpLFM9Znx8KHY/XCJwXCI6Z1tUXXx8cFtUXSl8fFwic3BhblwiO3JldHVybiBzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChTLCgwLHIuZGVmYXVsdCkoe2NsYXNzTmFtZTpFfSx3KSl9Zi5kZWZhdWx0UHJvcHM9e2FsaWduOlwiaW5oZXJpdFwiLGNvbG9yOlwiZGVmYXVsdFwiLGd1dHRlckJvdHRvbTohMSxoZWFkbGluZU1hcHBpbmc6cCxpbmxpbmU6ITEsbm9XcmFwOiExLHBhcmFncmFwaDohMX07dmFyIG09KDAsYy5kZWZhdWx0KShoLHtuYW1lOlwiTXVpVHlwb2dyYXBoeVwiLHdpdGhUaGVtZTohMH0pKGYpO3QuZGVmYXVsdD1tfSwsLCxmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpeyFmdW5jdGlvbihuLGkpe2UuZXhwb3J0cz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBlLG4saTtmdW5jdGlvbiByKHQscil7aWYoZSlpZihuKXt2YXIgbz1cInNlbGYub25lcnJvciA9IGZ1bmN0aW9uKCkgeyBjb25zb2xlLmVycm9yKCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBwYXJzaW5nIHRoZSBXZWJXb3JrZXIgYnVuZGxlLiBUaGlzIGlzIG1vc3QgbGlrZWx5IGR1ZSB0byBpbXByb3BlciB0cmFuc3BpbGF0aW9uIGJ5IEJhYmVsOyBwbGVhc2Ugc2VlIGh0dHBzOi8vZG9jcy5tYXBib3guY29tL21hcGJveC1nbC1qcy9ndWlkZXMvaW5zdGFsbC8jdHJhbnNwaWxpbmcnKTsgfTsgdmFyIHNoYXJlZENodW5rID0ge307IChcIitlK1wiKShzaGFyZWRDaHVuayk7IChcIituK1wiKShzaGFyZWRDaHVuayk7IHNlbGYub25lcnJvciA9IG51bGw7XCIsYT17fTtlKGEpLGk9cihhKSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJndpbmRvdy5VUkwmJndpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMJiYoaS53b3JrZXJVcmw9d2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwobmV3IEJsb2IoW29dLHt0eXBlOlwidGV4dC9qYXZhc2NyaXB0XCJ9KSkpfWVsc2Ugbj1yO2Vsc2UgZT1yfXJldHVybiByKFtcImV4cG9ydHNcIl0sKGZ1bmN0aW9uKGUpe1widXNlIHN0cmljdFwiO3ZhciBuPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6e30saT1cIjIuMTIuMFwiO2xldCByO2NvbnN0IG89e0FQSV9VUkw6XCJodHRwczovL2FwaS5tYXBib3guY29tXCIsZ2V0IEFQSV9VUkxfUkVHRVgoKXtpZihudWxsPT1yKXtjb25zdCBlPS9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL3xcXD98JCkvaTt0cnl7cj1udWxsIT10LmVudi5BUElfVVJMX1JFR0VYP25ldyBSZWdFeHAodC5lbnYuQVBJX1VSTF9SRUdFWCk6ZX1jYXRjaCh0KXtyPWV9fXJldHVybiByfSxnZXQgQVBJX1RJTEVKU09OX1JFR0VYKCl7cmV0dXJuL14oKGh0dHBzPzopP1xcL1xcLyk/KFteXFwvXStcXC4pP21hcGJveFxcLmMobnxvbSkoXFwvdlswLTldKlxcLy4qXFwuanNvbi4qJCkvaX0sZ2V0IEFQSV9TUFJJVEVfUkVHRVgoKXtyZXR1cm4vXigoaHR0cHM/Oik/XFwvXFwvKT8oW15cXC9dK1xcLik/bWFwYm94XFwuYyhufG9tKShcXC9zdHlsZXNcXC92WzAtOV0qXFwvKSguKlxcL3Nwcml0ZS4qXFwuLiokKS9pfSxnZXQgQVBJX0ZPTlRTX1JFR0VYKCl7cmV0dXJuL14oKGh0dHBzPzopP1xcL1xcLyk/KFteXFwvXStcXC4pP21hcGJveFxcLmMobnxvbSkoXFwvZm9udHNcXC92WzAtOV0qXFwvKSguKlxcLnBiZi4qJCkvaX0sZ2V0IEFQSV9TVFlMRV9SRUdFWCgpe3JldHVybi9eKChodHRwcz86KT9cXC9cXC8pPyhbXlxcL10rXFwuKT9tYXBib3hcXC5jKG58b20pKFxcL3N0eWxlc1xcL3ZbMC05XSpcXC8pKC4qJCkvaX0sZ2V0IEFQSV9DRE5fVVJMX1JFR0VYKCl7cmV0dXJuL14oKGh0dHBzPzopP1xcL1xcLyk/YXBpXFwubWFwYm94XFwuYyhufG9tKShcXC9tYXBib3gtZ2wtanNcXC8pKC4qJCkvaX0sZ2V0IEVWRU5UU19VUkwoKXtyZXR1cm4gdGhpcy5BUElfVVJMPzA9PT10aGlzLkFQSV9VUkwuaW5kZXhPZihcImh0dHBzOi8vYXBpLm1hcGJveC5jblwiKT9cImh0dHBzOi8vZXZlbnRzLm1hcGJveC5jbi9ldmVudHMvdjJcIjowPT09dGhpcy5BUElfVVJMLmluZGV4T2YoXCJodHRwczovL2FwaS5tYXBib3guY29tXCIpP1wiaHR0cHM6Ly9ldmVudHMubWFwYm94LmNvbS9ldmVudHMvdjJcIjpudWxsOm51bGx9LFNFU1NJT05fUEFUSDpcIi9tYXAtc2Vzc2lvbnMvdjFcIixGRUVEQkFDS19VUkw6XCJodHRwczovL2FwcHMubWFwYm94LmNvbS9mZWVkYmFja1wiLFRJTEVfVVJMX1ZFUlNJT046XCJ2NFwiLFJBU1RFUl9VUkxfUFJFRklYOlwicmFzdGVyL3YxXCIsUkVRVUlSRV9BQ0NFU1NfVE9LRU46ITAsQUNDRVNTX1RPS0VOOm51bGwsTUFYX1BBUkFMTEVMX0lNQUdFX1JFUVVFU1RTOjE2fSxhPXtzdXBwb3J0ZWQ6ITEsdGVzdFN1cHBvcnQ6ZnVuY3Rpb24oZSl7IWMmJmwmJih1P2goZSk6cz1lKX19O2xldCBzLGwsYz0hMSx1PSExO2Z1bmN0aW9uIGgoZSl7Y29uc3QgdD1lLmNyZWF0ZVRleHR1cmUoKTtlLmJpbmRUZXh0dXJlKGUuVEVYVFVSRV8yRCx0KTt0cnl7aWYoZS50ZXhJbWFnZTJEKGUuVEVYVFVSRV8yRCwwLGUuUkdCQSxlLlJHQkEsZS5VTlNJR05FRF9CWVRFLGwpLGUuaXNDb250ZXh0TG9zdCgpKXJldHVybjthLnN1cHBvcnRlZD0hMH1jYXRjaChlKXt9ZS5kZWxldGVUZXh0dXJlKHQpLGM9ITB9bi5kb2N1bWVudCYmKGw9bi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpLGwub25sb2FkPWZ1bmN0aW9uKCl7cyYmaChzKSxzPW51bGwsdT0hMH0sbC5vbmVycm9yPWZ1bmN0aW9uKCl7Yz0hMCxzPW51bGx9LGwuc3JjPVwiZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmg0QUFBQlhSVUpRVmxBNFRCRUFBQUF2QVFBQUFBZlEvLzczdi8rQmlPaC9BQUE9XCIpO2NvbnN0IGQ9XCIwMVwiO3ZhciBwPWY7ZnVuY3Rpb24gZihlLHQsbixpKXt0aGlzLmN4PTMqZSx0aGlzLmJ4PTMqKG4tZSktdGhpcy5jeCx0aGlzLmF4PTEtdGhpcy5jeC10aGlzLmJ4LHRoaXMuY3k9Myp0LHRoaXMuYnk9MyooaS10KS10aGlzLmN5LHRoaXMuYXk9MS10aGlzLmN5LXRoaXMuYnksdGhpcy5wMXg9ZSx0aGlzLnAxeT10LHRoaXMucDJ4PW4sdGhpcy5wMnk9aX1mLnByb3RvdHlwZT17c2FtcGxlQ3VydmVYOmZ1bmN0aW9uKGUpe3JldHVybigodGhpcy5heCplK3RoaXMuYngpKmUrdGhpcy5jeCkqZX0sc2FtcGxlQ3VydmVZOmZ1bmN0aW9uKGUpe3JldHVybigodGhpcy5heSplK3RoaXMuYnkpKmUrdGhpcy5jeSkqZX0sc2FtcGxlQ3VydmVEZXJpdmF0aXZlWDpmdW5jdGlvbihlKXtyZXR1cm4oMyp0aGlzLmF4KmUrMip0aGlzLmJ4KSplK3RoaXMuY3h9LHNvbHZlQ3VydmVYOmZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dCYmKHQ9MWUtNiksZTwwKXJldHVybiAwO2lmKGU+MSlyZXR1cm4gMTtmb3IodmFyIG49ZSxpPTA7aTw4O2krKyl7dmFyIHI9dGhpcy5zYW1wbGVDdXJ2ZVgobiktZTtpZihNYXRoLmFicyhyKTx0KXJldHVybiBuO3ZhciBvPXRoaXMuc2FtcGxlQ3VydmVEZXJpdmF0aXZlWChuKTtpZihNYXRoLmFicyhvKTwxZS02KWJyZWFrO24tPXIvb312YXIgYT0wLHM9MTtmb3Iobj1lLGk9MDtpPDIwJiYocj10aGlzLnNhbXBsZUN1cnZlWChuKSwhKE1hdGguYWJzKHItZSk8dCkpO2krKyllPnI/YT1uOnM9bixuPS41KihzLWEpK2E7cmV0dXJuIG59LHNvbHZlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuc2FtcGxlQ3VydmVZKHRoaXMuc29sdmVDdXJ2ZVgoZSx0KSl9fTt2YXIgbT1nO2Z1bmN0aW9uIGcoZSx0KXt0aGlzLng9ZSx0aGlzLnk9dH1nLnByb3RvdHlwZT17Y2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGcodGhpcy54LHRoaXMueSl9LGFkZDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9hZGQoZSl9LHN1YjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9zdWIoZSl9LG11bHRCeVBvaW50OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX211bHRCeVBvaW50KGUpfSxkaXZCeVBvaW50OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX2RpdkJ5UG9pbnQoZSl9LG11bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbXVsdChlKX0sZGl2OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX2RpdihlKX0scm90YXRlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmNsb25lKCkuX3JvdGF0ZShlKX0scm90YXRlQXJvdW5kOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fcm90YXRlQXJvdW5kKGUsdCl9LG1hdE11bHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY2xvbmUoKS5fbWF0TXVsdChlKX0sdW5pdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3VuaXQoKX0scGVycDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNsb25lKCkuX3BlcnAoKX0scm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jbG9uZSgpLl9yb3VuZCgpfSxtYWc6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSl9LGVxdWFsczpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54PT09ZS54JiZ0aGlzLnk9PT1lLnl9LGRpc3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGguc3FydCh0aGlzLmRpc3RTcXIoZSkpfSxkaXN0U3FyOmZ1bmN0aW9uKGUpe3ZhciB0PWUueC10aGlzLngsbj1lLnktdGhpcy55O3JldHVybiB0KnQrbipufSxhbmdsZTpmdW5jdGlvbigpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueSx0aGlzLngpfSxhbmdsZVRvOmZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueS1lLnksdGhpcy54LWUueCl9LGFuZ2xlV2l0aDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hbmdsZVdpdGhTZXAoZS54LGUueSl9LGFuZ2xlV2l0aFNlcDpmdW5jdGlvbihlLHQpe3JldHVybiBNYXRoLmF0YW4yKHRoaXMueCp0LXRoaXMueSplLHRoaXMueCplK3RoaXMueSp0KX0sX21hdE11bHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZVsyXSp0aGlzLngrZVszXSp0aGlzLnk7cmV0dXJuIHRoaXMueD1lWzBdKnRoaXMueCtlWzFdKnRoaXMueSx0aGlzLnk9dCx0aGlzfSxfYWRkOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngrPWUueCx0aGlzLnkrPWUueSx0aGlzfSxfc3ViOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzfSxfbXVsdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLHRoaXMueSo9ZSx0aGlzfSxfZGl2OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLngvPWUsdGhpcy55Lz1lLHRoaXN9LF9tdWx0QnlQb2ludDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpc30sX2RpdkJ5UG9pbnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMueC89ZS54LHRoaXMueS89ZS55LHRoaXN9LF91bml0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rpdih0aGlzLm1hZygpKSx0aGlzfSxfcGVycDpmdW5jdGlvbigpe3ZhciBlPXRoaXMueTtyZXR1cm4gdGhpcy55PXRoaXMueCx0aGlzLng9LWUsdGhpc30sX3JvdGF0ZTpmdW5jdGlvbihlKXt2YXIgdD1NYXRoLmNvcyhlKSxuPU1hdGguc2luKGUpLGk9bip0aGlzLngrdCp0aGlzLnk7cmV0dXJuIHRoaXMueD10KnRoaXMueC1uKnRoaXMueSx0aGlzLnk9aSx0aGlzfSxfcm90YXRlQXJvdW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5jb3MoZSksaT1NYXRoLnNpbihlKSxyPXQueStpKih0aGlzLngtdC54KStuKih0aGlzLnktdC55KTtyZXR1cm4gdGhpcy54PXQueCtuKih0aGlzLngtdC54KS1pKih0aGlzLnktdC55KSx0aGlzLnk9cix0aGlzfSxfcm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PU1hdGgucm91bmQodGhpcy54KSx0aGlzLnk9TWF0aC5yb3VuZCh0aGlzLnkpLHRoaXN9fSxnLmNvbnZlcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBnP2U6QXJyYXkuaXNBcnJheShlKT9uZXcgZyhlWzBdLGVbMV0pOmV9O2NvbnN0IHk9TWF0aC5QSS8xODAsXz0xODAvTWF0aC5QSTtmdW5jdGlvbiB2KGUpe3JldHVybiBlKnl9ZnVuY3Rpb24geChlKXtyZXR1cm4gZSpffWNvbnN0IGI9W1swLDBdLFsxLDBdLFsxLDFdLFswLDFdXTtmdW5jdGlvbiB3KGUpe2lmKGU8PTApcmV0dXJuIDA7aWYoZT49MSlyZXR1cm4gMTtjb25zdCB0PWUqZSxuPXQqZTtyZXR1cm4gNCooZTwuNT9uOjMqKGUtdCkrbi0uNzUpfWZ1bmN0aW9uIFQoZSx0LG4saSl7Y29uc3Qgcj1uZXcgcChlLHQsbixpKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHIuc29sdmUoZSl9fWNvbnN0IEU9VCguMjUsLjEsLjI1LDEpO2Z1bmN0aW9uIFMoZSx0LG4pe3JldHVybiBNYXRoLm1pbihuLE1hdGgubWF4KHQsZSkpfWZ1bmN0aW9uIE0oZSx0LG4pe3JldHVybihuPVMoKG4tZSkvKHQtZSksMCwxKSkqbiooMy0yKm4pfWZ1bmN0aW9uIEkoZSx0LG4pe2NvbnN0IGk9bi10LHI9KChlLXQpJWkraSklaSt0O3JldHVybiByPT09dD9uOnJ9ZnVuY3Rpb24gQyhlLHQsbil7aWYoIWUubGVuZ3RoKXJldHVybiBuKG51bGwsW10pO2xldCBpPWUubGVuZ3RoO2NvbnN0IHI9bmV3IEFycmF5KGUubGVuZ3RoKTtsZXQgbz1udWxsO2UuZm9yRWFjaCgoZSxhKT0+e3QoZSwoZSx0KT0+e2UmJihvPWUpLHJbYV09dCwwPT0tLWkmJm4obyxyKX0pfSl9ZnVuY3Rpb24gayhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIGluIGUpdC5wdXNoKGVbbl0pO3JldHVybiB0fWZ1bmN0aW9uIEEoZSwuLi50KXtmb3IoY29uc3QgbiBvZiB0KWZvcihjb25zdCB0IGluIG4pZVt0XT1uW3RdO3JldHVybiBlfWxldCBQPTE7ZnVuY3Rpb24geigpe3JldHVybiBQKyt9ZnVuY3Rpb24gRCgpe3JldHVybiBmdW5jdGlvbiBlKHQpe3JldHVybiB0Pyh0Xk1hdGgucmFuZG9tKCkqKDE2Pj50LzQpKS50b1N0cmluZygxNik6KFsxZTddKy1bMWUzXSstNGUzKy04ZTMrLTFlMTEpLnJlcGxhY2UoL1swMThdL2csZSl9KCl9ZnVuY3Rpb24gTChlKXtyZXR1cm4gZTw9MT8xOk1hdGgucG93KDIsTWF0aC5jZWlsKE1hdGgubG9nKGUpL01hdGguTE4yKSl9ZnVuY3Rpb24gTyhlKXtyZXR1cm4hIWUmJi9eWzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzRdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC9pLnRlc3QoZSl9ZnVuY3Rpb24gUihlLHQpe2UuZm9yRWFjaChlPT57dFtlXSYmKHRbZV09dFtlXS5iaW5kKHQpKX0pfWZ1bmN0aW9uIEIoZSx0KXtyZXR1cm4tMSE9PWUuaW5kZXhPZih0LGUubGVuZ3RoLXQubGVuZ3RoKX1mdW5jdGlvbiBqKGUsdCxuKXtjb25zdCBpPXt9O2Zvcihjb25zdCByIGluIGUpaVtyXT10LmNhbGwobnx8dGhpcyxlW3JdLHIsZSk7cmV0dXJuIGl9ZnVuY3Rpb24gRihlLHQsbil7Y29uc3QgaT17fTtmb3IoY29uc3QgciBpbiBlKXQuY2FsbChufHx0aGlzLGVbcl0scixlKSYmKGlbcl09ZVtyXSk7cmV0dXJuIGl9ZnVuY3Rpb24gTihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLm1hcChOKTpcIm9iamVjdFwiPT10eXBlb2YgZSYmZT9qKGUsTik6ZX1jb25zdCBVPXt9O2Z1bmN0aW9uIFYoZSl7VVtlXXx8KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZjb25zb2xlLndhcm4oZSksVVtlXT0hMCl9ZnVuY3Rpb24gRyhlLHQsbil7cmV0dXJuKG4ueS1lLnkpKih0LngtZS54KT4odC55LWUueSkqKG4ueC1lLngpfWZ1bmN0aW9uIFooZSl7bGV0IHQ9MDtmb3IobGV0IG4saSxyPTAsbz1lLmxlbmd0aCxhPW8tMTtyPG87YT1yKyspbj1lW3JdLGk9ZVthXSx0Kz0oaS54LW4ueCkqKG4ueStpLnkpO3JldHVybiB0fWZ1bmN0aW9uIFcoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGV9ZnVuY3Rpb24gcShlKXtjb25zdCB0PXt9O2lmKGUucmVwbGFjZSgvKD86XnwoPzpcXHMqXFwsXFxzKikpKFteXFx4MDAtXFx4MjBcXChcXCk8PkBcXCw7XFw6XFxcXFwiXFwvXFxbXFxdXFw/XFw9XFx7XFx9XFx4N0ZdKykoPzpcXD0oPzooW15cXHgwMC1cXHgyMFxcKFxcKTw+QFxcLDtcXDpcXFxcXCJcXC9cXFtcXF1cXD9cXD1cXHtcXH1cXHg3Rl0rKXwoPzpcXFwiKCg/OlteXCJcXFxcXXxcXFxcLikqKVxcXCIpKSk/L2csKGUsbixpLHIpPT57Y29uc3Qgbz1pfHxyO3JldHVybiB0W25dPSFvfHxvLnRvTG93ZXJDYXNlKCksXCJcIn0pLHRbXCJtYXgtYWdlXCJdKXtjb25zdCBlPXBhcnNlSW50KHRbXCJtYXgtYWdlXCJdLDEwKTtpc05hTihlKT9kZWxldGUgdFtcIm1heC1hZ2VcIl06dFtcIm1heC1hZ2VcIl09ZX1yZXR1cm4gdH1sZXQgJD1udWxsO2Z1bmN0aW9uIEgoZSl7aWYobnVsbD09JCl7Y29uc3QgdD1lLm5hdmlnYXRvcj9lLm5hdmlnYXRvci51c2VyQWdlbnQ6bnVsbDskPSEhZS5zYWZhcml8fCEoIXR8fCEoL1xcYihpUGFkfGlQaG9uZXxpUG9kKVxcYi8udGVzdCh0KXx8dC5tYXRjaChcIlNhZmFyaVwiKSYmIXQubWF0Y2goXCJDaHJvbWVcIikpKX1yZXR1cm4gJH1mdW5jdGlvbiBYKGUpe3RyeXtjb25zdCB0PW5bZV07cmV0dXJuIHQuc2V0SXRlbShcIl9tYXBib3hfdGVzdF9cIiwxKSx0LnJlbW92ZUl0ZW0oXCJfbWFwYm94X3Rlc3RfXCIpLCEwfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBZKGUsdCl7cmV0dXJuW2VbNCp0XSxlWzQqdCsxXSxlWzQqdCsyXSxlWzQqdCszXV19Y29uc3QgSj1cIm1hcGJveC10aWxlc1wiO2xldCBRLEssZWU9NTAwLHRlPTUwO2Z1bmN0aW9uIG5lKCl7dHJ5e3JldHVybiBuLmNhY2hlc31jYXRjaChlKXt9fWZ1bmN0aW9uIGllKCl7bmUoKSYmIVEmJihRPW4uY2FjaGVzLm9wZW4oSikpfWZ1bmN0aW9uIHJlKGUpe2NvbnN0IHQ9ZS5pbmRleE9mKFwiP1wiKTtpZih0PDApcmV0dXJuIGU7Y29uc3Qgbj1mdW5jdGlvbihlKXtjb25zdCB0PWUuaW5kZXhPZihcIj9cIik7cmV0dXJuIHQ+MD9lLnNsaWNlKHQrMSkuc3BsaXQoXCImXCIpOltdfShlKS5maWx0ZXIoZT0+e2NvbnN0IHQ9ZS5zcGxpdChcIj1cIik7cmV0dXJuXCJsYW5ndWFnZVwiPT09dFswXXx8XCJ3b3JsZHZpZXdcIj09PXRbMF19KTtyZXR1cm4gbi5sZW5ndGg/YCR7ZS5zbGljZSgwLHQpfT8ke24uam9pbihcIiZcIil9YDplLnNsaWNlKDAsdCl9bGV0IG9lPTEvMDtjb25zdCBhZT17VW5rbm93bjpcIlVua25vd25cIixTdHlsZTpcIlN0eWxlXCIsU291cmNlOlwiU291cmNlXCIsVGlsZTpcIlRpbGVcIixHbHlwaHM6XCJHbHlwaHNcIixTcHJpdGVJbWFnZTpcIlNwcml0ZUltYWdlXCIsU3ByaXRlSlNPTjpcIlNwcml0ZUpTT05cIixJbWFnZTpcIkltYWdlXCJ9O1wiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5mcmVlemUmJk9iamVjdC5mcmVlemUoYWUpO2NsYXNzIHNlIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IoZSx0LG4pezQwMT09PXQmJl9lKG4pJiYoZSs9XCI6IHlvdSBtYXkgaGF2ZSBwcm92aWRlZCBhbiBpbnZhbGlkIE1hcGJveCBhY2Nlc3MgdG9rZW4uIFNlZSBodHRwczovL2RvY3MubWFwYm94LmNvbS9hcGkvb3ZlcnZpZXcvI2FjY2Vzcy10b2tlbnMtYW5kLXRva2VuLXNjb3Blc1wiKSxzdXBlcihlKSx0aGlzLnN0YXR1cz10LHRoaXMudXJsPW59dG9TdHJpbmcoKXtyZXR1cm5gJHt0aGlzLm5hbWV9OiAke3RoaXMubWVzc2FnZX0gKCR7dGhpcy5zdGF0dXN9KTogJHt0aGlzLnVybH1gfX1jb25zdCBsZT1XKCk/KCk9PnNlbGYud29ya2VyJiZzZWxmLndvcmtlci5yZWZlcnJlcjooKT0+KFwiYmxvYjpcIj09PW4ubG9jYXRpb24ucHJvdG9jb2w/bi5wYXJlbnQ6bikubG9jYXRpb24uaHJlZixjZT1mdW5jdGlvbihlLHQpe2lmKCEoL15maWxlOi8udGVzdChpPWUudXJsKXx8L15maWxlOi8udGVzdChsZSgpKSYmIS9eXFx3KzovLnRlc3QoaSkpKXtpZihuLmZldGNoJiZuLlJlcXVlc3QmJm4uQWJvcnRDb250cm9sbGVyJiZuLlJlcXVlc3QucHJvdG90eXBlLmhhc093blByb3BlcnR5KFwic2lnbmFsXCIpKXJldHVybiBmdW5jdGlvbihlLHQpe2NvbnN0IGk9bmV3IG4uQWJvcnRDb250cm9sbGVyLHI9bmV3IG4uUmVxdWVzdChlLnVybCx7bWV0aG9kOmUubWV0aG9kfHxcIkdFVFwiLGJvZHk6ZS5ib2R5LGNyZWRlbnRpYWxzOmUuY3JlZGVudGlhbHMsaGVhZGVyczplLmhlYWRlcnMscmVmZXJyZXI6bGUoKSxzaWduYWw6aS5zaWduYWx9KTtsZXQgbz0hMSxhPSExO2NvbnN0IHM9KGw9ci51cmwpLmluZGV4T2YoXCJza3U9XCIpPjAmJl9lKGwpO3ZhciBsO1wianNvblwiPT09ZS50eXBlJiZyLmhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsXCJhcHBsaWNhdGlvbi9qc29uXCIpO2NvbnN0IGM9KGksbyxsKT0+e2lmKGEpcmV0dXJuO2lmKGkmJlwiU2VjdXJpdHlFcnJvclwiIT09aS5tZXNzYWdlJiZWKGkpLG8mJmwpcmV0dXJuIHUobyk7Y29uc3QgYz1EYXRlLm5vdygpO24uZmV0Y2gocikudGhlbihuPT57aWYobi5vayl7Y29uc3QgZT1zP24uY2xvbmUoKTpudWxsO3JldHVybiB1KG4sZSxjKX1yZXR1cm4gdChuZXcgc2Uobi5zdGF0dXNUZXh0LG4uc3RhdHVzLGUudXJsKSl9KS5jYXRjaChlPT57MjAhPT1lLmNvZGUmJnQobmV3IEVycm9yKGUubWVzc2FnZSkpfSl9LHU9KGkscyxsKT0+eyhcImFycmF5QnVmZmVyXCI9PT1lLnR5cGU/aS5hcnJheUJ1ZmZlcigpOlwianNvblwiPT09ZS50eXBlP2kuanNvbigpOmkudGV4dCgpKS50aGVuKGU9PnthfHwocyYmbCYmZnVuY3Rpb24oZSx0LGkpe2lmKGllKCksIVEpcmV0dXJuO2NvbnN0IHI9e3N0YXR1czp0LnN0YXR1cyxzdGF0dXNUZXh0OnQuc3RhdHVzVGV4dCxoZWFkZXJzOm5ldyBuLkhlYWRlcnN9O3QuaGVhZGVycy5mb3JFYWNoKChlLHQpPT5yLmhlYWRlcnMuc2V0KHQsZSkpO2NvbnN0IG89cSh0LmhlYWRlcnMuZ2V0KFwiQ2FjaGUtQ29udHJvbFwiKXx8XCJcIik7aWYob1tcIm5vLXN0b3JlXCJdKXJldHVybjtvW1wibWF4LWFnZVwiXSYmci5oZWFkZXJzLnNldChcIkV4cGlyZXNcIixuZXcgRGF0ZShpKzFlMypvW1wibWF4LWFnZVwiXSkudG9VVENTdHJpbmcoKSk7Y29uc3QgYT1yLmhlYWRlcnMuZ2V0KFwiRXhwaXJlc1wiKTthJiYobmV3IERhdGUoYSkuZ2V0VGltZSgpLWk8NDJlNHx8ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT1LKXRyeXtuZXcgUmVzcG9uc2UobmV3IFJlYWRhYmxlU3RyZWFtKSxLPSEwfWNhdGNoKGUpe0s9ITF9Sz90KGUuYm9keSk6ZS5ibG9iKCkudGhlbih0KX0odCx0PT57Y29uc3QgaT1uZXcgbi5SZXNwb25zZSh0LHIpO2llKCksUSYmUS50aGVuKHQ9PnQucHV0KHJlKGUudXJsKSxpKSkuY2F0Y2goZT0+VihlLm1lc3NhZ2UpKX0pKX0ocixzLGwpLG89ITAsdChudWxsLGUsaS5oZWFkZXJzLmdldChcIkNhY2hlLUNvbnRyb2xcIiksaS5oZWFkZXJzLmdldChcIkV4cGlyZXNcIikpKX0pLmNhdGNoKGU9PnthfHx0KG5ldyBFcnJvcihlLm1lc3NhZ2UpKX0pfTtyZXR1cm4gcz9mdW5jdGlvbihlLHQpe2lmKGllKCksIVEpcmV0dXJuIHQobnVsbCk7Y29uc3Qgbj1yZShlLnVybCk7US50aGVuKGU9PntlLm1hdGNoKG4pLnRoZW4oaT0+e2NvbnN0IHI9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuITE7Y29uc3QgdD1uZXcgRGF0ZShlLmhlYWRlcnMuZ2V0KFwiRXhwaXJlc1wiKXx8MCksbj1xKGUuaGVhZGVycy5nZXQoXCJDYWNoZS1Db250cm9sXCIpfHxcIlwiKTtyZXR1cm4gdD5EYXRlLm5vdygpJiYhbltcIm5vLWNhY2hlXCJdfShpKTtlLmRlbGV0ZShuKSxyJiZlLnB1dChuLGkuY2xvbmUoKSksdChudWxsLGkscil9KS5jYXRjaCh0KX0pLmNhdGNoKHQpfShyLGMpOmMobnVsbCxudWxsKSx7Y2FuY2VsOigpPT57YT0hMCxvfHxpLmFib3J0KCl9fX0oZSx0KTtpZihXKCkmJnNlbGYud29ya2VyJiZzZWxmLndvcmtlci5hY3RvcilyZXR1cm4gc2VsZi53b3JrZXIuYWN0b3Iuc2VuZChcImdldFJlc291cmNlXCIsZSx0LHZvaWQgMCwhMCl9dmFyIGk7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1uZXcgbi5YTUxIdHRwUmVxdWVzdDtpLm9wZW4oZS5tZXRob2R8fFwiR0VUXCIsZS51cmwsITApLFwiYXJyYXlCdWZmZXJcIj09PWUudHlwZSYmKGkucmVzcG9uc2VUeXBlPVwiYXJyYXlidWZmZXJcIik7Zm9yKGNvbnN0IHQgaW4gZS5oZWFkZXJzKWkuc2V0UmVxdWVzdEhlYWRlcih0LGUuaGVhZGVyc1t0XSk7cmV0dXJuXCJqc29uXCI9PT1lLnR5cGUmJihpLnJlc3BvbnNlVHlwZT1cInRleHRcIixpLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHRcIixcImFwcGxpY2F0aW9uL2pzb25cIikpLGkud2l0aENyZWRlbnRpYWxzPVwiaW5jbHVkZVwiPT09ZS5jcmVkZW50aWFscyxpLm9uZXJyb3I9KCk9Pnt0KG5ldyBFcnJvcihpLnN0YXR1c1RleHQpKX0saS5vbmxvYWQ9KCk9PntpZigoaS5zdGF0dXM+PTIwMCYmaS5zdGF0dXM8MzAwfHwwPT09aS5zdGF0dXMpJiZudWxsIT09aS5yZXNwb25zZSl7bGV0IG49aS5yZXNwb25zZTtpZihcImpzb25cIj09PWUudHlwZSl0cnl7bj1KU09OLnBhcnNlKGkucmVzcG9uc2UpfWNhdGNoKGUpe3JldHVybiB0KGUpfXQobnVsbCxuLGkuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDYWNoZS1Db250cm9sXCIpLGkuZ2V0UmVzcG9uc2VIZWFkZXIoXCJFeHBpcmVzXCIpKX1lbHNlIHQobmV3IHNlKGkuc3RhdHVzVGV4dCxpLnN0YXR1cyxlLnVybCkpfSxpLnNlbmQoZS5ib2R5KSx7Y2FuY2VsOigpPT5pLmFib3J0KCl9fShlLHQpfSx1ZT1mdW5jdGlvbihlLHQpe3JldHVybiBjZShBKGUse3R5cGU6XCJhcnJheUJ1ZmZlclwifSksdCl9O2Z1bmN0aW9uIGhlKGUpe2NvbnN0IHQ9bi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4gdC5ocmVmPWUsdC5wcm90b2NvbD09PW4uZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wmJnQuaG9zdD09PW4uZG9jdW1lbnQubG9jYXRpb24uaG9zdH1jb25zdCBkZT1cImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQkNBWUFBQUFmRmNTSkFBQUFDMGxFUVZRWVYyTmdBQUlBQUFVQUFhclZ5RkVBQUFBQVNVVk9SSzVDWUlJPVwiO2xldCBwZSxmZTtwZT1bXSxmZT0wO2NvbnN0IG1lPWZ1bmN0aW9uKGUsdCl7aWYoYS5zdXBwb3J0ZWQmJihlLmhlYWRlcnN8fChlLmhlYWRlcnM9e30pLGUuaGVhZGVycy5hY2NlcHQ9XCJpbWFnZS93ZWJwLCovKlwiKSxmZT49by5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFMpe2NvbnN0IG49e3JlcXVlc3RQYXJhbWV0ZXJzOmUsY2FsbGJhY2s6dCxjYW5jZWxsZWQ6ITEsY2FuY2VsKCl7dGhpcy5jYW5jZWxsZWQ9ITB9fTtyZXR1cm4gcGUucHVzaChuKSxufWZlKys7bGV0IGk9ITE7Y29uc3Qgcj0oKT0+e2lmKCFpKWZvcihpPSEwLGZlLS07cGUubGVuZ3RoJiZmZTxvLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUUzspe2NvbnN0IGU9cGUuc2hpZnQoKSx7cmVxdWVzdFBhcmFtZXRlcnM6dCxjYWxsYmFjazpuLGNhbmNlbGxlZDppfT1lO2l8fChlLmNhbmNlbD1tZSh0LG4pLmNhbmNlbCl9fSxzPXVlKGUsKGUsaSxvLGEpPT57cigpLGU/dChlKTppJiYobi5jcmVhdGVJbWFnZUJpdG1hcD9mdW5jdGlvbihlLHQpe2NvbnN0IGk9bmV3IG4uQmxvYihbbmV3IFVpbnQ4QXJyYXkoZSldLHt0eXBlOlwiaW1hZ2UvcG5nXCJ9KTtuLmNyZWF0ZUltYWdlQml0bWFwKGkpLnRoZW4oZT0+e3QobnVsbCxlKX0pLmNhdGNoKGU9Pnt0KG5ldyBFcnJvcihgQ291bGQgbm90IGxvYWQgaW1hZ2UgYmVjYXVzZSBvZiAke2UubWVzc2FnZX0uIFBsZWFzZSBtYWtlIHN1cmUgdG8gdXNlIGEgc3VwcG9ydGVkIGltYWdlIHR5cGUgc3VjaCBhcyBQTkcgb3IgSlBFRy4gTm90ZSB0aGF0IFNWR3MgYXJlIG5vdCBzdXBwb3J0ZWQuYCkpfSl9KGksKGUsbik9PnQoZSxuLG8sYSkpOmZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1uZXcgbi5JbWFnZSxyPW4uVVJMO2kub25sb2FkPSgpPT57dChudWxsLGkpLHIucmV2b2tlT2JqZWN0VVJMKGkuc3JjKSxpLm9ubG9hZD1udWxsLG4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57aS5zcmM9ZGV9KX0saS5vbmVycm9yPSgpPT50KG5ldyBFcnJvcihcIkNvdWxkIG5vdCBsb2FkIGltYWdlLiBQbGVhc2UgbWFrZSBzdXJlIHRvIHVzZSBhIHN1cHBvcnRlZCBpbWFnZSB0eXBlIHN1Y2ggYXMgUE5HIG9yIEpQRUcuIE5vdGUgdGhhdCBTVkdzIGFyZSBub3Qgc3VwcG9ydGVkLlwiKSk7Y29uc3Qgbz1uZXcgbi5CbG9iKFtuZXcgVWludDhBcnJheShlKV0se3R5cGU6XCJpbWFnZS9wbmdcIn0pO2kuc3JjPWUuYnl0ZUxlbmd0aD9yLmNyZWF0ZU9iamVjdFVSTChvKTpkZX0oaSwoZSxuKT0+dChlLG4sbyxhKSkpfSk7cmV0dXJue2NhbmNlbDooKT0+e3MuY2FuY2VsKCkscigpfX19LGdlPVwiTk9fQUNDRVNTX1RPS0VOXCI7ZnVuY3Rpb24geWUoZSl7cmV0dXJuIDA9PT1lLmluZGV4T2YoXCJtYXBib3g6XCIpfWZ1bmN0aW9uIF9lKGUpe3JldHVybiBvLkFQSV9VUkxfUkVHRVgudGVzdChlKX1mdW5jdGlvbiB2ZShlKXtyZXR1cm4gby5BUElfQ0ROX1VSTF9SRUdFWC50ZXN0KGUpfWZ1bmN0aW9uIHhlKGUpe3JldHVybiBvLkFQSV9TVFlMRV9SRUdFWC50ZXN0KGUpJiYhYmUoZSl9ZnVuY3Rpb24gYmUoZSl7cmV0dXJuIG8uQVBJX1NQUklURV9SRUdFWC50ZXN0KGUpfWNvbnN0IHdlPS9eKFxcdyspOlxcL1xcLyhbXi8/XSopKFxcL1teP10rKT9cXD8/KC4rKT8vO2Z1bmN0aW9uIFRlKGUpe2NvbnN0IHQ9ZS5tYXRjaCh3ZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIHBhcnNlIFVSTCBvYmplY3RcIik7cmV0dXJue3Byb3RvY29sOnRbMV0sYXV0aG9yaXR5OnRbMl0scGF0aDp0WzNdfHxcIi9cIixwYXJhbXM6dFs0XT90WzRdLnNwbGl0KFwiJlwiKTpbXX19ZnVuY3Rpb24gRWUoZSl7Y29uc3QgdD1lLnBhcmFtcy5sZW5ndGg/XCI/XCIrZS5wYXJhbXMuam9pbihcIiZcIik6XCJcIjtyZXR1cm5gJHtlLnByb3RvY29sfTovLyR7ZS5hdXRob3JpdHl9JHtlLnBhdGh9JHt0fWB9ZnVuY3Rpb24gU2UoZSl7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3QgdD1lLnNwbGl0KFwiLlwiKTtpZighdHx8MyE9PXQubGVuZ3RoKXJldHVybiBudWxsO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQobi5hdG9iKHRbMV0pLnNwbGl0KFwiXCIpLm1hcChlPT5cIiVcIisoXCIwMFwiK2UuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC0yKSkuam9pbihcIlwiKSkpfWNhdGNoKGUpe3JldHVybiBudWxsfX1jbGFzcyBNZXtjb25zdHJ1Y3RvcihlKXt0aGlzLnR5cGU9ZSx0aGlzLmFub25JZD1udWxsLHRoaXMuZXZlbnREYXRhPXt9LHRoaXMucXVldWU9W10sdGhpcy5wZW5kaW5nUmVxdWVzdD1udWxsfWdldFN0b3JhZ2VLZXkoZSl7Y29uc3QgdD1TZShvLkFDQ0VTU19UT0tFTik7bGV0IGk9XCJcIjtyZXR1cm4gaT10JiZ0LnU/bi5idG9hKGVuY29kZVVSSUNvbXBvbmVudCh0LnUpLnJlcGxhY2UoLyUoWzAtOUEtRl17Mn0pL2csKGUsdCk9PlN0cmluZy5mcm9tQ2hhckNvZGUoTnVtYmVyKFwiMHhcIit0KSkpKTpvLkFDQ0VTU19UT0tFTnx8XCJcIixlP2BtYXBib3guZXZlbnREYXRhLiR7ZX06JHtpfWA6XCJtYXBib3guZXZlbnREYXRhOlwiK2l9ZmV0Y2hFdmVudERhdGEoKXtjb25zdCBlPVgoXCJsb2NhbFN0b3JhZ2VcIiksdD10aGlzLmdldFN0b3JhZ2VLZXkoKSxpPXRoaXMuZ2V0U3RvcmFnZUtleShcInV1aWRcIik7aWYoZSl0cnl7Y29uc3QgZT1uLmxvY2FsU3RvcmFnZS5nZXRJdGVtKHQpO2UmJih0aGlzLmV2ZW50RGF0YT1KU09OLnBhcnNlKGUpKTtjb25zdCByPW4ubG9jYWxTdG9yYWdlLmdldEl0ZW0oaSk7ciYmKHRoaXMuYW5vbklkPXIpfWNhdGNoKGUpe1YoXCJVbmFibGUgdG8gcmVhZCBmcm9tIExvY2FsU3RvcmFnZVwiKX19c2F2ZUV2ZW50RGF0YSgpe2NvbnN0IGU9WChcImxvY2FsU3RvcmFnZVwiKSx0PXRoaXMuZ2V0U3RvcmFnZUtleSgpLGk9dGhpcy5nZXRTdG9yYWdlS2V5KFwidXVpZFwiKTtpZihlKXRyeXtuLmxvY2FsU3RvcmFnZS5zZXRJdGVtKGksdGhpcy5hbm9uSWQpLE9iamVjdC5rZXlzKHRoaXMuZXZlbnREYXRhKS5sZW5ndGg+PTEmJm4ubG9jYWxTdG9yYWdlLnNldEl0ZW0odCxKU09OLnN0cmluZ2lmeSh0aGlzLmV2ZW50RGF0YSkpfWNhdGNoKGUpe1YoXCJVbmFibGUgdG8gd3JpdGUgdG8gTG9jYWxTdG9yYWdlXCIpfX1wcm9jZXNzUmVxdWVzdHMoZSl7fXBvc3RFdmVudChlLHQsbixpKXtpZighby5FVkVOVFNfVVJMKXJldHVybjtjb25zdCByPVRlKG8uRVZFTlRTX1VSTCk7ci5wYXJhbXMucHVzaChcImFjY2Vzc190b2tlbj1cIisoaXx8by5BQ0NFU1NfVE9LRU58fFwiXCIpKTtjb25zdCBhPXtldmVudDp0aGlzLnR5cGUsY3JlYXRlZDpuZXcgRGF0ZShlKS50b0lTT1N0cmluZygpfSxzPXQ/QShhLHQpOmEsbD17dXJsOkVlKHIpLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJ0ZXh0L3BsYWluXCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoW3NdKX07dGhpcy5wZW5kaW5nUmVxdWVzdD1mdW5jdGlvbihlLHQpe3JldHVybiBjZShBKGUse21ldGhvZDpcIlBPU1RcIn0pLHQpfShsLGU9Pnt0aGlzLnBlbmRpbmdSZXF1ZXN0PW51bGwsbihlKSx0aGlzLnNhdmVFdmVudERhdGEoKSx0aGlzLnByb2Nlc3NSZXF1ZXN0cyhpKX0pfXF1ZXVlUmVxdWVzdChlLHQpe3RoaXMucXVldWUucHVzaChlKSx0aGlzLnByb2Nlc3NSZXF1ZXN0cyh0KX19Y29uc3QgSWU9bmV3IGNsYXNzIGV4dGVuZHMgTWV7Y29uc3RydWN0b3IoZSl7c3VwZXIoXCJhcHBVc2VyVHVybnN0aWxlXCIpLHRoaXMuX2N1c3RvbUFjY2Vzc1Rva2VuPWV9cG9zdFR1cm5zdGlsZUV2ZW50KGUsdCl7by5FVkVOVFNfVVJMJiZvLkFDQ0VTU19UT0tFTiYmQXJyYXkuaXNBcnJheShlKSYmZS5zb21lKGU9PnllKGUpfHxfZShlKSkmJnRoaXMucXVldWVSZXF1ZXN0KERhdGUubm93KCksdCl9cHJvY2Vzc1JlcXVlc3RzKGUpe2lmKHRoaXMucGVuZGluZ1JlcXVlc3R8fDA9PT10aGlzLnF1ZXVlLmxlbmd0aClyZXR1cm47dGhpcy5hbm9uSWQmJnRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzJiZ0aGlzLmV2ZW50RGF0YS50b2tlblV8fHRoaXMuZmV0Y2hFdmVudERhdGEoKTtjb25zdCB0PVNlKG8uQUNDRVNTX1RPS0VOKSxuPXQ/dC51Om8uQUNDRVNTX1RPS0VOO2xldCByPW4hPT10aGlzLmV2ZW50RGF0YS50b2tlblU7Tyh0aGlzLmFub25JZCl8fCh0aGlzLmFub25JZD1EKCkscj0hMCk7Y29uc3QgYT10aGlzLnF1ZXVlLnNoaWZ0KCk7aWYodGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3Mpe2NvbnN0IGU9bmV3IERhdGUodGhpcy5ldmVudERhdGEubGFzdFN1Y2Nlc3MpLHQ9bmV3IERhdGUoYSksbj0oYS10aGlzLmV2ZW50RGF0YS5sYXN0U3VjY2VzcykvODY0ZTU7cj1yfHxuPj0xfHxuPC0xfHxlLmdldERhdGUoKSE9PXQuZ2V0RGF0ZSgpfWVsc2Ugcj0hMDtyP3RoaXMucG9zdEV2ZW50KGEse3Nka0lkZW50aWZpZXI6XCJtYXBib3gtZ2wtanNcIixzZGtWZXJzaW9uOmksc2t1SWQ6ZCxcImVuYWJsZWQudGVsZW1ldHJ5XCI6ITEsdXNlcklkOnRoaXMuYW5vbklkfSxlPT57ZXx8KHRoaXMuZXZlbnREYXRhLmxhc3RTdWNjZXNzPWEsdGhpcy5ldmVudERhdGEudG9rZW5VPW4pfSxlKTp0aGlzLnByb2Nlc3NSZXF1ZXN0cygpfX0sQ2U9SWUucG9zdFR1cm5zdGlsZUV2ZW50LmJpbmQoSWUpLGtlPW5ldyBjbGFzcyBleHRlbmRzIE1le2NvbnN0cnVjdG9yKCl7c3VwZXIoXCJtYXAubG9hZFwiKSx0aGlzLnN1Y2Nlc3M9e30sdGhpcy5za3VUb2tlbj1cIlwifXBvc3RNYXBMb2FkRXZlbnQoZSx0LG4saSl7dGhpcy5za3VUb2tlbj10LHRoaXMuZXJyb3JDYj1pLG8uRVZFTlRTX1VSTCYmKG58fG8uQUNDRVNTX1RPS0VOP3RoaXMucXVldWVSZXF1ZXN0KHtpZDplLHRpbWVzdGFtcDpEYXRlLm5vdygpfSxuKTp0aGlzLmVycm9yQ2IobmV3IEVycm9yKGdlKSkpfXByb2Nlc3NSZXF1ZXN0cyhlKXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0e2lkOnQsdGltZXN0YW1wOm59PXRoaXMucXVldWUuc2hpZnQoKTt0JiZ0aGlzLnN1Y2Nlc3NbdF18fCh0aGlzLmFub25JZHx8dGhpcy5mZXRjaEV2ZW50RGF0YSgpLE8odGhpcy5hbm9uSWQpfHwodGhpcy5hbm9uSWQ9RCgpKSx0aGlzLnBvc3RFdmVudChuLHtzZGtJZGVudGlmaWVyOlwibWFwYm94LWdsLWpzXCIsc2RrVmVyc2lvbjppLHNrdUlkOmQsc2t1VG9rZW46dGhpcy5za3VUb2tlbix1c2VySWQ6dGhpcy5hbm9uSWR9LGU9PntlP3RoaXMuZXJyb3JDYihlKTp0JiYodGhpcy5zdWNjZXNzW3RdPSEwKX0sZSkpfX0sQWU9a2UucG9zdE1hcExvYWRFdmVudC5iaW5kKGtlKSxQZT1uZXcgY2xhc3MgZXh0ZW5kcyBNZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwiZ2xqcy5wZXJmb3JtYW5jZVwiKX1wb3N0UGVyZm9ybWFuY2VFdmVudChlLHQpe28uRVZFTlRTX1VSTCYmKGV8fG8uQUNDRVNTX1RPS0VOKSYmdGhpcy5xdWV1ZVJlcXVlc3Qoe3RpbWVzdGFtcDpEYXRlLm5vdygpLHBlcmZvcm1hbmNlRGF0YTp0fSxlKX1wcm9jZXNzUmVxdWVzdHMoZSl7aWYodGhpcy5wZW5kaW5nUmVxdWVzdHx8MD09PXRoaXMucXVldWUubGVuZ3RoKXJldHVybjtjb25zdHt0aW1lc3RhbXA6dCxwZXJmb3JtYW5jZURhdGE6cn09dGhpcy5xdWV1ZS5zaGlmdCgpLG89ZnVuY3Rpb24oZSl7Y29uc3QgdD1uLnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJyZXNvdXJjZVwiKSxyPW4ucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm1hcmtcIiksbz1mdW5jdGlvbihlKXtjb25zdCB0PXt9O2lmKGUpZm9yKGNvbnN0IG4gaW4gZSlpZihcIm90aGVyXCIhPT1uKWZvcihjb25zdCBpIG9mIGVbbl0pe2NvbnN0IGU9bitcIlJlc29sdmVSYW5nZU1pblwiLHI9bitcIlJlc29sdmVSYW5nZU1heFwiLG89bitcIlJlcXVlc3RDb3VudFwiLGE9bitcIlJlcXVlc3RDYWNoZWRDb3VudFwiO3RbZV09TWF0aC5taW4odFtlXXx8MS8wLGkuc3RhcnRUaW1lKSx0W3JdPU1hdGgubWF4KHRbcl18fC0xLzAsaS5yZXNwb25zZUVuZCk7Y29uc3Qgcz1lPT57dm9pZCAwPT09dFtlXSYmKHRbZV09MCksKyt0W2VdfTt2b2lkIDAhPT1pLnRyYW5zZmVyU2l6ZSYmMD09PWkudHJhbnNmZXJTaXplJiZzKGEpLHMobyl9cmV0dXJuIHR9KGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj17fTtpZihlKWZvcihjb25zdCBpIG9mIGUpe2NvbnN0IGU9dChpKTt2b2lkIDA9PT1uW2VdJiYobltlXT1bXSksbltlXS5wdXNoKGkpfXJldHVybiBufSh0LGplKSksYT1uLmRldmljZVBpeGVsUmF0aW8scz1uLm5hdmlnYXRvci5jb25uZWN0aW9ufHxuLm5hdmlnYXRvci5tb3pDb25uZWN0aW9ufHxuLm5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uLGw9e2NvdW50ZXJzOltdLG1ldGFkYXRhOltdLGF0dHJpYnV0ZXM6W119LGM9KGUsdCxuKT0+e251bGwhPW4mJmUucHVzaCh7bmFtZTp0LHZhbHVlOm4udG9TdHJpbmcoKX0pfTtmb3IoY29uc3QgZSBpbiBvKWMobC5jb3VudGVycyxlLG9bZV0pO2lmKGUuaW50ZXJhY3Rpb25SYW5nZVswXSE9PTEvMCYmZS5pbnRlcmFjdGlvblJhbmdlWzFdIT09LTEvMCYmKGMobC5jb3VudGVycyxcImludGVyYWN0aW9uUmFuZ2VNaW5cIixlLmludGVyYWN0aW9uUmFuZ2VbMF0pLGMobC5jb3VudGVycyxcImludGVyYWN0aW9uUmFuZ2VNYXhcIixlLmludGVyYWN0aW9uUmFuZ2VbMV0pKSxyKWZvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKFJlKSl7Y29uc3QgdD1SZVtlXSxuPXIuZmluZChlPT5lLm5hbWU9PT10KTtuJiZjKGwuY291bnRlcnMsdCxuLnN0YXJ0VGltZSl9cmV0dXJuIGMobC5jb3VudGVycyxcInZpc2liaWxpdHlIaWRkZW5cIixlLnZpc2liaWxpdHlIaWRkZW4pLGMobC5hdHRyaWJ1dGVzLFwic3R5bGVcIixmdW5jdGlvbihlKXtpZihlKWZvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dC5uYW1lLnNwbGl0KFwiP1wiKVswXTtpZih4ZShlKSl7Y29uc3QgdD1lLnNwbGl0KFwiL1wiKS5zbGljZSgtMik7aWYoMj09PXQubGVuZ3RoKXJldHVybmBtYXBib3g6Ly9zdHlsZXMvJHt0WzBdfS8ke3RbMV19YH19fSh0KSksYyhsLmF0dHJpYnV0ZXMsXCJ0ZXJyYWluRW5hYmxlZFwiLGUudGVycmFpbkVuYWJsZWQ/XCJ0cnVlXCI6XCJmYWxzZVwiKSxjKGwuYXR0cmlidXRlcyxcImZvZ0VuYWJsZWRcIixlLmZvZ0VuYWJsZWQ/XCJ0cnVlXCI6XCJmYWxzZVwiKSxjKGwuYXR0cmlidXRlcyxcInByb2plY3Rpb25cIixlLnByb2plY3Rpb24pLGMobC5hdHRyaWJ1dGVzLFwiem9vbVwiLGUuem9vbSksYyhsLm1ldGFkYXRhLFwiZGV2aWNlUGl4ZWxSYXRpb1wiLGEpLGMobC5tZXRhZGF0YSxcImNvbm5lY3Rpb25FZmZlY3RpdmVUeXBlXCIscz9zLmVmZmVjdGl2ZVR5cGU6dm9pZCAwKSxjKGwubWV0YWRhdGEsXCJuYXZpZ2F0b3JVc2VyQWdlbnRcIixuLm5hdmlnYXRvci51c2VyQWdlbnQpLGMobC5tZXRhZGF0YSxcInNjcmVlbldpZHRoXCIsbi5zY3JlZW4ud2lkdGgpLGMobC5tZXRhZGF0YSxcInNjcmVlbkhlaWdodFwiLG4uc2NyZWVuLmhlaWdodCksYyhsLm1ldGFkYXRhLFwid2luZG93V2lkdGhcIixuLmlubmVyV2lkdGgpLGMobC5tZXRhZGF0YSxcIndpbmRvd0hlaWdodFwiLG4uaW5uZXJIZWlnaHQpLGMobC5tZXRhZGF0YSxcIm1hcFdpZHRoXCIsZS53aWR0aC9hKSxjKGwubWV0YWRhdGEsXCJtYXBIZWlnaHRcIixlLmhlaWdodC9hKSxjKGwubWV0YWRhdGEsXCJ3ZWJnbFJlbmRlcmVyXCIsZS5yZW5kZXJlciksYyhsLm1ldGFkYXRhLFwid2ViZ2xWZW5kb3JcIixlLnZlbmRvciksYyhsLm1ldGFkYXRhLFwic2RrVmVyc2lvblwiLGkpLGMobC5tZXRhZGF0YSxcInNka0lkZW50aWZpZXJcIixcIm1hcGJveC1nbC1qc1wiKSxsfShyKTtmb3IoY29uc3QgZSBvZiBvLm1ldGFkYXRhKTtmb3IoY29uc3QgZSBvZiBvLmNvdW50ZXJzKTtmb3IoY29uc3QgZSBvZiBvLmF0dHJpYnV0ZXMpO3RoaXMucG9zdEV2ZW50KHQsbywoKT0+e30sZSl9fSx6ZT1QZS5wb3N0UGVyZm9ybWFuY2VFdmVudC5iaW5kKFBlKSxEZT1uZXcgY2xhc3MgZXh0ZW5kcyBNZXtjb25zdHJ1Y3Rvcigpe3N1cGVyKFwibWFwLmF1dGhcIiksdGhpcy5zdWNjZXNzPXt9LHRoaXMuc2t1VG9rZW49XCJcIn1nZXRTZXNzaW9uKGUsdCxuLGkpe2lmKCFvLkFQSV9VUkx8fCFvLlNFU1NJT05fUEFUSClyZXR1cm47Y29uc3Qgcj1UZShvLkFQSV9VUkwrby5TRVNTSU9OX1BBVEgpO3IucGFyYW1zLnB1c2goXCJza3U9XCIrKHR8fFwiXCIpKSxyLnBhcmFtcy5wdXNoKFwiYWNjZXNzX3Rva2VuPVwiKyhpfHxvLkFDQ0VTU19UT0tFTnx8XCJcIikpO2NvbnN0IGE9e3VybDpFZShyKSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwidGV4dC9wbGFpblwifX07dGhpcy5wZW5kaW5nUmVxdWVzdD1mdW5jdGlvbihlLHQpe3JldHVybiBjZShBKGUse21ldGhvZDpcIkdFVFwifSksdCl9KGEsZT0+e3RoaXMucGVuZGluZ1JlcXVlc3Q9bnVsbCxuKGUpLHRoaXMuc2F2ZUV2ZW50RGF0YSgpLHRoaXMucHJvY2Vzc1JlcXVlc3RzKGkpfSl9Z2V0U2Vzc2lvbkFQSShlLHQsbixpKXt0aGlzLnNrdVRva2VuPXQsdGhpcy5lcnJvckNiPWksby5TRVNTSU9OX1BBVEgmJm8uQVBJX1VSTCYmKG58fG8uQUNDRVNTX1RPS0VOP3RoaXMucXVldWVSZXF1ZXN0KHtpZDplLHRpbWVzdGFtcDpEYXRlLm5vdygpfSxuKTp0aGlzLmVycm9yQ2IobmV3IEVycm9yKGdlKSkpfXByb2Nlc3NSZXF1ZXN0cyhlKXtpZih0aGlzLnBlbmRpbmdSZXF1ZXN0fHwwPT09dGhpcy5xdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0e2lkOnQsdGltZXN0YW1wOm59PXRoaXMucXVldWUuc2hpZnQoKTt0JiZ0aGlzLnN1Y2Nlc3NbdF18fHRoaXMuZ2V0U2Vzc2lvbihuLHRoaXMuc2t1VG9rZW4sZT0+e2U/dGhpcy5lcnJvckNiKGUpOnQmJih0aGlzLnN1Y2Nlc3NbdF09ITApfSxlKX19LExlPURlLmdldFNlc3Npb25BUEkuYmluZChEZSksT2U9bmV3IFNldCxSZT17Y3JlYXRlOlwiY3JlYXRlXCIsbG9hZDpcImxvYWRcIixmdWxsTG9hZDpcImZ1bGxMb2FkXCJ9LEJlPXttYXJrKGUpe24ucGVyZm9ybWFuY2UubWFyayhlKX0sbWVhc3VyZShlLHQsaSl7bi5wZXJmb3JtYW5jZS5tZWFzdXJlKGUsdCxpKX19O2Z1bmN0aW9uIGplKGUpe2NvbnN0IHQ9ZS5uYW1lLnNwbGl0KFwiP1wiKVswXTtyZXR1cm4gdmUodCkmJnQuaW5jbHVkZXMoXCJtYXBib3gtZ2wuanNcIik/XCJqYXZhc2NyaXB0XCI6dmUodCkmJnQuaW5jbHVkZXMoXCJtYXBib3gtZ2wuY3NzXCIpP1wiY3NzXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIG8uQVBJX0ZPTlRTX1JFR0VYLnRlc3QoZSl9KHQpP1wiZm9udFJhbmdlXCI6YmUodCk/XCJzcHJpdGVcIjp4ZSh0KT9cInN0eWxlXCI6ZnVuY3Rpb24oZSl7cmV0dXJuIG8uQVBJX1RJTEVKU09OX1JFR0VYLnRlc3QoZSl9KHQpP1widGlsZWpzb25cIjpcIm90aGVyXCJ9Y29uc3QgRmU9bi5wZXJmb3JtYW5jZTtmdW5jdGlvbiBOZShlKXtjb25zdCB0PWU/ZS51cmwudG9TdHJpbmcoKTp2b2lkIDA7cmV0dXJuIEZlLmdldEVudHJpZXNCeU5hbWUodCl9bGV0IFVlLFZlLEdlLFplO2NvbnN0IFdlPXtub3c6KCk9PnZvaWQgMCE9PUdlP0dlOm4ucGVyZm9ybWFuY2Uubm93KCksc2V0Tm93KGUpe0dlPWV9LHJlc3RvcmVOb3coKXtHZT12b2lkIDB9LGZyYW1lKGUpe2NvbnN0IHQ9bi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk7cmV0dXJue2NhbmNlbDooKT0+bi5jYW5jZWxBbmltYXRpb25GcmFtZSh0KX19LGdldEltYWdlRGF0YShlLHQ9MCl7Y29uc3R7d2lkdGg6aSxoZWlnaHQ6cn09ZTtaZXx8KFplPW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKSk7Y29uc3Qgbz1aZS5nZXRDb250ZXh0KFwiMmRcIix7d2lsbFJlYWRGcmVxdWVudGx5OiEwfSk7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjYW52YXMgMmQgY29udGV4dFwiKTtyZXR1cm4oaT5aZS53aWR0aHx8cj5aZS5oZWlnaHQpJiYoWmUud2lkdGg9aSxaZS5oZWlnaHQ9ciksby5jbGVhclJlY3QoLXQsLXQsaSsyKnQscisyKnQpLG8uZHJhd0ltYWdlKGUsMCwwLGksciksby5nZXRJbWFnZURhdGEoLXQsLXQsaSsyKnQscisyKnQpfSxyZXNvbHZlVVJMOmU9PihVZXx8KFVlPW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIikpLFVlLmhyZWY9ZSxVZS5ocmVmKSxnZXQgZGV2aWNlUGl4ZWxSYXRpbygpe3JldHVybiBuLmRldmljZVBpeGVsUmF0aW99LGdldCBwcmVmZXJzUmVkdWNlZE1vdGlvbigpe3JldHVybiEhbi5tYXRjaE1lZGlhJiYobnVsbD09VmUmJihWZT1uLm1hdGNoTWVkaWEoXCIocHJlZmVycy1yZWR1Y2VkLW1vdGlvbjogcmVkdWNlKVwiKSksVmUubWF0Y2hlcyl9fTtmdW5jdGlvbiBxZShlLHQsbil7bltlXSYmLTEhPT1uW2VdLmluZGV4T2YodCl8fChuW2VdPW5bZV18fFtdLG5bZV0ucHVzaCh0KSl9ZnVuY3Rpb24gJGUoZSx0LG4pe2lmKG4mJm5bZV0pe2NvbnN0IGk9bltlXS5pbmRleE9mKHQpOy0xIT09aSYmbltlXS5zcGxpY2UoaSwxKX19Y2xhc3MgSGV7Y29uc3RydWN0b3IoZSx0PXt9KXtBKHRoaXMsdCksdGhpcy50eXBlPWV9fWNsYXNzIFhlIGV4dGVuZHMgSGV7Y29uc3RydWN0b3IoZSx0PXt9KXtzdXBlcihcImVycm9yXCIsQSh7ZXJyb3I6ZX0sdCkpfX1jbGFzcyBZZXtvbihlLHQpe3JldHVybiB0aGlzLl9saXN0ZW5lcnM9dGhpcy5fbGlzdGVuZXJzfHx7fSxxZShlLHQsdGhpcy5fbGlzdGVuZXJzKSx0aGlzfW9mZihlLHQpe3JldHVybiAkZShlLHQsdGhpcy5fbGlzdGVuZXJzKSwkZShlLHQsdGhpcy5fb25lVGltZUxpc3RlbmVycyksdGhpc31vbmNlKGUsdCl7cmV0dXJuIHQ/KHRoaXMuX29uZVRpbWVMaXN0ZW5lcnM9dGhpcy5fb25lVGltZUxpc3RlbmVyc3x8e30scWUoZSx0LHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHRoaXMpOm5ldyBQcm9taXNlKHQ9PnRoaXMub25jZShlLHQpKX1maXJlKGUsdCl7XCJzdHJpbmdcIj09dHlwZW9mIGUmJihlPW5ldyBIZShlLHR8fHt9KSk7Y29uc3Qgbj1lLnR5cGU7aWYodGhpcy5saXN0ZW5zKG4pKXtlLnRhcmdldD10aGlzO2NvbnN0IHQ9dGhpcy5fbGlzdGVuZXJzJiZ0aGlzLl9saXN0ZW5lcnNbbl0/dGhpcy5fbGlzdGVuZXJzW25dLnNsaWNlKCk6W107Zm9yKGNvbnN0IG4gb2YgdCluLmNhbGwodGhpcyxlKTtjb25zdCBpPXRoaXMuX29uZVRpbWVMaXN0ZW5lcnMmJnRoaXMuX29uZVRpbWVMaXN0ZW5lcnNbbl0/dGhpcy5fb25lVGltZUxpc3RlbmVyc1tuXS5zbGljZSgpOltdO2Zvcihjb25zdCB0IG9mIGkpJGUobix0LHRoaXMuX29uZVRpbWVMaXN0ZW5lcnMpLHQuY2FsbCh0aGlzLGUpO2NvbnN0IHI9dGhpcy5fZXZlbnRlZFBhcmVudDtyJiYoQShlLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuX2V2ZW50ZWRQYXJlbnREYXRhP3RoaXMuX2V2ZW50ZWRQYXJlbnREYXRhKCk6dGhpcy5fZXZlbnRlZFBhcmVudERhdGEpLHIuZmlyZShlKSl9ZWxzZSBlIGluc3RhbmNlb2YgWGUmJmNvbnNvbGUuZXJyb3IoZS5lcnJvcik7cmV0dXJuIHRoaXN9bGlzdGVucyhlKXtyZXR1cm4hISh0aGlzLl9saXN0ZW5lcnMmJnRoaXMuX2xpc3RlbmVyc1tlXSYmdGhpcy5fbGlzdGVuZXJzW2VdLmxlbmd0aD4wfHx0aGlzLl9vbmVUaW1lTGlzdGVuZXJzJiZ0aGlzLl9vbmVUaW1lTGlzdGVuZXJzW2VdJiZ0aGlzLl9vbmVUaW1lTGlzdGVuZXJzW2VdLmxlbmd0aD4wfHx0aGlzLl9ldmVudGVkUGFyZW50JiZ0aGlzLl9ldmVudGVkUGFyZW50Lmxpc3RlbnMoZSkpfXNldEV2ZW50ZWRQYXJlbnQoZSx0KXtyZXR1cm4gdGhpcy5fZXZlbnRlZFBhcmVudD1lLHRoaXMuX2V2ZW50ZWRQYXJlbnREYXRhPXQsdGhpc319dmFyIEplPUpTT04ucGFyc2UoJ3tcIiR2ZXJzaW9uXCI6OCxcIiRyb290XCI6e1widmVyc2lvblwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOls4XX0sXCJuYW1lXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwibWV0YWRhdGFcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwiY2VudGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIn0sXCJ6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCJ9LFwiYmVhcmluZ1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJwZXJpb2RcIjozNjAsXCJ1bml0c1wiOlwiZGVncmVlc1wifSxcInBpdGNoXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInVuaXRzXCI6XCJkZWdyZWVzXCJ9LFwibGlnaHRcIjp7XCJ0eXBlXCI6XCJsaWdodFwifSxcInRlcnJhaW5cIjp7XCJ0eXBlXCI6XCJ0ZXJyYWluXCJ9LFwiZm9nXCI6e1widHlwZVwiOlwiZm9nXCJ9LFwic291cmNlc1wiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcInNvdXJjZXNcIn0sXCJzcHJpdGVcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJnbHlwaHNcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJ0cmFuc2l0aW9uXCI6e1widHlwZVwiOlwidHJhbnNpdGlvblwifSxcInByb2plY3Rpb25cIjp7XCJ0eXBlXCI6XCJwcm9qZWN0aW9uXCJ9LFwibGF5ZXJzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJsYXllclwifX0sXCJzb3VyY2VzXCI6e1wiKlwiOntcInR5cGVcIjpcInNvdXJjZVwifX0sXCJzb3VyY2VcIjpbXCJzb3VyY2VfdmVjdG9yXCIsXCJzb3VyY2VfcmFzdGVyXCIsXCJzb3VyY2VfcmFzdGVyX2RlbVwiLFwic291cmNlX2dlb2pzb25cIixcInNvdXJjZV92aWRlb1wiLFwic291cmNlX2ltYWdlXCJdLFwic291cmNlX3ZlY3RvclwiOntcInR5cGVcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2ZWN0b3JcIjp7fX19LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImJvdW5kc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjo0LFwiZGVmYXVsdFwiOlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LFwic2NoZW1lXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wieHl6XCI6e30sXCJ0bXNcIjp7fX0sXCJkZWZhdWx0XCI6XCJ4eXpcIn0sXCJtaW56b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MH0sXCJtYXh6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MjJ9LFwiYXR0cmlidXRpb25cIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJwcm9tb3RlSWRcIjp7XCJ0eXBlXCI6XCJwcm9tb3RlSWRcIn0sXCJ2b2xhdGlsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZX0sXCIqXCI6e1widHlwZVwiOlwiKlwifX0sXCJzb3VyY2VfcmFzdGVyXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInJhc3RlclwiOnt9fX0sXCJ1cmxcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJ0aWxlc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwic3RyaW5nXCJ9LFwiYm91bmRzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjQsXCJkZWZhdWx0XCI6Wy0xODAsLTg1LjA1MTEyOSwxODAsODUuMDUxMTI5XX0sXCJtaW56b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MH0sXCJtYXh6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MjJ9LFwidGlsZVNpemVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjo1MTIsXCJ1bml0c1wiOlwicGl4ZWxzXCJ9LFwic2NoZW1lXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wieHl6XCI6e30sXCJ0bXNcIjp7fX0sXCJkZWZhdWx0XCI6XCJ4eXpcIn0sXCJhdHRyaWJ1dGlvblwiOntcInR5cGVcIjpcInN0cmluZ1wifSxcInZvbGF0aWxlXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcIipcIjp7XCJ0eXBlXCI6XCIqXCJ9fSxcInNvdXJjZV9yYXN0ZXJfZGVtXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInJhc3Rlci1kZW1cIjp7fX19LFwidXJsXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwidGlsZXNcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImJvdW5kc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjo0LFwiZGVmYXVsdFwiOlstMTgwLC04NS4wNTExMjksMTgwLDg1LjA1MTEyOV19LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjB9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIyfSxcInRpbGVTaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NTEyLFwidW5pdHNcIjpcInBpeGVsc1wifSxcImF0dHJpYnV0aW9uXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwiZW5jb2RpbmdcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ0ZXJyYXJpdW1cIjp7fSxcIm1hcGJveFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcGJveFwifSxcInZvbGF0aWxlXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlfSxcIipcIjp7XCJ0eXBlXCI6XCIqXCJ9fSxcInNvdXJjZV9nZW9qc29uXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImdlb2pzb25cIjp7fX19LFwiZGF0YVwiOntcInR5cGVcIjpcIipcIn0sXCJtYXh6b29tXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTh9LFwiYXR0cmlidXRpb25cIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn0sXCJidWZmZXJcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxMjgsXCJtYXhpbXVtXCI6NTEyLFwibWluaW11bVwiOjB9LFwiZmlsdGVyXCI6e1widHlwZVwiOlwiKlwifSxcInRvbGVyYW5jZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAuMzc1fSxcImNsdXN0ZXJcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiY2x1c3RlclJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjUwLFwibWluaW11bVwiOjB9LFwiY2x1c3Rlck1heFpvb21cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIn0sXCJjbHVzdGVyTWluUG9pbnRzXCI6e1widHlwZVwiOlwibnVtYmVyXCJ9LFwiY2x1c3RlclByb3BlcnRpZXNcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwibGluZU1ldHJpY3NcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2V9LFwiZ2VuZXJhdGVJZFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZX0sXCJwcm9tb3RlSWRcIjp7XCJ0eXBlXCI6XCJwcm9tb3RlSWRcIn19LFwic291cmNlX3ZpZGVvXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpZGVvXCI6e319fSxcInVybHNcIjp7XCJyZXF1aXJlZFwiOnRydWUsXCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcInN0cmluZ1wifSxcImNvb3JkaW5hdGVzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjQsXCJ2YWx1ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwifX19LFwic291cmNlX2ltYWdlXCI6e1widHlwZVwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImltYWdlXCI6e319fSxcInVybFwiOntcInJlcXVpcmVkXCI6dHJ1ZSxcInR5cGVcIjpcInN0cmluZ1wifSxcImNvb3JkaW5hdGVzXCI6e1wicmVxdWlyZWRcIjp0cnVlLFwidHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjQsXCJ2YWx1ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwifX19LFwibGF5ZXJcIjp7XCJpZFwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwicmVxdWlyZWRcIjp0cnVlfSxcInR5cGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJmaWxsXCI6e30sXCJsaW5lXCI6e30sXCJzeW1ib2xcIjp7fSxcImNpcmNsZVwiOnt9LFwiaGVhdG1hcFwiOnt9LFwiZmlsbC1leHRydXNpb25cIjp7fSxcInJhc3RlclwiOnt9LFwiaGlsbHNoYWRlXCI6e30sXCJiYWNrZ3JvdW5kXCI6e30sXCJza3lcIjp7fX0sXCJyZXF1aXJlZFwiOnRydWV9LFwibWV0YWRhdGFcIjp7XCJ0eXBlXCI6XCIqXCJ9LFwic291cmNlXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwic291cmNlLWxheWVyXCI6e1widHlwZVwiOlwic3RyaW5nXCJ9LFwibWluem9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MjR9LFwibWF4em9vbVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MjR9LFwiZmlsdGVyXCI6e1widHlwZVwiOlwiZmlsdGVyXCJ9LFwibGF5b3V0XCI6e1widHlwZVwiOlwibGF5b3V0XCJ9LFwicGFpbnRcIjp7XCJ0eXBlXCI6XCJwYWludFwifX0sXCJsYXlvdXRcIjpbXCJsYXlvdXRfZmlsbFwiLFwibGF5b3V0X2xpbmVcIixcImxheW91dF9jaXJjbGVcIixcImxheW91dF9oZWF0bWFwXCIsXCJsYXlvdXRfZmlsbC1leHRydXNpb25cIixcImxheW91dF9zeW1ib2xcIixcImxheW91dF9yYXN0ZXJcIixcImxheW91dF9oaWxsc2hhZGVcIixcImxheW91dF9iYWNrZ3JvdW5kXCIsXCJsYXlvdXRfc2t5XCJdLFwibGF5b3V0X2JhY2tncm91bmRcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9za3lcIjp7XCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9maWxsXCI6e1wiZmlsbC1zb3J0LWtleVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ2aXNpYmlsaXR5XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1widmlzaWJsZVwiOnt9LFwibm9uZVwiOnt9fSxcImRlZmF1bHRcIjpcInZpc2libGVcIixcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9jaXJjbGVcIjp7XCJjaXJjbGUtc29ydC1rZXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfaGVhdG1hcFwiOntcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X2ZpbGwtZXh0cnVzaW9uXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifSxcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcml2YXRlXCI6dHJ1ZSxcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInByb3BlcnR5LXR5cGVcIjpcImNvbnN0YW50XCJ9fSxcImxheW91dF9saW5lXCI6e1wibGluZS1jYXBcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJidXR0XCI6e30sXCJyb3VuZFwiOnt9LFwic3F1YXJlXCI6e319LFwiZGVmYXVsdFwiOlwiYnV0dFwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWpvaW5cIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJiZXZlbFwiOnt9LFwicm91bmRcIjp7fSxcIm1pdGVyXCI6e319LFwiZGVmYXVsdFwiOlwibWl0ZXJcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwibGluZS1taXRlci1saW1pdFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjIsXCJyZXF1aXJlc1wiOlt7XCJsaW5lLWpvaW5cIjpcIm1pdGVyXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImxpbmUtcm91bmQtbGltaXRcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLjA1LFwicmVxdWlyZXNcIjpbe1wibGluZS1qb2luXCI6XCJyb3VuZFwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXNvcnQta2V5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInZpc2liaWxpdHlcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJ2aXNpYmxlXCI6e30sXCJub25lXCI6e319LFwiZGVmYXVsdFwiOlwidmlzaWJsZVwiLFwicHJvcGVydHktdHlwZVwiOlwiY29uc3RhbnRcIn19LFwibGF5b3V0X3N5bWJvbFwiOntcInN5bWJvbC1wbGFjZW1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJwb2ludFwiOnt9LFwibGluZVwiOnt9LFwibGluZS1jZW50ZXJcIjp7fX0sXCJkZWZhdWx0XCI6XCJwb2ludFwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInN5bWJvbC1zcGFjaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MjUwLFwibWluaW11bVwiOjEsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOlt7XCJzeW1ib2wtcGxhY2VtZW50XCI6XCJsaW5lXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInN5bWJvbC1hdm9pZC1lZGdlc1wiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJzeW1ib2wtc29ydC1rZXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwic3ltYm9sLXotb3JkZXJcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJhdXRvXCI6e30sXCJ2aWV3cG9ydC15XCI6e30sXCJzb3VyY2VcIjp7fX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1hbGxvdy1vdmVybGFwXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24taWdub3JlLXBsYWNlbWVudFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLW9wdGlvbmFsXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIsXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tcm90YXRpb24tYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9LFwiYXV0b1wiOnt9fSxcImRlZmF1bHRcIjpcImF1dG9cIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXNpemVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwiZmFjdG9yIG9mIHRoZSBvcmlnaW5hbCBpY29uIHNpemVcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXRleHQtZml0XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibm9uZVwiOnt9LFwid2lkdGhcIjp7fSxcImhlaWdodFwiOnt9LFwiYm90aFwiOnt9fSxcImRlZmF1bHRcIjpcIm5vbmVcIixcInJlcXVpcmVzXCI6W1wiaWNvbi1pbWFnZVwiLFwidGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6NCxcImRlZmF1bHRcIjpbMCwwLDAsMF0sXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIixcInRleHQtZmllbGRcIix7XCJpY29uLXRleHQtZml0XCI6W1wiYm90aFwiLFwid2lkdGhcIixcImhlaWdodFwiXX1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1pbWFnZVwiOntcInR5cGVcIjpcInJlc29sdmVkSW1hZ2VcIixcInRva2Vuc1wiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tcm90YXRlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInBlcmlvZFwiOjM2MCxcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1wYWRkaW5nXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MixcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi1rZWVwLXVwcmlnaHRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIix7XCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiOlwibWFwXCJ9LHtcInN5bWJvbC1wbGFjZW1lbnRcIjpbXCJsaW5lXCIsXCJsaW5lLWNlbnRlclwiXX1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImljb24tb2Zmc2V0XCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJjZW50ZXJcIjp7fSxcImxlZnRcIjp7fSxcInJpZ2h0XCI6e30sXCJ0b3BcIjp7fSxcImJvdHRvbVwiOnt9LFwidG9wLWxlZnRcIjp7fSxcInRvcC1yaWdodFwiOnt9LFwiYm90dG9tLWxlZnRcIjp7fSxcImJvdHRvbS1yaWdodFwiOnt9fSxcImRlZmF1bHRcIjpcImNlbnRlclwiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJpY29uLXBpdGNoLWFsaWdubWVudFwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fSxcImF1dG9cIjp7fX0sXCJkZWZhdWx0XCI6XCJhdXRvXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e30sXCJhdXRvXCI6e319LFwiZGVmYXVsdFwiOlwiYXV0b1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9LFwiYXV0b1wiOnt9fSxcImRlZmF1bHRcIjpcImF1dG9cIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LWZpZWxkXCI6e1widHlwZVwiOlwiZm9ybWF0dGVkXCIsXCJkZWZhdWx0XCI6XCJcIixcInRva2Vuc1wiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtZm9udFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwic3RyaW5nXCIsXCJkZWZhdWx0XCI6W1wiT3BlbiBTYW5zIFJlZ3VsYXJcIixcIkFyaWFsIFVuaWNvZGUgTVMgUmVndWxhclwiXSxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1zaXplXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MTYsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJwaXhlbHNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LW1heC13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEwLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwiZW1zXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIix7XCJzeW1ib2wtcGxhY2VtZW50XCI6W1wicG9pbnRcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWxpbmUtaGVpZ2h0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MS4yLFwidW5pdHNcIjpcImVtc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtbGV0dGVyLXNwYWNpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwidW5pdHNcIjpcImVtc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtanVzdGlmeVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImF1dG9cIjp7fSxcImxlZnRcIjp7fSxcImNlbnRlclwiOnt9LFwicmlnaHRcIjp7fX0sXCJkZWZhdWx0XCI6XCJjZW50ZXJcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1yYWRpYWwtb2Zmc2V0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJ1bml0c1wiOlwiZW1zXCIsXCJkZWZhdWx0XCI6MCxcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfX0sXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiY2VudGVyXCI6e30sXCJsZWZ0XCI6e30sXCJyaWdodFwiOnt9LFwidG9wXCI6e30sXCJib3R0b21cIjp7fSxcInRvcC1sZWZ0XCI6e30sXCJ0b3AtcmlnaHRcIjp7fSxcImJvdHRvbS1sZWZ0XCI6e30sXCJib3R0b20tcmlnaHRcIjp7fX0sXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIix7XCJzeW1ib2wtcGxhY2VtZW50XCI6W1wicG9pbnRcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImNlbnRlclwiOnt9LFwibGVmdFwiOnt9LFwicmlnaHRcIjp7fSxcInRvcFwiOnt9LFwiYm90dG9tXCI6e30sXCJ0b3AtbGVmdFwiOnt9LFwidG9wLXJpZ2h0XCI6e30sXCJib3R0b20tbGVmdFwiOnt9LFwiYm90dG9tLXJpZ2h0XCI6e319LFwiZGVmYXVsdFwiOlwiY2VudGVyXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIix7XCIhXCI6XCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtbWF4LWFuZ2xlXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NDUsXCJ1bml0c1wiOlwiZGVncmVlc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wic3ltYm9sLXBsYWNlbWVudFwiOltcImxpbmVcIixcImxpbmUtY2VudGVyXCJdfV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXdyaXRpbmctbW9kZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiaG9yaXpvbnRhbFwiOnt9LFwidmVydGljYWxcIjp7fX0sXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1yb3RhdGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwidW5pdHNcIjpcImRlZ3JlZXNcIixcInJlcXVpcmVzXCI6W1widGV4dC1maWVsZFwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LXBhZGRpbmdcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoyLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LWtlZXAtdXByaWdodFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1widGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIjpcIm1hcFwifSx7XCJzeW1ib2wtcGxhY2VtZW50XCI6W1wibGluZVwiLFwibGluZS1jZW50ZXJcIl19XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LXRyYW5zZm9ybVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm5vbmVcIjp7fSxcInVwcGVyY2FzZVwiOnt9LFwibG93ZXJjYXNlXCI6e319LFwiZGVmYXVsdFwiOlwibm9uZVwiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJ1bml0c1wiOlwiZW1zXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIse1wiIVwiOlwidGV4dC1yYWRpYWwtb2Zmc2V0XCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInRleHQtb3B0aW9uYWxcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6ZmFsc2UsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIixcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfcmFzdGVyXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJsYXlvdXRfaGlsbHNoYWRlXCI6e1widmlzaWJpbGl0eVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcInZpc2libGVcIjp7fSxcIm5vbmVcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aXNpYmxlXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJmaWx0ZXJcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIipcIn0sXCJmaWx0ZXJfc3ltYm9sXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJwaXRjaFwiLFwiZGlzdGFuY2UtZnJvbS1jZW50ZXJcIl19fSxcImZpbHRlcl9maWxsXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfX0sXCJmaWx0ZXJfbGluZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2NpcmNsZVwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX2ZpbGwtZXh0cnVzaW9uXCI6e1widHlwZVwiOlwiYm9vbGVhblwiLFwiZGVmYXVsdFwiOmZhbHNlLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfX0sXCJmaWx0ZXJfaGVhdG1hcFwiOntcInR5cGVcIjpcImJvb2xlYW5cIixcImRlZmF1bHRcIjpmYWxzZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX19LFwiZmlsdGVyX29wZXJhdG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiPT1cIjp7fSxcIiE9XCI6e30sXCI+XCI6e30sXCI+PVwiOnt9LFwiPFwiOnt9LFwiPD1cIjp7fSxcImluXCI6e30sXCIhaW5cIjp7fSxcImFsbFwiOnt9LFwiYW55XCI6e30sXCJub25lXCI6e30sXCJoYXNcIjp7fSxcIiFoYXNcIjp7fSxcIndpdGhpblwiOnt9fX0sXCJnZW9tZXRyeV90eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiUG9pbnRcIjp7fSxcIkxpbmVTdHJpbmdcIjp7fSxcIlBvbHlnb25cIjp7fX19LFwiZnVuY3Rpb25cIjp7XCJleHByZXNzaW9uXCI6e1widHlwZVwiOlwiZXhwcmVzc2lvblwifSxcInN0b3BzXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJmdW5jdGlvbl9zdG9wXCJ9LFwiYmFzZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MH0sXCJwcm9wZXJ0eVwiOntcInR5cGVcIjpcInN0cmluZ1wiLFwiZGVmYXVsdFwiOlwiJHpvb21cIn0sXCJ0eXBlXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiaWRlbnRpdHlcIjp7fSxcImV4cG9uZW50aWFsXCI6e30sXCJpbnRlcnZhbFwiOnt9LFwiY2F0ZWdvcmljYWxcIjp7fX0sXCJkZWZhdWx0XCI6XCJleHBvbmVudGlhbFwifSxcImNvbG9yU3BhY2VcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJyZ2JcIjp7fSxcImxhYlwiOnt9LFwiaGNsXCI6e319LFwiZGVmYXVsdFwiOlwicmdiXCJ9LFwiZGVmYXVsdFwiOntcInR5cGVcIjpcIipcIixcInJlcXVpcmVkXCI6ZmFsc2V9fSxcImZ1bmN0aW9uX3N0b3BcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MjQsXCJ2YWx1ZVwiOltcIm51bWJlclwiLFwiY29sb3JcIl0sXCJsZW5ndGhcIjoyfSxcImV4cHJlc3Npb25cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIipcIixcIm1pbmltdW1cIjoxfSxcImZvZ1wiOntcInJhbmdlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImRlZmF1bHRcIjpbMC41LDEwXSxcIm1pbmltdW1cIjotMjAsXCJtYXhpbXVtXCI6MjAsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJjb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6XCIjZmZmZmZmXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInRyYW5zaXRpb25cIjp0cnVlfSxcImhpZ2gtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOlwiIzI0NWNkZlwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJzcGFjZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6W1wiaW50ZXJwb2xhdGVcIixbXCJsaW5lYXJcIl0sW1wiem9vbVwiXSw0LFwiIzAxMGIxOVwiLDcsXCIjMzY3YWI5XCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJob3Jpem9uLWJsZW5kXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6W1wiaW50ZXJwb2xhdGVcIixbXCJsaW5lYXJcIl0sW1wiem9vbVwiXSw0LDAuMiw3LDAuMV0sXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJzdGFyLWludGVuc2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInpvb21cIl0sNSwwLjM1LDYsMF0sXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX19LFwibGlnaHRcIjp7XCJhbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJkZWZhdWx0XCI6XCJ2aWV3cG9ydFwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfX0sXCJwb3NpdGlvblwiOntcInR5cGVcIjpcImFycmF5XCIsXCJkZWZhdWx0XCI6WzEuMTUsMjEwLDMwXSxcImxlbmd0aFwiOjMsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19fSxcImNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjpcIiNmZmZmZmZcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9LFwiaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJkZWZhdWx0XCI6MC41LFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWV9fSxcInByb2plY3Rpb25cIjp7XCJuYW1lXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wiYWxiZXJzXCI6e30sXCJlcXVhbEVhcnRoXCI6e30sXCJlcXVpcmVjdGFuZ3VsYXJcIjp7fSxcImxhbWJlcnRDb25mb3JtYWxDb25pY1wiOnt9LFwibWVyY2F0b3JcIjp7fSxcIm5hdHVyYWxFYXJ0aFwiOnt9LFwid2lua2VsVHJpcGVsXCI6e30sXCJnbG9iZVwiOnt9fSxcImRlZmF1bHRcIjpcIm1lcmNhdG9yXCIsXCJyZXF1aXJlZFwiOnRydWV9LFwiY2VudGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcImxlbmd0aFwiOjIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJtaW5pbXVtXCI6Wy0xODAsLTkwXSxcIm1heGltdW1cIjpbMTgwLDkwXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcIm5hbWVcIjpbXCJhbGJlcnNcIixcImxhbWJlcnRDb25mb3JtYWxDb25pY1wiXX1dfSxcInBhcmFsbGVsc1wiOntcInR5cGVcIjpcImFycmF5XCIsXCJsZW5ndGhcIjoyLFwidmFsdWVcIjpcIm51bWJlclwiLFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwiLFwibWluaW11bVwiOlstOTAsLTkwXSxcIm1heGltdW1cIjpbOTAsOTBdLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wibmFtZVwiOltcImFsYmVyc1wiLFwibGFtYmVydENvbmZvcm1hbENvbmljXCJdfV19fSxcInRlcnJhaW5cIjp7XCJzb3VyY2VcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIixcInJlcXVpcmVkXCI6dHJ1ZX0sXCJleGFnZ2VyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MTAwMCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcInNvdXJjZVwiXX19LFwicGFpbnRcIjpbXCJwYWludF9maWxsXCIsXCJwYWludF9saW5lXCIsXCJwYWludF9jaXJjbGVcIixcInBhaW50X2hlYXRtYXBcIixcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCIsXCJwYWludF9zeW1ib2xcIixcInBhaW50X3Jhc3RlclwiLFwicGFpbnRfaGlsbHNoYWRlXCIsXCJwYWludF9iYWNrZ3JvdW5kXCIsXCJwYWludF9za3lcIl0sXCJwYWludF9maWxsXCI6e1wiZmlsbC1hbnRpYWxpYXNcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJmaWxsLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtb3V0bGluZS1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImZpbGwtcGF0dGVyblwifSx7XCJmaWxsLWFudGlhbGlhc1wiOnRydWV9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJmaWxsLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJyZXF1aXJlc1wiOltcImZpbGwtdHJhbnNsYXRlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImZpbGwtcGF0dGVyblwiOntcInR5cGVcIjpcInJlc29sdmVkSW1hZ2VcIixcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9fSxcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCI6e1wiZmlsbC1leHRydXNpb24tb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjMDAwMDAwXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInJlcXVpcmVzXCI6W3tcIiFcIjpcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiOntcInR5cGVcIjpcInJlc29sdmVkSW1hZ2VcIixcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1leHRydXNpb24taGVpZ2h0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidW5pdHNcIjpcIm1ldGVyc1wiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1leHRydXNpb24tYmFzZVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInVuaXRzXCI6XCJtZXRlcnNcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnRcIjp7XCJ0eXBlXCI6XCJib29sZWFuXCIsXCJkZWZhdWx0XCI6dHJ1ZSxcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0eXBlXCI6XCJudW1iZXJcIixcInByaXZhdGVcIjp0cnVlLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZX0sXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1yYWRpdXNcIjp7XCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCIsXCJ0eXBlXCI6XCJudW1iZXJcIixcInByaXZhdGVcIjp0cnVlLFwiZGVmYXVsdFwiOjMsXCJtaW5pbXVtXCI6MCxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcImZpbGwtZXh0cnVzaW9uLWVkZ2UtcmFkaXVzXCJdfX0sXCJwYWludF9saW5lXCI6e1wibGluZS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwibGluZS1wYXR0ZXJuXCJ9XSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLXRyYW5zbGF0ZVwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJtYXBcIjp7fSxcInZpZXdwb3J0XCI6e319LFwiZGVmYXVsdFwiOlwibWFwXCIsXCJyZXF1aXJlc1wiOltcImxpbmUtdHJhbnNsYXRlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImxpbmUtd2lkdGhcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLWdhcC13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtb2Zmc2V0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtYmx1clwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtZGFzaGFycmF5XCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOmZhbHNlLFwidW5pdHNcIjpcImxpbmUgd2lkdGhzXCIsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJsaW5lLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJsaW5lLXBhdHRlcm5cIjp7XCJ0eXBlXCI6XCJyZXNvbHZlZEltYWdlXCIsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImxpbmUtZ3JhZGllbnRcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wiIVwiOlwibGluZS1wYXR0ZXJuXCJ9LHtcInNvdXJjZVwiOlwiZ2VvanNvblwiLFwiaGFzXCI6e1wibGluZU1ldHJpY3NcIjp0cnVlfX1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wibGluZS1wcm9ncmVzc1wiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb2xvci1yYW1wXCJ9LFwibGluZS10cmltLW9mZnNldFwiOntcInR5cGVcIjpcImFycmF5XCIsXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJsZW5ndGhcIjoyLFwiZGVmYXVsdFwiOlswLDBdLFwibWluaW11bVwiOlswLDBdLFwibWF4aW11bVwiOlsxLDFdLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wic291cmNlXCI6XCJnZW9qc29uXCIsXCJoYXNcIjp7XCJsaW5lTWV0cmljc1wiOnRydWV9fV0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb25zdGFudFwifX0sXCJwYWludF9jaXJjbGVcIjp7XCJjaXJjbGUtcmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6NSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn0sXCJjaXJjbGUtdHJhbnNsYXRlXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInZhbHVlXCI6XCJudW1iZXJcIixcImxlbmd0aFwiOjIsXCJkZWZhdWx0XCI6WzAsMF0sXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcInVuaXRzXCI6XCJwaXhlbHNcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJjaXJjbGUtdHJhbnNsYXRlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImNpcmNsZS1waXRjaC1zY2FsZVwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJtYXBcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcInZpZXdwb3J0XCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImNpcmNsZS1zdHJva2UtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIixcImZlYXR1cmVcIixcImZlYXR1cmUtc3RhdGVcIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1kcml2ZW5cIn19LFwicGFpbnRfaGVhdG1hcFwiOntcImhlYXRtYXAtcmFkaXVzXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzAsXCJtaW5pbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImhlYXRtYXAtd2VpZ2h0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImhlYXRtYXAtaW50ZW5zaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoZWF0bWFwLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpbXCJpbnRlcnBvbGF0ZVwiLFtcImxpbmVhclwiXSxbXCJoZWF0bWFwLWRlbnNpdHlcIl0sMCxcInJnYmEoMCwgMCwgMjU1LCAwKVwiLDAuMSxcInJveWFsYmx1ZVwiLDAuMyxcImN5YW5cIiwwLjUsXCJsaW1lXCIsMC43LFwieWVsbG93XCIsMSxcInJlZFwiXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcImhlYXRtYXAtZGVuc2l0eVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJjb2xvci1yYW1wXCJ9LFwiaGVhdG1hcC1vcGFjaXR5XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MSxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifX0sXCJwYWludF9zeW1ib2xcIjp7XCJpY29uLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24tY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi1oYWxvLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcInJnYmEoMCwgMCwgMCwgMClcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24taGFsby13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcImljb24taGFsby1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcImljb24taW1hZ2VcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwiaWNvbi10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJpY29uLWltYWdlXCIsXCJpY29uLXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJ0ZXh0LW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJvdmVycmlkYWJsZVwiOnRydWUsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC1oYWxvLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcInJnYmEoMCwgMCwgMCwgMClcIixcInRyYW5zaXRpb25cIjp0cnVlLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtaGFsby13aWR0aFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6MCxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiLFwiZmVhdHVyZVwiLFwiZmVhdHVyZS1zdGF0ZVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWRyaXZlblwifSxcInRleHQtaGFsby1ibHVyXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwicGl4ZWxzXCIsXCJyZXF1aXJlc1wiOltcInRleHQtZmllbGRcIl0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCIsXCJmZWF0dXJlXCIsXCJmZWF0dXJlLXN0YXRlXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCJ9LFwidGV4dC10cmFuc2xhdGVcIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcImRlZmF1bHRcIjpbMCwwXSxcInRyYW5zaXRpb25cIjp0cnVlLFwidW5pdHNcIjpcInBpeGVsc1wiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCJdLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwidGV4dC10cmFuc2xhdGUtYW5jaG9yXCI6e1widHlwZVwiOlwiZW51bVwiLFwidmFsdWVzXCI6e1wibWFwXCI6e30sXCJ2aWV3cG9ydFwiOnt9fSxcImRlZmF1bHRcIjpcIm1hcFwiLFwicmVxdWlyZXNcIjpbXCJ0ZXh0LWZpZWxkXCIsXCJ0ZXh0LXRyYW5zbGF0ZVwiXSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfcmFzdGVyXCI6e1wicmFzdGVyLW9wYWNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjoxLFwibWluaW11bVwiOjAsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWh1ZS1yb3RhdGVcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwicGVyaW9kXCI6MzYwLFwidHJhbnNpdGlvblwiOnRydWUsXCJ1bml0c1wiOlwiZGVncmVlc1wiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWJyaWdodG5lc3MtbWluXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1icmlnaHRuZXNzLW1heFwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItc2F0dXJhdGlvblwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjAsXCJtaW5pbXVtXCI6LTEsXCJtYXhpbXVtXCI6MSxcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwicmFzdGVyLWNvbnRyYXN0XCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MCxcIm1pbmltdW1cIjotMSxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJyYXN0ZXItcmVzYW1wbGluZ1wiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcImxpbmVhclwiOnt9LFwibmVhcmVzdFwiOnt9fSxcImRlZmF1bHRcIjpcImxpbmVhclwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzAwLFwibWluaW11bVwiOjAsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJ1bml0c1wiOlwibWlsbGlzZWNvbmRzXCIsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfaGlsbHNoYWRlXCI6e1wiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1kaXJlY3Rpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjozMzUsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjozNTksXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiOntcInR5cGVcIjpcImVudW1cIixcInZhbHVlc1wiOntcIm1hcFwiOnt9LFwidmlld3BvcnRcIjp7fX0sXCJkZWZhdWx0XCI6XCJ2aWV3cG9ydFwiLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLjUsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIiMwMDAwMDBcIixcInRyYW5zaXRpb25cIjp0cnVlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiOntcInR5cGVcIjpcImNvbG9yXCIsXCJkZWZhdWx0XCI6XCIjRkZGRkZGXCIsXCJ0cmFuc2l0aW9uXCI6dHJ1ZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjp0cnVlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfYmFja2dyb3VuZFwiOntcImJhY2tncm91bmQtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwiIzAwMDAwMFwiLFwidHJhbnNpdGlvblwiOnRydWUsXCJyZXF1aXJlc1wiOlt7XCIhXCI6XCJiYWNrZ3JvdW5kLXBhdHRlcm5cIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOnRydWUsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwiYmFja2dyb3VuZC1wYXR0ZXJuXCI6e1widHlwZVwiOlwicmVzb2x2ZWRJbWFnZVwiLFwidHJhbnNpdGlvblwiOmZhbHNlLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcImJhY2tncm91bmQtb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwicGFpbnRfc2t5XCI6e1wic2t5LXR5cGVcIjp7XCJ0eXBlXCI6XCJlbnVtXCIsXCJ2YWx1ZXNcIjp7XCJncmFkaWVudFwiOnt9LFwiYXRtb3NwaGVyZVwiOnt9fSxcImRlZmF1bHRcIjpcImF0bW9zcGhlcmVcIixcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktYXRtb3NwaGVyZS1zdW5cIjp7XCJ0eXBlXCI6XCJhcnJheVwiLFwidmFsdWVcIjpcIm51bWJlclwiLFwibGVuZ3RoXCI6MixcInVuaXRzXCI6XCJkZWdyZWVzXCIsXCJtaW5pbXVtXCI6WzAsMF0sXCJtYXhpbXVtXCI6WzM2MCwxODBdLFwidHJhbnNpdGlvblwiOmZhbHNlLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImF0bW9zcGhlcmVcIn1dLFwiZXhwcmVzc2lvblwiOntcImludGVycG9sYXRlZFwiOmZhbHNlLFwicGFyYW1ldGVyc1wiOltcInpvb21cIl19LFwicHJvcGVydHktdHlwZVwiOlwiZGF0YS1jb25zdGFudFwifSxcInNreS1hdG1vc3BoZXJlLXN1bi1pbnRlbnNpdHlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJhdG1vc3BoZXJlXCJ9XSxcImRlZmF1bHRcIjoxMCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjEwMCxcInRyYW5zaXRpb25cIjpmYWxzZSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktZ3JhZGllbnQtY2VudGVyXCI6e1widHlwZVwiOlwiYXJyYXlcIixcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJncmFkaWVudFwifV0sXCJ2YWx1ZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6WzAsMF0sXCJsZW5ndGhcIjoyLFwidW5pdHNcIjpcImRlZ3JlZXNcIixcIm1pbmltdW1cIjpbMCwwXSxcIm1heGltdW1cIjpbMzYwLDE4MF0sXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6ZmFsc2UsXCJwYXJhbWV0ZXJzXCI6W1wiem9vbVwiXX0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWdyYWRpZW50LXJhZGl1c1wiOntcInR5cGVcIjpcIm51bWJlclwiLFwicmVxdWlyZXNcIjpbe1wic2t5LXR5cGVcIjpcImdyYWRpZW50XCJ9XSxcImRlZmF1bHRcIjo5MCxcIm1pbmltdW1cIjowLFwibWF4aW11bVwiOjE4MCxcInRyYW5zaXRpb25cIjpmYWxzZSxcImV4cHJlc3Npb25cIjp7XCJpbnRlcnBvbGF0ZWRcIjpmYWxzZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktZ3JhZGllbnRcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOltcImludGVycG9sYXRlXCIsW1wibGluZWFyXCJdLFtcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIl0sMC44LFwiIzg3Y2VlYlwiLDEsXCJ3aGl0ZVwiXSxcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJncmFkaWVudFwifV0sXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJza3ktcmFkaWFsLXByb2dyZXNzXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImNvbG9yLXJhbXBcIn0sXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCI6e1widHlwZVwiOlwiY29sb3JcIixcImRlZmF1bHRcIjpcIndoaXRlXCIsXCJ0cmFuc2l0aW9uXCI6ZmFsc2UsXCJyZXF1aXJlc1wiOlt7XCJza3ktdHlwZVwiOlwiYXRtb3NwaGVyZVwifV0sXCJwcm9wZXJ0eS10eXBlXCI6XCJkYXRhLWNvbnN0YW50XCJ9LFwic2t5LWF0bW9zcGhlcmUtY29sb3JcIjp7XCJ0eXBlXCI6XCJjb2xvclwiLFwiZGVmYXVsdFwiOlwid2hpdGVcIixcInRyYW5zaXRpb25cIjpmYWxzZSxcInJlcXVpcmVzXCI6W3tcInNreS10eXBlXCI6XCJhdG1vc3BoZXJlXCJ9XSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn0sXCJza3ktb3BhY2l0eVwiOntcInR5cGVcIjpcIm51bWJlclwiLFwiZGVmYXVsdFwiOjEsXCJtaW5pbXVtXCI6MCxcIm1heGltdW1cIjoxLFwidHJhbnNpdGlvblwiOnRydWUsXCJleHByZXNzaW9uXCI6e1wiaW50ZXJwb2xhdGVkXCI6dHJ1ZSxcInBhcmFtZXRlcnNcIjpbXCJ6b29tXCJdfSxcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtY29uc3RhbnRcIn19LFwidHJhbnNpdGlvblwiOntcImR1cmF0aW9uXCI6e1widHlwZVwiOlwibnVtYmVyXCIsXCJkZWZhdWx0XCI6MzAwLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwibWlsbGlzZWNvbmRzXCJ9LFwiZGVsYXlcIjp7XCJ0eXBlXCI6XCJudW1iZXJcIixcImRlZmF1bHRcIjowLFwibWluaW11bVwiOjAsXCJ1bml0c1wiOlwibWlsbGlzZWNvbmRzXCJ9fSxcInByb3BlcnR5LXR5cGVcIjp7XCJkYXRhLWRyaXZlblwiOntcInR5cGVcIjpcInByb3BlcnR5LXR5cGVcIn0sXCJjb2xvci1yYW1wXCI6e1widHlwZVwiOlwicHJvcGVydHktdHlwZVwifSxcImRhdGEtY29uc3RhbnRcIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0eS10eXBlXCJ9LFwiY29uc3RhbnRcIjp7XCJ0eXBlXCI6XCJwcm9wZXJ0eS10eXBlXCJ9fSxcInByb21vdGVJZFwiOntcIipcIjp7XCJ0eXBlXCI6XCJzdHJpbmdcIn19fScpO2Z1bmN0aW9uIFFlKGUsLi4udCl7Zm9yKGNvbnN0IG4gb2YgdClmb3IoY29uc3QgdCBpbiBuKWVbdF09blt0XTtyZXR1cm4gZX1mdW5jdGlvbiBLZShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE51bWJlcnx8ZSBpbnN0YW5jZW9mIFN0cmluZ3x8ZSBpbnN0YW5jZW9mIEJvb2xlYW4/ZS52YWx1ZU9mKCk6ZX1mdW5jdGlvbiBldChlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLm1hcChldCk7aWYoZSBpbnN0YW5jZW9mIE9iamVjdCYmIShlIGluc3RhbmNlb2YgTnVtYmVyfHxlIGluc3RhbmNlb2YgU3RyaW5nfHxlIGluc3RhbmNlb2YgQm9vbGVhbikpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IG4gaW4gZSl0W25dPWV0KGVbbl0pO3JldHVybiB0fXJldHVybiBLZShlKX1jbGFzcyB0dCBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIodCksdGhpcy5tZXNzYWdlPXQsdGhpcy5rZXk9ZX19dmFyIG50PXR0O2NsYXNzIGl0e2NvbnN0cnVjdG9yKGUsdD1bXSl7dGhpcy5wYXJlbnQ9ZSx0aGlzLmJpbmRpbmdzPXt9O2Zvcihjb25zdFtlLG5db2YgdCl0aGlzLmJpbmRpbmdzW2VdPW59Y29uY2F0KGUpe3JldHVybiBuZXcgaXQodGhpcyxlKX1nZXQoZSl7aWYodGhpcy5iaW5kaW5nc1tlXSlyZXR1cm4gdGhpcy5iaW5kaW5nc1tlXTtpZih0aGlzLnBhcmVudClyZXR1cm4gdGhpcy5wYXJlbnQuZ2V0KGUpO3Rocm93IG5ldyBFcnJvcihlK1wiIG5vdCBmb3VuZCBpbiBzY29wZS5cIil9aGFzKGUpe3JldHVybiEhdGhpcy5iaW5kaW5nc1tlXXx8ISF0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuaGFzKGUpfX12YXIgcnQ9aXQ7Y29uc3Qgb3Q9e2tpbmQ6XCJudWxsXCJ9LGF0PXtraW5kOlwibnVtYmVyXCJ9LHN0PXtraW5kOlwic3RyaW5nXCJ9LGx0PXtraW5kOlwiYm9vbGVhblwifSxjdD17a2luZDpcImNvbG9yXCJ9LHV0PXtraW5kOlwib2JqZWN0XCJ9LGh0PXtraW5kOlwidmFsdWVcIn0sZHQ9e2tpbmQ6XCJjb2xsYXRvclwifSxwdD17a2luZDpcImZvcm1hdHRlZFwifSxmdD17a2luZDpcInJlc29sdmVkSW1hZ2VcIn07ZnVuY3Rpb24gbXQoZSx0KXtyZXR1cm57a2luZDpcImFycmF5XCIsaXRlbVR5cGU6ZSxOOnR9fWZ1bmN0aW9uIGd0KGUpe2lmKFwiYXJyYXlcIj09PWUua2luZCl7Y29uc3QgdD1ndChlLml0ZW1UeXBlKTtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgZS5OP2BhcnJheTwke3R9LCAke2UuTn0+YDpcInZhbHVlXCI9PT1lLml0ZW1UeXBlLmtpbmQ/XCJhcnJheVwiOmBhcnJheTwke3R9PmB9cmV0dXJuIGUua2luZH1jb25zdCB5dD1bb3QsYXQsc3QsbHQsY3QscHQsdXQsbXQoaHQpLGZ0XTtmdW5jdGlvbiBfdChlLHQpe2lmKFwiZXJyb3JcIj09PXQua2luZClyZXR1cm4gbnVsbDtpZihcImFycmF5XCI9PT1lLmtpbmQpe2lmKFwiYXJyYXlcIj09PXQua2luZCYmKDA9PT10Lk4mJlwidmFsdWVcIj09PXQuaXRlbVR5cGUua2luZHx8IV90KGUuaXRlbVR5cGUsdC5pdGVtVHlwZSkpJiYoXCJudW1iZXJcIiE9dHlwZW9mIGUuTnx8ZS5OPT09dC5OKSlyZXR1cm4gbnVsbH1lbHNle2lmKGUua2luZD09PXQua2luZClyZXR1cm4gbnVsbDtpZihcInZhbHVlXCI9PT1lLmtpbmQpZm9yKGNvbnN0IGUgb2YgeXQpaWYoIV90KGUsdCkpcmV0dXJuIG51bGx9cmV0dXJuYEV4cGVjdGVkICR7Z3QoZSl9IGJ1dCBmb3VuZCAke2d0KHQpfSBpbnN0ZWFkLmB9ZnVuY3Rpb24gdnQoZSx0KXtyZXR1cm4gdC5zb21lKHQ9PnQua2luZD09PWUua2luZCl9ZnVuY3Rpb24geHQoZSx0KXtyZXR1cm4gdC5zb21lKHQ9PlwibnVsbFwiPT09dD9udWxsPT09ZTpcImFycmF5XCI9PT10P0FycmF5LmlzQXJyYXkoZSk6XCJvYmplY3RcIj09PXQ/ZSYmIUFycmF5LmlzQXJyYXkoZSkmJlwib2JqZWN0XCI9PXR5cGVvZiBlOnQ9PT10eXBlb2YgZSl9dmFyIGJ0LHd0PXt0cmFuc3BhcmVudDpbMCwwLDAsMF0sYWxpY2VibHVlOlsyNDAsMjQ4LDI1NSwxXSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1LDFdLGFxdWE6WzAsMjU1LDI1NSwxXSxhcXVhbWFyaW5lOlsxMjcsMjU1LDIxMiwxXSxhenVyZTpbMjQwLDI1NSwyNTUsMV0sYmVpZ2U6WzI0NSwyNDUsMjIwLDFdLGJpc3F1ZTpbMjU1LDIyOCwxOTYsMV0sYmxhY2s6WzAsMCwwLDFdLGJsYW5jaGVkYWxtb25kOlsyNTUsMjM1LDIwNSwxXSxibHVlOlswLDAsMjU1LDFdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjYsMV0sYnJvd246WzE2NSw0Miw0MiwxXSxidXJseXdvb2Q6WzIyMiwxODQsMTM1LDFdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MCwxXSxjaGFydHJldXNlOlsxMjcsMjU1LDAsMV0sY2hvY29sYXRlOlsyMTAsMTA1LDMwLDFdLGNvcmFsOlsyNTUsMTI3LDgwLDFdLGNvcm5mbG93ZXJibHVlOlsxMDAsMTQ5LDIzNywxXSxjb3Juc2lsazpbMjU1LDI0OCwyMjAsMV0sY3JpbXNvbjpbMjIwLDIwLDYwLDFdLGN5YW46WzAsMjU1LDI1NSwxXSxkYXJrYmx1ZTpbMCwwLDEzOSwxXSxkYXJrY3lhbjpbMCwxMzksMTM5LDFdLGRhcmtnb2xkZW5yb2Q6WzE4NCwxMzQsMTEsMV0sZGFya2dyYXk6WzE2OSwxNjksMTY5LDFdLGRhcmtncmVlbjpbMCwxMDAsMCwxXSxkYXJrZ3JleTpbMTY5LDE2OSwxNjksMV0sZGFya2toYWtpOlsxODksMTgzLDEwNywxXSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5LDFdLGRhcmtvbGl2ZWdyZWVuOls4NSwxMDcsNDcsMV0sZGFya29yYW5nZTpbMjU1LDE0MCwwLDFdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDQsMV0sZGFya3JlZDpbMTM5LDAsMCwxXSxkYXJrc2FsbW9uOlsyMzMsMTUwLDEyMiwxXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzLDFdLGRhcmtzbGF0ZWJsdWU6WzcyLDYxLDEzOSwxXSxkYXJrc2xhdGVncmF5Ols0Nyw3OSw3OSwxXSxkYXJrc2xhdGVncmV5Ols0Nyw3OSw3OSwxXSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDksMV0sZGFya3Zpb2xldDpbMTQ4LDAsMjExLDFdLGRlZXBwaW5rOlsyNTUsMjAsMTQ3LDFdLGRlZXBza3libHVlOlswLDE5MSwyNTUsMV0sZGltZ3JheTpbMTA1LDEwNSwxMDUsMV0sZGltZ3JleTpbMTA1LDEwNSwxMDUsMV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NSwxXSxmaXJlYnJpY2s6WzE3OCwzNCwzNCwxXSxmbG9yYWx3aGl0ZTpbMjU1LDI1MCwyNDAsMV0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNCwxXSxmdWNoc2lhOlsyNTUsMCwyNTUsMV0sZ2FpbnNib3JvOlsyMjAsMjIwLDIyMCwxXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NSwxXSxnb2xkOlsyNTUsMjE1LDAsMV0sZ29sZGVucm9kOlsyMTgsMTY1LDMyLDFdLGdyYXk6WzEyOCwxMjgsMTI4LDFdLGdyZWVuOlswLDEyOCwwLDFdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3LDFdLGdyZXk6WzEyOCwxMjgsMTI4LDFdLGhvbmV5ZGV3OlsyNDAsMjU1LDI0MCwxXSxob3RwaW5rOlsyNTUsMTA1LDE4MCwxXSxpbmRpYW5yZWQ6WzIwNSw5Miw5MiwxXSxpbmRpZ286Wzc1LDAsMTMwLDFdLGl2b3J5OlsyNTUsMjU1LDI0MCwxXSxraGFraTpbMjQwLDIzMCwxNDAsMV0sbGF2ZW5kZXI6WzIzMCwyMzAsMjUwLDFdLGxhdmVuZGVyYmx1c2g6WzI1NSwyNDAsMjQ1LDFdLGxhd25ncmVlbjpbMTI0LDI1MiwwLDFdLGxlbW9uY2hpZmZvbjpbMjU1LDI1MCwyMDUsMV0sbGlnaHRibHVlOlsxNzMsMjE2LDIzMCwxXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOCwxXSxsaWdodGN5YW46WzIyNCwyNTUsMjU1LDFdLGxpZ2h0Z29sZGVucm9keWVsbG93OlsyNTAsMjUwLDIxMCwxXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExLDFdLGxpZ2h0Z3JlZW46WzE0NCwyMzgsMTQ0LDFdLGxpZ2h0Z3JleTpbMjExLDIxMSwyMTEsMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5MywxXSxsaWdodHNhbG1vbjpbMjU1LDE2MCwxMjIsMV0sbGlnaHRzZWFncmVlbjpbMzIsMTc4LDE3MCwxXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwLDFdLGxpZ2h0c2xhdGVncmF5OlsxMTksMTM2LDE1MywxXSxsaWdodHNsYXRlZ3JleTpbMTE5LDEzNiwxNTMsMV0sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyLDFdLGxpZ2h0eWVsbG93OlsyNTUsMjU1LDIyNCwxXSxsaW1lOlswLDI1NSwwLDFdLGxpbWVncmVlbjpbNTAsMjA1LDUwLDFdLGxpbmVuOlsyNTAsMjQwLDIzMCwxXSxtYWdlbnRhOlsyNTUsMCwyNTUsMV0sbWFyb29uOlsxMjgsMCwwLDFdLG1lZGl1bWFxdWFtYXJpbmU6WzEwMiwyMDUsMTcwLDFdLG1lZGl1bWJsdWU6WzAsMCwyMDUsMV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExLDFdLG1lZGl1bXB1cnBsZTpbMTQ3LDExMiwyMTksMV0sbWVkaXVtc2VhZ3JlZW46WzYwLDE3OSwxMTMsMV0sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOCwxXSxtZWRpdW1zcHJpbmdncmVlbjpbMCwyNTAsMTU0LDFdLG1lZGl1bXR1cnF1b2lzZTpbNzIsMjA5LDIwNCwxXSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzMsMV0sbWlkbmlnaHRibHVlOlsyNSwyNSwxMTIsMV0sbWludGNyZWFtOlsyNDUsMjU1LDI1MCwxXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1LDFdLG1vY2Nhc2luOlsyNTUsMjI4LDE4MSwxXSxuYXZham93aGl0ZTpbMjU1LDIyMiwxNzMsMV0sbmF2eTpbMCwwLDEyOCwxXSxvbGRsYWNlOlsyNTMsMjQ1LDIzMCwxXSxvbGl2ZTpbMTI4LDEyOCwwLDFdLG9saXZlZHJhYjpbMTA3LDE0MiwzNSwxXSxvcmFuZ2U6WzI1NSwxNjUsMCwxXSxvcmFuZ2VyZWQ6WzI1NSw2OSwwLDFdLG9yY2hpZDpbMjE4LDExMiwyMTQsMV0scGFsZWdvbGRlbnJvZDpbMjM4LDIzMiwxNzAsMV0scGFsZWdyZWVuOlsxNTIsMjUxLDE1MiwxXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOCwxXSxwYWxldmlvbGV0cmVkOlsyMTksMTEyLDE0NywxXSxwYXBheWF3aGlwOlsyNTUsMjM5LDIxMywxXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1LDFdLHBlcnU6WzIwNSwxMzMsNjMsMV0scGluazpbMjU1LDE5MiwyMDMsMV0scGx1bTpbMjIxLDE2MCwyMjEsMV0scG93ZGVyYmx1ZTpbMTc2LDIyNCwyMzAsMV0scHVycGxlOlsxMjgsMCwxMjgsMV0scmViZWNjYXB1cnBsZTpbMTAyLDUxLDE1MywxXSxyZWQ6WzI1NSwwLDAsMV0scm9zeWJyb3duOlsxODgsMTQzLDE0MywxXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjUsMV0sc2FkZGxlYnJvd246WzEzOSw2OSwxOSwxXSxzYWxtb246WzI1MCwxMjgsMTE0LDFdLHNhbmR5YnJvd246WzI0NCwxNjQsOTYsMV0sc2VhZ3JlZW46WzQ2LDEzOSw4NywxXSxzZWFzaGVsbDpbMjU1LDI0NSwyMzgsMV0sc2llbm5hOlsxNjAsODIsNDUsMV0sc2lsdmVyOlsxOTIsMTkyLDE5MiwxXSxza3libHVlOlsxMzUsMjA2LDIzNSwxXSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDUsMV0sc2xhdGVncmF5OlsxMTIsMTI4LDE0NCwxXSxzbGF0ZWdyZXk6WzExMiwxMjgsMTQ0LDFdLHNub3c6WzI1NSwyNTAsMjUwLDFdLHNwcmluZ2dyZWVuOlswLDI1NSwxMjcsMV0sc3RlZWxibHVlOls3MCwxMzAsMTgwLDFdLHRhbjpbMjEwLDE4MCwxNDAsMV0sdGVhbDpbMCwxMjgsMTI4LDFdLHRoaXN0bGU6WzIxNiwxOTEsMjE2LDFdLHRvbWF0bzpbMjU1LDk5LDcxLDFdLHR1cnF1b2lzZTpbNjQsMjI0LDIwOCwxXSx2aW9sZXQ6WzIzOCwxMzAsMjM4LDFdLHdoZWF0OlsyNDUsMjIyLDE3OSwxXSx3aGl0ZTpbMjU1LDI1NSwyNTUsMV0sd2hpdGVzbW9rZTpbMjQ1LDI0NSwyNDUsMV0seWVsbG93OlsyNTUsMjU1LDAsMV0seWVsbG93Z3JlZW46WzE1NCwyMDUsNTAsMV19O2Z1bmN0aW9uIFR0KGUpe3JldHVybihlPU1hdGgucm91bmQoZSkpPDA/MDplPjI1NT8yNTU6ZX1mdW5jdGlvbiBFdChlKXtyZXR1cm4gVHQoXCIlXCI9PT1lW2UubGVuZ3RoLTFdP3BhcnNlRmxvYXQoZSkvMTAwKjI1NTpwYXJzZUludChlKSl9ZnVuY3Rpb24gU3QoZSl7cmV0dXJuKHQ9XCIlXCI9PT1lW2UubGVuZ3RoLTFdP3BhcnNlRmxvYXQoZSkvMTAwOnBhcnNlRmxvYXQoZSkpPDA/MDp0PjE/MTp0O3ZhciB0fWZ1bmN0aW9uIE10KGUsdCxuKXtyZXR1cm4gbjwwP24rPTE6bj4xJiYobi09MSksNipuPDE/ZSsodC1lKSpuKjY6MipuPDE/dDozKm48Mj9lKyh0LWUpKigyLzMtbikqNjplfXRyeXtidD17fS5wYXJzZUNTU0NvbG9yPWZ1bmN0aW9uKGUpe3ZhciB0LG49ZS5yZXBsYWNlKC8gL2csXCJcIikudG9Mb3dlckNhc2UoKTtpZihuIGluIHd0KXJldHVybiB3dFtuXS5zbGljZSgpO2lmKFwiI1wiPT09blswXSlyZXR1cm4gND09PW4ubGVuZ3RoPyh0PXBhcnNlSW50KG4uc3Vic3RyKDEpLDE2KSk+PTAmJnQ8PTQwOTU/WygzODQwJnQpPj40fCgzODQwJnQpPj44LDI0MCZ0fCgyNDAmdCk+PjQsMTUmdHwoMTUmdCk8PDQsMV06bnVsbDo3PT09bi5sZW5ndGgmJih0PXBhcnNlSW50KG4uc3Vic3RyKDEpLDE2KSk+PTAmJnQ8PTE2Nzc3MjE1P1soMTY3MTE2ODAmdCk+PjE2LCg2NTI4MCZ0KT4+OCwyNTUmdCwxXTpudWxsO3ZhciBpPW4uaW5kZXhPZihcIihcIikscj1uLmluZGV4T2YoXCIpXCIpO2lmKC0xIT09aSYmcisxPT09bi5sZW5ndGgpe3ZhciBvPW4uc3Vic3RyKDAsaSksYT1uLnN1YnN0cihpKzEsci0oaSsxKSkuc3BsaXQoXCIsXCIpLHM9MTtzd2l0Y2gobyl7Y2FzZVwicmdiYVwiOmlmKDQhPT1hLmxlbmd0aClyZXR1cm4gbnVsbDtzPVN0KGEucG9wKCkpO2Nhc2VcInJnYlwiOnJldHVybiAzIT09YS5sZW5ndGg/bnVsbDpbRXQoYVswXSksRXQoYVsxXSksRXQoYVsyXSksc107Y2FzZVwiaHNsYVwiOmlmKDQhPT1hLmxlbmd0aClyZXR1cm4gbnVsbDtzPVN0KGEucG9wKCkpO2Nhc2VcImhzbFwiOmlmKDMhPT1hLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgbD0ocGFyc2VGbG9hdChhWzBdKSUzNjArMzYwKSUzNjAvMzYwLGM9U3QoYVsxXSksdT1TdChhWzJdKSxoPXU8PS41P3UqKGMrMSk6dStjLXUqYyxkPTIqdS1oO3JldHVybltUdCgyNTUqTXQoZCxoLGwrMS8zKSksVHQoMjU1Kk10KGQsaCxsKSksVHQoMjU1Kk10KGQsaCxsLTEvMykpLHNdO2RlZmF1bHQ6cmV0dXJuIG51bGx9fXJldHVybiBudWxsfX1jYXRjaChlKXt9Y2xhc3MgSXR7Y29uc3RydWN0b3IoZSx0LG4saT0xKXt0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9bix0aGlzLmE9aX1zdGF0aWMgcGFyc2UoZSl7aWYoIWUpcmV0dXJuO2lmKGUgaW5zdGFuY2VvZiBJdClyZXR1cm4gZTtpZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm47Y29uc3QgdD1idChlKTtyZXR1cm4gdD9uZXcgSXQodFswXS8yNTUqdFszXSx0WzFdLzI1NSp0WzNdLHRbMl0vMjU1KnRbM10sdFszXSk6dm9pZCAwfXRvU3RyaW5nKCl7Y29uc3RbZSx0LG4saV09dGhpcy50b0FycmF5KCk7cmV0dXJuYHJnYmEoJHtNYXRoLnJvdW5kKGUpfSwke01hdGgucm91bmQodCl9LCR7TWF0aC5yb3VuZChuKX0sJHtpfSlgfXRvQXJyYXkoKXtjb25zdHtyOmUsZzp0LGI6bixhOml9PXRoaXM7cmV0dXJuIDA9PT1pP1swLDAsMCwwXTpbMjU1KmUvaSwyNTUqdC9pLDI1NSpuL2ksaV19dG9BcnJheTAxKCl7Y29uc3R7cjplLGc6dCxiOm4sYTppfT10aGlzO3JldHVybiAwPT09aT9bMCwwLDAsMF06W2UvaSx0L2ksbi9pLGldfXRvQXJyYXkwMVByZW11bHRpcGxpZWRBbHBoYSgpe2NvbnN0e3I6ZSxnOnQsYjpuLGE6aX09dGhpcztyZXR1cm5bZSx0LG4saV19fUl0LmJsYWNrPW5ldyBJdCgwLDAsMCwxKSxJdC53aGl0ZT1uZXcgSXQoMSwxLDEsMSksSXQudHJhbnNwYXJlbnQ9bmV3IEl0KDAsMCwwLDApLEl0LnJlZD1uZXcgSXQoMSwwLDAsMSksSXQuYmx1ZT1uZXcgSXQoMCwwLDEsMSk7dmFyIEN0PUl0O2NsYXNzIGt0e2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnNlbnNpdGl2aXR5PWU/dD9cInZhcmlhbnRcIjpcImNhc2VcIjp0P1wiYWNjZW50XCI6XCJiYXNlXCIsdGhpcy5sb2NhbGU9bix0aGlzLmNvbGxhdG9yPW5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdLHtzZW5zaXRpdml0eTp0aGlzLnNlbnNpdGl2aXR5LHVzYWdlOlwic2VhcmNoXCJ9KX1jb21wYXJlKGUsdCl7cmV0dXJuIHRoaXMuY29sbGF0b3IuY29tcGFyZShlLHQpfXJlc29sdmVkTG9jYWxlKCl7cmV0dXJuIG5ldyBJbnRsLkNvbGxhdG9yKHRoaXMubG9jYWxlP3RoaXMubG9jYWxlOltdKS5yZXNvbHZlZE9wdGlvbnMoKS5sb2NhbGV9fWNsYXNzIEF0e2NvbnN0cnVjdG9yKGUsdCxuLGkscil7dGhpcy50ZXh0PWUubm9ybWFsaXplP2Uubm9ybWFsaXplKCk6ZSx0aGlzLmltYWdlPXQsdGhpcy5zY2FsZT1uLHRoaXMuZm9udFN0YWNrPWksdGhpcy50ZXh0Q29sb3I9cn19Y2xhc3MgUHR7Y29uc3RydWN0b3IoZSl7dGhpcy5zZWN0aW9ucz1lfXN0YXRpYyBmcm9tU3RyaW5nKGUpe3JldHVybiBuZXcgUHQoW25ldyBBdChlLG51bGwsbnVsbCxudWxsLG51bGwpXSl9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGh8fCF0aGlzLnNlY3Rpb25zLnNvbWUoZT0+MCE9PWUudGV4dC5sZW5ndGh8fGUuaW1hZ2UmJjAhPT1lLmltYWdlLm5hbWUubGVuZ3RoKX1zdGF0aWMgZmFjdG9yeShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIFB0P2U6UHQuZnJvbVN0cmluZyhlKX10b1N0cmluZygpe3JldHVybiAwPT09dGhpcy5zZWN0aW9ucy5sZW5ndGg/XCJcIjp0aGlzLnNlY3Rpb25zLm1hcChlPT5lLnRleHQpLmpvaW4oXCJcIil9c2VyaWFsaXplKCl7Y29uc3QgZT1bXCJmb3JtYXRcIl07Zm9yKGNvbnN0IHQgb2YgdGhpcy5zZWN0aW9ucyl7aWYodC5pbWFnZSl7ZS5wdXNoKFtcImltYWdlXCIsdC5pbWFnZS5uYW1lXSk7Y29udGludWV9ZS5wdXNoKHQudGV4dCk7Y29uc3Qgbj17fTt0LmZvbnRTdGFjayYmKG5bXCJ0ZXh0LWZvbnRcIl09W1wibGl0ZXJhbFwiLHQuZm9udFN0YWNrLnNwbGl0KFwiLFwiKV0pLHQuc2NhbGUmJihuW1wiZm9udC1zY2FsZVwiXT10LnNjYWxlKSx0LnRleHRDb2xvciYmKG5bXCJ0ZXh0LWNvbG9yXCJdPVtcInJnYmFcIl0uY29uY2F0KHQudGV4dENvbG9yLnRvQXJyYXkoKSkpLGUucHVzaChuKX1yZXR1cm4gZX19Y2xhc3MgenR7Y29uc3RydWN0b3IoZSl7dGhpcy5uYW1lPWUubmFtZSx0aGlzLmF2YWlsYWJsZT1lLmF2YWlsYWJsZX10b1N0cmluZygpe3JldHVybiB0aGlzLm5hbWV9c3RhdGljIGZyb21TdHJpbmcoZSl7cmV0dXJuIGU/bmV3IHp0KHtuYW1lOmUsYXZhaWxhYmxlOiExfSk6bnVsbH1zZXJpYWxpemUoKXtyZXR1cm5bXCJpbWFnZVwiLHRoaXMubmFtZV19fWZ1bmN0aW9uIER0KGUsdCxuLGkpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPj0wJiZlPD0yNTUmJlwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0Pj0wJiZ0PD0yNTUmJlwibnVtYmVyXCI9PXR5cGVvZiBuJiZuPj0wJiZuPD0yNTU/dm9pZCAwPT09aXx8XCJudW1iZXJcIj09dHlwZW9mIGkmJmk+PTAmJmk8PTE/bnVsbDpgSW52YWxpZCByZ2JhIHZhbHVlIFske1tlLHQsbixpXS5qb2luKFwiLCBcIil9XTogJ2EnIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxLmA6YEludmFsaWQgcmdiYSB2YWx1ZSBbJHsoXCJudW1iZXJcIj09dHlwZW9mIGk/W2UsdCxuLGldOltlLHQsbl0pLmpvaW4oXCIsIFwiKX1dOiAncicsICdnJywgYW5kICdiJyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMjU1LmB9ZnVuY3Rpb24gTHQoZSl7aWYobnVsbD09PWUpcmV0dXJuITA7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuITA7aWYoXCJib29sZWFuXCI9PXR5cGVvZiBlKXJldHVybiEwO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiEwO2lmKGUgaW5zdGFuY2VvZiBDdClyZXR1cm4hMDtpZihlIGluc3RhbmNlb2Yga3QpcmV0dXJuITA7aWYoZSBpbnN0YW5jZW9mIFB0KXJldHVybiEwO2lmKGUgaW5zdGFuY2VvZiB6dClyZXR1cm4hMDtpZihBcnJheS5pc0FycmF5KGUpKXtmb3IoY29uc3QgdCBvZiBlKWlmKCFMdCh0KSlyZXR1cm4hMTtyZXR1cm4hMH1pZihcIm9iamVjdFwiPT10eXBlb2YgZSl7Zm9yKGNvbnN0IHQgaW4gZSlpZighTHQoZVt0XSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gT3QoZSl7aWYobnVsbD09PWUpcmV0dXJuIG90O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBzdDtpZihcImJvb2xlYW5cIj09dHlwZW9mIGUpcmV0dXJuIGx0O2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiBhdDtpZihlIGluc3RhbmNlb2YgQ3QpcmV0dXJuIGN0O2lmKGUgaW5zdGFuY2VvZiBrdClyZXR1cm4gZHQ7aWYoZSBpbnN0YW5jZW9mIFB0KXJldHVybiBwdDtpZihlIGluc3RhbmNlb2YgenQpcmV0dXJuIGZ0O2lmKEFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IHQ9ZS5sZW5ndGg7bGV0IG47Zm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT1PdCh0KTtpZihuKXtpZihuPT09ZSljb250aW51ZTtuPWh0O2JyZWFrfW49ZX1yZXR1cm4gbXQobnx8aHQsdCl9cmV0dXJuIHV0fWZ1bmN0aW9uIFJ0KGUpe2NvbnN0IHQ9dHlwZW9mIGU7cmV0dXJuIG51bGw9PT1lP1wiXCI6XCJzdHJpbmdcIj09PXR8fFwibnVtYmVyXCI9PT10fHxcImJvb2xlYW5cIj09PXQ/U3RyaW5nKGUpOmUgaW5zdGFuY2VvZiBDdHx8ZSBpbnN0YW5jZW9mIFB0fHxlIGluc3RhbmNlb2YgenQ/ZS50b1N0cmluZygpOkpTT04uc3RyaW5naWZ5KGUpfWNsYXNzIEJ0e2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPWUsdGhpcy52YWx1ZT10fXN0YXRpYyBwYXJzZShlLHQpe2lmKDIhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihgJ2xpdGVyYWwnIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7aWYoIUx0KGVbMV0pKXJldHVybiB0LmVycm9yKFwiaW52YWxpZCB2YWx1ZVwiKTtjb25zdCBuPWVbMV07bGV0IGk9T3Qobik7Y29uc3Qgcj10LmV4cGVjdGVkVHlwZTtyZXR1cm5cImFycmF5XCIhPT1pLmtpbmR8fDAhPT1pLk58fCFyfHxcImFycmF5XCIhPT1yLmtpbmR8fFwibnVtYmVyXCI9PXR5cGVvZiByLk4mJjAhPT1yLk58fChpPXIpLG5ldyBCdChpLG4pfWV2YWx1YXRlKCl7cmV0dXJuIHRoaXMudmFsdWV9ZWFjaENoaWxkKCl7fW91dHB1dERlZmluZWQoKXtyZXR1cm4hMH1zZXJpYWxpemUoKXtyZXR1cm5cImFycmF5XCI9PT10aGlzLnR5cGUua2luZHx8XCJvYmplY3RcIj09PXRoaXMudHlwZS5raW5kP1tcImxpdGVyYWxcIix0aGlzLnZhbHVlXTp0aGlzLnZhbHVlIGluc3RhbmNlb2YgQ3Q/W1wicmdiYVwiXS5jb25jYXQodGhpcy52YWx1ZS50b0FycmF5KCkpOnRoaXMudmFsdWUgaW5zdGFuY2VvZiBQdD90aGlzLnZhbHVlLnNlcmlhbGl6ZSgpOnRoaXMudmFsdWV9fXZhciBqdD1CdCxGdD1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLm5hbWU9XCJFeHByZXNzaW9uRXZhbHVhdGlvbkVycm9yXCIsdGhpcy5tZXNzYWdlPWV9dG9KU09OKCl7cmV0dXJuIHRoaXMubWVzc2FnZX19O2NvbnN0IE50PXtzdHJpbmc6c3QsbnVtYmVyOmF0LGJvb2xlYW46bHQsb2JqZWN0OnV0fTtjbGFzcyBVdHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMuYXJncz10fXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDIpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuXCIpO2xldCBuLGk9MTtjb25zdCByPWVbMF07aWYoXCJhcnJheVwiPT09cil7bGV0IHIsbztpZihlLmxlbmd0aD4yKXtjb25zdCBuPWVbMV07aWYoXCJzdHJpbmdcIiE9dHlwZW9mIG58fCEobiBpbiBOdCl8fFwib2JqZWN0XCI9PT1uKXJldHVybiB0LmVycm9yKCdUaGUgaXRlbSB0eXBlIGFyZ3VtZW50IG9mIFwiYXJyYXlcIiBtdXN0IGJlIG9uZSBvZiBzdHJpbmcsIG51bWJlciwgYm9vbGVhbicsMSk7cj1OdFtuXSxpKyt9ZWxzZSByPWh0O2lmKGUubGVuZ3RoPjMpe2lmKG51bGwhPT1lWzJdJiYoXCJudW1iZXJcIiE9dHlwZW9mIGVbMl18fGVbMl08MHx8ZVsyXSE9PU1hdGguZmxvb3IoZVsyXSkpKXJldHVybiB0LmVycm9yKCdUaGUgbGVuZ3RoIGFyZ3VtZW50IHRvIFwiYXJyYXlcIiBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlciBsaXRlcmFsJywyKTtvPWVbMl0saSsrfW49bXQocixvKX1lbHNlIG49TnRbcl07Y29uc3Qgbz1bXTtmb3IoO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBuPXQucGFyc2UoZVtpXSxpLGh0KTtpZighbilyZXR1cm4gbnVsbDtvLnB1c2gobil9cmV0dXJuIG5ldyBVdChuLG8pfWV2YWx1YXRlKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5hcmdzLmxlbmd0aDt0Kyspe2NvbnN0IG49dGhpcy5hcmdzW3RdLmV2YWx1YXRlKGUpO2lmKCFfdCh0aGlzLnR5cGUsT3QobikpKXJldHVybiBuO2lmKHQ9PT10aGlzLmFyZ3MubGVuZ3RoLTEpdGhyb3cgbmV3IEZ0KGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvZiB0eXBlICR7Z3QodGhpcy50eXBlKX0sIGJ1dCBmb3VuZCAke2d0KE90KG4pKX0gaW5zdGVhZC5gKX1yZXR1cm4gbnVsbH1lYWNoQ2hpbGQoZSl7dGhpcy5hcmdzLmZvckVhY2goZSl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLmFyZ3MuZXZlcnkoZT0+ZS5vdXRwdXREZWZpbmVkKCkpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9dGhpcy50eXBlLHQ9W2Uua2luZF07aWYoXCJhcnJheVwiPT09ZS5raW5kKXtjb25zdCBuPWUuaXRlbVR5cGU7aWYoXCJzdHJpbmdcIj09PW4ua2luZHx8XCJudW1iZXJcIj09PW4ua2luZHx8XCJib29sZWFuXCI9PT1uLmtpbmQpe3QucHVzaChuLmtpbmQpO2NvbnN0IGk9ZS5OOyhcIm51bWJlclwiPT10eXBlb2YgaXx8dGhpcy5hcmdzLmxlbmd0aD4xKSYmdC5wdXNoKGkpfX1yZXR1cm4gdC5jb25jYXQodGhpcy5hcmdzLm1hcChlPT5lLnNlcmlhbGl6ZSgpKSl9fXZhciBWdD1VdDtjbGFzcyBHdHtjb25zdHJ1Y3RvcihlKXt0aGlzLnR5cGU9cHQsdGhpcy5zZWN0aW9ucz1lfXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDIpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuXCIpO2NvbnN0IG49ZVsxXTtpZighQXJyYXkuaXNBcnJheShuKSYmXCJvYmplY3RcIj09dHlwZW9mIG4pcmV0dXJuIHQuZXJyb3IoXCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGFuIGltYWdlIG9yIHRleHQgc2VjdGlvbi5cIik7Y29uc3QgaT1bXTtsZXQgcj0hMTtmb3IobGV0IG49MTtuPD1lLmxlbmd0aC0xOysrbil7Y29uc3Qgbz1lW25dO2lmKHImJlwib2JqZWN0XCI9PXR5cGVvZiBvJiYhQXJyYXkuaXNBcnJheShvKSl7cj0hMTtsZXQgZT1udWxsO2lmKG9bXCJmb250LXNjYWxlXCJdJiYoZT10LnBhcnNlKG9bXCJmb250LXNjYWxlXCJdLDEsYXQpLCFlKSlyZXR1cm4gbnVsbDtsZXQgbj1udWxsO2lmKG9bXCJ0ZXh0LWZvbnRcIl0mJihuPXQucGFyc2Uob1tcInRleHQtZm9udFwiXSwxLG10KHN0KSksIW4pKXJldHVybiBudWxsO2xldCBhPW51bGw7aWYob1tcInRleHQtY29sb3JcIl0mJihhPXQucGFyc2Uob1tcInRleHQtY29sb3JcIl0sMSxjdCksIWEpKXJldHVybiBudWxsO2NvbnN0IHM9aVtpLmxlbmd0aC0xXTtzLnNjYWxlPWUscy5mb250PW4scy50ZXh0Q29sb3I9YX1lbHNle2NvbnN0IG89dC5wYXJzZShlW25dLDEsaHQpO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IGE9by50eXBlLmtpbmQ7aWYoXCJzdHJpbmdcIiE9PWEmJlwidmFsdWVcIiE9PWEmJlwibnVsbFwiIT09YSYmXCJyZXNvbHZlZEltYWdlXCIhPT1hKXJldHVybiB0LmVycm9yKFwiRm9ybWF0dGVkIHRleHQgdHlwZSBtdXN0IGJlICdzdHJpbmcnLCAndmFsdWUnLCAnaW1hZ2UnIG9yICdudWxsJy5cIik7cj0hMCxpLnB1c2goe2NvbnRlbnQ6byxzY2FsZTpudWxsLGZvbnQ6bnVsbCx0ZXh0Q29sb3I6bnVsbH0pfX1yZXR1cm4gbmV3IEd0KGkpfWV2YWx1YXRlKGUpe3JldHVybiBuZXcgUHQodGhpcy5zZWN0aW9ucy5tYXAodD0+e2NvbnN0IG49dC5jb250ZW50LmV2YWx1YXRlKGUpO3JldHVybiBPdChuKT09PWZ0P25ldyBBdChcIlwiLG4sbnVsbCxudWxsLG51bGwpOm5ldyBBdChSdChuKSxudWxsLHQuc2NhbGU/dC5zY2FsZS5ldmFsdWF0ZShlKTpudWxsLHQuZm9udD90LmZvbnQuZXZhbHVhdGUoZSkuam9pbihcIixcIik6bnVsbCx0LnRleHRDb2xvcj90LnRleHRDb2xvci5ldmFsdWF0ZShlKTpudWxsKX0pKX1lYWNoQ2hpbGQoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5zZWN0aW9ucyllKHQuY29udGVudCksdC5zY2FsZSYmZSh0LnNjYWxlKSx0LmZvbnQmJmUodC5mb250KSx0LnRleHRDb2xvciYmZSh0LnRleHRDb2xvcil9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wiZm9ybWF0XCJdO2Zvcihjb25zdCB0IG9mIHRoaXMuc2VjdGlvbnMpe2UucHVzaCh0LmNvbnRlbnQuc2VyaWFsaXplKCkpO2NvbnN0IG49e307dC5zY2FsZSYmKG5bXCJmb250LXNjYWxlXCJdPXQuc2NhbGUuc2VyaWFsaXplKCkpLHQuZm9udCYmKG5bXCJ0ZXh0LWZvbnRcIl09dC5mb250LnNlcmlhbGl6ZSgpKSx0LnRleHRDb2xvciYmKG5bXCJ0ZXh0LWNvbG9yXCJdPXQudGV4dENvbG9yLnNlcmlhbGl6ZSgpKSxlLnB1c2gobil9cmV0dXJuIGV9fWNsYXNzIFp0e2NvbnN0cnVjdG9yKGUpe3RoaXMudHlwZT1mdCx0aGlzLmlucHV0PWV9c3RhdGljIHBhcnNlKGUsdCl7aWYoMiE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgdHdvIGFyZ3VtZW50cy5cIik7Y29uc3Qgbj10LnBhcnNlKGVbMV0sMSxzdCk7cmV0dXJuIG4/bmV3IFp0KG4pOnQuZXJyb3IoXCJObyBpbWFnZSBuYW1lIHByb3ZpZGVkLlwiKX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMuaW5wdXQuZXZhbHVhdGUoZSksbj16dC5mcm9tU3RyaW5nKHQpO3JldHVybiBuJiZlLmF2YWlsYWJsZUltYWdlcyYmKG4uYXZhaWxhYmxlPWUuYXZhaWxhYmxlSW1hZ2VzLmluZGV4T2YodCk+LTEpLG59ZWFjaENoaWxkKGUpe2UodGhpcy5pbnB1dCl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe3JldHVybltcImltYWdlXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV19fWNvbnN0IFd0PXtcInRvLWJvb2xlYW5cIjpsdCxcInRvLWNvbG9yXCI6Y3QsXCJ0by1udW1iZXJcIjphdCxcInRvLXN0cmluZ1wiOnN0fTtjbGFzcyBxdHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMuYXJncz10fXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDIpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuXCIpO2NvbnN0IG49ZVswXTtpZigoXCJ0by1ib29sZWFuXCI9PT1ufHxcInRvLXN0cmluZ1wiPT09bikmJjIhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIG9uZSBhcmd1bWVudC5cIik7Y29uc3QgaT1XdFtuXSxyPVtdO2ZvcihsZXQgbj0xO248ZS5sZW5ndGg7bisrKXtjb25zdCBpPXQucGFyc2UoZVtuXSxuLGh0KTtpZighaSlyZXR1cm4gbnVsbDtyLnB1c2goaSl9cmV0dXJuIG5ldyBxdChpLHIpfWV2YWx1YXRlKGUpe2lmKFwiYm9vbGVhblwiPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIEJvb2xlYW4odGhpcy5hcmdzWzBdLmV2YWx1YXRlKGUpKTtpZihcImNvbG9yXCI9PT10aGlzLnR5cGUua2luZCl7bGV0IHQsbjtmb3IoY29uc3QgaSBvZiB0aGlzLmFyZ3Mpe2lmKHQ9aS5ldmFsdWF0ZShlKSxuPW51bGwsdCBpbnN0YW5jZW9mIEN0KXJldHVybiB0O2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtjb25zdCBuPWUucGFyc2VDb2xvcih0KTtpZihuKXJldHVybiBufWVsc2UgaWYoQXJyYXkuaXNBcnJheSh0KSYmKG49dC5sZW5ndGg8M3x8dC5sZW5ndGg+ND9gSW52YWxpZCByYmdhIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodCl9OiBleHBlY3RlZCBhbiBhcnJheSBjb250YWluaW5nIGVpdGhlciB0aHJlZSBvciBmb3VyIG51bWVyaWMgdmFsdWVzLmA6RHQodFswXSx0WzFdLHRbMl0sdFszXSksIW4pKXJldHVybiBuZXcgQ3QodFswXS8yNTUsdFsxXS8yNTUsdFsyXS8yNTUsdFszXSl9dGhyb3cgbmV3IEZ0KG58fGBDb3VsZCBub3QgcGFyc2UgY29sb3IgZnJvbSB2YWx1ZSAnJHtcInN0cmluZ1wiPT10eXBlb2YgdD90OlN0cmluZyhKU09OLnN0cmluZ2lmeSh0KSl9J2ApfWlmKFwibnVtYmVyXCI9PT10aGlzLnR5cGUua2luZCl7bGV0IHQ9bnVsbDtmb3IoY29uc3QgbiBvZiB0aGlzLmFyZ3Mpe2lmKHQ9bi5ldmFsdWF0ZShlKSxudWxsPT09dClyZXR1cm4gMDtjb25zdCBpPU51bWJlcih0KTtpZighaXNOYU4oaSkpcmV0dXJuIGl9dGhyb3cgbmV3IEZ0KGBDb3VsZCBub3QgY29udmVydCAke0pTT04uc3RyaW5naWZ5KHQpfSB0byBudW1iZXIuYCl9cmV0dXJuXCJmb3JtYXR0ZWRcIj09PXRoaXMudHlwZS5raW5kP1B0LmZyb21TdHJpbmcoUnQodGhpcy5hcmdzWzBdLmV2YWx1YXRlKGUpKSk6XCJyZXNvbHZlZEltYWdlXCI9PT10aGlzLnR5cGUua2luZD96dC5mcm9tU3RyaW5nKFJ0KHRoaXMuYXJnc1swXS5ldmFsdWF0ZShlKSkpOlJ0KHRoaXMuYXJnc1swXS5ldmFsdWF0ZShlKSl9ZWFjaENoaWxkKGUpe3RoaXMuYXJncy5mb3JFYWNoKGUpfW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5hcmdzLmV2ZXJ5KGU9PmUub3V0cHV0RGVmaW5lZCgpKX1zZXJpYWxpemUoKXtpZihcImZvcm1hdHRlZFwiPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIG5ldyBHdChbe2NvbnRlbnQ6dGhpcy5hcmdzWzBdLHNjYWxlOm51bGwsZm9udDpudWxsLHRleHRDb2xvcjpudWxsfV0pLnNlcmlhbGl6ZSgpO2lmKFwicmVzb2x2ZWRJbWFnZVwiPT09dGhpcy50eXBlLmtpbmQpcmV0dXJuIG5ldyBadCh0aGlzLmFyZ3NbMF0pLnNlcmlhbGl6ZSgpO2NvbnN0IGU9W1widG8tXCIrdGhpcy50eXBlLmtpbmRdO3JldHVybiB0aGlzLmVhY2hDaGlsZCh0PT57ZS5wdXNoKHQuc2VyaWFsaXplKCkpfSksZX19dmFyICR0PXF0O2NvbnN0IEh0PVtcIlVua25vd25cIixcIlBvaW50XCIsXCJMaW5lU3RyaW5nXCIsXCJQb2x5Z29uXCJdO3ZhciBYdD1jbGFzc3tjb25zdHJ1Y3Rvcigpe3RoaXMuZ2xvYmFscz1udWxsLHRoaXMuZmVhdHVyZT1udWxsLHRoaXMuZmVhdHVyZVN0YXRlPW51bGwsdGhpcy5mb3JtYXR0ZWRTZWN0aW9uPW51bGwsdGhpcy5fcGFyc2VDb2xvckNhY2hlPXt9LHRoaXMuYXZhaWxhYmxlSW1hZ2VzPW51bGwsdGhpcy5jYW5vbmljYWw9bnVsbCx0aGlzLmZlYXR1cmVUaWxlQ29vcmQ9bnVsbCx0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGE9bnVsbH1pZCgpe3JldHVybiB0aGlzLmZlYXR1cmUmJnZvaWQgMCE9PXRoaXMuZmVhdHVyZS5pZD90aGlzLmZlYXR1cmUuaWQ6bnVsbH1nZW9tZXRyeVR5cGUoKXtyZXR1cm4gdGhpcy5mZWF0dXJlP1wibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmZlYXR1cmUudHlwZT9IdFt0aGlzLmZlYXR1cmUudHlwZV06dGhpcy5mZWF0dXJlLnR5cGU6bnVsbH1nZW9tZXRyeSgpe3JldHVybiB0aGlzLmZlYXR1cmUmJlwiZ2VvbWV0cnlcImluIHRoaXMuZmVhdHVyZT90aGlzLmZlYXR1cmUuZ2VvbWV0cnk6bnVsbH1jYW5vbmljYWxJRCgpe3JldHVybiB0aGlzLmNhbm9uaWNhbH1wcm9wZXJ0aWVzKCl7cmV0dXJuIHRoaXMuZmVhdHVyZSYmdGhpcy5mZWF0dXJlLnByb3BlcnRpZXN8fHt9fWRpc3RhbmNlRnJvbUNlbnRlcigpe2lmKHRoaXMuZmVhdHVyZVRpbGVDb29yZCYmdGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhKXtjb25zdCBlPXRoaXMuZmVhdHVyZURpc3RhbmNlRGF0YS5jZW50ZXIsdD10aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEuc2NhbGUse3g6bix5Oml9PXRoaXMuZmVhdHVyZVRpbGVDb29yZDtyZXR1cm4gdGhpcy5mZWF0dXJlRGlzdGFuY2VEYXRhLmJlYXJpbmdbMF0qKG4qdC1lWzBdKSt0aGlzLmZlYXR1cmVEaXN0YW5jZURhdGEuYmVhcmluZ1sxXSooaSp0LWVbMV0pfXJldHVybiAwfXBhcnNlQ29sb3IoZSl7bGV0IHQ9dGhpcy5fcGFyc2VDb2xvckNhY2hlW2VdO3JldHVybiB0fHwodD10aGlzLl9wYXJzZUNvbG9yQ2FjaGVbZV09Q3QucGFyc2UoZSkpLHR9fTtjbGFzcyBZdHtjb25zdHJ1Y3RvcihlLHQsbixpKXt0aGlzLm5hbWU9ZSx0aGlzLnR5cGU9dCx0aGlzLl9ldmFsdWF0ZT1uLHRoaXMuYXJncz1pfWV2YWx1YXRlKGUpe3JldHVybiB0aGlzLl9ldmFsdWF0ZShlLHRoaXMuYXJncyl9ZWFjaENoaWxkKGUpe3RoaXMuYXJncy5mb3JFYWNoKGUpfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtyZXR1cm5bdGhpcy5uYW1lXS5jb25jYXQodGhpcy5hcmdzLm1hcChlPT5lLnNlcmlhbGl6ZSgpKSl9c3RhdGljIHBhcnNlKGUsdCl7Y29uc3Qgbj1lWzBdLGk9WXQuZGVmaW5pdGlvbnNbbl07aWYoIWkpcmV0dXJuIHQuZXJyb3IoYFVua25vd24gZXhwcmVzc2lvbiBcIiR7bn1cIi4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbXCJsaXRlcmFsXCIsIFsuLi5dXS5gLDApO2NvbnN0IHI9QXJyYXkuaXNBcnJheShpKT9pWzBdOmkudHlwZSxvPUFycmF5LmlzQXJyYXkoaSk/W1tpWzFdLGlbMl1dXTppLm92ZXJsb2FkcyxhPW8uZmlsdGVyKChbdF0pPT4hQXJyYXkuaXNBcnJheSh0KXx8dC5sZW5ndGg9PT1lLmxlbmd0aC0xKTtsZXQgcz1udWxsO2Zvcihjb25zdFtpLG9db2YgYSl7cz1uZXcgRW4odC5yZWdpc3RyeSx0LnBhdGgsbnVsbCx0LnNjb3BlKTtjb25zdCBhPVtdO2xldCBsPSExO2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBuPWVbdF0scj1BcnJheS5pc0FycmF5KGkpP2lbdC0xXTppLnR5cGUsbz1zLnBhcnNlKG4sMSthLmxlbmd0aCxyKTtpZighbyl7bD0hMDticmVha31hLnB1c2gobyl9aWYoIWwpaWYoQXJyYXkuaXNBcnJheShpKSYmaS5sZW5ndGghPT1hLmxlbmd0aClzLmVycm9yKGBFeHBlY3RlZCAke2kubGVuZ3RofSBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2EubGVuZ3RofSBpbnN0ZWFkLmApO2Vsc2V7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKyspe2NvbnN0IHQ9QXJyYXkuaXNBcnJheShpKT9pW2VdOmkudHlwZSxuPWFbZV07cy5jb25jYXQoZSsxKS5jaGVja1N1YnR5cGUodCxuLnR5cGUpfWlmKDA9PT1zLmVycm9ycy5sZW5ndGgpcmV0dXJuIG5ldyBZdChuLHIsbyxhKX19aWYoMT09PWEubGVuZ3RoKXQuZXJyb3JzLnB1c2goLi4ucy5lcnJvcnMpO2Vsc2V7Y29uc3Qgbj0oYS5sZW5ndGg/YTpvKS5tYXAoKFtlXSk9PntyZXR1cm4gdD1lLEFycmF5LmlzQXJyYXkodCk/YCgke3QubWFwKGd0KS5qb2luKFwiLCBcIil9KWA6YCgke2d0KHQudHlwZSl9Li4uKWA7dmFyIHR9KS5qb2luKFwiIHwgXCIpLGk9W107Zm9yKGxldCBuPTE7bjxlLmxlbmd0aDtuKyspe2NvbnN0IHI9dC5wYXJzZShlW25dLDEraS5sZW5ndGgpO2lmKCFyKXJldHVybiBudWxsO2kucHVzaChndChyLnR5cGUpKX10LmVycm9yKGBFeHBlY3RlZCBhcmd1bWVudHMgb2YgdHlwZSAke259LCBidXQgZm91bmQgKCR7aS5qb2luKFwiLCBcIil9KSBpbnN0ZWFkLmApfXJldHVybiBudWxsfXN0YXRpYyByZWdpc3RlcihlLHQpe1l0LmRlZmluaXRpb25zPXQ7Zm9yKGNvbnN0IG4gaW4gdCllW25dPVl0fX12YXIgSnQ9WXQ7Y2xhc3MgUXR7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMudHlwZT1kdCx0aGlzLmxvY2FsZT1uLHRoaXMuY2FzZVNlbnNpdGl2ZT1lLHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlPXR9c3RhdGljIHBhcnNlKGUsdCl7aWYoMiE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgb25lIGFyZ3VtZW50LlwiKTtjb25zdCBuPWVbMV07aWYoXCJvYmplY3RcIiE9dHlwZW9mIG58fEFycmF5LmlzQXJyYXkobikpcmV0dXJuIHQuZXJyb3IoXCJDb2xsYXRvciBvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LlwiKTtjb25zdCBpPXQucGFyc2Uodm9pZCAwIT09bltcImNhc2Utc2Vuc2l0aXZlXCJdJiZuW1wiY2FzZS1zZW5zaXRpdmVcIl0sMSxsdCk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcj10LnBhcnNlKHZvaWQgMCE9PW5bXCJkaWFjcml0aWMtc2Vuc2l0aXZlXCJdJiZuW1wiZGlhY3JpdGljLXNlbnNpdGl2ZVwiXSwxLGx0KTtpZighcilyZXR1cm4gbnVsbDtsZXQgbz1udWxsO3JldHVybiBuLmxvY2FsZSYmKG89dC5wYXJzZShuLmxvY2FsZSwxLHN0KSwhbyk/bnVsbDpuZXcgUXQoaSxyLG8pfWV2YWx1YXRlKGUpe3JldHVybiBuZXcga3QodGhpcy5jYXNlU2Vuc2l0aXZlLmV2YWx1YXRlKGUpLHRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlLmV2YWx1YXRlKGUpLHRoaXMubG9jYWxlP3RoaXMubG9jYWxlLmV2YWx1YXRlKGUpOm51bGwpfWVhY2hDaGlsZChlKXtlKHRoaXMuY2FzZVNlbnNpdGl2ZSksZSh0aGlzLmRpYWNyaXRpY1NlbnNpdGl2ZSksdGhpcy5sb2NhbGUmJmUodGhpcy5sb2NhbGUpfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O3JldHVybiBlW1wiY2FzZS1zZW5zaXRpdmVcIl09dGhpcy5jYXNlU2Vuc2l0aXZlLnNlcmlhbGl6ZSgpLGVbXCJkaWFjcml0aWMtc2Vuc2l0aXZlXCJdPXRoaXMuZGlhY3JpdGljU2Vuc2l0aXZlLnNlcmlhbGl6ZSgpLHRoaXMubG9jYWxlJiYoZS5sb2NhbGU9dGhpcy5sb2NhbGUuc2VyaWFsaXplKCkpLFtcImNvbGxhdG9yXCIsZV19fWNvbnN0IEt0PTgxOTI7ZnVuY3Rpb24gZW4oZSx0KXtlWzBdPU1hdGgubWluKGVbMF0sdFswXSksZVsxXT1NYXRoLm1pbihlWzFdLHRbMV0pLGVbMl09TWF0aC5tYXgoZVsyXSx0WzBdKSxlWzNdPU1hdGgubWF4KGVbM10sdFsxXSl9ZnVuY3Rpb24gdG4oZSx0KXtyZXR1cm4hKGVbMF08PXRbMF18fGVbMl0+PXRbMl18fGVbMV08PXRbMV18fGVbM10+PXRbM10pfWZ1bmN0aW9uIG5uKGUsdCl7Y29uc3Qgbj0oMTgwK2VbMF0pLzM2MCxpPSgxODAtMTgwL01hdGguUEkqTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K2VbMV0qTWF0aC5QSS8zNjApKSkvMzYwLHI9TWF0aC5wb3coMix0LnopO3JldHVybltNYXRoLnJvdW5kKG4qcipLdCksTWF0aC5yb3VuZChpKnIqS3QpXX1mdW5jdGlvbiBybihlLHQsbil7Y29uc3QgaT1lWzBdLXRbMF0scj1lWzFdLXRbMV0sbz1lWzBdLW5bMF0sYT1lWzFdLW5bMV07cmV0dXJuIGkqYS1vKnI9PTAmJmkqbzw9MCYmciphPD0wfWZ1bmN0aW9uIG9uKGUsdCl7bGV0IG49ITE7Zm9yKGxldCBhPTAscz10Lmxlbmd0aDthPHM7YSsrKXtjb25zdCBzPXRbYV07Zm9yKGxldCB0PTAsYT1zLmxlbmd0aDt0PGEtMTt0Kyspe2lmKHJuKGUsc1t0XSxzW3QrMV0pKXJldHVybiExOyhyPXNbdF0pWzFdPihpPWUpWzFdIT0obz1zW3QrMV0pWzFdPmlbMV0mJmlbMF08KG9bMF0tclswXSkqKGlbMV0tclsxXSkvKG9bMV0tclsxXSkrclswXSYmKG49IW4pfX12YXIgaSxyLG87cmV0dXJuIG59ZnVuY3Rpb24gYW4oZSx0KXtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylpZihvbihlLHRbbl0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHNuKGUsdCxuLGkpe2NvbnN0IHI9aVswXS1uWzBdLG89aVsxXS1uWzFdLGE9KGVbMF0tblswXSkqby1yKihlWzFdLW5bMV0pLHM9KHRbMF0tblswXSkqby1yKih0WzFdLW5bMV0pO3JldHVybiBhPjAmJnM8MHx8YTwwJiZzPjB9ZnVuY3Rpb24gbG4oZSx0LG4pe2Zvcihjb25zdCBjIG9mIG4pZm9yKGxldCBuPTA7bjxjLmxlbmd0aC0xOysrbilpZigwIT0ocz1bKGE9Y1tuKzFdKVswXS0obz1jW25dKVswXSxhWzFdLW9bMV1dKVswXSoobD1bKHI9dClbMF0tKGk9ZSlbMF0sclsxXS1pWzFdXSlbMV0tc1sxXSpsWzBdJiZzbihpLHIsbyxhKSYmc24obyxhLGkscikpcmV0dXJuITA7dmFyIGkscixvLGEscyxsO3JldHVybiExfWZ1bmN0aW9uIGNuKGUsdCl7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDsrK24paWYoIW9uKGVbbl0sdCkpcmV0dXJuITE7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aC0xOysrbilpZihsbihlW25dLGVbbisxXSx0KSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB1bihlLHQpe2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlmKGNuKGUsdFtuXSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gaG4oZSx0LG4pe2NvbnN0IGk9W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IG89W107Zm9yKGxldCBpPTA7aTxlW3JdLmxlbmd0aDtpKyspe2NvbnN0IGE9bm4oZVtyXVtpXSxuKTtlbih0LGEpLG8ucHVzaChhKX1pLnB1c2gobyl9cmV0dXJuIGl9ZnVuY3Rpb24gZG4oZSx0LG4pe2NvbnN0IGk9W107Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IG89aG4oZVtyXSx0LG4pO2kucHVzaChvKX1yZXR1cm4gaX1mdW5jdGlvbiBwbihlLHQsbixpKXtpZihlWzBdPG5bMF18fGVbMF0+blsyXSl7Y29uc3QgdD0uNSppO2xldCByPWVbMF0tblswXT50Py1pOm5bMF0tZVswXT50P2k6MDswPT09ciYmKHI9ZVswXS1uWzJdPnQ/LWk6blsyXS1lWzBdPnQ/aTowKSxlWzBdKz1yfWVuKHQsZSl9ZnVuY3Rpb24gZm4oZSx0LG4saSl7Y29uc3Qgcj1NYXRoLnBvdygyLGkueikqS3Qsbz1baS54Kkt0LGkueSpLdF0sYT1bXTtpZighZSlyZXR1cm4gYTtmb3IoY29uc3QgaSBvZiBlKWZvcihjb25zdCBlIG9mIGkpe2NvbnN0IGk9W2UueCtvWzBdLGUueStvWzFdXTtwbihpLHQsbixyKSxhLnB1c2goaSl9cmV0dXJuIGF9ZnVuY3Rpb24gbW4oZSx0LG4saSl7Y29uc3Qgcj1NYXRoLnBvdygyLGkueikqS3Qsbz1baS54Kkt0LGkueSpLdF0sYT1bXTtpZighZSlyZXR1cm4gYTtmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBlPVtdO2Zvcihjb25zdCBpIG9mIG4pe2NvbnN0IG49W2kueCtvWzBdLGkueStvWzFdXTtlbih0LG4pLGUucHVzaChuKX1hLnB1c2goZSl9aWYodFsyXS10WzBdPD1yLzIpeyhzPXQpWzBdPXNbMV09MS8wLHNbMl09c1szXT0tMS8wO2Zvcihjb25zdCBlIG9mIGEpZm9yKGNvbnN0IGkgb2YgZSlwbihpLHQsbixyKX12YXIgcztyZXR1cm4gYX1jbGFzcyBnbntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1sdCx0aGlzLmdlb2pzb249ZSx0aGlzLmdlb21ldHJpZXM9dH1zdGF0aWMgcGFyc2UoZSx0KXtpZigyIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoYCd3aXRoaW4nIGV4cHJlc3Npb24gcmVxdWlyZXMgZXhhY3RseSBvbmUgYXJndW1lbnQsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7aWYoTHQoZVsxXSkpe2NvbnN0IHQ9ZVsxXTtpZihcIkZlYXR1cmVDb2xsZWN0aW9uXCI9PT10LnR5cGUpZm9yKGxldCBlPTA7ZTx0LmZlYXR1cmVzLmxlbmd0aDsrK2Upe2NvbnN0IG49dC5mZWF0dXJlc1tlXS5nZW9tZXRyeS50eXBlO2lmKFwiUG9seWdvblwiPT09bnx8XCJNdWx0aVBvbHlnb25cIj09PW4pcmV0dXJuIG5ldyBnbih0LHQuZmVhdHVyZXNbZV0uZ2VvbWV0cnkpfWVsc2UgaWYoXCJGZWF0dXJlXCI9PT10LnR5cGUpe2NvbnN0IGU9dC5nZW9tZXRyeS50eXBlO2lmKFwiUG9seWdvblwiPT09ZXx8XCJNdWx0aVBvbHlnb25cIj09PWUpcmV0dXJuIG5ldyBnbih0LHQuZ2VvbWV0cnkpfWVsc2UgaWYoXCJQb2x5Z29uXCI9PT10LnR5cGV8fFwiTXVsdGlQb2x5Z29uXCI9PT10LnR5cGUpcmV0dXJuIG5ldyBnbih0LHQpfXJldHVybiB0LmVycm9yKFwiJ3dpdGhpbicgZXhwcmVzc2lvbiByZXF1aXJlcyB2YWxpZCBnZW9qc29uIG9iamVjdCB0aGF0IGNvbnRhaW5zIHBvbHlnb24gZ2VvbWV0cnkgdHlwZS5cIil9ZXZhbHVhdGUoZSl7aWYobnVsbCE9ZS5nZW9tZXRyeSgpJiZudWxsIT1lLmNhbm9uaWNhbElEKCkpe2lmKFwiUG9pbnRcIj09PWUuZ2VvbWV0cnlUeXBlKCkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bMS8wLDEvMCwtMS8wLC0xLzBdLGk9WzEvMCwxLzAsLTEvMCwtMS8wXSxyPWUuY2Fub25pY2FsSUQoKTtpZighcilyZXR1cm4hMTtpZihcIlBvbHlnb25cIj09PXQudHlwZSl7Y29uc3Qgbz1obih0LmNvb3JkaW5hdGVzLGksciksYT1mbihlLmdlb21ldHJ5KCksbixpLHIpO2lmKCF0bihuLGkpKXJldHVybiExO2Zvcihjb25zdCBlIG9mIGEpaWYoIW9uKGUsbykpcmV0dXJuITF9aWYoXCJNdWx0aVBvbHlnb25cIj09PXQudHlwZSl7Y29uc3Qgbz1kbih0LmNvb3JkaW5hdGVzLGksciksYT1mbihlLmdlb21ldHJ5KCksbixpLHIpO2lmKCF0bihuLGkpKXJldHVybiExO2Zvcihjb25zdCBlIG9mIGEpaWYoIWFuKGUsbykpcmV0dXJuITF9cmV0dXJuITB9KGUsdGhpcy5nZW9tZXRyaWVzKTtpZihcIkxpbmVTdHJpbmdcIj09PWUuZ2VvbWV0cnlUeXBlKCkpcmV0dXJuIGZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bMS8wLDEvMCwtMS8wLC0xLzBdLGk9WzEvMCwxLzAsLTEvMCwtMS8wXSxyPWUuY2Fub25pY2FsSUQoKTtpZighcilyZXR1cm4hMTtpZihcIlBvbHlnb25cIj09PXQudHlwZSl7Y29uc3Qgbz1obih0LmNvb3JkaW5hdGVzLGksciksYT1tbihlLmdlb21ldHJ5KCksbixpLHIpO2lmKCF0bihuLGkpKXJldHVybiExO2Zvcihjb25zdCBlIG9mIGEpaWYoIWNuKGUsbykpcmV0dXJuITF9aWYoXCJNdWx0aVBvbHlnb25cIj09PXQudHlwZSl7Y29uc3Qgbz1kbih0LmNvb3JkaW5hdGVzLGksciksYT1tbihlLmdlb21ldHJ5KCksbixpLHIpO2lmKCF0bihuLGkpKXJldHVybiExO2Zvcihjb25zdCBlIG9mIGEpaWYoIXVuKGUsbykpcmV0dXJuITF9cmV0dXJuITB9KGUsdGhpcy5nZW9tZXRyaWVzKX1yZXR1cm4hMX1lYWNoQ2hpbGQoKXt9b3V0cHV0RGVmaW5lZCgpe3JldHVybiEwfXNlcmlhbGl6ZSgpe3JldHVybltcIndpdGhpblwiLHRoaXMuZ2VvanNvbl19fXZhciB5bj1nbjtmdW5jdGlvbiBfbihlKXtpZihlIGluc3RhbmNlb2YgSnQpe2lmKFwiZ2V0XCI9PT1lLm5hbWUmJjE9PT1lLmFyZ3MubGVuZ3RoKXJldHVybiExO2lmKFwiZmVhdHVyZS1zdGF0ZVwiPT09ZS5uYW1lKXJldHVybiExO2lmKFwiaGFzXCI9PT1lLm5hbWUmJjE9PT1lLmFyZ3MubGVuZ3RoKXJldHVybiExO2lmKFwicHJvcGVydGllc1wiPT09ZS5uYW1lfHxcImdlb21ldHJ5LXR5cGVcIj09PWUubmFtZXx8XCJpZFwiPT09ZS5uYW1lKXJldHVybiExO2lmKC9eZmlsdGVyLS8udGVzdChlLm5hbWUpKXJldHVybiExfWlmKGUgaW5zdGFuY2VvZiB5bilyZXR1cm4hMTtsZXQgdD0hMDtyZXR1cm4gZS5lYWNoQ2hpbGQoZT0+e3QmJiFfbihlKSYmKHQ9ITEpfSksdH1mdW5jdGlvbiB2bihlKXtpZihlIGluc3RhbmNlb2YgSnQmJlwiZmVhdHVyZS1zdGF0ZVwiPT09ZS5uYW1lKXJldHVybiExO2xldCB0PSEwO3JldHVybiBlLmVhY2hDaGlsZChlPT57dCYmIXZuKGUpJiYodD0hMSl9KSx0fWZ1bmN0aW9uIHhuKGUsdCl7aWYoZSBpbnN0YW5jZW9mIEp0JiZ0LmluZGV4T2YoZS5uYW1lKT49MClyZXR1cm4hMTtsZXQgbj0hMDtyZXR1cm4gZS5lYWNoQ2hpbGQoZT0+e24mJiF4bihlLHQpJiYobj0hMSl9KSxufWNsYXNzIGJue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPXQudHlwZSx0aGlzLm5hbWU9ZSx0aGlzLmJvdW5kRXhwcmVzc2lvbj10fXN0YXRpYyBwYXJzZShlLHQpe2lmKDIhPT1lLmxlbmd0aHx8XCJzdHJpbmdcIiE9dHlwZW9mIGVbMV0pcmV0dXJuIHQuZXJyb3IoXCIndmFyJyBleHByZXNzaW9uIHJlcXVpcmVzIGV4YWN0bHkgb25lIHN0cmluZyBsaXRlcmFsIGFyZ3VtZW50LlwiKTtjb25zdCBuPWVbMV07cmV0dXJuIHQuc2NvcGUuaGFzKG4pP25ldyBibihuLHQuc2NvcGUuZ2V0KG4pKTp0LmVycm9yKGBVbmtub3duIHZhcmlhYmxlIFwiJHtufVwiLiBNYWtlIHN1cmUgXCIke259XCIgaGFzIGJlZW4gYm91bmQgaW4gYW4gZW5jbG9zaW5nIFwibGV0XCIgZXhwcmVzc2lvbiBiZWZvcmUgdXNpbmcgaXQuYCwxKX1ldmFsdWF0ZShlKXtyZXR1cm4gdGhpcy5ib3VuZEV4cHJlc3Npb24uZXZhbHVhdGUoZSl9ZWFjaENoaWxkKCl7fW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtyZXR1cm5bXCJ2YXJcIix0aGlzLm5hbWVdfX12YXIgd249Ym47Y2xhc3MgVG57Y29uc3RydWN0b3IoZSx0PVtdLG4saT1uZXcgcnQscj1bXSl7dGhpcy5yZWdpc3RyeT1lLHRoaXMucGF0aD10LHRoaXMua2V5PXQubWFwKGU9PmBbJHtlfV1gKS5qb2luKFwiXCIpLHRoaXMuc2NvcGU9aSx0aGlzLmVycm9ycz1yLHRoaXMuZXhwZWN0ZWRUeXBlPW59cGFyc2UoZSx0LG4saSxyPXt9KXtyZXR1cm4gdD90aGlzLmNvbmNhdCh0LG4saSkuX3BhcnNlKGUscik6dGhpcy5fcGFyc2UoZSxyKX1fcGFyc2UoZSx0KXtmdW5jdGlvbiBuKGUsdCxuKXtyZXR1cm5cImFzc2VydFwiPT09bj9uZXcgVnQodCxbZV0pOlwiY29lcmNlXCI9PT1uP25ldyAkdCh0LFtlXSk6ZX1pZihudWxsIT09ZSYmXCJzdHJpbmdcIiE9dHlwZW9mIGUmJlwiYm9vbGVhblwiIT10eXBlb2YgZSYmXCJudW1iZXJcIiE9dHlwZW9mIGV8fChlPVtcImxpdGVyYWxcIixlXSksQXJyYXkuaXNBcnJheShlKSl7aWYoMD09PWUubGVuZ3RoKXJldHVybiB0aGlzLmVycm9yKCdFeHBlY3RlZCBhbiBhcnJheSB3aXRoIGF0IGxlYXN0IG9uZSBlbGVtZW50LiBJZiB5b3Ugd2FudGVkIGEgbGl0ZXJhbCBhcnJheSwgdXNlIFtcImxpdGVyYWxcIiwgW11dLicpO2NvbnN0IGk9ZVswXTtpZihcInN0cmluZ1wiIT10eXBlb2YgaSlyZXR1cm4gdGhpcy5lcnJvcihgRXhwcmVzc2lvbiBuYW1lIG11c3QgYmUgYSBzdHJpbmcsIGJ1dCBmb3VuZCAke3R5cGVvZiBpfSBpbnN0ZWFkLiBJZiB5b3Ugd2FudGVkIGEgbGl0ZXJhbCBhcnJheSwgdXNlIFtcImxpdGVyYWxcIiwgWy4uLl1dLmAsMCksbnVsbDtjb25zdCByPXRoaXMucmVnaXN0cnlbaV07aWYocil7bGV0IGk9ci5wYXJzZShlLHRoaXMpO2lmKCFpKXJldHVybiBudWxsO2lmKHRoaXMuZXhwZWN0ZWRUeXBlKXtjb25zdCBlPXRoaXMuZXhwZWN0ZWRUeXBlLHI9aS50eXBlO2lmKFwic3RyaW5nXCIhPT1lLmtpbmQmJlwibnVtYmVyXCIhPT1lLmtpbmQmJlwiYm9vbGVhblwiIT09ZS5raW5kJiZcIm9iamVjdFwiIT09ZS5raW5kJiZcImFycmF5XCIhPT1lLmtpbmR8fFwidmFsdWVcIiE9PXIua2luZClpZihcImNvbG9yXCIhPT1lLmtpbmQmJlwiZm9ybWF0dGVkXCIhPT1lLmtpbmQmJlwicmVzb2x2ZWRJbWFnZVwiIT09ZS5raW5kfHxcInZhbHVlXCIhPT1yLmtpbmQmJlwic3RyaW5nXCIhPT1yLmtpbmQpe2lmKHRoaXMuY2hlY2tTdWJ0eXBlKGUscikpcmV0dXJuIG51bGx9ZWxzZSBpPW4oaSxlLHQudHlwZUFubm90YXRpb258fFwiY29lcmNlXCIpO2Vsc2UgaT1uKGksZSx0LnR5cGVBbm5vdGF0aW9ufHxcImFzc2VydFwiKX1pZighKGkgaW5zdGFuY2VvZiBqdCkmJlwicmVzb2x2ZWRJbWFnZVwiIT09aS50eXBlLmtpbmQmJmZ1bmN0aW9uIGUodCl7aWYodCBpbnN0YW5jZW9mIHduKXJldHVybiBlKHQuYm91bmRFeHByZXNzaW9uKTtpZih0IGluc3RhbmNlb2YgSnQmJlwiZXJyb3JcIj09PXQubmFtZSlyZXR1cm4hMTtpZih0IGluc3RhbmNlb2YgUXQpcmV0dXJuITE7aWYodCBpbnN0YW5jZW9mIHluKXJldHVybiExO2NvbnN0IG49dCBpbnN0YW5jZW9mICR0fHx0IGluc3RhbmNlb2YgVnQ7bGV0IGk9ITA7cmV0dXJuIHQuZWFjaENoaWxkKHQ9PntpPW4/aSYmZSh0KTppJiZ0IGluc3RhbmNlb2YganR9KSwhIWkmJl9uKHQpJiZ4bih0LFtcInpvb21cIixcImhlYXRtYXAtZGVuc2l0eVwiLFwibGluZS1wcm9ncmVzc1wiLFwic2t5LXJhZGlhbC1wcm9ncmVzc1wiLFwiYWNjdW11bGF0ZWRcIixcImlzLXN1cHBvcnRlZC1zY3JpcHRcIixcInBpdGNoXCIsXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiXSl9KGkpKXtjb25zdCB0PW5ldyBYdDt0cnl7aT1uZXcganQoaS50eXBlLGkuZXZhbHVhdGUodCkpfWNhdGNoKGUpe3JldHVybiB0aGlzLmVycm9yKGUubWVzc2FnZSksbnVsbH19cmV0dXJuIGl9cmV0dXJuIHRoaXMuZXJyb3IoYFVua25vd24gZXhwcmVzc2lvbiBcIiR7aX1cIi4gSWYgeW91IHdhbnRlZCBhIGxpdGVyYWwgYXJyYXksIHVzZSBbXCJsaXRlcmFsXCIsIFsuLi5dXS5gLDApfXJldHVybiB0aGlzLmVycm9yKHZvaWQgMD09PWU/XCIndW5kZWZpbmVkJyB2YWx1ZSBpbnZhbGlkLiBVc2UgbnVsbCBpbnN0ZWFkLlwiOlwib2JqZWN0XCI9PXR5cGVvZiBlPydCYXJlIG9iamVjdHMgaW52YWxpZC4gVXNlIFtcImxpdGVyYWxcIiwgey4uLn1dIGluc3RlYWQuJzpgRXhwZWN0ZWQgYW4gYXJyYXksIGJ1dCBmb3VuZCAke3R5cGVvZiBlfSBpbnN0ZWFkLmApfWNvbmNhdChlLHQsbil7Y29uc3QgaT1cIm51bWJlclwiPT10eXBlb2YgZT90aGlzLnBhdGguY29uY2F0KGUpOnRoaXMucGF0aCxyPW4/dGhpcy5zY29wZS5jb25jYXQobik6dGhpcy5zY29wZTtyZXR1cm4gbmV3IFRuKHRoaXMucmVnaXN0cnksaSx0fHxudWxsLHIsdGhpcy5lcnJvcnMpfWVycm9yKGUsLi4udCl7Y29uc3Qgbj1gJHt0aGlzLmtleX0ke3QubWFwKGU9PmBbJHtlfV1gKS5qb2luKFwiXCIpfWA7dGhpcy5lcnJvcnMucHVzaChuZXcgbnQobixlKSl9Y2hlY2tTdWJ0eXBlKGUsdCl7Y29uc3Qgbj1fdChlLHQpO3JldHVybiBuJiZ0aGlzLmVycm9yKG4pLG59fXZhciBFbj1UbjtmdW5jdGlvbiBTbihlLHQpe2NvbnN0IG49ZS5sZW5ndGgtMTtsZXQgaSxyLG89MCxhPW4scz0wO2Zvcig7bzw9YTspaWYocz1NYXRoLmZsb29yKChvK2EpLzIpLGk9ZVtzXSxyPWVbcysxXSxpPD10KXtpZihzPT09bnx8dDxyKXJldHVybiBzO289cysxfWVsc2V7aWYoIShpPnQpKXRocm93IG5ldyBGdChcIklucHV0IGlzIG5vdCBhIG51bWJlci5cIik7YT1zLTF9cmV0dXJuIDB9Y2xhc3MgTW57Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMudHlwZT1lLHRoaXMuaW5wdXQ9dCx0aGlzLmxhYmVscz1bXSx0aGlzLm91dHB1dHM9W107Zm9yKGNvbnN0W2UsdF1vZiBuKXRoaXMubGFiZWxzLnB1c2goZSksdGhpcy5vdXRwdXRzLnB1c2godCl9c3RhdGljIHBhcnNlKGUsdCl7aWYoZS5sZW5ndGgtMTw0KXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCA0IGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgJHtlLmxlbmd0aC0xfS5gKTtpZigoZS5sZW5ndGgtMSklMiE9MClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIGFuIGV2ZW4gbnVtYmVyIG9mIGFyZ3VtZW50cy5cIik7Y29uc3Qgbj10LnBhcnNlKGVbMV0sMSxhdCk7aWYoIW4pcmV0dXJuIG51bGw7Y29uc3QgaT1bXTtsZXQgcj1udWxsO3QuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT10LmV4cGVjdGVkVHlwZS5raW5kJiYocj10LmV4cGVjdGVkVHlwZSk7Zm9yKGxldCBuPTE7bjxlLmxlbmd0aDtuKz0yKXtjb25zdCBvPTE9PT1uPy0xLzA6ZVtuXSxhPWVbbisxXSxzPW4sbD1uKzE7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG8pcmV0dXJuIHQuZXJyb3IoJ0lucHV0L291dHB1dCBwYWlycyBmb3IgXCJzdGVwXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBkZWZpbmVkIHVzaW5nIGxpdGVyYWwgbnVtZXJpYyB2YWx1ZXMgKG5vdCBjb21wdXRlZCBleHByZXNzaW9ucykgZm9yIHRoZSBpbnB1dCB2YWx1ZXMuJyxzKTtpZihpLmxlbmd0aCYmaVtpLmxlbmd0aC0xXVswXT49bylyZXR1cm4gdC5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciBcInN0ZXBcIiBleHByZXNzaW9ucyBtdXN0IGJlIGFycmFuZ2VkIHdpdGggaW5wdXQgdmFsdWVzIGluIHN0cmljdGx5IGFzY2VuZGluZyBvcmRlci4nLHMpO2NvbnN0IGM9dC5wYXJzZShhLGwscik7aWYoIWMpcmV0dXJuIG51bGw7cj1yfHxjLnR5cGUsaS5wdXNoKFtvLGNdKX1yZXR1cm4gbmV3IE1uKHIsbixpKX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMubGFiZWxzLG49dGhpcy5vdXRwdXRzO2lmKDE9PT10Lmxlbmd0aClyZXR1cm4gblswXS5ldmFsdWF0ZShlKTtjb25zdCBpPXRoaXMuaW5wdXQuZXZhbHVhdGUoZSk7aWYoaTw9dFswXSlyZXR1cm4gblswXS5ldmFsdWF0ZShlKTtjb25zdCByPXQubGVuZ3RoO3JldHVybiBpPj10W3ItMV0/bltyLTFdLmV2YWx1YXRlKGUpOm5bU24odCxpKV0uZXZhbHVhdGUoZSl9ZWFjaENoaWxkKGUpe2UodGhpcy5pbnB1dCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5vdXRwdXRzKWUodCl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLm91dHB1dHMuZXZlcnkoZT0+ZS5vdXRwdXREZWZpbmVkKCkpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wic3RlcFwiLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldO2ZvcihsZXQgdD0wO3Q8dGhpcy5sYWJlbHMubGVuZ3RoO3QrKyl0PjAmJmUucHVzaCh0aGlzLmxhYmVsc1t0XSksZS5wdXNoKHRoaXMub3V0cHV0c1t0XS5zZXJpYWxpemUoKSk7cmV0dXJuIGV9fXZhciBJbj1NbjtmdW5jdGlvbiBDbihlLHQsbil7cmV0dXJuIGUqKDEtbikrdCpufXZhciBrbj1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxudW1iZXI6Q24sY29sb3I6ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuZXcgQ3QoQ24oZS5yLHQucixuKSxDbihlLmcsdC5nLG4pLENuKGUuYix0LmIsbiksQ24oZS5hLHQuYSxuKSl9LGFycmF5OmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5tYXAoKGUsaSk9PkNuKGUsdFtpXSxuKSl9fSk7Y29uc3QgQW49Ni8yOSozKig2LzI5KSxQbj1NYXRoLlBJLzE4MCx6bj0xODAvTWF0aC5QSTtmdW5jdGlvbiBEbihlKXtyZXR1cm4gZT4uMDA4ODU2NDUxNjc5MDM1NjMxP01hdGgucG93KGUsMS8zKTplL0FuKzQvMjl9ZnVuY3Rpb24gTG4oZSl7cmV0dXJuIGU+Ni8yOT9lKmUqZTpBbiooZS00LzI5KX1mdW5jdGlvbiBPbihlKXtyZXR1cm4gMjU1KihlPD0uMDAzMTMwOD8xMi45MiplOjEuMDU1Kk1hdGgucG93KGUsMS8yLjQpLS4wNTUpfWZ1bmN0aW9uIFJuKGUpe3JldHVybihlLz0yNTUpPD0uMDQwNDU/ZS8xMi45MjpNYXRoLnBvdygoZSsuMDU1KS8xLjA1NSwyLjQpfWZ1bmN0aW9uIEJuKGUpe2NvbnN0IHQ9Um4oZS5yKSxuPVJuKGUuZyksaT1SbihlLmIpLHI9RG4oKC40MTI0NTY0KnQrLjM1NzU3NjEqbisuMTgwNDM3NSppKS8uOTUwNDcpLG89RG4oKC4yMTI2NzI5KnQrLjcxNTE1MjIqbisuMDcyMTc1KmkpLzEpO3JldHVybntsOjExNipvLTE2LGE6NTAwKihyLW8pLGI6MjAwKihvLURuKCguMDE5MzMzOSp0Ky4xMTkxOTIqbisuOTUwMzA0MSppKS8xLjA4ODgzKSksYWxwaGE6ZS5hfX1mdW5jdGlvbiBqbihlKXtsZXQgdD0oZS5sKzE2KS8xMTYsbj1pc05hTihlLmEpP3Q6dCtlLmEvNTAwLGk9aXNOYU4oZS5iKT90OnQtZS5iLzIwMDtyZXR1cm4gdD0xKkxuKHQpLG49Ljk1MDQ3KkxuKG4pLGk9MS4wODg4MypMbihpKSxuZXcgQ3QoT24oMy4yNDA0NTQyKm4tMS41MzcxMzg1KnQtLjQ5ODUzMTQqaSksT24oLS45NjkyNjYqbisxLjg3NjAxMDgqdCsuMDQxNTU2KmkpLE9uKC4wNTU2NDM0Km4tLjIwNDAyNTkqdCsxLjA1NzIyNTIqaSksZS5hbHBoYSl9ZnVuY3Rpb24gRm4oZSx0LG4pe2NvbnN0IGk9dC1lO3JldHVybiBlK24qKGk+MTgwfHxpPC0xODA/aS0zNjAqTWF0aC5yb3VuZChpLzM2MCk6aSl9Y29uc3QgTm49e2ZvcndhcmQ6Qm4scmV2ZXJzZTpqbixpbnRlcnBvbGF0ZTpmdW5jdGlvbihlLHQsbil7cmV0dXJue2w6Q24oZS5sLHQubCxuKSxhOkNuKGUuYSx0LmEsbiksYjpDbihlLmIsdC5iLG4pLGFscGhhOkNuKGUuYWxwaGEsdC5hbHBoYSxuKX19fSxVbj17Zm9yd2FyZDpmdW5jdGlvbihlKXtjb25zdHtsOnQsYTpuLGI6aX09Qm4oZSkscj1NYXRoLmF0YW4yKGksbikqem47cmV0dXJue2g6cjwwP3IrMzYwOnIsYzpNYXRoLnNxcnQobipuK2kqaSksbDp0LGFscGhhOmUuYX19LHJldmVyc2U6ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmgqUG4sbj1lLmM7cmV0dXJuIGpuKHtsOmUubCxhOk1hdGguY29zKHQpKm4sYjpNYXRoLnNpbih0KSpuLGFscGhhOmUuYWxwaGF9KX0saW50ZXJwb2xhdGU6ZnVuY3Rpb24oZSx0LG4pe3JldHVybntoOkZuKGUuaCx0LmgsbiksYzpDbihlLmMsdC5jLG4pLGw6Q24oZS5sLHQubCxuKSxhbHBoYTpDbihlLmFscGhhLHQuYWxwaGEsbil9fX07dmFyIFZuPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGxhYjpObixoY2w6VW59KTtjbGFzcyBHbntjb25zdHJ1Y3RvcihlLHQsbixpLHIpe3RoaXMudHlwZT1lLHRoaXMub3BlcmF0b3I9dCx0aGlzLmludGVycG9sYXRpb249bix0aGlzLmlucHV0PWksdGhpcy5sYWJlbHM9W10sdGhpcy5vdXRwdXRzPVtdO2Zvcihjb25zdFtlLHRdb2Ygcil0aGlzLmxhYmVscy5wdXNoKGUpLHRoaXMub3V0cHV0cy5wdXNoKHQpfXN0YXRpYyBpbnRlcnBvbGF0aW9uRmFjdG9yKGUsdCxuLGkpe2xldCByPTA7aWYoXCJleHBvbmVudGlhbFwiPT09ZS5uYW1lKXI9Wm4odCxlLmJhc2UsbixpKTtlbHNlIGlmKFwibGluZWFyXCI9PT1lLm5hbWUpcj1abih0LDEsbixpKTtlbHNlIGlmKFwiY3ViaWMtYmV6aWVyXCI9PT1lLm5hbWUpe2NvbnN0IG89ZS5jb250cm9sUG9pbnRzO3I9bmV3IHAob1swXSxvWzFdLG9bMl0sb1szXSkuc29sdmUoWm4odCwxLG4saSkpfXJldHVybiByfXN0YXRpYyBwYXJzZShlLHQpe2xldFtuLGksciwuLi5vXT1lO2lmKCFBcnJheS5pc0FycmF5KGkpfHwwPT09aS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhbiBpbnRlcnBvbGF0aW9uIHR5cGUgZXhwcmVzc2lvbi5cIiwxKTtpZihcImxpbmVhclwiPT09aVswXSlpPXtuYW1lOlwibGluZWFyXCJ9O2Vsc2UgaWYoXCJleHBvbmVudGlhbFwiPT09aVswXSl7Y29uc3QgZT1pWzFdO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlKXJldHVybiB0LmVycm9yKFwiRXhwb25lbnRpYWwgaW50ZXJwb2xhdGlvbiByZXF1aXJlcyBhIG51bWVyaWMgYmFzZS5cIiwxLDEpO2k9e25hbWU6XCJleHBvbmVudGlhbFwiLGJhc2U6ZX19ZWxzZXtpZihcImN1YmljLWJlemllclwiIT09aVswXSlyZXR1cm4gdC5lcnJvcihcIlVua25vd24gaW50ZXJwb2xhdGlvbiB0eXBlIFwiK1N0cmluZyhpWzBdKSwxLDApO3tjb25zdCBlPWkuc2xpY2UoMSk7aWYoNCE9PWUubGVuZ3RofHxlLnNvbWUoZT0+XCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MHx8ZT4xKSlyZXR1cm4gdC5lcnJvcihcIkN1YmljIGJlemllciBpbnRlcnBvbGF0aW9uIHJlcXVpcmVzIGZvdXIgbnVtZXJpYyBhcmd1bWVudHMgd2l0aCB2YWx1ZXMgYmV0d2VlbiAwIGFuZCAxLlwiLDEpO2k9e25hbWU6XCJjdWJpYy1iZXppZXJcIixjb250cm9sUG9pbnRzOmV9fX1pZihlLmxlbmd0aC0xPDQpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAke2UubGVuZ3RoLTF9LmApO2lmKChlLmxlbmd0aC0xKSUyIT0wKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgYW4gZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzLlwiKTtpZihyPXQucGFyc2UociwyLGF0KSwhcilyZXR1cm4gbnVsbDtjb25zdCBhPVtdO2xldCBzPW51bGw7XCJpbnRlcnBvbGF0ZS1oY2xcIj09PW58fFwiaW50ZXJwb2xhdGUtbGFiXCI9PT1uP3M9Y3Q6dC5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PXQuZXhwZWN0ZWRUeXBlLmtpbmQmJihzPXQuZXhwZWN0ZWRUeXBlKTtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrPTIpe2NvbnN0IG49b1tlXSxpPW9bZSsxXSxyPWUrMyxsPWUrNDtpZihcIm51bWJlclwiIT10eXBlb2YgbilyZXR1cm4gdC5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBkZWZpbmVkIHVzaW5nIGxpdGVyYWwgbnVtZXJpYyB2YWx1ZXMgKG5vdCBjb21wdXRlZCBleHByZXNzaW9ucykgZm9yIHRoZSBpbnB1dCB2YWx1ZXMuJyxyKTtpZihhLmxlbmd0aCYmYVthLmxlbmd0aC0xXVswXT49bilyZXR1cm4gdC5lcnJvcignSW5wdXQvb3V0cHV0IHBhaXJzIGZvciBcImludGVycG9sYXRlXCIgZXhwcmVzc2lvbnMgbXVzdCBiZSBhcnJhbmdlZCB3aXRoIGlucHV0IHZhbHVlcyBpbiBzdHJpY3RseSBhc2NlbmRpbmcgb3JkZXIuJyxyKTtjb25zdCBjPXQucGFyc2UoaSxsLHMpO2lmKCFjKXJldHVybiBudWxsO3M9c3x8Yy50eXBlLGEucHVzaChbbixjXSl9cmV0dXJuXCJudW1iZXJcIj09PXMua2luZHx8XCJjb2xvclwiPT09cy5raW5kfHxcImFycmF5XCI9PT1zLmtpbmQmJlwibnVtYmVyXCI9PT1zLml0ZW1UeXBlLmtpbmQmJlwibnVtYmVyXCI9PXR5cGVvZiBzLk4/bmV3IEduKHMsbixpLHIsYSk6dC5lcnJvcihgVHlwZSAke2d0KHMpfSBpcyBub3QgaW50ZXJwb2xhdGFibGUuYCl9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmxhYmVscyxuPXRoaXMub3V0cHV0cztpZigxPT09dC5sZW5ndGgpcmV0dXJuIG5bMF0uZXZhbHVhdGUoZSk7Y29uc3QgaT10aGlzLmlucHV0LmV2YWx1YXRlKGUpO2lmKGk8PXRbMF0pcmV0dXJuIG5bMF0uZXZhbHVhdGUoZSk7Y29uc3Qgcj10Lmxlbmd0aDtpZihpPj10W3ItMV0pcmV0dXJuIG5bci0xXS5ldmFsdWF0ZShlKTtjb25zdCBvPVNuKHQsaSksYT1Hbi5pbnRlcnBvbGF0aW9uRmFjdG9yKHRoaXMuaW50ZXJwb2xhdGlvbixpLHRbb10sdFtvKzFdKSxzPW5bb10uZXZhbHVhdGUoZSksbD1uW28rMV0uZXZhbHVhdGUoZSk7cmV0dXJuXCJpbnRlcnBvbGF0ZVwiPT09dGhpcy5vcGVyYXRvcj9rblt0aGlzLnR5cGUua2luZC50b0xvd2VyQ2FzZSgpXShzLGwsYSk6XCJpbnRlcnBvbGF0ZS1oY2xcIj09PXRoaXMub3BlcmF0b3I/VW4ucmV2ZXJzZShVbi5pbnRlcnBvbGF0ZShVbi5mb3J3YXJkKHMpLFVuLmZvcndhcmQobCksYSkpOk5uLnJldmVyc2UoTm4uaW50ZXJwb2xhdGUoTm4uZm9yd2FyZChzKSxObi5mb3J3YXJkKGwpLGEpKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0KTtmb3IoY29uc3QgdCBvZiB0aGlzLm91dHB1dHMpZSh0KX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeShlPT5lLm91dHB1dERlZmluZWQoKSl9c2VyaWFsaXplKCl7bGV0IGU7ZT1cImxpbmVhclwiPT09dGhpcy5pbnRlcnBvbGF0aW9uLm5hbWU/W1wibGluZWFyXCJdOlwiZXhwb25lbnRpYWxcIj09PXRoaXMuaW50ZXJwb2xhdGlvbi5uYW1lPzE9PT10aGlzLmludGVycG9sYXRpb24uYmFzZT9bXCJsaW5lYXJcIl06W1wiZXhwb25lbnRpYWxcIix0aGlzLmludGVycG9sYXRpb24uYmFzZV06W1wiY3ViaWMtYmV6aWVyXCJdLmNvbmNhdCh0aGlzLmludGVycG9sYXRpb24uY29udHJvbFBvaW50cyk7Y29uc3QgdD1bdGhpcy5vcGVyYXRvcixlLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldO2ZvcihsZXQgZT0wO2U8dGhpcy5sYWJlbHMubGVuZ3RoO2UrKyl0LnB1c2godGhpcy5sYWJlbHNbZV0sdGhpcy5vdXRwdXRzW2VdLnNlcmlhbGl6ZSgpKTtyZXR1cm4gdH19ZnVuY3Rpb24gWm4oZSx0LG4saSl7Y29uc3Qgcj1pLW4sbz1lLW47cmV0dXJuIDA9PT1yPzA6MT09PXQ/by9yOihNYXRoLnBvdyh0LG8pLTEpLyhNYXRoLnBvdyh0LHIpLTEpfXZhciBXbj1HbjtjbGFzcyBxbntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudHlwZT1lLHRoaXMuYXJncz10fXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDIpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlY3RlZCBhdCBsZWFzdCBvbmUgYXJndW1lbnQuXCIpO2xldCBuPW51bGw7Y29uc3QgaT10LmV4cGVjdGVkVHlwZTtpJiZcInZhbHVlXCIhPT1pLmtpbmQmJihuPWkpO2NvbnN0IHI9W107Zm9yKGNvbnN0IGkgb2YgZS5zbGljZSgxKSl7Y29uc3QgZT10LnBhcnNlKGksMStyLmxlbmd0aCxuLHZvaWQgMCx7dHlwZUFubm90YXRpb246XCJvbWl0XCJ9KTtpZighZSlyZXR1cm4gbnVsbDtuPW58fGUudHlwZSxyLnB1c2goZSl9Y29uc3Qgbz1pJiZyLnNvbWUoZT0+X3QoaSxlLnR5cGUpKTtyZXR1cm4gbmV3IHFuKG8/aHQ6bixyKX1ldmFsdWF0ZShlKXtsZXQgdCxuPW51bGwsaT0wO2Zvcihjb25zdCByIG9mIHRoaXMuYXJncyl7aWYoaSsrLG49ci5ldmFsdWF0ZShlKSxuJiZuIGluc3RhbmNlb2YgenQmJiFuLmF2YWlsYWJsZSYmKHR8fCh0PW4pLG49bnVsbCxpPT09dGhpcy5hcmdzLmxlbmd0aCkpcmV0dXJuIHQ7aWYobnVsbCE9PW4pYnJlYWt9cmV0dXJuIG59ZWFjaENoaWxkKGUpe3RoaXMuYXJncy5mb3JFYWNoKGUpfW91dHB1dERlZmluZWQoKXtyZXR1cm4gdGhpcy5hcmdzLmV2ZXJ5KGU9PmUub3V0cHV0RGVmaW5lZCgpKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcImNvYWxlc2NlXCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCh0PT57ZS5wdXNoKHQuc2VyaWFsaXplKCkpfSksZX19dmFyICRuPXFuO2NsYXNzIEhue2NvbnN0cnVjdG9yKGUsdCl7dGhpcy50eXBlPXQudHlwZSx0aGlzLmJpbmRpbmdzPVtdLmNvbmNhdChlKSx0aGlzLnJlc3VsdD10fWV2YWx1YXRlKGUpe3JldHVybiB0aGlzLnJlc3VsdC5ldmFsdWF0ZShlKX1lYWNoQ2hpbGQoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5iaW5kaW5ncyllKHRbMV0pO2UodGhpcy5yZXN1bHQpfXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDQpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDMgYXJndW1lbnRzLCBidXQgZm91bmQgJHtlLmxlbmd0aC0xfSBpbnN0ZWFkLmApO2NvbnN0IG49W107Zm9yKGxldCBpPTE7aTxlLmxlbmd0aC0xO2krPTIpe2NvbnN0IHI9ZVtpXTtpZihcInN0cmluZ1wiIT10eXBlb2YgcilyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgc3RyaW5nLCBidXQgZm91bmQgJHt0eXBlb2Ygcn0gaW5zdGVhZC5gLGkpO2lmKC9bXmEtekEtWjAtOV9dLy50ZXN0KHIpKXJldHVybiB0LmVycm9yKFwiVmFyaWFibGUgbmFtZXMgbXVzdCBjb250YWluIG9ubHkgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMgb3IgJ18nLlwiLGkpO2NvbnN0IG89dC5wYXJzZShlW2krMV0saSsxKTtpZighbylyZXR1cm4gbnVsbDtuLnB1c2goW3Isb10pfWNvbnN0IGk9dC5wYXJzZShlW2UubGVuZ3RoLTFdLGUubGVuZ3RoLTEsdC5leHBlY3RlZFR5cGUsbik7cmV0dXJuIGk/bmV3IEhuKG4saSk6bnVsbH1vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMucmVzdWx0Lm91dHB1dERlZmluZWQoKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcImxldFwiXTtmb3IoY29uc3RbdCxuXW9mIHRoaXMuYmluZGluZ3MpZS5wdXNoKHQsbi5zZXJpYWxpemUoKSk7cmV0dXJuIGUucHVzaCh0aGlzLnJlc3VsdC5zZXJpYWxpemUoKSksZX19dmFyIFhuPUhuO2NsYXNzIFlue2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnR5cGU9ZSx0aGlzLmluZGV4PXQsdGhpcy5pbnB1dD1ufXN0YXRpYyBwYXJzZShlLHQpe2lmKDMhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgMiBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgbj10LnBhcnNlKGVbMV0sMSxhdCksaT10LnBhcnNlKGVbMl0sMixtdCh0LmV4cGVjdGVkVHlwZXx8aHQpKTtyZXR1cm4gbiYmaT9uZXcgWW4oaS50eXBlLml0ZW1UeXBlLG4saSk6bnVsbH1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMuaW5kZXguZXZhbHVhdGUoZSksbj10aGlzLmlucHV0LmV2YWx1YXRlKGUpO2lmKHQ8MCl0aHJvdyBuZXcgRnQoYEFycmF5IGluZGV4IG91dCBvZiBib3VuZHM6ICR7dH0gPCAwLmApO2lmKHQ+PW4ubGVuZ3RoKXRocm93IG5ldyBGdChgQXJyYXkgaW5kZXggb3V0IG9mIGJvdW5kczogJHt0fSA+ICR7bi5sZW5ndGgtMX0uYCk7aWYodCE9PU1hdGguZmxvb3IodCkpdGhyb3cgbmV3IEZ0KGBBcnJheSBpbmRleCBtdXN0IGJlIGFuIGludGVnZXIsIGJ1dCBmb3VuZCAke3R9IGluc3RlYWQuYCk7cmV0dXJuIG5bdF19ZWFjaENoaWxkKGUpe2UodGhpcy5pbmRleCksZSh0aGlzLmlucHV0KX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7cmV0dXJuW1wiYXRcIix0aGlzLmluZGV4LnNlcmlhbGl6ZSgpLHRoaXMuaW5wdXQuc2VyaWFsaXplKCldfX12YXIgSm49WW47Y2xhc3MgUW57Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9bHQsdGhpcy5uZWVkbGU9ZSx0aGlzLmhheXN0YWNrPXR9c3RhdGljIHBhcnNlKGUsdCl7aWYoMyE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCAyIGFyZ3VtZW50cywgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCBuPXQucGFyc2UoZVsxXSwxLGh0KSxpPXQucGFyc2UoZVsyXSwyLGh0KTtyZXR1cm4gbiYmaT92dChuLnR5cGUsW2x0LHN0LGF0LG90LGh0XSk/bmV3IFFuKG4saSk6dC5lcnJvcihgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBib29sZWFuLCBzdHJpbmcsIG51bWJlciBvciBudWxsLCBidXQgZm91bmQgJHtndChuLnR5cGUpfSBpbnN0ZWFkYCk6bnVsbH1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMubmVlZGxlLmV2YWx1YXRlKGUpLG49dGhpcy5oYXlzdGFjay5ldmFsdWF0ZShlKTtpZihudWxsPT1uKXJldHVybiExO2lmKCF4dCh0LFtcImJvb2xlYW5cIixcInN0cmluZ1wiLFwibnVtYmVyXCIsXCJudWxsXCJdKSl0aHJvdyBuZXcgRnQoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICR7Z3QoT3QodCkpfSBpbnN0ZWFkLmApO2lmKCF4dChuLFtcInN0cmluZ1wiLFwiYXJyYXlcIl0pKXRocm93IG5ldyBGdChgRXhwZWN0ZWQgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgJHtndChPdChuKSl9IGluc3RlYWQuYCk7cmV0dXJuIG4uaW5kZXhPZih0KT49MH1lYWNoQ2hpbGQoZSl7ZSh0aGlzLm5lZWRsZSksZSh0aGlzLmhheXN0YWNrKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITB9c2VyaWFsaXplKCl7cmV0dXJuW1wiaW5cIix0aGlzLm5lZWRsZS5zZXJpYWxpemUoKSx0aGlzLmhheXN0YWNrLnNlcmlhbGl6ZSgpXX19dmFyIEtuPVFuO2NsYXNzIGVpe2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnR5cGU9YXQsdGhpcy5uZWVkbGU9ZSx0aGlzLmhheXN0YWNrPXQsdGhpcy5mcm9tSW5kZXg9bn1zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDw9Mnx8ZS5sZW5ndGg+PTUpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIDMgb3IgNCBhcmd1bWVudHMsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgbj10LnBhcnNlKGVbMV0sMSxodCksaT10LnBhcnNlKGVbMl0sMixodCk7aWYoIW58fCFpKXJldHVybiBudWxsO2lmKCF2dChuLnR5cGUsW2x0LHN0LGF0LG90LGh0XSkpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIgb3IgbnVsbCwgYnV0IGZvdW5kICR7Z3Qobi50eXBlKX0gaW5zdGVhZGApO2lmKDQ9PT1lLmxlbmd0aCl7Y29uc3Qgcj10LnBhcnNlKGVbM10sMyxhdCk7cmV0dXJuIHI/bmV3IGVpKG4saSxyKTpudWxsfXJldHVybiBuZXcgZWkobixpKX1ldmFsdWF0ZShlKXtjb25zdCB0PXRoaXMubmVlZGxlLmV2YWx1YXRlKGUpLG49dGhpcy5oYXlzdGFjay5ldmFsdWF0ZShlKTtpZigheHQodCxbXCJib29sZWFuXCIsXCJzdHJpbmdcIixcIm51bWJlclwiLFwibnVsbFwiXSkpdGhyb3cgbmV3IEZ0KGBFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyIG9yIG51bGwsIGJ1dCBmb3VuZCAke2d0KE90KHQpKX0gaW5zdGVhZC5gKTtpZigheHQobixbXCJzdHJpbmdcIixcImFycmF5XCJdKSl0aHJvdyBuZXcgRnQoYEV4cGVjdGVkIHNlY29uZCBhcmd1bWVudCB0byBiZSBvZiB0eXBlIGFycmF5IG9yIHN0cmluZywgYnV0IGZvdW5kICR7Z3QoT3QobikpfSBpbnN0ZWFkLmApO2lmKHRoaXMuZnJvbUluZGV4KXtjb25zdCBpPXRoaXMuZnJvbUluZGV4LmV2YWx1YXRlKGUpO3JldHVybiBuLmluZGV4T2YodCxpKX1yZXR1cm4gbi5pbmRleE9mKHQpfWVhY2hDaGlsZChlKXtlKHRoaXMubmVlZGxlKSxlKHRoaXMuaGF5c3RhY2spLHRoaXMuZnJvbUluZGV4JiZlKHRoaXMuZnJvbUluZGV4KX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7aWYobnVsbCE9dGhpcy5mcm9tSW5kZXgmJnZvaWQgMCE9PXRoaXMuZnJvbUluZGV4KXtjb25zdCBlPXRoaXMuZnJvbUluZGV4LnNlcmlhbGl6ZSgpO3JldHVybltcImluZGV4LW9mXCIsdGhpcy5uZWVkbGUuc2VyaWFsaXplKCksdGhpcy5oYXlzdGFjay5zZXJpYWxpemUoKSxlXX1yZXR1cm5bXCJpbmRleC1vZlwiLHRoaXMubmVlZGxlLnNlcmlhbGl6ZSgpLHRoaXMuaGF5c3RhY2suc2VyaWFsaXplKCldfX12YXIgdGk9ZWk7Y2xhc3Mgbml7Y29uc3RydWN0b3IoZSx0LG4saSxyLG8pe3RoaXMuaW5wdXRUeXBlPWUsdGhpcy50eXBlPXQsdGhpcy5pbnB1dD1uLHRoaXMuY2FzZXM9aSx0aGlzLm91dHB1dHM9cix0aGlzLm90aGVyd2lzZT1vfXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPDUpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0IDQgYXJndW1lbnRzLCBidXQgZm91bmQgb25seSAke2UubGVuZ3RoLTF9LmApO2lmKGUubGVuZ3RoJTIhPTEpcmV0dXJuIHQuZXJyb3IoXCJFeHBlY3RlZCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO2xldCBuLGk7dC5leHBlY3RlZFR5cGUmJlwidmFsdWVcIiE9PXQuZXhwZWN0ZWRUeXBlLmtpbmQmJihpPXQuZXhwZWN0ZWRUeXBlKTtjb25zdCByPXt9LG89W107Zm9yKGxldCBhPTI7YTxlLmxlbmd0aC0xO2ErPTIpe2xldCBzPWVbYV07Y29uc3QgbD1lW2ErMV07QXJyYXkuaXNBcnJheShzKXx8KHM9W3NdKTtjb25zdCBjPXQuY29uY2F0KGEpO2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gYy5lcnJvcihcIkV4cGVjdGVkIGF0IGxlYXN0IG9uZSBicmFuY2ggbGFiZWwuXCIpO2Zvcihjb25zdCBlIG9mIHMpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlJiZcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gYy5lcnJvcihcIkJyYW5jaCBsYWJlbHMgbXVzdCBiZSBudW1iZXJzIG9yIHN0cmluZ3MuXCIpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlJiZNYXRoLmFicyhlKT5OdW1iZXIuTUFYX1NBRkVfSU5URUdFUilyZXR1cm4gYy5lcnJvcihgQnJhbmNoIGxhYmVscyBtdXN0IGJlIGludGVnZXJzIG5vIGxhcmdlciB0aGFuICR7TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJ9LmApO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlJiZNYXRoLmZsb29yKGUpIT09ZSlyZXR1cm4gYy5lcnJvcihcIk51bWVyaWMgYnJhbmNoIGxhYmVscyBtdXN0IGJlIGludGVnZXIgdmFsdWVzLlwiKTtpZihuKXtpZihjLmNoZWNrU3VidHlwZShuLE90KGUpKSlyZXR1cm4gbnVsbH1lbHNlIG49T3QoZSk7aWYodm9pZCAwIT09cltTdHJpbmcoZSldKXJldHVybiBjLmVycm9yKFwiQnJhbmNoIGxhYmVscyBtdXN0IGJlIHVuaXF1ZS5cIik7cltTdHJpbmcoZSldPW8ubGVuZ3RofWNvbnN0IHU9dC5wYXJzZShsLGEsaSk7aWYoIXUpcmV0dXJuIG51bGw7aT1pfHx1LnR5cGUsby5wdXNoKHUpfWNvbnN0IGE9dC5wYXJzZShlWzFdLDEsaHQpO2lmKCFhKXJldHVybiBudWxsO2NvbnN0IHM9dC5wYXJzZShlW2UubGVuZ3RoLTFdLGUubGVuZ3RoLTEsaSk7cmV0dXJuIHM/XCJ2YWx1ZVwiIT09YS50eXBlLmtpbmQmJnQuY29uY2F0KDEpLmNoZWNrU3VidHlwZShuLGEudHlwZSk/bnVsbDpuZXcgbmkobixpLGEscixvLHMpOm51bGx9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmlucHV0LmV2YWx1YXRlKGUpO3JldHVybihPdCh0KT09PXRoaXMuaW5wdXRUeXBlJiZ0aGlzLm91dHB1dHNbdGhpcy5jYXNlc1t0XV18fHRoaXMub3RoZXJ3aXNlKS5ldmFsdWF0ZShlKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0KSx0aGlzLm91dHB1dHMuZm9yRWFjaChlKSxlKHRoaXMub3RoZXJ3aXNlKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuIHRoaXMub3V0cHV0cy5ldmVyeShlPT5lLm91dHB1dERlZmluZWQoKSkmJnRoaXMub3RoZXJ3aXNlLm91dHB1dERlZmluZWQoKX1zZXJpYWxpemUoKXtjb25zdCBlPVtcIm1hdGNoXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKV0sdD1PYmplY3Qua2V5cyh0aGlzLmNhc2VzKS5zb3J0KCksbj1bXSxpPXt9O2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9aVt0aGlzLmNhc2VzW2VdXTt2b2lkIDA9PT10PyhpW3RoaXMuY2FzZXNbZV1dPW4ubGVuZ3RoLG4ucHVzaChbdGhpcy5jYXNlc1tlXSxbZV1dKSk6blt0XVsxXS5wdXNoKGUpfWNvbnN0IHI9ZT0+XCJudW1iZXJcIj09PXRoaXMuaW5wdXRUeXBlLmtpbmQ/TnVtYmVyKGUpOmU7Zm9yKGNvbnN0W3QsaV1vZiBuKWUucHVzaCgxPT09aS5sZW5ndGg/cihpWzBdKTppLm1hcChyKSksZS5wdXNoKHRoaXMub3V0cHV0c1t0XS5zZXJpYWxpemUoKSk7cmV0dXJuIGUucHVzaCh0aGlzLm90aGVyd2lzZS5zZXJpYWxpemUoKSksZX19dmFyIGlpPW5pO2NsYXNzIHJpe2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnR5cGU9ZSx0aGlzLmJyYW5jaGVzPXQsdGhpcy5vdGhlcndpc2U9bn1zdGF0aWMgcGFyc2UoZSx0KXtpZihlLmxlbmd0aDw0KXJldHVybiB0LmVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAzIGFyZ3VtZW50cywgYnV0IGZvdW5kIG9ubHkgJHtlLmxlbmd0aC0xfS5gKTtpZihlLmxlbmd0aCUyIT0wKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgYW4gb2RkIG51bWJlciBvZiBhcmd1bWVudHMuXCIpO2xldCBuO3QuZXhwZWN0ZWRUeXBlJiZcInZhbHVlXCIhPT10LmV4cGVjdGVkVHlwZS5raW5kJiYobj10LmV4cGVjdGVkVHlwZSk7Y29uc3QgaT1bXTtmb3IobGV0IHI9MTtyPGUubGVuZ3RoLTE7cis9Mil7Y29uc3Qgbz10LnBhcnNlKGVbcl0scixsdCk7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3QgYT10LnBhcnNlKGVbcisxXSxyKzEsbik7aWYoIWEpcmV0dXJuIG51bGw7aS5wdXNoKFtvLGFdKSxuPW58fGEudHlwZX1jb25zdCByPXQucGFyc2UoZVtlLmxlbmd0aC0xXSxlLmxlbmd0aC0xLG4pO3JldHVybiByP25ldyByaShuLGkscik6bnVsbH1ldmFsdWF0ZShlKXtmb3IoY29uc3RbdCxuXW9mIHRoaXMuYnJhbmNoZXMpaWYodC5ldmFsdWF0ZShlKSlyZXR1cm4gbi5ldmFsdWF0ZShlKTtyZXR1cm4gdGhpcy5vdGhlcndpc2UuZXZhbHVhdGUoZSl9ZWFjaENoaWxkKGUpe2Zvcihjb25zdFt0LG5db2YgdGhpcy5icmFuY2hlcyllKHQpLGUobik7ZSh0aGlzLm90aGVyd2lzZSl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiB0aGlzLmJyYW5jaGVzLmV2ZXJ5KChbZSx0XSk9PnQub3V0cHV0RGVmaW5lZCgpKSYmdGhpcy5vdGhlcndpc2Uub3V0cHV0RGVmaW5lZCgpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wiY2FzZVwiXTtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQodD0+e2UucHVzaCh0LnNlcmlhbGl6ZSgpKX0pLGV9fXZhciBvaT1yaTtjbGFzcyBhaXtjb25zdHJ1Y3RvcihlLHQsbixpKXt0aGlzLnR5cGU9ZSx0aGlzLmlucHV0PXQsdGhpcy5iZWdpbkluZGV4PW4sdGhpcy5lbmRJbmRleD1pfXN0YXRpYyBwYXJzZShlLHQpe2lmKGUubGVuZ3RoPD0yfHxlLmxlbmd0aD49NSlyZXR1cm4gdC5lcnJvcihgRXhwZWN0ZWQgMyBvciA0IGFyZ3VtZW50cywgYnV0IGZvdW5kICR7ZS5sZW5ndGgtMX0gaW5zdGVhZC5gKTtjb25zdCBuPXQucGFyc2UoZVsxXSwxLGh0KSxpPXQucGFyc2UoZVsyXSwyLGF0KTtpZighbnx8IWkpcmV0dXJuIG51bGw7aWYoIXZ0KG4udHlwZSxbbXQoaHQpLHN0LGh0XSkpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGJlIG9mIHR5cGUgYXJyYXkgb3Igc3RyaW5nLCBidXQgZm91bmQgJHtndChuLnR5cGUpfSBpbnN0ZWFkYCk7aWYoND09PWUubGVuZ3RoKXtjb25zdCByPXQucGFyc2UoZVszXSwzLGF0KTtyZXR1cm4gcj9uZXcgYWkobi50eXBlLG4saSxyKTpudWxsfXJldHVybiBuZXcgYWkobi50eXBlLG4saSl9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmlucHV0LmV2YWx1YXRlKGUpLG49dGhpcy5iZWdpbkluZGV4LmV2YWx1YXRlKGUpO2lmKCF4dCh0LFtcInN0cmluZ1wiLFwiYXJyYXlcIl0pKXRocm93IG5ldyBGdChgRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gYmUgb2YgdHlwZSBhcnJheSBvciBzdHJpbmcsIGJ1dCBmb3VuZCAke2d0KE90KHQpKX0gaW5zdGVhZC5gKTtpZih0aGlzLmVuZEluZGV4KXtjb25zdCBpPXRoaXMuZW5kSW5kZXguZXZhbHVhdGUoZSk7cmV0dXJuIHQuc2xpY2UobixpKX1yZXR1cm4gdC5zbGljZShuKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmlucHV0KSxlKHRoaXMuYmVnaW5JbmRleCksdGhpcy5lbmRJbmRleCYmZSh0aGlzLmVuZEluZGV4KX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7aWYobnVsbCE9dGhpcy5lbmRJbmRleCYmdm9pZCAwIT09dGhpcy5lbmRJbmRleCl7Y29uc3QgZT10aGlzLmVuZEluZGV4LnNlcmlhbGl6ZSgpO3JldHVybltcInNsaWNlXCIsdGhpcy5pbnB1dC5zZXJpYWxpemUoKSx0aGlzLmJlZ2luSW5kZXguc2VyaWFsaXplKCksZV19cmV0dXJuW1wic2xpY2VcIix0aGlzLmlucHV0LnNlcmlhbGl6ZSgpLHRoaXMuYmVnaW5JbmRleC5zZXJpYWxpemUoKV19fXZhciBzaT1haTtmdW5jdGlvbiBsaShlLHQpe3JldHVyblwiPT1cIj09PWV8fFwiIT1cIj09PWU/XCJib29sZWFuXCI9PT10LmtpbmR8fFwic3RyaW5nXCI9PT10LmtpbmR8fFwibnVtYmVyXCI9PT10LmtpbmR8fFwibnVsbFwiPT09dC5raW5kfHxcInZhbHVlXCI9PT10LmtpbmQ6XCJzdHJpbmdcIj09PXQua2luZHx8XCJudW1iZXJcIj09PXQua2luZHx8XCJ2YWx1ZVwiPT09dC5raW5kfWZ1bmN0aW9uIGNpKGUsdCxuLGkpe3JldHVybiAwPT09aS5jb21wYXJlKHQsbil9ZnVuY3Rpb24gdWkoZSx0LG4pe2NvbnN0IGk9XCI9PVwiIT09ZSYmXCIhPVwiIT09ZTtyZXR1cm4gY2xhc3Mgcntjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy50eXBlPWx0LHRoaXMubGhzPWUsdGhpcy5yaHM9dCx0aGlzLmNvbGxhdG9yPW4sdGhpcy5oYXNVbnR5cGVkQXJndW1lbnQ9XCJ2YWx1ZVwiPT09ZS50eXBlLmtpbmR8fFwidmFsdWVcIj09PXQudHlwZS5raW5kfXN0YXRpYyBwYXJzZShlLHQpe2lmKDMhPT1lLmxlbmd0aCYmNCE9PWUubGVuZ3RoKXJldHVybiB0LmVycm9yKFwiRXhwZWN0ZWQgdHdvIG9yIHRocmVlIGFyZ3VtZW50cy5cIik7Y29uc3Qgbj1lWzBdO2xldCBvPXQucGFyc2UoZVsxXSwxLGh0KTtpZighbylyZXR1cm4gbnVsbDtpZighbGkobixvLnR5cGUpKXJldHVybiB0LmNvbmNhdCgxKS5lcnJvcihgXCIke259XCIgY29tcGFyaXNvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHR5cGUgJyR7Z3Qoby50eXBlKX0nLmApO2xldCBhPXQucGFyc2UoZVsyXSwyLGh0KTtpZighYSlyZXR1cm4gbnVsbDtpZighbGkobixhLnR5cGUpKXJldHVybiB0LmNvbmNhdCgyKS5lcnJvcihgXCIke259XCIgY29tcGFyaXNvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIHR5cGUgJyR7Z3QoYS50eXBlKX0nLmApO2lmKG8udHlwZS5raW5kIT09YS50eXBlLmtpbmQmJlwidmFsdWVcIiE9PW8udHlwZS5raW5kJiZcInZhbHVlXCIhPT1hLnR5cGUua2luZClyZXR1cm4gdC5lcnJvcihgQ2Fubm90IGNvbXBhcmUgdHlwZXMgJyR7Z3Qoby50eXBlKX0nIGFuZCAnJHtndChhLnR5cGUpfScuYCk7aSYmKFwidmFsdWVcIj09PW8udHlwZS5raW5kJiZcInZhbHVlXCIhPT1hLnR5cGUua2luZD9vPW5ldyBWdChhLnR5cGUsW29dKTpcInZhbHVlXCIhPT1vLnR5cGUua2luZCYmXCJ2YWx1ZVwiPT09YS50eXBlLmtpbmQmJihhPW5ldyBWdChvLnR5cGUsW2FdKSkpO2xldCBzPW51bGw7aWYoND09PWUubGVuZ3RoKXtpZihcInN0cmluZ1wiIT09by50eXBlLmtpbmQmJlwic3RyaW5nXCIhPT1hLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09by50eXBlLmtpbmQmJlwidmFsdWVcIiE9PWEudHlwZS5raW5kKXJldHVybiB0LmVycm9yKFwiQ2Fubm90IHVzZSBjb2xsYXRvciB0byBjb21wYXJlIG5vbi1zdHJpbmcgdHlwZXMuXCIpO2lmKHM9dC5wYXJzZShlWzNdLDMsZHQpLCFzKXJldHVybiBudWxsfXJldHVybiBuZXcgcihvLGEscyl9ZXZhbHVhdGUocil7Y29uc3Qgbz10aGlzLmxocy5ldmFsdWF0ZShyKSxhPXRoaXMucmhzLmV2YWx1YXRlKHIpO2lmKGkmJnRoaXMuaGFzVW50eXBlZEFyZ3VtZW50KXtjb25zdCB0PU90KG8pLG49T3QoYSk7aWYodC5raW5kIT09bi5raW5kfHxcInN0cmluZ1wiIT09dC5raW5kJiZcIm51bWJlclwiIT09dC5raW5kKXRocm93IG5ldyBGdChgRXhwZWN0ZWQgYXJndW1lbnRzIGZvciBcIiR7ZX1cIiB0byBiZSAoc3RyaW5nLCBzdHJpbmcpIG9yIChudW1iZXIsIG51bWJlciksIGJ1dCBmb3VuZCAoJHt0LmtpbmR9LCAke24ua2luZH0pIGluc3RlYWQuYCl9aWYodGhpcy5jb2xsYXRvciYmIWkmJnRoaXMuaGFzVW50eXBlZEFyZ3VtZW50KXtjb25zdCBlPU90KG8pLG49T3QoYSk7aWYoXCJzdHJpbmdcIiE9PWUua2luZHx8XCJzdHJpbmdcIiE9PW4ua2luZClyZXR1cm4gdChyLG8sYSl9cmV0dXJuIHRoaXMuY29sbGF0b3I/bihyLG8sYSx0aGlzLmNvbGxhdG9yLmV2YWx1YXRlKHIpKTp0KHIsbyxhKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLmxocyksZSh0aGlzLnJocyksdGhpcy5jb2xsYXRvciYmZSh0aGlzLmNvbGxhdG9yKX1vdXRwdXREZWZpbmVkKCl7cmV0dXJuITB9c2VyaWFsaXplKCl7Y29uc3QgdD1bZV07cmV0dXJuIHRoaXMuZWFjaENoaWxkKGU9Pnt0LnB1c2goZS5zZXJpYWxpemUoKSl9KSx0fX19Y29uc3QgaGk9dWkoXCI9PVwiLChmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ9PT1ufSksY2kpLGRpPXVpKFwiIT1cIiwoZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0IT09bn0pLChmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4hY2koMCx0LG4saSl9KSkscGk9dWkoXCI8XCIsKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdDxufSksKGZ1bmN0aW9uKGUsdCxuLGkpe3JldHVybiBpLmNvbXBhcmUodCxuKTwwfSkpLGZpPXVpKFwiPlwiLChmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ+bn0pLChmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gaS5jb21wYXJlKHQsbik+MH0pKSxtaT11aShcIjw9XCIsKGZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdDw9bn0pLChmdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gaS5jb21wYXJlKHQsbik8PTB9KSksZ2k9dWkoXCI+PVwiLChmdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ+PW59KSwoZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIGkuY29tcGFyZSh0LG4pPj0wfSkpO2NsYXNzIHlpe2NvbnN0cnVjdG9yKGUsdCxuLGkscixvKXt0aGlzLnR5cGU9c3QsdGhpcy5udW1iZXI9ZSx0aGlzLmxvY2FsZT10LHRoaXMuY3VycmVuY3k9bix0aGlzLnVuaXQ9aSx0aGlzLm1pbkZyYWN0aW9uRGlnaXRzPXIsdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cz1vfXN0YXRpYyBwYXJzZShlLHQpe2lmKDMhPT1lLmxlbmd0aClyZXR1cm4gdC5lcnJvcihcIkV4cGVjdGVkIHR3byBhcmd1bWVudHMuXCIpO2NvbnN0IG49dC5wYXJzZShlWzFdLDEsYXQpO2lmKCFuKXJldHVybiBudWxsO2NvbnN0IGk9ZVsyXTtpZihcIm9iamVjdFwiIT10eXBlb2YgaXx8QXJyYXkuaXNBcnJheShpKSlyZXR1cm4gdC5lcnJvcihcIk51bWJlckZvcm1hdCBvcHRpb25zIGFyZ3VtZW50IG11c3QgYmUgYW4gb2JqZWN0LlwiKTtsZXQgcj1udWxsO2lmKGkubG9jYWxlJiYocj10LnBhcnNlKGkubG9jYWxlLDEsc3QpLCFyKSlyZXR1cm4gbnVsbDtsZXQgbz1udWxsO2lmKGkuY3VycmVuY3kmJihvPXQucGFyc2UoaS5jdXJyZW5jeSwxLHN0KSwhbykpcmV0dXJuIG51bGw7bGV0IGE9bnVsbDtpZihpLnVuaXQmJihhPXQucGFyc2UoaS51bml0LDEsc3QpLCFhKSlyZXR1cm4gbnVsbDtsZXQgcz1udWxsO2lmKGlbXCJtaW4tZnJhY3Rpb24tZGlnaXRzXCJdJiYocz10LnBhcnNlKGlbXCJtaW4tZnJhY3Rpb24tZGlnaXRzXCJdLDEsYXQpLCFzKSlyZXR1cm4gbnVsbDtsZXQgbD1udWxsO3JldHVybiBpW1wibWF4LWZyYWN0aW9uLWRpZ2l0c1wiXSYmKGw9dC5wYXJzZShpW1wibWF4LWZyYWN0aW9uLWRpZ2l0c1wiXSwxLGF0KSwhbCk/bnVsbDpuZXcgeWkobixyLG8sYSxzLGwpfWV2YWx1YXRlKGUpe3JldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQodGhpcy5sb2NhbGU/dGhpcy5sb2NhbGUuZXZhbHVhdGUoZSk6W10se3N0eWxlOih0aGlzLmN1cnJlbmN5P1wiY3VycmVuY3lcIjp0aGlzLnVuaXQmJlwidW5pdFwiKXx8XCJkZWNpbWFsXCIsY3VycmVuY3k6dGhpcy5jdXJyZW5jeT90aGlzLmN1cnJlbmN5LmV2YWx1YXRlKGUpOnZvaWQgMCx1bml0OnRoaXMudW5pdD90aGlzLnVuaXQuZXZhbHVhdGUoZSk6dm9pZCAwLG1pbmltdW1GcmFjdGlvbkRpZ2l0czp0aGlzLm1pbkZyYWN0aW9uRGlnaXRzP3RoaXMubWluRnJhY3Rpb25EaWdpdHMuZXZhbHVhdGUoZSk6dm9pZCAwLG1heGltdW1GcmFjdGlvbkRpZ2l0czp0aGlzLm1heEZyYWN0aW9uRGlnaXRzP3RoaXMubWF4RnJhY3Rpb25EaWdpdHMuZXZhbHVhdGUoZSk6dm9pZCAwfSkuZm9ybWF0KHRoaXMubnVtYmVyLmV2YWx1YXRlKGUpKX1lYWNoQ2hpbGQoZSl7ZSh0aGlzLm51bWJlciksdGhpcy5sb2NhbGUmJmUodGhpcy5sb2NhbGUpLHRoaXMuY3VycmVuY3kmJmUodGhpcy5jdXJyZW5jeSksdGhpcy51bml0JiZlKHRoaXMudW5pdCksdGhpcy5taW5GcmFjdGlvbkRpZ2l0cyYmZSh0aGlzLm1pbkZyYWN0aW9uRGlnaXRzKSx0aGlzLm1heEZyYWN0aW9uRGlnaXRzJiZlKHRoaXMubWF4RnJhY3Rpb25EaWdpdHMpfW91dHB1dERlZmluZWQoKXtyZXR1cm4hMX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLmxvY2FsZSYmKGUubG9jYWxlPXRoaXMubG9jYWxlLnNlcmlhbGl6ZSgpKSx0aGlzLmN1cnJlbmN5JiYoZS5jdXJyZW5jeT10aGlzLmN1cnJlbmN5LnNlcmlhbGl6ZSgpKSx0aGlzLnVuaXQmJihlLnVuaXQ9dGhpcy51bml0LnNlcmlhbGl6ZSgpKSx0aGlzLm1pbkZyYWN0aW9uRGlnaXRzJiYoZVtcIm1pbi1mcmFjdGlvbi1kaWdpdHNcIl09dGhpcy5taW5GcmFjdGlvbkRpZ2l0cy5zZXJpYWxpemUoKSksdGhpcy5tYXhGcmFjdGlvbkRpZ2l0cyYmKGVbXCJtYXgtZnJhY3Rpb24tZGlnaXRzXCJdPXRoaXMubWF4RnJhY3Rpb25EaWdpdHMuc2VyaWFsaXplKCkpLFtcIm51bWJlci1mb3JtYXRcIix0aGlzLm51bWJlci5zZXJpYWxpemUoKSxlXX19Y2xhc3MgX2l7Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPWF0LHRoaXMuaW5wdXQ9ZX1zdGF0aWMgcGFyc2UoZSx0KXtpZigyIT09ZS5sZW5ndGgpcmV0dXJuIHQuZXJyb3IoYEV4cGVjdGVkIDEgYXJndW1lbnQsIGJ1dCBmb3VuZCAke2UubGVuZ3RoLTF9IGluc3RlYWQuYCk7Y29uc3Qgbj10LnBhcnNlKGVbMV0sMSk7cmV0dXJuIG4/XCJhcnJheVwiIT09bi50eXBlLmtpbmQmJlwic3RyaW5nXCIhPT1uLnR5cGUua2luZCYmXCJ2YWx1ZVwiIT09bi50eXBlLmtpbmQ/dC5lcnJvcihgRXhwZWN0ZWQgYXJndW1lbnQgb2YgdHlwZSBzdHJpbmcgb3IgYXJyYXksIGJ1dCBmb3VuZCAke2d0KG4udHlwZSl9IGluc3RlYWQuYCk6bmV3IF9pKG4pOm51bGx9ZXZhbHVhdGUoZSl7Y29uc3QgdD10aGlzLmlucHV0LmV2YWx1YXRlKGUpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB0Lmxlbmd0aDtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0Lmxlbmd0aDt0aHJvdyBuZXcgRnQoYEV4cGVjdGVkIHZhbHVlIHRvIGJlIG9mIHR5cGUgc3RyaW5nIG9yIGFycmF5LCBidXQgZm91bmQgJHtndChPdCh0KSl9IGluc3RlYWQuYCl9ZWFjaENoaWxkKGUpe2UodGhpcy5pbnB1dCl9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe2NvbnN0IGU9W1wibGVuZ3RoXCJdO3JldHVybiB0aGlzLmVhY2hDaGlsZCh0PT57ZS5wdXNoKHQuc2VyaWFsaXplKCkpfSksZX19Y29uc3Qgdmk9e1wiPT1cIjpoaSxcIiE9XCI6ZGksXCI+XCI6ZmksXCI8XCI6cGksXCI+PVwiOmdpLFwiPD1cIjptaSxhcnJheTpWdCxhdDpKbixib29sZWFuOlZ0LGNhc2U6b2ksY29hbGVzY2U6JG4sY29sbGF0b3I6UXQsZm9ybWF0Okd0LGltYWdlOlp0LGluOktuLFwiaW5kZXgtb2ZcIjp0aSxpbnRlcnBvbGF0ZTpXbixcImludGVycG9sYXRlLWhjbFwiOlduLFwiaW50ZXJwb2xhdGUtbGFiXCI6V24sbGVuZ3RoOl9pLGxldDpYbixsaXRlcmFsOmp0LG1hdGNoOmlpLG51bWJlcjpWdCxcIm51bWJlci1mb3JtYXRcIjp5aSxvYmplY3Q6VnQsc2xpY2U6c2ksc3RlcDpJbixzdHJpbmc6VnQsXCJ0by1ib29sZWFuXCI6JHQsXCJ0by1jb2xvclwiOiR0LFwidG8tbnVtYmVyXCI6JHQsXCJ0by1zdHJpbmdcIjokdCx2YXI6d24sd2l0aGluOnlufTtmdW5jdGlvbiB4aShlLFt0LG4saSxyXSl7dD10LmV2YWx1YXRlKGUpLG49bi5ldmFsdWF0ZShlKSxpPWkuZXZhbHVhdGUoZSk7Y29uc3Qgbz1yP3IuZXZhbHVhdGUoZSk6MSxhPUR0KHQsbixpLG8pO2lmKGEpdGhyb3cgbmV3IEZ0KGEpO3JldHVybiBuZXcgQ3QodC8yNTUqbyxuLzI1NSpvLGkvMjU1Km8sbyl9ZnVuY3Rpb24gYmkoZSx0KXtyZXR1cm4gZSBpbiB0fWZ1bmN0aW9uIHdpKGUsdCl7Y29uc3Qgbj10W2VdO3JldHVybiB2b2lkIDA9PT1uP251bGw6bn1mdW5jdGlvbiBUaShlKXtyZXR1cm57dHlwZTplfX1KdC5yZWdpc3Rlcih2aSx7ZXJyb3I6W3traW5kOlwiZXJyb3JcIn0sW3N0XSwoZSxbdF0pPT57dGhyb3cgbmV3IEZ0KHQuZXZhbHVhdGUoZSkpfV0sdHlwZW9mOltzdCxbaHRdLChlLFt0XSk9Pmd0KE90KHQuZXZhbHVhdGUoZSkpKV0sXCJ0by1yZ2JhXCI6W210KGF0LDQpLFtjdF0sKGUsW3RdKT0+dC5ldmFsdWF0ZShlKS50b0FycmF5KCldLHJnYjpbY3QsW2F0LGF0LGF0XSx4aV0scmdiYTpbY3QsW2F0LGF0LGF0LGF0XSx4aV0saGFzOnt0eXBlOmx0LG92ZXJsb2FkczpbW1tzdF0sKGUsW3RdKT0+YmkodC5ldmFsdWF0ZShlKSxlLnByb3BlcnRpZXMoKSldLFtbc3QsdXRdLChlLFt0LG5dKT0+YmkodC5ldmFsdWF0ZShlKSxuLmV2YWx1YXRlKGUpKV1dfSxnZXQ6e3R5cGU6aHQsb3ZlcmxvYWRzOltbW3N0XSwoZSxbdF0pPT53aSh0LmV2YWx1YXRlKGUpLGUucHJvcGVydGllcygpKV0sW1tzdCx1dF0sKGUsW3Qsbl0pPT53aSh0LmV2YWx1YXRlKGUpLG4uZXZhbHVhdGUoZSkpXV19LFwiZmVhdHVyZS1zdGF0ZVwiOltodCxbc3RdLChlLFt0XSk9PndpKHQuZXZhbHVhdGUoZSksZS5mZWF0dXJlU3RhdGV8fHt9KV0scHJvcGVydGllczpbdXQsW10sZT0+ZS5wcm9wZXJ0aWVzKCldLFwiZ2VvbWV0cnktdHlwZVwiOltzdCxbXSxlPT5lLmdlb21ldHJ5VHlwZSgpXSxpZDpbaHQsW10sZT0+ZS5pZCgpXSx6b29tOlthdCxbXSxlPT5lLmdsb2JhbHMuem9vbV0scGl0Y2g6W2F0LFtdLGU9PmUuZ2xvYmFscy5waXRjaHx8MF0sXCJkaXN0YW5jZS1mcm9tLWNlbnRlclwiOlthdCxbXSxlPT5lLmRpc3RhbmNlRnJvbUNlbnRlcigpXSxcImhlYXRtYXAtZGVuc2l0eVwiOlthdCxbXSxlPT5lLmdsb2JhbHMuaGVhdG1hcERlbnNpdHl8fDBdLFwibGluZS1wcm9ncmVzc1wiOlthdCxbXSxlPT5lLmdsb2JhbHMubGluZVByb2dyZXNzfHwwXSxcInNreS1yYWRpYWwtcHJvZ3Jlc3NcIjpbYXQsW10sZT0+ZS5nbG9iYWxzLnNreVJhZGlhbFByb2dyZXNzfHwwXSxhY2N1bXVsYXRlZDpbaHQsW10sZT0+dm9pZCAwPT09ZS5nbG9iYWxzLmFjY3VtdWxhdGVkP251bGw6ZS5nbG9iYWxzLmFjY3VtdWxhdGVkXSxcIitcIjpbYXQsVGkoYXQpLChlLHQpPT57bGV0IG49MDtmb3IoY29uc3QgaSBvZiB0KW4rPWkuZXZhbHVhdGUoZSk7cmV0dXJuIG59XSxcIipcIjpbYXQsVGkoYXQpLChlLHQpPT57bGV0IG49MTtmb3IoY29uc3QgaSBvZiB0KW4qPWkuZXZhbHVhdGUoZSk7cmV0dXJuIG59XSxcIi1cIjp7dHlwZTphdCxvdmVybG9hZHM6W1tbYXQsYXRdLChlLFt0LG5dKT0+dC5ldmFsdWF0ZShlKS1uLmV2YWx1YXRlKGUpXSxbW2F0XSwoZSxbdF0pPT4tdC5ldmFsdWF0ZShlKV1dfSxcIi9cIjpbYXQsW2F0LGF0XSwoZSxbdCxuXSk9PnQuZXZhbHVhdGUoZSkvbi5ldmFsdWF0ZShlKV0sXCIlXCI6W2F0LFthdCxhdF0sKGUsW3Qsbl0pPT50LmV2YWx1YXRlKGUpJW4uZXZhbHVhdGUoZSldLGxuMjpbYXQsW10sKCk9Pk1hdGguTE4yXSxwaTpbYXQsW10sKCk9Pk1hdGguUEldLGU6W2F0LFtdLCgpPT5NYXRoLkVdLFwiXlwiOlthdCxbYXQsYXRdLChlLFt0LG5dKT0+TWF0aC5wb3codC5ldmFsdWF0ZShlKSxuLmV2YWx1YXRlKGUpKV0sc3FydDpbYXQsW2F0XSwoZSxbdF0pPT5NYXRoLnNxcnQodC5ldmFsdWF0ZShlKSldLGxvZzEwOlthdCxbYXRdLChlLFt0XSk9Pk1hdGgubG9nKHQuZXZhbHVhdGUoZSkpL01hdGguTE4xMF0sbG46W2F0LFthdF0sKGUsW3RdKT0+TWF0aC5sb2codC5ldmFsdWF0ZShlKSldLGxvZzI6W2F0LFthdF0sKGUsW3RdKT0+TWF0aC5sb2codC5ldmFsdWF0ZShlKSkvTWF0aC5MTjJdLHNpbjpbYXQsW2F0XSwoZSxbdF0pPT5NYXRoLnNpbih0LmV2YWx1YXRlKGUpKV0sY29zOlthdCxbYXRdLChlLFt0XSk9Pk1hdGguY29zKHQuZXZhbHVhdGUoZSkpXSx0YW46W2F0LFthdF0sKGUsW3RdKT0+TWF0aC50YW4odC5ldmFsdWF0ZShlKSldLGFzaW46W2F0LFthdF0sKGUsW3RdKT0+TWF0aC5hc2luKHQuZXZhbHVhdGUoZSkpXSxhY29zOlthdCxbYXRdLChlLFt0XSk9Pk1hdGguYWNvcyh0LmV2YWx1YXRlKGUpKV0sYXRhbjpbYXQsW2F0XSwoZSxbdF0pPT5NYXRoLmF0YW4odC5ldmFsdWF0ZShlKSldLG1pbjpbYXQsVGkoYXQpLChlLHQpPT5NYXRoLm1pbiguLi50Lm1hcCh0PT50LmV2YWx1YXRlKGUpKSldLG1heDpbYXQsVGkoYXQpLChlLHQpPT5NYXRoLm1heCguLi50Lm1hcCh0PT50LmV2YWx1YXRlKGUpKSldLGFiczpbYXQsW2F0XSwoZSxbdF0pPT5NYXRoLmFicyh0LmV2YWx1YXRlKGUpKV0scm91bmQ6W2F0LFthdF0sKGUsW3RdKT0+e2NvbnN0IG49dC5ldmFsdWF0ZShlKTtyZXR1cm4gbjwwPy1NYXRoLnJvdW5kKC1uKTpNYXRoLnJvdW5kKG4pfV0sZmxvb3I6W2F0LFthdF0sKGUsW3RdKT0+TWF0aC5mbG9vcih0LmV2YWx1YXRlKGUpKV0sY2VpbDpbYXQsW2F0XSwoZSxbdF0pPT5NYXRoLmNlaWwodC5ldmFsdWF0ZShlKSldLFwiZmlsdGVyLT09XCI6W2x0LFtzdCxodF0sKGUsW3Qsbl0pPT5lLnByb3BlcnRpZXMoKVt0LnZhbHVlXT09PW4udmFsdWVdLFwiZmlsdGVyLWlkLT09XCI6W2x0LFtodF0sKGUsW3RdKT0+ZS5pZCgpPT09dC52YWx1ZV0sXCJmaWx0ZXItdHlwZS09PVwiOltsdCxbc3RdLChlLFt0XSk9PmUuZ2VvbWV0cnlUeXBlKCk9PT10LnZhbHVlXSxcImZpbHRlci08XCI6W2x0LFtzdCxodF0sKGUsW3Qsbl0pPT57Y29uc3QgaT1lLnByb3BlcnRpZXMoKVt0LnZhbHVlXSxyPW4udmFsdWU7cmV0dXJuIHR5cGVvZiBpPT10eXBlb2YgciYmaTxyfV0sXCJmaWx0ZXItaWQtPFwiOltsdCxbaHRdLChlLFt0XSk9Pntjb25zdCBuPWUuaWQoKSxpPXQudmFsdWU7cmV0dXJuIHR5cGVvZiBuPT10eXBlb2YgaSYmbjxpfV0sXCJmaWx0ZXItPlwiOltsdCxbc3QsaHRdLChlLFt0LG5dKT0+e2NvbnN0IGk9ZS5wcm9wZXJ0aWVzKClbdC52YWx1ZV0scj1uLnZhbHVlO3JldHVybiB0eXBlb2YgaT09dHlwZW9mIHImJmk+cn1dLFwiZmlsdGVyLWlkLT5cIjpbbHQsW2h0XSwoZSxbdF0pPT57Y29uc3Qgbj1lLmlkKCksaT10LnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm4+aX1dLFwiZmlsdGVyLTw9XCI6W2x0LFtzdCxodF0sKGUsW3Qsbl0pPT57Y29uc3QgaT1lLnByb3BlcnRpZXMoKVt0LnZhbHVlXSxyPW4udmFsdWU7cmV0dXJuIHR5cGVvZiBpPT10eXBlb2YgciYmaTw9cn1dLFwiZmlsdGVyLWlkLTw9XCI6W2x0LFtodF0sKGUsW3RdKT0+e2NvbnN0IG49ZS5pZCgpLGk9dC52YWx1ZTtyZXR1cm4gdHlwZW9mIG49PXR5cGVvZiBpJiZuPD1pfV0sXCJmaWx0ZXItPj1cIjpbbHQsW3N0LGh0XSwoZSxbdCxuXSk9Pntjb25zdCBpPWUucHJvcGVydGllcygpW3QudmFsdWVdLHI9bi52YWx1ZTtyZXR1cm4gdHlwZW9mIGk9PXR5cGVvZiByJiZpPj1yfV0sXCJmaWx0ZXItaWQtPj1cIjpbbHQsW2h0XSwoZSxbdF0pPT57Y29uc3Qgbj1lLmlkKCksaT10LnZhbHVlO3JldHVybiB0eXBlb2Ygbj09dHlwZW9mIGkmJm4+PWl9XSxcImZpbHRlci1oYXNcIjpbbHQsW2h0XSwoZSxbdF0pPT50LnZhbHVlIGluIGUucHJvcGVydGllcygpXSxcImZpbHRlci1oYXMtaWRcIjpbbHQsW10sZT0+bnVsbCE9PWUuaWQoKSYmdm9pZCAwIT09ZS5pZCgpXSxcImZpbHRlci10eXBlLWluXCI6W2x0LFttdChzdCldLChlLFt0XSk9PnQudmFsdWUuaW5kZXhPZihlLmdlb21ldHJ5VHlwZSgpKT49MF0sXCJmaWx0ZXItaWQtaW5cIjpbbHQsW210KGh0KV0sKGUsW3RdKT0+dC52YWx1ZS5pbmRleE9mKGUuaWQoKSk+PTBdLFwiZmlsdGVyLWluLXNtYWxsXCI6W2x0LFtzdCxtdChodCldLChlLFt0LG5dKT0+bi52YWx1ZS5pbmRleE9mKGUucHJvcGVydGllcygpW3QudmFsdWVdKT49MF0sXCJmaWx0ZXItaW4tbGFyZ2VcIjpbbHQsW3N0LG10KGh0KV0sKGUsW3Qsbl0pPT5mdW5jdGlvbihlLHQsbixpKXtmb3IoO248PWk7KXtjb25zdCByPW4raT4+MTtpZih0W3JdPT09ZSlyZXR1cm4hMDt0W3JdPmU/aT1yLTE6bj1yKzF9cmV0dXJuITF9KGUucHJvcGVydGllcygpW3QudmFsdWVdLG4udmFsdWUsMCxuLnZhbHVlLmxlbmd0aC0xKV0sYWxsOnt0eXBlOmx0LG92ZXJsb2FkczpbW1tsdCxsdF0sKGUsW3Qsbl0pPT50LmV2YWx1YXRlKGUpJiZuLmV2YWx1YXRlKGUpXSxbVGkobHQpLChlLHQpPT57Zm9yKGNvbnN0IG4gb2YgdClpZighbi5ldmFsdWF0ZShlKSlyZXR1cm4hMTtyZXR1cm4hMH1dXX0sYW55Ont0eXBlOmx0LG92ZXJsb2FkczpbW1tsdCxsdF0sKGUsW3Qsbl0pPT50LmV2YWx1YXRlKGUpfHxuLmV2YWx1YXRlKGUpXSxbVGkobHQpLChlLHQpPT57Zm9yKGNvbnN0IG4gb2YgdClpZihuLmV2YWx1YXRlKGUpKXJldHVybiEwO3JldHVybiExfV1dfSxcIiFcIjpbbHQsW2x0XSwoZSxbdF0pPT4hdC5ldmFsdWF0ZShlKV0sXCJpcy1zdXBwb3J0ZWQtc2NyaXB0XCI6W2x0LFtzdF0sKGUsW3RdKT0+e2NvbnN0IG49ZS5nbG9iYWxzJiZlLmdsb2JhbHMuaXNTdXBwb3J0ZWRTY3JpcHQ7cmV0dXJuIW58fG4odC5ldmFsdWF0ZShlKSl9XSx1cGNhc2U6W3N0LFtzdF0sKGUsW3RdKT0+dC5ldmFsdWF0ZShlKS50b1VwcGVyQ2FzZSgpXSxkb3duY2FzZTpbc3QsW3N0XSwoZSxbdF0pPT50LmV2YWx1YXRlKGUpLnRvTG93ZXJDYXNlKCldLGNvbmNhdDpbc3QsVGkoaHQpLChlLHQpPT50Lm1hcCh0PT5SdCh0LmV2YWx1YXRlKGUpKSkuam9pbihcIlwiKV0sXCJyZXNvbHZlZC1sb2NhbGVcIjpbc3QsW2R0XSwoZSxbdF0pPT50LmV2YWx1YXRlKGUpLnJlc29sdmVkTG9jYWxlKCldfSk7dmFyIEVpPXZpO2Z1bmN0aW9uIFNpKGUpe3JldHVybntyZXN1bHQ6XCJzdWNjZXNzXCIsdmFsdWU6ZX19ZnVuY3Rpb24gTWkoZSl7cmV0dXJue3Jlc3VsdDpcImVycm9yXCIsdmFsdWU6ZX19ZnVuY3Rpb24gSWkoZSl7cmV0dXJuXCJkYXRhLWRyaXZlblwiPT09ZVtcInByb3BlcnR5LXR5cGVcIl19ZnVuY3Rpb24gQ2koZSl7cmV0dXJuISFlLmV4cHJlc3Npb24mJmUuZXhwcmVzc2lvbi5wYXJhbWV0ZXJzLmluZGV4T2YoXCJ6b29tXCIpPi0xfWZ1bmN0aW9uIGtpKGUpe3JldHVybiEhZS5leHByZXNzaW9uJiZlLmV4cHJlc3Npb24uaW50ZXJwb2xhdGVkfWZ1bmN0aW9uIEFpKGUpe3JldHVybiBlIGluc3RhbmNlb2YgTnVtYmVyP1wibnVtYmVyXCI6ZSBpbnN0YW5jZW9mIFN0cmluZz9cInN0cmluZ1wiOmUgaW5zdGFuY2VvZiBCb29sZWFuP1wiYm9vbGVhblwiOkFycmF5LmlzQXJyYXkoZSk/XCJhcnJheVwiOm51bGw9PT1lP1wibnVsbFwiOnR5cGVvZiBlfWZ1bmN0aW9uIFBpKGUpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmIUFycmF5LmlzQXJyYXkoZSl9ZnVuY3Rpb24gemkoZSl7cmV0dXJuIGV9ZnVuY3Rpb24gRGkoZSx0LG4pe3JldHVybiB2b2lkIDAhPT1lP2U6dm9pZCAwIT09dD90OnZvaWQgMCE9PW4/bjp2b2lkIDB9ZnVuY3Rpb24gTGkoZSx0LG4saSxyKXtyZXR1cm4gRGkodHlwZW9mIG49PT1yP2lbbl06dm9pZCAwLGUuZGVmYXVsdCx0LmRlZmF1bHQpfWZ1bmN0aW9uIE9pKGUsdCxuKXtpZihcIm51bWJlclwiIT09QWkobikpcmV0dXJuIERpKGUuZGVmYXVsdCx0LmRlZmF1bHQpO2NvbnN0IGk9ZS5zdG9wcy5sZW5ndGg7aWYoMT09PWkpcmV0dXJuIGUuc3RvcHNbMF1bMV07aWYobjw9ZS5zdG9wc1swXVswXSlyZXR1cm4gZS5zdG9wc1swXVsxXTtpZihuPj1lLnN0b3BzW2ktMV1bMF0pcmV0dXJuIGUuc3RvcHNbaS0xXVsxXTtjb25zdCByPVNuKGUuc3RvcHMubWFwKGU9PmVbMF0pLG4pO3JldHVybiBlLnN0b3BzW3JdWzFdfWZ1bmN0aW9uIFJpKGUsdCxuKXtjb25zdCBpPXZvaWQgMCE9PWUuYmFzZT9lLmJhc2U6MTtpZihcIm51bWJlclwiIT09QWkobikpcmV0dXJuIERpKGUuZGVmYXVsdCx0LmRlZmF1bHQpO2NvbnN0IHI9ZS5zdG9wcy5sZW5ndGg7aWYoMT09PXIpcmV0dXJuIGUuc3RvcHNbMF1bMV07aWYobjw9ZS5zdG9wc1swXVswXSlyZXR1cm4gZS5zdG9wc1swXVsxXTtpZihuPj1lLnN0b3BzW3ItMV1bMF0pcmV0dXJuIGUuc3RvcHNbci0xXVsxXTtjb25zdCBvPVNuKGUuc3RvcHMubWFwKGU9PmVbMF0pLG4pLGE9ZnVuY3Rpb24oZSx0LG4saSl7Y29uc3Qgcj1pLW4sbz1lLW47cmV0dXJuIDA9PT1yPzA6MT09PXQ/by9yOihNYXRoLnBvdyh0LG8pLTEpLyhNYXRoLnBvdyh0LHIpLTEpfShuLGksZS5zdG9wc1tvXVswXSxlLnN0b3BzW28rMV1bMF0pLHM9ZS5zdG9wc1tvXVsxXSxsPWUuc3RvcHNbbysxXVsxXTtsZXQgYz1rblt0LnR5cGVdfHx6aTtpZihlLmNvbG9yU3BhY2UmJlwicmdiXCIhPT1lLmNvbG9yU3BhY2Upe2NvbnN0IHQ9Vm5bZS5jb2xvclNwYWNlXTtjPShlLG4pPT50LnJldmVyc2UodC5pbnRlcnBvbGF0ZSh0LmZvcndhcmQoZSksdC5mb3J3YXJkKG4pLGEpKX1yZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBzLmV2YWx1YXRlP3tldmFsdWF0ZSguLi5lKXtjb25zdCB0PXMuZXZhbHVhdGUuYXBwbHkodm9pZCAwLGUpLG49bC5ldmFsdWF0ZS5hcHBseSh2b2lkIDAsZSk7aWYodm9pZCAwIT09dCYmdm9pZCAwIT09bilyZXR1cm4gYyh0LG4sYSl9fTpjKHMsbCxhKX1mdW5jdGlvbiBCaShlLHQsbil7cmV0dXJuXCJjb2xvclwiPT09dC50eXBlP249Q3QucGFyc2Uobik6XCJmb3JtYXR0ZWRcIj09PXQudHlwZT9uPVB0LmZyb21TdHJpbmcobi50b1N0cmluZygpKTpcInJlc29sdmVkSW1hZ2VcIj09PXQudHlwZT9uPXp0LmZyb21TdHJpbmcobi50b1N0cmluZygpKTpBaShuKT09PXQudHlwZXx8XCJlbnVtXCI9PT10LnR5cGUmJnQudmFsdWVzW25dfHwobj12b2lkIDApLERpKG4sZS5kZWZhdWx0LHQuZGVmYXVsdCl9Y2xhc3Mgaml7Y29uc3RydWN0b3IoZSx0KXt0aGlzLmV4cHJlc3Npb249ZSx0aGlzLl93YXJuaW5nSGlzdG9yeT17fSx0aGlzLl9ldmFsdWF0b3I9bmV3IFh0LHRoaXMuX2RlZmF1bHRWYWx1ZT10P2Z1bmN0aW9uKGUpe3JldHVyblwiY29sb3JcIj09PWUudHlwZSYmKFBpKGUuZGVmYXVsdCl8fEFycmF5LmlzQXJyYXkoZS5kZWZhdWx0KSk/bmV3IEN0KDAsMCwwLDApOlwiY29sb3JcIj09PWUudHlwZT9DdC5wYXJzZShlLmRlZmF1bHQpfHxudWxsOnZvaWQgMD09PWUuZGVmYXVsdD9udWxsOmUuZGVmYXVsdH0odCk6bnVsbCx0aGlzLl9lbnVtVmFsdWVzPXQmJlwiZW51bVwiPT09dC50eXBlP3QudmFsdWVzOm51bGx9ZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyhlLHQsbixpLHIsbyxhLHMpe3JldHVybiB0aGlzLl9ldmFsdWF0b3IuZ2xvYmFscz1lLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlPXQsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVTdGF0ZT1uLHRoaXMuX2V2YWx1YXRvci5jYW5vbmljYWw9aXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuYXZhaWxhYmxlSW1hZ2VzPXJ8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZvcm1hdHRlZFNlY3Rpb249byx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVRpbGVDb29yZD1hfHxudWxsLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlRGlzdGFuY2VEYXRhPXN8fG51bGwsdGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHRoaXMuX2V2YWx1YXRvcil9ZXZhbHVhdGUoZSx0LG4saSxyLG8sYSxzKXt0aGlzLl9ldmFsdWF0b3IuZ2xvYmFscz1lLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlPXR8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZlYXR1cmVTdGF0ZT1ufHxudWxsLHRoaXMuX2V2YWx1YXRvci5jYW5vbmljYWw9aXx8bnVsbCx0aGlzLl9ldmFsdWF0b3IuYXZhaWxhYmxlSW1hZ2VzPXJ8fG51bGwsdGhpcy5fZXZhbHVhdG9yLmZvcm1hdHRlZFNlY3Rpb249b3x8bnVsbCx0aGlzLl9ldmFsdWF0b3IuZmVhdHVyZVRpbGVDb29yZD1hfHxudWxsLHRoaXMuX2V2YWx1YXRvci5mZWF0dXJlRGlzdGFuY2VEYXRhPXN8fG51bGw7dHJ5e2NvbnN0IGU9dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHRoaXMuX2V2YWx1YXRvcik7aWYobnVsbD09ZXx8XCJudW1iZXJcIj09dHlwZW9mIGUmJmUhPWUpcmV0dXJuIHRoaXMuX2RlZmF1bHRWYWx1ZTtpZih0aGlzLl9lbnVtVmFsdWVzJiYhKGUgaW4gdGhpcy5fZW51bVZhbHVlcykpdGhyb3cgbmV3IEZ0KGBFeHBlY3RlZCB2YWx1ZSB0byBiZSBvbmUgb2YgJHtPYmplY3Qua2V5cyh0aGlzLl9lbnVtVmFsdWVzKS5tYXAoZT0+SlNPTi5zdHJpbmdpZnkoZSkpLmpvaW4oXCIsIFwiKX0sIGJ1dCBmb3VuZCAke0pTT04uc3RyaW5naWZ5KGUpfSBpbnN0ZWFkLmApO3JldHVybiBlfWNhdGNoKGUpe3JldHVybiB0aGlzLl93YXJuaW5nSGlzdG9yeVtlLm1lc3NhZ2VdfHwodGhpcy5fd2FybmluZ0hpc3RvcnlbZS5tZXNzYWdlXT0hMCxcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS53YXJuKGUubWVzc2FnZSkpLHRoaXMuX2RlZmF1bHRWYWx1ZX19fWZ1bmN0aW9uIEZpKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wJiZcInN0cmluZ1wiPT10eXBlb2YgZVswXSYmZVswXWluIEVpfWZ1bmN0aW9uIE5pKGUsdCl7Y29uc3Qgbj1uZXcgRW4oRWksW10sdD9mdW5jdGlvbihlKXtjb25zdCB0PXtjb2xvcjpjdCxzdHJpbmc6c3QsbnVtYmVyOmF0LGVudW06c3QsYm9vbGVhbjpsdCxmb3JtYXR0ZWQ6cHQscmVzb2x2ZWRJbWFnZTpmdH07cmV0dXJuXCJhcnJheVwiPT09ZS50eXBlP210KHRbZS52YWx1ZV18fGh0LGUubGVuZ3RoKTp0W2UudHlwZV19KHQpOnZvaWQgMCksaT1uLnBhcnNlKGUsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdCYmXCJzdHJpbmdcIj09PXQudHlwZT97dHlwZUFubm90YXRpb246XCJjb2VyY2VcIn06dm9pZCAwKTtyZXR1cm4gaT9TaShuZXcgamkoaSx0KSk6TWkobi5lcnJvcnMpfWNsYXNzIFVpe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5raW5kPWUsdGhpcy5fc3R5bGVFeHByZXNzaW9uPXQsdGhpcy5pc1N0YXRlRGVwZW5kZW50PVwiY29uc3RhbnRcIiE9PWUmJiF2bih0LmV4cHJlc3Npb24pfWV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LG4saSxyLG8pe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyhlLHQsbixpLHIsbyl9ZXZhbHVhdGUoZSx0LG4saSxyLG8pe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGUoZSx0LG4saSxyLG8pfX1jbGFzcyBWaXtjb25zdHJ1Y3RvcihlLHQsbixpKXt0aGlzLmtpbmQ9ZSx0aGlzLnpvb21TdG9wcz1uLHRoaXMuX3N0eWxlRXhwcmVzc2lvbj10LHRoaXMuaXNTdGF0ZURlcGVuZGVudD1cImNhbWVyYVwiIT09ZSYmIXZuKHQuZXhwcmVzc2lvbiksdGhpcy5pbnRlcnBvbGF0aW9uVHlwZT1pfWV2YWx1YXRlV2l0aG91dEVycm9ySGFuZGxpbmcoZSx0LG4saSxyLG8pe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGVXaXRob3V0RXJyb3JIYW5kbGluZyhlLHQsbixpLHIsbyl9ZXZhbHVhdGUoZSx0LG4saSxyLG8pe3JldHVybiB0aGlzLl9zdHlsZUV4cHJlc3Npb24uZXZhbHVhdGUoZSx0LG4saSxyLG8pfWludGVycG9sYXRpb25GYWN0b3IoZSx0LG4pe3JldHVybiB0aGlzLmludGVycG9sYXRpb25UeXBlP1duLmludGVycG9sYXRpb25GYWN0b3IodGhpcy5pbnRlcnBvbGF0aW9uVHlwZSxlLHQsbik6MH19ZnVuY3Rpb24gR2koZSx0KXtpZihcImVycm9yXCI9PT0oZT1OaShlLHQpKS5yZXN1bHQpcmV0dXJuIGU7Y29uc3Qgbj1lLnZhbHVlLmV4cHJlc3Npb24saT1fbihuKTtpZighaSYmIUlpKHQpKXJldHVybiBNaShbbmV3IG50KFwiXCIsXCJkYXRhIGV4cHJlc3Npb25zIG5vdCBzdXBwb3J0ZWRcIildKTtjb25zdCByPXhuKG4sW1wiem9vbVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdKTtpZighciYmIUNpKHQpKXJldHVybiBNaShbbmV3IG50KFwiXCIsXCJ6b29tIGV4cHJlc3Npb25zIG5vdCBzdXBwb3J0ZWRcIildKTtjb25zdCBvPWZ1bmN0aW9uIGUodCl7bGV0IG49bnVsbDtpZih0IGluc3RhbmNlb2YgWG4pbj1lKHQucmVzdWx0KTtlbHNlIGlmKHQgaW5zdGFuY2VvZiAkbil7Zm9yKGNvbnN0IGkgb2YgdC5hcmdzKWlmKG49ZShpKSxuKWJyZWFrfWVsc2UodCBpbnN0YW5jZW9mIElufHx0IGluc3RhbmNlb2YgV24pJiZ0LmlucHV0IGluc3RhbmNlb2YgSnQmJlwiem9vbVwiPT09dC5pbnB1dC5uYW1lJiYobj10KTtyZXR1cm4gbiBpbnN0YW5jZW9mIG50fHx0LmVhY2hDaGlsZCh0PT57Y29uc3QgaT1lKHQpO2kgaW5zdGFuY2VvZiBudD9uPWk6IW4mJmk/bj1uZXcgbnQoXCJcIiwnXCJ6b29tXCIgZXhwcmVzc2lvbiBtYXkgb25seSBiZSB1c2VkIGFzIGlucHV0IHRvIGEgdG9wLWxldmVsIFwic3RlcFwiIG9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9uLicpOm4mJmkmJm4hPT1pJiYobj1uZXcgbnQoXCJcIiwnT25seSBvbmUgem9vbS1iYXNlZCBcInN0ZXBcIiBvciBcImludGVycG9sYXRlXCIgc3ViZXhwcmVzc2lvbiBtYXkgYmUgdXNlZCBpbiBhbiBleHByZXNzaW9uLicpKX0pLG59KG4pO3JldHVybiBvfHxyP28gaW5zdGFuY2VvZiBudD9NaShbb10pOm8gaW5zdGFuY2VvZiBXbiYmIWtpKHQpP01pKFtuZXcgbnQoXCJcIiwnXCJpbnRlcnBvbGF0ZVwiIGV4cHJlc3Npb25zIGNhbm5vdCBiZSB1c2VkIHdpdGggdGhpcyBwcm9wZXJ0eScpXSk6U2kobz9uZXcgVmkoaT9cImNhbWVyYVwiOlwiY29tcG9zaXRlXCIsZS52YWx1ZSxvLmxhYmVscyxvIGluc3RhbmNlb2YgV24/by5pbnRlcnBvbGF0aW9uOnZvaWQgMCk6bmV3IFVpKGk/XCJjb25zdGFudFwiOlwic291cmNlXCIsZS52YWx1ZSkpOk1pKFtuZXcgbnQoXCJcIiwnXCJ6b29tXCIgZXhwcmVzc2lvbiBtYXkgb25seSBiZSB1c2VkIGFzIGlucHV0IHRvIGEgdG9wLWxldmVsIFwic3RlcFwiIG9yIFwiaW50ZXJwb2xhdGVcIiBleHByZXNzaW9uLicpXSl9Y2xhc3MgWml7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9wYXJhbWV0ZXJzPWUsdGhpcy5fc3BlY2lmaWNhdGlvbj10LFFlKHRoaXMsZnVuY3Rpb24gZSh0LG4pe2NvbnN0IGk9XCJjb2xvclwiPT09bi50eXBlLHI9dC5zdG9wcyYmXCJvYmplY3RcIj09dHlwZW9mIHQuc3RvcHNbMF1bMF0sbz1yfHwhKHJ8fHZvaWQgMCE9PXQucHJvcGVydHkpLGE9dC50eXBlfHwoa2kobik/XCJleHBvbmVudGlhbFwiOlwiaW50ZXJ2YWxcIik7aWYoaSYmKCh0PVFlKHt9LHQpKS5zdG9wcyYmKHQuc3RvcHM9dC5zdG9wcy5tYXAoZT0+W2VbMF0sQ3QucGFyc2UoZVsxXSldKSksdC5kZWZhdWx0PUN0LnBhcnNlKHQuZGVmYXVsdD90LmRlZmF1bHQ6bi5kZWZhdWx0KSksdC5jb2xvclNwYWNlJiZcInJnYlwiIT09dC5jb2xvclNwYWNlJiYhVm5bdC5jb2xvclNwYWNlXSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGNvbG9yIHNwYWNlOiBcIit0LmNvbG9yU3BhY2UpO2xldCBzLGwsYztpZihcImV4cG9uZW50aWFsXCI9PT1hKXM9Umk7ZWxzZSBpZihcImludGVydmFsXCI9PT1hKXM9T2k7ZWxzZSBpZihcImNhdGVnb3JpY2FsXCI9PT1hKXtzPUxpLGw9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IoY29uc3QgZSBvZiB0LnN0b3BzKWxbZVswXV09ZVsxXTtjPXR5cGVvZiB0LnN0b3BzWzBdWzBdfWVsc2V7aWYoXCJpZGVudGl0eVwiIT09YSl0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gZnVuY3Rpb24gdHlwZSBcIiR7YX1cImApO3M9Qml9aWYocil7Y29uc3QgaT17fSxyPVtdO2ZvcihsZXQgZT0wO2U8dC5zdG9wcy5sZW5ndGg7ZSsrKXtjb25zdCBuPXQuc3RvcHNbZV0sbz1uWzBdLnpvb207dm9pZCAwPT09aVtvXSYmKGlbb109e3pvb206byx0eXBlOnQudHlwZSxwcm9wZXJ0eTp0LnByb3BlcnR5LGRlZmF1bHQ6dC5kZWZhdWx0LHN0b3BzOltdfSxyLnB1c2gobykpLGlbb10uc3RvcHMucHVzaChbblswXS52YWx1ZSxuWzFdXSl9Y29uc3Qgbz1bXTtmb3IoY29uc3QgdCBvZiByKW8ucHVzaChbaVt0XS56b29tLGUoaVt0XSxuKV0pO2NvbnN0IGE9e25hbWU6XCJsaW5lYXJcIn07cmV0dXJue2tpbmQ6XCJjb21wb3NpdGVcIixpbnRlcnBvbGF0aW9uVHlwZTphLGludGVycG9sYXRpb25GYWN0b3I6V24uaW50ZXJwb2xhdGlvbkZhY3Rvci5iaW5kKHZvaWQgMCxhKSx6b29tU3RvcHM6by5tYXAoZT0+ZVswXSksZXZhbHVhdGU6KHt6b29tOmV9LGkpPT5SaSh7c3RvcHM6byxiYXNlOnQuYmFzZX0sbixlKS5ldmFsdWF0ZShlLGkpfX1pZihvKXtjb25zdCBlPVwiZXhwb25lbnRpYWxcIj09PWE/e25hbWU6XCJleHBvbmVudGlhbFwiLGJhc2U6dm9pZCAwIT09dC5iYXNlP3QuYmFzZToxfTpudWxsO3JldHVybntraW5kOlwiY2FtZXJhXCIsaW50ZXJwb2xhdGlvblR5cGU6ZSxpbnRlcnBvbGF0aW9uRmFjdG9yOlduLmludGVycG9sYXRpb25GYWN0b3IuYmluZCh2b2lkIDAsZSksem9vbVN0b3BzOnQuc3RvcHMubWFwKGU9PmVbMF0pLGV2YWx1YXRlOih7em9vbTplfSk9PnModCxuLGUsbCxjKX19cmV0dXJue2tpbmQ6XCJzb3VyY2VcIixldmFsdWF0ZShlLGkpe2NvbnN0IHI9aSYmaS5wcm9wZXJ0aWVzP2kucHJvcGVydGllc1t0LnByb3BlcnR5XTp2b2lkIDA7cmV0dXJuIHZvaWQgMD09PXI/RGkodC5kZWZhdWx0LG4uZGVmYXVsdCk6cyh0LG4scixsLGMpfX19KHRoaXMuX3BhcmFtZXRlcnMsdGhpcy5fc3BlY2lmaWNhdGlvbikpfXN0YXRpYyBkZXNlcmlhbGl6ZShlKXtyZXR1cm4gbmV3IFppKGUuX3BhcmFtZXRlcnMsZS5fc3BlY2lmaWNhdGlvbil9c3RhdGljIHNlcmlhbGl6ZShlKXtyZXR1cm57X3BhcmFtZXRlcnM6ZS5fcGFyYW1ldGVycyxfc3BlY2lmaWNhdGlvbjplLl9zcGVjaWZpY2F0aW9ufX19Y2xhc3MgV2l7Y29uc3RydWN0b3IoZSx0LG4saSl7dGhpcy5tZXNzYWdlPShlP2UrXCI6IFwiOlwiXCIpK24saSYmKHRoaXMuaWRlbnRpZmllcj1pKSxudWxsIT10JiZ0Ll9fbGluZV9fJiYodGhpcy5saW5lPXQuX19saW5lX18pfX1mdW5jdGlvbiBxaShlKXtjb25zdCB0PWUua2V5LG49ZS52YWx1ZSxpPWUudmFsdWVTcGVjfHx7fSxyPWUub2JqZWN0RWxlbWVudFZhbGlkYXRvcnN8fHt9LG89ZS5zdHlsZSxhPWUuc3R5bGVTcGVjO2xldCBzPVtdO2NvbnN0IGw9QWkobik7aWYoXCJvYmplY3RcIiE9PWwpcmV0dXJuW25ldyBXaSh0LG4sYG9iamVjdCBleHBlY3RlZCwgJHtsfSBmb3VuZGApXTtmb3IoY29uc3QgZSBpbiBuKXtjb25zdCBsPWUuc3BsaXQoXCIuXCIpWzBdLGM9aVtsXXx8aVtcIipcIl07bGV0IHU7cltsXT91PXJbbF06aVtsXT91PXdyOnJbXCIqXCJdP3U9cltcIipcIl06aVtcIipcIl0mJih1PXdyKSx1P3M9cy5jb25jYXQodSh7a2V5Oih0P3QrXCIuXCI6dCkrZSx2YWx1ZTpuW2VdLHZhbHVlU3BlYzpjLHN0eWxlOm8sc3R5bGVTcGVjOmEsb2JqZWN0Om4sb2JqZWN0S2V5OmV9LG4pKTpzLnB1c2gobmV3IFdpKHQsbltlXSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7ZX1cImApKX1mb3IoY29uc3QgZSBpbiBpKXJbZV18fGlbZV0ucmVxdWlyZWQmJnZvaWQgMD09PWlbZV0uZGVmYXVsdCYmdm9pZCAwPT09bltlXSYmcy5wdXNoKG5ldyBXaSh0LG4sYG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCIke2V9XCJgKSk7cmV0dXJuIHN9ZnVuY3Rpb24gJGkoZSl7Y29uc3QgdD1lLnZhbHVlLG49ZS52YWx1ZVNwZWMsaT1lLnN0eWxlLHI9ZS5zdHlsZVNwZWMsbz1lLmtleSxhPWUuYXJyYXlFbGVtZW50VmFsaWRhdG9yfHx3cjtpZihcImFycmF5XCIhPT1BaSh0KSlyZXR1cm5bbmV3IFdpKG8sdCxgYXJyYXkgZXhwZWN0ZWQsICR7QWkodCl9IGZvdW5kYCldO2lmKG4ubGVuZ3RoJiZ0Lmxlbmd0aCE9PW4ubGVuZ3RoKXJldHVybltuZXcgV2kobyx0LGBhcnJheSBsZW5ndGggJHtuLmxlbmd0aH0gZXhwZWN0ZWQsIGxlbmd0aCAke3QubGVuZ3RofSBmb3VuZGApXTtpZihuW1wibWluLWxlbmd0aFwiXSYmdC5sZW5ndGg8bltcIm1pbi1sZW5ndGhcIl0pcmV0dXJuW25ldyBXaShvLHQsYGFycmF5IGxlbmd0aCBhdCBsZWFzdCAke25bXCJtaW4tbGVuZ3RoXCJdfSBleHBlY3RlZCwgbGVuZ3RoICR7dC5sZW5ndGh9IGZvdW5kYCldO2xldCBzPXt0eXBlOm4udmFsdWUsdmFsdWVzOm4udmFsdWVzLG1pbmltdW06bi5taW5pbXVtLG1heGltdW06bi5tYXhpbXVtLGZ1bmN0aW9uOnZvaWQgMH07ci4kdmVyc2lvbjw3JiYocy5mdW5jdGlvbj1uLmZ1bmN0aW9uKSxcIm9iamVjdFwiPT09QWkobi52YWx1ZSkmJihzPW4udmFsdWUpO2xldCBsPVtdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKWw9bC5jb25jYXQoYSh7YXJyYXk6dCxhcnJheUluZGV4OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6cyxzdHlsZTppLHN0eWxlU3BlYzpyLGtleTpgJHtvfVske2V9XWB9KSk7cmV0dXJuIGx9ZnVuY3Rpb24gSGkoZSl7Y29uc3QgdD1lLmtleSxuPWUudmFsdWUsaT1lLnZhbHVlU3BlYztsZXQgcj1BaShuKTtpZihcIm51bWJlclwiPT09ciYmbiE9biYmKHI9XCJOYU5cIiksXCJudW1iZXJcIiE9PXIpcmV0dXJuW25ldyBXaSh0LG4sYG51bWJlciBleHBlY3RlZCwgJHtyfSBmb3VuZGApXTtpZihcIm1pbmltdW1cImluIGkpe2xldCByPWkubWluaW11bTtpZihcImFycmF5XCI9PT1BaShpLm1pbmltdW0pJiYocj1pLm1pbmltdW1bZS5hcnJheUluZGV4XSksbjxyKXJldHVybltuZXcgV2kodCxuLGAke259IGlzIGxlc3MgdGhhbiB0aGUgbWluaW11bSB2YWx1ZSAke3J9YCldfWlmKFwibWF4aW11bVwiaW4gaSl7bGV0IHI9aS5tYXhpbXVtO2lmKFwiYXJyYXlcIj09PUFpKGkubWF4aW11bSkmJihyPWkubWF4aW11bVtlLmFycmF5SW5kZXhdKSxuPnIpcmV0dXJuW25ldyBXaSh0LG4sYCR7bn0gaXMgZ3JlYXRlciB0aGFuIHRoZSBtYXhpbXVtIHZhbHVlICR7cn1gKV19cmV0dXJuW119ZnVuY3Rpb24gWGkoZSl7Y29uc3QgdD1lLnZhbHVlU3BlYyxuPUtlKGUudmFsdWUudHlwZSk7bGV0IGkscixvLGE9e307Y29uc3Qgcz1cImNhdGVnb3JpY2FsXCIhPT1uJiZ2b2lkIDA9PT1lLnZhbHVlLnByb3BlcnR5LGw9IXMsYz1cImFycmF5XCI9PT1BaShlLnZhbHVlLnN0b3BzKSYmXCJhcnJheVwiPT09QWkoZS52YWx1ZS5zdG9wc1swXSkmJlwib2JqZWN0XCI9PT1BaShlLnZhbHVlLnN0b3BzWzBdWzBdKSx1PXFpKHtrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZSx2YWx1ZVNwZWM6ZS5zdHlsZVNwZWMuZnVuY3Rpb24sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e3N0b3BzOmZ1bmN0aW9uKGUpe2lmKFwiaWRlbnRpdHlcIj09PW4pcmV0dXJuW25ldyBXaShlLmtleSxlLnZhbHVlLCdpZGVudGl0eSBmdW5jdGlvbiBtYXkgbm90IGhhdmUgYSBcInN0b3BzXCIgcHJvcGVydHknKV07bGV0IHQ9W107Y29uc3QgaT1lLnZhbHVlO3JldHVybiB0PXQuY29uY2F0KCRpKHtrZXk6ZS5rZXksdmFsdWU6aSx2YWx1ZVNwZWM6ZS52YWx1ZVNwZWMsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsYXJyYXlFbGVtZW50VmFsaWRhdG9yOmh9KSksXCJhcnJheVwiPT09QWkoaSkmJjA9PT1pLmxlbmd0aCYmdC5wdXNoKG5ldyBXaShlLmtleSxpLFwiYXJyYXkgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBzdG9wXCIpKSx0fSxkZWZhdWx0OmZ1bmN0aW9uKGUpe3JldHVybiB3cih7a2V5OmUua2V5LHZhbHVlOmUudmFsdWUsdmFsdWVTcGVjOnQsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWN9KX19fSk7cmV0dXJuXCJpZGVudGl0eVwiPT09biYmcyYmdS5wdXNoKG5ldyBXaShlLmtleSxlLnZhbHVlLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwicHJvcGVydHlcIicpKSxcImlkZW50aXR5XCI9PT1ufHxlLnZhbHVlLnN0b3BzfHx1LnB1c2gobmV3IFdpKGUua2V5LGUudmFsdWUsJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzdG9wc1wiJykpLFwiZXhwb25lbnRpYWxcIj09PW4mJmUudmFsdWVTcGVjLmV4cHJlc3Npb24mJiFraShlLnZhbHVlU3BlYykmJnUucHVzaChuZXcgV2koZS5rZXksZS52YWx1ZSxcImV4cG9uZW50aWFsIGZ1bmN0aW9ucyBub3Qgc3VwcG9ydGVkXCIpKSxlLnN0eWxlU3BlYy4kdmVyc2lvbj49OCYmKGwmJiFJaShlLnZhbHVlU3BlYyk/dS5wdXNoKG5ldyBXaShlLmtleSxlLnZhbHVlLFwicHJvcGVydHkgZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpOnMmJiFDaShlLnZhbHVlU3BlYykmJnUucHVzaChuZXcgV2koZS5rZXksZS52YWx1ZSxcInpvb20gZnVuY3Rpb25zIG5vdCBzdXBwb3J0ZWRcIikpKSxcImNhdGVnb3JpY2FsXCIhPT1uJiYhY3x8dm9pZCAwIT09ZS52YWx1ZS5wcm9wZXJ0eXx8dS5wdXNoKG5ldyBXaShlLmtleSxlLnZhbHVlLCdcInByb3BlcnR5XCIgcHJvcGVydHkgaXMgcmVxdWlyZWQnKSksdTtmdW5jdGlvbiBoKGUpe2xldCBuPVtdO2NvbnN0IGk9ZS52YWx1ZSxzPWUua2V5O2lmKFwiYXJyYXlcIiE9PUFpKGkpKXJldHVybltuZXcgV2kocyxpLGBhcnJheSBleHBlY3RlZCwgJHtBaShpKX0gZm91bmRgKV07aWYoMiE9PWkubGVuZ3RoKXJldHVybltuZXcgV2kocyxpLGBhcnJheSBsZW5ndGggMiBleHBlY3RlZCwgbGVuZ3RoICR7aS5sZW5ndGh9IGZvdW5kYCldO2lmKGMpe2lmKFwib2JqZWN0XCIhPT1BaShpWzBdKSlyZXR1cm5bbmV3IFdpKHMsaSxgb2JqZWN0IGV4cGVjdGVkLCAke0FpKGlbMF0pfSBmb3VuZGApXTtpZih2b2lkIDA9PT1pWzBdLnpvb20pcmV0dXJuW25ldyBXaShzLGksXCJvYmplY3Qgc3RvcCBrZXkgbXVzdCBoYXZlIHpvb21cIildO2lmKHZvaWQgMD09PWlbMF0udmFsdWUpcmV0dXJuW25ldyBXaShzLGksXCJvYmplY3Qgc3RvcCBrZXkgbXVzdCBoYXZlIHZhbHVlXCIpXTtjb25zdCB0PUtlKGlbMF0uem9vbSk7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHQpcmV0dXJuW25ldyBXaShzLGlbMF0uem9vbSxcInN0b3Agem9vbSB2YWx1ZXMgbXVzdCBiZSBudW1iZXJzXCIpXTtpZihvJiZvPnQpcmV0dXJuW25ldyBXaShzLGlbMF0uem9vbSxcInN0b3Agem9vbSB2YWx1ZXMgbXVzdCBhcHBlYXIgaW4gYXNjZW5kaW5nIG9yZGVyXCIpXTt0IT09byYmKG89dCxyPXZvaWQgMCxhPXt9KSxuPW4uY29uY2F0KHFpKHtrZXk6cytcIlswXVwiLHZhbHVlOmlbMF0sdmFsdWVTcGVjOnt6b29tOnt9fSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7em9vbTpIaSx2YWx1ZTpkfX0pKX1lbHNlIG49bi5jb25jYXQoZCh7a2V5OnMrXCJbMF1cIix2YWx1ZTppWzBdLHZhbHVlU3BlYzp7fSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlY30saSkpO3JldHVybiBGaShldChpWzFdKSk/bi5jb25jYXQoW25ldyBXaShzK1wiWzFdXCIsaVsxXSxcImV4cHJlc3Npb25zIGFyZSBub3QgYWxsb3dlZCBpbiBmdW5jdGlvbiBzdG9wcy5cIildKTpuLmNvbmNhdCh3cih7a2V5OnMrXCJbMV1cIix2YWx1ZTppWzFdLHZhbHVlU3BlYzp0LHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmUuc3R5bGVTcGVjfSkpfWZ1bmN0aW9uIGQoZSxvKXtjb25zdCBzPUFpKGUudmFsdWUpLGw9S2UoZS52YWx1ZSksYz1udWxsIT09ZS52YWx1ZT9lLnZhbHVlOm87aWYoaSl7aWYocyE9PWkpcmV0dXJuW25ldyBXaShlLmtleSxjLGAke3N9IHN0b3AgZG9tYWluIHR5cGUgbXVzdCBtYXRjaCBwcmV2aW91cyBzdG9wIGRvbWFpbiB0eXBlICR7aX1gKV19ZWxzZSBpPXM7aWYoXCJudW1iZXJcIiE9PXMmJlwic3RyaW5nXCIhPT1zJiZcImJvb2xlYW5cIiE9PXMmJlwibnVtYmVyXCIhPXR5cGVvZiBsJiZcInN0cmluZ1wiIT10eXBlb2YgbCYmXCJib29sZWFuXCIhPXR5cGVvZiBsKXJldHVybltuZXcgV2koZS5rZXksYyxcInN0b3AgZG9tYWluIHZhbHVlIG11c3QgYmUgYSBudW1iZXIsIHN0cmluZywgb3IgYm9vbGVhblwiKV07aWYoXCJudW1iZXJcIiE9PXMmJlwiY2F0ZWdvcmljYWxcIiE9PW4pe2xldCBpPWBudW1iZXIgZXhwZWN0ZWQsICR7c30gZm91bmRgO3JldHVybiBJaSh0KSYmdm9pZCAwPT09biYmKGkrPSdcXG5JZiB5b3UgaW50ZW5kZWQgdG8gdXNlIGEgY2F0ZWdvcmljYWwgZnVuY3Rpb24sIHNwZWNpZnkgYFwidHlwZVwiOiBcImNhdGVnb3JpY2FsXCJgLicpLFtuZXcgV2koZS5rZXksYyxpKV19cmV0dXJuXCJjYXRlZ29yaWNhbFwiIT09bnx8XCJudW1iZXJcIiE9PXN8fFwibnVtYmVyXCI9PXR5cGVvZiBsJiZpc0Zpbml0ZShsKSYmTWF0aC5mbG9vcihsKT09PWw/XCJjYXRlZ29yaWNhbFwiIT09biYmXCJudW1iZXJcIj09PXMmJlwibnVtYmVyXCI9PXR5cGVvZiBsJiZcIm51bWJlclwiPT10eXBlb2YgciYmdm9pZCAwIT09ciYmbDxyP1tuZXcgV2koZS5rZXksYyxcInN0b3AgZG9tYWluIHZhbHVlcyBtdXN0IGFwcGVhciBpbiBhc2NlbmRpbmcgb3JkZXJcIildOihyPWwsXCJjYXRlZ29yaWNhbFwiPT09biYmbCBpbiBhP1tuZXcgV2koZS5rZXksYyxcInN0b3AgZG9tYWluIHZhbHVlcyBtdXN0IGJlIHVuaXF1ZVwiKV06KGFbbF09ITAsW10pKTpbbmV3IFdpKGUua2V5LGMsXCJpbnRlZ2VyIGV4cGVjdGVkLCBmb3VuZCBcIitTdHJpbmcobCkpXX19ZnVuY3Rpb24gWWkoZSl7Y29uc3QgdD0oXCJwcm9wZXJ0eVwiPT09ZS5leHByZXNzaW9uQ29udGV4dD9HaTpOaSkoZXQoZS52YWx1ZSksZS52YWx1ZVNwZWMpO2lmKFwiZXJyb3JcIj09PXQucmVzdWx0KXJldHVybiB0LnZhbHVlLm1hcCh0PT5uZXcgV2koYCR7ZS5rZXl9JHt0LmtleX1gLGUudmFsdWUsdC5tZXNzYWdlKSk7Y29uc3Qgbj10LnZhbHVlLmV4cHJlc3Npb258fHQudmFsdWUuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uO2lmKFwicHJvcGVydHlcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQmJlwidGV4dC1mb250XCI9PT1lLnByb3BlcnR5S2V5JiYhbi5vdXRwdXREZWZpbmVkKCkpcmV0dXJuW25ldyBXaShlLmtleSxlLnZhbHVlLGBJbnZhbGlkIGRhdGEgZXhwcmVzc2lvbiBmb3IgXCIke2UucHJvcGVydHlLZXl9XCIuIE91dHB1dCB2YWx1ZXMgbXVzdCBiZSBjb250YWluZWQgYXMgbGl0ZXJhbHMgd2l0aGluIHRoZSBleHByZXNzaW9uLmApXTtpZihcInByb3BlcnR5XCI9PT1lLmV4cHJlc3Npb25Db250ZXh0JiZcImxheW91dFwiPT09ZS5wcm9wZXJ0eVR5cGUmJiF2bihuKSlyZXR1cm5bbmV3IFdpKGUua2V5LGUudmFsdWUsJ1wiZmVhdHVyZS1zdGF0ZVwiIGRhdGEgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBsYXlvdXQgcHJvcGVydGllcy4nKV07aWYoXCJmaWx0ZXJcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQpcmV0dXJuIGZ1bmN0aW9uIGUodCxuKXtjb25zdCBpPW5ldyBTZXQoW1wiem9vbVwiLFwiZmVhdHVyZS1zdGF0ZVwiLFwicGl0Y2hcIixcImRpc3RhbmNlLWZyb20tY2VudGVyXCJdKTtpZihuLnZhbHVlU3BlYyYmbi52YWx1ZVNwZWMuZXhwcmVzc2lvbilmb3IoY29uc3QgZSBvZiBuLnZhbHVlU3BlYy5leHByZXNzaW9uLnBhcmFtZXRlcnMpaS5kZWxldGUoZSk7aWYoMD09PWkuc2l6ZSlyZXR1cm5bXTtjb25zdCByPVtdO3JldHVybiB0IGluc3RhbmNlb2YgSnQmJmkuaGFzKHQubmFtZSk/W25ldyBXaShuLmtleSxuLnZhbHVlLGBbXCIke3QubmFtZX1cIl0gZXhwcmVzc2lvbiBpcyBub3Qgc3VwcG9ydGVkIGluIGEgZmlsdGVyIGZvciBhICR7bi5vYmplY3QudHlwZX0gbGF5ZXIgd2l0aCBpZDogJHtuLm9iamVjdC5pZH1gKV06KHQuZWFjaENoaWxkKHQ9PntyLnB1c2goLi4uZSh0LG4pKX0pLHIpfShuLGUpO2lmKGUuZXhwcmVzc2lvbkNvbnRleHQmJjA9PT1lLmV4cHJlc3Npb25Db250ZXh0LmluZGV4T2YoXCJjbHVzdGVyXCIpKXtpZigheG4obixbXCJ6b29tXCIsXCJmZWF0dXJlLXN0YXRlXCJdKSlyZXR1cm5bbmV3IFdpKGUua2V5LGUudmFsdWUsJ1wiem9vbVwiIGFuZCBcImZlYXR1cmUtc3RhdGVcIiBleHByZXNzaW9ucyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIGNsdXN0ZXIgcHJvcGVydGllcy4nKV07aWYoXCJjbHVzdGVyLWluaXRpYWxcIj09PWUuZXhwcmVzc2lvbkNvbnRleHQmJiFfbihuKSlyZXR1cm5bbmV3IFdpKGUua2V5LGUudmFsdWUsXCJGZWF0dXJlIGRhdGEgZXhwcmVzc2lvbnMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBpbml0aWFsIGV4cHJlc3Npb24gcGFydCBvZiBjbHVzdGVyIHByb3BlcnRpZXMuXCIpXX1yZXR1cm5bXX1mdW5jdGlvbiBKaShlKXtjb25zdCB0PWUua2V5LG49ZS52YWx1ZSxpPWUudmFsdWVTcGVjLHI9W107cmV0dXJuIEFycmF5LmlzQXJyYXkoaS52YWx1ZXMpPy0xPT09aS52YWx1ZXMuaW5kZXhPZihLZShuKSkmJnIucHVzaChuZXcgV2kodCxuLGBleHBlY3RlZCBvbmUgb2YgWyR7aS52YWx1ZXMuam9pbihcIiwgXCIpfV0sICR7SlNPTi5zdHJpbmdpZnkobil9IGZvdW5kYCkpOi0xPT09T2JqZWN0LmtleXMoaS52YWx1ZXMpLmluZGV4T2YoS2UobikpJiZyLnB1c2gobmV3IFdpKHQsbixgZXhwZWN0ZWQgb25lIG9mIFske09iamVjdC5rZXlzKGkudmFsdWVzKS5qb2luKFwiLCBcIil9XSwgJHtKU09OLnN0cmluZ2lmeShuKX0gZm91bmRgKSkscn1mdW5jdGlvbiBRaShlKXtpZighMD09PWV8fCExPT09ZSlyZXR1cm4hMDtpZighQXJyYXkuaXNBcnJheShlKXx8MD09PWUubGVuZ3RoKXJldHVybiExO3N3aXRjaChlWzBdKXtjYXNlXCJoYXNcIjpyZXR1cm4gZS5sZW5ndGg+PTImJlwiJGlkXCIhPT1lWzFdJiZcIiR0eXBlXCIhPT1lWzFdO2Nhc2VcImluXCI6cmV0dXJuIGUubGVuZ3RoPj0zJiYoXCJzdHJpbmdcIiE9dHlwZW9mIGVbMV18fEFycmF5LmlzQXJyYXkoZVsyXSkpO2Nhc2VcIiFpblwiOmNhc2VcIiFoYXNcIjpjYXNlXCJub25lXCI6cmV0dXJuITE7Y2FzZVwiPT1cIjpjYXNlXCIhPVwiOmNhc2VcIj5cIjpjYXNlXCI+PVwiOmNhc2VcIjxcIjpjYXNlXCI8PVwiOnJldHVybiAzIT09ZS5sZW5ndGh8fEFycmF5LmlzQXJyYXkoZVsxXSl8fEFycmF5LmlzQXJyYXkoZVsyXSk7Y2FzZVwiYW55XCI6Y2FzZVwiYWxsXCI6Zm9yKGNvbnN0IHQgb2YgZS5zbGljZSgxKSlpZighUWkodCkmJlwiYm9vbGVhblwiIT10eXBlb2YgdClyZXR1cm4hMTtyZXR1cm4hMDtkZWZhdWx0OnJldHVybiEwfX1mdW5jdGlvbiBLaShlLHQ9XCJmaWxsXCIpe2lmKG51bGw9PWUpcmV0dXJue2ZpbHRlcjooKT0+ITAsbmVlZEdlb21ldHJ5OiExLG5lZWRGZWF0dXJlOiExfTtRaShlKXx8KGU9cnIoZSkpO2NvbnN0IG49ZTtsZXQgaT0hMDt0cnl7aT1mdW5jdGlvbihlKXtpZighZXIoZSkpcmV0dXJuIGU7bGV0IHQ9ZXQoZSk7cmV0dXJuIGZ1bmN0aW9uIGUodCl7bGV0IG49ITE7Y29uc3QgaT1bXTtpZihcImNhc2VcIj09PXRbMF0pe2ZvcihsZXQgZT0xO2U8dC5sZW5ndGgtMTtlKz0yKW49bnx8ZXIodFtlXSksaS5wdXNoKHRbZSsxXSk7aS5wdXNoKHRbdC5sZW5ndGgtMV0pfWVsc2UgaWYoXCJtYXRjaFwiPT09dFswXSl7bj1ufHxlcih0WzFdKTtmb3IobGV0IGU9MjtlPHQubGVuZ3RoLTE7ZSs9MilpLnB1c2godFtlKzFdKTtpLnB1c2godFt0Lmxlbmd0aC0xXSl9ZWxzZSBpZihcInN0ZXBcIj09PXRbMF0pe249bnx8ZXIodFsxXSk7Zm9yKGxldCBlPTE7ZTx0Lmxlbmd0aC0xO2UrPTIpaS5wdXNoKHRbZSsxXSl9biYmKHQubGVuZ3RoPTAsdC5wdXNoKFwiYW55XCIsLi4uaSkpO2ZvcihsZXQgbj0xO248dC5sZW5ndGg7bisrKWUodFtuXSl9KHQpLHQ9ZnVuY3Rpb24gZSh0KXtpZighQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdDtjb25zdCBuPWZ1bmN0aW9uKGUpe2lmKHRyLmhhcyhlWzBdKSlmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKylpZihlcihlW3RdKSlyZXR1cm4hMDtyZXR1cm4gZX0odCk7cmV0dXJuITA9PT1uP246bi5tYXAodD0+ZSh0KSl9KHQpLHR9KG4pfWNhdGNoKGUpe2NvbnNvbGUud2FybihgRmFpbGVkIHRvIGV4dHJhY3Qgc3RhdGljIGZpbHRlci4gRmlsdGVyIHdpbGwgY29udGludWUgd29ya2luZywgYnV0IGF0IGhpZ2hlciBtZW1vcnkgdXNhZ2UgYW5kIHNsb3dlciBmcmFtZXJhdGUuXFxuVGhpcyBpcyBtb3N0IGxpa2VseSBhIGJ1ZywgcGxlYXNlIHJlcG9ydCB0aGlzIHZpYSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvbmV3P2Fzc2lnbmVlcz0mbGFiZWxzPSZ0ZW1wbGF0ZT1CdWdfcmVwb3J0Lm1kXFxuYW5kIHBhc3RlIHRoZSBjb250ZW50cyBvZiB0aGlzIG1lc3NhZ2UgaW4gdGhlIHJlcG9ydC5cXG5UaGFuayB5b3UhXFxuRmlsdGVyIEV4cHJlc3Npb246XFxuJHtKU09OLnN0cmluZ2lmeShuLG51bGwsMil9XFxuICAgICAgICBgKX1jb25zdCByPUplW1wiZmlsdGVyX1wiK3RdLG89TmkoaSxyKTtsZXQgYT1udWxsO2lmKFwiZXJyb3JcIj09PW8ucmVzdWx0KXRocm93IG5ldyBFcnJvcihvLnZhbHVlLm1hcChlPT5gJHtlLmtleX06ICR7ZS5tZXNzYWdlfWApLmpvaW4oXCIsIFwiKSk7YT0oZSx0LG4pPT5vLnZhbHVlLmV2YWx1YXRlKGUsdCx7fSxuKTtsZXQgcz1udWxsLGw9bnVsbDtpZihpIT09bil7Y29uc3QgZT1OaShuLHIpO2lmKFwiZXJyb3JcIj09PWUucmVzdWx0KXRocm93IG5ldyBFcnJvcihlLnZhbHVlLm1hcChlPT5gJHtlLmtleX06ICR7ZS5tZXNzYWdlfWApLmpvaW4oXCIsIFwiKSk7cz0odCxuLGkscixvKT0+ZS52YWx1ZS5ldmFsdWF0ZSh0LG4se30saSx2b2lkIDAsdm9pZCAwLHIsbyksbD0hX24oZS52YWx1ZS5leHByZXNzaW9uKX1yZXR1cm57ZmlsdGVyOmEsZHluYW1pY0ZpbHRlcjpzfHx2b2lkIDAsbmVlZEdlb21ldHJ5OmlyKGkpLG5lZWRGZWF0dXJlOiEhbH19ZnVuY3Rpb24gZXIoZSl7aWYoIUFycmF5LmlzQXJyYXkoZSkpcmV0dXJuITE7aWYoXCJwaXRjaFwiPT09KHQ9ZVswXSl8fFwiZGlzdGFuY2UtZnJvbS1jZW50ZXJcIj09PXQpcmV0dXJuITA7dmFyIHQ7Zm9yKGxldCB0PTE7dDxlLmxlbmd0aDt0KyspaWYoZXIoZVt0XSkpcmV0dXJuITA7cmV0dXJuITF9Y29uc3QgdHI9bmV3IFNldChbXCJpblwiLFwiPT1cIixcIiE9XCIsXCI+XCIsXCI+PVwiLFwiPFwiLFwiPD1cIixcInRvLWJvb2xlYW5cIl0pO2Z1bmN0aW9uIG5yKGUsdCl7cmV0dXJuIGU8dD8tMTplPnQ/MTowfWZ1bmN0aW9uIGlyKGUpe2lmKCFBcnJheS5pc0FycmF5KGUpKXJldHVybiExO2lmKFwid2l0aGluXCI9PT1lWzBdKXJldHVybiEwO2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKWlmKGlyKGVbdF0pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHJyKGUpe2lmKCFlKXJldHVybiEwO2NvbnN0IHQ9ZVswXTtyZXR1cm4gZS5sZW5ndGg8PTE/XCJhbnlcIiE9PXQ6XCI9PVwiPT09dD9vcihlWzFdLGVbMl0sXCI9PVwiKTpcIiE9XCI9PT10P2xyKG9yKGVbMV0sZVsyXSxcIj09XCIpKTpcIjxcIj09PXR8fFwiPlwiPT09dHx8XCI8PVwiPT09dHx8XCI+PVwiPT09dD9vcihlWzFdLGVbMl0sdCk6XCJhbnlcIj09PXQ/KG49ZS5zbGljZSgxKSxbXCJhbnlcIl0uY29uY2F0KG4ubWFwKHJyKSkpOlwiYWxsXCI9PT10P1tcImFsbFwiXS5jb25jYXQoZS5zbGljZSgxKS5tYXAocnIpKTpcIm5vbmVcIj09PXQ/W1wiYWxsXCJdLmNvbmNhdChlLnNsaWNlKDEpLm1hcChycikubWFwKGxyKSk6XCJpblwiPT09dD9hcihlWzFdLGUuc2xpY2UoMikpOlwiIWluXCI9PT10P2xyKGFyKGVbMV0sZS5zbGljZSgyKSkpOlwiaGFzXCI9PT10P3NyKGVbMV0pOlwiIWhhc1wiPT09dD9scihzcihlWzFdKSk6XCJ3aXRoaW5cIiE9PXR8fGU7dmFyIG59ZnVuY3Rpb24gb3IoZSx0LG4pe3N3aXRjaChlKXtjYXNlXCIkdHlwZVwiOnJldHVybltcImZpbHRlci10eXBlLVwiK24sdF07Y2FzZVwiJGlkXCI6cmV0dXJuW1wiZmlsdGVyLWlkLVwiK24sdF07ZGVmYXVsdDpyZXR1cm5bXCJmaWx0ZXItXCIrbixlLHRdfX1mdW5jdGlvbiBhcihlLHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4hMTtzd2l0Y2goZSl7Y2FzZVwiJHR5cGVcIjpyZXR1cm5bXCJmaWx0ZXItdHlwZS1pblwiLFtcImxpdGVyYWxcIix0XV07Y2FzZVwiJGlkXCI6cmV0dXJuW1wiZmlsdGVyLWlkLWluXCIsW1wibGl0ZXJhbFwiLHRdXTtkZWZhdWx0OnJldHVybiB0Lmxlbmd0aD4yMDAmJiF0LnNvbWUoZT0+dHlwZW9mIGUhPXR5cGVvZiB0WzBdKT9bXCJmaWx0ZXItaW4tbGFyZ2VcIixlLFtcImxpdGVyYWxcIix0LnNvcnQobnIpXV06W1wiZmlsdGVyLWluLXNtYWxsXCIsZSxbXCJsaXRlcmFsXCIsdF1dfX1mdW5jdGlvbiBzcihlKXtzd2l0Y2goZSl7Y2FzZVwiJHR5cGVcIjpyZXR1cm4hMDtjYXNlXCIkaWRcIjpyZXR1cm5bXCJmaWx0ZXItaGFzLWlkXCJdO2RlZmF1bHQ6cmV0dXJuW1wiZmlsdGVyLWhhc1wiLGVdfX1mdW5jdGlvbiBscihlKXtyZXR1cm5bXCIhXCIsZV19ZnVuY3Rpb24gY3IoZSl7cmV0dXJuIFFpKGV0KGUudmFsdWUpKT9ZaShRZSh7fSxlLHtleHByZXNzaW9uQ29udGV4dDpcImZpbHRlclwiLHZhbHVlU3BlYzplLnN0eWxlU3BlY1tcImZpbHRlcl9cIisoZS5sYXllclR5cGV8fFwiZmlsbFwiKV19KSk6ZnVuY3Rpb24gZSh0KXtjb25zdCBuPXQudmFsdWUsaT10LmtleTtpZihcImFycmF5XCIhPT1BaShuKSlyZXR1cm5bbmV3IFdpKGksbixgYXJyYXkgZXhwZWN0ZWQsICR7QWkobil9IGZvdW5kYCldO2NvbnN0IHI9dC5zdHlsZVNwZWM7bGV0IG8sYT1bXTtpZihuLmxlbmd0aDwxKXJldHVybltuZXcgV2koaSxuLFwiZmlsdGVyIGFycmF5IG11c3QgaGF2ZSBhdCBsZWFzdCAxIGVsZW1lbnRcIildO3N3aXRjaChhPWEuY29uY2F0KEppKHtrZXk6aStcIlswXVwiLHZhbHVlOm5bMF0sdmFsdWVTcGVjOnIuZmlsdGVyX29wZXJhdG9yLHN0eWxlOnQuc3R5bGUsc3R5bGVTcGVjOnQuc3R5bGVTcGVjfSkpLEtlKG5bMF0pKXtjYXNlXCI8XCI6Y2FzZVwiPD1cIjpjYXNlXCI+XCI6Y2FzZVwiPj1cIjpuLmxlbmd0aD49MiYmXCIkdHlwZVwiPT09S2UoblsxXSkmJmEucHVzaChuZXcgV2koaSxuLGBcIiR0eXBlXCIgY2Fubm90IGJlIHVzZSB3aXRoIG9wZXJhdG9yIFwiJHtuWzBdfVwiYCkpO2Nhc2VcIj09XCI6Y2FzZVwiIT1cIjozIT09bi5sZW5ndGgmJmEucHVzaChuZXcgV2koaSxuLGBmaWx0ZXIgYXJyYXkgZm9yIG9wZXJhdG9yIFwiJHtuWzBdfVwiIG11c3QgaGF2ZSAzIGVsZW1lbnRzYCkpO2Nhc2VcImluXCI6Y2FzZVwiIWluXCI6bi5sZW5ndGg+PTImJihvPUFpKG5bMV0pLFwic3RyaW5nXCIhPT1vJiZhLnB1c2gobmV3IFdpKGkrXCJbMV1cIixuWzFdLGBzdHJpbmcgZXhwZWN0ZWQsICR7b30gZm91bmRgKSkpO2ZvcihsZXQgZT0yO2U8bi5sZW5ndGg7ZSsrKW89QWkobltlXSksXCIkdHlwZVwiPT09S2UoblsxXSk/YT1hLmNvbmNhdChKaSh7a2V5OmAke2l9WyR7ZX1dYCx2YWx1ZTpuW2VdLHZhbHVlU3BlYzpyLmdlb21ldHJ5X3R5cGUsc3R5bGU6dC5zdHlsZSxzdHlsZVNwZWM6dC5zdHlsZVNwZWN9KSk6XCJzdHJpbmdcIiE9PW8mJlwibnVtYmVyXCIhPT1vJiZcImJvb2xlYW5cIiE9PW8mJmEucHVzaChuZXcgV2koYCR7aX1bJHtlfV1gLG5bZV0sYHN0cmluZywgbnVtYmVyLCBvciBib29sZWFuIGV4cGVjdGVkLCAke299IGZvdW5kYCkpO2JyZWFrO2Nhc2VcImFueVwiOmNhc2VcImFsbFwiOmNhc2VcIm5vbmVcIjpmb3IobGV0IHI9MTtyPG4ubGVuZ3RoO3IrKylhPWEuY29uY2F0KGUoe2tleTpgJHtpfVske3J9XWAsdmFsdWU6bltyXSxzdHlsZTp0LnN0eWxlLHN0eWxlU3BlYzp0LnN0eWxlU3BlY30pKTticmVhaztjYXNlXCJoYXNcIjpjYXNlXCIhaGFzXCI6bz1BaShuWzFdKSwyIT09bi5sZW5ndGg/YS5wdXNoKG5ldyBXaShpLG4sYGZpbHRlciBhcnJheSBmb3IgXCIke25bMF19XCIgb3BlcmF0b3IgbXVzdCBoYXZlIDIgZWxlbWVudHNgKSk6XCJzdHJpbmdcIiE9PW8mJmEucHVzaChuZXcgV2koaStcIlsxXVwiLG5bMV0sYHN0cmluZyBleHBlY3RlZCwgJHtvfSBmb3VuZGApKTticmVhaztjYXNlXCJ3aXRoaW5cIjpvPUFpKG5bMV0pLDIhPT1uLmxlbmd0aD9hLnB1c2gobmV3IFdpKGksbixgZmlsdGVyIGFycmF5IGZvciBcIiR7blswXX1cIiBvcGVyYXRvciBtdXN0IGhhdmUgMiBlbGVtZW50c2ApKTpcIm9iamVjdFwiIT09byYmYS5wdXNoKG5ldyBXaShpK1wiWzFdXCIsblsxXSxgb2JqZWN0IGV4cGVjdGVkLCAke299IGZvdW5kYCkpfXJldHVybiBhfShlKX1mdW5jdGlvbiB1cihlLHQpe2NvbnN0IG49ZS5rZXksaT1lLnN0eWxlLHI9ZS5zdHlsZVNwZWMsbz1lLnZhbHVlLGE9ZS5vYmplY3RLZXkscz1yW2Ake3R9XyR7ZS5sYXllclR5cGV9YF07aWYoIXMpcmV0dXJuW107Y29uc3QgbD1hLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO2lmKFwicGFpbnRcIj09PXQmJmwmJnNbbFsxXV0mJnNbbFsxXV0udHJhbnNpdGlvbilyZXR1cm4gd3Ioe2tleTpuLHZhbHVlOm8sdmFsdWVTcGVjOnIudHJhbnNpdGlvbixzdHlsZTppLHN0eWxlU3BlYzpyfSk7Y29uc3QgYz1lLnZhbHVlU3BlY3x8c1thXTtpZighYylyZXR1cm5bbmV3IFdpKG4sbyxgdW5rbm93biBwcm9wZXJ0eSBcIiR7YX1cImApXTtsZXQgdTtpZihcInN0cmluZ1wiPT09QWkobykmJklpKGMpJiYhYy50b2tlbnMmJih1PS9eeyhbXn1dKyl9JC8uZXhlYyhvKSkpcmV0dXJuW25ldyBXaShuLG8sYFwiJHthfVwiIGRvZXMgbm90IHN1cHBvcnQgaW50ZXJwb2xhdGlvbiBzeW50YXhcXG5Vc2UgYW4gaWRlbnRpdHkgcHJvcGVydHkgZnVuY3Rpb24gaW5zdGVhZDogXFxgeyBcInR5cGVcIjogXCJpZGVudGl0eVwiLCBcInByb3BlcnR5XCI6ICR7SlNPTi5zdHJpbmdpZnkodVsxXSl9IH1cXGAuYCldO2NvbnN0IGg9W107cmV0dXJuXCJzeW1ib2xcIj09PWUubGF5ZXJUeXBlJiYoXCJ0ZXh0LWZpZWxkXCI9PT1hJiZpJiYhaS5nbHlwaHMmJmgucHVzaChuZXcgV2kobixvLCd1c2Ugb2YgXCJ0ZXh0LWZpZWxkXCIgcmVxdWlyZXMgYSBzdHlsZSBcImdseXBoc1wiIHByb3BlcnR5JykpLFwidGV4dC1mb250XCI9PT1hJiZQaShldChvKSkmJlwiaWRlbnRpdHlcIj09PUtlKG8udHlwZSkmJmgucHVzaChuZXcgV2kobixvLCdcInRleHQtZm9udFwiIGRvZXMgbm90IHN1cHBvcnQgaWRlbnRpdHkgZnVuY3Rpb25zJykpKSxoLmNvbmNhdCh3cih7a2V5OmUua2V5LHZhbHVlOm8sdmFsdWVTcGVjOmMsc3R5bGU6aSxzdHlsZVNwZWM6cixleHByZXNzaW9uQ29udGV4dDpcInByb3BlcnR5XCIscHJvcGVydHlUeXBlOnQscHJvcGVydHlLZXk6YX0pKX1mdW5jdGlvbiBocihlKXtyZXR1cm4gdXIoZSxcInBhaW50XCIpfWZ1bmN0aW9uIGRyKGUpe3JldHVybiB1cihlLFwibGF5b3V0XCIpfWZ1bmN0aW9uIHByKGUpe2xldCB0PVtdO2NvbnN0IG49ZS52YWx1ZSxpPWUua2V5LHI9ZS5zdHlsZSxvPWUuc3R5bGVTcGVjO24udHlwZXx8bi5yZWZ8fHQucHVzaChuZXcgV2koaSxuLCdlaXRoZXIgXCJ0eXBlXCIgb3IgXCJyZWZcIiBpcyByZXF1aXJlZCcpKTtsZXQgYT1LZShuLnR5cGUpO2NvbnN0IHM9S2Uobi5yZWYpO2lmKG4uaWQpe2NvbnN0IG89S2Uobi5pZCk7Zm9yKGxldCBhPTA7YTxlLmFycmF5SW5kZXg7YSsrKXtjb25zdCBlPXIubGF5ZXJzW2FdO0tlKGUuaWQpPT09byYmdC5wdXNoKG5ldyBXaShpLG4uaWQsYGR1cGxpY2F0ZSBsYXllciBpZCBcIiR7bi5pZH1cIiwgcHJldmlvdXNseSB1c2VkIGF0IGxpbmUgJHtlLmlkLl9fbGluZV9ffWApKX19aWYoXCJyZWZcImluIG4pe2xldCBlO1tcInR5cGVcIixcInNvdXJjZVwiLFwic291cmNlLWxheWVyXCIsXCJmaWx0ZXJcIixcImxheW91dFwiXS5mb3JFYWNoKGU9PntlIGluIG4mJnQucHVzaChuZXcgV2koaSxuW2VdLGBcIiR7ZX1cIiBpcyBwcm9oaWJpdGVkIGZvciByZWYgbGF5ZXJzYCkpfSksci5sYXllcnMuZm9yRWFjaCh0PT57S2UodC5pZCk9PT1zJiYoZT10KX0pLGU/ZS5yZWY/dC5wdXNoKG5ldyBXaShpLG4ucmVmLFwicmVmIGNhbm5vdCByZWZlcmVuY2UgYW5vdGhlciByZWYgbGF5ZXJcIikpOmE9S2UoZS50eXBlKTpcInN0cmluZ1wiPT10eXBlb2YgcyYmdC5wdXNoKG5ldyBXaShpLG4ucmVmLGByZWYgbGF5ZXIgXCIke3N9XCIgbm90IGZvdW5kYCkpfWVsc2UgaWYoXCJiYWNrZ3JvdW5kXCIhPT1hJiZcInNreVwiIT09YSlpZihuLnNvdXJjZSl7Y29uc3QgZT1yLnNvdXJjZXMmJnIuc291cmNlc1tuLnNvdXJjZV0sbz1lJiZLZShlLnR5cGUpO2U/XCJ2ZWN0b3JcIj09PW8mJlwicmFzdGVyXCI9PT1hP3QucHVzaChuZXcgV2koaSxuLnNvdXJjZSxgbGF5ZXIgXCIke24uaWR9XCIgcmVxdWlyZXMgYSByYXN0ZXIgc291cmNlYCkpOlwicmFzdGVyXCI9PT1vJiZcInJhc3RlclwiIT09YT90LnB1c2gobmV3IFdpKGksbi5zb3VyY2UsYGxheWVyIFwiJHtuLmlkfVwiIHJlcXVpcmVzIGEgdmVjdG9yIHNvdXJjZWApKTpcInZlY3RvclwiIT09b3x8bltcInNvdXJjZS1sYXllclwiXT9cInJhc3Rlci1kZW1cIj09PW8mJlwiaGlsbHNoYWRlXCIhPT1hP3QucHVzaChuZXcgV2koaSxuLnNvdXJjZSxcInJhc3Rlci1kZW0gc291cmNlIGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBsYXllciB0eXBlICdoaWxsc2hhZGUnLlwiKSk6XCJsaW5lXCIhPT1hfHwhbi5wYWludHx8IW4ucGFpbnRbXCJsaW5lLWdyYWRpZW50XCJdJiYhbi5wYWludFtcImxpbmUtdHJpbS1vZmZzZXRcIl18fFwiZ2VvanNvblwiPT09byYmZS5saW5lTWV0cmljc3x8dC5wdXNoKG5ldyBXaShpLG4sYGxheWVyIFwiJHtuLmlkfVwiIHNwZWNpZmllcyBhIGxpbmUtZ3JhZGllbnQsIHdoaWNoIHJlcXVpcmVzIGEgR2VvSlNPTiBzb3VyY2Ugd2l0aCBcXGBsaW5lTWV0cmljc1xcYCBlbmFibGVkLmApKTp0LnB1c2gobmV3IFdpKGksbixgbGF5ZXIgXCIke24uaWR9XCIgbXVzdCBzcGVjaWZ5IGEgXCJzb3VyY2UtbGF5ZXJcImApKTp0LnB1c2gobmV3IFdpKGksbi5zb3VyY2UsYHNvdXJjZSBcIiR7bi5zb3VyY2V9XCIgbm90IGZvdW5kYCkpfWVsc2UgdC5wdXNoKG5ldyBXaShpLG4sJ21pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzb3VyY2VcIicpKTtyZXR1cm4gdD10LmNvbmNhdChxaSh7a2V5OmksdmFsdWU6bix2YWx1ZVNwZWM6by5sYXllcixzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7XCIqXCI6KCk9PltdLHR5cGU6KCk9PndyKHtrZXk6aStcIi50eXBlXCIsdmFsdWU6bi50eXBlLHZhbHVlU3BlYzpvLmxheWVyLnR5cGUsc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0Om4sb2JqZWN0S2V5OlwidHlwZVwifSksZmlsdGVyOmU9PmNyKFFlKHtsYXllclR5cGU6YX0sZSkpLGxheW91dDplPT5xaSh7bGF5ZXI6bixrZXk6ZS5rZXksdmFsdWU6ZS52YWx1ZSx2YWx1ZVNwZWM6e30sc3R5bGU6ZS5zdHlsZSxzdHlsZVNwZWM6ZS5zdHlsZVNwZWMsb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6e1wiKlwiOmU9PmRyKFFlKHtsYXllclR5cGU6YX0sZSkpfX0pLHBhaW50OmU9PnFpKHtsYXllcjpuLGtleTplLmtleSx2YWx1ZTplLnZhbHVlLHZhbHVlU3BlYzp7fSxzdHlsZTplLnN0eWxlLHN0eWxlU3BlYzplLnN0eWxlU3BlYyxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7XCIqXCI6ZT0+aHIoUWUoe2xheWVyVHlwZTphfSxlKSl9fSl9fSkpLHR9ZnVuY3Rpb24gZnIoZSl7Y29uc3QgdD1lLnZhbHVlLG49ZS5rZXksaT1BaSh0KTtyZXR1cm5cInN0cmluZ1wiIT09aT9bbmV3IFdpKG4sdCxgc3RyaW5nIGV4cGVjdGVkLCAke2l9IGZvdW5kYCldOltdfWNvbnN0IG1yPXtwcm9tb3RlSWQ6ZnVuY3Rpb24oe2tleTplLHZhbHVlOnR9KXtpZihcInN0cmluZ1wiPT09QWkodCkpcmV0dXJuIGZyKHtrZXk6ZSx2YWx1ZTp0fSk7e2NvbnN0IG49W107Zm9yKGNvbnN0IGkgaW4gdCluLnB1c2goLi4uZnIoe2tleTpgJHtlfS4ke2l9YCx2YWx1ZTp0W2ldfSkpO3JldHVybiBufX19O2Z1bmN0aW9uIGdyKGUpe2NvbnN0IHQ9ZS52YWx1ZSxuPWUua2V5LGk9ZS5zdHlsZVNwZWMscj1lLnN0eWxlO2lmKCF0LnR5cGUpcmV0dXJuW25ldyBXaShuLHQsJ1widHlwZVwiIGlzIHJlcXVpcmVkJyldO2NvbnN0IG89S2UodC50eXBlKTtsZXQgYTtzd2l0Y2gobyl7Y2FzZVwidmVjdG9yXCI6Y2FzZVwicmFzdGVyXCI6Y2FzZVwicmFzdGVyLWRlbVwiOnJldHVybiBhPXFpKHtrZXk6bix2YWx1ZTp0LHZhbHVlU3BlYzppW1wic291cmNlX1wiK28ucmVwbGFjZShcIi1cIixcIl9cIildLHN0eWxlOmUuc3R5bGUsc3R5bGVTcGVjOmksb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6bXJ9KSxhO2Nhc2VcImdlb2pzb25cIjppZihhPXFpKHtrZXk6bix2YWx1ZTp0LHZhbHVlU3BlYzppLnNvdXJjZV9nZW9qc29uLHN0eWxlOnIsc3R5bGVTcGVjOmksb2JqZWN0RWxlbWVudFZhbGlkYXRvcnM6bXJ9KSx0LmNsdXN0ZXIpZm9yKGNvbnN0IGUgaW4gdC5jbHVzdGVyUHJvcGVydGllcyl7Y29uc3RbaSxyXT10LmNsdXN0ZXJQcm9wZXJ0aWVzW2VdLG89XCJzdHJpbmdcIj09dHlwZW9mIGk/W2ksW1wiYWNjdW11bGF0ZWRcIl0sW1wiZ2V0XCIsZV1dOmk7YS5wdXNoKC4uLllpKHtrZXk6YCR7bn0uJHtlfS5tYXBgLHZhbHVlOnIsZXhwcmVzc2lvbkNvbnRleHQ6XCJjbHVzdGVyLW1hcFwifSkpLGEucHVzaCguLi5ZaSh7a2V5OmAke259LiR7ZX0ucmVkdWNlYCx2YWx1ZTpvLGV4cHJlc3Npb25Db250ZXh0OlwiY2x1c3Rlci1yZWR1Y2VcIn0pKX1yZXR1cm4gYTtjYXNlXCJ2aWRlb1wiOnJldHVybiBxaSh7a2V5Om4sdmFsdWU6dCx2YWx1ZVNwZWM6aS5zb3VyY2VfdmlkZW8sc3R5bGU6cixzdHlsZVNwZWM6aX0pO2Nhc2VcImltYWdlXCI6cmV0dXJuIHFpKHtrZXk6bix2YWx1ZTp0LHZhbHVlU3BlYzppLnNvdXJjZV9pbWFnZSxzdHlsZTpyLHN0eWxlU3BlYzppfSk7Y2FzZVwiY2FudmFzXCI6cmV0dXJuW25ldyBXaShuLG51bGwsXCJQbGVhc2UgdXNlIHJ1bnRpbWUgQVBJcyB0byBhZGQgY2FudmFzIHNvdXJjZXMsIHJhdGhlciB0aGFuIGluY2x1ZGluZyB0aGVtIGluIHN0eWxlc2hlZXRzLlwiLFwic291cmNlLmNhbnZhc1wiKV07ZGVmYXVsdDpyZXR1cm4gSmkoe2tleTpuK1wiLnR5cGVcIix2YWx1ZTp0LnR5cGUsdmFsdWVTcGVjOnt2YWx1ZXM6eXIoaSl9LHN0eWxlOnIsc3R5bGVTcGVjOml9KX19ZnVuY3Rpb24geXIoZSl7cmV0dXJuIGUuc291cmNlLnJlZHVjZSgodCxuKT0+e2NvbnN0IGk9ZVtuXTtyZXR1cm5cImVudW1cIj09PWkudHlwZS50eXBlJiYodD10LmNvbmNhdChPYmplY3Qua2V5cyhpLnR5cGUudmFsdWVzKSkpLHR9LFtdKX1mdW5jdGlvbiBfcihlKXtjb25zdCB0PWUudmFsdWUsbj1lLnN0eWxlU3BlYyxpPW4ubGlnaHQscj1lLnN0eWxlO2xldCBvPVtdO2NvbnN0IGE9QWkodCk7aWYodm9pZCAwPT09dClyZXR1cm4gbztpZihcIm9iamVjdFwiIT09YSlyZXR1cm4gbz1vLmNvbmNhdChbbmV3IFdpKFwibGlnaHRcIix0LGBvYmplY3QgZXhwZWN0ZWQsICR7YX0gZm91bmRgKV0pLG87Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3QgYT1lLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO289by5jb25jYXQoYSYmaVthWzFdXSYmaVthWzFdXS50cmFuc2l0aW9uP3dyKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzpuLnRyYW5zaXRpb24sc3R5bGU6cixzdHlsZVNwZWM6bn0pOmlbZV0/d3Ioe2tleTplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOmlbZV0sc3R5bGU6cixzdHlsZVNwZWM6bn0pOltuZXcgV2koZSx0W2VdLGB1bmtub3duIHByb3BlcnR5IFwiJHtlfVwiYCldKX1yZXR1cm4gb31mdW5jdGlvbiB2cihlKXtjb25zdCB0PWUudmFsdWUsbj1lLmtleSxpPWUuc3R5bGUscj1lLnN0eWxlU3BlYyxvPXIudGVycmFpbjtsZXQgYT1bXTtjb25zdCBzPUFpKHQpO2lmKHZvaWQgMD09PXQpcmV0dXJuIGE7aWYoXCJvYmplY3RcIiE9PXMpcmV0dXJuIGE9YS5jb25jYXQoW25ldyBXaShcInRlcnJhaW5cIix0LGBvYmplY3QgZXhwZWN0ZWQsICR7c30gZm91bmRgKV0pLGE7Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3Qgbj1lLm1hdGNoKC9eKC4qKS10cmFuc2l0aW9uJC8pO2E9YS5jb25jYXQobiYmb1tuWzFdXSYmb1tuWzFdXS50cmFuc2l0aW9uP3dyKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzpyLnRyYW5zaXRpb24sc3R5bGU6aSxzdHlsZVNwZWM6cn0pOm9bZV0/d3Ioe2tleTplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOm9bZV0sc3R5bGU6aSxzdHlsZVNwZWM6cn0pOltuZXcgV2koZSx0W2VdLGB1bmtub3duIHByb3BlcnR5IFwiJHtlfVwiYCldKX1pZih0LnNvdXJjZSl7Y29uc3QgZT1pLnNvdXJjZXMmJmkuc291cmNlc1t0LnNvdXJjZV0scj1lJiZLZShlLnR5cGUpO2U/XCJyYXN0ZXItZGVtXCIhPT1yJiZhLnB1c2gobmV3IFdpKG4sdC5zb3VyY2UsYHRlcnJhaW4gY2Fubm90IGJlIHVzZWQgd2l0aCBhIHNvdXJjZSBvZiB0eXBlICR7U3RyaW5nKHIpfSwgaXQgb25seSBiZSB1c2VkIHdpdGggYSBcInJhc3Rlci1kZW1cIiBzb3VyY2UgdHlwZWApKTphLnB1c2gobmV3IFdpKG4sdC5zb3VyY2UsYHNvdXJjZSBcIiR7dC5zb3VyY2V9XCIgbm90IGZvdW5kYCkpfWVsc2UgYS5wdXNoKG5ldyBXaShuLHQsJ3RlcnJhaW4gaXMgbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcInNvdXJjZVwiJykpO3JldHVybiBhfWZ1bmN0aW9uIHhyKGUpe2NvbnN0IHQ9ZS52YWx1ZSxuPWUuc3R5bGUsaT1lLnN0eWxlU3BlYyxyPWkuZm9nO2xldCBvPVtdO2NvbnN0IGE9QWkodCk7aWYodm9pZCAwPT09dClyZXR1cm4gbztpZihcIm9iamVjdFwiIT09YSlyZXR1cm4gbz1vLmNvbmNhdChbbmV3IFdpKFwiZm9nXCIsdCxgb2JqZWN0IGV4cGVjdGVkLCAke2F9IGZvdW5kYCldKSxvO2Zvcihjb25zdCBlIGluIHQpe2NvbnN0IGE9ZS5tYXRjaCgvXiguKiktdHJhbnNpdGlvbiQvKTtvPW8uY29uY2F0KGEmJnJbYVsxXV0mJnJbYVsxXV0udHJhbnNpdGlvbj93cih7a2V5OmUsdmFsdWU6dFtlXSx2YWx1ZVNwZWM6aS50cmFuc2l0aW9uLHN0eWxlOm4sc3R5bGVTcGVjOml9KTpyW2VdP3dyKHtrZXk6ZSx2YWx1ZTp0W2VdLHZhbHVlU3BlYzpyW2VdLHN0eWxlOm4sc3R5bGVTcGVjOml9KTpbbmV3IFdpKGUsdFtlXSxgdW5rbm93biBwcm9wZXJ0eSBcIiR7ZX1cImApXSl9cmV0dXJuIG99Y29uc3QgYnI9e1wiKlwiOigpPT5bXSxhcnJheTokaSxib29sZWFuOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS52YWx1ZSxuPWUua2V5LGk9QWkodCk7cmV0dXJuXCJib29sZWFuXCIhPT1pP1tuZXcgV2kobix0LGBib29sZWFuIGV4cGVjdGVkLCAke2l9IGZvdW5kYCldOltdfSxudW1iZXI6SGksY29sb3I6ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmtleSxuPWUudmFsdWUsaT1BaShuKTtyZXR1cm5cInN0cmluZ1wiIT09aT9bbmV3IFdpKHQsbixgY29sb3IgZXhwZWN0ZWQsICR7aX0gZm91bmRgKV06bnVsbD09PWJ0KG4pP1tuZXcgV2kodCxuLGBjb2xvciBleHBlY3RlZCwgXCIke259XCIgZm91bmRgKV06W119LGVudW06SmksZmlsdGVyOmNyLGZ1bmN0aW9uOlhpLGxheWVyOnByLG9iamVjdDpxaSxzb3VyY2U6Z3IsbGlnaHQ6X3IsdGVycmFpbjp2cixmb2c6eHIsc3RyaW5nOmZyLGZvcm1hdHRlZDpmdW5jdGlvbihlKXtyZXR1cm4gMD09PWZyKGUpLmxlbmd0aD9bXTpZaShlKX0scmVzb2x2ZWRJbWFnZTpmdW5jdGlvbihlKXtyZXR1cm4gMD09PWZyKGUpLmxlbmd0aD9bXTpZaShlKX0scHJvamVjdGlvbjpmdW5jdGlvbihlKXtjb25zdCB0PWUudmFsdWUsbj1lLnN0eWxlU3BlYyxpPW4ucHJvamVjdGlvbixyPWUuc3R5bGU7bGV0IG89W107Y29uc3QgYT1BaSh0KTtpZihcIm9iamVjdFwiPT09YSlmb3IoY29uc3QgZSBpbiB0KW89by5jb25jYXQod3Ioe2tleTplLHZhbHVlOnRbZV0sdmFsdWVTcGVjOmlbZV0sc3R5bGU6cixzdHlsZVNwZWM6bn0pKTtlbHNlXCJzdHJpbmdcIiE9PWEmJihvPW8uY29uY2F0KFtuZXcgV2koXCJwcm9qZWN0aW9uXCIsdCxgb2JqZWN0IG9yIHN0cmluZyBleHBlY3RlZCwgJHthfSBmb3VuZGApXSkpO3JldHVybiBvfX07ZnVuY3Rpb24gd3IoZSl7Y29uc3QgdD1lLnZhbHVlLG49ZS52YWx1ZVNwZWMsaT1lLnN0eWxlU3BlYztyZXR1cm4gbi5leHByZXNzaW9uJiZQaShLZSh0KSk/WGkoZSk6bi5leHByZXNzaW9uJiZGaShldCh0KSk/WWkoZSk6bi50eXBlJiZicltuLnR5cGVdP2JyW24udHlwZV0oZSk6cWkoUWUoe30sZSx7dmFsdWVTcGVjOm4udHlwZT9pW24udHlwZV06bn0pKX1mdW5jdGlvbiBUcihlKXtjb25zdCB0PWUudmFsdWUsbj1lLmtleSxpPWZyKGUpO3JldHVybiBpLmxlbmd0aHx8KC0xPT09dC5pbmRleE9mKFwie2ZvbnRzdGFja31cIikmJmkucHVzaChuZXcgV2kobix0LCdcImdseXBoc1wiIHVybCBtdXN0IGluY2x1ZGUgYSBcIntmb250c3RhY2t9XCIgdG9rZW4nKSksLTE9PT10LmluZGV4T2YoXCJ7cmFuZ2V9XCIpJiZpLnB1c2gobmV3IFdpKG4sdCwnXCJnbHlwaHNcIiB1cmwgbXVzdCBpbmNsdWRlIGEgXCJ7cmFuZ2V9XCIgdG9rZW4nKSkpLGl9ZnVuY3Rpb24gRXIoZSx0PUplKXtyZXR1cm4gSXIod3Ioe2tleTpcIlwiLHZhbHVlOmUsdmFsdWVTcGVjOnQuJHJvb3Qsc3R5bGVTcGVjOnQsc3R5bGU6ZSxvYmplY3RFbGVtZW50VmFsaWRhdG9yczp7Z2x5cGhzOlRyLFwiKlwiOigpPT5bXX19KSl9Y29uc3QgU3I9ZT0+SXIoaHIoZSkpLE1yPWU9PklyKGRyKGUpKTtmdW5jdGlvbiBJcihlKXtyZXR1cm4gZS5zbGljZSgpLnNvcnQoKGUsdCk9PmUubGluZSYmdC5saW5lP2UubGluZS10LmxpbmU6MCl9ZnVuY3Rpb24gQ3IoZSx0KXtsZXQgbj0hMTtpZih0JiZ0Lmxlbmd0aClmb3IoY29uc3QgaSBvZiB0KWUuZmlyZShuZXcgWGUobmV3IEVycm9yKGkubWVzc2FnZSkpKSxuPSEwO3JldHVybiBufXZhciBrcj1BcjtmdW5jdGlvbiBBcihlLHQsbil7dmFyIGk9dGhpcy5jZWxscz1bXTtpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe3RoaXMuYXJyYXlCdWZmZXI9ZTt2YXIgcj1uZXcgSW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKTtlPXJbMF0sdGhpcy5kPSh0PXJbMV0pKzIqKG49clsyXSk7Zm9yKHZhciBvPTA7bzx0aGlzLmQqdGhpcy5kO28rKyl7dmFyIGE9clszK29dLHM9clszK28rMV07aS5wdXNoKGE9PT1zP251bGw6ci5zdWJhcnJheShhLHMpKX12YXIgbD1yWzMraS5sZW5ndGgrMV07dGhpcy5rZXlzPXIuc3ViYXJyYXkoclszK2kubGVuZ3RoXSxsKSx0aGlzLmJib3hlcz1yLnN1YmFycmF5KGwpLHRoaXMuaW5zZXJ0PXRoaXMuX2luc2VydFJlYWRvbmx5fWVsc2V7dGhpcy5kPXQrMipuO2Zvcih2YXIgYz0wO2M8dGhpcy5kKnRoaXMuZDtjKyspaS5wdXNoKFtdKTt0aGlzLmtleXM9W10sdGhpcy5iYm94ZXM9W119dGhpcy5uPXQsdGhpcy5leHRlbnQ9ZSx0aGlzLnBhZGRpbmc9bix0aGlzLnNjYWxlPXQvZSx0aGlzLnVpZD0wO3ZhciB1PW4vdCplO3RoaXMubWluPS11LHRoaXMubWF4PWUrdX1Bci5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKGUsdCxuLGkscil7dGhpcy5fZm9yRWFjaENlbGwodCxuLGkscix0aGlzLl9pbnNlcnRDZWxsLHRoaXMudWlkKyspLHRoaXMua2V5cy5wdXNoKGUpLHRoaXMuYmJveGVzLnB1c2godCksdGhpcy5iYm94ZXMucHVzaChuKSx0aGlzLmJib3hlcy5wdXNoKGkpLHRoaXMuYmJveGVzLnB1c2gocil9LEFyLnByb3RvdHlwZS5faW5zZXJ0UmVhZG9ubHk9ZnVuY3Rpb24oKXt0aHJvd1wiQ2Fubm90IGluc2VydCBpbnRvIGEgR3JpZEluZGV4IGNyZWF0ZWQgZnJvbSBhbiBBcnJheUJ1ZmZlci5cIn0sQXIucHJvdG90eXBlLl9pbnNlcnRDZWxsPWZ1bmN0aW9uKGUsdCxuLGkscixvKXt0aGlzLmNlbGxzW3JdLnB1c2gobyl9LEFyLnByb3RvdHlwZS5xdWVyeT1mdW5jdGlvbihlLHQsbixpLHIpe3ZhciBvPXRoaXMubWluLGE9dGhpcy5tYXg7aWYoZTw9byYmdDw9byYmYTw9biYmYTw9aSYmIXIpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMua2V5cyk7dmFyIHM9W107cmV0dXJuIHRoaXMuX2ZvckVhY2hDZWxsKGUsdCxuLGksdGhpcy5fcXVlcnlDZWxsLHMse30sciksc30sQXIucHJvdG90eXBlLl9xdWVyeUNlbGw9ZnVuY3Rpb24oZSx0LG4saSxyLG8sYSxzKXt2YXIgbD10aGlzLmNlbGxzW3JdO2lmKG51bGwhPT1sKWZvcih2YXIgYz10aGlzLmtleXMsdT10aGlzLmJib3hlcyxoPTA7aDxsLmxlbmd0aDtoKyspe3ZhciBkPWxbaF07aWYodm9pZCAwPT09YVtkXSl7dmFyIHA9NCpkOyhzP3ModVtwKzBdLHVbcCsxXSx1W3ArMl0sdVtwKzNdKTplPD11W3ArMl0mJnQ8PXVbcCszXSYmbj49dVtwKzBdJiZpPj11W3ArMV0pPyhhW2RdPSEwLG8ucHVzaChjW2RdKSk6YVtkXT0hMX19fSxBci5wcm90b3R5cGUuX2ZvckVhY2hDZWxsPWZ1bmN0aW9uKGUsdCxuLGkscixvLGEscyl7Zm9yKHZhciBsPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChlKSxjPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZCh0KSx1PXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChuKSxoPXRoaXMuX2NvbnZlcnRUb0NlbGxDb29yZChpKSxkPWw7ZDw9dTtkKyspZm9yKHZhciBwPWM7cDw9aDtwKyspe3ZhciBmPXRoaXMuZCpwK2Q7aWYoKCFzfHxzKHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGQpLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKHApLHRoaXMuX2NvbnZlcnRGcm9tQ2VsbENvb3JkKGQrMSksdGhpcy5fY29udmVydEZyb21DZWxsQ29vcmQocCsxKSkpJiZyLmNhbGwodGhpcyxlLHQsbixpLGYsbyxhLHMpKXJldHVybn19LEFyLnByb3RvdHlwZS5fY29udmVydEZyb21DZWxsQ29vcmQ9ZnVuY3Rpb24oZSl7cmV0dXJuKGUtdGhpcy5wYWRkaW5nKS90aGlzLnNjYWxlfSxBci5wcm90b3R5cGUuX2NvbnZlcnRUb0NlbGxDb29yZD1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLmQtMSxNYXRoLmZsb29yKGUqdGhpcy5zY2FsZSkrdGhpcy5wYWRkaW5nKSl9LEFyLnByb3RvdHlwZS50b0FycmF5QnVmZmVyPWZ1bmN0aW9uKCl7aWYodGhpcy5hcnJheUJ1ZmZlcilyZXR1cm4gdGhpcy5hcnJheUJ1ZmZlcjtmb3IodmFyIGU9dGhpcy5jZWxscyx0PTMrdGhpcy5jZWxscy5sZW5ndGgrMSsxLG49MCxpPTA7aTx0aGlzLmNlbGxzLmxlbmd0aDtpKyspbis9dGhpcy5jZWxsc1tpXS5sZW5ndGg7dmFyIHI9bmV3IEludDMyQXJyYXkodCtuK3RoaXMua2V5cy5sZW5ndGgrdGhpcy5iYm94ZXMubGVuZ3RoKTtyWzBdPXRoaXMuZXh0ZW50LHJbMV09dGhpcy5uLHJbMl09dGhpcy5wYWRkaW5nO2Zvcih2YXIgbz10LGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIHM9ZVthXTtyWzMrYV09byxyLnNldChzLG8pLG8rPXMubGVuZ3RofXJldHVybiByWzMrZS5sZW5ndGhdPW8sci5zZXQodGhpcy5rZXlzLG8pLHJbMytlLmxlbmd0aCsxXT1vKz10aGlzLmtleXMubGVuZ3RoLHIuc2V0KHRoaXMuYmJveGVzLG8pLG8rPXRoaXMuYmJveGVzLmxlbmd0aCxyLmJ1ZmZlcn07Y29uc3QgUHI9e307ZnVuY3Rpb24genIoZSx0LG49e30pe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX2NsYXNzUmVnaXN0cnlLZXlcIix7dmFsdWU6dCx3cml0ZWFibGU6ITF9KSxQclt0XT17a2xhc3M6ZSxvbWl0Om4ub21pdHx8W119fXpyKE9iamVjdCxcIk9iamVjdFwiKSxrci5zZXJpYWxpemU9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPWUudG9BcnJheUJ1ZmZlcigpO3JldHVybiB0JiZ0LnB1c2gobikse2J1ZmZlcjpufX0sa3IuZGVzZXJpYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBrcihlLmJ1ZmZlcil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShrcixcIm5hbWVcIix7dmFsdWU6XCJHcmlkXCJ9KSx6cihrcixcIkdyaWRcIiksenIoQ3QsXCJDb2xvclwiKSx6cihFcnJvcixcIkVycm9yXCIpLHpyKHNlLFwiQUpBWEVycm9yXCIpLHpyKHp0LFwiUmVzb2x2ZWRJbWFnZVwiKSx6cihaaSxcIlN0eWxlUHJvcGVydHlGdW5jdGlvblwiKSx6cihqaSxcIlN0eWxlRXhwcmVzc2lvblwiLHtvbWl0OltcIl9ldmFsdWF0b3JcIl19KSx6cihWaSxcIlpvb21EZXBlbmRlbnRFeHByZXNzaW9uXCIpLHpyKFVpLFwiWm9vbUNvbnN0YW50RXhwcmVzc2lvblwiKSx6cihKdCxcIkNvbXBvdW5kRXhwcmVzc2lvblwiLHtvbWl0OltcIl9ldmFsdWF0ZVwiXX0pO2Zvcihjb25zdCBlIGluIEVpKVByW0VpW2VdLl9jbGFzc1JlZ2lzdHJ5S2V5XXx8enIoRWlbZV0sXCJFeHByZXNzaW9uXCIrZSk7ZnVuY3Rpb24gRHIoZSl7cmV0dXJuIGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8ZS5jb25zdHJ1Y3RvciYmXCJBcnJheUJ1ZmZlclwiPT09ZS5jb25zdHJ1Y3Rvci5uYW1lKX1mdW5jdGlvbiBMcihlKXtyZXR1cm4gbi5JbWFnZUJpdG1hcCYmZSBpbnN0YW5jZW9mIG4uSW1hZ2VCaXRtYXB9ZnVuY3Rpb24gT3IoZSx0KXtpZihudWxsPT1lfHxcImJvb2xlYW5cIj09dHlwZW9mIGV8fFwibnVtYmVyXCI9PXR5cGVvZiBlfHxcInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIEJvb2xlYW58fGUgaW5zdGFuY2VvZiBOdW1iZXJ8fGUgaW5zdGFuY2VvZiBTdHJpbmd8fGUgaW5zdGFuY2VvZiBEYXRlfHxlIGluc3RhbmNlb2YgUmVnRXhwKXJldHVybiBlO2lmKERyKGUpfHxMcihlKSlyZXR1cm4gdCYmdC5wdXNoKGUpLGU7aWYoQXJyYXlCdWZmZXIuaXNWaWV3KGUpKXtjb25zdCBuPWU7cmV0dXJuIHQmJnQucHVzaChuLmJ1ZmZlciksbn1pZihlIGluc3RhbmNlb2Ygbi5JbWFnZURhdGEpcmV0dXJuIHQmJnQucHVzaChlLmRhdGEuYnVmZmVyKSxlO2lmKEFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IG49W107Zm9yKGNvbnN0IGkgb2YgZSluLnB1c2goT3IoaSx0KSk7cmV0dXJuIG59aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe2NvbnN0IG49ZS5jb25zdHJ1Y3RvcixpPW4uX2NsYXNzUmVnaXN0cnlLZXk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3Qgc2VyaWFsaXplIG9iamVjdCBvZiB1bnJlZ2lzdGVyZWQgY2xhc3MgXCIraSk7Y29uc3Qgcj1uLnNlcmlhbGl6ZT9uLnNlcmlhbGl6ZShlLHQpOnt9O2lmKCFuLnNlcmlhbGl6ZSl7Zm9yKGNvbnN0IG4gaW4gZSllLmhhc093blByb3BlcnR5KG4pJiYoUHJbaV0ub21pdC5pbmRleE9mKG4pPj0wfHwocltuXT1PcihlW25dLHQpKSk7ZSBpbnN0YW5jZW9mIEVycm9yJiYoci5tZXNzYWdlPWUubWVzc2FnZSl9aWYoci4kbmFtZSl0aHJvdyBuZXcgRXJyb3IoXCIkbmFtZSBwcm9wZXJ0eSBpcyByZXNlcnZlZCBmb3Igd29ya2VyIHNlcmlhbGl6YXRpb24gbG9naWMuXCIpO3JldHVyblwiT2JqZWN0XCIhPT1pJiYoci4kbmFtZT1pKSxyfXRocm93IG5ldyBFcnJvcihcImNhbid0IHNlcmlhbGl6ZSBvYmplY3Qgb2YgdHlwZSBcIit0eXBlb2YgZSl9ZnVuY3Rpb24gUnIoZSl7aWYobnVsbD09ZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBCb29sZWFufHxlIGluc3RhbmNlb2YgTnVtYmVyfHxlIGluc3RhbmNlb2YgU3RyaW5nfHxlIGluc3RhbmNlb2YgRGF0ZXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cHx8RHIoZSl8fExyKGUpfHxBcnJheUJ1ZmZlci5pc1ZpZXcoZSl8fGUgaW5zdGFuY2VvZiBuLkltYWdlRGF0YSlyZXR1cm4gZTtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlLm1hcChScik7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe2NvbnN0IHQ9ZS4kbmFtZXx8XCJPYmplY3RcIix7a2xhc3M6bn09UHJbdF07aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgZGVzZXJpYWxpemUgdW5yZWdpc3RlcmVkIGNsYXNzIFwiK3QpO2lmKG4uZGVzZXJpYWxpemUpcmV0dXJuIG4uZGVzZXJpYWxpemUoZSk7Y29uc3QgaT1PYmplY3QuY3JlYXRlKG4ucHJvdG90eXBlKTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyhlKSlcIiRuYW1lXCIhPT10JiYoaVt0XT1ScihlW3RdKSk7cmV0dXJuIGl9dGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgZGVzZXJpYWxpemUgb2JqZWN0IG9mIHR5cGUgXCIrdHlwZW9mIGUpfWNvbnN0IEJyPWU9PmU+PTE1MzYmJmU8PTE3OTEsanI9ZT0+ZT49MTg3MiYmZTw9MTkxOSxGcj1lPT5lPj0yMjA4JiZlPD0yMzAzLE5yPWU9PmU+PTExOTA0JiZlPD0xMjAzMSxVcj1lPT5lPj0xMjAzMiYmZTw9MTIyNTUsVnI9ZT0+ZT49MTIyNzImJmU8PTEyMjg3LEdyPWU9PmU+PTEyMjg4JiZlPD0xMjM1MSxacj1lPT5lPj0xMjM1MiYmZTw9MTI0NDcsV3I9ZT0+ZT49MTI0NDgmJmU8PTEyNTQzLHFyPWU9PmU+PTEyNTQ0JiZlPD0xMjU5MSwkcj1lPT5lPj0xMjcwNCYmZTw9MTI3MzUsSHI9ZT0+ZT49MTI3MzYmJmU8PTEyNzgzLFhyPWU9PmU+PTEyNzg0JiZlPD0xMjc5OSxZcj1lPT5lPj0xMjgwMCYmZTw9MTMwNTUsSnI9ZT0+ZT49MTMwNTYmJmU8PTEzMzExLFFyPWU9PmU+PTEzMzEyJiZlPD0xOTkwMyxLcj1lPT5lPj0xOTk2OCYmZTw9NDA5NTksZW89ZT0+ZT49NDA5NjAmJmU8PTQyMTI3LHRvPWU9PmU+PTQyMTI4JiZlPD00MjE5MSxubz1lPT5lPj00NDAzMiYmZTw9NTUyMTUsaW89ZT0+ZT49NjM3NDQmJmU8PTY0MjU1LHJvPWU9PmU+PTY0MzM2JiZlPD02NTAyMyxvbz1lPT5lPj02NTA0MCYmZTw9NjUwNTUsYW89ZT0+ZT49NjUwNzImJmU8PTY1MTAzLHNvPWU9PmU+PTY1MTA0JiZlPD02NTEzNSxsbz1lPT5lPj02NTEzNiYmZTw9NjUyNzksY289ZT0+ZT49NjUyODAmJmU8PTY1NTE5O2Z1bmN0aW9uIHVvKGUpe2Zvcihjb25zdCB0IG9mIGUpaWYoZm8odC5jaGFyQ29kZUF0KDApKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBobyhlKXtmb3IoY29uc3QgdCBvZiBlKWlmKCFwbyh0LmNoYXJDb2RlQXQoMCkpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHBvKGUpe3JldHVybiEoQnIoZSl8fGpyKGUpfHxGcihlKXx8cm8oZSl8fGxvKGUpKX1mdW5jdGlvbiBmbyhlKXtyZXR1cm4hKDc0NiE9PWUmJjc0NyE9PWUmJihlPDQzNTJ8fCEoJHIoZSl8fHFyKGUpfHxhbyhlKSYmIShlPj02NTA5NyYmZTw9NjUxMDMpfHxpbyhlKXx8SnIoZSl8fE5yKGUpfHxIcihlKXx8ISghR3IoZSl8fGU+PTEyMjk2JiZlPD0xMjMwNXx8ZT49MTIzMDgmJmU8PTEyMzE5fHwxMjMzNj09PWUpfHxRcihlKXx8S3IoZSl8fFlyKGUpfHwoZT0+ZT49MTI1OTImJmU8PTEyNjg3KShlKXx8KGU9PmU+PTQzMzYwJiZlPD00MzM5MSkoZSl8fChlPT5lPj01NTIxNiYmZTw9NTUyOTUpKGUpfHwoZT0+ZT49NDM1MiYmZTw9NDYwNykoZSl8fG5vKGUpfHxacihlKXx8VnIoZSl8fChlPT5lPj0xMjY4OCYmZTw9MTI3MDMpKGUpfHxVcihlKXx8WHIoZSl8fFdyKGUpJiYxMjU0MCE9PWV8fCEoIWNvKGUpfHw2NTI4OD09PWV8fDY1Mjg5PT09ZXx8NjUyOTM9PT1lfHxlPj02NTMwNiYmZTw9NjUzMTB8fDY1MzM5PT09ZXx8NjUzNDE9PT1lfHw2NTM0Mz09PWV8fGU+PTY1MzcxJiZlPD02NTUwM3x8NjU1MDc9PT1lfHxlPj02NTUxMiYmZTw9NjU1MTkpfHwhKCFzbyhlKXx8ZT49NjUxMTImJmU8PTY1MTE4fHxlPj02NTEyMyYmZTw9NjUxMjYpfHwoZT0+ZT49NTEyMCYmZTw9NTc1OSkoZSl8fChlPT5lPj02MzIwJiZlPD02Mzk5KShlKXx8b28oZSl8fChlPT5lPj0xOTkwNCYmZTw9MTk5NjcpKGUpfHxlbyhlKXx8dG8oZSkpKSl9ZnVuY3Rpb24gbW8oZSl7cmV0dXJuIShmbyhlKXx8ZnVuY3Rpb24oZSl7cmV0dXJuISEoKGU9PmU+PTEyOCYmZTw9MjU1KShlKSYmKDE2Nz09PWV8fDE2OT09PWV8fDE3ND09PWV8fDE3Nz09PWV8fDE4OD09PWV8fDE4OT09PWV8fDE5MD09PWV8fDIxNT09PWV8fDI0Nz09PWUpfHwoZT0+ZT49ODE5MiYmZTw9ODMwMykoZSkmJig4MjE0PT09ZXx8ODIyND09PWV8fDgyMjU9PT1lfHw4MjQwPT09ZXx8ODI0MT09PWV8fDgyNTE9PT1lfHw4MjUyPT09ZXx8ODI1OD09PWV8fDgyNjM9PT1lfHw4MjY0PT09ZXx8ODI2NT09PWV8fDgyNzM9PT1lKXx8KGU9PmU+PTg0NDgmJmU8PTg1MjcpKGUpfHwoZT0+ZT49ODUyOCYmZTw9ODU5MSkoZSl8fChlPT5lPj04OTYwJiZlPD05MjE1KShlKSYmKGU+PTg5NjAmJmU8PTg5Njd8fGU+PTg5NzImJmU8PTg5OTF8fGU+PTg5OTYmJmU8PTllM3x8OTAwMz09PWV8fGU+PTkwODUmJmU8PTkxMTR8fGU+PTkxNTAmJmU8PTkxNjV8fDkxNjc9PT1lfHxlPj05MTY5JiZlPD05MTc5fHxlPj05MTg2JiZlPD05MjE1KXx8KGU9PmU+PTkyMTYmJmU8PTkyNzkpKGUpJiY5MjUxIT09ZXx8KGU9PmU+PTkyODAmJmU8PTkzMTEpKGUpfHwoZT0+ZT49OTMxMiYmZTw9OTQ3MSkoZSl8fChlPT5lPj05NjMyJiZlPD05NzI3KShlKXx8KGU9PmU+PTk3MjgmJmU8PTk5ODMpKGUpJiYhKGU+PTk3NTQmJmU8PTk3NTkpfHwoZT0+ZT49MTEwMDgmJmU8PTExMjYzKShlKSYmKGU+PTExMDI2JiZlPD0xMTA1NXx8ZT49MTEwODgmJmU8PTExMDk3fHxlPj0xMTE5MiYmZTw9MTEyNDMpfHxHcihlKXx8V3IoZSl8fChlPT5lPj01NzM0NCYmZTw9NjM3NDMpKGUpfHxhbyhlKXx8c28oZSl8fGNvKGUpfHw4NzM0PT09ZXx8ODc1Nj09PWV8fDg3NTc9PT1lfHxlPj05OTg0JiZlPD0xMDA4N3x8ZT49MTAxMDImJmU8PTEwMTMxfHw2NTUzMj09PWV8fDY1NTMzPT09ZSl9KGUpKX1mdW5jdGlvbiBnbyhlKXtyZXR1cm4gZT49MTQyNCYmZTw9MjMwM3x8cm8oZSl8fGxvKGUpfWZ1bmN0aW9uIHlvKGUsdCl7cmV0dXJuISghdCYmZ28oZSl8fGU+PTIzMDQmJmU8PTM1ODN8fGU+PTM4NDAmJmU8PTQyNTV8fChlPT5lPj02MDE2JiZlPD02MTQzKShlKSl9ZnVuY3Rpb24gX28oZSl7Zm9yKGNvbnN0IHQgb2YgZSlpZihnbyh0LmNoYXJDb2RlQXQoMCkpKXJldHVybiEwO3JldHVybiExfWNvbnN0IHZvPVwiZGVmZXJyZWRcIix4bz1cImxvYWRpbmdcIixibz1cImxvYWRlZFwiO2xldCB3bz1udWxsLFRvPVwidW5hdmFpbGFibGVcIixFbz1udWxsO2NvbnN0IFNvPWZ1bmN0aW9uKGUpe2UmJlwic3RyaW5nXCI9PXR5cGVvZiBlJiZlLmluZGV4T2YoXCJOZXR3b3JrRXJyb3JcIik+LTEmJihUbz1cImVycm9yXCIpLHdvJiZ3byhlKX07ZnVuY3Rpb24gTW8oKXtJby5maXJlKG5ldyBIZShcInBsdWdpblN0YXRlQ2hhbmdlXCIse3BsdWdpblN0YXR1czpUbyxwbHVnaW5VUkw6RW99KSl9Y29uc3QgSW89bmV3IFllLENvPWZ1bmN0aW9uKCl7cmV0dXJuIFRvfSxrbz1mdW5jdGlvbigpe2lmKFRvIT09dm98fCFFbyl0aHJvdyBuZXcgRXJyb3IoXCJydGwtdGV4dC1wbHVnaW4gY2Fubm90IGJlIGRvd25sb2FkZWQgdW5sZXNzIGEgcGx1Z2luVVJMIGlzIHNwZWNpZmllZFwiKTtUbz14byxNbygpLEVvJiZ1ZSh7dXJsOkVvfSxlPT57ZT9TbyhlKTooVG89Ym8sTW8oKSl9KX0sQW89e2FwcGx5QXJhYmljU2hhcGluZzpudWxsLHByb2Nlc3NCaWRpcmVjdGlvbmFsVGV4dDpudWxsLHByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dDpudWxsLGlzTG9hZGVkOigpPT5Ubz09PWJvfHxudWxsIT1Bby5hcHBseUFyYWJpY1NoYXBpbmcsaXNMb2FkaW5nOigpPT5Ubz09PXhvLHNldFN0YXRlKGUpe1RvPWUucGx1Z2luU3RhdHVzLEVvPWUucGx1Z2luVVJMfSxpc1BhcnNlZDooKT0+bnVsbCE9QW8uYXBwbHlBcmFiaWNTaGFwaW5nJiZudWxsIT1Bby5wcm9jZXNzQmlkaXJlY3Rpb25hbFRleHQmJm51bGwhPUFvLnByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dCxnZXRQbHVnaW5VUkw6KCk9PkVvfTtjbGFzcyBQb3tjb25zdHJ1Y3RvcihlLHQpe3RoaXMuem9vbT1lLHQ/KHRoaXMubm93PXQubm93LHRoaXMuZmFkZUR1cmF0aW9uPXQuZmFkZUR1cmF0aW9uLHRoaXMudHJhbnNpdGlvbj10LnRyYW5zaXRpb24sdGhpcy5waXRjaD10LnBpdGNoKToodGhpcy5ub3c9MCx0aGlzLmZhZGVEdXJhdGlvbj0wLHRoaXMudHJhbnNpdGlvbj17fSx0aGlzLnBpdGNoPTApfWlzU3VwcG9ydGVkU2NyaXB0KGUpe3JldHVybiBmdW5jdGlvbihlLHQpe2Zvcihjb25zdCBuIG9mIGUpaWYoIXlvKG4uY2hhckNvZGVBdCgwKSx0KSlyZXR1cm4hMTtyZXR1cm4hMH0oZSxBby5pc0xvYWRlZCgpKX19Y2xhc3Mgem97Y29uc3RydWN0b3IoZSx0KXt0aGlzLnByb3BlcnR5PWUsdGhpcy52YWx1ZT10LHRoaXMuZXhwcmVzc2lvbj1mdW5jdGlvbihlLHQpe2lmKFBpKGUpKXJldHVybiBuZXcgWmkoZSx0KTtpZihGaShlKSl7Y29uc3Qgbj1HaShlLHQpO2lmKFwiZXJyb3JcIj09PW4ucmVzdWx0KXRocm93IG5ldyBFcnJvcihuLnZhbHVlLm1hcChlPT5gJHtlLmtleX06ICR7ZS5tZXNzYWdlfWApLmpvaW4oXCIsIFwiKSk7cmV0dXJuIG4udmFsdWV9e2xldCBuPWU7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUmJlwiY29sb3JcIj09PXQudHlwZSYmKG49Q3QucGFyc2UoZSkpLHtraW5kOlwiY29uc3RhbnRcIixldmFsdWF0ZTooKT0+bn19fSh2b2lkIDA9PT10P2Uuc3BlY2lmaWNhdGlvbi5kZWZhdWx0OnQsZS5zcGVjaWZpY2F0aW9uKX1pc0RhdGFEcml2ZW4oKXtyZXR1cm5cInNvdXJjZVwiPT09dGhpcy5leHByZXNzaW9uLmtpbmR8fFwiY29tcG9zaXRlXCI9PT10aGlzLmV4cHJlc3Npb24ua2luZH1wb3NzaWJseUV2YWx1YXRlKGUsdCxuKXtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5wb3NzaWJseUV2YWx1YXRlKHRoaXMsZSx0LG4pfX1jbGFzcyBEb3tjb25zdHJ1Y3RvcihlKXt0aGlzLnByb3BlcnR5PWUsdGhpcy52YWx1ZT1uZXcgem8oZSx2b2lkIDApfXRyYW5zaXRpb25lZChlLHQpe3JldHVybiBuZXcgT28odGhpcy5wcm9wZXJ0eSx0aGlzLnZhbHVlLHQsQSh7fSxlLnRyYW5zaXRpb24sdGhpcy50cmFuc2l0aW9uKSxlLm5vdyl9dW50cmFuc2l0aW9uZWQoKXtyZXR1cm4gbmV3IE9vKHRoaXMucHJvcGVydHksdGhpcy52YWx1ZSxudWxsLHt9LDApfX1jbGFzcyBMb3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9wcm9wZXJ0aWVzPWUsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUoZS5kZWZhdWx0VHJhbnNpdGlvbmFibGVQcm9wZXJ0eVZhbHVlcyl9Z2V0VmFsdWUoZSl7cmV0dXJuIE4odGhpcy5fdmFsdWVzW2VdLnZhbHVlLnZhbHVlKX1zZXRWYWx1ZShlLHQpe3RoaXMuX3ZhbHVlcy5oYXNPd25Qcm9wZXJ0eShlKXx8KHRoaXMuX3ZhbHVlc1tlXT1uZXcgRG8odGhpcy5fdmFsdWVzW2VdLnByb3BlcnR5KSksdGhpcy5fdmFsdWVzW2VdLnZhbHVlPW5ldyB6byh0aGlzLl92YWx1ZXNbZV0ucHJvcGVydHksbnVsbD09PXQ/dm9pZCAwOk4odCkpfWdldFRyYW5zaXRpb24oZSl7cmV0dXJuIE4odGhpcy5fdmFsdWVzW2VdLnRyYW5zaXRpb24pfXNldFRyYW5zaXRpb24oZSx0KXt0aGlzLl92YWx1ZXMuaGFzT3duUHJvcGVydHkoZSl8fCh0aGlzLl92YWx1ZXNbZV09bmV3IERvKHRoaXMuX3ZhbHVlc1tlXS5wcm9wZXJ0eSkpLHRoaXMuX3ZhbHVlc1tlXS50cmFuc2l0aW9uPU4odCl8fHZvaWQgMH1zZXJpYWxpemUoKXtjb25zdCBlPXt9O2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpe2NvbnN0IG49dGhpcy5nZXRWYWx1ZSh0KTt2b2lkIDAhPT1uJiYoZVt0XT1uKTtjb25zdCBpPXRoaXMuZ2V0VHJhbnNpdGlvbih0KTt2b2lkIDAhPT1pJiYoZVt0K1wiLXRyYW5zaXRpb25cIl09aSl9cmV0dXJuIGV9dHJhbnNpdGlvbmVkKGUsdCl7Y29uc3Qgbj1uZXcgUm8odGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IGkgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSluLl92YWx1ZXNbaV09dGhpcy5fdmFsdWVzW2ldLnRyYW5zaXRpb25lZChlLHQuX3ZhbHVlc1tpXSk7cmV0dXJuIG59dW50cmFuc2l0aW9uZWQoKXtjb25zdCBlPW5ldyBSbyh0aGlzLl9wcm9wZXJ0aWVzKTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKWUuX3ZhbHVlc1t0XT10aGlzLl92YWx1ZXNbdF0udW50cmFuc2l0aW9uZWQoKTtyZXR1cm4gZX19Y2xhc3MgT297Y29uc3RydWN0b3IoZSx0LG4saSxyKXtjb25zdCBvPWkuZGVsYXl8fDAsYT1pLmR1cmF0aW9ufHwwO3I9cnx8MCx0aGlzLnByb3BlcnR5PWUsdGhpcy52YWx1ZT10LHRoaXMuYmVnaW49citvLHRoaXMuZW5kPXRoaXMuYmVnaW4rYSxlLnNwZWNpZmljYXRpb24udHJhbnNpdGlvbiYmKGkuZGVsYXl8fGkuZHVyYXRpb24pJiYodGhpcy5wcmlvcj1uKX1wb3NzaWJseUV2YWx1YXRlKGUsdCxuKXtjb25zdCBpPWUubm93fHwwLHI9dGhpcy52YWx1ZS5wb3NzaWJseUV2YWx1YXRlKGUsdCxuKSxvPXRoaXMucHJpb3I7aWYobyl7aWYoaT50aGlzLmVuZClyZXR1cm4gdGhpcy5wcmlvcj1udWxsLHI7aWYodGhpcy52YWx1ZS5pc0RhdGFEcml2ZW4oKSlyZXR1cm4gdGhpcy5wcmlvcj1udWxsLHI7aWYoaTx0aGlzLmJlZ2luKXJldHVybiBvLnBvc3NpYmx5RXZhbHVhdGUoZSx0LG4pO3tjb25zdCBhPShpLXRoaXMuYmVnaW4pLyh0aGlzLmVuZC10aGlzLmJlZ2luKTtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5pbnRlcnBvbGF0ZShvLnBvc3NpYmx5RXZhbHVhdGUoZSx0LG4pLHIsdyhhKSl9fXJldHVybiByfX1jbGFzcyBSb3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9wcm9wZXJ0aWVzPWUsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUoZS5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzKX1wb3NzaWJseUV2YWx1YXRlKGUsdCxuKXtjb25zdCBpPW5ldyBGbyh0aGlzLl9wcm9wZXJ0aWVzKTtmb3IoY29uc3QgciBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKWkuX3ZhbHVlc1tyXT10aGlzLl92YWx1ZXNbcl0ucG9zc2libHlFdmFsdWF0ZShlLHQsbik7cmV0dXJuIGl9aGFzVHJhbnNpdGlvbigpe2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHRoaXMuX3ZhbHVlcykpaWYodGhpcy5fdmFsdWVzW2VdLnByaW9yKXJldHVybiEwO3JldHVybiExfX1jbGFzcyBCb3tjb25zdHJ1Y3RvcihlKXt0aGlzLl9wcm9wZXJ0aWVzPWUsdGhpcy5fdmFsdWVzPU9iamVjdC5jcmVhdGUoZS5kZWZhdWx0UHJvcGVydHlWYWx1ZXMpfWdldFZhbHVlKGUpe3JldHVybiBOKHRoaXMuX3ZhbHVlc1tlXS52YWx1ZSl9c2V0VmFsdWUoZSx0KXt0aGlzLl92YWx1ZXNbZV09bmV3IHpvKHRoaXMuX3ZhbHVlc1tlXS5wcm9wZXJ0eSxudWxsPT09dD92b2lkIDA6Tih0KSl9c2VyaWFsaXplKCl7Y29uc3QgZT17fTtmb3IoY29uc3QgdCBvZiBPYmplY3Qua2V5cyh0aGlzLl92YWx1ZXMpKXtjb25zdCBuPXRoaXMuZ2V0VmFsdWUodCk7dm9pZCAwIT09biYmKGVbdF09bil9cmV0dXJuIGV9cG9zc2libHlFdmFsdWF0ZShlLHQsbil7Y29uc3QgaT1uZXcgRm8odGhpcy5fcHJvcGVydGllcyk7Zm9yKGNvbnN0IHIgb2YgT2JqZWN0LmtleXModGhpcy5fdmFsdWVzKSlpLl92YWx1ZXNbcl09dGhpcy5fdmFsdWVzW3JdLnBvc3NpYmx5RXZhbHVhdGUoZSx0LG4pO3JldHVybiBpfX1jbGFzcyBqb3tjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5wcm9wZXJ0eT1lLHRoaXMudmFsdWU9dCx0aGlzLnBhcmFtZXRlcnM9bn1pc0NvbnN0YW50KCl7cmV0dXJuXCJjb25zdGFudFwiPT09dGhpcy52YWx1ZS5raW5kfWNvbnN0YW50T3IoZSl7cmV0dXJuXCJjb25zdGFudFwiPT09dGhpcy52YWx1ZS5raW5kP3RoaXMudmFsdWUudmFsdWU6ZX1ldmFsdWF0ZShlLHQsbixpKXtyZXR1cm4gdGhpcy5wcm9wZXJ0eS5ldmFsdWF0ZSh0aGlzLnZhbHVlLHRoaXMucGFyYW1ldGVycyxlLHQsbixpKX19Y2xhc3MgRm97Y29uc3RydWN0b3IoZSl7dGhpcy5fcHJvcGVydGllcz1lLHRoaXMuX3ZhbHVlcz1PYmplY3QuY3JlYXRlKGUuZGVmYXVsdFBvc3NpYmx5RXZhbHVhdGVkVmFsdWVzKX1nZXQoZSl7cmV0dXJuIHRoaXMuX3ZhbHVlc1tlXX19Y2xhc3MgTm97Y29uc3RydWN0b3IoZSl7dGhpcy5zcGVjaWZpY2F0aW9uPWV9cG9zc2libHlFdmFsdWF0ZShlLHQpe3JldHVybiBlLmV4cHJlc3Npb24uZXZhbHVhdGUodCl9aW50ZXJwb2xhdGUoZSx0LG4pe2NvbnN0IGk9a25bdGhpcy5zcGVjaWZpY2F0aW9uLnR5cGVdO3JldHVybiBpP2koZSx0LG4pOmV9fWNsYXNzIFVve2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5zcGVjaWZpY2F0aW9uPWUsdGhpcy5vdmVycmlkZXM9dH1wb3NzaWJseUV2YWx1YXRlKGUsdCxuLGkpe3JldHVybiBuZXcgam8odGhpcyxcImNvbnN0YW50XCI9PT1lLmV4cHJlc3Npb24ua2luZHx8XCJjYW1lcmFcIj09PWUuZXhwcmVzc2lvbi5raW5kP3traW5kOlwiY29uc3RhbnRcIix2YWx1ZTplLmV4cHJlc3Npb24uZXZhbHVhdGUodCxudWxsLHt9LG4saSl9OmUuZXhwcmVzc2lvbix0KX1pbnRlcnBvbGF0ZShlLHQsbil7aWYoXCJjb25zdGFudFwiIT09ZS52YWx1ZS5raW5kfHxcImNvbnN0YW50XCIhPT10LnZhbHVlLmtpbmQpcmV0dXJuIGU7aWYodm9pZCAwPT09ZS52YWx1ZS52YWx1ZXx8dm9pZCAwPT09dC52YWx1ZS52YWx1ZSlyZXR1cm4gbmV3IGpvKHRoaXMse2tpbmQ6XCJjb25zdGFudFwiLHZhbHVlOnZvaWQgMH0sZS5wYXJhbWV0ZXJzKTtjb25zdCBpPWtuW3RoaXMuc3BlY2lmaWNhdGlvbi50eXBlXTtyZXR1cm4gaT9uZXcgam8odGhpcyx7a2luZDpcImNvbnN0YW50XCIsdmFsdWU6aShlLnZhbHVlLnZhbHVlLHQudmFsdWUudmFsdWUsbil9LGUucGFyYW1ldGVycyk6ZX1ldmFsdWF0ZShlLHQsbixpLHIsbyl7cmV0dXJuXCJjb25zdGFudFwiPT09ZS5raW5kP2UudmFsdWU6ZS5ldmFsdWF0ZSh0LG4saSxyLG8pfX1jbGFzcyBWb3tjb25zdHJ1Y3RvcihlKXt0aGlzLnNwZWNpZmljYXRpb249ZX1wb3NzaWJseUV2YWx1YXRlKGUsdCxuLGkpe3JldHVybiEhZS5leHByZXNzaW9uLmV2YWx1YXRlKHQsbnVsbCx7fSxuLGkpfWludGVycG9sYXRlKCl7cmV0dXJuITF9fWNsYXNzIEdve2NvbnN0cnVjdG9yKGUpe3RoaXMucHJvcGVydGllcz1lLHRoaXMuZGVmYXVsdFByb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFRyYW5zaXRpb25hYmxlUHJvcGVydHlWYWx1ZXM9e30sdGhpcy5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzPXt9LHRoaXMuZGVmYXVsdFBvc3NpYmx5RXZhbHVhdGVkVmFsdWVzPXt9LHRoaXMub3ZlcnJpZGFibGVQcm9wZXJ0aWVzPVtdO2NvbnN0IHQ9bmV3IFBvKDAse30pO2Zvcihjb25zdCBuIGluIGUpe2NvbnN0IGk9ZVtuXTtpLnNwZWNpZmljYXRpb24ub3ZlcnJpZGFibGUmJnRoaXMub3ZlcnJpZGFibGVQcm9wZXJ0aWVzLnB1c2gobik7Y29uc3Qgcj10aGlzLmRlZmF1bHRQcm9wZXJ0eVZhbHVlc1tuXT1uZXcgem8oaSx2b2lkIDApLG89dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmFibGVQcm9wZXJ0eVZhbHVlc1tuXT1uZXcgRG8oaSk7dGhpcy5kZWZhdWx0VHJhbnNpdGlvbmluZ1Byb3BlcnR5VmFsdWVzW25dPW8udW50cmFuc2l0aW9uZWQoKSx0aGlzLmRlZmF1bHRQb3NzaWJseUV2YWx1YXRlZFZhbHVlc1tuXT1yLnBvc3NpYmx5RXZhbHVhdGUodCl9fX1mdW5jdGlvbiBabyhlLHQpe3JldHVybiAyNTYqKGU9UyhNYXRoLmZsb29yKGUpLDAsMjU1KSkrUyhNYXRoLmZsb29yKHQpLDAsMjU1KX16cihVbyxcIkRhdGFEcml2ZW5Qcm9wZXJ0eVwiKSx6cihObyxcIkRhdGFDb25zdGFudFByb3BlcnR5XCIpLHpyKFZvLFwiQ29sb3JSYW1wUHJvcGVydHlcIik7Y29uc3QgV289e0ludDg6SW50OEFycmF5LFVpbnQ4OlVpbnQ4QXJyYXksSW50MTY6SW50MTZBcnJheSxVaW50MTY6VWludDE2QXJyYXksSW50MzI6SW50MzJBcnJheSxVaW50MzI6VWludDMyQXJyYXksRmxvYXQzMjpGbG9hdDMyQXJyYXl9O2NsYXNzIHFve2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5fc3RydWN0QXJyYXk9ZSx0aGlzLl9wb3MxPXQqdGhpcy5zaXplLHRoaXMuX3BvczI9dGhpcy5fcG9zMS8yLHRoaXMuX3BvczQ9dGhpcy5fcG9zMS80LHRoaXMuX3Bvczg9dGhpcy5fcG9zMS84fX1jbGFzcyAkb3tjb25zdHJ1Y3Rvcigpe3RoaXMuaXNUcmFuc2ZlcnJlZD0hMSx0aGlzLmNhcGFjaXR5PS0xLHRoaXMucmVzaXplKDApfXN0YXRpYyBzZXJpYWxpemUoZSx0KXtyZXR1cm4gZS5fdHJpbSgpLHQmJihlLmlzVHJhbnNmZXJyZWQ9ITAsdC5wdXNoKGUuYXJyYXlCdWZmZXIpKSx7bGVuZ3RoOmUubGVuZ3RoLGFycmF5QnVmZmVyOmUuYXJyYXlCdWZmZXJ9fXN0YXRpYyBkZXNlcmlhbGl6ZShlKXtjb25zdCB0PU9iamVjdC5jcmVhdGUodGhpcy5wcm90b3R5cGUpO3JldHVybiB0LmFycmF5QnVmZmVyPWUuYXJyYXlCdWZmZXIsdC5sZW5ndGg9ZS5sZW5ndGgsdC5jYXBhY2l0eT1lLmFycmF5QnVmZmVyLmJ5dGVMZW5ndGgvdC5ieXRlc1BlckVsZW1lbnQsdC5fcmVmcmVzaFZpZXdzKCksdH1fdHJpbSgpe3RoaXMubGVuZ3RoIT09dGhpcy5jYXBhY2l0eSYmKHRoaXMuY2FwYWNpdHk9dGhpcy5sZW5ndGgsdGhpcy5hcnJheUJ1ZmZlcj10aGlzLmFycmF5QnVmZmVyLnNsaWNlKDAsdGhpcy5sZW5ndGgqdGhpcy5ieXRlc1BlckVsZW1lbnQpLHRoaXMuX3JlZnJlc2hWaWV3cygpKX1jbGVhcigpe3RoaXMubGVuZ3RoPTB9cmVzaXplKGUpe3RoaXMucmVzZXJ2ZShlKSx0aGlzLmxlbmd0aD1lfXJlc2VydmUoZSl7aWYoZT50aGlzLmNhcGFjaXR5KXt0aGlzLmNhcGFjaXR5PU1hdGgubWF4KGUsTWF0aC5mbG9vcig1KnRoaXMuY2FwYWNpdHkpLDEyOCksdGhpcy5hcnJheUJ1ZmZlcj1uZXcgQXJyYXlCdWZmZXIodGhpcy5jYXBhY2l0eSp0aGlzLmJ5dGVzUGVyRWxlbWVudCk7Y29uc3QgdD10aGlzLnVpbnQ4O3RoaXMuX3JlZnJlc2hWaWV3cygpLHQmJnRoaXMudWludDguc2V0KHQpfX1fcmVmcmVzaFZpZXdzKCl7dGhyb3cgbmV3IEVycm9yKFwiX3JlZnJlc2hWaWV3cygpIG11c3QgYmUgaW1wbGVtZW50ZWQgYnkgZWFjaCBjb25jcmV0ZSBTdHJ1Y3RBcnJheSBsYXlvdXRcIil9ZGVzdHJveSgpe3RoaXMuaW50OD10aGlzLnVpbnQ4PXRoaXMuaW50MTY9dGhpcy51aW50MTY9dGhpcy5pbnQzMj10aGlzLnVpbnQzMj10aGlzLmZsb2F0MzI9bnVsbCx0aGlzLmFycmF5QnVmZmVyPW51bGx9fWZ1bmN0aW9uIEhvKGUsdD0xKXtsZXQgbj0wLGk9MDtyZXR1cm57bWVtYmVyczplLm1hcChlPT57Y29uc3Qgcj1Xb1tlLnR5cGVdLkJZVEVTX1BFUl9FTEVNRU5ULG89bj1YbyhuLE1hdGgubWF4KHQscikpLGE9ZS5jb21wb25lbnRzfHwxO3JldHVybiBpPU1hdGgubWF4KGksciksbis9ciphLHtuYW1lOmUubmFtZSx0eXBlOmUudHlwZSxjb21wb25lbnRzOmEsb2Zmc2V0Om99fSksc2l6ZTpYbyhuLE1hdGgubWF4KGksdCkpLGFsaWdubWVudDp0fX1mdW5jdGlvbiBYbyhlLHQpe3JldHVybiBNYXRoLmNlaWwoZS90KSp0fWNsYXNzIFlvIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQpe2NvbnN0IG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sZSx0KX1lbXBsYWNlKGUsdCxuKXtjb25zdCBpPTIqZTtyZXR1cm4gdGhpcy5pbnQxNltpKzBdPXQsdGhpcy5pbnQxNltpKzFdPW4sZX19WW8ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LHpyKFlvLFwiU3RydWN0QXJyYXlMYXlvdXQyaTRcIik7Y2xhc3MgSm8gZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxuKXtjb25zdCBpPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShpKzEpLHRoaXMuZW1wbGFjZShpLGUsdCxuKX1lbXBsYWNlKGUsdCxuLGkpe2NvbnN0IHI9MyplO3JldHVybiB0aGlzLmludDE2W3IrMF09dCx0aGlzLmludDE2W3IrMV09bix0aGlzLmludDE2W3IrMl09aSxlfX1Kby5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTYsenIoSm8sXCJTdHJ1Y3RBcnJheUxheW91dDNpNlwiKTtjbGFzcyBRbyBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4saSl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2UocixlLHQsbixpKX1lbXBsYWNlKGUsdCxuLGkscil7Y29uc3Qgbz00KmU7cmV0dXJuIHRoaXMuaW50MTZbbyswXT10LHRoaXMuaW50MTZbbysxXT1uLHRoaXMuaW50MTZbbysyXT1pLHRoaXMuaW50MTZbbyszXT1yLGV9fVFvLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9OCx6cihRbyxcIlN0cnVjdEFycmF5TGF5b3V0NGk4XCIpO2NsYXNzIEtvIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbixpLHIsbyxhKXtjb25zdCBzPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShzKzEpLHRoaXMuZW1wbGFjZShzLGUsdCxuLGkscixvLGEpfWVtcGxhY2UoZSx0LG4saSxyLG8sYSxzKXtjb25zdCBsPTYqZSxjPTEyKmUsdT0zKmU7cmV0dXJuIHRoaXMuaW50MTZbbCswXT10LHRoaXMuaW50MTZbbCsxXT1uLHRoaXMudWludDhbYys0XT1pLHRoaXMudWludDhbYys1XT1yLHRoaXMudWludDhbYys2XT1vLHRoaXMudWludDhbYys3XT1hLHRoaXMuZmxvYXQzMlt1KzJdPXMsZX19S28ucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMix6cihLbyxcIlN0cnVjdEFycmF5TGF5b3V0Mmk0dWIxZjEyXCIpO2NsYXNzIGVhIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4saSl7Y29uc3Qgcj10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUocisxKSx0aGlzLmVtcGxhY2UocixlLHQsbixpKX1lbXBsYWNlKGUsdCxuLGkscil7Y29uc3Qgbz00KmU7cmV0dXJuIHRoaXMuZmxvYXQzMltvKzBdPXQsdGhpcy5mbG9hdDMyW28rMV09bix0aGlzLmZsb2F0MzJbbysyXT1pLHRoaXMuZmxvYXQzMltvKzNdPXIsZX19ZWEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNix6cihlYSxcIlN0cnVjdEFycmF5TGF5b3V0NGYxNlwiKTtjbGFzcyB0YSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbixpLHIpe2NvbnN0IG89dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG8rMSksdGhpcy5lbXBsYWNlKG8sZSx0LG4saSxyKX1lbXBsYWNlKGUsdCxuLGkscixvKXtjb25zdCBhPTYqZSxzPTMqZTtyZXR1cm4gdGhpcy51aW50MTZbYSswXT10LHRoaXMudWludDE2W2ErMV09bix0aGlzLnVpbnQxNlthKzJdPWksdGhpcy51aW50MTZbYSszXT1yLHRoaXMuZmxvYXQzMltzKzJdPW8sZX19dGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMix6cih0YSxcIlN0cnVjdEFycmF5TGF5b3V0NHVpMWYxMlwiKTtjbGFzcyBuYSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbixpKXtjb25zdCByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLGUsdCxuLGkpfWVtcGxhY2UoZSx0LG4saSxyKXtjb25zdCBvPTQqZTtyZXR1cm4gdGhpcy51aW50MTZbbyswXT10LHRoaXMudWludDE2W28rMV09bix0aGlzLnVpbnQxNltvKzJdPWksdGhpcy51aW50MTZbbyszXT1yLGV9fW5hLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9OCx6cihuYSxcIlN0cnVjdEFycmF5TGF5b3V0NHVpOFwiKTtjbGFzcyBpYSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4saSxyLG8pe2NvbnN0IGE9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGErMSksdGhpcy5lbXBsYWNlKGEsZSx0LG4saSxyLG8pfWVtcGxhY2UoZSx0LG4saSxyLG8sYSl7Y29uc3Qgcz02KmU7cmV0dXJuIHRoaXMuaW50MTZbcyswXT10LHRoaXMuaW50MTZbcysxXT1uLHRoaXMuaW50MTZbcysyXT1pLHRoaXMuaW50MTZbcyszXT1yLHRoaXMuaW50MTZbcys0XT1vLHRoaXMuaW50MTZbcys1XT1hLGV9fWlhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsenIoaWEsXCJTdHJ1Y3RBcnJheUxheW91dDZpMTJcIik7Y2xhc3MgcmEgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCl7Y29uc3QgZD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoZCsxKSx0aGlzLmVtcGxhY2UoZCxlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCl9ZW1wbGFjZShlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkKXtjb25zdCBwPTEyKmU7cmV0dXJuIHRoaXMuaW50MTZbcCswXT10LHRoaXMuaW50MTZbcCsxXT1uLHRoaXMuaW50MTZbcCsyXT1pLHRoaXMuaW50MTZbcCszXT1yLHRoaXMudWludDE2W3ArNF09byx0aGlzLnVpbnQxNltwKzVdPWEsdGhpcy51aW50MTZbcCs2XT1zLHRoaXMudWludDE2W3ArN109bCx0aGlzLmludDE2W3ArOF09Yyx0aGlzLmludDE2W3ArOV09dSx0aGlzLmludDE2W3ArMTBdPWgsdGhpcy5pbnQxNltwKzExXT1kLGV9fXJhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MjQsenIocmEsXCJTdHJ1Y3RBcnJheUxheW91dDRpNHVpNGkyNFwiKTtjbGFzcyBvYSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4saSxyLG8pe2NvbnN0IGE9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKGErMSksdGhpcy5lbXBsYWNlKGEsZSx0LG4saSxyLG8pfWVtcGxhY2UoZSx0LG4saSxyLG8sYSl7Y29uc3Qgcz0xMCplLGw9NSplO3JldHVybiB0aGlzLmludDE2W3MrMF09dCx0aGlzLmludDE2W3MrMV09bix0aGlzLmludDE2W3MrMl09aSx0aGlzLmZsb2F0MzJbbCsyXT1yLHRoaXMuZmxvYXQzMltsKzNdPW8sdGhpcy5mbG9hdDMyW2wrNF09YSxlfX1vYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTIwLHpyKG9hLFwiU3RydWN0QXJyYXlMYXlvdXQzaTNmMjBcIik7Y2xhc3MgYWEgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQzMj1uZXcgVWludDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSl7Y29uc3QgdD10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUodCsxKSx0aGlzLmVtcGxhY2UodCxlKX1lbXBsYWNlKGUsdCl7cmV0dXJuIHRoaXMudWludDMyWzEqZSswXT10LGV9fWFhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCx6cihhYSxcIlN0cnVjdEFycmF5TGF5b3V0MXVsNFwiKTtjbGFzcyBzYSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkKXtjb25zdCBwPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShwKzEpLHRoaXMuZW1wbGFjZShwLGUsdCxuLGkscixvLGEscyxsLGMsdSxoLGQpfWVtcGxhY2UoZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwKXtjb25zdCBmPTIwKmUsbT0xMCplO3JldHVybiB0aGlzLmludDE2W2YrMF09dCx0aGlzLmludDE2W2YrMV09bix0aGlzLmludDE2W2YrMl09aSx0aGlzLmludDE2W2YrM109cix0aGlzLmludDE2W2YrNF09byx0aGlzLmZsb2F0MzJbbSszXT1hLHRoaXMuZmxvYXQzMlttKzRdPXMsdGhpcy5mbG9hdDMyW20rNV09bCx0aGlzLmZsb2F0MzJbbSs2XT1jLHRoaXMuaW50MTZbZisxNF09dSx0aGlzLnVpbnQzMlttKzhdPWgsdGhpcy51aW50MTZbZisxOF09ZCx0aGlzLnVpbnQxNltmKzE5XT1wLGV9fXNhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NDAsenIoc2EsXCJTdHJ1Y3RBcnJheUxheW91dDVpNGYxaTF1bDJ1aTQwXCIpO2NsYXNzIGxhIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbixpLHIsbyxhKXtjb25zdCBzPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShzKzEpLHRoaXMuZW1wbGFjZShzLGUsdCxuLGkscixvLGEpfWVtcGxhY2UoZSx0LG4saSxyLG8sYSxzKXtjb25zdCBsPTgqZTtyZXR1cm4gdGhpcy5pbnQxNltsKzBdPXQsdGhpcy5pbnQxNltsKzFdPW4sdGhpcy5pbnQxNltsKzJdPWksdGhpcy5pbnQxNltsKzRdPXIsdGhpcy5pbnQxNltsKzVdPW8sdGhpcy5pbnQxNltsKzZdPWEsdGhpcy5pbnQxNltsKzddPXMsZX19bGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xNix6cihsYSxcIlN0cnVjdEFycmF5TGF5b3V0M2kyaTJpMTZcIik7Y2xhc3MgY2EgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmludDE2PW5ldyBJbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxuLGkscil7Y29uc3Qgbz10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUobysxKSx0aGlzLmVtcGxhY2UobyxlLHQsbixpLHIpfWVtcGxhY2UoZSx0LG4saSxyLG8pe2NvbnN0IGE9NCplLHM9OCplO3JldHVybiB0aGlzLmZsb2F0MzJbYSswXT10LHRoaXMuZmxvYXQzMlthKzFdPW4sdGhpcy5mbG9hdDMyW2ErMl09aSx0aGlzLmludDE2W3MrNl09cix0aGlzLmludDE2W3MrN109byxlfX1jYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTE2LHpyKGNhLFwiU3RydWN0QXJyYXlMYXlvdXQyZjFmMmkxNlwiKTtjbGFzcyB1YSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuZmxvYXQzMj1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxuLGkpe2NvbnN0IHI9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHIrMSksdGhpcy5lbXBsYWNlKHIsZSx0LG4saSl9ZW1wbGFjZShlLHQsbixpLHIpe2NvbnN0IG89MTIqZSxhPTMqZTtyZXR1cm4gdGhpcy51aW50OFtvKzBdPXQsdGhpcy51aW50OFtvKzFdPW4sdGhpcy5mbG9hdDMyW2ErMV09aSx0aGlzLmZsb2F0MzJbYSsyXT1yLGV9fXVhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9MTIsenIodWEsXCJTdHJ1Y3RBcnJheUxheW91dDJ1YjJmMTJcIik7Y2xhc3MgaGEgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbil7Y29uc3QgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSxlLHQsbil9ZW1wbGFjZShlLHQsbixpKXtjb25zdCByPTMqZTtyZXR1cm4gdGhpcy5mbG9hdDMyW3IrMF09dCx0aGlzLmZsb2F0MzJbcisxXT1uLHRoaXMuZmxvYXQzMltyKzJdPWksZX19aGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMix6cihoYSxcIlN0cnVjdEFycmF5TGF5b3V0M2YxMlwiKTtjbGFzcyBkYSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbil7Y29uc3QgaT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoaSsxKSx0aGlzLmVtcGxhY2UoaSxlLHQsbil9ZW1wbGFjZShlLHQsbixpKXtjb25zdCByPTMqZTtyZXR1cm4gdGhpcy51aW50MTZbciswXT10LHRoaXMudWludDE2W3IrMV09bix0aGlzLnVpbnQxNltyKzJdPWksZX19ZGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD02LHpyKGRhLFwiU3RydWN0QXJyYXlMYXlvdXQzdWk2XCIpO2NsYXNzIHBhIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5pbnQxNj1uZXcgSW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUsdCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmLG0sZyx5LF8sdix4KXtjb25zdCBiPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShiKzEpLHRoaXMuZW1wbGFjZShiLGUsdCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmLG0sZyx5LF8sdix4KX1lbXBsYWNlKGUsdCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmLG0sZyx5LF8sdix4LGIpe2NvbnN0IHc9MzAqZSxUPTE1KmUsRT02MCplO3JldHVybiB0aGlzLmludDE2W3crMF09dCx0aGlzLmludDE2W3crMV09bix0aGlzLmludDE2W3crMl09aSx0aGlzLmZsb2F0MzJbVCsyXT1yLHRoaXMuZmxvYXQzMltUKzNdPW8sdGhpcy51aW50MTZbdys4XT1hLHRoaXMudWludDE2W3crOV09cyx0aGlzLnVpbnQzMltUKzVdPWwsdGhpcy51aW50MzJbVCs2XT1jLHRoaXMudWludDMyW1QrN109dSx0aGlzLnVpbnQxNlt3KzE2XT1oLHRoaXMudWludDE2W3crMTddPWQsdGhpcy51aW50MTZbdysxOF09cCx0aGlzLmZsb2F0MzJbVCsxMF09Zix0aGlzLmZsb2F0MzJbVCsxMV09bSx0aGlzLnVpbnQ4W0UrNDhdPWcsdGhpcy51aW50OFtFKzQ5XT15LHRoaXMudWludDhbRSs1MF09Xyx0aGlzLnVpbnQzMltUKzEzXT12LHRoaXMuaW50MTZbdysyOF09eCx0aGlzLnVpbnQ4W0UrNThdPWIsZX19cGEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD02MCx6cihwYSxcIlN0cnVjdEFycmF5TGF5b3V0M2kyZjJ1aTN1bDN1aTJmM3ViMXVsMWkxdWI2MFwiKTtjbGFzcyBmYSBleHRlbmRzICRve19yZWZyZXNoVmlld3MoKXt0aGlzLnVpbnQ4PW5ldyBVaW50OEFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMuaW50MTY9bmV3IEludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDMyPW5ldyBVaW50MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcseSxfLHYseCxiLHcsVCxFLFMsTSxJLEMsayl7Y29uc3QgQT10aGlzLmxlbmd0aDtyZXR1cm4gdGhpcy5yZXNpemUoQSsxKSx0aGlzLmVtcGxhY2UoQSxlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcseSxfLHYseCxiLHcsVCxFLFMsTSxJLEMsayl9ZW1wbGFjZShlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcseSxfLHYseCxiLHcsVCxFLFMsTSxJLEMsayxBKXtjb25zdCBQPTM4KmUsej0xOSplO3JldHVybiB0aGlzLmludDE2W1ArMF09dCx0aGlzLmludDE2W1ArMV09bix0aGlzLmludDE2W1ArMl09aSx0aGlzLmZsb2F0MzJbeisyXT1yLHRoaXMuZmxvYXQzMlt6KzNdPW8sdGhpcy5pbnQxNltQKzhdPWEsdGhpcy5pbnQxNltQKzldPXMsdGhpcy5pbnQxNltQKzEwXT1sLHRoaXMuaW50MTZbUCsxMV09Yyx0aGlzLmludDE2W1ArMTJdPXUsdGhpcy5pbnQxNltQKzEzXT1oLHRoaXMudWludDE2W1ArMTRdPWQsdGhpcy51aW50MTZbUCsxNV09cCx0aGlzLnVpbnQxNltQKzE2XT1mLHRoaXMudWludDE2W1ArMTddPW0sdGhpcy51aW50MTZbUCsxOF09Zyx0aGlzLnVpbnQxNltQKzE5XT15LHRoaXMudWludDE2W1ArMjBdPV8sdGhpcy51aW50MTZbUCsyMV09dix0aGlzLnVpbnQxNltQKzIyXT14LHRoaXMudWludDE2W1ArMjNdPWIsdGhpcy51aW50MTZbUCsyNF09dyx0aGlzLnVpbnQxNltQKzI1XT1ULHRoaXMudWludDE2W1ArMjZdPUUsdGhpcy51aW50MTZbUCsyN109Uyx0aGlzLnVpbnQxNltQKzI4XT1NLHRoaXMudWludDMyW3orMTVdPUksdGhpcy5mbG9hdDMyW3orMTZdPUMsdGhpcy5mbG9hdDMyW3orMTddPWssdGhpcy5mbG9hdDMyW3orMThdPUEsZX19ZmEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD03Nix6cihmYSxcIlN0cnVjdEFycmF5TGF5b3V0M2kyZjZpMTV1aTF1bDNmNzZcIik7Y2xhc3MgbWEgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlKXtjb25zdCB0PXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZSh0KzEpLHRoaXMuZW1wbGFjZSh0LGUpfWVtcGxhY2UoZSx0KXtyZXR1cm4gdGhpcy5mbG9hdDMyWzEqZSswXT10LGV9fW1hLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9NCx6cihtYSxcIlN0cnVjdEFycmF5TGF5b3V0MWY0XCIpO2NsYXNzIGdhIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy5mbG9hdDMyPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0LG4saSxyKXtjb25zdCBvPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShvKzEpLHRoaXMuZW1wbGFjZShvLGUsdCxuLGkscil9ZW1wbGFjZShlLHQsbixpLHIsbyl7Y29uc3QgYT01KmU7cmV0dXJuIHRoaXMuZmxvYXQzMlthKzBdPXQsdGhpcy5mbG9hdDMyW2ErMV09bix0aGlzLmZsb2F0MzJbYSsyXT1pLHRoaXMuZmxvYXQzMlthKzNdPXIsdGhpcy5mbG9hdDMyW2ErNF09byxlfX1nYS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTIwLHpyKGdhLFwiU3RydWN0QXJyYXlMYXlvdXQ1ZjIwXCIpO2NsYXNzIHlhIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MzI9bmV3IFVpbnQzMkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpLHRoaXMudWludDE2PW5ldyBVaW50MTZBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQsbixpKXtjb25zdCByPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShyKzEpLHRoaXMuZW1wbGFjZShyLGUsdCxuLGkpfWVtcGxhY2UoZSx0LG4saSxyKXtjb25zdCBvPTYqZTtyZXR1cm4gdGhpcy51aW50MzJbMyplKzBdPXQsdGhpcy51aW50MTZbbysyXT1uLHRoaXMudWludDE2W28rM109aSx0aGlzLnVpbnQxNltvKzRdPXIsZX19eWEucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD0xMix6cih5YSxcIlN0cnVjdEFycmF5TGF5b3V0MXVsM3VpMTJcIik7Y2xhc3MgX2EgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLnVpbnQxNj1uZXcgVWludDE2QXJyYXkodGhpcy5hcnJheUJ1ZmZlcil9ZW1wbGFjZUJhY2soZSx0KXtjb25zdCBuPXRoaXMubGVuZ3RoO3JldHVybiB0aGlzLnJlc2l6ZShuKzEpLHRoaXMuZW1wbGFjZShuLGUsdCl9ZW1wbGFjZShlLHQsbil7Y29uc3QgaT0yKmU7cmV0dXJuIHRoaXMudWludDE2W2krMF09dCx0aGlzLnVpbnQxNltpKzFdPW4sZX19X2EucHJvdG90eXBlLmJ5dGVzUGVyRWxlbWVudD00LHpyKF9hLFwiU3RydWN0QXJyYXlMYXlvdXQydWk0XCIpO2NsYXNzIHZhIGV4dGVuZHMgJG97X3JlZnJlc2hWaWV3cygpe3RoaXMudWludDg9bmV3IFVpbnQ4QXJyYXkodGhpcy5hcnJheUJ1ZmZlciksdGhpcy51aW50MTY9bmV3IFVpbnQxNkFycmF5KHRoaXMuYXJyYXlCdWZmZXIpfWVtcGxhY2VCYWNrKGUpe2NvbnN0IHQ9dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKHQrMSksdGhpcy5lbXBsYWNlKHQsZSl9ZW1wbGFjZShlLHQpe3JldHVybiB0aGlzLnVpbnQxNlsxKmUrMF09dCxlfX12YS5wcm90b3R5cGUuYnl0ZXNQZXJFbGVtZW50PTIsenIodmEsXCJTdHJ1Y3RBcnJheUxheW91dDF1aTJcIik7Y2xhc3MgeGEgZXh0ZW5kcyAkb3tfcmVmcmVzaFZpZXdzKCl7dGhpcy51aW50OD1uZXcgVWludDhBcnJheSh0aGlzLmFycmF5QnVmZmVyKSx0aGlzLmZsb2F0MzI9bmV3IEZsb2F0MzJBcnJheSh0aGlzLmFycmF5QnVmZmVyKX1lbXBsYWNlQmFjayhlLHQpe2NvbnN0IG49dGhpcy5sZW5ndGg7cmV0dXJuIHRoaXMucmVzaXplKG4rMSksdGhpcy5lbXBsYWNlKG4sZSx0KX1lbXBsYWNlKGUsdCxuKXtjb25zdCBpPTIqZTtyZXR1cm4gdGhpcy5mbG9hdDMyW2krMF09dCx0aGlzLmZsb2F0MzJbaSsxXT1uLGV9fXhhLnByb3RvdHlwZS5ieXRlc1BlckVsZW1lbnQ9OCx6cih4YSxcIlN0cnVjdEFycmF5TGF5b3V0MmY4XCIpO2NsYXNzIGJhIGV4dGVuZHMgcW97Z2V0IHByb2plY3RlZEFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX1nZXQgcHJvamVjdGVkQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzFdfWdldCBwcm9qZWN0ZWRBbmNob3JaKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19Z2V0IHRpbGVBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrM119Z2V0IHRpbGVBbmNob3JZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrNF19Z2V0IHgxKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCszXX1nZXQgeTEoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzRdfWdldCB4Migpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrNV19Z2V0IHkyKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCs2XX1nZXQgcGFkZGluZygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzE0XX1nZXQgZmVhdHVyZUluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzhdfWdldCBzb3VyY2VMYXllckluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE4XX1nZXQgYnVja2V0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTldfX1iYS5wcm90b3R5cGUuc2l6ZT00MDtjbGFzcyB3YSBleHRlbmRzIHNhe2dldChlKXtyZXR1cm4gbmV3IGJhKHRoaXMsZSl9fXpyKHdhLFwiQ29sbGlzaW9uQm94QXJyYXlcIik7Y2xhc3MgVGEgZXh0ZW5kcyBxb3tnZXQgcHJvamVjdGVkQW5jaG9yWCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzBdfWdldCBwcm9qZWN0ZWRBbmNob3JZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMV19Z2V0IHByb2plY3RlZEFuY2hvclooKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisyXX1nZXQgdGlsZUFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzJdfWdldCB0aWxlQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrM119Z2V0IGdseXBoU3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis4XX1nZXQgbnVtR2x5cGhzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzldfWdldCB2ZXJ0ZXhTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzVdfWdldCBsaW5lU3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCs2XX1nZXQgbGluZUxlbmd0aCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCs3XX1nZXQgc2VnbWVudCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNl19Z2V0IGxvd2VyU2l6ZSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxN119Z2V0IHVwcGVyU2l6ZSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxOF19Z2V0IGxpbmVPZmZzZXRYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsxMF19Z2V0IGxpbmVPZmZzZXRZKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsxMV19Z2V0IHdyaXRpbmdNb2RlKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNDhdfWdldCBwbGFjZWRPcmllbnRhdGlvbigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50OFt0aGlzLl9wb3MxKzQ5XX1zZXQgcGxhY2VkT3JpZW50YXRpb24oZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs0OV09ZX1nZXQgaGlkZGVuKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNTBdfXNldCBoaWRkZW4oZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs1MF09ZX1nZXQgY3Jvc3NUaWxlSUQoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMTNdfXNldCBjcm9zc1RpbGVJRChlKXt0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxM109ZX1nZXQgYXNzb2NpYXRlZEljb25JbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzI4XX1nZXQgZmxpcFN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQ4W3RoaXMuX3BvczErNThdfXNldCBmbGlwU3RhdGUoZSl7dGhpcy5fc3RydWN0QXJyYXkudWludDhbdGhpcy5fcG9zMSs1OF09ZX19VGEucHJvdG90eXBlLnNpemU9NjA7Y2xhc3MgRWEgZXh0ZW5kcyBwYXtnZXQoZSl7cmV0dXJuIG5ldyBUYSh0aGlzLGUpfX16cihFYSxcIlBsYWNlZFN5bWJvbEFycmF5XCIpO2NsYXNzIFNhIGV4dGVuZHMgcW97Z2V0IHByb2plY3RlZEFuY2hvclgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMiswXX1nZXQgcHJvamVjdGVkQW5jaG9yWSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzFdfWdldCBwcm9qZWN0ZWRBbmNob3JaKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmludDE2W3RoaXMuX3BvczIrMl19Z2V0IHRpbGVBbmNob3JYKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LmZsb2F0MzJbdGhpcy5fcG9zNCsyXX1nZXQgdGlsZUFuY2hvclkoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuZmxvYXQzMlt0aGlzLl9wb3M0KzNdfWdldCByaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzhdfWdldCBjZW50ZXJKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMis5XX1nZXQgbGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzEwXX1nZXQgdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxMV19Z2V0IHBsYWNlZEljb25TeW1ib2xJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5pbnQxNlt0aGlzLl9wb3MyKzEyXX1nZXQgdmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkuaW50MTZbdGhpcy5fcG9zMisxM119Z2V0IGtleSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxNF19Z2V0IHRleHRCb3hTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE1XX1nZXQgdGV4dEJveEVuZEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE2XX1nZXQgdmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisxN119Z2V0IHZlcnRpY2FsVGV4dEJveEVuZEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzE4XX1nZXQgaWNvbkJveFN0YXJ0SW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMTldfWdldCBpY29uQm94RW5kSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjBdfWdldCB2ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzIxXX1nZXQgdmVydGljYWxJY29uQm94RW5kSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjJdfWdldCBmZWF0dXJlSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjNdfWdldCBudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyNF19Z2V0IG51bVZlcnRpY2FsR2x5cGhWZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyNV19Z2V0IG51bUljb25WZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMisyNl19Z2V0IG51bVZlcnRpY2FsSWNvblZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzI3XX1nZXQgdXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMjhdfWdldCBjcm9zc1RpbGVJRCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MzJbdGhpcy5fcG9zNCsxNV19c2V0IGNyb3NzVGlsZUlEKGUpe3RoaXMuX3N0cnVjdEFycmF5LnVpbnQzMlt0aGlzLl9wb3M0KzE1XT1lfWdldCB0ZXh0T2Zmc2V0MCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTZdfWdldCB0ZXh0T2Zmc2V0MSgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMTddfWdldCBjb2xsaXNpb25DaXJjbGVEaWFtZXRlcigpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS5mbG9hdDMyW3RoaXMuX3BvczQrMThdfX1TYS5wcm90b3R5cGUuc2l6ZT03NjtjbGFzcyBNYSBleHRlbmRzIGZhe2dldChlKXtyZXR1cm4gbmV3IFNhKHRoaXMsZSl9fXpyKE1hLFwiU3ltYm9sSW5zdGFuY2VBcnJheVwiKTtjbGFzcyBJYSBleHRlbmRzIG1he2dldG9mZnNldFgoZSl7cmV0dXJuIHRoaXMuZmxvYXQzMlsxKmUrMF19fXpyKElhLFwiR2x5cGhPZmZzZXRBcnJheVwiKTtjbGFzcyBDYSBleHRlbmRzIFlve2dldHgoZSl7cmV0dXJuIHRoaXMuaW50MTZbMiplKzBdfWdldHkoZSl7cmV0dXJuIHRoaXMuaW50MTZbMiplKzFdfX16cihDYSxcIlN5bWJvbExpbmVWZXJ0ZXhBcnJheVwiKTtjbGFzcyBrYSBleHRlbmRzIHFve2dldCBmZWF0dXJlSW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDMyW3RoaXMuX3BvczQrMF19Z2V0IHNvdXJjZUxheWVySW5kZXgoKXtyZXR1cm4gdGhpcy5fc3RydWN0QXJyYXkudWludDE2W3RoaXMuX3BvczIrMl19Z2V0IGJ1Y2tldEluZGV4KCl7cmV0dXJuIHRoaXMuX3N0cnVjdEFycmF5LnVpbnQxNlt0aGlzLl9wb3MyKzNdfWdldCBsYXlvdXRWZXJ0ZXhBcnJheU9mZnNldCgpe3JldHVybiB0aGlzLl9zdHJ1Y3RBcnJheS51aW50MTZbdGhpcy5fcG9zMis0XX19a2EucHJvdG90eXBlLnNpemU9MTI7Y2xhc3MgQWEgZXh0ZW5kcyB5YXtnZXQoZSl7cmV0dXJuIG5ldyBrYSh0aGlzLGUpfX16cihBYSxcIkZlYXR1cmVJbmRleEFycmF5XCIpO2NsYXNzIFBhIGV4dGVuZHMgX2F7Z2V0YV9jZW50cm9pZF9wb3MwKGUpe3JldHVybiB0aGlzLnVpbnQxNlsyKmUrMF19Z2V0YV9jZW50cm9pZF9wb3MxKGUpe3JldHVybiB0aGlzLnVpbnQxNlsyKmUrMV19fXpyKFBhLFwiRmlsbEV4dHJ1c2lvbkNlbnRyb2lkQXJyYXlcIik7Y29uc3QgemE9SG8oW3tuYW1lOlwiYV9wYXR0ZXJuXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn0se25hbWU6XCJhX3BpeGVsX3JhdGlvXCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9XSksRGE9SG8oW3tuYW1lOlwiYV9kYXNoXCIsY29tcG9uZW50czo0LHR5cGU6XCJVaW50MTZcIn1dKTt2YXIgTGE9e2V4cG9ydHM6e319LE9hPXtleHBvcnRzOnt9fTtPYS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIG4saSxyLG8sYSxzLGwsYztmb3IoaT1lLmxlbmd0aC0obj0zJmUubGVuZ3RoKSxyPXQsYT0zNDMyOTE4MzUzLHM9NDYxODQ1OTA3LGM9MDtjPGk7KWw9MjU1JmUuY2hhckNvZGVBdChjKXwoMjU1JmUuY2hhckNvZGVBdCgrK2MpKTw8OHwoMjU1JmUuY2hhckNvZGVBdCgrK2MpKTw8MTZ8KDI1NSZlLmNoYXJDb2RlQXQoKytjKSk8PDI0LCsrYyxyPTI3NDkyKyg2NTUzNSYobz01Kig2NTUzNSYocj0ocl49bD0oNjU1MzUmKGw9KGw9KDY1NTM1JmwpKmErKCgobD4+PjE2KSphJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXxsPj4+MTcpKSpzKygoKGw+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1KTw8MTN8cj4+PjE5KSkrKCg1KihyPj4+MTYpJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpKSsoKDU4OTY0KyhvPj4+MTYpJjY1NTM1KTw8MTYpO3N3aXRjaChsPTAsbil7Y2FzZSAzOmxePSgyNTUmZS5jaGFyQ29kZUF0KGMrMikpPDwxNjtjYXNlIDI6bF49KDI1NSZlLmNoYXJDb2RlQXQoYysxKSk8PDg7Y2FzZSAxOnJePWw9KDY1NTM1JihsPShsPSg2NTUzNSYobF49MjU1JmUuY2hhckNvZGVBdChjKSkpKmErKCgobD4+PjE2KSphJjY1NTM1KTw8MTYpJjQyOTQ5NjcyOTUpPDwxNXxsPj4+MTcpKSpzKygoKGw+Pj4xNikqcyY2NTUzNSk8PDE2KSY0Mjk0OTY3Mjk1fXJldHVybiByXj1lLmxlbmd0aCxyPTIyNDY4MjI1MDcqKDY1NTM1JihyXj1yPj4+MTYpKSsoKDIyNDY4MjI1MDcqKHI+Pj4xNikmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSxyPTMyNjY0ODk5MDkqKDY1NTM1JihyXj1yPj4+MTMpKSsoKDMyNjY0ODk5MDkqKHI+Pj4xNikmNjU1MzUpPDwxNikmNDI5NDk2NzI5NSwocl49cj4+PjE2KT4+PjB9O3ZhciBSYT17ZXhwb3J0czp7fX07UmEuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbixpPWUubGVuZ3RoLHI9dF5pLG89MDtpPj00OyluPTE1NDA0ODM0NzcqKDY1NTM1JihuPTI1NSZlLmNoYXJDb2RlQXQobyl8KDI1NSZlLmNoYXJDb2RlQXQoKytvKSk8PDh8KDI1NSZlLmNoYXJDb2RlQXQoKytvKSk8PDE2fCgyNTUmZS5jaGFyQ29kZUF0KCsrbykpPDwyNCkpKygoMTU0MDQ4MzQ3Nyoobj4+PjE2KSY2NTUzNSk8PDE2KSxyPTE1NDA0ODM0NzcqKDY1NTM1JnIpKygoMTU0MDQ4MzQ3Nyoocj4+PjE2KSY2NTUzNSk8PDE2KV4obj0xNTQwNDgzNDc3Kig2NTUzNSYobl49bj4+PjI0KSkrKCgxNTQwNDgzNDc3KihuPj4+MTYpJjY1NTM1KTw8MTYpKSxpLT00LCsrbztzd2l0Y2goaSl7Y2FzZSAzOnJePSgyNTUmZS5jaGFyQ29kZUF0KG8rMikpPDwxNjtjYXNlIDI6cl49KDI1NSZlLmNoYXJDb2RlQXQobysxKSk8PDg7Y2FzZSAxOnI9MTU0MDQ4MzQ3NyooNjU1MzUmKHJePTI1NSZlLmNoYXJDb2RlQXQobykpKSsoKDE1NDA0ODM0NzcqKHI+Pj4xNikmNjU1MzUpPDwxNil9cmV0dXJuIHI9MTU0MDQ4MzQ3NyooNjU1MzUmKHJePXI+Pj4xMykpKygoMTU0MDQ4MzQ3Nyoocj4+PjE2KSY2NTUzNSk8PDE2KSwocl49cj4+PjE1KT4+PjB9O3ZhciBCYT1PYS5leHBvcnRzLGphPVJhLmV4cG9ydHM7TGEuZXhwb3J0cz1CYSxMYS5leHBvcnRzLm11cm11cjM9QmEsTGEuZXhwb3J0cy5tdXJtdXIyPWphO2NsYXNzIEZhe2NvbnN0cnVjdG9yKCl7dGhpcy5pZHM9W10sdGhpcy5wb3NpdGlvbnM9W10sdGhpcy5pbmRleGVkPSExfWFkZChlLHQsbixpKXt0aGlzLmlkcy5wdXNoKE5hKGUpKSx0aGlzLnBvc2l0aW9ucy5wdXNoKHQsbixpKX1nZXRQb3NpdGlvbnMoZSl7Y29uc3QgdD1OYShlKTtsZXQgbj0wLGk9dGhpcy5pZHMubGVuZ3RoLTE7Zm9yKDtuPGk7KXtjb25zdCBlPW4raT4+MTt0aGlzLmlkc1tlXT49dD9pPWU6bj1lKzF9Y29uc3Qgcj1bXTtmb3IoO3RoaXMuaWRzW25dPT09dDspci5wdXNoKHtpbmRleDp0aGlzLnBvc2l0aW9uc1szKm5dLHN0YXJ0OnRoaXMucG9zaXRpb25zWzMqbisxXSxlbmQ6dGhpcy5wb3NpdGlvbnNbMypuKzJdfSksbisrO3JldHVybiByfXN0YXRpYyBzZXJpYWxpemUoZSx0KXtjb25zdCBuPW5ldyBGbG9hdDY0QXJyYXkoZS5pZHMpLGk9bmV3IFVpbnQzMkFycmF5KGUucG9zaXRpb25zKTtyZXR1cm4gZnVuY3Rpb24gZSh0LG4saSxyKXtmb3IoO2k8cjspe2NvbnN0IG89dFtpK3I+PjFdO2xldCBhPWktMSxzPXIrMTtmb3IoOzspe2Rve2ErK313aGlsZSh0W2FdPG8pO2Rve3MtLX13aGlsZSh0W3NdPm8pO2lmKGE+PXMpYnJlYWs7VWEodCxhLHMpLFVhKG4sMyphLDMqcyksVWEobiwzKmErMSwzKnMrMSksVWEobiwzKmErMiwzKnMrMil9cy1pPHItcz8oZSh0LG4saSxzKSxpPXMrMSk6KGUodCxuLHMrMSxyKSxyPXMpfX0obixpLDAsbi5sZW5ndGgtMSksdCYmdC5wdXNoKG4uYnVmZmVyLGkuYnVmZmVyKSx7aWRzOm4scG9zaXRpb25zOml9fXN0YXRpYyBkZXNlcmlhbGl6ZShlKXtjb25zdCB0PW5ldyBGYTtyZXR1cm4gdC5pZHM9ZS5pZHMsdC5wb3NpdGlvbnM9ZS5wb3NpdGlvbnMsdC5pbmRleGVkPSEwLHR9fWZ1bmN0aW9uIE5hKGUpe2NvbnN0IHQ9K2U7cmV0dXJuIWlzTmFOKHQpJiZOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjw9dCYmdDw9TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI/dDpMYS5leHBvcnRzKFN0cmluZyhlKSl9ZnVuY3Rpb24gVWEoZSx0LG4pe2NvbnN0IGk9ZVt0XTtlW3RdPWVbbl0sZVtuXT1pfXpyKEZhLFwiRmVhdHVyZVBvc2l0aW9uTWFwXCIpO2NsYXNzIFZhe2NvbnN0cnVjdG9yKGUpe3RoaXMuZ2w9ZS5nbCx0aGlzLmluaXRpYWxpemVkPSExfWZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCl7cmV0dXJuIHRoaXMubG9jYXRpb258fHRoaXMuaW5pdGlhbGl6ZWR8fCh0aGlzLmxvY2F0aW9uPXRoaXMuZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKGUsdCksdGhpcy5pbml0aWFsaXplZD0hMCksISF0aGlzLmxvY2F0aW9ufX1jbGFzcyBHYSBleHRlbmRzIFZhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD0wfXNldChlLHQsbil7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpJiZ0aGlzLmN1cnJlbnQhPT1uJiYodGhpcy5jdXJyZW50PW4sdGhpcy5nbC51bmlmb3JtMWYodGhpcy5sb2NhdGlvbixuKSl9fWNsYXNzIFphIGV4dGVuZHMgVmF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PVswLDAsMCwwXX1zZXQoZSx0LG4pe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmKG5bMF09PT10aGlzLmN1cnJlbnRbMF0mJm5bMV09PT10aGlzLmN1cnJlbnRbMV0mJm5bMl09PT10aGlzLmN1cnJlbnRbMl0mJm5bM109PT10aGlzLmN1cnJlbnRbM118fCh0aGlzLmN1cnJlbnQ9bix0aGlzLmdsLnVuaWZvcm00Zih0aGlzLmxvY2F0aW9uLG5bMF0sblsxXSxuWzJdLG5bM10pKSl9fWNsYXNzIFdhIGV4dGVuZHMgVmF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PUN0LnRyYW5zcGFyZW50fXNldChlLHQsbil7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpJiYobi5yPT09dGhpcy5jdXJyZW50LnImJm4uZz09PXRoaXMuY3VycmVudC5nJiZuLmI9PT10aGlzLmN1cnJlbnQuYiYmbi5hPT09dGhpcy5jdXJyZW50LmF8fCh0aGlzLmN1cnJlbnQ9bix0aGlzLmdsLnVuaWZvcm00Zih0aGlzLmxvY2F0aW9uLG4ucixuLmcsbi5iLG4uYSkpKX19Y29uc3QgcWE9bmV3IEZsb2F0MzJBcnJheSgxNiksJGE9bmV3IEZsb2F0MzJBcnJheSg5KSxIYT1uZXcgRmxvYXQzMkFycmF5KDQpO2Z1bmN0aW9uIFhhKGUpe3JldHVybltabygyNTUqZS5yLDI1NSplLmcpLFpvKDI1NSplLmIsMjU1KmUuYSldfWNsYXNzIFlhe2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnZhbHVlPWUsdGhpcy51bmlmb3JtTmFtZXM9dC5tYXAoZT0+XCJ1X1wiK2UpLHRoaXMudHlwZT1ufXNldFVuaWZvcm0oZSx0LG4saSxyKXt0LnNldChlLHIsaS5jb25zdGFudE9yKHRoaXMudmFsdWUpKX1nZXRCaW5kaW5nKGUsdCl7cmV0dXJuXCJjb2xvclwiPT09dGhpcy50eXBlP25ldyBXYShlKTpuZXcgR2EoZSl9fWNsYXNzIEphe2NvbnN0cnVjdG9yKGUsdCl7dGhpcy51bmlmb3JtTmFtZXM9dC5tYXAoZT0+XCJ1X1wiK2UpLHRoaXMucGF0dGVybj1udWxsLHRoaXMucGl4ZWxSYXRpbz0xfXNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhlKXt0aGlzLnBpeGVsUmF0aW89ZS5waXhlbFJhdGlvfHwxLHRoaXMucGF0dGVybj1lLnRsLmNvbmNhdChlLmJyKX1zZXRVbmlmb3JtKGUsdCxuLGkscil7Y29uc3Qgbz1cInVfcGF0dGVyblwiPT09cnx8XCJ1X2Rhc2hcIj09PXI/dGhpcy5wYXR0ZXJuOlwidV9waXhlbF9yYXRpb1wiPT09cj90aGlzLnBpeGVsUmF0aW86bnVsbDtvJiZ0LnNldChlLHIsbyl9Z2V0QmluZGluZyhlLHQpe3JldHVyblwidV9wYXR0ZXJuXCI9PT10fHxcInVfZGFzaFwiPT09dD9uZXcgWmEoZSk6bmV3IEdhKGUpfX1jbGFzcyBRYXtjb25zdHJ1Y3RvcihlLHQsbixpKXt0aGlzLmV4cHJlc3Npb249ZSx0aGlzLnR5cGU9bix0aGlzLm1heFZhbHVlPTAsdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXM9dC5tYXAoZT0+KHtuYW1lOlwiYV9cIitlLHR5cGU6XCJGbG9hdDMyXCIsY29tcG9uZW50czpcImNvbG9yXCI9PT1uPzI6MSxvZmZzZXQ6MH0pKSx0aGlzLnBhaW50VmVydGV4QXJyYXk9bmV3IGl9cG9wdWxhdGVQYWludEFycmF5KGUsdCxuLGkscixvKXtjb25zdCBhPXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGgscz10aGlzLmV4cHJlc3Npb24uZXZhbHVhdGUobmV3IFBvKDApLHQse30scixpLG8pO3RoaXMucGFpbnRWZXJ0ZXhBcnJheS5yZXNpemUoZSksdGhpcy5fc2V0UGFpbnRWYWx1ZShhLGUscyl9dXBkYXRlUGFpbnRBcnJheShlLHQsbixpLHIpe2NvbnN0IG89dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOjB9LG4saSx2b2lkIDAscik7dGhpcy5fc2V0UGFpbnRWYWx1ZShlLHQsbyl9X3NldFBhaW50VmFsdWUoZSx0LG4pe2lmKFwiY29sb3JcIj09PXRoaXMudHlwZSl7Y29uc3QgaT1YYShuKTtmb3IobGV0IG49ZTtuPHQ7bisrKXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5lbXBsYWNlKG4saVswXSxpWzFdKX1lbHNle2ZvcihsZXQgaT1lO2k8dDtpKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UoaSxuKTt0aGlzLm1heFZhbHVlPU1hdGgubWF4KHRoaXMubWF4VmFsdWUsTWF0aC5hYnMobikpfX11cGxvYWQoZSl7dGhpcy5wYWludFZlcnRleEFycmF5JiZ0aGlzLnBhaW50VmVydGV4QXJyYXkuYXJyYXlCdWZmZXImJih0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmJ1ZmZlcj90aGlzLnBhaW50VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5wYWludFZlcnRleEFycmF5KTp0aGlzLnBhaW50VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMucGFpbnRWZXJ0ZXhBcnJheSx0aGlzLnBhaW50VmVydGV4QXR0cmlidXRlcyx0aGlzLmV4cHJlc3Npb24uaXNTdGF0ZURlcGVuZGVudCkpfWRlc3Ryb3koKXt0aGlzLnBhaW50VmVydGV4QnVmZmVyJiZ0aGlzLnBhaW50VmVydGV4QnVmZmVyLmRlc3Ryb3koKX19Y2xhc3MgS2F7Y29uc3RydWN0b3IoZSx0LG4saSxyLG8pe3RoaXMuZXhwcmVzc2lvbj1lLHRoaXMudW5pZm9ybU5hbWVzPXQubWFwKGU9PmB1XyR7ZX1fdGApLHRoaXMudHlwZT1uLHRoaXMudXNlSW50ZWdlclpvb209aSx0aGlzLnpvb209cix0aGlzLm1heFZhbHVlPTAsdGhpcy5wYWludFZlcnRleEF0dHJpYnV0ZXM9dC5tYXAoZT0+KHtuYW1lOlwiYV9cIitlLHR5cGU6XCJGbG9hdDMyXCIsY29tcG9uZW50czpcImNvbG9yXCI9PT1uPzQ6MixvZmZzZXQ6MH0pKSx0aGlzLnBhaW50VmVydGV4QXJyYXk9bmV3IG99cG9wdWxhdGVQYWludEFycmF5KGUsdCxuLGkscixvKXtjb25zdCBhPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgUG8odGhpcy56b29tKSx0LHt9LHIsaSxvKSxzPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZShuZXcgUG8odGhpcy56b29tKzEpLHQse30scixpLG8pLGw9dGhpcy5wYWludFZlcnRleEFycmF5Lmxlbmd0aDt0aGlzLnBhaW50VmVydGV4QXJyYXkucmVzaXplKGUpLHRoaXMuX3NldFBhaW50VmFsdWUobCxlLGEscyl9dXBkYXRlUGFpbnRBcnJheShlLHQsbixpLHIpe2NvbnN0IG89dGhpcy5leHByZXNzaW9uLmV2YWx1YXRlKHt6b29tOnRoaXMuem9vbX0sbixpLHZvaWQgMCxyKSxhPXRoaXMuZXhwcmVzc2lvbi5ldmFsdWF0ZSh7em9vbTp0aGlzLnpvb20rMX0sbixpLHZvaWQgMCxyKTt0aGlzLl9zZXRQYWludFZhbHVlKGUsdCxvLGEpfV9zZXRQYWludFZhbHVlKGUsdCxuLGkpe2lmKFwiY29sb3JcIj09PXRoaXMudHlwZSl7Y29uc3Qgcj1YYShuKSxvPVhhKGkpO2ZvcihsZXQgbj1lO248dDtuKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UobixyWzBdLHJbMV0sb1swXSxvWzFdKX1lbHNle2ZvcihsZXQgcj1lO3I8dDtyKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UocixuLGkpO3RoaXMubWF4VmFsdWU9TWF0aC5tYXgodGhpcy5tYXhWYWx1ZSxNYXRoLmFicyhuKSxNYXRoLmFicyhpKSl9fXVwbG9hZChlKXt0aGlzLnBhaW50VmVydGV4QXJyYXkmJnRoaXMucGFpbnRWZXJ0ZXhBcnJheS5hcnJheUJ1ZmZlciYmKHRoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuYnVmZmVyP3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLnBhaW50VmVydGV4QXJyYXkpOnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5wYWludFZlcnRleEFycmF5LHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KSl9ZGVzdHJveSgpe3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpfXNldFVuaWZvcm0oZSx0LG4saSxyKXtjb25zdCBvPXRoaXMudXNlSW50ZWdlclpvb20/TWF0aC5mbG9vcihuLnpvb20pOm4uem9vbSxhPVModGhpcy5leHByZXNzaW9uLmludGVycG9sYXRpb25GYWN0b3Iobyx0aGlzLnpvb20sdGhpcy56b29tKzEpLDAsMSk7dC5zZXQoZSxyLGEpfWdldEJpbmRpbmcoZSx0KXtyZXR1cm4gbmV3IEdhKGUpfX1jbGFzcyBlc3tjb25zdHJ1Y3RvcihlLHQsbixpLHIpe3RoaXMuZXhwcmVzc2lvbj1lLHRoaXMubGF5ZXJJZD1yLHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzPShcImFycmF5XCI9PT1uP0RhOnphKS5tZW1iZXJzO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7KytlKTt0aGlzLnBhaW50VmVydGV4QXJyYXk9bmV3IGl9cG9wdWxhdGVQYWludEFycmF5KGUsdCxuKXtjb25zdCBpPXRoaXMucGFpbnRWZXJ0ZXhBcnJheS5sZW5ndGg7dGhpcy5wYWludFZlcnRleEFycmF5LnJlc2l6ZShlKSx0aGlzLl9zZXRQYWludFZhbHVlcyhpLGUsdC5wYXR0ZXJucyYmdC5wYXR0ZXJuc1t0aGlzLmxheWVySWRdLG4pfXVwZGF0ZVBhaW50QXJyYXkoZSx0LG4saSxyLG8pe3RoaXMuX3NldFBhaW50VmFsdWVzKGUsdCxuLnBhdHRlcm5zJiZuLnBhdHRlcm5zW3RoaXMubGF5ZXJJZF0sbyl9X3NldFBhaW50VmFsdWVzKGUsdCxuLGkpe2lmKCFpfHwhbilyZXR1cm47Y29uc3Qgcj1pW25dO2lmKCFyKXJldHVybjtjb25zdHt0bDpvLGJyOmEscGl4ZWxSYXRpbzpzfT1yO2ZvcihsZXQgbj1lO248dDtuKyspdGhpcy5wYWludFZlcnRleEFycmF5LmVtcGxhY2UobixvWzBdLG9bMV0sYVswXSxhWzFdLHMpfXVwbG9hZChlKXt0aGlzLnBhaW50VmVydGV4QXJyYXkmJnRoaXMucGFpbnRWZXJ0ZXhBcnJheS5hcnJheUJ1ZmZlciYmKHRoaXMucGFpbnRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5wYWludFZlcnRleEFycmF5LHRoaXMucGFpbnRWZXJ0ZXhBdHRyaWJ1dGVzLHRoaXMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KSl9ZGVzdHJveSgpe3RoaXMucGFpbnRWZXJ0ZXhCdWZmZXImJnRoaXMucGFpbnRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpfX1jbGFzcyB0c3tjb25zdHJ1Y3RvcihlLHQsbj0oKCk9PiEwKSl7dGhpcy5iaW5kZXJzPXt9LHRoaXMuX2J1ZmZlcnM9W107Y29uc3QgaT1bXTtmb3IoY29uc3QgciBpbiBlLnBhaW50Ll92YWx1ZXMpe2lmKCFuKHIpKWNvbnRpbnVlO2NvbnN0IG89ZS5wYWludC5nZXQocik7aWYoIShvIGluc3RhbmNlb2Ygam8mJklpKG8ucHJvcGVydHkuc3BlY2lmaWNhdGlvbikpKWNvbnRpbnVlO2NvbnN0IGE9cnMocixlLnR5cGUpLHM9by52YWx1ZSxsPW8ucHJvcGVydHkuc3BlY2lmaWNhdGlvbi50eXBlLGM9by5wcm9wZXJ0eS51c2VJbnRlZ2VyWm9vbSx1PVwibGluZS1kYXNoYXJyYXlcIj09PXJ8fHIuZW5kc1dpdGgoXCJwYXR0ZXJuXCIpLGg9XCJsaW5lLWRhc2hhcnJheVwiPT09ciYmXCJjb25zdGFudFwiIT09ZS5sYXlvdXQuZ2V0KFwibGluZS1jYXBcIikudmFsdWUua2luZDtpZihcImNvbnN0YW50XCIhPT1zLmtpbmR8fGgpaWYoXCJzb3VyY2VcIj09PXMua2luZHx8aHx8dSl7Y29uc3QgdD1zcyhyLGwsXCJzb3VyY2VcIik7dGhpcy5iaW5kZXJzW3JdPXU/bmV3IGVzKHMsYSxsLHQsZS5pZCk6bmV3IFFhKHMsYSxsLHQpLGkucHVzaChcIi9hX1wiK3IpfWVsc2V7Y29uc3QgZT1zcyhyLGwsXCJjb21wb3NpdGVcIik7dGhpcy5iaW5kZXJzW3JdPW5ldyBLYShzLGEsbCxjLHQsZSksaS5wdXNoKFwiL3pfXCIrcil9ZWxzZSB0aGlzLmJpbmRlcnNbcl09dT9uZXcgSmEocy52YWx1ZSxhKTpuZXcgWWEocy52YWx1ZSxhLGwpLGkucHVzaChcIi91X1wiK3IpfXRoaXMuY2FjaGVLZXk9aS5zb3J0KCkuam9pbihcIlwiKX1nZXRNYXhWYWx1ZShlKXtjb25zdCB0PXRoaXMuYmluZGVyc1tlXTtyZXR1cm4gdCBpbnN0YW5jZW9mIFFhfHx0IGluc3RhbmNlb2YgS2E/dC5tYXhWYWx1ZTowfXBvcHVsYXRlUGFpbnRBcnJheXMoZSx0LG4saSxyLG8pe2Zvcihjb25zdCBhIGluIHRoaXMuYmluZGVycyl7Y29uc3Qgcz10aGlzLmJpbmRlcnNbYV07KHMgaW5zdGFuY2VvZiBRYXx8cyBpbnN0YW5jZW9mIEthfHxzIGluc3RhbmNlb2YgZXMpJiZzLnBvcHVsYXRlUGFpbnRBcnJheShlLHQsbixpLHIsbyl9fXNldENvbnN0YW50UGF0dGVyblBvc2l0aW9ucyhlKXtmb3IoY29uc3QgdCBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IG49dGhpcy5iaW5kZXJzW3RdO24gaW5zdGFuY2VvZiBKYSYmbi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoZSl9fXVwZGF0ZVBhaW50QXJyYXlzKGUsdCxuLGkscixvKXtsZXQgYT0hMTtmb3IoY29uc3QgcyBpbiBlKXtjb25zdCBsPXQuZ2V0UG9zaXRpb25zKHMpO2Zvcihjb25zdCB0IG9mIGwpe2NvbnN0IGw9bi5mZWF0dXJlKHQuaW5kZXgpO2Zvcihjb25zdCBuIGluIHRoaXMuYmluZGVycyl7Y29uc3QgYz10aGlzLmJpbmRlcnNbbl07aWYoKGMgaW5zdGFuY2VvZiBRYXx8YyBpbnN0YW5jZW9mIEthfHxjIGluc3RhbmNlb2YgZXMpJiYhMD09PWMuZXhwcmVzc2lvbi5pc1N0YXRlRGVwZW5kZW50KXtjb25zdCB1PWkucGFpbnQuZ2V0KG4pO2MuZXhwcmVzc2lvbj11LnZhbHVlLGMudXBkYXRlUGFpbnRBcnJheSh0LnN0YXJ0LHQuZW5kLGwsZVtzXSxyLG8pLGE9ITB9fX19cmV0dXJuIGF9ZGVmaW5lcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBuPXRoaXMuYmluZGVyc1t0XTsobiBpbnN0YW5jZW9mIFlhfHxuIGluc3RhbmNlb2YgSmEpJiZlLnB1c2goLi4ubi51bmlmb3JtTmFtZXMubWFwKGU9PlwiI2RlZmluZSBIQVNfVU5JRk9STV9cIitlKSl9cmV0dXJuIGV9Z2V0QmluZGVyQXR0cmlidXRlcygpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBuPXRoaXMuYmluZGVyc1t0XTtpZihuIGluc3RhbmNlb2YgUWF8fG4gaW5zdGFuY2VvZiBLYXx8biBpbnN0YW5jZW9mIGVzKWZvcihsZXQgdD0wO3Q8bi5wYWludFZlcnRleEF0dHJpYnV0ZXMubGVuZ3RoO3QrKyllLnB1c2gobi5wYWludFZlcnRleEF0dHJpYnV0ZXNbdF0ubmFtZSl9cmV0dXJuIGV9Z2V0QmluZGVyVW5pZm9ybXMoKXtjb25zdCBlPVtdO2Zvcihjb25zdCB0IGluIHRoaXMuYmluZGVycyl7Y29uc3Qgbj10aGlzLmJpbmRlcnNbdF07aWYobiBpbnN0YW5jZW9mIFlhfHxuIGluc3RhbmNlb2YgSmF8fG4gaW5zdGFuY2VvZiBLYSlmb3IoY29uc3QgdCBvZiBuLnVuaWZvcm1OYW1lcyllLnB1c2godCl9cmV0dXJuIGV9Z2V0UGFpbnRWZXJ0ZXhCdWZmZXJzKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcnN9Z2V0VW5pZm9ybXMoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IGk9dGhpcy5iaW5kZXJzW25dO2lmKGkgaW5zdGFuY2VvZiBZYXx8aSBpbnN0YW5jZW9mIEphfHxpIGluc3RhbmNlb2YgS2EpZm9yKGNvbnN0IHIgb2YgaS51bmlmb3JtTmFtZXMpdC5wdXNoKHtuYW1lOnIscHJvcGVydHk6bixiaW5kaW5nOmkuZ2V0QmluZGluZyhlLHIpfSl9cmV0dXJuIHR9c2V0VW5pZm9ybXMoZSx0LG4saSxyKXtmb3IoY29uc3R7bmFtZTp0LHByb3BlcnR5Om8sYmluZGluZzphfW9mIG4pdGhpcy5iaW5kZXJzW29dLnNldFVuaWZvcm0oZSxhLHIsaS5nZXQobyksdCl9dXBkYXRlUGFpbnRCdWZmZXJzKCl7dGhpcy5fYnVmZmVycz1bXTtmb3IoY29uc3QgZSBpbiB0aGlzLmJpbmRlcnMpe2NvbnN0IHQ9dGhpcy5iaW5kZXJzW2VdOyh0IGluc3RhbmNlb2YgUWF8fHQgaW5zdGFuY2VvZiBLYXx8dCBpbnN0YW5jZW9mIGVzKSYmdC5wYWludFZlcnRleEJ1ZmZlciYmdGhpcy5fYnVmZmVycy5wdXNoKHQucGFpbnRWZXJ0ZXhCdWZmZXIpfX11cGxvYWQoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5iaW5kZXJzKXtjb25zdCBuPXRoaXMuYmluZGVyc1t0XTsobiBpbnN0YW5jZW9mIFFhfHxuIGluc3RhbmNlb2YgS2F8fG4gaW5zdGFuY2VvZiBlcykmJm4udXBsb2FkKGUpfXRoaXMudXBkYXRlUGFpbnRCdWZmZXJzKCl9ZGVzdHJveSgpe2Zvcihjb25zdCBlIGluIHRoaXMuYmluZGVycyl7Y29uc3QgdD10aGlzLmJpbmRlcnNbZV07KHQgaW5zdGFuY2VvZiBRYXx8dCBpbnN0YW5jZW9mIEthfHx0IGluc3RhbmNlb2YgZXMpJiZ0LmRlc3Ryb3koKX19fWNsYXNzIG5ze2NvbnN0cnVjdG9yKGUsdCxuPSgoKT0+ITApKXt0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz17fTtmb3IoY29uc3QgaSBvZiBlKXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zW2kuaWRdPW5ldyB0cyhpLHQsbik7dGhpcy5uZWVkc1VwbG9hZD0hMSx0aGlzLl9mZWF0dXJlTWFwPW5ldyBGYSx0aGlzLl9idWZmZXJPZmZzZXQ9MH1wb3B1bGF0ZVBhaW50QXJyYXlzKGUsdCxuLGkscixvLGEpe2Zvcihjb25zdCBuIGluIHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zKXRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zW25dLnBvcHVsYXRlUGFpbnRBcnJheXMoZSx0LGkscixvLGEpO3ZvaWQgMCE9PXQuaWQmJnRoaXMuX2ZlYXR1cmVNYXAuYWRkKHQuaWQsbix0aGlzLl9idWZmZXJPZmZzZXQsZSksdGhpcy5fYnVmZmVyT2Zmc2V0PWUsdGhpcy5uZWVkc1VwbG9hZD0hMH11cGRhdGVQYWludEFycmF5cyhlLHQsbixpLHIpe2Zvcihjb25zdCBvIG9mIG4pdGhpcy5uZWVkc1VwbG9hZD10aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tvLmlkXS51cGRhdGVQYWludEFycmF5cyhlLHRoaXMuX2ZlYXR1cmVNYXAsdCxvLGkscil8fHRoaXMubmVlZHNVcGxvYWR9Z2V0KGUpe3JldHVybiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tlXX11cGxvYWQoZSl7aWYodGhpcy5uZWVkc1VwbG9hZCl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMpdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnNbdF0udXBsb2FkKGUpO3RoaXMubmVlZHNVcGxvYWQ9ITF9fWRlc3Ryb3koKXtmb3IoY29uc3QgZSBpbiB0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucyl0aGlzLnByb2dyYW1Db25maWd1cmF0aW9uc1tlXS5kZXN0cm95KCl9fWNvbnN0IGlzPXtcInRleHQtb3BhY2l0eVwiOltcIm9wYWNpdHlcIl0sXCJpY29uLW9wYWNpdHlcIjpbXCJvcGFjaXR5XCJdLFwidGV4dC1jb2xvclwiOltcImZpbGxfY29sb3JcIl0sXCJpY29uLWNvbG9yXCI6W1wiZmlsbF9jb2xvclwiXSxcInRleHQtaGFsby1jb2xvclwiOltcImhhbG9fY29sb3JcIl0sXCJpY29uLWhhbG8tY29sb3JcIjpbXCJoYWxvX2NvbG9yXCJdLFwidGV4dC1oYWxvLWJsdXJcIjpbXCJoYWxvX2JsdXJcIl0sXCJpY29uLWhhbG8tYmx1clwiOltcImhhbG9fYmx1clwiXSxcInRleHQtaGFsby13aWR0aFwiOltcImhhbG9fd2lkdGhcIl0sXCJpY29uLWhhbG8td2lkdGhcIjpbXCJoYWxvX3dpZHRoXCJdLFwibGluZS1nYXAtd2lkdGhcIjpbXCJnYXB3aWR0aFwiXSxcImxpbmUtcGF0dGVyblwiOltcInBhdHRlcm5cIixcInBpeGVsX3JhdGlvXCJdLFwiZmlsbC1wYXR0ZXJuXCI6W1wicGF0dGVyblwiLFwicGl4ZWxfcmF0aW9cIl0sXCJmaWxsLWV4dHJ1c2lvbi1wYXR0ZXJuXCI6W1wicGF0dGVyblwiLFwicGl4ZWxfcmF0aW9cIl0sXCJsaW5lLWRhc2hhcnJheVwiOltcImRhc2hcIl19O2Z1bmN0aW9uIHJzKGUsdCl7cmV0dXJuIGlzW2VdfHxbZS5yZXBsYWNlKHQrXCItXCIsXCJcIikucmVwbGFjZSgvLS9nLFwiX1wiKV19Y29uc3Qgb3M9e1wibGluZS1wYXR0ZXJuXCI6e3NvdXJjZTp0YSxjb21wb3NpdGU6dGF9LFwiZmlsbC1wYXR0ZXJuXCI6e3NvdXJjZTp0YSxjb21wb3NpdGU6dGF9LFwiZmlsbC1leHRydXNpb24tcGF0dGVyblwiOntzb3VyY2U6dGEsY29tcG9zaXRlOnRhfSxcImxpbmUtZGFzaGFycmF5XCI6e3NvdXJjZTpuYSxjb21wb3NpdGU6bmF9fSxhcz17Y29sb3I6e3NvdXJjZTp4YSxjb21wb3NpdGU6ZWF9LG51bWJlcjp7c291cmNlOm1hLGNvbXBvc2l0ZTp4YX19O2Z1bmN0aW9uIHNzKGUsdCxuKXtjb25zdCBpPW9zW2VdO3JldHVybiBpJiZpW25dfHxhc1t0XVtuXX16cihZYSxcIkNvbnN0YW50QmluZGVyXCIpLHpyKEphLFwiUGF0dGVybkNvbnN0YW50QmluZGVyXCIpLHpyKFFhLFwiU291cmNlRXhwcmVzc2lvbkJpbmRlclwiKSx6cihlcyxcIlBhdHRlcm5Db21wb3NpdGVCaW5kZXJcIiksenIoS2EsXCJDb21wb3NpdGVFeHByZXNzaW9uQmluZGVyXCIpLHpyKHRzLFwiUHJvZ3JhbUNvbmZpZ3VyYXRpb25cIix7b21pdDpbXCJfYnVmZmVyc1wiXX0pLHpyKG5zLFwiUHJvZ3JhbUNvbmZpZ3VyYXRpb25TZXRcIik7Y29uc3QgbHM9XCItdHJhbnNpdGlvblwiO2NsYXNzIGNzIGV4dGVuZHMgWWV7Y29uc3RydWN0b3IoZSx0KXtpZihzdXBlcigpLHRoaXMuaWQ9ZS5pZCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMuX2ZlYXR1cmVGaWx0ZXI9e2ZpbHRlcjooKT0+ITAsbmVlZEdlb21ldHJ5OiExLG5lZWRGZWF0dXJlOiExfSx0aGlzLl9maWx0ZXJDb21waWxlZD0hMSxcImN1c3RvbVwiIT09ZS50eXBlJiYodGhpcy5tZXRhZGF0YT1lLm1ldGFkYXRhLHRoaXMubWluem9vbT1lLm1pbnpvb20sdGhpcy5tYXh6b29tPWUubWF4em9vbSxcImJhY2tncm91bmRcIiE9PWUudHlwZSYmXCJza3lcIiE9PWUudHlwZSYmKHRoaXMuc291cmNlPWUuc291cmNlLHRoaXMuc291cmNlTGF5ZXI9ZVtcInNvdXJjZS1sYXllclwiXSx0aGlzLmZpbHRlcj1lLmZpbHRlciksdC5sYXlvdXQmJih0aGlzLl91bmV2YWx1YXRlZExheW91dD1uZXcgQm8odC5sYXlvdXQpKSx0LnBhaW50KSl7dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludD1uZXcgTG8odC5wYWludCk7Zm9yKGNvbnN0IHQgaW4gZS5wYWludCl0aGlzLnNldFBhaW50UHJvcGVydHkodCxlLnBhaW50W3RdLHt2YWxpZGF0ZTohMX0pO2Zvcihjb25zdCB0IGluIGUubGF5b3V0KXRoaXMuc2V0TGF5b3V0UHJvcGVydHkodCxlLmxheW91dFt0XSx7dmFsaWRhdGU6ITF9KTt0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQ9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC51bnRyYW5zaXRpb25lZCgpLHRoaXMucGFpbnQ9bmV3IEZvKHQucGFpbnQpfX1nZXRMYXlvdXRQcm9wZXJ0eShlKXtyZXR1cm5cInZpc2liaWxpdHlcIj09PWU/dGhpcy52aXNpYmlsaXR5OnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LmdldFZhbHVlKGUpfXNldExheW91dFByb3BlcnR5KGUsdCxuPXt9KXtudWxsIT10JiZ0aGlzLl92YWxpZGF0ZShNcixgbGF5ZXJzLiR7dGhpcy5pZH0ubGF5b3V0LiR7ZX1gLGUsdCxuKXx8KFwidmlzaWJpbGl0eVwiIT09ZT90aGlzLl91bmV2YWx1YXRlZExheW91dC5zZXRWYWx1ZShlLHQpOnRoaXMudmlzaWJpbGl0eT10KX1nZXRQYWludFByb3BlcnR5KGUpe3JldHVybiBCKGUsbHMpP3RoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuZ2V0VHJhbnNpdGlvbihlLnNsaWNlKDAsLWxzLmxlbmd0aCkpOnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuZ2V0VmFsdWUoZSl9c2V0UGFpbnRQcm9wZXJ0eShlLHQsbj17fSl7aWYobnVsbCE9dCYmdGhpcy5fdmFsaWRhdGUoU3IsYGxheWVycy4ke3RoaXMuaWR9LnBhaW50LiR7ZX1gLGUsdCxuKSlyZXR1cm4hMTtpZihCKGUsbHMpKXJldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnNldFRyYW5zaXRpb24oZS5zbGljZSgwLC1scy5sZW5ndGgpLHR8fHZvaWQgMCksITE7e2NvbnN0IG49dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW2VdLGk9bi52YWx1ZS5pc0RhdGFEcml2ZW4oKSxyPW4udmFsdWU7dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5zZXRWYWx1ZShlLHQpLHRoaXMuX2hhbmRsZVNwZWNpYWxQYWludFByb3BlcnR5VXBkYXRlKGUpO2NvbnN0IG89dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW2VdLnZhbHVlLGE9by5pc0RhdGFEcml2ZW4oKSxzPUIoZSxcInBhdHRlcm5cIil8fFwibGluZS1kYXNoYXJyYXlcIj09PWU7cmV0dXJuIGF8fGl8fHN8fHRoaXMuX2hhbmRsZU92ZXJyaWRhYmxlUGFpbnRQcm9wZXJ0eVVwZGF0ZShlLHIsbyl9fV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZShlKXt9Z2V0UHJvZ3JhbUlkcygpe3JldHVybiBudWxsfWdldFByb2dyYW1Db25maWd1cmF0aW9uKGUpe3JldHVybiBudWxsfV9oYW5kbGVPdmVycmlkYWJsZVBhaW50UHJvcGVydHlVcGRhdGUoZSx0LG4pe3JldHVybiExfWlzSGlkZGVuKGUpe3JldHVybiEhKHRoaXMubWluem9vbSYmZTx0aGlzLm1pbnpvb20pfHwhISh0aGlzLm1heHpvb20mJmU+PXRoaXMubWF4em9vbSl8fFwibm9uZVwiPT09dGhpcy52aXNpYmlsaXR5fXVwZGF0ZVRyYW5zaXRpb25zKGUpe3RoaXMuX3RyYW5zaXRpb25pbmdQYWludD10aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50LnRyYW5zaXRpb25lZChlLHRoaXMuX3RyYW5zaXRpb25pbmdQYWludCl9aGFzVHJhbnNpdGlvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uaW5nUGFpbnQuaGFzVHJhbnNpdGlvbigpfXJlY2FsY3VsYXRlKGUsdCl7dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQmJih0aGlzLmxheW91dD10aGlzLl91bmV2YWx1YXRlZExheW91dC5wb3NzaWJseUV2YWx1YXRlKGUsdm9pZCAwLHQpKSx0aGlzLnBhaW50PXRoaXMuX3RyYW5zaXRpb25pbmdQYWludC5wb3NzaWJseUV2YWx1YXRlKGUsdm9pZCAwLHQpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9e2lkOnRoaXMuaWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuc291cmNlLFwic291cmNlLWxheWVyXCI6dGhpcy5zb3VyY2VMYXllcixtZXRhZGF0YTp0aGlzLm1ldGFkYXRhLG1pbnpvb206dGhpcy5taW56b29tLG1heHpvb206dGhpcy5tYXh6b29tLGZpbHRlcjp0aGlzLmZpbHRlcixsYXlvdXQ6dGhpcy5fdW5ldmFsdWF0ZWRMYXlvdXQmJnRoaXMuX3VuZXZhbHVhdGVkTGF5b3V0LnNlcmlhbGl6ZSgpLHBhaW50OnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQmJnRoaXMuX3RyYW5zaXRpb25hYmxlUGFpbnQuc2VyaWFsaXplKCl9O3JldHVybiB0aGlzLnZpc2liaWxpdHkmJihlLmxheW91dD1lLmxheW91dHx8e30sZS5sYXlvdXQudmlzaWJpbGl0eT10aGlzLnZpc2liaWxpdHkpLEYoZSwoZSx0KT0+ISh2b2lkIDA9PT1lfHxcImxheW91dFwiPT09dCYmIU9iamVjdC5rZXlzKGUpLmxlbmd0aHx8XCJwYWludFwiPT09dCYmIU9iamVjdC5rZXlzKGUpLmxlbmd0aCkpfV92YWxpZGF0ZShlLHQsbixpLHI9e30pe3JldHVybighcnx8ITEhPT1yLnZhbGlkYXRlKSYmQ3IodGhpcyxlLmNhbGwoRXIse2tleTp0LGxheWVyVHlwZTp0aGlzLnR5cGUsb2JqZWN0S2V5Om4sdmFsdWU6aSxzdHlsZVNwZWM6SmUsc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9fSkpfWlzM0QoKXtyZXR1cm4hMX1pc1NreSgpe3JldHVybiExfWlzVGlsZUNsaXBwZWQoKXtyZXR1cm4hMX1oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuITF9cmVzaXplKCl7fWlzU3RhdGVEZXBlbmRlbnQoKXtmb3IoY29uc3QgZSBpbiB0aGlzLnBhaW50Ll92YWx1ZXMpe2NvbnN0IHQ9dGhpcy5wYWludC5nZXQoZSk7aWYodCBpbnN0YW5jZW9mIGpvJiZJaSh0LnByb3BlcnR5LnNwZWNpZmljYXRpb24pJiYoXCJzb3VyY2VcIj09PXQudmFsdWUua2luZHx8XCJjb21wb3NpdGVcIj09PXQudmFsdWUua2luZCkmJnQudmFsdWUuaXNTdGF0ZURlcGVuZGVudClyZXR1cm4hMH1yZXR1cm4hMX1jb21waWxlRmlsdGVyKCl7dGhpcy5fZmlsdGVyQ29tcGlsZWR8fCh0aGlzLl9mZWF0dXJlRmlsdGVyPUtpKHRoaXMuZmlsdGVyKSx0aGlzLl9maWx0ZXJDb21waWxlZD0hMCl9aW52YWxpZGF0ZUNvbXBpbGVkRmlsdGVyKCl7dGhpcy5fZmlsdGVyQ29tcGlsZWQ9ITF9ZHluYW1pY0ZpbHRlcigpe3JldHVybiB0aGlzLl9mZWF0dXJlRmlsdGVyLmR5bmFtaWNGaWx0ZXJ9ZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZSgpe3JldHVybiB0aGlzLl9mZWF0dXJlRmlsdGVyLm5lZWRGZWF0dXJlfX1jb25zdCB1cz1Ibyhbe25hbWU6XCJhX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpLGhzPUhvKFt7bmFtZTpcImFfcG9zXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9wb3Nfbm9ybWFsXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9XSk7Y2xhc3MgZHN7Y29uc3RydWN0b3IoZT1bXSl7dGhpcy5zZWdtZW50cz1lfXByZXBhcmVTZWdtZW50KGUsdCxuLGkpe2xldCByPXRoaXMuc2VnbWVudHNbdGhpcy5zZWdtZW50cy5sZW5ndGgtMV07cmV0dXJuIGU+ZHMuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEgmJlYoYE1heCB2ZXJ0aWNlcyBwZXIgc2VnbWVudCBpcyAke2RzLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIfTogYnVja2V0IHJlcXVlc3RlZCAke2V9YCksKCFyfHxyLnZlcnRleExlbmd0aCtlPmRzLk1BWF9WRVJURVhfQVJSQVlfTEVOR1RIfHxyLnNvcnRLZXkhPT1pKSYmKHI9e3ZlcnRleE9mZnNldDp0Lmxlbmd0aCxwcmltaXRpdmVPZmZzZXQ6bi5sZW5ndGgsdmVydGV4TGVuZ3RoOjAscHJpbWl0aXZlTGVuZ3RoOjB9LHZvaWQgMCE9PWkmJihyLnNvcnRLZXk9aSksdGhpcy5zZWdtZW50cy5wdXNoKHIpKSxyfWdldCgpe3JldHVybiB0aGlzLnNlZ21lbnRzfWRlc3Ryb3koKXtmb3IoY29uc3QgZSBvZiB0aGlzLnNlZ21lbnRzKWZvcihjb25zdCB0IGluIGUudmFvcyllLnZhb3NbdF0uZGVzdHJveSgpfXN0YXRpYyBzaW1wbGVTZWdtZW50KGUsdCxuLGkpe3JldHVybiBuZXcgZHMoW3t2ZXJ0ZXhPZmZzZXQ6ZSxwcmltaXRpdmVPZmZzZXQ6dCx2ZXJ0ZXhMZW5ndGg6bixwcmltaXRpdmVMZW5ndGg6aSx2YW9zOnt9LHNvcnRLZXk6MH1dKX19ZHMuTUFYX1ZFUlRFWF9BUlJBWV9MRU5HVEg9TWF0aC5wb3coMiwxNiktMSx6cihkcyxcIlNlZ21lbnRWZWN0b3JcIik7dmFyIHBzPTgxOTI7Y2xhc3MgZnN7Y29uc3RydWN0b3IoZSx0KXtlJiYodD90aGlzLnNldFNvdXRoV2VzdChlKS5zZXROb3J0aEVhc3QodCk6ND09PWUubGVuZ3RoP3RoaXMuc2V0U291dGhXZXN0KFtlWzBdLGVbMV1dKS5zZXROb3J0aEVhc3QoW2VbMl0sZVszXV0pOnRoaXMuc2V0U291dGhXZXN0KGVbMF0pLnNldE5vcnRoRWFzdChlWzFdKSl9c2V0Tm9ydGhFYXN0KGUpe3JldHVybiB0aGlzLl9uZT1lIGluc3RhbmNlb2YgZ3M/bmV3IGdzKGUubG5nLGUubGF0KTpncy5jb252ZXJ0KGUpLHRoaXN9c2V0U291dGhXZXN0KGUpe3JldHVybiB0aGlzLl9zdz1lIGluc3RhbmNlb2YgZ3M/bmV3IGdzKGUubG5nLGUubGF0KTpncy5jb252ZXJ0KGUpLHRoaXN9ZXh0ZW5kKGUpe2NvbnN0IHQ9dGhpcy5fc3csbj10aGlzLl9uZTtsZXQgaSxyO2lmKGUgaW5zdGFuY2VvZiBncylpPWUscj1lO2Vsc2V7aWYoIShlIGluc3RhbmNlb2YgZnMpKXJldHVybiBBcnJheS5pc0FycmF5KGUpPzQ9PT1lLmxlbmd0aHx8ZS5ldmVyeShBcnJheS5pc0FycmF5KT90aGlzLmV4dGVuZChmcy5jb252ZXJ0KGUpKTp0aGlzLmV4dGVuZChncy5jb252ZXJ0KGUpKTpcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJmUuaGFzT3duUHJvcGVydHkoXCJsYXRcIikmJmUuaGFzT3duUHJvcGVydHkoXCJsb25cIik/dGhpcy5leHRlbmQoZ3MuY29udmVydChlKSk6dGhpcztpZihpPWUuX3N3LHI9ZS5fbmUsIWl8fCFyKXJldHVybiB0aGlzfXJldHVybiB0fHxuPyh0LmxuZz1NYXRoLm1pbihpLmxuZyx0LmxuZyksdC5sYXQ9TWF0aC5taW4oaS5sYXQsdC5sYXQpLG4ubG5nPU1hdGgubWF4KHIubG5nLG4ubG5nKSxuLmxhdD1NYXRoLm1heChyLmxhdCxuLmxhdCkpOih0aGlzLl9zdz1uZXcgZ3MoaS5sbmcsaS5sYXQpLHRoaXMuX25lPW5ldyBncyhyLmxuZyxyLmxhdCkpLHRoaXN9Z2V0Q2VudGVyKCl7cmV0dXJuIG5ldyBncygodGhpcy5fc3cubG5nK3RoaXMuX25lLmxuZykvMiwodGhpcy5fc3cubGF0K3RoaXMuX25lLmxhdCkvMil9Z2V0U291dGhXZXN0KCl7cmV0dXJuIHRoaXMuX3N3fWdldE5vcnRoRWFzdCgpe3JldHVybiB0aGlzLl9uZX1nZXROb3J0aFdlc3QoKXtyZXR1cm4gbmV3IGdzKHRoaXMuZ2V0V2VzdCgpLHRoaXMuZ2V0Tm9ydGgoKSl9Z2V0U291dGhFYXN0KCl7cmV0dXJuIG5ldyBncyh0aGlzLmdldEVhc3QoKSx0aGlzLmdldFNvdXRoKCkpfWdldFdlc3QoKXtyZXR1cm4gdGhpcy5fc3cubG5nfWdldFNvdXRoKCl7cmV0dXJuIHRoaXMuX3N3LmxhdH1nZXRFYXN0KCl7cmV0dXJuIHRoaXMuX25lLmxuZ31nZXROb3J0aCgpe3JldHVybiB0aGlzLl9uZS5sYXR9dG9BcnJheSgpe3JldHVyblt0aGlzLl9zdy50b0FycmF5KCksdGhpcy5fbmUudG9BcnJheSgpXX10b1N0cmluZygpe3JldHVybmBMbmdMYXRCb3VuZHMoJHt0aGlzLl9zdy50b1N0cmluZygpfSwgJHt0aGlzLl9uZS50b1N0cmluZygpfSlgfWlzRW1wdHkoKXtyZXR1cm4hKHRoaXMuX3N3JiZ0aGlzLl9uZSl9Y29udGFpbnMoZSl7Y29uc3R7bG5nOnQsbGF0Om59PWdzLmNvbnZlcnQoZSk7bGV0IGk9dGhpcy5fc3cubG5nPD10JiZ0PD10aGlzLl9uZS5sbmc7cmV0dXJuIHRoaXMuX3N3LmxuZz50aGlzLl9uZS5sbmcmJihpPXRoaXMuX3N3LmxuZz49dCYmdD49dGhpcy5fbmUubG5nKSx0aGlzLl9zdy5sYXQ8PW4mJm48PXRoaXMuX25lLmxhdCYmaX1zdGF0aWMgY29udmVydChlKXtyZXR1cm4hZXx8ZSBpbnN0YW5jZW9mIGZzP2U6bmV3IGZzKGUpfX1jb25zdCBtcz02MzcxMDA4Ljg7Y2xhc3MgZ3N7Y29uc3RydWN0b3IoZSx0KXtpZihpc05hTihlKXx8aXNOYU4odCkpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIExuZ0xhdCBvYmplY3Q6ICgke2V9LCAke3R9KWApO2lmKHRoaXMubG5nPStlLHRoaXMubGF0PSt0LHRoaXMubGF0PjkwfHx0aGlzLmxhdDwtOTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBMbmdMYXQgbGF0aXR1ZGUgdmFsdWU6IG11c3QgYmUgYmV0d2VlbiAtOTAgYW5kIDkwXCIpfXdyYXAoKXtyZXR1cm4gbmV3IGdzKEkodGhpcy5sbmcsLTE4MCwxODApLHRoaXMubGF0KX10b0FycmF5KCl7cmV0dXJuW3RoaXMubG5nLHRoaXMubGF0XX10b1N0cmluZygpe3JldHVybmBMbmdMYXQoJHt0aGlzLmxuZ30sICR7dGhpcy5sYXR9KWB9ZGlzdGFuY2VUbyhlKXtjb25zdCB0PU1hdGguUEkvMTgwLG49dGhpcy5sYXQqdCxpPWUubGF0KnQscj1NYXRoLnNpbihuKSpNYXRoLnNpbihpKStNYXRoLmNvcyhuKSpNYXRoLmNvcyhpKSpNYXRoLmNvcygoZS5sbmctdGhpcy5sbmcpKnQpO3JldHVybiBtcypNYXRoLmFjb3MoTWF0aC5taW4ociwxKSl9dG9Cb3VuZHMoZT0wKXtjb25zdCB0PTM2MCplLzQwMDc1MDE3LG49dC9NYXRoLmNvcyhNYXRoLlBJLzE4MCp0aGlzLmxhdCk7cmV0dXJuIG5ldyBmcyhuZXcgZ3ModGhpcy5sbmctbix0aGlzLmxhdC10KSxuZXcgZ3ModGhpcy5sbmcrbix0aGlzLmxhdCt0KSl9c3RhdGljIGNvbnZlcnQoZSl7aWYoZSBpbnN0YW5jZW9mIGdzKXJldHVybiBlO2lmKEFycmF5LmlzQXJyYXkoZSkmJigyPT09ZS5sZW5ndGh8fDM9PT1lLmxlbmd0aCkpcmV0dXJuIG5ldyBncyhOdW1iZXIoZVswXSksTnVtYmVyKGVbMV0pKTtpZighQXJyYXkuaXNBcnJheShlKSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lKXJldHVybiBuZXcgZ3MoTnVtYmVyKFwibG5nXCJpbiBlP2UubG5nOmUubG9uKSxOdW1iZXIoZS5sYXQpKTt0aHJvdyBuZXcgRXJyb3IoXCJgTG5nTGF0TGlrZWAgYXJndW1lbnQgbXVzdCBiZSBzcGVjaWZpZWQgYXMgYSBMbmdMYXQgaW5zdGFuY2UsIGFuIG9iamVjdCB7bG5nOiA8bG5nPiwgbGF0OiA8bGF0Pn0sIGFuIG9iamVjdCB7bG9uOiA8bG5nPiwgbGF0OiA8bGF0Pn0sIG9yIGFuIGFycmF5IG9mIFs8bG5nPiwgPGxhdD5dXCIpfX1jb25zdCB5cz0yKk1hdGguUEkqbXM7ZnVuY3Rpb24gX3MoZSl7cmV0dXJuIHlzKk1hdGguY29zKGUqTWF0aC5QSS8xODApfWZ1bmN0aW9uIHZzKGUpe3JldHVybigxODArZSkvMzYwfWZ1bmN0aW9uIHhzKGUpe3JldHVybigxODAtMTgwL01hdGguUEkqTWF0aC5sb2coTWF0aC50YW4oTWF0aC5QSS80K2UqTWF0aC5QSS8zNjApKSkvMzYwfWZ1bmN0aW9uIGJzKGUsdCl7cmV0dXJuIGUvX3ModCl9ZnVuY3Rpb24gd3MoZSl7cmV0dXJuIDM2MCplLTE4MH1mdW5jdGlvbiBUcyhlKXtyZXR1cm4gMzYwL01hdGguUEkqTWF0aC5hdGFuKE1hdGguZXhwKCgxODAtMzYwKmUpKk1hdGguUEkvMTgwKSktOTB9ZnVuY3Rpb24gRXMoZSx0KXtyZXR1cm4gZSpfcyhUcyh0KSl9Y29uc3QgU3M9ODUuMDUxMTI5O2Z1bmN0aW9uIE1zKGUpe3JldHVybiAxL01hdGguY29zKGUqTWF0aC5QSS8xODApfWNsYXNzIElze2NvbnN0cnVjdG9yKGUsdCxuPTApe3RoaXMueD0rZSx0aGlzLnk9K3QsdGhpcy56PStufXN0YXRpYyBmcm9tTG5nTGF0KGUsdD0wKXtjb25zdCBuPWdzLmNvbnZlcnQoZSk7cmV0dXJuIG5ldyBJcyh2cyhuLmxuZykseHMobi5sYXQpLGJzKHQsbi5sYXQpKX10b0xuZ0xhdCgpe3JldHVybiBuZXcgZ3Mod3ModGhpcy54KSxUcyh0aGlzLnkpKX10b0FsdGl0dWRlKCl7cmV0dXJuIEVzKHRoaXMueix0aGlzLnkpfW1ldGVySW5NZXJjYXRvckNvb3JkaW5hdGVVbml0cygpe3JldHVybiAxL3lzKk1zKFRzKHRoaXMueSkpfX1mdW5jdGlvbiBDcyhlLHQsbixpLHIsbyxhLHMsbCl7Y29uc3QgYz0odCtpKS8yLHU9KG4rcikvMixoPW5ldyBtKGMsdSk7cyhoKSxmdW5jdGlvbihlLHQsbixpLHIsbyl7Y29uc3QgYT1uLXIscz1pLW87cmV0dXJuIE1hdGguYWJzKChpLXQpKmEtKG4tZSkqcykvTWF0aC5oeXBvdChhLHMpfShoLngsaC55LG8ueCxvLnksYS54LGEueSk+PWw/KENzKGUsdCxuLGMsdSxvLGgscyxsKSxDcyhlLGMsdSxpLHIsaCxhLHMsbCkpOmUucHVzaChhKX1mdW5jdGlvbiBrcyhlLHQsbil7bGV0IGk9ZVswXSxyPWkueCxvPWkueTt0KGkpO2NvbnN0IGE9W2ldO2ZvcihsZXQgcz0xO3M8ZS5sZW5ndGg7cysrKXtjb25zdCBsPWVbc10se3g6Yyx5OnV9PWw7dChsKSxDcyhhLHIsbyxjLHUsaSxsLHQsbikscj1jLG89dSxpPWx9cmV0dXJuIGF9ZnVuY3Rpb24gQXMoZSx0LG4saSl7aWYoaSh0LG4pKXtjb25zdCByPXQuYWRkKG4pLl9tdWx0KC41KTtBcyhlLHQscixpKSxBcyhlLHIsbixpKX1lbHNlIGUucHVzaChuKX1mdW5jdGlvbiBQcyhlLHQpe2xldCBuPWVbMF07Y29uc3QgaT1bbl07Zm9yKGxldCByPTE7cjxlLmxlbmd0aDtyKyspe2NvbnN0IG89ZVtyXTtBcyhpLG4sbyx0KSxuPW99cmV0dXJuIGl9Y29uc3QgenM9TWF0aC5wb3coMiwxNCktMSxEcz0tenMtMTtmdW5jdGlvbiBMcyhlLHQpe2NvbnN0IG49TWF0aC5yb3VuZChlLngqdCksaT1NYXRoLnJvdW5kKGUueSp0KTtyZXR1cm4gZS54PVMobixEcyx6cyksZS55PVMoaSxEcyx6cyksKG48ZS54fHxuPmUueCsxfHxpPGUueXx8aT5lLnkrMSkmJlYoXCJHZW9tZXRyeSBleGNlZWRzIGFsbG93ZWQgZXh0ZW50LCByZWR1Y2UgeW91ciB2ZWN0b3IgdGlsZSBidWZmZXIgc2l6ZVwiKSxlfWZ1bmN0aW9uIE9zKGUsdCxuKXtjb25zdCBpPWUubG9hZEdlb21ldHJ5KCkscj1lLmV4dGVudCxvPXBzL3I7aWYodCYmbiYmbi5wcm9qZWN0aW9uLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZSl7Y29uc3Qgbz0xPDx0Lnose3NjYWxlOmEseDpzLHk6bCxwcm9qZWN0aW9uOmN9PW4sdT1lPT57Y29uc3Qgbj13cygodC54K2UueC9yKS9vKSxpPVRzKCh0LnkrZS55L3IpL28pLHU9Yy5wcm9qZWN0KG4saSk7ZS54PSh1LngqYS1zKSpyLGUueT0odS55KmEtbCkqcn07Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0KyspaWYoMSE9PWUudHlwZSlpW3RdPWtzKGlbdF0sdSwxKTtlbHNle2NvbnN0IGU9W107Zm9yKGNvbnN0IG4gb2YgaVt0XSluLng8MHx8bi54Pj1yfHxuLnk8MHx8bi55Pj1yfHwodShuKSxlLnB1c2gobikpO2lbdF09ZX19Zm9yKGNvbnN0IGUgb2YgaSlmb3IoY29uc3QgdCBvZiBlKUxzKHQsbyk7cmV0dXJuIGl9ZnVuY3Rpb24gUnMoZSx0KXtyZXR1cm57dHlwZTplLnR5cGUsaWQ6ZS5pZCxwcm9wZXJ0aWVzOmUucHJvcGVydGllcyxnZW9tZXRyeTp0P09zKGUpOltdfX1mdW5jdGlvbiBCcyhlLHQsbixpLHIpe2UuZW1wbGFjZUJhY2soMip0KyhpKzEpLzIsMipuKyhyKzEpLzIpfWZ1bmN0aW9uIGpzKGUsdCxuKXtjb25zdCBpPTE2Mzg0O2UuZW1wbGFjZUJhY2sodC54LHQueSx0LnosblswXSppLG5bMV0qaSxuWzJdKmkpfWNsYXNzIEZze2NvbnN0cnVjdG9yKGUpe3RoaXMuem9vbT1lLnpvb20sdGhpcy5vdmVyc2NhbGluZz1lLm92ZXJzY2FsaW5nLHRoaXMubGF5ZXJzPWUubGF5ZXJzLHRoaXMubGF5ZXJJZHM9dGhpcy5sYXllcnMubWFwKGU9PmUuaWQpLHRoaXMuaW5kZXg9ZS5pbmRleCx0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbix0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBZbyx0aGlzLmluZGV4QXJyYXk9bmV3IGRhLHRoaXMuc2VnbWVudHM9bmV3IGRzLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBucyhlLmxheWVycyxlLnpvb20pLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoZT0+ZS5pc1N0YXRlRGVwZW5kZW50KCkpLm1hcChlPT5lLmlkKX1wb3B1bGF0ZShlLHQsbixpKXtjb25zdCByPXRoaXMubGF5ZXJzWzBdLG89W107bGV0IGE9bnVsbDtcImNpcmNsZVwiPT09ci50eXBlJiYoYT1yLmxheW91dC5nZXQoXCJjaXJjbGUtc29ydC1rZXlcIikpO2Zvcihjb25zdHtmZWF0dXJlOnQsaWQ6cixpbmRleDpzLHNvdXJjZUxheWVySW5kZXg6bH1vZiBlKXtjb25zdCBlPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxjPVJzKHQsZSk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgUG8odGhpcy56b29tKSxjLG4pKWNvbnRpbnVlO2NvbnN0IHU9YT9hLmV2YWx1YXRlKGMse30sbik6dm9pZCAwLGg9e2lkOnIscHJvcGVydGllczp0LnByb3BlcnRpZXMsdHlwZTp0LnR5cGUsc291cmNlTGF5ZXJJbmRleDpsLGluZGV4OnMsZ2VvbWV0cnk6ZT9jLmdlb21ldHJ5Ok9zKHQsbixpKSxwYXR0ZXJuczp7fSxzb3J0S2V5OnV9O28ucHVzaChoKX1hJiZvLnNvcnQoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpO2xldCBzPW51bGw7XCJnbG9iZVwiPT09aS5wcm9qZWN0aW9uLm5hbWUmJih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXk9bmV3IGlhLHM9aS5wcm9qZWN0aW9uKTtmb3IoY29uc3QgaSBvZiBvKXtjb25zdHtnZW9tZXRyeTpyLGluZGV4Om8sc291cmNlTGF5ZXJJbmRleDphfT1pLGw9ZVtvXS5mZWF0dXJlO3RoaXMuYWRkRmVhdHVyZShpLHIsbyx0LmF2YWlsYWJsZUltYWdlcyxuLHMpLHQuZmVhdHVyZUluZGV4Lmluc2VydChsLHIsbyxhLHRoaXMuaW5kZXgpfX11cGRhdGUoZSx0LG4saSl7dGhpcy5zdGF0ZURlcGVuZGVudExheWVycy5sZW5ndGgmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwZGF0ZVBhaW50QXJyYXlzKGUsdCx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLG4saSl9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGh9dXBsb2FkUGVuZGluZygpe3JldHVybiF0aGlzLnVwbG9hZGVkfHx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7dGhpcy51cGxvYWRlZHx8KHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksdXMubWVtYmVycyksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5nbG9iZUV4dFZlcnRleEFycmF5JiYodGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXksaHMubWVtYmVycykpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQoZSksdGhpcy51cGxvYWRlZD0hMH1kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXImJnRoaXMuZ2xvYmVFeHRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpKX1hZGRGZWF0dXJlKGUsdCxuLGkscixvKXtmb3IoY29uc3QgbiBvZiB0KWZvcihjb25zdCB0IG9mIG4pe2NvbnN0IG49dC54LGk9dC55O2lmKG48MHx8bj49cHN8fGk8MHx8aT49cHMpY29udGludWU7aWYobyl7Y29uc3QgZT1vLnByb2plY3RUaWxlUG9pbnQobixpLHIpLHQ9by51cFZlY3RvcihyLG4saSksYT10aGlzLmdsb2JlRXh0VmVydGV4QXJyYXk7anMoYSxlLHQpLGpzKGEsZSx0KSxqcyhhLGUsdCksanMoYSxlLHQpfWNvbnN0IGE9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCg0LHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5LGUuc29ydEtleSkscz1hLnZlcnRleExlbmd0aDtCcyh0aGlzLmxheW91dFZlcnRleEFycmF5LG4saSwtMSwtMSksQnModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxuLGksMSwtMSksQnModGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxuLGksMSwxKSxCcyh0aGlzLmxheW91dFZlcnRleEFycmF5LG4saSwtMSwxKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2socyxzKzEscysyKSx0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2socyxzKzIscyszKSxhLnZlcnRleExlbmd0aCs9NCxhLnByaW1pdGl2ZUxlbmd0aCs9Mn10aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5wb3B1bGF0ZVBhaW50QXJyYXlzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLGUsbix7fSxpLHIpfX1mdW5jdGlvbiBOcyhlLHQpe2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKWlmKFhzKHQsZVtuXSkpcmV0dXJuITA7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoWHMoZSx0W25dKSlyZXR1cm4hMDtyZXR1cm4hIVpzKGUsdCl9ZnVuY3Rpb24gVXMoZSx0LG4pe3JldHVybiEhWHMoZSx0KXx8ISFxcyh0LGUsbil9ZnVuY3Rpb24gVnMoZSx0KXtpZigxPT09ZS5sZW5ndGgpcmV0dXJuIEhzKHQsZVswXSk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGk9dFtuXTtmb3IobGV0IHQ9MDt0PGkubGVuZ3RoO3QrKylpZihYcyhlLGlbdF0pKXJldHVybiEwfWZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKWlmKEhzKHQsZVtuXSkpcmV0dXJuITA7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoWnMoZSx0W25dKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBHcyhlLHQsbil7aWYoZS5sZW5ndGg+MSl7aWYoWnMoZSx0KSlyZXR1cm4hMDtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKylpZihxcyh0W2ldLGUsbikpcmV0dXJuITB9Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspaWYocXMoZVtpXSx0LG4pKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIFpzKGUsdCl7aWYoMD09PWUubGVuZ3RofHwwPT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aC0xO24rKyl7Y29uc3QgaT1lW25dLHI9ZVtuKzFdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspaWYoV3MoaSxyLHRbZV0sdFtlKzFdKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBXcyhlLHQsbixpKXtyZXR1cm4gRyhlLG4saSkhPT1HKHQsbixpKSYmRyhlLHQsbikhPT1HKGUsdCxpKX1mdW5jdGlvbiBxcyhlLHQsbil7Y29uc3QgaT1uKm47aWYoMT09PXQubGVuZ3RoKXJldHVybiBlLmRpc3RTcXIodFswXSk8aTtmb3IobGV0IG49MTtuPHQubGVuZ3RoO24rKylpZigkcyhlLHRbbi0xXSx0W25dKTxpKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uICRzKGUsdCxuKXtjb25zdCBpPXQuZGlzdFNxcihuKTtpZigwPT09aSlyZXR1cm4gZS5kaXN0U3FyKHQpO2NvbnN0IHI9KChlLngtdC54KSoobi54LXQueCkrKGUueS10LnkpKihuLnktdC55KSkvaTtyZXR1cm4gZS5kaXN0U3FyKHI8MD90OnI+MT9uOm4uc3ViKHQpLl9tdWx0KHIpLl9hZGQodCkpfWZ1bmN0aW9uIEhzKGUsdCl7bGV0IG4saSxyLG89ITE7Zm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe249ZVthXTtmb3IobGV0IGU9MCxhPW4ubGVuZ3RoLTE7ZTxuLmxlbmd0aDthPWUrKylpPW5bZV0scj1uW2FdLGkueT50LnkhPXIueT50LnkmJnQueDwoci54LWkueCkqKHQueS1pLnkpLyhyLnktaS55KStpLngmJihvPSFvKX1yZXR1cm4gb31mdW5jdGlvbiBYcyhlLHQpe2xldCBuPSExO2ZvcihsZXQgaT0wLHI9ZS5sZW5ndGgtMTtpPGUubGVuZ3RoO3I9aSsrKXtjb25zdCBvPWVbaV0sYT1lW3JdO28ueT50LnkhPWEueT50LnkmJnQueDwoYS54LW8ueCkqKHQueS1vLnkpLyhhLnktby55KStvLngmJihuPSFuKX1yZXR1cm4gbn1mdW5jdGlvbiBZcyhlLHQsbixpLHIpe2Zvcihjb25zdCBvIG9mIGUpaWYodDw9by54JiZuPD1vLnkmJmk+PW8ueCYmcj49by55KXJldHVybiEwO2NvbnN0IG89W25ldyBtKHQsbiksbmV3IG0odCxyKSxuZXcgbShpLHIpLG5ldyBtKGksbildO2lmKGUubGVuZ3RoPjIpZm9yKGNvbnN0IHQgb2YgbylpZihYcyhlLHQpKXJldHVybiEwO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGgtMTt0KyspaWYoSnMoZVt0XSxlW3QrMV0sbykpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gSnMoZSx0LG4pe2NvbnN0IGk9blswXSxyPW5bMl07aWYoZS54PGkueCYmdC54PGkueHx8ZS54PnIueCYmdC54PnIueHx8ZS55PGkueSYmdC55PGkueXx8ZS55PnIueSYmdC55PnIueSlyZXR1cm4hMTtjb25zdCBvPUcoZSx0LG5bMF0pO3JldHVybiBvIT09RyhlLHQsblsxXSl8fG8hPT1HKGUsdCxuWzJdKXx8byE9PUcoZSx0LG5bM10pfWZ1bmN0aW9uIFFzKGUsdCxuKXtjb25zdCBpPXQucGFpbnQuZ2V0KGUpLnZhbHVlO3JldHVyblwiY29uc3RhbnRcIj09PWkua2luZD9pLnZhbHVlOm4ucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldCh0LmlkKS5nZXRNYXhWYWx1ZShlKX1mdW5jdGlvbiBLcyhlKXtyZXR1cm4gTWF0aC5zcXJ0KGVbMF0qZVswXStlWzFdKmVbMV0pfWZ1bmN0aW9uIGVsKGUsdCxuLGkscil7aWYoIXRbMF0mJiF0WzFdKXJldHVybiBlO2NvbnN0IG89bS5jb252ZXJ0KHQpLl9tdWx0KHIpO1widmlld3BvcnRcIj09PW4mJm8uX3JvdGF0ZSgtaSk7Y29uc3QgYT1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylhLnB1c2goZVt0XS5zdWIobykpO3JldHVybiBhfWZ1bmN0aW9uIHRsKGUsdCxuLGkpe2NvbnN0IHI9bS5jb252ZXJ0KGUpLl9tdWx0KGkpO3JldHVyblwidmlld3BvcnRcIj09PXQmJnIuX3JvdGF0ZSgtbikscn16cihGcyxcIkNpcmNsZUJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiXX0pO2NvbnN0IG5sPW5ldyBHbyh7XCJjaXJjbGUtc29ydC1rZXlcIjpuZXcgVW8oSmUubGF5b3V0X2NpcmNsZVtcImNpcmNsZS1zb3J0LWtleVwiXSl9KTt2YXIgaWw9e3BhaW50Om5ldyBHbyh7XCJjaXJjbGUtcmFkaXVzXCI6bmV3IFVvKEplLnBhaW50X2NpcmNsZVtcImNpcmNsZS1yYWRpdXNcIl0pLFwiY2lyY2xlLWNvbG9yXCI6bmV3IFVvKEplLnBhaW50X2NpcmNsZVtcImNpcmNsZS1jb2xvclwiXSksXCJjaXJjbGUtYmx1clwiOm5ldyBVbyhKZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtYmx1clwiXSksXCJjaXJjbGUtb3BhY2l0eVwiOm5ldyBVbyhKZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtb3BhY2l0eVwiXSksXCJjaXJjbGUtdHJhbnNsYXRlXCI6bmV3IE5vKEplLnBhaW50X2NpcmNsZVtcImNpcmNsZS10cmFuc2xhdGVcIl0pLFwiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgTm8oSmUucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXRyYW5zbGF0ZS1hbmNob3JcIl0pLFwiY2lyY2xlLXBpdGNoLXNjYWxlXCI6bmV3IE5vKEplLnBhaW50X2NpcmNsZVtcImNpcmNsZS1waXRjaC1zY2FsZVwiXSksXCJjaXJjbGUtcGl0Y2gtYWxpZ25tZW50XCI6bmV3IE5vKEplLnBhaW50X2NpcmNsZVtcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIl0pLFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiOm5ldyBVbyhKZS5wYWludF9jaXJjbGVbXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCJdKSxcImNpcmNsZS1zdHJva2UtY29sb3JcIjpuZXcgVW8oSmUucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXN0cm9rZS1jb2xvclwiXSksXCJjaXJjbGUtc3Ryb2tlLW9wYWNpdHlcIjpuZXcgVW8oSmUucGFpbnRfY2lyY2xlW1wiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCJdKX0pLGxheW91dDpubH0scmw9MWUtNixvbD1cInVuZGVmaW5lZFwiIT10eXBlb2YgRmxvYXQzMkFycmF5P0Zsb2F0MzJBcnJheTpBcnJheTtmdW5jdGlvbiBhbCgpe3ZhciBlPW5ldyBvbCg5KTtyZXR1cm4gb2whPUZsb2F0MzJBcnJheSYmKGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNV09MCxlWzZdPTAsZVs3XT0wKSxlWzBdPTEsZVs0XT0xLGVbOF09MSxlfWZ1bmN0aW9uIHNsKGUsdCxuKXt2YXIgaT10WzBdLHI9dFsxXSxvPXRbMl0sYT10WzNdLHM9dFs0XSxsPXRbNV0sYz10WzZdLHU9dFs3XSxoPXRbOF0sZD1uWzBdLHA9blsxXSxmPW5bMl0sbT1uWzNdLGc9bls0XSx5PW5bNV0sXz1uWzZdLHY9bls3XSx4PW5bOF07cmV0dXJuIGVbMF09ZCppK3AqYStmKmMsZVsxXT1kKnIrcCpzK2YqdSxlWzJdPWQqbytwKmwrZipoLGVbM109bSppK2cqYSt5KmMsZVs0XT1tKnIrZypzK3kqdSxlWzVdPW0qbytnKmwreSpoLGVbNl09XyppK3YqYSt4KmMsZVs3XT1fKnIrdipzK3gqdSxlWzhdPV8qbyt2KmwreCpoLGV9ZnVuY3Rpb24gbGwoZSl7cmV0dXJuIGVbMF09MSxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0xLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0xLGVbMTFdPTAsZVsxMl09MCxlWzEzXT0wLGVbMTRdPTAsZVsxNV09MSxlfWZ1bmN0aW9uIGNsKGUsdCl7dmFyIG49dFswXSxpPXRbMV0scj10WzJdLG89dFszXSxhPXRbNF0scz10WzVdLGw9dFs2XSxjPXRbN10sdT10WzhdLGg9dFs5XSxkPXRbMTBdLHA9dFsxMV0sZj10WzEyXSxtPXRbMTNdLGc9dFsxNF0seT10WzE1XSxfPW4qcy1pKmEsdj1uKmwtciphLHg9bipjLW8qYSxiPWkqbC1yKnMsdz1pKmMtbypzLFQ9cipjLW8qbCxFPXUqbS1oKmYsUz11KmctZCpmLE09dSp5LXAqZixJPWgqZy1kKm0sQz1oKnktcCptLGs9ZCp5LXAqZyxBPV8qay12KkMreCpJK2IqTS13KlMrVCpFO3JldHVybiBBPyhlWzBdPShzKmstbCpDK2MqSSkqKEE9MS9BKSxlWzFdPShyKkMtaSprLW8qSSkqQSxlWzJdPShtKlQtZyp3K3kqYikqQSxlWzNdPShkKnctaCpULXAqYikqQSxlWzRdPShsKk0tYSprLWMqUykqQSxlWzVdPShuKmstcipNK28qUykqQSxlWzZdPShnKngtZipULXkqdikqQSxlWzddPSh1KlQtZCp4K3AqdikqQSxlWzhdPShhKkMtcypNK2MqRSkqQSxlWzldPShpKk0tbipDLW8qRSkqQSxlWzEwXT0oZip3LW0qeCt5Kl8pKkEsZVsxMV09KGgqeC11KnctcCpfKSpBLGVbMTJdPShzKlMtYSpJLWwqRSkqQSxlWzEzXT0obipJLWkqUytyKkUpKkEsZVsxNF09KG0qdi1mKmItZypfKSpBLGVbMTVdPSh1KmItaCp2K2QqXykqQSxlKTpudWxsfWZ1bmN0aW9uIHVsKGUsdCxuKXt2YXIgaT10WzBdLHI9dFsxXSxvPXRbMl0sYT10WzNdLHM9dFs0XSxsPXRbNV0sYz10WzZdLHU9dFs3XSxoPXRbOF0sZD10WzldLHA9dFsxMF0sZj10WzExXSxtPXRbMTJdLGc9dFsxM10seT10WzE0XSxfPXRbMTVdLHY9blswXSx4PW5bMV0sYj1uWzJdLHc9blszXTtyZXR1cm4gZVswXT12KmkreCpzK2IqaCt3Km0sZVsxXT12KnIreCpsK2IqZCt3KmcsZVsyXT12Km8reCpjK2IqcCt3KnksZVszXT12KmEreCp1K2IqZit3Kl8sZVs0XT0odj1uWzRdKSppKyh4PW5bNV0pKnMrKGI9bls2XSkqaCsodz1uWzddKSptLGVbNV09dipyK3gqbCtiKmQrdypnLGVbNl09dipvK3gqYytiKnArdyp5LGVbN109diphK3gqdStiKmYrdypfLGVbOF09KHY9bls4XSkqaSsoeD1uWzldKSpzKyhiPW5bMTBdKSpoKyh3PW5bMTFdKSptLGVbOV09dipyK3gqbCtiKmQrdypnLGVbMTBdPXYqbyt4KmMrYipwK3cqeSxlWzExXT12KmEreCp1K2IqZit3Kl8sZVsxMl09KHY9blsxMl0pKmkrKHg9blsxM10pKnMrKGI9blsxNF0pKmgrKHc9blsxNV0pKm0sZVsxM109dipyK3gqbCtiKmQrdypnLGVbMTRdPXYqbyt4KmMrYipwK3cqeSxlWzE1XT12KmEreCp1K2IqZit3Kl8sZX1mdW5jdGlvbiBobChlLHQsbil7dmFyIGkscixvLGEscyxsLGMsdSxoLGQscCxmLG09blswXSxnPW5bMV0seT1uWzJdO3JldHVybiB0PT09ZT8oZVsxMl09dFswXSptK3RbNF0qZyt0WzhdKnkrdFsxMl0sZVsxM109dFsxXSptK3RbNV0qZyt0WzldKnkrdFsxM10sZVsxNF09dFsyXSptK3RbNl0qZyt0WzEwXSp5K3RbMTRdLGVbMTVdPXRbM10qbSt0WzddKmcrdFsxMV0qeSt0WzE1XSk6KHI9dFsxXSxvPXRbMl0sYT10WzNdLHM9dFs0XSxsPXRbNV0sYz10WzZdLHU9dFs3XSxoPXRbOF0sZD10WzldLHA9dFsxMF0sZj10WzExXSxlWzBdPWk9dFswXSxlWzFdPXIsZVsyXT1vLGVbM109YSxlWzRdPXMsZVs1XT1sLGVbNl09YyxlWzddPXUsZVs4XT1oLGVbOV09ZCxlWzEwXT1wLGVbMTFdPWYsZVsxMl09aSptK3MqZytoKnkrdFsxMl0sZVsxM109ciptK2wqZytkKnkrdFsxM10sZVsxNF09byptK2MqZytwKnkrdFsxNF0sZVsxNV09YSptK3UqZytmKnkrdFsxNV0pLGV9ZnVuY3Rpb24gZGwoZSx0LG4pe3ZhciBpPW5bMF0scj1uWzFdLG89blsyXTtyZXR1cm4gZVswXT10WzBdKmksZVsxXT10WzFdKmksZVsyXT10WzJdKmksZVszXT10WzNdKmksZVs0XT10WzRdKnIsZVs1XT10WzVdKnIsZVs2XT10WzZdKnIsZVs3XT10WzddKnIsZVs4XT10WzhdKm8sZVs5XT10WzldKm8sZVsxMF09dFsxMF0qbyxlWzExXT10WzExXSpvLGVbMTJdPXRbMTJdLGVbMTNdPXRbMTNdLGVbMTRdPXRbMTRdLGVbMTVdPXRbMTVdLGV9ZnVuY3Rpb24gcGwoZSx0LG4pe3ZhciBpPU1hdGguc2luKG4pLHI9TWF0aC5jb3Mobiksbz10WzRdLGE9dFs1XSxzPXRbNl0sbD10WzddLGM9dFs4XSx1PXRbOV0saD10WzEwXSxkPXRbMTFdO3JldHVybiB0IT09ZSYmKGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFszXSxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSksZVs0XT1vKnIrYyppLGVbNV09YSpyK3UqaSxlWzZdPXMqcitoKmksZVs3XT1sKnIrZCppLGVbOF09YypyLW8qaSxlWzldPXUqci1hKmksZVsxMF09aCpyLXMqaSxlWzExXT1kKnItbCppLGV9ZnVuY3Rpb24gZmwoZSx0LG4pe3ZhciBpPU1hdGguc2luKG4pLHI9TWF0aC5jb3Mobiksbz10WzBdLGE9dFsxXSxzPXRbMl0sbD10WzNdLGM9dFs4XSx1PXRbOV0saD10WzEwXSxkPXRbMTFdO3JldHVybiB0IT09ZSYmKGVbNF09dFs0XSxlWzVdPXRbNV0sZVs2XT10WzZdLGVbN109dFs3XSxlWzEyXT10WzEyXSxlWzEzXT10WzEzXSxlWzE0XT10WzE0XSxlWzE1XT10WzE1XSksZVswXT1vKnItYyppLGVbMV09YSpyLXUqaSxlWzJdPXMqci1oKmksZVszXT1sKnItZCppLGVbOF09byppK2MqcixlWzldPWEqaSt1KnIsZVsxMF09cyppK2gqcixlWzExXT1sKmkrZCpyLGV9ZnVuY3Rpb24gbWwoZSx0KXtyZXR1cm4gZVswXT10WzBdLGVbMV09MCxlWzJdPTAsZVszXT0wLGVbNF09MCxlWzVdPXRbMV0sZVs2XT0wLGVbN109MCxlWzhdPTAsZVs5XT0wLGVbMTBdPXRbMl0sZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGV9ZnVuY3Rpb24gZ2woZSx0LG4pe3ZhciBpLHIsbyxhPW5bMF0scz1uWzFdLGw9blsyXSxjPU1hdGguaHlwb3QoYSxzLGwpO3JldHVybiBjPHJsP251bGw6KGEqPWM9MS9jLHMqPWMsbCo9YyxpPU1hdGguc2luKHQpLHI9TWF0aC5jb3ModCksZVswXT1hKmEqKG89MS1yKStyLGVbMV09cyphKm8rbCppLGVbMl09bCphKm8tcyppLGVbM109MCxlWzRdPWEqcypvLWwqaSxlWzVdPXMqcypvK3IsZVs2XT1sKnMqbythKmksZVs3XT0wLGVbOF09YSpsKm8rcyppLGVbOV09cypsKm8tYSppLGVbMTBdPWwqbCpvK3IsZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGUpfU1hdGguaHlwb3R8fChNYXRoLmh5cG90PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTAsdD1hcmd1bWVudHMubGVuZ3RoO3QtLTspZSs9YXJndW1lbnRzW3RdKmFyZ3VtZW50c1t0XTtyZXR1cm4gTWF0aC5zcXJ0KGUpfSk7dmFyIHlsPXVsO2Z1bmN0aW9uIF9sKCl7dmFyIGU9bmV3IG9sKDMpO3JldHVybiBvbCE9RmxvYXQzMkFycmF5JiYoZVswXT0wLGVbMV09MCxlWzJdPTApLGV9ZnVuY3Rpb24gdmwoZSl7dmFyIHQ9bmV3IG9sKDMpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0fWZ1bmN0aW9uIHhsKGUpe3JldHVybiBNYXRoLmh5cG90KGVbMF0sZVsxXSxlWzJdKX1mdW5jdGlvbiBibChlLHQsbil7dmFyIGk9bmV3IG9sKDMpO3JldHVybiBpWzBdPWUsaVsxXT10LGlbMl09bixpfWZ1bmN0aW9uIHdsKGUsdCxuKXtyZXR1cm4gZVswXT10WzBdK25bMF0sZVsxXT10WzFdK25bMV0sZVsyXT10WzJdK25bMl0sZX1mdW5jdGlvbiBUbChlLHQsbil7cmV0dXJuIGVbMF09dFswXS1uWzBdLGVbMV09dFsxXS1uWzFdLGVbMl09dFsyXS1uWzJdLGV9ZnVuY3Rpb24gRWwoZSx0LG4pe3JldHVybiBlWzBdPXRbMF0qblswXSxlWzFdPXRbMV0qblsxXSxlWzJdPXRbMl0qblsyXSxlfWZ1bmN0aW9uIFNsKGUsdCxuKXtyZXR1cm4gZVswXT1NYXRoLm1pbih0WzBdLG5bMF0pLGVbMV09TWF0aC5taW4odFsxXSxuWzFdKSxlWzJdPU1hdGgubWluKHRbMl0sblsyXSksZX1mdW5jdGlvbiBNbChlLHQsbil7cmV0dXJuIGVbMF09TWF0aC5tYXgodFswXSxuWzBdKSxlWzFdPU1hdGgubWF4KHRbMV0sblsxXSksZVsyXT1NYXRoLm1heCh0WzJdLG5bMl0pLGV9ZnVuY3Rpb24gSWwoZSx0LG4pe3JldHVybiBlWzBdPXRbMF0qbixlWzFdPXRbMV0qbixlWzJdPXRbMl0qbixlfWZ1bmN0aW9uIENsKGUsdCxuLGkpe3JldHVybiBlWzBdPXRbMF0rblswXSppLGVbMV09dFsxXStuWzFdKmksZVsyXT10WzJdK25bMl0qaSxlfWZ1bmN0aW9uIGtsKGUsdCl7dmFyIG49dFswXSxpPXRbMV0scj10WzJdLG89bipuK2kqaStyKnI7cmV0dXJuIG8+MCYmKG89MS9NYXRoLnNxcnQobykpLGVbMF09dFswXSpvLGVbMV09dFsxXSpvLGVbMl09dFsyXSpvLGV9ZnVuY3Rpb24gQWwoZSx0KXtyZXR1cm4gZVswXSp0WzBdK2VbMV0qdFsxXStlWzJdKnRbMl19ZnVuY3Rpb24gUGwoZSx0LG4pe3ZhciBpPXRbMF0scj10WzFdLG89dFsyXSxhPW5bMF0scz1uWzFdLGw9blsyXTtyZXR1cm4gZVswXT1yKmwtbypzLGVbMV09byphLWkqbCxlWzJdPWkqcy1yKmEsZX1mdW5jdGlvbiB6bChlLHQsbil7dmFyIGk9dFswXSxyPXRbMV0sbz10WzJdLGE9blszXSppK25bN10qcituWzExXSpvK25bMTVdO3JldHVybiBlWzBdPShuWzBdKmkrbls0XSpyK25bOF0qbytuWzEyXSkvKGE9YXx8MSksZVsxXT0oblsxXSppK25bNV0qcituWzldKm8rblsxM10pL2EsZVsyXT0oblsyXSppK25bNl0qcituWzEwXSpvK25bMTRdKS9hLGV9ZnVuY3Rpb24gRGwoZSx0LG4pe3ZhciBpPW5bMF0scj1uWzFdLG89blsyXSxhPXRbMF0scz10WzFdLGw9dFsyXSxjPXIqbC1vKnMsdT1vKmEtaSpsLGg9aSpzLXIqYSxkPXIqaC1vKnUscD1vKmMtaSpoLGY9aSp1LXIqYyxtPTIqblszXTtyZXR1cm4gdSo9bSxoKj1tLHAqPTIsZio9MixlWzBdPWErKGMqPW0pKyhkKj0yKSxlWzFdPXMrdStwLGVbMl09bCtoK2YsZX12YXIgTGwsT2w9VGwsUmw9RWwsQmw9eGw7ZnVuY3Rpb24gamwoZSx0LG4pe3JldHVybiBlWzBdPXRbMF0qbixlWzFdPXRbMV0qbixlWzJdPXRbMl0qbixlWzNdPXRbM10qbixlfWZ1bmN0aW9uIEZsKGUsdCl7dmFyIG49dFswXSxpPXRbMV0scj10WzJdLG89dFszXSxhPW4qbitpKmkrcipyK28qbztyZXR1cm4gYT4wJiYoYT0xL01hdGguc3FydChhKSksZVswXT1uKmEsZVsxXT1pKmEsZVsyXT1yKmEsZVszXT1vKmEsZX1mdW5jdGlvbiBObChlLHQsbil7dmFyIGk9dFswXSxyPXRbMV0sbz10WzJdLGE9dFszXTtyZXR1cm4gZVswXT1uWzBdKmkrbls0XSpyK25bOF0qbytuWzEyXSphLGVbMV09blsxXSppK25bNV0qcituWzldKm8rblsxM10qYSxlWzJdPW5bMl0qaStuWzZdKnIrblsxMF0qbytuWzE0XSphLGVbM109blszXSppK25bN10qcituWzExXSpvK25bMTVdKmEsZX1mdW5jdGlvbiBVbCgpe3ZhciBlPW5ldyBvbCg0KTtyZXR1cm4gb2whPUZsb2F0MzJBcnJheSYmKGVbMF09MCxlWzFdPTAsZVsyXT0wKSxlWzNdPTEsZX1mdW5jdGlvbiBWbChlKXtyZXR1cm4gZVswXT0wLGVbMV09MCxlWzJdPTAsZVszXT0xLGV9ZnVuY3Rpb24gR2woZSx0LG4pe24qPS41O3ZhciBpPXRbMF0scj10WzFdLG89dFsyXSxhPXRbM10scz1NYXRoLnNpbihuKSxsPU1hdGguY29zKG4pO3JldHVybiBlWzBdPWkqbCthKnMsZVsxXT1yKmwrbypzLGVbMl09bypsLXIqcyxlWzNdPWEqbC1pKnMsZX1mdW5jdGlvbiBabChlLHQsbil7bio9LjU7dmFyIGk9dFswXSxyPXRbMV0sbz10WzJdLGE9dFszXSxzPU1hdGguc2luKG4pLGw9TWF0aC5jb3Mobik7cmV0dXJuIGVbMF09aSpsLW8qcyxlWzFdPXIqbCthKnMsZVsyXT1vKmwraSpzLGVbM109YSpsLXIqcyxlfV9sKCksTGw9bmV3IG9sKDQpLG9sIT1GbG9hdDMyQXJyYXkmJihMbFswXT0wLExsWzFdPTAsTGxbMl09MCxMbFszXT0wKTt2YXIgV2w9Rmw7X2woKSxibCgxLDAsMCksYmwoMCwxLDApLFVsKCksVWwoKSxhbCgpO2NsYXNzIHFse2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wb3M9ZSx0aGlzLmRpcj10fWludGVyc2VjdHNQbGFuZShlLHQsbil7Y29uc3QgaT1BbCh0LHRoaXMuZGlyKTtpZihNYXRoLmFicyhpKTwxZS02KXJldHVybiExO2NvbnN0IHI9KChlWzBdLXRoaXMucG9zWzBdKSp0WzBdKyhlWzFdLXRoaXMucG9zWzFdKSp0WzFdKyhlWzJdLXRoaXMucG9zWzJdKSp0WzJdKS9pO3JldHVybiBuWzBdPXRoaXMucG9zWzBdK3RoaXMuZGlyWzBdKnIsblsxXT10aGlzLnBvc1sxXSt0aGlzLmRpclsxXSpyLG5bMl09dGhpcy5wb3NbMl0rdGhpcy5kaXJbMl0qciwhMH1jbG9zZXN0UG9pbnRPblNwaGVyZShlLHQsbil7aWYoZnVuY3Rpb24oZSx0KXt2YXIgbj1lWzBdLGk9ZVsxXSxyPWVbMl0sbz10WzBdLGE9dFsxXSxzPXRbMl07cmV0dXJuIE1hdGguYWJzKG4tbyk8PXJsKk1hdGgubWF4KDEsTWF0aC5hYnMobiksTWF0aC5hYnMobykpJiZNYXRoLmFicyhpLWEpPD1ybCpNYXRoLm1heCgxLE1hdGguYWJzKGkpLE1hdGguYWJzKGEpKSYmTWF0aC5hYnMoci1zKTw9cmwqTWF0aC5tYXgoMSxNYXRoLmFicyhyKSxNYXRoLmFicyhzKSl9KHRoaXMucG9zLGUpfHwwPT09dClyZXR1cm4gblswXT1uWzFdPW5bMl09MCwhMTtjb25zdFtpLHIsb109dGhpcy5kaXIsYT10aGlzLnBvc1swXS1lWzBdLHM9dGhpcy5wb3NbMV0tZVsxXSxsPXRoaXMucG9zWzJdLWVbMl0sYz1pKmkrcipyK28qbyx1PTIqKGEqaStzKnIrbCpvKSxoPXUqdS00KmMqKGEqYStzKnMrbCpsLXQqdCk7aWYoaDwwKXtjb25zdCBlPU1hdGgubWF4KC11LzIsMCksYz1hK2kqZSxoPXMrciplLGQ9bCtvKmUscD1NYXRoLmh5cG90KGMsaCxkKTtyZXR1cm4gblswXT1jKnQvcCxuWzFdPWgqdC9wLG5bMl09ZCp0L3AsITF9e2NvbnN0IGU9KC11LU1hdGguc3FydChoKSkvKDIqYyk7aWYoZTwwKXtjb25zdCBlPU1hdGguaHlwb3QoYSxzLGwpO3JldHVybiBuWzBdPWEqdC9lLG5bMV09cyp0L2UsblsyXT1sKnQvZSwhMX1yZXR1cm4gblswXT1hK2kqZSxuWzFdPXMrciplLG5bMl09bCtvKmUsITB9fX1jbGFzcyAkbHtjb25zdHJ1Y3RvcihlLHQsbixpLHIpe3RoaXMuVEw9ZSx0aGlzLlRSPXQsdGhpcy5CUj1uLHRoaXMuQkw9aSx0aGlzLmhvcml6b249cn1zdGF0aWMgZnJvbUludlByb2plY3Rpb25NYXRyaXgoZSx0LG4pe2NvbnN0IGk9Wy0xLDEsMV0scj1bMSwxLDFdLG89WzEsLTEsMV0sYT1bLTEsLTEsMV0scz16bChpLGksZSksbD16bChyLHIsZSksYz16bChvLG8sZSksdT16bChhLGEsZSk7cmV0dXJuIG5ldyAkbChzLGwsYyx1LHQvbil9fWNsYXNzIEhse2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5wb2ludHM9ZSx0aGlzLnBsYW5lcz10fXN0YXRpYyBmcm9tSW52UHJvamVjdGlvbk1hdHJpeChlLHQsbixpKXtjb25zdCByPU1hdGgucG93KDIsbiksbz1bWy0xLDEsLTEsMV0sWzEsMSwtMSwxXSxbMSwtMSwtMSwxXSxbLTEsLTEsLTEsMV0sWy0xLDEsMSwxXSxbMSwxLDEsMV0sWzEsLTEsMSwxXSxbLTEsLTEsMSwxXV0ubWFwKG49Pntjb25zdCBvPU5sKFtdLG4sZSksYT0xL29bM10vdCpyO3JldHVybiBmdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbMF09dFswXSpuWzBdLGVbMV09dFsxXSpuWzFdLGVbMl09dFsyXSpuWzJdLGVbM109dFszXSpuWzNdLGV9KG8sbyxbYSxhLGk/MS9vWzNdOmEsYV0pfSksYT1bWzAsMSwyXSxbNiw1LDRdLFswLDMsN10sWzIsMSw1XSxbMywyLDZdLFswLDQsNV1dLm1hcChlPT57Y29uc3QgdD1rbChbXSxQbChbXSxPbChbXSxvW2VbMF1dLG9bZVsxXV0pLE9sKFtdLG9bZVsyXV0sb1tlWzFdXSkpKSxuPS1BbCh0LG9bZVsxXV0pO3JldHVybiB0LmNvbmNhdChuKX0pO3JldHVybiBuZXcgSGwobyxhKX19Y2xhc3MgWGx7c3RhdGljIGZyb21Qb2ludHMoZSl7Y29uc3QgdD1bMS8wLDEvMCwxLzBdLG49Wy0xLzAsLTEvMCwtMS8wXTtmb3IoY29uc3QgaSBvZiBlKVNsKHQsdCxpKSxNbChuLG4saSk7cmV0dXJuIG5ldyBYbCh0LG4pfXN0YXRpYyBhcHBseVRyYW5zZm9ybShlLHQpe2NvbnN0IG49ZS5nZXRDb3JuZXJzKCk7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDsrK2UpemwobltlXSxuW2VdLHQpO3JldHVybiBYbC5mcm9tUG9pbnRzKG4pfWNvbnN0cnVjdG9yKGUsdCl7dGhpcy5taW49ZSx0aGlzLm1heD10LHRoaXMuY2VudGVyPUlsKFtdLHdsKFtdLHRoaXMubWluLHRoaXMubWF4KSwuNSl9cXVhZHJhbnQoZSl7Y29uc3QgdD1bZSUyPT0wLGU8Ml0sbj12bCh0aGlzLm1pbiksaT12bCh0aGlzLm1heCk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdP3RoaXMubWluW2VdOnRoaXMuY2VudGVyW2VdLGlbZV09dFtlXT90aGlzLmNlbnRlcltlXTp0aGlzLm1heFtlXTtyZXR1cm4gaVsyXT10aGlzLm1heFsyXSxuZXcgWGwobixpKX1kaXN0YW5jZVgoZSl7cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKHRoaXMubWF4WzBdLGVbMF0pLHRoaXMubWluWzBdKS1lWzBdfWRpc3RhbmNlWShlKXtyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5tYXhbMV0sZVsxXSksdGhpcy5taW5bMV0pLWVbMV19ZGlzdGFuY2VaKGUpe3JldHVybiBNYXRoLm1heChNYXRoLm1pbih0aGlzLm1heFsyXSxlWzJdKSx0aGlzLm1pblsyXSktZVsyXX1nZXRDb3JuZXJzKCl7Y29uc3QgZT10aGlzLm1pbix0PXRoaXMubWF4O3JldHVybltbZVswXSxlWzFdLGVbMl1dLFt0WzBdLGVbMV0sZVsyXV0sW3RbMF0sdFsxXSxlWzJdXSxbZVswXSx0WzFdLGVbMl1dLFtlWzBdLGVbMV0sdFsyXV0sW3RbMF0sZVsxXSx0WzJdXSxbdFswXSx0WzFdLHRbMl1dLFtlWzBdLHRbMV0sdFsyXV1dfWludGVyc2VjdHMoZSl7Y29uc3QgdD10aGlzLmdldENvcm5lcnMoKTtsZXQgbj0hMDtmb3IobGV0IGk9MDtpPGUucGxhbmVzLmxlbmd0aDtpKyspe2NvbnN0IHI9ZS5wbGFuZXNbaV07bGV0IG89MDtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrKylvKz1BbChyLHRbZV0pK3JbM10+PTA7aWYoMD09PW8pcmV0dXJuIDA7byE9PXQubGVuZ3RoJiYobj0hMSl9aWYobilyZXR1cm4gMjtmb3IobGV0IHQ9MDt0PDM7dCsrKXtsZXQgbj1OdW1iZXIuTUFYX1ZBTFVFLGk9LU51bWJlci5NQVhfVkFMVUU7Zm9yKGxldCByPTA7cjxlLnBvaW50cy5sZW5ndGg7cisrKXtjb25zdCBvPWUucG9pbnRzW3JdW3RdLXRoaXMubWluW3RdO249TWF0aC5taW4obixvKSxpPU1hdGgubWF4KGksbyl9aWYoaTwwfHxuPnRoaXMubWF4W3RdLXRoaXMubWluW3RdKXJldHVybiAwfXJldHVybiAxfX1mdW5jdGlvbiBZbChlLHQsbixpLHIsbyxhLHMsbCl7aWYobyYmZS5xdWVyeUdlb21ldHJ5LmlzQWJvdmVIb3Jpem9uKXJldHVybiExO28mJihsKj1lLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpO2NvbnN0IGM9ZS50aWxlSUQuY2Fub25pY2FsLHU9bi5wcm9qZWN0aW9uLnVwVmVjdG9yU2NhbGUoYyxuLmNlbnRlci5sYXQsbi53b3JsZFNpemUpLm1ldGVyc1RvVGlsZTtmb3IoY29uc3QgaCBvZiB0KWZvcihjb25zdCB0IG9mIGgpe2NvbnN0IGg9dC5hZGQocyksZD1yJiZuLmVsZXZhdGlvbj9uLmVsZXZhdGlvbi5leGFnZ2VyYXRpb24oKSpyLmdldEVsZXZhdGlvbkF0KGgueCxoLnksITApOjAscD1uLnByb2plY3Rpb24ucHJvamVjdFRpbGVQb2ludChoLngsaC55LGMpO2lmKGQ+MCl7Y29uc3QgZT1uLnByb2plY3Rpb24udXBWZWN0b3IoYyxoLngsaC55KTtwLngrPWVbMF0qdSpkLHAueSs9ZVsxXSp1KmQscC56Kz1lWzJdKnUqZH1jb25zdCBmPW8/aDpKbChwLngscC55LHAueixpKSxtPW8/ZS50aWxlc3BhY2VSYXlzLm1hcChlPT5lYyhlLGQpKTplLnF1ZXJ5R2VvbWV0cnkuc2NyZWVuR2VvbWV0cnksZz1ObChbXSxbcC54LHAueSxwLnosMV0saSk7aWYoIWEmJm8/bCo9Z1szXS9uLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U6YSYmIW8mJihsKj1uLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvZ1szXSksbyl7Y29uc3QgZT1UcygodC55L3BzK2MueSkvKDE8PGMueikpO2wvPW4ucHJvamVjdGlvbi5waXhlbHNQZXJNZXRlcihlLDEpL2JzKDEsZSl9aWYoVXMobSxmLGwpKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIEpsKGUsdCxuLGkpe2NvbnN0IHI9TmwoW10sW2UsdCxuLDFdLGkpO3JldHVybiBuZXcgbShyWzBdL3JbM10sclsxXS9yWzNdKX1jb25zdCBRbD1ibCgwLDAsMCksS2w9YmwoMCwwLDEpO2Z1bmN0aW9uIGVjKGUsdCl7Y29uc3Qgbj1fbCgpO3JldHVybiBRbFsyXT10LGUuaW50ZXJzZWN0c1BsYW5lKFFsLEtsLG4pLG5ldyBtKG5bMF0sblsxXSl9Y2xhc3MgdGMgZXh0ZW5kcyBGc3t9ZnVuY3Rpb24gbmMoZSx7d2lkdGg6dCxoZWlnaHQ6bn0saSxyKXtpZihyKXtpZihyIGluc3RhbmNlb2YgVWludDhDbGFtcGVkQXJyYXkpcj1uZXcgVWludDhBcnJheShyLmJ1ZmZlcik7ZWxzZSBpZihyLmxlbmd0aCE9PXQqbippKXRocm93IG5ldyBSYW5nZUVycm9yKFwibWlzbWF0Y2hlZCBpbWFnZSBzaXplXCIpfWVsc2Ugcj1uZXcgVWludDhBcnJheSh0Km4qaSk7cmV0dXJuIGUud2lkdGg9dCxlLmhlaWdodD1uLGUuZGF0YT1yLGV9ZnVuY3Rpb24gaWMoZSx0LG4pe2NvbnN0e3dpZHRoOmksaGVpZ2h0OnJ9PXQ7aT09PWUud2lkdGgmJnI9PT1lLmhlaWdodHx8KHJjKGUsdCx7eDowLHk6MH0se3g6MCx5OjB9LHt3aWR0aDpNYXRoLm1pbihlLndpZHRoLGkpLGhlaWdodDpNYXRoLm1pbihlLmhlaWdodCxyKX0sbiksZS53aWR0aD1pLGUuaGVpZ2h0PXIsZS5kYXRhPXQuZGF0YSl9ZnVuY3Rpb24gcmMoZSx0LG4saSxyLG8pe2lmKDA9PT1yLndpZHRofHwwPT09ci5oZWlnaHQpcmV0dXJuIHQ7aWYoci53aWR0aD5lLndpZHRofHxyLmhlaWdodD5lLmhlaWdodHx8bi54PmUud2lkdGgtci53aWR0aHx8bi55PmUuaGVpZ2h0LXIuaGVpZ2h0KXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIHNvdXJjZSBjb29yZGluYXRlcyBmb3IgaW1hZ2UgY29weVwiKTtpZihyLndpZHRoPnQud2lkdGh8fHIuaGVpZ2h0PnQuaGVpZ2h0fHxpLng+dC53aWR0aC1yLndpZHRofHxpLnk+dC5oZWlnaHQtci5oZWlnaHQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2UgZGVzdGluYXRpb24gY29vcmRpbmF0ZXMgZm9yIGltYWdlIGNvcHlcIik7Y29uc3QgYT1lLmRhdGEscz10LmRhdGE7Zm9yKGxldCBsPTA7bDxyLmhlaWdodDtsKyspe2NvbnN0IGM9KChuLnkrbCkqZS53aWR0aCtuLngpKm8sdT0oKGkueStsKSp0LndpZHRoK2kueCkqbztmb3IobGV0IGU9MDtlPHIud2lkdGgqbztlKyspc1t1K2VdPWFbYytlXX1yZXR1cm4gdH16cih0YyxcIkhlYXRtYXBCdWNrZXRcIix7b21pdDpbXCJsYXllcnNcIl19KTtjbGFzcyBvY3tjb25zdHJ1Y3RvcihlLHQpe25jKHRoaXMsZSwxLHQpfXJlc2l6ZShlKXtpYyh0aGlzLG5ldyBvYyhlKSwxKX1jbG9uZSgpe3JldHVybiBuZXcgb2Moe3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fSxuZXcgVWludDhBcnJheSh0aGlzLmRhdGEpKX1zdGF0aWMgY29weShlLHQsbixpLHIpe3JjKGUsdCxuLGksciwxKX19Y2xhc3MgYWN7Y29uc3RydWN0b3IoZSx0KXtuYyh0aGlzLGUsNCx0KX1yZXNpemUoZSl7aWModGhpcyxuZXcgYWMoZSksNCl9cmVwbGFjZShlLHQpe3Q/dGhpcy5kYXRhLnNldChlKTp0aGlzLmRhdGE9ZSBpbnN0YW5jZW9mIFVpbnQ4Q2xhbXBlZEFycmF5P25ldyBVaW50OEFycmF5KGUuYnVmZmVyKTplfWNsb25lKCl7cmV0dXJuIG5ldyBhYyh7d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9LG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YSkpfXN0YXRpYyBjb3B5KGUsdCxuLGkscil7cmMoZSx0LG4saSxyLDQpfX16cihvYyxcIkFscGhhSW1hZ2VcIiksenIoYWMsXCJSR0JBSW1hZ2VcIik7dmFyIHNjPXtwYWludDpuZXcgR28oe1wiaGVhdG1hcC1yYWRpdXNcIjpuZXcgVW8oSmUucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtcmFkaXVzXCJdKSxcImhlYXRtYXAtd2VpZ2h0XCI6bmV3IFVvKEplLnBhaW50X2hlYXRtYXBbXCJoZWF0bWFwLXdlaWdodFwiXSksXCJoZWF0bWFwLWludGVuc2l0eVwiOm5ldyBObyhKZS5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC1pbnRlbnNpdHlcIl0pLFwiaGVhdG1hcC1jb2xvclwiOm5ldyBWbyhKZS5wYWludF9oZWF0bWFwW1wiaGVhdG1hcC1jb2xvclwiXSksXCJoZWF0bWFwLW9wYWNpdHlcIjpuZXcgTm8oSmUucGFpbnRfaGVhdG1hcFtcImhlYXRtYXAtb3BhY2l0eVwiXSl9KX07ZnVuY3Rpb24gbGMoZSl7Y29uc3QgdD17fSxuPWUucmVzb2x1dGlvbnx8MjU2LGk9ZS5jbGlwcz9lLmNsaXBzLmxlbmd0aDoxLHI9ZS5pbWFnZXx8bmV3IGFjKHt3aWR0aDpuLGhlaWdodDppfSksbz0obixpLG8pPT57dFtlLmV2YWx1YXRpb25LZXldPW87Y29uc3QgYT1lLmV4cHJlc3Npb24uZXZhbHVhdGUodCk7ci5kYXRhW24raSswXT1NYXRoLmZsb29yKDI1NSphLnIvYS5hKSxyLmRhdGFbbitpKzFdPU1hdGguZmxvb3IoMjU1KmEuZy9hLmEpLHIuZGF0YVtuK2krMl09TWF0aC5mbG9vcigyNTUqYS5iL2EuYSksci5kYXRhW24raSszXT1NYXRoLmZsb29yKDI1NSphLmEpfTtpZihlLmNsaXBzKWZvcihsZXQgdD0wLHI9MDt0PGk7Kyt0LHIrPTQqbilmb3IobGV0IGk9MCxhPTA7aTxuO2krKyxhKz00KXtjb25zdCBzPWkvKG4tMSkse3N0YXJ0OmwsZW5kOmN9PWUuY2xpcHNbdF07byhyLGEsbCooMS1zKStjKnMpfWVsc2UgZm9yKGxldCBlPTAsdD0wO2U8bjtlKyssdCs9NClvKDAsdCxlLyhuLTEpKTtyZXR1cm4gcn12YXIgY2M9e3BhaW50Om5ldyBHbyh7XCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiOm5ldyBObyhKZS5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiXSksXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiOm5ldyBObyhKZS5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWFuY2hvclwiXSksXCJoaWxsc2hhZGUtZXhhZ2dlcmF0aW9uXCI6bmV3IE5vKEplLnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIl0pLFwiaGlsbHNoYWRlLXNoYWRvdy1jb2xvclwiOm5ldyBObyhKZS5wYWludF9oaWxsc2hhZGVbXCJoaWxsc2hhZGUtc2hhZG93LWNvbG9yXCJdKSxcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIjpuZXcgTm8oSmUucGFpbnRfaGlsbHNoYWRlW1wiaGlsbHNoYWRlLWhpZ2hsaWdodC1jb2xvclwiXSksXCJoaWxsc2hhZGUtYWNjZW50LWNvbG9yXCI6bmV3IE5vKEplLnBhaW50X2hpbGxzaGFkZVtcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIl0pfSl9O2NvbnN0IHVjPUhvKFt7bmFtZTpcImFfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCkse21lbWJlcnM6aGN9PXVjO3ZhciBkYz17ZXhwb3J0czp7fX07ZnVuY3Rpb24gcGMoZSx0LG4pe249bnx8Mjt2YXIgaSxyLG8sYSxzLGwsYyx1PXQmJnQubGVuZ3RoLGg9dT90WzBdKm46ZS5sZW5ndGgsZD1mYyhlLDAsaCxuLCEwKSxwPVtdO2lmKCFkfHxkLm5leHQ9PT1kLnByZXYpcmV0dXJuIHA7aWYodSYmKGQ9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHIsbyxhLHM9W107Zm9yKHI9MCxvPXQubGVuZ3RoO3I8bztyKyspKGE9ZmMoZSx0W3JdKmkscjxvLTE/dFtyKzFdKmk6ZS5sZW5ndGgsaSwhMSkpPT09YS5uZXh0JiYoYS5zdGVpbmVyPSEwKSxzLnB1c2goU2MoYSkpO2ZvcihzLnNvcnQoYmMpLHI9MDtyPHMubGVuZ3RoO3IrKyluPXdjKHNbcl0sbik7cmV0dXJuIG59KGUsdCxkLG4pKSxlLmxlbmd0aD44MCpuKXtpPW89ZVswXSxyPWE9ZVsxXTtmb3IodmFyIGY9bjtmPGg7Zis9bikocz1lW2ZdKTxpJiYoaT1zKSwobD1lW2YrMV0pPHImJihyPWwpLHM+byYmKG89cyksbD5hJiYoYT1sKTtjPTAhPT0oYz1NYXRoLm1heChvLWksYS1yKSk/MzI3NjcvYzowfXJldHVybiBnYyhkLHAsbixpLHIsYywwKSxwfWZ1bmN0aW9uIGZjKGUsdCxuLGkscil7dmFyIG8sYTtpZihyPT09amMoZSx0LG4saSk+MClmb3Iobz10O288bjtvKz1pKWE9T2MobyxlW29dLGVbbysxXSxhKTtlbHNlIGZvcihvPW4taTtvPj10O28tPWkpYT1PYyhvLGVbb10sZVtvKzFdLGEpO3JldHVybiBhJiZrYyhhLGEubmV4dCkmJihSYyhhKSxhPWEubmV4dCksYX1mdW5jdGlvbiBtYyhlLHQpe2lmKCFlKXJldHVybiBlO3R8fCh0PWUpO3ZhciBuLGk9ZTtkb3tpZihuPSExLGkuc3RlaW5lcnx8IWtjKGksaS5uZXh0KSYmMCE9PUNjKGkucHJldixpLGkubmV4dCkpaT1pLm5leHQ7ZWxzZXtpZihSYyhpKSwoaT10PWkucHJldik9PT1pLm5leHQpYnJlYWs7bj0hMH19d2hpbGUobnx8aSE9PXQpO3JldHVybiB0fWZ1bmN0aW9uIGdjKGUsdCxuLGkscixvLGEpe2lmKGUpeyFhJiZvJiZmdW5jdGlvbihlLHQsbixpKXt2YXIgcj1lO2RvezA9PT1yLnomJihyLno9RWMoci54LHIueSx0LG4saSkpLHIucHJldlo9ci5wcmV2LHIubmV4dFo9ci5uZXh0LHI9ci5uZXh0fXdoaWxlKHIhPT1lKTtyLnByZXZaLm5leHRaPW51bGwsci5wcmV2Wj1udWxsLGZ1bmN0aW9uKGUpe3ZhciB0LG4saSxyLG8sYSxzLGwsYz0xO2Rve2ZvcihuPWUsZT1udWxsLG89bnVsbCxhPTA7bjspe2ZvcihhKyssaT1uLHM9MCx0PTA7dDxjJiYocysrLGk9aS5uZXh0Wik7dCsrKTtmb3IobD1jO3M+MHx8bD4wJiZpOykwIT09cyYmKDA9PT1sfHwhaXx8bi56PD1pLnopPyhyPW4sbj1uLm5leHRaLHMtLSk6KHI9aSxpPWkubmV4dFosbC0tKSxvP28ubmV4dFo9cjplPXIsci5wcmV2Wj1vLG89cjtuPWl9by5uZXh0Wj1udWxsLGMqPTJ9d2hpbGUoYT4xKX0ocil9KGUsaSxyLG8pO2Zvcih2YXIgcyxsLGM9ZTtlLnByZXYhPT1lLm5leHQ7KWlmKHM9ZS5wcmV2LGw9ZS5uZXh0LG8/X2MoZSxpLHIsbyk6eWMoZSkpdC5wdXNoKHMuaS9ufDApLHQucHVzaChlLmkvbnwwKSx0LnB1c2gobC5pL258MCksUmMoZSksZT1sLm5leHQsYz1sLm5leHQ7ZWxzZSBpZigoZT1sKT09PWMpe2E/MT09PWE/Z2MoZT12YyhtYyhlKSx0LG4pLHQsbixpLHIsbywyKToyPT09YSYmeGMoZSx0LG4saSxyLG8pOmdjKG1jKGUpLHQsbixpLHIsbywxKTticmVha319fWZ1bmN0aW9uIHljKGUpe3ZhciB0PWUucHJldixuPWUsaT1lLm5leHQ7aWYoQ2ModCxuLGkpPj0wKXJldHVybiExO2Zvcih2YXIgcj10Lngsbz1uLngsYT1pLngscz10LnksbD1uLnksYz1pLnksdT1yPG8/cjxhP3I6YTpvPGE/bzphLGg9czxsP3M8Yz9zOmM6bDxjP2w6YyxkPXI+bz9yPmE/cjphOm8+YT9vOmEscD1zPmw/cz5jP3M6YzpsPmM/bDpjLGY9aS5uZXh0O2YhPT10Oyl7aWYoZi54Pj11JiZmLng8PWQmJmYueT49aCYmZi55PD1wJiZNYyhyLHMsbyxsLGEsYyxmLngsZi55KSYmQ2MoZi5wcmV2LGYsZi5uZXh0KT49MClyZXR1cm4hMTtmPWYubmV4dH1yZXR1cm4hMH1mdW5jdGlvbiBfYyhlLHQsbixpKXt2YXIgcj1lLnByZXYsbz1lLGE9ZS5uZXh0O2lmKENjKHIsbyxhKT49MClyZXR1cm4hMTtmb3IodmFyIHM9ci54LGw9by54LGM9YS54LHU9ci55LGg9by55LGQ9YS55LHA9czxsP3M8Yz9zOmM6bDxjP2w6YyxmPXU8aD91PGQ/dTpkOmg8ZD9oOmQsbT1zPmw/cz5jP3M6YzpsPmM/bDpjLGc9dT5oP3U+ZD91OmQ6aD5kP2g6ZCx5PUVjKHAsZix0LG4saSksXz1FYyhtLGcsdCxuLGkpLHY9ZS5wcmV2Wix4PWUubmV4dFo7diYmdi56Pj15JiZ4JiZ4Lno8PV87KXtpZih2Lng+PXAmJnYueDw9bSYmdi55Pj1mJiZ2Lnk8PWcmJnYhPT1yJiZ2IT09YSYmTWMocyx1LGwsaCxjLGQsdi54LHYueSkmJkNjKHYucHJldix2LHYubmV4dCk+PTApcmV0dXJuITE7aWYodj12LnByZXZaLHgueD49cCYmeC54PD1tJiZ4Lnk+PWYmJngueTw9ZyYmeCE9PXImJnghPT1hJiZNYyhzLHUsbCxoLGMsZCx4LngseC55KSYmQ2MoeC5wcmV2LHgseC5uZXh0KT49MClyZXR1cm4hMTt4PXgubmV4dFp9Zm9yKDt2JiZ2Lno+PXk7KXtpZih2Lng+PXAmJnYueDw9bSYmdi55Pj1mJiZ2Lnk8PWcmJnYhPT1yJiZ2IT09YSYmTWMocyx1LGwsaCxjLGQsdi54LHYueSkmJkNjKHYucHJldix2LHYubmV4dCk+PTApcmV0dXJuITE7dj12LnByZXZafWZvcig7eCYmeC56PD1fOyl7aWYoeC54Pj1wJiZ4Lng8PW0mJngueT49ZiYmeC55PD1nJiZ4IT09ciYmeCE9PWEmJk1jKHMsdSxsLGgsYyxkLHgueCx4LnkpJiZDYyh4LnByZXYseCx4Lm5leHQpPj0wKXJldHVybiExO3g9eC5uZXh0Wn1yZXR1cm4hMH1mdW5jdGlvbiB2YyhlLHQsbil7dmFyIGk9ZTtkb3t2YXIgcj1pLnByZXYsbz1pLm5leHQubmV4dDsha2MocixvKSYmQWMocixpLGkubmV4dCxvKSYmRGMocixvKSYmRGMobyxyKSYmKHQucHVzaChyLmkvbnwwKSx0LnB1c2goaS5pL258MCksdC5wdXNoKG8uaS9ufDApLFJjKGkpLFJjKGkubmV4dCksaT1lPW8pLGk9aS5uZXh0fXdoaWxlKGkhPT1lKTtyZXR1cm4gbWMoaSl9ZnVuY3Rpb24geGMoZSx0LG4saSxyLG8pe3ZhciBhPWU7ZG97Zm9yKHZhciBzPWEubmV4dC5uZXh0O3MhPT1hLnByZXY7KXtpZihhLmkhPT1zLmkmJkljKGEscykpe3ZhciBsPUxjKGEscyk7cmV0dXJuIGE9bWMoYSxhLm5leHQpLGw9bWMobCxsLm5leHQpLGdjKGEsdCxuLGkscixvLDApLHZvaWQgZ2MobCx0LG4saSxyLG8sMCl9cz1zLm5leHR9YT1hLm5leHR9d2hpbGUoYSE9PWUpfWZ1bmN0aW9uIGJjKGUsdCl7cmV0dXJuIGUueC10Lnh9ZnVuY3Rpb24gd2MoZSx0KXt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciBuLGk9dCxyPWUueCxvPWUueSxhPS0xLzA7ZG97aWYobzw9aS55JiZvPj1pLm5leHQueSYmaS5uZXh0LnkhPT1pLnkpe3ZhciBzPWkueCsoby1pLnkpKihpLm5leHQueC1pLngpLyhpLm5leHQueS1pLnkpO2lmKHM8PXImJnM+YSYmKGE9cyxuPWkueDxpLm5leHQueD9pOmkubmV4dCxzPT09cikpcmV0dXJuIG59aT1pLm5leHR9d2hpbGUoaSE9PXQpO2lmKCFuKXJldHVybiBudWxsO3ZhciBsLGM9bix1PW4ueCxoPW4ueSxkPTEvMDtpPW47ZG97cj49aS54JiZpLng+PXUmJnIhPT1pLngmJk1jKG88aD9yOmEsbyx1LGgsbzxoP2E6cixvLGkueCxpLnkpJiYobD1NYXRoLmFicyhvLWkueSkvKHItaS54KSxEYyhpLGUpJiYobDxkfHxsPT09ZCYmKGkueD5uLnh8fGkueD09PW4ueCYmVGMobixpKSkpJiYobj1pLGQ9bCkpLGk9aS5uZXh0fXdoaWxlKGkhPT1jKTtyZXR1cm4gbn0oZSx0KTtpZighbilyZXR1cm4gdDt2YXIgaT1MYyhuLGUpO3JldHVybiBtYyhpLGkubmV4dCksbWMobixuLm5leHQpfWZ1bmN0aW9uIFRjKGUsdCl7cmV0dXJuIENjKGUucHJldixlLHQucHJldik8MCYmQ2ModC5uZXh0LGUsZS5uZXh0KTwwfWZ1bmN0aW9uIEVjKGUsdCxuLGkscil7cmV0dXJuKGU9MTQzMTY1NTc2NSYoKGU9ODU4OTkzNDU5JigoZT0yNTI2NDUxMzUmKChlPTE2NzExOTM1JigoZT0oZS1uKSpyfDApfGU8PDgpKXxlPDw0KSl8ZTw8MikpfGU8PDEpKXwodD0xNDMxNjU1NzY1JigodD04NTg5OTM0NTkmKCh0PTI1MjY0NTEzNSYoKHQ9MTY3MTE5MzUmKCh0PSh0LWkpKnJ8MCl8dDw8OCkpfHQ8PDQpKXx0PDwyKSl8dDw8MSkpPDwxfWZ1bmN0aW9uIFNjKGUpe3ZhciB0PWUsbj1lO2Rveyh0Lng8bi54fHx0Lng9PT1uLngmJnQueTxuLnkpJiYobj10KSx0PXQubmV4dH13aGlsZSh0IT09ZSk7cmV0dXJuIG59ZnVuY3Rpb24gTWMoZSx0LG4saSxyLG8sYSxzKXtyZXR1cm4oci1hKSoodC1zKT49KGUtYSkqKG8tcykmJihlLWEpKihpLXMpPj0obi1hKSoodC1zKSYmKG4tYSkqKG8tcyk+PShyLWEpKihpLXMpfWZ1bmN0aW9uIEljKGUsdCl7cmV0dXJuIGUubmV4dC5pIT09dC5pJiZlLnByZXYuaSE9PXQuaSYmIWZ1bmN0aW9uKGUsdCl7dmFyIG49ZTtkb3tpZihuLmkhPT1lLmkmJm4ubmV4dC5pIT09ZS5pJiZuLmkhPT10LmkmJm4ubmV4dC5pIT09dC5pJiZBYyhuLG4ubmV4dCxlLHQpKXJldHVybiEwO249bi5uZXh0fXdoaWxlKG4hPT1lKTtyZXR1cm4hMX0oZSx0KSYmKERjKGUsdCkmJkRjKHQsZSkmJmZ1bmN0aW9uKGUsdCl7dmFyIG49ZSxpPSExLHI9KGUueCt0LngpLzIsbz0oZS55K3QueSkvMjtkb3tuLnk+byE9bi5uZXh0Lnk+byYmbi5uZXh0LnkhPT1uLnkmJnI8KG4ubmV4dC54LW4ueCkqKG8tbi55KS8obi5uZXh0Lnktbi55KStuLngmJihpPSFpKSxuPW4ubmV4dH13aGlsZShuIT09ZSk7cmV0dXJuIGl9KGUsdCkmJihDYyhlLnByZXYsZSx0LnByZXYpfHxDYyhlLHQucHJldix0KSl8fGtjKGUsdCkmJkNjKGUucHJldixlLGUubmV4dCk+MCYmQ2ModC5wcmV2LHQsdC5uZXh0KT4wKX1mdW5jdGlvbiBDYyhlLHQsbil7cmV0dXJuKHQueS1lLnkpKihuLngtdC54KS0odC54LWUueCkqKG4ueS10LnkpfWZ1bmN0aW9uIGtjKGUsdCl7cmV0dXJuIGUueD09PXQueCYmZS55PT09dC55fWZ1bmN0aW9uIEFjKGUsdCxuLGkpe3ZhciByPXpjKENjKGUsdCxuKSksbz16YyhDYyhlLHQsaSkpLGE9emMoQ2MobixpLGUpKSxzPXpjKENjKG4saSx0KSk7cmV0dXJuIHIhPT1vJiZhIT09c3x8ISgwIT09cnx8IVBjKGUsbix0KSl8fCEoMCE9PW98fCFQYyhlLGksdCkpfHwhKDAhPT1hfHwhUGMobixlLGkpKXx8ISgwIT09c3x8IVBjKG4sdCxpKSl9ZnVuY3Rpb24gUGMoZSx0LG4pe3JldHVybiB0Lng8PU1hdGgubWF4KGUueCxuLngpJiZ0Lng+PU1hdGgubWluKGUueCxuLngpJiZ0Lnk8PU1hdGgubWF4KGUueSxuLnkpJiZ0Lnk+PU1hdGgubWluKGUueSxuLnkpfWZ1bmN0aW9uIHpjKGUpe3JldHVybiBlPjA/MTplPDA/LTE6MH1mdW5jdGlvbiBEYyhlLHQpe3JldHVybiBDYyhlLnByZXYsZSxlLm5leHQpPDA/Q2MoZSx0LGUubmV4dCk+PTAmJkNjKGUsZS5wcmV2LHQpPj0wOkNjKGUsdCxlLnByZXYpPDB8fENjKGUsZS5uZXh0LHQpPDB9ZnVuY3Rpb24gTGMoZSx0KXt2YXIgbj1uZXcgQmMoZS5pLGUueCxlLnkpLGk9bmV3IEJjKHQuaSx0LngsdC55KSxyPWUubmV4dCxvPXQucHJldjtyZXR1cm4gZS5uZXh0PXQsdC5wcmV2PWUsbi5uZXh0PXIsci5wcmV2PW4saS5uZXh0PW4sbi5wcmV2PWksby5uZXh0PWksaS5wcmV2PW8saX1mdW5jdGlvbiBPYyhlLHQsbixpKXt2YXIgcj1uZXcgQmMoZSx0LG4pO3JldHVybiBpPyhyLm5leHQ9aS5uZXh0LHIucHJldj1pLGkubmV4dC5wcmV2PXIsaS5uZXh0PXIpOihyLnByZXY9cixyLm5leHQ9cikscn1mdW5jdGlvbiBSYyhlKXtlLm5leHQucHJldj1lLnByZXYsZS5wcmV2Lm5leHQ9ZS5uZXh0LGUucHJldlomJihlLnByZXZaLm5leHRaPWUubmV4dFopLGUubmV4dFomJihlLm5leHRaLnByZXZaPWUucHJldlopfWZ1bmN0aW9uIEJjKGUsdCxuKXt0aGlzLmk9ZSx0aGlzLng9dCx0aGlzLnk9bix0aGlzLnByZXY9bnVsbCx0aGlzLm5leHQ9bnVsbCx0aGlzLno9MCx0aGlzLnByZXZaPW51bGwsdGhpcy5uZXh0Wj1udWxsLHRoaXMuc3RlaW5lcj0hMX1mdW5jdGlvbiBqYyhlLHQsbixpKXtmb3IodmFyIHI9MCxvPXQsYT1uLWk7bzxuO28rPWkpcis9KGVbYV0tZVtvXSkqKGVbbysxXStlW2ErMV0pLGE9bztyZXR1cm4gcn1mdW5jdGlvbiBGYyhlLHQsbixpLHIpeyFmdW5jdGlvbiBlKHQsbixpLHIsbyl7Zm9yKDtyPmk7KXtpZihyLWk+NjAwKXt2YXIgYT1yLWkrMSxzPW4taSsxLGw9TWF0aC5sb2coYSksYz0uNSpNYXRoLmV4cCgyKmwvMyksdT0uNSpNYXRoLnNxcnQobCpjKihhLWMpL2EpKihzLWEvMjwwPy0xOjEpO2UodCxuLE1hdGgubWF4KGksTWF0aC5mbG9vcihuLXMqYy9hK3UpKSxNYXRoLm1pbihyLE1hdGguZmxvb3IobisoYS1zKSpjL2ErdSkpLG8pfXZhciBoPXRbbl0sZD1pLHA9cjtmb3IoTmModCxpLG4pLG8odFtyXSxoKT4wJiZOYyh0LGkscik7ZDxwOyl7Zm9yKE5jKHQsZCxwKSxkKysscC0tO28odFtkXSxoKTwwOylkKys7Zm9yKDtvKHRbcF0saCk+MDspcC0tfTA9PT1vKHRbaV0saCk/TmModCxpLHApOk5jKHQsKytwLHIpLHA8PW4mJihpPXArMSksbjw9cCYmKHI9cC0xKX19KGUsdCxufHwwLGl8fGUubGVuZ3RoLTEscnx8VWMpfWZ1bmN0aW9uIE5jKGUsdCxuKXt2YXIgaT1lW3RdO2VbdF09ZVtuXSxlW25dPWl9ZnVuY3Rpb24gVWMoZSx0KXtyZXR1cm4gZTx0Py0xOmU+dD8xOjB9ZnVuY3Rpb24gVmMoZSx0KXtjb25zdCBuPWUubGVuZ3RoO2lmKG48PTEpcmV0dXJuW2VdO2NvbnN0IGk9W107bGV0IHIsbztmb3IobGV0IHQ9MDt0PG47dCsrKXtjb25zdCBuPVooZVt0XSk7MCE9PW4mJihlW3RdLmFyZWE9TWF0aC5hYnMobiksdm9pZCAwPT09byYmKG89bjwwKSxvPT09bjwwPyhyJiZpLnB1c2gocikscj1bZVt0XV0pOnIucHVzaChlW3RdKSl9aWYociYmaS5wdXNoKHIpLHQ+MSlmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKylpW2VdLmxlbmd0aDw9dHx8KEZjKGlbZV0sdCwxLGlbZV0ubGVuZ3RoLTEsR2MpLGlbZV09aVtlXS5zbGljZSgwLHQpKTtyZXR1cm4gaX1mdW5jdGlvbiBHYyhlLHQpe3JldHVybiB0LmFyZWEtZS5hcmVhfWZ1bmN0aW9uIFpjKGUsdCxuKXtjb25zdCBpPW4ucGF0dGVybkRlcGVuZGVuY2llcztsZXQgcj0hMTtmb3IoY29uc3QgbiBvZiB0KXtjb25zdCB0PW4ucGFpbnQuZ2V0KGUrXCItcGF0dGVyblwiKTt0LmlzQ29uc3RhbnQoKXx8KHI9ITApO2NvbnN0IG89dC5jb25zdGFudE9yKG51bGwpO28mJihyPSEwLGlbb109ITApfXJldHVybiByfWZ1bmN0aW9uIFdjKGUsdCxuLGkscil7Y29uc3Qgbz1yLnBhdHRlcm5EZXBlbmRlbmNpZXM7Zm9yKGNvbnN0IGEgb2YgdCl7Y29uc3QgdD1hLnBhaW50LmdldChlK1wiLXBhdHRlcm5cIikudmFsdWU7aWYoXCJjb25zdGFudFwiIT09dC5raW5kKXtsZXQgZT10LmV2YWx1YXRlKHt6b29tOml9LG4se30sci5hdmFpbGFibGVJbWFnZXMpO2U9ZSYmZS5uYW1lP2UubmFtZTplLG9bZV09ITAsbi5wYXR0ZXJuc1thLmlkXT1lfX1yZXR1cm4gbn1kYy5leHBvcnRzPXBjLGRjLmV4cG9ydHMuZGVmYXVsdD1wYyxwYy5kZXZpYXRpb249ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9dCYmdC5sZW5ndGgsbz1NYXRoLmFicyhqYyhlLDAscj90WzBdKm46ZS5sZW5ndGgsbikpO2lmKHIpZm9yKHZhciBhPTAscz10Lmxlbmd0aDthPHM7YSsrKW8tPU1hdGguYWJzKGpjKGUsdFthXSpuLGE8cy0xP3RbYSsxXSpuOmUubGVuZ3RoLG4pKTt2YXIgbD0wO2ZvcihhPTA7YTxpLmxlbmd0aDthKz0zKXt2YXIgYz1pW2FdKm4sdT1pW2ErMV0qbixoPWlbYSsyXSpuO2wrPU1hdGguYWJzKChlW2NdLWVbaF0pKihlW3UrMV0tZVtjKzFdKS0oZVtjXS1lW3VdKSooZVtoKzFdLWVbYysxXSkpfXJldHVybiAwPT09byYmMD09PWw/MDpNYXRoLmFicygobC1vKS9vKX0scGMuZmxhdHRlbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZVswXVswXS5sZW5ndGgsbj17dmVydGljZXM6W10saG9sZXM6W10sZGltZW5zaW9uczp0fSxpPTAscj0wO3I8ZS5sZW5ndGg7cisrKXtmb3IodmFyIG89MDtvPGVbcl0ubGVuZ3RoO28rKylmb3IodmFyIGE9MDthPHQ7YSsrKW4udmVydGljZXMucHVzaChlW3JdW29dW2FdKTtyPjAmJm4uaG9sZXMucHVzaChpKz1lW3ItMV0ubGVuZ3RoKX1yZXR1cm4gbn07Y2xhc3MgcWN7Y29uc3RydWN0b3IoZSl7dGhpcy56b29tPWUuem9vbSx0aGlzLm92ZXJzY2FsaW5nPWUub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9ZS5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoZT0+ZS5pZCksdGhpcy5pbmRleD1lLmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLnBhdHRlcm5GZWF0dXJlcz1bXSx0aGlzLmxheW91dFZlcnRleEFycmF5PW5ldyBZbyx0aGlzLmluZGV4QXJyYXk9bmV3IGRhLHRoaXMuaW5kZXhBcnJheTI9bmV3IF9hLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBucyhlLmxheWVycyxlLnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IGRzLHRoaXMuc2VnbWVudHMyPW5ldyBkcyx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKS5tYXAoZT0+ZS5pZCksdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbn1wb3B1bGF0ZShlLHQsbixpKXt0aGlzLmhhc1BhdHRlcm49WmMoXCJmaWxsXCIsdGhpcy5sYXllcnMsdCk7Y29uc3Qgcj10aGlzLmxheWVyc1swXS5sYXlvdXQuZ2V0KFwiZmlsbC1zb3J0LWtleVwiKSxvPVtdO2Zvcihjb25zdHtmZWF0dXJlOmEsaWQ6cyxpbmRleDpsLHNvdXJjZUxheWVySW5kZXg6Y31vZiBlKXtjb25zdCBlPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSx1PVJzKGEsZSk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgUG8odGhpcy56b29tKSx1LG4pKWNvbnRpbnVlO2NvbnN0IGg9cj9yLmV2YWx1YXRlKHUse30sbix0LmF2YWlsYWJsZUltYWdlcyk6dm9pZCAwLGQ9e2lkOnMscHJvcGVydGllczphLnByb3BlcnRpZXMsdHlwZTphLnR5cGUsc291cmNlTGF5ZXJJbmRleDpjLGluZGV4OmwsZ2VvbWV0cnk6ZT91Lmdlb21ldHJ5Ok9zKGEsbixpKSxwYXR0ZXJuczp7fSxzb3J0S2V5Omh9O28ucHVzaChkKX1yJiZvLnNvcnQoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpO2Zvcihjb25zdCBpIG9mIG8pe2NvbnN0e2dlb21ldHJ5OnIsaW5kZXg6byxzb3VyY2VMYXllckluZGV4OmF9PWk7aWYodGhpcy5oYXNQYXR0ZXJuKXtjb25zdCBlPVdjKFwiZmlsbFwiLHRoaXMubGF5ZXJzLGksdGhpcy56b29tLHQpO3RoaXMucGF0dGVybkZlYXR1cmVzLnB1c2goZSl9ZWxzZSB0aGlzLmFkZEZlYXR1cmUoaSxyLG8sbix7fSx0LmF2YWlsYWJsZUltYWdlcyk7dC5mZWF0dXJlSW5kZXguaW5zZXJ0KGVbb10uZmVhdHVyZSxyLG8sYSx0aGlzLmluZGV4KX19dXBkYXRlKGUsdCxuLGkpe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyhlLHQsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxuLGkpfWFkZEZlYXR1cmVzKGUsdCxuLGkscil7Zm9yKGNvbnN0IGUgb2YgdGhpcy5wYXR0ZXJuRmVhdHVyZXMpdGhpcy5hZGRGZWF0dXJlKGUsZS5nZW9tZXRyeSxlLmluZGV4LHQsbixpKX1pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfXVwbG9hZChlKXt0aGlzLnVwbG9hZGVkfHwodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxoYyksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5pbmRleEJ1ZmZlcjI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkyKSksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBsb2FkKGUpLHRoaXMudXBsb2FkZWQ9ITB9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIyLmRlc3Ryb3koKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5kZXN0cm95KCksdGhpcy5zZWdtZW50cy5kZXN0cm95KCksdGhpcy5zZWdtZW50czIuZGVzdHJveSgpKX1hZGRGZWF0dXJlKGUsdCxuLGkscixvPVtdKXtmb3IoY29uc3QgZSBvZiBWYyh0LDUwMCkpe2xldCB0PTA7Zm9yKGNvbnN0IG4gb2YgZSl0Kz1uLmxlbmd0aDtjb25zdCBuPXRoaXMuc2VnbWVudHMucHJlcGFyZVNlZ21lbnQodCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSksaT1uLnZlcnRleExlbmd0aCxyPVtdLG89W107Zm9yKGNvbnN0IHQgb2YgZSl7aWYoMD09PXQubGVuZ3RoKWNvbnRpbnVlO3QhPT1lWzBdJiZvLnB1c2goci5sZW5ndGgvMik7Y29uc3Qgbj10aGlzLnNlZ21lbnRzMi5wcmVwYXJlU2VnbWVudCh0Lmxlbmd0aCx0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheTIpLGk9bi52ZXJ0ZXhMZW5ndGg7dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5lbXBsYWNlQmFjayh0WzBdLngsdFswXS55KSx0aGlzLmluZGV4QXJyYXkyLmVtcGxhY2VCYWNrKGkrdC5sZW5ndGgtMSxpKSxyLnB1c2godFswXS54KSxyLnB1c2godFswXS55KTtmb3IobGV0IGU9MTtlPHQubGVuZ3RoO2UrKyl0aGlzLmxheW91dFZlcnRleEFycmF5LmVtcGxhY2VCYWNrKHRbZV0ueCx0W2VdLnkpLHRoaXMuaW5kZXhBcnJheTIuZW1wbGFjZUJhY2soaStlLTEsaStlKSxyLnB1c2godFtlXS54KSxyLnB1c2godFtlXS55KTtuLnZlcnRleExlbmd0aCs9dC5sZW5ndGgsbi5wcmltaXRpdmVMZW5ndGgrPXQubGVuZ3RofWNvbnN0IGE9ZGMuZXhwb3J0cyhyLG8pO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSs9Myl0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2soaSthW2VdLGkrYVtlKzFdLGkrYVtlKzJdKTtuLnZlcnRleExlbmd0aCs9dCxuLnByaW1pdGl2ZUxlbmd0aCs9YS5sZW5ndGgvM310aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy5wb3B1bGF0ZVBhaW50QXJyYXlzKHRoaXMubGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoLGUsbixyLG8saSl9fXpyKHFjLFwiRmlsbEJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwicGF0dGVybkZlYXR1cmVzXCJdfSk7Y29uc3QgJGM9bmV3IEdvKHtcImZpbGwtc29ydC1rZXlcIjpuZXcgVW8oSmUubGF5b3V0X2ZpbGxbXCJmaWxsLXNvcnQta2V5XCJdKX0pO3ZhciBIYz17cGFpbnQ6bmV3IEdvKHtcImZpbGwtYW50aWFsaWFzXCI6bmV3IE5vKEplLnBhaW50X2ZpbGxbXCJmaWxsLWFudGlhbGlhc1wiXSksXCJmaWxsLW9wYWNpdHlcIjpuZXcgVW8oSmUucGFpbnRfZmlsbFtcImZpbGwtb3BhY2l0eVwiXSksXCJmaWxsLWNvbG9yXCI6bmV3IFVvKEplLnBhaW50X2ZpbGxbXCJmaWxsLWNvbG9yXCJdKSxcImZpbGwtb3V0bGluZS1jb2xvclwiOm5ldyBVbyhKZS5wYWludF9maWxsW1wiZmlsbC1vdXRsaW5lLWNvbG9yXCJdKSxcImZpbGwtdHJhbnNsYXRlXCI6bmV3IE5vKEplLnBhaW50X2ZpbGxbXCJmaWxsLXRyYW5zbGF0ZVwiXSksXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgTm8oSmUucGFpbnRfZmlsbFtcImZpbGwtdHJhbnNsYXRlLWFuY2hvclwiXSksXCJmaWxsLXBhdHRlcm5cIjpuZXcgVW8oSmUucGFpbnRfZmlsbFtcImZpbGwtcGF0dGVyblwiXSl9KSxsYXlvdXQ6JGN9O2NvbnN0IFhjPUhvKFt7bmFtZTpcImFfcG9zX25vcm1hbF9lZFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiSW50MTZcIn1dKSxZYz1Ibyhbe25hbWU6XCJhX2NlbnRyb2lkX3Bvc1wiLGNvbXBvbmVudHM6Mix0eXBlOlwiVWludDE2XCJ9XSksSmM9SG8oW3tuYW1lOlwiYV9wb3NfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX3Bvc19ub3JtYWxfM1wiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn1dKSx7bWVtYmVyczpRY309WGM7dmFyIEtjPXt9LGV1PW0sdHU9bnU7ZnVuY3Rpb24gbnUoZSx0LG4saSxyKXt0aGlzLnByb3BlcnRpZXM9e30sdGhpcy5leHRlbnQ9bix0aGlzLnR5cGU9MCx0aGlzLl9wYmY9ZSx0aGlzLl9nZW9tZXRyeT0tMSx0aGlzLl9rZXlzPWksdGhpcy5fdmFsdWVzPXIsZS5yZWFkRmllbGRzKGl1LHRoaXMsdCl9ZnVuY3Rpb24gaXUoZSx0LG4pezE9PWU/dC5pZD1uLnJlYWRWYXJpbnQoKToyPT1lP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPWUucmVhZFZhcmludCgpK2UucG9zO2UucG9zPG47KXt2YXIgaT10Ll9rZXlzW2UucmVhZFZhcmludCgpXSxyPXQuX3ZhbHVlc1tlLnJlYWRWYXJpbnQoKV07dC5wcm9wZXJ0aWVzW2ldPXJ9fShuLHQpOjM9PWU/dC50eXBlPW4ucmVhZFZhcmludCgpOjQ9PWUmJih0Ll9nZW9tZXRyeT1uLnBvcyl9ZnVuY3Rpb24gcnUoZSl7Zm9yKHZhciB0LG4saT0wLHI9MCxvPWUubGVuZ3RoLGE9by0xO3I8bzthPXIrKylpKz0oKG49ZVthXSkueC0odD1lW3JdKS54KSoodC55K24ueSk7cmV0dXJuIGl9bnUudHlwZXM9W1wiVW5rbm93blwiLFwiUG9pbnRcIixcIkxpbmVTdHJpbmdcIixcIlBvbHlnb25cIl0sbnUucHJvdG90eXBlLmxvYWRHZW9tZXRyeT1mdW5jdGlvbigpe3ZhciBlPXRoaXMuX3BiZjtlLnBvcz10aGlzLl9nZW9tZXRyeTtmb3IodmFyIHQsbj1lLnJlYWRWYXJpbnQoKStlLnBvcyxpPTEscj0wLG89MCxhPTAscz1bXTtlLnBvczxuOyl7aWYocjw9MCl7dmFyIGw9ZS5yZWFkVmFyaW50KCk7aT03Jmwscj1sPj4zfWlmKHItLSwxPT09aXx8Mj09PWkpbys9ZS5yZWFkU1ZhcmludCgpLGErPWUucmVhZFNWYXJpbnQoKSwxPT09aSYmKHQmJnMucHVzaCh0KSx0PVtdKSx0LnB1c2gobmV3IGV1KG8sYSkpO2Vsc2V7aWYoNyE9PWkpdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBjb21tYW5kIFwiK2kpO3QmJnQucHVzaCh0WzBdLmNsb25lKCkpfX1yZXR1cm4gdCYmcy5wdXNoKHQpLHN9LG51LnByb3RvdHlwZS5iYm94PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fcGJmO2UucG9zPXRoaXMuX2dlb21ldHJ5O2Zvcih2YXIgdD1lLnJlYWRWYXJpbnQoKStlLnBvcyxuPTEsaT0wLHI9MCxvPTAsYT0xLzAscz0tMS8wLGw9MS8wLGM9LTEvMDtlLnBvczx0Oyl7aWYoaTw9MCl7dmFyIHU9ZS5yZWFkVmFyaW50KCk7bj03JnUsaT11Pj4zfWlmKGktLSwxPT09bnx8Mj09PW4pKHIrPWUucmVhZFNWYXJpbnQoKSk8YSYmKGE9cikscj5zJiYocz1yKSwobys9ZS5yZWFkU1ZhcmludCgpKTxsJiYobD1vKSxvPmMmJihjPW8pO2Vsc2UgaWYoNyE9PW4pdGhyb3cgbmV3IEVycm9yKFwidW5rbm93biBjb21tYW5kIFwiK24pfXJldHVyblthLGwscyxjXX0sbnUucHJvdG90eXBlLnRvR2VvSlNPTj1mdW5jdGlvbihlLHQsbil7dmFyIGkscixvPXRoaXMuZXh0ZW50Kk1hdGgucG93KDIsbiksYT10aGlzLmV4dGVudCplLHM9dGhpcy5leHRlbnQqdCxsPXRoaXMubG9hZEdlb21ldHJ5KCksYz1udS50eXBlc1t0aGlzLnR5cGVdO2Z1bmN0aW9uIHUoZSl7Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF07ZVt0XT1bMzYwKihuLngrYSkvby0xODAsMzYwL01hdGguUEkqTWF0aC5hdGFuKE1hdGguZXhwKCgxODAtMzYwKihuLnkrcykvbykqTWF0aC5QSS8xODApKS05MF19fXN3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgMTp2YXIgaD1bXTtmb3IoaT0wO2k8bC5sZW5ndGg7aSsrKWhbaV09bFtpXVswXTt1KGw9aCk7YnJlYWs7Y2FzZSAyOmZvcihpPTA7aTxsLmxlbmd0aDtpKyspdShsW2ldKTticmVhaztjYXNlIDM6Zm9yKGw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7aWYodDw9MSlyZXR1cm5bZV07Zm9yKHZhciBuLGkscj1bXSxvPTA7bzx0O28rKyl7dmFyIGE9cnUoZVtvXSk7MCE9PWEmJih2b2lkIDA9PT1pJiYoaT1hPDApLGk9PT1hPDA/KG4mJnIucHVzaChuKSxuPVtlW29dXSk6bi5wdXNoKGVbb10pKX1yZXR1cm4gbiYmci5wdXNoKG4pLHJ9KGwpLGk9MDtpPGwubGVuZ3RoO2krKylmb3Iocj0wO3I8bFtpXS5sZW5ndGg7cisrKXUobFtpXVtyXSl9MT09PWwubGVuZ3RoP2w9bFswXTpjPVwiTXVsdGlcIitjO3ZhciBkPXt0eXBlOlwiRmVhdHVyZVwiLGdlb21ldHJ5Ont0eXBlOmMsY29vcmRpbmF0ZXM6bH0scHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O3JldHVyblwiaWRcImluIHRoaXMmJihkLmlkPXRoaXMuaWQpLGR9O3ZhciBvdT10dSxhdT1zdTtmdW5jdGlvbiBzdShlLHQpe3RoaXMudmVyc2lvbj0xLHRoaXMubmFtZT1udWxsLHRoaXMuZXh0ZW50PTQwOTYsdGhpcy5sZW5ndGg9MCx0aGlzLl9wYmY9ZSx0aGlzLl9rZXlzPVtdLHRoaXMuX3ZhbHVlcz1bXSx0aGlzLl9mZWF0dXJlcz1bXSxlLnJlYWRGaWVsZHMobHUsdGhpcyx0KSx0aGlzLmxlbmd0aD10aGlzLl9mZWF0dXJlcy5sZW5ndGh9ZnVuY3Rpb24gbHUoZSx0LG4pezE1PT09ZT90LnZlcnNpb249bi5yZWFkVmFyaW50KCk6MT09PWU/dC5uYW1lPW4ucmVhZFN0cmluZygpOjU9PT1lP3QuZXh0ZW50PW4ucmVhZFZhcmludCgpOjI9PT1lP3QuX2ZlYXR1cmVzLnB1c2gobi5wb3MpOjM9PT1lP3QuX2tleXMucHVzaChuLnJlYWRTdHJpbmcoKSk6ND09PWUmJnQuX3ZhbHVlcy5wdXNoKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1udWxsLG49ZS5yZWFkVmFyaW50KCkrZS5wb3M7ZS5wb3M8bjspe3ZhciBpPWUucmVhZFZhcmludCgpPj4zO3Q9MT09PWk/ZS5yZWFkU3RyaW5nKCk6Mj09PWk/ZS5yZWFkRmxvYXQoKTozPT09aT9lLnJlYWREb3VibGUoKTo0PT09aT9lLnJlYWRWYXJpbnQ2NCgpOjU9PT1pP2UucmVhZFZhcmludCgpOjY9PT1pP2UucmVhZFNWYXJpbnQoKTo3PT09aT9lLnJlYWRCb29sZWFuKCk6bnVsbH1yZXR1cm4gdH0obikpfXN1LnByb3RvdHlwZS5mZWF0dXJlPWZ1bmN0aW9uKGUpe2lmKGU8MHx8ZT49dGhpcy5fZmVhdHVyZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcImZlYXR1cmUgaW5kZXggb3V0IG9mIGJvdW5kc1wiKTt0aGlzLl9wYmYucG9zPXRoaXMuX2ZlYXR1cmVzW2VdO3ZhciB0PXRoaXMuX3BiZi5yZWFkVmFyaW50KCkrdGhpcy5fcGJmLnBvcztyZXR1cm4gbmV3IG91KHRoaXMuX3BiZix0LHRoaXMuZXh0ZW50LHRoaXMuX2tleXMsdGhpcy5fdmFsdWVzKX07dmFyIGN1PWF1O2Z1bmN0aW9uIHV1KGUsdCxuKXtpZigzPT09ZSl7dmFyIGk9bmV3IGN1KG4sbi5yZWFkVmFyaW50KCkrbi5wb3MpO2kubGVuZ3RoJiYodFtpLm5hbWVdPWkpfX12YXIgaHU9S2MuVmVjdG9yVGlsZT1mdW5jdGlvbihlLHQpe3RoaXMubGF5ZXJzPWUucmVhZEZpZWxkcyh1dSx7fSx0KX0sZHU9S2MuVmVjdG9yVGlsZUZlYXR1cmU9dHU7ZnVuY3Rpb24gcHUoZSx0LG4saSl7Y29uc3Qgcj1bXSxvPTA9PT1pPyhlLHQsbixpLHIsbyk9PntlLnB1c2gobmV3IG0obyxuKyhvLXQpLyhpLXQpKihyLW4pKSl9OihlLHQsbixpLHIsbyk9PntlLnB1c2gobmV3IG0odCsoby1uKS8oci1uKSooaS10KSxvKSl9O2Zvcihjb25zdCBhIG9mIGUpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHIgb2YgYSl7aWYoci5sZW5ndGg8PTIpY29udGludWU7Y29uc3QgYT1bXTtmb3IobGV0IGU9MDtlPHIubGVuZ3RoLTE7ZSsrKXtjb25zdCBzPXJbZV0ueCxsPXJbZV0ueSxjPXJbZSsxXS54LHU9cltlKzFdLnksaD0wPT09aT9zOmwsZD0wPT09aT9jOnU7aDx0P2Q+dCYmbyhhLHMsbCxjLHUsdCk6aD5uP2Q8biYmbyhhLHMsbCxjLHUsbik6YS5wdXNoKHJbZV0pLGQ8dCYmaD49dCYmbyhhLHMsbCxjLHUsdCksZD5uJiZoPD1uJiZvKGEscyxsLGMsdSxuKX1sZXQgcz1yW3IubGVuZ3RoLTFdO2NvbnN0IGw9MD09PWk/cy54OnMueTtsPj10JiZsPD1uJiZhLnB1c2gocyksYS5sZW5ndGgmJihzPWFbYS5sZW5ndGgtMV0sYVswXS54PT09cy54JiZhWzBdLnk9PT1zLnl8fGEucHVzaChhWzBdKSxlLnB1c2goYSkpfWUubGVuZ3RoJiZyLnB1c2goZSl9cmV0dXJuIHJ9S2MuVmVjdG9yVGlsZUxheWVyPWF1O2NvbnN0IGZ1PWR1LnR5cGVzLG11PU1hdGgucG93KDIsMTMpO2Z1bmN0aW9uIGd1KGUsdCxuLGkscixvLGEscyl7ZS5lbXBsYWNlQmFjaygodDw8MSkrYSwobjw8MSkrbywoTWF0aC5mbG9vcihpKm11KTw8MSkrcixNYXRoLnJvdW5kKHMpKX1mdW5jdGlvbiB5dShlLHQsbil7Y29uc3QgaT0xNjM4NDtlLmVtcGxhY2VCYWNrKHQueCx0LnksdC56LG5bMF0qaSxuWzFdKmksblsyXSppKX1jbGFzcyBfdXtjb25zdHJ1Y3Rvcigpe3RoaXMuYWNjPW5ldyBtKDAsMCksdGhpcy5wb2x5Q291bnQ9W119c3RhcnRSaW5nKGUpe3RoaXMuY3VycmVudFBvbHlDb3VudD17ZWRnZXM6MCx0b3A6MH0sdGhpcy5wb2x5Q291bnQucHVzaCh0aGlzLmN1cnJlbnRQb2x5Q291bnQpLHRoaXMubWlufHwodGhpcy5taW49bmV3IG0oZS54LGUueSksdGhpcy5tYXg9bmV3IG0oZS54LGUueSkpfWFwcGVuZChlLHQpe3RoaXMuY3VycmVudFBvbHlDb3VudC5lZGdlcysrLHRoaXMuYWNjLl9hZGQoZSk7Y29uc3Qgbj10aGlzLm1pbixpPXRoaXMubWF4O2UueDxuLng/bi54PWUueDplLng+aS54JiYoaS54PWUueCksZS55PG4ueT9uLnk9ZS55OmUueT5pLnkmJihpLnk9ZS55KSwoKDA9PT1lLnh8fGUueD09PXBzKSYmZS54PT09dC54KSE9KCgwPT09ZS55fHxlLnk9PT1wcykmJmUueT09PXQueSkmJnRoaXMucHJvY2Vzc0JvcmRlck92ZXJsYXAoZSx0KSx0Lng8MCE9ZS54PDAmJnRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKDAsQ24odC55LGUueSwoMC10LngpLyhlLngtdC54KSkpLHQueD5wcyE9ZS54PnBzJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigxLENuKHQueSxlLnksKHBzLXQueCkvKGUueC10LngpKSksdC55PDAhPWUueTwwJiZ0aGlzLmFkZEJvcmRlckludGVyc2VjdGlvbigyLENuKHQueCxlLngsKDAtdC55KS8oZS55LXQueSkpKSx0Lnk+cHMhPWUueT5wcyYmdGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24oMyxDbih0LngsZS54LChwcy10LnkpLyhlLnktdC55KSkpfWFkZEJvcmRlckludGVyc2VjdGlvbihlLHQpe3RoaXMuYm9yZGVyc3x8KHRoaXMuYm9yZGVycz1bW051bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUVdLFtOdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFXSxbTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRV0sW051bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUVdXSk7Y29uc3Qgbj10aGlzLmJvcmRlcnNbZV07dDxuWzBdJiYoblswXT10KSx0Pm5bMV0mJihuWzFdPXQpfXByb2Nlc3NCb3JkZXJPdmVybGFwKGUsdCl7aWYoZS54PT09dC54KXtpZihlLnk9PT10LnkpcmV0dXJuO2NvbnN0IG49MD09PWUueD8wOjE7dGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24obix0LnkpLHRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKG4sZS55KX1lbHNle2NvbnN0IG49MD09PWUueT8yOjM7dGhpcy5hZGRCb3JkZXJJbnRlcnNlY3Rpb24obix0LngpLHRoaXMuYWRkQm9yZGVySW50ZXJzZWN0aW9uKG4sZS54KX19Y2VudHJvaWQoKXtjb25zdCBlPXRoaXMucG9seUNvdW50LnJlZHVjZSgoZSx0KT0+ZSt0LmVkZ2VzLDApO3JldHVybiAwIT09ZT90aGlzLmFjYy5kaXYoZSkuX3JvdW5kKCk6bmV3IG0oMCwwKX1zcGFuKCl7cmV0dXJuIG5ldyBtKHRoaXMubWF4LngtdGhpcy5taW4ueCx0aGlzLm1heC55LXRoaXMubWluLnkpfWludGVyc2VjdHNDb3VudCgpe3JldHVybiB0aGlzLmJvcmRlcnMucmVkdWNlKChlLHQpPT5lKyArKHRbMF0hPT1OdW1iZXIuTUFYX1ZBTFVFKSwwKX19Y2xhc3MgdnV7Y29uc3RydWN0b3IoZSl7dGhpcy56b29tPWUuem9vbSx0aGlzLmNhbm9uaWNhbD1lLmNhbm9uaWNhbCx0aGlzLm92ZXJzY2FsaW5nPWUub3ZlcnNjYWxpbmcsdGhpcy5sYXllcnM9ZS5sYXllcnMsdGhpcy5sYXllcklkcz10aGlzLmxheWVycy5tYXAoZT0+ZS5pZCksdGhpcy5pbmRleD1lLmluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmVkZ2VSYWRpdXM9MCx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IFFvLHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheT1uZXcgUGEsdGhpcy5pbmRleEFycmF5PW5ldyBkYSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucz1uZXcgbnMoZS5sYXllcnMsZS56b29tKSx0aGlzLnNlZ21lbnRzPW5ldyBkcyx0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHM9dGhpcy5sYXllcnMuZmlsdGVyKGU9PmUuaXNTdGF0ZURlcGVuZGVudCgpKS5tYXAoZT0+ZS5pZCksdGhpcy5lbmFibGVUZXJyYWluPWUuZW5hYmxlVGVycmFpbn1wb3B1bGF0ZShlLHQsbixpKXt0aGlzLmZlYXR1cmVzPVtdLHRoaXMuaGFzUGF0dGVybj1aYyhcImZpbGwtZXh0cnVzaW9uXCIsdGhpcy5sYXllcnMsdCksdGhpcy5mZWF0dXJlc09uQm9yZGVyPVtdLHRoaXMuYm9yZGVycz1bW10sW10sW10sW11dLHRoaXMuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclo9Wy0xLC0xLC0xLC0xXSx0aGlzLnRpbGVUb01ldGVyPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9TWF0aC5leHAoTWF0aC5QSSooMS1lLnkvKDE8PGUueikqMikpO3JldHVybiA4MDE1MDAzNCp0Lyh0KnQrMSkvcHMvKDE8PGUueil9KG4pLHRoaXMuZWRnZVJhZGl1cz10aGlzLmxheWVyc1swXS5sYXlvdXQuZ2V0KFwiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIikvdGhpcy50aWxlVG9NZXRlcjtmb3IoY29uc3R7ZmVhdHVyZTpyLGlkOm8saW5kZXg6YSxzb3VyY2VMYXllckluZGV4OnN9b2YgZSl7Y29uc3QgZT10aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5uZWVkR2VvbWV0cnksbD1ScyhyLGUpO2lmKCF0aGlzLmxheWVyc1swXS5fZmVhdHVyZUZpbHRlci5maWx0ZXIobmV3IFBvKHRoaXMuem9vbSksbCxuKSljb250aW51ZTtjb25zdCBjPXtpZDpvLHNvdXJjZUxheWVySW5kZXg6cyxpbmRleDphLGdlb21ldHJ5OmU/bC5nZW9tZXRyeTpPcyhyLG4saSkscHJvcGVydGllczpyLnByb3BlcnRpZXMsdHlwZTpyLnR5cGUscGF0dGVybnM6e319LHU9dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGg7dGhpcy5oYXNQYXR0ZXJuP3RoaXMuZmVhdHVyZXMucHVzaChXYyhcImZpbGwtZXh0cnVzaW9uXCIsdGhpcy5sYXllcnMsYyx0aGlzLnpvb20sdCkpOnRoaXMuYWRkRmVhdHVyZShjLGMuZ2VvbWV0cnksYSxuLHt9LHQuYXZhaWxhYmxlSW1hZ2VzLGkpLHQuZmVhdHVyZUluZGV4Lmluc2VydChyLGMuZ2VvbWV0cnksYSxzLHRoaXMuaW5kZXgsdSl9dGhpcy5zb3J0Qm9yZGVycygpfWFkZEZlYXR1cmVzKGUsdCxuLGkscil7Zm9yKGNvbnN0IGUgb2YgdGhpcy5mZWF0dXJlcyl7Y29uc3R7Z2VvbWV0cnk6b309ZTt0aGlzLmFkZEZlYXR1cmUoZSxvLGUuaW5kZXgsdCxuLGkscil9dGhpcy5zb3J0Qm9yZGVycygpfXVwZGF0ZShlLHQsbixpKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXMoZSx0LHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMsbixpKX1pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfXVwbG9hZChlKXt0aGlzLnVwbG9hZGVkfHwodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxRYyksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheSYmKHRoaXMubGF5b3V0VmVydGV4RXh0QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksSmMubWVtYmVycywhMCkpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQoZSksdGhpcy51cGxvYWRlZD0hMH11cGxvYWRDZW50cm9pZChlKXswIT09dGhpcy5jZW50cm9pZFZlcnRleEFycmF5Lmxlbmd0aCYmKHRoaXMuY2VudHJvaWRWZXJ0ZXhCdWZmZXI/dGhpcy5uZWVkc0NlbnRyb2lkVXBkYXRlJiZ0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodGhpcy5jZW50cm9pZFZlcnRleEFycmF5KTp0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheSxZYy5tZW1iZXJzLCEwKSx0aGlzLm5lZWRzQ2VudHJvaWRVcGRhdGU9ITEpfWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyJiZ0aGlzLmNlbnRyb2lkVmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmxheW91dFZlcnRleEV4dEJ1ZmZlciYmdGhpcy5sYXlvdXRWZXJ0ZXhFeHRCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSl9YWRkRmVhdHVyZShlLHQsbixpLHIsbyxhKXtjb25zdCBzPVtuZXcgbSgwLDApLG5ldyBtKHBzLHBzKV0sbD1hLnByb2plY3Rpb24sYz1cImdsb2JlXCI9PT1sLm5hbWUsdT10aGlzLmVuYWJsZVRlcnJhaW4mJiFjP25ldyBfdTpudWxsLGg9XCJQb2x5Z29uXCI9PT1mdVtlLnR5cGVdO2MmJiF0aGlzLmxheW91dFZlcnRleEV4dEFycmF5JiYodGhpcy5sYXlvdXRWZXJ0ZXhFeHRBcnJheT1uZXcgaWEpO2NvbnN0IGQ9VmModCw1MDApO2ZvcihsZXQgZT1kLmxlbmd0aC0xO2U+PTA7ZS0tKXtjb25zdCB0PWRbZV07KDA9PT10Lmxlbmd0aHx8KHA9dFswXSkuZXZlcnkoZT0+ZS54PD0wKXx8cC5ldmVyeShlPT5lLng+PXBzKXx8cC5ldmVyeShlPT5lLnk8PTApfHxwLmV2ZXJ5KGU9PmUueT49cHMpKSYmZC5zcGxpY2UoZSwxKX12YXIgcDtsZXQgZjtpZihjKWY9SXUoZCxzLGkpO2Vsc2V7Zj1bXTtmb3IoY29uc3QgZSBvZiBkKWYucHVzaCh7cG9seWdvbjplLGJvdW5kczpzfSl9Y29uc3QgZz1oP3RoaXMuZWRnZVJhZGl1czowO2Zvcihjb25zdHtwb2x5Z29uOmUsYm91bmRzOnR9b2YgZil7bGV0IG49MCxyPTA7Zm9yKGNvbnN0IHQgb2YgZSloJiYhdFswXS5lcXVhbHModFt0Lmxlbmd0aC0xXSkmJnQucHVzaCh0WzBdKSxyKz1oP3QubGVuZ3RoLTE6dC5sZW5ndGg7Y29uc3Qgbz10aGlzLnNlZ21lbnRzLnByZXBhcmVTZWdtZW50KChoPzU6NCkqcix0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMuaW5kZXhBcnJheSk7aWYoaCl7Y29uc3QgdD1bXSxyPVtdO249by52ZXJ0ZXhMZW5ndGg7Zm9yKGNvbnN0IG4gb2YgZSl7bGV0IGEscztuLmxlbmd0aCYmbiE9PWVbMF0mJnIucHVzaCh0Lmxlbmd0aC8yKSxhPW5bMV0uc3ViKG5bMF0pLl9wZXJwKCkuX3VuaXQoKTtmb3IobGV0IGU9MTtlPG4ubGVuZ3RoO2UrKyl7Y29uc3Qgcj1uW2VdLHU9bltlPT09bi5sZW5ndGgtMT8xOmUrMV07bGV0e3g6aCx5OmR9PXI7aWYoZyl7cz11LnN1YihyKS5fcGVycCgpLl91bml0KCk7Y29uc3QgZT1hLmFkZChzKS5fdW5pdCgpLHQ9ZypNYXRoLm1pbig0LDEvKGEueCplLngrYS55KmUueSkpO2grPXQqZS54LGQrPXQqZS55LGE9c31ndSh0aGlzLmxheW91dFZlcnRleEFycmF5LGgsZCwwLDAsMSwxLDApLG8udmVydGV4TGVuZ3RoKyssdC5wdXNoKHIueCxyLnkpLGMmJnl1KHRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksbC5wcm9qZWN0VGlsZVBvaW50KGgsZCxpKSxsLnVwVmVjdG9yKGksaCxkKSl9fWNvbnN0IGE9ZGMuZXhwb3J0cyh0LHIpO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSs9Myl0aGlzLmluZGV4QXJyYXkuZW1wbGFjZUJhY2sobithW2VdLG4rYVtlKzJdLG4rYVtlKzFdKSxvLnByaW1pdGl2ZUxlbmd0aCsrfWZvcihjb25zdCByIG9mIGUpe3UmJnIubGVuZ3RoJiZ1LnN0YXJ0UmluZyhyWzBdKTtsZXQgZSxhLHMsZD1yLmxlbmd0aD40JiZFdShyW3IubGVuZ3RoLTJdLHJbMF0sclsxXSkscD1nP2J1KHJbci5sZW5ndGgtMl0sclswXSxyWzFdLGcpOjA7YT1yWzFdLnN1YihyWzBdKS5fcGVycCgpLl91bml0KCk7bGV0IGY9ITA7Zm9yKGxldCBtPTEseT0wO208ci5sZW5ndGg7bSsrKXtsZXQgXz1yW20tMV0sdj1yW21dO2NvbnN0IHg9clttPT09ci5sZW5ndGgtMT8xOm0rMV07aWYodSYmaCYmdS5jdXJyZW50UG9seUNvdW50LnRvcCsrLFR1KHYsXyx0KSl7ZyYmKGE9eC5zdWIodikuX3BlcnAoKS5fdW5pdCgpLGY9IWYpO2NvbnRpbnVlfXUmJnUuYXBwZW5kKHYsXyk7Y29uc3QgYj12LnN1YihfKS5fcGVycCgpLHc9Yi54LyhNYXRoLmFicyhiLngpK01hdGguYWJzKGIueSkpLFQ9Yi55PjA/MTowLEU9Xy5kaXN0KHYpO2lmKHkrRT4zMjc2OCYmKHk9MCksZyl7cz14LnN1Yih2KS5fcGVycCgpLl91bml0KCk7bGV0IGU9d3UoXyx2LHgseHUoYSxzKSxnKTtpc05hTihlKSYmKGU9MCk7Y29uc3QgdD12LnN1YihfKS5fdW5pdCgpO189Xy5hZGQodC5tdWx0KHApKS5fcm91bmQoKSx2PXYuYWRkKHQubXVsdCgtZSkpLl9yb3VuZCgpLHA9ZSxhPXN9Y29uc3QgUz1vLnZlcnRleExlbmd0aCxNPXIubGVuZ3RoPjQmJkV1KF8sdix4KTtsZXQgST1TdSh5LGQsZik7aWYoZ3UodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxfLngsXy55LHcsVCwwLDAsSSksZ3UodGhpcy5sYXlvdXRWZXJ0ZXhBcnJheSxfLngsXy55LHcsVCwwLDEsSSkseSs9RSxJPVN1KHksTSwhZiksZD1NLGd1KHRoaXMubGF5b3V0VmVydGV4QXJyYXksdi54LHYueSx3LFQsMCwwLEkpLGd1KHRoaXMubGF5b3V0VmVydGV4QXJyYXksdi54LHYueSx3LFQsMCwxLEkpLG8udmVydGV4TGVuZ3RoKz00LHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhTKzAsUysxLFMrMiksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKFMrMSxTKzMsUysyKSxvLnByaW1pdGl2ZUxlbmd0aCs9MixnKXtjb25zdCBpPW4rKDE9PT1tP3IubGVuZ3RoLTI6bS0yKSxhPTE9PT1tP246aSsxO2lmKHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhTKzEsaSxTKzMpLHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayhpLGEsUyszKSxvLnByaW1pdGl2ZUxlbmd0aCs9Mix2b2lkIDA9PT1lJiYoZT1TKSwhVHUoeCxyW21dLHQpKXtjb25zdCB0PW09PT1yLmxlbmd0aC0xP2U6by52ZXJ0ZXhMZW5ndGg7dGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKFMrMixTKzMsdCksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKFMrMyx0KzEsdCksdGhpcy5pbmRleEFycmF5LmVtcGxhY2VCYWNrKFMrMyxhLHQrMSksby5wcmltaXRpdmVMZW5ndGgrPTN9Zj0hZn1pZihjKXtjb25zdCBlPXRoaXMubGF5b3V0VmVydGV4RXh0QXJyYXksdD1sLnByb2plY3RUaWxlUG9pbnQoXy54LF8ueSxpKSxuPWwucHJvamVjdFRpbGVQb2ludCh2Lngsdi55LGkpLHI9bC51cFZlY3RvcihpLF8ueCxfLnkpLG89bC51cFZlY3RvcihpLHYueCx2LnkpO3l1KGUsdCxyKSx5dShlLHQscikseXUoZSxuLG8pLHl1KGUsbixvKX19aCYmKG4rPXIubGVuZ3RoLTEpfX1pZih1JiZ1LnBvbHlDb3VudC5sZW5ndGg+MCl7aWYodS5ib3JkZXJzKXt1LnZlcnRleEFycmF5T2Zmc2V0PXRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGg7Y29uc3QgZT11LmJvcmRlcnMsdD10aGlzLmZlYXR1cmVzT25Cb3JkZXIucHVzaCh1KS0xO2ZvcihsZXQgbj0wO248NDtuKyspZVtuXVswXSE9PU51bWJlci5NQVhfVkFMVUUmJnRoaXMuYm9yZGVyc1tuXS5wdXNoKHQpfXRoaXMuZW5jb2RlQ2VudHJvaWQodS5ib3JkZXJzP3ZvaWQgMDp1LmNlbnRyb2lkKCksdSl9dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCxlLG4scixvLGkpfXNvcnRCb3JkZXJzKCl7Zm9yKGxldCBlPTA7ZTw0O2UrKyl0aGlzLmJvcmRlcnNbZV0uc29ydCgodCxuKT0+dGhpcy5mZWF0dXJlc09uQm9yZGVyW3RdLmJvcmRlcnNbZV1bMF0tdGhpcy5mZWF0dXJlc09uQm9yZGVyW25dLmJvcmRlcnNbZV1bMF0pfWVuY29kZUNlbnRyb2lkKGUsdCxuPSEwKXtsZXQgaSxyO2lmKGUpaWYoMCE9PWUueSl7Y29uc3Qgbj10LnNwYW4oKS5fbXVsdCh0aGlzLnRpbGVUb01ldGVyKTtpPShNYXRoLm1heChlLngsMSk8PDMpK01hdGgubWluKDcsTWF0aC5yb3VuZChuLngvMTApKSxyPShNYXRoLm1heChlLnksMSk8PDMpK01hdGgubWluKDcsTWF0aC5yb3VuZChuLnkvMTApKX1lbHNlIGk9TWF0aC5jZWlsKDcqKGUueCs0NTApKSxyPTA7ZWxzZSBpPTAscj0rbjtsZXQgbz1uP3RoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5sZW5ndGg6dC52ZXJ0ZXhBcnJheU9mZnNldDtmb3IoY29uc3QgZSBvZiB0LnBvbHlDb3VudCl7biYmdGhpcy5jZW50cm9pZFZlcnRleEFycmF5LnJlc2l6ZSh0aGlzLmNlbnRyb2lkVmVydGV4QXJyYXkubGVuZ3RoKzQqZS5lZGdlcytlLnRvcCk7Zm9yKGxldCB0PTA7dDxlLnRvcDt0KyspdGhpcy5jZW50cm9pZFZlcnRleEFycmF5LmVtcGxhY2UobysrLGkscik7Zm9yKGxldCB0PTA7dDwyKmUuZWRnZXM7dCsrKXRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5lbXBsYWNlKG8rKywwLHIpLHRoaXMuY2VudHJvaWRWZXJ0ZXhBcnJheS5lbXBsYWNlKG8rKyxpLHIpfX19ZnVuY3Rpb24geHUoZSx0KXtjb25zdCBuPWUuYWRkKHQpLl91bml0KCk7cmV0dXJuIGUueCpuLngrZS55Km4ueX1mdW5jdGlvbiBidShlLHQsbixpKXtjb25zdCByPXQuc3ViKGUpLl9wZXJwKCkuX3VuaXQoKSxvPW4uc3ViKHQpLl9wZXJwKCkuX3VuaXQoKTtyZXR1cm4gd3UoZSx0LG4seHUocixvKSxpKX1mdW5jdGlvbiB3dShlLHQsbixpLHIpe2NvbnN0IG89TWF0aC5zcXJ0KDEtaSppKTtyZXR1cm4gTWF0aC5taW4oZS5kaXN0KHQpLzMsdC5kaXN0KG4pLzMscipvL2kpfWZ1bmN0aW9uIFR1KGUsdCxuKXtyZXR1cm4gZS54PG5bMF0ueCYmdC54PG5bMF0ueHx8ZS54Pm5bMV0ueCYmdC54Pm5bMV0ueHx8ZS55PG5bMF0ueSYmdC55PG5bMF0ueXx8ZS55Pm5bMV0ueSYmdC55Pm5bMV0ueX1mdW5jdGlvbiBFdShlLHQsbil7aWYoZS54PDB8fGUueD49cHN8fHQueDwwfHx0Lng+PXBzfHxuLng8MHx8bi54Pj1wcylyZXR1cm4hMTtjb25zdCBpPW4uc3ViKHQpLHI9aS5wZXJwKCksbz1lLnN1Yih0KTtyZXR1cm4oaS54Km8ueCtpLnkqby55KS9NYXRoLnNxcnQoKGkueCppLngraS55KmkueSkqKG8ueCpvLngrby55Km8ueSkpPi0uODY2JiZyLngqby54K3IueSpvLnk8MH1mdW5jdGlvbiBTdShlLHQsbil7Y29uc3QgaT10PzJ8ZTotMyZlO3JldHVybiBuPzF8aTotMiZpfWZ1bmN0aW9uIE11KCl7Y29uc3QgZT1NYXRoLlBJLzMyLHQ9TWF0aC50YW4oZSksbj1tcztyZXR1cm4gbipNYXRoLnNxcnQoMSsyKnQqdCktbn1mdW5jdGlvbiBJdShlLHQsbil7Y29uc3QgaT0xPDxuLnoscj13cyhuLngvaSksbz13cygobi54KzEpL2kpLGE9VHMobi55L2kpLHM9VHMoKG4ueSsxKS9pKTtyZXR1cm4gZnVuY3Rpb24oZSx0LG4saSxyPTAsbyl7Y29uc3QgYT1bXTtpZighZS5sZW5ndGh8fCFufHwhaSlyZXR1cm4gYTtjb25zdCBzPShlLHQpPT57Zm9yKGNvbnN0IG4gb2YgZSlhLnB1c2goe3BvbHlnb246bixib3VuZHM6dH0pfSxsPU1hdGguY2VpbChNYXRoLmxvZzIobikpLGM9TWF0aC5jZWlsKE1hdGgubG9nMihpKSksdT1sLWMsaD1bXTtmb3IobGV0IGU9MDtlPE1hdGguYWJzKHUpO2UrKyloLnB1c2godT4wPzA6MSk7Zm9yKGxldCBlPTA7ZTxNYXRoLm1pbihsLGMpO2UrKyloLnB1c2goMCksaC5wdXNoKDEpO2xldCBkPWU7aWYoZD1wdShkLHRbMF0ueS1yLHRbMV0ueStyLDEpLGQ9cHUoZCx0WzBdLngtcix0WzFdLngrciwwKSwhZC5sZW5ndGgpcmV0dXJuIGE7Y29uc3QgcD1bXTtmb3IoaC5sZW5ndGg/cC5wdXNoKHtwb2x5Z29uczpkLGJvdW5kczp0LGRlcHRoOjB9KTpzKGQsdCk7cC5sZW5ndGg7KXtjb25zdCBlPXAucG9wKCksdD1lLmRlcHRoLG49aFt0XSxpPWUuYm91bmRzWzBdLGE9ZS5ib3VuZHNbMV0sbD0wPT09bj9pLng6aS55LGM9MD09PW4/YS54OmEueSx1PW8/byhuLGwsYyk6LjUqKGwrYyksZD1wdShlLnBvbHlnb25zLGwtcix1K3IsbiksZj1wdShlLnBvbHlnb25zLHUtcixjK3Isbik7aWYoZC5sZW5ndGgpe2NvbnN0IGU9W2ksbmV3IG0oMD09PW4/dTphLngsMT09PW4/dTphLnkpXTtoLmxlbmd0aD50KzE/cC5wdXNoKHtwb2x5Z29uczpkLGJvdW5kczplLGRlcHRoOnQrMX0pOnMoZCxlKX1pZihmLmxlbmd0aCl7Y29uc3QgZT1bbmV3IG0oMD09PW4/dTppLngsMT09PW4/dTppLnkpLGFdO2gubGVuZ3RoPnQrMT9wLnB1c2goe3BvbHlnb25zOmYsYm91bmRzOmUsZGVwdGg6dCsxfSk6cyhmLGUpfX1yZXR1cm4gYX0oZSx0LE1hdGguY2VpbCgoby1yKS8xMS4yNSksTWF0aC5jZWlsKChhLXMpLzExLjI1KSwxLChlLHQscik9PntpZigwPT09ZSlyZXR1cm4uNSoodCtyKTt7Y29uc3QgZT1Ucygobi55K3QvcHMpL2kpO3JldHVybih4cyguNSooVHMoKG4ueStyL3BzKS9pKStlKSkqaS1uLnkpKnBzfX0pfXpyKHZ1LFwiRmlsbEV4dHJ1c2lvbkJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwiZmVhdHVyZXNcIl19KSx6cihfdSxcIlBhcnRNZXRhZGF0YVwiKTtjb25zdCBDdT1uZXcgR28oe1wiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIjpuZXcgTm8oSmVbXCJsYXlvdXRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1lZGdlLXJhZGl1c1wiXSl9KTt2YXIga3U9e3BhaW50Om5ldyBHbyh7XCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCI6bmV3IE5vKEplW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1vcGFjaXR5XCJdKSxcImZpbGwtZXh0cnVzaW9uLWNvbG9yXCI6bmV3IFVvKEplW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1jb2xvclwiXSksXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIjpuZXcgTm8oSmVbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXRyYW5zbGF0ZVwiXSksXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCI6bmV3IE5vKEplW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIjpuZXcgVW8oSmVbXCJwYWludF9maWxsLWV4dHJ1c2lvblwiXVtcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIl0pLFwiZmlsbC1leHRydXNpb24taGVpZ2h0XCI6bmV3IFVvKEplW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1oZWlnaHRcIl0pLFwiZmlsbC1leHRydXNpb24tYmFzZVwiOm5ldyBVbyhKZVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tYmFzZVwiXSksXCJmaWxsLWV4dHJ1c2lvbi12ZXJ0aWNhbC1ncmFkaWVudFwiOm5ldyBObyhKZVtcInBhaW50X2ZpbGwtZXh0cnVzaW9uXCJdW1wiZmlsbC1leHRydXNpb24tdmVydGljYWwtZ3JhZGllbnRcIl0pLFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24taW50ZW5zaXR5XCI6bmV3IE5vKEplW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIl0pLFwiZmlsbC1leHRydXNpb24tYW1iaWVudC1vY2NsdXNpb24tcmFkaXVzXCI6bmV3IE5vKEplW1wicGFpbnRfZmlsbC1leHRydXNpb25cIl1bXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1yYWRpdXNcIl0pfSksbGF5b3V0OkN1fTtmdW5jdGlvbiBBdShlLHQsbil7dmFyIGk9MipNYXRoLlBJKjYzNzgxMzcvMjU2L01hdGgucG93KDIsbik7cmV0dXJuW2UqaS0yKk1hdGguUEkqNjM3ODEzNy8yLHQqaS0yKk1hdGguUEkqNjM3ODEzNy8yXX1jbGFzcyBQdXtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy56PWUsdGhpcy54PXQsdGhpcy55PW4sdGhpcy5rZXk9THUoMCxlLGUsdCxuKX1lcXVhbHMoZSl7cmV0dXJuIHRoaXMuej09PWUueiYmdGhpcy54PT09ZS54JiZ0aGlzLnk9PT1lLnl9dXJsKGUsdCl7Y29uc3Qgbj1mdW5jdGlvbihlLHQsbil7dmFyIGk9QXUoMjU2KmUsMjU2Kih0PU1hdGgucG93KDIsbiktdC0xKSxuKSxyPUF1KDI1NiooZSsxKSwyNTYqKHQrMSksbik7cmV0dXJuIGlbMF0rXCIsXCIraVsxXStcIixcIityWzBdK1wiLFwiK3JbMV19KHRoaXMueCx0aGlzLnksdGhpcy56KSxpPWZ1bmN0aW9uKGUsdCxuKXtsZXQgaSxyPVwiXCI7Zm9yKGxldCBvPWU7bz4wO28tLSlpPTE8PG8tMSxyKz0odCZpPzE6MCkrKG4maT8yOjApO3JldHVybiByfSh0aGlzLnosdGhpcy54LHRoaXMueSk7cmV0dXJuIGVbKHRoaXMueCt0aGlzLnkpJWUubGVuZ3RoXS5yZXBsYWNlKFwie3ByZWZpeH1cIiwodGhpcy54JTE2KS50b1N0cmluZygxNikrKHRoaXMueSUxNikudG9TdHJpbmcoMTYpKS5yZXBsYWNlKC97en0vZyxTdHJpbmcodGhpcy56KSkucmVwbGFjZSgve3h9L2csU3RyaW5nKHRoaXMueCkpLnJlcGxhY2UoL3t5fS9nLFN0cmluZyhcInRtc1wiPT09dD9NYXRoLnBvdygyLHRoaXMueiktdGhpcy55LTE6dGhpcy55KSkucmVwbGFjZShcIntxdWFka2V5fVwiLGkpLnJlcGxhY2UoXCJ7YmJveC1lcHNnLTM4NTd9XCIsbil9dG9TdHJpbmcoKXtyZXR1cm5gJHt0aGlzLnp9LyR7dGhpcy54fS8ke3RoaXMueX1gfX1jbGFzcyB6dXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMud3JhcD1lLHRoaXMuY2Fub25pY2FsPXQsdGhpcy5rZXk9THUoZSx0LnosdC56LHQueCx0LnkpfX1jbGFzcyBEdXtjb25zdHJ1Y3RvcihlLHQsbixpLHIpe3RoaXMub3ZlcnNjYWxlZFo9ZSx0aGlzLndyYXA9dCx0aGlzLmNhbm9uaWNhbD1uZXcgUHUobiwraSwrciksdGhpcy5rZXk9MD09PXQmJmU9PT1uP3RoaXMuY2Fub25pY2FsLmtleTpMdSh0LGUsbixpLHIpfWVxdWFscyhlKXtyZXR1cm4gdGhpcy5vdmVyc2NhbGVkWj09PWUub3ZlcnNjYWxlZFomJnRoaXMud3JhcD09PWUud3JhcCYmdGhpcy5jYW5vbmljYWwuZXF1YWxzKGUuY2Fub25pY2FsKX1zY2FsZWRUbyhlKXtjb25zdCB0PXRoaXMuY2Fub25pY2FsLnotZTtyZXR1cm4gZT50aGlzLmNhbm9uaWNhbC56P25ldyBEdShlLHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSk6bmV3IER1KGUsdGhpcy53cmFwLGUsdGhpcy5jYW5vbmljYWwueD4+dCx0aGlzLmNhbm9uaWNhbC55Pj50KX1jYWxjdWxhdGVTY2FsZWRLZXkoZSx0PSEwKXtpZih0aGlzLm92ZXJzY2FsZWRaPT09ZSYmdClyZXR1cm4gdGhpcy5rZXk7aWYoZT50aGlzLmNhbm9uaWNhbC56KXJldHVybiBMdSh0aGlzLndyYXAqK3QsZSx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSk7e2NvbnN0IG49dGhpcy5jYW5vbmljYWwuei1lO3JldHVybiBMdSh0aGlzLndyYXAqK3QsZSxlLHRoaXMuY2Fub25pY2FsLng+Pm4sdGhpcy5jYW5vbmljYWwueT4+bil9fWlzQ2hpbGRPZihlKXtpZihlLndyYXAhPT10aGlzLndyYXApcmV0dXJuITE7Y29uc3QgdD10aGlzLmNhbm9uaWNhbC56LWUuY2Fub25pY2FsLno7cmV0dXJuIDA9PT1lLm92ZXJzY2FsZWRafHxlLm92ZXJzY2FsZWRaPHRoaXMub3ZlcnNjYWxlZFomJmUuY2Fub25pY2FsLng9PT10aGlzLmNhbm9uaWNhbC54Pj50JiZlLmNhbm9uaWNhbC55PT09dGhpcy5jYW5vbmljYWwueT4+dH1jaGlsZHJlbihlKXtpZih0aGlzLm92ZXJzY2FsZWRaPj1lKXJldHVybltuZXcgRHUodGhpcy5vdmVyc2NhbGVkWisxLHRoaXMud3JhcCx0aGlzLmNhbm9uaWNhbC56LHRoaXMuY2Fub25pY2FsLngsdGhpcy5jYW5vbmljYWwueSldO2NvbnN0IHQ9dGhpcy5jYW5vbmljYWwueisxLG49Mip0aGlzLmNhbm9uaWNhbC54LGk9Mip0aGlzLmNhbm9uaWNhbC55O3JldHVybltuZXcgRHUodCx0aGlzLndyYXAsdCxuLGkpLG5ldyBEdSh0LHRoaXMud3JhcCx0LG4rMSxpKSxuZXcgRHUodCx0aGlzLndyYXAsdCxuLGkrMSksbmV3IER1KHQsdGhpcy53cmFwLHQsbisxLGkrMSldfWlzTGVzc1RoYW4oZSl7cmV0dXJuIHRoaXMud3JhcDxlLndyYXB8fCEodGhpcy53cmFwPmUud3JhcCkmJih0aGlzLm92ZXJzY2FsZWRaPGUub3ZlcnNjYWxlZFp8fCEodGhpcy5vdmVyc2NhbGVkWj5lLm92ZXJzY2FsZWRaKSYmKHRoaXMuY2Fub25pY2FsLng8ZS5jYW5vbmljYWwueHx8ISh0aGlzLmNhbm9uaWNhbC54PmUuY2Fub25pY2FsLngpJiZ0aGlzLmNhbm9uaWNhbC55PGUuY2Fub25pY2FsLnkpKX13cmFwcGVkKCl7cmV0dXJuIG5ldyBEdSh0aGlzLm92ZXJzY2FsZWRaLDAsdGhpcy5jYW5vbmljYWwueix0aGlzLmNhbm9uaWNhbC54LHRoaXMuY2Fub25pY2FsLnkpfXVud3JhcFRvKGUpe3JldHVybiBuZXcgRHUodGhpcy5vdmVyc2NhbGVkWixlLHRoaXMuY2Fub25pY2FsLnosdGhpcy5jYW5vbmljYWwueCx0aGlzLmNhbm9uaWNhbC55KX1vdmVyc2NhbGVGYWN0b3IoKXtyZXR1cm4gTWF0aC5wb3coMix0aGlzLm92ZXJzY2FsZWRaLXRoaXMuY2Fub25pY2FsLnopfXRvVW53cmFwcGVkKCl7cmV0dXJuIG5ldyB6dSh0aGlzLndyYXAsdGhpcy5jYW5vbmljYWwpfXRvU3RyaW5nKCl7cmV0dXJuYCR7dGhpcy5vdmVyc2NhbGVkWn0vJHt0aGlzLmNhbm9uaWNhbC54fS8ke3RoaXMuY2Fub25pY2FsLnl9YH19ZnVuY3Rpb24gTHUoZSx0LG4saSxyKXtjb25zdCBvPTE8PE1hdGgubWluKG4sMjIpO2xldCBhPW8qKHIlbykraSVvO3JldHVybiBlJiZuPDIyJiYoYSs9bypvKigoZTwwPy0yKmUtMToyKmUpJSgxPDwyKigyMi1uKSkpKSwxNiooMzIqYStuKSsodC1uKX16cihQdSxcIkNhbm9uaWNhbFRpbGVJRFwiKSx6cihEdSxcIk92ZXJzY2FsZWRUaWxlSURcIix7b21pdDpbXCJwcm9qTWF0cml4XCJdfSk7Y2xhc3MgT3UgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihlLHQpLHRoaXMuej1ufX1mdW5jdGlvbiBSdShlLHQpe3JldHVybiBlLngqdC54K2UueSp0Lnl9ZnVuY3Rpb24gQnUoZSx0KXtpZigxPT09ZS5sZW5ndGgpe2xldCBuPTA7Y29uc3QgaT10W24rK107bGV0IHI7Zm9yKDshcnx8aS5lcXVhbHMocik7KWlmKHI9dFtuKytdLCFyKXJldHVybiAxLzA7Zm9yKDtuPHQubGVuZ3RoO24rKyl7Y29uc3Qgbz10W25dLGE9ZVswXSxzPXIuc3ViKGkpLGw9by5zdWIoaSksYz1hLnN1YihpKSx1PVJ1KHMscyksaD1SdShzLGwpLGQ9UnUobCxsKSxwPVJ1KGMscyksZj1SdShjLGwpLG09dSpkLWgqaCxnPShkKnAtaCpmKS9tLHk9KHUqZi1oKnApL20sXz1pLnoqKDEtZy15KStyLnoqZytvLnoqeTtpZihpc0Zpbml0ZShfKSlyZXR1cm4gX31yZXR1cm4gMS8wfXtsZXQgZT0xLzA7Zm9yKGNvbnN0IG4gb2YgdCllPU1hdGgubWluKGUsbi56KTtyZXR1cm4gZX19ZnVuY3Rpb24ganUoZSx0LG4saSxyLG8sYSxzKXtjb25zdCBsPWEqci5nZXRFbGV2YXRpb25BdChlLHQsITAsITApLGM9MCE9PW9bMF0sdT1jPzA9PT1vWzFdP2EqKG9bMF0vNy00NTApOmEqZnVuY3Rpb24oZSx0LG4pe2NvbnN0IGk9TWF0aC5mbG9vcih0WzBdLzgpLHI9TWF0aC5mbG9vcih0WzFdLzgpLG89MTAqKHRbMF0tOCppKSxhPTEwKih0WzFdLTgqcikscz1lLmdldEVsZXZhdGlvbkF0KGksciwhMCwhMCksbD1lLmdldE1ldGVyVG9ERU0obiksYz1NYXRoLmZsb29yKC41KihvKmwtMSkpLHU9TWF0aC5mbG9vciguNSooYSpsLTEpKSxoPWUudGlsZUNvb3JkVG9QaXhlbChpLHIpLGQ9MipjKzEscD0yKnUrMSxmPWZ1bmN0aW9uKGUsdCxuLGkscil7cmV0dXJuW2UuZ2V0RWxldmF0aW9uQXRQaXhlbCh0LG4sITApLGUuZ2V0RWxldmF0aW9uQXRQaXhlbCh0K3IsbiwhMCksZS5nZXRFbGV2YXRpb25BdFBpeGVsKHQsbityLCEwKSxlLmdldEVsZXZhdGlvbkF0UGl4ZWwodCtpLG4rciwhMCldfShlLGgueC1jLGgueS11LGQscCksbT1NYXRoLmFicyhmWzBdLWZbMV0pLGc9TWF0aC5hYnMoZlsyXS1mWzNdKSx5PU1hdGguYWJzKGZbMF0tZlsyXSkrTWF0aC5hYnMoZlsxXS1mWzNdKSxfPU1hdGgubWluKC4yNSwuNSpsKihtK2cpL2QpLHY9TWF0aC5taW4oLjI1LC41KmwqeS9wKTtyZXR1cm4gcytNYXRoLm1heChfKm8sdiphKX0ocixvLHMpOmw7cmV0dXJue2Jhc2U6bCsoMD09PW4pPy0xOm4sdG9wOmM/TWF0aC5tYXgodStpLGwrbisyKTpsK2l9fWNvbnN0IEZ1PUhvKFt7bmFtZTpcImFfcG9zX25vcm1hbFwiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2RhdGFcIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQ4XCJ9LHtuYW1lOlwiYV9saW5lc29mYXJcIixjb21wb25lbnRzOjEsdHlwZTpcIkZsb2F0MzJcIn1dLDQpLHttZW1iZXJzOk51fT1GdSxVdT1Ibyhbe25hbWU6XCJhX3BhY2tlZFwiLGNvbXBvbmVudHM6NCx0eXBlOlwiRmxvYXQzMlwifV0pLHttZW1iZXJzOlZ1fT1VdSxHdT1kdS50eXBlcyxadT1NYXRoLmNvcyhNYXRoLlBJLzE4MCozNy41KTtjbGFzcyBXdXtjb25zdHJ1Y3RvcihlKXt0aGlzLnpvb209ZS56b29tLHRoaXMub3ZlcnNjYWxpbmc9ZS5vdmVyc2NhbGluZyx0aGlzLmxheWVycz1lLmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcChlPT5lLmlkKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5wcm9qZWN0aW9uPWUucHJvamVjdGlvbix0aGlzLmhhc1BhdHRlcm49ITEsdGhpcy5wYXR0ZXJuRmVhdHVyZXM9W10sdGhpcy5saW5lQ2xpcHNBcnJheT1bXSx0aGlzLmdyYWRpZW50cz17fSx0aGlzLmxheWVycy5mb3JFYWNoKGU9Pnt0aGlzLmdyYWRpZW50c1tlLmlkXT17fX0pLHRoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IEtvLHRoaXMubGF5b3V0VmVydGV4QXJyYXkyPW5ldyBlYSx0aGlzLmluZGV4QXJyYXk9bmV3IGRhLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zPW5ldyBucyhlLmxheWVycyxlLnpvb20pLHRoaXMuc2VnbWVudHM9bmV3IGRzLHRoaXMubWF4TGluZUxlbmd0aD0wLHRoaXMuc3RhdGVEZXBlbmRlbnRMYXllcklkcz10aGlzLmxheWVycy5maWx0ZXIoZT0+ZS5pc1N0YXRlRGVwZW5kZW50KCkpLm1hcChlPT5lLmlkKX1wb3B1bGF0ZShlLHQsbixpKXt0aGlzLmhhc1BhdHRlcm49WmMoXCJsaW5lXCIsdGhpcy5sYXllcnMsdCk7Y29uc3Qgcj10aGlzLmxheWVyc1swXS5sYXlvdXQuZ2V0KFwibGluZS1zb3J0LWtleVwiKSxvPVtdO2Zvcihjb25zdHtmZWF0dXJlOnQsaWQ6YSxpbmRleDpzLHNvdXJjZUxheWVySW5kZXg6bH1vZiBlKXtjb25zdCBlPXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxjPVJzKHQsZSk7aWYoIXRoaXMubGF5ZXJzWzBdLl9mZWF0dXJlRmlsdGVyLmZpbHRlcihuZXcgUG8odGhpcy56b29tKSxjLG4pKWNvbnRpbnVlO2NvbnN0IHU9cj9yLmV2YWx1YXRlKGMse30sbik6dm9pZCAwLGg9e2lkOmEscHJvcGVydGllczp0LnByb3BlcnRpZXMsdHlwZTp0LnR5cGUsc291cmNlTGF5ZXJJbmRleDpsLGluZGV4OnMsZ2VvbWV0cnk6ZT9jLmdlb21ldHJ5Ok9zKHQsbixpKSxwYXR0ZXJuczp7fSxzb3J0S2V5OnV9O28ucHVzaChoKX1yJiZvLnNvcnQoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpO2NvbnN0e2xpbmVBdGxhczphLGZlYXR1cmVJbmRleDpzfT10LGw9dGhpcy5hZGRDb25zdGFudERhc2hlcyhhKTtmb3IoY29uc3QgaSBvZiBvKXtjb25zdHtnZW9tZXRyeTpyLGluZGV4Om8sc291cmNlTGF5ZXJJbmRleDpjfT1pO2lmKGwmJnRoaXMuYWRkRmVhdHVyZURhc2hlcyhpLGEpLHRoaXMuaGFzUGF0dGVybil7Y29uc3QgZT1XYyhcImxpbmVcIix0aGlzLmxheWVycyxpLHRoaXMuem9vbSx0KTt0aGlzLnBhdHRlcm5GZWF0dXJlcy5wdXNoKGUpfWVsc2UgdGhpcy5hZGRGZWF0dXJlKGkscixvLG4sYS5wb3NpdGlvbnMsdC5hdmFpbGFibGVJbWFnZXMpO3MuaW5zZXJ0KGVbb10uZmVhdHVyZSxyLG8sYyx0aGlzLmluZGV4KX19YWRkQ29uc3RhbnREYXNoZXMoZSl7bGV0IHQ9ITE7Zm9yKGNvbnN0IG4gb2YgdGhpcy5sYXllcnMpe2NvbnN0IGk9bi5wYWludC5nZXQoXCJsaW5lLWRhc2hhcnJheVwiKS52YWx1ZSxyPW4ubGF5b3V0LmdldChcImxpbmUtY2FwXCIpLnZhbHVlO2lmKFwiY29uc3RhbnRcIiE9PWkua2luZHx8XCJjb25zdGFudFwiIT09ci5raW5kKXQ9ITA7ZWxzZXtjb25zdCB0PXIudmFsdWUsbj1pLnZhbHVlO2lmKCFuKWNvbnRpbnVlO2UuYWRkRGFzaChuLHQpfX1yZXR1cm4gdH1hZGRGZWF0dXJlRGFzaGVzKGUsdCl7Y29uc3Qgbj10aGlzLnpvb207Zm9yKGNvbnN0IGkgb2YgdGhpcy5sYXllcnMpe2NvbnN0IHI9aS5wYWludC5nZXQoXCJsaW5lLWRhc2hhcnJheVwiKS52YWx1ZSxvPWkubGF5b3V0LmdldChcImxpbmUtY2FwXCIpLnZhbHVlO2lmKFwiY29uc3RhbnRcIj09PXIua2luZCYmXCJjb25zdGFudFwiPT09by5raW5kKWNvbnRpbnVlO2xldCBhLHM7aWYoXCJjb25zdGFudFwiPT09ci5raW5kKXtpZihhPXIudmFsdWUsIWEpY29udGludWV9ZWxzZSBhPXIuZXZhbHVhdGUoe3pvb206bn0sZSk7cz1cImNvbnN0YW50XCI9PT1vLmtpbmQ/by52YWx1ZTpvLmV2YWx1YXRlKHt6b29tOm59LGUpLHQuYWRkRGFzaChhLHMpLGUucGF0dGVybnNbaS5pZF09dC5nZXRLZXkoYSxzKX19dXBkYXRlKGUsdCxuLGkpe3RoaXMuc3RhdGVEZXBlbmRlbnRMYXllcnMubGVuZ3RoJiZ0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyhlLHQsdGhpcy5zdGF0ZURlcGVuZGVudExheWVycyxuLGkpfWFkZEZlYXR1cmVzKGUsdCxuLGkscil7Zm9yKGNvbnN0IGUgb2YgdGhpcy5wYXR0ZXJuRmVhdHVyZXMpdGhpcy5hZGRGZWF0dXJlKGUsZS5nZW9tZXRyeSxlLmluZGV4LHQsbixpKX1pc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aH11cGxvYWRQZW5kaW5nKCl7cmV0dXJuIXRoaXMudXBsb2FkZWR8fHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkfXVwbG9hZChlKXt0aGlzLnVwbG9hZGVkfHwoMCE9PXRoaXMubGF5b3V0VmVydGV4QXJyYXkyLmxlbmd0aCYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyMj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5MixWdSkpLHRoaXMubGF5b3V0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMubGF5b3V0VmVydGV4QXJyYXksTnUpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXkpKSx0aGlzLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGxvYWQoZSksdGhpcy51cGxvYWRlZD0hMH1kZXN0cm95KCl7dGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXImJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5pbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpKX1saW5lRmVhdHVyZUNsaXBzKGUpe2lmKGUucHJvcGVydGllcyYmZS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwibWFwYm94X2NsaXBfc3RhcnRcIikmJmUucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcIm1hcGJveF9jbGlwX2VuZFwiKSlyZXR1cm57c3RhcnQ6K2UucHJvcGVydGllcy5tYXBib3hfY2xpcF9zdGFydCxlbmQ6K2UucHJvcGVydGllcy5tYXBib3hfY2xpcF9lbmR9fWFkZEZlYXR1cmUoZSx0LG4saSxyLG8pe2NvbnN0IGE9dGhpcy5sYXllcnNbMF0ubGF5b3V0LHM9YS5nZXQoXCJsaW5lLWpvaW5cIikuZXZhbHVhdGUoZSx7fSksbD1hLmdldChcImxpbmUtY2FwXCIpLmV2YWx1YXRlKGUse30pLGM9YS5nZXQoXCJsaW5lLW1pdGVyLWxpbWl0XCIpLHU9YS5nZXQoXCJsaW5lLXJvdW5kLWxpbWl0XCIpO3RoaXMubGluZUNsaXBzPXRoaXMubGluZUZlYXR1cmVDbGlwcyhlKTtmb3IoY29uc3QgbiBvZiB0KXRoaXMuYWRkTGluZShuLGUscyxsLGMsdSk7dGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyh0aGlzLmxheW91dFZlcnRleEFycmF5Lmxlbmd0aCxlLG4scixvLGkpfWFkZExpbmUoZSx0LG4saSxyLG8pe2lmKHRoaXMuZGlzdGFuY2U9MCx0aGlzLnNjYWxlZERpc3RhbmNlPTAsdGhpcy50b3RhbERpc3RhbmNlPTAsdGhpcy5saW5lU29GYXI9MCx0aGlzLmxpbmVDbGlwcyl7dGhpcy5saW5lQ2xpcHNBcnJheS5wdXNoKHRoaXMubGluZUNsaXBzKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoLTE7dCsrKXRoaXMudG90YWxEaXN0YW5jZSs9ZVt0XS5kaXN0KGVbdCsxXSk7dGhpcy51cGRhdGVTY2FsZWREaXN0YW5jZSgpLHRoaXMubWF4TGluZUxlbmd0aD1NYXRoLm1heCh0aGlzLm1heExpbmVMZW5ndGgsdGhpcy50b3RhbERpc3RhbmNlKX1jb25zdCBhPVwiUG9seWdvblwiPT09R3VbdC50eXBlXTtsZXQgcz1lLmxlbmd0aDtmb3IoO3M+PTImJmVbcy0xXS5lcXVhbHMoZVtzLTJdKTspcy0tO2xldCBsPTA7Zm9yKDtsPHMtMSYmZVtsXS5lcXVhbHMoZVtsKzFdKTspbCsrO2lmKHM8KGE/MzoyKSlyZXR1cm47XCJiZXZlbFwiPT09biYmKHI9MS4wNSk7Y29uc3QgYz10aGlzLm92ZXJzY2FsaW5nPD0xNj8xMjI4ODAvKDUxMip0aGlzLm92ZXJzY2FsaW5nKTowLHU9dGhpcy5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCgxMCpzLHRoaXMubGF5b3V0VmVydGV4QXJyYXksdGhpcy5pbmRleEFycmF5KTtsZXQgaCxkLHAsZixtO3RoaXMuZTE9dGhpcy5lMj0tMSxhJiYoaD1lW3MtMl0sbT1lW2xdLnN1YihoKS5fdW5pdCgpLl9wZXJwKCkpO2ZvcihsZXQgdD1sO3Q8czt0Kyspe2lmKHA9dD09PXMtMT9hP2VbbCsxXTp2b2lkIDA6ZVt0KzFdLHAmJmVbdF0uZXF1YWxzKHApKWNvbnRpbnVlO20mJihmPW0pLGgmJihkPWgpLGg9ZVt0XSxtPXA/cC5zdWIoaCkuX3VuaXQoKS5fcGVycCgpOmYsZj1mfHxtO2xldCBnPWYuYWRkKG0pOzA9PT1nLngmJjA9PT1nLnl8fGcuX3VuaXQoKTtjb25zdCB5PWYueCptLngrZi55Km0ueSxfPWcueCptLngrZy55Km0ueSx2PTAhPT1fPzEvXzoxLzAseD0yKk1hdGguc3FydCgyLTIqXyksYj1fPFp1JiZkJiZwLHc9Zi54Km0ueS1mLnkqbS54PjA7aWYoYiYmdD5sKXtjb25zdCBlPWguZGlzdChkKTtpZihlPjIqYyl7Y29uc3QgdD1oLnN1YihoLnN1YihkKS5fbXVsdChjL2UpLl9yb3VuZCgpKTt0aGlzLnVwZGF0ZURpc3RhbmNlKGQsdCksdGhpcy5hZGRDdXJyZW50VmVydGV4KHQsZiwwLDAsdSksZD10fX1jb25zdCBUPWQmJnA7bGV0IEU9VD9uOmE/XCJidXR0XCI6aTtpZihUJiZcInJvdW5kXCI9PT1FJiYodjxvP0U9XCJtaXRlclwiOnY8PTImJihFPVwiZmFrZXJvdW5kXCIpKSxcIm1pdGVyXCI9PT1FJiZ2PnImJihFPVwiYmV2ZWxcIiksXCJiZXZlbFwiPT09RSYmKHY+MiYmKEU9XCJmbGlwYmV2ZWxcIiksdjxyJiYoRT1cIm1pdGVyXCIpKSxkJiZ0aGlzLnVwZGF0ZURpc3RhbmNlKGQsaCksXCJtaXRlclwiPT09RSlnLl9tdWx0KHYpLHRoaXMuYWRkQ3VycmVudFZlcnRleChoLGcsMCwwLHUpO2Vsc2UgaWYoXCJmbGlwYmV2ZWxcIj09PUUpe2lmKHY+MTAwKWc9bS5tdWx0KC0xKTtlbHNle2NvbnN0IGU9dipmLmFkZChtKS5tYWcoKS9mLnN1YihtKS5tYWcoKTtnLl9wZXJwKCkuX211bHQoZSoodz8tMToxKSl9dGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZywwLDAsdSksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZy5tdWx0KC0xKSwwLDAsdSl9ZWxzZSBpZihcImJldmVsXCI9PT1FfHxcImZha2Vyb3VuZFwiPT09RSl7Y29uc3QgZT0tTWF0aC5zcXJ0KHYqdi0xKSx0PXc/ZTowLG49dz8wOmU7aWYoZCYmdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsZix0LG4sdSksXCJmYWtlcm91bmRcIj09PUUpe2NvbnN0IGU9TWF0aC5yb3VuZCgxODAqeC9NYXRoLlBJLzIwKTtmb3IobGV0IHQ9MTt0PGU7dCsrKXtsZXQgbj10L2U7aWYoLjUhPT1uKXtjb25zdCBlPW4tLjU7bis9biplKihuLTEpKigoMS4wOTA0K3kqKHkqKDMuNTU2NDUtMS40MzUxOSp5KS0zLjI0NTIpKSplKmUrKC44NDgwMTMreSooLjIxNTYzOCp5LTEuMDYwMjEpKSl9Y29uc3QgaT1tLnN1YihmKS5fbXVsdChuKS5fYWRkKGYpLl91bml0KCkuX211bHQodz8tMToxKTt0aGlzLmFkZEhhbGZWZXJ0ZXgoaCxpLngsaS55LCExLHcsMCx1KX19cCYmdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSwtdCwtbix1KX1lbHNlIGlmKFwiYnV0dFwiPT09RSl0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxnLDAsMCx1KTtlbHNlIGlmKFwic3F1YXJlXCI9PT1FKXtjb25zdCBlPWQ/MTotMTtkfHx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxnLGUsZSx1KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxnLDAsMCx1KSxkJiZ0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxnLGUsZSx1KX1lbHNlXCJyb3VuZFwiPT09RSYmKGQmJih0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxmLDAsMCx1KSx0aGlzLmFkZEN1cnJlbnRWZXJ0ZXgoaCxmLDEsMSx1LCEwKSkscCYmKHRoaXMuYWRkQ3VycmVudFZlcnRleChoLG0sLTEsLTEsdSwhMCksdGhpcy5hZGRDdXJyZW50VmVydGV4KGgsbSwwLDAsdSkpKTtpZihiJiZ0PHMtMSl7Y29uc3QgZT1oLmRpc3QocCk7aWYoZT4yKmMpe2NvbnN0IHQ9aC5hZGQocC5zdWIoaCkuX211bHQoYy9lKS5fcm91bmQoKSk7dGhpcy51cGRhdGVEaXN0YW5jZShoLHQpLHRoaXMuYWRkQ3VycmVudFZlcnRleCh0LG0sMCwwLHUpLGg9dH19fX1hZGRDdXJyZW50VmVydGV4KGUsdCxuLGkscixvPSExKXtjb25zdCBhPXQueSppLXQueCxzPS10LnktdC54Kmk7dGhpcy5hZGRIYWxmVmVydGV4KGUsdC54K3QueSpuLHQueS10LngqbixvLCExLG4sciksdGhpcy5hZGRIYWxmVmVydGV4KGUsYSxzLG8sITAsLWkscil9YWRkSGFsZlZlcnRleCh7eDplLHk6dH0sbixpLHIsbyxhLHMpe3RoaXMubGF5b3V0VmVydGV4QXJyYXkuZW1wbGFjZUJhY2soKGU8PDEpKyhyPzE6MCksKHQ8PDEpKyhvPzE6MCksTWF0aC5yb3VuZCg2MypuKSsxMjgsTWF0aC5yb3VuZCg2MyppKSsxMjgsMSsoMD09PWE/MDphPDA/LTE6MSksMCx0aGlzLmxpbmVTb0ZhciksdGhpcy5saW5lQ2xpcHMmJnRoaXMubGF5b3V0VmVydGV4QXJyYXkyLmVtcGxhY2VCYWNrKHRoaXMuc2NhbGVkRGlzdGFuY2UsdGhpcy5saW5lQ2xpcHNBcnJheS5sZW5ndGgsdGhpcy5saW5lQ2xpcHMuc3RhcnQsdGhpcy5saW5lQ2xpcHMuZW5kKTtjb25zdCBsPXMudmVydGV4TGVuZ3RoKys7dGhpcy5lMT49MCYmdGhpcy5lMj49MCYmKHRoaXMuaW5kZXhBcnJheS5lbXBsYWNlQmFjayh0aGlzLmUxLHRoaXMuZTIsbCkscy5wcmltaXRpdmVMZW5ndGgrKyksbz90aGlzLmUyPWw6dGhpcy5lMT1sfXVwZGF0ZVNjYWxlZERpc3RhbmNlKCl7aWYodGhpcy5saW5lQ2xpcHMpe2NvbnN0IGU9dGhpcy50b3RhbERpc3RhbmNlLyh0aGlzLmxpbmVDbGlwcy5lbmQtdGhpcy5saW5lQ2xpcHMuc3RhcnQpO3RoaXMuc2NhbGVkRGlzdGFuY2U9dGhpcy5kaXN0YW5jZS90aGlzLnRvdGFsRGlzdGFuY2UsdGhpcy5saW5lU29GYXI9ZSp0aGlzLmxpbmVDbGlwcy5zdGFydCt0aGlzLmRpc3RhbmNlfWVsc2UgdGhpcy5saW5lU29GYXI9dGhpcy5kaXN0YW5jZX11cGRhdGVEaXN0YW5jZShlLHQpe3RoaXMuZGlzdGFuY2UrPWUuZGlzdCh0KSx0aGlzLnVwZGF0ZVNjYWxlZERpc3RhbmNlKCl9fXpyKFd1LFwiTGluZUJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwicGF0dGVybkZlYXR1cmVzXCJdfSk7Y29uc3QgcXU9bmV3IEdvKHtcImxpbmUtY2FwXCI6bmV3IFVvKEplLmxheW91dF9saW5lW1wibGluZS1jYXBcIl0pLFwibGluZS1qb2luXCI6bmV3IFVvKEplLmxheW91dF9saW5lW1wibGluZS1qb2luXCJdKSxcImxpbmUtbWl0ZXItbGltaXRcIjpuZXcgTm8oSmUubGF5b3V0X2xpbmVbXCJsaW5lLW1pdGVyLWxpbWl0XCJdKSxcImxpbmUtcm91bmQtbGltaXRcIjpuZXcgTm8oSmUubGF5b3V0X2xpbmVbXCJsaW5lLXJvdW5kLWxpbWl0XCJdKSxcImxpbmUtc29ydC1rZXlcIjpuZXcgVW8oSmUubGF5b3V0X2xpbmVbXCJsaW5lLXNvcnQta2V5XCJdKX0pO3ZhciAkdT17cGFpbnQ6bmV3IEdvKHtcImxpbmUtb3BhY2l0eVwiOm5ldyBVbyhKZS5wYWludF9saW5lW1wibGluZS1vcGFjaXR5XCJdKSxcImxpbmUtY29sb3JcIjpuZXcgVW8oSmUucGFpbnRfbGluZVtcImxpbmUtY29sb3JcIl0pLFwibGluZS10cmFuc2xhdGVcIjpuZXcgTm8oSmUucGFpbnRfbGluZVtcImxpbmUtdHJhbnNsYXRlXCJdKSxcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBObyhKZS5wYWludF9saW5lW1wibGluZS10cmFuc2xhdGUtYW5jaG9yXCJdKSxcImxpbmUtd2lkdGhcIjpuZXcgVW8oSmUucGFpbnRfbGluZVtcImxpbmUtd2lkdGhcIl0pLFwibGluZS1nYXAtd2lkdGhcIjpuZXcgVW8oSmUucGFpbnRfbGluZVtcImxpbmUtZ2FwLXdpZHRoXCJdKSxcImxpbmUtb2Zmc2V0XCI6bmV3IFVvKEplLnBhaW50X2xpbmVbXCJsaW5lLW9mZnNldFwiXSksXCJsaW5lLWJsdXJcIjpuZXcgVW8oSmUucGFpbnRfbGluZVtcImxpbmUtYmx1clwiXSksXCJsaW5lLWRhc2hhcnJheVwiOm5ldyBVbyhKZS5wYWludF9saW5lW1wibGluZS1kYXNoYXJyYXlcIl0pLFwibGluZS1wYXR0ZXJuXCI6bmV3IFVvKEplLnBhaW50X2xpbmVbXCJsaW5lLXBhdHRlcm5cIl0pLFwibGluZS1ncmFkaWVudFwiOm5ldyBWbyhKZS5wYWludF9saW5lW1wibGluZS1ncmFkaWVudFwiXSksXCJsaW5lLXRyaW0tb2Zmc2V0XCI6bmV3IE5vKEplLnBhaW50X2xpbmVbXCJsaW5lLXRyaW0tb2Zmc2V0XCJdKX0pLGxheW91dDpxdX07Y29uc3QgSHU9bmV3IGNsYXNzIGV4dGVuZHMgVW97cG9zc2libHlFdmFsdWF0ZShlLHQpe3JldHVybiB0PW5ldyBQbyhNYXRoLmZsb29yKHQuem9vbSkse25vdzp0Lm5vdyxmYWRlRHVyYXRpb246dC5mYWRlRHVyYXRpb24sdHJhbnNpdGlvbjp0LnRyYW5zaXRpb259KSxzdXBlci5wb3NzaWJseUV2YWx1YXRlKGUsdCl9ZXZhbHVhdGUoZSx0LG4saSl7cmV0dXJuIHQ9QSh7fSx0LHt6b29tOk1hdGguZmxvb3IodC56b29tKX0pLHN1cGVyLmV2YWx1YXRlKGUsdCxuLGkpfX0oJHUucGFpbnQucHJvcGVydGllc1tcImxpbmUtd2lkdGhcIl0uc3BlY2lmaWNhdGlvbik7ZnVuY3Rpb24gWHUoZSx0KXtyZXR1cm4gdD4wP3QrMiplOmV9SHUudXNlSW50ZWdlclpvb209ITA7Y29uc3QgWXU9SG8oW3tuYW1lOlwiYV9wb3Nfb2Zmc2V0XCIsY29tcG9uZW50czo0LHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfdGV4X3NpemVcIixjb21wb25lbnRzOjQsdHlwZTpcIlVpbnQxNlwifSx7bmFtZTpcImFfcGl4ZWxvZmZzZXRcIixjb21wb25lbnRzOjQsdHlwZTpcIkludDE2XCJ9XSw0KSxKdT1Ibyhbe25hbWU6XCJhX2dsb2JlX2FuY2hvclwiLGNvbXBvbmVudHM6Myx0eXBlOlwiSW50MTZcIn0se25hbWU6XCJhX2dsb2JlX25vcm1hbFwiLGNvbXBvbmVudHM6Myx0eXBlOlwiRmxvYXQzMlwifV0sNCksUXU9SG8oW3tuYW1lOlwiYV9wcm9qZWN0ZWRfcG9zXCIsY29tcG9uZW50czo0LHR5cGU6XCJGbG9hdDMyXCJ9XSw0KTtIbyhbe25hbWU6XCJhX2ZhZGVfb3BhY2l0eVwiLGNvbXBvbmVudHM6MSx0eXBlOlwiVWludDMyXCJ9XSw0KTtjb25zdCBLdT1Ibyhbe25hbWU6XCJhX3BsYWNlZFwiLGNvbXBvbmVudHM6Mix0eXBlOlwiVWludDhcIn0se25hbWU6XCJhX3NoaWZ0XCIsY29tcG9uZW50czoyLHR5cGU6XCJGbG9hdDMyXCJ9XSksZWg9SG8oW3tuYW1lOlwiYV9zaXplX3NjYWxlXCIsY29tcG9uZW50czoxLHR5cGU6XCJGbG9hdDMyXCJ9LHtuYW1lOlwiYV9wYWRkaW5nXCIsY29tcG9uZW50czoyLHR5cGU6XCJGbG9hdDMyXCJ9XSk7SG8oW3t0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvcllcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JaXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidGlsZUFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ0aWxlQW5jaG9yWVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieDFcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInkxXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ4MlwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwieTJcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwYWRkaW5nXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImZlYXR1cmVJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJzb3VyY2VMYXllckluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImJ1Y2tldEluZGV4XCJ9XSk7Y29uc3QgdGg9SG8oW3tuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9LHtuYW1lOlwiYV9hbmNob3JfcG9zXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifSx7bmFtZTpcImFfZXh0cnVkZVwiLGNvbXBvbmVudHM6Mix0eXBlOlwiSW50MTZcIn1dLDQpLG5oPUhvKFt7bmFtZTpcImFfcG9zXzJmXCIsY29tcG9uZW50czoyLHR5cGU6XCJGbG9hdDMyXCJ9LHtuYW1lOlwiYV9yYWRpdXNcIixjb21wb25lbnRzOjEsdHlwZTpcIkZsb2F0MzJcIn0se25hbWU6XCJhX2ZsYWdzXCIsY29tcG9uZW50czoyLHR5cGU6XCJJbnQxNlwifV0sNCk7SG8oW3tuYW1lOlwidHJpYW5nbGVcIixjb21wb25lbnRzOjMsdHlwZTpcIlVpbnQxNlwifV0pLEhvKFt7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclhcIn0se3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JZXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWlwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwidGlsZUFuY2hvclhcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JZXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImdseXBoU3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1HbHlwaHNcIn0se3R5cGU6XCJVaW50MzJcIixuYW1lOlwidmVydGV4U3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJsaW5lU3RhcnRJbmRleFwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJsaW5lTGVuZ3RoXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInNlZ21lbnRcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibG93ZXJTaXplXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInVwcGVyU2l6ZVwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwibGluZU9mZnNldFhcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImxpbmVPZmZzZXRZXCJ9LHt0eXBlOlwiVWludDhcIixuYW1lOlwid3JpdGluZ01vZGVcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJwbGFjZWRPcmllbnRhdGlvblwifSx7dHlwZTpcIlVpbnQ4XCIsbmFtZTpcImhpZGRlblwifSx7dHlwZTpcIlVpbnQzMlwiLG5hbWU6XCJjcm9zc1RpbGVJRFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcImFzc29jaWF0ZWRJY29uSW5kZXhcIn0se3R5cGU6XCJVaW50OFwiLG5hbWU6XCJmbGlwU3RhdGVcIn1dKSxIbyhbe3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJwcm9qZWN0ZWRBbmNob3JYXCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicHJvamVjdGVkQW5jaG9yWVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInByb2plY3RlZEFuY2hvclpcIn0se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcInRpbGVBbmNob3JYXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJ0aWxlQW5jaG9yWVwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwiY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwibGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleFwifSx7dHlwZTpcIkludDE2XCIsbmFtZTpcInZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwicGxhY2VkSWNvblN5bWJvbEluZGV4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwidmVydGljYWxQbGFjZWRJY29uU3ltYm9sSW5kZXhcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwia2V5XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInRleHRCb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInRleHRCb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbFRleHRCb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsVGV4dEJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImljb25Cb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImljb25Cb3hFbmRJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJ2ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInZlcnRpY2FsSWNvbkJveEVuZEluZGV4XCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcImZlYXR1cmVJbmRleFwifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1Ib3Jpem9udGFsR2x5cGhWZXJ0aWNlc1wifSx7dHlwZTpcIlVpbnQxNlwiLG5hbWU6XCJudW1WZXJ0aWNhbEdseXBoVmVydGljZXNcIn0se3R5cGU6XCJVaW50MTZcIixuYW1lOlwibnVtSWNvblZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcIm51bVZlcnRpY2FsSWNvblZlcnRpY2VzXCJ9LHt0eXBlOlwiVWludDE2XCIsbmFtZTpcInVzZVJ1bnRpbWVDb2xsaXNpb25DaXJjbGVzXCJ9LHt0eXBlOlwiVWludDMyXCIsbmFtZTpcImNyb3NzVGlsZUlEXCJ9LHt0eXBlOlwiRmxvYXQzMlwiLGNvbXBvbmVudHM6MixuYW1lOlwidGV4dE9mZnNldFwifSx7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiY29sbGlzaW9uQ2lyY2xlRGlhbWV0ZXJcIn1dKSxIbyhbe3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcIm9mZnNldFhcIn1dKSxIbyhbe3R5cGU6XCJJbnQxNlwiLG5hbWU6XCJ4XCJ9LHt0eXBlOlwiSW50MTZcIixuYW1lOlwieVwifV0pO2NvbnN0IGloPTEyODtmdW5jdGlvbiByaChlLHQpe2NvbnN0e2V4cHJlc3Npb246bn09dDtpZihcImNvbnN0YW50XCI9PT1uLmtpbmQpcmV0dXJue2tpbmQ6XCJjb25zdGFudFwiLGxheW91dFNpemU6bi5ldmFsdWF0ZShuZXcgUG8oZSsxKSl9O2lmKFwic291cmNlXCI9PT1uLmtpbmQpcmV0dXJue2tpbmQ6XCJzb3VyY2VcIn07e2NvbnN0e3pvb21TdG9wczp0LGludGVycG9sYXRpb25UeXBlOml9PW47bGV0IHI9MDtmb3IoO3I8dC5sZW5ndGgmJnRbcl08PWU7KXIrKztyPU1hdGgubWF4KDAsci0xKTtsZXQgbz1yO2Zvcig7bzx0Lmxlbmd0aCYmdFtvXTxlKzE7KW8rKztvPU1hdGgubWluKHQubGVuZ3RoLTEsbyk7Y29uc3QgYT10W3JdLHM9dFtvXTtyZXR1cm5cImNvbXBvc2l0ZVwiPT09bi5raW5kP3traW5kOlwiY29tcG9zaXRlXCIsbWluWm9vbTphLG1heFpvb206cyxpbnRlcnBvbGF0aW9uVHlwZTppfTp7a2luZDpcImNhbWVyYVwiLG1pblpvb206YSxtYXhab29tOnMsbWluU2l6ZTpuLmV2YWx1YXRlKG5ldyBQbyhhKSksbWF4U2l6ZTpuLmV2YWx1YXRlKG5ldyBQbyhzKSksaW50ZXJwb2xhdGlvblR5cGU6aX19fWZ1bmN0aW9uIG9oKGUse3VTaXplOnQsdVNpemVUOm59LHtsb3dlclNpemU6aSx1cHBlclNpemU6cn0pe3JldHVyblwic291cmNlXCI9PT1lLmtpbmQ/aS9paDpcImNvbXBvc2l0ZVwiPT09ZS5raW5kP0NuKGkvaWgsci9paCxuKTp0fWZ1bmN0aW9uIGFoKGUsdCl7bGV0IG49MCxpPTA7aWYoXCJjb25zdGFudFwiPT09ZS5raW5kKWk9ZS5sYXlvdXRTaXplO2Vsc2UgaWYoXCJzb3VyY2VcIiE9PWUua2luZCl7Y29uc3R7aW50ZXJwb2xhdGlvblR5cGU6cixtaW5ab29tOm8sbWF4Wm9vbTphfT1lLHM9cj9TKFduLmludGVycG9sYXRpb25GYWN0b3Iocix0LG8sYSksMCwxKTowO1wiY2FtZXJhXCI9PT1lLmtpbmQ/aT1DbihlLm1pblNpemUsZS5tYXhTaXplLHMpOm49c31yZXR1cm57dVNpemVUOm4sdVNpemU6aX19dmFyIHNoPU9iamVjdC5mcmVlemUoe19fcHJvdG9fXzpudWxsLGdldFNpemVEYXRhOnJoLGV2YWx1YXRlU2l6ZUZvckZlYXR1cmU6b2gsZXZhbHVhdGVTaXplRm9yWm9vbTphaCxTSVpFX1BBQ0tfRkFDVE9SOmlofSk7ZnVuY3Rpb24gbGgoZSx0LG4pe3JldHVybiBlLnNlY3Rpb25zLmZvckVhY2goZT0+e2UudGV4dD1mdW5jdGlvbihlLHQsbil7Y29uc3QgaT10LmxheW91dC5nZXQoXCJ0ZXh0LXRyYW5zZm9ybVwiKS5ldmFsdWF0ZShuLHt9KTtyZXR1cm5cInVwcGVyY2FzZVwiPT09aT9lPWUudG9Mb2NhbGVVcHBlckNhc2UoKTpcImxvd2VyY2FzZVwiPT09aSYmKGU9ZS50b0xvY2FsZUxvd2VyQ2FzZSgpKSxBby5hcHBseUFyYWJpY1NoYXBpbmcmJihlPUFvLmFwcGx5QXJhYmljU2hhcGluZyhlKSksZX0oZS50ZXh0LHQsbil9KSxlfWNvbnN0IGNoPXtcIiFcIjpcIu+4lVwiLFwiI1wiOlwi77yDXCIsJDpcIu+8hFwiLFwiJVwiOlwi77yFXCIsXCImXCI6XCLvvIZcIixcIihcIjpcIu+4tVwiLFwiKVwiOlwi77i2XCIsXCIqXCI6XCLvvIpcIixcIitcIjpcIu+8i1wiLFwiLFwiOlwi77iQXCIsXCItXCI6XCLvuLJcIixcIi5cIjpcIuODu1wiLFwiL1wiOlwi77yPXCIsXCI6XCI6XCLvuJNcIixcIjtcIjpcIu+4lFwiLFwiPFwiOlwi77i/XCIsXCI9XCI6XCLvvJ1cIixcIj5cIjpcIu+5gFwiLFwiP1wiOlwi77iWXCIsXCJAXCI6XCLvvKBcIixcIltcIjpcIu+5h1wiLFwiXFxcXFwiOlwi77y8XCIsXCJdXCI6XCLvuYhcIixcIl5cIjpcIu+8vlwiLF86XCLvuLNcIixcImBcIjpcIu+9gFwiLFwie1wiOlwi77i3XCIsXCJ8XCI6XCLigJVcIixcIn1cIjpcIu+4uFwiLFwiflwiOlwi772eXCIsXCLColwiOlwi77+gXCIsXCLCo1wiOlwi77+hXCIsXCLCpVwiOlwi77+lXCIsXCLCplwiOlwi77+kXCIsXCLCrFwiOlwi77+iXCIsXCLCr1wiOlwi77+jXCIsXCLigJNcIjpcIu+4slwiLFwi4oCUXCI6XCLvuLFcIixcIuKAmFwiOlwi77mDXCIsXCLigJlcIjpcIu+5hFwiLFwi4oCcXCI6XCLvuYFcIixcIuKAnVwiOlwi77mCXCIsXCLigKZcIjpcIu+4mVwiLFwi4oCnXCI6XCLjg7tcIixcIuKCqVwiOlwi77+mXCIsXCLjgIFcIjpcIu+4kVwiLFwi44CCXCI6XCLvuJJcIixcIuOAiFwiOlwi77i/XCIsXCLjgIlcIjpcIu+5gFwiLFwi44CKXCI6XCLvuL1cIixcIuOAi1wiOlwi77i+XCIsXCLjgIxcIjpcIu+5gVwiLFwi44CNXCI6XCLvuYJcIixcIuOAjlwiOlwi77mDXCIsXCLjgI9cIjpcIu+5hFwiLFwi44CQXCI6XCLvuLtcIixcIuOAkVwiOlwi77i8XCIsXCLjgJRcIjpcIu+4uVwiLFwi44CVXCI6XCLvuLpcIixcIuOAllwiOlwi77iXXCIsXCLjgJdcIjpcIu+4mFwiLFwi77yBXCI6XCLvuJVcIixcIu+8iFwiOlwi77i1XCIsXCLvvIlcIjpcIu+4tlwiLFwi77yMXCI6XCLvuJBcIixcIu+8jVwiOlwi77iyXCIsXCLvvI5cIjpcIuODu1wiLFwi77yaXCI6XCLvuJNcIixcIu+8m1wiOlwi77iUXCIsXCLvvJxcIjpcIu+4v1wiLFwi77yeXCI6XCLvuYBcIixcIu+8n1wiOlwi77iWXCIsXCLvvLtcIjpcIu+5h1wiLFwi77y9XCI6XCLvuYhcIixcIu+8v1wiOlwi77izXCIsXCLvvZtcIjpcIu+4t1wiLFwi772cXCI6XCLigJVcIixcIu+9nVwiOlwi77i4XCIsXCLvvZ9cIjpcIu+4tVwiLFwi772gXCI6XCLvuLZcIixcIu+9oVwiOlwi77iSXCIsXCLvvaJcIjpcIu+5gVwiLFwi772jXCI6XCLvuYJcIn07ZnVuY3Rpb24gdWgoZSl7cmV0dXJuXCLvuLZcIj09PWV8fFwi77mIXCI9PT1lfHxcIu+4uFwiPT09ZXx8XCLvuYRcIj09PWV8fFwi77mCXCI9PT1lfHxcIu+4vlwiPT09ZXx8XCLvuLxcIj09PWV8fFwi77i6XCI9PT1lfHxcIu+4mFwiPT09ZXx8XCLvuYBcIj09PWV8fFwi77iQXCI9PT1lfHxcIu+4k1wiPT09ZXx8XCLvuJRcIj09PWV8fFwi772AXCI9PT1lfHxcIu+/o1wiPT09ZXx8XCLvuJFcIj09PWV8fFwi77iSXCI9PT1lfWZ1bmN0aW9uIGhoKGUpe3JldHVyblwi77i1XCI9PT1lfHxcIu+5h1wiPT09ZXx8XCLvuLdcIj09PWV8fFwi77mDXCI9PT1lfHxcIu+5gVwiPT09ZXx8XCLvuL1cIj09PWV8fFwi77i7XCI9PT1lfHxcIu+4uVwiPT09ZXx8XCLvuJdcIj09PWV8fFwi77i/XCI9PT1lfXZhciBkaD1taCxwaD1mdW5jdGlvbihlLHQsbixpLHIpe3ZhciBvLGEscz04KnItaS0xLGw9KDE8PHMpLTEsYz1sPj4xLHU9LTcsaD1uP3ItMTowLGQ9bj8tMToxLHA9ZVt0K2hdO2ZvcihoKz1kLG89cCYoMTw8LXUpLTEscD4+PS11LHUrPXM7dT4wO289MjU2Km8rZVt0K2hdLGgrPWQsdS09OCk7Zm9yKGE9byYoMTw8LXUpLTEsbz4+PS11LHUrPWk7dT4wO2E9MjU2KmErZVt0K2hdLGgrPWQsdS09OCk7aWYoMD09PW8pbz0xLWM7ZWxzZXtpZihvPT09bClyZXR1cm4gYT9OYU46MS8wKihwPy0xOjEpO2ErPU1hdGgucG93KDIsaSksby09Y31yZXR1cm4ocD8tMToxKSphKk1hdGgucG93KDIsby1pKX0sZmg9ZnVuY3Rpb24oZSx0LG4saSxyLG8pe3ZhciBhLHMsbCxjPTgqby1yLTEsdT0oMTw8YyktMSxoPXU+PjEsZD0yMz09PXI/TWF0aC5wb3coMiwtMjQpLU1hdGgucG93KDIsLTc3KTowLHA9aT8wOm8tMSxmPWk/MTotMSxtPXQ8MHx8MD09PXQmJjEvdDwwPzE6MDtmb3IodD1NYXRoLmFicyh0KSxpc05hTih0KXx8dD09PTEvMD8ocz1pc05hTih0KT8xOjAsYT11KTooYT1NYXRoLmZsb29yKE1hdGgubG9nKHQpL01hdGguTE4yKSx0KihsPU1hdGgucG93KDIsLWEpKTwxJiYoYS0tLGwqPTIpLCh0Kz1hK2g+PTE/ZC9sOmQqTWF0aC5wb3coMiwxLWgpKSpsPj0yJiYoYSsrLGwvPTIpLGEraD49dT8ocz0wLGE9dSk6YStoPj0xPyhzPSh0KmwtMSkqTWF0aC5wb3coMixyKSxhKz1oKToocz10Kk1hdGgucG93KDIsaC0xKSpNYXRoLnBvdygyLHIpLGE9MCkpO3I+PTg7ZVtuK3BdPTI1NSZzLHArPWYscy89MjU2LHItPTgpO2ZvcihhPWE8PHJ8cyxjKz1yO2M+MDtlW24rcF09MjU1JmEscCs9ZixhLz0yNTYsYy09OCk7ZVtuK3AtZl18PTEyOCptfTtmdW5jdGlvbiBtaChlKXt0aGlzLmJ1Zj1BcnJheUJ1ZmZlci5pc1ZpZXcmJkFycmF5QnVmZmVyLmlzVmlldyhlKT9lOm5ldyBVaW50OEFycmF5KGV8fDApLHRoaXMucG9zPTAsdGhpcy50eXBlPTAsdGhpcy5sZW5ndGg9dGhpcy5idWYubGVuZ3RofW1oLlZhcmludD0wLG1oLkZpeGVkNjQ9MSxtaC5CeXRlcz0yLG1oLkZpeGVkMzI9NTt2YXIgZ2g9NDI5NDk2NzI5Nix5aD0xL2doLF9oPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBUZXh0RGVjb2Rlcj9udWxsOm5ldyBUZXh0RGVjb2RlcihcInV0ZjhcIik7ZnVuY3Rpb24gdmgoZSl7cmV0dXJuIGUudHlwZT09PW1oLkJ5dGVzP2UucmVhZFZhcmludCgpK2UucG9zOmUucG9zKzF9ZnVuY3Rpb24geGgoZSx0LG4pe3JldHVybiBuPzQyOTQ5NjcyOTYqdCsoZT4+PjApOjQyOTQ5NjcyOTYqKHQ+Pj4wKSsoZT4+PjApfWZ1bmN0aW9uIGJoKGUsdCxuKXt2YXIgaT10PD0xNjM4Mz8xOnQ8PTIwOTcxNTE/Mjp0PD0yNjg0MzU0NTU/MzpNYXRoLmZsb29yKE1hdGgubG9nKHQpLyg3Kk1hdGguTE4yKSk7bi5yZWFsbG9jKGkpO2Zvcih2YXIgcj1uLnBvcy0xO3I+PWU7ci0tKW4uYnVmW3IraV09bi5idWZbcl19ZnVuY3Rpb24gd2goZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LndyaXRlVmFyaW50KGVbbl0pfWZ1bmN0aW9uIFRoKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC53cml0ZVNWYXJpbnQoZVtuXSl9ZnVuY3Rpb24gRWgoZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LndyaXRlRmxvYXQoZVtuXSl9ZnVuY3Rpb24gU2goZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LndyaXRlRG91YmxlKGVbbl0pfWZ1bmN0aW9uIE1oKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC53cml0ZUJvb2xlYW4oZVtuXSl9ZnVuY3Rpb24gSWgoZSx0KXtmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl0LndyaXRlRml4ZWQzMihlW25dKX1mdW5jdGlvbiBDaChlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQud3JpdGVTRml4ZWQzMihlW25dKX1mdW5jdGlvbiBraChlLHQpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXQud3JpdGVGaXhlZDY0KGVbbl0pfWZ1bmN0aW9uIEFoKGUsdCl7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspdC53cml0ZVNGaXhlZDY0KGVbbl0pfWZ1bmN0aW9uIFBoKGUsdCl7cmV0dXJuKGVbdF18ZVt0KzFdPDw4fGVbdCsyXTw8MTYpKzE2Nzc3MjE2KmVbdCszXX1mdW5jdGlvbiB6aChlLHQsbil7ZVtuXT10LGVbbisxXT10Pj4+OCxlW24rMl09dD4+PjE2LGVbbiszXT10Pj4+MjR9ZnVuY3Rpb24gRGgoZSx0KXtyZXR1cm4oZVt0XXxlW3QrMV08PDh8ZVt0KzJdPDwxNikrKGVbdCszXTw8MjQpfWZ1bmN0aW9uIExoKGUsdCxuKXt0LmdseXBocz1bXSwxPT09ZSYmbi5yZWFkTWVzc2FnZShPaCx0KX1mdW5jdGlvbiBPaChlLHQsbil7aWYoMz09PWUpe2NvbnN0e2lkOmUsYml0bWFwOmksd2lkdGg6cixoZWlnaHQ6byxsZWZ0OmEsdG9wOnMsYWR2YW5jZTpsfT1uLnJlYWRNZXNzYWdlKFJoLHt9KTt0LmdseXBocy5wdXNoKHtpZDplLGJpdG1hcDpuZXcgb2Moe3dpZHRoOnIrNixoZWlnaHQ6bys2fSxpKSxtZXRyaWNzOnt3aWR0aDpyLGhlaWdodDpvLGxlZnQ6YSx0b3A6cyxhZHZhbmNlOmx9fSl9ZWxzZSA0PT09ZT90LmFzY2VuZGVyPW4ucmVhZFNWYXJpbnQoKTo1PT09ZSYmKHQuZGVzY2VuZGVyPW4ucmVhZFNWYXJpbnQoKSl9ZnVuY3Rpb24gUmgoZSx0LG4pezE9PT1lP3QuaWQ9bi5yZWFkVmFyaW50KCk6Mj09PWU/dC5iaXRtYXA9bi5yZWFkQnl0ZXMoKTozPT09ZT90LndpZHRoPW4ucmVhZFZhcmludCgpOjQ9PT1lP3QuaGVpZ2h0PW4ucmVhZFZhcmludCgpOjU9PT1lP3QubGVmdD1uLnJlYWRTVmFyaW50KCk6Nj09PWU/dC50b3A9bi5yZWFkU1ZhcmludCgpOjc9PT1lJiYodC5hZHZhbmNlPW4ucmVhZFZhcmludCgpKX1mdW5jdGlvbiBCaChlKXtsZXQgdD0wLG49MDtmb3IoY29uc3QgaSBvZiBlKXQrPWkudyppLmgsbj1NYXRoLm1heChuLGkudyk7ZS5zb3J0KChlLHQpPT50LmgtZS5oKTtjb25zdCBpPVt7eDowLHk6MCx3Ok1hdGgubWF4KE1hdGguY2VpbChNYXRoLnNxcnQodC8uOTUpKSxuKSxoOjEvMH1dO2xldCByPTAsbz0wO2Zvcihjb25zdCB0IG9mIGUpZm9yKGxldCBlPWkubGVuZ3RoLTE7ZT49MDtlLS0pe2NvbnN0IG49aVtlXTtpZighKHQudz5uLnd8fHQuaD5uLmgpKXtpZih0Lng9bi54LHQueT1uLnksbz1NYXRoLm1heChvLHQueSt0LmgpLHI9TWF0aC5tYXgocix0LngrdC53KSx0Lnc9PT1uLncmJnQuaD09PW4uaCl7Y29uc3QgdD1pLnBvcCgpO2U8aS5sZW5ndGgmJihpW2VdPXQpfWVsc2UgdC5oPT09bi5oPyhuLngrPXQudyxuLnctPXQudyk6dC53PT09bi53PyhuLnkrPXQuaCxuLmgtPXQuaCk6KGkucHVzaCh7eDpuLngrdC53LHk6bi55LHc6bi53LXQudyxoOnQuaH0pLG4ueSs9dC5oLG4uaC09dC5oKTticmVha319cmV0dXJue3c6cixoOm8sZmlsbDp0LyhyKm8pfHwwfX1taC5wcm90b3R5cGU9e2Rlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmJ1Zj1udWxsfSxyZWFkRmllbGRzOmZ1bmN0aW9uKGUsdCxuKXtmb3Iobj1ufHx0aGlzLmxlbmd0aDt0aGlzLnBvczxuOyl7dmFyIGk9dGhpcy5yZWFkVmFyaW50KCkscj1pPj4zLG89dGhpcy5wb3M7dGhpcy50eXBlPTcmaSxlKHIsdCx0aGlzKSx0aGlzLnBvcz09PW8mJnRoaXMuc2tpcChpKX1yZXR1cm4gdH0scmVhZE1lc3NhZ2U6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5yZWFkRmllbGRzKGUsdCx0aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyl9LHJlYWRGaXhlZDMyOmZ1bmN0aW9uKCl7dmFyIGU9UGgodGhpcy5idWYsdGhpcy5wb3MpO3JldHVybiB0aGlzLnBvcys9NCxlfSxyZWFkU0ZpeGVkMzI6ZnVuY3Rpb24oKXt2YXIgZT1EaCh0aGlzLmJ1Zix0aGlzLnBvcyk7cmV0dXJuIHRoaXMucG9zKz00LGV9LHJlYWRGaXhlZDY0OmZ1bmN0aW9uKCl7dmFyIGU9UGgodGhpcy5idWYsdGhpcy5wb3MpK1BoKHRoaXMuYnVmLHRoaXMucG9zKzQpKmdoO3JldHVybiB0aGlzLnBvcys9OCxlfSxyZWFkU0ZpeGVkNjQ6ZnVuY3Rpb24oKXt2YXIgZT1QaCh0aGlzLmJ1Zix0aGlzLnBvcykrRGgodGhpcy5idWYsdGhpcy5wb3MrNCkqZ2g7cmV0dXJuIHRoaXMucG9zKz04LGV9LHJlYWRGbG9hdDpmdW5jdGlvbigpe3ZhciBlPXBoKHRoaXMuYnVmLHRoaXMucG9zLCEwLDIzLDQpO3JldHVybiB0aGlzLnBvcys9NCxlfSxyZWFkRG91YmxlOmZ1bmN0aW9uKCl7dmFyIGU9cGgodGhpcy5idWYsdGhpcy5wb3MsITAsNTIsOCk7cmV0dXJuIHRoaXMucG9zKz04LGV9LHJlYWRWYXJpbnQ6ZnVuY3Rpb24oZSl7dmFyIHQsbixpPXRoaXMuYnVmO3JldHVybiB0PTEyNyYobj1pW3RoaXMucG9zKytdKSxuPDEyOD90Oih0fD0oMTI3JihuPWlbdGhpcy5wb3MrK10pKTw8NyxuPDEyOD90Oih0fD0oMTI3JihuPWlbdGhpcy5wb3MrK10pKTw8MTQsbjwxMjg/dDoodHw9KDEyNyYobj1pW3RoaXMucG9zKytdKSk8PDIxLG48MTI4P3Q6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbz1uLmJ1ZjtpZihpPSgxMTImKHI9b1tuLnBvcysrXSkpPj40LHI8MTI4KXJldHVybiB4aChlLGksdCk7aWYoaXw9KDEyNyYocj1vW24ucG9zKytdKSk8PDMscjwxMjgpcmV0dXJuIHhoKGUsaSx0KTtpZihpfD0oMTI3JihyPW9bbi5wb3MrK10pKTw8MTAscjwxMjgpcmV0dXJuIHhoKGUsaSx0KTtpZihpfD0oMTI3JihyPW9bbi5wb3MrK10pKTw8MTcscjwxMjgpcmV0dXJuIHhoKGUsaSx0KTtpZihpfD0oMTI3JihyPW9bbi5wb3MrK10pKTw8MjQscjwxMjgpcmV0dXJuIHhoKGUsaSx0KTtpZihpfD0oMSYocj1vW24ucG9zKytdKSk8PDMxLHI8MTI4KXJldHVybiB4aChlLGksdCk7dGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0ZWQgdmFyaW50IG5vdCBtb3JlIHRoYW4gMTAgYnl0ZXNcIil9KHR8PSgxNSYobj1pW3RoaXMucG9zXSkpPDwyOCxlLHRoaXMpKSkpfSxyZWFkVmFyaW50NjQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFkVmFyaW50KCEwKX0scmVhZFNWYXJpbnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlYWRWYXJpbnQoKTtyZXR1cm4gZSUyPT0xPyhlKzEpLy0yOmUvMn0scmVhZEJvb2xlYW46ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0aGlzLnJlYWRWYXJpbnQoKSl9LHJlYWRTdHJpbmc6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnJlYWRWYXJpbnQoKSt0aGlzLnBvcyx0PXRoaXMucG9zO3JldHVybiB0aGlzLnBvcz1lLGUtdD49MTImJl9oP2Z1bmN0aW9uKGUsdCxuKXtyZXR1cm4gX2guZGVjb2RlKGUuc3ViYXJyYXkodCxuKSl9KHRoaXMuYnVmLHQsZSk6ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaT1cIlwiLHI9dDtyPG47KXt2YXIgbyxhLHMsbD1lW3JdLGM9bnVsbCx1PWw+MjM5PzQ6bD4yMjM/MzpsPjE5MT8yOjE7aWYocit1Pm4pYnJlYWs7MT09PXU/bDwxMjgmJihjPWwpOjI9PT11PzEyOD09KDE5MiYobz1lW3IrMV0pKSYmKGM9KDMxJmwpPDw2fDYzJm8pPD0xMjcmJihjPW51bGwpOjM9PT11PyhhPWVbcisyXSwxMjg9PSgxOTImKG89ZVtyKzFdKSkmJjEyOD09KDE5MiZhKSYmKChjPSgxNSZsKTw8MTJ8KDYzJm8pPDw2fDYzJmEpPD0yMDQ3fHxjPj01NTI5NiYmYzw9NTczNDMpJiYoYz1udWxsKSk6ND09PXUmJihhPWVbcisyXSxzPWVbciszXSwxMjg9PSgxOTImKG89ZVtyKzFdKSkmJjEyOD09KDE5MiZhKSYmMTI4PT0oMTkyJnMpJiYoKGM9KDE1JmwpPDwxOHwoNjMmbyk8PDEyfCg2MyZhKTw8Nnw2MyZzKTw9NjU1MzV8fGM+PTExMTQxMTIpJiYoYz1udWxsKSksbnVsbD09PWM/KGM9NjU1MzMsdT0xKTpjPjY1NTM1JiYoYy09NjU1MzYsaSs9U3RyaW5nLmZyb21DaGFyQ29kZShjPj4+MTAmMTAyM3w1NTI5NiksYz01NjMyMHwxMDIzJmMpLGkrPVN0cmluZy5mcm9tQ2hhckNvZGUoYykscis9dX1yZXR1cm4gaX0odGhpcy5idWYsdCxlKX0scmVhZEJ5dGVzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yZWFkVmFyaW50KCkrdGhpcy5wb3MsdD10aGlzLmJ1Zi5zdWJhcnJheSh0aGlzLnBvcyxlKTtyZXR1cm4gdGhpcy5wb3M9ZSx0fSxyZWFkUGFja2VkVmFyaW50OmZ1bmN0aW9uKGUsdCl7aWYodGhpcy50eXBlIT09bWguQnl0ZXMpcmV0dXJuIGUucHVzaCh0aGlzLnJlYWRWYXJpbnQodCkpO3ZhciBuPXZoKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPG47KWUucHVzaCh0aGlzLnJlYWRWYXJpbnQodCkpO3JldHVybiBlfSxyZWFkUGFja2VkU1ZhcmludDpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1taC5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7dmFyIHQ9dmgodGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZFNWYXJpbnQoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRCb29sZWFuOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PW1oLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTt2YXIgdD12aCh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkQm9vbGVhbigpKTtyZXR1cm4gZX0scmVhZFBhY2tlZEZsb2F0OmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PW1oLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRmxvYXQoKSk7dmFyIHQ9dmgodGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZEZsb2F0KCkpO3JldHVybiBlfSxyZWFkUGFja2VkRG91YmxlOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PW1oLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRG91YmxlKCkpO3ZhciB0PXZoKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWREb3VibGUoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRGaXhlZDMyOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PW1oLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTt2YXIgdD12aCh0aGlzKTtmb3IoZT1lfHxbXTt0aGlzLnBvczx0OyllLnB1c2godGhpcy5yZWFkRml4ZWQzMigpKTtyZXR1cm4gZX0scmVhZFBhY2tlZFNGaXhlZDMyOmZ1bmN0aW9uKGUpe2lmKHRoaXMudHlwZSE9PW1oLkJ5dGVzKXJldHVybiBlLnB1c2godGhpcy5yZWFkU0ZpeGVkMzIoKSk7dmFyIHQ9dmgodGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZFNGaXhlZDMyKCkpO3JldHVybiBlfSxyZWFkUGFja2VkRml4ZWQ2NDpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1taC5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7dmFyIHQ9dmgodGhpcyk7Zm9yKGU9ZXx8W107dGhpcy5wb3M8dDspZS5wdXNoKHRoaXMucmVhZEZpeGVkNjQoKSk7cmV0dXJuIGV9LHJlYWRQYWNrZWRTRml4ZWQ2NDpmdW5jdGlvbihlKXtpZih0aGlzLnR5cGUhPT1taC5CeXRlcylyZXR1cm4gZS5wdXNoKHRoaXMucmVhZFNGaXhlZDY0KCkpO3ZhciB0PXZoKHRoaXMpO2ZvcihlPWV8fFtdO3RoaXMucG9zPHQ7KWUucHVzaCh0aGlzLnJlYWRTRml4ZWQ2NCgpKTtyZXR1cm4gZX0sc2tpcDpmdW5jdGlvbihlKXt2YXIgdD03JmU7aWYodD09PW1oLlZhcmludClmb3IoO3RoaXMuYnVmW3RoaXMucG9zKytdPjEyNzspO2Vsc2UgaWYodD09PW1oLkJ5dGVzKXRoaXMucG9zPXRoaXMucmVhZFZhcmludCgpK3RoaXMucG9zO2Vsc2UgaWYodD09PW1oLkZpeGVkMzIpdGhpcy5wb3MrPTQ7ZWxzZXtpZih0IT09bWguRml4ZWQ2NCl0aHJvdyBuZXcgRXJyb3IoXCJVbmltcGxlbWVudGVkIHR5cGU6IFwiK3QpO3RoaXMucG9zKz04fX0sd3JpdGVUYWc6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVmFyaW50KGU8PDN8dCl9LHJlYWxsb2M6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMubGVuZ3RofHwxNjt0PHRoaXMucG9zK2U7KXQqPTI7aWYodCE9PXRoaXMubGVuZ3RoKXt2YXIgbj1uZXcgVWludDhBcnJheSh0KTtuLnNldCh0aGlzLmJ1ZiksdGhpcy5idWY9bix0aGlzLmxlbmd0aD10fX0sZmluaXNoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoPXRoaXMucG9zLHRoaXMucG9zPTAsdGhpcy5idWYuc3ViYXJyYXkoMCx0aGlzLmxlbmd0aCl9LHdyaXRlRml4ZWQzMjpmdW5jdGlvbihlKXt0aGlzLnJlYWxsb2MoNCksemgodGhpcy5idWYsZSx0aGlzLnBvcyksdGhpcy5wb3MrPTR9LHdyaXRlU0ZpeGVkMzI6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDQpLHpoKHRoaXMuYnVmLGUsdGhpcy5wb3MpLHRoaXMucG9zKz00fSx3cml0ZUZpeGVkNjQ6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDgpLHpoKHRoaXMuYnVmLC0xJmUsdGhpcy5wb3MpLHpoKHRoaXMuYnVmLE1hdGguZmxvb3IoZSp5aCksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTh9LHdyaXRlU0ZpeGVkNjQ6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDgpLHpoKHRoaXMuYnVmLC0xJmUsdGhpcy5wb3MpLHpoKHRoaXMuYnVmLE1hdGguZmxvb3IoZSp5aCksdGhpcy5wb3MrNCksdGhpcy5wb3MrPTh9LHdyaXRlVmFyaW50OmZ1bmN0aW9uKGUpeyhlPStlfHwwKT4yNjg0MzU0NTV8fGU8MD9mdW5jdGlvbihlLHQpe3ZhciBuLGk7aWYoZT49MD8obj1lJTQyOTQ5NjcyOTZ8MCxpPWUvNDI5NDk2NzI5NnwwKTooaT1+KC1lLzQyOTQ5NjcyOTYpLDQyOTQ5NjcyOTVeKG49figtZSU0Mjk0OTY3Mjk2KSk/bj1uKzF8MDoobj0wLGk9aSsxfDApKSxlPj0weDEwMDAwMDAwMDAwMDAwMDAwfHxlPC0weDEwMDAwMDAwMDAwMDAwMDAwKXRocm93IG5ldyBFcnJvcihcIkdpdmVuIHZhcmludCBkb2Vzbid0IGZpdCBpbnRvIDEwIGJ5dGVzXCIpO3QucmVhbGxvYygxMCksZnVuY3Rpb24oZSx0LG4pe24uYnVmW24ucG9zKytdPTEyNyZlfDEyOCxlPj4+PTcsbi5idWZbbi5wb3MrK109MTI3JmV8MTI4LGU+Pj49NyxuLmJ1ZltuLnBvcysrXT0xMjcmZXwxMjgsZT4+Pj03LG4uYnVmW24ucG9zKytdPTEyNyZlfDEyOCxuLmJ1ZltuLnBvc109MTI3JihlPj4+PTcpfShuLDAsdCksZnVuY3Rpb24oZSx0KXt2YXIgbj0oNyZlKTw8NDt0LmJ1Zlt0LnBvcysrXXw9bnwoKGU+Pj49Myk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZXwoKGU+Pj49Nyk/MTI4OjApLGUmJih0LmJ1Zlt0LnBvcysrXT0xMjcmZSkpKSkpfShpLHQpfShlLHRoaXMpOih0aGlzLnJlYWxsb2MoNCksdGhpcy5idWZbdGhpcy5wb3MrK109MTI3JmV8KGU+MTI3PzEyODowKSxlPD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKGU+Pj49Nyl8KGU+MTI3PzEyODowKSxlPD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT0xMjcmKGU+Pj49Nyl8KGU+MTI3PzEyODowKSxlPD0xMjd8fCh0aGlzLmJ1Zlt0aGlzLnBvcysrXT1lPj4+NyYxMjcpKSkpfSx3cml0ZVNWYXJpbnQ6ZnVuY3Rpb24oZSl7dGhpcy53cml0ZVZhcmludChlPDA/MiotZS0xOjIqZSl9LHdyaXRlQm9vbGVhbjpmdW5jdGlvbihlKXt0aGlzLndyaXRlVmFyaW50KEJvb2xlYW4oZSkpfSx3cml0ZVN0cmluZzpmdW5jdGlvbihlKXtlPVN0cmluZyhlKSx0aGlzLnJlYWxsb2MoNCplLmxlbmd0aCksdGhpcy5wb3MrKzt2YXIgdD10aGlzLnBvczt0aGlzLnBvcz1mdW5jdGlvbihlLHQsbil7Zm9yKHZhciBpLHIsbz0wO288dC5sZW5ndGg7bysrKXtpZigoaT10LmNoYXJDb2RlQXQobykpPjU1Mjk1JiZpPDU3MzQ0KXtpZighcil7aT41NjMxOXx8bysxPT09dC5sZW5ndGg/KGVbbisrXT0yMzksZVtuKytdPTE5MSxlW24rK109MTg5KTpyPWk7Y29udGludWV9aWYoaTw1NjMyMCl7ZVtuKytdPTIzOSxlW24rK109MTkxLGVbbisrXT0xODkscj1pO2NvbnRpbnVlfWk9ci01NTI5Njw8MTB8aS01NjMyMHw2NTUzNixyPW51bGx9ZWxzZSByJiYoZVtuKytdPTIzOSxlW24rK109MTkxLGVbbisrXT0xODkscj1udWxsKTtpPDEyOD9lW24rK109aTooaTwyMDQ4P2VbbisrXT1pPj42fDE5MjooaTw2NTUzNj9lW24rK109aT4+MTJ8MjI0OihlW24rK109aT4+MTh8MjQwLGVbbisrXT1pPj4xMiY2M3wxMjgpLGVbbisrXT1pPj42JjYzfDEyOCksZVtuKytdPTYzJml8MTI4KX1yZXR1cm4gbn0odGhpcy5idWYsZSx0aGlzLnBvcyk7dmFyIG49dGhpcy5wb3MtdDtuPj0xMjgmJmJoKHQsbix0aGlzKSx0aGlzLnBvcz10LTEsdGhpcy53cml0ZVZhcmludChuKSx0aGlzLnBvcys9bn0sd3JpdGVGbG9hdDpmdW5jdGlvbihlKXt0aGlzLnJlYWxsb2MoNCksZmgodGhpcy5idWYsZSx0aGlzLnBvcywhMCwyMyw0KSx0aGlzLnBvcys9NH0sd3JpdGVEb3VibGU6ZnVuY3Rpb24oZSl7dGhpcy5yZWFsbG9jKDgpLGZoKHRoaXMuYnVmLGUsdGhpcy5wb3MsITAsNTIsOCksdGhpcy5wb3MrPTh9LHdyaXRlQnl0ZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7dGhpcy53cml0ZVZhcmludCh0KSx0aGlzLnJlYWxsb2ModCk7Zm9yKHZhciBuPTA7bjx0O24rKyl0aGlzLmJ1Zlt0aGlzLnBvcysrXT1lW25dfSx3cml0ZVJhd01lc3NhZ2U6ZnVuY3Rpb24oZSx0KXt0aGlzLnBvcysrO3ZhciBuPXRoaXMucG9zO2UodCx0aGlzKTt2YXIgaT10aGlzLnBvcy1uO2k+PTEyOCYmYmgobixpLHRoaXMpLHRoaXMucG9zPW4tMSx0aGlzLndyaXRlVmFyaW50KGkpLHRoaXMucG9zKz1pfSx3cml0ZU1lc3NhZ2U6ZnVuY3Rpb24oZSx0LG4pe3RoaXMud3JpdGVUYWcoZSxtaC5CeXRlcyksdGhpcy53cml0ZVJhd01lc3NhZ2UodCxuKX0sd3JpdGVQYWNrZWRWYXJpbnQ6ZnVuY3Rpb24oZSx0KXt0Lmxlbmd0aCYmdGhpcy53cml0ZU1lc3NhZ2UoZSx3aCx0KX0sd3JpdGVQYWNrZWRTVmFyaW50OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsVGgsdCl9LHdyaXRlUGFja2VkQm9vbGVhbjpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLE1oLHQpfSx3cml0ZVBhY2tlZEZsb2F0OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsRWgsdCl9LHdyaXRlUGFja2VkRG91YmxlOmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsU2gsdCl9LHdyaXRlUGFja2VkRml4ZWQzMjpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLEloLHQpfSx3cml0ZVBhY2tlZFNGaXhlZDMyOmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsQ2gsdCl9LHdyaXRlUGFja2VkRml4ZWQ2NDpmdW5jdGlvbihlLHQpe3QubGVuZ3RoJiZ0aGlzLndyaXRlTWVzc2FnZShlLGtoLHQpfSx3cml0ZVBhY2tlZFNGaXhlZDY0OmZ1bmN0aW9uKGUsdCl7dC5sZW5ndGgmJnRoaXMud3JpdGVNZXNzYWdlKGUsQWgsdCl9LHdyaXRlQnl0ZXNGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxtaC5CeXRlcyksdGhpcy53cml0ZUJ5dGVzKHQpfSx3cml0ZUZpeGVkMzJGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxtaC5GaXhlZDMyKSx0aGlzLndyaXRlRml4ZWQzMih0KX0sd3JpdGVTRml4ZWQzMkZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLG1oLkZpeGVkMzIpLHRoaXMud3JpdGVTRml4ZWQzMih0KX0sd3JpdGVGaXhlZDY0RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsbWguRml4ZWQ2NCksdGhpcy53cml0ZUZpeGVkNjQodCl9LHdyaXRlU0ZpeGVkNjRGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxtaC5GaXhlZDY0KSx0aGlzLndyaXRlU0ZpeGVkNjQodCl9LHdyaXRlVmFyaW50RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsbWguVmFyaW50KSx0aGlzLndyaXRlVmFyaW50KHQpfSx3cml0ZVNWYXJpbnRGaWVsZDpmdW5jdGlvbihlLHQpe3RoaXMud3JpdGVUYWcoZSxtaC5WYXJpbnQpLHRoaXMud3JpdGVTVmFyaW50KHQpfSx3cml0ZVN0cmluZ0ZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLG1oLkJ5dGVzKSx0aGlzLndyaXRlU3RyaW5nKHQpfSx3cml0ZUZsb2F0RmllbGQ6ZnVuY3Rpb24oZSx0KXt0aGlzLndyaXRlVGFnKGUsbWguRml4ZWQzMiksdGhpcy53cml0ZUZsb2F0KHQpfSx3cml0ZURvdWJsZUZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVRhZyhlLG1oLkZpeGVkNjQpLHRoaXMud3JpdGVEb3VibGUodCl9LHdyaXRlQm9vbGVhbkZpZWxkOmZ1bmN0aW9uKGUsdCl7dGhpcy53cml0ZVZhcmludEZpZWxkKGUsQm9vbGVhbih0KSl9fTtjbGFzcyBqaHtjb25zdHJ1Y3RvcihlLHtwaXhlbFJhdGlvOnQsdmVyc2lvbjpuLHN0cmV0Y2hYOmksc3RyZXRjaFk6cixjb250ZW50Om99KXt0aGlzLnBhZGRlZFJlY3Q9ZSx0aGlzLnBpeGVsUmF0aW89dCx0aGlzLnN0cmV0Y2hYPWksdGhpcy5zdHJldGNoWT1yLHRoaXMuY29udGVudD1vLHRoaXMudmVyc2lvbj1ufWdldCB0bCgpe3JldHVyblt0aGlzLnBhZGRlZFJlY3QueCsxLHRoaXMucGFkZGVkUmVjdC55KzFdfWdldCBicigpe3JldHVyblt0aGlzLnBhZGRlZFJlY3QueCt0aGlzLnBhZGRlZFJlY3Qudy0xLHRoaXMucGFkZGVkUmVjdC55K3RoaXMucGFkZGVkUmVjdC5oLTFdfWdldCBkaXNwbGF5U2l6ZSgpe3JldHVyblsodGhpcy5wYWRkZWRSZWN0LnctMikvdGhpcy5waXhlbFJhdGlvLCh0aGlzLnBhZGRlZFJlY3QuaC0yKS90aGlzLnBpeGVsUmF0aW9dfX1jbGFzcyBGaHtjb25zdHJ1Y3RvcihlLHQpe2NvbnN0IG49e30saT17fTt0aGlzLmhhdmVSZW5kZXJDYWxsYmFja3M9W107Y29uc3Qgcj1bXTt0aGlzLmFkZEltYWdlcyhlLG4sciksdGhpcy5hZGRJbWFnZXModCxpLHIpO2NvbnN0e3c6byxoOmF9PUJoKHIpLHM9bmV3IGFjKHt3aWR0aDpvfHwxLGhlaWdodDphfHwxfSk7Zm9yKGNvbnN0IHQgaW4gZSl7Y29uc3QgaT1lW3RdLHI9blt0XS5wYWRkZWRSZWN0O2FjLmNvcHkoaS5kYXRhLHMse3g6MCx5OjB9LHt4OnIueCsxLHk6ci55KzF9LGkuZGF0YSl9Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3Qgbj10W2VdLHI9aVtlXS5wYWRkZWRSZWN0LG89ci54KzEsYT1yLnkrMSxsPW4uZGF0YS53aWR0aCxjPW4uZGF0YS5oZWlnaHQ7YWMuY29weShuLmRhdGEscyx7eDowLHk6MH0se3g6byx5OmF9LG4uZGF0YSksYWMuY29weShuLmRhdGEscyx7eDowLHk6Yy0xfSx7eDpvLHk6YS0xfSx7d2lkdGg6bCxoZWlnaHQ6MX0pLGFjLmNvcHkobi5kYXRhLHMse3g6MCx5OjB9LHt4Om8seTphK2N9LHt3aWR0aDpsLGhlaWdodDoxfSksYWMuY29weShuLmRhdGEscyx7eDpsLTEseTowfSx7eDpvLTEseTphfSx7d2lkdGg6MSxoZWlnaHQ6Y30pLGFjLmNvcHkobi5kYXRhLHMse3g6MCx5OjB9LHt4Om8rbCx5OmF9LHt3aWR0aDoxLGhlaWdodDpjfSl9dGhpcy5pbWFnZT1zLHRoaXMuaWNvblBvc2l0aW9ucz1uLHRoaXMucGF0dGVyblBvc2l0aW9ucz1pfWFkZEltYWdlcyhlLHQsbil7Zm9yKGNvbnN0IGkgaW4gZSl7Y29uc3Qgcj1lW2ldLG89e3g6MCx5OjAsdzpyLmRhdGEud2lkdGgrMixoOnIuZGF0YS5oZWlnaHQrMn07bi5wdXNoKG8pLHRbaV09bmV3IGpoKG8sciksci5oYXNSZW5kZXJDYWxsYmFjayYmdGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzLnB1c2goaSl9fXBhdGNoVXBkYXRlZEltYWdlcyhlLHQpe3RoaXMuaGF2ZVJlbmRlckNhbGxiYWNrcz10aGlzLmhhdmVSZW5kZXJDYWxsYmFja3MuZmlsdGVyKHQ9PmUuaGFzSW1hZ2UodCkpLGUuZGlzcGF0Y2hSZW5kZXJDYWxsYmFja3ModGhpcy5oYXZlUmVuZGVyQ2FsbGJhY2tzKTtmb3IoY29uc3QgbiBpbiBlLnVwZGF0ZWRJbWFnZXMpdGhpcy5wYXRjaFVwZGF0ZWRJbWFnZSh0aGlzLmljb25Qb3NpdGlvbnNbbl0sZS5nZXRJbWFnZShuKSx0KSx0aGlzLnBhdGNoVXBkYXRlZEltYWdlKHRoaXMucGF0dGVyblBvc2l0aW9uc1tuXSxlLmdldEltYWdlKG4pLHQpfXBhdGNoVXBkYXRlZEltYWdlKGUsdCxuKXtpZighZXx8IXQpcmV0dXJuO2lmKGUudmVyc2lvbj09PXQudmVyc2lvbilyZXR1cm47ZS52ZXJzaW9uPXQudmVyc2lvbjtjb25zdFtpLHJdPWUudGw7bi51cGRhdGUodC5kYXRhLHZvaWQgMCx7eDppLHk6cn0pfX16cihqaCxcIkltYWdlUG9zaXRpb25cIiksenIoRmgsXCJJbWFnZUF0bGFzXCIpO2NvbnN0IE5oPXtob3Jpem9udGFsOjEsdmVydGljYWw6Mixob3Jpem9udGFsT25seTozfTtjbGFzcyBVaHtjb25zdHJ1Y3Rvcigpe3RoaXMuc2NhbGU9MSx0aGlzLmZvbnRTdGFjaz1cIlwiLHRoaXMuaW1hZ2VOYW1lPW51bGx9c3RhdGljIGZvclRleHQoZSx0KXtjb25zdCBuPW5ldyBVaDtyZXR1cm4gbi5zY2FsZT1lfHwxLG4uZm9udFN0YWNrPXQsbn1zdGF0aWMgZm9ySW1hZ2UoZSl7Y29uc3QgdD1uZXcgVWg7cmV0dXJuIHQuaW1hZ2VOYW1lPWUsdH19Y2xhc3MgVmh7Y29uc3RydWN0b3IoKXt0aGlzLnRleHQ9XCJcIix0aGlzLnNlY3Rpb25JbmRleD1bXSx0aGlzLnNlY3Rpb25zPVtdLHRoaXMuaW1hZ2VTZWN0aW9uSUQ9bnVsbH1zdGF0aWMgZnJvbUZlYXR1cmUoZSx0KXtjb25zdCBuPW5ldyBWaDtmb3IobGV0IGk9MDtpPGUuc2VjdGlvbnMubGVuZ3RoO2krKyl7Y29uc3Qgcj1lLnNlY3Rpb25zW2ldO3IuaW1hZ2U/bi5hZGRJbWFnZVNlY3Rpb24ocik6bi5hZGRUZXh0U2VjdGlvbihyLHQpfXJldHVybiBufWxlbmd0aCgpe3JldHVybiB0aGlzLnRleHQubGVuZ3RofWdldFNlY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2VjdGlvbnNbdGhpcy5zZWN0aW9uSW5kZXhbZV1dfWdldFNlY3Rpb25zKCl7cmV0dXJuIHRoaXMuc2VjdGlvbnN9Z2V0U2VjdGlvbkluZGV4KGUpe3JldHVybiB0aGlzLnNlY3Rpb25JbmRleFtlXX1nZXRDaGFyQ29kZShlKXtyZXR1cm4gdGhpcy50ZXh0LmNoYXJDb2RlQXQoZSl9dmVydGljYWxpemVQdW5jdHVhdGlvbihlKXt0aGlzLnRleHQ9ZnVuY3Rpb24oZSx0KXtsZXQgbj1cIlwiO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCByPWUuY2hhckNvZGVBdChpKzEpfHxudWxsLG89ZS5jaGFyQ29kZUF0KGktMSl8fG51bGw7bis9IXQmJihyJiZtbyhyKSYmIWNoW2VbaSsxXV18fG8mJm1vKG8pJiYhY2hbZVtpLTFdXSl8fCFjaFtlW2ldXT9lW2ldOmNoW2VbaV1dfXJldHVybiBufSh0aGlzLnRleHQsZSl9dHJpbSgpe2xldCBlPTA7Zm9yKGxldCB0PTA7dDx0aGlzLnRleHQubGVuZ3RoJiZaaFt0aGlzLnRleHQuY2hhckNvZGVBdCh0KV07dCsrKWUrKztsZXQgdD10aGlzLnRleHQubGVuZ3RoO2ZvcihsZXQgbj10aGlzLnRleHQubGVuZ3RoLTE7bj49MCYmbj49ZSYmWmhbdGhpcy50ZXh0LmNoYXJDb2RlQXQobildO24tLSl0LS07dGhpcy50ZXh0PXRoaXMudGV4dC5zdWJzdHJpbmcoZSx0KSx0aGlzLnNlY3Rpb25JbmRleD10aGlzLnNlY3Rpb25JbmRleC5zbGljZShlLHQpfXN1YnN0cmluZyhlLHQpe2NvbnN0IG49bmV3IFZoO3JldHVybiBuLnRleHQ9dGhpcy50ZXh0LnN1YnN0cmluZyhlLHQpLG4uc2VjdGlvbkluZGV4PXRoaXMuc2VjdGlvbkluZGV4LnNsaWNlKGUsdCksbi5zZWN0aW9ucz10aGlzLnNlY3Rpb25zLG59dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy50ZXh0fWdldE1heFNjYWxlKCl7cmV0dXJuIHRoaXMuc2VjdGlvbkluZGV4LnJlZHVjZSgoZSx0KT0+TWF0aC5tYXgoZSx0aGlzLnNlY3Rpb25zW3RdLnNjYWxlKSwwKX1hZGRUZXh0U2VjdGlvbihlLHQpe3RoaXMudGV4dCs9ZS50ZXh0LHRoaXMuc2VjdGlvbnMucHVzaChVaC5mb3JUZXh0KGUuc2NhbGUsZS5mb250U3RhY2t8fHQpKTtjb25zdCBuPXRoaXMuc2VjdGlvbnMubGVuZ3RoLTE7Zm9yKGxldCB0PTA7dDxlLnRleHQubGVuZ3RoOysrdCl0aGlzLnNlY3Rpb25JbmRleC5wdXNoKG4pfWFkZEltYWdlU2VjdGlvbihlKXtjb25zdCB0PWUuaW1hZ2U/ZS5pbWFnZS5uYW1lOlwiXCI7aWYoMD09PXQubGVuZ3RoKXJldHVybiB2b2lkIFYoXCJDYW4ndCBhZGQgRm9ybWF0dGVkU2VjdGlvbiB3aXRoIGFuIGVtcHR5IGltYWdlLlwiKTtjb25zdCBuPXRoaXMuZ2V0TmV4dEltYWdlU2VjdGlvbkNoYXJDb2RlKCk7bj8odGhpcy50ZXh0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKG4pLHRoaXMuc2VjdGlvbnMucHVzaChVaC5mb3JJbWFnZSh0KSksdGhpcy5zZWN0aW9uSW5kZXgucHVzaCh0aGlzLnNlY3Rpb25zLmxlbmd0aC0xKSk6VihcIlJlYWNoZWQgbWF4aW11bSBudW1iZXIgb2YgaW1hZ2VzIDY0MDFcIil9Z2V0TmV4dEltYWdlU2VjdGlvbkNoYXJDb2RlKCl7cmV0dXJuIHRoaXMuaW1hZ2VTZWN0aW9uSUQ/dGhpcy5pbWFnZVNlY3Rpb25JRD49NjM3NDM/bnVsbDorK3RoaXMuaW1hZ2VTZWN0aW9uSUQ6KHRoaXMuaW1hZ2VTZWN0aW9uSUQ9NTczNDQsdGhpcy5pbWFnZVNlY3Rpb25JRCl9fWZ1bmN0aW9uIEdoKGUsdCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmKXtjb25zdCBtPVZoLmZyb21GZWF0dXJlKGUscik7aD09PU5oLnZlcnRpY2FsJiZtLnZlcnRpY2FsaXplUHVuY3R1YXRpb24oZCk7bGV0IGc9W107Y29uc3QgeT1mdW5jdGlvbihlLHQsbixpLHIsbyl7aWYoIWUpcmV0dXJuW107Y29uc3QgYT1bXSxzPWZ1bmN0aW9uKGUsdCxuLGkscixvKXtsZXQgYT0wO2ZvcihsZXQgbj0wO248ZS5sZW5ndGgoKTtuKyspe2NvbnN0IHM9ZS5nZXRTZWN0aW9uKG4pO2ErPXFoKGUuZ2V0Q2hhckNvZGUobikscyxpLHIsdCxvKX1yZXR1cm4gYS9NYXRoLm1heCgxLE1hdGguY2VpbChhL24pKX0oZSx0LG4saSxyLG8pLGw9ZS50ZXh0LmluZGV4T2YoXCLigItcIik+PTA7bGV0IGM9MDtmb3IobGV0IG49MDtuPGUubGVuZ3RoKCk7bisrKXtjb25zdCBoPWUuZ2V0U2VjdGlvbihuKSxkPWUuZ2V0Q2hhckNvZGUobik7aWYoWmhbZF18fChjKz1xaChkLGgsaSxyLHQsbykpLG48ZS5sZW5ndGgoKS0xKXtjb25zdCB0PSEoKHU9ZCk8MTE5MDR8fCEoJHIodSl8fHFyKHUpfHxhbyh1KXx8aW8odSl8fEpyKHUpfHxOcih1KXx8SHIodSl8fEdyKHUpfHxRcih1KXx8S3IodSl8fFlyKHUpfHxjbyh1KXx8WnIodSl8fFZyKHUpfHxVcih1KXx8WHIodSl8fFdyKHUpfHxvbyh1KXx8dG8odSl8fGVvKHUpKSk7KFdoW2RdfHx0fHxoLmltYWdlTmFtZSkmJmEucHVzaChYaChuKzEsYyxzLGEsSGgoZCxlLmdldENoYXJDb2RlKG4rMSksdCYmbCksITEpKX19dmFyIHU7cmV0dXJuIGZ1bmN0aW9uIGUodCl7cmV0dXJuIHQ/ZSh0LnByaW9yQnJlYWspLmNvbmNhdCh0LmluZGV4KTpbXX0oWGgoZS5sZW5ndGgoKSxjLHMsYSwwLCEwKSl9KG0sYyxvLHQsaSxwKSx7cHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0Ol8scHJvY2Vzc1N0eWxlZEJpZGlyZWN0aW9uYWxUZXh0OnZ9PUFvO2lmKF8mJjE9PT1tLnNlY3Rpb25zLmxlbmd0aCl7Y29uc3QgZT1fKG0udG9TdHJpbmcoKSx5KTtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPW5ldyBWaDtlLnRleHQ9dCxlLnNlY3Rpb25zPW0uc2VjdGlvbnM7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspZS5zZWN0aW9uSW5kZXgucHVzaCgwKTtnLnB1c2goZSl9fWVsc2UgaWYodil7Y29uc3QgZT12KG0udGV4dCxtLnNlY3Rpb25JbmRleCx5KTtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPW5ldyBWaDtlLnRleHQ9dFswXSxlLnNlY3Rpb25JbmRleD10WzFdLGUuc2VjdGlvbnM9bS5zZWN0aW9ucyxnLnB1c2goZSl9fWVsc2UgZz1mdW5jdGlvbihlLHQpe2NvbnN0IG49W10saT1lLnRleHQ7bGV0IHI9MDtmb3IoY29uc3QgaSBvZiB0KW4ucHVzaChlLnN1YnN0cmluZyhyLGkpKSxyPWk7cmV0dXJuIHI8aS5sZW5ndGgmJm4ucHVzaChlLnN1YnN0cmluZyhyLGkubGVuZ3RoKSksbn0obSx5KTtjb25zdCB4PVtdLGI9e3Bvc2l0aW9uZWRMaW5lczp4LHRleHQ6bS50b1N0cmluZygpLHRvcDp1WzFdLGJvdHRvbTp1WzFdLGxlZnQ6dVswXSxyaWdodDp1WzBdLHdyaXRpbmdNb2RlOmgsaWNvbnNJblRleHQ6ITEsdmVydGljYWxpemFibGU6ITEsaGFzQmFzZWxpbmU6ITF9O3JldHVybiBmdW5jdGlvbihlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCl7bGV0IGQ9MCxwPTAsZj0wO2NvbnN0IG09XCJyaWdodFwiPT09cz8xOlwibGVmdFwiPT09cz8wOi41O2xldCBnPSExO2Zvcihjb25zdCBlIG9mIHIpe2NvbnN0IG49ZS5nZXRTZWN0aW9ucygpO2Zvcihjb25zdCBlIG9mIG4pe2lmKGUuaW1hZ2VOYW1lKWNvbnRpbnVlO2NvbnN0IG49dFtlLmZvbnRTdGFja107aWYobiYmKGc9dm9pZCAwIT09bi5hc2NlbmRlciYmdm9pZCAwIT09bi5kZXNjZW5kZXIsIWcpKWJyZWFrfWlmKCFnKWJyZWFrfWxldCB5PTA7Zm9yKGNvbnN0IGEgb2Ygcil7YS50cmltKCk7Y29uc3Qgcj1hLmdldE1heFNjYWxlKCkscz0yNCooci0xKSx2PXtwb3NpdGlvbmVkR2x5cGhzOltdLGxpbmVPZmZzZXQ6MH07ZS5wb3NpdGlvbmVkTGluZXNbeV09djtjb25zdCB4PXYucG9zaXRpb25lZEdseXBocztsZXQgYj0wO2lmKCFhLmxlbmd0aCgpKXtwKz1vLCsreTtjb250aW51ZX1sZXQgdz0wLFQ9MDtmb3IobGV0IG89MDtvPGEubGVuZ3RoKCk7bysrKXtjb25zdCBzPWEuZ2V0U2VjdGlvbihvKSxmPWEuZ2V0U2VjdGlvbkluZGV4KG8pLG09YS5nZXRDaGFyQ29kZShvKTtsZXQgeT1zLnNjYWxlLHY9bnVsbCxFPW51bGwsUz1udWxsLE09MjQsST0wO2NvbnN0IEM9IShsPT09TmguaG9yaXpvbnRhbHx8IXUmJiFmbyhtKXx8dSYmKFpoW21dfHwoXz1tLEJyKF8pfHxqcihfKXx8RnIoXyl8fHJvKF8pfHxsbyhfKSkpKTtpZihzLmltYWdlTmFtZSl7Y29uc3QgdD1pW3MuaW1hZ2VOYW1lXTtpZighdCljb250aW51ZTtTPXMuaW1hZ2VOYW1lLGUuaWNvbnNJblRleHQ9ZS5pY29uc0luVGV4dHx8ITAsRT10LnBhZGRlZFJlY3Q7Y29uc3Qgbj10LmRpc3BsYXlTaXplO3k9MjQqeS9oLHY9e3dpZHRoOm5bMF0saGVpZ2h0Om5bMV0sbGVmdDoxLHRvcDotMyxhZHZhbmNlOkM/blsxXTpuWzBdLGxvY2FsR2x5cGg6ITF9LEk9Zz8tdi5oZWlnaHQqeToyNCpyLTE3LW5bMV0qeSxNPXYuYWR2YW5jZTtjb25zdCBvPShDP25bMF06blsxXSkqeS0yNCpyO28+MCYmbz5iJiYoYj1vKX1lbHNle2NvbnN0IGU9bltzLmZvbnRTdGFja107aWYoIWUpY29udGludWU7ZVttXSYmKEU9ZVttXSk7Y29uc3QgaT10W3MuZm9udFN0YWNrXTtpZighaSljb250aW51ZTtjb25zdCBvPWkuZ2x5cGhzW21dO2lmKCFvKWNvbnRpbnVlO2lmKHY9by5tZXRyaWNzLE09ODIwMyE9PW0/MjQ6MCxnKXtjb25zdCBlPXZvaWQgMCE9PWkuYXNjZW5kZXI/TWF0aC5hYnMoaS5hc2NlbmRlcik6MCx0PXZvaWQgMCE9PWkuZGVzY2VuZGVyP01hdGguYWJzKGkuZGVzY2VuZGVyKTowLG49KGUrdCkqeTt3PG4mJih3PW4sVD0oZS10KS8yKnkpLEk9LWUqeX1lbHNlIEk9MjQqKHIteSktMTd9Qz8oZS52ZXJ0aWNhbGl6YWJsZT0hMCx4LnB1c2goe2dseXBoOm0saW1hZ2VOYW1lOlMseDpkLHk6cCtJLHZlcnRpY2FsOkMsc2NhbGU6eSxsb2NhbEdseXBoOnYubG9jYWxHbHlwaCxmb250U3RhY2s6cy5mb250U3RhY2ssc2VjdGlvbkluZGV4OmYsbWV0cmljczp2LHJlY3Q6RX0pLGQrPU0qeStjKTooeC5wdXNoKHtnbHlwaDptLGltYWdlTmFtZTpTLHg6ZCx5OnArSSx2ZXJ0aWNhbDpDLHNjYWxlOnksbG9jYWxHbHlwaDp2LmxvY2FsR2x5cGgsZm9udFN0YWNrOnMuZm9udFN0YWNrLHNlY3Rpb25JbmRleDpmLG1ldHJpY3M6dixyZWN0OkV9KSxkKz12LmFkdmFuY2UqeStjKX0wIT09eC5sZW5ndGgmJihmPU1hdGgubWF4KGQtYyxmKSxnP0poKHgsbSxiLFQsbypyLzIpOkpoKHgsbSxiLDAsby8yKSksZD0wO2NvbnN0IEU9bypyK2I7di5saW5lT2Zmc2V0PU1hdGgubWF4KGIscykscCs9RSwrK3l9dmFyIF87Y29uc3Qgdj1wLHtob3Jpem9udGFsQWxpZ246eCx2ZXJ0aWNhbEFsaWduOmJ9PVloKGEpOyhmdW5jdGlvbihlLHQsbixpLHIsbyl7Y29uc3QgYT0odC1uKSpyLHM9LW8qaTtmb3IoY29uc3QgdCBvZiBlKWZvcihjb25zdCBlIG9mIHQucG9zaXRpb25lZEdseXBocyllLngrPWEsZS55Kz1zfSkoZS5wb3NpdGlvbmVkTGluZXMsbSx4LGIsZix2KSxlLnRvcCs9LWIqdixlLmJvdHRvbT1lLnRvcCt2LGUubGVmdCs9LXgqZixlLnJpZ2h0PWUubGVmdCtmLGUuaGFzQmFzZWxpbmU9Z30oYix0LG4saSxnLGEscyxsLGgsYyxkLGYpLCFmdW5jdGlvbihlKXtmb3IoY29uc3QgdCBvZiBlKWlmKDAhPT10LnBvc2l0aW9uZWRHbHlwaHMubGVuZ3RoKXJldHVybiExO3JldHVybiEwfSh4KSYmYn1jb25zdCBaaD17OTohMCwxMDohMCwxMTohMCwxMjohMCwxMzohMCwzMjohMH0sV2g9ezEwOiEwLDMyOiEwLDM4OiEwLDQwOiEwLDQxOiEwLDQzOiEwLDQ1OiEwLDQ3OiEwLDE3MzohMCwxODM6ITAsODIwMzohMCw4MjA4OiEwLDgyMTE6ITAsODIzMTohMH07ZnVuY3Rpb24gcWgoZSx0LG4saSxyLG8pe2lmKHQuaW1hZ2VOYW1lKXtjb25zdCBlPWlbdC5pbWFnZU5hbWVdO3JldHVybiBlP2UuZGlzcGxheVNpemVbMF0qdC5zY2FsZSoyNC9vK3I6MH17Y29uc3QgaT1uW3QuZm9udFN0YWNrXSxvPWkmJmkuZ2x5cGhzW2VdO3JldHVybiBvP28ubWV0cmljcy5hZHZhbmNlKnQuc2NhbGUrcjowfX1mdW5jdGlvbiAkaChlLHQsbixpKXtjb25zdCByPU1hdGgucG93KGUtdCwyKTtyZXR1cm4gaT9lPHQ/ci8yOjIqcjpyK01hdGguYWJzKG4pKm59ZnVuY3Rpb24gSGgoZSx0LG4pe2xldCBpPTA7cmV0dXJuIDEwPT09ZSYmKGktPTFlNCksbiYmKGkrPTE1MCksNDAhPT1lJiY2NTI4OCE9PWV8fChpKz01MCksNDEhPT10JiY2NTI4OSE9PXR8fChpKz01MCksaX1mdW5jdGlvbiBYaChlLHQsbixpLHIsbyl7bGV0IGE9bnVsbCxzPSRoKHQsbixyLG8pO2Zvcihjb25zdCBlIG9mIGkpe2NvbnN0IGk9JGgodC1lLngsbixyLG8pK2UuYmFkbmVzcztpPD1zJiYoYT1lLHM9aSl9cmV0dXJue2luZGV4OmUseDp0LHByaW9yQnJlYWs6YSxiYWRuZXNzOnN9fWZ1bmN0aW9uIFloKGUpe2xldCB0PS41LG49LjU7c3dpdGNoKGUpe2Nhc2VcInJpZ2h0XCI6Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6dD0xO2JyZWFrO2Nhc2VcImxlZnRcIjpjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6dD0wfXN3aXRjaChlKXtjYXNlXCJib3R0b21cIjpjYXNlXCJib3R0b20tcmlnaHRcIjpjYXNlXCJib3R0b20tbGVmdFwiOm49MTticmVhaztjYXNlXCJ0b3BcIjpjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJ0b3AtbGVmdFwiOm49MH1yZXR1cm57aG9yaXpvbnRhbEFsaWduOnQsdmVydGljYWxBbGlnbjpufX1mdW5jdGlvbiBKaChlLHQsbixpLHIpe2lmKCEodHx8bnx8aXx8cikpcmV0dXJuO2NvbnN0IG89ZS5sZW5ndGgtMSxhPWVbb10scz0oYS54K2EubWV0cmljcy5hZHZhbmNlKmEuc2NhbGUpKnQ7Zm9yKGxldCB0PTA7dDw9bzt0KyspZVt0XS54LT1zLGVbdF0ueSs9bitpK3J9ZnVuY3Rpb24gUWgoZSx0LG4pe2NvbnN0e2hvcml6b250YWxBbGlnbjppLHZlcnRpY2FsQWxpZ246cn09WWgobiksbz10WzBdLWUuZGlzcGxheVNpemVbMF0qaSxhPXRbMV0tZS5kaXNwbGF5U2l6ZVsxXSpyO3JldHVybntpbWFnZTplLHRvcDphLGJvdHRvbTphK2UuZGlzcGxheVNpemVbMV0sbGVmdDpvLHJpZ2h0Om8rZS5kaXNwbGF5U2l6ZVswXX19ZnVuY3Rpb24gS2goZSx0LG4saSxyLG8pe2NvbnN0IGE9ZS5pbWFnZTtsZXQgcztpZihhLmNvbnRlbnQpe2NvbnN0IGU9YS5jb250ZW50LHQ9YS5waXhlbFJhdGlvfHwxO3M9W2VbMF0vdCxlWzFdL3QsYS5kaXNwbGF5U2l6ZVswXS1lWzJdL3QsYS5kaXNwbGF5U2l6ZVsxXS1lWzNdL3RdfWNvbnN0IGw9dC5sZWZ0Km8sYz10LnJpZ2h0Km87bGV0IHUsaCxkLHA7XCJ3aWR0aFwiPT09bnx8XCJib3RoXCI9PT1uPyhwPXJbMF0rbC1pWzNdLGg9clswXStjK2lbMV0pOihwPXJbMF0rKGwrYy1hLmRpc3BsYXlTaXplWzBdKS8yLGg9cCthLmRpc3BsYXlTaXplWzBdKTtjb25zdCBmPXQudG9wKm8sbT10LmJvdHRvbSpvO3JldHVyblwiaGVpZ2h0XCI9PT1ufHxcImJvdGhcIj09PW4/KHU9clsxXStmLWlbMF0sZD1yWzFdK20raVsyXSk6KHU9clsxXSsoZittLWEuZGlzcGxheVNpemVbMV0pLzIsZD11K2EuZGlzcGxheVNpemVbMV0pLHtpbWFnZTphLHRvcDp1LHJpZ2h0OmgsYm90dG9tOmQsbGVmdDpwLGNvbGxpc2lvblBhZGRpbmc6c319Y2xhc3MgZWQgZXh0ZW5kcyBte2NvbnN0cnVjdG9yKGUsdCxuLGkscil7c3VwZXIoZSx0KSx0aGlzLmFuZ2xlPWksdGhpcy56PW4sdm9pZCAwIT09ciYmKHRoaXMuc2VnbWVudD1yKX1jbG9uZSgpe3JldHVybiBuZXcgZWQodGhpcy54LHRoaXMueSx0aGlzLnosdGhpcy5hbmdsZSx0aGlzLnNlZ21lbnQpfX1mdW5jdGlvbiB0ZChlLHQsbixpLHIpe2lmKHZvaWQgMD09PXQuc2VnbWVudClyZXR1cm4hMDtsZXQgbz10LGE9dC5zZWdtZW50KzEscz0wO2Zvcig7cz4tbi8yOyl7aWYoYS0tLGE8MClyZXR1cm4hMTtzLT1lW2FdLmRpc3Qobyksbz1lW2FdfXMrPWVbYV0uZGlzdChlW2ErMV0pLGErKztjb25zdCBsPVtdO2xldCBjPTA7Zm9yKDtzPG4vMjspe2NvbnN0IHQ9ZVthXSxuPWVbYSsxXTtpZighbilyZXR1cm4hMTtsZXQgbz1lW2EtMV0uYW5nbGVUbyh0KS10LmFuZ2xlVG8obik7Zm9yKG89TWF0aC5hYnMoKG8rMypNYXRoLlBJKSUoMipNYXRoLlBJKS1NYXRoLlBJKSxsLnB1c2goe2Rpc3RhbmNlOnMsYW5nbGVEZWx0YTpvfSksYys9bztzLWxbMF0uZGlzdGFuY2U+aTspYy09bC5zaGlmdCgpLmFuZ2xlRGVsdGE7aWYoYz5yKXJldHVybiExO2ErKyxzKz10LmRpc3Qobil9cmV0dXJuITB9ZnVuY3Rpb24gbmQoZSl7bGV0IHQ9MDtmb3IobGV0IG49MDtuPGUubGVuZ3RoLTE7bisrKXQrPWVbbl0uZGlzdChlW24rMV0pO3JldHVybiB0fWZ1bmN0aW9uIGlkKGUsdCxuKXtyZXR1cm4gZT8uNip0Km46MH1mdW5jdGlvbiByZChlLHQpe3JldHVybiBNYXRoLm1heChlP2UucmlnaHQtZS5sZWZ0OjAsdD90LnJpZ2h0LXQubGVmdDowKX1mdW5jdGlvbiBvZChlLHQsbixpLHIsbyl7Y29uc3QgYT1pZChuLHIsbykscz1yZChuLGkpKm87bGV0IGw9MDtjb25zdCBjPW5kKGUpLzI7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aC0xO24rKyl7Y29uc3QgaT1lW25dLHI9ZVtuKzFdLG89aS5kaXN0KHIpO2lmKGwrbz5jKXtjb25zdCB1PShjLWwpL28saD1DbihpLngsci54LHUpLGQ9Q24oaS55LHIueSx1KSxwPW5ldyBlZChoLGQsMCxyLmFuZ2xlVG8oaSksbik7cmV0dXJuIWF8fHRkKGUscCxzLGEsdCk/cDp2b2lkIDB9bCs9b319ZnVuY3Rpb24gYWQoZSx0LG4saSxyLG8sYSxzLGwpe2NvbnN0IGM9aWQoaSxvLGEpLHU9cmQoaSxyKSxoPXUqYSxkPTA9PT1lWzBdLnh8fGVbMF0ueD09PWx8fDA9PT1lWzBdLnl8fGVbMF0ueT09PWw7cmV0dXJuIHQtaDx0LzQmJih0PWgrdC80KSxmdW5jdGlvbiBlKHQsbixpLHIsbyxhLHMsbCxjKXtjb25zdCB1PWEvMixoPW5kKHQpO2xldCBkPTAscD1uLWksZj1bXTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoLTE7ZSsrKXtjb25zdCBuPXRbZV0scz10W2UrMV0sbD1uLmRpc3QocyksbT1zLmFuZ2xlVG8obik7Zm9yKDtwK2k8ZCtsOyl7cCs9aTtjb25zdCBnPShwLWQpL2wseT1DbihuLngscy54LGcpLF89Q24obi55LHMueSxnKTtpZih5Pj0wJiZ5PGMmJl8+PTAmJl88YyYmcC11Pj0wJiZwK3U8PWgpe2NvbnN0IG49bmV3IGVkKHksXywwLG0sZSk7bi5fcm91bmQoKSxyJiYhdGQodCxuLGEscixvKXx8Zi5wdXNoKG4pfX1kKz1sfXJldHVybiBsfHxmLmxlbmd0aHx8c3x8KGY9ZSh0LGQvMixpLHIsbyxhLHMsITAsYykpLGZ9KGUsZD90LzIqcyV0Oih1LzIrMipvKSphKnMldCx0LGMsbixoLGQsITEsbCl9ZnVuY3Rpb24gc2QoZSx0LG4saSxyKXtjb25zdCBvPVtdO2ZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKXtjb25zdCBzPWVbYV07bGV0IGw7Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aC0xO2UrKyl7bGV0IGE9c1tlXSxjPXNbZSsxXTthLng8dCYmYy54PHR8fChhLng8dD9hPW5ldyBtKHQsYS55Kyh0LWEueCkvKGMueC1hLngpKihjLnktYS55KSkuX3JvdW5kKCk6Yy54PHQmJihjPW5ldyBtKHQsYS55Kyh0LWEueCkvKGMueC1hLngpKihjLnktYS55KSkuX3JvdW5kKCkpLGEueTxuJiZjLnk8bnx8KGEueTxuP2E9bmV3IG0oYS54KyhuLWEueSkvKGMueS1hLnkpKihjLngtYS54KSxuKS5fcm91bmQoKTpjLnk8biYmKGM9bmV3IG0oYS54KyhuLWEueSkvKGMueS1hLnkpKihjLngtYS54KSxuKS5fcm91bmQoKSksYS54Pj1pJiZjLng+PWl8fChhLng+PWk/YT1uZXcgbShpLGEueSsoaS1hLngpLyhjLngtYS54KSooYy55LWEueSkpLl9yb3VuZCgpOmMueD49aSYmKGM9bmV3IG0oaSxhLnkrKGktYS54KS8oYy54LWEueCkqKGMueS1hLnkpKS5fcm91bmQoKSksYS55Pj1yJiZjLnk+PXJ8fChhLnk+PXI/YT1uZXcgbShhLngrKHItYS55KS8oYy55LWEueSkqKGMueC1hLngpLHIpLl9yb3VuZCgpOmMueT49ciYmKGM9bmV3IG0oYS54KyhyLWEueSkvKGMueS1hLnkpKihjLngtYS54KSxyKS5fcm91bmQoKSksbCYmYS5lcXVhbHMobFtsLmxlbmd0aC0xXSl8fChsPVthXSxvLnB1c2gobCkpLGwucHVzaChjKSkpKSl9fXJldHVybiBvfXpyKGVkLFwiQW5jaG9yXCIpO2NvbnN0IGxkPTFlMjA7ZnVuY3Rpb24gY2QoZSx0LG4saSxyLG8sYSxzLGwpe2ZvcihsZXQgYz10O2M8dCtpO2MrKyl1ZChlLG4qbytjLG8scixhLHMsbCk7Zm9yKGxldCBjPW47YzxuK3I7YysrKXVkKGUsYypvK3QsMSxpLGEscyxsKX1mdW5jdGlvbiB1ZChlLHQsbixpLHIsbyxhKXtvWzBdPTAsYVswXT0tbGQsYVsxXT1sZCxyWzBdPWVbdF07Zm9yKGxldCBzPTEsbD0wLGM9MDtzPGk7cysrKXtyW3NdPWVbdCtzKm5dO2NvbnN0IGk9cypzO2Rve2NvbnN0IGU9b1tsXTtjPShyW3NdLXJbZV0raS1lKmUpLyhzLWUpLzJ9d2hpbGUoYzw9YVtsXSYmLS1sPi0xKTtsKyssb1tsXT1zLGFbbF09YyxhW2wrMV09bGR9Zm9yKGxldCBzPTAsbD0wO3M8aTtzKyspe2Zvcig7YVtsKzFdPHM7KWwrKztjb25zdCBpPW9bbF0sYz1zLWk7ZVt0K3Mqbl09cltpXStjKmN9fWNvbnN0IGhkPXtub25lOjAsaWRlb2dyYXBoczoxLGFsbDoyfTtjbGFzcyBkZHtjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5yZXF1ZXN0TWFuYWdlcj1lLHRoaXMubG9jYWxHbHlwaE1vZGU9dCx0aGlzLmxvY2FsRm9udEZhbWlseT1uLHRoaXMuZW50cmllcz17fSx0aGlzLmxvY2FsR2x5cGhzPXsyMDA6e30sNDAwOnt9LDUwMDp7fSw5MDA6e319fXNldFVSTChlKXt0aGlzLnVybD1lfWdldEdseXBocyhlLHQpe2NvbnN0IG49W107Zm9yKGNvbnN0IHQgaW4gZSlmb3IoY29uc3QgaSBvZiBlW3RdKW4ucHVzaCh7c3RhY2s6dCxpZDppfSk7QyhuLCh7c3RhY2s6ZSxpZDp0fSxuKT0+e2xldCBpPXRoaXMuZW50cmllc1tlXTtpfHwoaT10aGlzLmVudHJpZXNbZV09e2dseXBoczp7fSxyZXF1ZXN0czp7fSxyYW5nZXM6e30sYXNjZW5kZXI6dm9pZCAwLGRlc2NlbmRlcjp2b2lkIDB9KTtsZXQgcj1pLmdseXBoc1t0XTtpZih2b2lkIDAhPT1yKXJldHVybiB2b2lkIG4obnVsbCx7c3RhY2s6ZSxpZDp0LGdseXBoOnJ9KTtpZihyPXRoaXMuX3RpbnlTREYoaSxlLHQpLHIpcmV0dXJuIGkuZ2x5cGhzW3RdPXIsdm9pZCBuKG51bGwse3N0YWNrOmUsaWQ6dCxnbHlwaDpyfSk7Y29uc3Qgbz1NYXRoLmZsb29yKHQvMjU2KTtpZigyNTYqbz42NTUzNSlyZXR1cm4gdm9pZCBuKG5ldyBFcnJvcihcImdseXBocyA+IDY1NTM1IG5vdCBzdXBwb3J0ZWRcIikpO2lmKGkucmFuZ2VzW29dKXJldHVybiB2b2lkIG4obnVsbCx7c3RhY2s6ZSxpZDp0LGdseXBoOnJ9KTtsZXQgYT1pLnJlcXVlc3RzW29dO2F8fChhPWkucmVxdWVzdHNbb109W10sZGQubG9hZEdseXBoUmFuZ2UoZSxvLHRoaXMudXJsLHRoaXMucmVxdWVzdE1hbmFnZXIsKGUsdCk9PntpZih0KXtpLmFzY2VuZGVyPXQuYXNjZW5kZXIsaS5kZXNjZW5kZXI9dC5kZXNjZW5kZXI7Zm9yKGNvbnN0IGUgaW4gdC5nbHlwaHMpdGhpcy5fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaCgrZSl8fChpLmdseXBoc1srZV09dC5nbHlwaHNbK2VdKTtpLnJhbmdlc1tvXT0hMH1mb3IoY29uc3QgbiBvZiBhKW4oZSx0KTtkZWxldGUgaS5yZXF1ZXN0c1tvXX0pKSxhLnB1c2goKGkscik9PntpP24oaSk6ciYmbihudWxsLHtzdGFjazplLGlkOnQsZ2x5cGg6ci5nbHlwaHNbdF18fG51bGx9KX0pfSwoZSxuKT0+e2lmKGUpdChlKTtlbHNlIGlmKG4pe2NvbnN0IGU9e307Zm9yKGNvbnN0e3N0YWNrOnQsaWQ6aSxnbHlwaDpyfW9mIG4pdm9pZCAwPT09ZVt0XSYmKGVbdF09e30pLHZvaWQgMD09PWVbdF0uZ2x5cGhzJiYoZVt0XS5nbHlwaHM9e30pLGVbdF0uZ2x5cGhzW2ldPXImJntpZDpyLmlkLGJpdG1hcDpyLmJpdG1hcC5jbG9uZSgpLG1ldHJpY3M6ci5tZXRyaWNzfSxlW3RdLmFzY2VuZGVyPXRoaXMuZW50cmllc1t0XS5hc2NlbmRlcixlW3RdLmRlc2NlbmRlcj10aGlzLmVudHJpZXNbdF0uZGVzY2VuZGVyO3QobnVsbCxlKX19KX1fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaChlKXtyZXR1cm4gdGhpcy5sb2NhbEdseXBoTW9kZSE9PWhkLm5vbmUmJih0aGlzLmxvY2FsR2x5cGhNb2RlPT09aGQuYWxsPyEhdGhpcy5sb2NhbEZvbnRGYW1pbHk6ISF0aGlzLmxvY2FsRm9udEZhbWlseSYmKEtyKGUpfHxubyhlKXx8WnIoZSl8fFdyKGUpfHxHcihlKSkpfV90aW55U0RGKGUsdCxuKXtjb25zdCBpPXRoaXMubG9jYWxGb250RmFtaWx5O2lmKCFpfHwhdGhpcy5fZG9lc0NoYXJTdXBwb3J0TG9jYWxHbHlwaChuKSlyZXR1cm47bGV0IHI9ZS50aW55U0RGO2lmKCFyKXtsZXQgbj1cIjQwMFwiOy9ib2xkL2kudGVzdCh0KT9uPVwiOTAwXCI6L21lZGl1bS9pLnRlc3QodCk/bj1cIjUwMFwiOi9saWdodC9pLnRlc3QodCkmJihuPVwiMjAwXCIpLHI9ZS50aW55U0RGPW5ldyBkZC5UaW55U0RGKHtmb250RmFtaWx5OmksZm9udFdlaWdodDpuLGZvbnRTaXplOjQ4LGJ1ZmZlcjo2LHJhZGl1czoxNn0pLHIuZm9udFdlaWdodD1ufWlmKHRoaXMubG9jYWxHbHlwaHNbci5mb250V2VpZ2h0XVtuXSlyZXR1cm4gdGhpcy5sb2NhbEdseXBoc1tyLmZvbnRXZWlnaHRdW25dO2NvbnN0IG89U3RyaW5nLmZyb21DaGFyQ29kZShuKSx7ZGF0YTphLHdpZHRoOnMsaGVpZ2h0OmwsZ2x5cGhXaWR0aDpjLGdseXBoSGVpZ2h0OnUsZ2x5cGhMZWZ0OmgsZ2x5cGhUb3A6ZCxnbHlwaEFkdmFuY2U6cH09ci5kcmF3KG8pO3JldHVybiB0aGlzLmxvY2FsR2x5cGhzW3IuZm9udFdlaWdodF1bbl09e2lkOm4sYml0bWFwOm5ldyBvYyh7d2lkdGg6cyxoZWlnaHQ6bH0sYSksbWV0cmljczp7d2lkdGg6Yy8yLGhlaWdodDp1LzIsbGVmdDpoLzIsdG9wOmQvMi0yNyxhZHZhbmNlOnAvMixsb2NhbEdseXBoOiEwfX19fWZ1bmN0aW9uIHBkKGUsdCxuLGkpe2NvbnN0IHI9W10sbz1lLmltYWdlLGE9by5waXhlbFJhdGlvLHM9by5wYWRkZWRSZWN0LnctMixsPW8ucGFkZGVkUmVjdC5oLTIsYz1lLnJpZ2h0LWUubGVmdCx1PWUuYm90dG9tLWUudG9wLGg9by5zdHJldGNoWHx8W1swLHNdXSxkPW8uc3RyZXRjaFl8fFtbMCxsXV0scD0oZSx0KT0+ZSt0WzFdLXRbMF0sZj1oLnJlZHVjZShwLDApLGc9ZC5yZWR1Y2UocCwwKSx5PXMtZixfPWwtZztsZXQgdj0wLHg9ZixiPTAsdz1nLFQ9MCxFPXksUz0wLE09XztpZihvLmNvbnRlbnQmJmkpe2NvbnN0IGU9by5jb250ZW50O3Y9ZmQoaCwwLGVbMF0pLGI9ZmQoZCwwLGVbMV0pLHg9ZmQoaCxlWzBdLGVbMl0pLHc9ZmQoZCxlWzFdLGVbM10pLFQ9ZVswXS12LFM9ZVsxXS1iLEU9ZVsyXS1lWzBdLXgsTT1lWzNdLWVbMV0td31jb25zdCBJPShpLHIscyxsKT0+e2NvbnN0IGg9Z2QoaS5zdHJldGNoLXYseCxjLGUubGVmdCksZD15ZChpLmZpeGVkLVQsRSxpLnN0cmV0Y2gsZikscD1nZChyLnN0cmV0Y2gtYix3LHUsZS50b3ApLHk9eWQoci5maXhlZC1TLE0sci5zdHJldGNoLGcpLF89Z2Qocy5zdHJldGNoLXYseCxjLGUubGVmdCksST15ZChzLmZpeGVkLVQsRSxzLnN0cmV0Y2gsZiksQz1nZChsLnN0cmV0Y2gtYix3LHUsZS50b3ApLGs9eWQobC5maXhlZC1TLE0sbC5zdHJldGNoLGcpLEE9bmV3IG0oaCxwKSxQPW5ldyBtKF8scCksej1uZXcgbShfLEMpLEQ9bmV3IG0oaCxDKSxMPW5ldyBtKGQvYSx5L2EpLE89bmV3IG0oSS9hLGsvYSksUj10Kk1hdGguUEkvMTgwO2lmKFIpe2NvbnN0IGU9TWF0aC5zaW4oUiksdD1NYXRoLmNvcyhSKSxuPVt0LC1lLGUsdF07QS5fbWF0TXVsdChuKSxQLl9tYXRNdWx0KG4pLEQuX21hdE11bHQobiksei5fbWF0TXVsdChuKX1jb25zdCBCPWkuc3RyZXRjaCtpLmZpeGVkLGo9ci5zdHJldGNoK3IuZml4ZWQ7cmV0dXJue3RsOkEsdHI6UCxibDpELGJyOnosdGV4Ont4Om8ucGFkZGVkUmVjdC54KzErQix5Om8ucGFkZGVkUmVjdC55KzEraix3OnMuc3RyZXRjaCtzLmZpeGVkLUIsaDpsLnN0cmV0Y2grbC5maXhlZC1qfSx3cml0aW5nTW9kZTp2b2lkIDAsZ2x5cGhPZmZzZXQ6WzAsMF0sc2VjdGlvbkluZGV4OjAscGl4ZWxPZmZzZXRUTDpMLHBpeGVsT2Zmc2V0QlI6TyxtaW5Gb250U2NhbGVYOkUvYS9jLG1pbkZvbnRTY2FsZVk6TS9hL3UsaXNTREY6bn19O2lmKGkmJihvLnN0cmV0Y2hYfHxvLnN0cmV0Y2hZKSl7Y29uc3QgZT1tZChoLHksZiksdD1tZChkLF8sZyk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aC0xO24rKyl7Y29uc3QgaT1lW25dLG89ZVtuKzFdO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGgtMTtlKyspci5wdXNoKEkoaSx0W2VdLG8sdFtlKzFdKSl9fWVsc2Ugci5wdXNoKEkoe2ZpeGVkOjAsc3RyZXRjaDotMX0se2ZpeGVkOjAsc3RyZXRjaDotMX0se2ZpeGVkOjAsc3RyZXRjaDpzKzF9LHtmaXhlZDowLHN0cmV0Y2g6bCsxfSkpO3JldHVybiByfWZ1bmN0aW9uIGZkKGUsdCxuKXtsZXQgaT0wO2Zvcihjb25zdCByIG9mIGUpaSs9TWF0aC5tYXgodCxNYXRoLm1pbihuLHJbMV0pKS1NYXRoLm1heCh0LE1hdGgubWluKG4sclswXSkpO3JldHVybiBpfWZ1bmN0aW9uIG1kKGUsdCxuKXtjb25zdCBpPVt7Zml4ZWQ6LTEsc3RyZXRjaDowfV07Zm9yKGNvbnN0W3Qsbl1vZiBlKXtjb25zdCBlPWlbaS5sZW5ndGgtMV07aS5wdXNoKHtmaXhlZDp0LWUuc3RyZXRjaCxzdHJldGNoOmUuc3RyZXRjaH0pLGkucHVzaCh7Zml4ZWQ6dC1lLnN0cmV0Y2gsc3RyZXRjaDplLnN0cmV0Y2grKG4tdCl9KX1yZXR1cm4gaS5wdXNoKHtmaXhlZDp0KzEsc3RyZXRjaDpufSksaX1mdW5jdGlvbiBnZChlLHQsbixpKXtyZXR1cm4gZS90Km4raX1mdW5jdGlvbiB5ZChlLHQsbixpKXtyZXR1cm4gZS10Km4vaX1mdW5jdGlvbiBfZChlLHQsbixpKXtjb25zdCByPXQrZS5wb3NpdGlvbmVkTGluZXNbaV0ubGluZU9mZnNldDtyZXR1cm4gMD09PWk/bityLzI6bisocisodCtlLnBvc2l0aW9uZWRMaW5lc1tpLTFdLmxpbmVPZmZzZXQpKS8yfWRkLmxvYWRHbHlwaFJhbmdlPWZ1bmN0aW9uKGUsdCxuLGkscil7Y29uc3Qgbz0yNTYqdCxhPW8rMjU1LHM9aS50cmFuc2Zvcm1SZXF1ZXN0KGkubm9ybWFsaXplR2x5cGhzVVJMKG4pLnJlcGxhY2UoXCJ7Zm9udHN0YWNrfVwiLGUpLnJlcGxhY2UoXCJ7cmFuZ2V9XCIsYCR7b30tJHthfWApLGFlLkdseXBocyk7dWUocywoZSx0KT0+e2lmKGUpcihlKTtlbHNlIGlmKHQpe2NvbnN0IGU9e30sbj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGRoKGUpLnJlYWRGaWVsZHMoTGgse30pfSh0KTtmb3IoY29uc3QgdCBvZiBuLmdseXBocyllW3QuaWRdPXQ7cihudWxsLHtnbHlwaHM6ZSxhc2NlbmRlcjpuLmFzY2VuZGVyLGRlc2NlbmRlcjpuLmRlc2NlbmRlcn0pfX0pfSxkZC5UaW55U0RGPWNsYXNze2NvbnN0cnVjdG9yKHtmb250U2l6ZTplPTI0LGJ1ZmZlcjp0PTMscmFkaXVzOm49OCxjdXRvZmY6aT0uMjUsZm9udEZhbWlseTpyPVwic2Fucy1zZXJpZlwiLGZvbnRXZWlnaHQ6bz1cIm5vcm1hbFwiLGZvbnRTdHlsZTphPVwibm9ybWFsXCJ9PXt9KXt0aGlzLmJ1ZmZlcj10LHRoaXMuY3V0b2ZmPWksdGhpcy5yYWRpdXM9bjtjb25zdCBzPXRoaXMuc2l6ZT1lKzQqdCxsPXRoaXMuX2NyZWF0ZUNhbnZhcyhzKSxjPXRoaXMuY3R4PWwuZ2V0Q29udGV4dChcIjJkXCIse3dpbGxSZWFkRnJlcXVlbnRseTohMH0pO2MuZm9udD1gJHthfSAke299ICR7ZX1weCAke3J9YCxjLnRleHRCYXNlbGluZT1cImFscGhhYmV0aWNcIixjLnRleHRBbGlnbj1cImxlZnRcIixjLmZpbGxTdHlsZT1cImJsYWNrXCIsdGhpcy5ncmlkT3V0ZXI9bmV3IEZsb2F0NjRBcnJheShzKnMpLHRoaXMuZ3JpZElubmVyPW5ldyBGbG9hdDY0QXJyYXkocypzKSx0aGlzLmY9bmV3IEZsb2F0NjRBcnJheShzKSx0aGlzLno9bmV3IEZsb2F0NjRBcnJheShzKzEpLHRoaXMudj1uZXcgVWludDE2QXJyYXkocyl9X2NyZWF0ZUNhbnZhcyhlKXtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuIHQud2lkdGg9dC5oZWlnaHQ9ZSx0fWRyYXcoZSl7Y29uc3R7d2lkdGg6dCxhY3R1YWxCb3VuZGluZ0JveEFzY2VudDpuLGFjdHVhbEJvdW5kaW5nQm94RGVzY2VudDppLGFjdHVhbEJvdW5kaW5nQm94TGVmdDpyLGFjdHVhbEJvdW5kaW5nQm94UmlnaHQ6b309dGhpcy5jdHgubWVhc3VyZVRleHQoZSksYT1NYXRoLmNlaWwobikscz1NYXRoLm1pbih0aGlzLnNpemUtdGhpcy5idWZmZXIsTWF0aC5jZWlsKG8tcikpLGw9TWF0aC5taW4odGhpcy5zaXplLXRoaXMuYnVmZmVyLGErTWF0aC5jZWlsKGkpKSxjPXMrMip0aGlzLmJ1ZmZlcix1PWwrMip0aGlzLmJ1ZmZlcixoPU1hdGgubWF4KGMqdSwwKSxkPW5ldyBVaW50OENsYW1wZWRBcnJheShoKSxwPXtkYXRhOmQsd2lkdGg6YyxoZWlnaHQ6dSxnbHlwaFdpZHRoOnMsZ2x5cGhIZWlnaHQ6bCxnbHlwaFRvcDphLGdseXBoTGVmdDowLGdseXBoQWR2YW5jZTp0fTtpZigwPT09c3x8MD09PWwpcmV0dXJuIHA7Y29uc3R7Y3R4OmYsYnVmZmVyOm0sZ3JpZElubmVyOmcsZ3JpZE91dGVyOnl9PXRoaXM7Zi5jbGVhclJlY3QobSxtLHMsbCksZi5maWxsVGV4dChlLG0sbSthKTtjb25zdCBfPWYuZ2V0SW1hZ2VEYXRhKG0sbSxzLGwpO3kuZmlsbChsZCwwLGgpLGcuZmlsbCgwLDAsaCk7Zm9yKGxldCBlPTA7ZTxsO2UrKylmb3IobGV0IHQ9MDt0PHM7dCsrKXtjb25zdCBuPV8uZGF0YVs0KihlKnMrdCkrM10vMjU1O2lmKDA9PT1uKWNvbnRpbnVlO2NvbnN0IGk9KGUrbSkqYyt0K207aWYoMT09PW4peVtpXT0wLGdbaV09bGQ7ZWxzZXtjb25zdCBlPS41LW47eVtpXT1lPjA/ZSplOjAsZ1tpXT1lPDA/ZSplOjB9fWNkKHksMCwwLGMsdSxjLHRoaXMuZix0aGlzLnYsdGhpcy56KSxjZChnLG0sbSxzLGwsYyx0aGlzLmYsdGhpcy52LHRoaXMueik7Zm9yKGxldCBlPTA7ZTxoO2UrKyl7Y29uc3QgdD1NYXRoLnNxcnQoeVtlXSktTWF0aC5zcXJ0KGdbZV0pO2RbZV09TWF0aC5yb3VuZCgyNTUtMjU1Kih0L3RoaXMucmFkaXVzK3RoaXMuY3V0b2ZmKSl9cmV0dXJuIHB9fTtjbGFzcyB2ZHtjb25zdHJ1Y3RvcihlPVtdLHQ9eGQpe2lmKHRoaXMuZGF0YT1lLHRoaXMubGVuZ3RoPXRoaXMuZGF0YS5sZW5ndGgsdGhpcy5jb21wYXJlPXQsdGhpcy5sZW5ndGg+MClmb3IobGV0IGU9KHRoaXMubGVuZ3RoPj4xKS0xO2U+PTA7ZS0tKXRoaXMuX2Rvd24oZSl9cHVzaChlKXt0aGlzLmRhdGEucHVzaChlKSx0aGlzLmxlbmd0aCsrLHRoaXMuX3VwKHRoaXMubGVuZ3RoLTEpfXBvcCgpe2lmKDA9PT10aGlzLmxlbmd0aClyZXR1cm47Y29uc3QgZT10aGlzLmRhdGFbMF0sdD10aGlzLmRhdGEucG9wKCk7cmV0dXJuIHRoaXMubGVuZ3RoLS0sdGhpcy5sZW5ndGg+MCYmKHRoaXMuZGF0YVswXT10LHRoaXMuX2Rvd24oMCkpLGV9cGVlaygpe3JldHVybiB0aGlzLmRhdGFbMF19X3VwKGUpe2NvbnN0e2RhdGE6dCxjb21wYXJlOm59PXRoaXMsaT10W2VdO2Zvcig7ZT4wOyl7Y29uc3Qgcj1lLTE+PjEsbz10W3JdO2lmKG4oaSxvKT49MClicmVhazt0W2VdPW8sZT1yfXRbZV09aX1fZG93bihlKXtjb25zdHtkYXRhOnQsY29tcGFyZTpufT10aGlzLGk9dGhpcy5sZW5ndGg+PjEscj10W2VdO2Zvcig7ZTxpOyl7bGV0IGk9MSsoZTw8MSksbz10W2ldO2NvbnN0IGE9aSsxO2lmKGE8dGhpcy5sZW5ndGgmJm4odFthXSxvKTwwJiYoaT1hLG89dFthXSksbihvLHIpPj0wKWJyZWFrO3RbZV09byxlPWl9dFtlXT1yfX1mdW5jdGlvbiB4ZChlLHQpe3JldHVybiBlPHQ/LTE6ZT50PzE6MH1mdW5jdGlvbiBiZChlLHQ9MSxuPSExKXtsZXQgaT0xLzAscj0xLzAsbz0tMS8wLGE9LTEvMDtjb25zdCBzPWVbMF07Zm9yKGxldCBlPTA7ZTxzLmxlbmd0aDtlKyspe2NvbnN0IHQ9c1tlXTsoIWV8fHQueDxpKSYmKGk9dC54KSwoIWV8fHQueTxyKSYmKHI9dC55KSwoIWV8fHQueD5vKSYmKG89dC54KSwoIWV8fHQueT5hKSYmKGE9dC55KX1jb25zdCBsPU1hdGgubWluKG8taSxhLXIpO2xldCBjPWwvMjtjb25zdCB1PW5ldyB2ZChbXSx3ZCk7aWYoMD09PWwpcmV0dXJuIG5ldyBtKGkscik7Zm9yKGxldCB0PWk7dDxvO3QrPWwpZm9yKGxldCBuPXI7bjxhO24rPWwpdS5wdXNoKG5ldyBUZCh0K2MsbitjLGMsZSkpO2xldCBoPWZ1bmN0aW9uKGUpe2xldCB0PTAsbj0wLGk9MDtjb25zdCByPWVbMF07Zm9yKGxldCBlPTAsbz1yLmxlbmd0aCxhPW8tMTtlPG87YT1lKyspe2NvbnN0IG89cltlXSxzPXJbYV0sbD1vLngqcy55LXMueCpvLnk7bis9KG8ueCtzLngpKmwsaSs9KG8ueStzLnkpKmwsdCs9MypsfXJldHVybiBuZXcgVGQobi90LGkvdCwwLGUpfShlKSxkPXUubGVuZ3RoO2Zvcig7dS5sZW5ndGg7KXtjb25zdCBpPXUucG9wKCk7KGkuZD5oLmR8fCFoLmQpJiYoaD1pLG4mJmNvbnNvbGUubG9nKFwiZm91bmQgYmVzdCAlZCBhZnRlciAlZCBwcm9iZXNcIixNYXRoLnJvdW5kKDFlNCppLmQpLzFlNCxkKSksaS5tYXgtaC5kPD10fHwoYz1pLmgvMix1LnB1c2gobmV3IFRkKGkucC54LWMsaS5wLnktYyxjLGUpKSx1LnB1c2gobmV3IFRkKGkucC54K2MsaS5wLnktYyxjLGUpKSx1LnB1c2gobmV3IFRkKGkucC54LWMsaS5wLnkrYyxjLGUpKSx1LnB1c2gobmV3IFRkKGkucC54K2MsaS5wLnkrYyxjLGUpKSxkKz00KX1yZXR1cm4gbiYmKGNvbnNvbGUubG9nKFwibnVtIHByb2JlczogXCIrZCksY29uc29sZS5sb2coXCJiZXN0IGRpc3RhbmNlOiBcIitoLmQpKSxoLnB9ZnVuY3Rpb24gd2QoZSx0KXtyZXR1cm4gdC5tYXgtZS5tYXh9ZnVuY3Rpb24gVGQoZSx0LG4saSl7dGhpcy5wPW5ldyBtKGUsdCksdGhpcy5oPW4sdGhpcy5kPWZ1bmN0aW9uKGUsdCl7bGV0IG49ITEsaT0xLzA7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG89dFtyXTtmb3IobGV0IHQ9MCxyPW8ubGVuZ3RoLGE9ci0xO3Q8cjthPXQrKyl7Y29uc3Qgcj1vW3RdLHM9b1thXTtyLnk+ZS55IT1zLnk+ZS55JiZlLng8KHMueC1yLngpKihlLnktci55KS8ocy55LXIueSkrci54JiYobj0hbiksaT1NYXRoLm1pbihpLCRzKGUscixzKSl9fXJldHVybihuPzE6LTEpKk1hdGguc3FydChpKX0odGhpcy5wLGkpLHRoaXMubWF4PXRoaXMuZCt0aGlzLmgqTWF0aC5TUVJUMn1jb25zdCBFZD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksU2Q9TWF0aC5zcXJ0KDIpO2Z1bmN0aW9uIE1kKGUsW3Qsbl0pe2xldCBpPTAscj0wO2lmKG49PT1FZCl7dDwwJiYodD0wKTtjb25zdCBuPXQvU2Q7c3dpdGNoKGUpe2Nhc2VcInRvcC1yaWdodFwiOmNhc2VcInRvcC1sZWZ0XCI6cj1uLTc7YnJlYWs7Y2FzZVwiYm90dG9tLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLWxlZnRcIjpyPTctbjticmVhaztjYXNlXCJib3R0b21cIjpyPTctdDticmVhaztjYXNlXCJ0b3BcIjpyPXQtN31zd2l0Y2goZSl7Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6aT0tbjticmVhaztjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6aT1uO2JyZWFrO2Nhc2VcImxlZnRcIjppPXQ7YnJlYWs7Y2FzZVwicmlnaHRcIjppPS10fX1lbHNle3N3aXRjaCh0PU1hdGguYWJzKHQpLG49TWF0aC5hYnMobiksZSl7Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJ0b3BcIjpyPW4tNzticmVhaztjYXNlXCJib3R0b20tcmlnaHRcIjpjYXNlXCJib3R0b20tbGVmdFwiOmNhc2VcImJvdHRvbVwiOnI9Ny1ufXN3aXRjaChlKXtjYXNlXCJ0b3AtcmlnaHRcIjpjYXNlXCJib3R0b20tcmlnaHRcIjpjYXNlXCJyaWdodFwiOmk9LXQ7YnJlYWs7Y2FzZVwidG9wLWxlZnRcIjpjYXNlXCJib3R0b20tbGVmdFwiOmNhc2VcImxlZnRcIjppPXR9fXJldHVybltpLHJdfWZ1bmN0aW9uIElkKGUsdCxuLGkscixvLGEscyxsLGMpe2UuY3JlYXRlQXJyYXlzKCksZS50aWxlUGl4ZWxSYXRpbz1wcy8oNTEyKmUub3ZlcnNjYWxpbmcpLGUuY29tcGFyZVRleHQ9e30sZS5pY29uc05lZWRMaW5lYXI9ITE7Y29uc3QgdT1lLmxheWVyc1swXS5sYXlvdXQsaD1lLmxheWVyc1swXS5fdW5ldmFsdWF0ZWRMYXlvdXQuX3ZhbHVlcyxkPXt9O2lmKFwiY29tcG9zaXRlXCI9PT1lLnRleHRTaXplRGF0YS5raW5kKXtjb25zdHttaW5ab29tOnQsbWF4Wm9vbTpufT1lLnRleHRTaXplRGF0YTtkLmNvbXBvc2l0ZVRleHRTaXplcz1baFtcInRleHQtc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBQbyh0KSxzKSxoW1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IFBvKG4pLHMpXX1pZihcImNvbXBvc2l0ZVwiPT09ZS5pY29uU2l6ZURhdGEua2luZCl7Y29uc3R7bWluWm9vbTp0LG1heFpvb206bn09ZS5pY29uU2l6ZURhdGE7ZC5jb21wb3NpdGVJY29uU2l6ZXM9W2hbXCJpY29uLXNpemVcIl0ucG9zc2libHlFdmFsdWF0ZShuZXcgUG8odCkscyksaFtcImljb24tc2l6ZVwiXS5wb3NzaWJseUV2YWx1YXRlKG5ldyBQbyhuKSxzKV19ZC5sYXlvdXRUZXh0U2l6ZT1oW1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IFBvKGwrMSkscyksZC5sYXlvdXRJY29uU2l6ZT1oW1wiaWNvbi1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IFBvKGwrMSkscyksZC50ZXh0TWF4U2l6ZT1oW1widGV4dC1zaXplXCJdLnBvc3NpYmx5RXZhbHVhdGUobmV3IFBvKDE4KSxzKTtjb25zdCBwPVwibWFwXCI9PT11LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT11LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksZj11LmdldChcInRleHQtc2l6ZVwiKTtmb3IoY29uc3QgbyBvZiBlLmZlYXR1cmVzKXtjb25zdCBsPXUuZ2V0KFwidGV4dC1mb250XCIpLmV2YWx1YXRlKG8se30scykuam9pbihcIixcIiksaD1mLmV2YWx1YXRlKG8se30scyksbT1kLmxheW91dFRleHRTaXplLmV2YWx1YXRlKG8se30scyksZz0oZC5sYXlvdXRJY29uU2l6ZS5ldmFsdWF0ZShvLHt9LHMpLHtob3Jpem9udGFsOnt9LHZlcnRpY2FsOnZvaWQgMH0pLHk9by50ZXh0O2xldCBfLHY9WzAsMF07aWYoeSl7Y29uc3QgaT15LnRvU3RyaW5nKCksYT0yNCp1LmdldChcInRleHQtbGV0dGVyLXNwYWNpbmdcIikuZXZhbHVhdGUobyx7fSxzKSxjPTI0KnUuZ2V0KFwidGV4dC1saW5lLWhlaWdodFwiKS5ldmFsdWF0ZShvLHt9LHMpLGQ9aG8oaSk/YTowLGY9dS5nZXQoXCJ0ZXh0LWFuY2hvclwiKS5ldmFsdWF0ZShvLHt9LHMpLF89dS5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKTtpZighXyl7Y29uc3QgZT11LmdldChcInRleHQtcmFkaWFsLW9mZnNldFwiKS5ldmFsdWF0ZShvLHt9LHMpO3Y9ZT9NZChmLFsyNCplLEVkXSk6dS5nZXQoXCJ0ZXh0LW9mZnNldFwiKS5ldmFsdWF0ZShvLHt9LHMpLm1hcChlPT4yNCplKX1sZXQgeD1wP1wiY2VudGVyXCI6dS5nZXQoXCJ0ZXh0LWp1c3RpZnlcIikuZXZhbHVhdGUobyx7fSxzKTtjb25zdCBiPVwicG9pbnRcIj09PXUuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKSx3PWI/MjQqdS5nZXQoXCJ0ZXh0LW1heC13aWR0aFwiKS5ldmFsdWF0ZShvLHt9LHMpOjEvMCxUPW89PntlLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJnVvKGkpJiYoZy52ZXJ0aWNhbD1HaCh5LHQsbixyLGwsdyxjLGYsbyxkLHYsTmgudmVydGljYWwsITAsbSxoKSl9O2lmKCFwJiZfKXtjb25zdCBlPVwiYXV0b1wiPT09eD9fLm1hcChlPT5DZChlKSk6W3hdO2xldCBpPSExO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCBhPWVbb107aWYoIWcuaG9yaXpvbnRhbFthXSlpZihpKWcuaG9yaXpvbnRhbFthXT1nLmhvcml6b250YWxbMF07ZWxzZXtjb25zdCBlPUdoKHksdCxuLHIsbCx3LGMsXCJjZW50ZXJcIixhLGQsdixOaC5ob3Jpem9udGFsLCExLG0saCk7ZSYmKGcuaG9yaXpvbnRhbFthXT1lLGk9MT09PWUucG9zaXRpb25lZExpbmVzLmxlbmd0aCl9fVQoXCJsZWZ0XCIpfWVsc2V7aWYoXCJhdXRvXCI9PT14JiYoeD1DZChmKSksYnx8dS5nZXQoXCJ0ZXh0LXdyaXRpbmctbW9kZVwiKS5pbmRleE9mKFwiaG9yaXpvbnRhbFwiKT49MHx8IXVvKGkpKXtjb25zdCBlPUdoKHksdCxuLHIsbCx3LGMsZix4LGQsdixOaC5ob3Jpem9udGFsLCExLG0saCk7ZSYmKGcuaG9yaXpvbnRhbFt4XT1lKX1UKGI/XCJsZWZ0XCI6eCl9fWxldCB4PSExO2lmKG8uaWNvbiYmby5pY29uLm5hbWUpe2NvbnN0IHQ9aVtvLmljb24ubmFtZV07dCYmKF89UWgocltvLmljb24ubmFtZV0sdS5nZXQoXCJpY29uLW9mZnNldFwiKS5ldmFsdWF0ZShvLHt9LHMpLHUuZ2V0KFwiaWNvbi1hbmNob3JcIikuZXZhbHVhdGUobyx7fSxzKSkseD10LnNkZix2b2lkIDA9PT1lLnNkZkljb25zP2Uuc2RmSWNvbnM9dC5zZGY6ZS5zZGZJY29ucyE9PXQuc2RmJiZWKFwiU3R5bGUgc2hlZXQgd2FybmluZzogQ2Fubm90IG1peCBTREYgYW5kIG5vbi1TREYgaWNvbnMgaW4gb25lIGJ1ZmZlclwiKSwodC5waXhlbFJhdGlvIT09ZS5waXhlbFJhdGlvfHwwIT09dS5nZXQoXCJpY29uLXJvdGF0ZVwiKS5jb25zdGFudE9yKDEpKSYmKGUuaWNvbnNOZWVkTGluZWFyPSEwKSl9Y29uc3QgYj16ZChnLmhvcml6b250YWwpfHxnLnZlcnRpY2FsO2UuaWNvbnNJblRleHR8fChlLmljb25zSW5UZXh0PSEhYiYmYi5pY29uc0luVGV4dCksKGJ8fF8pJiZrZChlLG8sZyxfLGksZCxtLDAsdix4LGEscyxjKX1vJiZlLmdlbmVyYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKGwsZS5jb2xsaXNpb25Cb3hBcnJheSl9ZnVuY3Rpb24gQ2QoZSl7c3dpdGNoKGUpe2Nhc2VcInJpZ2h0XCI6Y2FzZVwidG9wLXJpZ2h0XCI6Y2FzZVwiYm90dG9tLXJpZ2h0XCI6cmV0dXJuXCJyaWdodFwiO2Nhc2VcImxlZnRcIjpjYXNlXCJ0b3AtbGVmdFwiOmNhc2VcImJvdHRvbS1sZWZ0XCI6cmV0dXJuXCJsZWZ0XCJ9cmV0dXJuXCJjZW50ZXJcIn1mdW5jdGlvbiBrZChlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkKXtsZXQgcD1vLnRleHRNYXhTaXplLmV2YWx1YXRlKHQse30saCk7dm9pZCAwPT09cCYmKHA9YSk7Y29uc3QgZj1lLmxheWVyc1swXS5sYXlvdXQsbT1mLmdldChcImljb24tb2Zmc2V0XCIpLmV2YWx1YXRlKHQse30saCksZz16ZChuLmhvcml6b250YWwpfHxuLnZlcnRpY2FsLHk9XCJnbG9iZVwiPT09ZC5uYW1lLF89YS8yNCx4PWUudGlsZVBpeGVsUmF0aW8qcC8yNCxiPShrPWUub3ZlcnNjYWxpbmcsZS56b29tPjE4JiZrPjImJihrPj49MSksTWF0aC5tYXgocHMvKDUxMiprKSwxKSpmLmdldChcInN5bWJvbC1zcGFjaW5nXCIpKSx3PWYuZ2V0KFwidGV4dC1wYWRkaW5nXCIpKmUudGlsZVBpeGVsUmF0aW8sVD1mLmdldChcImljb24tcGFkZGluZ1wiKSplLnRpbGVQaXhlbFJhdGlvLEU9dihmLmdldChcInRleHQtbWF4LWFuZ2xlXCIpKSxTPVwibWFwXCI9PT1mLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpJiZcInBvaW50XCIhPT1mLmdldChcInN5bWJvbC1wbGFjZW1lbnRcIiksTT1cIm1hcFwiPT09Zi5nZXQoXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiKSYmXCJwb2ludFwiIT09Zi5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLEk9Zi5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLEM9Yi8yO3ZhciBrO2NvbnN0IEE9Zi5nZXQoXCJpY29uLXRleHQtZml0XCIpO2xldCBQO2kmJlwibm9uZVwiIT09QSYmKGUuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmbi52ZXJ0aWNhbCYmKFA9S2goaSxuLnZlcnRpY2FsLEEsZi5nZXQoXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIiksbSxfKSksZyYmKGk9S2goaSxnLEEsZi5nZXQoXCJpY29uLXRleHQtZml0LXBhZGRpbmdcIiksbSxfKSkpO2NvbnN0IHo9KGEscyxwKT0+e2lmKHMueDwwfHxzLng+PXBzfHxzLnk8MHx8cy55Pj1wcylyZXR1cm47bGV0IGY9bnVsbDtpZih5KXtjb25zdHt4OmUseTp0LHo6bn09ZC5wcm9qZWN0VGlsZVBvaW50KHMueCxzLnkscCk7Zj17YW5jaG9yOm5ldyBlZChlLHQsbiwwLHZvaWQgMCksdXA6ZC51cFZlY3RvcihwLHMueCxzLnkpfX0hZnVuY3Rpb24oZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLHksXyx2LHgsYix3LFQsRSl7Y29uc3QgUz1lLmFkZFRvTGluZVZlcnRleEFycmF5KHQsaSk7bGV0IE0sSSxDLGssQSxQLHosRD0wLEw9MCxPPTAsUj0wLEI9LTEsaj0tMTtjb25zdCBGPXt9O2xldCBOPUxhLmV4cG9ydHMoXCJcIik7Y29uc3QgVT1uP24uYW5jaG9yOnQ7bGV0IEc9MCxaPTA7aWYodm9pZCAwPT09bC5fdW5ldmFsdWF0ZWRMYXlvdXQuZ2V0VmFsdWUoXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIik/W0csWl09bC5sYXlvdXQuZ2V0KFwidGV4dC1vZmZzZXRcIikuZXZhbHVhdGUoeCx7fSxFKS5tYXAoZT0+MjQqZSk6KEc9MjQqbC5sYXlvdXQuZ2V0KFwidGV4dC1yYWRpYWwtb2Zmc2V0XCIpLmV2YWx1YXRlKHgse30sRSksWj1FZCksZS5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZyLnZlcnRpY2FsKXtjb25zdCBlPXIudmVydGljYWw7aWYoZilQPUxkKGUpLHMmJih6PUxkKHMpKTtlbHNle2NvbnN0IG49bC5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGVcIikuZXZhbHVhdGUoeCx7fSxFKSs5MDtDPURkKGMsVSx0LHUsaCxkLGUscCxuLG0pLHMmJihrPURkKGMsVSx0LHUsaCxkLHMseSxuKSl9fWlmKG8pe2NvbnN0IGk9bC5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGVcIikuZXZhbHVhdGUoeCx7fSxFKSxyPVwibm9uZVwiIT09bC5sYXlvdXQuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKSxhPXBkKG8saSx3LHIpLHA9cz9wZChzLGksdyxyKTp2b2lkIDA7ST1EZChjLFUsdCx1LGgsZCxvLHksaSksRD00KmEubGVuZ3RoO2NvbnN0IGY9ZS5pY29uU2l6ZURhdGE7bGV0IG09bnVsbDtcInNvdXJjZVwiPT09Zi5raW5kPyhtPVtpaCpsLmxheW91dC5nZXQoXCJpY29uLXNpemVcIikuZXZhbHVhdGUoeCx7fSxFKV0sbVswXT5BZCYmVihlLmxheWVySWRzWzBdKyc6IFZhbHVlIGZvciBcImljb24tc2l6ZVwiIGlzID49IDI1NS4gUmVkdWNlIHlvdXIgXCJpY29uLXNpemVcIi4nKSk6XCJjb21wb3NpdGVcIj09PWYua2luZCYmKG09W2loKmIuY29tcG9zaXRlSWNvblNpemVzWzBdLmV2YWx1YXRlKHgse30sRSksaWgqYi5jb21wb3NpdGVJY29uU2l6ZXNbMV0uZXZhbHVhdGUoeCx7fSxFKV0sKG1bMF0+QWR8fG1bMV0+QWQpJiZWKGUubGF5ZXJJZHNbMF0rJzogVmFsdWUgZm9yIFwiaWNvbi1zaXplXCIgaXMgPj0gMjU1LiBSZWR1Y2UgeW91ciBcImljb24tc2l6ZVwiLicpKSxlLmFkZFN5bWJvbHMoZS5pY29uLGEsbSx2LF8seCwhMSxuLHQsUy5saW5lU3RhcnRJbmRleCxTLmxpbmVMZW5ndGgsLTEsVCxFKSxCPWUuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5sZW5ndGgtMSxwJiYoTD00KnAubGVuZ3RoLGUuYWRkU3ltYm9scyhlLmljb24scCxtLHYsXyx4LE5oLnZlcnRpY2FsLG4sdCxTLmxpbmVTdGFydEluZGV4LFMubGluZUxlbmd0aCwtMSxULEUpLGo9ZS5pY29uLnBsYWNlZFN5bWJvbEFycmF5Lmxlbmd0aC0xKX1mb3IoY29uc3QgaSBpbiByLmhvcml6b250YWwpe2NvbnN0IG89ci5ob3Jpem9udGFsW2ldO018fChOPUxhLmV4cG9ydHMoby50ZXh0KSxmP0E9TGQobyk6TT1EZChjLFUsdCx1LGgsZCxvLHAsbC5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGVcIikuZXZhbHVhdGUoeCx7fSxFKSxtKSk7Y29uc3Qgcz0xPT09by5wb3NpdGlvbmVkTGluZXMubGVuZ3RoO2lmKE8rPVBkKGUsbix0LG8sYSxsLGYseCxtLFMsci52ZXJ0aWNhbD9OaC5ob3Jpem9udGFsOk5oLmhvcml6b250YWxPbmx5LHM/T2JqZWN0LmtleXMoci5ob3Jpem9udGFsKTpbaV0sRixCLGIsVCxFKSxzKWJyZWFrfXIudmVydGljYWwmJihSKz1QZChlLG4sdCxyLnZlcnRpY2FsLGEsbCxmLHgsbSxTLE5oLnZlcnRpY2FsLFtcInZlcnRpY2FsXCJdLEYsaixiLFQsRSkpO2xldCBXPS0xO2NvbnN0IHE9KGUsdCk9PmU/TWF0aC5tYXgoZSx0KTp0O1c9cShBLFcpLFc9cShQLFcpLFc9cSh6LFcpO2NvbnN0ICQ9Vz4tMT8xOjA7ZS5nbHlwaE9mZnNldEFycmF5Lmxlbmd0aD49cXAuTUFYX0dMWVBIUyYmVihcIlRvbyBtYW55IGdseXBocyBiZWluZyByZW5kZXJlZCBpbiBhIHRpbGUuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWFwYm94L21hcGJveC1nbC1qcy9pc3N1ZXMvMjkwN1wiKSx2b2lkIDAhPT14LnNvcnRLZXkmJmUuYWRkVG9Tb3J0S2V5UmFuZ2VzKGUuc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCx4LnNvcnRLZXkpLGUuc3ltYm9sSW5zdGFuY2VzLmVtcGxhY2VCYWNrKFUueCxVLnksVS56LHQueCx0LnksRi5yaWdodD49MD9GLnJpZ2h0Oi0xLEYuY2VudGVyPj0wP0YuY2VudGVyOi0xLEYubGVmdD49MD9GLmxlZnQ6LTEsRi52ZXJ0aWNhbD49MD9GLnZlcnRpY2FsOi0xLEIsaixOLHZvaWQgMCE9PU0/TTplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT1NP00rMTplLmNvbGxpc2lvbkJveEFycmF5Lmxlbmd0aCx2b2lkIDAhPT1DP0M6ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09Qz9DKzE6ZS5jb2xsaXNpb25Cb3hBcnJheS5sZW5ndGgsdm9pZCAwIT09ST9JOmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHZvaWQgMCE9PUk/SSsxOmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLGt8fGUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLGs/aysxOmUuY29sbGlzaW9uQm94QXJyYXkubGVuZ3RoLHUsTyxSLEQsTCwkLDAsRyxaLFcpfShlLHMsZixhLG4saSxyLFAsZS5sYXllcnNbMF0sZS5jb2xsaXNpb25Cb3hBcnJheSx0LmluZGV4LHQuc291cmNlTGF5ZXJJbmRleCxlLmluZGV4LHcsUyxsLDAsVCxNLG0sdCxvLGMsdSxoKX07aWYoXCJsaW5lXCI9PT1JKWZvcihjb25zdCByIG9mIHNkKHQuZ2VvbWV0cnksMCwwLHBzLHBzKSl7Y29uc3QgdD1hZChyLGIsRSxuLnZlcnRpY2FsfHxnLGksMjQseCxlLm92ZXJzY2FsaW5nLHBzKTtmb3IoY29uc3QgbiBvZiB0KXtjb25zdCB0PWc7dCYmT2QoZSx0LnRleHQsQyxuKXx8eihyLG4saCl9fWVsc2UgaWYoXCJsaW5lLWNlbnRlclwiPT09SSl7Zm9yKGNvbnN0IGUgb2YgdC5nZW9tZXRyeSlpZihlLmxlbmd0aD4xKXtjb25zdCB0PW9kKGUsRSxuLnZlcnRpY2FsfHxnLGksMjQseCk7dCYmeihlLHQsaCl9fWVsc2UgaWYoXCJQb2x5Z29uXCI9PT10LnR5cGUpZm9yKGNvbnN0IGUgb2YgVmModC5nZW9tZXRyeSwwKSl7Y29uc3QgdD1iZChlLDE2KTt6KGVbMF0sbmV3IGVkKHQueCx0LnksMCwwLHZvaWQgMCksaCl9ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PXQudHlwZSlmb3IoY29uc3QgZSBvZiB0Lmdlb21ldHJ5KXooZSxuZXcgZWQoZVswXS54LGVbMF0ueSwwLDAsdm9pZCAwKSxoKTtlbHNlIGlmKFwiUG9pbnRcIj09PXQudHlwZSlmb3IoY29uc3QgZSBvZiB0Lmdlb21ldHJ5KWZvcihjb25zdCB0IG9mIGUpeihbdF0sbmV3IGVkKHQueCx0LnksMCwwLHZvaWQgMCksaCl9Y29uc3QgQWQ9MzI2NDA7ZnVuY3Rpb24gUGQoZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwLGYsZyx5KXtjb25zdCBfPWZ1bmN0aW9uKGUsdCxuLGkscixvLGEscyl7Y29uc3QgbD1bXTtpZigwPT09dC5wb3NpdGlvbmVkTGluZXMubGVuZ3RoKXJldHVybiBsO2NvbnN0IGM9aS5sYXlvdXQuZ2V0KFwidGV4dC1yb3RhdGVcIikuZXZhbHVhdGUobyx7fSkqTWF0aC5QSS8xODAsdT1mdW5jdGlvbihlKXtjb25zdCB0PWVbMF0sbj1lWzFdLGk9dCpuO3JldHVybiBpPjA/W3QsLW5dOmk8MD9bLXQsbl06MD09PXQ/W24sdF06W24sLXRdfShuKTtsZXQgaD1NYXRoLmFicyh0LnRvcC10LmJvdHRvbSk7Zm9yKGNvbnN0IGUgb2YgdC5wb3NpdGlvbmVkTGluZXMpaC09ZS5saW5lT2Zmc2V0O2NvbnN0IGQ9dC5wb3NpdGlvbmVkTGluZXMubGVuZ3RoLHA9aC9kO2xldCBmPXQudG9wLW5bMV07Zm9yKGxldCBlPTA7ZTxkOysrZSl7Y29uc3QgaT10LnBvc2l0aW9uZWRMaW5lc1tlXTtmPV9kKHQscCxmLGUpO2Zvcihjb25zdCBlIG9mIGkucG9zaXRpb25lZEdseXBocyl7aWYoIWUucmVjdCljb250aW51ZTtjb25zdCBpPWUucmVjdHx8e307bGV0IG89NCxoPSEwLGQ9MSxwPTA7aWYoZS5pbWFnZU5hbWUpe2NvbnN0IHQ9YVtlLmltYWdlTmFtZV07aWYoIXQpY29udGludWU7aWYodC5zZGYpe1YoXCJTREYgaW1hZ2VzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGZvcm1hdHRlZCB0ZXh0IGFuZCB3aWxsIGJlIGlnbm9yZWQuXCIpO2NvbnRpbnVlfWg9ITEsZD10LnBpeGVsUmF0aW8sbz0xL2R9Y29uc3QgZz0ocnx8cykmJmUudmVydGljYWwseT1lLm1ldHJpY3MuYWR2YW5jZSplLnNjYWxlLzIsXz1lLm1ldHJpY3Msdj1lLnJlY3Q7aWYobnVsbD09PXYpY29udGludWU7cyYmdC52ZXJ0aWNhbGl6YWJsZSYmKHA9ZS5pbWFnZU5hbWU/eS1lLm1ldHJpY3Mud2lkdGgqZS5zY2FsZS8yOjApO2NvbnN0IHg9cj9bZS54K3ksZS55XTpbMCwwXTtsZXQgYj1bMCwwXSx3PVswLDBdLFQ9ITE7cnx8KGc/KHc9W2UueCt5K3VbMF0sZS55K3VbMV0tcF0sVD0hMCk6Yj1bZS54K3krblswXSxlLnkrblsxXS1wXSk7Y29uc3QgRT12LncqZS5zY2FsZS8oZCooZS5sb2NhbEdseXBoPzI6MSkpLFM9di5oKmUuc2NhbGUvKGQqKGUubG9jYWxHbHlwaD8yOjEpKTtsZXQgTSxJLEMsaztpZihnKXtjb25zdCB0PWUueS1mLG49bmV3IG0oLXkseS10KSxpPS1NYXRoLlBJLzIscj1uZXcgbSguLi53KTtNPW5ldyBtKC15K2JbMF0sYlsxXSksTS5fcm90YXRlQXJvdW5kKGksbikuX2FkZChyKSxNLngrPS10K3ksTS55LT0oXy5sZWZ0LW8pKmUuc2NhbGU7Y29uc3QgYT1lLmltYWdlTmFtZT9fLmFkdmFuY2UqZS5zY2FsZToyNCplLnNjYWxlLHM9U3RyaW5nLmZyb21DaGFyQ29kZShlLmdseXBoKTt1aChzKT9NLngrPSgxLW8pKmUuc2NhbGU6aGgocyk/TS54Kz1hLV8uaGVpZ2h0KmUuc2NhbGUrKC1vLTEpKmUuc2NhbGU6TS54Kz1lLmltYWdlTmFtZXx8Xy53aWR0aCsyKm89PT12LncmJl8uaGVpZ2h0KzIqbz09PXYuaD8oYS1TKS8yOihhLShfLmhlaWdodCsyKm8pKmUuc2NhbGUpLzIsST1uZXcgbShNLngsTS55LUUpLEM9bmV3IG0oTS54K1MsTS55KSxrPW5ldyBtKE0ueCtTLE0ueS1FKX1lbHNle2NvbnN0IHQ9KF8ubGVmdC1vKSplLnNjYWxlLXkrYlswXSxuPSgtXy50b3AtbykqZS5zY2FsZStiWzFdLGk9dCtFLHI9bitTO009bmV3IG0odCxuKSxJPW5ldyBtKGksbiksQz1uZXcgbSh0LHIpLGs9bmV3IG0oaSxyKX1pZihjKXtsZXQgZTtlPXI/bmV3IG0oMCwwKTpUP25ldyBtKHVbMF0sdVsxXSk6bmV3IG0oblswXSxuWzFdKSxNLl9yb3RhdGVBcm91bmQoYyxlKSxJLl9yb3RhdGVBcm91bmQoYyxlKSxDLl9yb3RhdGVBcm91bmQoYyxlKSxrLl9yb3RhdGVBcm91bmQoYyxlKX1jb25zdCBBPW5ldyBtKDAsMCksUD1uZXcgbSgwLDApO2wucHVzaCh7dGw6TSx0cjpJLGJsOkMsYnI6ayx0ZXg6aSx3cml0aW5nTW9kZTp0LndyaXRpbmdNb2RlLGdseXBoT2Zmc2V0Ongsc2VjdGlvbkluZGV4OmUuc2VjdGlvbkluZGV4LGlzU0RGOmgscGl4ZWxPZmZzZXRUTDpBLHBpeGVsT2Zmc2V0QlI6UCxtaW5Gb250U2NhbGVYOjAsbWluRm9udFNjYWxlWTowfSl9fXJldHVybiBsfSgwLGksbCxvLGEscyxyLGUuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCksdj1lLnRleHRTaXplRGF0YTtsZXQgeD1udWxsO1wic291cmNlXCI9PT12LmtpbmQ/KHg9W2loKm8ubGF5b3V0LmdldChcInRleHQtc2l6ZVwiKS5ldmFsdWF0ZShzLHt9LHkpXSx4WzBdPkFkJiZWKGUubGF5ZXJJZHNbMF0rJzogVmFsdWUgZm9yIFwidGV4dC1zaXplXCIgaXMgPj0gMjU1LiBSZWR1Y2UgeW91ciBcInRleHQtc2l6ZVwiLicpKTpcImNvbXBvc2l0ZVwiPT09di5raW5kJiYoeD1baWgqZi5jb21wb3NpdGVUZXh0U2l6ZXNbMF0uZXZhbHVhdGUocyx7fSx5KSxpaCpmLmNvbXBvc2l0ZVRleHRTaXplc1sxXS5ldmFsdWF0ZShzLHt9LHkpXSwoeFswXT5BZHx8eFsxXT5BZCkmJlYoZS5sYXllcklkc1swXSsnOiBWYWx1ZSBmb3IgXCJ0ZXh0LXNpemVcIiBpcyA+PSAyNTUuIFJlZHVjZSB5b3VyIFwidGV4dC1zaXplXCIuJykpLGUuYWRkU3ltYm9scyhlLnRleHQsXyx4LGwsYSxzLHUsdCxuLGMubGluZVN0YXJ0SW5kZXgsYy5saW5lTGVuZ3RoLHAsZyx5KTtmb3IoY29uc3QgdCBvZiBoKWRbdF09ZS50ZXh0LnBsYWNlZFN5bWJvbEFycmF5Lmxlbmd0aC0xO3JldHVybiA0Kl8ubGVuZ3RofWZ1bmN0aW9uIHpkKGUpe2Zvcihjb25zdCB0IGluIGUpcmV0dXJuIGVbdF07cmV0dXJuIG51bGx9ZnVuY3Rpb24gRGQoZSx0LG4saSxyLG8sYSxzLGwsYyl7bGV0IHU9YS50b3AsaD1hLmJvdHRvbSxkPWEubGVmdCxwPWEucmlnaHQ7Y29uc3QgZj1hLmNvbGxpc2lvblBhZGRpbmc7aWYoZiYmKGQtPWZbMF0sdS09ZlsxXSxwKz1mWzJdLGgrPWZbM10pLGwpe2NvbnN0IGU9bmV3IG0oZCx1KSx0PW5ldyBtKHAsdSksbj1uZXcgbShkLGgpLGk9bmV3IG0ocCxoKSxyPXYobCk7bGV0IG89bmV3IG0oMCwwKTtjJiYobz1uZXcgbShjWzBdLGNbMV0pKSxlLl9yb3RhdGVBcm91bmQocixvKSx0Ll9yb3RhdGVBcm91bmQocixvKSxuLl9yb3RhdGVBcm91bmQocixvKSxpLl9yb3RhdGVBcm91bmQocixvKSxkPU1hdGgubWluKGUueCx0Lngsbi54LGkueCkscD1NYXRoLm1heChlLngsdC54LG4ueCxpLngpLHU9TWF0aC5taW4oZS55LHQueSxuLnksaS55KSxoPU1hdGgubWF4KGUueSx0Lnksbi55LGkueSl9cmV0dXJuIGUuZW1wbGFjZUJhY2sodC54LHQueSx0Lnosbi54LG4ueSxkLHUscCxoLHMsaSxyLG8pLGUubGVuZ3RoLTF9ZnVuY3Rpb24gTGQoZSl7ZS5jb2xsaXNpb25QYWRkaW5nJiYoZS50b3AtPWUuY29sbGlzaW9uUGFkZGluZ1sxXSxlLmJvdHRvbSs9ZS5jb2xsaXNpb25QYWRkaW5nWzNdKTtjb25zdCB0PWUuYm90dG9tLWUudG9wO3JldHVybiB0PjA/TWF0aC5tYXgoMTAsdCk6bnVsbH1mdW5jdGlvbiBPZChlLHQsbixpKXtjb25zdCByPWUuY29tcGFyZVRleHQ7aWYodCBpbiByKXtjb25zdCBlPXJbdF07Zm9yKGxldCB0PWUubGVuZ3RoLTE7dD49MDt0LS0paWYoaS5kaXN0KGVbdF0pPG4pcmV0dXJuITB9ZWxzZSByW3RdPVtdO3JldHVybiByW3RdLnB1c2goaSksITF9Y29uc3QgUmQ9SG8oW3t0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX2dsb2JlX3Bvc1wiLGNvbXBvbmVudHM6M30se3R5cGU6XCJGbG9hdDMyXCIsbmFtZTpcImFfdXZcIixjb21wb25lbnRzOjJ9XSkse21lbWJlcnM6QmR9PVJkLGpkPUhvKFt7bmFtZTpcImFfcG9zXzNcIixjb21wb25lbnRzOjMsdHlwZTpcIkludDE2XCJ9XSk7dmFyIEZkPUhvKFt7bmFtZTpcImFfcG9zXCIsdHlwZTpcIkludDE2XCIsY29tcG9uZW50czoyfV0pO2NvbnN0IE5kPXBzL01hdGguUEkvMixVZD0yKmJzKDEsMCkqTmQqTWF0aC5QSSxWZD1bNjQsMzIsMTZdLEdkPS1OZCxaZD1OZCxXZD1bbmV3IFhsKFtHZCxHZCxHZF0sW1pkLFpkLFpkXSksbmV3IFhsKFtHZCxHZCxHZF0sWzAsMCxaZF0pLG5ldyBYbChbMCxHZCxHZF0sW1pkLDAsWmRdKSxuZXcgWGwoW0dkLDAsR2RdLFswLFpkLFpkXSksbmV3IFhsKFswLDAsR2RdLFtaZCxaZCxaZF0pXTtmdW5jdGlvbiBxZChlLHQsbixpPSEwKXtjb25zdCByPUlsKFtdLGUuX2NhbWVyYS5wb3NpdGlvbixlLndvcmxkU2l6ZSksbz1bdCxuLDEsMV07TmwobyxvLGUucGl4ZWxNYXRyaXhJbnZlcnNlKSxqbChvLG8sMS9vWzNdKTtjb25zdCBhPWtsKFtdLE9sKFtdLG8scikpLHM9ZS5nbG9iZU1hdHJpeCxsPVtzWzEyXSxzWzEzXSxzWzE0XV0sYz1PbChbXSxsLHIpLHU9eGwoYyksaD1rbChbXSxjKSxkPWUud29ybGRTaXplLygyKk1hdGguUEkpLHA9QWwoaCxhKSxmPU1hdGguYXNpbihkL3UpO2lmKGY8TWF0aC5hY29zKHApKXtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBlPVtdLHQ9W107SWwoZSxhLHUvcCksa2wodCxPbCh0LGUsYykpLGtsKGEsd2woYSxjLElsKGEsdCxNYXRoLnRhbihmKSp1KSkpfWNvbnN0IG09W107bmV3IHFsKHIsYSkuY2xvc2VzdFBvaW50T25TcGhlcmUobCxkLG0pO2NvbnN0IGc9a2woW10sWShzLDApKSx5PWtsKFtdLFkocywxKSksXz1rbChbXSxZKHMsMikpLHY9QWwoZyxtKSxiPUFsKHksbSksdz1BbChfLG0pLFQ9eChNYXRoLmFzaW4oLWIvZCkpO2xldCBFPXgoTWF0aC5hdGFuMih2LHcpKTtFPWUuY2VudGVyLmxuZytmdW5jdGlvbihlLHQpe2NvbnN0IG49KHQtZSsxODApJTM2MC0xODA7cmV0dXJuIG48LTE4MD9uKzM2MDpufShlLmNlbnRlci5sbmcsRSk7Y29uc3QgTT12cyhFKSxJPVMoeHMoVCksMCwxKTtyZXR1cm4gbmV3IElzKE0sSSl9Y2xhc3MgJGR7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuYT1PbChbXSxlLG4pLHRoaXMuYj1PbChbXSx0LG4pLHRoaXMuY2VudGVyPW47Y29uc3QgaT1rbChbXSx0aGlzLmEpLHI9a2woW10sdGhpcy5iKTt0aGlzLmFuZ2xlPU1hdGguYWNvcyhBbChpLHIpKX19ZnVuY3Rpb24gSGQoZSx0KXtpZigwPT09ZS5hbmdsZSlyZXR1cm4gbnVsbDtsZXQgbjtyZXR1cm4gbj0wPT09ZS5hW3RdPzEvZS5hbmdsZSouNSpNYXRoLlBJOjEvZS5hbmdsZSpNYXRoLmF0YW4oZS5iW3RdL2UuYVt0XS9NYXRoLnNpbihlLmFuZ2xlKS0xL01hdGgudGFuKGUuYW5nbGUpKSxuPDB8fG4+MT9udWxsOmZ1bmN0aW9uKGUsdCxuLGkpe2NvbnN0IHI9TWF0aC5zaW4obik7cmV0dXJuIGUqKE1hdGguc2luKCgxLWkpKm4pL3IpK3QqKE1hdGguc2luKGkqbikvcil9KGUuYVt0XSxlLmJbdF0sZS5hbmdsZSxTKG4sMCwxKSkrZS5jZW50ZXJbdF19ZnVuY3Rpb24gWGQoZSl7aWYoZS56PD0xKXJldHVybiBXZFtlLnorMiplLnkrZS54XTtjb25zdCB0PWVwKEtkKGUpKTtyZXR1cm4gWGwuZnJvbVBvaW50cyh0KX1mdW5jdGlvbiBZZChlLHQsbil7cmV0dXJuIElsKGUsZSwxLW4pLENsKGUsZSx0LG4pfWZ1bmN0aW9uIEpkKGUsdCl7Y29uc3Qgbj1jcCh0Lnpvb20pO2lmKDA9PT1uKXJldHVybiBYZChlKTtjb25zdCBpPUtkKGUpLHI9ZXAoaSksbz12cyhpLmdldFdlc3QoKSkqdC53b3JsZFNpemUsYT12cyhpLmdldEVhc3QoKSkqdC53b3JsZFNpemUscz14cyhpLmdldE5vcnRoKCkpKnQud29ybGRTaXplLGw9eHMoaS5nZXRTb3V0aCgpKSp0LndvcmxkU2l6ZSxjPVtvLHMsMF0sdT1bYSxzLDBdLGg9W28sbCwwXSxkPVthLGwsMF0scD1jbChbXSx0Lmdsb2JlTWF0cml4KTtyZXR1cm4gemwoYyxjLHApLHpsKHUsdSxwKSx6bChoLGgscCksemwoZCxkLHApLHJbMF09WWQoclswXSxoLG4pLHJbMV09WWQoclsxXSxkLG4pLHJbMl09WWQoclsyXSx1LG4pLHJbM109WWQoclszXSxjLG4pLFhsLmZyb21Qb2ludHMocil9ZnVuY3Rpb24gUWQoZSx0LG4pe2Zvcihjb25zdCBpIG9mIGUpemwoaSxpLHQpLElsKGksaSxuKX1mdW5jdGlvbiBLZCh7eDplLHk6dCx6Om59KXtjb25zdCBpPTEvKDE8PG4pLHI9bmV3IGdzKHdzKGUqaSksVHMoKHQrMSkqaSkpLG89bmV3IGdzKHdzKChlKzEpKmkpLFRzKHQqaSkpO3JldHVybiBuZXcgZnMocixvKX1mdW5jdGlvbiBlcChlKXtjb25zdCB0PXYoZS5nZXROb3J0aCgpKSxuPXYoZS5nZXRTb3V0aCgpKSxpPU1hdGguY29zKHQpLHI9TWF0aC5jb3Mobiksbz1NYXRoLnNpbih0KSxhPU1hdGguc2luKG4pLHM9ZS5nZXRXZXN0KCksbD1lLmdldEVhc3QoKTtyZXR1cm5bdHAocixhLHMpLHRwKHIsYSxsKSx0cChpLG8sbCksdHAoaSxvLHMpXX1mdW5jdGlvbiB0cChlLHQsbixpPU5kKXtyZXR1cm4gbj12KG4pLFtlKk1hdGguc2luKG4pKmksLXQqaSxlKk1hdGguY29zKG4pKmldfWZ1bmN0aW9uIG5wKGUsdCxuKXtyZXR1cm4gdHAoTWF0aC5jb3ModihlKSksTWF0aC5zaW4odihlKSksdCxuKX1mdW5jdGlvbiBpcChlLHQsbixpKXtjb25zdCByPTE8PG4ueixvPShlL3BzK24ueCkvcjtyZXR1cm4gbnAoVHMoKHQvcHMrbi55KS9yKSx3cyhvKSxpKX1mdW5jdGlvbiBycCh7bWluOmUsbWF4OnR9KXtyZXR1cm4gMTYzODMvTWF0aC5tYXgodFswXS1lWzBdLHRbMV0tZVsxXSx0WzJdLWVbMl0pfWNvbnN0IG9wPW5ldyBGbG9hdDY0QXJyYXkoMTYpO2Z1bmN0aW9uIGFwKGUpe2NvbnN0IHQ9cnAoZSksbj1tbChvcCxbdCx0LHRdKTtyZXR1cm4gaGwobixuLCgoaT1bXSlbMF09LShyPWUubWluKVswXSxpWzFdPS1yWzFdLGlbMl09LXJbMl0saSkpO3ZhciBpLHJ9ZnVuY3Rpb24gc3AoZSl7Y29uc3QgdD0oaT1lLm1pbiwobj1vcClbMF09MSxuWzFdPTAsblsyXT0wLG5bM109MCxuWzRdPTAsbls1XT0xLG5bNl09MCxuWzddPTAsbls4XT0wLG5bOV09MCxuWzEwXT0xLG5bMTFdPTAsblsxMl09aVswXSxuWzEzXT1pWzFdLG5bMTRdPWlbMl0sblsxNV09MSxuKTt2YXIgbixpO2NvbnN0IHI9MS9ycChlKTtyZXR1cm4gZGwodCx0LFtyLHIscl0pfWZ1bmN0aW9uIGxwKGUsdCxuLGkscil7Y29uc3Qgbz1mdW5jdGlvbihlKXtjb25zdCB0PXBzLygyKk1hdGguUEkpO3JldHVybiBlLygyKk1hdGguUEkpL3R9KG4pLGE9W2UsdCwtbi8oMipNYXRoLlBJKV0scz1sbChuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIGhsKHMscyxhKSxkbChzLHMsW28sbyxvXSkscGwocyxzLHYoLXIpKSxmbChzLHMsdigtaSkpLHN9ZnVuY3Rpb24gY3AoZSl7cmV0dXJuIE0oNSw2LGUpfWZ1bmN0aW9uIHVwKGUsdCl7Y29uc3Qgbj1ucCh0LmxhdCx0LmxuZyk7cmV0dXJuIG89KGk9VGwoW10sZnVuY3Rpb24oZSl7Y29uc3QgdD1ucChlLl9jZW50ZXIubGF0LGUuX2NlbnRlci5sbmcpO2xldCBuPVBsKFtdLGJsKDAsMSwwKSx0KTtjb25zdCBpPWdsKFtdLC1lLmFuZ2xlLHQpO249emwobixuLGkpLGdsKGksLWUuX3BpdGNoLG4pO2NvbnN0IHI9a2woW10sdCk7cmV0dXJuIElsKHIscixlLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2UvZS5waXhlbHNQZXJNZXRlcipVZCksemwocixyLGkpLHdsKFtdLHQscil9KGUpLG4pKVswXSxhPWlbMV0scz1pWzJdLGw9KHI9bilbMF0sYz1yWzFdLHU9clsyXSxkPShoPU1hdGguc3FydChvKm8rYSphK3MqcykqTWF0aC5zcXJ0KGwqbCtjKmMrdSp1KSkmJkFsKGkscikvaCxNYXRoLmFjb3MoTWF0aC5taW4oTWF0aC5tYXgoZCwtMSksMSkpO3ZhciBpLHIsbyxhLHMsbCxjLHUsaCxkfWZ1bmN0aW9uIGhwKGUsdCl7cmV0dXJuIHVwKGUsdCk+TWF0aC5QSS8yKjEuMDF9Y29uc3QgZHA9dig4NSkscHA9TWF0aC5jb3MoZHApLGZwPU1hdGguc2luKGRwKTtmdW5jdGlvbiBtcChlLHQpe2NvbnN0IG49ZS5mb3ZBYm92ZUNlbnRlcixpPWUuZWxldmF0aW9uP2UuZWxldmF0aW9uLmdldE1pbkVsZXZhdGlvbkJlbG93TVNMKCkqdDowLHI9KGUuX2NhbWVyYS5wb3NpdGlvblsyXSplLndvcmxkU2l6ZS1pKS9NYXRoLmNvcyhlLl9waXRjaCksbz1NYXRoLnNpbihuKSpyL01hdGguc2luKE1hdGgubWF4KE1hdGguUEkvMi1lLl9waXRjaC1uLC4wMSkpLGE9TWF0aC5zaW4oZS5fcGl0Y2gpKm8rcjtyZXR1cm4gTWF0aC5taW4oMS4wMSphLHIqKDEvZS5faG9yaXpvblNoaWZ0KSl9ZnVuY3Rpb24gZ3AoZSx0KXtpZighdC5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UpcmV0dXJue3NjYWxlOjE8PGUueix4OmUueCx5OmUueSx4MjplLngrMSx5MjplLnkrMSxwcm9qZWN0aW9uOnR9O2NvbnN0IG49TWF0aC5wb3coMiwtZS56KSxpPWUueCpuLHI9KGUueCsxKSpuLG89ZS55Km4sYT0oZS55KzEpKm4scz13cyhpKSxsPXdzKHIpLGM9VHMobyksdT1UcyhhKSxoPXQucHJvamVjdChzLGMpLGQ9dC5wcm9qZWN0KGwsYykscD10LnByb2plY3QobCx1KSxmPXQucHJvamVjdChzLHUpO2xldCBtPU1hdGgubWluKGgueCxkLngscC54LGYueCksZz1NYXRoLm1pbihoLnksZC55LHAueSxmLnkpLHk9TWF0aC5tYXgoaC54LGQueCxwLngsZi54KSxfPU1hdGgubWF4KGgueSxkLnkscC55LGYueSk7Y29uc3Qgdj1uLzE2O2Z1bmN0aW9uIHgoZSxuLGkscixvLGEpe2NvbnN0IHM9KGkrbykvMixsPShyK2EpLzIsYz10LnByb2plY3Qod3MocyksVHMobCkpLHU9TWF0aC5tYXgoMCxtLWMueCxnLWMueSxjLngteSxjLnktXyk7bT1NYXRoLm1pbihtLGMueCkseT1NYXRoLm1heCh5LGMueCksZz1NYXRoLm1pbihnLGMueSksXz1NYXRoLm1heChfLGMueSksdT52JiYoeChlLGMsaSxyLHMsbCkseChjLG4scyxsLG8sYSkpfXgoaCxkLGksbyxyLG8pLHgoZCxwLHIsbyxyLGEpLHgocCxmLHIsYSxpLGEpLHgoZixoLGksYSxpLG8pLG0tPXYsZy09dix5Kz12LF8rPXY7Y29uc3QgYj0xL01hdGgubWF4KHktbSxfLWcpO3JldHVybntzY2FsZTpiLHg6bSpiLHk6ZypiLHgyOnkqYix5MjpfKmIscHJvamVjdGlvbjp0fX1jb25zdCB5cD1sbChuZXcgRmxvYXQzMkFycmF5KDE2KSk7Y2xhc3MgX3B7Y29uc3RydWN0b3IoZSl7dGhpcy5zcGVjPWUsdGhpcy5uYW1lPWUubmFtZSx0aGlzLndyYXA9ITEsdGhpcy5yZXF1aXJlc0RyYXBpbmc9ITEsdGhpcy5zdXBwb3J0c1dvcmxkQ29waWVzPSExLHRoaXMuc3VwcG9ydHNUZXJyYWluPSExLHRoaXMuc3VwcG9ydHNGb2c9ITEsdGhpcy5zdXBwb3J0c0ZyZWVDYW1lcmE9ITEsdGhpcy56QXhpc1VuaXQ9XCJtZXRlcnNcIix0aGlzLmlzUmVwcm9qZWN0ZWRJblRpbGVTcGFjZT0hMCx0aGlzLnVuc3VwcG9ydGVkTGF5ZXJzPVtcImN1c3RvbVwiXSx0aGlzLmNlbnRlcj1bMCwwXSx0aGlzLnJhbmdlPVszLjUsN119cHJvamVjdChlLHQpe3JldHVybnt4OjAseTowLHo6MH19dW5wcm9qZWN0KGUsdCl7cmV0dXJuIG5ldyBncygwLDApfXByb2plY3RUaWxlUG9pbnQoZSx0LG4pe3JldHVybnt4OmUseTp0LHo6MH19bG9jYXRpb25Qb2ludChlLHQsbj0hMCl7cmV0dXJuIGUuX2Nvb3JkaW5hdGVQb2ludChlLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KSxuKX1waXhlbHNQZXJNZXRlcihlLHQpe3JldHVybiBicygxLGUpKnR9cGl4ZWxTcGFjZUNvbnZlcnNpb24oZSx0LG4pe3JldHVybiAxfWZhcnRoZXN0UGl4ZWxEaXN0YW5jZShlKXtyZXR1cm4gbXAoZSxlLnBpeGVsc1Blck1ldGVyKX1wb2ludENvb3JkaW5hdGUoZSx0LG4saSl7Y29uc3Qgcj1lLmhvcml6b25MaW5lRnJvbVRvcCghMSksbz1uZXcgbSh0LE1hdGgubWF4KHIsbikpO3JldHVybiBlLnJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUoZS5wb2ludFJheUludGVyc2VjdGlvbihvLGkpKX1wb2ludENvb3JkaW5hdGUzRChlLHQsbil7Y29uc3QgaT1uZXcgbSh0LG4pO2lmKGUuZWxldmF0aW9uKXJldHVybiBlLmVsZXZhdGlvbi5wb2ludENvb3JkaW5hdGUoaSk7e2NvbnN0IHQ9dGhpcy5wb2ludENvb3JkaW5hdGUoZSxpLngsaS55LDApO3JldHVyblt0LngsdC55LHQuel19fWlzUG9pbnRBYm92ZUhvcml6b24oZSx0KXtpZihlLmVsZXZhdGlvbilyZXR1cm4hdGhpcy5wb2ludENvb3JkaW5hdGUzRChlLHQueCx0LnkpO2NvbnN0IG49ZS5ob3Jpem9uTGluZUZyb21Ub3AoKTtyZXR1cm4gdC55PG59Y3JlYXRlSW52ZXJzaW9uTWF0cml4KGUsdCl7cmV0dXJuIHlwfWNyZWF0ZVRpbGVNYXRyaXgoZSx0LG4pe2xldCBpLHIsbztjb25zdCBhPW4uY2Fub25pY2FsLHM9bGwobmV3IEZsb2F0NjRBcnJheSgxNikpO2lmKHRoaXMuaXNSZXByb2plY3RlZEluVGlsZVNwYWNlKXtjb25zdCBsPWdwKGEsdGhpcyk7aT0xLHI9bC54K24ud3JhcCpsLnNjYWxlLG89bC55LGRsKHMscyxbaS9sLnNjYWxlLGkvbC5zY2FsZSxlLnBpeGVsc1Blck1ldGVyL3RdKX1lbHNlIGk9dC9lLnpvb21TY2FsZShhLnopLHI9KGEueCtNYXRoLnBvdygyLGEueikqbi53cmFwKSppLG89YS55Kmk7cmV0dXJuIGhsKHMscyxbcixvLDBdKSxkbChzLHMsW2kvcHMsaS9wcywxXSksc311cFZlY3RvcihlLHQsbil7cmV0dXJuWzAsMCwxXX11cFZlY3RvclNjYWxlKGUsdCxuKXtyZXR1cm57bWV0ZXJzVG9UaWxlOjF9fX1jbGFzcyB2cCBleHRlbmRzIF9we2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMucmFuZ2U9WzQsN10sdGhpcy5jZW50ZXI9ZS5jZW50ZXJ8fFstOTYsMzcuNV07Y29uc3RbdCxuXT10aGlzLnBhcmFsbGVscz1lLnBhcmFsbGVsc3x8WzI5LjUsNDUuNV0saT1NYXRoLnNpbih2KHQpKTt0aGlzLm49KGkrTWF0aC5zaW4odihuKSkpLzIsdGhpcy5jPTEraSooMip0aGlzLm4taSksdGhpcy5yMD1NYXRoLnNxcnQodGhpcy5jKS90aGlzLm59cHJvamVjdChlLHQpe2NvbnN0e246bixjOmkscjA6cn09dGhpcyxvPXYoZS10aGlzLmNlbnRlclswXSksYT12KHQpLHM9TWF0aC5zcXJ0KGktMipuKk1hdGguc2luKGEpKS9uO3JldHVybnt4OnMqTWF0aC5zaW4obypuKSx5OnMqTWF0aC5jb3MobypuKS1yLHo6MH19dW5wcm9qZWN0KGUsdCl7Y29uc3R7bjpuLGM6aSxyMDpyfT10aGlzLG89cit0O2xldCBhPU1hdGguYXRhbjIoZSxNYXRoLmFicyhvKSkqTWF0aC5zaWduKG8pO28qbjwwJiYoYS09TWF0aC5QSSpNYXRoLnNpZ24oZSkqTWF0aC5zaWduKG8pKTtjb25zdCBzPXYodGhpcy5jZW50ZXJbMF0pKm47YT1JKGEsLU1hdGguUEktcyxNYXRoLlBJLXMpO2NvbnN0IGw9Uyh4KGEvbikrdGhpcy5jZW50ZXJbMF0sLTE4MCwxODApLGM9TWF0aC5hc2luKFMoKGktKGUqZStvKm8pKm4qbikvKDIqbiksLTEsMSkpLHU9Uyh4KGMpLC04NS4wNTExMjksU3MpO3JldHVybiBuZXcgZ3MobCx1KX19Y29uc3QgeHA9MS4zNDAyNjQsYnA9LS4wODExMDYsd3A9ODkzZS02LFRwPS4wMDM3OTYsRXA9TWF0aC5zcXJ0KDMpLzI7Y2xhc3MgU3AgZXh0ZW5kcyBfcHtwcm9qZWN0KGUsdCl7dD10LzE4MCpNYXRoLlBJLGU9ZS8xODAqTWF0aC5QSTtjb25zdCBuPU1hdGguYXNpbihFcCpNYXRoLnNpbih0KSksaT1uKm4scj1pKmkqaTtyZXR1cm57eDouNSooZSpNYXRoLmNvcyhuKS8oRXAqKHhwKzMqYnAqaStyKig3KndwKzkqVHAqaSkpKS9NYXRoLlBJKy41KSx5OjEtLjUqKG4qKHhwK2JwKmkrciood3ArVHAqaSkpL01hdGguUEkrMSksejowfX11bnByb2plY3QoZSx0KXtlPSgyKmUtLjUpKk1hdGguUEk7bGV0IG49dD0oMiooMS10KS0xKSpNYXRoLlBJLGk9bipuLHI9aSppKmk7Zm9yKGxldCBlLG8sYSxzPTA7czwxMiYmKG89biooeHArYnAqaStyKih3cCtUcCppKSktdCxhPXhwKzMqYnAqaStyKig3KndwKzkqVHAqaSksZT1vL2Esbj1TKG4tZSwtTWF0aC5QSS8zLE1hdGguUEkvMyksaT1uKm4scj1pKmkqaSwhKE1hdGguYWJzKGUpPDFlLTEyKSk7KytzKTtjb25zdCBvPUVwKmUqKHhwKzMqYnAqaStyKig3KndwKzkqVHAqaSkpL01hdGguY29zKG4pLGE9TWF0aC5hc2luKE1hdGguc2luKG4pL0VwKSxzPVMoMTgwKm8vTWF0aC5QSSwtMTgwLDE4MCksbD1TKDE4MCphL01hdGguUEksLTg1LjA1MTEyOSxTcyk7cmV0dXJuIG5ldyBncyhzLGwpfX1jbGFzcyBNcCBleHRlbmRzIF9we2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMud3JhcD0hMCx0aGlzLnN1cHBvcnRzV29ybGRDb3BpZXM9ITB9cHJvamVjdChlLHQpe3JldHVybnt4Oi41K2UvMzYwLHk6LjUtdC8zNjAsejowfX11bnByb2plY3QoZSx0KXtjb25zdCBuPTM2MCooZS0uNSksaT1TKDM2MCooLjUtdCksLTg1LjA1MTEyOSxTcyk7cmV0dXJuIG5ldyBncyhuLGkpfX1jb25zdCBJcD1NYXRoLlBJLzI7ZnVuY3Rpb24gQ3AoZSl7cmV0dXJuIE1hdGgudGFuKChJcCtlKS8yKX1jbGFzcyBrcCBleHRlbmRzIF9we2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY2VudGVyPWUuY2VudGVyfHxbMCwzMF07Y29uc3RbdCxuXT10aGlzLnBhcmFsbGVscz1lLnBhcmFsbGVsc3x8WzMwLDMwXTtsZXQgaT12KHQpLHI9dihuKTt0aGlzLnNvdXRoZXJuQ2VudGVyPWkrcjwwLHRoaXMuc291dGhlcm5DZW50ZXImJihpPS1pLHI9LXIpO2NvbnN0IG89TWF0aC5jb3MoaSksYT1DcChpKTt0aGlzLm49aT09PXI/TWF0aC5zaW4oaSk6TWF0aC5sb2coby9NYXRoLmNvcyhyKSkvTWF0aC5sb2coQ3AocikvYSksdGhpcy5mPW8qTWF0aC5wb3coQ3AoaSksdGhpcy5uKS90aGlzLm59cHJvamVjdChlLHQpe3Q9dih0KSx0aGlzLnNvdXRoZXJuQ2VudGVyJiYodD0tdCksZT12KGUtdGhpcy5jZW50ZXJbMF0pO2NvbnN0IG49MWUtNix7bjppLGY6cn09dGhpcztyPjA/dDwtSXArbiYmKHQ9LUlwK24pOnQ+SXAtbiYmKHQ9SXAtbik7Y29uc3Qgbz1yL01hdGgucG93KENwKHQpLGkpO2xldCBhPW8qTWF0aC5zaW4oaSplKSxzPXItbypNYXRoLmNvcyhpKmUpO3JldHVybiBhPS41KihhL01hdGguUEkrLjUpLHM9LjUqKHMvTWF0aC5QSSsuNSkse3g6YSx5OnRoaXMuc291dGhlcm5DZW50ZXI/czoxLXMsejowfX11bnByb2plY3QoZSx0KXtlPSgyKmUtLjUpKk1hdGguUEksdGhpcy5zb3V0aGVybkNlbnRlciYmKHQ9MS10KSx0PSgyKigxLXQpLS41KSpNYXRoLlBJO2NvbnN0e246bixmOml9PXRoaXMscj1pLXQsbz1NYXRoLnNpZ24ociksYT1NYXRoLnNpZ24obikqTWF0aC5zcXJ0KGUqZStyKnIpO2xldCBzPU1hdGguYXRhbjIoZSxNYXRoLmFicyhyKSkqbztyKm48MCYmKHMtPU1hdGguUEkqTWF0aC5zaWduKGUpKm8pO2NvbnN0IGw9Uyh4KHMvbikrdGhpcy5jZW50ZXJbMF0sLTE4MCwxODApLGM9Uyh4KDIqTWF0aC5hdGFuKE1hdGgucG93KGkvYSwxL24pKS1JcCksLTg1LjA1MTEyOSxTcyk7cmV0dXJuIG5ldyBncyhsLHRoaXMuc291dGhlcm5DZW50ZXI/LWM6Yyl9fWNsYXNzIEFwIGV4dGVuZHMgX3B7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy53cmFwPSEwLHRoaXMuc3VwcG9ydHNXb3JsZENvcGllcz0hMCx0aGlzLnN1cHBvcnRzVGVycmFpbj0hMCx0aGlzLnN1cHBvcnRzRm9nPSEwLHRoaXMuc3VwcG9ydHNGcmVlQ2FtZXJhPSEwLHRoaXMuaXNSZXByb2plY3RlZEluVGlsZVNwYWNlPSExLHRoaXMudW5zdXBwb3J0ZWRMYXllcnM9W10sdGhpcy5yYW5nZT1udWxsfXByb2plY3QoZSx0KXtyZXR1cm57eDp2cyhlKSx5OnhzKHQpLHo6MH19dW5wcm9qZWN0KGUsdCl7Y29uc3Qgbj13cyhlKSxpPVRzKHQpO3JldHVybiBuZXcgZ3MobixpKX19Y29uc3QgUHA9dihTcyk7Y2xhc3MgenAgZXh0ZW5kcyBfcHtwcm9qZWN0KGUsdCl7Y29uc3Qgbj0odD12KHQpKSp0LGk9bipuO3JldHVybnt4Oi41KigoZT12KGUpKSooLjg3MDctLjEzMTk3OSpuK2kqKGkqKC4wMDM5NzEqbi0uMDAxNTI5KmkpLS4wMTM3OTEpKS9NYXRoLlBJKy41KSx5OjEtLjUqKHQqKDEuMDA3MjI2K24qKC4wMTUwODUraSooLjAyODg3NCpuLS4wNDQ0NzUtLjAwNTkxNippKSkpL01hdGguUEkrMSksejowfX11bnByb2plY3QoZSx0KXtlPSgyKmUtLjUpKk1hdGguUEk7bGV0IG49dD0oMiooMS10KS0xKSpNYXRoLlBJLGk9MjUscj0wLG89bipuO2Rve289bipuO2NvbnN0IGU9bypvO3I9KG4qKDEuMDA3MjI2K28qKC4wMTUwODUrZSooLjAyODg3NCpvLS4wNDQ0NzUtLjAwNTkxNiplKSkpLXQpLygxLjAwNzIyNitvKiguMDQ1MjU1K2UqKC4yNTk4NjYqby0uMzExMzI1LS4wMDU5MTYqMTEqZSkpKSxuPVMobi1yLC1QcCxQcCl9d2hpbGUoTWF0aC5hYnMocik+MWUtNiYmLS1pPjApO289bipuO2NvbnN0IGE9Uyh4KGUvKC44NzA3K28qKG8qKG8qbypvKiguMDAzOTcxLS4wMDE1MjkqbyktLjAxMzc5MSktLjEzMTk3OSkpKSwtMTgwLDE4MCkscz14KG4pO3JldHVybiBuZXcgZ3MoYSxzKX19Y29uc3QgRHA9dihTcyk7Y2xhc3MgTHAgZXh0ZW5kcyBfcHtwcm9qZWN0KGUsdCl7dD12KHQpLGU9dihlKTtjb25zdCBuPU1hdGguY29zKHQpLGk9Mi9NYXRoLlBJLHI9TWF0aC5hY29zKG4qTWF0aC5jb3MoZS8yKSksbz1NYXRoLnNpbihyKS9yLGE9LjUqKGUqaSsyKm4qTWF0aC5zaW4oZS8yKS9vKXx8MCxzPS41Kih0K01hdGguc2luKHQpL28pfHwwO3JldHVybnt4Oi41KihhL01hdGguUEkrLjUpLHk6MS0uNSoocy9NYXRoLlBJKzEpLHo6MH19dW5wcm9qZWN0KGUsdCl7bGV0IG49ZT0oMiplLS41KSpNYXRoLlBJLGk9dD0oMiooMS10KS0xKSpNYXRoLlBJLHI9MjU7Y29uc3Qgbz0xZS02O2xldCBhPTAscz0wO2Rve2NvbnN0IHI9TWF0aC5jb3MoaSksbz1NYXRoLnNpbihpKSxsPTIqbypyLGM9bypvLHU9cipyLGg9TWF0aC5jb3Mobi8yKSxkPU1hdGguc2luKG4vMikscD0yKmgqZCxmPWQqZCxtPTEtdSpoKmgsZz1tPzEvbTowLHk9bT9NYXRoLmFjb3MocipoKSpNYXRoLnNxcnQoMS9tKTowLF89LjUqKDIqeSpyKmQrMipuL01hdGguUEkpLWUsdj0uNSooeSpvK2kpLXQseD0uNSpnKih1KmYreSpyKmgqYykrMS9NYXRoLlBJLGI9ZyoocCpsLzQteSpvKmQpLHc9LjEyNSpnKihsKmQteSpvKnUqcCksVD0uNSpnKihjKmgreSpmKnIpKy41LEU9Yip3LVQqeDthPSh2KmItXypUKS9FLHM9KF8qdy12KngpL0Usbj1TKG4tYSwtTWF0aC5QSSxNYXRoLlBJKSxpPVMoaS1zLC1EcCxEcCl9d2hpbGUoKE1hdGguYWJzKGEpPm98fE1hdGguYWJzKHMpPm8pJiYtLXI+MCk7cmV0dXJuIG5ldyBncyh4KG4pLHgoaSkpfX1jbGFzcyBPcCBleHRlbmRzIF9we2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY2VudGVyPWUuY2VudGVyfHxbMCwwXSx0aGlzLnBhcmFsbGVscz1lLnBhcmFsbGVsc3x8WzAsMF0sdGhpcy5jb3NQaGk9TWF0aC5tYXgoLjAxLE1hdGguY29zKHYodGhpcy5wYXJhbGxlbHNbMF0pKSksdGhpcy5zY2FsZT0xLygyKk1hdGgubWF4KE1hdGguUEkqdGhpcy5jb3NQaGksMS90aGlzLmNvc1BoaSkpLHRoaXMud3JhcD0hMCx0aGlzLnN1cHBvcnRzV29ybGRDb3BpZXM9ITB9cHJvamVjdChlLHQpe2NvbnN0e3NjYWxlOm4sY29zUGhpOml9PXRoaXM7cmV0dXJue3g6dihlKSppKm4rLjUseTotTWF0aC5zaW4odih0KSkvaSpuKy41LHo6MH19dW5wcm9qZWN0KGUsdCl7Y29uc3R7c2NhbGU6bixjb3NQaGk6aX09dGhpcyxyPS0odC0uNSkvbixvPVMoeCgoZS0uNSkvbikvaSwtMTgwLDE4MCksYT1NYXRoLmFzaW4oUyhyKmksLTEsMSkpLHM9Uyh4KGEpLC04NS4wNTExMjksU3MpO3JldHVybiBuZXcgZ3MobyxzKX19Y2xhc3MgUnAgZXh0ZW5kcyBBcHtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLnJlcXVpcmVzRHJhcGluZz0hMCx0aGlzLnN1cHBvcnRzV29ybGRDb3BpZXM9ITEsdGhpcy5zdXBwb3J0c0ZvZz0hMCx0aGlzLnpBeGlzVW5pdD1cInBpeGVsc1wiLHRoaXMudW5zdXBwb3J0ZWRMYXllcnM9W1wiZGVidWdcIixcImN1c3RvbVwiXSx0aGlzLnJhbmdlPVszLDVdfXByb2plY3RUaWxlUG9pbnQoZSx0LG4pe2NvbnN0IGk9aXAoZSx0LG4pO3JldHVybiB6bChpLGksYXAoWGQobikpKSx7eDppWzBdLHk6aVsxXSx6OmlbMl19fWxvY2F0aW9uUG9pbnQoZSx0KXtjb25zdCBuPW5wKHQubGF0LHQubG5nKSxpPWtsKFtdLG4pLHI9ZS5lbGV2YXRpb24/ZS5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhlLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KSxlLl9jZW50ZXJBbHRpdHVkZSk6ZS5fY2VudGVyQWx0aXR1ZGU7Q2wobixuLGksYnMoMSwwKSpwcypyKTtjb25zdCBvPWxsKG5ldyBGbG9hdDY0QXJyYXkoMTYpKTtyZXR1cm4gdWwobyxlLnBpeGVsTWF0cml4LGUuZ2xvYmVNYXRyaXgpLHpsKG4sbixvKSxuZXcgbShuWzBdLG5bMV0pfXBpeGVsc1Blck1ldGVyKGUsdCl7cmV0dXJuIGJzKDEsMCkqdH1waXhlbFNwYWNlQ29udmVyc2lvbihlLHQsbil7Y29uc3QgaT1icygxLGUpKnQscj1DbihicygxLDQ1KSp0LGksbik7cmV0dXJuIHRoaXMucGl4ZWxzUGVyTWV0ZXIoZSx0KS9yfWNyZWF0ZVRpbGVNYXRyaXgoZSx0LG4pe2NvbnN0IGk9c3AoWGQobi5jYW5vbmljYWwpKTtyZXR1cm4gdWwobmV3IEZsb2F0NjRBcnJheSgxNiksZS5nbG9iZU1hdHJpeCxpKX1jcmVhdGVJbnZlcnNpb25NYXRyaXgoZSx0KXtjb25zdHtjZW50ZXI6bn09ZSxpPWFwKFhkKHQpKTtyZXR1cm4gZmwoaSxpLHYobi5sbmcpKSxwbChpLGksdihuLmxhdCkpLGRsKGksaSxbZS5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxlLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLDFdKSxGbG9hdDMyQXJyYXkuZnJvbShpKX1wb2ludENvb3JkaW5hdGUoZSx0LG4saSl7cmV0dXJuIHFkKGUsdCxuLCEwKXx8bmV3IElzKDAsMCl9cG9pbnRDb29yZGluYXRlM0QoZSx0LG4pe2NvbnN0IGk9dGhpcy5wb2ludENvb3JkaW5hdGUoZSx0LG4sMCk7cmV0dXJuW2kueCxpLnksaS56XX1pc1BvaW50QWJvdmVIb3Jpem9uKGUsdCl7cmV0dXJuIXFkKGUsdC54LHQueSwhMSl9ZmFydGhlc3RQaXhlbERpc3RhbmNlKGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSx0KXtjb25zdCBuPWUuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSxpPWUuX2NlbnRlckFsdGl0dWRlKnQscj1lLl9jYW1lcmEsbz1lLl9jYW1lcmEuZm9yd2FyZCgpLGE9d2woW10sSWwoW10sbywtbiksWzAsMCxpXSkscz1lLndvcmxkU2l6ZS8oMipNYXRoLlBJKSxsPVswLDAsLXNdLGM9ZS53aWR0aC9lLmhlaWdodCx1PU1hdGgudGFuKGUuZm92QWJvdmVDZW50ZXIpLGg9SWwoW10sci51cCgpLHUpLGQ9SWwoW10sci5yaWdodCgpLHUqYykscD1rbChbXSx3bChbXSx3bChbXSxvLGgpLGQpKSxmPVtdO2xldCBtO2lmKG5ldyBxbChhLHApLmNsb3Nlc3RQb2ludE9uU3BoZXJlKGwscyxmKSl7Y29uc3QgdD13bChbXSxmLGwpLG49T2woW10sdCxhKTttPU1hdGguY29zKGUuZm92QWJvdmVDZW50ZXIpKnhsKG4pfWVsc2V7Y29uc3QgZT1PbChbXSxhLGwpLHQ9T2woW10sbCxhKTtrbCh0LHQpO2NvbnN0IG49eGwoZSktczttPU1hdGguc3FydChuKihuKzIqcykpO2NvbnN0IGk9TWF0aC5hY29zKG0vKHMrbikpLU1hdGguYWNvcyhBbChvLHQpKTttKj1NYXRoLmNvcyhpKX1yZXR1cm4gMS4wMSptfShlLHRoaXMucGl4ZWxzUGVyTWV0ZXIoZS5jZW50ZXIubGF0LGUud29ybGRTaXplKSksbj1jcChlLnpvb20pO2lmKG4+MCl7Y29uc3QgaT1tcChlLGJzKDEsZS5jZW50ZXIubGF0KSplLndvcmxkU2l6ZSkscj1lLndvcmxkU2l6ZS8oMipNYXRoLlBJKSxvPU1hdGgubWF4KGUud2lkdGgsZS5oZWlnaHQpL2Uud29ybGRTaXplKk1hdGguUEk7cmV0dXJuIENuKHQsaStyKigxLU1hdGguY29zKG8pKSxNYXRoLnBvdyhuLDEwKSl9cmV0dXJuIHR9dXBWZWN0b3IoZSx0LG4pe3JldHVybiBpcCh0LG4sZSwxKX11cFZlY3RvclNjYWxlKGUpe3JldHVybnttZXRlcnNUb1RpbGU6VWQqcnAoWGQoZSkpfX19ZnVuY3Rpb24gQnAoZSl7Y29uc3QgdD1lLnBhcmFsbGVscyxuPSEhdCYmTWF0aC5hYnModFswXSt0WzFdKTwuMDE7c3dpdGNoKGUubmFtZSl7Y2FzZVwibWVyY2F0b3JcIjpyZXR1cm4gbmV3IEFwKGUpO2Nhc2VcImVxdWlyZWN0YW5ndWxhclwiOnJldHVybiBuZXcgTXAoZSk7Y2FzZVwibmF0dXJhbEVhcnRoXCI6cmV0dXJuIG5ldyB6cChlKTtjYXNlXCJlcXVhbEVhcnRoXCI6cmV0dXJuIG5ldyBTcChlKTtjYXNlXCJ3aW5rZWxUcmlwZWxcIjpyZXR1cm4gbmV3IExwKGUpO2Nhc2VcImFsYmVyc1wiOnJldHVybiBuP25ldyBPcChlKTpuZXcgdnAoZSk7Y2FzZVwibGFtYmVydENvbmZvcm1hbENvbmljXCI6cmV0dXJuIG4/bmV3IE9wKGUpOm5ldyBrcChlKTtjYXNlXCJnbG9iZVwiOnJldHVybiBuZXcgUnAoZSl9dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwcm9qZWN0aW9uIG5hbWU6IFwiK2UubmFtZSl9Y29uc3QganA9ZHUudHlwZXMsRnA9W3tuYW1lOlwiYV9mYWRlX29wYWNpdHlcIixjb21wb25lbnRzOjEsdHlwZTpcIlVpbnQ4XCIsb2Zmc2V0OjB9XTtmdW5jdGlvbiBOcChlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkKXtjb25zdCBwPXM/TWF0aC5taW4oQWQsTWF0aC5yb3VuZChzWzBdKSk6MCxmPXM/TWF0aC5taW4oQWQsTWF0aC5yb3VuZChzWzFdKSk6MDtlLmVtcGxhY2VCYWNrKHQsbixNYXRoLnJvdW5kKDMyKmkpLE1hdGgucm91bmQoMzIqciksbyxhLChwPDwxKSsobD8xOjApLGYsMTYqYywxNip1LDI1NipoLDI1NipkKX1mdW5jdGlvbiBVcChlLHQsbixpLHIsbyxhKXtlLmVtcGxhY2VCYWNrKHQsbixpLHIsbyxhKX1mdW5jdGlvbiBWcChlLHQsbixpLHIpe2UuZW1wbGFjZUJhY2sodCxuLGksciksZS5lbXBsYWNlQmFjayh0LG4saSxyKSxlLmVtcGxhY2VCYWNrKHQsbixpLHIpLGUuZW1wbGFjZUJhY2sodCxuLGkscil9ZnVuY3Rpb24gR3AoZSl7Zm9yKGNvbnN0IHQgb2YgZS5zZWN0aW9ucylpZihfbyh0LnRleHQpKXJldHVybiEwO3JldHVybiExfWNsYXNzIFpwe2NvbnN0cnVjdG9yKGUpe3RoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IHJhLHRoaXMuaW5kZXhBcnJheT1uZXcgZGEsdGhpcy5wcm9ncmFtQ29uZmlndXJhdGlvbnM9ZSx0aGlzLnNlZ21lbnRzPW5ldyBkcyx0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheT1uZXcgZWEsdGhpcy5vcGFjaXR5VmVydGV4QXJyYXk9bmV3IGFhLHRoaXMucGxhY2VkU3ltYm9sQXJyYXk9bmV3IEVhLHRoaXMuZ2xvYmVFeHRWZXJ0ZXhBcnJheT1uZXcgb2F9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5sYXlvdXRWZXJ0ZXhBcnJheS5sZW5ndGgmJjA9PT10aGlzLmluZGV4QXJyYXkubGVuZ3RoJiYwPT09dGhpcy5keW5hbWljTGF5b3V0VmVydGV4QXJyYXkubGVuZ3RoJiYwPT09dGhpcy5vcGFjaXR5VmVydGV4QXJyYXkubGVuZ3RofXVwbG9hZChlLHQsbixpKXt0aGlzLmlzRW1wdHkoKXx8KG4mJih0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LFl1Lm1lbWJlcnMpLHRoaXMuaW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLmluZGV4QXJyYXksdCksdGhpcy5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKHRoaXMuZHluYW1pY0xheW91dFZlcnRleEFycmF5LFF1Lm1lbWJlcnMsITApLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLm9wYWNpdHlWZXJ0ZXhBcnJheSxGcCwhMCksdGhpcy5nbG9iZUV4dFZlcnRleEFycmF5Lmxlbmd0aD4wJiYodGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmdsb2JlRXh0VmVydGV4QXJyYXksSnUubWVtYmVycywhMCkpLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlci5pdGVtU2l6ZT0xKSwobnx8aSkmJnRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLnVwbG9hZChlKSl9ZGVzdHJveSgpe3RoaXMubGF5b3V0VmVydGV4QnVmZmVyJiYodGhpcy5sYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMub3BhY2l0eVZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlciYmdGhpcy5nbG9iZUV4dFZlcnRleEJ1ZmZlci5kZXN0cm95KCkpfX16cihacCxcIlN5bWJvbEJ1ZmZlcnNcIik7Y2xhc3MgV3B7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMubGF5b3V0VmVydGV4QXJyYXk9bmV3IGUsdGhpcy5sYXlvdXRBdHRyaWJ1dGVzPXQsdGhpcy5pbmRleEFycmF5PW5ldyBuLHRoaXMuc2VnbWVudHM9bmV3IGRzLHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXk9bmV3IHVhLHRoaXMuY29sbGlzaW9uVmVydGV4QXJyYXlFeHQ9bmV3IGhhfXVwbG9hZChlKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmxheW91dFZlcnRleEFycmF5LHRoaXMubGF5b3V0QXR0cmlidXRlcyksdGhpcy5pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kZXhBcnJheSksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy5jb2xsaXNpb25WZXJ0ZXhBcnJheSxLdS5tZW1iZXJzLCEwKSx0aGlzLmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dD1lLmNyZWF0ZVZlcnRleEJ1ZmZlcih0aGlzLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LGVoLm1lbWJlcnMsITApfWRlc3Ryb3koKXt0aGlzLmxheW91dFZlcnRleEJ1ZmZlciYmKHRoaXMubGF5b3V0VmVydGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLmluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLnNlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLmNvbGxpc2lvblZlcnRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQuZGVzdHJveSgpKX19enIoV3AsXCJDb2xsaXNpb25CdWZmZXJzXCIpO2NsYXNzIHFwe2NvbnN0cnVjdG9yKGUpe3RoaXMuY29sbGlzaW9uQm94QXJyYXk9ZS5jb2xsaXNpb25Cb3hBcnJheSx0aGlzLnpvb209ZS56b29tLHRoaXMub3ZlcnNjYWxpbmc9ZS5vdmVyc2NhbGluZyx0aGlzLmxheWVycz1lLmxheWVycyx0aGlzLmxheWVySWRzPXRoaXMubGF5ZXJzLm1hcChlPT5lLmlkKSx0aGlzLmluZGV4PWUuaW5kZXgsdGhpcy5waXhlbFJhdGlvPWUucGl4ZWxSYXRpbyx0aGlzLnNvdXJjZUxheWVySW5kZXg9ZS5zb3VyY2VMYXllckluZGV4LHRoaXMuaGFzUGF0dGVybj0hMSx0aGlzLmhhc1JUTFRleHQ9ITEsdGhpcy5mdWxseUNsaXBwZWQ9ITEsdGhpcy5zb3J0S2V5UmFuZ2VzPVtdLHRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXk9W10sdGhpcy5wbGFjZW1lbnRJbnZQcm9qTWF0cml4PWxsKFtdKSx0aGlzLnBsYWNlbWVudFZpZXdwb3J0TWF0cml4PWxsKFtdKTtjb25zdCB0PXRoaXMubGF5ZXJzWzBdLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzO3RoaXMudGV4dFNpemVEYXRhPXJoKHRoaXMuem9vbSx0W1widGV4dC1zaXplXCJdKSx0aGlzLmljb25TaXplRGF0YT1yaCh0aGlzLnpvb20sdFtcImljb24tc2l6ZVwiXSk7Y29uc3Qgbj10aGlzLmxheWVyc1swXS5sYXlvdXQsaT1uLmdldChcInN5bWJvbC1zb3J0LWtleVwiKSxyPW4uZ2V0KFwic3ltYm9sLXotb3JkZXJcIik7dGhpcy5jYW5PdmVybGFwPW4uZ2V0KFwidGV4dC1hbGxvdy1vdmVybGFwXCIpfHxuLmdldChcImljb24tYWxsb3ctb3ZlcmxhcFwiKXx8bi5nZXQoXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIil8fG4uZ2V0KFwiaWNvbi1pZ25vcmUtcGxhY2VtZW50XCIpLHRoaXMuc29ydEZlYXR1cmVzQnlLZXk9XCJ2aWV3cG9ydC15XCIhPT1yJiZ2b2lkIDAhPT1pLmNvbnN0YW50T3IoMSksdGhpcy5zb3J0RmVhdHVyZXNCeVk9KFwidmlld3BvcnQteVwiPT09cnx8XCJhdXRvXCI9PT1yJiYhdGhpcy5zb3J0RmVhdHVyZXNCeUtleSkmJnRoaXMuY2FuT3ZlcmxhcCx0aGlzLndyaXRpbmdNb2Rlcz1uLmdldChcInRleHQtd3JpdGluZy1tb2RlXCIpLm1hcChlPT5OaFtlXSksdGhpcy5zdGF0ZURlcGVuZGVudExheWVySWRzPXRoaXMubGF5ZXJzLmZpbHRlcihlPT5lLmlzU3RhdGVEZXBlbmRlbnQoKSkubWFwKGU9PmUuaWQpLHRoaXMuc291cmNlSUQ9ZS5zb3VyY2VJRCx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9ufWNyZWF0ZUFycmF5cygpe3RoaXMudGV4dD1uZXcgWnAobmV3IG5zKHRoaXMubGF5ZXJzLHRoaXMuem9vbSxlPT4vXnRleHQvLnRlc3QoZSkpKSx0aGlzLmljb249bmV3IFpwKG5ldyBucyh0aGlzLmxheWVycyx0aGlzLnpvb20sZT0+L15pY29uLy50ZXN0KGUpKSksdGhpcy5nbHlwaE9mZnNldEFycmF5PW5ldyBJYSx0aGlzLmxpbmVWZXJ0ZXhBcnJheT1uZXcgQ2EsdGhpcy5zeW1ib2xJbnN0YW5jZXM9bmV3IE1hfWNhbGN1bGF0ZUdseXBoRGVwZW5kZW5jaWVzKGUsdCxuLGkscil7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspaWYodFtlLmNoYXJDb2RlQXQobildPSEwLGkmJnIpe2NvbnN0IGk9Y2hbZS5jaGFyQXQobildO2kmJih0W2kuY2hhckNvZGVBdCgwKV09ITApfX1wb3B1bGF0ZShlLHQsbixpKXtjb25zdCByPXRoaXMubGF5ZXJzWzBdLG89ci5sYXlvdXQsYT1cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSxzPW8uZ2V0KFwidGV4dC1mb250XCIpLGw9by5nZXQoXCJ0ZXh0LWZpZWxkXCIpLGM9by5nZXQoXCJpY29uLWltYWdlXCIpLHU9KFwiY29uc3RhbnRcIiE9PWwudmFsdWUua2luZHx8bC52YWx1ZS52YWx1ZSBpbnN0YW5jZW9mIFB0JiYhbC52YWx1ZS52YWx1ZS5pc0VtcHR5KCl8fGwudmFsdWUudmFsdWUudG9TdHJpbmcoKS5sZW5ndGg+MCkmJihcImNvbnN0YW50XCIhPT1zLnZhbHVlLmtpbmR8fHMudmFsdWUudmFsdWUubGVuZ3RoPjApLGg9XCJjb25zdGFudFwiIT09Yy52YWx1ZS5raW5kfHwhIWMudmFsdWUudmFsdWV8fE9iamVjdC5rZXlzKGMucGFyYW1ldGVycykubGVuZ3RoPjAsZD1vLmdldChcInN5bWJvbC1zb3J0LWtleVwiKTtpZih0aGlzLmZlYXR1cmVzPVtdLCF1JiYhaClyZXR1cm47Y29uc3QgcD10Lmljb25EZXBlbmRlbmNpZXMsZj10LmdseXBoRGVwZW5kZW5jaWVzLG09dC5hdmFpbGFibGVJbWFnZXMsZz1uZXcgUG8odGhpcy56b29tKTtmb3IoY29uc3R7ZmVhdHVyZTp0LGlkOmwsaW5kZXg6Yyxzb3VyY2VMYXllckluZGV4Onl9b2YgZSl7Y29uc3QgZT1yLl9mZWF0dXJlRmlsdGVyLm5lZWRHZW9tZXRyeSxfPVJzKHQsZSk7aWYoIXIuX2ZlYXR1cmVGaWx0ZXIuZmlsdGVyKGcsXyxuKSljb250aW51ZTtpZihlfHwoXy5nZW9tZXRyeT1Pcyh0LG4saSkpLGEmJjEhPT10LnR5cGUmJm4uejw9NSl7Y29uc3QgZT1fLmdlb21ldHJ5LHQ9Ljk4MDc4NTI4MDU2LGk9KGUsaSk9PkFsKGlwKGUueCxlLnksbiwxKSxpcChpLngsaS55LG4sMSkpPHQ7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspZVt0XT1QcyhlW3RdLGkpfWxldCB2LHg7aWYodSl7Y29uc3QgZT1yLmdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhcInRleHQtZmllbGRcIixfLG4sbSksdD1QdC5mYWN0b3J5KGUpO0dwKHQpJiYodGhpcy5oYXNSVExUZXh0PSEwKSwoIXRoaXMuaGFzUlRMVGV4dHx8XCJ1bmF2YWlsYWJsZVwiPT09Q28oKXx8dGhpcy5oYXNSVExUZXh0JiZBby5pc1BhcnNlZCgpKSYmKHY9bGgodCxyLF8pKX1pZihoKXtjb25zdCBlPXIuZ2V0VmFsdWVBbmRSZXNvbHZlVG9rZW5zKFwiaWNvbi1pbWFnZVwiLF8sbixtKTt4PWUgaW5zdGFuY2VvZiB6dD9lOnp0LmZyb21TdHJpbmcoZSl9aWYoIXYmJiF4KWNvbnRpbnVlO2NvbnN0IGI9dGhpcy5zb3J0RmVhdHVyZXNCeUtleT9kLmV2YWx1YXRlKF8se30sbik6dm9pZCAwO2lmKHRoaXMuZmVhdHVyZXMucHVzaCh7aWQ6bCx0ZXh0OnYsaWNvbjp4LGluZGV4OmMsc291cmNlTGF5ZXJJbmRleDp5LGdlb21ldHJ5Ol8uZ2VvbWV0cnkscHJvcGVydGllczp0LnByb3BlcnRpZXMsdHlwZTpqcFt0LnR5cGVdLHNvcnRLZXk6Yn0pLHgmJihwW3gubmFtZV09ITApLHYpe2NvbnN0IGU9cy5ldmFsdWF0ZShfLHt9LG4pLmpvaW4oXCIsXCIpLHQ9XCJtYXBcIj09PW8uZ2V0KFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJlwicG9pbnRcIiE9PW8uZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKTt0aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQ9dGhpcy53cml0aW5nTW9kZXMmJnRoaXMud3JpdGluZ01vZGVzLmluZGV4T2YoTmgudmVydGljYWwpPj0wO2Zvcihjb25zdCBuIG9mIHYuc2VjdGlvbnMpaWYobi5pbWFnZSlwW24uaW1hZ2UubmFtZV09ITA7ZWxzZXtjb25zdCBpPXVvKHYudG9TdHJpbmcoKSkscj1uLmZvbnRTdGFja3x8ZSxvPWZbcl09ZltyXXx8e307dGhpcy5jYWxjdWxhdGVHbHlwaERlcGVuZGVuY2llcyhuLnRleHQsbyx0LHRoaXMuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCxpKX19fVwibGluZVwiPT09by5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpJiYodGhpcy5mZWF0dXJlcz1mdW5jdGlvbihlKXtjb25zdCB0PXt9LG49e30saT1bXTtsZXQgcj0wO2Z1bmN0aW9uIG8odCl7aS5wdXNoKGVbdF0pLHIrK31mdW5jdGlvbiBhKGUsdCxyKXtjb25zdCBvPW5bZV07cmV0dXJuIGRlbGV0ZSBuW2VdLG5bdF09byxpW29dLmdlb21ldHJ5WzBdLnBvcCgpLGlbb10uZ2VvbWV0cnlbMF09aVtvXS5nZW9tZXRyeVswXS5jb25jYXQoclswXSksb31mdW5jdGlvbiBzKGUsbixyKXtjb25zdCBvPXRbbl07cmV0dXJuIGRlbGV0ZSB0W25dLHRbZV09byxpW29dLmdlb21ldHJ5WzBdLnNoaWZ0KCksaVtvXS5nZW9tZXRyeVswXT1yWzBdLmNvbmNhdChpW29dLmdlb21ldHJ5WzBdKSxvfWZ1bmN0aW9uIGwoZSx0LG4pe2NvbnN0IGk9bj90WzBdW3RbMF0ubGVuZ3RoLTFdOnRbMF1bMF07cmV0dXJuYCR7ZX06JHtpLnh9OiR7aS55fWB9Zm9yKGxldCBjPTA7YzxlLmxlbmd0aDtjKyspe2NvbnN0IHU9ZVtjXSxoPXUuZ2VvbWV0cnksZD11LnRleHQ/dS50ZXh0LnRvU3RyaW5nKCk6bnVsbDtpZighZCl7byhjKTtjb250aW51ZX1jb25zdCBwPWwoZCxoKSxmPWwoZCxoLCEwKTtpZihwIGluIG4mJmYgaW4gdCYmbltwXSE9PXRbZl0pe2NvbnN0IGU9cyhwLGYsaCkscj1hKHAsZixpW2VdLmdlb21ldHJ5KTtkZWxldGUgdFtwXSxkZWxldGUgbltmXSxuW2woZCxpW3JdLmdlb21ldHJ5LCEwKV09cixpW2VdLmdlb21ldHJ5PW51bGx9ZWxzZSBwIGluIG4/YShwLGYsaCk6ZiBpbiB0P3MocCxmLGgpOihvKGMpLHRbcF09ci0xLG5bZl09ci0xKX1yZXR1cm4gaS5maWx0ZXIoZT0+ZS5nZW9tZXRyeSl9KHRoaXMuZmVhdHVyZXMpKSx0aGlzLnNvcnRGZWF0dXJlc0J5S2V5JiZ0aGlzLmZlYXR1cmVzLnNvcnQoKGUsdCk9PmUuc29ydEtleS10LnNvcnRLZXkpfXVwZGF0ZShlLHQsbixpKXt0aGlzLnN0YXRlRGVwZW5kZW50TGF5ZXJzLmxlbmd0aCYmKHRoaXMudGV4dC5wcm9ncmFtQ29uZmlndXJhdGlvbnMudXBkYXRlUGFpbnRBcnJheXMoZSx0LHRoaXMubGF5ZXJzLG4saSksdGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy51cGRhdGVQYWludEFycmF5cyhlLHQsdGhpcy5sYXllcnMsbixpKSl9aXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoJiYhdGhpcy5oYXNSVExUZXh0fXVwbG9hZFBlbmRpbmcoKXtyZXR1cm4hdGhpcy51cGxvYWRlZHx8dGhpcy50ZXh0LnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZHx8dGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZH11cGxvYWQoZSl7IXRoaXMudXBsb2FkZWQmJnRoaXMuaGFzRGVidWdEYXRhKCkmJih0aGlzLnRleHRDb2xsaXNpb25Cb3gudXBsb2FkKGUpLHRoaXMuaWNvbkNvbGxpc2lvbkJveC51cGxvYWQoZSkpLHRoaXMudGV4dC51cGxvYWQoZSx0aGlzLnNvcnRGZWF0dXJlc0J5WSwhdGhpcy51cGxvYWRlZCx0aGlzLnRleHQucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLm5lZWRzVXBsb2FkKSx0aGlzLmljb24udXBsb2FkKGUsdGhpcy5zb3J0RmVhdHVyZXNCeVksIXRoaXMudXBsb2FkZWQsdGhpcy5pY29uLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZCksdGhpcy51cGxvYWRlZD0hMH1kZXN0cm95RGVidWdEYXRhKCl7dGhpcy50ZXh0Q29sbGlzaW9uQm94LmRlc3Ryb3koKSx0aGlzLmljb25Db2xsaXNpb25Cb3guZGVzdHJveSgpfWdldFByb2plY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uSW5zdGFuY2V8fCh0aGlzLnByb2plY3Rpb25JbnN0YW5jZT1CcCh0aGlzLnByb2plY3Rpb24pKSx0aGlzLnByb2plY3Rpb25JbnN0YW5jZX1kZXN0cm95KCl7dGhpcy50ZXh0LmRlc3Ryb3koKSx0aGlzLmljb24uZGVzdHJveSgpLHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuZGVzdHJveURlYnVnRGF0YSgpfWFkZFRvTGluZVZlcnRleEFycmF5KGUsdCl7Y29uc3Qgbj10aGlzLmxpbmVWZXJ0ZXhBcnJheS5sZW5ndGg7aWYodm9pZCAwIT09ZS5zZWdtZW50KWZvcihjb25zdHt4OmUseTpufW9mIHQpdGhpcy5saW5lVmVydGV4QXJyYXkuZW1wbGFjZUJhY2soZSxuKTtyZXR1cm57bGluZVN0YXJ0SW5kZXg6bixsaW5lTGVuZ3RoOnRoaXMubGluZVZlcnRleEFycmF5Lmxlbmd0aC1ufX1hZGRTeW1ib2xzKGUsdCxuLGkscixvLGEscyxsLGMsdSxoLGQscCl7Y29uc3QgZj1lLmluZGV4QXJyYXksbT1lLmxheW91dFZlcnRleEFycmF5LGc9ZS5nbG9iZUV4dFZlcnRleEFycmF5LHk9ZS5zZWdtZW50cy5wcmVwYXJlU2VnbWVudCg0KnQubGVuZ3RoLG0sZix0aGlzLmNhbk92ZXJsYXA/by5zb3J0S2V5OnZvaWQgMCksXz10aGlzLmdseXBoT2Zmc2V0QXJyYXkubGVuZ3RoLHY9eS52ZXJ0ZXhMZW5ndGgseD10aGlzLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJmE9PT1OaC52ZXJ0aWNhbD9NYXRoLlBJLzI6MCxiPW8udGV4dCYmby50ZXh0LnNlY3Rpb25zO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdHt0bDpyLHRyOmEsYmw6Yyxicjp1LHRleDpoLHBpeGVsT2Zmc2V0VEw6XyxwaXhlbE9mZnNldEJSOnYsbWluRm9udFNjYWxlWDp3LG1pbkZvbnRTY2FsZVk6VCxnbHlwaE9mZnNldDpFLGlzU0RGOlMsc2VjdGlvbkluZGV4Ok19PXRbaV0sST15LnZlcnRleExlbmd0aCxDPUVbMV07aWYoTnAobSxsLngsbC55LHIueCxDK3IueSxoLngsaC55LG4sUyxfLngsXy55LHcsVCksTnAobSxsLngsbC55LGEueCxDK2EueSxoLngraC53LGgueSxuLFMsdi54LF8ueSx3LFQpLE5wKG0sbC54LGwueSxjLngsQytjLnksaC54LGgueStoLmgsbixTLF8ueCx2LnksdyxUKSxOcChtLGwueCxsLnksdS54LEMrdS55LGgueCtoLncsaC55K2guaCxuLFMsdi54LHYueSx3LFQpLHMpe2NvbnN0e3g6dCx5Om4sejppfT1zLmFuY2hvcixbcixvLGFdPXMudXA7VXAoZyx0LG4saSxyLG8sYSksVXAoZyx0LG4saSxyLG8sYSksVXAoZyx0LG4saSxyLG8sYSksVXAoZyx0LG4saSxyLG8sYSksVnAoZS5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksdCxuLGkseCl9ZWxzZSBWcChlLmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheSxsLngsbC55LGwueix4KTtmLmVtcGxhY2VCYWNrKEksSSsxLEkrMiksZi5lbXBsYWNlQmFjayhJKzEsSSsyLEkrMykseS52ZXJ0ZXhMZW5ndGgrPTQseS5wcmltaXRpdmVMZW5ndGgrPTIsdGhpcy5nbHlwaE9mZnNldEFycmF5LmVtcGxhY2VCYWNrKEVbMF0pLGkhPT10Lmxlbmd0aC0xJiZNPT09dFtpKzFdLnNlY3Rpb25JbmRleHx8ZS5wcm9ncmFtQ29uZmlndXJhdGlvbnMucG9wdWxhdGVQYWludEFycmF5cyhtLmxlbmd0aCxvLG8uaW5kZXgse30sZCxwLGImJmJbTV0pfWNvbnN0IHc9cz9zLmFuY2hvcjpsO2UucGxhY2VkU3ltYm9sQXJyYXkuZW1wbGFjZUJhY2sody54LHcueSx3LnosbC54LGwueSxfLHRoaXMuZ2x5cGhPZmZzZXRBcnJheS5sZW5ndGgtXyx2LGMsdSxsLnNlZ21lbnQsbj9uWzBdOjAsbj9uWzFdOjAsaVswXSxpWzFdLGEsMCwhMSwwLGgsMCl9X2NvbW1pdExheW91dFZlcnRleChlLHQsbixpLHIsbyxhKXtlLmVtcGxhY2VCYWNrKHQsbixpLHIsbyxNYXRoLnJvdW5kKGEueCksTWF0aC5yb3VuZChhLnkpKX1fYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcyhlLHQsbixpLHIsbyxhKXtjb25zdCBzPW4uc2VnbWVudHMucHJlcGFyZVNlZ21lbnQoNCxuLmxheW91dFZlcnRleEFycmF5LG4uaW5kZXhBcnJheSksbD1zLnZlcnRleExlbmd0aCxjPWEudGlsZUFuY2hvclgsdT1hLnRpbGVBbmNob3JZO2ZvcihsZXQgZT0wO2U8NDtlKyspbi5jb2xsaXNpb25WZXJ0ZXhBcnJheS5lbXBsYWNlQmFjaygwLDAsMCwwKTtuLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmVtcGxhY2VCYWNrKHQsLWUucGFkZGluZywtZS5wYWRkaW5nKSxuLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmVtcGxhY2VCYWNrKHQsZS5wYWRkaW5nLC1lLnBhZGRpbmcpLG4uY29sbGlzaW9uVmVydGV4QXJyYXlFeHQuZW1wbGFjZUJhY2sodCxlLnBhZGRpbmcsZS5wYWRkaW5nKSxuLmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmVtcGxhY2VCYWNrKHQsLWUucGFkZGluZyxlLnBhZGRpbmcpLHRoaXMuX2NvbW1pdExheW91dFZlcnRleChuLmxheW91dFZlcnRleEFycmF5LGkscixvLGMsdSxuZXcgbShlLngxLGUueTEpKSx0aGlzLl9jb21taXRMYXlvdXRWZXJ0ZXgobi5sYXlvdXRWZXJ0ZXhBcnJheSxpLHIsbyxjLHUsbmV3IG0oZS54MixlLnkxKSksdGhpcy5fY29tbWl0TGF5b3V0VmVydGV4KG4ubGF5b3V0VmVydGV4QXJyYXksaSxyLG8sYyx1LG5ldyBtKGUueDIsZS55MikpLHRoaXMuX2NvbW1pdExheW91dFZlcnRleChuLmxheW91dFZlcnRleEFycmF5LGkscixvLGMsdSxuZXcgbShlLngxLGUueTIpKSxzLnZlcnRleExlbmd0aCs9NDtjb25zdCBoPW4uaW5kZXhBcnJheTtoLmVtcGxhY2VCYWNrKGwsbCsxKSxoLmVtcGxhY2VCYWNrKGwrMSxsKzIpLGguZW1wbGFjZUJhY2sobCsyLGwrMyksaC5lbXBsYWNlQmFjayhsKzMsbCkscy5wcmltaXRpdmVMZW5ndGgrPTR9X2FkZFRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKGUsdCxuLGkscixvKXtmb3IobGV0IGE9aTthPHI7YSsrKXtjb25zdCBpPW4uZ2V0KGEpLHI9dGhpcy5nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKGUsbyx0LGEpO3RoaXMuX2FkZENvbGxpc2lvbkRlYnVnVmVydGljZXMoaSxyLHRoaXMudGV4dENvbGxpc2lvbkJveCxpLnByb2plY3RlZEFuY2hvclgsaS5wcm9qZWN0ZWRBbmNob3JZLGkucHJvamVjdGVkQW5jaG9yWixvKX19X2FkZEljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKGUsdCxuLGkscixvKXtmb3IobGV0IGE9aTthPHI7YSsrKXtjb25zdCBpPW4uZ2V0KGEpLHI9dGhpcy5nZXRTeW1ib2xJbnN0YW5jZUljb25TaXplKGUsdCxvLnBsYWNlZEljb25TeW1ib2xJbmRleCk7dGhpcy5fYWRkQ29sbGlzaW9uRGVidWdWZXJ0aWNlcyhpLHIsdGhpcy5pY29uQ29sbGlzaW9uQm94LGkucHJvamVjdGVkQW5jaG9yWCxpLnByb2plY3RlZEFuY2hvclksaS5wcm9qZWN0ZWRBbmNob3JaLG8pfX1nZW5lcmF0ZUNvbGxpc2lvbkRlYnVnQnVmZmVycyhlLHQpe3RoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuZGVzdHJveURlYnVnRGF0YSgpLHRoaXMudGV4dENvbGxpc2lvbkJveD1uZXcgV3AobGEsdGgubWVtYmVycyxfYSksdGhpcy5pY29uQ29sbGlzaW9uQm94PW5ldyBXcChsYSx0aC5tZW1iZXJzLF9hKTtjb25zdCBuPWFoKHRoaXMuaWNvblNpemVEYXRhLGUpLGk9YWgodGhpcy50ZXh0U2l6ZURhdGEsZSk7Zm9yKGxldCByPTA7cjx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7cisrKXtjb25zdCBvPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChyKTt0aGlzLl9hZGRUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhpLGUsdCxvLnRleHRCb3hTdGFydEluZGV4LG8udGV4dEJveEVuZEluZGV4LG8pLHRoaXMuX2FkZFRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKGksZSx0LG8udmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCxvLnZlcnRpY2FsVGV4dEJveEVuZEluZGV4LG8pLHRoaXMuX2FkZEljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKG4sZSx0LG8uaWNvbkJveFN0YXJ0SW5kZXgsby5pY29uQm94RW5kSW5kZXgsbyksdGhpcy5fYWRkSWNvbkRlYnVnQ29sbGlzaW9uQm94ZXMobixlLHQsby52ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4LG8udmVydGljYWxJY29uQm94RW5kSW5kZXgsbyl9fWdldFN5bWJvbEluc3RhbmNlVGV4dFNpemUoZSx0LG4saSl7Y29uc3Qgcj10aGlzLnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KHQucmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/dC5yaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDp0LmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleD49MD90LmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDp0LmxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg+PTA/dC5sZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OnQudmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg+PTA/dC52ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDppKSxvPW9oKHRoaXMudGV4dFNpemVEYXRhLGUscikvMjQ7cmV0dXJuIHRoaXMudGlsZVBpeGVsUmF0aW8qb31nZXRTeW1ib2xJbnN0YW5jZUljb25TaXplKGUsdCxuKXtjb25zdCBpPXRoaXMuaWNvbi5wbGFjZWRTeW1ib2xBcnJheS5nZXQobikscj1vaCh0aGlzLmljb25TaXplRGF0YSxlLGkpO3JldHVybiB0aGlzLnRpbGVQaXhlbFJhdGlvKnJ9X2NvbW1pdERlYnVnQ29sbGlzaW9uVmVydGV4VXBkYXRlKGUsdCxuKXtlLmVtcGxhY2VCYWNrKHQsLW4sLW4pLGUuZW1wbGFjZUJhY2sodCxuLC1uKSxlLmVtcGxhY2VCYWNrKHQsbixuKSxlLmVtcGxhY2VCYWNrKHQsLW4sbil9X3VwZGF0ZVRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKGUsdCxuLGkscixvKXtmb3IobGV0IGE9aTthPHI7YSsrKXtjb25zdCBpPW4uZ2V0KGEpLHI9dGhpcy5nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKGUsbyx0LGEpO3RoaXMuX2NvbW1pdERlYnVnQ29sbGlzaW9uVmVydGV4VXBkYXRlKHRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCxyLGkucGFkZGluZyl9fV91cGRhdGVJY29uRGVidWdDb2xsaXNpb25Cb3hlcyhlLHQsbixpLHIsbyl7Zm9yKGxldCBhPWk7YTxyO2ErKyl7Y29uc3QgaT1uLmdldChhKSxyPXRoaXMuZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZShlLHQsbyk7dGhpcy5fY29tbWl0RGVidWdDb2xsaXNpb25WZXJ0ZXhVcGRhdGUodGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LHIsaS5wYWRkaW5nKX19dXBkYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKGUsdCl7aWYoIXRoaXMuaGFzRGVidWdEYXRhKCkpcmV0dXJuO3RoaXMuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSYmdGhpcy50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5RXh0LmNsZWFyKCksdGhpcy5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpJiZ0aGlzLmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQuY2xlYXIoKTtjb25zdCBuPWFoKHRoaXMuaWNvblNpemVEYXRhLGUpLGk9YWgodGhpcy50ZXh0U2l6ZURhdGEsZSk7Zm9yKGxldCByPTA7cjx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7cisrKXtjb25zdCBvPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldChyKTt0aGlzLl91cGRhdGVUZXh0RGVidWdDb2xsaXNpb25Cb3hlcyhpLGUsdCxvLnRleHRCb3hTdGFydEluZGV4LG8udGV4dEJveEVuZEluZGV4LG8pLHRoaXMuX3VwZGF0ZVRleHREZWJ1Z0NvbGxpc2lvbkJveGVzKGksZSx0LG8udmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCxvLnZlcnRpY2FsVGV4dEJveEVuZEluZGV4LG8pLHRoaXMuX3VwZGF0ZUljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKG4sZSx0LG8uaWNvbkJveFN0YXJ0SW5kZXgsby5pY29uQm94RW5kSW5kZXgsby5wbGFjZWRJY29uU3ltYm9sSW5kZXgpLHRoaXMuX3VwZGF0ZUljb25EZWJ1Z0NvbGxpc2lvbkJveGVzKG4sZSx0LG8udmVydGljYWxJY29uQm94U3RhcnRJbmRleCxvLnZlcnRpY2FsSWNvbkJveEVuZEluZGV4LG8ucGxhY2VkSWNvblN5bWJvbEluZGV4KX10aGlzLmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkmJnRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQmJnRoaXMudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhCdWZmZXJFeHQudXBkYXRlRGF0YSh0aGlzLnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXlFeHQpLHRoaXMuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dCYmdGhpcy5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dC51cGRhdGVEYXRhKHRoaXMuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheUV4dCl9X2Rlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXNGb3JTeW1ib2woZSx0LG4saSxyLG8sYSxzLGwpe2NvbnN0IGM9e307aWYodDxuKXtjb25zdHt4MTpuLHkxOmkseDI6cix5MjpvLHBhZGRpbmc6YSxwcm9qZWN0ZWRBbmNob3JYOnMscHJvamVjdGVkQW5jaG9yWTpsLHByb2plY3RlZEFuY2hvclo6dSx0aWxlQW5jaG9yWDpoLHRpbGVBbmNob3JZOmQsZmVhdHVyZUluZGV4OnB9PWUuZ2V0KHQpO2MudGV4dEJveD17eDE6bix5MTppLHgyOnIseTI6byxwYWRkaW5nOmEscHJvamVjdGVkQW5jaG9yWDpzLHByb2plY3RlZEFuY2hvclk6bCxwcm9qZWN0ZWRBbmNob3JaOnUsdGlsZUFuY2hvclg6aCx0aWxlQW5jaG9yWTpkfSxjLnRleHRGZWF0dXJlSW5kZXg9cH1pZihpPHIpe2NvbnN0e3gxOnQseTE6bix4MjpyLHkyOm8scGFkZGluZzphLHByb2plY3RlZEFuY2hvclg6cyxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjp1LHRpbGVBbmNob3JYOmgsdGlsZUFuY2hvclk6ZCxmZWF0dXJlSW5kZXg6cH09ZS5nZXQoaSk7Yy52ZXJ0aWNhbFRleHRCb3g9e3gxOnQseTE6bix4MjpyLHkyOm8scGFkZGluZzphLHByb2plY3RlZEFuY2hvclg6cyxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjp1LHRpbGVBbmNob3JYOmgsdGlsZUFuY2hvclk6ZH0sYy52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXg9cH1pZihvPGEpe2NvbnN0e3gxOnQseTE6bix4MjppLHkyOnIscGFkZGluZzphLHByb2plY3RlZEFuY2hvclg6cyxwcm9qZWN0ZWRBbmNob3JZOmwscHJvamVjdGVkQW5jaG9yWjp1LHRpbGVBbmNob3JYOmgsdGlsZUFuY2hvclk6ZCxmZWF0dXJlSW5kZXg6cH09ZS5nZXQobyk7Yy5pY29uQm94PXt4MTp0LHkxOm4seDI6aSx5MjpyLHBhZGRpbmc6YSxwcm9qZWN0ZWRBbmNob3JYOnMscHJvamVjdGVkQW5jaG9yWTpsLHByb2plY3RlZEFuY2hvclo6dSx0aWxlQW5jaG9yWDpoLHRpbGVBbmNob3JZOmR9LGMuaWNvbkZlYXR1cmVJbmRleD1wfWlmKHM8bCl7Y29uc3R7eDE6dCx5MTpuLHgyOmkseTI6cixwYWRkaW5nOm8scHJvamVjdGVkQW5jaG9yWDphLHByb2plY3RlZEFuY2hvclk6bCxwcm9qZWN0ZWRBbmNob3JaOnUsdGlsZUFuY2hvclg6aCx0aWxlQW5jaG9yWTpkLGZlYXR1cmVJbmRleDpwfT1lLmdldChzKTtjLnZlcnRpY2FsSWNvbkJveD17eDE6dCx5MTpuLHgyOmkseTI6cixwYWRkaW5nOm8scHJvamVjdGVkQW5jaG9yWDphLHByb2plY3RlZEFuY2hvclk6bCxwcm9qZWN0ZWRBbmNob3JaOnUsdGlsZUFuY2hvclg6aCx0aWxlQW5jaG9yWTpkfSxjLnZlcnRpY2FsSWNvbkZlYXR1cmVJbmRleD1wfXJldHVybiBjfWRlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXMoZSl7dGhpcy5jb2xsaXNpb25BcnJheXM9W107Zm9yKGxldCB0PTA7dDx0aGlzLnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7dCsrKXtjb25zdCBuPXRoaXMuc3ltYm9sSW5zdGFuY2VzLmdldCh0KTt0aGlzLmNvbGxpc2lvbkFycmF5cy5wdXNoKHRoaXMuX2Rlc2VyaWFsaXplQ29sbGlzaW9uQm94ZXNGb3JTeW1ib2woZSxuLnRleHRCb3hTdGFydEluZGV4LG4udGV4dEJveEVuZEluZGV4LG4udmVydGljYWxUZXh0Qm94U3RhcnRJbmRleCxuLnZlcnRpY2FsVGV4dEJveEVuZEluZGV4LG4uaWNvbkJveFN0YXJ0SW5kZXgsbi5pY29uQm94RW5kSW5kZXgsbi52ZXJ0aWNhbEljb25Cb3hTdGFydEluZGV4LG4udmVydGljYWxJY29uQm94RW5kSW5kZXgpKX19aGFzVGV4dERhdGEoKXtyZXR1cm4gdGhpcy50ZXh0LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWhhc0ljb25EYXRhKCl7cmV0dXJuIHRoaXMuaWNvbi5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1oYXNEZWJ1Z0RhdGEoKXtyZXR1cm4gdGhpcy50ZXh0Q29sbGlzaW9uQm94JiZ0aGlzLmljb25Db2xsaXNpb25Cb3h9aGFzVGV4dENvbGxpc2lvbkJveERhdGEoKXtyZXR1cm4gdGhpcy5oYXNEZWJ1Z0RhdGEoKSYmdGhpcy50ZXh0Q29sbGlzaW9uQm94LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4wfWhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCl7cmV0dXJuIHRoaXMuaGFzRGVidWdEYXRhKCkmJnRoaXMuaWNvbkNvbGxpc2lvbkJveC5zZWdtZW50cy5nZXQoKS5sZW5ndGg+MH1hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKGUsdCl7Y29uc3Qgbj1lLnBsYWNlZFN5bWJvbEFycmF5LmdldCh0KSxpPW4udmVydGV4U3RhcnRJbmRleCs0Km4ubnVtR2x5cGhzO2ZvcihsZXQgdD1uLnZlcnRleFN0YXJ0SW5kZXg7dDxpO3QrPTQpZS5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHQsdCsxLHQrMiksZS5pbmRleEFycmF5LmVtcGxhY2VCYWNrKHQrMSx0KzIsdCszKX1nZXRTb3J0ZWRTeW1ib2xJbmRleGVzKGUpe2lmKHRoaXMuc29ydGVkQW5nbGU9PT1lJiZ2b2lkIDAhPT10aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcylyZXR1cm4gdGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXM7Y29uc3QgdD1NYXRoLnNpbihlKSxuPU1hdGguY29zKGUpLGk9W10scj1bXSxvPVtdO2ZvcihsZXQgZT0wO2U8dGhpcy5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoOysrZSl7by5wdXNoKGUpO2NvbnN0IGE9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpO2kucHVzaCgwfE1hdGgucm91bmQodCphLnRpbGVBbmNob3JYK24qYS50aWxlQW5jaG9yWSkpLHIucHVzaChhLmZlYXR1cmVJbmRleCl9cmV0dXJuIG8uc29ydCgoZSx0KT0+aVtlXS1pW3RdfHxyW3RdLXJbZV0pLG99YWRkVG9Tb3J0S2V5UmFuZ2VzKGUsdCl7Y29uc3Qgbj10aGlzLnNvcnRLZXlSYW5nZXNbdGhpcy5zb3J0S2V5UmFuZ2VzLmxlbmd0aC0xXTtuJiZuLnNvcnRLZXk9PT10P24uc3ltYm9sSW5zdGFuY2VFbmQ9ZSsxOnRoaXMuc29ydEtleVJhbmdlcy5wdXNoKHtzb3J0S2V5OnQsc3ltYm9sSW5zdGFuY2VTdGFydDplLHN5bWJvbEluc3RhbmNlRW5kOmUrMX0pfXNvcnRGZWF0dXJlcyhlKXtpZih0aGlzLnNvcnRGZWF0dXJlc0J5WSYmdGhpcy5zb3J0ZWRBbmdsZSE9PWUmJiEodGhpcy50ZXh0LnNlZ21lbnRzLmdldCgpLmxlbmd0aD4xfHx0aGlzLmljb24uc2VnbWVudHMuZ2V0KCkubGVuZ3RoPjEpKXt0aGlzLnN5bWJvbEluc3RhbmNlSW5kZXhlcz10aGlzLmdldFNvcnRlZFN5bWJvbEluZGV4ZXMoZSksdGhpcy5zb3J0ZWRBbmdsZT1lLHRoaXMudGV4dC5pbmRleEFycmF5LmNsZWFyKCksdGhpcy5pY29uLmluZGV4QXJyYXkuY2xlYXIoKSx0aGlzLmZlYXR1cmVTb3J0T3JkZXI9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5zeW1ib2xJbnN0YW5jZUluZGV4ZXMpe2NvbnN0IHQ9dGhpcy5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpO3RoaXMuZmVhdHVyZVNvcnRPcmRlci5wdXNoKHQuZmVhdHVyZUluZGV4KTtjb25zdHtyaWdodEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpuLGNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDppLGxlZnRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6cix2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDpvLHBsYWNlZEljb25TeW1ib2xJbmRleDphLHZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4OnN9PXQ7bj49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMudGV4dCxuKSxpPj0wJiZpIT09biYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMudGV4dCxpKSxyPj0wJiZyIT09aSYmciE9PW4mJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLnRleHQsciksbz49MCYmdGhpcy5hZGRJbmRpY2VzRm9yUGxhY2VkU3ltYm9sKHRoaXMudGV4dCxvKSxhPj0wJiZ0aGlzLmFkZEluZGljZXNGb3JQbGFjZWRTeW1ib2wodGhpcy5pY29uLGEpLHM+PTAmJnRoaXMuYWRkSW5kaWNlc0ZvclBsYWNlZFN5bWJvbCh0aGlzLmljb24scyl9dGhpcy50ZXh0LmluZGV4QnVmZmVyJiZ0aGlzLnRleHQuaW5kZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLnRleHQuaW5kZXhBcnJheSksdGhpcy5pY29uLmluZGV4QnVmZmVyJiZ0aGlzLmljb24uaW5kZXhCdWZmZXIudXBkYXRlRGF0YSh0aGlzLmljb24uaW5kZXhBcnJheSl9fX16cihxcCxcIlN5bWJvbEJ1Y2tldFwiLHtvbWl0OltcImxheWVyc1wiLFwiY29sbGlzaW9uQm94QXJyYXlcIixcImZlYXR1cmVzXCIsXCJjb21wYXJlVGV4dFwiXX0pLHFwLk1BWF9HTFlQSFM9NjU1MzUscXAuYWRkRHluYW1pY0F0dHJpYnV0ZXM9VnA7Y29uc3QgJHA9bmV3IEdvKHtcInN5bWJvbC1wbGFjZW1lbnRcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1wbGFjZW1lbnRcIl0pLFwic3ltYm9sLXNwYWNpbmdcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcInN5bWJvbC1zcGFjaW5nXCJdKSxcInN5bWJvbC1hdm9pZC1lZGdlc1wiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLWF2b2lkLWVkZ2VzXCJdKSxcInN5bWJvbC1zb3J0LWtleVwiOm5ldyBVbyhKZS5sYXlvdXRfc3ltYm9sW1wic3ltYm9sLXNvcnQta2V5XCJdKSxcInN5bWJvbC16LW9yZGVyXCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJzeW1ib2wtei1vcmRlclwiXSksXCJpY29uLWFsbG93LW92ZXJsYXBcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcImljb24tYWxsb3ctb3ZlcmxhcFwiXSksXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcImljb24taWdub3JlLXBsYWNlbWVudFwiXSksXCJpY29uLW9wdGlvbmFsXCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJpY29uLW9wdGlvbmFsXCJdKSxcImljb24tcm90YXRpb24tYWxpZ25tZW50XCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJpY29uLXJvdGF0aW9uLWFsaWdubWVudFwiXSksXCJpY29uLXNpemVcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcImljb24tc2l6ZVwiXSksXCJpY29uLXRleHQtZml0XCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJpY29uLXRleHQtZml0XCJdKSxcImljb24tdGV4dC1maXQtcGFkZGluZ1wiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi10ZXh0LWZpdC1wYWRkaW5nXCJdKSxcImljb24taW1hZ2VcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcImljb24taW1hZ2VcIl0pLFwiaWNvbi1yb3RhdGVcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcImljb24tcm90YXRlXCJdKSxcImljb24tcGFkZGluZ1wiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1wYWRkaW5nXCJdKSxcImljb24ta2VlcC11cHJpZ2h0XCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJpY29uLWtlZXAtdXByaWdodFwiXSksXCJpY29uLW9mZnNldFwiOm5ldyBVbyhKZS5sYXlvdXRfc3ltYm9sW1wiaWNvbi1vZmZzZXRcIl0pLFwiaWNvbi1hbmNob3JcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcImljb24tYW5jaG9yXCJdKSxcImljb24tcGl0Y2gtYWxpZ25tZW50XCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJpY29uLXBpdGNoLWFsaWdubWVudFwiXSksXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1widGV4dC1waXRjaC1hbGlnbm1lbnRcIl0pLFwidGV4dC1yb3RhdGlvbi1hbGlnbm1lbnRcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCJdKSxcInRleHQtZmllbGRcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtZmllbGRcIl0pLFwidGV4dC1mb250XCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWZvbnRcIl0pLFwidGV4dC1zaXplXCI6bmV3IFVvKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LXNpemVcIl0pLFwidGV4dC1tYXgtd2lkdGhcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtbWF4LXdpZHRoXCJdKSxcInRleHQtbGluZS1oZWlnaHRcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtbGluZS1oZWlnaHRcIl0pLFwidGV4dC1sZXR0ZXItc3BhY2luZ1wiOm5ldyBVbyhKZS5sYXlvdXRfc3ltYm9sW1widGV4dC1sZXR0ZXItc3BhY2luZ1wiXSksXCJ0ZXh0LWp1c3RpZnlcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtanVzdGlmeVwiXSksXCJ0ZXh0LXJhZGlhbC1vZmZzZXRcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtcmFkaWFsLW9mZnNldFwiXSksXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1widGV4dC12YXJpYWJsZS1hbmNob3JcIl0pLFwidGV4dC1hbmNob3JcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtYW5jaG9yXCJdKSxcInRleHQtbWF4LWFuZ2xlXCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LW1heC1hbmdsZVwiXSksXCJ0ZXh0LXdyaXRpbmctbW9kZVwiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1widGV4dC13cml0aW5nLW1vZGVcIl0pLFwidGV4dC1yb3RhdGVcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtcm90YXRlXCJdKSxcInRleHQtcGFkZGluZ1wiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1widGV4dC1wYWRkaW5nXCJdKSxcInRleHQta2VlcC11cHJpZ2h0XCI6bmV3IE5vKEplLmxheW91dF9zeW1ib2xbXCJ0ZXh0LWtlZXAtdXByaWdodFwiXSksXCJ0ZXh0LXRyYW5zZm9ybVwiOm5ldyBVbyhKZS5sYXlvdXRfc3ltYm9sW1widGV4dC10cmFuc2Zvcm1cIl0pLFwidGV4dC1vZmZzZXRcIjpuZXcgVW8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtb2Zmc2V0XCJdKSxcInRleHQtYWxsb3ctb3ZlcmxhcFwiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1widGV4dC1hbGxvdy1vdmVybGFwXCJdKSxcInRleHQtaWdub3JlLXBsYWNlbWVudFwiOm5ldyBObyhKZS5sYXlvdXRfc3ltYm9sW1widGV4dC1pZ25vcmUtcGxhY2VtZW50XCJdKSxcInRleHQtb3B0aW9uYWxcIjpuZXcgTm8oSmUubGF5b3V0X3N5bWJvbFtcInRleHQtb3B0aW9uYWxcIl0pfSk7dmFyIEhwPXtwYWludDpuZXcgR28oe1wiaWNvbi1vcGFjaXR5XCI6bmV3IFVvKEplLnBhaW50X3N5bWJvbFtcImljb24tb3BhY2l0eVwiXSksXCJpY29uLWNvbG9yXCI6bmV3IFVvKEplLnBhaW50X3N5bWJvbFtcImljb24tY29sb3JcIl0pLFwiaWNvbi1oYWxvLWNvbG9yXCI6bmV3IFVvKEplLnBhaW50X3N5bWJvbFtcImljb24taGFsby1jb2xvclwiXSksXCJpY29uLWhhbG8td2lkdGhcIjpuZXcgVW8oSmUucGFpbnRfc3ltYm9sW1wiaWNvbi1oYWxvLXdpZHRoXCJdKSxcImljb24taGFsby1ibHVyXCI6bmV3IFVvKEplLnBhaW50X3N5bWJvbFtcImljb24taGFsby1ibHVyXCJdKSxcImljb24tdHJhbnNsYXRlXCI6bmV3IE5vKEplLnBhaW50X3N5bWJvbFtcImljb24tdHJhbnNsYXRlXCJdKSxcImljb24tdHJhbnNsYXRlLWFuY2hvclwiOm5ldyBObyhKZS5wYWludF9zeW1ib2xbXCJpY29uLXRyYW5zbGF0ZS1hbmNob3JcIl0pLFwidGV4dC1vcGFjaXR5XCI6bmV3IFVvKEplLnBhaW50X3N5bWJvbFtcInRleHQtb3BhY2l0eVwiXSksXCJ0ZXh0LWNvbG9yXCI6bmV3IFVvKEplLnBhaW50X3N5bWJvbFtcInRleHQtY29sb3JcIl0se3J1bnRpbWVUeXBlOmN0LGdldE92ZXJyaWRlOmU9PmUudGV4dENvbG9yLGhhc092ZXJyaWRlOmU9PiEhZS50ZXh0Q29sb3J9KSxcInRleHQtaGFsby1jb2xvclwiOm5ldyBVbyhKZS5wYWludF9zeW1ib2xbXCJ0ZXh0LWhhbG8tY29sb3JcIl0pLFwidGV4dC1oYWxvLXdpZHRoXCI6bmV3IFVvKEplLnBhaW50X3N5bWJvbFtcInRleHQtaGFsby13aWR0aFwiXSksXCJ0ZXh0LWhhbG8tYmx1clwiOm5ldyBVbyhKZS5wYWludF9zeW1ib2xbXCJ0ZXh0LWhhbG8tYmx1clwiXSksXCJ0ZXh0LXRyYW5zbGF0ZVwiOm5ldyBObyhKZS5wYWludF9zeW1ib2xbXCJ0ZXh0LXRyYW5zbGF0ZVwiXSksXCJ0ZXh0LXRyYW5zbGF0ZS1hbmNob3JcIjpuZXcgTm8oSmUucGFpbnRfc3ltYm9sW1widGV4dC10cmFuc2xhdGUtYW5jaG9yXCJdKX0pLGxheW91dDokcH07Y2xhc3MgWHB7Y29uc3RydWN0b3IoZSl7dGhpcy50eXBlPWUucHJvcGVydHkub3ZlcnJpZGVzP2UucHJvcGVydHkub3ZlcnJpZGVzLnJ1bnRpbWVUeXBlOm90LHRoaXMuZGVmYXVsdFZhbHVlPWV9ZXZhbHVhdGUoZSl7aWYoZS5mb3JtYXR0ZWRTZWN0aW9uKXtjb25zdCB0PXRoaXMuZGVmYXVsdFZhbHVlLnByb3BlcnR5Lm92ZXJyaWRlcztpZih0JiZ0Lmhhc092ZXJyaWRlKGUuZm9ybWF0dGVkU2VjdGlvbikpcmV0dXJuIHQuZ2V0T3ZlcnJpZGUoZS5mb3JtYXR0ZWRTZWN0aW9uKX1yZXR1cm4gZS5mZWF0dXJlJiZlLmZlYXR1cmVTdGF0ZT90aGlzLmRlZmF1bHRWYWx1ZS5ldmFsdWF0ZShlLmZlYXR1cmUsZS5mZWF0dXJlU3RhdGUpOnRoaXMuZGVmYXVsdFZhbHVlLnByb3BlcnR5LnNwZWNpZmljYXRpb24uZGVmYXVsdH1lYWNoQ2hpbGQoZSl7dGhpcy5kZWZhdWx0VmFsdWUuaXNDb25zdGFudCgpfHxlKHRoaXMuZGVmYXVsdFZhbHVlLnZhbHVlLl9zdHlsZUV4cHJlc3Npb24uZXhwcmVzc2lvbil9b3V0cHV0RGVmaW5lZCgpe3JldHVybiExfXNlcmlhbGl6ZSgpe3JldHVybiBudWxsfX16cihYcCxcIkZvcm1hdFNlY3Rpb25PdmVycmlkZVwiLHtvbWl0OltcImRlZmF1bHRWYWx1ZVwiXX0pO2NsYXNzIFlwIGV4dGVuZHMgY3N7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxIcCl9cmVjYWxjdWxhdGUoZSx0KXtzdXBlci5yZWNhbGN1bGF0ZShlLHQpLFwiYXV0b1wiPT09dGhpcy5sYXlvdXQuZ2V0KFwiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIikmJih0aGlzLmxheW91dC5fdmFsdWVzW1wiaWNvbi1yb3RhdGlvbi1hbGlnbm1lbnRcIl09XCJwb2ludFwiIT09dGhpcy5sYXlvdXQuZ2V0KFwic3ltYm9sLXBsYWNlbWVudFwiKT9cIm1hcFwiOlwidmlld3BvcnRcIiksXCJhdXRvXCI9PT10aGlzLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSYmKHRoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiXT1cInBvaW50XCIhPT10aGlzLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpP1wibWFwXCI6XCJ2aWV3cG9ydFwiKSxcImF1dG9cIj09PXRoaXMubGF5b3V0LmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1tcInRleHQtcGl0Y2gtYWxpZ25tZW50XCJdPXRoaXMubGF5b3V0LmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpKSxcImF1dG9cIj09PXRoaXMubGF5b3V0LmdldChcImljb24tcGl0Y2gtYWxpZ25tZW50XCIpJiYodGhpcy5sYXlvdXQuX3ZhbHVlc1tcImljb24tcGl0Y2gtYWxpZ25tZW50XCJdPXRoaXMubGF5b3V0LmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpKTtjb25zdCBuPXRoaXMubGF5b3V0LmdldChcInRleHQtd3JpdGluZy1tb2RlXCIpO2lmKG4pe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2YgbillLmluZGV4T2YodCk8MCYmZS5wdXNoKHQpO3RoaXMubGF5b3V0Ll92YWx1ZXNbXCJ0ZXh0LXdyaXRpbmctbW9kZVwiXT1lfWVsc2UgdGhpcy5sYXlvdXQuX3ZhbHVlc1tcInRleHQtd3JpdGluZy1tb2RlXCJdPVwicG9pbnRcIj09PXRoaXMubGF5b3V0LmdldChcInN5bWJvbC1wbGFjZW1lbnRcIik/W1wiaG9yaXpvbnRhbFwiXTpbXCJob3Jpem9udGFsXCIsXCJ2ZXJ0aWNhbFwiXTt0aGlzLl9zZXRQYWludE92ZXJyaWRlcygpfWdldFZhbHVlQW5kUmVzb2x2ZVRva2VucyhlLHQsbixpKXtjb25zdCByPXRoaXMubGF5b3V0LmdldChlKS5ldmFsdWF0ZSh0LHt9LG4saSksbz10aGlzLl91bmV2YWx1YXRlZExheW91dC5fdmFsdWVzW2VdO3JldHVybiBvLmlzRGF0YURyaXZlbigpfHxGaShvLnZhbHVlKXx8IXI/cjpmdW5jdGlvbihlLHQpe3JldHVybiB0LnJlcGxhY2UoL3soW157fV0rKX0vZywodCxuKT0+biBpbiBlP1N0cmluZyhlW25dKTpcIlwiKX0odC5wcm9wZXJ0aWVzLHIpfWNyZWF0ZUJ1Y2tldChlKXtyZXR1cm4gbmV3IHFwKGUpfXF1ZXJ5UmFkaXVzKCl7cmV0dXJuIDB9cXVlcnlJbnRlcnNlY3RzRmVhdHVyZSgpe3JldHVybiExfV9zZXRQYWludE92ZXJyaWRlcygpe2Zvcihjb25zdCBlIG9mIEhwLnBhaW50Lm92ZXJyaWRhYmxlUHJvcGVydGllcyl7aWYoIVlwLmhhc1BhaW50T3ZlcnJpZGUodGhpcy5sYXlvdXQsZSkpY29udGludWU7Y29uc3QgdD10aGlzLnBhaW50LmdldChlKSxuPW5ldyBYcCh0KSxpPW5ldyBqaShuLHQucHJvcGVydHkuc3BlY2lmaWNhdGlvbik7bGV0IHI9bnVsbDtyPVwiY29uc3RhbnRcIj09PXQudmFsdWUua2luZHx8XCJzb3VyY2VcIj09PXQudmFsdWUua2luZD9uZXcgVWkoXCJzb3VyY2VcIixpKTpuZXcgVmkoXCJjb21wb3NpdGVcIixpLHQudmFsdWUuem9vbVN0b3BzLHQudmFsdWUuX2ludGVycG9sYXRpb25UeXBlKSx0aGlzLnBhaW50Ll92YWx1ZXNbZV09bmV3IGpvKHQucHJvcGVydHkscix0LnBhcmFtZXRlcnMpfX1faGFuZGxlT3ZlcnJpZGFibGVQYWludFByb3BlcnR5VXBkYXRlKGUsdCxuKXtyZXR1cm4hKCF0aGlzLmxheW91dHx8dC5pc0RhdGFEcml2ZW4oKXx8bi5pc0RhdGFEcml2ZW4oKSkmJllwLmhhc1BhaW50T3ZlcnJpZGUodGhpcy5sYXlvdXQsZSl9c3RhdGljIGhhc1BhaW50T3ZlcnJpZGUoZSx0KXtjb25zdCBuPWUuZ2V0KFwidGV4dC1maWVsZFwiKSxpPUhwLnBhaW50LnByb3BlcnRpZXNbdF07bGV0IHI9ITE7Y29uc3Qgbz1lPT57Zm9yKGNvbnN0IHQgb2YgZSlpZihpLm92ZXJyaWRlcyYmaS5vdmVycmlkZXMuaGFzT3ZlcnJpZGUodCkpcmV0dXJuIHZvaWQocj0hMCl9O2lmKFwiY29uc3RhbnRcIj09PW4udmFsdWUua2luZCYmbi52YWx1ZS52YWx1ZSBpbnN0YW5jZW9mIFB0KW8obi52YWx1ZS52YWx1ZS5zZWN0aW9ucyk7ZWxzZSBpZihcInNvdXJjZVwiPT09bi52YWx1ZS5raW5kKXtjb25zdCBlPXQ9PntyfHwodCBpbnN0YW5jZW9mIGp0JiZPdCh0LnZhbHVlKT09PXB0P28odC52YWx1ZS5zZWN0aW9ucyk6dCBpbnN0YW5jZW9mIEd0P28odC5zZWN0aW9ucyk6dC5lYWNoQ2hpbGQoZSkpfSx0PW4udmFsdWU7dC5fc3R5bGVFeHByZXNzaW9uJiZlKHQuX3N0eWxlRXhwcmVzc2lvbi5leHByZXNzaW9uKX1yZXR1cm4gcn1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihlKXtyZXR1cm4gbmV3IHRzKHRoaXMsZSl9fXZhciBKcD17cGFpbnQ6bmV3IEdvKHtcImJhY2tncm91bmQtY29sb3JcIjpuZXcgTm8oSmUucGFpbnRfYmFja2dyb3VuZFtcImJhY2tncm91bmQtY29sb3JcIl0pLFwiYmFja2dyb3VuZC1wYXR0ZXJuXCI6bmV3IE5vKEplLnBhaW50X2JhY2tncm91bmRbXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIl0pLFwiYmFja2dyb3VuZC1vcGFjaXR5XCI6bmV3IE5vKEplLnBhaW50X2JhY2tncm91bmRbXCJiYWNrZ3JvdW5kLW9wYWNpdHlcIl0pfSl9LFFwPXtwYWludDpuZXcgR28oe1wicmFzdGVyLW9wYWNpdHlcIjpuZXcgTm8oSmUucGFpbnRfcmFzdGVyW1wicmFzdGVyLW9wYWNpdHlcIl0pLFwicmFzdGVyLWh1ZS1yb3RhdGVcIjpuZXcgTm8oSmUucGFpbnRfcmFzdGVyW1wicmFzdGVyLWh1ZS1yb3RhdGVcIl0pLFwicmFzdGVyLWJyaWdodG5lc3MtbWluXCI6bmV3IE5vKEplLnBhaW50X3Jhc3RlcltcInJhc3Rlci1icmlnaHRuZXNzLW1pblwiXSksXCJyYXN0ZXItYnJpZ2h0bmVzcy1tYXhcIjpuZXcgTm8oSmUucGFpbnRfcmFzdGVyW1wicmFzdGVyLWJyaWdodG5lc3MtbWF4XCJdKSxcInJhc3Rlci1zYXR1cmF0aW9uXCI6bmV3IE5vKEplLnBhaW50X3Jhc3RlcltcInJhc3Rlci1zYXR1cmF0aW9uXCJdKSxcInJhc3Rlci1jb250cmFzdFwiOm5ldyBObyhKZS5wYWludF9yYXN0ZXJbXCJyYXN0ZXItY29udHJhc3RcIl0pLFwicmFzdGVyLXJlc2FtcGxpbmdcIjpuZXcgTm8oSmUucGFpbnRfcmFzdGVyW1wicmFzdGVyLXJlc2FtcGxpbmdcIl0pLFwicmFzdGVyLWZhZGUtZHVyYXRpb25cIjpuZXcgTm8oSmUucGFpbnRfcmFzdGVyW1wicmFzdGVyLWZhZGUtZHVyYXRpb25cIl0pfSl9O2NsYXNzIEtwIGV4dGVuZHMgY3N7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSx7fSksdGhpcy5pbXBsZW1lbnRhdGlvbj1lfWlzM0QoKXtyZXR1cm5cIjNkXCI9PT10aGlzLmltcGxlbWVudGF0aW9uLnJlbmRlcmluZ01vZGV9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiB2b2lkIDAhPT10aGlzLmltcGxlbWVudGF0aW9uLnByZXJlbmRlcn1yZWNhbGN1bGF0ZSgpe311cGRhdGVUcmFuc2l0aW9ucygpe31oYXNUcmFuc2l0aW9uKCl7cmV0dXJuITF9c2VyaWFsaXplKCl7fW9uQWRkKGUpe3RoaXMuaW1wbGVtZW50YXRpb24ub25BZGQmJnRoaXMuaW1wbGVtZW50YXRpb24ub25BZGQoZSxlLnBhaW50ZXIuY29udGV4dC5nbCl9b25SZW1vdmUoZSl7dGhpcy5pbXBsZW1lbnRhdGlvbi5vblJlbW92ZSYmdGhpcy5pbXBsZW1lbnRhdGlvbi5vblJlbW92ZShlLGUucGFpbnRlci5jb250ZXh0LmdsKX19dmFyIGVmPXtwYWludDpuZXcgR28oe1wic2t5LXR5cGVcIjpuZXcgTm8oSmUucGFpbnRfc2t5W1wic2t5LXR5cGVcIl0pLFwic2t5LWF0bW9zcGhlcmUtc3VuXCI6bmV3IE5vKEplLnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLXN1blwiXSksXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCI6bmV3IE5vKEplLnBhaW50X3NreVtcInNreS1hdG1vc3BoZXJlLXN1bi1pbnRlbnNpdHlcIl0pLFwic2t5LWdyYWRpZW50LWNlbnRlclwiOm5ldyBObyhKZS5wYWludF9za3lbXCJza3ktZ3JhZGllbnQtY2VudGVyXCJdKSxcInNreS1ncmFkaWVudC1yYWRpdXNcIjpuZXcgTm8oSmUucGFpbnRfc2t5W1wic2t5LWdyYWRpZW50LXJhZGl1c1wiXSksXCJza3ktZ3JhZGllbnRcIjpuZXcgVm8oSmUucGFpbnRfc2t5W1wic2t5LWdyYWRpZW50XCJdKSxcInNreS1hdG1vc3BoZXJlLWhhbG8tY29sb3JcIjpuZXcgTm8oSmUucGFpbnRfc2t5W1wic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiXSksXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiOm5ldyBObyhKZS5wYWludF9za3lbXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiXSksXCJza3ktb3BhY2l0eVwiOm5ldyBObyhKZS5wYWludF9za3lbXCJza3ktb3BhY2l0eVwiXSl9KX07ZnVuY3Rpb24gdGYoZSx0LG4pe2NvbnN0IGk9WzAsMCwxXSxyPVZsKFtdKTtyZXR1cm4gWmwocixyLG4/LXYoZSkrTWF0aC5QSTp2KGUpKSxHbChyLHIsLXYodCkpLERsKGksaSxyKSxrbChpLGkpfWNvbnN0IG5mPXtjaXJjbGU6Y2xhc3MgZXh0ZW5kcyBjc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlLGlsKX1jcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBGcyhlKX1xdWVyeVJhZGl1cyhlKXtjb25zdCB0PWU7cmV0dXJuIFFzKFwiY2lyY2xlLXJhZGl1c1wiLHRoaXMsdCkrUXMoXCJjaXJjbGUtc3Ryb2tlLXdpZHRoXCIsdGhpcyx0KStLcyh0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGVcIikpfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoZSx0LG4saSxyLG8sYSxzKXtjb25zdCBsPXRsKHRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGUtYW5jaG9yXCIpLG8uYW5nbGUsZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSxjPXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXJhZGl1c1wiKS5ldmFsdWF0ZSh0LG4pK3RoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiKS5ldmFsdWF0ZSh0LG4pO3JldHVybiBZbChlLGksbyxhLHMsXCJtYXBcIj09PXRoaXMucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiKSxcIm1hcFwiPT09dGhpcy5wYWludC5nZXQoXCJjaXJjbGUtcGl0Y2gtc2NhbGVcIiksbCxjKX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuW1wiY2lyY2xlXCJdfWdldFByb2dyYW1Db25maWd1cmF0aW9uKGUpe3JldHVybiBuZXcgdHModGhpcyxlKX19LGhlYXRtYXA6Y2xhc3MgZXh0ZW5kcyBjc3tjcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyB0YyhlKX1jb25zdHJ1Y3RvcihlKXtzdXBlcihlLHNjKSx0aGlzLl91cGRhdGVDb2xvclJhbXAoKX1faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUoZSl7XCJoZWF0bWFwLWNvbG9yXCI9PT1lJiZ0aGlzLl91cGRhdGVDb2xvclJhbXAoKX1fdXBkYXRlQ29sb3JSYW1wKCl7dGhpcy5jb2xvclJhbXA9bGMoe2V4cHJlc3Npb246dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wiaGVhdG1hcC1jb2xvclwiXS52YWx1ZS5leHByZXNzaW9uLGV2YWx1YXRpb25LZXk6XCJoZWF0bWFwRGVuc2l0eVwiLGltYWdlOnRoaXMuY29sb3JSYW1wfSksdGhpcy5jb2xvclJhbXBUZXh0dXJlPW51bGx9cmVzaXplKCl7dGhpcy5oZWF0bWFwRmJvJiYodGhpcy5oZWF0bWFwRmJvLmRlc3Ryb3koKSx0aGlzLmhlYXRtYXBGYm89bnVsbCl9cXVlcnlSYWRpdXMoZSl7cmV0dXJuIFFzKFwiaGVhdG1hcC1yYWRpdXNcIix0aGlzLGUpfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoZSx0LG4saSxyLG8sYSxzKXtjb25zdCBsPXRoaXMucGFpbnQuZ2V0KFwiaGVhdG1hcC1yYWRpdXNcIikuZXZhbHVhdGUodCxuKTtyZXR1cm4gWWwoZSxpLG8sYSxzLCEwLCEwLG5ldyBtKDAsMCksbCl9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiAwIT09dGhpcy5wYWludC5nZXQoXCJoZWF0bWFwLW9wYWNpdHlcIikmJlwibm9uZVwiIT09dGhpcy52aXNpYmlsaXR5fWdldFByb2dyYW1JZHMoKXtyZXR1cm5bXCJoZWF0bWFwXCIsXCJoZWF0bWFwVGV4dHVyZVwiXX1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihlKXtyZXR1cm4gbmV3IHRzKHRoaXMsZSl9fSxoaWxsc2hhZGU6Y2xhc3MgZXh0ZW5kcyBjc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlLGNjKX1oYXNPZmZzY3JlZW5QYXNzKCl7cmV0dXJuIDAhPT10aGlzLnBhaW50LmdldChcImhpbGxzaGFkZS1leGFnZ2VyYXRpb25cIikmJlwibm9uZVwiIT09dGhpcy52aXNpYmlsaXR5fWdldFByb2dyYW1JZHMoKXtyZXR1cm5bXCJoaWxsc2hhZGVcIixcImhpbGxzaGFkZVByZXBhcmVcIl19fSxmaWxsOmNsYXNzIGV4dGVuZHMgY3N7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSxIYyl9Z2V0UHJvZ3JhbUlkcygpe2NvbnN0IGU9dGhpcy5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksdD1lJiZlLmNvbnN0YW50T3IoMSksbj1bdD9cImZpbGxQYXR0ZXJuXCI6XCJmaWxsXCJdO3JldHVybiB0aGlzLnBhaW50LmdldChcImZpbGwtYW50aWFsaWFzXCIpJiZuLnB1c2godCYmIXRoaXMuZ2V0UGFpbnRQcm9wZXJ0eShcImZpbGwtb3V0bGluZS1jb2xvclwiKT9cImZpbGxPdXRsaW5lUGF0dGVyblwiOlwiZmlsbE91dGxpbmVcIiksbn1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihlKXtyZXR1cm4gbmV3IHRzKHRoaXMsZSl9cmVjYWxjdWxhdGUoZSx0KXtzdXBlci5yZWNhbGN1bGF0ZShlLHQpO2NvbnN0IG49dGhpcy5wYWludC5fdmFsdWVzW1wiZmlsbC1vdXRsaW5lLWNvbG9yXCJdO1wiY29uc3RhbnRcIj09PW4udmFsdWUua2luZCYmdm9pZCAwPT09bi52YWx1ZS52YWx1ZSYmKHRoaXMucGFpbnQuX3ZhbHVlc1tcImZpbGwtb3V0bGluZS1jb2xvclwiXT10aGlzLnBhaW50Ll92YWx1ZXNbXCJmaWxsLWNvbG9yXCJdKX1jcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBxYyhlKX1xdWVyeVJhZGl1cygpe3JldHVybiBLcyh0aGlzLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlXCIpKX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKGUsdCxuLGkscixvKXtyZXR1cm4hZS5xdWVyeUdlb21ldHJ5LmlzQWJvdmVIb3Jpem9uJiZWcyhlbChlLnRpbGVzcGFjZUdlb21ldHJ5LHRoaXMucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGVcIiksdGhpcy5wYWludC5nZXQoXCJmaWxsLXRyYW5zbGF0ZS1hbmNob3JcIiksby5hbmdsZSxlLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IpLGkpfWlzVGlsZUNsaXBwZWQoKXtyZXR1cm4hMH19LFwiZmlsbC1leHRydXNpb25cIjpjbGFzcyBleHRlbmRzIGNze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsa3UpfWNyZWF0ZUJ1Y2tldChlKXtyZXR1cm4gbmV3IHZ1KGUpfXF1ZXJ5UmFkaXVzKCl7cmV0dXJuIEtzKHRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCIpKX1pczNEKCl7cmV0dXJuITB9Z2V0UHJvZ3JhbUlkcygpe3JldHVyblt0aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKT9cImZpbGxFeHRydXNpb25QYXR0ZXJuXCI6XCJmaWxsRXh0cnVzaW9uXCJdfWdldFByb2dyYW1Db25maWd1cmF0aW9uKGUpe3JldHVybiBuZXcgdHModGhpcyxlKX1xdWVyeUludGVyc2VjdHNGZWF0dXJlKGUsdCxuLGkscixvLGEscyxsKXtjb25zdCBjPXRsKHRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlXCIpLHRoaXMucGFpbnQuZ2V0KFwiZmlsbC1leHRydXNpb24tdHJhbnNsYXRlLWFuY2hvclwiKSxvLmFuZ2xlLGUucGl4ZWxUb1RpbGVVbml0c0ZhY3RvciksdT10aGlzLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLWhlaWdodFwiKS5ldmFsdWF0ZSh0LG4pLGg9dGhpcy5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1iYXNlXCIpLmV2YWx1YXRlKHQsbiksZD1bMCwwXSxwPXMmJm8uZWxldmF0aW9uLGY9by5lbGV2YXRpb24/by5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCk6MSxnPWUudGlsZS5nZXRCdWNrZXQodGhpcyk7aWYocCYmZyBpbnN0YW5jZW9mIHZ1KXtjb25zdCBlPWcuY2VudHJvaWRWZXJ0ZXhBcnJheSx0PWwrMTt0PGUubGVuZ3RoJiYoZFswXT1lLmdldGFfY2VudHJvaWRfcG9zMCh0KSxkWzFdPWUuZ2V0YV9jZW50cm9pZF9wb3MxKHQpKX1pZigwPT09ZFswXSYmMT09PWRbMV0pcmV0dXJuITE7XCJnbG9iZVwiPT09by5wcm9qZWN0aW9uLm5hbWUmJihpPUl1KFtpXSxbbmV3IG0oMCwwKSxuZXcgbShwcyxwcyldLGUudGlsZUlELmNhbm9uaWNhbCkubWFwKGU9PmUucG9seWdvbikuZmxhdCgpKTtjb25zdCB5PXA/czpudWxsLFtfLHZdPWZ1bmN0aW9uKGUsdCxuLGkscixvLGEscyxsLGMsdSl7cmV0dXJuXCJnbG9iZVwiPT09ZS5wcm9qZWN0aW9uLm5hbWU/ZnVuY3Rpb24oZSx0LG4saSxyLG8sYSxzLGwsYyx1KXtjb25zdCBoPVtdLGQ9W10scD1lLnByb2plY3Rpb24udXBWZWN0b3JTY2FsZSh1LGUuY2VudGVyLmxhdCxlLndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlLGY9WzAsMCwwLDFdLG09WzAsMCwwLDFdLGc9KGUsdCxuLGkpPT57ZVswXT10LGVbMV09bixlWzJdPWksZVszXT0xfSx5PU11KCk7bj4wJiYobis9eSksaSs9eTtmb3IoY29uc3QgeSBvZiB0KXtjb25zdCB0PVtdLF89W107Zm9yKGNvbnN0IGggb2YgeSl7Y29uc3QgZD1oLngrci54LHk9aC55K3IueSx2PWUucHJvamVjdGlvbi5wcm9qZWN0VGlsZVBvaW50KGQseSx1KSx4PWUucHJvamVjdGlvbi51cFZlY3Rvcih1LGgueCxoLnkpO2xldCBiPW4sdz1pO2lmKGEpe2NvbnN0IGU9anUoZCx5LG4saSxhLHMsbCxjKTtiKz1lLmJhc2Usdys9ZS50b3B9MCE9PW4/ZyhmLHYueCt4WzBdKnAqYix2LnkreFsxXSpwKmIsdi56K3hbMl0qcCpiKTpnKGYsdi54LHYueSx2LnopLGcobSx2LngreFswXSpwKncsdi55K3hbMV0qcCp3LHYueit4WzJdKnAqdyksemwoZixmLG8pLHpsKG0sbSxvKSx0LnB1c2gobmV3IE91KGZbMF0sZlsxXSxmWzJdKSksXy5wdXNoKG5ldyBPdShtWzBdLG1bMV0sbVsyXSkpfWgucHVzaCh0KSxkLnB1c2goXyl9cmV0dXJuW2gsZF19KGUsdCxuLGkscixvLGEscyxsLGMsdSk6YT9mdW5jdGlvbihlLHQsbixpLHIsbyxhLHMsbCl7Y29uc3QgYz1bXSx1PVtdLGg9WzAsMCwwLDFdO2Zvcihjb25zdCBkIG9mIGUpe2NvbnN0IGU9W10scD1bXTtmb3IoY29uc3QgYyBvZiBkKXtjb25zdCB1PWMueCtpLngsZD1jLnkraS55LGY9anUodSxkLHQsbixvLGEscyxsKTtoWzBdPXUsaFsxXT1kLGhbMl09Zi5iYXNlLGhbM109MSxObChoLGgsciksaFszXT1NYXRoLm1heChoWzNdLDFlLTUpO2NvbnN0IG09bmV3IE91KGhbMF0vaFszXSxoWzFdL2hbM10saFsyXS9oWzNdKTtoWzBdPXUsaFsxXT1kLGhbMl09Zi50b3AsaFszXT0xLE5sKGgsaCxyKSxoWzNdPU1hdGgubWF4KGhbM10sMWUtNSk7Y29uc3QgZz1uZXcgT3UoaFswXS9oWzNdLGhbMV0vaFszXSxoWzJdL2hbM10pO2UucHVzaChtKSxwLnB1c2goZyl9Yy5wdXNoKGUpLHUucHVzaChwKX1yZXR1cm5bYyx1XX0odCxuLGkscixvLGEscyxsLGMpOmZ1bmN0aW9uKGUsdCxuLGkscil7Y29uc3Qgbz1bXSxhPVtdLHM9cls4XSp0LGw9cls5XSp0LGM9clsxMF0qdCx1PXJbMTFdKnQsaD1yWzhdKm4sZD1yWzldKm4scD1yWzEwXSpuLGY9clsxMV0qbjtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPVtdLG49W107Zm9yKGNvbnN0IG8gb2YgdCl7Y29uc3QgdD1vLngraS54LGE9by55K2kueSxtPXJbMF0qdCtyWzRdKmErclsxMl0sZz1yWzFdKnQrcls1XSphK3JbMTNdLHk9clsyXSp0K3JbNl0qYStyWzE0XSxfPXJbM10qdCtyWzddKmErclsxNV0sdj1tK3MseD1nK2wsYj15K2Msdz1NYXRoLm1heChfK3UsMWUtNSksVD1tK2gsRT1nK2QsUz15K3AsTT1NYXRoLm1heChfK2YsMWUtNSk7ZS5wdXNoKG5ldyBPdSh2L3cseC93LGIvdykpLG4ucHVzaChuZXcgT3UoVC9NLEUvTSxTL00pKX1vLnB1c2goZSksYS5wdXNoKG4pfXJldHVybltvLGFdfSh0LG4saSxyLG8pfShvLGksaCx1LGMsYSx5LGQsZixvLmNlbnRlci5sYXQsZS50aWxlSUQuY2Fub25pY2FsKSx4PWUucXVlcnlHZW9tZXRyeTtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe2xldCBpPTEvMDtWcyhuLHQpJiYoaT1CdShuLHRbMF0pKTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbz10W3JdLGE9ZVtyXTtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoLTE7ZSsrKXtjb25zdCB0PW9bZV0scj1bdCxvW2UrMV0sYVtlKzFdLGFbZV0sdF07TnMobixyKSYmKGk9TWF0aC5taW4oaSxCdShuLHIpKSl9fXJldHVybiBpIT09MS8wJiZpfShfLHYseC5pc1BvaW50UXVlcnkoKT94LnNjcmVlbkJvdW5kczp4LnNjcmVlbkdlb21ldHJ5KX19LGxpbmU6Y2xhc3MgZXh0ZW5kcyBjc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlLCR1KSx0aGlzLmdyYWRpZW50VmVyc2lvbj0wfV9oYW5kbGVTcGVjaWFsUGFpbnRQcm9wZXJ0eVVwZGF0ZShlKXtpZihcImxpbmUtZ3JhZGllbnRcIj09PWUpe2NvbnN0IGU9dGhpcy5fdHJhbnNpdGlvbmFibGVQYWludC5fdmFsdWVzW1wibGluZS1ncmFkaWVudFwiXS52YWx1ZS5leHByZXNzaW9uO3RoaXMuc3RlcEludGVycG9sYW50PWUuX3N0eWxlRXhwcmVzc2lvbiYmZS5fc3R5bGVFeHByZXNzaW9uLmV4cHJlc3Npb24gaW5zdGFuY2VvZiBJbix0aGlzLmdyYWRpZW50VmVyc2lvbj0odGhpcy5ncmFkaWVudFZlcnNpb24rMSklTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJ9fWdyYWRpZW50RXhwcmVzc2lvbigpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJsaW5lLWdyYWRpZW50XCJdLnZhbHVlLmV4cHJlc3Npb259cmVjYWxjdWxhdGUoZSx0KXtzdXBlci5yZWNhbGN1bGF0ZShlLHQpLHRoaXMucGFpbnQuX3ZhbHVlc1tcImxpbmUtZmxvb3J3aWR0aFwiXT1IdS5wb3NzaWJseUV2YWx1YXRlKHRoaXMuX3RyYW5zaXRpb25pbmdQYWludC5fdmFsdWVzW1wibGluZS13aWR0aFwiXS52YWx1ZSxlKX1jcmVhdGVCdWNrZXQoZSl7cmV0dXJuIG5ldyBXdShlKX1nZXRQcm9ncmFtSWRzKCl7cmV0dXJuW3RoaXMucGFpbnQuZ2V0KFwibGluZS1wYXR0ZXJuXCIpLmNvbnN0YW50T3IoMSk/XCJsaW5lUGF0dGVyblwiOlwibGluZVwiXX1nZXRQcm9ncmFtQ29uZmlndXJhdGlvbihlKXtyZXR1cm4gbmV3IHRzKHRoaXMsZSl9cXVlcnlSYWRpdXMoZSl7Y29uc3QgdD1lLG49WHUoUXMoXCJsaW5lLXdpZHRoXCIsdGhpcyx0KSxRcyhcImxpbmUtZ2FwLXdpZHRoXCIsdGhpcyx0KSksaT1RcyhcImxpbmUtb2Zmc2V0XCIsdGhpcyx0KTtyZXR1cm4gbi8yK01hdGguYWJzKGkpK0tzKHRoaXMucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGVcIikpfXF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoZSx0LG4saSxyLG8pe2lmKGUucXVlcnlHZW9tZXRyeS5pc0Fib3ZlSG9yaXpvbilyZXR1cm4hMTtjb25zdCBhPWVsKGUudGlsZXNwYWNlR2VvbWV0cnksdGhpcy5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZVwiKSx0aGlzLnBhaW50LmdldChcImxpbmUtdHJhbnNsYXRlLWFuY2hvclwiKSxvLmFuZ2xlLGUucGl4ZWxUb1RpbGVVbml0c0ZhY3Rvcikscz1lLnBpeGVsVG9UaWxlVW5pdHNGYWN0b3IvMipYdSh0aGlzLnBhaW50LmdldChcImxpbmUtd2lkdGhcIikuZXZhbHVhdGUodCxuKSx0aGlzLnBhaW50LmdldChcImxpbmUtZ2FwLXdpZHRoXCIpLmV2YWx1YXRlKHQsbikpLGw9dGhpcy5wYWludC5nZXQoXCJsaW5lLW9mZnNldFwiKS5ldmFsdWF0ZSh0LG4pO3JldHVybiBsJiYoaT1mdW5jdGlvbihlLHQpe2NvbnN0IG49W10saT1uZXcgbSgwLDApO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKXtjb25zdCBvPWVbcl0sYT1bXTtmb3IobGV0IGU9MDtlPG8ubGVuZ3RoO2UrKyl7Y29uc3Qgbj1vW2UtMV0scj1vW2VdLHM9b1tlKzFdLGw9MD09PWU/aTpyLnN1YihuKS5fdW5pdCgpLl9wZXJwKCksYz1lPT09by5sZW5ndGgtMT9pOnMuc3ViKHIpLl91bml0KCkuX3BlcnAoKSx1PWwuX2FkZChjKS5fdW5pdCgpO3UuX211bHQoMS8odS54KmMueCt1LnkqYy55KSksYS5wdXNoKHUuX211bHQodCkuX2FkZChyKSl9bi5wdXNoKGEpfXJldHVybiBufShpLGwqZS5waXhlbFRvVGlsZVVuaXRzRmFjdG9yKSksZnVuY3Rpb24oZSx0LG4pe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCByPXRbaV07aWYoZS5sZW5ndGg+PTMpZm9yKGxldCB0PTA7dDxyLmxlbmd0aDt0KyspaWYoWHMoZSxyW3RdKSlyZXR1cm4hMDtpZihHcyhlLHIsbikpcmV0dXJuITB9cmV0dXJuITF9KGEsaSxzKX1pc1RpbGVDbGlwcGVkKCl7cmV0dXJuITB9fSxzeW1ib2w6WXAsYmFja2dyb3VuZDpjbGFzcyBleHRlbmRzIGNze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsSnApfWdldFByb2dyYW1JZHMoKXtyZXR1cm5bdGhpcy5wYWludC5nZXQoXCJiYWNrZ3JvdW5kLXBhdHRlcm5cIik/XCJiYWNrZ3JvdW5kUGF0dGVyblwiOlwiYmFja2dyb3VuZFwiXX19LHJhc3RlcjpjbGFzcyBleHRlbmRzIGNze2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUsUXApfWdldFByb2dyYW1JZHMoKXtyZXR1cm5bXCJyYXN0ZXJcIl19fSxza3k6Y2xhc3MgZXh0ZW5kcyBjc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlLGVmKSx0aGlzLl91cGRhdGVDb2xvclJhbXAoKX1faGFuZGxlU3BlY2lhbFBhaW50UHJvcGVydHlVcGRhdGUoZSl7XCJza3ktZ3JhZGllbnRcIj09PWU/dGhpcy5fdXBkYXRlQ29sb3JSYW1wKCk6XCJza3ktYXRtb3NwaGVyZS1zdW5cIiE9PWUmJlwic2t5LWF0bW9zcGhlcmUtaGFsby1jb2xvclwiIT09ZSYmXCJza3ktYXRtb3NwaGVyZS1jb2xvclwiIT09ZSYmXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCIhPT1lfHwodGhpcy5fc2t5Ym94SW52YWxpZGF0ZWQ9ITApfV91cGRhdGVDb2xvclJhbXAoKXt0aGlzLmNvbG9yUmFtcD1sYyh7ZXhwcmVzc2lvbjp0aGlzLl90cmFuc2l0aW9uYWJsZVBhaW50Ll92YWx1ZXNbXCJza3ktZ3JhZGllbnRcIl0udmFsdWUuZXhwcmVzc2lvbixldmFsdWF0aW9uS2V5Olwic2t5UmFkaWFsUHJvZ3Jlc3NcIn0pLHRoaXMuY29sb3JSYW1wVGV4dHVyZSYmKHRoaXMuY29sb3JSYW1wVGV4dHVyZS5kZXN0cm95KCksdGhpcy5jb2xvclJhbXBUZXh0dXJlPW51bGwpfW5lZWRzU2t5Ym94Q2FwdHVyZShlKXtpZih0aGlzLl9za3lib3hJbnZhbGlkYXRlZHx8IXRoaXMuc2t5Ym94VGV4dHVyZXx8IXRoaXMuc2t5Ym94R2VvbWV0cnkpcmV0dXJuITA7aWYoIXRoaXMucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtc3VuXCIpKXtjb25zdCB0PWUuc3R5bGUubGlnaHQucHJvcGVydGllcy5nZXQoXCJwb3NpdGlvblwiKTtyZXR1cm4gdGhpcy5fbGlnaHRQb3NpdGlvbi5hemltdXRoYWwhPT10LmF6aW11dGhhbHx8dGhpcy5fbGlnaHRQb3NpdGlvbi5wb2xhciE9PXQucG9sYXJ9cmV0dXJuITF9Z2V0Q2VudGVyKGUsdCl7aWYoXCJhdG1vc3BoZXJlXCI9PT10aGlzLnBhaW50LmdldChcInNreS10eXBlXCIpKXtjb25zdCBuPXRoaXMucGFpbnQuZ2V0KFwic2t5LWF0bW9zcGhlcmUtc3VuXCIpLGk9IW4scj1lLnN0eWxlLmxpZ2h0LG89ci5wcm9wZXJ0aWVzLmdldChcInBvc2l0aW9uXCIpO3JldHVybiBpJiZcInZpZXdwb3J0XCI9PT1yLnByb3BlcnRpZXMuZ2V0KFwiYW5jaG9yXCIpJiZWKFwiVGhlIHN1biBkaXJlY3Rpb24gaXMgYXR0YWNoZWQgdG8gYSBsaWdodCB3aXRoIHZpZXdwb3J0IGFuY2hvciwgbGlnaHRpbmcgbWF5IGJlaGF2ZSB1bmV4cGVjdGVkbHkuXCIpLGk/dGYoby5hemltdXRoYWwsOTAtby5wb2xhcix0KTp0ZihuWzBdLDkwLW5bMV0sdCl9Y29uc3Qgbj10aGlzLnBhaW50LmdldChcInNreS1ncmFkaWVudC1jZW50ZXJcIik7cmV0dXJuIHRmKG5bMF0sOTAtblsxXSx0KX1pczNEKCl7cmV0dXJuITF9aXNTa3koKXtyZXR1cm4hMH1tYXJrU2t5Ym94VmFsaWQoZSl7dGhpcy5fc2t5Ym94SW52YWxpZGF0ZWQ9ITEsdGhpcy5fbGlnaHRQb3NpdGlvbj1lLnN0eWxlLmxpZ2h0LnByb3BlcnRpZXMuZ2V0KFwicG9zaXRpb25cIil9aGFzT2Zmc2NyZWVuUGFzcygpe3JldHVybiEwfWdldFByb2dyYW1JZHMoKXtjb25zdCBlPXRoaXMucGFpbnQuZ2V0KFwic2t5LXR5cGVcIik7cmV0dXJuXCJhdG1vc3BoZXJlXCI9PT1lP1tcInNreWJveENhcHR1cmVcIixcInNreWJveFwiXTpcImdyYWRpZW50XCI9PT1lP1tcInNreWJveEdyYWRpZW50XCJdOm51bGx9fX07Y2xhc3MgcmZ7Y29uc3RydWN0b3IoZSx0LG4saSl7dGhpcy5jb250ZXh0PWUsdGhpcy5mb3JtYXQ9bix0aGlzLnRleHR1cmU9ZS5nbC5jcmVhdGVUZXh0dXJlKCksdGhpcy51cGRhdGUodCxpKX11cGRhdGUoZSx0LGkpe2NvbnN0e3dpZHRoOnIsaGVpZ2h0Om99PWUse2NvbnRleHQ6YX09dGhpcyx7Z2w6c309YSx7SFRNTEltYWdlRWxlbWVudDpsLEhUTUxDYW52YXNFbGVtZW50OmMsSFRNTFZpZGVvRWxlbWVudDp1LEltYWdlRGF0YTpoLEltYWdlQml0bWFwOmR9PW47aWYocy5iaW5kVGV4dHVyZShzLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSxhLnBpeGVsU3RvcmVVbnBhY2tGbGlwWS5zZXQoITEpLGEucGl4ZWxTdG9yZVVucGFjay5zZXQoMSksYS5waXhlbFN0b3JlVW5wYWNrUHJlbXVsdGlwbHlBbHBoYS5zZXQodGhpcy5mb3JtYXQ9PT1zLlJHQkEmJighdHx8ITEhPT10LnByZW11bHRpcGx5KSksaXx8dGhpcy5zaXplJiZ0aGlzLnNpemVbMF09PT1yJiZ0aGlzLnNpemVbMV09PT1vKXtjb25zdHt4OnQseTpufT1pfHx7eDowLHk6MH07ZSBpbnN0YW5jZW9mIGx8fGUgaW5zdGFuY2VvZiBjfHxlIGluc3RhbmNlb2YgdXx8ZSBpbnN0YW5jZW9mIGh8fGQmJmUgaW5zdGFuY2VvZiBkP3MudGV4U3ViSW1hZ2UyRChzLlRFWFRVUkVfMkQsMCx0LG4scy5SR0JBLHMuVU5TSUdORURfQllURSxlKTpzLnRleFN1YkltYWdlMkQocy5URVhUVVJFXzJELDAsdCxuLHIsbyxzLlJHQkEscy5VTlNJR05FRF9CWVRFLGUuZGF0YSl9ZWxzZSB0aGlzLnNpemU9W3Isb10sZSBpbnN0YW5jZW9mIGx8fGUgaW5zdGFuY2VvZiBjfHxlIGluc3RhbmNlb2YgdXx8ZSBpbnN0YW5jZW9mIGh8fGQmJmUgaW5zdGFuY2VvZiBkP3MudGV4SW1hZ2UyRChzLlRFWFRVUkVfMkQsMCx0aGlzLmZvcm1hdCx0aGlzLmZvcm1hdCxzLlVOU0lHTkVEX0JZVEUsZSk6cy50ZXhJbWFnZTJEKHMuVEVYVFVSRV8yRCwwLHRoaXMuZm9ybWF0LHIsbywwLHRoaXMuZm9ybWF0LHMuVU5TSUdORURfQllURSxlLmRhdGEpO3RoaXMudXNlTWlwbWFwPUJvb2xlYW4odCYmdC51c2VNaXBtYXAmJnRoaXMuaXNTaXplUG93ZXJPZlR3bygpKSx0aGlzLnVzZU1pcG1hcCYmcy5nZW5lcmF0ZU1pcG1hcChzLlRFWFRVUkVfMkQpfWJpbmQoZSx0KXtjb25zdHtjb250ZXh0Om59PXRoaXMse2dsOml9PW47aS5iaW5kVGV4dHVyZShpLlRFWFRVUkVfMkQsdGhpcy50ZXh0dXJlKSxlIT09dGhpcy5maWx0ZXImJihpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9NQUdfRklMVEVSLGUpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX01JTl9GSUxURVIsdGhpcy51c2VNaXBtYXA/ZT09PWkuTkVBUkVTVD9pLk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q6aS5MSU5FQVJfTUlQTUFQX05FQVJFU1Q6ZSksdGhpcy5maWx0ZXI9ZSksdCE9PXRoaXMud3JhcCYmKGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX1dSQVBfUyx0KSxpLnRleFBhcmFtZXRlcmkoaS5URVhUVVJFXzJELGkuVEVYVFVSRV9XUkFQX1QsdCksdGhpcy53cmFwPXQpfWlzU2l6ZVBvd2VyT2ZUd28oKXtyZXR1cm4gdGhpcy5zaXplWzBdPT09dGhpcy5zaXplWzFdJiZNYXRoLmxvZyh0aGlzLnNpemVbMF0pL01hdGguTE4yJTE9PTB9ZGVzdHJveSgpe2NvbnN0e2dsOmV9PXRoaXMuY29udGV4dDtlLmRlbGV0ZVRleHR1cmUodGhpcy50ZXh0dXJlKSx0aGlzLnRleHR1cmU9bnVsbH19Y2xhc3Mgb2Z7Y29uc3RydWN0b3IoZSl7dGhpcy5fY2FsbGJhY2s9ZSx0aGlzLl90cmlnZ2VyZWQ9ITEsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsJiYodGhpcy5fY2hhbm5lbD1uZXcgTWVzc2FnZUNoYW5uZWwsdGhpcy5fY2hhbm5lbC5wb3J0Mi5vbm1lc3NhZ2U9KCk9Pnt0aGlzLl90cmlnZ2VyZWQ9ITEsdGhpcy5fY2FsbGJhY2soKX0pfXRyaWdnZXIoKXt0aGlzLl90cmlnZ2VyZWR8fCh0aGlzLl90cmlnZ2VyZWQ9ITAsdGhpcy5fY2hhbm5lbD90aGlzLl9jaGFubmVsLnBvcnQxLnBvc3RNZXNzYWdlKCEwKTpzZXRUaW1lb3V0KCgpPT57dGhpcy5fdHJpZ2dlcmVkPSExLHRoaXMuX2NhbGxiYWNrKCl9LDApKX1yZW1vdmUoKXt0aGlzLl9jaGFubmVsPXZvaWQgMCx0aGlzLl9jYWxsYmFjaz0oKT0+e319fWNsYXNzIGFme2NvbnN0cnVjdG9yKCl7dGhpcy50YXNrcz17fSx0aGlzLnRhc2tRdWV1ZT1bXSxSKFtcInByb2Nlc3NcIl0sdGhpcyksdGhpcy5pbnZva2VyPW5ldyBvZih0aGlzLnByb2Nlc3MpLHRoaXMubmV4dElkPTB9YWRkKGUsdCl7Y29uc3Qgbj10aGlzLm5leHRJZCsrLGk9ZnVuY3Rpb24oe3R5cGU6ZSxpc1N5bWJvbFRpbGU6dCx6b29tOm59KXtyZXR1cm4gbj1ufHwwLFwibWVzc2FnZVwiPT09ZT8wOlwibWF5YmVQcmVwYXJlXCIhPT1lfHx0P1wicGFyc2VUaWxlXCIhPT1lfHx0P1wicGFyc2VUaWxlXCI9PT1lJiZ0PzMwMC1uOlwibWF5YmVQcmVwYXJlXCI9PT1lJiZ0PzQwMC1uOjUwMDoyMDAtbjoxMDAtbn0odCk7aWYoMD09PWkpe1coKTt0cnl7ZSgpfWZpbmFsbHl7fXJldHVybntjYW5jZWw6KCk9Pnt9fX1yZXR1cm4gdGhpcy50YXNrc1tuXT17Zm46ZSxtZXRhZGF0YTp0LHByaW9yaXR5OmksaWQ6bn0sdGhpcy50YXNrUXVldWUucHVzaChuKSx0aGlzLmludm9rZXIudHJpZ2dlcigpLHtjYW5jZWw6KCk9PntkZWxldGUgdGhpcy50YXNrc1tuXX19fXByb2Nlc3MoKXtXKCk7dHJ5e2lmKHRoaXMudGFza1F1ZXVlPXRoaXMudGFza1F1ZXVlLmZpbHRlcihlPT4hIXRoaXMudGFza3NbZV0pLCF0aGlzLnRhc2tRdWV1ZS5sZW5ndGgpcmV0dXJuO2NvbnN0IGU9dGhpcy5waWNrKCk7aWYobnVsbD09PWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy50YXNrc1tlXTtpZihkZWxldGUgdGhpcy50YXNrc1tlXSx0aGlzLnRhc2tRdWV1ZS5sZW5ndGgmJnRoaXMuaW52b2tlci50cmlnZ2VyKCksIXQpcmV0dXJuO3QuZm4oKX1maW5hbGx5e319cGljaygpe2xldCBlPW51bGwsdD0xLzA7Zm9yKGxldCBuPTA7bjx0aGlzLnRhc2tRdWV1ZS5sZW5ndGg7bisrKXtjb25zdCBpPXRoaXMudGFza3NbdGhpcy50YXNrUXVldWVbbl1dO2kucHJpb3JpdHk8dCYmKHQ9aS5wcmlvcml0eSxlPW4pfWlmKG51bGw9PT1lKXJldHVybiBudWxsO2NvbnN0IG49dGhpcy50YXNrUXVldWVbZV07cmV0dXJuIHRoaXMudGFza1F1ZXVlLnNwbGljZShlLDEpLG59cmVtb3ZlKCl7dGhpcy5pbnZva2VyLnJlbW92ZSgpfX1jbGFzcyBzZntjb25zdHJ1Y3RvcihlKXt0aGlzLl9zdHJpbmdUb051bWJlcj17fSx0aGlzLl9udW1iZXJUb1N0cmluZz1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1lW3RdO3RoaXMuX3N0cmluZ1RvTnVtYmVyW25dPXQsdGhpcy5fbnVtYmVyVG9TdHJpbmdbdF09bn19ZW5jb2RlKGUpe3JldHVybiB0aGlzLl9zdHJpbmdUb051bWJlcltlXX1kZWNvZGUoZSl7cmV0dXJuIHRoaXMuX251bWJlclRvU3RyaW5nW2VdfX1jb25zdCBsZj1bXCJ0aWxlXCIsXCJsYXllclwiLFwic291cmNlXCIsXCJzb3VyY2VMYXllclwiLFwic3RhdGVcIl07Y2xhc3MgY2Z7Y29uc3RydWN0b3IoZSx0LG4saSxyKXt0aGlzLnR5cGU9XCJGZWF0dXJlXCIsdGhpcy5fdmVjdG9yVGlsZUZlYXR1cmU9ZSx0aGlzLl96PXQsdGhpcy5feD1uLHRoaXMuX3k9aSx0aGlzLnByb3BlcnRpZXM9ZS5wcm9wZXJ0aWVzLHRoaXMuaWQ9cn1nZXQgZ2VvbWV0cnkoKXtyZXR1cm4gdm9pZCAwPT09dGhpcy5fZ2VvbWV0cnkmJih0aGlzLl9nZW9tZXRyeT10aGlzLl92ZWN0b3JUaWxlRmVhdHVyZS50b0dlb0pTT04odGhpcy5feCx0aGlzLl95LHRoaXMuX3opLmdlb21ldHJ5KSx0aGlzLl9nZW9tZXRyeX1zZXQgZ2VvbWV0cnkoZSl7dGhpcy5fZ2VvbWV0cnk9ZX10b0pTT04oKXtjb25zdCBlPXt0eXBlOlwiRmVhdHVyZVwiLGdlb21ldHJ5OnRoaXMuZ2VvbWV0cnkscHJvcGVydGllczp0aGlzLnByb3BlcnRpZXN9O3ZvaWQgMCE9PXRoaXMuaWQmJihlLmlkPXRoaXMuaWQpO2Zvcihjb25zdCB0IG9mIGxmKXZvaWQgMCE9PXRoaXNbdF0mJihlW3RdPXRoaXNbdF0pO3JldHVybiBlfX1jb25zdCB1Zj1uZXcgVWludDE2QXJyYXkoODE4NCk7Zm9yKGxldCBlPTA7ZTwyMDQ2O2UrKyl7bGV0IHQ9ZSsyLG49MCxpPTAscj0wLG89MCxhPTAscz0wO2ZvcigxJnQ/cj1vPWE9MzI6bj1pPXM9MzI7KHQ+Pj0xKT4xOyl7Y29uc3QgZT1uK3I+PjEsbD1pK28+PjE7MSZ0PyhyPW4sbz1pLG49YSxpPXMpOihuPXIsaT1vLHI9YSxvPXMpLGE9ZSxzPWx9Y29uc3QgbD00KmU7dWZbbCswXT1uLHVmW2wrMV09aSx1ZltsKzJdPXIsdWZbbCszXT1vfWNvbnN0IGhmPW5ldyBVaW50MTZBcnJheSgyMTc4KSxkZj1uZXcgVWludDhBcnJheSgxMDg5KSxwZj1uZXcgVWludDE2QXJyYXkoMTA4OSk7ZnVuY3Rpb24gZmYoZSl7cmV0dXJuIDA9PT1lPy0uMDMxMjU6MzI9PT1lPy4wMzEyNTowfXZhciBtZj1Ibyhbe25hbWU6XCJhX3Bvc1wiLHR5cGU6XCJJbnQxNlwiLGNvbXBvbmVudHM6Mn0se25hbWU6XCJhX3RleHR1cmVfcG9zXCIsdHlwZTpcIkludDE2XCIsY29tcG9uZW50czoyfV0pO2NvbnN0IGdmPXt0eXBlOjIsZXh0ZW50OnBzLGxvYWRHZW9tZXRyeTooKT0+W1tuZXcgbSgwLDApLG5ldyBtKDgxOTMsMCksbmV3IG0oODE5Myw4MTkzKSxuZXcgbSgwLDgxOTMpLG5ldyBtKDAsMCldXX07Y2xhc3MgeWZ7Y29uc3RydWN0b3IoZSx0LG4saSxyKXt0aGlzLnRpbGVJRD1lLHRoaXMudWlkPXooKSx0aGlzLnVzZXM9MCx0aGlzLnRpbGVTaXplPXQsdGhpcy50aWxlWm9vbT1uLHRoaXMuYnVja2V0cz17fSx0aGlzLmV4cGlyYXRpb25UaW1lPW51bGwsdGhpcy5xdWVyeVBhZGRpbmc9MCx0aGlzLmhhc1N5bWJvbEJ1Y2tldHM9ITEsdGhpcy5oYXNSVExUZXh0PSExLHRoaXMuZGVwZW5kZW5jaWVzPXt9LHRoaXMuaXNSYXN0ZXI9cix0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQ9MCx0aGlzLnN0YXRlPVwibG9hZGluZ1wiLGkmJmkudHJhbnNmb3JtJiYodGhpcy5wcm9qZWN0aW9uPWkudHJhbnNmb3JtLnByb2plY3Rpb24pfXJlZ2lzdGVyRmFkZUR1cmF0aW9uKGUpe2NvbnN0IHQ9ZSt0aGlzLnRpbWVBZGRlZDt0PFdlLm5vdygpfHx0aGlzLmZhZGVFbmRUaW1lJiZ0PHRoaXMuZmFkZUVuZFRpbWV8fCh0aGlzLmZhZGVFbmRUaW1lPXQpfXdhc1JlcXVlc3RlZCgpe3JldHVyblwiZXJyb3JlZFwiPT09dGhpcy5zdGF0ZXx8XCJsb2FkZWRcIj09PXRoaXMuc3RhdGV8fFwicmVsb2FkaW5nXCI9PT10aGlzLnN0YXRlfWdldCB0aWxlVHJhbnNmb3JtKCl7cmV0dXJuIHRoaXMuX3RpbGVUcmFuc2Zvcm18fCh0aGlzLl90aWxlVHJhbnNmb3JtPWdwKHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnByb2plY3Rpb24pKSx0aGlzLl90aWxlVHJhbnNmb3JtfWxvYWRWZWN0b3JEYXRhKGUsdCxuKXtpZih0aGlzLnVubG9hZFZlY3RvckRhdGEoKSx0aGlzLnN0YXRlPVwibG9hZGVkXCIsZSl7ZS5mZWF0dXJlSW5kZXgmJih0aGlzLmxhdGVzdEZlYXR1cmVJbmRleD1lLmZlYXR1cmVJbmRleCxlLnJhd1RpbGVEYXRhPyh0aGlzLmxhdGVzdFJhd1RpbGVEYXRhPWUucmF3VGlsZURhdGEsdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE9ZS5yYXdUaWxlRGF0YSk6dGhpcy5sYXRlc3RSYXdUaWxlRGF0YSYmKHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LnJhd1RpbGVEYXRhPXRoaXMubGF0ZXN0UmF3VGlsZURhdGEpKSx0aGlzLmNvbGxpc2lvbkJveEFycmF5PWUuY29sbGlzaW9uQm94QXJyYXksdGhpcy5idWNrZXRzPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj17fTtpZighdClyZXR1cm4gbjtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPWkubGF5ZXJJZHMubWFwKGU9PnQuZ2V0TGF5ZXIoZSkpLmZpbHRlcihCb29sZWFuKTtpZigwIT09ZS5sZW5ndGgpe2kubGF5ZXJzPWUsaS5zdGF0ZURlcGVuZGVudExheWVySWRzJiYoaS5zdGF0ZURlcGVuZGVudExheWVycz1pLnN0YXRlRGVwZW5kZW50TGF5ZXJJZHMubWFwKHQ9PmUuZmlsdGVyKGU9PmUuaWQ9PT10KVswXSkpO2Zvcihjb25zdCB0IG9mIGUpblt0LmlkXT1pfX1yZXR1cm4gbn0oZS5idWNrZXRzLHQuc3R5bGUpLHRoaXMuaGFzU3ltYm9sQnVja2V0cz0hMTtmb3IoY29uc3QgZSBpbiB0aGlzLmJ1Y2tldHMpe2NvbnN0IHQ9dGhpcy5idWNrZXRzW2VdO2lmKHQgaW5zdGFuY2VvZiBxcCl7aWYodGhpcy5oYXNTeW1ib2xCdWNrZXRzPSEwLCFuKWJyZWFrO3QuanVzdFJlbG9hZGVkPSEwfX1pZih0aGlzLmhhc1JUTFRleHQ9ITEsdGhpcy5oYXNTeW1ib2xCdWNrZXRzKWZvcihjb25zdCBlIGluIHRoaXMuYnVja2V0cyl7Y29uc3QgdD10aGlzLmJ1Y2tldHNbZV07aWYodCBpbnN0YW5jZW9mIHFwJiZ0Lmhhc1JUTFRleHQpe3RoaXMuaGFzUlRMVGV4dD0hMCxBby5pc0xvYWRpbmcoKXx8QW8uaXNMb2FkZWQoKXx8XCJkZWZlcnJlZFwiIT09Q28oKXx8a28oKTticmVha319dGhpcy5xdWVyeVBhZGRpbmc9MDtmb3IoY29uc3QgZSBpbiB0aGlzLmJ1Y2tldHMpe2NvbnN0IG49dGhpcy5idWNrZXRzW2VdO3RoaXMucXVlcnlQYWRkaW5nPU1hdGgubWF4KHRoaXMucXVlcnlQYWRkaW5nLHQuc3R5bGUuZ2V0TGF5ZXIoZSkucXVlcnlSYWRpdXMobikpfWUuaW1hZ2VBdGxhcyYmKHRoaXMuaW1hZ2VBdGxhcz1lLmltYWdlQXRsYXMpLGUuZ2x5cGhBdGxhc0ltYWdlJiYodGhpcy5nbHlwaEF0bGFzSW1hZ2U9ZS5nbHlwaEF0bGFzSW1hZ2UpLGUubGluZUF0bGFzJiYodGhpcy5saW5lQXRsYXM9ZS5saW5lQXRsYXMpfWVsc2UgdGhpcy5jb2xsaXNpb25Cb3hBcnJheT1uZXcgd2F9dW5sb2FkVmVjdG9yRGF0YSgpe2lmKHRoaXMuaGFzRGF0YSgpKXtmb3IoY29uc3QgZSBpbiB0aGlzLmJ1Y2tldHMpdGhpcy5idWNrZXRzW2VdLmRlc3Ryb3koKTt0aGlzLmJ1Y2tldHM9e30sdGhpcy5pbWFnZUF0bGFzJiYodGhpcy5pbWFnZUF0bGFzPW51bGwpLHRoaXMubGluZUF0bGFzJiYodGhpcy5saW5lQXRsYXM9bnVsbCksdGhpcy5pbWFnZUF0bGFzVGV4dHVyZSYmdGhpcy5pbWFnZUF0bGFzVGV4dHVyZS5kZXN0cm95KCksdGhpcy5nbHlwaEF0bGFzVGV4dHVyZSYmdGhpcy5nbHlwaEF0bGFzVGV4dHVyZS5kZXN0cm95KCksdGhpcy5saW5lQXRsYXNUZXh0dXJlJiZ0aGlzLmxpbmVBdGxhc1RleHR1cmUuZGVzdHJveSgpLHRoaXMuX3RpbGVCb3VuZHNCdWZmZXImJih0aGlzLl90aWxlQm91bmRzQnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlQm91bmRzSW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVCb3VuZHNTZWdtZW50cy5kZXN0cm95KCksdGhpcy5fdGlsZUJvdW5kc0J1ZmZlcj1udWxsKSx0aGlzLl90aWxlRGVidWdCdWZmZXImJih0aGlzLl90aWxlRGVidWdCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z1NlZ21lbnRzLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdCdWZmZXI9bnVsbCksdGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXImJih0aGlzLl90aWxlRGVidWdJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXI9bnVsbCksdGhpcy5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXImJih0aGlzLl9nbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlci5kZXN0cm95KCksdGhpcy5fZ2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXI9bnVsbCksdGhpcy5fdGlsZURlYnVnVGV4dEJ1ZmZlciYmKHRoaXMuX3RpbGVEZWJ1Z1RleHRCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3RpbGVEZWJ1Z1RleHRTZWdtZW50cy5kZXN0cm95KCksdGhpcy5fdGlsZURlYnVnVGV4dEluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl90aWxlRGVidWdUZXh0QnVmZmVyPW51bGwpLHRoaXMuX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlciYmKHRoaXMuX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fZ2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyPW51bGwpLHRoaXMubGF0ZXN0RmVhdHVyZUluZGV4PW51bGwsdGhpcy5zdGF0ZT1cInVubG9hZGVkXCJ9fWdldEJ1Y2tldChlKXtyZXR1cm4gdGhpcy5idWNrZXRzW2UuaWRdfXVwbG9hZChlKXtmb3IoY29uc3QgdCBpbiB0aGlzLmJ1Y2tldHMpe2NvbnN0IG49dGhpcy5idWNrZXRzW3RdO24udXBsb2FkUGVuZGluZygpJiZuLnVwbG9hZChlKX1jb25zdCB0PWUuZ2w7dGhpcy5pbWFnZUF0bGFzJiYhdGhpcy5pbWFnZUF0bGFzLnVwbG9hZGVkJiYodGhpcy5pbWFnZUF0bGFzVGV4dHVyZT1uZXcgcmYoZSx0aGlzLmltYWdlQXRsYXMuaW1hZ2UsdC5SR0JBKSx0aGlzLmltYWdlQXRsYXMudXBsb2FkZWQ9ITApLHRoaXMuZ2x5cGhBdGxhc0ltYWdlJiYodGhpcy5nbHlwaEF0bGFzVGV4dHVyZT1uZXcgcmYoZSx0aGlzLmdseXBoQXRsYXNJbWFnZSx0LkFMUEhBKSx0aGlzLmdseXBoQXRsYXNJbWFnZT1udWxsKSx0aGlzLmxpbmVBdGxhcyYmIXRoaXMubGluZUF0bGFzLnVwbG9hZGVkJiYodGhpcy5saW5lQXRsYXNUZXh0dXJlPW5ldyByZihlLHRoaXMubGluZUF0bGFzLmltYWdlLHQuQUxQSEEpLHRoaXMubGluZUF0bGFzLnVwbG9hZGVkPSEwKX1wcmVwYXJlKGUpe3RoaXMuaW1hZ2VBdGxhcyYmdGhpcy5pbWFnZUF0bGFzLnBhdGNoVXBkYXRlZEltYWdlcyhlLHRoaXMuaW1hZ2VBdGxhc1RleHR1cmUpfXF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLHQsbixpLHIsbyxhLHMpe3JldHVybiB0aGlzLmxhdGVzdEZlYXR1cmVJbmRleCYmdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGE/dGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucXVlcnkoe3RpbGVSZXN1bHQ6aSxwaXhlbFBvc01hdHJpeDphLHRyYW5zZm9ybTpvLHBhcmFtczpyLHRpbGVUcmFuc2Zvcm06dGhpcy50aWxlVHJhbnNmb3JtfSxlLHQsbik6e319cXVlcnlTb3VyY2VGZWF0dXJlcyhlLHQpe2NvbnN0IG49dGhpcy5sYXRlc3RGZWF0dXJlSW5kZXg7aWYoIW58fCFuLnJhd1RpbGVEYXRhKXJldHVybjtjb25zdCBpPW4ubG9hZFZUTGF5ZXJzKCkscj10P3Quc291cmNlTGF5ZXI6XCJcIixvPWkuX2dlb2pzb25UaWxlTGF5ZXJ8fGlbcl07aWYoIW8pcmV0dXJuO2NvbnN0IGE9S2kodCYmdC5maWx0ZXIpLHt6OnMseDpsLHk6Y309dGhpcy50aWxlSUQuY2Fub25pY2FsLHU9e3o6cyx4OmwseTpjfTtmb3IobGV0IHQ9MDt0PG8ubGVuZ3RoO3QrKyl7Y29uc3QgaT1vLmZlYXR1cmUodCk7aWYoYS5uZWVkR2VvbWV0cnkpe2NvbnN0IGU9UnMoaSwhMCk7aWYoIWEuZmlsdGVyKG5ldyBQbyh0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWiksZSx0aGlzLnRpbGVJRC5jYW5vbmljYWwpKWNvbnRpbnVlfWVsc2UgaWYoIWEuZmlsdGVyKG5ldyBQbyh0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWiksaSkpY29udGludWU7Y29uc3QgaD1uLmdldElkKGksciksZD1uZXcgY2YoaSxzLGwsYyxoKTtkLnRpbGU9dSxlLnB1c2goZCl9fWhhc0RhdGEoKXtyZXR1cm5cImxvYWRlZFwiPT09dGhpcy5zdGF0ZXx8XCJyZWxvYWRpbmdcIj09PXRoaXMuc3RhdGV8fFwiZXhwaXJlZFwiPT09dGhpcy5zdGF0ZX1wYXR0ZXJuc0xvYWRlZCgpe3JldHVybiEhdGhpcy5pbWFnZUF0bGFzJiYhIU9iamVjdC5rZXlzKHRoaXMuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zKS5sZW5ndGh9c2V0RXhwaXJ5RGF0YShlKXtjb25zdCB0PXRoaXMuZXhwaXJhdGlvblRpbWU7aWYoZS5jYWNoZUNvbnRyb2wpe2NvbnN0IHQ9cShlLmNhY2hlQ29udHJvbCk7dFtcIm1heC1hZ2VcIl0mJih0aGlzLmV4cGlyYXRpb25UaW1lPURhdGUubm93KCkrMWUzKnRbXCJtYXgtYWdlXCJdKX1lbHNlIGUuZXhwaXJlcyYmKHRoaXMuZXhwaXJhdGlvblRpbWU9bmV3IERhdGUoZS5leHBpcmVzKS5nZXRUaW1lKCkpO2lmKHRoaXMuZXhwaXJhdGlvblRpbWUpe2NvbnN0IGU9RGF0ZS5ub3coKTtsZXQgbj0hMTtpZih0aGlzLmV4cGlyYXRpb25UaW1lPmUpbj0hMTtlbHNlIGlmKHQpaWYodGhpcy5leHBpcmF0aW9uVGltZTx0KW49ITA7ZWxzZXtjb25zdCBpPXRoaXMuZXhwaXJhdGlvblRpbWUtdDtpP3RoaXMuZXhwaXJhdGlvblRpbWU9ZStNYXRoLm1heChpLDNlNCk6bj0hMH1lbHNlIG49ITA7bj8odGhpcy5leHBpcmVkUmVxdWVzdENvdW50KyssdGhpcy5zdGF0ZT1cImV4cGlyZWRcIik6dGhpcy5leHBpcmVkUmVxdWVzdENvdW50PTB9fWdldEV4cGlyeVRpbWVvdXQoKXtpZih0aGlzLmV4cGlyYXRpb25UaW1lKXJldHVybiB0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQ/MWUzKigxPDxNYXRoLm1pbih0aGlzLmV4cGlyZWRSZXF1ZXN0Q291bnQtMSwzMSkpOk1hdGgubWluKHRoaXMuZXhwaXJhdGlvblRpbWUtKG5ldyBEYXRlKS5nZXRUaW1lKCksTWF0aC5wb3coMiwzMSktMSl9c2V0RmVhdHVyZVN0YXRlKGUsdCl7aWYoIXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4fHwhdGhpcy5sYXRlc3RGZWF0dXJlSW5kZXgucmF3VGlsZURhdGF8fDA9PT1PYmplY3Qua2V5cyhlKS5sZW5ndGh8fCF0KXJldHVybjtjb25zdCBuPXRoaXMubGF0ZXN0RmVhdHVyZUluZGV4LmxvYWRWVExheWVycygpLGk9dC5zdHlsZS5saXN0SW1hZ2VzKCk7Zm9yKGNvbnN0IHIgaW4gdGhpcy5idWNrZXRzKXtpZighdC5zdHlsZS5oYXNMYXllcihyKSljb250aW51ZTtjb25zdCBvPXRoaXMuYnVja2V0c1tyXSxhPW8ubGF5ZXJzWzBdLnNvdXJjZUxheWVyfHxcIl9nZW9qc29uVGlsZUxheWVyXCIscz1uW2FdLGw9ZVthXTtpZighc3x8IWx8fDA9PT1PYmplY3Qua2V5cyhsKS5sZW5ndGgpY29udGludWU7aWYoby51cGRhdGUobCxzLGksdGhpcy5pbWFnZUF0bGFzJiZ0aGlzLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc3x8e30pLG8gaW5zdGFuY2VvZiBXdXx8byBpbnN0YW5jZW9mIHFjKXtjb25zdCBlPXQuc3R5bGUuX2dldFNvdXJjZUNhY2hlKG8ubGF5ZXJzWzBdLnNvdXJjZSk7dC5fdGVycmFpbiYmdC5fdGVycmFpbi5lbmFibGVkJiZlJiZvLnByb2dyYW1Db25maWd1cmF0aW9ucy5uZWVkc1VwbG9hZCYmdC5fdGVycmFpbi5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoZS5pZCx0aGlzLnRpbGVJRCl9Y29uc3QgYz10JiZ0LnN0eWxlJiZ0LnN0eWxlLmdldExheWVyKHIpO2MmJih0aGlzLnF1ZXJ5UGFkZGluZz1NYXRoLm1heCh0aGlzLnF1ZXJ5UGFkZGluZyxjLnF1ZXJ5UmFkaXVzKG8pKSl9fWhvbGRpbmdGb3JGYWRlKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbH1zeW1ib2xGYWRlRmluaXNoZWQoKXtyZXR1cm4hdGhpcy5zeW1ib2xGYWRlSG9sZFVudGlsfHx0aGlzLnN5bWJvbEZhZGVIb2xkVW50aWw8V2Uubm93KCl9Y2xlYXJGYWRlSG9sZCgpe3RoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbD12b2lkIDB9c2V0SG9sZER1cmF0aW9uKGUpe3RoaXMuc3ltYm9sRmFkZUhvbGRVbnRpbD1XZS5ub3coKStlfXNldFRleHR1cmUoZSx0KXtjb25zdCBuPXQuY29udGV4dCxpPW4uZ2w7dGhpcy50ZXh0dXJlPXRoaXMudGV4dHVyZXx8dC5nZXRUaWxlVGV4dHVyZShlLndpZHRoKSx0aGlzLnRleHR1cmU/dGhpcy50ZXh0dXJlLnVwZGF0ZShlLHt1c2VNaXBtYXA6ITB9KToodGhpcy50ZXh0dXJlPW5ldyByZihuLGUsaS5SR0JBLHt1c2VNaXBtYXA6ITB9KSx0aGlzLnRleHR1cmUuYmluZChpLkxJTkVBUixpLkNMQU1QX1RPX0VER0UpLG4uZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljJiZpLnRleFBhcmFtZXRlcmYoaS5URVhUVVJFXzJELG4uZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULG4uZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4KSl9c2V0RGVwZW5kZW5jaWVzKGUsdCl7Y29uc3Qgbj17fTtmb3IoY29uc3QgZSBvZiB0KW5bZV09ITA7dGhpcy5kZXBlbmRlbmNpZXNbZV09bn1oYXNEZXBlbmRlbmN5KGUsdCl7Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT10aGlzLmRlcGVuZGVuY2llc1tuXTtpZihlKWZvcihjb25zdCBuIG9mIHQpaWYoZVtuXSlyZXR1cm4hMH1yZXR1cm4hMX1jbGVhclF1ZXJ5RGVidWdWaXooKXt9X21ha2VEZWJ1Z1RpbGVCb3VuZHNCdWZmZXJzKGUsdCl7aWYoIXR8fFwibWVyY2F0b3JcIj09PXQubmFtZXx8dGhpcy5fdGlsZURlYnVnQnVmZmVyKXJldHVybjtjb25zdCBuPU9zKGdmLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0aGlzLnRpbGVUcmFuc2Zvcm0pWzBdLGk9bmV3IFlvLHI9bmV3IHZhO2ZvcihsZXQgZT0wO2U8bi5sZW5ndGg7ZSsrKXtjb25zdHt4OnQseTpvfT1uW2VdO2kuZW1wbGFjZUJhY2sodCxvKSxyLmVtcGxhY2VCYWNrKGUpfXIuZW1wbGFjZUJhY2soMCksdGhpcy5fdGlsZURlYnVnSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihyKSx0aGlzLl90aWxlRGVidWdCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIoaSxGZC5tZW1iZXJzKSx0aGlzLl90aWxlRGVidWdTZWdtZW50cz1kcy5zaW1wbGVTZWdtZW50KDAsMCxpLmxlbmd0aCxyLmxlbmd0aCl9X21ha2VUaWxlQm91bmRzQnVmZmVycyhlLHQpe2lmKHRoaXMuX3RpbGVCb3VuZHNCdWZmZXJ8fCF0fHxcIm1lcmNhdG9yXCI9PT10Lm5hbWUpcmV0dXJuO2NvbnN0IG49T3MoZ2YsdGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMudGlsZVRyYW5zZm9ybSlbMF07bGV0IGkscjtpZih0aGlzLmlzUmFzdGVyKXtjb25zdCBlPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1ncChlLHQpLGk9TWF0aC5wb3coMixlLnopO2ZvcihsZXQgcj0wO3I8MzM7cisrKWZvcihsZXQgbz0wO288MzM7bysrKXtjb25zdCBhPXdzKChlLngrKG8rZmYobykpLzMyKS9pKSxzPVRzKChlLnkrKHIrZmYocikpLzMyKS9pKSxsPXQucHJvamVjdChhLHMpLGM9MzMqcitvO2hmWzIqYyswXT1NYXRoLnJvdW5kKChsLngqbi5zY2FsZS1uLngpKnBzKSxoZlsyKmMrMV09TWF0aC5yb3VuZCgobC55Km4uc2NhbGUtbi55KSpwcyl9ZGYuZmlsbCgwKSxwZi5maWxsKDApO2ZvcihsZXQgZT0yMDQ1O2U+PTA7ZS0tKXtjb25zdCB0PTQqZSxuPXVmW3QrMF0saT11Zlt0KzFdLHI9dWZbdCsyXSxvPXVmW3QrM10sYT1uK3I+PjEscz1pK28+PjEsbD1hK3MtaSxjPXMrbi1hLHU9MzMqaStuLGg9MzMqbytyLGQ9MzMqcythLHA9TWF0aC5oeXBvdCgoaGZbMip1KzBdK2hmWzIqaCswXSkvMi1oZlsyKmQrMF0sKGhmWzIqdSsxXStoZlsyKmgrMV0pLzItaGZbMipkKzFdKT49MTY7aWYoZGZbZF09ZGZbZF18fChwPzE6MCksZTwxMDIyKXtjb25zdCBlPTMzKihpK2M+PjEpKyhuK2w+PjEpLHQ9MzMqKG8rYz4+MSkrKHIrbD4+MSk7ZGZbZF09ZGZbZF18fGRmW2VdfHxkZlt0XX19Y29uc3Qgcj1uZXcgUW8sbz1uZXcgZGE7bGV0IGE9MDtmdW5jdGlvbiBzKGUsdCl7Y29uc3Qgbj0zMyp0K2U7cmV0dXJuIDA9PT1wZltuXSYmKHIuZW1wbGFjZUJhY2soaGZbMipuKzBdLGhmWzIqbisxXSxlKnBzLzMyLHQqcHMvMzIpLHBmW25dPSsrYSkscGZbbl0tMX1mdW5jdGlvbiBsKGUsdCxuLGkscixhKXtjb25zdCBjPWUrbj4+MSx1PXQraT4+MTtpZihNYXRoLmFicyhlLXIpK01hdGguYWJzKHQtYSk+MSYmZGZbMzMqdStjXSlsKHIsYSxlLHQsYyx1KSxsKG4saSxyLGEsYyx1KTtlbHNle2NvbnN0IGw9cyhlLHQpLGM9cyhuLGkpLHU9cyhyLGEpO28uZW1wbGFjZUJhY2sobCxjLHUpfX1yZXR1cm4gbCgwLDAsMzIsMzIsMzIsMCksbCgzMiwzMiwwLDAsMCwzMikse3ZlcnRpY2VzOnIsaW5kaWNlczpvfX0odGhpcy50aWxlSUQuY2Fub25pY2FsLHQpO2k9ZS52ZXJ0aWNlcyxyPWUuaW5kaWNlc31lbHNle2k9bmV3IFFvLHI9bmV3IGRhO2Zvcihjb25zdHt4OmUseTp0fW9mIG4paS5lbXBsYWNlQmFjayhlLHQsMCwwKTtjb25zdCBlPWRjLmV4cG9ydHMoaS5pbnQxNix2b2lkIDAsNCk7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz0zKXIuZW1wbGFjZUJhY2soZVt0XSxlW3QrMV0sZVt0KzJdKX10aGlzLl90aWxlQm91bmRzQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGksbWYubWVtYmVycyksdGhpcy5fdGlsZUJvdW5kc0luZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIociksdGhpcy5fdGlsZUJvdW5kc1NlZ21lbnRzPWRzLnNpbXBsZVNlZ21lbnQoMCwwLGkubGVuZ3RoLHIubGVuZ3RoKX1fbWFrZUdsb2JlVGlsZURlYnVnQnVmZmVycyhlLHQpe2NvbnN0IG49dC5wcm9qZWN0aW9uO2lmKCFufHxcImdsb2JlXCIhPT1uLm5hbWV8fHQuZnJlZXplVGlsZUNvdmVyYWdlKXJldHVybjtjb25zdCBpPXRoaXMudGlsZUlELmNhbm9uaWNhbCxyPWFwKEpkKGksdCkpLG89Y3AodC56b29tKTtsZXQgYTtvPjAmJihhPWNsKG5ldyBGbG9hdDY0QXJyYXkoMTYpLHQuZ2xvYmVNYXRyaXgpKSx0aGlzLl9tYWtlR2xvYmVUaWxlRGVidWdCb3JkZXJCdWZmZXIoZSxpLHQscixhLG8pLHRoaXMuX21ha2VHbG9iZVRpbGVEZWJ1Z1RleHRCdWZmZXIoZSxpLHQscixhLG8pfV9nbG9iZVBvaW50KGUsdCxuLGkscixvLGEpe2xldCBzPWlwKGUsdCxuKTtpZihvKXtjb25zdCByPTE8PG4ueixsPXZzKGkuY2VudGVyLmxuZyksYz14cyhpLmNlbnRlci5sYXQpLHU9KG4ueCsuNSkvci1sO2xldCBoPTA7dT4uNT9oPS0xOnU8LS41JiYoaD0xKTtsZXQgZD0oZS9wcytuLngpL3IraCxwPSh0L3BzK24ueSkvcjtkPShkLWwpKmkuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwrbCxwPShwLWMpKmkuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWwrYztjb25zdCBmPVtkKmkud29ybGRTaXplLHAqaS53b3JsZFNpemUsMF07emwoZixmLG8pLHM9WWQocyxmLGEpfXJldHVybiB6bChzLHMscil9X21ha2VHbG9iZVRpbGVEZWJ1Z0JvcmRlckJ1ZmZlcihlLHQsbixpLHIsbyl7Y29uc3QgYT1uZXcgWW8scz1uZXcgdmEsbD1uZXcgSm8sYz0oZSxjLHUsaCxkKT0+e2NvbnN0IHA9KHUtZSkvKGQtMSksZj0oaC1jKS8oZC0xKSxtPWEubGVuZ3RoO2ZvcihsZXQgdT0wO3U8ZDt1Kyspe2NvbnN0IGg9ZSt1KnAsZD1jK3UqZjthLmVtcGxhY2VCYWNrKGgsZCk7Y29uc3QgZz10aGlzLl9nbG9iZVBvaW50KGgsZCx0LG4saSxyLG8pO2wuZW1wbGFjZUJhY2soZ1swXSxnWzFdLGdbMl0pLHMuZW1wbGFjZUJhY2sobSt1KX19LHU9cHM7YygwLDAsdSwwLDE2KSxjKHUsMCx1LHUsMTYpLGModSx1LDAsdSwxNiksYygwLHUsMCwwLDE2KSx0aGlzLl90aWxlRGVidWdJbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKHMpLHRoaXMuX3RpbGVEZWJ1Z0J1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihhLEZkLm1lbWJlcnMpLHRoaXMuX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyPWUuY3JlYXRlVmVydGV4QnVmZmVyKGwsamQubWVtYmVycyksdGhpcy5fdGlsZURlYnVnU2VnbWVudHM9ZHMuc2ltcGxlU2VnbWVudCgwLDAsYS5sZW5ndGgscy5sZW5ndGgpfV9tYWtlR2xvYmVUaWxlRGVidWdUZXh0QnVmZmVyKGUsdCxuLGkscixvKXtjb25zdCBhPW5ldyBZbyxzPW5ldyBkYSxsPW5ldyBKbyxjPTI1O3MucmVzZXJ2ZSgzMiksYS5yZXNlcnZlKGMpLGwucmVzZXJ2ZShjKTtjb25zdCB1PShlLHQpPT5jKmUrdDtmb3IobGV0IGU9MDtlPGM7ZSsrKXtjb25zdCBzPTIwNDgqZTtmb3IobGV0IGU9MDtlPGM7ZSsrKXtjb25zdCBjPTIwNDgqZTthLmVtcGxhY2VCYWNrKGMscyk7Y29uc3QgdT10aGlzLl9nbG9iZVBvaW50KGMscyx0LG4saSxyLG8pO2wuZW1wbGFjZUJhY2sodVswXSx1WzFdLHVbMl0pfX1mb3IobGV0IGU9MDtlPDQ7ZSsrKWZvcihsZXQgdD0wO3Q8NDt0Kyspe2NvbnN0IG49dShlLHQpLGk9dShlLHQrMSkscj11KGUrMSx0KSxvPXUoZSsxLHQrMSk7cy5lbXBsYWNlQmFjayhuLGkscikscy5lbXBsYWNlQmFjayhyLGksbyl9dGhpcy5fdGlsZURlYnVnVGV4dEluZGV4QnVmZmVyPWUuY3JlYXRlSW5kZXhCdWZmZXIocyksdGhpcy5fdGlsZURlYnVnVGV4dEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihhLEZkLm1lbWJlcnMpLHRoaXMuX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihsLGpkLm1lbWJlcnMpLHRoaXMuX3RpbGVEZWJ1Z1RleHRTZWdtZW50cz1kcy5zaW1wbGVTZWdtZW50KDAsMCxjLDMyKX19Y2xhc3MgX2Z7Y29uc3RydWN0b3IoKXt0aGlzLnN0YXRlPXt9LHRoaXMuc3RhdGVDaGFuZ2VzPXt9LHRoaXMuZGVsZXRlZFN0YXRlcz17fX11cGRhdGVTdGF0ZShlLHQsbil7Y29uc3QgaT1TdHJpbmcodCk7aWYodGhpcy5zdGF0ZUNoYW5nZXNbZV09dGhpcy5zdGF0ZUNoYW5nZXNbZV18fHt9LHRoaXMuc3RhdGVDaGFuZ2VzW2VdW2ldPXRoaXMuc3RhdGVDaGFuZ2VzW2VdW2ldfHx7fSxBKHRoaXMuc3RhdGVDaGFuZ2VzW2VdW2ldLG4pLG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pe3RoaXMuZGVsZXRlZFN0YXRlc1tlXT17fTtmb3IoY29uc3QgdCBpbiB0aGlzLnN0YXRlW2VdKXQhPT1pJiYodGhpcy5kZWxldGVkU3RhdGVzW2VdW3RdPW51bGwpfWVsc2UgaWYodGhpcy5kZWxldGVkU3RhdGVzW2VdJiZudWxsPT09dGhpcy5kZWxldGVkU3RhdGVzW2VdW2ldKXt0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1baV09e307Zm9yKGNvbnN0IHQgaW4gdGhpcy5zdGF0ZVtlXVtpXSluW3RdfHwodGhpcy5kZWxldGVkU3RhdGVzW2VdW2ldW3RdPW51bGwpfWVsc2UgZm9yKGNvbnN0IHQgaW4gbil0aGlzLmRlbGV0ZWRTdGF0ZXNbZV0mJnRoaXMuZGVsZXRlZFN0YXRlc1tlXVtpXSYmbnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1tlXVtpXVt0XSYmZGVsZXRlIHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtpXVt0XX1yZW1vdmVGZWF0dXJlU3RhdGUoZSx0LG4pe2lmKG51bGw9PT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pcmV0dXJuO2NvbnN0IGk9U3RyaW5nKHQpO2lmKHRoaXMuZGVsZXRlZFN0YXRlc1tlXT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV18fHt9LG4mJnZvaWQgMCE9PXQpbnVsbCE9PXRoaXMuZGVsZXRlZFN0YXRlc1tlXVtpXSYmKHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtpXT10aGlzLmRlbGV0ZWRTdGF0ZXNbZV1baV18fHt9LHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtpXVtuXT1udWxsKTtlbHNlIGlmKHZvaWQgMCE9PXQpaWYodGhpcy5zdGF0ZUNoYW5nZXNbZV0mJnRoaXMuc3RhdGVDaGFuZ2VzW2VdW2ldKWZvcihuIGluIHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtpXT17fSx0aGlzLnN0YXRlQ2hhbmdlc1tlXVtpXSl0aGlzLmRlbGV0ZWRTdGF0ZXNbZV1baV1bbl09bnVsbDtlbHNlIHRoaXMuZGVsZXRlZFN0YXRlc1tlXVtpXT1udWxsO2Vsc2UgdGhpcy5kZWxldGVkU3RhdGVzW2VdPW51bGx9Z2V0U3RhdGUoZSx0KXtjb25zdCBuPVN0cmluZyh0KSxpPUEoe30sKHRoaXMuc3RhdGVbZV18fHt9KVtuXSwodGhpcy5zdGF0ZUNoYW5nZXNbZV18fHt9KVtuXSk7aWYobnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1tlXSlyZXR1cm57fTtpZih0aGlzLmRlbGV0ZWRTdGF0ZXNbZV0pe2NvbnN0IG49dGhpcy5kZWxldGVkU3RhdGVzW2VdW3RdO2lmKG51bGw9PT1uKXJldHVybnt9O2Zvcihjb25zdCBlIGluIG4pZGVsZXRlIGlbZV19cmV0dXJuIGl9aW5pdGlhbGl6ZVRpbGVTdGF0ZShlLHQpe2Uuc2V0RmVhdHVyZVN0YXRlKHRoaXMuc3RhdGUsdCl9Y29hbGVzY2VDaGFuZ2VzKGUsdCl7Y29uc3Qgbj17fTtmb3IoY29uc3QgZSBpbiB0aGlzLnN0YXRlQ2hhbmdlcyl7dGhpcy5zdGF0ZVtlXT10aGlzLnN0YXRlW2VdfHx7fTtjb25zdCB0PXt9O2Zvcihjb25zdCBuIGluIHRoaXMuc3RhdGVDaGFuZ2VzW2VdKXRoaXMuc3RhdGVbZV1bbl18fCh0aGlzLnN0YXRlW2VdW25dPXt9KSxBKHRoaXMuc3RhdGVbZV1bbl0sdGhpcy5zdGF0ZUNoYW5nZXNbZV1bbl0pLHRbbl09dGhpcy5zdGF0ZVtlXVtuXTtuW2VdPXR9Zm9yKGNvbnN0IGUgaW4gdGhpcy5kZWxldGVkU3RhdGVzKXt0aGlzLnN0YXRlW2VdPXRoaXMuc3RhdGVbZV18fHt9O2NvbnN0IHQ9e307aWYobnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1tlXSlmb3IoY29uc3QgbiBpbiB0aGlzLnN0YXRlW2VdKXRbbl09e30sdGhpcy5zdGF0ZVtlXVtuXT17fTtlbHNlIGZvcihjb25zdCBuIGluIHRoaXMuZGVsZXRlZFN0YXRlc1tlXSl7aWYobnVsbD09PXRoaXMuZGVsZXRlZFN0YXRlc1tlXVtuXSl0aGlzLnN0YXRlW2VdW25dPXt9O2Vsc2UgZm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy5kZWxldGVkU3RhdGVzW2VdW25dKSlkZWxldGUgdGhpcy5zdGF0ZVtlXVtuXVt0XTt0W25dPXRoaXMuc3RhdGVbZV1bbl19bltlXT1uW2VdfHx7fSxBKG5bZV0sdCl9aWYodGhpcy5zdGF0ZUNoYW5nZXM9e30sdGhpcy5kZWxldGVkU3RhdGVzPXt9LDAhPT1PYmplY3Qua2V5cyhuKS5sZW5ndGgpZm9yKGNvbnN0IGkgaW4gZSllW2ldLnNldEZlYXR1cmVTdGF0ZShuLHQpfX1jbGFzcyB2Zntjb25zdHJ1Y3RvcihlKXt0aGlzLnNpemU9ZSx0aGlzLm1pbmltdW1zPVtdLHRoaXMubWF4aW11bXM9W10sdGhpcy5sZWF2ZXM9W119Z2V0RWxldmF0aW9uKGUsdCl7Y29uc3Qgbj10aGlzLnRvSWR4KGUsdCk7cmV0dXJue21pbjp0aGlzLm1pbmltdW1zW25dLG1heDp0aGlzLm1heGltdW1zW25dfX1pc0xlYWYoZSx0KXtyZXR1cm4gdGhpcy5sZWF2ZXNbdGhpcy50b0lkeChlLHQpXX10b0lkeChlLHQpe3JldHVybiB0KnRoaXMuc2l6ZStlfX1mdW5jdGlvbiB4ZihlLHQsbixpKXtsZXQgcj0wLG89TnVtYmVyLk1BWF9WQUxVRTtmb3IobGV0IGE9MDthPDM7YSsrKWlmKE1hdGguYWJzKGlbYV0pPDFlLTE1KXtpZihuW2FdPGVbYV18fG5bYV0+dFthXSlyZXR1cm4gbnVsbH1lbHNle2NvbnN0IHM9MS9pW2FdO2xldCBsPShlW2FdLW5bYV0pKnMsYz0odFthXS1uW2FdKSpzO2lmKGw+Yyl7Y29uc3QgZT1sO2w9YyxjPWV9aWYobD5yJiYocj1sKSxjPG8mJihvPWMpLHI+bylyZXR1cm4gbnVsbH1yZXR1cm4gcn1mdW5jdGlvbiBiZihlLHQsbixpLHIsbyxhLHMsbCxjLHUpe2NvbnN0IGg9aS1lLGQ9ci10LHA9by1uLGY9YS1lLG09cy10LGc9bC1uLHk9dVsxXSpnLXVbMl0qbSxfPXVbMl0qZi11WzBdKmcsdj11WzBdKm0tdVsxXSpmLHg9aCp5K2QqXytwKnY7aWYoTWF0aC5hYnMoeCk8MWUtMTUpcmV0dXJuIG51bGw7Y29uc3QgYj0xL3gsdz1jWzBdLWUsVD1jWzFdLXQsRT1jWzJdLW4sUz0odyp5K1QqXytFKnYpKmI7aWYoUzwwfHxTPjEpcmV0dXJuIG51bGw7Y29uc3QgTT1UKnAtRSpkLEk9RSpoLXcqcCxDPXcqZC1UKmgsaz0odVswXSpNK3VbMV0qSSt1WzJdKkMpKmI7cmV0dXJuIGs8MHx8UytrPjE/bnVsbDooZipNK20qSStnKkMpKmJ9ZnVuY3Rpb24gd2YoZSx0LG4pe3JldHVybihlLXQpLyhuLXQpfWZ1bmN0aW9uIFRmKGUsdCxuLGkscixvLGEscyxsKXtjb25zdCBjPTE8PG4sdT1vLWksaD1hLXIsZD0oZSsxKS9jKnUraSxwPSh0KzApL2MqaCtyLGY9KHQrMSkvYypoK3I7c1swXT0oZSswKS9jKnUraSxzWzFdPXAsbFswXT1kLGxbMV09Zn1jbGFzcyBFZntjb25zdHJ1Y3RvcihlKXtpZih0aGlzLm1heGltdW1zPVtdLHRoaXMubWluaW11bXM9W10sdGhpcy5sZWF2ZXM9W10sdGhpcy5jaGlsZE9mZnNldHM9W10sdGhpcy5ub2RlQ291bnQ9MCx0aGlzLmRlbT1lLHRoaXMuX3NpYmxpbmdPZmZzZXQ9W1swLDBdLFsxLDBdLFswLDFdLFsxLDFdXSwhdGhpcy5kZW0pcmV0dXJuO2NvbnN0IHQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1NYXRoLmNlaWwoTWF0aC5sb2cyKGUuZGltLzgpKSxuPVtdO2xldCBpPU1hdGguY2VpbChNYXRoLnBvdygyLHQpKTtjb25zdCByPTEvaSxvPShlLHQsbixpLHIpPT57Y29uc3Qgbz1pPzE6MCxhPShlKzEpKm4tbyxzPXQqbixsPSh0KzEpKm4tbztyWzBdPWUqbixyWzFdPXMsclsyXT1hLHJbM109bH07bGV0IGE9bmV3IHZmKGkpO2NvbnN0IHM9W107Zm9yKGxldCB0PTA7dDxpKmk7dCsrKXtvKHQlaSxNYXRoLmZsb29yKHQvaSksciwhMSxzKTtjb25zdCBuPU1mKHNbMF0sc1sxXSxlKSxsPU1mKHNbMl0sc1sxXSxlKSxjPU1mKHNbMl0sc1szXSxlKSx1PU1mKHNbMF0sc1szXSxlKTthLm1pbmltdW1zLnB1c2goTWF0aC5taW4obixsLGMsdSkpLGEubWF4aW11bXMucHVzaChNYXRoLm1heChuLGwsYyx1KSksYS5sZWF2ZXMucHVzaCgxKX1mb3Iobi5wdXNoKGEpLGkvPTI7aT49MTtpLz0yKXtjb25zdCBlPW5bbi5sZW5ndGgtMV07YT1uZXcgdmYoaSk7Zm9yKGxldCB0PTA7dDxpKmk7dCsrKXtvKHQlaSxNYXRoLmZsb29yKHQvaSksMiwhMCxzKTtjb25zdCBuPWUuZ2V0RWxldmF0aW9uKHNbMF0sc1sxXSkscj1lLmdldEVsZXZhdGlvbihzWzJdLHNbMV0pLGw9ZS5nZXRFbGV2YXRpb24oc1syXSxzWzNdKSxjPWUuZ2V0RWxldmF0aW9uKHNbMF0sc1szXSksdT1lLmlzTGVhZihzWzBdLHNbMV0pLGg9ZS5pc0xlYWYoc1syXSxzWzFdKSxkPWUuaXNMZWFmKHNbMl0sc1szXSkscD1lLmlzTGVhZihzWzBdLHNbM10pLGY9TWF0aC5taW4obi5taW4sci5taW4sbC5taW4sYy5taW4pLG09TWF0aC5tYXgobi5tYXgsci5tYXgsbC5tYXgsYy5tYXgpLGc9dSYmaCYmZCYmcDthLm1heGltdW1zLnB1c2gobSksYS5taW5pbXVtcy5wdXNoKGYpLGEubGVhdmVzLnB1c2gobS1mPD01JiZnPzE6MCl9bi5wdXNoKGEpfXJldHVybiBufSh0aGlzLmRlbSksbj10Lmxlbmd0aC0xLGk9dFtuXTt0aGlzLl9hZGROb2RlKGkubWluaW11bXNbMF0saS5tYXhpbXVtc1swXSxpLmxlYXZlc1swXSksdGhpcy5fY29uc3RydWN0KHQsMCwwLG4sMCl9cmF5Y2FzdFJvb3QoZSx0LG4saSxyLG8sYT0xKXtyZXR1cm4geGYoW2UsdCwtMTAwXSxbbixpLHRoaXMubWF4aW11bXNbMF0qYV0scixvKX1yYXljYXN0KGUsdCxuLGkscixvLGE9MSl7aWYoIXRoaXMubm9kZUNvdW50KXJldHVybiBudWxsO2NvbnN0IHM9dGhpcy5yYXljYXN0Um9vdChlLHQsbixpLHIsbyxhKTtpZihudWxsPT1zKXJldHVybiBudWxsO2NvbnN0IGw9W10sYz1bXSx1PVtdLGg9W10sZD1be2lkeDowLHQ6cyxub2RleDowLG5vZGV5OjAsZGVwdGg6MH1dO2Zvcig7ZC5sZW5ndGg+MDspe2NvbnN0e2lkeDpzLHQ6cCxub2RleDpmLG5vZGV5Om0sZGVwdGg6Z309ZC5wb3AoKTtpZih0aGlzLmxlYXZlc1tzXSl7VGYoZixtLGcsZSx0LG4saSx1LGgpO2NvbnN0IHM9MTw8ZyxsPShmKzApL3MsYz0oZisxKS9zLGQ9KG0rMCkvcyx5PShtKzEpL3MsXz1NZihsLGQsdGhpcy5kZW0pKmEsdj1NZihjLGQsdGhpcy5kZW0pKmEseD1NZihjLHksdGhpcy5kZW0pKmEsYj1NZihsLHksdGhpcy5kZW0pKmEsdz1iZih1WzBdLHVbMV0sXyxoWzBdLHVbMV0sdixoWzBdLGhbMV0seCxyLG8pLFQ9YmYoaFswXSxoWzFdLHgsdVswXSxoWzFdLGIsdVswXSx1WzFdLF8scixvKSxFPU1hdGgubWluKG51bGwhPT13P3c6TnVtYmVyLk1BWF9WQUxVRSxudWxsIT09VD9UOk51bWJlci5NQVhfVkFMVUUpO2lmKEUhPT1OdW1iZXIuTUFYX1ZBTFVFKXJldHVybiBFO3tjb25zdCBlPUNsKFtdLHIsbyxwKTtpZihTZihfLHYsYix4LHdmKGVbMF0sdVswXSxoWzBdKSx3ZihlWzFdLHVbMV0saFsxXSkpPj1lWzJdKXJldHVybiBwfWNvbnRpbnVlfWxldCB5PTA7Zm9yKGxldCBkPTA7ZDx0aGlzLl9zaWJsaW5nT2Zmc2V0Lmxlbmd0aDtkKyspe1RmKChmPDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W2RdWzBdLChtPDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W2RdWzFdLGcrMSxlLHQsbixpLHUsaCksdVsyXT0tMTAwLGhbMl09dGhpcy5tYXhpbXVtc1t0aGlzLmNoaWxkT2Zmc2V0c1tzXStkXSphO2NvbnN0IHA9eGYodSxoLHIsbyk7aWYobnVsbCE9cCl7Y29uc3QgZT1wO2xbZF09ZTtsZXQgdD0hMTtmb3IobGV0IG49MDtuPHkmJiF0O24rKyllPj1sW2Nbbl1dJiYoYy5zcGxpY2UobiwwLGQpLHQ9ITApO3R8fChjW3ldPWQpLHkrK319Zm9yKGxldCBlPTA7ZTx5O2UrKyl7Y29uc3QgdD1jW2VdO2QucHVzaCh7aWR4OnRoaXMuY2hpbGRPZmZzZXRzW3NdK3QsdDpsW3RdLG5vZGV4OihmPDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W3RdWzBdLG5vZGV5OihtPDwxKSt0aGlzLl9zaWJsaW5nT2Zmc2V0W3RdWzFdLGRlcHRoOmcrMX0pfX1yZXR1cm4gbnVsbH1fYWRkTm9kZShlLHQsbil7cmV0dXJuIHRoaXMubWluaW11bXMucHVzaChlKSx0aGlzLm1heGltdW1zLnB1c2godCksdGhpcy5sZWF2ZXMucHVzaChuKSx0aGlzLmNoaWxkT2Zmc2V0cy5wdXNoKDApLHRoaXMubm9kZUNvdW50Kyt9X2NvbnN0cnVjdChlLHQsbixpLHIpe2lmKDE9PT1lW2ldLmlzTGVhZih0LG4pKXJldHVybjt0aGlzLmNoaWxkT2Zmc2V0c1tyXXx8KHRoaXMuY2hpbGRPZmZzZXRzW3JdPXRoaXMubm9kZUNvdW50KTtjb25zdCBvPWktMSxhPWVbb107bGV0IHM9MCxsPTA7Zm9yKGxldCBlPTA7ZTx0aGlzLl9zaWJsaW5nT2Zmc2V0Lmxlbmd0aDtlKyspe2NvbnN0IGk9Mip0K3RoaXMuX3NpYmxpbmdPZmZzZXRbZV1bMF0scj0yKm4rdGhpcy5fc2libGluZ09mZnNldFtlXVsxXSxvPWEuZ2V0RWxldmF0aW9uKGksciksYz1hLmlzTGVhZihpLHIpLHU9dGhpcy5fYWRkTm9kZShvLm1pbixvLm1heCxjKTtjJiYoc3w9MTw8ZSksbHx8KGw9dSl9Zm9yKGxldCBpPTA7aTx0aGlzLl9zaWJsaW5nT2Zmc2V0Lmxlbmd0aDtpKyspcyYxPDxpfHx0aGlzLl9jb25zdHJ1Y3QoZSwyKnQrdGhpcy5fc2libGluZ09mZnNldFtpXVswXSwyKm4rdGhpcy5fc2libGluZ09mZnNldFtpXVsxXSxvLGwraSl9fWZ1bmN0aW9uIFNmKGUsdCxuLGkscixvKXtyZXR1cm4gQ24oQ24oZSxuLG8pLENuKHQsaSxvKSxyKX1mdW5jdGlvbiBNZihlLHQsbil7Y29uc3QgaT1uLmRpbSxyPVMoZSppLS41LDAsaS0xKSxvPVModCppLS41LDAsaS0xKSxhPU1hdGguZmxvb3Iocikscz1NYXRoLmZsb29yKG8pLGw9TWF0aC5taW4oYSsxLGktMSksYz1NYXRoLm1pbihzKzEsaS0xKTtyZXR1cm4gU2Yobi5nZXQoYSxzKSxuLmdldChsLHMpLG4uZ2V0KGEsYyksbi5nZXQobCxjKSxyLWEsby1zKX1jb25zdCBJZj17bWFwYm94Ols2NTUzLjYsMjUuNiwuMSwxZTRdLHRlcnJhcml1bTpbMjU2LDEsMS8yNTYsMzI3NjhdfTtjbGFzcyBDZntnZXQgdHJlZSgpe3JldHVybiB0aGlzLl90cmVlfHx0aGlzLl9idWlsZFF1YWRUcmVlKCksdGhpcy5fdHJlZX1jb25zdHJ1Y3RvcihlLHQsbixpPSExLHI9ITEpe2lmKHRoaXMudWlkPWUsdC5oZWlnaHQhPT10LndpZHRoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiREVNIHRpbGVzIG11c3QgYmUgc3F1YXJlXCIpO2lmKG4mJlwibWFwYm94XCIhPT1uJiZcInRlcnJhcml1bVwiIT09bilyZXR1cm4gVihgXCIke259XCIgaXMgbm90IGEgdmFsaWQgZW5jb2RpbmcgdHlwZS4gVmFsaWQgdHlwZXMgaW5jbHVkZSBcIm1hcGJveFwiIGFuZCBcInRlcnJhcml1bVwiLmApO3RoaXMuc3RyaWRlPXQuaGVpZ2h0O2NvbnN0IG89dGhpcy5kaW09dC5oZWlnaHQtMixhPW5ldyBVaW50MzJBcnJheSh0LmRhdGEuYnVmZmVyKTtpZih0aGlzLnBpeGVscz1uZXcgVWludDhBcnJheSh0LmRhdGEuYnVmZmVyKSx0aGlzLmVuY29kaW5nPW58fFwibWFwYm94XCIsdGhpcy5ib3JkZXJSZWFkeT1pLCFpKXtmb3IobGV0IGU9MDtlPG87ZSsrKWFbdGhpcy5faWR4KC0xLGUpXT1hW3RoaXMuX2lkeCgwLGUpXSxhW3RoaXMuX2lkeChvLGUpXT1hW3RoaXMuX2lkeChvLTEsZSldLGFbdGhpcy5faWR4KGUsLTEpXT1hW3RoaXMuX2lkeChlLDApXSxhW3RoaXMuX2lkeChlLG8pXT1hW3RoaXMuX2lkeChlLG8tMSldO2FbdGhpcy5faWR4KC0xLC0xKV09YVt0aGlzLl9pZHgoMCwwKV0sYVt0aGlzLl9pZHgobywtMSldPWFbdGhpcy5faWR4KG8tMSwwKV0sYVt0aGlzLl9pZHgoLTEsbyldPWFbdGhpcy5faWR4KDAsby0xKV0sYVt0aGlzLl9pZHgobyxvKV09YVt0aGlzLl9pZHgoby0xLG8tMSldLHImJnRoaXMuX2J1aWxkUXVhZFRyZWUoKX19X2J1aWxkUXVhZFRyZWUoKXt0aGlzLl90cmVlPW5ldyBFZih0aGlzKX1nZXQoZSx0LG49ITEpe24mJihlPVMoZSwtMSx0aGlzLmRpbSksdD1TKHQsLTEsdGhpcy5kaW0pKTtjb25zdCBpPTQqdGhpcy5faWR4KGUsdCk7cmV0dXJuKFwidGVycmFyaXVtXCI9PT10aGlzLmVuY29kaW5nP3RoaXMuX3VucGFja1RlcnJhcml1bTp0aGlzLl91bnBhY2tNYXBib3gpKHRoaXMucGl4ZWxzW2ldLHRoaXMucGl4ZWxzW2krMV0sdGhpcy5waXhlbHNbaSsyXSl9c3RhdGljIGdldFVucGFja1ZlY3RvcihlKXtyZXR1cm4gSWZbZV19Z2V0IHVucGFja1ZlY3Rvcigpe3JldHVybiBJZlt0aGlzLmVuY29kaW5nXX1faWR4KGUsdCl7aWYoZTwtMXx8ZT49dGhpcy5kaW0rMXx8dDwtMXx8dD49dGhpcy5kaW0rMSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm91dCBvZiByYW5nZSBzb3VyY2UgY29vcmRpbmF0ZXMgZm9yIERFTSBkYXRhXCIpO3JldHVybih0KzEpKnRoaXMuc3RyaWRlKyhlKzEpfV91bnBhY2tNYXBib3goZSx0LG4pe3JldHVybigyNTYqZSoyNTYrMjU2KnQrbikvMTAtMWU0fV91bnBhY2tUZXJyYXJpdW0oZSx0LG4pe3JldHVybiAyNTYqZSt0K24vMjU2LTMyNzY4fXN0YXRpYyBwYWNrKGUsdCl7Y29uc3Qgbj1bMCwwLDAsMF0saT1DZi5nZXRVbnBhY2tWZWN0b3IodCk7bGV0IHI9TWF0aC5mbG9vcigoZStpWzNdKS9pWzJdKTtyZXR1cm4gblsyXT1yJTI1NixyPU1hdGguZmxvb3Ioci8yNTYpLG5bMV09ciUyNTYscj1NYXRoLmZsb29yKHIvMjU2KSxuWzBdPXIsbn1nZXRQaXhlbHMoKXtyZXR1cm4gbmV3IGFjKHt3aWR0aDp0aGlzLnN0cmlkZSxoZWlnaHQ6dGhpcy5zdHJpZGV9LHRoaXMucGl4ZWxzKX1iYWNrZmlsbEJvcmRlcihlLHQsbil7aWYodGhpcy5kaW0hPT1lLmRpbSl0aHJvdyBuZXcgRXJyb3IoXCJkZW0gZGltZW5zaW9uIG1pc21hdGNoXCIpO2xldCBpPXQqdGhpcy5kaW0scj10KnRoaXMuZGltK3RoaXMuZGltLG89bip0aGlzLmRpbSxhPW4qdGhpcy5kaW0rdGhpcy5kaW07c3dpdGNoKHQpe2Nhc2UtMTppPXItMTticmVhaztjYXNlIDE6cj1pKzF9c3dpdGNoKG4pe2Nhc2UtMTpvPWEtMTticmVhaztjYXNlIDE6YT1vKzF9Y29uc3Qgcz0tdCp0aGlzLmRpbSxsPS1uKnRoaXMuZGltO2ZvcihsZXQgdD1vO3Q8YTt0KyspZm9yKGxldCBuPWk7bjxyO24rKyl7Y29uc3QgaT00KnRoaXMuX2lkeChuLHQpLHI9NCp0aGlzLl9pZHgobitzLHQrbCk7dGhpcy5waXhlbHNbaSswXT1lLnBpeGVsc1tyKzBdLHRoaXMucGl4ZWxzW2krMV09ZS5waXhlbHNbcisxXSx0aGlzLnBpeGVsc1tpKzJdPWUucGl4ZWxzW3IrMl0sdGhpcy5waXhlbHNbaSszXT1lLnBpeGVsc1tyKzNdfX1vbkRlc2VyaWFsaXplKCl7dGhpcy5fdHJlZSYmKHRoaXMuX3RyZWUuZGVtPXRoaXMpfX16cihDZixcIkRFTURhdGFcIiksenIoRWYsXCJEZW1NaW5NYXhRdWFkVHJlZVwiLHtvbWl0OltcImRlbVwiXX0pO2NsYXNzIGtme2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5tYXg9ZSx0aGlzLm9uUmVtb3ZlPXQsdGhpcy5yZXNldCgpfXJlc2V0KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5kYXRhKWZvcihjb25zdCB0IG9mIHRoaXMuZGF0YVtlXSl0LnRpbWVvdXQmJmNsZWFyVGltZW91dCh0LnRpbWVvdXQpLHRoaXMub25SZW1vdmUodC52YWx1ZSk7cmV0dXJuIHRoaXMuZGF0YT17fSx0aGlzLm9yZGVyPVtdLHRoaXN9YWRkKGUsdCxuKXtjb25zdCBpPWUud3JhcHBlZCgpLmtleTt2b2lkIDA9PT10aGlzLmRhdGFbaV0mJih0aGlzLmRhdGFbaV09W10pO2NvbnN0IHI9e3ZhbHVlOnQsdGltZW91dDp2b2lkIDB9O2lmKHZvaWQgMCE9PW4mJihyLnRpbWVvdXQ9c2V0VGltZW91dCgoKT0+e3RoaXMucmVtb3ZlKGUscil9LG4pKSx0aGlzLmRhdGFbaV0ucHVzaChyKSx0aGlzLm9yZGVyLnB1c2goaSksdGhpcy5vcmRlci5sZW5ndGg+dGhpcy5tYXgpe2NvbnN0IGU9dGhpcy5fZ2V0QW5kUmVtb3ZlQnlLZXkodGhpcy5vcmRlclswXSk7ZSYmdGhpcy5vblJlbW92ZShlKX1yZXR1cm4gdGhpc31oYXMoZSl7cmV0dXJuIGUud3JhcHBlZCgpLmtleSBpbiB0aGlzLmRhdGF9Z2V0QW5kUmVtb3ZlKGUpe3JldHVybiB0aGlzLmhhcyhlKT90aGlzLl9nZXRBbmRSZW1vdmVCeUtleShlLndyYXBwZWQoKS5rZXkpOm51bGx9X2dldEFuZFJlbW92ZUJ5S2V5KGUpe2NvbnN0IHQ9dGhpcy5kYXRhW2VdLnNoaWZ0KCk7cmV0dXJuIHQudGltZW91dCYmY2xlYXJUaW1lb3V0KHQudGltZW91dCksMD09PXRoaXMuZGF0YVtlXS5sZW5ndGgmJmRlbGV0ZSB0aGlzLmRhdGFbZV0sdGhpcy5vcmRlci5zcGxpY2UodGhpcy5vcmRlci5pbmRleE9mKGUpLDEpLHQudmFsdWV9Z2V0QnlLZXkoZSl7Y29uc3QgdD10aGlzLmRhdGFbZV07cmV0dXJuIHQ/dFswXS52YWx1ZTpudWxsfWdldChlKXtyZXR1cm4gdGhpcy5oYXMoZSk/dGhpcy5kYXRhW2Uud3JhcHBlZCgpLmtleV1bMF0udmFsdWU6bnVsbH1yZW1vdmUoZSx0KXtpZighdGhpcy5oYXMoZSkpcmV0dXJuIHRoaXM7Y29uc3Qgbj1lLndyYXBwZWQoKS5rZXksaT12b2lkIDA9PT10PzA6dGhpcy5kYXRhW25dLmluZGV4T2YodCkscj10aGlzLmRhdGFbbl1baV07cmV0dXJuIHRoaXMuZGF0YVtuXS5zcGxpY2UoaSwxKSxyLnRpbWVvdXQmJmNsZWFyVGltZW91dChyLnRpbWVvdXQpLDA9PT10aGlzLmRhdGFbbl0ubGVuZ3RoJiZkZWxldGUgdGhpcy5kYXRhW25dLHRoaXMub25SZW1vdmUoci52YWx1ZSksdGhpcy5vcmRlci5zcGxpY2UodGhpcy5vcmRlci5pbmRleE9mKG4pLDEpLHRoaXN9c2V0TWF4U2l6ZShlKXtmb3IodGhpcy5tYXg9ZTt0aGlzLm9yZGVyLmxlbmd0aD50aGlzLm1heDspe2NvbnN0IGU9dGhpcy5fZ2V0QW5kUmVtb3ZlQnlLZXkodGhpcy5vcmRlclswXSk7ZSYmdGhpcy5vblJlbW92ZShlKX1yZXR1cm4gdGhpc31maWx0ZXIoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBpbiB0aGlzLmRhdGEpZm9yKGNvbnN0IGkgb2YgdGhpcy5kYXRhW25dKWUoaS52YWx1ZSl8fHQucHVzaChpKTtmb3IoY29uc3QgZSBvZiB0KXRoaXMucmVtb3ZlKGUudmFsdWUudGlsZUlELGUpfX1jbGFzcyBBZntjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5mdW5jPWUsdGhpcy5tYXNrPXQsdGhpcy5yYW5nZT1ufX1BZi5SZWFkT25seT0hMSxBZi5SZWFkV3JpdGU9ITAsQWYuZGlzYWJsZWQ9bmV3IEFmKDUxOSxBZi5SZWFkT25seSxbMCwxXSk7Y2xhc3MgUGZ7Y29uc3RydWN0b3IoZSx0LG4saSxyLG8pe3RoaXMudGVzdD1lLHRoaXMucmVmPXQsdGhpcy5tYXNrPW4sdGhpcy5mYWlsPWksdGhpcy5kZXB0aEZhaWw9cix0aGlzLnBhc3M9b319UGYuZGlzYWJsZWQ9bmV3IFBmKHtmdW5jOjUxOSxtYXNrOjB9LDAsMCw3NjgwLDc2ODAsNzY4MCk7Y2xhc3MgemZ7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuYmxlbmRGdW5jdGlvbj1lLHRoaXMuYmxlbmRDb2xvcj10LHRoaXMubWFzaz1ufX16Zi5SZXBsYWNlPVsxLDBdLHpmLmRpc2FibGVkPW5ldyB6Zih6Zi5SZXBsYWNlLEN0LnRyYW5zcGFyZW50LFshMSwhMSwhMSwhMV0pLHpmLnVuYmxlbmRlZD1uZXcgemYoemYuUmVwbGFjZSxDdC50cmFuc3BhcmVudCxbITAsITAsITAsITBdKSx6Zi5hbHBoYUJsZW5kZWQ9bmV3IHpmKFsxLDc3MV0sQ3QudHJhbnNwYXJlbnQsWyEwLCEwLCEwLCEwXSk7Y2xhc3MgRGZ7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuZW5hYmxlPWUsdGhpcy5tb2RlPXQsdGhpcy5mcm9udEZhY2U9bn19RGYuZGlzYWJsZWQ9bmV3IERmKCExLDEwMjksMjMwNSksRGYuYmFja0NDVz1uZXcgRGYoITAsMTAyOSwyMzA1KSxEZi5iYWNrQ1c9bmV3IERmKCEwLDEwMjksMjMwNCksRGYuZnJvbnRDVz1uZXcgRGYoITAsMTAyOCwyMzA0KSxEZi5mcm9udENDVz1uZXcgRGYoITAsMTAyOCwyMzA1KTtjbGFzcyBMZiBleHRlbmRzIFlle2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcigpLHRoaXMuaWQ9ZSx0aGlzLl9vbmx5U3ltYm9scz1uLHQub24oXCJkYXRhXCIsZT0+e1wic291cmNlXCI9PT1lLmRhdGFUeXBlJiZcIm1ldGFkYXRhXCI9PT1lLnNvdXJjZURhdGFUeXBlJiYodGhpcy5fc291cmNlTG9hZGVkPSEwKSx0aGlzLl9zb3VyY2VMb2FkZWQmJiF0aGlzLl9wYXVzZWQmJlwic291cmNlXCI9PT1lLmRhdGFUeXBlJiZcImNvbnRlbnRcIj09PWUuc291cmNlRGF0YVR5cGUmJih0aGlzLnJlbG9hZCgpLHRoaXMudHJhbnNmb3JtJiZ0aGlzLnVwZGF0ZSh0aGlzLnRyYW5zZm9ybSkpfSksdC5vbihcImVycm9yXCIsKCk9Pnt0aGlzLl9zb3VyY2VFcnJvcmVkPSEwfSksdGhpcy5fc291cmNlPXQsdGhpcy5fdGlsZXM9e30sdGhpcy5fY2FjaGU9bmV3IGtmKDAsdGhpcy5fdW5sb2FkVGlsZS5iaW5kKHRoaXMpKSx0aGlzLl90aW1lcnM9e30sdGhpcy5fY2FjaGVUaW1lcnM9e30sdGhpcy5fbWluVGlsZUNhY2hlU2l6ZT10Lm1pblRpbGVDYWNoZVNpemUsdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZT10Lm1heFRpbGVDYWNoZVNpemUsdGhpcy5fbG9hZGVkUGFyZW50VGlsZXM9e30sdGhpcy5fY292ZXJlZFRpbGVzPXt9LHRoaXMuX3N0YXRlPW5ldyBfZix0aGlzLl9pc1Jhc3Rlcj1cInJhc3RlclwiPT09dGhpcy5fc291cmNlLnR5cGV8fFwicmFzdGVyLWRlbVwiPT09dGhpcy5fc291cmNlLnR5cGV8fFwiY3VzdG9tXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmXCJyYXN0ZXJcIj09PXRoaXMuX3NvdXJjZS5fZGF0YVR5cGV9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLl9taW5UaWxlQ2FjaGVTaXplPXZvaWQgMD09PXRoaXMuX21pblRpbGVDYWNoZVNpemUmJmU/ZS5fbWluVGlsZUNhY2hlU2l6ZTp0aGlzLl9taW5UaWxlQ2FjaGVTaXplLHRoaXMuX21heFRpbGVDYWNoZVNpemU9dm9pZCAwPT09dGhpcy5fbWF4VGlsZUNhY2hlU2l6ZSYmZT9lLl9tYXhUaWxlQ2FjaGVTaXplOnRoaXMuX21heFRpbGVDYWNoZVNpemV9bG9hZGVkKCl7aWYodGhpcy5fc291cmNlRXJyb3JlZClyZXR1cm4hMDtpZighdGhpcy5fc291cmNlTG9hZGVkKXJldHVybiExO2lmKCF0aGlzLl9zb3VyY2UubG9hZGVkKCkpcmV0dXJuITE7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IHQ9dGhpcy5fdGlsZXNbZV07aWYoXCJsb2FkZWRcIiE9PXQuc3RhdGUmJlwiZXJyb3JlZFwiIT09dC5zdGF0ZSlyZXR1cm4hMX1yZXR1cm4hMH1nZXRTb3VyY2UoKXtyZXR1cm4gdGhpcy5fc291cmNlfXBhdXNlKCl7dGhpcy5fcGF1c2VkPSEwfXJlc3VtZSgpe2lmKCF0aGlzLl9wYXVzZWQpcmV0dXJuO2NvbnN0IGU9dGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU7dGhpcy5fcGF1c2VkPSExLHRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lPSExLGUmJnRoaXMucmVsb2FkKCksdGhpcy50cmFuc2Zvcm0mJnRoaXMudXBkYXRlKHRoaXMudHJhbnNmb3JtKX1fbG9hZFRpbGUoZSx0KXtyZXR1cm4gZS5pc1N5bWJvbFRpbGU9dGhpcy5fb25seVN5bWJvbHMsdGhpcy5fc291cmNlLmxvYWRUaWxlKGUsdCl9X3VubG9hZFRpbGUoZSl7aWYodGhpcy5fc291cmNlLnVubG9hZFRpbGUpcmV0dXJuIHRoaXMuX3NvdXJjZS51bmxvYWRUaWxlKGUsKCk9Pnt9KX1fYWJvcnRUaWxlKGUpe2lmKHRoaXMuX3NvdXJjZS5hYm9ydFRpbGUpcmV0dXJuIHRoaXMuX3NvdXJjZS5hYm9ydFRpbGUoZSwoKT0+e30pfXNlcmlhbGl6ZSgpe3JldHVybiB0aGlzLl9zb3VyY2Uuc2VyaWFsaXplKCl9cHJlcGFyZShlKXt0aGlzLl9zb3VyY2UucHJlcGFyZSYmdGhpcy5fc291cmNlLnByZXBhcmUoKSx0aGlzLl9zdGF0ZS5jb2FsZXNjZUNoYW5nZXModGhpcy5fdGlsZXMsdGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsKTtmb3IoY29uc3QgdCBpbiB0aGlzLl90aWxlcyl7Y29uc3Qgbj10aGlzLl90aWxlc1t0XTtuLnVwbG9hZChlKSxuLnByZXBhcmUodGhpcy5tYXAuc3R5bGUuaW1hZ2VNYW5hZ2VyKX19Z2V0SWRzKCl7cmV0dXJuIGsodGhpcy5fdGlsZXMpLm1hcChlPT5lLnRpbGVJRCkuc29ydChPZikubWFwKGU9PmUua2V5KX1nZXRSZW5kZXJhYmxlSWRzKGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IG4gaW4gdGhpcy5fdGlsZXMpdGhpcy5faXNJZFJlbmRlcmFibGUoK24sZSkmJnQucHVzaCh0aGlzLl90aWxlc1tuXSk7cmV0dXJuIGU/dC5zb3J0KChlLHQpPT57Y29uc3Qgbj1lLnRpbGVJRCxpPXQudGlsZUlELHI9bmV3IG0obi5jYW5vbmljYWwueCxuLmNhbm9uaWNhbC55KS5fcm90YXRlKHRoaXMudHJhbnNmb3JtLmFuZ2xlKSxvPW5ldyBtKGkuY2Fub25pY2FsLngsaS5jYW5vbmljYWwueSkuX3JvdGF0ZSh0aGlzLnRyYW5zZm9ybS5hbmdsZSk7cmV0dXJuIG4ub3ZlcnNjYWxlZFotaS5vdmVyc2NhbGVkWnx8by55LXIueXx8by54LXIueH0pLm1hcChlPT5lLnRpbGVJRC5rZXkpOnQubWFwKGU9PmUudGlsZUlEKS5zb3J0KE9mKS5tYXAoZT0+ZS5rZXkpfWhhc1JlbmRlcmFibGVQYXJlbnQoZSl7Y29uc3QgdD10aGlzLmZpbmRMb2FkZWRQYXJlbnQoZSwwKTtyZXR1cm4hIXQmJnRoaXMuX2lzSWRSZW5kZXJhYmxlKHQudGlsZUlELmtleSl9X2lzSWRSZW5kZXJhYmxlKGUsdCl7cmV0dXJuIHRoaXMuX3RpbGVzW2VdJiZ0aGlzLl90aWxlc1tlXS5oYXNEYXRhKCkmJiF0aGlzLl9jb3ZlcmVkVGlsZXNbZV0mJih0fHwhdGhpcy5fdGlsZXNbZV0uaG9sZGluZ0ZvckZhZGUoKSl9cmVsb2FkKCl7aWYodGhpcy5fcGF1c2VkKXRoaXMuX3Nob3VsZFJlbG9hZE9uUmVzdW1lPSEwO2Vsc2V7dGhpcy5fY2FjaGUucmVzZXQoKTtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcylcImVycm9yZWRcIiE9PXRoaXMuX3RpbGVzW2VdLnN0YXRlJiZ0aGlzLl9yZWxvYWRUaWxlKCtlLFwicmVsb2FkaW5nXCIpfX1fcmVsb2FkVGlsZShlLHQpe2NvbnN0IG49dGhpcy5fdGlsZXNbZV07biYmKFwibG9hZGluZ1wiIT09bi5zdGF0ZSYmKG4uc3RhdGU9dCksdGhpcy5fbG9hZFRpbGUobix0aGlzLl90aWxlTG9hZGVkLmJpbmQodGhpcyxuLGUsdCkpKX1fdGlsZUxvYWRlZChlLHQsbixpKXtpZihpKWlmKGUuc3RhdGU9XCJlcnJvcmVkXCIsNDA0IT09aS5zdGF0dXMpdGhpcy5fc291cmNlLmZpcmUobmV3IFhlKGkse3RpbGU6ZX0pKTtlbHNlIGlmKFwicmFzdGVyLWRlbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJnRoaXMudXNlZEZvclRlcnJhaW4mJnRoaXMubWFwLnBhaW50ZXIudGVycmFpbil7Y29uc3QgZT10aGlzLm1hcC5wYWludGVyLnRlcnJhaW47dGhpcy51cGRhdGUodGhpcy50cmFuc2Zvcm0sZS5nZXRTY2FsZWREZW1UaWxlU2l6ZSgpLCEwKSxlLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMuaWQpfWVsc2UgdGhpcy51cGRhdGUodGhpcy50cmFuc2Zvcm0pO2Vsc2UgZS50aW1lQWRkZWQ9V2Uubm93KCksXCJleHBpcmVkXCI9PT1uJiYoZS5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj0hMCksdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKHQsZSksXCJyYXN0ZXItZGVtXCI9PT10aGlzLl9zb3VyY2UudHlwZSYmZS5kZW0mJnRoaXMuX2JhY2tmaWxsREVNKGUpLHRoaXMuX3N0YXRlLmluaXRpYWxpemVUaWxlU3RhdGUoZSx0aGlzLm1hcD90aGlzLm1hcC5wYWludGVyOm51bGwpLHRoaXMuX3NvdXJjZS5maXJlKG5ldyBIZShcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIix0aWxlOmUsY29vcmQ6ZS50aWxlSUQsc291cmNlQ2FjaGVJZDp0aGlzLmlkfSkpfV9iYWNrZmlsbERFTShlKXtjb25zdCB0PXRoaXMuZ2V0UmVuZGVyYWJsZUlkcygpO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCByPXRbaV07aWYoZS5uZWlnaGJvcmluZ1RpbGVzJiZlLm5laWdoYm9yaW5nVGlsZXNbcl0pe2NvbnN0IHQ9dGhpcy5nZXRUaWxlQnlJRChyKTtuKGUsdCksbih0LGUpfX1mdW5jdGlvbiBuKGUsdCl7aWYoIWUuZGVtfHxlLmRlbS5ib3JkZXJSZWFkeSlyZXR1cm47ZS5uZWVkc0hpbGxzaGFkZVByZXBhcmU9ITAsZS5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITA7bGV0IG49dC50aWxlSUQuY2Fub25pY2FsLngtZS50aWxlSUQuY2Fub25pY2FsLng7Y29uc3QgaT10LnRpbGVJRC5jYW5vbmljYWwueS1lLnRpbGVJRC5jYW5vbmljYWwueSxyPU1hdGgucG93KDIsZS50aWxlSUQuY2Fub25pY2FsLnopLG89dC50aWxlSUQua2V5OzA9PT1uJiYwPT09aXx8TWF0aC5hYnMoaSk+MXx8KE1hdGguYWJzKG4pPjEmJigxPT09TWF0aC5hYnMobityKT9uKz1yOjE9PT1NYXRoLmFicyhuLXIpJiYobi09cikpLHQuZGVtJiZlLmRlbSYmKGUuZGVtLmJhY2tmaWxsQm9yZGVyKHQuZGVtLG4saSksZS5uZWlnaGJvcmluZ1RpbGVzJiZlLm5laWdoYm9yaW5nVGlsZXNbb10mJihlLm5laWdoYm9yaW5nVGlsZXNbb10uYmFja2ZpbGxlZD0hMCkpKX19Z2V0VGlsZShlKXtyZXR1cm4gdGhpcy5nZXRUaWxlQnlJRChlLmtleSl9Z2V0VGlsZUJ5SUQoZSl7cmV0dXJuIHRoaXMuX3RpbGVzW2VdfV9yZXRhaW5Mb2FkZWRDaGlsZHJlbihlLHQsbixpKXtmb3IoY29uc3QgciBpbiB0aGlzLl90aWxlcyl7bGV0IG89dGhpcy5fdGlsZXNbcl07aWYoaVtyXXx8IW8uaGFzRGF0YSgpfHxvLnRpbGVJRC5vdmVyc2NhbGVkWjw9dHx8by50aWxlSUQub3ZlcnNjYWxlZFo+biljb250aW51ZTtsZXQgYT1vLnRpbGVJRDtmb3IoO28mJm8udGlsZUlELm92ZXJzY2FsZWRaPnQrMTspe2NvbnN0IGU9by50aWxlSUQuc2NhbGVkVG8oby50aWxlSUQub3ZlcnNjYWxlZFotMSk7bz10aGlzLl90aWxlc1tlLmtleV0sbyYmby5oYXNEYXRhKCkmJihhPWUpfWxldCBzPWE7Zm9yKDtzLm92ZXJzY2FsZWRaPnQ7KWlmKHM9cy5zY2FsZWRUbyhzLm92ZXJzY2FsZWRaLTEpLGVbcy5rZXldKXtpW2Eua2V5XT1hO2JyZWFrfX19ZmluZExvYWRlZFBhcmVudChlLHQpe2lmKGUua2V5IGluIHRoaXMuX2xvYWRlZFBhcmVudFRpbGVzKXtjb25zdCBuPXRoaXMuX2xvYWRlZFBhcmVudFRpbGVzW2Uua2V5XTtyZXR1cm4gbiYmbi50aWxlSUQub3ZlcnNjYWxlZFo+PXQ/bjpudWxsfWZvcihsZXQgbj1lLm92ZXJzY2FsZWRaLTE7bj49dDtuLS0pe2NvbnN0IHQ9ZS5zY2FsZWRUbyhuKSxpPXRoaXMuX2dldExvYWRlZFRpbGUodCk7aWYoaSlyZXR1cm4gaX19X2dldExvYWRlZFRpbGUoZSl7Y29uc3QgdD10aGlzLl90aWxlc1tlLmtleV07cmV0dXJuIHQmJnQuaGFzRGF0YSgpP3Q6dGhpcy5fY2FjaGUuZ2V0QnlLZXkodGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkP2Uud3JhcHBlZCgpLmtleTplLmNhbm9uaWNhbC5rZXkpfXVwZGF0ZUNhY2hlU2l6ZShlLHQpe3Q9dHx8dGhpcy5fc291cmNlLnRpbGVTaXplO2NvbnN0IG49TWF0aC5jZWlsKGUud2lkdGgvdCkrMSxpPU1hdGguY2VpbChlLmhlaWdodC90KSsxLHI9TWF0aC5mbG9vcihuKmkqNSksbz1cIm51bWJlclwiPT10eXBlb2YgdGhpcy5fbWluVGlsZUNhY2hlU2l6ZT9NYXRoLm1heCh0aGlzLl9taW5UaWxlQ2FjaGVTaXplLHIpOnIsYT1cIm51bWJlclwiPT10eXBlb2YgdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZT9NYXRoLm1pbih0aGlzLl9tYXhUaWxlQ2FjaGVTaXplLG8pOm87dGhpcy5fY2FjaGUuc2V0TWF4U2l6ZShhKX1oYW5kbGVXcmFwSnVtcChlKXtjb25zdCB0PU1hdGgucm91bmQoKGUtKHZvaWQgMD09PXRoaXMuX3ByZXZMbmc/ZTp0aGlzLl9wcmV2TG5nKSkvMzYwKTtpZih0aGlzLl9wcmV2TG5nPWUsdCl7Y29uc3QgZT17fTtmb3IoY29uc3QgbiBpbiB0aGlzLl90aWxlcyl7Y29uc3QgaT10aGlzLl90aWxlc1tuXTtpLnRpbGVJRD1pLnRpbGVJRC51bndyYXBUbyhpLnRpbGVJRC53cmFwK3QpLGVbaS50aWxlSUQua2V5XT1pfXRoaXMuX3RpbGVzPWU7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGltZXJzKWNsZWFyVGltZW91dCh0aGlzLl90aW1lcnNbZV0pLGRlbGV0ZSB0aGlzLl90aW1lcnNbZV07Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpdGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKCtlLHRoaXMuX3RpbGVzW2VdKX19dXBkYXRlKGUsdCxuKXtpZih0aGlzLnRyYW5zZm9ybT1lLCF0aGlzLl9zb3VyY2VMb2FkZWR8fHRoaXMuX3BhdXNlZHx8dGhpcy50cmFuc2Zvcm0uZnJlZXplVGlsZUNvdmVyYWdlKXJldHVybjtpZih0aGlzLnVzZWRGb3JUZXJyYWluJiYhbilyZXR1cm47bGV0IGk7dGhpcy51cGRhdGVDYWNoZVNpemUoZSx0KSxcImdsb2JlXCIhPT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJnRoaXMuaGFuZGxlV3JhcEp1bXAodGhpcy50cmFuc2Zvcm0uY2VudGVyLmxuZyksdGhpcy5fY292ZXJlZFRpbGVzPXt9LHRoaXMudXNlZHx8dGhpcy51c2VkRm9yVGVycmFpbj90aGlzLl9zb3VyY2UudGlsZUlEP2k9ZS5nZXRWaXNpYmxlVW53cmFwcGVkQ29vcmRpbmF0ZXModGhpcy5fc291cmNlLnRpbGVJRCkubWFwKGU9Pm5ldyBEdShlLmNhbm9uaWNhbC56LGUud3JhcCxlLmNhbm9uaWNhbC56LGUuY2Fub25pY2FsLngsZS5jYW5vbmljYWwueSkpOihpPWUuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6dHx8dGhpcy5fc291cmNlLnRpbGVTaXplLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSYmIW4scmVwYXJzZU92ZXJzY2FsZWQ6dGhpcy5fc291cmNlLnJlcGFyc2VPdmVyc2NhbGVkLGlzVGVycmFpbkRFTTp0aGlzLnVzZWRGb3JUZXJyYWlufSksdGhpcy5fc291cmNlLmhhc1RpbGUmJihpPWkuZmlsdGVyKGU9PnRoaXMuX3NvdXJjZS5oYXNUaWxlKGUpKSkpOmk9W107Y29uc3Qgcj10aGlzLl91cGRhdGVSZXRhaW5lZFRpbGVzKGkpO2lmKFJmKHRoaXMuX3NvdXJjZS50eXBlKSYmMCE9PWkubGVuZ3RoKXtjb25zdCBlPXt9LHQ9e30sbj1PYmplY3Qua2V5cyhyKTtmb3IoY29uc3QgaSBvZiBuKXtjb25zdCBuPXJbaV0sbz10aGlzLl90aWxlc1tpXTtpZighb3x8by5mYWRlRW5kVGltZSYmby5mYWRlRW5kVGltZTw9V2Uubm93KCkpY29udGludWU7Y29uc3QgYT10aGlzLmZpbmRMb2FkZWRQYXJlbnQobixNYXRoLm1heChuLm92ZXJzY2FsZWRaLUxmLm1heE92ZXJ6b29taW5nLHRoaXMuX3NvdXJjZS5taW56b29tKSk7YSYmKHRoaXMuX2FkZFRpbGUoYS50aWxlSUQpLGVbYS50aWxlSUQua2V5XT1hLnRpbGVJRCksdFtpXT1ufWNvbnN0IG89aVtpLmxlbmd0aC0xXS5vdmVyc2NhbGVkWjtmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl7Y29uc3Qgbj10aGlzLl90aWxlc1tlXTtpZihyW2VdfHwhbi5oYXNEYXRhKCkpY29udGludWU7bGV0IGk9bi50aWxlSUQ7Zm9yKDtpLm92ZXJzY2FsZWRaPm87KXtpPWkuc2NhbGVkVG8oaS5vdmVyc2NhbGVkWi0xKTtjb25zdCBvPXRoaXMuX3RpbGVzW2kua2V5XTtpZihvJiZvLmhhc0RhdGEoKSYmdFtpLmtleV0pe3JbZV09bi50aWxlSUQ7YnJlYWt9fX1mb3IoY29uc3QgdCBpbiBlKXJbdF18fCh0aGlzLl9jb3ZlcmVkVGlsZXNbdF09ITAsclt0XT1lW3RdKX1mb3IoY29uc3QgZSBpbiByKXRoaXMuX3RpbGVzW2VdLmNsZWFyRmFkZUhvbGQoKTtjb25zdCBvPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgaSBpbiBlKWkgaW4gdHx8bi5wdXNoKGkpO3JldHVybiBufSh0aGlzLl90aWxlcyxyKTtmb3IoY29uc3QgZSBvZiBvKXtjb25zdCB0PXRoaXMuX3RpbGVzW2VdO3QuaGFzU3ltYm9sQnVja2V0cyYmIXQuaG9sZGluZ0ZvckZhZGUoKT90LnNldEhvbGREdXJhdGlvbih0aGlzLm1hcC5fZmFkZUR1cmF0aW9uKTp0Lmhhc1N5bWJvbEJ1Y2tldHMmJiF0LnN5bWJvbEZhZGVGaW5pc2hlZCgpfHx0aGlzLl9yZW1vdmVUaWxlKCtlKX10aGlzLl91cGRhdGVMb2FkZWRQYXJlbnRUaWxlQ2FjaGUoKSx0aGlzLl9vbmx5U3ltYm9scyYmdGhpcy5fc291cmNlLmFmdGVyVXBkYXRlJiZ0aGlzLl9zb3VyY2UuYWZ0ZXJVcGRhdGUoKX1yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpdGhpcy5fdGlsZXNbZV0uaG9sZGluZ0ZvckZhZGUoKSYmdGhpcy5fcmVtb3ZlVGlsZSgrZSl9X3VwZGF0ZVJldGFpbmVkVGlsZXMoZSl7Y29uc3QgdD17fTtpZigwPT09ZS5sZW5ndGgpcmV0dXJuIHQ7Y29uc3Qgbj17fSxpPWUucmVkdWNlKChlLHQpPT5NYXRoLm1pbihlLHQub3ZlcnNjYWxlZFopLDEvMCkscj1lWzBdLm92ZXJzY2FsZWRaLG89TWF0aC5tYXgoci1MZi5tYXhPdmVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSksYT1NYXRoLm1heChyK0xmLm1heFVuZGVyem9vbWluZyx0aGlzLl9zb3VyY2UubWluem9vbSkscz17fTtmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBlPXRoaXMuX2FkZFRpbGUobik7dFtuLmtleV09bixlLmhhc0RhdGEoKXx8aTx0aGlzLl9zb3VyY2UubWF4em9vbSYmKHNbbi5rZXldPW4pfXRoaXMuX3JldGFpbkxvYWRlZENoaWxkcmVuKHMsaSxhLHQpO2Zvcihjb25zdCBpIG9mIGUpe2xldCBlPXRoaXMuX3RpbGVzW2kua2V5XTtpZihlLmhhc0RhdGEoKSljb250aW51ZTtpZihpLmNhbm9uaWNhbC56Pj10aGlzLl9zb3VyY2UubWF4em9vbSl7Y29uc3QgZT1pLmNoaWxkcmVuKHRoaXMuX3NvdXJjZS5tYXh6b29tKVswXSxuPXRoaXMuZ2V0VGlsZShlKTtpZihuJiZuLmhhc0RhdGEoKSl7dFtlLmtleV09ZTtjb250aW51ZX19ZWxzZXtjb25zdCBlPWkuY2hpbGRyZW4odGhpcy5fc291cmNlLm1heHpvb20pO2lmKHRbZVswXS5rZXldJiZ0W2VbMV0ua2V5XSYmdFtlWzJdLmtleV0mJnRbZVszXS5rZXldKWNvbnRpbnVlfWxldCByPWUud2FzUmVxdWVzdGVkKCk7Zm9yKGxldCBhPWkub3ZlcnNjYWxlZFotMTthPj1vOy0tYSl7Y29uc3Qgbz1pLnNjYWxlZFRvKGEpO2lmKG5bby5rZXldKWJyZWFrO2lmKG5bby5rZXldPSEwLGU9dGhpcy5nZXRUaWxlKG8pLCFlJiZyJiYoZT10aGlzLl9hZGRUaWxlKG8pKSxlJiYodFtvLmtleV09byxyPWUud2FzUmVxdWVzdGVkKCksZS5oYXNEYXRhKCkpKWJyZWFrfX1yZXR1cm4gdH1fdXBkYXRlTG9hZGVkUGFyZW50VGlsZUNhY2hlKCl7dGhpcy5fbG9hZGVkUGFyZW50VGlsZXM9e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IHQ9W107bGV0IG4saT10aGlzLl90aWxlc1tlXS50aWxlSUQ7Zm9yKDtpLm92ZXJzY2FsZWRaPjA7KXtpZihpLmtleSBpbiB0aGlzLl9sb2FkZWRQYXJlbnRUaWxlcyl7bj10aGlzLl9sb2FkZWRQYXJlbnRUaWxlc1tpLmtleV07YnJlYWt9dC5wdXNoKGkua2V5KTtjb25zdCBlPWkuc2NhbGVkVG8oaS5vdmVyc2NhbGVkWi0xKTtpZihuPXRoaXMuX2dldExvYWRlZFRpbGUoZSksbilicmVhaztpPWV9Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLl9sb2FkZWRQYXJlbnRUaWxlc1tlXT1ufX1fYWRkVGlsZShlKXtsZXQgdD10aGlzLl90aWxlc1tlLmtleV07aWYodClyZXR1cm4gdDt0PXRoaXMuX2NhY2hlLmdldEFuZFJlbW92ZShlKSx0JiYodGhpcy5fc2V0VGlsZVJlbG9hZFRpbWVyKGUua2V5LHQpLHQudGlsZUlEPWUsdGhpcy5fc3RhdGUuaW5pdGlhbGl6ZVRpbGVTdGF0ZSh0LHRoaXMubWFwP3RoaXMubWFwLnBhaW50ZXI6bnVsbCksdGhpcy5fY2FjaGVUaW1lcnNbZS5rZXldJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2NhY2hlVGltZXJzW2Uua2V5XSksZGVsZXRlIHRoaXMuX2NhY2hlVGltZXJzW2Uua2V5XSx0aGlzLl9zZXRUaWxlUmVsb2FkVGltZXIoZS5rZXksdCkpKTtjb25zdCBuPUJvb2xlYW4odCk7aWYoIW4pe2NvbnN0IG49dGhpcy5tYXA/dGhpcy5tYXAucGFpbnRlcjpudWxsO3Q9bmV3IHlmKGUsdGhpcy5fc291cmNlLnRpbGVTaXplKmUub3ZlcnNjYWxlRmFjdG9yKCksdGhpcy50cmFuc2Zvcm0udGlsZVpvb20sbix0aGlzLl9pc1Jhc3RlciksdGhpcy5fbG9hZFRpbGUodCx0aGlzLl90aWxlTG9hZGVkLmJpbmQodGhpcyx0LGUua2V5LHQuc3RhdGUpKX1yZXR1cm4gdD8odC51c2VzKyssdGhpcy5fdGlsZXNbZS5rZXldPXQsbnx8dGhpcy5fc291cmNlLmZpcmUobmV3IEhlKFwiZGF0YWxvYWRpbmdcIix7dGlsZTp0LGNvb3JkOnQudGlsZUlELGRhdGFUeXBlOlwic291cmNlXCJ9KSksdCk6bnVsbH1fc2V0VGlsZVJlbG9hZFRpbWVyKGUsdCl7ZSBpbiB0aGlzLl90aW1lcnMmJihjbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW2VdKSxkZWxldGUgdGhpcy5fdGltZXJzW2VdKTtjb25zdCBuPXQuZ2V0RXhwaXJ5VGltZW91dCgpO24mJih0aGlzLl90aW1lcnNbZV09c2V0VGltZW91dCgoKT0+e3RoaXMuX3JlbG9hZFRpbGUoZSxcImV4cGlyZWRcIiksZGVsZXRlIHRoaXMuX3RpbWVyc1tlXX0sbikpfV9yZW1vdmVUaWxlKGUpe2NvbnN0IHQ9dGhpcy5fdGlsZXNbZV07dCYmKHQudXNlcy0tLGRlbGV0ZSB0aGlzLl90aWxlc1tlXSx0aGlzLl90aW1lcnNbZV0mJihjbGVhclRpbWVvdXQodGhpcy5fdGltZXJzW2VdKSxkZWxldGUgdGhpcy5fdGltZXJzW2VdKSx0LnVzZXM+MHx8KHQuaGFzRGF0YSgpJiZcInJlbG9hZGluZ1wiIT09dC5zdGF0ZT90aGlzLl9jYWNoZS5hZGQodC50aWxlSUQsdCx0LmdldEV4cGlyeVRpbWVvdXQoKSk6KHQuYWJvcnRlZD0hMCx0aGlzLl9hYm9ydFRpbGUodCksdGhpcy5fdW5sb2FkVGlsZSh0KSkpKX1jbGVhclRpbGVzKCl7dGhpcy5fc2hvdWxkUmVsb2FkT25SZXN1bWU9ITEsdGhpcy5fcGF1c2VkPSExO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKXRoaXMuX3JlbW92ZVRpbGUoK2UpO3RoaXMuX3NvdXJjZS5fY2xlYXImJnRoaXMuX3NvdXJjZS5fY2xlYXIoKSx0aGlzLl9jYWNoZS5yZXNldCgpLHRoaXMubWFwJiZ0aGlzLnVzZWRGb3JUZXJyYWluJiZ0aGlzLm1hcC5wYWludGVyLnRlcnJhaW4mJnRoaXMubWFwLnBhaW50ZXIudGVycmFpbi5yZXNldFRpbGVMb29rdXBDYWNoZSh0aGlzLmlkKX10aWxlc0luKGUsdCxuKXtjb25zdCBpPVtdLHI9dGhpcy50cmFuc2Zvcm07aWYoIXIpcmV0dXJuIGk7Y29uc3Qgbz1cImdsb2JlXCI9PT1yLnByb2plY3Rpb24ubmFtZSxhPXZzKHIuY2VudGVyLmxuZyk7Zm9yKGNvbnN0IHMgaW4gdGhpcy5fdGlsZXMpe2NvbnN0IGw9dGhpcy5fdGlsZXNbc107aWYobiYmbC5jbGVhclF1ZXJ5RGVidWdWaXooKSxsLmhvbGRpbmdGb3JGYWRlKCkpY29udGludWU7bGV0IGM7aWYobyl7Y29uc3QgZT1sLnRpbGVJRC5jYW5vbmljYWw7aWYoMD09PWUueil7Y29uc3QgdD1bTWF0aC5hYnMoUyhhLC4uLkJmKGUsLTEpKS1hKSxNYXRoLmFicyhTKGEsLi4uQmYoZSwxKSktYSldO2M9WzAsMip0LmluZGV4T2YoTWF0aC5taW4oLi4udCkpLTFdfWVsc2V7Y29uc3QgdD1bTWF0aC5hYnMoUyhhLC4uLkJmKGUsLTEpKS1hKSxNYXRoLmFicyhTKGEsLi4uQmYoZSwwKSktYSksTWF0aC5hYnMoUyhhLC4uLkJmKGUsMSkpLWEpXTtjPVt0LmluZGV4T2YoTWF0aC5taW4oLi4udCkpLTFdfX1lbHNlIGM9WzBdO2Zvcihjb25zdCBuIG9mIGMpe2NvbnN0IG89ZS5jb250YWluc1RpbGUobCxyLHQsbik7byYmaS5wdXNoKG8pfX1yZXR1cm4gaX1nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoZSl7Y29uc3QgdD10aGlzLmdldFJlbmRlcmFibGVJZHMoZSkubWFwKGU9PnRoaXMuX3RpbGVzW2VdLnRpbGVJRCk7Zm9yKGNvbnN0IGUgb2YgdCllLnByb2pNYXRyaXg9dGhpcy50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeChlLnRvVW53cmFwcGVkKCkpO3JldHVybiB0fWhhc1RyYW5zaXRpb24oKXtpZih0aGlzLl9zb3VyY2UuaGFzVHJhbnNpdGlvbigpKXJldHVybiEwO2lmKFJmKHRoaXMuX3NvdXJjZS50eXBlKSlmb3IoY29uc3QgZSBpbiB0aGlzLl90aWxlcyl7Y29uc3QgdD10aGlzLl90aWxlc1tlXTtpZih2b2lkIDAhPT10LmZhZGVFbmRUaW1lJiZ0LmZhZGVFbmRUaW1lPj1XZS5ub3coKSlyZXR1cm4hMH1yZXR1cm4hMX1zZXRGZWF0dXJlU3RhdGUoZSx0LG4pe3RoaXMuX3N0YXRlLnVwZGF0ZVN0YXRlKGU9ZXx8XCJfZ2VvanNvblRpbGVMYXllclwiLHQsbil9cmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCxuKXt0aGlzLl9zdGF0ZS5yZW1vdmVGZWF0dXJlU3RhdGUoZT1lfHxcIl9nZW9qc29uVGlsZUxheWVyXCIsdCxuKX1nZXRGZWF0dXJlU3RhdGUoZSx0KXtyZXR1cm4gdGhpcy5fc3RhdGUuZ2V0U3RhdGUoZT1lfHxcIl9nZW9qc29uVGlsZUxheWVyXCIsdCl9c2V0RGVwZW5kZW5jaWVzKGUsdCxuKXtjb25zdCBpPXRoaXMuX3RpbGVzW2VdO2kmJmkuc2V0RGVwZW5kZW5jaWVzKHQsbil9cmVsb2FkVGlsZXNGb3JEZXBlbmRlbmNpZXMoZSx0KXtmb3IoY29uc3QgbiBpbiB0aGlzLl90aWxlcyl0aGlzLl90aWxlc1tuXS5oYXNEZXBlbmRlbmN5KGUsdCkmJnRoaXMuX3JlbG9hZFRpbGUoK24sXCJyZWxvYWRpbmdcIik7dGhpcy5fY2FjaGUuZmlsdGVyKG49PiFuLmhhc0RlcGVuZGVuY3koZSx0KSl9X3ByZWxvYWRUaWxlcyhlLHQpe2NvbnN0IG49bmV3IE1hcCxpPUFycmF5LmlzQXJyYXkoZSk/ZTpbZV0scj10aGlzLm1hcC5wYWludGVyLnRlcnJhaW4sbz10aGlzLnVzZWRGb3JUZXJyYWluJiZyP3IuZ2V0U2NhbGVkRGVtVGlsZVNpemUoKTp0aGlzLl9zb3VyY2UudGlsZVNpemU7Zm9yKGNvbnN0IGUgb2YgaSl7Y29uc3QgdD1lLmNvdmVyaW5nVGlsZXMoe3RpbGVTaXplOm8sbWluem9vbTp0aGlzLl9zb3VyY2UubWluem9vbSxtYXh6b29tOnRoaXMuX3NvdXJjZS5tYXh6b29tLHJvdW5kWm9vbTp0aGlzLl9zb3VyY2Uucm91bmRab29tJiYhdGhpcy51c2VkRm9yVGVycmFpbixyZXBhcnNlT3ZlcnNjYWxlZDp0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWQsaXNUZXJyYWluREVNOnRoaXMudXNlZEZvclRlcnJhaW59KTtmb3IoY29uc3QgZSBvZiB0KW4uc2V0KGUua2V5LGUpO3RoaXMudXNlZEZvclRlcnJhaW4mJmUudXBkYXRlRWxldmF0aW9uKCExKX1DKEFycmF5LmZyb20obi52YWx1ZXMoKSksKGUsdCk9Pntjb25zdCBuPW5ldyB5ZihlLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSplLm92ZXJzY2FsZUZhY3RvcigpLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLHRoaXMubWFwLnBhaW50ZXIsdGhpcy5faXNSYXN0ZXIpO3RoaXMuX2xvYWRUaWxlKG4sZT0+e1wicmFzdGVyLWRlbVwiPT09dGhpcy5fc291cmNlLnR5cGUmJm4uZGVtJiZ0aGlzLl9iYWNrZmlsbERFTShuKSx0KGUsbil9KX0sdCl9fWZ1bmN0aW9uIE9mKGUsdCl7Y29uc3Qgbj1NYXRoLmFicygyKmUud3JhcCktKyhlLndyYXA8MCksaT1NYXRoLmFicygyKnQud3JhcCktKyh0LndyYXA8MCk7cmV0dXJuIGUub3ZlcnNjYWxlZFotdC5vdmVyc2NhbGVkWnx8aS1ufHx0LmNhbm9uaWNhbC55LWUuY2Fub25pY2FsLnl8fHQuY2Fub25pY2FsLngtZS5jYW5vbmljYWwueH1mdW5jdGlvbiBSZihlKXtyZXR1cm5cInJhc3RlclwiPT09ZXx8XCJpbWFnZVwiPT09ZXx8XCJ2aWRlb1wiPT09ZXx8XCJjdXN0b21cIj09PWV9ZnVuY3Rpb24gQmYoZSx0KXtjb25zdCBuPTE8PGUuejtyZXR1cm5bZS54L24rdCwoZS54KzEpL24rdF19TGYubWF4T3Zlcnpvb21pbmc9MTAsTGYubWF4VW5kZXJ6b29taW5nPTM7Y2xhc3MgamZ7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuX2RlbVRpbGU9ZSx0aGlzLl9kZW09dGhpcy5fZGVtVGlsZS5kZW0sdGhpcy5fc2NhbGU9dCx0aGlzLl9vZmZzZXQ9bn1zdGF0aWMgY3JlYXRlKGUsdCxuKXtjb25zdCBpPW58fGUuZmluZERFTVRpbGVGb3IodCk7aWYoIWl8fCFpLmRlbSlyZXR1cm47Y29uc3Qgcj1pLmRlbSxvPWkudGlsZUlELGE9MTw8dC5jYW5vbmljYWwuei1vLmNhbm9uaWNhbC56O3JldHVybiBuZXcgamYoaSxpLnRpbGVTaXplL3BzL2EsWyh0LmNhbm9uaWNhbC54L2Etby5jYW5vbmljYWwueCkqci5kaW0sKHQuY2Fub25pY2FsLnkvYS1vLmNhbm9uaWNhbC55KSpyLmRpbV0pfXRpbGVDb29yZFRvUGl4ZWwoZSx0KXtjb25zdCBuPXQqdGhpcy5fc2NhbGUrdGhpcy5fb2Zmc2V0WzFdLGk9TWF0aC5mbG9vcihlKnRoaXMuX3NjYWxlK3RoaXMuX29mZnNldFswXSkscj1NYXRoLmZsb29yKG4pO3JldHVybiBuZXcgbShpLHIpfWdldEVsZXZhdGlvbkF0KGUsdCxuLGkpe2NvbnN0IHI9ZSp0aGlzLl9zY2FsZSt0aGlzLl9vZmZzZXRbMF0sbz10KnRoaXMuX3NjYWxlK3RoaXMuX29mZnNldFsxXSxhPU1hdGguZmxvb3Iocikscz1NYXRoLmZsb29yKG8pLGw9dGhpcy5fZGVtO3JldHVybiBpPSEhaSxuP0NuKENuKGwuZ2V0KGEscyxpKSxsLmdldChhLHMrMSxpKSxvLXMpLENuKGwuZ2V0KGErMSxzLGkpLGwuZ2V0KGErMSxzKzEsaSksby1zKSxyLWEpOmwuZ2V0KGEscyxpKX1nZXRFbGV2YXRpb25BdFBpeGVsKGUsdCxuKXtyZXR1cm4gdGhpcy5fZGVtLmdldChlLHQsISFuKX1nZXRNZXRlclRvREVNKGUpe3JldHVybigxPDx0aGlzLl9kZW1UaWxlLnRpbGVJRC5jYW5vbmljYWwueikqYnMoMSxlKSp0aGlzLl9kZW0uc3RyaWRlfX1jbGFzcyBGZntjb25zdHJ1Y3RvcihlLHQpe3RoaXMudGlsZUlEPWUsdGhpcy54PWUuY2Fub25pY2FsLngsdGhpcy55PWUuY2Fub25pY2FsLnksdGhpcy56PWUuY2Fub25pY2FsLnosdGhpcy5ncmlkPW5ldyBrcihwcywxNiwwKSx0aGlzLmZlYXR1cmVJbmRleEFycmF5PW5ldyBBYSx0aGlzLnByb21vdGVJZD10fWluc2VydChlLHQsbixpLHIsbz0wKXtjb25zdCBhPXRoaXMuZmVhdHVyZUluZGV4QXJyYXkubGVuZ3RoO3RoaXMuZmVhdHVyZUluZGV4QXJyYXkuZW1wbGFjZUJhY2sobixpLHIsbyk7Y29uc3Qgcz10aGlzLmdyaWQ7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aDtlKyspe2NvbnN0IG49dFtlXSxpPVsxLzAsMS8wLC0xLzAsLTEvMF07Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspe2NvbnN0IHQ9bltlXTtpWzBdPU1hdGgubWluKGlbMF0sdC54KSxpWzFdPU1hdGgubWluKGlbMV0sdC55KSxpWzJdPU1hdGgubWF4KGlbMl0sdC54KSxpWzNdPU1hdGgubWF4KGlbM10sdC55KX1pWzBdPHBzJiZpWzFdPHBzJiZpWzJdPj0wJiZpWzNdPj0wJiZzLmluc2VydChhLGlbMF0saVsxXSxpWzJdLGlbM10pfX1sb2FkVlRMYXllcnMoKXtpZighdGhpcy52dExheWVycyl7dGhpcy52dExheWVycz1uZXcgaHUobmV3IGRoKHRoaXMucmF3VGlsZURhdGEpKS5sYXllcnMsdGhpcy5zb3VyY2VMYXllckNvZGVyPW5ldyBzZih0aGlzLnZ0TGF5ZXJzP09iamVjdC5rZXlzKHRoaXMudnRMYXllcnMpLnNvcnQoKTpbXCJfZ2VvanNvblRpbGVMYXllclwiXSksdGhpcy52dEZlYXR1cmVzPXt9O2Zvcihjb25zdCBlIGluIHRoaXMudnRMYXllcnMpdGhpcy52dEZlYXR1cmVzW2VdPVtdfXJldHVybiB0aGlzLnZ0TGF5ZXJzfXF1ZXJ5KGUsdCxuLGkpe3RoaXMubG9hZFZUTGF5ZXJzKCk7Y29uc3Qgcj1lLnBhcmFtc3x8e30sbz1LaShyLmZpbHRlciksYT1lLnRpbGVSZXN1bHQscz1lLnRyYW5zZm9ybSxsPWEuYnVmZmVyZWRUaWxlc3BhY2VCb3VuZHMsYz10aGlzLmdyaWQucXVlcnkobC5taW4ueCxsLm1pbi55LGwubWF4LngsbC5tYXgueSwoZSx0LG4saSk9PllzKGEuYnVmZmVyZWRUaWxlc3BhY2VHZW9tZXRyeSxlLHQsbixpKSk7Yy5zb3J0KFVmKTtsZXQgdT1udWxsO3MuZWxldmF0aW9uJiZjLmxlbmd0aD4wJiYodT1qZi5jcmVhdGUocy5lbGV2YXRpb24sdGhpcy50aWxlSUQpKTtjb25zdCBoPXt9O2xldCBkO2ZvcihsZXQgcz0wO3M8Yy5sZW5ndGg7cysrKXtjb25zdCBsPWNbc107aWYobD09PWQpY29udGludWU7ZD1sO2NvbnN0IHA9dGhpcy5mZWF0dXJlSW5kZXhBcnJheS5nZXQobCk7bGV0IGY9bnVsbDt0aGlzLmxvYWRNYXRjaGluZ0ZlYXR1cmUoaCxwLG8sci5sYXllcnMsci5hdmFpbGFibGVJbWFnZXMsdCxuLGksKHQsbixpLHI9MCk9PihmfHwoZj1Pcyh0LHRoaXMudGlsZUlELmNhbm9uaWNhbCxlLnRpbGVUcmFuc2Zvcm0pKSxuLnF1ZXJ5SW50ZXJzZWN0c0ZlYXR1cmUoYSx0LGksZix0aGlzLnosZS50cmFuc2Zvcm0sZS5waXhlbFBvc01hdHJpeCx1LHIpKSl9cmV0dXJuIGh9bG9hZE1hdGNoaW5nRmVhdHVyZShlLHQsbixpLHIsbyxhLHMsbCl7Y29uc3R7ZmVhdHVyZUluZGV4OmMsYnVja2V0SW5kZXg6dSxzb3VyY2VMYXllckluZGV4OmgsbGF5b3V0VmVydGV4QXJyYXlPZmZzZXQ6ZH09dCxwPXRoaXMuYnVja2V0TGF5ZXJJRHNbdV07aWYoaSYmIWZ1bmN0aW9uKGUsdCl7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspaWYodC5pbmRleE9mKGVbbl0pPj0wKXJldHVybiEwO3JldHVybiExfShpLHApKXJldHVybjtjb25zdCBmPXRoaXMuc291cmNlTGF5ZXJDb2Rlci5kZWNvZGUoaCksbT10aGlzLnZ0TGF5ZXJzW2ZdLmZlYXR1cmUoYyk7aWYobi5uZWVkR2VvbWV0cnkpe2NvbnN0IGU9UnMobSwhMCk7aWYoIW4uZmlsdGVyKG5ldyBQbyh0aGlzLnRpbGVJRC5vdmVyc2NhbGVkWiksZSx0aGlzLnRpbGVJRC5jYW5vbmljYWwpKXJldHVybn1lbHNlIGlmKCFuLmZpbHRlcihuZXcgUG8odGhpcy50aWxlSUQub3ZlcnNjYWxlZFopLG0pKXJldHVybjtjb25zdCBnPXRoaXMuZ2V0SWQobSxmKTtmb3IobGV0IHQ9MDt0PHAubGVuZ3RoO3QrKyl7Y29uc3Qgbj1wW3RdO2lmKGkmJmkuaW5kZXhPZihuKTwwKWNvbnRpbnVlO2NvbnN0IHU9b1tuXTtpZighdSljb250aW51ZTtsZXQgaD17fTt2b2lkIDAhPT1nJiZzJiYoaD1zLmdldFN0YXRlKHUuc291cmNlTGF5ZXJ8fFwiX2dlb2pzb25UaWxlTGF5ZXJcIixnKSk7Y29uc3QgZj1BKHt9LGFbbl0pO2YucGFpbnQ9TmYoZi5wYWludCx1LnBhaW50LG0saCxyKSxmLmxheW91dD1OZihmLmxheW91dCx1LmxheW91dCxtLGgscik7Y29uc3QgeT0hbHx8bChtLHUsaCxkKTtpZigheSljb250aW51ZTtjb25zdCBfPW5ldyBjZihtLHRoaXMueix0aGlzLngsdGhpcy55LGcpO18ubGF5ZXI9ZjtsZXQgdj1lW25dO3ZvaWQgMD09PXYmJih2PWVbbl09W10pLHYucHVzaCh7ZmVhdHVyZUluZGV4OmMsZmVhdHVyZTpfLGludGVyc2VjdGlvblo6eX0pfX1sb29rdXBTeW1ib2xGZWF0dXJlcyhlLHQsbixpLHIsbyxhLHMpe2NvbnN0IGw9e307dGhpcy5sb2FkVlRMYXllcnMoKTtjb25zdCBjPUtpKHIpO2Zvcihjb25zdCByIG9mIGUpdGhpcy5sb2FkTWF0Y2hpbmdGZWF0dXJlKGwse2J1Y2tldEluZGV4Om4sc291cmNlTGF5ZXJJbmRleDppLGZlYXR1cmVJbmRleDpyLGxheW91dFZlcnRleEFycmF5T2Zmc2V0OjB9LGMsbyxhLHMsdCk7cmV0dXJuIGx9bG9hZEZlYXR1cmUoZSl7Y29uc3R7ZmVhdHVyZUluZGV4OnQsc291cmNlTGF5ZXJJbmRleDpufT1lO3RoaXMubG9hZFZUTGF5ZXJzKCk7Y29uc3QgaT10aGlzLnNvdXJjZUxheWVyQ29kZXIuZGVjb2RlKG4pLHI9dGhpcy52dEZlYXR1cmVzW2ldO2lmKHJbdF0pcmV0dXJuIHJbdF07Y29uc3Qgbz10aGlzLnZ0TGF5ZXJzW2ldLmZlYXR1cmUodCk7cmV0dXJuIHJbdF09byxvfWhhc0xheWVyKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuYnVja2V0TGF5ZXJJRHMpZm9yKGNvbnN0IG4gb2YgdClpZihlPT09bilyZXR1cm4hMDtyZXR1cm4hMX1nZXRJZChlLHQpe2xldCBuPWUuaWQ7aWYodGhpcy5wcm9tb3RlSWQpe2NvbnN0IGk9XCJzdHJpbmdcIj09dHlwZW9mIHRoaXMucHJvbW90ZUlkP3RoaXMucHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkW3RdO251bGwhPWkmJihuPWUucHJvcGVydGllc1tpXSksXCJib29sZWFuXCI9PXR5cGVvZiBuJiYobj1OdW1iZXIobikpfXJldHVybiBufX1mdW5jdGlvbiBOZihlLHQsbixpLHIpe3JldHVybiBqKGUsKGUsbyk9Pntjb25zdCBhPXQgaW5zdGFuY2VvZiBGbz90LmdldChvKTpudWxsO3JldHVybiBhJiZhLmV2YWx1YXRlP2EuZXZhbHVhdGUobixpLHIpOmF9KX1mdW5jdGlvbiBVZihlLHQpe3JldHVybiB0LWV9enIoRmYsXCJGZWF0dXJlSW5kZXhcIix7b21pdDpbXCJyYXdUaWxlRGF0YVwiLFwic291cmNlTGF5ZXJDb2RlclwiXX0pO2NsYXNzIFZme2NvbnN0cnVjdG9yKGUsdCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5uZXh0Um93PTAsdGhpcy5pbWFnZT1uZXcgb2Moe3dpZHRoOmUsaGVpZ2h0OnR9KSx0aGlzLnBvc2l0aW9ucz17fSx0aGlzLnVwbG9hZGVkPSExfWdldERhc2goZSx0KXtjb25zdCBuPXRoaXMuZ2V0S2V5KGUsdCk7cmV0dXJuIHRoaXMucG9zaXRpb25zW25dfXRyaW0oKXtjb25zdCBlPXRoaXMud2lkdGgsdD10aGlzLmhlaWdodD1MKHRoaXMubmV4dFJvdyk7dGhpcy5pbWFnZS5yZXNpemUoe3dpZHRoOmUsaGVpZ2h0OnR9KX1nZXRLZXkoZSx0KXtyZXR1cm4gZS5qb2luKFwiLFwiKSt0fWdldERhc2hSYW5nZXMoZSx0LG4pe2NvbnN0IGk9W107bGV0IHI9ZS5sZW5ndGglMj09MT8tZVtlLmxlbmd0aC0xXSpuOjAsbz1lWzBdKm4sYT0hMDtpLnB1c2goe2xlZnQ6cixyaWdodDpvLGlzRGFzaDphLHplcm9MZW5ndGg6MD09PWVbMF19KTtsZXQgcz1lWzBdO2ZvcihsZXQgdD0xO3Q8ZS5sZW5ndGg7dCsrKXthPSFhO2NvbnN0IGw9ZVt0XTtyPXMqbixzKz1sLG89cypuLGkucHVzaCh7bGVmdDpyLHJpZ2h0Om8saXNEYXNoOmEsemVyb0xlbmd0aDowPT09bH0pfXJldHVybiBpfWFkZFJvdW5kRGFzaChlLHQsbil7Y29uc3QgaT10LzI7Zm9yKGxldCB0PS1uO3Q8PW47dCsrKXtjb25zdCByPXRoaXMud2lkdGgqKHRoaXMubmV4dFJvdytuK3QpO2xldCBvPTAsYT1lW29dO2ZvcihsZXQgcz0wO3M8dGhpcy53aWR0aDtzKyspe3MvYS5yaWdodD4xJiYoYT1lWysrb10pO2NvbnN0IGw9TWF0aC5hYnMocy1hLmxlZnQpLGM9TWF0aC5hYnMocy1hLnJpZ2h0KSx1PU1hdGgubWluKGwsYyk7bGV0IGg7Y29uc3QgZD10L24qKGkrMSk7aWYoYS5pc0Rhc2gpe2NvbnN0IGU9aS1NYXRoLmFicyhkKTtoPU1hdGguc3FydCh1KnUrZSplKX1lbHNlIGg9aS1NYXRoLnNxcnQodSp1K2QqZCk7dGhpcy5pbWFnZS5kYXRhW3Irc109TWF0aC5tYXgoMCxNYXRoLm1pbigyNTUsaCsxMjgpKX19fWFkZFJlZ3VsYXJEYXNoKGUsdCl7Zm9yKGxldCB0PWUubGVuZ3RoLTE7dD49MDstLXQpe2NvbnN0IG49ZVt0XSxpPWVbdCsxXTtuLnplcm9MZW5ndGg/ZS5zcGxpY2UodCwxKTppJiZpLmlzRGFzaD09PW4uaXNEYXNoJiYoaS5sZWZ0PW4ubGVmdCxlLnNwbGljZSh0LDEpKX1jb25zdCBuPWVbMF0saT1lW2UubGVuZ3RoLTFdO24uaXNEYXNoPT09aS5pc0Rhc2gmJihuLmxlZnQ9aS5sZWZ0LXRoaXMud2lkdGgsaS5yaWdodD1uLnJpZ2h0K3RoaXMud2lkdGgpO2NvbnN0IHI9dGhpcy53aWR0aCp0aGlzLm5leHRSb3c7bGV0IG89MCxhPWVbb107Zm9yKGxldCBuPTA7bjx0aGlzLndpZHRoO24rKyl7bi9hLnJpZ2h0PjEmJihhPWVbKytvXSk7Y29uc3QgaT1NYXRoLmFicyhuLWEubGVmdCkscz1NYXRoLmFicyhuLWEucmlnaHQpLGw9TWF0aC5taW4oaSxzKTt0aGlzLmltYWdlLmRhdGFbcituXT1NYXRoLm1heCgwLE1hdGgubWluKDI1NSwoYS5pc0Rhc2g/bDotbCkrdCsxMjgpKX19YWRkRGFzaChlLHQpe2NvbnN0IG49dGhpcy5nZXRLZXkoZSx0KTtpZih0aGlzLnBvc2l0aW9uc1tuXSlyZXR1cm4gdGhpcy5wb3NpdGlvbnNbbl07Y29uc3QgaT1cInJvdW5kXCI9PT10LHI9aT83OjAsbz0yKnIrMTtpZih0aGlzLm5leHRSb3crbz50aGlzLmhlaWdodClyZXR1cm4gVihcIkxpbmVBdGxhcyBvdXQgb2Ygc3BhY2VcIiksbnVsbDswPT09ZS5sZW5ndGgmJmUucHVzaCgxKTtsZXQgYT0wO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF08MCYmKFYoXCJOZWdhdGl2ZSB2YWx1ZSBpcyBmb3VuZCBpbiBsaW5lIGRhc2hhcnJheSwgcmVwbGFjaW5nIHZhbHVlcyB3aXRoIDBcIiksZVt0XT0wKSxhKz1lW3RdO2lmKDAhPT1hKXtjb25zdCBuPXRoaXMud2lkdGgvYSxvPXRoaXMuZ2V0RGFzaFJhbmdlcyhlLHRoaXMud2lkdGgsbik7aT90aGlzLmFkZFJvdW5kRGFzaChvLG4scik6dGhpcy5hZGRSZWd1bGFyRGFzaChvLFwic3F1YXJlXCI9PT10Py41Km46MCl9Y29uc3Qgcz10aGlzLm5leHRSb3crcjt0aGlzLm5leHRSb3crPW87Y29uc3QgbD17dGw6W3Mscl0sYnI6W2EsMF19O3JldHVybiB0aGlzLnBvc2l0aW9uc1tuXT1sLGx9fXpyKFZmLFwiTGluZUF0bGFzXCIpO2NsYXNzIEdme2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9e30sbj1bXTtmb3IoY29uc3QgaSBpbiBlKXtjb25zdCByPWVbaV0sbz10W2ldPXt9O2Zvcihjb25zdCBlIGluIHIuZ2x5cGhzKXtjb25zdCB0PXIuZ2x5cGhzWytlXTtpZighdHx8MD09PXQuYml0bWFwLndpZHRofHwwPT09dC5iaXRtYXAuaGVpZ2h0KWNvbnRpbnVlO2NvbnN0IGk9dC5tZXRyaWNzLmxvY2FsR2x5cGg/MjoxLGE9e3g6MCx5OjAsdzp0LmJpdG1hcC53aWR0aCsyKmksaDp0LmJpdG1hcC5oZWlnaHQrMippfTtuLnB1c2goYSksb1tlXT1hfX1jb25zdHt3OmksaDpyfT1CaChuKSxvPW5ldyBvYyh7d2lkdGg6aXx8MSxoZWlnaHQ6cnx8MX0pO2Zvcihjb25zdCBuIGluIGUpe2NvbnN0IGk9ZVtuXTtmb3IoY29uc3QgZSBpbiBpLmdseXBocyl7Y29uc3Qgcj1pLmdseXBoc1srZV07aWYoIXJ8fDA9PT1yLmJpdG1hcC53aWR0aHx8MD09PXIuYml0bWFwLmhlaWdodCljb250aW51ZTtjb25zdCBhPXRbbl1bZV0scz1yLm1ldHJpY3MubG9jYWxHbHlwaD8yOjE7b2MuY29weShyLmJpdG1hcCxvLHt4OjAseTowfSx7eDphLngrcyx5OmEueStzfSxyLmJpdG1hcCl9fXRoaXMuaW1hZ2U9byx0aGlzLnBvc2l0aW9ucz10fX16cihHZixcIkdseXBoQXRsYXNcIik7Y2xhc3MgWmZ7Y29uc3RydWN0b3IoZSl7dGhpcy50aWxlSUQ9bmV3IER1KGUudGlsZUlELm92ZXJzY2FsZWRaLGUudGlsZUlELndyYXAsZS50aWxlSUQuY2Fub25pY2FsLnosZS50aWxlSUQuY2Fub25pY2FsLngsZS50aWxlSUQuY2Fub25pY2FsLnkpLHRoaXMudGlsZVpvb209ZS50aWxlWm9vbSx0aGlzLnVpZD1lLnVpZCx0aGlzLnpvb209ZS56b29tLHRoaXMuY2Fub25pY2FsPWUudGlsZUlELmNhbm9uaWNhbCx0aGlzLnBpeGVsUmF0aW89ZS5waXhlbFJhdGlvLHRoaXMudGlsZVNpemU9ZS50aWxlU2l6ZSx0aGlzLnNvdXJjZT1lLnNvdXJjZSx0aGlzLm92ZXJzY2FsaW5nPXRoaXMudGlsZUlELm92ZXJzY2FsZUZhY3RvcigpLHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzPWUuc2hvd0NvbGxpc2lvbkJveGVzLHRoaXMuY29sbGVjdFJlc291cmNlVGltaW5nPSEhZS5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM9ISFlLnJldHVybkRlcGVuZGVuY2llcyx0aGlzLnByb21vdGVJZD1lLnByb21vdGVJZCx0aGlzLmVuYWJsZVRlcnJhaW49ISFlLmVuYWJsZVRlcnJhaW4sdGhpcy5pc1N5bWJvbFRpbGU9ZS5pc1N5bWJvbFRpbGUsdGhpcy50aWxlVHJhbnNmb3JtPWdwKGUudGlsZUlELmNhbm9uaWNhbCxlLnByb2plY3Rpb24pLHRoaXMucHJvamVjdGlvbj1lLnByb2plY3Rpb259cGFyc2UoZSx0LG4saSxyKXt0aGlzLnN0YXR1cz1cInBhcnNpbmdcIix0aGlzLmRhdGE9ZSx0aGlzLmNvbGxpc2lvbkJveEFycmF5PW5ldyB3YTtjb25zdCBvPW5ldyBzZihPYmplY3Qua2V5cyhlLmxheWVycykuc29ydCgpKSxhPW5ldyBGZih0aGlzLnRpbGVJRCx0aGlzLnByb21vdGVJZCk7YS5idWNrZXRMYXllcklEcz1bXTtjb25zdCBzPXt9LGw9bmV3IFZmKDI1NiwyNTYpLGM9e2ZlYXR1cmVJbmRleDphLGljb25EZXBlbmRlbmNpZXM6e30scGF0dGVybkRlcGVuZGVuY2llczp7fSxnbHlwaERlcGVuZGVuY2llczp7fSxsaW5lQXRsYXM6bCxhdmFpbGFibGVJbWFnZXM6bn0sdT10LmZhbWlsaWVzQnlTb3VyY2VbdGhpcy5zb3VyY2VdO2Zvcihjb25zdCB0IGluIHUpe2NvbnN0IGk9ZS5sYXllcnNbdF07aWYoIWkpY29udGludWU7bGV0IHI9ITEsbD0hMTtmb3IoY29uc3QgZSBvZiB1W3RdKVwic3ltYm9sXCI9PT1lWzBdLnR5cGU/cj0hMDpsPSEwO2lmKCEwPT09dGhpcy5pc1N5bWJvbFRpbGUmJiFyKWNvbnRpbnVlO2lmKCExPT09dGhpcy5pc1N5bWJvbFRpbGUmJiFsKWNvbnRpbnVlOzE9PT1pLnZlcnNpb24mJlYoYFZlY3RvciB0aWxlIHNvdXJjZSBcIiR7dGhpcy5zb3VyY2V9XCIgbGF5ZXIgXCIke3R9XCIgZG9lcyBub3QgdXNlIHZlY3RvciB0aWxlIHNwZWMgdjIgYW5kIHRoZXJlZm9yZSBtYXkgaGF2ZSBzb21lIHJlbmRlcmluZyBlcnJvcnMuYCk7Y29uc3QgaD1vLmVuY29kZSh0KSxkPVtdO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSsrKXtjb25zdCBuPWkuZmVhdHVyZShlKSxyPWEuZ2V0SWQobix0KTtkLnB1c2goe2ZlYXR1cmU6bixpZDpyLGluZGV4OmUsc291cmNlTGF5ZXJJbmRleDpofSl9Zm9yKGNvbnN0IGUgb2YgdVt0XSl7Y29uc3QgdD1lWzBdO3ZvaWQgMCE9PXRoaXMuaXNTeW1ib2xUaWxlJiZcInN5bWJvbFwiPT09dC50eXBlIT09dGhpcy5pc1N5bWJvbFRpbGV8fHQubWluem9vbSYmdGhpcy56b29tPE1hdGguZmxvb3IodC5taW56b29tKXx8dC5tYXh6b29tJiZ0aGlzLnpvb20+PXQubWF4em9vbXx8XCJub25lXCIhPT10LnZpc2liaWxpdHkmJihXZihlLHRoaXMuem9vbSxuKSwoc1t0LmlkXT10LmNyZWF0ZUJ1Y2tldCh7aW5kZXg6YS5idWNrZXRMYXllcklEcy5sZW5ndGgsbGF5ZXJzOmUsem9vbTp0aGlzLnpvb20sY2Fub25pY2FsOnRoaXMuY2Fub25pY2FsLHBpeGVsUmF0aW86dGhpcy5waXhlbFJhdGlvLG92ZXJzY2FsaW5nOnRoaXMub3ZlcnNjYWxpbmcsY29sbGlzaW9uQm94QXJyYXk6dGhpcy5jb2xsaXNpb25Cb3hBcnJheSxzb3VyY2VMYXllckluZGV4Omgsc291cmNlSUQ6dGhpcy5zb3VyY2UsZW5hYmxlVGVycmFpbjp0aGlzLmVuYWJsZVRlcnJhaW4scHJvamVjdGlvbjp0aGlzLnByb2plY3Rpb24uc3BlYyxhdmFpbGFibGVJbWFnZXM6bn0pKS5wb3B1bGF0ZShkLGMsdGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMudGlsZVRyYW5zZm9ybSksYS5idWNrZXRMYXllcklEcy5wdXNoKGUubWFwKGU9PmUuaWQpKSl9fWxldCBoLGQscCxmO2wudHJpbSgpO2NvbnN0IG09e3R5cGU6XCJtYXliZVByZXBhcmVcIixpc1N5bWJvbFRpbGU6dGhpcy5pc1N5bWJvbFRpbGUsem9vbTp0aGlzLnpvb219LGc9aihjLmdseXBoRGVwZW5kZW5jaWVzLGU9Pk9iamVjdC5rZXlzKGUpLm1hcChOdW1iZXIpKTtPYmplY3Qua2V5cyhnKS5sZW5ndGg/aS5zZW5kKFwiZ2V0R2x5cGhzXCIse3VpZDp0aGlzLnVpZCxzdGFja3M6Z30sKGUsdCk9PntofHwoaD1lLGQ9dCx2LmNhbGwodGhpcykpfSx2b2lkIDAsITEsbSk6ZD17fTtjb25zdCB5PU9iamVjdC5rZXlzKGMuaWNvbkRlcGVuZGVuY2llcyk7eS5sZW5ndGg/aS5zZW5kKFwiZ2V0SW1hZ2VzXCIse2ljb25zOnksc291cmNlOnRoaXMuc291cmNlLHRpbGVJRDp0aGlzLnRpbGVJRCx0eXBlOlwiaWNvbnNcIn0sKGUsdCk9PntofHwoaD1lLHA9dCx2LmNhbGwodGhpcykpfSx2b2lkIDAsITEsbSk6cD17fTtjb25zdCBfPU9iamVjdC5rZXlzKGMucGF0dGVybkRlcGVuZGVuY2llcyk7ZnVuY3Rpb24gdigpe2lmKGgpcmV0dXJuIHIoaCk7aWYoZCYmcCYmZil7Y29uc3QgZT1uZXcgR2YoZCksdD1uZXcgRmgocCxmKTtmb3IoY29uc3QgaSBpbiBzKXtjb25zdCByPXNbaV07ciBpbnN0YW5jZW9mIHFwPyhXZihyLmxheWVycyx0aGlzLnpvb20sbiksSWQocixkLGUucG9zaXRpb25zLHAsdC5pY29uUG9zaXRpb25zLHRoaXMuc2hvd0NvbGxpc2lvbkJveGVzLG4sdGhpcy50aWxlSUQuY2Fub25pY2FsLHRoaXMudGlsZVpvb20sdGhpcy5wcm9qZWN0aW9uKSk6ci5oYXNQYXR0ZXJuJiYociBpbnN0YW5jZW9mIFd1fHxyIGluc3RhbmNlb2YgcWN8fHIgaW5zdGFuY2VvZiB2dSkmJihXZihyLmxheWVycyx0aGlzLnpvb20sbiksci5hZGRGZWF0dXJlcyhjLHRoaXMudGlsZUlELmNhbm9uaWNhbCx0LnBhdHRlcm5Qb3NpdGlvbnMsbix0aGlzLnRpbGVUcmFuc2Zvcm0pKX10aGlzLnN0YXR1cz1cImRvbmVcIixyKG51bGwse2J1Y2tldHM6ayhzKS5maWx0ZXIoZT0+IWUuaXNFbXB0eSgpKSxmZWF0dXJlSW5kZXg6YSxjb2xsaXNpb25Cb3hBcnJheTp0aGlzLmNvbGxpc2lvbkJveEFycmF5LGdseXBoQXRsYXNJbWFnZTplLmltYWdlLGxpbmVBdGxhczpsLGltYWdlQXRsYXM6dCxnbHlwaE1hcDp0aGlzLnJldHVybkRlcGVuZGVuY2llcz9kOm51bGwsaWNvbk1hcDp0aGlzLnJldHVybkRlcGVuZGVuY2llcz9wOm51bGwsZ2x5cGhQb3NpdGlvbnM6dGhpcy5yZXR1cm5EZXBlbmRlbmNpZXM/ZS5wb3NpdGlvbnM6bnVsbH0pfX1fLmxlbmd0aD9pLnNlbmQoXCJnZXRJbWFnZXNcIix7aWNvbnM6Xyxzb3VyY2U6dGhpcy5zb3VyY2UsdGlsZUlEOnRoaXMudGlsZUlELHR5cGU6XCJwYXR0ZXJuc1wifSwoZSx0KT0+e2h8fChoPWUsZj10LHYuY2FsbCh0aGlzKSl9LHZvaWQgMCwhMSxtKTpmPXt9LHYuY2FsbCh0aGlzKX19ZnVuY3Rpb24gV2YoZSx0LG4pe2NvbnN0IGk9bmV3IFBvKHQpO2Zvcihjb25zdCB0IG9mIGUpdC5yZWNhbGN1bGF0ZShpLG4pfWNsYXNzIHFme2NvbnN0cnVjdG9yKGUpe3RoaXMuZW50cmllcz17fSx0aGlzLnNjaGVkdWxlcj1lfXJlcXVlc3QoZSx0LG4saSl7Y29uc3Qgcj10aGlzLmVudHJpZXNbZV09dGhpcy5lbnRyaWVzW2VdfHx7Y2FsbGJhY2tzOltdfTtpZihyLnJlc3VsdCl7Y29uc3RbZSxuXT1yLnJlc3VsdDtyZXR1cm4gdGhpcy5zY2hlZHVsZXI/dGhpcy5zY2hlZHVsZXIuYWRkKCgpPT57aShlLG4pfSx0KTppKGUsbiksKCk9Pnt9fXJldHVybiByLmNhbGxiYWNrcy5wdXNoKGkpLHIuY2FuY2VsfHwoci5jYW5jZWw9bigobixpKT0+e3IucmVzdWx0PVtuLGldO2Zvcihjb25zdCBlIG9mIHIuY2FsbGJhY2tzKXRoaXMuc2NoZWR1bGVyP3RoaXMuc2NoZWR1bGVyLmFkZCgoKT0+e2UobixpKX0sdCk6ZShuLGkpO3NldFRpbWVvdXQoKCk9PmRlbGV0ZSB0aGlzLmVudHJpZXNbZV0sM2UzKX0pKSwoKT0+e3IucmVzdWx0fHwoci5jYWxsYmFja3M9ci5jYWxsYmFja3MuZmlsdGVyKGU9PmUhPT1pKSxyLmNhbGxiYWNrcy5sZW5ndGh8fChyLmNhbmNlbCgpLGRlbGV0ZSB0aGlzLmVudHJpZXNbZV0pKX19fWZ1bmN0aW9uICRmKGUsdCxuKXtjb25zdCBpPUpTT04uc3RyaW5naWZ5KGUucmVxdWVzdCk7cmV0dXJuIGUuZGF0YSYmKHRoaXMuZGVkdXBlZC5lbnRyaWVzW2ldPXtyZXN1bHQ6W251bGwsZS5kYXRhXX0pLHRoaXMuZGVkdXBlZC5yZXF1ZXN0KGkse3R5cGU6XCJwYXJzZVRpbGVcIixpc1N5bWJvbFRpbGU6ZS5pc1N5bWJvbFRpbGUsem9vbTplLnRpbGVab29tfSx0PT57Y29uc3QgaT11ZShlLnJlcXVlc3QsKGUsaSxyLG8pPT57ZT90KGUpOmkmJnQobnVsbCx7dmVjdG9yVGlsZTpuP3ZvaWQgMDpuZXcgaHUobmV3IGRoKGkpKSxyYXdEYXRhOmksY2FjaGVDb250cm9sOnIsZXhwaXJlczpvfSl9KTtyZXR1cm4oKT0+e2kuY2FuY2VsKCksdCgpfX0sdCl9ZS5BUlJBWV9UWVBFPW9sLGUuQVVUSF9FUlJfTVNHPWdlLGUuQWFiYj1YbCxlLkFjdG9yPWNsYXNze2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnRhcmdldD1lLHRoaXMucGFyZW50PXQsdGhpcy5tYXBJZD1pLHRoaXMuY2FsbGJhY2tzPXt9LHRoaXMuY2FuY2VsQ2FsbGJhY2tzPXt9LFIoW1wicmVjZWl2ZVwiXSx0aGlzKSx0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLHRoaXMucmVjZWl2ZSwhMSksdGhpcy5nbG9iYWxTY29wZT1XKCk/ZTpuLHRoaXMuc2NoZWR1bGVyPW5ldyBhZn1zZW5kKGUsdCxuLGkscj0hMSxvKXtjb25zdCBhPU1hdGgucm91bmQoMWUxOCpNYXRoLnJhbmRvbSgpKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDAsMTApO24mJihuLm1ldGFkYXRhPW8sdGhpcy5jYWxsYmFja3NbYV09bik7Y29uc3Qgcz1IKHRoaXMuZ2xvYmFsU2NvcGUpP3ZvaWQgMDpbXTtyZXR1cm4gdGhpcy50YXJnZXQucG9zdE1lc3NhZ2Uoe2lkOmEsdHlwZTplLGhhc0NhbGxiYWNrOiEhbix0YXJnZXRNYXBJZDppLG11c3RRdWV1ZTpyLHNvdXJjZU1hcElkOnRoaXMubWFwSWQsZGF0YTpPcih0LHMpfSxzKSx7Y2FuY2VsOigpPT57biYmZGVsZXRlIHRoaXMuY2FsbGJhY2tzW2FdLHRoaXMudGFyZ2V0LnBvc3RNZXNzYWdlKHtpZDphLHR5cGU6XCI8Y2FuY2VsPlwiLHRhcmdldE1hcElkOmksc291cmNlTWFwSWQ6dGhpcy5tYXBJZH0pfX19cmVjZWl2ZShlKXtjb25zdCB0PWUuZGF0YSxuPXQuaWQ7aWYobiYmKCF0LnRhcmdldE1hcElkfHx0aGlzLm1hcElkPT09dC50YXJnZXRNYXBJZCkpaWYoXCI8Y2FuY2VsPlwiPT09dC50eXBlKXtjb25zdCBlPXRoaXMuY2FuY2VsQ2FsbGJhY2tzW25dO2RlbGV0ZSB0aGlzLmNhbmNlbENhbGxiYWNrc1tuXSxlJiZlLmNhbmNlbCgpfWVsc2UgaWYodC5tdXN0UXVldWV8fFcoKSl7Y29uc3QgZT10aGlzLmNhbGxiYWNrc1tuXTt0aGlzLmNhbmNlbENhbGxiYWNrc1tuXT10aGlzLnNjaGVkdWxlci5hZGQoKCk9PnRoaXMucHJvY2Vzc1Rhc2sobix0KSxlJiZlLm1ldGFkYXRhfHx7dHlwZTpcIm1lc3NhZ2VcIn0pfWVsc2UgdGhpcy5wcm9jZXNzVGFzayhuLHQpfXByb2Nlc3NUYXNrKGUsdCl7aWYoXCI8cmVzcG9uc2U+XCI9PT10LnR5cGUpe2NvbnN0IG49dGhpcy5jYWxsYmFja3NbZV07ZGVsZXRlIHRoaXMuY2FsbGJhY2tzW2VdLG4mJih0LmVycm9yP24oUnIodC5lcnJvcikpOm4obnVsbCxScih0LmRhdGEpKSl9ZWxzZXtjb25zdCBuPUgodGhpcy5nbG9iYWxTY29wZSk/dm9pZCAwOltdLGk9dC5oYXNDYWxsYmFjaz8odCxpKT0+e2RlbGV0ZSB0aGlzLmNhbmNlbENhbGxiYWNrc1tlXSx0aGlzLnRhcmdldC5wb3N0TWVzc2FnZSh7aWQ6ZSx0eXBlOlwiPHJlc3BvbnNlPlwiLHNvdXJjZU1hcElkOnRoaXMubWFwSWQsZXJyb3I6dD9Pcih0KTpudWxsLGRhdGE6T3IoaSxuKX0sbil9OmU9Pnt9LHI9UnIodC5kYXRhKTtpZih0aGlzLnBhcmVudFt0LnR5cGVdKXRoaXMucGFyZW50W3QudHlwZV0odC5zb3VyY2VNYXBJZCxyLGkpO2Vsc2UgaWYodGhpcy5wYXJlbnQuZ2V0V29ya2VyU291cmNlKXtjb25zdCBlPXQudHlwZS5zcGxpdChcIi5cIik7dGhpcy5wYXJlbnQuZ2V0V29ya2VyU291cmNlKHQuc291cmNlTWFwSWQsZVswXSxyLnNvdXJjZSlbZVsxXV0ocixpKX1lbHNlIGkobmV3IEVycm9yKFwiQ291bGQgbm90IGZpbmQgZnVuY3Rpb24gXCIrdC50eXBlKSl9fXJlbW92ZSgpe3RoaXMuc2NoZWR1bGVyLnJlbW92ZSgpLHRoaXMudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5yZWNlaXZlLCExKX19LGUuQ2Fub25pY2FsVGlsZUlEPVB1LGUuQ29sb3I9Q3QsZS5Db2xvck1vZGU9emYsZS5DdWxsRmFjZU1vZGU9RGYsZS5ERU1EYXRhPUNmLGUuRGF0YUNvbnN0YW50UHJvcGVydHk9Tm8sZS5EZWR1cGVkUmVxdWVzdD1xZixlLkRlcHRoTW9kZT1BZixlLkVYVEVOVD1wcyxlLkVsZXZhdGlvbj1jbGFzc3tpc0RhdGFBdmFpbGFibGVBdFBvaW50KGUpe2NvbnN0IHQ9dGhpcy5fc291cmNlKCk7aWYodGhpcy5pc1VzaW5nTW9ja1NvdXJjZSgpfHwhdHx8ZS55PDB8fGUueT4xKXJldHVybiExO2NvbnN0IG49dC5nZXRTb3VyY2UoKS5tYXh6b29tLGk9MTw8bixyPU1hdGguZmxvb3IoZS54KSxvPU1hdGguZmxvb3IoKGUueC1yKSppKSxhPU1hdGguZmxvb3IoZS55KmkpLHM9dGhpcy5maW5kREVNVGlsZUZvcihuZXcgRHUobixyLG4sbyxhKSk7cmV0dXJuISghc3x8IXMuZGVtKX1nZXRBdFBvaW50T3JaZXJvKGUsdD0wKXtyZXR1cm4gdGhpcy5nZXRBdFBvaW50KGUsdCl8fDB9Z2V0QXRQb2ludChlLHQsbj0hMCl7aWYodGhpcy5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiBudWxsO251bGw9PXQmJih0PW51bGwpO2NvbnN0IGk9dGhpcy5fc291cmNlKCk7aWYoIWkpcmV0dXJuIHQ7aWYoZS55PDB8fGUueT4xKXJldHVybiB0O2NvbnN0IHI9aS5nZXRTb3VyY2UoKS5tYXh6b29tLG89MTw8cixhPU1hdGguZmxvb3IoZS54KSxzPWUueC1hLGw9bmV3IER1KHIsYSxyLE1hdGguZmxvb3IocypvKSxNYXRoLmZsb29yKGUueSpvKSksYz10aGlzLmZpbmRERU1UaWxlRm9yKGwpO2lmKCFjfHwhYy5kZW0pcmV0dXJuIHQ7Y29uc3QgdT1jLmRlbSxoPTE8PGMudGlsZUlELmNhbm9uaWNhbC56LGQ9KHMqaC1jLnRpbGVJRC5jYW5vbmljYWwueCkqdS5kaW0scD0oZS55KmgtYy50aWxlSUQuY2Fub25pY2FsLnkpKnUuZGltLGY9TWF0aC5mbG9vcihkKSxtPU1hdGguZmxvb3IocCk7cmV0dXJuKG4/dGhpcy5leGFnZ2VyYXRpb24oKToxKSpDbihDbih1LmdldChmLG0pLHUuZ2V0KGYsbSsxKSxwLW0pLENuKHUuZ2V0KGYrMSxtKSx1LmdldChmKzEsbSsxKSxwLW0pLGQtZil9Z2V0QXRUaWxlT2Zmc2V0KGUsdCxuKXtjb25zdCBpPTE8PGUuY2Fub25pY2FsLno7cmV0dXJuIHRoaXMuZ2V0QXRQb2ludE9yWmVybyhuZXcgSXMoZS53cmFwKyhlLmNhbm9uaWNhbC54K3QvcHMpL2ksKGUuY2Fub25pY2FsLnkrbi9wcykvaSkpfWdldEF0VGlsZU9mZnNldEZ1bmMoZSx0LG4saSl7cmV0dXJuIHI9Pntjb25zdCBvPXRoaXMuZ2V0QXRUaWxlT2Zmc2V0KGUsci54LHIueSksYT1pLnVwVmVjdG9yKGUuY2Fub25pY2FsLHIueCxyLnkpO3JldHVybiBJbChhLGEsbyppLnVwVmVjdG9yU2NhbGUoZS5jYW5vbmljYWwsdCxuKS5tZXRlcnNUb1RpbGUpLGF9fWdldEZvclRpbGVQb2ludHMoZSx0LG4saSl7aWYodGhpcy5pc1VzaW5nTW9ja1NvdXJjZSgpKXJldHVybiExO2NvbnN0IHI9amYuY3JlYXRlKHRoaXMsZSxpKTtyZXR1cm4hIXImJih0LmZvckVhY2goZT0+e2VbMl09dGhpcy5leGFnZ2VyYXRpb24oKSpyLmdldEVsZXZhdGlvbkF0KGVbMF0sZVsxXSxuKX0pLCEwKX1nZXRNaW5NYXhGb3JUaWxlKGUpe2lmKHRoaXMuaXNVc2luZ01vY2tTb3VyY2UoKSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuZmluZERFTVRpbGVGb3IoZSk7aWYoIXR8fCF0LmRlbSlyZXR1cm4gbnVsbDtjb25zdCBuPXQuZGVtLnRyZWUsaT10LnRpbGVJRCxyPTE8PGUuY2Fub25pY2FsLnotaS5jYW5vbmljYWwuejtsZXQgbz1lLmNhbm9uaWNhbC54L3ItaS5jYW5vbmljYWwueCxhPWUuY2Fub25pY2FsLnkvci1pLmNhbm9uaWNhbC55LHM9MDtmb3IobGV0IHQ9MDt0PGUuY2Fub25pY2FsLnotaS5jYW5vbmljYWwueiYmIW4ubGVhdmVzW3NdO3QrKyl7byo9MixhKj0yO2NvbnN0IGU9MipNYXRoLmZsb29yKGEpK01hdGguZmxvb3Iobyk7cz1uLmNoaWxkT2Zmc2V0c1tzXStlLG8lPTEsYSU9MX1yZXR1cm57bWluOnRoaXMuZXhhZ2dlcmF0aW9uKCkqbi5taW5pbXVtc1tzXSxtYXg6dGhpcy5leGFnZ2VyYXRpb24oKSpuLm1heGltdW1zW3NdfX1nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1yYXljYXN0KGUsdCxuKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9cG9pbnRDb29yZGluYXRlKGUpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1fc291cmNlKCl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfWlzVXNpbmdNb2NrU291cmNlKCl7dGhyb3cgbmV3IEVycm9yKFwiUHVyZSB2aXJ0dWFsIG1ldGhvZCBjYWxsZWQuXCIpfWV4YWdnZXJhdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIlB1cmUgdmlydHVhbCBtZXRob2QgY2FsbGVkLlwiKX1maW5kREVNVGlsZUZvcihlKXt0aHJvdyBuZXcgRXJyb3IoXCJQdXJlIHZpcnR1YWwgbWV0aG9kIGNhbGxlZC5cIil9Z2V0IHZpc2libGVEZW1UaWxlcygpe3Rocm93IG5ldyBFcnJvcihcIkdldHRlciBtdXN0IGJlIGltcGxlbWVudGVkIGluIHN1YmNsYXNzLlwiKX19LGUuRXJyb3JFdmVudD1YZSxlLkV2YWx1YXRpb25QYXJhbWV0ZXJzPVBvLGUuRXZlbnQ9SGUsZS5FdmVudGVkPVllLGUuRmlsbEV4dHJ1c2lvbkJ1Y2tldD12dSxlLkZydXN0dW09SGwsZS5GcnVzdHVtQ29ybmVycz0kbCxlLkdMT0JFX01FVEVSU19UT19FQ0VGPVVkLGUuR0xPQkVfUkFESVVTPU5kLGUuR0xPQkVfU0NBTEVfTUFUQ0hfTEFUSVRVREU9NDUsZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NQVg9NixlLkdMT0JFX1pPT01fVEhSRVNIT0xEX01JTj01LGUuR2xvYmVTaGFyZWRCdWZmZXJzPWNsYXNze2NvbnN0cnVjdG9yKGUpe3RoaXMuX2NyZWF0ZUdyaWQoZSksdGhpcy5fY3JlYXRlUG9sZXMoZSl9ZGVzdHJveSgpe3RoaXMuX3BvbGVJbmRleEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fZ3JpZEJ1ZmZlci5kZXN0cm95KCksdGhpcy5fZ3JpZEluZGV4QnVmZmVyLmRlc3Ryb3koKSx0aGlzLl9wb2xlTm9ydGhWZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuX3BvbGVTb3V0aFZlcnRleEJ1ZmZlci5kZXN0cm95KCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcG9sZVNlZ21lbnRzKWUuZGVzdHJveSgpO2Zvcihjb25zdCBlIG9mIHRoaXMuX2dyaWRTZWdtZW50cyllLmRlc3Ryb3koKTtpZih0aGlzLl93aXJlZnJhbWVJbmRleEJ1ZmZlcil7dGhpcy5fd2lyZWZyYW1lSW5kZXhCdWZmZXIuZGVzdHJveSgpO2Zvcihjb25zdCBlIG9mIHRoaXMuX3dpcmVmcmFtZVNlZ21lbnRzKWUuZGVzdHJveSgpfX1fY3JlYXRlR3JpZChlKXtjb25zdCB0PW5ldyBZbyxuPW5ldyBkYSxpPTY1O2ZvcihsZXQgZT0wO2U8aTtlKyspZm9yKGxldCBuPTA7bjxpO24rKyl0LmVtcGxhY2VCYWNrKG4sZSk7dGhpcy5fZ3JpZFNlZ21lbnRzPVtdO2ZvcihsZXQgZT0wLHQ9MDtlPFZkLmxlbmd0aDtlKyspe2NvbnN0IHI9VmRbZV07Zm9yKGxldCBlPTA7ZTxyO2UrKylmb3IobGV0IHQ9MDt0PDY0O3QrKyl7Y29uc3Qgcj1lKmkrdDtuLmVtcGxhY2VCYWNrKHIrMSxyLHIraSksbi5lbXBsYWNlQmFjayhyK2kscitpKzEscisxKX1jb25zdCBvPTY0KnIqMjt0aGlzLl9ncmlkU2VnbWVudHMucHVzaChkcy5zaW1wbGVTZWdtZW50KDAsdCwocisxKSppLG8pKSx0Kz1vfXRoaXMuX2dyaWRCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIodCxGZC5tZW1iZXJzKSx0aGlzLl9ncmlkSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihuLCEwKX1fY3JlYXRlUG9sZXMoZSl7Y29uc3QgdD1uZXcgZGE7Zm9yKGxldCBlPTA7ZTw9NjQ7ZSsrKXQuZW1wbGFjZUJhY2soMCxlKzEsZSsyKTt0aGlzLl9wb2xlSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0LCEwKTtjb25zdCBuPW5ldyBnYSxpPW5ldyBnYTt0aGlzLl9wb2xlU2VnbWVudHM9W107Zm9yKGxldCBlPTAsdD0wO2U8NTtlKyspe2NvbnN0IHI9MzYwLygxPDxlKTtuLmVtcGxhY2VCYWNrKDAsLU5kLDAsLjUsMCksaS5lbXBsYWNlQmFjaygwLC1OZCwwLC41LDEpO2ZvcihsZXQgZT0wO2U8PTY0O2UrKyl7Y29uc3QgdD1lLzY0LG89Q24oMCxyLHQpLFthLHMsbF09dHAocHAsZnAsbyxOZCk7bi5lbXBsYWNlQmFjayhhLHMsbCx0LDApLGkuZW1wbGFjZUJhY2soYSxzLGwsdCwxKX10aGlzLl9wb2xlU2VnbWVudHMucHVzaChkcy5zaW1wbGVTZWdtZW50KHQsMCw2Niw2NCkpLHQrPTY2fXRoaXMuX3BvbGVOb3J0aFZlcnRleEJ1ZmZlcj1lLmNyZWF0ZVZlcnRleEJ1ZmZlcihuLEJkLCExKSx0aGlzLl9wb2xlU291dGhWZXJ0ZXhCdWZmZXI9ZS5jcmVhdGVWZXJ0ZXhCdWZmZXIoaSxCZCwhMSl9Z2V0R3JpZEJ1ZmZlcnMoZSl7cmV0dXJuW3RoaXMuX2dyaWRCdWZmZXIsdGhpcy5fZ3JpZEluZGV4QnVmZmVyLHRoaXMuX2dyaWRTZWdtZW50c1tlXV19Z2V0UG9sZUJ1ZmZlcnMoZSl7cmV0dXJuW3RoaXMuX3BvbGVOb3J0aFZlcnRleEJ1ZmZlcix0aGlzLl9wb2xlU291dGhWZXJ0ZXhCdWZmZXIsdGhpcy5fcG9sZUluZGV4QnVmZmVyLHRoaXMuX3BvbGVTZWdtZW50c1tlXV19Z2V0V2lyZWZhbWVCdWZmZXJzKGUsdCl7aWYoIXRoaXMuX3dpcmVmcmFtZVNlZ21lbnRzKXtjb25zdCB0PW5ldyBfYSxuPTY0LGk9bisxO3RoaXMuX3dpcmVmcmFtZVNlZ21lbnRzPVtdO2ZvcihsZXQgZT0wLHI9MDtlPFZkLmxlbmd0aDtlKyspe2NvbnN0IG89VmRbZV07Zm9yKGxldCBlPTA7ZTxvO2UrKylmb3IobGV0IHI9MDtyPG47cisrKXtjb25zdCBuPWUqaStyO3QuZW1wbGFjZUJhY2sobixuKzEpLHQuZW1wbGFjZUJhY2sobixuK2kpLHQuZW1wbGFjZUJhY2sobixuK2krMSl9Y29uc3QgYT1vKm4qMzt0aGlzLl93aXJlZnJhbWVTZWdtZW50cy5wdXNoKGRzLnNpbXBsZVNlZ21lbnQoMCxyLChvKzEpKmksYSkpLHIrPWF9dGhpcy5fd2lyZWZyYW1lSW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcih0KX1yZXR1cm5bdGhpcy5fZ3JpZEJ1ZmZlcix0aGlzLl93aXJlZnJhbWVJbmRleEJ1ZmZlcix0aGlzLl93aXJlZnJhbWVTZWdtZW50c1t0XV19fSxlLkdseXBoTWFuYWdlcj1kZCxlLkltYWdlUG9zaXRpb249amgsZS5MaXZlUGVyZm9ybWFuY2VVdGlscz1CZSxlLkxuZ0xhdD1ncyxlLkxuZ0xhdEJvdW5kcz1mcyxlLkxvY2FsR2x5cGhNb2RlPWhkLGUuTUFYX01FUkNBVE9SX0xBVElUVURFPVNzLGUuTWVyY2F0b3JDb29yZGluYXRlPUlzLGUuT05FX0VNPTI0LGUuT3ZlcnNjYWxlZFRpbGVJRD1EdSxlLlBlcmZvcm1hbmNlTWFya2Vycz1SZSxlLlByb3BlcnRpZXM9R28sZS5SR0JBSW1hZ2U9YWMsZS5SYXk9cWwsZS5SZXF1ZXN0TWFuYWdlcj1jbGFzc3tjb25zdHJ1Y3RvcihlLHQsbil7dGhpcy5fdHJhbnNmb3JtUmVxdWVzdEZuPWUsdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW49dCx0aGlzLl9zaWxlbmNlQXV0aEVycm9ycz0hIW4sdGhpcy5fY3JlYXRlU2t1VG9rZW4oKX1fY3JlYXRlU2t1VG9rZW4oKXtjb25zdCBlPWZ1bmN0aW9uKCl7bGV0IGU9XCJcIjtmb3IobGV0IHQ9MDt0PDEwO3QrKyllKz1cIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCJbTWF0aC5mbG9vcig2MipNYXRoLnJhbmRvbSgpKV07cmV0dXJue3Rva2VuOltcIjFcIixkLGVdLmpvaW4oXCJcIiksdG9rZW5FeHBpcmVzQXQ6RGF0ZS5ub3coKSs0MzJlNX19KCk7dGhpcy5fc2t1VG9rZW49ZS50b2tlbix0aGlzLl9za3VUb2tlbkV4cGlyZXNBdD1lLnRva2VuRXhwaXJlc0F0fV9pc1NrdVRva2VuRXhwaXJlZCgpe3JldHVybiBEYXRlLm5vdygpPnRoaXMuX3NrdVRva2VuRXhwaXJlc0F0fXRyYW5zZm9ybVJlcXVlc3QoZSx0KXtyZXR1cm4gdGhpcy5fdHJhbnNmb3JtUmVxdWVzdEZuJiZ0aGlzLl90cmFuc2Zvcm1SZXF1ZXN0Rm4oZSx0KXx8e3VybDplfX1ub3JtYWxpemVTdHlsZVVSTChlLHQpe2lmKCF5ZShlKSlyZXR1cm4gZTtjb25zdCBuPVRlKGUpO3JldHVybiBuLnBhdGg9XCIvc3R5bGVzL3YxXCIrbi5wYXRoLHRoaXMuX21ha2VBUElVUkwobix0aGlzLl9jdXN0b21BY2Nlc3NUb2tlbnx8dCl9bm9ybWFsaXplR2x5cGhzVVJMKGUsdCl7aWYoIXllKGUpKXJldHVybiBlO2NvbnN0IG49VGUoZSk7cmV0dXJuIG4ucGF0aD1cIi9mb250cy92MVwiK24ucGF0aCx0aGlzLl9tYWtlQVBJVVJMKG4sdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fHQpfW5vcm1hbGl6ZVNvdXJjZVVSTChlLHQsbixpKXtpZigheWUoZSkpcmV0dXJuIGU7Y29uc3Qgcj1UZShlKTtyZXR1cm4gci5wYXRoPWAvdjQvJHtyLmF1dGhvcml0eX0uanNvbmAsci5wYXJhbXMucHVzaChcInNlY3VyZVwiKSxuJiZyLnBhcmFtcy5wdXNoKFwibGFuZ3VhZ2U9XCIrbiksaSYmci5wYXJhbXMucHVzaChcIndvcmxkdmlldz1cIitpKSx0aGlzLl9tYWtlQVBJVVJMKHIsdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fHQpfW5vcm1hbGl6ZVNwcml0ZVVSTChlLHQsbixpKXtjb25zdCByPVRlKGUpO3JldHVybiB5ZShlKT8oci5wYXRoPWAvc3R5bGVzL3YxJHtyLnBhdGh9L3Nwcml0ZSR7dH0ke259YCx0aGlzLl9tYWtlQVBJVVJMKHIsdGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fGkpKTooci5wYXRoKz1gJHt0fSR7bn1gLEVlKHIpKX1ub3JtYWxpemVUaWxlVVJMKGUsdCxuKXtpZih0aGlzLl9pc1NrdVRva2VuRXhwaXJlZCgpJiZ0aGlzLl9jcmVhdGVTa3VUb2tlbigpLGUmJiF5ZShlKSlyZXR1cm4gZTtjb25zdCBpPVRlKGUpO2kucGF0aD1pLnBhdGgucmVwbGFjZSgvKFxcLihwbmd8anBnKVxcZCopKD89JCkvLGAke3R8fG4mJlwicmFzdGVyXCIhPT1pLmF1dGhvcml0eSYmNTEyPT09bj9cIkAyeFwiOlwiXCJ9JHthLnN1cHBvcnRlZD9cIi53ZWJwXCI6XCIkMVwifWApLFwicmFzdGVyXCI9PT1pLmF1dGhvcml0eT9pLnBhdGg9YC8ke28uUkFTVEVSX1VSTF9QUkVGSVh9JHtpLnBhdGh9YDooaS5wYXRoPWkucGF0aC5yZXBsYWNlKC9eLitcXC92NFxcLy8sXCIvXCIpLGkucGF0aD1gLyR7by5USUxFX1VSTF9WRVJTSU9OfSR7aS5wYXRofWApO2NvbnN0IHI9dGhpcy5fY3VzdG9tQWNjZXNzVG9rZW58fGZ1bmN0aW9uKGUpe2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9dC5tYXRjaCgvXmFjY2Vzc190b2tlbj0oLiopJC8pO2lmKGUpcmV0dXJuIGVbMV19cmV0dXJuIG51bGx9KGkucGFyYW1zKXx8by5BQ0NFU1NfVE9LRU47cmV0dXJuIG8uUkVRVUlSRV9BQ0NFU1NfVE9LRU4mJnImJnRoaXMuX3NrdVRva2VuJiZpLnBhcmFtcy5wdXNoKFwic2t1PVwiK3RoaXMuX3NrdVRva2VuKSx0aGlzLl9tYWtlQVBJVVJMKGkscil9Y2Fub25pY2FsaXplVGlsZVVSTChlLHQpe2NvbnN0IG49VGUoZSk7aWYoIW4ucGF0aC5tYXRjaCgvXihcXC92NFxcL3xcXC9yYXN0ZXJcXC92MVxcLykvKXx8IW4ucGF0aC5tYXRjaCgvXFwuW1xcd10rJC8pKXJldHVybiBlO2xldCBpPVwibWFwYm94Oi8vXCI7bi5wYXRoLm1hdGNoKC9eXFwvcmFzdGVyXFwvdjFcXC8vKT9pKz1cInJhc3Rlci9cIituLnBhdGgucmVwbGFjZShgLyR7by5SQVNURVJfVVJMX1BSRUZJWH0vYCxcIlwiKTppKz1cInRpbGVzL1wiK24ucGF0aC5yZXBsYWNlKGAvJHtvLlRJTEVfVVJMX1ZFUlNJT059L2AsXCJcIik7bGV0IHI9bi5wYXJhbXM7cmV0dXJuIHQmJihyPXIuZmlsdGVyKGU9PiFlLm1hdGNoKC9eYWNjZXNzX3Rva2VuPS8pKSksci5sZW5ndGgmJihpKz1cIj9cIityLmpvaW4oXCImXCIpKSxpfWNhbm9uaWNhbGl6ZVRpbGVzZXQoZSx0KXtjb25zdCBuPSEhdCYmeWUodCksaT1bXTtmb3IoY29uc3QgdCBvZiBlLnRpbGVzfHxbXSlfZSh0KT9pLnB1c2godGhpcy5jYW5vbmljYWxpemVUaWxlVVJMKHQsbikpOmkucHVzaCh0KTtyZXR1cm4gaX1fbWFrZUFQSVVSTChlLHQpe2NvbnN0IG49XCJTZWUgaHR0cHM6Ly9kb2NzLm1hcGJveC5jb20vYXBpL292ZXJ2aWV3LyNhY2Nlc3MtdG9rZW5zLWFuZC10b2tlbi1zY29wZXNcIixpPVRlKG8uQVBJX1VSTCk7aWYoZS5wcm90b2NvbD1pLnByb3RvY29sLGUuYXV0aG9yaXR5PWkuYXV0aG9yaXR5LFwiaHR0cFwiPT09ZS5wcm90b2NvbCl7Y29uc3QgdD1lLnBhcmFtcy5pbmRleE9mKFwic2VjdXJlXCIpO3Q+PTAmJmUucGFyYW1zLnNwbGljZSh0LDEpfWlmKFwiL1wiIT09aS5wYXRoJiYoZS5wYXRoPWAke2kucGF0aH0ke2UucGF0aH1gKSwhby5SRVFVSVJFX0FDQ0VTU19UT0tFTilyZXR1cm4gRWUoZSk7aWYodD10fHxvLkFDQ0VTU19UT0tFTiwhdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnMpe2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkFuIEFQSSBhY2Nlc3MgdG9rZW4gaXMgcmVxdWlyZWQgdG8gdXNlIE1hcGJveCBHTC4gXCIrbik7aWYoXCJzXCI9PT10WzBdKXRocm93IG5ldyBFcnJvcihcIlVzZSBhIHB1YmxpYyBhY2Nlc3MgdG9rZW4gKHBrLiopIHdpdGggTWFwYm94IEdMLCBub3QgYSBzZWNyZXQgYWNjZXNzIHRva2VuIChzay4qKS4gXCIrbil9cmV0dXJuIGUucGFyYW1zPWUucGFyYW1zLmZpbHRlcihlPT4tMT09PWUuaW5kZXhPZihcImFjY2Vzc190b2tlblwiKSksZS5wYXJhbXMucHVzaChcImFjY2Vzc190b2tlbj1cIisodHx8XCJcIikpLEVlKGUpfX0sZS5SZXNvdXJjZVR5cGU9YWUsZS5TZWdtZW50VmVjdG9yPWRzLGUuU291cmNlQ2FjaGU9TGYsZS5TdGVuY2lsTW9kZT1QZixlLlN0cnVjdEFycmF5TGF5b3V0MXVpMj12YSxlLlN0cnVjdEFycmF5TGF5b3V0MmYxZjJpMTY9Y2EsZS5TdHJ1Y3RBcnJheUxheW91dDJpND1ZbyxlLlN0cnVjdEFycmF5TGF5b3V0MnVpND1fYSxlLlN0cnVjdEFycmF5TGF5b3V0M2YxMj1oYSxlLlN0cnVjdEFycmF5TGF5b3V0M3VpNj1kYSxlLlN0cnVjdEFycmF5TGF5b3V0NGk4PVFvLGUuU3RydWN0QXJyYXlMYXlvdXQ1ZjIwPWdhLGUuVGV4dHVyZT1yZixlLlRpbGU9eWYsZS5UcmFuc2l0aW9uYWJsZT1MbyxlLlVuaWZvcm0xZj1HYSxlLlVuaWZvcm0xaT1jbGFzcyBleHRlbmRzIFZhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD0wfXNldChlLHQsbil7dGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpJiZ0aGlzLmN1cnJlbnQhPT1uJiYodGhpcy5jdXJyZW50PW4sdGhpcy5nbC51bmlmb3JtMWkodGhpcy5sb2NhdGlvbixuKSl9fSxlLlVuaWZvcm0yZj1jbGFzcyBleHRlbmRzIFZhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1bMCwwXX1zZXQoZSx0LG4pe3RoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSYmKG5bMF09PT10aGlzLmN1cnJlbnRbMF0mJm5bMV09PT10aGlzLmN1cnJlbnRbMV18fCh0aGlzLmN1cnJlbnQ9bix0aGlzLmdsLnVuaWZvcm0yZih0aGlzLmxvY2F0aW9uLG5bMF0sblsxXSkpKX19LGUuVW5pZm9ybTNmPWNsYXNzIGV4dGVuZHMgVmF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PVswLDAsMF19c2V0KGUsdCxuKXt0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkmJihuWzBdPT09dGhpcy5jdXJyZW50WzBdJiZuWzFdPT09dGhpcy5jdXJyZW50WzFdJiZuWzJdPT09dGhpcy5jdXJyZW50WzJdfHwodGhpcy5jdXJyZW50PW4sdGhpcy5nbC51bmlmb3JtM2YodGhpcy5sb2NhdGlvbixuWzBdLG5bMV0sblsyXSkpKX19LGUuVW5pZm9ybTRmPVphLGUuVW5pZm9ybUNvbG9yPVdhLGUuVW5pZm9ybU1hdHJpeDJmPWNsYXNzIGV4dGVuZHMgVmF7Y29uc3RydWN0b3IoZSl7c3VwZXIoZSksdGhpcy5jdXJyZW50PUhhfXNldChlLHQsbil7aWYodGhpcy5mZXRjaFVuaWZvcm1Mb2NhdGlvbihlLHQpKWZvcihsZXQgZT0wO2U8NDtlKyspaWYobltlXSE9PXRoaXMuY3VycmVudFtlXSl7dGhpcy5jdXJyZW50PW4sdGhpcy5nbC51bmlmb3JtTWF0cml4MmZ2KHRoaXMubG9jYXRpb24sITEsbik7YnJlYWt9fX0sZS5Vbmlmb3JtTWF0cml4M2Y9Y2xhc3MgZXh0ZW5kcyBWYXtjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLmN1cnJlbnQ9JGF9c2V0KGUsdCxuKXtpZih0aGlzLmZldGNoVW5pZm9ybUxvY2F0aW9uKGUsdCkpZm9yKGxldCBlPTA7ZTw5O2UrKylpZihuW2VdIT09dGhpcy5jdXJyZW50W2VdKXt0aGlzLmN1cnJlbnQ9bix0aGlzLmdsLnVuaWZvcm1NYXRyaXgzZnYodGhpcy5sb2NhdGlvbiwhMSxuKTticmVha319fSxlLlVuaWZvcm1NYXRyaXg0Zj1jbGFzcyBleHRlbmRzIFZhe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMuY3VycmVudD1xYX1zZXQoZSx0LG4pe2lmKHRoaXMuZmV0Y2hVbmlmb3JtTG9jYXRpb24oZSx0KSl7aWYoblsxMl0hPT10aGlzLmN1cnJlbnRbMTJdfHxuWzBdIT09dGhpcy5jdXJyZW50WzBdKXJldHVybiB0aGlzLmN1cnJlbnQ9bix2b2lkIHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmxvY2F0aW9uLCExLG4pO2ZvcihsZXQgZT0xO2U8MTY7ZSsrKWlmKG5bZV0hPT10aGlzLmN1cnJlbnRbZV0pe3RoaXMuY3VycmVudD1uLHRoaXMuZ2wudW5pZm9ybU1hdHJpeDRmdih0aGlzLmxvY2F0aW9uLCExLG4pO2JyZWFrfX19fSxlLlVud3JhcHBlZFRpbGVJRD16dSxlLlZhbGlkYXRpb25FcnJvcj1XaSxlLlZlY3RvclRpbGVGZWF0dXJlPWR1LGUuVmVjdG9yVGlsZVdvcmtlclNvdXJjZT1jbGFzcyBleHRlbmRzIFlle2NvbnN0cnVjdG9yKGUsdCxuLGkscil7c3VwZXIoKSx0aGlzLmFjdG9yPWUsdGhpcy5sYXllckluZGV4PXQsdGhpcy5hdmFpbGFibGVJbWFnZXM9bix0aGlzLmxvYWRWZWN0b3JEYXRhPXJ8fCRmLHRoaXMubG9hZGluZz17fSx0aGlzLmxvYWRlZD17fSx0aGlzLmRlZHVwZWQ9bmV3IHFmKGUuc2NoZWR1bGVyKSx0aGlzLmlzU3ByaXRlTG9hZGVkPWksdGhpcy5zY2hlZHVsZXI9ZS5zY2hlZHVsZXJ9bG9hZFRpbGUoZSx0KXtjb25zdCBuPWUudWlkLGk9ZSYmZS5yZXF1ZXN0LHI9aSYmaS5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsbz10aGlzLmxvYWRpbmdbbl09bmV3IFpmKGUpO28uYWJvcnQ9dGhpcy5sb2FkVmVjdG9yRGF0YShlLChhLHMpPT57Y29uc3QgbD0hdGhpcy5sb2FkaW5nW25dO2lmKGRlbGV0ZSB0aGlzLmxvYWRpbmdbbl0sbHx8YXx8IXMpcmV0dXJuIG8uc3RhdHVzPVwiZG9uZVwiLGx8fCh0aGlzLmxvYWRlZFtuXT1vKSx0KGEpO2NvbnN0IGM9cy5yYXdEYXRhLHU9e307cy5leHBpcmVzJiYodS5leHBpcmVzPXMuZXhwaXJlcykscy5jYWNoZUNvbnRyb2wmJih1LmNhY2hlQ29udHJvbD1zLmNhY2hlQ29udHJvbCksby52ZWN0b3JUaWxlPXMudmVjdG9yVGlsZXx8bmV3IGh1KG5ldyBkaChjKSk7Y29uc3QgaD0oKT0+e28ucGFyc2Uoby52ZWN0b3JUaWxlLHRoaXMubGF5ZXJJbmRleCx0aGlzLmF2YWlsYWJsZUltYWdlcyx0aGlzLmFjdG9yLChlLG4pPT57aWYoZXx8IW4pcmV0dXJuIHQoZSk7Y29uc3Qgbz17fTtpZihyKXtjb25zdCBlPU5lKGkpO2UubGVuZ3RoPjAmJihvLnJlc291cmNlVGltaW5nPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpKX10KG51bGwsQSh7cmF3VGlsZURhdGE6Yy5zbGljZSgwKX0sbix1LG8pKX0pfTt0aGlzLmlzU3ByaXRlTG9hZGVkP2goKTp0aGlzLm9uY2UoXCJpc1Nwcml0ZUxvYWRlZFwiLCgpPT57dGhpcy5zY2hlZHVsZXI/dGhpcy5zY2hlZHVsZXIuYWRkKGgse3R5cGU6XCJwYXJzZVRpbGVcIixpc1N5bWJvbFRpbGU6ZS5pc1N5bWJvbFRpbGUsem9vbTplLnRpbGVab29tfSk6aCgpfSksdGhpcy5sb2FkZWQ9dGhpcy5sb2FkZWR8fHt9LHRoaXMubG9hZGVkW25dPW99KX1yZWxvYWRUaWxlKGUsdCl7Y29uc3Qgbj10aGlzLmxvYWRlZCxpPWUudWlkLHI9dGhpcztpZihuJiZuW2ldKXtjb25zdCBvPW5baV07by5zaG93Q29sbGlzaW9uQm94ZXM9ZS5zaG93Q29sbGlzaW9uQm94ZXMsby5lbmFibGVUZXJyYWluPSEhZS5lbmFibGVUZXJyYWluLG8ucHJvamVjdGlvbj1lLnByb2plY3Rpb24sby50aWxlVHJhbnNmb3JtPWdwKGUudGlsZUlELmNhbm9uaWNhbCxlLnByb2plY3Rpb24pO2NvbnN0IGE9KGUsbik9Pntjb25zdCBpPW8ucmVsb2FkQ2FsbGJhY2s7aSYmKGRlbGV0ZSBvLnJlbG9hZENhbGxiYWNrLG8ucGFyc2Uoby52ZWN0b3JUaWxlLHIubGF5ZXJJbmRleCx0aGlzLmF2YWlsYWJsZUltYWdlcyxyLmFjdG9yLGkpKSx0KGUsbil9O1wicGFyc2luZ1wiPT09by5zdGF0dXM/by5yZWxvYWRDYWxsYmFjaz1hOlwiZG9uZVwiPT09by5zdGF0dXMmJihvLnZlY3RvclRpbGU/by5wYXJzZShvLnZlY3RvclRpbGUsdGhpcy5sYXllckluZGV4LHRoaXMuYXZhaWxhYmxlSW1hZ2VzLHRoaXMuYWN0b3IsYSk6YSgpKX19YWJvcnRUaWxlKGUsdCl7Y29uc3Qgbj1lLnVpZCxpPXRoaXMubG9hZGluZ1tuXTtpJiYoaS5hYm9ydCYmaS5hYm9ydCgpLGRlbGV0ZSB0aGlzLmxvYWRpbmdbbl0pLHQoKX1yZW1vdmVUaWxlKGUsdCl7Y29uc3Qgbj10aGlzLmxvYWRlZCxpPWUudWlkO24mJm5baV0mJmRlbGV0ZSBuW2ldLHQoKX19LGUuV3JpdGluZ01vZGU9TmgsZS5hZGQ9d2wsZS5hZGREeW5hbWljQXR0cmlidXRlcz1WcCxlLmFkam9pbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj10WzBdLGk9dFsxXSxyPXRbMl0sbz10WzNdLGE9dFs0XSxzPXRbNV0sbD10WzZdLGM9dFs3XSx1PXRbOF07cmV0dXJuIGVbMF09YSp1LXMqYyxlWzFdPXIqYy1pKnUsZVsyXT1pKnMtciphLGVbM109cypsLW8qdSxlWzRdPW4qdS1yKmwsZVs1XT1yKm8tbipzLGVbNl09bypjLWEqbCxlWzddPWkqbC1uKmMsZVs4XT1uKmEtaSpvLGV9LGUuYXN5bmNBbGw9QyxlLmJlemllcj1ULGUuYmluZEFsbD1SLGUuYm91bmRzQXR0cmlidXRlcz1tZixlLmJ1ZmZlckNvbnZleFBvbHlnb249ZnVuY3Rpb24oZSx0KXtjb25zdCBuPVtdO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCByPUkoaS0xLC0xLGUubGVuZ3RoLTEpLG89SShpKzEsLTEsZS5sZW5ndGgtMSksYT1lW2ldLHM9ZVtvXSxsPWVbcl0uc3ViKGEpLnVuaXQoKSxjPXMuc3ViKGEpLnVuaXQoKSx1PWMuYW5nbGVXaXRoU2VwKGwueCxsLnkpLGg9bC5hZGQoYykudW5pdCgpLm11bHQoLTEqdC9NYXRoLnNpbih1LzIpKTtuLnB1c2goYS5hZGQoaCkpfXJldHVybiBufSxlLmNhY2hlRW50cnlQb3NzaWJseUFkZGVkPWZ1bmN0aW9uKGUpe29lKyssb2U+dGUmJihlLmdldEFjdG9yKCkuc2VuZChcImVuZm9yY2VDYWNoZVNpemVMaW1pdFwiLGVlKSxvZT0wKX0sZS5jYWxjdWxhdGVHbG9iZUxhYmVsTWF0cml4PWZ1bmN0aW9uKGUsdCl7Y29uc3R7eDpuLHk6aX09ZS5wb2ludCxyPWxwKG4saSxlLndvcmxkU2l6ZS9lLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLDAsMCk7cmV0dXJuIHVsKHIscixzcChYZCh0KSkpfSxlLmNhbGN1bGF0ZUdsb2JlTWF0cml4PWZ1bmN0aW9uKGUpe2NvbnN0e3g6dCx5Om59PWUucG9pbnQse2xuZzppLGxhdDpyfT1lLl9jZW50ZXI7cmV0dXJuIGxwKHQsbixlLndvcmxkU2l6ZSxpLHIpfSxlLmNhbGN1bGF0ZUdsb2JlTWVyY2F0b3JNYXRyaXg9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnBpeGVsc1Blck1ldGVyLG49dC9icygxLGUuY2VudGVyLmxhdCksaT1sbChuZXcgRmxvYXQ2NEFycmF5KDE2KSk7cmV0dXJuIGhsKGksaSxbZS5wb2ludC54LGUucG9pbnQueSwwXSksZGwoaSxpLFtuLG4sdF0pLEZsb2F0MzJBcnJheS5mcm9tKGkpfSxlLmNpcmN1bWZlcmVuY2VBdExhdGl0dWRlPV9zLGUuY2xhbXA9UyxlLmNsZWFyVGlsZUNhY2hlPWZ1bmN0aW9uKGUpe2lmKCFuZSgpKXJldHVybjtjb25zdCB0PW4uY2FjaGVzLmRlbGV0ZShKKTtlJiZ0LmNhdGNoKGUpLnRoZW4oKCk9PmUoKSl9LGUuY2xpcExpbmU9c2QsZS5jbG9uZT1mdW5jdGlvbihlKXt2YXIgdD1uZXcgb2woMTYpO3JldHVybiB0WzBdPWVbMF0sdFsxXT1lWzFdLHRbMl09ZVsyXSx0WzNdPWVbM10sdFs0XT1lWzRdLHRbNV09ZVs1XSx0WzZdPWVbNl0sdFs3XT1lWzddLHRbOF09ZVs4XSx0WzldPWVbOV0sdFsxMF09ZVsxMF0sdFsxMV09ZVsxMV0sdFsxMl09ZVsxMl0sdFsxM109ZVsxM10sdFsxNF09ZVsxNF0sdFsxNV09ZVsxNV0sdH0sZS5jbG9uZSQxPU4sZS5jb2xsaXNpb25DaXJjbGVMYXlvdXQ9bmgsZS5jb25maWc9byxlLmNvbmp1Z2F0ZT1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPS10WzBdLGVbMV09LXRbMV0sZVsyXT0tdFsyXSxlWzNdPXRbM10sZX0sZS5jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgb2woMTYpO3JldHVybiBvbCE9RmxvYXQzMkFycmF5JiYoZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzExXT0wLGVbMTJdPTAsZVsxM109MCxlWzE0XT0wKSxlWzBdPTEsZVs1XT0xLGVbMTBdPTEsZVsxNV09MSxlfSxlLmNyZWF0ZSQxPWFsLGUuY3JlYXRlRXhwcmVzc2lvbj1OaSxlLmNyZWF0ZUxheW91dD1IbyxlLmNyZWF0ZVN0eWxlTGF5ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuXCJjdXN0b21cIj09PWUudHlwZT9uZXcgS3AoZSk6bmV3IG5mW2UudHlwZV0oZSl9LGUuY3Jvc3M9UGwsZS5kZWdUb1JhZD12LGUuZGlzdGFuY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gTWF0aC5oeXBvdCh0WzBdLWVbMF0sdFsxXS1lWzFdLHRbMl0tZVsyXSl9LGUuZGl2PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZVswXT10WzBdL25bMF0sZVsxXT10WzFdL25bMV0sZVsyXT10WzJdL25bMl0sZX0sZS5kb3Q9QWwsZS5lYXJ0aFJhZGl1cz1tcyxlLmVhc2U9RSxlLmVhc2VDdWJpY0luT3V0PXcsZS5lY2VmVG9MYXRMbmc9ZnVuY3Rpb24oW2UsdCxuXSl7Y29uc3QgaT1NYXRoLmh5cG90KGUsdCxuKSxyPU1hdGguYXRhbjIoZSxuKSxvPS41Kk1hdGguUEktTWF0aC5hY29zKC10L2kpO3JldHVybiBuZXcgZ3MoeChyKSx4KG8pKX0sZS5lbWl0VmFsaWRhdGlvbkVycm9ycz1DcixlLmVuZHNXaXRoPUIsZS5lbmZvcmNlQ2FjaGVTaXplTGltaXQ9ZnVuY3Rpb24oZSl7aWUoKSxRJiZRLnRoZW4odD0+e3Qua2V5cygpLnRoZW4obj0+e2ZvcihsZXQgaT0wO2k8bi5sZW5ndGgtZTtpKyspdC5kZWxldGUobltpXSl9KX0pfSxlLmV2YWx1YXRlU2l6ZUZvckZlYXR1cmU9b2gsZS5ldmFsdWF0ZVNpemVGb3Jab29tPWFoLGUuZXZhbHVhdGVWYXJpYWJsZU9mZnNldD1NZCxlLmV2ZW50ZWQ9SW8sZS5leGFjdEVxdWFscz1mdW5jdGlvbihlLHQpe3JldHVybiBlWzBdPT09dFswXSYmZVsxXT09PXRbMV0mJmVbMl09PT10WzJdJiZlWzNdPT09dFszXX0sZS5leGFjdEVxdWFscyQxPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09PT10WzBdJiZlWzFdPT09dFsxXSYmZVsyXT09PXRbMl19LGUuZXhwb3J0ZWQ9V2UsZS5leHBvcnRlZCQxPWEsZS5leHRlbmQ9QSxlLmV4dGVuZCQxPVFlLGUuZmlsbEV4dHJ1c2lvbkhlaWdodExpZnQ9TXUsZS5maWx0ZXJPYmplY3Q9RixlLmZyb21NYXQ0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbMF09dFswXSxlWzFdPXRbMV0sZVsyXT10WzJdLGVbM109dFs0XSxlWzRdPXRbNV0sZVs1XT10WzZdLGVbNl09dFs4XSxlWzddPXRbOV0sZVs4XT10WzEwXSxlfSxlLmZyb21RdWF0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dFswXSxpPXRbMV0scj10WzJdLG89dFszXSxhPW4rbixzPWkraSxsPXIrcixjPW4qYSx1PWkqYSxoPWkqcyxkPXIqYSxwPXIqcyxmPXIqbCxtPW8qYSxnPW8qcyx5PW8qbDtyZXR1cm4gZVswXT0xLWgtZixlWzFdPXUreSxlWzJdPWQtZyxlWzNdPTAsZVs0XT11LXksZVs1XT0xLWMtZixlWzZdPXArbSxlWzddPTAsZVs4XT1kK2csZVs5XT1wLW0sZVsxMF09MS1jLWgsZVsxMV09MCxlWzEyXT0wLGVbMTNdPTAsZVsxNF09MCxlWzE1XT0xLGV9LGUuZnJvbVJvdGF0aW9uPWZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5zaW4odCksaT1NYXRoLmNvcyh0KTtyZXR1cm4gZVswXT1pLGVbMV09bixlWzJdPTAsZVszXT0tbixlWzRdPWksZVs1XT0wLGVbNl09MCxlWzddPTAsZVs4XT0xLGV9LGUuZnJvbVNjYWxpbmc9bWwsZS5mdXJ0aGVzdFRpbGVDb3JuZXI9ZnVuY3Rpb24oZSl7Y29uc3QgdD1NYXRoLnJvdW5kKChlKzQ1KzM2MCklMzYwLzkwKSU0O3JldHVybiBiW3RdfSxlLmdldEFBQkJQb2ludFNxdWFyZURpc3Q9ZnVuY3Rpb24oZSx0LG4pe2xldCBpPTA7Zm9yKGxldCByPTA7cjwyOysrcil7Y29uc3Qgbz1uP25bcl06MDtlW3JdPm8mJihpKz0oZVtyXS1vKSooZVtyXS1vKSksdFtyXTxvJiYoaSs9KG8tdFtyXSkqKG8tdFtyXSkpfXJldHVybiBpfSxlLmdldEFuY2hvckFsaWdubWVudD1ZaCxlLmdldEFuY2hvckp1c3RpZmljYXRpb249Q2QsZS5nZXRCb3VuZHM9ZnVuY3Rpb24oZSl7bGV0IHQ9MS8wLG49MS8wLGk9LTEvMCxyPS0xLzA7Zm9yKGNvbnN0IG8gb2YgZSl0PU1hdGgubWluKHQsby54KSxuPU1hdGgubWluKG4sby55KSxpPU1hdGgubWF4KGksby54KSxyPU1hdGgubWF4KHIsby55KTtyZXR1cm57bWluOm5ldyBtKHQsbiksbWF4Om5ldyBtKGkscil9fSxlLmdldENvbHVtbj1ZLGUuZ2V0R3JpZE1hdHJpeD1mdW5jdGlvbihlLHQsbixpKXtjb25zdCByPXQuZ2V0Tm9ydGgoKSxvPXQuZ2V0U291dGgoKSxhPXQuZ2V0V2VzdCgpLHM9dC5nZXRFYXN0KCksbD0xPDxlLnosYz1zLWEsdT1yLW8saD1jLzY0LGQ9LXUvVmRbbl0scD1bMCxoLDAsZCwwLDAscixhLDBdO2lmKGUuej4wKXtjb25zdCBlPTE4MC9pO3NsKHAscCxbZS9jKzEsMCwwLDAsZS91KzEsMCwtLjUqZS9oLC41KmUvZCwxXSl9cmV0dXJuIHBbMl09bCxwWzVdPWUueCxwWzhdPWUueSxwfSxlLmdldEltYWdlPW1lLGUuZ2V0SlNPTj1mdW5jdGlvbihlLHQpe3JldHVybiBjZShBKGUse3R5cGU6XCJqc29uXCJ9KSx0KX0sZS5nZXRMYXRpdHVkaW5hbExvZD1mdW5jdGlvbihlKXtjb25zdCB0PTgwLjA1MTEyOTtlPVMoZSwtODAuMDUxMTI5LHQpL3QqOTA7Y29uc3Qgbj1NYXRoLnBvdyhNYXRoLmFicyhNYXRoLnNpbih2KGUpKSksMyk7cmV0dXJuIE1hdGgucm91bmQobiooVmQubGVuZ3RoLTEpKX0sZS5nZXRNYXBTZXNzaW9uQVBJPUxlLGUuZ2V0UGVyZm9ybWFuY2VNZWFzdXJlbWVudD1OZSxlLmdldFByb2plY3Rpb249QnAsZS5nZXRSVExUZXh0UGx1Z2luU3RhdHVzPUNvLGUuZ2V0UmVmZXJyZXI9bGUsZS5nZXRUaWxlUG9pbnQ9ZnVuY3Rpb24oZSx7eDp0LHk6bn0saT0wKXtyZXR1cm4gbmV3IG0oKCh0LWkpKmUuc2NhbGUtZS54KSpwcywobiplLnNjYWxlLWUueSkqcHMpfSxlLmdldFRpbGVWZWMzPWZ1bmN0aW9uKGUsdCxuPTApe3JldHVybiBibCgoKHQueC1uKSplLnNjYWxlLWUueCkqcHMsKHQueSplLnNjYWxlLWUueSkqcHMsRXModC56LHQueSkpfSxlLmdldFZpZGVvPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1uLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtpLm11dGVkPSEwLGkub25sb2Fkc3RhcnQ9ZnVuY3Rpb24oKXt0KG51bGwsaSl9O2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCByPW4uZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNvdXJjZVwiKTtoZShlW3RdKXx8KGkuY3Jvc3NPcmlnaW49XCJBbm9ueW1vdXNcIiksci5zcmM9ZVt0XSxpLmFwcGVuZENoaWxkKHIpfXJldHVybntjYW5jZWw6KCk9Pnt9fX0sZS5nbG9iZUNlbnRlclRvU2NyZWVuUG9pbnQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1bMCwwLDBdLG49bGwobmV3IEZsb2F0NjRBcnJheSgxNikpO3JldHVybiB1bChuLGUucGl4ZWxNYXRyaXgsZS5nbG9iZU1hdHJpeCksemwodCx0LG4pLG5ldyBtKHRbMF0sdFsxXSl9LGUuZ2xvYmVEZW5vcm1hbGl6ZUVDRUY9c3AsZS5nbG9iZUVDRUZPcmlnaW49ZnVuY3Rpb24oZSx0KXtjb25zdCBuPVswLDAsMF07cmV0dXJuIHpsKG4sbixhcChYZCh0LmNhbm9uaWNhbCkpKSx6bChuLG4sZSksbn0sZS5nbG9iZU5vcm1hbGl6ZUVDRUY9YXAsZS5nbG9iZVBpeGVsc1RvVGlsZVVuaXRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHBzLyg1MTIqTWF0aC5wb3coMixlKSkqcnAoWGQodCkpfSxlLmdsb2JlUG9sZU1hdHJpeEZvclRpbGU9ZnVuY3Rpb24oZSx0LG4pe2NvbnN0IGk9bGwobmV3IEZsb2F0NjRBcnJheSgxNikpLHI9KHQvKDE8PGUpLS41KSpNYXRoLlBJKjI7cmV0dXJuIGZsKGksbi5nbG9iZU1hdHJpeCxyKSxGbG9hdDMyQXJyYXkuZnJvbShpKX0sZS5nbG9iZVRpbGVCb3VuZHM9WGQsZS5nbG9iZVRpbHRBdExuZ0xhdD11cCxlLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb249Y3AsZS5nbG9iZVVzZUN1c3RvbUFudGlBbGlhc2luZz1mdW5jdGlvbihlLHQsbil7Y29uc3QgaT1jcChuLnpvb20pLHI9ZS5zdHlsZS5tYXAuX2FudGlhbGlhcyxvPSEhdC5leHRTdGFuZGFyZERlcml2YXRpdmVzLGE9dC5leHRTdGFuZGFyZERlcml2YXRpdmVzRm9yY2VPZmZ8fGUudGVycmFpbiYmZS50ZXJyYWluLmV4YWdnZXJhdGlvbigpPjA7cmV0dXJuIDA9PT1pJiYhciYmIWEmJm99LGUuaWRlbnRpdHk9bGwsZS5pZGVudGl0eSQxPVZsLGUuaW52ZXJ0PWNsLGUuaXNGdWxsc2NyZWVuPWZ1bmN0aW9uKCl7cmV0dXJuISFuLmRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50fHwhIW4uZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnR9LGUuaXNMbmdMYXRCZWhpbmRHbG9iZT1ocCxlLmlzTWFwQXV0aGVudGljYXRlZD1mdW5jdGlvbihlKXtyZXR1cm4gT2UuaGFzKGUpfSxlLmlzTWFwYm94VVJMPXllLGUuaXNTYWZhcmlXaXRoQW50aWFsaWFzaW5nQnVnPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5uYXZpZ2F0b3I/ZS5uYXZpZ2F0b3IudXNlckFnZW50Om51bGw7cmV0dXJuISFIKGUpJiZ0JiYodC5tYXRjaChcIlZlcnNpb24vMTUuNFwiKXx8dC5tYXRjaChcIlZlcnNpb24vMTUuNVwiKXx8dC5tYXRjaCgvQ1BVIChPU3xpUGhvbmUgT1MpICgxNV80fDE1XzUpIGxpa2UgTWFjIE9TIFgvKSl9LGUubGF0RnJvbU1lcmNhdG9yWT1UcyxlLmxhdExuZ1RvRUNFRj1ucCxlLmxlbj1CbCxlLmxlbmd0aD14bCxlLmxlbmd0aCQxPWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLmh5cG90KGVbMF0sZVsxXSxlWzJdLGVbM10pfSxlLmxuZ0Zyb21NZXJjYXRvclg9d3MsZS5sb2FkVmVjdG9yVGlsZT0kZixlLm1ha2VSZXF1ZXN0PWNlLGUubWFwVmFsdWU9ZnVuY3Rpb24oZSx0LG4saSxyKXtyZXR1cm4gUygoZS10KS8obi10KSooci1pKStpLGkscil9LGUubWVyY2F0b3JTY2FsZT1NcyxlLm1lcmNhdG9yWGZyb21Mbmc9dnMsZS5tZXJjYXRvcllmcm9tTGF0PXhzLGUubWVyY2F0b3JaZnJvbUFsdGl0dWRlPWJzLGUubXVsPXlsLGUubXVsJDE9UmwsZS5tdWx0aXBseT11bCxlLm11bHRpcGx5JDE9c2wsZS5tdWx0aXBseSQyPUVsLGUubmV4dFBvd2VyT2ZUd289TCxlLm5vcm1hbGl6ZT1rbCxlLm5vcm1hbGl6ZSQxPVdsLGUubm9ybWFsaXplJDI9RmwsZS5udW1iZXI9Q24sZS5vcnRobz1mdW5jdGlvbihlLHQsbixpLHIsbyxhKXt2YXIgcz0xLyh0LW4pLGw9MS8oaS1yKSxjPTEvKG8tYSk7cmV0dXJuIGVbMF09LTIqcyxlWzFdPTAsZVsyXT0wLGVbM109MCxlWzRdPTAsZVs1XT0tMipsLGVbNl09MCxlWzddPTAsZVs4XT0wLGVbOV09MCxlWzEwXT0yKmMsZVsxMV09MCxlWzEyXT0odCtuKSpzLGVbMTNdPShyK2kpKmwsZVsxNF09KGErbykqYyxlWzE1XT0xLGV9LGUucGJmPWRoLGUucGVyc3BlY3RpdmU9ZnVuY3Rpb24oZSx0LG4saSxyKXt2YXIgbyxhPTEvTWF0aC50YW4odC8yKTtyZXR1cm4gZVswXT1hL24sZVsxXT0wLGVbMl09MCxlWzNdPTAsZVs0XT0wLGVbNV09YSxlWzZdPTAsZVs3XT0wLGVbOF09MCxlWzldPTAsZVsxMV09LTEsZVsxMl09MCxlWzEzXT0wLGVbMTVdPTAsbnVsbCE9ciYmciE9PTEvMD8oZVsxMF09KHIraSkqKG89MS8oaS1yKSksZVsxNF09MipyKmkqbyk6KGVbMTBdPS0xLGVbMTRdPS0yKmkpLGV9LGUucGljaz1mdW5jdGlvbihlLHQpe2NvbnN0IG49e307Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IHI9dFtpXTtyIGluIGUmJihuW3JdPWVbcl0pfXJldHVybiBufSxlLnBsdWdpbj1BbyxlLnBvaW50R2VvbWV0cnk9bSxlLnBvbGVzSW5WaWV3cG9ydD1mdW5jdGlvbihlKXtjb25zdCB0PWxsKG5ldyBGbG9hdDY0QXJyYXkoMTYpKTt1bCh0LGUucGl4ZWxNYXRyaXgsZS5nbG9iZU1hdHJpeCk7Y29uc3Qgbj1bMCxHZCwwXSxpPVswLFpkLDBdO3JldHVybiB6bChuLG4sdCksemwoaSxpLHQpLFtuWzBdPjAmJm5bMF08PWUud2lkdGgmJm5bMV0+MCYmblsxXTw9ZS5oZWlnaHQmJiFocChlLG5ldyBncyhlLmNlbnRlci5sYXQsOTApKSxpWzBdPjAmJmlbMF08PWUud2lkdGgmJmlbMV0+MCYmaVsxXTw9ZS5oZWlnaHQmJiFocChlLG5ldyBncyhlLmNlbnRlci5sYXQsLTkwKSldfSxlLnBvbHlnb25Db250YWluc1BvaW50PVhzLGUucG9seWdvbkludGVyc2VjdHNCb3g9WXMsZS5wb2x5Z29uSW50ZXJzZWN0c1BvbHlnb249TnMsZS5wb2x5Z29uaXplQm91bmRzPWZ1bmN0aW9uKGUsdCxuPTAsaT0hMCl7Y29uc3Qgcj1uZXcgbShuLG4pLG89ZS5zdWIociksYT10LmFkZChyKSxzPVtvLG5ldyBtKGEueCxvLnkpLGEsbmV3IG0oby54LGEueSldO3JldHVybiBpJiZzLnB1c2goby5jbG9uZSgpKSxzfSxlLnBvc0F0dHJpYnV0ZXM9RmQsZS5wb3N0TWFwTG9hZEV2ZW50PUFlLGUucG9zdFBlcmZvcm1hbmNlRXZlbnQ9emUsZS5wb3N0VHVybnN0aWxlRXZlbnQ9Q2UsZS5wb3RwYWNrPUJoLGUucHJldlBvd2VyT2ZUd289ZnVuY3Rpb24oZSl7cmV0dXJuIGU8PTE/MTpNYXRoLnBvdygyLE1hdGguZmxvb3IoTWF0aC5sb2coZSkvTWF0aC5MTjIpKX0sZS5yYWRUb0RlZz14LGUucmVmUHJvcGVydGllcz1bXCJ0eXBlXCIsXCJzb3VyY2VcIixcInNvdXJjZS1sYXllclwiLFwibWluem9vbVwiLFwibWF4em9vbVwiLFwiZmlsdGVyXCIsXCJsYXlvdXRcIl0sZS5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlPWZ1bmN0aW9uKGUpe3JldHVybiBlKHtwbHVnaW5TdGF0dXM6VG8scGx1Z2luVVJMOkVvfSksSW8ub24oXCJwbHVnaW5TdGF0ZUNoYW5nZVwiLGUpLGV9LGUucmVtb3ZlQXV0aFN0YXRlPWZ1bmN0aW9uKGUpe09lLmRlbGV0ZShlKX0sZS5yZW5kZXJDb2xvclJhbXA9bGMsZS5yZXNhbXBsZT1rcyxlLnJvdGF0ZVg9cGwsZS5yb3RhdGVYJDE9R2wsZS5yb3RhdGVZPWZsLGUucm90YXRlWSQxPVpsLGUucm90YXRlWj1mdW5jdGlvbihlLHQsbil7dmFyIGk9TWF0aC5zaW4obikscj1NYXRoLmNvcyhuKSxvPXRbMF0sYT10WzFdLHM9dFsyXSxsPXRbM10sYz10WzRdLHU9dFs1XSxoPXRbNl0sZD10WzddO3JldHVybiB0IT09ZSYmKGVbOF09dFs4XSxlWzldPXRbOV0sZVsxMF09dFsxMF0sZVsxMV09dFsxMV0sZVsxMl09dFsxMl0sZVsxM109dFsxM10sZVsxNF09dFsxNF0sZVsxNV09dFsxNV0pLGVbMF09bypyK2MqaSxlWzFdPWEqcit1KmksZVsyXT1zKnIraCppLGVbM109bCpyK2QqaSxlWzRdPWMqci1vKmksZVs1XT11KnItYSppLGVbNl09aCpyLXMqaSxlWzddPWQqci1sKmksZX0sZS5yb3RhdGVaJDE9ZnVuY3Rpb24oZSx0LG4pe24qPS41O3ZhciBpPXRbMF0scj10WzFdLG89dFsyXSxhPXRbM10scz1NYXRoLnNpbihuKSxsPU1hdGguY29zKG4pO3JldHVybiBlWzBdPWkqbCtyKnMsZVsxXT1yKmwtaSpzLGVbMl09bypsK2EqcyxlWzNdPWEqbC1vKnMsZX0sZS5zY2FsZT1kbCxlLnNjYWxlJDE9amwsZS5zY2FsZSQyPUlsLGUuc2NhbGVBbmRBZGQ9Q2wsZS5zZXQ9ZnVuY3Rpb24oZSx0LG4saSl7cmV0dXJuIGVbMF09dCxlWzFdPW4sZVsyXT1pLGV9LGUuc2V0Q2FjaGVMaW1pdHM9ZnVuY3Rpb24oZSx0KXtlZT1lLHRlPXR9LGUuc2V0Q29sdW1uPWZ1bmN0aW9uKGUsdCxuKXtlWzQqdCswXT1uWzBdLGVbNCp0KzFdPW5bMV0sZVs0KnQrMl09blsyXSxlWzQqdCszXT1uWzNdfSxlLnNldFJUTFRleHRQbHVnaW49ZnVuY3Rpb24oZSx0LG49ITEpe2lmKFRvPT09dm98fFRvPT09eG98fFRvPT09Ym8pdGhyb3cgbmV3IEVycm9yKFwic2V0UlRMVGV4dFBsdWdpbiBjYW5ub3QgYmUgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlwiKTtFbz1XZS5yZXNvbHZlVVJMKGUpLFRvPXZvLHdvPXQsTW8oKSxufHxrbygpfSxlLnNtb290aHN0ZXA9TSxlLnNwZWM9SmUsZS5zcXVhcmVkTGVuZ3RoPWZ1bmN0aW9uKGUpe3ZhciB0PWVbMF0sbj1lWzFdLGk9ZVsyXTtyZXR1cm4gdCp0K24qbitpKml9LGUuc3RvcmVBdXRoU3RhdGU9ZnVuY3Rpb24oZSx0KXt0P09lLmFkZChlKTpPZS5kZWxldGUoZSl9LGUuc3ViPU9sLGUuc3VidHJhY3Q9VGwsZS5zeW1ib2xTaXplPXNoLGUudGlsZUFBQkI9ZnVuY3Rpb24oZSx0LG4saSxyLG8sYSxzLGwpe2lmKFwiZ2xvYmVcIj09PWwubmFtZSlyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe2NvbnN0IGk9dC9lLndvcmxkU2l6ZSxyPWUuZ2xvYmVNYXRyaXg7aWYobi56PD0xKXtjb25zdCBlPVhkKG4pLmdldENvcm5lcnMoKTtyZXR1cm4gUWQoZSxyLGkpLFhsLmZyb21Qb2ludHMoZSl9Y29uc3Qgbz1LZChuKSxhPWVwKG8pO1FkKGEscixpKTtjb25zdCBzPU51bWJlci5NQVhfVkFMVUUsbD1bLXMsLXMsLXNdLGM9W3MscyxzXTtpZihvLmNvbnRhaW5zKGUuY2VudGVyKSl7Zm9yKGNvbnN0IGUgb2YgYSlTbChjLGMsZSksTWwobCxsLGUpO2xbMl09MDtjb25zdCB0PWUucG9pbnQsbj1bdC54KmksdC55KmksMF07cmV0dXJuIFNsKGMsYyxuKSxNbChsLGwsbiksbmV3IFhsKGMsbCl9Y29uc3QgdT1bclsxMl0qaSxyWzEzXSppLHJbMTRdKmldLGg9by5nZXRDZW50ZXIoKSxkPVMoZS5jZW50ZXIubGF0LC04NS4wNTExMjksU3MpLHA9UyhoLmxhdCwtODUuMDUxMTI5LFNzKSxmPXZzKGUuY2VudGVyLmxuZyksbT14cyhkKTtsZXQgZz1mLXZzKGgubG5nKTtjb25zdCB5PW0teHMocCk7Zz4uNT9nLT0xOmc8LS41JiYoZys9MSk7bGV0IF89MDtNYXRoLmFicyhnKT5NYXRoLmFicyh5KT9fPWc+PTA/MTozOihfPXk+PTA/MDoyLENsKHUsdSxbcls0XSppLHJbNV0qaSxyWzZdKmldLC1NYXRoLnNpbih2KHk+PTA/by5nZXRTb3V0aCgpOm8uZ2V0Tm9ydGgoKSkpKk5kKSk7Y29uc3QgeD1hW19dLGI9YVsoXysxKSU0XSx3PW5ldyAkZCh4LGIsdSksVD1bSGQodywwKXx8eFswXSxIZCh3LDEpfHx4WzFdLEhkKHcsMil8fHhbMl1dLEU9Y3AoZS56b29tKTtpZihFPjApe2NvbnN0IGk9ZnVuY3Rpb24oe3g6ZSx5OnQsejpufSxpLHIsbyxhKXtjb25zdCBzPTEvKDE8PG4pO2xldCBsPWUqcyxjPWwrcyx1PXQqcyxoPXUrcyxkPTA7Y29uc3QgcD0obCtjKS8yLW87cmV0dXJuIHA+LjU/ZD0tMTpwPC0uNSYmKGQ9MSksbD0oKGwrZCkqaS0obyo9aSkpKnIrbyxjPSgoYytkKSppLW8pKnIrbyx1PSh1KmktKGEqPWkpKSpyK2EsaD0oaCppLWEpKnIrYSxbW2wsaCwwXSxbYyxoLDBdLFtjLHUsMF0sW2wsdSwwXV19KG4sdCxlLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLGYsbSk7Zm9yKGxldCBlPTA7ZTxhLmxlbmd0aDtlKyspWWQoYVtlXSxpW2VdLEUpO2NvbnN0IHI9d2woW10saVtfXSxpWyhfKzEpJTRdKTtJbChyLHIsLjUpLFlkKFQscixFKX1mb3IoY29uc3QgZSBvZiBhKVNsKGMsYyxlKSxNbChsLGwsZSk7cmV0dXJuIGNbMl09TWF0aC5taW4oeFsyXSxiWzJdKSxTbChjLGMsVCksTWwobCxsLFQpLG5ldyBYbChjLGwpfShlLHQsbmV3IFB1KG4saSxyKSk7Y29uc3QgYz1ncCh7ejpuLHg6aSx5OnJ9LGwpO3JldHVybiBuZXcgWGwoWyhvK2MueC9jLnNjYWxlKSp0LHQqKGMueS9jLnNjYWxlKSxhXSxbKG8rYy54Mi9jLnNjYWxlKSp0LHQqKGMueTIvYy5zY2FsZSksc10pfSxlLnRpbGVDb3JuZXJzVG9Cb3VuZHM9S2QsZS50aWxlVHJhbnNmb3JtPWdwLGUudHJhbnNmb3JtTWF0Mz1mdW5jdGlvbihlLHQsbil7dmFyIGk9dFswXSxyPXRbMV0sbz10WzJdO3JldHVybiBlWzBdPWkqblswXStyKm5bM10rbypuWzZdLGVbMV09aSpuWzFdK3Iqbls0XStvKm5bN10sZVsyXT1pKm5bMl0rcipuWzVdK28qbls4XSxlfSxlLnRyYW5zZm9ybU1hdDQ9emwsZS50cmFuc2Zvcm1NYXQ0JDE9TmwsZS50cmFuc2Zvcm1RdWF0PURsLGUudHJhbnNpdGlvblRpbGVBQUJCaW5FQ0VGPUpkLGUudHJhbnNsYXRlPWhsLGUudHJhbnNwb3NlPWZ1bmN0aW9uKGUsdCl7aWYoZT09PXQpe3ZhciBuPXRbMV0saT10WzJdLHI9dFs1XTtlWzFdPXRbM10sZVsyXT10WzZdLGVbM109bixlWzVdPXRbN10sZVs2XT1pLGVbN109cn1lbHNlIGVbMF09dFswXSxlWzFdPXRbM10sZVsyXT10WzZdLGVbM109dFsxXSxlWzRdPXRbNF0sZVs1XT10WzddLGVbNl09dFsyXSxlWzddPXRbNV0sZVs4XT10WzhdO3JldHVybiBlfSxlLnRyaWdnZXJQbHVnaW5Db21wbGV0aW9uRXZlbnQ9U28sZS51bmlxdWVJZD16LGUudXBkYXRlR2xvYmVWZXJ0ZXhOb3JtYWw9ZnVuY3Rpb24oZSx0LG4saSxyKXtjb25zdCBvPTUqdCsyO2UuZmxvYXQzMltvKzBdPW4sZS5mbG9hdDMyW28rMV09aSxlLmZsb2F0MzJbbysyXT1yfSxlLnZhbGlkYXRlQ3VzdG9tU3R5bGVMYXllcj1mdW5jdGlvbihlKXtjb25zdCB0PVtdLG49ZS5pZDtyZXR1cm4gdm9pZCAwPT09biYmdC5wdXNoKHttZXNzYWdlOmBsYXllcnMuJHtufTogbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcImlkXCJgfSksdm9pZCAwPT09ZS5yZW5kZXImJnQucHVzaCh7bWVzc2FnZTpgbGF5ZXJzLiR7bn06IG1pc3NpbmcgcmVxdWlyZWQgbWV0aG9kIFwicmVuZGVyXCJgfSksZS5yZW5kZXJpbmdNb2RlJiZcIjJkXCIhPT1lLnJlbmRlcmluZ01vZGUmJlwiM2RcIiE9PWUucmVuZGVyaW5nTW9kZSYmdC5wdXNoKHttZXNzYWdlOmBsYXllcnMuJHtufTogcHJvcGVydHkgXCJyZW5kZXJpbmdNb2RlXCIgbXVzdCBiZSBlaXRoZXIgXCIyZFwiIG9yIFwiM2RcImB9KSx0fSxlLnZhbGlkYXRlRmlsdGVyPWU9PklyKGNyKGUpKSxlLnZhbGlkYXRlRm9nPWU9PklyKHhyKGUpKSxlLnZhbGlkYXRlTGF5ZXI9ZT0+SXIocHIoZSkpLGUudmFsaWRhdGVMaWdodD1lPT5JcihfcihlKSksZS52YWxpZGF0ZVNvdXJjZT1lPT5JcihncihlKSksZS52YWxpZGF0ZVN0eWxlPUVyLGUudmFsaWRhdGVUZXJyYWluPWU9PklyKHZyKGUpKSxlLnZhbHVlcz1rLGUudmVjdG9yVGlsZT1LYyxlLnZlcnNpb249aSxlLndhcm5PbmNlPVYsZS53aW5kb3c9bixlLndyYXA9SX0pKSxyKFtcIi4vc2hhcmVkXCJdLChmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KGUpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlfHxcImJvb2xlYW5cIj09dHlwZW9mIGV8fFwic3RyaW5nXCI9PXR5cGVvZiBlfHxudWxsPT1lKXJldHVybiBKU09OLnN0cmluZ2lmeShlKTtpZihBcnJheS5pc0FycmF5KGUpKXtsZXQgbj1cIltcIjtmb3IoY29uc3QgaSBvZiBlKW4rPXQoaSkrXCIsXCI7cmV0dXJuIG4rXCJdXCJ9bGV0IG49XCJ7XCI7Zm9yKGNvbnN0IGkgb2YgT2JqZWN0LmtleXMoZSkuc29ydCgpKW4rPWAke2l9OiR7dChlW2ldKX0sYDtyZXR1cm4gbitcIn1cIn1mdW5jdGlvbiBuKG4pe2xldCBpPVwiXCI7Zm9yKGNvbnN0IHIgb2YgZS5yZWZQcm9wZXJ0aWVzKWkrPVwiL1wiK3QobltyXSk7cmV0dXJuIGl9Y2xhc3MgaXtjb25zdHJ1Y3RvcihlKXt0aGlzLmtleUNhY2hlPXt9LGUmJnRoaXMucmVwbGFjZShlKX1yZXBsYWNlKGUpe3RoaXMuX2xheWVyQ29uZmlncz17fSx0aGlzLl9sYXllcnM9e30sdGhpcy51cGRhdGUoZSxbXSl9dXBkYXRlKHQsaSl7Zm9yKGNvbnN0IG4gb2YgdCl0aGlzLl9sYXllckNvbmZpZ3Nbbi5pZF09biwodGhpcy5fbGF5ZXJzW24uaWRdPWUuY3JlYXRlU3R5bGVMYXllcihuKSkuY29tcGlsZUZpbHRlcigpLHRoaXMua2V5Q2FjaGVbbi5pZF0mJmRlbGV0ZSB0aGlzLmtleUNhY2hlW24uaWRdO2Zvcihjb25zdCBlIG9mIGkpZGVsZXRlIHRoaXMua2V5Q2FjaGVbZV0sZGVsZXRlIHRoaXMuX2xheWVyQ29uZmlnc1tlXSxkZWxldGUgdGhpcy5fbGF5ZXJzW2VdO3RoaXMuZmFtaWxpZXNCeVNvdXJjZT17fTtjb25zdCByPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT17fTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl7Y29uc3Qgbz10JiZ0W2Vbcl0uaWRdfHxuKGVbcl0pO3QmJih0W2Vbcl0uaWRdPW8pO2xldCBhPWlbb107YXx8KGE9aVtvXT1bXSksYS5wdXNoKGVbcl0pfWNvbnN0IHI9W107Zm9yKGNvbnN0IGUgaW4gaSlyLnB1c2goaVtlXSk7cmV0dXJuIHJ9KGUudmFsdWVzKHRoaXMuX2xheWVyQ29uZmlncyksdGhpcy5rZXlDYWNoZSk7Zm9yKGNvbnN0IGUgb2Ygcil7Y29uc3QgdD1lLm1hcChlPT50aGlzLl9sYXllcnNbZS5pZF0pLG49dFswXTtpZihcIm5vbmVcIj09PW4udmlzaWJpbGl0eSljb250aW51ZTtjb25zdCBpPW4uc291cmNlfHxcIlwiO2xldCByPXRoaXMuZmFtaWxpZXNCeVNvdXJjZVtpXTtyfHwocj10aGlzLmZhbWlsaWVzQnlTb3VyY2VbaV09e30pO2NvbnN0IG89bi5zb3VyY2VMYXllcnx8XCJfZ2VvanNvblRpbGVMYXllclwiO2xldCBhPXJbb107YXx8KGE9cltvXT1bXSksYS5wdXNoKHQpfX19Y2xhc3Mgcntsb2FkVGlsZSh0LG4pe2NvbnN0e3VpZDppLGVuY29kaW5nOnIscmF3SW1hZ2VEYXRhOm8scGFkZGluZzphLGJ1aWxkUXVhZFRyZWU6c309dCxsPWUud2luZG93LkltYWdlQml0bWFwJiZvIGluc3RhbmNlb2YgZS53aW5kb3cuSW1hZ2VCaXRtYXA/dGhpcy5nZXRJbWFnZURhdGEobyxhKTpvO24obnVsbCxuZXcgZS5ERU1EYXRhKGksbCxyLGE8MSxzKSl9Z2V0SW1hZ2VEYXRhKGUsdCl7dGhpcy5vZmZzY3JlZW5DYW52YXMmJnRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dHx8KHRoaXMub2Zmc2NyZWVuQ2FudmFzPW5ldyBPZmZzY3JlZW5DYW52YXMoZS53aWR0aCxlLmhlaWdodCksdGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0PXRoaXMub2Zmc2NyZWVuQ2FudmFzLmdldENvbnRleHQoXCIyZFwiLHt3aWxsUmVhZEZyZXF1ZW50bHk6ITB9KSksdGhpcy5vZmZzY3JlZW5DYW52YXMud2lkdGg9ZS53aWR0aCx0aGlzLm9mZnNjcmVlbkNhbnZhcy5oZWlnaHQ9ZS5oZWlnaHQsdGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0LmRyYXdJbWFnZShlLDAsMCxlLndpZHRoLGUuaGVpZ2h0KTtjb25zdCBuPXRoaXMub2Zmc2NyZWVuQ2FudmFzQ29udGV4dC5nZXRJbWFnZURhdGEoLXQsLXQsZS53aWR0aCsyKnQsZS5oZWlnaHQrMip0KTtyZXR1cm4gdGhpcy5vZmZzY3JlZW5DYW52YXNDb250ZXh0LmNsZWFyUmVjdCgwLDAsdGhpcy5vZmZzY3JlZW5DYW52YXMud2lkdGgsdGhpcy5vZmZzY3JlZW5DYW52YXMuaGVpZ2h0KSxufX12YXIgbz1mdW5jdGlvbiBlKHQsbil7dmFyIGkscj10JiZ0LnR5cGU7aWYoXCJGZWF0dXJlQ29sbGVjdGlvblwiPT09cilmb3IoaT0wO2k8dC5mZWF0dXJlcy5sZW5ndGg7aSsrKWUodC5mZWF0dXJlc1tpXSxuKTtlbHNlIGlmKFwiR2VvbWV0cnlDb2xsZWN0aW9uXCI9PT1yKWZvcihpPTA7aTx0Lmdlb21ldHJpZXMubGVuZ3RoO2krKyllKHQuZ2VvbWV0cmllc1tpXSxuKTtlbHNlIGlmKFwiRmVhdHVyZVwiPT09cillKHQuZ2VvbWV0cnksbik7ZWxzZSBpZihcIlBvbHlnb25cIj09PXIpYSh0LmNvb3JkaW5hdGVzLG4pO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PXIpZm9yKGk9MDtpPHQuY29vcmRpbmF0ZXMubGVuZ3RoO2krKylhKHQuY29vcmRpbmF0ZXNbaV0sbik7cmV0dXJuIHR9O2Z1bmN0aW9uIGEoZSx0KXtpZigwIT09ZS5sZW5ndGgpe3MoZVswXSx0KTtmb3IodmFyIG49MTtuPGUubGVuZ3RoO24rKylzKGVbbl0sIXQpfX1mdW5jdGlvbiBzKGUsdCl7Zm9yKHZhciBuPTAsaT0wLHI9MCxvPWUubGVuZ3RoLGE9by0xO3I8bzthPXIrKyl7dmFyIHM9KGVbcl1bMF0tZVthXVswXSkqKGVbYV1bMV0rZVtyXVsxXSksbD1uK3M7aSs9TWF0aC5hYnMobik+PU1hdGguYWJzKHMpP24tbCtzOnMtbCtuLG49bH1uK2k+PTAhPSEhdCYmZS5yZXZlcnNlKCl9Y29uc3QgbD1lLlZlY3RvclRpbGVGZWF0dXJlLnByb3RvdHlwZS50b0dlb0pTT047Y2xhc3MgY3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9mZWF0dXJlPXQsdGhpcy5leHRlbnQ9ZS5FWFRFTlQsdGhpcy50eXBlPXQudHlwZSx0aGlzLnByb3BlcnRpZXM9dC50YWdzLFwiaWRcImluIHQmJiFpc05hTih0LmlkKSYmKHRoaXMuaWQ9cGFyc2VJbnQodC5pZCwxMCkpfWxvYWRHZW9tZXRyeSgpe2lmKDE9PT10aGlzLl9mZWF0dXJlLnR5cGUpe2NvbnN0IHQ9W107Zm9yKGNvbnN0IG4gb2YgdGhpcy5fZmVhdHVyZS5nZW9tZXRyeSl0LnB1c2goW25ldyBlLnBvaW50R2VvbWV0cnkoblswXSxuWzFdKV0pO3JldHVybiB0fXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIG9mIHRoaXMuX2ZlYXR1cmUuZ2VvbWV0cnkpe2NvbnN0IGk9W107Zm9yKGNvbnN0IHQgb2YgbilpLnB1c2gobmV3IGUucG9pbnRHZW9tZXRyeSh0WzBdLHRbMV0pKTt0LnB1c2goaSl9cmV0dXJuIHR9fXRvR2VvSlNPTihlLHQsbil7cmV0dXJuIGwuY2FsbCh0aGlzLGUsdCxuKX19Y2xhc3MgdXtjb25zdHJ1Y3Rvcih0KXt0aGlzLmxheWVycz17X2dlb2pzb25UaWxlTGF5ZXI6dGhpc30sdGhpcy5uYW1lPVwiX2dlb2pzb25UaWxlTGF5ZXJcIix0aGlzLmV4dGVudD1lLkVYVEVOVCx0aGlzLmxlbmd0aD10Lmxlbmd0aCx0aGlzLl9mZWF0dXJlcz10fWZlYXR1cmUoZSl7cmV0dXJuIG5ldyBjKHRoaXMuX2ZlYXR1cmVzW2VdKX19dmFyIGg9e2V4cG9ydHM6e319LGQ9ZS5wb2ludEdlb21ldHJ5LHA9ZS52ZWN0b3JUaWxlLlZlY3RvclRpbGVGZWF0dXJlLGY9bTtmdW5jdGlvbiBtKGUsdCl7dGhpcy5vcHRpb25zPXR8fHt9LHRoaXMuZmVhdHVyZXM9ZSx0aGlzLmxlbmd0aD1lLmxlbmd0aH1mdW5jdGlvbiBnKGUsdCl7dGhpcy5pZD1cIm51bWJlclwiPT10eXBlb2YgZS5pZD9lLmlkOnZvaWQgMCx0aGlzLnR5cGU9ZS50eXBlLHRoaXMucmF3R2VvbWV0cnk9MT09PWUudHlwZT9bZS5nZW9tZXRyeV06ZS5nZW9tZXRyeSx0aGlzLnByb3BlcnRpZXM9ZS50YWdzLHRoaXMuZXh0ZW50PXR8fDQwOTZ9bS5wcm90b3R5cGUuZmVhdHVyZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGcodGhpcy5mZWF0dXJlc1tlXSx0aGlzLm9wdGlvbnMuZXh0ZW50KX0sZy5wcm90b3R5cGUubG9hZEdlb21ldHJ5PWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5yYXdHZW9tZXRyeTt0aGlzLmdlb21ldHJ5PVtdO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtmb3IodmFyIG49ZVt0XSxpPVtdLHI9MDtyPG4ubGVuZ3RoO3IrKylpLnB1c2gobmV3IGQobltyXVswXSxuW3JdWzFdKSk7dGhpcy5nZW9tZXRyeS5wdXNoKGkpfXJldHVybiB0aGlzLmdlb21ldHJ5fSxnLnByb3RvdHlwZS5iYm94PWZ1bmN0aW9uKCl7dGhpcy5nZW9tZXRyeXx8dGhpcy5sb2FkR2VvbWV0cnkoKTtmb3IodmFyIGU9dGhpcy5nZW9tZXRyeSx0PTEvMCxuPS0xLzAsaT0xLzAscj0tMS8wLG89MDtvPGUubGVuZ3RoO28rKylmb3IodmFyIGE9ZVtvXSxzPTA7czxhLmxlbmd0aDtzKyspe3ZhciBsPWFbc107dD1NYXRoLm1pbih0LGwueCksbj1NYXRoLm1heChuLGwueCksaT1NYXRoLm1pbihpLGwueSkscj1NYXRoLm1heChyLGwueSl9cmV0dXJuW3QsaSxuLHJdfSxnLnByb3RvdHlwZS50b0dlb0pTT049cC5wcm90b3R5cGUudG9HZW9KU09OO3ZhciB5PWUucGJmLF89ZjtmdW5jdGlvbiB2KGUpe3ZhciB0PW5ldyB5O3JldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlLmxheWVycyl0LndyaXRlTWVzc2FnZSgzLHgsZS5sYXllcnNbbl0pfShlLHQpLHQuZmluaXNoKCl9ZnVuY3Rpb24geChlLHQpe3ZhciBuO3Qud3JpdGVWYXJpbnRGaWVsZCgxNSxlLnZlcnNpb258fDEpLHQud3JpdGVTdHJpbmdGaWVsZCgxLGUubmFtZXx8XCJcIiksdC53cml0ZVZhcmludEZpZWxkKDUsZS5leHRlbnR8fDQwOTYpO3ZhciBpPXtrZXlzOltdLHZhbHVlczpbXSxrZXljYWNoZTp7fSx2YWx1ZWNhY2hlOnt9fTtmb3Iobj0wO248ZS5sZW5ndGg7bisrKWkuZmVhdHVyZT1lLmZlYXR1cmUobiksdC53cml0ZU1lc3NhZ2UoMixiLGkpO3ZhciByPWkua2V5cztmb3Iobj0wO248ci5sZW5ndGg7bisrKXQud3JpdGVTdHJpbmdGaWVsZCgzLHJbbl0pO3ZhciBvPWkudmFsdWVzO2ZvcihuPTA7bjxvLmxlbmd0aDtuKyspdC53cml0ZU1lc3NhZ2UoNCxNLG9bbl0pfWZ1bmN0aW9uIGIoZSx0KXt2YXIgbj1lLmZlYXR1cmU7dm9pZCAwIT09bi5pZCYmdC53cml0ZVZhcmludEZpZWxkKDEsbi5pZCksdC53cml0ZU1lc3NhZ2UoMix3LGUpLHQud3JpdGVWYXJpbnRGaWVsZCgzLG4udHlwZSksdC53cml0ZU1lc3NhZ2UoNCxTLG4pfWZ1bmN0aW9uIHcoZSx0KXt2YXIgbj1lLmZlYXR1cmUsaT1lLmtleXMscj1lLnZhbHVlcyxvPWUua2V5Y2FjaGUsYT1lLnZhbHVlY2FjaGU7Zm9yKHZhciBzIGluIG4ucHJvcGVydGllcyl7dmFyIGw9bi5wcm9wZXJ0aWVzW3NdLGM9b1tzXTtpZihudWxsIT09bCl7dm9pZCAwPT09YyYmKGkucHVzaChzKSxvW3NdPWM9aS5sZW5ndGgtMSksdC53cml0ZVZhcmludChjKTt2YXIgdT10eXBlb2YgbDtcInN0cmluZ1wiIT09dSYmXCJib29sZWFuXCIhPT11JiZcIm51bWJlclwiIT09dSYmKGw9SlNPTi5zdHJpbmdpZnkobCkpO3ZhciBoPXUrXCI6XCIrbCxkPWFbaF07dm9pZCAwPT09ZCYmKHIucHVzaChsKSxhW2hdPWQ9ci5sZW5ndGgtMSksdC53cml0ZVZhcmludChkKX19fWZ1bmN0aW9uIFQoZSx0KXtyZXR1cm4odDw8MykrKDcmZSl9ZnVuY3Rpb24gRShlKXtyZXR1cm4gZTw8MV5lPj4zMX1mdW5jdGlvbiBTKGUsdCl7Zm9yKHZhciBuPWUubG9hZEdlb21ldHJ5KCksaT1lLnR5cGUscj0wLG89MCxhPW4ubGVuZ3RoLHM9MDtzPGE7cysrKXt2YXIgbD1uW3NdLGM9MTsxPT09aSYmKGM9bC5sZW5ndGgpLHQud3JpdGVWYXJpbnQoVCgxLGMpKTtmb3IodmFyIHU9Mz09PWk/bC5sZW5ndGgtMTpsLmxlbmd0aCxoPTA7aDx1O2grKyl7MT09PWgmJjEhPT1pJiZ0LndyaXRlVmFyaW50KFQoMix1LTEpKTt2YXIgZD1sW2hdLngtcixwPWxbaF0ueS1vO3Qud3JpdGVWYXJpbnQoRShkKSksdC53cml0ZVZhcmludChFKHApKSxyKz1kLG8rPXB9Mz09PWkmJnQud3JpdGVWYXJpbnQoVCg3LDEpKX19ZnVuY3Rpb24gTShlLHQpe3ZhciBuPXR5cGVvZiBlO1wic3RyaW5nXCI9PT1uP3Qud3JpdGVTdHJpbmdGaWVsZCgxLGUpOlwiYm9vbGVhblwiPT09bj90LndyaXRlQm9vbGVhbkZpZWxkKDcsZSk6XCJudW1iZXJcIj09PW4mJihlJTEhPTA/dC53cml0ZURvdWJsZUZpZWxkKDMsZSk6ZTwwP3Qud3JpdGVTVmFyaW50RmllbGQoNixlKTp0LndyaXRlVmFyaW50RmllbGQoNSxlKSl9ZnVuY3Rpb24gSShlLHQsbixpLHIsbyl7aWYoci1pPD1uKXJldHVybjtjb25zdCBhPWkrcj4+MTsoZnVuY3Rpb24gZSh0LG4saSxyLG8sYSl7Zm9yKDtvPnI7KXtpZihvLXI+NjAwKXtjb25zdCBzPW8tcisxLGw9aS1yKzEsYz1NYXRoLmxvZyhzKSx1PS41Kk1hdGguZXhwKDIqYy8zKSxoPS41Kk1hdGguc3FydChjKnUqKHMtdSkvcykqKGwtcy8yPDA/LTE6MSk7ZSh0LG4saSxNYXRoLm1heChyLE1hdGguZmxvb3IoaS1sKnUvcytoKSksTWF0aC5taW4obyxNYXRoLmZsb29yKGkrKHMtbCkqdS9zK2gpKSxhKX1jb25zdCBzPW5bMippK2FdO2xldCBsPXIsYz1vO2ZvcihDKHQsbixyLGkpLG5bMipvK2FdPnMmJkModCxuLHIsbyk7bDxjOyl7Zm9yKEModCxuLGwsYyksbCsrLGMtLTtuWzIqbCthXTxzOylsKys7Zm9yKDtuWzIqYythXT5zOyljLS19blsyKnIrYV09PT1zP0ModCxuLHIsYyk6KGMrKyxDKHQsbixjLG8pKSxjPD1pJiYocj1jKzEpLGk8PWMmJihvPWMtMSl9fSkoZSx0LGEsaSxyLG8lMiksSShlLHQsbixpLGEtMSxvKzEpLEkoZSx0LG4sYSsxLHIsbysxKX1mdW5jdGlvbiBDKGUsdCxuLGkpe2soZSxuLGkpLGsodCwyKm4sMippKSxrKHQsMipuKzEsMippKzEpfWZ1bmN0aW9uIGsoZSx0LG4pe2NvbnN0IGk9ZVt0XTtlW3RdPWVbbl0sZVtuXT1pfWZ1bmN0aW9uIEEoZSx0LG4saSl7Y29uc3Qgcj1lLW4sbz10LWk7cmV0dXJuIHIqcitvKm99aC5leHBvcnRzPXYsaC5leHBvcnRzLmZyb21WZWN0b3JUaWxlSnM9dixoLmV4cG9ydHMuZnJvbUdlb2pzb25WdD1mdW5jdGlvbihlLHQpe3Q9dHx8e307dmFyIG49e307Zm9yKHZhciBpIGluIGUpbltpXT1uZXcgXyhlW2ldLmZlYXR1cmVzLHQpLG5baV0ubmFtZT1pLG5baV0udmVyc2lvbj10LnZlcnNpb24sbltpXS5leHRlbnQ9dC5leHRlbnQ7cmV0dXJuIHYoe2xheWVyczpufSl9LGguZXhwb3J0cy5HZW9KU09OV3JhcHBlcj1fO2NvbnN0IFA9ZT0+ZVswXSx6PWU9PmVbMV07Y2xhc3MgRHtjb25zdHJ1Y3RvcihlLHQ9UCxuPXosaT02NCxyPUZsb2F0NjRBcnJheSl7dGhpcy5ub2RlU2l6ZT1pLHRoaXMucG9pbnRzPWU7Y29uc3Qgbz1lLmxlbmd0aDw2NTUzNj9VaW50MTZBcnJheTpVaW50MzJBcnJheSxhPXRoaXMuaWRzPW5ldyBvKGUubGVuZ3RoKSxzPXRoaXMuY29vcmRzPW5ldyByKDIqZS5sZW5ndGgpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKWFbaV09aSxzWzIqaV09dChlW2ldKSxzWzIqaSsxXT1uKGVbaV0pO0koYSxzLGksMCxhLmxlbmd0aC0xLDApfXJhbmdlKGUsdCxuLGkpe3JldHVybiBmdW5jdGlvbihlLHQsbixpLHIsbyxhKXtjb25zdCBzPVswLGUubGVuZ3RoLTEsMF0sbD1bXTtsZXQgYyx1O2Zvcig7cy5sZW5ndGg7KXtjb25zdCBoPXMucG9wKCksZD1zLnBvcCgpLHA9cy5wb3AoKTtpZihkLXA8PWEpe2ZvcihsZXQgYT1wO2E8PWQ7YSsrKWM9dFsyKmFdLHU9dFsyKmErMV0sYz49biYmYzw9ciYmdT49aSYmdTw9byYmbC5wdXNoKGVbYV0pO2NvbnRpbnVlfWNvbnN0IGY9TWF0aC5mbG9vcigocCtkKS8yKTtjPXRbMipmXSx1PXRbMipmKzFdLGM+PW4mJmM8PXImJnU+PWkmJnU8PW8mJmwucHVzaChlW2ZdKTtjb25zdCBtPShoKzEpJTI7KDA9PT1oP248PWM6aTw9dSkmJihzLnB1c2gocCkscy5wdXNoKGYtMSkscy5wdXNoKG0pKSwoMD09PWg/cj49YzpvPj11KSYmKHMucHVzaChmKzEpLHMucHVzaChkKSxzLnB1c2gobSkpfXJldHVybiBsfSh0aGlzLmlkcyx0aGlzLmNvb3JkcyxlLHQsbixpLHRoaXMubm9kZVNpemUpfXdpdGhpbihlLHQsbil7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLGkscixvKXtjb25zdCBhPVswLGUubGVuZ3RoLTEsMF0scz1bXSxsPXIqcjtmb3IoO2EubGVuZ3RoOyl7Y29uc3QgYz1hLnBvcCgpLHU9YS5wb3AoKSxoPWEucG9wKCk7aWYodS1oPD1vKXtmb3IobGV0IHI9aDtyPD11O3IrKylBKHRbMipyXSx0WzIqcisxXSxuLGkpPD1sJiZzLnB1c2goZVtyXSk7Y29udGludWV9Y29uc3QgZD1NYXRoLmZsb29yKChoK3UpLzIpLHA9dFsyKmRdLGY9dFsyKmQrMV07QShwLGYsbixpKTw9bCYmcy5wdXNoKGVbZF0pO2NvbnN0IG09KGMrMSklMjsoMD09PWM/bi1yPD1wOmktcjw9ZikmJihhLnB1c2goaCksYS5wdXNoKGQtMSksYS5wdXNoKG0pKSwoMD09PWM/bityPj1wOmkrcj49ZikmJihhLnB1c2goZCsxKSxhLnB1c2godSksYS5wdXNoKG0pKX1yZXR1cm4gc30odGhpcy5pZHMsdGhpcy5jb29yZHMsZSx0LG4sdGhpcy5ub2RlU2l6ZSl9fWNvbnN0IEw9e21pblpvb206MCxtYXhab29tOjE2LG1pblBvaW50czoyLHJhZGl1czo0MCxleHRlbnQ6NTEyLG5vZGVTaXplOjY0LGxvZzohMSxnZW5lcmF0ZUlkOiExLHJlZHVjZTpudWxsLG1hcDplPT5lfSxPPU1hdGguZnJvdW5kfHwoUj1uZXcgRmxvYXQzMkFycmF5KDEpLGU9PihSWzBdPStlLFJbMF0pKTt2YXIgUjtjbGFzcyBCe2NvbnN0cnVjdG9yKGUpe3RoaXMub3B0aW9ucz1XKE9iamVjdC5jcmVhdGUoTCksZSksdGhpcy50cmVlcz1uZXcgQXJyYXkodGhpcy5vcHRpb25zLm1heFpvb20rMSl9bG9hZChlKXtjb25zdHtsb2c6dCxtaW5ab29tOm4sbWF4Wm9vbTppLG5vZGVTaXplOnJ9PXRoaXMub3B0aW9uczt0JiZjb25zb2xlLnRpbWUoXCJ0b3RhbCB0aW1lXCIpO2NvbnN0IG89YHByZXBhcmUgJHtlLmxlbmd0aH0gcG9pbnRzYDt0JiZjb25zb2xlLnRpbWUobyksdGhpcy5wb2ludHM9ZTtsZXQgYT1bXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyllW3RdLmdlb21ldHJ5JiZhLnB1c2goRihlW3RdLHQpKTt0aGlzLnRyZWVzW2krMV09bmV3IEQoYSxxLCQscixGbG9hdDMyQXJyYXkpLHQmJmNvbnNvbGUudGltZUVuZChvKTtmb3IobGV0IGU9aTtlPj1uO2UtLSl7Y29uc3Qgbj0rRGF0ZS5ub3coKTthPXRoaXMuX2NsdXN0ZXIoYSxlKSx0aGlzLnRyZWVzW2VdPW5ldyBEKGEscSwkLHIsRmxvYXQzMkFycmF5KSx0JiZjb25zb2xlLmxvZyhcInolZDogJWQgY2x1c3RlcnMgaW4gJWRtc1wiLGUsYS5sZW5ndGgsK0RhdGUubm93KCktbil9cmV0dXJuIHQmJmNvbnNvbGUudGltZUVuZChcInRvdGFsIHRpbWVcIiksdGhpc31nZXRDbHVzdGVycyhlLHQpe2xldCBuPSgoZVswXSsxODApJTM2MCszNjApJTM2MC0xODA7Y29uc3QgaT1NYXRoLm1heCgtOTAsTWF0aC5taW4oOTAsZVsxXSkpO2xldCByPTE4MD09PWVbMl0/MTgwOigoZVsyXSsxODApJTM2MCszNjApJTM2MC0xODA7Y29uc3Qgbz1NYXRoLm1heCgtOTAsTWF0aC5taW4oOTAsZVszXSkpO2lmKGVbMl0tZVswXT49MzYwKW49LTE4MCxyPTE4MDtlbHNlIGlmKG4+cil7Y29uc3QgZT10aGlzLmdldENsdXN0ZXJzKFtuLGksMTgwLG9dLHQpLGE9dGhpcy5nZXRDbHVzdGVycyhbLTE4MCxpLHIsb10sdCk7cmV0dXJuIGUuY29uY2F0KGEpfWNvbnN0IGE9dGhpcy50cmVlc1t0aGlzLl9saW1pdFpvb20odCldLHM9YS5yYW5nZShWKG4pLEcobyksVihyKSxHKGkpKSxsPVtdO2Zvcihjb25zdCBlIG9mIHMpe2NvbnN0IHQ9YS5wb2ludHNbZV07bC5wdXNoKHQubnVtUG9pbnRzP04odCk6dGhpcy5wb2ludHNbdC5pbmRleF0pfXJldHVybiBsfWdldENoaWxkcmVuKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0T3JpZ2luSWQoZSksbj10aGlzLl9nZXRPcmlnaW5ab29tKGUpLGk9XCJObyBjbHVzdGVyIHdpdGggdGhlIHNwZWNpZmllZCBpZC5cIixyPXRoaXMudHJlZXNbbl07aWYoIXIpdGhyb3cgbmV3IEVycm9yKGkpO2NvbnN0IG89ci5wb2ludHNbdF07aWYoIW8pdGhyb3cgbmV3IEVycm9yKGkpO2NvbnN0IGE9dGhpcy5vcHRpb25zLnJhZGl1cy8odGhpcy5vcHRpb25zLmV4dGVudCpNYXRoLnBvdygyLG4tMSkpLHM9ci53aXRoaW4oby54LG8ueSxhKSxsPVtdO2Zvcihjb25zdCB0IG9mIHMpe2NvbnN0IG49ci5wb2ludHNbdF07bi5wYXJlbnRJZD09PWUmJmwucHVzaChuLm51bVBvaW50cz9OKG4pOnRoaXMucG9pbnRzW24uaW5kZXhdKX1pZigwPT09bC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKGkpO3JldHVybiBsfWdldExlYXZlcyhlLHQsbil7Y29uc3QgaT1bXTtyZXR1cm4gdGhpcy5fYXBwZW5kTGVhdmVzKGksZSx0PXR8fDEwLG49bnx8MCwwKSxpfWdldFRpbGUoZSx0LG4pe2NvbnN0IGk9dGhpcy50cmVlc1t0aGlzLl9saW1pdFpvb20oZSldLHI9TWF0aC5wb3coMixlKSx7ZXh0ZW50Om8scmFkaXVzOmF9PXRoaXMub3B0aW9ucyxzPWEvbyxsPShuLXMpL3IsYz0obisxK3MpL3IsdT17ZmVhdHVyZXM6W119O3JldHVybiB0aGlzLl9hZGRUaWxlRmVhdHVyZXMoaS5yYW5nZSgodC1zKS9yLGwsKHQrMStzKS9yLGMpLGkucG9pbnRzLHQsbixyLHUpLDA9PT10JiZ0aGlzLl9hZGRUaWxlRmVhdHVyZXMoaS5yYW5nZSgxLXMvcixsLDEsYyksaS5wb2ludHMscixuLHIsdSksdD09PXItMSYmdGhpcy5fYWRkVGlsZUZlYXR1cmVzKGkucmFuZ2UoMCxsLHMvcixjKSxpLnBvaW50cywtMSxuLHIsdSksdS5mZWF0dXJlcy5sZW5ndGg/dTpudWxsfWdldENsdXN0ZXJFeHBhbnNpb25ab29tKGUpe2xldCB0PXRoaXMuX2dldE9yaWdpblpvb20oZSktMTtmb3IoO3Q8PXRoaXMub3B0aW9ucy5tYXhab29tOyl7Y29uc3Qgbj10aGlzLmdldENoaWxkcmVuKGUpO2lmKHQrKywxIT09bi5sZW5ndGgpYnJlYWs7ZT1uWzBdLnByb3BlcnRpZXMuY2x1c3Rlcl9pZH1yZXR1cm4gdH1fYXBwZW5kTGVhdmVzKGUsdCxuLGkscil7Y29uc3Qgbz10aGlzLmdldENoaWxkcmVuKHQpO2Zvcihjb25zdCB0IG9mIG8pe2NvbnN0IG89dC5wcm9wZXJ0aWVzO2lmKG8mJm8uY2x1c3Rlcj9yK28ucG9pbnRfY291bnQ8PWk/cis9by5wb2ludF9jb3VudDpyPXRoaXMuX2FwcGVuZExlYXZlcyhlLG8uY2x1c3Rlcl9pZCxuLGkscik6cjxpP3IrKzplLnB1c2godCksZS5sZW5ndGg9PT1uKWJyZWFrfXJldHVybiByfV9hZGRUaWxlRmVhdHVyZXMoZSx0LG4saSxyLG8pe2Zvcihjb25zdCBhIG9mIGUpe2NvbnN0IGU9dFthXSxzPWUubnVtUG9pbnRzO2xldCBsLGMsdTtpZihzKWw9VShlKSxjPWUueCx1PWUueTtlbHNle2NvbnN0IHQ9dGhpcy5wb2ludHNbZS5pbmRleF07bD10LnByb3BlcnRpZXMsYz1WKHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMF0pLHU9Ryh0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzFdKX1jb25zdCBoPXt0eXBlOjEsZ2VvbWV0cnk6W1tNYXRoLnJvdW5kKHRoaXMub3B0aW9ucy5leHRlbnQqKGMqci1uKSksTWF0aC5yb3VuZCh0aGlzLm9wdGlvbnMuZXh0ZW50Kih1KnItaSkpXV0sdGFnczpsfTtsZXQgZDtzP2Q9ZS5pZDp0aGlzLm9wdGlvbnMuZ2VuZXJhdGVJZD9kPWUuaW5kZXg6dGhpcy5wb2ludHNbZS5pbmRleF0uaWQmJihkPXRoaXMucG9pbnRzW2UuaW5kZXhdLmlkKSx2b2lkIDAhPT1kJiYoaC5pZD1kKSxvLmZlYXR1cmVzLnB1c2goaCl9fV9saW1pdFpvb20oZSl7cmV0dXJuIE1hdGgubWF4KHRoaXMub3B0aW9ucy5taW5ab29tLE1hdGgubWluKE1hdGguZmxvb3IoK2UpLHRoaXMub3B0aW9ucy5tYXhab29tKzEpKX1fY2x1c3RlcihlLHQpe2NvbnN0IG49W10se3JhZGl1czppLGV4dGVudDpyLHJlZHVjZTpvLG1pblBvaW50czphfT10aGlzLm9wdGlvbnMscz1pLyhyKk1hdGgucG93KDIsdCkpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCByPWVbaV07aWYoci56b29tPD10KWNvbnRpbnVlO3Iuem9vbT10O2NvbnN0IGw9dGhpcy50cmVlc1t0KzFdLGM9bC53aXRoaW4oci54LHIueSxzKSx1PXIubnVtUG9pbnRzfHwxO2xldCBoPXU7Zm9yKGNvbnN0IGUgb2YgYyl7Y29uc3Qgbj1sLnBvaW50c1tlXTtuLnpvb20+dCYmKGgrPW4ubnVtUG9pbnRzfHwxKX1pZihoPnUmJmg+PWEpe2xldCBlPXIueCp1LGE9ci55KnUscz1vJiZ1PjE/dGhpcy5fbWFwKHIsITApOm51bGw7Y29uc3QgZD0oaTw8NSkrKHQrMSkrdGhpcy5wb2ludHMubGVuZ3RoO2Zvcihjb25zdCBuIG9mIGMpe2NvbnN0IGk9bC5wb2ludHNbbl07aWYoaS56b29tPD10KWNvbnRpbnVlO2kuem9vbT10O2NvbnN0IGM9aS5udW1Qb2ludHN8fDE7ZSs9aS54KmMsYSs9aS55KmMsaS5wYXJlbnRJZD1kLG8mJihzfHwocz10aGlzLl9tYXAociwhMCkpLG8ocyx0aGlzLl9tYXAoaSkpKX1yLnBhcmVudElkPWQsbi5wdXNoKGooZS9oLGEvaCxkLGgscykpfWVsc2UgaWYobi5wdXNoKHIpLGg+MSlmb3IoY29uc3QgZSBvZiBjKXtjb25zdCBpPWwucG9pbnRzW2VdO2kuem9vbTw9dHx8KGkuem9vbT10LG4ucHVzaChpKSl9fXJldHVybiBufV9nZXRPcmlnaW5JZChlKXtyZXR1cm4gZS10aGlzLnBvaW50cy5sZW5ndGg+PjV9X2dldE9yaWdpblpvb20oZSl7cmV0dXJuKGUtdGhpcy5wb2ludHMubGVuZ3RoKSUzMn1fbWFwKGUsdCl7aWYoZS5udW1Qb2ludHMpcmV0dXJuIHQ/Vyh7fSxlLnByb3BlcnRpZXMpOmUucHJvcGVydGllcztjb25zdCBuPXRoaXMucG9pbnRzW2UuaW5kZXhdLnByb3BlcnRpZXMsaT10aGlzLm9wdGlvbnMubWFwKG4pO3JldHVybiB0JiZpPT09bj9XKHt9LGkpOml9fWZ1bmN0aW9uIGooZSx0LG4saSxyKXtyZXR1cm57eDpPKGUpLHk6Tyh0KSx6b29tOjEvMCxpZDpuLHBhcmVudElkOi0xLG51bVBvaW50czppLHByb3BlcnRpZXM6cn19ZnVuY3Rpb24gRihlLHQpe2NvbnN0W24saV09ZS5nZW9tZXRyeS5jb29yZGluYXRlcztyZXR1cm57eDpPKFYobikpLHk6TyhHKGkpKSx6b29tOjEvMCxpbmRleDp0LHBhcmVudElkOi0xfX1mdW5jdGlvbiBOKGUpe3JldHVybnt0eXBlOlwiRmVhdHVyZVwiLGlkOmUuaWQscHJvcGVydGllczpVKGUpLGdlb21ldHJ5Ont0eXBlOlwiUG9pbnRcIixjb29yZGluYXRlczpbKHQ9ZS54LDM2MCoodC0uNSkpLFooZS55KV19fTt2YXIgdH1mdW5jdGlvbiBVKGUpe2NvbnN0IHQ9ZS5udW1Qb2ludHMsbj10Pj0xZTQ/TWF0aC5yb3VuZCh0LzFlMykrXCJrXCI6dD49MWUzP01hdGgucm91bmQodC8xMDApLzEwK1wia1wiOnQ7cmV0dXJuIFcoVyh7fSxlLnByb3BlcnRpZXMpLHtjbHVzdGVyOiEwLGNsdXN0ZXJfaWQ6ZS5pZCxwb2ludF9jb3VudDp0LHBvaW50X2NvdW50X2FiYnJldmlhdGVkOm59KX1mdW5jdGlvbiBWKGUpe3JldHVybiBlLzM2MCsuNX1mdW5jdGlvbiBHKGUpe2NvbnN0IHQ9TWF0aC5zaW4oZSpNYXRoLlBJLzE4MCksbj0uNS0uMjUqTWF0aC5sb2coKDErdCkvKDEtdCkpL01hdGguUEk7cmV0dXJuIG48MD8wOm4+MT8xOm59ZnVuY3Rpb24gWihlKXtjb25zdCB0PSgxODAtMzYwKmUpKk1hdGguUEkvMTgwO3JldHVybiAzNjAqTWF0aC5hdGFuKE1hdGguZXhwKHQpKS9NYXRoLlBJLTkwfWZ1bmN0aW9uIFcoZSx0KXtmb3IoY29uc3QgbiBpbiB0KWVbbl09dFtuXTtyZXR1cm4gZX1mdW5jdGlvbiBxKGUpe3JldHVybiBlLnh9ZnVuY3Rpb24gJChlKXtyZXR1cm4gZS55fWZ1bmN0aW9uIEgoZSx0LG4saSxyLG8pe3ZhciBhPXItbixzPW8taTtpZigwIT09YXx8MCE9PXMpe3ZhciBsPSgoZS1uKSphKyh0LWkpKnMpLyhhKmErcypzKTtsPjE/KG49cixpPW8pOmw+MCYmKG4rPWEqbCxpKz1zKmwpfXJldHVybihhPWUtbikqYSsocz10LWkpKnN9ZnVuY3Rpb24gWChlLHQsbixpKXt2YXIgcj17aWQ6dm9pZCAwPT09ZT9udWxsOmUsdHlwZTp0LGdlb21ldHJ5Om4sdGFnczppLG1pblg6MS8wLG1pblk6MS8wLG1heFg6LTEvMCxtYXhZOi0xLzB9O3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLmdlb21ldHJ5LG49ZS50eXBlO2lmKFwiUG9pbnRcIj09PW58fFwiTXVsdGlQb2ludFwiPT09bnx8XCJMaW5lU3RyaW5nXCI9PT1uKVkoZSx0KTtlbHNlIGlmKFwiUG9seWdvblwiPT09bnx8XCJNdWx0aUxpbmVTdHJpbmdcIj09PW4pZm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspWShlLHRbaV0pO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PW4pZm9yKGk9MDtpPHQubGVuZ3RoO2krKylmb3IodmFyIHI9MDtyPHRbaV0ubGVuZ3RoO3IrKylZKGUsdFtpXVtyXSl9KHIpLHJ9ZnVuY3Rpb24gWShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bis9MyllLm1pblg9TWF0aC5taW4oZS5taW5YLHRbbl0pLGUubWluWT1NYXRoLm1pbihlLm1pblksdFtuKzFdKSxlLm1heFg9TWF0aC5tYXgoZS5tYXhYLHRbbl0pLGUubWF4WT1NYXRoLm1heChlLm1heFksdFtuKzFdKX1mdW5jdGlvbiBKKGUsdCxuLGkpe2lmKHQuZ2VvbWV0cnkpe3ZhciByPXQuZ2VvbWV0cnkuY29vcmRpbmF0ZXMsbz10Lmdlb21ldHJ5LnR5cGUsYT1NYXRoLnBvdyhuLnRvbGVyYW5jZS8oKDE8PG4ubWF4Wm9vbSkqbi5leHRlbnQpLDIpLHM9W10sbD10LmlkO2lmKG4ucHJvbW90ZUlkP2w9dC5wcm9wZXJ0aWVzW24ucHJvbW90ZUlkXTpuLmdlbmVyYXRlSWQmJihsPWl8fDApLFwiUG9pbnRcIj09PW8pUShyLHMpO2Vsc2UgaWYoXCJNdWx0aVBvaW50XCI9PT1vKWZvcih2YXIgYz0wO2M8ci5sZW5ndGg7YysrKVEocltjXSxzKTtlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09bylLKHIscyxhLCExKTtlbHNlIGlmKFwiTXVsdGlMaW5lU3RyaW5nXCI9PT1vKXtpZihuLmxpbmVNZXRyaWNzKXtmb3IoYz0wO2M8ci5sZW5ndGg7YysrKUsocltjXSxzPVtdLGEsITEpLGUucHVzaChYKGwsXCJMaW5lU3RyaW5nXCIscyx0LnByb3BlcnRpZXMpKTtyZXR1cm59ZWUocixzLGEsITEpfWVsc2UgaWYoXCJQb2x5Z29uXCI9PT1vKWVlKHIscyxhLCEwKTtlbHNle2lmKFwiTXVsdGlQb2x5Z29uXCIhPT1vKXtpZihcIkdlb21ldHJ5Q29sbGVjdGlvblwiPT09byl7Zm9yKGM9MDtjPHQuZ2VvbWV0cnkuZ2VvbWV0cmllcy5sZW5ndGg7YysrKUooZSx7aWQ6bCxnZW9tZXRyeTp0Lmdlb21ldHJ5Lmdlb21ldHJpZXNbY10scHJvcGVydGllczp0LnByb3BlcnRpZXN9LG4saSk7cmV0dXJufXRocm93IG5ldyBFcnJvcihcIklucHV0IGRhdGEgaXMgbm90IGEgdmFsaWQgR2VvSlNPTiBvYmplY3QuXCIpfWZvcihjPTA7YzxyLmxlbmd0aDtjKyspe3ZhciB1PVtdO2VlKHJbY10sdSxhLCEwKSxzLnB1c2godSl9fWUucHVzaChYKGwsbyxzLHQucHJvcGVydGllcykpfX1mdW5jdGlvbiBRKGUsdCl7dC5wdXNoKHRlKGVbMF0pKSx0LnB1c2gobmUoZVsxXSkpLHQucHVzaCgwKX1mdW5jdGlvbiBLKGUsdCxuLGkpe2Zvcih2YXIgcixvLGE9MCxzPTA7czxlLmxlbmd0aDtzKyspe3ZhciBsPXRlKGVbc11bMF0pLGM9bmUoZVtzXVsxXSk7dC5wdXNoKGwpLHQucHVzaChjKSx0LnB1c2goMCkscz4wJiYoYSs9aT8ocipjLWwqbykvMjpNYXRoLnNxcnQoTWF0aC5wb3cobC1yLDIpK01hdGgucG93KGMtbywyKSkpLHI9bCxvPWN9dmFyIHU9dC5sZW5ndGgtMzt0WzJdPTEsZnVuY3Rpb24gZSh0LG4saSxyKXtmb3IodmFyIG8sYT1yLHM9aS1uPj4xLGw9aS1uLGM9dFtuXSx1PXRbbisxXSxoPXRbaV0sZD10W2krMV0scD1uKzM7cDxpO3ArPTMpe3ZhciBmPUgodFtwXSx0W3ArMV0sYyx1LGgsZCk7aWYoZj5hKW89cCxhPWY7ZWxzZSBpZihmPT09YSl7dmFyIG09TWF0aC5hYnMocC1zKTttPGwmJihvPXAsbD1tKX19YT5yJiYoby1uPjMmJmUodCxuLG8sciksdFtvKzJdPWEsaS1vPjMmJmUodCxvLGkscikpfSh0LDAsdSxuKSx0W3UrMl09MSx0LnNpemU9TWF0aC5hYnMoYSksdC5zdGFydD0wLHQuZW5kPXQuc2l6ZX1mdW5jdGlvbiBlZShlLHQsbixpKXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG89W107SyhlW3JdLG8sbixpKSx0LnB1c2gobyl9fWZ1bmN0aW9uIHRlKGUpe3JldHVybiBlLzM2MCsuNX1mdW5jdGlvbiBuZShlKXt2YXIgdD1NYXRoLnNpbihlKk1hdGguUEkvMTgwKSxuPS41LS4yNSpNYXRoLmxvZygoMSt0KS8oMS10KSkvTWF0aC5QSTtyZXR1cm4gbjwwPzA6bj4xPzE6bn1mdW5jdGlvbiBpZShlLHQsbixpLHIsbyxhLHMpe2lmKGkvPXQsbz49KG4vPXQpJiZhPGkpcmV0dXJuIGU7aWYoYTxufHxvPj1pKXJldHVybiBudWxsO2Zvcih2YXIgbD1bXSxjPTA7YzxlLmxlbmd0aDtjKyspe3ZhciB1PWVbY10saD11Lmdlb21ldHJ5LGQ9dS50eXBlLHA9MD09PXI/dS5taW5YOnUubWluWSxmPTA9PT1yP3UubWF4WDp1Lm1heFk7aWYocD49biYmZjxpKWwucHVzaCh1KTtlbHNlIGlmKCEoZjxufHxwPj1pKSl7dmFyIG09W107aWYoXCJQb2ludFwiPT09ZHx8XCJNdWx0aVBvaW50XCI9PT1kKXJlKGgsbSxuLGkscik7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PWQpb2UoaCxtLG4saSxyLCExLHMubGluZU1ldHJpY3MpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PWQpc2UoaCxtLG4saSxyLCExKTtlbHNlIGlmKFwiUG9seWdvblwiPT09ZClzZShoLG0sbixpLHIsITApO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PWQpZm9yKHZhciBnPTA7ZzxoLmxlbmd0aDtnKyspe3ZhciB5PVtdO3NlKGhbZ10seSxuLGksciwhMCkseS5sZW5ndGgmJm0ucHVzaCh5KX1pZihtLmxlbmd0aCl7aWYocy5saW5lTWV0cmljcyYmXCJMaW5lU3RyaW5nXCI9PT1kKXtmb3IoZz0wO2c8bS5sZW5ndGg7ZysrKWwucHVzaChYKHUuaWQsZCxtW2ddLHUudGFncykpO2NvbnRpbnVlfVwiTGluZVN0cmluZ1wiIT09ZCYmXCJNdWx0aUxpbmVTdHJpbmdcIiE9PWR8fCgxPT09bS5sZW5ndGg/KGQ9XCJMaW5lU3RyaW5nXCIsbT1tWzBdKTpkPVwiTXVsdGlMaW5lU3RyaW5nXCIpLFwiUG9pbnRcIiE9PWQmJlwiTXVsdGlQb2ludFwiIT09ZHx8KGQ9Mz09PW0ubGVuZ3RoP1wiUG9pbnRcIjpcIk11bHRpUG9pbnRcIiksbC5wdXNoKFgodS5pZCxkLG0sdS50YWdzKSl9fX1yZXR1cm4gbC5sZW5ndGg/bDpudWxsfWZ1bmN0aW9uIHJlKGUsdCxuLGkscil7Zm9yKHZhciBvPTA7bzxlLmxlbmd0aDtvKz0zKXt2YXIgYT1lW28rcl07YT49biYmYTw9aSYmKHQucHVzaChlW29dKSx0LnB1c2goZVtvKzFdKSx0LnB1c2goZVtvKzJdKSl9fWZ1bmN0aW9uIG9lKGUsdCxuLGkscixvLGEpe2Zvcih2YXIgcyxsLGM9YWUoZSksdT0wPT09cj9jZTp1ZSxoPWUuc3RhcnQsZD0wO2Q8ZS5sZW5ndGgtMztkKz0zKXt2YXIgcD1lW2RdLGY9ZVtkKzFdLG09ZVtkKzJdLGc9ZVtkKzNdLHk9ZVtkKzRdLF89MD09PXI/cDpmLHY9MD09PXI/Zzp5LHg9ITE7YSYmKHM9TWF0aC5zcXJ0KE1hdGgucG93KHAtZywyKStNYXRoLnBvdyhmLXksMikpKSxfPG4/dj5uJiYobD11KGMscCxmLGcseSxuKSxhJiYoYy5zdGFydD1oK3MqbCkpOl8+aT92PGkmJihsPXUoYyxwLGYsZyx5LGkpLGEmJihjLnN0YXJ0PWgrcypsKSk6bGUoYyxwLGYsbSksdjxuJiZfPj1uJiYobD11KGMscCxmLGcseSxuKSx4PSEwKSx2PmkmJl88PWkmJihsPXUoYyxwLGYsZyx5LGkpLHg9ITApLCFvJiZ4JiYoYSYmKGMuZW5kPWgrcypsKSx0LnB1c2goYyksYz1hZShlKSksYSYmKGgrPXMpfXZhciBiPWUubGVuZ3RoLTM7cD1lW2JdLGY9ZVtiKzFdLG09ZVtiKzJdLChfPTA9PT1yP3A6Zik+PW4mJl88PWkmJmxlKGMscCxmLG0pLGI9Yy5sZW5ndGgtMyxvJiZiPj0zJiYoY1tiXSE9PWNbMF18fGNbYisxXSE9PWNbMV0pJiZsZShjLGNbMF0sY1sxXSxjWzJdKSxjLmxlbmd0aCYmdC5wdXNoKGMpfWZ1bmN0aW9uIGFlKGUpe3ZhciB0PVtdO3JldHVybiB0LnNpemU9ZS5zaXplLHQuc3RhcnQ9ZS5zdGFydCx0LmVuZD1lLmVuZCx0fWZ1bmN0aW9uIHNlKGUsdCxuLGkscixvKXtmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErKylvZShlW2FdLHQsbixpLHIsbywhMSl9ZnVuY3Rpb24gbGUoZSx0LG4saSl7ZS5wdXNoKHQpLGUucHVzaChuKSxlLnB1c2goaSl9ZnVuY3Rpb24gY2UoZSx0LG4saSxyLG8pe3ZhciBhPShvLXQpLyhpLXQpO3JldHVybiBlLnB1c2gobyksZS5wdXNoKG4rKHItbikqYSksZS5wdXNoKDEpLGF9ZnVuY3Rpb24gdWUoZSx0LG4saSxyLG8pe3ZhciBhPShvLW4pLyhyLW4pO3JldHVybiBlLnB1c2godCsoaS10KSphKSxlLnB1c2gobyksZS5wdXNoKDEpLGF9ZnVuY3Rpb24gaGUoZSx0KXtmb3IodmFyIG49W10saT0wO2k8ZS5sZW5ndGg7aSsrKXt2YXIgcixvPWVbaV0sYT1vLnR5cGU7aWYoXCJQb2ludFwiPT09YXx8XCJNdWx0aVBvaW50XCI9PT1hfHxcIkxpbmVTdHJpbmdcIj09PWEpcj1kZShvLmdlb21ldHJ5LHQpO2Vsc2UgaWYoXCJNdWx0aUxpbmVTdHJpbmdcIj09PWF8fFwiUG9seWdvblwiPT09YSl7cj1bXTtmb3IodmFyIHM9MDtzPG8uZ2VvbWV0cnkubGVuZ3RoO3MrKylyLnB1c2goZGUoby5nZW9tZXRyeVtzXSx0KSl9ZWxzZSBpZihcIk11bHRpUG9seWdvblwiPT09YSlmb3Iocj1bXSxzPTA7czxvLmdlb21ldHJ5Lmxlbmd0aDtzKyspe2Zvcih2YXIgbD1bXSxjPTA7YzxvLmdlb21ldHJ5W3NdLmxlbmd0aDtjKyspbC5wdXNoKGRlKG8uZ2VvbWV0cnlbc11bY10sdCkpO3IucHVzaChsKX1uLnB1c2goWChvLmlkLGEscixvLnRhZ3MpKX1yZXR1cm4gbn1mdW5jdGlvbiBkZShlLHQpe3ZhciBuPVtdO24uc2l6ZT1lLnNpemUsdm9pZCAwIT09ZS5zdGFydCYmKG4uc3RhcnQ9ZS5zdGFydCxuLmVuZD1lLmVuZCk7Zm9yKHZhciBpPTA7aTxlLmxlbmd0aDtpKz0zKW4ucHVzaChlW2ldK3QsZVtpKzFdLGVbaSsyXSk7cmV0dXJuIG59ZnVuY3Rpb24gcGUoZSx0KXtpZihlLnRyYW5zZm9ybWVkKXJldHVybiBlO3ZhciBuLGkscixvPTE8PGUueixhPWUueCxzPWUueTtmb3Iobj0wO248ZS5mZWF0dXJlcy5sZW5ndGg7bisrKXt2YXIgbD1lLmZlYXR1cmVzW25dLGM9bC5nZW9tZXRyeSx1PWwudHlwZTtpZihsLmdlb21ldHJ5PVtdLDE9PT11KWZvcihpPTA7aTxjLmxlbmd0aDtpKz0yKWwuZ2VvbWV0cnkucHVzaChmZShjW2ldLGNbaSsxXSx0LG8sYSxzKSk7ZWxzZSBmb3IoaT0wO2k8Yy5sZW5ndGg7aSsrKXt2YXIgaD1bXTtmb3Iocj0wO3I8Y1tpXS5sZW5ndGg7cis9MiloLnB1c2goZmUoY1tpXVtyXSxjW2ldW3IrMV0sdCxvLGEscykpO2wuZ2VvbWV0cnkucHVzaChoKX19cmV0dXJuIGUudHJhbnNmb3JtZWQ9ITAsZX1mdW5jdGlvbiBmZShlLHQsbixpLHIsbyl7cmV0dXJuW01hdGgucm91bmQobiooZSppLXIpKSxNYXRoLnJvdW5kKG4qKHQqaS1vKSldfWZ1bmN0aW9uIG1lKGUsdCxuLGkscil7Zm9yKHZhciBvPXQ9PT1yLm1heFpvb20/MDpyLnRvbGVyYW5jZS8oKDE8PHQpKnIuZXh0ZW50KSxhPXtmZWF0dXJlczpbXSxudW1Qb2ludHM6MCxudW1TaW1wbGlmaWVkOjAsbnVtRmVhdHVyZXM6MCxzb3VyY2U6bnVsbCx4Om4seTppLHo6dCx0cmFuc2Zvcm1lZDohMSxtaW5YOjIsbWluWToxLG1heFg6LTEsbWF4WTowfSxzPTA7czxlLmxlbmd0aDtzKyspe2EubnVtRmVhdHVyZXMrKyxnZShhLGVbc10sbyxyKTt2YXIgbD1lW3NdLm1pblgsYz1lW3NdLm1pblksdT1lW3NdLm1heFgsaD1lW3NdLm1heFk7bDxhLm1pblgmJihhLm1pblg9bCksYzxhLm1pblkmJihhLm1pblk9YyksdT5hLm1heFgmJihhLm1heFg9dSksaD5hLm1heFkmJihhLm1heFk9aCl9cmV0dXJuIGF9ZnVuY3Rpb24gZ2UoZSx0LG4saSl7dmFyIHI9dC5nZW9tZXRyeSxvPXQudHlwZSxhPVtdO2lmKFwiUG9pbnRcIj09PW98fFwiTXVsdGlQb2ludFwiPT09bylmb3IodmFyIHM9MDtzPHIubGVuZ3RoO3MrPTMpYS5wdXNoKHJbc10pLGEucHVzaChyW3MrMV0pLGUubnVtUG9pbnRzKyssZS5udW1TaW1wbGlmaWVkKys7ZWxzZSBpZihcIkxpbmVTdHJpbmdcIj09PW8peWUoYSxyLGUsbiwhMSwhMSk7ZWxzZSBpZihcIk11bHRpTGluZVN0cmluZ1wiPT09b3x8XCJQb2x5Z29uXCI9PT1vKWZvcihzPTA7czxyLmxlbmd0aDtzKyspeWUoYSxyW3NdLGUsbixcIlBvbHlnb25cIj09PW8sMD09PXMpO2Vsc2UgaWYoXCJNdWx0aVBvbHlnb25cIj09PW8pZm9yKHZhciBsPTA7bDxyLmxlbmd0aDtsKyspe3ZhciBjPXJbbF07Zm9yKHM9MDtzPGMubGVuZ3RoO3MrKyl5ZShhLGNbc10sZSxuLCEwLDA9PT1zKX1pZihhLmxlbmd0aCl7dmFyIHU9dC50YWdzfHxudWxsO2lmKFwiTGluZVN0cmluZ1wiPT09byYmaS5saW5lTWV0cmljcyl7Zm9yKHZhciBoIGluIHU9e30sdC50YWdzKXVbaF09dC50YWdzW2hdO3UubWFwYm94X2NsaXBfc3RhcnQ9ci5zdGFydC9yLnNpemUsdS5tYXBib3hfY2xpcF9lbmQ9ci5lbmQvci5zaXplfXZhciBkPXtnZW9tZXRyeTphLHR5cGU6XCJQb2x5Z29uXCI9PT1vfHxcIk11bHRpUG9seWdvblwiPT09bz8zOlwiTGluZVN0cmluZ1wiPT09b3x8XCJNdWx0aUxpbmVTdHJpbmdcIj09PW8/MjoxLHRhZ3M6dX07bnVsbCE9PXQuaWQmJihkLmlkPXQuaWQpLGUuZmVhdHVyZXMucHVzaChkKX19ZnVuY3Rpb24geWUoZSx0LG4saSxyLG8pe3ZhciBhPWkqaTtpZihpPjAmJnQuc2l6ZTwocj9hOmkpKW4ubnVtUG9pbnRzKz10Lmxlbmd0aC8zO2Vsc2V7Zm9yKHZhciBzPVtdLGw9MDtsPHQubGVuZ3RoO2wrPTMpKDA9PT1pfHx0W2wrMl0+YSkmJihuLm51bVNpbXBsaWZpZWQrKyxzLnB1c2godFtsXSkscy5wdXNoKHRbbCsxXSkpLG4ubnVtUG9pbnRzKys7ciYmZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49MCxpPTAscj1lLmxlbmd0aCxvPXItMjtpPHI7bz1pLGkrPTIpbis9KGVbaV0tZVtvXSkqKGVbaSsxXStlW28rMV0pO2lmKG4+MD09PXQpZm9yKGk9MCxyPWUubGVuZ3RoO2k8ci8yO2krPTIpe3ZhciBhPWVbaV0scz1lW2krMV07ZVtpXT1lW3ItMi1pXSxlW2krMV09ZVtyLTEtaV0sZVtyLTItaV09YSxlW3ItMS1pXT1zfX0ocyxvKSxlLnB1c2gocyl9fWZ1bmN0aW9uIF9lKGUsdCl7dmFyIG49KHQ9dGhpcy5vcHRpb25zPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuIGluIHQpZVtuXT10W25dO3JldHVybiBlfShPYmplY3QuY3JlYXRlKHRoaXMub3B0aW9ucyksdCkpLmRlYnVnO2lmKG4mJmNvbnNvbGUudGltZShcInByZXByb2Nlc3MgZGF0YVwiKSx0Lm1heFpvb208MHx8dC5tYXhab29tPjI0KXRocm93IG5ldyBFcnJvcihcIm1heFpvb20gc2hvdWxkIGJlIGluIHRoZSAwLTI0IHJhbmdlXCIpO2lmKHQucHJvbW90ZUlkJiZ0LmdlbmVyYXRlSWQpdGhyb3cgbmV3IEVycm9yKFwicHJvbW90ZUlkIGFuZCBnZW5lcmF0ZUlkIGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyLlwiKTt2YXIgaT1mdW5jdGlvbihlLHQpe3ZhciBuPVtdO2lmKFwiRmVhdHVyZUNvbGxlY3Rpb25cIj09PWUudHlwZSlmb3IodmFyIGk9MDtpPGUuZmVhdHVyZXMubGVuZ3RoO2krKylKKG4sZS5mZWF0dXJlc1tpXSx0LGkpO2Vsc2UgSihuLFwiRmVhdHVyZVwiPT09ZS50eXBlP2U6e2dlb21ldHJ5OmV9LHQpO3JldHVybiBufShlLHQpO3RoaXMudGlsZXM9e30sdGhpcy50aWxlQ29vcmRzPVtdLG4mJihjb25zb2xlLnRpbWVFbmQoXCJwcmVwcm9jZXNzIGRhdGFcIiksY29uc29sZS5sb2coXCJpbmRleDogbWF4Wm9vbTogJWQsIG1heFBvaW50czogJWRcIix0LmluZGV4TWF4Wm9vbSx0LmluZGV4TWF4UG9pbnRzKSxjb25zb2xlLnRpbWUoXCJnZW5lcmF0ZSB0aWxlc1wiKSx0aGlzLnN0YXRzPXt9LHRoaXMudG90YWw9MCksKGk9ZnVuY3Rpb24oZSx0KXt2YXIgbj10LmJ1ZmZlci90LmV4dGVudCxpPWUscj1pZShlLDEsLTEtbixuLDAsLTEsMix0KSxvPWllKGUsMSwxLW4sMituLDAsLTEsMix0KTtyZXR1cm4ocnx8bykmJihpPWllKGUsMSwtbiwxK24sMCwtMSwyLHQpfHxbXSxyJiYoaT1oZShyLDEpLmNvbmNhdChpKSksbyYmKGk9aS5jb25jYXQoaGUobywtMSkpKSksaX0oaSx0KSkubGVuZ3RoJiZ0aGlzLnNwbGl0VGlsZShpLDAsMCwwKSxuJiYoaS5sZW5ndGgmJmNvbnNvbGUubG9nKFwiZmVhdHVyZXM6ICVkLCBwb2ludHM6ICVkXCIsdGhpcy50aWxlc1swXS5udW1GZWF0dXJlcyx0aGlzLnRpbGVzWzBdLm51bVBvaW50cyksY29uc29sZS50aW1lRW5kKFwiZ2VuZXJhdGUgdGlsZXNcIiksY29uc29sZS5sb2coXCJ0aWxlcyBnZW5lcmF0ZWQ6XCIsdGhpcy50b3RhbCxKU09OLnN0cmluZ2lmeSh0aGlzLnN0YXRzKSkpfWZ1bmN0aW9uIHZlKGUsdCxuKXtyZXR1cm4gMzIqKCgxPDxlKSpuK3QpK2V9ZnVuY3Rpb24geGUoZSx0KXtjb25zdCBuPWUudGlsZUlELmNhbm9uaWNhbDtpZighdGhpcy5fZ2VvSlNPTkluZGV4KXJldHVybiB0KG51bGwsbnVsbCk7Y29uc3QgaT10aGlzLl9nZW9KU09OSW5kZXguZ2V0VGlsZShuLnosbi54LG4ueSk7aWYoIWkpcmV0dXJuIHQobnVsbCxudWxsKTtjb25zdCByPW5ldyB1KGkuZmVhdHVyZXMpO2xldCBvPWguZXhwb3J0cyhyKTswPT09by5ieXRlT2Zmc2V0JiZvLmJ5dGVMZW5ndGg9PT1vLmJ1ZmZlci5ieXRlTGVuZ3RofHwobz1uZXcgVWludDhBcnJheShvKSksdChudWxsLHt2ZWN0b3JUaWxlOnIscmF3RGF0YTpvLmJ1ZmZlcn0pfV9lLnByb3RvdHlwZS5vcHRpb25zPXttYXhab29tOjE0LGluZGV4TWF4Wm9vbTo1LGluZGV4TWF4UG9pbnRzOjFlNSx0b2xlcmFuY2U6MyxleHRlbnQ6NDA5NixidWZmZXI6NjQsbGluZU1ldHJpY3M6ITEscHJvbW90ZUlkOm51bGwsZ2VuZXJhdGVJZDohMSxkZWJ1ZzowfSxfZS5wcm90b3R5cGUuc3BsaXRUaWxlPWZ1bmN0aW9uKGUsdCxuLGkscixvLGEpe2Zvcih2YXIgcz1bZSx0LG4saV0sbD10aGlzLm9wdGlvbnMsYz1sLmRlYnVnO3MubGVuZ3RoOyl7aT1zLnBvcCgpLG49cy5wb3AoKSx0PXMucG9wKCksZT1zLnBvcCgpO3ZhciB1PTE8PHQsaD12ZSh0LG4saSksZD10aGlzLnRpbGVzW2hdO2lmKCFkJiYoYz4xJiZjb25zb2xlLnRpbWUoXCJjcmVhdGlvblwiKSxkPXRoaXMudGlsZXNbaF09bWUoZSx0LG4saSxsKSx0aGlzLnRpbGVDb29yZHMucHVzaCh7ejp0LHg6bix5Oml9KSxjKSl7Yz4xJiYoY29uc29sZS5sb2coXCJ0aWxlIHolZC0lZC0lZCAoZmVhdHVyZXM6ICVkLCBwb2ludHM6ICVkLCBzaW1wbGlmaWVkOiAlZClcIix0LG4saSxkLm51bUZlYXR1cmVzLGQubnVtUG9pbnRzLGQubnVtU2ltcGxpZmllZCksY29uc29sZS50aW1lRW5kKFwiY3JlYXRpb25cIikpO3ZhciBwPVwielwiK3Q7dGhpcy5zdGF0c1twXT0odGhpcy5zdGF0c1twXXx8MCkrMSx0aGlzLnRvdGFsKyt9aWYoZC5zb3VyY2U9ZSxyKXtpZih0PT09bC5tYXhab29tfHx0PT09ciljb250aW51ZTt2YXIgZj0xPDxyLXQ7aWYobiE9PU1hdGguZmxvb3Ioby9mKXx8aSE9PU1hdGguZmxvb3IoYS9mKSljb250aW51ZX1lbHNlIGlmKHQ9PT1sLmluZGV4TWF4Wm9vbXx8ZC5udW1Qb2ludHM8PWwuaW5kZXhNYXhQb2ludHMpY29udGludWU7aWYoZC5zb3VyY2U9bnVsbCwwIT09ZS5sZW5ndGgpe2M+MSYmY29uc29sZS50aW1lKFwiY2xpcHBpbmdcIik7dmFyIG0sZyx5LF8sdix4LGI9LjUqbC5idWZmZXIvbC5leHRlbnQsdz0uNS1iLFQ9LjUrYixFPTErYjttPWc9eT1fPW51bGwsdj1pZShlLHUsbi1iLG4rVCwwLGQubWluWCxkLm1heFgsbCkseD1pZShlLHUsbit3LG4rRSwwLGQubWluWCxkLm1heFgsbCksZT1udWxsLHYmJihtPWllKHYsdSxpLWIsaStULDEsZC5taW5ZLGQubWF4WSxsKSxnPWllKHYsdSxpK3csaStFLDEsZC5taW5ZLGQubWF4WSxsKSx2PW51bGwpLHgmJih5PWllKHgsdSxpLWIsaStULDEsZC5taW5ZLGQubWF4WSxsKSxfPWllKHgsdSxpK3csaStFLDEsZC5taW5ZLGQubWF4WSxsKSx4PW51bGwpLGM+MSYmY29uc29sZS50aW1lRW5kKFwiY2xpcHBpbmdcIikscy5wdXNoKG18fFtdLHQrMSwyKm4sMippKSxzLnB1c2goZ3x8W10sdCsxLDIqbiwyKmkrMSkscy5wdXNoKHl8fFtdLHQrMSwyKm4rMSwyKmkpLHMucHVzaChffHxbXSx0KzEsMipuKzEsMippKzEpfX19LF9lLnByb3RvdHlwZS5nZXRUaWxlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT10aGlzLm9wdGlvbnMscj1pLmV4dGVudCxvPWkuZGVidWc7aWYoZTwwfHxlPjI0KXJldHVybiBudWxsO3ZhciBhPTE8PGUscz12ZShlLHQ9KHQlYSthKSVhLG4pO2lmKHRoaXMudGlsZXNbc10pcmV0dXJuIHBlKHRoaXMudGlsZXNbc10scik7bz4xJiZjb25zb2xlLmxvZyhcImRyaWxsaW5nIGRvd24gdG8geiVkLSVkLSVkXCIsZSx0LG4pO2Zvcih2YXIgbCxjPWUsdT10LGg9bjshbCYmYz4wOyljLS0sdT1NYXRoLmZsb29yKHUvMiksaD1NYXRoLmZsb29yKGgvMiksbD10aGlzLnRpbGVzW3ZlKGMsdSxoKV07cmV0dXJuIGwmJmwuc291cmNlPyhvPjEmJmNvbnNvbGUubG9nKFwiZm91bmQgcGFyZW50IHRpbGUgeiVkLSVkLSVkXCIsYyx1LGgpLG8+MSYmY29uc29sZS50aW1lKFwiZHJpbGxpbmcgZG93blwiKSx0aGlzLnNwbGl0VGlsZShsLnNvdXJjZSxjLHUsaCxlLHQsbiksbz4xJiZjb25zb2xlLnRpbWVFbmQoXCJkcmlsbGluZyBkb3duXCIpLHRoaXMudGlsZXNbc10/cGUodGhpcy50aWxlc1tzXSxyKTpudWxsKTpudWxsfTtjbGFzcyBiZSBleHRlbmRzIGUuVmVjdG9yVGlsZVdvcmtlclNvdXJjZXtjb25zdHJ1Y3RvcihlLHQsbixpLHIpe3N1cGVyKGUsdCxuLGkseGUpLHImJih0aGlzLmxvYWRHZW9KU09OPXIpfWxvYWREYXRhKHQsbil7Y29uc3QgaT10JiZ0LnJlcXVlc3Qscj1pJiZpLmNvbGxlY3RSZXNvdXJjZVRpbWluZzt0aGlzLmxvYWRHZW9KU09OKHQsKGEscyk9PntpZihhfHwhcylyZXR1cm4gbihhKTtpZihcIm9iamVjdFwiIT10eXBlb2YgcylyZXR1cm4gbihuZXcgRXJyb3IoYElucHV0IGRhdGEgZ2l2ZW4gdG8gJyR7dC5zb3VyY2V9JyBpcyBub3QgYSB2YWxpZCBHZW9KU09OIG9iamVjdC5gKSk7e28ocywhMCk7dHJ5e2lmKHQuZmlsdGVyKXtjb25zdCBuPWUuY3JlYXRlRXhwcmVzc2lvbih0LmZpbHRlcix7dHlwZTpcImJvb2xlYW5cIixcInByb3BlcnR5LXR5cGVcIjpcImRhdGEtZHJpdmVuXCIsb3ZlcnJpZGFibGU6ITEsdHJhbnNpdGlvbjohMX0pO2lmKFwiZXJyb3JcIj09PW4ucmVzdWx0KXRocm93IG5ldyBFcnJvcihuLnZhbHVlLm1hcChlPT5gJHtlLmtleX06ICR7ZS5tZXNzYWdlfWApLmpvaW4oXCIsIFwiKSk7Y29uc3QgaT1zLmZlYXR1cmVzLmZpbHRlcihlPT5uLnZhbHVlLmV2YWx1YXRlKHt6b29tOjB9LGUpKTtzPXt0eXBlOlwiRmVhdHVyZUNvbGxlY3Rpb25cIixmZWF0dXJlczppfX10aGlzLl9nZW9KU09OSW5kZXg9dC5jbHVzdGVyP25ldyBCKGZ1bmN0aW9uKHtzdXBlcmNsdXN0ZXJPcHRpb25zOnQsY2x1c3RlclByb3BlcnRpZXM6bn0pe2lmKCFufHwhdClyZXR1cm4gdDtjb25zdCBpPXt9LHI9e30sbz17YWNjdW11bGF0ZWQ6bnVsbCx6b29tOjB9LGE9e3Byb3BlcnRpZXM6bnVsbH0scz1PYmplY3Qua2V5cyhuKTtmb3IoY29uc3QgdCBvZiBzKXtjb25zdFtvLGFdPW5bdF0scz1lLmNyZWF0ZUV4cHJlc3Npb24oYSksbD1lLmNyZWF0ZUV4cHJlc3Npb24oXCJzdHJpbmdcIj09dHlwZW9mIG8/W28sW1wiYWNjdW11bGF0ZWRcIl0sW1wiZ2V0XCIsdF1dOm8pO2lbdF09cy52YWx1ZSxyW3RdPWwudmFsdWV9cmV0dXJuIHQubWFwPWU9PnthLnByb3BlcnRpZXM9ZTtjb25zdCB0PXt9O2Zvcihjb25zdCBlIG9mIHMpdFtlXT1pW2VdLmV2YWx1YXRlKG8sYSk7cmV0dXJuIHR9LHQucmVkdWNlPShlLHQpPT57YS5wcm9wZXJ0aWVzPXQ7Zm9yKGNvbnN0IHQgb2YgcylvLmFjY3VtdWxhdGVkPWVbdF0sZVt0XT1yW3RdLmV2YWx1YXRlKG8sYSl9LHR9KHQpKS5sb2FkKHMuZmVhdHVyZXMpOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBfZShlLHQpfShzLHQuZ2VvanNvblZ0T3B0aW9ucyl9Y2F0Y2goYSl7cmV0dXJuIG4oYSl9dGhpcy5sb2FkZWQ9e307Y29uc3QgbD17fTtpZihyKXtjb25zdCBuPWUuZ2V0UGVyZm9ybWFuY2VNZWFzdXJlbWVudChpKTtuJiYobC5yZXNvdXJjZVRpbWluZz17fSxsLnJlc291cmNlVGltaW5nW3Quc291cmNlXT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG4pKSl9bihudWxsLGwpfX0pfXJlbG9hZFRpbGUoZSx0KXtjb25zdCBuPXRoaXMubG9hZGVkO3JldHVybiBuJiZuW2UudWlkXT9zdXBlci5yZWxvYWRUaWxlKGUsdCk6dGhpcy5sb2FkVGlsZShlLHQpfWxvYWRHZW9KU09OKHQsbil7aWYodC5yZXF1ZXN0KWUuZ2V0SlNPTih0LnJlcXVlc3Qsbik7ZWxzZXtpZihcInN0cmluZ1wiIT10eXBlb2YgdC5kYXRhKXJldHVybiBuKG5ldyBFcnJvcihgSW5wdXQgZGF0YSBnaXZlbiB0byAnJHt0LnNvdXJjZX0nIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LmApKTt0cnl7cmV0dXJuIG4obnVsbCxKU09OLnBhcnNlKHQuZGF0YSkpfWNhdGNoKGUpe3JldHVybiBuKG5ldyBFcnJvcihgSW5wdXQgZGF0YSBnaXZlbiB0byAnJHt0LnNvdXJjZX0nIGlzIG5vdCBhIHZhbGlkIEdlb0pTT04gb2JqZWN0LmApKX19fWdldENsdXN0ZXJFeHBhbnNpb25ab29tKGUsdCl7dHJ5e3QobnVsbCx0aGlzLl9nZW9KU09OSW5kZXguZ2V0Q2x1c3RlckV4cGFuc2lvblpvb20oZS5jbHVzdGVySWQpKX1jYXRjaChlKXt0KGUpfX1nZXRDbHVzdGVyQ2hpbGRyZW4oZSx0KXt0cnl7dChudWxsLHRoaXMuX2dlb0pTT05JbmRleC5nZXRDaGlsZHJlbihlLmNsdXN0ZXJJZCkpfWNhdGNoKGUpe3QoZSl9fWdldENsdXN0ZXJMZWF2ZXMoZSx0KXt0cnl7dChudWxsLHRoaXMuX2dlb0pTT05JbmRleC5nZXRMZWF2ZXMoZS5jbHVzdGVySWQsZS5saW1pdCxlLm9mZnNldCkpfWNhdGNoKGUpe3QoZSl9fX1jbGFzcyB3ZXtjb25zdHJ1Y3Rvcih0KXt0aGlzLnNlbGY9dCx0aGlzLmFjdG9yPW5ldyBlLkFjdG9yKHQsdGhpcyksdGhpcy5sYXllckluZGV4ZXM9e30sdGhpcy5hdmFpbGFibGVJbWFnZXM9e30sdGhpcy5pc1Nwcml0ZUxvYWRlZD17fSx0aGlzLnByb2plY3Rpb25zPXt9LHRoaXMuZGVmYXVsdFByb2plY3Rpb249ZS5nZXRQcm9qZWN0aW9uKHtuYW1lOlwibWVyY2F0b3JcIn0pLHRoaXMud29ya2VyU291cmNlVHlwZXM9e3ZlY3RvcjplLlZlY3RvclRpbGVXb3JrZXJTb3VyY2UsZ2VvanNvbjpiZX0sdGhpcy53b3JrZXJTb3VyY2VzPXt9LHRoaXMuZGVtV29ya2VyU291cmNlcz17fSx0aGlzLnNlbGYucmVnaXN0ZXJXb3JrZXJTb3VyY2U9KGUsdCk9PntpZih0aGlzLndvcmtlclNvdXJjZVR5cGVzW2VdKXRocm93IG5ldyBFcnJvcihgV29ya2VyIHNvdXJjZSB3aXRoIG5hbWUgXCIke2V9XCIgYWxyZWFkeSByZWdpc3RlcmVkLmApO3RoaXMud29ya2VyU291cmNlVHlwZXNbZV09dH0sdGhpcy5zZWxmLnJlZ2lzdGVyUlRMVGV4dFBsdWdpbj10PT57aWYoZS5wbHVnaW4uaXNQYXJzZWQoKSl0aHJvdyBuZXcgRXJyb3IoXCJSVEwgdGV4dCBwbHVnaW4gYWxyZWFkeSByZWdpc3RlcmVkLlwiKTtlLnBsdWdpbi5hcHBseUFyYWJpY1NoYXBpbmc9dC5hcHBseUFyYWJpY1NoYXBpbmcsZS5wbHVnaW4ucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0PXQucHJvY2Vzc0JpZGlyZWN0aW9uYWxUZXh0LGUucGx1Z2luLnByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dD10LnByb2Nlc3NTdHlsZWRCaWRpcmVjdGlvbmFsVGV4dH19Y2xlYXJDYWNoZXMoZSx0LG4pe2RlbGV0ZSB0aGlzLmxheWVySW5kZXhlc1tlXSxkZWxldGUgdGhpcy5hdmFpbGFibGVJbWFnZXNbZV0sZGVsZXRlIHRoaXMud29ya2VyU291cmNlc1tlXSxkZWxldGUgdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdLG4oKX1jaGVja0lmUmVhZHkoZSx0LG4pe24oKX1zZXRSZWZlcnJlcihlLHQpe3RoaXMucmVmZXJyZXI9dH1zcHJpdGVMb2FkZWQodCxuKXt0aGlzLmlzU3ByaXRlTG9hZGVkW3RdPW47Zm9yKGNvbnN0IGkgaW4gdGhpcy53b3JrZXJTb3VyY2VzW3RdKXtjb25zdCByPXRoaXMud29ya2VyU291cmNlc1t0XVtpXTtmb3IoY29uc3QgdCBpbiByKXJbdF1pbnN0YW5jZW9mIGUuVmVjdG9yVGlsZVdvcmtlclNvdXJjZSYmKHJbdF0uaXNTcHJpdGVMb2FkZWQ9bixyW3RdLmZpcmUobmV3IGUuRXZlbnQoXCJpc1Nwcml0ZUxvYWRlZFwiKSkpfX1zZXRJbWFnZXMoZSx0LG4pe3RoaXMuYXZhaWxhYmxlSW1hZ2VzW2VdPXQ7Zm9yKGNvbnN0IG4gaW4gdGhpcy53b3JrZXJTb3VyY2VzW2VdKXtjb25zdCBpPXRoaXMud29ya2VyU291cmNlc1tlXVtuXTtmb3IoY29uc3QgZSBpbiBpKWlbZV0uYXZhaWxhYmxlSW1hZ2VzPXR9bigpfWVuYWJsZVRlcnJhaW4oZSx0LG4pe3RoaXMudGVycmFpbj10LG4oKX1zZXRQcm9qZWN0aW9uKHQsbil7dGhpcy5wcm9qZWN0aW9uc1t0XT1lLmdldFByb2plY3Rpb24obil9c2V0TGF5ZXJzKGUsdCxuKXt0aGlzLmdldExheWVySW5kZXgoZSkucmVwbGFjZSh0KSxuKCl9dXBkYXRlTGF5ZXJzKGUsdCxuKXt0aGlzLmdldExheWVySW5kZXgoZSkudXBkYXRlKHQubGF5ZXJzLHQucmVtb3ZlZElkcyksbigpfWxvYWRUaWxlKHQsbixpKXtjb25zdCByPXRoaXMuZW5hYmxlVGVycmFpbj9lLmV4dGVuZCh7ZW5hYmxlVGVycmFpbjp0aGlzLnRlcnJhaW59LG4pOm47ci5wcm9qZWN0aW9uPXRoaXMucHJvamVjdGlvbnNbdF18fHRoaXMuZGVmYXVsdFByb2plY3Rpb24sdGhpcy5nZXRXb3JrZXJTb3VyY2UodCxuLnR5cGUsbi5zb3VyY2UpLmxvYWRUaWxlKHIsaSl9bG9hZERFTVRpbGUodCxuLGkpe2NvbnN0IHI9dGhpcy5lbmFibGVUZXJyYWluP2UuZXh0ZW5kKHtidWlsZFF1YWRUcmVlOnRoaXMudGVycmFpbn0sbik6bjt0aGlzLmdldERFTVdvcmtlclNvdXJjZSh0LG4uc291cmNlKS5sb2FkVGlsZShyLGkpfXJlbG9hZFRpbGUodCxuLGkpe2NvbnN0IHI9dGhpcy5lbmFibGVUZXJyYWluP2UuZXh0ZW5kKHtlbmFibGVUZXJyYWluOnRoaXMudGVycmFpbn0sbik6bjtyLnByb2plY3Rpb249dGhpcy5wcm9qZWN0aW9uc1t0XXx8dGhpcy5kZWZhdWx0UHJvamVjdGlvbix0aGlzLmdldFdvcmtlclNvdXJjZSh0LG4udHlwZSxuLnNvdXJjZSkucmVsb2FkVGlsZShyLGkpfWFib3J0VGlsZShlLHQsbil7dGhpcy5nZXRXb3JrZXJTb3VyY2UoZSx0LnR5cGUsdC5zb3VyY2UpLmFib3J0VGlsZSh0LG4pfXJlbW92ZVRpbGUoZSx0LG4pe3RoaXMuZ2V0V29ya2VyU291cmNlKGUsdC50eXBlLHQuc291cmNlKS5yZW1vdmVUaWxlKHQsbil9cmVtb3ZlU291cmNlKGUsdCxuKXtpZighdGhpcy53b3JrZXJTb3VyY2VzW2VdfHwhdGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV18fCF0aGlzLndvcmtlclNvdXJjZXNbZV1bdC50eXBlXVt0LnNvdXJjZV0pcmV0dXJuO2NvbnN0IGk9dGhpcy53b3JrZXJTb3VyY2VzW2VdW3QudHlwZV1bdC5zb3VyY2VdO2RlbGV0ZSB0aGlzLndvcmtlclNvdXJjZXNbZV1bdC50eXBlXVt0LnNvdXJjZV0sdm9pZCAwIT09aS5yZW1vdmVTb3VyY2U/aS5yZW1vdmVTb3VyY2UodCxuKTpuKCl9bG9hZFdvcmtlclNvdXJjZShlLHQsbil7dHJ5e3RoaXMuc2VsZi5pbXBvcnRTY3JpcHRzKHQudXJsKSxuKCl9Y2F0Y2goZSl7bihlLnRvU3RyaW5nKCkpfX1zeW5jUlRMUGx1Z2luU3RhdGUodCxuLGkpe3RyeXtlLnBsdWdpbi5zZXRTdGF0ZShuKTtjb25zdCB0PWUucGx1Z2luLmdldFBsdWdpblVSTCgpO2lmKGUucGx1Z2luLmlzTG9hZGVkKCkmJiFlLnBsdWdpbi5pc1BhcnNlZCgpJiZudWxsIT10KXt0aGlzLnNlbGYuaW1wb3J0U2NyaXB0cyh0KTtjb25zdCBuPWUucGx1Z2luLmlzUGFyc2VkKCk7aShuP3ZvaWQgMDpuZXcgRXJyb3IoXCJSVEwgVGV4dCBQbHVnaW4gZmFpbGVkIHRvIGltcG9ydCBzY3JpcHRzIGZyb20gXCIrdCksbil9fWNhdGNoKGUpe2koZS50b1N0cmluZygpKX19Z2V0QXZhaWxhYmxlSW1hZ2VzKGUpe2xldCB0PXRoaXMuYXZhaWxhYmxlSW1hZ2VzW2VdO3JldHVybiB0fHwodD1bXSksdH1nZXRMYXllckluZGV4KGUpe2xldCB0PXRoaXMubGF5ZXJJbmRleGVzW2VdO3JldHVybiB0fHwodD10aGlzLmxheWVySW5kZXhlc1tlXT1uZXcgaSksdH1nZXRXb3JrZXJTb3VyY2UoZSx0LG4pe2lmKHRoaXMud29ya2VyU291cmNlc1tlXXx8KHRoaXMud29ya2VyU291cmNlc1tlXT17fSksdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdfHwodGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdPXt9KSwhdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW25dKXtjb25zdCBpPXtzZW5kOih0LG4saSxyLG8sYSk9Pnt0aGlzLmFjdG9yLnNlbmQodCxuLGksZSxvLGEpfSxzY2hlZHVsZXI6dGhpcy5hY3Rvci5zY2hlZHVsZXJ9O3RoaXMud29ya2VyU291cmNlc1tlXVt0XVtuXT1uZXcgdGhpcy53b3JrZXJTb3VyY2VUeXBlc1t0XShpLHRoaXMuZ2V0TGF5ZXJJbmRleChlKSx0aGlzLmdldEF2YWlsYWJsZUltYWdlcyhlKSx0aGlzLmlzU3ByaXRlTG9hZGVkW2VdKX1yZXR1cm4gdGhpcy53b3JrZXJTb3VyY2VzW2VdW3RdW25dfWdldERFTVdvcmtlclNvdXJjZShlLHQpe3JldHVybiB0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV18fCh0aGlzLmRlbVdvcmtlclNvdXJjZXNbZV09e30pLHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVt0XXx8KHRoaXMuZGVtV29ya2VyU291cmNlc1tlXVt0XT1uZXcgciksdGhpcy5kZW1Xb3JrZXJTb3VyY2VzW2VdW3RdfWVuZm9yY2VDYWNoZVNpemVMaW1pdCh0LG4pe2UuZW5mb3JjZUNhY2hlU2l6ZUxpbWl0KG4pfWdldFdvcmtlclBlcmZvcm1hbmNlTWV0cmljcyhlLHQsbil7bih2b2lkIDAsdm9pZCAwKX19cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlJiZcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlJiYoc2VsZi53b3JrZXI9bmV3IHdlKHNlbGYpKSx3ZX0pKSxyKFtcIi4vc2hhcmVkXCJdLChmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KGUsbil7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYoIUFycmF5LmlzQXJyYXkobil8fGUubGVuZ3RoIT09bi5sZW5ndGgpcmV0dXJuITE7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspaWYoIXQoZVtpXSxuW2ldKSlyZXR1cm4hMTtyZXR1cm4hMH1pZihcIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWUmJm51bGwhPT1uKXtpZihcIm9iamVjdFwiIT10eXBlb2YgbilyZXR1cm4hMTtpZihPYmplY3Qua2V5cyhlKS5sZW5ndGghPT1PYmplY3Qua2V5cyhuKS5sZW5ndGgpcmV0dXJuITE7Zm9yKGNvbnN0IGkgaW4gZSlpZighdChlW2ldLG5baV0pKXJldHVybiExO3JldHVybiEwfXJldHVybiBlPT09bn12YXIgbj1pO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIWZ1bmN0aW9uKGUpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudD9cIm5vdCBhIGJyb3dzZXJcIjpBcnJheS5wcm90b3R5cGUmJkFycmF5LnByb3RvdHlwZS5ldmVyeSYmQXJyYXkucHJvdG90eXBlLmZpbHRlciYmQXJyYXkucHJvdG90eXBlLmZvckVhY2gmJkFycmF5LnByb3RvdHlwZS5pbmRleE9mJiZBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YmJkFycmF5LnByb3RvdHlwZS5tYXAmJkFycmF5LnByb3RvdHlwZS5zb21lJiZBcnJheS5wcm90b3R5cGUucmVkdWNlJiZBcnJheS5wcm90b3R5cGUucmVkdWNlUmlnaHQmJkFycmF5LmlzQXJyYXk/RnVuY3Rpb24ucHJvdG90eXBlJiZGdW5jdGlvbi5wcm90b3R5cGUuYmluZD9PYmplY3Qua2V5cyYmT2JqZWN0LmNyZWF0ZSYmT2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyYmT2JqZWN0LmlzU2VhbGVkJiZPYmplY3QuaXNGcm96ZW4mJk9iamVjdC5pc0V4dGVuc2libGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3ImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSYmT2JqZWN0LmRlZmluZVByb3BlcnRpZXMmJk9iamVjdC5zZWFsJiZPYmplY3QuZnJlZXplJiZPYmplY3QucHJldmVudEV4dGVuc2lvbnM/XCJKU09OXCJpbiB3aW5kb3cmJlwicGFyc2VcImluIEpTT04mJlwic3RyaW5naWZ5XCJpbiBKU09OP2Z1bmN0aW9uKCl7aWYoIShcIldvcmtlclwiaW4gd2luZG93JiZcIkJsb2JcImluIHdpbmRvdyYmXCJVUkxcImluIHdpbmRvdykpcmV0dXJuITE7dmFyIGUsdCxuPW5ldyBCbG9iKFtcIlwiXSx7dHlwZTpcInRleHQvamF2YXNjcmlwdFwifSksaT1VUkwuY3JlYXRlT2JqZWN0VVJMKG4pO3RyeXt0PW5ldyBXb3JrZXIoaSksZT0hMH1jYXRjaCh0KXtlPSExfXJldHVybiB0JiZ0LnRlcm1pbmF0ZSgpLFVSTC5yZXZva2VPYmplY3RVUkwoaSksZX0oKT9cIlVpbnQ4Q2xhbXBlZEFycmF5XCJpbiB3aW5kb3c/QXJyYXlCdWZmZXIuaXNWaWV3P2Z1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtlLndpZHRoPWUuaGVpZ2h0PTE7dmFyIHQ9ZS5nZXRDb250ZXh0KFwiMmRcIik7aWYoIXQpcmV0dXJuITE7dmFyIG49dC5nZXRJbWFnZURhdGEoMCwwLDEsMSk7cmV0dXJuIG4mJm4ud2lkdGg9PT1lLndpZHRofSgpPyh2b2lkIDA9PT1yW3Q9ZSYmZS5mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0XSYmKHJbdF09ZnVuY3Rpb24oZSl7dmFyIHQsbj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLG49T2JqZWN0LmNyZWF0ZShpLndlYkdMQ29udGV4dEF0dHJpYnV0ZXMpO3JldHVybiBuLmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ9ZSx0LmdldENvbnRleHQoXCJ3ZWJnbFwiLG4pfHx0LmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIixuKX0oZSk7aWYoIW4pcmV0dXJuITE7dHJ5e3Q9bi5jcmVhdGVTaGFkZXIobi5WRVJURVhfU0hBREVSKX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4hKCF0fHxuLmlzQ29udGV4dExvc3QoKSkmJihuLnNoYWRlclNvdXJjZSh0LFwidm9pZCBtYWluKCkge31cIiksbi5jb21waWxlU2hhZGVyKHQpLCEwPT09bi5nZXRTaGFkZXJQYXJhbWV0ZXIodCxuLkNPTVBJTEVfU1RBVFVTKSl9KHQpKSxyW3RdP2RvY3VtZW50LmRvY3VtZW50TW9kZT9cImluc3VmZmljaWVudCBFQ01BU2NyaXB0IDYgc3VwcG9ydFwiOnZvaWQgMDpcImluc3VmZmljaWVudCBXZWJHTCBzdXBwb3J0XCIpOlwiaW5zdWZmaWNpZW50IENhbnZhcy9nZXRJbWFnZURhdGEgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IEFycmF5QnVmZmVyIHN1cHBvcnRcIjpcImluc3VmZmljaWVudCBVaW50OENsYW1wZWRBcnJheSBzdXBwb3J0XCI6XCJpbnN1ZmZpY2llbnQgd29ya2VyIHN1cHBvcnRcIjpcImluc3VmZmljaWVudCBKU09OIHN1cHBvcnRcIjpcImluc3VmZmljaWVudCBPYmplY3Qgc3VwcG9ydFwiOlwiaW5zdWZmaWNpZW50IEZ1bmN0aW9uIHN1cHBvcnRcIjpcImluc3VmZmljZW50IEFycmF5IHN1cHBvcnRcIjt2YXIgdH0oZSl9dmFyIHI9e307ZnVuY3Rpb24gbyh0LG4saSl7Y29uc3Qgcj1lLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHQpO3JldHVybiB2b2lkIDAhPT1uJiYoci5jbGFzc05hbWU9biksaSYmaS5hcHBlbmRDaGlsZChyKSxyfWZ1bmN0aW9uIGEodCxuLGkpe2NvbnN0IHI9ZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIix0KTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhuKSlyLnNldEF0dHJpYnV0ZU5TKG51bGwsZSxuW2VdKTtyZXR1cm4gaSYmaS5hcHBlbmRDaGlsZChyKSxyfWkud2ViR0xDb250ZXh0QXR0cmlidXRlcz17YW50aWFsaWFzOiExLGFscGhhOiEwLHN0ZW5jaWw6ITAsZGVwdGg6ITB9O2NvbnN0IHM9ZS53aW5kb3cuZG9jdW1lbnQmJmUud2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxsPXMmJnZvaWQgMCE9PXMudXNlclNlbGVjdD9cInVzZXJTZWxlY3RcIjpcIldlYmtpdFVzZXJTZWxlY3RcIjtsZXQgYztmdW5jdGlvbiB1KCl7cyYmbCYmKGM9c1tsXSxzW2xdPVwibm9uZVwiKX1mdW5jdGlvbiBoKCl7cyYmbCYmKHNbbF09Yyl9ZnVuY3Rpb24gZCh0KXt0LnByZXZlbnREZWZhdWx0KCksdC5zdG9wUHJvcGFnYXRpb24oKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixkLCEwKX1mdW5jdGlvbiBwKCl7ZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZCwhMCksZS53aW5kb3cuc2V0VGltZW91dCgoKT0+e2Uud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGQsITApfSwwKX1mdW5jdGlvbiBmKGUsdCl7Y29uc3Qgbj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiB5KGUsbix0KX1mdW5jdGlvbiBtKGUsdCl7Y29uc3Qgbj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9W107Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspaS5wdXNoKHkoZSxuLHRbcl0pKTtyZXR1cm4gaX1mdW5jdGlvbiBnKHQpe3JldHVybiB2b2lkIDAhPT1lLndpbmRvdy5JbnN0YWxsVHJpZ2dlciYmMj09PXQuYnV0dG9uJiZ0LmN0cmxLZXkmJmUud2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoXCJNQUNcIik+PTA/MDp0LmJ1dHRvbn1mdW5jdGlvbiB5KHQsbixpKXtjb25zdCByPXQub2Zmc2V0V2lkdGg9PT1uLndpZHRoPzE6dC5vZmZzZXRXaWR0aC9uLndpZHRoO3JldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KChpLmNsaWVudFgtbi5sZWZ0KSpyLChpLmNsaWVudFktbi50b3ApKnIpfWZ1bmN0aW9uIF8oZSx0KXt2YXIgbj10WzBdLGk9dFsxXSxyPXRbMl0sbz10WzNdLGE9bipvLXIqaTtyZXR1cm4gYT8oZVswXT1vKihhPTEvYSksZVsxXT0taSphLGVbMl09LXIqYSxlWzNdPW4qYSxlKTpudWxsfWZ1bmN0aW9uIHYoZSl7Y29uc3R7dXNlckltYWdlOnR9PWU7cmV0dXJuISEodCYmdC5yZW5kZXImJnQucmVuZGVyKCkpJiYoZS5kYXRhLnJlcGxhY2UobmV3IFVpbnQ4QXJyYXkodC5kYXRhLmJ1ZmZlcikpLCEwKX1jbGFzcyB4IGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmltYWdlcz17fSx0aGlzLnVwZGF0ZWRJbWFnZXM9e30sdGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWU9e30sdGhpcy5sb2FkZWQ9ITEsdGhpcy5yZXF1ZXN0b3JzPVtdLHRoaXMucGF0dGVybnM9e30sdGhpcy5hdGxhc0ltYWdlPW5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6MSxoZWlnaHQ6MX0pLHRoaXMuZGlydHk9ITB9aXNMb2FkZWQoKXtyZXR1cm4gdGhpcy5sb2FkZWR9c2V0TG9hZGVkKGUpe2lmKHRoaXMubG9hZGVkIT09ZSYmKHRoaXMubG9hZGVkPWUsZSkpe2Zvcihjb25zdHtpZHM6ZSxjYWxsYmFjazp0fW9mIHRoaXMucmVxdWVzdG9ycyl0aGlzLl9ub3RpZnkoZSx0KTt0aGlzLnJlcXVlc3RvcnM9W119fWhhc0ltYWdlKGUpe3JldHVybiEhdGhpcy5nZXRJbWFnZShlKX1nZXRJbWFnZShlKXtyZXR1cm4gdGhpcy5pbWFnZXNbZV19YWRkSW1hZ2UoZSx0KXt0aGlzLl92YWxpZGF0ZShlLHQpJiYodGhpcy5pbWFnZXNbZV09dCl9X3ZhbGlkYXRlKHQsbil7bGV0IGk9ITA7cmV0dXJuIHRoaXMuX3ZhbGlkYXRlU3RyZXRjaChuLnN0cmV0Y2hYLG4uZGF0YSYmbi5kYXRhLndpZHRoKXx8KHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgSW1hZ2UgXCIke3R9XCIgaGFzIGludmFsaWQgXCJzdHJldGNoWFwiIHZhbHVlYCkpKSxpPSExKSx0aGlzLl92YWxpZGF0ZVN0cmV0Y2gobi5zdHJldGNoWSxuLmRhdGEmJm4uZGF0YS5oZWlnaHQpfHwodGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBJbWFnZSBcIiR7dH1cIiBoYXMgaW52YWxpZCBcInN0cmV0Y2hZXCIgdmFsdWVgKSkpLGk9ITEpLHRoaXMuX3ZhbGlkYXRlQ29udGVudChuLmNvbnRlbnQsbil8fCh0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYEltYWdlIFwiJHt0fVwiIGhhcyBpbnZhbGlkIFwiY29udGVudFwiIHZhbHVlYCkpKSxpPSExKSxpfV92YWxpZGF0ZVN0cmV0Y2goZSx0KXtpZighZSlyZXR1cm4hMDtsZXQgbj0wO2Zvcihjb25zdCBpIG9mIGUpe2lmKGlbMF08bnx8aVsxXTxpWzBdfHx0PGlbMV0pcmV0dXJuITE7bj1pWzFdfXJldHVybiEwfV92YWxpZGF0ZUNvbnRlbnQoZSx0KXtyZXR1cm4hKGUmJig0IT09ZS5sZW5ndGh8fGVbMF08MHx8dC5kYXRhLndpZHRoPGVbMF18fGVbMV08MHx8dC5kYXRhLmhlaWdodDxlWzFdfHxlWzJdPDB8fHQuZGF0YS53aWR0aDxlWzJdfHxlWzNdPDB8fHQuZGF0YS5oZWlnaHQ8ZVszXXx8ZVsyXTxlWzBdfHxlWzNdPGVbMV0pKX11cGRhdGVJbWFnZShlLHQpe3QudmVyc2lvbj10aGlzLmltYWdlc1tlXS52ZXJzaW9uKzEsdGhpcy5pbWFnZXNbZV09dCx0aGlzLnVwZGF0ZWRJbWFnZXNbZV09ITB9cmVtb3ZlSW1hZ2UoZSl7Y29uc3QgdD10aGlzLmltYWdlc1tlXTtkZWxldGUgdGhpcy5pbWFnZXNbZV0sZGVsZXRlIHRoaXMucGF0dGVybnNbZV0sdC51c2VySW1hZ2UmJnQudXNlckltYWdlLm9uUmVtb3ZlJiZ0LnVzZXJJbWFnZS5vblJlbW92ZSgpfWxpc3RJbWFnZXMoKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5pbWFnZXMpfWdldEltYWdlcyhlLHQpe2xldCBuPSEwO2lmKCF0aGlzLmlzTG9hZGVkKCkpZm9yKGNvbnN0IHQgb2YgZSl0aGlzLmltYWdlc1t0XXx8KG49ITEpO3RoaXMuaXNMb2FkZWQoKXx8bj90aGlzLl9ub3RpZnkoZSx0KTp0aGlzLnJlcXVlc3RvcnMucHVzaCh7aWRzOmUsY2FsbGJhY2s6dH0pfV9ub3RpZnkodCxuKXtjb25zdCBpPXt9O2Zvcihjb25zdCBuIG9mIHQpe3RoaXMuaW1hZ2VzW25dfHx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJzdHlsZWltYWdlbWlzc2luZ1wiLHtpZDpufSkpO2NvbnN0IHQ9dGhpcy5pbWFnZXNbbl07dD9pW25dPXtkYXRhOnQuZGF0YS5jbG9uZSgpLHBpeGVsUmF0aW86dC5waXhlbFJhdGlvLHNkZjp0LnNkZix2ZXJzaW9uOnQudmVyc2lvbixzdHJldGNoWDp0LnN0cmV0Y2hYLHN0cmV0Y2hZOnQuc3RyZXRjaFksY29udGVudDp0LmNvbnRlbnQsaGFzUmVuZGVyQ2FsbGJhY2s6Qm9vbGVhbih0LnVzZXJJbWFnZSYmdC51c2VySW1hZ2UucmVuZGVyKX06ZS53YXJuT25jZShgSW1hZ2UgXCIke259XCIgY291bGQgbm90IGJlIGxvYWRlZC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UgaGF2ZSBhZGRlZCB0aGUgaW1hZ2Ugd2l0aCBtYXAuYWRkSW1hZ2UoKSBvciBhIFwic3ByaXRlXCIgcHJvcGVydHkgaW4geW91ciBzdHlsZS4gWW91IGNhbiBwcm92aWRlIG1pc3NpbmcgaW1hZ2VzIGJ5IGxpc3RlbmluZyBmb3IgdGhlIFwic3R5bGVpbWFnZW1pc3NpbmdcIiBtYXAgZXZlbnQuYCl9bihudWxsLGkpfWdldFBpeGVsU2l6ZSgpe2NvbnN0e3dpZHRoOmUsaGVpZ2h0OnR9PXRoaXMuYXRsYXNJbWFnZTtyZXR1cm57d2lkdGg6ZSxoZWlnaHQ6dH19Z2V0UGF0dGVybih0KXtjb25zdCBuPXRoaXMucGF0dGVybnNbdF0saT10aGlzLmdldEltYWdlKHQpO2lmKCFpKXJldHVybiBudWxsO2lmKG4mJm4ucG9zaXRpb24udmVyc2lvbj09PWkudmVyc2lvbilyZXR1cm4gbi5wb3NpdGlvbjtpZihuKW4ucG9zaXRpb24udmVyc2lvbj1pLnZlcnNpb247ZWxzZXtjb25zdCBuPXt3OmkuZGF0YS53aWR0aCsyLGg6aS5kYXRhLmhlaWdodCsyLHg6MCx5OjB9LHI9bmV3IGUuSW1hZ2VQb3NpdGlvbihuLGkpO3RoaXMucGF0dGVybnNbdF09e2JpbjpuLHBvc2l0aW9uOnJ9fXJldHVybiB0aGlzLl91cGRhdGVQYXR0ZXJuQXRsYXMoKSx0aGlzLnBhdHRlcm5zW3RdLnBvc2l0aW9ufWJpbmQodCl7Y29uc3Qgbj10LmdsO3RoaXMuYXRsYXNUZXh0dXJlP3RoaXMuZGlydHkmJih0aGlzLmF0bGFzVGV4dHVyZS51cGRhdGUodGhpcy5hdGxhc0ltYWdlKSx0aGlzLmRpcnR5PSExKTp0aGlzLmF0bGFzVGV4dHVyZT1uZXcgZS5UZXh0dXJlKHQsdGhpcy5hdGxhc0ltYWdlLG4uUkdCQSksdGhpcy5hdGxhc1RleHR1cmUuYmluZChuLkxJTkVBUixuLkNMQU1QX1RPX0VER0UpfV91cGRhdGVQYXR0ZXJuQXRsYXMoKXtjb25zdCB0PVtdO2Zvcihjb25zdCBlIGluIHRoaXMucGF0dGVybnMpdC5wdXNoKHRoaXMucGF0dGVybnNbZV0uYmluKTtjb25zdHt3Om4saDppfT1lLnBvdHBhY2sodCkscj10aGlzLmF0bGFzSW1hZ2U7ci5yZXNpemUoe3dpZHRoOm58fDEsaGVpZ2h0Oml8fDF9KTtmb3IoY29uc3QgdCBpbiB0aGlzLnBhdHRlcm5zKXtjb25zdHtiaW46bn09dGhpcy5wYXR0ZXJuc1t0XSxpPW4ueCsxLG89bi55KzEsYT10aGlzLmltYWdlc1t0XS5kYXRhLHM9YS53aWR0aCxsPWEuaGVpZ2h0O2UuUkdCQUltYWdlLmNvcHkoYSxyLHt4OjAseTowfSx7eDppLHk6b30se3dpZHRoOnMsaGVpZ2h0Omx9KSxlLlJHQkFJbWFnZS5jb3B5KGEscix7eDowLHk6bC0xfSx7eDppLHk6by0xfSx7d2lkdGg6cyxoZWlnaHQ6MX0pLGUuUkdCQUltYWdlLmNvcHkoYSxyLHt4OjAseTowfSx7eDppLHk6bytsfSx7d2lkdGg6cyxoZWlnaHQ6MX0pLGUuUkdCQUltYWdlLmNvcHkoYSxyLHt4OnMtMSx5OjB9LHt4OmktMSx5Om99LHt3aWR0aDoxLGhlaWdodDpsfSksZS5SR0JBSW1hZ2UuY29weShhLHIse3g6MCx5OjB9LHt4Omkrcyx5Om99LHt3aWR0aDoxLGhlaWdodDpsfSl9dGhpcy5kaXJ0eT0hMH1iZWdpbkZyYW1lKCl7dGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWU9e319ZGlzcGF0Y2hSZW5kZXJDYWxsYmFja3MoZSl7Zm9yKGNvbnN0IHQgb2YgZSl7aWYodGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWVbdF0pY29udGludWU7dGhpcy5jYWxsYmFja0Rpc3BhdGNoZWRUaGlzRnJhbWVbdF09ITA7Y29uc3QgZT10aGlzLmltYWdlc1t0XTt2KGUpJiZ0aGlzLnVwZGF0ZUltYWdlKHQsZSl9fX1jb25zdCBiPW5ldyBlLlByb3BlcnRpZXMoe2FuY2hvcjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMubGlnaHQuYW5jaG9yKSxwb3NpdGlvbjpuZXcgY2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLnNwZWNpZmljYXRpb249ZS5zcGVjLmxpZ2h0LnBvc2l0aW9ufXBvc3NpYmx5RXZhbHVhdGUodCxuKXtyZXR1cm4gZnVuY3Rpb24oW3QsbixpXSl7Y29uc3Qgcj1lLmRlZ1RvUmFkKG4rOTApLG89ZS5kZWdUb1JhZChpKTtyZXR1cm57eDp0Kk1hdGguY29zKHIpKk1hdGguc2luKG8pLHk6dCpNYXRoLnNpbihyKSpNYXRoLnNpbihvKSx6OnQqTWF0aC5jb3MobyksYXppbXV0aGFsOm4scG9sYXI6aX19KHQuZXhwcmVzc2lvbi5ldmFsdWF0ZShuKSl9aW50ZXJwb2xhdGUodCxuLGkpe3JldHVybnt4OmUubnVtYmVyKHQueCxuLngsaSkseTplLm51bWJlcih0Lnksbi55LGkpLHo6ZS5udW1iZXIodC56LG4ueixpKSxhemltdXRoYWw6ZS5udW1iZXIodC5hemltdXRoYWwsbi5hemltdXRoYWwsaSkscG9sYXI6ZS5udW1iZXIodC5wb2xhcixuLnBvbGFyLGkpfX19LGNvbG9yOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5saWdodC5jb2xvciksaW50ZW5zaXR5Om5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5saWdodC5pbnRlbnNpdHkpfSksdz1cIi10cmFuc2l0aW9uXCI7Y2xhc3MgVCBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMuX3RyYW5zaXRpb25hYmxlPW5ldyBlLlRyYW5zaXRpb25hYmxlKGIpLHRoaXMuc2V0TGlnaHQodCksdGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS51bnRyYW5zaXRpb25lZCgpfWdldExpZ2h0KCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNlcmlhbGl6ZSgpfXNldExpZ2h0KHQsbj17fSl7aWYoIXRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVMaWdodCx0LG4pKWZvcihjb25zdCBuIGluIHQpe2NvbnN0IGk9dFtuXTtlLmVuZHNXaXRoKG4sdyk/dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbihuLnNsaWNlKDAsLXcubGVuZ3RoKSxpKTp0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRWYWx1ZShuLGkpfX11cGRhdGVUcmFuc2l0aW9ucyhlKXt0aGlzLl90cmFuc2l0aW9uaW5nPXRoaXMuX3RyYW5zaXRpb25hYmxlLnRyYW5zaXRpb25lZChlLHRoaXMuX3RyYW5zaXRpb25pbmcpfWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhbnNpdGlvbmluZy5oYXNUcmFuc2l0aW9uKCl9cmVjYWxjdWxhdGUoZSl7dGhpcy5wcm9wZXJ0aWVzPXRoaXMuX3RyYW5zaXRpb25pbmcucG9zc2libHlFdmFsdWF0ZShlKX1fdmFsaWRhdGUodCxuLGkpe3JldHVybighaXx8ITEhPT1pLnZhbGlkYXRlKSYmZS5lbWl0VmFsaWRhdGlvbkVycm9ycyh0aGlzLHQuY2FsbChlLnZhbGlkYXRlU3R5bGUsZS5leHRlbmQoe3ZhbHVlOm4sc3R5bGU6e2dseXBoczohMCxzcHJpdGU6ITB9LHN0eWxlU3BlYzplLnNwZWN9KSkpfX1jb25zdCBFPW5ldyBlLlByb3BlcnRpZXMoe3NvdXJjZTpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMudGVycmFpbi5zb3VyY2UpLGV4YWdnZXJhdGlvbjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMudGVycmFpbi5leGFnZ2VyYXRpb24pfSksUz1cIi10cmFuc2l0aW9uXCI7Y2xhc3MgTSBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LG4pe3N1cGVyKCksdGhpcy5fdHJhbnNpdGlvbmFibGU9bmV3IGUuVHJhbnNpdGlvbmFibGUoRSksdGhpcy5zZXQodCksdGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS51bnRyYW5zaXRpb25lZCgpLHRoaXMuZHJhcGVSZW5kZXJNb2RlPW59Z2V0KCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25hYmxlLnNlcmlhbGl6ZSgpfXNldCh0KXtmb3IoY29uc3QgbiBpbiB0KXtjb25zdCBpPXRbbl07ZS5lbmRzV2l0aChuLFMpP3RoaXMuX3RyYW5zaXRpb25hYmxlLnNldFRyYW5zaXRpb24obi5zbGljZSgwLC1TLmxlbmd0aCksaSk6dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VmFsdWUobixpKX19dXBkYXRlVHJhbnNpdGlvbnMoZSl7dGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQoZSx0aGlzLl90cmFuc2l0aW9uaW5nKX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpfXJlY2FsY3VsYXRlKGUpe3RoaXMucHJvcGVydGllcz10aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUoZSl9fWZ1bmN0aW9uIEkodCxuLGkscil7Y29uc3Qgbz1lLnNtb290aHN0ZXAoNDUsNjUsaSksW2Esc109Qyh0LHIpLGw9ZS5sZW5ndGgobik7bGV0IGM9MS1NYXRoLm1pbigxLE1hdGguZXhwKChsLWEpLyhzLWEpKi02KSk7cmV0dXJuIGMqPWMqYyxjPU1hdGgubWluKDEsMS4wMDc0NypjKSxjKm8qdC5hbHBoYX1mdW5jdGlvbiBDKGUsdCl7Y29uc3Qgbj0uNS9NYXRoLnRhbiguNSp0KTtyZXR1cm5bZS5yYW5nZVswXStuLGUucmFuZ2VbMV0rbl19Y29uc3Qgaz1uZXcgZS5Qcm9wZXJ0aWVzKHtyYW5nZTpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMuZm9nLnJhbmdlKSxjb2xvcjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMuZm9nLmNvbG9yKSxcImhpZ2gtY29sb3JcIjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMuZm9nW1wiaGlnaC1jb2xvclwiXSksXCJzcGFjZS1jb2xvclwiOm5ldyBlLkRhdGFDb25zdGFudFByb3BlcnR5KGUuc3BlYy5mb2dbXCJzcGFjZS1jb2xvclwiXSksXCJob3Jpem9uLWJsZW5kXCI6bmV3IGUuRGF0YUNvbnN0YW50UHJvcGVydHkoZS5zcGVjLmZvZ1tcImhvcml6b24tYmxlbmRcIl0pLFwic3Rhci1pbnRlbnNpdHlcIjpuZXcgZS5EYXRhQ29uc3RhbnRQcm9wZXJ0eShlLnNwZWMuZm9nW1wic3Rhci1pbnRlbnNpdHlcIl0pfSksQT1cIi10cmFuc2l0aW9uXCI7Y2xhc3MgUCBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LG4pe3N1cGVyKCksdGhpcy5fdHJhbnNpdGlvbmFibGU9bmV3IGUuVHJhbnNpdGlvbmFibGUoayksdGhpcy5zZXQodCksdGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS51bnRyYW5zaXRpb25lZCgpLHRoaXMuX3RyYW5zZm9ybT1ufWdldCBzdGF0ZSgpe2NvbnN0IHQ9dGhpcy5fdHJhbnNmb3JtLG49XCJnbG9iZVwiPT09dC5wcm9qZWN0aW9uLm5hbWUsaT1lLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odC56b29tKSxyPXRoaXMucHJvcGVydGllcy5nZXQoXCJyYW5nZVwiKSxvPVsuNSwzXTtyZXR1cm57cmFuZ2U6bj9bZS5udW1iZXIob1swXSxyWzBdLGkpLGUubnVtYmVyKG9bMV0sclsxXSxpKV06cixob3Jpem9uQmxlbmQ6dGhpcy5wcm9wZXJ0aWVzLmdldChcImhvcml6b24tYmxlbmRcIiksYWxwaGE6dGhpcy5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLmF9fWdldCgpe3JldHVybiB0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXJpYWxpemUoKX1zZXQodCxuPXt9KXtpZighdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZUZvZyx0LG4pKXtmb3IoY29uc3QgbiBvZiBPYmplY3Qua2V5cyhlLnNwZWMuZm9nKSl0JiZ2b2lkIDA9PT10W25dJiYodFtuXT1lLnNwZWMuZm9nW25dLmRlZmF1bHQpO2Zvcihjb25zdCBuIGluIHQpe2NvbnN0IGk9dFtuXTtlLmVuZHNXaXRoKG4sQSk/dGhpcy5fdHJhbnNpdGlvbmFibGUuc2V0VHJhbnNpdGlvbihuLnNsaWNlKDAsLUEubGVuZ3RoKSxpKTp0aGlzLl90cmFuc2l0aW9uYWJsZS5zZXRWYWx1ZShuLGkpfX19Z2V0T3BhY2l0eSh0KXtpZighdGhpcy5fdHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNGb2cpcmV0dXJuIDA7Y29uc3Qgbj10aGlzLnByb3BlcnRpZXMmJnRoaXMucHJvcGVydGllcy5nZXQoXCJjb2xvclwiKXx8MTtyZXR1cm4oXCJnbG9iZVwiPT09dGhpcy5fdHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZT8xOmUuc21vb3Roc3RlcCg0NSw2NSx0KSkqbi5hfWdldE9wYWNpdHlBdExhdExuZyh0LG4pe3JldHVybiB0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZz9mdW5jdGlvbih0LG4saSl7Y29uc3Qgcj1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KG4pLG89aS5lbGV2YXRpb24/aS5lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyhyKTowLGE9W3IueCxyLnksb107cmV0dXJuIGUudHJhbnNmb3JtTWF0NChhLGEsaS5tZXJjYXRvckZvZ01hdHJpeCksSSh0LGEsaS5waXRjaCxpLl9mb3YpfSh0aGlzLnN0YXRlLHQsbik6MH1nZXRGb3ZBZGp1c3RlZFJhbmdlKGUpe3JldHVybiB0aGlzLl90cmFuc2Zvcm0ucHJvamVjdGlvbi5zdXBwb3J0c0ZvZz9DKHRoaXMuc3RhdGUsZSk6WzAsMV19dXBkYXRlVHJhbnNpdGlvbnMoZSl7dGhpcy5fdHJhbnNpdGlvbmluZz10aGlzLl90cmFuc2l0aW9uYWJsZS50cmFuc2l0aW9uZWQoZSx0aGlzLl90cmFuc2l0aW9uaW5nKX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3RyYW5zaXRpb25pbmcuaGFzVHJhbnNpdGlvbigpfXJlY2FsY3VsYXRlKGUpe3RoaXMucHJvcGVydGllcz10aGlzLl90cmFuc2l0aW9uaW5nLnBvc3NpYmx5RXZhbHVhdGUoZSl9X3ZhbGlkYXRlKHQsbixpKXtyZXR1cm4oIWl8fCExIT09aS52YWxpZGF0ZSkmJmUuZW1pdFZhbGlkYXRpb25FcnJvcnModGhpcyx0LmNhbGwoZS52YWxpZGF0ZVN0eWxlLGUuZXh0ZW5kKHt2YWx1ZTpuLHN0eWxlOntnbHlwaHM6ITAsc3ByaXRlOiEwfSxzdHlsZVNwZWM6ZS5zcGVjfSkpKX19Y2xhc3Mgentjb25zdHJ1Y3Rvcih0LG4pe3RoaXMud29ya2VyUG9vbD10LHRoaXMuYWN0b3JzPVtdLHRoaXMuY3VycmVudEFjdG9yPTAsdGhpcy5pZD1lLnVuaXF1ZUlkKCk7Y29uc3QgaT10aGlzLndvcmtlclBvb2wuYWNxdWlyZSh0aGlzLmlkKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKyl7Y29uc3QgdD1uZXcgei5BY3RvcihpW2VdLG4sdGhpcy5pZCk7dC5uYW1lPVwiV29ya2VyIFwiK2UsdGhpcy5hY3RvcnMucHVzaCh0KX10aGlzLnJlYWR5PSExLHRoaXMuYnJvYWRjYXN0KFwiY2hlY2tJZlJlYWR5XCIsbnVsbCwoKT0+e3RoaXMucmVhZHk9ITB9KX1icm9hZGNhc3QodCxuLGkpe2UuYXN5bmNBbGwodGhpcy5hY3RvcnMsKGUsaSk9PntlLnNlbmQodCxuLGkpfSxpPWl8fGZ1bmN0aW9uKCl7fSl9Z2V0QWN0b3IoKXtyZXR1cm4gdGhpcy5jdXJyZW50QWN0b3I9KHRoaXMuY3VycmVudEFjdG9yKzEpJXRoaXMuYWN0b3JzLmxlbmd0aCx0aGlzLmFjdG9yc1t0aGlzLmN1cnJlbnRBY3Rvcl19cmVtb3ZlKCl7dGhpcy5hY3RvcnMuZm9yRWFjaChlPT57ZS5yZW1vdmUoKX0pLHRoaXMuYWN0b3JzPVtdLHRoaXMud29ya2VyUG9vbC5yZWxlYXNlKHRoaXMuaWQpfX1mdW5jdGlvbiBEKHQsbixpKXtyZXR1cm4gbiooZS5FWFRFTlQvKHQudGlsZVNpemUqTWF0aC5wb3coMixpLXQudGlsZUlELm92ZXJzY2FsZWRaKSkpfXouQWN0b3I9ZS5BY3RvcjtjbGFzcyBMe2NvbnN0cnVjdG9yKGUsdCxuLGkpe3RoaXMuc2NyZWVuQm91bmRzPWUsdGhpcy5jYW1lcmFQb2ludD10LHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZT17fSx0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGU9e30sdGhpcy5pc0Fib3ZlSG9yaXpvbj1uLHRoaXMuc2NyZWVuR2VvbWV0cnk9dGhpcy5idWZmZXJlZFNjcmVlbkdlb21ldHJ5KDApLHRoaXMuc2NyZWVuR2VvbWV0cnlNZXJjYXRvcj10aGlzLl9idWZmZXJlZFNjcmVlbk1lcmNhdG9yKDAsaSl9c3RhdGljIGNyZWF0ZUZyb21TY3JlZW5Qb2ludHModCxuKXtsZXQgaSxyO2lmKHQgaW5zdGFuY2VvZiBlLnBvaW50R2VvbWV0cnl8fFwibnVtYmVyXCI9PXR5cGVvZiB0WzBdKXtjb25zdCBvPWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQpO2k9W29dLHI9bi5pc1BvaW50QWJvdmVIb3Jpem9uKG8pfWVsc2V7Y29uc3Qgbz1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0WzBdKSxhPWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHRbMV0pO2k9W28sYV0scj1lLnBvbHlnb25pemVCb3VuZHMobyxhKS5ldmVyeShlPT5uLmlzUG9pbnRBYm92ZUhvcml6b24oZSkpfXJldHVybiBuZXcgTChpLG4uZ2V0Q2FtZXJhUG9pbnQoKSxyLG4pfWlzUG9pbnRRdWVyeSgpe3JldHVybiAxPT09dGhpcy5zY3JlZW5Cb3VuZHMubGVuZ3RofWJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkodCl7cmV0dXJuIGUucG9seWdvbml6ZUJvdW5kcyh0aGlzLnNjcmVlbkJvdW5kc1swXSwxPT09dGhpcy5zY3JlZW5Cb3VuZHMubGVuZ3RoP3RoaXMuc2NyZWVuQm91bmRzWzBdOnRoaXMuc2NyZWVuQm91bmRzWzFdLHQpfWJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnkodCl7Y29uc3Qgbj10aGlzLnNjcmVlbkJvdW5kc1swXSxpPTE9PT10aGlzLnNjcmVlbkJvdW5kcy5sZW5ndGg/dGhpcy5zY3JlZW5Cb3VuZHNbMF0uYWRkKG5ldyBlLnBvaW50R2VvbWV0cnkoMSwxKSk6dGhpcy5zY3JlZW5Cb3VuZHNbMV0scj1lLnBvbHlnb25pemVCb3VuZHMobixpLDAsITEpO3JldHVybiB0aGlzLmNhbWVyYVBvaW50Lnk+aS55JiYodGhpcy5jYW1lcmFQb2ludC54Pm4ueCYmdGhpcy5jYW1lcmFQb2ludC54PGkueD9yLnNwbGljZSgzLDAsdGhpcy5jYW1lcmFQb2ludCk6dGhpcy5jYW1lcmFQb2ludC54Pj1pLng/clsyXT10aGlzLmNhbWVyYVBvaW50OnRoaXMuY2FtZXJhUG9pbnQueDw9bi54JiYoclszXT10aGlzLmNhbWVyYVBvaW50KSksZS5idWZmZXJDb252ZXhQb2x5Z29uKHIsdCl9YnVmZmVyZWRDYW1lcmFHZW9tZXRyeUdsb2JlKHQpe2NvbnN0IG49dGhpcy5zY3JlZW5Cb3VuZHNbMF0saT0xPT09dGhpcy5zY3JlZW5Cb3VuZHMubGVuZ3RoP3RoaXMuc2NyZWVuQm91bmRzWzBdLmFkZChuZXcgZS5wb2ludEdlb21ldHJ5KDEsMSkpOnRoaXMuc2NyZWVuQm91bmRzWzFdLHI9ZS5wb2x5Z29uaXplQm91bmRzKG4saSx0KSxvPXRoaXMuY2FtZXJhUG9pbnQuY2xvbmUoKTtzd2l0Y2goMyooKG8ueT5uLnkpKyhvLnk+aS55KSkrKChvLng+bi54KSsoby54PmkueCkpKXtjYXNlIDA6clswXT1vLHJbNF09by5jbG9uZSgpO2JyZWFrO2Nhc2UgMTpyLnNwbGljZSgxLDAsbyk7YnJlYWs7Y2FzZSAyOnJbMV09bzticmVhaztjYXNlIDM6ci5zcGxpY2UoNCwwLG8pO2JyZWFrO2Nhc2UgNTpyLnNwbGljZSgyLDAsbyk7YnJlYWs7Y2FzZSA2OnJbM109bzticmVhaztjYXNlIDc6ci5zcGxpY2UoMywwLG8pO2JyZWFrO2Nhc2UgODpyWzJdPW99cmV0dXJuIHJ9Y29udGFpbnNUaWxlKHQsbixpLHI9MCl7Y29uc3Qgbz10LnF1ZXJ5UGFkZGluZy9uLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsKzEsYT1pP3RoaXMuX2J1ZmZlcmVkQ2FtZXJhTWVyY2F0b3IobyxuKTp0aGlzLl9idWZmZXJlZFNjcmVlbk1lcmNhdG9yKG8sbik7bGV0IHM9dC50aWxlSUQud3JhcCsoYS51bndyYXBwZWQ/cjowKTtjb25zdCBsPWEucG9seWdvbi5tYXAobj0+ZS5nZXRUaWxlUG9pbnQodC50aWxlVHJhbnNmb3JtLG4scykpO2lmKCFlLnBvbHlnb25JbnRlcnNlY3RzQm94KGwsMCwwLGUuRVhURU5ULGUuRVhURU5UKSlyZXR1cm47cz10LnRpbGVJRC53cmFwKyh0aGlzLnNjcmVlbkdlb21ldHJ5TWVyY2F0b3IudW53cmFwcGVkP3I6MCk7Y29uc3QgYz10aGlzLnNjcmVlbkdlb21ldHJ5TWVyY2F0b3IucG9seWdvbi5tYXAobj0+ZS5nZXRUaWxlVmVjMyh0LnRpbGVUcmFuc2Zvcm0sbixzKSksdT1jLm1hcCh0PT5uZXcgZS5wb2ludEdlb21ldHJ5KHRbMF0sdFsxXSkpLGg9bi5nZXRGcmVlQ2FtZXJhT3B0aW9ucygpLnBvc2l0aW9ufHxuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoMCwwLDApLGQ9ZS5nZXRUaWxlVmVjMyh0LnRpbGVUcmFuc2Zvcm0saCxzKSxwPWMubWFwKHQ9Pntjb25zdCBuPWUuc3ViKHQsdCxkKTtyZXR1cm4gZS5ub3JtYWxpemUobixuKSxuZXcgZS5SYXkoZCxuKX0pLGY9RCh0LDEsbi56b29tKSpuLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsO3JldHVybntxdWVyeUdlb21ldHJ5OnRoaXMsdGlsZXNwYWNlR2VvbWV0cnk6dSx0aWxlc3BhY2VSYXlzOnAsYnVmZmVyZWRUaWxlc3BhY2VHZW9tZXRyeTpsLGJ1ZmZlcmVkVGlsZXNwYWNlQm91bmRzOihtPWUuZ2V0Qm91bmRzKGwpLG0ubWluLng9ZS5jbGFtcChtLm1pbi54LDAsZS5FWFRFTlQpLG0ubWluLnk9ZS5jbGFtcChtLm1pbi55LDAsZS5FWFRFTlQpLG0ubWF4Lng9ZS5jbGFtcChtLm1heC54LDAsZS5FWFRFTlQpLG0ubWF4Lnk9ZS5jbGFtcChtLm1heC55LDAsZS5FWFRFTlQpLG0pLHRpbGU6dCx0aWxlSUQ6dC50aWxlSUQscGl4ZWxUb1RpbGVVbml0c0ZhY3RvcjpmfTt2YXIgbX1fYnVmZmVyZWRTY3JlZW5NZXJjYXRvcihlLHQpe2NvbnN0IG49QihlKTtpZih0aGlzLl9zY3JlZW5SYXljYXN0Q2FjaGVbbl0pcmV0dXJuIHRoaXMuX3NjcmVlblJheWNhc3RDYWNoZVtuXTt7bGV0IGk7cmV0dXJuIGk9XCJnbG9iZVwiPT09dC5wcm9qZWN0aW9uLm5hbWU/dGhpcy5fcHJvamVjdEFuZFJlc2FtcGxlKHRoaXMuYnVmZmVyZWRTY3JlZW5HZW9tZXRyeShlKSx0KTp7cG9seWdvbjp0aGlzLmJ1ZmZlcmVkU2NyZWVuR2VvbWV0cnkoZSkubWFwKGU9PnQucG9pbnRDb29yZGluYXRlM0QoZSkpLHVud3JhcHBlZDohMH0sdGhpcy5fc2NyZWVuUmF5Y2FzdENhY2hlW25dPWksaX19X2J1ZmZlcmVkQ2FtZXJhTWVyY2F0b3IoZSx0KXtjb25zdCBuPUIoZSk7aWYodGhpcy5fY2FtZXJhUmF5Y2FzdENhY2hlW25dKXJldHVybiB0aGlzLl9jYW1lcmFSYXljYXN0Q2FjaGVbbl07e2xldCBpO3JldHVybiBpPVwiZ2xvYmVcIj09PXQucHJvamVjdGlvbi5uYW1lP3RoaXMuX3Byb2plY3RBbmRSZXNhbXBsZSh0aGlzLmJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnlHbG9iZShlKSx0KTp7cG9seWdvbjp0aGlzLmJ1ZmZlcmVkQ2FtZXJhR2VvbWV0cnkoZSkubWFwKGU9PnQucG9pbnRDb29yZGluYXRlM0QoZSkpLHVud3JhcHBlZDohMH0sdGhpcy5fY2FtZXJhUmF5Y2FzdENhY2hlW25dPWksaX19X3Byb2plY3RBbmRSZXNhbXBsZSh0LG4pe2NvbnN0IGk9ZnVuY3Rpb24odCxuKXtjb25zdCBpPWUubXVsdGlwbHkoW10sbi5waXhlbE1hdHJpeCxuLmdsb2JlTWF0cml4KSxyPVswLC1lLkdMT0JFX1JBRElVUywwLDFdLG89WzAsZS5HTE9CRV9SQURJVVMsMCwxXSxhPVswLDAsMCwxXTtlLnRyYW5zZm9ybU1hdDQkMShyLHIsaSksZS50cmFuc2Zvcm1NYXQ0JDEobyxvLGkpLGUudHJhbnNmb3JtTWF0NCQxKGEsYSxpKTtjb25zdCBzPW5ldyBlLnBvaW50R2VvbWV0cnkoclswXS9yWzNdLHJbMV0vclszXSksbD1uZXcgZS5wb2ludEdlb21ldHJ5KG9bMF0vb1szXSxvWzFdL29bM10pLGM9ZS5wb2x5Z29uQ29udGFpbnNQb2ludCh0LHMpJiZyWzNdPGFbM10sdT1lLnBvbHlnb25Db250YWluc1BvaW50KHQsbCkmJm9bM108YVszXTtpZighYyYmIXUpcmV0dXJuIG51bGw7Y29uc3QgaD1mdW5jdGlvbihlLHQsbil7Zm9yKGxldCBpPTE7aTxlLmxlbmd0aDtpKyspe2NvbnN0IHI9Uih0LnBvaW50Q29vcmRpbmF0ZTNEKGVbaS0xXSkueCksbz1SKHQucG9pbnRDb29yZGluYXRlM0QoZVtpXSkueCk7aWYobjwwKXtpZihyPG8pcmV0dXJue2lkeDppLHQ6LXIvKG8tMS1yKX19ZWxzZSBpZihvPHIpcmV0dXJue2lkeDppLHQ6KDEtcikvKG8rMS1yKX19cmV0dXJuIG51bGx9KHQsbixjPy0xOjEpO2lmKCFoKXJldHVybiBudWxsO2NvbnN0e2lkeDpkLHQ6cH09aDtsZXQgZj1kPjE/Tyh0LnNsaWNlKDAsZCksbik6W10sbT1kPHQubGVuZ3RoP08odC5zbGljZShkKSxuKTpbXTtmPWYubWFwKHQ9Pm5ldyBlLnBvaW50R2VvbWV0cnkoUih0LngpLHQueSkpLG09bS5tYXAodD0+bmV3IGUucG9pbnRHZW9tZXRyeShSKHQueCksdC55KSk7Y29uc3QgZz1bLi4uZl07MD09PWcubGVuZ3RoJiZnLnB1c2gobVttLmxlbmd0aC0xXSk7Y29uc3QgeT1lLm51bWJlcihnW2cubGVuZ3RoLTFdLnksKDA9PT1tLmxlbmd0aD9mWzBdOm1bMF0pLnkscCk7bGV0IF87cmV0dXJuIF89Yz9bbmV3IGUucG9pbnRHZW9tZXRyeSgwLHkpLG5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSxuZXcgZS5wb2ludEdlb21ldHJ5KDEsMCksbmV3IGUucG9pbnRHZW9tZXRyeSgxLHkpXTpbbmV3IGUucG9pbnRHZW9tZXRyeSgxLHkpLG5ldyBlLnBvaW50R2VvbWV0cnkoMSwxKSxuZXcgZS5wb2ludEdlb21ldHJ5KDAsMSksbmV3IGUucG9pbnRHZW9tZXRyeSgwLHkpXSxnLnB1c2goLi4uXyksMD09PW0ubGVuZ3RoP2cucHVzaChmWzBdKTpnLnB1c2goLi4ubSkse3BvbHlnb246Zy5tYXAodD0+bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHQueCx0LnkpKSx1bndyYXBwZWQ6ITF9fSh0LG4pO2lmKGkpcmV0dXJuIGk7Y29uc3Qgcj1mdW5jdGlvbih0LG4pe2xldCBpPSExLHI9LTEvMCxvPTA7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aC0xO2UrKyl0W2VdLng+ciYmKHI9dFtlXS54LG89ZSk7Zm9yKGxldCBlPTA7ZTx0Lmxlbmd0aC0xO2UrKyl7Y29uc3Qgbj0obytlKSUodC5sZW5ndGgtMSkscj10W25dLGE9dFtuKzFdO01hdGguYWJzKHIueC1hLngpPi41JiYoci54PGEueD8oci54Kz0xLDA9PT1uJiYodFt0Lmxlbmd0aC0xXS54Kz0xKSk6KGEueCs9MSxuKzE9PT10Lmxlbmd0aC0xJiYodFswXS54Kz0xKSksaT0hMCl9Y29uc3QgYT1lLm1lcmNhdG9yWGZyb21Mbmcobi5jZW50ZXIubG5nKTtyZXR1cm4gaSYmYTxNYXRoLmFicyhhLTEpJiZ0LmZvckVhY2goZT0+e2UueC09MX0pLHtwb2x5Z29uOnQsdW53cmFwcGVkOml9fShPKHQsbikubWFwKHQ9Pm5ldyBlLnBvaW50R2VvbWV0cnkoUih0LngpLHQueSkpLG4pO3JldHVybntwb2x5Z29uOnIucG9seWdvbi5tYXAodD0+bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHQueCx0LnkpKSx1bndyYXBwZWQ6ci51bndyYXBwZWR9fX1mdW5jdGlvbiBPKHQsbil7cmV0dXJuIGUucmVzYW1wbGUodCxlPT57Y29uc3QgdD1uLnBvaW50Q29vcmRpbmF0ZTNEKGUpO2UueD10LngsZS55PXQueX0sMS8yNTYpfWZ1bmN0aW9uIFIoZSl7cmV0dXJuIGU8MD8xK2UlMTplJTF9ZnVuY3Rpb24gQihlKXtyZXR1cm4gMTAwKmV8MH1mdW5jdGlvbiBqKHQsbixpLHIsbyl7Y29uc3QgYT1mdW5jdGlvbihpLHIpe2lmKGkpcmV0dXJuIG8oaSk7aWYocil7dC51cmwmJnIudGlsZXMmJnQudGlsZXMmJmRlbGV0ZSB0LnRpbGVzO2NvbnN0IGk9ZS5waWNrKGUuZXh0ZW5kKHIsdCksW1widGlsZXNcIixcIm1pbnpvb21cIixcIm1heHpvb21cIixcImF0dHJpYnV0aW9uXCIsXCJtYXBib3hfbG9nb1wiLFwiYm91bmRzXCIsXCJzY2hlbWVcIixcInRpbGVTaXplXCIsXCJlbmNvZGluZ1wiXSk7ci52ZWN0b3JfbGF5ZXJzJiYoaS52ZWN0b3JMYXllcnM9ci52ZWN0b3JfbGF5ZXJzLGkudmVjdG9yTGF5ZXJJZHM9aS52ZWN0b3JMYXllcnMubWFwKGU9PmUuaWQpKSxpLnRpbGVzPW4uY2Fub25pY2FsaXplVGlsZXNldChpLHQudXJsKSxvKG51bGwsaSl9fTtyZXR1cm4gdC51cmw/ZS5nZXRKU09OKG4udHJhbnNmb3JtUmVxdWVzdChuLm5vcm1hbGl6ZVNvdXJjZVVSTCh0LnVybCxudWxsLGksciksZS5SZXNvdXJjZVR5cGUuU291cmNlKSxhKTplLmV4cG9ydGVkLmZyYW1lKCgpPT5hKG51bGwsdCkpfWNsYXNzIEZ7Y29uc3RydWN0b3IodCxuLGkpe3RoaXMuYm91bmRzPWUuTG5nTGF0Qm91bmRzLmNvbnZlcnQodGhpcy52YWxpZGF0ZUJvdW5kcyh0KSksdGhpcy5taW56b29tPW58fDAsdGhpcy5tYXh6b29tPWl8fDI0fXZhbGlkYXRlQm91bmRzKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiY0PT09ZS5sZW5ndGg/W01hdGgubWF4KC0xODAsZVswXSksTWF0aC5tYXgoLTkwLGVbMV0pLE1hdGgubWluKDE4MCxlWzJdKSxNYXRoLm1pbig5MCxlWzNdKV06Wy0xODAsLTkwLDE4MCw5MF19Y29udGFpbnModCl7Y29uc3Qgbj1NYXRoLnBvdygyLHQueiksaT1NYXRoLmZsb29yKGUubWVyY2F0b3JYZnJvbUxuZyh0aGlzLmJvdW5kcy5nZXRXZXN0KCkpKm4pLHI9TWF0aC5mbG9vcihlLm1lcmNhdG9yWWZyb21MYXQodGhpcy5ib3VuZHMuZ2V0Tm9ydGgoKSkqbiksbz1NYXRoLmNlaWwoZS5tZXJjYXRvclhmcm9tTG5nKHRoaXMuYm91bmRzLmdldEVhc3QoKSkqbiksYT1NYXRoLmNlaWwoZS5tZXJjYXRvcllmcm9tTGF0KHRoaXMuYm91bmRzLmdldFNvdXRoKCkpKm4pO3JldHVybiB0Lng+PWkmJnQueDxvJiZ0Lnk+PXImJnQueTxhfX1jbGFzcyBOe2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLmNvbnRleHQ9ZTtjb25zdCBpPWUuZ2w7dGhpcy5idWZmZXI9aS5jcmVhdGVCdWZmZXIoKSx0aGlzLmR5bmFtaWNEcmF3PUJvb2xlYW4obiksdGhpcy5jb250ZXh0LnVuYmluZFZBTygpLGUuYmluZEVsZW1lbnRCdWZmZXIuc2V0KHRoaXMuYnVmZmVyKSxpLmJ1ZmZlckRhdGEoaS5FTEVNRU5UX0FSUkFZX0JVRkZFUix0LmFycmF5QnVmZmVyLHRoaXMuZHluYW1pY0RyYXc/aS5EWU5BTUlDX0RSQVc6aS5TVEFUSUNfRFJBVyksdGhpcy5keW5hbWljRHJhd3x8dC5kZXN0cm95KCl9YmluZCgpe3RoaXMuY29udGV4dC5iaW5kRWxlbWVudEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpfXVwZGF0ZURhdGEoZSl7Y29uc3QgdD10aGlzLmNvbnRleHQuZ2w7dGhpcy5jb250ZXh0LnVuYmluZFZBTygpLHRoaXMuYmluZCgpLHQuYnVmZmVyU3ViRGF0YSh0LkVMRU1FTlRfQVJSQVlfQlVGRkVSLDAsZS5hcnJheUJ1ZmZlcil9ZGVzdHJveSgpe3RoaXMuYnVmZmVyJiYodGhpcy5jb250ZXh0LmdsLmRlbGV0ZUJ1ZmZlcih0aGlzLmJ1ZmZlciksZGVsZXRlIHRoaXMuYnVmZmVyKX19Y29uc3QgVT17SW50ODpcIkJZVEVcIixVaW50ODpcIlVOU0lHTkVEX0JZVEVcIixJbnQxNjpcIlNIT1JUXCIsVWludDE2OlwiVU5TSUdORURfU0hPUlRcIixJbnQzMjpcIklOVFwiLFVpbnQzMjpcIlVOU0lHTkVEX0lOVFwiLEZsb2F0MzI6XCJGTE9BVFwifTtjbGFzcyBWe2NvbnN0cnVjdG9yKGUsdCxuLGkpe3RoaXMubGVuZ3RoPXQubGVuZ3RoLHRoaXMuYXR0cmlidXRlcz1uLHRoaXMuaXRlbVNpemU9dC5ieXRlc1BlckVsZW1lbnQsdGhpcy5keW5hbWljRHJhdz1pLHRoaXMuY29udGV4dD1lO2NvbnN0IHI9ZS5nbDt0aGlzLmJ1ZmZlcj1yLmNyZWF0ZUJ1ZmZlcigpLGUuYmluZFZlcnRleEJ1ZmZlci5zZXQodGhpcy5idWZmZXIpLHIuYnVmZmVyRGF0YShyLkFSUkFZX0JVRkZFUix0LmFycmF5QnVmZmVyLHRoaXMuZHluYW1pY0RyYXc/ci5EWU5BTUlDX0RSQVc6ci5TVEFUSUNfRFJBVyksdGhpcy5keW5hbWljRHJhd3x8dC5kZXN0cm95KCl9YmluZCgpe3RoaXMuY29udGV4dC5iaW5kVmVydGV4QnVmZmVyLnNldCh0aGlzLmJ1ZmZlcil9dXBkYXRlRGF0YShlKXtjb25zdCB0PXRoaXMuY29udGV4dC5nbDt0aGlzLmJpbmQoKSx0LmJ1ZmZlclN1YkRhdGEodC5BUlJBWV9CVUZGRVIsMCxlLmFycmF5QnVmZmVyKX1lbmFibGVBdHRyaWJ1dGVzKGUsdCl7Zm9yKGxldCBuPTA7bjx0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoO24rKyl7Y29uc3QgaT10LmF0dHJpYnV0ZXNbdGhpcy5hdHRyaWJ1dGVzW25dLm5hbWVdO3ZvaWQgMCE9PWkmJmUuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaSl9fXNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGUsdCxuKXtmb3IobGV0IGk9MDtpPHRoaXMuYXR0cmlidXRlcy5sZW5ndGg7aSsrKXtjb25zdCByPXRoaXMuYXR0cmlidXRlc1tpXSxvPXQuYXR0cmlidXRlc1tyLm5hbWVdO3ZvaWQgMCE9PW8mJmUudmVydGV4QXR0cmliUG9pbnRlcihvLHIuY29tcG9uZW50cyxlW1Vbci50eXBlXV0sITEsdGhpcy5pdGVtU2l6ZSxyLm9mZnNldCt0aGlzLml0ZW1TaXplKihufHwwKSl9fWRlc3Ryb3koKXt0aGlzLmJ1ZmZlciYmKHRoaXMuY29udGV4dC5nbC5kZWxldGVCdWZmZXIodGhpcy5idWZmZXIpLGRlbGV0ZSB0aGlzLmJ1ZmZlcil9fWNsYXNzIEd7Y29uc3RydWN0b3IoZSl7dGhpcy5nbD1lLmdsLHRoaXMuZGVmYXVsdD10aGlzLmdldERlZmF1bHQoKSx0aGlzLmN1cnJlbnQ9dGhpcy5kZWZhdWx0LHRoaXMuZGlydHk9ITF9Z2V0KCl7cmV0dXJuIHRoaXMuY3VycmVudH1zZXQoZSl7fWdldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5kZWZhdWx0fXNldERlZmF1bHQoKXt0aGlzLnNldCh0aGlzLmRlZmF1bHQpfX1jbGFzcyBaIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIGUuQ29sb3IudHJhbnNwYXJlbnR9c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlLnIhPT10LnJ8fGUuZyE9PXQuZ3x8ZS5iIT09dC5ifHxlLmEhPT10LmF8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jbGVhckNvbG9yKGUucixlLmcsZS5iLGUuYSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIFcgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gMX1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5jbGVhckRlcHRoKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBxIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIDB9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY2xlYXJTdGVuY2lsKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyAkIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuWyEwLCEwLCEwLCEwXX1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGVbMF0hPT10WzBdfHxlWzFdIT09dFsxXXx8ZVsyXSE9PXRbMl18fGVbM10hPT10WzNdfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuY29sb3JNYXNrKGVbMF0sZVsxXSxlWzJdLGVbM10pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBIIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuITB9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuZGVwdGhNYXNrKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBYIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIDI1NX1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5zdGVuY2lsTWFzayhlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgWSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybntmdW5jOnRoaXMuZ2wuQUxXQVlTLHJlZjowLG1hc2s6MjU1fX1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGUuZnVuYyE9PXQuZnVuY3x8ZS5yZWYhPT10LnJlZnx8ZS5tYXNrIT09dC5tYXNrfHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wuc3RlbmNpbEZ1bmMoZS5mdW5jLGUucmVmLGUubWFzayksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIEogZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtjb25zdCBlPXRoaXMuZ2w7cmV0dXJuW2UuS0VFUCxlLktFRVAsZS5LRUVQXX1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGVbMF0hPT10WzBdfHxlWzFdIT09dFsxXXx8ZVsyXSE9PXRbMl18fHRoaXMuZGlydHkpJiYodGhpcy5nbC5zdGVuY2lsT3AoZVswXSxlWzFdLGVbMl0pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBRIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7ZT90LmVuYWJsZSh0LlNURU5DSUxfVEVTVCk6dC5kaXNhYmxlKHQuU1RFTkNJTF9URVNUKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyBLIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuWzAsMV19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fHRoaXMuZGlydHkpJiYodGhpcy5nbC5kZXB0aFJhbmdlKGVbMF0sZVsxXSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIGVlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7ZT90LmVuYWJsZSh0LkRFUFRIX1RFU1QpOnQuZGlzYWJsZSh0LkRFUFRIX1RFU1QpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIHRlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIHRoaXMuZ2wuTEVTU31zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5kZXB0aEZ1bmMoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIG5lIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7ZT90LmVuYWJsZSh0LkJMRU5EKTp0LmRpc2FibGUodC5CTEVORCksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgaWUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtjb25zdCBlPXRoaXMuZ2w7cmV0dXJuW2UuT05FLGUuWkVST119c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZEZ1bmMoZVswXSxlWzFdKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgcmUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gZS5Db2xvci50cmFuc3BhcmVudH1zZXQoZSl7Y29uc3QgdD10aGlzLmN1cnJlbnQ7KGUuciE9PXQucnx8ZS5nIT09dC5nfHxlLmIhPT10LmJ8fGUuYSE9PXQuYXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmJsZW5kQ29sb3IoZS5yLGUuZyxlLmIsZS5hKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3Mgb2UgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5nbC5GVU5DX0FERH1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5ibGVuZEVxdWF0aW9uKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBhZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO2U/dC5lbmFibGUodC5DVUxMX0ZBQ0UpOnQuZGlzYWJsZSh0LkNVTExfRkFDRSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3Mgc2UgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5nbC5CQUNLfXNldChlKXsoZSE9PXRoaXMuY3VycmVudHx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLmN1bGxGYWNlKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBsZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiB0aGlzLmdsLkNDV31zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5mcm9udEZhY2UoZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMSl9fWNsYXNzIGNlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuIG51bGx9c2V0KGUpeyhlIT09dGhpcy5jdXJyZW50fHx0aGlzLmRpcnR5KSYmKHRoaXMuZ2wudXNlUHJvZ3JhbShlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExKX19Y2xhc3MgdWUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gdGhpcy5nbC5URVhUVVJFMH1zZXQoZSl7KGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy5nbC5hY3RpdmVUZXh0dXJlKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBoZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe2NvbnN0IGU9dGhpcy5nbDtyZXR1cm5bMCwwLGUuZHJhd2luZ0J1ZmZlcldpZHRoLGUuZHJhd2luZ0J1ZmZlckhlaWdodF19c2V0KGUpe2NvbnN0IHQ9dGhpcy5jdXJyZW50OyhlWzBdIT09dFswXXx8ZVsxXSE9PXRbMV18fGVbMl0hPT10WzJdfHxlWzNdIT09dFszXXx8dGhpcy5kaXJ0eSkmJih0aGlzLmdsLnZpZXdwb3J0KGVbMF0sZVsxXSxlWzJdLGVbM10pLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBkZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgcGUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRSZW5kZXJidWZmZXIodC5SRU5ERVJCVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgZmUgZXh0ZW5kcyBHe2dldERlZmF1bHQoKXtyZXR1cm4gbnVsbH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5nbDt0LmJpbmRUZXh0dXJlKHQuVEVYVFVSRV8yRCxlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyBtZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QuYmluZEJ1ZmZlcih0LkFSUkFZX0JVRkZFUixlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyBnZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXtjb25zdCB0PXRoaXMuZ2w7dC5iaW5kQnVmZmVyKHQuRUxFTUVOVF9BUlJBWV9CVUZGRVIsZSksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgeWUgZXh0ZW5kcyBHe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLHRoaXMudmFvPWUuZXh0VmVydGV4QXJyYXlPYmplY3R9Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfXNldChlKXt0aGlzLnZhbyYmKGUhPT10aGlzLmN1cnJlbnR8fHRoaXMuZGlydHkpJiYodGhpcy52YW8uYmluZFZlcnRleEFycmF5T0VTKGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITEpfX1jbGFzcyBfZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiA0fXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QucGl4ZWxTdG9yZWkodC5VTlBBQ0tfQUxJR05NRU5ULGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIHZlIGV4dGVuZHMgR3tnZXREZWZhdWx0KCl7cmV0dXJuITF9c2V0KGUpe2lmKGU9PT10aGlzLmN1cnJlbnQmJiF0aGlzLmRpcnR5KXJldHVybjtjb25zdCB0PXRoaXMuZ2w7dC5waXhlbFN0b3JlaSh0LlVOUEFDS19QUkVNVUxUSVBMWV9BTFBIQV9XRUJHTCxlKSx0aGlzLmN1cnJlbnQ9ZSx0aGlzLmRpcnR5PSExfX1jbGFzcyB4ZSBleHRlbmRzIEd7Z2V0RGVmYXVsdCgpe3JldHVybiExfXNldChlKXtpZihlPT09dGhpcy5jdXJyZW50JiYhdGhpcy5kaXJ0eSlyZXR1cm47Y29uc3QgdD10aGlzLmdsO3QucGl4ZWxTdG9yZWkodC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIGJlIGV4dGVuZHMgR3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUpLHRoaXMuY29udGV4dD1lLHRoaXMucGFyZW50PXR9Z2V0RGVmYXVsdCgpe3JldHVybiBudWxsfX1jbGFzcyB3ZSBleHRlbmRzIGJle3NldERpcnR5KCl7dGhpcy5kaXJ0eT0hMH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO3RoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTtjb25zdCB0PXRoaXMuZ2w7dC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELGUsMCksdGhpcy5jdXJyZW50PWUsdGhpcy5kaXJ0eT0hMX19Y2xhc3MgVGUgZXh0ZW5kcyBiZXthdHRhY2htZW50KCl7cmV0dXJuIHRoaXMuZ2wuREVQVEhfQVRUQUNITUVOVH1zZXQoZSl7aWYoZT09PXRoaXMuY3VycmVudCYmIXRoaXMuZGlydHkpcmV0dXJuO3RoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KHRoaXMucGFyZW50KTtjb25zdCB0PXRoaXMuZ2w7dC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih0LkZSQU1FQlVGRkVSLHRoaXMuYXR0YWNobWVudCgpLHQuUkVOREVSQlVGRkVSLGUpLHRoaXMuY3VycmVudD1lLHRoaXMuZGlydHk9ITF9fWNsYXNzIEVlIGV4dGVuZHMgVGV7YXR0YWNobWVudCgpe3JldHVybiB0aGlzLmdsLkRFUFRIX1NURU5DSUxfQVRUQUNITUVOVH19Y2xhc3MgU2V7Y29uc3RydWN0b3IoZSx0LG4saSl7dGhpcy5jb250ZXh0PWUsdGhpcy53aWR0aD10LHRoaXMuaGVpZ2h0PW47Y29uc3Qgcj10aGlzLmZyYW1lYnVmZmVyPWUuZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTt0aGlzLmNvbG9yQXR0YWNobWVudD1uZXcgd2UoZSxyKSxpJiYodGhpcy5kZXB0aEF0dGFjaG1lbnQ9bmV3IFRlKGUscikpfWRlc3Ryb3koKXtjb25zdCBlPXRoaXMuY29udGV4dC5nbCx0PXRoaXMuY29sb3JBdHRhY2htZW50LmdldCgpO2lmKHQmJmUuZGVsZXRlVGV4dHVyZSh0KSx0aGlzLmRlcHRoQXR0YWNobWVudCl7Y29uc3QgdD10aGlzLmRlcHRoQXR0YWNobWVudC5nZXQoKTt0JiZlLmRlbGV0ZVJlbmRlcmJ1ZmZlcih0KX1lLmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuZnJhbWVidWZmZXIpfX1jbGFzcyBNZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmdsPWUsdGhpcy5leHRWZXJ0ZXhBcnJheU9iamVjdD10aGlzLmdsLmdldEV4dGVuc2lvbihcIk9FU192ZXJ0ZXhfYXJyYXlfb2JqZWN0XCIpLHRoaXMuY2xlYXJDb2xvcj1uZXcgWih0aGlzKSx0aGlzLmNsZWFyRGVwdGg9bmV3IFcodGhpcyksdGhpcy5jbGVhclN0ZW5jaWw9bmV3IHEodGhpcyksdGhpcy5jb2xvck1hc2s9bmV3ICQodGhpcyksdGhpcy5kZXB0aE1hc2s9bmV3IEgodGhpcyksdGhpcy5zdGVuY2lsTWFzaz1uZXcgWCh0aGlzKSx0aGlzLnN0ZW5jaWxGdW5jPW5ldyBZKHRoaXMpLHRoaXMuc3RlbmNpbE9wPW5ldyBKKHRoaXMpLHRoaXMuc3RlbmNpbFRlc3Q9bmV3IFEodGhpcyksdGhpcy5kZXB0aFJhbmdlPW5ldyBLKHRoaXMpLHRoaXMuZGVwdGhUZXN0PW5ldyBlZSh0aGlzKSx0aGlzLmRlcHRoRnVuYz1uZXcgdGUodGhpcyksdGhpcy5ibGVuZD1uZXcgbmUodGhpcyksdGhpcy5ibGVuZEZ1bmM9bmV3IGllKHRoaXMpLHRoaXMuYmxlbmRDb2xvcj1uZXcgcmUodGhpcyksdGhpcy5ibGVuZEVxdWF0aW9uPW5ldyBvZSh0aGlzKSx0aGlzLmN1bGxGYWNlPW5ldyBhZSh0aGlzKSx0aGlzLmN1bGxGYWNlU2lkZT1uZXcgc2UodGhpcyksdGhpcy5mcm9udEZhY2U9bmV3IGxlKHRoaXMpLHRoaXMucHJvZ3JhbT1uZXcgY2UodGhpcyksdGhpcy5hY3RpdmVUZXh0dXJlPW5ldyB1ZSh0aGlzKSx0aGlzLnZpZXdwb3J0PW5ldyBoZSh0aGlzKSx0aGlzLmJpbmRGcmFtZWJ1ZmZlcj1uZXcgZGUodGhpcyksdGhpcy5iaW5kUmVuZGVyYnVmZmVyPW5ldyBwZSh0aGlzKSx0aGlzLmJpbmRUZXh0dXJlPW5ldyBmZSh0aGlzKSx0aGlzLmJpbmRWZXJ0ZXhCdWZmZXI9bmV3IG1lKHRoaXMpLHRoaXMuYmluZEVsZW1lbnRCdWZmZXI9bmV3IGdlKHRoaXMpLHRoaXMuYmluZFZlcnRleEFycmF5T0VTPXRoaXMuZXh0VmVydGV4QXJyYXlPYmplY3QmJm5ldyB5ZSh0aGlzKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2s9bmV3IF9lKHRoaXMpLHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGE9bmV3IHZlKHRoaXMpLHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZPW5ldyB4ZSh0aGlzKSx0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYz1lLmdldEV4dGVuc2lvbihcIkVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpY1wiKXx8ZS5nZXRFeHRlbnNpb24oXCJNT1pfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljXCIpfHxlLmdldEV4dGVuc2lvbihcIldFQktJVF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWNcIiksdGhpcy5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMmJih0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY01heD1lLmdldFBhcmFtZXRlcih0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpYy5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpKSx0aGlzLmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY0ZvcmNlT2ZmPSExLHRoaXMuZXh0U3RhbmRhcmREZXJpdmF0aXZlc0ZvcmNlT2ZmPSExLHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm89ZS5nZXRFeHRlbnNpb24oXCJXRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvXCIpLHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm8mJih0aGlzLnJlbmRlcmVyPWUuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm8uVU5NQVNLRURfUkVOREVSRVJfV0VCR0wpLHRoaXMudmVuZG9yPWUuZ2V0UGFyYW1ldGVyKHRoaXMuZXh0RGVidWdSZW5kZXJlckluZm8uVU5NQVNLRURfVkVORE9SX1dFQkdMKSksdGhpcy5leHRUZXh0dXJlSGFsZkZsb2F0PWUuZ2V0RXh0ZW5zaW9uKFwiT0VTX3RleHR1cmVfaGFsZl9mbG9hdFwiKSx0aGlzLmV4dFRleHR1cmVIYWxmRmxvYXQmJihlLmdldEV4dGVuc2lvbihcIk9FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyXCIpLHRoaXMuZXh0UmVuZGVyVG9UZXh0dXJlSGFsZkZsb2F0PWUuZ2V0RXh0ZW5zaW9uKFwiRVhUX2NvbG9yX2J1ZmZlcl9oYWxmX2Zsb2F0XCIpKSx0aGlzLmV4dFN0YW5kYXJkRGVyaXZhdGl2ZXM9ZS5nZXRFeHRlbnNpb24oXCJPRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXNcIiksdGhpcy5leHRUaW1lclF1ZXJ5PWUuZ2V0RXh0ZW5zaW9uKFwiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5XCIpLHRoaXMubWF4VGV4dHVyZVNpemU9ZS5nZXRQYXJhbWV0ZXIoZS5NQVhfVEVYVFVSRV9TSVpFKX1zZXREZWZhdWx0KCl7dGhpcy51bmJpbmRWQU8oKSx0aGlzLmNsZWFyQ29sb3Iuc2V0RGVmYXVsdCgpLHRoaXMuY2xlYXJEZXB0aC5zZXREZWZhdWx0KCksdGhpcy5jbGVhclN0ZW5jaWwuc2V0RGVmYXVsdCgpLHRoaXMuY29sb3JNYXNrLnNldERlZmF1bHQoKSx0aGlzLmRlcHRoTWFzay5zZXREZWZhdWx0KCksdGhpcy5zdGVuY2lsTWFzay5zZXREZWZhdWx0KCksdGhpcy5zdGVuY2lsRnVuYy5zZXREZWZhdWx0KCksdGhpcy5zdGVuY2lsT3Auc2V0RGVmYXVsdCgpLHRoaXMuc3RlbmNpbFRlc3Quc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhSYW5nZS5zZXREZWZhdWx0KCksdGhpcy5kZXB0aFRlc3Quc2V0RGVmYXVsdCgpLHRoaXMuZGVwdGhGdW5jLnNldERlZmF1bHQoKSx0aGlzLmJsZW5kLnNldERlZmF1bHQoKSx0aGlzLmJsZW5kRnVuYy5zZXREZWZhdWx0KCksdGhpcy5ibGVuZENvbG9yLnNldERlZmF1bHQoKSx0aGlzLmJsZW5kRXF1YXRpb24uc2V0RGVmYXVsdCgpLHRoaXMuY3VsbEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMuY3VsbEZhY2VTaWRlLnNldERlZmF1bHQoKSx0aGlzLmZyb250RmFjZS5zZXREZWZhdWx0KCksdGhpcy5wcm9ncmFtLnNldERlZmF1bHQoKSx0aGlzLmFjdGl2ZVRleHR1cmUuc2V0RGVmYXVsdCgpLHRoaXMuYmluZEZyYW1lYnVmZmVyLnNldERlZmF1bHQoKSx0aGlzLnBpeGVsU3RvcmVVbnBhY2suc2V0RGVmYXVsdCgpLHRoaXMucGl4ZWxTdG9yZVVucGFja1ByZW11bHRpcGx5QWxwaGEuc2V0RGVmYXVsdCgpLHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZLnNldERlZmF1bHQoKX1zZXREaXJ0eSgpe3RoaXMuY2xlYXJDb2xvci5kaXJ0eT0hMCx0aGlzLmNsZWFyRGVwdGguZGlydHk9ITAsdGhpcy5jbGVhclN0ZW5jaWwuZGlydHk9ITAsdGhpcy5jb2xvck1hc2suZGlydHk9ITAsdGhpcy5kZXB0aE1hc2suZGlydHk9ITAsdGhpcy5zdGVuY2lsTWFzay5kaXJ0eT0hMCx0aGlzLnN0ZW5jaWxGdW5jLmRpcnR5PSEwLHRoaXMuc3RlbmNpbE9wLmRpcnR5PSEwLHRoaXMuc3RlbmNpbFRlc3QuZGlydHk9ITAsdGhpcy5kZXB0aFJhbmdlLmRpcnR5PSEwLHRoaXMuZGVwdGhUZXN0LmRpcnR5PSEwLHRoaXMuZGVwdGhGdW5jLmRpcnR5PSEwLHRoaXMuYmxlbmQuZGlydHk9ITAsdGhpcy5ibGVuZEZ1bmMuZGlydHk9ITAsdGhpcy5ibGVuZENvbG9yLmRpcnR5PSEwLHRoaXMuYmxlbmRFcXVhdGlvbi5kaXJ0eT0hMCx0aGlzLmN1bGxGYWNlLmRpcnR5PSEwLHRoaXMuY3VsbEZhY2VTaWRlLmRpcnR5PSEwLHRoaXMuZnJvbnRGYWNlLmRpcnR5PSEwLHRoaXMucHJvZ3JhbS5kaXJ0eT0hMCx0aGlzLmFjdGl2ZVRleHR1cmUuZGlydHk9ITAsdGhpcy52aWV3cG9ydC5kaXJ0eT0hMCx0aGlzLmJpbmRGcmFtZWJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmJpbmRSZW5kZXJidWZmZXIuZGlydHk9ITAsdGhpcy5iaW5kVGV4dHVyZS5kaXJ0eT0hMCx0aGlzLmJpbmRWZXJ0ZXhCdWZmZXIuZGlydHk9ITAsdGhpcy5iaW5kRWxlbWVudEJ1ZmZlci5kaXJ0eT0hMCx0aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0JiYodGhpcy5iaW5kVmVydGV4QXJyYXlPRVMuZGlydHk9ITApLHRoaXMucGl4ZWxTdG9yZVVucGFjay5kaXJ0eT0hMCx0aGlzLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLmRpcnR5PSEwLHRoaXMucGl4ZWxTdG9yZVVucGFja0ZsaXBZLmRpcnR5PSEwfWNyZWF0ZUluZGV4QnVmZmVyKGUsdCl7cmV0dXJuIG5ldyBOKHRoaXMsZSx0KX1jcmVhdGVWZXJ0ZXhCdWZmZXIoZSx0LG4pe3JldHVybiBuZXcgVih0aGlzLGUsdCxuKX1jcmVhdGVSZW5kZXJidWZmZXIoZSx0LG4pe2NvbnN0IGk9dGhpcy5nbCxyPWkuY3JlYXRlUmVuZGVyYnVmZmVyKCk7cmV0dXJuIHRoaXMuYmluZFJlbmRlcmJ1ZmZlci5zZXQociksaS5yZW5kZXJidWZmZXJTdG9yYWdlKGkuUkVOREVSQlVGRkVSLGUsdCxuKSx0aGlzLmJpbmRSZW5kZXJidWZmZXIuc2V0KG51bGwpLHJ9Y3JlYXRlRnJhbWVidWZmZXIoZSx0LG4pe3JldHVybiBuZXcgU2UodGhpcyxlLHQsbil9Y2xlYXIoe2NvbG9yOmUsZGVwdGg6dCxzdGVuY2lsOm59KXtjb25zdCBpPXRoaXMuZ2w7bGV0IHI9MDtlJiYocnw9aS5DT0xPUl9CVUZGRVJfQklULHRoaXMuY2xlYXJDb2xvci5zZXQoZSksdGhpcy5jb2xvck1hc2suc2V0KFshMCwhMCwhMCwhMF0pKSx2b2lkIDAhPT10JiYocnw9aS5ERVBUSF9CVUZGRVJfQklULHRoaXMuZGVwdGhSYW5nZS5zZXQoWzAsMV0pLHRoaXMuY2xlYXJEZXB0aC5zZXQodCksdGhpcy5kZXB0aE1hc2suc2V0KCEwKSksdm9pZCAwIT09biYmKHJ8PWkuU1RFTkNJTF9CVUZGRVJfQklULHRoaXMuY2xlYXJTdGVuY2lsLnNldChuKSx0aGlzLnN0ZW5jaWxNYXNrLnNldCgyNTUpKSxpLmNsZWFyKHIpfXNldEN1bGxGYWNlKGUpeyExPT09ZS5lbmFibGU/dGhpcy5jdWxsRmFjZS5zZXQoITEpOih0aGlzLmN1bGxGYWNlLnNldCghMCksdGhpcy5jdWxsRmFjZVNpZGUuc2V0KGUubW9kZSksdGhpcy5mcm9udEZhY2Uuc2V0KGUuZnJvbnRGYWNlKSl9c2V0RGVwdGhNb2RlKGUpe2UuZnVuYyE9PXRoaXMuZ2wuQUxXQVlTfHxlLm1hc2s/KHRoaXMuZGVwdGhUZXN0LnNldCghMCksdGhpcy5kZXB0aEZ1bmMuc2V0KGUuZnVuYyksdGhpcy5kZXB0aE1hc2suc2V0KGUubWFzayksdGhpcy5kZXB0aFJhbmdlLnNldChlLnJhbmdlKSk6dGhpcy5kZXB0aFRlc3Quc2V0KCExKX1zZXRTdGVuY2lsTW9kZShlKXtlLnRlc3QuZnVuYyE9PXRoaXMuZ2wuQUxXQVlTfHxlLm1hc2s/KHRoaXMuc3RlbmNpbFRlc3Quc2V0KCEwKSx0aGlzLnN0ZW5jaWxNYXNrLnNldChlLm1hc2spLHRoaXMuc3RlbmNpbE9wLnNldChbZS5mYWlsLGUuZGVwdGhGYWlsLGUucGFzc10pLHRoaXMuc3RlbmNpbEZ1bmMuc2V0KHtmdW5jOmUudGVzdC5mdW5jLHJlZjplLnJlZixtYXNrOmUudGVzdC5tYXNrfSkpOnRoaXMuc3RlbmNpbFRlc3Quc2V0KCExKX1zZXRDb2xvck1vZGUobil7dChuLmJsZW5kRnVuY3Rpb24sZS5Db2xvck1vZGUuUmVwbGFjZSk/dGhpcy5ibGVuZC5zZXQoITEpOih0aGlzLmJsZW5kLnNldCghMCksdGhpcy5ibGVuZEZ1bmMuc2V0KG4uYmxlbmRGdW5jdGlvbiksdGhpcy5ibGVuZENvbG9yLnNldChuLmJsZW5kQ29sb3IpKSx0aGlzLmNvbG9yTWFzay5zZXQobi5tYXNrKX11bmJpbmRWQU8oKXt0aGlzLmV4dFZlcnRleEFycmF5T2JqZWN0JiZ0aGlzLmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQobnVsbCl9fWNsYXNzIEllIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQsbixpLHIpe3N1cGVyKCksdGhpcy5pZD10LHRoaXMuZGlzcGF0Y2hlcj1pLHRoaXMuc2V0RXZlbnRlZFBhcmVudChyKSx0aGlzLnR5cGU9XCJyYXN0ZXJcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy5yb3VuZFpvb209ITAsdGhpcy5zY2hlbWU9XCJ4eXpcIix0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9sb2FkZWQ9ITEsdGhpcy5fb3B0aW9ucz1lLmV4dGVuZCh7dHlwZTpcInJhc3RlclwifSxuKSxlLmV4dGVuZCh0aGlzLGUucGljayhuLFtcInVybFwiLFwic2NoZW1lXCIsXCJ0aWxlU2l6ZVwiXSkpfWxvYWQoKXt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9aih0aGlzLl9vcHRpb25zLHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlcixudWxsLG51bGwsKHQsbik9Pnt0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCx0aGlzLl9sb2FkZWQ9ITAsdD90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudCh0KSk6biYmKGUuZXh0ZW5kKHRoaXMsbiksbi5ib3VuZHMmJih0aGlzLnRpbGVCb3VuZHM9bmV3IEYobi5ib3VuZHMsdGhpcy5taW56b29tLHRoaXMubWF4em9vbSkpLGUucG9zdFR1cm5zdGlsZUV2ZW50KG4udGlsZXMpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCJ9KSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpKX0pfWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLmxvYWQoKX1vblJlbW92ZSgpe3RoaXMuX3RpbGVKU09OUmVxdWVzdCYmKHRoaXMuX3RpbGVKU09OUmVxdWVzdC5jYW5jZWwoKSx0aGlzLl90aWxlSlNPTlJlcXVlc3Q9bnVsbCl9c2VyaWFsaXplKCl7cmV0dXJuIGUuZXh0ZW5kKHt9LHRoaXMuX29wdGlvbnMpfWhhc1RpbGUoZSl7cmV0dXJuIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKGUuY2Fub25pY2FsKX1sb2FkVGlsZSh0LG4pe2NvbnN0IGk9ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvPj0yLHI9dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVRpbGVVUkwodC50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLHRoaXMuc2NoZW1lKSxpLHRoaXMudGlsZVNpemUpO3QucmVxdWVzdD1lLmdldEltYWdlKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHIsZS5SZXNvdXJjZVR5cGUuVGlsZSksKGkscixvLGEpPT4oZGVsZXRlIHQucmVxdWVzdCx0LmFib3J0ZWQ/KHQuc3RhdGU9XCJ1bmxvYWRlZFwiLG4obnVsbCkpOmk/KHQuc3RhdGU9XCJlcnJvcmVkXCIsbihpKSk6cj8odGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMmJnQuc2V0RXhwaXJ5RGF0YSh7Y2FjaGVDb250cm9sOm8sZXhwaXJlczphfSksdC5zZXRUZXh0dXJlKHIsdGhpcy5tYXAucGFpbnRlciksdC5zdGF0ZT1cImxvYWRlZFwiLGUuY2FjaGVFbnRyeVBvc3NpYmx5QWRkZWQodGhpcy5kaXNwYXRjaGVyKSx2b2lkIG4obnVsbCkpOm4obnVsbCkpKX1zdGF0aWMgbG9hZFRpbGVEYXRhKGUsdCxuKXtlLnNldFRleHR1cmUodCxuKX1zdGF0aWMgdW5sb2FkVGlsZURhdGEoZSx0KXtlLnRleHR1cmUmJnQuc2F2ZVRpbGVUZXh0dXJlKGUudGV4dHVyZSl9YWJvcnRUaWxlKGUsdCl7ZS5yZXF1ZXN0JiYoZS5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSBlLnJlcXVlc3QpLHQoKX11bmxvYWRUaWxlKGUsdCl7ZS50ZXh0dXJlJiZ0aGlzLm1hcC5wYWludGVyLnNhdmVUaWxlVGV4dHVyZShlLnRleHR1cmUpLHQoKX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuITF9fWxldCBDZTtmdW5jdGlvbiBrZSh0LG4saSxyLG8sYSxzLGwpe2NvbnN0IGM9W3QsaSxvLG4scixhLDEsMSwxXSx1PVtzLGwsMV0saD1lLmFkam9pbnQoW10sYyksW2QscCxmXT1lLnRyYW5zZm9ybU1hdDModSx1LGUudHJhbnNwb3NlKGgsaCkpO3JldHVybiBlLm11bHRpcGx5JDEoYyxbZCwwLDAsMCxwLDAsMCwwLGZdLGMpfWNsYXNzIEFlIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKGUsdCxuLGkpe3N1cGVyKCksdGhpcy5pZD1lLHRoaXMuZGlzcGF0Y2hlcj1uLHRoaXMuY29vcmRpbmF0ZXM9dC5jb29yZGluYXRlcyx0aGlzLnR5cGU9XCJpbWFnZVwiLHRoaXMubWluem9vbT0wLHRoaXMubWF4em9vbT0yMix0aGlzLnRpbGVTaXplPTUxMix0aGlzLnRpbGVzPXt9LHRoaXMuX2xvYWRlZD0hMSx0aGlzLnNldEV2ZW50ZWRQYXJlbnQoaSksdGhpcy5vcHRpb25zPXQsdGhpcy5fZGlydHk9ITF9bG9hZCh0LG4pe3RoaXMuX2xvYWRlZD1ufHwhMSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhbG9hZGluZ1wiLHtkYXRhVHlwZTpcInNvdXJjZVwifSkpLHRoaXMudXJsPXRoaXMub3B0aW9ucy51cmwsdGhpcy5faW1hZ2VSZXF1ZXN0PWUuZ2V0SW1hZ2UodGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QodGhpcy51cmwsZS5SZXNvdXJjZVR5cGUuSW1hZ2UpLChuLGkpPT57aWYodGhpcy5faW1hZ2VSZXF1ZXN0PW51bGwsdGhpcy5fbG9hZGVkPSEwLG4pdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobikpO2Vsc2UgaWYoaSl7Y29uc3R7SFRNTEltYWdlRWxlbWVudDpufT1lLndpbmRvdzt0aGlzLmltYWdlPWkgaW5zdGFuY2VvZiBuP2UuZXhwb3J0ZWQuZ2V0SW1hZ2VEYXRhKGkpOmksdGhpcy5fZGlydHk9ITAsdGhpcy53aWR0aD10aGlzLmltYWdlLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuaW1hZ2UuaGVpZ2h0LHQmJih0aGlzLmNvb3JkaW5hdGVzPXQpLHRoaXMuX2ZpbmlzaExvYWRpbmcoKX19KX1sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfXVwZGF0ZUltYWdlKGUpe3JldHVybiB0aGlzLmltYWdlJiZlLnVybD8odGhpcy5faW1hZ2VSZXF1ZXN0JiZlLnVybCE9PXRoaXMub3B0aW9ucy51cmwmJih0aGlzLl9pbWFnZVJlcXVlc3QuY2FuY2VsKCksdGhpcy5faW1hZ2VSZXF1ZXN0PW51bGwpLHRoaXMub3B0aW9ucy51cmw9ZS51cmwsdGhpcy5sb2FkKGUuY29vcmRpbmF0ZXMsdGhpcy5fbG9hZGVkKSx0aGlzKTp0aGlzfV9maW5pc2hMb2FkaW5nKCl7dGhpcy5tYXAmJih0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCJ9KSkpfW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5sb2FkKCl9b25SZW1vdmUoKXt0aGlzLl9pbWFnZVJlcXVlc3QmJih0aGlzLl9pbWFnZVJlcXVlc3QuY2FuY2VsKCksdGhpcy5faW1hZ2VSZXF1ZXN0PW51bGwpLHRoaXMudGV4dHVyZSYmdGhpcy50ZXh0dXJlLmRlc3Ryb3koKX1zZXRDb29yZGluYXRlcyh0KXt0aGlzLmNvb3JkaW5hdGVzPXQsdGhpcy5fYm91bmRzQXJyYXk9dm9pZCAwO2NvbnN0IG49dC5tYXAoZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCk7cmV0dXJuIHRoaXMudGlsZUlEPWZ1bmN0aW9uKHQpe2xldCBuPTEvMCxpPTEvMCxyPS0xLzAsbz0tMS8wO2Zvcihjb25zdCBlIG9mIHQpbj1NYXRoLm1pbihuLGUueCksaT1NYXRoLm1pbihpLGUueSkscj1NYXRoLm1heChyLGUueCksbz1NYXRoLm1heChvLGUueSk7Y29uc3QgYT1NYXRoLm1heChyLW4sby1pKSxzPU1hdGgubWF4KDAsTWF0aC5mbG9vcigtTWF0aC5sb2coYSkvTWF0aC5MTjIpKSxsPU1hdGgucG93KDIscyk7cmV0dXJuIG5ldyBlLkNhbm9uaWNhbFRpbGVJRChzLE1hdGguZmxvb3IoKG4rcikvMipsKSxNYXRoLmZsb29yKChpK28pLzIqbCkpfShuKSx0aGlzLm1pbnpvb209dGhpcy5tYXh6b29tPXRoaXMudGlsZUlELnosdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpLHRoaXN9X2NsZWFyKCl7dGhpcy5fYm91bmRzQXJyYXk9dm9pZCAwfV9wcmVwYXJlRGF0YSh0KXtmb3IoY29uc3QgZSBpbiB0aGlzLnRpbGVzKXtjb25zdCB0PXRoaXMudGlsZXNbZV07XCJsb2FkZWRcIiE9PXQuc3RhdGUmJih0LnN0YXRlPVwibG9hZGVkXCIsdC50ZXh0dXJlPXRoaXMudGV4dHVyZSl9aWYodGhpcy5fYm91bmRzQXJyYXkpcmV0dXJuO2NvbnN0IG49ZS50aWxlVHJhbnNmb3JtKHRoaXMudGlsZUlELHRoaXMubWFwLnRyYW5zZm9ybS5wcm9qZWN0aW9uKSxbaSxyLG8sYV09dGhpcy5jb29yZGluYXRlcy5tYXAodD0+e2NvbnN0IGk9bi5wcm9qZWN0aW9uLnByb2plY3QodFswXSx0WzFdKTtyZXR1cm4gZS5nZXRUaWxlUG9pbnQobixpKS5fcm91bmQoKX0pO3RoaXMucGVyc3BlY3RpdmVUcmFuc2Zvcm09ZnVuY3Rpb24odCxuLGkscixvLGEscyxsLGMsdSl7Y29uc3QgaD1rZSgwLDAsdCwwLDAsbix0LG4pLGQ9a2UoaSxyLG8sYSxzLGwsYyx1KTtyZXR1cm4gZS5tdWx0aXBseSQxKGQsZS5hZGpvaW50KGgsaCksZCksW2RbNl0vZFs4XSp0L2UuRVhURU5ULGRbN10vZFs4XSpuL2UuRVhURU5UXX0odGhpcy53aWR0aCx0aGlzLmhlaWdodCxpLngsaS55LHIueCxyLnksYS54LGEueSxvLngsby55KTtjb25zdCBzPXRoaXMuX2JvdW5kc0FycmF5PW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0NGk4O3MuZW1wbGFjZUJhY2soaS54LGkueSwwLDApLHMuZW1wbGFjZUJhY2soci54LHIueSxlLkVYVEVOVCwwKSxzLmVtcGxhY2VCYWNrKGEueCxhLnksMCxlLkVYVEVOVCkscy5lbXBsYWNlQmFjayhvLngsby55LGUuRVhURU5ULGUuRVhURU5UKSx0aGlzLmJvdW5kc0J1ZmZlciYmdGhpcy5ib3VuZHNCdWZmZXIuZGVzdHJveSgpLHRoaXMuYm91bmRzQnVmZmVyPXQuY3JlYXRlVmVydGV4QnVmZmVyKHMsZS5ib3VuZHNBdHRyaWJ1dGVzLm1lbWJlcnMpLHRoaXMuYm91bmRzU2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsMil9cHJlcGFyZSgpe2lmKDA9PT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGh8fCF0aGlzLmltYWdlKXJldHVybjtjb25zdCB0PXRoaXMubWFwLnBhaW50ZXIuY29udGV4dCxuPXQuZ2w7dGhpcy5fZGlydHkmJih0aGlzLnRleHR1cmU/dGhpcy50ZXh0dXJlLnVwZGF0ZSh0aGlzLmltYWdlKToodGhpcy50ZXh0dXJlPW5ldyBlLlRleHR1cmUodCx0aGlzLmltYWdlLG4uUkdCQSksdGhpcy50ZXh0dXJlLmJpbmQobi5MSU5FQVIsbi5DTEFNUF9UT19FREdFKSksdGhpcy5fZGlydHk9ITEpLHRoaXMuX3ByZXBhcmVEYXRhKHQpfWxvYWRUaWxlKGUsdCl7dGhpcy50aWxlSUQmJnRoaXMudGlsZUlELmVxdWFscyhlLnRpbGVJRC5jYW5vbmljYWwpPyh0aGlzLnRpbGVzW1N0cmluZyhlLnRpbGVJRC53cmFwKV09ZSxlLmJ1Y2tldHM9e30sdChudWxsKSk6KGUuc3RhdGU9XCJlcnJvcmVkXCIsdChudWxsKSl9c2VyaWFsaXplKCl7cmV0dXJue3R5cGU6XCJpbWFnZVwiLHVybDp0aGlzLm9wdGlvbnMudXJsLGNvb3JkaW5hdGVzOnRoaXMuY29vcmRpbmF0ZXN9fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4hMX19Y29uc3QgUGU9e3ZlY3RvcjpjbGFzcyBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LG4saSxyKXtpZihzdXBlcigpLHRoaXMuaWQ9dCx0aGlzLmRpc3BhdGNoZXI9aSx0aGlzLnR5cGU9XCJ2ZWN0b3JcIix0aGlzLm1pbnpvb209MCx0aGlzLm1heHpvb209MjIsdGhpcy5zY2hlbWU9XCJ4eXpcIix0aGlzLnRpbGVTaXplPTUxMix0aGlzLnJlcGFyc2VPdmVyc2NhbGVkPSEwLHRoaXMuaXNUaWxlQ2xpcHBlZD0hMCx0aGlzLl9sb2FkZWQ9ITEsZS5leHRlbmQodGhpcyxlLnBpY2sobixbXCJ1cmxcIixcInNjaGVtZVwiLFwidGlsZVNpemVcIixcInByb21vdGVJZFwiXSkpLHRoaXMuX29wdGlvbnM9ZS5leHRlbmQoe3R5cGU6XCJ2ZWN0b3JcIn0sbiksdGhpcy5fY29sbGVjdFJlc291cmNlVGltaW5nPW4uY29sbGVjdFJlc291cmNlVGltaW5nLDUxMiE9PXRoaXMudGlsZVNpemUpdGhyb3cgbmV3IEVycm9yKFwidmVjdG9yIHRpbGUgc291cmNlcyBtdXN0IGhhdmUgYSB0aWxlU2l6ZSBvZiA1MTJcIik7dGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMuX3RpbGVXb3JrZXJzPXt9LHRoaXMuX2RlZHVwZWQ9bmV3IGUuRGVkdXBlZFJlcXVlc3R9bG9hZCh0KXt0aGlzLl9sb2FkZWQ9ITEsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIn0pKTtjb25zdCBuPUFycmF5LmlzQXJyYXkodGhpcy5tYXAuX2xhbmd1YWdlKT90aGlzLm1hcC5fbGFuZ3VhZ2Uuam9pbigpOnRoaXMubWFwLl9sYW5ndWFnZSxpPXRoaXMubWFwLl93b3JsZHZpZXc7dGhpcy5fdGlsZUpTT05SZXF1ZXN0PWoodGhpcy5fb3B0aW9ucyx0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIsbixpLChyLG8pPT57dGhpcy5fdGlsZUpTT05SZXF1ZXN0PW51bGwsdGhpcy5fbG9hZGVkPSEwLHI/KG4mJmNvbnNvbGUud2FybihcIkVuc3VyZSB0aGF0IHlvdXIgcmVxdWVzdGVkIGxhbmd1YWdlIHN0cmluZyBpcyBhIHZhbGlkIEJDUC00NyBjb2RlIG9yIGxpc3Qgb2YgY29kZXMuIEZvdW5kOiBcIituKSxpJiYyIT09aS5sZW5ndGgmJmNvbnNvbGUud2FybihcIlJlcXVlc3RlZCB3b3JsZHZpZXcgc3RyaW5ncyBtdXN0IGJlIGEgdmFsaWQgSVNPIGFscGhhLTIgY29kZS4gRm91bmQ6IFwiK2kpLHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHIpKSk6byYmKGUuZXh0ZW5kKHRoaXMsbyksby5ib3VuZHMmJih0aGlzLnRpbGVCb3VuZHM9bmV3IEYoby5ib3VuZHMsdGhpcy5taW56b29tLHRoaXMubWF4em9vbSkpLGUucG9zdFR1cm5zdGlsZUV2ZW50KG8udGlsZXMsdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwibWV0YWRhdGFcIn0pKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJkYXRhXCIse2RhdGFUeXBlOlwic291cmNlXCIsc291cmNlRGF0YVR5cGU6XCJjb250ZW50XCJ9KSkpLHQmJnQocil9KX1sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfWhhc1RpbGUoZSl7cmV0dXJuIXRoaXMudGlsZUJvdW5kc3x8dGhpcy50aWxlQm91bmRzLmNvbnRhaW5zKGUuY2Fub25pY2FsKX1vbkFkZChlKXt0aGlzLm1hcD1lLHRoaXMubG9hZCgpfXJlbG9hZCgpe3RoaXMuY2FuY2VsVGlsZUpTT05SZXF1ZXN0KCksdGhpcy5sb2FkKCgpPT57Y29uc3QgZT10aGlzLm1hcC5zdHlsZS5fZ2V0U291cmNlQ2FjaGVzKHRoaXMuaWQpO2Zvcihjb25zdCB0IG9mIGUpdC5jbGVhclRpbGVzKCl9KX1zZXRTb3VyY2VQcm9wZXJ0eShlKXtlKCksdGhpcy5yZWxvYWQoKX1zZXRUaWxlcyhlKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy50aWxlcz1lLHRoaXMucmVsb2FkKCksdGhpc31zZXRVcmwoZSl7cmV0dXJuIHRoaXMudXJsPWUsdGhpcy5fb3B0aW9ucy51cmw9ZSx0aGlzLnJlbG9hZCgpLHRoaXN9b25SZW1vdmUoKXt0aGlzLmNhbmNlbFRpbGVKU09OUmVxdWVzdCgpfXNlcmlhbGl6ZSgpe3JldHVybiBlLmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zKX1sb2FkVGlsZSh0LG4pe2NvbnN0IGk9dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVRpbGVVUkwodC50aWxlSUQuY2Fub25pY2FsLnVybCh0aGlzLnRpbGVzLHRoaXMuc2NoZW1lKSkscj17cmVxdWVzdDp0aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChpLGUuUmVzb3VyY2VUeXBlLlRpbGUpLGRhdGE6dm9pZCAwLHVpZDp0LnVpZCx0aWxlSUQ6dC50aWxlSUQsdGlsZVpvb206dC50aWxlWm9vbSx6b29tOnQudGlsZUlELm92ZXJzY2FsZWRaLHRpbGVTaXplOnRoaXMudGlsZVNpemUqdC50aWxlSUQub3ZlcnNjYWxlRmFjdG9yKCksdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWQscGl4ZWxSYXRpbzplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sc2hvd0NvbGxpc2lvbkJveGVzOnRoaXMubWFwLnNob3dDb2xsaXNpb25Cb3hlcyxwcm9tb3RlSWQ6dGhpcy5wcm9tb3RlSWQsaXNTeW1ib2xUaWxlOnQuaXNTeW1ib2xUaWxlfTtpZihyLnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nPXRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyx0LmFjdG9yJiZcImV4cGlyZWRcIiE9PXQuc3RhdGUpXCJsb2FkaW5nXCI9PT10LnN0YXRlP3QucmVsb2FkQ2FsbGJhY2s9bjp0LnJlcXVlc3Q9dC5hY3Rvci5zZW5kKFwicmVsb2FkVGlsZVwiLHIsby5iaW5kKHRoaXMpKTtlbHNlIGlmKHQuYWN0b3I9dGhpcy5fdGlsZVdvcmtlcnNbaV09dGhpcy5fdGlsZVdvcmtlcnNbaV18fHRoaXMuZGlzcGF0Y2hlci5nZXRBY3RvcigpLHRoaXMuZGlzcGF0Y2hlci5yZWFkeSl0LnJlcXVlc3Q9dC5hY3Rvci5zZW5kKFwibG9hZFRpbGVcIixyLG8uYmluZCh0aGlzKSx2b2lkIDAsITApO2Vsc2V7Y29uc3Qgbj1lLmxvYWRWZWN0b3JUaWxlLmNhbGwoe2RlZHVwZWQ6dGhpcy5fZGVkdXBlZH0sciwoZSxuKT0+e2V8fCFuP28uY2FsbCh0aGlzLGUpOihyLmRhdGE9e2NhY2hlQ29udHJvbDpuLmNhY2hlQ29udHJvbCxleHBpcmVzOm4uZXhwaXJlcyxyYXdEYXRhOm4ucmF3RGF0YS5zbGljZSgwKX0sdC5hY3RvciYmdC5hY3Rvci5zZW5kKFwibG9hZFRpbGVcIixyLG8uYmluZCh0aGlzKSx2b2lkIDAsITApKX0sITApO3QucmVxdWVzdD17Y2FuY2VsOm59fWZ1bmN0aW9uIG8oaSxyKXtyZXR1cm4gZGVsZXRlIHQucmVxdWVzdCx0LmFib3J0ZWQ/bihudWxsKTppJiY0MDQhPT1pLnN0YXR1cz9uKGkpOihyJiZyLnJlc291cmNlVGltaW5nJiYodC5yZXNvdXJjZVRpbWluZz1yLnJlc291cmNlVGltaW5nKSx0aGlzLm1hcC5fcmVmcmVzaEV4cGlyZWRUaWxlcyYmciYmdC5zZXRFeHBpcnlEYXRhKHIpLHQubG9hZFZlY3RvckRhdGEocix0aGlzLm1hcC5wYWludGVyKSxlLmNhY2hlRW50cnlQb3NzaWJseUFkZGVkKHRoaXMuZGlzcGF0Y2hlciksbihudWxsKSx2b2lkKHQucmVsb2FkQ2FsbGJhY2smJih0aGlzLmxvYWRUaWxlKHQsdC5yZWxvYWRDYWxsYmFjayksdC5yZWxvYWRDYWxsYmFjaz1udWxsKSkpfX1hYm9ydFRpbGUoZSl7ZS5yZXF1ZXN0JiYoZS5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSBlLnJlcXVlc3QpLGUuYWN0b3ImJmUuYWN0b3Iuc2VuZChcImFib3J0VGlsZVwiLHt1aWQ6ZS51aWQsdHlwZTp0aGlzLnR5cGUsc291cmNlOnRoaXMuaWR9KX11bmxvYWRUaWxlKGUpe2UudW5sb2FkVmVjdG9yRGF0YSgpLGUuYWN0b3ImJmUuYWN0b3Iuc2VuZChcInJlbW92ZVRpbGVcIix7dWlkOmUudWlkLHR5cGU6dGhpcy50eXBlLHNvdXJjZTp0aGlzLmlkfSl9aGFzVHJhbnNpdGlvbigpe3JldHVybiExfWFmdGVyVXBkYXRlKCl7dGhpcy5fdGlsZVdvcmtlcnM9e319Y2FuY2VsVGlsZUpTT05SZXF1ZXN0KCl7dGhpcy5fdGlsZUpTT05SZXF1ZXN0JiYodGhpcy5fdGlsZUpTT05SZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3RpbGVKU09OUmVxdWVzdD1udWxsKX19LHJhc3RlcjpJZSxcInJhc3Rlci1kZW1cIjpjbGFzcyBleHRlbmRzIElle2NvbnN0cnVjdG9yKHQsbixpLHIpe3N1cGVyKHQsbixpLHIpLHRoaXMudHlwZT1cInJhc3Rlci1kZW1cIix0aGlzLm1heHpvb209MjIsdGhpcy5fb3B0aW9ucz1lLmV4dGVuZCh7dHlwZTpcInJhc3Rlci1kZW1cIn0sbiksdGhpcy5lbmNvZGluZz1uLmVuY29kaW5nfHxcIm1hcGJveFwifWxvYWRUaWxlKHQsbil7Y29uc3QgaT10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIubm9ybWFsaXplVGlsZVVSTCh0LnRpbGVJRC5jYW5vbmljYWwudXJsKHRoaXMudGlsZXMsdGhpcy5zY2hlbWUpLCExLHRoaXMudGlsZVNpemUpO2Z1bmN0aW9uIHIoZSxpKXtlJiYodC5zdGF0ZT1cImVycm9yZWRcIixuKGUpKSxpJiYodC5kZW09aSx0LmRlbS5vbkRlc2VyaWFsaXplKCksdC5uZWVkc0hpbGxzaGFkZVByZXBhcmU9ITAsdC5uZWVkc0RFTVRleHR1cmVVcGxvYWQ9ITAsdC5zdGF0ZT1cImxvYWRlZFwiLG4obnVsbCkpfXQucmVxdWVzdD1lLmdldEltYWdlKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KGksZS5SZXNvdXJjZVR5cGUuVGlsZSksZnVuY3Rpb24oaSxvLGEscyl7aWYoZGVsZXRlIHQucmVxdWVzdCx0LmFib3J0ZWQpdC5zdGF0ZT1cInVubG9hZGVkXCIsbihudWxsKTtlbHNlIGlmKGkpdC5zdGF0ZT1cImVycm9yZWRcIixuKGkpO2Vsc2UgaWYobyl7dGhpcy5tYXAuX3JlZnJlc2hFeHBpcmVkVGlsZXMmJnQuc2V0RXhwaXJ5RGF0YSh7Y2FjaGVDb250cm9sOmEsZXhwaXJlczpzfSk7Y29uc3Qgbj1lLndpbmRvdy5JbWFnZUJpdG1hcCYmbyBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlQml0bWFwJiYobnVsbD09Q2UmJihDZT1lLndpbmRvdy5PZmZzY3JlZW5DYW52YXMmJm5ldyBlLndpbmRvdy5PZmZzY3JlZW5DYW52YXMoMSwxKS5nZXRDb250ZXh0KFwiMmRcIikmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUud2luZG93LmNyZWF0ZUltYWdlQml0bWFwKSxDZSksaT0xLShvLndpZHRoLWUucHJldlBvd2VyT2ZUd28oby53aWR0aCkpLzI7aTwxfHx0Lm5laWdoYm9yaW5nVGlsZXN8fCh0Lm5laWdoYm9yaW5nVGlsZXM9dGhpcy5fZ2V0TmVpZ2hib3JpbmdUaWxlcyh0LnRpbGVJRCkpO2NvbnN0IGw9bj9vOmUuZXhwb3J0ZWQuZ2V0SW1hZ2VEYXRhKG8saSksYz17dWlkOnQudWlkLGNvb3JkOnQudGlsZUlELHNvdXJjZTp0aGlzLmlkLHJhd0ltYWdlRGF0YTpsLGVuY29kaW5nOnRoaXMuZW5jb2RpbmcscGFkZGluZzppfTt0LmFjdG9yJiZcImV4cGlyZWRcIiE9PXQuc3RhdGV8fCh0LmFjdG9yPXRoaXMuZGlzcGF0Y2hlci5nZXRBY3RvcigpLHQuYWN0b3Iuc2VuZChcImxvYWRERU1UaWxlXCIsYyxyLmJpbmQodGhpcyksdm9pZCAwLCEwKSl9fS5iaW5kKHRoaXMpKX1fZ2V0TmVpZ2hib3JpbmdUaWxlcyh0KXtjb25zdCBuPXQuY2Fub25pY2FsLGk9TWF0aC5wb3coMixuLnopLHI9KG4ueC0xK2kpJWksbz0wPT09bi54P3Qud3JhcC0xOnQud3JhcCxhPShuLngrMStpKSVpLHM9bi54KzE9PT1pP3Qud3JhcCsxOnQud3JhcCxsPXt9O3JldHVybiBsW25ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixvLG4ueixyLG4ueSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFoscyxuLnosYSxuLnkpLmtleV09e2JhY2tmaWxsZWQ6ITF9LG4ueT4wJiYobFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosbyxuLnoscixuLnktMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosdC53cmFwLG4ueixuLngsbi55LTEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHMsbi56LGEsbi55LTEpLmtleV09e2JhY2tmaWxsZWQ6ITF9KSxuLnkrMTxpJiYobFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosbyxuLnoscixuLnkrMSkua2V5XT17YmFja2ZpbGxlZDohMX0sbFtuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosdC53cmFwLG4ueixuLngsbi55KzEpLmtleV09e2JhY2tmaWxsZWQ6ITF9LGxbbmV3IGUuT3ZlcnNjYWxlZFRpbGVJRCh0Lm92ZXJzY2FsZWRaLHMsbi56LGEsbi55KzEpLmtleV09e2JhY2tmaWxsZWQ6ITF9KSxsfXVubG9hZFRpbGUoZSl7ZS5kZW1UZXh0dXJlJiZ0aGlzLm1hcC5wYWludGVyLnNhdmVUaWxlVGV4dHVyZShlLmRlbVRleHR1cmUpLGUuZmJvJiYoZS5mYm8uZGVzdHJveSgpLGRlbGV0ZSBlLmZibyksZS5kZW0mJmRlbGV0ZSBlLmRlbSxkZWxldGUgZS5uZWlnaGJvcmluZ1RpbGVzLGUuc3RhdGU9XCJ1bmxvYWRlZFwifX0sZ2VvanNvbjpjbGFzcyBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LG4saSxyKXtzdXBlcigpLHRoaXMuaWQ9dCx0aGlzLnR5cGU9XCJnZW9qc29uXCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTE4LHRoaXMudGlsZVNpemU9NTEyLHRoaXMuaXNUaWxlQ2xpcHBlZD0hMCx0aGlzLnJlcGFyc2VPdmVyc2NhbGVkPSEwLHRoaXMuX2xvYWRlZD0hMSx0aGlzLmFjdG9yPWkuZ2V0QWN0b3IoKSx0aGlzLnNldEV2ZW50ZWRQYXJlbnQociksdGhpcy5fZGF0YT1uLmRhdGEsdGhpcy5fb3B0aW9ucz1lLmV4dGVuZCh7fSxuKSx0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmc9bi5jb2xsZWN0UmVzb3VyY2VUaW1pbmcsdm9pZCAwIT09bi5tYXh6b29tJiYodGhpcy5tYXh6b29tPW4ubWF4em9vbSksbi50eXBlJiYodGhpcy50eXBlPW4udHlwZSksbi5hdHRyaWJ1dGlvbiYmKHRoaXMuYXR0cmlidXRpb249bi5hdHRyaWJ1dGlvbiksdGhpcy5wcm9tb3RlSWQ9bi5wcm9tb3RlSWQ7Y29uc3Qgbz1lLkVYVEVOVC90aGlzLnRpbGVTaXplO3RoaXMud29ya2VyT3B0aW9ucz1lLmV4dGVuZCh7c291cmNlOnRoaXMuaWQsY2x1c3RlcjpuLmNsdXN0ZXJ8fCExLGdlb2pzb25WdE9wdGlvbnM6e2J1ZmZlcjoodm9pZCAwIT09bi5idWZmZXI/bi5idWZmZXI6MTI4KSpvLHRvbGVyYW5jZToodm9pZCAwIT09bi50b2xlcmFuY2U/bi50b2xlcmFuY2U6LjM3NSkqbyxleHRlbnQ6ZS5FWFRFTlQsbWF4Wm9vbTp0aGlzLm1heHpvb20sbGluZU1ldHJpY3M6bi5saW5lTWV0cmljc3x8ITEsZ2VuZXJhdGVJZDpuLmdlbmVyYXRlSWR8fCExfSxzdXBlcmNsdXN0ZXJPcHRpb25zOnttYXhab29tOnZvaWQgMCE9PW4uY2x1c3Rlck1heFpvb20/bi5jbHVzdGVyTWF4Wm9vbTp0aGlzLm1heHpvb20tMSxtaW5Qb2ludHM6TWF0aC5tYXgoMixuLmNsdXN0ZXJNaW5Qb2ludHN8fDIpLGV4dGVudDplLkVYVEVOVCxyYWRpdXM6KHZvaWQgMCE9PW4uY2x1c3RlclJhZGl1cz9uLmNsdXN0ZXJSYWRpdXM6NTApKm8sbG9nOiExLGdlbmVyYXRlSWQ6bi5nZW5lcmF0ZUlkfHwhMX0sY2x1c3RlclByb3BlcnRpZXM6bi5jbHVzdGVyUHJvcGVydGllcyxmaWx0ZXI6bi5maWx0ZXJ9LG4ud29ya2VyT3B0aW9ucyl9b25BZGQoZSl7dGhpcy5tYXA9ZSx0aGlzLnNldERhdGEodGhpcy5fZGF0YSl9c2V0RGF0YShlKXtyZXR1cm4gdGhpcy5fZGF0YT1lLHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoKSx0aGlzfWdldENsdXN0ZXJFeHBhbnNpb25ab29tKGUsdCl7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZChcImdlb2pzb24uZ2V0Q2x1c3RlckV4cGFuc2lvblpvb21cIix7Y2x1c3RlcklkOmUsc291cmNlOnRoaXMuaWR9LHQpLHRoaXN9Z2V0Q2x1c3RlckNoaWxkcmVuKGUsdCl7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZChcImdlb2pzb24uZ2V0Q2x1c3RlckNoaWxkcmVuXCIse2NsdXN0ZXJJZDplLHNvdXJjZTp0aGlzLmlkfSx0KSx0aGlzfWdldENsdXN0ZXJMZWF2ZXMoZSx0LG4saSl7cmV0dXJuIHRoaXMuYWN0b3Iuc2VuZChcImdlb2pzb24uZ2V0Q2x1c3RlckxlYXZlc1wiLHtzb3VyY2U6dGhpcy5pZCxjbHVzdGVySWQ6ZSxsaW1pdDp0LG9mZnNldDpufSxpKSx0aGlzfV91cGRhdGVXb3JrZXJEYXRhKCl7aWYodGhpcy5fcGVuZGluZ0xvYWQpcmV0dXJuIHZvaWQodGhpcy5fY29hbGVzY2U9ITApO3RoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy5fbG9hZGVkPSExO2NvbnN0IHQ9ZS5leHRlbmQoe30sdGhpcy53b3JrZXJPcHRpb25zKSxuPXRoaXMuX2RhdGE7XCJzdHJpbmdcIj09dHlwZW9mIG4/KHQucmVxdWVzdD10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdChlLmV4cG9ydGVkLnJlc29sdmVVUkwobiksZS5SZXNvdXJjZVR5cGUuU291cmNlKSx0LnJlcXVlc3QuY29sbGVjdFJlc291cmNlVGltaW5nPXRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZyk6dC5kYXRhPUpTT04uc3RyaW5naWZ5KG4pLHRoaXMuX3BlbmRpbmdMb2FkPXRoaXMuYWN0b3Iuc2VuZCh0aGlzLnR5cGUrXCIubG9hZERhdGFcIix0LCh0LG4pPT57aWYodGhpcy5fbG9hZGVkPSEwLHRoaXMuX3BlbmRpbmdMb2FkPW51bGwsdCl0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudCh0KSk7ZWxzZXtjb25zdCB0PXtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOnRoaXMuX21ldGFkYXRhRmlyZWQ/XCJjb250ZW50XCI6XCJtZXRhZGF0YVwifTt0aGlzLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcmJm4mJm4ucmVzb3VyY2VUaW1pbmcmJm4ucmVzb3VyY2VUaW1pbmdbdGhpcy5pZF0mJih0LnJlc291cmNlVGltaW5nPW4ucmVzb3VyY2VUaW1pbmdbdGhpcy5pZF0pLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix0KSksdGhpcy5fbWV0YWRhdGFGaXJlZD0hMH10aGlzLl9jb2FsZXNjZSYmKHRoaXMuX3VwZGF0ZVdvcmtlckRhdGEoKSx0aGlzLl9jb2FsZXNjZT0hMSl9KX1sb2FkZWQoKXtyZXR1cm4gdGhpcy5fbG9hZGVkfWxvYWRUaWxlKHQsbil7Y29uc3QgaT10LmFjdG9yP1wicmVsb2FkVGlsZVwiOlwibG9hZFRpbGVcIjt0LmFjdG9yPXRoaXMuYWN0b3IsdC5yZXF1ZXN0PXRoaXMuYWN0b3Iuc2VuZChpLHt0eXBlOnRoaXMudHlwZSx1aWQ6dC51aWQsdGlsZUlEOnQudGlsZUlELHRpbGVab29tOnQudGlsZVpvb20sem9vbTp0LnRpbGVJRC5vdmVyc2NhbGVkWixtYXhab29tOnRoaXMubWF4em9vbSx0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLHNvdXJjZTp0aGlzLmlkLHBpeGVsUmF0aW86ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHNob3dDb2xsaXNpb25Cb3hlczp0aGlzLm1hcC5zaG93Q29sbGlzaW9uQm94ZXMscHJvbW90ZUlkOnRoaXMucHJvbW90ZUlkfSwoZSxyKT0+KGRlbGV0ZSB0LnJlcXVlc3QsdC51bmxvYWRWZWN0b3JEYXRhKCksdC5hYm9ydGVkP24obnVsbCk6ZT9uKGUpOih0LmxvYWRWZWN0b3JEYXRhKHIsdGhpcy5tYXAucGFpbnRlcixcInJlbG9hZFRpbGVcIj09PWkpLG4obnVsbCkpKSx2b2lkIDAsXCJsb2FkVGlsZVwiPT09aSl9YWJvcnRUaWxlKGUpe2UucmVxdWVzdCYmKGUucmVxdWVzdC5jYW5jZWwoKSxkZWxldGUgZS5yZXF1ZXN0KSxlLmFib3J0ZWQ9ITB9dW5sb2FkVGlsZShlKXtlLnVubG9hZFZlY3RvckRhdGEoKSx0aGlzLmFjdG9yLnNlbmQoXCJyZW1vdmVUaWxlXCIse3VpZDplLnVpZCx0eXBlOnRoaXMudHlwZSxzb3VyY2U6dGhpcy5pZH0pfW9uUmVtb3ZlKCl7dGhpcy5fcGVuZGluZ0xvYWQmJnRoaXMuX3BlbmRpbmdMb2FkLmNhbmNlbCgpfXNlcmlhbGl6ZSgpe3JldHVybiBlLmV4dGVuZCh7fSx0aGlzLl9vcHRpb25zLHt0eXBlOnRoaXMudHlwZSxkYXRhOnRoaXMuX2RhdGF9KX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuITF9fSx2aWRlbzpjbGFzcyBleHRlbmRzIEFle2NvbnN0cnVjdG9yKGUsdCxuLGkpe3N1cGVyKGUsdCxuLGkpLHRoaXMucm91bmRab29tPSEwLHRoaXMudHlwZT1cInZpZGVvXCIsdGhpcy5vcHRpb25zPXR9bG9hZCgpe3RoaXMuX2xvYWRlZD0hMTtjb25zdCB0PXRoaXMub3B0aW9uczt0aGlzLnVybHM9W107Zm9yKGNvbnN0IG4gb2YgdC51cmxzKXRoaXMudXJscy5wdXNoKHRoaXMubWFwLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KG4sZS5SZXNvdXJjZVR5cGUuU291cmNlKS51cmwpO2UuZ2V0VmlkZW8odGhpcy51cmxzLCh0LG4pPT57dGhpcy5fbG9hZGVkPSEwLHQ/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpOm4mJih0aGlzLnZpZGVvPW4sdGhpcy52aWRlby5sb29wPSEwLHRoaXMudmlkZW8uc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSx0aGlzLnZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsKCk9Pnt0aGlzLm1hcC50cmlnZ2VyUmVwYWludCgpfSksdGhpcy5tYXAmJnRoaXMudmlkZW8ucGxheSgpLHRoaXMuX2ZpbmlzaExvYWRpbmcoKSl9KX1wYXVzZSgpe3RoaXMudmlkZW8mJnRoaXMudmlkZW8ucGF1c2UoKX1wbGF5KCl7dGhpcy52aWRlbyYmdGhpcy52aWRlby5wbGF5KCl9c2Vlayh0KXtpZih0aGlzLnZpZGVvKXtjb25zdCBuPXRoaXMudmlkZW8uc2Vla2FibGU7dDxuLnN0YXJ0KDApfHx0Pm4uZW5kKDApP3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBlLlZhbGlkYXRpb25FcnJvcihcInNvdXJjZXMuXCIrdGhpcy5pZCxudWxsLGBQbGF5YmFjayBmb3IgdGhpcyB2aWRlbyBjYW4gYmUgc2V0IG9ubHkgYmV0d2VlbiB0aGUgJHtuLnN0YXJ0KDApfSBhbmQgJHtuLmVuZCgwKX0tc2Vjb25kIG1hcmsuYCkpKTp0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXR9fWdldFZpZGVvKCl7cmV0dXJuIHRoaXMudmlkZW99b25BZGQoZSl7dGhpcy5tYXB8fCh0aGlzLm1hcD1lLHRoaXMubG9hZCgpLHRoaXMudmlkZW8mJih0aGlzLnZpZGVvLnBsYXkoKSx0aGlzLnNldENvb3JkaW5hdGVzKHRoaXMuY29vcmRpbmF0ZXMpKSl9cHJlcGFyZSgpe2lmKDA9PT1PYmplY3Qua2V5cyh0aGlzLnRpbGVzKS5sZW5ndGh8fHRoaXMudmlkZW8ucmVhZHlTdGF0ZTwyKXJldHVybjtjb25zdCB0PXRoaXMubWFwLnBhaW50ZXIuY29udGV4dCxuPXQuZ2w7dGhpcy50ZXh0dXJlP3RoaXMudmlkZW8ucGF1c2VkfHwodGhpcy50ZXh0dXJlLmJpbmQobi5MSU5FQVIsbi5DTEFNUF9UT19FREdFKSxuLnRleFN1YkltYWdlMkQobi5URVhUVVJFXzJELDAsMCwwLG4uUkdCQSxuLlVOU0lHTkVEX0JZVEUsdGhpcy52aWRlbykpOih0aGlzLnRleHR1cmU9bmV3IGUuVGV4dHVyZSh0LHRoaXMudmlkZW8sbi5SR0JBKSx0aGlzLnRleHR1cmUuYmluZChuLkxJTkVBUixuLkNMQU1QX1RPX0VER0UpLHRoaXMud2lkdGg9dGhpcy52aWRlby52aWRlb1dpZHRoLHRoaXMuaGVpZ2h0PXRoaXMudmlkZW8udmlkZW9IZWlnaHQpLHRoaXMuX3ByZXBhcmVEYXRhKHQpfXNlcmlhbGl6ZSgpe3JldHVybnt0eXBlOlwidmlkZW9cIix1cmxzOnRoaXMudXJscyxjb29yZGluYXRlczp0aGlzLmNvb3JkaW5hdGVzfX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuIHRoaXMudmlkZW8mJiF0aGlzLnZpZGVvLnBhdXNlZH19LGltYWdlOkFlLGNhbnZhczpjbGFzcyBleHRlbmRzIEFle2NvbnN0cnVjdG9yKHQsbixpLHIpe3N1cGVyKHQsbixpLHIpLG4uY29vcmRpbmF0ZXM/QXJyYXkuaXNBcnJheShuLmNvb3JkaW5hdGVzKSYmND09PW4uY29vcmRpbmF0ZXMubGVuZ3RoJiYhbi5jb29yZGluYXRlcy5zb21lKGU9PiFBcnJheS5pc0FycmF5KGUpfHwyIT09ZS5sZW5ndGh8fGUuc29tZShlPT5cIm51bWJlclwiIT10eXBlb2YgZSkpfHx0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgZS5WYWxpZGF0aW9uRXJyb3IoXCJzb3VyY2VzLlwiK3QsbnVsbCwnXCJjb29yZGluYXRlc1wiIHByb3BlcnR5IG11c3QgYmUgYW4gYXJyYXkgb2YgNCBsb25naXR1ZGUvbGF0aXR1ZGUgYXJyYXkgcGFpcnMnKSkpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBlLlZhbGlkYXRpb25FcnJvcihcInNvdXJjZXMuXCIrdCxudWxsLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiY29vcmRpbmF0ZXNcIicpKSksbi5hbmltYXRlJiZcImJvb2xlYW5cIiE9dHlwZW9mIG4uYW5pbWF0ZSYmdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IGUuVmFsaWRhdGlvbkVycm9yKFwic291cmNlcy5cIit0LG51bGwsJ29wdGlvbmFsIFwiYW5pbWF0ZVwiIHByb3BlcnR5IG11c3QgYmUgYSBib29sZWFuIHZhbHVlJykpKSxuLmNhbnZhcz9cInN0cmluZ1wiPT10eXBlb2Ygbi5jYW52YXN8fG4uY2FudmFzIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTENhbnZhc0VsZW1lbnR8fHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBlLlZhbGlkYXRpb25FcnJvcihcInNvdXJjZXMuXCIrdCxudWxsLCdcImNhbnZhc1wiIG11c3QgYmUgZWl0aGVyIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgSUQgb2YgdGhlIGNhbnZhcyBlbGVtZW50IGZyb20gd2hpY2ggdG8gcmVhZCwgb3IgYW4gSFRNTENhbnZhc0VsZW1lbnQgaW5zdGFuY2UnKSkpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBlLlZhbGlkYXRpb25FcnJvcihcInNvdXJjZXMuXCIrdCxudWxsLCdtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5IFwiY2FudmFzXCInKSkpLHRoaXMub3B0aW9ucz1uLHRoaXMuYW5pbWF0ZT12b2lkIDA9PT1uLmFuaW1hdGV8fG4uYW5pbWF0ZX1sb2FkKCl7dGhpcy5fbG9hZGVkPSEwLHRoaXMuY2FudmFzfHwodGhpcy5jYW52YXM9dGhpcy5vcHRpb25zLmNhbnZhcyBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxDYW52YXNFbGVtZW50P3RoaXMub3B0aW9ucy5jYW52YXM6ZS53aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5vcHRpb25zLmNhbnZhcykpLHRoaXMud2lkdGg9dGhpcy5jYW52YXMud2lkdGgsdGhpcy5oZWlnaHQ9dGhpcy5jYW52YXMuaGVpZ2h0LHRoaXMuX2hhc0ludmFsaWREaW1lbnNpb25zKCk/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiQ2FudmFzIGRpbWVuc2lvbnMgY2Fubm90IGJlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB6ZXJvLlwiKSkpOih0aGlzLnBsYXk9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5aW5nPSEwLHRoaXMubWFwLnRyaWdnZXJSZXBhaW50KCl9LHRoaXMucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLl9wbGF5aW5nJiYodGhpcy5wcmVwYXJlKCksdGhpcy5fcGxheWluZz0hMSl9LHRoaXMuX2ZpbmlzaExvYWRpbmcoKSl9Z2V0Q2FudmFzKCl7cmV0dXJuIHRoaXMuY2FudmFzfW9uQWRkKGUpe3RoaXMubWFwPWUsdGhpcy5sb2FkKCksdGhpcy5jYW52YXMmJnRoaXMuYW5pbWF0ZSYmdGhpcy5wbGF5KCl9b25SZW1vdmUoKXt0aGlzLnBhdXNlKCl9cHJlcGFyZSgpe2xldCB0PSExO2lmKHRoaXMuY2FudmFzLndpZHRoIT09dGhpcy53aWR0aCYmKHRoaXMud2lkdGg9dGhpcy5jYW52YXMud2lkdGgsdD0hMCksdGhpcy5jYW52YXMuaGVpZ2h0IT09dGhpcy5oZWlnaHQmJih0aGlzLmhlaWdodD10aGlzLmNhbnZhcy5oZWlnaHQsdD0hMCksdGhpcy5faGFzSW52YWxpZERpbWVuc2lvbnMoKSlyZXR1cm47aWYoMD09PU9iamVjdC5rZXlzKHRoaXMudGlsZXMpLmxlbmd0aClyZXR1cm47Y29uc3Qgbj10aGlzLm1hcC5wYWludGVyLmNvbnRleHQ7dGhpcy50ZXh0dXJlPyh0fHx0aGlzLl9wbGF5aW5nKSYmdGhpcy50ZXh0dXJlLnVwZGF0ZSh0aGlzLmNhbnZhcyx7cHJlbXVsdGlwbHk6ITB9KTp0aGlzLnRleHR1cmU9bmV3IGUuVGV4dHVyZShuLHRoaXMuY2FudmFzLG4uZ2wuUkdCQSx7cHJlbXVsdGlwbHk6ITB9KSx0aGlzLl9wcmVwYXJlRGF0YShuKX1zZXJpYWxpemUoKXtyZXR1cm57dHlwZTpcImNhbnZhc1wiLGNvb3JkaW5hdGVzOnRoaXMuY29vcmRpbmF0ZXN9fWhhc1RyYW5zaXRpb24oKXtyZXR1cm4gdGhpcy5fcGxheWluZ31faGFzSW52YWxpZERpbWVuc2lvbnMoKXtmb3IoY29uc3QgZSBvZlt0aGlzLmNhbnZhcy53aWR0aCx0aGlzLmNhbnZhcy5oZWlnaHRdKWlmKGlzTmFOKGUpfHxlPD0wKXJldHVybiEwO3JldHVybiExfX0sY3VzdG9tOmNsYXNzIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQsbixpLHIpe3N1cGVyKCksdGhpcy5pZD10LHRoaXMudHlwZT1cImN1c3RvbVwiLHRoaXMuX2RhdGFUeXBlPVwicmFzdGVyXCIsdGhpcy5fZGlzcGF0Y2hlcj1pLHRoaXMuX2ltcGxlbWVudGF0aW9uPW4sdGhpcy5zZXRFdmVudGVkUGFyZW50KHIpLHRoaXMuc2NoZW1lPVwieHl6XCIsdGhpcy5taW56b29tPTAsdGhpcy5tYXh6b29tPTIyLHRoaXMudGlsZVNpemU9NTEyLHRoaXMuX2xvYWRlZD0hMSx0aGlzLnJvdW5kWm9vbT0hMCx0aGlzLl9pbXBsZW1lbnRhdGlvbnx8dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBNaXNzaW5nIGltcGxlbWVudGF0aW9uIGZvciAke3RoaXMuaWR9IGN1c3RvbSBzb3VyY2VgKSkpLHRoaXMuX2ltcGxlbWVudGF0aW9uLmxvYWRUaWxlfHx0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYE1pc3NpbmcgbG9hZFRpbGUgaW1wbGVtZW50YXRpb24gZm9yICR7dGhpcy5pZH0gY3VzdG9tIHNvdXJjZWApKSksdGhpcy5faW1wbGVtZW50YXRpb24uYm91bmRzJiYodGhpcy50aWxlQm91bmRzPW5ldyBGKHRoaXMuX2ltcGxlbWVudGF0aW9uLmJvdW5kcyx0aGlzLm1pbnpvb20sdGhpcy5tYXh6b29tKSksbi51cGRhdGU9dGhpcy5fdXBkYXRlLmJpbmQodGhpcyksbi5jbGVhclRpbGVzPXRoaXMuX2NsZWFyVGlsZXMuYmluZCh0aGlzKSxuLmNvdmVyaW5nVGlsZXM9dGhpcy5fY292ZXJpbmdUaWxlcy5iaW5kKHRoaXMpLGUuZXh0ZW5kKHRoaXMsZS5waWNrKG4sW1wiZGF0YVR5cGVcIixcInNjaGVtZVwiLFwibWluem9vbVwiLFwibWF4em9vbVwiLFwidGlsZVNpemVcIixcImF0dHJpYnV0aW9uXCIsXCJtaW5UaWxlQ2FjaGVTaXplXCIsXCJtYXhUaWxlQ2FjaGVTaXplXCJdKSl9c2VyaWFsaXplKCl7cmV0dXJuIGUucGljayh0aGlzLFtcInR5cGVcIixcInNjaGVtZVwiLFwibWluem9vbVwiLFwibWF4em9vbVwiLFwidGlsZVNpemVcIixcImF0dHJpYnV0aW9uXCJdKX1sb2FkKCl7dGhpcy5fbG9hZGVkPSEwLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCJ9KSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpfWxvYWRlZCgpe3JldHVybiB0aGlzLl9sb2FkZWR9b25BZGQodCl7dGhpcy5fbWFwPXQsdGhpcy5fbG9hZGVkPSExLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic291cmNlXCJ9KSksdGhpcy5faW1wbGVtZW50YXRpb24ub25BZGQmJnRoaXMuX2ltcGxlbWVudGF0aW9uLm9uQWRkKHQpLHRoaXMubG9hZCgpfW9uUmVtb3ZlKGUpe3RoaXMuX2ltcGxlbWVudGF0aW9uLm9uUmVtb3ZlJiZ0aGlzLl9pbXBsZW1lbnRhdGlvbi5vblJlbW92ZShlKX1oYXNUaWxlKGUpe2lmKHRoaXMuX2ltcGxlbWVudGF0aW9uLmhhc1RpbGUpe2NvbnN0e3g6dCx5Om4sejppfT1lLmNhbm9uaWNhbDtyZXR1cm4gdGhpcy5faW1wbGVtZW50YXRpb24uaGFzVGlsZSh7eDp0LHk6bix6Oml9KX1yZXR1cm4hdGhpcy50aWxlQm91bmRzfHx0aGlzLnRpbGVCb3VuZHMuY29udGFpbnMoZS5jYW5vbmljYWwpfWxvYWRUaWxlKHQsbil7Y29uc3R7eDppLHk6cix6Om99PXQudGlsZUlELmNhbm9uaWNhbCxhPW5ldyBlLndpbmRvdy5BYm9ydENvbnRyb2xsZXI7dC5yZXF1ZXN0PVByb21pc2UucmVzb2x2ZSh0aGlzLl9pbXBsZW1lbnRhdGlvbi5sb2FkVGlsZSh7eDppLHk6cix6Om99LHtzaWduYWw6YS5zaWduYWx9KSkudGhlbihmdW5jdGlvbihpKXtyZXR1cm4gZGVsZXRlIHQucmVxdWVzdCx0LmFib3J0ZWQ/KHQuc3RhdGU9XCJ1bmxvYWRlZFwiLG4obnVsbCkpOnZvaWQgMD09PWk/KHQuc3RhdGU9XCJlcnJvcmVkXCIsbihudWxsKSk6bnVsbD09PWk/KHRoaXMubG9hZFRpbGVEYXRhKHQse3dpZHRoOnRoaXMudGlsZVNpemUsaGVpZ2h0OnRoaXMudGlsZVNpemUsZGF0YTpudWxsfSksdC5zdGF0ZT1cImxvYWRlZFwiLG4obnVsbCkpOmZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZS53aW5kb3cuSW1hZ2VEYXRhfHx0IGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTENhbnZhc0VsZW1lbnR8fHQgaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZUJpdG1hcHx8dCBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxJbWFnZUVsZW1lbnR9KGkpPyh0aGlzLmxvYWRUaWxlRGF0YSh0LGkpLHQuc3RhdGU9XCJsb2FkZWRcIix2b2lkIG4obnVsbCkpOih0LnN0YXRlPVwiZXJyb3JlZFwiLG4obmV3IEVycm9yKGBDYW4ndCBpbmZlciBkYXRhIHR5cGUgZm9yICR7dGhpcy5pZH0sIG9ubHkgcmFzdGVyIGRhdGEgc3VwcG9ydGVkIGF0IHRoZSBtb21lbnRgKSkpfS5iaW5kKHRoaXMpKS5jYXRjaChlPT57MjAhPT1lLmNvZGUmJih0LnN0YXRlPVwiZXJyb3JlZFwiLG4oZSkpfSksdC5yZXF1ZXN0LmNhbmNlbD0oKT0+YS5hYm9ydCgpfWxvYWRUaWxlRGF0YShlLHQpe0llLmxvYWRUaWxlRGF0YShlLHQsdGhpcy5fbWFwLnBhaW50ZXIpfXVubG9hZFRpbGVEYXRhKGUpe0llLnVubG9hZFRpbGVEYXRhKGUsdGhpcy5fbWFwLnBhaW50ZXIpfXVubG9hZFRpbGUoZSx0KXtpZih0aGlzLnVubG9hZFRpbGVEYXRhKGUpLHRoaXMuX2ltcGxlbWVudGF0aW9uLnVubG9hZFRpbGUpe2NvbnN0e3g6dCx5Om4sejppfT1lLnRpbGVJRC5jYW5vbmljYWw7dGhpcy5faW1wbGVtZW50YXRpb24udW5sb2FkVGlsZSh7eDp0LHk6bix6Oml9KX10KCl9YWJvcnRUaWxlKGUsdCl7ZS5yZXF1ZXN0JiZlLnJlcXVlc3QuY2FuY2VsJiYoZS5yZXF1ZXN0LmNhbmNlbCgpLGRlbGV0ZSBlLnJlcXVlc3QpLHQoKX1oYXNUcmFuc2l0aW9uKCl7cmV0dXJuITF9X2NvdmVyaW5nVGlsZXMoKXtyZXR1cm4gdGhpcy5fbWFwLnRyYW5zZm9ybS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTp0aGlzLnRpbGVTaXplLG1pbnpvb206dGhpcy5taW56b29tLG1heHpvb206dGhpcy5tYXh6b29tLHJvdW5kWm9vbTp0aGlzLnJvdW5kWm9vbX0pLm1hcChlPT4oe3g6ZS5jYW5vbmljYWwueCx5OmUuY2Fub25pY2FsLnksejplLmNhbm9uaWNhbC56fSkpfV9jbGVhclRpbGVzKCl7dGhpcy5fbWFwLnN0eWxlLl9jbGVhclNvdXJjZSh0aGlzLmlkKX1fdXBkYXRlKCl7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZURhdGFUeXBlOlwiY29udGVudFwifSkpfX19LHplPWZ1bmN0aW9uKHQsbixpLHIpe2NvbnN0IG89bmV3IFBlW24udHlwZV0odCxuLGkscik7aWYoby5pZCE9PXQpdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBTb3VyY2UgaWQgdG8gYmUgJHt0fSBpbnN0ZWFkIG9mICR7by5pZH1gKTtyZXR1cm4gZS5iaW5kQWxsKFtcImxvYWRcIixcImFib3J0XCIsXCJ1bmxvYWRcIixcInNlcmlhbGl6ZVwiLFwicHJlcGFyZVwiXSxvKSxvfTtmdW5jdGlvbiBEZSh0LG4pe2NvbnN0IGk9ZS5pZGVudGl0eShbXSk7cmV0dXJuIGUuc2NhbGUoaSxpLFsuNSp0LndpZHRoLC41Ki10LmhlaWdodCwxXSksZS50cmFuc2xhdGUoaSxpLFsxLC0xLDBdKSxlLm11bHRpcGx5KGksaSx0LmNhbGN1bGF0ZVByb2pNYXRyaXgobi50b1Vud3JhcHBlZCgpKSksRmxvYXQzMkFycmF5LmZyb20oaSl9ZnVuY3Rpb24gTGUoZSx0LG4saSxyLG8sYSxzPSExKXtjb25zdCBsPWUudGlsZXNJbihpLGEscyk7bC5zb3J0KFJlKTtjb25zdCBjPVtdO2Zvcihjb25zdCBpIG9mIGwpYy5wdXNoKHt3cmFwcGVkVGlsZUlEOmkudGlsZS50aWxlSUQud3JhcHBlZCgpLmtleSxxdWVyeVJlc3VsdHM6aS50aWxlLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyh0LG4sZS5fc3RhdGUsaSxyLG8sRGUoZS50cmFuc2Zvcm0saS50aWxlLnRpbGVJRCkscyl9KTtjb25zdCB1PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e30sbj17fTtmb3IoY29uc3QgaSBvZiBlKXtjb25zdCBlPWkucXVlcnlSZXN1bHRzLHI9aS53cmFwcGVkVGlsZUlELG89bltyXT1uW3JdfHx7fTtmb3IoY29uc3QgbiBpbiBlKXtjb25zdCBpPWVbbl0scj1vW25dPW9bbl18fHt9LGE9dFtuXT10W25dfHxbXTtmb3IoY29uc3QgZSBvZiBpKXJbZS5mZWF0dXJlSW5kZXhdfHwocltlLmZlYXR1cmVJbmRleF09ITAsYS5wdXNoKGUpKX19cmV0dXJuIHR9KGMpO2Zvcihjb25zdCB0IGluIHUpdVt0XS5mb3JFYWNoKHQ9Pntjb25zdCBuPXQuZmVhdHVyZSxpPW4ubGF5ZXI7aSYmXCJiYWNrZ3JvdW5kXCIhPT1pLnR5cGUmJlwic2t5XCIhPT1pLnR5cGUmJihuLnNvdXJjZT1pLnNvdXJjZSxpW1wic291cmNlLWxheWVyXCJdJiYobi5zb3VyY2VMYXllcj1pW1wic291cmNlLWxheWVyXCJdKSxuLnN0YXRlPXZvaWQgMCE9PW4uaWQ/ZS5nZXRGZWF0dXJlU3RhdGUoaVtcInNvdXJjZS1sYXllclwiXSxuLmlkKTp7fSl9KTtyZXR1cm4gdX1mdW5jdGlvbiBPZShlLHQpe2NvbnN0IG49ZS5nZXRSZW5kZXJhYmxlSWRzKCkubWFwKHQ9PmUuZ2V0VGlsZUJ5SUQodCkpLGk9W10scj17fTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyl7Y29uc3Qgbz1uW2VdLGE9by50aWxlSUQuY2Fub25pY2FsLmtleTtyW2FdfHwoclthXT0hMCxvLnF1ZXJ5U291cmNlRmVhdHVyZXMoaSx0KSl9cmV0dXJuIGl9ZnVuY3Rpb24gUmUoZSx0KXtjb25zdCBuPWUudGlsZUlELGk9dC50aWxlSUQ7cmV0dXJuIG4ub3ZlcnNjYWxlZFotaS5vdmVyc2NhbGVkWnx8bi5jYW5vbmljYWwueS1pLmNhbm9uaWNhbC55fHxuLndyYXAtaS53cmFwfHxuLmNhbm9uaWNhbC54LWkuY2Fub25pY2FsLnh9ZnVuY3Rpb24gQmUoKXtyZXR1cm4gbnVsbCE9Zm8ud29ya2VyQ2xhc3M/bmV3IGZvLndvcmtlckNsYXNzOm5ldyBlLndpbmRvdy5Xb3JrZXIoZm8ud29ya2VyVXJsKX1jb25zdCBqZT1cIm1hcGJveGdsX3ByZWxvYWRlZF93b3JrZXJfcG9vbFwiO2NsYXNzIEZle2NvbnN0cnVjdG9yKCl7dGhpcy5hY3RpdmU9e319YWNxdWlyZShlKXtpZighdGhpcy53b3JrZXJzKWZvcih0aGlzLndvcmtlcnM9W107dGhpcy53b3JrZXJzLmxlbmd0aDxGZS53b3JrZXJDb3VudDspdGhpcy53b3JrZXJzLnB1c2gobmV3IEJlKTtyZXR1cm4gdGhpcy5hY3RpdmVbZV09ITAsdGhpcy53b3JrZXJzLnNsaWNlKCl9cmVsZWFzZShlKXtkZWxldGUgdGhpcy5hY3RpdmVbZV0sMD09PXRoaXMubnVtQWN0aXZlKCkmJih0aGlzLndvcmtlcnMuZm9yRWFjaChlPT57ZS50ZXJtaW5hdGUoKX0pLHRoaXMud29ya2Vycz1udWxsKX1pc1ByZWxvYWRlZCgpe3JldHVybiEhdGhpcy5hY3RpdmVbamVdfW51bUFjdGl2ZSgpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmFjdGl2ZSkubGVuZ3RofX1sZXQgTmU7ZnVuY3Rpb24gVWUoKXtyZXR1cm4gTmV8fChOZT1uZXcgRmUpLE5lfWZ1bmN0aW9uIFZlKHQsbil7Y29uc3QgaT17fTtmb3IoY29uc3QgZSBpbiB0KVwicmVmXCIhPT1lJiYoaVtlXT10W2VdKTtyZXR1cm4gZS5yZWZQcm9wZXJ0aWVzLmZvckVhY2goZT0+e2UgaW4gbiYmKGlbZV09bltlXSl9KSxpfWZ1bmN0aW9uIEdlKGUpe2U9ZS5zbGljZSgpO2NvbnN0IHQ9T2JqZWN0LmNyZWF0ZShudWxsKTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl0W2Vbbl0uaWRdPWVbbl07Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspXCJyZWZcImluIGVbbl0mJihlW25dPVZlKGVbbl0sdFtlW25dLnJlZl0pKTtyZXR1cm4gZX1GZS53b3JrZXJDb3VudD0yO2NvbnN0IFplPXtzZXRTdHlsZTpcInNldFN0eWxlXCIsYWRkTGF5ZXI6XCJhZGRMYXllclwiLHJlbW92ZUxheWVyOlwicmVtb3ZlTGF5ZXJcIixzZXRQYWludFByb3BlcnR5Olwic2V0UGFpbnRQcm9wZXJ0eVwiLHNldExheW91dFByb3BlcnR5Olwic2V0TGF5b3V0UHJvcGVydHlcIixzZXRGaWx0ZXI6XCJzZXRGaWx0ZXJcIixhZGRTb3VyY2U6XCJhZGRTb3VyY2VcIixyZW1vdmVTb3VyY2U6XCJyZW1vdmVTb3VyY2VcIixzZXRHZW9KU09OU291cmNlRGF0YTpcInNldEdlb0pTT05Tb3VyY2VEYXRhXCIsc2V0TGF5ZXJab29tUmFuZ2U6XCJzZXRMYXllclpvb21SYW5nZVwiLHNldExheWVyUHJvcGVydHk6XCJzZXRMYXllclByb3BlcnR5XCIsc2V0Q2VudGVyOlwic2V0Q2VudGVyXCIsc2V0Wm9vbTpcInNldFpvb21cIixzZXRCZWFyaW5nOlwic2V0QmVhcmluZ1wiLHNldFBpdGNoOlwic2V0UGl0Y2hcIixzZXRTcHJpdGU6XCJzZXRTcHJpdGVcIixzZXRHbHlwaHM6XCJzZXRHbHlwaHNcIixzZXRUcmFuc2l0aW9uOlwic2V0VHJhbnNpdGlvblwiLHNldExpZ2h0Olwic2V0TGlnaHRcIixzZXRUZXJyYWluOlwic2V0VGVycmFpblwiLHNldEZvZzpcInNldEZvZ1wiLHNldFByb2plY3Rpb246XCJzZXRQcm9qZWN0aW9uXCJ9O2Z1bmN0aW9uIFdlKGUsdCxuKXtuLnB1c2goe2NvbW1hbmQ6WmUuYWRkU291cmNlLGFyZ3M6W2UsdFtlXV19KX1mdW5jdGlvbiBxZShlLHQsbil7dC5wdXNoKHtjb21tYW5kOlplLnJlbW92ZVNvdXJjZSxhcmdzOltlXX0pLG5bZV09ITB9ZnVuY3Rpb24gJGUoZSx0LG4saSl7cWUoZSxuLGkpLFdlKGUsdCxuKX1mdW5jdGlvbiBIZShlLG4saSl7bGV0IHI7Zm9yKHIgaW4gZVtpXSlpZihlW2ldLmhhc093blByb3BlcnR5KHIpJiZcImRhdGFcIiE9PXImJiF0KGVbaV1bcl0sbltpXVtyXSkpcmV0dXJuITE7Zm9yKHIgaW4gbltpXSlpZihuW2ldLmhhc093blByb3BlcnR5KHIpJiZcImRhdGFcIiE9PXImJiF0KGVbaV1bcl0sbltpXVtyXSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gWGUoZSxuLGkscixvLGEpe2xldCBzO2ZvcihzIGluIG49bnx8e30sZT1lfHx7fSllLmhhc093blByb3BlcnR5KHMpJiYodChlW3NdLG5bc10pfHxpLnB1c2goe2NvbW1hbmQ6YSxhcmdzOltyLHMsbltzXSxvXX0pKTtmb3IocyBpbiBuKW4uaGFzT3duUHJvcGVydHkocykmJiFlLmhhc093blByb3BlcnR5KHMpJiYodChlW3NdLG5bc10pfHxpLnB1c2goe2NvbW1hbmQ6YSxhcmdzOltyLHMsbltzXSxvXX0pKX1mdW5jdGlvbiBZZShlKXtyZXR1cm4gZS5pZH1mdW5jdGlvbiBKZShlLHQpe3JldHVybiBlW3QuaWRdPXQsZX1jbGFzcyBRZXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucmVzZXQoZSx0KX1yZXNldChlLHQpe3RoaXMucG9pbnRzPWV8fFtdLHRoaXMuX2Rpc3RhbmNlcz1bMF07Zm9yKGxldCBlPTE7ZTx0aGlzLnBvaW50cy5sZW5ndGg7ZSsrKXRoaXMuX2Rpc3RhbmNlc1tlXT10aGlzLl9kaXN0YW5jZXNbZS0xXSt0aGlzLnBvaW50c1tlXS5kaXN0KHRoaXMucG9pbnRzW2UtMV0pO3RoaXMubGVuZ3RoPXRoaXMuX2Rpc3RhbmNlc1t0aGlzLl9kaXN0YW5jZXMubGVuZ3RoLTFdLHRoaXMucGFkZGluZz1NYXRoLm1pbih0fHwwLC41KnRoaXMubGVuZ3RoKSx0aGlzLnBhZGRlZExlbmd0aD10aGlzLmxlbmd0aC0yKnRoaXMucGFkZGluZ31sZXJwKHQpe2lmKDE9PT10aGlzLnBvaW50cy5sZW5ndGgpcmV0dXJuIHRoaXMucG9pbnRzWzBdO3Q9ZS5jbGFtcCh0LDAsMSk7bGV0IG49MSxpPXRoaXMuX2Rpc3RhbmNlc1tuXTtjb25zdCByPXQqdGhpcy5wYWRkZWRMZW5ndGgrdGhpcy5wYWRkaW5nO2Zvcig7aTxyJiZuPHRoaXMuX2Rpc3RhbmNlcy5sZW5ndGg7KWk9dGhpcy5fZGlzdGFuY2VzWysrbl07Y29uc3Qgbz1uLTEsYT10aGlzLl9kaXN0YW5jZXNbb10scz1pLWEsbD1zPjA/KHItYSkvczowO3JldHVybiB0aGlzLnBvaW50c1tvXS5tdWx0KDEtbCkuYWRkKHRoaXMucG9pbnRzW25dLm11bHQobCkpfX1jbGFzcyBLZXtjb25zdHJ1Y3RvcihlLHQsbil7Y29uc3QgaT10aGlzLmJveENlbGxzPVtdLHI9dGhpcy5jaXJjbGVDZWxscz1bXTt0aGlzLnhDZWxsQ291bnQ9TWF0aC5jZWlsKGUvbiksdGhpcy55Q2VsbENvdW50PU1hdGguY2VpbCh0L24pO2ZvcihsZXQgZT0wO2U8dGhpcy54Q2VsbENvdW50KnRoaXMueUNlbGxDb3VudDtlKyspaS5wdXNoKFtdKSxyLnB1c2goW10pO3RoaXMuY2lyY2xlS2V5cz1bXSx0aGlzLmJveEtleXM9W10sdGhpcy5iYm94ZXM9W10sdGhpcy5jaXJjbGVzPVtdLHRoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10LHRoaXMueFNjYWxlPXRoaXMueENlbGxDb3VudC9lLHRoaXMueVNjYWxlPXRoaXMueUNlbGxDb3VudC90LHRoaXMuYm94VWlkPTAsdGhpcy5jaXJjbGVVaWQ9MH1rZXlzTGVuZ3RoKCl7cmV0dXJuIHRoaXMuYm94S2V5cy5sZW5ndGgrdGhpcy5jaXJjbGVLZXlzLmxlbmd0aH1pbnNlcnQoZSx0LG4saSxyKXt0aGlzLl9mb3JFYWNoQ2VsbCh0LG4saSxyLHRoaXMuX2luc2VydEJveENlbGwsdGhpcy5ib3hVaWQrKyksdGhpcy5ib3hLZXlzLnB1c2goZSksdGhpcy5iYm94ZXMucHVzaCh0KSx0aGlzLmJib3hlcy5wdXNoKG4pLHRoaXMuYmJveGVzLnB1c2goaSksdGhpcy5iYm94ZXMucHVzaChyKX1pbnNlcnRDaXJjbGUoZSx0LG4saSl7dGhpcy5fZm9yRWFjaENlbGwodC1pLG4taSx0K2ksbitpLHRoaXMuX2luc2VydENpcmNsZUNlbGwsdGhpcy5jaXJjbGVVaWQrKyksdGhpcy5jaXJjbGVLZXlzLnB1c2goZSksdGhpcy5jaXJjbGVzLnB1c2godCksdGhpcy5jaXJjbGVzLnB1c2gobiksdGhpcy5jaXJjbGVzLnB1c2goaSl9X2luc2VydEJveENlbGwoZSx0LG4saSxyLG8pe3RoaXMuYm94Q2VsbHNbcl0ucHVzaChvKX1faW5zZXJ0Q2lyY2xlQ2VsbChlLHQsbixpLHIsbyl7dGhpcy5jaXJjbGVDZWxsc1tyXS5wdXNoKG8pfV9xdWVyeShlLHQsbixpLHIsbyl7aWYobjwwfHxlPnRoaXMud2lkdGh8fGk8MHx8dD50aGlzLmhlaWdodClyZXR1cm4hciYmW107Y29uc3QgYT1bXTtpZihlPD0wJiZ0PD0wJiZ0aGlzLndpZHRoPD1uJiZ0aGlzLmhlaWdodDw9aSl7aWYocilyZXR1cm4hMDtmb3IobGV0IGU9MDtlPHRoaXMuYm94S2V5cy5sZW5ndGg7ZSsrKWEucHVzaCh7a2V5OnRoaXMuYm94S2V5c1tlXSx4MTp0aGlzLmJib3hlc1s0KmVdLHkxOnRoaXMuYmJveGVzWzQqZSsxXSx4Mjp0aGlzLmJib3hlc1s0KmUrMl0seTI6dGhpcy5iYm94ZXNbNCplKzNdfSk7Zm9yKGxldCBlPTA7ZTx0aGlzLmNpcmNsZUtleXMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLmNpcmNsZXNbMyplXSxuPXRoaXMuY2lyY2xlc1szKmUrMV0saT10aGlzLmNpcmNsZXNbMyplKzJdO2EucHVzaCh7a2V5OnRoaXMuY2lyY2xlS2V5c1tlXSx4MTp0LWkseTE6bi1pLHgyOnQraSx5MjpuK2l9KX1yZXR1cm4gbz9hLmZpbHRlcihvKTphfXJldHVybiB0aGlzLl9mb3JFYWNoQ2VsbChlLHQsbixpLHRoaXMuX3F1ZXJ5Q2VsbCxhLHtoaXRUZXN0OnIsc2VlblVpZHM6e2JveDp7fSxjaXJjbGU6e319fSxvKSxyP2EubGVuZ3RoPjA6YX1fcXVlcnlDaXJjbGUoZSx0LG4saSxyKXtjb25zdCBvPWUtbixhPWUrbixzPXQtbixsPXQrbjtpZihhPDB8fG8+dGhpcy53aWR0aHx8bDwwfHxzPnRoaXMuaGVpZ2h0KXJldHVybiFpJiZbXTtjb25zdCBjPVtdO3JldHVybiB0aGlzLl9mb3JFYWNoQ2VsbChvLHMsYSxsLHRoaXMuX3F1ZXJ5Q2VsbENpcmNsZSxjLHtoaXRUZXN0OmksY2lyY2xlOnt4OmUseTp0LHJhZGl1czpufSxzZWVuVWlkczp7Ym94Ont9LGNpcmNsZTp7fX19LHIpLGk/Yy5sZW5ndGg+MDpjfXF1ZXJ5KGUsdCxuLGkscil7cmV0dXJuIHRoaXMuX3F1ZXJ5KGUsdCxuLGksITEscil9aGl0VGVzdChlLHQsbixpLHIpe3JldHVybiB0aGlzLl9xdWVyeShlLHQsbixpLCEwLHIpfWhpdFRlc3RDaXJjbGUoZSx0LG4saSl7cmV0dXJuIHRoaXMuX3F1ZXJ5Q2lyY2xlKGUsdCxuLCEwLGkpfV9xdWVyeUNlbGwoZSx0LG4saSxyLG8sYSxzKXtjb25zdCBsPWEuc2VlblVpZHMsYz10aGlzLmJveENlbGxzW3JdO2lmKG51bGwhPT1jKXtjb25zdCByPXRoaXMuYmJveGVzO2Zvcihjb25zdCB1IG9mIGMpaWYoIWwuYm94W3VdKXtsLmJveFt1XT0hMDtjb25zdCBjPTQqdTtpZihlPD1yW2MrMl0mJnQ8PXJbYyszXSYmbj49cltjKzBdJiZpPj1yW2MrMV0mJighc3x8cyh0aGlzLmJveEtleXNbdV0pKSl7aWYoYS5oaXRUZXN0KXJldHVybiBvLnB1c2goITApLCEwO28ucHVzaCh7a2V5OnRoaXMuYm94S2V5c1t1XSx4MTpyW2NdLHkxOnJbYysxXSx4MjpyW2MrMl0seTI6cltjKzNdfSl9fX1jb25zdCB1PXRoaXMuY2lyY2xlQ2VsbHNbcl07aWYobnVsbCE9PXUpe2NvbnN0IHI9dGhpcy5jaXJjbGVzO2Zvcihjb25zdCBjIG9mIHUpaWYoIWwuY2lyY2xlW2NdKXtsLmNpcmNsZVtjXT0hMDtjb25zdCB1PTMqYztpZih0aGlzLl9jaXJjbGVBbmRSZWN0Q29sbGlkZShyW3VdLHJbdSsxXSxyW3UrMl0sZSx0LG4saSkmJighc3x8cyh0aGlzLmNpcmNsZUtleXNbY10pKSl7aWYoYS5oaXRUZXN0KXJldHVybiBvLnB1c2goITApLCEwO3tjb25zdCBlPXJbdV0sdD1yW3UrMV0sbj1yW3UrMl07by5wdXNoKHtrZXk6dGhpcy5jaXJjbGVLZXlzW2NdLHgxOmUtbix5MTp0LW4seDI6ZStuLHkyOnQrbn0pfX19fX1fcXVlcnlDZWxsQ2lyY2xlKGUsdCxuLGkscixvLGEscyl7Y29uc3QgbD1hLmNpcmNsZSxjPWEuc2VlblVpZHMsdT10aGlzLmJveENlbGxzW3JdO2lmKG51bGwhPT11KXtjb25zdCBlPXRoaXMuYmJveGVzO2Zvcihjb25zdCB0IG9mIHUpaWYoIWMuYm94W3RdKXtjLmJveFt0XT0hMDtjb25zdCBuPTQqdDtpZih0aGlzLl9jaXJjbGVBbmRSZWN0Q29sbGlkZShsLngsbC55LGwucmFkaXVzLGVbbiswXSxlW24rMV0sZVtuKzJdLGVbbiszXSkmJighc3x8cyh0aGlzLmJveEtleXNbdF0pKSlyZXR1cm4gby5wdXNoKCEwKSwhMH19Y29uc3QgaD10aGlzLmNpcmNsZUNlbGxzW3JdO2lmKG51bGwhPT1oKXtjb25zdCBlPXRoaXMuY2lyY2xlcztmb3IoY29uc3QgdCBvZiBoKWlmKCFjLmNpcmNsZVt0XSl7Yy5jaXJjbGVbdF09ITA7Y29uc3Qgbj0zKnQ7aWYodGhpcy5fY2lyY2xlc0NvbGxpZGUoZVtuXSxlW24rMV0sZVtuKzJdLGwueCxsLnksbC5yYWRpdXMpJiYoIXN8fHModGhpcy5jaXJjbGVLZXlzW3RdKSkpcmV0dXJuIG8ucHVzaCghMCksITB9fX1fZm9yRWFjaENlbGwoZSx0LG4saSxyLG8sYSxzKXtjb25zdCBsPXRoaXMuX2NvbnZlcnRUb1hDZWxsQ29vcmQoZSksYz10aGlzLl9jb252ZXJ0VG9ZQ2VsbENvb3JkKHQpLHU9dGhpcy5fY29udmVydFRvWENlbGxDb29yZChuKSxoPXRoaXMuX2NvbnZlcnRUb1lDZWxsQ29vcmQoaSk7Zm9yKGxldCBkPWw7ZDw9dTtkKyspZm9yKGxldCBsPWM7bDw9aDtsKyspaWYoci5jYWxsKHRoaXMsZSx0LG4saSx0aGlzLnhDZWxsQ291bnQqbCtkLG8sYSxzKSlyZXR1cm59X2NvbnZlcnRUb1hDZWxsQ29vcmQoZSl7cmV0dXJuIE1hdGgubWF4KDAsTWF0aC5taW4odGhpcy54Q2VsbENvdW50LTEsTWF0aC5mbG9vcihlKnRoaXMueFNjYWxlKSkpfV9jb252ZXJ0VG9ZQ2VsbENvb3JkKGUpe3JldHVybiBNYXRoLm1heCgwLE1hdGgubWluKHRoaXMueUNlbGxDb3VudC0xLE1hdGguZmxvb3IoZSp0aGlzLnlTY2FsZSkpKX1fY2lyY2xlc0NvbGxpZGUoZSx0LG4saSxyLG8pe2NvbnN0IGE9aS1lLHM9ci10LGw9bitvO3JldHVybiBsKmw+YSphK3Mqc31fY2lyY2xlQW5kUmVjdENvbGxpZGUoZSx0LG4saSxyLG8sYSl7Y29uc3Qgcz0oby1pKS8yLGw9TWF0aC5hYnMoZS0oaStzKSk7aWYobD5zK24pcmV0dXJuITE7Y29uc3QgYz0oYS1yKS8yLHU9TWF0aC5hYnModC0ocitjKSk7aWYodT5jK24pcmV0dXJuITE7aWYobDw9c3x8dTw9YylyZXR1cm4hMDtjb25zdCBoPWwtcyxkPXUtYztyZXR1cm4gaCpoK2QqZDw9bipufX1jb25zdCBldD1NYXRoLnRhbig4NSpNYXRoLlBJLzE4MCk7ZnVuY3Rpb24gdHQodCxuLGkscixvLGEscyl7Y29uc3QgbD1lLmNyZWF0ZSgpO2lmKGkpaWYoXCJnbG9iZVwiPT09YS5uYW1lKXtjb25zdCB0PWUuY2FsY3VsYXRlR2xvYmVMYWJlbE1hdHJpeChvLG4pO2UubXVsdGlwbHkobCxsLHQpfWVsc2V7Y29uc3QgdD1fKFtdLHMpO2xbMF09dFswXSxsWzFdPXRbMV0sbFs0XT10WzJdLGxbNV09dFszXSxyfHxlLnJvdGF0ZVoobCxsLG8uYW5nbGUpfWVsc2UgZS5tdWx0aXBseShsLG8ubGFiZWxQbGFuZU1hdHJpeCx0KTtyZXR1cm4gbH1mdW5jdGlvbiBudChlLHQsbixpLHIsbyxhKXtjb25zdCBzPXR0KGUsdCxuLGkscixvLGEpO3JldHVyblwiZ2xvYmVcIj09PW8ubmFtZSYmbnx8KHNbMl09c1s2XT1zWzEwXT1zWzE0XT0wKSxzfWZ1bmN0aW9uIGl0KHQsbixpLHIsbyxhLHMpe2lmKGkpe2lmKFwiZ2xvYmVcIj09PWEubmFtZSl7Y29uc3QgbD10dCh0LG4saSxyLG8sYSxzKTtyZXR1cm4gZS5pbnZlcnQobCxsKSxlLm11bHRpcGx5KGwsdCxsKSxsfXtjb25zdCBuPWUuY2xvbmUodCksaT1lLmlkZW50aXR5KFtdKTtyZXR1cm4gaVswXT1zWzBdLGlbMV09c1sxXSxpWzRdPXNbMl0saVs1XT1zWzNdLGUubXVsdGlwbHkobixuLGkpLHJ8fGUucm90YXRlWihuLG4sLW8uYW5nbGUpLG59fXJldHVybiBvLmdsQ29vcmRNYXRyaXh9ZnVuY3Rpb24gcnQodCxuLGkscil7Y29uc3Qgbz1bdCxuLGksMV07aT9lLnRyYW5zZm9ybU1hdDQkMShvLG8scik6bXQobyxvLHIpO2NvbnN0IGE9b1szXTtyZXR1cm4gb1swXS89YSxvWzFdLz1hLG9bMl0vPWEsb31mdW5jdGlvbiBvdChlLHQpe3JldHVybiBNYXRoLm1pbiguNStlL3QqLjUsMS41KX1mdW5jdGlvbiBhdChlLHQpe2NvbnN0IG49ZVswXS9lWzNdLGk9ZVsxXS9lWzNdO3JldHVybiBuPj0tdFswXSYmbjw9dFswXSYmaT49LXRbMV0mJmk8PXRbMV19ZnVuY3Rpb24gc3QodCxuLGkscixvLGEscyxsLGMsdSl7Y29uc3QgaD1pLnRyYW5zZm9ybSxkPXI/dC50ZXh0U2l6ZURhdGE6dC5pY29uU2l6ZURhdGEscD1lLmV2YWx1YXRlU2l6ZUZvclpvb20oZCxpLnRyYW5zZm9ybS56b29tKSxmPVwiZ2xvYmVcIj09PWgucHJvamVjdGlvbi5uYW1lLG09WzI1Ni9pLndpZHRoKjIrMSwyNTYvaS5oZWlnaHQqMisxXSxnPXI/dC50ZXh0LmR5bmFtaWNMYXlvdXRWZXJ0ZXhBcnJheTp0Lmljb24uZHluYW1pY0xheW91dFZlcnRleEFycmF5O2cuY2xlYXIoKTtsZXQgeT1udWxsO2YmJih5PXI/dC50ZXh0Lmdsb2JlRXh0VmVydGV4QXJyYXk6dC5pY29uLmdsb2JlRXh0VmVydGV4QXJyYXkpO2NvbnN0IF89dC5saW5lVmVydGV4QXJyYXksdj1yP3QudGV4dC5wbGFjZWRTeW1ib2xBcnJheTp0Lmljb24ucGxhY2VkU3ltYm9sQXJyYXkseD1pLnRyYW5zZm9ybS53aWR0aC9pLnRyYW5zZm9ybS5oZWlnaHQ7bGV0IGIsdz0hMTtmb3IobGV0IHI9MDtyPHYubGVuZ3RoO3IrKyl7Y29uc3QgZj12LmdldChyKSx7bnVtR2x5cGhzOlQsd3JpdGluZ01vZGU6RX09ZjtpZihFIT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbHx8d3x8Yj09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbHx8KHc9ITApLGI9RSwoZi5oaWRkZW58fEU9PT1lLldyaXRpbmdNb2RlLnZlcnRpY2FsKSYmIXcpe2Z0KFQsZyk7Y29udGludWV9dz0hMTtjb25zdCBTPW5ldyBlLnBvaW50R2VvbWV0cnkoZi50aWxlQW5jaG9yWCxmLnRpbGVBbmNob3JZKTtsZXR7eDpNLHk6SSx6OkN9PWgucHJvamVjdGlvbi5wcm9qZWN0VGlsZVBvaW50KFMueCxTLnksdS5jYW5vbmljYWwpO2lmKGMpe2NvbnN0W2UsdCxuXT1jKFMpO00rPWUsSSs9dCxDKz1ufWNvbnN0IGs9W00sSSxDLDFdO2lmKGUudHJhbnNmb3JtTWF0NCQxKGssayxuKSwhYXQoayxtKSl7ZnQoVCxnKTtjb250aW51ZX1jb25zdCBBPW90KGkudHJhbnNmb3JtLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2Usa1szXSksUD1lLmV2YWx1YXRlU2l6ZUZvckZlYXR1cmUoZCxwLGYpLHo9cz9QL0E6UCpBLEQ9cnQoTSxJLEMsbyk7aWYoRFszXTw9MCl7ZnQoVCxnKTtjb250aW51ZX1sZXQgTD17fTtjb25zdCBPPXM/bnVsbDpjLFI9dXQoZix6LCExLGwsbixvLGEsdC5nbHlwaE9mZnNldEFycmF5LF8sZyx5LEQsUyxMLHgsTyxoLnByb2plY3Rpb24sdSxzKTt3PVIudXNlVmVydGljYWwsTyYmUi5uZWVkc0ZsaXBwaW5nJiYoTD17fSksKFIubm90RW5vdWdoUm9vbXx8d3x8Ui5uZWVkc0ZsaXBwaW5nJiZ1dChmLHosITAsbCxuLG8sYSx0LmdseXBoT2Zmc2V0QXJyYXksXyxnLHksRCxTLEwseCxPLGgucHJvamVjdGlvbix1LHMpLm5vdEVub3VnaFJvb20pJiZmdChULGcpfXI/KHQudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoZykseSYmdC50ZXh0Lmdsb2JlRXh0VmVydGV4QnVmZmVyLnVwZGF0ZURhdGEoeSkpOih0Lmljb24uZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKGcpLHkmJnQuaWNvbi5nbG9iZUV4dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHkpKX1mdW5jdGlvbiBsdChlLHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkLHAsZixtKXtjb25zdHtsaW5lU3RhcnRJbmRleDpnLGdseXBoU3RhcnRJbmRleDp5LHNlZ21lbnQ6X309cyx2PXkrcy5udW1HbHlwaHMseD1nK3MubGluZUxlbmd0aCxiPXQuZ2V0b2Zmc2V0WCh5KSx3PXQuZ2V0b2Zmc2V0WCh2LTEpLFQ9cHQoZSpiLG4saSxyLG8sYSxfLGcseCxsLGMsdSxoLGQsITAscCxmLG0pO2lmKCFUKXJldHVybiBudWxsO2NvbnN0IEU9cHQoZSp3LG4saSxyLG8sYSxfLGcseCxsLGMsdSxoLGQsITAscCxmLG0pO3JldHVybiBFP3tmaXJzdDpULGxhc3Q6RX06bnVsbH1mdW5jdGlvbiBjdCh0LG4saSxyKXtyZXR1cm4gdD09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbCYmTWF0aC5hYnMocik+TWF0aC5hYnMoaSk/e3VzZVZlcnRpY2FsOiEwfTp0PT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbD9yPjA/e25lZWRzRmxpcHBpbmc6ITB9Om51bGw6MCE9PW4mJmZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT1lfHxNYXRoLmFicyh0L2UpPmV0fShpLHIpPzE9PT1uP3tuZWVkc0ZsaXBwaW5nOiEwfTpudWxsOmk8MD97bmVlZHNGbGlwcGluZzohMH06bnVsbH1mdW5jdGlvbiB1dCh0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnLHksXyx2KXtjb25zdCB4PW4vMjQsYj10LmxpbmVPZmZzZXRYKngsdz10LmxpbmVPZmZzZXRZKngse2xpbmVTdGFydEluZGV4OlQsZ2x5cGhTdGFydEluZGV4OkUsbnVtR2x5cGhzOlMsc2VnbWVudDpNLHdyaXRpbmdNb2RlOkksZmxpcFN0YXRlOkN9PXQsaz1UK3QubGluZUxlbmd0aCxBPXQ9PntpZihoKXtjb25zdFtuLGkscl09dC51cCxvPXUubGVuZ3RoO2UudXBkYXRlR2xvYmVWZXJ0ZXhOb3JtYWwoaCxvKzAsbixpLHIpLGUudXBkYXRlR2xvYmVWZXJ0ZXhOb3JtYWwoaCxvKzEsbixpLHIpLGUudXBkYXRlR2xvYmVWZXJ0ZXhOb3JtYWwoaCxvKzIsbixpLHIpLGUudXBkYXRlR2xvYmVWZXJ0ZXhOb3JtYWwoaCxvKzMsbixpLHIpfWNvbnN0W24saSxyXT10LnBvaW50O2UuYWRkRHluYW1pY0F0dHJpYnV0ZXModSxuLGkscix0LmFuZ2xlKX07aWYoUz4xKXtjb25zdCBlPWx0KHgsbCxiLHcsaSxkLHAsdCxjLGEsZixnLCExLHksXyx2KTtpZighZSlyZXR1cm57bm90RW5vdWdoUm9vbTohMH07aWYociYmIWkpe2xldFtuLGkscl09ZS5maXJzdC5wb2ludCxbbyxhLGxdPWUubGFzdC5wb2ludDtbbixpXT1ydChuLGkscixzKSxbbyxhXT1ydChvLGEsbCxzKTtjb25zdCBjPWN0KEksQywoby1uKSptLGEtaSk7aWYodC5mbGlwU3RhdGU9YyYmYy5uZWVkc0ZsaXBwaW5nPzE6MixjKXJldHVybiBjfUEoZS5maXJzdCk7Zm9yKGxldCBlPUUrMTtlPEUrUy0xO2UrKyl7Y29uc3QgdD1wdCh4KmwuZ2V0b2Zmc2V0WChlKSxiLHcsaSxkLHAsTSxULGssYyxhLGYsZywhMSwhMSx5LF8sdik7aWYoIXQpcmV0dXJuIHUubGVuZ3RoLT00KihlLUUpLHtub3RFbm91Z2hSb29tOiEwfTtBKHQpfUEoZS5sYXN0KX1lbHNle2lmKHImJiFpKXtjb25zdCBuPXJ0KHAueCxwLnksMCxvKSxpPVQrTSsxLHI9bmV3IGUucG9pbnRHZW9tZXRyeShjLmdldHgoaSksYy5nZXR5KGkpKSxhPXJ0KHIueCxyLnksMCxvKSxzPWFbM10+MD9hOmR0KHAscixuLDEsbyx2b2lkIDAseSxfLmNhbm9uaWNhbCksbD1jdChJLEMsKHNbMF0tblswXSkqbSxzWzFdLW5bMV0pO2lmKHQuZmxpcFN0YXRlPWwmJmwubmVlZHNGbGlwcGluZz8xOjIsbClyZXR1cm4gbH1jb25zdCBuPXB0KHgqbC5nZXRvZmZzZXRYKEUpLGIsdyxpLGQscCxNLFQsayxjLGEsZixnLCExLCExLHksXyx2KTtpZighbilyZXR1cm57bm90RW5vdWdoUm9vbTohMH07QShuKX1yZXR1cm57fX1mdW5jdGlvbiBodChlLHQsbixpLHIpe2NvbnN0e3g6byx5OmEsejpzfT1pLnByb2plY3RUaWxlUG9pbnQoZS54LGUueSx0KTtpZighcilyZXR1cm4gcnQobyxhLHMsbik7Y29uc3RbbCxjLHVdPXIoZSk7cmV0dXJuIHJ0KG8rbCxhK2Mscyt1LG4pfWZ1bmN0aW9uIGR0KHQsbixpLHIsbyxhLHMsbCl7Y29uc3QgYz1odCh0LnN1YihuKS5fdW5pdCgpLl9hZGQodCksbCxvLHMsYSk7cmV0dXJuIGUuc3ViKGMsaSxjKSxlLm5vcm1hbGl6ZShjLGMpLGUuc2NhbGVBbmRBZGQoYyxpLGMscil9ZnVuY3Rpb24gcHQodCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmLG0sZyx5LF8pe2NvbnN0IHY9cj90LW46dCtuO2xldCB4PXY+MD8xOi0xLGI9MDtyJiYoeCo9LTEsYj1NYXRoLlBJKSx4PDAmJihiKz1NYXRoLlBJKTtsZXQgdz1sK3MrKHg+MD8wOjEpfDAsVD1vLEU9byxTPTAsTT0wO2NvbnN0IEk9TWF0aC5hYnModiksQz1bXSxrPVtdO2xldCBBPWEsUD1BO2NvbnN0IHo9KCk9PmR0KFAsQSxFLEktUysxLGgscCxnLHkuY2Fub25pY2FsKTtmb3IoO1MrTTw9STspe2lmKHcrPXgsdzxsfHx3Pj1jKXJldHVybiBudWxsO2lmKEU9VCxQPUEsQy5wdXNoKEUpLGYmJmsucHVzaChQKSxBPW5ldyBlLnBvaW50R2VvbWV0cnkodS5nZXR4KHcpLHUuZ2V0eSh3KSksVD1kW3ddLCFUKXtjb25zdCBlPWh0KEEseS5jYW5vbmljYWwsaCxnLHApO1Q9ZVszXT4wP2Rbd109ZTp6KCl9Uys9TSxNPWUuZGlzdGFuY2UoRSxUKX1tJiZwJiYoZFt3XSYmKFQ9eigpLE09ZS5kaXN0YW5jZShFLFQpKSxkW3ddPVQpO2NvbnN0IEQ9KEktUykvTSxMPUEuc3ViKFApLl9tdWx0KEQpLl9hZGQoUCksTz1lLnN1YihbXSxULEUpLFI9ZS5zY2FsZUFuZEFkZChbXSxFLE8sRCk7bGV0IEI9WzAsMCwxXSxqPU9bMF0sRj1PWzFdO2lmKF8mJihCPWcudXBWZWN0b3IoeS5jYW5vbmljYWwsTC54LEwueSksMCE9PUJbMF18fDAhPT1CWzFdfHwxIT09QlsyXSkpe2NvbnN0IHQ9W0JbMl0sMCwtQlswXV0sbj1lLmNyb3NzKFtdLEIsdCk7ZS5ub3JtYWxpemUodCx0KSxlLm5vcm1hbGl6ZShuLG4pLGo9ZS5kb3QoTyx0KSxGPWUuZG90KE8sbil9aWYoaSl7Y29uc3QgdD1lLmNyb3NzKFtdLEIsTyk7ZS5ub3JtYWxpemUodCx0KSxlLnNjYWxlQW5kQWRkKFIsUix0LGkqeCl9Y29uc3QgTj1iK01hdGguYXRhbjIoRixqKTtyZXR1cm4gQy5wdXNoKFIpLGYmJmsucHVzaChMKSx7cG9pbnQ6UixhbmdsZTpOLHBhdGg6Qyx0aWxlUGF0aDprLHVwOkJ9fWZ1bmN0aW9uIGZ0KGUsdCl7Y29uc3Qgbj10Lmxlbmd0aCxpPW4rNCplO3QucmVzaXplKGkpLHQuZmxvYXQzMi5maWxsKC0xLzAsNCpuLDQqaSl9ZnVuY3Rpb24gbXQoZSx0LG4pe2NvbnN0IGk9dFswXSxyPXRbMV07cmV0dXJuIGVbMF09blswXSppK25bNF0qcituWzEyXSxlWzFdPW5bMV0qaStuWzVdKnIrblsxM10sZVszXT1uWzNdKmkrbls3XSpyK25bMTVdLGV9Y29uc3QgZ3Q9MTAwO2NsYXNzIHl0e2NvbnN0cnVjdG9yKGUsdCxuPW5ldyBLZShlLndpZHRoKzIwMCxlLmhlaWdodCsyMDAsMjUpLGk9bmV3IEtlKGUud2lkdGgrMjAwLGUuaGVpZ2h0KzIwMCwyNSkpe3RoaXMudHJhbnNmb3JtPWUsdGhpcy5ncmlkPW4sdGhpcy5pZ25vcmVkR3JpZD1pLHRoaXMucGl0Y2hmYWN0b3I9TWF0aC5jb3MoZS5fcGl0Y2gpKmUuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSx0aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnk9ZS53aWR0aCtndCx0aGlzLnNjcmVlbkJvdHRvbUJvdW5kYXJ5PWUuaGVpZ2h0K2d0LHRoaXMuZ3JpZFJpZ2h0Qm91bmRhcnk9ZS53aWR0aCsyMDAsdGhpcy5ncmlkQm90dG9tQm91bmRhcnk9ZS5oZWlnaHQrMjAwLHRoaXMuZm9nU3RhdGU9dH1wbGFjZUNvbGxpc2lvbkJveChlLHQsbixpLHIsbyxhLHMpe2xldCBsPW4ucHJvamVjdGVkQW5jaG9yWCxjPW4ucHJvamVjdGVkQW5jaG9yWSx1PW4ucHJvamVjdGVkQW5jaG9yWjtjb25zdCBoPW4uZWxldmF0aW9uLGQ9bi50aWxlSUQscD1lLmdldFByb2plY3Rpb24oKTtpZihoJiZkKXtjb25zdFtlLHQsaV09cC51cFZlY3RvcihkLmNhbm9uaWNhbCxuLnRpbGVBbmNob3JYLG4udGlsZUFuY2hvclkpLHI9cC51cFZlY3RvclNjYWxlKGQuY2Fub25pY2FsLHRoaXMudHJhbnNmb3JtLmNlbnRlci5sYXQsdGhpcy50cmFuc2Zvcm0ud29ybGRTaXplKS5tZXRlcnNUb1RpbGU7bCs9ZSpoKnIsYys9dCpoKnIsdSs9aSpoKnJ9Y29uc3QgZj10aGlzLnByb2plY3RBbmRHZXRQZXJzcGVjdGl2ZVJhdGlvKGEsbCxjLHUsbi50aWxlSUQsXCJnbG9iZVwiPT09cC5uYW1lfHwhIWh8fHRoaXMudHJhbnNmb3JtLnBpdGNoPjAscCksbT1vKmYucGVyc3BlY3RpdmVSYXRpbyxnPShuLngxKnQraS54LW4ucGFkZGluZykqbStmLnBvaW50LngseT0obi55MSp0K2kueS1uLnBhZGRpbmcpKm0rZi5wb2ludC55LF89KG4ueDIqdCtpLngrbi5wYWRkaW5nKSptK2YucG9pbnQueCx2PShuLnkyKnQraS55K24ucGFkZGluZykqbStmLnBvaW50LnkseD1mLnBlcnNwZWN0aXZlUmF0aW88PS41NXx8Zi5vY2NsdWRlZDtyZXR1cm4hdGhpcy5pc0luc2lkZUdyaWQoZyx5LF8sdil8fCFyJiZ0aGlzLmdyaWQuaGl0VGVzdChnLHksXyx2LHMpfHx4P3tib3g6W10sb2Zmc2NyZWVuOiExLG9jY2x1ZGVkOmYub2NjbHVkZWR9Ontib3g6W2cseSxfLHZdLG9mZnNjcmVlbjp0aGlzLmlzT2Zmc2NyZWVuKGcseSxfLHYpLG9jY2x1ZGVkOiExfX1wbGFjZUNvbGxpc2lvbkNpcmNsZXModCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmLG0pe2NvbnN0IGc9W10seT10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24sXz10LmdldFByb2plY3Rpb24oKSx2PXk/eS5nZXRBdFRpbGVPZmZzZXRGdW5jKG0sdGhpcy50cmFuc2Zvcm0uY2VudGVyLmxhdCx0aGlzLnRyYW5zZm9ybS53b3JsZFNpemUsXyk6bnVsbCx4PW5ldyBlLnBvaW50R2VvbWV0cnkoaS50aWxlQW5jaG9yWCxpLnRpbGVBbmNob3JZKTtsZXR7eDpiLHk6dyx6OlR9PV8ucHJvamVjdFRpbGVQb2ludCh4LngseC55LG0uY2Fub25pY2FsKTtpZih2KXtjb25zdFtlLHQsbl09dih4KTtiKz1lLHcrPXQsVCs9bn1jb25zdCBFPVwiZ2xvYmVcIj09PV8ubmFtZSxTPXRoaXMucHJvamVjdEFuZEdldFBlcnNwZWN0aXZlUmF0aW8ocyxiLHcsVCxtLEV8fCEheXx8dGhpcy50cmFuc2Zvcm0ucGl0Y2g+MCxfKSx7cGVyc3BlY3RpdmVSYXRpbzpNfT1TLEk9KGg/YS9NOmEqTSkvZS5PTkVfRU0sQz1ydChiLHcsVCxsKSxrPVMuc2lnbmVkRGlzdGFuY2VGcm9tQ2FtZXJhPjA/bHQoSSxvLGkubGluZU9mZnNldFgqSSxpLmxpbmVPZmZzZXRZKkksITEsQyx4LGkscixsLHt9LHkmJiFoP3Y6bnVsbCxoJiYhIXksXyxtLGgpOm51bGw7bGV0IEE9ITEsUD0hMSx6PSEwO2lmKGsmJiFTLm9jY2x1ZGVkKXtjb25zdCB0PS41KnAqTStmLGk9bmV3IGUucG9pbnRHZW9tZXRyeSgtMTAwLC0xMDApLHI9bmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnksdGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeSksbz1uZXcgUWUse2ZpcnN0OmEsbGFzdDpzfT1rLGw9YS5wYXRoLmxlbmd0aDtsZXQgaD1bXTtmb3IobGV0IGU9bC0xO2U+PTE7ZS0tKWgucHVzaChhLnBhdGhbZV0pO2ZvcihsZXQgZT0xO2U8cy5wYXRoLmxlbmd0aDtlKyspaC5wdXNoKHMucGF0aFtlXSk7Y29uc3QgbT0yLjUqdDtjJiYoaD1oLm1hcCgoW2UsdCxuXSxpKT0+KHYmJiFFJiYobj12KGk8bC0xP2EudGlsZVBhdGhbbC0xLWldOnMudGlsZVBhdGhbaS1sKzJdKVsyXSkscnQoZSx0LG4sYykpKSxoLnNvbWUoZT0+ZVszXTw9MCkmJihoPVtdKSk7bGV0IHk9W107aWYoaC5sZW5ndGg+MCl7bGV0IHQ9MS8wLG49LTEvMCxvPTEvMCxhPS0xLzA7Zm9yKGNvbnN0IGUgb2YgaCl0PU1hdGgubWluKHQsZVswXSksbz1NYXRoLm1pbihvLGVbMV0pLG49TWF0aC5tYXgobixlWzBdKSxhPU1hdGgubWF4KGEsZVsxXSk7bj49aS54JiZ0PD1yLngmJmE+PWkueSYmbzw9ci55JiYoeT1baC5tYXAodD0+bmV3IGUucG9pbnRHZW9tZXRyeSh0WzBdLHRbMV0pKV0sKHQ8aS54fHxuPnIueHx8bzxpLnl8fGE+ci55KSYmKHk9ZS5jbGlwTGluZSh5LGkueCxpLnksci54LHIueSkpKX1mb3IoY29uc3QgZSBvZiB5KXtvLnJlc2V0KGUsLjI1KnQpO2xldCBpPTA7aT1vLmxlbmd0aDw9LjUqdD8xOk1hdGguY2VpbChvLnBhZGRlZExlbmd0aC9tKSsxO2ZvcihsZXQgZT0wO2U8aTtlKyspe2NvbnN0IHI9ZS9NYXRoLm1heChpLTEsMSksYT1vLmxlcnAocikscz1hLngrZ3QsbD1hLnkrZ3Q7Zy5wdXNoKHMsbCx0LDApO2NvbnN0IGM9cy10LGg9bC10LHA9cyt0LGY9bCt0O2lmKHo9eiYmdGhpcy5pc09mZnNjcmVlbihjLGgscCxmKSxQPVB8fHRoaXMuaXNJbnNpZGVHcmlkKGMsaCxwLGYpLCFuJiZ0aGlzLmdyaWQuaGl0VGVzdENpcmNsZShzLGwsdCxkKSYmKEE9ITAsIXUpKXJldHVybntjaXJjbGVzOltdLG9mZnNjcmVlbjohMSxjb2xsaXNpb25EZXRlY3RlZDpBLG9jY2x1ZGVkOiExfX19fXJldHVybntjaXJjbGVzOiF1JiZBfHwhUD9bXTpnLG9mZnNjcmVlbjp6LGNvbGxpc2lvbkRldGVjdGVkOkEsb2NjbHVkZWQ6Uy5vY2NsdWRlZH19cXVlcnlSZW5kZXJlZFN5bWJvbHModCl7aWYoMD09PXQubGVuZ3RofHwwPT09dGhpcy5ncmlkLmtleXNMZW5ndGgoKSYmMD09PXRoaXMuaWdub3JlZEdyaWQua2V5c0xlbmd0aCgpKXJldHVybnt9O2NvbnN0IG49W107bGV0IGk9MS8wLHI9MS8wLG89LTEvMCxhPS0xLzA7Zm9yKGNvbnN0IHMgb2YgdCl7Y29uc3QgdD1uZXcgZS5wb2ludEdlb21ldHJ5KHMueCtndCxzLnkrZ3QpO2k9TWF0aC5taW4oaSx0LngpLHI9TWF0aC5taW4ocix0LnkpLG89TWF0aC5tYXgobyx0LngpLGE9TWF0aC5tYXgoYSx0LnkpLG4ucHVzaCh0KX1jb25zdCBzPXRoaXMuZ3JpZC5xdWVyeShpLHIsbyxhKS5jb25jYXQodGhpcy5pZ25vcmVkR3JpZC5xdWVyeShpLHIsbyxhKSksbD17fSxjPXt9O2Zvcihjb25zdCB0IG9mIHMpe2NvbnN0IGk9dC5rZXk7aWYodm9pZCAwPT09bFtpLmJ1Y2tldEluc3RhbmNlSWRdJiYobFtpLmJ1Y2tldEluc3RhbmNlSWRdPXt9KSxsW2kuYnVja2V0SW5zdGFuY2VJZF1baS5mZWF0dXJlSW5kZXhdKWNvbnRpbnVlO2NvbnN0IHI9W25ldyBlLnBvaW50R2VvbWV0cnkodC54MSx0LnkxKSxuZXcgZS5wb2ludEdlb21ldHJ5KHQueDIsdC55MSksbmV3IGUucG9pbnRHZW9tZXRyeSh0LngyLHQueTIpLG5ldyBlLnBvaW50R2VvbWV0cnkodC54MSx0LnkyKV07ZS5wb2x5Z29uSW50ZXJzZWN0c1BvbHlnb24obixyKSYmKGxbaS5idWNrZXRJbnN0YW5jZUlkXVtpLmZlYXR1cmVJbmRleF09ITAsdm9pZCAwPT09Y1tpLmJ1Y2tldEluc3RhbmNlSWRdJiYoY1tpLmJ1Y2tldEluc3RhbmNlSWRdPVtdKSxjW2kuYnVja2V0SW5zdGFuY2VJZF0ucHVzaChpLmZlYXR1cmVJbmRleCkpfXJldHVybiBjfWluc2VydENvbGxpc2lvbkJveChlLHQsbixpLHIpeyh0P3RoaXMuaWdub3JlZEdyaWQ6dGhpcy5ncmlkKS5pbnNlcnQoe2J1Y2tldEluc3RhbmNlSWQ6bixmZWF0dXJlSW5kZXg6aSxjb2xsaXNpb25Hcm91cElEOnJ9LGVbMF0sZVsxXSxlWzJdLGVbM10pfWluc2VydENvbGxpc2lvbkNpcmNsZXMoZSx0LG4saSxyKXtjb25zdCBvPXQ/dGhpcy5pZ25vcmVkR3JpZDp0aGlzLmdyaWQsYT17YnVja2V0SW5zdGFuY2VJZDpuLGZlYXR1cmVJbmRleDppLGNvbGxpc2lvbkdyb3VwSUQ6cn07Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kz00KW8uaW5zZXJ0Q2lyY2xlKGEsZVt0XSxlW3QrMV0sZVt0KzJdKX1wcm9qZWN0QW5kR2V0UGVyc3BlY3RpdmVSYXRpbyh0LG4saSxyLG8sYSxzKXtjb25zdCBsPVtuLGksciwxXTtsZXQgYz0hMTtpZihyfHx0aGlzLnRyYW5zZm9ybS5waXRjaD4wKXtlLnRyYW5zZm9ybU1hdDQkMShsLGwsdCk7Y29uc3QgYT1cImdsb2JlXCI9PT1zLm5hbWU7aWYodGhpcy5mb2dTdGF0ZSYmbyYmIWEpe2M9ZnVuY3Rpb24odCxuLGkscixvLGEpe2NvbnN0IHM9YS5jYWxjdWxhdGVGb2dUaWxlTWF0cml4KG8pLGw9W24saSxyXTtyZXR1cm4gZS50cmFuc2Zvcm1NYXQ0KGwsbCxzKSxJKHQsbCxhLnBpdGNoLGEuX2Zvdil9KHRoaXMuZm9nU3RhdGUsbixpLHIsby50b1Vud3JhcHBlZCgpLHRoaXMudHJhbnNmb3JtKT4uOX19ZWxzZSBtdChsLGwsdCk7Y29uc3QgdT1sWzNdO3JldHVybntwb2ludDpuZXcgZS5wb2ludEdlb21ldHJ5KChsWzBdL3UrMSkvMip0aGlzLnRyYW5zZm9ybS53aWR0aCtndCwoLWxbMV0vdSsxKS8yKnRoaXMudHJhbnNmb3JtLmhlaWdodCtndCkscGVyc3BlY3RpdmVSYXRpbzpNYXRoLm1pbiguNSt0aGlzLnRyYW5zZm9ybS5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHMpL3UqLjUsMS41KSxzaWduZWREaXN0YW5jZUZyb21DYW1lcmE6dSxvY2NsdWRlZDphJiZsWzJdPnV8fGN9fWlzT2Zmc2NyZWVuKGUsdCxuLGkpe3JldHVybiBuPGd0fHxlPj10aGlzLnNjcmVlblJpZ2h0Qm91bmRhcnl8fGk8Z3R8fHQ+dGhpcy5zY3JlZW5Cb3R0b21Cb3VuZGFyeX1pc0luc2lkZUdyaWQoZSx0LG4saSl7cmV0dXJuIG4+PTAmJmU8dGhpcy5ncmlkUmlnaHRCb3VuZGFyeSYmaT49MCYmdDx0aGlzLmdyaWRCb3R0b21Cb3VuZGFyeX1nZXRWaWV3cG9ydE1hdHJpeCgpe2NvbnN0IHQ9ZS5pZGVudGl0eShbXSk7cmV0dXJuIGUudHJhbnNsYXRlKHQsdCxbLTEwMCwtMTAwLDBdKSx0fX1mdW5jdGlvbiBfdCh0LG4saSl7Y29uc3Qgcj1uLmNyZWF0ZVRpbGVNYXRyaXgodCx0LndvcmxkU2l6ZSxpLnRvVW53cmFwcGVkKCkpO3JldHVybiBlLm11bHRpcGx5KG5ldyBGbG9hdDMyQXJyYXkoMTYpLHQucHJvak1hdHJpeCxyKX1mdW5jdGlvbiB2dChlLHQsbil7aWYodC5wcm9qZWN0aW9uLm5hbWU9PT1uLnByb2plY3Rpb24ubmFtZSlyZXR1cm4gZS5wcm9qTWF0cml4O2NvbnN0IGk9bi5jbG9uZSgpO3JldHVybiBpLnNldFByb2plY3Rpb24odC5wcm9qZWN0aW9uKSxfdChpLHQuZ2V0UHJvamVjdGlvbigpLGUpfWZ1bmN0aW9uIHh0KGUsdCxuKXtyZXR1cm4gdC5uYW1lPT09bi5wcm9qZWN0aW9uLm5hbWU/ZS5wcm9qTWF0cml4Ol90KG4sdCxlKX1jbGFzcyBidHtjb25zdHJ1Y3RvcihlLHQsbixpKXt0aGlzLm9wYWNpdHk9ZT9NYXRoLm1heCgwLE1hdGgubWluKDEsZS5vcGFjaXR5KyhlLnBsYWNlZD90Oi10KSkpOmkmJm4/MTowLHRoaXMucGxhY2VkPW59aXNIaWRkZW4oKXtyZXR1cm4gMD09PXRoaXMub3BhY2l0eSYmIXRoaXMucGxhY2VkfX1jbGFzcyB3dHtjb25zdHJ1Y3RvcihlLHQsbixpLHIsbz0hMSl7dGhpcy50ZXh0PW5ldyBidChlP2UudGV4dDpudWxsLHQsbixyKSx0aGlzLmljb249bmV3IGJ0KGU/ZS5pY29uOm51bGwsdCxpLHIpLHRoaXMuY2xpcHBlZD1vfWlzSGlkZGVuKCl7cmV0dXJuIHRoaXMudGV4dC5pc0hpZGRlbigpJiZ0aGlzLmljb24uaXNIaWRkZW4oKX19Y2xhc3MgVHR7Y29uc3RydWN0b3IoZSx0LG4saT0hMSl7dGhpcy50ZXh0PWUsdGhpcy5pY29uPXQsdGhpcy5za2lwRmFkZT1uLHRoaXMuY2xpcHBlZD1pfX1jbGFzcyBFdHtjb25zdHJ1Y3Rvcigpe3RoaXMuaW52UHJvak1hdHJpeD1lLmNyZWF0ZSgpLHRoaXMudmlld3BvcnRNYXRyaXg9ZS5jcmVhdGUoKSx0aGlzLmNpcmNsZXM9W119fWNsYXNzIFN0e2NvbnN0cnVjdG9yKGUsdCxuLGkscil7dGhpcy5idWNrZXRJbnN0YW5jZUlkPWUsdGhpcy5mZWF0dXJlSW5kZXg9dCx0aGlzLnNvdXJjZUxheWVySW5kZXg9bix0aGlzLmJ1Y2tldEluZGV4PWksdGhpcy50aWxlSUQ9cn19Y2xhc3MgTXR7Y29uc3RydWN0b3IoZSl7dGhpcy5jcm9zc1NvdXJjZUNvbGxpc2lvbnM9ZSx0aGlzLm1heEdyb3VwSUQ9MCx0aGlzLmNvbGxpc2lvbkdyb3Vwcz17fX1nZXQoZSl7aWYodGhpcy5jcm9zc1NvdXJjZUNvbGxpc2lvbnMpcmV0dXJue0lEOjAscHJlZGljYXRlOm51bGx9O2lmKCF0aGlzLmNvbGxpc2lvbkdyb3Vwc1tlXSl7Y29uc3QgdD0rK3RoaXMubWF4R3JvdXBJRDt0aGlzLmNvbGxpc2lvbkdyb3Vwc1tlXT17SUQ6dCxwcmVkaWNhdGU6ZT0+ZS5jb2xsaXNpb25Hcm91cElEPT09dH19cmV0dXJuIHRoaXMuY29sbGlzaW9uR3JvdXBzW2VdfX1mdW5jdGlvbiBJdCh0LG4saSxyLG8pe2NvbnN0e2hvcml6b250YWxBbGlnbjphLHZlcnRpY2FsQWxpZ246c309ZS5nZXRBbmNob3JBbGlnbm1lbnQodCksbD0tKGEtLjUpKm4sYz0tKHMtLjUpKmksdT1lLmV2YWx1YXRlVmFyaWFibGVPZmZzZXQodCxyKTtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeShsK3VbMF0qbyxjK3VbMV0qbyl9ZnVuY3Rpb24gQ3QodCxuLGkscixvKXtjb25zdCBhPW5ldyBlLnBvaW50R2VvbWV0cnkodCxuKTtyZXR1cm4gaSYmYS5fcm90YXRlKHI/bzotbyksYX1jbGFzcyBrdHtjb25zdHJ1Y3RvcihlLHQsbixpLHIpe3RoaXMudHJhbnNmb3JtPWUuY2xvbmUoKSx0aGlzLnByb2plY3Rpb249ZS5wcm9qZWN0aW9uLm5hbWUsdGhpcy5jb2xsaXNpb25JbmRleD1uZXcgeXQodGhpcy50cmFuc2Zvcm0sciksdGhpcy5wbGFjZW1lbnRzPXt9LHRoaXMub3BhY2l0aWVzPXt9LHRoaXMudmFyaWFibGVPZmZzZXRzPXt9LHRoaXMuc3RhbGU9ITEsdGhpcy5jb21taXRUaW1lPTAsdGhpcy5mYWRlRHVyYXRpb249dCx0aGlzLnJldGFpbmVkUXVlcnlEYXRhPXt9LHRoaXMuY29sbGlzaW9uR3JvdXBzPW5ldyBNdChuKSx0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cz17fSx0aGlzLnByZXZQbGFjZW1lbnQ9aSxpJiYoaS5wcmV2UGxhY2VtZW50PXZvaWQgMCksdGhpcy5wbGFjZWRPcmllbnRhdGlvbnM9e319Z2V0QnVja2V0UGFydHModCxuLGkscil7Y29uc3Qgbz1pLmdldEJ1Y2tldChuKSxhPWkubGF0ZXN0RmVhdHVyZUluZGV4O2lmKCFvfHwhYXx8bi5pZCE9PW8ubGF5ZXJJZHNbMF0pcmV0dXJuO2NvbnN0IHM9by5sYXllcnNbMF0ubGF5b3V0LGw9aS5jb2xsaXNpb25Cb3hBcnJheSxjPU1hdGgucG93KDIsdGhpcy50cmFuc2Zvcm0uem9vbS1pLnRpbGVJRC5vdmVyc2NhbGVkWiksdT1pLnRpbGVTaXplL2UuRVhURU5ULGg9aS50aWxlSUQudG9VbndyYXBwZWQoKTt0aGlzLnRyYW5zZm9ybS5zZXRQcm9qZWN0aW9uKG8ucHJvamVjdGlvbik7Y29uc3QgZD0ocD1pLnRpbGVJRCxmPW8uZ2V0UHJvamVjdGlvbigpLG09dGhpcy50cmFuc2Zvcm0sZi5uYW1lPT09dGhpcy5wcm9qZWN0aW9uP20uY2FsY3VsYXRlUHJvak1hdHJpeChwLnRvVW53cmFwcGVkKCkpOl90KG0sZixwKSk7dmFyIHAsZixtO2NvbnN0IGc9XCJtYXBcIj09PXMuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIikseT1cIm1hcFwiPT09cy5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKTtuLmNvbXBpbGVGaWx0ZXIoKTtjb25zdCBfPW4uZHluYW1pY0ZpbHRlcigpLHY9bi5keW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlKCkseD10aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeChpKSxiPW50KGQsaS50aWxlSUQuY2Fub25pY2FsLGcseSx0aGlzLnRyYW5zZm9ybSxvLmdldFByb2plY3Rpb24oKSx4KTtsZXQgdz1udWxsO2lmKGcpe2NvbnN0IHQ9aXQoZCxpLnRpbGVJRC5jYW5vbmljYWwsZyx5LHRoaXMudHJhbnNmb3JtLG8uZ2V0UHJvamVjdGlvbigpLHgpO3c9ZS5tdWx0aXBseShbXSx0aGlzLnRyYW5zZm9ybS5sYWJlbFBsYW5lTWF0cml4LHQpfWxldCBUPW51bGw7XyYmaS5sYXRlc3RGZWF0dXJlSW5kZXgmJihUPXt1bndyYXBwZWRUaWxlSUQ6aCxkeW5hbWljRmlsdGVyOl8sZHluYW1pY0ZpbHRlck5lZWRzRmVhdHVyZTp2LGZlYXR1cmVJbmRleDppLmxhdGVzdEZlYXR1cmVJbmRleH0pLHRoaXMucmV0YWluZWRRdWVyeURhdGFbby5idWNrZXRJbnN0YW5jZUlkXT1uZXcgU3Qoby5idWNrZXRJbnN0YW5jZUlkLGEsby5zb3VyY2VMYXllckluZGV4LG8uaW5kZXgsaS50aWxlSUQpO2NvbnN0IEU9e2J1Y2tldDpvLGxheW91dDpzLHBvc01hdHJpeDpkLHRleHRMYWJlbFBsYW5lTWF0cml4OmIsbGFiZWxUb1NjcmVlbk1hdHJpeDp3LGNsaXBwaW5nRGF0YTpULHNjYWxlOmMsdGV4dFBpeGVsUmF0aW86dSxob2xkaW5nRm9yRmFkZTppLmhvbGRpbmdGb3JGYWRlKCksY29sbGlzaW9uQm94QXJyYXk6bCxwYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZTplLmV2YWx1YXRlU2l6ZUZvclpvb20oby50ZXh0U2l6ZURhdGEsdGhpcy50cmFuc2Zvcm0uem9vbSkscGFydGlhbGx5RXZhbHVhdGVkSWNvblNpemU6ZS5ldmFsdWF0ZVNpemVGb3Jab29tKG8uaWNvblNpemVEYXRhLHRoaXMudHJhbnNmb3JtLnpvb20pLGNvbGxpc2lvbkdyb3VwOnRoaXMuY29sbGlzaW9uR3JvdXBzLmdldChvLnNvdXJjZUlEKX07aWYocilmb3IoY29uc3QgZSBvZiBvLnNvcnRLZXlSYW5nZXMpe2NvbnN0e3NvcnRLZXk6bixzeW1ib2xJbnN0YW5jZVN0YXJ0Omksc3ltYm9sSW5zdGFuY2VFbmQ6cn09ZTt0LnB1c2goe3NvcnRLZXk6bixzeW1ib2xJbnN0YW5jZVN0YXJ0Omksc3ltYm9sSW5zdGFuY2VFbmQ6cixwYXJhbWV0ZXJzOkV9KX1lbHNlIHQucHVzaCh7c3ltYm9sSW5zdGFuY2VTdGFydDowLHN5bWJvbEluc3RhbmNlRW5kOm8uc3ltYm9sSW5zdGFuY2VzLmxlbmd0aCxwYXJhbWV0ZXJzOkV9KX1hdHRlbXB0QW5jaG9yUGxhY2VtZW50KGUsdCxuLGkscixvLGEscyxsLGMsdSxoLGQscCxmLG0sZyx5KXtjb25zdHt0ZXh0T2Zmc2V0MDpfLHRleHRPZmZzZXQxOnYsY3Jvc3NUaWxlSUQ6eH09aCxiPVtfLHZdLHc9SXQoZSxuLGksYixyKSxUPXRoaXMuY29sbGlzaW9uSW5kZXgucGxhY2VDb2xsaXNpb25Cb3gocCxyLHQsQ3Qody54LHcueSxvLGEsdGhpcy50cmFuc2Zvcm0uYW5nbGUpLHUscyxsLGMucHJlZGljYXRlKTtpZihtKXtjb25zdCBlPXAuZ2V0U3ltYm9sSW5zdGFuY2VJY29uU2l6ZSh5LHRoaXMudHJhbnNmb3JtLnpvb20saC5wbGFjZWRJY29uU3ltYm9sSW5kZXgpO2lmKDA9PT10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQm94KHAsZSxtLEN0KHcueCx3LnksbyxhLHRoaXMudHJhbnNmb3JtLmFuZ2xlKSx1LHMsbCxjLnByZWRpY2F0ZSkuYm94Lmxlbmd0aClyZXR1cm59aWYoVC5ib3gubGVuZ3RoPjApe2xldCB0O3JldHVybiB0aGlzLnByZXZQbGFjZW1lbnQmJnRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbeF0mJnRoaXMucHJldlBsYWNlbWVudC5wbGFjZW1lbnRzW3hdJiZ0aGlzLnByZXZQbGFjZW1lbnQucGxhY2VtZW50c1t4XS50ZXh0JiYodD10aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW3hdLmFuY2hvciksdGhpcy52YXJpYWJsZU9mZnNldHNbeF09e3RleHRPZmZzZXQ6Yix3aWR0aDpuLGhlaWdodDppLGFuY2hvcjplLHRleHRTY2FsZTpyLHByZXZBbmNob3I6dH0sdGhpcy5tYXJrVXNlZEp1c3RpZmljYXRpb24ocCxlLGgsZikscC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYodGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKHAsZixoKSx0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1t4XT1mKSx7c2hpZnQ6dyxwbGFjZWRHbHlwaEJveGVzOlR9fX1wbGFjZUxheWVyQnVja2V0UGFydCh0LG4saSxyKXtjb25zdHtidWNrZXQ6byxsYXlvdXQ6YSxwb3NNYXRyaXg6cyx0ZXh0TGFiZWxQbGFuZU1hdHJpeDpsLGxhYmVsVG9TY3JlZW5NYXRyaXg6YyxjbGlwcGluZ0RhdGE6dSx0ZXh0UGl4ZWxSYXRpbzpoLGhvbGRpbmdGb3JGYWRlOmQsY29sbGlzaW9uQm94QXJyYXk6cCxwYXJ0aWFsbHlFdmFsdWF0ZWRUZXh0U2l6ZTpmLHBhcnRpYWxseUV2YWx1YXRlZEljb25TaXplOm0sY29sbGlzaW9uR3JvdXA6Z309dC5wYXJhbWV0ZXJzLHk9YS5nZXQoXCJ0ZXh0LW9wdGlvbmFsXCIpLF89YS5nZXQoXCJpY29uLW9wdGlvbmFsXCIpLHY9YS5nZXQoXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIikseD1hLmdldChcImljb24tYWxsb3ctb3ZlcmxhcFwiKSxiPVwibWFwXCI9PT1hLmdldChcInRleHQtcm90YXRpb24tYWxpZ25tZW50XCIpLHc9XCJtYXBcIj09PWEuZ2V0KFwidGV4dC1waXRjaC1hbGlnbm1lbnRcIiksVD1cIm5vbmVcIiE9PWEuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKSxFPVwidmlld3BvcnQteVwiPT09YS5nZXQoXCJzeW1ib2wtei1vcmRlclwiKTt0aGlzLnRyYW5zZm9ybS5zZXRQcm9qZWN0aW9uKG8ucHJvamVjdGlvbik7bGV0IFM9diYmKHh8fCFvLmhhc0ljb25EYXRhKCl8fF8pLE09eCYmKHZ8fCFvLmhhc1RleHREYXRhKCl8fHkpOyFvLmNvbGxpc2lvbkFycmF5cyYmcCYmby5kZXNlcmlhbGl6ZUNvbGxpc2lvbkJveGVzKHApLGkmJnImJm8udXBkYXRlQ29sbGlzaW9uRGVidWdCdWZmZXJzKHRoaXMudHJhbnNmb3JtLnpvb20scCk7Y29uc3QgST0odCxyLHApPT57Y29uc3R7Y3Jvc3NUaWxlSUQ6RSxudW1WZXJ0aWNhbEdseXBoVmVydGljZXM6SX09dDtpZih1KXtjb25zdCBpPXt6b29tOnRoaXMudHJhbnNmb3JtLnpvb20scGl0Y2g6dGhpcy50cmFuc2Zvcm0ucGl0Y2h9O2xldCByPW51bGw7aWYodS5keW5hbWljRmlsdGVyTmVlZHNGZWF0dXJlKXtjb25zdCBlPXRoaXMucmV0YWluZWRRdWVyeURhdGFbby5idWNrZXRJbnN0YW5jZUlkXTtyPXUuZmVhdHVyZUluZGV4LmxvYWRGZWF0dXJlKHtmZWF0dXJlSW5kZXg6dC5mZWF0dXJlSW5kZXgsYnVja2V0SW5kZXg6ZS5idWNrZXRJbmRleCxzb3VyY2VMYXllckluZGV4OmUuc291cmNlTGF5ZXJJbmRleCxsYXlvdXRWZXJ0ZXhBcnJheU9mZnNldDowfSl9aWYoISgwLHUuZHluYW1pY0ZpbHRlcikoaSxyLHRoaXMucmV0YWluZWRRdWVyeURhdGFbby5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQuY2Fub25pY2FsLG5ldyBlLnBvaW50R2VvbWV0cnkodC50aWxlQW5jaG9yWCx0LnRpbGVBbmNob3JZKSx0aGlzLnRyYW5zZm9ybS5jYWxjdWxhdGVEaXN0YW5jZVRpbGVEYXRhKHUudW53cmFwcGVkVGlsZUlEKSkpcmV0dXJuIHRoaXMucGxhY2VtZW50c1tFXT1uZXcgVHQoITEsITEsITEsITApLHZvaWQobltFXT0hMCl9aWYobltFXSlyZXR1cm47aWYoZClyZXR1cm4gdm9pZCh0aGlzLnBsYWNlbWVudHNbRV09bmV3IFR0KCExLCExLCExKSk7bGV0IEM9ITEsaz0hMSxBPSEwLFA9ITEsej0hMSxEPW51bGwsTD17Ym94Om51bGwsb2Zmc2NyZWVuOm51bGwsb2NjbHVkZWQ6bnVsbH0sTz17Ym94Om51bGwsb2Zmc2NyZWVuOm51bGwsb2NjbHVkZWQ6bnVsbH0sUj1udWxsLEI9bnVsbCxqPW51bGwsRj0wLE49MCxVPTA7cC50ZXh0RmVhdHVyZUluZGV4P0Y9cC50ZXh0RmVhdHVyZUluZGV4OnQudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMmJihGPXQuZmVhdHVyZUluZGV4KSxwLnZlcnRpY2FsVGV4dEZlYXR1cmVJbmRleCYmKE49cC52ZXJ0aWNhbFRleHRGZWF0dXJlSW5kZXgpO2NvbnN0IFY9ZT0+e2UudGlsZUlEPXRoaXMucmV0YWluZWRRdWVyeURhdGFbby5idWNrZXRJbnN0YW5jZUlkXS50aWxlSUQ7Y29uc3QgdD10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb247KHR8fGUuZWxldmF0aW9uKSYmKGUuZWxldmF0aW9uPXQ/dC5nZXRBdFRpbGVPZmZzZXQoZS50aWxlSUQsZS50aWxlQW5jaG9yWCxlLnRpbGVBbmNob3JZKTowKX0sRz1wLnRleHRCb3g7aWYoRyl7VihHKTtjb25zdCBuPW49PntsZXQgaT1lLldyaXRpbmdNb2RlLmhvcml6b250YWw7aWYoby5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYhbiYmdGhpcy5wcmV2UGxhY2VtZW50KXtjb25zdCBlPXRoaXMucHJldlBsYWNlbWVudC5wbGFjZWRPcmllbnRhdGlvbnNbRV07ZSYmKHRoaXMucGxhY2VkT3JpZW50YXRpb25zW0VdPWUsaT1lLHRoaXMubWFya1VzZWRPcmllbnRhdGlvbihvLGksdCkpfXJldHVybiBpfSxpPSh0LG4pPT57aWYoby5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiZJPjAmJnAudmVydGljYWxUZXh0Qm94KXtmb3IoY29uc3QgaSBvZiBvLndyaXRpbmdNb2RlcylpZihpPT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbD8oTD1uKCksTz1MKTpMPXQoKSxMJiZMLmJveCYmTC5ib3gubGVuZ3RoKWJyZWFrfWVsc2UgTD10KCl9O2lmKGEuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIikpe2xldCBsPWEuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIik7aWYodGhpcy5wcmV2UGxhY2VtZW50JiZ0aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW0VdKXtjb25zdCBlPXRoaXMucHJldlBsYWNlbWVudC52YXJpYWJsZU9mZnNldHNbRV07bC5pbmRleE9mKGUuYW5jaG9yKT4wJiYobD1sLmZpbHRlcih0PT50IT09ZS5hbmNob3IpLGwudW5zaGlmdChlLmFuY2hvcikpfWNvbnN0IGM9KGUsbixpKT0+e2NvbnN0IGE9by5nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKGYsdCx0aGlzLnRyYW5zZm9ybS56b29tLHIpLGM9KGUueDItZS54MSkqYSsyKmUucGFkZGluZyx1PShlLnkyLWUueTEpKmErMiplLnBhZGRpbmcsZD1UJiYheD9uOm51bGw7ZCYmVihkKTtsZXQgcD17Ym94OltdLG9mZnNjcmVlbjohMSxvY2NsdWRlZDohMX07Y29uc3QgeT12PzIqbC5sZW5ndGg6bC5sZW5ndGg7Zm9yKGxldCBuPTA7bjx5Oysrbil7Y29uc3QgeT10aGlzLmF0dGVtcHRBbmNob3JQbGFjZW1lbnQobFtuJWwubGVuZ3RoXSxlLGMsdSxhLGIsdyxoLHMsZyxuPj1sLmxlbmd0aCx0LHIsbyxpLGQsZixtKTtpZih5JiYocD15LnBsYWNlZEdseXBoQm94ZXMscCYmcC5ib3gmJnAuYm94Lmxlbmd0aCkpe0M9ITAsRD15LnNoaWZ0O2JyZWFrfX1yZXR1cm4gcH07aSgoKT0+YyhHLHAuaWNvbkJveCxlLldyaXRpbmdNb2RlLmhvcml6b250YWwpLCgpPT57Y29uc3QgdD1wLnZlcnRpY2FsVGV4dEJveDtyZXR1cm4gdCYmVih0KSxvLmFsbG93VmVydGljYWxQbGFjZW1lbnQmJiEoTCYmTC5ib3gmJkwuYm94Lmxlbmd0aCkmJkk+MCYmdD9jKHQscC52ZXJ0aWNhbEljb25Cb3gsZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbCk6e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9fSksTCYmKEM9TC5ib3gsQT1MLm9mZnNjcmVlbixQPUwub2NjbHVkZWQpO2NvbnN0IHU9bihMJiZMLmJveCk7aWYoIUMmJnRoaXMucHJldlBsYWNlbWVudCl7Y29uc3QgZT10aGlzLnByZXZQbGFjZW1lbnQudmFyaWFibGVPZmZzZXRzW0VdO2UmJih0aGlzLnZhcmlhYmxlT2Zmc2V0c1tFXT1lLHRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKG8sZS5hbmNob3IsdCx1KSl9fWVsc2V7Y29uc3QgYT0obixpKT0+e2NvbnN0IGE9by5nZXRTeW1ib2xJbnN0YW5jZVRleHRTaXplKGYsdCx0aGlzLnRyYW5zZm9ybS56b29tLHIpLGw9dGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChvLGEsbixuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCksdixoLHMsZy5wcmVkaWNhdGUpO3JldHVybiBsJiZsLmJveCYmbC5ib3gubGVuZ3RoJiYodGhpcy5tYXJrVXNlZE9yaWVudGF0aW9uKG8saSx0KSx0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tFXT1pKSxsfTtpKCgpPT5hKEcsZS5Xcml0aW5nTW9kZS5ob3Jpem9udGFsKSwoKT0+e2NvbnN0IHQ9cC52ZXJ0aWNhbFRleHRCb3g7cmV0dXJuIG8uYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmST4wJiZ0PyhWKHQpLGEodCxlLldyaXRpbmdNb2RlLnZlcnRpY2FsKSk6e2JveDpudWxsLG9mZnNjcmVlbjpudWxsLG9jY2x1ZGVkOm51bGx9fSksbihMJiZMLmJveCYmTC5ib3gubGVuZ3RoKX19aWYoUj1MLEM9UiYmUi5ib3gmJlIuYm94Lmxlbmd0aD4wLEE9UiYmUi5vZmZzY3JlZW4sUD1SJiZSLm9jY2x1ZGVkLHQudXNlUnVudGltZUNvbGxpc2lvbkNpcmNsZXMpe2NvbnN0IG49by50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldCh0LmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleD49MD90LmNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDp0LnZlcnRpY2FsUGxhY2VkVGV4dFN5bWJvbEluZGV4KSxyPWUuZXZhbHVhdGVTaXplRm9yRmVhdHVyZShvLnRleHRTaXplRGF0YSxmLG4pLHU9YS5nZXQoXCJ0ZXh0LXBhZGRpbmdcIik7Qj10aGlzLmNvbGxpc2lvbkluZGV4LnBsYWNlQ29sbGlzaW9uQ2lyY2xlcyhvLHYsbixvLmxpbmVWZXJ0ZXhBcnJheSxvLmdseXBoT2Zmc2V0QXJyYXkscixzLGwsYyxpLHcsZy5wcmVkaWNhdGUsdC5jb2xsaXNpb25DaXJjbGVEaWFtZXRlcipyL2UuT05FX0VNLHUsdGhpcy5yZXRhaW5lZFF1ZXJ5RGF0YVtvLmJ1Y2tldEluc3RhbmNlSWRdLnRpbGVJRCksQz12fHxCLmNpcmNsZXMubGVuZ3RoPjAmJiFCLmNvbGxpc2lvbkRldGVjdGVkLEE9QSYmQi5vZmZzY3JlZW4sUD1CLm9jY2x1ZGVkfWlmKHAuaWNvbkZlYXR1cmVJbmRleCYmKFU9cC5pY29uRmVhdHVyZUluZGV4KSxwLmljb25Cb3gpe2NvbnN0IG49bj0+e1Yobik7Y29uc3QgaT1UJiZEP0N0KEQueCxELnksYix3LHRoaXMudHJhbnNmb3JtLmFuZ2xlKTpuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCkscj1vLmdldFN5bWJvbEluc3RhbmNlSWNvblNpemUobSx0aGlzLnRyYW5zZm9ybS56b29tLHQucGxhY2VkSWNvblN5bWJvbEluZGV4KTtyZXR1cm4gdGhpcy5jb2xsaXNpb25JbmRleC5wbGFjZUNvbGxpc2lvbkJveChvLHIsbixpLHgsaCxzLGcucHJlZGljYXRlKX07TyYmTy5ib3gmJk8uYm94Lmxlbmd0aCYmcC52ZXJ0aWNhbEljb25Cb3g/KGo9bihwLnZlcnRpY2FsSWNvbkJveCksaz1qLmJveC5sZW5ndGg+MCk6KGo9bihwLmljb25Cb3gpLGs9ai5ib3gubGVuZ3RoPjApLEE9QSYmai5vZmZzY3JlZW4sej1qLm9jY2x1ZGVkfWNvbnN0IFo9eXx8MD09PXQubnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXMmJjA9PT1JLFc9X3x8MD09PXQubnVtSWNvblZlcnRpY2VzO2lmKFp8fFc/Vz9afHwoaz1rJiZDKTpDPWsmJkM6az1DPWsmJkMsQyYmUiYmUi5ib3gmJnRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQm94KFIuYm94LGEuZ2V0KFwidGV4dC1pZ25vcmUtcGxhY2VtZW50XCIpLG8uYnVja2V0SW5zdGFuY2VJZCxPJiZPLmJveCYmTj9OOkYsZy5JRCksayYmaiYmdGhpcy5jb2xsaXNpb25JbmRleC5pbnNlcnRDb2xsaXNpb25Cb3goai5ib3gsYS5nZXQoXCJpY29uLWlnbm9yZS1wbGFjZW1lbnRcIiksby5idWNrZXRJbnN0YW5jZUlkLFUsZy5JRCksQiYmKEMmJnRoaXMuY29sbGlzaW9uSW5kZXguaW5zZXJ0Q29sbGlzaW9uQ2lyY2xlcyhCLmNpcmNsZXMsYS5nZXQoXCJ0ZXh0LWlnbm9yZS1wbGFjZW1lbnRcIiksby5idWNrZXRJbnN0YW5jZUlkLEYsZy5JRCksaSkpe2NvbnN0IGU9by5idWNrZXRJbnN0YW5jZUlkO2xldCB0PXRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW2VdO3ZvaWQgMD09PXQmJih0PXRoaXMuY29sbGlzaW9uQ2lyY2xlQXJyYXlzW2VdPW5ldyBFdCk7Zm9yKGxldCBlPTA7ZTxCLmNpcmNsZXMubGVuZ3RoO2UrPTQpdC5jaXJjbGVzLnB1c2goQi5jaXJjbGVzW2UrMF0pLHQuY2lyY2xlcy5wdXNoKEIuY2lyY2xlc1tlKzFdKSx0LmNpcmNsZXMucHVzaChCLmNpcmNsZXNbZSsyXSksdC5jaXJjbGVzLnB1c2goQi5jb2xsaXNpb25EZXRlY3RlZD8xOjApfWNvbnN0IHE9XCJnbG9iZVwiIT09by5wcm9qZWN0aW9uLm5hbWU7Uz1TJiYocXx8IVApLE09TSYmKHF8fCF6KSx0aGlzLnBsYWNlbWVudHNbRV09bmV3IFR0KEN8fFMsa3x8TSxBfHxvLmp1c3RSZWxvYWRlZCksbltFXT0hMH07aWYoRSl7Y29uc3QgZT1vLmdldFNvcnRlZFN5bWJvbEluZGV4ZXModGhpcy50cmFuc2Zvcm0uYW5nbGUpO2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7LS10KXtjb25zdCBuPWVbdF07SShvLnN5bWJvbEluc3RhbmNlcy5nZXQobiksbixvLmNvbGxpc2lvbkFycmF5c1tuXSl9fWVsc2UgZm9yKGxldCBlPXQuc3ltYm9sSW5zdGFuY2VTdGFydDtlPHQuc3ltYm9sSW5zdGFuY2VFbmQ7ZSsrKUkoby5zeW1ib2xJbnN0YW5jZXMuZ2V0KGUpLGUsby5jb2xsaXNpb25BcnJheXNbZV0pO2lmKGkmJm8uYnVja2V0SW5zdGFuY2VJZCBpbiB0aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5cyl7Y29uc3QgdD10aGlzLmNvbGxpc2lvbkNpcmNsZUFycmF5c1tvLmJ1Y2tldEluc3RhbmNlSWRdO2UuaW52ZXJ0KHQuaW52UHJvak1hdHJpeCxzKSx0LnZpZXdwb3J0TWF0cml4PXRoaXMuY29sbGlzaW9uSW5kZXguZ2V0Vmlld3BvcnRNYXRyaXgoKX1vLmp1c3RSZWxvYWRlZD0hMX1tYXJrVXNlZEp1c3RpZmljYXRpb24odCxuLGkscil7Y29uc3R7bGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpvLGNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDphLHJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OnMsdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6bCxjcm9zc1RpbGVJRDpjfT1pLHU9ZS5nZXRBbmNob3JKdXN0aWZpY2F0aW9uKG4pLGg9cj09PWUuV3JpdGluZ01vZGUudmVydGljYWw/bDpcImxlZnRcIj09PXU/bzpcImNlbnRlclwiPT09dT9hOlwicmlnaHRcIj09PXU/czotMTtvPj0wJiYodC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChvKS5jcm9zc1RpbGVJRD1oPj0wJiZvIT09aD8wOmMpLGE+PTAmJih0LnRleHQucGxhY2VkU3ltYm9sQXJyYXkuZ2V0KGEpLmNyb3NzVGlsZUlEPWg+PTAmJmEhPT1oPzA6Yykscz49MCYmKHQudGV4dC5wbGFjZWRTeW1ib2xBcnJheS5nZXQocykuY3Jvc3NUaWxlSUQ9aD49MCYmcyE9PWg/MDpjKSxsPj0wJiYodC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5LmdldChsKS5jcm9zc1RpbGVJRD1oPj0wJiZsIT09aD8wOmMpfW1hcmtVc2VkT3JpZW50YXRpb24odCxuLGkpe2NvbnN0IHI9bj09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbHx8bj09PWUuV3JpdGluZ01vZGUuaG9yaXpvbnRhbE9ubHk/bjowLG89bj09PWUuV3JpdGluZ01vZGUudmVydGljYWw/bjowLHtsZWZ0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OmEsY2VudGVySnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OnMscmlnaHRKdXN0aWZpZWRUZXh0U3ltYm9sSW5kZXg6bCx2ZXJ0aWNhbFBsYWNlZFRleHRTeW1ib2xJbmRleDpjfT1pLHU9dC50ZXh0LnBsYWNlZFN5bWJvbEFycmF5O2E+PTAmJih1LmdldChhKS5wbGFjZWRPcmllbnRhdGlvbj1yKSxzPj0wJiYodS5nZXQocykucGxhY2VkT3JpZW50YXRpb249ciksbD49MCYmKHUuZ2V0KGwpLnBsYWNlZE9yaWVudGF0aW9uPXIpLGM+PTAmJih1LmdldChjKS5wbGFjZWRPcmllbnRhdGlvbj1vKX1jb21taXQoZSl7dGhpcy5jb21taXRUaW1lPWUsdGhpcy56b29tQXRMYXN0UmVjZW5jeUNoZWNrPXRoaXMudHJhbnNmb3JtLnpvb207Y29uc3QgdD10aGlzLnByZXZQbGFjZW1lbnQ7bGV0IG49ITE7dGhpcy5wcmV2Wm9vbUFkanVzdG1lbnQ9dD90Lnpvb21BZGp1c3RtZW50KHRoaXMudHJhbnNmb3JtLnpvb20pOjA7Y29uc3QgaT10P3Quc3ltYm9sRmFkZUNoYW5nZShlKToxLHI9dD90Lm9wYWNpdGllczp7fSxvPXQ/dC52YXJpYWJsZU9mZnNldHM6e30sYT10P3QucGxhY2VkT3JpZW50YXRpb25zOnt9O2Zvcihjb25zdCBlIGluIHRoaXMucGxhY2VtZW50cyl7Y29uc3QgdD10aGlzLnBsYWNlbWVudHNbZV0sbz1yW2VdO28/KHRoaXMub3BhY2l0aWVzW2VdPW5ldyB3dChvLGksdC50ZXh0LHQuaWNvbixudWxsLHQuY2xpcHBlZCksbj1ufHx0LnRleHQhPT1vLnRleHQucGxhY2VkfHx0Lmljb24hPT1vLmljb24ucGxhY2VkKToodGhpcy5vcGFjaXRpZXNbZV09bmV3IHd0KG51bGwsaSx0LnRleHQsdC5pY29uLHQuc2tpcEZhZGUsdC5jbGlwcGVkKSxuPW58fHQudGV4dHx8dC5pY29uKX1mb3IoY29uc3QgZSBpbiByKXtjb25zdCB0PXJbZV07aWYoIXRoaXMub3BhY2l0aWVzW2VdKXtjb25zdCByPW5ldyB3dCh0LGksITEsITEpO3IuaXNIaWRkZW4oKXx8KHRoaXMub3BhY2l0aWVzW2VdPXIsbj1ufHx0LnRleHQucGxhY2VkfHx0Lmljb24ucGxhY2VkKX19Zm9yKGNvbnN0IGUgaW4gbyl0aGlzLnZhcmlhYmxlT2Zmc2V0c1tlXXx8IXRoaXMub3BhY2l0aWVzW2VdfHx0aGlzLm9wYWNpdGllc1tlXS5pc0hpZGRlbigpfHwodGhpcy52YXJpYWJsZU9mZnNldHNbZV09b1tlXSk7Zm9yKGNvbnN0IGUgaW4gYSl0aGlzLnBsYWNlZE9yaWVudGF0aW9uc1tlXXx8IXRoaXMub3BhY2l0aWVzW2VdfHx0aGlzLm9wYWNpdGllc1tlXS5pc0hpZGRlbigpfHwodGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbZV09YVtlXSk7bj90aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPWU6XCJudW1iZXJcIiE9dHlwZW9mIHRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWUmJih0aGlzLmxhc3RQbGFjZW1lbnRDaGFuZ2VUaW1lPXQ/dC5sYXN0UGxhY2VtZW50Q2hhbmdlVGltZTplKX11cGRhdGVMYXllck9wYWNpdGllcyhlLHQpe2NvbnN0IG49e307Zm9yKGNvbnN0IGkgb2YgdCl7Y29uc3QgdD1pLmdldEJ1Y2tldChlKTt0JiZpLmxhdGVzdEZlYXR1cmVJbmRleCYmZS5pZD09PXQubGF5ZXJJZHNbMF0mJnRoaXMudXBkYXRlQnVja2V0T3BhY2l0aWVzKHQsbixpLmNvbGxpc2lvbkJveEFycmF5KX19dXBkYXRlQnVja2V0T3BhY2l0aWVzKHQsbixpKXt0Lmhhc1RleHREYXRhKCkmJnQudGV4dC5vcGFjaXR5VmVydGV4QXJyYXkuY2xlYXIoKSx0Lmhhc0ljb25EYXRhKCkmJnQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkuY2xlYXIoKSx0Lmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCkmJnQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheS5jbGVhcigpLHQuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSYmdC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LmNsZWFyKCk7Y29uc3Qgcj10LmxheWVyc1swXS5sYXlvdXQsbz0hIXQubGF5ZXJzWzBdLmR5bmFtaWNGaWx0ZXIoKSxhPW5ldyB3dChudWxsLDAsITEsITEsITApLHM9ci5nZXQoXCJ0ZXh0LWFsbG93LW92ZXJsYXBcIiksbD1yLmdldChcImljb24tYWxsb3ctb3ZlcmxhcFwiKSxjPXIuZ2V0KFwidGV4dC12YXJpYWJsZS1hbmNob3JcIiksdT1cIm1hcFwiPT09ci5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSxoPVwibWFwXCI9PT1yLmdldChcInRleHQtcGl0Y2gtYWxpZ25tZW50XCIpLGQ9XCJub25lXCIhPT1yLmdldChcImljb24tdGV4dC1maXRcIikscD1uZXcgd3QobnVsbCwwLHMmJihsfHwhdC5oYXNJY29uRGF0YSgpfHxyLmdldChcImljb24tb3B0aW9uYWxcIikpLGwmJihzfHwhdC5oYXNUZXh0RGF0YSgpfHxyLmdldChcInRleHQtb3B0aW9uYWxcIikpLCEwKTshdC5jb2xsaXNpb25BcnJheXMmJmkmJih0Lmhhc0ljb25Db2xsaXNpb25Cb3hEYXRhKCl8fHQuaGFzVGV4dENvbGxpc2lvbkJveERhdGEoKSkmJnQuZGVzZXJpYWxpemVDb2xsaXNpb25Cb3hlcyhpKTtjb25zdCBmPShlLHQsbik9Pntmb3IobGV0IGk9MDtpPHQvNDtpKyspZS5vcGFjaXR5VmVydGV4QXJyYXkuZW1wbGFjZUJhY2sobil9O2xldCBtPTA7Zm9yKGxldCBpPTA7aTx0LnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7aSsrKXtjb25zdCByPXQuc3ltYm9sSW5zdGFuY2VzLmdldChpKSx7bnVtSG9yaXpvbnRhbEdseXBoVmVydGljZXM6cyxudW1WZXJ0aWNhbEdseXBoVmVydGljZXM6bCxjcm9zc1RpbGVJRDpnLG51bUljb25WZXJ0aWNlczp5fT1yO2xldCBfPXRoaXMub3BhY2l0aWVzW2ddO25bZ10/Xz1hOl98fChfPXAsdGhpcy5vcGFjaXRpZXNbZ109XyksbltnXT0hMDtjb25zdCB2PXM+MHx8bD4wLHg9eT4wLGI9dGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbZ10sdz1iPT09ZS5Xcml0aW5nTW9kZS52ZXJ0aWNhbCxUPWI9PT1lLldyaXRpbmdNb2RlLmhvcml6b250YWx8fGI9PT1lLldyaXRpbmdNb2RlLmhvcml6b250YWxPbmx5O2lmKCF2JiYheHx8Xy5pc0hpZGRlbigpfHxtKyssdil7Y29uc3QgZT1qdChfLnRleHQpO2YodC50ZXh0LHMsdz9GdDplKSxmKHQudGV4dCxsLFQ/RnQ6ZSk7Y29uc3Qgbj1fLnRleHQuaXNIaWRkZW4oKSx7bGVmdEp1c3RpZmllZFRleHRTeW1ib2xJbmRleDppLGNlbnRlckp1c3RpZmllZFRleHRTeW1ib2xJbmRleDpvLHJpZ2h0SnVzdGlmaWVkVGV4dFN5bWJvbEluZGV4OmEsdmVydGljYWxQbGFjZWRUZXh0U3ltYm9sSW5kZXg6Y309cix1PXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheSxoPW58fHc/MTowO2k+PTAmJih1LmdldChpKS5oaWRkZW49aCksbz49MCYmKHUuZ2V0KG8pLmhpZGRlbj1oKSxhPj0wJiYodS5nZXQoYSkuaGlkZGVuPWgpLGM+PTAmJih1LmdldChjKS5oaWRkZW49bnx8VD8xOjApO2NvbnN0IGQ9dGhpcy52YXJpYWJsZU9mZnNldHNbZ107ZCYmdGhpcy5tYXJrVXNlZEp1c3RpZmljYXRpb24odCxkLmFuY2hvcixyLGIpO2NvbnN0IHA9dGhpcy5wbGFjZWRPcmllbnRhdGlvbnNbZ107cCYmKHRoaXMubWFya1VzZWRKdXN0aWZpY2F0aW9uKHQsXCJsZWZ0XCIscixwKSx0aGlzLm1hcmtVc2VkT3JpZW50YXRpb24odCxwLHIpKX1pZih4KXtjb25zdCBlPWp0KF8uaWNvbikse3BsYWNlZEljb25TeW1ib2xJbmRleDpuLHZlcnRpY2FsUGxhY2VkSWNvblN5bWJvbEluZGV4Oml9PXIsbz10Lmljb24ucGxhY2VkU3ltYm9sQXJyYXksYT1fLmljb24uaXNIaWRkZW4oKT8xOjA7bj49MCYmKGYodC5pY29uLHksdz9GdDplKSxvLmdldChuKS5oaWRkZW49YSksaT49MCYmKGYodC5pY29uLHIubnVtVmVydGljYWxJY29uVmVydGljZXMsVD9GdDplKSxvLmdldChpKS5oaWRkZW49YSl9aWYodC5oYXNJY29uQ29sbGlzaW9uQm94RGF0YSgpfHx0Lmhhc1RleHRDb2xsaXNpb25Cb3hEYXRhKCkpe2NvbnN0IG49dC5jb2xsaXNpb25BcnJheXNbaV07aWYobil7bGV0IGk9bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLHI9ITA7aWYobi50ZXh0Qm94fHxuLnZlcnRpY2FsVGV4dEJveCl7aWYoYyl7Y29uc3QgZT10aGlzLnZhcmlhYmxlT2Zmc2V0c1tnXTtlPyhpPUl0KGUuYW5jaG9yLGUud2lkdGgsZS5oZWlnaHQsZS50ZXh0T2Zmc2V0LGUudGV4dFNjYWxlKSx1JiZpLl9yb3RhdGUoaD90aGlzLnRyYW5zZm9ybS5hbmdsZTotdGhpcy50cmFuc2Zvcm0uYW5nbGUpKTpyPSExfW8mJihyPSFfLmNsaXBwZWQpLG4udGV4dEJveCYmQXQodC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LF8udGV4dC5wbGFjZWQsIXJ8fHcsaS54LGkueSksbi52ZXJ0aWNhbFRleHRCb3gmJkF0KHQudGV4dENvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSxfLnRleHQucGxhY2VkLCFyfHxULGkueCxpLnkpfWNvbnN0IGE9ciYmQm9vbGVhbighVCYmbi52ZXJ0aWNhbEljb25Cb3gpO24uaWNvbkJveCYmQXQodC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5LF8uaWNvbi5wbGFjZWQsYSxkP2kueDowLGQ/aS55OjApLG4udmVydGljYWxJY29uQm94JiZBdCh0Lmljb25Db2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QXJyYXksXy5pY29uLnBsYWNlZCwhYSxkP2kueDowLGQ/aS55OjApfX19aWYodC5mdWxseUNsaXBwZWQ9MD09PW0sdC5zb3J0RmVhdHVyZXModGhpcy50cmFuc2Zvcm0uYW5nbGUpLHRoaXMucmV0YWluZWRRdWVyeURhdGFbdC5idWNrZXRJbnN0YW5jZUlkXSYmKHRoaXMucmV0YWluZWRRdWVyeURhdGFbdC5idWNrZXRJbnN0YW5jZUlkXS5mZWF0dXJlU29ydE9yZGVyPXQuZmVhdHVyZVNvcnRPcmRlciksdC5oYXNUZXh0RGF0YSgpJiZ0LnRleHQub3BhY2l0eVZlcnRleEJ1ZmZlciYmdC50ZXh0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YSh0LnRleHQub3BhY2l0eVZlcnRleEFycmF5KSx0Lmhhc0ljb25EYXRhKCkmJnQuaWNvbi5vcGFjaXR5VmVydGV4QnVmZmVyJiZ0Lmljb24ub3BhY2l0eVZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHQuaWNvbi5vcGFjaXR5VmVydGV4QXJyYXkpLHQuaGFzSWNvbkNvbGxpc2lvbkJveERhdGEoKSYmdC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlciYmdC5pY29uQ29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHQuaWNvbkNvbGxpc2lvbkJveC5jb2xsaXNpb25WZXJ0ZXhBcnJheSksdC5oYXNUZXh0Q29sbGlzaW9uQm94RGF0YSgpJiZ0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyJiZ0LnRleHRDb2xsaXNpb25Cb3guY29sbGlzaW9uVmVydGV4QnVmZmVyLnVwZGF0ZURhdGEodC50ZXh0Q29sbGlzaW9uQm94LmNvbGxpc2lvblZlcnRleEFycmF5KSx0LmJ1Y2tldEluc3RhbmNlSWQgaW4gdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXMpe2NvbnN0IGU9dGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbdC5idWNrZXRJbnN0YW5jZUlkXTt0LnBsYWNlbWVudEludlByb2pNYXRyaXg9ZS5pbnZQcm9qTWF0cml4LHQucGxhY2VtZW50Vmlld3BvcnRNYXRyaXg9ZS52aWV3cG9ydE1hdHJpeCx0LmNvbGxpc2lvbkNpcmNsZUFycmF5PWUuY2lyY2xlcyxkZWxldGUgdGhpcy5jb2xsaXNpb25DaXJjbGVBcnJheXNbdC5idWNrZXRJbnN0YW5jZUlkXX19c3ltYm9sRmFkZUNoYW5nZShlKXtyZXR1cm4gMD09PXRoaXMuZmFkZUR1cmF0aW9uPzE6KGUtdGhpcy5jb21taXRUaW1lKS90aGlzLmZhZGVEdXJhdGlvbit0aGlzLnByZXZab29tQWRqdXN0bWVudH16b29tQWRqdXN0bWVudChlKXtyZXR1cm4gTWF0aC5tYXgoMCwodGhpcy50cmFuc2Zvcm0uem9vbS1lKS8xLjUpfWhhc1RyYW5zaXRpb25zKGUpe3JldHVybiB0aGlzLnN0YWxlfHxlLXRoaXMubGFzdFBsYWNlbWVudENoYW5nZVRpbWU8dGhpcy5mYWRlRHVyYXRpb259c3RpbGxSZWNlbnQoZSx0KXtjb25zdCBuPXRoaXMuem9vbUF0TGFzdFJlY2VuY3lDaGVjaz09PXQ/MS10aGlzLnpvb21BZGp1c3RtZW50KHQpOjE7cmV0dXJuIHRoaXMuem9vbUF0TGFzdFJlY2VuY3lDaGVjaz10LHRoaXMuY29tbWl0VGltZSt0aGlzLmZhZGVEdXJhdGlvbipuPmV9c2V0U3RhbGUoKXt0aGlzLnN0YWxlPSEwfX1mdW5jdGlvbiBBdChlLHQsbixpLHIpe2UuZW1wbGFjZUJhY2sodD8xOjAsbj8xOjAsaXx8MCxyfHwwKSxlLmVtcGxhY2VCYWNrKHQ/MTowLG4/MTowLGl8fDAscnx8MCksZS5lbXBsYWNlQmFjayh0PzE6MCxuPzE6MCxpfHwwLHJ8fDApLGUuZW1wbGFjZUJhY2sodD8xOjAsbj8xOjAsaXx8MCxyfHwwKX1jb25zdCBQdD1NYXRoLnBvdygyLDI1KSx6dD1NYXRoLnBvdygyLDI0KSxEdD1NYXRoLnBvdygyLDE3KSxMdD1NYXRoLnBvdygyLDE2KSxPdD1NYXRoLnBvdygyLDkpLFJ0PU1hdGgucG93KDIsOCksQnQ9TWF0aC5wb3coMiwxKTtmdW5jdGlvbiBqdChlKXtpZigwPT09ZS5vcGFjaXR5JiYhZS5wbGFjZWQpcmV0dXJuIDA7aWYoMT09PWUub3BhY2l0eSYmZS5wbGFjZWQpcmV0dXJuIDQyOTQ5NjcyOTU7Y29uc3QgdD1lLnBsYWNlZD8xOjAsbj1NYXRoLmZsb29yKDEyNyplLm9wYWNpdHkpO3JldHVybiBuKlB0K3QqenQrbipEdCt0Kkx0K24qT3QrdCpSdCtuKkJ0K3R9Y29uc3QgRnQ9MDtjbGFzcyBOdHtjb25zdHJ1Y3RvcihlKXt0aGlzLl9zb3J0QWNyb3NzVGlsZXM9XCJ2aWV3cG9ydC15XCIhPT1lLmxheW91dC5nZXQoXCJzeW1ib2wtei1vcmRlclwiKSYmdm9pZCAwIT09ZS5sYXlvdXQuZ2V0KFwic3ltYm9sLXNvcnQta2V5XCIpLmNvbnN0YW50T3IoMSksdGhpcy5fY3VycmVudFRpbGVJbmRleD0wLHRoaXMuX2N1cnJlbnRQYXJ0SW5kZXg9MCx0aGlzLl9zZWVuQ3Jvc3NUaWxlSURzPXt9LHRoaXMuX2J1Y2tldFBhcnRzPVtdfWNvbnRpbnVlUGxhY2VtZW50KGUsdCxuLGkscil7Y29uc3Qgbz10aGlzLl9idWNrZXRQYXJ0cztmb3IoO3RoaXMuX2N1cnJlbnRUaWxlSW5kZXg8ZS5sZW5ndGg7KWlmKHQuZ2V0QnVja2V0UGFydHMobyxpLGVbdGhpcy5fY3VycmVudFRpbGVJbmRleF0sdGhpcy5fc29ydEFjcm9zc1RpbGVzKSx0aGlzLl9jdXJyZW50VGlsZUluZGV4KysscigpKXJldHVybiEwO2Zvcih0aGlzLl9zb3J0QWNyb3NzVGlsZXMmJih0aGlzLl9zb3J0QWNyb3NzVGlsZXM9ITEsby5zb3J0KChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KSk7dGhpcy5fY3VycmVudFBhcnRJbmRleDxvLmxlbmd0aDspe2NvbnN0IGU9b1t0aGlzLl9jdXJyZW50UGFydEluZGV4XTtpZih0LnBsYWNlTGF5ZXJCdWNrZXRQYXJ0KGUsdGhpcy5fc2VlbkNyb3NzVGlsZUlEcyxuLDA9PT1lLnN5bWJvbEluc3RhbmNlU3RhcnQpLHRoaXMuX2N1cnJlbnRQYXJ0SW5kZXgrKyxyKCkpcmV0dXJuITB9cmV0dXJuITF9fWNsYXNzIFV0e2NvbnN0cnVjdG9yKGUsdCxuLGkscixvLGEscyl7dGhpcy5wbGFjZW1lbnQ9bmV3IGt0KGUscixvLGEscyksdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4PXQubGVuZ3RoLTEsdGhpcy5fZm9yY2VGdWxsUGxhY2VtZW50PW4sdGhpcy5fc2hvd0NvbGxpc2lvbkJveGVzPWksdGhpcy5fZG9uZT0hMX1pc0RvbmUoKXtyZXR1cm4gdGhpcy5fZG9uZX1jb250aW51ZVBsYWNlbWVudCh0LG4saSl7Y29uc3Qgcj1lLmV4cG9ydGVkLm5vdygpLG89KCk9Pntjb25zdCB0PWUuZXhwb3J0ZWQubm93KCktcjtyZXR1cm4hdGhpcy5fZm9yY2VGdWxsUGxhY2VtZW50JiZ0PjJ9O2Zvcig7dGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4Pj0wOyl7Y29uc3QgZT1uW3RbdGhpcy5fY3VycmVudFBsYWNlbWVudEluZGV4XV0scj10aGlzLnBsYWNlbWVudC5jb2xsaXNpb25JbmRleC50cmFuc2Zvcm0uem9vbTtpZihcInN5bWJvbFwiPT09ZS50eXBlJiYoIWUubWluem9vbXx8ZS5taW56b29tPD1yKSYmKCFlLm1heHpvb218fGUubWF4em9vbT5yKSl7aWYodGhpcy5faW5Qcm9ncmVzc0xheWVyfHwodGhpcy5faW5Qcm9ncmVzc0xheWVyPW5ldyBOdChlKSksdGhpcy5faW5Qcm9ncmVzc0xheWVyLmNvbnRpbnVlUGxhY2VtZW50KGlbZS5zb3VyY2VdLHRoaXMucGxhY2VtZW50LHRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyxlLG8pKXJldHVybjtkZWxldGUgdGhpcy5faW5Qcm9ncmVzc0xheWVyfXRoaXMuX2N1cnJlbnRQbGFjZW1lbnRJbmRleC0tfXRoaXMuX2RvbmU9ITB9Y29tbWl0KGUpe3JldHVybiB0aGlzLnBsYWNlbWVudC5jb21taXQoZSksdGhpcy5wbGFjZW1lbnR9fWNvbnN0IFZ0PTUxMi9lLkVYVEVOVC8yO2NsYXNzIEd0e2NvbnN0cnVjdG9yKGUsdCxuKXt0aGlzLnRpbGVJRD1lLHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlcz17fSx0aGlzLmJ1Y2tldEluc3RhbmNlSWQ9bjtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKyl7Y29uc3QgaT10LmdldChuKSxyPWkua2V5O3RoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1tyXXx8KHRoaXMuaW5kZXhlZFN5bWJvbEluc3RhbmNlc1tyXT1bXSksdGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW3JdLnB1c2goe2Nyb3NzVGlsZUlEOmkuY3Jvc3NUaWxlSUQsY29vcmQ6dGhpcy5nZXRTY2FsZWRDb29yZGluYXRlcyhpLGUpfSl9fWdldFNjYWxlZENvb3JkaW5hdGVzKHQsbil7Y29uc3QgaT1WdC9NYXRoLnBvdygyLG4uY2Fub25pY2FsLnotdGhpcy50aWxlSUQuY2Fub25pY2FsLnopO3JldHVybnt4Ok1hdGguZmxvb3IoKG4uY2Fub25pY2FsLngqZS5FWFRFTlQrdC50aWxlQW5jaG9yWCkqaSkseTpNYXRoLmZsb29yKChuLmNhbm9uaWNhbC55KmUuRVhURU5UK3QudGlsZUFuY2hvclkpKmkpfX1maW5kTWF0Y2hlcyhlLHQsbil7Y29uc3QgaT10aGlzLnRpbGVJRC5jYW5vbmljYWwuejx0LmNhbm9uaWNhbC56PzE6TWF0aC5wb3coMix0aGlzLnRpbGVJRC5jYW5vbmljYWwuei10LmNhbm9uaWNhbC56KTtmb3IobGV0IHI9MDtyPGUubGVuZ3RoO3IrKyl7Y29uc3Qgbz1lLmdldChyKTtpZihvLmNyb3NzVGlsZUlEKWNvbnRpbnVlO2NvbnN0IGE9dGhpcy5pbmRleGVkU3ltYm9sSW5zdGFuY2VzW28ua2V5XTtpZighYSljb250aW51ZTtjb25zdCBzPXRoaXMuZ2V0U2NhbGVkQ29vcmRpbmF0ZXMobyx0KTtmb3IoY29uc3QgZSBvZiBhKWlmKE1hdGguYWJzKGUuY29vcmQueC1zLngpPD1pJiZNYXRoLmFicyhlLmNvb3JkLnktcy55KTw9aSYmIW5bZS5jcm9zc1RpbGVJRF0pe25bZS5jcm9zc1RpbGVJRF09ITAsby5jcm9zc1RpbGVJRD1lLmNyb3NzVGlsZUlEO2JyZWFrfX19fWNsYXNzIFp0e2NvbnN0cnVjdG9yKCl7dGhpcy5tYXhDcm9zc1RpbGVJRD0wfWdlbmVyYXRlKCl7cmV0dXJuKyt0aGlzLm1heENyb3NzVGlsZUlEfX1jbGFzcyBXdHtjb25zdHJ1Y3Rvcigpe3RoaXMuaW5kZXhlcz17fSx0aGlzLnVzZWRDcm9zc1RpbGVJRHM9e30sdGhpcy5sbmc9MH1oYW5kbGVXcmFwSnVtcChlKXtjb25zdCB0PU1hdGgucm91bmQoKGUtdGhpcy5sbmcpLzM2MCk7aWYoMCE9PXQpZm9yKGNvbnN0IGUgaW4gdGhpcy5pbmRleGVzKXtjb25zdCBuPXRoaXMuaW5kZXhlc1tlXSxpPXt9O2Zvcihjb25zdCBlIGluIG4pe2NvbnN0IHI9bltlXTtyLnRpbGVJRD1yLnRpbGVJRC51bndyYXBUbyhyLnRpbGVJRC53cmFwK3QpLGlbci50aWxlSUQua2V5XT1yfXRoaXMuaW5kZXhlc1tlXT1pfXRoaXMubG5nPWV9YWRkQnVja2V0KGUsdCxuKXtpZih0aGlzLmluZGV4ZXNbZS5vdmVyc2NhbGVkWl0mJnRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXVtlLmtleV0pe2lmKHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXVtlLmtleV0uYnVja2V0SW5zdGFuY2VJZD09PXQuYnVja2V0SW5zdGFuY2VJZClyZXR1cm4hMTt0aGlzLnJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyhlLm92ZXJzY2FsZWRaLHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXVtlLmtleV0pfWZvcihsZXQgZT0wO2U8dC5zeW1ib2xJbnN0YW5jZXMubGVuZ3RoO2UrKyl0LnN5bWJvbEluc3RhbmNlcy5nZXQoZSkuY3Jvc3NUaWxlSUQ9MDt0aGlzLnVzZWRDcm9zc1RpbGVJRHNbZS5vdmVyc2NhbGVkWl18fCh0aGlzLnVzZWRDcm9zc1RpbGVJRHNbZS5vdmVyc2NhbGVkWl09e30pO2NvbnN0IGk9dGhpcy51c2VkQ3Jvc3NUaWxlSURzW2Uub3ZlcnNjYWxlZFpdO2Zvcihjb25zdCBuIGluIHRoaXMuaW5kZXhlcyl7Y29uc3Qgcj10aGlzLmluZGV4ZXNbbl07aWYoTnVtYmVyKG4pPmUub3ZlcnNjYWxlZFopZm9yKGNvbnN0IG4gaW4gcil7Y29uc3Qgbz1yW25dO28udGlsZUlELmlzQ2hpbGRPZihlKSYmby5maW5kTWF0Y2hlcyh0LnN5bWJvbEluc3RhbmNlcyxlLGkpfWVsc2V7Y29uc3Qgbz1yW2Uuc2NhbGVkVG8oTnVtYmVyKG4pKS5rZXldO28mJm8uZmluZE1hdGNoZXModC5zeW1ib2xJbnN0YW5jZXMsZSxpKX19Zm9yKGxldCBlPTA7ZTx0LnN5bWJvbEluc3RhbmNlcy5sZW5ndGg7ZSsrKXtjb25zdCByPXQuc3ltYm9sSW5zdGFuY2VzLmdldChlKTtyLmNyb3NzVGlsZUlEfHwoci5jcm9zc1RpbGVJRD1uLmdlbmVyYXRlKCksaVtyLmNyb3NzVGlsZUlEXT0hMCl9cmV0dXJuIHZvaWQgMD09PXRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXSYmKHRoaXMuaW5kZXhlc1tlLm92ZXJzY2FsZWRaXT17fSksdGhpcy5pbmRleGVzW2Uub3ZlcnNjYWxlZFpdW2Uua2V5XT1uZXcgR3QoZSx0LnN5bWJvbEluc3RhbmNlcyx0LmJ1Y2tldEluc3RhbmNlSWQpLCEwfXJlbW92ZUJ1Y2tldENyb3NzVGlsZUlEcyhlLHQpe2Zvcihjb25zdCBuIGluIHQuaW5kZXhlZFN5bWJvbEluc3RhbmNlcylmb3IoY29uc3QgaSBvZiB0LmluZGV4ZWRTeW1ib2xJbnN0YW5jZXNbbl0pZGVsZXRlIHRoaXMudXNlZENyb3NzVGlsZUlEc1tlXVtpLmNyb3NzVGlsZUlEXX1yZW1vdmVTdGFsZUJ1Y2tldHMoZSl7bGV0IHQ9ITE7Zm9yKGNvbnN0IG4gaW4gdGhpcy5pbmRleGVzKXtjb25zdCBpPXRoaXMuaW5kZXhlc1tuXTtmb3IoY29uc3QgciBpbiBpKWVbaVtyXS5idWNrZXRJbnN0YW5jZUlkXXx8KHRoaXMucmVtb3ZlQnVja2V0Q3Jvc3NUaWxlSURzKG4saVtyXSksZGVsZXRlIGlbcl0sdD0hMCl9cmV0dXJuIHR9fWNsYXNzIHF0e2NvbnN0cnVjdG9yKCl7dGhpcy5sYXllckluZGV4ZXM9e30sdGhpcy5jcm9zc1RpbGVJRHM9bmV3IFp0LHRoaXMubWF4QnVja2V0SW5zdGFuY2VJZD0wLHRoaXMuYnVja2V0c0luQ3VycmVudFBsYWNlbWVudD17fX1hZGRMYXllcihlLHQsbixpKXtsZXQgcj10aGlzLmxheWVySW5kZXhlc1tlLmlkXTt2b2lkIDA9PT1yJiYocj10aGlzLmxheWVySW5kZXhlc1tlLmlkXT1uZXcgV3QpO2xldCBvPSExO2NvbnN0IGE9e307XCJnbG9iZVwiIT09aS5uYW1lJiZyLmhhbmRsZVdyYXBKdW1wKG4pO2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9bi5nZXRCdWNrZXQoZSk7dCYmZS5pZD09PXQubGF5ZXJJZHNbMF0mJih0LmJ1Y2tldEluc3RhbmNlSWR8fCh0LmJ1Y2tldEluc3RhbmNlSWQ9Kyt0aGlzLm1heEJ1Y2tldEluc3RhbmNlSWQpLHIuYWRkQnVja2V0KG4udGlsZUlELHQsdGhpcy5jcm9zc1RpbGVJRHMpJiYobz0hMCksYVt0LmJ1Y2tldEluc3RhbmNlSWRdPSEwKX1yZXR1cm4gci5yZW1vdmVTdGFsZUJ1Y2tldHMoYSkmJihvPSEwKSxvfXBydW5lVW51c2VkTGF5ZXJzKGUpe2NvbnN0IHQ9e307ZS5mb3JFYWNoKGU9Pnt0W2VdPSEwfSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5sYXllckluZGV4ZXMpdFtlXXx8ZGVsZXRlIHRoaXMubGF5ZXJJbmRleGVzW2VdfX1jb25zdCAkdD0odCxuKT0+ZS5lbWl0VmFsaWRhdGlvbkVycm9ycyh0LG4mJm4uZmlsdGVyKGU9Plwic291cmNlLmNhbnZhc1wiIT09ZS5pZGVudGlmaWVyKSksSHQ9ZS5waWNrKFplLFtcImFkZExheWVyXCIsXCJyZW1vdmVMYXllclwiLFwic2V0UGFpbnRQcm9wZXJ0eVwiLFwic2V0TGF5b3V0UHJvcGVydHlcIixcInNldEZpbHRlclwiLFwiYWRkU291cmNlXCIsXCJyZW1vdmVTb3VyY2VcIixcInNldExheWVyWm9vbVJhbmdlXCIsXCJzZXRMaWdodFwiLFwic2V0VHJhbnNpdGlvblwiLFwic2V0R2VvSlNPTlNvdXJjZURhdGFcIixcInNldFRlcnJhaW5cIixcInNldEZvZ1wiLFwic2V0UHJvamVjdGlvblwiXSksWHQ9ZS5waWNrKFplLFtcInNldENlbnRlclwiLFwic2V0Wm9vbVwiLFwic2V0QmVhcmluZ1wiLFwic2V0UGl0Y2hcIl0pLFl0PXt2ZXJzaW9uOjgsbGF5ZXJzOltdLHNvdXJjZXM6e319LEp0PXtmaWxsOiEwLGxpbmU6ITAsYmFja2dyb3VuZDohMCxoaWxsc2hhZGU6ITAscmFzdGVyOiEwfTtjbGFzcyBRdCBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LG49e30pe3N1cGVyKCksdGhpcy5tYXA9dCx0aGlzLmRpc3BhdGNoZXI9bmV3IHooVWUoKSx0aGlzKSx0aGlzLmltYWdlTWFuYWdlcj1uZXcgeCx0aGlzLmltYWdlTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KHRoaXMpLHRoaXMuZ2x5cGhNYW5hZ2VyPW5ldyBlLkdseXBoTWFuYWdlcih0Ll9yZXF1ZXN0TWFuYWdlcixuLmxvY2FsRm9udEZhbWlseT9lLkxvY2FsR2x5cGhNb2RlLmFsbDpuLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseT9lLkxvY2FsR2x5cGhNb2RlLmlkZW9ncmFwaHM6ZS5Mb2NhbEdseXBoTW9kZS5ub25lLG4ubG9jYWxGb250RmFtaWx5fHxuLmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSksdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleD1uZXcgcXQsdGhpcy5fbGF5ZXJzPXt9LHRoaXMuX251bTNETGF5ZXJzPTAsdGhpcy5fbnVtU3ltYm9sTGF5ZXJzPTAsdGhpcy5fbnVtQ2lyY2xlTGF5ZXJzPTAsdGhpcy5fc2VyaWFsaXplZExheWVycz17fSx0aGlzLl9zb3VyY2VDYWNoZXM9e30sdGhpcy5fb3RoZXJTb3VyY2VDYWNoZXM9e30sdGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzPXt9LHRoaXMuX2xvYWRlZD0hMSx0aGlzLl9hdmFpbGFibGVJbWFnZXM9W10sdGhpcy5fb3JkZXI9W10sdGhpcy5fZHJhcGVkRmlyc3RPcmRlcj1bXSx0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMSx0aGlzLl9yZXNldFVwZGF0ZXMoKSx0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0UmVmZXJyZXJcIixlLmdldFJlZmVycmVyKCkpO2NvbnN0IGk9dGhpczt0aGlzLl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2s9UXQucmVnaXN0ZXJGb3JQbHVnaW5TdGF0ZUNoYW5nZSh0PT57aS5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInN5bmNSVExQbHVnaW5TdGF0ZVwiLHtwbHVnaW5TdGF0dXM6dC5wbHVnaW5TdGF0dXMscGx1Z2luVVJMOnQucGx1Z2luVVJMfSwodCxuKT0+e2lmKGUudHJpZ2dlclBsdWdpbkNvbXBsZXRpb25FdmVudCh0KSxuJiZuLmV2ZXJ5KGU9PmUpKWZvcihjb25zdCBlIGluIGkuX3NvdXJjZUNhY2hlcyl7Y29uc3QgdD1pLl9zb3VyY2VDYWNoZXNbZV0sbj10LmdldFNvdXJjZSgpLnR5cGU7XCJ2ZWN0b3JcIiE9PW4mJlwiZ2VvanNvblwiIT09bnx8dC5yZWxvYWQoKX19KX0pLHRoaXMub24oXCJkYXRhXCIsZT0+e2lmKFwic291cmNlXCIhPT1lLmRhdGFUeXBlfHxcIm1ldGFkYXRhXCIhPT1lLnNvdXJjZURhdGFUeXBlKXJldHVybjtjb25zdCB0PXRoaXMuZ2V0U291cmNlKGUuc291cmNlSWQpO2lmKHQmJnQudmVjdG9yTGF5ZXJJZHMpZm9yKGNvbnN0IGUgaW4gdGhpcy5fbGF5ZXJzKXtjb25zdCBuPXRoaXMuX2xheWVyc1tlXTtuLnNvdXJjZT09PXQuaWQmJnRoaXMuX3ZhbGlkYXRlTGF5ZXIobil9fSl9bG9hZFVSTCh0LG49e30pe3RoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKTtjb25zdCBpPVwiYm9vbGVhblwiPT10eXBlb2Ygbi52YWxpZGF0ZT9uLnZhbGlkYXRlOiFlLmlzTWFwYm94VVJMKHQpO3Q9dGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLm5vcm1hbGl6ZVN0eWxlVVJMKHQsbi5hY2Nlc3NUb2tlbik7Y29uc3Qgcj10aGlzLm1hcC5fcmVxdWVzdE1hbmFnZXIudHJhbnNmb3JtUmVxdWVzdCh0LGUuUmVzb3VyY2VUeXBlLlN0eWxlKTt0aGlzLl9yZXF1ZXN0PWUuZ2V0SlNPTihyLCh0LG4pPT57dGhpcy5fcmVxdWVzdD1udWxsLHQ/dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpOm4mJnRoaXMuX2xvYWQobixpKX0pfWxvYWRKU09OKHQsbj17fSl7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YWxvYWRpbmdcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpLHRoaXMuX3JlcXVlc3Q9ZS5leHBvcnRlZC5mcmFtZSgoKT0+e3RoaXMuX3JlcXVlc3Q9bnVsbCx0aGlzLl9sb2FkKHQsITEhPT1uLnZhbGlkYXRlKX0pfWxvYWRFbXB0eSgpe3RoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFsb2FkaW5nXCIse2RhdGFUeXBlOlwic3R5bGVcIn0pKSx0aGlzLl9sb2FkKFl0LCExKX1fdXBkYXRlTGF5ZXJDb3VudChlLHQpe2NvbnN0IG49dD8xOi0xO2UuaXMzRCgpJiYodGhpcy5fbnVtM0RMYXllcnMrPW4pLFwiY2lyY2xlXCI9PT1lLnR5cGUmJih0aGlzLl9udW1DaXJjbGVMYXllcnMrPW4pLFwic3ltYm9sXCI9PT1lLnR5cGUmJih0aGlzLl9udW1TeW1ib2xMYXllcnMrPW4pfV9sb2FkKHQsbil7aWYobiYmJHQodGhpcyxlLnZhbGlkYXRlU3R5bGUodCkpKXJldHVybjt0aGlzLl9sb2FkZWQ9ITAsdGhpcy5zdHlsZXNoZWV0PWUuY2xvbmUkMSh0KSx0aGlzLl91cGRhdGVNYXBQcm9qZWN0aW9uKCk7Zm9yKGNvbnN0IGUgaW4gdC5zb3VyY2VzKXRoaXMuYWRkU291cmNlKGUsdC5zb3VyY2VzW2VdLHt2YWxpZGF0ZTohMX0pO3RoaXMuX2NoYW5nZWQ9ITEsdC5zcHJpdGU/dGhpcy5fbG9hZFNwcml0ZSh0LnNwcml0ZSk6KHRoaXMuaW1hZ2VNYW5hZ2VyLnNldExvYWRlZCghMCksdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNwcml0ZUxvYWRlZFwiLCEwKSksdGhpcy5nbHlwaE1hbmFnZXIuc2V0VVJMKHQuZ2x5cGhzKTtjb25zdCBpPUdlKHRoaXMuc3R5bGVzaGVldC5sYXllcnMpO3RoaXMuX29yZGVyPWkubWFwKGU9PmUuaWQpLHRoaXMuX2xheWVycz17fSx0aGlzLl9zZXJpYWxpemVkTGF5ZXJzPXt9O2ZvcihsZXQgdCBvZiBpKXQ9ZS5jcmVhdGVTdHlsZUxheWVyKHQpLHQuc2V0RXZlbnRlZFBhcmVudCh0aGlzLHtsYXllcjp7aWQ6dC5pZH19KSx0aGlzLl9sYXllcnNbdC5pZF09dCx0aGlzLl9zZXJpYWxpemVkTGF5ZXJzW3QuaWRdPXQuc2VyaWFsaXplKCksdGhpcy5fdXBkYXRlTGF5ZXJDb3VudCh0LCEwKTt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwic2V0TGF5ZXJzXCIsdGhpcy5fc2VyaWFsaXplTGF5ZXJzKHRoaXMuX29yZGVyKSksdGhpcy5saWdodD1uZXcgVCh0aGlzLnN0eWxlc2hlZXQubGlnaHQpLHRoaXMuc3R5bGVzaGVldC50ZXJyYWluJiYhdGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSYmdGhpcy5fY3JlYXRlVGVycmFpbih0aGlzLnN0eWxlc2hlZXQudGVycmFpbiwxKSx0aGlzLnN0eWxlc2hlZXQuZm9nJiZ0aGlzLl9jcmVhdGVGb2codGhpcy5zdHlsZXNoZWV0LmZvZyksdGhpcy5fdXBkYXRlRHJhcGVGaXJzdExheWVycygpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcInN0eWxlLmxvYWRcIikpfXRlcnJhaW5TZXRGb3JEcmFwaW5nT25seSgpe3JldHVybiEhdGhpcy50ZXJyYWluJiYwPT09dGhpcy50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZX1zZXRQcm9qZWN0aW9uKGUpe2U/dGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb249ZTpkZWxldGUgdGhpcy5zdHlsZXNoZWV0LnByb2plY3Rpb24sdGhpcy5fdXBkYXRlTWFwUHJvamVjdGlvbigpfWFwcGx5UHJvamVjdGlvblVwZGF0ZSgpe3RoaXMuX2xvYWRlZCYmKHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRQcm9qZWN0aW9uXCIsdGhpcy5tYXAudHJhbnNmb3JtLnByb2plY3Rpb25PcHRpb25zKSx0aGlzLm1hcC50cmFuc2Zvcm0ucHJvamVjdGlvbi5yZXF1aXJlc0RyYXBpbmc/dGhpcy5nZXRUZXJyYWluKCl8fHRoaXMuc3R5bGVzaGVldC50ZXJyYWlufHx0aGlzLnNldFRlcnJhaW5Gb3JEcmFwaW5nKCk6dGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSYmdGhpcy5zZXRUZXJyYWluKG51bGwpKX1fdXBkYXRlTWFwUHJvamVjdGlvbigpe3RoaXMubWFwLl91c2VFeHBsaWNpdFByb2plY3Rpb24/dGhpcy5hcHBseVByb2plY3Rpb25VcGRhdGUoKTp0aGlzLm1hcC5fcHJpb3JpdGl6ZUFuZFVwZGF0ZVByb2plY3Rpb24obnVsbCx0aGlzLnN0eWxlc2hlZXQucHJvamVjdGlvbil9X2xvYWRTcHJpdGUodCl7dGhpcy5fc3ByaXRlUmVxdWVzdD1mdW5jdGlvbih0LG4saSl7bGV0IHIsbyxhO2NvbnN0IHM9ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvPjE/XCJAMnhcIjpcIlwiO2xldCBsPWUuZ2V0SlNPTihuLnRyYW5zZm9ybVJlcXVlc3Qobi5ub3JtYWxpemVTcHJpdGVVUkwodCxzLFwiLmpzb25cIiksZS5SZXNvdXJjZVR5cGUuU3ByaXRlSlNPTiksKGUsdCk9PntsPW51bGwsYXx8KGE9ZSxyPXQsdSgpKX0pLGM9ZS5nZXRJbWFnZShuLnRyYW5zZm9ybVJlcXVlc3Qobi5ub3JtYWxpemVTcHJpdGVVUkwodCxzLFwiLnBuZ1wiKSxlLlJlc291cmNlVHlwZS5TcHJpdGVJbWFnZSksKGUsdCk9PntjPW51bGwsYXx8KGE9ZSxvPXQsdSgpKX0pO2Z1bmN0aW9uIHUoKXtpZihhKWkoYSk7ZWxzZSBpZihyJiZvKXtjb25zdCB0PWUuZXhwb3J0ZWQuZ2V0SW1hZ2VEYXRhKG8pLG49e307Zm9yKGNvbnN0IGkgaW4gcil7Y29uc3R7d2lkdGg6byxoZWlnaHQ6YSx4OnMseTpsLHNkZjpjLHBpeGVsUmF0aW86dSxzdHJldGNoWDpoLHN0cmV0Y2hZOmQsY29udGVudDpwfT1yW2ldLGY9bmV3IGUuUkdCQUltYWdlKHt3aWR0aDpvLGhlaWdodDphfSk7ZS5SR0JBSW1hZ2UuY29weSh0LGYse3g6cyx5Omx9LHt4OjAseTowfSx7d2lkdGg6byxoZWlnaHQ6YX0pLG5baV09e2RhdGE6ZixwaXhlbFJhdGlvOnUsc2RmOmMsc3RyZXRjaFg6aCxzdHJldGNoWTpkLGNvbnRlbnQ6cH19aShudWxsLG4pfX1yZXR1cm57Y2FuY2VsKCl7bCYmKGwuY2FuY2VsKCksbD1udWxsKSxjJiYoYy5jYW5jZWwoKSxjPW51bGwpfX19KHQsdGhpcy5tYXAuX3JlcXVlc3RNYW5hZ2VyLCh0LG4pPT57aWYodGhpcy5fc3ByaXRlUmVxdWVzdD1udWxsLHQpdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQodCkpO2Vsc2UgaWYobilmb3IoY29uc3QgZSBpbiBuKXRoaXMuaW1hZ2VNYW5hZ2VyLmFkZEltYWdlKGUsbltlXSk7dGhpcy5pbWFnZU1hbmFnZXIuc2V0TG9hZGVkKCEwKSx0aGlzLl9hdmFpbGFibGVJbWFnZXM9dGhpcy5pbWFnZU1hbmFnZXIubGlzdEltYWdlcygpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzZXRJbWFnZXNcIix0aGlzLl9hdmFpbGFibGVJbWFnZXMpLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJzcHJpdGVMb2FkZWRcIiwhMCksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSl9KX1fdmFsaWRhdGVMYXllcih0KXtjb25zdCBuPXRoaXMuZ2V0U291cmNlKHQuc291cmNlKTtpZighbilyZXR1cm47Y29uc3QgaT10LnNvdXJjZUxheWVyO2kmJihcImdlb2pzb25cIj09PW4udHlwZXx8bi52ZWN0b3JMYXllcklkcyYmLTE9PT1uLnZlY3RvckxheWVySWRzLmluZGV4T2YoaSkpJiZ0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFNvdXJjZSBsYXllciBcIiR7aX1cIiBkb2VzIG5vdCBleGlzdCBvbiBzb3VyY2UgXCIke24uaWR9XCIgYXMgc3BlY2lmaWVkIGJ5IHN0eWxlIGxheWVyIFwiJHt0LmlkfVwiYCkpKX1sb2FkZWQoKXtpZighdGhpcy5fbG9hZGVkKXJldHVybiExO2lmKE9iamVjdC5rZXlzKHRoaXMuX3VwZGF0ZWRTb3VyY2VzKS5sZW5ndGgpcmV0dXJuITE7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKWlmKCF0aGlzLl9zb3VyY2VDYWNoZXNbZV0ubG9hZGVkKCkpcmV0dXJuITE7cmV0dXJuISF0aGlzLmltYWdlTWFuYWdlci5pc0xvYWRlZCgpfV9zZXJpYWxpemVMYXllcnMoZSl7Y29uc3QgdD1bXTtmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBlPXRoaXMuX2xheWVyc1tuXTtcImN1c3RvbVwiIT09ZS50eXBlJiZ0LnB1c2goZS5zZXJpYWxpemUoKSl9cmV0dXJuIHR9aGFzVHJhbnNpdGlvbnMoKXtpZih0aGlzLmxpZ2h0JiZ0aGlzLmxpZ2h0Lmhhc1RyYW5zaXRpb24oKSlyZXR1cm4hMDtpZih0aGlzLmZvZyYmdGhpcy5mb2cuaGFzVHJhbnNpdGlvbigpKXJldHVybiEwO2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcylpZih0aGlzLl9zb3VyY2VDYWNoZXNbZV0uaGFzVHJhbnNpdGlvbigpKXJldHVybiEwO2Zvcihjb25zdCBlIGluIHRoaXMuX2xheWVycylpZih0aGlzLl9sYXllcnNbZV0uaGFzVHJhbnNpdGlvbigpKXJldHVybiEwO3JldHVybiExfWdldCBvcmRlcigpe3JldHVybiB0aGlzLm1hcC5fb3B0aW1pemVGb3JUZXJyYWluJiZ0aGlzLnRlcnJhaW4/dGhpcy5fZHJhcGVkRmlyc3RPcmRlcjp0aGlzLl9vcmRlcn1pc0xheWVyRHJhcGVkKGUpe3JldHVybiEhdGhpcy50ZXJyYWluJiZKdFtlLnR5cGVdfV9jaGVja0xvYWRlZCgpe2lmKCF0aGlzLl9sb2FkZWQpdGhyb3cgbmV3IEVycm9yKFwiU3R5bGUgaXMgbm90IGRvbmUgbG9hZGluZ1wiKX11cGRhdGUodCl7aWYoIXRoaXMuX2xvYWRlZClyZXR1cm47Y29uc3Qgbj10aGlzLl9jaGFuZ2VkO2lmKHRoaXMuX2NoYW5nZWQpe2NvbnN0IGU9T2JqZWN0LmtleXModGhpcy5fdXBkYXRlZExheWVycyksbj1PYmplY3Qua2V5cyh0aGlzLl9yZW1vdmVkTGF5ZXJzKTsoZS5sZW5ndGh8fG4ubGVuZ3RoKSYmdGhpcy5fdXBkYXRlV29ya2VyTGF5ZXJzKGUsbik7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdXBkYXRlZFNvdXJjZXMpe2NvbnN0IHQ9dGhpcy5fdXBkYXRlZFNvdXJjZXNbZV07XCJyZWxvYWRcIj09PXQ/dGhpcy5fcmVsb2FkU291cmNlKGUpOlwiY2xlYXJcIj09PXQmJnRoaXMuX2NsZWFyU291cmNlKGUpfXRoaXMuX3VwZGF0ZVRpbGVzRm9yQ2hhbmdlZEltYWdlcygpO2Zvcihjb25zdCBlIGluIHRoaXMuX3VwZGF0ZWRQYWludFByb3BzKXRoaXMuX2xheWVyc1tlXS51cGRhdGVUcmFuc2l0aW9ucyh0KTt0aGlzLmxpZ2h0LnVwZGF0ZVRyYW5zaXRpb25zKHQpLHRoaXMuZm9nJiZ0aGlzLmZvZy51cGRhdGVUcmFuc2l0aW9ucyh0KSx0aGlzLl9yZXNldFVwZGF0ZXMoKX1jb25zdCBpPXt9O2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcyl7Y29uc3QgdD10aGlzLl9zb3VyY2VDYWNoZXNbZV07aVtlXT10LnVzZWQsdC51c2VkPSExfWZvcihjb25zdCBlIG9mIHRoaXMuX29yZGVyKXtjb25zdCBuPXRoaXMuX2xheWVyc1tlXTtpZihuLnJlY2FsY3VsYXRlKHQsdGhpcy5fYXZhaWxhYmxlSW1hZ2VzKSwhbi5pc0hpZGRlbih0Lnpvb20pKXtjb25zdCBlPXRoaXMuX2dldExheWVyU291cmNlQ2FjaGUobik7ZSYmKGUudXNlZD0hMCl9Y29uc3QgaT10aGlzLm1hcC5wYWludGVyO2lmKGkpe2NvbnN0IGU9bi5nZXRQcm9ncmFtSWRzKCk7aWYoIWUpY29udGludWU7Y29uc3Qgcj1uLmdldFByb2dyYW1Db25maWd1cmF0aW9uKHQuem9vbSk7Zm9yKGNvbnN0IHQgb2YgZSlpLnVzZVByb2dyYW0odCxyKX19Zm9yKGNvbnN0IHQgaW4gaSl7Y29uc3Qgbj10aGlzLl9zb3VyY2VDYWNoZXNbdF07aVt0XSE9PW4udXNlZCYmbi5nZXRTb3VyY2UoKS5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtzb3VyY2VEYXRhVHlwZTpcInZpc2liaWxpdHlcIixkYXRhVHlwZTpcInNvdXJjZVwiLHNvdXJjZUlkOm4uZ2V0U291cmNlKCkuaWR9KSl9dGhpcy5saWdodC5yZWNhbGN1bGF0ZSh0KSx0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5yZWNhbGN1bGF0ZSh0KSx0aGlzLmZvZyYmdGhpcy5mb2cucmVjYWxjdWxhdGUodCksdGhpcy56PXQuem9vbSx0aGlzLl9tYXJrZXJzTmVlZFVwZGF0ZSYmKHRoaXMuX3VwZGF0ZU1hcmtlcnNPcGFjaXR5KCksdGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITEpLG4mJnRoaXMuZmlyZShuZXcgZS5FdmVudChcImRhdGFcIix7ZGF0YVR5cGU6XCJzdHlsZVwifSkpfV91cGRhdGVUaWxlc0ZvckNoYW5nZWRJbWFnZXMoKXtjb25zdCBlPU9iamVjdC5rZXlzKHRoaXMuX2NoYW5nZWRJbWFnZXMpO2lmKGUubGVuZ3RoKXtmb3IoY29uc3QgdCBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpdGhpcy5fc291cmNlQ2FjaGVzW3RdLnJlbG9hZFRpbGVzRm9yRGVwZW5kZW5jaWVzKFtcImljb25zXCIsXCJwYXR0ZXJuc1wiXSxlKTt0aGlzLl9jaGFuZ2VkSW1hZ2VzPXt9fX1fdXBkYXRlV29ya2VyTGF5ZXJzKGUsdCl7dGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInVwZGF0ZUxheWVyc1wiLHtsYXllcnM6dGhpcy5fc2VyaWFsaXplTGF5ZXJzKGUpLHJlbW92ZWRJZHM6dH0pfV9yZXNldFVwZGF0ZXMoKXt0aGlzLl9jaGFuZ2VkPSExLHRoaXMuX3VwZGF0ZWRMYXllcnM9e30sdGhpcy5fcmVtb3ZlZExheWVycz17fSx0aGlzLl91cGRhdGVkU291cmNlcz17fSx0aGlzLl91cGRhdGVkUGFpbnRQcm9wcz17fSx0aGlzLl9jaGFuZ2VkSW1hZ2VzPXt9fXNldFN0YXRlKG4pe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksJHQodGhpcyxlLnZhbGlkYXRlU3R5bGUobikpKXJldHVybiExOyhuPWUuY2xvbmUkMShuKSkubGF5ZXJzPUdlKG4ubGF5ZXJzKTtjb25zdCBpPWZ1bmN0aW9uKGUsbil7aWYoIWUpcmV0dXJuW3tjb21tYW5kOlplLnNldFN0eWxlLGFyZ3M6W25dfV07bGV0IGk9W107dHJ5e2lmKCF0KGUudmVyc2lvbixuLnZlcnNpb24pKXJldHVyblt7Y29tbWFuZDpaZS5zZXRTdHlsZSxhcmdzOltuXX1dO3QoZS5jZW50ZXIsbi5jZW50ZXIpfHxpLnB1c2goe2NvbW1hbmQ6WmUuc2V0Q2VudGVyLGFyZ3M6W24uY2VudGVyXX0pLHQoZS56b29tLG4uem9vbSl8fGkucHVzaCh7Y29tbWFuZDpaZS5zZXRab29tLGFyZ3M6W24uem9vbV19KSx0KGUuYmVhcmluZyxuLmJlYXJpbmcpfHxpLnB1c2goe2NvbW1hbmQ6WmUuc2V0QmVhcmluZyxhcmdzOltuLmJlYXJpbmddfSksdChlLnBpdGNoLG4ucGl0Y2gpfHxpLnB1c2goe2NvbW1hbmQ6WmUuc2V0UGl0Y2gsYXJnczpbbi5waXRjaF19KSx0KGUuc3ByaXRlLG4uc3ByaXRlKXx8aS5wdXNoKHtjb21tYW5kOlplLnNldFNwcml0ZSxhcmdzOltuLnNwcml0ZV19KSx0KGUuZ2x5cGhzLG4uZ2x5cGhzKXx8aS5wdXNoKHtjb21tYW5kOlplLnNldEdseXBocyxhcmdzOltuLmdseXBoc119KSx0KGUudHJhbnNpdGlvbixuLnRyYW5zaXRpb24pfHxpLnB1c2goe2NvbW1hbmQ6WmUuc2V0VHJhbnNpdGlvbixhcmdzOltuLnRyYW5zaXRpb25dfSksdChlLmxpZ2h0LG4ubGlnaHQpfHxpLnB1c2goe2NvbW1hbmQ6WmUuc2V0TGlnaHQsYXJnczpbbi5saWdodF19KSx0KGUuZm9nLG4uZm9nKXx8aS5wdXNoKHtjb21tYW5kOlplLnNldEZvZyxhcmdzOltuLmZvZ119KSx0KGUucHJvamVjdGlvbixuLnByb2plY3Rpb24pfHxpLnB1c2goe2NvbW1hbmQ6WmUuc2V0UHJvamVjdGlvbixhcmdzOltuLnByb2plY3Rpb25dfSk7Y29uc3Qgcj17fSxvPVtdOyFmdW5jdGlvbihlLG4saSxyKXtsZXQgbztmb3IobyBpbiBuPW58fHt9LGU9ZXx8e30pZS5oYXNPd25Qcm9wZXJ0eShvKSYmKG4uaGFzT3duUHJvcGVydHkobyl8fHFlKG8saSxyKSk7Zm9yKG8gaW4gbiluLmhhc093blByb3BlcnR5KG8pJiYoZS5oYXNPd25Qcm9wZXJ0eShvKT90KGVbb10sbltvXSl8fChcImdlb2pzb25cIj09PWVbb10udHlwZSYmXCJnZW9qc29uXCI9PT1uW29dLnR5cGUmJkhlKGUsbixvKT9pLnB1c2goe2NvbW1hbmQ6WmUuc2V0R2VvSlNPTlNvdXJjZURhdGEsYXJnczpbbyxuW29dLmRhdGFdfSk6JGUobyxuLGkscikpOldlKG8sbixpKSl9KGUuc291cmNlcyxuLnNvdXJjZXMsbyxyKTtjb25zdCBhPVtdO2UubGF5ZXJzJiZlLmxheWVycy5mb3JFYWNoKGU9PntlLnNvdXJjZSYmcltlLnNvdXJjZV0/aS5wdXNoKHtjb21tYW5kOlplLnJlbW92ZUxheWVyLGFyZ3M6W2UuaWRdfSk6YS5wdXNoKGUpfSk7bGV0IHM9ZS50ZXJyYWluO3MmJnJbcy5zb3VyY2VdJiYoaS5wdXNoKHtjb21tYW5kOlplLnNldFRlcnJhaW4sYXJnczpbdm9pZCAwXX0pLHM9dm9pZCAwKSxpPWkuY29uY2F0KG8pLHQocyxuLnRlcnJhaW4pfHxpLnB1c2goe2NvbW1hbmQ6WmUuc2V0VGVycmFpbixhcmdzOltuLnRlcnJhaW5dfSksZnVuY3Rpb24oZSxuLGkpe249bnx8W107Y29uc3Qgcj0oZT1lfHxbXSkubWFwKFllKSxvPW4ubWFwKFllKSxhPWUucmVkdWNlKEplLHt9KSxzPW4ucmVkdWNlKEplLHt9KSxsPXIuc2xpY2UoKSxjPU9iamVjdC5jcmVhdGUobnVsbCk7bGV0IHUsaCxkLHAsZixtLGc7Zm9yKHU9MCxoPTA7dTxyLmxlbmd0aDt1KyspZD1yW3VdLHMuaGFzT3duUHJvcGVydHkoZCk/aCsrOihpLnB1c2goe2NvbW1hbmQ6WmUucmVtb3ZlTGF5ZXIsYXJnczpbZF19KSxsLnNwbGljZShsLmluZGV4T2YoZCxoKSwxKSk7Zm9yKHU9MCxoPTA7dTxvLmxlbmd0aDt1KyspZD1vW28ubGVuZ3RoLTEtdV0sbFtsLmxlbmd0aC0xLXVdIT09ZCYmKGEuaGFzT3duUHJvcGVydHkoZCk/KGkucHVzaCh7Y29tbWFuZDpaZS5yZW1vdmVMYXllcixhcmdzOltkXX0pLGwuc3BsaWNlKGwubGFzdEluZGV4T2YoZCxsLmxlbmd0aC1oKSwxKSk6aCsrLG09bFtsLmxlbmd0aC11XSxpLnB1c2goe2NvbW1hbmQ6WmUuYWRkTGF5ZXIsYXJnczpbc1tkXSxtXX0pLGwuc3BsaWNlKGwubGVuZ3RoLXUsMCxkKSxjW2RdPSEwKTtmb3IodT0wO3U8by5sZW5ndGg7dSsrKWlmKGQ9b1t1XSxwPWFbZF0sZj1zW2RdLCFjW2RdJiYhdChwLGYpKWlmKHQocC5zb3VyY2UsZi5zb3VyY2UpJiZ0KHBbXCJzb3VyY2UtbGF5ZXJcIl0sZltcInNvdXJjZS1sYXllclwiXSkmJnQocC50eXBlLGYudHlwZSkpe2ZvcihnIGluIFhlKHAubGF5b3V0LGYubGF5b3V0LGksZCxudWxsLFplLnNldExheW91dFByb3BlcnR5KSxYZShwLnBhaW50LGYucGFpbnQsaSxkLG51bGwsWmUuc2V0UGFpbnRQcm9wZXJ0eSksdChwLmZpbHRlcixmLmZpbHRlcil8fGkucHVzaCh7Y29tbWFuZDpaZS5zZXRGaWx0ZXIsYXJnczpbZCxmLmZpbHRlcl19KSx0KHAubWluem9vbSxmLm1pbnpvb20pJiZ0KHAubWF4em9vbSxmLm1heHpvb20pfHxpLnB1c2goe2NvbW1hbmQ6WmUuc2V0TGF5ZXJab29tUmFuZ2UsYXJnczpbZCxmLm1pbnpvb20sZi5tYXh6b29tXX0pLHApcC5oYXNPd25Qcm9wZXJ0eShnKSYmXCJsYXlvdXRcIiE9PWcmJlwicGFpbnRcIiE9PWcmJlwiZmlsdGVyXCIhPT1nJiZcIm1ldGFkYXRhXCIhPT1nJiZcIm1pbnpvb21cIiE9PWcmJlwibWF4em9vbVwiIT09ZyYmKDA9PT1nLmluZGV4T2YoXCJwYWludC5cIik/WGUocFtnXSxmW2ddLGksZCxnLnNsaWNlKDYpLFplLnNldFBhaW50UHJvcGVydHkpOnQocFtnXSxmW2ddKXx8aS5wdXNoKHtjb21tYW5kOlplLnNldExheWVyUHJvcGVydHksYXJnczpbZCxnLGZbZ11dfSkpO2ZvcihnIGluIGYpZi5oYXNPd25Qcm9wZXJ0eShnKSYmIXAuaGFzT3duUHJvcGVydHkoZykmJlwibGF5b3V0XCIhPT1nJiZcInBhaW50XCIhPT1nJiZcImZpbHRlclwiIT09ZyYmXCJtZXRhZGF0YVwiIT09ZyYmXCJtaW56b29tXCIhPT1nJiZcIm1heHpvb21cIiE9PWcmJigwPT09Zy5pbmRleE9mKFwicGFpbnQuXCIpP1hlKHBbZ10sZltnXSxpLGQsZy5zbGljZSg2KSxaZS5zZXRQYWludFByb3BlcnR5KTp0KHBbZ10sZltnXSl8fGkucHVzaCh7Y29tbWFuZDpaZS5zZXRMYXllclByb3BlcnR5LGFyZ3M6W2QsZyxmW2ddXX0pKX1lbHNlIGkucHVzaCh7Y29tbWFuZDpaZS5yZW1vdmVMYXllcixhcmdzOltkXX0pLG09bFtsLmxhc3RJbmRleE9mKGQpKzFdLGkucHVzaCh7Y29tbWFuZDpaZS5hZGRMYXllcixhcmdzOltmLG1dfSl9KGEsbi5sYXllcnMsaSl9Y2F0Y2goZSl7Y29uc29sZS53YXJuKFwiVW5hYmxlIHRvIGNvbXB1dGUgc3R5bGUgZGlmZjpcIixlKSxpPVt7Y29tbWFuZDpaZS5zZXRTdHlsZSxhcmdzOltuXX1dfXJldHVybiBpfSh0aGlzLnNlcmlhbGl6ZSgpLG4pLmZpbHRlcihlPT4hKGUuY29tbWFuZCBpbiBYdCkpO2lmKDA9PT1pLmxlbmd0aClyZXR1cm4hMTtjb25zdCByPWkuZmlsdGVyKGU9PiEoZS5jb21tYW5kIGluIEh0KSk7aWYoci5sZW5ndGg+MCl0aHJvdyBuZXcgRXJyb3IoYFVuaW1wbGVtZW50ZWQ6ICR7ci5tYXAoZT0+ZS5jb21tYW5kKS5qb2luKFwiLCBcIil9LmApO3JldHVybiBpLmZvckVhY2goZT0+e1wic2V0VHJhbnNpdGlvblwiIT09ZS5jb21tYW5kJiZcInNldFByb2plY3Rpb25cIiE9PWUuY29tbWFuZCYmdGhpc1tlLmNvbW1hbmRdLmFwcGx5KHRoaXMsZS5hcmdzKX0pLHRoaXMuc3R5bGVzaGVldD1uLHRoaXMuX3VwZGF0ZU1hcFByb2plY3Rpb24oKSwhMH1hZGRJbWFnZSh0LG4pe3JldHVybiB0aGlzLmdldEltYWdlKHQpP3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkFuIGltYWdlIHdpdGggdGhpcyBuYW1lIGFscmVhZHkgZXhpc3RzLlwiKSkpOih0aGlzLmltYWdlTWFuYWdlci5hZGRJbWFnZSh0LG4pLHRoaXMuX2FmdGVySW1hZ2VVcGRhdGVkKHQpLHRoaXMpfXVwZGF0ZUltYWdlKGUsdCl7dGhpcy5pbWFnZU1hbmFnZXIudXBkYXRlSW1hZ2UoZSx0KX1nZXRJbWFnZShlKXtyZXR1cm4gdGhpcy5pbWFnZU1hbmFnZXIuZ2V0SW1hZ2UoZSl9cmVtb3ZlSW1hZ2UodCl7cmV0dXJuIHRoaXMuZ2V0SW1hZ2UodCk/KHRoaXMuaW1hZ2VNYW5hZ2VyLnJlbW92ZUltYWdlKHQpLHRoaXMuX2FmdGVySW1hZ2VVcGRhdGVkKHQpLHRoaXMpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIk5vIGltYWdlIHdpdGggdGhpcyBuYW1lIGV4aXN0cy5cIikpKX1fYWZ0ZXJJbWFnZVVwZGF0ZWQodCl7dGhpcy5fYXZhaWxhYmxlSW1hZ2VzPXRoaXMuaW1hZ2VNYW5hZ2VyLmxpc3RJbWFnZXMoKSx0aGlzLl9jaGFuZ2VkSW1hZ2VzW3RdPSEwLHRoaXMuX2NoYW5nZWQ9ITAsdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcInNldEltYWdlc1wiLHRoaXMuX2F2YWlsYWJsZUltYWdlcyksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtkYXRhVHlwZTpcInN0eWxlXCJ9KSl9bGlzdEltYWdlcygpe3JldHVybiB0aGlzLl9jaGVja0xvYWRlZCgpLHRoaXMuX2F2YWlsYWJsZUltYWdlcy5zbGljZSgpfWFkZFNvdXJjZSh0LG4saT17fSl7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSx2b2lkIDAhPT10aGlzLmdldFNvdXJjZSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJUaGVyZSBpcyBhbHJlYWR5IGEgc291cmNlIHdpdGggdGhpcyBJRFwiKTtpZighbi50eXBlKXRocm93IG5ldyBFcnJvcihgVGhlIHR5cGUgcHJvcGVydHkgbXVzdCBiZSBkZWZpbmVkLCBidXQgb25seSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgd2VyZSBnaXZlbjogJHtPYmplY3Qua2V5cyhuKS5qb2luKFwiLCBcIil9LmApO2lmKFtcInZlY3RvclwiLFwicmFzdGVyXCIsXCJnZW9qc29uXCIsXCJ2aWRlb1wiLFwiaW1hZ2VcIl0uaW5kZXhPZihuLnR5cGUpPj0wJiZ0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlU291cmNlLFwic291cmNlcy5cIit0LG4sbnVsbCxpKSlyZXR1cm47dGhpcy5tYXAmJnRoaXMubWFwLl9jb2xsZWN0UmVzb3VyY2VUaW1pbmcmJihuLmNvbGxlY3RSZXNvdXJjZVRpbWluZz0hMCk7Y29uc3Qgcj16ZSh0LG4sdGhpcy5kaXNwYXRjaGVyLHRoaXMpO3Iuc2V0RXZlbnRlZFBhcmVudCh0aGlzLCgpPT4oe2lzU291cmNlTG9hZGVkOnRoaXMuX2lzU291cmNlQ2FjaGVMb2FkZWQodCksc291cmNlOnIuc2VyaWFsaXplKCksc291cmNlSWQ6dH0pKTtjb25zdCBvPW49Pntjb25zdCBpPShuP1wic3ltYm9sOlwiOlwib3RoZXI6XCIpK3Qsbz10aGlzLl9zb3VyY2VDYWNoZXNbaV09bmV3IGUuU291cmNlQ2FjaGUoaSxyLG4pOyhuP3RoaXMuX3N5bWJvbFNvdXJjZUNhY2hlczp0aGlzLl9vdGhlclNvdXJjZUNhY2hlcylbdF09byxvLnN0eWxlPXRoaXMsby5vbkFkZCh0aGlzLm1hcCl9O28oITEpLFwidmVjdG9yXCIhPT1uLnR5cGUmJlwiZ2VvanNvblwiIT09bi50eXBlfHxvKCEwKSxyLm9uQWRkJiZyLm9uQWRkKHRoaXMubWFwKSx0aGlzLl9jaGFuZ2VkPSEwfXJlbW92ZVNvdXJjZSh0KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IG49dGhpcy5nZXRTb3VyY2UodCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiVGhlcmUgaXMgbm8gc291cmNlIHdpdGggdGhpcyBJRFwiKTtmb3IoY29uc3QgbiBpbiB0aGlzLl9sYXllcnMpaWYodGhpcy5fbGF5ZXJzW25dLnNvdXJjZT09PXQpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgU291cmNlIFwiJHt0fVwiIGNhbm5vdCBiZSByZW1vdmVkIHdoaWxlIGxheWVyIFwiJHtufVwiIGlzIHVzaW5nIGl0LmApKSk7aWYodGhpcy50ZXJyYWluJiZ0aGlzLnRlcnJhaW4uZ2V0KCkuc291cmNlPT09dClyZXR1cm4gdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBTb3VyY2UgXCIke3R9XCIgY2Fubm90IGJlIHJlbW92ZWQgd2hpbGUgdGVycmFpbiBpcyB1c2luZyBpdC5gKSkpO2NvbnN0IGk9dGhpcy5fZ2V0U291cmNlQ2FjaGVzKHQpO2Zvcihjb25zdCB0IG9mIGkpZGVsZXRlIHRoaXMuX3NvdXJjZUNhY2hlc1t0LmlkXSxkZWxldGUgdGhpcy5fdXBkYXRlZFNvdXJjZXNbdC5pZF0sdC5maXJlKG5ldyBlLkV2ZW50KFwiZGF0YVwiLHtzb3VyY2VEYXRhVHlwZTpcIm1ldGFkYXRhXCIsZGF0YVR5cGU6XCJzb3VyY2VcIixzb3VyY2VJZDp0LmdldFNvdXJjZSgpLmlkfSkpLHQuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0LmNsZWFyVGlsZXMoKTtyZXR1cm4gZGVsZXRlIHRoaXMuX290aGVyU291cmNlQ2FjaGVzW3RdLGRlbGV0ZSB0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbdF0sbi5zZXRFdmVudGVkUGFyZW50KG51bGwpLG4ub25SZW1vdmUmJm4ub25SZW1vdmUodGhpcy5tYXApLHRoaXMuX2NoYW5nZWQ9ITAsdGhpc31zZXRHZW9KU09OU291cmNlRGF0YShlLHQpe3RoaXMuX2NoZWNrTG9hZGVkKCksdGhpcy5nZXRTb3VyY2UoZSkuc2V0RGF0YSh0KSx0aGlzLl9jaGFuZ2VkPSEwfWdldFNvdXJjZShlKXtjb25zdCB0PXRoaXMuX2dldFNvdXJjZUNhY2hlKGUpO3JldHVybiB0JiZ0LmdldFNvdXJjZSgpfV9nZXRTb3VyY2VzKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLl9vdGhlclNvdXJjZUNhY2hlcyl7Y29uc3Qgbj10aGlzLl9nZXRTb3VyY2VDYWNoZSh0KTtuJiZlLnB1c2gobi5nZXRTb3VyY2UoKSl9cmV0dXJuIGV9YWRkTGF5ZXIodCxuLGk9e30pe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgcj10LmlkO2lmKHRoaXMuZ2V0TGF5ZXIocikpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBMYXllciB3aXRoIGlkIFwiJHtyfVwiIGFscmVhZHkgZXhpc3RzIG9uIHRoaXMgbWFwYCkpKTtsZXQgbztpZihcImN1c3RvbVwiPT09dC50eXBlKXtpZigkdCh0aGlzLGUudmFsaWRhdGVDdXN0b21TdHlsZUxheWVyKHQpKSlyZXR1cm47bz1lLmNyZWF0ZVN0eWxlTGF5ZXIodCl9ZWxzZXtpZihcIm9iamVjdFwiPT10eXBlb2YgdC5zb3VyY2UmJih0aGlzLmFkZFNvdXJjZShyLHQuc291cmNlKSx0PWUuY2xvbmUkMSh0KSx0PWUuZXh0ZW5kKHQse3NvdXJjZTpyfSkpLHRoaXMuX3ZhbGlkYXRlKGUudmFsaWRhdGVMYXllcixcImxheWVycy5cIityLHQse2FycmF5SW5kZXg6LTF9LGkpKXJldHVybjtvPWUuY3JlYXRlU3R5bGVMYXllcih0KSx0aGlzLl92YWxpZGF0ZUxheWVyKG8pLG8uc2V0RXZlbnRlZFBhcmVudCh0aGlzLHtsYXllcjp7aWQ6cn19KSx0aGlzLl9zZXJpYWxpemVkTGF5ZXJzW28uaWRdPW8uc2VyaWFsaXplKCksdGhpcy5fdXBkYXRlTGF5ZXJDb3VudChvLCEwKX1jb25zdCBhPW4/dGhpcy5fb3JkZXIuaW5kZXhPZihuKTp0aGlzLl9vcmRlci5sZW5ndGg7aWYobiYmLTE9PT1hKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgTGF5ZXIgd2l0aCBpZCBcIiR7bn1cIiBkb2VzIG5vdCBleGlzdCBvbiB0aGlzIG1hcC5gKSkpO3RoaXMuX29yZGVyLnNwbGljZShhLDAsciksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fbGF5ZXJzW3JdPW87Y29uc3Qgcz10aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlKG8pO2lmKHRoaXMuX3JlbW92ZWRMYXllcnNbcl0mJm8uc291cmNlJiZzJiZcImN1c3RvbVwiIT09by50eXBlKXtjb25zdCBlPXRoaXMuX3JlbW92ZWRMYXllcnNbcl07ZGVsZXRlIHRoaXMuX3JlbW92ZWRMYXllcnNbcl0sZS50eXBlIT09by50eXBlP3RoaXMuX3VwZGF0ZWRTb3VyY2VzW28uc291cmNlXT1cImNsZWFyXCI6KHRoaXMuX3VwZGF0ZWRTb3VyY2VzW28uc291cmNlXT1cInJlbG9hZFwiLHMucGF1c2UoKSl9dGhpcy5fdXBkYXRlTGF5ZXIobyksby5vbkFkZCYmby5vbkFkZCh0aGlzLm1hcCksdGhpcy5fdXBkYXRlRHJhcGVGaXJzdExheWVycygpfW1vdmVMYXllcih0LG4pe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksdGhpcy5fY2hhbmdlZD0hMCwhdGhpcy5fbGF5ZXJzW3RdKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke3R9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBtb3ZlZC5gKSkpO2lmKHQ9PT1uKXJldHVybjtjb25zdCBpPXRoaXMuX29yZGVyLmluZGV4T2YodCk7dGhpcy5fb3JkZXIuc3BsaWNlKGksMSk7Y29uc3Qgcj1uP3RoaXMuX29yZGVyLmluZGV4T2Yobik6dGhpcy5fb3JkZXIubGVuZ3RoO24mJi0xPT09cj90aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYExheWVyIHdpdGggaWQgXCIke259XCIgZG9lcyBub3QgZXhpc3Qgb24gdGhpcyBtYXAuYCkpKToodGhpcy5fb3JkZXIuc3BsaWNlKHIsMCx0KSx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZD0hMCx0aGlzLl91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCkpfXJlbW92ZUxheWVyKHQpe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3Qgbj10aGlzLl9sYXllcnNbdF07aWYoIW4pcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7dH0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHJlbW92ZWQuYCkpKTtuLnNldEV2ZW50ZWRQYXJlbnQobnVsbCksdGhpcy5fdXBkYXRlTGF5ZXJDb3VudChuLCExKTtjb25zdCBpPXRoaXMuX29yZGVyLmluZGV4T2YodCk7dGhpcy5fb3JkZXIuc3BsaWNlKGksMSksdGhpcy5fbGF5ZXJPcmRlckNoYW5nZWQ9ITAsdGhpcy5fY2hhbmdlZD0hMCx0aGlzLl9yZW1vdmVkTGF5ZXJzW3RdPW4sZGVsZXRlIHRoaXMuX2xheWVyc1t0XSxkZWxldGUgdGhpcy5fc2VyaWFsaXplZExheWVyc1t0XSxkZWxldGUgdGhpcy5fdXBkYXRlZExheWVyc1t0XSxkZWxldGUgdGhpcy5fdXBkYXRlZFBhaW50UHJvcHNbdF0sbi5vblJlbW92ZSYmbi5vblJlbW92ZSh0aGlzLm1hcCksdGhpcy5fdXBkYXRlRHJhcGVGaXJzdExheWVycygpfWdldExheWVyKGUpe3JldHVybiB0aGlzLl9sYXllcnNbZV19aGFzTGF5ZXIoZSl7cmV0dXJuIGUgaW4gdGhpcy5fbGF5ZXJzfWhhc0xheWVyVHlwZShlKXtmb3IoY29uc3QgdCBpbiB0aGlzLl9sYXllcnMpaWYodGhpcy5fbGF5ZXJzW3RdLnR5cGU9PT1lKXJldHVybiEwO3JldHVybiExfXNldExheWVyWm9vbVJhbmdlKHQsbixpKXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IHI9dGhpcy5nZXRMYXllcih0KTtyP3IubWluem9vbT09PW4mJnIubWF4em9vbT09PWl8fChudWxsIT1uJiYoci5taW56b29tPW4pLG51bGwhPWkmJihyLm1heHpvb209aSksdGhpcy5fdXBkYXRlTGF5ZXIocikpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke3R9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBoYXZlIHpvb20gZXh0ZW50LmApKSl9c2V0RmlsdGVyKG4saSxyPXt9KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IG89dGhpcy5nZXRMYXllcihuKTtpZihvKXtpZighdChvLmZpbHRlcixpKSlyZXR1cm4gbnVsbD09aT8oby5maWx0ZXI9dm9pZCAwLHZvaWQgdGhpcy5fdXBkYXRlTGF5ZXIobykpOnZvaWQodGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZUZpbHRlcixgbGF5ZXJzLiR7by5pZH0uZmlsdGVyYCxpLHtsYXllclR5cGU6by50eXBlfSxyKXx8KG8uZmlsdGVyPWUuY2xvbmUkMShpKSx0aGlzLl91cGRhdGVMYXllcihvKSkpfWVsc2UgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7bn0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIGZpbHRlcmVkLmApKSl9Z2V0RmlsdGVyKHQpe2NvbnN0IG49dGhpcy5nZXRMYXllcih0KTtyZXR1cm4gbiYmZS5jbG9uZSQxKG4uZmlsdGVyKX1zZXRMYXlvdXRQcm9wZXJ0eShuLGkscixvPXt9KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IGE9dGhpcy5nZXRMYXllcihuKTthP3QoYS5nZXRMYXlvdXRQcm9wZXJ0eShpKSxyKXx8KGEuc2V0TGF5b3V0UHJvcGVydHkoaSxyLG8pLHRoaXMuX3VwZGF0ZUxheWVyKGEpKTp0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHtufScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlIGFuZCBjYW5ub3QgYmUgc3R5bGVkLmApKSl9Z2V0TGF5b3V0UHJvcGVydHkodCxuKXtjb25zdCBpPXRoaXMuZ2V0TGF5ZXIodCk7aWYoaSlyZXR1cm4gaS5nZXRMYXlvdXRQcm9wZXJ0eShuKTt0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoYFRoZSBsYXllciAnJHt0fScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLmApKSl9c2V0UGFpbnRQcm9wZXJ0eShuLGkscixvPXt9KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IGE9dGhpcy5nZXRMYXllcihuKTthP3QoYS5nZXRQYWludFByb3BlcnR5KGkpLHIpfHwoYS5zZXRQYWludFByb3BlcnR5KGkscixvKSYmdGhpcy5fdXBkYXRlTGF5ZXIoYSksdGhpcy5fY2hhbmdlZD0hMCx0aGlzLl91cGRhdGVkUGFpbnRQcm9wc1tuXT0hMCk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgbGF5ZXIgJyR7bn0nIGRvZXMgbm90IGV4aXN0IGluIHRoZSBtYXAncyBzdHlsZSBhbmQgY2Fubm90IGJlIHN0eWxlZC5gKSkpfWdldFBhaW50UHJvcGVydHkoZSx0KXtjb25zdCBuPXRoaXMuZ2V0TGF5ZXIoZSk7cmV0dXJuIG4mJm4uZ2V0UGFpbnRQcm9wZXJ0eSh0KX1zZXRGZWF0dXJlU3RhdGUodCxuKXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IGk9dC5zb3VyY2Uscj10LnNvdXJjZUxheWVyLG89dGhpcy5nZXRTb3VyY2UoaSk7aWYoIW8pcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgc291cmNlICcke2l9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuYCkpKTtjb25zdCBhPW8udHlwZTtpZihcImdlb2pzb25cIj09PWEmJnIpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiR2VvSlNPTiBzb3VyY2VzIGNhbm5vdCBoYXZlIGEgc291cmNlTGF5ZXIgcGFyYW1ldGVyLlwiKSkpO2lmKFwidmVjdG9yXCI9PT1hJiYhcilyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuXCIpKSk7dm9pZCAwPT09dC5pZCYmdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIGZlYXR1cmUgaWQgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQuXCIpKSk7Y29uc3Qgcz10aGlzLl9nZXRTb3VyY2VDYWNoZXMoaSk7Zm9yKGNvbnN0IGUgb2YgcyllLnNldEZlYXR1cmVTdGF0ZShyLHQuaWQsbil9cmVtb3ZlRmVhdHVyZVN0YXRlKHQsbil7dGhpcy5fY2hlY2tMb2FkZWQoKTtjb25zdCBpPXQuc291cmNlLHI9dGhpcy5nZXRTb3VyY2UoaSk7aWYoIXIpcmV0dXJuIHZvaWQgdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGUgc291cmNlICcke2l9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUuYCkpKTtjb25zdCBvPXIudHlwZSxhPVwidmVjdG9yXCI9PT1vP3Quc291cmNlTGF5ZXI6dm9pZCAwO2lmKFwidmVjdG9yXCI9PT1vJiYhYSlyZXR1cm4gdm9pZCB0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJUaGUgc291cmNlTGF5ZXIgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQgZm9yIHZlY3RvciBzb3VyY2UgdHlwZXMuXCIpKSk7aWYobiYmXCJzdHJpbmdcIiE9dHlwZW9mIHQuaWQmJlwibnVtYmVyXCIhPXR5cGVvZiB0LmlkKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkEgZmVhdHVyZSBpZCBpcyByZXF1aXJlZCB0byByZW1vdmUgaXRzIHNwZWNpZmljIHN0YXRlIHByb3BlcnR5LlwiKSkpO2NvbnN0IHM9dGhpcy5fZ2V0U291cmNlQ2FjaGVzKGkpO2Zvcihjb25zdCBlIG9mIHMpZS5yZW1vdmVGZWF0dXJlU3RhdGUoYSx0LmlkLG4pfWdldEZlYXR1cmVTdGF0ZSh0KXt0aGlzLl9jaGVja0xvYWRlZCgpO2NvbnN0IG49dC5zb3VyY2UsaT10LnNvdXJjZUxheWVyLHI9dGhpcy5nZXRTb3VyY2Uobik7aWYocil7aWYoXCJ2ZWN0b3JcIiE9PXIudHlwZXx8aSlyZXR1cm4gdm9pZCAwPT09dC5pZCYmdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiVGhlIGZlYXR1cmUgaWQgcGFyYW1ldGVyIG11c3QgYmUgcHJvdmlkZWQuXCIpKSksdGhpcy5fZ2V0U291cmNlQ2FjaGVzKG4pWzBdLmdldEZlYXR1cmVTdGF0ZShpLHQuaWQpO3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBzb3VyY2VMYXllciBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBmb3IgdmVjdG9yIHNvdXJjZSB0eXBlcy5cIikpKX1lbHNlIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHNvdXJjZSAnJHtufScgZG9lcyBub3QgZXhpc3QgaW4gdGhlIG1hcCdzIHN0eWxlLmApKSl9Z2V0VHJhbnNpdGlvbigpe3JldHVybiBlLmV4dGVuZCh7ZHVyYXRpb246MzAwLGRlbGF5OjB9LHRoaXMuc3R5bGVzaGVldCYmdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24pfXNlcmlhbGl6ZSgpe2NvbnN0IHQ9e307Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXtjb25zdCBuPXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5nZXRTb3VyY2UoKTt0W24uaWRdfHwodFtuLmlkXT1uLnNlcmlhbGl6ZSgpKX1yZXR1cm4gZS5maWx0ZXJPYmplY3Qoe3ZlcnNpb246dGhpcy5zdHlsZXNoZWV0LnZlcnNpb24sbmFtZTp0aGlzLnN0eWxlc2hlZXQubmFtZSxtZXRhZGF0YTp0aGlzLnN0eWxlc2hlZXQubWV0YWRhdGEsbGlnaHQ6dGhpcy5zdHlsZXNoZWV0LmxpZ2h0LHRlcnJhaW46dGhpcy5nZXRUZXJyYWluKCl8fHZvaWQgMCxmb2c6dGhpcy5zdHlsZXNoZWV0LmZvZyxjZW50ZXI6dGhpcy5zdHlsZXNoZWV0LmNlbnRlcix6b29tOnRoaXMuc3R5bGVzaGVldC56b29tLGJlYXJpbmc6dGhpcy5zdHlsZXNoZWV0LmJlYXJpbmcscGl0Y2g6dGhpcy5zdHlsZXNoZWV0LnBpdGNoLHNwcml0ZTp0aGlzLnN0eWxlc2hlZXQuc3ByaXRlLGdseXBoczp0aGlzLnN0eWxlc2hlZXQuZ2x5cGhzLHRyYW5zaXRpb246dGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24scHJvamVjdGlvbjp0aGlzLnN0eWxlc2hlZXQucHJvamVjdGlvbixzb3VyY2VzOnQsbGF5ZXJzOnRoaXMuX3NlcmlhbGl6ZUxheWVycyh0aGlzLl9vcmRlcil9LGU9PnZvaWQgMCE9PWUpfV91cGRhdGVMYXllcihlKXt0aGlzLl91cGRhdGVkTGF5ZXJzW2UuaWRdPSEwO2NvbnN0IHQ9dGhpcy5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtlLnNvdXJjZSYmIXRoaXMuX3VwZGF0ZWRTb3VyY2VzW2Uuc291cmNlXSYmdCYmXCJyYXN0ZXJcIiE9PXQuZ2V0U291cmNlKCkudHlwZSYmKHRoaXMuX3VwZGF0ZWRTb3VyY2VzW2Uuc291cmNlXT1cInJlbG9hZFwiLHQucGF1c2UoKSksdGhpcy5fY2hhbmdlZD0hMCxlLmludmFsaWRhdGVDb21waWxlZEZpbHRlcigpfV9mbGF0dGVuQW5kU29ydFJlbmRlcmVkRmVhdHVyZXMoZSl7Y29uc3QgdD1lPT5cImZpbGwtZXh0cnVzaW9uXCI9PT10aGlzLl9sYXllcnNbZV0udHlwZSxuPXt9LGk9W107Zm9yKGxldCByPXRoaXMuX29yZGVyLmxlbmd0aC0xO3I+PTA7ci0tKXtjb25zdCBvPXRoaXMuX29yZGVyW3JdO2lmKHQobykpe25bb109cjtmb3IoY29uc3QgdCBvZiBlKXtjb25zdCBlPXRbb107aWYoZSlmb3IoY29uc3QgdCBvZiBlKWkucHVzaCh0KX19fWkuc29ydCgoZSx0KT0+dC5pbnRlcnNlY3Rpb25aLWUuaW50ZXJzZWN0aW9uWik7Y29uc3Qgcj1bXTtmb3IobGV0IG89dGhpcy5fb3JkZXIubGVuZ3RoLTE7bz49MDtvLS0pe2NvbnN0IGE9dGhpcy5fb3JkZXJbb107aWYodChhKSlmb3IobGV0IGU9aS5sZW5ndGgtMTtlPj0wO2UtLSl7Y29uc3QgdD1pW2VdLmZlYXR1cmU7aWYoblt0LmxheWVyLmlkXTxvKWJyZWFrO3IucHVzaCh0KSxpLnBvcCgpfWVsc2UgZm9yKGNvbnN0IHQgb2YgZSl7Y29uc3QgZT10W2FdO2lmKGUpZm9yKGNvbnN0IHQgb2YgZSlyLnB1c2godC5mZWF0dXJlKX19cmV0dXJuIHJ9cXVlcnlSZW5kZXJlZEZlYXR1cmVzKHQsbixpKXtuJiZuLmZpbHRlciYmdGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZUZpbHRlcixcInF1ZXJ5UmVuZGVyZWRGZWF0dXJlcy5maWx0ZXJcIixuLmZpbHRlcixudWxsLG4pO2NvbnN0IHI9e307aWYobiYmbi5sYXllcnMpe2lmKCFBcnJheS5pc0FycmF5KG4ubGF5ZXJzKSlyZXR1cm4gdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwicGFyYW1ldGVycy5sYXllcnMgbXVzdCBiZSBhbiBBcnJheS5cIikpKSxbXTtmb3IoY29uc3QgdCBvZiBuLmxheWVycyl7Y29uc3Qgbj10aGlzLl9sYXllcnNbdF07aWYoIW4pcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIGxheWVyICcke3R9JyBkb2VzIG5vdCBleGlzdCBpbiB0aGUgbWFwJ3Mgc3R5bGUgYW5kIGNhbm5vdCBiZSBxdWVyaWVkIGZvciBmZWF0dXJlcy5gKSkpLFtdO3Jbbi5zb3VyY2VdPSEwfX1jb25zdCBvPVtdO24uYXZhaWxhYmxlSW1hZ2VzPXRoaXMuX2F2YWlsYWJsZUltYWdlcztjb25zdCBhPW4mJm4ubGF5ZXJzP24ubGF5ZXJzLnNvbWUoZT0+e2NvbnN0IHQ9dGhpcy5nZXRMYXllcihlKTtyZXR1cm4gdCYmdC5pczNEKCl9KTp0aGlzLmhhczNETGF5ZXJzKCkscz1MLmNyZWF0ZUZyb21TY3JlZW5Qb2ludHModCxpKTtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpe2NvbnN0IHQ9dGhpcy5fc291cmNlQ2FjaGVzW2VdLmdldFNvdXJjZSgpLmlkO24ubGF5ZXJzJiYhclt0XXx8by5wdXNoKExlKHRoaXMuX3NvdXJjZUNhY2hlc1tlXSx0aGlzLl9sYXllcnMsdGhpcy5fc2VyaWFsaXplZExheWVycyxzLG4saSxhLCEhdGhpcy5tYXAuX3Nob3dRdWVyeUdlb21ldHJ5KSl9cmV0dXJuIHRoaXMucGxhY2VtZW50JiZvLnB1c2goZnVuY3Rpb24oZSx0LG4saSxyLG8sYSl7Y29uc3Qgcz17fSxsPW8ucXVlcnlSZW5kZXJlZFN5bWJvbHMoaSksYz1bXTtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhsKS5tYXAoTnVtYmVyKSljLnB1c2goYVtlXSk7Yy5zb3J0KFJlKTtmb3IoY29uc3QgbiBvZiBjKXtjb25zdCBpPW4uZmVhdHVyZUluZGV4Lmxvb2t1cFN5bWJvbEZlYXR1cmVzKGxbbi5idWNrZXRJbnN0YW5jZUlkXSx0LG4uYnVja2V0SW5kZXgsbi5zb3VyY2VMYXllckluZGV4LHIuZmlsdGVyLHIubGF5ZXJzLHIuYXZhaWxhYmxlSW1hZ2VzLGUpO2Zvcihjb25zdCBlIGluIGkpe2NvbnN0IHQ9c1tlXT1zW2VdfHxbXSxyPWlbZV07ci5zb3J0KChlLHQpPT57Y29uc3QgaT1uLmZlYXR1cmVTb3J0T3JkZXI7aWYoaSl7Y29uc3Qgbj1pLmluZGV4T2YoZS5mZWF0dXJlSW5kZXgpO3JldHVybiBpLmluZGV4T2YodC5mZWF0dXJlSW5kZXgpLW59cmV0dXJuIHQuZmVhdHVyZUluZGV4LWUuZmVhdHVyZUluZGV4fSk7Zm9yKGNvbnN0IGUgb2Ygcil0LnB1c2goZSl9fWZvcihjb25zdCB0IGluIHMpc1t0XS5mb3JFYWNoKGk9Pntjb25zdCByPWkuZmVhdHVyZSxvPW4oZVt0XSkuZ2V0RmVhdHVyZVN0YXRlKHIubGF5ZXJbXCJzb3VyY2UtbGF5ZXJcIl0sci5pZCk7ci5zb3VyY2U9ci5sYXllci5zb3VyY2Usci5sYXllcltcInNvdXJjZS1sYXllclwiXSYmKHIuc291cmNlTGF5ZXI9ci5sYXllcltcInNvdXJjZS1sYXllclwiXSksci5zdGF0ZT1vfSk7cmV0dXJuIHN9KHRoaXMuX2xheWVycyx0aGlzLl9zZXJpYWxpemVkTGF5ZXJzLHRoaXMuX2dldExheWVyU291cmNlQ2FjaGUuYmluZCh0aGlzKSxzLnNjcmVlbkdlb21ldHJ5LG4sdGhpcy5wbGFjZW1lbnQuY29sbGlzaW9uSW5kZXgsdGhpcy5wbGFjZW1lbnQucmV0YWluZWRRdWVyeURhdGEpKSx0aGlzLl9mbGF0dGVuQW5kU29ydFJlbmRlcmVkRmVhdHVyZXMobyl9cXVlcnlTb3VyY2VGZWF0dXJlcyh0LG4pe24mJm4uZmlsdGVyJiZ0aGlzLl92YWxpZGF0ZShlLnZhbGlkYXRlRmlsdGVyLFwicXVlcnlTb3VyY2VGZWF0dXJlcy5maWx0ZXJcIixuLmZpbHRlcixudWxsLG4pO2NvbnN0IGk9dGhpcy5fZ2V0U291cmNlQ2FjaGVzKHQpO2xldCByPVtdO2Zvcihjb25zdCBlIG9mIGkpcj1yLmNvbmNhdChPZShlLG4pKTtyZXR1cm4gcn1hZGRTb3VyY2VUeXBlKGUsdCxuKXtyZXR1cm4gUXQuZ2V0U291cmNlVHlwZShlKT9uKG5ldyBFcnJvcihgQSBzb3VyY2UgdHlwZSBjYWxsZWQgXCIke2V9XCIgYWxyZWFkeSBleGlzdHMuYCkpOihRdC5zZXRTb3VyY2VUeXBlKGUsdCksdC53b3JrZXJTb3VyY2VVUkw/dm9pZCB0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwibG9hZFdvcmtlclNvdXJjZVwiLHtuYW1lOmUsdXJsOnQud29ya2VyU291cmNlVVJMfSxuKTpuKG51bGwsbnVsbCkpfWdldExpZ2h0KCl7cmV0dXJuIHRoaXMubGlnaHQuZ2V0TGlnaHQoKX1zZXRMaWdodChlLG49e30pe3RoaXMuX2NoZWNrTG9hZGVkKCk7Y29uc3QgaT10aGlzLmxpZ2h0LmdldExpZ2h0KCk7bGV0IHI9ITE7Zm9yKGNvbnN0IG4gaW4gZSlpZighdChlW25dLGlbbl0pKXtyPSEwO2JyZWFrfWlmKCFyKXJldHVybjtjb25zdCBvPXRoaXMuX3NldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjozMDAsZGVsYXk6MH0pO3RoaXMubGlnaHQuc2V0TGlnaHQoZSxuKSx0aGlzLmxpZ2h0LnVwZGF0ZVRyYW5zaXRpb25zKG8pfWdldFRlcnJhaW4oKXtyZXR1cm4gdGhpcy50ZXJyYWluJiYxPT09dGhpcy50ZXJyYWluLmRyYXBlUmVuZGVyTW9kZT90aGlzLnRlcnJhaW4uZ2V0KCk6bnVsbH1zZXRUZXJyYWluRm9yRHJhcGluZygpe3RoaXMuc2V0VGVycmFpbih7c291cmNlOlwiXCIsZXhhZ2dlcmF0aW9uOjB9LDApfXNldFRlcnJhaW4obixpPTEpe2lmKHRoaXMuX2NoZWNrTG9hZGVkKCksIW4pcmV0dXJuIGRlbGV0ZSB0aGlzLnRlcnJhaW4sZGVsZXRlIHRoaXMuc3R5bGVzaGVldC50ZXJyYWluLHRoaXMuZGlzcGF0Y2hlci5icm9hZGNhc3QoXCJlbmFibGVUZXJyYWluXCIsITEpLHRoaXMuX2ZvcmNlM0RMYXllclVwZGF0ZSgpLHZvaWQodGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITApO2lmKDE9PT1pKXtpZihcIm9iamVjdFwiPT10eXBlb2Ygbi5zb3VyY2Upe2NvbnN0IHQ9XCJ0ZXJyYWluLWRlbS1zcmNcIjt0aGlzLmFkZFNvdXJjZSh0LG4uc291cmNlKSxuPWUuY2xvbmUkMShuKSxuPWUuZXh0ZW5kKG4se3NvdXJjZTp0fSl9aWYodGhpcy5fdmFsaWRhdGUoZS52YWxpZGF0ZVRlcnJhaW4sXCJ0ZXJyYWluXCIsbikpcmV0dXJufWlmKCF0aGlzLnRlcnJhaW58fHRoaXMudGVycmFpbiYmaSE9PXRoaXMudGVycmFpbi5kcmFwZVJlbmRlck1vZGUpdGhpcy5fY3JlYXRlVGVycmFpbihuLGkpO2Vsc2V7Y29uc3QgaT10aGlzLnRlcnJhaW4scj1pLmdldCgpO2Zvcihjb25zdCB0IG9mIE9iamVjdC5rZXlzKGUuc3BlYy50ZXJyYWluKSkhbi5oYXNPd25Qcm9wZXJ0eSh0KSYmZS5zcGVjLnRlcnJhaW5bdF0uZGVmYXVsdCYmKG5bdF09ZS5zcGVjLnRlcnJhaW5bdF0uZGVmYXVsdCk7Zm9yKGNvbnN0IGUgaW4gbilpZighdChuW2VdLHJbZV0pKXtpLnNldChuKSx0aGlzLnN0eWxlc2hlZXQudGVycmFpbj1uO2NvbnN0IGU9dGhpcy5fc2V0VHJhbnNpdGlvblBhcmFtZXRlcnMoe2R1cmF0aW9uOjB9KTtpLnVwZGF0ZVRyYW5zaXRpb25zKGUpO2JyZWFrfX10aGlzLl91cGRhdGVEcmFwZUZpcnN0TGF5ZXJzKCksdGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITB9X2NyZWF0ZUZvZyhlKXtjb25zdCB0PXRoaXMuZm9nPW5ldyBQKGUsdGhpcy5tYXAudHJhbnNmb3JtKTt0aGlzLnN0eWxlc2hlZXQuZm9nPWU7Y29uc3Qgbj10aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MH0pO3QudXBkYXRlVHJhbnNpdGlvbnMobil9X3VwZGF0ZU1hcmtlcnNPcGFjaXR5KCl7MCE9PXRoaXMubWFwLl9tYXJrZXJzLmxlbmd0aCYmdGhpcy5tYXAuX3JlcXVlc3REb21UYXNrKCgpPT57Zm9yKGNvbnN0IGUgb2YgdGhpcy5tYXAuX21hcmtlcnMpZS5fZXZhbHVhdGVPcGFjaXR5KCl9KX1nZXRGb2coKXtyZXR1cm4gdGhpcy5mb2c/dGhpcy5mb2cuZ2V0KCk6bnVsbH1zZXRGb2coZSl7aWYodGhpcy5fY2hlY2tMb2FkZWQoKSwhZSlyZXR1cm4gZGVsZXRlIHRoaXMuZm9nLGRlbGV0ZSB0aGlzLnN0eWxlc2hlZXQuZm9nLHZvaWQodGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITApO2lmKHRoaXMuZm9nKXtjb25zdCBuPXRoaXMuZm9nLGk9bi5nZXQoKTswPT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZuLnNldChlKTtmb3IoY29uc3QgciBpbiBlKWlmKCF0KGVbcl0saVtyXSkpe24uc2V0KGUpLHRoaXMuc3R5bGVzaGVldC5mb2c9ZTtjb25zdCB0PXRoaXMuX3NldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHtkdXJhdGlvbjowfSk7bi51cGRhdGVUcmFuc2l0aW9ucyh0KTticmVha319ZWxzZSB0aGlzLl9jcmVhdGVGb2coZSk7dGhpcy5fbWFya2Vyc05lZWRVcGRhdGU9ITB9X3NldFRyYW5zaXRpb25QYXJhbWV0ZXJzKHQpe3JldHVybntub3c6ZS5leHBvcnRlZC5ub3coKSx0cmFuc2l0aW9uOmUuZXh0ZW5kKHQsdGhpcy5zdHlsZXNoZWV0LnRyYW5zaXRpb24pfX1fdXBkYXRlRHJhcGVGaXJzdExheWVycygpe2lmKCF0aGlzLm1hcC5fb3B0aW1pemVGb3JUZXJyYWlufHwhdGhpcy50ZXJyYWluKXJldHVybjtjb25zdCBlPXRoaXMuX29yZGVyLmZpbHRlcihlPT50aGlzLmlzTGF5ZXJEcmFwZWQodGhpcy5fbGF5ZXJzW2VdKSksdD10aGlzLl9vcmRlci5maWx0ZXIoZT0+IXRoaXMuaXNMYXllckRyYXBlZCh0aGlzLl9sYXllcnNbZV0pKTt0aGlzLl9kcmFwZWRGaXJzdE9yZGVyPVtdLHRoaXMuX2RyYXBlZEZpcnN0T3JkZXIucHVzaCguLi5lKSx0aGlzLl9kcmFwZWRGaXJzdE9yZGVyLnB1c2goLi4udCl9X2NyZWF0ZVRlcnJhaW4oZSx0KXtjb25zdCBuPXRoaXMudGVycmFpbj1uZXcgTShlLHQpO3RoaXMuc3R5bGVzaGVldC50ZXJyYWluPWUsdGhpcy5kaXNwYXRjaGVyLmJyb2FkY2FzdChcImVuYWJsZVRlcnJhaW5cIiwhdGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSksdGhpcy5fZm9yY2UzRExheWVyVXBkYXRlKCk7Y29uc3QgaT10aGlzLl9zZXRUcmFuc2l0aW9uUGFyYW1ldGVycyh7ZHVyYXRpb246MH0pO24udXBkYXRlVHJhbnNpdGlvbnMoaSl9X2ZvcmNlM0RMYXllclVwZGF0ZSgpe2Zvcihjb25zdCBlIGluIHRoaXMuX2xheWVycyl7Y29uc3QgdD10aGlzLl9sYXllcnNbZV07XCJmaWxsLWV4dHJ1c2lvblwiPT09dC50eXBlJiZ0aGlzLl91cGRhdGVMYXllcih0KX19X2ZvcmNlU3ltYm9sTGF5ZXJVcGRhdGUoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9sYXllcnMpe2NvbnN0IHQ9dGhpcy5fbGF5ZXJzW2VdO1wic3ltYm9sXCI9PT10LnR5cGUmJnRoaXMuX3VwZGF0ZUxheWVyKHQpfX1fdmFsaWRhdGUodCxuLGkscixvPXt9KXtyZXR1cm4oIW98fCExIT09by52YWxpZGF0ZSkmJiR0KHRoaXMsdC5jYWxsKGUudmFsaWRhdGVTdHlsZSxlLmV4dGVuZCh7a2V5Om4sc3R5bGU6dGhpcy5zZXJpYWxpemUoKSx2YWx1ZTppLHN0eWxlU3BlYzplLnNwZWN9LHIpKSl9X3JlbW92ZSgpe3RoaXMuX3JlcXVlc3QmJih0aGlzLl9yZXF1ZXN0LmNhbmNlbCgpLHRoaXMuX3JlcXVlc3Q9bnVsbCksdGhpcy5fc3ByaXRlUmVxdWVzdCYmKHRoaXMuX3Nwcml0ZVJlcXVlc3QuY2FuY2VsKCksdGhpcy5fc3ByaXRlUmVxdWVzdD1udWxsKSxlLmV2ZW50ZWQub2ZmKFwicGx1Z2luU3RhdGVDaGFuZ2VcIix0aGlzLl9ydGxUZXh0UGx1Z2luQ2FsbGJhY2spO2Zvcihjb25zdCBlIGluIHRoaXMuX2xheWVycyl0aGlzLl9sYXllcnNbZV0uc2V0RXZlbnRlZFBhcmVudChudWxsKTtmb3IoY29uc3QgZSBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpdGhpcy5fc291cmNlQ2FjaGVzW2VdLmNsZWFyVGlsZXMoKSx0aGlzLl9zb3VyY2VDYWNoZXNbZV0uc2V0RXZlbnRlZFBhcmVudChudWxsKTt0aGlzLmltYWdlTWFuYWdlci5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuc2V0RXZlbnRlZFBhcmVudChudWxsKSx0aGlzLmRpc3BhdGNoZXIucmVtb3ZlKCl9X2NsZWFyU291cmNlKGUpe2NvbnN0IHQ9dGhpcy5fZ2V0U291cmNlQ2FjaGVzKGUpO2Zvcihjb25zdCBlIG9mIHQpZS5jbGVhclRpbGVzKCl9X3JlbG9hZFNvdXJjZShlKXtjb25zdCB0PXRoaXMuX2dldFNvdXJjZUNhY2hlcyhlKTtmb3IoY29uc3QgZSBvZiB0KWUucmVzdW1lKCksZS5yZWxvYWQoKX1fcmVsb2FkU291cmNlcygpe2Zvcihjb25zdCBlIG9mIHRoaXMuX2dldFNvdXJjZXMoKSllLnJlbG9hZCYmZS5yZWxvYWQoKX1fdXBkYXRlU291cmNlcyhlKXtmb3IoY29uc3QgdCBpbiB0aGlzLl9zb3VyY2VDYWNoZXMpdGhpcy5fc291cmNlQ2FjaGVzW3RdLnVwZGF0ZShlKX1fZ2VuZXJhdGVDb2xsaXNpb25Cb3hlcygpe2Zvcihjb25zdCBlIGluIHRoaXMuX3NvdXJjZUNhY2hlcyl7Y29uc3QgdD10aGlzLl9zb3VyY2VDYWNoZXNbZV07dC5yZXN1bWUoKSx0LnJlbG9hZCgpfX1fdXBkYXRlUGxhY2VtZW50KHQsbixpLHIsbz0hMSl7bGV0IGE9ITEscz0hMTtjb25zdCBsPXt9O2Zvcihjb25zdCBlIG9mIHRoaXMuX29yZGVyKXtjb25zdCBuPXRoaXMuX2xheWVyc1tlXTtpZihcInN5bWJvbFwiIT09bi50eXBlKWNvbnRpbnVlO2lmKCFsW24uc291cmNlXSl7Y29uc3QgZT10aGlzLl9nZXRMYXllclNvdXJjZUNhY2hlKG4pO2lmKCFlKWNvbnRpbnVlO2xbbi5zb3VyY2VdPWUuZ2V0UmVuZGVyYWJsZUlkcyghMCkubWFwKHQ9PmUuZ2V0VGlsZUJ5SUQodCkpLnNvcnQoKGUsdCk9PnQudGlsZUlELm92ZXJzY2FsZWRaLWUudGlsZUlELm92ZXJzY2FsZWRafHwoZS50aWxlSUQuaXNMZXNzVGhhbih0LnRpbGVJRCk/LTE6MSkpfWNvbnN0IGk9dGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleC5hZGRMYXllcihuLGxbbi5zb3VyY2VdLHQuY2VudGVyLmxuZyx0LnByb2plY3Rpb24pO2E9YXx8aX1pZih0aGlzLmNyb3NzVGlsZVN5bWJvbEluZGV4LnBydW5lVW51c2VkTGF5ZXJzKHRoaXMuX29yZGVyKSxvPW98fHRoaXMuX2xheWVyT3JkZXJDaGFuZ2VkfHwwPT09aSx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZCYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibmV3b3JkZXJcIikpLChvfHwhdGhpcy5wYXVzZWFibGVQbGFjZW1lbnR8fHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpJiYhdGhpcy5wbGFjZW1lbnQuc3RpbGxSZWNlbnQoZS5leHBvcnRlZC5ub3coKSx0Lnpvb20pKSYmKHRoaXMucGF1c2VhYmxlUGxhY2VtZW50PW5ldyBVdCh0LHRoaXMuX29yZGVyLG8sbixpLHIsdGhpcy5wbGFjZW1lbnQsdGhpcy5mb2cmJnQucHJvamVjdGlvbi5zdXBwb3J0c0ZvZz90aGlzLmZvZy5zdGF0ZTpudWxsKSx0aGlzLl9sYXllck9yZGVyQ2hhbmdlZD0hMSksdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCk/dGhpcy5wbGFjZW1lbnQuc2V0U3RhbGUoKToodGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuY29udGludWVQbGFjZW1lbnQodGhpcy5fb3JkZXIsdGhpcy5fbGF5ZXJzLGwpLHRoaXMucGF1c2VhYmxlUGxhY2VtZW50LmlzRG9uZSgpJiYodGhpcy5wbGFjZW1lbnQ9dGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuY29tbWl0KGUuZXhwb3J0ZWQubm93KCkpLHM9ITApLGEmJnRoaXMucGF1c2VhYmxlUGxhY2VtZW50LnBsYWNlbWVudC5zZXRTdGFsZSgpKSxzfHxhKWZvcihjb25zdCBlIG9mIHRoaXMuX29yZGVyKXtjb25zdCB0PXRoaXMuX2xheWVyc1tlXTtcInN5bWJvbFwiPT09dC50eXBlJiZ0aGlzLnBsYWNlbWVudC51cGRhdGVMYXllck9wYWNpdGllcyh0LGxbdC5zb3VyY2VdKX1yZXR1cm4hdGhpcy5wYXVzZWFibGVQbGFjZW1lbnQuaXNEb25lKCl8fHRoaXMucGxhY2VtZW50Lmhhc1RyYW5zaXRpb25zKGUuZXhwb3J0ZWQubm93KCkpfV9yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc291cmNlQ2FjaGVzKXRoaXMuX3NvdXJjZUNhY2hlc1tlXS5yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCl9Z2V0SW1hZ2VzKGUsdCxuKXt0aGlzLmltYWdlTWFuYWdlci5nZXRJbWFnZXModC5pY29ucyxuKSx0aGlzLl91cGRhdGVUaWxlc0ZvckNoYW5nZWRJbWFnZXMoKTtjb25zdCBpPWU9PntlJiZlLnNldERlcGVuZGVuY2llcyh0LnRpbGVJRC5rZXksdC50eXBlLHQuaWNvbnMpfTtpKHRoaXMuX290aGVyU291cmNlQ2FjaGVzW3Quc291cmNlXSksaSh0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbdC5zb3VyY2VdKX1nZXRHbHlwaHMoZSx0LG4pe3RoaXMuZ2x5cGhNYW5hZ2VyLmdldEdseXBocyh0LnN0YWNrcyxuKX1nZXRSZXNvdXJjZSh0LG4saSl7cmV0dXJuIGUubWFrZVJlcXVlc3QobixpKX1fZ2V0U291cmNlQ2FjaGUoZSl7cmV0dXJuIHRoaXMuX290aGVyU291cmNlQ2FjaGVzW2VdfV9nZXRMYXllclNvdXJjZUNhY2hlKGUpe3JldHVyblwic3ltYm9sXCI9PT1lLnR5cGU/dGhpcy5fc3ltYm9sU291cmNlQ2FjaGVzW2Uuc291cmNlXTp0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlLnNvdXJjZV19X2dldFNvdXJjZUNhY2hlcyhlKXtjb25zdCB0PVtdO3JldHVybiB0aGlzLl9vdGhlclNvdXJjZUNhY2hlc1tlXSYmdC5wdXNoKHRoaXMuX290aGVyU291cmNlQ2FjaGVzW2VdKSx0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbZV0mJnQucHVzaCh0aGlzLl9zeW1ib2xTb3VyY2VDYWNoZXNbZV0pLHR9X2lzU291cmNlQ2FjaGVMb2FkZWQodCl7Y29uc3Qgbj10aGlzLl9nZXRTb3VyY2VDYWNoZXModCk7cmV0dXJuIDA9PT1uLmxlbmd0aD8odGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKGBUaGVyZSBpcyBubyBzb3VyY2Ugd2l0aCBJRCAnJHt0fSdgKSkpLCExKTpuLmV2ZXJ5KGU9PmUubG9hZGVkKCkpfWhhczNETGF5ZXJzKCl7cmV0dXJuIHRoaXMuX251bTNETGF5ZXJzPjB9aGFzU3ltYm9sTGF5ZXJzKCl7cmV0dXJuIHRoaXMuX251bVN5bWJvbExheWVycz4wfWhhc0NpcmNsZUxheWVycygpe3JldHVybiB0aGlzLl9udW1DaXJjbGVMYXllcnM+MH1fY2xlYXJXb3JrZXJDYWNoZXMoKXt0aGlzLmRpc3BhdGNoZXIuYnJvYWRjYXN0KFwiY2xlYXJDYWNoZXNcIil9ZGVzdHJveSgpe3RoaXMuX2NsZWFyV29ya2VyQ2FjaGVzKCksdGhpcy50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSYmKGRlbGV0ZSB0aGlzLnRlcnJhaW4sZGVsZXRlIHRoaXMuc3R5bGVzaGVldC50ZXJyYWluKX19UXQuZ2V0U291cmNlVHlwZT1mdW5jdGlvbihlKXtyZXR1cm4gUGVbZV19LFF0LnNldFNvdXJjZVR5cGU9ZnVuY3Rpb24oZSx0KXtQZVtlXT10fSxRdC5yZWdpc3RlckZvclBsdWdpblN0YXRlQ2hhbmdlPWUucmVnaXN0ZXJGb3JQbHVnaW5TdGF0ZUNoYW5nZTt2YXIgS3Q9XCJcXG4jZGVmaW5lIEVQU0lMT04gMC4wMDAwMDAxXFxuI2RlZmluZSBQSSAzLjE0MTU5MjY1MzU4OTc5M1xcbiNkZWZpbmUgRVhURU5UIDgxOTIuMFxcbiNkZWZpbmUgSEFMRl9QSSBQSS8yLjBcXG4jZGVmaW5lIFFVQVJURVJfUEkgUEkvNC4wXFxuI2RlZmluZSBSQURfVE9fREVHIDE4MC4wL1BJXFxuI2RlZmluZSBERUdfVE9fUkFEIFBJLzE4MC4wXFxuI2RlZmluZSBHTE9CRV9SQURJVVMgRVhURU5UL1BJLzIuMFwiLGVuPVwiYXR0cmlidXRlIGhpZ2hwIHZlYzMgYV9wb3NfM2Y7dW5pZm9ybSBsb3dwIG1hdDQgdV9tYXRyaXg7dmFyeWluZyBoaWdocCB2ZWMzIHZfdXY7dm9pZCBtYWluKCkge2NvbnN0IG1hdDMgaGFsZl9uZWdfcGlfYXJvdW5kX3g9bWF0MygxLjAsMC4wLCAwLjAsMC4wLDAuMCwtMS4wLDAuMCwxLjAsIDAuMCk7dl91dj1oYWxmX25lZ19waV9hcm91bmRfeCphX3Bvc18zZjt2ZWM0IHBvcz11X21hdHJpeCp2ZWM0KGFfcG9zXzNmLDEuMCk7Z2xfUG9zaXRpb249cG9zLnh5d3c7fVwiLHRuPVwiXFxuI2RlZmluZSBFTEVWQVRJT05fU0NBTEUgNy4wXFxuI2RlZmluZSBFTEVWQVRJT05fT0ZGU0VUIDQ1MC4wXFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnVuaWZvcm0gdmVjMyB1X3RpbGVfdGxfdXA7dW5pZm9ybSB2ZWMzIHVfdGlsZV90cl91cDt1bmlmb3JtIHZlYzMgdV90aWxlX2JyX3VwO3VuaWZvcm0gdmVjMyB1X3RpbGVfYmxfdXA7dW5pZm9ybSBmbG9hdCB1X3RpbGVfdXBfc2NhbGU7dmVjMyBlbGV2YXRpb25WZWN0b3IodmVjMiBwb3MpIHt2ZWMyIHV2PXBvcy9FWFRFTlQ7dmVjMyB1cD1ub3JtYWxpemUobWl4KFxcbm1peCh1X3RpbGVfdGxfdXAsdV90aWxlX3RyX3VwLHV2Lnh4eCksbWl4KHVfdGlsZV9ibF91cCx1X3RpbGVfYnJfdXAsdXYueHh4KSx1di55eXkpKTtyZXR1cm4gdXAqdV90aWxlX3VwX3NjYWxlO31cXG4jZWxzZVxcbnZlYzMgZWxldmF0aW9uVmVjdG9yKHZlYzIgcG9zKSB7IHJldHVybiB2ZWMzKDAsMCwxKTsgfVxcbiNlbmRpZlxcbiNpZmRlZiBURVJSQUlOXFxuI2lmZGVmIFRFUlJBSU5fREVNX0ZMT0FUX0ZPUk1BVFxcbnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHVfZGVtO3VuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIHVfZGVtX3ByZXY7XFxuI2Vsc2VcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2RlbTt1bmlmb3JtIHNhbXBsZXIyRCB1X2RlbV9wcmV2O1xcbiNlbmRpZlxcbnVuaWZvcm0gdmVjNCB1X2RlbV91bnBhY2s7dW5pZm9ybSB2ZWMyIHVfZGVtX3RsO3VuaWZvcm0gdmVjMiB1X2RlbV90bF9wcmV2O3VuaWZvcm0gZmxvYXQgdV9kZW1fc2NhbGU7dW5pZm9ybSBmbG9hdCB1X2RlbV9zY2FsZV9wcmV2O3VuaWZvcm0gZmxvYXQgdV9kZW1fc2l6ZTt1bmlmb3JtIGZsb2F0IHVfZGVtX2xlcnA7dW5pZm9ybSBmbG9hdCB1X2V4YWdnZXJhdGlvbjt1bmlmb3JtIGZsb2F0IHVfbWV0ZXJfdG9fZGVtO3VuaWZvcm0gbWF0NCB1X2xhYmVsX3BsYW5lX21hdHJpeF9pbnY7dW5pZm9ybSBzYW1wbGVyMkQgdV9kZXB0aDt1bmlmb3JtIHZlYzIgdV9kZXB0aF9zaXplX2ludjt2ZWM0IHRpbGVVdlRvRGVtU2FtcGxlKHZlYzIgdXYsZmxvYXQgZGVtX3NpemUsZmxvYXQgZGVtX3NjYWxlLHZlYzIgZGVtX3RsKSB7dmVjMiBwb3M9ZGVtX3NpemUqKHV2KmRlbV9zY2FsZStkZW1fdGwpKzEuMDt2ZWMyIGY9ZnJhY3QocG9zKTtyZXR1cm4gdmVjNCgocG9zLWYrMC41KS8oZGVtX3NpemUrMi4wKSxmKTt9ZmxvYXQgZGVjb2RlRWxldmF0aW9uKHZlYzQgdikge3JldHVybiBkb3QodmVjNCh2Lnh5eioyNTUuMCwtMS4wKSx1X2RlbV91bnBhY2spO31mbG9hdCBjdXJyZW50RWxldmF0aW9uKHZlYzIgYXBvcykge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG52ZWMyIHBvcz0odV9kZW1fc2l6ZSooYXBvcy84MTkyLjAqdV9kZW1fc2NhbGUrdV9kZW1fdGwpKzEuNSkvKHVfZGVtX3NpemUrMi4wKTtyZXR1cm4gdV9leGFnZ2VyYXRpb24qdGV4dHVyZTJEKHVfZGVtLHBvcykuYTtcXG4jZWxzZVxcbmZsb2F0IGRkPTEuMC8odV9kZW1fc2l6ZSsyLjApO3ZlYzQgcj10aWxlVXZUb0RlbVNhbXBsZShhcG9zLzgxOTIuMCx1X2RlbV9zaXplLHVfZGVtX3NjYWxlLHVfZGVtX3RsKTt2ZWMyIHBvcz1yLnh5O3ZlYzIgZj1yLnp3O2Zsb2F0IHRsPWRlY29kZUVsZXZhdGlvbih0ZXh0dXJlMkQodV9kZW0scG9zKSk7XFxuI2lmZGVmIFRFUlJBSU5fREVNX05FQVJFU1RfRklMVEVSXFxucmV0dXJuIHVfZXhhZ2dlcmF0aW9uKnRsO1xcbiNlbmRpZlxcbmZsb2F0IHRyPWRlY29kZUVsZXZhdGlvbih0ZXh0dXJlMkQodV9kZW0scG9zK3ZlYzIoZGQsMC4wKSkpO2Zsb2F0IGJsPWRlY29kZUVsZXZhdGlvbih0ZXh0dXJlMkQodV9kZW0scG9zK3ZlYzIoMC4wLGRkKSkpO2Zsb2F0IGJyPWRlY29kZUVsZXZhdGlvbih0ZXh0dXJlMkQodV9kZW0scG9zK3ZlYzIoZGQsZGQpKSk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKm1peChtaXgodGwsdHIsZi54KSxtaXgoYmwsYnIsZi54KSxmLnkpO1xcbiNlbmRpZlxcbn1mbG9hdCBwcmV2RWxldmF0aW9uKHZlYzIgYXBvcykge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG52ZWMyIHBvcz0odV9kZW1fc2l6ZSooYXBvcy84MTkyLjAqdV9kZW1fc2NhbGVfcHJldit1X2RlbV90bF9wcmV2KSsxLjUpLyh1X2RlbV9zaXplKzIuMCk7cmV0dXJuIHVfZXhhZ2dlcmF0aW9uKnRleHR1cmUyRCh1X2RlbV9wcmV2LHBvcykuYTtcXG4jZWxzZVxcbmZsb2F0IGRkPTEuMC8odV9kZW1fc2l6ZSsyLjApO3ZlYzQgcj10aWxlVXZUb0RlbVNhbXBsZShhcG9zLzgxOTIuMCx1X2RlbV9zaXplLHVfZGVtX3NjYWxlX3ByZXYsdV9kZW1fdGxfcHJldik7dmVjMiBwb3M9ci54eTt2ZWMyIGY9ci56dztmbG9hdCB0bD1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtX3ByZXYscG9zKSk7ZmxvYXQgdHI9ZGVjb2RlRWxldmF0aW9uKHRleHR1cmUyRCh1X2RlbV9wcmV2LHBvcyt2ZWMyKGRkLDAuMCkpKTtmbG9hdCBibD1kZWNvZGVFbGV2YXRpb24odGV4dHVyZTJEKHVfZGVtX3ByZXYscG9zK3ZlYzIoMC4wLGRkKSkpO2Zsb2F0IGJyPWRlY29kZUVsZXZhdGlvbih0ZXh0dXJlMkQodV9kZW1fcHJldixwb3MrdmVjMihkZCxkZCkpKTtyZXR1cm4gdV9leGFnZ2VyYXRpb24qbWl4KG1peCh0bCx0cixmLngpLG1peChibCxicixmLngpLGYueSk7XFxuI2VuZGlmXFxufVxcbiNpZmRlZiBURVJSQUlOX1ZFUlRFWF9NT1JQSElOR1xcbmZsb2F0IGVsZXZhdGlvbih2ZWMyIGFwb3MpIHtcXG4jaWZkZWYgWkVST19FWEFHR0VSQVRJT05cXG5yZXR1cm4gMC4wO1xcbiNlbmRpZlxcbmZsb2F0IG5leHRFbGV2YXRpb249Y3VycmVudEVsZXZhdGlvbihhcG9zKTtmbG9hdCBwcmV2RWxldmF0aW9uPXByZXZFbGV2YXRpb24oYXBvcyk7cmV0dXJuIG1peChwcmV2RWxldmF0aW9uLG5leHRFbGV2YXRpb24sdV9kZW1fbGVycCk7fVxcbiNlbHNlXFxuZmxvYXQgZWxldmF0aW9uKHZlYzIgYXBvcykge1xcbiNpZmRlZiBaRVJPX0VYQUdHRVJBVElPTlxcbnJldHVybiAwLjA7XFxuI2VuZGlmXFxucmV0dXJuIGN1cnJlbnRFbGV2YXRpb24oYXBvcyk7fVxcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IHVucGFja19kZXB0aChoaWdocCB2ZWM0IHJnYmFfZGVwdGgpXFxue2NvbnN0IGhpZ2hwIHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7cmV0dXJuIGRvdChyZ2JhX2RlcHRoLGJpdF9zaGlmdCkqMi4wLTEuMDt9Ym9vbCBpc09jY2x1ZGVkKHZlYzQgZnJhZykge3ZlYzMgY29vcmQ9ZnJhZy54eXovZnJhZy53O2Zsb2F0IGRlcHRoPXVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCwoY29vcmQueHkrMS4wKSowLjUpKTtyZXR1cm4gY29vcmQueiA+IGRlcHRoKzAuMDAwNTt9ZmxvYXQgb2NjbHVzaW9uRmFkZSh2ZWM0IGZyYWcpIHt2ZWMzIGNvb3JkPWZyYWcueHl6L2ZyYWcudzt2ZWMzIGRmPXZlYzMoNS4wKnVfZGVwdGhfc2l6ZV9pbnYsMC4wKTt2ZWMyIHV2PTAuNSpjb29yZC54eSswLjU7dmVjNCBkZXB0aD12ZWM0KFxcbnVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1di1kZi54eikpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1ditkZi54eikpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1di1kZi56eSkpLHVucGFja19kZXB0aCh0ZXh0dXJlMkQodV9kZXB0aCx1ditkZi56eSkpXFxuKTtyZXR1cm4gZG90KHZlYzQoMC4yNSksdmVjNCgxLjApLWNsYW1wKDMwMC4wKih2ZWM0KGNvb3JkLnotMC4wMDEpLWRlcHRoKSwwLjAsMS4wKSk7fXZlYzQgZm91clNhbXBsZSh2ZWMyIHBvcyx2ZWMyIG9mZikge1xcbiNpZmRlZiBURVJSQUlOX0RFTV9GTE9BVF9GT1JNQVRcXG5mbG9hdCB0bD10ZXh0dXJlMkQodV9kZW0scG9zKS5hO2Zsb2F0IHRyPXRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMihvZmYueCwwLjApKS5hO2Zsb2F0IGJsPXRleHR1cmUyRCh1X2RlbSxwb3MrdmVjMigwLjAsb2ZmLnkpKS5hO2Zsb2F0IGJyPXRleHR1cmUyRCh1X2RlbSxwb3Mrb2ZmKS5hO1xcbiNlbHNlXFxudmVjNCBkZW10bD12ZWM0KHRleHR1cmUyRCh1X2RlbSxwb3MpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCB0bD1kb3QoZGVtdGwsdV9kZW1fdW5wYWNrKTt2ZWM0IGRlbXRyPXZlYzQodGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKG9mZi54LDAuMCkpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCB0cj1kb3QoZGVtdHIsdV9kZW1fdW5wYWNrKTt2ZWM0IGRlbWJsPXZlYzQodGV4dHVyZTJEKHVfZGVtLHBvcyt2ZWMyKDAuMCxvZmYueSkpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCBibD1kb3QoZGVtYmwsdV9kZW1fdW5wYWNrKTt2ZWM0IGRlbWJyPXZlYzQodGV4dHVyZTJEKHVfZGVtLHBvcytvZmYpLnh5eioyNTUuMCwtMS4wKTtmbG9hdCBicj1kb3QoZGVtYnIsdV9kZW1fdW5wYWNrKTtcXG4jZW5kaWZcXG5yZXR1cm4gdmVjNCh0bCx0cixibCxicik7fWZsb2F0IGZsYXRFbGV2YXRpb24odmVjMiBwYWNrKSB7dmVjMiBhcG9zPWZsb29yKHBhY2svOC4wKTt2ZWMyIHNwYW49MTAuMCoocGFjay1hcG9zKjguMCk7dmVjMiB1dlRleD0oYXBvcy12ZWMyKDEuMCwxLjApKS84MTkwLjA7ZmxvYXQgc2l6ZT11X2RlbV9zaXplKzIuMDtmbG9hdCBkZD0xLjAvc2l6ZTt2ZWMyIHBvcz11X2RlbV9zaXplKih1dlRleCp1X2RlbV9zY2FsZSt1X2RlbV90bCkrMS4wO3ZlYzIgZj1mcmFjdChwb3MpO3Bvcz0ocG9zLWYrMC41KSpkZDt2ZWM0IGg9Zm91clNhbXBsZShwb3MsdmVjMihkZCkpO2Zsb2F0IHo9bWl4KG1peChoLngsaC55LGYueCksbWl4KGgueixoLncsZi54KSxmLnkpO3ZlYzIgdz1mbG9vcigwLjUqKHNwYW4qdV9tZXRlcl90b19kZW0tMS4wKSk7dmVjMiBkPWRkKnc7aD1mb3VyU2FtcGxlKHBvcy1kLDIuMCpkK3ZlYzIoZGQpKTt2ZWM0IGRpZmY9YWJzKGgueHp4eS1oLnl3encpO3ZlYzIgc2xvcGU9bWluKHZlYzIoMC4yNSksdV9tZXRlcl90b19kZW0qMC41KihkaWZmLnh6K2RpZmYueXcpLygyLjAqdyt2ZWMyKDEuMCkpKTt2ZWMyIGZpeD1zbG9wZSpzcGFuO2Zsb2F0IGJhc2U9eittYXgoZml4LngsZml4LnkpO3JldHVybiB1X2V4YWdnZXJhdGlvbipiYXNlO31mbG9hdCBlbGV2YXRpb25Gcm9tVWludDE2KGZsb2F0IHdvcmQpIHtyZXR1cm4gdV9leGFnZ2VyYXRpb24qKHdvcmQvRUxFVkFUSU9OX1NDQUxFLUVMRVZBVElPTl9PRkZTRVQpO31cXG4jZWxzZVxcbmZsb2F0IGVsZXZhdGlvbih2ZWMyIHBvcykgeyByZXR1cm4gMC4wOyB9Ym9vbCBpc09jY2x1ZGVkKHZlYzQgZnJhZykgeyByZXR1cm4gZmFsc2U7IH1mbG9hdCBvY2NsdXNpb25GYWRlKHZlYzQgZnJhZykgeyByZXR1cm4gMS4wOyB9XFxuI2VuZGlmXCIsbm49XCIjaWZkZWYgRk9HXFxudW5pZm9ybSBtZWRpdW1wIHZlYzQgdV9mb2dfY29sb3I7dW5pZm9ybSBtZWRpdW1wIHZlYzIgdV9mb2dfcmFuZ2U7dW5pZm9ybSBtZWRpdW1wIGZsb2F0IHVfZm9nX2hvcml6b25fYmxlbmQ7dW5pZm9ybSBtZWRpdW1wIG1hdDQgdV9mb2dfbWF0cml4O3ZhcnlpbmcgdmVjMyB2X2ZvZ19wb3M7ZmxvYXQgZm9nX3JhbmdlKGZsb2F0IGRlcHRoKSB7cmV0dXJuIChkZXB0aC11X2ZvZ19yYW5nZVswXSkvKHVfZm9nX3JhbmdlWzFdLXVfZm9nX3JhbmdlWzBdKTt9ZmxvYXQgZm9nX2hvcml6b25fYmxlbmRpbmcodmVjMyBjYW1lcmFfZGlyKSB7ZmxvYXQgdD1tYXgoMC4wLGNhbWVyYV9kaXIuei91X2ZvZ19ob3Jpem9uX2JsZW5kKTtyZXR1cm4gdV9mb2dfY29sb3IuYSpleHAoLTMuMCp0KnQpO31mbG9hdCBmb2dfb3BhY2l0eShmbG9hdCB0KSB7Y29uc3QgZmxvYXQgZGVjYXk9Ni4wO2Zsb2F0IGZhbGxvZmY9MS4wLW1pbigxLjAsZXhwKC1kZWNheSp0KSk7ZmFsbG9mZio9ZmFsbG9mZipmYWxsb2ZmO3JldHVybiB1X2ZvZ19jb2xvci5hKm1pbigxLjAsMS4wMDc0NypmYWxsb2ZmKTt9dmVjMyBmb2dfcG9zaXRpb24odmVjMyBwb3MpIHtyZXR1cm4gKHVfZm9nX21hdHJpeCp2ZWM0KHBvcywxLjApKS54eXo7fXZlYzMgZm9nX3Bvc2l0aW9uKHZlYzIgcG9zKSB7cmV0dXJuIGZvZ19wb3NpdGlvbih2ZWMzKHBvcywwLjApKTt9ZmxvYXQgZm9nKHZlYzMgcG9zKSB7ZmxvYXQgZGVwdGg9bGVuZ3RoKHBvcyk7ZmxvYXQgb3BhY2l0eT1mb2dfb3BhY2l0eShmb2dfcmFuZ2UoZGVwdGgpKTtyZXR1cm4gb3BhY2l0eSpmb2dfaG9yaXpvbl9ibGVuZGluZyhwb3MvZGVwdGgpO31cXG4jZW5kaWZcIixybj1cIiNpZmRlZiBGT0dcXG51bmlmb3JtIG1lZGl1bXAgdmVjNCB1X2ZvZ19jb2xvcjt1bmlmb3JtIG1lZGl1bXAgdmVjMiB1X2ZvZ19yYW5nZTt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9mb2dfaG9yaXpvbl9ibGVuZDt1bmlmb3JtIG1lZGl1bXAgZmxvYXQgdV9mb2dfdGVtcG9yYWxfb2Zmc2V0O3ZhcnlpbmcgdmVjMyB2X2ZvZ19wb3M7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV90bDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX3RyO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fYnI7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV9ibDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9nbG9iZV9wb3M7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dsb2JlX3JhZGl1czt1bmlmb3JtIGhpZ2hwIHZlYzIgdV92aWV3cG9ydDt1bmlmb3JtIGZsb2F0IHVfZ2xvYmVfdHJhbnNpdGlvbjt1bmlmb3JtIGludCB1X2lzX2dsb2JlO2Zsb2F0IGZvZ19yYW5nZShmbG9hdCBkZXB0aCkge3JldHVybiAoZGVwdGgtdV9mb2dfcmFuZ2VbMF0pLyh1X2ZvZ19yYW5nZVsxXS11X2ZvZ19yYW5nZVswXSk7fWZsb2F0IGZvZ19ob3Jpem9uX2JsZW5kaW5nKHZlYzMgY2FtZXJhX2Rpcikge2Zsb2F0IHQ9bWF4KDAuMCxjYW1lcmFfZGlyLnovdV9mb2dfaG9yaXpvbl9ibGVuZCk7cmV0dXJuIHVfZm9nX2NvbG9yLmEqZXhwKC0zLjAqdCp0KTt9ZmxvYXQgZm9nX29wYWNpdHkoZmxvYXQgdCkge2NvbnN0IGZsb2F0IGRlY2F5PTYuMDtmbG9hdCBmYWxsb2ZmPTEuMC1taW4oMS4wLGV4cCgtZGVjYXkqdCkpO2ZhbGxvZmYqPWZhbGxvZmYqZmFsbG9mZjtyZXR1cm4gdV9mb2dfY29sb3IuYSptaW4oMS4wLDEuMDA3NDcqZmFsbG9mZik7fWZsb2F0IGdsb2JlX2dsb3dfcHJvZ3Jlc3MoKSB7aGlnaHAgdmVjMiB1dj1nbF9GcmFnQ29vcmQueHkvdV92aWV3cG9ydDtoaWdocCB2ZWMzIHJheV9kaXI9bWl4KFxcbm1peCh1X2ZydXN0dW1fdGwsdV9mcnVzdHVtX3RyLHV2LngpLG1peCh1X2ZydXN0dW1fYmwsdV9mcnVzdHVtX2JyLHV2LngpLDEuMC11di55KTtoaWdocCB2ZWMzIGRpcj1ub3JtYWxpemUocmF5X2Rpcik7aGlnaHAgdmVjMyBjbG9zZXN0X3BvaW50PWRvdCh1X2dsb2JlX3BvcyxkaXIpKmRpcjtoaWdocCBmbG9hdCBzZGY9bGVuZ3RoKGNsb3Nlc3RfcG9pbnQtdV9nbG9iZV9wb3MpL3VfZ2xvYmVfcmFkaXVzO3JldHVybiBzZGYrUEkqMC41O31mbG9hdCBmb2dfb3BhY2l0eSh2ZWMzIHBvcykge2Zsb2F0IGRlcHRoPWxlbmd0aChwb3MpO3JldHVybiBmb2dfb3BhY2l0eShmb2dfcmFuZ2UoZGVwdGgpKTt9dmVjMyBmb2dfYXBwbHkodmVjMyBjb2xvcix2ZWMzIHBvcykge2Zsb2F0IGRlcHRoPWxlbmd0aChwb3MpO2Zsb2F0IG9wYWNpdHk7aWYgKHVfaXNfZ2xvYmU9PTEpIHtmbG9hdCBnbG93X3Byb2dyZXNzPWdsb2JlX2dsb3dfcHJvZ3Jlc3MoKTtmbG9hdCB0PW1peChnbG93X3Byb2dyZXNzLGRlcHRoLHVfZ2xvYmVfdHJhbnNpdGlvbik7b3BhY2l0eT1mb2dfb3BhY2l0eShmb2dfcmFuZ2UodCkpO30gZWxzZSB7b3BhY2l0eT1mb2dfb3BhY2l0eShmb2dfcmFuZ2UoZGVwdGgpKTtvcGFjaXR5Kj1mb2dfaG9yaXpvbl9ibGVuZGluZyhwb3MvZGVwdGgpO31yZXR1cm4gbWl4KGNvbG9yLHVfZm9nX2NvbG9yLnJnYixvcGFjaXR5KTt9dmVjNCBmb2dfYXBwbHlfZnJvbV92ZXJ0KHZlYzQgY29sb3IsZmxvYXQgZm9nX29wYWMpIHtmbG9hdCBhbHBoYT1FUFNJTE9OK2NvbG9yLmE7Y29sb3IucmdiPW1peChjb2xvci5yZ2IvYWxwaGEsdV9mb2dfY29sb3IucmdiLGZvZ19vcGFjKSphbHBoYTtyZXR1cm4gY29sb3I7fXZlYzMgZm9nX2FwcGx5X3NreV9ncmFkaWVudCh2ZWMzIGNhbWVyYV9yYXksdmVjMyBza3lfY29sb3IpIHtmbG9hdCBob3Jpem9uX2JsZW5kPWZvZ19ob3Jpem9uX2JsZW5kaW5nKG5vcm1hbGl6ZShjYW1lcmFfcmF5KSk7cmV0dXJuIG1peChza3lfY29sb3IsdV9mb2dfY29sb3IucmdiLGhvcml6b25fYmxlbmQpO312ZWM0IGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKHZlYzQgY29sb3IsdmVjMyBwb3MpIHtmbG9hdCBhbHBoYT1FUFNJTE9OK2NvbG9yLmE7Y29sb3IucmdiPWZvZ19hcHBseShjb2xvci5yZ2IvYWxwaGEscG9zKSphbHBoYTtyZXR1cm4gY29sb3I7fXZlYzMgZm9nX2RpdGhlcih2ZWMzIGNvbG9yKSB7dmVjMiBkaXRoZXJfc2VlZD1nbF9GcmFnQ29vcmQueHkrdV9mb2dfdGVtcG9yYWxfb2Zmc2V0O3JldHVybiBkaXRoZXIoY29sb3IsZGl0aGVyX3NlZWQpO312ZWM0IGZvZ19kaXRoZXIodmVjNCBjb2xvcikge3JldHVybiB2ZWM0KGZvZ19kaXRoZXIoY29sb3IucmdiKSxjb2xvci5hKTt9XFxuI2VuZGlmXCI7bGV0IG9uPXt9LGFuPXt9O2NvbnN0IHNuPVtdO2RuKEt0LHNuKSxkbih0bixzbiksZG4obm4sc24pLGRuKHJuLHNuKSxvbj1wbihcIlwiLHRuKSxhbj1wbihybixubik7Y29uc3QgbG49cG4oXCJcXG5oaWdocCB2ZWMzIGhhc2goaGlnaHAgdmVjMiBwKSB7aGlnaHAgdmVjMyBwMz1mcmFjdChwLnh5eCp2ZWMzKDQ0My44OTc1LDM5Ny4yOTczLDQ5MS4xODcxKSk7cDMrPWRvdChwMyxwMy55eHorMTkuMTkpO3JldHVybiBmcmFjdCgocDMueHh5K3AzLnl6eikqcDMuenl4KTt9dmVjMyBkaXRoZXIodmVjMyBjb2xvcixoaWdocCB2ZWMyIHNlZWQpIHt2ZWMzIHJuZD1oYXNoKHNlZWQpK2hhc2goc2VlZCswLjU5Mzc0KS0wLjU7cmV0dXJuIGNvbG9yK3JuZC8yNTUuMDt9aGlnaHAgZmxvYXQgdW5wYWNrX2RlcHRoKGhpZ2hwIHZlYzQgcmdiYV9kZXB0aClcXG57Y29uc3QgaGlnaHAgdmVjNCBiaXRfc2hpZnQ9dmVjNCgxLjAvKDI1NS4wKjI1NS4wKjI1NS4wKSwxLjAvKDI1NS4wKjI1NS4wKSwxLjAvMjU1LjAsMS4wKTtyZXR1cm4gZG90KHJnYmFfZGVwdGgsYml0X3NoaWZ0KSoyLjAtMS4wO31oaWdocCB2ZWM0IHBhY2tfZGVwdGgoaGlnaHAgZmxvYXQgbmRjX3opIHtoaWdocCBmbG9hdCBkZXB0aD1uZGNfeiowLjUrMC41O2NvbnN0IGhpZ2hwIHZlYzQgYml0X3NoaWZ0PXZlYzQoMjU1LjAqMjU1LjAqMjU1LjAsMjU1LjAqMjU1LjAsMjU1LjAsMS4wKTtjb25zdCBoaWdocCB2ZWM0IGJpdF9tYXNrID12ZWM0KDAuMCwxLjAvMjU1LjAsMS4wLzI1NS4wLDEuMC8yNTUuMCk7aGlnaHAgdmVjNCByZXM9ZnJhY3QoZGVwdGgqYml0X3NoaWZ0KTtyZXMtPXJlcy54eHl6KmJpdF9tYXNrO3JldHVybiByZXM7fVwiLFwiXFxuZmxvYXQgd3JhcChmbG9hdCBuLGZsb2F0IG1pbixmbG9hdCBtYXgpIHtmbG9hdCBkPW1heC1taW47ZmxvYXQgdz1tb2QobW9kKG4tbWluLGQpK2QsZCkrbWluO3JldHVybiAodz09bWluKSA/IG1heCA6IHc7fVxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIG1lcmNhdG9yX3RpbGVfcG9zaXRpb24obWF0NCBtYXRyaXgsdmVjMiB0aWxlX2FuY2hvcix2ZWMzIHRpbGVfaWQsdmVjMiBtZXJjYXRvcl9jZW50ZXIpIHtcXG4jaWZuZGVmIFBST0pFQ1RFRF9QT1NfT05fVklFV1BPUlRcXG5mbG9hdCB0aWxlcz10aWxlX2lkLno7dmVjMiBtZXJjYXRvcj0odGlsZV9hbmNob3IvRVhURU5UK3RpbGVfaWQueHkpL3RpbGVzO21lcmNhdG9yLT1tZXJjYXRvcl9jZW50ZXI7bWVyY2F0b3IueD13cmFwKG1lcmNhdG9yLngsLTAuNSwwLjUpO3ZlYzQgbWVyY2F0b3JfdGlsZT12ZWM0KG1lcmNhdG9yLnh5KkVYVEVOVCxFWFRFTlQvKDIuMCpQSSksMS4wKTttZXJjYXRvcl90aWxlPW1hdHJpeCptZXJjYXRvcl90aWxlO3JldHVybiBtZXJjYXRvcl90aWxlLnh5ejtcXG4jZWxzZVxcbnJldHVybiB2ZWMzKDAuMCk7XFxuI2VuZGlmXFxufXZlYzMgbWl4X2dsb2JlX21lcmNhdG9yKHZlYzMgZ2xvYmUsdmVjMyBtZXJjYXRvcixmbG9hdCB0KSB7cmV0dXJuIG1peChnbG9iZSxtZXJjYXRvcix0KTt9bWF0MyBnbG9iZV9tZXJjYXRvcl9zdXJmYWNlX3ZlY3RvcnModmVjMyBwb3Nfbm9ybWFsLHZlYzMgdXBfZGlyLGZsb2F0IHpvb21fdHJhbnNpdGlvbikge3ZlYzMgbm9ybWFsPXpvb21fdHJhbnNpdGlvbj09MC4wID8gcG9zX25vcm1hbCA6IG5vcm1hbGl6ZShtaXgocG9zX25vcm1hbCx1cF9kaXIsem9vbV90cmFuc2l0aW9uKSk7dmVjMyB4QXhpcz1ub3JtYWxpemUodmVjMyhub3JtYWwueiwwLjAsLW5vcm1hbC54KSk7dmVjMyB5QXhpcz1ub3JtYWxpemUoY3Jvc3Mobm9ybWFsLHhBeGlzKSk7cmV0dXJuIG1hdDMoeEF4aXMseUF4aXMsbm9ybWFsKTt9XFxuI2VuZGlmXFxudmVjMiB1bnBhY2tfZmxvYXQoY29uc3QgZmxvYXQgcGFja2VkVmFsdWUpIHtpbnQgcGFja2VkSW50VmFsdWU9aW50KHBhY2tlZFZhbHVlKTtpbnQgdjA9cGFja2VkSW50VmFsdWUvMjU2O3JldHVybiB2ZWMyKHYwLHBhY2tlZEludFZhbHVlLXYwKjI1Nik7fXZlYzIgdW5wYWNrX29wYWNpdHkoY29uc3QgZmxvYXQgcGFja2VkT3BhY2l0eSkge2ludCBpbnRPcGFjaXR5PWludChwYWNrZWRPcGFjaXR5KS8yO3JldHVybiB2ZWMyKGZsb2F0KGludE9wYWNpdHkpLzEyNy4wLG1vZChwYWNrZWRPcGFjaXR5LDIuMCkpO312ZWM0IGRlY29kZV9jb2xvcihjb25zdCB2ZWMyIGVuY29kZWRDb2xvcikge3JldHVybiB2ZWM0KFxcbnVucGFja19mbG9hdChlbmNvZGVkQ29sb3JbMF0pLzI1NS4wLHVucGFja19mbG9hdChlbmNvZGVkQ29sb3JbMV0pLzI1NS4wXFxuKTt9ZmxvYXQgdW5wYWNrX21peF92ZWMyKGNvbnN0IHZlYzIgcGFja2VkVmFsdWUsY29uc3QgZmxvYXQgdCkge3JldHVybiBtaXgocGFja2VkVmFsdWVbMF0scGFja2VkVmFsdWVbMV0sdCk7fXZlYzQgdW5wYWNrX21peF9jb2xvcihjb25zdCB2ZWM0IHBhY2tlZENvbG9ycyxjb25zdCBmbG9hdCB0KSB7dmVjNCBtaW5Db2xvcj1kZWNvZGVfY29sb3IodmVjMihwYWNrZWRDb2xvcnNbMF0scGFja2VkQ29sb3JzWzFdKSk7dmVjNCBtYXhDb2xvcj1kZWNvZGVfY29sb3IodmVjMihwYWNrZWRDb2xvcnNbMl0scGFja2VkQ29sb3JzWzNdKSk7cmV0dXJuIG1peChtaW5Db2xvcixtYXhDb2xvcix0KTt9dmVjMiBnZXRfcGF0dGVybl9wb3MoY29uc3QgdmVjMiBwaXhlbF9jb29yZF91cHBlcixjb25zdCB2ZWMyIHBpeGVsX2Nvb3JkX2xvd2VyLGNvbnN0IHZlYzIgcGF0dGVybl9zaXplLGNvbnN0IGZsb2F0IHRpbGVfdW5pdHNfdG9fcGl4ZWxzLGNvbnN0IHZlYzIgcG9zKSB7dmVjMiBvZmZzZXQ9bW9kKG1vZChtb2QocGl4ZWxfY29vcmRfdXBwZXIscGF0dGVybl9zaXplKSoyNTYuMCxwYXR0ZXJuX3NpemUpKjI1Ni4wK3BpeGVsX2Nvb3JkX2xvd2VyLHBhdHRlcm5fc2l6ZSk7cmV0dXJuICh0aWxlX3VuaXRzX3RvX3BpeGVscypwb3Mrb2Zmc2V0KS9wYXR0ZXJuX3NpemU7fWNvbnN0IHZlYzQgQVdBWT12ZWM0KC0xMDAwLjAsLTEwMDAuMCwtMTAwMC4wLDEpOy8vTm9ybWFsaXplZCBkZXZpY2UgY29vcmRpbmF0ZSB0aGF0IGlzIG5vdCByZW5kZXJlZC5cIiksY249S3QsdW49XCJcXG4jaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gbWVkaXVtcCBmbG9hdDtcXG4jZWxzZVxcblxcbiNpZiAhZGVmaW5lZChsb3dwKVxcbiNkZWZpbmUgbG93cFxcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChtZWRpdW1wKVxcbiNkZWZpbmUgbWVkaXVtcFxcbiNlbmRpZlxcblxcbiNpZiAhZGVmaW5lZChoaWdocClcXG4jZGVmaW5lIGhpZ2hwXFxuI2VuZGlmXFxuXFxuI2VuZGlmXCI7dmFyIGhuPXtiYWNrZ3JvdW5kOnBuKFwidW5pZm9ybSB2ZWM0IHVfY29sb3I7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7dmVjNCBvdXRfY29sb3I7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9dl9jb2xvcjtcXG4jZWxzZVxcbm91dF9jb2xvcj11X2NvbG9yO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcip1X29wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxudW5pZm9ybSB2ZWM0IHVfY29sb3I7dmFyeWluZyB2ZWM0IHZfY29sb3I7XFxuI2VuZGlmXFxudm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbnZfY29sb3I9YXBwbHlfbGlnaHRpbmcodV9jb2xvcik7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksYmFja2dyb3VuZFBhdHRlcm46cG4oXCJ1bmlmb3JtIHZlYzIgdV9wYXR0ZXJuX3RsO3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fYnI7dW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7dmVjMiBpbWFnZWNvb3JkPW1vZCh2X3BvcywxLjApO3ZlYzIgcG9zPW1peCh1X3BhdHRlcm5fdGwvdV90ZXhzaXplLHVfcGF0dGVybl9ici91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjNCBvdXRfY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UscG9zKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZyhvdXRfY29sb3IpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcip1X29wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3BhdHRlcm5fc2l6ZTt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zO3ZvaWQgbWFpbigpIHtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3M9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcix1X3BhdHRlcm5fc2l6ZSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzLGFfcG9zKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxjaXJjbGU6cG4oXCJ2YXJ5aW5nIHZlYzMgdl9kYXRhO3ZhcnlpbmcgZmxvYXQgdl92aXNpYmlsaXR5O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IHN0cm9rZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBzdHJva2VfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHN0cm9rZV93aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgc3Ryb2tlX29wYWNpdHlcXG52ZWMyIGV4dHJ1ZGU9dl9kYXRhLnh5O2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoPWxlbmd0aChleHRydWRlKTtsb3dwIGZsb2F0IGFudGlhbGlhc2JsdXI9dl9kYXRhLno7ZmxvYXQgYW50aWFsaWFzZWRfYmx1cj0tbWF4KGJsdXIsYW50aWFsaWFzYmx1cik7ZmxvYXQgb3BhY2l0eV90PXNtb290aHN0ZXAoMC4wLGFudGlhbGlhc2VkX2JsdXIsZXh0cnVkZV9sZW5ndGgtMS4wKTtmbG9hdCBjb2xvcl90PXN0cm9rZV93aWR0aCA8IDAuMDEgPyAwLjAgOiBzbW9vdGhzdGVwKFxcbmFudGlhbGlhc2VkX2JsdXIsMC4wLGV4dHJ1ZGVfbGVuZ3RoLXJhZGl1cy8ocmFkaXVzK3N0cm9rZV93aWR0aClcXG4pO3ZlYzQgb3V0X2NvbG9yPW1peChjb2xvcipvcGFjaXR5LHN0cm9rZV9jb2xvcipzdHJva2Vfb3BhY2l0eSxjb2xvcl90KTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZyhvdXRfY29sb3IpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3Bvcyk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcioodl92aXNpYmlsaXR5Km9wYWNpdHlfdCk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiI2RlZmluZSBOVU1fVklTSUJJTElUWV9SSU5HUyAyXFxuI2RlZmluZSBJTlZfU1FSVDIgMC43MDcxMDY3OFxcbiNkZWZpbmUgRUxFVkFUSU9OX0JJQVMgMC4wMDAxXFxuI2RlZmluZSBOVU1fU0FNUExFU19QRVJfUklORyAxNlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDIgdV9leHRydWRlX3NjYWxlO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTthdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NfMzthdHRyaWJ1dGUgdmVjMyBhX3Bvc19ub3JtYWxfMzt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfdXBfZGlyO1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMyB2X2RhdGE7dmFyeWluZyBmbG9hdCB2X3Zpc2liaWxpdHk7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBtZWRpdW1wIGZsb2F0IHN0cm9rZV93aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBzdHJva2Vfb3BhY2l0eVxcbnZlYzIgY2FsY19vZmZzZXQodmVjMiBleHRydXNpb24sZmxvYXQgcmFkaXVzLGZsb2F0IHN0cm9rZV93aWR0aCwgZmxvYXQgdmlld19zY2FsZSkge3JldHVybiBleHRydXNpb24qKHJhZGl1cytzdHJva2Vfd2lkdGgpKnVfZXh0cnVkZV9zY2FsZSp2aWV3X3NjYWxlO31mbG9hdCBjYW50aWxldmVyZWRfZWxldmF0aW9uKHZlYzIgcG9zLGZsb2F0IHJhZGl1cyxmbG9hdCBzdHJva2Vfd2lkdGgsZmxvYXQgdmlld19zY2FsZSkge3ZlYzIgYzE9cG9zK2NhbGNfb2Zmc2V0KHZlYzIoLTEsLTEpLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSk7dmVjMiBjMj1wb3MrY2FsY19vZmZzZXQodmVjMigxLC0xKSxyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO3ZlYzIgYzM9cG9zK2NhbGNfb2Zmc2V0KHZlYzIoMSwxKSxyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO3ZlYzIgYzQ9cG9zK2NhbGNfb2Zmc2V0KHZlYzIoLTEsMSkscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTtmbG9hdCBoMT1lbGV2YXRpb24oYzEpK0VMRVZBVElPTl9CSUFTO2Zsb2F0IGgyPWVsZXZhdGlvbihjMikrRUxFVkFUSU9OX0JJQVM7ZmxvYXQgaDM9ZWxldmF0aW9uKGMzKStFTEVWQVRJT05fQklBUztmbG9hdCBoND1lbGV2YXRpb24oYzQpK0VMRVZBVElPTl9CSUFTO3JldHVybiBtYXgoaDQsbWF4KGgzLG1heChoMSxoMikpKTt9ZmxvYXQgY2lyY2xlX2VsZXZhdGlvbih2ZWMyIHBvcykge1xcbiNpZiBkZWZpbmVkKFRFUlJBSU4pXFxucmV0dXJuIGVsZXZhdGlvbihwb3MpK0VMRVZBVElPTl9CSUFTO1xcbiNlbHNlXFxucmV0dXJuIDAuMDtcXG4jZW5kaWZcXG59dmVjNCBwcm9qZWN0X3ZlcnRleCh2ZWMyIGV4dHJ1c2lvbix2ZWM0IHdvcmxkX2NlbnRlcix2ZWM0IHByb2plY3RlZF9jZW50ZXIsZmxvYXQgcmFkaXVzLGZsb2F0IHN0cm9rZV93aWR0aCwgZmxvYXQgdmlld19zY2FsZSxtYXQzIHN1cmZhY2VfdmVjdG9ycykge3ZlYzIgc2FtcGxlX29mZnNldD1jYWxjX29mZnNldChleHRydXNpb24scmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlKTtcXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxucmV0dXJuIHVfbWF0cml4Kiggd29ybGRfY2VudGVyK3ZlYzQoc2FtcGxlX29mZnNldC54KnN1cmZhY2VfdmVjdG9yc1swXStzYW1wbGVfb2Zmc2V0Lnkqc3VyZmFjZV92ZWN0b3JzWzFdLDApICk7XFxuI2Vsc2VcXG5yZXR1cm4gdV9tYXRyaXgqKCB3b3JsZF9jZW50ZXIrdmVjNChzYW1wbGVfb2Zmc2V0LDAsMCkgKTtcXG4jZW5kaWZcXG4jZWxzZVxcbnJldHVybiBwcm9qZWN0ZWRfY2VudGVyK3ZlYzQoc2FtcGxlX29mZnNldCwwLDApO1xcbiNlbmRpZlxcbn1mbG9hdCBnZXRfc2FtcGxlX3N0ZXAoKSB7XFxuI2lmZGVmIFBJVENIX1dJVEhfTUFQXFxucmV0dXJuIDIuMCpQSS9mbG9hdChOVU1fU0FNUExFU19QRVJfUklORyk7XFxuI2Vsc2VcXG5yZXR1cm4gUEkvZmxvYXQoTlVNX1NBTVBMRVNfUEVSX1JJTkcpO1xcbiNlbmRpZlxcbn12b2lkIG1haW4odm9pZCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHJhZGl1c1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgc3Ryb2tlX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBzdHJva2Vfd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHN0cm9rZV9vcGFjaXR5XFxudmVjMiBleHRydWRlPXZlYzIobW9kKGFfcG9zLDIuMCkqMi4wLTEuMCk7dmVjMiBjaXJjbGVfY2VudGVyPWZsb29yKGFfcG9zKjAuNSk7dmVjNCB3b3JsZF9jZW50ZXI7bWF0MyBzdXJmYWNlX3ZlY3RvcnM7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcG9zX25vcm1hbF8zPWFfcG9zX25vcm1hbF8zLzE2Mzg0LjA7c3VyZmFjZV92ZWN0b3JzPWdsb2JlX21lcmNhdG9yX3N1cmZhY2VfdmVjdG9ycyhwb3Nfbm9ybWFsXzMsdV91cF9kaXIsdV96b29tX3RyYW5zaXRpb24pO3ZlYzMgc3VyZmFjZV9leHRydXNpb249ZXh0cnVkZS54KnN1cmZhY2VfdmVjdG9yc1swXStleHRydWRlLnkqc3VyZmFjZV92ZWN0b3JzWzFdO3ZlYzMgZ2xvYmVfZWxldmF0aW9uPWVsZXZhdGlvblZlY3RvcihjaXJjbGVfY2VudGVyKSpjaXJjbGVfZWxldmF0aW9uKGNpcmNsZV9jZW50ZXIpO3ZlYzMgZ2xvYmVfcG9zPWFfcG9zXzMrc3VyZmFjZV9leHRydXNpb24rZ2xvYmVfZWxldmF0aW9uO3ZlYzMgbWVyY2F0b3JfZWxldmF0aW9uPXVfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSpjaXJjbGVfZWxldmF0aW9uKGNpcmNsZV9jZW50ZXIpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LGNpcmNsZV9jZW50ZXIsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3N1cmZhY2VfZXh0cnVzaW9uK21lcmNhdG9yX2VsZXZhdGlvbjt2ZWMzIHBvcz1taXhfZ2xvYmVfbWVyY2F0b3IoZ2xvYmVfcG9zLG1lcmNfcG9zLHVfem9vbV90cmFuc2l0aW9uKTt3b3JsZF9jZW50ZXI9dmVjNChwb3MsMSk7XFxuI2Vsc2UgXFxuc3VyZmFjZV92ZWN0b3JzPW1hdDMoMS4wKTtmbG9hdCBoZWlnaHQ9Y2lyY2xlX2VsZXZhdGlvbihjaXJjbGVfY2VudGVyKTt3b3JsZF9jZW50ZXI9dmVjNChjaXJjbGVfY2VudGVyLGhlaWdodCwxKTtcXG4jZW5kaWZcXG52ZWM0IHByb2plY3RlZF9jZW50ZXI9dV9tYXRyaXgqd29ybGRfY2VudGVyO2Zsb2F0IHZpZXdfc2NhbGU9MC4wO1xcbiNpZmRlZiBQSVRDSF9XSVRIX01BUFxcbiNpZmRlZiBTQ0FMRV9XSVRIX01BUFxcbnZpZXdfc2NhbGU9MS4wO1xcbiNlbHNlXFxudmlld19zY2FsZT1wcm9qZWN0ZWRfY2VudGVyLncvdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO1xcbiNlbmRpZlxcbiNlbHNlXFxuI2lmZGVmIFNDQUxFX1dJVEhfTUFQXFxudmlld19zY2FsZT11X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7XFxuI2Vsc2VcXG52aWV3X3NjYWxlPXByb2plY3RlZF9jZW50ZXIudztcXG4jZW5kaWZcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbj1wcm9qZWN0X3ZlcnRleChleHRydWRlLHdvcmxkX2NlbnRlcixwcm9qZWN0ZWRfY2VudGVyLHJhZGl1cyxzdHJva2Vfd2lkdGgsdmlld19zY2FsZSxzdXJmYWNlX3ZlY3RvcnMpO2Zsb2F0IHZpc2liaWxpdHk9MC4wO1xcbiNpZmRlZiBURVJSQUlOXFxuZmxvYXQgc3RlcD1nZXRfc2FtcGxlX3N0ZXAoKTt2ZWM0IG9jY2x1c2lvbl93b3JsZF9jZW50ZXI7dmVjNCBvY2NsdXNpb25fcHJvamVjdGVkX2NlbnRlcjtcXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBcXG5mbG9hdCBjYW50aWxldmVyZWRfaGVpZ2h0PWNhbnRpbGV2ZXJlZF9lbGV2YXRpb24oY2lyY2xlX2NlbnRlcixyYWRpdXMsc3Ryb2tlX3dpZHRoLHZpZXdfc2NhbGUpO29jY2x1c2lvbl93b3JsZF9jZW50ZXI9dmVjNChjaXJjbGVfY2VudGVyLGNhbnRpbGV2ZXJlZF9oZWlnaHQsMSk7b2NjbHVzaW9uX3Byb2plY3RlZF9jZW50ZXI9dV9tYXRyaXgqb2NjbHVzaW9uX3dvcmxkX2NlbnRlcjtcXG4jZWxzZVxcbm9jY2x1c2lvbl93b3JsZF9jZW50ZXI9d29ybGRfY2VudGVyO29jY2x1c2lvbl9wcm9qZWN0ZWRfY2VudGVyPXByb2plY3RlZF9jZW50ZXI7XFxuI2VuZGlmXFxuZm9yKGludCByaW5nPTA7IHJpbmcgPCBOVU1fVklTSUJJTElUWV9SSU5HUzsgcmluZysrKSB7ZmxvYXQgc2NhbGU9KGZsb2F0KHJpbmcpKzEuMCkvZmxvYXQoTlVNX1ZJU0lCSUxJVFlfUklOR1MpO2ZvcihpbnQgaT0wOyBpIDwgTlVNX1NBTVBMRVNfUEVSX1JJTkc7IGkrKykge3ZlYzIgZXh0cnVzaW9uPXZlYzIoY29zKHN0ZXAqZmxvYXQoaSkpLC1zaW4oc3RlcCpmbG9hdChpKSkpKnNjYWxlO3ZlYzQgZnJhZ19wb3M9cHJvamVjdF92ZXJ0ZXgoZXh0cnVzaW9uLG9jY2x1c2lvbl93b3JsZF9jZW50ZXIsb2NjbHVzaW9uX3Byb2plY3RlZF9jZW50ZXIscmFkaXVzLHN0cm9rZV93aWR0aCx2aWV3X3NjYWxlLHN1cmZhY2VfdmVjdG9ycyk7dmlzaWJpbGl0eSs9ZmxvYXQoIWlzT2NjbHVkZWQoZnJhZ19wb3MpKTt9fXZpc2liaWxpdHkvPWZsb2F0KE5VTV9WSVNJQklMSVRZX1JJTkdTKSpmbG9hdChOVU1fU0FNUExFU19QRVJfUklORyk7XFxuI2Vsc2VcXG52aXNpYmlsaXR5PTEuMDtcXG4jZW5kaWZcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmlzaWJpbGl0eT0xLjA7XFxuI2VuZGlmXFxudl92aXNpYmlsaXR5PXZpc2liaWxpdHk7bG93cCBmbG9hdCBhbnRpYWxpYXNibHVyPTEuMC91X2RldmljZV9waXhlbF9yYXRpby8ocmFkaXVzK3N0cm9rZV93aWR0aCk7dl9kYXRhPXZlYzMoZXh0cnVkZS54LGV4dHJ1ZGUueSxhbnRpYWxpYXNibHVyKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbih3b3JsZF9jZW50ZXIueHl6KTtcXG4jZW5kaWZcXG59XCIpLGNsaXBwaW5nTWFzazpwbihcInZvaWQgbWFpbigpIHtnbF9GcmFnQ29sb3I9dmVjNCgxLjApO31cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO31cIiksaGVhdG1hcDpwbihcInVuaWZvcm0gaGlnaHAgZmxvYXQgdV9pbnRlbnNpdHk7dmFyeWluZyB2ZWMyIHZfZXh0cnVkZTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IHdlaWdodFxcbiNkZWZpbmUgR0FVU1NfQ09FRiAwLjM5ODk0MjI4MDQwMTQzMjdcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgZmxvYXQgd2VpZ2h0XFxuZmxvYXQgZD0tMC41KjMuMCozLjAqZG90KHZfZXh0cnVkZSx2X2V4dHJ1ZGUpO2Zsb2F0IHZhbD13ZWlnaHQqdV9pbnRlbnNpdHkqR0FVU1NfQ09FRipleHAoZCk7Z2xfRnJhZ0NvbG9yPXZlYzQodmFsLDEuMCwxLjAsMS4wKTtcXG4jaWZkZWYgRk9HXFxuaWYgKHVfaXNfZ2xvYmU9PTApIHtnbF9GcmFnQ29sb3Iucio9cG93KDEuMC1mb2dfb3BhY2l0eSh2X2ZvZ19wb3MpLDIuMCk7fVxcbiNlbmRpZlxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIGZsb2F0IHVfZXh0cnVkZV9zY2FsZTt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt1bmlmb3JtIGZsb2F0IHVfaW50ZW5zaXR5O2F0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX3Bvc18zO2F0dHJpYnV0ZSB2ZWMzIGFfcG9zX25vcm1hbF8zO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV91cF9kaXI7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfZXh0cnVkZTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIGZsb2F0IHdlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCByYWRpdXNcXG5jb25zdCBoaWdocCBmbG9hdCBaRVJPPTEuMC8yNTUuMC8xNi4wO1xcbiNkZWZpbmUgR0FVU1NfQ09FRiAwLjM5ODk0MjI4MDQwMTQzMjdcXG52b2lkIG1haW4odm9pZCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IHdlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgcmFkaXVzXFxudmVjMiB1bnNjYWxlZF9leHRydWRlPXZlYzIobW9kKGFfcG9zLDIuMCkqMi4wLTEuMCk7ZmxvYXQgUz1zcXJ0KC0yLjAqbG9nKFpFUk8vd2VpZ2h0L3VfaW50ZW5zaXR5L0dBVVNTX0NPRUYpKS8zLjA7dl9leHRydWRlPVMqdW5zY2FsZWRfZXh0cnVkZTt2ZWMyIGV4dHJ1ZGU9dl9leHRydWRlKnJhZGl1cyp1X2V4dHJ1ZGVfc2NhbGU7dmVjMiB0aWxlUG9zPWZsb29yKGFfcG9zKjAuNSk7dmVjMyBwb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcG9zX25vcm1hbF8zPWFfcG9zX25vcm1hbF8zLzE2Mzg0LjA7bWF0MyBzdXJmYWNlX3ZlY3RvcnM9Z2xvYmVfbWVyY2F0b3Jfc3VyZmFjZV92ZWN0b3JzKHBvc19ub3JtYWxfMyx1X3VwX2Rpcix1X3pvb21fdHJhbnNpdGlvbik7dmVjMyBzdXJmYWNlX2V4dHJ1c2lvbj1leHRydWRlLngqc3VyZmFjZV92ZWN0b3JzWzBdK2V4dHJ1ZGUueSpzdXJmYWNlX3ZlY3RvcnNbMV07dmVjMyBnbG9iZV9lbGV2YXRpb249ZWxldmF0aW9uVmVjdG9yKHRpbGVQb3MpKmVsZXZhdGlvbih0aWxlUG9zKTt2ZWMzIGdsb2JlX3Bvcz1hX3Bvc18zK3N1cmZhY2VfZXh0cnVzaW9uK2dsb2JlX2VsZXZhdGlvbjt2ZWMzIG1lcmNhdG9yX2VsZXZhdGlvbj11X3VwX2Rpcip1X3RpbGVfdXBfc2NhbGUqZWxldmF0aW9uKHRpbGVQb3MpO3ZlYzMgbWVyY19wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVQb3MsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3N1cmZhY2VfZXh0cnVzaW9uK21lcmNhdG9yX2VsZXZhdGlvbjtwb3M9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7XFxuI2Vsc2VcXG5wb3M9dmVjMyh0aWxlUG9zK2V4dHJ1ZGUsZWxldmF0aW9uKHRpbGVQb3MpKTtcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcywxKTtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihwb3MpO1xcbiNlbmRpZlxcbn1cIiksaGVhdG1hcFRleHR1cmU6cG4oXCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3VuaWZvcm0gc2FtcGxlcjJEIHVfY29sb3JfcmFtcDt1bmlmb3JtIGZsb2F0IHVfb3BhY2l0eTt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2Zsb2F0IHQ9dGV4dHVyZTJEKHVfaW1hZ2Usdl9wb3MpLnI7dmVjNCBjb2xvcj10ZXh0dXJlMkQodV9jb2xvcl9yYW1wLHZlYzIodCwwLjUpKTtnbF9GcmFnQ29sb3I9Y29sb3IqdV9vcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgwLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvczt2b2lkIG1haW4oKSB7Z2xfUG9zaXRpb249dmVjNChhX3BvcywwLDEpO3ZfcG9zPWFfcG9zKjAuNSswLjU7fVwiKSxjb2xsaXNpb25Cb3g6cG4oXCJ2YXJ5aW5nIGZsb2F0IHZfcGxhY2VkO3ZhcnlpbmcgZmxvYXQgdl9ub3RVc2VkO3ZvaWQgbWFpbigpIHt2ZWM0IHJlZCA9dmVjNCgxLjAsMC4wLDAuMCwxLjApO3ZlYzQgYmx1ZT12ZWM0KDAuMCwwLjAsMS4wLDAuNSk7Z2xfRnJhZ0NvbG9yID1taXgocmVkLGJsdWUsc3RlcCgwLjUsdl9wbGFjZWQpKSowLjU7Z2xfRnJhZ0NvbG9yKj1taXgoMS4wLDAuMSxzdGVwKDAuNSx2X25vdFVzZWQpKTt9XCIsXCJhdHRyaWJ1dGUgdmVjMyBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX2FuY2hvcl9wb3M7YXR0cmlidXRlIHZlYzIgYV9leHRydWRlO2F0dHJpYnV0ZSB2ZWMyIGFfcGxhY2VkO2F0dHJpYnV0ZSB2ZWMyIGFfc2hpZnQ7YXR0cmlidXRlIGZsb2F0IGFfc2l6ZV9zY2FsZTthdHRyaWJ1dGUgdmVjMiBhX3BhZGRpbmc7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X2V4dHJ1ZGVfc2NhbGU7dW5pZm9ybSBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dmFyeWluZyBmbG9hdCB2X3BsYWNlZDt2YXJ5aW5nIGZsb2F0IHZfbm90VXNlZDt2b2lkIG1haW4oKSB7dmVjNCBwcm9qZWN0ZWRQb2ludD11X21hdHJpeCp2ZWM0KGFfcG9zK2VsZXZhdGlvblZlY3RvcihhX2FuY2hvcl9wb3MpKmVsZXZhdGlvbihhX2FuY2hvcl9wb3MpLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkUG9pbnQudztoaWdocCBmbG9hdCBjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoXFxuMC41KzAuNSoodV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2UpLDAuMCwxLjUpO2dsX1Bvc2l0aW9uPXByb2plY3RlZFBvaW50O2dsX1Bvc2l0aW9uLnh5Kz0oYV9leHRydWRlKmFfc2l6ZV9zY2FsZSthX3NoaWZ0K2FfcGFkZGluZykqdV9leHRydWRlX3NjYWxlKmdsX1Bvc2l0aW9uLncqY29sbGlzaW9uX3BlcnNwZWN0aXZlX3JhdGlvO3ZfcGxhY2VkPWFfcGxhY2VkLng7dl9ub3RVc2VkPWFfcGxhY2VkLnk7fVwiKSxjb2xsaXNpb25DaXJjbGU6cG4oXCJ2YXJ5aW5nIGZsb2F0IHZfcmFkaXVzO3ZhcnlpbmcgdmVjMiB2X2V4dHJ1ZGU7dmFyeWluZyBmbG9hdCB2X3BlcnNwZWN0aXZlX3JhdGlvO3ZhcnlpbmcgZmxvYXQgdl9jb2xsaXNpb247dm9pZCBtYWluKCkge2Zsb2F0IGFscGhhPTAuNSptaW4odl9wZXJzcGVjdGl2ZV9yYXRpbywxLjApO2Zsb2F0IHN0cm9rZV9yYWRpdXM9MC45Km1heCh2X3BlcnNwZWN0aXZlX3JhdGlvLDEuMCk7ZmxvYXQgZGlzdGFuY2VfdG9fY2VudGVyPWxlbmd0aCh2X2V4dHJ1ZGUpO2Zsb2F0IGRpc3RhbmNlX3RvX2VkZ2U9YWJzKGRpc3RhbmNlX3RvX2NlbnRlci12X3JhZGl1cyk7ZmxvYXQgb3BhY2l0eV90PXNtb290aHN0ZXAoLXN0cm9rZV9yYWRpdXMsMC4wLC1kaXN0YW5jZV90b19lZGdlKTt2ZWM0IGNvbG9yPW1peCh2ZWM0KDAuMCwwLjAsMS4wLDAuNSksdmVjNCgxLjAsMC4wLDAuMCwxLjApLHZfY29sbGlzaW9uKTtnbF9GcmFnQ29sb3I9Y29sb3IqYWxwaGEqb3BhY2l0eV90O31cIixcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zXzJmO2F0dHJpYnV0ZSBmbG9hdCBhX3JhZGl1czthdHRyaWJ1dGUgdmVjMiBhX2ZsYWdzO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9pbnZfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3ZpZXdwb3J0X3NpemU7dW5pZm9ybSBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dmFyeWluZyBmbG9hdCB2X3JhZGl1czt2YXJ5aW5nIHZlYzIgdl9leHRydWRlO3ZhcnlpbmcgZmxvYXQgdl9wZXJzcGVjdGl2ZV9yYXRpbzt2YXJ5aW5nIGZsb2F0IHZfY29sbGlzaW9uO3ZlYzMgdG9UaWxlUG9zaXRpb24odmVjMiBzY3JlZW5Qb3MpIHt2ZWM0IHJheVN0YXJ0PXVfaW52X21hdHJpeCp2ZWM0KHNjcmVlblBvcywtMS4wLDEuMCk7dmVjNCByYXlFbmQgID11X2ludl9tYXRyaXgqdmVjNChzY3JlZW5Qb3MsIDEuMCwxLjApO3JheVN0YXJ0Lnh5ei89cmF5U3RhcnQudztyYXlFbmQueHl6ICAvPXJheUVuZC53O2hpZ2hwIGZsb2F0IHQ9KDAuMC1yYXlTdGFydC56KS8ocmF5RW5kLnotcmF5U3RhcnQueik7cmV0dXJuIG1peChyYXlTdGFydC54eXoscmF5RW5kLnh5eix0KTt9dm9pZCBtYWluKCkge3ZlYzIgcXVhZENlbnRlclBvcz1hX3Bvc18yZjtmbG9hdCByYWRpdXM9YV9yYWRpdXM7ZmxvYXQgY29sbGlzaW9uPWFfZmxhZ3MueDtmbG9hdCB2ZXJ0ZXhJZHg9YV9mbGFncy55O3ZlYzIgcXVhZFZlcnRleE9mZnNldD12ZWMyKFxcbm1peCgtMS4wLDEuMCxmbG9hdCh2ZXJ0ZXhJZHggPj0yLjApKSxtaXgoLTEuMCwxLjAsZmxvYXQodmVydGV4SWR4ID49MS4wICYmIHZlcnRleElkeCA8PTIuMCkpKTt2ZWMyIHF1YWRWZXJ0ZXhFeHRlbnQ9cXVhZFZlcnRleE9mZnNldCpyYWRpdXM7dmVjMyB0aWxlUG9zPXRvVGlsZVBvc2l0aW9uKHF1YWRDZW50ZXJQb3MpO3ZlYzQgY2xpcFBvcz11X21hdHJpeCp2ZWM0KHRpbGVQb3MsMS4wKTtoaWdocCBmbG9hdCBjYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlPWNsaXBQb3MudztoaWdocCBmbG9hdCBjb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoXFxuMC41KzAuNSoodV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2UpLDAuMCw0LjApO2Zsb2F0IHBhZGRpbmdfZmFjdG9yPTEuMjt2X3JhZGl1cz1yYWRpdXM7dl9leHRydWRlPXF1YWRWZXJ0ZXhFeHRlbnQqcGFkZGluZ19mYWN0b3I7dl9wZXJzcGVjdGl2ZV9yYXRpbz1jb2xsaXNpb25fcGVyc3BlY3RpdmVfcmF0aW87dl9jb2xsaXNpb249Y29sbGlzaW9uO2dsX1Bvc2l0aW9uPXZlYzQoY2xpcFBvcy54eXovY2xpcFBvcy53LDEuMCkrdmVjNChxdWFkVmVydGV4RXh0ZW50KnBhZGRpbmdfZmFjdG9yL3Vfdmlld3BvcnRfc2l6ZSoyLjAsMC4wLDAuMCk7fVwiKSxkZWJ1ZzpwbihcInVuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yO3VuaWZvcm0gc2FtcGxlcjJEIHVfb3ZlcmxheTt2YXJ5aW5nIHZlYzIgdl91djt2b2lkIG1haW4oKSB7dmVjNCBvdmVybGF5X2NvbG9yPXRleHR1cmUyRCh1X292ZXJsYXksdl91dik7Z2xfRnJhZ0NvbG9yPW1peCh1X2NvbG9yLG92ZXJsYXlfY29sb3Isb3ZlcmxheV9jb2xvci5hKTt9XCIsXCJhdHRyaWJ1dGUgdmVjMiBhX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NfMztcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl91djt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSBmbG9hdCB1X292ZXJsYXlfc2NhbGU7dm9pZCBtYWluKCkge2Zsb2F0IGg9ZWxldmF0aW9uKGFfcG9zKTt2X3V2PWFfcG9zLzgxOTIuMDtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuZ2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3Bvc18zK2VsZXZhdGlvblZlY3RvcihhX3BvcykqaCwxKTtcXG4jZWxzZVxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MqdV9vdmVybGF5X3NjYWxlLGgsMSk7XFxuI2VuZGlmXFxufVwiKSxmaWxsOnBuKFwiI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZlYzQgb3V0X2NvbG9yPWNvbG9yO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nKG91dF9jb2xvcik7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKm9wYWNpdHk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5nbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksZmlsbE91dGxpbmU6cG4oXCJ2YXJ5aW5nIHZlYzIgdl9wb3M7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IG91dGxpbmVfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5mbG9hdCBkaXN0PWxlbmd0aCh2X3Bvcy1nbF9GcmFnQ29vcmQueHkpO2Zsb2F0IGFscGhhPTEuMC1zbW9vdGhzdGVwKDAuMCwxLjAsZGlzdCk7dmVjNCBvdXRfY29sb3I9b3V0bGluZV9jb2xvcjtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZyhvdXRfY29sb3IpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvciooYWxwaGEqb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiYXR0cmlidXRlIHZlYzIgYV9wb3M7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3dvcmxkO3ZhcnlpbmcgdmVjMiB2X3BvcztcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgb3V0bGluZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgb3V0bGluZV9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbmdsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz0oZ2xfUG9zaXRpb24ueHkvZ2xfUG9zaXRpb24udysxLjApLzIuMCp1X3dvcmxkO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGFfcG9zKTtcXG4jZW5kaWZcXG59XCIpLGZpbGxPdXRsaW5lUGF0dGVybjpwbihcInVuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTt2YXJ5aW5nIHZlYzIgdl9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zX3dvcmxkO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVyblxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbnZlYzIgcGF0dGVybl90bD1wYXR0ZXJuLnh5O3ZlYzIgcGF0dGVybl9icj1wYXR0ZXJuLnp3O3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3MsMS4wKTt2ZWMyIHBvcz1taXgocGF0dGVybl90bC91X3RleHNpemUscGF0dGVybl9ici91X3RleHNpemUsaW1hZ2Vjb29yZCk7ZmxvYXQgZGlzdD1sZW5ndGgodl9wb3Nfd29ybGQtZ2xfRnJhZ0Nvb3JkLnh5KTtmbG9hdCBhbHBoYT0xLjAtc21vb3Roc3RlcCgwLjAsMS4wLGRpc3QpO3ZlYzQgb3V0X2NvbG9yPXRleHR1cmUyRCh1X2ltYWdlLHBvcyk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmcob3V0X2NvbG9yKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1vdXRfY29sb3IqKGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV93b3JsZDt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zO3ZhcnlpbmcgdmVjMiB2X3Bvc193b3JsZDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxudmVjMiBwYXR0ZXJuX3RsPXBhdHRlcm4ueHk7dmVjMiBwYXR0ZXJuX2JyPXBhdHRlcm4uenc7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcywwLDEpO3ZlYzIgZGlzcGxheV9zaXplPShwYXR0ZXJuX2JyLXBhdHRlcm5fdGwpL3BpeGVsX3JhdGlvO3ZfcG9zPWdldF9wYXR0ZXJuX3Bvcyh1X3BpeGVsX2Nvb3JkX3VwcGVyLHVfcGl4ZWxfY29vcmRfbG93ZXIsZGlzcGxheV9zaXplLHVfdGlsZV91bml0c190b19waXhlbHMsYV9wb3MpO3ZfcG9zX3dvcmxkPShnbF9Qb3NpdGlvbi54eS9nbF9Qb3NpdGlvbi53KzEuMCkvMi4wKnVfd29ybGQ7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksZmlsbFBhdHRlcm46cG4oXCJ1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2U7dmFyeWluZyB2ZWMyIHZfcG9zO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVyblxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbnZlYzIgcGF0dGVybl90bD1wYXR0ZXJuLnh5O3ZlYzIgcGF0dGVybl9icj1wYXR0ZXJuLnp3O3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3MsMS4wKTt2ZWMyIHBvcz1taXgocGF0dGVybl90bC91X3RleHNpemUscGF0dGVybl9ici91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjNCBvdXRfY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UscG9zKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZyhvdXRfY29sb3IpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5vdXRfY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPW91dF9jb2xvcipvcGFjaXR5O1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7YXR0cmlidXRlIHZlYzIgYV9wb3M7dmFyeWluZyB2ZWMyIHZfcG9zO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG52ZWMyIHBhdHRlcm5fdGw9cGF0dGVybi54eTt2ZWMyIHBhdHRlcm5fYnI9cGF0dGVybi56dzt2ZWMyIGRpc3BsYXlfc2l6ZT0ocGF0dGVybl9ici1wYXR0ZXJuX3RsKS9waXhlbF9yYXRpbztnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KGFfcG9zLDAsMSk7dl9wb3M9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcixkaXNwbGF5X3NpemUsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxhX3Bvcyk7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksZmlsbEV4dHJ1c2lvbjpwbihcInZhcnlpbmcgdmVjNCB2X2NvbG9yO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbnZhcnlpbmcgaGlnaHAgdmVjNCB2X3Bvc19saWdodF92aWV3XzA7dmFyeWluZyBoaWdocCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMTt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7XFxuI2VuZGlmXFxuI2lmZGVmIEZBVVhfQU9cXG51bmlmb3JtIGxvd3AgdmVjMiB1X2FvO3ZhcnlpbmcgdmVjMyB2X2FvO1xcbiNlbmRpZlxcbiNpZmRlZiBaRVJPX1JPT0ZfUkFESVVTXFxudmFyeWluZyB2ZWM0IHZfcm9vZl9jb2xvcjtcXG4jZW5kaWZcXG4jaWYgZGVmaW5lZChaRVJPX1JPT0ZfUkFESVVTKSB8fCBkZWZpbmVkKFJFTkRFUl9TSEFET1dTKVxcbnZhcnlpbmcgaGlnaHAgdmVjMyB2X25vcm1hbDtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7XFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgfHwgZGVmaW5lZChSRU5ERVJfU0hBRE9XUylcXG52ZWMzIG5vcm1hbD12X25vcm1hbDtcXG4jZW5kaWZcXG5mbG9hdCB6O3ZlYzQgY29sb3I7XFxuI2lmZGVmIFpFUk9fUk9PRl9SQURJVVNcXG56PWZsb2F0KG5vcm1hbC56ID4gMC4wMDAwMSk7Y29sb3I9bWl4KHZfY29sb3Isdl9yb29mX2NvbG9yLHopO1xcbiNlbHNlXFxuY29sb3I9dl9jb2xvcjtcXG4jZW5kaWZcXG4jaWZkZWYgRkFVWF9BT1xcbmZsb2F0IGludGVuc2l0eT11X2FvWzBdO2Zsb2F0IGg9bWF4KDAuMCx2X2FvLnopO2Zsb2F0IGhfZmxvb3JzPWgvdV9hb1sxXTtmbG9hdCB5X3NoYWRlPTEuMC0wLjkqaW50ZW5zaXR5Km1pbih2X2FvLnksMS4wKTtmbG9hdCBzaGFkZT0oMS4wLTAuMDgqaW50ZW5zaXR5KSooeV9zaGFkZSsoMS4wLXlfc2hhZGUpKigxLjAtcG93KDEuMC1taW4oaF9mbG9vcnMvMTYuMCwxLjApLDE2LjApKSkrMC4wOCppbnRlbnNpdHkqbWluKGhfZmxvb3JzLzE2MC4wLDEuMCk7ZmxvYXQgY29uY2F2ZT12X2FvLngqdl9hby54O1xcbiNpZmRlZiBaRVJPX1JPT0ZfUkFESVVTXFxuY29uY2F2ZSo9KDEuMC16KTtcXG4jZW5kaWZcXG5mbG9hdCB4X3NoYWRlPW1peCgxLjAsbWl4KDAuNiwwLjc1LG1pbihoX2Zsb29ycy8zMC4wLDEuMCkpLGludGVuc2l0eSkrMC4xKmludGVuc2l0eSptaW4oaCwxLjApO3NoYWRlKj1taXgoMS4wLHhfc2hhZGUqeF9zaGFkZSp4X3NoYWRlLGNvbmNhdmUpO2NvbG9yLnJnYj1jb2xvci5yZ2Iqc2hhZGU7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxuI2lmZGVmIFpFUk9fUk9PRl9SQURJVVNcXG5ub3JtYWw9bWl4KG5vcm1hbCx2ZWMzKDAuMCwwLjAsMS4wKSx6KTtcXG4jZW5kaWZcXG5jb2xvci54eXo9c2hhZG93ZWRfY29sb3Jfbm9ybWFsKGNvbG9yLnh5eixub3JtYWxpemUobm9ybWFsKSx2X3Bvc19saWdodF92aWV3XzAsdl9wb3NfbGlnaHRfdmlld18xLHZfZGVwdGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGNvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMzIHVfbGlnaHRjb2xvcjt1bmlmb3JtIGxvd3AgdmVjMyB1X2xpZ2h0cG9zO3VuaWZvcm0gbG93cCBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O3VuaWZvcm0gZmxvYXQgdV92ZXJ0aWNhbF9ncmFkaWVudDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gZmxvYXQgdV9lZGdlX3JhZGl1czthdHRyaWJ1dGUgdmVjNCBhX3Bvc19ub3JtYWxfZWQ7YXR0cmlidXRlIHZlYzIgYV9jZW50cm9pZF9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmF0dHJpYnV0ZSB2ZWMzIGFfcG9zXzM7YXR0cmlidXRlIHZlYzMgYV9wb3Nfbm9ybWFsXzM7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X3VwX2Rpcjt1bmlmb3JtIGZsb2F0IHVfaGVpZ2h0X2xpZnQ7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWM0IHZfY29sb3I7XFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzA7dW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzE7dmFyeWluZyBoaWdocCB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDtcXG4jZW5kaWZcXG4jaWZkZWYgWkVST19ST09GX1JBRElVU1xcbnZhcnlpbmcgdmVjNCB2X3Jvb2ZfY29sb3I7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgfHwgZGVmaW5lZChSRU5ERVJfU0hBRE9XUylcXG52YXJ5aW5nIGhpZ2hwIHZlYzMgdl9ub3JtYWw7XFxuI2VuZGlmXFxuI2lmZGVmIEZBVVhfQU9cXG51bmlmb3JtIGxvd3AgdmVjMiB1X2FvO3ZhcnlpbmcgdmVjMyB2X2FvO1xcbiNlbmRpZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgYmFzZVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGNvbG9yXFxudmVjNCBwb3Nfbng9Zmxvb3IoYV9wb3Nfbm9ybWFsX2VkKjAuNSk7dmVjNCB0b3BfdXBfbnlfc3RhcnQ9YV9wb3Nfbm9ybWFsX2VkLTIuMCpwb3Nfbng7dmVjMyB0b3BfdXBfbnk9dG9wX3VwX255X3N0YXJ0Lnh5ejtmbG9hdCB4X25vcm1hbD1wb3Nfbnguei84MTkyLjA7dmVjMyBub3JtYWw9dG9wX3VwX255Lnk9PTEuMCA/IHZlYzMoMC4wLDAuMCwxLjApIDogbm9ybWFsaXplKHZlYzMoeF9ub3JtYWwsKDIuMCp0b3BfdXBfbnkuei0xLjApKigxLjAtYWJzKHhfbm9ybWFsKSksMC4wKSk7XFxuI2lmIGRlZmluZWQoWkVST19ST09GX1JBRElVUykgfHwgZGVmaW5lZChSRU5ERVJfU0hBRE9XUylcXG52X25vcm1hbD1ub3JtYWw7XFxuI2VuZGlmXFxuYmFzZT1tYXgoMC4wLGJhc2UpO2hlaWdodD1tYXgoMC4wLHRvcF91cF9ueS55PT0wLjAgJiYgdG9wX3VwX255Lng9PTEuMCA/IGhlaWdodC11X2VkZ2VfcmFkaXVzIDogaGVpZ2h0KTtmbG9hdCB0PXRvcF91cF9ueS54O3ZlYzIgY2VudHJvaWRfcG9zPXZlYzIoMC4wKTtcXG4jaWYgZGVmaW5lZChIQVNfQ0VOVFJPSUQpIHx8IGRlZmluZWQoVEVSUkFJTilcXG5jZW50cm9pZF9wb3M9YV9jZW50cm9pZF9wb3M7XFxuI2VuZGlmXFxuZmxvYXQgZWxlPTAuMDtmbG9hdCBoPTAuMDtmbG9hdCBjX2VsZTt2ZWMzIHBvcztcXG4jaWZkZWYgVEVSUkFJTlxcbmJvb2wgZmxhdF9yb29mPWNlbnRyb2lkX3Bvcy54ICE9MC4wICYmIHQgPiAwLjA7ZWxlPWVsZXZhdGlvbihwb3NfbngueHkpO2NfZWxlPWZsYXRfcm9vZiA/IGNlbnRyb2lkX3Bvcy55PT0wLjAgPyBlbGV2YXRpb25Gcm9tVWludDE2KGNlbnRyb2lkX3Bvcy54KSA6IGZsYXRFbGV2YXRpb24oY2VudHJvaWRfcG9zKSA6IGVsZTtoPWZsYXRfcm9vZiA/IG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSA6IGVsZSsodCA+IDAuMCA/IGhlaWdodCA6IGJhc2U9PTAuMCA/LTUuMCA6IGJhc2UpO3Bvcz12ZWMzKHBvc19ueC54eSxoKTtcXG4jZWxzZVxcbmg9dCA+IDAuMCA/IGhlaWdodCA6IGJhc2U7cG9zPXZlYzMocG9zX254Lnh5LGgpO1xcbiNlbmRpZlxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5mbG9hdCBsaWZ0PWZsb2F0KCh0K2Jhc2UpID4gMC4wKSp1X2hlaWdodF9saWZ0O2grPWxpZnQ7dmVjMyBnbG9iZV9ub3JtYWw9bm9ybWFsaXplKG1peChhX3Bvc19ub3JtYWxfMy8xNjM4NC4wLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKSk7dmVjMyBnbG9iZV9wb3M9YV9wb3NfMytnbG9iZV9ub3JtYWwqKHVfdGlsZV91cF9zY2FsZSpoKTt2ZWMzIG1lcmNfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCxwb3MueHksdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpK3VfdXBfZGlyKnVfdGlsZV91cF9zY2FsZSpwb3Muejtwb3M9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxuZmxvYXQgaGlkZGVuPWZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjAgJiYgY2VudHJvaWRfcG9zLnk9PTEuMCk7Z2xfUG9zaXRpb249bWl4KHVfbWF0cml4KnZlYzQocG9zLDEpLEFXQVksaGlkZGVuKTtcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG52X3Bvc19saWdodF92aWV3XzA9dV9saWdodF9tYXRyaXhfMCp2ZWM0KHBvcywxKTt2X3Bvc19saWdodF92aWV3XzE9dV9saWdodF9tYXRyaXhfMSp2ZWM0KHBvcywxKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxuZmxvYXQgTmRvdEw9MC4wO2Zsb2F0IGNvbG9ydmFsdWU9MC4wO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxuTmRvdEw9Y2FsY3VsYXRlX05kb3RMKG5vcm1hbCk7XFxuI2Vsc2VcXG5jb2xvcnZhbHVlPWNvbG9yLnIqMC4yMTI2K2NvbG9yLmcqMC43MTUyK2NvbG9yLmIqMC4wNzIyO3ZlYzQgYW1iaWVudGxpZ2h0PXZlYzQoMC4wMywwLjAzLDAuMDMsMS4wKTtjb2xvcis9YW1iaWVudGxpZ2h0O05kb3RMPWNsYW1wKGRvdChub3JtYWwsdV9saWdodHBvcyksMC4wLDEuMCk7TmRvdEw9bWl4KCgxLjAtdV9saWdodGludGVuc2l0eSksbWF4KCgxLjAtY29sb3J2YWx1ZSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLE5kb3RMKTtcXG4jZW5kaWZcXG5pZiAobm9ybWFsLnkgIT0wLjApIHtmbG9hdCByPTAuODQ7XFxuI2lmbmRlZiBMSUdIVElOR18zRF9NT0RFXFxucj1taXgoMC43LDAuOTgsMS4wLXVfbGlnaHRpbnRlbnNpdHkpO1xcbiNlbmRpZlxcbk5kb3RMKj0oXFxuKDEuMC11X3ZlcnRpY2FsX2dyYWRpZW50KSsodV92ZXJ0aWNhbF9ncmFkaWVudCpjbGFtcCgodCtiYXNlKSpwb3coaGVpZ2h0LzE1MC4wLDAuNSksciwxLjApKSk7fXZfY29sb3I9dmVjNCgwLjAsMC4wLDAuMCwxLjApO1xcbiNpZmRlZiBGQVVYX0FPXFxuZmxvYXQgY29uY2F2ZT1wb3Nfbngudy1mbG9vcihwb3NfbngudyowLjUpKjIuMDtmbG9hdCBzdGFydD10b3BfdXBfbnlfc3RhcnQudztmbG9hdCB5X2dyb3VuZD0xLjAtY2xhbXAodCtiYXNlLDAuMCwxLjApO2Zsb2F0IHRvcF9oZWlnaHQ9aGVpZ2h0O1xcbiNpZmRlZiBURVJSQUlOXFxudG9wX2hlaWdodD1taXgobWF4KGNfZWxlK2hlaWdodCxlbGUrYmFzZSsyLjApLGVsZStoZWlnaHQsZmxvYXQoY2VudHJvaWRfcG9zLng9PTAuMCkpLWVsZTt5X2dyb3VuZCs9eV9ncm91bmQqNS4wL21heCgzLjAsdG9wX2hlaWdodCk7XFxuI2VuZGlmXFxudl9hbz12ZWMzKG1peChjb25jYXZlLC1jb25jYXZlLHN0YXJ0KSx5X2dyb3VuZCxoLWVsZSk7TmRvdEwqPSgxLjArMC4wNSooMS4wLXRvcF91cF9ueS55KSp1X2FvWzBdKTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudG9wX2hlaWdodCs9dV9oZWlnaHRfbGlmdDtcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbi56LT0oMC4wMDAwMDA2KihtaW4odG9wX2hlaWdodCw1MDAuKSsyLjAqbWluKGJhc2UsNTAwLjApKzYwLjAqY29uY2F2ZSszLjAqc3RhcnQpKSpnbF9Qb3NpdGlvbi53O1xcbiNlbmRpZlxcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxudl9jb2xvcj1hcHBseV9saWdodGluZyhjb2xvcixOZG90TCk7XFxuI2Vsc2VcXG52X2NvbG9yLnJnYis9Y2xhbXAoY29sb3IucmdiKk5kb3RMKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO1xcbiNlbmRpZlxcbnZfY29sb3IqPXVfb3BhY2l0eTtcXG4jaWZkZWYgWkVST19ST09GX1JBRElVU1xcbnZfcm9vZl9jb2xvcj12ZWM0KDAuMCwwLjAsMC4wLDEuMCk7XFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG52X3Jvb2ZfY29sb3I9YXBwbHlfbGlnaHRpbmcoY29sb3IsY2FsY3VsYXRlX05kb3RMKHZlYzMoMC4wLDAuMCwxLjApKSk7XFxuI2Vsc2VcXG5mbG9hdCByb29mTmRvdEw9Y2xhbXAodV9saWdodHBvcy56LDAuMCwxLjApO3Jvb2ZOZG90TD1taXgoKDEuMC11X2xpZ2h0aW50ZW5zaXR5KSxtYXgoKDEuMC1jb2xvcnZhbHVlK3VfbGlnaHRpbnRlbnNpdHkpLDEuMCkscm9vZk5kb3RMKTt2X3Jvb2ZfY29sb3IucmdiKz1jbGFtcChjb2xvci5yZ2Iqcm9vZk5kb3RMKnVfbGlnaHRjb2xvcixtaXgodmVjMygwLjApLHZlYzMoMC4zKSwxLjAtdV9saWdodGNvbG9yKSx2ZWMzKDEuMCkpO1xcbiNlbmRpZlxcbnZfcm9vZl9jb2xvcio9dV9vcGFjaXR5O1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHBvcyk7XFxuI2VuZGlmXFxufVwiKSxmaWxsRXh0cnVzaW9uUGF0dGVybjpwbihcInVuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTtcXG4jaWZkZWYgRkFVWF9BT1xcbnVuaWZvcm0gbG93cCB2ZWMyIHVfYW87dmFyeWluZyB2ZWMzIHZfYW87XFxuI2VuZGlmXFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG52YXJ5aW5nIGZsb2F0IHZfTmRvdEw7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfcG9zO3ZhcnlpbmcgdmVjNCB2X2xpZ2h0aW5nO3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGVpZ2h0XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJhc2VcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbnZlYzIgcGF0dGVybl90bD1wYXR0ZXJuLnh5O3ZlYzIgcGF0dGVybl9icj1wYXR0ZXJuLnp3O3ZlYzIgaW1hZ2Vjb29yZD1tb2Qodl9wb3MsMS4wKTt2ZWMyIHBvcz1taXgocGF0dGVybl90bC91X3RleHNpemUscGF0dGVybl9ici91X3RleHNpemUsaW1hZ2Vjb29yZCk7dmVjNCBvdXRfY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UscG9zKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbm91dF9jb2xvcj1hcHBseV9saWdodGluZyhvdXRfY29sb3Isdl9OZG90TCkqdV9vcGFjaXR5O1xcbiNlbHNlXFxub3V0X2NvbG9yPW91dF9jb2xvcip2X2xpZ2h0aW5nO1xcbiNlbmRpZlxcbiNpZmRlZiBGQVVYX0FPXFxuZmxvYXQgaW50ZW5zaXR5PXVfYW9bMF07ZmxvYXQgaD1tYXgoMC4wLHZfYW8ueik7ZmxvYXQgaF9mbG9vcnM9aC91X2FvWzFdO2Zsb2F0IHlfc2hhZGU9MS4wLTAuOSppbnRlbnNpdHkqbWluKHZfYW8ueSwxLjApO2Zsb2F0IHNoYWRlPSgxLjAtMC4wOCppbnRlbnNpdHkpKih5X3NoYWRlKygxLjAteV9zaGFkZSkqKDEuMC1wb3coMS4wLW1pbihoX2Zsb29ycy8xNi4wLDEuMCksMTYuMCkpKSswLjA4KmludGVuc2l0eSptaW4oaF9mbG9vcnMvMTYwLjAsMS4wKTtmbG9hdCBjb25jYXZlPXZfYW8ueCp2X2FvLng7ZmxvYXQgeF9zaGFkZT1taXgoMS4wLG1peCgwLjYsMC43NSxtaW4oaF9mbG9vcnMvMzAuMCwxLjApKSxpbnRlbnNpdHkpKzAuMSppbnRlbnNpdHkqbWluKGgsMS4wKTtzaGFkZSo9bWl4KDEuMCx4X3NoYWRlKnhfc2hhZGUqeF9zaGFkZSxjb25jYXZlKTtvdXRfY29sb3IucmdiPW91dF9jb2xvci5yZ2Iqc2hhZGU7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKG91dF9jb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF91cHBlcjt1bmlmb3JtIHZlYzIgdV9waXhlbF9jb29yZF9sb3dlcjt1bmlmb3JtIGZsb2F0IHVfaGVpZ2h0X2ZhY3Rvcjt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7dW5pZm9ybSBmbG9hdCB1X3ZlcnRpY2FsX2dyYWRpZW50O3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSB2ZWMzIHVfbGlnaHRjb2xvcjt1bmlmb3JtIGxvd3AgdmVjMyB1X2xpZ2h0cG9zO3VuaWZvcm0gbG93cCBmbG9hdCB1X2xpZ2h0aW50ZW5zaXR5O2F0dHJpYnV0ZSB2ZWM0IGFfcG9zX25vcm1hbF9lZDthdHRyaWJ1dGUgdmVjMiBhX2NlbnRyb2lkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9wb3NfMzthdHRyaWJ1dGUgdmVjMyBhX3Bvc19ub3JtYWxfMzt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfdXBfZGlyO3VuaWZvcm0gZmxvYXQgdV9oZWlnaHRfbGlmdDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzIgdl9wb3M7dmFyeWluZyB2ZWM0IHZfbGlnaHRpbmc7XFxuI2lmZGVmIEZBVVhfQU9cXG51bmlmb3JtIGxvd3AgdmVjMiB1X2FvO3ZhcnlpbmcgdmVjMyB2X2FvO1xcbiNlbmRpZlxcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxudmFyeWluZyBmbG9hdCB2X05kb3RMO1xcbiNlbmRpZlxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhlaWdodFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBiYXNlXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoZWlnaHRcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG52ZWMyIHBhdHRlcm5fdGw9cGF0dGVybi54eTt2ZWMyIHBhdHRlcm5fYnI9cGF0dGVybi56dzt2ZWM0IHBvc19ueD1mbG9vcihhX3Bvc19ub3JtYWxfZWQqMC41KTttZWRpdW1wIHZlYzQgdG9wX3VwX255X3N0YXJ0PWFfcG9zX25vcm1hbF9lZC0yLjAqcG9zX254O21lZGl1bXAgdmVjMyB0b3BfdXBfbnk9dG9wX3VwX255X3N0YXJ0Lnh5ejtmbG9hdCB4X25vcm1hbD1wb3Nfbnguei84MTkyLjA7dmVjMyBub3JtYWw9dG9wX3VwX255Lnk9PTEuMCA/IHZlYzMoMC4wLDAuMCwxLjApIDogbm9ybWFsaXplKHZlYzMoeF9ub3JtYWwsKDIuMCp0b3BfdXBfbnkuei0xLjApKigxLjAtYWJzKHhfbm9ybWFsKSksMC4wKSk7ZmxvYXQgZWRnZWRpc3RhbmNlPWFfcG9zX25vcm1hbF9lZC53O3ZlYzIgZGlzcGxheV9zaXplPShwYXR0ZXJuX2JyLXBhdHRlcm5fdGwpL3BpeGVsX3JhdGlvO2Jhc2U9bWF4KDAuMCxiYXNlKTtoZWlnaHQ9bWF4KDAuMCxoZWlnaHQpO2Zsb2F0IHQ9dG9wX3VwX255Lng7ZmxvYXQgej10ID4gMC4wID8gaGVpZ2h0IDogYmFzZTt2ZWMyIGNlbnRyb2lkX3Bvcz12ZWMyKDAuMCk7XFxuI2lmIGRlZmluZWQoSEFTX0NFTlRST0lEKSB8fCBkZWZpbmVkKFRFUlJBSU4pXFxuY2VudHJvaWRfcG9zPWFfY2VudHJvaWRfcG9zO1xcbiNlbmRpZlxcbmZsb2F0IGVsZT0wLjA7ZmxvYXQgaD16O3ZlYzMgcDtmbG9hdCBjX2VsZTtcXG4jaWZkZWYgVEVSUkFJTlxcbmJvb2wgZmxhdF9yb29mPWNlbnRyb2lkX3Bvcy54ICE9MC4wICYmIHQgPiAwLjA7ZWxlPWVsZXZhdGlvbihwb3NfbngueHkpO2NfZWxlPWZsYXRfcm9vZiA/IGNlbnRyb2lkX3Bvcy55PT0wLjAgPyBlbGV2YXRpb25Gcm9tVWludDE2KGNlbnRyb2lkX3Bvcy54KSA6IGZsYXRFbGV2YXRpb24oY2VudHJvaWRfcG9zKSA6IGVsZTtoPWZsYXRfcm9vZiA/IG1heChjX2VsZStoZWlnaHQsZWxlK2Jhc2UrMi4wKSA6IGVsZSsodCA+IDAuMCA/IGhlaWdodCA6IGJhc2U9PTAuMCA/LTUuMCA6IGJhc2UpO3A9dmVjMyhwb3NfbngueHksaCk7XFxuI2Vsc2VcXG5wPXZlYzMocG9zX254Lnh5LHopO1xcbiNlbmRpZlxcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5mbG9hdCBsaWZ0PWZsb2F0KCh0K2Jhc2UpID4gMC4wKSp1X2hlaWdodF9saWZ0O2grPWxpZnQ7dmVjMyBnbG9iZV9ub3JtYWw9bm9ybWFsaXplKG1peChhX3Bvc19ub3JtYWxfMy8xNjM4NC4wLHVfdXBfZGlyLHVfem9vbV90cmFuc2l0aW9uKSk7dmVjMyBnbG9iZV9wb3M9YV9wb3NfMytnbG9iZV9ub3JtYWwqKHVfdGlsZV91cF9zY2FsZSoocC56K2xpZnQpKTt2ZWMzIG1lcmNfcG9zPW1lcmNhdG9yX3RpbGVfcG9zaXRpb24odV9pbnZfcm90X21hdHJpeCxwLnh5LHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKSt1X3VwX2Rpcip1X3RpbGVfdXBfc2NhbGUqcC56O3A9bWl4X2dsb2JlX21lcmNhdG9yKGdsb2JlX3BvcyxtZXJjX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7XFxuI2VuZGlmXFxuZmxvYXQgaGlkZGVuPWZsb2F0KGNlbnRyb2lkX3Bvcy54PT0wLjAgJiYgY2VudHJvaWRfcG9zLnk9PTEuMCk7Z2xfUG9zaXRpb249bWl4KHVfbWF0cml4KnZlYzQocCwxKSxBV0FZLGhpZGRlbik7dmVjMiBwb3M9bm9ybWFsLno9PTEuMFxcbj8gcG9zX254Lnh5XFxuOiB2ZWMyKGVkZ2VkaXN0YW5jZSx6KnVfaGVpZ2h0X2ZhY3Rvcik7dl9wb3M9Z2V0X3BhdHRlcm5fcG9zKHVfcGl4ZWxfY29vcmRfdXBwZXIsdV9waXhlbF9jb29yZF9sb3dlcixkaXNwbGF5X3NpemUsdV90aWxlX3VuaXRzX3RvX3BpeGVscyxwb3MpO3ZfbGlnaHRpbmc9dmVjNCgwLjAsMC4wLDAuMCwxLjApO2Zsb2F0IE5kb3RMPTAuMDtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbk5kb3RMPWNhbGN1bGF0ZV9OZG90TChub3JtYWwpO1xcbiNlbHNlXFxuTmRvdEw9Y2xhbXAoZG90KG5vcm1hbCx1X2xpZ2h0cG9zKSwwLjAsMS4wKTtOZG90TD1taXgoKDEuMC11X2xpZ2h0aW50ZW5zaXR5KSxtYXgoKDAuNSt1X2xpZ2h0aW50ZW5zaXR5KSwxLjApLE5kb3RMKTtcXG4jZW5kaWZcXG5pZiAobm9ybWFsLnkgIT0wLjApIHtmbG9hdCByPTAuODQ7XFxuI2lmbmRlZiBMSUdIVElOR18zRF9NT0RFXFxucj1taXgoMC43LDAuOTgsMS4wLXVfbGlnaHRpbnRlbnNpdHkpO1xcbiNlbmRpZlxcbk5kb3RMKj0oXFxuKDEuMC11X3ZlcnRpY2FsX2dyYWRpZW50KSsodV92ZXJ0aWNhbF9ncmFkaWVudCpjbGFtcCgodCtiYXNlKSpwb3coaGVpZ2h0LzE1MC4wLDAuNSksciwxLjApKSk7fVxcbiNpZmRlZiBGQVVYX0FPXFxuZmxvYXQgY29uY2F2ZT1wb3Nfbngudy1mbG9vcihwb3NfbngudyowLjUpKjIuMDtmbG9hdCBzdGFydD10b3BfdXBfbnlfc3RhcnQudztmbG9hdCB5X2dyb3VuZD0xLjAtY2xhbXAodCtiYXNlLDAuMCwxLjApO2Zsb2F0IHRvcF9oZWlnaHQ9aGVpZ2h0O1xcbiNpZmRlZiBURVJSQUlOXFxudG9wX2hlaWdodD1taXgobWF4KGNfZWxlK2hlaWdodCxlbGUrYmFzZSsyLjApLGVsZStoZWlnaHQsZmxvYXQoY2VudHJvaWRfcG9zLng9PTAuMCkpLWVsZTt5X2dyb3VuZCs9eV9ncm91bmQqNS4wL21heCgzLjAsdG9wX2hlaWdodCk7XFxuI2VuZGlmXFxudl9hbz12ZWMzKG1peChjb25jYXZlLC1jb25jYXZlLHN0YXJ0KSx5X2dyb3VuZCxoLWVsZSk7TmRvdEwqPSgxLjArMC4wNSooMS4wLXRvcF91cF9ueS55KSp1X2FvWzBdKTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudG9wX2hlaWdodCs9dV9oZWlnaHRfbGlmdDtcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbi56LT0oMC4wMDAwMDA2KihtaW4odG9wX2hlaWdodCw1MDAuKSsyLjAqbWluKGJhc2UsNTAwLjApKzYwLjAqY29uY2F2ZSszLjAqc3RhcnQpKSpnbF9Qb3NpdGlvbi53O1xcbiNlbmRpZlxcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxudl9OZG90TD1OZG90TDtcXG4jZWxzZVxcbnZfbGlnaHRpbmcucmdiKz1jbGFtcChOZG90TCp1X2xpZ2h0Y29sb3IsbWl4KHZlYzMoMC4wKSx2ZWMzKDAuMyksMS4wLXVfbGlnaHRjb2xvciksdmVjMygxLjApKTt2X2xpZ2h0aW5nKj11X29wYWNpdHk7XFxuI2VuZGlmIFxcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHApO1xcbiNlbmRpZlxcbn1cIiksaGlsbHNoYWRlUHJlcGFyZTpwbihcIiNpZmRlZiBHTF9FU1xcbnByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4jZW5kaWZcXG51bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvczt1bmlmb3JtIHZlYzIgdV9kaW1lbnNpb247dW5pZm9ybSBmbG9hdCB1X3pvb207dW5pZm9ybSB2ZWM0IHVfdW5wYWNrO2Zsb2F0IGdldEVsZXZhdGlvbih2ZWMyIGNvb3JkKSB7XFxuI2lmZGVmIFRFUlJBSU5fREVNX0ZMT0FUX0ZPUk1BVFxcbnJldHVybiB0ZXh0dXJlMkQodV9pbWFnZSxjb29yZCkuYS80LjA7XFxuI2Vsc2VcXG52ZWM0IGRhdGE9dGV4dHVyZTJEKHVfaW1hZ2UsY29vcmQpKjI1NS4wO2RhdGEuYT0tMS4wO3JldHVybiBkb3QoZGF0YSx1X3VucGFjaykvNC4wO1xcbiNlbmRpZlxcbn12b2lkIG1haW4oKSB7dmVjMiBlcHNpbG9uPTEuMC91X2RpbWVuc2lvbjtmbG9hdCBhPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKC1lcHNpbG9uLngsLWVwc2lsb24ueSkpO2Zsb2F0IGI9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoMCwtZXBzaWxvbi55KSk7ZmxvYXQgYz1nZXRFbGV2YXRpb24odl9wb3MrdmVjMihlcHNpbG9uLngsLWVwc2lsb24ueSkpO2Zsb2F0IGQ9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoLWVwc2lsb24ueCwwKSk7ZmxvYXQgZT1nZXRFbGV2YXRpb24odl9wb3MrdmVjMihlcHNpbG9uLngsMCkpO2Zsb2F0IGY9Z2V0RWxldmF0aW9uKHZfcG9zK3ZlYzIoLWVwc2lsb24ueCxlcHNpbG9uLnkpKTtmbG9hdCBnPWdldEVsZXZhdGlvbih2X3Bvcyt2ZWMyKDAsZXBzaWxvbi55KSk7ZmxvYXQgaD1nZXRFbGV2YXRpb24odl9wb3MrdmVjMihlcHNpbG9uLngsZXBzaWxvbi55KSk7ZmxvYXQgZXhhZ2dlcmF0aW9uRmFjdG9yPXVfem9vbSA8IDIuMCA/IDAuNCA6IHVfem9vbSA8IDQuNSA/IDAuMzUgOiAwLjM7ZmxvYXQgZXhhZ2dlcmF0aW9uPXVfem9vbSA8IDE1LjAgPyAodV96b29tLTE1LjApKmV4YWdnZXJhdGlvbkZhY3RvciA6IDAuMDt2ZWMyIGRlcml2PXZlYzIoXFxuKGMrZStlK2gpLShhK2QrZCtmKSwoZitnK2craCktKGErYitiK2MpXFxuKS9wb3coMi4wLGV4YWdnZXJhdGlvbisoMTkuMjU2Mi11X3pvb20pKTtnbF9GcmFnQ29sb3I9Y2xhbXAodmVjNChcXG5kZXJpdi54LzIuMCswLjUsZGVyaXYueS8yLjArMC41LDEuMCwxLjApLDAuMCwxLjApO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9kaW1lbnNpb247YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTtoaWdocCB2ZWMyIGVwc2lsb249MS4wL3VfZGltZW5zaW9uO2Zsb2F0IHNjYWxlPSh1X2RpbWVuc2lvbi54LTIuMCkvdV9kaW1lbnNpb24ueDt2X3Bvcz0oYV90ZXh0dXJlX3Bvcy84MTkyLjApKnNjYWxlK2Vwc2lsb247fVwiKSxoaWxsc2hhZGU6cG4oXCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X3Bvczt1bmlmb3JtIHZlYzIgdV9sYXRyYW5nZTt1bmlmb3JtIHZlYzIgdV9saWdodDt1bmlmb3JtIHZlYzQgdV9zaGFkb3c7dW5pZm9ybSB2ZWM0IHVfaGlnaGxpZ2h0O3VuaWZvcm0gdmVjNCB1X2FjY2VudDt2b2lkIG1haW4oKSB7dmVjNCBwaXhlbD10ZXh0dXJlMkQodV9pbWFnZSx2X3Bvcyk7dmVjMiBkZXJpdj0oKHBpeGVsLnJnKjIuMCktMS4wKTtmbG9hdCBzY2FsZUZhY3Rvcj1jb3MocmFkaWFucygodV9sYXRyYW5nZVswXS11X2xhdHJhbmdlWzFdKSooMS4wLXZfcG9zLnkpK3VfbGF0cmFuZ2VbMV0pKTtmbG9hdCBzbG9wZT1hdGFuKDEuMjUqbGVuZ3RoKGRlcml2KS9zY2FsZUZhY3Rvcik7ZmxvYXQgYXNwZWN0PWRlcml2LnggIT0wLjAgPyBhdGFuKGRlcml2LnksLWRlcml2LngpIDogUEkvMi4wKihkZXJpdi55ID4gMC4wID8gMS4wIDotMS4wKTtmbG9hdCBpbnRlbnNpdHk9dV9saWdodC54O2Zsb2F0IGF6aW11dGg9dV9saWdodC55K1BJO2Zsb2F0IGJhc2U9MS44NzUtaW50ZW5zaXR5KjEuNzU7ZmxvYXQgbWF4VmFsdWU9MC41KlBJO2Zsb2F0IHNjYWxlZFNsb3BlPWludGVuc2l0eSAhPTAuNSA/ICgocG93KGJhc2Usc2xvcGUpLTEuMCkvKHBvdyhiYXNlLG1heFZhbHVlKS0xLjApKSptYXhWYWx1ZSA6IHNsb3BlO2Zsb2F0IGFjY2VudD1jb3Moc2NhbGVkU2xvcGUpO3ZlYzQgYWNjZW50X2NvbG9yPSgxLjAtYWNjZW50KSp1X2FjY2VudCpjbGFtcChpbnRlbnNpdHkqMi4wLDAuMCwxLjApO2Zsb2F0IHNoYWRlPWFicyhtb2QoKGFzcGVjdCthemltdXRoKS9QSSswLjUsMi4wKS0xLjApO3ZlYzQgc2hhZGVfY29sb3I9bWl4KHVfc2hhZG93LHVfaGlnaGxpZ2h0LHNoYWRlKSpzaW4oc2NhbGVkU2xvcGUpKmNsYW1wKGludGVuc2l0eSoyLjAsMC4wLDEuMCk7Z2xfRnJhZ0NvbG9yPWFjY2VudF9jb2xvciooMS4wLXNoYWRlX2NvbG9yLmEpK3NoYWRlX2NvbG9yO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxuZ2xfRnJhZ0NvbG9yPWFwcGx5X2xpZ2h0aW5nKGdsX0ZyYWdDb2xvcik7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbmdsX0ZyYWdDb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGdsX0ZyYWdDb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3M7dm9pZCBtYWluKCkge2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MsMCwxKTt2X3Bvcz1hX3RleHR1cmVfcG9zLzgxOTIuMDtcXG4jaWZkZWYgRk9HXFxudl9mb2dfcG9zPWZvZ19wb3NpdGlvbihhX3Bvcyk7XFxuI2VuZGlmXFxufVwiKSxsaW5lOnBuKFwidW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3VuaWZvcm0gZmxvYXQgdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDt1bmlmb3JtIGhpZ2hwIHZlYzIgdV90cmltX29mZnNldDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyB2ZWMyIHZfbm9ybWFsO3ZhcnlpbmcgZmxvYXQgdl9nYW1tYV9zY2FsZTt2YXJ5aW5nIGhpZ2hwIHZlYzQgdl91djtcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbnVuaWZvcm0gc2FtcGxlcjJEIHVfZGFzaF9pbWFnZTt2YXJ5aW5nIHZlYzIgdl90ZXg7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9MSU5FX0dSQURJRU5UXFxudW5pZm9ybSBzYW1wbGVyMkQgdV9ncmFkaWVudF9pbWFnZTtcXG4jZW5kaWZcXG51bmlmb3JtIGZsb2F0IHVfYm9yZGVyX3dpZHRoO3VuaWZvcm0gdmVjNCB1X2JvcmRlcl9jb2xvcjtmbG9hdCBsdW1pbmFuY2UodmVjMyBjKSB7cmV0dXJuIChjLnIrYy5yK2MuYitjLmcrYy5nK2MuZykqMC4xNjY3O31cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IGRhc2hcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuZmxvYXQgbGluZWFyc3RlcChmbG9hdCBlZGdlMCxmbG9hdCBlZGdlMSxmbG9hdCB4KSB7cmV0dXJuICBjbGFtcCgoeC1lZGdlMCkvKGVkZ2UxLWVkZ2UwKSwwLjAsMS4wKTt9dm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIHZlYzQgZGFzaFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbmZsb2F0IGRpc3Q9bGVuZ3RoKHZfbm9ybWFsKSp2X3dpZHRoMi5zO2Zsb2F0IGJsdXIyPShibHVyKzEuMC91X2RldmljZV9waXhlbF9yYXRpbykqdl9nYW1tYV9zY2FsZTtmbG9hdCBhbHBoYT1jbGFtcChtaW4oZGlzdC0odl93aWR0aDIudC1ibHVyMiksdl93aWR0aDIucy1kaXN0KS9ibHVyMiwwLjAsMS4wKTtcXG4jaWZkZWYgUkVOREVSX0xJTkVfREFTSFxcbmZsb2F0IHNkZmRpc3Q9dGV4dHVyZTJEKHVfZGFzaF9pbWFnZSx2X3RleCkuYTtmbG9hdCBzZGZnYW1tYT0xLjAvKDIuMCp1X2RldmljZV9waXhlbF9yYXRpbykvZGFzaC56O2FscGhhKj1saW5lYXJzdGVwKDAuNS1zZGZnYW1tYS9mbG9vcndpZHRoLDAuNStzZGZnYW1tYS9mbG9vcndpZHRoLHNkZmRpc3QpO1xcbiNlbmRpZlxcbmhpZ2hwIHZlYzQgb3V0X2NvbG9yO1xcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbm91dF9jb2xvcj10ZXh0dXJlMkQodV9ncmFkaWVudF9pbWFnZSx2X3V2Lnh5KTtcXG4jZWxzZVxcbm91dF9jb2xvcj1jb2xvcjtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX0xJTkVfVFJJTV9PRkZTRVRcXG5oaWdocCBmbG9hdCBzdGFydD12X3V2WzJdO2hpZ2hwIGZsb2F0IGVuZD12X3V2WzNdO2hpZ2hwIGZsb2F0IHRyaW1fc3RhcnQ9dV90cmltX29mZnNldFswXTtoaWdocCBmbG9hdCB0cmltX2VuZD11X3RyaW1fb2Zmc2V0WzFdO2hpZ2hwIGZsb2F0IGxpbmVfcHJvZ3Jlc3M9KHN0YXJ0Kyh2X3V2LngpKihlbmQtc3RhcnQpKTtpZiAodHJpbV9lbmQgPiB0cmltX3N0YXJ0KSB7aWYgKGxpbmVfcHJvZ3Jlc3MgPD10cmltX2VuZCAmJiBsaW5lX3Byb2dyZXNzID49dHJpbV9zdGFydCkge291dF9jb2xvcj12ZWM0KDAsMCwwLDApO319XFxuI2VuZGlmXFxuI2lmZGVmIExJR0hUSU5HXzNEX01PREVcXG5vdXRfY29sb3I9YXBwbHlfbGlnaHRpbmcob3V0X2NvbG9yKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxub3V0X2NvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X3ByZW11bHRpcGxpZWQob3V0X2NvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9BTFBIQV9ESVNDQVJEXFxuaWYgKGFscGhhIDwgdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZCkge2Rpc2NhcmQ7fVxcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9CT1JERVJcXG5mbG9hdCBlZGdlQmx1cj0odV9ib3JkZXJfd2lkdGgrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKTtmbG9hdCBhbHBoYTI9Y2xhbXAobWluKGRpc3QtKHZfd2lkdGgyLnQtZWRnZUJsdXIpLHZfd2lkdGgyLnMtZGlzdCkvZWRnZUJsdXIsMC4wLDEuMCk7aWYgKGFscGhhMiA8IDEuKSB7ZmxvYXQgc21vb3RoQWxwaGE9c21vb3Roc3RlcCgwLjYsMS4wLGFscGhhMik7XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0JPUkRFUl9BVVRPXFxuZmxvYXQgWT0ob3V0X2NvbG9yLmEgPiAwLjAxKSA/IGx1bWluYW5jZShvdXRfY29sb3IucmdiL291dF9jb2xvci5hKSA6IDEuO2Zsb2F0IGFkanVzdG1lbnQ9KFkgPiAwLikgPyAwLjUvWSA6IDAuNDU7aWYgKG91dF9jb2xvci5hID4gMC4yNSAmJiBZIDwgMC4yNSkge3ZlYzMgYm9yZGVyQ29sb3I9KFkgPiAwLikgPyBvdXRfY29sb3IucmdiIDogdmVjMygxLDEsMSkqb3V0X2NvbG9yLmE7b3V0X2NvbG9yLnJnYj1vdXRfY29sb3IucmdiK2JvcmRlckNvbG9yKihhZGp1c3RtZW50KigxLjAtc21vb3RoQWxwaGEpKTt9IGVsc2Uge291dF9jb2xvci5yZ2IqPSgwLjYgKzAuNCpzbW9vdGhBbHBoYSk7fVxcbiNlbHNlXFxub3V0X2NvbG9yLnJnYj1taXgodV9ib3JkZXJfY29sb3IucmdiLG91dF9jb2xvci5yZ2Isc21vb3RoQWxwaGEpO1xcbiNlbmRpZlxcbn1cXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9b3V0X2NvbG9yKihhbHBoYSpvcGFjaXR5KTtcXG4jaWZkZWYgT1ZFUkRSQVdfSU5TUEVDVE9SXFxuZ2xfRnJhZ0NvbG9yPXZlYzQoMS4wKTtcXG4jZW5kaWZcXG59XCIsXCJcXG4jZGVmaW5lIEVYVFJVREVfU0NBTEUgMC4wMTU4NzMwMTZcXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc19ub3JtYWw7YXR0cmlidXRlIHZlYzQgYV9kYXRhO1xcbiNpZiBkZWZpbmVkKFJFTkRFUl9MSU5FX0dSQURJRU5UKSB8fCBkZWZpbmVkKFJFTkRFUl9MSU5FX1RSSU1fT0ZGU0VUKVxcbmF0dHJpYnV0ZSBoaWdocCB2ZWM0IGFfcGFja2VkO1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9EQVNIXFxuYXR0cmlidXRlIGZsb2F0IGFfbGluZXNvZmFyO1xcbiNlbmRpZlxcbnVuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDIgdV9waXhlbHNfdG9fdGlsZV91bml0czt1bmlmb3JtIHZlYzIgdV91bml0c190b19waXhlbHM7dW5pZm9ybSBsb3dwIGZsb2F0IHVfZGV2aWNlX3BpeGVsX3JhdGlvO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO3ZhcnlpbmcgaGlnaHAgdmVjNCB2X3V2O1xcbiNpZmRlZiBSRU5ERVJfTElORV9EQVNIXFxudW5pZm9ybSB2ZWMyIHVfdGV4c2l6ZTt1bmlmb3JtIGZsb2F0IHVfdGlsZV91bml0c190b19waXhlbHM7dmFyeWluZyB2ZWMyIHZfdGV4O1xcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9HUkFESUVOVFxcbnVuaWZvcm0gZmxvYXQgdV9pbWFnZV9oZWlnaHQ7XFxuI2VuZGlmXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGNvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGZsb29yd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgdmVjNCBkYXNoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvZmZzZXRcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIG1lZGl1bXAgZmxvYXQgd2lkdGhcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBjb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgZmxvb3J3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgdmVjNCBkYXNoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBibHVyXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb2Zmc2V0XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbmZsb2F0IEFOVElBTElBU0lORz0xLjAvdV9kZXZpY2VfcGl4ZWxfcmF0aW8vMi4wO3ZlYzIgYV9leHRydWRlPWFfZGF0YS54eS0xMjguMDtmbG9hdCBhX2RpcmVjdGlvbj1tb2QoYV9kYXRhLnosNC4wKS0xLjA7dmVjMiBwb3M9Zmxvb3IoYV9wb3Nfbm9ybWFsKjAuNSk7bWVkaXVtcCB2ZWMyIG5vcm1hbD1hX3Bvc19ub3JtYWwtMi4wKnBvcztub3JtYWwueT1ub3JtYWwueSoyLjAtMS4wO3Zfbm9ybWFsPW5vcm1hbDtnYXB3aWR0aD1nYXB3aWR0aC8yLjA7ZmxvYXQgaGFsZndpZHRoPXdpZHRoLzIuMDtvZmZzZXQ9LTEuMCpvZmZzZXQ7ZmxvYXQgaW5zZXQ9Z2Fwd2lkdGgrKGdhcHdpZHRoID4gMC4wID8gQU5USUFMSUFTSU5HIDogMC4wKTtmbG9hdCBvdXRzZXQ9Z2Fwd2lkdGgraGFsZndpZHRoKihnYXB3aWR0aCA+IDAuMCA/IDIuMCA6IDEuMCkrKGhhbGZ3aWR0aD09MC4wID8gMC4wIDogQU5USUFMSUFTSU5HKTttZWRpdW1wIHZlYzIgZGlzdD1vdXRzZXQqYV9leHRydWRlKkVYVFJVREVfU0NBTEU7bWVkaXVtcCBmbG9hdCB1PTAuNSphX2RpcmVjdGlvbjttZWRpdW1wIGZsb2F0IHQ9MS4wLWFicyh1KTttZWRpdW1wIHZlYzIgb2Zmc2V0Mj1vZmZzZXQqYV9leHRydWRlKkVYVFJVREVfU0NBTEUqbm9ybWFsLnkqbWF0Mih0LC11LHUsdCk7dmVjNCBwcm9qZWN0ZWRfZXh0cnVkZT11X21hdHJpeCp2ZWM0KGRpc3QqdV9waXhlbHNfdG9fdGlsZV91bml0cywwLjAsMC4wKTtnbF9Qb3NpdGlvbj11X21hdHJpeCp2ZWM0KHBvcytvZmZzZXQyKnVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMsMC4wLDEuMCkrcHJvamVjdGVkX2V4dHJ1ZGU7XFxuI2lmbmRlZiBSRU5ERVJfVE9fVEVYVFVSRVxcbmZsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmU9bGVuZ3RoKGRpc3QpO2Zsb2F0IGV4dHJ1ZGVfbGVuZ3RoX3dpdGhfcGVyc3BlY3RpdmU9bGVuZ3RoKHByb2plY3RlZF9leHRydWRlLnh5L2dsX1Bvc2l0aW9uLncqdV91bml0c190b19waXhlbHMpO3ZfZ2FtbWFfc2NhbGU9ZXh0cnVkZV9sZW5ndGhfd2l0aG91dF9wZXJzcGVjdGl2ZS9leHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlO1xcbiNlbHNlXFxudl9nYW1tYV9zY2FsZT0xLjA7XFxuI2VuZGlmXFxuI2lmIGRlZmluZWQoUkVOREVSX0xJTkVfR1JBRElFTlQpIHx8IGRlZmluZWQoUkVOREVSX0xJTkVfVFJJTV9PRkZTRVQpXFxuZmxvYXQgYV91dl94PWFfcGFja2VkWzBdO2Zsb2F0IGFfc3BsaXRfaW5kZXg9YV9wYWNrZWRbMV07aGlnaHAgZmxvYXQgYV9jbGlwX3N0YXJ0PWFfcGFja2VkWzJdO2hpZ2hwIGZsb2F0IGFfY2xpcF9lbmQ9YV9wYWNrZWRbM107XFxuI2lmZGVmIFJFTkRFUl9MSU5FX0dSQURJRU5UXFxuaGlnaHAgZmxvYXQgdGV4ZWxfaGVpZ2h0PTEuMC91X2ltYWdlX2hlaWdodDtoaWdocCBmbG9hdCBoYWxmX3RleGVsX2hlaWdodD0wLjUqdGV4ZWxfaGVpZ2h0O3ZfdXY9dmVjNChhX3V2X3gsYV9zcGxpdF9pbmRleCp0ZXhlbF9oZWlnaHQtaGFsZl90ZXhlbF9oZWlnaHQsYV9jbGlwX3N0YXJ0LGFfY2xpcF9lbmQpO1xcbiNlbHNlXFxudl91dj12ZWM0KGFfdXZfeCwwLjAsYV9jbGlwX3N0YXJ0LGFfY2xpcF9lbmQpO1xcbiNlbmRpZlxcbiNlbmRpZlxcbiNpZmRlZiBSRU5ERVJfTElORV9EQVNIXFxuZmxvYXQgc2NhbGU9ZGFzaC56PT0wLjAgPyAwLjAgOiB1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzL2Rhc2guejtmbG9hdCBoZWlnaHQ9ZGFzaC55O3ZfdGV4PXZlYzIoYV9saW5lc29mYXIqc2NhbGUvZmxvb3J3aWR0aCwoLW5vcm1hbC55KmhlaWdodCtkYXNoLngrMC41KS91X3RleHNpemUueSk7XFxuI2VuZGlmXFxudl93aWR0aDI9dmVjMihvdXRzZXQsaW5zZXQpO1xcbiNpZmRlZiBGT0dcXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKHBvcyk7XFxuI2VuZGlmXFxufVwiKSxsaW5lUGF0dGVybjpwbihcInVuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gZmxvYXQgdV90aWxlX3VuaXRzX3RvX3BpeGVsczt1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlO3ZhcnlpbmcgdmVjMiB2X25vcm1hbDt2YXJ5aW5nIHZlYzIgdl93aWR0aDI7dmFyeWluZyBmbG9hdCB2X2xpbmVzb2Zhcjt2YXJ5aW5nIGZsb2F0IHZfZ2FtbWFfc2NhbGU7dmFyeWluZyBmbG9hdCB2X3dpZHRoO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgcGl4ZWxfcmF0aW9cXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgdmVjNCBwYXR0ZXJuXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZlYzIgcGF0dGVybl90bD1wYXR0ZXJuLnh5O3ZlYzIgcGF0dGVybl9icj1wYXR0ZXJuLnp3O3ZlYzIgZGlzcGxheV9zaXplPShwYXR0ZXJuX2JyLXBhdHRlcm5fdGwpL3BpeGVsX3JhdGlvO3ZlYzIgcGF0dGVybl9zaXplPXZlYzIoZGlzcGxheV9zaXplLngvdV90aWxlX3VuaXRzX3RvX3BpeGVscyxkaXNwbGF5X3NpemUueSk7ZmxvYXQgYXNwZWN0PWRpc3BsYXlfc2l6ZS55L3Zfd2lkdGg7ZmxvYXQgZGlzdD1sZW5ndGgodl9ub3JtYWwpKnZfd2lkdGgyLnM7ZmxvYXQgYmx1cjI9KGJsdXIrMS4wL3VfZGV2aWNlX3BpeGVsX3JhdGlvKSp2X2dhbW1hX3NjYWxlO2Zsb2F0IGFscGhhPWNsYW1wKG1pbihkaXN0LSh2X3dpZHRoMi50LWJsdXIyKSx2X3dpZHRoMi5zLWRpc3QpL2JsdXIyLDAuMCwxLjApO2Zsb2F0IHg9bW9kKHZfbGluZXNvZmFyL3BhdHRlcm5fc2l6ZS54KmFzcGVjdCwxLjApO2Zsb2F0IHk9MC41KnZfbm9ybWFsLnkrMC41O3ZlYzIgdGV4ZWxfc2l6ZT0xLjAvdV90ZXhzaXplO3ZlYzIgcG9zPW1peChwYXR0ZXJuX3RsKnRleGVsX3NpemUtdGV4ZWxfc2l6ZSxwYXR0ZXJuX2JyKnRleGVsX3NpemUrdGV4ZWxfc2l6ZSx2ZWMyKHgseSkpO3ZlYzQgY29sb3I9dGV4dHVyZTJEKHVfaW1hZ2UscG9zKTtcXG4jaWZkZWYgTElHSFRJTkdfM0RfTU9ERVxcbmNvbG9yPWFwcGx5X2xpZ2h0aW5nKGNvbG9yKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxuY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChjb2xvcix2X2ZvZ19wb3MpKTtcXG4jZW5kaWZcXG5nbF9GcmFnQ29sb3I9Y29sb3IqKGFscGhhKm9wYWNpdHkpO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcIlxcbiNkZWZpbmUgc2NhbGUgMC4wMTU4NzMwMTZcXG5hdHRyaWJ1dGUgdmVjMiBhX3Bvc19ub3JtYWw7YXR0cmlidXRlIHZlYzQgYV9kYXRhO2F0dHJpYnV0ZSBmbG9hdCBhX2xpbmVzb2Zhcjt1bmlmb3JtIG1hdDQgdV9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfdW5pdHNfdG9fcGl4ZWxzO3VuaWZvcm0gbWF0MiB1X3BpeGVsc190b190aWxlX3VuaXRzO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt2YXJ5aW5nIHZlYzIgdl9ub3JtYWw7dmFyeWluZyB2ZWMyIHZfd2lkdGgyO3ZhcnlpbmcgZmxvYXQgdl9saW5lc29mYXI7dmFyeWluZyBmbG9hdCB2X2dhbW1hX3NjYWxlO3ZhcnlpbmcgZmxvYXQgdl93aWR0aDtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgYmx1clxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9mZnNldFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCBnYXB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbWVkaXVtcCBmbG9hdCB3aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIHZlYzQgcGF0dGVyblxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBwaXhlbF9yYXRpb1xcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGJsdXJcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9mZnNldFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIG1lZGl1bXAgZmxvYXQgZ2Fwd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBtZWRpdW1wIGZsb2F0IHdpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBmbG9vcndpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbWVkaXVtcCB2ZWM0IHBhdHRlcm5cXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IHBpeGVsX3JhdGlvXFxuZmxvYXQgQU5USUFMSUFTSU5HPTEuMC91X2RldmljZV9waXhlbF9yYXRpby8yLjA7dmVjMiBhX2V4dHJ1ZGU9YV9kYXRhLnh5LTEyOC4wO2Zsb2F0IGFfZGlyZWN0aW9uPW1vZChhX2RhdGEueiw0LjApLTEuMDt2ZWMyIHBvcz1mbG9vcihhX3Bvc19ub3JtYWwqMC41KTttZWRpdW1wIHZlYzIgbm9ybWFsPWFfcG9zX25vcm1hbC0yLjAqcG9zO25vcm1hbC55PW5vcm1hbC55KjIuMC0xLjA7dl9ub3JtYWw9bm9ybWFsO2dhcHdpZHRoPWdhcHdpZHRoLzIuMDtmbG9hdCBoYWxmd2lkdGg9d2lkdGgvMi4wO29mZnNldD0tMS4wKm9mZnNldDtmbG9hdCBpbnNldD1nYXB3aWR0aCsoZ2Fwd2lkdGggPiAwLjAgPyBBTlRJQUxJQVNJTkcgOiAwLjApO2Zsb2F0IG91dHNldD1nYXB3aWR0aCtoYWxmd2lkdGgqKGdhcHdpZHRoID4gMC4wID8gMi4wIDogMS4wKSsoaGFsZndpZHRoPT0wLjAgPyAwLjAgOiBBTlRJQUxJQVNJTkcpO21lZGl1bXAgdmVjMiBkaXN0PW91dHNldCphX2V4dHJ1ZGUqc2NhbGU7bWVkaXVtcCBmbG9hdCB1PTAuNSphX2RpcmVjdGlvbjttZWRpdW1wIGZsb2F0IHQ9MS4wLWFicyh1KTttZWRpdW1wIHZlYzIgb2Zmc2V0Mj1vZmZzZXQqYV9leHRydWRlKnNjYWxlKm5vcm1hbC55Km1hdDIodCwtdSx1LHQpO3ZlYzQgcHJvamVjdGVkX2V4dHJ1ZGU9dV9tYXRyaXgqdmVjNChkaXN0KnVfcGl4ZWxzX3RvX3RpbGVfdW5pdHMsMC4wLDAuMCk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChwb3Mrb2Zmc2V0Mip1X3BpeGVsc190b190aWxlX3VuaXRzLDAuMCwxLjApK3Byb2plY3RlZF9leHRydWRlO1xcbiNpZm5kZWYgUkVOREVSX1RPX1RFWFRVUkVcXG5mbG9hdCBleHRydWRlX2xlbmd0aF93aXRob3V0X3BlcnNwZWN0aXZlPWxlbmd0aChkaXN0KTtmbG9hdCBleHRydWRlX2xlbmd0aF93aXRoX3BlcnNwZWN0aXZlPWxlbmd0aChwcm9qZWN0ZWRfZXh0cnVkZS54eS9nbF9Qb3NpdGlvbi53KnVfdW5pdHNfdG9fcGl4ZWxzKTt2X2dhbW1hX3NjYWxlPWV4dHJ1ZGVfbGVuZ3RoX3dpdGhvdXRfcGVyc3BlY3RpdmUvZXh0cnVkZV9sZW5ndGhfd2l0aF9wZXJzcGVjdGl2ZTtcXG4jZWxzZVxcbnZfZ2FtbWFfc2NhbGU9MS4wO1xcbiNlbmRpZlxcbnZfbGluZXNvZmFyPWFfbGluZXNvZmFyO3Zfd2lkdGgyPXZlYzIob3V0c2V0LGluc2V0KTt2X3dpZHRoPWZsb29yd2lkdGg7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24ocG9zKTtcXG4jZW5kaWZcXG59XCIpLHJhc3RlcjpwbihcInVuaWZvcm0gZmxvYXQgdV9mYWRlX3Q7dW5pZm9ybSBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTA7dW5pZm9ybSBzYW1wbGVyMkQgdV9pbWFnZTE7dmFyeWluZyB2ZWMyIHZfcG9zMDt2YXJ5aW5nIHZlYzIgdl9wb3MxO3VuaWZvcm0gZmxvYXQgdV9icmlnaHRuZXNzX2xvdzt1bmlmb3JtIGZsb2F0IHVfYnJpZ2h0bmVzc19oaWdoO3VuaWZvcm0gZmxvYXQgdV9zYXR1cmF0aW9uX2ZhY3Rvcjt1bmlmb3JtIGZsb2F0IHVfY29udHJhc3RfZmFjdG9yO3VuaWZvcm0gdmVjMyB1X3NwaW5fd2VpZ2h0czt2b2lkIG1haW4oKSB7dmVjNCBjb2xvcjA9dGV4dHVyZTJEKHVfaW1hZ2UwLHZfcG9zMCk7dmVjNCBjb2xvcjE9dGV4dHVyZTJEKHVfaW1hZ2UxLHZfcG9zMSk7aWYgKGNvbG9yMC5hID4gMC4wKSB7Y29sb3IwLnJnYj1jb2xvcjAucmdiL2NvbG9yMC5hO31pZiAoY29sb3IxLmEgPiAwLjApIHtjb2xvcjEucmdiPWNvbG9yMS5yZ2IvY29sb3IxLmE7fXZlYzQgY29sb3I9bWl4KGNvbG9yMCxjb2xvcjEsdV9mYWRlX3QpO2NvbG9yLmEqPXVfb3BhY2l0eTt2ZWMzIHJnYj1jb2xvci5yZ2I7cmdiPXZlYzMoXFxuZG90KHJnYix1X3NwaW5fd2VpZ2h0cy54eXopLGRvdChyZ2IsdV9zcGluX3dlaWdodHMuenh5KSxkb3QocmdiLHVfc3Bpbl93ZWlnaHRzLnl6eCkpO2Zsb2F0IGF2ZXJhZ2U9KGNvbG9yLnIrY29sb3IuZytjb2xvci5iKS8zLjA7cmdiKz0oYXZlcmFnZS1yZ2IpKnVfc2F0dXJhdGlvbl9mYWN0b3I7cmdiPShyZ2ItMC41KSp1X2NvbnRyYXN0X2ZhY3RvciswLjU7dmVjMyB1X2hpZ2hfdmVjPXZlYzModV9icmlnaHRuZXNzX2xvdyx1X2JyaWdodG5lc3NfbG93LHVfYnJpZ2h0bmVzc19sb3cpO3ZlYzMgdV9sb3dfdmVjPXZlYzModV9icmlnaHRuZXNzX2hpZ2gsdV9icmlnaHRuZXNzX2hpZ2gsdV9icmlnaHRuZXNzX2hpZ2gpO3ZlYzMgb3V0X2NvbG9yPW1peCh1X2hpZ2hfdmVjLHVfbG93X3ZlYyxyZ2IpO1xcbiNpZmRlZiBMSUdIVElOR18zRF9NT0RFXFxub3V0X2NvbG9yPWFwcGx5X2xpZ2h0aW5nKG91dF9jb2xvcik7XFxuI2VuZGlmXFxuI2lmZGVmIEZPR1xcbm91dF9jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseShvdXRfY29sb3Isdl9mb2dfcG9zKSk7XFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPXZlYzQob3V0X2NvbG9yKmNvbG9yLmEsY29sb3IuYSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gdmVjMiB1X3RsX3BhcmVudDt1bmlmb3JtIGZsb2F0IHVfc2NhbGVfcGFyZW50O3VuaWZvcm0gdmVjMiB1X3BlcnNwZWN0aXZlX3RyYW5zZm9ybTthdHRyaWJ1dGUgdmVjMiBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3RleHR1cmVfcG9zO3ZhcnlpbmcgdmVjMiB2X3BvczA7dmFyeWluZyB2ZWMyIHZfcG9zMTt2b2lkIG1haW4oKSB7ZmxvYXQgdz0xLjArZG90KGFfdGV4dHVyZV9wb3MsdV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm0pO2dsX1Bvc2l0aW9uPXVfbWF0cml4KnZlYzQoYV9wb3MqdywwLHcpO3ZfcG9zMD1hX3RleHR1cmVfcG9zLzgxOTIuMDt2X3BvczE9KHZfcG9zMCp1X3NjYWxlX3BhcmVudCkrdV90bF9wYXJlbnQ7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oYV9wb3MpO1xcbiNlbmRpZlxcbn1cIiksc3ltYm9sSWNvbjpwbihcInVuaWZvcm0gc2FtcGxlcjJEIHVfdGV4dHVyZTt2YXJ5aW5nIHZlYzIgdl90ZXg7dmFyeWluZyBmbG9hdCB2X2ZhZGVfb3BhY2l0eTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG5sb3dwIGZsb2F0IGFscGhhPW9wYWNpdHkqdl9mYWRlX29wYWNpdHk7Z2xfRnJhZ0NvbG9yPXRleHR1cmUyRCh1X3RleHR1cmUsdl90ZXgpKmFscGhhO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcImF0dHJpYnV0ZSB2ZWM0IGFfcG9zX29mZnNldDthdHRyaWJ1dGUgdmVjNCBhX3RleF9zaXplO2F0dHJpYnV0ZSB2ZWM0IGFfcGl4ZWxvZmZzZXQ7YXR0cmlidXRlIHZlYzQgYV9wcm9qZWN0ZWRfcG9zO2F0dHJpYnV0ZSBmbG9hdCBhX2ZhZGVfb3BhY2l0eTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9nbG9iZV9hbmNob3I7YXR0cmlidXRlIHZlYzMgYV9nbG9iZV9ub3JtYWw7XFxuI2VuZGlmXFxudW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3VuaWZvcm0gYm9vbCB1X3JvdGF0ZV9zeW1ib2w7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2FzcGVjdF9yYXRpbzt1bmlmb3JtIGZsb2F0IHVfZmFkZV9jaGFuZ2U7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2xhYmVsX3BsYW5lX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9jb29yZF9tYXRyaXg7dW5pZm9ybSBib29sIHVfaXNfdGV4dDt1bmlmb3JtIGJvb2wgdV9waXRjaF93aXRoX21hcDt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gdmVjMyB1X3VwX3ZlY3RvcjtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudW5pZm9ybSB2ZWMzIHVfdGlsZV9pZDt1bmlmb3JtIG1hdDQgdV9pbnZfcm90X21hdHJpeDt1bmlmb3JtIHZlYzIgdV9tZXJjX2NlbnRlcjt1bmlmb3JtIHZlYzMgdV9jYW1lcmFfZm9yd2FyZDt1bmlmb3JtIGZsb2F0IHVfem9vbV90cmFuc2l0aW9uO3VuaWZvcm0gdmVjMyB1X2VjZWZfb3JpZ2luO3VuaWZvcm0gbWF0NCB1X3RpbGVfbWF0cml4O1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMiB2X3RleDt2YXJ5aW5nIGZsb2F0IHZfZmFkZV9vcGFjaXR5O1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbnZlYzIgYV9wb3M9YV9wb3Nfb2Zmc2V0Lnh5O3ZlYzIgYV9vZmZzZXQ9YV9wb3Nfb2Zmc2V0Lnp3O3ZlYzIgYV90ZXg9YV90ZXhfc2l6ZS54eTt2ZWMyIGFfc2l6ZT1hX3RleF9zaXplLnp3O2Zsb2F0IGFfc2l6ZV9taW49Zmxvb3IoYV9zaXplWzBdKjAuNSk7dmVjMiBhX3B4b2Zmc2V0PWFfcGl4ZWxvZmZzZXQueHk7dmVjMiBhX21pbl9mb250X3NjYWxlPWFfcGl4ZWxvZmZzZXQuencvMjU2LjA7aGlnaHAgZmxvYXQgc2VnbWVudF9hbmdsZT0tYV9wcm9qZWN0ZWRfcG9zWzNdO2Zsb2F0IHNpemU7aWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPW1peChhX3NpemVfbWluLGFfc2l6ZVsxXSx1X3NpemVfdCkvMTI4LjA7fSBlbHNlIGlmICh1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPWFfc2l6ZV9taW4vMTI4LjA7fSBlbHNlIHtzaXplPXVfc2l6ZTt9dmVjMiB0aWxlX2FuY2hvcj1hX3Bvczt2ZWMzIGg9ZWxldmF0aW9uVmVjdG9yKHRpbGVfYW5jaG9yKSplbGV2YXRpb24odGlsZV9hbmNob3IpO2Zsb2F0IGdsb2JlX29jY2x1c2lvbl9mYWRlO3ZlYzMgd29ybGRfcG9zO3ZlYzMgbWVyY2F0b3JfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5tZXJjYXRvcl9wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVfYW5jaG9yLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKTt3b3JsZF9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfZ2xvYmVfYW5jaG9yK2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTt2ZWM0IGVjZWZfcG9pbnQ9dV90aWxlX21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxLjApO3ZlYzMgb3JpZ2luX3RvX3BvaW50PWVjZWZfcG9pbnQueHl6LXVfZWNlZl9vcmlnaW47Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9ZG90KG9yaWdpbl90b19wb2ludCx1X2NhbWVyYV9mb3J3YXJkKSA+PTAuMCA/IDAuMCA6IDEuMDtcXG4jZWxzZVxcbndvcmxkX3Bvcz12ZWMzKHRpbGVfYW5jaG9yLDApK2g7Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9MS4wO1xcbiNlbmRpZlxcbnZlYzQgcHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkX3BvaW50Lnc7aGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW89dV9waXRjaF93aXRoX21hcCA/XFxuY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZS91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxcbnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlO2hpZ2hwIGZsb2F0IHBlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqZGlzdGFuY2VfcmF0aW8sMC4wLDEuNSk7c2l6ZSo9cGVyc3BlY3RpdmVfcmF0aW87ZmxvYXQgZm9udF9zY2FsZT11X2lzX3RleHQgPyBzaXplLzI0LjAgOiBzaXplO2hpZ2hwIGZsb2F0IHN5bWJvbF9yb3RhdGlvbj0wLjA7aWYgKHVfcm90YXRlX3N5bWJvbCkge3ZlYzQgb2Zmc2V0UHJvamVjdGVkX3BvaW50O1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIGRpc3BsYWNlbWVudD12ZWMzKGFfZ2xvYmVfbm9ybWFsLnosMCwtYV9nbG9iZV9ub3JtYWwueCk7b2Zmc2V0UHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQoYV9nbG9iZV9hbmNob3IrZGlzcGxhY2VtZW50LDEpO1xcbiNlbHNlXFxub2Zmc2V0UHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQodGlsZV9hbmNob3IrdmVjMigxLDApLDAsMSk7XFxuI2VuZGlmXFxudmVjMiBhPXByb2plY3RlZF9wb2ludC54eS9wcm9qZWN0ZWRfcG9pbnQudzt2ZWMyIGI9b2Zmc2V0UHJvamVjdGVkX3BvaW50Lnh5L29mZnNldFByb2plY3RlZF9wb2ludC53O3N5bWJvbF9yb3RhdGlvbj1hdGFuKChiLnktYS55KS91X2FzcGVjdF9yYXRpbyxiLngtYS54KTt9dmVjNCBwcm9qZWN0ZWRfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHByb2pfcG9zPW1peF9nbG9iZV9tZXJjYXRvcihhX3Byb2plY3RlZF9wb3MueHl6K2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTtwcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQocHJval9wb3MsMS4wKTtcXG4jZWxzZVxcbnByb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChhX3Byb2plY3RlZF9wb3MueHksaC56LDEuMCk7XFxuI2VuZGlmXFxuaGlnaHAgZmxvYXQgYW5nbGVfc2luPXNpbihzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7aGlnaHAgZmxvYXQgYW5nbGVfY29zPWNvcyhzZWdtZW50X2FuZ2xlK3N5bWJvbF9yb3RhdGlvbik7bWF0MiByb3RhdGlvbl9tYXRyaXg9bWF0MihhbmdsZV9jb3MsLTEuMCphbmdsZV9zaW4sYW5nbGVfc2luLGFuZ2xlX2Nvcyk7ZmxvYXQgej0wLjA7dmVjMiBvZmZzZXQ9cm90YXRpb25fbWF0cml4KihhX29mZnNldC8zMi4wKm1heChhX21pbl9mb250X3NjYWxlLGZvbnRfc2NhbGUpK2FfcHhvZmZzZXQvMTYuMCk7XFxuI2lmZGVmIFRFUlJBSU5cXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBfVEVSUkFJTlxcbnZlYzQgdGlsZV9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5K29mZnNldCwwLjAsMS4wKTt6PWVsZXZhdGlvbih0aWxlX3Bvcy54eSk7XFxuI2VuZGlmXFxuI2VuZGlmXFxuZmxvYXQgb2NjbHVzaW9uX2ZhZGU9b2NjbHVzaW9uRmFkZShwcm9qZWN0ZWRfcG9pbnQpKmdsb2JlX29jY2x1c2lvbl9mYWRlO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHhBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwsdV91cF92ZWN0b3IpKSA6IHZlYzMoMSwwLDApO3ZlYzMgeUF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx4QXhpcykpIDogdmVjMygwLDEsMCk7Z2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eXovcHJvamVjdGVkX3Bvcy53K3hBeGlzKm9mZnNldC54K3lBeGlzKm9mZnNldC55LDEuMCksQVdBWSxmbG9hdChwcm9qZWN0ZWRfcG9pbnQudyA8PTAuMCB8fCBvY2NsdXNpb25fZmFkZT09MC4wKSk7XFxuI2Vsc2VcXG5nbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5L3Byb2plY3RlZF9wb3MudytvZmZzZXQseiwxLjApLEFXQVksZmxvYXQocHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCkpO1xcbiNlbmRpZlxcbmZsb2F0IHByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMDtcXG4jaWYgZGVmaW5lZChQUk9KRUNURURfUE9TX09OX1ZJRVdQT1JUKSAmJiBkZWZpbmVkKFBST0pFQ1RJT05fR0xPQkVfVklFVylcXG5wcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZT0xLjAtc3RlcChFUFNJTE9OLHVfem9vbV90cmFuc2l0aW9uKTtcXG4jZW5kaWZcXG52X3RleD1hX3RleC91X3RleHNpemU7dmVjMiBmYWRlX29wYWNpdHk9dW5wYWNrX29wYWNpdHkoYV9mYWRlX29wYWNpdHkpO2Zsb2F0IGZhZGVfY2hhbmdlPWZhZGVfb3BhY2l0eVsxXSA+IDAuNSA/IHVfZmFkZV9jaGFuZ2UgOi11X2ZhZGVfY2hhbmdlO3ZfZmFkZV9vcGFjaXR5PW1heCgwLjAsbWluKG9jY2x1c2lvbl9mYWRlLGZhZGVfb3BhY2l0eVswXStmYWRlX2NoYW5nZSkpKnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlO31cIiksc3ltYm9sU0RGOnBuKFwiI2RlZmluZSBTREZfUFggOC4wXFxudW5pZm9ybSBib29sIHVfaXNfaGFsbzt1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dhbW1hX3NjYWxlO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt1bmlmb3JtIGJvb2wgdV9pc190ZXh0O3ZhcnlpbmcgdmVjMiB2X2RhdGEwO3ZhcnlpbmcgdmVjMyB2X2RhdGExO1xcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbnZvaWQgbWFpbigpIHtcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBoaWdocCB2ZWM0IGhhbG9fY29sb3JcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogaW5pdGlhbGl6ZSBsb3dwIGZsb2F0IGhhbG9fYmx1clxcbmZsb2F0IEVER0VfR0FNTUE9MC4xMDUvdV9kZXZpY2VfcGl4ZWxfcmF0aW87dmVjMiB0ZXg9dl9kYXRhMC54eTtmbG9hdCBnYW1tYV9zY2FsZT12X2RhdGExLng7ZmxvYXQgc2l6ZT12X2RhdGExLnk7ZmxvYXQgZmFkZV9vcGFjaXR5PXZfZGF0YTFbMl07ZmxvYXQgZm9udFNjYWxlPXVfaXNfdGV4dCA/IHNpemUvMjQuMCA6IHNpemU7bG93cCB2ZWM0IGNvbG9yPWZpbGxfY29sb3I7aGlnaHAgZmxvYXQgZ2FtbWE9RURHRV9HQU1NQS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2xvd3AgZmxvYXQgYnVmZj0oMjU2LjAtNjQuMCkvMjU2LjA7aWYgKHVfaXNfaGFsbykge2NvbG9yPWhhbG9fY29sb3I7Z2FtbWE9KGhhbG9fYmx1cioxLjE5L1NERl9QWCtFREdFX0dBTU1BKS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2J1ZmY9KDYuMC1oYWxvX3dpZHRoL2ZvbnRTY2FsZSkvU0RGX1BYO31sb3dwIGZsb2F0IGRpc3Q9dGV4dHVyZTJEKHVfdGV4dHVyZSx0ZXgpLmE7aGlnaHAgZmxvYXQgZ2FtbWFfc2NhbGVkPWdhbW1hKmdhbW1hX3NjYWxlO2hpZ2hwIGZsb2F0IGFscGhhPXNtb290aHN0ZXAoYnVmZi1nYW1tYV9zY2FsZWQsYnVmZitnYW1tYV9zY2FsZWQsZGlzdCk7Z2xfRnJhZ0NvbG9yPWNvbG9yKihhbHBoYSpvcGFjaXR5KmZhZGVfb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiYXR0cmlidXRlIHZlYzQgYV9wb3Nfb2Zmc2V0O2F0dHJpYnV0ZSB2ZWM0IGFfdGV4X3NpemU7YXR0cmlidXRlIHZlYzQgYV9waXhlbG9mZnNldDthdHRyaWJ1dGUgdmVjNCBhX3Byb2plY3RlZF9wb3M7YXR0cmlidXRlIGZsb2F0IGFfZmFkZV9vcGFjaXR5O1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5hdHRyaWJ1dGUgdmVjMyBhX2dsb2JlX2FuY2hvcjthdHRyaWJ1dGUgdmVjMyBhX2dsb2JlX25vcm1hbDtcXG4jZW5kaWZcXG51bmlmb3JtIGJvb2wgdV9pc19zaXplX3pvb21fY29uc3RhbnQ7dW5pZm9ybSBib29sIHVfaXNfc2l6ZV9mZWF0dXJlX2NvbnN0YW50O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplX3Q7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3NpemU7dW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X2xhYmVsX3BsYW5lX21hdHJpeDt1bmlmb3JtIG1hdDQgdV9jb29yZF9tYXRyaXg7dW5pZm9ybSBib29sIHVfaXNfdGV4dDt1bmlmb3JtIGJvb2wgdV9waXRjaF93aXRoX21hcDt1bmlmb3JtIGJvb2wgdV9yb3RhdGVfc3ltYm9sO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9hc3BlY3RfcmF0aW87dW5pZm9ybSBoaWdocCBmbG9hdCB1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U7dW5pZm9ybSBmbG9hdCB1X2ZhZGVfY2hhbmdlO3VuaWZvcm0gdmVjMiB1X3RleHNpemU7dW5pZm9ybSB2ZWMzIHVfdXBfdmVjdG9yO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG51bmlmb3JtIHZlYzMgdV90aWxlX2lkO3VuaWZvcm0gbWF0NCB1X2ludl9yb3RfbWF0cml4O3VuaWZvcm0gdmVjMiB1X21lcmNfY2VudGVyO3VuaWZvcm0gdmVjMyB1X2NhbWVyYV9mb3J3YXJkO3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMzIHVfZWNlZl9vcmlnaW47dW5pZm9ybSBtYXQ0IHVfdGlsZV9tYXRyaXg7XFxuI2VuZGlmXFxudmFyeWluZyB2ZWMyIHZfZGF0YTA7dmFyeWluZyB2ZWMzIHZfZGF0YTE7XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBoaWdocCB2ZWM0IGZpbGxfY29sb3JcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IGhhbG9fd2lkdGhcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudm9pZCBtYWluKCkge1xcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGhpZ2hwIHZlYzQgaGFsb19jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgb3BhY2l0eVxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBpbml0aWFsaXplIGxvd3AgZmxvYXQgaGFsb19ibHVyXFxudmVjMiBhX3Bvcz1hX3Bvc19vZmZzZXQueHk7dmVjMiBhX29mZnNldD1hX3Bvc19vZmZzZXQuenc7dmVjMiBhX3RleD1hX3RleF9zaXplLnh5O3ZlYzIgYV9zaXplPWFfdGV4X3NpemUuenc7ZmxvYXQgYV9zaXplX21pbj1mbG9vcihhX3NpemVbMF0qMC41KTt2ZWMyIGFfcHhvZmZzZXQ9YV9waXhlbG9mZnNldC54eTtoaWdocCBmbG9hdCBzZWdtZW50X2FuZ2xlPS1hX3Byb2plY3RlZF9wb3NbM107ZmxvYXQgc2l6ZTtpZiAoIXVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9bWl4KGFfc2l6ZV9taW4sYV9zaXplWzFdLHVfc2l6ZV90KS8xMjguMDt9IGVsc2UgaWYgKHVfaXNfc2l6ZV96b29tX2NvbnN0YW50ICYmICF1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudCkge3NpemU9YV9zaXplX21pbi8xMjguMDt9IGVsc2Uge3NpemU9dV9zaXplO312ZWMyIHRpbGVfYW5jaG9yPWFfcG9zO3ZlYzMgaD1lbGV2YXRpb25WZWN0b3IodGlsZV9hbmNob3IpKmVsZXZhdGlvbih0aWxlX2FuY2hvcik7ZmxvYXQgZ2xvYmVfb2NjbHVzaW9uX2ZhZGU7dmVjMyB3b3JsZF9wb3M7dmVjMyBtZXJjYXRvcl9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbm1lcmNhdG9yX3Bvcz1tZXJjYXRvcl90aWxlX3Bvc2l0aW9uKHVfaW52X3JvdF9tYXRyaXgsdGlsZV9hbmNob3IsdV90aWxlX2lkLHVfbWVyY19jZW50ZXIpO3dvcmxkX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9nbG9iZV9hbmNob3IraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3ZlYzQgZWNlZl9wb2ludD11X3RpbGVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEuMCk7dmVjMyBvcmlnaW5fdG9fcG9pbnQ9ZWNlZl9wb2ludC54eXotdV9lY2VmX29yaWdpbjtnbG9iZV9vY2NsdXNpb25fZmFkZT1kb3Qob3JpZ2luX3RvX3BvaW50LHVfY2FtZXJhX2ZvcndhcmQpID49MC4wID8gMC4wIDogMS4wO1xcbiNlbHNlXFxud29ybGRfcG9zPXZlYzModGlsZV9hbmNob3IsMCkraDtnbG9iZV9vY2NsdXNpb25fZmFkZT0xLjA7XFxuI2VuZGlmXFxudmVjNCBwcm9qZWN0ZWRfcG9pbnQ9dV9tYXRyaXgqdmVjNCh3b3JsZF9wb3MsMSk7aGlnaHAgZmxvYXQgY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZT1wcm9qZWN0ZWRfcG9pbnQudztoaWdocCBmbG9hdCBkaXN0YW5jZV9yYXRpbz11X3BpdGNoX3dpdGhfbWFwID9cXG5jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlL3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZSA6XFxudV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlL2NhbWVyYV90b19hbmNob3JfZGlzdGFuY2U7aGlnaHAgZmxvYXQgcGVyc3BlY3RpdmVfcmF0aW89Y2xhbXAoXFxuMC41KzAuNSpkaXN0YW5jZV9yYXRpbywwLjAsMS41KTtzaXplKj1wZXJzcGVjdGl2ZV9yYXRpbztmbG9hdCBmb250U2NhbGU9dV9pc190ZXh0ID8gc2l6ZS8yNC4wIDogc2l6ZTtoaWdocCBmbG9hdCBzeW1ib2xfcm90YXRpb249MC4wO2lmICh1X3JvdGF0ZV9zeW1ib2wpIHt2ZWM0IG9mZnNldHByb2plY3RlZF9wb2ludDtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBkaXNwbGFjZW1lbnQ9dmVjMyhhX2dsb2JlX25vcm1hbC56LDAsLWFfZ2xvYmVfbm9ybWFsLngpO29mZnNldHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KGFfZ2xvYmVfYW5jaG9yK2Rpc3BsYWNlbWVudCwxKTtcXG4jZWxzZVxcbm9mZnNldHByb2plY3RlZF9wb2ludD11X21hdHJpeCp2ZWM0KHRpbGVfYW5jaG9yK3ZlYzIoMSwwKSwwLDEpO1xcbiNlbmRpZlxcbnZlYzIgYT1wcm9qZWN0ZWRfcG9pbnQueHkvcHJvamVjdGVkX3BvaW50Lnc7dmVjMiBiPW9mZnNldHByb2plY3RlZF9wb2ludC54eS9vZmZzZXRwcm9qZWN0ZWRfcG9pbnQudztzeW1ib2xfcm90YXRpb249YXRhbigoYi55LWEueSkvdV9hc3BlY3RfcmF0aW8sYi54LWEueCk7fXZlYzQgcHJvamVjdGVkX3BvcztcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxudmVjMyBwcm9qX3Bvcz1taXhfZ2xvYmVfbWVyY2F0b3IoYV9wcm9qZWN0ZWRfcG9zLnh5eitoLG1lcmNhdG9yX3Bvcyx1X3pvb21fdHJhbnNpdGlvbik7cHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KHByb2pfcG9zLDEuMCk7XFxuI2Vsc2VcXG5wcm9qZWN0ZWRfcG9zPXVfbGFiZWxfcGxhbmVfbWF0cml4KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5LGgueiwxLjApO1xcbiNlbmRpZlxcbmhpZ2hwIGZsb2F0IGFuZ2xlX3Npbj1zaW4oc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO2hpZ2hwIGZsb2F0IGFuZ2xlX2Nvcz1jb3Moc2VnbWVudF9hbmdsZStzeW1ib2xfcm90YXRpb24pO21hdDIgcm90YXRpb25fbWF0cml4PW1hdDIoYW5nbGVfY29zLC0xLjAqYW5nbGVfc2luLGFuZ2xlX3NpbixhbmdsZV9jb3MpO2Zsb2F0IHo9MC4wO3ZlYzIgb2Zmc2V0PXJvdGF0aW9uX21hdHJpeCooYV9vZmZzZXQvMzIuMCpmb250U2NhbGUrYV9weG9mZnNldCk7XFxuI2lmZGVmIFRFUlJBSU5cXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBfVEVSUkFJTlxcbnZlYzQgdGlsZV9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5K29mZnNldCwwLjAsMS4wKTt6PWVsZXZhdGlvbih0aWxlX3Bvcy54eSk7XFxuI2VuZGlmXFxuI2VuZGlmXFxuZmxvYXQgb2NjbHVzaW9uX2ZhZGU9b2NjbHVzaW9uRmFkZShwcm9qZWN0ZWRfcG9pbnQpKmdsb2JlX29jY2x1c2lvbl9mYWRlO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHhBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwsdV91cF92ZWN0b3IpKSA6IHZlYzMoMSwwLDApO3ZlYzMgeUF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx4QXhpcykpIDogdmVjMygwLDEsMCk7Z2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eXovcHJvamVjdGVkX3Bvcy53K3hBeGlzKm9mZnNldC54K3lBeGlzKm9mZnNldC55LDEuMCksQVdBWSxmbG9hdChwcm9qZWN0ZWRfcG9pbnQudyA8PTAuMCB8fCBvY2NsdXNpb25fZmFkZT09MC4wKSk7XFxuI2Vsc2VcXG5nbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5L3Byb2plY3RlZF9wb3MudytvZmZzZXQseiwxLjApLEFXQVksZmxvYXQocHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCkpO1xcbiNlbmRpZlxcbmZsb2F0IGdhbW1hX3NjYWxlPWdsX1Bvc2l0aW9uLnc7ZmxvYXQgcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wO1xcbiNpZiBkZWZpbmVkKFBST0pFQ1RFRF9QT1NfT05fVklFV1BPUlQpICYmIGRlZmluZWQoUFJPSkVDVElPTl9HTE9CRV9WSUVXKVxcbnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMC1zdGVwKEVQU0lMT04sdV96b29tX3RyYW5zaXRpb24pO1xcbiNlbmRpZlxcbnZlYzIgZmFkZV9vcGFjaXR5PXVucGFja19vcGFjaXR5KGFfZmFkZV9vcGFjaXR5KTtmbG9hdCBmYWRlX2NoYW5nZT1mYWRlX29wYWNpdHlbMV0gPiAwLjUgPyB1X2ZhZGVfY2hhbmdlIDotdV9mYWRlX2NoYW5nZTtmbG9hdCBpbnRlcnBvbGF0ZWRfZmFkZV9vcGFjaXR5PW1heCgwLjAsbWluKG9jY2x1c2lvbl9mYWRlLGZhZGVfb3BhY2l0eVswXStmYWRlX2NoYW5nZSkpO3ZfZGF0YTA9YV90ZXgvdV90ZXhzaXplO3ZfZGF0YTE9dmVjMyhnYW1tYV9zY2FsZSxzaXplLGludGVycG9sYXRlZF9mYWRlX29wYWNpdHkqcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGUpO31cIiksc3ltYm9sVGV4dEFuZEljb246cG4oXCIjZGVmaW5lIFNERl9QWCA4LjBcXG4jZGVmaW5lIFNERiAxLjBcXG4jZGVmaW5lIElDT04gMC4wXFxudW5pZm9ybSBib29sIHVfaXNfaGFsbzt1bmlmb3JtIHNhbXBsZXIyRCB1X3RleHR1cmU7dW5pZm9ybSBzYW1wbGVyMkQgdV90ZXh0dXJlX2ljb247dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dhbW1hX3NjYWxlO3VuaWZvcm0gbG93cCBmbG9hdCB1X2RldmljZV9waXhlbF9yYXRpbzt2YXJ5aW5nIHZlYzQgdl9kYXRhMDt2YXJ5aW5nIHZlYzQgdl9kYXRhMTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG5mbG9hdCBmYWRlX29wYWNpdHk9dl9kYXRhMVsyXTtpZiAodl9kYXRhMS53PT1JQ09OKSB7dmVjMiB0ZXhfaWNvbj12X2RhdGEwLnp3O2xvd3AgZmxvYXQgYWxwaGE9b3BhY2l0eSpmYWRlX29wYWNpdHk7Z2xfRnJhZ0NvbG9yPXRleHR1cmUyRCh1X3RleHR1cmVfaWNvbix0ZXhfaWNvbikqYWxwaGE7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxucmV0dXJuO312ZWMyIHRleD12X2RhdGEwLnh5O2Zsb2F0IEVER0VfR0FNTUE9MC4xMDUvdV9kZXZpY2VfcGl4ZWxfcmF0aW87ZmxvYXQgZ2FtbWFfc2NhbGU9dl9kYXRhMS54O2Zsb2F0IHNpemU9dl9kYXRhMS55O2Zsb2F0IGZvbnRTY2FsZT1zaXplLzI0LjA7bG93cCB2ZWM0IGNvbG9yPWZpbGxfY29sb3I7aGlnaHAgZmxvYXQgZ2FtbWE9RURHRV9HQU1NQS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2xvd3AgZmxvYXQgYnVmZj0oMjU2LjAtNjQuMCkvMjU2LjA7aWYgKHVfaXNfaGFsbykge2NvbG9yPWhhbG9fY29sb3I7Z2FtbWE9KGhhbG9fYmx1cioxLjE5L1NERl9QWCtFREdFX0dBTU1BKS8oZm9udFNjYWxlKnVfZ2FtbWFfc2NhbGUpO2J1ZmY9KDYuMC1oYWxvX3dpZHRoL2ZvbnRTY2FsZSkvU0RGX1BYO31sb3dwIGZsb2F0IGRpc3Q9dGV4dHVyZTJEKHVfdGV4dHVyZSx0ZXgpLmE7aGlnaHAgZmxvYXQgZ2FtbWFfc2NhbGVkPWdhbW1hKmdhbW1hX3NjYWxlO2hpZ2hwIGZsb2F0IGFscGhhPXNtb290aHN0ZXAoYnVmZi1nYW1tYV9zY2FsZWQsYnVmZitnYW1tYV9zY2FsZWQsZGlzdCk7Z2xfRnJhZ0NvbG9yPWNvbG9yKihhbHBoYSpvcGFjaXR5KmZhZGVfb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwiYXR0cmlidXRlIHZlYzQgYV9wb3Nfb2Zmc2V0O2F0dHJpYnV0ZSB2ZWM0IGFfdGV4X3NpemU7YXR0cmlidXRlIHZlYzQgYV9wcm9qZWN0ZWRfcG9zO2F0dHJpYnV0ZSBmbG9hdCBhX2ZhZGVfb3BhY2l0eTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuYXR0cmlidXRlIHZlYzMgYV9nbG9iZV9hbmNob3I7YXR0cmlidXRlIHZlYzMgYV9nbG9iZV9ub3JtYWw7XFxuI2VuZGlmXFxudW5pZm9ybSBib29sIHVfaXNfc2l6ZV96b29tX2NvbnN0YW50O3VuaWZvcm0gYm9vbCB1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfc2l6ZV90O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zaXplO3VuaWZvcm0gbWF0NCB1X21hdHJpeDt1bmlmb3JtIG1hdDQgdV9sYWJlbF9wbGFuZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfY29vcmRfbWF0cml4O3VuaWZvcm0gYm9vbCB1X2lzX3RleHQ7dW5pZm9ybSBib29sIHVfcGl0Y2hfd2l0aF9tYXA7dW5pZm9ybSBib29sIHVfcm90YXRlX3N5bWJvbDt1bmlmb3JtIGhpZ2hwIGZsb2F0IHVfYXNwZWN0X3JhdGlvO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlO3VuaWZvcm0gZmxvYXQgdV9mYWRlX2NoYW5nZTt1bmlmb3JtIHZlYzIgdV90ZXhzaXplO3VuaWZvcm0gdmVjMyB1X3VwX3ZlY3Rvcjt1bmlmb3JtIHZlYzIgdV90ZXhzaXplX2ljb247XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnVuaWZvcm0gdmVjMyB1X3RpbGVfaWQ7dW5pZm9ybSBtYXQ0IHVfaW52X3JvdF9tYXRyaXg7dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSB2ZWMzIHVfY2FtZXJhX2ZvcndhcmQ7dW5pZm9ybSBmbG9hdCB1X3pvb21fdHJhbnNpdGlvbjt1bmlmb3JtIHZlYzMgdV9lY2VmX29yaWdpbjt1bmlmb3JtIG1hdDQgdV90aWxlX21hdHJpeDtcXG4jZW5kaWZcXG52YXJ5aW5nIHZlYzQgdl9kYXRhMDt2YXJ5aW5nIHZlYzQgdl9kYXRhMTtcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGhpZ2hwIHZlYzQgZmlsbF9jb2xvclxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGRlZmluZSBsb3dwIGZsb2F0IG9wYWNpdHlcXG4jcHJhZ21hIG1hcGJveDogZGVmaW5lIGxvd3AgZmxvYXQgaGFsb193aWR0aFxcbiNwcmFnbWEgbWFwYm94OiBkZWZpbmUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG52b2lkIG1haW4oKSB7XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBmaWxsX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgaGlnaHAgdmVjNCBoYWxvX2NvbG9yXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBvcGFjaXR5XFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX3dpZHRoXFxuI3ByYWdtYSBtYXBib3g6IGluaXRpYWxpemUgbG93cCBmbG9hdCBoYWxvX2JsdXJcXG52ZWMyIGFfcG9zPWFfcG9zX29mZnNldC54eTt2ZWMyIGFfb2Zmc2V0PWFfcG9zX29mZnNldC56dzt2ZWMyIGFfdGV4PWFfdGV4X3NpemUueHk7dmVjMiBhX3NpemU9YV90ZXhfc2l6ZS56dztmbG9hdCBhX3NpemVfbWluPWZsb29yKGFfc2l6ZVswXSowLjUpO2Zsb2F0IGlzX3NkZj1hX3NpemVbMF0tMi4wKmFfc2l6ZV9taW47aGlnaHAgZmxvYXQgc2VnbWVudF9hbmdsZT0tYV9wcm9qZWN0ZWRfcG9zWzNdO2Zsb2F0IHNpemU7aWYgKCF1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPW1peChhX3NpemVfbWluLGFfc2l6ZVsxXSx1X3NpemVfdCkvMTI4LjA7fSBlbHNlIGlmICh1X2lzX3NpemVfem9vbV9jb25zdGFudCAmJiAhdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQpIHtzaXplPWFfc2l6ZV9taW4vMTI4LjA7fSBlbHNlIHtzaXplPXVfc2l6ZTt9dmVjMiB0aWxlX2FuY2hvcj1hX3Bvczt2ZWMzIGg9ZWxldmF0aW9uVmVjdG9yKHRpbGVfYW5jaG9yKSplbGV2YXRpb24odGlsZV9hbmNob3IpO2Zsb2F0IGdsb2JlX29jY2x1c2lvbl9mYWRlO3ZlYzMgd29ybGRfcG9zO3ZlYzMgbWVyY2F0b3JfcG9zO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG5tZXJjYXRvcl9wb3M9bWVyY2F0b3JfdGlsZV9wb3NpdGlvbih1X2ludl9yb3RfbWF0cml4LHRpbGVfYW5jaG9yLHVfdGlsZV9pZCx1X21lcmNfY2VudGVyKTt3b3JsZF9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfZ2xvYmVfYW5jaG9yK2gsbWVyY2F0b3JfcG9zLHVfem9vbV90cmFuc2l0aW9uKTt2ZWM0IGVjZWZfcG9pbnQ9dV90aWxlX21hdHJpeCp2ZWM0KHdvcmxkX3BvcywxLjApO3ZlYzMgb3JpZ2luX3RvX3BvaW50PWVjZWZfcG9pbnQueHl6LXVfZWNlZl9vcmlnaW47Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9ZG90KG9yaWdpbl90b19wb2ludCx1X2NhbWVyYV9mb3J3YXJkKSA+PTAuMCA/IDAuMCA6IDEuMDtcXG4jZWxzZVxcbndvcmxkX3Bvcz12ZWMzKHRpbGVfYW5jaG9yLDApK2g7Z2xvYmVfb2NjbHVzaW9uX2ZhZGU9MS4wO1xcbiNlbmRpZlxcbnZlYzQgcHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQod29ybGRfcG9zLDEpO2hpZ2hwIGZsb2F0IGNhbWVyYV90b19hbmNob3JfZGlzdGFuY2U9cHJvamVjdGVkX3BvaW50Lnc7aGlnaHAgZmxvYXQgZGlzdGFuY2VfcmF0aW89dV9waXRjaF93aXRoX21hcCA/XFxuY2FtZXJhX3RvX2FuY2hvcl9kaXN0YW5jZS91X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2UgOlxcbnVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZS9jYW1lcmFfdG9fYW5jaG9yX2Rpc3RhbmNlO2hpZ2hwIGZsb2F0IHBlcnNwZWN0aXZlX3JhdGlvPWNsYW1wKFxcbjAuNSswLjUqZGlzdGFuY2VfcmF0aW8sMC4wLDEuNSk7c2l6ZSo9cGVyc3BlY3RpdmVfcmF0aW87ZmxvYXQgZm9udF9zY2FsZT1zaXplLzI0LjA7aGlnaHAgZmxvYXQgc3ltYm9sX3JvdGF0aW9uPTAuMDtpZiAodV9yb3RhdGVfc3ltYm9sKSB7dmVjNCBvZmZzZXRfcHJvamVjdGVkX3BvaW50PXVfbWF0cml4KnZlYzQoYV9wb3MrdmVjMigxLDApLDAsMSk7dmVjMiBhPXByb2plY3RlZF9wb2ludC54eS9wcm9qZWN0ZWRfcG9pbnQudzt2ZWMyIGI9b2Zmc2V0X3Byb2plY3RlZF9wb2ludC54eS9vZmZzZXRfcHJvamVjdGVkX3BvaW50Lnc7c3ltYm9sX3JvdGF0aW9uPWF0YW4oKGIueS1hLnkpL3VfYXNwZWN0X3JhdGlvLGIueC1hLngpO312ZWM0IHByb2plY3RlZF9wb3M7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbnZlYzMgcHJval9wb3M9bWl4X2dsb2JlX21lcmNhdG9yKGFfcHJvamVjdGVkX3Bvcy54eXoraCxtZXJjYXRvcl9wb3MsdV96b29tX3RyYW5zaXRpb24pO3Byb2plY3RlZF9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXgqdmVjNChwcm9qX3BvcywxLjApO1xcbiNlbHNlXFxucHJvamVjdGVkX3Bvcz11X2xhYmVsX3BsYW5lX21hdHJpeCp2ZWM0KGFfcHJvamVjdGVkX3Bvcy54eSxoLnosMS4wKTtcXG4jZW5kaWZcXG5oaWdocCBmbG9hdCBhbmdsZV9zaW49c2luKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTtoaWdocCBmbG9hdCBhbmdsZV9jb3M9Y29zKHNlZ21lbnRfYW5nbGUrc3ltYm9sX3JvdGF0aW9uKTttYXQyIHJvdGF0aW9uX21hdHJpeD1tYXQyKGFuZ2xlX2NvcywtMS4wKmFuZ2xlX3NpbixhbmdsZV9zaW4sYW5nbGVfY29zKTtmbG9hdCB6PTAuMDt2ZWMyIG9mZnNldD1yb3RhdGlvbl9tYXRyaXgqKGFfb2Zmc2V0LzMyLjAqZm9udF9zY2FsZSk7XFxuI2lmZGVmIFRFUlJBSU5cXG4jaWZkZWYgUElUQ0hfV0lUSF9NQVBfVEVSUkFJTlxcbnZlYzQgdGlsZV9wb3M9dV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52KnZlYzQoYV9wcm9qZWN0ZWRfcG9zLnh5K29mZnNldCwwLjAsMS4wKTt6PWVsZXZhdGlvbih0aWxlX3Bvcy54eSk7XFxuI2VuZGlmXFxuI2VuZGlmXFxuZmxvYXQgb2NjbHVzaW9uX2ZhZGU9b2NjbHVzaW9uRmFkZShwcm9qZWN0ZWRfcG9pbnQpKmdsb2JlX29jY2x1c2lvbl9mYWRlO1xcbiNpZmRlZiBQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcXG52ZWMzIHhBeGlzPXVfcGl0Y2hfd2l0aF9tYXAgPyBub3JtYWxpemUoY3Jvc3MoYV9nbG9iZV9ub3JtYWwsdV91cF92ZWN0b3IpKSA6IHZlYzMoMSwwLDApO3ZlYzMgeUF4aXM9dV9waXRjaF93aXRoX21hcCA/IG5vcm1hbGl6ZShjcm9zcyhhX2dsb2JlX25vcm1hbCx4QXhpcykpIDogdmVjMygwLDEsMCk7Z2xfUG9zaXRpb249bWl4KHVfY29vcmRfbWF0cml4KnZlYzQocHJvamVjdGVkX3Bvcy54eXovcHJvamVjdGVkX3Bvcy53K3hBeGlzKm9mZnNldC54K3lBeGlzKm9mZnNldC55LDEuMCksQVdBWSxmbG9hdChwcm9qZWN0ZWRfcG9pbnQudyA8PTAuMCB8fCBvY2NsdXNpb25fZmFkZT09MC4wKSk7XFxuI2Vsc2VcXG5nbF9Qb3NpdGlvbj1taXgodV9jb29yZF9tYXRyaXgqdmVjNChwcm9qZWN0ZWRfcG9zLnh5L3Byb2plY3RlZF9wb3MudytvZmZzZXQseiwxLjApLEFXQVksZmxvYXQocHJvamVjdGVkX3BvaW50LncgPD0wLjAgfHwgb2NjbHVzaW9uX2ZhZGU9PTAuMCkpO1xcbiNlbmRpZlxcbmZsb2F0IGdhbW1hX3NjYWxlPWdsX1Bvc2l0aW9uLnc7dmVjMiBmYWRlX29wYWNpdHk9dW5wYWNrX29wYWNpdHkoYV9mYWRlX29wYWNpdHkpO2Zsb2F0IGZhZGVfY2hhbmdlPWZhZGVfb3BhY2l0eVsxXSA+IDAuNSA/IHVfZmFkZV9jaGFuZ2UgOi11X2ZhZGVfY2hhbmdlO2Zsb2F0IGludGVycG9sYXRlZF9mYWRlX29wYWNpdHk9bWF4KDAuMCxtaW4ob2NjbHVzaW9uX2ZhZGUsZmFkZV9vcGFjaXR5WzBdK2ZhZGVfY2hhbmdlKSk7ZmxvYXQgcHJvamVjdGlvbl90cmFuc2l0aW9uX2ZhZGU9MS4wO1xcbiNpZiBkZWZpbmVkKFBST0pFQ1RFRF9QT1NfT05fVklFV1BPUlQpICYmIGRlZmluZWQoUFJPSkVDVElPTl9HTE9CRV9WSUVXKVxcbnByb2plY3Rpb25fdHJhbnNpdGlvbl9mYWRlPTEuMC1zdGVwKEVQU0lMT04sdV96b29tX3RyYW5zaXRpb24pO1xcbiNlbmRpZlxcbnZfZGF0YTAueHk9YV90ZXgvdV90ZXhzaXplO3ZfZGF0YTAuenc9YV90ZXgvdV90ZXhzaXplX2ljb247dl9kYXRhMT12ZWM0KGdhbW1hX3NjYWxlLHNpemUsaW50ZXJwb2xhdGVkX2ZhZGVfb3BhY2l0eSpwcm9qZWN0aW9uX3RyYW5zaXRpb25fZmFkZSxpc19zZGYpO31cIiksdGVycmFpblJhc3RlcjpwbihcInVuaWZvcm0gc2FtcGxlcjJEIHVfaW1hZ2UwO3ZhcnlpbmcgdmVjMiB2X3BvczA7XFxuI2lmZGVmIEZPR1xcbnZhcnlpbmcgZmxvYXQgdl9mb2dfb3BhY2l0eTtcXG4jZW5kaWZcXG4jaWZkZWYgUkVOREVSX1NIQURPV1NcXG52YXJ5aW5nIHZlYzQgdl9wb3NfbGlnaHRfdmlld18wO3ZhcnlpbmcgdmVjNCB2X3Bvc19saWdodF92aWV3XzE7dmFyeWluZyBmbG9hdCB2X2RlcHRoO1xcbiNlbmRpZlxcbnZvaWQgbWFpbigpIHt2ZWM0IGNvbG9yPXRleHR1cmUyRCh1X2ltYWdlMCx2X3BvczApO1xcbiNpZmRlZiBSRU5ERVJfU0hBRE9XU1xcbmNvbG9yLnh5ej1zaGFkb3dlZF9jb2xvcihjb2xvci54eXosdl9wb3NfbGlnaHRfdmlld18wLHZfcG9zX2xpZ2h0X3ZpZXdfMSx2X2RlcHRoKTtcXG4jZW5kaWZcXG4jaWZkZWYgRk9HXFxuI2lmZGVmIFpFUk9fRVhBR0dFUkFUSU9OXFxuY29sb3I9Zm9nX2RpdGhlcihmb2dfYXBwbHlfcHJlbXVsdGlwbGllZChjb2xvcix2X2ZvZ19wb3MpKTtcXG4jZWxzZVxcbmNvbG9yPWZvZ19kaXRoZXIoZm9nX2FwcGx5X2Zyb21fdmVydChjb2xvcix2X2ZvZ19vcGFjaXR5KSk7XFxuI2VuZGlmXFxuI2VuZGlmXFxuZ2xfRnJhZ0NvbG9yPWNvbG9yO1xcbiNpZmRlZiBURVJSQUlOX1dJUkVGUkFNRVxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCwwLjAsMC4wLDAuOCk7XFxuI2VuZGlmXFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLFwidW5pZm9ybSBtYXQ0IHVfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV9za2lydF9oZWlnaHQ7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIHZlYzIgdl9wb3MwO1xcbiNpZmRlZiBGT0dcXG52YXJ5aW5nIGZsb2F0IHZfZm9nX29wYWNpdHk7XFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzA7dW5pZm9ybSBtYXQ0IHVfbGlnaHRfbWF0cml4XzE7dmFyeWluZyB2ZWM0IHZfcG9zX2xpZ2h0X3ZpZXdfMDt2YXJ5aW5nIHZlYzQgdl9wb3NfbGlnaHRfdmlld18xO3ZhcnlpbmcgZmxvYXQgdl9kZXB0aDtcXG4jZW5kaWZcXG5jb25zdCBmbG9hdCBza2lydE9mZnNldD0yNDU3NS4wO2NvbnN0IGZsb2F0IHdpcmVmcmFtZU9mZnNldD0wLjAwMDE1O3ZvaWQgbWFpbigpIHt2X3BvczA9YV90ZXh0dXJlX3Bvcy84MTkyLjA7ZmxvYXQgc2tpcnQ9ZmxvYXQoYV9wb3MueCA+PXNraXJ0T2Zmc2V0KTtmbG9hdCBlbGV2YXRpb249ZWxldmF0aW9uKGFfdGV4dHVyZV9wb3MpLXNraXJ0KnVfc2tpcnRfaGVpZ2h0O1xcbiNpZmRlZiBURVJSQUlOX1dJUkVGUkFNRVxcbmVsZXZhdGlvbis9dV9za2lydF9oZWlnaHQqdV9za2lydF9oZWlnaHQqd2lyZWZyYW1lT2Zmc2V0O1xcbiNlbmRpZlxcbnZlYzIgZGVjb2RlZFBvcz1hX3Bvcy12ZWMyKHNraXJ0KnNraXJ0T2Zmc2V0LDAuMCk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChkZWNvZGVkUG9zLGVsZXZhdGlvbiwxLjApO1xcbiNpZmRlZiBGT0dcXG4jaWZkZWYgWkVST19FWEFHR0VSQVRJT05cXG52X2ZvZ19wb3M9Zm9nX3Bvc2l0aW9uKGRlY29kZWRQb3MpO1xcbiNlbHNlXFxudl9mb2dfb3BhY2l0eT1mb2coZm9nX3Bvc2l0aW9uKHZlYzMoZGVjb2RlZFBvcyxlbGV2YXRpb24pKSk7XFxuI2VuZGlmXFxuI2VuZGlmXFxuI2lmZGVmIFJFTkRFUl9TSEFET1dTXFxudmVjMyBwb3M9dmVjMyhkZWNvZGVkUG9zLGVsZXZhdGlvbik7dl9wb3NfbGlnaHRfdmlld18wPXVfbGlnaHRfbWF0cml4XzAqdmVjNChwb3MsMS4pO3ZfcG9zX2xpZ2h0X3ZpZXdfMT11X2xpZ2h0X21hdHJpeF8xKnZlYzQocG9zLDEuKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnc7XFxuI2VuZGlmXFxufVwiKSx0ZXJyYWluRGVwdGg6cG4oXCIjaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2VuZGlmXFxudmFyeWluZyBmbG9hdCB2X2RlcHRoO3ZvaWQgbWFpbigpIHtnbF9GcmFnQ29sb3I9cGFja19kZXB0aCh2X2RlcHRoKTt9XCIsXCJ1bmlmb3JtIG1hdDQgdV9tYXRyaXg7YXR0cmlidXRlIHZlYzIgYV9wb3M7YXR0cmlidXRlIHZlYzIgYV90ZXh0dXJlX3Bvczt2YXJ5aW5nIGZsb2F0IHZfZGVwdGg7dm9pZCBtYWluKCkge2Zsb2F0IGVsZXZhdGlvbj1lbGV2YXRpb24oYV90ZXh0dXJlX3Bvcyk7Z2xfUG9zaXRpb249dV9tYXRyaXgqdmVjNChhX3BvcyxlbGV2YXRpb24sMS4wKTt2X2RlcHRoPWdsX1Bvc2l0aW9uLnovZ2xfUG9zaXRpb24udzt9XCIpLHNreWJveDpwbihcIlxcbnZhcnlpbmcgbG93cCB2ZWMzIHZfdXY7dW5pZm9ybSBsb3dwIHNhbXBsZXJDdWJlIHVfY3ViZW1hcDt1bmlmb3JtIGxvd3AgZmxvYXQgdV9vcGFjaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV90ZW1wb3JhbF9vZmZzZXQ7dW5pZm9ybSBoaWdocCB2ZWMzIHVfc3VuX2RpcmVjdGlvbjtmbG9hdCBzdW5fZGlzayhoaWdocCB2ZWMzIHJheV9kaXJlY3Rpb24saGlnaHAgdmVjMyBzdW5fZGlyZWN0aW9uKSB7aGlnaHAgZmxvYXQgY29zX2FuZ2xlPWRvdChub3JtYWxpemUocmF5X2RpcmVjdGlvbiksc3VuX2RpcmVjdGlvbik7Y29uc3QgaGlnaHAgZmxvYXQgY29zX3N1bl9hbmd1bGFyX2RpYW1ldGVyPTAuOTk5OTYxOTIzMDY7Y29uc3QgaGlnaHAgZmxvYXQgc21vb3Roc3RlcF9kZWx0YT0xZS01O3JldHVybiBzbW9vdGhzdGVwKFxcbmNvc19zdW5fYW5ndWxhcl9kaWFtZXRlci1zbW9vdGhzdGVwX2RlbHRhLGNvc19zdW5fYW5ndWxhcl9kaWFtZXRlcitzbW9vdGhzdGVwX2RlbHRhLGNvc19hbmdsZSk7fWZsb2F0IG1hcChmbG9hdCB2YWx1ZSxmbG9hdCBzdGFydCxmbG9hdCBlbmQsZmxvYXQgbmV3X3N0YXJ0LGZsb2F0IG5ld19lbmQpIHtyZXR1cm4gKCh2YWx1ZS1zdGFydCkqKG5ld19lbmQtbmV3X3N0YXJ0KSkvKGVuZC1zdGFydCkrbmV3X3N0YXJ0O312b2lkIG1haW4oKSB7dmVjMyB1dj12X3V2O2NvbnN0IGZsb2F0IHlfYmlhcz0wLjAxNTt1di55Kz15X2JpYXM7dXYueT1wb3coYWJzKHV2LnkpLDEuMC81LjApO3V2Lnk9bWFwKHV2LnksMC4wLDEuMCwtMS4wLDEuMCk7dmVjMyBza3lfY29sb3I9dGV4dHVyZUN1YmUodV9jdWJlbWFwLHV2KS5yZ2I7XFxuI2lmZGVmIEZPR1xcbnNreV9jb2xvcj1mb2dfYXBwbHlfc2t5X2dyYWRpZW50KHZfdXYueHp5LHNreV9jb2xvcik7XFxuI2VuZGlmXFxuc2t5X2NvbG9yLnJnYj1kaXRoZXIoc2t5X2NvbG9yLnJnYixnbF9GcmFnQ29vcmQueHkrdV90ZW1wb3JhbF9vZmZzZXQpO3NreV9jb2xvcis9MC4xKnN1bl9kaXNrKHZfdXYsdV9zdW5fZGlyZWN0aW9uKTtnbF9GcmFnQ29sb3I9dmVjNChza3lfY29sb3IqdV9vcGFjaXR5LHVfb3BhY2l0eSk7XFxuI2lmZGVmIE9WRVJEUkFXX0lOU1BFQ1RPUlxcbmdsX0ZyYWdDb2xvcj12ZWM0KDEuMCk7XFxuI2VuZGlmXFxufVwiLGVuKSxza3lib3hHcmFkaWVudDpwbihcInZhcnlpbmcgaGlnaHAgdmVjMyB2X3V2O3VuaWZvcm0gbG93cCBzYW1wbGVyMkQgdV9jb2xvcl9yYW1wO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2NlbnRlcl9kaXJlY3Rpb247dW5pZm9ybSBsb3dwIGZsb2F0IHVfcmFkaXVzO3VuaWZvcm0gbG93cCBmbG9hdCB1X29wYWNpdHk7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3RlbXBvcmFsX29mZnNldDt2b2lkIG1haW4oKSB7ZmxvYXQgcHJvZ3Jlc3M9YWNvcyhkb3Qobm9ybWFsaXplKHZfdXYpLHVfY2VudGVyX2RpcmVjdGlvbikpL3VfcmFkaXVzO3ZlYzQgY29sb3I9dGV4dHVyZTJEKHVfY29sb3JfcmFtcCx2ZWMyKHByb2dyZXNzLDAuNSkpO1xcbiNpZmRlZiBGT0dcXG5jb2xvci5yZ2I9Zm9nX2FwcGx5X3NreV9ncmFkaWVudCh2X3V2Lnh6eSxjb2xvci5yZ2IvY29sb3IuYSkqY29sb3IuYTtcXG4jZW5kaWZcXG5jb2xvcio9dV9vcGFjaXR5O2NvbG9yLnJnYj1kaXRoZXIoY29sb3IucmdiLGdsX0ZyYWdDb29yZC54eSt1X3RlbXBvcmFsX29mZnNldCk7Z2xfRnJhZ0NvbG9yPWNvbG9yO1xcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixlbiksc2t5Ym94Q2FwdHVyZTpwbihcIlxcbnZhcnlpbmcgaGlnaHAgdmVjMyB2X3Bvc2l0aW9uO3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9zdW5faW50ZW5zaXR5O3VuaWZvcm0gaGlnaHAgZmxvYXQgdV9sdW1pbmFuY2U7dW5pZm9ybSBsb3dwIHZlYzMgdV9zdW5fZGlyZWN0aW9uO3VuaWZvcm0gaGlnaHAgdmVjNCB1X2NvbG9yX3RpbnRfcjt1bmlmb3JtIGhpZ2hwIHZlYzQgdV9jb2xvcl90aW50X207XFxuI2lmZGVmIEdMX0VTXFxucHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNlbmRpZlxcbiNkZWZpbmUgQkVUQV9SICAgICAgICAgICAgICAgICAgdmVjMyg1LjVlLTYsMTMuMGUtNiwyMi40ZS02KVxcbiNkZWZpbmUgQkVUQV9NICAgICAgICAgICAgICAgICAgdmVjMygyMWUtNiwyMWUtNiwyMWUtNilcXG4jZGVmaW5lIE1JRV9HICAgICAgICAgICAgICAgICAgIDAuNzZcXG4jZGVmaW5lIERFTlNJVFlfSEVJR0hUX1NDQUxFX1IgIDgwMDAuMFxcbiNkZWZpbmUgREVOU0lUWV9IRUlHSFRfU0NBTEVfTSAgMTIwMC4wXFxuI2RlZmluZSBQTEFORVRfUkFESVVTICAgICAgICAgICA2MzYwZTNcXG4jZGVmaW5lIEFUTU9TUEhFUkVfUkFESVVTICAgICAgIDY0MjBlM1xcbiNkZWZpbmUgU0FNUExFX1NURVBTICAgICAgICAgICAgMTBcXG4jZGVmaW5lIERFTlNJVFlfU1RFUFMgICAgICAgICAgIDRcXG5mbG9hdCByYXlfc3BoZXJlX2V4aXQodmVjMyBvcmlnLHZlYzMgZGlyLGZsb2F0IHJhZGl1cykge2Zsb2F0IGE9ZG90KGRpcixkaXIpO2Zsb2F0IGI9Mi4wKmRvdChkaXIsb3JpZyk7ZmxvYXQgYz1kb3Qob3JpZyxvcmlnKS1yYWRpdXMqcmFkaXVzO2Zsb2F0IGQ9c3FydChiKmItNC4wKmEqYyk7cmV0dXJuICgtYitkKS8oMi4wKmEpO312ZWMzIGV4dGluY3Rpb24odmVjMiBkZW5zaXR5KSB7cmV0dXJuIGV4cCgtdmVjMyhCRVRBX1IqdV9jb2xvcl90aW50X3IuYSpkZW5zaXR5LngrQkVUQV9NKnVfY29sb3JfdGludF9tLmEqZGVuc2l0eS55KSk7fXZlYzIgbG9jYWxfZGVuc2l0eSh2ZWMzIHBvaW50KSB7ZmxvYXQgaGVpZ2h0PW1heChsZW5ndGgocG9pbnQpLVBMQU5FVF9SQURJVVMsMC4wKTtmbG9hdCBleHBfcj1leHAoLWhlaWdodC9ERU5TSVRZX0hFSUdIVF9TQ0FMRV9SKTtmbG9hdCBleHBfbT1leHAoLWhlaWdodC9ERU5TSVRZX0hFSUdIVF9TQ0FMRV9NKTtyZXR1cm4gdmVjMihleHBfcixleHBfbSk7fWZsb2F0IHBoYXNlX3JheShmbG9hdCBjb3NfYW5nbGUpIHtyZXR1cm4gKDMuMC8oMTYuMCpQSSkpKigxLjArY29zX2FuZ2xlKmNvc19hbmdsZSk7fWZsb2F0IHBoYXNlX21pZShmbG9hdCBjb3NfYW5nbGUpIHtyZXR1cm4gKDMuMC8oOC4wKlBJKSkqKCgxLjAtTUlFX0cqTUlFX0cpKigxLjArY29zX2FuZ2xlKmNvc19hbmdsZSkpLygoMi4wK01JRV9HKk1JRV9HKSpwb3coMS4wK01JRV9HKk1JRV9HLTIuMCpNSUVfRypjb3NfYW5nbGUsMS41KSk7fXZlYzIgZGVuc2l0eV90b19hdG1vc3BoZXJlKHZlYzMgcG9pbnQsdmVjMyBsaWdodF9kaXIpIHtmbG9hdCByYXlfbGVuPXJheV9zcGhlcmVfZXhpdChwb2ludCxsaWdodF9kaXIsQVRNT1NQSEVSRV9SQURJVVMpO2Zsb2F0IHN0ZXBfbGVuPXJheV9sZW4vZmxvYXQoREVOU0lUWV9TVEVQUyk7dmVjMiBkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU9dmVjMigwLjApO2ZvciAoaW50IGk9MDsgaSA8IERFTlNJVFlfU1RFUFM7KytpKSB7dmVjMyBwb2ludF9vbl9yYXk9cG9pbnQrbGlnaHRfZGlyKigoZmxvYXQoaSkrMC41KSpzdGVwX2xlbik7ZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlKz1sb2NhbF9kZW5zaXR5KHBvaW50X29uX3JheSkqc3RlcF9sZW47O31yZXR1cm4gZGVuc2l0eV9wb2ludF90b19hdG1vc3BoZXJlO312ZWMzIGF0bW9zcGhlcmUodmVjMyByYXlfZGlyLHZlYzMgc3VuX2RpcmVjdGlvbixmbG9hdCBzdW5faW50ZW5zaXR5KSB7dmVjMiBkZW5zaXR5X29yaWdfdG9fcG9pbnQ9dmVjMigwLjApO3ZlYzMgc2NhdHRlcl9yPXZlYzMoMC4wKTt2ZWMzIHNjYXR0ZXJfbT12ZWMzKDAuMCk7dmVjMyBvcmlnaW49dmVjMygwLjAsUExBTkVUX1JBRElVUywwLjApO2Zsb2F0IHJheV9sZW49cmF5X3NwaGVyZV9leGl0KG9yaWdpbixyYXlfZGlyLEFUTU9TUEhFUkVfUkFESVVTKTtmbG9hdCBzdGVwX2xlbj1yYXlfbGVuL2Zsb2F0KFNBTVBMRV9TVEVQUyk7Zm9yIChpbnQgaT0wOyBpIDwgU0FNUExFX1NURVBTOysraSkge3ZlYzMgcG9pbnRfb25fcmF5PW9yaWdpbityYXlfZGlyKigoZmxvYXQoaSkrMC41KSpzdGVwX2xlbik7dmVjMiBkZW5zaXR5PWxvY2FsX2RlbnNpdHkocG9pbnRfb25fcmF5KSpzdGVwX2xlbjtkZW5zaXR5X29yaWdfdG9fcG9pbnQrPWRlbnNpdHk7dmVjMiBkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU9ZGVuc2l0eV90b19hdG1vc3BoZXJlKHBvaW50X29uX3JheSxzdW5fZGlyZWN0aW9uKTt2ZWMyIGRlbnNpdHlfb3JpZ190b19hdG1vc3BoZXJlPWRlbnNpdHlfb3JpZ190b19wb2ludCtkZW5zaXR5X3BvaW50X3RvX2F0bW9zcGhlcmU7dmVjMyBleHRpbmN0aW9uPWV4dGluY3Rpb24oZGVuc2l0eV9vcmlnX3RvX2F0bW9zcGhlcmUpO3NjYXR0ZXJfcis9ZGVuc2l0eS54KmV4dGluY3Rpb247c2NhdHRlcl9tKz1kZW5zaXR5LnkqZXh0aW5jdGlvbjt9ZmxvYXQgY29zX2FuZ2xlPWRvdChyYXlfZGlyLHN1bl9kaXJlY3Rpb24pO2Zsb2F0IHBoYXNlX3I9cGhhc2VfcmF5KGNvc19hbmdsZSk7ZmxvYXQgcGhhc2VfbT1waGFzZV9taWUoY29zX2FuZ2xlKTt2ZWMzIGJldGFfcj1CRVRBX1IqdV9jb2xvcl90aW50X3IucmdiKnVfY29sb3JfdGludF9yLmE7dmVjMyBiZXRhX209QkVUQV9NKnVfY29sb3JfdGludF9tLnJnYip1X2NvbG9yX3RpbnRfbS5hO3JldHVybiAoc2NhdHRlcl9yKnBoYXNlX3IqYmV0YV9yK3NjYXR0ZXJfbSpwaGFzZV9tKmJldGFfbSkqc3VuX2ludGVuc2l0eTt9Y29uc3QgZmxvYXQgQT0wLjE1O2NvbnN0IGZsb2F0IEI9MC41MDtjb25zdCBmbG9hdCBDPTAuMTA7Y29uc3QgZmxvYXQgRD0wLjIwO2NvbnN0IGZsb2F0IEU9MC4wMjtjb25zdCBmbG9hdCBGPTAuMzA7dmVjMyB1bmNoYXJ0ZWQyX3RvbmVtYXAodmVjMyB4KSB7cmV0dXJuICgoeCooQSp4K0MqQikrRCpFKS8oeCooQSp4K0IpK0QqRikpLUUvRjt9dm9pZCBtYWluKCkge3ZlYzMgcmF5X2RpcmVjdGlvbj12X3Bvc2l0aW9uO3JheV9kaXJlY3Rpb24ueT1wb3cocmF5X2RpcmVjdGlvbi55LDUuMCk7Y29uc3QgZmxvYXQgeV9iaWFzPTAuMDE1O3JheV9kaXJlY3Rpb24ueSs9eV9iaWFzO3ZlYzMgY29sb3I9YXRtb3NwaGVyZShub3JtYWxpemUocmF5X2RpcmVjdGlvbiksdV9zdW5fZGlyZWN0aW9uLHVfc3VuX2ludGVuc2l0eSk7ZmxvYXQgd2hpdGVfc2NhbGU9MS4wNzQ4NzI0Njc1NjMzODU0O2NvbG9yPXVuY2hhcnRlZDJfdG9uZW1hcCgobG9nMigyLjAvcG93KHVfbHVtaW5hbmNlLDQuMCkpKSpjb2xvcikqd2hpdGVfc2NhbGU7Z2xfRnJhZ0NvbG9yPXZlYzQoY29sb3IsMS4wKTt9XCIsXCJhdHRyaWJ1dGUgaGlnaHAgdmVjMyBhX3Bvc18zZjt1bmlmb3JtIG1hdDMgdV9tYXRyaXhfM2Y7dmFyeWluZyBoaWdocCB2ZWMzIHZfcG9zaXRpb247ZmxvYXQgbWFwKGZsb2F0IHZhbHVlLGZsb2F0IHN0YXJ0LGZsb2F0IGVuZCxmbG9hdCBuZXdfc3RhcnQsZmxvYXQgbmV3X2VuZCkge3JldHVybiAoKHZhbHVlLXN0YXJ0KSoobmV3X2VuZC1uZXdfc3RhcnQpKS8oZW5kLXN0YXJ0KStuZXdfc3RhcnQ7fXZvaWQgbWFpbigpIHt2ZWM0IHBvcz12ZWM0KHVfbWF0cml4XzNmKmFfcG9zXzNmLDEuMCk7dl9wb3NpdGlvbj1wb3MueHl6O3ZfcG9zaXRpb24ueSo9LTEuMDt2X3Bvc2l0aW9uLnk9bWFwKHZfcG9zaXRpb24ueSwtMS4wLDEuMCwwLjAsMS4wKTtnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zXzNmLnh5LDAuMCwxLjApO31cIiksZ2xvYmVSYXN0ZXI6cG4oXCJ1bmlmb3JtIHNhbXBsZXIyRCB1X2ltYWdlMDt2YXJ5aW5nIHZlYzIgdl9wb3MwO1xcbiNpZm5kZWYgRk9HXFxudW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV90bDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9mcnVzdHVtX3RyO3VuaWZvcm0gaGlnaHAgdmVjMyB1X2ZydXN0dW1fYnI7dW5pZm9ybSBoaWdocCB2ZWMzIHVfZnJ1c3R1bV9ibDt1bmlmb3JtIGhpZ2hwIHZlYzMgdV9nbG9iZV9wb3M7dW5pZm9ybSBoaWdocCBmbG9hdCB1X2dsb2JlX3JhZGl1czt1bmlmb3JtIHZlYzIgdV92aWV3cG9ydDtcXG4jZW5kaWZcXG52b2lkIG1haW4oKSB7dmVjNCBjb2xvcjtcXG4jaWZkZWYgQ1VTVE9NX0FOVElBTElBU0lOR1xcbnZlYzIgdXY9Z2xfRnJhZ0Nvb3JkLnh5L3Vfdmlld3BvcnQ7aGlnaHAgdmVjMyByYXlfZGlyPW1peChcXG5taXgodV9mcnVzdHVtX3RsLHVfZnJ1c3R1bV90cix1di54KSxtaXgodV9mcnVzdHVtX2JsLHVfZnJ1c3R1bV9icix1di54KSwxLjAtdXYueSk7dmVjMyBkaXI9bm9ybWFsaXplKHJheV9kaXIpO3ZlYzMgY2xvc2VzdF9wb2ludD1kb3QodV9nbG9iZV9wb3MsZGlyKSpkaXI7ZmxvYXQgbm9ybV9kaXN0X2Zyb21fY2VudGVyPTEuMC1sZW5ndGgoY2xvc2VzdF9wb2ludC11X2dsb2JlX3BvcykvdV9nbG9iZV9yYWRpdXM7Y29uc3QgZmxvYXQgYW50aWFsaWFzX3BpeGVsPTIuMDtmbG9hdCBhbnRpYWxpYXNfZmFjdG9yPWFudGlhbGlhc19waXhlbCpmd2lkdGgobm9ybV9kaXN0X2Zyb21fY2VudGVyKTtmbG9hdCBhbnRpYWxpYXM9c21vb3Roc3RlcCgwLjAsYW50aWFsaWFzX2ZhY3Rvcixub3JtX2Rpc3RfZnJvbV9jZW50ZXIpO3ZlYzQgcmFzdGVyPXRleHR1cmUyRCh1X2ltYWdlMCx2X3BvczApO2NvbG9yPXZlYzQocmFzdGVyLnJnYiphbnRpYWxpYXMscmFzdGVyLmEqYW50aWFsaWFzKTtcXG4jZWxzZVxcbmNvbG9yPXRleHR1cmUyRCh1X2ltYWdlMCx2X3BvczApO1xcbiNlbmRpZlxcbiNpZmRlZiBGT0dcXG5jb2xvcj1mb2dfZGl0aGVyKGZvZ19hcHBseV9wcmVtdWx0aXBsaWVkKGNvbG9yLHZfZm9nX3BvcykpO1xcbiNlbmRpZlxcbmdsX0ZyYWdDb2xvcj1jb2xvcjtcXG4jaWZkZWYgVEVSUkFJTl9XSVJFRlJBTUVcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjAsMC4wLDAuMCwwLjgpO1xcbiNlbmRpZlxcbiNpZmRlZiBPVkVSRFJBV19JTlNQRUNUT1JcXG5nbF9GcmFnQ29sb3I9dmVjNCgxLjApO1xcbiNlbmRpZlxcbn1cIixcInVuaWZvcm0gbWF0NCB1X3Byb2pfbWF0cml4O3VuaWZvcm0gbWF0NCB1X25vcm1hbGl6ZV9tYXRyaXg7dW5pZm9ybSBtYXQ0IHVfZ2xvYmVfbWF0cml4O3VuaWZvcm0gbWF0NCB1X21lcmNfbWF0cml4O3VuaWZvcm0gZmxvYXQgdV96b29tX3RyYW5zaXRpb247dW5pZm9ybSB2ZWMyIHVfbWVyY19jZW50ZXI7dW5pZm9ybSBtYXQzIHVfZ3JpZF9tYXRyaXg7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxuYXR0cmlidXRlIHZlYzMgYV9nbG9iZV9wb3M7YXR0cmlidXRlIHZlYzIgYV91djtcXG4jZWxzZVxcbmF0dHJpYnV0ZSB2ZWMyIGFfcG9zO1xcbiNlbmRpZlxcbnZhcnlpbmcgdmVjMiB2X3BvczA7Y29uc3QgZmxvYXQgd2lyZWZyYW1lT2Zmc2V0PTFlMztmbG9hdCBtZXJjYXRvclhmcm9tTG5nKGZsb2F0IGxuZykge3JldHVybiAoMTgwLjArbG5nKS8zNjAuMDt9ZmxvYXQgbWVyY2F0b3JZZnJvbUxhdChmbG9hdCBsYXQpIHtyZXR1cm4gKDE4MC4wLShSQURfVE9fREVHKmxvZyh0YW4oUVVBUlRFUl9QSStsYXQvMi4wKkRFR19UT19SQUQpKSkpLzM2MC4wO312ZWMzIGxhdExuZ1RvRUNFRih2ZWMyIGxhdExuZykge2xhdExuZz1ERUdfVE9fUkFEKmxhdExuZztmbG9hdCBjb3NMYXQ9Y29zKGxhdExuZ1swXSk7ZmxvYXQgc2luTGF0PXNpbihsYXRMbmdbMF0pO2Zsb2F0IGNvc0xuZz1jb3MobGF0TG5nWzFdKTtmbG9hdCBzaW5Mbmc9c2luKGxhdExuZ1sxXSk7ZmxvYXQgc3g9Y29zTGF0KnNpbkxuZypHTE9CRV9SQURJVVM7ZmxvYXQgc3k9LXNpbkxhdCpHTE9CRV9SQURJVVM7ZmxvYXQgc3o9Y29zTGF0KmNvc0xuZypHTE9CRV9SQURJVVM7cmV0dXJuIHZlYzMoc3gsc3ksc3opO312b2lkIG1haW4oKSB7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxudmVjMyBnbG9iZV9wb3M9YV9nbG9iZV9wb3M7dmVjMiB1dj1hX3V2O1xcbiNlbHNlXFxuZmxvYXQgdGlsZXM9dV9ncmlkX21hdHJpeFswXVsyXTtmbG9hdCBpZHg9dV9ncmlkX21hdHJpeFsxXVsyXTtmbG9hdCBpZHk9dV9ncmlkX21hdHJpeFsyXVsyXTt2ZWMzIGxhdExuZz11X2dyaWRfbWF0cml4KnZlYzMoYV9wb3MsMS4wKTtmbG9hdCBtZXJjYXRvclk9bWVyY2F0b3JZZnJvbUxhdChsYXRMbmdbMF0pO2Zsb2F0IHV2WT1tZXJjYXRvclkqdGlsZXMtaWR5O2Zsb2F0IG1lcmNhdG9yWD1tZXJjYXRvclhmcm9tTG5nKGxhdExuZ1sxXSk7ZmxvYXQgdXZYPW1lcmNhdG9yWCp0aWxlcy1pZHg7dmVjMyBnbG9iZV9wb3M9bGF0TG5nVG9FQ0VGKGxhdExuZy54eSk7dmVjMiBtZXJjX3Bvcz12ZWMyKG1lcmNhdG9yWCxtZXJjYXRvclkpO3ZlYzIgdXY9dmVjMih1dlgsdXZZKTtcXG4jZW5kaWZcXG52X3BvczA9dXY7dmVjMiB0aWxlX3Bvcz11dipFWFRFTlQ7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxudmVjMyB1cF92ZWN0b3I9bm9ybWFsaXplKGdsb2JlX3BvcykqdV90aWxlX3VwX3NjYWxlO1xcbiNlbHNlXFxudmVjMyB1cF92ZWN0b3I9ZWxldmF0aW9uVmVjdG9yKHRpbGVfcG9zKTtcXG4jZW5kaWZcXG5mbG9hdCBoZWlnaHQ9ZWxldmF0aW9uKHRpbGVfcG9zKTtcXG4jaWZkZWYgVEVSUkFJTl9XSVJFRlJBTUVcXG5oZWlnaHQrPXdpcmVmcmFtZU9mZnNldDtcXG4jZW5kaWZcXG5nbG9iZV9wb3MrPXVwX3ZlY3RvcipoZWlnaHQ7XFxuI2lmZGVmIEdMT0JFX1BPTEVTXFxudmVjNCBpbnRlcnBvbGF0ZWRfcG9zPXVfZ2xvYmVfbWF0cml4KnZlYzQoZ2xvYmVfcG9zLDEuMCk7XFxuI2Vsc2VcXG52ZWM0IGdsb2JlX3dvcmxkX3Bvcz11X2dsb2JlX21hdHJpeCp2ZWM0KGdsb2JlX3BvcywxLjApO3ZlYzQgbWVyY193b3JsZF9wb3M9dmVjNCgwLjApO2lmICh1X3pvb21fdHJhbnNpdGlvbiA+IDAuMCkge21lcmNfd29ybGRfcG9zPXZlYzQobWVyY19wb3MsaGVpZ2h0LDEuMCk7bWVyY193b3JsZF9wb3MueHktPXVfbWVyY19jZW50ZXI7bWVyY193b3JsZF9wb3MueD13cmFwKG1lcmNfd29ybGRfcG9zLngsLTAuNSwwLjUpO21lcmNfd29ybGRfcG9zPXVfbWVyY19tYXRyaXgqbWVyY193b3JsZF9wb3M7fXZlYzQgaW50ZXJwb2xhdGVkX3Bvcz12ZWM0KG1peChnbG9iZV93b3JsZF9wb3MueHl6LG1lcmNfd29ybGRfcG9zLnh5eix1X3pvb21fdHJhbnNpdGlvbiksMS4wKTtcXG4jZW5kaWZcXG5nbF9Qb3NpdGlvbj11X3Byb2pfbWF0cml4KmludGVycG9sYXRlZF9wb3M7XFxuI2lmZGVmIEZPR1xcbnZfZm9nX3Bvcz1mb2dfcG9zaXRpb24oKHVfbm9ybWFsaXplX21hdHJpeCp2ZWM0KGdsb2JlX3BvcywxLjApKS54eXopO1xcbiNlbmRpZlxcbn1cIiksZ2xvYmVBdG1vc3BoZXJlOnBuKFwidW5pZm9ybSBmbG9hdCB1X3RyYW5zaXRpb247dW5pZm9ybSBoaWdocCBmbG9hdCB1X2ZhZGVvdXRfcmFuZ2U7dW5pZm9ybSBoaWdocCBmbG9hdCB1X3RlbXBvcmFsX29mZnNldDt1bmlmb3JtIHZlYzMgdV9zdGFydF9jb2xvcjt1bmlmb3JtIHZlYzQgdV9jb2xvcjt1bmlmb3JtIHZlYzQgdV9zcGFjZV9jb2xvcjt1bmlmb3JtIHZlYzQgdV9oaWdoX2NvbG9yO3VuaWZvcm0gZmxvYXQgdV9zdGFyX2ludGVuc2l0eTt1bmlmb3JtIGZsb2F0IHVfc3Rhcl9zaXplO3VuaWZvcm0gZmxvYXQgdV9zdGFyX2RlbnNpdHk7dW5pZm9ybSBmbG9hdCB1X2hvcml6b25fYW5nbGU7dW5pZm9ybSBtYXQ0IHVfcm90YXRpb25fbWF0cml4O3ZhcnlpbmcgaGlnaHAgdmVjMyB2X3JheV9kaXI7dmFyeWluZyBoaWdocCB2ZWMzIHZfaG9yaXpvbl9kaXI7aGlnaHAgZmxvYXQgcmFuZG9tKGhpZ2hwIHZlYzMgcCkge3A9ZnJhY3QocCp2ZWMzKDIzLjIzNDIsOTcuMTIzMSw5MS4yMzQyKSk7cCs9ZG90KHAuenh5LHAueXh6KzEyMy4xMjM0KTtyZXR1cm4gZnJhY3QocC54KnAueSk7fWZsb2F0IHN0YXJzKHZlYzMgcCxmbG9hdCBzY2FsZSx2ZWMyIG9mZnNldCkge3ZlYzIgdXZfc2NhbGU9KHVfdmlld3BvcnQvdV9zdGFyX3NpemUpKnNjYWxlO3ZlYzMgcG9zaXRpb249dmVjMyhwLnh5KnV2X3NjYWxlK29mZnNldCp1X3ZpZXdwb3J0LHAueik7dmVjMyBxPWZyYWN0KHBvc2l0aW9uKS0wLjU7dmVjMyBpZD1mbG9vcihwb3NpdGlvbik7ZmxvYXQgcmFuZG9tX3Zpc2liaWxpdHk9c3RlcChyYW5kb20oaWQpLHVfc3Rhcl9kZW5zaXR5KTtmbG9hdCBjaXJjbGU9c21vb3Roc3RlcCgwLjUrdV9zdGFyX2ludGVuc2l0eSwwLjUsbGVuZ3RoKHEpKTtyZXR1cm4gY2lyY2xlKnJhbmRvbV92aXNpYmlsaXR5O312b2lkIG1haW4oKSB7aGlnaHAgdmVjMyBkaXI9bm9ybWFsaXplKHZfcmF5X2Rpcik7ZmxvYXQgZ2xvYmVfcG9zX2RvdF9kaXI7XFxuI2lmZGVmIFBST0pFQ1RJT05fR0xPQkVfVklFV1xcbmdsb2JlX3Bvc19kb3RfZGlyPWRvdCh1X2dsb2JlX3BvcyxkaXIpO2hpZ2hwIHZlYzMgY2xvc2VzdF9wb2ludF9mb3J3YXJkPWFicyhnbG9iZV9wb3NfZG90X2RpcikqZGlyO2Zsb2F0IG5vcm1fZGlzdF9mcm9tX2NlbnRlcj1sZW5ndGgoY2xvc2VzdF9wb2ludF9mb3J3YXJkLXVfZ2xvYmVfcG9zKS91X2dsb2JlX3JhZGl1cztpZiAobm9ybV9kaXN0X2Zyb21fY2VudGVyIDwgMC45OCkge2Rpc2NhcmQ7cmV0dXJuO31cXG4jZW5kaWZcXG5oaWdocCB2ZWMzIGhvcml6b25fZGlyPW5vcm1hbGl6ZSh2X2hvcml6b25fZGlyKTtmbG9hdCBob3Jpem9uX2FuZ2xlX21lcmNhdG9yPWRpci55IDwgaG9yaXpvbl9kaXIueSA/XFxuMC4wIDogbWF4KGFjb3MoZG90KGRpcixob3Jpem9uX2RpcikpLDAuMCk7ZmxvYXQgaG9yaXpvbl9hbmdsZTtcXG4jaWZkZWYgUFJPSkVDVElPTl9HTE9CRV9WSUVXXFxuaGlnaHAgdmVjMyBjbG9zZXN0X3BvaW50PWdsb2JlX3Bvc19kb3RfZGlyKmRpcjtmbG9hdCBjbG9zZXN0X3BvaW50X3RvX2NlbnRlcj1sZW5ndGgoY2xvc2VzdF9wb2ludC11X2dsb2JlX3Bvcyk7ZmxvYXQgdGhldGE9YXNpbihjbGFtcChjbG9zZXN0X3BvaW50X3RvX2NlbnRlci9sZW5ndGgodV9nbG9iZV9wb3MpLC0xLjAsMS4wKSk7aG9yaXpvbl9hbmdsZT1nbG9iZV9wb3NfZG90X2RpciA8IDAuMCA/XFxuUEktdGhldGEtdV9ob3Jpem9uX2FuZ2xlIDogdGhldGEtdV9ob3Jpem9uX2FuZ2xlO2Zsb2F0IGFuZ2xlX3Q9cG93KHVfdHJhbnNpdGlvbiwxMC4wKTtob3Jpem9uX2FuZ2xlPW1peChob3Jpem9uX2FuZ2xlLGhvcml6b25fYW5nbGVfbWVyY2F0b3IsYW5nbGVfdCk7XFxuI2Vsc2VcXG5ob3Jpem9uX2FuZ2xlPWhvcml6b25fYW5nbGVfbWVyY2F0b3I7XFxuI2VuZGlmXFxuaG9yaXpvbl9hbmdsZS89UEk7ZmxvYXQgdD1leHAoLWhvcml6b25fYW5nbGUvdV9mYWRlb3V0X3JhbmdlKTtmbG9hdCBhbHBoYV8wPXVfY29sb3IuYTtmbG9hdCBhbHBoYV8xPXVfaGlnaF9jb2xvci5hO2Zsb2F0IGFscGhhXzI9dV9zcGFjZV9jb2xvci5hO3ZlYzMgY29sb3Jfc3RvcF8wPXVfY29sb3IucmdiO3ZlYzMgY29sb3Jfc3RvcF8xPXVfaGlnaF9jb2xvci5yZ2I7dmVjMyBjb2xvcl9zdG9wXzI9dV9zcGFjZV9jb2xvci5yZ2I7dmVjMyBjMD1taXgoY29sb3Jfc3RvcF8yLGNvbG9yX3N0b3BfMSxhbHBoYV8xKTt2ZWMzIGMxPW1peChjMCxjb2xvcl9zdG9wXzAsYWxwaGFfMCk7dmVjMyBjMj1taXgoYzAsYzEsdCk7dmVjMyBjID1taXgoY29sb3Jfc3RvcF8yLGMyLHQpO2Zsb2F0IGEwPW1peChhbHBoYV8yLDEuMCxhbHBoYV8xKTtmbG9hdCBhMT1taXgoYTAsMS4wLGFscGhhXzApO2Zsb2F0IGEyPW1peChhMCxhMSx0KTtmbG9hdCBhID1taXgoYWxwaGFfMixhMix0KTt2ZWMyIHV2PWdsX0ZyYWdDb29yZC54eS91X3ZpZXdwb3J0LTAuNTtmbG9hdCBhc3BlY3RfcmF0aW89dV92aWV3cG9ydC54L3Vfdmlld3BvcnQueTt2ZWM0IHV2X2Rpcj12ZWM0KG5vcm1hbGl6ZSh2ZWMzKHV2LngqYXNwZWN0X3JhdGlvLHV2LnksMS4wKSksMS4wKTt1dl9kaXI9dV9yb3RhdGlvbl9tYXRyaXgqdXZfZGlyO3ZlYzMgbj1hYnModXZfZGlyLnh5eik7dmVjMiB1dl9yZW1hcD0obi54ID4gbi55ICYmIG4ueCA+IG4ueikgPyB1dl9kaXIueXovdXZfZGlyLng6XFxuKG4ueSA+IG4ueCAmJiBuLnkgPiBuLnopID8gdXZfZGlyLnp4L3V2X2Rpci55OlxcbnV2X2Rpci54eS91dl9kaXIuejt1dl9yZW1hcC54Lz1hc3BlY3RfcmF0aW87dmVjMyBEPXZlYzModXZfcmVtYXAsMS4wKTtoaWdocCBmbG9hdCBzdGFyX2ZpZWxkPTAuMDtpZiAodV9zdGFyX2ludGVuc2l0eSA+IDAuMCkge3N0YXJfZmllbGQrPXN0YXJzKEQsMS4yLHZlYzIoMC4wLDAuMCkpO3N0YXJfZmllbGQrPXN0YXJzKEQsMS4wLHZlYzIoMS4wLDAuMCkpO3N0YXJfZmllbGQrPXN0YXJzKEQsMC44LHZlYzIoMC4wLDEuMCkpO3N0YXJfZmllbGQrPXN0YXJzKEQsMC42LHZlYzIoMS4wLDEuMCkpO3N0YXJfZmllbGQqPSgxLjAtcG93KHQsMC4yNSsoMS4wLXVfaGlnaF9jb2xvci5hKSowLjc1KSk7Yys9c3Rhcl9maWVsZCphbHBoYV8yO31jPWRpdGhlcihjLGdsX0ZyYWdDb29yZC54eSt1X3RlbXBvcmFsX29mZnNldCk7Z2xfRnJhZ0NvbG9yPXZlYzQoYyxhKTt9XCIsXCJhdHRyaWJ1dGUgdmVjMyBhX3BvczthdHRyaWJ1dGUgdmVjMiBhX3V2O3VuaWZvcm0gdmVjMyB1X2ZydXN0dW1fdGw7dW5pZm9ybSB2ZWMzIHVfZnJ1c3R1bV90cjt1bmlmb3JtIHZlYzMgdV9mcnVzdHVtX2JyO3VuaWZvcm0gdmVjMyB1X2ZydXN0dW1fYmw7dW5pZm9ybSBmbG9hdCB1X2hvcml6b247dmFyeWluZyBoaWdocCB2ZWMzIHZfcmF5X2Rpcjt2YXJ5aW5nIGhpZ2hwIHZlYzMgdl9ob3Jpem9uX2Rpcjt2b2lkIG1haW4oKSB7dl9yYXlfZGlyPW1peChcXG5taXgodV9mcnVzdHVtX3RsLHVfZnJ1c3R1bV90cixhX3V2LngpLG1peCh1X2ZydXN0dW1fYmwsdV9mcnVzdHVtX2JyLGFfdXYueCksYV91di55KTt2X2hvcml6b25fZGlyPW1peChcXG5taXgodV9mcnVzdHVtX3RsLHVfZnJ1c3R1bV9ibCx1X2hvcml6b24pLG1peCh1X2ZydXN0dW1fdHIsdV9mcnVzdHVtX2JyLHVfaG9yaXpvbiksYV91di54KTtnbF9Qb3NpdGlvbj12ZWM0KGFfcG9zLDEuMCk7fVwiKX07ZnVuY3Rpb24gZG4oZSx0KXtjb25zdCBuPWUucmVwbGFjZSgvXFxzKlxcL1xcL1teXFxuXSpcXG4vZyxcIlxcblwiKS5zcGxpdChcIlxcblwiKTtmb3IobGV0IGUgb2YgbilpZihlPWUudHJpbSgpLFwiI1wiPT09ZVswXSYmZS5pbmNsdWRlcyhcImlmXCIpJiYhZS5pbmNsdWRlcyhcImVuZGlmXCIpKXtlPWUucmVwbGFjZShcIiNcIixcIlwiKS5yZXBsYWNlKC9pZmRlZnxpZm5kZWZ8ZWxpZnxpZi9nLFwiXCIpLnJlcGxhY2UoLyF8ZGVmaW5lZHxcXCh8XFwpfFxcfFxcfHwmJi9nLFwiXCIpLnJlcGxhY2UoL1xccysvZyxcIiBcIikudHJpbSgpO2NvbnN0IG49ZS5zcGxpdChcIiBcIik7Zm9yKGNvbnN0IGUgb2Ygbil0LmluY2x1ZGVzKGUpfHx0LnB1c2goZSl9fWZ1bmN0aW9uIHBuKGUsdCl7Y29uc3Qgbj0vI3ByYWdtYSBtYXBib3g6IChbXFx3XSspIChbXFx3XSspIChbXFx3XSspIChbXFx3XSspL2csaT10Lm1hdGNoKC9hdHRyaWJ1dGUgKGhpZ2hwIHxtZWRpdW1wIHxsb3dwICk/KFtcXHddKykgKFtcXHddKykvZykscj17fSxvPVsuLi5zbl07cmV0dXJuIGRuKGUsbyksZG4odCxvKSx7ZnJhZ21lbnRTb3VyY2U6ZT1lLnJlcGxhY2UobiwoZSx0LG4saSxvKT0+KHJbb109ITAsXCJkZWZpbmVcIj09PXQ/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke299XFxudmFyeWluZyAke259ICR7aX0gJHtvfTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtufSAke2l9IHVfJHtvfTtcXG4jZW5kaWZcXG5gOmBcXG4jaWZkZWYgSEFTX1VOSUZPUk1fdV8ke299XFxuICAgICR7bn0gJHtpfSAke299ID0gdV8ke299O1xcbiNlbmRpZlxcbmApKSx2ZXJ0ZXhTb3VyY2U6dD10LnJlcGxhY2UobiwoZSx0LG4saSxvKT0+e2NvbnN0IGE9XCJmbG9hdFwiPT09aT9cInZlYzJcIjpcInZlYzRcIixzPW8ubWF0Y2goL2NvbG9yLyk/XCJjb2xvclwiOmE7cmV0dXJuIHJbb10/XCJkZWZpbmVcIj09PXQ/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke299XFxudW5pZm9ybSBsb3dwIGZsb2F0IHVfJHtvfV90O1xcbmF0dHJpYnV0ZSAke259ICR7YX0gYV8ke299O1xcbnZhcnlpbmcgJHtufSAke2l9ICR7b307XFxuI2Vsc2VcXG51bmlmb3JtICR7bn0gJHtpfSB1XyR7b307XFxuI2VuZGlmXFxuYDpcInZlYzRcIj09PXM/YFxcbiNpZm5kZWYgSEFTX1VOSUZPUk1fdV8ke299XFxuICAgICR7b30gPSBhXyR7b307XFxuI2Vsc2VcXG4gICAgJHtufSAke2l9ICR7b30gPSB1XyR7b307XFxuI2VuZGlmXFxuYDpgXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7b31cXG4gICAgJHtvfSA9IHVucGFja19taXhfJHtzfShhXyR7b30sIHVfJHtvfV90KTtcXG4jZWxzZVxcbiAgICAke259ICR7aX0gJHtvfSA9IHVfJHtvfTtcXG4jZW5kaWZcXG5gOlwiZGVmaW5lXCI9PT10P2BcXG4jaWZuZGVmIEhBU19VTklGT1JNX3VfJHtvfVxcbnVuaWZvcm0gbG93cCBmbG9hdCB1XyR7b31fdDtcXG5hdHRyaWJ1dGUgJHtufSAke2F9IGFfJHtvfTtcXG4jZWxzZVxcbnVuaWZvcm0gJHtufSAke2l9IHVfJHtvfTtcXG4jZW5kaWZcXG5gOlwidmVjNFwiPT09cz9gXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7b31cXG4gICAgJHtufSAke2l9ICR7b30gPSBhXyR7b307XFxuI2Vsc2VcXG4gICAgJHtufSAke2l9ICR7b30gPSB1XyR7b307XFxuI2VuZGlmXFxuYDpgXFxuI2lmbmRlZiBIQVNfVU5JRk9STV91XyR7b31cXG4gICAgJHtufSAke2l9ICR7b30gPSB1bnBhY2tfbWl4XyR7c30oYV8ke299LCB1XyR7b31fdCk7XFxuI2Vsc2VcXG4gICAgJHtufSAke2l9ICR7b30gPSB1XyR7b307XFxuI2VuZGlmXFxuYH0pLHN0YXRpY0F0dHJpYnV0ZXM6aSx1c2VkRGVmaW5lczpvfX1jbGFzcyBmbntjb25zdHJ1Y3Rvcigpe3RoaXMuYm91bmRQcm9ncmFtPW51bGwsdGhpcy5ib3VuZExheW91dFZlcnRleEJ1ZmZlcj1udWxsLHRoaXMuYm91bmRQYWludFZlcnRleEJ1ZmZlcnM9W10sdGhpcy5ib3VuZEluZGV4QnVmZmVyPW51bGwsdGhpcy5ib3VuZFZlcnRleE9mZnNldD1udWxsLHRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVycz1bXSx0aGlzLnZhbz1udWxsfWJpbmQoZSx0LG4saSxyLG8sYSl7dGhpcy5jb250ZXh0PWU7bGV0IHM9dGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVycy5sZW5ndGghPT1pLmxlbmd0aDtmb3IobGV0IGU9MDshcyYmZTxpLmxlbmd0aDtlKyspdGhpcy5ib3VuZFBhaW50VmVydGV4QnVmZmVyc1tlXSE9PWlbZV0mJihzPSEwKTtsZXQgbD10aGlzLmJvdW5kRHluYW1pY1ZlcnRleEJ1ZmZlcnMubGVuZ3RoIT09YS5sZW5ndGg7Zm9yKGxldCBlPTA7IWwmJmU8YS5sZW5ndGg7ZSsrKXRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVyc1tlXSE9PWFbZV0mJihsPSEwKTtpZighZS5leHRWZXJ0ZXhBcnJheU9iamVjdHx8IXRoaXMudmFvfHx0aGlzLmJvdW5kUHJvZ3JhbSE9PXR8fHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXIhPT1ufHxzfHxsfHx0aGlzLmJvdW5kSW5kZXhCdWZmZXIhPT1yfHx0aGlzLmJvdW5kVmVydGV4T2Zmc2V0IT09byl0aGlzLmZyZXNoQmluZCh0LG4saSxyLG8sYSk7ZWxzZXtlLmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pO2Zvcihjb25zdCBlIG9mIGEpZSYmZS5iaW5kKCk7ciYmci5keW5hbWljRHJhdyYmci5iaW5kKCl9fWZyZXNoQmluZChlLHQsbixpLHIsbyl7bGV0IGE7Y29uc3Qgcz1lLm51bUF0dHJpYnV0ZXMsbD10aGlzLmNvbnRleHQsYz1sLmdsO2lmKGwuZXh0VmVydGV4QXJyYXlPYmplY3QpdGhpcy52YW8mJnRoaXMuZGVzdHJveSgpLHRoaXMudmFvPWwuZXh0VmVydGV4QXJyYXlPYmplY3QuY3JlYXRlVmVydGV4QXJyYXlPRVMoKSxsLmJpbmRWZXJ0ZXhBcnJheU9FUy5zZXQodGhpcy52YW8pLGE9MCx0aGlzLmJvdW5kUHJvZ3JhbT1lLHRoaXMuYm91bmRMYXlvdXRWZXJ0ZXhCdWZmZXI9dCx0aGlzLmJvdW5kUGFpbnRWZXJ0ZXhCdWZmZXJzPW4sdGhpcy5ib3VuZEluZGV4QnVmZmVyPWksdGhpcy5ib3VuZFZlcnRleE9mZnNldD1yLHRoaXMuYm91bmREeW5hbWljVmVydGV4QnVmZmVycz1vO2Vsc2V7YT1sLmN1cnJlbnROdW1BdHRyaWJ1dGVzfHwwO2ZvcihsZXQgZT1zO2U8YTtlKyspYy5kaXNhYmxlVmVydGV4QXR0cmliQXJyYXkoZSl9dC5lbmFibGVBdHRyaWJ1dGVzKGMsZSksdC5iaW5kKCksdC5zZXRWZXJ0ZXhBdHRyaWJQb2ludGVycyhjLGUscik7Zm9yKGNvbnN0IHQgb2Ygbil0LmVuYWJsZUF0dHJpYnV0ZXMoYyxlKSx0LmJpbmQoKSx0LnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGMsZSxyKTtmb3IoY29uc3QgdCBvZiBvKXQmJih0LmVuYWJsZUF0dHJpYnV0ZXMoYyxlKSx0LmJpbmQoKSx0LnNldFZlcnRleEF0dHJpYlBvaW50ZXJzKGMsZSxyKSk7aSYmaS5iaW5kKCksbC5jdXJyZW50TnVtQXR0cmlidXRlcz1zfWRlc3Ryb3koKXt0aGlzLnZhbyYmKHRoaXMuY29udGV4dC5leHRWZXJ0ZXhBcnJheU9iamVjdC5kZWxldGVWZXJ0ZXhBcnJheU9FUyh0aGlzLnZhbyksdGhpcy52YW89bnVsbCl9fWZ1bmN0aW9uIG1uKHQsbil7Y29uc3QgaT1NYXRoLnBvdygyLG4uY2Fub25pY2FsLnopLHI9bi5jYW5vbmljYWwueTtyZXR1cm5bbmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKDAsci9pKS50b0xuZ0xhdCgpLmxhdCxuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoMCwocisxKS9pKS50b0xuZ0xhdCgpLmxhdF19ZnVuY3Rpb24gZ24odCxuLGkscixvLGEscyl7Y29uc3QgbD10LmNvbnRleHQsYz1sLmdsLHU9aS5mYm87aWYoIXUpcmV0dXJuO3QucHJlcGFyZURyYXdUaWxlKCk7Y29uc3QgaD10LnVzZVByb2dyYW0oXCJoaWxsc2hhZGVcIik7bC5hY3RpdmVUZXh0dXJlLnNldChjLlRFWFRVUkUwKSxjLmJpbmRUZXh0dXJlKGMuVEVYVFVSRV8yRCx1LmNvbG9yQXR0YWNobWVudC5nZXQoKSk7Y29uc3QgZD0oKGUsdCxuLGkpPT57Y29uc3Qgcj1uLnBhaW50LmdldChcImhpbGxzaGFkZS1zaGFkb3ctY29sb3JcIiksbz1uLnBhaW50LmdldChcImhpbGxzaGFkZS1oaWdobGlnaHQtY29sb3JcIiksYT1uLnBhaW50LmdldChcImhpbGxzaGFkZS1hY2NlbnQtY29sb3JcIik7bGV0IHM9bi5wYWludC5nZXQoXCJoaWxsc2hhZGUtaWxsdW1pbmF0aW9uLWRpcmVjdGlvblwiKSooTWF0aC5QSS8xODApO1widmlld3BvcnRcIj09PW4ucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWlsbHVtaW5hdGlvbi1hbmNob3JcIikmJihzLT1lLnRyYW5zZm9ybS5hbmdsZSk7Y29uc3QgbD0hZS5vcHRpb25zLm1vdmluZztyZXR1cm57dV9tYXRyaXg6aXx8ZS50cmFuc2Zvcm0uY2FsY3VsYXRlUHJvak1hdHJpeCh0LnRpbGVJRC50b1Vud3JhcHBlZCgpLGwpLHVfaW1hZ2U6MCx1X2xhdHJhbmdlOm1uKDAsdC50aWxlSUQpLHVfbGlnaHQ6W24ucGFpbnQuZ2V0KFwiaGlsbHNoYWRlLWV4YWdnZXJhdGlvblwiKSxzXSx1X3NoYWRvdzpyLHVfaGlnaGxpZ2h0Om8sdV9hY2NlbnQ6YX19KSh0LGkscix0LnRlcnJhaW4/bi5wcm9qTWF0cml4Om51bGwpO3QucHJlcGFyZURyYXdQcm9ncmFtKGwsaCxuLnRvVW53cmFwcGVkKCkpO2NvbnN0e3RpbGVCb3VuZHNCdWZmZXI6cCx0aWxlQm91bmRzSW5kZXhCdWZmZXI6Zix0aWxlQm91bmRzU2VnbWVudHM6bX09dC5nZXRUaWxlQm91bmRzQnVmZmVycyhpKTtoLmRyYXcobCxjLlRSSUFOR0xFUyxvLGEscyxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxkLHIuaWQscCxmLG0pfWZ1bmN0aW9uIHluKHQsbixpKXtpZighbi5uZWVkc0RFTVRleHR1cmVVcGxvYWQpcmV0dXJuO2NvbnN0IHI9dC5jb250ZXh0LG89ci5nbDtyLnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldCghMSksbi5kZW1UZXh0dXJlPW4uZGVtVGV4dHVyZXx8dC5nZXRUaWxlVGV4dHVyZShpLnN0cmlkZSk7Y29uc3QgYT1pLmdldFBpeGVscygpO24uZGVtVGV4dHVyZT9uLmRlbVRleHR1cmUudXBkYXRlKGEse3ByZW11bHRpcGx5OiExfSk6bi5kZW1UZXh0dXJlPW5ldyBlLlRleHR1cmUocixhLG8uUkdCQSx7cHJlbXVsdGlwbHk6ITF9KSxuLm5lZWRzREVNVGV4dHVyZVVwbG9hZD0hMX1mdW5jdGlvbiBfbih0LG4saSxyLG8sYSl7Y29uc3Qgcz10LmNvbnRleHQsbD1zLmdsO2lmKCFuLmRlbSlyZXR1cm47Y29uc3QgYz1uLmRlbTtpZihzLmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTEpLHluKHQsbixjKSwhbi5kZW1UZXh0dXJlKXJldHVybjtuLmRlbVRleHR1cmUuYmluZChsLk5FQVJFU1QsbC5DTEFNUF9UT19FREdFKTtjb25zdCB1PWMuZGltO3MuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCk7bGV0IGg9bi5mYm87aWYoIWgpe2NvbnN0IHQ9bmV3IGUuVGV4dHVyZShzLHt3aWR0aDp1LGhlaWdodDp1LGRhdGE6bnVsbH0sbC5SR0JBKTt0LmJpbmQobC5MSU5FQVIsbC5DTEFNUF9UT19FREdFKSxoPW4uZmJvPXMuY3JlYXRlRnJhbWVidWZmZXIodSx1LCEwKSxoLmNvbG9yQXR0YWNobWVudC5zZXQodC50ZXh0dXJlKX1zLmJpbmRGcmFtZWJ1ZmZlci5zZXQoaC5mcmFtZWJ1ZmZlcikscy52aWV3cG9ydC5zZXQoWzAsMCx1LHVdKTtjb25zdHt0aWxlQm91bmRzQnVmZmVyOmQsdGlsZUJvdW5kc0luZGV4QnVmZmVyOnAsdGlsZUJvdW5kc1NlZ21lbnRzOmZ9PXQuZ2V0TWVyY2F0b3JUaWxlQm91bmRzQnVmZmVycygpO3QudXNlUHJvZ3JhbShcImhpbGxzaGFkZVByZXBhcmVcIikuZHJhdyhzLGwuVFJJQU5HTEVTLHIsbyxhLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLCgodCxuKT0+e2NvbnN0IGk9bi5zdHJpZGUscj1lLmNyZWF0ZSgpO3JldHVybiBlLm9ydGhvKHIsMCxlLkVYVEVOVCwtZS5FWFRFTlQsMCwwLDEpLGUudHJhbnNsYXRlKHIscixbMCwtZS5FWFRFTlQsMF0pLHt1X21hdHJpeDpyLHVfaW1hZ2U6MSx1X2RpbWVuc2lvbjpbaSxpXSx1X3pvb206dC5vdmVyc2NhbGVkWix1X3VucGFjazpuLnVucGFja1ZlY3Rvcn19KShuLnRpbGVJRCxjKSxpLmlkLGQscCxmKSxuLm5lZWRzSGlsbHNoYWRlUHJlcGFyZT0hMX1jb25zdCB2bj10PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ltYWdlMDpuZXcgZS5Vbmlmb3JtMWkodCksdV9za2lydF9oZWlnaHQ6bmV3IGUuVW5pZm9ybTFmKHQpfSkseG49KGUsdCk9Pih7dV9tYXRyaXg6ZSx1X2ltYWdlMDowLHVfc2tpcnRfaGVpZ2h0OnR9KSxibj0oZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwKT0+KHt1X3Byb2pfbWF0cml4OkZsb2F0MzJBcnJheS5mcm9tKGUpLHVfZ2xvYmVfbWF0cml4OnQsdV9ub3JtYWxpemVfbWF0cml4OkZsb2F0MzJBcnJheS5mcm9tKGkpLHVfbWVyY19tYXRyaXg6bix1X3pvb21fdHJhbnNpdGlvbjpyLHVfbWVyY19jZW50ZXI6byx1X2ltYWdlMDowLHVfZnJ1c3R1bV90bDphLHVfZnJ1c3R1bV90cjpzLHVfZnJ1c3R1bV9icjpsLHVfZnJ1c3R1bV9ibDpjLHVfZ2xvYmVfcG9zOnUsdV9nbG9iZV9yYWRpdXM6aCx1X3ZpZXdwb3J0OmQsdV9ncmlkX21hdHJpeDpwP0Zsb2F0MzJBcnJheS5mcm9tKHApOm5ldyBGbG9hdDMyQXJyYXkoOSl9KTtmdW5jdGlvbiB3bihlLHQpe3JldHVybiBudWxsIT1lJiZudWxsIT10JiYhKCFlLmhhc0RhdGEoKXx8IXQuaGFzRGF0YSgpKSYmbnVsbCE9ZS5kZW1UZXh0dXJlJiZudWxsIT10LmRlbVRleHR1cmUmJmUudGlsZUlELmtleSE9PXQudGlsZUlELmtleX1jb25zdCBUbj1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLm9wZXJhdGlvbnM9e319bmV3TW9ycGhpbmcoZSx0LG4saSxyKXtpZihlIGluIHRoaXMub3BlcmF0aW9ucyl7Y29uc3QgdD10aGlzLm9wZXJhdGlvbnNbZV07dC50by50aWxlSUQua2V5IT09bi50aWxlSUQua2V5JiYodC5xdWV1ZWQ9bil9ZWxzZSB0aGlzLm9wZXJhdGlvbnNbZV09e3N0YXJ0VGltZTppLHBoYXNlOjAsZHVyYXRpb246cixmcm9tOnQsdG86bixxdWV1ZWQ6bnVsbH19Z2V0TW9ycGhWYWx1ZXNGb3JQcm94eShlKXtpZighKGUgaW4gdGhpcy5vcGVyYXRpb25zKSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMub3BlcmF0aW9uc1tlXTtyZXR1cm57ZnJvbTp0LmZyb20sdG86dC50byxwaGFzZTp0LnBoYXNlfX11cGRhdGUoZSl7Zm9yKGNvbnN0IHQgaW4gdGhpcy5vcGVyYXRpb25zKXtjb25zdCBuPXRoaXMub3BlcmF0aW9uc1t0XTtmb3Iobi5waGFzZT0oZS1uLnN0YXJ0VGltZSkvbi5kdXJhdGlvbjtuLnBoYXNlPj0xfHwhdGhpcy5fdmFsaWRPcChuKTspaWYoIXRoaXMuX25leHRPcChuLGUpKXtkZWxldGUgdGhpcy5vcGVyYXRpb25zW3RdO2JyZWFrfX19X25leHRPcChlLHQpe3JldHVybiEhZS5xdWV1ZWQmJihlLmZyb209ZS50byxlLnRvPWUucXVldWVkLGUucXVldWVkPW51bGwsZS5waGFzZT0wLGUuc3RhcnRUaW1lPXQsITApfV92YWxpZE9wKGUpe3JldHVybiBlLmZyb20uaGFzRGF0YSgpJiZlLnRvLmhhc0RhdGEoKX19LEVuPXswOm51bGwsMTpcIlRFUlJBSU5fVkVSVEVYX01PUlBISU5HXCIsMjpcIlRFUlJBSU5fV0lSRUZSQU1FXCJ9O2Z1bmN0aW9uIFNuKGUsdCl7Y29uc3Qgbj0xPDxlLno7cmV0dXJuIXQmJigwPT09ZS54fHxlLng9PT1uLTEpfHwwPT09ZS55fHxlLnk9PT1uLTF9Y29uc3QgTW49ZT0+KHt1X21hdHJpeDplfSk7ZnVuY3Rpb24gSW4odCxuLGkscixvKXtpZihvPjApe2NvbnN0IGE9ZS5leHBvcnRlZC5ub3coKSxzPShhLXQudGltZUFkZGVkKS9vLGw9bj8oYS1uLnRpbWVBZGRlZCkvbzotMSxjPWkuZ2V0U291cmNlKCksdT1yLmNvdmVyaW5nWm9vbUxldmVsKHt0aWxlU2l6ZTpjLnRpbGVTaXplLHJvdW5kWm9vbTpjLnJvdW5kWm9vbX0pLGg9IW58fE1hdGguYWJzKG4udGlsZUlELm92ZXJzY2FsZWRaLXUpPk1hdGguYWJzKHQudGlsZUlELm92ZXJzY2FsZWRaLXUpLGQ9aCYmdC5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj8xOmUuY2xhbXAoaD9zOjEtbCwwLDEpO3JldHVybiB0LnJlZnJlc2hlZFVwb25FeHBpcmF0aW9uJiZzPj0xJiYodC5yZWZyZXNoZWRVcG9uRXhwaXJhdGlvbj0hMSksbj97b3BhY2l0eToxLG1peDoxLWR9OntvcGFjaXR5OmQsbWl4OjB9fXJldHVybntvcGFjaXR5OjEsbWl4OjB9fWNsYXNzIENuIGV4dGVuZHMgZS5Tb3VyY2VDYWNoZXtjb25zdHJ1Y3RvcihlKXtjb25zdCB0PXt0eXBlOlwicmFzdGVyLWRlbVwiLG1heHpvb206ZS50cmFuc2Zvcm0ubWF4Wm9vbX0sbj1uZXcgeihVZSgpLG51bGwpLGk9emUoXCJtb2NrLWRlbVwiLHQsbixlLnN0eWxlKTtzdXBlcihcIm1vY2stZGVtXCIsaSwhMSksaS5zZXRFdmVudGVkUGFyZW50KHRoaXMpLHRoaXMuX3NvdXJjZUxvYWRlZD0hMH1fbG9hZFRpbGUoZSx0KXtlLnN0YXRlPVwibG9hZGVkXCIsdChudWxsKX19Y2xhc3Mga24gZXh0ZW5kcyBlLlNvdXJjZUNhY2hle2NvbnN0cnVjdG9yKGUpe2NvbnN0IHQ9emUoXCJwcm94eVwiLHt0eXBlOlwiZ2VvanNvblwiLG1heHpvb206ZS50cmFuc2Zvcm0ubWF4Wm9vbX0sbmV3IHooVWUoKSxudWxsKSxlLnN0eWxlKTtzdXBlcihcInByb3h5XCIsdCwhMSksdC5zZXRFdmVudGVkUGFyZW50KHRoaXMpLHRoaXMubWFwPXRoaXMuZ2V0U291cmNlKCkubWFwPWUsdGhpcy51c2VkPXRoaXMuX3NvdXJjZUxvYWRlZD0hMCx0aGlzLnJlbmRlckNhY2hlPVtdLHRoaXMucmVuZGVyQ2FjaGVQb29sPVtdLHRoaXMucHJveHlDYWNoZWRGQk89e319dXBkYXRlKHQsbixpKXtpZih0LmZyZWV6ZVRpbGVDb3ZlcmFnZSlyZXR1cm47dGhpcy50cmFuc2Zvcm09dDtjb25zdCByPXQuY292ZXJpbmdUaWxlcyh7dGlsZVNpemU6dGhpcy5fc291cmNlLnRpbGVTaXplLG1pbnpvb206dGhpcy5fc291cmNlLm1pbnpvb20sbWF4em9vbTp0aGlzLl9zb3VyY2UubWF4em9vbSxyb3VuZFpvb206dGhpcy5fc291cmNlLnJvdW5kWm9vbSxyZXBhcnNlT3ZlcnNjYWxlZDp0aGlzLl9zb3VyY2UucmVwYXJzZU92ZXJzY2FsZWR9KS5yZWR1Y2UoKG4saSk9PntpZihuW2kua2V5XT1cIlwiLCF0aGlzLl90aWxlc1tpLmtleV0pe2NvbnN0IG49bmV3IGUuVGlsZShpLHRoaXMuX3NvdXJjZS50aWxlU2l6ZSppLm92ZXJzY2FsZUZhY3RvcigpLHQudGlsZVpvb20pO24uc3RhdGU9XCJsb2FkZWRcIix0aGlzLl90aWxlc1tpLmtleV09bn1yZXR1cm4gbn0se30pO2Zvcihjb25zdCBlIGluIHRoaXMuX3RpbGVzKWUgaW4gcnx8KHRoaXMuZnJlZUZCTyhlKSx0aGlzLl90aWxlc1tlXS51bmxvYWRWZWN0b3JEYXRhKCksZGVsZXRlIHRoaXMuX3RpbGVzW2VdKX1mcmVlRkJPKGUpe2NvbnN0IHQ9dGhpcy5wcm94eUNhY2hlZEZCT1tlXTtpZih2b2lkIDAhPT10KXtjb25zdCBuPU9iamVjdC52YWx1ZXModCk7dGhpcy5yZW5kZXJDYWNoZVBvb2wucHVzaCguLi5uKSxkZWxldGUgdGhpcy5wcm94eUNhY2hlZEZCT1tlXX19ZGVhbGxvY1JlbmRlckNhY2hlKCl7dGhpcy5yZW5kZXJDYWNoZS5mb3JFYWNoKGU9PmUuZmIuZGVzdHJveSgpKSx0aGlzLnJlbmRlckNhY2hlPVtdLHRoaXMucmVuZGVyQ2FjaGVQb29sPVtdLHRoaXMucHJveHlDYWNoZWRGQk89e319fWNsYXNzIEFuIGV4dGVuZHMgZS5PdmVyc2NhbGVkVGlsZUlEe2NvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihlLm92ZXJzY2FsZWRaLGUud3JhcCxlLmNhbm9uaWNhbC56LGUuY2Fub25pY2FsLngsZS5jYW5vbmljYWwueSksdGhpcy5wcm94eVRpbGVLZXk9dCx0aGlzLnByb2pNYXRyaXg9bn19Y2xhc3MgUG4gZXh0ZW5kcyBlLkVsZXZhdGlvbntjb25zdHJ1Y3Rvcih0LG4pe3N1cGVyKCksdGhpcy5wYWludGVyPXQsdGhpcy50ZXJyYWluVGlsZUZvclRpbGU9e30sdGhpcy5wcmV2VGVycmFpblRpbGVGb3JUaWxlPXt9O2NvbnN0W2kscixvXT1mdW5jdGlvbih0KXtjb25zdCBuPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0NGk4LGk9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQzdWk2LHI9MTMxO24ucmVzZXJ2ZSgxNzE2MSksaS5yZXNlcnZlKDMzODAwKTtjb25zdCBvPWUuRVhURU5ULzEyOCxhPWUuRVhURU5UK28vMixzPWErbztmb3IobGV0IHQ9LW87dDxzO3QrPW8pZm9yKGxldCBpPS1vO2k8cztpKz1vKXtjb25zdCByPWk8MHx8aT5hfHx0PDB8fHQ+YT8yNDU3NTowLG89ZS5jbGFtcChNYXRoLnJvdW5kKGkpLDAsZS5FWFRFTlQpLHM9ZS5jbGFtcChNYXRoLnJvdW5kKHQpLDAsZS5FWFRFTlQpO24uZW1wbGFjZUJhY2sobytyLHMsbyxzKX1jb25zdCBsPShlLHQpPT57Y29uc3Qgbj10KnIrZTtpLmVtcGxhY2VCYWNrKG4rMSxuLG4rciksaS5lbXBsYWNlQmFjayhuK3IsbityKzEsbisxKX07Zm9yKGxldCBlPTE7ZTwxMjk7ZSsrKWZvcihsZXQgdD0xO3Q8MTI5O3QrKylsKHQsZSk7cmV0dXJuWzAsMTI5XS5mb3JFYWNoKGU9Pntmb3IobGV0IHQ9MDt0PDEzMDt0KyspbCh0LGUpLGwoZSx0KX0pLFtuLGksMzI3NjhdfSgpLGE9dC5jb250ZXh0O3RoaXMuZ3JpZEJ1ZmZlcj1hLmNyZWF0ZVZlcnRleEJ1ZmZlcihpLGUuYm91bmRzQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLmdyaWRJbmRleEJ1ZmZlcj1hLmNyZWF0ZUluZGV4QnVmZmVyKHIpLHRoaXMuZ3JpZFNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCxpLmxlbmd0aCxyLmxlbmd0aCksdGhpcy5ncmlkTm9Ta2lydFNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCxpLmxlbmd0aCxvKSx0aGlzLnByb3h5Q29vcmRzPVtdLHRoaXMucHJveGllZENvb3Jkcz17fSx0aGlzLl92aXNpYmxlRGVtVGlsZXM9W10sdGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcz1bXSx0aGlzLl9zb3VyY2VUaWxlc092ZXJsYXA9e30sdGhpcy5wcm94eVNvdXJjZUNhY2hlPW5ldyBrbihuLm1hcCksdGhpcy5vcnRob01hdHJpeD1lLmNyZWF0ZSgpLGUub3J0aG8odGhpcy5vcnRob01hdHJpeCxcImdsb2JlXCI9PT10aGlzLnBhaW50ZXIudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZT8uMDE1OjAsZS5FWFRFTlQsMCxlLkVYVEVOVCwwLDEpO2NvbnN0IHM9YS5nbDt0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGU9bmV3IGUuU3RlbmNpbE1vZGUoe2Z1bmM6cy5HRVFVQUwsbWFzazoyNTV9LDAsMjU1LHMuS0VFUCxzLktFRVAscy5SRVBMQUNFKSx0aGlzLl9wcmV2aW91c1pvb209dC50cmFuc2Zvcm0uem9vbSx0aGlzLnBvb2w9W10sdGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlPXt9LHRoaXMuX3RpbGVzRGlydHk9e30sdGhpcy5zdHlsZT1uLHRoaXMuX3VzZVZlcnRleE1vcnBoaW5nPSEwLHRoaXMuX2V4YWdnZXJhdGlvbj0xLHRoaXMuX21vY2tTb3VyY2VDYWNoZT1uZXcgQ24obi5tYXApfXNldCBzdHlsZShlKXtlLm9uKFwiZGF0YVwiLHRoaXMuX29uU3R5bGVEYXRhRXZlbnQuYmluZCh0aGlzKSksZS5vbihcIm5ld29yZGVyXCIsdGhpcy5fY2hlY2tSZW5kZXJDYWNoZUVmZmljaWVuY3kuYmluZCh0aGlzKSksdGhpcy5fc3R5bGU9ZSx0aGlzLl9jaGVja1JlbmRlckNhY2hlRWZmaWNpZW5jeSgpfXVwZGF0ZSh0LG4saSl7aWYodCYmdC50ZXJyYWluKXt0aGlzLl9zdHlsZSE9PXQmJih0aGlzLnN0eWxlPXQpLHRoaXMuZW5hYmxlZD0hMDtjb25zdCByPXQudGVycmFpbi5wcm9wZXJ0aWVzO3RoaXMuc291cmNlQ2FjaGU9MD09PXQudGVycmFpbi5kcmFwZVJlbmRlck1vZGU/dGhpcy5fbW9ja1NvdXJjZUNhY2hlOnQuX2dldFNvdXJjZUNhY2hlKHIuZ2V0KFwic291cmNlXCIpKSx0aGlzLl9leGFnZ2VyYXRpb249ci5nZXQoXCJleGFnZ2VyYXRpb25cIik7Y29uc3Qgbz0oKT0+e3RoaXMuc291cmNlQ2FjaGUudXNlZCYmZS53YXJuT25jZShgUmFzdGVyIERFTSBzb3VyY2UgJyR7dGhpcy5zb3VyY2VDYWNoZS5pZH0nIGlzIHVzZWQgYm90aCBmb3IgdGVycmFpbiBhbmQgYXMgbGF5ZXIgc291cmNlLlxcblRoaXMgbGVhZHMgdG8gbG93ZXIgcmVzb2x1dGlvbiBvZiBoaWxsc2hhZGUuIEZvciBmdWxsIGhpbGxzaGFkZSByZXNvbHV0aW9uIGJ1dCBoaWdoZXIgbWVtb3J5IGNvbnN1bXB0aW9uLCBkZWZpbmUgYW5vdGhlciByYXN0ZXIgREVNIHNvdXJjZS5gKTtjb25zdCB0PXRoaXMuZ2V0U2NhbGVkRGVtVGlsZVNpemUoKTt0aGlzLnNvdXJjZUNhY2hlLnVwZGF0ZShuLHQsITApLHRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5zb3VyY2VDYWNoZS5pZCl9O3RoaXMuc291cmNlQ2FjaGUudXNlZEZvclRlcnJhaW58fCh0aGlzLnJlc2V0VGlsZUxvb2t1cENhY2hlKHRoaXMuc291cmNlQ2FjaGUuaWQpLHRoaXMuc291cmNlQ2FjaGUudXNlZEZvclRlcnJhaW49ITAsbygpLHRoaXMuX2luaXRpYWxpemluZz0hMCksbygpLG4udXBkYXRlRWxldmF0aW9uKCEwLGkpLHRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUodGhpcy5wcm94eVNvdXJjZUNhY2hlLmlkKSx0aGlzLnByb3h5U291cmNlQ2FjaGUudXBkYXRlKG4pLHRoaXMuX2VtcHR5REVNVGV4dHVyZURpcnR5PSEwfWVsc2UgdGhpcy5fZGlzYWJsZSgpfXJlc2V0VGlsZUxvb2t1cENhY2hlKGUpe3RoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtlXT17fX1nZXRTY2FsZWREZW1UaWxlU2l6ZSgpe3JldHVybiB0aGlzLnNvdXJjZUNhY2hlLmdldFNvdXJjZSgpLnRpbGVTaXplLzEyOCp0aGlzLnByb3h5U291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemV9X2NoZWNrUmVuZGVyQ2FjaGVFZmZpY2llbmN5KCl7Y29uc3QgdD10aGlzLnJlbmRlckNhY2hlRWZmaWNpZW5jeSh0aGlzLl9zdHlsZSk7dGhpcy5fc3R5bGUubWFwLl9vcHRpbWl6ZUZvclRlcnJhaW58fDEwMCE9PXQuZWZmaWNpZW5jeSYmZS53YXJuT25jZShgVGVycmFpbiByZW5kZXIgY2FjaGUgZWZmaWNpZW5jeSBpcyBub3Qgb3B0aW1hbCAoJHt0LmVmZmljaWVuY3l9JSkgYW5kIHBlcmZvcm1hbmNlXFxuICAgICAgICAgICAgICAgIG1heSBiZSBhZmZlY3RlZCBuZWdhdGl2ZWx5LCBjb25zaWRlciBwbGFjaW5nIGFsbCBiYWNrZ3JvdW5kLCBmaWxsIGFuZCBsaW5lIGxheWVycyBiZWZvcmUgbGF5ZXJcXG4gICAgICAgICAgICAgICAgd2l0aCBpZCAnJHt0LmZpcnN0VW5kcmFwZWRMYXllcn0nIG9yIGNyZWF0ZSBhIG1hcCB1c2luZyBvcHRpbWl6ZUZvclRlcnJhaW46IHRydWUgb3B0aW9uLmApfV9vblN0eWxlRGF0YUV2ZW50KGUpe2UuY29vcmQmJlwic291cmNlXCI9PT1lLmRhdGFUeXBlP3RoaXMuX2NsZWFyUmVuZGVyQ2FjaGVGb3JUaWxlKGUuc291cmNlQ2FjaGVJZCxlLmNvb3JkKTpcInN0eWxlXCI9PT1lLmRhdGFUeXBlJiYodGhpcy5faW52YWxpZGF0ZVJlbmRlckNhY2hlPSEwKX1fZGlzYWJsZSgpe2lmKHRoaXMuZW5hYmxlZCYmKHRoaXMuZW5hYmxlZD0hMSx0aGlzLl9zaGFyZWREZXB0aFN0ZW5jaWw9dm9pZCAwLHRoaXMucHJveHlTb3VyY2VDYWNoZS5kZWFsbG9jUmVuZGVyQ2FjaGUoKSx0aGlzLl9zdHlsZSkpZm9yKGNvbnN0IGUgaW4gdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlcyl0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzW2VdLnVzZWRGb3JUZXJyYWluPSExfWRlc3Ryb3koKXt0aGlzLl9kaXNhYmxlKCksdGhpcy5fZW1wdHlERU1UZXh0dXJlJiZ0aGlzLl9lbXB0eURFTVRleHR1cmUuZGVzdHJveSgpLHRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlJiZ0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZS5kZXN0cm95KCksdGhpcy5wb29sLmZvckVhY2goZT0+ZS5mYi5kZXN0cm95KCkpLHRoaXMucG9vbD1bXSx0aGlzLl9kZXB0aEZCTyYmKHRoaXMuX2RlcHRoRkJPLmRlc3Ryb3koKSx0aGlzLl9kZXB0aEZCTz12b2lkIDAsdGhpcy5fZGVwdGhUZXh0dXJlPXZvaWQgMCl9X3NvdXJjZSgpe3JldHVybiB0aGlzLmVuYWJsZWQ/dGhpcy5zb3VyY2VDYWNoZTpudWxsfWlzVXNpbmdNb2NrU291cmNlKCl7cmV0dXJuIHRoaXMuc291cmNlQ2FjaGU9PT10aGlzLl9tb2NrU291cmNlQ2FjaGV9ZXhhZ2dlcmF0aW9uKCl7cmV0dXJuIHRoaXMuX2V4YWdnZXJhdGlvbn1nZXQgdmlzaWJsZURlbVRpbGVzKCl7cmV0dXJuIHRoaXMuX3Zpc2libGVEZW1UaWxlc31nZXQgZHJhcGVCdWZmZXJTaXplKCl7Y29uc3QgZT0yKnRoaXMucHJveHlTb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZTtyZXR1cm5bZSxlXX1zZXQgdXNlVmVydGV4TW9ycGhpbmcoZSl7dGhpcy5fdXNlVmVydGV4TW9ycGhpbmc9ZX11cGRhdGVUaWxlQmluZGluZyh0KXtpZighdGhpcy5lbmFibGVkKXJldHVybjt0aGlzLnByZXZUZXJyYWluVGlsZUZvclRpbGU9dGhpcy50ZXJyYWluVGlsZUZvclRpbGU7Y29uc3Qgbj10aGlzLnByb3h5U291cmNlQ2FjaGUsaT10aGlzLnBhaW50ZXIudHJhbnNmb3JtO3RoaXMuX2luaXRpYWxpemluZyYmKHRoaXMuX2luaXRpYWxpemluZz0wPT09aS5fY2VudGVyQWx0aXR1ZGUmJi0xPT09dGhpcy5nZXRBdFBvaW50T3JaZXJvKGUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoaS5jZW50ZXIpLC0xKSx0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eT0hdGhpcy5faW5pdGlhbGl6aW5nKTtjb25zdCByPXRoaXMucHJveHlDb29yZHM9bi5nZXRJZHMoKS5tYXAoZT0+e2NvbnN0IHQ9bi5nZXRUaWxlQnlJRChlKS50aWxlSUQ7cmV0dXJuIHQucHJvak1hdHJpeD1pLmNhbGN1bGF0ZVByb2pNYXRyaXgodC50b1Vud3JhcHBlZCgpKSx0fSk7IWZ1bmN0aW9uKHQsbil7Y29uc3QgaT1uLnRyYW5zZm9ybS5wb2ludENvb3JkaW5hdGUobi50cmFuc2Zvcm0uZ2V0Q2FtZXJhUG9pbnQoKSkscj1uZXcgZS5wb2ludEdlb21ldHJ5KGkueCxpLnkpO3Quc29ydCgodCxuKT0+e2lmKG4ub3ZlcnNjYWxlZFotdC5vdmVyc2NhbGVkWilyZXR1cm4gbi5vdmVyc2NhbGVkWi10Lm92ZXJzY2FsZWRaO2NvbnN0IGk9bmV3IGUucG9pbnRHZW9tZXRyeSh0LmNhbm9uaWNhbC54KygxPDx0LmNhbm9uaWNhbC56KSp0LndyYXAsdC5jYW5vbmljYWwueSksbz1uZXcgZS5wb2ludEdlb21ldHJ5KG4uY2Fub25pY2FsLngrKDE8PG4uY2Fub25pY2FsLnopKm4ud3JhcCxuLmNhbm9uaWNhbC55KSxhPXIubXVsdCgxPDx0LmNhbm9uaWNhbC56KTtyZXR1cm4gYS54LT0uNSxhLnktPS41LGEuZGlzdFNxcihpKS1hLmRpc3RTcXIobyl9KX0ocix0aGlzLnBhaW50ZXIpLHRoaXMuX3ByZXZpb3VzWm9vbT1pLnpvb207Y29uc3Qgbz10aGlzLnByb3h5VG9Tb3VyY2V8fHt9O3RoaXMucHJveHlUb1NvdXJjZT17fSxyLmZvckVhY2goZT0+e3RoaXMucHJveHlUb1NvdXJjZVtlLmtleV09e319KSx0aGlzLnRlcnJhaW5UaWxlRm9yVGlsZT17fTtjb25zdCBhPXRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXM7Zm9yKGNvbnN0IGUgaW4gYSl7Y29uc3Qgbj1hW2VdO2lmKCFuLnVzZWQpY29udGludWU7aWYobiE9PXRoaXMuc291cmNlQ2FjaGUmJnRoaXMucmVzZXRUaWxlTG9va3VwQ2FjaGUobi5pZCksdGhpcy5fc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8obix0W2VdLG8pLG4udXNlZEZvclRlcnJhaW4pY29udGludWU7Y29uc3QgaT10W2VdO24uZ2V0U291cmNlKCkucmVwYXJzZU92ZXJzY2FsZWQmJnRoaXMuX2Fzc2lnblRlcnJhaW5UaWxlcyhpKX10aGlzLnByb3hpZWRDb29yZHNbbi5pZF09ci5tYXAoZT0+bmV3IEFuKGUsZS5rZXksdGhpcy5vcnRob01hdHJpeCkpLHRoaXMuX2Fzc2lnblRlcnJhaW5UaWxlcyhyKSx0aGlzLl9wcmVwYXJlREVNVGV4dHVyZXMoKSx0aGlzLl9zZXR1cERyYXBlZFJlbmRlckJhdGNoZXMoKSx0aGlzLl9pbml0RkJPUG9vbCgpLHRoaXMuX3NldHVwUmVuZGVyQ2FjaGUobyksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITEsdGhpcy5fdXBkYXRlVGltZXN0YW1wPWUuZXhwb3J0ZWQubm93KCk7Y29uc3Qgcz17fTt0aGlzLl92aXNpYmxlRGVtVGlsZXM9W107Zm9yKGNvbnN0IGUgb2YgdGhpcy5wcm94eUNvb3Jkcyl7Y29uc3QgdD10aGlzLnRlcnJhaW5UaWxlRm9yVGlsZVtlLmtleV07aWYoIXQpY29udGludWU7Y29uc3Qgbj10LnRpbGVJRC5rZXk7biBpbiBzfHwodGhpcy5fdmlzaWJsZURlbVRpbGVzLnB1c2godCksc1tuXT1uKX19X2Fzc2lnblRlcnJhaW5UaWxlcyhlKXt0aGlzLl9pbml0aWFsaXppbmd8fGUuZm9yRWFjaChlPT57aWYodGhpcy50ZXJyYWluVGlsZUZvclRpbGVbZS5rZXldKXJldHVybjtjb25zdCB0PXRoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQoZSx0aGlzLnNvdXJjZUNhY2hlKTt0JiYodGhpcy50ZXJyYWluVGlsZUZvclRpbGVbZS5rZXldPXQpfSl9X3ByZXBhcmVERU1UZXh0dXJlcygpe2NvbnN0IGU9dGhpcy5wYWludGVyLmNvbnRleHQsdD1lLmdsO2Zvcihjb25zdCBuIGluIHRoaXMudGVycmFpblRpbGVGb3JUaWxlKXtjb25zdCBpPXRoaXMudGVycmFpblRpbGVGb3JUaWxlW25dLHI9aS5kZW07IXJ8fGkuZGVtVGV4dHVyZSYmIWkubmVlZHNERU1UZXh0dXJlVXBsb2FkfHwoZS5hY3RpdmVUZXh0dXJlLnNldCh0LlRFWFRVUkUxKSx5bih0aGlzLnBhaW50ZXIsaSxyKSl9fV9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKGUsdCxuLGkpe2lmKCF0fHxudWxsPT10LmRlbVRleHR1cmUpcmV0dXJuITE7Y29uc3Qgcj1lLnRpbGVJRC5jYW5vbmljYWwsbz1NYXRoLnBvdygyLHQudGlsZUlELmNhbm9uaWNhbC56LXIueiksYT1pfHxcIlwiO3JldHVybiBuW1widV9kZW1fdGxcIithXT1bci54Km8lMSxyLnkqbyUxXSxuW1widV9kZW1fc2NhbGVcIithXT1vLCEwfWdldCBlbXB0eURFTVRleHR1cmUoKXtyZXR1cm4hdGhpcy5fZW1wdHlERU1UZXh0dXJlRGlydHkmJnRoaXMuX2VtcHR5REVNVGV4dHVyZT90aGlzLl9lbXB0eURFTVRleHR1cmU6dGhpcy5fdXBkYXRlRW1wdHlERU1UZXh0dXJlKCl9Z2V0IGVtcHR5RGVwdGhCdWZmZXJUZXh0dXJlKCl7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29udGV4dCxuPXQuZ2w7aWYoIXRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlKXtjb25zdCBpPW5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6MSxoZWlnaHQ6MX0sVWludDhBcnJheS5vZigyNTUsMjU1LDI1NSwyNTUpKTt0aGlzLl9lbXB0eURlcHRoQnVmZmVyVGV4dHVyZT1uZXcgZS5UZXh0dXJlKHQsaSxuLlJHQkEse3ByZW11bHRpcGx5OiExfSl9cmV0dXJuIHRoaXMuX2VtcHR5RGVwdGhCdWZmZXJUZXh0dXJlfV9nZXRMb2FkZWRBcmVhTWluaW11bSgpe2xldCBlPTA7Y29uc3QgdD10aGlzLl92aXNpYmxlRGVtVGlsZXMucmVkdWNlKCh0LG4pPT57aWYoIW4uZGVtKXJldHVybiB0O2NvbnN0IGk9bi5kZW0udHJlZS5taW5pbXVtc1swXTtyZXR1cm4gaT4wJiZlKyssdCtpfSwwKTtyZXR1cm4gZT90L2U6MH1fdXBkYXRlRW1wdHlERU1UZXh0dXJlKCl7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29udGV4dCxuPXQuZ2w7dC5hY3RpdmVUZXh0dXJlLnNldChuLlRFWFRVUkUyKTtjb25zdCBpPXRoaXMuX2dldExvYWRlZEFyZWFNaW5pbXVtKCkscj1uZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOjEsaGVpZ2h0OjF9LG5ldyBVaW50OEFycmF5KGUuREVNRGF0YS5wYWNrKGksdGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5lbmNvZGluZykpKTt0aGlzLl9lbXB0eURFTVRleHR1cmVEaXJ0eT0hMTtsZXQgbz10aGlzLl9lbXB0eURFTVRleHR1cmU7cmV0dXJuIG8/by51cGRhdGUocix7cHJlbXVsdGlwbHk6ITF9KTpvPXRoaXMuX2VtcHR5REVNVGV4dHVyZT1uZXcgZS5UZXh0dXJlKHQscixuLlJHQkEse3ByZW11bHRpcGx5OiExfSksb31zZXR1cEVsZXZhdGlvbkRyYXcodCxuLGkpe2NvbnN0IHI9dGhpcy5wYWludGVyLmNvbnRleHQsbz1yLmdsLGE9KHM9dGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS5lbmNvZGluZyx7dV9kZW06Mix1X2RlbV9wcmV2OjQsdV9kZW1fdW5wYWNrOmUuREVNRGF0YS5nZXRVbnBhY2tWZWN0b3IocyksdV9kZW1fdGw6WzAsMF0sdV9kZW1fdGxfcHJldjpbMCwwXSx1X2RlbV9zY2FsZTowLHVfZGVtX3NjYWxlX3ByZXY6MCx1X2RlbV9zaXplOjAsdV9kZW1fbGVycDoxLHVfZGVwdGg6Myx1X2RlcHRoX3NpemVfaW52OlswLDBdLHVfZXhhZ2dlcmF0aW9uOjB9KTt2YXIgczthLnVfZGVtX3NpemU9dGhpcy5zb3VyY2VDYWNoZS5nZXRTb3VyY2UoKS50aWxlU2l6ZSxhLnVfZXhhZ2dlcmF0aW9uPXRoaXMuZXhhZ2dlcmF0aW9uKCk7bGV0IGw9bnVsbCxjPW51bGwsdT0xO2lmKGkmJmkubW9ycGhpbmcmJnRoaXMuX3VzZVZlcnRleE1vcnBoaW5nKXtjb25zdCBlPWkubW9ycGhpbmcuc3JjRGVtVGlsZSxuPWkubW9ycGhpbmcuZHN0RGVtVGlsZTt1PWkubW9ycGhpbmcucGhhc2UsZSYmbiYmKHRoaXMuX3ByZXBhcmVEZW1UaWxlVW5pZm9ybXModCxlLGEsXCJfcHJldlwiKSYmKGM9ZSksdGhpcy5fcHJlcGFyZURlbVRpbGVVbmlmb3Jtcyh0LG4sYSkmJihsPW4pKX1pZihjJiZsPyhyLmFjdGl2ZVRleHR1cmUuc2V0KG8uVEVYVFVSRTIpLGwuZGVtVGV4dHVyZS5iaW5kKG8uTkVBUkVTVCxvLkNMQU1QX1RPX0VER0Usby5ORUFSRVNUKSxyLmFjdGl2ZVRleHR1cmUuc2V0KG8uVEVYVFVSRTQpLGMuZGVtVGV4dHVyZS5iaW5kKG8uTkVBUkVTVCxvLkNMQU1QX1RPX0VER0Usby5ORUFSRVNUKSxhLnVfZGVtX2xlcnA9dSk6KGw9dGhpcy50ZXJyYWluVGlsZUZvclRpbGVbdC50aWxlSUQua2V5XSxyLmFjdGl2ZVRleHR1cmUuc2V0KG8uVEVYVFVSRTIpLCh0aGlzLl9wcmVwYXJlRGVtVGlsZVVuaWZvcm1zKHQsbCxhKT9sLmRlbVRleHR1cmU6dGhpcy5lbXB0eURFTVRleHR1cmUpLmJpbmQoby5ORUFSRVNULG8uQ0xBTVBfVE9fRURHRSkpLHIuYWN0aXZlVGV4dHVyZS5zZXQoby5URVhUVVJFMyksaSYmaS51c2VEZXB0aEZvck9jY2x1c2lvbj8odGhpcy5fZGVwdGhUZXh0dXJlJiZ0aGlzLl9kZXB0aFRleHR1cmUuYmluZChvLk5FQVJFU1Qsby5DTEFNUF9UT19FREdFKSx0aGlzLl9kZXB0aEZCTyYmKGEudV9kZXB0aF9zaXplX2ludj1bMS90aGlzLl9kZXB0aEZCTy53aWR0aCwxL3RoaXMuX2RlcHRoRkJPLmhlaWdodF0pKToodGhpcy5lbXB0eURlcHRoQnVmZmVyVGV4dHVyZS5iaW5kKG8uTkVBUkVTVCxvLkNMQU1QX1RPX0VER0UpLGEudV9kZXB0aF9zaXplX2ludj1bMSwxXSksaSYmaS51c2VNZXRlclRvRGVtJiZsKXtjb25zdCB0PSgxPDxsLnRpbGVJRC5jYW5vbmljYWwueikqZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLnBhaW50ZXIudHJhbnNmb3JtLmNlbnRlci5sYXQpKnRoaXMuc291cmNlQ2FjaGUuZ2V0U291cmNlKCkudGlsZVNpemU7YS51X21ldGVyX3RvX2RlbT10fWlmKGkmJmkubGFiZWxQbGFuZU1hdHJpeEludiYmKGEudV9sYWJlbF9wbGFuZV9tYXRyaXhfaW52PWkubGFiZWxQbGFuZU1hdHJpeEludiksbi5zZXRUZXJyYWluVW5pZm9ybVZhbHVlcyhyLGEpLFwiZ2xvYmVcIj09PXRoaXMucGFpbnRlci50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKXtjb25zdCBlPXRoaXMuZ2xvYmVVbmlmb3JtVmFsdWVzKHRoaXMucGFpbnRlci50cmFuc2Zvcm0sdC50aWxlSUQuY2Fub25pY2FsLGkmJmkudXNlRGVub3JtYWxpemVkVXBWZWN0b3JTY2FsZSk7bi5zZXRHbG9iZVVuaWZvcm1WYWx1ZXMocixlKX19Z2xvYmVVbmlmb3JtVmFsdWVzKHQsbixpKXtjb25zdCByPXQucHJvamVjdGlvbjtyZXR1cm57dV90aWxlX3RsX3VwOnIudXBWZWN0b3IobiwwLDApLHVfdGlsZV90cl91cDpyLnVwVmVjdG9yKG4sZS5FWFRFTlQsMCksdV90aWxlX2JyX3VwOnIudXBWZWN0b3IobixlLkVYVEVOVCxlLkVYVEVOVCksdV90aWxlX2JsX3VwOnIudXBWZWN0b3IobiwwLGUuRVhURU5UKSx1X3RpbGVfdXBfc2NhbGU6aT9lLkdMT0JFX01FVEVSU19UT19FQ0VGOnIudXBWZWN0b3JTY2FsZShuLHQuY2VudGVyLmxhdCx0LndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlfX1yZW5kZXJUb0JhY2tCdWZmZXIodCl7Y29uc3Qgbj10aGlzLnBhaW50ZXIsaT10aGlzLnBhaW50ZXIuY29udGV4dDswIT09dC5sZW5ndGgmJihpLmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCksaS52aWV3cG9ydC5zZXQoWzAsMCxuLndpZHRoLG4uaGVpZ2h0XSksbi5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlclN0YXJ0KCksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITEsZnVuY3Rpb24odCxuLGkscixvKXtpZihcImdsb2JlXCI9PT10LnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUpIWZ1bmN0aW9uKHQsbixpLHIsbyl7Y29uc3QgYT10LmNvbnRleHQscz1hLmdsO2xldCBsLGM7Y29uc3QgdT10Lm9wdGlvbnMuc2hvd1RlcnJhaW5XaXJlZnJhbWU/MjowLGg9dC50cmFuc2Zvcm0sZD1lLmdsb2JlVXNlQ3VzdG9tQW50aUFsaWFzaW5nKHQsYSxoKSxwPShlLG4pPT57aWYoYz09PWUpcmV0dXJuO2NvbnN0IGk9W0VuW2VdLFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdO2QmJmkucHVzaChcIkNVU1RPTV9BTlRJQUxJQVNJTkdcIiksbiYmaS5wdXNoKEVuW3VdKSxsPXQudXNlUHJvZ3JhbShcImdsb2JlUmFzdGVyXCIsbnVsbCxpKSxjPWV9LGY9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbT1uZXcgZS5EZXB0aE1vZGUocy5MRVFVQUwsZS5EZXB0aE1vZGUuUmVhZFdyaXRlLHQuZGVwdGhSYW5nZUZvcjNEKTtUbi51cGRhdGUobyk7Y29uc3QgZz1lLmNhbGN1bGF0ZUdsb2JlTWVyY2F0b3JNYXRyaXgoaCkseT1bZS5tZXJjYXRvclhmcm9tTG5nKGguY2VudGVyLmxuZyksZS5tZXJjYXRvcllmcm9tTGF0KGguY2VudGVyLmxhdCldLF89dT9bITEsITBdOlshMV0sdj10Lmdsb2JlU2hhcmVkQnVmZmVycyx4PVtoLndpZHRoKmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyxoLmhlaWdodCplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW9dLGI9RmxvYXQzMkFycmF5LmZyb20oaC5nbG9iZU1hdHJpeCksdz17dXNlRGVub3JtYWxpemVkVXBWZWN0b3JTY2FsZTohMH07aWYoXy5mb3JFYWNoKHU9PntjPS0xO2NvbnN0IGQ9dT9zLkxJTkVTOnMuVFJJQU5HTEVTO2Zvcihjb25zdCBjIG9mIHIpe2NvbnN0IHI9aS5nZXRUaWxlKGMpLF89ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxUPW4ucHJldlRlcnJhaW5UaWxlRm9yVGlsZVtjLmtleV0sRT1uLnRlcnJhaW5UaWxlRm9yVGlsZVtjLmtleV07d24oVCxFKSYmVG4ubmV3TW9ycGhpbmcoYy5rZXksVCxFLG8sMjUwKSxhLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApLHIudGV4dHVyZS5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSk7Y29uc3QgUz1Ubi5nZXRNb3JwaFZhbHVlc0ZvclByb3h5KGMua2V5KSxNPVM/MTowO1MmJmUuZXh0ZW5kJDEodyx7bW9ycGhpbmc6e3NyY0RlbVRpbGU6Uy5mcm9tLGRzdERlbVRpbGU6Uy50byxwaGFzZTplLmVhc2VDdWJpY0luT3V0KFMucGhhc2UpfX0pO2NvbnN0IEk9ZS50aWxlQ29ybmVyc1RvQm91bmRzKGMuY2Fub25pY2FsKSxDPWUuZ2V0TGF0aXR1ZGluYWxMb2QoSS5nZXRDZW50ZXIoKS5sYXQpLGs9ZS5nZXRHcmlkTWF0cml4KGMuY2Fub25pY2FsLEksQyxoLndvcmxkU2l6ZS9oLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsKSxBPWUuZ2xvYmVOb3JtYWxpemVFQ0VGKGUuZ2xvYmVUaWxlQm91bmRzKGMuY2Fub25pY2FsKSksUD1ibihoLnByb2pNYXRyaXgsYixnLEEsZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKGguem9vbSkseSxoLmZydXN0dW1Db3JuZXJzLlRMLGguZnJ1c3R1bUNvcm5lcnMuVFIsaC5mcnVzdHVtQ29ybmVycy5CUixoLmZydXN0dW1Db3JuZXJzLkJMLGguZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSxoLmdsb2JlUmFkaXVzLHgsayk7aWYocChNLHUpLG4uc2V0dXBFbGV2YXRpb25EcmF3KHIsbCx3KSx0LnByZXBhcmVEcmF3UHJvZ3JhbShhLGwsYy50b1Vud3JhcHBlZCgpKSx2KXtjb25zdFtuLGkscl09dT92LmdldFdpcmVmYW1lQnVmZmVycyh0LmNvbnRleHQsQyk6di5nZXRHcmlkQnVmZmVycyhDKTtsLmRyYXcoYSxkLG0sXyxmLGUuQ3VsbEZhY2VNb2RlLmJhY2tDQ1csUCxcImdsb2JlX3Jhc3RlclwiLG4saSxyKX19fSksdil7Y29uc3Qgbz1bXCJHTE9CRV9QT0xFU1wiLFwiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdO2QmJm8ucHVzaChcIkNVU1RPTV9BTlRJQUxJQVNJTkdcIiksbD10LnVzZVByb2dyYW0oXCJnbG9iZVJhc3RlclwiLG51bGwsbyk7Zm9yKGNvbnN0IG8gb2Ygcil7Y29uc3R7eDpyLHk6Yyx6OnV9PW8uY2Fub25pY2FsLGQ9MD09PWMscD1jPT09KDE8PHUpLTEsW2csXyxiLFRdPXYuZ2V0UG9sZUJ1ZmZlcnModSk7aWYoVCYmKGR8fHApKXtjb25zdCBjPWkuZ2V0VGlsZShvKTthLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApLGMudGV4dHVyZS5iaW5kKHMuTElORUFSLHMuQ0xBTVBfVE9fRURHRSk7bGV0IHY9ZS5nbG9iZVBvbGVNYXRyaXhGb3JUaWxlKHUscixoKTtjb25zdCBFPWUuZ2xvYmVOb3JtYWxpemVFQ0VGKGUuZ2xvYmVUaWxlQm91bmRzKG8uY2Fub25pY2FsKSksUz0odCxuKT0+dC5kcmF3KGEscy5UUklBTkdMRVMsbSxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGYsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsYm4oaC5wcm9qTWF0cml4LHYsdixFLDAseSxoLmZydXN0dW1Db3JuZXJzLlRMLGguZnJ1c3R1bUNvcm5lcnMuVFIsaC5mcnVzdHVtQ29ybmVycy5CUixoLmZydXN0dW1Db3JuZXJzLkJMLGguZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSxoLmdsb2JlUmFkaXVzLHgpLFwiZ2xvYmVfcG9sZV9yYXN0ZXJcIixuLGIsVCk7bi5zZXR1cEVsZXZhdGlvbkRyYXcoYyxsLHcpLHQucHJlcGFyZURyYXdQcm9ncmFtKGEsbCxvLnRvVW53cmFwcGVkKCkpLGQmJlMobCxnKSxwJiYodj1lLnNjYWxlKGUuY3JlYXRlKCksdixbMSwtMSwxXSksUyhsLF8pKX19fX0odCxuLGkscixvKTtlbHNle2NvbnN0IGE9dC5jb250ZXh0LHM9YS5nbDtsZXQgbCxjO2NvbnN0IHU9dC5vcHRpb25zLnNob3dUZXJyYWluV2lyZWZyYW1lPzI6MCxoPShlLG4pPT57aWYoYz09PWUpcmV0dXJuO2NvbnN0IGk9W0VuW2VdXTtuJiZpLnB1c2goRW5bdV0pLGw9dC51c2VQcm9ncmFtKFwidGVycmFpblJhc3RlclwiLG51bGwsaSksYz1lfSxkPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLHA9bmV3IGUuRGVwdGhNb2RlKHMuTEVRVUFMLGUuRGVwdGhNb2RlLlJlYWRXcml0ZSx0LmRlcHRoUmFuZ2VGb3IzRCk7VG4udXBkYXRlKG8pO2NvbnN0IGY9dC50cmFuc2Zvcm0sbT02Kk1hdGgucG93KDEuNSwyMi1mLnpvb20pKm4uZXhhZ2dlcmF0aW9uKCk7KHU/WyExLCEwXTpbITFdKS5mb3JFYWNoKHU9PntjPS0xO2NvbnN0IGc9dT9zLkxJTkVTOnMuVFJJQU5HTEVTLFt5LF9dPXU/bi5nZXRXaXJlZmFtZUJ1ZmZlcigpOltuLmdyaWRJbmRleEJ1ZmZlcixuLmdyaWRTZWdtZW50c107Zm9yKGNvbnN0IGMgb2Ygcil7Y29uc3Qgcj1pLmdldFRpbGUoYyksdj1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHg9bi5wcmV2VGVycmFpblRpbGVGb3JUaWxlW2Mua2V5XSxiPW4udGVycmFpblRpbGVGb3JUaWxlW2Mua2V5XTt3bih4LGIpJiZUbi5uZXdNb3JwaGluZyhjLmtleSx4LGIsbywyNTApLGEuYWN0aXZlVGV4dHVyZS5zZXQocy5URVhUVVJFMCksci50ZXh0dXJlLmJpbmQocy5MSU5FQVIscy5DTEFNUF9UT19FREdFLHMuTElORUFSX01JUE1BUF9ORUFSRVNUKTtjb25zdCB3PVRuLmdldE1vcnBoVmFsdWVzRm9yUHJveHkoYy5rZXkpLFQ9dz8xOjA7bGV0IEU7dyYmKEU9e21vcnBoaW5nOntzcmNEZW1UaWxlOncuZnJvbSxkc3REZW1UaWxlOncudG8scGhhc2U6ZS5lYXNlQ3ViaWNJbk91dCh3LnBoYXNlKX19KTtjb25zdCBTPXhuKGMucHJvak1hdHJpeCxTbihjLmNhbm9uaWNhbCxmLnJlbmRlcldvcmxkQ29waWVzKT9tLzEwOm0pO2goVCx1KSxuLnNldHVwRWxldmF0aW9uRHJhdyhyLGwsRSksdC5wcmVwYXJlRHJhd1Byb2dyYW0oYSxsLGMudG9VbndyYXBwZWQoKSksbC5kcmF3KGEsZyxwLHYsZCxlLkN1bGxGYWNlTW9kZS5iYWNrQ0NXLFMsXCJ0ZXJyYWluX3Jhc3RlclwiLG4uZ3JpZEJ1ZmZlcix5LF8pfX0pfX0obix0aGlzLHRoaXMucHJveHlTb3VyY2VDYWNoZSx0LHRoaXMuX3VwZGF0ZVRpbWVzdGFtcCksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITAsbi5ncHVUaW1pbmdEZWZlcnJlZFJlbmRlckVuZCgpLHQuc3BsaWNlKDAsdC5sZW5ndGgpKX1yZW5kZXJCYXRjaCh0KXtpZigwPT09dGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5sZW5ndGgpcmV0dXJuIHQrMTt0aGlzLnJlbmRlcmluZ1RvVGV4dHVyZT0hMDtjb25zdCBuPXRoaXMucGFpbnRlcixpPXRoaXMucGFpbnRlci5jb250ZXh0LHI9dGhpcy5wcm94eVNvdXJjZUNhY2hlLG89dGhpcy5wcm94aWVkQ29vcmRzW3IuaWRdLGE9dGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlcy5zaGlmdCgpLHM9W10sbD1uLnN0eWxlLm9yZGVyO2xldCBjPTA7Zm9yKGNvbnN0IHUgb2Ygbyl7Y29uc3Qgbz1yLmdldFRpbGVCeUlEKHUucHJveHlUaWxlS2V5KSxoPXIucHJveHlDYWNoZWRGQk9bdS5rZXldP3IucHJveHlDYWNoZWRGQk9bdS5rZXldW3RdOnZvaWQgMCxkPXZvaWQgMCE9PWg/ci5yZW5kZXJDYWNoZVtoXTp0aGlzLnBvb2xbYysrXSxwPXZvaWQgMCE9PWg7aWYoby50ZXh0dXJlPWQudGV4LHAmJiFkLmRpcnR5KXtzLnB1c2goby50aWxlSUQpO2NvbnRpbnVlfWxldCBmO2kuYmluZEZyYW1lYnVmZmVyLnNldChkLmZiLmZyYW1lYnVmZmVyKSx0aGlzLnJlbmRlcmVkVG9UaWxlPSExLGQuZGlydHkmJihpLmNsZWFyKHtjb2xvcjplLkNvbG9yLnRyYW5zcGFyZW50LHN0ZW5jaWw6MH0pLGQuZGlydHk9ITEpO2ZvcihsZXQgZT1hLnN0YXJ0O2U8PWEuZW5kOysrZSl7Y29uc3QgdD1uLnN0eWxlLl9sYXllcnNbbFtlXV07aWYodC5pc0hpZGRlbihuLnRyYW5zZm9ybS56b29tKSljb250aW51ZTtjb25zdCByPW4uc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUodCksbz1yP3RoaXMucHJveHlUb1NvdXJjZVt1LmtleV1bci5pZF06W3VdO2lmKCFvKWNvbnRpbnVlO2NvbnN0IGE9bztpLnZpZXdwb3J0LnNldChbMCwwLGQuZmIud2lkdGgsZC5mYi5oZWlnaHRdKSxmIT09KHI/ci5pZDpudWxsKSYmKHRoaXMuX3NldHVwU3RlbmNpbChkLG8sdCxyKSxmPXI/ci5pZDpudWxsKSxuLnJlbmRlckxheWVyKG4scix0LGEpfXRoaXMucmVuZGVyZWRUb1RpbGU/KGQuZGlydHk9ITAscy5wdXNoKG8udGlsZUlEKSk6cHx8LS1jLDU9PT1jJiYoYz0wLHRoaXMucmVuZGVyVG9CYWNrQnVmZmVyKHMpKX1yZXR1cm4gdGhpcy5yZW5kZXJUb0JhY2tCdWZmZXIocyksdGhpcy5yZW5kZXJpbmdUb1RleHR1cmU9ITEsaS5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLGkudmlld3BvcnQuc2V0KFswLDAsbi53aWR0aCxuLmhlaWdodF0pLGEuZW5kKzF9cG9zdFJlbmRlcigpe31yZW5kZXJDYWNoZUVmZmljaWVuY3koZSl7Y29uc3QgdD1lLm9yZGVyLmxlbmd0aDtpZigwPT09dClyZXR1cm57ZWZmaWNpZW5jeToxMDB9O2xldCBuLGk9MCxyPTAsbz0hMTtmb3IobGV0IGE9MDthPHQ7KythKXtjb25zdCB0PWUuX2xheWVyc1tlLm9yZGVyW2FdXTt0aGlzLl9zdHlsZS5pc0xheWVyRHJhcGVkKHQpPyhvJiYrK2ksKytyKTpvfHwobz0hMCxuPXQuaWQpfXJldHVybiAwPT09cj97ZWZmaWNpZW5jeToxMDB9OntlZmZpY2llbmN5OjEwMCooMS1pL3IpLGZpcnN0VW5kcmFwZWRMYXllcjpufX1nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpe2xldCBlPTA7cmV0dXJuIHRoaXMuX3Zpc2libGVEZW1UaWxlcy5maWx0ZXIoZT0+ZS5kZW0pLmZvckVhY2godD0+e2U9TWF0aC5taW4oZSx0LmRlbS50cmVlLm1pbmltdW1zWzBdKX0pLDA9PT1lP2U6KGUtMzApKnRoaXMuX2V4YWdnZXJhdGlvbn1yYXljYXN0KGUsdCxuKXtpZighdGhpcy5fdmlzaWJsZURlbVRpbGVzKXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy5fdmlzaWJsZURlbVRpbGVzLmZpbHRlcihlPT5lLmRlbSkubWFwKGk9Pntjb25zdCByPWkudGlsZUlELG89MTw8ci5vdmVyc2NhbGVkWix7eDphLHk6c309ci5jYW5vbmljYWwsbD1hL28sYz0oYSsxKS9vLHU9cy9vLGg9KHMrMSkvbztyZXR1cm57bWlueDpsLG1pbnk6dSxtYXh4OmMsbWF4eTpoLHQ6aS5kZW0udHJlZS5yYXljYXN0Um9vdChsLHUsYyxoLGUsdCxuKSx0aWxlOml9fSk7aS5zb3J0KChlLHQpPT4obnVsbCE9PWUudD9lLnQ6TnVtYmVyLk1BWF9WQUxVRSktKG51bGwhPT10LnQ/dC50Ok51bWJlci5NQVhfVkFMVUUpKTtmb3IoY29uc3QgciBvZiBpKXtpZihudWxsPT1yLnQpcmV0dXJuIG51bGw7Y29uc3QgaT1yLnRpbGUuZGVtLnRyZWUucmF5Y2FzdChyLm1pbngsci5taW55LHIubWF4eCxyLm1heHksZSx0LG4pO2lmKG51bGwhPWkpcmV0dXJuIGl9cmV0dXJuIG51bGx9X2NyZWF0ZUZCTygpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQsbj10LmdsLGk9dGhpcy5kcmFwZUJ1ZmZlclNpemU7dC5hY3RpdmVUZXh0dXJlLnNldChuLlRFWFRVUkUwKTtjb25zdCByPW5ldyBlLlRleHR1cmUodCx7d2lkdGg6aVswXSxoZWlnaHQ6aVsxXSxkYXRhOm51bGx9LG4uUkdCQSk7ci5iaW5kKG4uTElORUFSLG4uQ0xBTVBfVE9fRURHRSk7Y29uc3Qgbz10LmNyZWF0ZUZyYW1lYnVmZmVyKGlbMF0saVsxXSwhMSk7cmV0dXJuIG8uY29sb3JBdHRhY2htZW50LnNldChyLnRleHR1cmUpLG8uZGVwdGhBdHRhY2htZW50PW5ldyBFZSh0LG8uZnJhbWVidWZmZXIpLHZvaWQgMD09PXRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbD8odGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsPXQuY3JlYXRlUmVuZGVyYnVmZmVyKHQuZ2wuREVQVEhfU1RFTkNJTCxpWzBdLGlbMV0pLHRoaXMuX3N0ZW5jaWxSZWY9MCxvLmRlcHRoQXR0YWNobWVudC5zZXQodGhpcy5fc2hhcmVkRGVwdGhTdGVuY2lsKSx0LmNsZWFyKHtzdGVuY2lsOjB9KSk6by5kZXB0aEF0dGFjaG1lbnQuc2V0KHRoaXMuX3NoYXJlZERlcHRoU3RlbmNpbCksdC5leHRUZXh0dXJlRmlsdGVyQW5pc290cm9waWMmJiF0LmV4dFRleHR1cmVGaWx0ZXJBbmlzb3Ryb3BpY0ZvcmNlT2ZmJiZuLnRleFBhcmFtZXRlcmYobi5URVhUVVJFXzJELHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljLlRFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhULHQuZXh0VGV4dHVyZUZpbHRlckFuaXNvdHJvcGljTWF4KSx7ZmI6byx0ZXg6cixkaXJ0eTohMX19X2luaXRGQk9Qb29sKCl7Zm9yKDt0aGlzLnBvb2wubGVuZ3RoPE1hdGgubWluKDUsdGhpcy5wcm94eUNvb3Jkcy5sZW5ndGgpOyl0aGlzLnBvb2wucHVzaCh0aGlzLl9jcmVhdGVGQk8oKSl9X3Nob3VsZERpc2FibGVSZW5kZXJDYWNoZSgpe2lmKHRoaXMuX3N0eWxlLmxpZ2h0JiZ0aGlzLl9zdHlsZS5saWdodC5oYXNUcmFuc2l0aW9uKCkpcmV0dXJuITA7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fc3R5bGUuX3NvdXJjZUNhY2hlcylpZih0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzW2VdLmhhc1RyYW5zaXRpb24oKSlyZXR1cm4hMDtyZXR1cm4gdGhpcy5fc3R5bGUub3JkZXIuc29tZShlPT57Y29uc3QgdD10aGlzLl9zdHlsZS5fbGF5ZXJzW2VdLG49dC5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pO3JldHVyblwiY3VzdG9tXCIhPT10LnR5cGUmJiFuJiZ0Lmhhc1RyYW5zaXRpb24oKX0pfV9jbGVhclJhc3RlckZhZGVGcm9tUmVuZGVyQ2FjaGUoKXtsZXQgZT0hMTtmb3IoY29uc3QgdCBpbiB0aGlzLl9zdHlsZS5fc291cmNlQ2FjaGVzKWlmKHRoaXMuX3N0eWxlLl9zb3VyY2VDYWNoZXNbdF0uX3NvdXJjZSBpbnN0YW5jZW9mIEllKXtlPSEwO2JyZWFrfWlmKGUpZm9yKGxldCBlPTA7ZTx0aGlzLl9zdHlsZS5vcmRlci5sZW5ndGg7KytlKXtjb25zdCB0PXRoaXMuX3N0eWxlLl9sYXllcnNbdGhpcy5fc3R5bGUub3JkZXJbZV1dLG49dC5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pLGk9dGhpcy5fc3R5bGUuX2dldExheWVyU291cmNlQ2FjaGUodCk7aWYoXCJyYXN0ZXJcIiE9PXQudHlwZXx8bnx8IWkpY29udGludWU7Y29uc3Qgcj10LnBhaW50LmdldChcInJhc3Rlci1mYWRlLWR1cmF0aW9uXCIpO2Zvcihjb25zdCBlIG9mIHRoaXMucHJveHlDb29yZHMpe2NvbnN0IHQ9dGhpcy5wcm94eVRvU291cmNlW2Uua2V5XVtpLmlkXTtpZih0KWZvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9SW4oaS5nZXRUaWxlKGUpLGkuZmluZExvYWRlZFBhcmVudChlLDApLGksdGhpcy5wYWludGVyLnRyYW5zZm9ybSxyKTsoMSE9PXQub3BhY2l0eXx8MCE9PXQubWl4KSYmdGhpcy5fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoaS5pZCxlKX19fX1fc2V0dXBEcmFwZWRSZW5kZXJCYXRjaGVzKCl7Y29uc3QgZT10aGlzLl9zdHlsZS5vcmRlcix0PWUubGVuZ3RoO2lmKDA9PT10KXJldHVybjtjb25zdCBuPVtdO2xldCBpLHI9MCxvPXRoaXMuX3N0eWxlLl9sYXllcnNbZVtyXV07Zm9yKDshdGhpcy5fc3R5bGUuaXNMYXllckRyYXBlZChvKSYmby5pc0hpZGRlbih0aGlzLnBhaW50ZXIudHJhbnNmb3JtLnpvb20pJiYrK3I8dDspbz10aGlzLl9zdHlsZS5fbGF5ZXJzW2Vbcl1dO2Zvcig7cjx0Oysrcil7Y29uc3QgdD10aGlzLl9zdHlsZS5fbGF5ZXJzW2Vbcl1dO3QuaXNIaWRkZW4odGhpcy5wYWludGVyLnRyYW5zZm9ybS56b29tKXx8KHRoaXMuX3N0eWxlLmlzTGF5ZXJEcmFwZWQodCk/dm9pZCAwPT09aSYmKGk9cik6dm9pZCAwIT09aSYmKG4ucHVzaCh7c3RhcnQ6aSxlbmQ6ci0xfSksaT12b2lkIDApKX12b2lkIDAhPT1pJiZuLnB1c2goe3N0YXJ0OmksZW5kOnItMX0pLHRoaXMuX2RyYXBlZFJlbmRlckJhdGNoZXM9bn1fc2V0dXBSZW5kZXJDYWNoZShlKXtjb25zdCB0PXRoaXMucHJveHlTb3VyY2VDYWNoZTtpZih0aGlzLl9zaG91bGREaXNhYmxlUmVuZGVyQ2FjaGUoKXx8dGhpcy5faW52YWxpZGF0ZVJlbmRlckNhY2hlKXtpZih0aGlzLl9pbnZhbGlkYXRlUmVuZGVyQ2FjaGU9ITEsdC5yZW5kZXJDYWNoZS5sZW5ndGg+dC5yZW5kZXJDYWNoZVBvb2wubGVuZ3RoKXtjb25zdCBlPU9iamVjdC52YWx1ZXModC5wcm94eUNhY2hlZEZCTyk7dC5wcm94eUNhY2hlZEZCTz17fTtmb3IobGV0IG49MDtuPGUubGVuZ3RoOysrbil7Y29uc3QgaT1PYmplY3QudmFsdWVzKGVbbl0pO3QucmVuZGVyQ2FjaGVQb29sLnB1c2goLi4uaSl9fXJldHVybn10aGlzLl9jbGVhclJhc3RlckZhZGVGcm9tUmVuZGVyQ2FjaGUoKTtjb25zdCBuPXRoaXMucHJveHlDb29yZHMsaT10aGlzLl90aWxlc0RpcnR5O2ZvcihsZXQgcj1uLmxlbmd0aC0xO3I+PTA7ci0tKXtjb25zdCBvPW5bcl07aWYodC5nZXRUaWxlQnlJRChvLmtleSksdm9pZCAwIT09dC5wcm94eUNhY2hlZEZCT1tvLmtleV0pe2NvbnN0IG49ZVtvLmtleV0scj10aGlzLnByb3h5VG9Tb3VyY2Vbby5rZXldO2xldCBhPTA7Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD1yW2VdLG89bltlXTtpZighb3x8by5sZW5ndGghPT10Lmxlbmd0aHx8dC5zb21lKCh0LG4pPT50IT09b1tuXXx8aVtlXSYmaVtlXS5oYXNPd25Qcm9wZXJ0eSh0LmtleSkpKXthPS0xO2JyZWFrfSsrYX1mb3IoY29uc3QgZSBpbiB0LnByb3h5Q2FjaGVkRkJPW28ua2V5XSl0LnJlbmRlckNhY2hlW3QucHJveHlDYWNoZWRGQk9bby5rZXldW2VdXS5kaXJ0eT1hPDB8fGEhPT1PYmplY3QudmFsdWVzKG4pLmxlbmd0aH19Y29uc3Qgcj1bLi4udGhpcy5fZHJhcGVkUmVuZGVyQmF0Y2hlc107ci5zb3J0KChlLHQpPT50LmVuZC10LnN0YXJ0LShlLmVuZC1lLnN0YXJ0KSk7Zm9yKGNvbnN0IGUgb2Ygcilmb3IoY29uc3QgaSBvZiBuKXtpZih0LnByb3h5Q2FjaGVkRkJPW2kua2V5XSljb250aW51ZTtsZXQgbj10LnJlbmRlckNhY2hlUG9vbC5wb3AoKTt2b2lkIDA9PT1uJiZ0LnJlbmRlckNhY2hlLmxlbmd0aDw1MCYmKG49dC5yZW5kZXJDYWNoZS5sZW5ndGgsdC5yZW5kZXJDYWNoZS5wdXNoKHRoaXMuX2NyZWF0ZUZCTygpKSksdm9pZCAwIT09biYmKHQucHJveHlDYWNoZWRGQk9baS5rZXldPXt9LHQucHJveHlDYWNoZWRGQk9baS5rZXldW2Uuc3RhcnRdPW4sdC5yZW5kZXJDYWNoZVtuXS5kaXJ0eT0hMCl9dGhpcy5fdGlsZXNEaXJ0eT17fX1fc2V0dXBTdGVuY2lsKGUsdCxuLGkpe2lmKCFpfHwhdGhpcy5fc291cmNlVGlsZXNPdmVybGFwW2kuaWRdKXJldHVybiB2b2lkKHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZSYmKHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT0hMSkpO2NvbnN0IHI9dGhpcy5wYWludGVyLmNvbnRleHQsbz1yLmdsO2lmKHQubGVuZ3RoPD0xKXJldHVybiB2b2lkKHRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZT0hMSk7bGV0IGE7aWYobi5pc1RpbGVDbGlwcGVkKCkpYT10Lmxlbmd0aCx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUudGVzdD17ZnVuYzpvLkVRVUFMLG1hc2s6MjU1fSx0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9XCJDbGlwXCI7ZWxzZXtpZighKHRbMF0ub3ZlcnNjYWxlZFo+dFt0Lmxlbmd0aC0xXS5vdmVyc2NhbGVkWikpcmV0dXJuIHZvaWQodGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlPSExKTthPTEsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnRlc3Q9e2Z1bmM6by5HUkVBVEVSLG1hc2s6MjU1fSx0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU9XCJNYXNrXCJ9dGhpcy5fc3RlbmNpbFJlZithPjI1NSYmKHIuY2xlYXIoe3N0ZW5jaWw6MH0pLHRoaXMuX3N0ZW5jaWxSZWY9MCksdGhpcy5fc3RlbmNpbFJlZis9YSx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUucmVmPXRoaXMuX3N0ZW5jaWxSZWYsbi5pc1RpbGVDbGlwcGVkKCkmJnRoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHQsdGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZil9Y2xpcE9yTWFza092ZXJsYXBTdGVuY2lsVHlwZSgpe3JldHVyblwiQ2xpcFwiPT09dGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlfHxcIk1hc2tcIj09PXRoaXMuX292ZXJsYXBTdGVuY2lsVHlwZX1zdGVuY2lsTW9kZUZvclJUVE92ZXJsYXAodCl7cmV0dXJuIHRoaXMucmVuZGVyaW5nVG9UZXh0dXJlJiZ0aGlzLl9vdmVybGFwU3RlbmNpbFR5cGU/KFwiQ2xpcFwiPT09dGhpcy5fb3ZlcmxhcFN0ZW5jaWxUeXBlJiYodGhpcy5fb3ZlcmxhcFN0ZW5jaWxNb2RlLnJlZj10aGlzLnBhaW50ZXIuX3RpbGVDbGlwcGluZ01hc2tJRHNbdC5rZXldKSx0aGlzLl9vdmVybGFwU3RlbmNpbE1vZGUpOmUuU3RlbmNpbE1vZGUuZGlzYWJsZWR9X3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKHQsbil7Y29uc3QgaT10aGlzLnBhaW50ZXIscj10aGlzLnBhaW50ZXIuY29udGV4dCxvPXIuZ2w7aS5fdGlsZUNsaXBwaW5nTWFza0lEcz17fSxyLnNldENvbG9yTW9kZShlLkNvbG9yTW9kZS5kaXNhYmxlZCksci5zZXREZXB0aE1vZGUoZS5EZXB0aE1vZGUuZGlzYWJsZWQpO2NvbnN0IGE9aS51c2VQcm9ncmFtKFwiY2xpcHBpbmdNYXNrXCIpO2Zvcihjb25zdCBzIG9mIHQpe2NvbnN0IHQ9aS5fdGlsZUNsaXBwaW5nTWFza0lEc1tzLmtleV09LS1uO2EuZHJhdyhyLG8uVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLG5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOm8uQUxXQVlTLG1hc2s6MH0sdCwyNTUsby5LRUVQLG8uS0VFUCxvLlJFUExBQ0UpLGUuQ29sb3JNb2RlLmRpc2FibGVkLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLE1uKHMucHJvak1hdHJpeCksXCIkY2xpcHBpbmdcIixpLnRpbGVFeHRlbnRCdWZmZXIsaS5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixpLnRpbGVFeHRlbnRTZWdtZW50cyl9fXBvaW50Q29vcmRpbmF0ZSh0KXtjb25zdCBuPXRoaXMucGFpbnRlci50cmFuc2Zvcm07aWYodC54PDB8fHQueD5uLndpZHRofHx0Lnk8MHx8dC55Pm4uaGVpZ2h0KXJldHVybiBudWxsO2NvbnN0IGk9W3QueCx0LnksMSwxXTtlLnRyYW5zZm9ybU1hdDQkMShpLGksbi5waXhlbE1hdHJpeEludmVyc2UpLGUuc2NhbGUkMShpLGksMS9pWzNdKSxpWzBdLz1uLndvcmxkU2l6ZSxpWzFdLz1uLndvcmxkU2l6ZTtjb25zdCByPW4uX2NhbWVyYS5wb3NpdGlvbixvPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsbi5jZW50ZXIubGF0KSxhPVtyWzBdLHJbMV0sclsyXS9vLDBdLHM9ZS5zdWJ0cmFjdChbXSxpLnNsaWNlKDAsMyksYSk7ZS5ub3JtYWxpemUocyxzKTtjb25zdCBsPXRoaXMucmF5Y2FzdChhLHMsdGhpcy5fZXhhZ2dlcmF0aW9uKTtyZXR1cm4gbnVsbCE9PWwmJmw/KGUuc2NhbGVBbmRBZGQoYSxhLHMsbCksYVszXT1hWzJdLGFbMl0qPW8sYSk6bnVsbH1kcmF3RGVwdGgoKXtjb25zdCB0PXRoaXMucGFpbnRlcixuPXQuY29udGV4dCxpPXRoaXMucHJveHlTb3VyY2VDYWNoZSxyPU1hdGguY2VpbCh0LndpZHRoKSxvPU1hdGguY2VpbCh0LmhlaWdodCk7aWYoIXRoaXMuX2RlcHRoRkJPfHx0aGlzLl9kZXB0aEZCTy53aWR0aD09PXImJnRoaXMuX2RlcHRoRkJPLmhlaWdodD09PW98fCh0aGlzLl9kZXB0aEZCTy5kZXN0cm95KCksdGhpcy5fZGVwdGhGQk89dm9pZCAwLHRoaXMuX2RlcHRoVGV4dHVyZT12b2lkIDApLCF0aGlzLl9kZXB0aEZCTyl7Y29uc3QgdD1uLmdsLGk9bi5jcmVhdGVGcmFtZWJ1ZmZlcihyLG8sITApO24uYWN0aXZlVGV4dHVyZS5zZXQodC5URVhUVVJFMCk7Y29uc3QgYT1uZXcgZS5UZXh0dXJlKG4se3dpZHRoOnIsaGVpZ2h0Om8sZGF0YTpudWxsfSx0LlJHQkEpO2EuYmluZCh0Lk5FQVJFU1QsdC5DTEFNUF9UT19FREdFKSxpLmNvbG9yQXR0YWNobWVudC5zZXQoYS50ZXh0dXJlKTtjb25zdCBzPW4uY3JlYXRlUmVuZGVyYnVmZmVyKG4uZ2wuREVQVEhfQ09NUE9ORU5UMTYscixvKTtpLmRlcHRoQXR0YWNobWVudC5zZXQocyksdGhpcy5fZGVwdGhGQk89aSx0aGlzLl9kZXB0aFRleHR1cmU9YX1uLmJpbmRGcmFtZWJ1ZmZlci5zZXQodGhpcy5fZGVwdGhGQk8uZnJhbWVidWZmZXIpLG4udmlld3BvcnQuc2V0KFswLDAscixvXSksZnVuY3Rpb24odCxuLGkscil7aWYoXCJnbG9iZVwiPT09dC50cmFuc2Zvcm0ucHJvamVjdGlvbi5uYW1lKXJldHVybjtjb25zdCBvPXQuY29udGV4dCxhPW8uZ2w7by5jbGVhcih7ZGVwdGg6MX0pO2NvbnN0IHM9dC51c2VQcm9ncmFtKFwidGVycmFpbkRlcHRoXCIpLGw9bmV3IGUuRGVwdGhNb2RlKGEuTEVTUyxlLkRlcHRoTW9kZS5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpO2Zvcihjb25zdCB0IG9mIHIpe2NvbnN0IHI9aS5nZXRUaWxlKHQpLGM9eG4odC5wcm9qTWF0cml4LDApO24uc2V0dXBFbGV2YXRpb25EcmF3KHIscykscy5kcmF3KG8sYS5UUklBTkdMRVMsbCxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGUuQ29sb3JNb2RlLnVuYmxlbmRlZCxlLkN1bGxGYWNlTW9kZS5iYWNrQ0NXLGMsXCJ0ZXJyYWluX2RlcHRoXCIsbi5ncmlkQnVmZmVyLG4uZ3JpZEluZGV4QnVmZmVyLG4uZ3JpZE5vU2tpcnRTZWdtZW50cyl9fSh0LHRoaXMsaSx0aGlzLnByb3h5Q29vcmRzKX1fc2V0dXBQcm94aWVkQ29vcmRzRm9yT3J0aG8oZSx0LG4pe2lmKGUuZ2V0U291cmNlKClpbnN0YW5jZW9mIEFlKXJldHVybiB0aGlzLl9zZXR1cFByb3hpZWRDb29yZHNGb3JJbWFnZVNvdXJjZShlLHQsbik7dGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW2UuaWRdPXRoaXMuX2ZpbmRDb3ZlcmluZ1RpbGVDYWNoZVtlLmlkXXx8e307Y29uc3QgaT10aGlzLnByb3hpZWRDb29yZHNbZS5pZF09W10scj10aGlzLnByb3h5Q29vcmRzO2ZvcihsZXQgdD0wO3Q8ci5sZW5ndGg7dCsrKXtjb25zdCBvPXJbdF0sYT10aGlzLl9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKG8sZSk7aWYoYSl7Y29uc3QgdD10aGlzLl9jcmVhdGVQcm94aWVkSWQobyxhLG5bby5rZXldJiZuW28ua2V5XVtlLmlkXSk7aS5wdXNoKHQpLHRoaXMucHJveHlUb1NvdXJjZVtvLmtleV1bZS5pZF09W3RdfX1sZXQgbz0hMTtmb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3QgYT1lLmdldFRpbGUodFtyXSk7aWYoIWF8fCFhLmhhc0RhdGEoKSljb250aW51ZTtjb25zdCBzPXRoaXMuX2ZpbmRUaWxlQ292ZXJpbmdUaWxlSUQoYS50aWxlSUQsdGhpcy5wcm94eVNvdXJjZUNhY2hlKTtpZihzJiZzLnRpbGVJRC5jYW5vbmljYWwueiE9PWEudGlsZUlELmNhbm9uaWNhbC56KXtjb25zdCB0PXRoaXMucHJveHlUb1NvdXJjZVtzLnRpbGVJRC5rZXldW2UuaWRdLHI9dGhpcy5fY3JlYXRlUHJveGllZElkKHMudGlsZUlELGEsbltzLnRpbGVJRC5rZXldJiZuW3MudGlsZUlELmtleV1bZS5pZF0pO3Q/dC5zcGxpY2UodC5sZW5ndGgtMSwwLHIpOnRoaXMucHJveHlUb1NvdXJjZVtzLnRpbGVJRC5rZXldW2UuaWRdPVtyXSxpLnB1c2gociksbz0hMH19dGhpcy5fc291cmNlVGlsZXNPdmVybGFwW2UuaWRdPW99X3NldHVwUHJveGllZENvb3Jkc0ZvckltYWdlU291cmNlKHQsbixpKXtpZighdC5nZXRTb3VyY2UoKS5sb2FkZWQoKSlyZXR1cm47Y29uc3Qgcj10aGlzLnByb3hpZWRDb29yZHNbdC5pZF09W10sbz10aGlzLnByb3h5Q29vcmRzLGE9dC5nZXRTb3VyY2UoKSxzPW5ldyBlLnBvaW50R2VvbWV0cnkoYS50aWxlSUQueCxhLnRpbGVJRC55KS5fZGl2KDE8PGEudGlsZUlELnopLGw9YS5jb29yZGluYXRlcy5tYXAoZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCkucmVkdWNlKChlLHQpPT4oZS5taW4ueD1NYXRoLm1pbihlLm1pbi54LHQueC1zLngpLGUubWluLnk9TWF0aC5taW4oZS5taW4ueSx0Lnktcy55KSxlLm1heC54PU1hdGgubWF4KGUubWF4LngsdC54LXMueCksZS5tYXgueT1NYXRoLm1heChlLm1heC55LHQueS1zLnkpLGUpLHttaW46bmV3IGUucG9pbnRHZW9tZXRyeShOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLG1heDpuZXcgZS5wb2ludEdlb21ldHJ5KC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKX0pLGM9KHQsbik9Pntjb25zdCBpPXQud3JhcCt0LmNhbm9uaWNhbC54LygxPDx0LmNhbm9uaWNhbC56KSxyPXQuY2Fub25pY2FsLnkvKDE8PHQuY2Fub25pY2FsLnopLG89ZS5FWFRFTlQvKDE8PHQuY2Fub25pY2FsLnopLGE9bi53cmFwK24uY2Fub25pY2FsLngvKDE8PG4uY2Fub25pY2FsLnopLHM9bi5jYW5vbmljYWwueS8oMTw8bi5jYW5vbmljYWwueik7cmV0dXJuIGkrbzxhK2wubWluLnh8fGk+YStsLm1heC54fHxyK288cytsLm1pbi55fHxyPnMrbC5tYXgueX07Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKyspe2NvbnN0IGE9b1tlXTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKyl7Y29uc3Qgbz10LmdldFRpbGUobltlXSk7aWYoIW98fCFvLmhhc0RhdGEoKSljb250aW51ZTtpZihjKGEsby50aWxlSUQpKWNvbnRpbnVlO2NvbnN0IHM9dGhpcy5fY3JlYXRlUHJveGllZElkKGEsbyxpW2Eua2V5XSYmaVthLmtleV1bdC5pZF0pLGw9dGhpcy5wcm94eVRvU291cmNlW2Eua2V5XVt0LmlkXTtsP2wucHVzaChzKTp0aGlzLnByb3h5VG9Tb3VyY2VbYS5rZXldW3QuaWRdPVtzXSxyLnB1c2gocyl9fX1fY3JlYXRlUHJveGllZElkKHQsbixpKXtsZXQgcj10aGlzLm9ydGhvTWF0cml4O2lmKGkpe2NvbnN0IGU9aS5maW5kKGU9PmUua2V5PT09bi50aWxlSUQua2V5KTtpZihlKXJldHVybiBlfWlmKG4udGlsZUlELmtleSE9PXQua2V5KXtjb25zdCBpPXQuY2Fub25pY2FsLnotbi50aWxlSUQuY2Fub25pY2FsLno7bGV0IG8sYSxzO3I9ZS5jcmVhdGUoKTtjb25zdCBsPW4udGlsZUlELndyYXAtdC53cmFwPDx0Lm92ZXJzY2FsZWRaO2k+MD8obz1lLkVYVEVOVD4+aSxhPW8qKChuLnRpbGVJRC5jYW5vbmljYWwueDw8aSktdC5jYW5vbmljYWwueCtsKSxzPW8qKChuLnRpbGVJRC5jYW5vbmljYWwueTw8aSktdC5jYW5vbmljYWwueSkpOihvPWUuRVhURU5UPDwtaSxhPWUuRVhURU5UKihuLnRpbGVJRC5jYW5vbmljYWwueC0odC5jYW5vbmljYWwueCtsPDwtaSkpLHM9ZS5FWFRFTlQqKG4udGlsZUlELmNhbm9uaWNhbC55LSh0LmNhbm9uaWNhbC55PDwtaSkpKSxlLm9ydGhvKHIsMCxvLDAsbywwLDEpLGUudHJhbnNsYXRlKHIscixbYSxzLDBdKX1yZXR1cm4gbmV3IEFuKG4udGlsZUlELHQua2V5LHIpfV9maW5kVGlsZUNvdmVyaW5nVGlsZUlEKHQsbil7bGV0IGk9bi5nZXRUaWxlKHQpO2lmKGkmJmkuaGFzRGF0YSgpKXJldHVybiBpO2NvbnN0IHI9dGhpcy5fZmluZENvdmVyaW5nVGlsZUNhY2hlW24uaWRdLG89clt0LmtleV07aWYoaT1vP24uZ2V0VGlsZUJ5SUQobyk6bnVsbCxpJiZpLmhhc0RhdGEoKXx8bnVsbD09PW8pcmV0dXJuIGk7bGV0IGE9aT9pLnRpbGVJRDp0LHM9YS5vdmVyc2NhbGVkWjtjb25zdCBsPW4uZ2V0U291cmNlKCkubWluem9vbSxjPVtdO2lmKCFvKXtjb25zdCByPW4uZ2V0U291cmNlKCkubWF4em9vbTtpZih0LmNhbm9uaWNhbC56Pj1yKXtjb25zdCBpPXQuY2Fub25pY2FsLnotcjtuLmdldFNvdXJjZSgpLnJlcGFyc2VPdmVyc2NhbGVkPyhzPU1hdGgubWF4KHQuY2Fub25pY2FsLnorMixuLnRyYW5zZm9ybS50aWxlWm9vbSksYT1uZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHMsdC53cmFwLHIsdC5jYW5vbmljYWwueD4+aSx0LmNhbm9uaWNhbC55Pj5pKSk6MCE9PWkmJihzPXIsYT1uZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHMsdC53cmFwLHIsdC5jYW5vbmljYWwueD4+aSx0LmNhbm9uaWNhbC55Pj5pKSl9YS5rZXkhPT10LmtleSYmKGMucHVzaChhLmtleSksaT1uLmdldFRpbGUoYSkpfWNvbnN0IHU9ZT0+e2MuZm9yRWFjaCh0PT57clt0XT1lfSksYy5sZW5ndGg9MH07Zm9yKHMtPTE7cz49bCYmKCFpfHwhaS5oYXNEYXRhKCkpO3MtLSl7aSYmdShpLnRpbGVJRC5rZXkpO2NvbnN0IGU9YS5jYWxjdWxhdGVTY2FsZWRLZXkocyk7aWYoaT1uLmdldFRpbGVCeUlEKGUpLGkmJmkuaGFzRGF0YSgpKWJyZWFrO2NvbnN0IHQ9cltlXTtpZihudWxsPT09dClicmVhazt2b2lkIDA9PT10P2MucHVzaChlKTppPW4uZ2V0VGlsZUJ5SUQodCl9cmV0dXJuIHUoaT9pLnRpbGVJRC5rZXk6bnVsbCksaSYmaS5oYXNEYXRhKCk/aTpudWxsfWZpbmRERU1UaWxlRm9yKGUpe3JldHVybiB0aGlzLmVuYWJsZWQ/dGhpcy5fZmluZFRpbGVDb3ZlcmluZ1RpbGVJRChlLHRoaXMuc291cmNlQ2FjaGUpOm51bGx9cHJlcGFyZURyYXdUaWxlKCl7dGhpcy5yZW5kZXJlZFRvVGlsZT0hMH1fY2xlYXJSZW5kZXJDYWNoZUZvclRpbGUoZSx0KXtsZXQgbj10aGlzLl90aWxlc0RpcnR5W2VdO258fChuPXRoaXMuX3RpbGVzRGlydHlbZV09e30pLG5bdC5rZXldPSEwfWdldFdpcmVmYW1lQnVmZmVyKCl7aWYoIXRoaXMud2lyZWZyYW1lU2VnbWVudHMpe2NvbnN0IHQ9ZnVuY3Rpb24odCl7bGV0IG49MDtjb25zdCBpPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0MnVpNCxyPTEzMTtmb3IobGV0IGU9MTtlPDEyOTtlKyspe2ZvcihsZXQgdD0xO3Q8MTI5O3QrKyluPWUqcit0LGkuZW1wbGFjZUJhY2sobixuKzEpLGkuZW1wbGFjZUJhY2sobixuK3IpLGkuZW1wbGFjZUJhY2sobisxLG4rciksMTI4PT09ZSYmaS5lbXBsYWNlQmFjayhuK3IsbityKzEpO2kuZW1wbGFjZUJhY2sobisxLG4rMStyKX1yZXR1cm4gaX0oKTt0aGlzLndpcmVmcmFtZUluZGV4QnVmZmVyPXRoaXMucGFpbnRlci5jb250ZXh0LmNyZWF0ZUluZGV4QnVmZmVyKHQpLHRoaXMud2lyZWZyYW1lU2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLHRoaXMuZ3JpZEJ1ZmZlci5sZW5ndGgsdC5sZW5ndGgpfXJldHVyblt0aGlzLndpcmVmcmFtZUluZGV4QnVmZmVyLHRoaXMud2lyZWZyYW1lU2VnbWVudHNdfX1jbGFzcyB6bntzdGF0aWMgY2FjaGVLZXkoZSx0LG4saSl7bGV0IHI9YCR7dH0ke2k/aS5jYWNoZUtleTpcIlwifWA7Zm9yKGNvbnN0IHQgb2YgbillLnVzZWREZWZpbmVzLmluY2x1ZGVzKHQpJiYocis9XCIvXCIrdCk7cmV0dXJuIHJ9Y29uc3RydWN0b3IodCxuLGkscixvLGEpe2NvbnN0IHM9dC5nbDt0aGlzLnByb2dyYW09cy5jcmVhdGVQcm9ncmFtKCk7Y29uc3QgbD1mdW5jdGlvbihlKXtjb25zdCB0PVtdO2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtpZihudWxsPT09ZVtuXSljb250aW51ZTtjb25zdCBpPWVbbl0uc3BsaXQoXCIgXCIpO3QucHVzaChpLnBvcCgpKX1yZXR1cm4gdH0oaS5zdGF0aWNBdHRyaWJ1dGVzKSxjPXI/ci5nZXRCaW5kZXJBdHRyaWJ1dGVzKCk6W10sdT1sLmNvbmNhdChjKTtsZXQgaD1yP3IuZGVmaW5lcygpOltdO2g9aC5jb25jYXQoYS5tYXAoZT0+XCIjZGVmaW5lIFwiK2UpKTtjb25zdCBkPWguY29uY2F0KHQuZXh0U3RhbmRhcmREZXJpdmF0aXZlcz9cIiNleHRlbnNpb24gR0xfT0VTX3N0YW5kYXJkX2Rlcml2YXRpdmVzIDogZW5hYmxlXFxuXCIuY29uY2F0KHVuKTp1bix1bixjbixsbi5mcmFnbWVudFNvdXJjZSxhbi5mcmFnbWVudFNvdXJjZSxpLmZyYWdtZW50U291cmNlKS5qb2luKFwiXFxuXCIpLHA9aC5jb25jYXQoXCJcXG4jaWZkZWYgR0xfRVNcXG5wcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2Vsc2VcXG5cXG4jaWYgIWRlZmluZWQobG93cClcXG4jZGVmaW5lIGxvd3BcXG4jZW5kaWZcXG5cXG4jaWYgIWRlZmluZWQobWVkaXVtcClcXG4jZGVmaW5lIG1lZGl1bXBcXG4jZW5kaWZcXG5cXG4jaWYgIWRlZmluZWQoaGlnaHApXFxuI2RlZmluZSBoaWdocFxcbiNlbmRpZlxcblxcbiNlbmRpZlwiLGNuLGxuLnZlcnRleFNvdXJjZSxhbi52ZXJ0ZXhTb3VyY2Usb24udmVydGV4U291cmNlLGkudmVydGV4U291cmNlKS5qb2luKFwiXFxuXCIpLGY9cy5jcmVhdGVTaGFkZXIocy5GUkFHTUVOVF9TSEFERVIpO2lmKHMuaXNDb250ZXh0TG9zdCgpKXJldHVybiB2b2lkKHRoaXMuZmFpbGVkVG9DcmVhdGU9ITApO3Muc2hhZGVyU291cmNlKGYsZCkscy5jb21waWxlU2hhZGVyKGYpLHMuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSxmKTtjb25zdCBtPXMuY3JlYXRlU2hhZGVyKHMuVkVSVEVYX1NIQURFUik7aWYocy5pc0NvbnRleHRMb3N0KCkpdGhpcy5mYWlsZWRUb0NyZWF0ZT0hMDtlbHNle3Muc2hhZGVyU291cmNlKG0scCkscy5jb21waWxlU2hhZGVyKG0pLHMuYXR0YWNoU2hhZGVyKHRoaXMucHJvZ3JhbSxtKSx0aGlzLmF0dHJpYnV0ZXM9e30sdGhpcy5udW1BdHRyaWJ1dGVzPXUubGVuZ3RoO2ZvcihsZXQgZT0wO2U8dGhpcy5udW1BdHRyaWJ1dGVzO2UrKyl1W2VdJiYocy5iaW5kQXR0cmliTG9jYXRpb24odGhpcy5wcm9ncmFtLGUsdVtlXSksdGhpcy5hdHRyaWJ1dGVzW3VbZV1dPWUpO3MubGlua1Byb2dyYW0odGhpcy5wcm9ncmFtKSxzLmRlbGV0ZVNoYWRlcihtKSxzLmRlbGV0ZVNoYWRlcihmKSx0aGlzLmZpeGVkVW5pZm9ybXM9byh0KSx0aGlzLmJpbmRlclVuaWZvcm1zPXI/ci5nZXRVbmlmb3Jtcyh0KTpbXSxhLmluY2x1ZGVzKFwiVEVSUkFJTlwiKSYmKHRoaXMudGVycmFpblVuaWZvcm1zPSh0PT4oe3VfZGVtOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2RlbV9wcmV2Om5ldyBlLlVuaWZvcm0xaSh0KSx1X2RlbV91bnBhY2s6bmV3IGUuVW5pZm9ybTRmKHQpLHVfZGVtX3RsOm5ldyBlLlVuaWZvcm0yZih0KSx1X2RlbV9zY2FsZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9kZW1fdGxfcHJldjpuZXcgZS5Vbmlmb3JtMmYodCksdV9kZW1fc2NhbGVfcHJldjpuZXcgZS5Vbmlmb3JtMWYodCksdV9kZW1fc2l6ZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9kZW1fbGVycDpuZXcgZS5Vbmlmb3JtMWYodCksdV9leGFnZ2VyYXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfZGVwdGg6bmV3IGUuVW5pZm9ybTFpKHQpLHVfZGVwdGhfc2l6ZV9pbnY6bmV3IGUuVW5pZm9ybTJmKHQpLHVfbWV0ZXJfdG9fZGVtOm5ldyBlLlVuaWZvcm0xZih0KSx1X2xhYmVsX3BsYW5lX21hdHJpeF9pbnY6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpfSkpKHQpKSxhLmluY2x1ZGVzKFwiR0xPQkVcIikmJih0aGlzLmdsb2JlVW5pZm9ybXM9KHQ9Pih7dV90aWxlX3RsX3VwOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfdHJfdXA6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdGlsZV9icl91cDpuZXcgZS5Vbmlmb3JtM2YodCksdV90aWxlX2JsX3VwOm5ldyBlLlVuaWZvcm0zZih0KSx1X3RpbGVfdXBfc2NhbGU6bmV3IGUuVW5pZm9ybTFmKHQpfSkpKHQpKSxhLmluY2x1ZGVzKFwiRk9HXCIpJiYodGhpcy5mb2dVbmlmb3Jtcz0odD0+KHt1X2ZvZ19tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfZm9nX3JhbmdlOm5ldyBlLlVuaWZvcm0yZih0KSx1X2ZvZ19jb2xvcjpuZXcgZS5Vbmlmb3JtNGYodCksdV9mb2dfaG9yaXpvbl9ibGVuZDpuZXcgZS5Vbmlmb3JtMWYodCksdV9mb2dfdGVtcG9yYWxfb2Zmc2V0Om5ldyBlLlVuaWZvcm0xZih0KSx1X2ZydXN0dW1fdGw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV90cjpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX2JyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYmw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZ2xvYmVfcG9zOm5ldyBlLlVuaWZvcm0zZih0KSx1X2dsb2JlX3JhZGl1czpuZXcgZS5Vbmlmb3JtMWYodCksdV9nbG9iZV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2lzX2dsb2JlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3ZpZXdwb3J0Om5ldyBlLlVuaWZvcm0yZih0KX0pKSh0KSl9fXNldFRlcnJhaW5Vbmlmb3JtVmFsdWVzKGUsdCl7aWYoIXRoaXMudGVycmFpblVuaWZvcm1zKXJldHVybjtjb25zdCBuPXRoaXMudGVycmFpblVuaWZvcm1zO2lmKCF0aGlzLmZhaWxlZFRvQ3JlYXRlKXtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSk7Zm9yKGNvbnN0IGUgaW4gdCluW2VdJiZuW2VdLnNldCh0aGlzLnByb2dyYW0sZSx0W2VdKX19c2V0R2xvYmVVbmlmb3JtVmFsdWVzKGUsdCl7aWYoIXRoaXMuZ2xvYmVVbmlmb3JtcylyZXR1cm47Y29uc3Qgbj10aGlzLmdsb2JlVW5pZm9ybXM7aWYoIXRoaXMuZmFpbGVkVG9DcmVhdGUpe2UucHJvZ3JhbS5zZXQodGhpcy5wcm9ncmFtKTtmb3IoY29uc3QgZSBpbiB0KW5bZV0mJm5bZV0uc2V0KHRoaXMucHJvZ3JhbSxlLHRbZV0pfX1zZXRGb2dVbmlmb3JtVmFsdWVzKGUsdCl7aWYoIXRoaXMuZm9nVW5pZm9ybXMpcmV0dXJuO2NvbnN0IG49dGhpcy5mb2dVbmlmb3JtcztpZighdGhpcy5mYWlsZWRUb0NyZWF0ZSl7ZS5wcm9ncmFtLnNldCh0aGlzLnByb2dyYW0pO2Zvcihjb25zdCBlIGluIHQpbltlXS5zZXQodGhpcy5wcm9ncmFtLGUsdFtlXSl9fWRyYXcoZSx0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwLGYpe2NvbnN0IG09ZS5nbDtpZih0aGlzLmZhaWxlZFRvQ3JlYXRlKXJldHVybjtlLnByb2dyYW0uc2V0KHRoaXMucHJvZ3JhbSksZS5zZXREZXB0aE1vZGUobiksZS5zZXRTdGVuY2lsTW9kZShpKSxlLnNldENvbG9yTW9kZShyKSxlLnNldEN1bGxGYWNlKG8pO2Zvcihjb25zdCBlIG9mIE9iamVjdC5rZXlzKHRoaXMuZml4ZWRVbmlmb3JtcykpdGhpcy5maXhlZFVuaWZvcm1zW2VdLnNldCh0aGlzLnByb2dyYW0sZSxhW2VdKTtwJiZwLnNldFVuaWZvcm1zKHRoaXMucHJvZ3JhbSxlLHRoaXMuYmluZGVyVW5pZm9ybXMsaCx7em9vbTpkfSk7Y29uc3QgZz17W20uTElORVNdOjIsW20uVFJJQU5HTEVTXTozLFttLkxJTkVfU1RSSVBdOjF9W3RdO2Zvcihjb25zdCBuIG9mIHUuZ2V0KCkpe2NvbnN0IGk9bi52YW9zfHwobi52YW9zPXt9KTsoaVtzXXx8KGlbc109bmV3IGZuKSkuYmluZChlLHRoaXMsbCxwP3AuZ2V0UGFpbnRWZXJ0ZXhCdWZmZXJzKCk6W10sYyxuLnZlcnRleE9mZnNldCxmfHxbXSksbS5kcmF3RWxlbWVudHModCxuLnByaW1pdGl2ZUxlbmd0aCpnLG0uVU5TSUdORURfU0hPUlQsbi5wcmltaXRpdmVPZmZzZXQqZyoyKX19fWZ1bmN0aW9uIERuKGUsdCl7Y29uc3Qgbj1NYXRoLnBvdygyLHQudGlsZUlELm92ZXJzY2FsZWRaKSxpPXQudGlsZVNpemUqTWF0aC5wb3coMixlLnRyYW5zZm9ybS50aWxlWm9vbSkvbixyPWkqKHQudGlsZUlELmNhbm9uaWNhbC54K3QudGlsZUlELndyYXAqbiksbz1pKnQudGlsZUlELmNhbm9uaWNhbC55O3JldHVybnt1X2ltYWdlOjAsdV90ZXhzaXplOnQuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOjEvRCh0LDEsZS50cmFuc2Zvcm0udGlsZVpvb20pLHVfcGl4ZWxfY29vcmRfdXBwZXI6W3I+PjE2LG8+PjE2XSx1X3BpeGVsX2Nvb3JkX2xvd2VyOls2NTUzNSZyLDY1NTM1Jm9dfX1jb25zdCBMbj1lLmNyZWF0ZSgpLE9uPSh0LG4saSxyLG8sYSxzLGwsYyx1LGgpPT57Y29uc3QgZD1uLnN0eWxlLmxpZ2h0LHA9ZC5wcm9wZXJ0aWVzLmdldChcInBvc2l0aW9uXCIpLGY9W3AueCxwLnkscC56XSxtPWUuY3JlYXRlJDEoKTtcInZpZXdwb3J0XCI9PT1kLnByb3BlcnRpZXMuZ2V0KFwiYW5jaG9yXCIpJiYoZS5mcm9tUm90YXRpb24obSwtbi50cmFuc2Zvcm0uYW5nbGUpLGUudHJhbnNmb3JtTWF0MyhmLGYsbSkpO2NvbnN0IGc9ZC5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLHk9bi50cmFuc2Zvcm0sXz17dV9tYXRyaXg6dCx1X2xpZ2h0cG9zOmYsdV9saWdodGludGVuc2l0eTpkLnByb3BlcnRpZXMuZ2V0KFwiaW50ZW5zaXR5XCIpLHVfbGlnaHRjb2xvcjpbZy5yLGcuZyxnLmJdLHVfdmVydGljYWxfZ3JhZGllbnQ6K2ksdV9vcGFjaXR5OnIsdV90aWxlX2lkOlswLDAsMF0sdV96b29tX3RyYW5zaXRpb246MCx1X2ludl9yb3RfbWF0cml4OkxuLHVfbWVyY19jZW50ZXI6WzAsMF0sdV91cF9kaXI6WzAsMCwwXSx1X2hlaWdodF9saWZ0OjAsdV9hbzpvLHVfZWRnZV9yYWRpdXM6YX07cmV0dXJuXCJnbG9iZVwiPT09eS5wcm9qZWN0aW9uLm5hbWUmJihfLnVfdGlsZV9pZD1bcy5jYW5vbmljYWwueCxzLmNhbm9uaWNhbC55LDE8PHMuY2Fub25pY2FsLnpdLF8udV96b29tX3RyYW5zaXRpb249YyxfLnVfaW52X3JvdF9tYXRyaXg9aCxfLnVfbWVyY19jZW50ZXI9dSxfLnVfdXBfZGlyPXkucHJvamVjdGlvbi51cFZlY3RvcihuZXcgZS5DYW5vbmljYWxUaWxlSUQoMCwwLDApLHVbMF0qZS5FWFRFTlQsdVsxXSplLkVYVEVOVCksXy51X2hlaWdodF9saWZ0PWwpLF99LFJuPSh0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCk9Pntjb25zdCBwPU9uKHQsbixpLHIsbyxhLHMsYyx1LGgsZCksZj17dV9oZWlnaHRfZmFjdG9yOi1NYXRoLnBvdygyLHMub3ZlcnNjYWxlZFopL2wudGlsZVNpemUvOH07cmV0dXJuIGUuZXh0ZW5kKHAsRG4obixsKSxmKX0sQm49ZT0+KHt1X21hdHJpeDplfSksam49KHQsbixpKT0+ZS5leHRlbmQoQm4odCksRG4obixpKSksRm49KGUsdCk9Pih7dV9tYXRyaXg6ZSx1X3dvcmxkOnR9KSxObj0odCxuLGkscik9PmUuZXh0ZW5kKGpuKHQsbixpKSx7dV93b3JsZDpyfSksVW49ZS5jcmVhdGUoKSxWbj0odCxuLGkscixvLGEpPT57Y29uc3Qgcz10LnRyYW5zZm9ybSxsPVwiZ2xvYmVcIj09PXMucHJvamVjdGlvbi5uYW1lO2xldCBjO2lmKFwibWFwXCI9PT1hLnBhaW50LmdldChcImNpcmNsZS1waXRjaC1hbGlnbm1lbnRcIikpaWYobCl7Y29uc3QgdD1lLmdsb2JlUGl4ZWxzVG9UaWxlVW5pdHMocy56b29tLG4uY2Fub25pY2FsKSpzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsO2M9RmxvYXQzMkFycmF5LmZyb20oW3QsMCwwLHRdKX1lbHNlIGM9cy5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeChpKTtlbHNlIGM9bmV3IEZsb2F0MzJBcnJheShbcy5waXhlbHNUb0dMVW5pdHNbMF0sMCwwLHMucGl4ZWxzVG9HTFVuaXRzWzFdXSk7Y29uc3QgdT17dV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOnMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSx1X21hdHJpeDp0LnRyYW5zbGF0ZVBvc01hdHJpeChuLnByb2pNYXRyaXgsaSxhLnBhaW50LmdldChcImNpcmNsZS10cmFuc2xhdGVcIiksYS5wYWludC5nZXQoXCJjaXJjbGUtdHJhbnNsYXRlLWFuY2hvclwiKSksdV9kZXZpY2VfcGl4ZWxfcmF0aW86ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHVfZXh0cnVkZV9zY2FsZTpjLHVfaW52X3JvdF9tYXRyaXg6VW4sdV9tZXJjX2NlbnRlcjpbMCwwXSx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfdXBfZGlyOlswLDAsMF19O2lmKGwpe3UudV9pbnZfcm90X21hdHJpeD1yLHUudV9tZXJjX2NlbnRlcj1vLHUudV90aWxlX2lkPVtuLmNhbm9uaWNhbC54LG4uY2Fub25pY2FsLnksMTw8bi5jYW5vbmljYWwuel0sdS51X3pvb21fdHJhbnNpdGlvbj1lLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24ocy56b29tKTtjb25zdCB0PW9bMF0qZS5FWFRFTlQsaT1vWzFdKmUuRVhURU5UO3UudV91cF9kaXI9cy5wcm9qZWN0aW9uLnVwVmVjdG9yKG5ldyBlLkNhbm9uaWNhbFRpbGVJRCgwLDAsMCksdCxpKX1yZXR1cm4gdX0sR249ZT0+e2NvbnN0IHQ9W107cmV0dXJuXCJtYXBcIj09PWUucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLWFsaWdubWVudFwiKSYmdC5wdXNoKFwiUElUQ0hfV0lUSF9NQVBcIiksXCJtYXBcIj09PWUucGFpbnQuZ2V0KFwiY2lyY2xlLXBpdGNoLXNjYWxlXCIpJiZ0LnB1c2goXCJTQ0FMRV9XSVRIX01BUFwiKSx0fSxabj0odCxuLGkscik9Pntjb25zdCBvPWUuRVhURU5UL2kudGlsZVNpemU7cmV0dXJue3VfbWF0cml4OnQsdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm4uZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShyKSx1X2V4dHJ1ZGVfc2NhbGU6W24ucGl4ZWxzVG9HTFVuaXRzWzBdL28sbi5waXhlbHNUb0dMVW5pdHNbMV0vb119fSxXbj0oZSx0LG49MSk9Pih7dV9tYXRyaXg6ZSx1X2NvbG9yOnQsdV9vdmVybGF5OjAsdV9vdmVybGF5X3NjYWxlOm59KSxxbj1lLmNyZWF0ZSgpLCRuPSh0LG4saSxyLG8sYSxzKT0+e2NvbnN0IGw9dC50cmFuc2Zvcm0sYz1cImdsb2JlXCI9PT1sLnByb2plY3Rpb24ubmFtZSx1PWM/ZS5nbG9iZVBpeGVsc1RvVGlsZVVuaXRzKGwuem9vbSxuLmNhbm9uaWNhbCkqbC5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDpEKGksMSxhKSxoPXt1X21hdHJpeDpuLnByb2pNYXRyaXgsdV9leHRydWRlX3NjYWxlOnUsdV9pbnRlbnNpdHk6cyx1X2ludl9yb3RfbWF0cml4OnFuLHVfbWVyY19jZW50ZXI6WzAsMF0sdV90aWxlX2lkOlswLDAsMF0sdV96b29tX3RyYW5zaXRpb246MCx1X3VwX2RpcjpbMCwwLDBdfTtpZihjKXtoLnVfaW52X3JvdF9tYXRyaXg9cixoLnVfbWVyY19jZW50ZXI9byxoLnVfdGlsZV9pZD1bbi5jYW5vbmljYWwueCxuLmNhbm9uaWNhbC55LDE8PG4uY2Fub25pY2FsLnpdLGgudV96b29tX3RyYW5zaXRpb249ZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKGwuem9vbSk7Y29uc3QgdD1vWzBdKmUuRVhURU5ULGk9b1sxXSplLkVYVEVOVDtoLnVfdXBfZGlyPWwucHJvamVjdGlvbi51cFZlY3RvcihuZXcgZS5DYW5vbmljYWxUaWxlSUQoMCwwLDApLHQsaSl9cmV0dXJuIGh9LEhuPShlLHQsbixpLHIsbyxhKT0+e2NvbnN0IHM9ZS50cmFuc2Zvcm0sbD1zLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHQpO3JldHVybnt1X21hdHJpeDpKbihlLHQsbixpKSx1X3BpeGVsc190b190aWxlX3VuaXRzOmwsdV9kZXZpY2VfcGl4ZWxfcmF0aW86byx1X3VuaXRzX3RvX3BpeGVsczpbMS9zLnBpeGVsc1RvR0xVbml0c1swXSwxL3MucGl4ZWxzVG9HTFVuaXRzWzFdXSx1X2Rhc2hfaW1hZ2U6MCx1X2dyYWRpZW50X2ltYWdlOjEsdV9pbWFnZV9oZWlnaHQ6cix1X3RleHNpemU6UW4obik/dC5saW5lQXRsYXNUZXh0dXJlLnNpemU6WzAsMF0sdV90aWxlX3VuaXRzX3RvX3BpeGVsczpZbih0LGUudHJhbnNmb3JtKSx1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkOjAsdV90cmltX29mZnNldDphfX0sWG49KGUsdCxuLGkscik9Pntjb25zdCBvPWUudHJhbnNmb3JtO3JldHVybnt1X21hdHJpeDpKbihlLHQsbixpKSx1X3RleHNpemU6dC5pbWFnZUF0bGFzVGV4dHVyZS5zaXplLHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM6by5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeCh0KSx1X2RldmljZV9waXhlbF9yYXRpbzpyLHVfaW1hZ2U6MCx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOlluKHQsbyksdV91bml0c190b19waXhlbHM6WzEvby5waXhlbHNUb0dMVW5pdHNbMF0sMS9vLnBpeGVsc1RvR0xVbml0c1sxXV0sdV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZDowfX07ZnVuY3Rpb24gWW4oZSx0KXtyZXR1cm4gMS9EKGUsMSx0LnRpbGVab29tKX1mdW5jdGlvbiBKbihlLHQsbixpKXtyZXR1cm4gZS50cmFuc2xhdGVQb3NNYXRyaXgoaXx8dC50aWxlSUQucHJvak1hdHJpeCx0LG4ucGFpbnQuZ2V0KFwibGluZS10cmFuc2xhdGVcIiksbi5wYWludC5nZXQoXCJsaW5lLXRyYW5zbGF0ZS1hbmNob3JcIikpfWZ1bmN0aW9uIFFuKGUpe2NvbnN0IHQ9ZS5wYWludC5nZXQoXCJsaW5lLWRhc2hhcnJheVwiKS52YWx1ZTtyZXR1cm4gdC52YWx1ZXx8XCJjb25zdGFudFwiIT09dC5raW5kfWNvbnN0IEtuPShlLHQsbixpLHIsbyk9PntyZXR1cm57dV9tYXRyaXg6ZSx1X3RsX3BhcmVudDp0LHVfc2NhbGVfcGFyZW50Om4sdV9mYWRlX3Q6aS5taXgsdV9vcGFjaXR5Omkub3BhY2l0eSpyLnBhaW50LmdldChcInJhc3Rlci1vcGFjaXR5XCIpLHVfaW1hZ2UwOjAsdV9pbWFnZTE6MSx1X2JyaWdodG5lc3NfbG93OnIucGFpbnQuZ2V0KFwicmFzdGVyLWJyaWdodG5lc3MtbWluXCIpLHVfYnJpZ2h0bmVzc19oaWdoOnIucGFpbnQuZ2V0KFwicmFzdGVyLWJyaWdodG5lc3MtbWF4XCIpLHVfc2F0dXJhdGlvbl9mYWN0b3I6KHM9ci5wYWludC5nZXQoXCJyYXN0ZXItc2F0dXJhdGlvblwiKSxzPjA/MS0xLygxLjAwMS1zKTotcyksdV9jb250cmFzdF9mYWN0b3I6KGE9ci5wYWludC5nZXQoXCJyYXN0ZXItY29udHJhc3RcIiksYT4wPzEvKDEtYSk6MSthKSx1X3NwaW5fd2VpZ2h0czplaShyLnBhaW50LmdldChcInJhc3Rlci1odWUtcm90YXRlXCIpKSx1X3BlcnNwZWN0aXZlX3RyYW5zZm9ybTpvfTt2YXIgYSxzfTtmdW5jdGlvbiBlaShlKXtlKj1NYXRoLlBJLzE4MDtjb25zdCB0PU1hdGguc2luKGUpLG49TWF0aC5jb3MoZSk7cmV0dXJuWygyKm4rMSkvMywoLU1hdGguc3FydCgzKSp0LW4rMSkvMywoTWF0aC5zcXJ0KDMpKnQtbisxKS8zXX1jb25zdCB0aT1lLmNyZWF0ZSgpLG5pPSh0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnKT0+e2NvbnN0IHk9by50cmFuc2Zvcm0sXz17dV9pc19zaXplX3pvb21fY29uc3RhbnQ6KyhcImNvbnN0YW50XCI9PT10fHxcInNvdXJjZVwiPT09dCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6KyhcImNvbnN0YW50XCI9PT10fHxcImNhbWVyYVwiPT09dCksdV9zaXplX3Q6bj9uLnVTaXplVDowLHVfc2l6ZTpuP24udVNpemU6MCx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6eS5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLHVfcm90YXRlX3N5bWJvbDoraSx1X2FzcGVjdF9yYXRpbzp5LndpZHRoL3kuaGVpZ2h0LHVfZmFkZV9jaGFuZ2U6by5vcHRpb25zLmZhZGVEdXJhdGlvbj9vLnN5bWJvbEZhZGVDaGFuZ2U6MSx1X21hdHJpeDphLHVfbGFiZWxfcGxhbmVfbWF0cml4OnMsdV9jb29yZF9tYXRyaXg6bCx1X2lzX3RleHQ6K2MsdV9waXRjaF93aXRoX21hcDorcix1X3RleHNpemU6dSx1X3RleHR1cmU6MCx1X3RpbGVfaWQ6WzAsMCwwXSx1X3pvb21fdHJhbnNpdGlvbjowLHVfaW52X3JvdF9tYXRyaXg6dGksdV9tZXJjX2NlbnRlcjpbMCwwXSx1X2NhbWVyYV9mb3J3YXJkOlswLDAsMF0sdV9lY2VmX29yaWdpbjpbMCwwLDBdLHVfdGlsZV9tYXRyaXg6dGksdV91cF92ZWN0b3I6WzAsLTEsMF19O3JldHVyblwiZ2xvYmVcIj09PWcubmFtZSYmKF8udV90aWxlX2lkPVtoLmNhbm9uaWNhbC54LGguY2Fub25pY2FsLnksMTw8aC5jYW5vbmljYWwuel0sXy51X3pvb21fdHJhbnNpdGlvbj1kLF8udV9pbnZfcm90X21hdHJpeD1mLF8udV9tZXJjX2NlbnRlcj1wLF8udV9jYW1lcmFfZm9yd2FyZD15Ll9jYW1lcmEuZm9yd2FyZCgpLF8udV9lY2VmX29yaWdpbj1lLmdsb2JlRUNFRk9yaWdpbih5Lmdsb2JlTWF0cml4LGgudG9VbndyYXBwZWQoKSksXy51X3RpbGVfbWF0cml4PUZsb2F0MzJBcnJheS5mcm9tKHkuZ2xvYmVNYXRyaXgpLF8udV91cF92ZWN0b3I9bSksX30saWk9KHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkLHAsZixtLGcseSk9PmUuZXh0ZW5kKG5pKHQsbixpLHIsbyxhLHMsbCxjLHUsZCxwLGYsbSxnLHkpLHt1X2dhbW1hX3NjYWxlOnI/by50cmFuc2Zvcm0uY2FtZXJhVG9DZW50ZXJEaXN0YW5jZSpNYXRoLmNvcyhvLnRlcnJhaW4/MDpvLnRyYW5zZm9ybS5fcGl0Y2gpOjEsdV9kZXZpY2VfcGl4ZWxfcmF0aW86ZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHVfaXNfaGFsbzoraH0pLHJpPSh0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwLGYsbSxnKT0+ZS5leHRlbmQoaWkodCxuLGkscixvLGEscyxsLCEwLGMsITAsaCxkLHAsZixtLGcpLHt1X3RleHNpemVfaWNvbjp1LHVfdGV4dHVyZV9pY29uOjF9KSxvaT0oZSx0LG4pPT4oe3VfbWF0cml4OmUsdV9vcGFjaXR5OnQsdV9jb2xvcjpufSksYWk9KHQsbixpLHIsbyk9PmUuZXh0ZW5kKGZ1bmN0aW9uKGUsdCxuKXtjb25zdCBpPXQuaW1hZ2VNYW5hZ2VyLmdldFBhdHRlcm4oZS50b1N0cmluZygpKSx7d2lkdGg6cixoZWlnaHQ6b309dC5pbWFnZU1hbmFnZXIuZ2V0UGl4ZWxTaXplKCksYT1NYXRoLnBvdygyLG4udGlsZUlELm92ZXJzY2FsZWRaKSxzPW4udGlsZVNpemUqTWF0aC5wb3coMix0LnRyYW5zZm9ybS50aWxlWm9vbSkvYSxsPXMqKG4udGlsZUlELmNhbm9uaWNhbC54K24udGlsZUlELndyYXAqYSksYz1zKm4udGlsZUlELmNhbm9uaWNhbC55O3JldHVybnt1X2ltYWdlOjAsdV9wYXR0ZXJuX3RsOmkudGwsdV9wYXR0ZXJuX2JyOmkuYnIsdV90ZXhzaXplOltyLG9dLHVfcGF0dGVybl9zaXplOmkuZGlzcGxheVNpemUsdV90aWxlX3VuaXRzX3RvX3BpeGVsczoxL0QobiwxLHQudHJhbnNmb3JtLnRpbGVab29tKSx1X3BpeGVsX2Nvb3JkX3VwcGVyOltsPj4xNixjPj4xNl0sdV9waXhlbF9jb29yZF9sb3dlcjpbNjU1MzUmbCw2NTUzNSZjXX19KHIsaSxvKSx7dV9tYXRyaXg6dCx1X29wYWNpdHk6bn0pLHNpPXtmaWxsRXh0cnVzaW9uOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbGlnaHRwb3M6bmV3IGUuVW5pZm9ybTNmKHQpLHVfbGlnaHRpbnRlbnNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfbGlnaHRjb2xvcjpuZXcgZS5Vbmlmb3JtM2YodCksdV92ZXJ0aWNhbF9ncmFkaWVudDpuZXcgZS5Vbmlmb3JtMWYodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2VkZ2VfcmFkaXVzOm5ldyBlLlVuaWZvcm0xZih0KSx1X2FvOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfaWQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfem9vbV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ludl9yb3RfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X21lcmNfY2VudGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3VwX2RpcjpuZXcgZS5Vbmlmb3JtM2YodCksdV9oZWlnaHRfbGlmdDpuZXcgZS5Vbmlmb3JtMWYodCl9KSxmaWxsRXh0cnVzaW9uUGF0dGVybjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2xpZ2h0cG9zOm5ldyBlLlVuaWZvcm0zZih0KSx1X2xpZ2h0aW50ZW5zaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2xpZ2h0Y29sb3I6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdmVydGljYWxfZ3JhZGllbnQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfaGVpZ2h0X2ZhY3RvcjpuZXcgZS5Vbmlmb3JtMWYodCksdV9lZGdlX3JhZGl1czpuZXcgZS5Vbmlmb3JtMWYodCksdV9hbzpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX2lkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbnZfcm90X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV91cF9kaXI6bmV3IGUuVW5pZm9ybTNmKHQpLHVfaGVpZ2h0X2xpZnQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV9waXhlbF9jb29yZF91cHBlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV9waXhlbF9jb29yZF9sb3dlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX3VuaXRzX3RvX3BpeGVsczpuZXcgZS5Vbmlmb3JtMWYodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KX0pLGZpbGw6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCl9KSxmaWxsUGF0dGVybjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV91bml0c190b19waXhlbHM6bmV3IGUuVW5pZm9ybTFmKHQpfSksZmlsbE91dGxpbmU6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV93b3JsZDpuZXcgZS5Vbmlmb3JtMmYodCl9KSxmaWxsT3V0bGluZVBhdHRlcm46dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV93b3JsZDpuZXcgZS5Vbmlmb3JtMmYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX3VwcGVyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BpeGVsX2Nvb3JkX2xvd2VyOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBlLlVuaWZvcm0xZih0KX0pLGNpcmNsZTp0PT4oe3VfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9leHRydWRlX3NjYWxlOm5ldyBlLlVuaWZvcm1NYXRyaXgyZih0KSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV9pZDpuZXcgZS5Vbmlmb3JtM2YodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfdXBfZGlyOm5ldyBlLlVuaWZvcm0zZih0KX0pLGNvbGxpc2lvbkJveDp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZXh0cnVkZV9zY2FsZTpuZXcgZS5Vbmlmb3JtMmYodCl9KSxjb2xsaXNpb25DaXJjbGU6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pbnZfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdmlld3BvcnRfc2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCl9KSxkZWJ1Zzp0PT4oe3VfY29sb3I6bmV3IGUuVW5pZm9ybUNvbG9yKHQpLHVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X292ZXJsYXk6bmV3IGUuVW5pZm9ybTFpKHQpLHVfb3ZlcmxheV9zY2FsZTpuZXcgZS5Vbmlmb3JtMWYodCl9KSxjbGlwcGluZ01hc2s6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCl9KSxoZWF0bWFwOnQ9Pih7dV9leHRydWRlX3NjYWxlOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ludGVuc2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV9pZDpuZXcgZS5Vbmlmb3JtM2YodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfdXBfZGlyOm5ldyBlLlVuaWZvcm0zZih0KX0pLGhlYXRtYXBUZXh0dXJlOnQ9Pih7dV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9jb2xvcl9yYW1wOm5ldyBlLlVuaWZvcm0xaSh0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpfSksaGlsbHNoYWRlOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfbGF0cmFuZ2U6bmV3IGUuVW5pZm9ybTJmKHQpLHVfbGlnaHQ6bmV3IGUuVW5pZm9ybTJmKHQpLHVfc2hhZG93Om5ldyBlLlVuaWZvcm1Db2xvcih0KSx1X2hpZ2hsaWdodDpuZXcgZS5Vbmlmb3JtQ29sb3IodCksdV9hY2NlbnQ6bmV3IGUuVW5pZm9ybUNvbG9yKHQpfSksaGlsbHNoYWRlUHJlcGFyZTp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2RpbWVuc2lvbjpuZXcgZS5Vbmlmb3JtMmYodCksdV96b29tOm5ldyBlLlVuaWZvcm0xZih0KSx1X3VucGFjazpuZXcgZS5Vbmlmb3JtNGYodCl9KSxsaW5lOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfcGl4ZWxzX3RvX3RpbGVfdW5pdHM6bmV3IGUuVW5pZm9ybU1hdHJpeDJmKHQpLHVfZGV2aWNlX3BpeGVsX3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X3VuaXRzX3RvX3BpeGVsczpuZXcgZS5Vbmlmb3JtMmYodCksdV9kYXNoX2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2dyYWRpZW50X2ltYWdlOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2ltYWdlX2hlaWdodDpuZXcgZS5Vbmlmb3JtMWYodCksdV90ZXhzaXplOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBlLlVuaWZvcm0xZih0KSx1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkOm5ldyBlLlVuaWZvcm0xZih0KSx1X3RyaW1fb2Zmc2V0Om5ldyBlLlVuaWZvcm0yZih0KX0pLGxpbmVQYXR0ZXJuOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV9waXhlbHNfdG9fdGlsZV91bml0czpuZXcgZS5Vbmlmb3JtTWF0cml4MmYodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW1hZ2U6bmV3IGUuVW5pZm9ybTFpKHQpLHVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RpbGVfdW5pdHNfdG9fcGl4ZWxzOm5ldyBlLlVuaWZvcm0xZih0KSx1X2FscGhhX2Rpc2NhcmRfdGhyZXNob2xkOm5ldyBlLlVuaWZvcm0xZih0KX0pLHJhc3Rlcjp0PT4oe3VfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X3RsX3BhcmVudDpuZXcgZS5Vbmlmb3JtMmYodCksdV9zY2FsZV9wYXJlbnQ6bmV3IGUuVW5pZm9ybTFmKHQpLHVfZmFkZV90Om5ldyBlLlVuaWZvcm0xZih0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW1hZ2UwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2ltYWdlMTpuZXcgZS5Vbmlmb3JtMWkodCksdV9icmlnaHRuZXNzX2xvdzpuZXcgZS5Vbmlmb3JtMWYodCksdV9icmlnaHRuZXNzX2hpZ2g6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc2F0dXJhdGlvbl9mYWN0b3I6bmV3IGUuVW5pZm9ybTFmKHQpLHVfY29udHJhc3RfZmFjdG9yOm5ldyBlLlVuaWZvcm0xZih0KSx1X3NwaW5fd2VpZ2h0czpuZXcgZS5Vbmlmb3JtM2YodCksdV9wZXJzcGVjdGl2ZV90cmFuc2Zvcm06bmV3IGUuVW5pZm9ybTJmKHQpfSksc3ltYm9sSWNvbjp0PT4oe3VfaXNfc2l6ZV96b29tX2NvbnN0YW50Om5ldyBlLlVuaWZvcm0xaSh0KSx1X2lzX3NpemVfZmVhdHVyZV9jb25zdGFudDpuZXcgZS5Vbmlmb3JtMWkodCksdV9zaXplX3Q6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc2l6ZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9jYW1lcmFfdG9fY2VudGVyX2Rpc3RhbmNlOm5ldyBlLlVuaWZvcm0xZih0KSx1X3JvdGF0ZV9zeW1ib2w6bmV3IGUuVW5pZm9ybTFpKHQpLHVfYXNwZWN0X3JhdGlvOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ZhZGVfY2hhbmdlOm5ldyBlLlVuaWZvcm0xZih0KSx1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9sYWJlbF9wbGFuZV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfY29vcmRfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2lzX3RleHQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfcGl0Y2hfd2l0aF9tYXA6bmV3IGUuVW5pZm9ybTFpKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV90aWxlX2lkOm5ldyBlLlVuaWZvcm0zZih0KSx1X3pvb21fdHJhbnNpdGlvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbnZfcm90X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX2NlbnRlcjpuZXcgZS5Vbmlmb3JtMmYodCksdV9jYW1lcmFfZm9yd2FyZDpuZXcgZS5Vbmlmb3JtM2YodCksdV90aWxlX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV91cF92ZWN0b3I6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZWNlZl9vcmlnaW46bmV3IGUuVW5pZm9ybTNmKHQpLHVfdGV4dHVyZTpuZXcgZS5Vbmlmb3JtMWkodCl9KSxzeW1ib2xTREY6dD0+KHt1X2lzX3NpemVfem9vbV9jb25zdGFudDpuZXcgZS5Vbmlmb3JtMWkodCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfc2l6ZV90Om5ldyBlLlVuaWZvcm0xZih0KSx1X3NpemU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9yb3RhdGVfc3ltYm9sOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2FzcGVjdF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV9mYWRlX2NoYW5nZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbGFiZWxfcGxhbmVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2Nvb3JkX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pc190ZXh0Om5ldyBlLlVuaWZvcm0xaSh0KSx1X3BpdGNoX3dpdGhfbWFwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGV4dHVyZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9nYW1tYV9zY2FsZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9kZXZpY2VfcGl4ZWxfcmF0aW86bmV3IGUuVW5pZm9ybTFmKHQpLHVfdGlsZV9pZDpuZXcgZS5Vbmlmb3JtM2YodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfaW52X3JvdF9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfY2FtZXJhX2ZvcndhcmQ6bmV3IGUuVW5pZm9ybTNmKHQpLHVfdGlsZV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfdXBfdmVjdG9yOm5ldyBlLlVuaWZvcm0zZih0KSx1X2VjZWZfb3JpZ2luOm5ldyBlLlVuaWZvcm0zZih0KSx1X2lzX2hhbG86bmV3IGUuVW5pZm9ybTFpKHQpfSksc3ltYm9sVGV4dEFuZEljb246dD0+KHt1X2lzX3NpemVfem9vbV9jb25zdGFudDpuZXcgZS5Vbmlmb3JtMWkodCksdV9pc19zaXplX2ZlYXR1cmVfY29uc3RhbnQ6bmV3IGUuVW5pZm9ybTFpKHQpLHVfc2l6ZV90Om5ldyBlLlVuaWZvcm0xZih0KSx1X3NpemU6bmV3IGUuVW5pZm9ybTFmKHQpLHVfY2FtZXJhX3RvX2NlbnRlcl9kaXN0YW5jZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9yb3RhdGVfc3ltYm9sOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2FzcGVjdF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV9mYWRlX2NoYW5nZTpuZXcgZS5Vbmlmb3JtMWYodCksdV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbGFiZWxfcGxhbmVfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXg0Zih0KSx1X2Nvb3JkX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9pc190ZXh0Om5ldyBlLlVuaWZvcm0xaSh0KSx1X3BpdGNoX3dpdGhfbWFwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X3RleHNpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGV4c2l6ZV9pY29uOm5ldyBlLlVuaWZvcm0yZih0KSx1X3RleHR1cmU6bmV3IGUuVW5pZm9ybTFpKHQpLHVfdGV4dHVyZV9pY29uOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2dhbW1hX3NjYWxlOm5ldyBlLlVuaWZvcm0xZih0KSx1X2RldmljZV9waXhlbF9yYXRpbzpuZXcgZS5Vbmlmb3JtMWYodCksdV9pc19oYWxvOm5ldyBlLlVuaWZvcm0xaSh0KX0pLGJhY2tncm91bmQ6dD0+KHt1X21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2NvbG9yOm5ldyBlLlVuaWZvcm1Db2xvcih0KX0pLGJhY2tncm91bmRQYXR0ZXJuOnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfb3BhY2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9pbWFnZTpuZXcgZS5Vbmlmb3JtMWkodCksdV9wYXR0ZXJuX3RsOm5ldyBlLlVuaWZvcm0yZih0KSx1X3BhdHRlcm5fYnI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGV4c2l6ZTpuZXcgZS5Vbmlmb3JtMmYodCksdV9wYXR0ZXJuX3NpemU6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfdXBwZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfcGl4ZWxfY29vcmRfbG93ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfdGlsZV91bml0c190b19waXhlbHM6bmV3IGUuVW5pZm9ybTFmKHQpfSksdGVycmFpblJhc3Rlcjp2bix0ZXJyYWluRGVwdGg6dm4sc2t5Ym94OnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfc3VuX2RpcmVjdGlvbjpuZXcgZS5Vbmlmb3JtM2YodCksdV9jdWJlbWFwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X29wYWNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfdGVtcG9yYWxfb2Zmc2V0Om5ldyBlLlVuaWZvcm0xZih0KX0pLHNreWJveEdyYWRpZW50OnQ9Pih7dV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfY29sb3JfcmFtcDpuZXcgZS5Vbmlmb3JtMWkodCksdV9jZW50ZXJfZGlyZWN0aW9uOm5ldyBlLlVuaWZvcm0zZih0KSx1X3JhZGl1czpuZXcgZS5Vbmlmb3JtMWYodCksdV9vcGFjaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X3RlbXBvcmFsX29mZnNldDpuZXcgZS5Vbmlmb3JtMWYodCl9KSxza3lib3hDYXB0dXJlOnQ9Pih7dV9tYXRyaXhfM2Y6bmV3IGUuVW5pZm9ybU1hdHJpeDNmKHQpLHVfc3VuX2RpcmVjdGlvbjpuZXcgZS5Vbmlmb3JtM2YodCksdV9zdW5faW50ZW5zaXR5Om5ldyBlLlVuaWZvcm0xZih0KSx1X2NvbG9yX3RpbnRfcjpuZXcgZS5Vbmlmb3JtNGYodCksdV9jb2xvcl90aW50X206bmV3IGUuVW5pZm9ybTRmKHQpLHVfbHVtaW5hbmNlOm5ldyBlLlVuaWZvcm0xZih0KX0pLGdsb2JlUmFzdGVyOnQ9Pih7dV9wcm9qX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9nbG9iZV9tYXRyaXg6bmV3IGUuVW5pZm9ybU1hdHJpeDRmKHQpLHVfbm9ybWFsaXplX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV9tZXJjX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCksdV96b29tX3RyYW5zaXRpb246bmV3IGUuVW5pZm9ybTFmKHQpLHVfbWVyY19jZW50ZXI6bmV3IGUuVW5pZm9ybTJmKHQpLHVfaW1hZ2UwOm5ldyBlLlVuaWZvcm0xaSh0KSx1X2dyaWRfbWF0cml4Om5ldyBlLlVuaWZvcm1NYXRyaXgzZih0KSx1X2ZydXN0dW1fdGw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV90cjpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX2JyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYmw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZ2xvYmVfcG9zOm5ldyBlLlVuaWZvcm0zZih0KSx1X2dsb2JlX3JhZGl1czpuZXcgZS5Vbmlmb3JtMWYodCksdV92aWV3cG9ydDpuZXcgZS5Vbmlmb3JtMmYodCl9KSxnbG9iZUF0bW9zcGhlcmU6dD0+KHt1X2ZydXN0dW1fdGw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfZnJ1c3R1bV90cjpuZXcgZS5Vbmlmb3JtM2YodCksdV9mcnVzdHVtX2JyOm5ldyBlLlVuaWZvcm0zZih0KSx1X2ZydXN0dW1fYmw6bmV3IGUuVW5pZm9ybTNmKHQpLHVfaG9yaXpvbjpuZXcgZS5Vbmlmb3JtMWYodCksdV90cmFuc2l0aW9uOm5ldyBlLlVuaWZvcm0xZih0KSx1X2ZhZGVvdXRfcmFuZ2U6bmV3IGUuVW5pZm9ybTFmKHQpLHVfY29sb3I6bmV3IGUuVW5pZm9ybTRmKHQpLHVfaGlnaF9jb2xvcjpuZXcgZS5Vbmlmb3JtNGYodCksdV9zcGFjZV9jb2xvcjpuZXcgZS5Vbmlmb3JtNGYodCksdV9zdGFyX2ludGVuc2l0eTpuZXcgZS5Vbmlmb3JtMWYodCksdV9zdGFyX2RlbnNpdHk6bmV3IGUuVW5pZm9ybTFmKHQpLHVfc3Rhcl9zaXplOm5ldyBlLlVuaWZvcm0xZih0KSx1X3RlbXBvcmFsX29mZnNldDpuZXcgZS5Vbmlmb3JtMWYodCksdV9ob3Jpem9uX2FuZ2xlOm5ldyBlLlVuaWZvcm0xZih0KSx1X3JvdGF0aW9uX21hdHJpeDpuZXcgZS5Vbmlmb3JtTWF0cml4NGYodCl9KX07bGV0IGxpO2Z1bmN0aW9uIGNpKHQsbixpLHIsbyxhLHMpe2NvbnN0IGw9dC5jb250ZXh0LGM9bC5nbCx1PXQudHJhbnNmb3JtLGg9dC51c2VQcm9ncmFtKFwiY29sbGlzaW9uQm94XCIpLGQ9W107bGV0IHA9MCxmPTA7Zm9yKGxldCBtPTA7bTxyLmxlbmd0aDttKyspe2NvbnN0IGc9clttXSx5PW4uZ2V0VGlsZShnKSxfPXkuZ2V0QnVja2V0KGkpO2lmKCFfKWNvbnRpbnVlO2NvbnN0IHY9dnQoZyxfLHUpO2xldCB4PXY7MD09PW9bMF0mJjA9PT1vWzFdfHwoeD10LnRyYW5zbGF0ZVBvc01hdHJpeCh2LHksbyxhKSk7Y29uc3QgYj1zP18udGV4dENvbGxpc2lvbkJveDpfLmljb25Db2xsaXNpb25Cb3gsdz1fLmNvbGxpc2lvbkNpcmNsZUFycmF5O2lmKHcubGVuZ3RoPjApe2NvbnN0IHQ9ZS5jcmVhdGUoKSxuPXg7ZS5tdWwodCxfLnBsYWNlbWVudEludlByb2pNYXRyaXgsdS5nbENvb3JkTWF0cml4KSxlLm11bCh0LHQsXy5wbGFjZW1lbnRWaWV3cG9ydE1hdHJpeCksZC5wdXNoKHtjaXJjbGVBcnJheTp3LGNpcmNsZU9mZnNldDpmLHRyYW5zZm9ybTpuLGludlRyYW5zZm9ybTp0LHByb2plY3Rpb246Xy5nZXRQcm9qZWN0aW9uKCl9KSxwKz13Lmxlbmd0aC80LGY9cH1iJiYodC50ZXJyYWluJiZ0LnRlcnJhaW4uc2V0dXBFbGV2YXRpb25EcmF3KHksaCksaC5kcmF3KGwsYy5MSU5FUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFpuKHgsdSx5LF8uZ2V0UHJvamVjdGlvbigpKSxpLmlkLGIubGF5b3V0VmVydGV4QnVmZmVyLGIuaW5kZXhCdWZmZXIsYi5zZWdtZW50cyxudWxsLHUuem9vbSxudWxsLFtiLmNvbGxpc2lvblZlcnRleEJ1ZmZlcixiLmNvbGxpc2lvblZlcnRleEJ1ZmZlckV4dF0pKX1pZighc3x8IWQubGVuZ3RoKXJldHVybjtjb25zdCBtPXQudXNlUHJvZ3JhbShcImNvbGxpc2lvbkNpcmNsZVwiKSxnPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0MmYxZjJpMTY7Zy5yZXNpemUoNCpwKSxnLl90cmltKCk7bGV0IHk9MDtmb3IoY29uc3QgZSBvZiBkKWZvcihsZXQgdD0wO3Q8ZS5jaXJjbGVBcnJheS5sZW5ndGgvNDt0Kyspe2NvbnN0IG49NCp0LGk9ZS5jaXJjbGVBcnJheVtuKzBdLHI9ZS5jaXJjbGVBcnJheVtuKzFdLG89ZS5jaXJjbGVBcnJheVtuKzJdLGE9ZS5jaXJjbGVBcnJheVtuKzNdO2cuZW1wbGFjZSh5KyssaSxyLG8sYSwwKSxnLmVtcGxhY2UoeSsrLGkscixvLGEsMSksZy5lbXBsYWNlKHkrKyxpLHIsbyxhLDIpLGcuZW1wbGFjZSh5KyssaSxyLG8sYSwzKX0oIWxpfHxsaS5sZW5ndGg8MipwKSYmKGxpPWZ1bmN0aW9uKHQpe2NvbnN0IG49Mip0LGk9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQzdWk2O2kucmVzaXplKG4pLGkuX3RyaW0oKTtmb3IobGV0IGU9MDtlPG47ZSsrKXtjb25zdCB0PTYqZTtpLnVpbnQxNlt0KzBdPTQqZSswLGkudWludDE2W3QrMV09NCplKzEsaS51aW50MTZbdCsyXT00KmUrMixpLnVpbnQxNlt0KzNdPTQqZSsyLGkudWludDE2W3QrNF09NCplKzMsaS51aW50MTZbdCs1XT00KmUrMH1yZXR1cm4gaX0ocCkpO2NvbnN0IF89bC5jcmVhdGVJbmRleEJ1ZmZlcihsaSwhMCksdj1sLmNyZWF0ZVZlcnRleEJ1ZmZlcihnLGUuY29sbGlzaW9uQ2lyY2xlTGF5b3V0Lm1lbWJlcnMsITApO2Zvcihjb25zdCBuIG9mIGQpe2NvbnN0IHI9e3VfbWF0cml4Om4udHJhbnNmb3JtLHVfaW52X21hdHJpeDpuLmludlRyYW5zZm9ybSx1X2NhbWVyYV90b19jZW50ZXJfZGlzdGFuY2U6KHg9dSkuZ2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShuLnByb2plY3Rpb24pLHVfdmlld3BvcnRfc2l6ZTpbeC53aWR0aCx4LmhlaWdodF19O20uZHJhdyhsLGMuVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQscixpLmlkLHYsXyxlLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDIqbi5jaXJjbGVPZmZzZXQsbi5jaXJjbGVBcnJheS5sZW5ndGgsbi5jaXJjbGVBcnJheS5sZW5ndGgvMiksbnVsbCx1Lnpvb20pfXZhciB4O3YuZGVzdHJveSgpLF8uZGVzdHJveSgpfWNvbnN0IHVpPWUuY3JlYXRlKCk7ZnVuY3Rpb24gaGkoe3dpZHRoOnQsaGVpZ2h0Om4sYW5jaG9yOmksdGV4dE9mZnNldDpyLHRleHRTY2FsZTpvfSxhKXtjb25zdHtob3Jpem9udGFsQWxpZ246cyx2ZXJ0aWNhbEFsaWduOmx9PWUuZ2V0QW5jaG9yQWxpZ25tZW50KGkpLGM9LShzLS41KSp0LHU9LShsLS41KSpuLGg9ZS5ldmFsdWF0ZVZhcmlhYmxlT2Zmc2V0KGkscik7cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoKGMvbytoWzBdKSphLCh1L28raFsxXSkqYSl9ZnVuY3Rpb24gZGkodCxuLGkscixvLGEscyxsLGMsdSxoKXtjb25zdCBkPXQudGV4dC5wbGFjZWRTeW1ib2xBcnJheSxwPXQudGV4dC5keW5hbWljTGF5b3V0VmVydGV4QXJyYXksZj10Lmljb24uZHluYW1pY0xheW91dFZlcnRleEFycmF5LG09e30sZz10LmdldFByb2plY3Rpb24oKSx5PXh0KGwsZyxhKSxfPWEuZWxldmF0aW9uLHY9Zy51cFZlY3RvclNjYWxlKGwuY2Fub25pY2FsLGEuY2VudGVyLmxhdCxhLndvcmxkU2l6ZSkubWV0ZXJzVG9UaWxlO3AuY2xlYXIoKTtmb3IobGV0IGY9MDtmPGQubGVuZ3RoO2YrKyl7Y29uc3QgeD1kLmdldChmKSx7dGlsZUFuY2hvclg6Yix0aWxlQW5jaG9yWTp3LG51bUdseXBoczpUfT14LEU9dC5hbGxvd1ZlcnRpY2FsUGxhY2VtZW50JiYheC5wbGFjZWRPcmllbnRhdGlvbixTPXguaGlkZGVufHwheC5jcm9zc1RpbGVJRHx8RT9udWxsOnJbeC5jcm9zc1RpbGVJRF07aWYoUyl7bGV0IHI9MCxkPTAsZj0wO2lmKF8pe2NvbnN0IGU9Xz9fLmdldEF0VGlsZU9mZnNldChsLGIsdyk6MCxbdCxuLGldPWcudXBWZWN0b3IobC5jYW5vbmljYWwsYix3KTtyPWUqdCp2LGQ9ZSpuKnYsZj1lKmkqdn1sZXRbRSxNLEksQ109cnQoeC5wcm9qZWN0ZWRBbmNob3JYK3IseC5wcm9qZWN0ZWRBbmNob3JZK2QseC5wcm9qZWN0ZWRBbmNob3JaK2YsaT95OnMpO2NvbnN0IGs9b3QoYS5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKGcpLEMpO2xldCBBPW8uZXZhbHVhdGVTaXplRm9yRmVhdHVyZSh0LnRleHRTaXplRGF0YSx1LHgpKmsvZS5PTkVfRU07aSYmKEEqPXQudGlsZVBpeGVsUmF0aW8vYyk7Y29uc3QgUD1oaShTLEEpO2k/KCh7eDpFLHk6TSx6Okl9PWcucHJvamVjdFRpbGVQb2ludChiK1AueCx3K1AueSxsLmNhbm9uaWNhbCkpLFtFLE0sSV09cnQoRStyLE0rZCxJK2YscykpOihuJiZQLl9yb3RhdGUoLWEuYW5nbGUpLEUrPVAueCxNKz1QLnksST0wKTtjb25zdCB6PXQuYWxsb3dWZXJ0aWNhbFBsYWNlbWVudCYmeC5wbGFjZWRPcmllbnRhdGlvbj09PWUuV3JpdGluZ01vZGUudmVydGljYWw/TWF0aC5QSS8yOjA7Zm9yKGxldCB0PTA7dDxUO3QrKyllLmFkZER5bmFtaWNBdHRyaWJ1dGVzKHAsRSxNLEkseik7aCYmeC5hc3NvY2lhdGVkSWNvbkluZGV4Pj0wJiYobVt4LmFzc29jaWF0ZWRJY29uSW5kZXhdPXt4OkUseTpNLHo6SSxhbmdsZTp6fSl9ZWxzZSBmdChULHApfWlmKGgpe2YuY2xlYXIoKTtjb25zdCBuPXQuaWNvbi5wbGFjZWRTeW1ib2xBcnJheTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKyl7Y29uc3QgaT1uLmdldCh0KSx7bnVtR2x5cGhzOnJ9PWksbz1tW3RdO2lmKGkuaGlkZGVufHwhbylmdChyLGYpO2Vsc2V7Y29uc3R7eDp0LHk6bix6OmksYW5nbGU6YX09bztmb3IobGV0IG89MDtvPHI7bysrKWUuYWRkRHluYW1pY0F0dHJpYnV0ZXMoZix0LG4saSxhKX19dC5pY29uLmR5bmFtaWNMYXlvdXRWZXJ0ZXhCdWZmZXIudXBkYXRlRGF0YShmKX10LnRleHQuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlci51cGRhdGVEYXRhKHApfWZ1bmN0aW9uIHBpKGUsdCxuKXtyZXR1cm4gbi5pY29uc0luVGV4dCYmdD9cInN5bWJvbFRleHRBbmRJY29uXCI6ZT9cInN5bWJvbFNERlwiOlwic3ltYm9sSWNvblwifWZ1bmN0aW9uIGZpKHQsbixpLHIsbyxhLHMsbCxjLHUsaCxkKXtjb25zdCBwPXQuY29udGV4dCxmPXAuZ2wsbT10LnRyYW5zZm9ybSxnPVwibWFwXCI9PT1sLHk9XCJtYXBcIj09PWMsXz1nJiZcInBvaW50XCIhPT1pLmxheW91dC5nZXQoXCJzeW1ib2wtcGxhY2VtZW50XCIpLHY9ZyYmIXkmJiFfLHg9dm9pZCAwIT09aS5sYXlvdXQuZ2V0KFwic3ltYm9sLXNvcnQta2V5XCIpLmNvbnN0YW50T3IoMSk7bGV0IGI9ITE7Y29uc3Qgdz10LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsZS5EZXB0aE1vZGUuUmVhZE9ubHkpLFQ9W2UubWVyY2F0b3JYZnJvbUxuZyhtLmNlbnRlci5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdChtLmNlbnRlci5sYXQpXSxFPWkubGF5b3V0LmdldChcInRleHQtdmFyaWFibGUtYW5jaG9yXCIpLFM9XCJnbG9iZVwiPT09bS5wcm9qZWN0aW9uLm5hbWUsTT1bXSxJPVswLC0xLDBdO2xldCBDPUk7IVMmJiFtLm1lcmNhdG9yRnJvbVRyYW5zaXRpb258fGd8fChDPWZ1bmN0aW9uKHQpe2NvbnN0IG49dC5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmEodC53b3JsZFNpemUsMSksaT1lLm11bHRpcGx5KFtdLG4sdC5nbG9iZU1hdHJpeCk7ZS5pbnZlcnQoaSxpKTtjb25zdCByPVswLDAsMF0sbz1bMCwxLDAsMF07cmV0dXJuIGUudHJhbnNmb3JtTWF0NCQxKG8sbyxpKSxyWzBdPW9bMF0sclsxXT1vWzFdLHJbMl09b1syXSxlLm5vcm1hbGl6ZShyLHIpLHJ9KG0pKTtmb3IoY29uc3QgbCBvZiByKXtjb25zdCByPW4uZ2V0VGlsZShsKSxjPXIuZ2V0QnVja2V0KGkpO2lmKCFjKWNvbnRpbnVlO2lmKFwibWVyY2F0b3JcIj09PWMucHJvamVjdGlvbi5uYW1lJiZTKWNvbnRpbnVlO2NvbnN0IGg9bz9jLnRleHQ6Yy5pY29uO2lmKCFofHxjLmZ1bGx5Q2xpcHBlZHx8IWguc2VnbWVudHMuZ2V0KCkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IGQ9aC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLHA9b3x8Yy5zZGZJY29ucyx3PW8/Yy50ZXh0U2l6ZURhdGE6Yy5pY29uU2l6ZURhdGEsaz15fHwwIT09bS5waXRjaCxBPWUuZXZhbHVhdGVTaXplRm9yWm9vbSh3LG0uem9vbSk7bGV0IFAseixELEwsTz1bMCwwXSxSPW51bGw7aWYobyl7aWYoej1yLmdseXBoQXRsYXNUZXh0dXJlLEQ9Zi5MSU5FQVIsUD1yLmdseXBoQXRsYXNUZXh0dXJlLnNpemUsYy5pY29uc0luVGV4dCl7Tz1yLmltYWdlQXRsYXNUZXh0dXJlLnNpemUsUj1yLmltYWdlQXRsYXNUZXh0dXJlO2NvbnN0IGU9XCJjb21wb3NpdGVcIj09PXcua2luZHx8XCJjYW1lcmFcIj09PXcua2luZDtMPWt8fHQub3B0aW9ucy5yb3RhdGluZ3x8dC5vcHRpb25zLnpvb21pbmd8fGU/Zi5MSU5FQVI6Zi5ORUFSRVNUfX1lbHNle2NvbnN0IGU9MSE9PWkubGF5b3V0LmdldChcImljb24tc2l6ZVwiKS5jb25zdGFudE9yKDApfHxjLmljb25zTmVlZExpbmVhcjt6PXIuaW1hZ2VBdGxhc1RleHR1cmUsRD1wfHx0Lm9wdGlvbnMucm90YXRpbmd8fHQub3B0aW9ucy56b29taW5nfHxlfHxrP2YuTElORUFSOmYuTkVBUkVTVCxQPXIuaW1hZ2VBdGxhc1RleHR1cmUuc2l6ZX1jb25zdCBCPVwiZ2xvYmVcIj09PWMucHJvamVjdGlvbi5uYW1lLGo9Qj9DOkksRj1CP2UuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihtLnpvb20pOjAsTj14dChsLGMuZ2V0UHJvamVjdGlvbigpLG0pLFU9bS5jYWxjdWxhdGVQaXhlbHNUb1RpbGVVbml0c01hdHJpeChyKSxWPXR0KE4sci50aWxlSUQuY2Fub25pY2FsLHksZyxtLGMuZ2V0UHJvamVjdGlvbigpLFUpLEc9dC50ZXJyYWluJiZ5JiZfP2UuaW52ZXJ0KGUuY3JlYXRlKCksVik6dWksWj1pdChOLHIudGlsZUlELmNhbm9uaWNhbCx5LGcsbSxjLmdldFByb2plY3Rpb24oKSxVKSxXPUUmJmMuaGFzVGV4dERhdGEoKSxxPVwibm9uZVwiIT09aS5sYXlvdXQuZ2V0KFwiaWNvbi10ZXh0LWZpdFwiKSYmVyYmYy5oYXNJY29uRGF0YSgpO2lmKF8pe2NvbnN0IGU9bS5lbGV2YXRpb24sbj1lP2UuZ2V0QXRUaWxlT2Zmc2V0RnVuYyhsLG0uY2VudGVyLmxhdCxtLndvcmxkU2l6ZSxjLmdldFByb2plY3Rpb24oKSk6bnVsbCxpPW50KE4sci50aWxlSUQuY2Fub25pY2FsLHksZyxtLGMuZ2V0UHJvamVjdGlvbigpLFUpO3N0KGMsTix0LG8saSxaLHksdSxuLGwpfWNvbnN0ICQ9X3x8byYmRXx8cSxIPXQudHJhbnNsYXRlUG9zTWF0cml4KE4scixhLHMpLFg9JD91aTpWLFk9dC50cmFuc2xhdGVQb3NNYXRyaXgoWixyLGEscywhMCksSj1jLmdldFByb2plY3Rpb24oKS5jcmVhdGVJbnZlcnNpb25NYXRyaXgobSxsLmNhbm9uaWNhbCksUT1bXTt0LnRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKSYmeSYmUS5wdXNoKFwiUElUQ0hfV0lUSF9NQVBfVEVSUkFJTlwiKSxCJiZRLnB1c2goXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIiksJCYmUS5wdXNoKFwiUFJPSkVDVEVEX1BPU19PTl9WSUVXUE9SVFwiKTtjb25zdCBLPXAmJjAhPT1pLnBhaW50LmdldChvP1widGV4dC1oYWxvLXdpZHRoXCI6XCJpY29uLWhhbG8td2lkdGhcIikuY29uc3RhbnRPcigxKTtsZXQgZWU7ZWU9cD9jLmljb25zSW5UZXh0P3JpKHcua2luZCxBLHYseSx0LEgsWCxZLFAsTyxsLEYsVCxKLGosYy5nZXRQcm9qZWN0aW9uKCkpOmlpKHcua2luZCxBLHYseSx0LEgsWCxZLG8sUCwhMCxsLEYsVCxKLGosYy5nZXRQcm9qZWN0aW9uKCkpOm5pKHcua2luZCxBLHYseSx0LEgsWCxZLG8sUCxsLEYsVCxKLGosYy5nZXRQcm9qZWN0aW9uKCkpO2NvbnN0IHRlPXtwcm9ncmFtOnQudXNlUHJvZ3JhbShwaShwLG8sYyksZCxRKSxidWZmZXJzOmgsdW5pZm9ybVZhbHVlczplZSxhdGxhc1RleHR1cmU6eixhdGxhc1RleHR1cmVJY29uOlIsYXRsYXNJbnRlcnBvbGF0aW9uOkQsYXRsYXNJbnRlcnBvbGF0aW9uSWNvbjpMLGlzU0RGOnAsaGFzSGFsbzpLLHRpbGU6cixsYWJlbFBsYW5lTWF0cml4SW52Okd9O2lmKHgmJmMuY2FuT3ZlcmxhcCl7Yj0hMDtjb25zdCB0PWguc2VnbWVudHMuZ2V0KCk7Zm9yKGNvbnN0IG4gb2YgdClNLnB1c2goe3NlZ21lbnRzOm5ldyBlLlNlZ21lbnRWZWN0b3IoW25dKSxzb3J0S2V5Om4uc29ydEtleSxzdGF0ZTp0ZX0pfWVsc2UgTS5wdXNoKHtzZWdtZW50czpoLnNlZ21lbnRzLHNvcnRLZXk6MCxzdGF0ZTp0ZX0pfWImJk0uc29ydCgoZSx0KT0+ZS5zb3J0S2V5LXQuc29ydEtleSk7Zm9yKGNvbnN0IGUgb2YgTSl7Y29uc3Qgbj1lLnN0YXRlO2lmKHQudGVycmFpbiYmdC50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhuLnRpbGUsbi5wcm9ncmFtLHt1c2VEZXB0aEZvck9jY2x1c2lvbjohUyxsYWJlbFBsYW5lTWF0cml4SW52Om4ubGFiZWxQbGFuZU1hdHJpeEludn0pLHAuYWN0aXZlVGV4dHVyZS5zZXQoZi5URVhUVVJFMCksbi5hdGxhc1RleHR1cmUuYmluZChuLmF0bGFzSW50ZXJwb2xhdGlvbixmLkNMQU1QX1RPX0VER0UpLG4uYXRsYXNUZXh0dXJlSWNvbiYmKHAuYWN0aXZlVGV4dHVyZS5zZXQoZi5URVhUVVJFMSksbi5hdGxhc1RleHR1cmVJY29uJiZuLmF0bGFzVGV4dHVyZUljb24uYmluZChuLmF0bGFzSW50ZXJwb2xhdGlvbkljb24sZi5DTEFNUF9UT19FREdFKSksbi5pc1NERil7Y29uc3Qgcj1uLnVuaWZvcm1WYWx1ZXM7bi5oYXNIYWxvJiYoci51X2lzX2hhbG89MSxtaShuLmJ1ZmZlcnMsZS5zZWdtZW50cyxpLHQsbi5wcm9ncmFtLHcsaCxkLHIpKSxyLnVfaXNfaGFsbz0wfW1pKG4uYnVmZmVycyxlLnNlZ21lbnRzLGksdCxuLnByb2dyYW0sdyxoLGQsbi51bmlmb3JtVmFsdWVzKX19ZnVuY3Rpb24gbWkodCxuLGkscixvLGEscyxsLGMpe2NvbnN0IHU9ci5jb250ZXh0LGg9W3QuZHluYW1pY0xheW91dFZlcnRleEJ1ZmZlcix0Lm9wYWNpdHlWZXJ0ZXhCdWZmZXIsdC5nbG9iZUV4dFZlcnRleEJ1ZmZlcl07by5kcmF3KHUsdS5nbC5UUklBTkdMRVMsYSxzLGwsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsYyxpLmlkLHQubGF5b3V0VmVydGV4QnVmZmVyLHQuaW5kZXhCdWZmZXIsbixpLnBhaW50LHIudHJhbnNmb3JtLnpvb20sdC5wcm9ncmFtQ29uZmlndXJhdGlvbnMuZ2V0KGkuaWQpLGgpfWZ1bmN0aW9uIGdpKHQsbixpLHIsbyxhLHMpe2NvbnN0IGw9dC5jb250ZXh0LmdsLGM9aS5wYWludC5nZXQoXCJmaWxsLXBhdHRlcm5cIiksdT1jJiZjLmNvbnN0YW50T3IoMSk7bGV0IGgsZCxwLGYsbTtzPyhkPXUmJiFpLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/XCJmaWxsT3V0bGluZVBhdHRlcm5cIjpcImZpbGxPdXRsaW5lXCIsaD1sLkxJTkVTKTooZD11P1wiZmlsbFBhdHRlcm5cIjpcImZpbGxcIixoPWwuVFJJQU5HTEVTKTtmb3IoY29uc3QgZyBvZiByKXtjb25zdCByPW4uZ2V0VGlsZShnKTtpZih1JiYhci5wYXR0ZXJuc0xvYWRlZCgpKWNvbnRpbnVlO2NvbnN0IHk9ci5nZXRCdWNrZXQoaSk7aWYoIXkpY29udGludWU7dC5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCBfPXkucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSx2PXQudXNlUHJvZ3JhbShkLF8pO3UmJih0LmNvbnRleHQuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCksci5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKGwuTElORUFSLGwuQ0xBTVBfVE9fRURHRSksXy51cGRhdGVQYWludEJ1ZmZlcnMoKSk7Y29uc3QgeD1jLmNvbnN0YW50T3IobnVsbCk7aWYoeCYmci5pbWFnZUF0bGFzKXtjb25zdCBlPXIuaW1hZ2VBdGxhcy5wYXR0ZXJuUG9zaXRpb25zW3gudG9TdHJpbmcoKV07ZSYmXy5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoZSl9Y29uc3QgYj10LnRyYW5zbGF0ZVBvc01hdHJpeChnLnByb2pNYXRyaXgscixpLnBhaW50LmdldChcImZpbGwtdHJhbnNsYXRlXCIpLGkucGFpbnQuZ2V0KFwiZmlsbC10cmFuc2xhdGUtYW5jaG9yXCIpKTtpZihzKXtmPXkuaW5kZXhCdWZmZXIyLG09eS5zZWdtZW50czI7Y29uc3QgZT10LnRlcnJhaW4mJnQudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmU/dC50ZXJyYWluLmRyYXBlQnVmZmVyU2l6ZTpbbC5kcmF3aW5nQnVmZmVyV2lkdGgsbC5kcmF3aW5nQnVmZmVySGVpZ2h0XTtwPVwiZmlsbE91dGxpbmVQYXR0ZXJuXCI9PT1kJiZ1P05uKGIsdCxyLGUpOkZuKGIsZSl9ZWxzZSBmPXkuaW5kZXhCdWZmZXIsbT15LnNlZ21lbnRzLHA9dT9qbihiLHQscik6Qm4oYik7dC5wcmVwYXJlRHJhd1Byb2dyYW0odC5jb250ZXh0LHYsZy50b1Vud3JhcHBlZCgpKSx2LmRyYXcodC5jb250ZXh0LGgsbyx0LnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcoZyksYSxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxwLGkuaWQseS5sYXlvdXRWZXJ0ZXhCdWZmZXIsZixtLGkucGFpbnQsdC50cmFuc2Zvcm0uem9vbSxfKX19ZnVuY3Rpb24geWkodCxuLGkscixvLGEscyl7Y29uc3QgbD10LmNvbnRleHQsYz1sLmdsLHU9dC50cmFuc2Zvcm0saD1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIiksZD1oLmNvbnN0YW50T3IoMSkscD1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIiksZj1baS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1pbnRlbnNpdHlcIiksaS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi1hbWJpZW50LW9jY2x1c2lvbi1yYWRpdXNcIildLG09aS5sYXlvdXQuZ2V0KFwiZmlsbC1leHRydXNpb24tZWRnZS1yYWRpdXNcIiksZz1cImdsb2JlXCI9PT11LnByb2plY3Rpb24ubmFtZT9lLmZpbGxFeHRydXNpb25IZWlnaHRMaWZ0KCk6MCx5PVwiZ2xvYmVcIj09PXUucHJvamVjdGlvbi5uYW1lLF89eT9lLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24odS56b29tKTowLHY9W2UubWVyY2F0b3JYZnJvbUxuZyh1LmNlbnRlci5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdCh1LmNlbnRlci5sYXQpXSx4PVtdO3kmJih4LnB1c2goXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIiksdC5zdHlsZS50ZXJyYWluU2V0Rm9yRHJhcGluZ09ubHkoKSYmeC5wdXNoKFwiVEVSUkFJTlwiKSksZlswXT4wJiZ4LnB1c2goXCJGQVVYX0FPXCIpO2Zvcihjb25zdCBiIG9mIHIpe2NvbnN0IHI9bi5nZXRUaWxlKGIpLHc9ci5nZXRCdWNrZXQoaSk7aWYoIXd8fHcucHJvamVjdGlvbi5uYW1lIT09dS5wcm9qZWN0aW9uLm5hbWUpY29udGludWU7Y29uc3QgVD13LnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCksRT10LnVzZVByb2dyYW0oZD9cImZpbGxFeHRydXNpb25QYXR0ZXJuXCI6XCJmaWxsRXh0cnVzaW9uXCIsVCx4KTtpZih0LnRlcnJhaW4pe2NvbnN0IGU9dC50ZXJyYWluO2lmKHQuc3R5bGUudGVycmFpblNldEZvckRyYXBpbmdPbmx5KCkpZS5zZXR1cEVsZXZhdGlvbkRyYXcocixFLHt1c2VNZXRlclRvRGVtOiEwfSk7ZWxzZXtpZighdy5lbmFibGVUZXJyYWluKWNvbnRpbnVlO2lmKGUuc2V0dXBFbGV2YXRpb25EcmF3KHIsRSx7dXNlTWV0ZXJUb0RlbTohMH0pLF9pKGwsbixiLHcsaSxlKSwhdy5jZW50cm9pZFZlcnRleEJ1ZmZlcil7Y29uc3QgZT1FLmF0dHJpYnV0ZXMuYV9jZW50cm9pZF9wb3M7dm9pZCAwIT09ZSYmYy52ZXJ0ZXhBdHRyaWIyZihlLDAsMCl9fX1kJiYodC5jb250ZXh0LmFjdGl2ZVRleHR1cmUuc2V0KGMuVEVYVFVSRTApLHIuaW1hZ2VBdGxhc1RleHR1cmUuYmluZChjLkxJTkVBUixjLkNMQU1QX1RPX0VER0UpLFQudXBkYXRlUGFpbnRCdWZmZXJzKCkpO2NvbnN0IFM9aC5jb25zdGFudE9yKG51bGwpO2lmKFMmJnIuaW1hZ2VBdGxhcyl7Y29uc3QgZT1yLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc1tTLnRvU3RyaW5nKCldO2UmJlQuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUpfWNvbnN0IE09dC50cmFuc2xhdGVQb3NNYXRyaXgoYi5wcm9qTWF0cml4LHIsaS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGVcIiksaS5wYWludC5nZXQoXCJmaWxsLWV4dHJ1c2lvbi10cmFuc2xhdGUtYW5jaG9yXCIpKSxJPXUucHJvamVjdGlvbi5jcmVhdGVJbnZlcnNpb25NYXRyaXgodSxiLmNhbm9uaWNhbCksQz1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXZlcnRpY2FsLWdyYWRpZW50XCIpLGs9ZD9SbihNLHQsQyxwLGYsbSxiLHIsZyxfLHYsSSk6T24oTSx0LEMscCxmLG0sYixnLF8sdixJKTt0LnByZXBhcmVEcmF3UHJvZ3JhbShsLEUsYi50b1Vud3JhcHBlZCgpKTtjb25zdCBBPVtdO3QudGVycmFpbiYmQS5wdXNoKHcuY2VudHJvaWRWZXJ0ZXhCdWZmZXIpLHkmJkEucHVzaCh3LmxheW91dFZlcnRleEV4dEJ1ZmZlciksRS5kcmF3KGwsbC5nbC5UUklBTkdMRVMsbyxhLHMsZS5DdWxsRmFjZU1vZGUuYmFja0NDVyxrLGkuaWQsdy5sYXlvdXRWZXJ0ZXhCdWZmZXIsdy5pbmRleEJ1ZmZlcix3LnNlZ21lbnRzLGkucGFpbnQsdC50cmFuc2Zvcm0uem9vbSxULEEpfX1mdW5jdGlvbiBfaSh0LG4saSxyLG8sYSl7Y29uc3Qgcz1bdD0+e2xldCBuPXQuY2Fub25pY2FsLngtMSxpPXQud3JhcDtyZXR1cm4gbjwwJiYobj0oMTw8dC5jYW5vbmljYWwueiktMSxpLS0pLG5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWixpLHQuY2Fub25pY2FsLnosbix0LmNhbm9uaWNhbC55KX0sdD0+e2xldCBuPXQuY2Fub25pY2FsLngrMSxpPXQud3JhcDtyZXR1cm4gbj09PTE8PHQuY2Fub25pY2FsLnomJihuPTAsaSsrKSxuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHQub3ZlcnNjYWxlZFosaSx0LmNhbm9uaWNhbC56LG4sdC5jYW5vbmljYWwueSl9LHQ9Pm5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWix0LndyYXAsdC5jYW5vbmljYWwueix0LmNhbm9uaWNhbC54LCgwPT09dC5jYW5vbmljYWwueT8xPDx0LmNhbm9uaWNhbC56OnQuY2Fub25pY2FsLnkpLTEpLHQ9Pm5ldyBlLk92ZXJzY2FsZWRUaWxlSUQodC5vdmVyc2NhbGVkWix0LndyYXAsdC5jYW5vbmljYWwueix0LmNhbm9uaWNhbC54LHQuY2Fub25pY2FsLnk9PT0oMTw8dC5jYW5vbmljYWwueiktMT8wOnQuY2Fub25pY2FsLnkrMSldLGw9ZT0+e2NvbnN0IHQ9bi5nZXRTb3VyY2UoKS5taW56b29tLGk9ZT0+e2NvbnN0IHQ9bi5nZXRUaWxlQnlJRChlKTtpZih0JiZ0Lmhhc0RhdGEoKSlyZXR1cm4gdC5nZXRCdWNrZXQobyl9LHI9WzAsLTEsMV07Zm9yKGNvbnN0IG4gb2Ygcil7aWYoZS5vdmVyc2NhbGVkWituPHQpY29udGludWU7Y29uc3Qgcj1pKGUuY2FsY3VsYXRlU2NhbGVkS2V5KGUub3ZlcnNjYWxlZForbikpO2lmKHIpcmV0dXJuIHJ9fSxjPVswLDAsMF0sdT0odCxuKT0+KGNbMF09TWF0aC5taW4odC5taW4ueSxuLm1pbi55KSxjWzFdPU1hdGgubWF4KHQubWF4Lnksbi5tYXgueSksY1syXT1lLkVYVEVOVC1uLm1pbi54PnQubWF4Lng/bi5taW4ueC1lLkVYVEVOVDp0Lm1heC54LGMpLGg9KHQsbik9PihjWzBdPU1hdGgubWluKHQubWluLngsbi5taW4ueCksY1sxXT1NYXRoLm1heCh0Lm1heC54LG4ubWF4LngpLGNbMl09ZS5FWFRFTlQtbi5taW4ueT50Lm1heC55P24ubWluLnktZS5FWFRFTlQ6dC5tYXgueSxjKSxkPVsoZSx0KT0+dShlLHQpLChlLHQpPT51KHQsZSksKGUsdCk9PmgoZSx0KSwoZSx0KT0+aCh0LGUpXSxwPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKTtsZXQgZixtLGc7Y29uc3QgeT0odCxuLHIsbyxzKT0+e2NvbnN0IGw9W1tvP3I6dCxvP3Q6ciwwXSxbbz9yOm4sbz9uOnIsMF1dLGM9czwwP2UuRVhURU5UK3M6cyx1PVtvP2M6KHQrbikvMixvPyh0K24pLzI6YywwXTtyZXR1cm4gMD09PXImJnM8MHx8MCE9PXImJnM+MD9hLmdldEZvclRpbGVQb2ludHMoZyxbdV0sITAsbSk6bC5wdXNoKHUpLGEuZ2V0Rm9yVGlsZVBvaW50cyhpLGwsITAsZiksTWF0aC5tYXgobFswXVsyXSxsWzFdWzJdLHVbMl0pL2EuZXhhZ2dlcmF0aW9uKCl9O2ZvcihsZXQgdD0wO3Q8NDt0Kyspe2NvbnN0IG49KHQ8Mj8xOjUpLXQsbz1yLmJvcmRlcnNbdF07aWYoMD09PW8ubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IGM9Zz1zW3RdKGkpLHU9bChjKTtpZighKHUmJnUgaW5zdGFuY2VvZiBlLkZpbGxFeHRydXNpb25CdWNrZXQmJnUuZW5hYmxlVGVycmFpbikpY29udGludWU7aWYoci5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT09PXUuY2Fub25pY2FsLnomJnUuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbbl09PT1yLmNhbm9uaWNhbC56KWNvbnRpbnVlO2lmKG09YS5maW5kREVNVGlsZUZvcihjKSwhbXx8IW0uZGVtKWNvbnRpbnVlO2lmKCFmKXtjb25zdCBlPWEuZmluZERFTVRpbGVGb3IoaSk7aWYoIWV8fCFlLmRlbSlyZXR1cm47Zj1lfWNvbnN0IGg9dS5ib3JkZXJzW25dO2xldCBfPTA7Y29uc3Qgdj11LmJvcmRlckRvbmVXaXRoTmVpZ2hib3JaW25dIT09ci5jYW5vbmljYWwuejtpZihyLmNhbm9uaWNhbC56PT09dS5jYW5vbmljYWwueil7Zm9yKGxldCBpPTA7aTxvLmxlbmd0aDtpKyspe2NvbnN0IGE9ci5mZWF0dXJlc09uQm9yZGVyW29baV1dLHM9YS5ib3JkZXJzW3RdO2xldCBsO2Zvcig7XzxoLmxlbmd0aCYmKGw9dS5mZWF0dXJlc09uQm9yZGVyW2hbX11dLCEobC5ib3JkZXJzW25dWzFdPnNbMF0rMykpOyl2JiZ1LmVuY29kZUNlbnRyb2lkKHZvaWQgMCxsLCExKSxfKys7aWYobCYmXzxoLmxlbmd0aCl7Y29uc3QgaT1fO2xldCBvPTA7Zm9yKDshKGwuYm9yZGVyc1tuXVswXT5zWzFdLTMpJiYobysrLCsrXyE9PWgubGVuZ3RoKTspbD11LmZlYXR1cmVzT25Cb3JkZXJbaFtfXV07aWYobD11LmZlYXR1cmVzT25Cb3JkZXJbaFtpXV0sYS5pbnRlcnNlY3RzQ291bnQoKT4xfHxsLmludGVyc2VjdHNDb3VudCgpPjF8fDEhPT1vKXsxIT09byYmKF89aSksci5lbmNvZGVDZW50cm9pZCh2b2lkIDAsYSwhMSksdiYmdS5lbmNvZGVDZW50cm9pZCh2b2lkIDAsbCwhMSk7Y29udGludWV9Y29uc3QgYz1kW3RdKGEsbCksZj10JTI/ZS5FWFRFTlQtMTowO3AueD15KGNbMF0sTWF0aC5taW4oZS5FWFRFTlQtMSxjWzFdKSxmLHQ8MixjWzJdKSxwLnk9MCxyLmVuY29kZUNlbnRyb2lkKHAsYSwhMSksdiYmdS5lbmNvZGVDZW50cm9pZChwLGwsITEpfWVsc2Ugci5lbmNvZGVDZW50cm9pZCh2b2lkIDAsYSwhMSl9ci5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT11LmNhbm9uaWNhbC56LHIubmVlZHNDZW50cm9pZFVwZGF0ZT0hMCx2JiYodS5ib3JkZXJEb25lV2l0aE5laWdoYm9yWltuXT1yLmNhbm9uaWNhbC56LHUubmVlZHNDZW50cm9pZFVwZGF0ZT0hMCl9ZWxzZXtmb3IoY29uc3QgZSBvZiBvKXIuZW5jb2RlQ2VudHJvaWQodm9pZCAwLHIuZmVhdHVyZXNPbkJvcmRlcltlXSwhMSk7aWYodil7Zm9yKGNvbnN0IGUgb2YgaCl1LmVuY29kZUNlbnRyb2lkKHZvaWQgMCx1LmZlYXR1cmVzT25Cb3JkZXJbZV0sITEpO3UuYm9yZGVyRG9uZVdpdGhOZWlnaGJvclpbbl09ci5jYW5vbmljYWwueix1Lm5lZWRzQ2VudHJvaWRVcGRhdGU9ITB9ci5ib3JkZXJEb25lV2l0aE5laWdoYm9yWlt0XT11LmNhbm9uaWNhbC56LHIubmVlZHNDZW50cm9pZFVwZGF0ZT0hMH19KHIubmVlZHNDZW50cm9pZFVwZGF0ZXx8IXIuY2VudHJvaWRWZXJ0ZXhCdWZmZXImJjAhPT1yLmNlbnRyb2lkVmVydGV4QXJyYXkubGVuZ3RoKSYmci51cGxvYWRDZW50cm9pZCh0KX1jb25zdCB2aT1uZXcgZS5Db2xvcigxLDAsMCwxKSx4aT1uZXcgZS5Db2xvcigwLDEsMCwxKSxiaT1uZXcgZS5Db2xvcigwLDAsMSwxKSx3aT1uZXcgZS5Db2xvcigxLDAsMSwxKSxUaT1uZXcgZS5Db2xvcigwLDEsMSwxKTtmdW5jdGlvbiBFaSh0LG4saSl7Y29uc3Qgcj10LmNvbnRleHQsbz10LnRyYW5zZm9ybSxhPXIuZ2wscz1cImdsb2JlXCI9PT1vLnByb2plY3Rpb24ubmFtZSxsPXM/W1wiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCJdOm51bGw7bGV0IGM9aS5wcm9qTWF0cml4O2lmKHMmJmUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihvLnpvb20pPjApe2NvbnN0IHQ9ZS50cmFuc2l0aW9uVGlsZUFBQkJpbkVDRUYoaS5jYW5vbmljYWwsbyksbj1lLmdsb2JlRGVub3JtYWxpemVFQ0VGKHQpO2M9ZS5tdWx0aXBseShuZXcgRmxvYXQzMkFycmF5KDE2KSxvLmdsb2JlTWF0cml4LG4pLGUubXVsdGlwbHkoYyxvLnByb2pNYXRyaXgsYyl9Y29uc3QgdT10LnVzZVByb2dyYW0oXCJkZWJ1Z1wiLG51bGwsbCksaD1uLmdldFRpbGVCeUlEKGkua2V5KTt0LnRlcnJhaW4mJnQudGVycmFpbi5zZXR1cEVsZXZhdGlvbkRyYXcoaCx1KTtjb25zdCBkPWUuRGVwdGhNb2RlLmRpc2FibGVkLHA9ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxmPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLG09XCIkZGVidWdcIjtyLmFjdGl2ZVRleHR1cmUuc2V0KGEuVEVYVFVSRTApLHQuZW1wdHlUZXh0dXJlLmJpbmQoYS5MSU5FQVIsYS5DTEFNUF9UT19FREdFKSxzP2guX21ha2VHbG9iZVRpbGVEZWJ1Z0J1ZmZlcnModC5jb250ZXh0LG8pOmguX21ha2VEZWJ1Z1RpbGVCb3VuZHNCdWZmZXJzKHQuY29udGV4dCxvLnByb2plY3Rpb24pO2NvbnN0IGc9aC5fdGlsZURlYnVnQnVmZmVyfHx0LmRlYnVnQnVmZmVyLHk9aC5fdGlsZURlYnVnSW5kZXhCdWZmZXJ8fHQuZGVidWdJbmRleEJ1ZmZlcixfPWguX3RpbGVEZWJ1Z1NlZ21lbnRzfHx0LmRlYnVnU2VnbWVudHM7dS5kcmF3KHIsYS5MSU5FX1NUUklQLGQscCxmLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLFduKGMsZS5Db2xvci5yZWQpLG0sZyx5LF8sbnVsbCxudWxsLG51bGwsW2guX2dsb2JlVGlsZURlYnVnQm9yZGVyQnVmZmVyXSk7Y29uc3Qgdj1oLmxhdGVzdFJhd1RpbGVEYXRhLHg9TWF0aC5mbG9vcigodiYmdi5ieXRlTGVuZ3RofHwwKS8xMDI0KSxiPW4uZ2V0VGlsZShpKS50aWxlU2l6ZSx3PTUxMi9NYXRoLm1pbihiLDUxMikqKGkub3ZlcnNjYWxlZFovby56b29tKSouNTtsZXQgVD1pLmNhbm9uaWNhbC50b1N0cmluZygpO2kub3ZlcnNjYWxlZFohPT1pLmNhbm9uaWNhbC56JiYoVCs9XCIgPT4gXCIraS5vdmVyc2NhbGVkWiksVCs9YCAke3h9a2JgLGZ1bmN0aW9uKGUsdCl7ZS5pbml0RGVidWdPdmVybGF5Q2FudmFzKCk7Y29uc3Qgbj1lLmRlYnVnT3ZlcmxheUNhbnZhcyxpPWUuY29udGV4dC5nbCxyPWUuZGVidWdPdmVybGF5Q2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtyLmNsZWFyUmVjdCgwLDAsbi53aWR0aCxuLmhlaWdodCksci5zaGFkb3dDb2xvcj1cIndoaXRlXCIsci5zaGFkb3dCbHVyPTIsci5saW5lV2lkdGg9MS41LHIuc3Ryb2tlU3R5bGU9XCJ3aGl0ZVwiLHIudGV4dEJhc2VsaW5lPVwidG9wXCIsci5mb250PVwiYm9sZCAzNnB4IE9wZW4gU2Fucywgc2Fucy1zZXJpZlwiLHIuZmlsbFRleHQodCw1LDUpLHIuc3Ryb2tlVGV4dCh0LDUsNSksZS5kZWJ1Z092ZXJsYXlUZXh0dXJlLnVwZGF0ZShuKSxlLmRlYnVnT3ZlcmxheVRleHR1cmUuYmluZChpLkxJTkVBUixpLkNMQU1QX1RPX0VER0UpfSh0LFQpO2NvbnN0IEU9aC5fdGlsZURlYnVnVGV4dEJ1ZmZlcnx8dC5kZWJ1Z0J1ZmZlcixTPWguX3RpbGVEZWJ1Z1RleHRJbmRleEJ1ZmZlcnx8dC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixNPWguX3RpbGVEZWJ1Z1RleHRTZWdtZW50c3x8dC5kZWJ1Z1NlZ21lbnRzO3UuZHJhdyhyLGEuVFJJQU5HTEVTLGQscCxlLkNvbG9yTW9kZS5hbHBoYUJsZW5kZWQsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsV24oYyxlLkNvbG9yLnRyYW5zcGFyZW50LHcpLG0sRSxTLE0sbnVsbCxudWxsLG51bGwsW2guX2dsb2JlVGlsZURlYnVnVGV4dEJ1ZmZlcl0pfWZ1bmN0aW9uIFNpKGUsdCxuLGkpe0lpKGUsMCx0K24vMixlLnRyYW5zZm9ybS53aWR0aCxuLGkpfWZ1bmN0aW9uIE1pKGUsdCxuLGkpe0lpKGUsdC1uLzIsMCxuLGUudHJhbnNmb3JtLmhlaWdodCxpKX1mdW5jdGlvbiBJaSh0LG4saSxyLG8sYSl7Y29uc3Qgcz10LmNvbnRleHQsbD1zLmdsO2wuZW5hYmxlKGwuU0NJU1NPUl9URVNUKSxsLnNjaXNzb3IobiplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8saSplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sciplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sbyplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8pLHMuY2xlYXIoe2NvbG9yOmF9KSxsLmRpc2FibGUobC5TQ0lTU09SX1RFU1QpfWNvbnN0IENpPWUuY3JlYXRlTGF5b3V0KFt7bmFtZTpcImFfcG9zXzNmXCIsY29tcG9uZW50czozLHR5cGU6XCJGbG9hdDMyXCJ9XSkse21lbWJlcnM6a2l9PUNpO2Z1bmN0aW9uIEFpKGUsdCxuLGkpe2UuZW1wbGFjZUJhY2sodCxuLGkpfWNsYXNzIFBpe2NvbnN0cnVjdG9yKHQpe3RoaXMudmVydGV4QXJyYXk9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQzZjEyLHRoaXMuaW5kaWNlcz1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDN1aTYsQWkodGhpcy52ZXJ0ZXhBcnJheSwtMSwtMSwxKSxBaSh0aGlzLnZlcnRleEFycmF5LDEsLTEsMSksQWkodGhpcy52ZXJ0ZXhBcnJheSwtMSwxLDEpLEFpKHRoaXMudmVydGV4QXJyYXksMSwxLDEpLEFpKHRoaXMudmVydGV4QXJyYXksLTEsLTEsLTEpLEFpKHRoaXMudmVydGV4QXJyYXksMSwtMSwtMSksQWkodGhpcy52ZXJ0ZXhBcnJheSwtMSwxLC0xKSxBaSh0aGlzLnZlcnRleEFycmF5LDEsMSwtMSksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDUsMSwzKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMyw3LDUpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg2LDIsMCksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDAsNCw2KSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMiw2LDcpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg3LDMsMiksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDUsNCwwKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soMCwxLDUpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjaygwLDIsMyksdGhpcy5pbmRpY2VzLmVtcGxhY2VCYWNrKDMsMSwwKSx0aGlzLmluZGljZXMuZW1wbGFjZUJhY2soNyw2LDQpLHRoaXMuaW5kaWNlcy5lbXBsYWNlQmFjayg0LDUsNyksdGhpcy52ZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIodGhpcy52ZXJ0ZXhBcnJheSxraSksdGhpcy5pbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuaW5kaWNlcyksdGhpcy5zZWdtZW50PWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCwzNiwxMil9fWZ1bmN0aW9uIHppKHQsbixpLHIsbyxhKXtjb25zdCBzPXQuZ2wsbD1uLnBhaW50LmdldChcInNreS1hdG1vc3BoZXJlLWNvbG9yXCIpLGM9bi5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1oYWxvLWNvbG9yXCIpLHU9bi5wYWludC5nZXQoXCJza3ktYXRtb3NwaGVyZS1zdW4taW50ZW5zaXR5XCIpLGg9KChlLHQsbixpLHIpPT4oe3VfbWF0cml4XzNmOmUsdV9zdW5fZGlyZWN0aW9uOnQsdV9zdW5faW50ZW5zaXR5Om4sdV9jb2xvcl90aW50X3I6W2kucixpLmcsaS5iLGkuYV0sdV9jb2xvcl90aW50X206W3IucixyLmcsci5iLHIuYV0sdV9sdW1pbmFuY2U6NWUtNX0pKShlLmZyb21NYXQ0KGUuY3JlYXRlJDEoKSxyKSxvLHUsbCxjKTtzLmZyYW1lYnVmZmVyVGV4dHVyZTJEKHMuRlJBTUVCVUZGRVIscy5DT0xPUl9BVFRBQ0hNRU5UMCxzLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCthLG4uc2t5Ym94VGV4dHVyZSwwKSxpLmRyYXcodCxzLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGUuQ29sb3JNb2RlLnVuYmxlbmRlZCxlLkN1bGxGYWNlTW9kZS5mcm9udENXLGgsXCJza3lib3hDYXB0dXJlXCIsbi5za3lib3hHZW9tZXRyeS52ZXJ0ZXhCdWZmZXIsbi5za3lib3hHZW9tZXRyeS5pbmRleEJ1ZmZlcixuLnNreWJveEdlb21ldHJ5LnNlZ21lbnQpfWNvbnN0IERpPWUuY3JlYXRlTGF5b3V0KFt7dHlwZTpcIkZsb2F0MzJcIixuYW1lOlwiYV9wb3NcIixjb21wb25lbnRzOjN9LHt0eXBlOlwiRmxvYXQzMlwiLG5hbWU6XCJhX3V2XCIsY29tcG9uZW50czoyfV0pO2NsYXNzIExpe2NvbnN0cnVjdG9yKHQpe2NvbnN0IG49bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQ1ZjIwO24uZW1wbGFjZUJhY2soLTEsMSwxLDAsMCksbi5lbXBsYWNlQmFjaygxLDEsMSwxLDApLG4uZW1wbGFjZUJhY2soMSwtMSwxLDEsMSksbi5lbXBsYWNlQmFjaygtMSwtMSwxLDAsMSk7Y29uc3QgaT1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDN1aTY7aS5lbXBsYWNlQmFjaygwLDEsMiksaS5lbXBsYWNlQmFjaygyLDMsMCksdGhpcy52ZXJ0ZXhCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIobixEaS5tZW1iZXJzKSx0aGlzLmluZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIoaSksdGhpcy5zZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCwyKX1kZXN0cm95KCl7dGhpcy52ZXJ0ZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuaW5kZXhCdWZmZXIuZGVzdHJveSgpLHRoaXMuc2VnbWVudHMuZGVzdHJveSgpfX1jb25zdCBPaT17c3ltYm9sOmZ1bmN0aW9uKHQsbixpLHIsbyl7aWYoXCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzKXJldHVybjtjb25zdCBhPWUuU3RlbmNpbE1vZGUuZGlzYWJsZWQscz10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKTtpLmxheW91dC5nZXQoXCJ0ZXh0LXZhcmlhYmxlLWFuY2hvclwiKSYmZnVuY3Rpb24odCxuLGkscixvLGEscyl7Y29uc3QgbD1uLnRyYW5zZm9ybSxjPVwibWFwXCI9PT1vLHU9XCJtYXBcIj09PWE7Zm9yKGNvbnN0IG4gb2YgdCl7Y29uc3QgdD1yLmdldFRpbGUobiksbz10LmdldEJ1Y2tldChpKTtpZighb3x8IW8udGV4dHx8IW8udGV4dC5zZWdtZW50cy5nZXQoKS5sZW5ndGgpY29udGludWU7Y29uc3QgYT1lLmV2YWx1YXRlU2l6ZUZvclpvb20oby50ZXh0U2l6ZURhdGEsbC56b29tKSxoPXh0KG4sby5nZXRQcm9qZWN0aW9uKCksbCksZD1sLmNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHQpLHA9dHQoaCx0LnRpbGVJRC5jYW5vbmljYWwsdSxjLGwsby5nZXRQcm9qZWN0aW9uKCksZCksZj1cIm5vbmVcIiE9PWkubGF5b3V0LmdldChcImljb24tdGV4dC1maXRcIikmJm8uaGFzSWNvbkRhdGEoKTtpZihhKXtjb25zdCBpPU1hdGgucG93KDIsbC56b29tLXQudGlsZUlELm92ZXJzY2FsZWRaKTtkaShvLGMsdSxzLGUuc3ltYm9sU2l6ZSxsLHAsbixpLGEsZil9fX0ocix0LGksbixpLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSxpLmxheW91dC5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxvKSwwIT09aS5wYWludC5nZXQoXCJpY29uLW9wYWNpdHlcIikuY29uc3RhbnRPcigxKSYmZmkodCxuLGksciwhMSxpLnBhaW50LmdldChcImljb24tdHJhbnNsYXRlXCIpLGkucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCIpLGkubGF5b3V0LmdldChcImljb24tcm90YXRpb24tYWxpZ25tZW50XCIpLGkubGF5b3V0LmdldChcImljb24tcGl0Y2gtYWxpZ25tZW50XCIpLGkubGF5b3V0LmdldChcImljb24ta2VlcC11cHJpZ2h0XCIpLGEscyksMCE9PWkucGFpbnQuZ2V0KFwidGV4dC1vcGFjaXR5XCIpLmNvbnN0YW50T3IoMSkmJmZpKHQsbixpLHIsITAsaS5wYWludC5nZXQoXCJ0ZXh0LXRyYW5zbGF0ZVwiKSxpLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiKSxpLmxheW91dC5nZXQoXCJ0ZXh0LXJvdGF0aW9uLWFsaWdubWVudFwiKSxpLmxheW91dC5nZXQoXCJ0ZXh0LXBpdGNoLWFsaWdubWVudFwiKSxpLmxheW91dC5nZXQoXCJ0ZXh0LWtlZXAtdXByaWdodFwiKSxhLHMpLG4ubWFwLnNob3dDb2xsaXNpb25Cb3hlcyYmKGNpKHQsbixpLHIsaS5wYWludC5nZXQoXCJ0ZXh0LXRyYW5zbGF0ZVwiKSxpLnBhaW50LmdldChcInRleHQtdHJhbnNsYXRlLWFuY2hvclwiKSwhMCksY2kodCxuLGkscixpLnBhaW50LmdldChcImljb24tdHJhbnNsYXRlXCIpLGkucGFpbnQuZ2V0KFwiaWNvbi10cmFuc2xhdGUtYW5jaG9yXCIpLCExKSl9LGNpcmNsZTpmdW5jdGlvbih0LG4saSxyKXtpZihcInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3MpcmV0dXJuO2NvbnN0IG89aS5wYWludC5nZXQoXCJjaXJjbGUtb3BhY2l0eVwiKSxhPWkucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS13aWR0aFwiKSxzPWkucGFpbnQuZ2V0KFwiY2lyY2xlLXN0cm9rZS1vcGFjaXR5XCIpLGw9dm9pZCAwIT09aS5sYXlvdXQuZ2V0KFwiY2lyY2xlLXNvcnQta2V5XCIpLmNvbnN0YW50T3IoMSk7aWYoMD09PW8uY29uc3RhbnRPcigxKSYmKDA9PT1hLmNvbnN0YW50T3IoMSl8fDA9PT1zLmNvbnN0YW50T3IoMSkpKXJldHVybjtjb25zdCBjPXQuY29udGV4dCx1PWMuZ2wsaD10LnRyYW5zZm9ybSxkPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxlLkRlcHRoTW9kZS5SZWFkT25seSkscD1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGY9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbT1cImdsb2JlXCI9PT1oLnByb2plY3Rpb24ubmFtZSxnPVtlLm1lcmNhdG9yWGZyb21MbmcoaC5jZW50ZXIubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQoaC5jZW50ZXIubGF0KV0seT1bXTtmb3IobGV0IG89MDtvPHIubGVuZ3RoO28rKyl7Y29uc3QgYT1yW29dLHM9bi5nZXRUaWxlKGEpLGM9cy5nZXRCdWNrZXQoaSk7aWYoIWN8fGMucHJvamVjdGlvbi5uYW1lIT09aC5wcm9qZWN0aW9uLm5hbWUpY29udGludWU7Y29uc3QgdT1jLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCksZD1HbihpKTttJiZkLnB1c2goXCJQUk9KRUNUSU9OX0dMT0JFX1ZJRVdcIik7Y29uc3QgcD10LnVzZVByb2dyYW0oXCJjaXJjbGVcIix1LGQpLGY9Yy5sYXlvdXRWZXJ0ZXhCdWZmZXIsXz1jLmdsb2JlRXh0VmVydGV4QnVmZmVyLHY9Yy5pbmRleEJ1ZmZlcix4PWgucHJvamVjdGlvbi5jcmVhdGVJbnZlcnNpb25NYXRyaXgoaCxhLmNhbm9uaWNhbCksYj17cHJvZ3JhbUNvbmZpZ3VyYXRpb246dSxwcm9ncmFtOnAsbGF5b3V0VmVydGV4QnVmZmVyOmYsZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI6XyxpbmRleEJ1ZmZlcjp2LHVuaWZvcm1WYWx1ZXM6Vm4odCxhLHMseCxnLGkpLHRpbGU6c307aWYobCl7Y29uc3QgdD1jLnNlZ21lbnRzLmdldCgpO2Zvcihjb25zdCBuIG9mIHQpeS5wdXNoKHtzZWdtZW50czpuZXcgZS5TZWdtZW50VmVjdG9yKFtuXSksc29ydEtleTpuLnNvcnRLZXksc3RhdGU6Yn0pfWVsc2UgeS5wdXNoKHtzZWdtZW50czpjLnNlZ21lbnRzLHNvcnRLZXk6MCxzdGF0ZTpifSl9bCYmeS5zb3J0KChlLHQpPT5lLnNvcnRLZXktdC5zb3J0S2V5KTtjb25zdCBfPXt1c2VEZXB0aEZvck9jY2x1c2lvbjohbX07Zm9yKGNvbnN0IG4gb2YgeSl7Y29uc3R7cHJvZ3JhbUNvbmZpZ3VyYXRpb246cixwcm9ncmFtOm8sbGF5b3V0VmVydGV4QnVmZmVyOmEsZ2xvYmVFeHRWZXJ0ZXhCdWZmZXI6cyxpbmRleEJ1ZmZlcjpsLHVuaWZvcm1WYWx1ZXM6bSx0aWxlOmd9PW4uc3RhdGUseT1uLnNlZ21lbnRzO3QudGVycmFpbiYmdC50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhnLG8sXyksdC5wcmVwYXJlRHJhd1Byb2dyYW0oYyxvLGcudGlsZUlELnRvVW53cmFwcGVkKCkpLG8uZHJhdyhjLHUuVFJJQU5HTEVTLGQscCxmLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLG0saS5pZCxhLGwseSxpLnBhaW50LGguem9vbSxyLFtzXSl9fSxoZWF0bWFwOmZ1bmN0aW9uKHQsbixpLHIpe2lmKDAhPT1pLnBhaW50LmdldChcImhlYXRtYXAtb3BhY2l0eVwiKSlpZihcIm9mZnNjcmVlblwiPT09dC5yZW5kZXJQYXNzKXtjb25zdCBvPXQuY29udGV4dCxhPW8uZ2wscz1lLlN0ZW5jaWxNb2RlLmRpc2FibGVkLGw9bmV3IGUuQ29sb3JNb2RlKFthLk9ORSxhLk9ORV0sZS5Db2xvci50cmFuc3BhcmVudCxbITAsITAsITAsITBdKTshZnVuY3Rpb24oZSx0LG4saSl7Y29uc3Qgcj1lLmdsLG89dC53aWR0aCppLGE9dC5oZWlnaHQqaTtlLmFjdGl2ZVRleHR1cmUuc2V0KHIuVEVYVFVSRTEpLGUudmlld3BvcnQuc2V0KFswLDAsbyxhXSk7bGV0IHM9bi5oZWF0bWFwRmJvO2lmKCFzfHxzJiYocy53aWR0aCE9PW98fHMuaGVpZ2h0IT09YSkpe3MmJnMuZGVzdHJveSgpO2NvbnN0IHQ9ci5jcmVhdGVUZXh0dXJlKCk7ci5iaW5kVGV4dHVyZShyLlRFWFRVUkVfMkQsdCksci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfV1JBUF9TLHIuQ0xBTVBfVE9fRURHRSksci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfV1JBUF9ULHIuQ0xBTVBfVE9fRURHRSksci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfTUlOX0ZJTFRFUixyLkxJTkVBUiksci50ZXhQYXJhbWV0ZXJpKHIuVEVYVFVSRV8yRCxyLlRFWFRVUkVfTUFHX0ZJTFRFUixyLkxJTkVBUikscz1uLmhlYXRtYXBGYm89ZS5jcmVhdGVGcmFtZWJ1ZmZlcihvLGEsITEpLGZ1bmN0aW9uKGUsdCxuLGkscixvKXtjb25zdCBhPWUuZ2w7YS50ZXhJbWFnZTJEKGEuVEVYVFVSRV8yRCwwLGEuUkdCQSxyLG8sMCxhLlJHQkEsZS5leHRSZW5kZXJUb1RleHR1cmVIYWxmRmxvYXQ/ZS5leHRUZXh0dXJlSGFsZkZsb2F0LkhBTEZfRkxPQVRfT0VTOmEuVU5TSUdORURfQllURSxudWxsKSxpLmNvbG9yQXR0YWNobWVudC5zZXQobil9KGUsMCx0LHMsbyxhKX1lbHNlIHIuYmluZFRleHR1cmUoci5URVhUVVJFXzJELHMuY29sb3JBdHRhY2htZW50LmdldCgpKSxlLmJpbmRGcmFtZWJ1ZmZlci5zZXQocy5mcmFtZWJ1ZmZlcil9KG8sdCxpLFwiZ2xvYmVcIj09PXQudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZT8uNTouMjUpLG8uY2xlYXIoe2NvbG9yOmUuQ29sb3IudHJhbnNwYXJlbnR9KTtjb25zdCBjPXQudHJhbnNmb3JtLHU9XCJnbG9iZVwiPT09Yy5wcm9qZWN0aW9uLm5hbWUsaD11P1tcIlBST0pFQ1RJT05fR0xPQkVfVklFV1wiXTpudWxsLGQ9dT9lLkN1bGxGYWNlTW9kZS5mcm9udENDVzplLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxwPVtlLm1lcmNhdG9yWGZyb21MbmcoYy5jZW50ZXIubG5nKSxlLm1lcmNhdG9yWWZyb21MYXQoYy5jZW50ZXIubGF0KV07Zm9yKGxldCBmPTA7ZjxyLmxlbmd0aDtmKyspe2NvbnN0IG09cltmXTtpZihuLmhhc1JlbmRlcmFibGVQYXJlbnQobSkpY29udGludWU7Y29uc3QgZz1uLmdldFRpbGUobSkseT1nLmdldEJ1Y2tldChpKTtpZigheXx8eS5wcm9qZWN0aW9uLm5hbWUhPT1jLnByb2plY3Rpb24ubmFtZSljb250aW51ZTtjb25zdCBfPXkucHJvZ3JhbUNvbmZpZ3VyYXRpb25zLmdldChpLmlkKSx2PXQudXNlUHJvZ3JhbShcImhlYXRtYXBcIixfLGgpLHt6b29tOnh9PXQudHJhbnNmb3JtO3QudGVycmFpbiYmdC50ZXJyYWluLnNldHVwRWxldmF0aW9uRHJhdyhnLHYpLHQucHJlcGFyZURyYXdQcm9ncmFtKG8sdixtLnRvVW53cmFwcGVkKCkpO2NvbnN0IGI9Yy5wcm9qZWN0aW9uLmNyZWF0ZUludmVyc2lvbk1hdHJpeChjLG0uY2Fub25pY2FsKTt2LmRyYXcobyxhLlRSSUFOR0xFUyxlLkRlcHRoTW9kZS5kaXNhYmxlZCxzLGwsZCwkbih0LG0sZyxiLHAseCxpLnBhaW50LmdldChcImhlYXRtYXAtaW50ZW5zaXR5XCIpKSxpLmlkLHkubGF5b3V0VmVydGV4QnVmZmVyLHkuaW5kZXhCdWZmZXIseS5zZWdtZW50cyxpLnBhaW50LHQudHJhbnNmb3JtLnpvb20sXyx1P1t5Lmdsb2JlRXh0VmVydGV4QnVmZmVyXTpudWxsKX1vLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKX1lbHNlXCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzJiYodC5jb250ZXh0LnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksZnVuY3Rpb24odCxuKXtjb25zdCBpPXQuY29udGV4dCxyPWkuZ2wsbz1uLmhlYXRtYXBGYm87aWYoIW8pcmV0dXJuO2kuYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMCksci5iaW5kVGV4dHVyZShyLlRFWFRVUkVfMkQsby5jb2xvckF0dGFjaG1lbnQuZ2V0KCkpLGkuYWN0aXZlVGV4dHVyZS5zZXQoci5URVhUVVJFMSk7bGV0IGE9bi5jb2xvclJhbXBUZXh0dXJlO2F8fChhPW4uY29sb3JSYW1wVGV4dHVyZT1uZXcgZS5UZXh0dXJlKGksbi5jb2xvclJhbXAsci5SR0JBKSksYS5iaW5kKHIuTElORUFSLHIuQ0xBTVBfVE9fRURHRSksdC51c2VQcm9ncmFtKFwiaGVhdG1hcFRleHR1cmVcIikuZHJhdyhpLHIuVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsdC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsKChlLHQsbixpKT0+KHt1X2ltYWdlOjAsdV9jb2xvcl9yYW1wOjEsdV9vcGFjaXR5OnQucGFpbnQuZ2V0KFwiaGVhdG1hcC1vcGFjaXR5XCIpfSkpKDAsbiksbi5pZCx0LnZpZXdwb3J0QnVmZmVyLHQucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXIsdC52aWV3cG9ydFNlZ21lbnRzLG4ucGFpbnQsdC50cmFuc2Zvcm0uem9vbSl9KHQsaSkpfSxsaW5lOmZ1bmN0aW9uKHQsbixpLHIpe2lmKFwidHJhbnNsdWNlbnRcIiE9PXQucmVuZGVyUGFzcylyZXR1cm47Y29uc3Qgbz1pLnBhaW50LmdldChcImxpbmUtb3BhY2l0eVwiKSxhPWkucGFpbnQuZ2V0KFwibGluZS13aWR0aFwiKTtpZigwPT09by5jb25zdGFudE9yKDEpfHwwPT09YS5jb25zdGFudE9yKDEpKXJldHVybjtjb25zdCBzPXQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxlLkRlcHRoTW9kZS5SZWFkT25seSksbD10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxjPXQudGVycmFpbiYmdC50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZT8xOmUuZXhwb3J0ZWQuZGV2aWNlUGl4ZWxSYXRpbyx1PWkucGFpbnQuZ2V0KFwibGluZS1kYXNoYXJyYXlcIiksaD11LmNvbnN0YW50T3IoMSksZD1pLmxheW91dC5nZXQoXCJsaW5lLWNhcFwiKSxwPWkucGFpbnQuZ2V0KFwibGluZS1wYXR0ZXJuXCIpLGY9cC5jb25zdGFudE9yKDEpLG09aS5wYWludC5nZXQoXCJsaW5lLWdyYWRpZW50XCIpLGc9Zj9cImxpbmVQYXR0ZXJuXCI6XCJsaW5lXCIseT10LmNvbnRleHQsXz15LmdsLHY9KGU9Pntjb25zdCB0PVtdO1FuKGUpJiZ0LnB1c2goXCJSRU5ERVJfTElORV9EQVNIXCIpLGUucGFpbnQuZ2V0KFwibGluZS1ncmFkaWVudFwiKSYmdC5wdXNoKFwiUkVOREVSX0xJTkVfR1JBRElFTlRcIik7Y29uc3Qgbj1lLnBhaW50LmdldChcImxpbmUtdHJpbS1vZmZzZXRcIik7MD09PW5bMF0mJjA9PT1uWzFdfHx0LnB1c2goXCJSRU5ERVJfTElORV9UUklNX09GRlNFVFwiKTtjb25zdCBpPWUucGFpbnQuZ2V0KFwibGluZS1wYXR0ZXJuXCIpLmNvbnN0YW50T3IoMSkscj0xIT09ZS5wYWludC5nZXQoXCJsaW5lLW9wYWNpdHlcIikuY29uc3RhbnRPcigxKTtyZXR1cm4haSYmciYmdC5wdXNoKFwiUkVOREVSX0xJTkVfQUxQSEFfRElTQ0FSRFwiKSx0fSkoaSk7bGV0IHg9di5pbmNsdWRlcyhcIlJFTkRFUl9MSU5FX0FMUEhBX0RJU0NBUkRcIik7dC50ZXJyYWluJiZ0LnRlcnJhaW4uY2xpcE9yTWFza092ZXJsYXBTdGVuY2lsVHlwZSgpJiYoeD0hMSk7Zm9yKGNvbnN0IG8gb2Ygcil7Y29uc3Qgcj1uLmdldFRpbGUobyk7aWYoZiYmIXIucGF0dGVybnNMb2FkZWQoKSljb250aW51ZTtjb25zdCBhPXIuZ2V0QnVja2V0KGkpO2lmKCFhKWNvbnRpbnVlO3QucHJlcGFyZURyYXdUaWxlKCk7Y29uc3QgYj1hLnByb2dyYW1Db25maWd1cmF0aW9ucy5nZXQoaS5pZCksdz10LnVzZVByb2dyYW0oZyxiLHYpLFQ9cC5jb25zdGFudE9yKG51bGwpO2lmKFQmJnIuaW1hZ2VBdGxhcyl7Y29uc3QgZT1yLmltYWdlQXRsYXMucGF0dGVyblBvc2l0aW9uc1tULnRvU3RyaW5nKCldO2UmJmIuc2V0Q29uc3RhbnRQYXR0ZXJuUG9zaXRpb25zKGUpfWNvbnN0IEU9dS5jb25zdGFudE9yKG51bGwpLFM9ZC5jb25zdGFudE9yKG51bGwpO2lmKCFmJiZFJiZTJiZyLmxpbmVBdGxhcyl7Y29uc3QgZT1yLmxpbmVBdGxhcy5nZXREYXNoKEUsUyk7ZSYmYi5zZXRDb25zdGFudFBhdHRlcm5Qb3NpdGlvbnMoZSl9bGV0W00sSV09aS5wYWludC5nZXQoXCJsaW5lLXRyaW0tb2Zmc2V0XCIpO2lmKFwicm91bmRcIj09PVN8fFwic3F1YXJlXCI9PT1TKXtjb25zdCBlPTE7TSE9PUkmJigwPT09TSYmKE0tPWUpLDE9PT1JJiYoSSs9ZSkpfWNvbnN0IEM9dC50ZXJyYWluP28ucHJvak1hdHJpeDpudWxsLGs9Zj9Ybih0LHIsaSxDLGMpOkhuKHQscixpLEMsYS5saW5lQ2xpcHNBcnJheS5sZW5ndGgsYyxbTSxJXSk7aWYobSl7Y29uc3Qgcj1hLmdyYWRpZW50c1tpLmlkXTtsZXQgcz1yLnRleHR1cmU7aWYoaS5ncmFkaWVudFZlcnNpb24hPT1yLnZlcnNpb24pe2xldCBsPTI1NjtpZihpLnN0ZXBJbnRlcnBvbGFudCl7Y29uc3QgaT1uLmdldFNvdXJjZSgpLm1heHpvb20scj1vLmNhbm9uaWNhbC56PT09aT9NYXRoLmNlaWwoMTw8dC50cmFuc2Zvcm0ubWF4Wm9vbS1vLmNhbm9uaWNhbC56KToxO2w9ZS5jbGFtcChlLm5leHRQb3dlck9mVHdvKGEubWF4TGluZUxlbmd0aC9lLkVYVEVOVCoxMDI0KnIpLDI1Nix5Lm1heFRleHR1cmVTaXplKX1yLmdyYWRpZW50PWUucmVuZGVyQ29sb3JSYW1wKHtleHByZXNzaW9uOmkuZ3JhZGllbnRFeHByZXNzaW9uKCksZXZhbHVhdGlvbktleTpcImxpbmVQcm9ncmVzc1wiLHJlc29sdXRpb246bCxpbWFnZTpyLmdyYWRpZW50fHx2b2lkIDAsY2xpcHM6YS5saW5lQ2xpcHNBcnJheX0pLHIudGV4dHVyZT9yLnRleHR1cmUudXBkYXRlKHIuZ3JhZGllbnQpOnIudGV4dHVyZT1uZXcgZS5UZXh0dXJlKHksci5ncmFkaWVudCxfLlJHQkEpLHIudmVyc2lvbj1pLmdyYWRpZW50VmVyc2lvbixzPXIudGV4dHVyZX15LmFjdGl2ZVRleHR1cmUuc2V0KF8uVEVYVFVSRTEpLHMuYmluZChpLnN0ZXBJbnRlcnBvbGFudD9fLk5FQVJFU1Q6Xy5MSU5FQVIsXy5DTEFNUF9UT19FREdFKX1oJiYoeS5hY3RpdmVUZXh0dXJlLnNldChfLlRFWFRVUkUwKSxyLmxpbmVBdGxhc1RleHR1cmUuYmluZChfLkxJTkVBUixfLlJFUEVBVCksYi51cGRhdGVQYWludEJ1ZmZlcnMoKSksZiYmKHkuYWN0aXZlVGV4dHVyZS5zZXQoXy5URVhUVVJFMCksci5pbWFnZUF0bGFzVGV4dHVyZS5iaW5kKF8uTElORUFSLF8uQ0xBTVBfVE9fRURHRSksYi51cGRhdGVQYWludEJ1ZmZlcnMoKSksdC5wcmVwYXJlRHJhd1Byb2dyYW0oeSx3LG8udG9VbndyYXBwZWQoKSk7Y29uc3QgQT1uPT57dy5kcmF3KHksXy5UUklBTkdMRVMscyxuLGwsZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsayxpLmlkLGEubGF5b3V0VmVydGV4QnVmZmVyLGEuaW5kZXhCdWZmZXIsYS5zZWdtZW50cyxpLnBhaW50LHQudHJhbnNmb3JtLnpvb20sYixbYS5sYXlvdXRWZXJ0ZXhCdWZmZXIyXSl9O2lmKHgpe2NvbnN0IG49dC5zdGVuY2lsTW9kZUZvckNsaXBwaW5nKG8pLnJlZjswPT09biYmdC50ZXJyYWluJiZ5LmNsZWFyKHtzdGVuY2lsOjB9KTtjb25zdCBpPXtmdW5jOl8uRVFVQUwsbWFzazoyNTV9O2sudV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZD0uOCxBKG5ldyBlLlN0ZW5jaWxNb2RlKGksbiwyNTUsXy5LRUVQLF8uS0VFUCxfLklOVkVSVCkpLGsudV9hbHBoYV9kaXNjYXJkX3RocmVzaG9sZD0wLEEobmV3IGUuU3RlbmNpbE1vZGUoaSxuLDI1NSxfLktFRVAsXy5LRUVQLF8uS0VFUCkpfWVsc2UgQSh0LnN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcobykpfXgmJih0LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKSx0LnRlcnJhaW4mJnkuY2xlYXIoe3N0ZW5jaWw6MH0pKX0sZmlsbDpmdW5jdGlvbih0LG4saSxyKXtjb25zdCBvPWkucGFpbnQuZ2V0KFwiZmlsbC1jb2xvclwiKSxhPWkucGFpbnQuZ2V0KFwiZmlsbC1vcGFjaXR5XCIpO2lmKDA9PT1hLmNvbnN0YW50T3IoMSkpcmV0dXJuO2NvbnN0IHM9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbD1pLnBhaW50LmdldChcImZpbGwtcGF0dGVyblwiKSxjPXQub3BhcXVlUGFzc0VuYWJsZWRGb3JMYXllcigpJiYhbC5jb25zdGFudE9yKDEpJiYxPT09by5jb25zdGFudE9yKGUuQ29sb3IudHJhbnNwYXJlbnQpLmEmJjE9PT1hLmNvbnN0YW50T3IoMCk/XCJvcGFxdWVcIjpcInRyYW5zbHVjZW50XCI7aWYodC5yZW5kZXJQYXNzPT09Yyl7Y29uc3Qgbz10LmRlcHRoTW9kZUZvclN1YmxheWVyKDEsXCJvcGFxdWVcIj09PXQucmVuZGVyUGFzcz9lLkRlcHRoTW9kZS5SZWFkV3JpdGU6ZS5EZXB0aE1vZGUuUmVhZE9ubHkpO2dpKHQsbixpLHIsbyxzLCExKX1pZihcInRyYW5zbHVjZW50XCI9PT10LnJlbmRlclBhc3MmJmkucGFpbnQuZ2V0KFwiZmlsbC1hbnRpYWxpYXNcIikpe2NvbnN0IG89dC5kZXB0aE1vZGVGb3JTdWJsYXllcihpLmdldFBhaW50UHJvcGVydHkoXCJmaWxsLW91dGxpbmUtY29sb3JcIik/MjowLGUuRGVwdGhNb2RlLlJlYWRPbmx5KTtnaSh0LG4saSxyLG8scywhMCl9fSxcImZpbGwtZXh0cnVzaW9uXCI6ZnVuY3Rpb24odCxuLGkscil7Y29uc3Qgbz1pLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLW9wYWNpdHlcIik7aWYoMCE9PW8mJlwidHJhbnNsdWNlbnRcIj09PXQucmVuZGVyUGFzcyl7Y29uc3QgYT1uZXcgZS5EZXB0aE1vZGUodC5jb250ZXh0LmdsLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpO2lmKDEhPT1vfHxpLnBhaW50LmdldChcImZpbGwtZXh0cnVzaW9uLXBhdHRlcm5cIikuY29uc3RhbnRPcigxKSl5aSh0LG4saSxyLGEsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxlLkNvbG9yTW9kZS5kaXNhYmxlZCkseWkodCxuLGkscixhLHQuc3RlbmNpbE1vZGVGb3IzRCgpLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpKSx0LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKTtlbHNle2NvbnN0IG89dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCk7eWkodCxuLGkscixhLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsbyl9fX0saGlsbHNoYWRlOmZ1bmN0aW9uKHQsbixpLHIpe2lmKFwib2Zmc2NyZWVuXCIhPT10LnJlbmRlclBhc3MmJlwidHJhbnNsdWNlbnRcIiE9PXQucmVuZGVyUGFzcylyZXR1cm47Y29uc3Qgbz10LmNvbnRleHQsYT10LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsZS5EZXB0aE1vZGUuUmVhZE9ubHkpLHM9dC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCksbD10LnRlcnJhaW4mJnQudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUsW2MsdV09XCJ0cmFuc2x1Y2VudFwiIT09dC5yZW5kZXJQYXNzfHxsP1t7fSxyXTp0LnN0ZW5jaWxDb25maWdGb3JPdmVybGFwKHIpO2Zvcihjb25zdCByIG9mIHUpe2NvbnN0IG89bi5nZXRUaWxlKHIpO2lmKG8ubmVlZHNIaWxsc2hhZGVQcmVwYXJlJiZcIm9mZnNjcmVlblwiPT09dC5yZW5kZXJQYXNzKV9uKHQsbyxpLGEsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxzKTtlbHNlIGlmKFwidHJhbnNsdWNlbnRcIj09PXQucmVuZGVyUGFzcyl7Y29uc3QgZT1sJiZ0LnRlcnJhaW4/dC50ZXJyYWluLnN0ZW5jaWxNb2RlRm9yUlRUT3ZlcmxhcChyKTpjW3Iub3ZlcnNjYWxlZFpdO2duKHQscixvLGksYSxlLHMpfX1vLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKSx0LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKX0scmFzdGVyOmZ1bmN0aW9uKHQsbixpLHIsbyxhKXtpZihcInRyYW5zbHVjZW50XCIhPT10LnJlbmRlclBhc3MpcmV0dXJuO2lmKDA9PT1pLnBhaW50LmdldChcInJhc3Rlci1vcGFjaXR5XCIpKXJldHVybjtpZighci5sZW5ndGgpcmV0dXJuO2NvbnN0IHM9dC5jb250ZXh0LGw9cy5nbCxjPW4uZ2V0U291cmNlKCksdT10LnVzZVByb2dyYW0oXCJyYXN0ZXJcIiksaD10LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxkPXQudGVycmFpbiYmdC50ZXJyYWluLnJlbmRlcmluZ1RvVGV4dHVyZSxbcCxmXT1jIGluc3RhbmNlb2YgQWV8fGQ/W3t9LHJdOnQuc3RlbmNpbENvbmZpZ0Zvck92ZXJsYXAociksbT1mW2YubGVuZ3RoLTFdLm92ZXJzY2FsZWRaLGc9IXQub3B0aW9ucy5tb3Zpbmc7Zm9yKGNvbnN0IHIgb2YgZil7Y29uc3Qgbz1kP2UuRGVwdGhNb2RlLmRpc2FibGVkOnQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoci5vdmVyc2NhbGVkWi1tLDE9PT1pLnBhaW50LmdldChcInJhc3Rlci1vcGFjaXR5XCIpP2UuRGVwdGhNb2RlLlJlYWRXcml0ZTplLkRlcHRoTW9kZS5SZWFkT25seSxsLkxFU1MpLGY9ci50b1Vud3JhcHBlZCgpLHk9bi5nZXRUaWxlKHIpO2lmKGQmJigheXx8IXkuaGFzRGF0YSgpKSljb250aW51ZTtjb25zdCBfPWQ/ci5wcm9qTWF0cml4OnQudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgoZixnKSx2PXQudGVycmFpbiYmZD90LnRlcnJhaW4uc3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwKHIpOnBbci5vdmVyc2NhbGVkWl0seD1hPzA6aS5wYWludC5nZXQoXCJyYXN0ZXItZmFkZS1kdXJhdGlvblwiKTt5LnJlZ2lzdGVyRmFkZUR1cmF0aW9uKHgpO2NvbnN0IGI9bi5maW5kTG9hZGVkUGFyZW50KHIsMCksdz1Jbih5LGIsbix0LnRyYW5zZm9ybSx4KTtsZXQgVCxFO3QudGVycmFpbiYmdC50ZXJyYWluLnByZXBhcmVEcmF3VGlsZSgpO2NvbnN0IFM9XCJuZWFyZXN0XCI9PT1pLnBhaW50LmdldChcInJhc3Rlci1yZXNhbXBsaW5nXCIpP2wuTkVBUkVTVDpsLkxJTkVBUjtzLmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTApLHkudGV4dHVyZS5iaW5kKFMsbC5DTEFNUF9UT19FREdFKSxzLmFjdGl2ZVRleHR1cmUuc2V0KGwuVEVYVFVSRTEpLGI/KGIudGV4dHVyZS5iaW5kKFMsbC5DTEFNUF9UT19FREdFKSxUPU1hdGgucG93KDIsYi50aWxlSUQub3ZlcnNjYWxlZFoteS50aWxlSUQub3ZlcnNjYWxlZFopLEU9W3kudGlsZUlELmNhbm9uaWNhbC54KlQlMSx5LnRpbGVJRC5jYW5vbmljYWwueSpUJTFdKTp5LnRleHR1cmUuYmluZChTLGwuQ0xBTVBfVE9fRURHRSk7Y29uc3QgTT1LbihfLEV8fFswLDBdLFR8fDEsdyxpLGMgaW5zdGFuY2VvZiBBZT9jLnBlcnNwZWN0aXZlVHJhbnNmb3JtOlswLDBdKTtpZih0LnByZXBhcmVEcmF3UHJvZ3JhbShzLHUsZiksYyBpbnN0YW5jZW9mIEFlKWMuYm91bmRzQnVmZmVyJiZjLmJvdW5kc1NlZ21lbnRzJiZ1LmRyYXcocyxsLlRSSUFOR0xFUyxvLGUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsaCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxNLGkuaWQsYy5ib3VuZHNCdWZmZXIsdC5xdWFkVHJpYW5nbGVJbmRleEJ1ZmZlcixjLmJvdW5kc1NlZ21lbnRzKTtlbHNle2NvbnN0e3RpbGVCb3VuZHNCdWZmZXI6bix0aWxlQm91bmRzSW5kZXhCdWZmZXI6cix0aWxlQm91bmRzU2VnbWVudHM6YX09dC5nZXRUaWxlQm91bmRzQnVmZmVycyh5KTt1LmRyYXcocyxsLlRSSUFOR0xFUyxvLHYsaCxlLkN1bGxGYWNlTW9kZS5kaXNhYmxlZCxNLGkuaWQsbixyLGEpfX10LnJlc2V0U3RlbmNpbENsaXBwaW5nTWFza3MoKX0sYmFja2dyb3VuZDpmdW5jdGlvbih0LG4saSxyKXtjb25zdCBvPWkucGFpbnQuZ2V0KFwiYmFja2dyb3VuZC1jb2xvclwiKSxhPWkucGFpbnQuZ2V0KFwiYmFja2dyb3VuZC1vcGFjaXR5XCIpO2lmKDA9PT1hKXJldHVybjtjb25zdCBzPXQuY29udGV4dCxsPXMuZ2wsYz10LnRyYW5zZm9ybSx1PWMudGlsZVNpemUsaD1pLnBhaW50LmdldChcImJhY2tncm91bmQtcGF0dGVyblwiKTtpZih0LmlzUGF0dGVybk1pc3NpbmcoaCkpcmV0dXJuO2NvbnN0IGQ9IWgmJjE9PT1vLmEmJjE9PT1hJiZ0Lm9wYXF1ZVBhc3NFbmFibGVkRm9yTGF5ZXIoKT9cIm9wYXF1ZVwiOlwidHJhbnNsdWNlbnRcIjtpZih0LnJlbmRlclBhc3MhPT1kKXJldHVybjtjb25zdCBwPWUuU3RlbmNpbE1vZGUuZGlzYWJsZWQsZj10LmRlcHRoTW9kZUZvclN1YmxheWVyKDAsXCJvcGFxdWVcIj09PWQ/ZS5EZXB0aE1vZGUuUmVhZFdyaXRlOmUuRGVwdGhNb2RlLlJlYWRPbmx5KSxtPXQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGc9dC51c2VQcm9ncmFtKGg/XCJiYWNrZ3JvdW5kUGF0dGVyblwiOlwiYmFja2dyb3VuZFwiKTtsZXQgeSxfPXI7X3x8KHk9dC5nZXRCYWNrZ3JvdW5kVGlsZXMoKSxfPU9iamVjdC52YWx1ZXMoeSkubWFwKGU9PmUudGlsZUlEKSksaCYmKHMuYWN0aXZlVGV4dHVyZS5zZXQobC5URVhUVVJFMCksdC5pbWFnZU1hbmFnZXIuYmluZCh0LmNvbnRleHQpKTtmb3IoY29uc3QgZCBvZiBfKXtjb25zdCBfPWQudG9VbndyYXBwZWQoKSx2PXI/ZC5wcm9qTWF0cml4OnQudHJhbnNmb3JtLmNhbGN1bGF0ZVByb2pNYXRyaXgoXyk7dC5wcmVwYXJlRHJhd1RpbGUoKTtjb25zdCB4PW4/bi5nZXRUaWxlKGQpOnk/eVtkLmtleV06bmV3IGUuVGlsZShkLHUsYy56b29tLHQpLGI9aD9haSh2LGEsdCxoLHt0aWxlSUQ6ZCx0aWxlU2l6ZTp1fSk6b2kodixhLG8pO3QucHJlcGFyZURyYXdQcm9ncmFtKHMsZyxfKTtjb25zdHt0aWxlQm91bmRzQnVmZmVyOncsdGlsZUJvdW5kc0luZGV4QnVmZmVyOlQsdGlsZUJvdW5kc1NlZ21lbnRzOkV9PXQuZ2V0VGlsZUJvdW5kc0J1ZmZlcnMoeCk7Zy5kcmF3KHMsbC5UUklBTkdMRVMsZixwLG0sZS5DdWxsRmFjZU1vZGUuZGlzYWJsZWQsYixpLmlkLHcsVCxFKX19LHNreTpmdW5jdGlvbih0LG4saSl7Y29uc3Qgcj10LnRyYW5zZm9ybSxvPVwibWVyY2F0b3JcIj09PXIucHJvamVjdGlvbi5uYW1lfHxcImdsb2JlXCI9PT1yLnByb2plY3Rpb24ubmFtZT8xOmUuc21vb3Roc3RlcCg3LDgsci56b29tKSxhPWkucGFpbnQuZ2V0KFwic2t5LW9wYWNpdHlcIikqbztpZigwPT09YSlyZXR1cm47Y29uc3Qgcz10LmNvbnRleHQsbD1pLnBhaW50LmdldChcInNreS10eXBlXCIpLGM9bmV3IGUuRGVwdGhNb2RlKHMuZ2wuTEVRVUFMLGUuRGVwdGhNb2RlLlJlYWRPbmx5LFswLDFdKSx1PXQuZnJhbWVDb3VudGVyLzFlMyUxO1wiYXRtb3NwaGVyZVwiPT09bD9cIm9mZnNjcmVlblwiPT09dC5yZW5kZXJQYXNzP2kubmVlZHNTa3lib3hDYXB0dXJlKHQpJiYoZnVuY3Rpb24odCxuLGkscil7Y29uc3Qgbz10LmNvbnRleHQsYT1vLmdsO2xldCBzPW4uc2t5Ym94RmJvO2lmKCFzKXtzPW4uc2t5Ym94RmJvPW8uY3JlYXRlRnJhbWVidWZmZXIoMzIsMzIsITEpLG4uc2t5Ym94R2VvbWV0cnk9bmV3IFBpKG8pLG4uc2t5Ym94VGV4dHVyZT1vLmdsLmNyZWF0ZVRleHR1cmUoKSxhLmJpbmRUZXh0dXJlKGEuVEVYVFVSRV9DVUJFX01BUCxuLnNreWJveFRleHR1cmUpLGEudGV4UGFyYW1ldGVyaShhLlRFWFRVUkVfQ1VCRV9NQVAsYS5URVhUVVJFX1dSQVBfUyxhLkNMQU1QX1RPX0VER0UpLGEudGV4UGFyYW1ldGVyaShhLlRFWFRVUkVfQ1VCRV9NQVAsYS5URVhUVVJFX1dSQVBfVCxhLkNMQU1QX1RPX0VER0UpLGEudGV4UGFyYW1ldGVyaShhLlRFWFRVUkVfQ1VCRV9NQVAsYS5URVhUVVJFX01JTl9GSUxURVIsYS5MSU5FQVIpLGEudGV4UGFyYW1ldGVyaShhLlRFWFRVUkVfQ1VCRV9NQVAsYS5URVhUVVJFX01BR19GSUxURVIsYS5MSU5FQVIpO2ZvcihsZXQgZT0wO2U8NjsrK2UpYS50ZXhJbWFnZTJEKGEuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK2UsMCxhLlJHQkEsMzIsMzIsMCxhLlJHQkEsYS5VTlNJR05FRF9CWVRFLG51bGwpfW8uYmluZEZyYW1lYnVmZmVyLnNldChzLmZyYW1lYnVmZmVyKSxvLnZpZXdwb3J0LnNldChbMCwwLDMyLDMyXSk7Y29uc3QgbD1uLmdldENlbnRlcih0LCEwKSxjPXQudXNlUHJvZ3JhbShcInNreWJveENhcHR1cmVcIiksdT1uZXcgRmxvYXQ2NEFycmF5KDE2KTtlLmlkZW50aXR5KHUpLGUucm90YXRlWSh1LHUsLjUqLU1hdGguUEkpLHppKG8sbixjLHUsbCwwKSxlLmlkZW50aXR5KHUpLGUucm90YXRlWSh1LHUsLjUqTWF0aC5QSSksemkobyxuLGMsdSxsLDEpLGUuaWRlbnRpdHkodSksZS5yb3RhdGVYKHUsdSwuNSotTWF0aC5QSSksemkobyxuLGMsdSxsLDIpLGUuaWRlbnRpdHkodSksZS5yb3RhdGVYKHUsdSwuNSpNYXRoLlBJKSx6aShvLG4sYyx1LGwsMyksZS5pZGVudGl0eSh1KSx6aShvLG4sYyx1LGwsNCksZS5pZGVudGl0eSh1KSxlLnJvdGF0ZVkodSx1LE1hdGguUEkpLHppKG8sbixjLHUsbCw1KSxvLnZpZXdwb3J0LnNldChbMCwwLHQud2lkdGgsdC5oZWlnaHRdKX0odCxpKSxpLm1hcmtTa3lib3hWYWxpZCh0KSk6XCJza3lcIj09PXQucmVuZGVyUGFzcyYmZnVuY3Rpb24odCxuLGkscixvKXtjb25zdCBhPXQuY29udGV4dCxzPWEuZ2wsbD10LnRyYW5zZm9ybSxjPXQudXNlUHJvZ3JhbShcInNreWJveFwiKTthLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApLHMuYmluZFRleHR1cmUocy5URVhUVVJFX0NVQkVfTUFQLG4uc2t5Ym94VGV4dHVyZSk7Y29uc3QgdT0oKGUsdCxuLGkscik9Pih7dV9tYXRyaXg6ZSx1X3N1bl9kaXJlY3Rpb246dCx1X2N1YmVtYXA6MCx1X29wYWNpdHk6aSx1X3RlbXBvcmFsX29mZnNldDpyfSkpKGwuc2t5Ym94TWF0cml4LG4uZ2V0Q2VudGVyKHQsITEpLDAscixvKTt0LnByZXBhcmVEcmF3UHJvZ3JhbShhLGMpLGMuZHJhdyhhLHMuVFJJQU5HTEVTLGksZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCx0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSxlLkN1bGxGYWNlTW9kZS5iYWNrQ1csdSxcInNreWJveFwiLG4uc2t5Ym94R2VvbWV0cnkudmVydGV4QnVmZmVyLG4uc2t5Ym94R2VvbWV0cnkuaW5kZXhCdWZmZXIsbi5za3lib3hHZW9tZXRyeS5zZWdtZW50KX0odCxpLGMsYSx1KTpcImdyYWRpZW50XCI9PT1sJiZcInNreVwiPT09dC5yZW5kZXJQYXNzJiZmdW5jdGlvbih0LG4saSxyLG8pe2NvbnN0IGE9dC5jb250ZXh0LHM9YS5nbCxsPXQudHJhbnNmb3JtLGM9dC51c2VQcm9ncmFtKFwic2t5Ym94R3JhZGllbnRcIik7bi5za3lib3hHZW9tZXRyeXx8KG4uc2t5Ym94R2VvbWV0cnk9bmV3IFBpKGEpKSxhLmFjdGl2ZVRleHR1cmUuc2V0KHMuVEVYVFVSRTApO2xldCB1PW4uY29sb3JSYW1wVGV4dHVyZTt1fHwodT1uLmNvbG9yUmFtcFRleHR1cmU9bmV3IGUuVGV4dHVyZShhLG4uY29sb3JSYW1wLHMuUkdCQSkpLHUuYmluZChzLkxJTkVBUixzLkNMQU1QX1RPX0VER0UpO2NvbnN0IGg9KCh0LG4saSxyLG8pPT4oe3VfbWF0cml4OnQsdV9jb2xvcl9yYW1wOjAsdV9jZW50ZXJfZGlyZWN0aW9uOm4sdV9yYWRpdXM6ZS5kZWdUb1JhZChpKSx1X29wYWNpdHk6cix1X3RlbXBvcmFsX29mZnNldDpvfSkpKGwuc2t5Ym94TWF0cml4LG4uZ2V0Q2VudGVyKHQsITEpLG4ucGFpbnQuZ2V0KFwic2t5LWdyYWRpZW50LXJhZGl1c1wiKSxyLG8pO3QucHJlcGFyZURyYXdQcm9ncmFtKGEsYyksYy5kcmF3KGEscy5UUklBTkdMRVMsaSxlLlN0ZW5jaWxNb2RlLmRpc2FibGVkLHQuY29sb3JNb2RlRm9yUmVuZGVyUGFzcygpLGUuQ3VsbEZhY2VNb2RlLmJhY2tDVyxoLFwic2t5Ym94R3JhZGllbnRcIixuLnNreWJveEdlb21ldHJ5LnZlcnRleEJ1ZmZlcixuLnNreWJveEdlb21ldHJ5LmluZGV4QnVmZmVyLG4uc2t5Ym94R2VvbWV0cnkuc2VnbWVudCl9KHQsaSxjLGEsdSl9LGRlYnVnOmZ1bmN0aW9uKGUsdCxuKXtmb3IobGV0IGk9MDtpPG4ubGVuZ3RoO2krKylFaShlLHQsbltpXSl9LGN1c3RvbTpmdW5jdGlvbih0LG4saSl7Y29uc3Qgcj10LmNvbnRleHQsbz1pLmltcGxlbWVudGF0aW9uO2lmKHQudHJhbnNmb3JtLnByb2plY3Rpb24udW5zdXBwb3J0ZWRMYXllcnMmJnQudHJhbnNmb3JtLnByb2plY3Rpb24udW5zdXBwb3J0ZWRMYXllcnMuaW5jbHVkZXMoXCJjdXN0b21cIikpZS53YXJuT25jZShcIkN1c3RvbSBsYXllcnMgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkIHdpdGggbm9uLW1lcmNhdG9yIHByb2plY3Rpb25zLiBVc2UgbWVyY2F0b3IgdG8gZW5hYmxlIGN1c3RvbSBsYXllcnMuXCIpO2Vsc2UgaWYoXCJvZmZzY3JlZW5cIj09PXQucmVuZGVyUGFzcyl7Y29uc3QgZT1vLnByZXJlbmRlcjtlJiYodC5zZXRDdXN0b21MYXllckRlZmF1bHRzKCksci5zZXRDb2xvck1vZGUodC5jb2xvck1vZGVGb3JSZW5kZXJQYXNzKCkpLGUuY2FsbChvLHIuZ2wsdC50cmFuc2Zvcm0uY3VzdG9tTGF5ZXJNYXRyaXgoKSksci5zZXREaXJ0eSgpLHQuc2V0QmFzZVN0YXRlKCkpfWVsc2UgaWYoXCJ0cmFuc2x1Y2VudFwiPT09dC5yZW5kZXJQYXNzKXt0LnNldEN1c3RvbUxheWVyRGVmYXVsdHMoKSxyLnNldENvbG9yTW9kZSh0LmNvbG9yTW9kZUZvclJlbmRlclBhc3MoKSksci5zZXRTdGVuY2lsTW9kZShlLlN0ZW5jaWxNb2RlLmRpc2FibGVkKTtjb25zdCBuPVwiM2RcIj09PW8ucmVuZGVyaW5nTW9kZT9uZXcgZS5EZXB0aE1vZGUodC5jb250ZXh0LmdsLkxFUVVBTCxlLkRlcHRoTW9kZS5SZWFkV3JpdGUsdC5kZXB0aFJhbmdlRm9yM0QpOnQuZGVwdGhNb2RlRm9yU3VibGF5ZXIoMCxlLkRlcHRoTW9kZS5SZWFkT25seSk7ci5zZXREZXB0aE1vZGUobiksby5yZW5kZXIoci5nbCx0LnRyYW5zZm9ybS5jdXN0b21MYXllck1hdHJpeCgpKSxyLnNldERpcnR5KCksdC5zZXRCYXNlU3RhdGUoKSxyLmJpbmRGcmFtZWJ1ZmZlci5zZXQobnVsbCl9fX07Y2xhc3MgUml7Y29uc3RydWN0b3IodCxuKXt0aGlzLmNvbnRleHQ9bmV3IE1lKHQpLHRoaXMudHJhbnNmb3JtPW4sdGhpcy5fdGlsZVRleHR1cmVzPXt9LHRoaXMuZnJhbWVDb3BpZXM9W10sdGhpcy5sb2FkVGltZVN0YW1wcz1bXSx0aGlzLnNldHVwKCksdGhpcy5udW1TdWJsYXllcnM9ZS5Tb3VyY2VDYWNoZS5tYXhVbmRlcnpvb21pbmcrZS5Tb3VyY2VDYWNoZS5tYXhPdmVyem9vbWluZysxLHRoaXMuZGVwdGhFcHNpbG9uPTEvTWF0aC5wb3coMiwxNiksdGhpcy5jcm9zc1RpbGVTeW1ib2xJbmRleD1uZXcgcXQsdGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzPVtdLHRoaXMuZ3B1VGltZXJzPXt9LHRoaXMuZnJhbWVDb3VudGVyPTAsdGhpcy5fYmFja2dyb3VuZFRpbGVzPXt9fXVwZGF0ZVRlcnJhaW4oZSx0KXtjb25zdCBuPSEhZSYmISFlLnRlcnJhaW4mJnRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24uc3VwcG9ydHNUZXJyYWluO2lmKCEobnx8dGhpcy5fdGVycmFpbiYmdGhpcy5fdGVycmFpbi5lbmFibGVkKSlyZXR1cm47dGhpcy5fdGVycmFpbnx8KHRoaXMuX3RlcnJhaW49bmV3IFBuKHRoaXMsZSkpO2NvbnN0IGk9dGhpcy5fdGVycmFpbjt0aGlzLnRyYW5zZm9ybS5lbGV2YXRpb249bj9pOm51bGwsaS51cGRhdGUoZSx0aGlzLnRyYW5zZm9ybSx0KX1fdXBkYXRlRm9nKGUpe2NvbnN0IHQ9ZS5mb2c7aWYoIXR8fFwiZ2xvYmVcIj09PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZXx8dC5nZXRPcGFjaXR5KHRoaXMudHJhbnNmb3JtLnBpdGNoKTwxfHx0LnByb3BlcnRpZXMuZ2V0KFwiaG9yaXpvbi1ibGVuZFwiKTwuMDMpcmV0dXJuIHZvaWQodGhpcy50cmFuc2Zvcm0uZm9nQ3VsbERpc3RTcT1udWxsKTtjb25zdFtuLGldPXQuZ2V0Rm92QWRqdXN0ZWRSYW5nZSh0aGlzLnRyYW5zZm9ybS5fZm92KTtpZihuPmkpcmV0dXJuIHZvaWQodGhpcy50cmFuc2Zvcm0uZm9nQ3VsbERpc3RTcT1udWxsKTtjb25zdCByPW4rLjc4KihpLW4pO3RoaXMudHJhbnNmb3JtLmZvZ0N1bGxEaXN0U3E9cipyfWdldCB0ZXJyYWluKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLl90ZXJyYWluRW5hYmxlZCgpJiZ0aGlzLl90ZXJyYWluJiZ0aGlzLl90ZXJyYWluLmVuYWJsZWQ/dGhpcy5fdGVycmFpbjpudWxsfXJlc2l6ZSh0LG4pe2lmKHRoaXMud2lkdGg9dCplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sdGhpcy5oZWlnaHQ9biplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW8sdGhpcy5jb250ZXh0LnZpZXdwb3J0LnNldChbMCwwLHRoaXMud2lkdGgsdGhpcy5oZWlnaHRdKSx0aGlzLnN0eWxlKWZvcihjb25zdCBlIG9mIHRoaXMuc3R5bGUub3JkZXIpdGhpcy5zdHlsZS5fbGF5ZXJzW2VdLnJlc2l6ZSgpfXNldHVwKCl7Y29uc3QgdD10aGlzLmNvbnRleHQsbj1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDJpNDtuLmVtcGxhY2VCYWNrKDAsMCksbi5lbXBsYWNlQmFjayhlLkVYVEVOVCwwKSxuLmVtcGxhY2VCYWNrKDAsZS5FWFRFTlQpLG4uZW1wbGFjZUJhY2soZS5FWFRFTlQsZS5FWFRFTlQpLHRoaXMudGlsZUV4dGVudEJ1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihuLGUucG9zQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLnRpbGVFeHRlbnRTZWdtZW50cz1lLlNlZ21lbnRWZWN0b3Iuc2ltcGxlU2VnbWVudCgwLDAsNCwyKTtjb25zdCBpPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0Mmk0O2kuZW1wbGFjZUJhY2soMCwwKSxpLmVtcGxhY2VCYWNrKGUuRVhURU5ULDApLGkuZW1wbGFjZUJhY2soMCxlLkVYVEVOVCksaS5lbXBsYWNlQmFjayhlLkVYVEVOVCxlLkVYVEVOVCksdGhpcy5kZWJ1Z0J1ZmZlcj10LmNyZWF0ZVZlcnRleEJ1ZmZlcihpLGUucG9zQXR0cmlidXRlcy5tZW1iZXJzKSx0aGlzLmRlYnVnU2VnbWVudHM9ZS5TZWdtZW50VmVjdG9yLnNpbXBsZVNlZ21lbnQoMCwwLDQsNSk7Y29uc3Qgcj1uZXcgZS5TdHJ1Y3RBcnJheUxheW91dDJpNDtyLmVtcGxhY2VCYWNrKC0xLC0xKSxyLmVtcGxhY2VCYWNrKDEsLTEpLHIuZW1wbGFjZUJhY2soLTEsMSksci5lbXBsYWNlQmFjaygxLDEpLHRoaXMudmlld3BvcnRCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIocixlLnBvc0F0dHJpYnV0ZXMubWVtYmVycyksdGhpcy52aWV3cG9ydFNlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO2NvbnN0IG89bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQ0aTg7by5lbXBsYWNlQmFjaygwLDAsMCwwKSxvLmVtcGxhY2VCYWNrKGUuRVhURU5ULDAsZS5FWFRFTlQsMCksby5lbXBsYWNlQmFjaygwLGUuRVhURU5ULDAsZS5FWFRFTlQpLG8uZW1wbGFjZUJhY2soZS5FWFRFTlQsZS5FWFRFTlQsZS5FWFRFTlQsZS5FWFRFTlQpLHRoaXMubWVyY2F0b3JCb3VuZHNCdWZmZXI9dC5jcmVhdGVWZXJ0ZXhCdWZmZXIobyxlLmJvdW5kc0F0dHJpYnV0ZXMubWVtYmVycyksdGhpcy5tZXJjYXRvckJvdW5kc1NlZ21lbnRzPWUuU2VnbWVudFZlY3Rvci5zaW1wbGVTZWdtZW50KDAsMCw0LDIpO2NvbnN0IGE9bmV3IGUuU3RydWN0QXJyYXlMYXlvdXQzdWk2O2EuZW1wbGFjZUJhY2soMCwxLDIpLGEuZW1wbGFjZUJhY2soMiwxLDMpLHRoaXMucXVhZFRyaWFuZ2xlSW5kZXhCdWZmZXI9dC5jcmVhdGVJbmRleEJ1ZmZlcihhKTtjb25zdCBzPW5ldyBlLlN0cnVjdEFycmF5TGF5b3V0MXVpMjtmb3IoY29uc3QgZSBvZlswLDEsMywyLDBdKXMuZW1wbGFjZUJhY2soZSk7dGhpcy5kZWJ1Z0luZGV4QnVmZmVyPXQuY3JlYXRlSW5kZXhCdWZmZXIocyksdGhpcy5lbXB0eVRleHR1cmU9bmV3IGUuVGV4dHVyZSh0LG5ldyBlLlJHQkFJbWFnZSh7d2lkdGg6MSxoZWlnaHQ6MX0sVWludDhBcnJheS5vZigwLDAsMCwwKSksdC5nbC5SR0JBKSx0aGlzLmlkZW50aXR5TWF0PWUuY3JlYXRlKCk7Y29uc3QgbD10aGlzLmNvbnRleHQuZ2w7dGhpcy5zdGVuY2lsQ2xlYXJNb2RlPW5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOmwuQUxXQVlTLG1hc2s6MH0sMCwyNTUsbC5aRVJPLGwuWkVSTyxsLlpFUk8pLHRoaXMubG9hZFRpbWVTdGFtcHMucHVzaChlLndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSksdGhpcy5hdG1vc3BoZXJlQnVmZmVyPW5ldyBMaSh0aGlzLmNvbnRleHQpfWdldE1lcmNhdG9yVGlsZUJvdW5kc0J1ZmZlcnMoKXtyZXR1cm57dGlsZUJvdW5kc0J1ZmZlcjp0aGlzLm1lcmNhdG9yQm91bmRzQnVmZmVyLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjp0aGlzLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLHRpbGVCb3VuZHNTZWdtZW50czp0aGlzLm1lcmNhdG9yQm91bmRzU2VnbWVudHN9fWdldFRpbGVCb3VuZHNCdWZmZXJzKGUpe3JldHVybiBlLl9tYWtlVGlsZUJvdW5kc0J1ZmZlcnModGhpcy5jb250ZXh0LHRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24pLGUuX3RpbGVCb3VuZHNCdWZmZXI/e3RpbGVCb3VuZHNCdWZmZXI6ZS5fdGlsZUJvdW5kc0J1ZmZlcix0aWxlQm91bmRzSW5kZXhCdWZmZXI6ZS5fdGlsZUJvdW5kc0luZGV4QnVmZmVyLHRpbGVCb3VuZHNTZWdtZW50czplLl90aWxlQm91bmRzU2VnbWVudHN9OnRoaXMuZ2V0TWVyY2F0b3JUaWxlQm91bmRzQnVmZmVycygpfWNsZWFyU3RlbmNpbCgpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LG49dC5nbDt0aGlzLm5leHRTdGVuY2lsSUQ9MSx0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzPXt9LHRoaXMudXNlUHJvZ3JhbShcImNsaXBwaW5nTWFza1wiKS5kcmF3KHQsbi5UUklBTkdMRVMsZS5EZXB0aE1vZGUuZGlzYWJsZWQsdGhpcy5zdGVuY2lsQ2xlYXJNb2RlLGUuQ29sb3JNb2RlLmRpc2FibGVkLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLE1uKHRoaXMuaWRlbnRpdHlNYXQpLFwiJGNsaXBwaW5nXCIsdGhpcy52aWV3cG9ydEJ1ZmZlcix0aGlzLnF1YWRUcmlhbmdsZUluZGV4QnVmZmVyLHRoaXMudmlld3BvcnRTZWdtZW50cyl9cmVzZXRTdGVuY2lsQ2xpcHBpbmdNYXNrcygpe3RoaXMudGVycmFpbnx8KHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHM9e30pfV9yZW5kZXJUaWxlQ2xpcHBpbmdNYXNrcyh0LG4saSl7aWYoIW58fHRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9PT1uLmlkfHwhdC5pc1RpbGVDbGlwcGVkKCl8fCFpfHwwPT09aS5sZW5ndGgpcmV0dXJuO2lmKHRoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHMmJiF0aGlzLnRlcnJhaW4pe2xldCBlPSExO2Zvcihjb25zdCB0IG9mIGkpaWYodm9pZCAwPT09dGhpcy5fdGlsZUNsaXBwaW5nTWFza0lEc1t0LmtleV0pe2U9ITA7YnJlYWt9aWYoIWUpcmV0dXJufXRoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9bi5pZDtjb25zdCByPXRoaXMuY29udGV4dCxvPXIuZ2w7dGhpcy5uZXh0U3RlbmNpbElEK2kubGVuZ3RoPjI1NiYmdGhpcy5jbGVhclN0ZW5jaWwoKSxyLnNldENvbG9yTW9kZShlLkNvbG9yTW9kZS5kaXNhYmxlZCksci5zZXREZXB0aE1vZGUoZS5EZXB0aE1vZGUuZGlzYWJsZWQpO2NvbnN0IGE9dGhpcy51c2VQcm9ncmFtKFwiY2xpcHBpbmdNYXNrXCIpO3RoaXMuX3RpbGVDbGlwcGluZ01hc2tJRHM9e307Zm9yKGNvbnN0IHQgb2YgaSl7Y29uc3QgaT1uLmdldFRpbGUodCkscz10aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzW3Qua2V5XT10aGlzLm5leHRTdGVuY2lsSUQrKyx7dGlsZUJvdW5kc0J1ZmZlcjpsLHRpbGVCb3VuZHNJbmRleEJ1ZmZlcjpjLHRpbGVCb3VuZHNTZWdtZW50czp1fT10aGlzLmdldFRpbGVCb3VuZHNCdWZmZXJzKGkpO2EuZHJhdyhyLG8uVFJJQU5HTEVTLGUuRGVwdGhNb2RlLmRpc2FibGVkLG5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOm8uQUxXQVlTLG1hc2s6MH0scywyNTUsby5LRUVQLG8uS0VFUCxvLlJFUExBQ0UpLGUuQ29sb3JNb2RlLmRpc2FibGVkLGUuQ3VsbEZhY2VNb2RlLmRpc2FibGVkLE1uKHQucHJvak1hdHJpeCksXCIkY2xpcHBpbmdcIixsLGMsdSl9fXN0ZW5jaWxNb2RlRm9yM0QoKXt0aGlzLmN1cnJlbnRTdGVuY2lsU291cmNlPXZvaWQgMCx0aGlzLm5leHRTdGVuY2lsSUQrMT4yNTYmJnRoaXMuY2xlYXJTdGVuY2lsKCk7Y29uc3QgdD10aGlzLm5leHRTdGVuY2lsSUQrKyxuPXRoaXMuY29udGV4dC5nbDtyZXR1cm4gbmV3IGUuU3RlbmNpbE1vZGUoe2Z1bmM6bi5OT1RFUVVBTCxtYXNrOjI1NX0sdCwyNTUsbi5LRUVQLG4uS0VFUCxuLlJFUExBQ0UpfXN0ZW5jaWxNb2RlRm9yQ2xpcHBpbmcodCl7aWYodGhpcy50ZXJyYWluKXJldHVybiB0aGlzLnRlcnJhaW4uc3RlbmNpbE1vZGVGb3JSVFRPdmVybGFwKHQpO2NvbnN0IG49dGhpcy5jb250ZXh0LmdsO3JldHVybiBuZXcgZS5TdGVuY2lsTW9kZSh7ZnVuYzpuLkVRVUFMLG1hc2s6MjU1fSx0aGlzLl90aWxlQ2xpcHBpbmdNYXNrSURzW3Qua2V5XSwwLG4uS0VFUCxuLktFRVAsbi5SRVBMQUNFKX1zdGVuY2lsQ29uZmlnRm9yT3ZlcmxhcCh0KXtjb25zdCBuPXRoaXMuY29udGV4dC5nbCxpPXQuc29ydCgoZSx0KT0+dC5vdmVyc2NhbGVkWi1lLm92ZXJzY2FsZWRaKSxyPWlbaS5sZW5ndGgtMV0ub3ZlcnNjYWxlZFosbz1pWzBdLm92ZXJzY2FsZWRaLXIrMTtpZihvPjEpe3RoaXMuY3VycmVudFN0ZW5jaWxTb3VyY2U9dm9pZCAwLHRoaXMubmV4dFN0ZW5jaWxJRCtvPjI1NiYmdGhpcy5jbGVhclN0ZW5jaWwoKTtjb25zdCB0PXt9O2ZvcihsZXQgaT0wO2k8bztpKyspdFtpK3JdPW5ldyBlLlN0ZW5jaWxNb2RlKHtmdW5jOm4uR0VRVUFMLG1hc2s6MjU1fSxpK3RoaXMubmV4dFN0ZW5jaWxJRCwyNTUsbi5LRUVQLG4uS0VFUCxuLlJFUExBQ0UpO3JldHVybiB0aGlzLm5leHRTdGVuY2lsSUQrPW8sW3QsaV19cmV0dXJuW3tbcl06ZS5TdGVuY2lsTW9kZS5kaXNhYmxlZH0saV19Y29sb3JNb2RlRm9yUmVuZGVyUGFzcygpe2NvbnN0IHQ9dGhpcy5jb250ZXh0LmdsO2lmKHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcil7Y29uc3Qgbj0xLzg7cmV0dXJuIG5ldyBlLkNvbG9yTW9kZShbdC5DT05TVEFOVF9DT0xPUix0Lk9ORV0sbmV3IGUuQ29sb3IobixuLG4sMCksWyEwLCEwLCEwLCEwXSl9cmV0dXJuXCJvcGFxdWVcIj09PXRoaXMucmVuZGVyUGFzcz9lLkNvbG9yTW9kZS51bmJsZW5kZWQ6ZS5Db2xvck1vZGUuYWxwaGFCbGVuZGVkfWRlcHRoTW9kZUZvclN1YmxheWVyKHQsbixpKXtpZighdGhpcy5vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCkpcmV0dXJuIGUuRGVwdGhNb2RlLmRpc2FibGVkO2NvbnN0IHI9MS0oKDErdGhpcy5jdXJyZW50TGF5ZXIpKnRoaXMubnVtU3VibGF5ZXJzK3QpKnRoaXMuZGVwdGhFcHNpbG9uO3JldHVybiBuZXcgZS5EZXB0aE1vZGUoaXx8dGhpcy5jb250ZXh0LmdsLkxFUVVBTCxuLFtyLHJdKX1vcGFxdWVQYXNzRW5hYmxlZEZvckxheWVyKCl7cmV0dXJuIHRoaXMuY3VycmVudExheWVyPHRoaXMub3BhcXVlUGFzc0N1dG9mZn1yZW5kZXIodCxuKXt0aGlzLnN0eWxlPXQsdGhpcy5vcHRpb25zPW4sdGhpcy5pbWFnZU1hbmFnZXI9dC5pbWFnZU1hbmFnZXIsdGhpcy5nbHlwaE1hbmFnZXI9dC5nbHlwaE1hbmFnZXIsdGhpcy5zeW1ib2xGYWRlQ2hhbmdlPXQucGxhY2VtZW50LnN5bWJvbEZhZGVDaGFuZ2UoZS5leHBvcnRlZC5ub3coKSksdGhpcy5pbWFnZU1hbmFnZXIuYmVnaW5GcmFtZSgpO2NvbnN0IGk9dGhpcy5zdHlsZS5vcmRlcixyPXRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcztmb3IoY29uc3QgZSBpbiByKXtjb25zdCB0PXJbZV07dC51c2VkJiZ0LnByZXBhcmUodGhpcy5jb250ZXh0KX1jb25zdCBvPXt9LGE9e30scz17fTtmb3IoY29uc3QgZSBpbiByKXtjb25zdCB0PXJbZV07b1tlXT10LmdldFZpc2libGVDb29yZGluYXRlcygpLGFbZV09b1tlXS5zbGljZSgpLnJldmVyc2UoKSxzW2VdPXQuZ2V0VmlzaWJsZUNvb3JkaW5hdGVzKCEwKS5yZXZlcnNlKCl9dGhpcy5vcGFxdWVQYXNzQ3V0b2ZmPTEvMDtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKylpZih0aGlzLnN0eWxlLl9sYXllcnNbaVtlXV0uaXMzRCgpKXt0aGlzLm9wYXF1ZVBhc3NDdXRvZmY9ZTticmVha31pZih0aGlzLnRlcnJhaW4mJih0aGlzLnRlcnJhaW4udXBkYXRlVGlsZUJpbmRpbmcocyksdGhpcy5vcGFxdWVQYXNzQ3V0b2ZmPTApLFwiZ2xvYmVcIiE9PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZXx8dGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnN8fCh0aGlzLmdsb2JlU2hhcmVkQnVmZmVycz1uZXcgZS5HbG9iZVNoYXJlZEJ1ZmZlcnModGhpcy5jb250ZXh0KSksZS5pc01hcEF1dGhlbnRpY2F0ZWQodGhpcy5jb250ZXh0LmdsKSl7dGhpcy5yZW5kZXJQYXNzPVwib2Zmc2NyZWVuXCI7Zm9yKGNvbnN0IGUgb2YgaSl7Y29uc3Qgbj10aGlzLnN0eWxlLl9sYXllcnNbZV0saT10Ll9nZXRMYXllclNvdXJjZUNhY2hlKG4pO2lmKCFuLmhhc09mZnNjcmVlblBhc3MoKXx8bi5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSljb250aW51ZTtjb25zdCByPWk/YVtpLmlkXTp2b2lkIDA7KFwiY3VzdG9tXCI9PT1uLnR5cGV8fG4uaXNTa3koKXx8ciYmci5sZW5ndGgpJiZ0aGlzLnJlbmRlckxheWVyKHRoaXMsaSxuLHIpfWlmKHRoaXMuZGVwdGhSYW5nZUZvcjNEPVswLDEtKHQub3JkZXIubGVuZ3RoKzIpKnRoaXMubnVtU3VibGF5ZXJzKnRoaXMuZGVwdGhFcHNpbG9uXSx0aGlzLnRlcnJhaW4mJih0aGlzLnN0eWxlLmhhc1N5bWJvbExheWVycygpfHx0aGlzLnN0eWxlLmhhc0NpcmNsZUxheWVycygpKSYmdGhpcy50ZXJyYWluLmRyYXdEZXB0aCgpLHRoaXMuY29udGV4dC5iaW5kRnJhbWVidWZmZXIuc2V0KG51bGwpLHRoaXMuY29udGV4dC52aWV3cG9ydC5zZXQoWzAsMCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0XSksdGhpcy5jb250ZXh0LmNsZWFyKHtjb2xvcjpuLnNob3dPdmVyZHJhd0luc3BlY3Rvcj9lLkNvbG9yLmJsYWNrOmUuQ29sb3IudHJhbnNwYXJlbnQsZGVwdGg6MX0pLHRoaXMuY2xlYXJTdGVuY2lsKCksdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yPW4uc2hvd092ZXJkcmF3SW5zcGVjdG9yLHRoaXMucmVuZGVyUGFzcz1cIm9wYXF1ZVwiLCF0aGlzLnRlcnJhaW4pZm9yKHRoaXMuY3VycmVudExheWVyPWkubGVuZ3RoLTE7dGhpcy5jdXJyZW50TGF5ZXI+PTA7dGhpcy5jdXJyZW50TGF5ZXItLSl7Y29uc3QgZT10aGlzLnN0eWxlLl9sYXllcnNbaVt0aGlzLmN1cnJlbnRMYXllcl1dLG49dC5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtpZihlLmlzU2t5KCkpY29udGludWU7Y29uc3Qgcj1uP2Fbbi5pZF06dm9pZCAwO3RoaXMuX3JlbmRlclRpbGVDbGlwcGluZ01hc2tzKGUsbixyKSx0aGlzLnJlbmRlckxheWVyKHRoaXMsbixlLHIpfWlmKHRoaXMuc3R5bGUuZm9nJiZ0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRm9nJiZmdW5jdGlvbih0LG4pe2NvbnN0IGk9dC5jb250ZXh0LHI9aS5nbCxvPXQudHJhbnNmb3JtLGE9bmV3IGUuRGVwdGhNb2RlKHIuTEVRVUFMLGUuRGVwdGhNb2RlLlJlYWRPbmx5LFswLDFdKSxzPXQudXNlUHJvZ3JhbShcImdsb2JlQXRtb3NwaGVyZVwiLG51bGwsXCJnbG9iZVwiPT09by5wcm9qZWN0aW9uLm5hbWU/W1wiUFJPSkVDVElPTl9HTE9CRV9WSUVXXCIsXCJGT0dcIl06W1wiRk9HXCJdKSxsPWUuZ2xvYmVUb01lcmNhdG9yVHJhbnNpdGlvbihvLnpvb20pLGM9bi5wcm9wZXJ0aWVzLmdldChcImNvbG9yXCIpLnRvQXJyYXkwMSgpLHU9bi5wcm9wZXJ0aWVzLmdldChcImhpZ2gtY29sb3JcIikudG9BcnJheTAxKCksaD1uLnByb3BlcnRpZXMuZ2V0KFwic3BhY2UtY29sb3JcIikudG9BcnJheTAxUHJlbXVsdGlwbGllZEFscGhhKCksZD1lLmlkZW50aXR5JDEoW10pO2Uucm90YXRlWSQxKGQsZCwtZS5kZWdUb1JhZChvLl9jZW50ZXIubG5nKSksZS5yb3RhdGVYJDEoZCxkLGUuZGVnVG9SYWQoby5fY2VudGVyLmxhdCkpLGUucm90YXRlWiQxKGQsZCxvLmFuZ2xlKSxlLnJvdGF0ZVgkMShkLGQsLW8uX3BpdGNoKTtjb25zdCBwPWUuZnJvbVF1YXQobmV3IEZsb2F0MzJBcnJheSgxNiksZCksZj1lLm1hcFZhbHVlKG4ucHJvcGVydGllcy5nZXQoXCJzdGFyLWludGVuc2l0eVwiKSwwLDEsMCwuMjUpLG09NWUtNCxnPWUubWFwVmFsdWUobi5wcm9wZXJ0aWVzLmdldChcImhvcml6b24tYmxlbmRcIiksMCwxLG0sLjI1KSx5PWUuZ2xvYmVVc2VDdXN0b21BbnRpQWxpYXNpbmcodCxpLG8pJiZnPT09bT9vLndvcmxkU2l6ZS8oMipNYXRoLlBJKjEuMDI1KS0xOm8uZ2xvYmVSYWRpdXMsXz10LmZyYW1lQ291bnRlci8xZTMlMSx2PWUubGVuZ3RoKG8uZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSkseD1NYXRoLnNxcnQoTWF0aC5wb3codiwyKS1NYXRoLnBvdyh5LDIpKSxiPU1hdGguYWNvcyh4L3YpLHc9KCh0LG4saSxyLG8sYSxzLGwsYyx1LGgsZCxwLGYpPT4oe3VfZnJ1c3R1bV90bDp0LHVfZnJ1c3R1bV90cjpuLHVfZnJ1c3R1bV9icjppLHVfZnJ1c3R1bV9ibDpyLHVfaG9yaXpvbjpvLHVfdHJhbnNpdGlvbjphLHVfZmFkZW91dF9yYW5nZTpzLHVfY29sb3I6bCx1X2hpZ2hfY29sb3I6Yyx1X3NwYWNlX2NvbG9yOnUsdV9zdGFyX2ludGVuc2l0eTpoLHVfc3Rhcl9zaXplOjUqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHVfc3Rhcl9kZW5zaXR5OjAsdV90ZW1wb3JhbF9vZmZzZXQ6ZCx1X2hvcml6b25fYW5nbGU6cCx1X3JvdGF0aW9uX21hdHJpeDpmfSkpKG8uZnJ1c3R1bUNvcm5lcnMuVEwsby5mcnVzdHVtQ29ybmVycy5UUixvLmZydXN0dW1Db3JuZXJzLkJSLG8uZnJ1c3R1bUNvcm5lcnMuQkwsby5mcnVzdHVtQ29ybmVycy5ob3Jpem9uLGwsZyxjLHUsaCxmLF8sYixwKTt0LnByZXBhcmVEcmF3UHJvZ3JhbShpLHMpO2NvbnN0IFQ9dC5hdG1vc3BoZXJlQnVmZmVyO1QmJnMuZHJhdyhpLHIuVFJJQU5HTEVTLGEsZS5TdGVuY2lsTW9kZS5kaXNhYmxlZCxlLkNvbG9yTW9kZS5hbHBoYUJsZW5kZWQsZS5DdWxsRmFjZU1vZGUuYmFja0NXLHcsXCJza3lib3hcIixULnZlcnRleEJ1ZmZlcixULmluZGV4QnVmZmVyLFQuc2VnbWVudHMpfSh0aGlzLHRoaXMuc3R5bGUuZm9nKSx0aGlzLnJlbmRlclBhc3M9XCJza3lcIiwoZS5nbG9iZVRvTWVyY2F0b3JUcmFuc2l0aW9uKHRoaXMudHJhbnNmb3JtLnpvb20pPjB8fFwiZ2xvYmVcIiE9PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZSkmJnRoaXMudHJhbnNmb3JtLmlzSG9yaXpvblZpc2libGUoKSlmb3IodGhpcy5jdXJyZW50TGF5ZXI9MDt0aGlzLmN1cnJlbnRMYXllcjxpLmxlbmd0aDt0aGlzLmN1cnJlbnRMYXllcisrKXtjb25zdCBlPXRoaXMuc3R5bGUuX2xheWVyc1tpW3RoaXMuY3VycmVudExheWVyXV0sbj10Ll9nZXRMYXllclNvdXJjZUNhY2hlKGUpO2UuaXNTa3koKSYmdGhpcy5yZW5kZXJMYXllcih0aGlzLG4sZSxuP2Fbbi5pZF06dm9pZCAwKX1mb3IodGhpcy5yZW5kZXJQYXNzPVwidHJhbnNsdWNlbnRcIix0aGlzLmN1cnJlbnRMYXllcj0wO3RoaXMuY3VycmVudExheWVyPGkubGVuZ3RoOyl7Y29uc3QgZT10aGlzLnN0eWxlLl9sYXllcnNbaVt0aGlzLmN1cnJlbnRMYXllcl1dLG49dC5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtpZihlLmlzU2t5KCkpeysrdGhpcy5jdXJyZW50TGF5ZXI7Y29udGludWV9aWYodGhpcy50ZXJyYWluJiZ0aGlzLnN0eWxlLmlzTGF5ZXJEcmFwZWQoZSkpe2lmKGUuaXNIaWRkZW4odGhpcy50cmFuc2Zvcm0uem9vbSkpeysrdGhpcy5jdXJyZW50TGF5ZXI7Y29udGludWV9dGhpcy5jdXJyZW50TGF5ZXI9dGhpcy50ZXJyYWluLnJlbmRlckJhdGNoKHRoaXMuY3VycmVudExheWVyKTtjb250aW51ZX1jb25zdCByPW4/KFwic3ltYm9sXCI9PT1lLnR5cGU/czphKVtuLmlkXTp2b2lkIDA7dGhpcy5fcmVuZGVyVGlsZUNsaXBwaW5nTWFza3MoZSxuLG4/b1tuLmlkXTp2b2lkIDApLHRoaXMucmVuZGVyTGF5ZXIodGhpcyxuLGUsciksKyt0aGlzLmN1cnJlbnRMYXllcn1pZih0aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5wb3N0UmVuZGVyKCksdGhpcy5vcHRpb25zLnNob3dUaWxlQm91bmRhcmllc3x8dGhpcy5vcHRpb25zLnNob3dRdWVyeUdlb21ldHJ5fHx0aGlzLm9wdGlvbnMuc2hvd1RpbGVBQUJCcyl7bGV0IG49bnVsbDtlLnZhbHVlcyh0aGlzLnN0eWxlLl9sYXllcnMpLmZvckVhY2goZT0+e2NvbnN0IGk9dC5fZ2V0TGF5ZXJTb3VyY2VDYWNoZShlKTtpJiYhZS5pc0hpZGRlbih0aGlzLnRyYW5zZm9ybS56b29tKSYmKCFufHxuLmdldFNvdXJjZSgpLm1heHpvb208aS5nZXRTb3VyY2UoKS5tYXh6b29tKSYmKG49aSl9KSxuJiZ0aGlzLm9wdGlvbnMuc2hvd1RpbGVCb3VuZGFyaWVzJiZPaS5kZWJ1Zyh0aGlzLG4sbi5nZXRWaXNpYmxlQ29vcmRpbmF0ZXMoKSl9dGhpcy5vcHRpb25zLnNob3dQYWRkaW5nJiZmdW5jdGlvbihlKXtjb25zdCB0PWUudHJhbnNmb3JtLnBhZGRpbmc7U2koZSxlLnRyYW5zZm9ybS5oZWlnaHQtKHQudG9wfHwwKSwzLHZpKSxTaShlLHQuYm90dG9tfHwwLDMseGkpLE1pKGUsdC5sZWZ0fHwwLDMsYmkpLE1pKGUsZS50cmFuc2Zvcm0ud2lkdGgtKHQucmlnaHR8fDApLDMsd2kpO2NvbnN0IG49ZS50cmFuc2Zvcm0uY2VudGVyUG9pbnQ7IWZ1bmN0aW9uKGUsdCxuLGkpe0lpKGUsdC0xLG4tMTAsMiwyMCxpKSxJaShlLHQtMTAsbi0xLDIwLDIsaSl9KGUsbi54LGUudHJhbnNmb3JtLmhlaWdodC1uLnksVGkpfSh0aGlzKSx0aGlzLmNvbnRleHQuc2V0RGVmYXVsdCgpLHRoaXMuZnJhbWVDb3VudGVyPSh0aGlzLmZyYW1lQ291bnRlcisxKSVOdW1iZXIuTUFYX1NBRkVfSU5URUdFUix0aGlzLnRpbGVMb2FkZWQmJnRoaXMub3B0aW9ucy5zcGVlZEluZGV4VGltaW5nJiYodGhpcy5sb2FkVGltZVN0YW1wcy5wdXNoKGUud2luZG93LnBlcmZvcm1hbmNlLm5vdygpKSx0aGlzLnNhdmVDYW52YXNDb3B5KCkpfX1yZW5kZXJMYXllcihlLHQsbixpKXtuLmlzSGlkZGVuKHRoaXMudHJhbnNmb3JtLnpvb20pfHwoXCJiYWNrZ3JvdW5kXCI9PT1uLnR5cGV8fFwic2t5XCI9PT1uLnR5cGV8fFwiY3VzdG9tXCI9PT1uLnR5cGV8fGkmJmkubGVuZ3RoKSYmKHRoaXMuaWQ9bi5pZCx0aGlzLmdwdVRpbWluZ1N0YXJ0KG4pLGUudHJhbnNmb3JtLnByb2plY3Rpb24udW5zdXBwb3J0ZWRMYXllcnMmJmUudHJhbnNmb3JtLnByb2plY3Rpb24udW5zdXBwb3J0ZWRMYXllcnMuaW5jbHVkZXMobi50eXBlKXx8T2lbbi50eXBlXShlLHQsbixpLHRoaXMuc3R5bGUucGxhY2VtZW50LnZhcmlhYmxlT2Zmc2V0cyx0aGlzLm9wdGlvbnMuaXNJbml0aWFsTG9hZCksdGhpcy5ncHVUaW1pbmdFbmQoKSl9Z3B1VGltaW5nU3RhcnQoZSl7aWYoIXRoaXMub3B0aW9ucy5ncHVUaW1pbmcpcmV0dXJuO2NvbnN0IHQ9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnk7bGV0IG49dGhpcy5ncHVUaW1lcnNbZS5pZF07bnx8KG49dGhpcy5ncHVUaW1lcnNbZS5pZF09e2NhbGxzOjAsY3B1VGltZTowLHF1ZXJ5OnQuY3JlYXRlUXVlcnlFWFQoKX0pLG4uY2FsbHMrKyx0LmJlZ2luUXVlcnlFWFQodC5USU1FX0VMQVBTRURfRVhULG4ucXVlcnkpfWdwdVRpbWluZ0RlZmVycmVkUmVuZGVyU3RhcnQoKXtpZih0aGlzLm9wdGlvbnMuZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXIpe2NvbnN0IGU9dGhpcy5jb250ZXh0LmV4dFRpbWVyUXVlcnksdD1lLmNyZWF0ZVF1ZXJ5RVhUKCk7dGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzLnB1c2godCksZS5iZWdpblF1ZXJ5RVhUKGUuVElNRV9FTEFQU0VEX0VYVCx0KX19Z3B1VGltaW5nRGVmZXJyZWRSZW5kZXJFbmQoKXtpZighdGhpcy5vcHRpb25zLmdwdVRpbWluZ0RlZmVycmVkUmVuZGVyKXJldHVybjtjb25zdCBlPXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5O2UuZW5kUXVlcnlFWFQoZS5USU1FX0VMQVBTRURfRVhUKX1ncHVUaW1pbmdFbmQoKXtpZighdGhpcy5vcHRpb25zLmdwdVRpbWluZylyZXR1cm47Y29uc3QgZT10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeTtlLmVuZFF1ZXJ5RVhUKGUuVElNRV9FTEFQU0VEX0VYVCl9Y29sbGVjdEdwdVRpbWVycygpe2NvbnN0IGU9dGhpcy5ncHVUaW1lcnM7cmV0dXJuIHRoaXMuZ3B1VGltZXJzPXt9LGV9Y29sbGVjdERlZmVycmVkUmVuZGVyR3B1UXVlcmllcygpe2NvbnN0IGU9dGhpcy5kZWZlcnJlZFJlbmRlckdwdVRpbWVRdWVyaWVzO3JldHVybiB0aGlzLmRlZmVycmVkUmVuZGVyR3B1VGltZVF1ZXJpZXM9W10sZX1xdWVyeUdwdVRpbWVycyhlKXtjb25zdCB0PXt9O2Zvcihjb25zdCBuIGluIGUpe2NvbnN0IGk9ZVtuXSxyPXRoaXMuY29udGV4dC5leHRUaW1lclF1ZXJ5LG89ci5nZXRRdWVyeU9iamVjdEVYVChpLnF1ZXJ5LHIuUVVFUllfUkVTVUxUX0VYVCkvMWU2O3IuZGVsZXRlUXVlcnlFWFQoaS5xdWVyeSksdFtuXT1vfXJldHVybiB0fXF1ZXJ5R3B1VGltZURlZmVycmVkUmVuZGVyKGUpe2lmKCF0aGlzLm9wdGlvbnMuZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXIpcmV0dXJuIDA7Y29uc3QgdD10aGlzLmNvbnRleHQuZXh0VGltZXJRdWVyeTtsZXQgbj0wO2Zvcihjb25zdCBpIG9mIGUpbis9dC5nZXRRdWVyeU9iamVjdEVYVChpLHQuUVVFUllfUkVTVUxUX0VYVCkvMWU2LHQuZGVsZXRlUXVlcnlFWFQoaSk7cmV0dXJuIG59dHJhbnNsYXRlUG9zTWF0cml4KHQsbixpLHIsbyl7aWYoIWlbMF0mJiFpWzFdKXJldHVybiB0O2NvbnN0IGE9bz9cIm1hcFwiPT09cj90aGlzLnRyYW5zZm9ybS5hbmdsZTowOlwidmlld3BvcnRcIj09PXI/LXRoaXMudHJhbnNmb3JtLmFuZ2xlOjA7aWYoYSl7Y29uc3QgZT1NYXRoLnNpbihhKSx0PU1hdGguY29zKGEpO2k9W2lbMF0qdC1pWzFdKmUsaVswXSplK2lbMV0qdF19Y29uc3Qgcz1bbz9pWzBdOkQobixpWzBdLHRoaXMudHJhbnNmb3JtLnpvb20pLG8/aVsxXTpEKG4saVsxXSx0aGlzLnRyYW5zZm9ybS56b29tKSwwXSxsPW5ldyBGbG9hdDMyQXJyYXkoMTYpO3JldHVybiBlLnRyYW5zbGF0ZShsLHQscyksbH1zYXZlVGlsZVRleHR1cmUoZSl7Y29uc3QgdD10aGlzLl90aWxlVGV4dHVyZXNbZS5zaXplWzBdXTt0P3QucHVzaChlKTp0aGlzLl90aWxlVGV4dHVyZXNbZS5zaXplWzBdXT1bZV19Z2V0VGlsZVRleHR1cmUoZSl7Y29uc3QgdD10aGlzLl90aWxlVGV4dHVyZXNbZV07cmV0dXJuIHQmJnQubGVuZ3RoPjA/dC5wb3AoKTpudWxsfWlzUGF0dGVybk1pc3NpbmcoZSl7cmV0dXJuIG51bGw9PT1lfHx2b2lkIDAhPT1lJiYhdGhpcy5pbWFnZU1hbmFnZXIuZ2V0UGF0dGVybihlLnRvU3RyaW5nKCkpfXRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKXtyZXR1cm4gdGhpcy5zdHlsZSYmISF0aGlzLnN0eWxlLmdldFRlcnJhaW4oKSYmISF0aGlzLnRlcnJhaW4mJiF0aGlzLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlfWN1cnJlbnRHbG9iYWxEZWZpbmVzKCl7Y29uc3QgZT10aGlzLnRlcnJhaW4mJnRoaXMudGVycmFpbi5yZW5kZXJpbmdUb1RleHR1cmUsdD10aGlzLnRlcnJhaW4mJjA9PT10aGlzLnRlcnJhaW4uZXhhZ2dlcmF0aW9uKCksbj10aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmZvZyxpPVtdO3JldHVybiB0aGlzLnRlcnJhaW5SZW5kZXJNb2RlRWxldmF0ZWQoKSYmaS5wdXNoKFwiVEVSUkFJTlwiKSxcImdsb2JlXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJmkucHVzaChcIkdMT0JFXCIpLHQmJmkucHVzaChcIlpFUk9fRVhBR0dFUkFUSU9OXCIpLG4mJiFlJiYwIT09bi5nZXRPcGFjaXR5KHRoaXMudHJhbnNmb3JtLnBpdGNoKSYmaS5wdXNoKFwiRk9HXCIpLGUmJmkucHVzaChcIlJFTkRFUl9UT19URVhUVVJFXCIpLHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvciYmaS5wdXNoKFwiT1ZFUkRSQVdfSU5TUEVDVE9SXCIpLGl9dXNlUHJvZ3JhbShlLHQsbil7dGhpcy5jYWNoZT10aGlzLmNhY2hlfHx7fTtjb25zdCBpPW58fFtdLHI9dGhpcy5jdXJyZW50R2xvYmFsRGVmaW5lcygpLmNvbmNhdChpKSxvPXpuLmNhY2hlS2V5KGhuW2VdLGUscix0KTtyZXR1cm4gdGhpcy5jYWNoZVtvXXx8KHRoaXMuY2FjaGVbb109bmV3IHpuKHRoaXMuY29udGV4dCxlLGhuW2VdLHQsc2lbZV0scikpLHRoaXMuY2FjaGVbb119c2V0Q3VzdG9tTGF5ZXJEZWZhdWx0cygpe3RoaXMuY29udGV4dC51bmJpbmRWQU8oKSx0aGlzLmNvbnRleHQuY3VsbEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5mcm9udEZhY2Uuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5jdWxsRmFjZVNpZGUuc2V0RGVmYXVsdCgpLHRoaXMuY29udGV4dC5hY3RpdmVUZXh0dXJlLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFjay5zZXREZWZhdWx0KCksdGhpcy5jb250ZXh0LnBpeGVsU3RvcmVVbnBhY2tQcmVtdWx0aXBseUFscGhhLnNldERlZmF1bHQoKSx0aGlzLmNvbnRleHQucGl4ZWxTdG9yZVVucGFja0ZsaXBZLnNldERlZmF1bHQoKX1zZXRCYXNlU3RhdGUoKXtjb25zdCBlPXRoaXMuY29udGV4dC5nbDt0aGlzLmNvbnRleHQuY3VsbEZhY2Uuc2V0KCExKSx0aGlzLmNvbnRleHQudmlld3BvcnQuc2V0KFswLDAsdGhpcy53aWR0aCx0aGlzLmhlaWdodF0pLHRoaXMuY29udGV4dC5ibGVuZEVxdWF0aW9uLnNldChlLkZVTkNfQUREKX1pbml0RGVidWdPdmVybGF5Q2FudmFzKCl7bnVsbD09dGhpcy5kZWJ1Z092ZXJsYXlDYW52YXMmJih0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcz1lLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLHRoaXMuZGVidWdPdmVybGF5Q2FudmFzLndpZHRoPTUxMix0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcy5oZWlnaHQ9NTEyLHRoaXMuZGVidWdPdmVybGF5VGV4dHVyZT1uZXcgZS5UZXh0dXJlKHRoaXMuY29udGV4dCx0aGlzLmRlYnVnT3ZlcmxheUNhbnZhcyx0aGlzLmNvbnRleHQuZ2wuUkdCQSkpfWRlc3Ryb3koKXt0aGlzLl90ZXJyYWluJiZ0aGlzLl90ZXJyYWluLmRlc3Ryb3koKSx0aGlzLmdsb2JlU2hhcmVkQnVmZmVycyYmdGhpcy5nbG9iZVNoYXJlZEJ1ZmZlcnMuZGVzdHJveSgpLHRoaXMuZW1wdHlUZXh0dXJlLmRlc3Ryb3koKSx0aGlzLmRlYnVnT3ZlcmxheVRleHR1cmUmJnRoaXMuZGVidWdPdmVybGF5VGV4dHVyZS5kZXN0cm95KCksdGhpcy5hdG1vc3BoZXJlQnVmZmVyJiZ0aGlzLmF0bW9zcGhlcmVCdWZmZXIuZGVzdHJveSgpfXByZXBhcmVEcmF3VGlsZSgpe3RoaXMudGVycmFpbiYmdGhpcy50ZXJyYWluLnByZXBhcmVEcmF3VGlsZSgpfXByZXBhcmVEcmF3UHJvZ3JhbSh0LG4saSl7aWYodGhpcy50ZXJyYWluJiZ0aGlzLnRlcnJhaW4ucmVuZGVyaW5nVG9UZXh0dXJlKXJldHVybjtjb25zdCByPXRoaXMuc3R5bGUuZm9nO2lmKHIpe2NvbnN0IG89ci5nZXRPcGFjaXR5KHRoaXMudHJhbnNmb3JtLnBpdGNoKSxhPSgodCxuLGkscixvLGEscyxsLGMsdSxoKT0+e2NvbnN0IGQ9dC50cmFuc2Zvcm0scD1uLnByb3BlcnRpZXMuZ2V0KFwiY29sb3JcIikudG9BcnJheTAxKCk7cFszXT1yO2NvbnN0IGY9dC5mcmFtZUNvdW50ZXIvMWUzJTE7cmV0dXJue3VfZm9nX21hdHJpeDppP2QuY2FsY3VsYXRlRm9nVGlsZU1hdHJpeChpKTp0LmlkZW50aXR5TWF0LHVfZm9nX3JhbmdlOm4uZ2V0Rm92QWRqdXN0ZWRSYW5nZShkLl9mb3YpLHVfZm9nX2NvbG9yOnAsdV9mb2dfaG9yaXpvbl9ibGVuZDpuLnByb3BlcnRpZXMuZ2V0KFwiaG9yaXpvbi1ibGVuZFwiKSx1X2ZvZ190ZW1wb3JhbF9vZmZzZXQ6Zix1X2ZydXN0dW1fdGw6byx1X2ZydXN0dW1fdHI6YSx1X2ZydXN0dW1fYnI6cyx1X2ZydXN0dW1fYmw6bCx1X2dsb2JlX3BvczpjLHVfZ2xvYmVfcmFkaXVzOnUsdV92aWV3cG9ydDpoLHVfZ2xvYmVfdHJhbnNpdGlvbjplLmdsb2JlVG9NZXJjYXRvclRyYW5zaXRpb24oZC56b29tKSx1X2lzX2dsb2JlOisoXCJnbG9iZVwiPT09ZC5wcm9qZWN0aW9uLm5hbWUpfX0pKHRoaXMscixpLG8sdGhpcy50cmFuc2Zvcm0uZnJ1c3R1bUNvcm5lcnMuVEwsdGhpcy50cmFuc2Zvcm0uZnJ1c3R1bUNvcm5lcnMuVFIsdGhpcy50cmFuc2Zvcm0uZnJ1c3R1bUNvcm5lcnMuQlIsdGhpcy50cmFuc2Zvcm0uZnJ1c3R1bUNvcm5lcnMuQkwsdGhpcy50cmFuc2Zvcm0uZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSx0aGlzLnRyYW5zZm9ybS5nbG9iZVJhZGl1cyxbdGhpcy50cmFuc2Zvcm0ud2lkdGgqZS5leHBvcnRlZC5kZXZpY2VQaXhlbFJhdGlvLHRoaXMudHJhbnNmb3JtLmhlaWdodCplLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW9dKTtuLnNldEZvZ1VuaWZvcm1WYWx1ZXModCxhKX19c2V0VGlsZUxvYWRlZEZsYWcoZSl7dGhpcy50aWxlTG9hZGVkPWV9c2F2ZUNhbnZhc0NvcHkoKXt0aGlzLmZyYW1lQ29waWVzLnB1c2godGhpcy5jYW52YXNDb3B5KCkpLHRoaXMudGlsZUxvYWRlZD0hMX1jYW52YXNDb3B5KCl7Y29uc3QgZT10aGlzLmNvbnRleHQuZ2wsdD1lLmNyZWF0ZVRleHR1cmUoKTtyZXR1cm4gZS5iaW5kVGV4dHVyZShlLlRFWFRVUkVfMkQsdCksZS5jb3B5VGV4SW1hZ2UyRChlLlRFWFRVUkVfMkQsMCxlLlJHQkEsMCwwLGUuZHJhd2luZ0J1ZmZlcldpZHRoLGUuZHJhd2luZ0J1ZmZlckhlaWdodCwwKSx0fWdldENhbnZhc0NvcGllc0FuZFRpbWVzdGFtcHMoKXtyZXR1cm57Y2FudmFzQ29waWVzOnRoaXMuZnJhbWVDb3BpZXMsdGltZVN0YW1wczp0aGlzLmxvYWRUaW1lU3RhbXBzfX1hdmVyYWdlRWxldmF0aW9uTmVlZHNFYXNpbmcoKXtpZighdGhpcy50cmFuc2Zvcm0uX2VsZXZhdGlvbilyZXR1cm4hMTtjb25zdCBlPXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZm9nO3JldHVybiEhZSYmMCE9PWUuZ2V0T3BhY2l0eSh0aGlzLnRyYW5zZm9ybS5waXRjaCl9Z2V0QmFja2dyb3VuZFRpbGVzKCl7Y29uc3QgdD10aGlzLl9iYWNrZ3JvdW5kVGlsZXMsbj10aGlzLl9iYWNrZ3JvdW5kVGlsZXM9e30saT10aGlzLnRyYW5zZm9ybS5jb3ZlcmluZ1RpbGVzKHt0aWxlU2l6ZTo1MTJ9KTtmb3IoY29uc3QgciBvZiBpKW5bci5rZXldPXRbci5rZXldfHxuZXcgZS5UaWxlKHIsNTEyLHRoaXMudHJhbnNmb3JtLnRpbGVab29tLHRoaXMpO3JldHVybiBufWNsZWFyQmFja2dyb3VuZFRpbGVzKCl7dGhpcy5fYmFja2dyb3VuZFRpbGVzPXt9fX1jbGFzcyBCaXtjb25zdHJ1Y3RvcihlPTAsdD0wLG49MCxpPTApe2lmKGlzTmFOKGUpfHxlPDB8fGlzTmFOKHQpfHx0PDB8fGlzTmFOKG4pfHxuPDB8fGlzTmFOKGkpfHxpPDApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgZWRnZS1pbnNldHMsIHRvcCwgYm90dG9tLCBsZWZ0IGFuZCByaWdodCBtdXN0IGFsbCBiZSBudW1iZXJzXCIpO3RoaXMudG9wPWUsdGhpcy5ib3R0b209dCx0aGlzLmxlZnQ9bix0aGlzLnJpZ2h0PWl9aW50ZXJwb2xhdGUodCxuLGkpe3JldHVybiBudWxsIT1uLnRvcCYmbnVsbCE9dC50b3AmJih0aGlzLnRvcD1lLm51bWJlcih0LnRvcCxuLnRvcCxpKSksbnVsbCE9bi5ib3R0b20mJm51bGwhPXQuYm90dG9tJiYodGhpcy5ib3R0b209ZS5udW1iZXIodC5ib3R0b20sbi5ib3R0b20saSkpLG51bGwhPW4ubGVmdCYmbnVsbCE9dC5sZWZ0JiYodGhpcy5sZWZ0PWUubnVtYmVyKHQubGVmdCxuLmxlZnQsaSkpLG51bGwhPW4ucmlnaHQmJm51bGwhPXQucmlnaHQmJih0aGlzLnJpZ2h0PWUubnVtYmVyKHQucmlnaHQsbi5yaWdodCxpKSksdGhpc31nZXRDZW50ZXIodCxuKXtjb25zdCBpPWUuY2xhbXAoKHRoaXMubGVmdCt0LXRoaXMucmlnaHQpLzIsMCx0KSxyPWUuY2xhbXAoKHRoaXMudG9wK24tdGhpcy5ib3R0b20pLzIsMCxuKTtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeShpLHIpfWVxdWFscyhlKXtyZXR1cm4gdGhpcy50b3A9PT1lLnRvcCYmdGhpcy5ib3R0b209PT1lLmJvdHRvbSYmdGhpcy5sZWZ0PT09ZS5sZWZ0JiZ0aGlzLnJpZ2h0PT09ZS5yaWdodH1jbG9uZSgpe3JldHVybiBuZXcgQmkodGhpcy50b3AsdGhpcy5ib3R0b20sdGhpcy5sZWZ0LHRoaXMucmlnaHQpfXRvSlNPTigpe3JldHVybnt0b3A6dGhpcy50b3AsYm90dG9tOnRoaXMuYm90dG9tLGxlZnQ6dGhpcy5sZWZ0LHJpZ2h0OnRoaXMucmlnaHR9fX1mdW5jdGlvbiBqaSh0LG4pe2NvbnN0IGk9ZS5nZXRDb2x1bW4odCwzKTtlLmZyb21RdWF0KHQsbiksZS5zZXRDb2x1bW4odCwzLGkpfWZ1bmN0aW9uIEZpKHQsbil7Y29uc3QgaT1lLmlkZW50aXR5JDEoW10pO3JldHVybiBlLnJvdGF0ZVokMShpLGksLW4pLGUucm90YXRlWCQxKGksaSwtdCksaX1mdW5jdGlvbiBOaSh0LG4pe2NvbnN0IGk9W3RbMF0sdFsxXSwwXSxyPVtuWzBdLG5bMV0sMF07aWYoZS5sZW5ndGgoaSk+PTFlLTE1KXtjb25zdCB0PWUubm9ybWFsaXplKFtdLGkpO2Uuc2NhbGUkMihyLHQsZS5kb3Qocix0KSksblswXT1yWzBdLG5bMV09clsxXX1jb25zdCBvPWUuY3Jvc3MoW10sbix0KTtpZihlLmxlbihvKTwxZS0xNSlyZXR1cm4gbnVsbDtjb25zdCBhPU1hdGguYXRhbjIoLW9bMV0sb1swXSk7cmV0dXJuIEZpKE1hdGguYXRhbjIoTWF0aC5zcXJ0KHRbMF0qdFswXSt0WzFdKnRbMV0pLC10WzJdKSxhKX1jbGFzcyBVaXtjb25zdHJ1Y3RvcihlLHQpe3RoaXMucG9zaXRpb249ZSx0aGlzLm9yaWVudGF0aW9uPXR9Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufXNldCBwb3NpdGlvbih0KXtpZih0KXtjb25zdCBuPXQgaW5zdGFuY2VvZiBlLk1lcmNhdG9yQ29vcmRpbmF0ZT90Om5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0WzBdLHRbMV0sdFsyXSk7dGhpcy5fcmVuZGVyV29ybGRDb3BpZXMmJihuLng9ZS53cmFwKG4ueCwwLDEpKSx0aGlzLl9wb3NpdGlvbj1ufWVsc2UgdGhpcy5fcG9zaXRpb249bnVsbH1sb29rQXRQb2ludCh0LG4pe2lmKHRoaXMub3JpZW50YXRpb249bnVsbCwhdGhpcy5wb3NpdGlvbilyZXR1cm47Y29uc3QgaT10aGlzLl9lbGV2YXRpb24/dGhpcy5fZWxldmF0aW9uLmdldEF0UG9pbnRPclplcm8oZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdCh0KSk6MCxyPXRoaXMucG9zaXRpb24sbz1lLk1lcmNhdG9yQ29vcmRpbmF0ZS5mcm9tTG5nTGF0KHQsaSksYT1bby54LXIueCxvLnktci55LG8uei1yLnpdO258fChuPVswLDAsMV0pLG5bMl09TWF0aC5hYnMoblsyXSksdGhpcy5vcmllbnRhdGlvbj1OaShhLG4pfXNldFBpdGNoQmVhcmluZyh0LG4pe3RoaXMub3JpZW50YXRpb249RmkoZS5kZWdUb1JhZCh0KSxlLmRlZ1RvUmFkKC1uKSl9fWNsYXNzIFZpe2NvbnN0cnVjdG9yKHQsbil7dGhpcy5fdHJhbnNmb3JtPWUuaWRlbnRpdHkoW10pLHRoaXMub3JpZW50YXRpb249bix0aGlzLnBvc2l0aW9uPXR9Z2V0IG1lcmNhdG9yUG9zaXRpb24oKXtjb25zdCB0PXRoaXMucG9zaXRpb247cmV0dXJuIG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0WzBdLHRbMV0sdFsyXSl9Z2V0IHBvc2l0aW9uKCl7Y29uc3QgdD1lLmdldENvbHVtbih0aGlzLl90cmFuc2Zvcm0sMyk7cmV0dXJuW3RbMF0sdFsxXSx0WzJdXX1zZXQgcG9zaXRpb24odCl7dmFyIG47dCYmZS5zZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLDMsWyhuPXQpWzBdLG5bMV0sblsyXSwxXSl9Z2V0IG9yaWVudGF0aW9uKCl7cmV0dXJuIHRoaXMuX29yaWVudGF0aW9ufXNldCBvcmllbnRhdGlvbih0KXt0aGlzLl9vcmllbnRhdGlvbj10fHxlLmlkZW50aXR5JDEoW10pLHQmJmppKHRoaXMuX3RyYW5zZm9ybSx0aGlzLl9vcmllbnRhdGlvbil9Z2V0UGl0Y2hCZWFyaW5nKCl7Y29uc3QgZT10aGlzLmZvcndhcmQoKSx0PXRoaXMucmlnaHQoKTtyZXR1cm57YmVhcmluZzpNYXRoLmF0YW4yKC10WzFdLHRbMF0pLHBpdGNoOk1hdGguYXRhbjIoTWF0aC5zcXJ0KGVbMF0qZVswXStlWzFdKmVbMV0pLC1lWzJdKX19c2V0UGl0Y2hCZWFyaW5nKGUsdCl7dGhpcy5fb3JpZW50YXRpb249RmkoZSx0KSxqaSh0aGlzLl90cmFuc2Zvcm0sdGhpcy5fb3JpZW50YXRpb24pfWZvcndhcmQoKXtjb25zdCB0PWUuZ2V0Q29sdW1uKHRoaXMuX3RyYW5zZm9ybSwyKTtyZXR1cm5bLXRbMF0sLXRbMV0sLXRbMl1dfXVwKCl7Y29uc3QgdD1lLmdldENvbHVtbih0aGlzLl90cmFuc2Zvcm0sMSk7cmV0dXJuWy10WzBdLC10WzFdLC10WzJdXX1yaWdodCgpe2NvbnN0IHQ9ZS5nZXRDb2x1bW4odGhpcy5fdHJhbnNmb3JtLDApO3JldHVyblt0WzBdLHRbMV0sdFsyXV19Z2V0Q2FtZXJhVG9Xb3JsZCh0LG4pe2NvbnN0IGk9bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIGUuaW52ZXJ0KGksdGhpcy5nZXRXb3JsZFRvQ2FtZXJhKHQsbikpLGl9Z2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKHQsbixpKXtjb25zdCByPXRoaXMucG9zaXRpb247ZS5zY2FsZSQyKHIsciwtdCk7Y29uc3Qgbz1uZXcgRmxvYXQ2NEFycmF5KDE2KTtyZXR1cm4gZS5mcm9tU2NhbGluZyhvLFtpLGksaV0pLGUudHJhbnNsYXRlKG8sbyxyKSxvWzEwXSo9bixvfWdldFdvcmxkVG9DYW1lcmEodCxuKXtjb25zdCBpPW5ldyBGbG9hdDY0QXJyYXkoMTYpLHI9bmV3IEZsb2F0NjRBcnJheSg0KSxvPXRoaXMucG9zaXRpb247cmV0dXJuIGUuY29uanVnYXRlKHIsdGhpcy5fb3JpZW50YXRpb24pLGUuc2NhbGUkMihvLG8sLXQpLGUuZnJvbVF1YXQoaSxyKSxlLnRyYW5zbGF0ZShpLGksbyksaVsxXSo9LTEsaVs1XSo9LTEsaVs5XSo9LTEsaVsxM10qPS0xLGlbOF0qPW4saVs5XSo9bixpWzEwXSo9bixpWzExXSo9bixpfWdldENhbWVyYVRvQ2xpcFBlcnNwZWN0aXZlKHQsbixpLHIpe2NvbnN0IG89bmV3IEZsb2F0NjRBcnJheSgxNik7cmV0dXJuIGUucGVyc3BlY3RpdmUobyx0LG4saSxyKSxvfWdldERpc3RhbmNlVG9FbGV2YXRpb24odCxuPSExKXtjb25zdCBpPTA9PT10PzA6ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUodCxuP2UubGF0RnJvbU1lcmNhdG9yWSh0aGlzLnBvc2l0aW9uWzFdKTp0aGlzLnBvc2l0aW9uWzFdKSxyPXRoaXMuZm9yd2FyZCgpO3JldHVybihpLXRoaXMucG9zaXRpb25bMl0pL3JbMl19Y2xvbmUoKXtyZXR1cm4gbmV3IFZpKFsuLi50aGlzLnBvc2l0aW9uXSxbLi4udGhpcy5vcmllbnRhdGlvbl0pfX1mdW5jdGlvbiBHaSh0LG4pe2NvbnN0IGk9V2kodC5wcm9qZWN0aW9uLHQuem9vbSx0LndpZHRoLHQuaGVpZ2h0KSxyPWZ1bmN0aW9uKHQsbixpLHIsbyl7Y29uc3QgYT1uZXcgZS5MbmdMYXQoaS5sbmctMTgwKnFpLGkubGF0KSxzPW5ldyBlLkxuZ0xhdChpLmxuZysxODAqcWksaS5sYXQpLGw9dC5wcm9qZWN0KGEubG5nLGEubGF0KSxjPXQucHJvamVjdChzLmxuZyxzLmxhdCksdT0tTWF0aC5hdGFuMihjLnktbC55LGMueC1sLngpLGg9ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChpKTtoLnk9ZS5jbGFtcChoLnksLS45OTk5NzUsLjk5OTk3NSk7Y29uc3QgZD1oLnRvTG5nTGF0KCkscD10LnByb2plY3QoZC5sbmcsZC5sYXQpLGY9ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChkKTtmLngrPXFpO2NvbnN0IG09Zi50b0xuZ0xhdCgpLGc9dC5wcm9qZWN0KG0ubG5nLG0ubGF0KSx5PUhpKGcueC1wLngsZy55LXAueSx1KSxfPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoZCk7Xy55Kz1xaTtjb25zdCB2PV8udG9MbmdMYXQoKSx4PXQucHJvamVjdCh2LmxuZyx2LmxhdCksYj1IaSh4LngtcC54LHgueS1wLnksdSksdz1NYXRoLmFicyh5LngpL01hdGguYWJzKGIueSksVD1lLmlkZW50aXR5KFtdKTtlLnJvdGF0ZVooVCxULC11KigxLShvPzA6cikpKTtjb25zdCBFPWUuaWRlbnRpdHkoW10pO3JldHVybiBlLnNjYWxlKEUsRSxbMSwxLSgxLXcpKnIsMV0pLEVbNF09LWIueC9iLnkqcixlLnJvdGF0ZVooRSxFLHUpLGUubXVsdGlwbHkoRSxULEUpLEV9KHQucHJvamVjdGlvbiwwLHQuY2VudGVyLGksbiksbz1aaSh0KTtyZXR1cm4gZS5zY2FsZShyLHIsW28sbywxXSkscn1mdW5jdGlvbiBaaSh0KXtjb25zdCBuPXQucHJvamVjdGlvbixpPVdpKHQucHJvamVjdGlvbix0Lnpvb20sdC53aWR0aCx0LmhlaWdodCkscj0kaShuLHQuY2VudGVyKSxvPSRpKG4sZS5MbmdMYXQuY29udmVydChuLmNlbnRlcikpO3JldHVybiBNYXRoLnBvdygyLHIqaSsoMS1pKSpvKX1mdW5jdGlvbiBXaSh0LG4saSxyLG89MS8wKXtjb25zdCBhPXQucmFuZ2U7aWYoIWEpcmV0dXJuIDA7Y29uc3Qgcz1NYXRoLm1pbihvLE1hdGgubWF4KGkscikpLGw9TWF0aC5sb2cocy8xMDI0KS9NYXRoLkxOMjtyZXR1cm4gZS5zbW9vdGhzdGVwKGFbMF0rbCxhWzFdK2wsbil9Y29uc3QgcWk9MS80ZTQ7ZnVuY3Rpb24gJGkodCxuKXtjb25zdCBpPWUuY2xhbXAobi5sYXQsLWUuTUFYX01FUkNBVE9SX0xBVElUVURFLGUuTUFYX01FUkNBVE9SX0xBVElUVURFKSxyPW5ldyBlLkxuZ0xhdChuLmxuZy0xODAqcWksaSksbz1uZXcgZS5MbmdMYXQobi5sbmcrMTgwKnFpLGkpLGE9dC5wcm9qZWN0KHIubG5nLGkpLHM9dC5wcm9qZWN0KG8ubG5nLGkpLGw9ZS5NZXJjYXRvckNvb3JkaW5hdGUuZnJvbUxuZ0xhdChyKSxjPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQobyksdT1zLngtYS54LGg9cy55LWEueSxkPWMueC1sLngscD1jLnktbC55LGY9TWF0aC5zcXJ0KChkKmQrcCpwKS8odSp1K2gqaCkpO3JldHVybiBNYXRoLmxvZyhmKS9NYXRoLkxOMn1mdW5jdGlvbiBIaShlLHQsbil7Y29uc3QgaT1NYXRoLmNvcyhuKSxyPU1hdGguc2luKG4pO3JldHVybnt4OmUqaS10KnIseTplKnIrdCppfX1jbGFzcyBYaXtjb25zdHJ1Y3Rvcih0LG4saSxyLG8sYSxzKXt0aGlzLnRpbGVTaXplPTUxMix0aGlzLl9yZW5kZXJXb3JsZENvcGllcz12b2lkIDA9PT1vfHxvLHRoaXMuX21pblpvb209dHx8MCx0aGlzLl9tYXhab29tPW58fDIyLHRoaXMuX21pblBpdGNoPW51bGw9PWk/MDppLHRoaXMuX21heFBpdGNoPW51bGw9PXI/NjA6cix0aGlzLnNldFByb2plY3Rpb24oYSksdGhpcy5zZXRNYXhCb3VuZHMocyksdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5fY2VudGVyPW5ldyBlLkxuZ0xhdCgwLDApLHRoaXMuem9vbT0wLHRoaXMuYW5nbGU9MCx0aGlzLl9mb3Y9LjY0MzUwMTEwODc5MzI4NDQsdGhpcy5fcGl0Y2g9MCx0aGlzLl9uZWFyWj0wLHRoaXMuX2Zhclo9MCx0aGlzLl91bm1vZGlmaWVkPSEwLHRoaXMuX2VkZ2VJbnNldHM9bmV3IEJpLHRoaXMuX3Byb2pNYXRyaXhDYWNoZT17fSx0aGlzLl9hbGlnbmVkUHJvak1hdHJpeENhY2hlPXt9LHRoaXMuX2ZvZ1RpbGVNYXRyaXhDYWNoZT17fSx0aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGU9e30sdGhpcy5fY2FtZXJhPW5ldyBWaSx0aGlzLl9jZW50ZXJBbHRpdHVkZT0wLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb249MCx0aGlzLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiLHRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw9MSx0aGlzLmdsb2JlUmFkaXVzPTAsdGhpcy5nbG9iZUNlbnRlckluVmlld1NwYWNlPVswLDAsMF0sdGhpcy5faG9yaXpvblNoaWZ0PS4xfWNsb25lKCl7Y29uc3QgZT1uZXcgWGkodGhpcy5fbWluWm9vbSx0aGlzLl9tYXhab29tLHRoaXMuX21pblBpdGNoLHRoaXMubWF4UGl0Y2gsdGhpcy5fcmVuZGVyV29ybGRDb3BpZXMsdGhpcy5nZXRQcm9qZWN0aW9uKCkpO3JldHVybiBlLl9lbGV2YXRpb249dGhpcy5fZWxldmF0aW9uLGUuX2NlbnRlckFsdGl0dWRlPXRoaXMuX2NlbnRlckFsdGl0dWRlLGUuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb249dGhpcy5fY2VudGVyQWx0aXR1ZGVWYWxpZEZvckV4YWdnZXJhdGlvbixlLnRpbGVTaXplPXRoaXMudGlsZVNpemUsZS5tZXJjYXRvckZyb21UcmFuc2l0aW9uPXRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbixlLndpZHRoPXRoaXMud2lkdGgsZS5oZWlnaHQ9dGhpcy5oZWlnaHQsZS5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9dGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2UsZS5fY2VudGVyPXRoaXMuX2NlbnRlcixlLl9zZXRab29tKHRoaXMuem9vbSksZS5fc2VhTGV2ZWxab29tPXRoaXMuX3NlYUxldmVsWm9vbSxlLmFuZ2xlPXRoaXMuYW5nbGUsZS5fZm92PXRoaXMuX2ZvdixlLl9waXRjaD10aGlzLl9waXRjaCxlLl9uZWFyWj10aGlzLl9uZWFyWixlLl9mYXJaPXRoaXMuX2ZhclosZS5fYXZlcmFnZUVsZXZhdGlvbj10aGlzLl9hdmVyYWdlRWxldmF0aW9uLGUuX3VubW9kaWZpZWQ9dGhpcy5fdW5tb2RpZmllZCxlLl9lZGdlSW5zZXRzPXRoaXMuX2VkZ2VJbnNldHMuY2xvbmUoKSxlLl9jYW1lcmE9dGhpcy5fY2FtZXJhLmNsb25lKCksZS5fY2FsY01hdHJpY2VzKCksZS5mcmVlemVUaWxlQ292ZXJhZ2U9dGhpcy5mcmVlemVUaWxlQ292ZXJhZ2UsZS5mcnVzdHVtQ29ybmVycz10aGlzLmZydXN0dW1Db3JuZXJzLGV9Z2V0IGVsZXZhdGlvbigpe3JldHVybiB0aGlzLl9lbGV2YXRpb259c2V0IGVsZXZhdGlvbihlKXt0aGlzLl9lbGV2YXRpb24hPT1lJiYodGhpcy5fZWxldmF0aW9uPWUsdGhpcy5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCkpfXVwZGF0ZUVsZXZhdGlvbihlLHQ9ITEpe2NvbnN0IG49dGhpcy5fZWxldmF0aW9uJiZ0aGlzLl9lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkhPT10aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uOyhudWxsPT10aGlzLl9zZWFMZXZlbFpvb218fG4pJiZ0aGlzLl91cGRhdGVDYW1lcmFPblRlcnJhaW4oKSwoZXx8bikmJnRoaXMuX2NvbnN0cmFpbkNhbWVyYSh0KSx0aGlzLl9jYWxjTWF0cmljZXMoKX1nZXRQcm9qZWN0aW9uKCl7cmV0dXJuIGUucGljayh0aGlzLnByb2plY3Rpb24sW1wibmFtZVwiLFwiY2VudGVyXCIsXCJwYXJhbGxlbHNcIl0pfXNldFByb2plY3Rpb24obil7dGhpcy5wcm9qZWN0aW9uT3B0aW9ucz1ufHx7bmFtZTpcIm1lcmNhdG9yXCJ9O2NvbnN0IGk9dGhpcy5wcm9qZWN0aW9uP3RoaXMuZ2V0UHJvamVjdGlvbigpOnZvaWQgMDt0aGlzLnByb2plY3Rpb249ZS5nZXRQcm9qZWN0aW9uKHRoaXMucHJvamVjdGlvbk9wdGlvbnMpO2NvbnN0IHI9IXQoaSx0aGlzLmdldFByb2plY3Rpb24oKSk7cmV0dXJuIHImJnRoaXMuX2NhbGNNYXRyaWNlcygpLHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj0hMSxyfXNldE1lcmNhdG9yRnJvbVRyYW5zaXRpb24oKXtjb25zdCB0PXRoaXMucHJvamVjdGlvbi5uYW1lO3RoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj0hMCx0aGlzLnByb2plY3Rpb25PcHRpb25zPXtuYW1lOlwibWVyY2F0b3JcIn0sdGhpcy5wcm9qZWN0aW9uPWUuZ2V0UHJvamVjdGlvbih7bmFtZTpcIm1lcmNhdG9yXCJ9KTtjb25zdCBuPXQhPT10aGlzLnByb2plY3Rpb24ubmFtZTtyZXR1cm4gbiYmdGhpcy5fY2FsY01hdHJpY2VzKCksbn1nZXQgbWluWm9vbSgpe3JldHVybiB0aGlzLl9taW5ab29tfXNldCBtaW5ab29tKGUpe3RoaXMuX21pblpvb20hPT1lJiYodGhpcy5fbWluWm9vbT1lLHRoaXMuem9vbT1NYXRoLm1heCh0aGlzLnpvb20sZSkpfWdldCBtYXhab29tKCl7cmV0dXJuIHRoaXMuX21heFpvb219c2V0IG1heFpvb20oZSl7dGhpcy5fbWF4Wm9vbSE9PWUmJih0aGlzLl9tYXhab29tPWUsdGhpcy56b29tPU1hdGgubWluKHRoaXMuem9vbSxlKSl9Z2V0IG1pblBpdGNoKCl7cmV0dXJuIHRoaXMuX21pblBpdGNofXNldCBtaW5QaXRjaChlKXt0aGlzLl9taW5QaXRjaCE9PWUmJih0aGlzLl9taW5QaXRjaD1lLHRoaXMucGl0Y2g9TWF0aC5tYXgodGhpcy5waXRjaCxlKSl9Z2V0IG1heFBpdGNoKCl7cmV0dXJuIHRoaXMuX21heFBpdGNofXNldCBtYXhQaXRjaChlKXt0aGlzLl9tYXhQaXRjaCE9PWUmJih0aGlzLl9tYXhQaXRjaD1lLHRoaXMucGl0Y2g9TWF0aC5taW4odGhpcy5waXRjaCxlKSl9Z2V0IHJlbmRlcldvcmxkQ29waWVzKCl7cmV0dXJuIHRoaXMuX3JlbmRlcldvcmxkQ29waWVzJiYhMD09PXRoaXMucHJvamVjdGlvbi5zdXBwb3J0c1dvcmxkQ29waWVzfXNldCByZW5kZXJXb3JsZENvcGllcyhlKXt2b2lkIDA9PT1lP2U9ITA6bnVsbD09PWUmJihlPSExKSx0aGlzLl9yZW5kZXJXb3JsZENvcGllcz1lfWdldCB3b3JsZFNpemUoKXtyZXR1cm4gdGhpcy50aWxlU2l6ZSp0aGlzLnNjYWxlfWdldCBjYW1lcmFXb3JsZFNpemVGb3JGb2coKXtjb25zdCBlPU1hdGgubWF4KHRoaXMuX2NhbWVyYS5nZXREaXN0YW5jZVRvRWxldmF0aW9uKHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24pLE51bWJlci5FUFNJTE9OKTtyZXR1cm4gdGhpcy5fd29ybGRTaXplRnJvbVpvb20odGhpcy5fem9vbUZyb21NZXJjYXRvclooZSkpfWdldCBjYW1lcmFXb3JsZFNpemUoKXtjb25zdCBlPU1hdGgubWF4KHRoaXMuX2NhbWVyYS5nZXREaXN0YW5jZVRvRWxldmF0aW9uKHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb24sITApLE51bWJlci5FUFNJTE9OKTtyZXR1cm4gdGhpcy5fd29ybGRTaXplRnJvbVpvb20odGhpcy5fem9vbUZyb21NZXJjYXRvclooZSkpfWdldCBwaXhlbHNQZXJNZXRlcigpe3JldHVybiB0aGlzLnByb2plY3Rpb24ucGl4ZWxzUGVyTWV0ZXIodGhpcy5jZW50ZXIubGF0LHRoaXMud29ybGRTaXplKX1nZXQgY2FtZXJhUGl4ZWxzUGVyTWV0ZXIoKXtyZXR1cm4gZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUodGhpcy5jZW50ZXIubGF0LHRoaXMuY2FtZXJhV29ybGRTaXplRm9yRm9nKX1nZXQgY2VudGVyT2Zmc2V0KCl7cmV0dXJuIHRoaXMuY2VudGVyUG9pbnQuX3N1Yih0aGlzLnNpemUuX2RpdigyKSl9Z2V0IHNpemUoKXtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX1nZXQgYmVhcmluZygpe3JldHVybiBlLndyYXAodGhpcy5yb3RhdGlvbiwtMTgwLDE4MCl9c2V0IGJlYXJpbmcoZSl7dGhpcy5yb3RhdGlvbj1lfWdldCByb3RhdGlvbigpe3JldHVybi10aGlzLmFuZ2xlL01hdGguUEkqMTgwfXNldCByb3RhdGlvbih0KXtjb25zdCBuPS10Kk1hdGguUEkvMTgwO3ZhciBpO3RoaXMuYW5nbGUhPT1uJiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLmFuZ2xlPW4sdGhpcy5fY2FsY01hdHJpY2VzKCksdGhpcy5yb3RhdGlvbk1hdHJpeD0oaT1uZXcgZS5BUlJBWV9UWVBFKDQpLGUuQVJSQVlfVFlQRSE9RmxvYXQzMkFycmF5JiYoaVsxXT0wLGlbMl09MCksaVswXT0xLGlbM109MSxpKSxmdW5jdGlvbihlLHQsbil7dmFyIGk9dFswXSxyPXRbMV0sbz10WzJdLGE9dFszXSxzPU1hdGguc2luKG4pLGw9TWF0aC5jb3Mobik7ZVswXT1pKmwrbypzLGVbMV09cipsK2EqcyxlWzJdPWkqLXMrbypsLGVbM109ciotcythKmx9KHRoaXMucm90YXRpb25NYXRyaXgsdGhpcy5yb3RhdGlvbk1hdHJpeCx0aGlzLmFuZ2xlKSl9Z2V0IHBpdGNoKCl7cmV0dXJuIHRoaXMuX3BpdGNoL01hdGguUEkqMTgwfXNldCBwaXRjaCh0KXtjb25zdCBuPWUuY2xhbXAodCx0aGlzLm1pblBpdGNoLHRoaXMubWF4UGl0Y2gpLzE4MCpNYXRoLlBJO3RoaXMuX3BpdGNoIT09biYmKHRoaXMuX3VubW9kaWZpZWQ9ITEsdGhpcy5fcGl0Y2g9bix0aGlzLl9jYWxjTWF0cmljZXMoKSl9Z2V0IGFzcGVjdCgpe3JldHVybiB0aGlzLndpZHRoL3RoaXMuaGVpZ2h0fWdldCBmb3ZYKCl7cmV0dXJuIHRoaXMuX2Zvdn1nZXQgZm92WSgpe2NvbnN0IGU9MS9NYXRoLnRhbiguNSp0aGlzLmZvdlgpO3JldHVybiAyKk1hdGguYXRhbigxL3RoaXMuYXNwZWN0L2UpfXNldCBmb3YodCl7dD1NYXRoLm1heCguMDEsTWF0aC5taW4oNjAsdCkpLHRoaXMuX2ZvdiE9PXQmJih0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2Zvdj1lLmRlZ1RvUmFkKHQpLHRoaXMuX2NhbGNNYXRyaWNlcygpKX1nZXQgYXZlcmFnZUVsZXZhdGlvbigpe3JldHVybiB0aGlzLl9hdmVyYWdlRWxldmF0aW9ufXNldCBhdmVyYWdlRWxldmF0aW9uKGUpe3RoaXMuX2F2ZXJhZ2VFbGV2YXRpb249ZSx0aGlzLl9jYWxjRm9nTWF0cmljZXMoKSx0aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGU9e319Z2V0IHpvb20oKXtyZXR1cm4gdGhpcy5fem9vbX1zZXQgem9vbShlKXtjb25zdCB0PU1hdGgubWluKE1hdGgubWF4KGUsdGhpcy5taW5ab29tKSx0aGlzLm1heFpvb20pO3RoaXMuX3pvb20hPT10JiYodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9zZXRab29tKHQpLHRoaXMuX3VwZGF0ZVNlYUxldmVsWm9vbSgpLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpKX1fc2V0Wm9vbShlKXt0aGlzLl96b29tPWUsdGhpcy5zY2FsZT10aGlzLnpvb21TY2FsZShlKSx0aGlzLnRpbGVab29tPU1hdGguZmxvb3IoZSksdGhpcy56b29tRnJhY3Rpb249ZS10aGlzLnRpbGVab29tfV91cGRhdGVDYW1lcmFPblRlcnJhaW4oKXtpZighdGhpcy5fZWxldmF0aW9ufHwhdGhpcy5fZWxldmF0aW9uLmlzRGF0YUF2YWlsYWJsZUF0UG9pbnQodGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpKSlyZXR1cm4gdGhpcy5fY2VudGVyQWx0aXR1ZGU9MCx0aGlzLl9zZWFMZXZlbFpvb209bnVsbCx2b2lkKHRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb249dm9pZCAwKTtjb25zdCBlPXRoaXMuX2VsZXZhdGlvbjt0aGlzLl9jZW50ZXJBbHRpdHVkZT1lLmdldEF0UG9pbnRPclplcm8odGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpKSx0aGlzLl9jZW50ZXJBbHRpdHVkZVZhbGlkRm9yRXhhZ2dlcmF0aW9uPWUuZXhhZ2dlcmF0aW9uKCksdGhpcy5fdXBkYXRlU2VhTGV2ZWxab29tKCl9X3VwZGF0ZVNlYUxldmVsWm9vbSgpe3ZvaWQgMCE9PXRoaXMuX2NlbnRlckFsdGl0dWRlVmFsaWRGb3JFeGFnZ2VyYXRpb24mJih0aGlzLl9zZWFMZXZlbFpvb209dGhpcy5fem9vbUZyb21NZXJjYXRvclooKHRoaXMucGl4ZWxzUGVyTWV0ZXIqdGhpcy5fY2VudGVyQWx0aXR1ZGUrdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlKS90aGlzLndvcmxkU2l6ZSkpfXNhbXBsZUF2ZXJhZ2VFbGV2YXRpb24oKXtpZighdGhpcy5fZWxldmF0aW9uKXJldHVybiAwO2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uLG49W1suNSwuMl0sWy4zLC41XSxbLjUsLjVdLFsuNywuNV0sWy41LC44XV0saT10aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpO2xldCByPTAsbz0wO2ZvcihsZXQgYT0wO2E8bi5sZW5ndGg7YSsrKXtjb25zdCBzPW5ldyBlLnBvaW50R2VvbWV0cnkoblthXVswXSp0aGlzLndpZHRoLGkrblthXVsxXSoodGhpcy5oZWlnaHQtaSkpLGw9dC5wb2ludENvb3JkaW5hdGUocyk7aWYoIWwpY29udGludWU7Y29uc3QgYz0xL01hdGguaHlwb3QobFswXS10aGlzLl9jYW1lcmEucG9zaXRpb25bMF0sbFsxXS10aGlzLl9jYW1lcmEucG9zaXRpb25bMV0pO3IrPWxbM10qYyxvKz1jfXJldHVybiAwPT09bz9OYU46ci9vfWdldCBjZW50ZXIoKXtyZXR1cm4gdGhpcy5fY2VudGVyfXNldCBjZW50ZXIoZSl7ZS5sYXQ9PT10aGlzLl9jZW50ZXIubGF0JiZlLmxuZz09PXRoaXMuX2NlbnRlci5sbmd8fCh0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2NlbnRlcj1lLHRoaXMuX3RlcnJhaW5FbmFibGVkKCkmJihcImdyb3VuZFwiPT09dGhpcy5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U/dGhpcy5fdXBkYXRlQ2FtZXJhT25UZXJyYWluKCk6dGhpcy5fdXBkYXRlWm9vbUZyb21FbGV2YXRpb24oKSksdGhpcy5fY29uc3RyYWluKCksdGhpcy5fY2FsY01hdHJpY2VzKCkpfV91cGRhdGVab29tRnJvbUVsZXZhdGlvbigpe2lmKG51bGw9PXRoaXMuX3NlYUxldmVsWm9vbXx8IXRoaXMuX2VsZXZhdGlvbilyZXR1cm47Y29uc3QgZT10aGlzLl9zZWFMZXZlbFpvb20sdD10aGlzLl9lbGV2YXRpb24uZ2V0QXRQb2ludE9yWmVybyh0aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0aGlzLmNlbnRlcikpLG49dGhpcy5waXhlbHNQZXJNZXRlci90aGlzLndvcmxkU2l6ZSp0LGk9dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20oZSkscj10aGlzLl9tZXJjYXRvclpmcm9tWm9vbSh0aGlzLl9tYXhab29tKSxvPU1hdGgubWF4KGktbixyKTt0aGlzLl9zZXRab29tKHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKG8pKX1nZXQgcGFkZGluZygpe3JldHVybiB0aGlzLl9lZGdlSW5zZXRzLnRvSlNPTigpfXNldCBwYWRkaW5nKGUpe3RoaXMuX2VkZ2VJbnNldHMuZXF1YWxzKGUpfHwodGhpcy5fdW5tb2RpZmllZD0hMSx0aGlzLl9lZGdlSW5zZXRzLmludGVycG9sYXRlKHRoaXMuX2VkZ2VJbnNldHMsZSwxKSx0aGlzLl9jYWxjTWF0cmljZXMoKSl9Y29tcHV0ZVpvb21SZWxhdGl2ZVRvKHQpe2NvbnN0IG49dGhpcy5yYXlJbnRlcnNlY3Rpb25Db29yZGluYXRlKHRoaXMucG9pbnRSYXlJbnRlcnNlY3Rpb24odGhpcy5jZW50ZXJQb2ludCx0LnRvQWx0aXR1ZGUoKSkpO2xldCBpO2k9dC56PHRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXT9bbi54LG4ueSxuLnpdOlt0LngsdC55LHQuel07Y29uc3Qgcj1lLmxlbmd0aChlLnN1YihbXSx0aGlzLl9jYW1lcmEucG9zaXRpb24saSkpO3JldHVybiBlLmNsYW1wKHRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKHIpLHRoaXMuX21pblpvb20sdGhpcy5fbWF4Wm9vbSl9c2V0RnJlZUNhbWVyYU9wdGlvbnModCl7aWYoIXRoaXMuaGVpZ2h0KXJldHVybjtpZighdC5wb3NpdGlvbiYmIXQub3JpZW50YXRpb24pcmV0dXJuO3RoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCk7bGV0IG49ITE7aWYodC5vcmllbnRhdGlvbiYmIWUuZXhhY3RFcXVhbHModC5vcmllbnRhdGlvbix0aGlzLl9jYW1lcmEub3JpZW50YXRpb24pJiYobj10aGlzLl9zZXRDYW1lcmFPcmllbnRhdGlvbih0Lm9yaWVudGF0aW9uKSksdC5wb3NpdGlvbil7Y29uc3QgaT1bdC5wb3NpdGlvbi54LHQucG9zaXRpb24ueSx0LnBvc2l0aW9uLnpdO2UuZXhhY3RFcXVhbHMkMShpLHRoaXMuX2NhbWVyYS5wb3NpdGlvbil8fCh0aGlzLl9zZXRDYW1lcmFQb3NpdGlvbihpKSxuPSEwKX1uJiYodGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCksdGhpcy5yZWNlbnRlck9uVGVycmFpbigpKX1nZXRGcmVlQ2FtZXJhT3B0aW9ucygpe3RoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCk7Y29uc3QgdD10aGlzLl9jYW1lcmEucG9zaXRpb24sbj1uZXcgVWk7cmV0dXJuIG4ucG9zaXRpb249bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKHRbMF0sdFsxXSx0WzJdKSxuLm9yaWVudGF0aW9uPXRoaXMuX2NhbWVyYS5vcmllbnRhdGlvbixuLl9lbGV2YXRpb249dGhpcy5lbGV2YXRpb24sbi5fcmVuZGVyV29ybGRDb3BpZXM9dGhpcy5yZW5kZXJXb3JsZENvcGllcyxufV9zZXRDYW1lcmFPcmllbnRhdGlvbih0KXtpZighZS5sZW5ndGgkMSh0KSlyZXR1cm4hMTtlLm5vcm1hbGl6ZSQxKHQsdCk7Y29uc3Qgbj1lLnRyYW5zZm9ybVF1YXQoW10sWzAsMCwtMV0sdCksaT1lLnRyYW5zZm9ybVF1YXQoW10sWzAsLTEsMF0sdCk7aWYoaVsyXTwwKXJldHVybiExO2NvbnN0IHI9TmkobixpKTtyZXR1cm4hIXImJih0aGlzLl9jYW1lcmEub3JpZW50YXRpb249ciwhMCl9X3NldENhbWVyYVBvc2l0aW9uKHQpe2NvbnN0IG49dGhpcy56b29tU2NhbGUodGhpcy5taW5ab29tKSp0aGlzLnRpbGVTaXplLGk9dGhpcy56b29tU2NhbGUodGhpcy5tYXhab29tKSp0aGlzLnRpbGVTaXplLHI9dGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlO3RbMl09ZS5jbGFtcCh0WzJdLHIvaSxyL24pLHRoaXMuX2NhbWVyYS5wb3NpdGlvbj10fWdldCBjZW50ZXJQb2ludCgpe3JldHVybiB0aGlzLl9lZGdlSW5zZXRzLmdldENlbnRlcih0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX1nZXQgZm92QWJvdmVDZW50ZXIoKXtyZXR1cm4gdGhpcy5fZm92KiguNSt0aGlzLmNlbnRlck9mZnNldC55L3RoaXMuaGVpZ2h0KX1pc1BhZGRpbmdFcXVhbChlKXtyZXR1cm4gdGhpcy5fZWRnZUluc2V0cy5lcXVhbHMoZSl9aW50ZXJwb2xhdGVQYWRkaW5nKGUsdCxuKXt0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2VkZ2VJbnNldHMuaW50ZXJwb2xhdGUoZSx0LG4pLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpfWNvdmVyaW5nWm9vbUxldmVsKGUpe2NvbnN0IHQ9KGUucm91bmRab29tP01hdGgucm91bmQ6TWF0aC5mbG9vcikodGhpcy56b29tK3RoaXMuc2NhbGVab29tKHRoaXMudGlsZVNpemUvZS50aWxlU2l6ZSkpO3JldHVybiBNYXRoLm1heCgwLHQpfWdldFZpc2libGVVbndyYXBwZWRDb29yZGluYXRlcyh0KXtjb25zdCBuPVtuZXcgZS5VbndyYXBwZWRUaWxlSUQoMCx0KV07aWYodGhpcy5yZW5kZXJXb3JsZENvcGllcyl7Y29uc3QgaT10aGlzLnBvaW50Q29vcmRpbmF0ZShuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCkpLHI9dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLndpZHRoLDApKSxvPXRoaXMucG9pbnRDb29yZGluYXRlKG5ldyBlLnBvaW50R2VvbWV0cnkodGhpcy53aWR0aCx0aGlzLmhlaWdodCkpLGE9dGhpcy5wb2ludENvb3JkaW5hdGUobmV3IGUucG9pbnRHZW9tZXRyeSgwLHRoaXMuaGVpZ2h0KSkscz1NYXRoLmZsb29yKE1hdGgubWluKGkueCxyLngsby54LGEueCkpLGw9TWF0aC5mbG9vcihNYXRoLm1heChpLngsci54LG8ueCxhLngpKSxjPTE7Zm9yKGxldCBpPXMtYztpPD1sK2M7aSsrKTAhPT1pJiZuLnB1c2gobmV3IGUuVW53cmFwcGVkVGlsZUlEKGksdCkpfXJldHVybiBufWNvdmVyaW5nVGlsZXModCl7bGV0IG49dGhpcy5jb3ZlcmluZ1pvb21MZXZlbCh0KTtjb25zdCBpPW4scj10aGlzLmVsZXZhdGlvbiYmIXQuaXNUZXJyYWluREVNLG89XCJtZXJjYXRvclwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWU7aWYodm9pZCAwIT09dC5taW56b29tJiZuPHQubWluem9vbSlyZXR1cm5bXTt2b2lkIDAhPT10Lm1heHpvb20mJm4+dC5tYXh6b29tJiYobj10Lm1heHpvb20pO2NvbnN0IGE9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5jZW50ZXIpLHM9dGhpcy5jZW50ZXIubGF0LGw9MTw8bixjPVtsKmEueCxsKmEueSwwXSx1PVwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lLGg9IXUsZD1lLkZydXN0dW0uZnJvbUludlByb2plY3Rpb25NYXRyaXgodGhpcy5pbnZQcm9qTWF0cml4LHRoaXMud29ybGRTaXplLG4saCkscD11P3RoaXMuX2NhbWVyYS5tZXJjYXRvclBvc2l0aW9uOnRoaXMucG9pbnRDb29yZGluYXRlKHRoaXMuZ2V0Q2FtZXJhUG9pbnQoKSksZj1sKmUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5jZW50ZXIubGF0KSxtPXRoaXMuX2NhbWVyYS5wb3NpdGlvblsyXS9lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuY2VudGVyLmxhdCksZz1bbCpwLngsbCpwLnksbSooaD8xOmYpXSx5PXRoaXMuY2FtZXJhVG9DZW50ZXJEaXN0YW5jZS90LnRpbGVTaXplKih0LnJvdW5kWm9vbT8xOi41MDIpLF89dGhpcy5waXRjaDw9NjAmJnRoaXMuX2VkZ2VJbnNldHMudG9wPD10aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSYmIXRoaXMuX2VsZXZhdGlvbiYmIXRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U/bjowLHY9dC5pc1RlcnJhaW5ERU0mJnRoaXMuX2VsZXZhdGlvbj8xZTQqdGhpcy5fZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpOnRoaXMuX2NlbnRlckFsdGl0dWRlLHg9dC5pc1RlcnJhaW5ERU0/LXY6dGhpcy5fZWxldmF0aW9uP3RoaXMuX2VsZXZhdGlvbi5nZXRNaW5FbGV2YXRpb25CZWxvd01TTCgpOjAsYj10aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlP1ppKHRoaXMpOjEsdz10PT57Y29uc3Qgbj0xLzRlNCxpPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0Lngrbix0LnksdC56KSxyPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSh0LngsdC55K24sdC56KSxvPXQudG9MbmdMYXQoKSxhPWkudG9MbmdMYXQoKSxzPXIudG9MbmdMYXQoKSxsPXRoaXMubG9jYXRpb25Db29yZGluYXRlKG8pLGM9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUoYSksdT10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZShzKSxoPU1hdGguaHlwb3QoYy54LWwueCxjLnktbC55KSxkPU1hdGguaHlwb3QodS54LWwueCx1LnktbC55KTtyZXR1cm4gTWF0aC5zcXJ0KGgqZCkqYi9ufSxUPXQ9Pntjb25zdCBuPXYsaT14O3JldHVybnthYWJiOmUudGlsZUFBQkIodGhpcyxsLDAsMCwwLHQsaSxuLHRoaXMucHJvamVjdGlvbiksem9vbTowLHg6MCx5OjAsbWluWjppLG1heFo6bix3cmFwOnQsZnVsbHlWaXNpYmxlOiExfX0sRT1bXTtsZXQgUz1bXTtjb25zdCBNPW4sST10LnJlcGFyc2VPdmVyc2NhbGVkP2k6bixDPWU9PmUqZSxrPUMoKG0tdGhpcy5fY2VudGVyQWx0aXR1ZGUpKmYpLEE9ZT0+e2lmKCF0aGlzLl9lbGV2YXRpb258fCFlLnRpbGVJRHx8IW8pcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uLmdldE1pbk1heEZvclRpbGUoZS50aWxlSUQpLG49ZS5hYWJiO3Q/KG4ubWluWzJdPXQubWluLG4ubWF4WzJdPXQubWF4LG4uY2VudGVyWzJdPShuLm1pblsyXStuLm1heFsyXSkvMik6KGUuc2hvdWxkU3BsaXQ9UChlKSxlLnNob3VsZFNwbGl0fHwobi5taW5bMl09bi5tYXhbMl09bi5jZW50ZXJbMl09dGhpcy5fY2VudGVyQWx0aXR1ZGUpKX0sUD10PT57aWYodC56b29tPF8pcmV0dXJuITA7aWYodC56b29tPT09TSlyZXR1cm4hMTtpZihudWxsIT10LnNob3VsZFNwbGl0KXJldHVybiB0LnNob3VsZFNwbGl0O2NvbnN0IG49dC5hYWJiLmRpc3RhbmNlWChnKSxvPXQuYWFiYi5kaXN0YW5jZVkoZyk7bGV0IGE9ayxsPTE7aWYodSl7YT1DKHQuYWFiYi5kaXN0YW5jZVooZykpO2NvbnN0IG49TWF0aC5wb3coMix0Lnpvb20pLGk9ZS5sYXRGcm9tTWVyY2F0b3JZKCh0LnkrMSkvbikscj1lLmxhdEZyb21NZXJjYXRvclkodC55L24pLG89TWF0aC5taW4oTWF0aC5tYXgocyxpKSxyKSxjPWUuY2lyY3VtZmVyZW5jZUF0TGF0aXR1ZGUobykvZS5jaXJjdW1mZXJlbmNlQXRMYXRpdHVkZShzKTtpZihsPW89PT1zPzEvTWF0aC5tYXgoMSx0aGlzLl9tZXJjYXRvclNjYWxlUmF0aW8tLjMpOk1hdGgubWluKDEsYy90aGlzLl9tZXJjYXRvclNjYWxlUmF0aW8pLHRoaXMuem9vbTw9ZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NSU4mJnQuem9vbT09PU0tMSYmYz49LjkpcmV0dXJuITB9ZWxzZSBpZihyJiYoYT1DKHQuYWFiYi5kaXN0YW5jZVooZykqZikpLHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2UmJmk8PTUpe2NvbnN0IG49TWF0aC5wb3coMix0Lnpvb20pLGk9dyhuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoKHQueCsuNSkvbiwodC55Ky41KS9uKSk7bD1pPi44NT8xOml9Y29uc3QgYz1uKm4rbypvK2E7cmV0dXJuIGM8QygoMTw8TS10Lnpvb20pKnkqbCooKGUsdCk9PntpZih0KkMoLjcwNyk8ZSlyZXR1cm4gMTtjb25zdCBuPU1hdGguc3FydCh0L2UpO3JldHVybiBuLygxLjQxNDQyNzE1NzAwMTQxNDQrKE1hdGgucG93KDEuMSxuLTEuNDE0NDI3MTU3MDAxNDE0NCsxKS0xKS8oMS4xLTEpLTEpfSkoTWF0aC5tYXgoYSxrKSxjKSl9O2lmKHRoaXMucmVuZGVyV29ybGRDb3BpZXMpZm9yKGxldCBlPTE7ZTw9MztlKyspRS5wdXNoKFQoLWUpKSxFLnB1c2goVChlKSk7Zm9yKEUucHVzaChUKDApKTtFLmxlbmd0aD4wOyl7Y29uc3QgaT1FLnBvcCgpLGE9aS54LHM9aS55O2xldCBoPWkuZnVsbHlWaXNpYmxlO2lmKCFoKXtjb25zdCBlPWkuYWFiYi5pbnRlcnNlY3RzKGQpO2lmKDA9PT1lKWNvbnRpbnVlO2g9Mj09PWV9aWYoaS56b29tIT09TSYmUChpKSlmb3IobGV0IHQ9MDt0PDQ7dCsrKXtjb25zdCBuPShhPDwxKSt0JTIsYz0oczw8MSkrKHQ+PjEpLGQ9e2FhYmI6bz9pLmFhYmIucXVhZHJhbnQodCk6ZS50aWxlQUFCQih0aGlzLGwsaS56b29tKzEsbixjLGkud3JhcCxpLm1pblosaS5tYXhaLHRoaXMucHJvamVjdGlvbiksem9vbTppLnpvb20rMSx4Om4seTpjLHdyYXA6aS53cmFwLGZ1bGx5VmlzaWJsZTpoLHRpbGVJRDp2b2lkIDAsc2hvdWxkU3BsaXQ6dm9pZCAwLG1pblo6aS5taW5aLG1heFo6aS5tYXhafTtyJiYhdSYmKGQudGlsZUlEPW5ldyBlLk92ZXJzY2FsZWRUaWxlSUQoaS56b29tKzE9PT1NP0k6aS56b29tKzEsaS53cmFwLGkuem9vbSsxLG4sYyksQShkKSksRS5wdXNoKGQpfWVsc2V7Y29uc3Qgcj1pLnpvb209PT1NP0k6aS56b29tO2lmKHQubWluem9vbSYmdC5taW56b29tPnIpY29udGludWU7Y29uc3Qgbz1jWzBdLSguNSthKyhpLndyYXA8PGkuem9vbSkpKigxPDxuLWkuem9vbSksbD1jWzFdLS41LXMsdT1pLnRpbGVJRD9pLnRpbGVJRDpuZXcgZS5PdmVyc2NhbGVkVGlsZUlEKHIsaS53cmFwLGkuem9vbSxhLHMpO1MucHVzaCh7dGlsZUlEOnUsZGlzdGFuY2VTcTpvKm8rbCpsfSl9fWlmKHRoaXMuZm9nQ3VsbERpc3RTcSl7Y29uc3Qgbj10aGlzLmZvZ0N1bGxEaXN0U3EsaT10aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpO1M9Uy5maWx0ZXIocj0+e2NvbnN0IG89WzAsMCwwLDFdLGE9W2UuRVhURU5ULGUuRVhURU5ULDAsMV0scz10aGlzLmNhbGN1bGF0ZUZvZ1RpbGVNYXRyaXgoci50aWxlSUQudG9VbndyYXBwZWQoKSk7ZS50cmFuc2Zvcm1NYXQ0JDEobyxvLHMpLGUudHJhbnNmb3JtTWF0NCQxKGEsYSxzKTtjb25zdCBsPWUuZ2V0QUFCQlBvaW50U3F1YXJlRGlzdChvLGEpO2lmKDA9PT1sKXJldHVybiEwO2xldCBjPSExO2NvbnN0IHU9dGhpcy5fZWxldmF0aW9uO2lmKHUmJmw+biYmMCE9PWkpe2NvbnN0IG49dGhpcy5jYWxjdWxhdGVQcm9qTWF0cml4KHIudGlsZUlELnRvVW53cmFwcGVkKCkpO2xldCBvO3QuaXNUZXJyYWluREVNfHwobz11LmdldE1pbk1heEZvclRpbGUoci50aWxlSUQpKSxvfHwobz17bWluOngsbWF4OnZ9KTtjb25zdCBhPWUuZnVydGhlc3RUaWxlQ29ybmVyKHRoaXMucm90YXRpb24pLHM9W2FbMF0qZS5FWFRFTlQsYVsxXSplLkVYVEVOVCxvLm1heF07ZS50cmFuc2Zvcm1NYXQ0KHMscyxuKSxjPSgxLXNbMV0pKnRoaXMuaGVpZ2h0Ki41PGl9cmV0dXJuIGw8bnx8Y30pfXJldHVybiBTLnNvcnQoKGUsdCk9PmUuZGlzdGFuY2VTcS10LmRpc3RhbmNlU3EpLm1hcChlPT5lLnRpbGVJRCl9cmVzaXplKGUsdCl7dGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5waXhlbHNUb0dMVW5pdHM9WzIvZSwtMi90XSx0aGlzLl9jb25zdHJhaW4oKSx0aGlzLl9jYWxjTWF0cmljZXMoKX1nZXQgdW5tb2RpZmllZCgpe3JldHVybiB0aGlzLl91bm1vZGlmaWVkfXpvb21TY2FsZShlKXtyZXR1cm4gTWF0aC5wb3coMixlKX1zY2FsZVpvb20oZSl7cmV0dXJuIE1hdGgubG9nKGUpL01hdGguTE4yfXByb2plY3QodCl7Y29uc3Qgbj1lLmNsYW1wKHQubGF0LC1lLk1BWF9NRVJDQVRPUl9MQVRJVFVERSxlLk1BWF9NRVJDQVRPUl9MQVRJVFVERSksaT10aGlzLnByb2plY3Rpb24ucHJvamVjdCh0LmxuZyxuKTtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeShpLngqdGhpcy53b3JsZFNpemUsaS55KnRoaXMud29ybGRTaXplKX11bnByb2plY3QoZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3QoZS54L3RoaXMud29ybGRTaXplLGUueS90aGlzLndvcmxkU2l6ZSl9Z2V0IHBvaW50KCl7cmV0dXJuIHRoaXMucHJvamVjdCh0aGlzLmNlbnRlcil9c2V0TG9jYXRpb25BdFBvaW50KHQsbil7bGV0IGkscjtjb25zdCBvPXRoaXMuY2VudGVyUG9pbnQ7aWYoXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpe2NvbnN0IGU9dGhpcy53b3JsZFNpemU7aT0obi54LW8ueCkvZSxyPShuLnktby55KS9lfWVsc2V7Y29uc3QgZT10aGlzLnBvaW50Q29vcmRpbmF0ZShuKSx0PXRoaXMucG9pbnRDb29yZGluYXRlKG8pO2k9ZS54LXQueCxyPWUueS10Lnl9Y29uc3QgYT10aGlzLmxvY2F0aW9uQ29vcmRpbmF0ZSh0KTt0aGlzLnNldExvY2F0aW9uKG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZShhLngtaSxhLnktcikpfXNldExvY2F0aW9uKGUpe3RoaXMuY2VudGVyPXRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGUpLHRoaXMucHJvamVjdGlvbi53cmFwJiYodGhpcy5jZW50ZXI9dGhpcy5jZW50ZXIud3JhcCgpKX1sb2NhdGlvblBvaW50KGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24ubG9jYXRpb25Qb2ludCh0aGlzLGUpfWxvY2F0aW9uUG9pbnQzRChlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmxvY2F0aW9uUG9pbnQodGhpcyxlLCEwKX1wb2ludExvY2F0aW9uKGUpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih0aGlzLnBvaW50Q29vcmRpbmF0ZShlKSl9cG9pbnRMb2NhdGlvbjNEKGUpe3JldHVybiB0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih0aGlzLnBvaW50Q29vcmRpbmF0ZTNEKGUpKX1sb2NhdGlvbkNvb3JkaW5hdGUodCxuKXtjb25zdCBpPW4/ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUobix0LmxhdCk6dm9pZCAwLHI9dGhpcy5wcm9qZWN0aW9uLnByb2plY3QodC5sbmcsdC5sYXQpO3JldHVybiBuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoci54LHIueSxpKX1jb29yZGluYXRlTG9jYXRpb24oZSl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi51bnByb2plY3QoZS54LGUueSl9cG9pbnRSYXlJbnRlcnNlY3Rpb24odCxuKXtjb25zdCBpPW51bGwhPW4/bjp0aGlzLl9jZW50ZXJBbHRpdHVkZSxyPVt0LngsdC55LDAsMV0sbz1bdC54LHQueSwxLDFdO2UudHJhbnNmb3JtTWF0NCQxKHIscix0aGlzLnBpeGVsTWF0cml4SW52ZXJzZSksZS50cmFuc2Zvcm1NYXQ0JDEobyxvLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKTtjb25zdCBhPW9bM107ZS5zY2FsZSQxKHIsciwxL3JbM10pLGUuc2NhbGUkMShvLG8sMS9hKTtjb25zdCBzPXJbMl0sbD1vWzJdO3JldHVybntwMDpyLHAxOm8sdDpzPT09bD8wOihpLXMpLyhsLXMpfX1zY3JlZW5Qb2ludFRvTWVyY2F0b3JSYXkodCl7Y29uc3Qgbj1bdC54LHQueSwwLDFdLGk9W3QueCx0LnksMSwxXTtyZXR1cm4gZS50cmFuc2Zvcm1NYXQ0JDEobixuLHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlKSxlLnRyYW5zZm9ybU1hdDQkMShpLGksdGhpcy5waXhlbE1hdHJpeEludmVyc2UpLGUuc2NhbGUkMShuLG4sMS9uWzNdKSxlLnNjYWxlJDEoaSxpLDEvaVszXSksblsyXT1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZShuWzJdLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLGlbMl09ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoaVsyXSx0aGlzLl9jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSxlLnNjYWxlJDEobixuLDEvdGhpcy53b3JsZFNpemUpLGUuc2NhbGUkMShpLGksMS90aGlzLndvcmxkU2l6ZSksbmV3IGUuUmF5KFtuWzBdLG5bMV0sblsyXV0sZS5ub3JtYWxpemUoW10sZS5zdWIoW10saSxuKSkpfXJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUodCl7Y29uc3R7cDA6bixwMTppLHQ6cn09dCxvPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKG5bMl0sdGhpcy5fY2VudGVyLmxhdCksYT1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZShpWzJdLHRoaXMuX2NlbnRlci5sYXQpO3JldHVybiBuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoZS5udW1iZXIoblswXSxpWzBdLHIpL3RoaXMud29ybGRTaXplLGUubnVtYmVyKG5bMV0saVsxXSxyKS90aGlzLndvcmxkU2l6ZSxlLm51bWJlcihvLGEscikpfXBvaW50Q29vcmRpbmF0ZShlLHQ9dGhpcy5fY2VudGVyQWx0aXR1ZGUpe3JldHVybiB0aGlzLnByb2plY3Rpb24ucG9pbnRDb29yZGluYXRlKHRoaXMsZS54LGUueSx0KX1wb2ludENvb3JkaW5hdGUzRCh0KXtpZighdGhpcy5lbGV2YXRpb24pcmV0dXJuIHRoaXMucG9pbnRDb29yZGluYXRlKHQpO2xldCBuPXRoaXMucHJvamVjdGlvbi5wb2ludENvb3JkaW5hdGUzRCh0aGlzLHQueCx0LnkpO2lmKG4pcmV0dXJuIG5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZShuWzBdLG5bMV0sblsyXSk7bGV0IGk9MCxyPXRoaXMuaG9yaXpvbkxpbmVGcm9tVG9wKCk7aWYodC55PnIpcmV0dXJuIHRoaXMucG9pbnRDb29yZGluYXRlKHQpO2NvbnN0IG89LjAyKnIsYT10LmNsb25lKCk7Zm9yKGxldCB0PTA7dDwxMCYmci1pPm87dCsrKXthLnk9ZS5udW1iZXIoaSxyLC42Nik7Y29uc3QgdD10aGlzLnByb2plY3Rpb24ucG9pbnRDb29yZGluYXRlM0QodGhpcyxhLngsYS55KTt0PyhyPWEueSxuPXQpOmk9YS55fXJldHVybiBuP25ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZShuWzBdLG5bMV0sblsyXSk6dGhpcy5wb2ludENvb3JkaW5hdGUodCl9aXNQb2ludEFib3ZlSG9yaXpvbihlKXtyZXR1cm4gdGhpcy5wcm9qZWN0aW9uLmlzUG9pbnRBYm92ZUhvcml6b24odGhpcyxlKX1fY29vcmRpbmF0ZVBvaW50KHQsbil7Y29uc3QgaT1uJiZ0aGlzLmVsZXZhdGlvbj90aGlzLmVsZXZhdGlvbi5nZXRBdFBvaW50T3JaZXJvKHQsdGhpcy5fY2VudGVyQWx0aXR1ZGUpOnRoaXMuX2NlbnRlckFsdGl0dWRlLHI9W3QueCp0aGlzLndvcmxkU2l6ZSx0LnkqdGhpcy53b3JsZFNpemUsaSt0LnRvQWx0aXR1ZGUoKSwxXTtyZXR1cm4gZS50cmFuc2Zvcm1NYXQ0JDEocixyLHRoaXMucGl4ZWxNYXRyaXgpLHJbM10+MD9uZXcgZS5wb2ludEdlb21ldHJ5KHJbMF0vclszXSxyWzFdL3JbM10pOm5ldyBlLnBvaW50R2VvbWV0cnkoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKX1fZ2V0R2xvYmVCb3VuZHMoKXtjb25zdHt0b3A6dCxsZWZ0Om59PXRoaXMuX2VkZ2VJbnNldHMsaT10aGlzLmhlaWdodC10aGlzLl9lZGdlSW5zZXRzLmJvdHRvbSxyPXRoaXMud2lkdGgtdGhpcy5fZWRnZUluc2V0cy5yaWdodCxvPXRoaXMucG9pbnRDb29yZGluYXRlM0QobmV3IGUucG9pbnRHZW9tZXRyeShuLHQpKSxhPXRoaXMucG9pbnRDb29yZGluYXRlM0QobmV3IGUucG9pbnRHZW9tZXRyeShyLHQpKSxzPXRoaXMucG9pbnRDb29yZGluYXRlM0QobmV3IGUucG9pbnRHZW9tZXRyeShyLGkpKSxsPXRoaXMucG9pbnRDb29yZGluYXRlM0QobmV3IGUucG9pbnRHZW9tZXRyeShuLGkpKTtsZXQgYz1NYXRoLm1pbihvLngsbC54KSx1PU1hdGgubWF4KGEueCxzLngpLGg9TWF0aC5taW4oby55LGEueSksZD1NYXRoLm1heChsLnkscy55KTtjb25zdCBwPU1hdGgucG93KDIsLXRoaXMuem9vbSkvMTYsZj0odCxuLGkscik9Pntjb25zdCBvPSh0K2kpLzIsYT0obityKS8yLHM9bmV3IGUucG9pbnRHZW9tZXRyeShvLGEpLGw9dGhpcy5wb2ludENvb3JkaW5hdGUzRChzKSxtPU1hdGgubWF4KDAsYy1sLngsaC1sLnksbC54LXUsbC55LWQpO2M9TWF0aC5taW4oYyxsLngpLHU9TWF0aC5tYXgodSxsLngpLGg9TWF0aC5taW4oaCxsLnkpLGQ9TWF0aC5tYXgoZCxsLnkpLG0+cCYmKGYodCxuLG8sYSksZihvLGEsaSxyKSl9O2Yobix0LHIsdCksZihyLHQscixpKSxmKHIsaSxuLGkpLGYobixpLG4sdCk7Y29uc3RbbSxnXT1lLnBvbGVzSW5WaWV3cG9ydCh0aGlzKSx5PW18fGcsXz1tPzkwOmUubGF0RnJvbU1lcmNhdG9yWShoKSx2PXk/MTgwOmUubG5nRnJvbU1lcmNhdG9yWCh1KSx4PWc/LTkwOmUubGF0RnJvbU1lcmNhdG9yWShkKSxiPXk/LTE4MDplLmxuZ0Zyb21NZXJjYXRvclgoYyk7cmV0dXJuIG5ldyBlLkxuZ0xhdEJvdW5kcyhuZXcgZS5MbmdMYXQoYix4KSxuZXcgZS5MbmdMYXQodixfKSl9X2dldEJvdW5kcyh0LG4pe2lmKFwiZ2xvYmVcIj09PXRoaXMucHJvamVjdGlvbi5uYW1lKXJldHVybiB0aGlzLl9nZXRHbG9iZUJvdW5kcygpO2NvbnN0IGk9bmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLl9lZGdlSW5zZXRzLmxlZnQsdGhpcy5fZWRnZUluc2V0cy50b3ApLHI9bmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLndpZHRoLXRoaXMuX2VkZ2VJbnNldHMucmlnaHQsdGhpcy5fZWRnZUluc2V0cy50b3ApLG89bmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLndpZHRoLXRoaXMuX2VkZ2VJbnNldHMucmlnaHQsdGhpcy5oZWlnaHQtdGhpcy5fZWRnZUluc2V0cy5ib3R0b20pLGE9bmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLl9lZGdlSW5zZXRzLmxlZnQsdGhpcy5oZWlnaHQtdGhpcy5fZWRnZUluc2V0cy5ib3R0b20pO2xldCBzPXRoaXMucG9pbnRDb29yZGluYXRlKGksdCksbD10aGlzLnBvaW50Q29vcmRpbmF0ZShyLHQpO2NvbnN0IGM9dGhpcy5wb2ludENvb3JkaW5hdGUobyxuKSx1PXRoaXMucG9pbnRDb29yZGluYXRlKGEsbiksaD0oZSx0KT0+KHQueS1lLnkpLyh0LngtZS54KTtyZXR1cm4gcy55PjEmJmwueT49MD9zPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSgoMS11LnkpL2godSxzKSt1LngsMSk6cy55PDAmJmwueTw9MSYmKHM9bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKC11LnkvaCh1LHMpK3UueCwwKSksbC55PjEmJnMueT49MD9sPW5ldyBlLk1lcmNhdG9yQ29vcmRpbmF0ZSgoMS1jLnkpL2goYyxsKStjLngsMSk6bC55PDAmJnMueTw9MSYmKGw9bmV3IGUuTWVyY2F0b3JDb29yZGluYXRlKC1jLnkvaChjLGwpK2MueCwwKSksKG5ldyBlLkxuZ0xhdEJvdW5kcykuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKHMpKS5leHRlbmQodGhpcy5jb29yZGluYXRlTG9jYXRpb24obCkpLmV4dGVuZCh0aGlzLmNvb3JkaW5hdGVMb2NhdGlvbih1KSkuZXh0ZW5kKHRoaXMuY29vcmRpbmF0ZUxvY2F0aW9uKGMpKX1fZ2V0Qm91bmRzM0QoKXtjb25zdCBlPXRoaXMuZWxldmF0aW9uO2lmKCFlLnZpc2libGVEZW1UaWxlcy5sZW5ndGh8fGUuaXNVc2luZ01vY2tTb3VyY2UoKSlyZXR1cm4gdGhpcy5fZ2V0Qm91bmRzKDAsMCk7Y29uc3QgdD1lLnZpc2libGVEZW1UaWxlcy5yZWR1Y2UoKGUsdCk9PntpZih0LmRlbSl7Y29uc3Qgbj10LmRlbS50cmVlO2UubWluPU1hdGgubWluKGUubWluLG4ubWluaW11bXNbMF0pLGUubWF4PU1hdGgubWF4KGUubWF4LG4ubWF4aW11bXNbMF0pfXJldHVybiBlfSx7bWluOk51bWJlci5NQVhfVkFMVUUsbWF4OjB9KTtyZXR1cm4gdGhpcy5fZ2V0Qm91bmRzKHQubWluKmUuZXhhZ2dlcmF0aW9uKCksdC5tYXgqZS5leGFnZ2VyYXRpb24oKSl9Z2V0Qm91bmRzKCl7cmV0dXJuIHRoaXMuX3RlcnJhaW5FbmFibGVkKCk/dGhpcy5fZ2V0Qm91bmRzM0QoKTp0aGlzLl9nZXRCb3VuZHMoMCwwKX1ob3Jpem9uTGluZUZyb21Ub3AoZT0hMCl7Y29uc3QgdD10aGlzLmhlaWdodC8yL01hdGgudGFuKHRoaXMuX2Zvdi8yKS9NYXRoLnRhbihNYXRoLm1heCh0aGlzLl9waXRjaCwuMSkpK3RoaXMuY2VudGVyT2Zmc2V0Lnksbj10aGlzLmhlaWdodC8yLXQqKDEtdGhpcy5faG9yaXpvblNoaWZ0KTtyZXR1cm4gZT9NYXRoLm1heCgwLG4pOm59Z2V0TWF4Qm91bmRzKCl7cmV0dXJuIHRoaXMubWF4Qm91bmRzfXNldE1heEJvdW5kcyh0KXt0aGlzLm1heEJvdW5kcz10LHRoaXMubWluTGF0PS1lLk1BWF9NRVJDQVRPUl9MQVRJVFVERSx0aGlzLm1heExhdD1lLk1BWF9NRVJDQVRPUl9MQVRJVFVERSx0aGlzLm1pbkxuZz0tMTgwLHRoaXMubWF4TG5nPTE4MCx0JiYodGhpcy5taW5MYXQ9dC5nZXRTb3V0aCgpLHRoaXMubWF4TGF0PXQuZ2V0Tm9ydGgoKSx0aGlzLm1pbkxuZz10LmdldFdlc3QoKSx0aGlzLm1heExuZz10LmdldEVhc3QoKSx0aGlzLm1heExuZzx0aGlzLm1pbkxuZyYmKHRoaXMubWF4TG5nKz0zNjApKSx0aGlzLndvcmxkTWluWD1lLm1lcmNhdG9yWGZyb21MbmcodGhpcy5taW5MbmcpKnRoaXMudGlsZVNpemUsdGhpcy53b3JsZE1heFg9ZS5tZXJjYXRvclhmcm9tTG5nKHRoaXMubWF4TG5nKSp0aGlzLnRpbGVTaXplLHRoaXMud29ybGRNaW5ZPWUubWVyY2F0b3JZZnJvbUxhdCh0aGlzLm1heExhdCkqdGhpcy50aWxlU2l6ZSx0aGlzLndvcmxkTWF4WT1lLm1lcmNhdG9yWWZyb21MYXQodGhpcy5taW5MYXQpKnRoaXMudGlsZVNpemUsdGhpcy5fY29uc3RyYWluKCl9Y2FsY3VsYXRlUG9zTWF0cml4KGUsdCl7cmV0dXJuIHRoaXMucHJvamVjdGlvbi5jcmVhdGVUaWxlTWF0cml4KHRoaXMsdCxlKX1jYWxjdWxhdGVEaXN0YW5jZVRpbGVEYXRhKHQpe2NvbnN0IG49dC5rZXksaT10aGlzLl9kaXN0YW5jZVRpbGVEYXRhQ2FjaGU7aWYoaVtuXSlyZXR1cm4gaVtuXTtjb25zdCByPXQuY2Fub25pY2FsLG89MS90aGlzLmhlaWdodCxhPXRoaXMuY2FtZXJhV29ybGRTaXplLHM9YS90aGlzLnpvb21TY2FsZShyLnopLGw9KHIueCtNYXRoLnBvdygyLHIueikqdC53cmFwKSpzLGM9ci55KnMsdT10aGlzLnBvaW50O3UueCo9YS90aGlzLndvcmxkU2l6ZSx1LnkqPWEvdGhpcy53b3JsZFNpemU7Y29uc3QgaD10aGlzLmFuZ2xlLGQ9TWF0aC5zaW4oLWgpLHA9LU1hdGguY29zKC1oKTtyZXR1cm4gaVtuXT17YmVhcmluZzpbZCxwXSxjZW50ZXI6Wyh1LngtbCkqbywodS55LWMpKm9dLHNjYWxlOnMvZS5FWFRFTlQqb30saVtuXX1jYWxjdWxhdGVGb2dUaWxlTWF0cml4KHQpe2NvbnN0IG49dC5rZXksaT10aGlzLl9mb2dUaWxlTWF0cml4Q2FjaGU7aWYoaVtuXSlyZXR1cm4gaVtuXTtjb25zdCByPXRoaXMucHJvamVjdGlvbi5jcmVhdGVUaWxlTWF0cml4KHRoaXMsdGhpcy5jYW1lcmFXb3JsZFNpemVGb3JGb2csdCk7cmV0dXJuIGUubXVsdGlwbHkocix0aGlzLndvcmxkVG9Gb2dNYXRyaXgsciksaVtuXT1uZXcgRmxvYXQzMkFycmF5KHIpLGlbbl19Y2FsY3VsYXRlUHJvak1hdHJpeCh0LG49ITEpe2NvbnN0IGk9dC5rZXkscj1uP3RoaXMuX2FsaWduZWRQcm9qTWF0cml4Q2FjaGU6dGhpcy5fcHJvak1hdHJpeENhY2hlO2lmKHJbaV0pcmV0dXJuIHJbaV07Y29uc3Qgbz10aGlzLmNhbGN1bGF0ZVBvc01hdHJpeCh0LHRoaXMud29ybGRTaXplKTtyZXR1cm4gZS5tdWx0aXBseShvLHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2U/dGhpcy5tZXJjYXRvck1hdHJpeDpuP3RoaXMuYWxpZ25lZFByb2pNYXRyaXg6dGhpcy5wcm9qTWF0cml4LG8pLHJbaV09bmV3IEZsb2F0MzJBcnJheShvKSxyW2ldfWNhbGN1bGF0ZVBpeGVsc1RvVGlsZVVuaXRzTWF0cml4KHQpe2NvbnN0IG49dC50aWxlSUQua2V5LGk9dGhpcy5fcGl4ZWxzVG9UaWxlVW5pdHNDYWNoZTtpZihpW25dKXJldHVybiBpW25dO2NvbnN0IHI9ZnVuY3Rpb24odCxuKXtjb25zdHtzY2FsZTppfT10LnRpbGVUcmFuc2Zvcm0scj1pKmUuRVhURU5ULyh0LnRpbGVTaXplKk1hdGgucG93KDIsbi56b29tLXQudGlsZUlELm92ZXJzY2FsZWRaK3QudGlsZUlELmNhbm9uaWNhbC56KSk7cmV0dXJuIG89bmV3IEZsb2F0MzJBcnJheSg0KSxsPShhPW4uaW52ZXJzZUFkanVzdG1lbnRNYXRyaXgpWzFdLGM9YVsyXSx1PWFbM10sZD0ocz1bcixyXSlbMV0sb1swXT1hWzBdKihoPXNbMF0pLG9bMV09bCpoLG9bMl09YypkLG9bM109dSpkLG87dmFyIG8sYSxzLGwsYyx1LGgsZH0odCx0aGlzKTtyZXR1cm4gaVtuXT1yLGlbbl19Y3VzdG9tTGF5ZXJNYXRyaXgoKXtyZXR1cm4gdGhpcy5tZXJjYXRvck1hdHJpeC5zbGljZSgpfXJlY2VudGVyT25UZXJyYWluKCl7aWYoIXRoaXMuX2VsZXZhdGlvbnx8XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fZWxldmF0aW9uO3RoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCk7Y29uc3Qgbj1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHRoaXMuX2NlbnRlci5sYXQpKnRoaXMud29ybGRTaXplLGk9dGhpcy5fY29tcHV0ZUNhbWVyYVBvc2l0aW9uKG4pLHI9dGhpcy5fY2FtZXJhLmZvcndhcmQoKSxvPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsdGhpcy5fY2VudGVyLmxhdCk7aVsyXS89byxyWzJdLz1vLGUubm9ybWFsaXplKHIscik7Y29uc3QgYT10LnJheWNhc3QoaSxyLHQuZXhhZ2dlcmF0aW9uKCkpO2lmKGEpe2NvbnN0IHQ9ZS5zY2FsZUFuZEFkZChbXSxpLHIsYSksbj1uZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodFswXSx0WzFdLGUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKHRbMl0sZS5sYXRGcm9tTWVyY2F0b3JZKHRbMV0pKSkscz0obi56K2UubGVuZ3RoKFtuLngtaVswXSxuLnktaVsxXSxuLnotaVsyXSpvXSkpKnRoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw7dGhpcy5fc2VhTGV2ZWxab29tPXRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKHMpLHRoaXMuX2NlbnRlckFsdGl0dWRlPW4udG9BbHRpdHVkZSgpLHRoaXMuX2NlbnRlcj10aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihuKSx0aGlzLl91cGRhdGVab29tRnJvbUVsZXZhdGlvbigpLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpfX1fY29uc3RyYWluQ2FtZXJhKHQ9ITEpe2lmKCF0aGlzLl9lbGV2YXRpb24pcmV0dXJuO2NvbnN0IG49dGhpcy5fZWxldmF0aW9uLGk9ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLl9jZW50ZXIubGF0KSp0aGlzLndvcmxkU2l6ZSxyPXRoaXMuX2NvbXB1dGVDYW1lcmFQb3NpdGlvbihpKSxvPW4uZ2V0QXRQb2ludE9yWmVybyhuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUoLi4ucikpLGE9dGhpcy5waXhlbHNQZXJNZXRlci90aGlzLndvcmxkU2l6ZSpvLHM9dGhpcy5fbWluaW11bUhlaWdodE92ZXJUZXJyYWluKCksbD1yWzJdLWE7aWYobDw9cylpZihsPDB8fHQpe2NvbnN0IHQ9dGhpcy5sb2NhdGlvbkNvb3JkaW5hdGUodGhpcy5fY2VudGVyLHRoaXMuX2NlbnRlckFsdGl0dWRlKSxuPVtyWzBdLHJbMV0sdC56LXJbMl1dLGk9ZS5sZW5ndGgobik7blsyXS09KHMtbCkvdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbDtjb25zdCBvPWUubGVuZ3RoKG4pO2lmKDA9PT1vKXJldHVybjtlLnNjYWxlJDIobixuLGkvbyp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsKSx0aGlzLl9jYW1lcmEucG9zaXRpb249W3JbMF0sclsxXSx0LnoqdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbC1uWzJdXSx0aGlzLl91cGRhdGVTdGF0ZUZyb21DYW1lcmEoKX1lbHNlIHRoaXMuX2lzQ2FtZXJhQ29uc3RyYWluZWQ9ITB9X2NvbnN0cmFpbigpe2lmKCF0aGlzLmNlbnRlcnx8IXRoaXMud2lkdGh8fCF0aGlzLmhlaWdodHx8dGhpcy5fY29uc3RyYWluaW5nKXJldHVybjt0aGlzLl9jb25zdHJhaW5pbmc9ITA7Y29uc3QgdD1cImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZXx8dGhpcy5tZXJjYXRvckZyb21UcmFuc2l0aW9uO2lmKHRoaXMucHJvamVjdGlvbi5pc1JlcHJvamVjdGVkSW5UaWxlU3BhY2V8fHQpe2NvbnN0IG49dGhpcy5jZW50ZXI7cmV0dXJuIG4ubGF0PWUuY2xhbXAobi5sYXQsdGhpcy5taW5MYXQsdGhpcy5tYXhMYXQpLCh0aGlzLm1heEJvdW5kc3x8IXRoaXMucmVuZGVyV29ybGRDb3BpZXMmJiF0KSYmKG4ubG5nPWUuY2xhbXAobi5sbmcsdGhpcy5taW5MbmcsdGhpcy5tYXhMbmcpKSx0aGlzLmNlbnRlcj1uLHZvaWQodGhpcy5fY29uc3RyYWluaW5nPSExKX1jb25zdCBuPXRoaXMuX3VubW9kaWZpZWQse3g6aSx5OnJ9PXRoaXMucG9pbnQ7bGV0IG89MCxhPWkscz1yO2NvbnN0IGw9dGhpcy53aWR0aC8yLGM9dGhpcy5oZWlnaHQvMix1PXRoaXMud29ybGRNaW5ZKnRoaXMuc2NhbGUsaD10aGlzLndvcmxkTWF4WSp0aGlzLnNjYWxlO2lmKHItYzx1JiYocz11K2MpLHIrYz5oJiYocz1oLWMpLGgtdTx0aGlzLmhlaWdodCYmKG89TWF0aC5tYXgobyx0aGlzLmhlaWdodC8oaC11KSkscz0oaCt1KS8yKSx0aGlzLm1heEJvdW5kc3x8IXRoaXMuX3JlbmRlcldvcmxkQ29waWVzfHwhdGhpcy5wcm9qZWN0aW9uLndyYXApe2NvbnN0IGU9dGhpcy53b3JsZE1pblgqdGhpcy5zY2FsZSx0PXRoaXMud29ybGRNYXhYKnRoaXMuc2NhbGUsbj10aGlzLndvcmxkU2l6ZS8yLShlK3QpLzI7YT0oaStuK3RoaXMud29ybGRTaXplKSV0aGlzLndvcmxkU2l6ZS1uLGEtbDxlJiYoYT1lK2wpLGErbD50JiYoYT10LWwpLHQtZTx0aGlzLndpZHRoJiYobz1NYXRoLm1heChvLHRoaXMud2lkdGgvKHQtZSkpLGE9KHQrZSkvMil9YT09PWkmJnM9PT1yfHwodGhpcy5jZW50ZXI9dGhpcy51bnByb2plY3QobmV3IGUucG9pbnRHZW9tZXRyeShhLHMpKSksbyYmKHRoaXMuem9vbSs9dGhpcy5zY2FsZVpvb20obykpLHRoaXMuX2NvbnN0cmFpbkNhbWVyYSgpLHRoaXMuX3VubW9kaWZpZWQ9bix0aGlzLl9jb25zdHJhaW5pbmc9ITF9X21pblpvb21Gb3JCb3VuZHMoKXtsZXQgZT1NYXRoLm1heCgwLHRoaXMuc2NhbGVab29tKHRoaXMuaGVpZ2h0Lyh0aGlzLndvcmxkTWF4WS10aGlzLndvcmxkTWluWSkpKTtyZXR1cm4gdGhpcy5tYXhCb3VuZHMmJihlPU1hdGgubWF4KGUsdGhpcy5zY2FsZVpvb20odGhpcy53aWR0aC8odGhpcy53b3JsZE1heFgtdGhpcy53b3JsZE1pblgpKSkpLGV9X21heENhbWVyYUJvdW5kc0Rpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX21pblpvb21Gb3JCb3VuZHMoKSl9X2NhbGNNYXRyaWNlcygpe2lmKCF0aGlzLmhlaWdodClyZXR1cm47Y29uc3QgdD10aGlzLmNlbnRlck9mZnNldCxuPXRoaXMucGl4ZWxzUGVyTWV0ZXI7XCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUmJih0aGlzLl9tZXJjYXRvclNjYWxlUmF0aW89ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoMSx0aGlzLmNlbnRlci5sYXQpL2UubWVyY2F0b3JaZnJvbUFsdGl0dWRlKDEsZS5HTE9CRV9TQ0FMRV9NQVRDSF9MQVRJVFVERSkpO2NvbnN0IGk9V2kodGhpcy5wcm9qZWN0aW9uLHRoaXMuem9vbSx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDEwMjQpO3RoaXMuX3BpeGVsc1Blck1lcmNhdG9yUGl4ZWw9dGhpcy5wcm9qZWN0aW9uLnBpeGVsU3BhY2VDb252ZXJzaW9uKHRoaXMuY2VudGVyLmxhdCx0aGlzLndvcmxkU2l6ZSxpKSx0aGlzLmNhbWVyYVRvQ2VudGVyRGlzdGFuY2U9LjUvTWF0aC50YW4oLjUqdGhpcy5fZm92KSp0aGlzLmhlaWdodCp0aGlzLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsLHRoaXMuX3VwZGF0ZUNhbWVyYVN0YXRlKCksdGhpcy5fZmFyWj10aGlzLnByb2plY3Rpb24uZmFydGhlc3RQaXhlbERpc3RhbmNlKHRoaXMpLHRoaXMuX25lYXJaPXRoaXMuaGVpZ2h0LzUwO2NvbnN0IHI9dGhpcy5fY2FtZXJhLmdldFdvcmxkVG9DYW1lcmEodGhpcy53b3JsZFNpemUsXCJtZXRlcnNcIj09PXRoaXMucHJvamVjdGlvbi56QXhpc1VuaXQ/bjoxKSxvPXRoaXMuX2NhbWVyYS5nZXRDYW1lcmFUb0NsaXBQZXJzcGVjdGl2ZSh0aGlzLl9mb3YsdGhpcy53aWR0aC90aGlzLmhlaWdodCx0aGlzLl9uZWFyWix0aGlzLl9mYXJaKTtvWzhdPTIqLXQueC90aGlzLndpZHRoLG9bOV09Mip0LnkvdGhpcy5oZWlnaHQ7bGV0IGE9ZS5tdWwoW10sbyxyKTtpZih0aGlzLnByb2plY3Rpb24uaXNSZXByb2plY3RlZEluVGlsZVNwYWNlKXtjb25zdCB0PXRoaXMubG9jYXRpb25Db29yZGluYXRlKHRoaXMuY2VudGVyKSxuPWUuaWRlbnRpdHkoW10pO2UudHJhbnNsYXRlKG4sbixbdC54KnRoaXMud29ybGRTaXplLHQueSp0aGlzLndvcmxkU2l6ZSwwXSksZS5tdWx0aXBseShuLG4sR2kodGhpcykpLGUudHJhbnNsYXRlKG4sbixbLXQueCp0aGlzLndvcmxkU2l6ZSwtdC55KnRoaXMud29ybGRTaXplLDBdKSxlLm11bHRpcGx5KGEsYSxuKSx0aGlzLmludmVyc2VBZGp1c3RtZW50TWF0cml4PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9R2koZSwhMCk7cmV0dXJuIF8oW10sW3RbMF0sdFsxXSx0WzRdLHRbNV1dKX0odGhpcyl9ZWxzZSB0aGlzLmludmVyc2VBZGp1c3RtZW50TWF0cml4PVsxLDAsMCwxXTt0aGlzLm1lcmNhdG9yTWF0cml4PWUuc2NhbGUoW10sYSxbdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemUsdGhpcy53b3JsZFNpemUvbiwxXSksdGhpcy5wcm9qTWF0cml4PWEsdGhpcy5pbnZQcm9qTWF0cml4PWUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHRoaXMucHJvak1hdHJpeCk7Y29uc3Qgcz1lLmludmVydChbXSxvKTt0aGlzLmZydXN0dW1Db3JuZXJzPWUuRnJ1c3R1bUNvcm5lcnMuZnJvbUludlByb2plY3Rpb25NYXRyaXgocyx0aGlzLmhvcml6b25MaW5lRnJvbVRvcCgpLHRoaXMuaGVpZ2h0KTtjb25zdCBsPW5ldyBGbG9hdDMyQXJyYXkoMTYpO2UuaWRlbnRpdHkobCksZS5zY2FsZShsLGwsWzEsLTEsMV0pLGUucm90YXRlWChsLGwsdGhpcy5fcGl0Y2gpLGUucm90YXRlWihsLGwsdGhpcy5hbmdsZSk7Y29uc3QgYz1lLnBlcnNwZWN0aXZlKG5ldyBGbG9hdDMyQXJyYXkoMTYpLHRoaXMuX2Zvdix0aGlzLndpZHRoL3RoaXMuaGVpZ2h0LHRoaXMuX25lYXJaLHRoaXMuX2ZhclopLHU9KE1hdGguUEkvMi10aGlzLl9waXRjaCkqKHRoaXMuaGVpZ2h0L3RoaXMuX2ZvdikqdGhpcy5faG9yaXpvblNoaWZ0O2NbOF09MiotdC54L3RoaXMud2lkdGgsY1s5XT0yKih0LnkrdSkvdGhpcy5oZWlnaHQsdGhpcy5za3lib3hNYXRyaXg9ZS5tdWx0aXBseShsLGMsbCk7Y29uc3QgaD10aGlzLnBvaW50LGQ9aC54LHA9aC55LGY9dGhpcy53aWR0aCUyLzIsbT10aGlzLmhlaWdodCUyLzIsZz1NYXRoLmNvcyh0aGlzLmFuZ2xlKSx5PU1hdGguc2luKHRoaXMuYW5nbGUpLHY9ZC1NYXRoLnJvdW5kKGQpK2cqZit5Km0seD1wLU1hdGgucm91bmQocCkrZyptK3kqZixiPW5ldyBGbG9hdDY0QXJyYXkoYSk7aWYoZS50cmFuc2xhdGUoYixiLFt2Pi41P3YtMTp2LHg+LjU/eC0xOngsMF0pLHRoaXMuYWxpZ25lZFByb2pNYXRyaXg9YixhPWUuY3JlYXRlKCksZS5zY2FsZShhLGEsW3RoaXMud2lkdGgvMiwtdGhpcy5oZWlnaHQvMiwxXSksZS50cmFuc2xhdGUoYSxhLFsxLC0xLDBdKSx0aGlzLmxhYmVsUGxhbmVNYXRyaXg9YSxhPWUuY3JlYXRlKCksZS5zY2FsZShhLGEsWzEsLTEsMV0pLGUudHJhbnNsYXRlKGEsYSxbLTEsLTEsMF0pLGUuc2NhbGUoYSxhLFsyL3RoaXMud2lkdGgsMi90aGlzLmhlaWdodCwxXSksdGhpcy5nbENvb3JkTWF0cml4PWEsdGhpcy5waXhlbE1hdHJpeD1lLm11bHRpcGx5KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHRoaXMubGFiZWxQbGFuZU1hdHJpeCx0aGlzLnByb2pNYXRyaXgpLHRoaXMuX2NhbGNGb2dNYXRyaWNlcygpLHRoaXMuX2Rpc3RhbmNlVGlsZURhdGFDYWNoZT17fSxhPWUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLHRoaXMucGl4ZWxNYXRyaXgpLCFhKXRocm93IG5ldyBFcnJvcihcImZhaWxlZCB0byBpbnZlcnQgbWF0cml4XCIpO2lmKHRoaXMucGl4ZWxNYXRyaXhJbnZlcnNlPWEsXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWV8fHRoaXMubWVyY2F0b3JGcm9tVHJhbnNpdGlvbil7dGhpcy5nbG9iZU1hdHJpeD1lLmNhbGN1bGF0ZUdsb2JlTWF0cml4KHRoaXMpO2NvbnN0IHQ9W3RoaXMuZ2xvYmVNYXRyaXhbMTJdLHRoaXMuZ2xvYmVNYXRyaXhbMTNdLHRoaXMuZ2xvYmVNYXRyaXhbMTRdXTt0aGlzLmdsb2JlQ2VudGVySW5WaWV3U3BhY2U9ZS50cmFuc2Zvcm1NYXQ0KHQsdCxyKSx0aGlzLmdsb2JlUmFkaXVzPXRoaXMud29ybGRTaXplLzIvTWF0aC5QSS0xfWVsc2UgdGhpcy5nbG9iZU1hdHJpeD1hO3RoaXMuX3Byb2pNYXRyaXhDYWNoZT17fSx0aGlzLl9hbGlnbmVkUHJvak1hdHJpeENhY2hlPXt9LHRoaXMuX3BpeGVsc1RvVGlsZVVuaXRzQ2FjaGU9e319X2NhbGNGb2dNYXRyaWNlcygpe3RoaXMuX2ZvZ1RpbGVNYXRyaXhDYWNoZT17fTtjb25zdCB0PXRoaXMuY2FtZXJhV29ybGRTaXplRm9yRm9nLG49dGhpcy5jYW1lcmFQaXhlbHNQZXJNZXRlcixpPXRoaXMuX2NhbWVyYS5wb3NpdGlvbixyPTEvdGhpcy5oZWlnaHQvdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxvPVt0LHQsbl07ZS5zY2FsZSQyKG8sbyxyKSxlLnNjYWxlJDIoaSxpLC0xKSxlLm11bHRpcGx5JDIoaSxpLG8pO2NvbnN0IGE9ZS5jcmVhdGUoKTtlLnRyYW5zbGF0ZShhLGEsaSksZS5zY2FsZShhLGEsbyksdGhpcy5tZXJjYXRvckZvZ01hdHJpeD1hLHRoaXMud29ybGRUb0ZvZ01hdHJpeD10aGlzLl9jYW1lcmEuZ2V0V29ybGRUb0NhbWVyYVBvc2l0aW9uKHQsbixyKX1fY29tcHV0ZUNhbWVyYVBvc2l0aW9uKGUpe2NvbnN0IHQ9KGU9ZXx8dGhpcy5waXhlbHNQZXJNZXRlcikvdGhpcy5waXhlbHNQZXJNZXRlcixuPXRoaXMuX2NhbWVyYS5mb3J3YXJkKCksaT10aGlzLnBvaW50LHI9dGhpcy5fbWVyY2F0b3JaZnJvbVpvb20odGhpcy5fc2VhTGV2ZWxab29tP3RoaXMuX3NlYUxldmVsWm9vbTp0aGlzLl96b29tKSp0LWUvdGhpcy53b3JsZFNpemUqdGhpcy5fY2VudGVyQWx0aXR1ZGU7cmV0dXJuW2kueC90aGlzLndvcmxkU2l6ZS1uWzBdKnIsaS55L3RoaXMud29ybGRTaXplLW5bMV0qcixlL3RoaXMud29ybGRTaXplKnRoaXMuX2NlbnRlckFsdGl0dWRlLW5bMl0qcl19X3VwZGF0ZUNhbWVyYVN0YXRlKCl7dGhpcy5oZWlnaHQmJih0aGlzLl9jYW1lcmEuc2V0UGl0Y2hCZWFyaW5nKHRoaXMuX3BpdGNoLHRoaXMuYW5nbGUpLHRoaXMuX2NhbWVyYS5wb3NpdGlvbj10aGlzLl9jb21wdXRlQ2FtZXJhUG9zaXRpb24oKSl9X3RyYW5zbGF0ZUNhbWVyYUNvbnN0cmFpbmVkKHQpe2NvbnN0IG49dGhpcy5fbWF4Q2FtZXJhQm91bmRzRGlzdGFuY2UoKSpNYXRoLmNvcyh0aGlzLl9waXRjaCksaT10aGlzLl9jYW1lcmEucG9zaXRpb25bMl0scj10WzJdO2xldCBvPTE7dGhpcy5wcm9qZWN0aW9uLndyYXAmJih0aGlzLmNlbnRlcj10aGlzLmNlbnRlci53cmFwKCkpLHI+MCYmKG89TWF0aC5taW4oKG4taSkvciwxKSksdGhpcy5fY2FtZXJhLnBvc2l0aW9uPWUuc2NhbGVBbmRBZGQoW10sdGhpcy5fY2FtZXJhLnBvc2l0aW9uLHQsbyksdGhpcy5fdXBkYXRlU3RhdGVGcm9tQ2FtZXJhKCl9X3VwZGF0ZVN0YXRlRnJvbUNhbWVyYSgpe2NvbnN0IHQ9dGhpcy5fY2FtZXJhLnBvc2l0aW9uLG49dGhpcy5fY2FtZXJhLmZvcndhcmQoKSx7cGl0Y2g6aSxiZWFyaW5nOnJ9PXRoaXMuX2NhbWVyYS5nZXRQaXRjaEJlYXJpbmcoKSxvPWUubWVyY2F0b3JaZnJvbUFsdGl0dWRlKHRoaXMuX2NlbnRlckFsdGl0dWRlLHRoaXMuY2VudGVyLmxhdCkqdGhpcy5fcGl4ZWxzUGVyTWVyY2F0b3JQaXhlbCxhPXRoaXMuX21lcmNhdG9yWmZyb21ab29tKHRoaXMuX21heFpvb20pKk1hdGguY29zKGUuZGVnVG9SYWQodGhpcy5fbWF4UGl0Y2gpKSxzPU1hdGgubWF4KCh0WzJdLW8pL01hdGguY29zKGkpLGEpLGw9dGhpcy5fem9vbUZyb21NZXJjYXRvcloocyk7ZS5zY2FsZUFuZEFkZCh0LHQsbixzKSx0aGlzLl9waXRjaD1lLmNsYW1wKGksZS5kZWdUb1JhZCh0aGlzLm1pblBpdGNoKSxlLmRlZ1RvUmFkKHRoaXMubWF4UGl0Y2gpKSx0aGlzLmFuZ2xlPWUud3JhcChyLC1NYXRoLlBJLE1hdGguUEkpLHRoaXMuX3NldFpvb20oZS5jbGFtcChsLHRoaXMuX21pblpvb20sdGhpcy5fbWF4Wm9vbSkpLHRoaXMuX3VwZGF0ZVNlYUxldmVsWm9vbSgpLHRoaXMuX2NlbnRlcj10aGlzLmNvb3JkaW5hdGVMb2NhdGlvbihuZXcgZS5NZXJjYXRvckNvb3JkaW5hdGUodFswXSx0WzFdLHRbMl0pKSx0aGlzLl91bm1vZGlmaWVkPSExLHRoaXMuX2NvbnN0cmFpbigpLHRoaXMuX2NhbGNNYXRyaWNlcygpfV93b3JsZFNpemVGcm9tWm9vbShlKXtyZXR1cm4gTWF0aC5wb3coMixlKSp0aGlzLnRpbGVTaXplfV9tZXJjYXRvclpmcm9tWm9vbShlKXtyZXR1cm4gdGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlL3RoaXMuX3dvcmxkU2l6ZUZyb21ab29tKGUpfV9taW5pbXVtSGVpZ2h0T3ZlclRlcnJhaW4oKXtjb25zdCBlPU1hdGgubWluKChudWxsIT10aGlzLl9zZWFMZXZlbFpvb20/dGhpcy5fc2VhTGV2ZWxab29tOnRoaXMuX3pvb20pKzQsdGhpcy5fbWF4Wm9vbSk7cmV0dXJuIHRoaXMuX21lcmNhdG9yWmZyb21ab29tKGUpfV96b29tRnJvbU1lcmNhdG9yWihlKXtyZXR1cm4gdGhpcy5zY2FsZVpvb20odGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlLyhlKnRoaXMudGlsZVNpemUpKX16b29tRnJvbU1lcmNhdG9yWkFkanVzdGVkKGUpe2NvbnN0IHQ9dD0+e2NvbnN0IG49dGhpcy5nZXRDYW1lcmFUb0NlbnRlckRpc3RhbmNlKHRoaXMucHJvamVjdGlvbix0KTtyZXR1cm4gdGhpcy5zY2FsZVpvb20obi8oZSp0aGlzLnRpbGVTaXplKSl9O2xldCBuLGk9dCh0aGlzLnpvb20pLHI9TWF0aC5hYnMoaS10KGkpKTtmb3IoO24hPT1yOylpPXQoaSksbj1yLHI9TWF0aC5hYnMoaS10KGkpKTtyZXR1cm4gaX1fdGVycmFpbkVuYWJsZWQoKXtyZXR1cm4hKCF0aGlzLl9lbGV2YXRpb258fCF0aGlzLnByb2plY3Rpb24uc3VwcG9ydHNUZXJyYWluJiYoZS53YXJuT25jZShcIlRlcnJhaW4gaXMgbm90IHlldCBzdXBwb3J0ZWQgd2l0aCBhbHRlcm5hdGUgcHJvamVjdGlvbnMuIFVzZSBtZXJjYXRvciBvciBnbG9iZSB0byBlbmFibGUgdGVycmFpbi5cIiksMSkpfWFueUNvcm5lck9mZkVkZ2UodCxuKXtjb25zdCBpPU1hdGgubWluKHQueCxuLngpLHI9TWF0aC5tYXgodC54LG4ueCksbz1NYXRoLm1pbih0Lnksbi55KSxhPU1hdGgubWF4KHQueSxuLnkpO2lmKG88dGhpcy5ob3Jpem9uTGluZUZyb21Ub3AoITEpKXJldHVybiEwO2lmKFwibWVyY2F0b3JcIiE9PXRoaXMucHJvamVjdGlvbi5uYW1lKXJldHVybiExO2NvbnN0IHM9W25ldyBlLnBvaW50R2VvbWV0cnkoaSxvKSxuZXcgZS5wb2ludEdlb21ldHJ5KHIsYSksbmV3IGUucG9pbnRHZW9tZXRyeShpLGEpLG5ldyBlLnBvaW50R2VvbWV0cnkocixvKV0sbD10aGlzLnJlbmRlcldvcmxkQ29waWVzPy0zOjAsYz10aGlzLnJlbmRlcldvcmxkQ29waWVzPzQ6MTtmb3IoY29uc3QgZSBvZiBzKXtjb25zdCB0PXRoaXMucG9pbnRSYXlJbnRlcnNlY3Rpb24oZSk7aWYodC50PDApcmV0dXJuITA7Y29uc3Qgbj10aGlzLnJheUludGVyc2VjdGlvbkNvb3JkaW5hdGUodCk7aWYobi54PGx8fG4ueTwwfHxuLng+Y3x8bi55PjEpcmV0dXJuITB9cmV0dXJuITF9aXNIb3Jpem9uVmlzaWJsZSgpe3JldHVybiB0aGlzLnBpdGNoK2UucmFkVG9EZWcodGhpcy5mb3ZBYm92ZUNlbnRlcik+ODh8fHRoaXMuYW55Q29ybmVyT2ZmRWRnZShuZXcgZS5wb2ludEdlb21ldHJ5KDAsMCksbmV3IGUucG9pbnRHZW9tZXRyeSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSl9em9vbURlbHRhVG9Nb3ZlbWVudCh0LG4pe2NvbnN0IGk9ZS5sZW5ndGgoZS5zdWIoW10sdGhpcy5fY2FtZXJhLnBvc2l0aW9uLHQpKSxyPXRoaXMuX3pvb21Gcm9tTWVyY2F0b3JaKGkpK247cmV0dXJuIGktdGhpcy5fbWVyY2F0b3JaZnJvbVpvb20ocil9Z2V0Q2FtZXJhUG9pbnQoKXtpZihcImdsb2JlXCI9PT10aGlzLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgdD1mdW5jdGlvbihbdCxuLGldLHIpe2NvbnN0IG89W3QsbixpLDFdO2UudHJhbnNmb3JtTWF0NCQxKG8sbyxyKTtjb25zdCBhPW9bM109TWF0aC5tYXgob1szXSwxZS02KTtyZXR1cm4gb1swXS89YSxvWzFdLz1hLG9bMl0vPWEsb30oW3RoaXMuZ2xvYmVNYXRyaXhbMTJdLHRoaXMuZ2xvYmVNYXRyaXhbMTNdLHRoaXMuZ2xvYmVNYXRyaXhbMTRdXSx0aGlzLnBpeGVsTWF0cml4KTtyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSh0WzBdLHRbMV0pfXtjb25zdCB0PU1hdGgudGFuKHRoaXMuX3BpdGNoKSoodGhpcy5jYW1lcmFUb0NlbnRlckRpc3RhbmNlfHwxKTtyZXR1cm4gdGhpcy5jZW50ZXJQb2ludC5hZGQobmV3IGUucG9pbnRHZW9tZXRyeSgwLHQpKX19Z2V0Q2FtZXJhVG9DZW50ZXJEaXN0YW5jZShlLHQ9dGhpcy56b29tKXtjb25zdCBuPVdpKGUsdCx0aGlzLndpZHRoLHRoaXMuaGVpZ2h0LDEwMjQpLGk9ZS5waXhlbFNwYWNlQ29udmVyc2lvbih0aGlzLmNlbnRlci5sYXQsdGhpcy53b3JsZFNpemUsbik7cmV0dXJuLjUvTWF0aC50YW4oLjUqdGhpcy5fZm92KSp0aGlzLmhlaWdodCppfWdldFdvcmxkVG9DYW1lcmFNYXRyaXgoKXtjb25zdCB0PXRoaXMuX2NhbWVyYS5nZXRXb3JsZFRvQ2FtZXJhKHRoaXMud29ybGRTaXplLFwibWV0ZXJzXCI9PT10aGlzLnByb2plY3Rpb24uekF4aXNVbml0P3RoaXMucGl4ZWxzUGVyTWV0ZXI6MSk7cmV0dXJuXCJnbG9iZVwiPT09dGhpcy5wcm9qZWN0aW9uLm5hbWUmJmUubXVsdGlwbHkodCx0LHRoaXMuZ2xvYmVNYXRyaXgpLHR9fWZ1bmN0aW9uIFlpKGUsdCl7bGV0IG49ITEsaT1udWxsO2NvbnN0IHI9KCk9PntpPW51bGwsbiYmKGUoKSxpPXNldFRpbWVvdXQocix0KSxuPSExKX07cmV0dXJuKCk9PihuPSEwLGl8fHIoKSxpKX1jbGFzcyBKaXtjb25zdHJ1Y3Rvcih0KXt0aGlzLl9oYXNoTmFtZT10JiZlbmNvZGVVUklDb21wb25lbnQodCksZS5iaW5kQWxsKFtcIl9nZXRDdXJyZW50SGFzaFwiLFwiX29uSGFzaENoYW5nZVwiLFwiX3VwZGF0ZUhhc2hcIl0sdGhpcyksdGhpcy5fdXBkYXRlSGFzaD1ZaSh0aGlzLl91cGRhdGVIYXNoVW50aHJvdHRsZWQuYmluZCh0aGlzKSwzMDApfWFkZFRvKHQpe3JldHVybiB0aGlzLl9tYXA9dCxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHRoaXMuX29uSGFzaENoYW5nZSwhMSksdC5vbihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGVIYXNoKSx0aGlzfXJlbW92ZSgpe3JldHVybiB0aGlzLl9tYXA/KHRoaXMuX21hcC5vZmYoXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlSGFzaCksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImhhc2hjaGFuZ2VcIix0aGlzLl9vbkhhc2hDaGFuZ2UsITEpLGNsZWFyVGltZW91dCh0aGlzLl91cGRhdGVIYXNoKCkpLHRoaXMuX21hcD12b2lkIDAsdGhpcyk6dGhpc31nZXRIYXNoU3RyaW5nKCl7Y29uc3QgdD10aGlzLl9tYXA7aWYoIXQpcmV0dXJuXCJcIjtjb25zdCBuPVFpKHQpO2lmKHRoaXMuX2hhc2hOYW1lKXtjb25zdCB0PXRoaXMuX2hhc2hOYW1lO2xldCBpPSExO2NvbnN0IHI9ZS53aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKS5zcGxpdChcIiZcIikubWFwKGU9Pntjb25zdCByPWUuc3BsaXQoXCI9XCIpWzBdO3JldHVybiByPT09dD8oaT0hMCxgJHtyfT0ke259YCk6ZX0pLmZpbHRlcihlPT5lKTtyZXR1cm4gaXx8ci5wdXNoKGAke3R9PSR7bn1gKSxcIiNcIityLmpvaW4oXCImXCIpfXJldHVyblwiI1wiK259X2dldEN1cnJlbnRIYXNoKCl7Y29uc3QgdD1lLndpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoXCIjXCIsXCJcIik7aWYodGhpcy5faGFzaE5hbWUpe2xldCBlO3JldHVybiB0LnNwbGl0KFwiJlwiKS5tYXAoZT0+ZS5zcGxpdChcIj1cIikpLmZvckVhY2godD0+e3RbMF09PT10aGlzLl9oYXNoTmFtZSYmKGU9dCl9KSwoZSYmZVsxXXx8XCJcIikuc3BsaXQoXCIvXCIpfXJldHVybiB0LnNwbGl0KFwiL1wiKX1fb25IYXNoQ2hhbmdlKCl7Y29uc3QgZT10aGlzLl9tYXA7aWYoIWUpcmV0dXJuITE7Y29uc3QgdD10aGlzLl9nZXRDdXJyZW50SGFzaCgpO2lmKHQubGVuZ3RoPj0zJiYhdC5zb21lKGU9PmlzTmFOKGUpKSl7Y29uc3Qgbj1lLmRyYWdSb3RhdGUuaXNFbmFibGVkKCkmJmUudG91Y2hab29tUm90YXRlLmlzRW5hYmxlZCgpPysodFszXXx8MCk6ZS5nZXRCZWFyaW5nKCk7cmV0dXJuIGUuanVtcFRvKHtjZW50ZXI6Wyt0WzJdLCt0WzFdXSx6b29tOit0WzBdLGJlYXJpbmc6bixwaXRjaDorKHRbNF18fDApfSksITB9cmV0dXJuITF9X3VwZGF0ZUhhc2hVbnRocm90dGxlZCgpe2NvbnN0IHQ9ZS53aW5kb3cubG9jYXRpb24uaHJlZi5yZXBsYWNlKC8oIy4rKT8kLyx0aGlzLmdldEhhc2hTdHJpbmcoKSk7ZS53aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoZS53aW5kb3cuaGlzdG9yeS5zdGF0ZSxudWxsLHQpfX1mdW5jdGlvbiBRaShlLHQpe2NvbnN0IG49ZS5nZXRDZW50ZXIoKSxpPU1hdGgucm91bmQoMTAwKmUuZ2V0Wm9vbSgpKS8xMDAscj1NYXRoLmNlaWwoKGkqTWF0aC5MTjIrTWF0aC5sb2coNTEyLzM2MC8uNSkpL01hdGguTE4xMCksbz1NYXRoLnBvdygxMCxyKSxhPU1hdGgucm91bmQobi5sbmcqbykvbyxzPU1hdGgucm91bmQobi5sYXQqbykvbyxsPWUuZ2V0QmVhcmluZygpLGM9ZS5nZXRQaXRjaCgpO2xldCB1PXQ/YC8ke2F9LyR7c30vJHtpfWA6YCR7aX0vJHtzfS8ke2F9YDtyZXR1cm4obHx8YykmJih1Kz1cIi9cIitNYXRoLnJvdW5kKDEwKmwpLzEwKSxjJiYodSs9XCIvXCIrTWF0aC5yb3VuZChjKSksdX1jb25zdCBLaT17bGluZWFyaXR5Oi4zLGVhc2luZzplLmJlemllcigwLDAsLjMsMSl9LGVyPWUuZXh0ZW5kKHtkZWNlbGVyYXRpb246MjUwMCxtYXhTcGVlZDoxNDAwfSxLaSksdHI9ZS5leHRlbmQoe2RlY2VsZXJhdGlvbjoyMCxtYXhTcGVlZDoxNDAwfSxLaSksbnI9ZS5leHRlbmQoe2RlY2VsZXJhdGlvbjoxZTMsbWF4U3BlZWQ6MzYwfSxLaSksaXI9ZS5leHRlbmQoe2RlY2VsZXJhdGlvbjoxZTMsbWF4U3BlZWQ6OTB9LEtpKTtjbGFzcyBycntjb25zdHJ1Y3RvcihlKXt0aGlzLl9tYXA9ZSx0aGlzLmNsZWFyKCl9Y2xlYXIoKXt0aGlzLl9pbmVydGlhQnVmZmVyPVtdfXJlY29yZCh0KXt0aGlzLl9kcmFpbkluZXJ0aWFCdWZmZXIoKSx0aGlzLl9pbmVydGlhQnVmZmVyLnB1c2goe3RpbWU6ZS5leHBvcnRlZC5ub3coKSxzZXR0aW5nczp0fSl9X2RyYWluSW5lcnRpYUJ1ZmZlcigpe2NvbnN0IHQ9dGhpcy5faW5lcnRpYUJ1ZmZlcixuPWUuZXhwb3J0ZWQubm93KCk7Zm9yKDt0Lmxlbmd0aD4wJiZuLXRbMF0udGltZT4xNjA7KXQuc2hpZnQoKX1fb25Nb3ZlRW5kKHQpe2lmKHRoaXMuX2RyYWluSW5lcnRpYUJ1ZmZlcigpLHRoaXMuX2luZXJ0aWFCdWZmZXIubGVuZ3RoPDIpcmV0dXJuO2NvbnN0IG49e3pvb206MCxiZWFyaW5nOjAscGl0Y2g6MCxwYW46bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLHBpbmNoQXJvdW5kOnZvaWQgMCxhcm91bmQ6dm9pZCAwfTtmb3IoY29uc3R7c2V0dGluZ3M6ZX1vZiB0aGlzLl9pbmVydGlhQnVmZmVyKW4uem9vbSs9ZS56b29tRGVsdGF8fDAsbi5iZWFyaW5nKz1lLmJlYXJpbmdEZWx0YXx8MCxuLnBpdGNoKz1lLnBpdGNoRGVsdGF8fDAsZS5wYW5EZWx0YSYmbi5wYW4uX2FkZChlLnBhbkRlbHRhKSxlLmFyb3VuZCYmKG4uYXJvdW5kPWUuYXJvdW5kKSxlLnBpbmNoQXJvdW5kJiYobi5waW5jaEFyb3VuZD1lLnBpbmNoQXJvdW5kKTtjb25zdCBpPXRoaXMuX2luZXJ0aWFCdWZmZXJbdGhpcy5faW5lcnRpYUJ1ZmZlci5sZW5ndGgtMV0udGltZS10aGlzLl9pbmVydGlhQnVmZmVyWzBdLnRpbWUscj17fTtpZihuLnBhbi5tYWcoKSl7Y29uc3Qgbz1hcihuLnBhbi5tYWcoKSxpLGUuZXh0ZW5kKHt9LGVyLHR8fHt9KSk7ci5vZmZzZXQ9bi5wYW4ubXVsdChvLmFtb3VudC9uLnBhbi5tYWcoKSksci5jZW50ZXI9dGhpcy5fbWFwLnRyYW5zZm9ybS5jZW50ZXIsb3IocixvKX1pZihuLnpvb20pe2NvbnN0IGU9YXIobi56b29tLGksdHIpO3Iuem9vbT10aGlzLl9tYXAudHJhbnNmb3JtLnpvb20rZS5hbW91bnQsb3IocixlKX1pZihuLmJlYXJpbmcpe2NvbnN0IHQ9YXIobi5iZWFyaW5nLGksbnIpO3IuYmVhcmluZz10aGlzLl9tYXAudHJhbnNmb3JtLmJlYXJpbmcrZS5jbGFtcCh0LmFtb3VudCwtMTc5LDE3OSksb3Iocix0KX1pZihuLnBpdGNoKXtjb25zdCBlPWFyKG4ucGl0Y2gsaSxpcik7ci5waXRjaD10aGlzLl9tYXAudHJhbnNmb3JtLnBpdGNoK2UuYW1vdW50LG9yKHIsZSl9aWYoci56b29tfHxyLmJlYXJpbmcpe2NvbnN0IGU9dm9pZCAwPT09bi5waW5jaEFyb3VuZD9uLmFyb3VuZDpuLnBpbmNoQXJvdW5kO3IuYXJvdW5kPWU/dGhpcy5fbWFwLnVucHJvamVjdChlKTp0aGlzLl9tYXAuZ2V0Q2VudGVyKCl9cmV0dXJuIHRoaXMuY2xlYXIoKSxyLm5vTW92ZVN0YXJ0PSEwLHJ9fWZ1bmN0aW9uIG9yKGUsdCl7KCFlLmR1cmF0aW9ufHxlLmR1cmF0aW9uPHQuZHVyYXRpb24pJiYoZS5kdXJhdGlvbj10LmR1cmF0aW9uLGUuZWFzaW5nPXQuZWFzaW5nKX1mdW5jdGlvbiBhcih0LG4saSl7Y29uc3R7bWF4U3BlZWQ6cixsaW5lYXJpdHk6byxkZWNlbGVyYXRpb246YX09aSxzPWUuY2xhbXAodCpvLyhuLzFlMyksLXIsciksbD1NYXRoLmFicyhzKS8oYSpvKTtyZXR1cm57ZWFzaW5nOmkuZWFzaW5nLGR1cmF0aW9uOjFlMypsLGFtb3VudDpzKihsLzIpfX1jbGFzcyBzciBleHRlbmRzIGUuRXZlbnR7cHJldmVudERlZmF1bHQoKXt0aGlzLl9kZWZhdWx0UHJldmVudGVkPSEwfWdldCBkZWZhdWx0UHJldmVudGVkKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWR9Y29uc3RydWN0b3IodCxuLGkscj17fSl7Y29uc3Qgbz1mKG4uZ2V0Q2FudmFzQ29udGFpbmVyKCksaSksYT1uLnVucHJvamVjdChvKTtzdXBlcih0LGUuZXh0ZW5kKHtwb2ludDpvLGxuZ0xhdDphLG9yaWdpbmFsRXZlbnQ6aX0scikpLHRoaXMuX2RlZmF1bHRQcmV2ZW50ZWQ9ITEsdGhpcy50YXJnZXQ9bn19Y2xhc3MgbHIgZXh0ZW5kcyBlLkV2ZW50e3ByZXZlbnREZWZhdWx0KCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMH1nZXQgZGVmYXVsdFByZXZlbnRlZCgpe3JldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkfWNvbnN0cnVjdG9yKHQsbixpKXtjb25zdCByPVwidG91Y2hlbmRcIj09PXQ/aS5jaGFuZ2VkVG91Y2hlczppLnRvdWNoZXMsbz1tKG4uZ2V0Q2FudmFzQ29udGFpbmVyKCksciksYT1vLm1hcChlPT5uLnVucHJvamVjdChlKSkscz1vLnJlZHVjZSgoZSx0LG4saSk9PmUuYWRkKHQuZGl2KGkubGVuZ3RoKSksbmV3IGUucG9pbnRHZW9tZXRyeSgwLDApKTtzdXBlcih0LHtwb2ludHM6byxwb2ludDpzLGxuZ0xhdHM6YSxsbmdMYXQ6bi51bnByb2plY3Qocyksb3JpZ2luYWxFdmVudDppfSksdGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMX19Y2xhc3MgY3IgZXh0ZW5kcyBlLkV2ZW50e3ByZXZlbnREZWZhdWx0KCl7dGhpcy5fZGVmYXVsdFByZXZlbnRlZD0hMH1nZXQgZGVmYXVsdFByZXZlbnRlZCgpe3JldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkfWNvbnN0cnVjdG9yKGUsdCxuKXtzdXBlcihlLHtvcmlnaW5hbEV2ZW50Om59KSx0aGlzLl9kZWZhdWx0UHJldmVudGVkPSExfX1jbGFzcyB1cntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX21hcD1lLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQuY2xpY2tUb2xlcmFuY2V9cmVzZXQoKXt0aGlzLl9tb3VzZWRvd25Qb3M9dm9pZCAwfXdoZWVsKGUpe3JldHVybiB0aGlzLl9maXJlUHJldmVudGFibGUobmV3IGNyKGUudHlwZSx0aGlzLl9tYXAsZSkpfW1vdXNlZG93bihlLHQpe3JldHVybiB0aGlzLl9tb3VzZWRvd25Qb3M9dCx0aGlzLl9maXJlUHJldmVudGFibGUobmV3IHNyKGUudHlwZSx0aGlzLl9tYXAsZSkpfW1vdXNldXAoZSl7dGhpcy5fbWFwLmZpcmUobmV3IHNyKGUudHlwZSx0aGlzLl9tYXAsZSkpfXByZWNsaWNrKHQpe2NvbnN0IG49ZS5leHRlbmQoe30sdCk7bi50eXBlPVwicHJlY2xpY2tcIix0aGlzLl9tYXAuZmlyZShuZXcgc3Iobi50eXBlLHRoaXMuX21hcCxuKSl9Y2xpY2soZSx0KXt0aGlzLl9tb3VzZWRvd25Qb3MmJnRoaXMuX21vdXNlZG93blBvcy5kaXN0KHQpPj10aGlzLl9jbGlja1RvbGVyYW5jZXx8KHRoaXMucHJlY2xpY2soZSksdGhpcy5fbWFwLmZpcmUobmV3IHNyKGUudHlwZSx0aGlzLl9tYXAsZSkpKX1kYmxjbGljayhlKXtyZXR1cm4gdGhpcy5fZmlyZVByZXZlbnRhYmxlKG5ldyBzcihlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZW92ZXIoZSl7dGhpcy5fbWFwLmZpcmUobmV3IHNyKGUudHlwZSx0aGlzLl9tYXAsZSkpfW1vdXNlb3V0KGUpe3RoaXMuX21hcC5maXJlKG5ldyBzcihlLnR5cGUsdGhpcy5fbWFwLGUpKX10b3VjaHN0YXJ0KGUpe3JldHVybiB0aGlzLl9maXJlUHJldmVudGFibGUobmV3IGxyKGUudHlwZSx0aGlzLl9tYXAsZSkpfXRvdWNobW92ZShlKXt0aGlzLl9tYXAuZmlyZShuZXcgbHIoZS50eXBlLHRoaXMuX21hcCxlKSl9dG91Y2hlbmQoZSl7dGhpcy5fbWFwLmZpcmUobmV3IGxyKGUudHlwZSx0aGlzLl9tYXAsZSkpfXRvdWNoY2FuY2VsKGUpe3RoaXMuX21hcC5maXJlKG5ldyBscihlLnR5cGUsdGhpcy5fbWFwLGUpKX1fZmlyZVByZXZlbnRhYmxlKGUpe2lmKHRoaXMuX21hcC5maXJlKGUpLGUuZGVmYXVsdFByZXZlbnRlZClyZXR1cm57fX1pc0VuYWJsZWQoKXtyZXR1cm4hMH1pc0FjdGl2ZSgpe3JldHVybiExfWVuYWJsZSgpe31kaXNhYmxlKCl7fX1jbGFzcyBocntjb25zdHJ1Y3RvcihlKXt0aGlzLl9tYXA9ZX1yZXNldCgpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU9ITEsdGhpcy5fY29udGV4dE1lbnVFdmVudD12b2lkIDB9bW91c2Vtb3ZlKGUpe3RoaXMuX21hcC5maXJlKG5ldyBzcihlLnR5cGUsdGhpcy5fbWFwLGUpKX1tb3VzZWRvd24oKXt0aGlzLl9kZWxheUNvbnRleHRNZW51PSEwfW1vdXNldXAoKXt0aGlzLl9kZWxheUNvbnRleHRNZW51PSExLHRoaXMuX2NvbnRleHRNZW51RXZlbnQmJih0aGlzLl9tYXAuZmlyZShuZXcgc3IoXCJjb250ZXh0bWVudVwiLHRoaXMuX21hcCx0aGlzLl9jb250ZXh0TWVudUV2ZW50KSksZGVsZXRlIHRoaXMuX2NvbnRleHRNZW51RXZlbnQpfWNvbnRleHRtZW51KGUpe3RoaXMuX2RlbGF5Q29udGV4dE1lbnU/dGhpcy5fY29udGV4dE1lbnVFdmVudD1lOnRoaXMuX21hcC5maXJlKG5ldyBzcihlLnR5cGUsdGhpcy5fbWFwLGUpKSx0aGlzLl9tYXAubGlzdGVucyhcImNvbnRleHRtZW51XCIpJiZlLnByZXZlbnREZWZhdWx0KCl9aXNFbmFibGVkKCl7cmV0dXJuITB9aXNBY3RpdmUoKXtyZXR1cm4hMX1lbmFibGUoKXt9ZGlzYWJsZSgpe319Y2xhc3MgZHJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9tYXA9ZSx0aGlzLl9lbD1lLmdldENhbnZhc0NvbnRhaW5lcigpLHRoaXMuX2NvbnRhaW5lcj1lLmdldENvbnRhaW5lcigpLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQuY2xpY2tUb2xlcmFuY2V8fDF9aXNFbmFibGVkKCl7cmV0dXJuISF0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuISF0aGlzLl9hY3RpdmV9ZW5hYmxlKCl7dGhpcy5pc0VuYWJsZWQoKXx8KHRoaXMuX2VuYWJsZWQ9ITApfWRpc2FibGUoKXt0aGlzLmlzRW5hYmxlZCgpJiYodGhpcy5fZW5hYmxlZD0hMSl9bW91c2Vkb3duKGUsdCl7dGhpcy5pc0VuYWJsZWQoKSYmZS5zaGlmdEtleSYmMD09PWUuYnV0dG9uJiYodSgpLHRoaXMuX3N0YXJ0UG9zPXRoaXMuX2xhc3RQb3M9dCx0aGlzLl9hY3RpdmU9ITApfW1vdXNlbW92ZVdpbmRvdyhlLHQpe2lmKCF0aGlzLl9hY3RpdmUpcmV0dXJuO2NvbnN0IG49dCxpPXRoaXMuX3N0YXJ0UG9zLHI9dGhpcy5fbGFzdFBvcztpZighaXx8IXJ8fHIuZXF1YWxzKG4pfHwhdGhpcy5fYm94JiZuLmRpc3QoaSk8dGhpcy5fY2xpY2tUb2xlcmFuY2UpcmV0dXJuO3RoaXMuX2xhc3RQb3M9bix0aGlzLl9ib3h8fCh0aGlzLl9ib3g9byhcImRpdlwiLFwibWFwYm94Z2wtYm94em9vbVwiLHRoaXMuX2NvbnRhaW5lciksdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jcm9zc2hhaXJcIiksdGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbXN0YXJ0XCIsZSkpO2NvbnN0IGE9TWF0aC5taW4oaS54LG4ueCkscz1NYXRoLm1heChpLngsbi54KSxsPU1hdGgubWluKGkueSxuLnkpLGM9TWF0aC5tYXgoaS55LG4ueSk7dGhpcy5fbWFwLl9yZXF1ZXN0RG9tVGFzaygoKT0+e3RoaXMuX2JveCYmKHRoaXMuX2JveC5zdHlsZS50cmFuc2Zvcm09YHRyYW5zbGF0ZSgke2F9cHgsJHtsfXB4KWAsdGhpcy5fYm94LnN0eWxlLndpZHRoPXMtYStcInB4XCIsdGhpcy5fYm94LnN0eWxlLmhlaWdodD1jLWwrXCJweFwiKX0pfW1vdXNldXBXaW5kb3codCxuKXtpZighdGhpcy5fYWN0aXZlKXJldHVybjtjb25zdCBpPXRoaXMuX3N0YXJ0UG9zLHI9bjtpZihpJiYwPT09dC5idXR0b24pe2lmKHRoaXMucmVzZXQoKSxwKCksaS54IT09ci54fHxpLnkhPT1yLnkpcmV0dXJuIHRoaXMuX21hcC5maXJlKG5ldyBlLkV2ZW50KFwiYm94em9vbWVuZFwiLHtvcmlnaW5hbEV2ZW50OnR9KSkse2NhbWVyYUFuaW1hdGlvbjplPT5lLmZpdFNjcmVlbkNvb3JkaW5hdGVzKGkscix0aGlzLl9tYXAuZ2V0QmVhcmluZygpLHtsaW5lYXI6ITF9KX07dGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbWNhbmNlbFwiLHQpfX1rZXlkb3duKGUpe3RoaXMuX2FjdGl2ZSYmMjc9PT1lLmtleUNvZGUmJih0aGlzLnJlc2V0KCksdGhpcy5fZmlyZUV2ZW50KFwiYm94em9vbWNhbmNlbFwiLGUpKX1ibHVyKCl7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3Jvc3NoYWlyXCIpLHRoaXMuX2JveCYmKHRoaXMuX2JveC5yZW1vdmUoKSx0aGlzLl9ib3g9bnVsbCksaCgpLGRlbGV0ZSB0aGlzLl9zdGFydFBvcyxkZWxldGUgdGhpcy5fbGFzdFBvc31fZmlyZUV2ZW50KHQsbil7cmV0dXJuIHRoaXMuX21hcC5maXJlKG5ldyBlLkV2ZW50KHQse29yaWdpbmFsRXZlbnQ6bn0pKX19ZnVuY3Rpb24gcHIoZSx0KXtjb25zdCBuPXt9O2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKW5bZVtpXS5pZGVudGlmaWVyXT10W2ldO3JldHVybiBufWNsYXNzIGZye2NvbnN0cnVjdG9yKGUpe3RoaXMucmVzZXQoKSx0aGlzLm51bVRvdWNoZXM9ZS5udW1Ub3VjaGVzfXJlc2V0KCl7dGhpcy5jZW50cm9pZD12b2lkIDAsdGhpcy5zdGFydFRpbWU9MCx0aGlzLnRvdWNoZXM9e30sdGhpcy5hYm9ydGVkPSExfXRvdWNoc3RhcnQodCxuLGkpeyh0aGlzLmNlbnRyb2lkfHxpLmxlbmd0aD50aGlzLm51bVRvdWNoZXMpJiYodGhpcy5hYm9ydGVkPSEwKSx0aGlzLmFib3J0ZWR8fCgwPT09dGhpcy5zdGFydFRpbWUmJih0aGlzLnN0YXJ0VGltZT10LnRpbWVTdGFtcCksaS5sZW5ndGg9PT10aGlzLm51bVRvdWNoZXMmJih0aGlzLmNlbnRyb2lkPWZ1bmN0aW9uKHQpe2NvbnN0IG49bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApO2Zvcihjb25zdCBlIG9mIHQpbi5fYWRkKGUpO3JldHVybiBuLmRpdih0Lmxlbmd0aCl9KG4pLHRoaXMudG91Y2hlcz1wcihpLG4pKSl9dG91Y2htb3ZlKGUsdCxuKXtpZih0aGlzLmFib3J0ZWR8fCF0aGlzLmNlbnRyb2lkKXJldHVybjtjb25zdCBpPXByKG4sdCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy50b3VjaGVzKXtjb25zdCB0PXRoaXMudG91Y2hlc1tlXSxuPWlbZV07KCFufHxuLmRpc3QodCk+MzApJiYodGhpcy5hYm9ydGVkPSEwKX19dG91Y2hlbmQoZSx0LG4pe2lmKCghdGhpcy5jZW50cm9pZHx8ZS50aW1lU3RhbXAtdGhpcy5zdGFydFRpbWU+NTAwKSYmKHRoaXMuYWJvcnRlZD0hMCksMD09PW4ubGVuZ3RoKXtjb25zdCBlPSF0aGlzLmFib3J0ZWQmJnRoaXMuY2VudHJvaWQ7aWYodGhpcy5yZXNldCgpLGUpcmV0dXJuIGV9fX1jbGFzcyBtcntjb25zdHJ1Y3RvcihlKXt0aGlzLnNpbmdsZVRhcD1uZXcgZnIoZSksdGhpcy5udW1UYXBzPWUubnVtVGFwcyx0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLmxhc3RUaW1lPTEvMCx0aGlzLmxhc3RUYXA9dm9pZCAwLHRoaXMuY291bnQ9MCx0aGlzLnNpbmdsZVRhcC5yZXNldCgpfXRvdWNoc3RhcnQoZSx0LG4pe3RoaXMuc2luZ2xlVGFwLnRvdWNoc3RhcnQoZSx0LG4pfXRvdWNobW92ZShlLHQsbil7dGhpcy5zaW5nbGVUYXAudG91Y2htb3ZlKGUsdCxuKX10b3VjaGVuZChlLHQsbil7Y29uc3QgaT10aGlzLnNpbmdsZVRhcC50b3VjaGVuZChlLHQsbik7aWYoaSl7Y29uc3QgdD1lLnRpbWVTdGFtcC10aGlzLmxhc3RUaW1lPDUwMCxuPSF0aGlzLmxhc3RUYXB8fHRoaXMubGFzdFRhcC5kaXN0KGkpPDMwO2lmKHQmJm58fHRoaXMucmVzZXQoKSx0aGlzLmNvdW50KyssdGhpcy5sYXN0VGltZT1lLnRpbWVTdGFtcCx0aGlzLmxhc3RUYXA9aSx0aGlzLmNvdW50PT09dGhpcy5udW1UYXBzKXJldHVybiB0aGlzLnJlc2V0KCksaX19fWNsYXNzIGdye2NvbnN0cnVjdG9yKCl7dGhpcy5fem9vbUluPW5ldyBtcih7bnVtVG91Y2hlczoxLG51bVRhcHM6Mn0pLHRoaXMuX3pvb21PdXQ9bmV3IG1yKHtudW1Ub3VjaGVzOjIsbnVtVGFwczoxfSksdGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX3pvb21Jbi5yZXNldCgpLHRoaXMuX3pvb21PdXQucmVzZXQoKX10b3VjaHN0YXJ0KGUsdCxuKXt0aGlzLl96b29tSW4udG91Y2hzdGFydChlLHQsbiksdGhpcy5fem9vbU91dC50b3VjaHN0YXJ0KGUsdCxuKX10b3VjaG1vdmUoZSx0LG4pe3RoaXMuX3pvb21Jbi50b3VjaG1vdmUoZSx0LG4pLHRoaXMuX3pvb21PdXQudG91Y2htb3ZlKGUsdCxuKX10b3VjaGVuZChlLHQsbil7Y29uc3QgaT10aGlzLl96b29tSW4udG91Y2hlbmQoZSx0LG4pLHI9dGhpcy5fem9vbU91dC50b3VjaGVuZChlLHQsbik7cmV0dXJuIGk/KHRoaXMuX2FjdGl2ZT0hMCxlLnByZXZlbnREZWZhdWx0KCksc2V0VGltZW91dCgoKT0+dGhpcy5yZXNldCgpLDApLHtjYW1lcmFBbmltYXRpb246dD0+dC5lYXNlVG8oe2R1cmF0aW9uOjMwMCx6b29tOnQuZ2V0Wm9vbSgpKzEsYXJvdW5kOnQudW5wcm9qZWN0KGkpfSx7b3JpZ2luYWxFdmVudDplfSl9KTpyPyh0aGlzLl9hY3RpdmU9ITAsZS5wcmV2ZW50RGVmYXVsdCgpLHNldFRpbWVvdXQoKCk9PnRoaXMucmVzZXQoKSwwKSx7Y2FtZXJhQW5pbWF0aW9uOnQ9PnQuZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTp0LmdldFpvb20oKS0xLGFyb3VuZDp0LnVucHJvamVjdChyKX0se29yaWdpbmFsRXZlbnQ6ZX0pfSk6dm9pZCAwfXRvdWNoY2FuY2VsKCl7dGhpcy5yZXNldCgpfWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITB9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19Y29uc3QgeXI9ezA6MSwyOjJ9O2NsYXNzIF9ye2NvbnN0cnVjdG9yKGUpe3RoaXMucmVzZXQoKSx0aGlzLl9jbGlja1RvbGVyYW5jZT1lLmNsaWNrVG9sZXJhbmNlfHwxfWJsdXIoKXt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fbW92ZWQ9ITEsdGhpcy5fbGFzdFBvaW50PXZvaWQgMCx0aGlzLl9ldmVudEJ1dHRvbj12b2lkIDB9X2NvcnJlY3RCdXR0b24oZSx0KXtyZXR1cm4hMX1fbW92ZShlLHQpe3JldHVybnt9fW1vdXNlZG93bihlLHQpe2lmKHRoaXMuX2xhc3RQb2ludClyZXR1cm47Y29uc3Qgbj1nKGUpO3RoaXMuX2NvcnJlY3RCdXR0b24oZSxuKSYmKHRoaXMuX2xhc3RQb2ludD10LHRoaXMuX2V2ZW50QnV0dG9uPW4pfW1vdXNlbW92ZVdpbmRvdyhlLHQpe2NvbnN0IG49dGhpcy5fbGFzdFBvaW50O2lmKG4paWYoZS5wcmV2ZW50RGVmYXVsdCgpLG51bGwhPXRoaXMuX2V2ZW50QnV0dG9uJiZmdW5jdGlvbihlLHQpe2NvbnN0IG49eXJbdF07cmV0dXJuIHZvaWQgMD09PWUuYnV0dG9uc3x8KGUuYnV0dG9ucyZuKSE9PW59KGUsdGhpcy5fZXZlbnRCdXR0b24pKXRoaXMucmVzZXQoKTtlbHNlIGlmKHRoaXMuX21vdmVkfHwhKHQuZGlzdChuKTx0aGlzLl9jbGlja1RvbGVyYW5jZSkpcmV0dXJuIHRoaXMuX21vdmVkPSEwLHRoaXMuX2xhc3RQb2ludD10LHRoaXMuX21vdmUobix0KX1tb3VzZXVwV2luZG93KGUpe3RoaXMuX2xhc3RQb2ludCYmZyhlKT09PXRoaXMuX2V2ZW50QnV0dG9uJiYodGhpcy5fbW92ZWQmJnAoKSx0aGlzLnJlc2V0KCkpfWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITB9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19Y2xhc3MgdnIgZXh0ZW5kcyBfcnttb3VzZWRvd24oZSx0KXtzdXBlci5tb3VzZWRvd24oZSx0KSx0aGlzLl9sYXN0UG9pbnQmJih0aGlzLl9hY3RpdmU9ITApfV9jb3JyZWN0QnV0dG9uKGUsdCl7cmV0dXJuIDA9PT10JiYhZS5jdHJsS2V5fV9tb3ZlKGUsdCl7cmV0dXJue2Fyb3VuZDp0LHBhbkRlbHRhOnQuc3ViKGUpfX19Y2xhc3MgeHIgZXh0ZW5kcyBfcntfY29ycmVjdEJ1dHRvbihlLHQpe3JldHVybiAwPT09dCYmZS5jdHJsS2V5fHwyPT09dH1fbW92ZShlLHQpe2NvbnN0IG49LjgqKHQueC1lLngpO2lmKG4pcmV0dXJuIHRoaXMuX2FjdGl2ZT0hMCx7YmVhcmluZ0RlbHRhOm59fWNvbnRleHRtZW51KGUpe2UucHJldmVudERlZmF1bHQoKX19Y2xhc3MgYnIgZXh0ZW5kcyBfcntfY29ycmVjdEJ1dHRvbihlLHQpe3JldHVybiAwPT09dCYmZS5jdHJsS2V5fHwyPT09dH1fbW92ZShlLHQpe2NvbnN0IG49LS41Kih0LnktZS55KTtpZihuKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse3BpdGNoRGVsdGE6bn19Y29udGV4dG1lbnUoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpfX1jbGFzcyB3cntjb25zdHJ1Y3Rvcih0LG4pe3RoaXMuX21hcD10LHRoaXMuX2VsPXQuZ2V0Q2FudmFzQ29udGFpbmVyKCksdGhpcy5fbWluVG91Y2hlcz0xLHRoaXMuX2NsaWNrVG9sZXJhbmNlPW4uY2xpY2tUb2xlcmFuY2V8fDEsdGhpcy5yZXNldCgpLGUuYmluZEFsbChbXCJfYWRkVG91Y2hQYW5CbG9ja2VyXCIsXCJfc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0XCJdLHRoaXMpfXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX3RvdWNoZXM9e30sdGhpcy5fc3VtPW5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKX10b3VjaHN0YXJ0KGUsdCxuKXtyZXR1cm4gdGhpcy5fY2FsY3VsYXRlVHJhbnNmb3JtKGUsdCxuKX10b3VjaG1vdmUodCxuLGkpe2lmKHRoaXMuX2FjdGl2ZSYmIShpLmxlbmd0aDx0aGlzLl9taW5Ub3VjaGVzKSl7aWYodGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYhdGhpcy5fbWFwLmlzTW92aW5nKCkpe2lmKDE9PT1pLmxlbmd0aCYmIWUuaXNGdWxsc2NyZWVuKCkpcmV0dXJuIHZvaWQgdGhpcy5fc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCk7XCJoaWRkZW5cIiE9PXRoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkmJih0aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpKX1yZXR1cm4gdC5jYW5jZWxhYmxlJiZ0LnByZXZlbnREZWZhdWx0KCksdGhpcy5fY2FsY3VsYXRlVHJhbnNmb3JtKHQsbixpKX19dG91Y2hlbmQoZSx0LG4pe3RoaXMuX2NhbGN1bGF0ZVRyYW5zZm9ybShlLHQsbiksdGhpcy5fYWN0aXZlJiZuLmxlbmd0aDx0aGlzLl9taW5Ub3VjaGVzJiZ0aGlzLnJlc2V0KCl9dG91Y2hjYW5jZWwoKXt0aGlzLnJlc2V0KCl9X2NhbGN1bGF0ZVRyYW5zZm9ybSh0LG4saSl7aS5sZW5ndGg+MCYmKHRoaXMuX2FjdGl2ZT0hMCk7Y29uc3Qgcj1wcihpLG4pLG89bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApLGE9bmV3IGUucG9pbnRHZW9tZXRyeSgwLDApO2xldCBzPTA7Zm9yKGNvbnN0IGUgaW4gcil7Y29uc3QgdD1yW2VdLG49dGhpcy5fdG91Y2hlc1tlXTtuJiYoby5fYWRkKHQpLGEuX2FkZCh0LnN1YihuKSkscysrLHJbZV09dCl9aWYodGhpcy5fdG91Y2hlcz1yLHM8dGhpcy5fbWluVG91Y2hlc3x8IWEubWFnKCkpcmV0dXJuO2NvbnN0IGw9YS5kaXYocyk7cmV0dXJuIHRoaXMuX3N1bS5fYWRkKGwpLHRoaXMuX3N1bS5tYWcoKTx0aGlzLl9jbGlja1RvbGVyYW5jZT92b2lkIDA6e2Fyb3VuZDpvLmRpdihzKSxwYW5EZWx0YTpsfX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwLHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyYmKHRoaXMuX2FkZFRvdWNoUGFuQmxvY2tlcigpLHRoaXMuX2VsLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1vdmVycmlkZVwiLFwibWFwYm94Z2wtc2Nyb2xsYWJsZS1wYWdlXCIpKX1kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLl9tYXAuX2Nvb3BlcmF0aXZlR2VzdHVyZXMmJihjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lciksdGhpcy5fYWxlcnRDb250YWluZXIucmVtb3ZlKCksdGhpcy5fZWwuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyLW92ZXJyaWRlXCIsXCJtYXBib3hnbC1zY3JvbGxhYmxlLXBhZ2VcIikpLHRoaXMucmVzZXQoKX1pc0VuYWJsZWQoKXtyZXR1cm4hIXRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4hIXRoaXMuX2FjdGl2ZX1fYWRkVG91Y2hQYW5CbG9ja2VyKCl7dGhpcy5fbWFwJiYhdGhpcy5fYWxlcnRDb250YWluZXImJih0aGlzLl9hbGVydENvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlclwiLHRoaXMuX21hcC5fY29udGFpbmVyKSx0aGlzLl9hbGVydENvbnRhaW5lci50ZXh0Q29udGVudD10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiVG91Y2hQYW5CbG9ja2VyLk1lc3NhZ2VcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUuZm9udFNpemU9TWF0aC5tYXgoMTAsTWF0aC5taW4oMjQsTWF0aC5mbG9vciguMDUqdGhpcy5fZWwuY2xpZW50V2lkdGgpKSkrXCJweFwiKX1fc2hvd1RvdWNoUGFuQmxvY2tlckFsZXJ0KCl7dGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1cInZpc2libGVcIix0aGlzLl9hbGVydENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtcGFuLWJsb2NrZXItc2hvd1wiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhbGVydFwiKSxjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lciksdGhpcy5fYWxlcnRUaW1lcj1zZXRUaW1lb3V0KCgpPT57dGhpcy5fYWxlcnRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyLXNob3dcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwibnVsbFwiKX0sNTAwKX19Y2xhc3MgVHJ7Y29uc3RydWN0b3IoKXt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITEsdGhpcy5fZmlyc3RUd29Ub3VjaGVzPXZvaWQgMH1fc3RhcnQoZSl7fV9tb3ZlKGUsdCxuKXtyZXR1cm57fX10b3VjaHN0YXJ0KGUsdCxuKXt0aGlzLl9maXJzdFR3b1RvdWNoZXN8fG4ubGVuZ3RoPDJ8fCh0aGlzLl9maXJzdFR3b1RvdWNoZXM9W25bMF0uaWRlbnRpZmllcixuWzFdLmlkZW50aWZpZXJdLHRoaXMuX3N0YXJ0KFt0WzBdLHRbMV1dKSl9dG91Y2htb3ZlKGUsdCxuKXtjb25zdCBpPXRoaXMuX2ZpcnN0VHdvVG91Y2hlcztpZighaSlyZXR1cm47ZS5wcmV2ZW50RGVmYXVsdCgpO2NvbnN0W3Isb109aSxhPUVyKG4sdCxyKSxzPUVyKG4sdCxvKTtpZighYXx8IXMpcmV0dXJuO2NvbnN0IGw9dGhpcy5fYXJvdW5kQ2VudGVyP251bGw6YS5hZGQocykuZGl2KDIpO3JldHVybiB0aGlzLl9tb3ZlKFthLHNdLGwsZSl9dG91Y2hlbmQoZSx0LG4pe2lmKCF0aGlzLl9maXJzdFR3b1RvdWNoZXMpcmV0dXJuO2NvbnN0W2kscl09dGhpcy5fZmlyc3RUd29Ub3VjaGVzLG89RXIobix0LGkpLGE9RXIobix0LHIpO28mJmF8fCh0aGlzLl9hY3RpdmUmJnAoKSx0aGlzLnJlc2V0KCkpfXRvdWNoY2FuY2VsKCl7dGhpcy5yZXNldCgpfWVuYWJsZShlKXt0aGlzLl9lbmFibGVkPSEwLHRoaXMuX2Fyb3VuZENlbnRlcj0hIWUmJlwiY2VudGVyXCI9PT1lLmFyb3VuZH1kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCl9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfX1mdW5jdGlvbiBFcihlLHQsbil7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXS5pZGVudGlmaWVyPT09bilyZXR1cm4gdFtpXX1mdW5jdGlvbiBTcihlLHQpe3JldHVybiBNYXRoLmxvZyhlL3QpL01hdGguTE4yfWNsYXNzIE1yIGV4dGVuZHMgVHJ7cmVzZXQoKXtzdXBlci5yZXNldCgpLHRoaXMuX2Rpc3RhbmNlPTAsdGhpcy5fc3RhcnREaXN0YW5jZT0wfV9zdGFydChlKXt0aGlzLl9zdGFydERpc3RhbmNlPXRoaXMuX2Rpc3RhbmNlPWVbMF0uZGlzdChlWzFdKX1fbW92ZShlLHQpe2NvbnN0IG49dGhpcy5fZGlzdGFuY2U7aWYodGhpcy5fZGlzdGFuY2U9ZVswXS5kaXN0KGVbMV0pLHRoaXMuX2FjdGl2ZXx8IShNYXRoLmFicyhTcih0aGlzLl9kaXN0YW5jZSx0aGlzLl9zdGFydERpc3RhbmNlKSk8LjEpKXJldHVybiB0aGlzLl9hY3RpdmU9ITAse3pvb21EZWx0YTpTcih0aGlzLl9kaXN0YW5jZSxuKSxwaW5jaEFyb3VuZDp0fX19ZnVuY3Rpb24gSXIoZSx0KXtyZXR1cm4gMTgwKmUuYW5nbGVXaXRoKHQpL01hdGguUEl9Y2xhc3MgQ3IgZXh0ZW5kcyBUcntyZXNldCgpe3N1cGVyLnJlc2V0KCksdGhpcy5fbWluRGlhbWV0ZXI9MCx0aGlzLl9zdGFydFZlY3Rvcj12b2lkIDAsdGhpcy5fdmVjdG9yPXZvaWQgMH1fc3RhcnQoZSl7dGhpcy5fc3RhcnRWZWN0b3I9dGhpcy5fdmVjdG9yPWVbMF0uc3ViKGVbMV0pLHRoaXMuX21pbkRpYW1ldGVyPWVbMF0uZGlzdChlWzFdKX1fbW92ZShlLHQpe2NvbnN0IG49dGhpcy5fdmVjdG9yO2lmKHRoaXMuX3ZlY3Rvcj1lWzBdLnN1YihlWzFdKSxuJiYodGhpcy5fYWN0aXZlfHwhdGhpcy5faXNCZWxvd1RocmVzaG9sZCh0aGlzLl92ZWN0b3IpKSlyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHtiZWFyaW5nRGVsdGE6SXIodGhpcy5fdmVjdG9yLG4pLHBpbmNoQXJvdW5kOnR9fV9pc0JlbG93VGhyZXNob2xkKGUpe3RoaXMuX21pbkRpYW1ldGVyPU1hdGgubWluKHRoaXMuX21pbkRpYW1ldGVyLGUubWFnKCkpO2NvbnN0IHQ9MjUvKE1hdGguUEkqdGhpcy5fbWluRGlhbWV0ZXIpKjM2MCxuPXRoaXMuX3N0YXJ0VmVjdG9yO2lmKCFuKXJldHVybiExO2NvbnN0IGk9SXIoZSxuKTtyZXR1cm4gTWF0aC5hYnMoaSk8dH19ZnVuY3Rpb24ga3IoZSl7cmV0dXJuIE1hdGguYWJzKGUueSk+TWF0aC5hYnMoZS54KX1jbGFzcyBBciBleHRlbmRzIFRye2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksdGhpcy5fbWFwPWV9cmVzZXQoKXtzdXBlci5yZXNldCgpLHRoaXMuX3ZhbGlkPXZvaWQgMCx0aGlzLl9maXJzdE1vdmU9dm9pZCAwLHRoaXMuX2xhc3RQb2ludHM9dm9pZCAwfV9zdGFydChlKXt0aGlzLl9sYXN0UG9pbnRzPWUsa3IoZVswXS5zdWIoZVsxXSkpJiYodGhpcy5fdmFsaWQ9ITEpfV9tb3ZlKHQsbixpKXtjb25zdCByPXRoaXMuX2xhc3RQb2ludHM7aWYoIXIpcmV0dXJuO2NvbnN0IG89dFswXS5zdWIoclswXSksYT10WzFdLnN1YihyWzFdKTtyZXR1cm4gdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYhZS5pc0Z1bGxzY3JlZW4oKSYmaS50b3VjaGVzLmxlbmd0aDwzfHwodGhpcy5fdmFsaWQ9dGhpcy5nZXN0dXJlQmVnaW5zVmVydGljYWxseShvLGEsaS50aW1lU3RhbXApLCF0aGlzLl92YWxpZCk/dm9pZCAwOih0aGlzLl9sYXN0UG9pbnRzPXQsdGhpcy5fYWN0aXZlPSEwLHtwaXRjaERlbHRhOihvLnkrYS55KS8yKi0uNX0pfWdlc3R1cmVCZWdpbnNWZXJ0aWNhbGx5KGUsdCxuKXtpZih2b2lkIDAhPT10aGlzLl92YWxpZClyZXR1cm4gdGhpcy5fdmFsaWQ7Y29uc3QgaT1lLm1hZygpPj0yLHI9dC5tYWcoKT49MjtpZighaSYmIXIpcmV0dXJuO2lmKCFpfHwhcilyZXR1cm4gbnVsbD09dGhpcy5fZmlyc3RNb3ZlJiYodGhpcy5fZmlyc3RNb3ZlPW4pLG4tdGhpcy5fZmlyc3RNb3ZlPDEwMCYmdm9pZCAwO2NvbnN0IG89ZS55PjA9PXQueT4wO3JldHVybiBrcihlKSYma3IodCkmJm99fWNvbnN0IFByPXtwYW5TdGVwOjEwMCxiZWFyaW5nU3RlcDoxNSxwaXRjaFN0ZXA6MTB9O2NsYXNzIHpye2NvbnN0cnVjdG9yKCl7Y29uc3QgZT1Qcjt0aGlzLl9wYW5TdGVwPWUucGFuU3RlcCx0aGlzLl9iZWFyaW5nU3RlcD1lLmJlYXJpbmdTdGVwLHRoaXMuX3BpdGNoU3RlcD1lLnBpdGNoU3RlcCx0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExfWJsdXIoKXt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITF9a2V5ZG93bihlKXtpZihlLmFsdEtleXx8ZS5jdHJsS2V5fHxlLm1ldGFLZXkpcmV0dXJuO2xldCB0PTAsbj0wLGk9MCxyPTAsbz0wO3N3aXRjaChlLmtleUNvZGUpe2Nhc2UgNjE6Y2FzZSAxMDc6Y2FzZSAxNzE6Y2FzZSAxODc6dD0xO2JyZWFrO2Nhc2UgMTg5OmNhc2UgMTA5OmNhc2UgMTczOnQ9LTE7YnJlYWs7Y2FzZSAzNzplLnNoaWZ0S2V5P249LTE6KGUucHJldmVudERlZmF1bHQoKSxyPS0xKTticmVhaztjYXNlIDM5OmUuc2hpZnRLZXk/bj0xOihlLnByZXZlbnREZWZhdWx0KCkscj0xKTticmVhaztjYXNlIDM4OmUuc2hpZnRLZXk/aT0xOihlLnByZXZlbnREZWZhdWx0KCksbz0tMSk7YnJlYWs7Y2FzZSA0MDplLnNoaWZ0S2V5P2k9LTE6KGUucHJldmVudERlZmF1bHQoKSxvPTEpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufXJldHVybiB0aGlzLl9yb3RhdGlvbkRpc2FibGVkJiYobj0wLGk9MCkse2NhbWVyYUFuaW1hdGlvbjphPT57Y29uc3Qgcz1hLmdldFpvb20oKTthLmVhc2VUbyh7ZHVyYXRpb246MzAwLGVhc2VJZDpcImtleWJvYXJkSGFuZGxlclwiLGVhc2luZzpEcix6b29tOnQ/TWF0aC5yb3VuZChzKSt0KihlLnNoaWZ0S2V5PzI6MSk6cyxiZWFyaW5nOmEuZ2V0QmVhcmluZygpK24qdGhpcy5fYmVhcmluZ1N0ZXAscGl0Y2g6YS5nZXRQaXRjaCgpK2kqdGhpcy5fcGl0Y2hTdGVwLG9mZnNldDpbLXIqdGhpcy5fcGFuU3RlcCwtbyp0aGlzLl9wYW5TdGVwXSxjZW50ZXI6YS5nZXRDZW50ZXIoKX0se29yaWdpbmFsRXZlbnQ6ZX0pfX19ZW5hYmxlKCl7dGhpcy5fZW5hYmxlZD0hMH1kaXNhYmxlKCl7dGhpcy5fZW5hYmxlZD0hMSx0aGlzLnJlc2V0KCl9aXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfWRpc2FibGVSb3RhdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITB9ZW5hYmxlUm90YXRpb24oKXt0aGlzLl9yb3RhdGlvbkRpc2FibGVkPSExfX1mdW5jdGlvbiBEcihlKXtyZXR1cm4gZSooMi1lKX1jb25zdCBMcj00LjAwMDI0NDE0MDYyNTtjbGFzcyBPcntjb25zdHJ1Y3Rvcih0LG4pe3RoaXMuX21hcD10LHRoaXMuX2VsPXQuZ2V0Q2FudmFzQ29udGFpbmVyKCksdGhpcy5faGFuZGxlcj1uLHRoaXMuX2RlbHRhPTAsdGhpcy5fZGVmYXVsdFpvb21SYXRlPS4wMSx0aGlzLl93aGVlbFpvb21SYXRlPS4wMDIyMjIyMjIyMjIyMjIyMjIyLGUuYmluZEFsbChbXCJfb25UaW1lb3V0XCIsXCJfYWRkU2Nyb2xsWm9vbUJsb2NrZXJcIixcIl9zaG93QmxvY2tlckFsZXJ0XCJdLHRoaXMpfXNldFpvb21SYXRlKGUpe3RoaXMuX2RlZmF1bHRab29tUmF0ZT1lfXNldFdoZWVsWm9vbVJhdGUoZSl7dGhpcy5fd2hlZWxab29tUmF0ZT1lfWlzRW5hYmxlZCgpe3JldHVybiEhdGhpcy5fZW5hYmxlZH1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9hY3RpdmV8fHZvaWQgMCE9PXRoaXMuX2ZpbmlzaFRpbWVvdXR9aXNab29taW5nKCl7cmV0dXJuISF0aGlzLl96b29taW5nfWVuYWJsZShlKXt0aGlzLmlzRW5hYmxlZCgpfHwodGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9hcm91bmRDZW50ZXI9ISFlJiZcImNlbnRlclwiPT09ZS5hcm91bmQsdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiZ0aGlzLl9hZGRTY3JvbGxab29tQmxvY2tlcigpKX1kaXNhYmxlKCl7dGhpcy5pc0VuYWJsZWQoKSYmKHRoaXMuX2VuYWJsZWQ9ITEsdGhpcy5fbWFwLl9jb29wZXJhdGl2ZUdlc3R1cmVzJiYoY2xlYXJUaW1lb3V0KHRoaXMuX2FsZXJ0VGltZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnJlbW92ZSgpKSl9d2hlZWwodCl7aWYoIXRoaXMuaXNFbmFibGVkKCkpcmV0dXJuO2lmKHRoaXMuX21hcC5fY29vcGVyYXRpdmVHZXN0dXJlcyl7aWYoISh0LmN0cmxLZXl8fHQubWV0YUtleXx8dGhpcy5pc1pvb21pbmcoKXx8ZS5pc0Z1bGxzY3JlZW4oKSkpcmV0dXJuIHZvaWQgdGhpcy5fc2hvd0Jsb2NrZXJBbGVydCgpO1wiaGlkZGVuXCIhPT10aGlzLl9hbGVydENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5JiYodGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwiLGNsZWFyVGltZW91dCh0aGlzLl9hbGVydFRpbWVyKSl9bGV0IG49dC5kZWx0YU1vZGU9PT1lLndpbmRvdy5XaGVlbEV2ZW50LkRPTV9ERUxUQV9MSU5FPzQwKnQuZGVsdGFZOnQuZGVsdGFZO2NvbnN0IGk9ZS5leHBvcnRlZC5ub3coKSxyPWktKHRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZXx8MCk7dGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lPWksMCE9PW4mJm4lTHI9PTA/dGhpcy5fdHlwZT1cIndoZWVsXCI6MCE9PW4mJk1hdGguYWJzKG4pPDQ/dGhpcy5fdHlwZT1cInRyYWNrcGFkXCI6cj40MDA/KHRoaXMuX3R5cGU9bnVsbCx0aGlzLl9sYXN0VmFsdWU9bix0aGlzLl90aW1lb3V0PXNldFRpbWVvdXQodGhpcy5fb25UaW1lb3V0LDQwLHQpKTp0aGlzLl90eXBlfHwodGhpcy5fdHlwZT1NYXRoLmFicyhyKm4pPDIwMD9cInRyYWNrcGFkXCI6XCJ3aGVlbFwiLHRoaXMuX3RpbWVvdXQmJihjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCksdGhpcy5fdGltZW91dD1udWxsLG4rPXRoaXMuX2xhc3RWYWx1ZSkpLHQuc2hpZnRLZXkmJm4mJihuLz00KSx0aGlzLl90eXBlJiYodGhpcy5fbGFzdFdoZWVsRXZlbnQ9dCx0aGlzLl9kZWx0YS09bix0aGlzLl9hY3RpdmV8fHRoaXMuX3N0YXJ0KHQpKSx0LnByZXZlbnREZWZhdWx0KCl9X29uVGltZW91dChlKXt0aGlzLl90eXBlPVwid2hlZWxcIix0aGlzLl9kZWx0YS09dGhpcy5fbGFzdFZhbHVlLHRoaXMuX2FjdGl2ZXx8dGhpcy5fc3RhcnQoZSl9X3N0YXJ0KGUpe2lmKCF0aGlzLl9kZWx0YSlyZXR1cm47dGhpcy5fZnJhbWVJZCYmKHRoaXMuX2ZyYW1lSWQ9bnVsbCksdGhpcy5fYWN0aXZlPSEwLHRoaXMuaXNab29taW5nKCl8fCh0aGlzLl96b29taW5nPSEwKSx0aGlzLl9maW5pc2hUaW1lb3V0JiYoY2xlYXJUaW1lb3V0KHRoaXMuX2ZpbmlzaFRpbWVvdXQpLGRlbGV0ZSB0aGlzLl9maW5pc2hUaW1lb3V0KTtjb25zdCB0PWYodGhpcy5fZWwsZSk7dGhpcy5fYXJvdW5kUG9pbnQ9dGhpcy5fYXJvdW5kQ2VudGVyP3RoaXMuX21hcC50cmFuc2Zvcm0uY2VudGVyUG9pbnQ6dCx0aGlzLl9hcm91bmRDb29yZD10aGlzLl9tYXAudHJhbnNmb3JtLnBvaW50Q29vcmRpbmF0ZTNEKHRoaXMuX2Fyb3VuZFBvaW50KSx0aGlzLl90YXJnZXRab29tPXZvaWQgMCx0aGlzLl9mcmFtZUlkfHwodGhpcy5fZnJhbWVJZD0hMCx0aGlzLl9oYW5kbGVyLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSl9cmVuZGVyRnJhbWUoKXtpZighdGhpcy5fZnJhbWVJZClyZXR1cm47aWYodGhpcy5fZnJhbWVJZD1udWxsLCF0aGlzLmlzQWN0aXZlKCkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fbWFwLnRyYW5zZm9ybTtcIndoZWVsXCI9PT10aGlzLl90eXBlJiZ0LnByb2plY3Rpb24ud3JhcCYmKHQuX2NlbnRlci5sbmc+PTE4MHx8dC5fY2VudGVyLmxuZzw9LTE4MCkmJih0aGlzLl9wcmV2RWFzZT1udWxsLHRoaXMuX2Vhc2luZz1udWxsLHRoaXMuX2xhc3RXaGVlbEV2ZW50PW51bGwsdGhpcy5fbGFzdFdoZWVsRXZlbnRUaW1lPTApO2NvbnN0IG49KCk9PnQuX3RlcnJhaW5FbmFibGVkKCkmJnRoaXMuX2Fyb3VuZENvb3JkP3QuY29tcHV0ZVpvb21SZWxhdGl2ZVRvKHRoaXMuX2Fyb3VuZENvb3JkKTp0Lnpvb207aWYoMCE9PXRoaXMuX2RlbHRhKXtjb25zdCBlPVwid2hlZWxcIj09PXRoaXMuX3R5cGUmJk1hdGguYWJzKHRoaXMuX2RlbHRhKT5Mcj90aGlzLl93aGVlbFpvb21SYXRlOnRoaXMuX2RlZmF1bHRab29tUmF0ZTtsZXQgaT0yLygxK01hdGguZXhwKC1NYXRoLmFicyh0aGlzLl9kZWx0YSplKSkpO3RoaXMuX2RlbHRhPDAmJjAhPT1pJiYoaT0xL2kpO2NvbnN0IHI9bigpLG89TWF0aC5wb3coMixyKSxhPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLl90YXJnZXRab29tP3Quem9vbVNjYWxlKHRoaXMuX3RhcmdldFpvb20pOm87dGhpcy5fdGFyZ2V0Wm9vbT1NYXRoLm1pbih0Lm1heFpvb20sTWF0aC5tYXgodC5taW5ab29tLHQuc2NhbGVab29tKGEqaSkpKSxcIndoZWVsXCI9PT10aGlzLl90eXBlJiYodGhpcy5fc3RhcnRab29tPXIsdGhpcy5fZWFzaW5nPXRoaXMuX3Ntb290aE91dEVhc2luZygyMDApKSx0aGlzLl9kZWx0YT0wfWNvbnN0IGk9XCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX3RhcmdldFpvb20/dGhpcy5fdGFyZ2V0Wm9vbTpuKCkscj10aGlzLl9zdGFydFpvb20sbz10aGlzLl9lYXNpbmc7bGV0IGEscz0hMTtpZihcIndoZWVsXCI9PT10aGlzLl90eXBlJiZyJiZvKXtjb25zdCB0PU1hdGgubWluKChlLmV4cG9ydGVkLm5vdygpLXRoaXMuX2xhc3RXaGVlbEV2ZW50VGltZSkvMjAwLDEpLG49byh0KTthPWUubnVtYmVyKHIsaSxuKSx0PDE/dGhpcy5fZnJhbWVJZHx8KHRoaXMuX2ZyYW1lSWQ9ITApOnM9ITB9ZWxzZSBhPWkscz0hMDtyZXR1cm4gdGhpcy5fYWN0aXZlPSEwLHMmJih0aGlzLl9hY3RpdmU9ITEsdGhpcy5fZmluaXNoVGltZW91dD1zZXRUaW1lb3V0KCgpPT57dGhpcy5fem9vbWluZz0hMSx0aGlzLl9oYW5kbGVyLl90cmlnZ2VyUmVuZGVyRnJhbWUoKSxkZWxldGUgdGhpcy5fdGFyZ2V0Wm9vbSxkZWxldGUgdGhpcy5fZmluaXNoVGltZW91dH0sMjAwKSkse25vSW5lcnRpYTohMCxuZWVkc1JlbmRlckZyYW1lOiFzLHpvb21EZWx0YTphLW4oKSxhcm91bmQ6dGhpcy5fYXJvdW5kUG9pbnQsYXJvdW5kQ29vcmQ6dGhpcy5fYXJvdW5kQ29vcmQsb3JpZ2luYWxFdmVudDp0aGlzLl9sYXN0V2hlZWxFdmVudH19X3Ntb290aE91dEVhc2luZyh0KXtsZXQgbj1lLmVhc2U7aWYodGhpcy5fcHJldkVhc2Upe2NvbnN0IHQ9dGhpcy5fcHJldkVhc2UsaT0oZS5leHBvcnRlZC5ub3coKS10LnN0YXJ0KS90LmR1cmF0aW9uLHI9dC5lYXNpbmcoaSsuMDEpLXQuZWFzaW5nKGkpLG89LjI3L01hdGguc3FydChyKnIrMWUtNCkqLjAxLGE9TWF0aC5zcXJ0KC4wNzI5LW8qbyk7bj1lLmJlemllcihvLGEsLjI1LDEpfXJldHVybiB0aGlzLl9wcmV2RWFzZT17c3RhcnQ6ZS5leHBvcnRlZC5ub3coKSxkdXJhdGlvbjp0LGVhc2luZzpufSxufWJsdXIoKXt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLl9hY3RpdmU9ITF9X2FkZFNjcm9sbFpvb21CbG9ja2VyKCl7dGhpcy5fbWFwJiYhdGhpcy5fYWxlcnRDb250YWluZXImJih0aGlzLl9hbGVydENvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1zY3JvbGwtem9vbS1ibG9ja2VyXCIsdGhpcy5fbWFwLl9jb250YWluZXIpLHRoaXMuX2FsZXJ0Q29udGFpbmVyLnRleHRDb250ZW50PS8oTWFjfGlQYWQpL2kudGVzdChlLndpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KT90aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ21kTWVzc2FnZVwiKTp0aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiU2Nyb2xsWm9vbUJsb2NrZXIuQ3RybE1lc3NhZ2VcIiksdGhpcy5fYWxlcnRDb250YWluZXIuc3R5bGUuZm9udFNpemU9TWF0aC5tYXgoMTAsTWF0aC5taW4oMjQsTWF0aC5mbG9vciguMDUqdGhpcy5fZWwuY2xpZW50V2lkdGgpKSkrXCJweFwiKX1fc2hvd0Jsb2NrZXJBbGVydCgpe3RoaXMuX2FsZXJ0Q29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHk9XCJ2aXNpYmxlXCIsdGhpcy5fYWxlcnRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXItc2hvd1wiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJhbGVydFwiKSxjbGVhclRpbWVvdXQodGhpcy5fYWxlcnRUaW1lciksdGhpcy5fYWxlcnRUaW1lcj1zZXRUaW1lb3V0KCgpPT57dGhpcy5fYWxlcnRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXItc2hvd1wiKSx0aGlzLl9hbGVydENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsXCJudWxsXCIpfSwyMDApfX1jbGFzcyBScntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuX2NsaWNrWm9vbT1lLHRoaXMuX3RhcFpvb209dH1lbmFibGUoKXt0aGlzLl9jbGlja1pvb20uZW5hYmxlKCksdGhpcy5fdGFwWm9vbS5lbmFibGUoKX1kaXNhYmxlKCl7dGhpcy5fY2xpY2tab29tLmRpc2FibGUoKSx0aGlzLl90YXBab29tLmRpc2FibGUoKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fY2xpY2tab29tLmlzRW5hYmxlZCgpJiZ0aGlzLl90YXBab29tLmlzRW5hYmxlZCgpfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2NsaWNrWm9vbS5pc0FjdGl2ZSgpfHx0aGlzLl90YXBab29tLmlzQWN0aXZlKCl9fWNsYXNzIEJye2NvbnN0cnVjdG9yKCl7dGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExfWJsdXIoKXt0aGlzLnJlc2V0KCl9ZGJsY2xpY2soZSx0KXtyZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLHtjYW1lcmFBbmltYXRpb246bj0+e24uZWFzZVRvKHtkdXJhdGlvbjozMDAsem9vbTpuLmdldFpvb20oKSsoZS5zaGlmdEtleT8tMToxKSxhcm91bmQ6bi51bnByb2plY3QodCl9LHtvcmlnaW5hbEV2ZW50OmV9KX19fWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITB9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19Y2xhc3MganJ7Y29uc3RydWN0b3IoKXt0aGlzLl90YXA9bmV3IG1yKHtudW1Ub3VjaGVzOjEsbnVtVGFwczoxfSksdGhpcy5yZXNldCgpfXJlc2V0KCl7dGhpcy5fYWN0aXZlPSExLHRoaXMuX3N3aXBlUG9pbnQ9dm9pZCAwLHRoaXMuX3N3aXBlVG91Y2g9MCx0aGlzLl90YXBUaW1lPTAsdGhpcy5fdGFwLnJlc2V0KCl9dG91Y2hzdGFydChlLHQsbil7dGhpcy5fc3dpcGVQb2ludHx8KHRoaXMuX3RhcFRpbWUmJmUudGltZVN0YW1wLXRoaXMuX3RhcFRpbWU+NTAwJiZ0aGlzLnJlc2V0KCksdGhpcy5fdGFwVGltZT9uLmxlbmd0aD4wJiYodGhpcy5fc3dpcGVQb2ludD10WzBdLHRoaXMuX3N3aXBlVG91Y2g9blswXS5pZGVudGlmaWVyKTp0aGlzLl90YXAudG91Y2hzdGFydChlLHQsbikpfXRvdWNobW92ZShlLHQsbil7aWYodGhpcy5fdGFwVGltZSl7aWYodGhpcy5fc3dpcGVQb2ludCl7aWYoblswXS5pZGVudGlmaWVyIT09dGhpcy5fc3dpcGVUb3VjaClyZXR1cm47Y29uc3QgaT10WzBdLHI9aS55LXRoaXMuX3N3aXBlUG9pbnQueTtyZXR1cm4gdGhpcy5fc3dpcGVQb2ludD1pLGUucHJldmVudERlZmF1bHQoKSx0aGlzLl9hY3RpdmU9ITAse3pvb21EZWx0YTpyLzEyOH19fWVsc2UgdGhpcy5fdGFwLnRvdWNobW92ZShlLHQsbil9dG91Y2hlbmQoZSx0LG4pe3RoaXMuX3RhcFRpbWU/dGhpcy5fc3dpcGVQb2ludCYmMD09PW4ubGVuZ3RoJiZ0aGlzLnJlc2V0KCk6dGhpcy5fdGFwLnRvdWNoZW5kKGUsdCxuKSYmKHRoaXMuX3RhcFRpbWU9ZS50aW1lU3RhbXApfXRvdWNoY2FuY2VsKCl7dGhpcy5yZXNldCgpfWVuYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITB9ZGlzYWJsZSgpe3RoaXMuX2VuYWJsZWQ9ITEsdGhpcy5yZXNldCgpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZX19Y2xhc3MgRnJ7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuX2VsPWUsdGhpcy5fbW91c2VQYW49dCx0aGlzLl90b3VjaFBhbj1ufWVuYWJsZShlKXt0aGlzLl9pbmVydGlhT3B0aW9ucz1lfHx7fSx0aGlzLl9tb3VzZVBhbi5lbmFibGUoKSx0aGlzLl90b3VjaFBhbi5lbmFibGUoKSx0aGlzLl9lbC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdG91Y2gtZHJhZy1wYW5cIil9ZGlzYWJsZSgpe3RoaXMuX21vdXNlUGFuLmRpc2FibGUoKSx0aGlzLl90b3VjaFBhbi5kaXNhYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXRvdWNoLWRyYWctcGFuXCIpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl9tb3VzZVBhbi5pc0VuYWJsZWQoKSYmdGhpcy5fdG91Y2hQYW4uaXNFbmFibGVkKCl9aXNBY3RpdmUoKXtyZXR1cm4gdGhpcy5fbW91c2VQYW4uaXNBY3RpdmUoKXx8dGhpcy5fdG91Y2hQYW4uaXNBY3RpdmUoKX19Y2xhc3MgTnJ7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuX3BpdGNoV2l0aFJvdGF0ZT1lLnBpdGNoV2l0aFJvdGF0ZSx0aGlzLl9tb3VzZVJvdGF0ZT10LHRoaXMuX21vdXNlUGl0Y2g9bn1lbmFibGUoKXt0aGlzLl9tb3VzZVJvdGF0ZS5lbmFibGUoKSx0aGlzLl9waXRjaFdpdGhSb3RhdGUmJnRoaXMuX21vdXNlUGl0Y2guZW5hYmxlKCl9ZGlzYWJsZSgpe3RoaXMuX21vdXNlUm90YXRlLmRpc2FibGUoKSx0aGlzLl9tb3VzZVBpdGNoLmRpc2FibGUoKX1pc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fbW91c2VSb3RhdGUuaXNFbmFibGVkKCkmJighdGhpcy5fcGl0Y2hXaXRoUm90YXRlfHx0aGlzLl9tb3VzZVBpdGNoLmlzRW5hYmxlZCgpKX1pc0FjdGl2ZSgpe3JldHVybiB0aGlzLl9tb3VzZVJvdGF0ZS5pc0FjdGl2ZSgpfHx0aGlzLl9tb3VzZVBpdGNoLmlzQWN0aXZlKCl9fWNsYXNzIFVye2NvbnN0cnVjdG9yKGUsdCxuLGkpe3RoaXMuX2VsPWUsdGhpcy5fdG91Y2hab29tPXQsdGhpcy5fdG91Y2hSb3RhdGU9bix0aGlzLl90YXBEcmFnWm9vbT1pLHRoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITEsdGhpcy5fZW5hYmxlZD0hMH1lbmFibGUoZSl7dGhpcy5fdG91Y2hab29tLmVuYWJsZShlKSx0aGlzLl9yb3RhdGlvbkRpc2FibGVkfHx0aGlzLl90b3VjaFJvdGF0ZS5lbmFibGUoZSksdGhpcy5fdGFwRHJhZ1pvb20uZW5hYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlXCIpfWRpc2FibGUoKXt0aGlzLl90b3VjaFpvb20uZGlzYWJsZSgpLHRoaXMuX3RvdWNoUm90YXRlLmRpc2FibGUoKSx0aGlzLl90YXBEcmFnWm9vbS5kaXNhYmxlKCksdGhpcy5fZWwuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXRvdWNoLXpvb20tcm90YXRlXCIpfWlzRW5hYmxlZCgpe3JldHVybiB0aGlzLl90b3VjaFpvb20uaXNFbmFibGVkKCkmJih0aGlzLl9yb3RhdGlvbkRpc2FibGVkfHx0aGlzLl90b3VjaFJvdGF0ZS5pc0VuYWJsZWQoKSkmJnRoaXMuX3RhcERyYWdab29tLmlzRW5hYmxlZCgpfWlzQWN0aXZlKCl7cmV0dXJuIHRoaXMuX3RvdWNoWm9vbS5pc0FjdGl2ZSgpfHx0aGlzLl90b3VjaFJvdGF0ZS5pc0FjdGl2ZSgpfHx0aGlzLl90YXBEcmFnWm9vbS5pc0FjdGl2ZSgpfWRpc2FibGVSb3RhdGlvbigpe3RoaXMuX3JvdGF0aW9uRGlzYWJsZWQ9ITAsdGhpcy5fdG91Y2hSb3RhdGUuZGlzYWJsZSgpfWVuYWJsZVJvdGF0aW9uKCl7dGhpcy5fcm90YXRpb25EaXNhYmxlZD0hMSx0aGlzLl90b3VjaFpvb20uaXNFbmFibGVkKCkmJnRoaXMuX3RvdWNoUm90YXRlLmVuYWJsZSgpfX1jb25zdCBWcj1lPT5lLnpvb218fGUuZHJhZ3x8ZS5waXRjaHx8ZS5yb3RhdGU7Y2xhc3MgR3IgZXh0ZW5kcyBlLkV2ZW50e31jbGFzcyBacntjb25zdHJ1Y3Rvcigpe3RoaXMuY29uc3RhbnRzPVsxLDEsLjAxXSx0aGlzLnJhZGl1cz0wfXNldHVwKHQsbil7Y29uc3QgaT1lLnN1YihbXSxuLHQpO3RoaXMucmFkaXVzPWUubGVuZ3RoKGlbMl08MD9lLmRpdihbXSxpLHRoaXMuY29uc3RhbnRzKTpbaVswXSxpWzFdLDBdKX1wcm9qZWN0UmF5KHQpe2UuZGl2KHQsdCx0aGlzLmNvbnN0YW50cyksZS5ub3JtYWxpemUodCx0KSxlLm11bCQxKHQsdCx0aGlzLmNvbnN0YW50cyk7Y29uc3Qgbj1lLnNjYWxlJDIoW10sdCx0aGlzLnJhZGl1cyk7aWYoblsyXT4wKXtjb25zdCB0PWUuc2NhbGUkMihbXSxbMCwwLDFdLGUuZG90KG4sWzAsMCwxXSkpLGk9ZS5zY2FsZSQyKFtdLGUubm9ybWFsaXplKFtdLFtuWzBdLG5bMV0sMF0pLHRoaXMucmFkaXVzKSxyPWUuYWRkKFtdLG4sZS5zY2FsZSQyKFtdLGUuc3ViKFtdLGUuYWRkKFtdLGksdCksbiksMikpO25bMF09clswXSxuWzFdPXJbMV19cmV0dXJuIG59fWZ1bmN0aW9uIFdyKGUpe3JldHVybiBlLnBhbkRlbHRhJiZlLnBhbkRlbHRhLm1hZygpfHxlLnpvb21EZWx0YXx8ZS5iZWFyaW5nRGVsdGF8fGUucGl0Y2hEZWx0YX1jbGFzcyBxcntjb25zdHJ1Y3Rvcih0LG4pe3RoaXMuX21hcD10LHRoaXMuX2VsPXRoaXMuX21hcC5nZXRDYW52YXNDb250YWluZXIoKSx0aGlzLl9oYW5kbGVycz1bXSx0aGlzLl9oYW5kbGVyc0J5SWQ9e30sdGhpcy5fY2hhbmdlcz1bXSx0aGlzLl9pbmVydGlhPW5ldyBycih0KSx0aGlzLl9iZWFyaW5nU25hcD1uLmJlYXJpbmdTbmFwLHRoaXMuX3ByZXZpb3VzQWN0aXZlSGFuZGxlcnM9e30sdGhpcy5fdHJhY2tpbmdFbGxpcHNvaWQ9bmV3IFpyLHRoaXMuX2RyYWdPcmlnaW49bnVsbCx0aGlzLl9ldmVudHNJblByb2dyZXNzPXt9LHRoaXMuX2FkZERlZmF1bHRIYW5kbGVycyhuKSxlLmJpbmRBbGwoW1wiaGFuZGxlRXZlbnRcIixcImhhbmRsZVdpbmRvd0V2ZW50XCJdLHRoaXMpO2NvbnN0IGk9dGhpcy5fZWw7dGhpcy5fbGlzdGVuZXJzPVtbaSxcInRvdWNoc3RhcnRcIix7cGFzc2l2ZTohMH1dLFtpLFwidG91Y2htb3ZlXCIse3Bhc3NpdmU6ITF9XSxbaSxcInRvdWNoZW5kXCIsdm9pZCAwXSxbaSxcInRvdWNoY2FuY2VsXCIsdm9pZCAwXSxbaSxcIm1vdXNlZG93blwiLHZvaWQgMF0sW2ksXCJtb3VzZW1vdmVcIix2b2lkIDBdLFtpLFwibW91c2V1cFwiLHZvaWQgMF0sW2Uud2luZG93LmRvY3VtZW50LFwibW91c2Vtb3ZlXCIse2NhcHR1cmU6ITB9XSxbZS53aW5kb3cuZG9jdW1lbnQsXCJtb3VzZXVwXCIsdm9pZCAwXSxbaSxcIm1vdXNlb3ZlclwiLHZvaWQgMF0sW2ksXCJtb3VzZW91dFwiLHZvaWQgMF0sW2ksXCJkYmxjbGlja1wiLHZvaWQgMF0sW2ksXCJjbGlja1wiLHZvaWQgMF0sW2ksXCJrZXlkb3duXCIse2NhcHR1cmU6ITF9XSxbaSxcImtleXVwXCIsdm9pZCAwXSxbaSxcIndoZWVsXCIse3Bhc3NpdmU6ITF9XSxbaSxcImNvbnRleHRtZW51XCIsdm9pZCAwXSxbZS53aW5kb3csXCJibHVyXCIsdm9pZCAwXV07Zm9yKGNvbnN0W3QsbixpXW9mIHRoaXMuX2xpc3RlbmVycyl0LmFkZEV2ZW50TGlzdGVuZXIobix0PT09ZS53aW5kb3cuZG9jdW1lbnQ/dGhpcy5oYW5kbGVXaW5kb3dFdmVudDp0aGlzLmhhbmRsZUV2ZW50LGkpfWRlc3Ryb3koKXtmb3IoY29uc3RbdCxuLGldb2YgdGhpcy5fbGlzdGVuZXJzKXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLHQ9PT1lLndpbmRvdy5kb2N1bWVudD90aGlzLmhhbmRsZVdpbmRvd0V2ZW50OnRoaXMuaGFuZGxlRXZlbnQsaSl9X2FkZERlZmF1bHRIYW5kbGVycyhlKXtjb25zdCB0PXRoaXMuX21hcCxuPXQuZ2V0Q2FudmFzQ29udGFpbmVyKCk7dGhpcy5fYWRkKFwibWFwRXZlbnRcIixuZXcgdXIodCxlKSk7Y29uc3QgaT10LmJveFpvb209bmV3IGRyKHQsZSk7dGhpcy5fYWRkKFwiYm94Wm9vbVwiLGkpO2NvbnN0IHI9bmV3IGdyLG89bmV3IEJyO3QuZG91YmxlQ2xpY2tab29tPW5ldyBScihvLHIpLHRoaXMuX2FkZChcInRhcFpvb21cIixyKSx0aGlzLl9hZGQoXCJjbGlja1pvb21cIixvKTtjb25zdCBhPW5ldyBqcjt0aGlzLl9hZGQoXCJ0YXBEcmFnWm9vbVwiLGEpO2NvbnN0IHM9dC50b3VjaFBpdGNoPW5ldyBBcih0KTt0aGlzLl9hZGQoXCJ0b3VjaFBpdGNoXCIscyk7Y29uc3QgbD1uZXcgeHIoZSksYz1uZXcgYnIoZSk7dC5kcmFnUm90YXRlPW5ldyBOcihlLGwsYyksdGhpcy5fYWRkKFwibW91c2VSb3RhdGVcIixsLFtcIm1vdXNlUGl0Y2hcIl0pLHRoaXMuX2FkZChcIm1vdXNlUGl0Y2hcIixjLFtcIm1vdXNlUm90YXRlXCJdKTtjb25zdCB1PW5ldyB2cihlKSxoPW5ldyB3cih0LGUpO3QuZHJhZ1Bhbj1uZXcgRnIobix1LGgpLHRoaXMuX2FkZChcIm1vdXNlUGFuXCIsdSksdGhpcy5fYWRkKFwidG91Y2hQYW5cIixoLFtcInRvdWNoWm9vbVwiLFwidG91Y2hSb3RhdGVcIl0pO2NvbnN0IGQ9bmV3IENyLHA9bmV3IE1yO3QudG91Y2hab29tUm90YXRlPW5ldyBVcihuLHAsZCxhKSx0aGlzLl9hZGQoXCJ0b3VjaFJvdGF0ZVwiLGQsW1widG91Y2hQYW5cIixcInRvdWNoWm9vbVwiXSksdGhpcy5fYWRkKFwidG91Y2hab29tXCIscCxbXCJ0b3VjaFBhblwiLFwidG91Y2hSb3RhdGVcIl0pLHRoaXMuX2FkZChcImJsb2NrYWJsZU1hcEV2ZW50XCIsbmV3IGhyKHQpKTtjb25zdCBmPXQuc2Nyb2xsWm9vbT1uZXcgT3IodCx0aGlzKTt0aGlzLl9hZGQoXCJzY3JvbGxab29tXCIsZixbXCJtb3VzZVBhblwiXSk7Y29uc3QgbT10LmtleWJvYXJkPW5ldyB6cjt0aGlzLl9hZGQoXCJrZXlib2FyZFwiLG0pO2Zvcihjb25zdCBuIG9mW1wiYm94Wm9vbVwiLFwiZG91YmxlQ2xpY2tab29tXCIsXCJ0YXBEcmFnWm9vbVwiLFwidG91Y2hQaXRjaFwiLFwiZHJhZ1JvdGF0ZVwiLFwiZHJhZ1BhblwiLFwidG91Y2hab29tUm90YXRlXCIsXCJzY3JvbGxab29tXCIsXCJrZXlib2FyZFwiXSllLmludGVyYWN0aXZlJiZlW25dJiZ0W25dLmVuYWJsZShlW25dKX1fYWRkKGUsdCxuKXt0aGlzLl9oYW5kbGVycy5wdXNoKHtoYW5kbGVyTmFtZTplLGhhbmRsZXI6dCxhbGxvd2VkOm59KSx0aGlzLl9oYW5kbGVyc0J5SWRbZV09dH1zdG9wKGUpe2lmKCF0aGlzLl91cGRhdGluZ0NhbWVyYSl7Zm9yKGNvbnN0e2hhbmRsZXI6ZX1vZiB0aGlzLl9oYW5kbGVycyllLnJlc2V0KCk7dGhpcy5faW5lcnRpYS5jbGVhcigpLHRoaXMuX2ZpcmVFdmVudHMoe30se30sZSksdGhpcy5fY2hhbmdlcz1bXX19aXNBY3RpdmUoKXtmb3IoY29uc3R7aGFuZGxlcjplfW9mIHRoaXMuX2hhbmRsZXJzKWlmKGUuaXNBY3RpdmUoKSlyZXR1cm4hMDtyZXR1cm4hMX1pc1pvb21pbmcoKXtyZXR1cm4hIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3Muem9vbXx8dGhpcy5fbWFwLnNjcm9sbFpvb20uaXNab29taW5nKCl9aXNSb3RhdGluZygpe3JldHVybiEhdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcy5yb3RhdGV9aXNNb3ZpbmcoKXtyZXR1cm4hIVZyKHRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MpfHx0aGlzLmlzWm9vbWluZygpfV9pc0RyYWdnaW5nKCl7cmV0dXJuISF0aGlzLl9ldmVudHNJblByb2dyZXNzLmRyYWd9X2Jsb2NrZWRCeUFjdGl2ZShlLHQsbil7Zm9yKGNvbnN0IGkgaW4gZSlpZihpIT09biYmKCF0fHx0LmluZGV4T2YoaSk8MCkpcmV0dXJuITA7cmV0dXJuITF9aGFuZGxlV2luZG93RXZlbnQoZSl7dGhpcy5oYW5kbGVFdmVudChlLGUudHlwZStcIldpbmRvd1wiKX1fZ2V0TWFwVG91Y2hlcyhlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBuIG9mIGUpdGhpcy5fZWwuY29udGFpbnMobi50YXJnZXQpJiZ0LnB1c2gobik7cmV0dXJuIHR9aGFuZGxlRXZlbnQoZSx0KXt0aGlzLl91cGRhdGluZ0NhbWVyYT0hMDtjb25zdCBuPVwicmVuZGVyRnJhbWVcIj09PWUudHlwZSxpPW4/dm9pZCAwOmUscj17bmVlZHNSZW5kZXJGcmFtZTohMX0sbz17fSxhPXt9LHM9ZS50b3VjaGVzP3RoaXMuX2dldE1hcFRvdWNoZXMoZS50b3VjaGVzKTp2b2lkIDAsbD1zP20odGhpcy5fZWwscyk6bj92b2lkIDA6Zih0aGlzLl9lbCxlKTtmb3IoY29uc3R7aGFuZGxlck5hbWU6bixoYW5kbGVyOmMsYWxsb3dlZDp1fW9mIHRoaXMuX2hhbmRsZXJzKXtpZighYy5pc0VuYWJsZWQoKSljb250aW51ZTtsZXQgaDt0aGlzLl9ibG9ja2VkQnlBY3RpdmUoYSx1LG4pP2MucmVzZXQoKTpjW3R8fGUudHlwZV0mJihoPWNbdHx8ZS50eXBlXShlLGwscyksdGhpcy5tZXJnZUhhbmRsZXJSZXN1bHQocixvLGgsbixpKSxoJiZoLm5lZWRzUmVuZGVyRnJhbWUmJnRoaXMuX3RyaWdnZXJSZW5kZXJGcmFtZSgpKSwoaHx8Yy5pc0FjdGl2ZSgpKSYmKGFbbl09Yyl9Y29uc3QgYz17fTtmb3IoY29uc3QgZSBpbiB0aGlzLl9wcmV2aW91c0FjdGl2ZUhhbmRsZXJzKWFbZV18fChjW2VdPWkpO3RoaXMuX3ByZXZpb3VzQWN0aXZlSGFuZGxlcnM9YSwoT2JqZWN0LmtleXMoYykubGVuZ3RofHxXcihyKSkmJih0aGlzLl9jaGFuZ2VzLnB1c2goW3IsbyxjXSksdGhpcy5fdHJpZ2dlclJlbmRlckZyYW1lKCkpLChPYmplY3Qua2V5cyhhKS5sZW5ndGh8fFdyKHIpKSYmdGhpcy5fbWFwLl9zdG9wKCEwKSx0aGlzLl91cGRhdGluZ0NhbWVyYT0hMTtjb25zdHtjYW1lcmFBbmltYXRpb246dX09cjt1JiYodGhpcy5faW5lcnRpYS5jbGVhcigpLHRoaXMuX2ZpcmVFdmVudHMoe30se30sITApLHRoaXMuX2NoYW5nZXM9W10sdSh0aGlzLl9tYXApKX1tZXJnZUhhbmRsZXJSZXN1bHQodCxuLGkscixvKXtpZighaSlyZXR1cm47ZS5leHRlbmQodCxpKTtjb25zdCBhPXtoYW5kbGVyTmFtZTpyLG9yaWdpbmFsRXZlbnQ6aS5vcmlnaW5hbEV2ZW50fHxvfTt2b2lkIDAhPT1pLnpvb21EZWx0YSYmKG4uem9vbT1hKSx2b2lkIDAhPT1pLnBhbkRlbHRhJiYobi5kcmFnPWEpLHZvaWQgMCE9PWkucGl0Y2hEZWx0YSYmKG4ucGl0Y2g9YSksdm9pZCAwIT09aS5iZWFyaW5nRGVsdGEmJihuLnJvdGF0ZT1hKX1fYXBwbHlDaGFuZ2VzKCl7Y29uc3QgdD17fSxuPXt9LGk9e307Zm9yKGNvbnN0W3IsbyxhXW9mIHRoaXMuX2NoYW5nZXMpci5wYW5EZWx0YSYmKHQucGFuRGVsdGE9KHQucGFuRGVsdGF8fG5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKSkuX2FkZChyLnBhbkRlbHRhKSksci56b29tRGVsdGEmJih0Lnpvb21EZWx0YT0odC56b29tRGVsdGF8fDApK3Iuem9vbURlbHRhKSxyLmJlYXJpbmdEZWx0YSYmKHQuYmVhcmluZ0RlbHRhPSh0LmJlYXJpbmdEZWx0YXx8MCkrci5iZWFyaW5nRGVsdGEpLHIucGl0Y2hEZWx0YSYmKHQucGl0Y2hEZWx0YT0odC5waXRjaERlbHRhfHwwKStyLnBpdGNoRGVsdGEpLHZvaWQgMCE9PXIuYXJvdW5kJiYodC5hcm91bmQ9ci5hcm91bmQpLHZvaWQgMCE9PXIuYXJvdW5kQ29vcmQmJih0LmFyb3VuZENvb3JkPXIuYXJvdW5kQ29vcmQpLHZvaWQgMCE9PXIucGluY2hBcm91bmQmJih0LnBpbmNoQXJvdW5kPXIucGluY2hBcm91bmQpLHIubm9JbmVydGlhJiYodC5ub0luZXJ0aWE9ci5ub0luZXJ0aWEpLGUuZXh0ZW5kKG4sbyksZS5leHRlbmQoaSxhKTt0aGlzLl91cGRhdGVNYXBUcmFuc2Zvcm0odCxuLGkpLHRoaXMuX2NoYW5nZXM9W119X3VwZGF0ZU1hcFRyYW5zZm9ybSh0LG4saSl7Y29uc3Qgcj10aGlzLl9tYXAsbz1yLnRyYW5zZm9ybSxhPWU9PltlLngsZS55LGUuel07aWYoKGU9Pntjb25zdCB0PXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MuZHJhZztyZXR1cm4gdCYmIXRoaXMuX2hhbmRsZXJzQnlJZFt0LmhhbmRsZXJOYW1lXS5pc0FjdGl2ZSgpfSkoKSYmIVdyKHQpKXtjb25zdCBlPW8uem9vbTtvLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cInNlYVwiLG8ucmVjZW50ZXJPblRlcnJhaW4oKSxvLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiLGUhPT1vLnpvb20mJnRoaXMuX21hcC5fdXBkYXRlKCEwKX1pZihvLl9pc0NhbWVyYUNvbnN0cmFpbmVkJiZyLl9zdG9wKCEwKSwhV3IodCkpcmV0dXJuIHZvaWQgdGhpcy5fZmlyZUV2ZW50cyhuLGksITApO2xldHtwYW5EZWx0YTpzLHpvb21EZWx0YTpsLGJlYXJpbmdEZWx0YTpjLHBpdGNoRGVsdGE6dSxhcm91bmQ6aCxhcm91bmRDb29yZDpkLHBpbmNoQXJvdW5kOnB9PXQ7by5faXNDYW1lcmFDb25zdHJhaW5lZCYmKGw+MCYmKGw9MCksby5faXNDYW1lcmFDb25zdHJhaW5lZD0hMSksdm9pZCAwIT09cCYmKGg9cCksKGU9Pm4uZHJhZyYmIXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3MuZHJhZykoKSYmaCYmKHRoaXMuX2RyYWdPcmlnaW49YShvLnBvaW50Q29vcmRpbmF0ZTNEKGgpKSx0aGlzLl90cmFja2luZ0VsbGlwc29pZC5zZXR1cChvLl9jYW1lcmEucG9zaXRpb24sdGhpcy5fZHJhZ09yaWdpbikpLG8uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwic2VhXCIsci5fc3RvcCghMCksaD1ofHxyLnRyYW5zZm9ybS5jZW50ZXJQb2ludCxjJiYoby5iZWFyaW5nKz1jKSx1JiYoby5waXRjaCs9dSksby5fdXBkYXRlQ2FtZXJhU3RhdGUoKTtjb25zdCBmPVswLDAsMF07aWYocylpZihcIm1lcmNhdG9yXCI9PT1vLnByb2plY3Rpb24ubmFtZSl7Y29uc3QgZT10aGlzLl90cmFja2luZ0VsbGlwc29pZC5wcm9qZWN0UmF5KG8uc2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5KGgpLmRpciksdD10aGlzLl90cmFja2luZ0VsbGlwc29pZC5wcm9qZWN0UmF5KG8uc2NyZWVuUG9pbnRUb01lcmNhdG9yUmF5KGguc3ViKHMpKS5kaXIpO2ZbMF09dFswXS1lWzBdLGZbMV09dFsxXS1lWzFdfWVsc2V7Y29uc3QgdD1vLnBvaW50Q29vcmRpbmF0ZShoKTtpZihcImdsb2JlXCI9PT1vLnByb2plY3Rpb24ubmFtZSl7cz1zLnJvdGF0ZSgtby5hbmdsZSk7Y29uc3Qgbj1vLl9waXhlbHNQZXJNZXJjYXRvclBpeGVsL28ud29ybGRTaXplO2ZbMF09LXMueCplLm1lcmNhdG9yU2NhbGUoZS5sYXRGcm9tTWVyY2F0b3JZKHQueSkpKm4sZlsxXT0tcy55KmUubWVyY2F0b3JTY2FsZShvLmNlbnRlci5sYXQpKm59ZWxzZXtjb25zdCBlPW8ucG9pbnRDb29yZGluYXRlKGguc3ViKHMpKTt0JiZlJiYoZlswXT1lLngtdC54LGZbMV09ZS55LXQueSl9fWNvbnN0IG09by56b29tLGc9WzAsMCwwXTtpZihsKXtjb25zdCB0PWEoZHx8by5wb2ludENvb3JkaW5hdGUzRChoKSksbj17ZGlyOmUubm9ybWFsaXplKFtdLGUuc3ViKFtdLHQsby5fY2FtZXJhLnBvc2l0aW9uKSl9O2lmKG4uZGlyWzJdPDApe2NvbnN0IGk9by56b29tRGVsdGFUb01vdmVtZW50KHQsbCk7ZS5zY2FsZSQyKGcsbi5kaXIsaSl9fWNvbnN0IHk9ZS5hZGQoZixmLGcpO28uX3RyYW5zbGF0ZUNhbWVyYUNvbnN0cmFpbmVkKHkpLGwmJk1hdGguYWJzKG8uem9vbS1tKT4xZS00JiZvLnJlY2VudGVyT25UZXJyYWluKCksby5jYW1lcmFFbGV2YXRpb25SZWZlcmVuY2U9XCJncm91bmRcIix0aGlzLl9tYXAuX3VwZGF0ZSgpLHQubm9JbmVydGlhfHx0aGlzLl9pbmVydGlhLnJlY29yZCh0KSx0aGlzLl9maXJlRXZlbnRzKG4saSwhMCl9X2ZpcmVFdmVudHModCxuLGkpe2NvbnN0IHI9VnIodGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyksbz1Wcih0KSxhPXt9O2Zvcihjb25zdCBlIGluIHQpe2NvbnN0e29yaWdpbmFsRXZlbnQ6bn09dFtlXTt0aGlzLl9ldmVudHNJblByb2dyZXNzW2VdfHwoYVtlK1wic3RhcnRcIl09biksdGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1tlXT10W2VdfSFyJiZvJiZ0aGlzLl9maXJlRXZlbnQoXCJtb3Zlc3RhcnRcIixvLm9yaWdpbmFsRXZlbnQpO2Zvcihjb25zdCBlIGluIGEpdGhpcy5fZmlyZUV2ZW50KGUsYVtlXSk7byYmdGhpcy5fZmlyZUV2ZW50KFwibW92ZVwiLG8ub3JpZ2luYWxFdmVudCk7Zm9yKGNvbnN0IGUgaW4gdCl7Y29uc3R7b3JpZ2luYWxFdmVudDpufT10W2VdO3RoaXMuX2ZpcmVFdmVudChlLG4pfWNvbnN0IHM9e307bGV0IGw7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fZXZlbnRzSW5Qcm9ncmVzcyl7Y29uc3R7aGFuZGxlck5hbWU6dCxvcmlnaW5hbEV2ZW50Oml9PXRoaXMuX2V2ZW50c0luUHJvZ3Jlc3NbZV07dGhpcy5faGFuZGxlcnNCeUlkW3RdLmlzQWN0aXZlKCl8fChkZWxldGUgdGhpcy5fZXZlbnRzSW5Qcm9ncmVzc1tlXSxsPW5bdF18fGksc1tlK1wiZW5kXCJdPWwpfWZvcihjb25zdCBlIGluIHMpdGhpcy5fZmlyZUV2ZW50KGUsc1tlXSk7Y29uc3QgYz1Wcih0aGlzLl9ldmVudHNJblByb2dyZXNzKTtpZihpJiYocnx8bykmJiFjKXt0aGlzLl91cGRhdGluZ0NhbWVyYT0hMDtjb25zdCB0PXRoaXMuX2luZXJ0aWEuX29uTW92ZUVuZCh0aGlzLl9tYXAuZHJhZ1Bhbi5faW5lcnRpYU9wdGlvbnMpLG49ZT0+MCE9PWUmJi10aGlzLl9iZWFyaW5nU25hcDxlJiZlPHRoaXMuX2JlYXJpbmdTbmFwO3Q/KG4odC5iZWFyaW5nfHx0aGlzLl9tYXAuZ2V0QmVhcmluZygpKSYmKHQuYmVhcmluZz0wKSx0aGlzLl9tYXAuZWFzZVRvKHQse29yaWdpbmFsRXZlbnQ6bH0pKToodGhpcy5fbWFwLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlZW5kXCIse29yaWdpbmFsRXZlbnQ6bH0pKSxuKHRoaXMuX21hcC5nZXRCZWFyaW5nKCkpJiZ0aGlzLl9tYXAucmVzZXROb3J0aCgpKSx0aGlzLl91cGRhdGluZ0NhbWVyYT0hMX19X2ZpcmVFdmVudCh0LG4pe3RoaXMuX21hcC5maXJlKG5ldyBlLkV2ZW50KHQsbj97b3JpZ2luYWxFdmVudDpufTp7fSkpfV9yZXF1ZXN0RnJhbWUoKXtyZXR1cm4gdGhpcy5fbWFwLnRyaWdnZXJSZXBhaW50KCksdGhpcy5fbWFwLl9yZW5kZXJUYXNrUXVldWUuYWRkKGU9Pnt0aGlzLl9mcmFtZUlkPXZvaWQgMCx0aGlzLmhhbmRsZUV2ZW50KG5ldyBHcihcInJlbmRlckZyYW1lXCIse3RpbWVTdGFtcDplfSkpLHRoaXMuX2FwcGx5Q2hhbmdlcygpfSl9X3RyaWdnZXJSZW5kZXJGcmFtZSgpe3ZvaWQgMD09PXRoaXMuX2ZyYW1lSWQmJih0aGlzLl9mcmFtZUlkPXRoaXMuX3JlcXVlc3RGcmFtZSgpKX19Y29uc3QgJHI9XCJtYXAuc2V0RnJlZUNhbWVyYU9wdGlvbnMoLi4uKSBhbmQgbWFwLmdldEZyZWVDYW1lcmFPcHRpb25zKCkgYXJlIG5vdCB5ZXQgc3VwcG9ydGVkIGZvciBub24tbWVyY2F0b3IgcHJvamVjdGlvbnMuXCI7Y2xhc3MgSHIgZXh0ZW5kcyBlLkV2ZW50ZWR7Y29uc3RydWN0b3IodCxuKXtzdXBlcigpLHRoaXMuX21vdmluZz0hMSx0aGlzLl96b29taW5nPSExLHRoaXMudHJhbnNmb3JtPXQsdGhpcy5fYmVhcmluZ1NuYXA9bi5iZWFyaW5nU25hcCxlLmJpbmRBbGwoW1wiX3JlbmRlckZyYW1lQ2FsbGJhY2tcIl0sdGhpcyl9Z2V0Q2VudGVyKCl7cmV0dXJuIG5ldyBlLkxuZ0xhdCh0aGlzLnRyYW5zZm9ybS5jZW50ZXIubG5nLHRoaXMudHJhbnNmb3JtLmNlbnRlci5sYXQpfXNldENlbnRlcihlLHQpe3JldHVybiB0aGlzLmp1bXBUbyh7Y2VudGVyOmV9LHQpfXBhbkJ5KHQsbixpKXtyZXR1cm4gdD1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0KS5tdWx0KC0xKSx0aGlzLnBhblRvKHRoaXMudHJhbnNmb3JtLmNlbnRlcixlLmV4dGVuZCh7b2Zmc2V0OnR9LG4pLGkpfXBhblRvKHQsbixpKXtyZXR1cm4gdGhpcy5lYXNlVG8oZS5leHRlbmQoe2NlbnRlcjp0fSxuKSxpKX1nZXRab29tKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLnpvb219c2V0Wm9vbShlLHQpe3JldHVybiB0aGlzLmp1bXBUbyh7em9vbTplfSx0KSx0aGlzfXpvb21Ubyh0LG4saSl7cmV0dXJuIHRoaXMuZWFzZVRvKGUuZXh0ZW5kKHt6b29tOnR9LG4pLGkpfXpvb21JbihlLHQpe3JldHVybiB0aGlzLnpvb21Ubyh0aGlzLmdldFpvb20oKSsxLGUsdCksdGhpc316b29tT3V0KGUsdCl7cmV0dXJuIHRoaXMuem9vbVRvKHRoaXMuZ2V0Wm9vbSgpLTEsZSx0KSx0aGlzfWdldEJlYXJpbmcoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uYmVhcmluZ31zZXRCZWFyaW5nKGUsdCl7cmV0dXJuIHRoaXMuanVtcFRvKHtiZWFyaW5nOmV9LHQpLHRoaXN9Z2V0UGFkZGluZygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5wYWRkaW5nfXNldFBhZGRpbmcoZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe3BhZGRpbmc6ZX0sdCksdGhpc31yb3RhdGVUbyh0LG4saSl7cmV0dXJuIHRoaXMuZWFzZVRvKGUuZXh0ZW5kKHtiZWFyaW5nOnR9LG4pLGkpfXJlc2V0Tm9ydGgodCxuKXtyZXR1cm4gdGhpcy5yb3RhdGVUbygwLGUuZXh0ZW5kKHtkdXJhdGlvbjoxZTN9LHQpLG4pLHRoaXN9cmVzZXROb3J0aFBpdGNoKHQsbil7cmV0dXJuIHRoaXMuZWFzZVRvKGUuZXh0ZW5kKHtiZWFyaW5nOjAscGl0Y2g6MCxkdXJhdGlvbjoxZTN9LHQpLG4pLHRoaXN9c25hcFRvTm9ydGgoZSx0KXtyZXR1cm4gTWF0aC5hYnModGhpcy5nZXRCZWFyaW5nKCkpPHRoaXMuX2JlYXJpbmdTbmFwP3RoaXMucmVzZXROb3J0aChlLHQpOnRoaXN9Z2V0UGl0Y2goKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucGl0Y2h9c2V0UGl0Y2goZSx0KXtyZXR1cm4gdGhpcy5qdW1wVG8oe3BpdGNoOmV9LHQpLHRoaXN9Y2FtZXJhRm9yQm91bmRzKHQsbil7dD1lLkxuZ0xhdEJvdW5kcy5jb252ZXJ0KHQpO2NvbnN0IGk9biYmbi5iZWFyaW5nfHwwLHI9biYmbi5waXRjaHx8MCxvPXQuZ2V0Tm9ydGhXZXN0KCksYT10LmdldFNvdXRoRWFzdCgpO3JldHVybiB0aGlzLl9jYW1lcmFGb3JCb3VuZHModGhpcy50cmFuc2Zvcm0sbyxhLGkscixuKX1fZXh0ZW5kQ2FtZXJhT3B0aW9ucyh0KXtjb25zdCBuPXt0b3A6MCxib3R0b206MCxyaWdodDowLGxlZnQ6MH07aWYoXCJudW1iZXJcIj09dHlwZW9mKHQ9ZS5leHRlbmQoe3BhZGRpbmc6bixvZmZzZXQ6WzAsMF0sbWF4Wm9vbTp0aGlzLnRyYW5zZm9ybS5tYXhab29tfSx0KSkucGFkZGluZyl7Y29uc3QgZT10LnBhZGRpbmc7dC5wYWRkaW5nPXt0b3A6ZSxib3R0b206ZSxyaWdodDplLGxlZnQ6ZX19cmV0dXJuIHQucGFkZGluZz1lLmV4dGVuZChuLHQucGFkZGluZyksdH1fbWluaW11bUFBQkJGcnVzdHVtRGlzdGFuY2UoZSx0KXtjb25zdCBuPXQubWF4WzBdLXQubWluWzBdLGk9dC5tYXhbMV0tdC5taW5bMV07cmV0dXJuIG4vaT5lLmFzcGVjdD9uLygyKk1hdGgudGFuKC41KmUuZm92WCkqZS5hc3BlY3QpOmkvKDIqTWF0aC50YW4oLjUqZS5mb3ZZKSplLmFzcGVjdCl9X2NhbWVyYUZvckJvdW5kc09uR2xvYmUodCxuLGkscixvLGEpe2NvbnN0IHM9dC5jbG9uZSgpLGw9dGhpcy5fZXh0ZW5kQ2FtZXJhT3B0aW9ucyhhKTtzLmJlYXJpbmc9cixzLnBpdGNoPW87Y29uc3QgYz1lLkxuZ0xhdC5jb252ZXJ0KG4pLHU9ZS5MbmdMYXQuY29udmVydChpKSxoPS41KihjLmxhdCt1LmxhdCksZD0uNSooYy5sbmcrdS5sbmcpLHA9ZS5sYXRMbmdUb0VDRUYoaCxkKSxmPWUubm9ybWFsaXplKFtdLHApLG09ZS5ub3JtYWxpemUoW10sZS5jcm9zcyhbXSxmLFswLDEsMF0pKSxnPWUuY3Jvc3MoW10sbSxmKSx5PVttWzBdLG1bMV0sbVsyXSwwLGdbMF0sZ1sxXSxnWzJdLDAsZlswXSxmWzFdLGZbMl0sMCwwLDAsMCwxXSxfPVtwLGUubGF0TG5nVG9FQ0VGKGMubGF0LGMubG5nKSxlLmxhdExuZ1RvRUNFRih1LmxhdCxjLmxuZyksZS5sYXRMbmdUb0VDRUYodS5sYXQsdS5sbmcpLGUubGF0TG5nVG9FQ0VGKGMubGF0LHUubG5nKSxlLmxhdExuZ1RvRUNFRihoLGMubG5nKSxlLmxhdExuZ1RvRUNFRihoLHUubG5nKSxlLmxhdExuZ1RvRUNFRihjLmxhdCxkKSxlLmxhdExuZ1RvRUNFRih1LmxhdCxkKV07bGV0IHY9ZS5BYWJiLmZyb21Qb2ludHMoXy5tYXAodD0+W2UuZG90KG0sdCksZS5kb3QoZyx0KSxlLmRvdChmLHQpXSkpO2NvbnN0IHg9ZS50cmFuc2Zvcm1NYXQ0KFtdLHYuY2VudGVyLHkpOzA9PT1lLnNxdWFyZWRMZW5ndGgoeCkmJmUuc2V0KHgsMCwwLDEpLGUubm9ybWFsaXplKHgseCksZS5zY2FsZSQyKHgseCxlLkdMT0JFX1JBRElVUykscy5jZW50ZXI9ZS5lY2VmVG9MYXRMbmcoeCk7Y29uc3QgYj1zLmdldFdvcmxkVG9DYW1lcmFNYXRyaXgoKSx3PWUuaW52ZXJ0KG5ldyBGbG9hdDY0QXJyYXkoMTYpLGIpO3Y9ZS5BYWJiLmFwcGx5VHJhbnNmb3JtKHYsZS5tdWx0aXBseShbXSxiLHkpKSxlLnRyYW5zZm9ybU1hdDQoeCx4LGIpO2NvbnN0IFQ9LjUqKHYubWF4WzJdLXYubWluWzJdKSxFPXRoaXMuX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKHMsdiksUz1lLnNjYWxlJDIoW10sWzAsMCwxXSxUKSxNPWUuYWRkKFMseCxTKSxJPUUrKDA9PT1zLnBpdGNoPzA6ZS5kaXN0YW5jZSh4LE0pKSxDPXMuZ2xvYmVDZW50ZXJJblZpZXdTcGFjZSxrPWUuc3ViKFtdLHgsW0NbMF0sQ1sxXSxDWzJdXSk7ZS5ub3JtYWxpemUoayxrKSxlLnNjYWxlJDIoayxrLEkpO2NvbnN0IEE9ZS5hZGQoW10seCxrKTtlLnRyYW5zZm9ybU1hdDQoQSxBLHcpO2NvbnN0IFA9ZS5lYXJ0aFJhZGl1cy9lLkdMT0JFX1JBRElVUyx6PWUubGVuZ3RoKEEpLEQ9ZS5tZXJjYXRvclpmcm9tQWx0aXR1ZGUoeipQLWUuZWFydGhSYWRpdXMsMCksTD1NYXRoLm1pbihzLnpvb21Gcm9tTWVyY2F0b3JaQWRqdXN0ZWQoRCksbC5tYXhab29tKTtyZXR1cm4gTD4uNSooZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NSU4rZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NQVgpPyhzLnNldFByb2plY3Rpb24oe25hbWU6XCJtZXJjYXRvclwifSkscy56b29tPUwsdGhpcy5fY2FtZXJhRm9yQm91bmRzKHMsbixpLHIsbyxhKSk6e2NlbnRlcjpzLmNlbnRlcix6b29tOkwsYmVhcmluZzpyLHBpdGNoOm99fXF1ZXJ5VGVycmFpbkVsZXZhdGlvbih0LG4pe2NvbnN0IGk9dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uO3JldHVybiBpPyhuPWUuZXh0ZW5kKHt9LHtleGFnZ2VyYXRlZDohMH0sbiksaS5nZXRBdFBvaW50KGUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQodCksbnVsbCxuLmV4YWdnZXJhdGVkKSk6bnVsbH1fY2FtZXJhRm9yQm91bmRzKHQsbixpLHIsbyxhKXtpZihcImdsb2JlXCI9PT10LnByb2plY3Rpb24ubmFtZSlyZXR1cm4gdGhpcy5fY2FtZXJhRm9yQm91bmRzT25HbG9iZSh0LG4saSxyLG8sYSk7Y29uc3Qgcz10LmNsb25lKCksbD10aGlzLl9leHRlbmRDYW1lcmFPcHRpb25zKGEpLGM9cy5wYWRkaW5nO3MuYmVhcmluZz1yLHMucGl0Y2g9bztjb25zdCB1PWUuTG5nTGF0LmNvbnZlcnQobiksaD1lLkxuZ0xhdC5jb252ZXJ0KGkpLGQ9bmV3IGUuTG5nTGF0KHUubG5nLGgubGF0KSxwPW5ldyBlLkxuZ0xhdChoLmxuZyx1LmxhdCksZj1zLnByb2plY3QodSksbT1zLnByb2plY3QoaCksZz10aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbih1KSx5PXRoaXMucXVlcnlUZXJyYWluRWxldmF0aW9uKGgpLF89dGhpcy5xdWVyeVRlcnJhaW5FbGV2YXRpb24oZCksdj10aGlzLnF1ZXJ5VGVycmFpbkVsZXZhdGlvbihwKSx4PVtbZi54LGYueSxNYXRoLm1pbihnfHwwLHl8fDAsX3x8MCx2fHwwKV0sW20ueCxtLnksTWF0aC5tYXgoZ3x8MCx5fHwwLF98fDAsdnx8MCldXTtsZXQgYj1lLkFhYmIuZnJvbVBvaW50cyh4KTtjb25zdCB3PXMuZ2V0V29ybGRUb0NhbWVyYU1hdHJpeCgpLFQ9ZS5pbnZlcnQobmV3IEZsb2F0NjRBcnJheSgxNiksdyk7Yj1lLkFhYmIuYXBwbHlUcmFuc2Zvcm0oYix3KTtjb25zdCBFPWUuc3ViKFtdLGIubWF4LGIubWluKSxTPWMubGVmdHx8MCxNPWMucmlnaHR8fDAsST1jLmJvdHRvbXx8MCxDPWMudG9wfHwwLHtsZWZ0OmsscmlnaHQ6QSx0b3A6UCxib3R0b206en09bC5wYWRkaW5nLEQ9LjUqKFMrTSksTD0uNSooQytJKSxPPU1hdGgubWluKHMuc2NhbGVab29tKHMuc2NhbGUqTWF0aC5taW4oKHMud2lkdGgtKFMrTStrK0EpKS9FWzBdLChzLmhlaWdodC0oSStDK3orUCkpL0VbMV0pKSxsLm1heFpvb20pLFI9cy5zY2FsZS9zLnpvb21TY2FsZShPKTtiPW5ldyBlLkFhYmIoW2IubWluWzBdLShrK0QpKlIsYi5taW5bMV0tKHorTCkqUixiLm1pblsyXV0sW2IubWF4WzBdKyhBK0QpKlIsYi5tYXhbMV0rKFArTCkqUixiLm1heFsyXV0pO2NvbnN0IEI9LjUqRVsyXSxqPXRoaXMuX21pbmltdW1BQUJCRnJ1c3R1bURpc3RhbmNlKHMsYiksRj1bMCwwLDEsMF07ZS50cmFuc2Zvcm1NYXQ0JDEoRixGLHcpLGUubm9ybWFsaXplJDIoRixGKTtjb25zdCBOPWUuc2NhbGUkMihbXSxGLGorQiksVT1lLmFkZChbXSxiLmNlbnRlcixOKSxWPShcIm51bWJlclwiPT10eXBlb2YgbC5vZmZzZXQueCYmXCJudW1iZXJcIj09dHlwZW9mIGwub2Zmc2V0Lnk/bmV3IGUucG9pbnRHZW9tZXRyeShsLm9mZnNldC54LGwub2Zmc2V0LnkpOmUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KGwub2Zmc2V0KSkucm90YXRlKC1lLmRlZ1RvUmFkKHIpKTtiLmNlbnRlclswXS09Vi54KlIsYi5jZW50ZXJbMV0rPVYueSpSLGUudHJhbnNmb3JtTWF0NChiLmNlbnRlcixiLmNlbnRlcixUKSxlLnRyYW5zZm9ybU1hdDQoVSxVLFQpO2NvbnN0IEc9W2IuY2VudGVyWzBdLGIuY2VudGVyWzFdLFVbMl0qcy5waXhlbHNQZXJNZXRlcl07ZS5zY2FsZSQyKEcsRywxL3Mud29ybGRTaXplKTtjb25zdCBaPWUubG5nRnJvbU1lcmNhdG9yWChHWzBdKSxXPWUubGF0RnJvbU1lcmNhdG9yWShHWzFdKSxxPU1hdGgubWluKHMuX3pvb21Gcm9tTWVyY2F0b3JaKEdbMl0pLGwubWF4Wm9vbSksJD1uZXcgZS5MbmdMYXQoWixXKTtyZXR1cm4gcy5tZXJjYXRvckZyb21UcmFuc2l0aW9uJiZxPC41KihlLkdMT0JFX1pPT01fVEhSRVNIT0xEX01JTitlLkdMT0JFX1pPT01fVEhSRVNIT0xEX01BWCk/KHMuc2V0UHJvamVjdGlvbih7bmFtZTpcImdsb2JlXCJ9KSxzLnpvb209cSx0aGlzLl9jYW1lcmFGb3JCb3VuZHMocyxuLGkscixvLGEpKTp7Y2VudGVyOiQsem9vbTpxLGJlYXJpbmc6cixwaXRjaDpvfX1maXRCb3VuZHMoZSx0LG4pe2NvbnN0IGk9dGhpcy5jYW1lcmFGb3JCb3VuZHMoZSx0KTtyZXR1cm4gdGhpcy5fZml0SW50ZXJuYWwoaSx0LG4pfWZpdFNjcmVlbkNvb3JkaW5hdGVzKHQsbixpLHIsbyl7Y29uc3QgYT1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0KSxzPWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KG4pLGw9bmV3IGUucG9pbnRHZW9tZXRyeShNYXRoLm1pbihhLngscy54KSxNYXRoLm1pbihhLnkscy55KSksYz1uZXcgZS5wb2ludEdlb21ldHJ5KE1hdGgubWF4KGEueCxzLngpLE1hdGgubWF4KGEueSxzLnkpKTtpZihcIm1lcmNhdG9yXCI9PT10aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLm5hbWUmJnRoaXMudHJhbnNmb3JtLmFueUNvcm5lck9mZkVkZ2UoYSxzKSlyZXR1cm4gdGhpcztjb25zdCB1PXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChsKSxoPXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChjKSxkPXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChuZXcgZS5wb2ludEdlb21ldHJ5KGwueCxjLnkpKSxwPXRoaXMudHJhbnNmb3JtLnBvaW50TG9jYXRpb24zRChuZXcgZS5wb2ludEdlb21ldHJ5KGMueCxsLnkpKSxmPVtNYXRoLm1pbih1LmxuZyxoLmxuZyxkLmxuZyxwLmxuZyksTWF0aC5taW4odS5sYXQsaC5sYXQsZC5sYXQscC5sYXQpXSxtPVtNYXRoLm1heCh1LmxuZyxoLmxuZyxkLmxuZyxwLmxuZyksTWF0aC5tYXgodS5sYXQsaC5sYXQsZC5sYXQscC5sYXQpXSxnPXImJnIucGl0Y2g/ci5waXRjaDp0aGlzLmdldFBpdGNoKCkseT10aGlzLl9jYW1lcmFGb3JCb3VuZHModGhpcy50cmFuc2Zvcm0sZixtLGksZyxyKTtyZXR1cm4gdGhpcy5fZml0SW50ZXJuYWwoeSxyLG8pfV9maXRJbnRlcm5hbCh0LG4saSl7cmV0dXJuIHQ/KGRlbGV0ZShuPWUuZXh0ZW5kKHQsbikpLnBhZGRpbmcsbi5saW5lYXI/dGhpcy5lYXNlVG8obixpKTp0aGlzLmZseVRvKG4saSkpOnRoaXN9anVtcFRvKHQsbil7dGhpcy5zdG9wKCk7Y29uc3QgaT10LnByZWxvYWRPbmx5P3RoaXMudHJhbnNmb3JtLmNsb25lKCk6dGhpcy50cmFuc2Zvcm07bGV0IHI9ITEsbz0hMSxhPSExO3JldHVyblwiem9vbVwiaW4gdCYmaS56b29tIT09K3Quem9vbSYmKHI9ITAsaS56b29tPSt0Lnpvb20pLHZvaWQgMCE9PXQuY2VudGVyJiYoaS5jZW50ZXI9ZS5MbmdMYXQuY29udmVydCh0LmNlbnRlcikpLFwiYmVhcmluZ1wiaW4gdCYmaS5iZWFyaW5nIT09K3QuYmVhcmluZyYmKG89ITAsaS5iZWFyaW5nPSt0LmJlYXJpbmcpLFwicGl0Y2hcImluIHQmJmkucGl0Y2ghPT0rdC5waXRjaCYmKGE9ITAsaS5waXRjaD0rdC5waXRjaCksbnVsbD09dC5wYWRkaW5nfHxpLmlzUGFkZGluZ0VxdWFsKHQucGFkZGluZyl8fChpLnBhZGRpbmc9dC5wYWRkaW5nKSx0LnByZWxvYWRPbmx5Pyh0aGlzLl9wcmVsb2FkVGlsZXMoaSksdGhpcyk6KHRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVzdGFydFwiLG4pKS5maXJlKG5ldyBlLkV2ZW50KFwibW92ZVwiLG4pKSxyJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tc3RhcnRcIixuKSkuZmlyZShuZXcgZS5FdmVudChcInpvb21cIixuKSkuZmlyZShuZXcgZS5FdmVudChcInpvb21lbmRcIixuKSksbyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlc3RhcnRcIixuKSkuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZVwiLG4pKS5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlZW5kXCIsbikpLGEmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInBpdGNoc3RhcnRcIixuKSkuZmlyZShuZXcgZS5FdmVudChcInBpdGNoXCIsbikpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaGVuZFwiLG4pKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlZW5kXCIsbikpKX1nZXRGcmVlQ2FtZXJhT3B0aW9ucygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5wcm9qZWN0aW9uLnN1cHBvcnRzRnJlZUNhbWVyYXx8ZS53YXJuT25jZSgkciksdGhpcy50cmFuc2Zvcm0uZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKX1zZXRGcmVlQ2FtZXJhT3B0aW9ucyh0LG4pe2NvbnN0IGk9dGhpcy50cmFuc2Zvcm07aWYoIWkucHJvamVjdGlvbi5zdXBwb3J0c0ZyZWVDYW1lcmEpcmV0dXJuIGUud2Fybk9uY2UoJHIpLHRoaXM7dGhpcy5zdG9wKCk7Y29uc3Qgcj1pLnpvb20sbz1pLnBpdGNoLGE9aS5iZWFyaW5nO2kuc2V0RnJlZUNhbWVyYU9wdGlvbnModCk7Y29uc3Qgcz1yIT09aS56b29tLGw9byE9PWkucGl0Y2gsYz1hIT09aS5iZWFyaW5nO3JldHVybiB0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3Zlc3RhcnRcIixuKSkuZmlyZShuZXcgZS5FdmVudChcIm1vdmVcIixuKSkscyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbXN0YXJ0XCIsbikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tXCIsbikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tZW5kXCIsbikpLGMmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZXN0YXJ0XCIsbikpLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVcIixuKSkuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZWVuZFwiLG4pKSxsJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaHN0YXJ0XCIsbikpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaFwiLG4pKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hlbmRcIixuKSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLG4pKSx0aGlzfWVhc2VUbyh0LG4pe3RoaXMuX3N0b3AoITEsdC5lYXNlSWQpLCghMT09PSh0PWUuZXh0ZW5kKHtvZmZzZXQ6WzAsMF0sZHVyYXRpb246NTAwLGVhc2luZzplLmVhc2V9LHQpKS5hbmltYXRlfHwhdC5lc3NlbnRpYWwmJmUuZXhwb3J0ZWQucHJlZmVyc1JlZHVjZWRNb3Rpb24pJiYodC5kdXJhdGlvbj0wKTtjb25zdCBpPXRoaXMudHJhbnNmb3JtLHI9dGhpcy5nZXRab29tKCksbz10aGlzLmdldEJlYXJpbmcoKSxhPXRoaXMuZ2V0UGl0Y2goKSxzPXRoaXMuZ2V0UGFkZGluZygpLGw9XCJ6b29tXCJpbiB0Pyt0Lnpvb206cixjPVwiYmVhcmluZ1wiaW4gdD90aGlzLl9ub3JtYWxpemVCZWFyaW5nKHQuYmVhcmluZyxvKTpvLHU9XCJwaXRjaFwiaW4gdD8rdC5waXRjaDphLGg9XCJwYWRkaW5nXCJpbiB0P3QucGFkZGluZzppLnBhZGRpbmcsZD1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0Lm9mZnNldCk7bGV0IHAsZixtO2lmKFwiZ2xvYmVcIj09PWkucHJvamVjdGlvbi5uYW1lKXtjb25zdCBuPWUuTWVyY2F0b3JDb29yZGluYXRlLmZyb21MbmdMYXQoaS5jZW50ZXIpLHI9ZC5yb3RhdGUoLWkuYW5nbGUpO24ueCs9ci54L2kud29ybGRTaXplLG4ueSs9ci55L2kud29ybGRTaXplO2NvbnN0IG89bi50b0xuZ0xhdCgpLGE9ZS5MbmdMYXQuY29udmVydCh0LmNlbnRlcnx8byk7dGhpcy5fbm9ybWFsaXplQ2VudGVyKGEpLHA9aS5jZW50ZXJQb2ludC5hZGQociksZj1uZXcgZS5wb2ludEdlb21ldHJ5KG4ueCxuLnkpLm11bHQoaS53b3JsZFNpemUpLG09bmV3IGUucG9pbnRHZW9tZXRyeShlLm1lcmNhdG9yWGZyb21MbmcoYS5sbmcpLGUubWVyY2F0b3JZZnJvbUxhdChhLmxhdCkpLm11bHQoaS53b3JsZFNpemUpLnN1YihmKX1lbHNle3A9aS5jZW50ZXJQb2ludC5hZGQoZCk7Y29uc3Qgbj1pLnBvaW50TG9jYXRpb24ocCkscj1lLkxuZ0xhdC5jb252ZXJ0KHQuY2VudGVyfHxuKTt0aGlzLl9ub3JtYWxpemVDZW50ZXIociksZj1pLnByb2plY3QobiksbT1pLnByb2plY3Qocikuc3ViKGYpfWNvbnN0IGc9aS56b29tU2NhbGUobC1yKTtsZXQgeSxfO3QuYXJvdW5kJiYoeT1lLkxuZ0xhdC5jb252ZXJ0KHQuYXJvdW5kKSxfPWkubG9jYXRpb25Qb2ludCh5KSk7Y29uc3Qgdj10aGlzLl96b29taW5nfHxsIT09cix4PXRoaXMuX3JvdGF0aW5nfHxvIT09YyxiPXRoaXMuX3BpdGNoaW5nfHx1IT09YSx3PSFpLmlzUGFkZGluZ0VxdWFsKGgpLFQ9aT0+VD0+e2lmKHYmJihpLnpvb209ZS5udW1iZXIocixsLFQpKSx4JiYoaS5iZWFyaW5nPWUubnVtYmVyKG8sYyxUKSksYiYmKGkucGl0Y2g9ZS5udW1iZXIoYSx1LFQpKSx3JiYoaS5pbnRlcnBvbGF0ZVBhZGRpbmcocyxoLFQpLHA9aS5jZW50ZXJQb2ludC5hZGQoZCkpLHkpaS5zZXRMb2NhdGlvbkF0UG9pbnQoeSxfKTtlbHNle2NvbnN0IGU9aS56b29tU2NhbGUoaS56b29tLXIpLHQ9bD5yP01hdGgubWluKDIsZyk6TWF0aC5tYXgoLjUsZyksbj1NYXRoLnBvdyh0LDEtVCksbz1pLnVucHJvamVjdChmLmFkZChtLm11bHQoVCpuKSkubXVsdChlKSk7aS5zZXRMb2NhdGlvbkF0UG9pbnQoaS5yZW5kZXJXb3JsZENvcGllcz9vLndyYXAoKTpvLHApfXJldHVybiB0LnByZWxvYWRPbmx5fHx0aGlzLl9maXJlTW92ZUV2ZW50cyhuKSxpfTtpZih0LnByZWxvYWRPbmx5KXtjb25zdCBlPXRoaXMuX2VtdWxhdGUoVCx0LmR1cmF0aW9uLGkpO3JldHVybiB0aGlzLl9wcmVsb2FkVGlsZXMoZSksdGhpc31jb25zdCBFPXttb3Zpbmc6dGhpcy5fbW92aW5nLHpvb21pbmc6dGhpcy5fem9vbWluZyxyb3RhdGluZzp0aGlzLl9yb3RhdGluZyxwaXRjaGluZzp0aGlzLl9waXRjaGluZ307cmV0dXJuIHRoaXMuX3pvb21pbmc9dix0aGlzLl9yb3RhdGluZz14LHRoaXMuX3BpdGNoaW5nPWIsdGhpcy5fcGFkZGluZz13LHRoaXMuX2Vhc2VJZD10LmVhc2VJZCx0aGlzLl9wcmVwYXJlRWFzZShuLHQubm9Nb3ZlU3RhcnQsRSksdGhpcy5fZWFzZShUKGkpLGU9PntpLnJlY2VudGVyT25UZXJyYWluKCksdGhpcy5fYWZ0ZXJFYXNlKG4sZSl9LHQpLHRoaXN9X3ByZXBhcmVFYXNlKHQsbixpPXt9KXt0aGlzLl9tb3Zpbmc9ITAsdGhpcy50cmFuc2Zvcm0uY2FtZXJhRWxldmF0aW9uUmVmZXJlbmNlPVwic2VhXCIsbnx8aS5tb3Zpbmd8fHRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVzdGFydFwiLHQpKSx0aGlzLl96b29taW5nJiYhaS56b29taW5nJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tc3RhcnRcIix0KSksdGhpcy5fcm90YXRpbmcmJiFpLnJvdGF0aW5nJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyb3RhdGVzdGFydFwiLHQpKSx0aGlzLl9waXRjaGluZyYmIWkucGl0Y2hpbmcmJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInBpdGNoc3RhcnRcIix0KSl9X2ZpcmVNb3ZlRXZlbnRzKHQpe3RoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVcIix0KSksdGhpcy5fem9vbWluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiem9vbVwiLHQpKSx0aGlzLl9yb3RhdGluZyYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwicm90YXRlXCIsdCkpLHRoaXMuX3BpdGNoaW5nJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaFwiLHQpKX1fYWZ0ZXJFYXNlKHQsbil7aWYodGhpcy5fZWFzZUlkJiZuJiZ0aGlzLl9lYXNlSWQ9PT1uKXJldHVybjt0aGlzLl9lYXNlSWQ9dm9pZCAwLHRoaXMudHJhbnNmb3JtLmNhbWVyYUVsZXZhdGlvblJlZmVyZW5jZT1cImdyb3VuZFwiO2NvbnN0IGk9dGhpcy5fem9vbWluZyxyPXRoaXMuX3JvdGF0aW5nLG89dGhpcy5fcGl0Y2hpbmc7dGhpcy5fbW92aW5nPSExLHRoaXMuX3pvb21pbmc9ITEsdGhpcy5fcm90YXRpbmc9ITEsdGhpcy5fcGl0Y2hpbmc9ITEsdGhpcy5fcGFkZGluZz0hMSxpJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tZW5kXCIsdCkpLHImJnRoaXMuZmlyZShuZXcgZS5FdmVudChcInJvdGF0ZWVuZFwiLHQpKSxvJiZ0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaGVuZFwiLHQpKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJtb3ZlZW5kXCIsdCkpfWZseVRvKHQsbil7aWYoIXQuZXNzZW50aWFsJiZlLmV4cG9ydGVkLnByZWZlcnNSZWR1Y2VkTW90aW9uKXtjb25zdCBpPWUucGljayh0LFtcImNlbnRlclwiLFwiem9vbVwiLFwiYmVhcmluZ1wiLFwicGl0Y2hcIixcImFyb3VuZFwiXSk7cmV0dXJuIHRoaXMuanVtcFRvKGksbil9dGhpcy5zdG9wKCksdD1lLmV4dGVuZCh7b2Zmc2V0OlswLDBdLHNwZWVkOjEuMixjdXJ2ZToxLjQyLGVhc2luZzplLmVhc2V9LHQpO2NvbnN0IGk9dGhpcy50cmFuc2Zvcm0scj10aGlzLmdldFpvb20oKSxvPXRoaXMuZ2V0QmVhcmluZygpLGE9dGhpcy5nZXRQaXRjaCgpLHM9dGhpcy5nZXRQYWRkaW5nKCksbD1cInpvb21cImluIHQ/ZS5jbGFtcCgrdC56b29tLGkubWluWm9vbSxpLm1heFpvb20pOnIsYz1cImJlYXJpbmdcImluIHQ/dGhpcy5fbm9ybWFsaXplQmVhcmluZyh0LmJlYXJpbmcsbyk6byx1PVwicGl0Y2hcImluIHQ/K3QucGl0Y2g6YSxoPVwicGFkZGluZ1wiaW4gdD90LnBhZGRpbmc6aS5wYWRkaW5nLGQ9aS56b29tU2NhbGUobC1yKSxwPWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQub2Zmc2V0KTtsZXQgZj1pLmNlbnRlclBvaW50LmFkZChwKTtjb25zdCBtPWkucG9pbnRMb2NhdGlvbihmKSxnPWUuTG5nTGF0LmNvbnZlcnQodC5jZW50ZXJ8fG0pO3RoaXMuX25vcm1hbGl6ZUNlbnRlcihnKTtjb25zdCB5PWkucHJvamVjdChtKSxfPWkucHJvamVjdChnKS5zdWIoeSk7bGV0IHY9dC5jdXJ2ZTtjb25zdCB4PU1hdGgubWF4KGkud2lkdGgsaS5oZWlnaHQpLGI9eC9kLHc9Xy5tYWcoKTtpZihcIm1pblpvb21cImluIHQpe2NvbnN0IG49ZS5jbGFtcChNYXRoLm1pbih0Lm1pblpvb20scixsKSxpLm1pblpvb20saS5tYXhab29tKSxvPXgvaS56b29tU2NhbGUobi1yKTt2PU1hdGguc3FydChvL3cqMil9Y29uc3QgVD12KnY7ZnVuY3Rpb24gRShlKXtjb25zdCB0PShiKmIteCp4KyhlPy0xOjEpKlQqVCp3KncpLygyKihlP2I6eCkqVCp3KTtyZXR1cm4gTWF0aC5sb2coTWF0aC5zcXJ0KHQqdCsxKS10KX1mdW5jdGlvbiBTKGUpe3JldHVybihNYXRoLmV4cChlKS1NYXRoLmV4cCgtZSkpLzJ9ZnVuY3Rpb24gTShlKXtyZXR1cm4oTWF0aC5leHAoZSkrTWF0aC5leHAoLWUpKS8yfWNvbnN0IEk9RSgwKTtsZXQgQz1mdW5jdGlvbihlKXtyZXR1cm4gTShJKS9NKEkrdiplKX0saz1mdW5jdGlvbihlKXtyZXR1cm4geCooKE0oSSkqKFModD1JK3YqZSkvTSh0KSktUyhJKSkvVCkvdzt2YXIgdH0sQT0oRSgxKS1JKS92O2lmKE1hdGguYWJzKHcpPDFlLTZ8fCFpc0Zpbml0ZShBKSl7aWYoTWF0aC5hYnMoeC1iKTwxZS02KXJldHVybiB0aGlzLmVhc2VUbyh0LG4pO2NvbnN0IGU9Yjx4Py0xOjE7QT1NYXRoLmFicyhNYXRoLmxvZyhiL3gpKS92LGs9ZnVuY3Rpb24oKXtyZXR1cm4gMH0sQz1mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5leHAoZSp2KnQpfX10LmR1cmF0aW9uPVwiZHVyYXRpb25cImluIHQ/K3QuZHVyYXRpb246MWUzKkEvKFwic2NyZWVuU3BlZWRcImluIHQ/K3Quc2NyZWVuU3BlZWQvdjordC5zcGVlZCksdC5tYXhEdXJhdGlvbiYmdC5kdXJhdGlvbj50Lm1heER1cmF0aW9uJiYodC5kdXJhdGlvbj0wKTtjb25zdCBQPW8hPT1jLHo9dSE9PWEsRD0haS5pc1BhZGRpbmdFcXVhbChoKSxMPWk9PmQ9Pntjb25zdCBtPWQqQSx2PTEvQyhtKTtpLnpvb209MT09PWQ/bDpyK2kuc2NhbGVab29tKHYpLFAmJihpLmJlYXJpbmc9ZS5udW1iZXIobyxjLGQpKSx6JiYoaS5waXRjaD1lLm51bWJlcihhLHUsZCkpLEQmJihpLmludGVycG9sYXRlUGFkZGluZyhzLGgsZCksZj1pLmNlbnRlclBvaW50LmFkZChwKSk7Y29uc3QgeD0xPT09ZD9nOmkudW5wcm9qZWN0KHkuYWRkKF8ubXVsdChrKG0pKSkubXVsdCh2KSk7cmV0dXJuIGkuc2V0TG9jYXRpb25BdFBvaW50KGkucmVuZGVyV29ybGRDb3BpZXM/eC53cmFwKCk6eCxmKSxpLl91cGRhdGVDYW1lcmFPblRlcnJhaW4oKSx0LnByZWxvYWRPbmx5fHx0aGlzLl9maXJlTW92ZUV2ZW50cyhuKSxpfTtpZih0LnByZWxvYWRPbmx5KXtjb25zdCBlPXRoaXMuX2VtdWxhdGUoTCx0LmR1cmF0aW9uLGkpO3JldHVybiB0aGlzLl9wcmVsb2FkVGlsZXMoZSksdGhpc31yZXR1cm4gdGhpcy5fem9vbWluZz0hMCx0aGlzLl9yb3RhdGluZz1QLHRoaXMuX3BpdGNoaW5nPXosdGhpcy5fcGFkZGluZz1ELHRoaXMuX3ByZXBhcmVFYXNlKG4sITEpLHRoaXMuX2Vhc2UoTChpKSwoKT0+dGhpcy5fYWZ0ZXJFYXNlKG4pLHQpLHRoaXN9aXNFYXNpbmcoKXtyZXR1cm4hIXRoaXMuX2Vhc2VGcmFtZUlkfXN0b3AoKXtyZXR1cm4gdGhpcy5fc3RvcCgpfV9zdG9wKGUsdCl7aWYodGhpcy5fZWFzZUZyYW1lSWQmJih0aGlzLl9jYW5jZWxSZW5kZXJGcmFtZSh0aGlzLl9lYXNlRnJhbWVJZCksdGhpcy5fZWFzZUZyYW1lSWQ9dm9pZCAwLHRoaXMuX29uRWFzZUZyYW1lPXZvaWQgMCksdGhpcy5fb25FYXNlRW5kKXtjb25zdCBlPXRoaXMuX29uRWFzZUVuZDt0aGlzLl9vbkVhc2VFbmQ9dm9pZCAwLGUuY2FsbCh0aGlzLHQpfWlmKCFlKXtjb25zdCBlPXRoaXMuaGFuZGxlcnM7ZSYmZS5zdG9wKCExKX1yZXR1cm4gdGhpc31fZWFzZSh0LG4saSl7ITE9PT1pLmFuaW1hdGV8fDA9PT1pLmR1cmF0aW9uPyh0KDEpLG4oKSk6KHRoaXMuX2Vhc2VTdGFydD1lLmV4cG9ydGVkLm5vdygpLHRoaXMuX2Vhc2VPcHRpb25zPWksdGhpcy5fb25FYXNlRnJhbWU9dCx0aGlzLl9vbkVhc2VFbmQ9bix0aGlzLl9lYXNlRnJhbWVJZD10aGlzLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fcmVuZGVyRnJhbWVDYWxsYmFjaykpfV9yZW5kZXJGcmFtZUNhbGxiYWNrKCl7Y29uc3QgdD1NYXRoLm1pbigoZS5leHBvcnRlZC5ub3coKS10aGlzLl9lYXNlU3RhcnQpL3RoaXMuX2Vhc2VPcHRpb25zLmR1cmF0aW9uLDEpLG49dGhpcy5fb25FYXNlRnJhbWU7biYmbih0aGlzLl9lYXNlT3B0aW9ucy5lYXNpbmcodCkpLHQ8MT90aGlzLl9lYXNlRnJhbWVJZD10aGlzLl9yZXF1ZXN0UmVuZGVyRnJhbWUodGhpcy5fcmVuZGVyRnJhbWVDYWxsYmFjayk6dGhpcy5zdG9wKCl9X25vcm1hbGl6ZUJlYXJpbmcodCxuKXt0PWUud3JhcCh0LC0xODAsMTgwKTtjb25zdCBpPU1hdGguYWJzKHQtbik7cmV0dXJuIE1hdGguYWJzKHQtMzYwLW4pPGkmJih0LT0zNjApLE1hdGguYWJzKHQrMzYwLW4pPGkmJih0Kz0zNjApLHR9X25vcm1hbGl6ZUNlbnRlcihlKXtjb25zdCB0PXRoaXMudHJhbnNmb3JtO2lmKCF0LnJlbmRlcldvcmxkQ29waWVzfHx0Lm1heEJvdW5kcylyZXR1cm47Y29uc3Qgbj1lLmxuZy10LmNlbnRlci5sbmc7ZS5sbmcrPW4+MTgwPy0zNjA6bjwtMTgwPzM2MDowfV9lbXVsYXRlKGUsdCxuKXtjb25zdCBpPU1hdGguY2VpbCgxNSp0LzFlMykscj1bXSxvPWUobi5jbG9uZSgpKTtmb3IobGV0IGU9MDtlPD1pO2UrKyl7Y29uc3QgdD1vKGUvaSk7ci5wdXNoKHQuY2xvbmUoKSl9cmV0dXJuIHJ9fWNsYXNzIFhye2NvbnN0cnVjdG9yKHQ9e30pe3RoaXMub3B0aW9ucz10LGUuYmluZEFsbChbXCJfdG9nZ2xlQXR0cmlidXRpb25cIixcIl91cGRhdGVFZGl0TGlua1wiLFwiX3VwZGF0ZURhdGFcIixcIl91cGRhdGVDb21wYWN0XCJdLHRoaXMpfWdldERlZmF1bHRQb3NpdGlvbigpe3JldHVyblwiYm90dG9tLXJpZ2h0XCJ9b25BZGQoZSl7Y29uc3QgdD10aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5jb21wYWN0O3JldHVybiB0aGlzLl9tYXA9ZSx0aGlzLl9jb250YWluZXI9byhcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLWF0dHJpYlwiKSx0aGlzLl9jb21wYWN0QnV0dG9uPW8oXCJidXR0b25cIixcIm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvblwiLHRoaXMuX2NvbnRhaW5lciksbyhcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX2NvbXBhY3RCdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMuX2NvbXBhY3RCdXR0b24udHlwZT1cImJ1dHRvblwiLHRoaXMuX2NvbXBhY3RCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fdG9nZ2xlQXR0cmlidXRpb24pLHRoaXMuX3NldEVsZW1lbnRUaXRsZSh0aGlzLl9jb21wYWN0QnV0dG9uLFwiVG9nZ2xlQXR0cmlidXRpb25cIiksdGhpcy5faW5uZXJDb250YWluZXI9byhcImRpdlwiLFwibWFwYm94Z2wtY3RybC1hdHRyaWItaW5uZXJcIix0aGlzLl9jb250YWluZXIpLHRoaXMuX2lubmVyQ29udGFpbmVyLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImxpc3RcIiksdCYmdGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jb21wYWN0XCIpLHRoaXMuX3VwZGF0ZUF0dHJpYnV0aW9ucygpLHRoaXMuX3VwZGF0ZUVkaXRMaW5rKCksdGhpcy5fbWFwLm9uKFwic3R5bGVkYXRhXCIsdGhpcy5fdXBkYXRlRGF0YSksdGhpcy5fbWFwLm9uKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vbihcIm1vdmVlbmRcIix0aGlzLl91cGRhdGVFZGl0TGluayksdm9pZCAwPT09dCYmKHRoaXMuX21hcC5vbihcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZUNvbXBhY3QpLHRoaXMuX3VwZGF0ZUNvbXBhY3QoKSksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7dGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJzdHlsZWRhdGFcIix0aGlzLl91cGRhdGVEYXRhKSx0aGlzLl9tYXAub2ZmKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZURhdGEpLHRoaXMuX21hcC5vZmYoXCJtb3ZlZW5kXCIsdGhpcy5fdXBkYXRlRWRpdExpbmspLHRoaXMuX21hcC5vZmYoXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMuX2F0dHJpYkhUTUw9dm9pZCAwfV9zZXRFbGVtZW50VGl0bGUoZSx0KXtjb25zdCBuPXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJBdHRyaWJ1dGlvbkNvbnRyb2wuXCIrdCk7ZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsbiksZS5yZW1vdmVBdHRyaWJ1dGUoXCJ0aXRsZVwiKSxlLmZpcnN0RWxlbWVudENoaWxkJiZlLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsbil9X3RvZ2dsZUF0dHJpYnV0aW9uKCl7dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhcIm1hcGJveGdsLWNvbXBhY3Qtc2hvd1wiKT8odGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jb21wYWN0LXNob3dcIiksdGhpcy5fY29tcGFjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJmYWxzZVwiKSk6KHRoaXMuX2NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY29tcGFjdC1zaG93XCIpLHRoaXMuX2NvbXBhY3RCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwidHJ1ZVwiKSl9X3VwZGF0ZUVkaXRMaW5rKCl7bGV0IHQ9dGhpcy5fZWRpdExpbms7dHx8KHQ9dGhpcy5fZWRpdExpbms9dGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIubWFwYm94LWltcHJvdmUtbWFwXCIpKTtjb25zdCBuPVt7a2V5Olwib3duZXJcIix2YWx1ZTp0aGlzLnN0eWxlT3duZXJ9LHtrZXk6XCJpZFwiLHZhbHVlOnRoaXMuc3R5bGVJZH0se2tleTpcImFjY2Vzc190b2tlblwiLHZhbHVlOnRoaXMuX21hcC5fcmVxdWVzdE1hbmFnZXIuX2N1c3RvbUFjY2Vzc1Rva2VufHxlLmNvbmZpZy5BQ0NFU1NfVE9LRU59XTtpZih0KXtjb25zdCBpPW4ucmVkdWNlKChlLHQsaSk9Pih0LnZhbHVlJiYoZSs9YCR7dC5rZXl9PSR7dC52YWx1ZX0ke2k8bi5sZW5ndGgtMT9cIiZcIjpcIlwifWApLGUpLFwiP1wiKTt0LmhyZWY9YCR7ZS5jb25maWcuRkVFREJBQ0tfVVJMfS8ke2l9IyR7UWkodGhpcy5fbWFwLCEwKX1gLHQucmVsPVwibm9vcGVuZXIgbm9mb2xsb3dcIix0aGlzLl9zZXRFbGVtZW50VGl0bGUodCxcIk1hcEZlZWRiYWNrXCIpfX1fdXBkYXRlRGF0YShlKXshZXx8XCJtZXRhZGF0YVwiIT09ZS5zb3VyY2VEYXRhVHlwZSYmXCJ2aXNpYmlsaXR5XCIhPT1lLnNvdXJjZURhdGFUeXBlJiZcInN0eWxlXCIhPT1lLmRhdGFUeXBlfHwodGhpcy5fdXBkYXRlQXR0cmlidXRpb25zKCksdGhpcy5fdXBkYXRlRWRpdExpbmsoKSl9X3VwZGF0ZUF0dHJpYnV0aW9ucygpe2lmKCF0aGlzLl9tYXAuc3R5bGUpcmV0dXJuO2xldCBlPVtdO2lmKHRoaXMuX21hcC5zdHlsZS5zdHlsZXNoZWV0KXtjb25zdCBlPXRoaXMuX21hcC5zdHlsZS5zdHlsZXNoZWV0O3RoaXMuc3R5bGVPd25lcj1lLm93bmVyLHRoaXMuc3R5bGVJZD1lLmlkfWNvbnN0IHQ9dGhpcy5fbWFwLnN0eWxlLl9zb3VyY2VDYWNoZXM7Zm9yKGNvbnN0IG4gaW4gdCl7Y29uc3QgaT10W25dO2lmKGkudXNlZCl7Y29uc3QgdD1pLmdldFNvdXJjZSgpO3QuYXR0cmlidXRpb24mJmUuaW5kZXhPZih0LmF0dHJpYnV0aW9uKTwwJiZlLnB1c2godC5hdHRyaWJ1dGlvbil9fWUuc29ydCgoZSx0KT0+ZS5sZW5ndGgtdC5sZW5ndGgpLGU9ZS5maWx0ZXIoKHQsbik9Pntmb3IobGV0IGk9bisxO2k8ZS5sZW5ndGg7aSsrKWlmKGVbaV0uaW5kZXhPZih0KT49MClyZXR1cm4hMTtyZXR1cm4hMH0pLHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbiYmKEFycmF5LmlzQXJyYXkodGhpcy5vcHRpb25zLmN1c3RvbUF0dHJpYnV0aW9uKT9lPVsuLi50aGlzLm9wdGlvbnMuY3VzdG9tQXR0cmlidXRpb24sLi4uZV06ZS51bnNoaWZ0KHRoaXMub3B0aW9ucy5jdXN0b21BdHRyaWJ1dGlvbikpO2NvbnN0IG49ZS5qb2luKFwiIHwgXCIpO24hPT10aGlzLl9hdHRyaWJIVE1MJiYodGhpcy5fYXR0cmliSFRNTD1uLGUubGVuZ3RoPyh0aGlzLl9pbm5lckNvbnRhaW5lci5pbm5lckhUTUw9bix0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWF0dHJpYi1lbXB0eVwiKSk6dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1hdHRyaWItZW1wdHlcIiksdGhpcy5fZWRpdExpbms9bnVsbCl9X3VwZGF0ZUNvbXBhY3QoKXt0aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkub2Zmc2V0V2lkdGg8PTY0MD90aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWNvbXBhY3RcIik6dGhpcy5fY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jb21wYWN0XCIsXCJtYXBib3hnbC1jb21wYWN0LXNob3dcIil9fWNsYXNzIFlye2NvbnN0cnVjdG9yKCl7ZS5iaW5kQWxsKFtcIl91cGRhdGVMb2dvXCIsXCJfdXBkYXRlQ29tcGFjdFwiXSx0aGlzKX1vbkFkZChlKXt0aGlzLl9tYXA9ZSx0aGlzLl9jb250YWluZXI9byhcImRpdlwiLFwibWFwYm94Z2wtY3RybFwiKTtjb25zdCB0PW8oXCJhXCIsXCJtYXBib3hnbC1jdHJsLWxvZ29cIik7cmV0dXJuIHQudGFyZ2V0PVwiX2JsYW5rXCIsdC5yZWw9XCJub29wZW5lciBub2ZvbGxvd1wiLHQuaHJlZj1cImh0dHBzOi8vd3d3Lm1hcGJveC5jb20vXCIsdC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsdGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIkxvZ29Db250cm9sLlRpdGxlXCIpKSx0LnNldEF0dHJpYnV0ZShcInJlbFwiLFwibm9vcGVuZXIgbm9mb2xsb3dcIiksdGhpcy5fY29udGFpbmVyLmFwcGVuZENoaWxkKHQpLHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLHRoaXMuX21hcC5vbihcInNvdXJjZWRhdGFcIix0aGlzLl91cGRhdGVMb2dvKSx0aGlzLl91cGRhdGVMb2dvKCksdGhpcy5fbWFwLm9uKFwicmVzaXplXCIsdGhpcy5fdXBkYXRlQ29tcGFjdCksdGhpcy5fdXBkYXRlQ29tcGFjdCgpLHRoaXMuX2NvbnRhaW5lcn1vblJlbW92ZSgpe3RoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9tYXAub2ZmKFwic291cmNlZGF0YVwiLHRoaXMuX3VwZGF0ZUxvZ28pLHRoaXMuX21hcC5vZmYoXCJyZXNpemVcIix0aGlzLl91cGRhdGVDb21wYWN0KX1nZXREZWZhdWx0UG9zaXRpb24oKXtyZXR1cm5cImJvdHRvbS1sZWZ0XCJ9X3VwZGF0ZUxvZ28oZSl7ZSYmXCJtZXRhZGF0YVwiIT09ZS5zb3VyY2VEYXRhVHlwZXx8KHRoaXMuX2NvbnRhaW5lci5zdHlsZS5kaXNwbGF5PXRoaXMuX2xvZ29SZXF1aXJlZCgpP1wiYmxvY2tcIjpcIm5vbmVcIil9X2xvZ29SZXF1aXJlZCgpe2lmKCF0aGlzLl9tYXAuc3R5bGUpcmV0dXJuITA7Y29uc3QgZT10aGlzLl9tYXAuc3R5bGUuX3NvdXJjZUNhY2hlcztpZigwPT09T2JqZWN0LmVudHJpZXMoZSkubGVuZ3RoKXJldHVybiEwO2Zvcihjb25zdCB0IGluIGUpe2NvbnN0IG49ZVt0XS5nZXRTb3VyY2UoKTtpZihuLmhhc093blByb3BlcnR5KFwibWFwYm94X2xvZ29cIikmJiFuLm1hcGJveF9sb2dvKXJldHVybiExfXJldHVybiEwfV91cGRhdGVDb21wYWN0KCl7Y29uc3QgZT10aGlzLl9jb250YWluZXIuY2hpbGRyZW47aWYoZS5sZW5ndGgpe2NvbnN0IHQ9ZVswXTt0aGlzLl9tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCkub2Zmc2V0V2lkdGg8MjUwP3QuY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWNvbXBhY3RcIik6dC5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY29tcGFjdFwiKX19fWNsYXNzIEpye2NvbnN0cnVjdG9yKCl7dGhpcy5fcXVldWU9W10sdGhpcy5faWQ9MCx0aGlzLl9jbGVhcmVkPSExLHRoaXMuX2N1cnJlbnRseVJ1bm5pbmc9ITF9YWRkKGUpe2NvbnN0IHQ9Kyt0aGlzLl9pZDtyZXR1cm4gdGhpcy5fcXVldWUucHVzaCh7Y2FsbGJhY2s6ZSxpZDp0LGNhbmNlbGxlZDohMX0pLHR9cmVtb3ZlKGUpe2NvbnN0IHQ9dGhpcy5fY3VycmVudGx5UnVubmluZyxuPXQ/dGhpcy5fcXVldWUuY29uY2F0KHQpOnRoaXMuX3F1ZXVlO2Zvcihjb25zdCB0IG9mIG4paWYodC5pZD09PWUpcmV0dXJuIHZvaWQodC5jYW5jZWxsZWQ9ITApfXJ1bihlPTApe2NvbnN0IHQ9dGhpcy5fY3VycmVudGx5UnVubmluZz10aGlzLl9xdWV1ZTt0aGlzLl9xdWV1ZT1bXTtmb3IoY29uc3QgbiBvZiB0KWlmKCFuLmNhbmNlbGxlZCYmKG4uY2FsbGJhY2soZSksdGhpcy5fY2xlYXJlZCkpYnJlYWs7dGhpcy5fY2xlYXJlZD0hMSx0aGlzLl9jdXJyZW50bHlSdW5uaW5nPSExfWNsZWFyKCl7dGhpcy5fY3VycmVudGx5UnVubmluZyYmKHRoaXMuX2NsZWFyZWQ9ITApLHRoaXMuX3F1ZXVlPVtdfX1mdW5jdGlvbiBRcih0LG4saSl7aWYodD1uZXcgZS5MbmdMYXQodC5sbmcsdC5sYXQpLG4pe2NvbnN0IHI9bmV3IGUuTG5nTGF0KHQubG5nLTM2MCx0LmxhdCksbz1uZXcgZS5MbmdMYXQodC5sbmcrMzYwLHQubGF0KSxhPTM2MCpNYXRoLmNlaWwoTWF0aC5hYnModC5sbmctaS5jZW50ZXIubG5nKS8zNjApLHM9aS5sb2NhdGlvblBvaW50KHQpLmRpc3RTcXIobiksbD1uLng8MHx8bi55PDB8fG4ueD5pLndpZHRofHxuLnk+aS5oZWlnaHQ7aS5sb2NhdGlvblBvaW50KHIpLmRpc3RTcXIobik8cyYmKGx8fE1hdGguYWJzKHIubG5nLWkuY2VudGVyLmxuZyk8YSk/dD1yOmkubG9jYXRpb25Qb2ludChvKS5kaXN0U3FyKG4pPHMmJihsfHxNYXRoLmFicyhvLmxuZy1pLmNlbnRlci5sbmcpPGEpJiYodD1vKX1mb3IoO01hdGguYWJzKHQubG5nLWkuY2VudGVyLmxuZyk+MTgwOyl7Y29uc3QgZT1pLmxvY2F0aW9uUG9pbnQodCk7aWYoZS54Pj0wJiZlLnk+PTAmJmUueDw9aS53aWR0aCYmZS55PD1pLmhlaWdodClicmVhazt0LmxuZz5pLmNlbnRlci5sbmc/dC5sbmctPTM2MDp0LmxuZys9MzYwfXJldHVybiB0fWNvbnN0IEtyPXtjZW50ZXI6XCJ0cmFuc2xhdGUoLTUwJSwtNTAlKVwiLHRvcDpcInRyYW5zbGF0ZSgtNTAlLDApXCIsXCJ0b3AtbGVmdFwiOlwidHJhbnNsYXRlKDAsMClcIixcInRvcC1yaWdodFwiOlwidHJhbnNsYXRlKC0xMDAlLDApXCIsYm90dG9tOlwidHJhbnNsYXRlKC01MCUsLTEwMCUpXCIsXCJib3R0b20tbGVmdFwiOlwidHJhbnNsYXRlKDAsLTEwMCUpXCIsXCJib3R0b20tcmlnaHRcIjpcInRyYW5zbGF0ZSgtMTAwJSwtMTAwJSlcIixsZWZ0OlwidHJhbnNsYXRlKDAsLTUwJSlcIixyaWdodDpcInRyYW5zbGF0ZSgtMTAwJSwtNTAlKVwifTtjbGFzcyBlbyBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0LG4pe2lmKHN1cGVyKCksKHQgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MRWxlbWVudHx8bikmJih0PWUuZXh0ZW5kKHtlbGVtZW50OnR9LG4pKSxlLmJpbmRBbGwoW1wiX3VwZGF0ZVwiLFwiX29uTW92ZVwiLFwiX29uVXBcIixcIl9hZGREcmFnSGFuZGxlclwiLFwiX29uTWFwQ2xpY2tcIixcIl9vbktleVByZXNzXCIsXCJfY2xlYXJGYWRlVGltZXJcIl0sdGhpcyksdGhpcy5fYW5jaG9yPXQmJnQuYW5jaG9yfHxcImNlbnRlclwiLHRoaXMuX2NvbG9yPXQmJnQuY29sb3J8fFwiIzNGQjFDRVwiLHRoaXMuX3NjYWxlPXQmJnQuc2NhbGV8fDEsdGhpcy5fZHJhZ2dhYmxlPXQmJnQuZHJhZ2dhYmxlfHwhMSx0aGlzLl9jbGlja1RvbGVyYW5jZT10JiZ0LmNsaWNrVG9sZXJhbmNlfHwwLHRoaXMuX2lzRHJhZ2dpbmc9ITEsdGhpcy5fc3RhdGU9XCJpbmFjdGl2ZVwiLHRoaXMuX3JvdGF0aW9uPXQmJnQucm90YXRpb258fDAsdGhpcy5fcm90YXRpb25BbGlnbm1lbnQ9dCYmdC5yb3RhdGlvbkFsaWdubWVudHx8XCJhdXRvXCIsdGhpcy5fcGl0Y2hBbGlnbm1lbnQ9dCYmdC5waXRjaEFsaWdubWVudCYmdC5waXRjaEFsaWdubWVudHx8XCJhdXRvXCIsdGhpcy5fdXBkYXRlTW92aW5nPSgpPT50aGlzLl91cGRhdGUoITApLHRoaXMuX29jY2x1ZGVkT3BhY2l0eT10JiZ0Lm9jY2x1ZGVkT3BhY2l0eXx8LjIsdCYmdC5lbGVtZW50KXRoaXMuX2VsZW1lbnQ9dC5lbGVtZW50LHRoaXMuX29mZnNldD1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0JiZ0Lm9mZnNldHx8WzAsMF0pO2Vsc2V7dGhpcy5fZGVmYXVsdE1hcmtlcj0hMCx0aGlzLl9lbGVtZW50PW8oXCJkaXZcIik7Y29uc3Qgbj00MSxpPTI3LHI9YShcInN2Z1wiLHtkaXNwbGF5OlwiYmxvY2tcIixoZWlnaHQ6bip0aGlzLl9zY2FsZStcInB4XCIsd2lkdGg6aSp0aGlzLl9zY2FsZStcInB4XCIsdmlld0JveDpgMCAwICR7aX0gJHtufWB9LHRoaXMuX2VsZW1lbnQpLHM9YShcInJhZGlhbEdyYWRpZW50XCIse2lkOlwic2hhZG93R3JhZGllbnRcIn0sYShcImRlZnNcIix7fSxyKSk7YShcInN0b3BcIix7b2Zmc2V0OlwiMTAlXCIsXCJzdG9wLW9wYWNpdHlcIjouNH0scyksYShcInN0b3BcIix7b2Zmc2V0OlwiMTAwJVwiLFwic3RvcC1vcGFjaXR5XCI6LjA1fSxzKSxhKFwiZWxsaXBzZVwiLHtjeDoxMy41LGN5OjM0Ljgscng6MTAuNSxyeTo1LjI1LGZpbGw6XCJ1cmwoI3NoYWRvd0dyYWRpZW50KVwifSxyKSxhKFwicGF0aFwiLHtmaWxsOnRoaXMuX2NvbG9yLGQ6XCJNMjcsMTMuNUMyNywxOS4wNyAyMC4yNSwyNyAxNC43NSwzNC41QzE0LjAyLDM1LjUgMTIuOTgsMzUuNSAxMi4yNSwzNC41QzYuNzUsMjcgMCwxOS4yMiAwLDEzLjVDMCw2LjA0IDYuMDQsMCAxMy41LDBDMjAuOTYsMCAyNyw2LjA0IDI3LDEzLjVaXCJ9LHIpLGEoXCJwYXRoXCIse29wYWNpdHk6LjI1LGQ6XCJNMTMuNSwwQzYuMDQsMCAwLDYuMDQgMCwxMy41QzAsMTkuMjIgNi43NSwyNyAxMi4yNSwzNC41QzEzLDM1LjUyIDE0LjAyLDM1LjUgMTQuNzUsMzQuNUMyMC4yNSwyNyAyNywxOS4wNyAyNywxMy41QzI3LDYuMDQgMjAuOTYsMCAxMy41LDBaTTEzLjUsMUMyMC40MiwxIDI2LDYuNTggMjYsMTMuNUMyNiwxNS45IDI0LjUsMTkuMTggMjIuMjIsMjIuNzRDMTkuOTUsMjYuMyAxNi43MSwzMC4xNCAxMy45NCwzMy45MUMxMy43NCwzNC4xOCAxMy42MSwzNC4zMiAxMy41LDM0LjQ0QzEzLjM5LDM0LjMyIDEzLjI2LDM0LjE4IDEzLjA2LDMzLjkxQzEwLjI4LDMwLjEzIDcuNDEsMjYuMzEgNS4wMiwyMi43N0MyLjYyLDE5LjIzIDEsMTUuOTUgMSwxMy41QzEsNi41OCA2LjU4LDEgMTMuNSwxWlwifSxyKSxhKFwiY2lyY2xlXCIse2ZpbGw6XCJ3aGl0ZVwiLGN4OjEzLjUsY3k6MTMuNSxyOjUuNX0sciksdGhpcy5fb2Zmc2V0PWUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQmJnQub2Zmc2V0fHxbMCwtMTRdKX10aGlzLl9lbGVtZW50Lmhhc0F0dHJpYnV0ZShcImFyaWEtbGFiZWxcIil8fHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLFwiTWFwIG1hcmtlclwiKSx0aGlzLl9lbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1tYXJrZXJcIiksdGhpcy5fZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsZT0+e2UucHJldmVudERlZmF1bHQoKX0pLHRoaXMuX2VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGU9PntlLnByZXZlbnREZWZhdWx0KCl9KTtjb25zdCBpPXRoaXMuX2VsZW1lbnQuY2xhc3NMaXN0O2Zvcihjb25zdCBlIGluIEtyKWkucmVtb3ZlKFwibWFwYm94Z2wtbWFya2VyLWFuY2hvci1cIitlKTtpLmFkZChcIm1hcGJveGdsLW1hcmtlci1hbmNob3ItXCIrdGhpcy5fYW5jaG9yKSx0aGlzLl9wb3B1cD1udWxsfWFkZFRvKGUpe3JldHVybiBlPT09dGhpcy5fbWFwfHwodGhpcy5yZW1vdmUoKSx0aGlzLl9tYXA9ZSxlLmdldENhbnZhc0NvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpLGUub24oXCJtb3ZlXCIsdGhpcy5fdXBkYXRlTW92aW5nKSxlLm9uKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZSksZS5vbihcInJlbW92ZVwiLHRoaXMuX2NsZWFyRmFkZVRpbWVyKSxlLl9hZGRNYXJrZXIodGhpcyksdGhpcy5zZXREcmFnZ2FibGUodGhpcy5fZHJhZ2dhYmxlKSx0aGlzLl91cGRhdGUoKSxlLm9uKFwiY2xpY2tcIix0aGlzLl9vbk1hcENsaWNrKSksdGhpc31yZW1vdmUoKXtjb25zdCBlPXRoaXMuX21hcDtyZXR1cm4gZSYmKGUub2ZmKFwiY2xpY2tcIix0aGlzLl9vbk1hcENsaWNrKSxlLm9mZihcIm1vdmVcIix0aGlzLl91cGRhdGVNb3ZpbmcpLGUub2ZmKFwibW92ZWVuZFwiLHRoaXMuX3VwZGF0ZSksZS5vZmYoXCJtb3VzZWRvd25cIix0aGlzLl9hZGREcmFnSGFuZGxlciksZS5vZmYoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLGUub2ZmKFwibW91c2V1cFwiLHRoaXMuX29uVXApLGUub2ZmKFwidG91Y2hlbmRcIix0aGlzLl9vblVwKSxlLm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW92ZSksZS5vZmYoXCJ0b3VjaG1vdmVcIix0aGlzLl9vbk1vdmUpLGUub2ZmKFwicmVtb3ZlXCIsdGhpcy5fY2xlYXJGYWRlVGltZXIpLGUuX3JlbW92ZU1hcmtlcih0aGlzKSx0aGlzLl9tYXA9dm9pZCAwKSx0aGlzLl9jbGVhckZhZGVUaW1lcigpLHRoaXMuX2VsZW1lbnQucmVtb3ZlKCksdGhpcy5fcG9wdXAmJnRoaXMuX3BvcHVwLnJlbW92ZSgpLHRoaXN9Z2V0TG5nTGF0KCl7cmV0dXJuIHRoaXMuX2xuZ0xhdH1zZXRMbmdMYXQodCl7cmV0dXJuIHRoaXMuX2xuZ0xhdD1lLkxuZ0xhdC5jb252ZXJ0KHQpLHRoaXMuX3Bvcz1udWxsLHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KSx0aGlzLl91cGRhdGUoITApLHRoaXN9Z2V0RWxlbWVudCgpe3JldHVybiB0aGlzLl9lbGVtZW50fXNldFBvcHVwKGUpe2lmKHRoaXMuX3BvcHVwJiYodGhpcy5fcG9wdXAucmVtb3ZlKCksdGhpcy5fcG9wdXA9bnVsbCx0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInJvbGVcIiksdGhpcy5fZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIix0aGlzLl9vbktleVByZXNzKSx0aGlzLl9vcmlnaW5hbFRhYkluZGV4fHx0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInRhYmluZGV4XCIpKSxlKXtpZighKFwib2Zmc2V0XCJpbiBlLm9wdGlvbnMpKXtjb25zdCB0PTM4LjEsbj0xMy41LGk9TWF0aC5zcXJ0KE1hdGgucG93KG4sMikvMik7ZS5vcHRpb25zLm9mZnNldD10aGlzLl9kZWZhdWx0TWFya2VyP3t0b3A6WzAsMF0sXCJ0b3AtbGVmdFwiOlswLDBdLFwidG9wLXJpZ2h0XCI6WzAsMF0sYm90dG9tOlswLC10XSxcImJvdHRvbS1sZWZ0XCI6W2ksLTEqKHQtbitpKV0sXCJib3R0b20tcmlnaHRcIjpbLWksLTEqKHQtbitpKV0sbGVmdDpbbiwtMSoodC1uKV0scmlnaHQ6Wy1uLC0xKih0LW4pXX06dGhpcy5fb2Zmc2V0fXRoaXMuX3BvcHVwPWUsZS5fbWFya2VyPXRoaXMsdGhpcy5fbG5nTGF0JiZ0aGlzLl9wb3B1cC5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcInJvbGVcIixcImJ1dHRvblwiKSx0aGlzLl9vcmlnaW5hbFRhYkluZGV4PXRoaXMuX2VsZW1lbnQuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiksdGhpcy5fb3JpZ2luYWxUYWJJbmRleHx8dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLFwiMFwiKSx0aGlzLl9lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLHRoaXMuX29uS2V5UHJlc3MpLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIil9cmV0dXJuIHRoaXN9X29uS2V5UHJlc3MoZSl7Y29uc3QgdD1lLmNvZGUsbj1lLmNoYXJDb2RlfHxlLmtleUNvZGU7XCJTcGFjZVwiIT09dCYmXCJFbnRlclwiIT09dCYmMzIhPT1uJiYxMyE9PW58fHRoaXMudG9nZ2xlUG9wdXAoKX1fb25NYXBDbGljayhlKXtjb25zdCB0PWUub3JpZ2luYWxFdmVudC50YXJnZXQsbj10aGlzLl9lbGVtZW50O3RoaXMuX3BvcHVwJiYodD09PW58fG4uY29udGFpbnModCkpJiZ0aGlzLnRvZ2dsZVBvcHVwKCl9Z2V0UG9wdXAoKXtyZXR1cm4gdGhpcy5fcG9wdXB9dG9nZ2xlUG9wdXAoKXtjb25zdCBlPXRoaXMuX3BvcHVwO3JldHVybiBlPyhlLmlzT3BlbigpPyhlLnJlbW92ZSgpLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwiZmFsc2VcIikpOnRoaXMuX21hcCYmKGUuYWRkVG8odGhpcy5fbWFwKSx0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIixcInRydWVcIikpLHRoaXMpOnRoaXN9X2JlaGluZFRlcnJhaW4oKXtjb25zdCBlPXRoaXMuX21hcCx0PXRoaXMuX3BvcztpZighZXx8IXQpcmV0dXJuITE7Y29uc3Qgbj1lLnVucHJvamVjdCh0KSxpPWUuZ2V0RnJlZUNhbWVyYU9wdGlvbnMoKTtpZighaS5wb3NpdGlvbilyZXR1cm4hMTtjb25zdCByPWkucG9zaXRpb24udG9MbmdMYXQoKTtyZXR1cm4gci5kaXN0YW5jZVRvKG4pPC45KnIuZGlzdGFuY2VUbyh0aGlzLl9sbmdMYXQpfV9ldmFsdWF0ZU9wYWNpdHkoKXtjb25zdCB0PXRoaXMuX21hcDtpZighdClyZXR1cm47Y29uc3Qgbj10aGlzLl9wb3M7aWYoIW58fG4ueDwwfHxuLng+dC50cmFuc2Zvcm0ud2lkdGh8fG4ueTwwfHxuLnk+dC50cmFuc2Zvcm0uaGVpZ2h0KXJldHVybiB2b2lkIHRoaXMuX2NsZWFyRmFkZVRpbWVyKCk7Y29uc3QgaT10LnVucHJvamVjdChuKTtsZXQgcjt0Ll9zaG93aW5nR2xvYmUoKSYmZS5pc0xuZ0xhdEJlaGluZEdsb2JlKHQudHJhbnNmb3JtLHRoaXMuX2xuZ0xhdCk/cj0wOihyPTEtdC5fcXVlcnlGb2dPcGFjaXR5KGkpLHQudHJhbnNmb3JtLl90ZXJyYWluRW5hYmxlZCgpJiZ0LmdldFRlcnJhaW4oKSYmdGhpcy5fYmVoaW5kVGVycmFpbigpJiYocio9dGhpcy5fb2NjbHVkZWRPcGFjaXR5KSksdGhpcy5fZWxlbWVudC5zdHlsZS5vcGFjaXR5PVwiXCIrcix0aGlzLl9lbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9cj4wP1wiYXV0b1wiOlwibm9uZVwiLHRoaXMuX3BvcHVwJiZ0aGlzLl9wb3B1cC5fc2V0T3BhY2l0eShyKSx0aGlzLl9mYWRlVGltZXI9bnVsbH1fY2xlYXJGYWRlVGltZXIoKXt0aGlzLl9mYWRlVGltZXImJihjbGVhclRpbWVvdXQodGhpcy5fZmFkZVRpbWVyKSx0aGlzLl9mYWRlVGltZXI9bnVsbCl9X3VwZGF0ZURPTSgpe2NvbnN0IGU9dGhpcy5fcG9zO2lmKCFlfHwhdGhpcy5fbWFwKXJldHVybjtjb25zdCB0PXRoaXMuX29mZnNldC5tdWx0KHRoaXMuX3NjYWxlKTt0aGlzLl9lbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1gXFxuICAgICAgICAgICAgdHJhbnNsYXRlKCR7ZS54fXB4LCR7ZS55fXB4KVxcbiAgICAgICAgICAgICR7S3JbdGhpcy5fYW5jaG9yXX1cXG4gICAgICAgICAgICAke3RoaXMuX2NhbGN1bGF0ZVhZVHJhbnNmb3JtKCl9ICR7dGhpcy5fY2FsY3VsYXRlWlRyYW5zZm9ybSgpfVxcbiAgICAgICAgICAgIHRyYW5zbGF0ZSgke3QueH1weCwke3QueX1weClcXG4gICAgICAgIGB9X2NhbGN1bGF0ZVhZVHJhbnNmb3JtKCl7Y29uc3QgdD10aGlzLl9wb3Msbj10aGlzLl9tYXAsaT10aGlzLmdldFBpdGNoQWxpZ25tZW50KCk7aWYoIW58fCF0fHxcIm1hcFwiIT09aSlyZXR1cm5cIlwiO2lmKCFuLl9zaG93aW5nR2xvYmUoKSl7Y29uc3QgZT1uLmdldFBpdGNoKCk7cmV0dXJuIGU/YHJvdGF0ZVgoJHtlfWRlZylgOlwiXCJ9Y29uc3Qgcj1lLnJhZFRvRGVnKGUuZ2xvYmVUaWx0QXRMbmdMYXQobi50cmFuc2Zvcm0sdGhpcy5fbG5nTGF0KSksbz10LnN1YihlLmdsb2JlQ2VudGVyVG9TY3JlZW5Qb2ludChuLnRyYW5zZm9ybSkpLGE9TWF0aC5hYnMoby54KStNYXRoLmFicyhvLnkpO2lmKDA9PT1hKXJldHVyblwiXCI7Y29uc3Qgcz1yL2E7cmV0dXJuYHJvdGF0ZVgoJHstby55KnN9ZGVnKSByb3RhdGVZKCR7by54KnN9ZGVnKWB9X2NhbGN1bGF0ZVpUcmFuc2Zvcm0oKXtjb25zdCB0PXRoaXMuX3BvcyxuPXRoaXMuX21hcDtpZighbnx8IXQpcmV0dXJuXCJcIjtsZXQgaT0wO2NvbnN0IHI9dGhpcy5nZXRSb3RhdGlvbkFsaWdubWVudCgpO2lmKFwibWFwXCI9PT1yKWlmKG4uX3Nob3dpbmdHbG9iZSgpKXtjb25zdCB0PW4ucHJvamVjdChuZXcgZS5MbmdMYXQodGhpcy5fbG5nTGF0LmxuZyx0aGlzLl9sbmdMYXQubGF0Ky4wMDEpKSxyPW4ucHJvamVjdChuZXcgZS5MbmdMYXQodGhpcy5fbG5nTGF0LmxuZyx0aGlzLl9sbmdMYXQubGF0LS4wMDEpKS5zdWIodCk7aT1lLnJhZFRvRGVnKE1hdGguYXRhbjIoci55LHIueCkpLTkwfWVsc2UgaT0tbi5nZXRCZWFyaW5nKCk7ZWxzZSBpZihcImhvcml6b25cIj09PXIpe2NvbnN0IHI9ZS5zbW9vdGhzdGVwKDQsNixuLmdldFpvb20oKSksbz1lLmdsb2JlQ2VudGVyVG9TY3JlZW5Qb2ludChuLnRyYW5zZm9ybSk7by55Kz1yKm4udHJhbnNmb3JtLmhlaWdodDtjb25zdCBhPXQuc3ViKG8pLHM9ZS5yYWRUb0RlZyhNYXRoLmF0YW4yKGEueSxhLngpKTtpPShzPjkwP3MtMjcwOnMrOTApKigxLXIpfXJldHVybiBpKz10aGlzLl9yb3RhdGlvbixpP2Byb3RhdGVaKCR7aX1kZWcpYDpcIlwifV91cGRhdGUodCl7ZS53aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUodGhpcy5fdXBkYXRlRnJhbWVJZCk7Y29uc3Qgbj10aGlzLl9tYXA7biYmKG4udHJhbnNmb3JtLnJlbmRlcldvcmxkQ29waWVzJiYodGhpcy5fbG5nTGF0PVFyKHRoaXMuX2xuZ0xhdCx0aGlzLl9wb3Msbi50cmFuc2Zvcm0pKSx0aGlzLl9wb3M9bi5wcm9qZWN0KHRoaXMuX2xuZ0xhdCksITA9PT10P3RoaXMuX3VwZGF0ZUZyYW1lSWQ9ZS53aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpPT57dGhpcy5fZWxlbWVudCYmdGhpcy5fcG9zJiZ0aGlzLl9hbmNob3ImJih0aGlzLl9wb3M9dGhpcy5fcG9zLnJvdW5kKCksdGhpcy5fdXBkYXRlRE9NKCkpfSk6dGhpcy5fcG9zPXRoaXMuX3Bvcy5yb3VuZCgpLG4uX3JlcXVlc3REb21UYXNrKCgpPT57dGhpcy5fbWFwJiYodGhpcy5fZWxlbWVudCYmdGhpcy5fcG9zJiZ0aGlzLl9hbmNob3ImJnRoaXMuX3VwZGF0ZURPTSgpLChuLl9zaG93aW5nR2xvYmUoKXx8bi5nZXRUZXJyYWluKCl8fG4uZ2V0Rm9nKCkpJiYhdGhpcy5fZmFkZVRpbWVyJiYodGhpcy5fZmFkZVRpbWVyPXNldFRpbWVvdXQodGhpcy5fZXZhbHVhdGVPcGFjaXR5LmJpbmQodGhpcyksNjApKSl9KSl9Z2V0T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX29mZnNldH1zZXRPZmZzZXQodCl7cmV0dXJuIHRoaXMuX29mZnNldD1lLnBvaW50R2VvbWV0cnkuY29udmVydCh0KSx0aGlzLl91cGRhdGUoKSx0aGlzfV9vbk1vdmUodCl7Y29uc3Qgbj10aGlzLl9tYXA7aWYoIW4pcmV0dXJuO2NvbnN0IGk9dGhpcy5fcG9pbnRlcmRvd25Qb3Mscj10aGlzLl9wb3NpdGlvbkRlbHRhO2lmKGkmJnIpe2lmKCF0aGlzLl9pc0RyYWdnaW5nKXtjb25zdCBlPXRoaXMuX2NsaWNrVG9sZXJhbmNlfHxuLl9jbGlja1RvbGVyYW5jZTtpZih0LnBvaW50LmRpc3QoaSk8ZSlyZXR1cm47dGhpcy5faXNEcmFnZ2luZz0hMH10aGlzLl9wb3M9dC5wb2ludC5zdWIociksdGhpcy5fbG5nTGF0PW4udW5wcm9qZWN0KHRoaXMuX3BvcyksdGhpcy5zZXRMbmdMYXQodGhpcy5fbG5nTGF0KSx0aGlzLl9lbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHM9XCJub25lXCIsXCJwZW5kaW5nXCI9PT10aGlzLl9zdGF0ZSYmKHRoaXMuX3N0YXRlPVwiYWN0aXZlXCIsdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZHJhZ3N0YXJ0XCIpKSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZHJhZ1wiKSl9fV9vblVwKCl7dGhpcy5fZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzPVwiYXV0b1wiLHRoaXMuX3Bvc2l0aW9uRGVsdGE9bnVsbCx0aGlzLl9wb2ludGVyZG93blBvcz1udWxsLHRoaXMuX2lzRHJhZ2dpbmc9ITE7Y29uc3QgdD10aGlzLl9tYXA7dCYmKHQub2ZmKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3ZlKSx0Lm9mZihcInRvdWNobW92ZVwiLHRoaXMuX29uTW92ZSkpLFwiYWN0aXZlXCI9PT10aGlzLl9zdGF0ZSYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZHJhZ2VuZFwiKSksdGhpcy5fc3RhdGU9XCJpbmFjdGl2ZVwifV9hZGREcmFnSGFuZGxlcihlKXtjb25zdCB0PXRoaXMuX21hcCxuPXRoaXMuX3Bvczt0JiZuJiZ0aGlzLl9lbGVtZW50LmNvbnRhaW5zKGUub3JpZ2luYWxFdmVudC50YXJnZXQpJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX3Bvc2l0aW9uRGVsdGE9ZS5wb2ludC5zdWIobiksdGhpcy5fcG9pbnRlcmRvd25Qb3M9ZS5wb2ludCx0aGlzLl9zdGF0ZT1cInBlbmRpbmdcIix0Lm9uKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3ZlKSx0Lm9uKFwidG91Y2htb3ZlXCIsdGhpcy5fb25Nb3ZlKSx0Lm9uY2UoXCJtb3VzZXVwXCIsdGhpcy5fb25VcCksdC5vbmNlKFwidG91Y2hlbmRcIix0aGlzLl9vblVwKSl9c2V0RHJhZ2dhYmxlKGUpe3RoaXMuX2RyYWdnYWJsZT0hIWU7Y29uc3QgdD10aGlzLl9tYXA7cmV0dXJuIHQmJihlPyh0Lm9uKFwibW91c2Vkb3duXCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpLHQub24oXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpKToodC5vZmYoXCJtb3VzZWRvd25cIix0aGlzLl9hZGREcmFnSGFuZGxlciksdC5vZmYoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5fYWRkRHJhZ0hhbmRsZXIpKSksdGhpc31pc0RyYWdnYWJsZSgpe3JldHVybiB0aGlzLl9kcmFnZ2FibGV9c2V0Um90YXRpb24oZSl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uPWV8fDAsdGhpcy5fdXBkYXRlKCksdGhpc31nZXRSb3RhdGlvbigpe3JldHVybiB0aGlzLl9yb3RhdGlvbn1zZXRSb3RhdGlvbkFsaWdubWVudChlKXtyZXR1cm4gdGhpcy5fcm90YXRpb25BbGlnbm1lbnQ9ZXx8XCJhdXRvXCIsdGhpcy5fdXBkYXRlKCksdGhpc31nZXRSb3RhdGlvbkFsaWdubWVudCgpe3JldHVyblwiYXV0b1wiPT09dGhpcy5fcm90YXRpb25BbGlnbm1lbnR8fFwiaG9yaXpvblwiPT09dGhpcy5fcm90YXRpb25BbGlnbm1lbnQmJnRoaXMuX21hcCYmIXRoaXMuX21hcC5fc2hvd2luZ0dsb2JlKCk/XCJ2aWV3cG9ydFwiOnRoaXMuX3JvdGF0aW9uQWxpZ25tZW50fXNldFBpdGNoQWxpZ25tZW50KGUpe3JldHVybiB0aGlzLl9waXRjaEFsaWdubWVudD1lfHxcImF1dG9cIix0aGlzLl91cGRhdGUoKSx0aGlzfWdldFBpdGNoQWxpZ25tZW50KCl7cmV0dXJuXCJhdXRvXCI9PT10aGlzLl9waXRjaEFsaWdubWVudD90aGlzLmdldFJvdGF0aW9uQWxpZ25tZW50KCk6dGhpcy5fcGl0Y2hBbGlnbm1lbnR9c2V0T2NjbHVkZWRPcGFjaXR5KGUpe3JldHVybiB0aGlzLl9vY2NsdWRlZE9wYWNpdHk9ZXx8LjIsdGhpcy5fdXBkYXRlKCksdGhpc31nZXRPY2NsdWRlZE9wYWNpdHkoKXtyZXR1cm4gdGhpcy5fb2NjbHVkZWRPcGFjaXR5fX1jb25zdCB0bz17Y2xvc2VCdXR0b246ITAsY2xvc2VPbkNsaWNrOiEwLGZvY3VzQWZ0ZXJPcGVuOiEwLGNsYXNzTmFtZTpcIlwiLG1heFdpZHRoOlwiMjQwcHhcIn0sbm89W1wiYVtocmVmXVwiLFwiW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PSctMSddKVwiLFwiW2NvbnRlbnRlZGl0YWJsZV06bm90KFtjb250ZW50ZWRpdGFibGU9J2ZhbHNlJ10pXCIsXCJidXR0b246bm90KFtkaXNhYmxlZF0pXCIsXCJpbnB1dDpub3QoW2Rpc2FibGVkXSlcIixcInNlbGVjdDpub3QoW2Rpc2FibGVkXSlcIixcInRleHRhcmVhOm5vdChbZGlzYWJsZWRdKVwiXS5qb2luKFwiLCBcIik7ZnVuY3Rpb24gaW8odD1uZXcgZS5wb2ludEdlb21ldHJ5KDAsMCksbj1cImJvdHRvbVwiKXtpZihcIm51bWJlclwiPT10eXBlb2YgdCl7Y29uc3QgaT1NYXRoLnJvdW5kKE1hdGguc3FydCguNSpNYXRoLnBvdyh0LDIpKSk7c3dpdGNoKG4pe2Nhc2VcInRvcFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KDAsdCk7Y2FzZVwidG9wLWxlZnRcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeShpLGkpO2Nhc2VcInRvcC1yaWdodFwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KC1pLGkpO2Nhc2VcImJvdHRvbVwiOnJldHVybiBuZXcgZS5wb2ludEdlb21ldHJ5KDAsLXQpO2Nhc2VcImJvdHRvbS1sZWZ0XCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoaSwtaSk7Y2FzZVwiYm90dG9tLXJpZ2h0XCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoLWksLWkpO2Nhc2VcImxlZnRcIjpyZXR1cm4gbmV3IGUucG9pbnRHZW9tZXRyeSh0LDApO2Nhc2VcInJpZ2h0XCI6cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoLXQsMCl9cmV0dXJuIG5ldyBlLnBvaW50R2VvbWV0cnkoMCwwKX1yZXR1cm4gdCBpbnN0YW5jZW9mIGUucG9pbnRHZW9tZXRyeXx8QXJyYXkuaXNBcnJheSh0KT9lLnBvaW50R2VvbWV0cnkuY29udmVydCh0KTplLnBvaW50R2VvbWV0cnkuY29udmVydCh0W25dfHxbMCwwXSl9Y2xhc3Mgcm97Y29uc3RydWN0b3IoZSl7dGhpcy5qdW1wVG8oZSl9Z2V0VmFsdWUodCl7aWYodDw9dGhpcy5fc3RhcnRUaW1lKXJldHVybiB0aGlzLl9zdGFydDtpZih0Pj10aGlzLl9lbmRUaW1lKXJldHVybiB0aGlzLl9lbmQ7Y29uc3Qgbj1lLmVhc2VDdWJpY0luT3V0KCh0LXRoaXMuX3N0YXJ0VGltZSkvKHRoaXMuX2VuZFRpbWUtdGhpcy5fc3RhcnRUaW1lKSk7cmV0dXJuIHRoaXMuX3N0YXJ0KigxLW4pK3RoaXMuX2VuZCpufWlzRWFzaW5nKGUpe3JldHVybiBlPj10aGlzLl9zdGFydFRpbWUmJmU8PXRoaXMuX2VuZFRpbWV9anVtcFRvKGUpe3RoaXMuX3N0YXJ0VGltZT0tMS8wLHRoaXMuX2VuZFRpbWU9LTEvMCx0aGlzLl9zdGFydD1lLHRoaXMuX2VuZD1lfWVhc2VUbyhlLHQsbil7dGhpcy5fc3RhcnQ9dGhpcy5nZXRWYWx1ZSh0KSx0aGlzLl9lbmQ9ZSx0aGlzLl9zdGFydFRpbWU9dCx0aGlzLl9lbmRUaW1lPXQrbn19Y29uc3Qgb289e1wiQXR0cmlidXRpb25Db250cm9sLlRvZ2dsZUF0dHJpYnV0aW9uXCI6XCJUb2dnbGUgYXR0cmlidXRpb25cIixcIkF0dHJpYnV0aW9uQ29udHJvbC5NYXBGZWVkYmFja1wiOlwiTWFwIGZlZWRiYWNrXCIsXCJGdWxsc2NyZWVuQ29udHJvbC5FbnRlclwiOlwiRW50ZXIgZnVsbHNjcmVlblwiLFwiRnVsbHNjcmVlbkNvbnRyb2wuRXhpdFwiOlwiRXhpdCBmdWxsc2NyZWVuXCIsXCJHZW9sb2NhdGVDb250cm9sLkZpbmRNeUxvY2F0aW9uXCI6XCJGaW5kIG15IGxvY2F0aW9uXCIsXCJHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlXCI6XCJMb2NhdGlvbiBub3QgYXZhaWxhYmxlXCIsXCJMb2dvQ29udHJvbC5UaXRsZVwiOlwiTWFwYm94IGxvZ29cIixcIk1hcC5UaXRsZVwiOlwiTWFwXCIsXCJOYXZpZ2F0aW9uQ29udHJvbC5SZXNldEJlYXJpbmdcIjpcIlJlc2V0IGJlYXJpbmcgdG8gbm9ydGhcIixcIk5hdmlnYXRpb25Db250cm9sLlpvb21JblwiOlwiWm9vbSBpblwiLFwiTmF2aWdhdGlvbkNvbnRyb2wuWm9vbU91dFwiOlwiWm9vbSBvdXRcIixcIlNjcm9sbFpvb21CbG9ja2VyLkN0cmxNZXNzYWdlXCI6XCJVc2UgY3RybCArIHNjcm9sbCB0byB6b29tIHRoZSBtYXBcIixcIlNjcm9sbFpvb21CbG9ja2VyLkNtZE1lc3NhZ2VcIjpcIlVzZSDijJggKyBzY3JvbGwgdG8gem9vbSB0aGUgbWFwXCIsXCJUb3VjaFBhbkJsb2NrZXIuTWVzc2FnZVwiOlwiVXNlIHR3byBmaW5nZXJzIHRvIG1vdmUgdGhlIG1hcFwifSxhbz17Y2VudGVyOlswLDBdLHpvb206MCxiZWFyaW5nOjAscGl0Y2g6MCxtaW5ab29tOi0yLG1heFpvb206MjIsbWluUGl0Y2g6MCxtYXhQaXRjaDo4NSxpbnRlcmFjdGl2ZTohMCxzY3JvbGxab29tOiEwLGJveFpvb206ITAsZHJhZ1JvdGF0ZTohMCxkcmFnUGFuOiEwLGtleWJvYXJkOiEwLGRvdWJsZUNsaWNrWm9vbTohMCx0b3VjaFpvb21Sb3RhdGU6ITAsdG91Y2hQaXRjaDohMCxjb29wZXJhdGl2ZUdlc3R1cmVzOiExLHBlcmZvcm1hbmNlTWV0cmljc0NvbGxlY3Rpb246ITAsYmVhcmluZ1NuYXA6NyxjbGlja1RvbGVyYW5jZTozLHBpdGNoV2l0aFJvdGF0ZTohMCxoYXNoOiExLGF0dHJpYnV0aW9uQ29udHJvbDohMCxmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiExLHByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMSx0cmFja1Jlc2l6ZTohMCxvcHRpbWl6ZUZvclRlcnJhaW46ITAscmVuZGVyV29ybGRDb3BpZXM6ITAscmVmcmVzaEV4cGlyZWRUaWxlczohMCxtaW5UaWxlQ2FjaGVTaXplOm51bGwsbWF4VGlsZUNhY2hlU2l6ZTpudWxsLGxvY2FsSWRlb2dyYXBoRm9udEZhbWlseTpcInNhbnMtc2VyaWZcIixsb2NhbEZvbnRGYW1pbHk6bnVsbCx0cmFuc2Zvcm1SZXF1ZXN0Om51bGwsYWNjZXNzVG9rZW46bnVsbCxmYWRlRHVyYXRpb246MzAwLGNyb3NzU291cmNlQ29sbGlzaW9uczohMH0sc289e3Nob3dDb21wYXNzOiEwLHNob3dab29tOiEwLHZpc3VhbGl6ZVBpdGNoOiExfTtjbGFzcyBsb3tjb25zdHJ1Y3Rvcih0LG4saT0hMSl7dGhpcy5fY2xpY2tUb2xlcmFuY2U9MTAsdGhpcy5lbGVtZW50PW4sdGhpcy5tb3VzZVJvdGF0ZT1uZXcgeHIoe2NsaWNrVG9sZXJhbmNlOnQuZHJhZ1JvdGF0ZS5fbW91c2VSb3RhdGUuX2NsaWNrVG9sZXJhbmNlfSksdGhpcy5tYXA9dCxpJiYodGhpcy5tb3VzZVBpdGNoPW5ldyBicih7Y2xpY2tUb2xlcmFuY2U6dC5kcmFnUm90YXRlLl9tb3VzZVBpdGNoLl9jbGlja1RvbGVyYW5jZX0pKSxlLmJpbmRBbGwoW1wibW91c2Vkb3duXCIsXCJtb3VzZW1vdmVcIixcIm1vdXNldXBcIixcInRvdWNoc3RhcnRcIixcInRvdWNobW92ZVwiLFwidG91Y2hlbmRcIixcInJlc2V0XCJdLHRoaXMpLG4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMubW91c2Vkb3duKSxuLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy50b3VjaHN0YXJ0LHtwYXNzaXZlOiExfSksbi5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy50b3VjaG1vdmUpLG4uYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy50b3VjaGVuZCksbi5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIix0aGlzLnJlc2V0KX1kb3duKGUsdCl7dGhpcy5tb3VzZVJvdGF0ZS5tb3VzZWRvd24oZSx0KSx0aGlzLm1vdXNlUGl0Y2gmJnRoaXMubW91c2VQaXRjaC5tb3VzZWRvd24oZSx0KSx1KCl9bW92ZShlLHQpe2NvbnN0IG49dGhpcy5tYXAsaT10aGlzLm1vdXNlUm90YXRlLm1vdXNlbW92ZVdpbmRvdyhlLHQpLHI9aSYmaS5iZWFyaW5nRGVsdGE7aWYociYmbi5zZXRCZWFyaW5nKG4uZ2V0QmVhcmluZygpK3IpLHRoaXMubW91c2VQaXRjaCl7Y29uc3QgaT10aGlzLm1vdXNlUGl0Y2gubW91c2Vtb3ZlV2luZG93KGUsdCkscj1pJiZpLnBpdGNoRGVsdGE7ciYmbi5zZXRQaXRjaChuLmdldFBpdGNoKCkrcil9fW9mZigpe2NvbnN0IGU9dGhpcy5lbGVtZW50O2UucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLHRoaXMubW91c2Vkb3duKSxlLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy50b3VjaHN0YXJ0LHtwYXNzaXZlOiExfSksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsdGhpcy50b3VjaG1vdmUpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsdGhpcy50b3VjaGVuZCksZS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hjYW5jZWxcIix0aGlzLnJlc2V0KSx0aGlzLm9mZlRlbXAoKX1vZmZUZW1wKCl7aCgpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm1vdXNlbW92ZSksZS53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLm1vdXNldXApfW1vdXNlZG93bih0KXt0aGlzLmRvd24oZS5leHRlbmQoe30sdCx7Y3RybEtleTohMCxwcmV2ZW50RGVmYXVsdDooKT0+dC5wcmV2ZW50RGVmYXVsdCgpfSksZih0aGlzLmVsZW1lbnQsdCkpLGUud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLm1vdXNlbW92ZSksZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIix0aGlzLm1vdXNldXApfW1vdXNlbW92ZShlKXt0aGlzLm1vdmUoZSxmKHRoaXMuZWxlbWVudCxlKSl9bW91c2V1cChlKXt0aGlzLm1vdXNlUm90YXRlLm1vdXNldXBXaW5kb3coZSksdGhpcy5tb3VzZVBpdGNoJiZ0aGlzLm1vdXNlUGl0Y2gubW91c2V1cFdpbmRvdyhlKSx0aGlzLm9mZlRlbXAoKX10b3VjaHN0YXJ0KGUpezEhPT1lLnRhcmdldFRvdWNoZXMubGVuZ3RoP3RoaXMucmVzZXQoKToodGhpcy5fc3RhcnRQb3M9dGhpcy5fbGFzdFBvcz1tKHRoaXMuZWxlbWVudCxlLnRhcmdldFRvdWNoZXMpWzBdLHRoaXMuZG93bih7dHlwZTpcIm1vdXNlZG93blwiLGJ1dHRvbjowLGN0cmxLZXk6ITAscHJldmVudERlZmF1bHQ6KCk9PmUucHJldmVudERlZmF1bHQoKX0sdGhpcy5fc3RhcnRQb3MpKX10b3VjaG1vdmUoZSl7MSE9PWUudGFyZ2V0VG91Y2hlcy5sZW5ndGg/dGhpcy5yZXNldCgpOih0aGlzLl9sYXN0UG9zPW0odGhpcy5lbGVtZW50LGUudGFyZ2V0VG91Y2hlcylbMF0sdGhpcy5tb3ZlKHtwcmV2ZW50RGVmYXVsdDooKT0+ZS5wcmV2ZW50RGVmYXVsdCgpfSx0aGlzLl9sYXN0UG9zKSl9dG91Y2hlbmQoZSl7MD09PWUudGFyZ2V0VG91Y2hlcy5sZW5ndGgmJnRoaXMuX3N0YXJ0UG9zJiZ0aGlzLl9sYXN0UG9zJiZ0aGlzLl9zdGFydFBvcy5kaXN0KHRoaXMuX2xhc3RQb3MpPHRoaXMuX2NsaWNrVG9sZXJhbmNlJiZ0aGlzLmVsZW1lbnQuY2xpY2soKSx0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLm1vdXNlUm90YXRlLnJlc2V0KCksdGhpcy5tb3VzZVBpdGNoJiZ0aGlzLm1vdXNlUGl0Y2gucmVzZXQoKSxkZWxldGUgdGhpcy5fc3RhcnRQb3MsZGVsZXRlIHRoaXMuX2xhc3RQb3MsdGhpcy5vZmZUZW1wKCl9fWNvbnN0IGNvPXtwb3NpdGlvbk9wdGlvbnM6e2VuYWJsZUhpZ2hBY2N1cmFjeTohMSxtYXhpbXVtQWdlOjAsdGltZW91dDo2ZTN9LGZpdEJvdW5kc09wdGlvbnM6e21heFpvb206MTV9LHRyYWNrVXNlckxvY2F0aW9uOiExLHNob3dBY2N1cmFjeUNpcmNsZTohMCxzaG93VXNlckxvY2F0aW9uOiEwLHNob3dVc2VySGVhZGluZzohMX0sdW89e21heFdpZHRoOjEwMCx1bml0OlwibWV0cmljXCJ9O2Z1bmN0aW9uIGhvKGUsdCxuKXtjb25zdCBpPXBvKHQpLHI9aS90LG89e2tpbG9tZXRlcjpcImttXCIsbWV0ZXI6XCJtXCIsbWlsZTpcIm1pXCIsZm9vdDpcImZ0XCIsXCJuYXV0aWNhbC1taWxlXCI6XCJubVwifVtuXTt0aGlzLl9tYXAuX3JlcXVlc3REb21UYXNrKCgpPT57dGhpcy5fY29udGFpbmVyLnN0eWxlLndpZHRoPWUqcitcInB4XCIsdGhpcy5fY29udGFpbmVyLmlubmVySFRNTD1gJHtpfSZuYnNwOyR7b31gfSl9ZnVuY3Rpb24gcG8oZSl7Y29uc3QgdD1NYXRoLnBvdygxMCwoXCJcIitNYXRoLmZsb29yKGUpKS5sZW5ndGgtMSk7bGV0IG49ZS90O3JldHVybiBuPW4+PTEwPzEwOm4+PTU/NTpuPj0zPzM6bj49Mj8yOm4+PTE/MTpmdW5jdGlvbihlKXtjb25zdCB0PU1hdGgucG93KDEwLE1hdGguY2VpbCgtTWF0aC5sb2coZSkvTWF0aC5MTjEwKSk7cmV0dXJuIE1hdGgucm91bmQoZSp0KS90fShuKSx0Km59Y29uc3QgZm89e3ZlcnNpb246ZS52ZXJzaW9uLHN1cHBvcnRlZDpuLHNldFJUTFRleHRQbHVnaW46ZS5zZXRSVExUZXh0UGx1Z2luLGdldFJUTFRleHRQbHVnaW5TdGF0dXM6ZS5nZXRSVExUZXh0UGx1Z2luU3RhdHVzLE1hcDpjbGFzcyBleHRlbmRzIEhye2NvbnN0cnVjdG9yKHQpe2lmKGUuTGl2ZVBlcmZvcm1hbmNlVXRpbHMubWFyayhlLlBlcmZvcm1hbmNlTWFya2Vycy5jcmVhdGUpLG51bGwhPSh0PWUuZXh0ZW5kKHt9LGFvLHQpKS5taW5ab29tJiZudWxsIT10Lm1heFpvb20mJnQubWluWm9vbT50Lm1heFpvb20pdGhyb3cgbmV3IEVycm9yKFwibWF4Wm9vbSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBtaW5ab29tXCIpO2lmKG51bGwhPXQubWluUGl0Y2gmJm51bGwhPXQubWF4UGl0Y2gmJnQubWluUGl0Y2g+dC5tYXhQaXRjaCl0aHJvdyBuZXcgRXJyb3IoXCJtYXhQaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBtaW5QaXRjaFwiKTtpZihudWxsIT10Lm1pblBpdGNoJiZ0Lm1pblBpdGNoPDApdGhyb3cgbmV3IEVycm9yKFwibWluUGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMFwiKTtpZihudWxsIT10Lm1heFBpdGNoJiZ0Lm1heFBpdGNoPjg1KXRocm93IG5ldyBFcnJvcihcIm1heFBpdGNoIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIDg1XCIpO2lmKHQuYW50aWFsaWFzJiZlLmlzU2FmYXJpV2l0aEFudGlhbGlhc2luZ0J1ZyhlLndpbmRvdykmJih0LmFudGlhbGlhcz0hMSxlLndhcm5PbmNlKFwiQW50aWFsaWFzaW5nIGlzIGRpc2FibGVkIGZvciB0aGlzIFdlYkdMIGNvbnRleHQgdG8gYXZvaWQgYnJvd3NlciBidWc6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYXBib3gvbWFwYm94LWdsLWpzL2lzc3Vlcy8xMTYwOVwiKSksc3VwZXIobmV3IFhpKHQubWluWm9vbSx0Lm1heFpvb20sdC5taW5QaXRjaCx0Lm1heFBpdGNoLHQucmVuZGVyV29ybGRDb3BpZXMpLHQpLHRoaXMuX2ludGVyYWN0aXZlPXQuaW50ZXJhY3RpdmUsdGhpcy5fbWluVGlsZUNhY2hlU2l6ZT10Lm1pblRpbGVDYWNoZVNpemUsdGhpcy5fbWF4VGlsZUNhY2hlU2l6ZT10Lm1heFRpbGVDYWNoZVNpemUsdGhpcy5fZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD10LmZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQsdGhpcy5fcHJlc2VydmVEcmF3aW5nQnVmZmVyPXQucHJlc2VydmVEcmF3aW5nQnVmZmVyLHRoaXMuX2FudGlhbGlhcz10LmFudGlhbGlhcyx0aGlzLl90cmFja1Jlc2l6ZT10LnRyYWNrUmVzaXplLHRoaXMuX2JlYXJpbmdTbmFwPXQuYmVhcmluZ1NuYXAsdGhpcy5fcmVmcmVzaEV4cGlyZWRUaWxlcz10LnJlZnJlc2hFeHBpcmVkVGlsZXMsdGhpcy5fZmFkZUR1cmF0aW9uPXQuZmFkZUR1cmF0aW9uLHRoaXMuX2lzSW5pdGlhbExvYWQ9ITAsdGhpcy5fY3Jvc3NTb3VyY2VDb2xsaXNpb25zPXQuY3Jvc3NTb3VyY2VDb2xsaXNpb25zLHRoaXMuX2NvbGxlY3RSZXNvdXJjZVRpbWluZz10LmNvbGxlY3RSZXNvdXJjZVRpbWluZyx0aGlzLl9vcHRpbWl6ZUZvclRlcnJhaW49dC5vcHRpbWl6ZUZvclRlcnJhaW4sdGhpcy5fbGFuZ3VhZ2U9dGhpcy5fcGFyc2VMYW5ndWFnZSh0Lmxhbmd1YWdlKSx0aGlzLl93b3JsZHZpZXc9dC53b3JsZHZpZXcsdGhpcy5fcmVuZGVyVGFza1F1ZXVlPW5ldyBKcix0aGlzLl9kb21SZW5kZXJUYXNrUXVldWU9bmV3IEpyLHRoaXMuX2NvbnRyb2xzPVtdLHRoaXMuX21hcmtlcnM9W10sdGhpcy5fcG9wdXBzPVtdLHRoaXMuX21hcElkPWUudW5pcXVlSWQoKSx0aGlzLl9sb2NhbGU9ZS5leHRlbmQoe30sb28sdC5sb2NhbGUpLHRoaXMuX2NsaWNrVG9sZXJhbmNlPXQuY2xpY2tUb2xlcmFuY2UsdGhpcy5fY29vcGVyYXRpdmVHZXN0dXJlcz10LmNvb3BlcmF0aXZlR2VzdHVyZXMsdGhpcy5fcGVyZm9ybWFuY2VNZXRyaWNzQ29sbGVjdGlvbj10LnBlcmZvcm1hbmNlTWV0cmljc0NvbGxlY3Rpb24sdGhpcy5fY29udGFpbmVyV2lkdGg9MCx0aGlzLl9jb250YWluZXJIZWlnaHQ9MCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uTGFzdFNhbXBsZWRBdD0tMS8wLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25FeGFnZ2VyYXRpb249MCx0aGlzLl9hdmVyYWdlRWxldmF0aW9uPW5ldyBybygwKSx0aGlzLl9pbnRlcmFjdGlvblJhbmdlPVsxLzAsLTEvMF0sdGhpcy5fdmlzaWJpbGl0eUhpZGRlbj0wLHRoaXMuX3VzZUV4cGxpY2l0UHJvamVjdGlvbj0hMSx0aGlzLl9yZXF1ZXN0TWFuYWdlcj1uZXcgZS5SZXF1ZXN0TWFuYWdlcih0LnRyYW5zZm9ybVJlcXVlc3QsdC5hY2Nlc3NUb2tlbix0LnRlc3RNb2RlKSx0aGlzLl9zaWxlbmNlQXV0aEVycm9ycz0hIXQudGVzdE1vZGUsXCJzdHJpbmdcIj09dHlwZW9mIHQuY29udGFpbmVyKXtpZih0aGlzLl9jb250YWluZXI9ZS53aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodC5jb250YWluZXIpLCF0aGlzLl9jb250YWluZXIpdGhyb3cgbmV3IEVycm9yKGBDb250YWluZXIgJyR7dC5jb250YWluZXJ9JyBub3QgZm91bmQuYCl9ZWxzZXtpZighKHQuY29udGFpbmVyIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEVsZW1lbnQpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdHlwZTogJ2NvbnRhaW5lcicgbXVzdCBiZSBhIFN0cmluZyBvciBIVE1MRWxlbWVudC5cIik7dGhpcy5fY29udGFpbmVyPXQuY29udGFpbmVyfWlmKHRoaXMuX2NvbnRhaW5lci5jaGlsZE5vZGVzLmxlbmd0aD4wJiZlLndhcm5PbmNlKFwiVGhlIG1hcCBjb250YWluZXIgZWxlbWVudCBzaG91bGQgYmUgZW1wdHksIG90aGVyd2lzZSB0aGUgbWFwJ3MgaW50ZXJhY3Rpdml0eSB3aWxsIGJlIG5lZ2F0aXZlbHkgaW1wYWN0ZWQuIElmIHlvdSB3YW50IHRvIGRpc3BsYXkgYSBtZXNzYWdlIHdoZW4gV2ViR0wgaXMgbm90IHN1cHBvcnRlZCwgdXNlIHRoZSBNYXBib3ggR0wgU3VwcG9ydGVkIHBsdWdpbiBpbnN0ZWFkLlwiKSx0Lm1heEJvdW5kcyYmdGhpcy5zZXRNYXhCb3VuZHModC5tYXhCb3VuZHMpLGUuYmluZEFsbChbXCJfb25XaW5kb3dPbmxpbmVcIixcIl9vbldpbmRvd1Jlc2l6ZVwiLFwiX29uVmlzaWJpbGl0eUNoYW5nZVwiLFwiX29uTWFwU2Nyb2xsXCIsXCJfY29udGV4dExvc3RcIixcIl9jb250ZXh0UmVzdG9yZWRcIl0sdGhpcyksdGhpcy5fc2V0dXBDb250YWluZXIoKSx0aGlzLl9zZXR1cFBhaW50ZXIoKSx2b2lkIDA9PT10aGlzLnBhaW50ZXIpdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGluaXRpYWxpemUgV2ViR0wuXCIpO3RoaXMub24oXCJtb3ZlXCIsKCk9PnRoaXMuX3VwZGF0ZSghMSkpLHRoaXMub24oXCJtb3ZlZW5kXCIsKCk9PnRoaXMuX3VwZGF0ZSghMSkpLHRoaXMub24oXCJ6b29tXCIsKCk9PnRoaXMuX3VwZGF0ZSghMCkpLHZvaWQgMCE9PWUud2luZG93JiYoZS53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLHRoaXMuX29uV2luZG93T25saW5lLCExKSxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLGUud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSwhMSkpLHRoaXMuaGFuZGxlcnM9bmV3IHFyKHRoaXMsdCksdGhpcy5fbG9jYWxGb250RmFtaWx5PXQubG9jYWxGb250RmFtaWx5LHRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseT10LmxvY2FsSWRlb2dyYXBoRm9udEZhbWlseSx0LnN0eWxlJiZ0aGlzLnNldFN0eWxlKHQuc3R5bGUse2xvY2FsRm9udEZhbWlseTp0aGlzLl9sb2NhbEZvbnRGYW1pbHksbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OnRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseX0pLHQucHJvamVjdGlvbiYmdGhpcy5zZXRQcm9qZWN0aW9uKHQucHJvamVjdGlvbiksdGhpcy5faGFzaD10Lmhhc2gmJm5ldyBKaShcInN0cmluZ1wiPT10eXBlb2YgdC5oYXNoJiZ0Lmhhc2h8fHZvaWQgMCkuYWRkVG8odGhpcyksdGhpcy5faGFzaCYmdGhpcy5faGFzaC5fb25IYXNoQ2hhbmdlKCl8fCh0aGlzLmp1bXBUbyh7Y2VudGVyOnQuY2VudGVyLHpvb206dC56b29tLGJlYXJpbmc6dC5iZWFyaW5nLHBpdGNoOnQucGl0Y2h9KSx0LmJvdW5kcyYmKHRoaXMucmVzaXplKCksdGhpcy5maXRCb3VuZHModC5ib3VuZHMsZS5leHRlbmQoe30sdC5maXRCb3VuZHNPcHRpb25zLHtkdXJhdGlvbjowfSkpKSksdGhpcy5yZXNpemUoKSx0LmF0dHJpYnV0aW9uQ29udHJvbCYmdGhpcy5hZGRDb250cm9sKG5ldyBYcih7Y3VzdG9tQXR0cmlidXRpb246dC5jdXN0b21BdHRyaWJ1dGlvbn0pKSx0aGlzLl9sb2dvQ29udHJvbD1uZXcgWXIsdGhpcy5hZGRDb250cm9sKHRoaXMuX2xvZ29Db250cm9sLHQubG9nb1Bvc2l0aW9uKSx0aGlzLm9uKFwic3R5bGUubG9hZFwiLCgpPT57dGhpcy50cmFuc2Zvcm0udW5tb2RpZmllZCYmdGhpcy5qdW1wVG8odGhpcy5zdHlsZS5zdHlsZXNoZWV0KX0pLHRoaXMub24oXCJkYXRhXCIsdD0+e3RoaXMuX3VwZGF0ZShcInN0eWxlXCI9PT10LmRhdGFUeXBlKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQodC5kYXRhVHlwZStcImRhdGFcIix0KSl9KSx0aGlzLm9uKFwiZGF0YWxvYWRpbmdcIix0PT57dGhpcy5maXJlKG5ldyBlLkV2ZW50KHQuZGF0YVR5cGUrXCJkYXRhbG9hZGluZ1wiLHQpKX0pfV9nZXRNYXBJZCgpe3JldHVybiB0aGlzLl9tYXBJZH1hZGRDb250cm9sKHQsbil7aWYodm9pZCAwPT09biYmKG49dC5nZXREZWZhdWx0UG9zaXRpb24/dC5nZXREZWZhdWx0UG9zaXRpb24oKTpcInRvcC1yaWdodFwiKSwhdHx8IXQub25BZGQpcmV0dXJuIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkludmFsaWQgYXJndW1lbnQgdG8gbWFwLmFkZENvbnRyb2woKS4gQXJndW1lbnQgbXVzdCBiZSBhIGNvbnRyb2wgd2l0aCBvbkFkZCBhbmQgb25SZW1vdmUgbWV0aG9kcy5cIikpKTtjb25zdCBpPXQub25BZGQodGhpcyk7dGhpcy5fY29udHJvbHMucHVzaCh0KTtjb25zdCByPXRoaXMuX2NvbnRyb2xQb3NpdGlvbnNbbl07cmV0dXJuLTEhPT1uLmluZGV4T2YoXCJib3R0b21cIik/ci5pbnNlcnRCZWZvcmUoaSxyLmZpcnN0Q2hpbGQpOnIuYXBwZW5kQ2hpbGQoaSksdGhpc31yZW1vdmVDb250cm9sKHQpe2lmKCF0fHwhdC5vblJlbW92ZSlyZXR1cm4gdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudCB0byBtYXAucmVtb3ZlQ29udHJvbCgpLiBBcmd1bWVudCBtdXN0IGJlIGEgY29udHJvbCB3aXRoIG9uQWRkIGFuZCBvblJlbW92ZSBtZXRob2RzLlwiKSkpO2NvbnN0IG49dGhpcy5fY29udHJvbHMuaW5kZXhPZih0KTtyZXR1cm4gbj4tMSYmdGhpcy5fY29udHJvbHMuc3BsaWNlKG4sMSksdC5vblJlbW92ZSh0aGlzKSx0aGlzfWhhc0NvbnRyb2woZSl7cmV0dXJuIHRoaXMuX2NvbnRyb2xzLmluZGV4T2YoZSk+LTF9Z2V0Q29udGFpbmVyKCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn1nZXRDYW52YXNDb250YWluZXIoKXtyZXR1cm4gdGhpcy5fY2FudmFzQ29udGFpbmVyfWdldENhbnZhcygpe3JldHVybiB0aGlzLl9jYW52YXN9cmVzaXplKHQpe2lmKHRoaXMuX3VwZGF0ZUNvbnRhaW5lckRpbWVuc2lvbnMoKSx0aGlzLl9jb250YWluZXJXaWR0aD09PXRoaXMudHJhbnNmb3JtLndpZHRoJiZ0aGlzLl9jb250YWluZXJIZWlnaHQ9PT10aGlzLnRyYW5zZm9ybS5oZWlnaHQpcmV0dXJuIHRoaXM7dGhpcy5fcmVzaXplQ2FudmFzKHRoaXMuX2NvbnRhaW5lcldpZHRoLHRoaXMuX2NvbnRhaW5lckhlaWdodCksdGhpcy50cmFuc2Zvcm0ucmVzaXplKHRoaXMuX2NvbnRhaW5lcldpZHRoLHRoaXMuX2NvbnRhaW5lckhlaWdodCksdGhpcy5wYWludGVyLnJlc2l6ZShNYXRoLmNlaWwodGhpcy5fY29udGFpbmVyV2lkdGgpLE1hdGguY2VpbCh0aGlzLl9jb250YWluZXJIZWlnaHQpKTtjb25zdCBuPSF0aGlzLl9tb3Zpbmc7cmV0dXJuIG4mJnRoaXMuZmlyZShuZXcgZS5FdmVudChcIm1vdmVzdGFydFwiLHQpKS5maXJlKG5ldyBlLkV2ZW50KFwibW92ZVwiLHQpKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyZXNpemVcIix0KSksbiYmdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwibW92ZWVuZFwiLHQpKSx0aGlzfWdldEJvdW5kcygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5nZXRCb3VuZHMoKX1nZXRNYXhCb3VuZHMoKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0uZ2V0TWF4Qm91bmRzKCl8fG51bGx9c2V0TWF4Qm91bmRzKHQpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5zZXRNYXhCb3VuZHMoZS5MbmdMYXRCb3VuZHMuY29udmVydCh0KSksdGhpcy5fdXBkYXRlKCl9c2V0TWluWm9vbSh0KXtpZigodD1udWxsPT10Py0yOnQpPj0tMiYmdDw9dGhpcy50cmFuc2Zvcm0ubWF4Wm9vbSlyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluWm9vbT10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0Wm9vbSgpPHQ/dGhpcy5zZXRab29tKHQpOnRoaXMuZmlyZShuZXcgZS5FdmVudChcInpvb21zdGFydFwiKSkuZmlyZShuZXcgZS5FdmVudChcInpvb21cIikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tZW5kXCIpKSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1pblpvb20gbXVzdCBiZSBiZXR3ZWVuIC0yIGFuZCB0aGUgY3VycmVudCBtYXhab29tLCBpbmNsdXNpdmVcIil9Z2V0TWluWm9vbSgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5taW5ab29tfXNldE1heFpvb20odCl7aWYoKHQ9bnVsbD09dD8yMjp0KT49dGhpcy50cmFuc2Zvcm0ubWluWm9vbSlyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWF4Wm9vbT10LHRoaXMuX3VwZGF0ZSgpLHRoaXMuZ2V0Wm9vbSgpPnQ/dGhpcy5zZXRab29tKHQpOnRoaXMuZmlyZShuZXcgZS5FdmVudChcInpvb21zdGFydFwiKSkuZmlyZShuZXcgZS5FdmVudChcInpvb21cIikpLmZpcmUobmV3IGUuRXZlbnQoXCJ6b29tZW5kXCIpKSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1heFpvb20gbXVzdCBiZSBncmVhdGVyIHRoYW4gdGhlIGN1cnJlbnQgbWluWm9vbVwiKX1nZXRNYXhab29tKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFpvb219c2V0TWluUGl0Y2godCl7aWYoKHQ9bnVsbD09dD8wOnQpPDApdGhyb3cgbmV3IEVycm9yKFwibWluUGl0Y2ggbXVzdCBiZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gMFwiKTtpZih0Pj0wJiZ0PD10aGlzLnRyYW5zZm9ybS5tYXhQaXRjaClyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWluUGl0Y2g9dCx0aGlzLl91cGRhdGUoKSx0aGlzLmdldFBpdGNoKCk8dD90aGlzLnNldFBpdGNoKHQpOnRoaXMuZmlyZShuZXcgZS5FdmVudChcInBpdGNoc3RhcnRcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaFwiKSkuZmlyZShuZXcgZS5FdmVudChcInBpdGNoZW5kXCIpKSx0aGlzO3Rocm93IG5ldyBFcnJvcihcIm1pblBpdGNoIG11c3QgYmUgYmV0d2VlbiAwIGFuZCB0aGUgY3VycmVudCBtYXhQaXRjaCwgaW5jbHVzaXZlXCIpfWdldE1pblBpdGNoKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtLm1pblBpdGNofXNldE1heFBpdGNoKHQpe2lmKCh0PW51bGw9PXQ/ODU6dCk+ODUpdGhyb3cgbmV3IEVycm9yKFwibWF4UGl0Y2ggbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gODVcIik7aWYodD49dGhpcy50cmFuc2Zvcm0ubWluUGl0Y2gpcmV0dXJuIHRoaXMudHJhbnNmb3JtLm1heFBpdGNoPXQsdGhpcy5fdXBkYXRlKCksdGhpcy5nZXRQaXRjaCgpPnQ/dGhpcy5zZXRQaXRjaCh0KTp0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaHN0YXJ0XCIpKS5maXJlKG5ldyBlLkV2ZW50KFwicGl0Y2hcIikpLmZpcmUobmV3IGUuRXZlbnQoXCJwaXRjaGVuZFwiKSksdGhpczt0aHJvdyBuZXcgRXJyb3IoXCJtYXhQaXRjaCBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBtaW5QaXRjaFwiKX1nZXRNYXhQaXRjaCgpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5tYXhQaXRjaH1nZXRSZW5kZXJXb3JsZENvcGllcygpe3JldHVybiB0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllc31zZXRSZW5kZXJXb3JsZENvcGllcyhlKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXM9ZSx0aGlzLnRyYW5zZm9ybS5yZW5kZXJXb3JsZENvcGllc3x8dGhpcy5fZm9yY2VNYXJrZXJBbmRQb3B1cFVwZGF0ZSghMCksdGhpcy5fdXBkYXRlKCl9Z2V0TGFuZ3VhZ2UoKXtyZXR1cm4gdGhpcy5fbGFuZ3VhZ2V9X3BhcnNlTGFuZ3VhZ2UodCl7cmV0dXJuXCJhdXRvXCI9PT10P2Uud2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZTpBcnJheS5pc0FycmF5KHQpPzA9PT10Lmxlbmd0aD92b2lkIDA6dC5tYXAodD0+XCJhdXRvXCI9PT10P2Uud2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZTp0KTp0fXNldExhbmd1YWdlKGUpe2NvbnN0IHQ9dGhpcy5fcGFyc2VMYW5ndWFnZShlKTtpZighdGhpcy5zdHlsZXx8dD09PXRoaXMuX2xhbmd1YWdlKXJldHVybiB0aGlzO3RoaXMuX2xhbmd1YWdlPXQsdGhpcy5zdHlsZS5fcmVsb2FkU291cmNlcygpO2Zvcihjb25zdCBlIG9mIHRoaXMuX2NvbnRyb2xzKWUuX3NldExhbmd1YWdlJiZlLl9zZXRMYW5ndWFnZSh0aGlzLl9sYW5ndWFnZSk7cmV0dXJuIHRoaXN9Z2V0V29ybGR2aWV3KCl7cmV0dXJuIHRoaXMuX3dvcmxkdmlld31zZXRXb3JsZHZpZXcoZSl7cmV0dXJuIHRoaXMuc3R5bGUmJmUhPT10aGlzLl93b3JsZHZpZXc/KHRoaXMuX3dvcmxkdmlldz1lLHRoaXMuc3R5bGUuX3JlbG9hZFNvdXJjZXMoKSx0aGlzKTp0aGlzfWdldFByb2plY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubWVyY2F0b3JGcm9tVHJhbnNpdGlvbj97bmFtZTpcImdsb2JlXCIsY2VudGVyOlswLDBdfTp0aGlzLnRyYW5zZm9ybS5nZXRQcm9qZWN0aW9uKCl9X3Nob3dpbmdHbG9iZSgpe3JldHVyblwiZ2xvYmVcIj09PXRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ubmFtZX1zZXRQcm9qZWN0aW9uKGUpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSxlP1wic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT17bmFtZTplfSk6ZT1udWxsLHRoaXMuX3VzZUV4cGxpY2l0UHJvamVjdGlvbj0hIWUsdGhpcy5fcHJpb3JpdGl6ZUFuZFVwZGF0ZVByb2plY3Rpb24oZSx0aGlzLnN0eWxlLnN0eWxlc2hlZXQ/dGhpcy5zdHlsZS5zdHlsZXNoZWV0LnByb2plY3Rpb246bnVsbCl9X3VwZGF0ZVByb2plY3Rpb25UcmFuc2l0aW9uKCl7aWYoXCJnbG9iZVwiIT09dGhpcy5nZXRQcm9qZWN0aW9uKCkubmFtZSlyZXR1cm47Y29uc3QgdD10aGlzLnRyYW5zZm9ybSxuPXQucHJvamVjdGlvbi5uYW1lO2xldCBpO1wiZ2xvYmVcIj09PW4mJnQuem9vbT49ZS5HTE9CRV9aT09NX1RIUkVTSE9MRF9NQVg/KHQuc2V0TWVyY2F0b3JGcm9tVHJhbnNpdGlvbigpLGk9ITApOlwibWVyY2F0b3JcIj09PW4mJnQuem9vbTxlLkdMT0JFX1pPT01fVEhSRVNIT0xEX01BWCYmKHQuc2V0UHJvamVjdGlvbih7bmFtZTpcImdsb2JlXCJ9KSxpPSEwKSxpJiYodGhpcy5zdHlsZS5hcHBseVByb2plY3Rpb25VcGRhdGUoKSx0aGlzLnN0eWxlLl9mb3JjZVN5bWJvbExheWVyVXBkYXRlKCkpfV9wcmlvcml0aXplQW5kVXBkYXRlUHJvamVjdGlvbihlLHQpe3JldHVybiB0aGlzLl91cGRhdGVQcm9qZWN0aW9uKGV8fHR8fHtuYW1lOlwibWVyY2F0b3JcIn0pfV91cGRhdGVQcm9qZWN0aW9uKHQpe2xldCBuO2lmKG49XCJnbG9iZVwiPT09dC5uYW1lJiZ0aGlzLnRyYW5zZm9ybS56b29tPj1lLkdMT0JFX1pPT01fVEhSRVNIT0xEX01BWD90aGlzLnRyYW5zZm9ybS5zZXRNZXJjYXRvckZyb21UcmFuc2l0aW9uKCk6dGhpcy50cmFuc2Zvcm0uc2V0UHJvamVjdGlvbih0KSx0aGlzLnN0eWxlLmFwcGx5UHJvamVjdGlvblVwZGF0ZSgpLG4pe3RoaXMucGFpbnRlci5jbGVhckJhY2tncm91bmRUaWxlcygpO2Zvcihjb25zdCBlIGluIHRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcyl0aGlzLnN0eWxlLl9zb3VyY2VDYWNoZXNbZV0uY2xlYXJUaWxlcygpO3RoaXMuX3VwZGF0ZSghMCksdGhpcy5fZm9yY2VNYXJrZXJBbmRQb3B1cFVwZGF0ZSghMCl9cmV0dXJuIHRoaXN9cHJvamVjdCh0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYXRpb25Qb2ludDNEKGUuTG5nTGF0LmNvbnZlcnQodCkpfXVucHJvamVjdCh0KXtyZXR1cm4gdGhpcy50cmFuc2Zvcm0ucG9pbnRMb2NhdGlvbjNEKGUucG9pbnRHZW9tZXRyeS5jb252ZXJ0KHQpKX1pc01vdmluZygpe3JldHVybiB0aGlzLl9tb3Zpbmd8fHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuaXNNb3ZpbmcoKXx8ITF9aXNab29taW5nKCl7cmV0dXJuIHRoaXMuX3pvb21pbmd8fHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuaXNab29taW5nKCl8fCExfWlzUm90YXRpbmcoKXtyZXR1cm4gdGhpcy5fcm90YXRpbmd8fHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuaXNSb3RhdGluZygpfHwhMX1faXNEcmFnZ2luZygpe3JldHVybiB0aGlzLmhhbmRsZXJzJiZ0aGlzLmhhbmRsZXJzLl9pc0RyYWdnaW5nKCl8fCExfV9jcmVhdGVEZWxlZ2F0ZWRMaXN0ZW5lcihlLHQsbil7aWYoXCJtb3VzZWVudGVyXCI9PT1lfHxcIm1vdXNlb3ZlclwiPT09ZSl7bGV0IGk9ITE7Y29uc3Qgcj1yPT57Y29uc3Qgbz10LmZpbHRlcihlPT50aGlzLmdldExheWVyKGUpKSxhPW8ubGVuZ3RoP3RoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHIucG9pbnQse2xheWVyczpvfSk6W107YS5sZW5ndGg/aXx8KGk9ITAsbi5jYWxsKHRoaXMsbmV3IHNyKGUsdGhpcyxyLm9yaWdpbmFsRXZlbnQse2ZlYXR1cmVzOmF9KSkpOmk9ITF9LG89KCk9PntpPSExfTtyZXR1cm57bGF5ZXJzOm5ldyBTZXQodCksbGlzdGVuZXI6bixkZWxlZ2F0ZXM6e21vdXNlbW92ZTpyLG1vdXNlb3V0Om99fX1pZihcIm1vdXNlbGVhdmVcIj09PWV8fFwibW91c2VvdXRcIj09PWUpe2xldCBpPSExO2NvbnN0IHI9cj0+e2NvbnN0IG89dC5maWx0ZXIoZT0+dGhpcy5nZXRMYXllcihlKSk7KG8ubGVuZ3RoP3RoaXMucXVlcnlSZW5kZXJlZEZlYXR1cmVzKHIucG9pbnQse2xheWVyczpvfSk6W10pLmxlbmd0aD9pPSEwOmkmJihpPSExLG4uY2FsbCh0aGlzLG5ldyBzcihlLHRoaXMsci5vcmlnaW5hbEV2ZW50KSkpfSxvPXQ9PntpJiYoaT0hMSxuLmNhbGwodGhpcyxuZXcgc3IoZSx0aGlzLHQub3JpZ2luYWxFdmVudCkpKX07cmV0dXJue2xheWVyczpuZXcgU2V0KHQpLGxpc3RlbmVyOm4sZGVsZWdhdGVzOnttb3VzZW1vdmU6cixtb3VzZW91dDpvfX19e2NvbnN0IGk9ZT0+e2NvbnN0IGk9dC5maWx0ZXIoZT0+dGhpcy5nZXRMYXllcihlKSkscj1pLmxlbmd0aD90aGlzLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50LHtsYXllcnM6aX0pOltdO3IubGVuZ3RoJiYoZS5mZWF0dXJlcz1yLG4uY2FsbCh0aGlzLGUpLGRlbGV0ZSBlLmZlYXR1cmVzKX07cmV0dXJue2xheWVyczpuZXcgU2V0KHQpLGxpc3RlbmVyOm4sZGVsZWdhdGVzOntbZV06aX19fX1vbihlLHQsbil7aWYodm9pZCAwPT09bilyZXR1cm4gc3VwZXIub24oZSx0KTtBcnJheS5pc0FycmF5KHQpfHwodD1bdF0pO2NvbnN0IGk9dGhpcy5fY3JlYXRlRGVsZWdhdGVkTGlzdGVuZXIoZSx0LG4pO3RoaXMuX2RlbGVnYXRlZExpc3RlbmVycz10aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnN8fHt9LHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1tlXT10aGlzLl9kZWxlZ2F0ZWRMaXN0ZW5lcnNbZV18fFtdLHRoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1tlXS5wdXNoKGkpO2Zvcihjb25zdCBlIGluIGkuZGVsZWdhdGVzKXRoaXMub24oZSxpLmRlbGVnYXRlc1tlXSk7cmV0dXJuIHRoaXN9b25jZShlLHQsbil7aWYodm9pZCAwPT09bilyZXR1cm4gc3VwZXIub25jZShlLHQpO0FycmF5LmlzQXJyYXkodCl8fCh0PVt0XSk7Y29uc3QgaT10aGlzLl9jcmVhdGVEZWxlZ2F0ZWRMaXN0ZW5lcihlLHQsbik7Zm9yKGNvbnN0IGUgaW4gaS5kZWxlZ2F0ZXMpdGhpcy5vbmNlKGUsaS5kZWxlZ2F0ZXNbZV0pO3JldHVybiB0aGlzfW9mZihlLHQsbil7aWYodm9pZCAwPT09bilyZXR1cm4gc3VwZXIub2ZmKGUsdCk7dD1uZXcgU2V0KEFycmF5LmlzQXJyYXkodCk/dDpbdF0pO2NvbnN0IGk9KGUsdCk9PntpZihlLnNpemUhPT10LnNpemUpcmV0dXJuITE7Zm9yKGNvbnN0IG4gb2YgZSlpZighdC5oYXMobikpcmV0dXJuITE7cmV0dXJuITB9LHI9dGhpcy5fZGVsZWdhdGVkTGlzdGVuZXJzP3RoaXMuX2RlbGVnYXRlZExpc3RlbmVyc1tlXTp2b2lkIDA7cmV0dXJuIHImJihlPT57Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2NvbnN0IG89ZVtyXTtpZihvLmxpc3RlbmVyPT09biYmaShvLmxheWVycyx0KSl7Zm9yKGNvbnN0IGUgaW4gby5kZWxlZ2F0ZXMpdGhpcy5vZmYoZSxvLmRlbGVnYXRlc1tlXSk7cmV0dXJuIGUuc3BsaWNlKHIsMSksdGhpc319fSkociksdGhpc31xdWVyeVJlbmRlcmVkRmVhdHVyZXModCxuKXtyZXR1cm4gdGhpcy5zdHlsZT8odm9pZCAwIT09bnx8dm9pZCAwPT09dHx8dCBpbnN0YW5jZW9mIGUucG9pbnRHZW9tZXRyeXx8QXJyYXkuaXNBcnJheSh0KXx8KG49dCx0PXZvaWQgMCksdGhpcy5zdHlsZS5xdWVyeVJlbmRlcmVkRmVhdHVyZXModD10fHxbWzAsMF0sW3RoaXMudHJhbnNmb3JtLndpZHRoLHRoaXMudHJhbnNmb3JtLmhlaWdodF1dLG49bnx8e30sdGhpcy50cmFuc2Zvcm0pKTpbXX1xdWVyeVNvdXJjZUZlYXR1cmVzKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUucXVlcnlTb3VyY2VGZWF0dXJlcyhlLHQpfXNldFN0eWxlKHQsbil7cmV0dXJuITEhPT0obj1lLmV4dGVuZCh7fSx7bG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5OnRoaXMuX2xvY2FsSWRlb2dyYXBoRm9udEZhbWlseSxsb2NhbEZvbnRGYW1pbHk6dGhpcy5fbG9jYWxGb250RmFtaWx5fSxuKSkuZGlmZiYmbi5sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHk9PT10aGlzLl9sb2NhbElkZW9ncmFwaEZvbnRGYW1pbHkmJm4ubG9jYWxGb250RmFtaWx5PT09dGhpcy5fbG9jYWxGb250RmFtaWx5JiZ0aGlzLnN0eWxlJiZ0Pyh0aGlzLl9kaWZmU3R5bGUodCxuKSx0aGlzKToodGhpcy5fbG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5PW4ubG9jYWxJZGVvZ3JhcGhGb250RmFtaWx5LHRoaXMuX2xvY2FsRm9udEZhbWlseT1uLmxvY2FsRm9udEZhbWlseSx0aGlzLl91cGRhdGVTdHlsZSh0LG4pKX1fZ2V0VUlTdHJpbmcoZSl7Y29uc3QgdD10aGlzLl9sb2NhbGVbZV07aWYobnVsbD09dCl0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgVUkgc3RyaW5nICcke2V9J2ApO3JldHVybiB0fV91cGRhdGVTdHlsZShlLHQpe3JldHVybiB0aGlzLnN0eWxlJiYodGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KG51bGwpLHRoaXMuc3R5bGUuX3JlbW92ZSgpLHRoaXMuc3R5bGU9dm9pZCAwKSxlJiYodGhpcy5zdHlsZT1uZXcgUXQodGhpcyx0fHx7fSksdGhpcy5zdHlsZS5zZXRFdmVudGVkUGFyZW50KHRoaXMse3N0eWxlOnRoaXMuc3R5bGV9KSxcInN0cmluZ1wiPT10eXBlb2YgZT90aGlzLnN0eWxlLmxvYWRVUkwoZSk6dGhpcy5zdHlsZS5sb2FkSlNPTihlKSksdGhpcy5fdXBkYXRlVGVycmFpbigpLHRoaXN9X2xhenlJbml0RW1wdHlTdHlsZSgpe3RoaXMuc3R5bGV8fCh0aGlzLnN0eWxlPW5ldyBRdCh0aGlzLHt9KSx0aGlzLnN0eWxlLnNldEV2ZW50ZWRQYXJlbnQodGhpcyx7c3R5bGU6dGhpcy5zdHlsZX0pLHRoaXMuc3R5bGUubG9hZEVtcHR5KCkpfV9kaWZmU3R5bGUodCxuKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7Y29uc3QgaT10aGlzLl9yZXF1ZXN0TWFuYWdlci5ub3JtYWxpemVTdHlsZVVSTCh0KSxyPXRoaXMuX3JlcXVlc3RNYW5hZ2VyLnRyYW5zZm9ybVJlcXVlc3QoaSxlLlJlc291cmNlVHlwZS5TdHlsZSk7ZS5nZXRKU09OKHIsKHQsaSk9Pnt0P3RoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KHQpKTppJiZ0aGlzLl91cGRhdGVEaWZmKGksbil9KX1lbHNlXCJvYmplY3RcIj09dHlwZW9mIHQmJnRoaXMuX3VwZGF0ZURpZmYodCxuKX1fdXBkYXRlRGlmZih0LG4pe3RyeXt0aGlzLnN0eWxlLnNldFN0YXRlKHQpJiZ0aGlzLl91cGRhdGUoITApfWNhdGNoKGkpe2Uud2Fybk9uY2UoYFVuYWJsZSB0byBwZXJmb3JtIHN0eWxlIGRpZmY6ICR7aS5tZXNzYWdlfHxpLmVycm9yfHxpfS4gIFJlYnVpbGRpbmcgdGhlIHN0eWxlIGZyb20gc2NyYXRjaC5gKSx0aGlzLl91cGRhdGVTdHlsZSh0LG4pfX1nZXRTdHlsZSgpe2lmKHRoaXMuc3R5bGUpcmV0dXJuIHRoaXMuc3R5bGUuc2VyaWFsaXplKCl9aXNTdHlsZUxvYWRlZCgpe3JldHVybiB0aGlzLnN0eWxlP3RoaXMuc3R5bGUubG9hZGVkKCk6KGUud2Fybk9uY2UoXCJUaGVyZSBpcyBubyBzdHlsZSBhZGRlZCB0byB0aGUgbWFwLlwiKSwhMSl9YWRkU291cmNlKGUsdCl7cmV0dXJuIHRoaXMuX2xhenlJbml0RW1wdHlTdHlsZSgpLHRoaXMuc3R5bGUuYWRkU291cmNlKGUsdCksdGhpcy5fdXBkYXRlKCEwKX1pc1NvdXJjZUxvYWRlZChlKXtyZXR1cm4hIXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuX2lzU291cmNlQ2FjaGVMb2FkZWQoZSl9YXJlVGlsZXNMb2FkZWQoKXtjb25zdCBlPXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcztmb3IoY29uc3QgdCBpbiBlKXtjb25zdCBuPWVbdF0uX3RpbGVzO2Zvcihjb25zdCBlIGluIG4pe2NvbnN0IHQ9bltlXTtpZihcImxvYWRlZFwiIT09dC5zdGF0ZSYmXCJlcnJvcmVkXCIhPT10LnN0YXRlKXJldHVybiExfX1yZXR1cm4hMH1hZGRTb3VyY2VUeXBlKGUsdCxuKXt0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLmFkZFNvdXJjZVR5cGUoZSx0LG4pfXJlbW92ZVNvdXJjZShlKXtyZXR1cm4gdGhpcy5zdHlsZS5yZW1vdmVTb3VyY2UoZSksdGhpcy5fdXBkYXRlVGVycmFpbigpLHRoaXMuX3VwZGF0ZSghMCl9Z2V0U291cmNlKGUpe3JldHVybiB0aGlzLnN0eWxlLmdldFNvdXJjZShlKX1hZGRJbWFnZSh0LG4se3BpeGVsUmF0aW86aT0xLHNkZjpyPSExLHN0cmV0Y2hYOm8sc3RyZXRjaFk6YSxjb250ZW50OnN9PXt9KXtpZih0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSxuIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEltYWdlRWxlbWVudHx8ZS53aW5kb3cuSW1hZ2VCaXRtYXAmJm4gaW5zdGFuY2VvZiBlLndpbmRvdy5JbWFnZUJpdG1hcCl7Y29uc3R7d2lkdGg6bCxoZWlnaHQ6YyxkYXRhOnV9PWUuZXhwb3J0ZWQuZ2V0SW1hZ2VEYXRhKG4pO3RoaXMuc3R5bGUuYWRkSW1hZ2UodCx7ZGF0YTpuZXcgZS5SR0JBSW1hZ2Uoe3dpZHRoOmwsaGVpZ2h0OmN9LHUpLHBpeGVsUmF0aW86aSxzdHJldGNoWDpvLHN0cmV0Y2hZOmEsY29udGVudDpzLHNkZjpyLHZlcnNpb246MH0pfWVsc2UgaWYodm9pZCAwPT09bi53aWR0aHx8dm9pZCAwPT09bi5oZWlnaHQpdGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgdG8gbWFwLmFkZEltYWdlKCkuIFRoZSBzZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhbiBgSFRNTEltYWdlRWxlbWVudGAsIGBJbWFnZURhdGFgLCBgSW1hZ2VCaXRtYXBgLCBvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYCBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgXCIpKSk7ZWxzZXtjb25zdHt3aWR0aDpsLGhlaWdodDpjfT1uLHU9bjt0aGlzLnN0eWxlLmFkZEltYWdlKHQse2RhdGE6bmV3IGUuUkdCQUltYWdlKHt3aWR0aDpsLGhlaWdodDpjfSxuZXcgVWludDhBcnJheSh1LmRhdGEpKSxwaXhlbFJhdGlvOmksc3RyZXRjaFg6byxzdHJldGNoWTphLGNvbnRlbnQ6cyxzZGY6cix2ZXJzaW9uOjAsdXNlckltYWdlOnV9KSx1Lm9uQWRkJiZ1Lm9uQWRkKHRoaXMsdCl9fXVwZGF0ZUltYWdlKHQsbil7Y29uc3QgaT10aGlzLnN0eWxlLmdldEltYWdlKHQpO2lmKCFpKXJldHVybiB2b2lkIHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIlRoZSBtYXAgaGFzIG5vIGltYWdlIHdpdGggdGhhdCBpZC4gSWYgeW91IGFyZSBhZGRpbmcgYSBuZXcgaW1hZ2UgdXNlIGBtYXAuYWRkSW1hZ2UoLi4uKWAgaW5zdGVhZC5cIikpKTtjb25zdCByPW4gaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50fHxlLndpbmRvdy5JbWFnZUJpdG1hcCYmbiBpbnN0YW5jZW9mIGUud2luZG93LkltYWdlQml0bWFwP2UuZXhwb3J0ZWQuZ2V0SW1hZ2VEYXRhKG4pOm4se3dpZHRoOm8saGVpZ2h0OmF9PXI7dm9pZCAwIT09byYmdm9pZCAwIT09YT9vPT09aS5kYXRhLndpZHRoJiZhPT09aS5kYXRhLmhlaWdodD8oaS5kYXRhLnJlcGxhY2Uoci5kYXRhLCEobiBpbnN0YW5jZW9mIGUud2luZG93LkhUTUxJbWFnZUVsZW1lbnR8fGUud2luZG93LkltYWdlQml0bWFwJiZuIGluc3RhbmNlb2YgZS53aW5kb3cuSW1hZ2VCaXRtYXApKSx0aGlzLnN0eWxlLnVwZGF0ZUltYWdlKHQsaSkpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihgVGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIHVwZGF0ZWQgaW1hZ2UgKCR7b30sICR7YX0pXFxuICAgICAgICAgICAgICAgIG11c3QgYmUgdGhhdCBzYW1lIGFzIHRoZSBwcmV2aW91cyB2ZXJzaW9uIG9mIHRoZSBpbWFnZVxcbiAgICAgICAgICAgICAgICAoJHtpLmRhdGEud2lkdGh9LCAke2kuZGF0YS5oZWlnaHR9KWApKSk6dGhpcy5maXJlKG5ldyBlLkVycm9yRXZlbnQobmV3IEVycm9yKFwiSW52YWxpZCBhcmd1bWVudHMgdG8gbWFwLnVwZGF0ZUltYWdlKCkuIFRoZSBzZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhbiBgSFRNTEltYWdlRWxlbWVudGAsIGBJbWFnZURhdGFgLCBgSW1hZ2VCaXRtYXBgLCBvciBvYmplY3Qgd2l0aCBgd2lkdGhgLCBgaGVpZ2h0YCwgYW5kIGBkYXRhYCBwcm9wZXJ0aWVzIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIGBJbWFnZURhdGFgXCIpKSl9aGFzSW1hZ2UodCl7cmV0dXJuIHQ/ISF0aGlzLnN0eWxlLmdldEltYWdlKHQpOih0aGlzLmZpcmUobmV3IGUuRXJyb3JFdmVudChuZXcgRXJyb3IoXCJNaXNzaW5nIHJlcXVpcmVkIGltYWdlIGlkXCIpKSksITEpfXJlbW92ZUltYWdlKGUpe3RoaXMuc3R5bGUucmVtb3ZlSW1hZ2UoZSl9bG9hZEltYWdlKHQsbil7ZS5nZXRJbWFnZSh0aGlzLl9yZXF1ZXN0TWFuYWdlci50cmFuc2Zvcm1SZXF1ZXN0KHQsZS5SZXNvdXJjZVR5cGUuSW1hZ2UpLCh0LGkpPT57bih0LGkgaW5zdGFuY2VvZiBlLndpbmRvdy5IVE1MSW1hZ2VFbGVtZW50P2UuZXhwb3J0ZWQuZ2V0SW1hZ2VEYXRhKGkpOmkpfSl9bGlzdEltYWdlcygpe3JldHVybiB0aGlzLnN0eWxlLmxpc3RJbWFnZXMoKX1hZGRMYXllcihlLHQpe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLmFkZExheWVyKGUsdCksdGhpcy5fdXBkYXRlKCEwKX1tb3ZlTGF5ZXIoZSx0KXtyZXR1cm4gdGhpcy5zdHlsZS5tb3ZlTGF5ZXIoZSx0KSx0aGlzLl91cGRhdGUoITApfXJlbW92ZUxheWVyKGUpe3JldHVybiB0aGlzLnN0eWxlLnJlbW92ZUxheWVyKGUpLHRoaXMuX3VwZGF0ZSghMCl9Z2V0TGF5ZXIoZSl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5ZXIoZSl9c2V0TGF5ZXJab29tUmFuZ2UoZSx0LG4pe3JldHVybiB0aGlzLnN0eWxlLnNldExheWVyWm9vbVJhbmdlKGUsdCxuKSx0aGlzLl91cGRhdGUoITApfXNldEZpbHRlcihlLHQsbj17fSl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0RmlsdGVyKGUsdCxuKSx0aGlzLl91cGRhdGUoITApfWdldEZpbHRlcihlKXtyZXR1cm4gdGhpcy5zdHlsZS5nZXRGaWx0ZXIoZSl9c2V0UGFpbnRQcm9wZXJ0eShlLHQsbixpPXt9KXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRQYWludFByb3BlcnR5KGUsdCxuLGkpLHRoaXMuX3VwZGF0ZSghMCl9Z2V0UGFpbnRQcm9wZXJ0eShlLHQpe3JldHVybiB0aGlzLnN0eWxlLmdldFBhaW50UHJvcGVydHkoZSx0KX1zZXRMYXlvdXRQcm9wZXJ0eShlLHQsbixpPXt9KXtyZXR1cm4gdGhpcy5zdHlsZS5zZXRMYXlvdXRQcm9wZXJ0eShlLHQsbixpKSx0aGlzLl91cGRhdGUoITApfWdldExheW91dFByb3BlcnR5KGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUuZ2V0TGF5b3V0UHJvcGVydHkoZSx0KX1zZXRMaWdodChlLHQ9e30pe3JldHVybiB0aGlzLl9sYXp5SW5pdEVtcHR5U3R5bGUoKSx0aGlzLnN0eWxlLnNldExpZ2h0KGUsdCksdGhpcy5fdXBkYXRlKCEwKX1nZXRMaWdodCgpe3JldHVybiB0aGlzLnN0eWxlLmdldExpZ2h0KCl9c2V0VGVycmFpbihlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksIWUmJnRoaXMudHJhbnNmb3JtLnByb2plY3Rpb24ucmVxdWlyZXNEcmFwaW5nP3RoaXMuc3R5bGUuc2V0VGVycmFpbkZvckRyYXBpbmcoKTp0aGlzLnN0eWxlLnNldFRlcnJhaW4oZSksdGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9LTEvMCx0aGlzLl91cGRhdGUoITApfWdldFRlcnJhaW4oKXtyZXR1cm4gdGhpcy5zdHlsZT90aGlzLnN0eWxlLmdldFRlcnJhaW4oKTpudWxsfXNldEZvZyhlKXtyZXR1cm4gdGhpcy5fbGF6eUluaXRFbXB0eVN0eWxlKCksdGhpcy5zdHlsZS5zZXRGb2coZSksdGhpcy5fdXBkYXRlKCEwKX1nZXRGb2coKXtyZXR1cm4gdGhpcy5zdHlsZT90aGlzLnN0eWxlLmdldEZvZygpOm51bGx9X3F1ZXJ5Rm9nT3BhY2l0eSh0KXtyZXR1cm4gdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5mb2c/dGhpcy5zdHlsZS5mb2cuZ2V0T3BhY2l0eUF0TGF0TG5nKGUuTG5nTGF0LmNvbnZlcnQodCksdGhpcy50cmFuc2Zvcm0pOjB9c2V0RmVhdHVyZVN0YXRlKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUuc2V0RmVhdHVyZVN0YXRlKGUsdCksdGhpcy5fdXBkYXRlKCl9cmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCl7cmV0dXJuIHRoaXMuc3R5bGUucmVtb3ZlRmVhdHVyZVN0YXRlKGUsdCksdGhpcy5fdXBkYXRlKCl9Z2V0RmVhdHVyZVN0YXRlKGUpe3JldHVybiB0aGlzLnN0eWxlLmdldEZlYXR1cmVTdGF0ZShlKX1fdXBkYXRlQ29udGFpbmVyRGltZW5zaW9ucygpe2lmKCF0aGlzLl9jb250YWluZXIpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRofHw0MDAsbj10aGlzLl9jb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0fHwzMDA7bGV0IGkscixvLGE9dGhpcy5fY29udGFpbmVyO2Zvcig7YSYmKCFyfHwhbyk7KXtjb25zdCB0PWUud2luZG93LmdldENvbXB1dGVkU3R5bGUoYSkudHJhbnNmb3JtO3QmJlwibm9uZVwiIT09dCYmKGk9dC5tYXRjaCgvbWF0cml4LipcXCgoLispXFwpLylbMV0uc3BsaXQoXCIsIFwiKSxpWzBdJiZcIjBcIiE9PWlbMF0mJlwiMVwiIT09aVswXSYmKHI9aVswXSksaVszXSYmXCIwXCIhPT1pWzNdJiZcIjFcIiE9PWlbM10mJihvPWlbM10pKSxhPWEucGFyZW50RWxlbWVudH10aGlzLl9jb250YWluZXJXaWR0aD1yP01hdGguYWJzKHQvcik6dCx0aGlzLl9jb250YWluZXJIZWlnaHQ9bz9NYXRoLmFicyhuL28pOm59X2RldGVjdE1pc3NpbmdDU1MoKXtcInJnYigyNTAsIDEyOCwgMTE0KVwiIT09ZS53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5KS5nZXRQcm9wZXJ0eVZhbHVlKFwiYmFja2dyb3VuZC1jb2xvclwiKSYmZS53YXJuT25jZShcIlRoaXMgcGFnZSBhcHBlYXJzIHRvIGJlIG1pc3NpbmcgQ1NTIGRlY2xhcmF0aW9ucyBmb3IgTWFwYm94IEdMIEpTLCB3aGljaCBtYXkgY2F1c2UgdGhlIG1hcCB0byBkaXNwbGF5IGluY29ycmVjdGx5LiBQbGVhc2UgZW5zdXJlIHlvdXIgcGFnZSBpbmNsdWRlcyBtYXBib3gtZ2wuY3NzLCBhcyBkZXNjcmliZWQgaW4gaHR0cHM6Ly93d3cubWFwYm94LmNvbS9tYXBib3gtZ2wtanMvYXBpLy5cIil9X3NldHVwQ29udGFpbmVyKCl7Y29uc3QgZT10aGlzLl9jb250YWluZXI7ZS5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtbWFwXCIpLCh0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5PW8oXCJkaXZcIixcIm1hcGJveGdsLWNhbmFyeVwiLGUpKS5zdHlsZS52aXNpYmlsaXR5PVwiaGlkZGVuXCIsdGhpcy5fZGV0ZWN0TWlzc2luZ0NTUygpO2NvbnN0IHQ9dGhpcy5fY2FudmFzQ29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWNhbnZhcy1jb250YWluZXJcIixlKTt0aGlzLl9pbnRlcmFjdGl2ZSYmdC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtaW50ZXJhY3RpdmVcIiksdGhpcy5fY2FudmFzPW8oXCJjYW52YXNcIixcIm1hcGJveGdsLWNhbnZhc1wiLHQpLHRoaXMuX2NhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLHRoaXMuX2NvbnRleHRMb3N0LCExKSx0aGlzLl9jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5fY29udGV4dFJlc3RvcmVkLCExKSx0aGlzLl9jYW52YXMuc2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIixcIjBcIiksdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIix0aGlzLl9nZXRVSVN0cmluZyhcIk1hcC5UaXRsZVwiKSksdGhpcy5fY2FudmFzLnNldEF0dHJpYnV0ZShcInJvbGVcIixcInJlZ2lvblwiKSx0aGlzLl91cGRhdGVDb250YWluZXJEaW1lbnNpb25zKCksdGhpcy5fcmVzaXplQ2FudmFzKHRoaXMuX2NvbnRhaW5lcldpZHRoLHRoaXMuX2NvbnRhaW5lckhlaWdodCk7Y29uc3Qgbj10aGlzLl9jb250cm9sQ29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWNvbnRyb2wtY29udGFpbmVyXCIsZSksaT10aGlzLl9jb250cm9sUG9zaXRpb25zPXt9O1tcInRvcC1sZWZ0XCIsXCJ0b3AtcmlnaHRcIixcImJvdHRvbS1sZWZ0XCIsXCJib3R0b20tcmlnaHRcIl0uZm9yRWFjaChlPT57aVtlXT1vKFwiZGl2XCIsXCJtYXBib3hnbC1jdHJsLVwiK2Usbil9KSx0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX29uTWFwU2Nyb2xsLCExKX1fcmVzaXplQ2FudmFzKHQsbil7Y29uc3QgaT1lLmV4cG9ydGVkLmRldmljZVBpeGVsUmF0aW98fDE7dGhpcy5fY2FudmFzLndpZHRoPWkqTWF0aC5jZWlsKHQpLHRoaXMuX2NhbnZhcy5oZWlnaHQ9aSpNYXRoLmNlaWwobiksdGhpcy5fY2FudmFzLnN0eWxlLndpZHRoPXQrXCJweFwiLHRoaXMuX2NhbnZhcy5zdHlsZS5oZWlnaHQ9bitcInB4XCJ9X2FkZE1hcmtlcihlKXt0aGlzLl9tYXJrZXJzLnB1c2goZSl9X3JlbW92ZU1hcmtlcihlKXtjb25zdCB0PXRoaXMuX21hcmtlcnMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMuX21hcmtlcnMuc3BsaWNlKHQsMSl9X2FkZFBvcHVwKGUpe3RoaXMuX3BvcHVwcy5wdXNoKGUpfV9yZW1vdmVQb3B1cChlKXtjb25zdCB0PXRoaXMuX3BvcHVwcy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5fcG9wdXBzLnNwbGljZSh0LDEpfV9zZXR1cFBhaW50ZXIoKXtjb25zdCB0PWUuZXh0ZW5kKHt9LG4ud2ViR0xDb250ZXh0QXR0cmlidXRlcyx7ZmFpbElmTWFqb3JQZXJmb3JtYW5jZUNhdmVhdDp0aGlzLl9mYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0LHByZXNlcnZlRHJhd2luZ0J1ZmZlcjp0aGlzLl9wcmVzZXJ2ZURyYXdpbmdCdWZmZXIsYW50aWFsaWFzOnRoaXMuX2FudGlhbGlhc3x8ITF9KSxpPXRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KFwid2ViZ2xcIix0KXx8dGhpcy5fY2FudmFzLmdldENvbnRleHQoXCJleHBlcmltZW50YWwtd2ViZ2xcIix0KTtpPyhlLnN0b3JlQXV0aFN0YXRlKGksITApLHRoaXMucGFpbnRlcj1uZXcgUmkoaSx0aGlzLnRyYW5zZm9ybSksdGhpcy5vbihcImRhdGFcIixlPT57XCJzb3VyY2VcIj09PWUuZGF0YVR5cGUmJnRoaXMucGFpbnRlci5zZXRUaWxlTG9hZGVkRmxhZyghMCl9KSxlLmV4cG9ydGVkJDEudGVzdFN1cHBvcnQoaSkpOnRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkZhaWxlZCB0byBpbml0aWFsaXplIFdlYkdMXCIpKSl9X2NvbnRleHRMb3N0KHQpe3QucHJldmVudERlZmF1bHQoKSx0aGlzLl9mcmFtZSYmKHRoaXMuX2ZyYW1lLmNhbmNlbCgpLHRoaXMuX2ZyYW1lPW51bGwpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcIndlYmdsY29udGV4dGxvc3RcIix7b3JpZ2luYWxFdmVudDp0fSkpfV9jb250ZXh0UmVzdG9yZWQodCl7dGhpcy5fc2V0dXBQYWludGVyKCksdGhpcy5yZXNpemUoKSx0aGlzLl91cGRhdGUoKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ3ZWJnbGNvbnRleHRyZXN0b3JlZFwiLHtvcmlnaW5hbEV2ZW50OnR9KSl9X29uTWFwU2Nyb2xsKGUpe2lmKGUudGFyZ2V0PT09dGhpcy5fY29udGFpbmVyKXJldHVybiB0aGlzLl9jb250YWluZXIuc2Nyb2xsVG9wPTAsdGhpcy5fY29udGFpbmVyLnNjcm9sbExlZnQ9MCwhMX1sb2FkZWQoKXtyZXR1cm4hdGhpcy5fc3R5bGVEaXJ0eSYmIXRoaXMuX3NvdXJjZXNEaXJ0eSYmISF0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmxvYWRlZCgpfV91cGRhdGUoZSl7cmV0dXJuIHRoaXMuc3R5bGU/KHRoaXMuX3N0eWxlRGlydHk9dGhpcy5fc3R5bGVEaXJ0eXx8ZSx0aGlzLl9zb3VyY2VzRGlydHk9ITAsdGhpcy50cmlnZ2VyUmVwYWludCgpLHRoaXMpOnRoaXN9X3JlcXVlc3RSZW5kZXJGcmFtZShlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKCksdGhpcy5fcmVuZGVyVGFza1F1ZXVlLmFkZChlKX1fY2FuY2VsUmVuZGVyRnJhbWUoZSl7dGhpcy5fcmVuZGVyVGFza1F1ZXVlLnJlbW92ZShlKX1fcmVxdWVzdERvbVRhc2soZSl7IXRoaXMubG9hZGVkKCl8fHRoaXMubG9hZGVkKCkmJiF0aGlzLmlzTW92aW5nKCk/ZSgpOnRoaXMuX2RvbVJlbmRlclRhc2tRdWV1ZS5hZGQoZSl9X3JlbmRlcih0KXtsZXQgbjtjb25zdCBpPXRoaXMucGFpbnRlci5jb250ZXh0LmV4dFRpbWVyUXVlcnkscj1lLmV4cG9ydGVkLm5vdygpO2lmKHRoaXMubGlzdGVucyhcImdwdS10aW1pbmctZnJhbWVcIikmJihuPWkuY3JlYXRlUXVlcnlFWFQoKSxpLmJlZ2luUXVlcnlFWFQoaS5USU1FX0VMQVBTRURfRVhULG4pKSx0aGlzLnBhaW50ZXIuY29udGV4dC5zZXREaXJ0eSgpLHRoaXMucGFpbnRlci5zZXRCYXNlU3RhdGUoKSwodGhpcy5pc01vdmluZygpfHx0aGlzLmlzUm90YXRpbmcoKXx8dGhpcy5pc1pvb21pbmcoKSkmJih0aGlzLl9pbnRlcmFjdGlvblJhbmdlWzBdPU1hdGgubWluKHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMF0sZS53aW5kb3cucGVyZm9ybWFuY2Uubm93KCkpLHRoaXMuX2ludGVyYWN0aW9uUmFuZ2VbMV09TWF0aC5tYXgodGhpcy5faW50ZXJhY3Rpb25SYW5nZVsxXSxlLndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSkpLHRoaXMuX3JlbmRlclRhc2tRdWV1ZS5ydW4odCksdGhpcy5fZG9tUmVuZGVyVGFza1F1ZXVlLnJ1bih0KSx0aGlzLl9yZW1vdmVkKXJldHVybjt0aGlzLl91cGRhdGVQcm9qZWN0aW9uVHJhbnNpdGlvbigpO2NvbnN0IG89dGhpcy5faXNJbml0aWFsTG9hZD8wOnRoaXMuX2ZhZGVEdXJhdGlvbjtpZih0aGlzLnN0eWxlJiZ0aGlzLl9zdHlsZURpcnR5KXt0aGlzLl9zdHlsZURpcnR5PSExO2NvbnN0IHQ9dGhpcy50cmFuc2Zvcm0uem9vbSxuPXRoaXMudHJhbnNmb3JtLnBpdGNoLGk9ZS5leHBvcnRlZC5ub3coKSxyPW5ldyBlLkV2YWx1YXRpb25QYXJhbWV0ZXJzKHQse25vdzppLGZhZGVEdXJhdGlvbjpvLHBpdGNoOm4sdHJhbnNpdGlvbjp0aGlzLnN0eWxlLmdldFRyYW5zaXRpb24oKX0pO3RoaXMuc3R5bGUudXBkYXRlKHIpfXRoaXMuc3R5bGUmJnRoaXMuc3R5bGUuZm9nJiZ0aGlzLnN0eWxlLmZvZy5oYXNUcmFuc2l0aW9uKCkmJih0aGlzLnN0eWxlLl9tYXJrZXJzTmVlZFVwZGF0ZT0hMCx0aGlzLl9zb3VyY2VzRGlydHk9ITApO2xldCBhPSExO2lmKHRoaXMuc3R5bGUmJnRoaXMuX3NvdXJjZXNEaXJ0eT8odGhpcy5fc291cmNlc0RpcnR5PSExLHRoaXMucGFpbnRlci5fdXBkYXRlRm9nKHRoaXMuc3R5bGUpLHRoaXMuX3VwZGF0ZVRlcnJhaW4oKSxhPXRoaXMuX3VwZGF0ZUF2ZXJhZ2VFbGV2YXRpb24ociksdGhpcy5zdHlsZS5fdXBkYXRlU291cmNlcyh0aGlzLnRyYW5zZm9ybSksdGhpcy5fZm9yY2VNYXJrZXJBbmRQb3B1cFVwZGF0ZSgpKTphPXRoaXMuX3VwZGF0ZUF2ZXJhZ2VFbGV2YXRpb24ociksdGhpcy5fcGxhY2VtZW50RGlydHk9dGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5fdXBkYXRlUGxhY2VtZW50KHRoaXMucGFpbnRlci50cmFuc2Zvcm0sdGhpcy5zaG93Q29sbGlzaW9uQm94ZXMsbyx0aGlzLl9jcm9zc1NvdXJjZUNvbGxpc2lvbnMpLHRoaXMuc3R5bGUmJnRoaXMucGFpbnRlci5yZW5kZXIodGhpcy5zdHlsZSx7c2hvd1RpbGVCb3VuZGFyaWVzOnRoaXMuc2hvd1RpbGVCb3VuZGFyaWVzLHNob3dUZXJyYWluV2lyZWZyYW1lOnRoaXMuc2hvd1RlcnJhaW5XaXJlZnJhbWUsc2hvd092ZXJkcmF3SW5zcGVjdG9yOnRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3RvcixzaG93UXVlcnlHZW9tZXRyeTohIXRoaXMuX3Nob3dRdWVyeUdlb21ldHJ5LHNob3dUaWxlQUFCQnM6dGhpcy5zaG93VGlsZUFBQkJzLHJvdGF0aW5nOnRoaXMuaXNSb3RhdGluZygpLHpvb21pbmc6dGhpcy5pc1pvb21pbmcoKSxtb3Zpbmc6dGhpcy5pc01vdmluZygpLGZhZGVEdXJhdGlvbjpvLGlzSW5pdGlhbExvYWQ6dGhpcy5faXNJbml0aWFsTG9hZCxzaG93UGFkZGluZzp0aGlzLnNob3dQYWRkaW5nLGdwdVRpbWluZzohIXRoaXMubGlzdGVucyhcImdwdS10aW1pbmctbGF5ZXJcIiksZ3B1VGltaW5nRGVmZXJyZWRSZW5kZXI6ISF0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWRlZmVycmVkLXJlbmRlclwiKSxzcGVlZEluZGV4VGltaW5nOnRoaXMuc3BlZWRJbmRleFRpbWluZ30pLHRoaXMuZmlyZShuZXcgZS5FdmVudChcInJlbmRlclwiKSksdGhpcy5sb2FkZWQoKSYmIXRoaXMuX2xvYWRlZCYmKHRoaXMuX2xvYWRlZD0hMCx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJsb2FkXCIpKSksdGhpcy5zdHlsZSYmdGhpcy5zdHlsZS5oYXNUcmFuc2l0aW9ucygpJiYodGhpcy5fc3R5bGVEaXJ0eT0hMCksdGhpcy5zdHlsZSYmIXRoaXMuX3BsYWNlbWVudERpcnR5JiZ0aGlzLnN0eWxlLl9yZWxlYXNlU3ltYm9sRmFkZVRpbGVzKCksbil7Y29uc3QgdD1lLmV4cG9ydGVkLm5vdygpLXI7aS5lbmRRdWVyeUVYVChpLlRJTUVfRUxBUFNFRF9FWFQsbiksc2V0VGltZW91dCgoKT0+e2NvbnN0IG89aS5nZXRRdWVyeU9iamVjdEVYVChuLGkuUVVFUllfUkVTVUxUX0VYVCkvMWU2O2kuZGVsZXRlUXVlcnlFWFQobiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZ3B1LXRpbWluZy1mcmFtZVwiLHtjcHVUaW1lOnQsZ3B1VGltZTpvfSkpLGUud2luZG93LnBlcmZvcm1hbmNlLm1hcmsoXCJmcmFtZS1ncHVcIix7c3RhcnRUaW1lOnIsZGV0YWlsOntncHVUaW1lOm99fSl9LDUwKX1pZih0aGlzLmxpc3RlbnMoXCJncHUtdGltaW5nLWxheWVyXCIpKXtjb25zdCB0PXRoaXMucGFpbnRlci5jb2xsZWN0R3B1VGltZXJzKCk7c2V0VGltZW91dCgoKT0+e2NvbnN0IG49dGhpcy5wYWludGVyLnF1ZXJ5R3B1VGltZXJzKHQpO3RoaXMuZmlyZShuZXcgZS5FdmVudChcImdwdS10aW1pbmctbGF5ZXJcIix7bGF5ZXJUaW1lczpufSkpfSw1MCl9aWYodGhpcy5saXN0ZW5zKFwiZ3B1LXRpbWluZy1kZWZlcnJlZC1yZW5kZXJcIikpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbGxlY3REZWZlcnJlZFJlbmRlckdwdVF1ZXJpZXMoKTtzZXRUaW1lb3V0KCgpPT57Y29uc3Qgbj10aGlzLnBhaW50ZXIucXVlcnlHcHVUaW1lRGVmZXJyZWRSZW5kZXIodCk7dGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZ3B1LXRpbWluZy1kZWZlcnJlZC1yZW5kZXJcIix7Z3B1VGltZTpufSkpfSw1MCl9Y29uc3Qgcz10aGlzLl9zb3VyY2VzRGlydHl8fHRoaXMuX3N0eWxlRGlydHl8fHRoaXMuX3BsYWNlbWVudERpcnR5fHxhO2lmKHN8fHRoaXMuX3JlcGFpbnQpdGhpcy50cmlnZ2VyUmVwYWludCgpO2Vsc2V7Y29uc3QgdD0hdGhpcy5pc01vdmluZygpJiZ0aGlzLmxvYWRlZCgpO2lmKHQmJihhPXRoaXMuX3VwZGF0ZUF2ZXJhZ2VFbGV2YXRpb24ociwhMCkpLGEpdGhpcy50cmlnZ2VyUmVwYWludCgpO2Vsc2UgaWYodGhpcy5fdHJpZ2dlckZyYW1lKCExKSx0JiYodGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiaWRsZVwiKSksdGhpcy5faXNJbml0aWFsTG9hZD0hMSx0aGlzLnNwZWVkSW5kZXhUaW1pbmcpKXtjb25zdCB0PXRoaXMuX2NhbGN1bGF0ZVNwZWVkSW5kZXgoKTt0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJzcGVlZGluZGV4Y29tcGxldGVkXCIse3NwZWVkSW5kZXg6dH0pKSx0aGlzLnNwZWVkSW5kZXhUaW1pbmc9ITF9fSF0aGlzLl9sb2FkZWR8fHRoaXMuX2Z1bGx5TG9hZGVkfHxzfHwodGhpcy5fZnVsbHlMb2FkZWQ9ITAsZS5MaXZlUGVyZm9ybWFuY2VVdGlscy5tYXJrKGUuUGVyZm9ybWFuY2VNYXJrZXJzLmZ1bGxMb2FkKSx0aGlzLl9wZXJmb3JtYW5jZU1ldHJpY3NDb2xsZWN0aW9uJiZlLnBvc3RQZXJmb3JtYW5jZUV2ZW50KHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbix7d2lkdGg6dGhpcy5wYWludGVyLndpZHRoLGhlaWdodDp0aGlzLnBhaW50ZXIuaGVpZ2h0LGludGVyYWN0aW9uUmFuZ2U6dGhpcy5faW50ZXJhY3Rpb25SYW5nZSx2aXNpYmlsaXR5SGlkZGVuOnRoaXMuX3Zpc2liaWxpdHlIaWRkZW4sdGVycmFpbkVuYWJsZWQ6ISF0aGlzLnBhaW50ZXIuc3R5bGUuZ2V0VGVycmFpbigpLGZvZ0VuYWJsZWQ6ISF0aGlzLnBhaW50ZXIuc3R5bGUuZ2V0Rm9nKCkscHJvamVjdGlvbjp0aGlzLmdldFByb2plY3Rpb24oKS5uYW1lLHpvb206dGhpcy50cmFuc2Zvcm0uem9vbSxyZW5kZXJlcjp0aGlzLnBhaW50ZXIuY29udGV4dC5yZW5kZXJlcix2ZW5kb3I6dGhpcy5wYWludGVyLmNvbnRleHQudmVuZG9yfSksdGhpcy5fYXV0aGVudGljYXRlKCkpfV9mb3JjZU1hcmtlckFuZFBvcHVwVXBkYXRlKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX21hcmtlcnMpZSYmIXRoaXMuZ2V0UmVuZGVyV29ybGRDb3BpZXMoKSYmKHQuX2xuZ0xhdD10Ll9sbmdMYXQud3JhcCgpKSx0Ll91cGRhdGUoKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9wb3B1cHMpIWV8fHRoaXMuZ2V0UmVuZGVyV29ybGRDb3BpZXMoKXx8dC5fdHJhY2tQb2ludGVyfHwodC5fbG5nTGF0PXQuX2xuZ0xhdC53cmFwKCkpLHQuX3VwZGF0ZSgpfV91cGRhdGVBdmVyYWdlRWxldmF0aW9uKGUsdD0hMSl7Y29uc3Qgbj1lPT4odGhpcy50cmFuc2Zvcm0uYXZlcmFnZUVsZXZhdGlvbj1lLHRoaXMuX3VwZGF0ZSghMSksITApO2lmKCF0aGlzLnBhaW50ZXIuYXZlcmFnZUVsZXZhdGlvbk5lZWRzRWFzaW5nKCkpcmV0dXJuIDAhPT10aGlzLnRyYW5zZm9ybS5hdmVyYWdlRWxldmF0aW9uJiZuKDApO2lmKCh0fHxlLXRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25MYXN0U2FtcGxlZEF0PjUwMCkmJiF0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmlzRWFzaW5nKGUpKXtjb25zdCB0PXRoaXMudHJhbnNmb3JtLmF2ZXJhZ2VFbGV2YXRpb247bGV0IGk9dGhpcy50cmFuc2Zvcm0uc2FtcGxlQXZlcmFnZUVsZXZhdGlvbigpLHI9ITE7dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uJiYocj10aGlzLnRyYW5zZm9ybS5lbGV2YXRpb24uZXhhZ2dlcmF0aW9uKCkhPT10aGlzLl9hdmVyYWdlRWxldmF0aW9uRXhhZ2dlcmF0aW9uLHRoaXMuX2F2ZXJhZ2VFbGV2YXRpb25FeGFnZ2VyYXRpb249dGhpcy50cmFuc2Zvcm0uZWxldmF0aW9uLmV4YWdnZXJhdGlvbigpKSxpc05hTihpKT9pPTA6dGhpcy5fYXZlcmFnZUVsZXZhdGlvbkxhc3RTYW1wbGVkQXQ9ZTtjb25zdCBvPU1hdGguYWJzKHQtaSk7aWYobz4xKXtpZih0aGlzLl9pc0luaXRpYWxMb2FkfHxyKXJldHVybiB0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmp1bXBUbyhpKSxuKGkpO3RoaXMuX2F2ZXJhZ2VFbGV2YXRpb24uZWFzZVRvKGksZSwzMDApfWVsc2UgaWYobz4xZS00KXJldHVybiB0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmp1bXBUbyhpKSxuKGkpfXJldHVybiEhdGhpcy5fYXZlcmFnZUVsZXZhdGlvbi5pc0Vhc2luZyhlKSYmbih0aGlzLl9hdmVyYWdlRWxldmF0aW9uLmdldFZhbHVlKGUpKX1fYXV0aGVudGljYXRlKCl7ZS5nZXRNYXBTZXNzaW9uQVBJKHRoaXMuX2dldE1hcElkKCksdGhpcy5fcmVxdWVzdE1hbmFnZXIuX3NrdVRva2VuLHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9jdXN0b21BY2Nlc3NUb2tlbix0PT57aWYodCYmKHQubWVzc2FnZT09PWUuQVVUSF9FUlJfTVNHfHw0MDE9PT10LnN0YXR1cykpe2NvbnN0IHQ9dGhpcy5wYWludGVyLmNvbnRleHQuZ2w7ZS5zdG9yZUF1dGhTdGF0ZSh0LCExKSx0aGlzLl9sb2dvQ29udHJvbCBpbnN0YW5jZW9mIFlyJiZ0aGlzLl9sb2dvQ29udHJvbC5fdXBkYXRlTG9nbygpLHQmJnQuY2xlYXIodC5ERVBUSF9CVUZGRVJfQklUfHQuQ09MT1JfQlVGRkVSX0JJVHx0LlNURU5DSUxfQlVGRkVSX0JJVCksdGhpcy5fc2lsZW5jZUF1dGhFcnJvcnN8fHRoaXMuZmlyZShuZXcgZS5FcnJvckV2ZW50KG5ldyBFcnJvcihcIkEgdmFsaWQgTWFwYm94IGFjY2VzcyB0b2tlbiBpcyByZXF1aXJlZCB0byB1c2UgTWFwYm94IEdMIEpTLiBUbyBjcmVhdGUgYW4gYWNjb3VudCBvciBhIG5ldyBhY2Nlc3MgdG9rZW4sIHZpc2l0IGh0dHBzOi8vYWNjb3VudC5tYXBib3guY29tL1wiKSkpfX0pLGUucG9zdE1hcExvYWRFdmVudCh0aGlzLl9nZXRNYXBJZCgpLHRoaXMuX3JlcXVlc3RNYW5hZ2VyLl9za3VUb2tlbix0aGlzLl9yZXF1ZXN0TWFuYWdlci5fY3VzdG9tQWNjZXNzVG9rZW4sKCk9Pnt9KX1fdXBkYXRlVGVycmFpbigpe2NvbnN0IGU9dGhpcy5faXNEcmFnZ2luZygpO3RoaXMucGFpbnRlci51cGRhdGVUZXJyYWluKHRoaXMuc3R5bGUsZSl9X2NhbGN1bGF0ZVNwZWVkSW5kZXgoKXtjb25zdCBlPXRoaXMucGFpbnRlci5jYW52YXNDb3B5KCksdD10aGlzLnBhaW50ZXIuZ2V0Q2FudmFzQ29waWVzQW5kVGltZXN0YW1wcygpO3QudGltZVN0YW1wcy5wdXNoKHBlcmZvcm1hbmNlLm5vdygpKTtjb25zdCBuPXRoaXMucGFpbnRlci5jb250ZXh0LmdsLGk9bi5jcmVhdGVGcmFtZWJ1ZmZlcigpO2Z1bmN0aW9uIHIoZSl7bi5mcmFtZWJ1ZmZlclRleHR1cmUyRChuLkZSQU1FQlVGRkVSLG4uQ09MT1JfQVRUQUNITUVOVDAsbi5URVhUVVJFXzJELGUsMCk7Y29uc3QgdD1uZXcgVWludDhBcnJheShuLmRyYXdpbmdCdWZmZXJXaWR0aCpuLmRyYXdpbmdCdWZmZXJIZWlnaHQqNCk7cmV0dXJuIG4ucmVhZFBpeGVscygwLDAsbi5kcmF3aW5nQnVmZmVyV2lkdGgsbi5kcmF3aW5nQnVmZmVySGVpZ2h0LG4uUkdCQSxuLlVOU0lHTkVEX0JZVEUsdCksdH1yZXR1cm4gbi5iaW5kRnJhbWVidWZmZXIobi5GUkFNRUJVRkZFUixpKSx0aGlzLl9jYW52YXNQaXhlbENvbXBhcmlzb24ocihlKSx0LmNhbnZhc0NvcGllcy5tYXAociksdC50aW1lU3RhbXBzKX1fY2FudmFzUGl4ZWxDb21wYXJpc29uKGUsdCxuKXtsZXQgaT1uWzFdLW5bMF07Y29uc3Qgcj1lLmxlbmd0aC80O2ZvcihsZXQgbz0wO288dC5sZW5ndGg7bysrKXtjb25zdCBhPXRbb107bGV0IHM9MDtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoO3QrPTQpYVt0XT09PWVbdF0mJmFbdCsxXT09PWVbdCsxXSYmYVt0KzJdPT09ZVt0KzJdJiZhW3QrM109PT1lW3QrM10mJihzKz0xKTtpKz0obltvKzJdLW5bbysxXSkqKDEtcy9yKX1yZXR1cm4gaX1yZW1vdmUoKXt0aGlzLl9oYXNoJiZ0aGlzLl9oYXNoLnJlbW92ZSgpO2Zvcihjb25zdCBlIG9mIHRoaXMuX2NvbnRyb2xzKWUub25SZW1vdmUodGhpcyk7dGhpcy5fY29udHJvbHM9W10sdGhpcy5fZnJhbWUmJih0aGlzLl9mcmFtZS5jYW5jZWwoKSx0aGlzLl9mcmFtZT1udWxsKSx0aGlzLl9yZW5kZXJUYXNrUXVldWUuY2xlYXIoKSx0aGlzLl9kb21SZW5kZXJUYXNrUXVldWUuY2xlYXIoKSx0aGlzLnN0eWxlJiZ0aGlzLnN0eWxlLmRlc3Ryb3koKSx0aGlzLnBhaW50ZXIuZGVzdHJveSgpLHRoaXMuaGFuZGxlcnMmJnRoaXMuaGFuZGxlcnMuZGVzdHJveSgpLHRoaXMuaGFuZGxlcnM9dm9pZCAwLHRoaXMuc2V0U3R5bGUobnVsbCksdm9pZCAwIT09ZS53aW5kb3cmJihlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5fb25XaW5kb3dSZXNpemUsITEpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvcmllbnRhdGlvbmNoYW5nZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwid2Via2l0ZnVsbHNjcmVlbmNoYW5nZVwiLHRoaXMuX29uV2luZG93UmVzaXplLCExKSxlLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy5fb25XaW5kb3dPbmxpbmUsITEpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlLCExKSk7Y29uc3QgdD10aGlzLnBhaW50ZXIuY29udGV4dC5nbC5nZXRFeHRlbnNpb24oXCJXRUJHTF9sb3NlX2NvbnRleHRcIik7dCYmdC5sb3NlQ29udGV4dCgpLHRoaXMuX2NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKFwid2ViZ2xjb250ZXh0bG9zdFwiLHRoaXMuX2NvbnRleHRMb3N0LCExKSx0aGlzLl9jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndlYmdsY29udGV4dHJlc3RvcmVkXCIsdGhpcy5fY29udGV4dFJlc3RvcmVkLCExKSx0aGlzLl9jYW52YXNDb250YWluZXIucmVtb3ZlKCksdGhpcy5fY29udHJvbENvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5LnJlbW92ZSgpLHRoaXMuX2NhbnZhcz12b2lkIDAsdGhpcy5fY2FudmFzQ29udGFpbmVyPXZvaWQgMCx0aGlzLl9jb250cm9sQ29udGFpbmVyPXZvaWQgMCx0aGlzLl9taXNzaW5nQ1NTQ2FuYXJ5PXZvaWQgMCx0aGlzLl9jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLW1hcFwiKSx0aGlzLl9jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLHRoaXMuX29uTWFwU2Nyb2xsLCExKSxlLnJlbW92ZUF1dGhTdGF0ZSh0aGlzLnBhaW50ZXIuY29udGV4dC5nbCksdGhpcy5fcmVtb3ZlZD0hMCx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJyZW1vdmVcIikpfXRyaWdnZXJSZXBhaW50KCl7dGhpcy5fdHJpZ2dlckZyYW1lKCEwKX1fdHJpZ2dlckZyYW1lKHQpe3RoaXMuX3JlbmRlck5leHRGcmFtZT10aGlzLl9yZW5kZXJOZXh0RnJhbWV8fHQsdGhpcy5zdHlsZSYmIXRoaXMuX2ZyYW1lJiYodGhpcy5fZnJhbWU9ZS5leHBvcnRlZC5mcmFtZShlPT57Y29uc3QgdD0hIXRoaXMuX3JlbmRlck5leHRGcmFtZTt0aGlzLl9mcmFtZT1udWxsLHRoaXMuX3JlbmRlck5leHRGcmFtZT1udWxsLHQmJnRoaXMuX3JlbmRlcihlKX0pKX1fcHJlbG9hZFRpbGVzKHQpe2NvbnN0IG49dGhpcy5zdHlsZT9PYmplY3QudmFsdWVzKHRoaXMuc3R5bGUuX3NvdXJjZUNhY2hlcyk6W107cmV0dXJuIGUuYXN5bmNBbGwobiwoZSxuKT0+ZS5fcHJlbG9hZFRpbGVzKHQsbiksKCk9Pnt0aGlzLnRyaWdnZXJSZXBhaW50KCl9KSx0aGlzfV9vbldpbmRvd09ubGluZSgpe3RoaXMuX3VwZGF0ZSgpfV9vbldpbmRvd1Jlc2l6ZShlKXt0aGlzLl90cmFja1Jlc2l6ZSYmdGhpcy5yZXNpemUoe29yaWdpbmFsRXZlbnQ6ZX0pLl91cGRhdGUoKX1fb25WaXNpYmlsaXR5Q2hhbmdlKCl7XCJoaWRkZW5cIj09PWUud2luZG93LmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSYmdGhpcy5fdmlzaWJpbGl0eUhpZGRlbisrfWdldCBzaG93VGlsZUJvdW5kYXJpZXMoKXtyZXR1cm4hIXRoaXMuX3Nob3dUaWxlQm91bmRhcmllc31zZXQgc2hvd1RpbGVCb3VuZGFyaWVzKGUpe3RoaXMuX3Nob3dUaWxlQm91bmRhcmllcyE9PWUmJih0aGlzLl9zaG93VGlsZUJvdW5kYXJpZXM9ZSx0aGlzLl91cGRhdGUoKSl9Z2V0IHNob3dUZXJyYWluV2lyZWZyYW1lKCl7cmV0dXJuISF0aGlzLl9zaG93VGVycmFpbldpcmVmcmFtZX1zZXQgc2hvd1RlcnJhaW5XaXJlZnJhbWUoZSl7dGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWUhPT1lJiYodGhpcy5fc2hvd1RlcnJhaW5XaXJlZnJhbWU9ZSx0aGlzLl91cGRhdGUoKSl9Z2V0IHNwZWVkSW5kZXhUaW1pbmcoKXtyZXR1cm4hIXRoaXMuX3NwZWVkSW5kZXhUaW1pbmd9c2V0IHNwZWVkSW5kZXhUaW1pbmcoZSl7dGhpcy5fc3BlZWRJbmRleFRpbWluZyE9PWUmJih0aGlzLl9zcGVlZEluZGV4VGltaW5nPWUsdGhpcy5fdXBkYXRlKCkpfWdldCBzaG93UGFkZGluZygpe3JldHVybiEhdGhpcy5fc2hvd1BhZGRpbmd9c2V0IHNob3dQYWRkaW5nKGUpe3RoaXMuX3Nob3dQYWRkaW5nIT09ZSYmKHRoaXMuX3Nob3dQYWRkaW5nPWUsdGhpcy5fdXBkYXRlKCkpfWdldCBzaG93Q29sbGlzaW9uQm94ZXMoKXtyZXR1cm4hIXRoaXMuX3Nob3dDb2xsaXNpb25Cb3hlc31zZXQgc2hvd0NvbGxpc2lvbkJveGVzKGUpe3RoaXMuX3Nob3dDb2xsaXNpb25Cb3hlcyE9PWUmJih0aGlzLl9zaG93Q29sbGlzaW9uQm94ZXM9ZSxlP3RoaXMuc3R5bGUuX2dlbmVyYXRlQ29sbGlzaW9uQm94ZXMoKTp0aGlzLl91cGRhdGUoKSl9Z2V0IHNob3dPdmVyZHJhd0luc3BlY3Rvcigpe3JldHVybiEhdGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yfXNldCBzaG93T3ZlcmRyYXdJbnNwZWN0b3IoZSl7dGhpcy5fc2hvd092ZXJkcmF3SW5zcGVjdG9yIT09ZSYmKHRoaXMuX3Nob3dPdmVyZHJhd0luc3BlY3Rvcj1lLHRoaXMuX3VwZGF0ZSgpKX1nZXQgcmVwYWludCgpe3JldHVybiEhdGhpcy5fcmVwYWludH1zZXQgcmVwYWludChlKXt0aGlzLl9yZXBhaW50IT09ZSYmKHRoaXMuX3JlcGFpbnQ9ZSx0aGlzLnRyaWdnZXJSZXBhaW50KCkpfWdldCB2ZXJ0aWNlcygpe3JldHVybiEhdGhpcy5fdmVydGljZXN9c2V0IHZlcnRpY2VzKGUpe3RoaXMuX3ZlcnRpY2VzPWUsdGhpcy5fdXBkYXRlKCl9Z2V0IHNob3dUaWxlQUFCQnMoKXtyZXR1cm4hIXRoaXMuX3Nob3dUaWxlQUFCQnN9c2V0IHNob3dUaWxlQUFCQnMoZSl7dGhpcy5fc2hvd1RpbGVBQUJCcyE9PWUmJih0aGlzLl9zaG93VGlsZUFBQkJzPWUsZSYmdGhpcy5fdXBkYXRlKCkpfV9zZXRDYWNoZUxpbWl0cyh0LG4pe2Uuc2V0Q2FjaGVMaW1pdHModCxuKX1nZXQgdmVyc2lvbigpe3JldHVybiBlLnZlcnNpb259fSxOYXZpZ2F0aW9uQ29udHJvbDpjbGFzc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLm9wdGlvbnM9ZS5leHRlbmQoe30sc28sdCksdGhpcy5fY29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cFwiKSx0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsZT0+ZS5wcmV2ZW50RGVmYXVsdCgpKSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJihlLmJpbmRBbGwoW1wiX3NldEJ1dHRvblRpdGxlXCIsXCJfdXBkYXRlWm9vbUJ1dHRvbnNcIl0sdGhpcyksdGhpcy5fem9vbUluQnV0dG9uPXRoaXMuX2NyZWF0ZUJ1dHRvbihcIm1hcGJveGdsLWN0cmwtem9vbS1pblwiLGU9Pnt0aGlzLl9tYXAmJnRoaXMuX21hcC56b29tSW4oe30se29yaWdpbmFsRXZlbnQ6ZX0pfSksbyhcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX3pvb21JbkJ1dHRvbikuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksdGhpcy5fem9vbU91dEJ1dHRvbj10aGlzLl9jcmVhdGVCdXR0b24oXCJtYXBib3hnbC1jdHJsLXpvb20tb3V0XCIsZT0+e3RoaXMuX21hcCYmdGhpcy5fbWFwLnpvb21PdXQoe30se29yaWdpbmFsRXZlbnQ6ZX0pfSksbyhcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHRoaXMuX3pvb21PdXRCdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJihlLmJpbmRBbGwoW1wiX3JvdGF0ZUNvbXBhc3NBcnJvd1wiXSx0aGlzKSx0aGlzLl9jb21wYXNzPXRoaXMuX2NyZWF0ZUJ1dHRvbihcIm1hcGJveGdsLWN0cmwtY29tcGFzc1wiLGU9Pntjb25zdCB0PXRoaXMuX21hcDt0JiYodGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoP3QucmVzZXROb3J0aFBpdGNoKHt9LHtvcmlnaW5hbEV2ZW50OmV9KTp0LnJlc2V0Tm9ydGgoe30se29yaWdpbmFsRXZlbnQ6ZX0pKX0pLHRoaXMuX2NvbXBhc3NJY29uPW8oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl9jb21wYXNzKSx0aGlzLl9jb21wYXNzSWNvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSl9X3VwZGF0ZVpvb21CdXR0b25zKCl7Y29uc3QgZT10aGlzLl9tYXA7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9ZS5nZXRab29tKCksbj10PT09ZS5nZXRNYXhab29tKCksaT10PT09ZS5nZXRNaW5ab29tKCk7dGhpcy5fem9vbUluQnV0dG9uLmRpc2FibGVkPW4sdGhpcy5fem9vbU91dEJ1dHRvbi5kaXNhYmxlZD1pLHRoaXMuX3pvb21JbkJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsbi50b1N0cmluZygpKSx0aGlzLl96b29tT3V0QnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIixpLnRvU3RyaW5nKCkpfV9yb3RhdGVDb21wYXNzQXJyb3coKXtjb25zdCBlPXRoaXMuX21hcDtpZighZSlyZXR1cm47Y29uc3QgdD10aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2g/YHNjYWxlKCR7MS9NYXRoLnBvdyhNYXRoLmNvcyhlLnRyYW5zZm9ybS5waXRjaCooTWF0aC5QSS8xODApKSwuNSl9KSByb3RhdGVYKCR7ZS50cmFuc2Zvcm0ucGl0Y2h9ZGVnKSByb3RhdGVaKCR7ZS50cmFuc2Zvcm0uYW5nbGUqKDE4MC9NYXRoLlBJKX1kZWcpYDpgcm90YXRlKCR7ZS50cmFuc2Zvcm0uYW5nbGUqKDE4MC9NYXRoLlBJKX1kZWcpYDtlLl9yZXF1ZXN0RG9tVGFzaygoKT0+e3RoaXMuX2NvbXBhc3NJY29uJiYodGhpcy5fY29tcGFzc0ljb24uc3R5bGUudHJhbnNmb3JtPXQpfSl9b25BZGQoZSl7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMub3B0aW9ucy5zaG93Wm9vbSYmKHRoaXMuX3NldEJ1dHRvblRpdGxlKHRoaXMuX3pvb21JbkJ1dHRvbixcIlpvb21JblwiKSx0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl96b29tT3V0QnV0dG9uLFwiWm9vbU91dFwiKSxlLm9uKFwiem9vbVwiLHRoaXMuX3VwZGF0ZVpvb21CdXR0b25zKSx0aGlzLl91cGRhdGVab29tQnV0dG9ucygpKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0aGlzLl9zZXRCdXR0b25UaXRsZSh0aGlzLl9jb21wYXNzLFwiUmVzZXRCZWFyaW5nXCIpLHRoaXMub3B0aW9ucy52aXN1YWxpemVQaXRjaCYmZS5vbihcInBpdGNoXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSxlLm9uKFwicm90YXRlXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSx0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3coKSx0aGlzLl9oYW5kbGVyPW5ldyBsbyhlLHRoaXMuX2NvbXBhc3MsdGhpcy5vcHRpb25zLnZpc3VhbGl6ZVBpdGNoKSksdGhpcy5fY29udGFpbmVyfW9uUmVtb3ZlKCl7Y29uc3QgZT10aGlzLl9tYXA7ZSYmKHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLm9wdGlvbnMuc2hvd1pvb20mJmUub2ZmKFwiem9vbVwiLHRoaXMuX3VwZGF0ZVpvb21CdXR0b25zKSx0aGlzLm9wdGlvbnMuc2hvd0NvbXBhc3MmJih0aGlzLm9wdGlvbnMudmlzdWFsaXplUGl0Y2gmJmUub2ZmKFwicGl0Y2hcIix0aGlzLl9yb3RhdGVDb21wYXNzQXJyb3cpLGUub2ZmKFwicm90YXRlXCIsdGhpcy5fcm90YXRlQ29tcGFzc0Fycm93KSx0aGlzLl9oYW5kbGVyJiZ0aGlzLl9oYW5kbGVyLm9mZigpLHRoaXMuX2hhbmRsZXI9dm9pZCAwKSx0aGlzLl9tYXA9dm9pZCAwKX1fY3JlYXRlQnV0dG9uKGUsdCl7Y29uc3Qgbj1vKFwiYnV0dG9uXCIsZSx0aGlzLl9jb250YWluZXIpO3JldHVybiBuLnR5cGU9XCJidXR0b25cIixuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHQpLG59X3NldEJ1dHRvblRpdGxlKGUsdCl7aWYoIXRoaXMuX21hcClyZXR1cm47Y29uc3Qgbj10aGlzLl9tYXAuX2dldFVJU3RyaW5nKFwiTmF2aWdhdGlvbkNvbnRyb2wuXCIrdCk7ZS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsbiksZS5maXJzdEVsZW1lbnRDaGlsZCYmZS5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLG4pfX0sR2VvbG9jYXRlQ29udHJvbDpjbGFzcyBleHRlbmRzIGUuRXZlbnRlZHtjb25zdHJ1Y3Rvcih0KXtzdXBlcigpLHRoaXMub3B0aW9ucz1lLmV4dGVuZCh7Z2VvbG9jYXRpb246ZS53aW5kb3cubmF2aWdhdG9yLmdlb2xvY2F0aW9ufSxjbyx0KSxlLmJpbmRBbGwoW1wiX29uU3VjY2Vzc1wiLFwiX29uRXJyb3JcIixcIl9vblpvb21cIixcIl9maW5pc2hcIixcIl9zZXR1cFVJXCIsXCJfdXBkYXRlQ2FtZXJhXCIsXCJfdXBkYXRlTWFya2VyXCIsXCJfdXBkYXRlTWFya2VyUm90YXRpb25cIixcIl9vbkRldmljZU9yaWVudGF0aW9uXCJdLHRoaXMpLHRoaXMuX3VwZGF0ZU1hcmtlclJvdGF0aW9uVGhyb3R0bGVkPVlpKHRoaXMuX3VwZGF0ZU1hcmtlclJvdGF0aW9uLDIwKSx0aGlzLl9udW1iZXJPZldhdGNoZXM9MH1vbkFkZChlKXtyZXR1cm4gdGhpcy5fbWFwPWUsdGhpcy5fY29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cFwiKSx0aGlzLl9jaGVja0dlb2xvY2F0aW9uU3VwcG9ydCh0aGlzLl9zZXR1cFVJKSx0aGlzLl9jb250YWluZXJ9b25SZW1vdmUoKXt2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQmJih0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD12b2lkIDApLHRoaXMub3B0aW9ucy5zaG93VXNlckxvY2F0aW9uJiZ0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXImJnRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5yZW1vdmUoKSx0aGlzLm9wdGlvbnMuc2hvd0FjY3VyYWN5Q2lyY2xlJiZ0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlciYmdGhpcy5fYWNjdXJhY3lDaXJjbGVNYXJrZXIucmVtb3ZlKCksdGhpcy5fY29udGFpbmVyLnJlbW92ZSgpLHRoaXMuX21hcC5vZmYoXCJ6b29tXCIsdGhpcy5fb25ab29tKSx0aGlzLl9tYXA9dm9pZCAwLHRoaXMuX251bWJlck9mV2F0Y2hlcz0wLHRoaXMuX25vVGltZW91dD0hMX1fY2hlY2tHZW9sb2NhdGlvblN1cHBvcnQodCl7Y29uc3Qgbj0oZT0hIXRoaXMub3B0aW9ucy5nZW9sb2NhdGlvbik9Pnt0aGlzLl9zdXBwb3J0c0dlb2xvY2F0aW9uPWUsdChlKX07dm9pZCAwIT09dGhpcy5fc3VwcG9ydHNHZW9sb2NhdGlvbj90KHRoaXMuX3N1cHBvcnRzR2VvbG9jYXRpb24pOnZvaWQgMCE9PWUud2luZG93Lm5hdmlnYXRvci5wZXJtaXNzaW9ucz9lLndpbmRvdy5uYXZpZ2F0b3IucGVybWlzc2lvbnMucXVlcnkoe25hbWU6XCJnZW9sb2NhdGlvblwifSkudGhlbihlPT5uKFwiZGVuaWVkXCIhPT1lLnN0YXRlKSkuY2F0Y2goKCk9Pm4oKSk6bigpfV9pc091dE9mTWFwTWF4Qm91bmRzKGUpe2NvbnN0IHQ9dGhpcy5fbWFwLmdldE1heEJvdW5kcygpLG49ZS5jb29yZHM7cmV0dXJuISF0JiYobi5sb25naXR1ZGU8dC5nZXRXZXN0KCl8fG4ubG9uZ2l0dWRlPnQuZ2V0RWFzdCgpfHxuLmxhdGl0dWRlPHQuZ2V0U291dGgoKXx8bi5sYXRpdHVkZT50LmdldE5vcnRoKCkpfV9zZXRFcnJvclN0YXRlKCl7c3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2VcIldBSVRJTkdfQUNUSVZFXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9FUlJPUlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpO2JyZWFrO2Nhc2VcIkFDVElWRV9MT0NLXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9FUlJPUlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKTticmVhaztjYXNlXCJCQUNLR1JPVU5EXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkJBQ0tHUk9VTkRfRVJST1JcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKX19X29uU3VjY2Vzcyh0KXtpZih0aGlzLl9tYXApe2lmKHRoaXMuX2lzT3V0T2ZNYXBNYXhCb3VuZHModCkpcmV0dXJuIHRoaXMuX3NldEVycm9yU3RhdGUoKSx0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJvdXRvZm1heGJvdW5kc1wiLHQpKSx0aGlzLl91cGRhdGVNYXJrZXIoKSx2b2lkIHRoaXMuX2ZpbmlzaCgpO2lmKHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbilzd2l0Y2godGhpcy5fbGFzdEtub3duUG9zaXRpb249dCx0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJXQUlUSU5HX0FDVElWRVwiOmNhc2VcIkFDVElWRV9MT0NLXCI6Y2FzZVwiQUNUSVZFX0VSUk9SXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkFDVElWRV9MT0NLXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjpjYXNlXCJCQUNLR1JPVU5EX0VSUk9SXCI6dGhpcy5fd2F0Y2hTdGF0ZT1cIkJBQ0tHUk9VTkRcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKX10aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmXCJPRkZcIiE9PXRoaXMuX3dhdGNoU3RhdGUmJnRoaXMuX3VwZGF0ZU1hcmtlcih0KSx0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJlwiQUNUSVZFX0xPQ0tcIiE9PXRoaXMuX3dhdGNoU3RhdGV8fHRoaXMuX3VwZGF0ZUNhbWVyYSh0KSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fZG90RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGVcIiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZ2VvbG9jYXRlXCIsdCkpLHRoaXMuX2ZpbmlzaCgpfX1fdXBkYXRlQ2FtZXJhKHQpe2NvbnN0IG49bmV3IGUuTG5nTGF0KHQuY29vcmRzLmxvbmdpdHVkZSx0LmNvb3Jkcy5sYXRpdHVkZSksaT10LmNvb3Jkcy5hY2N1cmFjeSxyPXRoaXMuX21hcC5nZXRCZWFyaW5nKCksbz1lLmV4dGVuZCh7YmVhcmluZzpyfSx0aGlzLm9wdGlvbnMuZml0Qm91bmRzT3B0aW9ucyk7dGhpcy5fbWFwLmZpdEJvdW5kcyhuLnRvQm91bmRzKGkpLG8se2dlb2xvY2F0ZVNvdXJjZTohMH0pfV91cGRhdGVNYXJrZXIodCl7aWYodCl7Y29uc3Qgbj1uZXcgZS5MbmdMYXQodC5jb29yZHMubG9uZ2l0dWRlLHQuY29vcmRzLmxhdGl0dWRlKTt0aGlzLl9hY2N1cmFjeUNpcmNsZU1hcmtlci5zZXRMbmdMYXQobikuYWRkVG8odGhpcy5fbWFwKSx0aGlzLl91c2VyTG9jYXRpb25Eb3RNYXJrZXIuc2V0TG5nTGF0KG4pLmFkZFRvKHRoaXMuX21hcCksdGhpcy5fYWNjdXJhY3k9dC5jb29yZHMuYWNjdXJhY3ksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMub3B0aW9ucy5zaG93QWNjdXJhY3lDaXJjbGUmJnRoaXMuX3VwZGF0ZUNpcmNsZVJhZGl1cygpfWVsc2UgdGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyLnJlbW92ZSgpLHRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyLnJlbW92ZSgpfV91cGRhdGVDaXJjbGVSYWRpdXMoKXtjb25zdCB0PXRoaXMuX21hcC50cmFuc2Zvcm0sbj1lLm1lcmNhdG9yWmZyb21BbHRpdHVkZSgxLHQuX2NlbnRlci5sYXQpKnQud29ybGRTaXplLGk9TWF0aC5jZWlsKDIqdGhpcy5fYWNjdXJhY3kqbik7dGhpcy5fY2lyY2xlRWxlbWVudC5zdHlsZS53aWR0aD1pK1wicHhcIix0aGlzLl9jaXJjbGVFbGVtZW50LnN0eWxlLmhlaWdodD1pK1wicHhcIn1fb25ab29tKCl7dGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMub3B0aW9ucy5zaG93QWNjdXJhY3lDaXJjbGUmJnRoaXMuX3VwZGF0ZUNpcmNsZVJhZGl1cygpfV91cGRhdGVNYXJrZXJSb3RhdGlvbigpe3RoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlciYmXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuX2hlYWRpbmc/KHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRSb3RhdGlvbih0aGlzLl9oZWFkaW5nKSx0aGlzLl9kb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZ1wiKSk6KHRoaXMuX2RvdEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nXCIpLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlci5zZXRSb3RhdGlvbigwKSl9X29uRXJyb3IodCl7aWYodGhpcy5fbWFwKXtpZih0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24paWYoMT09PXQuY29kZSl7dGhpcy5fd2F0Y2hTdGF0ZT1cIk9GRlwiLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZVwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvclwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5kaXNhYmxlZD0hMDtjb25zdCBlPXRoaXMuX21hcC5fZ2V0VUlTdHJpbmcoXCJHZW9sb2NhdGVDb250cm9sLkxvY2F0aW9uTm90QXZhaWxhYmxlXCIpO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsZSksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkJiZ0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIixlKSx2b2lkIDAhPT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQmJnRoaXMuX2NsZWFyV2F0Y2goKX1lbHNle2lmKDM9PT10LmNvZGUmJnRoaXMuX25vVGltZW91dClyZXR1cm47dGhpcy5fc2V0RXJyb3JTdGF0ZSgpfVwiT0ZGXCIhPT10aGlzLl93YXRjaFN0YXRlJiZ0aGlzLm9wdGlvbnMuc2hvd1VzZXJMb2NhdGlvbiYmdGhpcy5fZG90RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGVcIiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwiZXJyb3JcIix0KSksdGhpcy5fZmluaXNoKCl9fV9maW5pc2goKXt0aGlzLl90aW1lb3V0SWQmJmNsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0SWQpLHRoaXMuX3RpbWVvdXRJZD12b2lkIDB9X3NldHVwVUkodCl7aWYodm9pZCAwIT09dGhpcy5fbWFwKXtpZih0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsZT0+ZS5wcmV2ZW50RGVmYXVsdCgpKSx0aGlzLl9nZW9sb2NhdGVCdXR0b249byhcImJ1dHRvblwiLFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGVcIix0aGlzLl9jb250YWluZXIpLG8oXCJzcGFuXCIsXCJtYXBib3hnbC1jdHJsLWljb25cIix0aGlzLl9nZW9sb2NhdGVCdXR0b24pLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi50eXBlPVwiYnV0dG9uXCIsITE9PT10KXtlLndhcm5PbmNlKFwiR2VvbG9jYXRpb24gc3VwcG9ydCBpcyBub3QgYXZhaWxhYmxlIHNvIHRoZSBHZW9sb2NhdGVDb250cm9sIHdpbGwgYmUgZGlzYWJsZWQuXCIpO2NvbnN0IHQ9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIkdlb2xvY2F0ZUNvbnRyb2wuTG9jYXRpb25Ob3RBdmFpbGFibGVcIik7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmRpc2FibGVkPSEwLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIsdCksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkJiZ0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQuc2V0QXR0cmlidXRlKFwidGl0bGVcIix0KX1lbHNle2NvbnN0IGU9dGhpcy5fbWFwLl9nZXRVSVN0cmluZyhcIkdlb2xvY2F0ZUNvbnRyb2wuRmluZE15TG9jYXRpb25cIik7dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixlKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uZmlyc3RFbGVtZW50Q2hpbGQmJnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5maXJzdEVsZW1lbnRDaGlsZC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGUpfXRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmKHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIixcImZhbHNlXCIpLHRoaXMuX3dhdGNoU3RhdGU9XCJPRkZcIiksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJih0aGlzLl9kb3RFbGVtZW50PW8oXCJkaXZcIixcIm1hcGJveGdsLXVzZXItbG9jYXRpb25cIiksdGhpcy5fZG90RWxlbWVudC5hcHBlbmRDaGlsZChvKFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdFwiKSksdGhpcy5fZG90RWxlbWVudC5hcHBlbmRDaGlsZChvKFwiZGl2XCIsXCJtYXBib3hnbC11c2VyLWxvY2F0aW9uLWhlYWRpbmdcIikpLHRoaXMuX3VzZXJMb2NhdGlvbkRvdE1hcmtlcj1uZXcgZW8oe2VsZW1lbnQ6dGhpcy5fZG90RWxlbWVudCxyb3RhdGlvbkFsaWdubWVudDpcIm1hcFwiLHBpdGNoQWxpZ25tZW50OlwibWFwXCJ9KSx0aGlzLl9jaXJjbGVFbGVtZW50PW8oXCJkaXZcIixcIm1hcGJveGdsLXVzZXItbG9jYXRpb24tYWNjdXJhY3ktY2lyY2xlXCIpLHRoaXMuX2FjY3VyYWN5Q2lyY2xlTWFya2VyPW5ldyBlbyh7ZWxlbWVudDp0aGlzLl9jaXJjbGVFbGVtZW50LHBpdGNoQWxpZ25tZW50OlwibWFwXCJ9KSx0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24mJih0aGlzLl93YXRjaFN0YXRlPVwiT0ZGXCIpLHRoaXMuX21hcC5vbihcInpvb21cIix0aGlzLl9vblpvb20pKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy50cmlnZ2VyLmJpbmQodGhpcykpLHRoaXMuX3NldHVwPSEwLHRoaXMub3B0aW9ucy50cmFja1VzZXJMb2NhdGlvbiYmdGhpcy5fbWFwLm9uKFwibW92ZXN0YXJ0XCIsdD0+e3QuZ2VvbG9jYXRlU291cmNlfHxcIkFDVElWRV9MT0NLXCIhPT10aGlzLl93YXRjaFN0YXRlfHx0Lm9yaWdpbmFsRXZlbnQmJlwicmVzaXplXCI9PT10Lm9yaWdpbmFsRXZlbnQudHlwZXx8KHRoaXMuX3dhdGNoU3RhdGU9XCJCQUNLR1JPVU5EXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuZmlyZShuZXcgZS5FdmVudChcInRyYWNrdXNlcmxvY2F0aW9uZW5kXCIpKSl9KX19X29uRGV2aWNlT3JpZW50YXRpb24oZSl7dGhpcy5fdXNlckxvY2F0aW9uRG90TWFya2VyJiYoZS53ZWJraXRDb21wYXNzSGVhZGluZz90aGlzLl9oZWFkaW5nPWUud2Via2l0Q29tcGFzc0hlYWRpbmc6ITA9PT1lLmFic29sdXRlJiYodGhpcy5faGVhZGluZz0tMSplLmFscGhhKSx0aGlzLl91cGRhdGVNYXJrZXJSb3RhdGlvblRocm90dGxlZCgpKX10cmlnZ2VyKCl7aWYoIXRoaXMuX3NldHVwKXJldHVybiBlLndhcm5PbmNlKFwiR2VvbG9jYXRlIGNvbnRyb2wgdHJpZ2dlcmVkIGJlZm9yZSBhZGRlZCB0byBhIG1hcFwiKSwhMTtpZih0aGlzLm9wdGlvbnMudHJhY2tVc2VyTG9jYXRpb24pe3N3aXRjaCh0aGlzLl93YXRjaFN0YXRlKXtjYXNlXCJPRkZcIjp0aGlzLl93YXRjaFN0YXRlPVwiV0FJVElOR19BQ1RJVkVcIix0aGlzLmZpcmUobmV3IGUuRXZlbnQoXCJ0cmFja3VzZXJsb2NhdGlvbnN0YXJ0XCIpKTticmVhaztjYXNlXCJXQUlUSU5HX0FDVElWRVwiOmNhc2VcIkFDVElWRV9MT0NLXCI6Y2FzZVwiQUNUSVZFX0VSUk9SXCI6Y2FzZVwiQkFDS0dST1VORF9FUlJPUlwiOnRoaXMuX251bWJlck9mV2F0Y2hlcy0tLHRoaXMuX25vVGltZW91dD0hMSx0aGlzLl93YXRjaFN0YXRlPVwiT0ZGXCIsdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYmFja2dyb3VuZFwiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3JcIiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwidHJhY2t1c2VybG9jYXRpb25lbmRcIikpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjp0aGlzLl93YXRjaFN0YXRlPVwiQUNUSVZFX0xPQ0tcIix0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIiksdGhpcy5fbGFzdEtub3duUG9zaXRpb24mJnRoaXMuX3VwZGF0ZUNhbWVyYSh0aGlzLl9sYXN0S25vd25Qb3NpdGlvbiksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwidHJhY2t1c2VybG9jYXRpb25zdGFydFwiKSl9c3dpdGNoKHRoaXMuX3dhdGNoU3RhdGUpe2Nhc2VcIldBSVRJTkdfQUNUSVZFXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlXCIpO2JyZWFrO2Nhc2VcIkFDVElWRV9MT0NLXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1hY3RpdmVcIik7YnJlYWs7Y2FzZVwiQUNUSVZFX0VSUk9SXCI6dGhpcy5fZ2VvbG9jYXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS13YWl0aW5nXCIpLHRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlLWVycm9yXCIpO2JyZWFrO2Nhc2VcIkJBQ0tHUk9VTkRcIjp0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmRcIik7YnJlYWs7Y2FzZVwiQkFDS0dST1VORF9FUlJPUlwiOnRoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3JcIil9aWYoXCJPRkZcIj09PXRoaXMuX3dhdGNoU3RhdGUmJnZvaWQgMCE9PXRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRCl0aGlzLl9jbGVhcldhdGNoKCk7ZWxzZSBpZih2b2lkIDA9PT10aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpe2xldCBlO3RoaXMuX2dlb2xvY2F0ZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZ1wiKSx0aGlzLl9nZW9sb2NhdGVCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsXCJ0cnVlXCIpLHRoaXMuX251bWJlck9mV2F0Y2hlcysrLHRoaXMuX251bWJlck9mV2F0Y2hlcz4xPyhlPXttYXhpbXVtQWdlOjZlNSx0aW1lb3V0OjB9LHRoaXMuX25vVGltZW91dD0hMCk6KGU9dGhpcy5vcHRpb25zLnBvc2l0aW9uT3B0aW9ucyx0aGlzLl9ub1RpbWVvdXQ9ITEpLHRoaXMuX2dlb2xvY2F0aW9uV2F0Y2hJRD10aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbih0aGlzLl9vblN1Y2Nlc3MsdGhpcy5fb25FcnJvcixlKSx0aGlzLm9wdGlvbnMuc2hvd1VzZXJIZWFkaW5nJiZ0aGlzLl9hZGREZXZpY2VPcmllbnRhdGlvbkxpc3RlbmVyKCl9fWVsc2UgdGhpcy5vcHRpb25zLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbih0aGlzLl9vblN1Y2Nlc3MsdGhpcy5fb25FcnJvcix0aGlzLm9wdGlvbnMucG9zaXRpb25PcHRpb25zKSx0aGlzLl90aW1lb3V0SWQ9c2V0VGltZW91dCh0aGlzLl9maW5pc2gsMWU0KTtyZXR1cm4hMH1fYWRkRGV2aWNlT3JpZW50YXRpb25MaXN0ZW5lcigpe2NvbnN0IHQ9KCk9PntlLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25kZXZpY2VvcmllbnRhdGlvbmFic29sdXRlXCJpbiBlLndpbmRvdz9cImRldmljZW9yaWVudGF0aW9uYWJzb2x1dGVcIjpcImRldmljZW9yaWVudGF0aW9uXCIsdGhpcy5fb25EZXZpY2VPcmllbnRhdGlvbil9O3ZvaWQgMCE9PWUud2luZG93LkRldmljZU1vdGlvbkV2ZW50JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLndpbmRvdy5EZXZpY2VNb3Rpb25FdmVudC5yZXF1ZXN0UGVybWlzc2lvbj9EZXZpY2VPcmllbnRhdGlvbkV2ZW50LnJlcXVlc3RQZXJtaXNzaW9uKCkudGhlbihlPT57XCJncmFudGVkXCI9PT1lJiZ0KCl9KS5jYXRjaChjb25zb2xlLmVycm9yKTp0KCl9X2NsZWFyV2F0Y2goKXt0aGlzLm9wdGlvbnMuZ2VvbG9jYXRpb24uY2xlYXJXYXRjaCh0aGlzLl9nZW9sb2NhdGlvbldhdGNoSUQpLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkZXZpY2VvcmllbnRhdGlvblwiLHRoaXMuX29uRGV2aWNlT3JpZW50YXRpb24pLGUud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkZXZpY2VvcmllbnRhdGlvbmFic29sdXRlXCIsdGhpcy5fb25EZXZpY2VPcmllbnRhdGlvbiksdGhpcy5fZ2VvbG9jYXRpb25XYXRjaElEPXZvaWQgMCx0aGlzLl9nZW9sb2NhdGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcIm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLXdhaXRpbmdcIiksdGhpcy5fZ2VvbG9jYXRlQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLFwiZmFsc2VcIiksdGhpcy5vcHRpb25zLnNob3dVc2VyTG9jYXRpb24mJnRoaXMuX3VwZGF0ZU1hcmtlcihudWxsKX19LEF0dHJpYnV0aW9uQ29udHJvbDpYcixTY2FsZUNvbnRyb2w6Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5vcHRpb25zPWUuZXh0ZW5kKHt9LHVvLHQpLGZ1bmN0aW9uKCl7dHJ5e3JldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoXCJlblwiLHtzdHlsZTpcInVuaXRcIix1bml0RGlzcGxheTpcIm5hcnJvd1wiLHVuaXQ6XCJtZXRlclwifSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSgpfHwodGhpcy5fc2V0U2NhbGU9aG8uYmluZCh0aGlzKSksZS5iaW5kQWxsKFtcIl91cGRhdGVcIixcIl9zZXRTY2FsZVwiLFwic2V0VW5pdFwiXSx0aGlzKX1nZXREZWZhdWx0UG9zaXRpb24oKXtyZXR1cm5cImJvdHRvbS1sZWZ0XCJ9X3VwZGF0ZSgpe2NvbnN0IGU9dGhpcy5vcHRpb25zLm1heFdpZHRofHwxMDAsdD10aGlzLl9tYXAsbj10Ll9jb250YWluZXJIZWlnaHQvMixpPXQuX2NvbnRhaW5lcldpZHRoLzItZS8yLHI9dC51bnByb2plY3QoW2ksbl0pLG89dC51bnByb2plY3QoW2krZSxuXSksYT1yLmRpc3RhbmNlVG8obyk7aWYoXCJpbXBlcmlhbFwiPT09dGhpcy5vcHRpb25zLnVuaXQpe2NvbnN0IHQ9My4yODA4KmE7dD41MjgwP3RoaXMuX3NldFNjYWxlKGUsdC81MjgwLFwibWlsZVwiKTp0aGlzLl9zZXRTY2FsZShlLHQsXCJmb290XCIpfWVsc2VcIm5hdXRpY2FsXCI9PT10aGlzLm9wdGlvbnMudW5pdD90aGlzLl9zZXRTY2FsZShlLGEvMTg1MixcIm5hdXRpY2FsLW1pbGVcIik6YT49MWUzP3RoaXMuX3NldFNjYWxlKGUsYS8xZTMsXCJraWxvbWV0ZXJcIik6dGhpcy5fc2V0U2NhbGUoZSxhLFwibWV0ZXJcIil9X3NldFNjYWxlKGUsdCxuKXtjb25zdCBpPXBvKHQpLHI9aS90O3RoaXMuX21hcC5fcmVxdWVzdERvbVRhc2soKCk9Pnt0aGlzLl9jb250YWluZXIuc3R5bGUud2lkdGg9ZSpyK1wicHhcIix0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MPVwibmF1dGljYWwtbWlsZVwiIT09bj9uZXcgSW50bC5OdW1iZXJGb3JtYXQodGhpcy5fbGFuZ3VhZ2Use3N0eWxlOlwidW5pdFwiLHVuaXREaXNwbGF5OlwibmFycm93XCIsdW5pdDpufSkuZm9ybWF0KGkpOmkrXCImbmJzcDtubVwifSl9b25BZGQoZSl7cmV0dXJuIHRoaXMuX21hcD1lLHRoaXMuX2xhbmd1YWdlPWUuZ2V0TGFuZ3VhZ2UoKSx0aGlzLl9jb250YWluZXI9byhcImRpdlwiLFwibWFwYm94Z2wtY3RybCBtYXBib3hnbC1jdHJsLXNjYWxlXCIsZS5nZXRDb250YWluZXIoKSksdGhpcy5fY29udGFpbmVyLmRpcj1cImF1dG9cIix0aGlzLl9tYXAub24oXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSx0aGlzLl91cGRhdGUoKSx0aGlzLl9jb250YWluZXJ9b25SZW1vdmUoKXt0aGlzLl9jb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWFwLm9mZihcIm1vdmVcIix0aGlzLl91cGRhdGUpLHRoaXMuX21hcD12b2lkIDB9X3NldExhbmd1YWdlKGUpe3RoaXMuX2xhbmd1YWdlPWUsdGhpcy5fdXBkYXRlKCl9c2V0VW5pdChlKXt0aGlzLm9wdGlvbnMudW5pdD1lLHRoaXMuX3VwZGF0ZSgpfX0sRnVsbHNjcmVlbkNvbnRyb2w6Y2xhc3N7Y29uc3RydWN0b3IodCl7dGhpcy5fZnVsbHNjcmVlbj0hMSx0JiZ0LmNvbnRhaW5lciYmKHQuY29udGFpbmVyIGluc3RhbmNlb2YgZS53aW5kb3cuSFRNTEVsZW1lbnQ/dGhpcy5fY29udGFpbmVyPXQuY29udGFpbmVyOmUud2Fybk9uY2UoXCJGdWxsIHNjcmVlbiBjb250cm9sICdjb250YWluZXInIG11c3QgYmUgYSBET00gZWxlbWVudC5cIikpLGUuYmluZEFsbChbXCJfb25DbGlja0Z1bGxzY3JlZW5cIixcIl9jaGFuZ2VJY29uXCJdLHRoaXMpLFwib25mdWxsc2NyZWVuY2hhbmdlXCJpbiBlLndpbmRvdy5kb2N1bWVudD90aGlzLl9mdWxsc2NyZWVuY2hhbmdlPVwiZnVsbHNjcmVlbmNoYW5nZVwiOlwib253ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCJpbiBlLndpbmRvdy5kb2N1bWVudCYmKHRoaXMuX2Z1bGxzY3JlZW5jaGFuZ2U9XCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlXCIpfW9uQWRkKHQpe3JldHVybiB0aGlzLl9tYXA9dCx0aGlzLl9jb250YWluZXJ8fCh0aGlzLl9jb250YWluZXI9dGhpcy5fbWFwLmdldENvbnRhaW5lcigpKSx0aGlzLl9jb250cm9sQ29udGFpbmVyPW8oXCJkaXZcIixcIm1hcGJveGdsLWN0cmwgbWFwYm94Z2wtY3RybC1ncm91cFwiKSx0aGlzLl9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0KCk/dGhpcy5fc2V0dXBVSSgpOih0aGlzLl9jb250cm9sQ29udGFpbmVyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZS53YXJuT25jZShcIlRoaXMgZGV2aWNlIGRvZXMgbm90IHN1cHBvcnQgZnVsbHNjcmVlbiBtb2RlLlwiKSksdGhpcy5fY29udHJvbENvbnRhaW5lcn1vblJlbW92ZSgpe3RoaXMuX2NvbnRyb2xDb250YWluZXIucmVtb3ZlKCksdGhpcy5fbWFwPW51bGwsZS53aW5kb3cuZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLHRoaXMuX2NoYW5nZUljb24pfV9jaGVja0Z1bGxzY3JlZW5TdXBwb3J0KCl7cmV0dXJuISghZS53aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVuYWJsZWQmJiFlLndpbmRvdy5kb2N1bWVudC53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCl9X3NldHVwVUkoKXtjb25zdCB0PXRoaXMuX2Z1bGxzY3JlZW5CdXR0b249byhcImJ1dHRvblwiLFwibWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuXCIsdGhpcy5fY29udHJvbENvbnRhaW5lcik7byhcInNwYW5cIixcIm1hcGJveGdsLWN0cmwtaWNvblwiLHQpLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpLHQudHlwZT1cImJ1dHRvblwiLHRoaXMuX3VwZGF0ZVRpdGxlKCksdGhpcy5fZnVsbHNjcmVlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLl9vbkNsaWNrRnVsbHNjcmVlbiksZS53aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLl9mdWxsc2NyZWVuY2hhbmdlLHRoaXMuX2NoYW5nZUljb24pfV91cGRhdGVUaXRsZSgpe2NvbnN0IGU9dGhpcy5fZ2V0VGl0bGUoKTt0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixlKSx0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkJiZ0aGlzLl9mdWxsc2NyZWVuQnV0dG9uLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsZSl9X2dldFRpdGxlKCl7cmV0dXJuIHRoaXMuX21hcC5fZ2V0VUlTdHJpbmcodGhpcy5faXNGdWxsc2NyZWVuKCk/XCJGdWxsc2NyZWVuQ29udHJvbC5FeGl0XCI6XCJGdWxsc2NyZWVuQ29udHJvbC5FbnRlclwiKX1faXNGdWxsc2NyZWVuKCl7cmV0dXJuIHRoaXMuX2Z1bGxzY3JlZW59X2NoYW5nZUljb24oKXsoZS53aW5kb3cuZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnR8fGUud2luZG93LmRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50KT09PXRoaXMuX2NvbnRhaW5lciE9PXRoaXMuX2Z1bGxzY3JlZW4mJih0aGlzLl9mdWxsc2NyZWVuPSF0aGlzLl9mdWxsc2NyZWVuLHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcIm1hcGJveGdsLWN0cmwtc2hyaW5rXCIpLHRoaXMuX2Z1bGxzY3JlZW5CdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcIm1hcGJveGdsLWN0cmwtZnVsbHNjcmVlblwiKSx0aGlzLl91cGRhdGVUaXRsZSgpKX1fb25DbGlja0Z1bGxzY3JlZW4oKXt0aGlzLl9pc0Z1bGxzY3JlZW4oKT9lLndpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbj9lLndpbmRvdy5kb2N1bWVudC5leGl0RnVsbHNjcmVlbigpOmUud2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4mJmUud2luZG93LmRvY3VtZW50LndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTp0aGlzLl9jb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4/dGhpcy5fY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk6dGhpcy5fY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuJiZ0aGlzLl9jb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4oKX19LFBvcHVwOmNsYXNzIGV4dGVuZHMgZS5FdmVudGVke2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5vcHRpb25zPWUuZXh0ZW5kKE9iamVjdC5jcmVhdGUodG8pLHQpLGUuYmluZEFsbChbXCJfdXBkYXRlXCIsXCJfb25DbG9zZVwiLFwicmVtb3ZlXCIsXCJfb25Nb3VzZUV2ZW50XCJdLHRoaXMpLHRoaXMuX2NsYXNzTGlzdD1uZXcgU2V0KHQmJnQuY2xhc3NOYW1lP3QuY2xhc3NOYW1lLnRyaW0oKS5zcGxpdCgvXFxzKy8pOltdKX1hZGRUbyh0KXtyZXR1cm4gdGhpcy5fbWFwJiZ0aGlzLnJlbW92ZSgpLHRoaXMuX21hcD10LHRoaXMub3B0aW9ucy5jbG9zZU9uQ2xpY2smJnQub24oXCJwcmVjbGlja1wiLHRoaXMuX29uQ2xvc2UpLHRoaXMub3B0aW9ucy5jbG9zZU9uTW92ZSYmdC5vbihcIm1vdmVcIix0aGlzLl9vbkNsb3NlKSx0Lm9uKFwicmVtb3ZlXCIsdGhpcy5yZW1vdmUpLHRoaXMuX3VwZGF0ZSgpLHQuX2FkZFBvcHVwKHRoaXMpLHRoaXMuX2ZvY3VzRmlyc3RFbGVtZW50KCksdGhpcy5fdHJhY2tQb2ludGVyPyh0Lm9uKFwibW91c2Vtb3ZlXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSx0Lm9uKFwibW91c2V1cFwiLHRoaXMuX29uTW91c2VFdmVudCksdC5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJtYXBib3hnbC10cmFjay1wb2ludGVyXCIpKTp0Lm9uKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdGhpcy5maXJlKG5ldyBlLkV2ZW50KFwib3BlblwiKSksdGhpc31pc09wZW4oKXtyZXR1cm4hIXRoaXMuX21hcH1yZW1vdmUoKXt0aGlzLl9jb250ZW50JiZ0aGlzLl9jb250ZW50LnJlbW92ZSgpLHRoaXMuX2NvbnRhaW5lciYmKHRoaXMuX2NvbnRhaW5lci5yZW1vdmUoKSx0aGlzLl9jb250YWluZXI9dm9pZCAwKTtjb25zdCB0PXRoaXMuX21hcDtyZXR1cm4gdCYmKHQub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksdC5vZmYoXCJtb3ZlXCIsdGhpcy5fb25DbG9zZSksdC5vZmYoXCJwcmVjbGlja1wiLHRoaXMuX29uQ2xvc2UpLHQub2ZmKFwiY2xpY2tcIix0aGlzLl9vbkNsb3NlKSx0Lm9mZihcInJlbW92ZVwiLHRoaXMucmVtb3ZlKSx0Lm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksdC5vZmYoXCJtb3VzZXVwXCIsdGhpcy5fb25Nb3VzZUV2ZW50KSx0Lm9mZihcImRyYWdcIix0aGlzLl9vbk1vdXNlRXZlbnQpLHQuX2NhbnZhc0NvbnRhaW5lciYmdC5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10cmFjay1wb2ludGVyXCIpLHQuX3JlbW92ZVBvcHVwKHRoaXMpLHRoaXMuX21hcD12b2lkIDApLHRoaXMuZmlyZShuZXcgZS5FdmVudChcImNsb3NlXCIpKSx0aGlzfWdldExuZ0xhdCgpe3JldHVybiB0aGlzLl9sbmdMYXR9c2V0TG5nTGF0KHQpe3RoaXMuX2xuZ0xhdD1lLkxuZ0xhdC5jb252ZXJ0KHQpLHRoaXMuX3Bvcz1udWxsLHRoaXMuX3RyYWNrUG9pbnRlcj0hMSx0aGlzLl91cGRhdGUoKTtjb25zdCBuPXRoaXMuX21hcDtyZXR1cm4gbiYmKG4ub24oXCJtb3ZlXCIsdGhpcy5fdXBkYXRlKSxuLm9mZihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksbi5fY2FudmFzQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJtYXBib3hnbC10cmFjay1wb2ludGVyXCIpKSx0aGlzfXRyYWNrUG9pbnRlcigpe3RoaXMuX3RyYWNrUG9pbnRlcj0hMCx0aGlzLl9wb3M9bnVsbCx0aGlzLl91cGRhdGUoKTtjb25zdCBlPXRoaXMuX21hcDtyZXR1cm4gZSYmKGUub2ZmKFwibW92ZVwiLHRoaXMuX3VwZGF0ZSksZS5vbihcIm1vdXNlbW92ZVwiLHRoaXMuX29uTW91c2VFdmVudCksZS5vbihcImRyYWdcIix0aGlzLl9vbk1vdXNlRXZlbnQpLGUuX2NhbnZhc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibWFwYm94Z2wtdHJhY2stcG9pbnRlclwiKSksdGhpc31nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX2NvbnRhaW5lcn1zZXRUZXh0KHQpe3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQoZS53aW5kb3cuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCkpfXNldEhUTUwodCl7Y29uc3Qgbj1lLndpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksaT1lLndpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYm9keVwiKTtsZXQgcjtmb3IoaS5pbm5lckhUTUw9dDtyPWkuZmlyc3RDaGlsZCxyOyluLmFwcGVuZENoaWxkKHIpO3JldHVybiB0aGlzLnNldERPTUNvbnRlbnQobil9Z2V0TWF4V2lkdGgoKXtyZXR1cm4gdGhpcy5fY29udGFpbmVyJiZ0aGlzLl9jb250YWluZXIuc3R5bGUubWF4V2lkdGh9c2V0TWF4V2lkdGgoZSl7cmV0dXJuIHRoaXMub3B0aW9ucy5tYXhXaWR0aD1lLHRoaXMuX3VwZGF0ZSgpLHRoaXN9c2V0RE9NQ29udGVudChlKXtsZXQgdD10aGlzLl9jb250ZW50O2lmKHQpZm9yKDt0Lmhhc0NoaWxkTm9kZXMoKTspdC5maXJzdENoaWxkJiZ0LnJlbW92ZUNoaWxkKHQuZmlyc3RDaGlsZCk7ZWxzZSB0PXRoaXMuX2NvbnRlbnQ9byhcImRpdlwiLFwibWFwYm94Z2wtcG9wdXAtY29udGVudFwiLHRoaXMuX2NvbnRhaW5lcnx8dm9pZCAwKTtpZih0LmFwcGVuZENoaWxkKGUpLHRoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbil7Y29uc3QgZT10aGlzLl9jbG9zZUJ1dHRvbj1vKFwiYnV0dG9uXCIsXCJtYXBib3hnbC1wb3B1cC1jbG9zZS1idXR0b25cIix0KTtlLnR5cGU9XCJidXR0b25cIixlLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixcIkNsb3NlIHBvcHVwXCIpLGUuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixcInRydWVcIiksZS5pbm5lckhUTUw9XCImIzIxNTtcIixlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuX29uQ2xvc2UpfXJldHVybiB0aGlzLl91cGRhdGUoKSx0aGlzLl9mb2N1c0ZpcnN0RWxlbWVudCgpLHRoaXN9YWRkQ2xhc3NOYW1lKGUpe3JldHVybiB0aGlzLl9jbGFzc0xpc3QuYWRkKGUpLHRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpLHRoaXN9cmVtb3ZlQ2xhc3NOYW1lKGUpe3JldHVybiB0aGlzLl9jbGFzc0xpc3QuZGVsZXRlKGUpLHRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpLHRoaXN9c2V0T2Zmc2V0KGUpe3JldHVybiB0aGlzLm9wdGlvbnMub2Zmc2V0PWUsdGhpcy5fdXBkYXRlKCksdGhpc310b2dnbGVDbGFzc05hbWUoZSl7bGV0IHQ7cmV0dXJuIHRoaXMuX2NsYXNzTGlzdC5kZWxldGUoZSk/dD0hMToodGhpcy5fY2xhc3NMaXN0LmFkZChlKSx0PSEwKSx0aGlzLl91cGRhdGVDbGFzc0xpc3QoKSx0fV9vbk1vdXNlRXZlbnQoZSl7dGhpcy5fdXBkYXRlKGUucG9pbnQpfV9nZXRBbmNob3IoZSl7aWYodGhpcy5vcHRpb25zLmFuY2hvcilyZXR1cm4gdGhpcy5vcHRpb25zLmFuY2hvcjtjb25zdCB0PXRoaXMuX21hcCxuPXRoaXMuX2NvbnRhaW5lcixpPXRoaXMuX3BvcztpZighdHx8IW58fCFpKXJldHVyblwiYm90dG9tXCI7Y29uc3Qgcj1uLm9mZnNldFdpZHRoLG89bi5vZmZzZXRIZWlnaHQsYT1pLng8ci8yLHM9aS54PnQudHJhbnNmb3JtLndpZHRoLXIvMjtpZihpLnkrZTxvKXJldHVybiBhP1widG9wLWxlZnRcIjpzP1widG9wLXJpZ2h0XCI6XCJ0b3BcIjtpZihpLnk+dC50cmFuc2Zvcm0uaGVpZ2h0LW8pe2lmKGEpcmV0dXJuXCJib3R0b20tbGVmdFwiO2lmKHMpcmV0dXJuXCJib3R0b20tcmlnaHRcIn1yZXR1cm4gYT9cImxlZnRcIjpzP1wicmlnaHRcIjpcImJvdHRvbVwifV91cGRhdGVDbGFzc0xpc3QoKXtjb25zdCBlPXRoaXMuX2NvbnRhaW5lcjtpZighZSlyZXR1cm47Y29uc3QgdD1bLi4udGhpcy5fY2xhc3NMaXN0XTt0LnB1c2goXCJtYXBib3hnbC1wb3B1cFwiKSx0aGlzLl9hbmNob3ImJnQucHVzaChcIm1hcGJveGdsLXBvcHVwLWFuY2hvci1cIit0aGlzLl9hbmNob3IpLHRoaXMuX3RyYWNrUG9pbnRlciYmdC5wdXNoKFwibWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlclwiKSxlLmNsYXNzTmFtZT10LmpvaW4oXCIgXCIpfV91cGRhdGUodCl7Y29uc3Qgbj10aGlzLl9tYXAsaT10aGlzLl9jb250ZW50O2lmKCFufHwhdGhpcy5fbG5nTGF0JiYhdGhpcy5fdHJhY2tQb2ludGVyfHwhaSlyZXR1cm47bGV0IHI9dGhpcy5fY29udGFpbmVyO2lmKHJ8fChyPXRoaXMuX2NvbnRhaW5lcj1vKFwiZGl2XCIsXCJtYXBib3hnbC1wb3B1cFwiLG4uZ2V0Q29udGFpbmVyKCkpLHRoaXMuX3RpcD1vKFwiZGl2XCIsXCJtYXBib3hnbC1wb3B1cC10aXBcIixyKSxyLmFwcGVuZENoaWxkKGkpKSx0aGlzLm9wdGlvbnMubWF4V2lkdGgmJnIuc3R5bGUubWF4V2lkdGghPT10aGlzLm9wdGlvbnMubWF4V2lkdGgmJihyLnN0eWxlLm1heFdpZHRoPXRoaXMub3B0aW9ucy5tYXhXaWR0aCksbi50cmFuc2Zvcm0ucmVuZGVyV29ybGRDb3BpZXMmJiF0aGlzLl90cmFja1BvaW50ZXImJih0aGlzLl9sbmdMYXQ9UXIodGhpcy5fbG5nTGF0LHRoaXMuX3BvcyxuLnRyYW5zZm9ybSkpLCF0aGlzLl90cmFja1BvaW50ZXJ8fHQpe2NvbnN0IGU9dGhpcy5fcG9zPXRoaXMuX3RyYWNrUG9pbnRlciYmdD90Om4ucHJvamVjdCh0aGlzLl9sbmdMYXQpLGk9aW8odGhpcy5vcHRpb25zLm9mZnNldCkscj10aGlzLl9hbmNob3I9dGhpcy5fZ2V0QW5jaG9yKGkueSksbz1pbyh0aGlzLm9wdGlvbnMub2Zmc2V0LHIpLGE9ZS5hZGQobykucm91bmQoKTtuLl9yZXF1ZXN0RG9tVGFzaygoKT0+e3RoaXMuX2NvbnRhaW5lciYmciYmKHRoaXMuX2NvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm09YCR7S3Jbcl19IHRyYW5zbGF0ZSgke2EueH1weCwke2EueX1weClgKX0pfWlmKCF0aGlzLl9tYXJrZXImJm4uX3Nob3dpbmdHbG9iZSgpKXtjb25zdCB0PWUuaXNMbmdMYXRCZWhpbmRHbG9iZShuLnRyYW5zZm9ybSx0aGlzLl9sbmdMYXQpPzA6MTt0aGlzLl9zZXRPcGFjaXR5KHQpfXRoaXMuX3VwZGF0ZUNsYXNzTGlzdCgpfV9mb2N1c0ZpcnN0RWxlbWVudCgpe2lmKCF0aGlzLm9wdGlvbnMuZm9jdXNBZnRlck9wZW58fCF0aGlzLl9jb250YWluZXIpcmV0dXJuO2NvbnN0IGU9dGhpcy5fY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3Iobm8pO2UmJmUuZm9jdXMoKX1fb25DbG9zZSgpe3RoaXMucmVtb3ZlKCl9X3NldE9wYWNpdHkoZSl7dGhpcy5fY29udGFpbmVyJiYodGhpcy5fY29udGFpbmVyLnN0eWxlLm9wYWNpdHk9XCJcIitlKSx0aGlzLl9jb250ZW50JiYodGhpcy5fY29udGVudC5zdHlsZS5wb2ludGVyRXZlbnRzPWU/XCJhdXRvXCI6XCJub25lXCIpfX0sTWFya2VyOmVvLFN0eWxlOlF0LExuZ0xhdDplLkxuZ0xhdCxMbmdMYXRCb3VuZHM6ZS5MbmdMYXRCb3VuZHMsUG9pbnQ6ZS5wb2ludEdlb21ldHJ5LE1lcmNhdG9yQ29vcmRpbmF0ZTplLk1lcmNhdG9yQ29vcmRpbmF0ZSxGcmVlQ2FtZXJhT3B0aW9uczpVaSxFdmVudGVkOmUuRXZlbnRlZCxjb25maWc6ZS5jb25maWcscHJld2FybTpmdW5jdGlvbigpe1VlKCkuYWNxdWlyZShqZSl9LGNsZWFyUHJld2FybWVkUmVzb3VyY2VzOmZ1bmN0aW9uKCl7Y29uc3QgZT1OZTtlJiYoZS5pc1ByZWxvYWRlZCgpJiYxPT09ZS5udW1BY3RpdmUoKT8oZS5yZWxlYXNlKGplKSxOZT1udWxsKTpjb25zb2xlLndhcm4oXCJDb3VsZCBub3QgY2xlYXIgV2ViV29ya2VycyBzaW5jZSB0aGVyZSBhcmUgYWN0aXZlIE1hcCBpbnN0YW5jZXMgdGhhdCBzdGlsbCByZWZlcmVuY2UgaXQuIFRoZSBwcmUtd2FybWVkIFdlYldvcmtlciBwb29sIGNhbiBvbmx5IGJlIGNsZWFyZWQgd2hlbiBhbGwgbWFwIGluc3RhbmNlcyBoYXZlIGJlZW4gcmVtb3ZlZCB3aXRoIG1hcC5yZW1vdmUoKVwiKSl9LGdldCBhY2Nlc3NUb2tlbigpe3JldHVybiBlLmNvbmZpZy5BQ0NFU1NfVE9LRU59LHNldCBhY2Nlc3NUb2tlbih0KXtlLmNvbmZpZy5BQ0NFU1NfVE9LRU49dH0sZ2V0IGJhc2VBcGlVcmwoKXtyZXR1cm4gZS5jb25maWcuQVBJX1VSTH0sc2V0IGJhc2VBcGlVcmwodCl7ZS5jb25maWcuQVBJX1VSTD10fSxnZXQgd29ya2VyQ291bnQoKXtyZXR1cm4gRmUud29ya2VyQ291bnR9LHNldCB3b3JrZXJDb3VudChlKXtGZS53b3JrZXJDb3VudD1lfSxnZXQgbWF4UGFyYWxsZWxJbWFnZVJlcXVlc3RzKCl7cmV0dXJuIGUuY29uZmlnLk1BWF9QQVJBTExFTF9JTUFHRV9SRVFVRVNUU30sc2V0IG1heFBhcmFsbGVsSW1hZ2VSZXF1ZXN0cyh0KXtlLmNvbmZpZy5NQVhfUEFSQUxMRUxfSU1BR0VfUkVRVUVTVFM9dH0sY2xlYXJTdG9yYWdlKHQpe2UuY2xlYXJUaWxlQ2FjaGUodCl9LHdvcmtlclVybDpcIlwiLHdvcmtlckNsYXNzOm51bGwsc2V0Tm93OmUuZXhwb3J0ZWQuc2V0Tm93LHJlc3RvcmVOb3c6ZS5leHBvcnRlZC5yZXN0b3JlTm93fTtyZXR1cm4gZm99KSksaX0oKX0oKX0pLmNhbGwodGhpcyxuKDE0MikpfSxmdW5jdGlvbihlLHQpe3ZhciBuLGkscj1lLmV4cG9ydHM9e307ZnVuY3Rpb24gbygpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gYSgpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBzKGUpe2lmKG49PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGUsMCk7aWYoKG49PT1vfHwhbikmJnNldFRpbWVvdXQpcmV0dXJuIG49c2V0VGltZW91dCxzZXRUaW1lb3V0KGUsMCk7dHJ5e3JldHVybiBuKGUsMCl9Y2F0Y2godCl7dHJ5e3JldHVybiBuLmNhbGwobnVsbCxlLDApfWNhdGNoKHQpe3JldHVybiBuLmNhbGwodGhpcyxlLDApfX19IWZ1bmN0aW9uKCl7dHJ5e249XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0Om99Y2F0Y2goZSl7bj1vfXRyeXtpPVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6YX1jYXRjaChlKXtpPWF9fSgpO3ZhciBsLGM9W10sdT0hMSxoPS0xO2Z1bmN0aW9uIGQoKXt1JiZsJiYodT0hMSxsLmxlbmd0aD9jPWwuY29uY2F0KGMpOmg9LTEsYy5sZW5ndGgmJnAoKSl9ZnVuY3Rpb24gcCgpe2lmKCF1KXt2YXIgZT1zKGQpO3U9ITA7Zm9yKHZhciB0PWMubGVuZ3RoO3Q7KXtmb3IobD1jLGM9W107KytoPHQ7KWwmJmxbaF0ucnVuKCk7aD0tMSx0PWMubGVuZ3RofWw9bnVsbCx1PSExLGZ1bmN0aW9uKGUpe2lmKGk9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChlKTtpZigoaT09PWF8fCFpKSYmY2xlYXJUaW1lb3V0KXJldHVybiBpPWNsZWFyVGltZW91dCxjbGVhclRpbWVvdXQoZSk7dHJ5e2koZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBpLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gaS5jYWxsKHRoaXMsZSl9fX0oZSl9fWZ1bmN0aW9uIGYoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBtKCl7fXIubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuLTFdPWFyZ3VtZW50c1tuXTtjLnB1c2gobmV3IGYoZSx0KSksMSE9PWMubGVuZ3RofHx1fHxzKHApfSxmLnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt0aGlzLmZ1bi5hcHBseShudWxsLHRoaXMuYXJyYXkpfSxyLnRpdGxlPVwiYnJvd3NlclwiLHIuYnJvd3Nlcj0hMCxyLmVudj17fSxyLmFyZ3Y9W10sci52ZXJzaW9uPVwiXCIsci52ZXJzaW9ucz17fSxyLm9uPW0sci5hZGRMaXN0ZW5lcj1tLHIub25jZT1tLHIub2ZmPW0sci5yZW1vdmVMaXN0ZW5lcj1tLHIucmVtb3ZlQWxsTGlzdGVuZXJzPW0sci5lbWl0PW0sci5wcmVwZW5kTGlzdGVuZXI9bSxyLnByZXBlbmRPbmNlTGlzdGVuZXI9bSxyLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm5bXX0sci5iaW5kaW5nPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxyLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxyLmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0sci51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnN0eWxlcz12b2lkIDA7dmFyIHI9aShuKDUpKSxvPWkobig0KSksYT1pKG4oMikpLHM9aShuKDEpKSxsPShpKG4oMykpLGkobig4KSkpLGM9KGkobig2KSksbig3KSxpKG4oOSkpKSx1PWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLnNoYWRvd3MuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXt0W1wiZWxldmF0aW9uXCIuY29uY2F0KG4pXT17Ym94U2hhZG93OmV9fSkpLCgwLGEuZGVmYXVsdCkoe3Jvb3Q6e2JhY2tncm91bmRDb2xvcjplLnBhbGV0dGUuYmFja2dyb3VuZC5wYXBlcn0scm91bmRlZDp7Ym9yZGVyUmFkaXVzOmUuc2hhcGUuYm9yZGVyUmFkaXVzfX0sdCl9O2Z1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5jbGFzc2VzLG49ZS5jbGFzc05hbWUsaT1lLmNvbXBvbmVudCxjPWUuc3F1YXJlLHU9ZS5lbGV2YXRpb24saD0oMCxvLmRlZmF1bHQpKGUsW1wiY2xhc3Nlc1wiLFwiY2xhc3NOYW1lXCIsXCJjb21wb25lbnRcIixcInNxdWFyZVwiLFwiZWxldmF0aW9uXCJdKSxkPSgwLGwuZGVmYXVsdCkodC5yb290LHRbXCJlbGV2YXRpb25cIi5jb25jYXQodSldLCgwLHIuZGVmYXVsdCkoe30sdC5yb3VuZGVkLCFjKSxuKTtyZXR1cm4gcy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoaSwoMCxhLmRlZmF1bHQpKHtjbGFzc05hbWU6ZH0saCkpfXQuc3R5bGVzPXUsaC5kZWZhdWx0UHJvcHM9e2NvbXBvbmVudDpcImRpdlwiLGVsZXZhdGlvbjoyLHNxdWFyZTohMX07dmFyIGQ9KDAsYy5kZWZhdWx0KSh1LHtuYW1lOlwiTXVpUGFwZXJcIn0pKGgpO3QuZGVmYXVsdD1kfSwsZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0KXshZnVuY3Rpb24obil7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIGUodCxuLGkpe2Z1bmN0aW9uIHIoYSxzKXtpZighblthXSl7aWYoIXRbYV0pe2lmKG8pcmV0dXJuIG8oYSwhMCk7dmFyIGw9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIithK1wiJ1wiKTt0aHJvdyBsLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsbH12YXIgYz1uW2FdPXtleHBvcnRzOnt9fTt0W2FdWzBdLmNhbGwoYy5leHBvcnRzLChmdW5jdGlvbihlKXtyZXR1cm4gcih0W2FdWzFdW2VdfHxlKX0pLGMsYy5leHBvcnRzLGUsdCxuLGkpfXJldHVybiBuW2FdLmV4cG9ydHN9Zm9yKHZhciBvPSExLGE9MDthPGkubGVuZ3RoO2ErKylyKGlbYV0pO3JldHVybiByfX0oKSh7MTpbZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWUoXCIuL3RvUHJvcGVydHlLZXkuanNcIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4odD1pKHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfSx0LmV4cG9ydHMuX19lc01vZHVsZT0hMCx0LmV4cG9ydHMuZGVmYXVsdD10LmV4cG9ydHN9LHtcIi4vdG9Qcm9wZXJ0eUtleS5qc1wiOjR9XSwyOltmdW5jdGlvbihlLHQsbil7dmFyIGk9ZShcIi4vZGVmaW5lUHJvcGVydHkuanNcIik7ZnVuY3Rpb24gcihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKGk9aS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4saSl9cmV0dXJuIG59dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3IoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtpKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTpyKE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfSx0LmV4cG9ydHMuX19lc01vZHVsZT0hMCx0LmV4cG9ydHMuZGVmYXVsdD10LmV4cG9ydHN9LHtcIi4vZGVmaW5lUHJvcGVydHkuanNcIjoxfV0sMzpbZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWUoXCIuL3R5cGVvZi5qc1wiKS5kZWZhdWx0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPT1pKGUpfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIHI9bi5jYWxsKGUsdHx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPT1pKHIpKXJldHVybiByO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9LHQuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLHQuZXhwb3J0cy5kZWZhdWx0PXQuZXhwb3J0c30se1wiLi90eXBlb2YuanNcIjo1fV0sNDpbZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWUoXCIuL3R5cGVvZi5qc1wiKS5kZWZhdWx0LHI9ZShcIi4vdG9QcmltaXRpdmUuanNcIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXIoZSxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT09aSh0KT90OlN0cmluZyh0KX0sdC5leHBvcnRzLl9fZXNNb2R1bGU9ITAsdC5leHBvcnRzLmRlZmF1bHQ9dC5leHBvcnRzfSx7XCIuL3RvUHJpbWl0aXZlLmpzXCI6MyxcIi4vdHlwZW9mLmpzXCI6NX1dLDU6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBpKGUpe3JldHVybiB0LmV4cG9ydHM9aT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSx0LmV4cG9ydHMuX19lc01vZHVsZT0hMCx0LmV4cG9ydHMuZGVmYXVsdD10LmV4cG9ydHMsaShlKX10LmV4cG9ydHM9aSx0LmV4cG9ydHMuX19lc01vZHVsZT0hMCx0LmV4cG9ydHMuZGVmYXVsdD10LmV4cG9ydHN9LHt9XSw2OltmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9e307ZnVuY3Rpb24gcihlKXtyZXR1cm4gTWF0aC5mbG9vcihNYXRoLmFicyhlKSsuNSkqKGU+PTA/MTotMSl9ZnVuY3Rpb24gbyhlLHQsbil7dmFyIGk9KGU9cihlKm4pKS0odD1yKHQqbikpO2k8PD0xLGUtdDwwJiYoaT1+aSk7Zm9yKHZhciBvPVwiXCI7aT49MzI7KW8rPVN0cmluZy5mcm9tQ2hhckNvZGUoNjMrKDMyfDMxJmkpKSxpPj49NTtyZXR1cm4gbys9U3RyaW5nLmZyb21DaGFyQ29kZShpKzYzKX1mdW5jdGlvbiBhKGUpe2Zvcih2YXIgdD1bXSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZhciBpPWVbbl0uc2xpY2UoKTt0LnB1c2goW2lbMV0saVswXV0pfXJldHVybiB0fWkuZGVjb2RlPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLGk9MCxyPTAsbz0wLGE9W10scz0wLGw9MCxjPW51bGwsdT1NYXRoLnBvdygxMCxOdW1iZXIuaXNJbnRlZ2VyKHQpP3Q6NSk7aTxlLmxlbmd0aDspe2M9bnVsbCxzPTAsbD0wO2Rve2x8PSgzMSYoYz1lLmNoYXJDb2RlQXQoaSsrKS02MykpPDxzLHMrPTV9d2hpbGUoYz49MzIpO249MSZsP34obD4+MSk6bD4+MSxzPWw9MDtkb3tsfD0oMzEmKGM9ZS5jaGFyQ29kZUF0KGkrKyktNjMpKTw8cyxzKz01fXdoaWxlKGM+PTMyKTtyKz1uLG8rPTEmbD9+KGw+PjEpOmw+PjEsYS5wdXNoKFtyL3Usby91XSl9cmV0dXJuIGF9LGkuZW5jb2RlPWZ1bmN0aW9uKGUsdCl7aWYoIWUubGVuZ3RoKXJldHVyblwiXCI7Zm9yKHZhciBuPU1hdGgucG93KDEwLE51bWJlci5pc0ludGVnZXIodCk/dDo1KSxpPW8oZVswXVswXSwwLG4pK28oZVswXVsxXSwwLG4pLHI9MTtyPGUubGVuZ3RoO3IrKyl7dmFyIGE9ZVtyXSxzPWVbci0xXTtpKz1vKGFbMF0sc1swXSxuKSxpKz1vKGFbMV0sc1sxXSxuKX1yZXR1cm4gaX0saS5mcm9tR2VvSlNPTj1mdW5jdGlvbihlLHQpe2lmKGUmJlwiRmVhdHVyZVwiPT09ZS50eXBlJiYoZT1lLmdlb21ldHJ5KSwhZXx8XCJMaW5lU3RyaW5nXCIhPT1lLnR5cGUpdGhyb3cgbmV3IEVycm9yKFwiSW5wdXQgbXVzdCBiZSBhIEdlb0pTT04gTGluZVN0cmluZ1wiKTtyZXR1cm4gaS5lbmNvZGUoYShlLmNvb3JkaW5hdGVzKSx0KX0saS50b0dlb0pTT049ZnVuY3Rpb24oZSx0KXtyZXR1cm57dHlwZTpcIkxpbmVTdHJpbmdcIixjb29yZGluYXRlczphKGkuZGVjb2RlKGUsdCkpfX0sXCJvYmplY3RcIj09dHlwZW9mIHQmJnQuZXhwb3J0cyYmKHQuZXhwb3J0cz1pKX0se31dLDc6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaSxyPVwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0P1JlZmxlY3Q6bnVsbCxvPXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHIuYXBwbHk/ci5hcHBseTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGUsdCxuKX07aT1yJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByLm93bktleXM/ci5vd25LZXlzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpKX06ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpfTt2YXIgYT1OdW1iZXIuaXNOYU58fGZ1bmN0aW9uKGUpe3JldHVybiBlIT1lfTtmdW5jdGlvbiBzKCl7cy5pbml0LmNhbGwodGhpcyl9dC5leHBvcnRzPXMsdC5leHBvcnRzLm9uY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKG4saSl7ZnVuY3Rpb24gcihuKXtlLnJlbW92ZUxpc3RlbmVyKHQsbyksaShuKX1mdW5jdGlvbiBvKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5yZW1vdmVMaXN0ZW5lciYmZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsciksbihbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpfXkoZSx0LG8se29uY2U6ITB9KSxcImVycm9yXCIhPT10JiZmdW5jdGlvbihlLHQsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbiYmeShlLFwiZXJyb3JcIix0LG4pfShlLHIse29uY2U6ITB9KX0pKX0scy5FdmVudEVtaXR0ZXI9cyxzLnByb3RvdHlwZS5fZXZlbnRzPXZvaWQgMCxzLnByb3RvdHlwZS5fZXZlbnRzQ291bnQ9MCxzLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgbD0xMDtmdW5jdGlvbiBjKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgZSl9ZnVuY3Rpb24gdShlKXtyZXR1cm4gdm9pZCAwPT09ZS5fbWF4TGlzdGVuZXJzP3MuZGVmYXVsdE1heExpc3RlbmVyczplLl9tYXhMaXN0ZW5lcnN9ZnVuY3Rpb24gaChlLHQsbixpKXt2YXIgcixvLGE7aWYoYyhuKSx2b2lkIDA9PT0obz1lLl9ldmVudHMpPyhvPWUuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLGUuX2V2ZW50c0NvdW50PTApOih2b2lkIDAhPT1vLm5ld0xpc3RlbmVyJiYoZS5lbWl0KFwibmV3TGlzdGVuZXJcIix0LG4ubGlzdGVuZXI/bi5saXN0ZW5lcjpuKSxvPWUuX2V2ZW50cyksYT1vW3RdKSx2b2lkIDA9PT1hKWE9b1t0XT1uLCsrZS5fZXZlbnRzQ291bnQ7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBhP2E9b1t0XT1pP1tuLGFdOlthLG5dOmk/YS51bnNoaWZ0KG4pOmEucHVzaChuKSwocj11KGUpKT4wJiZhLmxlbmd0aD5yJiYhYS53YXJuZWQpe2Eud2FybmVkPSEwO3ZhciBzPW5ldyBFcnJvcihcIlBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gXCIrYS5sZW5ndGgrXCIgXCIrU3RyaW5nKHQpK1wiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXRcIik7cy5uYW1lPVwiTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nXCIscy5lbWl0dGVyPWUscy50eXBlPXQscy5jb3VudD1hLmxlbmd0aCxmdW5jdGlvbihlKXtjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2FybihlKX0ocyl9cmV0dXJuIGV9ZnVuY3Rpb24gZCgpe2lmKCF0aGlzLmZpcmVkKXJldHVybiB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy53cmFwRm4pLHRoaXMuZmlyZWQ9ITAsMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTp0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LGFyZ3VtZW50cyl9ZnVuY3Rpb24gcChlLHQsbil7dmFyIGk9e2ZpcmVkOiExLHdyYXBGbjp2b2lkIDAsdGFyZ2V0OmUsdHlwZTp0LGxpc3RlbmVyOm59LHI9ZC5iaW5kKGkpO3JldHVybiByLmxpc3RlbmVyPW4saS53cmFwRm49cixyfWZ1bmN0aW9uIGYoZSx0LG4pe3ZhciBpPWUuX2V2ZW50cztpZih2b2lkIDA9PT1pKXJldHVybltdO3ZhciByPWlbdF07cmV0dXJuIHZvaWQgMD09PXI/W106XCJmdW5jdGlvblwiPT10eXBlb2Ygcj9uP1tyLmxpc3RlbmVyfHxyXTpbcl06bj9mdW5jdGlvbihlKXtmb3IodmFyIHQ9bmV3IEFycmF5KGUubGVuZ3RoKSxuPTA7bjx0Lmxlbmd0aDsrK24pdFtuXT1lW25dLmxpc3RlbmVyfHxlW25dO3JldHVybiB0fShyKTpnKHIsci5sZW5ndGgpfWZ1bmN0aW9uIG0oZSl7dmFyIHQ9dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PXQpe3ZhciBuPXRbZV07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbilyZXR1cm4gMTtpZih2b2lkIDAhPT1uKXJldHVybiBuLmxlbmd0aH1yZXR1cm4gMH1mdW5jdGlvbiBnKGUsdCl7Zm9yKHZhciBuPW5ldyBBcnJheSh0KSxpPTA7aTx0OysraSluW2ldPWVbaV07cmV0dXJuIG59ZnVuY3Rpb24geShlLHQsbixpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLm9uKWkub25jZT9lLm9uY2UodCxuKTplLm9uKHQsbik7ZWxzZXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLmFkZEV2ZW50TGlzdGVuZXIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgZSk7ZS5hZGRFdmVudExpc3RlbmVyKHQsKGZ1bmN0aW9uIHIobyl7aS5vbmNlJiZlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxyKSxuKG8pfSkpfX1PYmplY3QuZGVmaW5lUHJvcGVydHkocyxcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbH0sc2V0OmZ1bmN0aW9uKGUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBlfHxlPDB8fGEoZSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK2UrXCIuXCIpO2w9ZX19KSxzLmluaXQ9ZnVuY3Rpb24oKXt2b2lkIDAhPT10aGlzLl9ldmVudHMmJnRoaXMuX2V2ZW50cyE9PU9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzfHwodGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCksdGhpcy5fbWF4TGlzdGVuZXJzPXRoaXMuX21heExpc3RlbmVyc3x8dm9pZCAwfSxzLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGV8fGU8MHx8YShlKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcrZStcIi5cIik7cmV0dXJuIHRoaXMuX21heExpc3RlbmVycz1lLHRoaXN9LHMucHJvdG90eXBlLmdldE1heExpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybiB1KHRoaXMpfSxzLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1bXSxuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0LnB1c2goYXJndW1lbnRzW25dKTt2YXIgaT1cImVycm9yXCI9PT1lLHI9dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PXIpaT1pJiZ2b2lkIDA9PT1yLmVycm9yO2Vsc2UgaWYoIWkpcmV0dXJuITE7aWYoaSl7dmFyIGE7aWYodC5sZW5ndGg+MCYmKGE9dFswXSksYSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGE7dmFyIHM9bmV3IEVycm9yKFwiVW5oYW5kbGVkIGVycm9yLlwiKyhhP1wiIChcIithLm1lc3NhZ2UrXCIpXCI6XCJcIikpO3Rocm93IHMuY29udGV4dD1hLHN9dmFyIGw9cltlXTtpZih2b2lkIDA9PT1sKXJldHVybiExO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGwpbyhsLHRoaXMsdCk7ZWxzZXt2YXIgYz1sLmxlbmd0aCx1PWcobCxjKTtmb3Iobj0wO248YzsrK24pbyh1W25dLHRoaXMsdCl9cmV0dXJuITB9LHMucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGgodGhpcyxlLHQsITEpfSxzLnByb3RvdHlwZS5vbj1zLnByb3RvdHlwZS5hZGRMaXN0ZW5lcixzLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaCh0aGlzLGUsdCwhMCl9LHMucHJvdG90eXBlLm9uY2U9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyh0KSx0aGlzLm9uKGUscCh0aGlzLGUsdCkpLHRoaXN9LHMucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYyh0KSx0aGlzLnByZXBlbmRMaXN0ZW5lcihlLHAodGhpcyxlLHQpKSx0aGlzfSxzLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3ZhciBuLGkscixvLGE7aWYoYyh0KSx2b2lkIDA9PT0oaT10aGlzLl9ldmVudHMpKXJldHVybiB0aGlzO2lmKHZvaWQgMD09PShuPWlbZV0pKXJldHVybiB0aGlzO2lmKG49PT10fHxuLmxpc3RlbmVyPT09dCkwPT0tLXRoaXMuX2V2ZW50c0NvdW50P3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOihkZWxldGUgaVtlXSxpLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLGUsbi5saXN0ZW5lcnx8dCkpO2Vsc2UgaWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil7Zm9yKHI9LTEsbz1uLmxlbmd0aC0xO28+PTA7by0tKWlmKG5bb109PT10fHxuW29dLmxpc3RlbmVyPT09dCl7YT1uW29dLmxpc3RlbmVyLHI9bzticmVha31pZihyPDApcmV0dXJuIHRoaXM7MD09PXI/bi5zaGlmdCgpOmZ1bmN0aW9uKGUsdCl7Zm9yKDt0KzE8ZS5sZW5ndGg7dCsrKWVbdF09ZVt0KzFdO2UucG9wKCl9KG4sciksMT09PW4ubGVuZ3RoJiYoaVtlXT1uWzBdKSx2b2lkIDAhPT1pLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLGUsYXx8dCl9cmV0dXJuIHRoaXN9LHMucHJvdG90eXBlLm9mZj1zLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcixzLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQsbixpO2lmKHZvaWQgMD09PShuPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09bi5yZW1vdmVMaXN0ZW5lcilyZXR1cm4gMD09PWFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApOnZvaWQgMCE9PW5bZV0mJigwPT0tLXRoaXMuX2V2ZW50c0NvdW50P3RoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpOmRlbGV0ZSBuW2VdKSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIgcixvPU9iamVjdC5rZXlzKG4pO2ZvcihpPTA7aTxvLmxlbmd0aDsrK2kpXCJyZW1vdmVMaXN0ZW5lclwiIT09KHI9b1tpXSkmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKHIpO3JldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlbW92ZUxpc3RlbmVyXCIpLHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTAsdGhpc31pZihcImZ1bmN0aW9uXCI9PXR5cGVvZih0PW5bZV0pKXRoaXMucmVtb3ZlTGlzdGVuZXIoZSx0KTtlbHNlIGlmKHZvaWQgMCE9PXQpZm9yKGk9dC5sZW5ndGgtMTtpPj0wO2ktLSl0aGlzLnJlbW92ZUxpc3RlbmVyKGUsdFtpXSk7cmV0dXJuIHRoaXN9LHMucHJvdG90eXBlLmxpc3RlbmVycz1mdW5jdGlvbihlKXtyZXR1cm4gZih0aGlzLGUsITApfSxzLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7cmV0dXJuIGYodGhpcyxlLCExKX0scy5saXN0ZW5lckNvdW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZS5saXN0ZW5lckNvdW50P2UubGlzdGVuZXJDb3VudCh0KTptLmNhbGwoZSx0KX0scy5wcm90b3R5cGUubGlzdGVuZXJDb3VudD1tLHMucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQ+MD9pKHRoaXMuX2V2ZW50cyk6W119fSx7fV0sODpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCJpcy1vYmpcIikscj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LG89T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtmdW5jdGlvbiBhKGUpe2lmKG51bGw9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlNvdXJjZXMgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkXCIpO3JldHVybiBPYmplY3QoZSl9ZnVuY3Rpb24gcyhlLHQsbil7dmFyIG89dFtuXTtpZihudWxsIT1vKXtpZihyLmNhbGwoZSxuKSYmKHZvaWQgMD09PWVbbl18fG51bGw9PT1lW25dKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0IChcIituK1wiKVwiKTtyLmNhbGwoZSxuKSYmaShvKT9lW25dPWwoT2JqZWN0KGVbbl0pLHRbbl0pOmVbbl09b319ZnVuY3Rpb24gbChlLHQpe2lmKGU9PT10KXJldHVybiBlO2Zvcih2YXIgbiBpbiB0PU9iamVjdCh0KSlyLmNhbGwodCxuKSYmcyhlLHQsbik7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scylmb3IodmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KSxhPTA7YTxpLmxlbmd0aDthKyspby5jYWxsKHQsaVthXSkmJnMoZSx0LGlbYV0pO3JldHVybiBlfXQuZXhwb3J0cz1mdW5jdGlvbihlKXtlPWEoZSk7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylsKGUsYXJndW1lbnRzW3RdKTtyZXR1cm4gZX19LHtcImlzLW9ialwiOjEwfV0sOTpbZnVuY3Rpb24oZSx0LG4peyFmdW5jdGlvbigpe3ZhciBlPXt9O3ZvaWQgMCE9PW4/dC5leHBvcnRzPWU6dGhpcy5mdXp6eT1lLGUuc2ltcGxlRmlsdGVyPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG4uZmlsdGVyKChmdW5jdGlvbihuKXtyZXR1cm4gZS50ZXN0KHQsbil9KSl9LGUudGVzdD1mdW5jdGlvbih0LG4pe3JldHVybiBudWxsIT09ZS5tYXRjaCh0LG4pfSxlLm1hdGNoPWZ1bmN0aW9uKGUsdCxuKXtuPW58fHt9O3ZhciBpLHI9MCxvPVtdLGE9dC5sZW5ndGgscz0wLGw9MCxjPW4ucHJlfHxcIlwiLHU9bi5wb3N0fHxcIlwiLGg9bi5jYXNlU2Vuc2l0aXZlJiZ0fHx0LnRvTG93ZXJDYXNlKCk7ZT1uLmNhc2VTZW5zaXRpdmUmJmV8fGUudG9Mb3dlckNhc2UoKTtmb3IodmFyIGQ9MDtkPGE7ZCsrKWk9dFtkXSxoW2RdPT09ZVtyXT8oaT1jK2krdSxyKz0xLGwrPTErbCk6bD0wLHMrPWwsb1tvLmxlbmd0aF09aTtyZXR1cm4gcj09PWUubGVuZ3RoPyhzPWg9PT1lPzEvMDpzLHtyZW5kZXJlZDpvLmpvaW4oXCJcIiksc2NvcmU6c30pOm51bGx9LGUuZmlsdGVyPWZ1bmN0aW9uKHQsbixpKXtyZXR1cm4gbiYmMCE9PW4ubGVuZ3RoP1wic3RyaW5nXCIhPXR5cGVvZiB0P246KGk9aXx8e30sbi5yZWR1Y2UoKGZ1bmN0aW9uKG4scixvLGEpe3ZhciBzPXI7aS5leHRyYWN0JiYocz1pLmV4dHJhY3QocikpO3ZhciBsPWUubWF0Y2godCxzLGkpO3JldHVybiBudWxsIT1sJiYobltuLmxlbmd0aF09e3N0cmluZzpsLnJlbmRlcmVkLHNjb3JlOmwuc2NvcmUsaW5kZXg6byxvcmlnaW5hbDpyfSksbn0pLFtdKS5zb3J0KChmdW5jdGlvbihlLHQpe3ZhciBuPXQuc2NvcmUtZS5zY29yZTtyZXR1cm4gbnx8ZS5pbmRleC10LmluZGV4fSkpKTpbXX19KCl9LHt9XSwxMDpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm4gbnVsbCE9PWUmJihcIm9iamVjdFwiPT09dHx8XCJmdW5jdGlvblwiPT09dCl9fSx7fV0sMTE6W2Z1bmN0aW9uKGUsdCxuKXt0LmV4cG9ydHM9LzwlPShbXFxzXFxTXSs/KSU+L2d9LHt9XSwxMjpbZnVuY3Rpb24oZSxuLGkpeyhmdW5jdGlvbihlKXsoZnVuY3Rpb24oKXt2YXIgdD0vXlxccyt8XFxzKyQvZyxpPS9eWy0rXTB4WzAtOWEtZl0rJC9pLHI9L14wYlswMV0rJC9pLG89L14wb1swLTddKyQvaSxhPXBhcnNlSW50LHM9XCJvYmplY3RcIj09dHlwZW9mIGUmJmUmJmUuT2JqZWN0PT09T2JqZWN0JiZlLGw9XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLGM9c3x8bHx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLHU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxoPU1hdGgubWF4LGQ9TWF0aC5taW4scD1mdW5jdGlvbigpe3JldHVybiBjLkRhdGUubm93KCl9O2Z1bmN0aW9uIGYoZSl7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuISFlJiYoXCJvYmplY3RcIj09dHx8XCJmdW5jdGlvblwiPT10KX1mdW5jdGlvbiBtKGUpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXJldHVybiBlO2lmKGZ1bmN0aW9uKGUpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiBlfHxmdW5jdGlvbihlKXtyZXR1cm4hIWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfShlKSYmXCJbb2JqZWN0IFN5bWJvbF1cIj09dS5jYWxsKGUpfShlKSlyZXR1cm4gTmFOO2lmKGYoZSkpe3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUudmFsdWVPZj9lLnZhbHVlT2YoKTplO2U9ZihuKT9uK1wiXCI6bn1pZihcInN0cmluZ1wiIT10eXBlb2YgZSlyZXR1cm4gMD09PWU/ZTorZTtlPWUucmVwbGFjZSh0LFwiXCIpO3ZhciBzPXIudGVzdChlKTtyZXR1cm4gc3x8by50ZXN0KGUpP2EoZS5zbGljZSgyKSxzPzI6OCk6aS50ZXN0KGUpP05hTjorZX1uLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciBpLHIsbyxhLHMsbCxjPTAsdT0hMSxnPSExLHk9ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYSBmdW5jdGlvblwiKTtmdW5jdGlvbiBfKHQpe3ZhciBuPWksbz1yO3JldHVybiBpPXI9dm9pZCAwLGM9dCxhPWUuYXBwbHkobyxuKX1mdW5jdGlvbiB2KGUpe3JldHVybiBjPWUscz1zZXRUaW1lb3V0KGIsdCksdT9fKGUpOmF9ZnVuY3Rpb24geChlKXt2YXIgbj1lLWw7cmV0dXJuIHZvaWQgMD09PWx8fG4+PXR8fG48MHx8ZyYmZS1jPj1vfWZ1bmN0aW9uIGIoKXt2YXIgZT1wKCk7aWYoeChlKSlyZXR1cm4gdyhlKTtzPXNldFRpbWVvdXQoYixmdW5jdGlvbihlKXt2YXIgbj10LShlLWwpO3JldHVybiBnP2QobixvLShlLWMpKTpufShlKSl9ZnVuY3Rpb24gdyhlKXtyZXR1cm4gcz12b2lkIDAseSYmaT9fKGUpOihpPXI9dm9pZCAwLGEpfWZ1bmN0aW9uIFQoKXt2YXIgZT1wKCksbj14KGUpO2lmKGk9YXJndW1lbnRzLHI9dGhpcyxsPWUsbil7aWYodm9pZCAwPT09cylyZXR1cm4gdihsKTtpZihnKXJldHVybiBzPXNldFRpbWVvdXQoYix0KSxfKGwpfXJldHVybiB2b2lkIDA9PT1zJiYocz1zZXRUaW1lb3V0KGIsdCkpLGF9cmV0dXJuIHQ9bSh0KXx8MCxmKG4pJiYodT0hIW4ubGVhZGluZyxvPShnPVwibWF4V2FpdFwiaW4gbik/aChtKG4ubWF4V2FpdCl8fDAsdCk6byx5PVwidHJhaWxpbmdcImluIG4/ISFuLnRyYWlsaW5nOnkpLFQuY2FuY2VsPWZ1bmN0aW9uKCl7dm9pZCAwIT09cyYmY2xlYXJUaW1lb3V0KHMpLGM9MCxpPWw9cj1zPXZvaWQgMH0sVC5mbHVzaD1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1zP2E6dyhwKCkpfSxUfX0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsdm9pZCAwIT09dD90OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7fV0sMTM6W2Z1bmN0aW9uKGUsbixpKXsoZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKCl7dmFyIHQ9XCJbb2JqZWN0IEFyZ3VtZW50c11cIixyPVwiW29iamVjdCBNYXBdXCIsbz1cIltvYmplY3QgT2JqZWN0XVwiLGE9XCJbb2JqZWN0IFNldF1cIixzPS9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC8sbD0vXig/OjB8WzEtOV1cXGQqKSQvLGM9e307Y1tcIltvYmplY3QgRmxvYXQzMkFycmF5XVwiXT1jW1wiW29iamVjdCBGbG9hdDY0QXJyYXldXCJdPWNbXCJbb2JqZWN0IEludDhBcnJheV1cIl09Y1tcIltvYmplY3QgSW50MTZBcnJheV1cIl09Y1tcIltvYmplY3QgSW50MzJBcnJheV1cIl09Y1tcIltvYmplY3QgVWludDhBcnJheV1cIl09Y1tcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCJdPWNbXCJbb2JqZWN0IFVpbnQxNkFycmF5XVwiXT1jW1wiW29iamVjdCBVaW50MzJBcnJheV1cIl09ITAsY1t0XT1jW1wiW29iamVjdCBBcnJheV1cIl09Y1tcIltvYmplY3QgQXJyYXlCdWZmZXJdXCJdPWNbXCJbb2JqZWN0IEJvb2xlYW5dXCJdPWNbXCJbb2JqZWN0IERhdGFWaWV3XVwiXT1jW1wiW29iamVjdCBEYXRlXVwiXT1jW1wiW29iamVjdCBFcnJvcl1cIl09Y1tcIltvYmplY3QgRnVuY3Rpb25dXCJdPWNbcl09Y1tcIltvYmplY3QgTnVtYmVyXVwiXT1jW29dPWNbXCJbb2JqZWN0IFJlZ0V4cF1cIl09Y1thXT1jW1wiW29iamVjdCBTdHJpbmddXCJdPWNbXCJbb2JqZWN0IFdlYWtNYXBdXCJdPSExO3ZhciB1PVwib2JqZWN0XCI9PXR5cGVvZiBlJiZlJiZlLk9iamVjdD09PU9iamVjdCYmZSxoPVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixkPXV8fGh8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxwPVwib2JqZWN0XCI9PXR5cGVvZiBpJiZpJiYhaS5ub2RlVHlwZSYmaSxmPXAmJlwib2JqZWN0XCI9PXR5cGVvZiBuJiZuJiYhbi5ub2RlVHlwZSYmbixtPWYmJmYuZXhwb3J0cz09PXAsZz1tJiZ1LnByb2Nlc3MseT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gZyYmZy5iaW5kaW5nJiZnLmJpbmRpbmcoXCJ1dGlsXCIpfWNhdGNoKGUpe319KCksXz15JiZ5LmlzVHlwZWRBcnJheTtmdW5jdGlvbiB2KGUsdCl7Zm9yKHZhciBuPS0xLGk9bnVsbD09ZT8wOmUubGVuZ3RoOysrbjxpOylpZih0KGVbbl0sbixlKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB4KGUsdCl7cmV0dXJuIGUuaGFzKHQpfWZ1bmN0aW9uIGIoZSl7dmFyIHQ9LTEsbj1BcnJheShlLnNpemUpO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUsaSl7blsrK3RdPVtpLGVdfSkpLG59ZnVuY3Rpb24gdyhlKXt2YXIgdD0tMSxuPUFycmF5KGUuc2l6ZSk7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7blsrK3RdPWV9KSksbn12YXIgVD1BcnJheS5wcm90b3R5cGUsRT1GdW5jdGlvbi5wcm90b3R5cGUsUz1PYmplY3QucHJvdG90eXBlLE09ZFtcIl9fY29yZS1qc19zaGFyZWRfX1wiXSxJPUUudG9TdHJpbmcsQz1TLmhhc093blByb3BlcnR5LGs9ZnVuY3Rpb24oKXt2YXIgZT0vW14uXSskLy5leGVjKE0mJk0ua2V5cyYmTS5rZXlzLklFX1BST1RPfHxcIlwiKTtyZXR1cm4gZT9cIlN5bWJvbChzcmMpXzEuXCIrZTpcIlwifSgpLEE9Uy50b1N0cmluZyxQPVJlZ0V4cChcIl5cIitJLmNhbGwoQykucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXCJcXFxcJCZcIikucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZyxcIiQxLio/XCIpK1wiJFwiKSx6PW0/ZC5CdWZmZXI6dm9pZCAwLEQ9ZC5TeW1ib2wsTD1kLlVpbnQ4QXJyYXksTz1TLnByb3BlcnR5SXNFbnVtZXJhYmxlLFI9VC5zcGxpY2UsQj1EP0QudG9TdHJpbmdUYWc6dm9pZCAwLGo9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxGPXo/ei5pc0J1ZmZlcjp2b2lkIDAsTj1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZSh0KG4pKX19KE9iamVjdC5rZXlzLE9iamVjdCksVT1tZShkLFwiRGF0YVZpZXdcIiksVj1tZShkLFwiTWFwXCIpLEc9bWUoZCxcIlByb21pc2VcIiksWj1tZShkLFwiU2V0XCIpLFc9bWUoZCxcIldlYWtNYXBcIikscT1tZShPYmplY3QsXCJjcmVhdGVcIiksJD12ZShVKSxIPXZlKFYpLFg9dmUoRyksWT12ZShaKSxKPXZlKFcpLFE9RD9ELnByb3RvdHlwZTp2b2lkIDAsSz1RP1EudmFsdWVPZjp2b2lkIDA7ZnVuY3Rpb24gZWUoZSl7dmFyIHQ9LTEsbj1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8bjspe3ZhciBpPWVbdF07dGhpcy5zZXQoaVswXSxpWzFdKX19ZnVuY3Rpb24gdGUoZSl7dmFyIHQ9LTEsbj1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8bjspe3ZhciBpPWVbdF07dGhpcy5zZXQoaVswXSxpWzFdKX19ZnVuY3Rpb24gbmUoZSl7dmFyIHQ9LTEsbj1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK3Q8bjspe3ZhciBpPWVbdF07dGhpcy5zZXQoaVswXSxpWzFdKX19ZnVuY3Rpb24gaWUoZSl7dmFyIHQ9LTEsbj1udWxsPT1lPzA6ZS5sZW5ndGg7Zm9yKHRoaXMuX19kYXRhX189bmV3IG5lOysrdDxuOyl0aGlzLmFkZChlW3RdKX1mdW5jdGlvbiByZShlKXt2YXIgdD10aGlzLl9fZGF0YV9fPW5ldyB0ZShlKTt0aGlzLnNpemU9dC5zaXplfWZ1bmN0aW9uIG9lKGUsdCl7dmFyIG49d2UoZSksaT0hbiYmYmUoZSkscj0hbiYmIWkmJlRlKGUpLG89IW4mJiFpJiYhciYmQ2UoZSksYT1ufHxpfHxyfHxvLHM9YT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0tMSxpPUFycmF5KGUpOysrbjxlOylpW25dPXQobik7cmV0dXJuIGl9KGUubGVuZ3RoLFN0cmluZyk6W10sbD1zLmxlbmd0aDtmb3IodmFyIGMgaW4gZSkhdCYmIUMuY2FsbChlLGMpfHxhJiYoXCJsZW5ndGhcIj09Y3x8ciYmKFwib2Zmc2V0XCI9PWN8fFwicGFyZW50XCI9PWMpfHxvJiYoXCJidWZmZXJcIj09Y3x8XCJieXRlTGVuZ3RoXCI9PWN8fFwiYnl0ZU9mZnNldFwiPT1jKXx8X2UoYyxsKSl8fHMucHVzaChjKTtyZXR1cm4gc31mdW5jdGlvbiBhZShlLHQpe2Zvcih2YXIgbj1lLmxlbmd0aDtuLS07KWlmKHhlKGVbbl1bMF0sdCkpcmV0dXJuIG47cmV0dXJuLTF9ZnVuY3Rpb24gc2UoZSl7cmV0dXJuIG51bGw9PWU/dm9pZCAwPT09ZT9cIltvYmplY3QgVW5kZWZpbmVkXVwiOlwiW29iamVjdCBOdWxsXVwiOkImJkIgaW4gT2JqZWN0KGUpP2Z1bmN0aW9uKGUpe3ZhciB0PUMuY2FsbChlLEIpLG49ZVtCXTt0cnl7ZVtCXT12b2lkIDA7dmFyIGk9ITB9Y2F0Y2goZSl7fXZhciByPUEuY2FsbChlKTtpJiYodD9lW0JdPW46ZGVsZXRlIGVbQl0pO3JldHVybiByfShlKTpmdW5jdGlvbihlKXtyZXR1cm4gQS5jYWxsKGUpfShlKX1mdW5jdGlvbiBsZShlKXtyZXR1cm4gSWUoZSkmJnNlKGUpPT10fWZ1bmN0aW9uIGNlKGUsbixpLHMsbCl7cmV0dXJuIGU9PT1ufHwobnVsbD09ZXx8bnVsbD09bnx8IUllKGUpJiYhSWUobik/ZSE9ZSYmbiE9bjpmdW5jdGlvbihlLG4saSxzLGwsYyl7dmFyIHU9d2UoZSksaD13ZShuKSxkPXU/XCJbb2JqZWN0IEFycmF5XVwiOnllKGUpLHA9aD9cIltvYmplY3QgQXJyYXldXCI6eWUobiksZj0oZD1kPT10P286ZCk9PW8sbT0ocD1wPT10P286cCk9PW8sZz1kPT1wO2lmKGcmJlRlKGUpKXtpZighVGUobikpcmV0dXJuITE7dT0hMCxmPSExfWlmKGcmJiFmKXJldHVybiBjfHwoYz1uZXcgcmUpLHV8fENlKGUpP2RlKGUsbixpLHMsbCxjKTpmdW5jdGlvbihlLHQsbixpLG8scyxsKXtzd2l0Y2gobil7Y2FzZVwiW29iamVjdCBEYXRhVmlld11cIjppZihlLmJ5dGVMZW5ndGghPXQuYnl0ZUxlbmd0aHx8ZS5ieXRlT2Zmc2V0IT10LmJ5dGVPZmZzZXQpcmV0dXJuITE7ZT1lLmJ1ZmZlcix0PXQuYnVmZmVyO2Nhc2VcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI6cmV0dXJuIShlLmJ5dGVMZW5ndGghPXQuYnl0ZUxlbmd0aHx8IXMobmV3IEwoZSksbmV3IEwodCkpKTtjYXNlXCJbb2JqZWN0IEJvb2xlYW5dXCI6Y2FzZVwiW29iamVjdCBEYXRlXVwiOmNhc2VcIltvYmplY3QgTnVtYmVyXVwiOnJldHVybiB4ZSgrZSwrdCk7Y2FzZVwiW29iamVjdCBFcnJvcl1cIjpyZXR1cm4gZS5uYW1lPT10Lm5hbWUmJmUubWVzc2FnZT09dC5tZXNzYWdlO2Nhc2VcIltvYmplY3QgUmVnRXhwXVwiOmNhc2VcIltvYmplY3QgU3RyaW5nXVwiOnJldHVybiBlPT10K1wiXCI7Y2FzZSByOnZhciBjPWI7Y2FzZSBhOnZhciB1PTEmaTtpZihjfHwoYz13KSxlLnNpemUhPXQuc2l6ZSYmIXUpcmV0dXJuITE7dmFyIGg9bC5nZXQoZSk7aWYoaClyZXR1cm4gaD09dDtpfD0yLGwuc2V0KGUsdCk7dmFyIGQ9ZGUoYyhlKSxjKHQpLGksbyxzLGwpO3JldHVybiBsLmRlbGV0ZShlKSxkO2Nhc2VcIltvYmplY3QgU3ltYm9sXVwiOmlmKEspcmV0dXJuIEsuY2FsbChlKT09Sy5jYWxsKHQpfXJldHVybiExfShlLG4sZCxpLHMsbCxjKTtpZighKDEmaSkpe3ZhciB5PWYmJkMuY2FsbChlLFwiX193cmFwcGVkX19cIiksXz1tJiZDLmNhbGwobixcIl9fd3JhcHBlZF9fXCIpO2lmKHl8fF8pe3ZhciB2PXk/ZS52YWx1ZSgpOmUseD1fP24udmFsdWUoKTpuO3JldHVybiBjfHwoYz1uZXcgcmUpLGwodix4LGkscyxjKX19aWYoIWcpcmV0dXJuITE7cmV0dXJuIGN8fChjPW5ldyByZSksZnVuY3Rpb24oZSx0LG4saSxyLG8pe3ZhciBhPTEmbixzPXBlKGUpLGw9cy5sZW5ndGgsYz1wZSh0KS5sZW5ndGg7aWYobCE9YyYmIWEpcmV0dXJuITE7dmFyIHU9bDtmb3IoO3UtLTspe3ZhciBoPXNbdV07aWYoIShhP2ggaW4gdDpDLmNhbGwodCxoKSkpcmV0dXJuITF9dmFyIGQ9by5nZXQoZSk7aWYoZCYmby5nZXQodCkpcmV0dXJuIGQ9PXQ7dmFyIHA9ITA7by5zZXQoZSx0KSxvLnNldCh0LGUpO3ZhciBmPWE7Zm9yKDsrK3U8bDspe2g9c1t1XTt2YXIgbT1lW2hdLGc9dFtoXTtpZihpKXZhciB5PWE/aShnLG0saCx0LGUsbyk6aShtLGcsaCxlLHQsbyk7aWYoISh2b2lkIDA9PT15P209PT1nfHxyKG0sZyxuLGksbyk6eSkpe3A9ITE7YnJlYWt9Znx8KGY9XCJjb25zdHJ1Y3RvclwiPT1oKX1pZihwJiYhZil7dmFyIF89ZS5jb25zdHJ1Y3Rvcix2PXQuY29uc3RydWN0b3I7Xz09dnx8IShcImNvbnN0cnVjdG9yXCJpbiBlKXx8IShcImNvbnN0cnVjdG9yXCJpbiB0KXx8XCJmdW5jdGlvblwiPT10eXBlb2YgXyYmXyBpbnN0YW5jZW9mIF8mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHYmJnYgaW5zdGFuY2VvZiB2fHwocD0hMSl9cmV0dXJuIG8uZGVsZXRlKGUpLG8uZGVsZXRlKHQpLHB9KGUsbixpLHMsbCxjKX0oZSxuLGkscyxjZSxsKSl9ZnVuY3Rpb24gdWUoZSl7cmV0dXJuISghTWUoZSl8fGZ1bmN0aW9uKGUpe3JldHVybiEhayYmayBpbiBlfShlKSkmJihFZShlKT9QOnMpLnRlc3QodmUoZSkpfWZ1bmN0aW9uIGhlKGUpe2lmKCFmdW5jdGlvbihlKXt2YXIgdD1lJiZlLmNvbnN0cnVjdG9yLG49XCJmdW5jdGlvblwiPT10eXBlb2YgdCYmdC5wcm90b3R5cGV8fFM7cmV0dXJuIGU9PT1ufShlKSlyZXR1cm4gTihlKTt2YXIgdD1bXTtmb3IodmFyIG4gaW4gT2JqZWN0KGUpKUMuY2FsbChlLG4pJiZcImNvbnN0cnVjdG9yXCIhPW4mJnQucHVzaChuKTtyZXR1cm4gdH1mdW5jdGlvbiBkZShlLHQsbixpLHIsbyl7dmFyIGE9MSZuLHM9ZS5sZW5ndGgsbD10Lmxlbmd0aDtpZihzIT1sJiYhKGEmJmw+cykpcmV0dXJuITE7dmFyIGM9by5nZXQoZSk7aWYoYyYmby5nZXQodCkpcmV0dXJuIGM9PXQ7dmFyIHU9LTEsaD0hMCxkPTImbj9uZXcgaWU6dm9pZCAwO2ZvcihvLnNldChlLHQpLG8uc2V0KHQsZSk7Kyt1PHM7KXt2YXIgcD1lW3VdLGY9dFt1XTtpZihpKXZhciBtPWE/aShmLHAsdSx0LGUsbyk6aShwLGYsdSxlLHQsbyk7aWYodm9pZCAwIT09bSl7aWYobSljb250aW51ZTtoPSExO2JyZWFrfWlmKGQpe2lmKCF2KHQsKGZ1bmN0aW9uKGUsdCl7aWYoIXgoZCx0KSYmKHA9PT1lfHxyKHAsZSxuLGksbykpKXJldHVybiBkLnB1c2godCl9KSkpe2g9ITE7YnJlYWt9fWVsc2UgaWYocCE9PWYmJiFyKHAsZixuLGksbykpe2g9ITE7YnJlYWt9fXJldHVybiBvLmRlbGV0ZShlKSxvLmRlbGV0ZSh0KSxofWZ1bmN0aW9uIHBlKGUpe3JldHVybiBmdW5jdGlvbihlLHQsbil7dmFyIGk9dChlKTtyZXR1cm4gd2UoZSk/aTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0tMSxpPXQubGVuZ3RoLHI9ZS5sZW5ndGg7KytuPGk7KWVbcituXT10W25dO3JldHVybiBlfShpLG4oZSkpfShlLGtlLGdlKX1mdW5jdGlvbiBmZShlLHQpe3ZhciBuPWUuX19kYXRhX187cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PXR5cGVvZiBlO3JldHVyblwic3RyaW5nXCI9PXR8fFwibnVtYmVyXCI9PXR8fFwic3ltYm9sXCI9PXR8fFwiYm9vbGVhblwiPT10P1wiX19wcm90b19fXCIhPT1lOm51bGw9PT1lfSh0KT9uW1wic3RyaW5nXCI9PXR5cGVvZiB0P1wic3RyaW5nXCI6XCJoYXNoXCJdOm4ubWFwfWZ1bmN0aW9uIG1lKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6ZVt0XX0oZSx0KTtyZXR1cm4gdWUobik/bjp2b2lkIDB9ZWUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1xP3EobnVsbCk6e30sdGhpcy5zaXplPTB9LGVlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5oYXMoZSkmJmRlbGV0ZSB0aGlzLl9fZGF0YV9fW2VdO3JldHVybiB0aGlzLnNpemUtPXQ/MTowLHR9LGVlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXztpZihxKXt2YXIgbj10W2VdO3JldHVyblwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiPT09bj92b2lkIDA6bn1yZXR1cm4gQy5jYWxsKHQsZSk/dFtlXTp2b2lkIDB9LGVlLnByb3RvdHlwZS5oYXM9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXztyZXR1cm4gcT92b2lkIDAhPT10W2VdOkMuY2FsbCh0LGUpfSxlZS5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5fX2RhdGFfXztyZXR1cm4gdGhpcy5zaXplKz10aGlzLmhhcyhlKT8wOjEsbltlXT1xJiZ2b2lkIDA9PT10P1wiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiOnQsdGhpc30sdGUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1bXSx0aGlzLnNpemU9MH0sdGUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD10aGlzLl9fZGF0YV9fLG49YWUodCxlKTtyZXR1cm4hKG48MCkmJihuPT10Lmxlbmd0aC0xP3QucG9wKCk6Ui5jYWxsKHQsbiwxKSwtLXRoaXMuc2l6ZSwhMCl9LHRlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXyxuPWFlKHQsZSk7cmV0dXJuIG48MD92b2lkIDA6dFtuXVsxXX0sdGUucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gYWUodGhpcy5fX2RhdGFfXyxlKT4tMX0sdGUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX19kYXRhX18saT1hZShuLGUpO3JldHVybiBpPDA/KCsrdGhpcy5zaXplLG4ucHVzaChbZSx0XSkpOm5baV1bMV09dCx0aGlzfSxuZS5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnNpemU9MCx0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyBlZSxtYXA6bmV3KFZ8fHRlKSxzdHJpbmc6bmV3IGVlfX0sbmUucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihlKXt2YXIgdD1mZSh0aGlzLGUpLmRlbGV0ZShlKTtyZXR1cm4gdGhpcy5zaXplLT10PzE6MCx0fSxuZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBmZSh0aGlzLGUpLmdldChlKX0sbmUucHJvdG90eXBlLmhhcz1mdW5jdGlvbihlKXtyZXR1cm4gZmUodGhpcyxlKS5oYXMoZSl9LG5lLnByb3RvdHlwZS5zZXQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mZSh0aGlzLGUpLGk9bi5zaXplO3JldHVybiBuLnNldChlLHQpLHRoaXMuc2l6ZSs9bi5zaXplPT1pPzA6MSx0aGlzfSxpZS5wcm90b3R5cGUuYWRkPWllLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLnNldChlLFwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiKSx0aGlzfSxpZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhlKX0scmUucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5fX2RhdGFfXz1uZXcgdGUsdGhpcy5zaXplPTB9LHJlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5fX2RhdGFfXyxuPXQuZGVsZXRlKGUpO3JldHVybiB0aGlzLnNpemU9dC5zaXplLG59LHJlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX19kYXRhX18uZ2V0KGUpfSxyZS5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhlKX0scmUucHJvdG90eXBlLnNldD1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMuX19kYXRhX187aWYobiBpbnN0YW5jZW9mIHRlKXt2YXIgaT1uLl9fZGF0YV9fO2lmKCFWfHxpLmxlbmd0aDwxOTkpcmV0dXJuIGkucHVzaChbZSx0XSksdGhpcy5zaXplPSsrbi5zaXplLHRoaXM7bj10aGlzLl9fZGF0YV9fPW5ldyBuZShpKX1yZXR1cm4gbi5zZXQoZSx0KSx0aGlzLnNpemU9bi5zaXplLHRoaXN9O3ZhciBnZT1qP2Z1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1tdOihlPU9iamVjdChlKSxmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0tMSxpPW51bGw9PWU/MDplLmxlbmd0aCxyPTAsbz1bXTsrK248aTspe3ZhciBhPWVbbl07dChhLG4sZSkmJihvW3IrK109YSl9cmV0dXJuIG99KGooZSksKGZ1bmN0aW9uKHQpe3JldHVybiBPLmNhbGwoZSx0KX0pKSl9OmZ1bmN0aW9uKCl7cmV0dXJuW119LHllPXNlO2Z1bmN0aW9uIF9lKGUsdCl7cmV0dXJuISEodD1udWxsPT10PzkwMDcxOTkyNTQ3NDA5OTE6dCkmJihcIm51bWJlclwiPT10eXBlb2YgZXx8bC50ZXN0KGUpKSYmZT4tMSYmZSUxPT0wJiZlPHR9ZnVuY3Rpb24gdmUoZSl7aWYobnVsbCE9ZSl7dHJ5e3JldHVybiBJLmNhbGwoZSl9Y2F0Y2goZSl7fXRyeXtyZXR1cm4gZStcIlwifWNhdGNoKGUpe319cmV0dXJuXCJcIn1mdW5jdGlvbiB4ZShlLHQpe3JldHVybiBlPT09dHx8ZSE9ZSYmdCE9dH0oVSYmXCJbb2JqZWN0IERhdGFWaWV3XVwiIT15ZShuZXcgVShuZXcgQXJyYXlCdWZmZXIoMSkpKXx8ViYmeWUobmV3IFYpIT1yfHxHJiZcIltvYmplY3QgUHJvbWlzZV1cIiE9eWUoRy5yZXNvbHZlKCkpfHxaJiZ5ZShuZXcgWikhPWF8fFcmJlwiW29iamVjdCBXZWFrTWFwXVwiIT15ZShuZXcgVykpJiYoeWU9ZnVuY3Rpb24oZSl7dmFyIHQ9c2UoZSksbj10PT1vP2UuY29uc3RydWN0b3I6dm9pZCAwLGk9bj92ZShuKTpcIlwiO2lmKGkpc3dpdGNoKGkpe2Nhc2UgJDpyZXR1cm5cIltvYmplY3QgRGF0YVZpZXddXCI7Y2FzZSBIOnJldHVybiByO2Nhc2UgWDpyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIjtjYXNlIFk6cmV0dXJuIGE7Y2FzZSBKOnJldHVyblwiW29iamVjdCBXZWFrTWFwXVwifXJldHVybiB0fSk7dmFyIGJlPWxlKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk/bGU6ZnVuY3Rpb24oZSl7cmV0dXJuIEllKGUpJiZDLmNhbGwoZSxcImNhbGxlZVwiKSYmIU8uY2FsbChlLFwiY2FsbGVlXCIpfSx3ZT1BcnJheS5pc0FycmF5O3ZhciBUZT1GfHxmdW5jdGlvbigpe3JldHVybiExfTtmdW5jdGlvbiBFZShlKXtpZighTWUoZSkpcmV0dXJuITE7dmFyIHQ9c2UoZSk7cmV0dXJuXCJbb2JqZWN0IEZ1bmN0aW9uXVwiPT10fHxcIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCI9PXR8fFwiW29iamVjdCBBc3luY0Z1bmN0aW9uXVwiPT10fHxcIltvYmplY3QgUHJveHldXCI9PXR9ZnVuY3Rpb24gU2UoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmU+LTEmJmUlMT09MCYmZTw9OTAwNzE5OTI1NDc0MDk5MX1mdW5jdGlvbiBNZShlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm4gbnVsbCE9ZSYmKFwib2JqZWN0XCI9PXR8fFwiZnVuY3Rpb25cIj09dCl9ZnVuY3Rpb24gSWUoZSl7cmV0dXJuIG51bGwhPWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfXZhciBDZT1fP2Z1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX19KF8pOmZ1bmN0aW9uKGUpe3JldHVybiBJZShlKSYmU2UoZS5sZW5ndGgpJiYhIWNbc2UoZSldfTtmdW5jdGlvbiBrZShlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPWUmJlNlKGUubGVuZ3RoKSYmIUVlKGUpfShlKT9vZShlKTpoZShlKX1uLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gY2UoZSx0KX19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLHZvaWQgMCE9PXQ/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se31dLDE0OltmdW5jdGlvbihlLG4saSl7KGZ1bmN0aW9uKHQpeyhmdW5jdGlvbigpe3ZhciByPWUoXCJsb2Rhc2guX3JlaW50ZXJwb2xhdGVcIiksbz1lKFwibG9kYXNoLnRlbXBsYXRlc2V0dGluZ3NcIiksYT0vXFxiX19wIFxcKz0gJyc7L2cscz0vXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxsPS8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2csYz0vXFwkXFx7KFteXFxcXH1dKig/OlxcXFwuW15cXFxcfV0qKSopXFx9L2csdT0vXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvLGg9L14oPzowfFsxLTldXFxkKikkLyxkPS8oJF4pLyxwPS9bJ1xcblxcclxcdTIwMjhcXHUyMDI5XFxcXF0vZyxmPXt9O2ZbXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIl09ZltcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiXT1mW1wiW29iamVjdCBJbnQ4QXJyYXldXCJdPWZbXCJbb2JqZWN0IEludDE2QXJyYXldXCJdPWZbXCJbb2JqZWN0IEludDMyQXJyYXldXCJdPWZbXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCJdPWZbXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiXT1mW1wiW29iamVjdCBVaW50MTZBcnJheV1cIl09ZltcIltvYmplY3QgVWludDMyQXJyYXldXCJdPSEwLGZbXCJbb2JqZWN0IEFyZ3VtZW50c11cIl09ZltcIltvYmplY3QgQXJyYXldXCJdPWZbXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiXT1mW1wiW29iamVjdCBCb29sZWFuXVwiXT1mW1wiW29iamVjdCBEYXRhVmlld11cIl09ZltcIltvYmplY3QgRGF0ZV1cIl09ZltcIltvYmplY3QgRXJyb3JdXCJdPWZbXCJbb2JqZWN0IEZ1bmN0aW9uXVwiXT1mW1wiW29iamVjdCBNYXBdXCJdPWZbXCJbb2JqZWN0IE51bWJlcl1cIl09ZltcIltvYmplY3QgT2JqZWN0XVwiXT1mW1wiW29iamVjdCBSZWdFeHBdXCJdPWZbXCJbb2JqZWN0IFNldF1cIl09ZltcIltvYmplY3QgU3RyaW5nXVwiXT1mW1wiW29iamVjdCBXZWFrTWFwXVwiXT0hMTt2YXIgbT17XCJcXFxcXCI6XCJcXFxcXCIsXCInXCI6XCInXCIsXCJcXG5cIjpcIm5cIixcIlxcclwiOlwiclwiLFwiXFx1MjAyOFwiOlwidTIwMjhcIixcIlxcdTIwMjlcIjpcInUyMDI5XCJ9LGc9XCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuT2JqZWN0PT09T2JqZWN0JiZ0LHk9XCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYmJnNlbGYuT2JqZWN0PT09T2JqZWN0JiZzZWxmLF89Z3x8eXx8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpLHY9XCJvYmplY3RcIj09dHlwZW9mIGkmJmkmJiFpLm5vZGVUeXBlJiZpLHg9diYmXCJvYmplY3RcIj09dHlwZW9mIG4mJm4mJiFuLm5vZGVUeXBlJiZuLGI9eCYmeC5leHBvcnRzPT09dix3PWImJmcucHJvY2VzcyxUPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPXgmJngucmVxdWlyZSYmeC5yZXF1aXJlKFwidXRpbFwiKS50eXBlcztyZXR1cm4gZXx8dyYmdy5iaW5kaW5nJiZ3LmJpbmRpbmcoXCJ1dGlsXCIpfWNhdGNoKGUpe319KCksRT1UJiZULmlzVHlwZWRBcnJheTtmdW5jdGlvbiBTKGUsdCxuKXtzd2l0Y2gobi5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gZS5jYWxsKHQpO2Nhc2UgMTpyZXR1cm4gZS5jYWxsKHQsblswXSk7Y2FzZSAyOnJldHVybiBlLmNhbGwodCxuWzBdLG5bMV0pO2Nhc2UgMzpyZXR1cm4gZS5jYWxsKHQsblswXSxuWzFdLG5bMl0pfXJldHVybiBlLmFwcGx5KHQsbil9ZnVuY3Rpb24gTShlLHQpe2Zvcih2YXIgbj0tMSxpPW51bGw9PWU/MDplLmxlbmd0aCxyPUFycmF5KGkpOysrbjxpOylyW25dPXQoZVtuXSxuLGUpO3JldHVybiByfWZ1bmN0aW9uIEkoZSl7cmV0dXJuXCJcXFxcXCIrbVtlXX1mdW5jdGlvbiBDKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBlKHQobikpfX12YXIgaz1GdW5jdGlvbi5wcm90b3R5cGUsQT1PYmplY3QucHJvdG90eXBlLFA9X1tcIl9fY29yZS1qc19zaGFyZWRfX1wiXSx6PWsudG9TdHJpbmcsRD1BLmhhc093blByb3BlcnR5LEw9ZnVuY3Rpb24oKXt2YXIgZT0vW14uXSskLy5leGVjKFAmJlAua2V5cyYmUC5rZXlzLklFX1BST1RPfHxcIlwiKTtyZXR1cm4gZT9cIlN5bWJvbChzcmMpXzEuXCIrZTpcIlwifSgpLE89QS50b1N0cmluZyxSPXouY2FsbChPYmplY3QpLEI9UmVnRXhwKFwiXlwiK3ouY2FsbChEKS5yZXBsYWNlKC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZyxcIlxcXFwkJlwiKS5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLFwiJDEuKj9cIikrXCIkXCIpLGo9Yj9fLkJ1ZmZlcjp2b2lkIDAsRj1fLlN5bWJvbCxOPUMoT2JqZWN0LmdldFByb3RvdHlwZU9mLE9iamVjdCksVT1BLnByb3BlcnR5SXNFbnVtZXJhYmxlLFY9Rj9GLnRvU3RyaW5nVGFnOnZvaWQgMCxHPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6ZVt0XX0oZSx0KTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIXllKGUpfHxmdW5jdGlvbihlKXtyZXR1cm4hIUwmJkwgaW4gZX0oZSkpcmV0dXJuITE7cmV0dXJuKG1lKGUpP0I6dSkudGVzdChmdW5jdGlvbihlKXtpZihudWxsIT1lKXt0cnl7cmV0dXJuIHouY2FsbChlKX1jYXRjaChlKXt9dHJ5e3JldHVybiBlK1wiXCJ9Y2F0Y2goZSl7fX1yZXR1cm5cIlwifShlKSl9KG4pP246dm9pZCAwfShPYmplY3QsXCJkZWZpbmVQcm9wZXJ0eVwiKTtyZXR1cm4gZSh7fSxcIlwiLHt9KSxlfWNhdGNoKGUpe319KCksWj1qP2ouaXNCdWZmZXI6dm9pZCAwLFc9QyhPYmplY3Qua2V5cyxPYmplY3QpLHE9TWF0aC5tYXgsJD1EYXRlLm5vdyxIPUY/Ri5wcm90b3R5cGU6dm9pZCAwLFg9SD9ILnRvU3RyaW5nOnZvaWQgMDtmdW5jdGlvbiBZKGUsdCl7dmFyIG49aGUoZSksaT0hbiYmdWUoZSkscj0hbiYmIWkmJnBlKGUpLG89IW4mJiFpJiYhciYmdmUoZSksYT1ufHxpfHxyfHxvLHM9YT9mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj0tMSxpPUFycmF5KGUpOysrbjxlOylpW25dPXQobik7cmV0dXJuIGl9KGUubGVuZ3RoLFN0cmluZyk6W10sbD1zLmxlbmd0aDtmb3IodmFyIGMgaW4gZSkhdCYmIUQuY2FsbChlLGMpfHxhJiYoXCJsZW5ndGhcIj09Y3x8ciYmKFwib2Zmc2V0XCI9PWN8fFwicGFyZW50XCI9PWMpfHxvJiYoXCJidWZmZXJcIj09Y3x8XCJieXRlTGVuZ3RoXCI9PWN8fFwiYnl0ZU9mZnNldFwiPT1jKXx8b2UoYyxsKSl8fHMucHVzaChjKTtyZXR1cm4gc31mdW5jdGlvbiBKKGUsdCxuKXt2YXIgaT1lW3RdO0QuY2FsbChlLHQpJiZjZShpLG4pJiYodm9pZCAwIT09bnx8dCBpbiBlKXx8UShlLHQsbil9ZnVuY3Rpb24gUShlLHQsbil7XCJfX3Byb3RvX19cIj09dCYmRz9HKGUsdCx7Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITAsdmFsdWU6bix3cml0YWJsZTohMH0pOmVbdF09bn1mdW5jdGlvbiBLKGUpe3JldHVybiBudWxsPT1lP3ZvaWQgMD09PWU/XCJbb2JqZWN0IFVuZGVmaW5lZF1cIjpcIltvYmplY3QgTnVsbF1cIjpWJiZWIGluIE9iamVjdChlKT9mdW5jdGlvbihlKXt2YXIgdD1ELmNhbGwoZSxWKSxuPWVbVl07dHJ5e2VbVl09dm9pZCAwO3ZhciBpPSEwfWNhdGNoKGUpe312YXIgcj1PLmNhbGwoZSk7aSYmKHQ/ZVtWXT1uOmRlbGV0ZSBlW1ZdKTtyZXR1cm4gcn0oZSk6ZnVuY3Rpb24oZSl7cmV0dXJuIE8uY2FsbChlKX0oZSl9ZnVuY3Rpb24gZWUoZSl7cmV0dXJuIF9lKGUpJiZcIltvYmplY3QgQXJndW1lbnRzXVwiPT1LKGUpfWZ1bmN0aW9uIHRlKGUpe2lmKCF5ZShlKSlyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYobnVsbCE9ZSlmb3IodmFyIG4gaW4gT2JqZWN0KGUpKXQucHVzaChuKTtyZXR1cm4gdH0oZSk7dmFyIHQ9c2UoZSksbj1bXTtmb3IodmFyIGkgaW4gZSkoXCJjb25zdHJ1Y3RvclwiIT1pfHwhdCYmRC5jYWxsKGUsaSkpJiZuLnB1c2goaSk7cmV0dXJuIG59ZnVuY3Rpb24gbmUoZSx0KXtyZXR1cm4gbGUoZnVuY3Rpb24oZSx0LG4pe3JldHVybiB0PXEodm9pZCAwPT09dD9lLmxlbmd0aC0xOnQsMCksZnVuY3Rpb24oKXtmb3IodmFyIGk9YXJndW1lbnRzLHI9LTEsbz1xKGkubGVuZ3RoLXQsMCksYT1BcnJheShvKTsrK3I8bzspYVtyXT1pW3Qrcl07cj0tMTtmb3IodmFyIHM9QXJyYXkodCsxKTsrK3I8dDspc1tyXT1pW3JdO3JldHVybiBzW3RdPW4oYSksUyhlLHRoaXMscyl9fShlLHQsRWUpLGUrXCJcIil9ZnVuY3Rpb24gaWUoZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGU7aWYoaGUoZSkpcmV0dXJuIE0oZSxpZSkrXCJcIjtpZihmdW5jdGlvbihlKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgZXx8X2UoZSkmJlwiW29iamVjdCBTeW1ib2xdXCI9PUsoZSl9KGUpKXJldHVybiBYP1guY2FsbChlKTpcIlwiO3ZhciB0PWUrXCJcIjtyZXR1cm5cIjBcIj09dCYmMS9lPT0tMS8wP1wiLTBcIjp0fWZ1bmN0aW9uIHJlKGUsdCxuLGkpe3JldHVybiB2b2lkIDA9PT1lfHxjZShlLEFbbl0pJiYhRC5jYWxsKGksbik/dDplfWZ1bmN0aW9uIG9lKGUsdCl7dmFyIG49dHlwZW9mIGU7cmV0dXJuISEodD1udWxsPT10PzkwMDcxOTkyNTQ3NDA5OTE6dCkmJihcIm51bWJlclwiPT1ufHxcInN5bWJvbFwiIT1uJiZoLnRlc3QoZSkpJiZlPi0xJiZlJTE9PTAmJmU8dH1mdW5jdGlvbiBhZShlLHQsbil7aWYoIXllKG4pKXJldHVybiExO3ZhciBpPXR5cGVvZiB0O3JldHVybiEhKFwibnVtYmVyXCI9PWk/ZGUobikmJm9lKHQsbi5sZW5ndGgpOlwic3RyaW5nXCI9PWkmJnQgaW4gbikmJmNlKG5bdF0sZSl9ZnVuY3Rpb24gc2UoZSl7dmFyIHQ9ZSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm4gZT09PShcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZ0LnByb3RvdHlwZXx8QSl9dmFyIGxlPWZ1bmN0aW9uKGUpe3ZhciB0PTAsbj0wO3JldHVybiBmdW5jdGlvbigpe3ZhciBpPSQoKSxyPTE2LShpLW4pO2lmKG49aSxyPjApe2lmKCsrdD49ODAwKXJldHVybiBhcmd1bWVudHNbMF19ZWxzZSB0PTA7cmV0dXJuIGUuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9fShHP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIEcoZSxcInRvU3RyaW5nXCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHZhbHVlOlRlKHQpLHdyaXRhYmxlOiEwfSl9OkVlKTtmdW5jdGlvbiBjZShlLHQpe3JldHVybiBlPT09dHx8ZSE9ZSYmdCE9dH12YXIgdWU9ZWUoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKT9lZTpmdW5jdGlvbihlKXtyZXR1cm4gX2UoZSkmJkQuY2FsbChlLFwiY2FsbGVlXCIpJiYhVS5jYWxsKGUsXCJjYWxsZWVcIil9LGhlPUFycmF5LmlzQXJyYXk7ZnVuY3Rpb24gZGUoZSl7cmV0dXJuIG51bGwhPWUmJmdlKGUubGVuZ3RoKSYmIW1lKGUpfXZhciBwZT1afHxmdW5jdGlvbigpe3JldHVybiExfTtmdW5jdGlvbiBmZShlKXtpZighX2UoZSkpcmV0dXJuITE7dmFyIHQ9SyhlKTtyZXR1cm5cIltvYmplY3QgRXJyb3JdXCI9PXR8fFwiW29iamVjdCBET01FeGNlcHRpb25dXCI9PXR8fFwic3RyaW5nXCI9PXR5cGVvZiBlLm1lc3NhZ2UmJlwic3RyaW5nXCI9PXR5cGVvZiBlLm5hbWUmJiFmdW5jdGlvbihlKXtpZighX2UoZSl8fFwiW29iamVjdCBPYmplY3RdXCIhPUsoZSkpcmV0dXJuITE7dmFyIHQ9TihlKTtpZihudWxsPT09dClyZXR1cm4hMDt2YXIgbj1ELmNhbGwodCxcImNvbnN0cnVjdG9yXCIpJiZ0LmNvbnN0cnVjdG9yO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJm4gaW5zdGFuY2VvZiBuJiZ6LmNhbGwobik9PVJ9KGUpfWZ1bmN0aW9uIG1lKGUpe2lmKCF5ZShlKSlyZXR1cm4hMTt2YXIgdD1LKGUpO3JldHVyblwiW29iamVjdCBGdW5jdGlvbl1cIj09dHx8XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiPT10fHxcIltvYmplY3QgQXN5bmNGdW5jdGlvbl1cIj09dHx8XCJbb2JqZWN0IFByb3h5XVwiPT10fWZ1bmN0aW9uIGdlKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZlPi0xJiZlJTE9PTAmJmU8PTkwMDcxOTkyNTQ3NDA5OTF9ZnVuY3Rpb24geWUoZSl7dmFyIHQ9dHlwZW9mIGU7cmV0dXJuIG51bGwhPWUmJihcIm9iamVjdFwiPT10fHxcImZ1bmN0aW9uXCI9PXQpfWZ1bmN0aW9uIF9lKGUpe3JldHVybiBudWxsIT1lJiZcIm9iamVjdFwiPT10eXBlb2YgZX12YXIgdmU9RT9mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUodCl9fShFKTpmdW5jdGlvbihlKXtyZXR1cm4gX2UoZSkmJmdlKGUubGVuZ3RoKSYmISFmW0soZSldfTt2YXIgeGU9ZnVuY3Rpb24oZSl7cmV0dXJuIG5lKChmdW5jdGlvbih0LG4pe3ZhciBpPS0xLHI9bi5sZW5ndGgsbz1yPjE/bltyLTFdOnZvaWQgMCxhPXI+Mj9uWzJdOnZvaWQgMDtmb3Iobz1lLmxlbmd0aD4zJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvPyhyLS0sbyk6dm9pZCAwLGEmJmFlKG5bMF0sblsxXSxhKSYmKG89cjwzP3ZvaWQgMDpvLHI9MSksdD1PYmplY3QodCk7KytpPHI7KXt2YXIgcz1uW2ldO3MmJmUodCxzLGksbyl9cmV0dXJuIHR9KSl9KChmdW5jdGlvbihlLHQsbixpKXshZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9IW47bnx8KG49e30pO2Zvcih2YXIgbz0tMSxhPXQubGVuZ3RoOysrbzxhOyl7dmFyIHM9dFtvXSxsPWk/aShuW3NdLGVbc10scyxuLGUpOnZvaWQgMDt2b2lkIDA9PT1sJiYobD1lW3NdKSxyP1EobixzLGwpOkoobixzLGwpfX0odCxmdW5jdGlvbihlKXtyZXR1cm4gZGUoZSk/WShlLCEwKTp0ZShlKX0odCksZSxpKX0pKTtmdW5jdGlvbiBiZShlKXtyZXR1cm4gZGUoZSk/WShlKTpmdW5jdGlvbihlKXtpZighc2UoZSkpcmV0dXJuIFcoZSk7dmFyIHQ9W107Zm9yKHZhciBuIGluIE9iamVjdChlKSlELmNhbGwoZSxuKSYmXCJjb25zdHJ1Y3RvclwiIT1uJiZ0LnB1c2gobik7cmV0dXJuIHR9KGUpfXZhciB3ZT1uZSgoZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIFMoZSx2b2lkIDAsdCl9Y2F0Y2goZSl7cmV0dXJuIGZlKGUpP2U6bmV3IEVycm9yKGUpfX0pKTtmdW5jdGlvbiBUZShlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19ZnVuY3Rpb24gRWUoZSl7cmV0dXJuIGV9bi5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1vLmltcG9ydHMuXy50ZW1wbGF0ZVNldHRpbmdzfHxvO24mJmFlKGUsdCxuKSYmKHQ9dm9pZCAwKSxlPWZ1bmN0aW9uKGUpe3JldHVybiBudWxsPT1lP1wiXCI6aWUoZSl9KGUpLHQ9eGUoe30sdCxpLHJlKTt2YXIgdSxoLGY9eGUoe30sdC5pbXBvcnRzLGkuaW1wb3J0cyxyZSksbT1iZShmKSxnPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE0odCwoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KSl9KGYsbSkseT0wLF89dC5pbnRlcnBvbGF0ZXx8ZCx2PVwiX19wICs9ICdcIix4PVJlZ0V4cCgodC5lc2NhcGV8fGQpLnNvdXJjZStcInxcIitfLnNvdXJjZStcInxcIisoXz09PXI/YzpkKS5zb3VyY2UrXCJ8XCIrKHQuZXZhbHVhdGV8fGQpLnNvdXJjZStcInwkXCIsXCJnXCIpLGI9RC5jYWxsKHQsXCJzb3VyY2VVUkxcIik/XCIvLyMgc291cmNlVVJMPVwiKyh0LnNvdXJjZVVSTCtcIlwiKS5yZXBsYWNlKC9bXFxyXFxuXS9nLFwiIFwiKStcIlxcblwiOlwiXCI7ZS5yZXBsYWNlKHgsKGZ1bmN0aW9uKHQsbixpLHIsbyxhKXtyZXR1cm4gaXx8KGk9ciksdis9ZS5zbGljZSh5LGEpLnJlcGxhY2UocCxJKSxuJiYodT0hMCx2Kz1cIicgK1xcbl9fZShcIituK1wiKSArXFxuJ1wiKSxvJiYoaD0hMCx2Kz1cIic7XFxuXCIrbytcIjtcXG5fX3AgKz0gJ1wiKSxpJiYodis9XCInICtcXG4oKF9fdCA9IChcIitpK1wiKSkgPT0gbnVsbCA/ICcnIDogX190KSArXFxuJ1wiKSx5PWErdC5sZW5ndGgsdH0pKSx2Kz1cIic7XFxuXCI7dmFyIHc9RC5jYWxsKHQsXCJ2YXJpYWJsZVwiKSYmdC52YXJpYWJsZTt3fHwodj1cIndpdGggKG9iaikge1xcblwiK3YrXCJcXG59XFxuXCIpLHY9KGg/di5yZXBsYWNlKGEsXCJcIik6dikucmVwbGFjZShzLFwiJDFcIikucmVwbGFjZShsLFwiJDE7XCIpLHY9XCJmdW5jdGlvbihcIisod3x8XCJvYmpcIikrXCIpIHtcXG5cIisodz9cIlwiOlwib2JqIHx8IChvYmogPSB7fSk7XFxuXCIpK1widmFyIF9fdCwgX19wID0gJydcIisodT9cIiwgX19lID0gXy5lc2NhcGVcIjpcIlwiKSsoaD9cIiwgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuZnVuY3Rpb24gcHJpbnQoKSB7IF9fcCArPSBfX2ouY2FsbChhcmd1bWVudHMsICcnKSB9XFxuXCI6XCI7XFxuXCIpK3YrXCJyZXR1cm4gX19wXFxufVwiO3ZhciBUPXdlKChmdW5jdGlvbigpe3JldHVybiBGdW5jdGlvbihtLGIrXCJyZXR1cm4gXCIrdikuYXBwbHkodm9pZCAwLGcpfSkpO2lmKFQuc291cmNlPXYsZmUoVCkpdGhyb3cgVDtyZXR1cm4gVH19KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLHZvaWQgMCE9PXQ/dDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wibG9kYXNoLl9yZWludGVycG9sYXRlXCI6MTEsXCJsb2Rhc2gudGVtcGxhdGVzZXR0aW5nc1wiOjE1fV0sMTU6W2Z1bmN0aW9uKGUsbixpKXsoZnVuY3Rpb24odCl7KGZ1bmN0aW9uKCl7dmFyIGk9ZShcImxvZGFzaC5fcmVpbnRlcnBvbGF0ZVwiKSxyPS9bJjw+XCInYF0vZyxvPVJlZ0V4cChyLnNvdXJjZSksYT1cIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5PYmplY3Q9PT1PYmplY3QmJnQscz1cIm9iamVjdFwiPT10eXBlb2Ygc2VsZiYmc2VsZiYmc2VsZi5PYmplY3Q9PT1PYmplY3QmJnNlbGYsbD1hfHxzfHxGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7dmFyIGM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBudWxsPT1lP3ZvaWQgMDplW3RdfX0oe1wiJlwiOlwiJmFtcDtcIixcIjxcIjpcIiZsdDtcIixcIj5cIjpcIiZndDtcIiwnXCInOlwiJnF1b3Q7XCIsXCInXCI6XCImIzM5O1wiLFwiYFwiOlwiJiM5NjtcIn0pLHU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxoPWwuU3ltYm9sLGQ9aD9oLnByb3RvdHlwZTp2b2lkIDAscD1kP2QudG9TdHJpbmc6dm9pZCAwLGY9e2VzY2FwZTovPCUtKFtcXHNcXFNdKz8pJT4vZyxldmFsdWF0ZTovPCUoW1xcc1xcU10rPyklPi9nLGludGVycG9sYXRlOmksdmFyaWFibGU6XCJcIixpbXBvcnRzOntfOntlc2NhcGU6ZnVuY3Rpb24oZSl7cmV0dXJuKGU9ZyhlKSkmJm8udGVzdChlKT9lLnJlcGxhY2UocixjKTplfX19fTtmdW5jdGlvbiBtKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXJldHVybiBlO2lmKGZ1bmN0aW9uKGUpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiBlfHxmdW5jdGlvbihlKXtyZXR1cm4hIWUmJlwib2JqZWN0XCI9PXR5cGVvZiBlfShlKSYmXCJbb2JqZWN0IFN5bWJvbF1cIj09dS5jYWxsKGUpfShlKSlyZXR1cm4gcD9wLmNhbGwoZSk6XCJcIjt2YXIgdD1lK1wiXCI7cmV0dXJuXCIwXCI9PXQmJjEvZT09LTEvMD9cIi0wXCI6dH1mdW5jdGlvbiBnKGUpe3JldHVybiBudWxsPT1lP1wiXCI6bShlKX1uLmV4cG9ydHM9Zn0pLmNhbGwodGhpcyl9KS5jYWxsKHRoaXMsdm9pZCAwIT09dD90OlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCJsb2Rhc2guX3JlaW50ZXJwb2xhdGVcIjoxMX1dLDE2OltmdW5jdGlvbihlLHQsbil7dmFyIGkscixvPXQuZXhwb3J0cz17fTtmdW5jdGlvbiBhKCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBzKCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGwoZSl7aWYoaT09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZSwwKTtpZigoaT09PWF8fCFpKSYmc2V0VGltZW91dClyZXR1cm4gaT1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZSwwKTt0cnl7cmV0dXJuIGkoZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIGkuY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIGkuY2FsbCh0aGlzLGUsMCl9fX0hZnVuY3Rpb24oKXt0cnl7aT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRUaW1lb3V0P3NldFRpbWVvdXQ6YX1jYXRjaChlKXtpPWF9dHJ5e3I9XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDpzfWNhdGNoKGUpe3I9c319KCk7dmFyIGMsdT1bXSxoPSExLGQ9LTE7ZnVuY3Rpb24gcCgpe2gmJmMmJihoPSExLGMubGVuZ3RoP3U9Yy5jb25jYXQodSk6ZD0tMSx1Lmxlbmd0aCYmZigpKX1mdW5jdGlvbiBmKCl7aWYoIWgpe3ZhciBlPWwocCk7aD0hMDtmb3IodmFyIHQ9dS5sZW5ndGg7dDspe2ZvcihjPXUsdT1bXTsrK2Q8dDspYyYmY1tkXS5ydW4oKTtkPS0xLHQ9dS5sZW5ndGh9Yz1udWxsLGg9ITEsZnVuY3Rpb24oZSl7aWYocj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChyPT09c3x8IXIpJiZjbGVhclRpbWVvdXQpcmV0dXJuIHI9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7cihlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiByLmNhbGwodGhpcyxlKX19fShlKX19ZnVuY3Rpb24gbShlLHQpe3RoaXMuZnVuPWUsdGhpcy5hcnJheT10fWZ1bmN0aW9uIGcoKXt9by5uZXh0VGljaz1mdW5jdGlvbihlKXt2YXIgdD1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W24tMV09YXJndW1lbnRzW25dO3UucHVzaChuZXcgbShlLHQpKSwxIT09dS5sZW5ndGh8fGh8fGwoZil9LG0ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LG8udGl0bGU9XCJicm93c2VyXCIsby5icm93c2VyPSEwLG8uZW52PXt9LG8uYXJndj1bXSxvLnZlcnNpb249XCJcIixvLnZlcnNpb25zPXt9LG8ub249ZyxvLmFkZExpc3RlbmVyPWcsby5vbmNlPWcsby5vZmY9ZyxvLnJlbW92ZUxpc3RlbmVyPWcsby5yZW1vdmVBbGxMaXN0ZW5lcnM9ZyxvLmVtaXQ9ZyxvLnByZXBlbmRMaXN0ZW5lcj1nLG8ucHJlcGVuZE9uY2VMaXN0ZW5lcj1nLG8ubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfSxvLmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LG8uY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LG8uY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxvLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7fV0sMTc6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10LmRpc3BhdGNoLGk9dC5nZXRTdGF0ZTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHIpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHI/cihuLGksZSk6dChyKX19fX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkoKTtyLndpdGhFeHRyYUFyZ3VtZW50PWk7dmFyIG89cjtuLmRlZmF1bHQ9b30se31dLDE4OltmdW5jdGlvbihlLHQsbil7KGZ1bmN0aW9uKHQpeyhmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZcImRlZmF1bHRcImluIGU/ZTp7ZGVmYXVsdDplfX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcj1pKGUoXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL29iamVjdFNwcmVhZDJcIikpO2Z1bmN0aW9uIG8oZSl7cmV0dXJuXCJNaW5pZmllZCBSZWR1eCBlcnJvciAjXCIrZStcIjsgdmlzaXQgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvRXJyb3JzP2NvZGU9XCIrZStcIiBmb3IgdGhlIGZ1bGwgbWVzc2FnZSBvciB1c2UgdGhlIG5vbi1taW5pZmllZCBkZXYgZW52aXJvbm1lbnQgZm9yIGZ1bGwgZXJyb3JzLiBcIn12YXIgYT1mdW5jdGlvbigpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLm9ic2VydmFibGV8fFwiQEBvYnNlcnZhYmxlXCJ9KCkscz1mdW5jdGlvbigpe3JldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoXCJcIikuam9pbihcIi5cIil9LGw9e0lOSVQ6XCJAQHJlZHV4L0lOSVRcIitzKCksUkVQTEFDRTpcIkBAcmVkdXgvUkVQTEFDRVwiK3MoKSxQUk9CRV9VTktOT1dOX0FDVElPTjpmdW5jdGlvbigpe3JldHVyblwiQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTlwiK3MoKX19O2Z1bmN0aW9uIGMoZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXJldHVybiExO2Zvcih2YXIgdD1lO251bGwhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7KXQ9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO3JldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT10fWZ1bmN0aW9uIHUoZSl7aWYodm9pZCAwPT09ZSlyZXR1cm5cInVuZGVmaW5lZFwiO2lmKG51bGw9PT1lKXJldHVyblwibnVsbFwiO3ZhciB0PXR5cGVvZiBlO3N3aXRjaCh0KXtjYXNlXCJib29sZWFuXCI6Y2FzZVwic3RyaW5nXCI6Y2FzZVwibnVtYmVyXCI6Y2FzZVwic3ltYm9sXCI6Y2FzZVwiZnVuY3Rpb25cIjpyZXR1cm4gdH1pZihBcnJheS5pc0FycmF5KGUpKXJldHVyblwiYXJyYXlcIjtpZihmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIERhdGV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudG9EYXRlU3RyaW5nJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmdldERhdGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuc2V0RGF0ZX0oZSkpcmV0dXJuXCJkYXRlXCI7aWYoZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBFcnJvcnx8XCJzdHJpbmdcIj09dHlwZW9mIGUubWVzc2FnZSYmZS5jb25zdHJ1Y3RvciYmXCJudW1iZXJcIj09dHlwZW9mIGUuY29uc3RydWN0b3Iuc3RhY2tUcmFjZUxpbWl0fShlKSlyZXR1cm5cImVycm9yXCI7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLm5hbWU6bnVsbH0oZSk7c3dpdGNoKG4pe2Nhc2VcIlN5bWJvbFwiOmNhc2VcIlByb21pc2VcIjpjYXNlXCJXZWFrTWFwXCI6Y2FzZVwiV2Vha1NldFwiOmNhc2VcIk1hcFwiOmNhc2VcIlNldFwiOnJldHVybiBufXJldHVybiB0LnNsaWNlKDgsLTEpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csXCJcIil9ZnVuY3Rpb24gaChlKXt2YXIgbj10eXBlb2YgZTtyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXQuZW52Lk5PREVfRU5WJiYobj11KGUpKSxufWZ1bmN0aW9uIGQoZSxuLGkpe3ZhciByO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJlwiZnVuY3Rpb25cIj09dHlwZW9mIGl8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1szXSl0aHJvdyBuZXcgRXJyb3IoXCJwcm9kdWN0aW9uXCI9PT10LmVudi5OT0RFX0VOVj9vKDApOlwiSXQgbG9va3MgbGlrZSB5b3UgYXJlIHBhc3Npbmcgc2V2ZXJhbCBzdG9yZSBlbmhhbmNlcnMgdG8gY3JlYXRlU3RvcmUoKS4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkLiBJbnN0ZWFkLCBjb21wb3NlIHRoZW0gdG9nZXRoZXIgdG8gYSBzaW5nbGUgZnVuY3Rpb24uIFNlZSBodHRwczovL3JlZHV4LmpzLm9yZy90dXRvcmlhbHMvZnVuZGFtZW50YWxzL3BhcnQtNC1zdG9yZSNjcmVhdGluZy1hLXN0b3JlLXdpdGgtZW5oYW5jZXJzIGZvciBhbiBleGFtcGxlLlwiKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZ2b2lkIDA9PT1pJiYoaT1uLG49dm9pZCAwKSx2b2lkIDAhPT1pKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBpKXRocm93IG5ldyBFcnJvcihcInByb2R1Y3Rpb25cIj09PXQuZW52Lk5PREVfRU5WP28oMSk6XCJFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICdcIitoKGkpK1wiJ1wiKTtyZXR1cm4gaShkKShlLG4pfWlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwicHJvZHVjdGlvblwiPT09dC5lbnYuTk9ERV9FTlY/bygyKTpcIkV4cGVjdGVkIHRoZSByb290IHJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICdcIitoKGUpK1wiJ1wiKTt2YXIgcz1lLHU9bixwPVtdLGY9cCxtPSExO2Z1bmN0aW9uIGcoKXtmPT09cCYmKGY9cC5zbGljZSgpKX1mdW5jdGlvbiB5KCl7aWYobSl0aHJvdyBuZXcgRXJyb3IoXCJwcm9kdWN0aW9uXCI9PT10LmVudi5OT0RFX0VOVj9vKDMpOlwiWW91IG1heSBub3QgY2FsbCBzdG9yZS5nZXRTdGF0ZSgpIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gVGhlIHJlZHVjZXIgaGFzIGFscmVhZHkgcmVjZWl2ZWQgdGhlIHN0YXRlIGFzIGFuIGFyZ3VtZW50LiBQYXNzIGl0IGRvd24gZnJvbSB0aGUgdG9wIHJlZHVjZXIgaW5zdGVhZCBvZiByZWFkaW5nIGl0IGZyb20gdGhlIHN0b3JlLlwiKTtyZXR1cm4gdX1mdW5jdGlvbiBfKGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwicHJvZHVjdGlvblwiPT09dC5lbnYuTk9ERV9FTlY/byg0KTpcIkV4cGVjdGVkIHRoZSBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkLCByZWNlaXZlZDogJ1wiK2goZSkrXCInXCIpO2lmKG0pdGhyb3cgbmV3IEVycm9yKFwicHJvZHVjdGlvblwiPT09dC5lbnYuTk9ERV9FTlY/byg1KTpcIllvdSBtYXkgbm90IGNhbGwgc3RvcmUuc3Vic2NyaWJlKCkgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiBJZiB5b3Ugd291bGQgbGlrZSB0byBiZSBub3RpZmllZCBhZnRlciB0aGUgc3RvcmUgaGFzIGJlZW4gdXBkYXRlZCwgc3Vic2NyaWJlIGZyb20gYSBjb21wb25lbnQgYW5kIGludm9rZSBzdG9yZS5nZXRTdGF0ZSgpIGluIHRoZSBjYWxsYmFjayB0byBhY2Nlc3MgdGhlIGxhdGVzdCBzdGF0ZS4gU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL2FwaS9zdG9yZSNzdWJzY3JpYmVsaXN0ZW5lciBmb3IgbW9yZSBkZXRhaWxzLlwiKTt2YXIgbj0hMDtyZXR1cm4gZygpLGYucHVzaChlKSxmdW5jdGlvbigpe2lmKG4pe2lmKG0pdGhyb3cgbmV3IEVycm9yKFwicHJvZHVjdGlvblwiPT09dC5lbnYuTk9ERV9FTlY/byg2KTpcIllvdSBtYXkgbm90IHVuc3Vic2NyaWJlIGZyb20gYSBzdG9yZSBsaXN0ZW5lciB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuIFNlZSBodHRwczovL3JlZHV4LmpzLm9yZy9hcGkvc3RvcmUjc3Vic2NyaWJlbGlzdGVuZXIgZm9yIG1vcmUgZGV0YWlscy5cIik7bj0hMSxnKCk7dmFyIGk9Zi5pbmRleE9mKGUpO2Yuc3BsaWNlKGksMSkscD1udWxsfX19ZnVuY3Rpb24gdihlKXtpZighYyhlKSl0aHJvdyBuZXcgRXJyb3IoXCJwcm9kdWN0aW9uXCI9PT10LmVudi5OT0RFX0VOVj9vKDcpOlwiQWN0aW9ucyBtdXN0IGJlIHBsYWluIG9iamVjdHMuIEluc3RlYWQsIHRoZSBhY3R1YWwgdHlwZSB3YXM6ICdcIitoKGUpK1wiJy4gWW91IG1heSBuZWVkIHRvIGFkZCBtaWRkbGV3YXJlIHRvIHlvdXIgc3RvcmUgc2V0dXAgdG8gaGFuZGxlIGRpc3BhdGNoaW5nIG90aGVyIHZhbHVlcywgc3VjaCBhcyAncmVkdXgtdGh1bmsnIHRvIGhhbmRsZSBkaXNwYXRjaGluZyBmdW5jdGlvbnMuIFNlZSBodHRwczovL3JlZHV4LmpzLm9yZy90dXRvcmlhbHMvZnVuZGFtZW50YWxzL3BhcnQtNC1zdG9yZSNtaWRkbGV3YXJlIGFuZCBodHRwczovL3JlZHV4LmpzLm9yZy90dXRvcmlhbHMvZnVuZGFtZW50YWxzL3BhcnQtNi1hc3luYy1sb2dpYyN1c2luZy10aGUtcmVkdXgtdGh1bmstbWlkZGxld2FyZSBmb3IgZXhhbXBsZXMuXCIpO2lmKHZvaWQgMD09PWUudHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJwcm9kdWN0aW9uXCI9PT10LmVudi5OT0RFX0VOVj9vKDgpOidBY3Rpb25zIG1heSBub3QgaGF2ZSBhbiB1bmRlZmluZWQgXCJ0eXBlXCIgcHJvcGVydHkuIFlvdSBtYXkgaGF2ZSBtaXNzcGVsbGVkIGFuIGFjdGlvbiB0eXBlIHN0cmluZyBjb25zdGFudC4nKTtpZihtKXRocm93IG5ldyBFcnJvcihcInByb2R1Y3Rpb25cIj09PXQuZW52Lk5PREVfRU5WP28oOSk6XCJSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuXCIpO3RyeXttPSEwLHU9cyh1LGUpfWZpbmFsbHl7bT0hMX1mb3IodmFyIG49cD1mLGk9MDtpPG4ubGVuZ3RoO2krKyl7KDAsbltpXSkoKX1yZXR1cm4gZX1mdW5jdGlvbiB4KGUpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKFwicHJvZHVjdGlvblwiPT09dC5lbnYuTk9ERV9FTlY/bygxMCk6XCJFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICdcIitoKGUpKTtzPWUsdih7dHlwZTpsLlJFUExBQ0V9KX1mdW5jdGlvbiBiKCl7dmFyIGUsbj1fO3JldHVybihlPXtzdWJzY3JpYmU6ZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fG51bGw9PT1lKXRocm93IG5ldyBFcnJvcihcInByb2R1Y3Rpb25cIj09PXQuZW52Lk5PREVfRU5WP28oMTEpOlwiRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC4gSW5zdGVhZCwgcmVjZWl2ZWQ6ICdcIitoKGUpK1wiJ1wiKTtmdW5jdGlvbiBpKCl7ZS5uZXh0JiZlLm5leHQoeSgpKX1yZXR1cm4gaSgpLHt1bnN1YnNjcmliZTpuKGkpfX19KVthXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxlfXJldHVybiB2KHt0eXBlOmwuSU5JVH0pLChyPXtkaXNwYXRjaDp2LHN1YnNjcmliZTpfLGdldFN0YXRlOnkscmVwbGFjZVJlZHVjZXI6eH0pW2FdPWIscn12YXIgcD1kO2Z1bmN0aW9uIGYoZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNvbnNvbGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGNvbnNvbGUuZXJyb3ImJmNvbnNvbGUuZXJyb3IoZSk7dHJ5e3Rocm93IG5ldyBFcnJvcihlKX1jYXRjaChlKXt9fWZ1bmN0aW9uIG0oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdChlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fWZ1bmN0aW9uIGcoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxuPTA7bjxlO24rKyl0W25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gMD09PXQubGVuZ3RoP2Z1bmN0aW9uKGUpe3JldHVybiBlfToxPT09dC5sZW5ndGg/dFswXTp0LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0LmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpKX19KSl9ZnVuY3Rpb24geSgpe31cInByb2R1Y3Rpb25cIiE9PXQuZW52Lk5PREVfRU5WJiZcInN0cmluZ1wiPT10eXBlb2YgeS5uYW1lJiZcImlzQ3J1c2hlZFwiIT09eS5uYW1lJiZmKCdZb3UgYXJlIGN1cnJlbnRseSB1c2luZyBtaW5pZmllZCBjb2RlIG91dHNpZGUgb2YgTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLiBUaGlzIG1lYW5zIHRoYXQgeW91IGFyZSBydW5uaW5nIGEgc2xvd2VyIGRldmVsb3BtZW50IGJ1aWxkIG9mIFJlZHV4LiBZb3UgY2FuIHVzZSBsb29zZS1lbnZpZnkgKGh0dHBzOi8vZ2l0aHViLmNvbS96ZXJ0b3NoL2xvb3NlLWVudmlmeSkgZm9yIGJyb3dzZXJpZnkgb3Igc2V0dGluZyBtb2RlIHRvIHByb2R1Y3Rpb24gaW4gd2VicGFjayAoaHR0cHM6Ly93ZWJwYWNrLmpzLm9yZy9jb25jZXB0cy9tb2RlLykgdG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKSxuLl9fRE9fTk9UX1VTRV9fQWN0aW9uVHlwZXM9bCxuLmFwcGx5TWlkZGxld2FyZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKW5baV09YXJndW1lbnRzW2ldO3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaT1lLmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpLGE9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9kdWN0aW9uXCI9PT10LmVudi5OT0RFX0VOVj9vKDE1KTpcIkRpc3BhdGNoaW5nIHdoaWxlIGNvbnN0cnVjdGluZyB5b3VyIG1pZGRsZXdhcmUgaXMgbm90IGFsbG93ZWQuIE90aGVyIG1pZGRsZXdhcmUgd291bGQgbm90IGJlIGFwcGxpZWQgdG8gdGhpcyBkaXNwYXRjaC5cIil9LHM9e2dldFN0YXRlOmkuZ2V0U3RhdGUsZGlzcGF0Y2g6ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX19LGw9bi5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlKHMpfSkpO3JldHVybiBhPWcuYXBwbHkodm9pZCAwLGwpKGkuZGlzcGF0Y2gpLHIuZGVmYXVsdChyLmRlZmF1bHQoe30saSkse30se2Rpc3BhdGNoOmF9KX19fSxuLmJpbmRBY3Rpb25DcmVhdG9ycz1mdW5jdGlvbihlLG4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpcmV0dXJuIG0oZSxuKTtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8bnVsbD09PWUpdGhyb3cgbmV3IEVycm9yKFwicHJvZHVjdGlvblwiPT09dC5lbnYuTk9ERV9FTlY/bygxNik6XCJiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGJ1dCBpbnN0ZWFkIHJlY2VpdmVkOiAnXCIraChlKSsnXFwnLiBEaWQgeW91IHdyaXRlIFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cIiBpbnN0ZWFkIG9mIFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVwiPycpO3ZhciBpPXt9O2Zvcih2YXIgciBpbiBlKXt2YXIgYT1lW3JdO1wiZnVuY3Rpb25cIj09dHlwZW9mIGEmJihpW3JdPW0oYSxuKSl9cmV0dXJuIGl9LG4uY29tYmluZVJlZHVjZXJzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgbj1PYmplY3Qua2V5cyhlKSxpPXt9LHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIGE9bltyXTtcInByb2R1Y3Rpb25cIiE9PXQuZW52Lk5PREVfRU5WJiZ2b2lkIDA9PT1lW2FdJiZmKCdObyByZWR1Y2VyIHByb3ZpZGVkIGZvciBrZXkgXCInK2ErJ1wiJyksXCJmdW5jdGlvblwiPT10eXBlb2YgZVthXSYmKGlbYV09ZVthXSl9dmFyIHMsdSxkPU9iamVjdC5rZXlzKGkpO1wicHJvZHVjdGlvblwiIT09dC5lbnYuTk9ERV9FTlYmJihzPXt9KTt0cnl7IWZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBpPWVbbl07aWYodm9pZCAwPT09aSh2b2lkIDAse3R5cGU6bC5JTklUfSkpdGhyb3cgbmV3IEVycm9yKFwicHJvZHVjdGlvblwiPT09dC5lbnYuTk9ERV9FTlY/bygxMik6J1RoZSBzbGljZSByZWR1Y2VyIGZvciBrZXkgXCInK24rXCJcXFwiIHJldHVybmVkIHVuZGVmaW5lZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uIElmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlIHJlZHVjZXIgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQuIElmIHlvdSBkb24ndCB3YW50IHRvIHNldCBhIHZhbHVlIGZvciB0aGlzIHJlZHVjZXIsIHlvdSBjYW4gdXNlIG51bGwgaW5zdGVhZCBvZiB1bmRlZmluZWQuXCIpO2lmKHZvaWQgMD09PWkodm9pZCAwLHt0eXBlOmwuUFJPQkVfVU5LTk9XTl9BQ1RJT04oKX0pKXRocm93IG5ldyBFcnJvcihcInByb2R1Y3Rpb25cIj09PXQuZW52Lk5PREVfRU5WP28oMTMpOidUaGUgc2xpY2UgcmVkdWNlciBmb3Iga2V5IFwiJytuK1wiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiBEb24ndCB0cnkgdG8gaGFuZGxlICdcIitsLklOSVQrJ1xcJyBvciBvdGhlciBhY3Rpb25zIGluIFwicmVkdXgvKlwiIG5hbWVzcGFjZS4gVGhleSBhcmUgY29uc2lkZXJlZCBwcml2YXRlLiBJbnN0ZWFkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGN1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsIGluIHdoaWNoIGNhc2UgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLCByZWdhcmRsZXNzIG9mIHRoZSBhY3Rpb24gdHlwZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IG5vdCBiZSB1bmRlZmluZWQsIGJ1dCBjYW4gYmUgbnVsbC4nKX0pKX0oaSl9Y2F0Y2goZSl7dT1lfXJldHVybiBmdW5jdGlvbihlLG4pe2lmKHZvaWQgMD09PWUmJihlPXt9KSx1KXRocm93IHU7aWYoXCJwcm9kdWN0aW9uXCIhPT10LmVudi5OT0RFX0VOVil7dmFyIHI9ZnVuY3Rpb24oZSx0LG4saSl7dmFyIHI9T2JqZWN0LmtleXModCksbz1uJiZuLnR5cGU9PT1sLklOSVQ/XCJwcmVsb2FkZWRTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmVcIjpcInByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyXCI7aWYoMD09PXIubGVuZ3RoKXJldHVyblwiU3RvcmUgZG9lcyBub3QgaGF2ZSBhIHZhbGlkIHJlZHVjZXIuIE1ha2Ugc3VyZSB0aGUgYXJndW1lbnQgcGFzc2VkIHRvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy5cIjtpZighYyhlKSlyZXR1cm5cIlRoZSBcIitvKycgaGFzIHVuZXhwZWN0ZWQgdHlwZSBvZiBcIicraChlKSsnXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czogXCInK3Iuam9pbignXCIsIFwiJykrJ1wiJzt2YXIgYT1PYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiF0Lmhhc093blByb3BlcnR5KGUpJiYhaVtlXX0pKTtyZXR1cm4gYS5mb3JFYWNoKChmdW5jdGlvbihlKXtpW2VdPSEwfSkpLG4mJm4udHlwZT09PWwuUkVQTEFDRT92b2lkIDA6YS5sZW5ndGg+MD9cIlVuZXhwZWN0ZWQgXCIrKGEubGVuZ3RoPjE/XCJrZXlzXCI6XCJrZXlcIikrJyBcIicrYS5qb2luKCdcIiwgXCInKSsnXCIgZm91bmQgaW4gJytvKycuIEV4cGVjdGVkIHRvIGZpbmQgb25lIG9mIHRoZSBrbm93biByZWR1Y2VyIGtleXMgaW5zdGVhZDogXCInK3Iuam9pbignXCIsIFwiJykrJ1wiLiBVbmV4cGVjdGVkIGtleXMgd2lsbCBiZSBpZ25vcmVkLic6dm9pZCAwfShlLGksbixzKTtyJiZmKHIpfWZvcih2YXIgYT0hMSxwPXt9LG09MDttPGQubGVuZ3RoO20rKyl7dmFyIGc9ZFttXSx5PWlbZ10sXz1lW2ddLHY9eShfLG4pO2lmKHZvaWQgMD09PXYpe3ZhciB4PW4mJm4udHlwZTt0aHJvdyBuZXcgRXJyb3IoXCJwcm9kdWN0aW9uXCI9PT10LmVudi5OT0RFX0VOVj9vKDE0KTpcIldoZW4gY2FsbGVkIHdpdGggYW4gYWN0aW9uIG9mIHR5cGUgXCIrKHg/J1wiJytTdHJpbmcoeCkrJ1wiJzpcIih1bmtub3duIHR5cGUpXCIpKycsIHRoZSBzbGljZSByZWR1Y2VyIGZvciBrZXkgXCInK2crJ1wiIHJldHVybmVkIHVuZGVmaW5lZC4gVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLiBJZiB5b3Ugd2FudCB0aGlzIHJlZHVjZXIgdG8gaG9sZCBubyB2YWx1ZSwgeW91IGNhbiByZXR1cm4gbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC4nKX1wW2ddPXYsYT1hfHx2IT09X31yZXR1cm4oYT1hfHxkLmxlbmd0aCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aCk/cDplfX0sbi5jb21wb3NlPWcsbi5jcmVhdGVTdG9yZT1kLG4ubGVnYWN5X2NyZWF0ZVN0b3JlPXB9KS5jYWxsKHRoaXMpfSkuY2FsbCh0aGlzLGUoXCJfcHJvY2Vzc1wiKSl9LHtcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvb2JqZWN0U3ByZWFkMlwiOjIsX3Byb2Nlc3M6MTZ9XSwxOTpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPWUoXCIuL3NyYy9zdWdnZXN0aW9uc1wiKTt0LmV4cG9ydHM9aSxcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiYod2luZG93LlN1Z2dlc3Rpb25zPWkpfSx7XCIuL3NyYy9zdWdnZXN0aW9uc1wiOjIxfV0sMjA6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5jb21wb25lbnQ9ZSx0aGlzLml0ZW1zPVtdLHRoaXMuYWN0aXZlPTAsdGhpcy53cmFwcGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy53cmFwcGVyLmNsYXNzTmFtZT1cInN1Z2dlc3Rpb25zLXdyYXBwZXJcIix0aGlzLmVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpLHRoaXMuZWxlbWVudC5jbGFzc05hbWU9XCJzdWdnZXN0aW9uc1wiLHRoaXMud3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpLHRoaXMuc2VsZWN0aW5nTGlzdEl0ZW09ITEsZS5lbC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLndyYXBwZXIsZS5lbC5uZXh0U2libGluZyksdGhpc307aS5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIn0saS5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5PVwibm9uZVwifSxpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dGhpcy5pdGVtcy5wdXNoKGUpfSxpLnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuaXRlbXM9W10sdGhpcy5hY3RpdmU9MH0saS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiF0aGlzLml0ZW1zLmxlbmd0aH0saS5wcm90b3R5cGUuaXNWaXNpYmxlPWZ1bmN0aW9uKCl7cmV0dXJuXCJibG9ja1wiPT09dGhpcy5lbGVtZW50LnN0eWxlLmRpc3BsYXl9LGkucHJvdG90eXBlLmRyYXc9ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1lbnQuaW5uZXJIVE1MPVwiXCIsMCE9PXRoaXMuaXRlbXMubGVuZ3RoKXtmb3IodmFyIGU9MDtlPHRoaXMuaXRlbXMubGVuZ3RoO2UrKyl0aGlzLmRyYXdJdGVtKHRoaXMuaXRlbXNbZV0sdGhpcy5hY3RpdmU9PT1lKTt0aGlzLnNob3coKX1lbHNlIHRoaXMuaGlkZSgpfSxpLnByb3RvdHlwZS5kcmF3SXRlbT1mdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKSxpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3QmJihuLmNsYXNzTmFtZSs9XCIgYWN0aXZlXCIpLGkuaW5uZXJIVE1MPWUuc3RyaW5nLG4uYXBwZW5kQ2hpbGQoaSksdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKG4pLG4uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RpbmdMaXN0SXRlbT0hMH0uYmluZCh0aGlzKSksbi5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLGZ1bmN0aW9uKCl7dGhpcy5oYW5kbGVNb3VzZVVwLmNhbGwodGhpcyxlKX0uYmluZCh0aGlzKSl9LGkucHJvdG90eXBlLmhhbmRsZU1vdXNlVXA9ZnVuY3Rpb24oZSl7dGhpcy5zZWxlY3RpbmdMaXN0SXRlbT0hMSx0aGlzLmNvbXBvbmVudC52YWx1ZShlLm9yaWdpbmFsKSx0aGlzLmNsZWFyKCksdGhpcy5kcmF3KCl9LGkucHJvdG90eXBlLm1vdmU9ZnVuY3Rpb24oZSl7dGhpcy5hY3RpdmU9ZSx0aGlzLmRyYXcoKX0saS5wcm90b3R5cGUucHJldmlvdXM9ZnVuY3Rpb24oKXt0aGlzLm1vdmUoMD09PXRoaXMuYWN0aXZlP3RoaXMuaXRlbXMubGVuZ3RoLTE6dGhpcy5hY3RpdmUtMSl9LGkucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oKXt0aGlzLm1vdmUodGhpcy5hY3RpdmU9PT10aGlzLml0ZW1zLmxlbmd0aC0xPzA6dGhpcy5hY3RpdmUrMSl9LGkucHJvdG90eXBlLmRyYXdFcnJvcj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7dC5pbm5lckhUTUw9ZSx0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodCksdGhpcy5zaG93KCl9LHQuZXhwb3J0cz1pfSx7fV0sMjE6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1lKFwieHRlbmRcIikscj1lKFwiZnV6enlcIiksbz1lKFwiLi9saXN0XCIpLGE9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBuPW58fHt9LHRoaXMub3B0aW9ucz1pKHttaW5MZW5ndGg6MixsaW1pdDo1LGZpbHRlcjohMCxoaWRlT25CbHVyOiEwfSxuKSx0aGlzLmVsPWUsdGhpcy5kYXRhPXR8fFtdLHRoaXMubGlzdD1uZXcgbyh0aGlzKSx0aGlzLnF1ZXJ5PVwiXCIsdGhpcy5zZWxlY3RlZD1udWxsLHRoaXMubGlzdC5kcmF3KCksdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixmdW5jdGlvbihlKXt0aGlzLmhhbmRsZUtleVVwKGUua2V5Q29kZSl9LmJpbmQodGhpcyksITEpLHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixmdW5jdGlvbihlKXt0aGlzLmhhbmRsZUtleURvd24oZSl9LmJpbmQodGhpcykpLHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImZvY3VzXCIsZnVuY3Rpb24oKXt0aGlzLmhhbmRsZUZvY3VzKCl9LmJpbmQodGhpcykpLHRoaXMuZWwuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIixmdW5jdGlvbigpe3RoaXMuaGFuZGxlQmx1cigpfS5iaW5kKHRoaXMpKSx0aGlzLmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJwYXN0ZVwiLGZ1bmN0aW9uKGUpe3RoaXMuaGFuZGxlUGFzdGUoZSl9LmJpbmQodGhpcykpLHRoaXMucmVuZGVyPXRoaXMub3B0aW9ucy5yZW5kZXI/dGhpcy5vcHRpb25zLnJlbmRlci5iaW5kKHRoaXMpOnRoaXMucmVuZGVyLmJpbmQodGhpcyksdGhpcy5nZXRJdGVtVmFsdWU9dGhpcy5vcHRpb25zLmdldEl0ZW1WYWx1ZT90aGlzLm9wdGlvbnMuZ2V0SXRlbVZhbHVlLmJpbmQodGhpcyk6dGhpcy5nZXRJdGVtVmFsdWUuYmluZCh0aGlzKSx0aGlzfTthLnByb3RvdHlwZS5oYW5kbGVLZXlVcD1mdW5jdGlvbihlKXs0MCE9PWUmJjM4IT09ZSYmMjchPT1lJiYxMyE9PWUmJjkhPT1lJiZ0aGlzLmhhbmRsZUlucHV0Q2hhbmdlKHRoaXMuZWwudmFsdWUpfSxhLnByb3RvdHlwZS5oYW5kbGVLZXlEb3duPWZ1bmN0aW9uKGUpe3N3aXRjaChlLmtleUNvZGUpe2Nhc2UgMTM6Y2FzZSA5OnRoaXMubGlzdC5pc0VtcHR5KCl8fCh0aGlzLmxpc3QuaXNWaXNpYmxlKCkmJmUucHJldmVudERlZmF1bHQoKSx0aGlzLnZhbHVlKHRoaXMubGlzdC5pdGVtc1t0aGlzLmxpc3QuYWN0aXZlXS5vcmlnaW5hbCksdGhpcy5saXN0LmhpZGUoKSk7YnJlYWs7Y2FzZSAyNzp0aGlzLmxpc3QuaXNFbXB0eSgpfHx0aGlzLmxpc3QuaGlkZSgpO2JyZWFrO2Nhc2UgMzg6dGhpcy5saXN0LnByZXZpb3VzKCk7YnJlYWs7Y2FzZSA0MDp0aGlzLmxpc3QubmV4dCgpfX0sYS5wcm90b3R5cGUuaGFuZGxlQmx1cj1mdW5jdGlvbigpeyF0aGlzLmxpc3Quc2VsZWN0aW5nTGlzdEl0ZW0mJnRoaXMub3B0aW9ucy5oaWRlT25CbHVyJiZ0aGlzLmxpc3QuaGlkZSgpfSxhLnByb3RvdHlwZS5oYW5kbGVQYXN0ZT1mdW5jdGlvbihlKXtpZihlLmNsaXBib2FyZERhdGEpdGhpcy5oYW5kbGVJbnB1dENoYW5nZShlLmNsaXBib2FyZERhdGEuZ2V0RGF0YShcIlRleHRcIikpO2Vsc2V7dmFyIHQ9dGhpcztzZXRUaW1lb3V0KChmdW5jdGlvbigpe3QuaGFuZGxlSW5wdXRDaGFuZ2UoZS50YXJnZXQudmFsdWUpfSksMTAwKX19LGEucHJvdG90eXBlLmhhbmRsZUlucHV0Q2hhbmdlPWZ1bmN0aW9uKGUpe3RoaXMucXVlcnk9dGhpcy5ub3JtYWxpemUoZSksdGhpcy5saXN0LmNsZWFyKCksdGhpcy5xdWVyeS5sZW5ndGg8dGhpcy5vcHRpb25zLm1pbkxlbmd0aD90aGlzLmxpc3QuZHJhdygpOnRoaXMuZ2V0Q2FuZGlkYXRlcyhmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoJiYodGhpcy5saXN0LmFkZChlW3RdKSx0IT09dGhpcy5vcHRpb25zLmxpbWl0LTEpO3QrKyk7dGhpcy5saXN0LmRyYXcoKX0uYmluZCh0aGlzKSl9LGEucHJvdG90eXBlLmhhbmRsZUZvY3VzPWZ1bmN0aW9uKCl7dGhpcy5saXN0LmlzRW1wdHkoKXx8dGhpcy5saXN0LnNob3coKSx0aGlzLmxpc3Quc2VsZWN0aW5nTGlzdEl0ZW09ITF9LGEucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLmRhdGE9ZSx0aGlzLmhhbmRsZUtleVVwKCl9LGEucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5kYXRhPVtdLHRoaXMubGlzdC5jbGVhcigpfSxhLnByb3RvdHlwZS5ub3JtYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9ZS50b0xvd2VyQ2FzZSgpfSxhLnByb3RvdHlwZS5tYXRjaD1mdW5jdGlvbihlLHQpe3JldHVybiBlLmluZGV4T2YodCk+LTF9LGEucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKGUpe2lmKHRoaXMuc2VsZWN0ZWQ9ZSx0aGlzLmVsLnZhbHVlPXRoaXMuZ2V0SXRlbVZhbHVlKGUpLGRvY3VtZW50LmNyZWF0ZUV2ZW50KXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFdmVudChcIkhUTUxFdmVudHNcIik7dC5pbml0RXZlbnQoXCJjaGFuZ2VcIiwhMCwhMSksdGhpcy5lbC5kaXNwYXRjaEV2ZW50KHQpfWVsc2UgdGhpcy5lbC5maXJlRXZlbnQoXCJvbmNoYW5nZVwiKX0sYS5wcm90b3R5cGUuZ2V0Q2FuZGlkYXRlcz1mdW5jdGlvbihlKXt2YXIgdD17cHJlOlwiPHN0cm9uZz5cIixwb3N0OlwiPC9zdHJvbmc+XCIsZXh0cmFjdDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5nZXRJdGVtVmFsdWUoZSl9LmJpbmQodGhpcyl9O2UodGhpcy5vcHRpb25zLmZpbHRlcj9yLmZpbHRlcih0aGlzLnF1ZXJ5LHRoaXMuZGF0YSx0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue29yaWdpbmFsOmUub3JpZ2luYWwsc3RyaW5nOnRoaXMucmVuZGVyKGUub3JpZ2luYWwsZS5zdHJpbmcpfX0uYmluZCh0aGlzKSk6dGhpcy5kYXRhLm1hcChmdW5jdGlvbihlKXtyZXR1cm57b3JpZ2luYWw6ZSxzdHJpbmc6dGhpcy5yZW5kZXIoZSl9fS5iaW5kKHRoaXMpKSl9LGEucHJvdG90eXBlLmdldEl0ZW1WYWx1ZT1mdW5jdGlvbihlKXtyZXR1cm4gZX0sYS5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKGUsdCl7aWYodClyZXR1cm4gdDtmb3IodmFyIG49ZS5vcmlnaW5hbD90aGlzLmdldEl0ZW1WYWx1ZShlLm9yaWdpbmFsKTp0aGlzLmdldEl0ZW1WYWx1ZShlKSxpPXRoaXMubm9ybWFsaXplKG4pLHI9aS5sYXN0SW5kZXhPZih0aGlzLnF1ZXJ5KTtyPi0xOyl7dmFyIG89cit0aGlzLnF1ZXJ5Lmxlbmd0aDtuPW4uc2xpY2UoMCxyKStcIjxzdHJvbmc+XCIrbi5zbGljZShyLG8pK1wiPC9zdHJvbmc+XCIrbi5zbGljZShvKSxyPWkuc2xpY2UoMCxyKS5sYXN0SW5kZXhPZih0aGlzLnF1ZXJ5KX1yZXR1cm4gbn0sYS5wcm90b3R5cGUucmVuZGVyRXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5saXN0LmRyYXdFcnJvcihlKX0sdC5leHBvcnRzPWF9LHtcIi4vbGlzdFwiOjIwLGZ1enp5OjkseHRlbmQ6MjR9XSwyMjpbZnVuY3Rpb24oZSx0LG4pe3ZhciBpPWUoXCJ0dXJmLW1ldGFcIikuY29vcmRFYWNoO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1bMS8wLDEvMCwtMS8wLC0xLzBdO3JldHVybiBpKGUsKGZ1bmN0aW9uKGUpe3RbMF0+ZVswXSYmKHRbMF09ZVswXSksdFsxXT5lWzFdJiYodFsxXT1lWzFdKSx0WzJdPGVbMF0mJih0WzJdPWVbMF0pLHRbM108ZVsxXSYmKHRbM109ZVsxXSl9KSksdH19LHtcInR1cmYtbWV0YVwiOjIzfV0sMjM6W2Z1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiBpKGUsdCxuKXt2YXIgaSxyLG8sYSxzLGMsdSxoLGQscD0wLGY9XCJGZWF0dXJlQ29sbGVjdGlvblwiPT09ZS50eXBlLG09XCJGZWF0dXJlXCI9PT1lLnR5cGUsZz1mP2UuZmVhdHVyZXMubGVuZ3RoOjE7Zm9yKGk9MDtpPGc7aSsrKWZvcihjPShkPVwiR2VvbWV0cnlDb2xsZWN0aW9uXCI9PT0oaD1mP2UuZmVhdHVyZXNbaV0uZ2VvbWV0cnk6bT9lLmdlb21ldHJ5OmUpLnR5cGUpP2guZ2VvbWV0cmllcy5sZW5ndGg6MSxhPTA7YTxjO2ErKylpZih1PShzPWQ/aC5nZW9tZXRyaWVzW2FdOmgpLmNvb3JkaW5hdGVzLHA9IW58fFwiUG9seWdvblwiIT09cy50eXBlJiZcIk11bHRpUG9seWdvblwiIT09cy50eXBlPzA6MSxcIlBvaW50XCI9PT1zLnR5cGUpdCh1KTtlbHNlIGlmKFwiTGluZVN0cmluZ1wiPT09cy50eXBlfHxcIk11bHRpUG9pbnRcIj09PXMudHlwZSlmb3Iocj0wO3I8dS5sZW5ndGg7cisrKXQodVtyXSk7ZWxzZSBpZihcIlBvbHlnb25cIj09PXMudHlwZXx8XCJNdWx0aUxpbmVTdHJpbmdcIj09PXMudHlwZSlmb3Iocj0wO3I8dS5sZW5ndGg7cisrKWZvcihvPTA7bzx1W3JdLmxlbmd0aC1wO28rKyl0KHVbcl1bb10pO2Vsc2V7aWYoXCJNdWx0aVBvbHlnb25cIiE9PXMudHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIEdlb21ldHJ5IFR5cGVcIik7Zm9yKHI9MDtyPHUubGVuZ3RoO3IrKylmb3Iobz0wO288dVtyXS5sZW5ndGg7bysrKWZvcihsPTA7bDx1W3JdW29dLmxlbmd0aC1wO2wrKyl0KHVbcl1bb11bbF0pfX1mdW5jdGlvbiByKGUsdCl7dmFyIG47c3dpdGNoKGUudHlwZSl7Y2FzZVwiRmVhdHVyZUNvbGxlY3Rpb25cIjpmb3IoZmVhdHVyZXM9ZS5mZWF0dXJlcyxuPTA7bjxlLmZlYXR1cmVzLmxlbmd0aDtuKyspdChlLmZlYXR1cmVzW25dLnByb3BlcnRpZXMpO2JyZWFrO2Nhc2VcIkZlYXR1cmVcIjp0KGUucHJvcGVydGllcyl9fXQuZXhwb3J0cy5jb29yZEVhY2g9aSx0LmV4cG9ydHMuY29vcmRSZWR1Y2U9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIGkoZSwoZnVuY3Rpb24oZSl7bj10KG4sZSl9KSxyKSxufSx0LmV4cG9ydHMucHJvcEVhY2g9cix0LmV4cG9ydHMucHJvcFJlZHVjZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHIoZSwoZnVuY3Rpb24oZSl7bj10KG4sZSl9KSksbn19LHt9XSwyNDpbZnVuY3Rpb24oZSx0LG4pe3QuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZT17fSx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKWkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX07dmFyIGk9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eX0se31dLDI1OltmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gaShlKXtyZXR1cm4oaT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5hZGRXYXlwb2ludD1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuLGkpe3ZhciByPWkoKSxvPXIuZGVzdGluYXRpb24sYT1yLndheXBvaW50czthLnNwbGljZShlLDAscCh0KSksbihoKGEpKSxvLmdlb21ldHJ5JiZuKGQoKSl9fSxuLmNsZWFyRGVzdGluYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gcy5hYm9ydCgpLGZ1bmN0aW9uKGUpe2Uoe3R5cGU6ci5ERVNUSU5BVElPTl9DTEVBUn0pLGUoeChcImNsZWFyXCIse3R5cGU6XCJkZXN0aW5hdGlvblwifSkpLGUoZihudWxsKSl9fSxuLmNsZWFyT3JpZ2luPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Uoe3R5cGU6ci5PUklHSU5fQ0xFQVJ9KSxlKHgoXCJjbGVhclwiLHt0eXBlOlwib3JpZ2luXCJ9KSksZShmKG51bGwpKX19LG4uY3JlYXRlRGVzdGluYXRpb249dixuLmNyZWF0ZU9yaWdpbj1fLG4uZXZlbnRFbWl0PXgsbi5ldmVudFN1YnNjcmliZT1mdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihuLGkpe3ZhciBvPWkoKS5ldmVudHM7cmV0dXJuIG9bZV09b1tlXXx8W10sb1tlXS5wdXNoKHQpLHt0eXBlOnIuRVZFTlRTLGV2ZW50czpvfX19LG4uaG92ZXJNYXJrZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3QoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ci5IT1ZFUl9NQVJLRVIsaG92ZXJNYXJrZXI6ZX19KGU/by5kZWZhdWx0LmNyZWF0ZVBvaW50KGUse2lkOlwiaG92ZXJcIn0pOnt9KSl9fSxuLnF1ZXJ5RGVzdGluYXRpb249ZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ci5ERVNUSU5BVElPTl9RVUVSWSxxdWVyeTplfX0sbi5xdWVyeURlc3RpbmF0aW9uQ29vcmRpbmF0ZXM9ZyxuLnF1ZXJ5T3JpZ2luPWZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOnIuT1JJR0lOX1FVRVJZLHF1ZXJ5OmV9fSxuLnF1ZXJ5T3JpZ2luQ29vcmRpbmF0ZXM9bSxuLnJlbW92ZVdheXBvaW50PWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4pe3ZhciBpPW4oKSxyPWkuZGVzdGluYXRpb24sYT1pLndheXBvaW50czt0KGgoYT1hLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIW8uZGVmYXVsdC5jb29yZGluYXRlTWF0Y2godCxlKX0pKSkpLHIuZ2VvbWV0cnkmJnQoZCgpKX19LG4ucmV2ZXJzZT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXQoKTtuLmRlc3RpbmF0aW9uLmdlb21ldHJ5JiZlKGwobi5kZXN0aW5hdGlvbi5nZW9tZXRyeS5jb29yZGluYXRlcykpLG4ub3JpZ2luLmdlb21ldHJ5JiZlKGMobi5vcmlnaW4uZ2VvbWV0cnkuY29vcmRpbmF0ZXMpKSxuLm9yaWdpbi5nZW9tZXRyeSYmbi5kZXN0aW5hdGlvbi5nZW9tZXRyeSYmZShkKCkpO2Zvcih2YXIgaT1kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic3VnZ2VzdGlvbnNcIikscj0wO3I8aS5sZW5ndGg7cisrKWlbcl0uc3R5bGUudmlzaWJpbGl0eT1cImhpZGRlblwifX0sbi5zZXREZXN0aW5hdGlvbkZyb21Db29yZGluYXRlcz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoby5kZWZhdWx0LnZhbGlkQ29vcmRzKGUpfHwoZT1bby5kZWZhdWx0LndyYXAoZVswXSksby5kZWZhdWx0LndyYXAoZVsxXSldKSxpc05hTihlWzBdKSYmaXNOYU4oZVsxXSkpcmV0dXJuIHQoZihuZXcgRXJyb3IoXCJDb29yZGluYXRlcyBhcmUgbm90IHZhbGlkXCIpKSk7dCh2KGUpKSx0KGcoZSkpfX0sbi5zZXRPcHRpb25zPWZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOnIuU0VUX09QVElPTlMsb3B0aW9uczplfX0sbi5zZXRPcmlnaW5Gcm9tQ29vcmRpbmF0ZXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKG8uZGVmYXVsdC52YWxpZENvb3JkcyhlKXx8KGU9W28uZGVmYXVsdC53cmFwKGVbMF0pLG8uZGVmYXVsdC53cmFwKGVbMV0pXSksaXNOYU4oZVswXSkmJmlzTmFOKGVbMV0pKXJldHVybiB0KGYobmV3IEVycm9yKFwiQ29vcmRpbmF0ZXMgYXJlIG5vdCB2YWxpZFwiKSkpO3QobShlKSksdChfKGUpKX19LG4uc2V0UHJvZmlsZT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgaT1uKCksbz1pLm9yaWdpbixhPWkuZGVzdGluYXRpb247dCh7dHlwZTpyLkRJUkVDVElPTlNfUFJPRklMRSxwcm9maWxlOmV9KSx0KHgoXCJwcm9maWxlXCIse3Byb2ZpbGU6ZX0pKSxvLmdlb21ldHJ5JiZhLmdlb21ldHJ5JiZ0KGQoKSl9fSxuLnNldFJvdXRlSW5kZXg9eSxuLnNldFdheXBvaW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4saSl7dmFyIHI9aSgpLG89ci5kZXN0aW5hdGlvbixhPXIud2F5cG9pbnRzO2FbZV09cCh0KSxuKGgoYSkpLG8uZ2VvbWV0cnkmJm4oZCgpKX19O3ZhciByPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PWkoZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJue2RlZmF1bHQ6ZX07dmFyIG49YSh0KTtpZihuJiZuLmhhcyhlKSlyZXR1cm4gbi5nZXQoZSk7dmFyIHI9e30sbz1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBzIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1zJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSl7dmFyIGw9bz9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscyk6bnVsbDtsJiYobC5nZXR8fGwuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkocixzLGwpOnJbc109ZVtzXX1yLmRlZmF1bHQ9ZSxuJiZuLnNldChlLHIpO3JldHVybiByfShlKFwiLi4vY29uc3RhbnRzL2FjdGlvbl90eXBlc1wiKSksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KGUoXCIuLi91dGlsc1wiKSk7ZnVuY3Rpb24gYShlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciB0PW5ldyBXZWFrTWFwLG49bmV3IFdlYWtNYXA7cmV0dXJuKGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/bjp0fSkoZSl9dmFyIHM9bmV3IFhNTEh0dHBSZXF1ZXN0O2Z1bmN0aW9uIGwoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPW8uZGVmYXVsdC5jcmVhdGVQb2ludChlLHtpZDpcIm9yaWdpblwiLFwibWFya2VyLXN5bWJvbFwiOlwiQVwifSk7dCh7dHlwZTpyLk9SSUdJTixvcmlnaW46bn0pLHQoeChcIm9yaWdpblwiLHtmZWF0dXJlOm59KSl9fWZ1bmN0aW9uIGMoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBuPW8uZGVmYXVsdC5jcmVhdGVQb2ludChlLHtpZDpcImRlc3RpbmF0aW9uXCIsXCJtYXJrZXItc3ltYm9sXCI6XCJCXCJ9KTt0KHt0eXBlOnIuREVTVElOQVRJT04sZGVzdGluYXRpb246bn0pLHQoeChcImRlc3RpbmF0aW9uXCIse2ZlYXR1cmU6bn0pKX19ZnVuY3Rpb24gdShlKXtyZXR1cm4gZnVuY3Rpb24odCl7dCh7dHlwZTpyLkRJUkVDVElPTlMsZGlyZWN0aW9uczplfSksdCh4KFwicm91dGVcIix7cm91dGU6ZX0pKX19ZnVuY3Rpb24gaChlKXtyZXR1cm57dHlwZTpyLldBWVBPSU5UUyx3YXlwb2ludHM6ZX19ZnVuY3Rpb24gZCgpe3JldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXQoKSxpPW4uYXBpLHI9bi5hY2Nlc3NUb2tlbixvPW4ucm91dGVJbmRleCxhPW4ucHJvZmlsZSxoPW4uYWx0ZXJuYXRpdmVzLGQ9bi5jb25nZXN0aW9uLHA9bi5kZXN0aW5hdGlvbixtPW4ubGFuZ3VhZ2UsZz1uLmV4Y2x1ZGU7aWYocCYmcC5nZW9tZXRyeSl7dmFyIF89ZnVuY3Rpb24oZSl7dmFyIHQ9ZSgpLG49dC5vcmlnaW4saT10LmRlc3RpbmF0aW9uLHI9dC53YXlwb2ludHMsbz1bXTtvLnB1c2gobi5nZW9tZXRyeS5jb29yZGluYXRlcy5qb2luKFwiLFwiKSksby5wdXNoKFwiO1wiKSxyLmxlbmd0aCYmci5mb3JFYWNoKChmdW5jdGlvbihlKXtvLnB1c2goZS5nZW9tZXRyeS5jb29yZGluYXRlcy5qb2luKFwiLFwiKSksby5wdXNoKFwiO1wiKX0pKTtyZXR1cm4gby5wdXNoKGkuZ2VvbWV0cnkuY29vcmRpbmF0ZXMuam9pbihcIixcIikpLGVuY29kZVVSSUNvbXBvbmVudChvLmpvaW4oXCJcIikpfSh0KSx2PVtdO3YucHVzaChcImdlb21ldHJpZXM9cG9seWxpbmVcIiksaCYmdi5wdXNoKFwiYWx0ZXJuYXRpdmVzPXRydWVcIiksZCYmdi5wdXNoKFwiYW5ub3RhdGlvbnM9Y29uZ2VzdGlvblwiKSx2LnB1c2goXCJzdGVwcz10cnVlXCIpLHYucHVzaChcIm92ZXJ2aWV3PWZ1bGxcIiksbSYmdi5wdXNoKFwibGFuZ3VhZ2U9XCIrbSksZyYmdi5wdXNoKFwiZXhjbHVkZT1cIitnKSxyJiZ2LnB1c2goXCJhY2Nlc3NfdG9rZW49XCIrcikscy5hYm9ydCgpLHMub3BlbihcIkdFVFwiLFwiXCIuY29uY2F0KGkpLmNvbmNhdChhLFwiL1wiKS5jb25jYXQoXyxcIi5qc29uP1wiKS5jb25jYXQodi5qb2luKFwiJlwiKSksITApLHMub25sb2FkPWZ1bmN0aW9uKCl7aWYoIShzLnN0YXR1cz49MjAwJiZzLnN0YXR1czw0MDApKXJldHVybiBlKHUoW10pKSxlKGYoSlNPTi5wYXJzZShzLnJlc3BvbnNlVGV4dCkubWVzc2FnZSkpO3ZhciB0PUpTT04ucGFyc2Uocy5yZXNwb25zZVRleHQpO3JldHVybiB0LmVycm9yPyhlKHUoW10pKSxlKGYodC5lcnJvcikpKTpcIk5vIHJvdXRlIGZvdW5kXCI9PT10Lm1lc3NhZ2U/ZShmKFwiTm8gcm91dGUgZm91bmRcIikpOihlKGYobnVsbCkpLHQucm91dGVzW29dfHxlKHkoMCkpLGUodSh0LnJvdXRlcykpLGUobCh0LndheXBvaW50c1swXS5sb2NhdGlvbikpLHZvaWQgZShjKHQud2F5cG9pbnRzW3Qud2F5cG9pbnRzLmxlbmd0aC0xXS5sb2NhdGlvbikpKX0scy5vbmVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIGUodShbXSkpLHMucmVzcG9uc2VUZXh0P2UoZihKU09OLnBhcnNlKHMucmVzcG9uc2VUZXh0KS5tZXNzYWdlKSk6ZShmKFwiRXJyb3JcIikpfSxzLnNlbmQoKX19fWZ1bmN0aW9uIHAoZSl7dmFyIHQ9e2lkOlwid2F5cG9pbnRcIn07cmV0dXJuIE9iamVjdC5hc3NpZ24oZSx7cHJvcGVydGllczplLnByb3BlcnRpZXM/T2JqZWN0LmFzc2lnbihlLnByb3BlcnRpZXMsdCk6dH0pfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3Qoe3R5cGU6XCJFUlJPUlwiLGVycm9yOmV9KSxlJiZ0KHgoXCJlcnJvclwiLHtlcnJvcjplfSkpfX1mdW5jdGlvbiBtKGUpe3JldHVybnt0eXBlOnIuT1JJR0lOX0ZST01fQ09PUkRJTkFURVMsY29vcmRpbmF0ZXM6ZX19ZnVuY3Rpb24gZyhlKXtyZXR1cm57dHlwZTpyLkRFU1RJTkFUSU9OX0ZST01fQ09PUkRJTkFURVMsY29vcmRpbmF0ZXM6ZX19ZnVuY3Rpb24geShlKXtyZXR1cm57dHlwZTpyLlJPVVRFX0lOREVYLHJvdXRlSW5kZXg6ZX19ZnVuY3Rpb24gXyhlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgaT1uKCkuZGVzdGluYXRpb247dChsKGUpKSxpLmdlb21ldHJ5JiZ0KGQoKSl9fWZ1bmN0aW9uIHYoZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7dmFyIGk9bigpLm9yaWdpbjt0KGMoZSkpLGkuZ2VvbWV0cnkmJnQoZCgpKX19ZnVuY3Rpb24geChlLHQpe3ZhciBuPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGksbyl7dmFyIGE9bygpLmV2ZW50cztpZighYVtlXSlyZXR1cm57dHlwZTpyLkVWRU5UUyxldmVudHM6YX07Zm9yKHZhciBzPWFbZV0uc2xpY2UoKSxsPTA7bDxzLmxlbmd0aDtsKyspc1tsXS5jYWxsKG4sdCl9fX0se1wiLi4vY29uc3RhbnRzL2FjdGlvbl90eXBlc1wiOjI2LFwiLi4vdXRpbHNcIjozNH1dLDI2OltmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksbi5XQVlQT0lOVFM9bi5TRVRfT1BUSU9OUz1uLlJPVVRFX0lOREVYPW4uT1JJR0lOX1FVRVJZPW4uT1JJR0lOX0ZST01fQ09PUkRJTkFURVM9bi5PUklHSU5fQ0xFQVI9bi5PUklHSU49bi5IT1ZFUl9NQVJLRVI9bi5FVkVOVFM9bi5FUlJPUj1uLkRJUkVDVElPTlNfUFJPRklMRT1uLkRJUkVDVElPTlM9bi5ERVNUSU5BVElPTl9RVUVSWT1uLkRFU1RJTkFUSU9OX0ZST01fQ09PUkRJTkFURVM9bi5ERVNUSU5BVElPTl9DTEVBUj1uLkRFU1RJTkFUSU9OPXZvaWQgMDtuLkRFU1RJTkFUSU9OPVwiREVTVElOQVRJT05cIjtuLkRFU1RJTkFUSU9OX0NMRUFSPVwiREVTVElOQVRJT05fQ0xFQVJcIjtuLkRFU1RJTkFUSU9OX1FVRVJZPVwiREVTVElOQVRJT05fUVVFUllcIjtuLkRFU1RJTkFUSU9OX0ZST01fQ09PUkRJTkFURVM9XCJERVNUSU5BVElPTl9GUk9NX0NPT1JESU5BVEVTXCI7bi5ESVJFQ1RJT05TPVwiRElSRUNUSU9OU1wiO24uRElSRUNUSU9OU19QUk9GSUxFPVwiRElSRUNUSU9OU19QUk9GSUxFXCI7bi5FVkVOVFM9XCJFVkVOVFNcIjtuLkVSUk9SPVwiRVJST1JcIjtuLkhPVkVSX01BUktFUj1cIkhPVkVSX01BUktFUlwiO24uT1JJR0lOPVwiT1JJR0lOXCI7bi5PUklHSU5fQ0xFQVI9XCJPUklHSU5fQ0xFQVJcIjtuLk9SSUdJTl9RVUVSWT1cIk9SSUdJTl9RVUVSWVwiO24uT1JJR0lOX0ZST01fQ09PUkRJTkFURVM9XCJPUklHSU5fRlJPTV9DT09SRElOQVRFU1wiO24uUk9VVEVfSU5ERVg9XCJST1VURV9JTkRFWFwiO24uU0VUX09QVElPTlM9XCJTRVRfT1BUSU9OU1wiO24uV0FZUE9JTlRTPVwiV0FZUE9JTlRTXCJ9LHt9XSwyNzpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIGk9cyhlKFwic3VnZ2VzdGlvbnNcIikpLHI9cyhlKFwibG9kYXNoLmRlYm91bmNlXCIpKSxvPWUoXCJldmVudHNcIiksYT1zKGUoXCIuLi91dGlsc1wiKSk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gbChlKXtyZXR1cm4obD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYyhlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx1KGkua2V5KSxpKX19ZnVuY3Rpb24gdShlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPT1sKGUpfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIGk9bi5jYWxsKGUsdHx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPT1sKGkpKXJldHVybiBpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09PWwodCk/dDpTdHJpbmcodCl9dmFyIGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5fZXY9bmV3IG8uRXZlbnRFbWl0dGVyLHRoaXMub3B0aW9ucz10LHRoaXMuYXBpPXQmJnQuYXBpfHxcImh0dHBzOi8vYXBpLm1hcGJveC5jb20vZ2VvY29kaW5nL3Y1L21hcGJveC5wbGFjZXMvXCJ9cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt0JiZjKGUucHJvdG90eXBlLHQpLG4mJmMoZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pfShlLFt7a2V5Olwib25BZGRcIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9tYXA9ZSx0aGlzLnJlcXVlc3Q9bmV3IFhNTEh0dHBSZXF1ZXN0O3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dC5jbGFzc05hbWU9XCJtYXBib3hnbC1jdHJsLWdlb2NvZGVyXCI7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7bi5jbGFzc05hbWU9XCJnZW9jb2Rlci1pY29uIGdlb2NvZGVyLWljb24tc2VhcmNoXCI7dmFyIG89dGhpcy5faW5wdXRFbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7by50eXBlPVwidGV4dFwiLG8ucGxhY2Vob2xkZXI9dGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyLG8uYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwoMCxyLmRlZmF1bHQpKGZ1bmN0aW9uKGUpe2lmKCFlLnRhcmdldC52YWx1ZSlyZXR1cm4gdGhpcy5fY2xlYXJFbC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO2UubWV0YUtleXx8LTEhPT1bOSwyNywzNywzOSwxMywzOCw0MF0uaW5kZXhPZihlLmtleUNvZGUpfHx0aGlzLl9xdWVyeUZyb21JbnB1dChlLnRhcmdldC52YWx1ZSl9LmJpbmQodGhpcykpLDIwMCksby5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZnVuY3Rpb24odCl7dC50YXJnZXQudmFsdWUmJnRoaXMuX2NsZWFyRWwuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTt2YXIgbj10aGlzLl90eXBlYWhlYWQuc2VsZWN0ZWQ7aWYobil7aWYodGhpcy5vcHRpb25zLmZseVRvKWlmKG4uYmJveCYmbi5jb250ZXh0JiZuLmNvbnRleHQubGVuZ3RoPD0zfHxuLmJib3gmJiFuLmNvbnRleHQpe3ZhciBpPW4uYmJveDtlLmZpdEJvdW5kcyhbW2lbMF0saVsxXV0sW2lbMl0saVszXV1dKX1lbHNlIGUuZmx5VG8oe2NlbnRlcjpuLmNlbnRlcix6b29tOnRoaXMub3B0aW9ucy56b29tfSk7dGhpcy5faW5wdXQ9bix0aGlzLmZpcmUoXCJyZXN1bHRcIix7cmVzdWx0Om59KX19LmJpbmQodGhpcykpO3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5jbGFzc0xpc3QuYWRkKFwiZ2VvY29kZXItcGluLXJpZ2h0XCIpO3ZhciBzPXRoaXMuX2NsZWFyRWw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtzLmNsYXNzTmFtZT1cImdlb2NvZGVyLWljb24gZ2VvY29kZXItaWNvbi1jbG9zZVwiLHMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5fY2xlYXIuYmluZCh0aGlzKSk7dmFyIGw9dGhpcy5fbG9hZGluZ0VsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO3JldHVybiBsLmNsYXNzTmFtZT1cImdlb2NvZGVyLWljb24gZ2VvY29kZXItaWNvbi1sb2FkaW5nXCIsYS5hcHBlbmRDaGlsZChzKSxhLmFwcGVuZENoaWxkKGwpLHQuYXBwZW5kQ2hpbGQobiksdC5hcHBlbmRDaGlsZChvKSx0LmFwcGVuZENoaWxkKGEpLHRoaXMub3B0aW9ucy5jb250YWluZXImJih0aGlzLm9wdGlvbnMucG9zaXRpb249ITEpLHRoaXMuX3R5cGVhaGVhZD1uZXcgaS5kZWZhdWx0KG8sW10se2ZpbHRlcjohMX0pLHRoaXMuX3R5cGVhaGVhZC5nZXRJdGVtVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGxhY2VfbmFtZX0sdH19LHtrZXk6XCJfZ2VvY29kZVwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5fbG9hZGluZ0VsLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIiksdGhpcy5maXJlKFwibG9hZGluZ1wiKTt2YXIgbj10aGlzLm9wdGlvbnMsaT1bXCJwbGFjZWhvbGRlclwiLFwiem9vbVwiLFwiZmx5VG9cIixcImFjY2Vzc1Rva2VuXCIsXCJhcGlcIl0scj1PYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1pLmluZGV4T2YoZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZStcIj1cIituW2VdfSkpLG89dGhpcy5vcHRpb25zLmFjY2Vzc1Rva2VuP3RoaXMub3B0aW9ucy5hY2Nlc3NUb2tlbjptYXBib3hnbC5hY2Nlc3NUb2tlbjtyLnB1c2goXCJhY2Nlc3NfdG9rZW49XCIrbyksdGhpcy5yZXF1ZXN0LmFib3J0KCksdGhpcy5yZXF1ZXN0Lm9wZW4oXCJHRVRcIix0aGlzLmFwaStlbmNvZGVVUklDb21wb25lbnQoZS50cmltKCkpK1wiLmpzb24/XCIrci5qb2luKFwiJlwiKSwhMCksdGhpcy5yZXF1ZXN0Lm9ubG9hZD1mdW5jdGlvbigpe2lmKHRoaXMuX2xvYWRpbmdFbC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpLHRoaXMucmVxdWVzdC5zdGF0dXM+PTIwMCYmdGhpcy5yZXF1ZXN0LnN0YXR1czw0MDApe3ZhciBlPUpTT04ucGFyc2UodGhpcy5yZXF1ZXN0LnJlc3BvbnNlVGV4dCk7cmV0dXJuIGUuZmVhdHVyZXMubGVuZ3RoP3RoaXMuX2NsZWFyRWwuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKToodGhpcy5fY2xlYXJFbC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpLHRoaXMuX3R5cGVhaGVhZC5zZWxlY3RlZD1udWxsKSx0aGlzLmZpcmUoXCJyZXN1bHRzXCIse3Jlc3VsdHM6ZS5mZWF0dXJlc30pLHRoaXMuX3R5cGVhaGVhZC51cGRhdGUoZS5mZWF0dXJlcyksdChlLmZlYXR1cmVzKX10aGlzLmZpcmUoXCJlcnJvclwiLHtlcnJvcjpKU09OLnBhcnNlKHRoaXMucmVxdWVzdC5yZXNwb25zZVRleHQpLm1lc3NhZ2V9KX0uYmluZCh0aGlzKSx0aGlzLnJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbigpe3RoaXMuX2xvYWRpbmdFbC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpLHRoaXMuZmlyZShcImVycm9yXCIse2Vycm9yOkpTT04ucGFyc2UodGhpcy5yZXF1ZXN0LnJlc3BvbnNlVGV4dCkubWVzc2FnZX0pfS5iaW5kKHRoaXMpLHRoaXMucmVxdWVzdC5zZW5kKCl9fSx7a2V5OlwiX3F1ZXJ5RnJvbUlucHV0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7KGU9ZS50cmltKCkpfHx0aGlzLl9jbGVhcigpLGUubGVuZ3RoPjImJnRoaXMuX2dlb2NvZGUoZSxmdW5jdGlvbihlKXt0aGlzLl9yZXN1bHRzPWV9LmJpbmQodGhpcykpfX0se2tleTpcIl9jaGFuZ2VcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiSFRNTEV2ZW50c1wiKTtlLmluaXRFdmVudChcImNoYW5nZVwiLCEwLCExKSx0aGlzLl9pbnB1dEVsLmRpc3BhdGNoRXZlbnQoZSl9fSx7a2V5OlwiX3F1ZXJ5XCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZSYmKFwib2JqZWN0XCI9PT1sKGUpJiZlLmxlbmd0aCYmKGU9W2EuZGVmYXVsdC53cmFwKGVbMF0pLGEuZGVmYXVsdC53cmFwKGVbMV0pXS5qb2luKCkpLHRoaXMuX2dlb2NvZGUoZSxmdW5jdGlvbihlKXtpZihlLmxlbmd0aCl7dmFyIHQ9ZVswXTt0aGlzLl9yZXN1bHRzPWUsdGhpcy5fdHlwZWFoZWFkLnNlbGVjdGVkPXQsdGhpcy5faW5wdXRFbC52YWx1ZT10LnBsYWNlX25hbWUsdGhpcy5fY2hhbmdlKCl9fS5iaW5kKHRoaXMpKSl9fSx7a2V5OlwiX3NldElucHV0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZSYmKFwib2JqZWN0XCI9PT1sKGUpJiZlLmxlbmd0aCYmKGU9W2EuZGVmYXVsdC5yb3VuZFdpdGhPcmlnaW5hbFByZWNpc2lvbihhLmRlZmF1bHQud3JhcChlWzBdKSxlWzBdKSxhLmRlZmF1bHQucm91bmRXaXRoT3JpZ2luYWxQcmVjaXNpb24oYS5kZWZhdWx0LndyYXAoZVsxXSksZVsxXSldLmpvaW4oKSksdGhpcy5faW5wdXRFbC52YWx1ZT1lLHRoaXMuX2lucHV0PW51bGwsdGhpcy5fdHlwZWFoZWFkLnNlbGVjdGVkPW51bGwsdGhpcy5fdHlwZWFoZWFkLmNsZWFyKCksdGhpcy5fY2hhbmdlKCkpfX0se2tleTpcIl9jbGVhclwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5faW5wdXQ9bnVsbCx0aGlzLl9pbnB1dEVsLnZhbHVlPVwiXCIsdGhpcy5fdHlwZWFoZWFkLnNlbGVjdGVkPW51bGwsdGhpcy5fdHlwZWFoZWFkLmNsZWFyKCksdGhpcy5fY2hhbmdlKCksdGhpcy5faW5wdXRFbC5mb2N1cygpLHRoaXMuX2NsZWFyRWwuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKSx0aGlzLmZpcmUoXCJjbGVhclwiKX19LHtrZXk6XCJnZXRSZXN1bHRcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pbnB1dH19LHtrZXk6XCJxdWVyeVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9xdWVyeShlKSx0aGlzfX0se2tleTpcInNldElucHV0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX3NldElucHV0KGUpLHRoaXN9fSx7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLl9ldi5vbihlLHQpLHRoaXMuX2V2Lm9uKFwiZXJyb3JcIiwoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coZSl9KSksdGhpc319LHtrZXk6XCJmaXJlXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZXYuZW1pdChlLHQpLHRoaXN9fSx7a2V5Olwib2ZmXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5fZXYucmVtb3ZlTGlzdGVuZXIoZSx0KSx0aGlzfX1dKSxlfSgpO24uZGVmYXVsdD1ofSx7XCIuLi91dGlsc1wiOjM0LGV2ZW50czo3LFwibG9kYXNoLmRlYm91bmNlXCI6MTIsc3VnZ2VzdGlvbnM6MTl9XSwyODpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIGk9cyhlKFwiLi9nZW9jb2RlclwiKSkscj1zKGUoXCJsb2Rhc2gudGVtcGxhdGVcIikpLG89cyhlKFwibG9kYXNoLmlzZXF1YWxcIikpLGE9cyhlKFwidHVyZi1leHRlbnRcIikpO2Z1bmN0aW9uIHMoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntkZWZhdWx0OmV9fWZ1bmN0aW9uIGwoZSl7cmV0dXJuKGw9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/XCJzeW1ib2xcIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGMoZSx0KXtmb3IodmFyIG49MDtuPHQubGVuZ3RoO24rKyl7dmFyIGk9dFtuXTtpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCxcInZhbHVlXCJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdShpLmtleSksaSl9fWZ1bmN0aW9uIHUoZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT09bChlKXx8bnVsbD09PWUpcmV0dXJuIGU7dmFyIG49ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PW4pe3ZhciBpPW4uY2FsbChlLHR8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT09bChpKSlyZXR1cm4gaTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuKFwic3RyaW5nXCI9PT10P1N0cmluZzpOdW1iZXIpKGUpfShlLFwic3RyaW5nXCIpO3JldHVyblwic3ltYm9sXCI9PT1sKHQpP3Q6U3RyaW5nKHQpfXZhciBoPSgwLHIuZGVmYXVsdCkoXCI8ZGl2IGNsYXNzPSdtYXBib3gtZGlyZWN0aW9ucy1jb21wb25lbnQgbWFwYm94LWRpcmVjdGlvbnMtaW5wdXRzJz5cXG4gIDxkaXYgY2xhc3M9J21hcGJveC1kaXJlY3Rpb25zLWNvbXBvbmVudC1rZXlsaW5lJz5cXG4gICAgPGRpdiBjbGFzcz0nbWFwYm94LWRpcmVjdGlvbnMtb3JpZ2luJz5cXG4gICAgICA8bGFiZWwgY2xhc3M9J21hcGJveC1mb3JtLWxhYmVsJz5cXG4gICAgICAgIDxzcGFuIGNsYXNzPSdkaXJlY3Rpb25zLWljb24gZGlyZWN0aW9ucy1pY29uLWRlcGFydCc+PC9zcGFuPlxcbiAgICAgIDwvbGFiZWw+XFxuICAgICAgPGRpdiBpZD0nbWFwYm94LWRpcmVjdGlvbnMtb3JpZ2luLWlucHV0Jz48L2Rpdj5cXG4gICAgPC9kaXY+XFxuXFxuICAgIDxidXR0b25cXG4gICAgICBjbGFzcz0nZGlyZWN0aW9ucy1pY29uIGRpcmVjdGlvbnMtaWNvbi1yZXZlcnNlIGRpcmVjdGlvbnMtcmV2ZXJzZSBqcy1yZXZlcnNlLWlucHV0cydcXG4gICAgICB0aXRsZT0nUmV2ZXJzZSBvcmlnaW4gJmFtcDsgZGVzdGluYXRpb24nPlxcbiAgICA8L2J1dHRvbj5cXG5cXG4gICAgPGRpdiBjbGFzcz0nbWFwYm94LWRpcmVjdGlvbnMtZGVzdGluYXRpb24nPlxcbiAgICAgIDxsYWJlbCBjbGFzcz0nbWFwYm94LWZvcm0tbGFiZWwnPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9J2RpcmVjdGlvbnMtaWNvbiBkaXJlY3Rpb25zLWljb24tYXJyaXZlJz48L3NwYW4+XFxuICAgICAgPC9sYWJlbD5cXG4gICAgICA8ZGl2IGlkPSdtYXBib3gtZGlyZWN0aW9ucy1kZXN0aW5hdGlvbi1pbnB1dCc+PC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuXFxuICA8JSBpZiAoY29udHJvbHMucHJvZmlsZVN3aXRjaGVyKSB7ICU+XFxuICA8ZGl2IGNsYXNzPSdtYXBib3gtZGlyZWN0aW9ucy1wcm9maWxlIG1hcGJveC1kaXJlY3Rpb25zLWNvbXBvbmVudC1rZXlsaW5lIG1hcGJveC1kaXJlY3Rpb25zLWNsZWFyZml4Jz48aW5wdXRcXG4gICAgICBpZD0nbWFwYm94LWRpcmVjdGlvbnMtcHJvZmlsZS1kcml2aW5nLXRyYWZmaWMnXFxuICAgICAgdHlwZT0ncmFkaW8nXFxuICAgICAgbmFtZT0ncHJvZmlsZSdcXG4gICAgICB2YWx1ZT0nbWFwYm94L2RyaXZpbmctdHJhZmZpYydcXG4gICAgICA8JSBpZiAocHJvZmlsZSA9PT0gJ21hcGJveC9kcml2aW5nLXRyYWZmaWMnKSB7ICU+Y2hlY2tlZDwlIH0gJT5cXG4gICAgLz5cXG4gICAgPGxhYmVsIGZvcj0nbWFwYm94LWRpcmVjdGlvbnMtcHJvZmlsZS1kcml2aW5nLXRyYWZmaWMnPlRyYWZmaWM8L2xhYmVsPlxcbiAgICA8aW5wdXRcXG4gICAgICBpZD0nbWFwYm94LWRpcmVjdGlvbnMtcHJvZmlsZS1kcml2aW5nJ1xcbiAgICAgIHR5cGU9J3JhZGlvJ1xcbiAgICAgIG5hbWU9J3Byb2ZpbGUnXFxuICAgICAgdmFsdWU9J21hcGJveC9kcml2aW5nJ1xcbiAgICAgIDwlIGlmIChwcm9maWxlID09PSAnbWFwYm94L2RyaXZpbmcnKSB7ICU+Y2hlY2tlZDwlIH0gJT5cXG4gICAgLz5cXG4gICAgPGxhYmVsIGZvcj0nbWFwYm94LWRpcmVjdGlvbnMtcHJvZmlsZS1kcml2aW5nJz5Ecml2aW5nPC9sYWJlbD5cXG4gICAgPGlucHV0XFxuICAgICAgaWQ9J21hcGJveC1kaXJlY3Rpb25zLXByb2ZpbGUtd2Fsa2luZydcXG4gICAgICB0eXBlPSdyYWRpbydcXG4gICAgICBuYW1lPSdwcm9maWxlJ1xcbiAgICAgIHZhbHVlPSdtYXBib3gvd2Fsa2luZydcXG4gICAgICA8JSBpZiAocHJvZmlsZSA9PT0gJ21hcGJveC93YWxraW5nJykgeyAlPmNoZWNrZWQ8JSB9ICU+XFxuICAgIC8+XFxuICAgIDxsYWJlbCBmb3I9J21hcGJveC1kaXJlY3Rpb25zLXByb2ZpbGUtd2Fsa2luZyc+V2Fsa2luZzwvbGFiZWw+XFxuICAgIDxpbnB1dFxcbiAgICAgIGlkPSdtYXBib3gtZGlyZWN0aW9ucy1wcm9maWxlLWN5Y2xpbmcnXFxuICAgICAgdHlwZT0ncmFkaW8nXFxuICAgICAgbmFtZT0ncHJvZmlsZSdcXG4gICAgICB2YWx1ZT0nbWFwYm94L2N5Y2xpbmcnXFxuICAgICAgPCUgaWYgKHByb2ZpbGUgPT09ICdtYXBib3gvY3ljbGluZycpIHsgJT5jaGVja2VkPCUgfSAlPlxcbiAgICAvPlxcbiAgICA8bGFiZWwgZm9yPSdtYXBib3gtZGlyZWN0aW9ucy1wcm9maWxlLWN5Y2xpbmcnPkN5Y2xpbmc8L2xhYmVsPlxcbiAgPC9kaXY+XFxuICA8JSB9ICU+XFxuPC9kaXY+XFxuXCIpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixpLHIpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSk7dmFyIG89bi5nZXRTdGF0ZSgpLGE9by5vcmlnaW5RdWVyeSxzPW8uZGVzdGluYXRpb25RdWVyeSxsPW8ucHJvZmlsZSxjPW8uY29udHJvbHM7dC5pbm5lckhUTUw9aCh7b3JpZ2luUXVlcnk6YSxkZXN0aW5hdGlvblF1ZXJ5OnMscHJvZmlsZTpsLGNvbnRyb2xzOmN9KSx0aGlzLmNvbnRhaW5lcj10LHRoaXMuYWN0aW9ucz1pLHRoaXMuc3RvcmU9bix0aGlzLl9tYXA9cix0aGlzLm9uQWRkKCksdGhpcy5yZW5kZXIoKX1yZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3QmJmMoZS5wcm90b3R5cGUsdCksbiYmYyhlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSl9KGUsW3trZXk6XCJhbmltYXRlVG9Db29yZGluYXRlc1wiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIG49dGhpcy5zdG9yZS5nZXRTdGF0ZSgpLGk9bi5vcmlnaW4scj1uLmRlc3RpbmF0aW9uLHM9bi5yb3V0ZVBhZGRpbmc7aWYoaS5nZW9tZXRyeSYmci5nZW9tZXRyeSYmISgwLG8uZGVmYXVsdCkoaS5nZW9tZXRyeSxyLmdlb21ldHJ5KSl7dmFyIGw9KDAsYS5kZWZhdWx0KSh7dHlwZTpcIkZlYXR1cmVDb2xsZWN0aW9uXCIsZmVhdHVyZXM6W2kscl19KTt0aGlzLl9tYXAuZml0Qm91bmRzKFtbbFswXSxsWzFdXSxbbFsyXSxsWzNdXV0se3BhZGRpbmc6c30pfWVsc2UgdGhpcy5fbWFwLmZseVRvKHtjZW50ZXI6dH0pfX0se2tleTpcIm9uQWRkXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9dGhpcy5hY3Rpb25zLG49dC5jbGVhck9yaWdpbixyPXQuY2xlYXJEZXN0aW5hdGlvbixvPXQuY3JlYXRlT3JpZ2luLGE9dC5jcmVhdGVEZXN0aW5hdGlvbixzPXQuc2V0UHJvZmlsZSxsPXQucmV2ZXJzZSxjPXRoaXMuc3RvcmUuZ2V0U3RhdGUoKSx1PWMuZ2VvY29kZXIsaD1jLmFjY2Vzc1Rva2VuLGQ9Yy5mbHlUbyxwPWMucGxhY2Vob2xkZXJPcmlnaW4sZj1jLnBsYWNlaG9sZGVyRGVzdGluYXRpb24sbT1jLnpvb207dGhpcy5vcmlnaW5JbnB1dD1uZXcgaS5kZWZhdWx0KE9iamVjdC5hc3NpZ24oe30se2FjY2Vzc1Rva2VuOmh9LHUse2ZseVRvOmQscGxhY2Vob2xkZXI6cCx6b29tOm19KSk7dmFyIGc9dGhpcy5vcmlnaW5JbnB1dC5vbkFkZCh0aGlzLl9tYXApO3RoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIjbWFwYm94LWRpcmVjdGlvbnMtb3JpZ2luLWlucHV0XCIpLmFwcGVuZENoaWxkKGcpLHRoaXMuZGVzdGluYXRpb25JbnB1dD1uZXcgaS5kZWZhdWx0KE9iamVjdC5hc3NpZ24oe30se2FjY2Vzc1Rva2VuOmh9LHUse2ZseVRvOmQscGxhY2Vob2xkZXI6Zix6b29tOm19KSk7dmFyIHk9dGhpcy5kZXN0aW5hdGlvbklucHV0Lm9uQWRkKHRoaXMuX21hcCk7dGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIiNtYXBib3gtZGlyZWN0aW9ucy1kZXN0aW5hdGlvbi1pbnB1dFwiKS5hcHBlbmRDaGlsZCh5KSx0aGlzLm9yaWdpbklucHV0Lm9uKFwicmVzdWx0XCIsKGZ1bmN0aW9uKHQpe3ZhciBuPXQucmVzdWx0LmNlbnRlcjtvKG4pLGUuYW5pbWF0ZVRvQ29vcmRpbmF0ZXMoXCJvcmlnaW5cIixuKX0pKSx0aGlzLm9yaWdpbklucHV0Lm9uKFwiY2xlYXJcIixuKSx0aGlzLmRlc3RpbmF0aW9uSW5wdXQub24oXCJyZXN1bHRcIiwoZnVuY3Rpb24odCl7dmFyIG49dC5yZXN1bHQuY2VudGVyO2EobiksZS5hbmltYXRlVG9Db29yZGluYXRlcyhcImRlc3RpbmF0aW9uXCIsbil9KSksdGhpcy5kZXN0aW5hdGlvbklucHV0Lm9uKFwiY2xlYXJcIixyKTt2YXIgXz10aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwicmFkaW9cIl0nKTtBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKF8sKGZ1bmN0aW9uKGUpe2UuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLChmdW5jdGlvbigpe3MoZS52YWx1ZSl9KSl9KSksdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5qcy1yZXZlcnNlLWlucHV0c1wiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoZnVuY3Rpb24oKXt2YXIgdD1lLnN0b3JlLmdldFN0YXRlKCksbj10Lm9yaWdpbixpPXQuZGVzdGluYXRpb247biYmZS5hY3Rpb25zLnF1ZXJ5RGVzdGluYXRpb24obi5nZW9tZXRyeS5jb29yZGluYXRlcyksaSYmZS5hY3Rpb25zLnF1ZXJ5T3JpZ2luKGkuZ2VvbWV0cnkuY29vcmRpbmF0ZXMpLGwoKX0pKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zdG9yZS5zdWJzY3JpYmUoKGZ1bmN0aW9uKCl7dmFyIHQ9ZS5zdG9yZS5nZXRTdGF0ZSgpLG49dC5vcmlnaW5RdWVyeSxpPXQuZGVzdGluYXRpb25RdWVyeSxyPXQub3JpZ2luUXVlcnlDb29yZGluYXRlcyxvPXQuZGVzdGluYXRpb25RdWVyeUNvb3JkaW5hdGVzO24mJihlLm9yaWdpbklucHV0LnF1ZXJ5KG4pLGUuYWN0aW9ucy5xdWVyeU9yaWdpbihudWxsKSksaSYmKGUuZGVzdGluYXRpb25JbnB1dC5xdWVyeShpKSxlLmFjdGlvbnMucXVlcnlEZXN0aW5hdGlvbihudWxsKSksciYmKGUub3JpZ2luSW5wdXQuc2V0SW5wdXQociksZS5hbmltYXRlVG9Db29yZGluYXRlcyhcIm9yaWdpblwiLHIpLGUuYWN0aW9ucy5xdWVyeU9yaWdpbkNvb3JkaW5hdGVzKG51bGwpKSxvJiYoZS5kZXN0aW5hdGlvbklucHV0LnNldElucHV0KG8pLGUuYW5pbWF0ZVRvQ29vcmRpbmF0ZXMoXCJkZXN0aW5hdGlvblwiLG8pLGUuYWN0aW9ucy5xdWVyeURlc3RpbmF0aW9uQ29vcmRpbmF0ZXMobnVsbCkpfSkpfX1dKSxlfSgpO24uZGVmYXVsdD1kfSx7XCIuL2dlb2NvZGVyXCI6MjcsXCJsb2Rhc2guaXNlcXVhbFwiOjEzLFwibG9kYXNoLnRlbXBsYXRlXCI6MTQsXCJ0dXJmLWV4dGVudFwiOjIyfV0sMjk6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciBpPWEoZShcIi4uL3V0aWxzXCIpKSxyPWEoZShcImxvZGFzaC50ZW1wbGF0ZVwiKSksbz1hKGUoXCJsb2Rhc2guaXNlcXVhbFwiKSk7ZnVuY3Rpb24gYShlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gcyhlKXtyZXR1cm4ocz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gbChlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxjKGkua2V5KSxpKX19ZnVuY3Rpb24gYyhlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPT1zKGUpfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIGk9bi5jYWxsKGUsdHx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPT1zKGkpKXJldHVybiBpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09PXModCk/dDpTdHJpbmcodCl9dmFyIHU9KDAsci5kZWZhdWx0KShcIjxkaXYgY2xhc3M9J2RpcmVjdGlvbnMtY29udHJvbCBkaXJlY3Rpb25zLWNvbnRyb2wtZGlyZWN0aW9ucyc+XFxuICA8ZGl2IGNsYXNzPSdtYXBib3gtZGlyZWN0aW9ucy1jb21wb25lbnQgbWFwYm94LWRpcmVjdGlvbnMtcm91dGUtc3VtbWFyeTwlIGlmIChyb3V0ZXMgPiAxKSB7ICU+IG1hcGJveC1kaXJlY3Rpb25zLW11bHRpcGxlPCUgfSAlPic+XFxuICAgIDwlIGlmIChyb3V0ZXMgPiAxKSB7ICU+XFxuICAgIDxkaXYgY2xhc3M9J21hcGJveC1kaXJlY3Rpb25zLXJvdXRlcyBtYXBib3gtZGlyZWN0aW9ucy1jbGVhcmZpeCc+XFxuICAgICAgPCUgZm9yICh2YXIgaSA9IDA7IGkgPCByb3V0ZXM7IGkrKykgeyAlPlxcbiAgICAgICAgPGlucHV0IHR5cGU9J3JhZGlvJyBuYW1lPSdyb3V0ZXMnIGlkPSc8JT0gaSAlPicgPCUgaWYgKGkgPT09IHJvdXRlSW5kZXgpIHsgJT5jaGVja2VkPCUgfSAlPj5cXG4gICAgICAgIDxsYWJlbCBmb3I9JzwlPSBpICU+JyBjbGFzcz0nbWFwYm94LWRpcmVjdGlvbnMtcm91dGUnPjwlPSBpICsgMSAlPjwvbGFiZWw+XFxuICAgICAgPCUgfSAlPlxcbiAgICA8L2Rpdj5cXG4gICAgPCUgfSAlPlxcbiAgICA8aDE+PCUtIGR1cmF0aW9uICU+PC9oMT5cXG4gICAgPHNwYW4+PCUtIGRpc3RhbmNlICU+PC9zcGFuPlxcbiAgPC9kaXY+XFxuXFxuICA8ZGl2IGNsYXNzPSdtYXBib3gtZGlyZWN0aW9ucy1pbnN0cnVjdGlvbnMnPlxcbiAgICA8ZGl2IGNsYXNzPSdtYXBib3gtZGlyZWN0aW9ucy1pbnN0cnVjdGlvbnMtd3JhcHBlcic+XFxuICAgICAgPG9sIGNsYXNzPSdtYXBib3gtZGlyZWN0aW9ucy1zdGVwcyc+XFxuICAgICAgICA8JSBzdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHN0ZXApIHsgJT5cXG4gICAgICAgICAgPCVcXG4gICAgICAgICAgICB2YXIgZGlzdGFuY2UgPSBzdGVwLmRpc3RhbmNlID8gZm9ybWF0KHN0ZXAuZGlzdGFuY2UpIDogZmFsc2U7XFxuICAgICAgICAgICAgdmFyIGljb24gPSBzdGVwLm1hbmV1dmVyLm1vZGlmaWVyID8gc3RlcC5tYW5ldXZlci5tb2RpZmllci5yZXBsYWNlKC9cXFxccysvZywgJy0nKS50b0xvd2VyQ2FzZSgpIDogc3RlcC5tYW5ldXZlci50eXBlLnJlcGxhY2UoL1xcXFxzKy9nLCAnLScpLnRvTG93ZXJDYXNlKCk7XFxuXFxuICAgICAgICAgICAgaWYgKHN0ZXAubWFuZXV2ZXIudHlwZSA9PT0gJ2Fycml2ZScgfHwgc3RlcC5tYW5ldXZlci50eXBlID09PSAnZGVwYXJ0Jykge1xcbiAgICAgICAgICAgICAgaWNvbiA9IHN0ZXAubWFuZXV2ZXIudHlwZTtcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgaWYgKHN0ZXAubWFuZXV2ZXIudHlwZSA9PT0gJ3JvdW5kYWJvdXQnIHx8IHN0ZXAubWFuZXV2ZXIudHlwZSA9PT0gJ3JvdGFyeScpIHtcXG4gICAgICAgICAgICAgIGljb249ICdyb3VuZGFib3V0JztcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgdmFyIGxuZyA9IHN0ZXAubWFuZXV2ZXIubG9jYXRpb25bMF07XFxuICAgICAgICAgICAgdmFyIGxhdCA9IHN0ZXAubWFuZXV2ZXIubG9jYXRpb25bMV07XFxuICAgICAgICAgICU+XFxuICAgICAgICAgIDxsaVxcbiAgICAgICAgICAgIGRhdGEtbGF0PSc8JT0gbGF0ICU+J1xcbiAgICAgICAgICAgIGRhdGEtbG5nPSc8JT0gbG5nICU+J1xcbiAgICAgICAgICAgIGNsYXNzPSdtYXBib3gtZGlyZWN0aW9ucy1zdGVwJz5cXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz0nZGlyZWN0aW9ucy1pY29uIGRpcmVjdGlvbnMtaWNvbi08JT0gaWNvbiAlPic+PC9zcGFuPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9J21hcGJveC1kaXJlY3Rpb25zLXN0ZXAtbWFuZXV2ZXInPlxcbiAgICAgICAgICAgICAgPCU9IHN0ZXAubWFuZXV2ZXIuaW5zdHJ1Y3Rpb24gJT5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8JSBpZiAoZGlzdGFuY2UpIHsgJT5cXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9J21hcGJveC1kaXJlY3Rpb25zLXN0ZXAtZGlzdGFuY2UnPlxcbiAgICAgICAgICAgICAgICA8JT0gZGlzdGFuY2UgJT5cXG4gICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwlIH0gJT5cXG4gICAgICAgICAgPC9saT5cXG4gICAgICAgIDwlIH0pOyAlPlxcbiAgICAgIDwvb2w+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIpLGg9KDAsci5kZWZhdWx0KShcIjxkaXYgY2xhc3M9J2RpcmVjdGlvbnMtY29udHJvbCBkaXJlY3Rpb25zLWNvbnRyb2wtZGlyZWN0aW9ucyc+XFxuICA8ZGl2IGNsYXNzPSdtYXBib3gtZGlyZWN0aW9ucy1lcnJvcic+XFxuICAgIDwlPSBlcnJvciAlPlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuXCIpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsbixpLHIpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsZSksdGhpcy5jb250YWluZXI9dCx0aGlzLmFjdGlvbnM9aSx0aGlzLnN0b3JlPW4sdGhpcy5fbWFwPXIsdGhpcy5kaXJlY3Rpb25zPXt9LHRoaXMucmVuZGVyKCl9cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt0JiZsKGUucHJvdG90eXBlLHQpLG4mJmwoZSxuKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInByb3RvdHlwZVwiLHt3cml0YWJsZTohMX0pfShlLFt7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuc3RvcmUuc3Vic2NyaWJlKChmdW5jdGlvbigpe3ZhciB0PWUuYWN0aW9ucyxuPXQuaG92ZXJNYXJrZXIscj10LnNldFJvdXRlSW5kZXgsYT1lLnN0b3JlLmdldFN0YXRlKCkscz1hLnJvdXRlSW5kZXgsbD1hLnVuaXQsYz1hLmRpcmVjdGlvbnMsZD1hLmVycm9yLHA9YS5jb21waWxlLGY9ISgwLG8uZGVmYXVsdCkoY1tzXSxlLmRpcmVjdGlvbnMpO2lmKGQpZS5jb250YWluZXIuaW5uZXJIVE1MPWgoe2Vycm9yOmR9KTtlbHNlIGlmKGMubGVuZ3RoJiZmKXt2YXIgbT1lLmRpcmVjdGlvbnM9Y1tzXTtwJiZtLmxlZ3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5zdGVwcy5mb3JFYWNoKChmdW5jdGlvbihlKXtlLm1hbmV1dmVyLmluc3RydWN0aW9uPXAoXCJlblwiLGUpfSkpfSkpLGUuY29udGFpbmVyLmlubmVySFRNTD11KHtyb3V0ZUluZGV4OnMscm91dGVzOmMubGVuZ3RoLHN0ZXBzOm0ubGVnc1swXS5zdGVwcyxmb3JtYXQ6aS5kZWZhdWx0LmZvcm1hdFtsXSxkdXJhdGlvbjppLmRlZmF1bHQuZm9ybWF0LmR1cmF0aW9uKG0uZHVyYXRpb24pLGRpc3RhbmNlOmkuZGVmYXVsdC5mb3JtYXRbbF0obS5kaXN0YW5jZSl9KTt2YXIgZz1lLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFwiLm1hcGJveC1kaXJlY3Rpb25zLXN0ZXBcIik7QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbChnLChmdW5jdGlvbih0KXt2YXIgaT10LmdldEF0dHJpYnV0ZShcImRhdGEtbG5nXCIpLHI9dC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWxhdFwiKTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwoZnVuY3Rpb24oKXtuKFtpLHJdKX0pKSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLChmdW5jdGlvbigpe24obnVsbCl9KSksdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwoZnVuY3Rpb24oKXtlLl9tYXAuZmx5VG8oe2NlbnRlcjpbaSxyXSx6b29tOjE2fSl9KSl9KSk7dmFyIHk9ZS5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInJhZGlvXCJdJyk7QXJyYXkucHJvdG90eXBlLmZvckVhY2guY2FsbCh5LChmdW5jdGlvbihlKXtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwoZnVuY3Rpb24oZSl7cihwYXJzZUludChlLnRhcmdldC5pZCwxMCkpfSkpfSkpfWVsc2UgZS5jb250YWluZXIuaW5uZXJIVE1MJiZmJiYoZS5jb250YWluZXIuaW5uZXJIVE1MPVwiXCIpfSkpfX1dKSxlfSgpO24uZGVmYXVsdD1kfSx7XCIuLi91dGlsc1wiOjM0LFwibG9kYXNoLmlzZXF1YWxcIjoxMyxcImxvZGFzaC50ZW1wbGF0ZVwiOjE0fV0sMzA6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciBpPWUoXCJyZWR1eFwiKSxyPXAoZShcInJlZHV4LXRodW5rXCIpKSxvPWUoXCJAbWFwYm94L3BvbHlsaW5lXCIpLGE9cChlKFwiLi91dGlsc1wiKSkscz1wKGUoXCIuL3JlZHVjZXJzXCIpKSxsPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PWYoZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJue2RlZmF1bHQ6ZX07dmFyIG49ZCh0KTtpZihuJiZuLmhhcyhlKSlyZXR1cm4gbi5nZXQoZSk7dmFyIGk9e30scj1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBvIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1vJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxvKSl7dmFyIGE9cj9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsbyk6bnVsbDthJiYoYS5nZXR8fGEuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkoaSxvLGEpOmlbb109ZVtvXX1pLmRlZmF1bHQ9ZSxuJiZuLnNldChlLGkpO3JldHVybiBpfShlKFwiLi9hY3Rpb25zXCIpKSxjPXAoZShcIi4vZGlyZWN0aW9uc19zdHlsZVwiKSksdT1wKGUoXCIuL2NvbnRyb2xzL2lucHV0c1wiKSksaD1wKGUoXCIuL2NvbnRyb2xzL2luc3RydWN0aW9uc1wiKSk7ZnVuY3Rpb24gZChlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciB0PW5ldyBXZWFrTWFwLG49bmV3IFdlYWtNYXA7cmV0dXJuKGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/bjp0fSkoZSl9ZnVuY3Rpb24gcChlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19ZnVuY3Rpb24gZihlKXtyZXR1cm4oZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gbShlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgaT10W25dO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxnKGkua2V5KSxpKX19ZnVuY3Rpb24gZyhlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPT1mKGUpfHxudWxsPT09ZSlyZXR1cm4gZTt2YXIgbj1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09bil7dmFyIGk9bi5jYWxsKGUsdHx8XCJkZWZhdWx0XCIpO2lmKFwib2JqZWN0XCIhPT1mKGkpKXJldHVybiBpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4oXCJzdHJpbmdcIj09PXQ/U3RyaW5nOk51bWJlcikoZSl9KGUsXCJzdHJpbmdcIik7cmV0dXJuXCJzeW1ib2xcIj09PWYodCk/dDpTdHJpbmcodCl9dmFyIHk9KDAsaS5hcHBseU1pZGRsZXdhcmUpKHIuZGVmYXVsdCkoaS5jcmVhdGVTdG9yZSkocy5kZWZhdWx0KSxfPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXshZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLGUpLHRoaXMuYWN0aW9ucz0oMCxpLmJpbmRBY3Rpb25DcmVhdG9ycykobCx5LmRpc3BhdGNoKSx0aGlzLmFjdGlvbnMuc2V0T3B0aW9ucyh0fHx7fSksdGhpcy5vcHRpb25zPXR8fHt9LHRoaXMub25EcmFnRG93bj10aGlzLl9vbkRyYWdEb3duLmJpbmQodGhpcyksdGhpcy5vbkRyYWdNb3ZlPXRoaXMuX29uRHJhZ01vdmUuYmluZCh0aGlzKSx0aGlzLm9uRHJhZ1VwPXRoaXMuX29uRHJhZ1VwLmJpbmQodGhpcyksdGhpcy5tb3ZlPXRoaXMuX21vdmUuYmluZCh0aGlzKSx0aGlzLm9uQ2xpY2s9dGhpcy5fY2xpY2tIYW5kbGVyKCkuYmluZCh0aGlzKX1yZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3QmJm0oZS5wcm90b3R5cGUsdCksbiYmbShlLG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwicHJvdG90eXBlXCIse3dyaXRhYmxlOiExfSl9KGUsW3trZXk6XCJvbkFkZFwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dGhpcy5fbWFwPWU7dmFyIG49eS5nZXRTdGF0ZSgpLmNvbnRyb2xzLGk9dGhpcy5jb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpLmNsYXNzTmFtZT1cIm1hcGJveGdsLWN0cmwtZGlyZWN0aW9ucyBtYXBib3hnbC1jdHJsXCI7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyLmNsYXNzTmFtZT1cImRpcmVjdGlvbnMtY29udHJvbCBkaXJlY3Rpb25zLWNvbnRyb2wtaW5wdXRzXCIsbmV3IHUuZGVmYXVsdChyLHksdGhpcy5hY3Rpb25zLHRoaXMuX21hcCk7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gby5jbGFzc05hbWU9XCJkaXJlY3Rpb25zLWNvbnRyb2wgZGlyZWN0aW9ucy1jb250cm9sLWluc3RydWN0aW9uc1wiLG5ldyBoLmRlZmF1bHQobyx5LHtob3Zlck1hcmtlcjp0aGlzLmFjdGlvbnMuaG92ZXJNYXJrZXIsc2V0Um91dGVJbmRleDp0aGlzLmFjdGlvbnMuc2V0Um91dGVJbmRleH0sdGhpcy5fbWFwKSxuLmlucHV0cyYmaS5hcHBlbmRDaGlsZChyKSxuLmluc3RydWN0aW9ucyYmaS5hcHBlbmRDaGlsZChvKSx0aGlzLnN1YnNjcmliZWRBY3Rpb25zKCksdGhpcy5fbWFwLmxvYWRlZCgpP3RoaXMubWFwU3RhdGUoKTp0aGlzLl9tYXAub24oXCJsb2FkXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHQubWFwU3RhdGUoKX0pKSxpfX0se2tleTpcIm9uUmVtb3ZlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIpLHRoaXMucmVtb3ZlUm91dGVzKCksZS5vZmYoXCJtb3VzZWRvd25cIix0aGlzLm9uRHJhZ0Rvd24pLGUub2ZmKFwibW91c2Vtb3ZlXCIsdGhpcy5tb3ZlKSxlLm9mZihcInRvdWNoc3RhcnRcIix0aGlzLm9uRHJhZ0Rvd24pLGUub2ZmKFwidG91Y2hzdGFydFwiLHRoaXMubW92ZSksZS5vZmYoXCJjbGlja1wiLHRoaXMub25DbGljayksdGhpcy5zdG9yZVVuc3Vic2NyaWJlJiYodGhpcy5zdG9yZVVuc3Vic2NyaWJlKCksZGVsZXRlIHRoaXMuc3RvcmVVbnN1YnNjcmliZSksYy5kZWZhdWx0LmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuZ2V0TGF5ZXIodC5pZCkmJmUucmVtb3ZlTGF5ZXIodC5pZCl9KSksZS5nZXRTb3VyY2UoXCJkaXJlY3Rpb25zXCIpJiZlLnJlbW92ZVNvdXJjZShcImRpcmVjdGlvbnNcIiksdGhpcy5fbWFwPW51bGwsdGhpc319LHtrZXk6XCJtYXBTdGF0ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXkuZ2V0U3RhdGUoKSxuPXQucHJvZmlsZSxpPSh0LmFsdGVybmF0aXZlcyx0LmNvbmdlc3Rpb24sdC5zdHlsZXMpLHI9dC5pbnRlcmFjdGl2ZTt0LmNvbXBpbGU7dGhpcy5hY3Rpb25zLmV2ZW50RW1pdChcInByb2ZpbGVcIix7cHJvZmlsZTpufSk7dGhpcy5fbWFwLmFkZFNvdXJjZShcImRpcmVjdGlvbnNcIix7dHlwZTpcImdlb2pzb25cIixkYXRhOnt0eXBlOlwiRmVhdHVyZUNvbGxlY3Rpb25cIixmZWF0dXJlczpbXX19KSxpJiZpLmxlbmd0aCYmaS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gZS5fbWFwLmFkZExheWVyKHQpfSkpLGMuZGVmYXVsdC5mb3JFYWNoKChmdW5jdGlvbih0KXtlLl9tYXAuZ2V0TGF5ZXIodC5pZCl8fGUuX21hcC5hZGRMYXllcih0KX0pKSxyJiYodGhpcy5fbWFwLm9uKFwibW91c2Vkb3duXCIsdGhpcy5vbkRyYWdEb3duKSx0aGlzLl9tYXAub24oXCJtb3VzZW1vdmVcIix0aGlzLm1vdmUpLHRoaXMuX21hcC5vbihcImNsaWNrXCIsdGhpcy5vbkNsaWNrKSx0aGlzLl9tYXAub24oXCJ0b3VjaHN0YXJ0XCIsdGhpcy5tb3ZlKSx0aGlzLl9tYXAub24oXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkRyYWdEb3duKSl9fSx7a2V5Olwic3Vic2NyaWJlZEFjdGlvbnNcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5zdG9yZVVuc3Vic2NyaWJlPXkuc3Vic2NyaWJlKChmdW5jdGlvbigpe3ZhciB0PXkuZ2V0U3RhdGUoKSxuPXQub3JpZ2luLGk9dC5kZXN0aW5hdGlvbixyPXQuaG92ZXJNYXJrZXIsYT10LmRpcmVjdGlvbnMscz10LnJvdXRlSW5kZXgsbD17dHlwZTpcIkZlYXR1cmVDb2xsZWN0aW9uXCIsZmVhdHVyZXM6W24saSxyXS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdlb21ldHJ5fSkpfTthLmxlbmd0aCYmYS5mb3JFYWNoKChmdW5jdGlvbihlLHQpe3ZhciBuPVtdOygwLG8uZGVjb2RlKShlLmdlb21ldHJ5LDUpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucmV2ZXJzZSgpfSkpLmZvckVhY2goKGZ1bmN0aW9uKGkscil7dmFyIG89bltuLmxlbmd0aC0xXSxhPWUubGVnc1swXS5hbm5vdGF0aW9uJiZlLmxlZ3NbMF0uYW5ub3RhdGlvbi5jb25nZXN0aW9uJiZlLmxlZ3NbMF0uYW5ub3RhdGlvbi5jb25nZXN0aW9uW3ItMV07aWYoIW98fGEmJm8ucHJvcGVydGllcy5jb25nZXN0aW9uIT09YSl7dmFyIGw9e2dlb21ldHJ5Ont0eXBlOlwiTGluZVN0cmluZ1wiLGNvb3JkaW5hdGVzOltdfSxwcm9wZXJ0aWVzOntcInJvdXRlLWluZGV4XCI6dCxyb3V0ZTp0PT09cz9cInNlbGVjdGVkXCI6XCJhbHRlcm5hdGVcIn19O28mJmwuZ2VvbWV0cnkuY29vcmRpbmF0ZXMucHVzaChvLmdlb21ldHJ5LmNvb3JkaW5hdGVzW28uZ2VvbWV0cnkuY29vcmRpbmF0ZXMubGVuZ3RoLTFdKSxsLmdlb21ldHJ5LmNvb3JkaW5hdGVzLnB1c2goaSksYSYmKGwucHJvcGVydGllcy5jb25nZXN0aW9uPWUubGVnc1swXS5hbm5vdGF0aW9uLmNvbmdlc3Rpb25bci0xXSksbi5wdXNoKGwpfWVsc2Ugby5nZW9tZXRyeS5jb29yZGluYXRlcy5wdXNoKGkpfSkpLGwuZmVhdHVyZXM9bC5mZWF0dXJlcy5jb25jYXQobiksdD09PXMmJmUubGVnc1swXS5zdGVwcy5mb3JFYWNoKChmdW5jdGlvbihlKXtcIndheXBvaW50XCI9PT1lLm1hbmV1dmVyLnR5cGUmJmwuZmVhdHVyZXMucHVzaCh7dHlwZTpcIkZlYXR1cmVcIixnZW9tZXRyeTplLm1hbmV1dmVyLmxvY2F0aW9uLHByb3BlcnRpZXM6e2lkOlwid2F5cG9pbnRcIn19KX0pKX0pKSxlLl9tYXAuc3R5bGUmJmUuX21hcC5nZXRTb3VyY2UoXCJkaXJlY3Rpb25zXCIpJiZlLl9tYXAuZ2V0U291cmNlKFwiZGlyZWN0aW9uc1wiKS5zZXREYXRhKGwpfSkpfX0se2tleTpcIl9jbGlja0hhbmRsZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPW51bGw7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKGUpY2xlYXJUaW1lb3V0KGUpLGU9bnVsbCx0aGlzLl9tYXAuem9vbUluKCk7ZWxzZXt2YXIgbj10aGlzLl9vblNpbmdsZUNsaWNrLmJpbmQodGhpcyk7ZT1zZXRUaW1lb3V0KChmdW5jdGlvbigpe24odCksZT1udWxsfSksMjUwKX19fX0se2tleTpcIl9vblNpbmdsZUNsaWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXkuZ2V0U3RhdGUoKS5vcmlnaW4saT1bZS5sbmdMYXQubG5nLGUubG5nTGF0LmxhdF07aWYobi5nZW9tZXRyeSl7dmFyIHI9dGhpcy5fbWFwLnF1ZXJ5UmVuZGVyZWRGZWF0dXJlcyhlLnBvaW50LHtsYXllcnM6W1wiZGlyZWN0aW9ucy1vcmlnaW4tcG9pbnRcIixcImRpcmVjdGlvbnMtZGVzdGluYXRpb24tcG9pbnRcIixcImRpcmVjdGlvbnMtd2F5cG9pbnQtcG9pbnRcIixcImRpcmVjdGlvbnMtcm91dGUtbGluZS1hbHRcIl19KTtpZihyLmxlbmd0aCl7aWYoci5mb3JFYWNoKChmdW5jdGlvbihlKXtcImRpcmVjdGlvbnMtd2F5cG9pbnQtcG9pbnRcIj09PWUubGF5ZXIuaWQmJnQuYWN0aW9ucy5yZW1vdmVXYXlwb2ludChlKX0pKSxcImFsdGVybmF0ZVwiPT09clswXS5wcm9wZXJ0aWVzLnJvdXRlKXt2YXIgbz1yWzBdLnByb3BlcnRpZXNbXCJyb3V0ZS1pbmRleFwiXTt0aGlzLmFjdGlvbnMuc2V0Um91dGVJbmRleChvKX19ZWxzZSB0aGlzLmFjdGlvbnMuc2V0RGVzdGluYXRpb25Gcm9tQ29vcmRpbmF0ZXMoaSksdGhpcy5fbWFwLmZseVRvKHtjZW50ZXI6aX0pfWVsc2UgdGhpcy5hY3Rpb25zLnNldE9yaWdpbkZyb21Db29yZGluYXRlcyhpKX19LHtrZXk6XCJfbW92ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj15LmdldFN0YXRlKCkuaG92ZXJNYXJrZXIsaT10aGlzLl9tYXAucXVlcnlSZW5kZXJlZEZlYXR1cmVzKGUucG9pbnQse2xheWVyczpbXCJkaXJlY3Rpb25zLXJvdXRlLWxpbmUtYWx0XCIsXCJkaXJlY3Rpb25zLXJvdXRlLWxpbmVcIixcImRpcmVjdGlvbnMtb3JpZ2luLXBvaW50XCIsXCJkaXJlY3Rpb25zLWRlc3RpbmF0aW9uLXBvaW50XCIsXCJkaXJlY3Rpb25zLWhvdmVyLXBvaW50XCJdfSk7dGhpcy5fbWFwLmdldENhbnZhcygpLnN0eWxlLmN1cnNvcj1pLmxlbmd0aD9cInBvaW50ZXJcIjpcIlwiLGkubGVuZ3RoPyh0aGlzLmlzQ3Vyc29yT3ZlclBvaW50PWlbMF0sdGhpcy5fbWFwLmRyYWdQYW4uZGlzYWJsZSgpLGkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7XCJkaXJlY3Rpb25zLXJvdXRlLWxpbmVcIj09PWkubGF5ZXIuaWQ/dC5hY3Rpb25zLmhvdmVyTWFya2VyKFtlLmxuZ0xhdC5sbmcsZS5sbmdMYXQubGF0XSk6bi5nZW9tZXRyeSYmdC5hY3Rpb25zLmhvdmVyTWFya2VyKG51bGwpfSkpKTp0aGlzLmlzQ3Vyc29yT3ZlclBvaW50JiYodGhpcy5pc0N1cnNvck92ZXJQb2ludD0hMSx0aGlzLl9tYXAuZHJhZ1Bhbi5lbmFibGUoKSl9fSx7a2V5OlwiX29uRHJhZ0Rvd25cIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuaXNDdXJzb3JPdmVyUG9pbnQmJih0aGlzLmlzRHJhZ2dpbmc9dGhpcy5pc0N1cnNvck92ZXJQb2ludCx0aGlzLl9tYXAuZ2V0Q2FudmFzKCkuc3R5bGUuY3Vyc29yPVwiZ3JhYlwiLHRoaXMuX21hcC5vbihcIm1vdXNlbW92ZVwiLHRoaXMub25EcmFnTW92ZSksdGhpcy5fbWFwLm9uKFwibW91c2V1cFwiLHRoaXMub25EcmFnVXApLHRoaXMuX21hcC5vbihcInRvdWNobW92ZVwiLHRoaXMub25EcmFnTW92ZSksdGhpcy5fbWFwLm9uKFwidG91Y2hlbmRcIix0aGlzLm9uRHJhZ1VwKSl9fSx7a2V5OlwiX29uRHJhZ01vdmVcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLmlzRHJhZ2dpbmcpe3ZhciB0PVtlLmxuZ0xhdC5sbmcsZS5sbmdMYXQubGF0XTtzd2l0Y2godGhpcy5pc0RyYWdnaW5nLmxheWVyLmlkKXtjYXNlXCJkaXJlY3Rpb25zLW9yaWdpbi1wb2ludFwiOnRoaXMuYWN0aW9ucy5jcmVhdGVPcmlnaW4odCk7YnJlYWs7Y2FzZVwiZGlyZWN0aW9ucy1kZXN0aW5hdGlvbi1wb2ludFwiOnRoaXMuYWN0aW9ucy5jcmVhdGVEZXN0aW5hdGlvbih0KTticmVhaztjYXNlXCJkaXJlY3Rpb25zLWhvdmVyLXBvaW50XCI6dGhpcy5hY3Rpb25zLmhvdmVyTWFya2VyKHQpfX19fSx7a2V5OlwiX29uRHJhZ1VwXCIsdmFsdWU6ZnVuY3Rpb24oKXtpZih0aGlzLmlzRHJhZ2dpbmcpe3ZhciBlPXkuZ2V0U3RhdGUoKSx0PWUuaG92ZXJNYXJrZXIsbj1lLm9yaWdpbixpPWUuZGVzdGluYXRpb247c3dpdGNoKHRoaXMuaXNEcmFnZ2luZy5sYXllci5pZCl7Y2FzZVwiZGlyZWN0aW9ucy1vcmlnaW4tcG9pbnRcIjp0aGlzLmFjdGlvbnMuc2V0T3JpZ2luRnJvbUNvb3JkaW5hdGVzKG4uZ2VvbWV0cnkuY29vcmRpbmF0ZXMpO2JyZWFrO2Nhc2VcImRpcmVjdGlvbnMtZGVzdGluYXRpb24tcG9pbnRcIjp0aGlzLmFjdGlvbnMuc2V0RGVzdGluYXRpb25Gcm9tQ29vcmRpbmF0ZXMoaS5nZW9tZXRyeS5jb29yZGluYXRlcyk7YnJlYWs7Y2FzZVwiZGlyZWN0aW9ucy1ob3Zlci1wb2ludFwiOnQuZ2VvbWV0cnkmJiFhLmRlZmF1bHQuY29vcmRpbmF0ZU1hdGNoKHRoaXMuaXNEcmFnZ2luZyx0KSYmdGhpcy5hY3Rpb25zLmFkZFdheXBvaW50KDAsdCl9dGhpcy5pc0RyYWdnaW5nPSExLHRoaXMuX21hcC5nZXRDYW52YXMoKS5zdHlsZS5jdXJzb3I9XCJcIix0aGlzLl9tYXAub2ZmKFwidG91Y2htb3ZlXCIsdGhpcy5vbkRyYWdNb3ZlKSx0aGlzLl9tYXAub2ZmKFwidG91Y2hlbmRcIix0aGlzLm9uRHJhZ1VwKSx0aGlzLl9tYXAub2ZmKFwibW91c2Vtb3ZlXCIsdGhpcy5vbkRyYWdNb3ZlKSx0aGlzLl9tYXAub2ZmKFwibW91c2V1cFwiLHRoaXMub25EcmFnVXApfX19LHtrZXk6XCJpbnRlcmFjdGl2ZVwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyh0aGlzLl9tYXAub24oXCJ0b3VjaHN0YXJ0XCIsdGhpcy5tb3ZlKSx0aGlzLl9tYXAub24oXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkRyYWdEb3duKSx0aGlzLl9tYXAub24oXCJtb3VzZWRvd25cIix0aGlzLm9uRHJhZ0Rvd24pLHRoaXMuX21hcC5vbihcIm1vdXNlbW92ZVwiLHRoaXMubW92ZSksdGhpcy5fbWFwLm9uKFwiY2xpY2tcIix0aGlzLm9uQ2xpY2spKToodGhpcy5fbWFwLm9mZihcInRvdWNoc3RhcnRcIix0aGlzLm1vdmUpLHRoaXMuX21hcC5vZmYoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkRyYWdEb3duKSx0aGlzLl9tYXAub2ZmKFwibW91c2Vkb3duXCIsdGhpcy5vbkRyYWdEb3duKSx0aGlzLl9tYXAub2ZmKFwibW91c2Vtb3ZlXCIsdGhpcy5tb3ZlKSx0aGlzLl9tYXAub2ZmKFwiY2xpY2tcIix0aGlzLm9uQ2xpY2spKSx0aGlzfX0se2tleTpcImdldE9yaWdpblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHkuZ2V0U3RhdGUoKS5vcmlnaW59fSx7a2V5Olwic2V0T3JpZ2luXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/dGhpcy5hY3Rpb25zLnF1ZXJ5T3JpZ2luKGUpOnRoaXMuYWN0aW9ucy5zZXRPcmlnaW5Gcm9tQ29vcmRpbmF0ZXMoZSksdGhpc319LHtrZXk6XCJnZXREZXN0aW5hdGlvblwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHkuZ2V0U3RhdGUoKS5kZXN0aW5hdGlvbn19LHtrZXk6XCJzZXREZXN0aW5hdGlvblwiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3RoaXMuYWN0aW9ucy5xdWVyeURlc3RpbmF0aW9uKGUpOnRoaXMuYWN0aW9ucy5zZXREZXN0aW5hdGlvbkZyb21Db29yZGluYXRlcyhlKSx0aGlzfX0se2tleTpcInJldmVyc2VcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGlvbnMucmV2ZXJzZSgpLHRoaXN9fSx7a2V5OlwiYWRkV2F5cG9pbnRcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0LnR5cGV8fCh0PWEuZGVmYXVsdC5jcmVhdGVQb2ludCh0LHtpZDpcIndheXBvaW50XCJ9KSksdGhpcy5hY3Rpb25zLmFkZFdheXBvaW50KGUsdCksdGhpc319LHtrZXk6XCJzZXRXYXlwb2ludFwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQudHlwZXx8KHQ9YS5kZWZhdWx0LmNyZWF0ZVBvaW50KHQse2lkOlwid2F5cG9pbnRcIn0pKSx0aGlzLmFjdGlvbnMuc2V0V2F5cG9pbnQoZSx0KSx0aGlzfX0se2tleTpcInJlbW92ZVdheXBvaW50XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9eS5nZXRTdGF0ZSgpLndheXBvaW50cztyZXR1cm4gdGhpcy5hY3Rpb25zLnJlbW92ZVdheXBvaW50KHRbZV0pLHRoaXN9fSx7a2V5OlwiZ2V0V2F5cG9pbnRzXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4geS5nZXRTdGF0ZSgpLndheXBvaW50c319LHtrZXk6XCJyZW1vdmVSb3V0ZXNcIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGlvbnMuY2xlYXJPcmlnaW4oKSx0aGlzLmFjdGlvbnMuY2xlYXJEZXN0aW5hdGlvbigpLHRoaXN9fSx7a2V5Olwib25cIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFjdGlvbnMuZXZlbnRTdWJzY3JpYmUoZSx0KSx0aGlzfX1dKSxlfSgpO24uZGVmYXVsdD1ffSx7XCIuL2FjdGlvbnNcIjoyNSxcIi4vY29udHJvbHMvaW5wdXRzXCI6MjgsXCIuL2NvbnRyb2xzL2luc3RydWN0aW9uc1wiOjI5LFwiLi9kaXJlY3Rpb25zX3N0eWxlXCI6MzEsXCIuL3JlZHVjZXJzXCI6MzMsXCIuL3V0aWxzXCI6MzQsXCJAbWFwYm94L3BvbHlsaW5lXCI6NixyZWR1eDoxOCxcInJlZHV4LXRodW5rXCI6MTd9XSwzMTpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIGk9W3tpZDpcImRpcmVjdGlvbnMtcm91dGUtbGluZS1hbHRcIix0eXBlOlwibGluZVwiLHNvdXJjZTpcImRpcmVjdGlvbnNcIixsYXlvdXQ6e1wibGluZS1jYXBcIjpcInJvdW5kXCIsXCJsaW5lLWpvaW5cIjpcInJvdW5kXCJ9LHBhaW50OntcImxpbmUtY29sb3JcIjpcIiNiYmJcIixcImxpbmUtd2lkdGhcIjo0fSxmaWx0ZXI6W1wiYWxsXCIsW1wiaW5cIixcIiR0eXBlXCIsXCJMaW5lU3RyaW5nXCJdLFtcImluXCIsXCJyb3V0ZVwiLFwiYWx0ZXJuYXRlXCJdXX0se2lkOlwiZGlyZWN0aW9ucy1yb3V0ZS1saW5lLWNhc2luZ1wiLHR5cGU6XCJsaW5lXCIsc291cmNlOlwiZGlyZWN0aW9uc1wiLGxheW91dDp7XCJsaW5lLWNhcFwiOlwicm91bmRcIixcImxpbmUtam9pblwiOlwicm91bmRcIn0scGFpbnQ6e1wibGluZS1jb2xvclwiOlwiIzJkNWY5OVwiLFwibGluZS13aWR0aFwiOjEyfSxmaWx0ZXI6W1wiYWxsXCIsW1wiaW5cIixcIiR0eXBlXCIsXCJMaW5lU3RyaW5nXCJdLFtcImluXCIsXCJyb3V0ZVwiLFwic2VsZWN0ZWRcIl1dfSx7aWQ6XCJkaXJlY3Rpb25zLXJvdXRlLWxpbmVcIix0eXBlOlwibGluZVwiLHNvdXJjZTpcImRpcmVjdGlvbnNcIixsYXlvdXQ6e1wibGluZS1jYXBcIjpcImJ1dHRcIixcImxpbmUtam9pblwiOlwicm91bmRcIn0scGFpbnQ6e1wibGluZS1jb2xvclwiOntwcm9wZXJ0eTpcImNvbmdlc3Rpb25cIix0eXBlOlwiY2F0ZWdvcmljYWxcIixkZWZhdWx0OlwiIzQ4ODJjNVwiLHN0b3BzOltbXCJ1bmtub3duXCIsXCIjNDg4MmM1XCJdLFtcImxvd1wiLFwiIzQ4ODJjNVwiXSxbXCJtb2RlcmF0ZVwiLFwiI2YwOWE0NlwiXSxbXCJoZWF2eVwiLFwiI2UzNDM0MVwiXSxbXCJzZXZlcmVcIixcIiM4YjIzNDJcIl1dfSxcImxpbmUtd2lkdGhcIjo3fSxmaWx0ZXI6W1wiYWxsXCIsW1wiaW5cIixcIiR0eXBlXCIsXCJMaW5lU3RyaW5nXCJdLFtcImluXCIsXCJyb3V0ZVwiLFwic2VsZWN0ZWRcIl1dfSx7aWQ6XCJkaXJlY3Rpb25zLWhvdmVyLXBvaW50LWNhc2luZ1wiLHR5cGU6XCJjaXJjbGVcIixzb3VyY2U6XCJkaXJlY3Rpb25zXCIscGFpbnQ6e1wiY2lyY2xlLXJhZGl1c1wiOjgsXCJjaXJjbGUtY29sb3JcIjpcIiNmZmZcIn0sZmlsdGVyOltcImFsbFwiLFtcImluXCIsXCIkdHlwZVwiLFwiUG9pbnRcIl0sW1wiaW5cIixcImlkXCIsXCJob3ZlclwiXV19LHtpZDpcImRpcmVjdGlvbnMtaG92ZXItcG9pbnRcIix0eXBlOlwiY2lyY2xlXCIsc291cmNlOlwiZGlyZWN0aW9uc1wiLHBhaW50OntcImNpcmNsZS1yYWRpdXNcIjo2LFwiY2lyY2xlLWNvbG9yXCI6XCIjM2JiMmQwXCJ9LGZpbHRlcjpbXCJhbGxcIixbXCJpblwiLFwiJHR5cGVcIixcIlBvaW50XCJdLFtcImluXCIsXCJpZFwiLFwiaG92ZXJcIl1dfSx7aWQ6XCJkaXJlY3Rpb25zLXdheXBvaW50LXBvaW50LWNhc2luZ1wiLHR5cGU6XCJjaXJjbGVcIixzb3VyY2U6XCJkaXJlY3Rpb25zXCIscGFpbnQ6e1wiY2lyY2xlLXJhZGl1c1wiOjgsXCJjaXJjbGUtY29sb3JcIjpcIiNmZmZcIn0sZmlsdGVyOltcImFsbFwiLFtcImluXCIsXCIkdHlwZVwiLFwiUG9pbnRcIl0sW1wiaW5cIixcImlkXCIsXCJ3YXlwb2ludFwiXV19LHtpZDpcImRpcmVjdGlvbnMtd2F5cG9pbnQtcG9pbnRcIix0eXBlOlwiY2lyY2xlXCIsc291cmNlOlwiZGlyZWN0aW9uc1wiLHBhaW50OntcImNpcmNsZS1yYWRpdXNcIjo2LFwiY2lyY2xlLWNvbG9yXCI6XCIjOGE4YmM5XCJ9LGZpbHRlcjpbXCJhbGxcIixbXCJpblwiLFwiJHR5cGVcIixcIlBvaW50XCJdLFtcImluXCIsXCJpZFwiLFwid2F5cG9pbnRcIl1dfSx7aWQ6XCJkaXJlY3Rpb25zLW9yaWdpbi1wb2ludFwiLHR5cGU6XCJjaXJjbGVcIixzb3VyY2U6XCJkaXJlY3Rpb25zXCIscGFpbnQ6e1wiY2lyY2xlLXJhZGl1c1wiOjE4LFwiY2lyY2xlLWNvbG9yXCI6XCIjM2JiMmQwXCJ9LGZpbHRlcjpbXCJhbGxcIixbXCJpblwiLFwiJHR5cGVcIixcIlBvaW50XCJdLFtcImluXCIsXCJtYXJrZXItc3ltYm9sXCIsXCJBXCJdXX0se2lkOlwiZGlyZWN0aW9ucy1vcmlnaW4tbGFiZWxcIix0eXBlOlwic3ltYm9sXCIsc291cmNlOlwiZGlyZWN0aW9uc1wiLGxheW91dDp7XCJ0ZXh0LWZpZWxkXCI6XCJBXCIsXCJ0ZXh0LWZvbnRcIjpbXCJPcGVuIFNhbnMgQm9sZFwiLFwiQXJpYWwgVW5pY29kZSBNUyBCb2xkXCJdLFwidGV4dC1zaXplXCI6MTJ9LHBhaW50OntcInRleHQtY29sb3JcIjpcIiNmZmZcIn0sZmlsdGVyOltcImFsbFwiLFtcImluXCIsXCIkdHlwZVwiLFwiUG9pbnRcIl0sW1wiaW5cIixcIm1hcmtlci1zeW1ib2xcIixcIkFcIl1dfSx7aWQ6XCJkaXJlY3Rpb25zLWRlc3RpbmF0aW9uLXBvaW50XCIsdHlwZTpcImNpcmNsZVwiLHNvdXJjZTpcImRpcmVjdGlvbnNcIixwYWludDp7XCJjaXJjbGUtcmFkaXVzXCI6MTgsXCJjaXJjbGUtY29sb3JcIjpcIiM4YThiYzlcIn0sZmlsdGVyOltcImFsbFwiLFtcImluXCIsXCIkdHlwZVwiLFwiUG9pbnRcIl0sW1wiaW5cIixcIm1hcmtlci1zeW1ib2xcIixcIkJcIl1dfSx7aWQ6XCJkaXJlY3Rpb25zLWRlc3RpbmF0aW9uLWxhYmVsXCIsdHlwZTpcInN5bWJvbFwiLHNvdXJjZTpcImRpcmVjdGlvbnNcIixsYXlvdXQ6e1widGV4dC1maWVsZFwiOlwiQlwiLFwidGV4dC1mb250XCI6W1wiT3BlbiBTYW5zIEJvbGRcIixcIkFyaWFsIFVuaWNvZGUgTVMgQm9sZFwiXSxcInRleHQtc2l6ZVwiOjEyfSxwYWludDp7XCJ0ZXh0LWNvbG9yXCI6XCIjZmZmXCJ9LGZpbHRlcjpbXCJhbGxcIixbXCJpblwiLFwiJHR5cGVcIixcIlBvaW50XCJdLFtcImluXCIsXCJtYXJrZXItc3ltYm9sXCIsXCJCXCJdXX1dO24uZGVmYXVsdD1pfSx7fV0sMzI6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KGUoXCIuL2RpcmVjdGlvbnNcIikpO3QuZXhwb3J0cz1pLmRlZmF1bHR9LHtcIi4vZGlyZWN0aW9uc1wiOjMwfV0sMzM6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3JldHVybihpPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9KShlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkobixcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxuLmRlZmF1bHQ9dm9pZCAwO3ZhciByPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJmUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTtpZihudWxsPT09ZXx8XCJvYmplY3RcIiE9PWkoZSkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpcmV0dXJue2RlZmF1bHQ6ZX07dmFyIG49YSh0KTtpZihuJiZuLmhhcyhlKSlyZXR1cm4gbi5nZXQoZSk7dmFyIHI9e30sbz1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7Zm9yKHZhciBzIGluIGUpaWYoXCJkZWZhdWx0XCIhPT1zJiZPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSl7dmFyIGw9bz9PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscyk6bnVsbDtsJiYobC5nZXR8fGwuc2V0KT9PYmplY3QuZGVmaW5lUHJvcGVydHkocixzLGwpOnJbc109ZVtzXX1yLmRlZmF1bHQ9ZSxuJiZuLnNldChlLHIpO3JldHVybiByfShlKFwiLi4vY29uc3RhbnRzL2FjdGlvbl90eXBlcy5qc1wiKSksbz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19KGUoXCJkZWVwLWFzc2lnblwiKSk7ZnVuY3Rpb24gYShlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBXZWFrTWFwKXJldHVybiBudWxsO3ZhciB0PW5ldyBXZWFrTWFwLG49bmV3IFdlYWtNYXA7cmV0dXJuKGE9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/bjp0fSkoZSl9dmFyIHM9e2FwaTpcImh0dHBzOi8vYXBpLm1hcGJveC5jb20vZGlyZWN0aW9ucy92NS9cIixwcm9maWxlOlwibWFwYm94L2RyaXZpbmctdHJhZmZpY1wiLGFsdGVybmF0aXZlczohMSxjb25nZXN0aW9uOiExLHVuaXQ6XCJpbXBlcmlhbFwiLGZseVRvOiEwLHBsYWNlaG9sZGVyT3JpZ2luOlwiQ2hvb3NlIGEgc3RhcnRpbmcgcGxhY2VcIixwbGFjZWhvbGRlckRlc3RpbmF0aW9uOlwiQ2hvb3NlIGRlc3RpbmF0aW9uXCIsem9vbToxNixsYW5ndWFnZTpcImVuXCIsY29tcGlsZTpudWxsLHByb3hpbWl0eTohMSxzdHlsZXM6W10sY29udHJvbHM6e3Byb2ZpbGVTd2l0Y2hlcjohMCxpbnB1dHM6ITAsaW5zdHJ1Y3Rpb25zOiEwfSxnZW9jb2Rlcjp7fSxpbnRlcmFjdGl2ZTohMCxldmVudHM6e30sb3JpZ2luOnt9LGRlc3RpbmF0aW9uOnt9LGhvdmVyTWFya2VyOnt9LHdheXBvaW50czpbXSxvcmlnaW5RdWVyeTpudWxsLGRlc3RpbmF0aW9uUXVlcnk6bnVsbCxvcmlnaW5RdWVyeUNvb3JkaW5hdGVzOm51bGwsZGVzdGluYXRpb25RdWVyeUNvb3JkaW5hdGVzOm51bGwsZGlyZWN0aW9uczpbXSxyb3V0ZUluZGV4OjAscm91dGVQYWRkaW5nOjgwfTt2YXIgbD1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTpzLHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7c3dpdGNoKHQudHlwZSl7Y2FzZSByLlNFVF9PUFRJT05TOnJldHVybigwLG8uZGVmYXVsdCkoe30sZSx0Lm9wdGlvbnMpO2Nhc2Ugci5ESVJFQ1RJT05TX1BST0ZJTEU6cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7cHJvZmlsZTp0LnByb2ZpbGV9KTtjYXNlIHIuT1JJR0lOOnJldHVybiBPYmplY3QuYXNzaWduKHt9LGUse29yaWdpbjp0Lm9yaWdpbixob3Zlck1hcmtlcjp7fX0pO2Nhc2Ugci5ERVNUSU5BVElPTjpyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxlLHtkZXN0aW5hdGlvbjp0LmRlc3RpbmF0aW9uLGhvdmVyTWFya2VyOnt9fSk7Y2FzZSByLkhPVkVSX01BUktFUjpyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxlLHtob3Zlck1hcmtlcjp0LmhvdmVyTWFya2VyfSk7Y2FzZSByLldBWVBPSU5UUzpyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxlLHt3YXlwb2ludHM6dC53YXlwb2ludHN9KTtjYXNlIHIuT1JJR0lOX1FVRVJZOnJldHVybiBPYmplY3QuYXNzaWduKHt9LGUse29yaWdpblF1ZXJ5OnQucXVlcnl9KTtjYXNlIHIuREVTVElOQVRJT05fUVVFUlk6cmV0dXJuIE9iamVjdC5hc3NpZ24oe30sZSx7ZGVzdGluYXRpb25RdWVyeTp0LnF1ZXJ5fSk7Y2FzZSByLk9SSUdJTl9GUk9NX0NPT1JESU5BVEVTOnJldHVybiBPYmplY3QuYXNzaWduKHt9LGUse29yaWdpblF1ZXJ5Q29vcmRpbmF0ZXM6dC5jb29yZGluYXRlc30pO2Nhc2Ugci5ERVNUSU5BVElPTl9GUk9NX0NPT1JESU5BVEVTOnJldHVybiBPYmplY3QuYXNzaWduKHt9LGUse2Rlc3RpbmF0aW9uUXVlcnlDb29yZGluYXRlczp0LmNvb3JkaW5hdGVzfSk7Y2FzZSByLk9SSUdJTl9DTEVBUjpyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxlLHtvcmlnaW46e30sb3JpZ2luUXVlcnk6XCJcIix3YXlwb2ludHM6W10sZGlyZWN0aW9uczpbXX0pO2Nhc2Ugci5ERVNUSU5BVElPTl9DTEVBUjpyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxlLHtkZXN0aW5hdGlvbjp7fSxkZXN0aW5hdGlvblF1ZXJ5OlwiXCIsd2F5cG9pbnRzOltdLGRpcmVjdGlvbnM6W119KTtjYXNlIHIuRElSRUNUSU9OUzpyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxlLHtkaXJlY3Rpb25zOnQuZGlyZWN0aW9uc30pO2Nhc2Ugci5ST1VURV9JTkRFWDpyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxlLHtyb3V0ZUluZGV4OnQucm91dGVJbmRleH0pO2Nhc2Ugci5FUlJPUjpyZXR1cm4gT2JqZWN0LmFzc2lnbih7fSxlLHtlcnJvcjp0LmVycm9yfSk7ZGVmYXVsdDpyZXR1cm4gZX19O24uZGVmYXVsdD1sfSx7XCIuLi9jb25zdGFudHMvYWN0aW9uX3R5cGVzLmpzXCI6MjYsXCJkZWVwLWFzc2lnblwiOjh9XSwzNDpbZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLG4uZGVmYXVsdD12b2lkIDA7dmFyIGk9e2Zvcm1hdDp7ZHVyYXRpb246ZnVuY3Rpb24oZSl7dmFyIHQ9TWF0aC5mbG9vcihlLzYwKSxuPU1hdGguZmxvb3IodC82MCk7cmV0dXJuIGUlPTYwLHQlPTYwLDA9PT1uJiYwPT09dD9lK1wic1wiOjA9PT1uP3QrXCJtaW5cIjpuK1wiaCBcIit0K1wibWluXCJ9LGltcGVyaWFsOmZ1bmN0aW9uKGUpe3ZhciB0PWUvMTYwOS4zNDQ7cmV0dXJuIHQ+PTEwMD90LnRvRml4ZWQoMCkrXCJtaVwiOnQ+PTEwP3QudG9GaXhlZCgxKStcIm1pXCI6dD49LjE/dC50b0ZpeGVkKDIpK1wibWlcIjooNTI4MCp0KS50b0ZpeGVkKDApK1wiZnRcIn0sbWV0cmljOmZ1bmN0aW9uKGUpe3JldHVybiBlPj0xZTU/KGUvMWUzKS50b0ZpeGVkKDApK1wia21cIjplPj0xZTQ/KGUvMWUzKS50b0ZpeGVkKDEpK1wia21cIjplPj0xMDA/KGUvMWUzKS50b0ZpeGVkKDIpK1wia21cIjplLnRvRml4ZWQoMCkrXCJtXCJ9fSxjb29yZGluYXRlTWF0Y2g6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1lLmdlb21ldHJ5LmNvb3JkaW5hdGVzLHQ9dC5nZW9tZXRyeS5jb29yZGluYXRlcyxlLmpvaW4oKT09PXQuam9pbigpfHxlWzBdLnRvRml4ZWQoMyk9PT10WzBdLnRvRml4ZWQoMykmJmVbMV0udG9GaXhlZCgzKT09PXRbMV0udG9GaXhlZCgzKX0sY3JlYXRlUG9pbnQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm57dHlwZTpcIkZlYXR1cmVcIixnZW9tZXRyeTp7dHlwZTpcIlBvaW50XCIsY29vcmRpbmF0ZXM6ZX0scHJvcGVydGllczp0fHx7fX19LHZhbGlkQ29vcmRzOmZ1bmN0aW9uKGUpe3JldHVybiBlWzBdPj0tMTgwJiZlWzBdPD0xODAmJmVbMV0+PS05MCYmZVsxXTw9OTB9LHdyYXA6ZnVuY3Rpb24oZSl7dmFyIHQ9KChlLSAtMTgwKSUzNjArMzYwKSUzNjAtMTgwO3JldHVybi0xODA9PT10PzE4MDp0fSxyb3VuZFdpdGhPcmlnaW5hbFByZWNpc2lvbjpmdW5jdGlvbihlLHQpe3ZhciBuPTA7cmV0dXJuIE1hdGguZmxvb3IodCkhPT10JiYobj10LnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdLmxlbmd0aCksZS50b0ZpeGVkKE1hdGgubWluKG4sNSkpfX07bi5kZWZhdWx0PWl9LHt9XX0se30sWzMyXSkoMzIpfSgpfSgpfSkuY2FsbCh0aGlzLG4oMjUpKX0sZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oMTQ4KTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1tlLmksaSxcIlwiXV0pO3ZhciByPXtobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigzOCkoaSxyKTtpLmxvY2FscyYmKGUuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKGUsdCxuKXsoZS5leHBvcnRzPW4oMzcpKCExKSkucHVzaChbZS5pLFwiLyogTWFwYm94Z2wgR2VvY29kZXIgKi9cXG4vKiBCYXNpY3MgKi9cXG4ubWFwYm94Z2wtY3RybC1nZW9jb2RlcixcXG4ubWFwYm94Z2wtY3RybC1nZW9jb2RlciAqLFxcbi5tYXBib3hnbC1jdHJsLWdlb2NvZGVyICo6YWZ0ZXIsXFxuLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIgKjpiZWZvcmUge1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7XFxuICAgICAtbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzpib3JkZXItYm94O1xcbiAgfVxcbi5tYXBib3hnbC1jdHJsLWdlb2NvZGVyIHtcXG4gIGZvbnQ6MTVweC8yMHB4ICdIZWx2ZXRpY2EgTmV1ZScsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxuICBwb3NpdGlvbjpyZWxhdGl2ZTtcXG4gIGJhY2tncm91bmQtY29sb3I6d2hpdGU7XFxuICB3aWR0aDpjYWxjKDEwMCUgLSAzNjBweCk7O1xcbiAgbWluLXdpZHRoOmNhbGMoMTAwJSAtIDQwcHgpOztcXG4gIG1heC13aWR0aDpjYWxjKDEwMCUgLSA0MHB4KTs7XFxuICBtYXJnaW4tbGVmdDo0MHB4O1xcbiAgYm9yZGVyLXJhZGl1czowIDAgM3B4IDA7XFxuICB9XFxuICAubWFwYm94LWRpcmVjdGlvbnMtb3JpZ2luIC5tYXBib3hnbC1jdHJsLWdlb2NvZGVyIHtcXG4gICAgYm9yZGVyLXJhZGl1czowIDNweCAwIDA7XFxuICAgIH1cXG5cXG4ubWFwYm94Z2wtY3RybC1nZW9jb2RlciBpbnB1dFt0eXBlPSd0ZXh0J10ge1xcbiAgZm9udC1zaXplOjEycHg7XFxuICB3aWR0aDoxMDAlO1xcbiAgYm9yZGVyOjA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O1xcbiAgaGVpZ2h0OjQwcHg7XFxuICBtYXJnaW46MDtcXG4gIGNvbG9yOnJnYmEoMCwwLDAsLjUpO1xcbiAgcGFkZGluZzoxMHB4IDQwcHggMTBweCAxMHB4O1xcbiAgdGV4dC1vdmVyZmxvdzplbGxpcHNpcztcXG4gIHdoaXRlLXNwYWNlOm5vd3JhcDtcXG4gIG92ZXJmbG93OmhpZGRlbjtcXG4gIH1cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1vcmlnaW4gaW5wdXRbdHlwZT0ndGV4dCddIHtcXG4gICAgYm94LXNoYWRvdzowIDFweCAwIDAgI2RkZDtcXG4gICAgcG9zaXRpb246cmVsYXRpdmU7XFxuICAgIHotaW5kZXg6MTtcXG4gICAgfVxcbiAgLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIgaW5wdXQ6Zm9jdXMge1xcbiAgICBjb2xvcjpyZ2JhKDAsMCwwLC43NSk7XFxuICAgIG91dGxpbmU6MDtcXG4gICAgb3V0bGluZTp0aGluIGRvdHRlZFxcXFw4O1xcbiAgICB9XFxuXFxuLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIgLmdlb2NvZGVyLWljb24tc2VhcmNoIHtcXG4gIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgdG9wOjEwcHg7XFxuICBsZWZ0OjEwcHg7XFxuICB9XFxuLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIgYnV0dG9uIHtcXG4gIHBhZGRpbmc6MDtcXG4gIG1hcmdpbjowO1xcbiAgYmFja2dyb3VuZC1jb2xvcjojZmZmO1xcbiAgYm9yZGVyOm5vbmU7XFxuICBjdXJzb3I6cG9pbnRlcjtcXG4gIH1cXG4ubWFwYm94Z2wtY3RybC1nZW9jb2RlciAuZ2VvY29kZXItcGluLXJpZ2h0ICoge1xcbiAgYmFja2dyb3VuZC1jb2xvcjojZmZmO1xcbiAgei1pbmRleDoyO1xcbiAgcG9zaXRpb246YWJzb2x1dGU7XFxuICByaWdodDoxMHB4O1xcbiAgdG9wOjEwcHg7XFxuICBkaXNwbGF5Om5vbmU7XFxuICB9XFxuICAubWFwYm94Z2wtY3RybC1nZW9jb2RlciAuZ2VvY29kZXItcGluLXJpZ2h0ICouYWN0aXZlIHsgZGlzcGxheTpibG9jazsgfVxcblxcbi5tYXBib3hnbC1jdHJsLWdlb2NvZGVyLFxcbi5tYXBib3hnbC1jdHJsLWdlb2NvZGVyIHVsIHtcXG4gIGJveC1zaGFkb3c6bm9uZTtcXG4gIH1cXG5cXG4vKiBTdWdnZXN0aW9ucyAqL1xcbi5tYXBib3hnbC1jdHJsLWdlb2NvZGVyIHVsIHtcXG4gIGJhY2tncm91bmQtY29sb3I6I2ZmZjtcXG4gIGJvcmRlci1yYWRpdXM6IDAgMCAzcHggM3B4O1xcbiAgbGVmdDowO1xcbiAgbGlzdC1zdHlsZTpub25lO1xcbiAgbWFyZ2luOjA7XFxuICBwYWRkaW5nOjA7XFxuICBwb3NpdGlvbjphYnNvbHV0ZTtcXG4gIHdpZHRoOjEwMCU7XFxuICB0b3A6MTAwJTtcXG4gIHotaW5kZXg6MTAwMDtcXG4gIG92ZXJmbG93OmhpZGRlbjtcXG4gIGZvbnQtc2l6ZToxMnB4O1xcbiAgfVxcbiAgLm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQgLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIgdWwsXFxuICAubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQgLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIgdWwge1xcbiAgICB0b3A6YXV0bztcXG4gICAgYm90dG9tOjEwMCU7XFxuICAgIH1cXG4gIC5tYXBib3hnbC1jdHJsLWdlb2NvZGVyIHVsID4gbGkgPiBhIHtcXG4gICAgY2xlYXI6Ym90aDtcXG4gICAgY3Vyc29yOmRlZmF1bHQ7XFxuICAgIGRpc3BsYXk6YmxvY2s7XFxuICAgIHBhZGRpbmc6NXB4IDEwcHg7XFxuICAgIHdoaXRlLXNwYWNlOm5vd3JhcDtcXG4gICAgb3ZlcmZsb3c6aGlkZGVuO1xcbiAgICB0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO1xcbiAgICB3aGl0ZS1zcGFjZTpub3dyYXA7XFxuICAgIGJvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMCwwLDAsMC4xKTtcXG4gICAgfVxcbiAgICAubWFwYm94Z2wtY3RybC1nZW9jb2RlciB1bCA+IGxpOmxhc3QtY2hpbGQgPiBhIHsgYm9yZGVyLWJvdHRvbTpub25lOyB9XFxuICAgIC5tYXBib3hnbC1jdHJsLWdlb2NvZGVyIHVsID4gbGkuYWN0aXZlID4gYSxcXG4gICAgLm1hcGJveGdsLWN0cmwtZ2VvY29kZXIgdWwgPiBsaSA+IGE6aG92ZXIge1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6I2VlZTtcXG4gICAgICB0ZXh0LWRlY29yYXRpb246bm9uZTtcXG4gICAgICBjdXJzb3I6cG9pbnRlcjtcXG4gICAgICB9XFxuXFxuQC13ZWJraXQta2V5ZnJhbWVzIHJvdGF0ZSB7IGZyb20geyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9IHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9IH1cXG4gICBALW1vei1rZXlmcmFtZXMgcm90YXRlIHsgZnJvbSB7IC1tb3otdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH0gdG8geyAtbW96LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH0gfVxcbiAgICBALW1zLWtleWZyYW1lcyByb3RhdGUgeyBmcm9tIHsgLW1zLXRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9IHRvIHsgLW1zLXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH0gfVxcbiAgICAgICAgQGtleWZyYW1lcyByb3RhdGUgeyBmcm9tIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH0gdG8geyB0cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9IH1cXG5cXG4vKiBpY29ucyAqL1xcbi5nZW9jb2Rlci1pY29uIHtcXG4gIGRpc3BsYXk6aW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6MjBweDtcXG4gIGhlaWdodDoyMHB4O1xcbiAgdmVydGljYWwtYWxpZ246bWlkZGxlO1xcbiAgc3BlYWs6bm9uZTtcXG4gIGJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtcXG4gIH1cXG4gIC5nZW9jb2Rlci1pY29uLXNlYXJjaCB7XFxuICAgIGRpc3BsYXk6bm9uZTtcXG4gICAgfVxcbiAgLmdlb2NvZGVyLWljb24tY2xvc2Uge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6cHpkbWM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhacFpYZENiM2c5SWpBZ01DQXlNQ0F5TUNJZ2RtVnljMmx2YmowaU1TNHhJaUJvWldsbmFIUTlJakl3SWlCM2FXUjBhRDBpTWpBaVBnMEtJQ0E4Y0dGMGFDQmtQU0p0TlNBMUlEQWdNUzQxSURNdU5TQXpMalV0TXk0MUlETXVOU0F3SURFdU5TQXhMalVnTUNBekxqVXRNeTQxSURNdU5TQXpMalVnTVM0MUlEQWdNQzB4TGpVdE15NDFMVE11TlNBekxqVXRNeTQxSURBdE1TNDFMVEV1TlNBd0xUTXVOU0F6TGpVdE15NDFMVE11TlMweExqVWdNSG9pSUdacGJHdzlJaU13TURBaUx6NE5Dand2YzNablBnPT0pO1xcbiAgICB9XFxuICAuZ2VvY29kZXItaWNvbi1sb2FkaW5nIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjenB6ZG1jOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIWmxjbk5wYjI0OUlqRXVNU0lnZDJsa2RHZzlJakl3SWlCb1pXbG5hSFE5SWpJd0lpQjJhV1YzUW05NFBTSXdJREFnTWpBZ01qQWlQanh3WVhSb0lHUTlJbTB4TUNBeUlEQWdNeTR6WXpJdU5pQXdJRFF1TnlBeUxqRWdOQzQzSURRdU4yd3pMak1nTUdNd0xUUXVOQzB6TGpZdE9DMDRMVGg2SWlCbWFXeHNQU0lqTURBd0lpOCtQSEJoZEdnZ1pEMGlUVEV3SURKRE5pNDRJRElnTXk0M0lEUXVNU0F5TGpZZ055NHhJREV1TkNBeE1DQXlMakVnTVRNdU5pQTBMalVnTVRVdU9HTXlMalFnTWk0MElEWXVOQ0F5TGprZ09TNDBJREV1TWlBeUxqVXRNUzQwSURRdU1pMDBMaklnTkM0eUxUY3RNUzR4SURBdE1pNHlJREF0TXk0eklEQWdNQzR4SURJdU1pMHhMamNnTkM0ekxUTXVPQ0EwTGpaRE9DNDNJREUxSURZdU5DQXhNeTQ0SURVdU55QXhNUzQzSURRdU9DQTVMamNnTlM0MklEY3VNU0EzTGpZZ05pQTRMak1nTlM0MklEa3VNU0ExTGpNZ01UQWdOUzR6WXpBdE1TNHhJREF0TWk0eUlEQXRNeTR6ZWlJZ2MzUjViR1U5SW1acGJHdzZJekF3TUR0dmNHRmphWFI1T2pBdU1pSXZQand2YzNablBnPT0pO1xcbiAgICAtd2Via2l0LWFuaW1hdGlvbjogcm90YXRlIDQwMG1zIGxpbmVhciBpbmZpbml0ZTtcXG4gICAgICAgLW1vei1hbmltYXRpb246IHJvdGF0ZSA0MDBtcyBsaW5lYXIgaW5maW5pdGU7XFxuICAgICAgICAtbXMtYW5pbWF0aW9uOiByb3RhdGUgNDAwbXMgbGluZWFyIGluZmluaXRlO1xcbiAgICAgICAgICAgIGFuaW1hdGlvbjogcm90YXRlIDQwMG1zIGxpbmVhciBpbmZpbml0ZTtcXG4gICAgfVxcblxcbi8qIEJhc2ljcyAqL1xcbi5tYXBib3hnbC1jdHJsLWRpcmVjdGlvbnMge1xcbiAgd2lkdGg6IDMzLjMzMzMzJTtcXG4gIG1pbi13aWR0aDogMzAwcHg7XFxuICBtYXgtd2lkdGg6IDMwMHB4O1xcbn1cXG4ubWFwYm94LWRpcmVjdGlvbnMtY29tcG9uZW50IHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuLm1hcGJveC1kaXJlY3Rpb25zLWNvbXBvbmVudCxcXG4ubWFwYm94LWRpcmVjdGlvbnMtY29tcG9uZW50ICosXFxuLm1hcGJveC1kaXJlY3Rpb25zLWNvbXBvbmVudCAqOmFmdGVyLFxcbi5tYXBib3gtZGlyZWN0aW9ucy1jb21wb25lbnQgKjpiZWZvcmUge1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOmJvcmRlci1ib3g7XFxuICAgICAtbW96LWJveC1zaXppbmc6Ym9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzpib3JkZXItYm94O1xcbiAgfVxcbi5tYXBib3gtZGlyZWN0aW9ucy1jb21wb25lbnQta2V5bGluZSB7XFxuICBib3gtc2hhZG93OjAgMCAwIDJweCByZ2JhKDAsMCwwLDAuMSk7XFxuICBib3JkZXItcmFkaXVzOjNweDtcXG4gIH1cXG5cXG4uZGlyZWN0aW9ucy1jb250cm9sIHtcXG4gIGZvbnQ6MTVweC8yMHB4ICdIZWx2ZXRpY2EgTmV1ZScsIEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxuICB9XFxuXFxuLyogTGF5b3V0IGNvbnRhaW5lcnMgKi9cXG4uZGlyZWN0aW9ucy1jb250cm9sIHtcXG4gIHdpZHRoOjEwMCU7XFxuICB6LWluZGV4OjE7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1jb250cm9sLmRpcmVjdGlvbnMtY29udHJvbC1kaXJlY3Rpb25zIHtcXG4gICAgYmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuNzUpO1xcbiAgICBtYXJnaW46IDdweCAwIDA7XFxuICAgIGNvbG9yOiNmZmY7XFxuICAgIHRvcDowO1xcbiAgICByaWdodDowO1xcbiAgICBib3R0b206MDtcXG4gICAgb3ZlcmZsb3c6YXV0bztcXG4gICAgb3ZlcmZsb3cteDpoaWRkZW47XFxuICAgIH1cXG4gIC5kaXJlY3Rpb25zLWNvbnRyb2wuZGlyZWN0aW9ucy1jb250cm9sLWlucHV0cyB7XFxuICAgIHRvcDoxMHB4O1xcbiAgICBsZWZ0OjEwcHg7XFxuICAgIH1cXG5cXG4vKiBJbnB1dHMgKi9cXG4ubWFwYm94LWRpcmVjdGlvbnMtb3JpZ2luLFxcbi5tYXBib3gtZGlyZWN0aW9ucy1kZXN0aW5hdGlvbiB7XFxuICBwb3NpdGlvbjpyZWxhdGl2ZTtcXG4gIH1cXG5cXG4ubWFwYm94LWZvcm0tbGFiZWwge1xcbiAgcG9zaXRpb246YWJzb2x1dGU7XFxuICB0b3A6MDtsZWZ0OjA7XFxuICBiYWNrZ3JvdW5kOiM4YThhY2I7XFxuICBjb2xvcjojZmZmO1xcbiAgcGFkZGluZzowO1xcbiAgd2lkdGg6NDBweDtcXG4gIGhlaWdodDo0MHB4O1xcbiAgdGV4dC1hbGlnbjpjZW50ZXI7XFxuICBsaW5lLWhlaWdodDozOHB4O1xcbiAgYm9yZGVyLXJhZGl1czowIDAgMCAzcHg7XFxuICB9XFxuICAubWFwYm94LWZvcm0tbGFiZWwgLmRpcmVjdGlvbnMtaWNvbiB7XFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG4gICAgd2lkdGg6IDQwcHg7XFxuICAgIGhlaWdodDogNDBweDtcXG4gICAgfVxcbiAgLm1hcGJveC1kaXJlY3Rpb25zLW9yaWdpbiAubWFwYm94LWZvcm0tbGFiZWwge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiMzYmIyZDA7XFxuICAgIGJvcmRlci1yYWRpdXM6M3B4IDAgMCAwO1xcbiAgICBib3gtc2hhZG93OjAgMXB4IDAgMCByZ2JhKDAsMCwwLDAuMSk7XFxuICAgIHotaW5kZXg6MTtcXG4gICAgfVxcblxcbi5kaXJlY3Rpb25zLXJldmVyc2Uge1xcbiAgcG9zaXRpb246YWJzb2x1dGU7XFxuICB6LWluZGV4OjEwO1xcbiAgYmFja2dyb3VuZDp3aGl0ZTtcXG4gIGxlZnQ6NDBweDtcXG4gIHRvcDozMHB4O1xcbiAgY3Vyc29yOnBvaW50ZXI7XFxuICB9XFxuXFxuLm1hcGJveC1kaXJlY3Rpb25zLWlucHV0cyBidXR0b24ge1xcbiAgcGFkZGluZzowO1xcbiAgbWFyZ2luOjA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7XFxuICBib3JkZXI6bm9uZTtcXG4gIGN1cnNvcjpwb2ludGVyO1xcbiAgfVxcbi5tYXBib3gtZGlyZWN0aW9ucy1pbnB1dHMgLmRpcmVjdGlvbnMtcGluLXJpZ2h0ICoge1xcbiAgYmFja2dyb3VuZC1jb2xvcjojZmZmO1xcbiAgei1pbmRleDoyO1xcbiAgcG9zaXRpb246YWJzb2x1dGU7XFxuICByaWdodDoxMHB4O1xcbiAgdG9wOjEwcHg7XFxuICBkaXNwbGF5Om5vbmU7XFxuICB9XFxuICAubWFwYm94LWRpcmVjdGlvbnMtaW5wdXRzIC5kaXJlY3Rpb25zLXBpbi1yaWdodCAqLmFjdGl2ZSB7IGRpc3BsYXk6YmxvY2s7IH1cXG5cXG4ubWFwYm94LWRpcmVjdGlvbnMtcHJvZmlsZSB7XFxuICBiYWNrZ3JvdW5kOiNmZmY7XFxuICBtYXJnaW46N3B4IDAgMDtcXG4gIHBhZGRpbmc6MnB4O1xcbiAgYm9yZGVyLXJhZGl1czoxNXB4O1xcbiAgdmVydGljYWwtYWxpZ246bWlkZGxlO1xcbiAgfVxcbiAgLm1hcGJveC1kaXJlY3Rpb25zLXByb2ZpbGUgbGFiZWwge1xcbiAgICBjdXJzb3I6cG9pbnRlcjtcXG4gICAgdmVydGljYWwtYWxpZ246dG9wO1xcbiAgICBkaXNwbGF5OmJsb2NrO1xcbiAgICBib3JkZXItcmFkaXVzOjE2cHg7XFxuICAgIHBhZGRpbmc6M3B4IDVweDtcXG4gICAgZm9udC1zaXplOjEycHg7XFxuICAgIGNvbG9yOnJnYmEoMCwwLDAsLjUpO1xcbiAgICBsaW5lLWhlaWdodDoyMHB4O1xcbiAgICB0ZXh0LWFsaWduOmNlbnRlcjtcXG4gICAgd2lkdGg6IDI1JTtcXG4gICAgZmxvYXQ6bGVmdDtcXG4gICAgfVxcbiAgICAubWFwYm94LWRpcmVjdGlvbnMtcHJvZmlsZSBsYWJlbDpob3ZlciB7XFxuICAgICAgY29sb3I6cmdiYSgwLDAsMCwuNzUpO1xcbiAgICAgIH1cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1wcm9maWxlIGlucHV0W3R5cGU9cmFkaW9dIHtcXG4gICAgZGlzcGxheTpub25lO1xcbiAgICB9XFxuICAubWFwYm94LWRpcmVjdGlvbnMtcHJvZmlsZSBpbnB1dFt0eXBlPXJhZGlvXTpjaGVja2VkICsgbGFiZWw6aG92ZXIsXFxuICAubWFwYm94LWRpcmVjdGlvbnMtcHJvZmlsZSBpbnB1dFt0eXBlPXJhZGlvXTpjaGVja2VkICsgbGFiZWwge1xcbiAgICBiYWNrZ3JvdW5kOiNlZWU7XFxuICAgIGNvbG9yOnJnYmEoMCwwLDAsLjc1KTtcXG4gICAgfVxcblxcbi8qIFJvdXRlcyAqL1xcbi5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZXMgdWwge1xcbiAgbGlzdC1zdHlsZTpub25lO1xcbiAgbWFyZ2luOjA7XFxuICBwYWRkaW5nOjEwcHggMTBweCAwIDEwcHg7XFxuICBib3JkZXItYm90dG9tOjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4yNSk7XFxuICB9XFxuXFxuLm1hcGJveC1kaXJlY3Rpb25zLXJvdXRlcyBsaSB7XFxuICBmb250LXNpemU6MTJweDtcXG4gIHBhZGRpbmc6MTBweCAxMHB4IDEwcHggODBweDtcXG4gIGRpc3BsYXk6YmxvY2s7XFxuICBwb3NpdGlvbjpyZWxhdGl2ZTtcXG4gIGN1cnNvcjpwb2ludGVyO1xcbiAgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuNSk7XFxuICBtaW4taGVpZ2h0OjYwcHg7XFxuICB9XFxuXFxuLm1hcGJveC1kaXJlY3Rpb25zLXJvdXRlcyBsaTpob3ZlcixcXG4ubWFwYm94LWRpcmVjdGlvbnMtcm91dGVzIC5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZS1hY3RpdmUge1xcbiAgY29sb3I6d2hpdGU7XFxuICB9XFxuXFxuLm1hcGJveC1kaXJlY3Rpb25zLXJvdXRlLWhlYWRpbmcge1xcbiAgcG9zaXRpb246YWJzb2x1dGU7XFxuICBsZWZ0OjEwcHg7XFxuICB0b3A6MTBweDtcXG4gIH1cXG5cXG4vKiBSb3V0ZSBTdW1tYXJ5ICovXFxuLm1hcGJveC1kaXJlY3Rpb25zLXJvdXRlLXN1bW1hcnkge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgei1pbmRleDoxO1xcbiAgd2lkdGg6MTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6cmdiYSgwLDAsMCwwLjc1KTtcXG4gIGNvbG9yOiNmZmY7XFxuICBwYWRkaW5nOjVweCAxMHB4O1xcbiAgZm9udC1zaXplOjE1cHg7XFxuICBsaW5lLWhlaWdodDoyOHB4O1xcbiAgfVxcbiAgLm1hcGJveC1kaXJlY3Rpb25zLXJvdXRlLXN1bW1hcnkgKyAubWFwYm94LWRpcmVjdGlvbnMtaW5zdHJ1Y3Rpb25zIHtcXG4gICAgfVxcbiAgLm1hcGJveC1kaXJlY3Rpb25zLXJvdXRlLXN1bW1hcnkgaDEge1xcbiAgICBmb250LXdlaWdodDo1MDA7XFxuICAgIG1hcmdpbjowO1xcbiAgICBkaXNwbGF5OmlubGluZTtcXG4gICAgZm9udC1zaXplOmluaGVyaXQ7XFxuICAgIGxpbmUtaGVpZ2h0OmluaGVyaXQ7XFxuICAgIH1cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZS1zdW1tYXJ5IHNwYW4ge1xcbiAgICBjb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LDAuNSk7XFxuICAgIG1hcmdpbjowIDVweDtcXG4gICAgfVxcblxcbiAgLyogQWx0IHJvdXRlIHNlbGVjdGlvbiAqL1xcbiAgLm1hcGJveC1kaXJlY3Rpb25zLWluc3RydWN0aW9ucyB7XFxuICAgICAgb3ZlcmZsb3c6IHNjcm9sbDtcXG4gICAgfVxcbiAgICAubWFwYm94LWRpcmVjdGlvbnMtaW5zdHJ1Y3Rpb25zLXdyYXBwZXIge1xcbiAgICAgIG1heC1oZWlnaHQ6IDUwdmg7XFxuICAgICAgfVxcbiAgLm1hcGJveC1kaXJlY3Rpb25zLXJvdXRlcyB7XFxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XFxuICAgIGZvbnQtc2l6ZToxMnB4O1xcbiAgICBmbG9hdDogcmlnaHQ7XFxuICAgIH1cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZXMgaW5wdXRbdHlwZT1yYWRpb10geyBkaXNwbGF5OiBub25lO31cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZXMgaW5wdXRbdHlwZT1yYWRpb106bm90KDpjaGVja2VkKSArIC5idXR0b246YmVmb3JlIHsgd2lkdGg6IDA7fVxcbiAgLm1hcGJveC1kaXJlY3Rpb25zLXJvdXRlcyBpbnB1dFt0eXBlPXJhZGlvXSArIGxhYmVsIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LDAuMTApO1xcbiAgICBmbG9hdDpsZWZ0O1xcbiAgICBwYWRkaW5nOjAgMTBweDtcXG4gICAgY3Vyc29yOnBvaW50ZXI7XFxuICAgIH1cXG4gICAgLm1hcGJveC1kaXJlY3Rpb25zLXJvdXRlcyBpbnB1dFt0eXBlPXJhZGlvXSArIGxhYmVsOmhvdmVyLFxcbiAgICAubWFwYm94LWRpcmVjdGlvbnMtcm91dGVzIGlucHV0W3R5cGU9cmFkaW9dOmNoZWNrZWQgKyBsYWJlbCB7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LDAuMjUpO1xcbiAgICAgIH1cXG5cXG4vKiBJbnN0cnVjdGlvbnMgKi9cXG4ubWFwYm94LWRpcmVjdGlvbnMtaW5zdHJ1Y3Rpb25zIC5kaXJlY3Rpb25zLWljb24ge1xcbiAgcG9zaXRpb246YWJzb2x1dGU7XFxuICBsZWZ0OjEycHg7XFxuICB0b3A6MjBweDtcXG4gIG1hcmdpbjphdXRvO1xcbiAgfVxcbiAgLm1hcGJveC1kaXJlY3Rpb25zLWluc3RydWN0aW9ucyAuZGlyZWN0aW9ucy1pY29uOmJlZm9yZSB7XFxuICAgIHZlcnRpY2FsLWFsaWduOnRvcDtcXG4gICAgfVxcblxcbi5tYXBib3gtZGlyZWN0aW9ucy1lcnJvciB7XFxuICBwYWRkaW5nOjIwcHg7XFxuICBmb250LXNpemU6MjBweDtcXG4gIGxpbmUtaGVpZ2h0OjI1cHg7XFxuICB9XFxuLm1hcGJveC1kaXJlY3Rpb25zLXN0ZXAtZGlzdGFuY2Uge1xcbiAgY29sb3I6cmdiYSgyNTUsMjU1LDI1NSwuNSk7XFxuICBwb3NpdGlvbjphYnNvbHV0ZTtcXG4gIHBhZGRpbmc6NXB4IDEwcHg7XFxuICBmb250LXNpemU6MTJweDtcXG4gIGxlZnQ6MzBweDtcXG4gIGJvdHRvbTotMTBweDtcXG4gIH1cXG4ubWFwYm94LWRpcmVjdGlvbnMtc3RlcHMge1xcbiAgcG9zaXRpb246cmVsYXRpdmU7XFxuICBsaXN0LXN0eWxlOm5vbmU7XFxuICBtYXJnaW46MDtcXG4gIHBhZGRpbmc6MDtcXG4gIH1cXG4gIC5tYXBib3gtZGlyZWN0aW9ucy1zdGVwIHtcXG4gICAgcG9zaXRpb246cmVsYXRpdmU7XFxuICAgIGNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsLjc1KTtcXG4gICAgY3Vyc29yOnBvaW50ZXI7XFxuICAgIHBhZGRpbmc6MjBweCAyMHB4IDIwcHggNDBweDtcXG4gICAgZm9udC1zaXplOjE0cHg7XFxuICAgIGxpbmUtaGVpZ2h0OjE4cHg7XFxuICAgIGZvbnQtd2VpZ2h0OiAzMDA7XFxuICAgIGxldHRlci1zcGFjaW5nOjAuMWVtO1xcbiAgICB9XFxuICAgIC5tYXBib3gtZGlyZWN0aW9ucy1zdGVwICogeyBwb2ludGVyLWV2ZW50czpub25lOyB9XFxuICAgIC5tYXBib3gtZGlyZWN0aW9ucy1zdGVwOmhvdmVyIHtcXG4gICAgICBjb2xvcjp3aGl0ZTtcXG4gICAgICB9XFxuICAgIC5tYXBib3gtZGlyZWN0aW9ucy1zdGVwOmFmdGVyIHtcXG4gICAgICBjb250ZW50OicnO1xcbiAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xcbiAgICAgIHRvcDo0NXB4O1xcbiAgICAgIGJvdHRvbTotMTBweDtcXG4gICAgICBib3JkZXItbGVmdDoycHggZG90dGVkIHJnYmEoMjU1LDI1NSwyNTUsLjIpO1xcbiAgICAgIGxlZnQ6MjBweDtcXG4gICAgICB9XFxuICAgIC5tYXBib3gtZGlyZWN0aW9ucy1zdGVwOmxhc3QtY2hpbGQ6YWZ0ZXIsXFxuICAgIC5tYXBib3gtZGlyZWN0aW9ucy1zdGVwOmxhc3QtY2hpbGQgLm1hcGJveC1kaXJlY3Rpb25zLXN0ZXAtZGlzdGFuY2Uge1xcbiAgICAgIGRpc3BsYXk6bm9uZTtcXG4gICAgICB9XFxuXFxuLm1hcGJveC1tYXJrZXItZHJhZy1pY29uIHtcXG4gIGRpc3BsYXk6YmxvY2s7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiM0NDQ7XFxuICBib3JkZXItcmFkaXVzOjUwJTtcXG4gIGJveC1zaGFkb3c6MCAwIDVweCAwIHJnYmEoMCwwLDAsMC41KTtcXG4gIH1cXG4gIC5tYXBib3gtbWFya2VyLWRyYWctaWNvbi1zdGVwIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjojM0JCMkQwO1xcbiAgICB9XFxuXFxuLm1hcGJveC1kaXJlY3Rpb25zLWNsZWFyZml4OmFmdGVyIHtcXG4gIGNvbnRlbnQ6Jyc7XFxuICBkaXNwbGF5OmJsb2NrO1xcbiAgaGVpZ2h0OjA7XFxuICBjbGVhcjpib3RoO1xcbiAgdmlzaWJpbGl0eTpoaWRkZW47XFxuICB9XFxuXFxuLyogTW9iaWxlICovXFxuQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjY0MHB4KSB7XFxuXFxuLyogQ29udGFpbmVycyAqL1xcbi5kaXJlY3Rpb25zLWNvbnRyb2wuZGlyZWN0aW9ucy1jb250cm9sIHsgd2lkdGg6MTAwJTsgbWF4LXdpZHRoOjEwMCU7IH1cXG5cXG4vKiBJbnB1dCBjb250YWluZXIgKi9cXG4uZGlyZWN0aW9ucy1jb250cm9sLmRpcmVjdGlvbnMtY29udHJvbC1pbnB1dHMgeyB0b3A6MDtsZWZ0OjA7IH1cXG4ubWFwYm94LWRpcmVjdGlvbnMtcHJvZmlsZSB7IG1hcmdpbjoxMHB4OyB9XFxuXFxuLyogSW5zdHJ1Y3Rpb25zIGNvbnRhaW5lciAqL1xcbi5tYXBib3gtZGlyZWN0aW9ucy1yb3V0ZXMgeyBmbG9hdDpyaWdodDsgbWFyZ2luLXJpZ2h0OjEwcHg7IH1cXG4uZGlyZWN0aW9ucy1jb250cm9sLmRpcmVjdGlvbnMtY29udHJvbC1kaXJlY3Rpb25zIHsgdG9wOmF1dG87IG1heC1oZWlnaHQ6NDAlOyB9XFxuLm1hcGJveC1kaXJlY3Rpb25zLW11bHRpcGxlIHsgbWluLWhlaWdodDo1MHB4OyB9XFxuXFxufVxcblxcbkAtd2Via2l0LWtleWZyYW1lcyByb3RhdGUgeyBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfSB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfSB9XFxuICAgQC1tb3ota2V5ZnJhbWVzIHJvdGF0ZSB7IGZyb20geyAtbW96LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9IHRvIHsgLW1vei10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9IH1cXG4gICAgQC1tcy1rZXlmcmFtZXMgcm90YXRlIHsgZnJvbSB7IC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsgfSB0byB7IC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOyB9IH1cXG4gICAgICAgIEBrZXlmcmFtZXMgcm90YXRlIHsgZnJvbSB7IHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOyB9IHRvIHsgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTsgfSB9XFxuXFxuLyogaWNvbnMgKi9cXG4uZGlyZWN0aW9ucy1pY29uIHtcXG4gIGRpc3BsYXk6aW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6MjBweDtcXG4gIGhlaWdodDoyMHB4O1xcbiAgdmVydGljYWwtYWxpZ246bWlkZGxlO1xcbiAgc3BlYWs6bm9uZTtcXG4gIGJhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtcXG4gIH1cXG4gIC5kaXJlY3Rpb25zLWljb24tYXJyaXZlIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjenB6ZG1jOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU1DSWdhR1ZwWjJoMFBTSXlNQ0lnYVdROUluTjJaelV6TWpjaUlIWmxjbk5wYjI0OUlqRXVNU0lnZG1sbGQwSnZlRDBpTUNBd0lESXdJREl3SWo0OFpHVm1jeUJwWkQwaVpHVm1jelV6TWpraUx6NDhiV1YwWVdSaGRHRWdhV1E5SW0xbGRHRmtZWFJoTlRNek1pSXZQanhuSUdsa1BTSnNZWGxsY2pFaUlIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLQzB6TWpBd0xDMDVPVEl1TXpZeU1UZ3BJajQ4WnlCcFpEMGlaelU1TXpZaUlIUnlZVzV6Wm05eWJUMGliV0YwY21sNEtERXNNQ3d3TEMweExERXNNakF3TkM0M01qUTBLU0lnYjNCaFkybDBlVDBpTUM0MUlpOCtQR2NnYVdROUltYzFPVE15SWlCMGNtRnVjMlp2Y20wOUluUnlZVzV6YkdGMFpTZ3hMQzB5S1NJdlBqeG5JSFJ5WVc1elptOXliVDBpYldGMGNtbDRLREVzTUN3d0xDMHhMREVzTWpBeU5DNDNNalEwS1NJZ2FXUTlJbWMyTURNNElpQm1hV3hzUFNJalptWm1JaTgrUEdjZ2FXUTlJblJsZUhRMk5qQTJJaUJ6ZEhsc1pUMGlMV2x1YTNOallYQmxMV1p2Ym5RdGMzQmxZMmxtYVdOaGRHbHZiam9uVDNCbGJpQlRZVzV6SUVKdmJHUW5PMkpzYjJOckxYQnliMmR5WlhOemFXOXVPblJpTzJOdmJHOXlPaU5HUmtZN1pHbHlaV04wYVc5dU9teDBjanRrYVhOd2JHRjVPbWx1YkdsdVpUdGxibUZpYkdVdFltRmphMmR5YjNWdVpEcGhZMk4xYlhWc1lYUmxPMlpwYkd3dGNuVnNaVHB1YjI1NlpYSnZPMlpwYkd3NkkwWkdSanRtYjI1MExXWmhiV2xzZVRvblQzQmxiaUJUWVc1ekp6dG1iMjUwTFhOcGVtVTZNVFl1T0RFN1ptOXVkQzEzWldsbmFIUTZZbTlzWkR0c1pYUjBaWEl0YzNCaFkybHVaenB1YjNKdFlXdzdiR2x1WlMxb1pXbG5hSFE2TVRJMU8yOTJaWEptYkc5M09uWnBjMmxpYkdVN2RHVjRkQzFoYkdsbmJqcGpaVzUwWlhJN2RHVjRkQzFoYm1Ob2IzSTZiV2xrWkd4bE8zUmxlSFF0WkdWamIzSmhkR2x2Ymkxc2FXNWxPbTV2Ym1VN2RHVjRkQzFrWldOdmNtRjBhVzl1T201dmJtVTdkR1Y0ZEMxcGJtUmxiblE2TUR0MFpYaDBMWFJ5WVc1elptOXliVHB1YjI1bE8zZHZjbVF0YzNCaFkybHVaenB1YjNKdFlXdzdkM0pwZEdsdVp5MXRiMlJsT214eUxYUmlJajQ4Y0dGMGFDQmtQU0p0TXpJd05pQTVPVFl1TXpZZ015NDNNeUF3Y1RJdU5UVWdNQ0F6TGpjZ01DNDNNeUF4TGpFMklEQXVOeklnTVM0eE5pQXlMak14SURBZ01TNHdPQzB3TGpVeElERXVOell0TUM0MUlEQXVOamt0TVM0ek5DQXdMamd6YkRBZ01DNHdPSEV4TGpFMElEQXVNalVnTVM0Mk5DQXdMamsxSURBdU5URWdNQzQzSURBdU5URWdNUzQ0TmlBd0lERXVOalF0TVM0eE9TQXlMalUyTFRFdU1UZ2dNQzQ1TWkwekxqSXlJREF1T1RKc0xUUXVORGtnTUNBd0xURXllbTB5TGpVMElEUXVOelVnTVM0ME9DQXdjVEV1TURNZ01DQXhMalE1TFRBdU16SWdNQzQwTnkwd0xqTXlJREF1TkRjdE1TNHdOaUF3TFRBdU5qa3RNQzQxTVMwd0xqazRMVEF1TlMwd0xqTXRNUzQxT1Mwd0xqTnNMVEV1TXpRZ01DQXdJREl1TmpkNmJUQWdNaTR3TWlBd0lETXVNVE1nTVM0Mk5pQXdjVEV1TURVZ01DQXhMalUxTFRBdU5DQXdMalV0TUM0MElEQXVOUzB4TGpJeklEQXRNUzQwT1MweUxqRXpMVEV1TkRsc0xURXVOVGdnTUhvaUlHbGtQU0p3WVhSb01qY3lNVElpTHo0OEwyYytQQzluUGp3dmMzWm5QZz09KTtcXG4gIH1cXG4gIC5kaXJlY3Rpb25zLWljb24tc2xpZ2h0LWxlZnQge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6cHpkbWM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TUNJZ2FHVnBaMmgwUFNJeU1DSWdkbVZ5YzJsdmJqMGlNUzR4SWlCMmFXVjNRbTk0UFNJd0lEQWdNakFnTWpBaVBqeG5JSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0Mwek1qQXdMQzA1T1RJdU16WXlNVGdwSWo0OGNHRjBhQ0JrUFNKdE16SXdOaUE1T1RZdU5DQXdJRGN1TlNBekxqRXRNeTR4SURJdU9TQXpJREFnTkM0MklESWdNQ0F3TFRVdU5DMHpMalV0TXk0MUlETXRNM29pSUdacGJHdzlJaU5HUmtZaUx6NDhaeUIwY21GdWMyWnZjbTA5SW0xaGRISnBlQ2d4TERBc01Dd3RNU3d4TERJd01EUXVOekkwTkNraUlHOXdZV05wZEhrOUlqQXVOU0l2UGp4bklIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLREVzTFRJcElpOCtQR2NnZEhKaGJuTm1iM0p0UFNKdFlYUnlhWGdvTVN3d0xEQXNMVEVzTVN3eU1ESTBMamN5TkRRcElpQm1hV3hzUFNJalptWm1JaTgrUEM5blBqd3ZjM1puUGc9PSk7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1pY29uLXNsaWdodC1yaWdodCB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3pwemRtYzlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlNQ0lnYUdWcFoyaDBQU0l5TUNJZ2RtVnljMmx2YmowaU1TNHhJaUIyYVdWM1FtOTRQU0l3SURBZ01qQWdNakFpUGp4bklIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLQzB6TWpBd0xDMDVPVEl1TXpZeU1UZ3BJajQ4Y0dGMGFDQmtQU0p0TXpJd05pNDFJRGs1Tmk0MElETWdNeTB6TGpVZ015NDFJREFnTlM0MElESWdNQ0F3TFRRdU5pQXlMamt0TXlBekxqRWdNeTR4SURBdE55NDFlaUlnWm1sc2JEMGlJMFpHUmlJdlBqeG5JSFJ5WVc1elptOXliVDBpYldGMGNtbDRLREVzTUN3d0xDMHhMREVzTWpBd05DNDNNalEwS1NJZ2IzQmhZMmwwZVQwaU1DNDFJaTgrUEdjZ2RISmhibk5tYjNKdFBTSjBjbUZ1YzJ4aGRHVW9NU3d0TWlraUx6NDhaeUIwY21GdWMyWnZjbTA5SW0xaGRISnBlQ2d4TERBc01Dd3RNU3d4TERJd01qUXVOekkwTkNraUlHWnBiR3c5SWlObVptWWlMejQ4TDJjK1BDOXpkbWMrKTtcXG4gICAgfVxcbiAgLmRpcmVjdGlvbnMtaWNvbi1zdHJhaWdodCB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3pwemRtYzlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlNQ0lnYUdWcFoyaDBQU0l5TUNJZ2RtVnljMmx2YmowaU1TNHhJaUIyYVdWM1FtOTRQU0l3SURBZ01qQWdNakFpUGp4bklIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLQzB6TWpBd0xDMDVPVEl1TXpZeU1UZ3BJajQ4Y0dGMGFDQmtQU0p0TXpJeE5TNDFJREV3TURFdU5DMDFMalV0TlM0MUxUVXVOU0ExTGpVZ05DNDFJREFnTUNBM0lESWdNQ0F3TFRkNklpQm1hV3hzUFNJalJrWkdJaTgrUEdjZ2RISmhibk5tYjNKdFBTSnRZWFJ5YVhnb01Td3dMREFzTFRFc01Td3lNREEwTGpjeU5EUXBJaUJ2Y0dGamFYUjVQU0l3TGpVaUx6NDhaeUIwY21GdWMyWnZjbTA5SW5SeVlXNXpiR0YwWlNneExDMHlLU0l2UGp4bklIUnlZVzV6Wm05eWJUMGliV0YwY21sNEtERXNNQ3d3TEMweExERXNNakF5TkM0M01qUTBLU0lnWm1sc2JEMGlJMlptWmlJdlBqeHdZWFJvSUdROUltMHpOREEzSURrME55NDBMVElnTmlBM0xqTWdNQzB5SURZZ01pQXdJRFF0TVRJdE1TNHlJREI2SWlCbWFXeHNQU0lqWm1abUlpOCtQQzluUGp3dmMzWm5QZz09KTtcXG4gIH1cXG4gIC5kaXJlY3Rpb25zLWljb24tZGVwYXJ0IHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjenB6ZG1jOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU1DSWdhR1ZwWjJoMFBTSXlNQ0lnYVdROUluTjJaelV6TWpjaUlIWmxjbk5wYjI0OUlqRXVNU0lnZG1sbGQwSnZlRDBpTUNBd0lESXdJREl3SWo0OFpHVm1jeUJwWkQwaVpHVm1jelV6TWpraUx6NDhiV1YwWVdSaGRHRWdhV1E5SW0xbGRHRmtZWFJoTlRNek1pSXZQanhuSUdsa1BTSnNZWGxsY2pFaUlIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLQzB6TWpBd0xDMDVPVEl1TXpZeU1UZ3BJajQ4WnlCcFpEMGlaelU1TXpZaUlIUnlZVzV6Wm05eWJUMGliV0YwY21sNEtERXNNQ3d3TEMweExERXNNakF3TkM0M01qUTBLU0lnYjNCaFkybDBlVDBpTUM0MUlpOCtQR2NnYVdROUltYzFPVE15SWlCMGNtRnVjMlp2Y20wOUluUnlZVzV6YkdGMFpTZ3hMQzB5S1NJdlBqeG5JSFJ5WVc1elptOXliVDBpYldGMGNtbDRLREVzTUN3d0xDMHhMREVzTWpBeU5DNDNNalEwS1NJZ2FXUTlJbWMyTURNNElpQm1hV3hzUFNJalptWm1JaTgrUEdjZ2FXUTlJblJsZUhRMk5Ua3pJaUJ6ZEhsc1pUMGlMV2x1YTNOallYQmxMV1p2Ym5RdGMzQmxZMmxtYVdOaGRHbHZiam9uVDNCbGJpQlRZVzV6SUVKdmJHUW5PMkpzYjJOckxYQnliMmR5WlhOemFXOXVPblJpTzJOdmJHOXlPaU5HUmtZN1pHbHlaV04wYVc5dU9teDBjanRrYVhOd2JHRjVPbWx1YkdsdVpUdGxibUZpYkdVdFltRmphMmR5YjNWdVpEcGhZMk4xYlhWc1lYUmxPMlpwYkd3dGNuVnNaVHB1YjI1NlpYSnZPMlpwYkd3NkkwWkdSanRtYjI1MExXWmhiV2xzZVRvblQzQmxiaUJUWVc1ekp6dG1iMjUwTFhOcGVtVTZNVFl1TnpRN1ptOXVkQzEzWldsbmFIUTZZbTlzWkR0c1pYUjBaWEl0YzNCaFkybHVaenB1YjNKdFlXdzdiR2x1WlMxb1pXbG5hSFE2TVRJMU8yOTJaWEptYkc5M09uWnBjMmxpYkdVN2RHVjRkQzFoYkdsbmJqcGpaVzUwWlhJN2RHVjRkQzFoYm1Ob2IzSTZiV2xrWkd4bE8zUmxlSFF0WkdWamIzSmhkR2x2Ymkxc2FXNWxPbTV2Ym1VN2RHVjRkQzFrWldOdmNtRjBhVzl1T201dmJtVTdkR1Y0ZEMxcGJtUmxiblE2TUR0MFpYaDBMWFJ5WVc1elptOXliVHB1YjI1bE8zZHZjbVF0YzNCaFkybHVaenB1YjNKdFlXdzdkM0pwZEdsdVp5MXRiMlJsT214eUxYUmlJajQ4Y0dGMGFDQmtQU0p0TXpJeE15NHdOQ0F4TURBNExqTTJMVEF1T0RjdE1pNDROQzAwTGpNMklEQXRNQzQ0TnlBeUxqZzBMVEl1TnpNZ01DQTBMakl5TFRFeUlETXVNU0F3SURRdU1qTWdNVEl0TWk0M015QXdlbTB0TVM0ME55MDBMamszY1MweExqSXRNeTQ0TnkweExqTTJMVFF1TXpjdE1DNHhOUzB3TGpVeExUQXVNakV0TUM0NExUQXVNamNnTVM0d05TMHhMalUwSURVdU1UZHNNeTR4TVNBd2VpSWdhV1E5SW5CaGRHZ3lOekl3T1NJdlBqd3ZaejQ4TDJjK1BDOXpkbWMrKTtcXG4gIH1cXG4gIC5kaXJlY3Rpb25zLWljb24tcm91bmRhYm91dCB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3pwemRtYzlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlNQ0lnYUdWcFoyaDBQU0l5TUNJZ2RtVnljMmx2YmowaU1TNHhJaUIyYVdWM1FtOTRQU0l3SURBZ01qQWdNakFpUGp4bklIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLQzB6TWpBd0xDMDVPVEl1TXpZeU1UZ3BJajQ4Y0dGMGFDQmtQU0p0TXpJeE1DQTVPVFV1TkdNdE1TNDFJREF0TXk0eElEQXVOaTAwTGpJZ01TNDNMVEl1TXlBeUxqTXRNaTR6SURZdU1pQXdJRGd1Tld3eExqUXRNUzQwWXkweExqWXRNUzQyTFRFdU5pMDBMakVnTUMwMUxqWWdNUzQyTFRFdU5pQTBMakV0TVM0MklEVXVOaUF3SURFdU5pQXhMallnTVM0MklEUXVNU0F3SURVdU5pMHdMamdnTUM0NExURXVPQ0F4TGpJdE1pNDRJREV1TW13dE1TQXdJREFnTkNBeUlEQWdNQzB5TGpGak1TNHlMVEF1TWlBeUxqUXRNQzQ0SURNdU15MHhMamNnTWk0ekxUSXVNeUF5TGpNdE5pNHlJREF0T0M0MUxURXVNaTB4TGpJdE1pNDNMVEV1TnkwMExqSXRNUzQzZWlJZ2MzUjViR1U5SWkxcGJtdHpZMkZ3WlMxbWIyNTBMWE53WldOcFptbGpZWFJwYjI0NlUyRnVjenRpWVhObGJHbHVaUzF6YUdsbWREcGlZWE5sYkdsdVpUdGliRzlqYXkxd2NtOW5jbVZ6YzJsdmJqcDBZanRrYVhKbFkzUnBiMjQ2YkhSeU8yWnBiR3c2STBaR1JqdG1iMjUwTFdaaGJXbHNlVHBUWVc1ek8yWnZiblF0YzJsNlpUcHRaV1JwZFcwN2JHVjBkR1Z5TFhOd1lXTnBibWM2Ym05eWJXRnNPMnhwYm1VdGFHVnBaMmgwT201dmNtMWhiRHQwWlhoMExXRnNhV2R1T25OMFlYSjBPM1JsZUhRdFlXNWphRzl5T25OMFlYSjBPM1JsZUhRdFpHVmpiM0poZEdsdmJpMXNhVzVsT201dmJtVTdkR1Y0ZEMxa1pXTnZjbUYwYVc5dU9tNXZibVU3ZEdWNGRDMXBibVJsYm5RNk1EdDBaWGgwTFhSeVlXNXpabTl5YlRwdWIyNWxPM2R2Y21RdGMzQmhZMmx1WnpwdWIzSnRZV3c3ZDNKcGRHbHVaeTF0YjJSbE9teHlMWFJpSWk4K1BHY2dkSEpoYm5ObWIzSnRQU0p0WVhSeWFYZ29NU3d3TERBc0xURXNNU3d5TURBMExqY3lORFFwSWlCdmNHRmphWFI1UFNJd0xqVWlMejQ4WnlCMGNtRnVjMlp2Y20wOUluUnlZVzV6YkdGMFpTZ3hMQzB5S1NJdlBqeG5JSFJ5WVc1elptOXliVDBpYldGMGNtbDRLREVzTUN3d0xDMHhMREVzTWpBeU5DNDNNalEwS1NJZ1ptbHNiRDBpSTJabVppSXZQand2Wno0OEwzTjJaejQ9KTtcXG4gIH1cXG4gIC5kaXJlY3Rpb25zLWljb24tZXJyb3Ige1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6cHpkbWM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TUNJZ2FHVnBaMmgwUFNJeU1DSWdkbVZ5YzJsdmJqMGlNUzR4SWlCMmFXVjNRbTk0UFNJd0lEQWdNakFnTWpBaVBqeG5JSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0Mwek1qQXdMQzA1T1RJdU16WXlNVGdwSWo0OFp5QjBjbUZ1YzJadmNtMDlJbTFoZEhKcGVDZ3hMREFzTUN3dE1Td3hMREl3TURRdU56STBOQ2tpSUc5d1lXTnBkSGs5SWpBdU5TSXZQanhuSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtERXNMVElwSWk4K1BHY2dkSEpoYm5ObWIzSnRQU0p0WVhSeWFYZ29NU3d3TERBc0xURXNNU3d5TURJMExqY3lORFFwSWlCbWFXeHNQU0lqWm1abUlpOCtQSEJoZEdnZ1pEMGliVE15TVRBZ09UazJMalJqTFRBdU5pQXdMVEV1TWlBd0xqTXRNUzQxSURBdU9Hd3ROQzR6SURrdU1tTXRNQzQxSURBdU9DQXdJRElnTVM0eElESnNOQzQzSURBZ05DNDNJREJqTVM0eElEQWdNUzQyTFRFdU1pQXhMakV0TW13dE5DNHpMVGt1TW1NdE1DNHpMVEF1TlMwd0xqa3RNQzQ0TFRFdU5TMHdMamg2YlRBZ015QXhJREVnTUNBekxUSWdNQ0F3TFRONmJTMHhJRFVnTWlBd0lEQWdNaTB5SURCNklpQm1hV3hzUFNJak1EQXdJaTgrUEM5blBqd3ZjM1puUGc9PSk7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1pY29uLXJldmVyc2Uge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6cHpkbWM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TUNJZ2FHVnBaMmgwUFNJeU1DSWdkbVZ5YzJsdmJqMGlNUzR4SWlCMmFXVjNRbTk0UFNJd0lEQWdNakFnTWpBaVBqeG5JSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0Mwek1qQXdMQzA1T1RJdU16WXlNVGdwSWo0OFp5QjBjbUZ1YzJadmNtMDlJbTFoZEhKcGVDZ3hMREFzTUN3dE1Td3hMREl3TURRdU56STBOQ2tpSUc5d1lXTnBkSGs5SWpBdU5TSXZQanhuSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtERXNMVElwSWk4K1BHY2dkSEpoYm5ObWIzSnRQU0p0WVhSeWFYZ29NU3d3TERBc0xURXNNU3d5TURJMExqY3lORFFwSWlCbWFXeHNQU0lqWm1abUlpOCtQSEJoZEdnZ1pEMGliVE15TVRBZ09UazFMamt0TkM0MUlEUXVOU0F6TGpVZ01DQXdJRFF0TXk0MUlEQWdOQzQxSURRdU5TQTBMalV0TkM0MUxUTXVOU0F3SURBdE5DQXpMalVnTUMwMExqVXROQzQxZWlJZ1ptbHNiRDBpSXpBd01DSXZQand2Wno0OEwzTjJaejQ9KTtcXG4gIH1cXG4gIC5kaXJlY3Rpb25zLWljb24tc2hhcnAtbGVmdCB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3pwemRtYzlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5Mekl3TURBdmMzWm5JaUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSGRwWkhSb1BTSXlNQ0lnYUdWcFoyaDBQU0l5TUNJZ2RtVnljMmx2YmowaU1TNHhJaUIyYVdWM1FtOTRQU0l3SURBZ01qQWdNakFpUGp4bklIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLQzB6TWpBd0xDMDVPVEl1TXpZeU1UZ3BJajQ4Y0dGMGFDQmtQU0p0TXpJeE15NDJJRGs1Tmk0MExUWXVOU0EyTGpVdE15MHpJREFnTnk0MUlEY3VOU0F3TFRNdU1TMHpMakVnTkM0MkxUUXVOU0F3SURVdU5pQXlJREFnTUMwNExURXVOQzB4ZWlJZ1ptbHNiRDBpSTBaR1JpSXZQanhuSUhSeVlXNXpabTl5YlQwaWJXRjBjbWw0S0RFc01Dd3dMQzB4TERFc01qQXdOQzQzTWpRMEtTSWdiM0JoWTJsMGVUMGlNQzQxSWk4K1BHY2dkSEpoYm5ObWIzSnRQU0owY21GdWMyeGhkR1VvTVN3dE1pa2lMejQ4WnlCMGNtRnVjMlp2Y20wOUltMWhkSEpwZUNneExEQXNNQ3d0TVN3eExESXdNalF1TnpJME5Da2lJR1pwYkd3OUlpTm1abVlpTHo0OEwyYytQQzl6ZG1jKyk7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1pY29uLXNoYXJwLXJpZ2h0IHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjenB6ZG1jOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU1DSWdhR1ZwWjJoMFBTSXlNQ0lnZG1WeWMybHZiajBpTVM0eElpQjJhV1YzUW05NFBTSXdJREFnTWpBZ01qQWlQanhuSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtDMHpNakF3TEMwNU9USXVNell5TVRncElqNDhjR0YwYUNCa1BTSnRNekl3Tmk0MElEazVOaTQwTFRFdU5DQXhJREFnT0NBeUlEQWdNQzAxTGpZZ05DNDJJRFF1TlMwekxqRWdNeTR4SURjdU5TQXdJREF0Tnk0MUxUTWdNeTAyTGpVdE5pNDFlaUlnWm1sc2JEMGlJMFpHUmlJdlBqeG5JSFJ5WVc1elptOXliVDBpYldGMGNtbDRLREVzTUN3d0xDMHhMREVzTWpBd05DNDNNalEwS1NJZ2IzQmhZMmwwZVQwaU1DNDFJaTgrUEdjZ2RISmhibk5tYjNKdFBTSjBjbUZ1YzJ4aGRHVW9NU3d0TWlraUx6NDhaeUIwY21GdWMyWnZjbTA5SW0xaGRISnBlQ2d4TERBc01Dd3RNU3d4TERJd01qUXVOekkwTkNraUlHWnBiR3c5SWlObVptWWlMejQ4Y0dGMGFDQmtQU0p0TXpRd055QTVORGN1TkMweUlEWWdOeTR6SURBdE1pQTJJRElnTUNBMExURXlMVEV1TWlBd2VpSWdabWxzYkQwaUkyWm1aaUl2UGp3dlp6NDhMM04yWno0PSk7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1pY29uLWxlZnQge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6cHpkbWM5SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjejBpYUhSMGNEb3ZMM2QzZHk1M015NXZjbWN2TWpBd01DOXpkbWNpSUhkcFpIUm9QU0l5TUNJZ2FHVnBaMmgwUFNJeU1DSWdkbVZ5YzJsdmJqMGlNUzR4SWlCMmFXVjNRbTk0UFNJd0lEQWdNakFnTWpBaVBqeG5JSFJ5WVc1elptOXliVDBpZEhKaGJuTnNZWFJsS0Mwek1qQXdMQzA1T1RJdU16WXlNVGdwSWo0OGNHRjBhQ0JrUFNKdE16SXdPU0E1T1RVdU9TQXdJRFF1TlNBMUlEQWdNU0F4SURBZ05pMHlJREFnTUMwMUxUUWdNQ0F3SURRdU5TMDFMalV0TlM0MWVpSWdjM1I1YkdVOUlpMXBibXR6WTJGd1pTMW1iMjUwTFhOd1pXTnBabWxqWVhScGIyNDZVMkZ1Y3p0aVlYTmxiR2x1WlMxemFHbG1kRHBpWVhObGJHbHVaVHRpYkc5amF5MXdjbTluY21WemMybHZianAwWWp0a2FYSmxZM1JwYjI0NmJIUnlPMlpwYkd3NkkwWkdSanRtYjI1MExXWmhiV2xzZVRwVFlXNXpPMlp2Ym5RdGMybDZaVHB0WldScGRXMDdiR1YwZEdWeUxYTndZV05wYm1jNmJtOXliV0ZzTzJ4cGJtVXRhR1ZwWjJoME9tNXZjbTFoYkR0MFpYaDBMV0ZzYVdkdU9uTjBZWEowTzNSbGVIUXRZVzVqYUc5eU9uTjBZWEowTzNSbGVIUXRaR1ZqYjNKaGRHbHZiaTFzYVc1bE9tNXZibVU3ZEdWNGRDMWtaV052Y21GMGFXOXVPbTV2Ym1VN2RHVjRkQzFwYm1SbGJuUTZNRHQwWlhoMExYUnlZVzV6Wm05eWJUcHViMjVsTzNkdmNtUXRjM0JoWTJsdVp6cHViM0p0WVd3N2QzSnBkR2x1WnkxdGIyUmxPbXh5TFhSaUlpOCtQR2NnZEhKaGJuTm1iM0p0UFNKdFlYUnlhWGdvTVN3d0xEQXNMVEVzTVN3eU1EQTBMamN5TkRRcElpQnZjR0ZqYVhSNVBTSXdMalVpTHo0OFp5QjBjbUZ1YzJadmNtMDlJblJ5WVc1emJHRjBaU2d4TEMweUtTSXZQanhuSUhSeVlXNXpabTl5YlQwaWJXRjBjbWw0S0RFc01Dd3dMQzB4TERFc01qQXlOQzQzTWpRMEtTSWdabWxzYkQwaUkyWm1aaUl2UGp3dlp6NDhMM04yWno0PSk7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1pY29uLXJpZ2h0IHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjenB6ZG1jOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU1DSWdhR1ZwWjJoMFBTSXlNQ0lnZG1WeWMybHZiajBpTVM0eElpQjJhV1YzUW05NFBTSXdJREFnTWpBZ01qQWlQanhuSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtDMHpNakF3TEMwNU9USXVNell5TVRncElqNDhjR0YwYUNCa1BTSnRNekl4TVNBNU9UVXVPU0F3SURRdU5TMDFJREF0TVNBeElEQWdOaUF5SURBZ01DMDFJRFFnTUNBd0lEUXVOU0ExTGpVdE5TNDFlaUlnYzNSNWJHVTlJaTFwYm10elkyRndaUzFtYjI1MExYTndaV05wWm1sallYUnBiMjQ2VTJGdWN6dGlZWE5sYkdsdVpTMXphR2xtZERwaVlYTmxiR2x1WlR0aWJHOWpheTF3Y205bmNtVnpjMmx2YmpwMFlqdGthWEpsWTNScGIyNDZiSFJ5TzJacGJHdzZJMFpHUmp0bWIyNTBMV1poYldsc2VUcFRZVzV6TzJadmJuUXRjMmw2WlRwdFpXUnBkVzA3YkdWMGRHVnlMWE53WVdOcGJtYzZibTl5YldGc08yeHBibVV0YUdWcFoyaDBPbTV2Y20xaGJEdDBaWGgwTFdGc2FXZHVPbk4wWVhKME8zUmxlSFF0WVc1amFHOXlPbk4wWVhKME8zUmxlSFF0WkdWamIzSmhkR2x2Ymkxc2FXNWxPbTV2Ym1VN2RHVjRkQzFrWldOdmNtRjBhVzl1T201dmJtVTdkR1Y0ZEMxcGJtUmxiblE2TUR0MFpYaDBMWFJ5WVc1elptOXliVHB1YjI1bE8zZHZjbVF0YzNCaFkybHVaenB1YjNKdFlXdzdkM0pwZEdsdVp5MXRiMlJsT214eUxYUmlJaTgrUEdjZ2RISmhibk5tYjNKdFBTSnRZWFJ5YVhnb01Td3dMREFzTFRFc01Td3lNREEwTGpjeU5EUXBJaUJ2Y0dGamFYUjVQU0l3TGpVaUx6NDhaeUIwY21GdWMyWnZjbTA5SW5SeVlXNXpiR0YwWlNneExDMHlLU0l2UGp4bklIUnlZVzV6Wm05eWJUMGliV0YwY21sNEtERXNNQ3d3TEMweExERXNNakF5TkM0M01qUTBLU0lnWm1sc2JEMGlJMlptWmlJdlBqeHdZWFJvSUdROUltMHpOREEzSURrME55NDBMVElnTmlBM0xqTWdNQzB5SURZZ01pQXdJRFF0TVRJdE1TNHlJREI2SWlCbWFXeHNQU0lqWm1abUlpOCtQQzluUGp3dmMzWm5QZz09KTtcXG4gIH1cXG4gIC5kaXJlY3Rpb25zLWljb24tdS10dXJuIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjenB6ZG1jOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU1DSWdhR1ZwWjJoMFBTSXlNQ0lnZG1WeWMybHZiajBpTVM0eElpQjJhV1YzUW05NFBTSXdJREFnTWpBZ01qQWlQanhuSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtDMHpNakF3TEMwNU9USXVNell5TVRncElqNDhjR0YwYUNCa1BTSnRNekl3T1NBNU9UWXVOR010TVM0M0lEQXRNeTR4SURBdU5pMHpMamtnTVM0MkxUQXVPQ0F4TFRFdU1TQXlMakl0TVM0eElETXVOR3d3SURZZ01pQXdJREF0Tm1Nd0xUQXVPQ0F3TGpJdE1TNDJJREF1TnkweUxqRWdNQzQwTFRBdU5TQXhMakV0TUM0NUlESXVNeTB3TGprZ01TNHpJREFnTVM0NUlEQXVOQ0F5TGpNZ01DNDVJREF1TkNBd0xqVWdNQzQzSURFdU15QXdMamNnTWk0eGJEQWdNaTAwTGpVZ01DQTFMalVnTlM0MUlEVXVOUzAxTGpVdE5DNDFJREFnTUMweVl6QXRNUzR5TFRBdU15MHlMalF0TVM0eExUTXVOQzB3TGpndE1TMHlMakl0TVM0MkxUTXVPUzB4TGpaNklpQnpkSGxzWlQwaUxXbHVhM05qWVhCbExXWnZiblF0YzNCbFkybG1hV05oZEdsdmJqcFRZVzV6TzJKaGMyVnNhVzVsTFhOb2FXWjBPbUpoYzJWc2FXNWxPMkpzYjJOckxYQnliMmR5WlhOemFXOXVPblJpTzJScGNtVmpkR2x2Ympwc2RISTdabWxzYkRvalJrWkdPMlp2Ym5RdFptRnRhV3g1T2xOaGJuTTdabTl1ZEMxemFYcGxPbTFsWkdsMWJUdHNaWFIwWlhJdGMzQmhZMmx1WnpwdWIzSnRZV3c3YkdsdVpTMW9aV2xuYUhRNmJtOXliV0ZzTzNSbGVIUXRZV3hwWjI0NmMzUmhjblE3ZEdWNGRDMWhibU5vYjNJNmMzUmhjblE3ZEdWNGRDMWtaV052Y21GMGFXOXVMV3hwYm1VNmJtOXVaVHQwWlhoMExXUmxZMjl5WVhScGIyNDZibTl1WlR0MFpYaDBMV2x1WkdWdWREb3dPM1JsZUhRdGRISmhibk5tYjNKdE9tNXZibVU3ZDI5eVpDMXpjR0ZqYVc1bk9tNXZjbTFoYkR0M2NtbDBhVzVuTFcxdlpHVTZiSEl0ZEdJaUx6NDhaeUIwY21GdWMyWnZjbTA5SW0xaGRISnBlQ2d4TERBc01Dd3RNU3d4TERJd01EUXVOekkwTkNraUlHOXdZV05wZEhrOUlqQXVOU0l2UGp4bklIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLREVzTFRJcElpOCtQR2NnZEhKaGJuTm1iM0p0UFNKdFlYUnlhWGdvTVN3d0xEQXNMVEVzTVN3eU1ESTBMamN5TkRRcElpQm1hV3hzUFNJalptWm1JaTgrUEM5blBqd3ZjM1puUGc9PSk7XFxuICB9XFxuICAuZGlyZWN0aW9ucy1pY29uLXdheXBvaW50IHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTp1cmwoZGF0YTppbWFnZS9zdmcreG1sO2Jhc2U2NCxQSE4yWnlCNGJXeHVjenB6ZG1jOUltaDBkSEE2THk5M2QzY3Vkek11YjNKbkx6SXdNREF2YzNabklpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU1DSWdhR1ZwWjJoMFBTSXlNQ0lnZG1WeWMybHZiajBpTVM0eElpQjJhV1YzUW05NFBTSXdJREFnTWpBZ01qQWlQanhuSUhSeVlXNXpabTl5YlQwaWRISmhibk5zWVhSbEtDMHpNakF3TEMwNU9USXVNell5TVRncElqNDhaeUIwY21GdWMyWnZjbTA5SW0xaGRISnBlQ2d4TERBc01Dd3RNU3d4TERJd01EUXVOekkwTkNraUlHOXdZV05wZEhrOUlqQXVOU0l2UGp4bklIUnlZVzV6Wm05eWJUMGlkSEpoYm5Oc1lYUmxLREVzTFRJcElpOCtQR2NnZEhKaGJuTm1iM0p0UFNKdFlYUnlhWGdvTVN3d0xEQXNMVEVzTVN3eU1ESTBMamN5TkRRcElpQm1hV3hzUFNJalptWm1JaTgrUEhCaGRHZ2daRDBpYlRNeU1UVWdNVEF3TVM0MFl6QWdNaTQ0TFRVZ09DMDFJRGdnTUNBd0xUVXROUzR5TFRVdE9DQXdMVEl1T0NBeUxqSXROU0ExTFRVZ01pNDRJREFnTlNBeUxqSWdOU0ExZWlJZ1ptbHNiRDBpSTBaR1JpSXZQand2Wno0OEwzTjJaejQ9KTtcXG4gIH1cXG5cIixcIlwiXSl9LGZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5sb2NhdGlvbjtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtpZighZXx8XCJzdHJpbmdcIiE9dHlwZW9mIGUpcmV0dXJuIGU7dmFyIG49dC5wcm90b2NvbCtcIi8vXCIrdC5ob3N0LGk9bit0LnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLyxcIi9cIik7cmV0dXJuIGUucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksKGZ1bmN0aW9uKGUsdCl7dmFyIHIsbz10LnRyaW0oKS5yZXBsYWNlKC9eXCIoLiopXCIkLywoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0pKS5yZXBsYWNlKC9eJyguKiknJC8sKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9KSk7cmV0dXJuL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdChvKT9lOihyPTA9PT1vLmluZGV4T2YoXCIvL1wiKT9vOjA9PT1vLmluZGV4T2YoXCIvXCIpP24rbzppK28ucmVwbGFjZSgvXlxcLlxcLy8sXCJcIiksXCJ1cmwoXCIrSlNPTi5zdHJpbmdpZnkocikrXCIpXCIpfSkpfX0sLGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmRlZmF1bHR9fSk7dmFyIHI9aShuKDE1MikpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciByPWkobigyKSksbz1pKG4oNCkpLGE9aShuKDEpKSxzPShpKG4oMykpLGkobig4KSkpLGw9aShuKDE1MykpLGM9aShuKDE3NCkpLHU9aShuKDE4MikpLGg9bigxNiksZD1pKG4oOSkpLHA9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e2NvbG9yOmUucGFsZXR0ZS50ZXh0LnNlY29uZGFyeX0sY2hlY2tlZDp7fSxkaXNhYmxlZDp7fSxjb2xvclByaW1hcnk6e1wiJiRjaGVja2VkXCI6e2NvbG9yOmUucGFsZXR0ZS5wcmltYXJ5Lm1haW59LFwiJiRkaXNhYmxlZFwiOntjb2xvcjplLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkfX0sY29sb3JTZWNvbmRhcnk6e1wiJiRjaGVja2VkXCI6e2NvbG9yOmUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbn0sXCImJGRpc2FibGVkXCI6e2NvbG9yOmUucGFsZXR0ZS5hY3Rpb24uZGlzYWJsZWR9fX19O3Quc3R5bGVzPXA7dmFyIGY9YS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoYy5kZWZhdWx0LG51bGwpLG09YS5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQodS5kZWZhdWx0LG51bGwpO2Z1bmN0aW9uIGcoZSl7dmFyIHQ9ZS5jbGFzc2VzLG49ZS5jb2xvcixpPSgwLG8uZGVmYXVsdCkoZSxbXCJjbGFzc2VzXCIsXCJjb2xvclwiXSk7cmV0dXJuIGEuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGwuZGVmYXVsdCwoMCxyLmRlZmF1bHQpKHt0eXBlOlwicmFkaW9cIixpY29uOmYsY2hlY2tlZEljb246bSxjbGFzc2VzOntyb290OigwLHMuZGVmYXVsdCkodC5yb290LHRbXCJjb2xvclwiLmNvbmNhdCgoMCxoLmNhcGl0YWxpemUpKG4pKV0pLGNoZWNrZWQ6dC5jaGVja2VkLGRpc2FibGVkOnQuZGlzYWJsZWR9fSxpKSl9Zy5kZWZhdWx0UHJvcHM9e2NvbG9yOlwic2Vjb25kYXJ5XCJ9O3ZhciB5PSgwLGQuZGVmYXVsdCkocCx7bmFtZTpcIk11aVJhZGlvXCJ9KShnKTt0LmRlZmF1bHQ9eX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDUpKSxhPWkobig0KSkscz1pKG4oMTApKSxsPWkobigxMSkpLGM9aShuKDEyKSksdT1pKG4oMTMpKSxoPWkobigxNCkpLGQ9aShuKDEpKSxwPShpKG4oMykpLGkobig4KSkpLGY9aShuKDM5KSksbT1pKG4oOSkpLGc9aShuKDE1NCkpLHk9e3Jvb3Q6e2Rpc3BsYXk6XCJpbmxpbmUtZmxleFwiLGFsaWduSXRlbXM6XCJjZW50ZXJcIix0cmFuc2l0aW9uOlwibm9uZVwiLFwiJjpob3ZlclwiOntiYWNrZ3JvdW5kQ29sb3I6XCJ0cmFuc3BhcmVudFwifX0sY2hlY2tlZDp7fSxkaXNhYmxlZDp7fSxpbnB1dDp7Y3Vyc29yOlwiaW5oZXJpdFwiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIixvcGFjaXR5OjAsd2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwiLHRvcDowLGxlZnQ6MCxtYXJnaW46MCxwYWRkaW5nOjB9fTt0LnN0eWxlcz15O3ZhciBfPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7dmFyIG47cmV0dXJuKDAscy5kZWZhdWx0KSh0aGlzLHQpLChuPSgwLGMuZGVmYXVsdCkodGhpcywoMCx1LmRlZmF1bHQpKHQpLmNhbGwodGhpcykpKS5oYW5kbGVGb2N1cz1mdW5jdGlvbihlKXtuLnByb3BzLm9uRm9jdXMmJm4ucHJvcHMub25Gb2N1cyhlKTt2YXIgdD1uLnByb3BzLm11aUZvcm1Db250cm9sO3QmJnQub25Gb2N1cyYmdC5vbkZvY3VzKGUpfSxuLmhhbmRsZUJsdXI9ZnVuY3Rpb24oZSl7bi5wcm9wcy5vbkJsdXImJm4ucHJvcHMub25CbHVyKGUpO3ZhciB0PW4ucHJvcHMubXVpRm9ybUNvbnRyb2w7dCYmdC5vbkJsdXImJnQub25CbHVyKGUpfSxuLmhhbmRsZUlucHV0Q2hhbmdlPWZ1bmN0aW9uKGUpe3ZhciB0PWUudGFyZ2V0LmNoZWNrZWQ7bi5pc0NvbnRyb2xsZWR8fG4uc2V0U3RhdGUoe2NoZWNrZWQ6dH0pLG4ucHJvcHMub25DaGFuZ2UmJm4ucHJvcHMub25DaGFuZ2UoZSx0KX0sbi5pc0NvbnRyb2xsZWQ9bnVsbCE9ZS5jaGVja2VkLG4uc3RhdGU9e30sbi5pc0NvbnRyb2xsZWR8fChuLnN0YXRlLmNoZWNrZWQ9dm9pZCAwIT09ZS5kZWZhdWx0Q2hlY2tlZCYmZS5kZWZhdWx0Q2hlY2tlZCksbn1yZXR1cm4oMCxoLmRlZmF1bHQpKHQsZSksKDAsbC5kZWZhdWx0KSh0LFt7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMucHJvcHMsbj10LmF1dG9Gb2N1cyxpPXQuY2hlY2tlZCxzPXQuY2hlY2tlZEljb24sbD10LmNsYXNzZXMsYz10LmNsYXNzTmFtZSx1PXQuZGVmYXVsdENoZWNrZWQsaD10LmRpc2FibGVkLGY9dC5pY29uLG09dC5pZCx5PXQuaW5wdXRQcm9wcyxfPXQuaW5wdXRSZWYsdj10Lm11aUZvcm1Db250cm9sLHg9dC5uYW1lLGI9KHQub25CbHVyLHQub25DaGFuZ2UsdC5vbkZvY3VzLHQucmVhZE9ubHkpLHc9dC5yZXF1aXJlZCxUPXQudGFiSW5kZXgsRT10LnR5cGUsUz10LnZhbHVlLE09KDAsYS5kZWZhdWx0KSh0LFtcImF1dG9Gb2N1c1wiLFwiY2hlY2tlZFwiLFwiY2hlY2tlZEljb25cIixcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiZGVmYXVsdENoZWNrZWRcIixcImRpc2FibGVkXCIsXCJpY29uXCIsXCJpZFwiLFwiaW5wdXRQcm9wc1wiLFwiaW5wdXRSZWZcIixcIm11aUZvcm1Db250cm9sXCIsXCJuYW1lXCIsXCJvbkJsdXJcIixcIm9uQ2hhbmdlXCIsXCJvbkZvY3VzXCIsXCJyZWFkT25seVwiLFwicmVxdWlyZWRcIixcInRhYkluZGV4XCIsXCJ0eXBlXCIsXCJ2YWx1ZVwiXSksST1oO3YmJnZvaWQgMD09PUkmJihJPXYuZGlzYWJsZWQpO3ZhciBDPXRoaXMuaXNDb250cm9sbGVkP2k6dGhpcy5zdGF0ZS5jaGVja2VkLGs9XCJjaGVja2JveFwiPT09RXx8XCJyYWRpb1wiPT09RTtyZXR1cm4gZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoZy5kZWZhdWx0LCgwLHIuZGVmYXVsdCkoe2NvbXBvbmVudDpcInNwYW5cIixjbGFzc05hbWU6KDAscC5kZWZhdWx0KShsLnJvb3QsKGU9e30sKDAsby5kZWZhdWx0KShlLGwuY2hlY2tlZCxDKSwoMCxvLmRlZmF1bHQpKGUsbC5kaXNhYmxlZCxJKSxlKSxjKSxkaXNhYmxlZDpJLHRhYkluZGV4Om51bGwscm9sZTp2b2lkIDAsb25Gb2N1czp0aGlzLmhhbmRsZUZvY3VzLG9uQmx1cjp0aGlzLmhhbmRsZUJsdXJ9LE0pLEM/czpmLGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwoMCxyLmRlZmF1bHQpKHthdXRvRm9jdXM6bixjaGVja2VkOmksZGVmYXVsdENoZWNrZWQ6dSxjbGFzc05hbWU6bC5pbnB1dCxkaXNhYmxlZDpJLGlkOmsmJm0sbmFtZTp4LG9uQ2hhbmdlOnRoaXMuaGFuZGxlSW5wdXRDaGFuZ2UscmVhZE9ubHk6YixyZWY6XyxyZXF1aXJlZDp3LHRhYkluZGV4OlQsdHlwZTpFLHZhbHVlOlN9LHkpKSl9fV0pLHR9KGQuZGVmYXVsdC5Db21wb25lbnQpLHY9KDAsbS5kZWZhdWx0KSh5LHtuYW1lOlwiTXVpUHJpdmF0ZVN3aXRjaEJhc2VcIn0pKCgwLGYuZGVmYXVsdCkoXykpO3QuZGVmYXVsdD12fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5kZWZhdWx0fX0pO3ZhciByPWkobigxNTUpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXQuc3R5bGVzPXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDUpKSxhPWkobig0KSkscz1pKG4oMSkpLGw9KGkobigzKSksaShuKDgpKSksYz0obig3KSxpKG4oOSkpKSx1PW4oNDQpLGg9aShuKDE1NikpLGQ9bigxNikscD1mdW5jdGlvbihlKXtyZXR1cm57cm9vdDp7dGV4dEFsaWduOlwiY2VudGVyXCIsZmxleDpcIjAgMCBhdXRvXCIsZm9udFNpemU6ZS50eXBvZ3JhcGh5LnB4VG9SZW0oMjQpLHBhZGRpbmc6MTIsYm9yZGVyUmFkaXVzOlwiNTAlXCIsb3ZlcmZsb3c6XCJ2aXNpYmxlXCIsY29sb3I6ZS5wYWxldHRlLmFjdGlvbi5hY3RpdmUsdHJhbnNpdGlvbjplLnRyYW5zaXRpb25zLmNyZWF0ZShcImJhY2tncm91bmQtY29sb3JcIix7ZHVyYXRpb246ZS50cmFuc2l0aW9ucy5kdXJhdGlvbi5zaG9ydGVzdH0pLFwiJjpob3ZlclwiOntiYWNrZ3JvdW5kQ29sb3I6KDAsdS5mYWRlKShlLnBhbGV0dGUuYWN0aW9uLmFjdGl2ZSxlLnBhbGV0dGUuYWN0aW9uLmhvdmVyT3BhY2l0eSksXCJAbWVkaWEgKGhvdmVyOiBub25lKVwiOntiYWNrZ3JvdW5kQ29sb3I6XCJ0cmFuc3BhcmVudFwifSxcIiYkZGlzYWJsZWRcIjp7YmFja2dyb3VuZENvbG9yOlwidHJhbnNwYXJlbnRcIn19LFwiJiRkaXNhYmxlZFwiOntjb2xvcjplLnBhbGV0dGUuYWN0aW9uLmRpc2FibGVkfX0sY29sb3JJbmhlcml0Ontjb2xvcjpcImluaGVyaXRcIn0sY29sb3JQcmltYXJ5Ontjb2xvcjplLnBhbGV0dGUucHJpbWFyeS5tYWluLFwiJjpob3ZlclwiOntiYWNrZ3JvdW5kQ29sb3I6KDAsdS5mYWRlKShlLnBhbGV0dGUucHJpbWFyeS5tYWluLGUucGFsZXR0ZS5hY3Rpb24uaG92ZXJPcGFjaXR5KSxcIkBtZWRpYSAoaG92ZXI6IG5vbmUpXCI6e2JhY2tncm91bmRDb2xvcjpcInRyYW5zcGFyZW50XCJ9fX0sY29sb3JTZWNvbmRhcnk6e2NvbG9yOmUucGFsZXR0ZS5zZWNvbmRhcnkubWFpbixcIiY6aG92ZXJcIjp7YmFja2dyb3VuZENvbG9yOigwLHUuZmFkZSkoZS5wYWxldHRlLnNlY29uZGFyeS5tYWluLGUucGFsZXR0ZS5hY3Rpb24uaG92ZXJPcGFjaXR5KSxcIkBtZWRpYSAoaG92ZXI6IG5vbmUpXCI6e2JhY2tncm91bmRDb2xvcjpcInRyYW5zcGFyZW50XCJ9fX0sZGlzYWJsZWQ6e30sbGFiZWw6e3dpZHRoOlwiMTAwJVwiLGRpc3BsYXk6XCJmbGV4XCIsYWxpZ25JdGVtczpcImluaGVyaXRcIixqdXN0aWZ5Q29udGVudDpcImluaGVyaXRcIn19fTtmdW5jdGlvbiBmKGUpe3ZhciB0LG49ZS5jaGlsZHJlbixpPWUuY2xhc3NlcyxjPWUuY2xhc3NOYW1lLHU9ZS5jb2xvcixwPWUuZGlzYWJsZWQsZj0oMCxhLmRlZmF1bHQpKGUsW1wiY2hpbGRyZW5cIixcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiY29sb3JcIixcImRpc2FibGVkXCJdKTtyZXR1cm4gcy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoaC5kZWZhdWx0LCgwLHIuZGVmYXVsdCkoe2NsYXNzTmFtZTooMCxsLmRlZmF1bHQpKGkucm9vdCwodD17fSwoMCxvLmRlZmF1bHQpKHQsaVtcImNvbG9yXCIuY29uY2F0KCgwLGQuY2FwaXRhbGl6ZSkodSkpXSxcImRlZmF1bHRcIiE9PXUpLCgwLG8uZGVmYXVsdCkodCxpLmRpc2FibGVkLHApLHQpLGMpLGNlbnRlclJpcHBsZTohMCxmb2N1c1JpcHBsZTohMCxkaXNhYmxlZDpwfSxmKSxzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIix7Y2xhc3NOYW1lOmkubGFiZWx9LG4pKX10LnN0eWxlcz1wLGYuZGVmYXVsdFByb3BzPXtjb2xvcjpcImRlZmF1bHRcIixkaXNhYmxlZDohMX07dmFyIG09KDAsYy5kZWZhdWx0KShwLHtuYW1lOlwiTXVpSWNvbkJ1dHRvblwifSkoZik7dC5kZWZhdWx0PW19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmRlZmF1bHR9fSk7dmFyIHI9aShuKDE1NykpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciByPWkobigyKSksbz1pKG4oNSkpLGE9aShuKDQpKSxzPWkobigxMCkpLGw9aShuKDExKSksYz1pKG4oMTIpKSx1PWkobigxMykpLGg9aShuKDE0KSksZD1pKG4oMzMpKSxwPWkobigxKSksZj0oaShuKDMpKSxpKG4oMTkpKSksbT1pKG4oOCkpLGc9KG4oNyksaShuKDE1OCkpKSx5PWkobig5KSksXz1pKG4oMTU5KSksdj1uKDE2MSkseD1pKG4oMTYyKSksYj1pKG4oMTczKSksdz17cm9vdDp7ZGlzcGxheTpcImlubGluZS1mbGV4XCIsYWxpZ25JdGVtczpcImNlbnRlclwiLGp1c3RpZnlDb250ZW50OlwiY2VudGVyXCIscG9zaXRpb246XCJyZWxhdGl2ZVwiLFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOlwidHJhbnNwYXJlbnRcIixiYWNrZ3JvdW5kQ29sb3I6XCJ0cmFuc3BhcmVudFwiLG91dGxpbmU6XCJub25lXCIsYm9yZGVyOjAsbWFyZ2luOjAsYm9yZGVyUmFkaXVzOjAscGFkZGluZzowLGN1cnNvcjpcInBvaW50ZXJcIix1c2VyU2VsZWN0Olwibm9uZVwiLHZlcnRpY2FsQWxpZ246XCJtaWRkbGVcIixcIi1tb3otYXBwZWFyYW5jZVwiOlwibm9uZVwiLFwiLXdlYmtpdC1hcHBlYXJhbmNlXCI6XCJub25lXCIsdGV4dERlY29yYXRpb246XCJub25lXCIsY29sb3I6XCJpbmhlcml0XCIsXCImOjotbW96LWZvY3VzLWlubmVyXCI6e2JvcmRlclN0eWxlOlwibm9uZVwifSxcIiYkZGlzYWJsZWRcIjp7cG9pbnRlckV2ZW50czpcIm5vbmVcIixjdXJzb3I6XCJkZWZhdWx0XCJ9fSxkaXNhYmxlZDp7fSxmb2N1c1Zpc2libGU6e319O3Quc3R5bGVzPXc7dmFyIFQ9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG47KDAscy5kZWZhdWx0KSh0aGlzLHQpO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KGkpLG89MDtvPGk7bysrKXJbb109YXJndW1lbnRzW29dO3JldHVybihuPSgwLGMuZGVmYXVsdCkodGhpcywoZT0oMCx1LmRlZmF1bHQpKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChyKSkpKS5zdGF0ZT17fSxuLmtleURvd249ITEsbi5mb2N1c1Zpc2libGVDaGVja1RpbWU9NTAsbi5mb2N1c1Zpc2libGVNYXhDaGVja1RpbWVzPTUsbi5oYW5kbGVNb3VzZURvd249KDAsYi5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkobikpLFwiTW91c2VEb3duXCIsXCJzdGFydFwiLChmdW5jdGlvbigpe2NsZWFyVGltZW91dChuLmZvY3VzVmlzaWJsZVRpbWVvdXQpLG4uc3RhdGUuZm9jdXNWaXNpYmxlJiZuLnNldFN0YXRlKHtmb2N1c1Zpc2libGU6ITF9KX0pKSxuLmhhbmRsZU1vdXNlVXA9KDAsYi5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkobikpLFwiTW91c2VVcFwiLFwic3RvcFwiKSxuLmhhbmRsZU1vdXNlTGVhdmU9KDAsYi5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkobikpLFwiTW91c2VMZWF2ZVwiLFwic3RvcFwiLChmdW5jdGlvbihlKXtuLnN0YXRlLmZvY3VzVmlzaWJsZSYmZS5wcmV2ZW50RGVmYXVsdCgpfSkpLG4uaGFuZGxlVG91Y2hTdGFydD0oMCxiLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShuKSksXCJUb3VjaFN0YXJ0XCIsXCJzdGFydFwiKSxuLmhhbmRsZVRvdWNoRW5kPSgwLGIuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKG4pKSxcIlRvdWNoRW5kXCIsXCJzdG9wXCIpLG4uaGFuZGxlVG91Y2hNb3ZlPSgwLGIuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKG4pKSxcIlRvdWNoTW92ZVwiLFwic3RvcFwiKSxuLmhhbmRsZUNvbnRleHRNZW51PSgwLGIuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKG4pKSxcIkNvbnRleHRNZW51XCIsXCJzdG9wXCIpLG4uaGFuZGxlQmx1cj0oMCxiLmRlZmF1bHQpKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShuKSksXCJCbHVyXCIsXCJzdG9wXCIsKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KG4uZm9jdXNWaXNpYmxlVGltZW91dCksbi5zdGF0ZS5mb2N1c1Zpc2libGUmJm4uc2V0U3RhdGUoe2ZvY3VzVmlzaWJsZTohMX0pfSkpLG4ub25SaXBwbGVSZWY9ZnVuY3Rpb24oZSl7bi5yaXBwbGU9ZX0sbi5vbkZvY3VzVmlzaWJsZUhhbmRsZXI9ZnVuY3Rpb24oZSl7bi5rZXlEb3duPSExLG4uc2V0U3RhdGUoe2ZvY3VzVmlzaWJsZTohMH0pLG4ucHJvcHMub25Gb2N1c1Zpc2libGUmJm4ucHJvcHMub25Gb2N1c1Zpc2libGUoZSl9LG4uaGFuZGxlS2V5RG93bj1mdW5jdGlvbihlKXt2YXIgdD1uLnByb3BzLGk9dC5jb21wb25lbnQscj10LmZvY3VzUmlwcGxlLG89dC5vbktleURvd24sYT10Lm9uQ2xpY2s7ciYmIW4ua2V5RG93biYmbi5zdGF0ZS5mb2N1c1Zpc2libGUmJm4ucmlwcGxlJiZcIiBcIj09PWUua2V5JiYobi5rZXlEb3duPSEwLGUucGVyc2lzdCgpLG4ucmlwcGxlLnN0b3AoZSwoZnVuY3Rpb24oKXtuLnJpcHBsZS5zdGFydChlKX0pKSksbyYmbyhlKSxlLnRhcmdldCE9PWUuY3VycmVudFRhcmdldHx8IWl8fFwiYnV0dG9uXCI9PT1pfHxcIiBcIiE9PWUua2V5JiZcIkVudGVyXCIhPT1lLmtleXx8XCJBXCI9PT1uLmJ1dHRvbi50YWdOYW1lJiZuLmJ1dHRvbi5ocmVmfHwoZS5wcmV2ZW50RGVmYXVsdCgpLGEmJmEoZSkpfSxuLmhhbmRsZUtleVVwPWZ1bmN0aW9uKGUpe24ucHJvcHMuZm9jdXNSaXBwbGUmJlwiIFwiPT09ZS5rZXkmJm4ucmlwcGxlJiZuLnN0YXRlLmZvY3VzVmlzaWJsZSYmKG4ua2V5RG93bj0hMSxlLnBlcnNpc3QoKSxuLnJpcHBsZS5zdG9wKGUsKGZ1bmN0aW9uKCl7bi5yaXBwbGUucHVsc2F0ZShlKX0pKSksbi5wcm9wcy5vbktleVVwJiZuLnByb3BzLm9uS2V5VXAoZSl9LG4uaGFuZGxlRm9jdXM9ZnVuY3Rpb24oZSl7bi5wcm9wcy5kaXNhYmxlZHx8KG4uYnV0dG9ufHwobi5idXR0b249ZS5jdXJyZW50VGFyZ2V0KSxlLnBlcnNpc3QoKSwoMCx2LmRldGVjdEZvY3VzVmlzaWJsZSkoKDAsZC5kZWZhdWx0KSgoMCxkLmRlZmF1bHQpKG4pKSxuLmJ1dHRvbiwoZnVuY3Rpb24oKXtuLm9uRm9jdXNWaXNpYmxlSGFuZGxlcihlKX0pKSxuLnByb3BzLm9uRm9jdXMmJm4ucHJvcHMub25Gb2N1cyhlKSl9LG59cmV0dXJuKDAsaC5kZWZhdWx0KSh0LGUpLCgwLGwuZGVmYXVsdCkodCxbe2tleTpcImNvbXBvbmVudERpZE1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMuYnV0dG9uPWYuZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKSwoMCx2Lmxpc3RlbkZvckZvY3VzS2V5cykoKDAsZy5kZWZhdWx0KSh0aGlzLmJ1dHRvbikpLHRoaXMucHJvcHMuYWN0aW9uJiZ0aGlzLnByb3BzLmFjdGlvbih7Zm9jdXNWaXNpYmxlOmZ1bmN0aW9uKCl7ZS5zZXRTdGF0ZSh7Zm9jdXNWaXNpYmxlOiEwfSksZS5idXR0b24uZm9jdXMoKX19KX19LHtrZXk6XCJjb21wb25lbnREaWRVcGRhdGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMucHJvcHMuZm9jdXNSaXBwbGUmJiF0aGlzLnByb3BzLmRpc2FibGVSaXBwbGUmJiF0LmZvY3VzVmlzaWJsZSYmdGhpcy5zdGF0ZS5mb2N1c1Zpc2libGUmJnRoaXMucmlwcGxlLnB1bHNhdGUoKX19LHtrZXk6XCJjb21wb25lbnRXaWxsVW5tb3VudFwiLHZhbHVlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuZm9jdXNWaXNpYmxlVGltZW91dCl9fSx7a2V5OlwicmVuZGVyXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMucHJvcHMsbj0odC5hY3Rpb24sdC5idXR0b25SZWYpLGk9dC5jZW50ZXJSaXBwbGUscz10LmNoaWxkcmVuLGw9dC5jbGFzc2VzLGM9dC5jbGFzc05hbWUsdT10LmNvbXBvbmVudCxoPXQuZGlzYWJsZWQsZD10LmRpc2FibGVSaXBwbGUsZj0odC5kaXNhYmxlVG91Y2hSaXBwbGUsdC5mb2N1c1JpcHBsZSx0LmZvY3VzVmlzaWJsZUNsYXNzTmFtZSksZz0odC5vbkJsdXIsdC5vbkZvY3VzLHQub25Gb2N1c1Zpc2libGUsdC5vbktleURvd24sdC5vbktleVVwLHQub25Nb3VzZURvd24sdC5vbk1vdXNlTGVhdmUsdC5vbk1vdXNlVXAsdC5vblRvdWNoRW5kLHQub25Ub3VjaE1vdmUsdC5vblRvdWNoU3RhcnQsdC50YWJJbmRleCkseT10LlRvdWNoUmlwcGxlUHJvcHMsdj10LnR5cGUsYj0oMCxhLmRlZmF1bHQpKHQsW1wiYWN0aW9uXCIsXCJidXR0b25SZWZcIixcImNlbnRlclJpcHBsZVwiLFwiY2hpbGRyZW5cIixcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiY29tcG9uZW50XCIsXCJkaXNhYmxlZFwiLFwiZGlzYWJsZVJpcHBsZVwiLFwiZGlzYWJsZVRvdWNoUmlwcGxlXCIsXCJmb2N1c1JpcHBsZVwiLFwiZm9jdXNWaXNpYmxlQ2xhc3NOYW1lXCIsXCJvbkJsdXJcIixcIm9uRm9jdXNcIixcIm9uRm9jdXNWaXNpYmxlXCIsXCJvbktleURvd25cIixcIm9uS2V5VXBcIixcIm9uTW91c2VEb3duXCIsXCJvbk1vdXNlTGVhdmVcIixcIm9uTW91c2VVcFwiLFwib25Ub3VjaEVuZFwiLFwib25Ub3VjaE1vdmVcIixcIm9uVG91Y2hTdGFydFwiLFwidGFiSW5kZXhcIixcIlRvdWNoUmlwcGxlUHJvcHNcIixcInR5cGVcIl0pLHc9KDAsbS5kZWZhdWx0KShsLnJvb3QsKGU9e30sKDAsby5kZWZhdWx0KShlLGwuZGlzYWJsZWQsaCksKDAsby5kZWZhdWx0KShlLGwuZm9jdXNWaXNpYmxlLHRoaXMuc3RhdGUuZm9jdXNWaXNpYmxlKSwoMCxvLmRlZmF1bHQpKGUsZix0aGlzLnN0YXRlLmZvY3VzVmlzaWJsZSksZSksYyksVD11O1wiYnV0dG9uXCI9PT1UJiZiLmhyZWYmJihUPVwiYVwiKTt2YXIgRT17fTtyZXR1cm5cImJ1dHRvblwiPT09VD8oRS50eXBlPXZ8fFwiYnV0dG9uXCIsRS5kaXNhYmxlZD1oKTpFLnJvbGU9XCJidXR0b25cIixwLmRlZmF1bHQuY3JlYXRlRWxlbWVudChULCgwLHIuZGVmYXVsdCkoe2NsYXNzTmFtZTp3LG9uQmx1cjp0aGlzLmhhbmRsZUJsdXIsb25Gb2N1czp0aGlzLmhhbmRsZUZvY3VzLG9uS2V5RG93bjp0aGlzLmhhbmRsZUtleURvd24sb25LZXlVcDp0aGlzLmhhbmRsZUtleVVwLG9uTW91c2VEb3duOnRoaXMuaGFuZGxlTW91c2VEb3duLG9uTW91c2VMZWF2ZTp0aGlzLmhhbmRsZU1vdXNlTGVhdmUsb25Nb3VzZVVwOnRoaXMuaGFuZGxlTW91c2VVcCxvblRvdWNoRW5kOnRoaXMuaGFuZGxlVG91Y2hFbmQsb25Ub3VjaE1vdmU6dGhpcy5oYW5kbGVUb3VjaE1vdmUsb25Ub3VjaFN0YXJ0OnRoaXMuaGFuZGxlVG91Y2hTdGFydCxvbkNvbnRleHRNZW51OnRoaXMuaGFuZGxlQ29udGV4dE1lbnUscmVmOm4sdGFiSW5kZXg6aD9cIi0xXCI6Z30sRSxiKSxzLGR8fGg/bnVsbDpwLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfLmRlZmF1bHQsbnVsbCxwLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh4LmRlZmF1bHQsKDAsci5kZWZhdWx0KSh7aW5uZXJSZWY6dGhpcy5vblJpcHBsZVJlZixjZW50ZXI6aX0seSkpKSl9fV0sW3trZXk6XCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT10LmZvY3VzVmlzaWJsZXx8IXQucHJldlN0YXRlJiZlLmRpc2FibGVkJiZ0LmZvY3VzVmlzaWJsZT97Zm9jdXNWaXNpYmxlOiExLGxhc3REaXNhYmxlZDplLmRpc2FibGVkfTp7bGFzdERpc2FibGVkOmUuZGlzYWJsZWR9fX1dKSx0fShwLmRlZmF1bHQuQ29tcG9uZW50KTtULmRlZmF1bHRQcm9wcz17Y2VudGVyUmlwcGxlOiExLGNvbXBvbmVudDpcImJ1dHRvblwiLGRpc2FibGVSaXBwbGU6ITEsZGlzYWJsZVRvdWNoUmlwcGxlOiExLGZvY3VzUmlwcGxlOiExLHRhYkluZGV4OlwiMFwiLHR5cGU6XCJidXR0b25cIn07dmFyIEU9KDAseS5kZWZhdWx0KSh3LHtuYW1lOlwiTXVpQnV0dG9uQmFzZVwifSkoVCk7dC5kZWZhdWx0PUV9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD12b2lkIDA7dmFyIHI9aShuKDYwKSk7dmFyIG89ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOndpbmRvdyxuPSgwLHIuZGVmYXVsdCkoZSk7cmV0dXJuIG4uZGVmYXVsdFZpZXd8fG4ucGFyZW50Vmlld3x8dH07dC5kZWZhdWx0PW99LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmRlZmF1bHR9fSk7dmFyIHI9aShuKDE2MCkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkobigxMCkpLG89aShuKDExKSksYT1pKG4oMTIpKSxzPWkobigxMykpLGw9aShuKDE0KSksYz1pKG4oMSkpLHU9KGkobigzKSksbig3KSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KCl7dmFyIGUsbjsoMCxyLmRlZmF1bHQpKHRoaXMsdCk7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkoaSksbD0wO2w8aTtsKyspb1tsXT1hcmd1bWVudHNbbF07cmV0dXJuKG49KDAsYS5kZWZhdWx0KSh0aGlzLChlPSgwLHMuZGVmYXVsdCkodCkpLmNhbGwuYXBwbHkoZSxbdGhpc10uY29uY2F0KG8pKSkpLm1vdW50ZWQ9ITEsbi5zdGF0ZT17bW91bnRlZDohMX0sbn1yZXR1cm4oMCxsLmRlZmF1bHQpKHQsZSksKDAsby5kZWZhdWx0KSh0LFt7a2V5OlwiY29tcG9uZW50RGlkTW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7dGhpcy5tb3VudGVkPSEwLHRoaXMucHJvcHMuZGVmZXI/cmVxdWVzdEFuaW1hdGlvbkZyYW1lKChmdW5jdGlvbigpe3JlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24oKXtlLm1vdW50ZWQmJmUuc2V0U3RhdGUoe21vdW50ZWQ6ITB9KX0pKX0pKTp0aGlzLnNldFN0YXRlKHttb3VudGVkOiEwfSl9fSx7a2V5OlwiY29tcG9uZW50V2lsbFVubW91bnRcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubW91bnRlZD0hMX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD1lLmNoaWxkcmVuLG49ZS5mYWxsYmFjaztyZXR1cm4gdGhpcy5zdGF0ZS5tb3VudGVkP3Q6bn19XSksdH0oYy5kZWZhdWx0LkNvbXBvbmVudCkpO3UuZGVmYXVsdFByb3BzPXtkZWZlcjohMSxmYWxsYmFjazpudWxsfTt2YXIgaD11O3QuZGVmYXVsdD1ofSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRldGVjdEZvY3VzVmlzaWJsZT1mdW5jdGlvbiBlKHQsbixpKXt2YXIgcz1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MTt0LmZvY3VzVmlzaWJsZVRpbWVvdXQ9c2V0VGltZW91dCgoZnVuY3Rpb24oKXt2YXIgbD1hKCgwLHIuZGVmYXVsdCkobikpO28uZm9jdXNLZXlQcmVzc2VkJiYobD09PW58fG4uY29udGFpbnMobCkpP2koKTpzPHQuZm9jdXNWaXNpYmxlTWF4Q2hlY2tUaW1lcyYmZSh0LG4saSxzKzEpfSksdC5mb2N1c1Zpc2libGVDaGVja1RpbWUpfSx0Lmxpc3RlbkZvckZvY3VzS2V5cz1mdW5jdGlvbihlKXtlLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLGwpfTtpKG4oNikpO3ZhciByPWkobig2MCkpLG89e2ZvY3VzS2V5UHJlc3NlZDohMSxrZXlVcEV2ZW50VGltZW91dDotMX07ZnVuY3Rpb24gYShlKXtmb3IodmFyIHQ9ZS5hY3RpdmVFbGVtZW50O3QmJnQuc2hhZG93Um9vdCYmdC5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ7KXQ9dC5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ7cmV0dXJuIHR9dmFyIHM9WzksMTMsMjcsMzIsMzcsMzgsMzksNDBdO3ZhciBsPWZ1bmN0aW9uKGUpeyhmdW5jdGlvbihlKXtyZXR1cm4gcy5pbmRleE9mKGUua2V5Q29kZSk+LTF9KShlKSYmKG8uZm9jdXNLZXlQcmVzc2VkPSEwLGNsZWFyVGltZW91dChvLmtleVVwRXZlbnRUaW1lb3V0KSxvLmtleVVwRXZlbnRUaW1lb3V0PXNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7by5mb2N1c0tleVByZXNzZWQ9ITF9KSw1MDApKX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnN0eWxlcz10LkRFTEFZX1JJUFBMRT12b2lkIDA7dmFyIHI9aShuKDIpKSxvPWkobig0KSksYT1pKG4oMTYzKSkscz1pKG4oMTApKSxsPWkobigxMSkpLGM9aShuKDEyKSksdT1pKG4oMTMpKSxoPWkobigxNCkpLGQ9aShuKDMzKSkscD1pKG4oMSkpLGY9KGkobigzKSksaShuKDE5KSkpLG09aShuKDE2OCkpLGc9aShuKDgpKSx5PWkobig5KSksXz1pKG4oMTcwKSk7dC5ERUxBWV9SSVBQTEU9ODA7dmFyIHY9ZnVuY3Rpb24oZSl7cmV0dXJue3Jvb3Q6e2Rpc3BsYXk6XCJibG9ja1wiLHBvc2l0aW9uOlwiYWJzb2x1dGVcIixvdmVyZmxvdzpcImhpZGRlblwiLGJvcmRlclJhZGl1czpcImluaGVyaXRcIix3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsbGVmdDowLHRvcDowLHBvaW50ZXJFdmVudHM6XCJub25lXCIsekluZGV4OjB9LHJpcHBsZTp7d2lkdGg6NTAsaGVpZ2h0OjUwLGxlZnQ6MCx0b3A6MCxvcGFjaXR5OjAscG9zaXRpb246XCJhYnNvbHV0ZVwifSxyaXBwbGVWaXNpYmxlOntvcGFjaXR5Oi4zLHRyYW5zZm9ybTpcInNjYWxlKDEpXCIsYW5pbWF0aW9uOlwibXVpLXJpcHBsZS1lbnRlciBcIi5jb25jYXQoNTUwLFwibXMgXCIpLmNvbmNhdChlLnRyYW5zaXRpb25zLmVhc2luZy5lYXNlSW5PdXQpLGFuaW1hdGlvbk5hbWU6XCIkbXVpLXJpcHBsZS1lbnRlclwifSxyaXBwbGVQdWxzYXRlOnthbmltYXRpb25EdXJhdGlvbjpcIlwiLmNvbmNhdChlLnRyYW5zaXRpb25zLmR1cmF0aW9uLnNob3J0ZXIsXCJtc1wiKX0sY2hpbGQ6e29wYWNpdHk6MSxkaXNwbGF5OlwiYmxvY2tcIix3aWR0aDpcIjEwMCVcIixoZWlnaHQ6XCIxMDAlXCIsYm9yZGVyUmFkaXVzOlwiNTAlXCIsYmFja2dyb3VuZENvbG9yOlwiY3VycmVudENvbG9yXCJ9LGNoaWxkTGVhdmluZzp7b3BhY2l0eTowLGFuaW1hdGlvbjpcIm11aS1yaXBwbGUtZXhpdCBcIi5jb25jYXQoNTUwLFwibXMgXCIpLmNvbmNhdChlLnRyYW5zaXRpb25zLmVhc2luZy5lYXNlSW5PdXQpLGFuaW1hdGlvbk5hbWU6XCIkbXVpLXJpcHBsZS1leGl0XCJ9LGNoaWxkUHVsc2F0ZTp7cG9zaXRpb246XCJhYnNvbHV0ZVwiLGxlZnQ6MCx0b3A6MCxhbmltYXRpb246XCJtdWktcmlwcGxlLXB1bHNhdGUgMjUwMG1zIFwiLmNvbmNhdChlLnRyYW5zaXRpb25zLmVhc2luZy5lYXNlSW5PdXQsXCIgMjAwbXMgaW5maW5pdGVcIiksYW5pbWF0aW9uTmFtZTpcIiRtdWktcmlwcGxlLXB1bHNhdGVcIn0sXCJAa2V5ZnJhbWVzIG11aS1yaXBwbGUtZW50ZXJcIjp7XCIwJVwiOnt0cmFuc2Zvcm06XCJzY2FsZSgwKVwiLG9wYWNpdHk6LjF9LFwiMTAwJVwiOnt0cmFuc2Zvcm06XCJzY2FsZSgxKVwiLG9wYWNpdHk6LjN9fSxcIkBrZXlmcmFtZXMgbXVpLXJpcHBsZS1leGl0XCI6e1wiMCVcIjp7b3BhY2l0eToxfSxcIjEwMCVcIjp7b3BhY2l0eTowfX0sXCJAa2V5ZnJhbWVzIG11aS1yaXBwbGUtcHVsc2F0ZVwiOntcIjAlXCI6e3RyYW5zZm9ybTpcInNjYWxlKDEpXCJ9LFwiNTAlXCI6e3RyYW5zZm9ybTpcInNjYWxlKDAuOTIpXCJ9LFwiMTAwJVwiOnt0cmFuc2Zvcm06XCJzY2FsZSgxKVwifX19fTt0LnN0eWxlcz12O3ZhciB4PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXt2YXIgZSxuOygwLHMuZGVmYXVsdCkodGhpcyx0KTtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShpKSxvPTA7bzxpO28rKylyW29dPWFyZ3VtZW50c1tvXTtyZXR1cm4obj0oMCxjLmRlZmF1bHQpKHRoaXMsKGU9KDAsdS5kZWZhdWx0KSh0KSkuY2FsbC5hcHBseShlLFt0aGlzXS5jb25jYXQocikpKSkuc3RhdGU9e25leHRLZXk6MCxyaXBwbGVzOltdfSxuLnB1bHNhdGU9ZnVuY3Rpb24oKXtuLnN0YXJ0KHt9LHtwdWxzYXRlOiEwfSl9LG4uc3RhcnQ9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30saT1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxyPXQucHVsc2F0ZSxvPXZvaWQgMCE9PXImJnIsYT10LmNlbnRlcixzPXZvaWQgMD09PWE/bi5wcm9wcy5jZW50ZXJ8fHQucHVsc2F0ZTphLGw9dC5mYWtlRWxlbWVudCxjPXZvaWQgMCE9PWwmJmw7aWYoXCJtb3VzZWRvd25cIj09PWUudHlwZSYmbi5pZ25vcmluZ01vdXNlRG93biluLmlnbm9yaW5nTW91c2VEb3duPSExO2Vsc2V7XCJ0b3VjaHN0YXJ0XCI9PT1lLnR5cGUmJihuLmlnbm9yaW5nTW91c2VEb3duPSEwKTt2YXIgdSxoLHAsbT1jP251bGw6Zi5kZWZhdWx0LmZpbmRET01Ob2RlKCgwLGQuZGVmYXVsdCkoKDAsZC5kZWZhdWx0KShuKSkpLGc9bT9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOnt3aWR0aDowLGhlaWdodDowLGxlZnQ6MCx0b3A6MH07aWYoc3x8MD09PWUuY2xpZW50WCYmMD09PWUuY2xpZW50WXx8IWUuY2xpZW50WCYmIWUudG91Y2hlcyl1PU1hdGgucm91bmQoZy53aWR0aC8yKSxoPU1hdGgucm91bmQoZy5oZWlnaHQvMik7ZWxzZXt2YXIgeT1lLmNsaWVudFg/ZS5jbGllbnRYOmUudG91Y2hlc1swXS5jbGllbnRYLF89ZS5jbGllbnRZP2UuY2xpZW50WTplLnRvdWNoZXNbMF0uY2xpZW50WTt1PU1hdGgucm91bmQoeS1nLmxlZnQpLGg9TWF0aC5yb3VuZChfLWcudG9wKX1pZihzKShwPU1hdGguc3FydCgoMipNYXRoLnBvdyhnLndpZHRoLDIpK01hdGgucG93KGcuaGVpZ2h0LDIpKS8zKSklMj09MCYmKHArPTEpO2Vsc2V7dmFyIHY9MipNYXRoLm1heChNYXRoLmFicygobT9tLmNsaWVudFdpZHRoOjApLXUpLHUpKzIseD0yKk1hdGgubWF4KE1hdGguYWJzKChtP20uY2xpZW50SGVpZ2h0OjApLWgpLGgpKzI7cD1NYXRoLnNxcnQoTWF0aC5wb3codiwyKStNYXRoLnBvdyh4LDIpKX1lLnRvdWNoZXM/KG4uc3RhcnRUaW1lckNvbW1pdD1mdW5jdGlvbigpe24uc3RhcnRDb21taXQoe3B1bHNhdGU6byxyaXBwbGVYOnUscmlwcGxlWTpoLHJpcHBsZVNpemU6cCxjYjppfSl9LG4uc3RhcnRUaW1lcj1zZXRUaW1lb3V0KChmdW5jdGlvbigpe24uc3RhcnRUaW1lckNvbW1pdCYmKG4uc3RhcnRUaW1lckNvbW1pdCgpLG4uc3RhcnRUaW1lckNvbW1pdD1udWxsKX0pLDgwKSk6bi5zdGFydENvbW1pdCh7cHVsc2F0ZTpvLHJpcHBsZVg6dSxyaXBwbGVZOmgscmlwcGxlU2l6ZTpwLGNiOml9KX19LG4uc3RhcnRDb21taXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wdWxzYXRlLGk9ZS5yaXBwbGVYLHI9ZS5yaXBwbGVZLG89ZS5yaXBwbGVTaXplLHM9ZS5jYjtuLnNldFN0YXRlKChmdW5jdGlvbihlKXtyZXR1cm57bmV4dEtleTplLm5leHRLZXkrMSxyaXBwbGVzOltdLmNvbmNhdCgoMCxhLmRlZmF1bHQpKGUucmlwcGxlcyksW3AuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF8uZGVmYXVsdCx7a2V5OmUubmV4dEtleSxjbGFzc2VzOm4ucHJvcHMuY2xhc3Nlcyx0aW1lb3V0OntleGl0OjU1MCxlbnRlcjo1NTB9LHB1bHNhdGU6dCxyaXBwbGVYOmkscmlwcGxlWTpyLHJpcHBsZVNpemU6b30pXSl9fSkscyl9LG4uc3RvcD1mdW5jdGlvbihlLHQpe2NsZWFyVGltZW91dChuLnN0YXJ0VGltZXIpO3ZhciBpPW4uc3RhdGUucmlwcGxlcztpZihcInRvdWNoZW5kXCI9PT1lLnR5cGUmJm4uc3RhcnRUaW1lckNvbW1pdClyZXR1cm4gZS5wZXJzaXN0KCksbi5zdGFydFRpbWVyQ29tbWl0KCksbi5zdGFydFRpbWVyQ29tbWl0PW51bGwsdm9pZChuLnN0YXJ0VGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtuLnN0b3AoZSx0KX0pKSk7bi5zdGFydFRpbWVyQ29tbWl0PW51bGwsaSYmaS5sZW5ndGgmJm4uc2V0U3RhdGUoe3JpcHBsZXM6aS5zbGljZSgxKX0sdCl9LG59cmV0dXJuKDAsaC5kZWZhdWx0KSh0LGUpLCgwLGwuZGVmYXVsdCkodCxbe2tleTpcImNvbXBvbmVudFdpbGxVbm1vdW50XCIsdmFsdWU6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5zdGFydFRpbWVyKX19LHtrZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMucHJvcHMsdD0oZS5jZW50ZXIsZS5jbGFzc2VzKSxuPWUuY2xhc3NOYW1lLGk9KDAsby5kZWZhdWx0KShlLFtcImNlbnRlclwiLFwiY2xhc3Nlc1wiLFwiY2xhc3NOYW1lXCJdKTtyZXR1cm4gcC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQobS5kZWZhdWx0LCgwLHIuZGVmYXVsdCkoe2NvbXBvbmVudDpcInNwYW5cIixlbnRlcjohMCxleGl0OiEwLGNsYXNzTmFtZTooMCxnLmRlZmF1bHQpKHQucm9vdCxuKX0saSksdGhpcy5zdGF0ZS5yaXBwbGVzKX19XSksdH0ocC5kZWZhdWx0LlB1cmVDb21wb25lbnQpO3guZGVmYXVsdFByb3BzPXtjZW50ZXI6ITF9O3ZhciBiPSgwLHkuZGVmYXVsdCkodix7ZmxpcDohMSxuYW1lOlwiTXVpVG91Y2hSaXBwbGVcIn0pKHgpO3QuZGVmYXVsdD1ifSxmdW5jdGlvbihlLHQsbil7dmFyIGk9bigxNjQpLHI9bigxNjUpLG89bigxNjYpLGE9bigxNjcpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gaShlKXx8cihlKXx8byhlKXx8YSgpfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKDYxKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gaShlKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbXCJAQGl0ZXJhdG9yXCJdKXJldHVybiBBcnJheS5mcm9tKGUpfSxlLmV4cG9ydHMuX19lc01vZHVsZT0hMCxlLmV4cG9ydHMuZGVmYXVsdD1lLmV4cG9ydHN9LGZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKDYxKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihlKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZSlyZXR1cm4gaShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm5cIk9iamVjdFwiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSxcIk1hcFwiPT09bnx8XCJTZXRcIj09PW4/QXJyYXkuZnJvbShlKTpcIkFyZ3VtZW50c1wiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/aShlLHQpOnZvaWQgMH19LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKX0sZS5leHBvcnRzLl9fZXNNb2R1bGU9ITAsZS5leHBvcnRzLmRlZmF1bHQ9ZS5leHBvcnRzfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9cyhuKDMpKSxyPXMobigxKSksbz1uKDYyKSxhPW4oMTY5KTtmdW5jdGlvbiBzKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ZGVmYXVsdDplfX1mdW5jdGlvbiBsKCl7cmV0dXJuKGw9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgaSBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLGkpJiYoZVtpXT1uW2ldKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBjKGUpe2lmKHZvaWQgMD09PWUpdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpO3JldHVybiBlfXZhciB1PU9iamVjdC52YWx1ZXN8fGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSkpfSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCxuKXt2YXIgaSxyPShpPWUuY2FsbCh0aGlzLHQsbil8fHRoaXMpLmhhbmRsZUV4aXRlZC5iaW5kKGMoYyhpKSkpO3JldHVybiBpLnN0YXRlPXtoYW5kbGVFeGl0ZWQ6cixmaXJzdFJlbmRlcjohMH0saX0hZnVuY3Rpb24oZSx0KXtlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlKSxlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLGUuX19wcm90b19fPXR9KHQsZSk7dmFyIG49dC5wcm90b3R5cGU7cmV0dXJuIG4uZ2V0Q2hpbGRDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJue3RyYW5zaXRpb25Hcm91cDp7aXNNb3VudGluZzohdGhpcy5hcHBlYXJlZH19fSxuLmNvbXBvbmVudERpZE1vdW50PWZ1bmN0aW9uKCl7dGhpcy5hcHBlYXJlZD0hMCx0aGlzLm1vdW50ZWQ9ITB9LG4uY29tcG9uZW50V2lsbFVubW91bnQ9ZnVuY3Rpb24oKXt0aGlzLm1vdW50ZWQ9ITF9LHQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dC5jaGlsZHJlbixpPXQuaGFuZGxlRXhpdGVkO3JldHVybntjaGlsZHJlbjp0LmZpcnN0UmVuZGVyPygwLGEuZ2V0SW5pdGlhbENoaWxkTWFwcGluZykoZSxpKTooMCxhLmdldE5leHRDaGlsZE1hcHBpbmcpKGUsbixpKSxmaXJzdFJlbmRlcjohMX19LG4uaGFuZGxlRXhpdGVkPWZ1bmN0aW9uKGUsdCl7dmFyIG49KDAsYS5nZXRDaGlsZE1hcHBpbmcpKHRoaXMucHJvcHMuY2hpbGRyZW4pO2Uua2V5IGluIG58fChlLnByb3BzLm9uRXhpdGVkJiZlLnByb3BzLm9uRXhpdGVkKHQpLHRoaXMubW91bnRlZCYmdGhpcy5zZXRTdGF0ZSgoZnVuY3Rpb24odCl7dmFyIG49bCh7fSx0LmNoaWxkcmVuKTtyZXR1cm4gZGVsZXRlIG5bZS5rZXldLHtjaGlsZHJlbjpufX0pKSl9LG4ucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5wcm9wcyx0PWUuY29tcG9uZW50LG49ZS5jaGlsZEZhY3RvcnksaT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4saSxyPXt9LG89T2JqZWN0LmtleXMoZSk7Zm9yKGk9MDtpPG8ubGVuZ3RoO2krKyluPW9baV0sdC5pbmRleE9mKG4pPj0wfHwocltuXT1lW25dKTtyZXR1cm4gcn0oZSxbXCJjb21wb25lbnRcIixcImNoaWxkRmFjdG9yeVwiXSksbz11KHRoaXMuc3RhdGUuY2hpbGRyZW4pLm1hcChuKTtyZXR1cm4gZGVsZXRlIGkuYXBwZWFyLGRlbGV0ZSBpLmVudGVyLGRlbGV0ZSBpLmV4aXQsbnVsbD09PXQ/bzpyLmRlZmF1bHQuY3JlYXRlRWxlbWVudCh0LGksbyl9LHR9KHIuZGVmYXVsdC5Db21wb25lbnQpO2guY2hpbGRDb250ZXh0VHlwZXM9e3RyYW5zaXRpb25Hcm91cDppLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWR9LGgucHJvcFR5cGVzPXt9LGguZGVmYXVsdFByb3BzPXtjb21wb25lbnQ6XCJkaXZcIixjaGlsZEZhY3Rvcnk6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fTt2YXIgZD0oMCxvLnBvbHlmaWxsKShoKTt0LmRlZmF1bHQ9ZCxlLmV4cG9ydHM9dC5kZWZhdWx0fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwLHQuZ2V0Q2hpbGRNYXBwaW5nPXIsdC5tZXJnZUNoaWxkTWFwcGluZ3M9byx0LmdldEluaXRpYWxDaGlsZE1hcHBpbmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcihlLmNoaWxkcmVuLChmdW5jdGlvbihuKXtyZXR1cm4oMCxpLmNsb25lRWxlbWVudCkobix7b25FeGl0ZWQ6dC5iaW5kKG51bGwsbiksaW46ITAsYXBwZWFyOmEobixcImFwcGVhclwiLGUpLGVudGVyOmEobixcImVudGVyXCIsZSksZXhpdDphKG4sXCJleGl0XCIsZSl9KX0pKX0sdC5nZXROZXh0Q2hpbGRNYXBwaW5nPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcz1yKGUuY2hpbGRyZW4pLGw9byh0LHMpO3JldHVybiBPYmplY3Qua2V5cyhsKS5mb3JFYWNoKChmdW5jdGlvbihyKXt2YXIgbz1sW3JdO2lmKCgwLGkuaXNWYWxpZEVsZW1lbnQpKG8pKXt2YXIgYz1yIGluIHQsdT1yIGluIHMsaD10W3JdLGQ9KDAsaS5pc1ZhbGlkRWxlbWVudCkoaCkmJiFoLnByb3BzLmluOyF1fHxjJiYhZD91fHwhY3x8ZD91JiZjJiYoMCxpLmlzVmFsaWRFbGVtZW50KShoKSYmKGxbcl09KDAsaS5jbG9uZUVsZW1lbnQpKG8se29uRXhpdGVkOm4uYmluZChudWxsLG8pLGluOmgucHJvcHMuaW4sZXhpdDphKG8sXCJleGl0XCIsZSksZW50ZXI6YShvLFwiZW50ZXJcIixlKX0pKTpsW3JdPSgwLGkuY2xvbmVFbGVtZW50KShvLHtpbjohMX0pOmxbcl09KDAsaS5jbG9uZUVsZW1lbnQpKG8se29uRXhpdGVkOm4uYmluZChudWxsLG8pLGluOiEwLGV4aXQ6YShvLFwiZXhpdFwiLGUpLGVudGVyOmEobyxcImVudGVyXCIsZSl9KX19KSksbH07dmFyIGk9bigxKTtmdW5jdGlvbiByKGUsdCl7dmFyIG49T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gZSYmaS5DaGlsZHJlbi5tYXAoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bltlLmtleV09ZnVuY3Rpb24oZSl7cmV0dXJuIHQmJigwLGkuaXNWYWxpZEVsZW1lbnQpKGUpP3QoZSk6ZX0oZSl9KSksbn1mdW5jdGlvbiBvKGUsdCl7ZnVuY3Rpb24gbihuKXtyZXR1cm4gbiBpbiB0P3Rbbl06ZVtuXX1lPWV8fHt9LHQ9dHx8e307dmFyIGkscj1PYmplY3QuY3JlYXRlKG51bGwpLG89W107Zm9yKHZhciBhIGluIGUpYSBpbiB0P28ubGVuZ3RoJiYoclthXT1vLG89W10pOm8ucHVzaChhKTt2YXIgcz17fTtmb3IodmFyIGwgaW4gdCl7aWYocltsXSlmb3IoaT0wO2k8cltsXS5sZW5ndGg7aSsrKXt2YXIgYz1yW2xdW2ldO3NbcltsXVtpXV09bihjKX1zW2xdPW4obCl9Zm9yKGk9MDtpPG8ubGVuZ3RoO2krKylzW29baV1dPW4ob1tpXSk7cmV0dXJuIHN9ZnVuY3Rpb24gYShlLHQsbil7cmV0dXJuIG51bGwhPW5bdF0/blt0XTplLnByb3BzW3RdfX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDUpKSxhPWkobig0KSkscz1pKG4oMTApKSxsPWkobigxMSkpLGM9aShuKDEyKSksdT1pKG4oMTMpKSxoPWkobigxNCkpLGQ9aShuKDEpKSxwPShpKG4oMykpLGkobig4KSkpLGY9aShuKDE3MSkpLG09ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCgpe3ZhciBlLG47KDAscy5kZWZhdWx0KSh0aGlzLHQpO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KGkpLG89MDtvPGk7bysrKXJbb109YXJndW1lbnRzW29dO3JldHVybihuPSgwLGMuZGVmYXVsdCkodGhpcywoZT0oMCx1LmRlZmF1bHQpKHQpKS5jYWxsLmFwcGx5KGUsW3RoaXNdLmNvbmNhdChyKSkpKS5zdGF0ZT17dmlzaWJsZTohMSxsZWF2aW5nOiExfSxuLmhhbmRsZUVudGVyPWZ1bmN0aW9uKCl7bi5zZXRTdGF0ZSh7dmlzaWJsZTohMH0pfSxuLmhhbmRsZUV4aXQ9ZnVuY3Rpb24oKXtuLnNldFN0YXRlKHtsZWF2aW5nOiEwfSl9LG59cmV0dXJuKDAsaC5kZWZhdWx0KSh0LGUpLCgwLGwuZGVmYXVsdCkodCxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGUsdCxuPXRoaXMucHJvcHMsaT1uLmNsYXNzZXMscz1uLmNsYXNzTmFtZSxsPW4ucHVsc2F0ZSxjPW4ucmlwcGxlWCx1PW4ucmlwcGxlWSxoPW4ucmlwcGxlU2l6ZSxtPSgwLGEuZGVmYXVsdCkobixbXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcInB1bHNhdGVcIixcInJpcHBsZVhcIixcInJpcHBsZVlcIixcInJpcHBsZVNpemVcIl0pLGc9dGhpcy5zdGF0ZSx5PWcudmlzaWJsZSxfPWcubGVhdmluZyx2PSgwLHAuZGVmYXVsdCkoaS5yaXBwbGUsKGU9e30sKDAsby5kZWZhdWx0KShlLGkucmlwcGxlVmlzaWJsZSx5KSwoMCxvLmRlZmF1bHQpKGUsaS5yaXBwbGVQdWxzYXRlLGwpLGUpLHMpLHg9e3dpZHRoOmgsaGVpZ2h0OmgsdG9wOi1oLzIrdSxsZWZ0Oi1oLzIrY30sYj0oMCxwLmRlZmF1bHQpKGkuY2hpbGQsKHQ9e30sKDAsby5kZWZhdWx0KSh0LGkuY2hpbGRMZWF2aW5nLF8pLCgwLG8uZGVmYXVsdCkodCxpLmNoaWxkUHVsc2F0ZSxsKSx0KSk7cmV0dXJuIGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGYuZGVmYXVsdCwoMCxyLmRlZmF1bHQpKHtvbkVudGVyOnRoaXMuaGFuZGxlRW50ZXIsb25FeGl0OnRoaXMuaGFuZGxlRXhpdH0sbSksZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIse2NsYXNzTmFtZTp2LHN0eWxlOnh9LGQuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6Yn0pKSl9fV0pLHR9KGQuZGVmYXVsdC5Db21wb25lbnQpO20uZGVmYXVsdFByb3BzPXtwdWxzYXRlOiExfTt2YXIgZz1tO3QuZGVmYXVsdD1nfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD10LkVYSVRJTkc9dC5FTlRFUkVEPXQuRU5URVJJTkc9dC5FWElURUQ9dC5VTk1PVU5URUQ9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKGUpe2lmKGUmJmUuX19lc01vZHVsZSlyZXR1cm4gZTt2YXIgdD17fTtpZihudWxsIT1lKWZvcih2YXIgbiBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLG4pKXt2YXIgaT1PYmplY3QuZGVmaW5lUHJvcGVydHkmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I/T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLG4pOnt9O2kuZ2V0fHxpLnNldD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLGkpOnRbbl09ZVtuXX1yZXR1cm4gdC5kZWZhdWx0PWUsdH0obigzKSkscj1zKG4oMSkpLG89cyhuKDE5KSksYT1uKDYyKTtuKDE3Mik7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e2RlZmF1bHQ6ZX19dC5VTk1PVU5URUQ9XCJ1bm1vdW50ZWRcIjt0LkVYSVRFRD1cImV4aXRlZFwiO3QuRU5URVJJTkc9XCJlbnRlcmluZ1wiO3QuRU5URVJFRD1cImVudGVyZWRcIjt0LkVYSVRJTkc9XCJleGl0aW5nXCI7dmFyIGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdCh0LG4pe3ZhciBpO2k9ZS5jYWxsKHRoaXMsdCxuKXx8dGhpczt2YXIgcixvPW4udHJhbnNpdGlvbkdyb3VwLGE9byYmIW8uaXNNb3VudGluZz90LmVudGVyOnQuYXBwZWFyO3JldHVybiBpLmFwcGVhclN0YXR1cz1udWxsLHQuaW4/YT8ocj1cImV4aXRlZFwiLGkuYXBwZWFyU3RhdHVzPVwiZW50ZXJpbmdcIik6cj1cImVudGVyZWRcIjpyPXQudW5tb3VudE9uRXhpdHx8dC5tb3VudE9uRW50ZXI/XCJ1bm1vdW50ZWRcIjpcImV4aXRlZFwiLGkuc3RhdGU9e3N0YXR1czpyfSxpLm5leHRDYWxsYmFjaz1udWxsLGl9IWZ1bmN0aW9uKGUsdCl7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxlLl9fcHJvdG9fXz10fSh0LGUpO3ZhciBuPXQucHJvdG90eXBlO3JldHVybiBuLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybnt0cmFuc2l0aW9uR3JvdXA6bnVsbH19LHQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaW4mJlwidW5tb3VudGVkXCI9PT10LnN0YXR1cz97c3RhdHVzOlwiZXhpdGVkXCJ9Om51bGx9LG4uY29tcG9uZW50RGlkTW91bnQ9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZVN0YXR1cyghMCx0aGlzLmFwcGVhclN0YXR1cyl9LG4uY29tcG9uZW50RGlkVXBkYXRlPWZ1bmN0aW9uKGUpe3ZhciB0PW51bGw7aWYoZSE9PXRoaXMucHJvcHMpe3ZhciBuPXRoaXMuc3RhdGUuc3RhdHVzO3RoaXMucHJvcHMuaW4/XCJlbnRlcmluZ1wiIT09biYmXCJlbnRlcmVkXCIhPT1uJiYodD1cImVudGVyaW5nXCIpOlwiZW50ZXJpbmdcIiE9PW4mJlwiZW50ZXJlZFwiIT09bnx8KHQ9XCJleGl0aW5nXCIpfXRoaXMudXBkYXRlU3RhdHVzKCExLHQpfSxuLmNvbXBvbmVudFdpbGxVbm1vdW50PWZ1bmN0aW9uKCl7dGhpcy5jYW5jZWxOZXh0Q2FsbGJhY2soKX0sbi5nZXRUaW1lb3V0cz1mdW5jdGlvbigpe3ZhciBlLHQsbixpPXRoaXMucHJvcHMudGltZW91dDtyZXR1cm4gZT10PW49aSxudWxsIT1pJiZcIm51bWJlclwiIT10eXBlb2YgaSYmKGU9aS5leGl0LHQ9aS5lbnRlcixuPXZvaWQgMCE9PWkuYXBwZWFyP2kuYXBwZWFyOnQpLHtleGl0OmUsZW50ZXI6dCxhcHBlYXI6bn19LG4udXBkYXRlU3RhdHVzPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09ZSYmKGU9ITEpLG51bGwhPT10KXt0aGlzLmNhbmNlbE5leHRDYWxsYmFjaygpO3ZhciBuPW8uZGVmYXVsdC5maW5kRE9NTm9kZSh0aGlzKTtcImVudGVyaW5nXCI9PT10P3RoaXMucGVyZm9ybUVudGVyKG4sZSk6dGhpcy5wZXJmb3JtRXhpdChuKX1lbHNlIHRoaXMucHJvcHMudW5tb3VudE9uRXhpdCYmXCJleGl0ZWRcIj09PXRoaXMuc3RhdGUuc3RhdHVzJiZ0aGlzLnNldFN0YXRlKHtzdGF0dXM6XCJ1bm1vdW50ZWRcIn0pfSxuLnBlcmZvcm1FbnRlcj1mdW5jdGlvbihlLHQpe3ZhciBuPXRoaXMsaT10aGlzLnByb3BzLmVudGVyLHI9dGhpcy5jb250ZXh0LnRyYW5zaXRpb25Hcm91cD90aGlzLmNvbnRleHQudHJhbnNpdGlvbkdyb3VwLmlzTW91bnRpbmc6dCxvPXRoaXMuZ2V0VGltZW91dHMoKSxhPXI/by5hcHBlYXI6by5lbnRlcjt0fHxpPyh0aGlzLnByb3BzLm9uRW50ZXIoZSxyKSx0aGlzLnNhZmVTZXRTdGF0ZSh7c3RhdHVzOlwiZW50ZXJpbmdcIn0sKGZ1bmN0aW9uKCl7bi5wcm9wcy5vbkVudGVyaW5nKGUsciksbi5vblRyYW5zaXRpb25FbmQoZSxhLChmdW5jdGlvbigpe24uc2FmZVNldFN0YXRlKHtzdGF0dXM6XCJlbnRlcmVkXCJ9LChmdW5jdGlvbigpe24ucHJvcHMub25FbnRlcmVkKGUscil9KSl9KSl9KSkpOnRoaXMuc2FmZVNldFN0YXRlKHtzdGF0dXM6XCJlbnRlcmVkXCJ9LChmdW5jdGlvbigpe24ucHJvcHMub25FbnRlcmVkKGUpfSkpfSxuLnBlcmZvcm1FeGl0PWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj10aGlzLnByb3BzLmV4aXQsaT10aGlzLmdldFRpbWVvdXRzKCk7bj8odGhpcy5wcm9wcy5vbkV4aXQoZSksdGhpcy5zYWZlU2V0U3RhdGUoe3N0YXR1czpcImV4aXRpbmdcIn0sKGZ1bmN0aW9uKCl7dC5wcm9wcy5vbkV4aXRpbmcoZSksdC5vblRyYW5zaXRpb25FbmQoZSxpLmV4aXQsKGZ1bmN0aW9uKCl7dC5zYWZlU2V0U3RhdGUoe3N0YXR1czpcImV4aXRlZFwifSwoZnVuY3Rpb24oKXt0LnByb3BzLm9uRXhpdGVkKGUpfSkpfSkpfSkpKTp0aGlzLnNhZmVTZXRTdGF0ZSh7c3RhdHVzOlwiZXhpdGVkXCJ9LChmdW5jdGlvbigpe3QucHJvcHMub25FeGl0ZWQoZSl9KSl9LG4uY2FuY2VsTmV4dENhbGxiYWNrPWZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMubmV4dENhbGxiYWNrJiYodGhpcy5uZXh0Q2FsbGJhY2suY2FuY2VsKCksdGhpcy5uZXh0Q2FsbGJhY2s9bnVsbCl9LG4uc2FmZVNldFN0YXRlPWZ1bmN0aW9uKGUsdCl7dD10aGlzLnNldE5leHRDYWxsYmFjayh0KSx0aGlzLnNldFN0YXRlKGUsdCl9LG4uc2V0TmV4dENhbGxiYWNrPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj0hMDtyZXR1cm4gdGhpcy5uZXh0Q2FsbGJhY2s9ZnVuY3Rpb24oaSl7biYmKG49ITEsdC5uZXh0Q2FsbGJhY2s9bnVsbCxlKGkpKX0sdGhpcy5uZXh0Q2FsbGJhY2suY2FuY2VsPWZ1bmN0aW9uKCl7bj0hMX0sdGhpcy5uZXh0Q2FsbGJhY2t9LG4ub25UcmFuc2l0aW9uRW5kPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnNldE5leHRDYWxsYmFjayhuKTt2YXIgaT1udWxsPT10JiYhdGhpcy5wcm9wcy5hZGRFbmRMaXN0ZW5lcjtlJiYhaT8odGhpcy5wcm9wcy5hZGRFbmRMaXN0ZW5lciYmdGhpcy5wcm9wcy5hZGRFbmRMaXN0ZW5lcihlLHRoaXMubmV4dENhbGxiYWNrKSxudWxsIT10JiZzZXRUaW1lb3V0KHRoaXMubmV4dENhbGxiYWNrLHQpKTpzZXRUaW1lb3V0KHRoaXMubmV4dENhbGxiYWNrLDApfSxuLnJlbmRlcj1mdW5jdGlvbigpe3ZhciBlPXRoaXMuc3RhdGUuc3RhdHVzO2lmKFwidW5tb3VudGVkXCI9PT1lKXJldHVybiBudWxsO3ZhciB0PXRoaXMucHJvcHMsbj10LmNoaWxkcmVuLGk9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLGkscj17fSxvPU9iamVjdC5rZXlzKGUpO2ZvcihpPTA7aTxvLmxlbmd0aDtpKyspbj1vW2ldLHQuaW5kZXhPZihuKT49MHx8KHJbbl09ZVtuXSk7cmV0dXJuIHJ9KHQsW1wiY2hpbGRyZW5cIl0pO2lmKGRlbGV0ZSBpLmluLGRlbGV0ZSBpLm1vdW50T25FbnRlcixkZWxldGUgaS51bm1vdW50T25FeGl0LGRlbGV0ZSBpLmFwcGVhcixkZWxldGUgaS5lbnRlcixkZWxldGUgaS5leGl0LGRlbGV0ZSBpLnRpbWVvdXQsZGVsZXRlIGkuYWRkRW5kTGlzdGVuZXIsZGVsZXRlIGkub25FbnRlcixkZWxldGUgaS5vbkVudGVyaW5nLGRlbGV0ZSBpLm9uRW50ZXJlZCxkZWxldGUgaS5vbkV4aXQsZGVsZXRlIGkub25FeGl0aW5nLGRlbGV0ZSBpLm9uRXhpdGVkLFwiZnVuY3Rpb25cIj09dHlwZW9mIG4pcmV0dXJuIG4oZSxpKTt2YXIgbz1yLmRlZmF1bHQuQ2hpbGRyZW4ub25seShuKTtyZXR1cm4gci5kZWZhdWx0LmNsb25lRWxlbWVudChvLGkpfSx0fShyLmRlZmF1bHQuQ29tcG9uZW50KTtmdW5jdGlvbiBjKCl7fWwuY29udGV4dFR5cGVzPXt0cmFuc2l0aW9uR3JvdXA6aS5vYmplY3R9LGwuY2hpbGRDb250ZXh0VHlwZXM9e3RyYW5zaXRpb25Hcm91cDpmdW5jdGlvbigpe319LGwucHJvcFR5cGVzPXt9LGwuZGVmYXVsdFByb3BzPXtpbjohMSxtb3VudE9uRW50ZXI6ITEsdW5tb3VudE9uRXhpdDohMSxhcHBlYXI6ITEsZW50ZXI6ITAsZXhpdDohMCxvbkVudGVyOmMsb25FbnRlcmluZzpjLG9uRW50ZXJlZDpjLG9uRXhpdDpjLG9uRXhpdGluZzpjLG9uRXhpdGVkOmN9LGwuVU5NT1VOVEVEPTAsbC5FWElURUQ9MSxsLkVOVEVSSU5HPTIsbC5FTlRFUkVEPTMsbC5FWElUSU5HPTQ7dmFyIHU9KDAsYS5wb2x5ZmlsbCkobCk7dC5kZWZhdWx0PXV9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt0Ll9fZXNNb2R1bGU9ITAsdC5jbGFzc05hbWVzU2hhcGU9dC50aW1lb3V0c1NoYXBlPXZvaWQgMDshZnVuY3Rpb24oZSl7ZSYmZS5fX2VzTW9kdWxlfShuKDMpKTt0LnRpbWVvdXRzU2hhcGU9bnVsbDt0LmNsYXNzTmFtZXNTaGFwZT1udWxsfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgaT1mdW5jdGlvbihlLHQsbixpKXtyZXR1cm4gZnVuY3Rpb24ocil7aSYmaS5jYWxsKGUscik7dmFyIG89ITE7cmV0dXJuIHIuZGVmYXVsdFByZXZlbnRlZCYmKG89ITApLGUucHJvcHMuZGlzYWJsZVRvdWNoUmlwcGxlJiZcIkJsdXJcIiE9PXQmJihvPSEwKSwhbyYmZS5yaXBwbGUmJmUucmlwcGxlW25dKHIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUucHJvcHNbXCJvblwiLmNvbmNhdCh0KV0mJmUucHJvcHNbXCJvblwiLmNvbmNhdCh0KV0ociksITB9fTtcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93JiYoaT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe319KTt2YXIgcj1pO3QuZGVmYXVsdD1yfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkobigxKSksbz1pKG4oNjMpKSxhPWkobig2NikpLHM9ci5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMCAxOGMtNC40MiAwLTgtMy41OC04LThzMy41OC04IDgtOCA4IDMuNTggOCA4LTMuNTggOC04IDh6XCJ9KSxsPWZ1bmN0aW9uKGUpe3JldHVybiByLmRlZmF1bHQuY3JlYXRlRWxlbWVudChhLmRlZmF1bHQsZSxzKX07KGw9KDAsby5kZWZhdWx0KShsKSkubXVpTmFtZT1cIlN2Z0ljb25cIjt2YXIgYz1sO3QuZGVmYXVsdD1jfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKG4oMTc2KSksbz1uKDEpLGE9KGkobig2NCkpLGkobig2NSkpLGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj0oMCxvLmNyZWF0ZUZhY3RvcnkpKHQpO3JldHVybiBmdW5jdGlvbih0KXtmdW5jdGlvbiBpKCl7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfSgwLHIuZGVmYXVsdCkoaSx0KTt2YXIgbz1pLnByb3RvdHlwZTtyZXR1cm4gby5zaG91bGRDb21wb25lbnRVcGRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGUodGhpcy5wcm9wcyx0KX0sby5yZW5kZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbih0aGlzLnByb3BzKX0saX0oby5Db21wb25lbnQpfX0pO3QuZGVmYXVsdD1hfSxmdW5jdGlvbihlLHQsbil7dmFyIGk9big1OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0LnByb3RvdHlwZSksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxpKGUsdCl9LGUuZXhwb3J0cy5fX2VzTW9kdWxlPSEwLGUuZXhwb3J0cy5kZWZhdWx0PWUuZXhwb3J0c30sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3QuX19lc01vZHVsZT0hMCx0LmRlZmF1bHQ9dm9pZCAwO3ZhciBpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuW2VdPXQsbn19O3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dC5fX2VzTW9kdWxlPSEwLHQuZGVmYXVsdD12b2lkIDA7dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTplP2UuZGlzcGxheU5hbWV8fGUubmFtZXx8XCJDb21wb25lbnRcIjp2b2lkIDB9O3QuZGVmYXVsdD1pfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTt0Ll9fZXNNb2R1bGU9ITAsdC5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKG4oMTgwKSkuZGVmYXVsdDt0LmRlZmF1bHQ9cn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7ZnVuY3Rpb24gcihlLHQpe3JldHVybiBlPT09dD8wIT09ZXx8MCE9PXR8fDEvZT09MS90OmUhPWUmJnQhPXR9ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYocihlLHQpKXJldHVybiEwO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHxudWxsPT09ZXx8XCJvYmplY3RcIiE9dHlwZW9mIHR8fG51bGw9PT10KXJldHVybiExO3ZhciBuPU9iamVjdC5rZXlzKGUpLG89T2JqZWN0LmtleXModCk7aWYobi5sZW5ndGghPT1vLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPG4ubGVuZ3RoO2ErKylpZighaS5jYWxsKHQsblthXSl8fCFyKGVbblthXV0sdFtuW2FdXSkpcmV0dXJuITE7cmV0dXJuITB9fSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciByPWkobigyKSksbz1pKG4oNSkpLGE9aShuKDQpKSxzPWkobigxKSksbD0oaShuKDMpKSxpKG4oOCkpKSxjPShuKDcpLGkobig5KSkpLHU9bigxNiksaD1mdW5jdGlvbihlKXtyZXR1cm57cm9vdDp7dXNlclNlbGVjdDpcIm5vbmVcIix3aWR0aDpcIjFlbVwiLGhlaWdodDpcIjFlbVwiLGRpc3BsYXk6XCJpbmxpbmUtYmxvY2tcIixmaWxsOlwiY3VycmVudENvbG9yXCIsZmxleFNocmluazowLGZvbnRTaXplOjI0LHRyYW5zaXRpb246ZS50cmFuc2l0aW9ucy5jcmVhdGUoXCJmaWxsXCIse2R1cmF0aW9uOmUudHJhbnNpdGlvbnMuZHVyYXRpb24uc2hvcnRlcn0pfSxjb2xvclByaW1hcnk6e2NvbG9yOmUucGFsZXR0ZS5wcmltYXJ5Lm1haW59LGNvbG9yU2Vjb25kYXJ5Ontjb2xvcjplLnBhbGV0dGUuc2Vjb25kYXJ5Lm1haW59LGNvbG9yQWN0aW9uOntjb2xvcjplLnBhbGV0dGUuYWN0aW9uLmFjdGl2ZX0sY29sb3JFcnJvcjp7Y29sb3I6ZS5wYWxldHRlLmVycm9yLm1haW59LGNvbG9yRGlzYWJsZWQ6e2NvbG9yOmUucGFsZXR0ZS5hY3Rpb24uZGlzYWJsZWR9LGZvbnRTaXplSW5oZXJpdDp7Zm9udFNpemU6XCJpbmhlcml0XCJ9LGZvbnRTaXplU21hbGw6e2ZvbnRTaXplOjIwfSxmb250U2l6ZUxhcmdlOntmb250U2l6ZTozNX19fTtmdW5jdGlvbiBkKGUpe3ZhciB0LG49ZS5jaGlsZHJlbixpPWUuY2xhc3NlcyxjPWUuY2xhc3NOYW1lLGg9ZS5jb2xvcixkPWUuY29tcG9uZW50LHA9ZS5mb250U2l6ZSxmPWUubmF0aXZlQ29sb3IsbT1lLnRpdGxlQWNjZXNzLGc9ZS52aWV3Qm94LHk9KDAsYS5kZWZhdWx0KShlLFtcImNoaWxkcmVuXCIsXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNvbG9yXCIsXCJjb21wb25lbnRcIixcImZvbnRTaXplXCIsXCJuYXRpdmVDb2xvclwiLFwidGl0bGVBY2Nlc3NcIixcInZpZXdCb3hcIl0pO3JldHVybiBzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChkLCgwLHIuZGVmYXVsdCkoe2NsYXNzTmFtZTooMCxsLmRlZmF1bHQpKGkucm9vdCwodD17fSwoMCxvLmRlZmF1bHQpKHQsaVtcImNvbG9yXCIuY29uY2F0KCgwLHUuY2FwaXRhbGl6ZSkoaCkpXSxcImluaGVyaXRcIiE9PWgpLCgwLG8uZGVmYXVsdCkodCxpW1wiZm9udFNpemVcIi5jb25jYXQoKDAsdS5jYXBpdGFsaXplKShwKSldLFwiZGVmYXVsdFwiIT09cCksdCksYyksZm9jdXNhYmxlOlwiZmFsc2VcIix2aWV3Qm94OmcsY29sb3I6ZixcImFyaWEtaGlkZGVuXCI6bT9cImZhbHNlXCI6XCJ0cnVlXCIscm9sZTptP1wiaW1nXCI6XCJwcmVzZW50YXRpb25cIn0seSksbixtP3MuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwidGl0bGVcIixudWxsLG0pOm51bGwpfXQuc3R5bGVzPWgsZC5kZWZhdWx0UHJvcHM9e2NvbG9yOlwiaW5oZXJpdFwiLGNvbXBvbmVudDpcInN2Z1wiLGZvbnRTaXplOlwiZGVmYXVsdFwiLHZpZXdCb3g6XCIwIDAgMjQgMjRcIn0sZC5tdWlOYW1lPVwiU3ZnSWNvblwiO3ZhciBwPSgwLGMuZGVmYXVsdCkoaCx7bmFtZTpcIk11aVN2Z0ljb25cIn0pKGQpO3QuZGVmYXVsdD1wfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dm9pZCAwO3ZhciByPWkobigxKSksbz1pKG4oNjMpKSxhPWkobig2NikpLHM9ci5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIse2Q6XCJNMTIgN2MtMi43NiAwLTUgMi4yNC01IDVzMi4yNCA1IDUgNSA1LTIuMjQgNS01LTIuMjQtNS01LTV6bTAtNUM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMCAxOGMtNC40MiAwLTgtMy41OC04LThzMy41OC04IDgtOCA4IDMuNTggOCA4LTMuNTggOC04IDh6XCJ9KSxsPWZ1bmN0aW9uKGUpe3JldHVybiByLmRlZmF1bHQuY3JlYXRlRWxlbWVudChhLmRlZmF1bHQsZSxzKX07KGw9KDAsby5kZWZhdWx0KShsKSkubXVpTmFtZT1cIlN2Z0ljb25cIjt2YXIgYz1sO3QuZGVmYXVsdD1jfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gci5kZWZhdWx0fX0pO3ZhciByPWkobigxODQpKX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5kZWZhdWx0PXZvaWQgMDt2YXIgcj1pKG4oMikpLG89aShuKDQpKSxhPWkobigxMCkpLHM9aShuKDExKSksbD1pKG4oMTIpKSxjPWkobigxMykpLHU9aShuKDE0KSksaD1pKG4oMSkpLGQ9KGkobigzKSksaShuKDYpKSxpKG4oMTg1KSkpLHA9bigxNiksZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciBuO3JldHVybigwLGEuZGVmYXVsdCkodGhpcyx0KSwobj0oMCxsLmRlZmF1bHQpKHRoaXMsKDAsYy5kZWZhdWx0KSh0KS5jYWxsKHRoaXMpKSkucmFkaW9zPVtdLG4uZm9jdXM9ZnVuY3Rpb24oKXtpZihuLnJhZGlvcyYmbi5yYWRpb3MubGVuZ3RoKXt2YXIgZT1uLnJhZGlvcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFlLmRpc2FibGVkfSkpO2lmKGUubGVuZ3RoKXt2YXIgdD0oMCxwLmZpbmQpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNoZWNrZWR9KSk7dD90LmZvY3VzKCk6ZVswXS5mb2N1cygpfX19LG4uaGFuZGxlQ2hhbmdlPWZ1bmN0aW9uKGUpe24uaXNDb250cm9sbGVkfHxuLnNldFN0YXRlKHt2YWx1ZTplLnRhcmdldC52YWx1ZX0pLG4ucHJvcHMub25DaGFuZ2UmJm4ucHJvcHMub25DaGFuZ2UoZSxlLnRhcmdldC52YWx1ZSl9LG4uaXNDb250cm9sbGVkPW51bGwhPWUudmFsdWUsbi5pc0NvbnRyb2xsZWR8fChuLnN0YXRlPXt2YWx1ZTplLmRlZmF1bHRWYWx1ZX0pLG59cmV0dXJuKDAsdS5kZWZhdWx0KSh0LGUpLCgwLHMuZGVmYXVsdCkodCxbe2tleTpcInJlbmRlclwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PXRoaXMucHJvcHMsbj10LmNoaWxkcmVuLGk9dC5uYW1lLGE9dC52YWx1ZSxzPSh0Lm9uQ2hhbmdlLCgwLG8uZGVmYXVsdCkodCxbXCJjaGlsZHJlblwiLFwibmFtZVwiLFwidmFsdWVcIixcIm9uQ2hhbmdlXCJdKSksbD10aGlzLmlzQ29udHJvbGxlZD9hOnRoaXMuc3RhdGUudmFsdWU7cmV0dXJuIHRoaXMucmFkaW9zPVtdLGguZGVmYXVsdC5jcmVhdGVFbGVtZW50KGQuZGVmYXVsdCwoMCxyLmRlZmF1bHQpKHtyb2xlOlwicmFkaW9ncm91cFwifSxzKSxoLmRlZmF1bHQuQ2hpbGRyZW4ubWFwKG4sKGZ1bmN0aW9uKHQpe3JldHVybiBoLmRlZmF1bHQuaXNWYWxpZEVsZW1lbnQodCk/aC5kZWZhdWx0LmNsb25lRWxlbWVudCh0LHtuYW1lOmksaW5wdXRSZWY6ZnVuY3Rpb24odCl7dCYmZS5yYWRpb3MucHVzaCh0KX0sY2hlY2tlZDpsPT09dC5wcm9wcy52YWx1ZSxvbkNoYW5nZTooMCxwLmNyZWF0ZUNoYWluZWRGdW5jdGlvbikodC5wcm9wcy5vbkNoYW5nZSxlLmhhbmRsZUNoYW5nZSl9KTpudWxsfSkpKX19XSksdH0oaC5kZWZhdWx0LkNvbXBvbmVudCk7dC5kZWZhdWx0PWZ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmRlZmF1bHR9fSk7dmFyIHI9aShuKDE4NikpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciByPWkobigyKSksbz1pKG4oNSkpLGE9aShuKDQpKSxzPWkobigxKSksbD0oaShuKDMpKSxpKG4oOCkpKSxjPWkobig5KSksdT17cm9vdDp7ZGlzcGxheTpcImZsZXhcIixmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIsZmxleFdyYXA6XCJ3cmFwXCJ9LHJvdzp7ZmxleERpcmVjdGlvbjpcInJvd1wifX07ZnVuY3Rpb24gaChlKXt2YXIgdD1lLmNsYXNzZXMsbj1lLmNsYXNzTmFtZSxpPWUuY2hpbGRyZW4sYz1lLnJvdyx1PSgwLGEuZGVmYXVsdCkoZSxbXCJjbGFzc2VzXCIsXCJjbGFzc05hbWVcIixcImNoaWxkcmVuXCIsXCJyb3dcIl0pO3JldHVybiBzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCgwLHIuZGVmYXVsdCkoe2NsYXNzTmFtZTooMCxsLmRlZmF1bHQpKHQucm9vdCwoMCxvLmRlZmF1bHQpKHt9LHQucm93LGMpLG4pfSx1KSxpKX10LnN0eWxlcz11LGguZGVmYXVsdFByb3BzPXtyb3c6ITF9O3ZhciBkPSgwLGMuZGVmYXVsdCkodSx7bmFtZTpcIk11aUZvcm1Hcm91cFwifSkoaCk7dC5kZWZhdWx0PWR9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmRlZmF1bHR9fSk7dmFyIHI9aShuKDE4OCkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciByPWkobigyKSksbz1pKG4oNSkpLGE9aShuKDQpKSxzPWkobigxKSksbD0oaShuKDMpKSxpKG4oOCkpKSxjPWkobigzOSkpLHU9aShuKDkpKSxoPWkobigyNykpLGQ9bigxNikscD1mdW5jdGlvbihlKXtyZXR1cm57cm9vdDp7ZGlzcGxheTpcImlubGluZS1mbGV4XCIsYWxpZ25JdGVtczpcImNlbnRlclwiLGN1cnNvcjpcInBvaW50ZXJcIix2ZXJ0aWNhbEFsaWduOlwibWlkZGxlXCIsV2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I6XCJ0cmFuc3BhcmVudFwiLG1hcmdpbkxlZnQ6LTE0LG1hcmdpblJpZ2h0OjE2LFwiJiRkaXNhYmxlZFwiOntjdXJzb3I6XCJkZWZhdWx0XCJ9fSxsYWJlbFBsYWNlbWVudFN0YXJ0OntmbGV4RGlyZWN0aW9uOlwicm93LXJldmVyc2VcIixtYXJnaW5MZWZ0OjE2LG1hcmdpblJpZ2h0Oi0xNH0sbGFiZWxQbGFjZW1lbnRUb3A6e2ZsZXhEaXJlY3Rpb246XCJjb2x1bW4tcmV2ZXJzZVwiLG1hcmdpbkxlZnQ6MTZ9LGxhYmVsUGxhY2VtZW50Qm90dG9tOntmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIsbWFyZ2luTGVmdDoxNn0sZGlzYWJsZWQ6e30sbGFiZWw6e1wiJiRkaXNhYmxlZFwiOntjb2xvcjplLnBhbGV0dGUudGV4dC5kaXNhYmxlZH19fX07ZnVuY3Rpb24gZihlKXtlLmNoZWNrZWQ7dmFyIHQsbj1lLmNsYXNzZXMsaT1lLmNsYXNzTmFtZSxjPWUuY29udHJvbCx1PWUuZGlzYWJsZWQscD0oZS5pbnB1dFJlZixlLmxhYmVsKSxmPWUubGFiZWxQbGFjZW1lbnQsbT1lLm11aUZvcm1Db250cm9sLGc9KGUubmFtZSxlLm9uQ2hhbmdlLGUudmFsdWUsKDAsYS5kZWZhdWx0KShlLFtcImNoZWNrZWRcIixcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiY29udHJvbFwiLFwiZGlzYWJsZWRcIixcImlucHV0UmVmXCIsXCJsYWJlbFwiLFwibGFiZWxQbGFjZW1lbnRcIixcIm11aUZvcm1Db250cm9sXCIsXCJuYW1lXCIsXCJvbkNoYW5nZVwiLFwidmFsdWVcIl0pKSx5PXU7dm9pZCAwPT09eSYmdm9pZCAwIT09Yy5wcm9wcy5kaXNhYmxlZCYmKHk9Yy5wcm9wcy5kaXNhYmxlZCksdm9pZCAwPT09eSYmbSYmKHk9bS5kaXNhYmxlZCk7dmFyIF89e2Rpc2FibGVkOnl9O3JldHVybltcImNoZWNrZWRcIixcIm5hbWVcIixcIm9uQ2hhbmdlXCIsXCJ2YWx1ZVwiLFwiaW5wdXRSZWZcIl0uZm9yRWFjaCgoZnVuY3Rpb24odCl7dm9pZCAwPT09Yy5wcm9wc1t0XSYmdm9pZCAwIT09ZVt0XSYmKF9bdF09ZVt0XSl9KSkscy5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiLCgwLHIuZGVmYXVsdCkoe2NsYXNzTmFtZTooMCxsLmRlZmF1bHQpKG4ucm9vdCwodD17fSwoMCxvLmRlZmF1bHQpKHQsbltcImxhYmVsUGxhY2VtZW50XCIuY29uY2F0KCgwLGQuY2FwaXRhbGl6ZSkoZikpXSxcImVuZFwiIT09ZiksKDAsby5kZWZhdWx0KSh0LG4uZGlzYWJsZWQseSksdCksaSl9LGcpLHMuZGVmYXVsdC5jbG9uZUVsZW1lbnQoYyxfKSxzLmRlZmF1bHQuY3JlYXRlRWxlbWVudChoLmRlZmF1bHQse2NvbXBvbmVudDpcInNwYW5cIixjbGFzc05hbWU6KDAsbC5kZWZhdWx0KShuLmxhYmVsLCgwLG8uZGVmYXVsdCkoe30sbi5kaXNhYmxlZCx5KSl9LHApKX10LnN0eWxlcz1wLGYuZGVmYXVsdFByb3BzPXtsYWJlbFBsYWNlbWVudDpcImVuZFwifTt2YXIgbT0oMCx1LmRlZmF1bHQpKHAse25hbWU6XCJNdWlGb3JtQ29udHJvbExhYmVsXCJ9KSgoMCxjLmRlZmF1bHQpKGYpKTt0LmRlZmF1bHQ9bX0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO3ZhciBpPW4oMCk7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJkZWZhdWx0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHIuZGVmYXVsdH19KTt2YXIgcj1pKG4oMTkwKSl9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD10LnN0eWxlcz12b2lkIDA7dmFyIHI9aShuKDIpKSxvPWkobig1KSksYT1pKG4oNCkpLHM9aShuKDEwKSksbD1pKG4oMTIpKSxjPWkobigxMykpLHU9aShuKDExKSksaD1pKG4oMTQpKSxkPWkobigxKSkscD0oaShuKDMpKSxpKG4oOCkpKSxmPShuKDcpLG4oMTkxKSksbT1pKG4oOSkpLGc9bigxNikseT1uKDE5MiksXz1pKG4oNTkpKSx2PXtyb290OntkaXNwbGF5OlwiaW5saW5lLWZsZXhcIixmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIscG9zaXRpb246XCJyZWxhdGl2ZVwiLG1pbldpZHRoOjAscGFkZGluZzowLG1hcmdpbjowLGJvcmRlcjowLHZlcnRpY2FsQWxpZ246XCJ0b3BcIn0sbWFyZ2luTm9ybWFsOnttYXJnaW5Ub3A6MTYsbWFyZ2luQm90dG9tOjh9LG1hcmdpbkRlbnNlOnttYXJnaW5Ub3A6OCxtYXJnaW5Cb3R0b206NH0sZnVsbFdpZHRoOnt3aWR0aDpcIjEwMCVcIn19O3Quc3R5bGVzPXY7dmFyIHg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXt2YXIgbjsoMCxzLmRlZmF1bHQpKHRoaXMsdCksKG49KDAsbC5kZWZhdWx0KSh0aGlzLCgwLGMuZGVmYXVsdCkodCkuY2FsbCh0aGlzKSkpLmhhbmRsZUZvY3VzPWZ1bmN0aW9uKCl7bi5zZXRTdGF0ZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9jdXNlZD9udWxsOntmb2N1c2VkOiEwfX0pKX0sbi5oYW5kbGVCbHVyPWZ1bmN0aW9uKCl7bi5zZXRTdGF0ZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZm9jdXNlZD97Zm9jdXNlZDohMX06bnVsbH0pKX0sbi5oYW5kbGVEaXJ0eT1mdW5jdGlvbigpe24uc3RhdGUuZmlsbGVkfHxuLnNldFN0YXRlKHtmaWxsZWQ6ITB9KX0sbi5oYW5kbGVDbGVhbj1mdW5jdGlvbigpe24uc3RhdGUuZmlsbGVkJiZuLnNldFN0YXRlKHtmaWxsZWQ6ITF9KX0sbi5zdGF0ZT17YWRvcm5lZFN0YXJ0OiExLGZpbGxlZDohMSxmb2N1c2VkOiExfTt2YXIgaT1lLmNoaWxkcmVuO3JldHVybiBpJiZkLmRlZmF1bHQuQ2hpbGRyZW4uZm9yRWFjaChpLChmdW5jdGlvbihlKXtpZigoMCx5LmlzTXVpRWxlbWVudCkoZSxbXCJJbnB1dFwiLFwiU2VsZWN0XCJdKSl7KDAsZi5pc0ZpbGxlZCkoZS5wcm9wcywhMCkmJihuLnN0YXRlLmZpbGxlZD0hMCk7dmFyIHQ9KDAseS5pc011aUVsZW1lbnQpKGUsW1wiU2VsZWN0XCJdKT9lLnByb3BzLmlucHV0OmU7dCYmKDAsZi5pc0Fkb3JuZWRTdGFydCkodC5wcm9wcykmJihuLnN0YXRlLmFkb3JuZWRTdGFydD0hMCl9fSkpLG59cmV0dXJuKDAsaC5kZWZhdWx0KSh0LGUpLCgwLHUuZGVmYXVsdCkodCxudWxsLFt7a2V5OlwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXCIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5kaXNhYmxlZCYmdC5mb2N1c2VkP3tmb2N1c2VkOiExfTpudWxsfX1dKSwoMCx1LmRlZmF1bHQpKHQsW3trZXk6XCJyZW5kZXJcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlLHQ9dGhpcy5wcm9wcyxuPXQuY2xhc3NlcyxpPXQuY2xhc3NOYW1lLHM9dC5jb21wb25lbnQsbD10LmRpc2FibGVkLGM9dC5lcnJvcix1PXQuZnVsbFdpZHRoLGg9dC5tYXJnaW4sZj10LnJlcXVpcmVkLG09dC52YXJpYW50LHk9KDAsYS5kZWZhdWx0KSh0LFtcImNsYXNzZXNcIixcImNsYXNzTmFtZVwiLFwiY29tcG9uZW50XCIsXCJkaXNhYmxlZFwiLFwiZXJyb3JcIixcImZ1bGxXaWR0aFwiLFwibWFyZ2luXCIsXCJyZXF1aXJlZFwiLFwidmFyaWFudFwiXSksdj10aGlzLnN0YXRlLHg9e2Fkb3JuZWRTdGFydDp2LmFkb3JuZWRTdGFydCxkaXNhYmxlZDpsLGVycm9yOmMsZmlsbGVkOnYuZmlsbGVkLGZvY3VzZWQ6di5mb2N1c2VkLG1hcmdpbjpoLG9uQmx1cjp0aGlzLmhhbmRsZUJsdXIsb25FbXB0eTp0aGlzLmhhbmRsZUNsZWFuLG9uRmlsbGVkOnRoaXMuaGFuZGxlRGlydHksb25Gb2N1czp0aGlzLmhhbmRsZUZvY3VzLHJlcXVpcmVkOmYsdmFyaWFudDptfTtyZXR1cm4gZC5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXy5kZWZhdWx0LlByb3ZpZGVyLHt2YWx1ZTp4fSxkLmRlZmF1bHQuY3JlYXRlRWxlbWVudChzLCgwLHIuZGVmYXVsdCkoe2NsYXNzTmFtZTooMCxwLmRlZmF1bHQpKG4ucm9vdCwoZT17fSwoMCxvLmRlZmF1bHQpKGUsbltcIm1hcmdpblwiLmNvbmNhdCgoMCxnLmNhcGl0YWxpemUpKGgpKV0sXCJub25lXCIhPT1oKSwoMCxvLmRlZmF1bHQpKGUsbi5mdWxsV2lkdGgsdSksZSksaSl9LHkpKSl9fV0pLHR9KGQuZGVmYXVsdC5Db21wb25lbnQpO3guZGVmYXVsdFByb3BzPXtjb21wb25lbnQ6XCJkaXZcIixkaXNhYmxlZDohMSxlcnJvcjohMSxmdWxsV2lkdGg6ITEsbWFyZ2luOlwibm9uZVwiLHJlcXVpcmVkOiExLHZhcmlhbnQ6XCJzdGFuZGFyZFwifTt2YXIgYj0oMCxtLmRlZmF1bHQpKHYse25hbWU6XCJNdWlGb3JtQ29udHJvbFwifSkoeCk7dC5kZWZhdWx0PWJ9LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBpKGUpe3JldHVybiBudWxsIT1lJiYhKEFycmF5LmlzQXJyYXkoZSkmJjA9PT1lLmxlbmd0aCl9T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksdC5oYXNWYWx1ZT1pLHQuaXNGaWxsZWQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtyZXR1cm4gZSYmKGkoZS52YWx1ZSkmJlwiXCIhPT1lLnZhbHVlfHx0JiZpKGUuZGVmYXVsdFZhbHVlKSYmXCJcIiE9PWUuZGVmYXVsdFZhbHVlKX0sdC5pc0Fkb3JuZWRTdGFydD1mdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydEFkb3JubWVudH19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuY2xvbmVFbGVtZW50V2l0aENsYXNzTmFtZT1hLHQuY2xvbmVDaGlsZHJlbldpdGhDbGFzc05hbWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gci5kZWZhdWx0LkNoaWxkcmVuLm1hcChlLChmdW5jdGlvbihlKXtyZXR1cm4gci5kZWZhdWx0LmlzVmFsaWRFbGVtZW50KGUpJiZhKGUsdCl9KSl9LHQuaXNNdWlFbGVtZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuZGVmYXVsdC5pc1ZhbGlkRWxlbWVudChlKSYmLTEhPT10LmluZGV4T2YoZS50eXBlLm11aU5hbWUpfSx0LnNldFJlZj1mdW5jdGlvbihlLHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSh0KTplJiYoZS5jdXJyZW50PXQpfTt2YXIgcj1pKG4oMSkpLG89aShuKDgpKTtmdW5jdGlvbiBhKGUsdCl7cmV0dXJuIHIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoZSx7Y2xhc3NOYW1lOigwLG8uZGVmYXVsdCkoZS5wcm9wcy5jbGFzc05hbWUsdCl9KX19LGZ1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDApO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiByLmRlZmF1bHR9fSk7dmFyIHI9aShuKDE5NCkpfSxmdW5jdGlvbihlLHQsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSx0LmRlZmF1bHQ9dC5zdHlsZXM9dm9pZCAwO3ZhciByPWkobigyKSksbz1pKG4oNSkpLGE9aShuKDQpKSxzPWkobigxKSksbD0oaShuKDMpKSxpKG4oOCkpKSxjPShuKDcpLGkobigxOTUpKSksdT1pKG4oMzkpKSxoPWkobig5KSksZD1mdW5jdGlvbihlKXtyZXR1cm57cm9vdDp7Zm9udEZhbWlseTplLnR5cG9ncmFwaHkuZm9udEZhbWlseSxjb2xvcjplLnBhbGV0dGUudGV4dC5zZWNvbmRhcnksZm9udFNpemU6ZS50eXBvZ3JhcGh5LnB4VG9SZW0oMTYpLGxpbmVIZWlnaHQ6MSxwYWRkaW5nOjAsXCImJGZvY3VzZWRcIjp7Y29sb3I6ZS5wYWxldHRlLnByaW1hcnlbXCJsaWdodFwiPT09ZS5wYWxldHRlLnR5cGU/XCJkYXJrXCI6XCJsaWdodFwiXX0sXCImJGRpc2FibGVkXCI6e2NvbG9yOmUucGFsZXR0ZS50ZXh0LmRpc2FibGVkfSxcIiYkZXJyb3JcIjp7Y29sb3I6ZS5wYWxldHRlLmVycm9yLm1haW59fSxmb2N1c2VkOnt9LGRpc2FibGVkOnt9LGVycm9yOnt9LGZpbGxlZDp7fSxyZXF1aXJlZDp7fSxhc3Rlcmlzazp7XCImJGVycm9yXCI6e2NvbG9yOmUucGFsZXR0ZS5lcnJvci5tYWlufX19fTtmdW5jdGlvbiBwKGUpe3ZhciB0LG49ZS5jaGlsZHJlbixpPWUuY2xhc3Nlcyx1PWUuY2xhc3NOYW1lLGg9ZS5jb21wb25lbnQsZD0oZS5kaXNhYmxlZCxlLmVycm9yLGUuZmlsbGVkLGUuZm9jdXNlZCxlLm11aUZvcm1Db250cm9sKSxwPShlLnJlcXVpcmVkLCgwLGEuZGVmYXVsdCkoZSxbXCJjaGlsZHJlblwiLFwiY2xhc3Nlc1wiLFwiY2xhc3NOYW1lXCIsXCJjb21wb25lbnRcIixcImRpc2FibGVkXCIsXCJlcnJvclwiLFwiZmlsbGVkXCIsXCJmb2N1c2VkXCIsXCJtdWlGb3JtQ29udHJvbFwiLFwicmVxdWlyZWRcIl0pKSxmPSgwLGMuZGVmYXVsdCkoe3Byb3BzOmUsbXVpRm9ybUNvbnRyb2w6ZCxzdGF0ZXM6W1wicmVxdWlyZWRcIixcImZvY3VzZWRcIixcImRpc2FibGVkXCIsXCJlcnJvclwiLFwiZmlsbGVkXCJdfSk7cmV0dXJuIHMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KGgsKDAsci5kZWZhdWx0KSh7Y2xhc3NOYW1lOigwLGwuZGVmYXVsdCkoaS5yb290LCh0PXt9LCgwLG8uZGVmYXVsdCkodCxpLmRpc2FibGVkLGYuZGlzYWJsZWQpLCgwLG8uZGVmYXVsdCkodCxpLmVycm9yLGYuZXJyb3IpLCgwLG8uZGVmYXVsdCkodCxpLmZpbGxlZCxmLmZpbGxlZCksKDAsby5kZWZhdWx0KSh0LGkuZm9jdXNlZCxmLmZvY3VzZWQpLCgwLG8uZGVmYXVsdCkodCxpLnJlcXVpcmVkLGYucmVxdWlyZWQpLHQpLHUpfSxwKSxuLGYucmVxdWlyZWQmJnMuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLHtjbGFzc05hbWU6KDAsbC5kZWZhdWx0KShpLmFzdGVyaXNrLCgwLG8uZGVmYXVsdCkoe30saS5lcnJvcixmLmVycm9yKSl9LFwi4oCJKlwiKSl9dC5zdHlsZXM9ZCxwLmRlZmF1bHRQcm9wcz17Y29tcG9uZW50OlwibGFiZWxcIn07dmFyIGY9KDAsaC5kZWZhdWx0KShkLHtuYW1lOlwiTXVpRm9ybUxhYmVsXCJ9KSgoMCx1LmRlZmF1bHQpKHApKTt0LmRlZmF1bHQ9Zn0sZnVuY3Rpb24oZSx0LG4pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLHQuZGVmYXVsdD1mdW5jdGlvbihlKXt2YXIgdD1lLnByb3BzLG49ZS5zdGF0ZXMsaT1lLm11aUZvcm1Db250cm9sO3JldHVybiBuLnJlZHVjZSgoZnVuY3Rpb24oZSxuKXtyZXR1cm4gZVtuXT10W25dLGkmJnZvaWQgMD09PXRbbl0mJihlW25dPWlbbl0pLGV9KSx7fSl9fSxmdW5jdGlvbihlLHQsbil7dmFyIGk9bigxOTcpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW2UuaSxpLFwiXCJdXSk7dmFyIHI9e2htcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDM4KShpLHIpO2kubG9jYWxzJiYoZS5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24oZSx0LG4peyhlLmV4cG9ydHM9bigzNykoITEpKS5wdXNoKFtlLmksXCIubWFwYm94Z2wtbWFwey13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjpyZ2IoMCAwIDAvMCk7Zm9udDoxMnB4LzIwcHggSGVsdmV0aWNhIE5ldWUsQXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWY7b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOnJlbGF0aXZlfS5tYXBib3hnbC1jYW52YXN7bGVmdDowO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowfS5tYXBib3hnbC1tYXA6LXdlYmtpdC1mdWxsLXNjcmVlbntoZWlnaHQ6MTAwJTt3aWR0aDoxMDAlfS5tYXBib3hnbC1jYW5hcnl7YmFja2dyb3VuZC1jb2xvcjpzYWxtb259Lm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtaW50ZXJhY3RpdmUsLm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uLm1hcGJveGdsLWN0cmwtY29tcGFzc3tjdXJzb3I6Z3JhYjstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC1pbnRlcmFjdGl2ZS5tYXBib3hnbC10cmFjay1wb2ludGVye2N1cnNvcjpwb2ludGVyfS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLWludGVyYWN0aXZlOmFjdGl2ZSwubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b24ubWFwYm94Z2wtY3RybC1jb21wYXNzOmFjdGl2ZXtjdXJzb3I6Z3JhYmJpbmd9Lm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUsLm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtem9vbS1yb3RhdGUgLm1hcGJveGdsLWNhbnZhc3t0b3VjaC1hY3Rpb246cGFuLXggcGFuLXl9Lm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4sLm1hcGJveGdsLWNhbnZhcy1jb250YWluZXIubWFwYm94Z2wtdG91Y2gtZHJhZy1wYW4gLm1hcGJveGdsLWNhbnZhc3t0b3VjaC1hY3Rpb246cGluY2gtem9vbX0ubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZS5tYXBib3hnbC10b3VjaC1kcmFnLXBhbiwubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC16b29tLXJvdGF0ZS5tYXBib3hnbC10b3VjaC1kcmFnLXBhbiAubWFwYm94Z2wtY2FudmFze3RvdWNoLWFjdGlvbjpub25lfS5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0LC5tYXBib3hnbC1jdHJsLWJvdHRvbS1yaWdodCwubWFwYm94Z2wtY3RybC10b3AtbGVmdCwubWFwYm94Z2wtY3RybC10b3AtcmlnaHR7cG9pbnRlci1ldmVudHM6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjJ9Lm1hcGJveGdsLWN0cmwtdG9wLWxlZnR7bGVmdDowO3RvcDowfS5tYXBib3hnbC1jdHJsLXRvcC1yaWdodHtyaWdodDowO3RvcDowfS5tYXBib3hnbC1jdHJsLWJvdHRvbS1sZWZ0e2JvdHRvbTowO2xlZnQ6MH0ubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHR7Ym90dG9tOjA7cmlnaHQ6MH0ubWFwYm94Z2wtY3RybHtjbGVhcjpib3RoO3BvaW50ZXItZXZlbnRzOmF1dG87dHJhbnNmb3JtOnRyYW5zbGF0ZSgwKX0ubWFwYm94Z2wtY3RybC10b3AtbGVmdCAubWFwYm94Z2wtY3RybHtmbG9hdDpsZWZ0O21hcmdpbjoxMHB4IDAgMCAxMHB4fS5tYXBib3hnbC1jdHJsLXRvcC1yaWdodCAubWFwYm94Z2wtY3RybHtmbG9hdDpyaWdodDttYXJnaW46MTBweCAxMHB4IDAgMH0ubWFwYm94Z2wtY3RybC1ib3R0b20tbGVmdCAubWFwYm94Z2wtY3RybHtmbG9hdDpsZWZ0O21hcmdpbjowIDAgMTBweCAxMHB4fS5tYXBib3hnbC1jdHJsLWJvdHRvbS1yaWdodCAubWFwYm94Z2wtY3RybHtmbG9hdDpyaWdodDttYXJnaW46MCAxMHB4IDEwcHggMH0ubWFwYm94Z2wtY3RybC1ncm91cHtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyLXJhZGl1czo0cHh9Lm1hcGJveGdsLWN0cmwtZ3JvdXA6bm90KDplbXB0eSl7Ym94LXNoYWRvdzowIDAgMCAycHggcmdiYSgwLDAsMCwuMSl9QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5tYXBib3hnbC1jdHJsLWdyb3VwOm5vdCg6ZW1wdHkpe2JveC1zaGFkb3c6MCAwIDAgMnB4IEJ1dHRvblRleHR9fS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlcjowO2JveC1zaXppbmc6Ym9yZGVyLWJveDtjdXJzb3I6cG9pbnRlcjtkaXNwbGF5OmJsb2NrO2hlaWdodDoyOXB4O291dGxpbmU6bm9uZTtvdmVyZmxvdzpoaWRkZW47cGFkZGluZzowO3dpZHRoOjI5cHh9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uK2J1dHRvbntib3JkZXItdG9wOjFweCBzb2xpZCAjZGRkfS5tYXBib3hnbC1jdHJsIGJ1dHRvbiAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtcG9zaXRpb246NTAlO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtkaXNwbGF5OmJsb2NrO2hlaWdodDoxMDAlO3dpZHRoOjEwMCV9QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0ubWFwYm94Z2wtY3RybC1ncm91cCBidXR0b24rYnV0dG9ue2JvcmRlci10b3A6MXB4IHNvbGlkIEJ1dHRvblRleHR9fS5tYXBib3hnbC1jdHJsLWF0dHJpYi1idXR0b246Zm9jdXMsLm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uOmZvY3Vze2JveC1zaGFkb3c6MCAwIDJweCAycHggIzAwOTZmZn0ubWFwYm94Z2wtY3RybCBidXR0b246ZGlzYWJsZWR7Y3Vyc29yOm5vdC1hbGxvd2VkfS5tYXBib3hnbC1jdHJsIGJ1dHRvbjpkaXNhYmxlZCAubWFwYm94Z2wtY3RybC1pY29ue29wYWNpdHk6LjI1fS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbjpmaXJzdC1jaGlsZHtib3JkZXItcmFkaXVzOjRweCA0cHggMCAwfS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbjpsYXN0LWNoaWxke2JvcmRlci1yYWRpdXM6MCAwIDRweCA0cHh9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uOm9ubHktY2hpbGR7Ym9yZGVyLXJhZGl1czppbmhlcml0fS5tYXBib3hnbC1jdHJsIGJ1dHRvbjpub3QoOmRpc2FibGVkKTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOnJnYigwIDAgMC81JSl9Lm1hcGJveGdsLWN0cmwtZ3JvdXAgYnV0dG9uOmZvY3VzOmZvY3VzLXZpc2libGV7Ym94LXNoYWRvdzowIDAgMnB4IDJweCAjMDA5NmZmfS5tYXBib3hnbC1jdHJsLWdyb3VwIGJ1dHRvbjpmb2N1czpub3QoOmZvY3VzLXZpc2libGUpe2JveC1zaGFkb3c6bm9uZX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLW91dCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzMzJyUzRSUzQ3BhdGggZD0nTTEwIDEzYy0uNzUgMC0xLjUuNzUtMS41IDEuNVM5LjI1IDE2IDEwIDE2aDljLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC05eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXpvb20taW4gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzMzMyclM0UlM0NwYXRoIGQ9J00xNC41IDguNWMtLjc1IDAtMS41Ljc1LTEuNSAxLjV2M2gtM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmgzdjNjMCAuNzUuNzUgMS41IDEuNSAxLjVTMTYgMTkuNzUgMTYgMTl2LTNoM2MuNzUgMCAxLjUtLjc1IDEuNS0xLjVTMTkuNzUgMTMgMTkgMTNoLTN2LTNjMC0uNzUtLjc1LTEuNS0xLjUtMS41eicvJTNFJTNDL3N2ZyUzRVxcXCIpfUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLW91dCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTEwIDEzYy0uNzUgMC0xLjUuNzUtMS41IDEuNVM5LjI1IDE2IDEwIDE2aDljLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC05eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXpvb20taW4gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00xNC41IDguNWMtLjc1IDAtMS41Ljc1LTEuNSAxLjV2M2gtM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmgzdjNjMCAuNzUuNzUgMS41IDEuNSAxLjVTMTYgMTkuNzUgMTYgMTl2LTNoM2MuNzUgMCAxLjUtLjc1IDEuNS0xLjVTMTkuNzUgMTMgMTkgMTNoLTN2LTNjMC0uNzUtLjc1LTEuNS0xLjUtMS41eicvJTNFJTNDL3N2ZyUzRVxcXCIpfX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmJsYWNrLW9uLXdoaXRlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC16b29tLW91dCAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMDAwJyUzRSUzQ3BhdGggZD0nTTEwIDEzYy0uNzUgMC0xLjUuNzUtMS41IDEuNVM5LjI1IDE2IDEwIDE2aDljLjc1IDAgMS41LS43NSAxLjUtMS41UzE5Ljc1IDEzIDE5IDEzaC05eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXpvb20taW4gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzAwMCclM0UlM0NwYXRoIGQ9J00xNC41IDguNWMtLjc1IDAtMS41Ljc1LTEuNSAxLjV2M2gtM2MtLjc1IDAtMS41Ljc1LTEuNSAxLjVTOS4yNSAxNiAxMCAxNmgzdjNjMCAuNzUuNzUgMS41IDEuNSAxLjVTMTYgMTkuNzUgMTYgMTl2LTNoM2MuNzUgMCAxLjUtLjc1IDEuNS0xLjVTMTkuNzUgMTMgMTkgMTNoLTN2LTNjMC0uNzUtLjc1LTEuNS0xLjUtMS41eicvJTNFJTNDL3N2ZyUzRVxcXCIpfX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzMzMnJTNFJTNDcGF0aCBkPSdNMjQgMTZ2NS41YzAgMS43NS0uNzUgMi41LTIuNSAyLjVIMTZ2LTFsMy0xLjUtNC01LjUgMS0xIDUuNSA0IDEuNS0zaDF6TTYgMTZsMS41IDMgNS41LTQgMSAxLTQgNS41IDMgMS41djFINy41QzUuNzUgMjQgNSAyMy4yNSA1IDIxLjVWMTZoMXptNy0xMXYxbC0zIDEuNSA0IDUuNS0xIDEtNS41LTRMNiAxM0g1VjcuNUM1IDUuNzUgNS43NSA1IDcuNSA1SDEzem0xMSAyLjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUgxNnYxbDMgMS41LTQgNS41IDEgMSA1LjUtNCAxLjUgM2gxVjcuNXonLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1zaHJpbmsgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnJTNFJTNDcGF0aCBkPSdNMTguNSAxNmMtMS43NSAwLTIuNS43NS0yLjUgMi41VjI0aDFsMS41LTMgNS41IDQgMS0xLTQtNS41IDMtMS41di0xaC01LjV6TTEzIDE4LjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUg1djFsMyAxLjVMNCAyNGwxIDEgNS41LTQgMS41IDNoMXYtNS41em0zLThjMCAxLjc1Ljc1IDIuNSAyLjUgMi41SDI0di0xbC0zLTEuNUwyNSA1bC0xLTEtNS41IDRMMTcgNWgtMXY1LjV6TTEwLjUgMTNjMS43NSAwIDIuNS0uNzUgMi41LTIuNVY1aC0xbC0xLjUgM0w1IDQgNCA1bDQgNS41TDUgMTJ2MWg1LjV6Jy8lM0UlM0Mvc3ZnJTNFXFxcIil9QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWZ1bGxzY3JlZW4gLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00yNCAxNnY1LjVjMCAxLjc1LS43NSAyLjUtMi41IDIuNUgxNnYtMWwzLTEuNS00LTUuNSAxLTEgNS41IDQgMS41LTNoMXpNNiAxNmwxLjUgMyA1LjUtNCAxIDEtNCA1LjUgMyAxLjV2MUg3LjVDNS43NSAyNCA1IDIzLjI1IDUgMjEuNVYxNmgxem03LTExdjFsLTMgMS41IDQgNS41LTEgMS01LjUtNEw2IDEzSDVWNy41QzUgNS43NSA1Ljc1IDUgNy41IDVIMTN6bTExIDIuNWMwLTEuNzUtLjc1LTIuNS0yLjUtMi41SDE2djFsMyAxLjUtNCA1LjUgMSAxIDUuNS00IDEuNSAzaDFWNy41eicvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLXNocmluayAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTE4LjUgMTZjLTEuNzUgMC0yLjUuNzUtMi41IDIuNVYyNGgxbDEuNS0zIDUuNSA0IDEtMS00LTUuNSAzLTEuNXYtMWgtNS41ek0xMyAxOC41YzAtMS43NS0uNzUtMi41LTIuNS0yLjVINXYxbDMgMS41TDQgMjRsMSAxIDUuNS00IDEuNSAzaDF2LTUuNXptMy04YzAgMS43NS43NSAyLjUgMi41IDIuNUgyNHYtMWwtMy0xLjVMMjUgNWwtMS0xLTUuNSA0TDE3IDVoLTF2NS41ek0xMC41IDEzYzEuNzUgMCAyLjUtLjc1IDIuNS0yLjVWNWgtMWwtMS41IDNMNSA0IDQgNWw0IDUuNUw1IDEydjFoNS41eicvJTNFJTNDL3N2ZyUzRVxcXCIpfX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmJsYWNrLW9uLXdoaXRlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1mdWxsc2NyZWVuIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMwMDAnJTNFJTNDcGF0aCBkPSdNMjQgMTZ2NS41YzAgMS43NS0uNzUgMi41LTIuNSAyLjVIMTZ2LTFsMy0xLjUtNC01LjUgMS0xIDUuNSA0IDEuNS0zaDF6TTYgMTZsMS41IDMgNS41LTQgMSAxLTQgNS41IDMgMS41djFINy41QzUuNzUgMjQgNSAyMy4yNSA1IDIxLjVWMTZoMXptNy0xMXYxbC0zIDEuNSA0IDUuNS0xIDEtNS41LTRMNiAxM0g1VjcuNUM1IDUuNzUgNS43NSA1IDcuNSA1SDEzem0xMSAyLjVjMC0xLjc1LS43NS0yLjUtMi41LTIuNUgxNnYxbDMgMS41LTQgNS41IDEgMSA1LjUtNCAxLjUgM2gxVjcuNXonLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1zaHJpbmsgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyMzAwMCclM0UlM0NwYXRoIGQ9J00xOC41IDE2Yy0xLjc1IDAtMi41Ljc1LTIuNSAyLjVWMjRoMWwxLjUtMyA1LjUgNCAxLTEtNC01LjUgMy0xLjV2LTFoLTUuNXpNMTMgMTguNWMwLTEuNzUtLjc1LTIuNS0yLjUtMi41SDV2MWwzIDEuNUw0IDI0bDEgMSA1LjUtNCAxLjUgM2gxdi01LjV6bTMtOGMwIDEuNzUuNzUgMi41IDIuNSAyLjVIMjR2LTFsLTMtMS41TDI1IDVsLTEtMS01LjUgNEwxNyA1aC0xdjUuNXpNMTAuNSAxM2MxLjc1IDAgMi41LS43NSAyLjUtMi41VjVoLTFsLTEuNSAzTDUgNCA0IDVsNCA1LjVMNSAxMnYxaDUuNXonLyUzRSUzQy9zdmclM0VcXFwiKX19Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtY29tcGFzcyAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjkgMjknIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzMzMzJyUzRSUzQ3BhdGggZD0nTTEwLjUgMTRsNC04IDQgOGgtOHonLyUzRSUzQ3BhdGggaWQ9J3NvdXRoJyBkPSdNMTAuNSAxNmw0IDggNC04aC04eicgZmlsbD0nJTIzY2NjJy8lM0UlM0Mvc3ZnJTNFXFxcIil9QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDphY3RpdmUpey5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWNvbXBhc3MgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDI5IDI5JyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2ZmZiclM0UlM0NwYXRoIGQ9J00xMC41IDE0bDQtOCA0IDhoLTh6Jy8lM0UlM0NwYXRoIGlkPSdzb3V0aCcgZD0nTTEwLjUgMTZsNCA4IDQtOGgtOHonIGZpbGw9JyUyMzk5OScvJTNFJTNDL3N2ZyUzRVxcXCIpfX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmJsYWNrLW9uLXdoaXRlKXsubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1jb21wYXNzIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyOSAyOScgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMwMDAnJTNFJTNDcGF0aCBkPSdNMTAuNSAxNGw0LTggNCA4aC04eicvJTNFJTNDcGF0aCBpZD0nc291dGgnIGQ9J00xMC41IDE2bDQgOCA0LThoLTh6JyBmaWxsPSclMjNjY2MnLyUzRSUzQy9zdmclM0VcXFwiKX19Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzMzMnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlOmRpc2FibGVkIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNhYWEnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBmaWxsPSclMjNmMDAnLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzM2I1ZTUnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvciAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZTU4OTc4JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzM2I1ZTUnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicgZGlzcGxheT0nbm9uZScvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3IgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2U1NGUzMyclM0UlM0NwYXRoIGQ9J00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eicvJTNFJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJyBkaXNwbGF5PSdub25lJy8lM0UlM0NwYXRoIGlkPSdzdHJva2UnIGQ9J00xNCA1bDEgMS05IDktMS0xIDktOXonIGRpc3BsYXk9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtd2FpdGluZyAubWFwYm94Z2wtY3RybC1pY29ue2FuaW1hdGlvbjptYXBib3hnbC1zcGluIDJzIGxpbmVhciBpbmZpbml0ZX1AbWVkaWEgKC1tcy1oaWdoLWNvbnRyYXN0OmFjdGl2ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjNmZmYnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlOmRpc2FibGVkIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjM5OTknJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBmaWxsPSclMjNmMDAnLyUzRSUzQy9zdmclM0VcXFwiKX0ubWFwYm94Z2wtY3RybCBidXR0b24ubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUubWFwYm94Z2wtY3RybC1nZW9sb2NhdGUtYWN0aXZlIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzM2I1ZTUnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWFjdGl2ZS1lcnJvciAubWFwYm94Z2wtY3RybC1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9JzI5JyBoZWlnaHQ9JzI5JyB2aWV3Qm94PScwIDAgMjAgMjAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgZmlsbD0nJTIzZTU4OTc4JyUzRSUzQ3BhdGggZD0nTTEwIDRDOSA0IDkgNSA5IDV2LjFBNSA1IDAgMCAwIDUuMSA5SDVzLTEgMC0xIDEgMSAxIDEgMWguMUE1IDUgMCAwIDAgOSAxNC45di4xczAgMSAxIDEgMS0xIDEtMXYtLjFhNSA1IDAgMCAwIDMuOS0zLjloLjFzMSAwIDEtMS0xLTEtMS0xaC0uMUE1IDUgMCAwIDAgMTEgNS4xVjVzMC0xLTEtMXptMCAyLjVhMy41IDMuNSAwIDEgMSAwIDcgMy41IDMuNSAwIDEgMSAwLTd6Jy8lM0UlM0NjaXJjbGUgaWQ9J2RvdCcgY3g9JzEwJyBjeT0nMTAnIHI9JzInLyUzRSUzQ3BhdGggaWQ9J3N0cm9rZScgZD0nTTE0IDVsMSAxLTkgOS0xLTEgOS05eicgZGlzcGxheT0nbm9uZScvJTNFJTNDL3N2ZyUzRVxcXCIpfS5tYXBib3hnbC1jdHJsIGJ1dHRvbi5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS5tYXBib3hnbC1jdHJsLWdlb2xvY2F0ZS1iYWNrZ3JvdW5kIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMzM2I1ZTUnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicgZGlzcGxheT0nbm9uZScvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlLWJhY2tncm91bmQtZXJyb3IgLm1hcGJveGdsLWN0cmwtaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyOScgaGVpZ2h0PScyOScgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGw9JyUyM2U1NGUzMyclM0UlM0NwYXRoIGQ9J00xMCA0QzkgNCA5IDUgOSA1di4xQTUgNSAwIDAgMCA1LjEgOUg1cy0xIDAtMSAxIDEgMSAxIDFoLjFBNSA1IDAgMCAwIDkgMTQuOXYuMXMwIDEgMSAxIDEtMSAxLTF2LS4xYTUgNSAwIDAgMCAzLjktMy45aC4xczEgMCAxLTEtMS0xLTEtMWgtLjFBNSA1IDAgMCAwIDExIDUuMVY1czAtMS0xLTF6bTAgMi41YTMuNSAzLjUgMCAxIDEgMCA3IDMuNSAzLjUgMCAxIDEgMC03eicvJTNFJTNDY2lyY2xlIGlkPSdkb3QnIGN4PScxMCcgY3k9JzEwJyByPScyJyBkaXNwbGF5PSdub25lJy8lM0UlM0NwYXRoIGlkPSdzdHJva2UnIGQ9J00xNCA1bDEgMS05IDktMS0xIDktOXonIGRpc3BsYXk9J25vbmUnLyUzRSUzQy9zdmclM0VcXFwiKX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjMwMDAnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBkaXNwbGF5PSdub25lJy8lM0UlM0Mvc3ZnJTNFXFxcIil9Lm1hcGJveGdsLWN0cmwgYnV0dG9uLm1hcGJveGdsLWN0cmwtZ2VvbG9jYXRlOmRpc2FibGVkIC5tYXBib3hnbC1jdHJsLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjknIGhlaWdodD0nMjknIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsPSclMjM2NjYnJTNFJTNDcGF0aCBkPSdNMTAgNEM5IDQgOSA1IDkgNXYuMUE1IDUgMCAwIDAgNS4xIDlINXMtMSAwLTEgMSAxIDEgMSAxaC4xQTUgNSAwIDAgMCA5IDE0Ljl2LjFzMCAxIDEgMSAxLTEgMS0xdi0uMWE1IDUgMCAwIDAgMy45LTMuOWguMXMxIDAgMS0xLTEtMS0xLTFoLS4xQTUgNSAwIDAgMCAxMSA1LjFWNXMwLTEtMS0xem0wIDIuNWEzLjUgMy41IDAgMSAxIDAgNyAzLjUgMy41IDAgMSAxIDAtN3onLyUzRSUzQ2NpcmNsZSBpZD0nZG90JyBjeD0nMTAnIGN5PScxMCcgcj0nMicvJTNFJTNDcGF0aCBpZD0nc3Ryb2tlJyBkPSdNMTQgNWwxIDEtOSA5LTEtMSA5LTl6JyBmaWxsPSclMjNmMDAnLyUzRSUzQy9zdmclM0VcXFwiKX19QGtleWZyYW1lcyBtYXBib3hnbC1zcGluezAle3RyYW5zZm9ybTpyb3RhdGUoMGRlZyl9dG97dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fWEubWFwYm94Z2wtY3RybC1sb2dve2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9Jzg4JyBoZWlnaHQ9JzIzJyB2aWV3Qm94PScwIDAgODggMjMnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NkZWZzJTNFJTNDcGF0aCBpZD0nbG9nbycgZD0nTTExLjUgMi4yNWM1LjEwNSAwIDkuMjUgNC4xNDUgOS4yNSA5LjI1cy00LjE0NSA5LjI1LTkuMjUgOS4yNS05LjI1LTQuMTQ1LTkuMjUtOS4yNSA0LjE0NS05LjI1IDkuMjUtOS4yNXpNNi45OTcgMTUuOTgzYy0uMDUxLS4zMzgtLjgyOC01LjgwMiAyLjIzMy04Ljg3M2E0LjM5NSA0LjM5NSAwIDAxMy4xMy0xLjI4YzEuMjcgMCAyLjQ5LjUxIDMuMzkgMS40Mi45MS45IDEuNDIgMi4xMiAxLjQyIDMuMzkgMCAxLjE4LS40NDkgMi4zMDEtMS4yOCAzLjEzQzEyLjcyIDE2LjkzIDcgMTYgNyAxNmwtLjAwMy0uMDE3ek0xNS4zIDEwLjVsLTIgLjgtLjggMi0uOC0yLTItLjggMi0uOC44LTIgLjggMiAyIC44eicvJTNFJTNDcGF0aCBpZD0ndGV4dCcgZD0nTTUwLjYzIDhjLjEzIDAgLjIzLjEuMjMuMjNWOWMuNy0uNzYgMS43LTEuMTggMi43My0xLjE4IDIuMTcgMCAzLjk1IDEuODUgMy45NSA0LjE3cy0xLjc3IDQuMTktMy45NCA0LjE5Yy0xLjA0IDAtMi4wMy0uNDMtMi43NC0xLjE4djMuNzdjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjguMjNjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptLTMuODYuMDFjLjAxIDAgLjAxIDAgLjAxLS4wMS4xMyAwIC4yMi4xLjIyLjIydjcuNTVjMCAuMTItLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjE1Yy0uNy43Ni0xLjY5IDEuMTktMi43MyAxLjE5LTIuMTcgMC0zLjk0LTEuODctMy45NC00LjE5IDAtMi4zMiAxLjc3LTQuMTkgMy45NC00LjE5IDEuMDMgMCAyLjAyLjQzIDIuNzMgMS4xOHYtLjc1YzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bTI2LjM3NS0uMTlhNC4yNCA0LjI0IDAgMDAtNC4xNiAzLjI5Yy0uMTMuNTktLjEzIDEuMTkgMCAxLjc3YTQuMjMzIDQuMjMzIDAgMDA0LjE3IDMuM2MyLjM1IDAgNC4yNi0xLjg3IDQuMjYtNC4xOSAwLTIuMzItMS45LTQuMTctNC4yNy00LjE3ek02MC42MyA1Yy4xMyAwIC4yMy4xLjIzLjIzdjMuNzZjLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAxLjg4IDAgMy40NSAxLjQgMy44NCAzLjI4LjEzLjU5LjEzIDEuMiAwIDEuOC0uMzkgMS44OC0xLjk2IDMuMjktMy44NCAzLjI5LTEuMDMgMC0yLjAyLS40My0yLjczLTEuMTh2Ljc3YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y1LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zNCAxMWgtMS40Yy0uMTMgMC0uMjMtLjExLS4yMy0uMjNWOC4yMmMuMDEtLjEzLjEtLjIyLjIzLS4yMmgxLjRjLjEzIDAgLjIyLjExLjIzLjIydi42OGMuNS0uNjggMS4zLTEuMDkgMi4xNi0xLjFoLjAzYzEuMDkgMCAyLjA5LjYgMi42IDEuNTUuNDUtLjk1IDEuNC0xLjU1IDIuNDQtMS41NiAxLjYyIDAgMi45MyAxLjI1IDIuOSAyLjc4bC4wMyA1LjJjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44IDAtMS40Ni43LTEuNTkgMS42MmwuMDEgNC42OGMwIC4xMy0uMTEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44NSAwLTEuNTQuNzktMS42IDEuOHY0LjVjMCAuMTMtLjEuMjMtLjIzLjIzem01My42MTUgMGgtMS42MWMtLjA0IDAtLjA4LS4wMS0uMTItLjAzLS4wOS0uMDYtLjEzLS4xOS0uMDYtLjI4bDIuNDMtMy43MS0yLjM5LTMuNjVhLjIxMy4yMTMgMCAwMS0uMDMtLjEyYzAtLjEyLjA5LS4yMS4yMS0uMjFoMS42MWMuMTMgMCAuMjQuMDYuMy4xN2wxLjQxIDIuMzcgMS40LTIuMzdhLjM0LjM0IDAgMDEuMy0uMTdoMS42Yy4wNCAwIC4wOC4wMS4xMi4wMy4wOS4wNi4xMy4xOS4wNi4yOGwtMi4zNyAzLjY1IDIuNDMgMy43YzAgLjA1LjAxLjA5LjAxLjEzIDAgLjEyLS4wOS4yMS0uMjEuMjFoLTEuNjFjLS4xMyAwLS4yNC0uMDYtLjMtLjE3bC0xLjQ0LTIuNDItMS40NCAyLjQyYS4zNC4zNCAwIDAxLS4zLjE3em0tNy4xMi0xLjQ5Yy0xLjMzIDAtMi40Mi0xLjEyLTIuNDItMi41MSAwLTEuMzkgMS4wOC0yLjUyIDIuNDItMi41MiAxLjMzIDAgMi40MiAxLjEyIDIuNDIgMi41MSAwIDEuMzktMS4wOCAyLjUxLTIuNDIgMi41MnptLTE5Ljg2NSAwYy0xLjMyIDAtMi4zOS0xLjExLTIuNDItMi40OHYtLjA3Yy4wMi0xLjM4IDEuMDktMi40OSAyLjQtMi40OSAxLjMyIDAgMi40MSAxLjEyIDIuNDEgMi41MSAwIDEuMzktMS4wNyAyLjUyLTIuMzkgMi41M3ptLTguMTEtMi40OGMtLjAxIDEuMzctMS4wOSAyLjQ3LTIuNDEgMi40N3MtMi40Mi0xLjEyLTIuNDItMi41MWMwLTEuMzkgMS4wOC0yLjUyIDIuNC0yLjUyIDEuMzMgMCAyLjM5IDEuMTEgMi40MSAyLjQ4bC4wMi4wOHptMTguMTIgMi40N2MtMS4zMiAwLTIuMzktMS4xMS0yLjQxLTIuNDh2LS4wNmMuMDItMS4zOCAxLjA5LTIuNDggMi40MS0yLjQ4czIuNDIgMS4xMiAyLjQyIDIuNTFjMCAxLjM5LTEuMDkgMi41MS0yLjQyIDIuNTF6Jy8lM0UlM0MvZGVmcyUzRSUzQ21hc2sgaWQ9J2NsaXAnJTNFJTNDcmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMTAwJTI1JyBoZWlnaHQ9JzEwMCUyNScgZmlsbD0nd2hpdGUnLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNsb2dvJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFJTNDL21hc2slM0UlM0NnIGlkPSdvdXRsaW5lJyBvcGFjaXR5PScwLjMnIHN0cm9rZT0nJTIzMDAwJyBzdHJva2Utd2lkdGg9JzMnJTNFJTNDY2lyY2xlIG1hc2s9J3VybCglMjNjbGlwKScgY3g9JzExLjUnIGN5PScxMS41JyByPSc5LjI1Jy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcgbWFzaz0ndXJsKCUyM2NsaXApJy8lM0UlM0MvZyUzRSUzQ2cgaWQ9J2ZpbGwnIG9wYWNpdHk9JzAuOScgZmlsbD0nJTIzZmZmJyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNsb2dvJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIik7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjIzcHg7bWFyZ2luOjAgMCAtNHB4IC00cHg7b3ZlcmZsb3c6aGlkZGVuO3dpZHRoOjg4cHh9YS5tYXBib3hnbC1jdHJsLWxvZ28ubWFwYm94Z2wtY29tcGFjdHt3aWR0aDoyM3B4fUBtZWRpYSAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXthLm1hcGJveGdsLWN0cmwtbG9nb3tiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwlM0Nzdmcgd2lkdGg9Jzg4JyBoZWlnaHQ9JzIzJyB2aWV3Qm94PScwIDAgODggMjMnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgeG1sbnM6eGxpbms9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NkZWZzJTNFJTNDcGF0aCBpZD0nbG9nbycgZD0nTTExLjUgMi4yNWM1LjEwNSAwIDkuMjUgNC4xNDUgOS4yNSA5LjI1cy00LjE0NSA5LjI1LTkuMjUgOS4yNS05LjI1LTQuMTQ1LTkuMjUtOS4yNSA0LjE0NS05LjI1IDkuMjUtOS4yNXpNNi45OTcgMTUuOTgzYy0uMDUxLS4zMzgtLjgyOC01LjgwMiAyLjIzMy04Ljg3M2E0LjM5NSA0LjM5NSAwIDAxMy4xMy0xLjI4YzEuMjcgMCAyLjQ5LjUxIDMuMzkgMS40Mi45MS45IDEuNDIgMi4xMiAxLjQyIDMuMzkgMCAxLjE4LS40NDkgMi4zMDEtMS4yOCAzLjEzQzEyLjcyIDE2LjkzIDcgMTYgNyAxNmwtLjAwMy0uMDE3ek0xNS4zIDEwLjVsLTIgLjgtLjggMi0uOC0yLTItLjggMi0uOC44LTIgLjggMiAyIC44eicvJTNFJTNDcGF0aCBpZD0ndGV4dCcgZD0nTTUwLjYzIDhjLjEzIDAgLjIzLjEuMjMuMjNWOWMuNy0uNzYgMS43LTEuMTggMi43My0xLjE4IDIuMTcgMCAzLjk1IDEuODUgMy45NSA0LjE3cy0xLjc3IDQuMTktMy45NCA0LjE5Yy0xLjA0IDAtMi4wMy0uNDMtMi43NC0xLjE4djMuNzdjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjguMjNjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptLTMuODYuMDFjLjAxIDAgLjAxIDAgLjAxLS4wMS4xMyAwIC4yMi4xLjIyLjIydjcuNTVjMCAuMTItLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjE1Yy0uNy43Ni0xLjY5IDEuMTktMi43MyAxLjE5LTIuMTcgMC0zLjk0LTEuODctMy45NC00LjE5IDAtMi4zMiAxLjc3LTQuMTkgMy45NC00LjE5IDEuMDMgMCAyLjAyLjQzIDIuNzMgMS4xOHYtLjc1YzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bTI2LjM3NS0uMTlhNC4yNCA0LjI0IDAgMDAtNC4xNiAzLjI5Yy0uMTMuNTktLjEzIDEuMTkgMCAxLjc3YTQuMjMzIDQuMjMzIDAgMDA0LjE3IDMuM2MyLjM1IDAgNC4yNi0xLjg3IDQuMjYtNC4xOSAwLTIuMzItMS45LTQuMTctNC4yNy00LjE3ek02MC42MyA1Yy4xMyAwIC4yMy4xLjIzLjIzdjMuNzZjLjctLjc2IDEuNy0xLjE4IDIuNzMtMS4xOCAxLjg4IDAgMy40NSAxLjQgMy44NCAzLjI4LjEzLjU5LjEzIDEuMiAwIDEuOC0uMzkgMS44OC0xLjk2IDMuMjktMy44NCAzLjI5LTEuMDMgMC0yLjAyLS40My0yLjczLTEuMTh2Ljc3YzAgLjEyLS4xLjIzLS4yMy4yM2gtMS40Yy0uMTMgMC0uMjMtLjEtLjIzLS4yM1Y1LjIzYzAtLjEyLjEtLjIzLjIzLS4yM2gxLjR6bS0zNCAxMWgtMS40Yy0uMTMgMC0uMjMtLjExLS4yMy0uMjNWOC4yMmMuMDEtLjEzLjEtLjIyLjIzLS4yMmgxLjRjLjEzIDAgLjIyLjExLjIzLjIydi42OGMuNS0uNjggMS4zLTEuMDkgMi4xNi0xLjFoLjAzYzEuMDkgMCAyLjA5LjYgMi42IDEuNTUuNDUtLjk1IDEuNC0xLjU1IDIuNDQtMS41NiAxLjYyIDAgMi45MyAxLjI1IDIuOSAyLjc4bC4wMyA1LjJjMCAuMTMtLjEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44IDAtMS40Ni43LTEuNTkgMS42MmwuMDEgNC42OGMwIC4xMy0uMTEuMjMtLjIzLjIzaC0xLjQxYy0uMTMgMC0uMjMtLjExLS4yMy0uMjN2LTQuNTljMC0uOTgtLjc0LTEuNzEtMS42Mi0xLjcxLS44NSAwLTEuNTQuNzktMS42IDEuOHY0LjVjMCAuMTMtLjEuMjMtLjIzLjIzem01My42MTUgMGgtMS42MWMtLjA0IDAtLjA4LS4wMS0uMTItLjAzLS4wOS0uMDYtLjEzLS4xOS0uMDYtLjI4bDIuNDMtMy43MS0yLjM5LTMuNjVhLjIxMy4yMTMgMCAwMS0uMDMtLjEyYzAtLjEyLjA5LS4yMS4yMS0uMjFoMS42MWMuMTMgMCAuMjQuMDYuMy4xN2wxLjQxIDIuMzcgMS40LTIuMzdhLjM0LjM0IDAgMDEuMy0uMTdoMS42Yy4wNCAwIC4wOC4wMS4xMi4wMy4wOS4wNi4xMy4xOS4wNi4yOGwtMi4zNyAzLjY1IDIuNDMgMy43YzAgLjA1LjAxLjA5LjAxLjEzIDAgLjEyLS4wOS4yMS0uMjEuMjFoLTEuNjFjLS4xMyAwLS4yNC0uMDYtLjMtLjE3bC0xLjQ0LTIuNDItMS40NCAyLjQyYS4zNC4zNCAwIDAxLS4zLjE3em0tNy4xMi0xLjQ5Yy0xLjMzIDAtMi40Mi0xLjEyLTIuNDItMi41MSAwLTEuMzkgMS4wOC0yLjUyIDIuNDItMi41MiAxLjMzIDAgMi40MiAxLjEyIDIuNDIgMi41MSAwIDEuMzktMS4wOCAyLjUxLTIuNDIgMi41MnptLTE5Ljg2NSAwYy0xLjMyIDAtMi4zOS0xLjExLTIuNDItMi40OHYtLjA3Yy4wMi0xLjM4IDEuMDktMi40OSAyLjQtMi40OSAxLjMyIDAgMi40MSAxLjEyIDIuNDEgMi41MSAwIDEuMzktMS4wNyAyLjUyLTIuMzkgMi41M3ptLTguMTEtMi40OGMtLjAxIDEuMzctMS4wOSAyLjQ3LTIuNDEgMi40N3MtMi40Mi0xLjEyLTIuNDItMi41MWMwLTEuMzkgMS4wOC0yLjUyIDIuNC0yLjUyIDEuMzMgMCAyLjM5IDEuMTEgMi40MSAyLjQ4bC4wMi4wOHptMTguMTIgMi40N2MtMS4zMiAwLTIuMzktMS4xMS0yLjQxLTIuNDh2LS4wNmMuMDItMS4zOCAxLjA5LTIuNDggMi40MS0yLjQ4czIuNDIgMS4xMiAyLjQyIDIuNTFjMCAxLjM5LTEuMDkgMi41MS0yLjQyIDIuNTF6Jy8lM0UlM0MvZGVmcyUzRSUzQ21hc2sgaWQ9J2NsaXAnJTNFJTNDcmVjdCB4PScwJyB5PScwJyB3aWR0aD0nMTAwJTI1JyBoZWlnaHQ9JzEwMCUyNScgZmlsbD0nd2hpdGUnLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNsb2dvJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFJTNDL21hc2slM0UlM0NnIGlkPSdvdXRsaW5lJyBvcGFjaXR5PScxJyBzdHJva2U9JyUyMzAwMCcgc3Ryb2tlLXdpZHRoPSczJyUzRSUzQ2NpcmNsZSBtYXNrPSd1cmwoJTIzY2xpcCknIGN4PScxMS41JyBjeT0nMTEuNScgcj0nOS4yNScvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM3RleHQnIG1hc2s9J3VybCglMjNjbGlwKScvJTNFJTNDL2clM0UlM0NnIGlkPSdmaWxsJyBvcGFjaXR5PScxJyBmaWxsPSclMjNmZmYnJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM2xvZ28nLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjN0ZXh0Jy8lM0UlM0MvZyUzRSUzQy9zdmclM0VcXFwiKX19QG1lZGlhICgtbXMtaGlnaC1jb250cmFzdDpibGFjay1vbi13aGl0ZSl7YS5tYXBib3hnbC1jdHJsLWxvZ297YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nODgnIGhlaWdodD0nMjMnIHZpZXdCb3g9JzAgMCA4OCAyMycgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB4bWxuczp4bGluaz0naHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluaycgZmlsbC1ydWxlPSdldmVub2RkJyUzRSUzQ2RlZnMlM0UlM0NwYXRoIGlkPSdsb2dvJyBkPSdNMTEuNSAyLjI1YzUuMTA1IDAgOS4yNSA0LjE0NSA5LjI1IDkuMjVzLTQuMTQ1IDkuMjUtOS4yNSA5LjI1LTkuMjUtNC4xNDUtOS4yNS05LjI1IDQuMTQ1LTkuMjUgOS4yNS05LjI1ek02Ljk5NyAxNS45ODNjLS4wNTEtLjMzOC0uODI4LTUuODAyIDIuMjMzLTguODczYTQuMzk1IDQuMzk1IDAgMDEzLjEzLTEuMjhjMS4yNyAwIDIuNDkuNTEgMy4zOSAxLjQyLjkxLjkgMS40MiAyLjEyIDEuNDIgMy4zOSAwIDEuMTgtLjQ0OSAyLjMwMS0xLjI4IDMuMTNDMTIuNzIgMTYuOTMgNyAxNiA3IDE2bC0uMDAzLS4wMTd6TTE1LjMgMTAuNWwtMiAuOC0uOCAyLS44LTItMi0uOCAyLS44LjgtMiAuOCAyIDIgLjh6Jy8lM0UlM0NwYXRoIGlkPSd0ZXh0JyBkPSdNNTAuNjMgOGMuMTMgMCAuMjMuMS4yMy4yM1Y5Yy43LS43NiAxLjctMS4xOCAyLjczLTEuMTggMi4xNyAwIDMuOTUgMS44NSAzLjk1IDQuMTdzLTEuNzcgNC4xOS0zLjk0IDQuMTljLTEuMDQgMC0yLjAzLS40My0yLjc0LTEuMTh2My43N2MwIC4xMy0uMS4yMy0uMjMuMjNoLTEuNGMtLjEzIDAtLjIzLS4xLS4yMy0uMjNWOC4yM2MwLS4xMi4xLS4yMy4yMy0uMjNoMS40em0tMy44Ni4wMWMuMDEgMCAuMDEgMCAuMDEtLjAxLjEzIDAgLjIyLjEuMjIuMjJ2Ny41NWMwIC4xMi0uMS4yMy0uMjMuMjNoLTEuNGMtLjEzIDAtLjIzLS4xLS4yMy0uMjNWMTVjLS43Ljc2LTEuNjkgMS4xOS0yLjczIDEuMTktMi4xNyAwLTMuOTQtMS44Ny0zLjk0LTQuMTkgMC0yLjMyIDEuNzctNC4xOSAzLjk0LTQuMTkgMS4wMyAwIDIuMDIuNDMgMi43MyAxLjE4di0uNzVjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptMjYuMzc1LS4xOWE0LjI0IDQuMjQgMCAwMC00LjE2IDMuMjljLS4xMy41OS0uMTMgMS4xOSAwIDEuNzdhNC4yMzMgNC4yMzMgMCAwMDQuMTcgMy4zYzIuMzUgMCA0LjI2LTEuODcgNC4yNi00LjE5IDAtMi4zMi0xLjktNC4xNy00LjI3LTQuMTd6TTYwLjYzIDVjLjEzIDAgLjIzLjEuMjMuMjN2My43NmMuNy0uNzYgMS43LTEuMTggMi43My0xLjE4IDEuODggMCAzLjQ1IDEuNCAzLjg0IDMuMjguMTMuNTkuMTMgMS4yIDAgMS44LS4zOSAxLjg4LTEuOTYgMy4yOS0zLjg0IDMuMjktMS4wMyAwLTIuMDItLjQzLTIuNzMtMS4xOHYuNzdjMCAuMTItLjEuMjMtLjIzLjIzaC0xLjRjLS4xMyAwLS4yMy0uMS0uMjMtLjIzVjUuMjNjMC0uMTIuMS0uMjMuMjMtLjIzaDEuNHptLTM0IDExaC0xLjRjLS4xMyAwLS4yMy0uMTEtLjIzLS4yM1Y4LjIyYy4wMS0uMTMuMS0uMjIuMjMtLjIyaDEuNGMuMTMgMCAuMjIuMTEuMjMuMjJ2LjY4Yy41LS42OCAxLjMtMS4wOSAyLjE2LTEuMWguMDNjMS4wOSAwIDIuMDkuNiAyLjYgMS41NS40NS0uOTUgMS40LTEuNTUgMi40NC0xLjU2IDEuNjIgMCAyLjkzIDEuMjUgMi45IDIuNzhsLjAzIDUuMmMwIC4xMy0uMS4yMy0uMjMuMjNoLTEuNDFjLS4xMyAwLS4yMy0uMTEtLjIzLS4yM3YtNC41OWMwLS45OC0uNzQtMS43MS0xLjYyLTEuNzEtLjggMC0xLjQ2LjctMS41OSAxLjYybC4wMSA0LjY4YzAgLjEzLS4xMS4yMy0uMjMuMjNoLTEuNDFjLS4xMyAwLS4yMy0uMTEtLjIzLS4yM3YtNC41OWMwLS45OC0uNzQtMS43MS0xLjYyLTEuNzEtLjg1IDAtMS41NC43OS0xLjYgMS44djQuNWMwIC4xMy0uMS4yMy0uMjMuMjN6bTUzLjYxNSAwaC0xLjYxYy0uMDQgMC0uMDgtLjAxLS4xMi0uMDMtLjA5LS4wNi0uMTMtLjE5LS4wNi0uMjhsMi40My0zLjcxLTIuMzktMy42NWEuMjEzLjIxMyAwIDAxLS4wMy0uMTJjMC0uMTIuMDktLjIxLjIxLS4yMWgxLjYxYy4xMyAwIC4yNC4wNi4zLjE3bDEuNDEgMi4zNyAxLjQtMi4zN2EuMzQuMzQgMCAwMS4zLS4xN2gxLjZjLjA0IDAgLjA4LjAxLjEyLjAzLjA5LjA2LjEzLjE5LjA2LjI4bC0yLjM3IDMuNjUgMi40MyAzLjdjMCAuMDUuMDEuMDkuMDEuMTMgMCAuMTItLjA5LjIxLS4yMS4yMWgtMS42MWMtLjEzIDAtLjI0LS4wNi0uMy0uMTdsLTEuNDQtMi40Mi0xLjQ0IDIuNDJhLjM0LjM0IDAgMDEtLjMuMTd6bS03LjEyLTEuNDljLTEuMzMgMC0yLjQyLTEuMTItMi40Mi0yLjUxIDAtMS4zOSAxLjA4LTIuNTIgMi40Mi0yLjUyIDEuMzMgMCAyLjQyIDEuMTIgMi40MiAyLjUxIDAgMS4zOS0xLjA4IDIuNTEtMi40MiAyLjUyem0tMTkuODY1IDBjLTEuMzIgMC0yLjM5LTEuMTEtMi40Mi0yLjQ4di0uMDdjLjAyLTEuMzggMS4wOS0yLjQ5IDIuNC0yLjQ5IDEuMzIgMCAyLjQxIDEuMTIgMi40MSAyLjUxIDAgMS4zOS0xLjA3IDIuNTItMi4zOSAyLjUzem0tOC4xMS0yLjQ4Yy0uMDEgMS4zNy0xLjA5IDIuNDctMi40MSAyLjQ3cy0yLjQyLTEuMTItMi40Mi0yLjUxYzAtMS4zOSAxLjA4LTIuNTIgMi40LTIuNTIgMS4zMyAwIDIuMzkgMS4xMSAyLjQxIDIuNDhsLjAyLjA4em0xOC4xMiAyLjQ3Yy0xLjMyIDAtMi4zOS0xLjExLTIuNDEtMi40OHYtLjA2Yy4wMi0xLjM4IDEuMDktMi40OCAyLjQxLTIuNDhzMi40MiAxLjEyIDIuNDIgMi41MWMwIDEuMzktMS4wOSAyLjUxLTIuNDIgMi41MXonLyUzRSUzQy9kZWZzJTNFJTNDbWFzayBpZD0nY2xpcCclM0UlM0NyZWN0IHg9JzAnIHk9JzAnIHdpZHRoPScxMDAlMjUnIGhlaWdodD0nMTAwJTI1JyBmaWxsPSd3aGl0ZScvJTNFJTNDdXNlIHhsaW5rOmhyZWY9JyUyM2xvZ28nLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjN0ZXh0Jy8lM0UlM0MvbWFzayUzRSUzQ2cgaWQ9J291dGxpbmUnIG9wYWNpdHk9JzEnIHN0cm9rZT0nJTIzZmZmJyBzdHJva2Utd2lkdGg9JzMnIGZpbGw9JyUyM2ZmZiclM0UlM0NjaXJjbGUgbWFzaz0ndXJsKCUyM2NsaXApJyBjeD0nMTEuNScgY3k9JzExLjUnIHI9JzkuMjUnLyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjN0ZXh0JyBtYXNrPSd1cmwoJTIzY2xpcCknLyUzRSUzQy9nJTNFJTNDZyBpZD0nZmlsbCcgb3BhY2l0eT0nMScgZmlsbD0nJTIzMDAwJyUzRSUzQ3VzZSB4bGluazpocmVmPSclMjNsb2dvJy8lM0UlM0N1c2UgeGxpbms6aHJlZj0nJTIzdGV4dCcvJTNFJTNDL2clM0UlM0Mvc3ZnJTNFXFxcIil9fS5tYXBib3hnbC1jdHJsLm1hcGJveGdsLWN0cmwtYXR0cmlie2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsLjUpO21hcmdpbjowO3BhZGRpbmc6MCA1cHh9QG1lZGlhIHNjcmVlbnsubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdHtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7Ym9yZGVyLXJhZGl1czoxMnB4O21hcmdpbjoxMHB4O21pbi1oZWlnaHQ6MjBweDtwYWRkaW5nOjJweCAyNHB4IDJweCAwO3Bvc2l0aW9uOnJlbGF0aXZlfS5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0LXNob3d7cGFkZGluZzoycHggMjhweCAycHggOHB4O3Zpc2liaWxpdHk6dmlzaWJsZX0ubWFwYm94Z2wtY3RybC1ib3R0b20tbGVmdD4ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdC1zaG93LC5tYXBib3hnbC1jdHJsLXRvcC1sZWZ0Pi5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0LXNob3d7Ym9yZGVyLXJhZGl1czoxMnB4O3BhZGRpbmc6MnB4IDhweCAycHggMjhweH0ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdCAubWFwYm94Z2wtY3RybC1hdHRyaWItaW5uZXJ7ZGlzcGxheTpub25lfS5tYXBib3hnbC1jdHJsLWF0dHJpYi1idXR0b257YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuNSk7YmFja2dyb3VuZC1pbWFnZTp1cmwoXFxcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCUzQ3N2ZyB3aWR0aD0nMjQnIGhlaWdodD0nMjQnIHZpZXdCb3g9JzAgMCAyMCAyMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyBmaWxsLXJ1bGU9J2V2ZW5vZGQnJTNFJTNDcGF0aCBkPSdNNCAxMGE2IDYgMCAxIDAgMTIgMCA2IDYgMCAxIDAtMTIgMG01LTNhMSAxIDAgMSAwIDIgMCAxIDEgMCAxIDAtMiAwbTAgM2ExIDEgMCAxIDEgMiAwdjNhMSAxIDAgMSAxLTIgMCcvJTNFJTNDL3N2ZyUzRVxcXCIpO2JvcmRlcjowO2JvcmRlci1yYWRpdXM6MTJweDtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y3Vyc29yOnBvaW50ZXI7ZGlzcGxheTpub25lO2hlaWdodDoyNHB4O291dGxpbmU6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO3RvcDowO3dpZHRoOjI0cHh9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQgLm1hcGJveGdsLWN0cmwtYXR0cmliLWJ1dHRvbiwubWFwYm94Z2wtY3RybC10b3AtbGVmdCAubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9ue2xlZnQ6MH0ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdCAubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9uLC5tYXBib3hnbC1jdHJsLWF0dHJpYi5tYXBib3hnbC1jb21wYWN0LXNob3cgLm1hcGJveGdsLWN0cmwtYXR0cmliLWlubmVye2Rpc3BsYXk6YmxvY2t9Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Qtc2hvdyAubWFwYm94Z2wtY3RybC1hdHRyaWItYnV0dG9ue2JhY2tncm91bmQtY29sb3I6cmdiKDAgMCAwLzUlKX0ubWFwYm94Z2wtY3RybC1ib3R0b20tcmlnaHQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7Ym90dG9tOjA7cmlnaHQ6MH0ubWFwYm94Z2wtY3RybC10b3AtcmlnaHQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7cmlnaHQ6MDt0b3A6MH0ubWFwYm94Z2wtY3RybC10b3AtbGVmdD4ubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdDphZnRlcntsZWZ0OjA7dG9wOjB9Lm1hcGJveGdsLWN0cmwtYm90dG9tLWxlZnQ+Lm1hcGJveGdsLWN0cmwtYXR0cmliLm1hcGJveGdsLWNvbXBhY3Q6YWZ0ZXJ7Ym90dG9tOjA7bGVmdDowfX1AbWVkaWEgc2NyZWVuIGFuZCAoLW1zLWhpZ2gtY29udHJhc3Q6YWN0aXZlKXsubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdDphZnRlcntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGwtcnVsZT0nZXZlbm9kZCcgZmlsbD0nJTIzZmZmJyUzRSUzQ3BhdGggZD0nTTQgMTBhNiA2IDAgMSAwIDEyIDAgNiA2IDAgMSAwLTEyIDBtNS0zYTEgMSAwIDEgMCAyIDAgMSAxIDAgMSAwLTIgMG0wIDNhMSAxIDAgMSAxIDIgMHYzYTEgMSAwIDEgMS0yIDAnLyUzRSUzQy9zdmclM0VcXFwiKX19QG1lZGlhIHNjcmVlbiBhbmQgKC1tcy1oaWdoLWNvbnRyYXN0OmJsYWNrLW9uLXdoaXRlKXsubWFwYm94Z2wtY3RybC1hdHRyaWIubWFwYm94Z2wtY29tcGFjdDphZnRlcntiYWNrZ3JvdW5kLWltYWdlOnVybChcXFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsJTNDc3ZnIHdpZHRoPScyNCcgaGVpZ2h0PScyNCcgdmlld0JveD0nMCAwIDIwIDIwJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIGZpbGwtcnVsZT0nZXZlbm9kZCclM0UlM0NwYXRoIGQ9J000IDEwYTYgNiAwIDEgMCAxMiAwIDYgNiAwIDEgMC0xMiAwbTUtM2ExIDEgMCAxIDAgMiAwIDEgMSAwIDEgMC0yIDBtMCAzYTEgMSAwIDEgMSAyIDB2M2ExIDEgMCAxIDEtMiAwJy8lM0UlM0Mvc3ZnJTNFXFxcIil9fS5tYXBib3hnbC1jdHJsLWF0dHJpYiBhe2NvbG9yOnJnYmEoMCwwLDAsLjc1KTt0ZXh0LWRlY29yYXRpb246bm9uZX0ubWFwYm94Z2wtY3RybC1hdHRyaWIgYTpob3Zlcntjb2xvcjppbmhlcml0O3RleHQtZGVjb3JhdGlvbjp1bmRlcmxpbmV9Lm1hcGJveGdsLWN0cmwtYXR0cmliIC5tYXBib3gtaW1wcm92ZS1tYXB7Zm9udC13ZWlnaHQ6NzAwO21hcmdpbi1sZWZ0OjJweH0ubWFwYm94Z2wtYXR0cmliLWVtcHR5e2Rpc3BsYXk6bm9uZX0ubWFwYm94Z2wtY3RybC1zY2FsZXtiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMCwwJSwxMDAlLC43NSk7Ym9yZGVyOjJweCBzb2xpZCAjMzMzO2JvcmRlci10b3A6IzMzMztib3gtc2l6aW5nOmJvcmRlci1ib3g7Y29sb3I6IzMzMztmb250LXNpemU6MTBweDtwYWRkaW5nOjAgNXB4O3doaXRlLXNwYWNlOm5vd3JhcH0ubWFwYm94Z2wtcG9wdXB7ZGlzcGxheTpmbGV4O2xlZnQ6MDtwb2ludGVyLWV2ZW50czpub25lO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcCwubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1sZWZ0LC5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLXJpZ2h0e2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbSwubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbS1sZWZ0LC5tYXBib3hnbC1wb3B1cC1hbmNob3ItYm90dG9tLXJpZ2h0e2ZsZXgtZGlyZWN0aW9uOmNvbHVtbi1yZXZlcnNlfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItbGVmdHtmbGV4LWRpcmVjdGlvbjpyb3d9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1yaWdodHtmbGV4LWRpcmVjdGlvbjpyb3ctcmV2ZXJzZX0ubWFwYm94Z2wtcG9wdXAtdGlwe2JvcmRlcjoxMHB4IHNvbGlkIHRyYW5zcGFyZW50O2hlaWdodDowO3dpZHRoOjA7ei1pbmRleDoxfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wIC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpjZW50ZXI7Ym9yZGVyLWJvdHRvbS1jb2xvcjojZmZmO2JvcmRlci10b3A6bm9uZX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1sZWZ0IC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpmbGV4LXN0YXJ0O2JvcmRlci1ib3R0b20tY29sb3I6I2ZmZjtib3JkZXItbGVmdDpub25lO2JvcmRlci10b3A6bm9uZX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXRvcC1yaWdodCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6ZmxleC1lbmQ7Ym9yZGVyLWJvdHRvbS1jb2xvcjojZmZmO2JvcmRlci1yaWdodDpub25lO2JvcmRlci10b3A6bm9uZX0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLWJvdHRvbSAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6Y2VudGVyO2JvcmRlci1ib3R0b206bm9uZTtib3JkZXItdG9wLWNvbG9yOiNmZmZ9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tbGVmdCAubWFwYm94Z2wtcG9wdXAtdGlwe2FsaWduLXNlbGY6ZmxleC1zdGFydDtib3JkZXItYm90dG9tOm5vbmU7Ym9yZGVyLWxlZnQ6bm9uZTtib3JkZXItdG9wLWNvbG9yOiNmZmZ9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tcmlnaHQgLm1hcGJveGdsLXBvcHVwLXRpcHthbGlnbi1zZWxmOmZsZXgtZW5kO2JvcmRlci1ib3R0b206bm9uZTtib3JkZXItcmlnaHQ6bm9uZTtib3JkZXItdG9wLWNvbG9yOiNmZmZ9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1sZWZ0IC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpjZW50ZXI7Ym9yZGVyLWxlZnQ6bm9uZTtib3JkZXItcmlnaHQtY29sb3I6I2ZmZn0ubWFwYm94Z2wtcG9wdXAtYW5jaG9yLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC10aXB7YWxpZ24tc2VsZjpjZW50ZXI7Ym9yZGVyLWxlZnQtY29sb3I6I2ZmZjtib3JkZXItcmlnaHQ6bm9uZX0ubWFwYm94Z2wtcG9wdXAtY2xvc2UtYnV0dG9ue2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyOjA7Ym9yZGVyLXJhZGl1czowIDNweCAwIDA7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt0b3A6MH0ubWFwYm94Z2wtcG9wdXAtY2xvc2UtYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6cmdiKDAgMCAwLzUlKX0ubWFwYm94Z2wtcG9wdXAtY29udGVudHtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyLXJhZGl1czozcHg7Ym94LXNoYWRvdzowIDFweCAycHggcmdiYSgwLDAsMCwuMSk7cGFkZGluZzoxMHB4IDEwcHggMTVweDtwb2ludGVyLWV2ZW50czphdXRvO3Bvc2l0aW9uOnJlbGF0aXZlfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLWxlZnQgLm1hcGJveGdsLXBvcHVwLWNvbnRlbnR7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowfS5tYXBib3hnbC1wb3B1cC1hbmNob3ItdG9wLXJpZ2h0IC5tYXBib3hnbC1wb3B1cC1jb250ZW50e2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjB9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tbGVmdCAubWFwYm94Z2wtcG9wdXAtY29udGVudHtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9Lm1hcGJveGdsLXBvcHVwLWFuY2hvci1ib3R0b20tcmlnaHQgLm1hcGJveGdsLXBvcHVwLWNvbnRlbnR7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MH0ubWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlcntkaXNwbGF5Om5vbmV9Lm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXIgKntwb2ludGVyLWV2ZW50czpub25lO3VzZXItc2VsZWN0Om5vbmV9Lm1hcGJveGdsLW1hcDpob3ZlciAubWFwYm94Z2wtcG9wdXAtdHJhY2stcG9pbnRlcntkaXNwbGF5OmZsZXh9Lm1hcGJveGdsLW1hcDphY3RpdmUgLm1hcGJveGdsLXBvcHVwLXRyYWNrLXBvaW50ZXJ7ZGlzcGxheTpub25lfS5tYXBib3hnbC1tYXJrZXJ7bGVmdDowO29wYWNpdHk6MTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzO3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3QsLm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90OmJlZm9yZXtiYWNrZ3JvdW5kLWNvbG9yOiMxZGExZjI7Ym9yZGVyLXJhZGl1czo1MCU7aGVpZ2h0OjE1cHg7d2lkdGg6MTVweH0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Q6YmVmb3Jle2FuaW1hdGlvbjptYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdC1wdWxzZSAycyBpbmZpbml0ZTtjb250ZW50OlxcXCJcXFwiO3Bvc2l0aW9uOmFic29sdXRlfS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWRvdDphZnRlcntib3JkZXI6MnB4IHNvbGlkICNmZmY7Ym9yZGVyLXJhZGl1czo1MCU7Ym94LXNoYWRvdzowIDAgM3B4IHJnYmEoMCwwLDAsLjM1KTtib3gtc2l6aW5nOmJvcmRlci1ib3g7Y29udGVudDpcXFwiXFxcIjtoZWlnaHQ6MTlweDtsZWZ0Oi0ycHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOi0ycHg7d2lkdGg6MTlweH0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcgLm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZ3toZWlnaHQ6MDt3aWR0aDowfS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZyAubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1oZWFkaW5nOmFmdGVyLC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLXNob3ctaGVhZGluZyAubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1oZWFkaW5nOmJlZm9yZXtib3JkZXItYm90dG9tOjcuNXB4IHNvbGlkICM0YWExZWI7Y29udGVudDpcXFwiXFxcIjtwb3NpdGlvbjphYnNvbHV0ZX0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1zaG93LWhlYWRpbmcgLm1hcGJveGdsLXVzZXItbG9jYXRpb24taGVhZGluZzpiZWZvcmV7Ym9yZGVyLWxlZnQ6Ny41cHggc29saWQgdHJhbnNwYXJlbnQ7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTI4cHgpIHNrZXdZKC0yMGRlZyl9Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tc2hvdy1oZWFkaW5nIC5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWhlYWRpbmc6YWZ0ZXJ7Ym9yZGVyLXJpZ2h0OjcuNXB4IHNvbGlkIHRyYW5zcGFyZW50O3RyYW5zZm9ybTp0cmFuc2xhdGUoNy41cHgsLTI4cHgpIHNrZXdZKDIwZGVnKX1Aa2V5ZnJhbWVzIG1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXB1bHNlezAle29wYWNpdHk6MTt0cmFuc2Zvcm06c2NhbGUoMSl9NzAle29wYWNpdHk6MDt0cmFuc2Zvcm06c2NhbGUoMyl9dG97b3BhY2l0eTowO3RyYW5zZm9ybTpzY2FsZSgxKX19Lm1hcGJveGdsLXVzZXItbG9jYXRpb24tZG90LXN0YWxle2JhY2tncm91bmQtY29sb3I6I2FhYX0ubWFwYm94Z2wtdXNlci1sb2NhdGlvbi1kb3Qtc3RhbGU6YWZ0ZXJ7ZGlzcGxheTpub25lfS5tYXBib3hnbC11c2VyLWxvY2F0aW9uLWFjY3VyYWN5LWNpcmNsZXtiYWNrZ3JvdW5kLWNvbG9yOiMxZGExZjIzMztib3JkZXItcmFkaXVzOjEwMCU7aGVpZ2h0OjFweDt3aWR0aDoxcHh9Lm1hcGJveGdsLWNyb3NzaGFpciwubWFwYm94Z2wtY3Jvc3NoYWlyIC5tYXBib3hnbC1pbnRlcmFjdGl2ZSwubWFwYm94Z2wtY3Jvc3NoYWlyIC5tYXBib3hnbC1pbnRlcmFjdGl2ZTphY3RpdmV7Y3Vyc29yOmNyb3NzaGFpcn0ubWFwYm94Z2wtYm94em9vbXtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyOjJweCBkb3R0ZWQgIzIwMjAyMDtoZWlnaHQ6MDtsZWZ0OjA7b3BhY2l0eTouNTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt3aWR0aDowfUBtZWRpYSBwcmludHsubWFwYm94LWltcHJvdmUtbWFwe2Rpc3BsYXk6bm9uZX19Lm1hcGJveGdsLXNjcm9sbC16b29tLWJsb2NrZXIsLm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2Vye2FsaWduLWl0ZW1zOmNlbnRlcjtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsLjcpO2NvbG9yOiNmZmY7ZGlzcGxheTpmbGV4O2ZvbnQtZmFtaWx5Oi1hcHBsZS1zeXN0ZW0sQmxpbmtNYWNTeXN0ZW1Gb250LFNlZ29lIFVJLEhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmO2hlaWdodDoxMDAlO2p1c3RpZnktY29udGVudDpjZW50ZXI7bGVmdDowO29wYWNpdHk6MDtwb2ludGVyLWV2ZW50czpub25lO3Bvc2l0aW9uOmFic29sdXRlO3RleHQtYWxpZ246Y2VudGVyO3RvcDowO3RyYW5zaXRpb246b3BhY2l0eSAuNzVzIGVhc2UtaW4tb3V0O3RyYW5zaXRpb24tZGVsYXk6MXM7d2lkdGg6MTAwJX0ubWFwYm94Z2wtc2Nyb2xsLXpvb20tYmxvY2tlci1zaG93LC5tYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1zaG93e29wYWNpdHk6MTt0cmFuc2l0aW9uOm9wYWNpdHkgLjFzIGVhc2UtaW4tb3V0fS5tYXBib3hnbC1jYW52YXMtY29udGFpbmVyLm1hcGJveGdsLXRvdWNoLXBhbi1ibG9ja2VyLW92ZXJyaWRlLm1hcGJveGdsLXNjcm9sbGFibGUtcGFnZSwubWFwYm94Z2wtY2FudmFzLWNvbnRhaW5lci5tYXBib3hnbC10b3VjaC1wYW4tYmxvY2tlci1vdmVycmlkZS5tYXBib3hnbC1zY3JvbGxhYmxlLXBhZ2UgLm1hcGJveGdsLWNhbnZhc3t0b3VjaC1hY3Rpb246cGFuLXggcGFuLXl9XCIsXCJcIl0pfV1dKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9